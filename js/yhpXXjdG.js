const _0x40a6e4=(function(){let _0x1a383e=!![];return function(_0x20d457,_0x2bb665){const _0xa43642=_0x1a383e?function(){if(_0x2bb665){const _0x5a2a21=_0x2bb665['apply'](_0x20d457,arguments);return _0x2bb665=null,_0x5a2a21;}}:function(){};return _0x1a383e=![],_0xa43642;};}()),_0x71316e=_0x40a6e4(this,function(){return _0x71316e['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x71316e)['search']('(((.+)+)+)'+'+$');});_0x71316e();const _0x1622bd=(function(){let _0x1671a4=!![];return function(_0x5988bd,_0x1ba5b9){const _0x78bd59=_0x1671a4?function(){if(_0x1ba5b9){const _0x1db0cf=_0x1ba5b9['apply'](_0x5988bd,arguments);return _0x1ba5b9=null,_0x1db0cf;}}:function(){};return _0x1671a4=![],_0x78bd59;};}());(function(){_0x1622bd(this,function(){const _0x2e8016=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x3593b1=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x36e65a=_0x5d9df5('init');!_0x2e8016['test'](_0x36e65a+'chain')||!_0x3593b1['test'](_0x36e65a+'input')?_0x36e65a('0'):_0x5d9df5();})();}());const _0x4aadfc=(function(){let _0xbc7ea4=!![];return function(_0x45326a,_0x1eafb8){const _0x3b00c4=_0xbc7ea4?function(){if(_0x1eafb8){const _0x392fa0=_0x1eafb8['apply'](_0x45326a,arguments);return _0x1eafb8=null,_0x392fa0;}}:function(){};return _0xbc7ea4=![],_0x3b00c4;};}()),_0x3ed8ec=_0x4aadfc(this,function(){let _0x29442c;try{const _0xcfa6e1=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x29442c=_0xcfa6e1();}catch(_0x132cfe){_0x29442c=window;}const _0x235d06=_0x29442c['console']=_0x29442c['console']||{},_0x48d2dd=['log','warn','info','error','exception','table','trace'];for(let _0x52b82d=-0x1154+-0x1535+0x2689;_0x52b82d<_0x48d2dd['length'];_0x52b82d++){const _0x11ef87=_0x4aadfc['constructo'+'r']['prototype']['bind'](_0x4aadfc),_0x1b4ca3=_0x48d2dd[_0x52b82d],_0x3441ea=_0x235d06[_0x1b4ca3]||_0x11ef87;_0x11ef87['__proto__']=_0x4aadfc['bind'](_0x4aadfc),_0x11ef87['toString']=_0x3441ea['toString']['bind'](_0x3441ea),_0x235d06[_0x1b4ca3]=_0x11ef87;}});_0x3ed8ec();var qx=Object['defineProp'+'erty'],Xx=(_0x49c413,_0x15aa7e,_0x146f8a)=>_0x15aa7e in _0x49c413?qx(_0x49c413,_0x15aa7e,{'enumerable':!(0xb13+-0x2c1+0x47*-0x1e),'configurable':!(0x51a+0x277*0x4+-0xef6),'writable':!(0x1337*0x1+-0x12d6+-0x61),'value':_0x146f8a}):_0x49c413[_0x15aa7e]=_0x146f8a,c=(_0x1900f2,_0x528ad3,_0x38ccbd)=>Xx(_0x1900f2,typeof _0x528ad3!='symbol'?_0x528ad3+'':_0x528ad3,_0x38ccbd);const jx='RenderFram'+'e',td='RenderFram'+'eTime',jp='RenderPass',Jn='RenderPass'+'Detail',pl='RenderActi'+'on',Yp='RenderTarg'+'etAlloc',Kp='TextureAll'+'oc',Zp='ShaderAllo'+'c',Yx='ShaderComp'+'ile',Kx='VRAM.Textu'+'re',Zx='VRAM.Vb',Qx='VRAM.Ib',Jx='BindGroupA'+'lloc',eS='BindGroupF'+'ormatAlloc',Ss='Element',tS='Textures',ml='GpuTimings',no='$_CURRENT_'+'SDK_VERSIO'+'N',sy='$_CURRENT_'+'SDK_REVISI'+'ON';function vh(_0x230e69,_0x1be5e2){for(const _0x22960c in _0x1be5e2){const _0x20b5d2=_0x1be5e2[_0x22960c];Array['isArray'](_0x20b5d2)?_0x230e69[_0x22960c]=vh([],_0x20b5d2):_0x20b5d2&&typeof _0x20b5d2=='object'?_0x230e69[_0x22960c]=vh({},_0x20b5d2):_0x230e69[_0x22960c]=_0x20b5d2;}return _0x230e69;}const sS={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x444cc4=>{const _0x3c3241=Math['random']()*(-0x1*0xe4b+0x2179+-0x131e*0x1)|-0xe*-0x39+-0x1*-0x361+-0x67f;return(_0x444cc4==='x'?_0x3c3241:_0x3c3241&-0xc4*0x2+-0x1381+0xa86*0x2|-0x25ad+-0x6e5*-0x5+-0x6*-0x8a)['toString'](-0xdde+0xc3*-0xb+0x164f);});}},fe={'delimiter':'/','join'(..._0x141ab9){let _0x19eabb=_0x141ab9[-0xed*0x7+0x1a43+-0x13c8];for(let _0xb1339=-0x160c*0x1+0x26b1+-0x10a5;_0xb1339<_0x141ab9['length']-(0xc82+-0xbf*-0xd+-0x1634);_0xb1339++){const _0x449771=_0x141ab9[_0xb1339],_0x58a949=_0x141ab9[_0xb1339+(-0x1*0x2659+-0x1f0*-0xb+-0x2d7*-0x6)];if(_0x58a949[-0x2c+-0xdcd*0x1+0x49*0x31]===fe['delimiter']){_0x19eabb=_0x58a949;continue;}_0x449771&&_0x58a949&&_0x449771[_0x449771['length']-(-0x1f7c+-0x1efc+-0x6f1*-0x9)]!==fe['delimiter']&&_0x58a949[-0x1*-0x1442+-0x19b6+0x574]!==fe['delimiter']?_0x19eabb+=fe['delimiter']+_0x58a949:_0x19eabb+=_0x58a949;}return _0x19eabb;},'normalize'(_0x1a01b8){const _0x430afc=_0x1a01b8['startsWith'](fe['delimiter']),_0x2707b6=_0x1a01b8['endsWith'](fe['delimiter']),_0x1f0ba1=_0x1a01b8['split']('/');let _0x56464a='',_0x558e49=[];for(let _0x529dcd=0x159+0x1156+0x1*-0x12af;_0x529dcd<_0x1f0ba1['length'];_0x529dcd++)if(_0x1f0ba1[_0x529dcd]!==''&&_0x1f0ba1[_0x529dcd]!=='.'){if(_0x1f0ba1[_0x529dcd]==='..'&&_0x558e49['length']>0xe74+-0x73b+-0x739){_0x558e49=_0x558e49['slice'](-0xa93*-0x1+-0x6*0x530+0x148d,_0x558e49['length']-(-0x183c+-0xe*0xae+0x21c2));continue;}_0x529dcd>0x312*0x8+-0xe34+0x297*-0x4&&_0x558e49['push'](fe['delimiter']),_0x558e49['push'](_0x1f0ba1[_0x529dcd]);}return _0x56464a=_0x558e49['join'](''),!_0x430afc&&_0x56464a[-0xa*0x3d7+0x20*0x133+0x6]===fe['delimiter']&&(_0x56464a=_0x56464a['slice'](0x1*-0x9d+0x1*0x1c37+-0x1b99)),_0x2707b6&&_0x56464a[_0x56464a['length']-(0x19bf+-0x1*0x10e8+0x27*-0x3a)]!==fe['delimiter']&&(_0x56464a+=fe['delimiter']),_0x56464a;},'split'(_0x173d11){const _0x266cb1=_0x173d11['lastIndexO'+'f'](fe['delimiter']);return _0x266cb1!==-(0x1866+0xaa*-0x35+0x4f*0x23)?[_0x173d11['substring'](0x2*-0x112e+-0x19f*-0x5+0x1a41,_0x266cb1),_0x173d11['substring'](_0x266cb1+(-0xa69*-0x1+-0x1193+0x5*0x16f))]:['',_0x173d11];},'getBasename'(_0x4fafce){return fe['split'](_0x4fafce)[-0xc*-0x1de+0xd*-0xad+-0xd9e];},'getDirectory'(_0x237e1d){return fe['split'](_0x237e1d)[0x9*-0x277+0x251c+-0x1*0xeed];},'getExtension'(_0x149e45){const _0xe53ca1=_0x149e45['split']('?')[0xaea+-0x15c2*0x1+-0xad8*-0x1]['split']('.')['pop']();return _0xe53ca1!==_0x149e45?'.'+_0xe53ca1:'';},'isRelativePath'(_0x21ea91){return _0x21ea91['charAt'](-0xeae+0xded+0xc1)!=='/'&&_0x21ea91['match'](/:\/\//)===null;},'extractPath'(_0x10d8b4){let _0x237d72='';const _0x3e9aac=_0x10d8b4['split']('/');let _0x1d2e65=-0xb2a*-0x2+-0xcf*-0x29+-0x377b;if(_0x3e9aac['length']>0x7*-0x32+-0xd*0x182+0x14f9){if(fe['isRelative'+'Path'](_0x10d8b4)){if(_0x3e9aac[-0x19bf+0x6*0x2e6+0x85b]==='.'){for(_0x1d2e65=-0x17c8+-0x1*-0xf+0x17b9;_0x1d2e65<_0x3e9aac['length']-(0x13e8+-0x26fe+-0x1317*-0x1);++_0x1d2e65)_0x237d72+=_0x1d2e65===-0x13bc+0x313+0x355*0x5?_0x3e9aac[_0x1d2e65]:'/'+_0x3e9aac[_0x1d2e65];}else{if(_0x3e9aac[-0xf2a+0x457*-0x5+0x24dd]==='..'){for(_0x1d2e65=0xba3+-0x2ef*0x7+0x8e6;_0x1d2e65<_0x3e9aac['length']-(0x1dcb*-0x1+-0x11ec*-0x2+0x81*-0xc);++_0x1d2e65)_0x237d72+=_0x1d2e65===-0x35*0x65+-0xf4f+-0x3d*-0x98?_0x3e9aac[_0x1d2e65]:'/'+_0x3e9aac[_0x1d2e65];}else{for(_0x237d72='.',_0x1d2e65=-0x1*0x10cb+0x35*-0x42+0x1e75;_0x1d2e65<_0x3e9aac['length']-(-0x1542+0xfa3+0x5a0);++_0x1d2e65)_0x237d72+='/'+_0x3e9aac[_0x1d2e65];}}}else{for(_0x1d2e65=0xb54*0x1+-0x1695+0xb41;_0x1d2e65<_0x3e9aac['length']-(0x1*0x1693+0x4e*-0x52+0x26a);++_0x1d2e65)_0x237d72+=_0x1d2e65===0x3fb+0x1*-0x2b6+-0x145?_0x3e9aac[_0x1d2e65]:'/'+_0x3e9aac[_0x1d2e65];}}return _0x237d72;}},iS=()=>{let _0x2f3e9c=!(0x358+0x13c0+0x101*-0x17);try{const _0x21b7df=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x2f3e9c=!(0x22f9+-0x9f7*0x1+-0x1902),!(0x69d*-0x3+-0x953+-0x83*-0x39);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x21b7df),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x21b7df);}catch{}return _0x2f3e9c;},xi=typeof navigator<'u'?navigator['userAgent']:'',bh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Qp=/android/i['test'](xi)?'android':/ip(?:[ao]d|hone)/i['test'](xi)?'ios':/windows/i['test'](xi)?'windows':/mac os/i['test'](xi)?'osx':/linux/i['test'](xi)?'linux':/cros/i['test'](xi)?'cros':null,rS=bh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](xi)?'chrome':/Safari\//['test'](xi)?'safari':/Firefox\//['test'](xi)?'firefox':'other',nS=bh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>-0x1999+-0xd49+-0xcf6*-0x3),aS=iS(),ye={'name':Qp,'browser':bh==='browser','worker':bh==='worker','android':Qp==='android','touch':nS,'passiveEvents':aS,'browserName':rS},iy='abcdefghij'+'klmnopqrst'+'uvwxyz',ry='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',oS=iy+ry,ou=0xa6f*0x10+0xd6a8*0x1+0x1c*-0x5ea,ny=0x5*0x49ff+0x1*-0x72fd+0x20f*-0x11,Jp=0x3d42*-0x6+0x1*-0xb151+-0x1*-0x2fcdd,lS=-0xa069+0x32*-0x3f6+0x24674,hS=-0x1*0x2335+-0x3bfa+0x7f3c*0x1,em=-0x1*0x21683+-0x39841+0x1*0x7a0aa,tm=-0x191aa+0x339ec+-0x1b7*-0x2b,cS=0x8e7f*0x5+0xa*-0x3388+0xf*0x1430,dS=0x2a79d+0x1d0b7+-0x28455,uS=-0x2*-0x722+-0x1479+0x2705,fS=0x1a2d+0x2202+0x488*-0x6,lu=0x1*-0x5e7d+0xcd8d*0x2+-0x3e9d,hu=-0x1bb1e+0x188b8+-0x29*-0x76d;function cu(_0x576268,_0x3c6797=0x3*0x619+-0x11d0+-0x7b){const _0x50cdb2=_0x576268['length'];if(_0x3c6797<0x2006*0x1+-0x244a+0x444||_0x3c6797>=_0x50cdb2)return null;const _0x336297=_0x576268['charCodeAt'](_0x3c6797);if(_0x50cdb2>0xa6*0x13+0x3ce*0x1+0x1*-0x101f&&_0x336297>=ou&&_0x336297<=ny){const _0x15b805=_0x576268['charCodeAt'](_0x3c6797+(0xb*-0x2c2+0xc79+0x11de));if(_0x15b805>=Jp&&_0x15b805<=lS)return{'code':(_0x336297-ou)*(0x1*-0x1832+0x12c5*0x1+-0x13*-0x7f)+_0x15b805-Jp+(-0xcef9+-0x1d46a*-0x1+-0x571),'long':!(-0xbeb+0x6*0x1c6+0x147)};}return{'code':_0x336297,'long':!(0x1a8d+-0x295*-0x6+0x1*-0x2a0a)};}function Xi(_0xd27c1e,_0x1d3ec3,_0x51f59d){if(!_0xd27c1e)return!(-0xa98*-0x2+0x11f1+-0x2720);const _0x32a6e3=cu(_0xd27c1e);if(_0x32a6e3){const _0x10dc6c=_0x32a6e3['code'];return _0x10dc6c>=_0x1d3ec3&&_0x10dc6c<=_0x51f59d;}return!(-0x373*-0xa+-0x64d+-0x1c30);}function pS(_0x191631,_0x4a1819){if(_0x4a1819===_0x191631['length']-(0x279+0x2*-0x7e5+0xd52))return 0x76*0x2+-0x1*0x557+0x46c;if(Xi(_0x191631[_0x4a1819],ou,ny)){const _0x364c1a=_0x191631['substring'](_0x4a1819,_0x4a1819+(0x592+-0x2*-0xbfb+0x1d86*-0x1)),_0x1a8658=_0x191631['substring'](_0x4a1819+(-0x1004+-0x876+0x61f*0x4),_0x4a1819+(-0x1cd+0x1*-0x18dd+0xd57*0x2));return Xi(_0x1a8658,cS,dS)||Xi(_0x364c1a,em,tm)&&Xi(_0x1a8658,em,tm)?-0x7*0xe8+0x16ee+-0x6*0x2c3:Xi(_0x1a8658,lu,hu)?-0x2*0x6cd+-0x1177+0x1f14:0x65*-0x29+0x12b8+-0x289;}return Xi(_0x191631[_0x4a1819+(-0x1*0x737+0x11f9*0x1+-0xac1)],lu,hu)?-0x1*0x151f+0x1bf4+0x1*-0x6d3:-0xe68+0xdea+0x1*0x7f;}const ah={'ASCII_LOWERCASE':iy,'ASCII_UPPERCASE':ry,'ASCII_LETTERS':oS,'format'(_0x354c83,..._0x3af5d0){for(let _0x473920=0x2548+-0x1*0x2475+0xd3*-0x1;_0x473920<_0x3af5d0['length'];_0x473920++)_0x354c83=_0x354c83['replace']('{'+_0x473920+'}',_0x3af5d0[_0x473920]);return _0x354c83;},'getCodePoint'(_0x344075,_0x380f5e){const _0x5f4712=cu(_0x344075,_0x380f5e);return _0x5f4712&&_0x5f4712['code'];},'getCodePoints'(_0x1ef3dd){if(typeof _0x1ef3dd!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x5a089f=0x1*-0xc35+-0xf*-0x1be+-0xded;const _0x3d8d9c=[];let _0x3dc8a1;for(;_0x3dc8a1=cu(_0x1ef3dd,_0x5a089f);)_0x3d8d9c['push'](_0x3dc8a1['code']),_0x5a089f+=_0x3dc8a1['long']?-0xb0f+-0x43f+-0xe*-0x118:-0x11*-0xff+-0x7*0x244+0x2*-0x89;return _0x3d8d9c;},'getSymbols'(_0x16ab6f){if(typeof _0x16ab6f!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x47ee57=0x10e1+0x64d+0x2b*-0x8a;const _0x38d3fa=_0x16ab6f['length'],_0x3b01fb=[];let _0x13277b=0x1146+0xc*-0xe+-0x84f*0x2,_0x240169;for(;_0x47ee57<_0x38d3fa;){if(_0x13277b+=pS(_0x16ab6f,_0x47ee57+_0x13277b),_0x240169=_0x16ab6f[_0x47ee57+_0x13277b],Xi(_0x240169,uS,fS)&&(_0x240169=_0x16ab6f[_0x47ee57+_0x13277b++]),Xi(_0x240169,lu,hu)&&(_0x240169=_0x16ab6f[_0x47ee57+_0x13277b++]),_0x240169&&_0x240169['charCodeAt'](-0x41d*-0x6+0x22b4+-0x1db1*0x2)===hS){_0x240169=_0x16ab6f[_0x47ee57+_0x13277b++];continue;}const _0x25f9b0=_0x16ab6f['substring'](_0x47ee57,_0x47ee57+_0x13277b);_0x3b01fb['push'](_0x25f9b0),_0x47ee57+=_0x13277b,_0x13277b=-0x1*-0x249a+-0x23e7+-0xb3;}return _0x3b01fb;},'fromCodePoint'(){const _0x3d73d6=[];let _0x42f6a1,_0x2b9164,_0x341d1f;for(let _0x4ea89e=-0x1aaa+-0x128e+-0x2*-0x169c;_0x4ea89e<arguments['length'];++_0x4ea89e)_0x42f6a1=Number(arguments[_0x4ea89e]),_0x2b9164=_0x42f6a1-(0x10176*0x1+0x967b+-0x191*0x61),_0x341d1f=_0x42f6a1>0x25c0+-0x2*-0xd869+0xa3*-0x151?[(_0x2b9164>>0x3*0x763+-0x1225+-0x3fa)+(0x1f3*0xbf+0x3722*-0x3+0x1*0x919),_0x2b9164%(0x260e+-0xa72+-0x179c)+(0x1*0x37d5+0x3c77*-0x1+0xe0a2)]:[_0x42f6a1],_0x3d73d6['push'](String['fromCharCo'+'de']['apply'](null,_0x341d1f));return _0x3d73d6['join']('');}},zr=class zr{static['set'](_0x51a76a,_0x54fbe9=!(-0x470*0x4+-0x7cc+0x198c*0x1)){_0x54fbe9?zr['_traceChan'+'nels']['add'](_0x51a76a):zr['_traceChan'+'nels']['delete'](_0x51a76a);}static['get'](_0xc1e09f){return zr['_traceChan'+'nels']['has'](_0xc1e09f);}};c(zr,'_traceChan'+'nels',new Set()),c(zr,'stack',!(-0x93*-0x41+0x239+-0x278b));let Xs=zr;const bt=class bt{static['deprecated'](_0x158e86){bt['_loggedMes'+'sages']['has'](_0x158e86)||(bt['_loggedMes'+'sages']['add'](_0x158e86),console['warn']('DEPRECATED'+':\x20'+_0x158e86));}static['removed'](_0x32ab56){bt['_loggedMes'+'sages']['has'](_0x32ab56)||(bt['_loggedMes'+'sages']['add'](_0x32ab56),console['error']('REMOVED:\x20'+_0x32ab56));}static['assertDepr'+'ecated'](_0x1e784c,_0x3966bf){_0x1e784c||bt['deprecated'](_0x3966bf);}static['assert'](_0x4ec64d,..._0x3fb305){_0x4ec64d||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x3fb305);}static['assertDest'+'royed'](_0x55f660){var _0x376d62;if(_0x55f660!=null&&_0x55f660['__alreadyD'+'estroyed']){const _0x162bef='['+((_0x376d62=_0x55f660['constructo'+'r'])==null?void(-0x5*-0x223+0x13c*0x1f+-0x30f3):_0x376d62['name'])+(']\x20with\x20nam'+'e\x20[')+_0x55f660['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');bt['_loggedMes'+'sages']['has'](_0x162bef)||(bt['_loggedMes'+'sages']['add'](_0x162bef),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x162bef,_0x55f660));}}static['call'](_0x5e19e8){_0x5e19e8();}static['log'](..._0x2da868){console['log'](..._0x2da868);}static['logOnce'](_0x120007,..._0x131169){bt['_loggedMes'+'sages']['has'](_0x120007)||(bt['_loggedMes'+'sages']['add'](_0x120007),console['log'](_0x120007,..._0x131169));}static['warn'](..._0x50ccf3){console['warn'](..._0x50ccf3);}static['warnOnce'](_0x58348c,..._0x2fe305){bt['_loggedMes'+'sages']['has'](_0x58348c)||(bt['_loggedMes'+'sages']['add'](_0x58348c),console['warn'](_0x58348c,..._0x2fe305));}static['error'](..._0x5a802e){console['error'](..._0x5a802e);}static['errorOnce'](_0x9e55bd,..._0x5d6a28){bt['_loggedMes'+'sages']['has'](_0x9e55bd)||(bt['_loggedMes'+'sages']['add'](_0x9e55bd),console['error'](_0x9e55bd,..._0x5d6a28));}static['trace'](_0x5cb920,..._0x510567){Xs['get'](_0x5cb920)&&(console['groupColla'+'psed'](_0x5cb920['padEnd'](-0x3+0x12b4+-0x129d,'\x20')+'|',..._0x510567),console['groupEnd']());}};c(bt,'_loggedMes'+'sages',new Set());let v=bt;class mn{static['setName'](_0x437635,_0x468a7e){_0x437635&&(_0x437635['name']=_0x468a7e);}static['setLabel'](_0x23d3c0,_0x50f1d6){_0x23d3c0&&(_0x23d3c0['label']=_0x50f1d6);}static['setDestroy'+'ed'](_0x4011cb){_0x4011cb&&(_0x4011cb['__alreadyD'+'estroyed']=!(-0x16af+-0x1b9+0x1868));}}class mS{constructor(_0xa31814,_0x31ae7c,_0x559abd,_0x197c07,_0x38a33b=!(0x261e+0x1c12+-0x422f)){c(this,'handler'),c(this,'name'),c(this,'callback'),c(this,'scope'),c(this,'_once'),c(this,'_removed',!(-0x2547+-0x72*0x32+0x3b8c)),(this['handler']=_0xa31814,this['name']=_0x31ae7c,this['callback']=_0x559abd,this['scope']=_0x197c07,this['_once']=_0x38a33b);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x1ea8e4,_0x2c7bba,_0x30813d=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x1ea8e4,_0x2c7bba,_0x30813d,!(-0x65*0x1d+0x1fd4+-0x1462));}['once'](_0x4ee797,_0x590674,_0x44fe2c=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x4ee797,_0x590674,_0x44fe2c,!(-0x3b*0x76+0x496*0x7+-0x4e8));}set['removed'](_0x48d1af){_0x48d1af&&(this['_removed']=!(0x769*0x3+-0x2300+-0x1*-0xcc5));}get['removed'](){return this['_removed'];}}class ce{constructor(){c(this,'_callbacks',new Map()),c(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x14e03f,_0x42067b,_0x23425,_0x5101e5){if((!_0x14e03f||typeof _0x14e03f!='string'||!_0x42067b)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x14e03f+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x42067b),this['_callbacks']['has'](_0x14e03f)||this['_callbacks']['set'](_0x14e03f,[]),this['_callbackA'+'ctive']['has'](_0x14e03f)){const _0x5cbf60=this['_callbackA'+'ctive']['get'](_0x14e03f);_0x5cbf60&&_0x5cbf60===this['_callbacks']['get'](_0x14e03f)&&this['_callbackA'+'ctive']['set'](_0x14e03f,_0x5cbf60['slice']());}const _0x49cd6d=new mS(this,_0x14e03f,_0x42067b,_0x23425,_0x5101e5);return this['_callbacks']['get'](_0x14e03f)['push'](_0x49cd6d),_0x49cd6d;}['on'](_0x48b287,_0x28b00a,_0x2fb580=this){return this['_addCallba'+'ck'](_0x48b287,_0x28b00a,_0x2fb580,!(-0x8*-0xc5+-0xc42+0x61b));}['once'](_0x3a956f,_0x451c68,_0x2d60bd=this){return this['_addCallba'+'ck'](_0x3a956f,_0x451c68,_0x2d60bd,!(0x1026+-0x1*0x829+-0x7fd));}['off'](_0x2c3a66,_0x20ae31,_0x36bdfd){if(_0x2c3a66)this['_callbackA'+'ctive']['has'](_0x2c3a66)&&this['_callbackA'+'ctive']['get'](_0x2c3a66)===this['_callbacks']['get'](_0x2c3a66)&&this['_callbackA'+'ctive']['set'](_0x2c3a66,this['_callbackA'+'ctive']['get'](_0x2c3a66)['slice']());else{for(const [_0x17466f,_0x2a2100]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x17466f)&&this['_callbacks']['get'](_0x17466f)===_0x2a2100&&this['_callbackA'+'ctive']['set'](_0x17466f,_0x2a2100['slice']());}if(_0x2c3a66){if(_0x20ae31){const _0xd19367=this['_callbacks']['get'](_0x2c3a66);if(!_0xd19367)return this;for(let _0x3fab75=-0x1*-0xfe5+-0x141c+0xd*0x53;_0x3fab75<_0xd19367['length'];_0x3fab75++)_0xd19367[_0x3fab75]['callback']===_0x20ae31&&(_0x36bdfd&&_0xd19367[_0x3fab75]['scope']!==_0x36bdfd||(_0xd19367[_0x3fab75]['removed']=!(-0xeee*-0x1+-0x1fb2+-0x862*-0x2),_0xd19367['splice'](_0x3fab75,-0x29*-0x47+-0x47c+0x2*-0x371),_0x3fab75--));_0xd19367['length']===0x352+0x11a5*0x2+-0x269c&&this['_callbacks']['delete'](_0x2c3a66);}else{const _0x3841c0=this['_callbacks']['get'](_0x2c3a66);if(_0x3841c0){for(let _0x1d0f63=0x3*-0x271+0x35*0x2f+-0x268;_0x1d0f63<_0x3841c0['length'];_0x1d0f63++)_0x3841c0[_0x1d0f63]['removed']=!(-0x24b5+0x1659+-0x72e*-0x2);this['_callbacks']['delete'](_0x2c3a66);}}}else{for(const _0xd2f593 of this['_callbacks']['values']())for(let _0x534f9b=0x56*-0x8+-0x255a+-0x19a*-0x19;_0x534f9b<_0xd2f593['length'];_0x534f9b++)_0xd2f593[_0x534f9b]['removed']=!(-0x45*0x43+0x454+0xdbb);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x20f5e9){const _0x120ab1=_0x20f5e9['name'];_0x20f5e9['removed']=!(-0x288+-0x10fd+0x1385),this['_callbackA'+'ctive']['has'](_0x120ab1)&&this['_callbackA'+'ctive']['get'](_0x120ab1)===this['_callbacks']['get'](_0x120ab1)&&this['_callbackA'+'ctive']['set'](_0x120ab1,this['_callbackA'+'ctive']['get'](_0x120ab1)['slice']());const _0x10da1f=this['_callbacks']['get'](_0x120ab1);if(!_0x10da1f)return this;const _0x11035d=_0x10da1f['indexOf'](_0x20f5e9);return _0x11035d!==-(-0x1*0x1f7b+0x5*0x67d+-0xf5)&&(_0x10da1f['splice'](_0x11035d,0x2ff+0x641+-0x107*0x9),_0x10da1f['length']===-0x6a6+0x3*-0x12f+0xa33&&this['_callbacks']['delete'](_0x120ab1)),this;}['fire'](_0x77dfcc,_0x551221,_0x87ee0d,_0x3b6f08,_0x184afb,_0x55845b,_0x130222,_0x3ca0e1,_0x387fcc){if(!_0x77dfcc)return this;const _0x36c054=this['_callbacks']['get'](_0x77dfcc);if(!_0x36c054)return this;let _0x296c83;this['_callbackA'+'ctive']['has'](_0x77dfcc)?this['_callbackA'+'ctive']['get'](_0x77dfcc)!==_0x36c054&&(_0x296c83=_0x36c054['slice']()):this['_callbackA'+'ctive']['set'](_0x77dfcc,_0x36c054);for(let _0x5d62bb=-0x1f*0x137+-0x85f*0x4+0x4725;(_0x296c83||this['_callbackA'+'ctive']['get'](_0x77dfcc))&&_0x5d62bb<(_0x296c83||this['_callbackA'+'ctive']['get'](_0x77dfcc))['length'];_0x5d62bb++){const _0x1d2210=(_0x296c83||this['_callbackA'+'ctive']['get'](_0x77dfcc))[_0x5d62bb];if(_0x1d2210['callback']&&(_0x1d2210['callback']['call'](_0x1d2210['scope'],_0x551221,_0x87ee0d,_0x3b6f08,_0x184afb,_0x55845b,_0x130222,_0x3ca0e1,_0x387fcc),_0x1d2210['_once'])){const _0x57a820=this['_callbacks']['get'](_0x77dfcc),_0x3c7412=_0x57a820?_0x57a820['indexOf'](_0x1d2210):-(-0x5c+0x11f2+-0x1195);if(_0x3c7412!==-(0x3*-0x53+-0x1*0xbe4+0xcde)){this['_callbackA'+'ctive']['get'](_0x77dfcc)===_0x57a820&&this['_callbackA'+'ctive']['set'](_0x77dfcc,this['_callbackA'+'ctive']['get'](_0x77dfcc)['slice']());const _0x48b458=this['_callbacks']['get'](_0x77dfcc);if(!_0x48b458)continue;_0x48b458[_0x3c7412]['removed']=!(-0x48+-0x53*0x71+0x1*0x24eb),_0x48b458['splice'](_0x3c7412,-0x104+0x11bd+0x42e*-0x4),_0x48b458['length']===-0x1*0x2527+-0x575*0x1+-0x4bc*-0x9&&this['_callbacks']['delete'](_0x77dfcc);}}}return _0x296c83||this['_callbackA'+'ctive']['delete'](_0x77dfcc),this;}['hasEvent'](_0x27e28c){var _0x24fef0;return!!((_0x24fef0=this['_callbacks']['get'](_0x27e28c))!=null&&_0x24fef0['length']);}}class _S{constructor(){c(this,'_list',[]),c(this,'_index',{});}['push'](_0x6df280,_0x4c4e8c){if(this['_index'][_0x6df280])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x6df280);const _0xcf616a=this['_list']['push'](_0x4c4e8c)-(-0x53+0x1bf1+-0x1b9d*0x1);this['_index'][_0x6df280]=_0xcf616a;}['has'](_0x15b526){return this['_index'][_0x15b526]!==void(0x1e3c+-0x5d*-0x13+-0x2523);}['get'](_0x2d3187){const _0x1fab3b=this['_index'][_0x2d3187];return _0x1fab3b!==void(-0x829+0xa19+-0x1f0)?this['_list'][_0x1fab3b]:null;}['remove'](_0x39ac0d){const _0x4a501f=this['_index'][_0x39ac0d];if(_0x4a501f!==void(0xae7+0xcba+-0x17a1)){this['_list']['splice'](_0x4a501f,0x12a1+-0x1f07+0x5*0x27b),delete this['_index'][_0x39ac0d];for(_0x39ac0d in this['_index']){const _0x55ec20=this['_index'][_0x39ac0d];_0x55ec20>_0x4a501f&&(this['_index'][_0x39ac0d]=_0x55ec20-(-0xe5*0x8+-0x1890+0x1fb9));}return!(-0x6c*0x40+0x472*0x7+-0x41e);}return!(-0x2*0x611+0x23cb+0x8*-0x2f5);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=0x239c+0x1866+-0x3c02;for(const _0x297002 in this['_index'])delete this['_index'][_0x297002];}}const gS=_0x436fc8=>{const _0x48c4fb={};let _0x35f43d=_0x48c4fb;return()=>(_0x35f43d===_0x48c4fb&&(_0x35f43d=_0x436fc8()),_0x35f43d);},Ns=class Ns{static['loadScript'](_0x1ffed6,_0x566a69){const _0x342eb6=document['createElem'+'ent']('script');_0x342eb6['setAttribu'+'te']('src',_0x1ffed6),_0x342eb6['onload']=()=>{_0x566a69(null);},_0x342eb6['onerror']=()=>{_0x566a69('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x1ffed6+'\x27');},document['body']['appendChil'+'d'](_0x342eb6);}static['loadWasm'](_0x2a4936,_0x2af60b,_0x44b88e){const _0x315846=Ns['wasmSuppor'+'ted']()&&_0x2af60b['glueUrl']&&_0x2af60b['wasmUrl']?_0x2af60b['glueUrl']:_0x2af60b['fallbackUr'+'l'];_0x315846?Ns['loadScript'](_0x315846,_0x11fac6=>{if(_0x11fac6)_0x44b88e(_0x11fac6,null);else{const _0x530705=window[_0x2a4936];window[_0x2a4936]=void(0x166e+-0x235e+0xcf0),_0x530705({'locateFile':()=>_0x2af60b['wasmUrl'],'onAbort':()=>{_0x44b88e('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x195df8=>{_0x44b88e(null,_0x195df8);});}}):_0x44b88e('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x486214){return Ns['modules']['hasOwnProp'+'erty'](_0x486214)||(Ns['modules'][_0x486214]={'config':null,'initializing':!(0xd*-0x2+-0x1fc*0xd+0x19e7),'instance':null,'callbacks':[]}),Ns['modules'][_0x486214];}static['initialize'](_0x418fb9,_0x542306){if(_0x542306['initializi'+'ng'])return;const _0x31a33f=_0x542306['config'];(_0x31a33f['glueUrl']||_0x31a33f['wasmUrl']||_0x31a33f['fallbackUr'+'l'])&&(_0x542306['initializi'+'ng']=!(-0x1*0xf5b+0x3*-0xa54+0x2e57),Ns['loadWasm'](_0x418fb9,_0x31a33f,(_0x293241,_0x2403fb)=>{_0x293241?_0x31a33f['errorHandl'+'er']?_0x31a33f['errorHandl'+'er'](_0x293241):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x418fb9+'\x20error='+_0x293241):(_0x542306['instance']=_0x2403fb,_0x542306['callbacks']['forEach'](_0x47c3c4=>{_0x47c3c4(_0x2403fb);}));}));}};c(Ns,'modules',{}),c(Ns,'wasmSuppor'+'ted',gS(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x1848eb=new WebAssembly['Module'](Uint8Array['of'](-0xa07*-0x2+0x105f+-0x19*0x175,0x1e67+0x7*-0x2b+0x1*-0x1cd9,-0x265+-0x39b+0x673,0x473*-0x1+0x19*-0xb2+0xb21*0x2,-0x17ab+0x2080+0xa*-0xe2,-0x1808+0x232d*0x1+-0xb25,0x1*0xb3+-0x4*-0x6cf+-0x1bef,0x89+0x24db+-0x2564));if(_0x1848eb instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x1848eb)instanceof WebAssembly['Instance'];}}catch{}return!(0x23b*0x11+0x1f3b+-0x4525);}));let Br=Ns;class ay{static['setConfig'](_0xbb1c27,_0xbf76b1){const _0x5c89a3=Br['getModule'](_0xbb1c27);_0x5c89a3['config']=_0xbf76b1,_0x5c89a3['callbacks']['length']>-0x2*0x767+-0x21bc*-0x1+-0x12ee&&Br['initialize'](_0xbb1c27,_0x5c89a3);}static['getConfig'](_0x1daeb2){var _0x303ad9,_0x416504;return(_0x416504=(_0x303ad9=Br['modules'])==null?void(0x67e+0xb*-0x2cd+0x5*0x4dd):_0x303ad9[_0x1daeb2])==null?void(-0x1*-0x89b+-0x440*-0x4+-0x39*0x73):_0x416504['config'];}static['getInstanc'+'e'](_0x304386,_0xa7ec03){const _0x2e48fa=Br['getModule'](_0x304386);_0x2e48fa['instance']?_0xa7ec03(_0x2e48fa['instance']):(_0x2e48fa['callbacks']['push'](_0xa7ec03),_0x2e48fa['config']&&Br['initialize'](_0x304386,_0x2e48fa));}}class oy{constructor(_0x26ecdf){c(this,'arraybuffe'+'r'),c(this,'dataView'),c(this,'offset',-0x115e+-0x2*0xee+0x133a),(this['arraybuffe'+'r']=_0x26ecdf,this['dataView']=new DataView(_0x26ecdf));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x167748=0x197c+-0x19db+0x5*0x13){this['offset']=_0x167748;}['skip'](_0x2f2596){this['offset']+=_0x2f2596;}['align'](_0x4adb0a){this['offset']=this['offset']+_0x4adb0a-(-0x21e5*-0x1+0x507+0x51*-0x7b)&~(_0x4adb0a-(-0x24f4+0x1507+-0x2*-0x7f7));}['_inc'](_0x5c8ddb){return this['offset']+=_0x5c8ddb,this['offset']-_0x5c8ddb;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x5b4c9a){let _0x379395='';for(let _0x392a8c=0xd7*0x10+0x1631*-0x1+0x8c1*0x1;_0x392a8c<_0x5b4c9a;++_0x392a8c)_0x379395+=this['readChar']();return _0x379395;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](0x3*-0xaf7+0x14e7+-0x80*-0x18),!(0x1dd2+0x454+-0x2226*0x1));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](-0x13*0x107+-0xb*-0x2b9+-0xa6a),!(0x1*0x26c3+0x16*-0xdf+-0x1399*0x1));}['readU64'](){return this['readU32']()+(0x84a+0xaff+-0x15*0xeb)**(0x9f6+0x94d*0x2+0x208*-0xe)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](0x363*0x1+-0x3*-0x1ec+-0x923),!(0x23e3+-0x1*-0x26e1+-0x4ac3));}['readArray'](_0x17f1a0){for(let _0x4f448a=0x1*0x524+-0x25cd+-0x20a9*-0x1;_0x4f448a<_0x17f1a0['length'];++_0x4f448a)_0x17f1a0[_0x4f448a]=this['readU8']();}['readLine'](){const _0x2df066=this['dataView'];let _0x4a84a1='';for(;!(this['offset']>=_0x2df066['byteLength']);){const _0x2c14e1=String['fromCharCo'+'de'](this['readU8']());if(_0x2c14e1==='\x0a')break;_0x4a84a1+=_0x2c14e1;}return _0x4a84a1;}}class wh{constructor(_0x18a88a){c(this,'items',[]),c(this,'length',0x82c+-0x186c+0x1040),c(this,'loopIndex',-(0x2657+0x50f*-0x1+0x1*-0x2147)),c(this,'_sortBy'),c(this,'_sortHandl'+'er'),(this['_sortBy']=_0x18a88a['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x2cd564){let _0x224a07=-0xb*0x26+0xda*-0xa+-0x362*-0x3,_0x4597d9=this['items']['length']-(0x73*0x7+0x7*0x3fa+-0x1efa);const _0x515380=_0x2cd564[this['_sortBy']];let _0x408d61,_0x1d1df0;for(;_0x224a07<=_0x4597d9;)_0x408d61=Math['floor']((_0x224a07+_0x4597d9)/(-0xc6c+-0x572+-0x1a0*-0xb)),_0x1d1df0=this['items'][_0x408d61][this['_sortBy']],_0x1d1df0<=_0x515380?_0x224a07=_0x408d61+(-0x2f*-0x24+0xd7*-0x13+0x95a):_0x1d1df0>_0x515380&&(_0x4597d9=_0x408d61-(-0x220d*0x1+-0x62*0x21+0x2eb0));return _0x224a07;}['_doSort'](_0x33c7d1,_0x1dbac5){const _0x155c12=this['_sortBy'];return _0x33c7d1[_0x155c12]-_0x1dbac5[_0x155c12];}['insert'](_0x3d841c){const _0x161138=this['_binarySea'+'rch'](_0x3d841c);this['items']['splice'](_0x161138,0x1075+-0x14de+0x1*0x469,_0x3d841c),this['length']++,this['loopIndex']>=_0x161138&&this['loopIndex']++;}['append'](_0x23bc14){this['items']['push'](_0x23bc14),this['length']++;}['remove'](_0x2a3391){const _0x51d085=this['items']['indexOf'](_0x2a3391);_0x51d085<-0xae5+0x1*0xd7f+0x2*-0x14d||(this['items']['splice'](_0x51d085,0x2570+-0x1*0xbda+0x1*-0x1995),this['length']--,this['loopIndex']>=_0x51d085&&this['loopIndex']--);}['sort'](){const _0x30b125=this['loopIndex']>=-0x1*0x139+-0x21ad+0xba2*0x3?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x30b125!==null&&(this['loopIndex']=this['items']['indexOf'](_0x30b125));}}class po extends ce{constructor(_0xf70561){super(),c(this,'_index',{}),c(this,'_list',[]),this['_parent']=_0xf70561;}['add'](..._0x1ffb51){let _0x4e6a38=!(-0x845+0x17*-0x3a+-0xd7c*-0x1);const _0x2da0fe=this['_processAr'+'guments'](_0x1ffb51,!(0x1939+0x1*-0xee4+-0xa55));if(!_0x2da0fe['length'])return _0x4e6a38;for(let _0x512ce3=0x1154+0x21c4+-0x14*0x28e;_0x512ce3<_0x2da0fe['length'];_0x512ce3++)this['_index'][_0x2da0fe[_0x512ce3]]||(_0x4e6a38=!(-0x883+-0x91a+-0x9*-0x1f5),this['_index'][_0x2da0fe[_0x512ce3]]=!(0x2f7+-0x2332+0x203b),this['_list']['push'](_0x2da0fe[_0x512ce3]),this['fire']('add',_0x2da0fe[_0x512ce3],this['_parent']));return _0x4e6a38&&this['fire']('change',this['_parent']),_0x4e6a38;}['remove'](..._0xd2b6b8){let _0x1448a2=!(-0x2*0xe9a+0x158b*-0x1+0x32c0);if(!this['_list']['length'])return _0x1448a2;const _0x419f4b=this['_processAr'+'guments'](_0xd2b6b8,!(0x2*-0x9ec+0x3*-0x2cf+-0x1*-0x1c45));if(!_0x419f4b['length'])return _0x1448a2;for(let _0x337c1b=-0x24c+0x823*0x1+0x5*-0x12b;_0x337c1b<_0x419f4b['length'];_0x337c1b++)this['_index'][_0x419f4b[_0x337c1b]]&&(_0x1448a2=!(0x9*0xbf+0x4b6+-0xb6d),delete this['_index'][_0x419f4b[_0x337c1b]],this['_list']['splice'](this['_list']['indexOf'](_0x419f4b[_0x337c1b]),-0x1*0x6da+-0x3ad+0xa88),this['fire']('remove',_0x419f4b[_0x337c1b],this['_parent']));return _0x1448a2&&this['fire']('change',this['_parent']),_0x1448a2;}['clear'](){if(!this['_list']['length'])return;const _0x350e05=this['_list']['slice'](-0x10c4+-0x1ab4+-0x34*-0xd6);this['_list']=[],this['_index']={};for(let _0x2bfa23=-0x1c74+0x1*-0xc17+0x61*0x6b;_0x2bfa23<_0x350e05['length'];_0x2bfa23++)this['fire']('remove',_0x350e05[_0x2bfa23],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x201db9){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x201db9)):!(0x955*-0x1+-0x1*0x2c5+-0x409*-0x3);}['_has'](_0x2ba376){if(!this['_list']['length']||!_0x2ba376['length'])return!(-0x19ef+-0x2294+-0x3*-0x142c);for(let _0x288db8=-0x3*0x7d8+-0x120d+0x2995*0x1;_0x288db8<_0x2ba376['length'];_0x288db8++)if(_0x2ba376[_0x288db8]['length']===0x2328+-0x4*-0x443+-0x3433){if(this['_index'][_0x2ba376[_0x288db8][-0x3b3*-0x2+-0x75a*-0x2+-0x161a]])return!(0xb03+0x774+-0x1277);}else{let _0x57c2f1=!(0x1989+0x4*-0x469+-0x7e5);for(let _0x19c322=0x4ed+0x6b*0x30+-0x18fd;_0x19c322<_0x2ba376[_0x288db8]['length'];_0x19c322++)if(!this['_index'][_0x2ba376[_0x288db8][_0x19c322]]){_0x57c2f1=!(-0x2681*-0x1+-0x1*-0x109c+0x2*-0x1b8e);break;}if(_0x57c2f1)return!(-0x6ad+0x2e9+0x3c4);}return!(0x2131+0x3*0x942+-0x3cf6);}['list'](){return this['_list']['slice'](0x17*0x3d+-0x3*-0x17e+-0x9f5);}['_processAr'+'guments'](_0x390de9,_0x838e1b){const _0x5b4e0e=[];let _0x2eacdd=[];if(!_0x390de9||!_0x390de9['length'])return _0x5b4e0e;for(let _0x2f34d3=-0xc89+0x1d6f+0x135*-0xe;_0x2f34d3<_0x390de9['length'];_0x2f34d3++)if(_0x390de9[_0x2f34d3]instanceof Array){_0x838e1b||(_0x2eacdd=[]);for(let _0x1b558c=-0x5f0+0x2*0x1193+-0x1*0x1d36;_0x1b558c<_0x390de9[_0x2f34d3]['length'];_0x1b558c++)typeof _0x390de9[_0x2f34d3][_0x1b558c]=='string'&&(_0x838e1b?_0x5b4e0e['push'](_0x390de9[_0x2f34d3][_0x1b558c]):_0x2eacdd['push'](_0x390de9[_0x2f34d3][_0x1b558c]));!_0x838e1b&&_0x2eacdd['length']&&_0x5b4e0e['push'](_0x2eacdd);}else typeof _0x390de9[_0x2f34d3]=='string'&&(_0x838e1b?_0x5b4e0e['push'](_0x390de9[_0x2f34d3]):_0x5b4e0e['push']([_0x390de9[_0x2f34d3]]));return _0x5b4e0e;}get['size'](){return this['_list']['length'];}}c(po,'EVENT_ADD','add'),c(po,'EVENT_REMO'+'VE','remove'),c(po,'EVENT_CHAN'+'GE','change');const ne=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],yS=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class sd{constructor(_0x9435a){c(this,'scheme'),c(this,'authority'),c(this,'path'),c(this,'query'),c(this,'fragment');const _0x92bc92=_0x9435a['match'](yS);this['scheme']=_0x92bc92[-0x27d*0x7+0x10bb*0x1+0x59*0x2],this['authority']=_0x92bc92[0xa52+0xbb*0x1b+-0x1e07],this['path']=_0x92bc92[0x18*-0x192+0x2225*-0x1+0x47da],this['query']=_0x92bc92[-0x1c1c+-0xe*0x1fc+0x37eb],this['fragment']=_0x92bc92[-0x11*0x1fd+-0x1ebf+0x4095];}['toString'](){let _0x143e7e='';return this['scheme']&&(_0x143e7e+=this['scheme']+':'),this['authority']&&(_0x143e7e+='//'+this['authority']),_0x143e7e+=this['path'],this['query']&&(_0x143e7e+='?'+this['query']),this['fragment']&&(_0x143e7e+='#'+this['fragment']),_0x143e7e;}['getQuery'](){const _0x49e0a7={};if(this['query']){const _0x3c2695=decodeURIComponent(this['query'])['split']('&');for(const _0x461f65 of _0x3c2695){const _0x3e7e81=_0x461f65['split']('=');_0x49e0a7[_0x3e7e81[0x2184+0x1eba+-0x403e]]=_0x3e7e81[0x248f+-0x1*-0x207b+0x4509*-0x1];}}return _0x49e0a7;}['setQuery'](_0x578634){let _0x3227ea='';for(const _0x12b107 in _0x578634)_0x578634['hasOwnProp'+'erty'](_0x12b107)&&(_0x3227ea!==''&&(_0x3227ea+='&'),_0x3227ea+=encodeURIComponent(_0x12b107)+'='+encodeURIComponent(_0x578634[_0x12b107]));this['query']=_0x3227ea;}}const xS=-0x16*-0xd3+-0x25f*-0xb+-0x2c37,Df=0x24b+0x3*-0x32b+0x737*0x1,sm=-0x1e69+-0xc33+0x1550*0x2,SS=0x93f+-0x220d+0x18d3,N={'DEG_TO_RAD':Math['PI']/(-0x659+0x3c1*0x1+0x4*0xd3),'RAD_TO_DEG':(0x56*-0x39+0x4f*-0x4+-0x1516*-0x1)/Math['PI'],'clamp'(_0x42757b,_0x44012f,_0x4517ae){return _0x42757b>=_0x4517ae?_0x4517ae:_0x42757b<=_0x44012f?_0x44012f:_0x42757b;},'intToBytes24'(_0x50586d){const _0x424824=_0x50586d>>-0x1e19+0x19f+0xe45*0x2&0x7f*-0x2e+-0xb19+-0x6d*-0x52,_0x599ae9=_0x50586d>>0x126f+0x835+-0x1a9c&0xca3+0x1015*0x1+0x1bb9*-0x1,_0x2a8068=_0x50586d&-0x1a8e+-0x2468+0x923*0x7;return[_0x424824,_0x599ae9,_0x2a8068];},'intToBytes32'(_0xf51df8){const _0x448e03=_0xf51df8>>0x62*-0x5e+-0x2013*-0x1+-0x29*-0x19&-0x130*-0x4+-0x113e+0xd7d,_0x3ac4a5=_0xf51df8>>-0x3*0x9fd+0x22f4+-0x4ed&-0x24*-0x8e+0xc5f+-0x1f58,_0x1f39ef=_0xf51df8>>0x1*-0x1357+0x2b*0x4+-0x1*-0x12b3&0xd79*-0x2+-0x1a1c+0x360d,_0x12ce27=_0xf51df8&-0x1a27+-0x33a+0x1e60;return[_0x448e03,_0x3ac4a5,_0x1f39ef,_0x12ce27];},'bytesToInt24'(_0x22356a,_0x443dcc,_0x22da9f){return _0x22356a['length']&&(_0x22da9f=_0x22356a[0x1ed7+-0x1e2b*-0x1+-0x3d00],_0x443dcc=_0x22356a[0x2*-0xcaa+0x710+0x3*0x617],_0x22356a=_0x22356a[0x24d6+-0x2400+-0xd6*0x1]),_0x22356a<<0x28f*-0x9+-0x1a5f+0x3176|_0x443dcc<<-0x3*0x52a+0x1825*-0x1+-0x1*-0x27ab|_0x22da9f;},'bytesToInt32'(_0x3568a1,_0x1017ff,_0x3f3ea6,_0x41d912){return _0x3568a1['length']&&(_0x41d912=_0x3568a1[0x92c+-0x16c7+0x6*0x245],_0x3f3ea6=_0x3568a1[-0x916+-0x3*-0xaeb+-0x3*0x7e3],_0x1017ff=_0x3568a1[-0x1445+-0x1*-0x1dd9+0x1*-0x993],_0x3568a1=_0x3568a1[-0xee1+0x168*0x3+0xaa9]),(_0x3568a1<<-0x1*-0x734+-0x17*-0x83+-0x12e1|_0x1017ff<<-0x63+-0x2171+0x21e4|_0x3f3ea6<<0x1f67+-0xeee+-0x1071|_0x41d912)>>>-0x1ab2+0x1e*0x40+0x1332;},'lerp'(_0x2f8c93,_0x3b2e65,_0x1998e5){return _0x2f8c93+(_0x3b2e65-_0x2f8c93)*N['clamp'](_0x1998e5,0xb6f+-0x9*-0x373+-0x2a7a,0x18d0+-0x18d7+0x8);},'lerpAngle'(_0x3f8430,_0x202a6c,_0x4db776){return _0x202a6c-_0x3f8430>0x25f6+-0xee3+-0x165f&&(_0x202a6c-=-0x1b8b+0x35*-0x43+0xe46*0x3),_0x202a6c-_0x3f8430<-(0x1d1d+-0x4f0+-0x1779)&&(_0x202a6c+=-0xf94*-0x1+0x1*0x1093+-0x1ebf),N['lerp'](_0x3f8430,_0x202a6c,N['clamp'](_0x4db776,-0x1d72+-0x1a8*-0x7+-0x5*-0x392,-0xb*0x1a+-0x1bf1+0x5d0*0x5));},'powerOfTwo'(_0x3857d4){return _0x3857d4!==0x2*0xd9f+-0x204e*-0x1+-0x3b8c&&!(_0x3857d4&_0x3857d4-(-0x504+-0x1*0x752+0x41d*0x3));},'nextPowerOfTwo'(_0x3c5803){return _0x3c5803--,_0x3c5803|=_0x3c5803>>0x1b30+-0x1*0xf47+-0xbe8,_0x3c5803|=_0x3c5803>>-0x315*0x1+-0xcbb*0x1+0xfd2,_0x3c5803|=_0x3c5803>>-0x1+-0x1*-0x1209+-0x1204,_0x3c5803|=_0x3c5803>>0x1*0x617+-0x52*-0x2+-0x6b3,_0x3c5803|=_0x3c5803>>-0x1b6d+-0x1efe+0x3a7b,_0x3c5803++,_0x3c5803;},'nearestPowerOfTwo'(_0x557ee3){return Math['pow'](0x1117+0x9fe+-0x1d*0xef,Math['round'](Math['log'](_0x557ee3)/Math['log'](0x20*0x111+-0xb*0x17f+0x5e3*-0x3)));},'random'(_0x240ea2,_0x35bc7f){const _0x357a37=_0x35bc7f-_0x240ea2;return Math['random']()*_0x357a37+_0x240ea2;},'smoothstep'(_0x1af048,_0x548dc1,_0x1e221a){return _0x1e221a<=_0x1af048?0xd*0xf+-0x231*-0x1+0x17a*-0x2:_0x1e221a>=_0x548dc1?-0x565*0x1+0x2436+0x22*-0xe8:(_0x1e221a=(_0x1e221a-_0x1af048)/(_0x548dc1-_0x1af048),_0x1e221a*_0x1e221a*(0x1f60+-0x1*-0x2a1+-0x26*0xe5-(0x50*0x3d+-0x195a+-0x3e*-0x1a)*_0x1e221a));},'smootherstep'(_0x4a53de,_0x3259a3,_0x3d710b){return _0x3d710b<=_0x4a53de?0x1f79+-0xec5+0x85a*-0x2:_0x3d710b>=_0x3259a3?0x7*-0x18d+0x1*-0x19b1+0x248d:(_0x3d710b=(_0x3d710b-_0x4a53de)/(_0x3259a3-_0x4a53de),_0x3d710b*_0x3d710b*_0x3d710b*(_0x3d710b*(_0x3d710b*(0x7*0xcb+0x123d*-0x2+0x1ef3)-(-0x30f+-0x1bd0+0x1eee))+(0x1*-0x21dd+-0x29b*0xe+0x4661)));},'roundUp'(_0x15ac7e,_0x2ec2da){return _0x2ec2da===-0x58*-0x6a+-0x2087+-0x3e9?_0x15ac7e:Math['ceil'](_0x15ac7e/_0x2ec2da)*_0x2ec2da;},'between'(_0x3430ba,_0x308cde,_0x2c8cdf,_0x54cfe6){const _0x4dc7c9=Math['min'](_0x308cde,_0x2c8cdf),_0x4865bf=Math['max'](_0x308cde,_0x2c8cdf);return _0x54cfe6?_0x3430ba>=_0x4dc7c9&&_0x3430ba<=_0x4865bf:_0x3430ba>_0x4dc7c9&&_0x3430ba<_0x4865bf;}},it=class it{constructor(_0x3309c4=-0x1f23+0x17b6+0x1*0x76d,_0x38e15b=-0x13ee+-0x2*0xf4f+0x5*0xa1c,_0x23b2cd=0xde+0xa33*0x1+-0x1*0xb11,_0x501975=0x48e+0x1cd+-0x3*0x21e){c(this,'r'),c(this,'g'),c(this,'b'),c(this,'a');const _0xd82394=_0x3309c4['length'];_0xd82394===0x167*0x8+0x1b2c+-0x2661||_0xd82394===0x4c9+0xb1d+-0x1*0xfe2?(this['r']=_0x3309c4[-0x1c0a+0x88b+0x137f],this['g']=_0x3309c4[0x1*-0x19e4+-0xfab+0x2990],this['b']=_0x3309c4[-0x28*0xd3+-0x1f3*-0x5+-0x139*-0x13],this['a']=_0x3309c4[-0x233e+-0x2e6+-0x1*-0x2627]??0x259c+0x280*0x1+0x281b*-0x1):(this['r']=_0x3309c4,this['g']=_0x38e15b,this['b']=_0x23b2cd,this['a']=_0x501975);}['clone'](){const _0x5eeaf0=this['constructo'+'r'];return new _0x5eeaf0(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x5bc66f){return this['r']=_0x5bc66f['r'],this['g']=_0x5bc66f['g'],this['b']=_0x5bc66f['b'],this['a']=_0x5bc66f['a'],this;}['equals'](_0x5815c){return this['r']===_0x5815c['r']&&this['g']===_0x5815c['g']&&this['b']===_0x5815c['b']&&this['a']===_0x5815c['a'];}['set'](_0x2669b4,_0x2f7555,_0x54e4fa,_0x2aa42c=0x242d+-0x8e9+-0x3e5*0x7){return this['r']=_0x2669b4,this['g']=_0x2f7555,this['b']=_0x54e4fa,this['a']=_0x2aa42c,this;}['lerp'](_0x175b84,_0x1a21d9,_0x2c5c39){return this['r']=_0x175b84['r']+_0x2c5c39*(_0x1a21d9['r']-_0x175b84['r']),this['g']=_0x175b84['g']+_0x2c5c39*(_0x1a21d9['g']-_0x175b84['g']),this['b']=_0x175b84['b']+_0x2c5c39*(_0x1a21d9['b']-_0x175b84['b']),this['a']=_0x175b84['a']+_0x2c5c39*(_0x1a21d9['a']-_0x175b84['a']),this;}['linear'](_0x3e50bd=this){return this['r']=Math['pow'](_0x3e50bd['r'],-0xd3a*0x2+-0x78b+-0x6cd*-0x5+0.20000000000000018),this['g']=Math['pow'](_0x3e50bd['g'],0x232a+-0xd1e+-0x160a+0.20000000000000018),this['b']=Math['pow'](_0x3e50bd['b'],-0x18b4+0x8e*-0xd+-0x552*-0x6+0.20000000000000018),this['a']=_0x3e50bd['a'],this;}['gamma'](_0x1604cc=this){return this['r']=Math['pow'](_0x1604cc['r'],(0x2532+-0x71*0x1a+-0x1*0x19b7)/(0x17c0+-0x40*0x30+0xa7*-0x12+0.20000000000000018)),this['g']=Math['pow'](_0x1604cc['g'],(0x1eaa+-0x10c1+-0x1*0xde8)/(-0xf37+-0x9*0x38b+0x12*0x29e+0.20000000000000018)),this['b']=Math['pow'](_0x1604cc['b'],(-0x458*-0x6+0x1285+-0x2c94)/(0x2*-0xd9f+-0x1590+-0x2c*-0x11c+0.20000000000000018)),this['a']=_0x1604cc['a'],this;}['mulScalar'](_0x1e47c3){return this['r']*=_0x1e47c3,this['g']*=_0x1e47c3,this['b']*=_0x1e47c3,this;}['fromString'](_0x5e453a){const _0x23c325=parseInt(_0x5e453a['replace']('#','0x'),-0x5*-0x703+-0x1fe1+-0x6*0x85);let _0x412b7e;return _0x5e453a['length']>-0x7*-0x14b+-0x10f5+-0x3*-0x2a5?_0x412b7e=N['intToBytes'+'32'](_0x23c325):(_0x412b7e=N['intToBytes'+'24'](_0x23c325),_0x412b7e[0x13dc+0x1*-0x1c8b+0x8b2]=0x1e0c+-0x1902+-0x40b),this['set'](_0x412b7e[0x2215+0x473*0x2+-0x2afb]/(0x2b9*-0x1+-0x3*0x2f6+0xc9a*0x1),_0x412b7e[-0xf6d*-0x2+0x22b7+-0x4190]/(0x838+-0x9d3+0x29a),_0x412b7e[0x2258+-0x20f9+-0x15d]/(-0x71*-0x9+-0x14ac+-0x6*-0x2f3),_0x412b7e[0xba3+-0x1f7*0x2+-0x1*0x7b2]/(0x3d*-0x3e+0xa*0x2a5+-0xaad)),this;}['fromArray'](_0x223543,_0x412b94=0xb79+0xff3+-0x1b6c){return this['r']=_0x223543[_0x412b94]??this['r'],this['g']=_0x223543[_0x412b94+(0x1*0x158+0x119+0x8*-0x4e)]??this['g'],this['b']=_0x223543[_0x412b94+(-0x84b*0x4+0x1510+0xc1e)]??this['b'],this['a']=_0x223543[_0x412b94+(-0x123b+-0x188d+-0x23*-0x139)]??this['a'],this;}['toString'](_0x54cf49,_0x1d9f31){const {r:_0x421c5c,g:_0x1642b4,b:_0x4cd2c2,a:_0x31e8d2}=this;if(_0x1d9f31||_0x421c5c>-0x14b*0x15+-0x1654+0x1*0x317c||_0x1642b4>0xce2+0x15b5*-0x1+0x4*0x235||_0x4cd2c2>0x1*0x962+-0xa9b+0x13a)return _0x421c5c['toFixed'](0x127*0x1+-0x26c6+0x25a2)+',\x20'+_0x1642b4['toFixed'](0x32f+0x107b+0x2b*-0x75)+',\x20'+_0x4cd2c2['toFixed'](-0x21f1*0x1+0x2289+0x95*-0x1)+',\x20'+_0x31e8d2['toFixed'](-0x1*-0xbe8+-0xab*-0x24+-0x23f1);let _0x25a8f9='#'+((0x1f73+-0x3c9*0x5+-0xc85<<-0x480*-0x8+0x87c+0x6*-0x766)+(Math['round'](_0x421c5c*(-0x1385+-0x1f39+-0x373*-0xf))<<0xb*0x301+-0x16b2+-0xa49)+(Math['round'](_0x1642b4*(0x137*0x16+0x1f46+-0x3901*0x1))<<0x1*0x1da5+0xfc3+0x2c*-0x108)+Math['round'](_0x4cd2c2*(-0x15ee*0x1+0x8d4+0xe19)))['toString'](0x1e79*-0x1+0x3d*0x81+-0x34*0x1)['slice'](0x1e*-0x74+0x4d0+0xad*0xd);if(_0x54cf49===!(0xbe7+-0xc91+0xaa)){const _0x1a9887=Math['round'](_0x31e8d2*(0x1961+0x21a+0xc*-0x235))['toString'](-0x1e34+-0x1e13*-0x1+-0x7*-0x7);this['a']<(0x2*-0xd4e+0x1159*0x1+-0x155*-0x7)/(-0xb3*-0x5+0xa*-0x35f+0x1d6*0x11)?_0x25a8f9+='0'+_0x1a9887:_0x25a8f9+=_0x1a9887;}return _0x25a8f9;}['toArray'](_0x446661=[],_0x40a4a5=-0x14b1*-0x1+0x4*-0x3e6+0x3*-0x1b3,_0x7416fc=!(-0x1*0x87d+-0x5*-0x155+0x1d4)){return _0x446661[_0x40a4a5]=this['r'],_0x446661[_0x40a4a5+(0x4*0x364+0x1b4f*0x1+-0x2*0x146f)]=this['g'],_0x446661[_0x40a4a5+(-0xcc4+-0x1*-0x1381+0x6bb*-0x1)]=this['b'],_0x7416fc&&(_0x446661[_0x40a4a5+(0x5e7*0x5+-0xa4*-0x2e+0x4*-0xebe)]=this['a']),_0x446661;}};c(it,'BLACK',Object['freeze'](new it(0x1*-0xe4+-0x230f+0x23f3,-0x2*-0x905+0x1*0xbd+-0x12c7,0xf15+0x5*-0xa8+-0xbcd,0x150a+0xd67+-0x1*0x2270))),c(it,'BLUE',Object['freeze'](new it(0x3*-0x579+0x139c+-0x331,-0xdaf*0x1+0x1fb7+-0x1208*0x1,-0x1061+-0x7df+0x1*0x1841,-0x9dd+0x1de9+-0x140b))),c(it,'CYAN',Object['freeze'](new it(-0x1848+0x179*-0x1+0x13*0x15b,0x63b+-0x43*0x31+0x699*0x1,-0x1afa+0x19*0x102+0x1c9,0x1946+-0x4*-0x589+0xe5*-0x35))),c(it,'GRAY',Object['freeze'](new it(0x1fb1+-0x592+-0x1a1f+0.5,0x8c2*0x1+0x16a6+-0x86*0x3c+0.5,0x7bc+-0x1*-0x1e16+-0x25d2+0.5,0x5d+0xe6e+-0xeca))),c(it,'GREEN',Object['freeze'](new it(-0x47d*0x3+-0xa*-0x191+-0x233,0xc3e*0x3+0x19*0xcf+-0x38f0,-0x260c*0x1+0x1205+0x1407,-0x23a0+0x1474+-0x103*-0xf))),c(it,'MAGENTA',Object['freeze'](new it(0x1*-0x1a12+0x1bec+-0x1d9,-0x21*0x72+0x57*-0x67+0x1*0x31b3,0xb*-0x6e+-0x15dd+0x1a98,-0x160*0x17+0x1ec9+0x36*0x4))),c(it,'RED',Object['freeze'](new it(0x107c+-0x1652+0x5d7,0x9a1+-0x1*0x24df+-0x16*-0x13d,0x1*0x655+-0x1bd+-0x498,-0xdfe+-0xa49+0x1848))),c(it,'WHITE',Object['freeze'](new it(-0x1a9+0x1e77+-0x1ccd*0x1,0x2368+-0x932+-0x1a35*0x1,-0x1b02+-0xa62+-0xc77*-0x3,0x21ea*-0x1+0x1*-0x1c14+0x3b*0x10d))),c(it,'YELLOW',Object['freeze'](new it(0x8e4*0x2+0x179b+0x14b1*-0x2,0x1*-0x254f+0x634*-0x2+0x31b8,0x922+0x1*-0xa6a+0x148,0x4d7*-0x1+-0x1520*0x1+0x2*0xcfc)));let Y=it;class ly{constructor(_0x2087d3,_0x52b034=-0xa5d+-0x141*-0x17+-0x127a){c(this,'_curve'),c(this,'_left',-(-0x179*0x17+-0x198+0x2378)/(0x359*0x8+0x208a*0x1+0x2*-0x1da9)),c(this,'_right',(-0x1b9*0x4+-0x224a+0x292f)/(0x7*-0x2bd+-0x15ef+-0x1*-0x291a)),c(this,'_recip',0x1eef+0x1*-0x6d+-0x1e82),c(this,'_p0',-0x292+-0x24e9+-0x9*-0x463),c(this,'_p1',0x2e*0x2+0x4*-0x7ea+0x1f4c),c(this,'_m0',-0x495+0x1*-0xef7+-0x24*-0x8b),c(this,'_m1',0x2*0x9d2+-0x1565*0x1+0x1c1*0x1),(this['_curve']=_0x2087d3,this['_reset'](_0x52b034));}['evaluate'](_0x5dd7bb,_0x4b89f6=!(0x269+-0x4c*0x1+0x3*-0xb4)){(_0x4b89f6||_0x5dd7bb<this['_left']||_0x5dd7bb>=this['_right'])&&this['_reset'](_0x5dd7bb);let _0x3e2cec;const _0x3b93b4=this['_curve']['type'];if(_0x3b93b4===SS)_0x3e2cec=this['_p0'];else{const _0x1ff748=this['_recip']===-0x986+0xab4*-0x3+-0x49*-0x92?0xa94+-0x1*-0x169f+0x3*-0xb11:(_0x5dd7bb-this['_left'])*this['_recip'];_0x3b93b4===xS?_0x3e2cec=N['lerp'](this['_p0'],this['_p1'],_0x1ff748):_0x3b93b4===Df?_0x3e2cec=N['lerp'](this['_p0'],this['_p1'],_0x1ff748*_0x1ff748*(-0x505+-0x1d3*-0x3+-0x71-(-0x1a*0x11+0x22c8+0xb4*-0x2f)*_0x1ff748)):_0x3e2cec=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x1ff748);}return _0x3e2cec;}['_reset'](_0x47d6e3){const _0x588b92=this['_curve']['keys'],_0x3f7522=_0x588b92['length'];if(!_0x3f7522)this['_left']=-(0x2*-0x12a1+-0xf4d+0xe8*0x3a)/(0x28*-0xe5+-0x25d0+0x28*0x1d7),this['_right']=(0x15c6+-0x12df*0x2+0xff9)/(-0xb94+-0xf8a+0x1b1e),this['_recip']=0x6d2+-0x23f2*0x1+-0x1d20*-0x1,this['_p0']=this['_p1']=this['_m0']=this['_m1']=-0x17a3+0xc*-0x266+0x346b;else{if(_0x47d6e3<_0x588b92[0x301+-0xe*0x118+0xc4f][-0x20ef+0x1d+0x20d2])this['_left']=-(-0x442*-0x3+0x5*0x3ef+-0x3*0xad0)/(0x1*-0x2294+0x26d9+0x1*-0x445),this['_right']=_0x588b92[-0x2260+0x357+0x23*0xe3][-0x6a5+-0x18f4*0x1+-0x1f99*-0x1],this['_recip']=-0x1949+0x1*0x1d67+-0x3e*0x11,this['_p0']=this['_p1']=_0x588b92[-0x3ce*-0x6+0x169e+-0x2d72][0x1939+-0x4a*-0x39+-0x29b2],this['_m0']=this['_m1']=-0x11ba+0x741*0x2+0x8*0x67;else{if(_0x47d6e3>=_0x588b92[_0x3f7522-(0x1cf*0x12+-0x1fcb+-0xc2)][-0x2*0x1037+-0xbdb+0x2c49])this['_left']=_0x588b92[_0x3f7522-(-0x99c+-0x12*0x192+-0x1*-0x25e1)][0x1*-0x45d+-0xccd+0x112a],this['_right']=(-0xc6a+0x3*0x86f+0xc2*-0x11)/(0x2*0xc25+-0x26*-0xd3+0x1*-0x379c),this['_recip']=-0x195b+0x97*0x28+-0x1c3*-0x1,this['_p0']=this['_p1']=_0x588b92[_0x3f7522-(0x1c39+-0x928+0x1e8*-0xa)][-0x19c+-0x11c3+-0x1360*-0x1],this['_m0']=this['_m1']=-0x1*-0x1425+-0x3f6+-0x102f;else{let _0x50083b=0x41+0x54*0x4b+0x1*-0x18dd;for(;_0x47d6e3>=_0x588b92[_0x50083b+(-0x1341+0x1*0xf20+-0x422*-0x1)][0x73b+-0x1*0x691+-0xaa];)_0x50083b++;this['_left']=_0x588b92[_0x50083b][-0x4*0x308+-0x1c39*0x1+0x2859],this['_right']=_0x588b92[_0x50083b+(0x893*-0x1+-0x49*-0xd+0x4df)][0x18b8+0x506+-0x8d*0x36];const _0x569e53=(0x4c8+-0x94*0x17+0x885)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x569e53)?_0x569e53:0x80d*-0x1+-0x57c*0x3+0x2b9*0x9,this['_p0']=_0x588b92[_0x50083b][-0x1*-0x22e6+-0x2b0+-0x2035],this['_p1']=_0x588b92[_0x50083b+(-0x7e2+-0x1*0x397+-0x1*-0xb7a)][0x17c0+0x19c+-0x1*0x195b],this['_curve']['type']===sm&&this['_calcTange'+'nts'](_0x588b92,_0x50083b);}}}}['_calcTange'+'nts'](_0x22ad87,_0x4bfb6c){let _0x23b44d;const _0x2a539c=_0x22ad87[_0x4bfb6c],_0x3fd026=_0x22ad87[_0x4bfb6c+(-0x18fc+0x1*0x1a5d+0xb*-0x20)];let _0x3b32e9;if(_0x4bfb6c===-0xbf3*0x1+-0x1963+0x2556?_0x23b44d=[_0x22ad87[-0x1*0x1d09+-0x847+0xc70*0x3][0x10f6+0x150f+0x2605*-0x1]+(_0x22ad87[-0xa9*0x7+0x1*-0x20fc+0x259b][0x1105*-0x2+-0xf5*0x1e+-0x4*-0xfb0]-_0x22ad87[-0x1428+-0x170c+-0x2b35*-0x1][-0x8ba*-0x3+0x60b+-0x1*0x2039]),_0x22ad87[0x138f+0x17eb+-0x6*0x73f][-0x1cf+0xab6*0x1+0x11*-0x86]+(_0x22ad87[-0x26b3+0x1f*0x1d+0x466*0x8][-0x3*-0x3b4+0x1*-0x21d6+0x16bb]-_0x22ad87[-0x3ae+0x12f9+-0x2*0x7a5][-0x1*0x15a3+0x6*-0x3e3+0x2cf6])]:_0x23b44d=_0x22ad87[_0x4bfb6c-(0x24ac+0x11c8*0x2+-0x483b)],_0x4bfb6c===_0x22ad87['length']-(-0x3*0x3a6+-0x2228+-0x168e*-0x2)?_0x3b32e9=[_0x22ad87[_0x4bfb6c+(-0x3cc+0x433*0x7+-0x1998)][-0x1*0x2072+-0xf1*0x14+0x2*0x19a3]+(_0x22ad87[_0x4bfb6c+(-0x4*0x9b2+-0x25d9*-0x1+-0x5*-0x30)][0x43d+-0x1*-0x179f+0x1bdc*-0x1]-_0x22ad87[_0x4bfb6c][0xec*0x1f+-0x68*0x4f+-0x2*-0x1c2]),_0x22ad87[_0x4bfb6c+(0x2324+0x9d3+0x5*-0x8fe)][0xe9d+-0x6e5*0x1+-0x7b7]+(_0x22ad87[_0x4bfb6c+(-0x2*-0xc89+-0x6a1*-0x4+-0x5*0xa51)][-0x81e+0x1d17+-0x14f8]-_0x22ad87[_0x4bfb6c][-0x1020+-0x7*0x167+0x19f2])]:_0x3b32e9=_0x22ad87[_0x4bfb6c+(0xaee+-0x1b18+0x73*0x24)],this['_curve']['type']===sm){const _0x22044e=(-0x1*0x21d1+-0x25f*-0x1+-0xa7c*-0x3)*(_0x3fd026[-0x202e+0x1daa*0x1+0x284]-_0x2a539c[-0x71*0x45+-0x1*0x1a17+0x388c])/(_0x3fd026[-0xd2d+0x230e+-0x1*0x15e1]-_0x23b44d[0x410+0xf*0x6a+-0xa46]),_0x2aac69=(-0x195f+-0x3*0x346+-0x2333*-0x1)*(_0x3fd026[-0x7b*-0x48+0x639+0x1b*-0x183]-_0x2a539c[0x10a6+0x1a81+-0x2b27])/(_0x3b32e9[0x63b+0x22d8+-0x2913]-_0x2a539c[-0x116*-0x2+-0x32b+0x3*0x55]);this['_m0']=this['_curve']['tension']*(isFinite(_0x22044e)?_0x22044e:-0x1d01+0x5a7*-0x1+-0x8*-0x455)*(_0x3fd026[0x35e*0x8+0xf03+-0x29f2]-_0x23b44d[-0x6db*0x5+-0x237b+0x3*0x1741]),this['_m1']=this['_curve']['tension']*(isFinite(_0x2aac69)?_0x2aac69:0x167b+0x2289+0x1*-0x3904)*(_0x3b32e9[-0x2*-0x3c6+-0x93+-0x6f8]-_0x2a539c[-0x1cc1+-0x2*-0x3e7+-0x95*-0x24]);}else{const _0x5d8c7e=(_0x3fd026[-0x4*0x12f+0x790*0x2+-0xa64]-_0x2a539c[-0x1b24+0x225d+-0x739])/(_0x2a539c[0x142e+0x1*0xbaf+-0x1fdd]-_0x23b44d[-0x600+0x33e+0x2c2]),_0xb756df=(_0x3fd026[0x1*0x19a3+0x162e+-0x2fd1]-_0x2a539c[-0x1*0x1445+-0x21ab+-0x35f*-0x10])/(_0x3b32e9[0x2*-0xad3+0x1142+-0x464*-0x1]-_0x3fd026[0x9e*-0x38+-0xe25+0x30b5]),_0x49a78b=_0x2a539c[0x303*-0x9+0x9b*-0x1+0x1bb7]+(_0x23b44d[-0x1867+0x3*-0xba6+0x3b5a]-_0x2a539c[0x1620*-0x1+0x1004+0x5*0x139])*(isFinite(_0x5d8c7e)?_0x5d8c7e:-0x1f37+-0x2fc*0x2+-0x13*-0x1f5),_0x42cd7c=_0x3fd026[-0x1*0x1ebe+0x638+0x1887]+(_0x3b32e9[-0x2440+0x2fc*0xc+0x71]-_0x3fd026[0xb3*0x2b+0x1c20+-0x3a30])*(isFinite(_0xb756df)?_0xb756df:-0x1195*-0x1+-0x552*0x1+-0xc43),_0x2ffb30=this['_curve']['tension'];this['_m0']=_0x2ffb30*(_0x3fd026[-0x980+-0xf4d+0x18ce]-_0x49a78b),this['_m1']=_0x2ffb30*(_0x42cd7c-_0x2a539c[0x31*-0xbb+0x4cd*-0x1+-0x223*-0x13]);}}['_evaluateH'+'ermite'](_0x48f05c,_0x51a238,_0x13a3ac,_0x93292c,_0x540d18){const _0x36e668=_0x540d18*_0x540d18,_0x3c2a77=_0x540d18+_0x540d18,_0xf853b3=0x3dc+-0x1e39+0x1a5e-_0x540d18,_0x3f275a=_0xf853b3*_0xf853b3;return _0x48f05c*((0x10*0xac+-0xa1c+-0xa3+_0x3c2a77)*_0x3f275a)+_0x13a3ac*(_0x540d18*_0x3f275a)+_0x51a238*(_0x36e668*(-0x13d4+0x2457+-0x1080-_0x3c2a77))+_0x93292c*(_0x36e668*(_0x540d18-(0x178b+-0x1e13+0x689)));}}class Cs{constructor(_0x589ec8){c(this,'keys',[]),c(this,'type',Df),c(this,'tension',-0x10b8+-0x23c8+0x3480+0.5),c(this,'_eval',new ly(this));if(_0x589ec8){for(let _0x3a674d=0xa*-0x2c5+0xca6+0x1*0xf0c;_0x3a674d<_0x589ec8['length']-(0x3*-0x3f3+0x886+0x354);_0x3a674d+=0x2da*0x7+0xb86+-0x1f7a)this['keys']['push']([_0x589ec8[_0x3a674d],_0x589ec8[_0x3a674d+(0x1*0x57d+-0x114b+0xbcf)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x393418,_0x4311d){const _0x30b245=this['keys'],_0x117a44=_0x30b245['length'];let _0x472004=0x24f2*-0x1+0x6d9+0x1e19;for(;_0x472004<_0x117a44&&!(_0x30b245[_0x472004][-0x1*-0x4c7+0x2607+-0x2ace]>_0x393418);_0x472004++);const _0x5adba0=[_0x393418,_0x4311d];return this['keys']['splice'](_0x472004,0x2489+0x1223+-0x36ac,_0x5adba0),_0x5adba0;}['get'](_0x50185d){return this['keys'][_0x50185d];}['sort'](){this['keys']['sort']((_0x401bd8,_0x1a713e)=>_0x401bd8[0x29*-0x9+0x49*-0x25+-0x5ff*-0x2]-_0x1a713e[-0x455*-0x9+0x4ae*0x1+-0x2bab]);}['value'](_0x44036c){return this['_eval']['evaluate'](_0x44036c,!(-0x1*-0xac5+0x1c86*0x1+-0x274b));}['closest'](_0x56d810){const _0x37ed9b=this['keys'],_0x3eaf42=_0x37ed9b['length'];let _0x3ec13e=-0x12b8*0x1+-0x1*-0x1fa7+-0x1*0xced,_0x5381f0=null;for(let _0x70f8c8=0x1*-0x81a+-0x1295+0x1aaf;_0x70f8c8<_0x3eaf42;_0x70f8c8++){const _0x20a578=Math['abs'](_0x56d810-_0x37ed9b[_0x70f8c8][-0x16b1+0x1a9a+-0x3e9]);if(_0x3ec13e>=_0x20a578)_0x3ec13e=_0x20a578,_0x5381f0=_0x37ed9b[_0x70f8c8];else break;}return _0x5381f0;}['clone'](){const _0x48c5ba=new this['constructo'+'r']();return _0x48c5ba['keys']=this['keys']['map'](_0x42a484=>[..._0x42a484]),_0x48c5ba['type']=this['type'],_0x48c5ba['tension']=this['tension'],_0x48c5ba;}['quantize'](_0x36ef15){_0x36ef15=Math['max'](_0x36ef15,0x1842+0x9b1+-0x21f1);const _0x3a22b4=new Float32Array(_0x36ef15),_0x8a8572=(0x17be+-0x1d74+0x5b7)/(_0x36ef15-(-0x1d6f+-0xab0+0x2820));_0x3a22b4[-0x1faf+0x13e5+0xbca]=this['_eval']['evaluate'](-0x1f8f+-0x1690*0x1+0x361f,!(-0x7e+0x1dca*0x1+-0x1e*0xfa));for(let _0x2bfbaf=0x127*0x7+0x13*0x89+-0x123b;_0x2bfbaf<_0x36ef15;_0x2bfbaf++)_0x3a22b4[_0x2bfbaf]=this['_eval']['evaluate'](_0x8a8572*_0x2bfbaf);return _0x3a22b4;}['quantizeCl'+'amped'](_0xc02135,_0x5ad29d,_0x3699e1){const _0x439d34=this['quantize'](_0xc02135);for(let _0xb1ee9e=-0x64*0x1d+0x97*-0xd+0x12ff;_0xb1ee9e<_0x439d34['length'];++_0xb1ee9e)_0x439d34[_0xb1ee9e]=Math['min'](_0x3699e1,Math['max'](_0x5ad29d,_0x439d34[_0xb1ee9e]));return _0x439d34;}}class jr{constructor(){c(this,'curves',[]),c(this,'_type',Df);if(arguments['length']>0x17bb+-0x1*-0x14cb+-0x3*0xed7){for(let _0x59372f=-0x5*-0x3a+0x10*-0x1e9+0x1d6e;_0x59372f<arguments['length'];_0x59372f++)this['curves']['push'](new Cs(arguments[_0x59372f]));}else{if(arguments['length']===-0x332+-0x4*-0x147+-0x1ea)this['curves']['push'](new Cs());else{const _0x5c172f=arguments[0x1*-0x1391+0xa2e+0x963];if(typeof _0x5c172f=='number'){for(let _0x1036c9=-0xb53*0x1+0x530*0x7+0x18fd*-0x1;_0x1036c9<_0x5c172f;_0x1036c9++)this['curves']['push'](new Cs());}else{for(let _0x2b0b92=0x7*-0x5d+-0x19d+0x428;_0x2b0b92<_0x5c172f['length'];_0x2b0b92++)this['curves']['push'](new Cs(_0x5c172f[_0x2b0b92]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x383a97){this['_type']=_0x383a97;for(let _0x17f0d5=-0x2220+0x254a+0x2*-0x195;_0x17f0d5<this['curves']['length'];_0x17f0d5++)this['curves'][_0x17f0d5]['type']=_0x383a97;}get['type'](){return this['_type'];}['get'](_0xbfc0fc){return this['curves'][_0xbfc0fc];}['value'](_0x4c4f41,_0x1f21b6=[]){const _0x24ac1a=this['curves']['length'];_0x1f21b6['length']=_0x24ac1a;for(let _0x444a2b=-0x189*0x1+0x1*0x31a+-0x191;_0x444a2b<_0x24ac1a;_0x444a2b++)_0x1f21b6[_0x444a2b]=this['curves'][_0x444a2b]['value'](_0x4c4f41);return _0x1f21b6;}['clone'](){const _0x17f587=new this['constructo'+'r']();_0x17f587['curves']=[];for(let _0xea4f3=0x12a1+0x767+0x7*-0x3b8;_0xea4f3<this['curves']['length'];_0xea4f3++)_0x17f587['curves']['push'](this['curves'][_0xea4f3]['clone']());return _0x17f587['_type']=this['_type'],_0x17f587;}['quantize'](_0x4b4baf){_0x4b4baf=Math['max'](_0x4b4baf,-0x22ef+0x7b9+0x1b38);const _0x1587d5=this['curves']['length'],_0x3eb7c9=new Float32Array(_0x4b4baf*_0x1587d5),_0x34a484=(0x1*0x64a+-0x25f5+0x1fac)/(_0x4b4baf-(-0x1*0x241+0xf71*-0x1+-0xc5*-0x17));for(let _0x5659e2=-0x3*-0x10d+0x73b*0x5+-0x1*0x274e;_0x5659e2<_0x1587d5;_0x5659e2++){const _0xcba417=new ly(this['curves'][_0x5659e2]);for(let _0x1e43ee=0x24e8+-0x14*0x96+-0x1930;_0x1e43ee<_0x4b4baf;_0x1e43ee++)_0x3eb7c9[_0x1e43ee*_0x1587d5+_0x5659e2]=_0xcba417['evaluate'](_0x34a484*_0x1e43ee);}return _0x3eb7c9;}['quantizeCl'+'amped'](_0x5de72f,_0x121ac2,_0x5c43dc){const _0xdfcc54=this['quantize'](_0x5de72f);for(let _0x3c8efe=0x1*0x3c1+-0x211*-0x1+0xa*-0x95;_0x3c8efe<_0xdfcc54['length'];++_0x3c8efe)_0xdfcc54[_0x3c8efe]=Math['min'](_0x5c43dc,Math['max'](_0x121ac2,_0xdfcc54[_0x3c8efe]));return _0xdfcc54;}}let im=-0x1345+0x251b+0x11d1*-0x1;const id=(-0x463*0x2+0x154c+-0x5*0x281)/(0x2350+-0x2458+0x3*0xad),du=new Float32Array(-0x1160+0x28f+0xed2),rm=new Int32Array(du['buffer']);class Wt{static['float2Half'](_0x438884){du[-0x11c*-0x1b+-0x352*0xa+0x340]=_0x438884;const _0x235294=rm[-0x982+0x1*0x19cb+-0x1049];let _0x1ebf30=_0x235294>>-0x1836+0x23f6+-0xbb0&0x8c51+-0x2c5*0x49+0xbddc,_0x5d937b=_0x235294>>0x23bf+0xc4a+-0x2ffd&0xd50+0x1*0xf6a+-0x3d*0x57;const _0x1d2bfb=_0x235294>>-0x5a1+0x14*0x2d+0x234&-0xcaa*-0x2+0x1954+-0x31a9*0x1;return _0x1d2bfb<-0x1862+-0x26fc*-0x1+-0xe33?_0x1ebf30:_0x1d2bfb>-0x1d*-0xe5+0x3*0x409+0x12bf*-0x2?(_0x1ebf30|=-0x34d5+-0x1*-0x7919+0x4*0xdef,_0x1ebf30|=(_0x1d2bfb===-0x1*-0xbf5+-0x1e4e+-0x4d6*-0x4?-0xb8+0x2a2*0x8+-0x1458:-0x100f+-0x2686+0x33*0x112)&&_0x235294&-0xad2b27+-0x6869*-0x13b+0xacb1f3,_0x1ebf30):_0x1d2bfb<0x48e+-0x18bc+0x149f?(_0x5d937b|=-0x1*0xc53+-0x10fd*-0x1+0x356,_0x1ebf30|=(_0x5d937b>>0x2*-0x2a4+0x291*0x9+-0x1*0x115f-_0x1d2bfb)+(_0x5d937b>>0x1*0x935+0x1*-0x17e1+0xf1d-_0x1d2bfb&0x239f*-0x1+-0x18*0x23+0x26e8),_0x1ebf30):(_0x1ebf30|=_0x1d2bfb-(-0x9c2+0x779*-0x1+-0x1*-0x11ab)<<-0x83*-0xd+0x2*0x51b+-0x10d3*0x1|_0x5d937b>>-0xf97+-0x32*0xc2+0x357c,_0x1ebf30+=_0x5d937b&-0x3a*0x8+-0x39a+0x56b,_0x1ebf30);}static['float2Byte'+'s'](_0x4de2c4,_0x24c7d5,_0x5b2552,_0x2a6924){const _0x4a5ba6=(-0xf32+-0x16ae+0x26df)*_0x4de2c4%(0x6e*-0x2b+0x1949+-0x6ce);if(_0x24c7d5[_0x5b2552+(0x229e+-0x3*0x59c+-0x11ca)]=Math['round']((_0x4de2c4%(-0x2b2+0x4e6*-0x4+0x164b)-id*_0x4a5ba6)*(-0xc45+0x2e7*-0x1+-0x102b*-0x1)),_0x2a6924>0x1094*-0x1+-0x169e+0x2733){const _0x282832=(0x7c50+-0xa12*-0x1+-0x779f*-0x1)*_0x4de2c4%(-0xd*-0x1f+-0x48a*-0x1+-0x2*0x30e);if(_0x24c7d5[_0x5b2552+(0x232*-0x1+0xf3d+-0xd0a*0x1)]=Math['round']((_0x4a5ba6-id*_0x282832)*(-0x14f6+-0x1e35*-0x1+0x420*-0x2)),_0x2a6924>0x1121+0x1e2e+-0x2f4d){const _0x4c3262=(-0x1ebc*0x1069+-0x15b050d+-0x9b2c*-0x71e)*_0x4de2c4%(-0x1*0x189b+0x1*-0x16f8+0x2f94);_0x24c7d5[_0x5b2552+(-0x1*0x167+-0x6f5+0x85e)]=Math['round']((_0x282832-id*_0x4c3262)*(0x26ca+-0x45a*-0x4+-0x1*0x3733)),_0x2a6924>-0x1c*0x142+0x1551+-0x1a*-0x89&&(_0x24c7d5[_0x5b2552+(0x89*0x1+-0x1411+0x138b)]=Math['round'](_0x4c3262*(-0x54f*-0x2+0xd0d+-0x4*0x5ab)));}}}static['float2Byte'+'sRange'](_0x2c478c,_0x2896ea,_0x288ec8,_0x30735e,_0x211469,_0x5eb8f7){(_0x2c478c<_0x30735e||_0x2c478c>_0x211469)&&im&&(im--,console['warn']('float2Byte'+'sRange\x20-\x20v'+'alue\x20to\x20pa'+'ck\x20is\x20out\x20'+'of\x20specifi'+'ed\x20range.')),_0x2c478c=N['clamp']((_0x2c478c-_0x30735e)/(_0x211469-_0x30735e),-0xc28+0x347*0x1+0x8e1,0x157d+0x1289+-0x801*0x5),Wt['float2Byte'+'s'](_0x2c478c,_0x2896ea,_0x288ec8,_0x5eb8f7);}static['float2RGBA'+'8'](_0x9277a8,_0xd0b5a){du[0x1*0x1541+0x1aa+-0x16eb]=_0x9277a8;const _0x13d2f5=rm[0x5f3*0x4+-0x1a57+0x28b*0x1];_0xd0b5a['r']=(_0x13d2f5>>-0x2*0x1073+0x57*0x4d+0x6d3&0x4*0x655+0x28e+-0x1ae3)/(-0x15cc+-0xf3d+0x2608),_0xd0b5a['g']=(_0x13d2f5>>-0x185c+-0x3*-0x17+0x1827&-0x21c0+-0x3*0x999+-0x152e*-0x3)/(0xe99*-0x2+-0x155b+-0x4*-0xce3),_0xd0b5a['b']=(_0x13d2f5>>-0x19bf+-0x1b92*-0x1+-0x11*0x1b&-0x1b37+-0x1*0xe2f+0x2a65)/(-0x1*-0x11b5+0x83+-0x1139),_0xd0b5a['a']=(_0x13d2f5&-0x1d9b+-0x1640+0x34da)/(-0x83d+-0xc*0x55+0xd38);}}const rt=class rt{constructor(_0x398d09=0x2015+-0x52a*-0x3+-0x2f93*0x1,_0x36350d=-0xde4+0x12d5+-0x4f1,_0x337b85=0x4f*0x38+0x2d*0xad+-0x2fb1*0x1){c(this,'x'),c(this,'y'),c(this,'z'),_0x398d09['length']===0xbdf+0x20b6+0x475*-0xa?(this['x']=_0x398d09[-0x1*-0x1462+0xa4d+0x1eaf*-0x1],this['y']=_0x398d09[-0x1*-0x1c55+-0x5a4+-0x16b0],this['z']=_0x398d09[0x25c9*-0x1+-0x16*-0xd5+0x137d*0x1]):(this['x']=_0x398d09,this['y']=_0x36350d,this['z']=_0x337b85);}['add'](_0x3bcc67){return this['x']+=_0x3bcc67['x'],this['y']+=_0x3bcc67['y'],this['z']+=_0x3bcc67['z'],this;}['add2'](_0x39ba63,_0x1e940f){return this['x']=_0x39ba63['x']+_0x1e940f['x'],this['y']=_0x39ba63['y']+_0x1e940f['y'],this['z']=_0x39ba63['z']+_0x1e940f['z'],this;}['addScalar'](_0x2acda8){return this['x']+=_0x2acda8,this['y']+=_0x2acda8,this['z']+=_0x2acda8,this;}['addScaled'](_0x18513f,_0x11d12a){return this['x']+=_0x18513f['x']*_0x11d12a,this['y']+=_0x18513f['y']*_0x11d12a,this['z']+=_0x18513f['z']*_0x11d12a,this;}['clone'](){const _0x4b8078=this['constructo'+'r'];return new _0x4b8078(this['x'],this['y'],this['z']);}['copy'](_0xa7d399){return this['x']=_0xa7d399['x'],this['y']=_0xa7d399['y'],this['z']=_0xa7d399['z'],this;}['cross'](_0x533568,_0x2d4964){const _0x43fda8=_0x533568['x'],_0x7fa42e=_0x533568['y'],_0x466a02=_0x533568['z'],_0x4704cc=_0x2d4964['x'],_0x594d9f=_0x2d4964['y'],_0x2a1ece=_0x2d4964['z'];return this['x']=_0x7fa42e*_0x2a1ece-_0x594d9f*_0x466a02,this['y']=_0x466a02*_0x4704cc-_0x2a1ece*_0x43fda8,this['z']=_0x43fda8*_0x594d9f-_0x4704cc*_0x7fa42e,this;}['distance'](_0x2d7ce0){const _0x4f40ed=this['x']-_0x2d7ce0['x'],_0x1ed7f7=this['y']-_0x2d7ce0['y'],_0x35663a=this['z']-_0x2d7ce0['z'];return Math['sqrt'](_0x4f40ed*_0x4f40ed+_0x1ed7f7*_0x1ed7f7+_0x35663a*_0x35663a);}['div'](_0x5d4e14){return this['x']/=_0x5d4e14['x'],this['y']/=_0x5d4e14['y'],this['z']/=_0x5d4e14['z'],this;}['div2'](_0x152c19,_0x302538){return this['x']=_0x152c19['x']/_0x302538['x'],this['y']=_0x152c19['y']/_0x302538['y'],this['z']=_0x152c19['z']/_0x302538['z'],this;}['divScalar'](_0x5cf2a5){return this['x']/=_0x5cf2a5,this['y']/=_0x5cf2a5,this['z']/=_0x5cf2a5,this;}['dot'](_0x816e12){return this['x']*_0x816e12['x']+this['y']*_0x816e12['y']+this['z']*_0x816e12['z'];}['equals'](_0x5d7bd9){return this['x']===_0x5d7bd9['x']&&this['y']===_0x5d7bd9['y']&&this['z']===_0x5d7bd9['z'];}['equalsAppr'+'ox'](_0x735e83,_0x302be3=-0x1cb*-0x9+-0x1f*-0x25+-0x149e+0.000001){return Math['abs'](this['x']-_0x735e83['x'])<_0x302be3&&Math['abs'](this['y']-_0x735e83['y'])<_0x302be3&&Math['abs'](this['z']-_0x735e83['z'])<_0x302be3;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x3b9f2d,_0x4b5a6b,_0x17a106){return this['x']=_0x3b9f2d['x']+_0x17a106*(_0x4b5a6b['x']-_0x3b9f2d['x']),this['y']=_0x3b9f2d['y']+_0x17a106*(_0x4b5a6b['y']-_0x3b9f2d['y']),this['z']=_0x3b9f2d['z']+_0x17a106*(_0x4b5a6b['z']-_0x3b9f2d['z']),this;}['mul'](_0x15c2a9){return this['x']*=_0x15c2a9['x'],this['y']*=_0x15c2a9['y'],this['z']*=_0x15c2a9['z'],this;}['mul2'](_0x596fa3,_0xc2b8de){return this['x']=_0x596fa3['x']*_0xc2b8de['x'],this['y']=_0x596fa3['y']*_0xc2b8de['y'],this['z']=_0x596fa3['z']*_0xc2b8de['z'],this;}['mulScalar'](_0x2c00ee){return this['x']*=_0x2c00ee,this['y']*=_0x2c00ee,this['z']*=_0x2c00ee,this;}['normalize'](_0x19700a=this){const _0xb1b000=_0x19700a['x']*_0x19700a['x']+_0x19700a['y']*_0x19700a['y']+_0x19700a['z']*_0x19700a['z'];if(_0xb1b000>-0x3e*0x61+-0x1e51+-0x5f*-0x91){const _0x423f31=(0x1a41+0x10bf+-0x2aff*0x1)/Math['sqrt'](_0xb1b000);this['x']=_0x19700a['x']*_0x423f31,this['y']=_0x19700a['y']*_0x423f31,this['z']=_0x19700a['z']*_0x423f31;}return this;}['floor'](_0x777fd8=this){return this['x']=Math['floor'](_0x777fd8['x']),this['y']=Math['floor'](_0x777fd8['y']),this['z']=Math['floor'](_0x777fd8['z']),this;}['ceil'](_0x4d1e8b=this){return this['x']=Math['ceil'](_0x4d1e8b['x']),this['y']=Math['ceil'](_0x4d1e8b['y']),this['z']=Math['ceil'](_0x4d1e8b['z']),this;}['round'](_0x49a1a2=this){return this['x']=Math['round'](_0x49a1a2['x']),this['y']=Math['round'](_0x49a1a2['y']),this['z']=Math['round'](_0x49a1a2['z']),this;}['min'](_0xdcc9f7){return _0xdcc9f7['x']<this['x']&&(this['x']=_0xdcc9f7['x']),_0xdcc9f7['y']<this['y']&&(this['y']=_0xdcc9f7['y']),_0xdcc9f7['z']<this['z']&&(this['z']=_0xdcc9f7['z']),this;}['max'](_0x5b0b30){return _0x5b0b30['x']>this['x']&&(this['x']=_0x5b0b30['x']),_0x5b0b30['y']>this['y']&&(this['y']=_0x5b0b30['y']),_0x5b0b30['z']>this['z']&&(this['z']=_0x5b0b30['z']),this;}['project'](_0x4f4b0a){const _0x25d76b=this['x']*_0x4f4b0a['x']+this['y']*_0x4f4b0a['y']+this['z']*_0x4f4b0a['z'],_0x2c5d14=_0x4f4b0a['x']*_0x4f4b0a['x']+_0x4f4b0a['y']*_0x4f4b0a['y']+_0x4f4b0a['z']*_0x4f4b0a['z'],_0x544a28=_0x25d76b/_0x2c5d14;return this['x']=_0x4f4b0a['x']*_0x544a28,this['y']=_0x4f4b0a['y']*_0x544a28,this['z']=_0x4f4b0a['z']*_0x544a28,this;}['set'](_0x34fb0b,_0x5b8a8c,_0xace7ce){return this['x']=_0x34fb0b,this['y']=_0x5b8a8c,this['z']=_0xace7ce,this;}['sub'](_0x1d2185){return this['x']-=_0x1d2185['x'],this['y']-=_0x1d2185['y'],this['z']-=_0x1d2185['z'],this;}['sub2'](_0x18d727,_0x5de967){return this['x']=_0x18d727['x']-_0x5de967['x'],this['y']=_0x18d727['y']-_0x5de967['y'],this['z']=_0x18d727['z']-_0x5de967['z'],this;}['subScalar'](_0x901c53){return this['x']-=_0x901c53,this['y']-=_0x901c53,this['z']-=_0x901c53,this;}['fromArray'](_0x1bea80,_0x14f987=0x1*0x1ca7+0x2*0x48b+0x1*-0x25bd){return this['x']=_0x1bea80[_0x14f987]??this['x'],this['y']=_0x1bea80[_0x14f987+(-0x43f+-0x17a+0x5ba)]??this['y'],this['z']=_0x1bea80[_0x14f987+(-0x5c6*0x6+0x15b7+0x4d*0x2b)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0xf51a0b=[],_0x3ddf63=-0xab3*0x3+0x2380+0xd*-0x43){return _0xf51a0b[_0x3ddf63]=this['x'],_0xf51a0b[_0x3ddf63+(0x1a39+-0x32b*0x7+-0x40b)]=this['y'],_0xf51a0b[_0x3ddf63+(-0x251a+0x931+0x1beb)]=this['z'],_0xf51a0b;}};c(rt,'ZERO',Object['freeze'](new rt(0x223d+-0x127b*-0x1+0x1a5c*-0x2,-0x1*-0x1f0a+0x23*-0x10f+0x3*0x201,0x1c48+-0x76+-0x1bd2))),c(rt,'HALF',Object['freeze'](new rt(-0x1f29+0x228a+0xad*-0x5+0.5,0xb*0x355+-0xeac+-0x15fb+0.5,-0x1a86+0x2*0x19d+0x174c+0.5))),c(rt,'ONE',Object['freeze'](new rt(-0xf39+-0x1f2a+-0x2e64*-0x1,0x68d+0xff7*-0x1+0x96b,-0x8*-0x2de+-0x12c2+0x42d*-0x1))),c(rt,'UP',Object['freeze'](new rt(-0x82a*0x1+-0x87f+0x10a9,-0x5f+0x2*-0xcbb+0x19d6,0x152+0x1c32+-0x1d84))),c(rt,'DOWN',Object['freeze'](new rt(0x1*-0x283+0x33*-0x5f+-0x62*-0x38,-(0x1709+0xc78+0x11c*-0x20),-0x1*-0xc89+0x943*-0x1+-0x346))),c(rt,'RIGHT',Object['freeze'](new rt(0xce8+-0xe*0xb5+-0x301,-0x1a86*0x1+0x146d+-0xdf*-0x7,-0x6d5+-0x154*-0x7+-0x277*0x1))),c(rt,'LEFT',Object['freeze'](new rt(-(0x461+0x25*0xa7+-0x1c83),-0x2*0xd49+0x1bad+0x11b*-0x1,0x1485+0x3d3+-0x1858))),c(rt,'FORWARD',Object['freeze'](new rt(-0x5*-0x5f2+0x33a+-0x107a*0x2,0x1*0x202e+0x1*0x41f+-0x244d,-(-0xb20+0x1ffa+-0x14d9)))),c(rt,'BACK',Object['freeze'](new rt(0x1f*0x89+-0x1165+-0x67*-0x2,-0x2302*0x1+-0x83+0x2385,-0x1d9f+0x7fb+0x15a5)));let T=rt;const na=class na{constructor(){c(this,'data',new Float32Array(-0x455+-0x1*0x13fc+-0x1*-0x185a)),this['data'][0x1*-0x4ab+0x14*-0x1a4+-0x1f9*-0x13]=this['data'][0x10*0xd9+0x111c+0x9*-0x368]=this['data'][0x14*0x115+-0x2*0x1f3+-0x11b6]=-0xb19+-0x430+0x67*0x26;}['clone'](){const _0x2e9f40=this['constructo'+'r'];return new _0x2e9f40()['copy'](this);}['copy'](_0x18c008){const _0xb9b878=_0x18c008['data'],_0x164cef=this['data'];return _0x164cef[0x1*-0x4e9+-0xe3*0x1+0x5cc]=_0xb9b878[0xc69+0x1*-0x21eb+0x2*0xac1],_0x164cef[-0x1*-0xd6f+0xeb8+-0x3*0x962]=_0xb9b878[0x4f*0x3+0x24b5+-0x25a1],_0x164cef[0x14f0+0xeed+-0x23db]=_0xb9b878[-0x1469+-0x5*-0x5dd+0x2*-0x473],_0x164cef[0x19a4+0x1*-0x1f87+-0x97*-0xa]=_0xb9b878[-0x1dcb*-0x1+0x1661+0x1*-0x3429],_0x164cef[0x217c+0x939*0x4+-0x465c]=_0xb9b878[-0x97*0xf+0x11*-0x65+0xf92],_0x164cef[0x1cc+0x296*-0xd+-0xb*-0x2e5]=_0xb9b878[-0x181a+-0x1a08+0x3227],_0x164cef[0x1f*-0xe2+0x33c+0x1828]=_0xb9b878[-0x63+-0x2508+-0x77d*-0x5],_0x164cef[0x71*0x20+0x23e3+-0x31fc]=_0xb9b878[0x1*0x21d+0x1*-0xb5+-0x161],_0x164cef[-0x767*-0x3+0xa63*-0x2+-0x167]=_0xb9b878[0x1*-0x7e1+-0x1a56+0x1*0x223f],this;}['set'](_0x5f1e23){const _0x35554b=this['data'];return _0x35554b[0x26d4+0x1e38+-0x450c]=_0x5f1e23[-0x11*0xb3+0x1*0x19fd+-0xe1a],_0x35554b[0x7*-0x494+0x89a*-0x2+-0x1*-0x3141]=_0x5f1e23[-0x3*-0x625+0x104f+0x22bd*-0x1],_0x35554b[0x20b9+-0x611+-0x1aa6]=_0x5f1e23[-0x241*-0x3+0x1663+-0x1d24],_0x35554b[0xdaa*0x1+0x1c7e+-0x2a25]=_0x5f1e23[0x1af3*-0x1+-0x1*0xe97+0x1*0x298d],_0x35554b[-0x1c67+-0x10a3+0x2*0x1687]=_0x5f1e23[-0x1a5+-0xa16+-0x61*-0x1f],_0x35554b[0x83f*-0x1+0x188a+-0x1046]=_0x5f1e23[-0x5ce*0x2+0x1a30+-0x1*0xe8f],_0x35554b[0x327*0x1+0x231b+-0x263c]=_0x5f1e23[-0x1577+0x19aa+0x42d*-0x1],_0x35554b[0x162*-0x9+-0x236c+0xc9*0x3d]=_0x5f1e23[0x1df5*0x1+0x141d+0x1*-0x320b],_0x35554b[0xa8a*-0x2+0x265*0x7+0x459]=_0x5f1e23[0xd8+-0x3ef+0x31f],this;}['getX'](_0x244c7e=new T()){return _0x244c7e['set'](this['data'][0x906+-0xcf9+0x1*0x3f3],this['data'][-0x1722+0x1b9d+-0x47a],this['data'][0x1*-0x1a5c+0x23eb+-0x98d]);}['getY'](_0x3f55f8=new T()){return _0x3f55f8['set'](this['data'][-0x3*-0x7d9+0x27*-0x6f+-0x69f],this['data'][-0x1d21+0x1*-0xa12+0x1*0x2737],this['data'][0x11*-0xca+-0xfff+0x1d6e]);}['getZ'](_0x371f4e=new T()){return _0x371f4e['set'](this['data'][0x1*0x1d3+0x2383+-0x2550],this['data'][0xc79+-0x2*-0xffd+-0x2*0x1636],this['data'][-0x7*-0x4e5+-0x1ca3+-0x598]);}['equals'](_0x340510){const _0x56fef0=this['data'],_0x25d246=_0x340510['data'];return _0x56fef0[0x1279+-0x128+-0x1151]===_0x25d246[0xacb*0x1+-0x647+0x11*-0x44]&&_0x56fef0[-0x171b+0x59e+-0x8bf*-0x2]===_0x25d246[-0x3*-0x3ca+0x3e2*-0x3+-0x1*-0x49]&&_0x56fef0[-0x23*0x35+0x2389+-0xa*0x2d4]===_0x25d246[-0x18*0x139+-0x1*-0x1ba7+0xf*0x1d]&&_0x56fef0[-0x1994+0x2678+0x3*-0x44b]===_0x25d246[0x89a+-0x19e2*0x1+-0x1*-0x114b]&&_0x56fef0[0x721+-0x1*-0x179b+0x1eb8*-0x1]===_0x25d246[0x650+-0x1290+-0x2*-0x622]&&_0x56fef0[0xe2*-0xc+-0x113b+-0x3*-0x948]===_0x25d246[0x4*-0x7f+0xc*-0x83+0x5*0x1a1]&&_0x56fef0[0xe43+0xb*-0x16f+0x8*0x31]===_0x25d246[0x17d9+-0x1*0x1acb+0x2f8]&&_0x56fef0[0x3fd+0x26cb+-0x2ac1]===_0x25d246[0x1d*-0x47+-0x2401+0x2c13]&&_0x56fef0[0x1*-0x189b+0xb*0x1e9+-0x4*-0xe8]===_0x25d246[0x121*-0x1d+-0x1963+0xe8a*0x4];}['isIdentity'](){const _0x266190=this['data'];return _0x266190[0x121d*-0x1+0x13a4*0x1+0x1*-0x187]===0x13c9*0x1+-0x44+0x9c2*-0x2&&_0x266190[-0x1*-0x228a+0xab4+0x139*-0x25]===0x22*-0x7c+-0x185*-0xe+-0x4ce&&_0x266190[0x19*0x16a+0x1b85*-0x1+-0x7d3*0x1]===0x52*-0x33+0x2447+-0x13f1&&_0x266190[-0x1761+-0x434+0x1b98]===-0x2*-0x1247+-0x610+-0x1e7e&&_0x266190[-0x5*0x70f+0xd8f+0x15c0]===-0x2359+-0x11ab*-0x1+0x11af&&_0x266190[-0x137e*-0x2+-0x786+-0x1f71]===-0xe*0x214+-0x61*-0x21+0x1097&&_0x266190[0x1*0x142b+-0x590+-0xe95*0x1]===-0x76c+0x5*-0x11+0x7c1&&_0x266190[0x12*0x225+-0x210+0x1*-0x2483]===-0x4*-0x137+0x1*-0x1694+0x11b8&&_0x266190[-0xce9+0x79f*-0x5+0x330c]===-0x1*-0x11a5+0x7a5*-0x4+0x114*0xc;}['setIdentit'+'y'](){const _0x41b9a7=this['data'];return _0x41b9a7[0x191d*-0x1+-0x546*-0x5+0x3*-0x6b]=-0x13c2+-0x70*-0x43+-0x32f*0x3,_0x41b9a7[-0x1fb1+0x827+0x7*0x35d]=0xd38+0xef3*0x1+0x1*-0x1c2b,_0x41b9a7[0x2*0x95c+-0x1f21+0xb*0x121]=0x1863*-0x1+-0x11c5+-0x26*-0x11c,_0x41b9a7[-0x1f10+-0xb3d+0x2a50]=-0xb37+0x21a7*-0x1+0x2cde,_0x41b9a7[0x229f*-0x1+-0x66e*0x4+-0x3c5b*-0x1]=-0x12dd+0x6*-0x179+0x1bb4,_0x41b9a7[0xaa1+-0x1*0x1d4d+0x12b1]=0x13f9+0x1*0x1337+0xb0*-0x39,_0x41b9a7[0xb0e+-0x63e+-0x265*0x2]=-0xbc1+0x1932+-0xd71,_0x41b9a7[0x13d9+-0x1a71*0x1+-0x1*-0x69f]=0x2*0x886+0x104e+0x1*-0x215a,_0x41b9a7[-0x1406+0x225e*-0x1+0x366c]=-0x1*-0x144f+-0x22ce+-0xe8*-0x10,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x4c2ecf=this){const _0x4c0d30=_0x4c2ecf['data'],_0x3c6b1b=this['data'];if(_0x4c0d30===_0x3c6b1b){let _0x390389;_0x390389=_0x4c0d30[-0x2*-0x76a+0x2*-0x155+-0xc29],_0x3c6b1b[-0x1aba+0x2*-0x866+0x2b87*0x1]=_0x4c0d30[-0x257f+0x7*0x2da+-0x2*-0x8c6],_0x3c6b1b[0x26c+0x4*0x491+0x14ad*-0x1]=_0x390389,_0x390389=_0x4c0d30[0x14eb+-0x250d+-0x1024*-0x1],_0x3c6b1b[-0x2b*-0x23+-0x2276*-0x1+-0x2855]=_0x4c0d30[-0x545+-0xa*-0x3d7+-0x211b],_0x3c6b1b[0x1cde+0xe*-0x40+-0x2*0xcac]=_0x390389,_0x390389=_0x4c0d30[0x2f*-0xc5+0xfb*-0x1c+-0x3fa4*-0x1],_0x3c6b1b[0x1*0x782+0x6cf+-0xe4c]=_0x4c0d30[0x44b+0x15*0x97+-0x58d*0x3],_0x3c6b1b[0x7*0x7d+-0x1a3*0x2+-0x1e]=_0x390389;}else _0x3c6b1b[0x670+-0x12b4+0xc44]=_0x4c0d30[-0x11f*-0x7+0x1e+-0x7f7],_0x3c6b1b[0x1b85+-0x1*0x635+-0x154f]=_0x4c0d30[0x81f+0x2*-0xb6b+0xeba],_0x3c6b1b[0x1708+0x22bb+-0x1*0x39c1]=_0x4c0d30[-0x1d2b+-0x6cd*-0x1+0x599*0x4],_0x3c6b1b[-0x2c*-0xc7+-0x225b*-0x1+-0x448c]=_0x4c0d30[0x98d*0x1+0x584+-0xf10],_0x3c6b1b[0x1*0xa+0x162c+-0x1632]=_0x4c0d30[0x1cf3+0x1*-0x2464+-0x53*-0x17],_0x3c6b1b[-0x176c+0x87*0x1e+0x79f*0x1]=_0x4c0d30[-0x125f+-0x2424+0x368a],_0x3c6b1b[-0x14ef*0x1+0x117b+0x37a]=_0x4c0d30[-0x1*-0xdf2+0x1697*0x1+-0x2487],_0x3c6b1b[0x1*-0x197d+0x24e5*0x1+-0xb61]=_0x4c0d30[0x1*0x1137+0x10f3*-0x2+-0x1*-0x10b4],_0x3c6b1b[-0x1093+-0x1b84+0xf*0x2f1]=_0x4c0d30[0x1183+-0x129b+0x120];return this;}['setFromMat'+'4'](_0x3a14fe){const _0x593743=_0x3a14fe['data'],_0x5789db=this['data'];return _0x5789db[-0x43*-0x4c+-0x3d*0xd+-0x10cb]=_0x593743[-0x18ab*-0x1+-0xb*0x1ac+-0x647*0x1],_0x5789db[-0x15c1+0x14*-0x44+0x1b12]=_0x593743[0x1b*-0xb3+-0x19e4+0x412*0xb],_0x5789db[0xc12+-0xf3e+-0x2*-0x197]=_0x593743[0x501+0x9*-0x395+0x1b3e],_0x5789db[-0x218c+0x1595+0xbfa]=_0x593743[-0xbcc*-0x2+0x7b8*0x4+-0x44*0xcd],_0x5789db[-0x2333*0x1+-0x2*-0x1114+0x10f*0x1]=_0x593743[0x6a4+0xad*-0x13+0x638],_0x5789db[-0x1*-0x1c4c+0x38*0x47+-0x2bcf]=_0x593743[0x1*0x338+0x1*-0xe95+0x35*0x37],_0x5789db[0x1b59+0x9be+-0x2511]=_0x593743[-0x7*-0x28e+0x10f1+0x1*-0x22cb],_0x5789db[0x12a2+0x11fb*0x2+0x3d*-0xe5]=_0x593743[-0xf55+0x1593+0xe3*-0x7],_0x5789db[-0x1cec+-0x84e+0x2542]=_0x593743[0x3*0x20a+0xcb0+0x1*-0x12c4],this;}['setFromQua'+'t'](_0x3e3ab1){const _0x3bbac9=_0x3e3ab1['x'],_0x32b0ca=_0x3e3ab1['y'],_0x20ddec=_0x3e3ab1['z'],_0x708502=_0x3e3ab1['w'],_0x15f0d1=_0x3bbac9+_0x3bbac9,_0x267576=_0x32b0ca+_0x32b0ca,_0x432b94=_0x20ddec+_0x20ddec,_0x5cca31=_0x3bbac9*_0x15f0d1,_0x1f9c86=_0x3bbac9*_0x267576,_0x728f0d=_0x3bbac9*_0x432b94,_0x4dd2d3=_0x32b0ca*_0x267576,_0x871518=_0x32b0ca*_0x432b94,_0x2894a3=_0x20ddec*_0x432b94,_0x421fb1=_0x708502*_0x15f0d1,_0x5e5bec=_0x708502*_0x267576,_0xd37aa6=_0x708502*_0x432b94,_0x450ead=this['data'];return _0x450ead[-0x1efe+0x32f+0x1bcf]=-0xa3*-0x5+0xad9*0x1+0xab*-0x15-(_0x4dd2d3+_0x2894a3),_0x450ead[-0x16b1+0x3e9+0x12c9]=_0x1f9c86+_0xd37aa6,_0x450ead[-0x2*-0x93b+-0x1a8f+0x81b]=_0x728f0d-_0x5e5bec,_0x450ead[0x21d7+0x917*0x4+-0x4630]=_0x1f9c86-_0xd37aa6,_0x450ead[-0x1949*-0x1+-0x189*0x15+-0x2*-0x37c]=-0x1af3+-0xc6c*-0x1+0x136*0xc-(_0x5cca31+_0x2894a3),_0x450ead[-0x18de+0x1*-0x6ff+0x1fe2]=_0x871518+_0x421fb1,_0x450ead[-0x2f5*-0xb+-0x1*-0x10+-0x2091]=_0x728f0d+_0x5e5bec,_0x450ead[-0x115*0x9+0x23ed+-0x25*0xb5]=_0x871518-_0x421fb1,_0x450ead[0x964+0x1fc2+-0x291e*0x1]=-0x268f+0x256b+-0x1*-0x125-(_0x5cca31+_0x4dd2d3),this;}['invertMat4'](_0x27ff81){const _0x5398c2=_0x27ff81['data'],_0x4e6ad8=_0x5398c2[-0x2396*0x1+-0x1cd7+0x406d*0x1],_0xf182b1=_0x5398c2[-0xdd6+-0xd56+0x90f*0x3],_0x1ccaa9=_0x5398c2[-0x1*-0xf53+0x17bd+-0x270e],_0x3218dd=_0x5398c2[0x6e*-0x48+0x8*0x37e+0x304],_0x2eaf0f=_0x5398c2[-0xf79+-0x1*-0xacf+0x1*0x4af],_0x1c5bcf=_0x5398c2[-0x1a2b+-0x1588+0x2fb9*0x1],_0x290587=_0x5398c2[0x896+-0xf19+0x14f*0x5],_0x227de5=_0x5398c2[-0x1173+0x1*0x1fc1+-0xe45],_0x588100=_0x5398c2[0x317*0xb+-0x19a*-0x10+-0x3b93],_0x3ddae0=_0x588100*_0x2eaf0f-_0x1c5bcf*_0x227de5,_0x25a1b2=-_0x588100*_0xf182b1+_0x1ccaa9*_0x227de5,_0x404c4d=_0x1c5bcf*_0xf182b1-_0x1ccaa9*_0x2eaf0f,_0x4ad47b=-_0x588100*_0x3218dd+_0x1c5bcf*_0x290587,_0x1ff0d7=_0x588100*_0x4e6ad8-_0x1ccaa9*_0x290587,_0x5385ed=-_0x1c5bcf*_0x4e6ad8+_0x1ccaa9*_0x3218dd,_0x2a61fa=_0x227de5*_0x3218dd-_0x2eaf0f*_0x290587,_0x4df521=-_0x227de5*_0x4e6ad8+_0xf182b1*_0x290587,_0x1546e3=_0x2eaf0f*_0x4e6ad8-_0xf182b1*_0x3218dd,_0x3f3ded=_0x4e6ad8*_0x3ddae0+_0xf182b1*_0x4ad47b+_0x1ccaa9*_0x2a61fa;if(_0x3f3ded===0x16a8+0x948+-0x1ff0)this['setIdentit'+'y']();else{const _0x12a151=(-0x4*0x39e+-0xad3+-0x194c*-0x1)/_0x3f3ded,_0x1b3153=this['data'];_0x1b3153[-0x2406+0x895+0x1b71]=_0x3ddae0*_0x12a151,_0x1b3153[0x11b7+-0x1*-0xdf8+0x1fae*-0x1]=_0x25a1b2*_0x12a151,_0x1b3153[0x1ac9+-0x2605*-0x1+-0x5e4*0xb]=_0x404c4d*_0x12a151,_0x1b3153[0x12*0x4a+0x497+-0x9c8]=_0x4ad47b*_0x12a151,_0x1b3153[0x681*-0x3+-0x285+-0x14c*-0x11]=_0x1ff0d7*_0x12a151,_0x1b3153[-0x6*-0x481+-0xb25*-0x2+-0x314b]=_0x5385ed*_0x12a151,_0x1b3153[0x1b91*0x1+0x1*-0xb5a+-0x1031]=_0x2a61fa*_0x12a151,_0x1b3153[-0x1cd3+0x11*0x8b+0x139f]=_0x4df521*_0x12a151,_0x1b3153[-0xf1a+0x4*-0x53b+-0xd*-0x2c6]=_0x1546e3*_0x12a151;}return this;}['transformV'+'ector'](_0x319dec,_0x4d1b16=new T()){const _0x9f5260=this['data'],{x:_0x2fffd3,y:_0x38fded,z:_0x376f34}=_0x319dec;return _0x4d1b16['x']=_0x2fffd3*_0x9f5260[0x4*-0x833+-0x1e00+0x4*0xfb3]+_0x38fded*_0x9f5260[-0x3*-0x9a9+-0x10c9+0x1*-0xc2f]+_0x376f34*_0x9f5260[-0x239f+-0xa*0x25+0x2517],_0x4d1b16['y']=_0x2fffd3*_0x9f5260[0x1e4a+0x25f*-0x7+-0xdb0]+_0x38fded*_0x9f5260[-0x2543*-0x1+-0x5*-0x585+-0x14c*0x32]+_0x376f34*_0x9f5260[-0x127d*-0x2+-0x51+-0x24a2],_0x4d1b16['z']=_0x2fffd3*_0x9f5260[-0x68e*-0x4+-0xcac*0x3+0xbce]+_0x38fded*_0x9f5260[-0x1*0x1fa2+-0x9e8+0x1*0x298f]+_0x376f34*_0x9f5260[0xe8f*0x1+-0x3ee+0x1*-0xa99],_0x4d1b16;}};c(na,'IDENTITY',Object['freeze'](new na())),c(na,'ZERO',Object['freeze'](new na()['set']([-0x17a8*-0x1+-0x19d1+-0x1*-0x229,0x2*-0x379+0x806*0x1+0x3*-0x5c,-0x1d*-0x8c+-0x24ad+0x14d1,0x5c6*0x6+-0xcd9+-0x15cb*0x1,0x2471*-0x1+-0x65*0x53+0x4530,-0x197+0x1*-0x2a7+0x43e,0x28d*-0x9+0x1490+-0x265*-0x1,-0x1a8*0x4+0x102e+-0x98e,-0x2401*-0x1+0x26e3+-0x4ae4])));let js=na;const wt=class wt{constructor(_0x3b42cc=-0x7e*-0x49+-0x1716+-0xcd8*0x1,_0x583814=-0x23cd+-0x141d+0x37ea){c(this,'x'),c(this,'y'),_0x3b42cc['length']===0xf*0x1a3+-0x21*0xfb+-0x190*-0x5?(this['x']=_0x3b42cc[0xbbb+0xe5e+-0x33*0x83],this['y']=_0x3b42cc[-0x1a5f+-0x46c+0x1ecc]):(this['x']=_0x3b42cc,this['y']=_0x583814);}['add'](_0x1c9efa){return this['x']+=_0x1c9efa['x'],this['y']+=_0x1c9efa['y'],this;}['add2'](_0xd5c33f,_0x20957f){return this['x']=_0xd5c33f['x']+_0x20957f['x'],this['y']=_0xd5c33f['y']+_0x20957f['y'],this;}['addScalar'](_0x32f7b1){return this['x']+=_0x32f7b1,this['y']+=_0x32f7b1,this;}['addScaled'](_0x126181,_0x3e155f){return this['x']+=_0x126181['x']*_0x3e155f,this['y']+=_0x126181['y']*_0x3e155f,this;}['clone'](){const _0x2932fc=this['constructo'+'r'];return new _0x2932fc(this['x'],this['y']);}['copy'](_0x48ee2a){return this['x']=_0x48ee2a['x'],this['y']=_0x48ee2a['y'],this;}['cross'](_0x3638f1){return this['x']*_0x3638f1['y']-this['y']*_0x3638f1['x'];}['distance'](_0x201360){const _0x3af06b=this['x']-_0x201360['x'],_0x249793=this['y']-_0x201360['y'];return Math['sqrt'](_0x3af06b*_0x3af06b+_0x249793*_0x249793);}['div'](_0x3ef51e){return this['x']/=_0x3ef51e['x'],this['y']/=_0x3ef51e['y'],this;}['div2'](_0x1b708c,_0x2ca4a4){return this['x']=_0x1b708c['x']/_0x2ca4a4['x'],this['y']=_0x1b708c['y']/_0x2ca4a4['y'],this;}['divScalar'](_0x9f1926){return this['x']/=_0x9f1926,this['y']/=_0x9f1926,this;}['dot'](_0x304f79){return this['x']*_0x304f79['x']+this['y']*_0x304f79['y'];}['equals'](_0x2e61e0){return this['x']===_0x2e61e0['x']&&this['y']===_0x2e61e0['y'];}['equalsAppr'+'ox'](_0x213e91,_0x24e3ae=0x14af*0x1+-0x1f1*0x11+0xc52+0.000001){return Math['abs'](this['x']-_0x213e91['x'])<_0x24e3ae&&Math['abs'](this['y']-_0x213e91['y'])<_0x24e3ae;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x7628d1,_0xc9e5f9,_0x550b40){return this['x']=_0x7628d1['x']+_0x550b40*(_0xc9e5f9['x']-_0x7628d1['x']),this['y']=_0x7628d1['y']+_0x550b40*(_0xc9e5f9['y']-_0x7628d1['y']),this;}['mul'](_0x2b0aeb){return this['x']*=_0x2b0aeb['x'],this['y']*=_0x2b0aeb['y'],this;}['mul2'](_0x2ac639,_0x4f7e1a){return this['x']=_0x2ac639['x']*_0x4f7e1a['x'],this['y']=_0x2ac639['y']*_0x4f7e1a['y'],this;}['mulScalar'](_0x304c65){return this['x']*=_0x304c65,this['y']*=_0x304c65,this;}['normalize'](_0x3cccce=this){const _0x33a262=_0x3cccce['x']*_0x3cccce['x']+_0x3cccce['y']*_0x3cccce['y'];if(_0x33a262>0x8d1*-0x1+0xe6+-0x7eb*-0x1){const _0x4cda41=(0x2*0x966+-0x1769+0x49e)/Math['sqrt'](_0x33a262);this['x']=_0x3cccce['x']*_0x4cda41,this['y']=_0x3cccce['y']*_0x4cda41;}return this;}['rotate'](_0x110cca){const _0xc1345c=Math['atan2'](this['x'],this['y'])+_0x110cca*N['DEG_TO_RAD'],_0x289c7c=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0xc1345c)*_0x289c7c,this['y']=Math['cos'](_0xc1345c)*_0x289c7c,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*N['RAD_TO_DEG'];}['angleTo'](_0xd4cfb1){return Math['atan2'](this['x']*_0xd4cfb1['y']+this['y']*_0xd4cfb1['x'],this['x']*_0xd4cfb1['x']+this['y']*_0xd4cfb1['y'])*N['RAD_TO_DEG'];}['floor'](_0x513efb=this){return this['x']=Math['floor'](_0x513efb['x']),this['y']=Math['floor'](_0x513efb['y']),this;}['ceil'](_0xd4c5af=this){return this['x']=Math['ceil'](_0xd4c5af['x']),this['y']=Math['ceil'](_0xd4c5af['y']),this;}['round'](_0x42e034=this){return this['x']=Math['round'](_0x42e034['x']),this['y']=Math['round'](_0x42e034['y']),this;}['min'](_0x2e0447){return _0x2e0447['x']<this['x']&&(this['x']=_0x2e0447['x']),_0x2e0447['y']<this['y']&&(this['y']=_0x2e0447['y']),this;}['max'](_0x323372){return _0x323372['x']>this['x']&&(this['x']=_0x323372['x']),_0x323372['y']>this['y']&&(this['y']=_0x323372['y']),this;}['set'](_0x543fe3,_0x4cad9e){return this['x']=_0x543fe3,this['y']=_0x4cad9e,this;}['sub'](_0x8aef66){return this['x']-=_0x8aef66['x'],this['y']-=_0x8aef66['y'],this;}['sub2'](_0x379f12,_0x380093){return this['x']=_0x379f12['x']-_0x380093['x'],this['y']=_0x379f12['y']-_0x380093['y'],this;}['subScalar'](_0x3469b1){return this['x']-=_0x3469b1,this['y']-=_0x3469b1,this;}['fromArray'](_0x2c36c2,_0x355f01=-0x1f8e+-0x8*-0x46d+-0x22*0x1d){return this['x']=_0x2c36c2[_0x355f01]??this['x'],this['y']=_0x2c36c2[_0x355f01+(0x77e+-0x10d*0xd+0x1*0x62c)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x214c6f=[],_0x6a983b=-0x4ed*-0x2+-0x643*-0x4+-0x22e6){return _0x214c6f[_0x6a983b]=this['x'],_0x214c6f[_0x6a983b+(-0x7f*-0x35+-0x388*-0xb+-0x15*0x31a)]=this['y'],_0x214c6f;}static['angleRad'](_0x3a8f90,_0x1f23bf){return Math['atan2'](_0x3a8f90['x']*_0x1f23bf['y']-_0x3a8f90['y']*_0x1f23bf['x'],_0x3a8f90['x']*_0x1f23bf['x']+_0x3a8f90['y']*_0x1f23bf['y']);}};c(wt,'ZERO',Object['freeze'](new wt(0x2*0x454+-0x24f+-0x659,-0x1451+-0x18b9*0x1+0x2d0a))),c(wt,'HALF',Object['freeze'](new wt(-0x16e5*0x1+-0x125e+-0x2943*-0x1+0.5,-0x8bd+-0x4*0x58f+0x1ef9+0.5))),c(wt,'ONE',Object['freeze'](new wt(0x957*-0x3+-0x1e2*0x7+0x2934,0x2510*-0x1+-0x32*0xa9+0x4613))),c(wt,'UP',Object['freeze'](new wt(-0x10*0xfd+-0x630+-0x100*-0x16,0xef5+0x17*-0x51+-0x7ad))),c(wt,'DOWN',Object['freeze'](new wt(0x5*0x63+0x1dd3+-0x1fc2,-(-0x116a+-0x7e4+0x194f)))),c(wt,'RIGHT',Object['freeze'](new wt(0x1*-0xe7d+-0x917+0x1795*0x1,0xdc2+0x1880*-0x1+0xabe))),c(wt,'LEFT',Object['freeze'](new wt(-(0x6*-0x529+-0x1*0x22ea+0x41e1),0x1*0x14e+-0x1587+0x1439)));let W=wt;const Yi=class Yi{constructor(_0x5623f0=0x21e2+-0x22f2+0x110,_0x2f4421=-0x29*-0x5c+-0x1*-0x23ef+-0x32ab*0x1,_0x47b262=-0x67b+-0x1*-0x117e+-0xb03,_0x1dcdd1=-0x1a31+-0x1279*0x1+-0x2caa*-0x1){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x5623f0['length']===0x1*-0x97d+-0x81e+0x119f?(this['x']=_0x5623f0[-0xa9d+-0x7*-0x413+-0x2fc*0x6],this['y']=_0x5623f0[0xdb9+0x1*-0xb9b+0x21d*-0x1],this['z']=_0x5623f0[0x1130+0x5c*-0x66+0x137a],this['w']=_0x5623f0[-0xd*-0x18b+-0x654+0x4*-0x36e]):(this['x']=_0x5623f0,this['y']=_0x2f4421,this['z']=_0x47b262,this['w']=_0x1dcdd1);}['add'](_0x3c34c3){return this['x']+=_0x3c34c3['x'],this['y']+=_0x3c34c3['y'],this['z']+=_0x3c34c3['z'],this['w']+=_0x3c34c3['w'],this;}['add2'](_0x257e25,_0x20f978){return this['x']=_0x257e25['x']+_0x20f978['x'],this['y']=_0x257e25['y']+_0x20f978['y'],this['z']=_0x257e25['z']+_0x20f978['z'],this['w']=_0x257e25['w']+_0x20f978['w'],this;}['addScalar'](_0x171607){return this['x']+=_0x171607,this['y']+=_0x171607,this['z']+=_0x171607,this['w']+=_0x171607,this;}['addScaled'](_0x35b623,_0xd1f982){return this['x']+=_0x35b623['x']*_0xd1f982,this['y']+=_0x35b623['y']*_0xd1f982,this['z']+=_0x35b623['z']*_0xd1f982,this['w']+=_0x35b623['w']*_0xd1f982,this;}['clone'](){const _0x184915=this['constructo'+'r'];return new _0x184915(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x208841){return this['x']=_0x208841['x'],this['y']=_0x208841['y'],this['z']=_0x208841['z'],this['w']=_0x208841['w'],this;}['div'](_0xaf35c8){return this['x']/=_0xaf35c8['x'],this['y']/=_0xaf35c8['y'],this['z']/=_0xaf35c8['z'],this['w']/=_0xaf35c8['w'],this;}['div2'](_0x2247e0,_0x55df6d){return this['x']=_0x2247e0['x']/_0x55df6d['x'],this['y']=_0x2247e0['y']/_0x55df6d['y'],this['z']=_0x2247e0['z']/_0x55df6d['z'],this['w']=_0x2247e0['w']/_0x55df6d['w'],this;}['divScalar'](_0x15c87a){return this['x']/=_0x15c87a,this['y']/=_0x15c87a,this['z']/=_0x15c87a,this['w']/=_0x15c87a,this;}['dot'](_0x403e15){return this['x']*_0x403e15['x']+this['y']*_0x403e15['y']+this['z']*_0x403e15['z']+this['w']*_0x403e15['w'];}['equals'](_0x242c4a){return this['x']===_0x242c4a['x']&&this['y']===_0x242c4a['y']&&this['z']===_0x242c4a['z']&&this['w']===_0x242c4a['w'];}['equalsAppr'+'ox'](_0x20dae0,_0x5f41e5=-0x1883+0x1bfd*-0x1+-0xe*-0x3c0+0.000001){return Math['abs'](this['x']-_0x20dae0['x'])<_0x5f41e5&&Math['abs'](this['y']-_0x20dae0['y'])<_0x5f41e5&&Math['abs'](this['z']-_0x20dae0['z'])<_0x5f41e5&&Math['abs'](this['w']-_0x20dae0['w'])<_0x5f41e5;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x37f05f,_0x465a7f,_0x15de91){return this['x']=_0x37f05f['x']+_0x15de91*(_0x465a7f['x']-_0x37f05f['x']),this['y']=_0x37f05f['y']+_0x15de91*(_0x465a7f['y']-_0x37f05f['y']),this['z']=_0x37f05f['z']+_0x15de91*(_0x465a7f['z']-_0x37f05f['z']),this['w']=_0x37f05f['w']+_0x15de91*(_0x465a7f['w']-_0x37f05f['w']),this;}['mul'](_0x5f1756){return this['x']*=_0x5f1756['x'],this['y']*=_0x5f1756['y'],this['z']*=_0x5f1756['z'],this['w']*=_0x5f1756['w'],this;}['mul2'](_0x3b923a,_0x39b20a){return this['x']=_0x3b923a['x']*_0x39b20a['x'],this['y']=_0x3b923a['y']*_0x39b20a['y'],this['z']=_0x3b923a['z']*_0x39b20a['z'],this['w']=_0x3b923a['w']*_0x39b20a['w'],this;}['mulScalar'](_0x18896c){return this['x']*=_0x18896c,this['y']*=_0x18896c,this['z']*=_0x18896c,this['w']*=_0x18896c,this;}['normalize'](_0x2aa4f6=this){const _0x739d95=_0x2aa4f6['x']*_0x2aa4f6['x']+_0x2aa4f6['y']*_0x2aa4f6['y']+_0x2aa4f6['z']*_0x2aa4f6['z']+_0x2aa4f6['w']*_0x2aa4f6['w'];if(_0x739d95>-0x2e*0x1f+-0x1227+0x17b9){const _0x250e3e=(-0x174a+-0x47a+0x1bc5)/Math['sqrt'](_0x739d95);this['x']=_0x2aa4f6['x']*_0x250e3e,this['y']=_0x2aa4f6['y']*_0x250e3e,this['z']=_0x2aa4f6['z']*_0x250e3e,this['w']=_0x2aa4f6['w']*_0x250e3e;}return this;}['floor'](_0x42f12f=this){return this['x']=Math['floor'](_0x42f12f['x']),this['y']=Math['floor'](_0x42f12f['y']),this['z']=Math['floor'](_0x42f12f['z']),this['w']=Math['floor'](_0x42f12f['w']),this;}['ceil'](_0x5e46ea=this){return this['x']=Math['ceil'](_0x5e46ea['x']),this['y']=Math['ceil'](_0x5e46ea['y']),this['z']=Math['ceil'](_0x5e46ea['z']),this['w']=Math['ceil'](_0x5e46ea['w']),this;}['round'](_0x401cc2=this){return this['x']=Math['round'](_0x401cc2['x']),this['y']=Math['round'](_0x401cc2['y']),this['z']=Math['round'](_0x401cc2['z']),this['w']=Math['round'](_0x401cc2['w']),this;}['min'](_0x49c10b){return _0x49c10b['x']<this['x']&&(this['x']=_0x49c10b['x']),_0x49c10b['y']<this['y']&&(this['y']=_0x49c10b['y']),_0x49c10b['z']<this['z']&&(this['z']=_0x49c10b['z']),_0x49c10b['w']<this['w']&&(this['w']=_0x49c10b['w']),this;}['max'](_0x4f0243){return _0x4f0243['x']>this['x']&&(this['x']=_0x4f0243['x']),_0x4f0243['y']>this['y']&&(this['y']=_0x4f0243['y']),_0x4f0243['z']>this['z']&&(this['z']=_0x4f0243['z']),_0x4f0243['w']>this['w']&&(this['w']=_0x4f0243['w']),this;}['set'](_0x13f609,_0x465543,_0x1f7760,_0x1f6080){return this['x']=_0x13f609,this['y']=_0x465543,this['z']=_0x1f7760,this['w']=_0x1f6080,this;}['sub'](_0x78dcdf){return this['x']-=_0x78dcdf['x'],this['y']-=_0x78dcdf['y'],this['z']-=_0x78dcdf['z'],this['w']-=_0x78dcdf['w'],this;}['sub2'](_0x3eb290,_0x18d9c5){return this['x']=_0x3eb290['x']-_0x18d9c5['x'],this['y']=_0x3eb290['y']-_0x18d9c5['y'],this['z']=_0x3eb290['z']-_0x18d9c5['z'],this['w']=_0x3eb290['w']-_0x18d9c5['w'],this;}['subScalar'](_0x1ad752){return this['x']-=_0x1ad752,this['y']-=_0x1ad752,this['z']-=_0x1ad752,this['w']-=_0x1ad752,this;}['fromArray'](_0x2f95b7,_0x59756d=0x12cd+0xc9*-0x5+-0x22*0x70){return this['x']=_0x2f95b7[_0x59756d]??this['x'],this['y']=_0x2f95b7[_0x59756d+(-0xd12*-0x1+0xcb*0x11+-0x1a8c)]??this['y'],this['z']=_0x2f95b7[_0x59756d+(0xb61+0x321*0x3+0x14c2*-0x1)]??this['z'],this['w']=_0x2f95b7[_0x59756d+(0xb*0x363+0x1487+-0x39c5)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x2d62df=[],_0x49e681=0x1*0x1e2b+-0x119*-0x7+0x5f*-0x66){return _0x2d62df[_0x49e681]=this['x'],_0x2d62df[_0x49e681+(-0x19c+0xf5a*0x1+-0xdbd)]=this['y'],_0x2d62df[_0x49e681+(0x25bc+0x182+-0x273c)]=this['z'],_0x2d62df[_0x49e681+(-0x1*0x77+-0x2*-0xd1b+-0x19bc)]=this['w'],_0x2d62df;}};c(Yi,'ZERO',Object['freeze'](new Yi(-0x25*-0x6e+0x8d5*0x3+-0x2a65,-0x3*0xbf5+-0x1e83+0x4262,-0x10bb+0x3*0x703+-0x44e,0x2702*0x1+-0x17d*0xe+-0x122c))),c(Yi,'HALF',Object['freeze'](new Yi(0x2208+0x4*0x4f1+-0x16*0x272+0.5,-0x1853+0xe13+0xa40+0.5,-0x1283+0x1d36+-0xab3+0.5,-0x7d2+0x2f*0x1d+0xd5*0x3+0.5))),c(Yi,'ONE',Object['freeze'](new Yi(0x2f9*0x4+-0x19d0+0x2c9*0x5,0xf94*0x1+0x575+-0x1508,0x128d+0x2063+0x32ef*-0x1,0x21fb*-0x1+0xffe+0x11fe)));let Q=Yi;const Ua=new W(),us=new T(),Fs=new T(),Os=new T(),_l=new T(),Ur=class Ur{constructor(){c(this,'data',new Float32Array(-0x1af1+-0x2fe*-0x1+0x9*0x2ab)),this['data'][-0x1d10+-0x24da+-0xb*-0x5fe]=this['data'][-0x5*0x1df+0x2f*0x3d+-0x1d3]=this['data'][0xed8+-0x131e+0x450]=this['data'][0x1196+-0x4*0x37c+-0x397]=0xa66+-0x1c6f+0x905*0x2;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x2fa053,_0xaec93f,_0x779666,_0x2b1bbf,_0x1c6cb1){_0x1c6cb1?(_0x2fa053['x']=_0x2b1bbf*Math['tan'](_0xaec93f*Math['PI']/(-0x27e+0xad*0x13+-0x15*0x6d)),_0x2fa053['y']=_0x2fa053['x']/_0x779666):(_0x2fa053['y']=_0x2b1bbf*Math['tan'](_0xaec93f*Math['PI']/(-0x1*-0x1387+-0x2476+0x3*0x61d)),_0x2fa053['x']=_0x2fa053['y']*_0x779666);}['add2'](_0x58dd4b,_0x270ae6){const _0x59562c=_0x58dd4b['data'],_0xaf5f2=_0x270ae6['data'],_0x51733c=this['data'];return _0x51733c[0x54a+0x2263+-0x27ad]=_0x59562c[-0x1cd*0xd+0x81d+-0x164*-0xb]+_0xaf5f2[0x1284+-0x1e33+0x3*0x3e5],_0x51733c[0x225*0x7+0x17cc*-0x1+-0xa*-0xe1]=_0x59562c[-0x66e*-0x4+-0x95*-0xf+-0x2272]+_0xaf5f2[0x182f+-0x5*-0x2e6+-0xc*0x339],_0x51733c[0x7*0x2cf+0x2620+0x841*-0x7]=_0x59562c[-0x9e+-0x57b+0x61b]+_0xaf5f2[-0x188e+0x13e*0x1+0x1752],_0x51733c[-0x3e*-0x2+0x394*-0x6+-0x7d*-0x2b]=_0x59562c[0x14d1+0x959*-0x1+-0x1*0xb75]+_0xaf5f2[-0x7df*0x1+-0x1b05*-0x1+-0x47*0x45],_0x51733c[0x896*0x1+-0x17*-0x21+0xb89*-0x1]=_0x59562c[0x24a4+-0x1c*0xc8+-0xec0]+_0xaf5f2[-0x1352+0x5f*0x3e+0x4*-0xeb],_0x51733c[0x921+0x990*0x2+0x4*-0x70f]=_0x59562c[0x21a2+0xf7b+0x188c*-0x2]+_0xaf5f2[0x1*0x17c8+0x916+-0x20d9],_0x51733c[0x1*-0x12e5+-0x1b*0xba+0x5*0x7b5]=_0x59562c[0x4*0x7fa+0x8db*0x3+0x47f*-0xd]+_0xaf5f2[0x1f*-0x119+-0x9bb+0x2bc8],_0x51733c[-0x6*0x13e+0x3*-0x623+-0x2*-0xcf2]=_0x59562c[0x1b44+-0xb11*-0x1+-0x264e]+_0xaf5f2[-0x25ff+-0x1f6+-0x2*-0x13fe],_0x51733c[-0x196*-0x8+0x88c+-0x1534]=_0x59562c[0x1073+0x15cd+0x2*-0x131c]+_0xaf5f2[-0xf*0x67+0x5e*-0x54+-0x24e9*-0x1],_0x51733c[-0xc6*-0x2a+-0x1ca7+0x1*-0x3cc]=_0x59562c[0x2228+-0x2623*-0x1+-0x4842]+_0xaf5f2[-0x25a+0x1*0x50d+-0x155*0x2],_0x51733c[0x20f2+0x1*0x10a2+-0x318a]=_0x59562c[0x175c+0x30b*0x5+0x5*-0x7b5]+_0xaf5f2[-0x1*0x13d9+0xa92+-0x5*-0x1dd],_0x51733c[0x8e4+0x13a1+-0x1b*0x10e]=_0x59562c[0x7*-0x3ce+-0x2037*-0x1+-0x58a*0x1]+_0xaf5f2[-0xf52+-0xead+0xf05*0x2],_0x51733c[0x21d8+0x1*-0xce3+-0x14e9]=_0x59562c[0x15e2*-0x1+-0x3*0x3c6+0x2140]+_0xaf5f2[0x66e+0x24f2*0x1+-0x2b54],_0x51733c[-0xd*0x5b+0x1f83+-0x1ad7]=_0x59562c[-0x9*0x3b3+0x956+-0x2*-0xc01]+_0xaf5f2[0x537+-0x1b4*-0x4+-0xbfa],_0x51733c[0x13db+0x13*0x67+0x493*-0x6]=_0x59562c[0x259a+0x3aa+-0x2936]+_0xaf5f2[-0x65e+-0x3*-0xb53+-0x1b8d],_0x51733c[0x16*-0x153+-0x1f54+0x3c85]=_0x59562c[0x6c0+0x980+0x1*-0x1031]+_0xaf5f2[-0xea*0x9+-0x4f*-0x1+0x7fa],this;}['add'](_0x4854fe){return this['add2'](this,_0x4854fe);}['clone'](){const _0x408a14=this['constructo'+'r'];return new _0x408a14()['copy'](this);}['copy'](_0x1172ec){const _0x2a6c6f=_0x1172ec['data'],_0x55ad26=this['data'];return _0x55ad26[0xcaa+0x61a+0x962*-0x2]=_0x2a6c6f[-0x1152+-0x1*-0x128e+-0x13c],_0x55ad26[0x1*0x100f+0x10cb+-0x20d9*0x1]=_0x2a6c6f[0x173b+-0x2395*-0x1+-0x3acf*0x1],_0x55ad26[0x888+0x1d52+-0x25d8]=_0x2a6c6f[0x1f*-0x125+-0x1*0x22cf+-0x332*-0x16],_0x55ad26[0x1cbd+-0x1343+0x977*-0x1]=_0x2a6c6f[-0x1092+-0xb93+0x1c28],_0x55ad26[0x129f+-0xb5*0x2e+0xdeb]=_0x2a6c6f[0x1d73+0x1ac6+-0x3835],_0x55ad26[-0x1d+0x1*-0x1506+0x1528]=_0x2a6c6f[0x17*-0x21+-0x18*0x16e+0x254c],_0x55ad26[-0x728+0x3*-0x5ad+0x1835]=_0x2a6c6f[-0x1ce8+-0x1c76+0x3964],_0x55ad26[0x22f*0xa+0x1f29+-0x34f8]=_0x2a6c6f[-0x1*-0x1df8+-0x9ed+0x1404*-0x1],_0x55ad26[0x18*-0x11c+0x9*0x31a+-0x142]=_0x2a6c6f[0xbb0+-0xc74+0x2*0x66],_0x55ad26[-0x1*0x3af+0x1*-0x1c01+0x3*0xa93]=_0x2a6c6f[0x1165*0x2+-0xe03*-0x1+-0x30c4],_0x55ad26[-0x239+-0x2db+0x106*0x5]=_0x2a6c6f[0x1912+0x26d8+-0x490*0xe],_0x55ad26[-0x1d53+0x1c7b*0x1+0xe3]=_0x2a6c6f[-0xe9b+-0x1dc7+-0xdf*-0x33],_0x55ad26[0x209*0xa+-0x7*0x3fb+0xd7*0x9]=_0x2a6c6f[0x841*0x2+0x16fe+-0x2774],_0x55ad26[0x768+-0x144b+0xcf0]=_0x2a6c6f[-0x45*0x26+0x6a*0x31+0x1*-0x9ff],_0x55ad26[0x1a35+-0x14bf+0xad*-0x8]=_0x2a6c6f[0xd*-0x245+-0x11a6+0x2f35*0x1],_0x55ad26[-0x13*-0xcd+0x977*-0x1+-0x5b1]=_0x2a6c6f[0x189c+0x34d+-0x9b*0x2e],this;}['equals'](_0x4c739f){const _0x1812b1=this['data'],_0x372ce5=_0x4c739f['data'];return _0x1812b1[0x16eb*0x1+-0x94f+-0xd9c]===_0x372ce5[0x1*0x1903+-0x166*0x3+-0x14d1]&&_0x1812b1[-0xf45+0xe*-0x115+-0x79b*-0x4]===_0x372ce5[0x1*-0x20a5+0x102d+-0x1*-0x1079]&&_0x1812b1[-0x10f3*-0x2+-0x1*-0x232c+-0x4510]===_0x372ce5[-0xf5*0x1c+0x9*0x79+0xfb*0x17]&&_0x1812b1[-0x23f*-0xb+-0x19*-0x17+-0x1*0x1af1]===_0x372ce5[-0x13*0xe3+-0x1*-0x2686+0x15aa*-0x1]&&_0x1812b1[-0x7*0x2a9+0x5*0x731+-0x1152]===_0x372ce5[-0x1103*-0x2+-0x1d*-0x143+-0x4699]&&_0x1812b1[0x11bc+-0xeae+-0x103*0x3]===_0x372ce5[0x131d+-0x1e00+0x4*0x2ba]&&_0x1812b1[-0x4ac+-0x3bc*-0x1+0xf6]===_0x372ce5[-0xdab+-0x2307+-0xc2e*-0x4]&&_0x1812b1[-0x17a0+-0x21ca+0x3971]===_0x372ce5[0x2d1*0x3+-0x75*-0x2e+0x2*-0xeb9]&&_0x1812b1[-0x773*-0x2+0x1c62+-0x2b40]===_0x372ce5[0x21d9*0x1+0x19fc*-0x1+0x191*-0x5]&&_0x1812b1[0x268d+-0x1939+0x1*-0xd4b]===_0x372ce5[-0x29e*-0x1+0x1b79+-0x1e0e]&&_0x1812b1[0x231c+-0x4*0x505+-0x77f*0x2]===_0x372ce5[0x26ef+0x173a+-0x1*0x3e1f]&&_0x1812b1[-0x74d+-0xc39+0x1391]===_0x372ce5[-0x1*0xdc2+-0x1241+-0xb*-0x2ea]&&_0x1812b1[0x1*-0x1156+0xcc*-0x15+0x221e]===_0x372ce5[0x279*0x8+-0x2f8+-0x10c4]&&_0x1812b1[-0xce5+0x1546+-0x854]===_0x372ce5[0xd9d+0x1*-0x907+-0x489]&&_0x1812b1[0x52*-0x52+0xa89+0x1c1*0x9]===_0x372ce5[-0xc14+-0x8df+0x1501]&&_0x1812b1[0x15c1+-0x2494+0xee2*0x1]===_0x372ce5[-0x4a4*0x4+-0x2382*-0x1+-0x10e3];}['isIdentity'](){const _0x3a29ba=this['data'];return _0x3a29ba[0x1c6d+-0x5*-0x18a+-0x241f]===-0x2*-0x1241+-0xa92+-0x8a5*0x3&&_0x3a29ba[0x16b2+-0x1a71+0x18*0x28]===0xcc+0x43c*0x8+0x1*-0x22ac&&_0x3a29ba[-0x1976+0xd*0x76+0x137a]===-0x8e4+-0x2579+0x2e5d&&_0x3a29ba[0x24b2+0x31e+0x27cd*-0x1]===-0x1c86+0x16*0x38+0x17b6&&_0x3a29ba[-0x153e+0x1e64+0x491*-0x2]===-0x9e+0x109a*0x2+-0x2096&&_0x3a29ba[0x80+-0xc5b+-0xa*-0x130]===-0x1*0x247d+-0xdc3+0x53*0x9b&&_0x3a29ba[0x63f+0x336+-0x96f]===0x24d7*-0x1+0xbcf*0x1+0x1908&&_0x3a29ba[0x7d*0x4d+-0x3*-0x48b+-0x3333]===0x25e2+-0x1c49+0x1*-0x999&&_0x3a29ba[-0x22*0x28+0x51b*-0x6+-0x23fa*-0x1]===-0x1412+0x1085+-0x12f*-0x3&&_0x3a29ba[-0x481+-0x41e*0x8+0x257a]===-0x1e2b+-0x1e2b+-0x1*-0x3c56&&_0x3a29ba[0xa3*-0x2e+-0x1c2b+0x1*0x397f]===0x16a3+-0xcf7*0x1+0x21*-0x4b&&_0x3a29ba[-0x13e*-0xd+0xd32+-0x1d4d]===0x9db+0xe2c+0x1*-0x1807&&_0x3a29ba[-0x8e+0x20e7+-0x204d]===0x5*-0x729+-0x1a76+0x3e43&&_0x3a29ba[-0x1d91+0x1ddb+-0x3d]===0x18fb+0xc29*0x2+0x106f*-0x3&&_0x3a29ba[-0x15c1+0x145*0xc+-0x1*-0x693]===-0xd5b+0x2472+-0x1717&&_0x3a29ba[-0x16af+-0x37f*-0x7+-0x1bb]===0x22c1+0x1474+-0xdcd*0x4;}['mul2'](_0x290392,_0x18b90e){const _0x179677=_0x290392['data'],_0x24304e=_0x18b90e['data'],_0x50e3f0=this['data'],_0x263cf1=_0x179677[0x207c+-0x227f+0x203],_0xc7922b=_0x179677[0xc95+-0x1*-0xbe6+-0x187a],_0x1ca83b=_0x179677[-0x1b7*0xb+0x169b*-0x1+0x297a],_0x524a71=_0x179677[0x26e1*-0x1+-0x16d7*-0x1+-0x7*-0x24b],_0x4949af=_0x179677[-0x13*-0xf9+0x67*-0x1d+-0x15c*0x5],_0xfa858=_0x179677[-0x16*0xde+-0x2*-0x7cd+-0x1*-0x37f],_0xb9147f=_0x179677[0xb25*-0x3+-0x135*-0x2+-0x1f0b*-0x1],_0x172d88=_0x179677[-0x537+-0x1847+0xe5*0x21],_0x21fe3e=_0x179677[-0x2*0xfa1+0xfe*-0x10+-0x2f2a*-0x1],_0x3f2533=_0x179677[-0x8e*0x27+-0x23d8+0x3983],_0x31c486=_0x179677[0xa4a+-0x2303+0x18c3],_0x493ddc=_0x179677[-0x1745+0x229+0x1527],_0x1280db=_0x179677[0x21*0xca+0x2595+-0x19*0x28b],_0x20003e=_0x179677[-0xca6+0x1bcd+-0xf1a],_0x4a9bd6=_0x179677[-0x1*-0x2096+-0x150e+-0x2*0x5bd],_0x91e8ac=_0x179677[-0xdb*0x25+0x8*0x2e3+0x89e];let _0x46a67b,_0x2e63b4,_0x42f024,_0x409bf8;return _0x46a67b=_0x24304e[0x53d*-0x2+-0x1*-0x26e7+-0x1c6d*0x1],_0x2e63b4=_0x24304e[0x1*0xbd5+0x1a81+0xcc7*-0x3],_0x42f024=_0x24304e[0x24af+-0xf44+-0x1569],_0x409bf8=_0x24304e[0xf*0xa8+-0x1da+-0x7fb],_0x50e3f0[-0x154+0x1*-0x107b+0x2f*0x61]=_0x263cf1*_0x46a67b+_0x4949af*_0x2e63b4+_0x21fe3e*_0x42f024+_0x1280db*_0x409bf8,_0x50e3f0[0x971*-0x1+0x1657+-0xce5]=_0xc7922b*_0x46a67b+_0xfa858*_0x2e63b4+_0x3f2533*_0x42f024+_0x20003e*_0x409bf8,_0x50e3f0[-0x2*0x1060+-0x3*0x4cf+0x2f*0x101]=_0x1ca83b*_0x46a67b+_0xb9147f*_0x2e63b4+_0x31c486*_0x42f024+_0x4a9bd6*_0x409bf8,_0x50e3f0[-0x1*0x1def+-0x3*0x967+0x3a27]=_0x524a71*_0x46a67b+_0x172d88*_0x2e63b4+_0x493ddc*_0x42f024+_0x91e8ac*_0x409bf8,_0x46a67b=_0x24304e[-0x212f+-0x5*-0x35b+0x106c],_0x2e63b4=_0x24304e[0x9d*-0x2f+-0x1b2a+-0xd6*-0x43],_0x42f024=_0x24304e[0x14fb+0x2575+-0x3a6a],_0x409bf8=_0x24304e[-0xc28*0x3+-0x25db*-0x1+-0x1d*0xc],_0x50e3f0[0x1343*0x1+-0x57a+-0xf*0xeb]=_0x263cf1*_0x46a67b+_0x4949af*_0x2e63b4+_0x21fe3e*_0x42f024+_0x1280db*_0x409bf8,_0x50e3f0[0x1bfd*0x1+0x23e1+0xcc5*-0x5]=_0xc7922b*_0x46a67b+_0xfa858*_0x2e63b4+_0x3f2533*_0x42f024+_0x20003e*_0x409bf8,_0x50e3f0[-0xa*-0x172+-0x14fb+0x68d]=_0x1ca83b*_0x46a67b+_0xb9147f*_0x2e63b4+_0x31c486*_0x42f024+_0x4a9bd6*_0x409bf8,_0x50e3f0[0x21ad+-0x3*-0x241+-0x2869]=_0x524a71*_0x46a67b+_0x172d88*_0x2e63b4+_0x493ddc*_0x42f024+_0x91e8ac*_0x409bf8,_0x46a67b=_0x24304e[0x2c*-0x75+0x1620+-0x2*0xfe],_0x2e63b4=_0x24304e[-0x2e7+-0xbc4+0x2*0x75a],_0x42f024=_0x24304e[-0x23ed+-0x5c9*0x5+0x40e4],_0x409bf8=_0x24304e[0x171d*-0x1+0xd19+0x67*0x19],_0x50e3f0[-0x1307*0x1+-0x6*-0x1c3+-0x1*-0x87d]=_0x263cf1*_0x46a67b+_0x4949af*_0x2e63b4+_0x21fe3e*_0x42f024+_0x1280db*_0x409bf8,_0x50e3f0[0x1899+0xf*-0xe3+-0xb43]=_0xc7922b*_0x46a67b+_0xfa858*_0x2e63b4+_0x3f2533*_0x42f024+_0x20003e*_0x409bf8,_0x50e3f0[0x22e8+-0x268a+-0xa*-0x5e]=_0x1ca83b*_0x46a67b+_0xb9147f*_0x2e63b4+_0x31c486*_0x42f024+_0x4a9bd6*_0x409bf8,_0x50e3f0[0x1*0x1105+-0x232d+0x3*0x611]=_0x524a71*_0x46a67b+_0x172d88*_0x2e63b4+_0x493ddc*_0x42f024+_0x91e8ac*_0x409bf8,_0x46a67b=_0x24304e[0x23b4+0xae8+0x2*-0x1748],_0x2e63b4=_0x24304e[-0x90b+0x15*0x151+-0x62f*0x3],_0x42f024=_0x24304e[0x87*-0x1+-0x971+-0xa06*-0x1],_0x409bf8=_0x24304e[-0x9ac+-0x1626+0x1*0x1fe1],_0x50e3f0[-0x2b*0x29+0x1278*-0x2+-0x3fd*-0xb]=_0x263cf1*_0x46a67b+_0x4949af*_0x2e63b4+_0x21fe3e*_0x42f024+_0x1280db*_0x409bf8,_0x50e3f0[-0x5d*-0x27+-0x1838+0x50d*0x2]=_0xc7922b*_0x46a67b+_0xfa858*_0x2e63b4+_0x3f2533*_0x42f024+_0x20003e*_0x409bf8,_0x50e3f0[-0x1*-0xf43+0x2704+-0x7bf*0x7]=_0x1ca83b*_0x46a67b+_0xb9147f*_0x2e63b4+_0x31c486*_0x42f024+_0x4a9bd6*_0x409bf8,_0x50e3f0[0x1321*-0x2+0x2*-0xe3+0x2817]=_0x524a71*_0x46a67b+_0x172d88*_0x2e63b4+_0x493ddc*_0x42f024+_0x91e8ac*_0x409bf8,this;}['mulAffine2'](_0xda4ee8,_0x1289c5){const _0x2c1f3b=_0xda4ee8['data'],_0x37ed65=_0x1289c5['data'],_0x5360b1=this['data'],_0x422de8=_0x2c1f3b[0x1f*-0x7+0x481*-0x7+0x2060],_0x2b32da=_0x2c1f3b[0xd8d*0x1+-0x139*0x1f+0x5*0x4df],_0x27af46=_0x2c1f3b[-0x1d96*0x1+-0x2197*-0x1+-0x1*0x3ff],_0x5029cd=_0x2c1f3b[0x5*-0x13e+-0x1*0x10b7+0x16f1],_0x1aa5b5=_0x2c1f3b[-0xd0b+0x326*-0x1+0x1036],_0x4845e7=_0x2c1f3b[-0x89*0x2+-0x1*-0xa26+-0x90e],_0x576c5e=_0x2c1f3b[-0x425+-0x2*0xc37+0x1c9b*0x1],_0x3d55ce=_0x2c1f3b[0x1*0x2473+0xfb2+0x536*-0xa],_0x5bf11e=_0x2c1f3b[-0x1bec+0x810+0x13e6],_0x2cb9cd=_0x2c1f3b[-0xb4f+0x129b*-0x1+-0x1df6*-0x1],_0x2e7b6c=_0x2c1f3b[-0x15dd+-0xd7d+0x2367],_0x1f78f6=_0x2c1f3b[0x1e2c*0x1+-0x2*0x63a+0x11*-0x10a];let _0x5604da,_0xe898a8,_0xc42b39;return _0x5604da=_0x37ed65[-0x16be+0x1*-0x23+0x16e1],_0xe898a8=_0x37ed65[0x1a0c+0x164b+-0x3056],_0xc42b39=_0x37ed65[0x123d+0x1e2*0x7+-0x1f69],_0x5360b1[0x306+-0x925*0x1+0x1*0x61f]=_0x422de8*_0x5604da+_0x5029cd*_0xe898a8+_0x576c5e*_0xc42b39,_0x5360b1[0x1e7c+-0x1fd9+0x15e]=_0x2b32da*_0x5604da+_0x1aa5b5*_0xe898a8+_0x3d55ce*_0xc42b39,_0x5360b1[-0x1*-0x1a8b+-0x79*0x41+0x430]=_0x27af46*_0x5604da+_0x4845e7*_0xe898a8+_0x5bf11e*_0xc42b39,_0x5360b1[0x93b*0x1+0x2629+-0x137*0x27]=-0x7d*0x11+0x11c3+-0x976,_0x5604da=_0x37ed65[-0xc00+-0xe6*-0x1f+-0x2*0x7eb],_0xe898a8=_0x37ed65[0x1b54+-0x1ad5+-0x7a],_0xc42b39=_0x37ed65[-0x11*0xda+-0x2195+0x3015],_0x5360b1[-0x4*0x608+-0x21a6+0x39ca]=_0x422de8*_0x5604da+_0x5029cd*_0xe898a8+_0x576c5e*_0xc42b39,_0x5360b1[-0xd*-0x6b+-0x9*0x2ab+0x1299]=_0x2b32da*_0x5604da+_0x1aa5b5*_0xe898a8+_0x3d55ce*_0xc42b39,_0x5360b1[-0x16ba+0x4d*-0xd+0x1aa9]=_0x27af46*_0x5604da+_0x4845e7*_0xe898a8+_0x5bf11e*_0xc42b39,_0x5360b1[0x21a8+-0x1*0x7b3+0xcf7*-0x2]=0x3*0x657+0x71e+-0x1a23*0x1,_0x5604da=_0x37ed65[-0x113f*0x2+0x2562*0x1+-0x3d*0xc],_0xe898a8=_0x37ed65[0xe6c+0x7e3*-0x4+-0x1129*-0x1],_0xc42b39=_0x37ed65[0x5*0x3ad+0x813+-0x1a6a],_0x5360b1[0x1*0x220f+0x1bbd+-0x3dc4]=_0x422de8*_0x5604da+_0x5029cd*_0xe898a8+_0x576c5e*_0xc42b39,_0x5360b1[0x1*-0xaad+0x1f19+0x1*-0x1463]=_0x2b32da*_0x5604da+_0x1aa5b5*_0xe898a8+_0x3d55ce*_0xc42b39,_0x5360b1[-0xadd+0x1b*0x1a+0x829*0x1]=_0x27af46*_0x5604da+_0x4845e7*_0xe898a8+_0x5bf11e*_0xc42b39,_0x5360b1[0x8b*0x10+-0xd1*-0x2f+0x3*-0xfac]=-0x121b+0x43f*0x4+0x11f,_0x5604da=_0x37ed65[0x1b5f+-0x93c+0x1a5*-0xb],_0xe898a8=_0x37ed65[0x1d*-0x9+0x10de+-0xfcc],_0xc42b39=_0x37ed65[0x139*0x17+0xa93+0x26a4*-0x1],_0x5360b1[-0x1a47+-0x1237*0x1+0x2*0x1645]=_0x422de8*_0x5604da+_0x5029cd*_0xe898a8+_0x576c5e*_0xc42b39+_0x2cb9cd,_0x5360b1[-0x97*0x23+0x5*0x1de+-0x4*-0x2d7]=_0x2b32da*_0x5604da+_0x1aa5b5*_0xe898a8+_0x3d55ce*_0xc42b39+_0x2e7b6c,_0x5360b1[0x1e67+-0x2428+0x5cf]=_0x27af46*_0x5604da+_0x4845e7*_0xe898a8+_0x5bf11e*_0xc42b39+_0x1f78f6,_0x5360b1[-0x197d+0xbc9*-0x1+0x2555]=0x1*0x1b23+-0x1*-0x14a1+-0x2fc3,this;}['mul'](_0x17adbd){return this['mul2'](this,_0x17adbd);}['transformP'+'oint'](_0x1c5b2e,_0x37012e=new T()){const _0x494b15=this['data'],{x:_0x350972,y:_0x106b80,z:_0x6bc5f4}=_0x1c5b2e;return _0x37012e['x']=_0x350972*_0x494b15[-0x11c3*-0x2+-0xcc7*-0x2+0x2*-0x1e8a]+_0x106b80*_0x494b15[0x1*-0x117b+-0x1d2c+0x2eab]+_0x6bc5f4*_0x494b15[-0x19c9+-0x1d33+0x3704]+_0x494b15[0x19b7*0x1+-0x4*0x27f+-0x16d*0xb],_0x37012e['y']=_0x350972*_0x494b15[-0x3*0xb15+0xdd8+0x1368]+_0x106b80*_0x494b15[-0xb3c+-0x27*-0xfe+0x1b71*-0x1]+_0x6bc5f4*_0x494b15[-0x3b4+0x21b1+0x4*-0x77d]+_0x494b15[0xed5+0x1f*0x19+-0x2f*0x61],_0x37012e['z']=_0x350972*_0x494b15[-0x2*0x539+0x1273+-0x7ff]+_0x106b80*_0x494b15[-0x218b*-0x1+0x2*0xcac+0x3add*-0x1]+_0x6bc5f4*_0x494b15[-0x22e0+0x11*-0x1b+0x24b5]+_0x494b15[0x158c+-0x219b+0xc1d],_0x37012e;}['transformV'+'ector'](_0x4d5633,_0x4a68c7=new T()){const _0x3af6cc=this['data'],{x:_0x541b4d,y:_0x54e519,z:_0x5ba10f}=_0x4d5633;return _0x4a68c7['x']=_0x541b4d*_0x3af6cc[-0xacf*-0x2+-0xb2a+0x1*-0xa74]+_0x54e519*_0x3af6cc[-0xd2b+-0x1*-0x146+0xbe9*0x1]+_0x5ba10f*_0x3af6cc[-0x2*-0xc6d+-0x6b*-0x53+0x569*-0xb],_0x4a68c7['y']=_0x541b4d*_0x3af6cc[-0x1500+-0x77c*-0x4+-0x1*0x8ef]+_0x54e519*_0x3af6cc[0x269b+0x4*0x329+0x199d*-0x2]+_0x5ba10f*_0x3af6cc[0x18d2+0xbf*0xb+-0x20fe],_0x4a68c7['z']=_0x541b4d*_0x3af6cc[0x1f*-0x13b+-0x29f*0xb+0x42fc]+_0x54e519*_0x3af6cc[0x1fa2+-0x14a2+-0xafa]+_0x5ba10f*_0x3af6cc[-0x115e+-0x25f0+0x284*0x16],_0x4a68c7;}['transformV'+'ec4'](_0x1af41f,_0x1c053b=new Q()){const _0x362c72=this['data'],{x:_0x3addd4,y:_0x189acc,z:_0x29aad6,w:_0x50e2a3}=_0x1af41f;return _0x1c053b['x']=_0x3addd4*_0x362c72[0x5e6*0x4+0xcea+0x2*-0x1241]+_0x189acc*_0x362c72[-0x1*0x136f+-0x1*0x19cc+-0x1*-0x2d3f]+_0x29aad6*_0x362c72[-0x69*-0x53+-0x7cc+-0x1a37]+_0x50e2a3*_0x362c72[-0x24b0+0x3c6+0x20f6],_0x1c053b['y']=_0x3addd4*_0x362c72[-0x23df+0x107d*-0x1+-0x7*-0x77b]+_0x189acc*_0x362c72[-0xdc3+-0x3*-0xb45+-0x1407]+_0x29aad6*_0x362c72[0x2f5*0x5+-0x2036+0x1176]+_0x50e2a3*_0x362c72[-0x20e2+-0x117*0x15+0x37d2*0x1],_0x1c053b['z']=_0x3addd4*_0x362c72[-0x19b9*0x1+0x8*0x38b+-0x29d]+_0x189acc*_0x362c72[0x22f*0x1+-0x9*0x252+0x1*0x12b9]+_0x29aad6*_0x362c72[0x9*0x3c7+0xbef+-0x2de4]+_0x50e2a3*_0x362c72[-0x147b*-0x1+-0xb10+-0x31f*0x3],_0x1c053b['w']=_0x3addd4*_0x362c72[-0x17b9+-0x2*0x722+0x2600]+_0x189acc*_0x362c72[0x17*-0x1a3+-0x1b43+-0x737*-0x9]+_0x29aad6*_0x362c72[0x1*0xbaf+-0xc9+-0x1*0xadb]+_0x50e2a3*_0x362c72[-0x1229+-0xc0b+0x1e43],_0x1c053b;}['setLookAt'](_0x22287e,_0x117802,_0x403f9a){Os['sub2'](_0x22287e,_0x117802)['normalize'](),Fs['copy'](_0x403f9a)['normalize'](),us['cross'](Fs,Os)['normalize'](),Fs['cross'](Os,us);const _0x45b9b2=this['data'];return _0x45b9b2[-0x6e4+0xb2*-0x10+0x2*0x902]=us['x'],_0x45b9b2[0x2089*-0x1+-0x380*0x2+0x278a]=us['y'],_0x45b9b2[-0x6f8+-0x158+0x852]=us['z'],_0x45b9b2[-0x1311+0x5*-0x423+0x27c3]=0xfdc+-0x17*-0x171+-0x3103,_0x45b9b2[0x1*0x853+-0x5dc+-0x273]=Fs['x'],_0x45b9b2[0x18b0+0x2b*0x20+-0x1*0x1e0b]=Fs['y'],_0x45b9b2[0xf5f+-0xf*0xb3+0x4*-0x137]=Fs['z'],_0x45b9b2[-0x1*-0xa29+-0x2*0x54e+0x7a]=-0x1d67+-0x15*-0x104+0x813,_0x45b9b2[0x1*-0x1f8f+0xb*0x4+0x1f6b]=Os['x'],_0x45b9b2[0x1*0x94d+0x24eb+-0x15*0x233]=Os['y'],_0x45b9b2[0x1*0x1e79+0xcdf+-0x2b4e]=Os['z'],_0x45b9b2[0x1f2d+-0x26ee+-0x7cc*-0x1]=-0x79*-0x45+0x1*-0x13c1+-0xcdc,_0x45b9b2[-0x1ccb+-0xa7f*0x2+0x31d5]=_0x22287e['x'],_0x45b9b2[0xd65+0xa0+-0x6*0x254]=_0x22287e['y'],_0x45b9b2[0xf3e+0x1a0c+0xd*-0x32c]=_0x22287e['z'],_0x45b9b2[0x98*0x11+-0x1*0x151f+-0x81*-0x16]=0x65*-0x55+0x3fd*-0x1+0x2587,this;}['setFrustum'](_0x1c68c0,_0x5f1de2,_0x4c831f,_0x379105,_0x35f8dc,_0x4f0300){const _0x3fea34=(0x1f01+0x589*-0x1+-0x1976)*_0x35f8dc,_0xe6ad38=_0x5f1de2-_0x1c68c0,_0x5baf68=_0x379105-_0x4c831f,_0x528b4=_0x4f0300-_0x35f8dc,_0xc419cc=this['data'];return _0xc419cc[0xb57+-0x5*0x67+-0x4aa*0x2]=_0x3fea34/_0xe6ad38,_0xc419cc[0x2433+0x1d*-0x7d+-0x1*0x1609]=-0xfbc+-0xd2d+0x1*0x1ce9,_0xc419cc[0xa01+0x147*-0x10+0xa71]=-0x82f*-0x4+0x12fd+0x33b9*-0x1,_0xc419cc[0x1637+-0x6*0x454+0x3c4]=-0x715+0xbf7+-0x4e2,_0xc419cc[0x3*0x90a+-0x956+-0x11c4]=0x1715+0x1462+-0x3*0xe7d,_0xc419cc[-0xb9e*-0x3+0x210e*-0x1+-0x5b*0x5]=_0x3fea34/_0x5baf68,_0xc419cc[0x1*0x927+0x1643+-0x1f64]=0x4*-0x277+0xf67+0x2b*-0x21,_0xc419cc[0x7a*-0x47+-0xc*-0x23e+0x1*0x6f5]=-0x1*-0x1101+-0x4*-0x4d5+0x47*-0x83,_0xc419cc[0x1*0x1da9+-0x145*0xb+-0x1*0xfaa]=(_0x5f1de2+_0x1c68c0)/_0xe6ad38,_0xc419cc[0x25f*-0x5+-0x1460*0x1+-0x3b*-0x8c]=(_0x379105+_0x4c831f)/_0x5baf68,_0xc419cc[-0x957+0x1a14+-0x10b3]=(-_0x4f0300-_0x35f8dc)/_0x528b4,_0xc419cc[-0x57*0x4b+-0x2+0x198a]=-(0x132b+0x1411*-0x1+0xe7),_0xc419cc[0x1ffb+-0x26db+0x4*0x1bb]=0x2180+-0x86f+-0x1911,_0xc419cc[0x212c+-0x185*-0x10+-0x396f]=-0x1*-0x1499+-0x9bc+-0xadd,_0xc419cc[0x1e*-0xe3+-0xd*0x299+0x3c6d]=-_0x3fea34*_0x4f0300/_0x528b4,_0xc419cc[0xc78+-0x1c1*0x15+-0x61b*-0x4]=-0xe24+-0x199a+-0x2*-0x13df,this;}['setPerspec'+'tive'](_0xd07aba,_0x2007e8,_0x5b3a7a,_0x504299,_0x4eb7e2){return Ur['_getPerspe'+'ctiveHalfS'+'ize'](Ua,_0xd07aba,_0x2007e8,_0x5b3a7a,_0x4eb7e2),this['setFrustum'](-Ua['x'],Ua['x'],-Ua['y'],Ua['y'],_0x5b3a7a,_0x504299);}['setOrtho'](_0x1b2597,_0x730bd5,_0x34eb48,_0x529806,_0x145005,_0x3fba2b){const _0x325e35=this['data'];return _0x325e35[-0x81c+-0x23c6+0x2be2*0x1]=(-0x642+-0xf17*0x1+0x155b)/(_0x730bd5-_0x1b2597),_0x325e35[-0x1443+-0x1a88+0x2ecc]=0xfc7*-0x2+0x15fe+0x990,_0x325e35[-0x1769*0x1+0xc4a+-0x25*-0x4d]=-0x2*-0x133e+-0x11*-0x137+-0x3b23,_0x325e35[0x99e*0x2+-0x1e87*-0x1+-0x31c0]=0x1b13+-0x1*-0xb23+-0x2636*0x1,_0x325e35[-0x1dfe*0x1+0x12*0x4f+-0x4e4*-0x5]=-0x4da+-0x168a+0x1b64,_0x325e35[-0x1*-0x1883+0x17*0x81+-0x2415]=(0x374*0x8+0x8b0+-0x244e)/(_0x529806-_0x34eb48),_0x325e35[-0xa7a+0xc*0x137+-0x414]=0x2*-0x11c7+-0x570+0x28fe,_0x325e35[-0x43*0x8f+0x14d8+0x84e*0x2]=-0x2061+0xfb2+0x10af*0x1,_0x325e35[0x2686*0x1+0xeef+-0x356d]=-0x1893+-0x1*0x1479+0x2d0c,_0x325e35[0xb63+0x9*0x3ad+-0x2c6f]=0x430*0x8+-0xd*0x1cd+-0xa17,_0x325e35[0x1*-0x17e9+0x1d0d*-0x1+-0xd40*-0x4]=-(0x176*-0xa+-0x2093+0x1*0x2f31)/(_0x3fba2b-_0x145005),_0x325e35[-0x1*-0x7e5+-0x3*0x3d5+-0x137*-0x3]=-0x49*0x38+-0x2589*-0x1+-0x1591,_0x325e35[0x1*0xffb+-0xd*0x15e+0x1d7]=-(_0x730bd5+_0x1b2597)/(_0x730bd5-_0x1b2597),_0x325e35[-0x1*-0x1817+0x3d6+-0x1be0]=-(_0x529806+_0x34eb48)/(_0x529806-_0x34eb48),_0x325e35[-0x1e0b+-0x8*0xc6+0x2449]=-(_0x3fba2b+_0x145005)/(_0x3fba2b-_0x145005),_0x325e35[-0x16ee+0xeed+0x18*0x56]=0x23c0+-0x7*0x23d+-0x1*0x1414,this;}['setFromAxi'+'sAngle'](_0x7215f,_0x331714){_0x331714*=N['DEG_TO_RAD'];const {x:_0x4b95e1,y:_0x3092c1,z:_0x5b9b14}=_0x7215f,_0x5da935=Math['cos'](_0x331714),_0x5efa83=Math['sin'](_0x331714),_0x17464f=-0x1*0x19de+-0x188f+0x326e-_0x5da935,_0x5e097a=_0x17464f*_0x4b95e1,_0x3c2b35=_0x17464f*_0x3092c1,_0x12d823=this['data'];return _0x12d823[-0x95*-0x1+-0x485+-0x3f0*-0x1]=_0x5e097a*_0x4b95e1+_0x5da935,_0x12d823[0x161e+0x16f7+-0xb45*0x4]=_0x5e097a*_0x3092c1+_0x5efa83*_0x5b9b14,_0x12d823[0xc5b+0x1fe5+-0x2c3e]=_0x5e097a*_0x5b9b14-_0x5efa83*_0x3092c1,_0x12d823[0x26f5+0x144f+-0x3b41]=0x973*0x2+-0x6aa+-0xc3c,_0x12d823[0x14f0+-0x6*-0x2a3+-0x24be]=_0x5e097a*_0x3092c1-_0x5efa83*_0x5b9b14,_0x12d823[0x4af+-0x922+0x478]=_0x3c2b35*_0x3092c1+_0x5da935,_0x12d823[-0x1986+0x67b+-0x1*-0x1311]=_0x3c2b35*_0x5b9b14+_0x5efa83*_0x4b95e1,_0x12d823[-0x508+0x12e*-0x2+-0x3*-0x279]=-0x103d+-0x5*-0x3c1+-0xa2*0x4,_0x12d823[0x1fbf+0x8*0x86+-0x23e7]=_0x5e097a*_0x5b9b14+_0x5efa83*_0x3092c1,_0x12d823[-0x1d71+0x1*-0x1bd7+0x3951]=_0x3c2b35*_0x5b9b14-_0x4b95e1*_0x5efa83,_0x12d823[-0x1*-0xdb2+-0x2*-0x1d5+-0x1152]=_0x17464f*_0x5b9b14*_0x5b9b14+_0x5da935,_0x12d823[0xa7*-0x2f+0x89c*0x2+0xd7c]=-0x10b7+0x1231*-0x2+0x17*0x24f,_0x12d823[0x2171+0x44b+-0x24*0x10c]=0x4f4+0x3*0xce3+-0x2b9d,_0x12d823[0x5*0x4d1+0x23*-0xff+0xad5]=0xe52+0x1*-0xe7d+0x2b,_0x12d823[0x1510*-0x1+0x812*-0x2+0x2542]=0x2*0xf7c+0x2688+0x10*-0x458,_0x12d823[0x2364+-0x17e6+-0xb6f]=-0x651*-0x2+-0x2e6*0x7+0x7a9,this;}['setTransla'+'te'](_0x3ba344,_0x2d6ace,_0x2c48b1){const _0x2f1cd7=this['data'];return _0x2f1cd7[0x17*-0x114+-0x88d*0x2+0x29e6]=-0x1651+-0x4*-0xac+0x13a2,_0x2f1cd7[0x26f6+-0x1*-0xd0f+-0x3404]=0x636+-0x1152+0xed*0xc,_0x2f1cd7[-0x16ce+0x23b1+0x3*-0x44b]=-0x19c3+0x76b+0x2*0x92c,_0x2f1cd7[0x3c1*-0x7+0xb3e+-0xf0c*-0x1]=0x50*0x8+0x11*0x22d+-0x277d*0x1,_0x2f1cd7[-0x160e+-0x5*0x7a5+0xc0f*0x5]=-0x14d9+-0x3d*-0x3e+-0x5*-0x137,_0x2f1cd7[-0xed2+0x11fb*0x2+-0x151f*0x1]=0x23c0+0x3d3+-0x1*0x2792,_0x2f1cd7[0xaad*-0x3+-0x1c25+0x2*0x1e19]=-0x114d*-0x2+-0x76a+0x78*-0x3a,_0x2f1cd7[0x23f*0x2+-0xf16+0xa9f]=0x23ab+0x35*-0x61+0x46*-0x39,_0x2f1cd7[0x1289+0x91b+0x1f*-0xe4]=0x7e5*0x1+0xc6f*-0x1+0x48a,_0x2f1cd7[0x2322+0x1bce+-0x3ee7]=-0xae5*-0x1+0x208d+-0x2b72,_0x2f1cd7[0x5e7*-0x1+0x188d+-0x129c]=0x1*-0x50c+-0x1381+0x188e,_0x2f1cd7[-0x161e+0xc5d+0x9cc]=0x238b+0x1*0x175d+-0x3ae8,_0x2f1cd7[-0x88+-0x1fce+0x2062]=_0x3ba344,_0x2f1cd7[0x154*0x11+-0x95*0x25+-0xfe]=_0x2d6ace,_0x2f1cd7[0x169d+-0x14d5+-0x22*0xd]=_0x2c48b1,_0x2f1cd7[0x2*-0x2f1+-0x24c5+0x2ab6]=-0x252*0x1+0x2013+-0x1dc0,this;}['setScale'](_0x4b4578,_0x1c919e,_0x44a18f){const _0x2955e4=this['data'];return _0x2955e4[0x1b65+-0x137d+-0x7e8]=_0x4b4578,_0x2955e4[0x7b*-0x3e+0x270+-0x1b5b*-0x1]=0x184f*-0x1+-0xf*-0x13c+0x5cb*0x1,_0x2955e4[-0x57*-0x4a+0x12f6+-0x2c1a]=-0x1*-0x1e05+-0x25*-0x78+0x5*-0x979,_0x2955e4[-0x4ee+-0x169b+0x1b8c]=-0xfda+-0x9af*-0x1+0x1*0x62b,_0x2955e4[0x411*-0x2+0x10ef+-0x8c9]=0x267e+0x1e3b*-0x1+-0x843,_0x2955e4[-0x6e1+0x2279+-0x21f*0xd]=_0x1c919e,_0x2955e4[-0x9ed+0x657+0x39c]=0x254d+-0x19fc+-0xb51,_0x2955e4[0x16*-0x175+0x1e63+0x1f*0xe]=0x269b+0x1*-0x2b3+-0x23e8,_0x2955e4[0x6*0x59d+0x1755+-0x38fb]=0x484*0x1+0x9bf+-0xe43,_0x2955e4[-0x1217*0x1+-0x999+0x1bb9]=0x106+0x2*0xba2+-0x2*0xc25,_0x2955e4[-0xb81*-0x3+-0x1*0x815+-0x1a64*0x1]=_0x44a18f,_0x2955e4[0x1*0xccf+0xce6*0x3+-0x2*0x19bb]=-0xe*0x6b+0x3d*0x67+-0x12b1,_0x2955e4[-0x12dc+0x7ed*-0x4+0x329c]=0x2*0xa7+0x7a4+-0x8f2,_0x2955e4[-0x1*-0x23b0+0x2525*0x1+-0x48c8]=0x11b5*0x1+-0x14cd+-0x18c*-0x2,_0x2955e4[-0x410+0x41b+-0x3*-0x1]=-0x3dc*0x2+-0x6d*-0x57+-0x1*0x1d53,_0x2955e4[0xa3*0xf+0x221b+0x1*-0x2b99]=-0x146f+0x21*0x10d+-0x51*0x2d,this;}['setViewpor'+'t'](_0xf8e5cd,_0x34a7eb,_0x11990e,_0x3af77f){const _0x1461e4=this['data'];return _0x1461e4[0x5*-0x3a9+0xc45*0x1+-0x304*-0x2]=_0x11990e*(0xc2*0x31+-0x1cf+0x2353*-0x1+0.5),_0x1461e4[-0x75*0x2e+0x42*-0x30+0x2167]=-0xd31+-0x1252+0x1f83,_0x1461e4[-0x1937*-0x1+0x9*-0x3bd+0x870]=0x830+0x2433+-0x1*0x2c63,_0x1461e4[0x4*0x745+-0x2*-0xfbd+-0x3c8b]=0x1*-0x1a1e+-0x233b+-0x1*-0x3d59,_0x1461e4[-0xefb*-0x1+-0xf*0x1b5+0xaa4]=-0x712+0x6b*0x12+0x74*-0x1,_0x1461e4[-0x19*0x53+-0x4*0x692+0x2268]=_0x3af77f*(0x2*0x51e+0x167*-0xd+0x7ff*0x1+0.5),_0x1461e4[0x2*0x124f+-0x556*0x7+-0x2*-0x61]=0xaeb*-0x3+-0x158*0x13+0x3a49*0x1,_0x1461e4[0x1e88+-0x91e*-0x2+-0x103f*0x3]=0x19a3*0x1+0x1d7*-0x1+-0x5f3*0x4,_0x1461e4[0x154*-0x7+-0x15*0x12f+-0x1*-0x222f]=-0x6f6+-0xc47+0x3d9*0x5,_0x1461e4[-0x2e8+-0x1d72*-0x1+0x3b*-0x73]=-0x121*-0x7+0x101b+0xc01*-0x2,_0x1461e4[0x713*0x2+0x4fb+-0x1317]=0x125a+-0x1*0x1e0b+0x29*0x49+0.5,_0x1461e4[-0xf97+-0x38*-0x34+0x442]=0x104b+0x1d*-0x11b+-0xfc4*-0x1,_0x1461e4[0x17f2+0x7*0x2a5+0xe23*-0x3]=_0xf8e5cd+_0x11990e*(0x98*0x3f+0x89e*-0x4+0x2f*-0x10+0.5),_0x1461e4[0x121*-0x9+-0x1945*0x1+0x237b*0x1]=_0x34a7eb+_0x3af77f*(0x1cd+0x2*-0xe8c+0x1b4b+0.5),_0x1461e4[-0x6cc+0x1*0x2054+-0x197a]=0x3d7*-0x2+-0x1bb0+0x3*0xbca+0.5,_0x1461e4[-0xf8*0x23+-0x25ea*0x1+0x47e1*0x1]=-0x366*-0x1+-0x12af*-0x1+-0x6*0x3ae,this;}['setReflect'+'ion'](_0x4242dc,_0x23fc05){const _0x4a7b64=_0x4242dc['x'],_0x3c3849=_0x4242dc['y'],_0x18659a=_0x4242dc['z'],_0x36a089=this['data'];return _0x36a089[0x1*-0x1497+0x5*0x69d+-0xc7a]=-0x1*-0xad8+0x15c3+-0x209a-(-0x25d3+-0x75*-0x49+0xb*0x68)*_0x4a7b64*_0x4a7b64,_0x36a089[-0x74b*0x5+0x245f*-0x1+0x48d7]=-(0x210b+-0x2481+0x378)*_0x4a7b64*_0x3c3849,_0x36a089[0x169e+-0x1d7b+0x1*0x6df]=-(-0x4e*0x61+0x5*-0x346+0x1*0x2dee)*_0x4a7b64*_0x18659a,_0x36a089[-0x1*0x9dd+0x2e7+-0x15*-0x55]=0x6c5*-0x4+0x1e59+-0x3*0x117,_0x36a089[-0x1bad+0x1a12+0x19f]=-(-0x2db*-0x7+0x11*0x88+-0x1d03)*_0x4a7b64*_0x3c3849,_0x36a089[0x87*0x3+-0x1fab+0x16f*0x15]=0xb14+0xe6*0x3+-0xeb*0xf-(0x1a83+0x5b0+-0x2031)*_0x3c3849*_0x3c3849,_0x36a089[0x25*0x1b+0xcda+0x10bb*-0x1]=-(0x20c9+-0xeb9*-0x1+-0x2f80)*_0x3c3849*_0x18659a,_0x36a089[-0x37*-0x5f+-0x1*-0x17f6+-0x2c58]=0x16bd+-0x1f6c+-0x39*-0x27,_0x36a089[0x11b*0xb+-0x2*-0xc5b+0x24d7*-0x1]=-(-0x1345+0x1*-0x1a3+0x2*0xa75)*_0x4a7b64*_0x18659a,_0x36a089[0x2*0x1b4+0xea1+-0x2*0x900]=-(-0x2b*0x1b+-0x9*0x2c7+-0x1d8a*-0x1)*_0x3c3849*_0x18659a,_0x36a089[-0x1*-0xcb5+-0x2405+0x7a*0x31]=-0x1*-0x107f+0x5f8*0x1+-0x7d*0x2e-(0x1f59+0x382*-0x1+-0x947*0x3)*_0x18659a*_0x18659a,_0x36a089[0x1d99*-0x1+-0x16a9*-0x1+0x6fb]=0xa54*-0x3+-0x1490+-0x19c6*-0x2,_0x36a089[0x11b2+0x238f+-0x3535]=-(0x1*-0x17d9+0x1*-0x2546+-0x1*-0x3d21)*_0x4a7b64*_0x23fc05,_0x36a089[0xfe9*0x1+-0x2054+0x2*0x83c]=-(0x2*0x207+0x2*-0x12ca+0x2188)*_0x3c3849*_0x23fc05,_0x36a089[0x3d*0x47+-0x257b*0x1+-0x7*-0x2f2]=-(-0x29e*-0x5+0xe42+0x1*-0x1b56)*_0x18659a*_0x23fc05,_0x36a089[0x1a9*0xd+0x137*0x3+-0x11*0x17b]=-0x9*-0xb6+0x55*-0x69+0x4*0x71e,this;}['invert'](_0x2f5903=this){const _0x485655=_0x2f5903['data'],_0x5d7bd5=_0x485655[-0x136c*0x2+-0x1693*0x1+0x3d6b],_0x5a2707=_0x485655[-0x1153+0x20bf+-0x1*0xf6b],_0x5c1442=_0x485655[0x2*0xba7+0x1*0xecc+0xb8*-0x35],_0x3e6def=_0x485655[0xda*0x3+-0x367+0xdc],_0x1ee8bc=_0x485655[-0x1*0x985+-0x13d0+0x1d59],_0x4b87cc=_0x485655[-0x4b7+0x109b*0x1+0x3f5*-0x3],_0x751787=_0x485655[0x1*0x17aa+0x9e*0x5+-0x1aba],_0x30e87a=_0x485655[0x1d7f+0x449*0x1+-0x21c1],_0xffb981=_0x485655[0x136*0xa+0xd*-0x135+0x19*0x25],_0x44d48b=_0x485655[-0x6ec+-0x1*-0x21c1+0x1ea*-0xe],_0x9fd25=_0x485655[-0x2b*-0x32+0x108+-0x964],_0x47da03=_0x485655[-0x757*-0x1+0xb15+-0x1261],_0x5f57c5=_0x485655[-0x4f9*-0x1+-0x1*0xaf3+-0x303*-0x2],_0x186739=_0x485655[0xb*0xba+0x1cac+-0x249d],_0x170414=_0x485655[-0x1*-0x135e+0x1453+-0x27a3],_0x51ae07=_0x485655[0x2302+0xe6*0xa+-0x2bef],_0x45ee2f=_0x5d7bd5*_0x4b87cc-_0x5a2707*_0x1ee8bc,_0x2b45bb=_0x5d7bd5*_0x751787-_0x5c1442*_0x1ee8bc,_0x40677a=_0x5d7bd5*_0x30e87a-_0x3e6def*_0x1ee8bc,_0x38c7a9=_0x5a2707*_0x751787-_0x5c1442*_0x4b87cc,_0x41dfc9=_0x5a2707*_0x30e87a-_0x3e6def*_0x4b87cc,_0x542383=_0x5c1442*_0x30e87a-_0x3e6def*_0x751787,_0x1bedaa=_0xffb981*_0x186739-_0x44d48b*_0x5f57c5,_0x56046e=_0xffb981*_0x170414-_0x9fd25*_0x5f57c5,_0x59a7c5=_0xffb981*_0x51ae07-_0x47da03*_0x5f57c5,_0x49e7c9=_0x44d48b*_0x170414-_0x9fd25*_0x186739,_0x35c160=_0x44d48b*_0x51ae07-_0x47da03*_0x186739,_0x305d97=_0x9fd25*_0x51ae07-_0x47da03*_0x170414,_0xad4495=_0x45ee2f*_0x305d97-_0x2b45bb*_0x35c160+_0x40677a*_0x49e7c9+_0x38c7a9*_0x59a7c5-_0x41dfc9*_0x56046e+_0x542383*_0x1bedaa;if(_0xad4495===-0x1aac+-0x13*-0x157+-0x137*-0x1)this['setIdentit'+'y']();else{const _0x27fcba=(-0x564+-0x19f*0x8+0x125d)/_0xad4495,_0x5aec02=this['data'];_0x5aec02[-0x20*0x2+-0x1*0x1c9c+0x1cdc]=(_0x4b87cc*_0x305d97-_0x751787*_0x35c160+_0x30e87a*_0x49e7c9)*_0x27fcba,_0x5aec02[0x1c35+0x2673+-0x97*0x71]=(-_0x5a2707*_0x305d97+_0x5c1442*_0x35c160-_0x3e6def*_0x49e7c9)*_0x27fcba,_0x5aec02[-0x39b*-0x3+0x10*-0xb6+0x91]=(_0x186739*_0x542383-_0x170414*_0x41dfc9+_0x51ae07*_0x38c7a9)*_0x27fcba,_0x5aec02[0x2391+-0x2*0xd1+-0x4*0x87b]=(-_0x44d48b*_0x542383+_0x9fd25*_0x41dfc9-_0x47da03*_0x38c7a9)*_0x27fcba,_0x5aec02[-0x18*0x177+-0x2538+0x4864]=(-_0x1ee8bc*_0x305d97+_0x751787*_0x59a7c5-_0x30e87a*_0x56046e)*_0x27fcba,_0x5aec02[-0x22a*0x5+0x1893+-0xdbc]=(_0x5d7bd5*_0x305d97-_0x5c1442*_0x59a7c5+_0x3e6def*_0x56046e)*_0x27fcba,_0x5aec02[0x26a6+0x9f*-0x1c+-0x1c5*0xc]=(-_0x5f57c5*_0x542383+_0x170414*_0x40677a-_0x51ae07*_0x2b45bb)*_0x27fcba,_0x5aec02[-0xc61+-0x1*0x1a62+0x14b*0x1e]=(_0xffb981*_0x542383-_0x9fd25*_0x40677a+_0x47da03*_0x2b45bb)*_0x27fcba,_0x5aec02[0x1830+0x213d+-0x3965]=(_0x1ee8bc*_0x35c160-_0x4b87cc*_0x59a7c5+_0x30e87a*_0x1bedaa)*_0x27fcba,_0x5aec02[0x1a20+-0x1*0x5ce+-0x3*0x6c3]=(-_0x5d7bd5*_0x35c160+_0x5a2707*_0x59a7c5-_0x3e6def*_0x1bedaa)*_0x27fcba,_0x5aec02[-0x3*-0x5a8+0x2386+0x12*-0x2ea]=(_0x5f57c5*_0x41dfc9-_0x186739*_0x40677a+_0x51ae07*_0x45ee2f)*_0x27fcba,_0x5aec02[-0x1910+0x7ce+0x114d*0x1]=(-_0xffb981*_0x41dfc9+_0x44d48b*_0x40677a-_0x47da03*_0x45ee2f)*_0x27fcba,_0x5aec02[-0x235*0x9+-0x1*-0xe35+0x5b4]=(-_0x1ee8bc*_0x49e7c9+_0x4b87cc*_0x56046e-_0x751787*_0x1bedaa)*_0x27fcba,_0x5aec02[0x4eb+0x5f5*-0x3+0x1*0xd01]=(_0x5d7bd5*_0x49e7c9-_0x5a2707*_0x56046e+_0x5c1442*_0x1bedaa)*_0x27fcba,_0x5aec02[-0x7c*-0x3d+-0x2423+0x6a5]=(-_0x5f57c5*_0x38c7a9+_0x186739*_0x2b45bb-_0x170414*_0x45ee2f)*_0x27fcba,_0x5aec02[0x272+-0x1792+-0xbb*-0x1d]=(_0xffb981*_0x38c7a9-_0x44d48b*_0x2b45bb+_0x9fd25*_0x45ee2f)*_0x27fcba;}return this;}['set'](_0x190991){const _0x3b0755=this['data'];return _0x3b0755[-0x1*0x14a1+-0x31*0xa9+-0x2*-0x1a7d]=_0x190991[0x141c+0x677+-0x1a93],_0x3b0755[-0x262a+0xb38+-0x1*-0x1af3]=_0x190991[-0x1345*0x1+0xd60+-0x5e6*-0x1],_0x3b0755[-0x287*0xb+0x78b*-0x2+0x2ae5]=_0x190991[0x1*-0x5ff+0x2ce+-0x5b*-0x9],_0x3b0755[0x1d92+-0xcad+-0x1*0x10e2]=_0x190991[-0x6ad*0x1+0xe4c+-0x3ce*0x2],_0x3b0755[0xb1d+0x1*-0x1be7+0x10ce]=_0x190991[-0xa*0xf1+-0x198b+-0x1*-0x22f9],_0x3b0755[-0x5*0x1d9+0x2ff*-0x1+0xc41]=_0x190991[-0x697+-0x1874+0x1f10],_0x3b0755[-0x1*0x1e45+-0xb2*0x37+-0x4489*-0x1]=_0x190991[0x143d+0x12ce*0x2+0x83*-0x71],_0x3b0755[0x2148+-0x11*-0x2b+0x1*-0x241c]=_0x190991[0x47e+0x1d67+-0x21de],_0x3b0755[-0x13d4*-0x1+-0x3b*0x65+0x1b*0x21]=_0x190991[0xf7c+-0x20a4+0x370*0x5],_0x3b0755[-0x1071+0x1b70*-0x1+0x2bea]=_0x190991[-0x86a+0x17a9+-0xb1*0x16],_0x3b0755[0x61c+0x3b*0x48+-0x16aa]=_0x190991[0x11af+0x2b*-0x51+-0x40a],_0x3b0755[0x18d7*0x1+-0x1d56+0x245*0x2]=_0x190991[-0x2*-0x855+0x26f7+-0x3796],_0x3b0755[0x1ef2+0xa*0x4b+-0x21d4]=_0x190991[-0x16d+-0x1*0x13bd+-0x16a*-0xf],_0x3b0755[0x46*-0x39+0x1*-0x1b1d+0x2ac0]=_0x190991[-0xa59+0x91+-0x347*-0x3],_0x3b0755[0x2*-0x26f+0x20b7+-0x1bcb]=_0x190991[-0x1ccd+0x41*0x6c+0x16f],_0x3b0755[-0x9*0x311+-0x2*0x75b+0x2a5e]=_0x190991[0x546*0x2+-0x9a*0x35+-0x1*-0x1565],this;}['setIdentit'+'y'](){const _0x538198=this['data'];return _0x538198[-0x2229+-0x1a17+0x3c40]=0xb9+-0x1068+0xfb*0x10,_0x538198[0x25f7+0xb*0x275+0x40fd*-0x1]=0x1e34+0x1b50+-0x3984,_0x538198[0x25f9*0x1+0x295*-0x5+0x2*-0xc87]=-0x584*-0x1+-0x1*0x1591+0x7*0x24b,_0x538198[-0x6e6+0x1*-0x24fd+0x2be6]=0x21be+-0x1*-0x8c3+-0x2a81,_0x538198[-0x106d+0x60f+0xa62]=-0x242e+-0x20f9+0x4527,_0x538198[0x47+0x1*-0x75b+0x719]=-0x959+0x2*0x68c+-0x2*0x1df,_0x538198[0x4ee+0x26af+-0x2b97*0x1]=0x2285+-0xdb*-0x18+-0x370d,_0x538198[-0x3*0xaa1+-0x45a*0x7+-0x1*-0x3e60]=-0xa*0x32d+0xef*-0xd+0x2be5,_0x538198[-0x17*-0x48+-0x2182+0x12*0x181]=-0x6d7+-0x6*-0x5bd+-0x1b97,_0x538198[-0x22b0+0x1*-0x39c+0x2655]=-0x2478+-0x2*-0x2c+-0x2420*-0x1,_0x538198[0x4*-0x1a5+0x13de+0x35*-0x40]=-0x232+0x1*0x1c45+0x1a12*-0x1,_0x538198[-0x8*0x266+-0x1*0x2414+0x374f*0x1]=0x11*0xf9+-0xfa3*-0x1+-0x202c,_0x538198[-0x199*0x1+-0x64f+0x7f4]=-0xd9c+-0xfd*-0x22+0x2*-0x9ff,_0x538198[-0x92*0x43+-0x6fd*-0x4+0xa4f]=0x47*-0x52+0x676+0x1048,_0x538198[0x35*-0x89+0x1*0xbb6+0x5b*0x2f]=0x1fed+0x158b+-0x3578,_0x538198[0xf6b*0x2+0x1b59+-0x3a20]=0xa2*-0x13+-0x4ce+-0x1*-0x10d5,this;}['setTRS'](_0x5e9e3b,_0xe63e57,_0x362c62){const _0x2feed2=_0xe63e57['x'],_0x534a99=_0xe63e57['y'],_0x1b7ea9=_0xe63e57['z'],_0x1127c0=_0xe63e57['w'],_0x5d6fe3=_0x362c62['x'],_0x2d5a92=_0x362c62['y'],_0x4e6185=_0x362c62['z'],_0x41c844=_0x2feed2+_0x2feed2,_0x3c747e=_0x534a99+_0x534a99,_0x1ea19f=_0x1b7ea9+_0x1b7ea9,_0x50c911=_0x2feed2*_0x41c844,_0x1a37ca=_0x2feed2*_0x3c747e,_0x46adb2=_0x2feed2*_0x1ea19f,_0x50b7c5=_0x534a99*_0x3c747e,_0x2b52be=_0x534a99*_0x1ea19f,_0x15daba=_0x1b7ea9*_0x1ea19f,_0x242034=_0x1127c0*_0x41c844,_0x5cc9c2=_0x1127c0*_0x3c747e,_0x5c6a1f=_0x1127c0*_0x1ea19f,_0x10d41e=this['data'];return _0x10d41e[0x9e7+-0x145e+-0x1*-0xa77]=(-0x2*-0xa5f+0xdb8+-0x2275-(_0x50b7c5+_0x15daba))*_0x5d6fe3,_0x10d41e[0x1446+0x8c3+-0x3a1*0x8]=(_0x1a37ca+_0x5c6a1f)*_0x5d6fe3,_0x10d41e[0x1b0d+0x1a38+-0x3543]=(_0x46adb2-_0x5cc9c2)*_0x5d6fe3,_0x10d41e[-0x66d*-0x5+0x5*-0x2f9+0x277*-0x7]=0x2372+-0xc7e+0x16f4*-0x1,_0x10d41e[0x174a+0x15f3*-0x1+-0x153]=(_0x1a37ca-_0x5c6a1f)*_0x2d5a92,_0x10d41e[0xa*0x34d+-0x1772+-0x98b]=(-0xf99+-0x1e01*-0x1+-0xe67*0x1-(_0x50c911+_0x15daba))*_0x2d5a92,_0x10d41e[-0xc28+0x13*-0x1e7+0x3053]=(_0x2b52be+_0x242034)*_0x2d5a92,_0x10d41e[0x1777+0x4a9+-0x1c19]=0x1d*-0xba+0xd*0xad+0xc49,_0x10d41e[-0x1*0x153e+0x1b63+-0x61d]=(_0x46adb2+_0x5cc9c2)*_0x4e6185,_0x10d41e[0x1*-0x64b+0x1*0x2702+-0x20ae]=(_0x2b52be-_0x242034)*_0x4e6185,_0x10d41e[-0x76*-0x38+-0x249c+0x92*0x13]=(0x863*-0x2+0x1f1a+-0xe53*0x1-(_0x50c911+_0x50b7c5))*_0x4e6185,_0x10d41e[0x15*-0x98+-0xe59+0x1adc]=0xba+-0x26c1*-0x1+-0x277b,_0x10d41e[0xf7*-0xb+-0x2*-0x3df+0x2eb*0x1]=_0x5e9e3b['x'],_0x10d41e[-0x1813*-0x1+0x1f32+-0x3738]=_0x5e9e3b['y'],_0x10d41e[0x20c+-0xffd+0xdff*0x1]=_0x5e9e3b['z'],_0x10d41e[-0x1146+0x19e2+-0x88d]=-0x7*-0x4c7+-0x882+0xc77*-0x2,this;}['transpose'](_0x4fe73d=this){const _0x25e0b5=_0x4fe73d['data'],_0x1289b5=this['data'];if(_0x25e0b5===_0x1289b5){let _0x594fcd;_0x594fcd=_0x25e0b5[-0x2113+-0xa8e*0x3+0x40be],_0x1289b5[-0x794+0x1435*0x1+-0xca0]=_0x25e0b5[0x1*-0x1c1b+0x6*0x4e7+-0x14b],_0x1289b5[-0x264b+0xd*0x2fe+-0x97]=_0x594fcd,_0x594fcd=_0x25e0b5[-0x1fd6+0xb*-0x95+0x263f],_0x1289b5[0x22e3+-0x173e+-0xba3]=_0x25e0b5[-0x8*0x1af+-0x17e5+0x2565],_0x1289b5[0x1e53*0x1+-0x19e5+-0x466]=_0x594fcd,_0x594fcd=_0x25e0b5[-0x25ec+-0x2299*0x1+0x2444*0x2],_0x1289b5[0x3f5*-0x5+-0xe*-0x1c1+-0x2*0x261]=_0x25e0b5[0x6*-0x679+-0x26*0xfc+0x4c4a],_0x1289b5[-0x175*0xb+0xe69+-0xd5*-0x2]=_0x594fcd,_0x594fcd=_0x25e0b5[0x1da7*0x1+0x25e2+0x7*-0x9a5],_0x1289b5[-0x427*0x5+0xae6+0x9e3]=_0x25e0b5[-0x1fb0+-0x7*0x2ab+0x1*0x3266],_0x1289b5[0x207+-0x1d*-0x6d+-0xe57]=_0x594fcd,_0x594fcd=_0x25e0b5[-0x1418+0x1482+0x21*-0x3],_0x1289b5[-0xde1*-0x1+0x745*-0x1+-0x695]=_0x25e0b5[0x1a7e+0x1bcf+0x1b20*-0x2],_0x1289b5[-0x17a+0x193c+-0x15*0x121]=_0x594fcd,_0x594fcd=_0x25e0b5[0xdf6+0x1a8d*0x1+-0x143c*0x2],_0x1289b5[-0x400+-0x9eb+0xdf6]=_0x25e0b5[0x1*0x249b+0x1262+-0x36ef],_0x1289b5[-0x18d5+-0x1*-0x336+-0xb3*-0x1f]=_0x594fcd;}else _0x1289b5[0x10*0x10c+0x234d+-0x340d*0x1]=_0x25e0b5[0x1687+-0x5ba*0x6+0xbd5*0x1],_0x1289b5[0x743+0x6*-0x136+-0x1*-0x2]=_0x25e0b5[0xa68+-0x1c7e+0x121a],_0x1289b5[-0x1a48+-0xb55+0x259f]=_0x25e0b5[0x162*0xf+0x1b7a+-0x3030],_0x1289b5[0x1*0xeb3+0x1578+-0x2428]=_0x25e0b5[0x125*-0xb+0x141b+-0x778],_0x1289b5[0xf7+-0xb*0x1ff+0x1502]=_0x25e0b5[-0x1e0+-0x118*0x17+0x9*0x301],_0x1289b5[-0x3c*-0x4c+-0x1*0xa96+-0x735]=_0x25e0b5[0x1*-0x2383+-0x94b+0x2cd3],_0x1289b5[-0xd44+-0x1040+-0x13*-0x18e]=_0x25e0b5[-0x3*0xa6f+0x44b*0x3+0x1275],_0x1289b5[0x5*0x626+-0x777+-0x1740]=_0x25e0b5[0xdbe*0x1+-0x3d4+-0x9dd],_0x1289b5[0x57e*0x6+-0x1f*0x1d+0x1*-0x1d69]=_0x25e0b5[-0x3*0x664+0x1af7+-0x1*0x7c9],_0x1289b5[-0x1*-0x208b+-0x2bd*0x2+0x1b08*-0x1]=_0x25e0b5[0x14*-0x1de+-0x2*-0x97b+0x4c*0x3e],_0x1289b5[-0x129a+-0x1*0x9f7+0x1c9b]=_0x25e0b5[0x238*-0x4+-0x1*-0x14a1+-0xbb7],_0x1289b5[-0x2d2+-0x1462+-0x173f*-0x1]=_0x25e0b5[-0x1*0x16d2+-0x678+0x1d58],_0x1289b5[-0x1*0x959+-0x5d3+-0xf38*-0x1]=_0x25e0b5[0x5b*0x4+0x2073+0x10ee*-0x2],_0x1289b5[0x6d*0x25+-0xe3e+-0x176]=_0x25e0b5[0x93f+-0x21d1+0x1899],_0x1289b5[-0x22e2+-0x132+0x73a*0x5]=_0x25e0b5[-0x1dd7*-0x1+-0x8f7+-0x14d5],_0x1289b5[-0x243*-0x4+-0x1c4c+0x134f]=_0x25e0b5[0x1*0xd95+0x3*0x42f+-0x1a13];return this;}['getTransla'+'tion'](_0x104ca4=new T()){return _0x104ca4['set'](this['data'][-0x2269+0x3*0xcaf+-0x398],this['data'][-0x5e9+-0xe4e*-0x1+-0x858],this['data'][0xb3f*-0x1+0x187+0x9c6*0x1]);}['getX'](_0x13de66=new T()){return _0x13de66['set'](this['data'][0x1*-0x1e97+-0x3*0xb37+0x403c],this['data'][0x2e8*0x6+-0x343*0x5+-0x120],this['data'][0x8a+0x227c+-0x2304]);}['getY'](_0x58056b=new T()){return _0x58056b['set'](this['data'][-0x25*-0x74+-0x22*0x17+-0xdb2],this['data'][-0xbb4+-0x236a+0x1*0x2f23],this['data'][-0xe8f+-0x1ebd*0x1+-0x2d52*-0x1]);}['getZ'](_0x5ac678=new T()){return _0x5ac678['set'](this['data'][0x2b3*0x2+0x2247+-0x27a5],this['data'][-0x3*0x3a7+0x107*-0x1d+0x1*0x28c9],this['data'][-0xd4b+-0xc*0xaa+0x13*0x11f]);}['getScale'](_0x3c858a=new T()){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),_0x3c858a['set'](us['length'](),Fs['length'](),Os['length']()),_0x3c858a;}get['scaleSign'](){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),us['cross'](us,Fs),us['dot'](Os)<0x1d02+-0x1b1*0x7+-0x112b?-(-0x23f9+0x1*0x180b+0xbef):-0x1ffd*0x1+-0x1ecf+0x3ecd;}['setFromEul'+'erAngles'](_0x216fe0,_0x4d7fc4,_0x48e07b){_0x216fe0*=N['DEG_TO_RAD'],_0x4d7fc4*=N['DEG_TO_RAD'],_0x48e07b*=N['DEG_TO_RAD'];const _0x4ca790=Math['sin'](-_0x216fe0),_0x25e54f=Math['cos'](-_0x216fe0),_0x329fd7=Math['sin'](-_0x4d7fc4),_0x2a9452=Math['cos'](-_0x4d7fc4),_0x4bcc13=Math['sin'](-_0x48e07b),_0x380a36=Math['cos'](-_0x48e07b),_0xa75e13=this['data'];return _0xa75e13[-0x258a+-0x2*0x1267+-0x68*-0xb7]=_0x2a9452*_0x380a36,_0xa75e13[0x2*-0xe17+-0x21cf+0x3dfe]=-_0x2a9452*_0x4bcc13,_0xa75e13[0x7*-0x43f+-0x72b*0x1+0x1273*0x2]=_0x329fd7,_0xa75e13[0x2fd*-0xb+-0x37*-0x7+0x1f61]=-0x188b+-0x1385+-0x3ac*-0xc,_0xa75e13[0x9d3*-0x1+0x23ca+-0x19f3]=_0x25e54f*_0x4bcc13+_0x380a36*_0x4ca790*_0x329fd7,_0xa75e13[0xba*-0xb+0x1*-0x150c+-0x1*-0x1d0f]=_0x25e54f*_0x380a36-_0x4ca790*_0x329fd7*_0x4bcc13,_0xa75e13[0x4*-0x2af+0x3*0x88a+-0xedc]=-_0x2a9452*_0x4ca790,_0xa75e13[-0x8dd*-0x1+-0x1682+-0x1*-0xdac]=-0x1d62+0x102*-0x24+0x41aa,_0xa75e13[-0x23e8+0xb7b+-0x1*-0x1875]=_0x4ca790*_0x4bcc13-_0x25e54f*_0x380a36*_0x329fd7,_0xa75e13[0x1*-0x1f3c+0x37*0x9+-0x2*-0xeab]=_0x380a36*_0x4ca790+_0x25e54f*_0x329fd7*_0x4bcc13,_0xa75e13[0x1985+-0x1*0x2ff+-0x2*0xb3e]=_0x25e54f*_0x2a9452,_0xa75e13[0x22*-0x97+-0x2*0xdd+0x15d3]=0x235b+0x14eb+-0x3846,_0xa75e13[0x2176+0x26d1+-0x483b]=0x1cce+0x855+-0x2523,_0xa75e13[-0x1*0x24bb+0xb0d+0x19bb]=-0xc1*0x28+-0x2*0x12a4+0x4370,_0xa75e13[-0x1278+-0xa5b*-0x1+0x11*0x7b]=0x11f3+0x52f+-0x1722,_0xa75e13[-0x97f+0xae0+0xd*-0x1a]=0x35+0x1677+-0x7*0x33d,this;}['getEulerAn'+'gles'](_0x3d9db1=new T()){this['getScale'](_l);const _0x4bf1d6=_l['x'],_0xa6a995=_l['y'],_0x3bd6a6=_l['z'];if(_0x4bf1d6===0xf77+0x118c+-0x2103||_0xa6a995===-0xa83+0x5e5*-0x1+0x1068||_0x3bd6a6===-0x1*0x2335+0x1*0x1b7a+0x7bb*0x1)return _0x3d9db1['set'](0xdce*0x2+-0x2*0x37a+-0x8*0x295,-0x10ab+-0xd4*-0x4+-0xd*-0x107,-0x107*0x1+-0x21c2+-0x22c9*-0x1);const _0x2b9ac8=this['data'],_0x5b3900=Math['asin'](-_0x2b9ac8[0x8e+0x5f*0x26+0x5*-0x2ee]/_0x4bf1d6),_0x369edd=Math['PI']*(-0x6dd+0x27*-0x35+0xef0+0.5);let _0x286b20,_0x5b2269;return _0x5b3900<_0x369edd?_0x5b3900>-_0x369edd?(_0x286b20=Math['atan2'](_0x2b9ac8[-0x25a0+-0x1896+0x3e3c]/_0xa6a995,_0x2b9ac8[0x18*0x15d+0x1d08+0x3db6*-0x1]/_0x3bd6a6),_0x5b2269=Math['atan2'](_0x2b9ac8[-0x282+-0x356+0x5d9]/_0x4bf1d6,_0x2b9ac8[-0xca3+-0x20c1+0x2d64]/_0x4bf1d6)):(_0x5b2269=0x11e*0x7+0x832+-0x1*0x1004,_0x286b20=-Math['atan2'](_0x2b9ac8[0x247*0x7+-0x1240+0x23*0x11]/_0xa6a995,_0x2b9ac8[-0xdf9+0x1e21+-0x1023]/_0xa6a995)):(_0x5b2269=0x1d18+0x2449*0x1+0x31d*-0x15,_0x286b20=Math['atan2'](_0x2b9ac8[-0x1*-0xf53+-0x3e*-0x7d+-0x2d95]/_0xa6a995,_0x2b9ac8[-0x61*0x7+-0x1e8c+0x2138]/_0xa6a995)),_0x3d9db1['set'](_0x286b20,_0x5b3900,_0x5b2269)['mulScalar'](N['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};c(Ur,'IDENTITY',Object['freeze'](new Ur())),c(Ur,'ZERO',Object['freeze'](new Ur()['set']([0x6d9*0x2+-0xab8*-0x3+-0x2dda,-0x2*-0x1160+0x1*0xdff+-0x30bf,0x1e2a+0x204f+-0x3e79,-0x1*0x2236+0x803+-0x161*-0x13,-0x57*-0x11+0x1*0x2383+-0x294a,-0x1*0x1ac9+0x1e39+-0x370,0x1*0x12cd+0x18a7+0x1b*-0x19c,0x175*-0x1+-0x7*-0x357+-0x3d*0x5c,-0x3*0xbb6+0x4a*-0x14+0x28ea,0x1*-0x841+0x1719+-0xed8,-0xd14+0x140b+-0x6f7*0x1,0x8d*-0x6+-0x125a+0x3f*0x58,0x328+0x985+-0xcad,-0x8d*-0x3d+-0x1938+-0x861,0x4*0x602+-0x9d*0x3+-0x1631,0x2*-0x404+0x24dd*0x1+-0x1cd5*0x1])));let q=Ur;const aa=class aa{constructor(_0x165a9a=0x66a+-0x1de1+0x1777,_0x54ec5a=0x1de7*-0x1+0xa55+0x1392,_0x47068d=-0x364+0x8d*-0x2+0x73*0xa,_0x84eb4c=-0x16a*0x4+-0x1*0x26fc+0x2ca5){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x165a9a['length']===0x252e*0x1+0x14ef+-0x3a19?(this['x']=_0x165a9a[-0x9*-0x1c5+0x203b+0x86*-0x5c],this['y']=_0x165a9a[-0x22b+0x1687+-0x145b],this['z']=_0x165a9a[0x1a7e+-0x2373+0x8f7],this['w']=_0x165a9a[0x62c+0x19dd+-0x2006]):(this['x']=_0x165a9a,this['y']=_0x54ec5a,this['z']=_0x47068d,this['w']=_0x84eb4c);}['clone'](){const _0x231380=this['constructo'+'r'];return new _0x231380(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x23a365=this){return this['x']=_0x23a365['x']*-(0x1*0xbc3+0xfab+0x19d*-0x11),this['y']=_0x23a365['y']*-(0x1d0e+-0x6d7*0x2+-0xf5f),this['z']=_0x23a365['z']*-(0x110d+0x32b*-0x5+-0x67*0x3),this['w']=_0x23a365['w'],this;}['copy'](_0x4c6042){return this['x']=_0x4c6042['x'],this['y']=_0x4c6042['y'],this['z']=_0x4c6042['z'],this['w']=_0x4c6042['w'],this;}['equals'](_0x1745d5){return this['x']===_0x1745d5['x']&&this['y']===_0x1745d5['y']&&this['z']===_0x1745d5['z']&&this['w']===_0x1745d5['w'];}['equalsAppr'+'ox'](_0x552683,_0x51c3ef=0x14f9+-0x14*-0x6f+-0x1da5+0.000001){return Math['abs'](this['x']-_0x552683['x'])<_0x51c3ef&&Math['abs'](this['y']-_0x552683['y'])<_0x51c3ef&&Math['abs'](this['z']-_0x552683['z'])<_0x51c3ef&&Math['abs'](this['w']-_0x552683['w'])<_0x51c3ef;}['getAxisAng'+'le'](_0x120bb8){let _0x3b6ef2=Math['acos'](this['w'])*(0xf2b+-0xee6+0x43*-0x1);const _0x15a9f3=Math['sin'](_0x3b6ef2/(0x15c3+-0x1*-0x2632+-0x3bf3));return _0x15a9f3!==0x4b*-0x5e+-0x1707*-0x1+0x483?(_0x120bb8['x']=this['x']/_0x15a9f3,_0x120bb8['y']=this['y']/_0x15a9f3,_0x120bb8['z']=this['z']/_0x15a9f3,(_0x120bb8['x']<-0x25ac+0x3*-0x571+0x1*0x35ff||_0x120bb8['y']<0x252f+-0x4cf*0x3+-0x16c2||_0x120bb8['z']<0x3*0x4ab+0x184e+-0x264f)&&(_0x120bb8['x']*=-(0xdc4+-0x4e3+-0x8e0),_0x120bb8['y']*=-(0x8bf*-0x1+0x243c*0x1+0x6df*-0x4),_0x120bb8['z']*=-(0x15e0+0x1*-0x1db7+0x7d8),_0x3b6ef2*=-(0x10*-0xee+-0x1727+-0x1304*-0x2))):(_0x120bb8['x']=0x1520+-0xbd3*0x3+0x72d*0x2,_0x120bb8['y']=-0x1*0x22d4+-0x1bb8+-0x1f46*-0x2,_0x120bb8['z']=0x184c*-0x1+0x24e*-0x10+0x20a*0x1e),_0x3b6ef2*N['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x2c338e=new T()){let _0x456f8a,_0x5c606a,_0x57a9ca;const _0x1edeb9=this['x'],_0x554352=this['y'],_0x5ebde8=this['z'],_0x4d9cdf=this['w'],_0x29f3bd=(0x1*-0x123b+-0x231+-0x2*-0xa37)*(_0x4d9cdf*_0x554352-_0x1edeb9*_0x5ebde8);return _0x29f3bd<=-(-0xb96+-0x1f1f+0x349*0xd+0.99999)?(_0x456f8a=(0x11fe+0x4*0x96a+0xde9*-0x4)*Math['atan2'](_0x1edeb9,_0x4d9cdf),_0x5c606a=-Math['PI']/(0x1626+0x25f8+-0x3c1c),_0x57a9ca=-0x472+0x1f00+-0x1a8e):_0x29f3bd>=0x801+-0x7eb*0x4+0x17ab+0.99999?(_0x456f8a=(-0x5*0x3b3+0x1*0x5f2+0xc8f)*Math['atan2'](_0x1edeb9,_0x4d9cdf),_0x5c606a=Math['PI']/(-0x1*-0x1bbf+0x57d+-0x1*0x213a),_0x57a9ca=-0xd*0x5+0x15d6+-0x1595):(_0x456f8a=Math['atan2']((0xc4b+0x2138+-0x2d81)*(_0x4d9cdf*_0x1edeb9+_0x554352*_0x5ebde8),-0x122b+-0x219f+0x1*0x33cb-(-0x1b1*0x9+0x17e4+-0x8a9*0x1)*(_0x1edeb9*_0x1edeb9+_0x554352*_0x554352)),_0x5c606a=Math['asin'](_0x29f3bd),_0x57a9ca=Math['atan2']((0xe*0x94+-0x761*0x3+-0x3*-0x4af)*(_0x4d9cdf*_0x5ebde8+_0x1edeb9*_0x554352),0x125*-0x21+-0x277*0xb+0x40e3-(0x108d*-0x2+0x625+0x2ff*0x9)*(_0x554352*_0x554352+_0x5ebde8*_0x5ebde8))),_0x2c338e['set'](_0x456f8a,_0x5c606a,_0x57a9ca)['mulScalar'](N['RAD_TO_DEG']);}['invert'](_0x4b6f3d=this){return this['conjugate'](_0x4b6f3d)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['mul'](_0x17b50d){const _0x34ef23=this['x'],_0x3e38f0=this['y'],_0x2865e4=this['z'],_0x57b024=this['w'],_0x329a1c=_0x17b50d['x'],_0x27ee18=_0x17b50d['y'],_0x283807=_0x17b50d['z'],_0x3fd39c=_0x17b50d['w'];return this['x']=_0x57b024*_0x329a1c+_0x34ef23*_0x3fd39c+_0x3e38f0*_0x283807-_0x2865e4*_0x27ee18,this['y']=_0x57b024*_0x27ee18+_0x3e38f0*_0x3fd39c+_0x2865e4*_0x329a1c-_0x34ef23*_0x283807,this['z']=_0x57b024*_0x283807+_0x2865e4*_0x3fd39c+_0x34ef23*_0x27ee18-_0x3e38f0*_0x329a1c,this['w']=_0x57b024*_0x3fd39c-_0x34ef23*_0x329a1c-_0x3e38f0*_0x27ee18-_0x2865e4*_0x283807,this;}['mulScalar'](_0x512da7,_0x2d4e05=this){return this['x']=_0x2d4e05['x']*_0x512da7,this['y']=_0x2d4e05['y']*_0x512da7,this['z']=_0x2d4e05['z']*_0x512da7,this['w']=_0x2d4e05['w']*_0x512da7,this;}['mul2'](_0x5ee383,_0x4ff26d){const _0x5c2fbb=_0x5ee383['x'],_0xc0078e=_0x5ee383['y'],_0x103747=_0x5ee383['z'],_0x502d35=_0x5ee383['w'],_0x14d961=_0x4ff26d['x'],_0x1f3be5=_0x4ff26d['y'],_0x10a1ce=_0x4ff26d['z'],_0x52eb0f=_0x4ff26d['w'];return this['x']=_0x502d35*_0x14d961+_0x5c2fbb*_0x52eb0f+_0xc0078e*_0x10a1ce-_0x103747*_0x1f3be5,this['y']=_0x502d35*_0x1f3be5+_0xc0078e*_0x52eb0f+_0x103747*_0x14d961-_0x5c2fbb*_0x10a1ce,this['z']=_0x502d35*_0x10a1ce+_0x103747*_0x52eb0f+_0x5c2fbb*_0x1f3be5-_0xc0078e*_0x14d961,this['w']=_0x502d35*_0x52eb0f-_0x5c2fbb*_0x14d961-_0xc0078e*_0x1f3be5-_0x103747*_0x10a1ce,this;}['normalize'](_0x33279c=this){let _0x1ccc5d=_0x33279c['length']();return _0x1ccc5d===0xbef*0x1+0x14c7+-0x20b6?(this['x']=this['y']=this['z']=-0x1072+-0x1*0x24df+0x3551*0x1,this['w']=0x44b+-0xd70+-0x2*-0x493):(_0x1ccc5d=(0x1607+0x6b9+-0x1cbf)/_0x1ccc5d,this['x']=_0x33279c['x']*_0x1ccc5d,this['y']=_0x33279c['y']*_0x1ccc5d,this['z']=_0x33279c['z']*_0x1ccc5d,this['w']=_0x33279c['w']*_0x1ccc5d),this;}['set'](_0x211d1c,_0x1ec49b,_0x10c0ee,_0x2d71e8){return this['x']=_0x211d1c,this['y']=_0x1ec49b,this['z']=_0x10c0ee,this['w']=_0x2d71e8,this;}['setFromAxi'+'sAngle'](_0x33c827,_0x5cda6c){_0x5cda6c*=(-0x4*-0xd9+0x784+-0xae8+0.5)*N['DEG_TO_RAD'];const _0x121d01=Math['sin'](_0x5cda6c),_0x8d87ac=Math['cos'](_0x5cda6c);return this['x']=_0x121d01*_0x33c827['x'],this['y']=_0x121d01*_0x33c827['y'],this['z']=_0x121d01*_0x33c827['z'],this['w']=_0x8d87ac,this;}['setFromEul'+'erAngles'](_0x1e92b6,_0x3f3d23,_0xbf6088){if(_0x1e92b6 instanceof T){const _0x5bf1cb=_0x1e92b6;_0x1e92b6=_0x5bf1cb['x'],_0x3f3d23=_0x5bf1cb['y'],_0xbf6088=_0x5bf1cb['z'];}const _0x4c6b07=(-0x22e8+0xe0+0x2208+0.5)*N['DEG_TO_RAD'];_0x1e92b6*=_0x4c6b07,_0x3f3d23*=_0x4c6b07,_0xbf6088*=_0x4c6b07;const _0x474fe5=Math['sin'](_0x1e92b6),_0x511546=Math['cos'](_0x1e92b6),_0x2d5d78=Math['sin'](_0x3f3d23),_0x1869d8=Math['cos'](_0x3f3d23),_0x1bcbc2=Math['sin'](_0xbf6088),_0x33f90b=Math['cos'](_0xbf6088);return this['x']=_0x474fe5*_0x1869d8*_0x33f90b-_0x511546*_0x2d5d78*_0x1bcbc2,this['y']=_0x511546*_0x2d5d78*_0x33f90b+_0x474fe5*_0x1869d8*_0x1bcbc2,this['z']=_0x511546*_0x1869d8*_0x1bcbc2-_0x474fe5*_0x2d5d78*_0x33f90b,this['w']=_0x511546*_0x1869d8*_0x33f90b+_0x474fe5*_0x2d5d78*_0x1bcbc2,this;}['setFromMat'+'4'](_0x419c1a){const _0x245eb7=_0x419c1a['data'];let _0x281e4d=_0x245eb7[0x1800+0x2370+0x4*-0xedc],_0x23abc5=_0x245eb7[-0x1d70+-0x1e2c+0x3b9d],_0x4cde32=_0x245eb7[-0x48*0x10+-0x963+0xde5],_0x3df0fa=_0x245eb7[0x1356+-0x1231*-0x1+-0x2583],_0x321485=_0x245eb7[0x1*0xab5+0x115*-0x15+0xd*0xed],_0x5f0729=_0x245eb7[-0xacd+-0x1712+0x21e5],_0x3682d4=_0x245eb7[0xb4e+0x7*0x34f+-0x226f],_0x29517f=_0x245eb7[-0x22f3+-0x15b3+0x38af],_0x58bf7b=_0x245eb7[-0x1337*-0x1+0x1810*-0x1+0x4e3],_0x25680a;return _0x25680a=_0x281e4d*_0x281e4d+_0x23abc5*_0x23abc5+_0x4cde32*_0x4cde32,_0x25680a===0x1aa6+0xc7b+-0x2721?this['set'](0x22aa+-0x1*0x87b+0x1a2f*-0x1,0x1f*-0x87+-0x101d+-0xa*-0x33f,-0x242*0xf+-0xe9b*0x2+-0xfc5*-0x4,-0x42*-0x6+-0x1*0x165a+-0x1*-0x14cf):(_0x25680a=(0x1c*0xed+0x134e*-0x2+-0x169*-0x9)/Math['sqrt'](_0x25680a),_0x281e4d*=_0x25680a,_0x23abc5*=_0x25680a,_0x4cde32*=_0x25680a,_0x25680a=_0x3df0fa*_0x3df0fa+_0x321485*_0x321485+_0x5f0729*_0x5f0729,_0x25680a===0x959*-0x4+-0x1f41+0x44a5?this['set'](0x1d8a+-0x4b0+0x1*-0x18da,0x103b+-0x15d2+0x597,-0xfe*0x26+-0x127b+0x1*0x382f,0x1538+0x1*0x1cb5+-0x31ec):(_0x25680a=(-0x18f5+0x12b5+0x1*0x641)/Math['sqrt'](_0x25680a),_0x3df0fa*=_0x25680a,_0x321485*=_0x25680a,_0x5f0729*=_0x25680a,_0x25680a=_0x3682d4*_0x3682d4+_0x29517f*_0x29517f+_0x58bf7b*_0x58bf7b,_0x25680a===-0x2bd*0x8+-0xd90*0x1+0x2378?this['set'](0x268d+0x1aa8+-0x4135,0x9*-0x55+0x15e8+-0x12eb,-0xc5e*-0x3+-0x1c14*-0x1+0x12*-0x39f,0x17b9+-0x240b+0xc53):(_0x25680a=(0x24ac+-0x1be4+-0x3*0x2ed)/Math['sqrt'](_0x25680a),_0x3682d4*=_0x25680a,_0x29517f*=_0x25680a,_0x58bf7b*=_0x25680a,_0x58bf7b<-0x816+-0x1*-0x184f+0x1*-0x1039?_0x281e4d>_0x321485?this['set'](-0x1*0x1fa3+-0x46a*-0x3+0x6*0x311+_0x281e4d-_0x321485-_0x58bf7b,_0x23abc5+_0x3df0fa,_0x3682d4+_0x4cde32,_0x5f0729-_0x29517f):this['set'](_0x23abc5+_0x3df0fa,-0x85*-0x23+-0x1b6*0x1+-0x22*0x7c-_0x281e4d+_0x321485-_0x58bf7b,_0x5f0729+_0x29517f,_0x3682d4-_0x4cde32):_0x281e4d<-_0x321485?this['set'](_0x3682d4+_0x4cde32,_0x5f0729+_0x29517f,-0xe41+-0x168+-0x2*-0x7d5-_0x281e4d-_0x321485+_0x58bf7b,_0x23abc5-_0x3df0fa):this['set'](_0x5f0729-_0x29517f,_0x3682d4-_0x4cde32,_0x23abc5-_0x3df0fa,0x139*-0x5+-0x1b34+0x2152+_0x281e4d+_0x321485+_0x58bf7b),this['mulScalar']((-0x1*-0x270a+0x20e8+0x15*-0x36d)/this['length']()))));}['setFromDir'+'ections'](_0x685380,_0x2447e0){const _0x4713b4=0x41*0x16+-0x1d*0x84+0x1*0x95f+_0x685380['dot'](_0x2447e0);return _0x4713b4<Number['EPSILON']?Math['abs'](_0x685380['x'])>Math['abs'](_0x685380['y'])?(this['x']=-_0x685380['z'],this['y']=-0x86e*0x3+-0x1*-0x409+0x1*0x1541,this['z']=_0x685380['x'],this['w']=-0x1677*0x1+-0x1*0x18ac+0x2f23):(this['x']=0x19*0x5+0x1840+0x3*-0x83f,this['y']=-_0x685380['z'],this['z']=_0x685380['y'],this['w']=0xda7*0x2+0xb00+-0x1327*0x2):(this['x']=_0x685380['y']*_0x2447e0['z']-_0x685380['z']*_0x2447e0['y'],this['y']=_0x685380['z']*_0x2447e0['x']-_0x685380['x']*_0x2447e0['z'],this['z']=_0x685380['x']*_0x2447e0['y']-_0x685380['y']*_0x2447e0['x'],this['w']=_0x4713b4),this['normalize']();}['slerp'](_0x105b16,_0xed676f,_0x4bae74){const _0x1844cc=_0x105b16['x'],_0x506f03=_0x105b16['y'],_0x1783c0=_0x105b16['z'],_0x563456=_0x105b16['w'];let _0x287451=_0xed676f['x'],_0x16a171=_0xed676f['y'],_0x58eea8=_0xed676f['z'],_0x383b6f=_0xed676f['w'],_0x54f924=_0x563456*_0x383b6f+_0x1844cc*_0x287451+_0x506f03*_0x16a171+_0x1783c0*_0x58eea8;if(_0x54f924<0x1182+0xcab+-0x135*0x19&&(_0x383b6f=-_0x383b6f,_0x287451=-_0x287451,_0x16a171=-_0x16a171,_0x58eea8=-_0x58eea8,_0x54f924=-_0x54f924),Math['abs'](_0x54f924)>=0x784+-0xdcd+0x64a)return this['w']=_0x563456,this['x']=_0x1844cc,this['y']=_0x506f03,this['z']=_0x1783c0,this;const _0x4d37f7=Math['acos'](_0x54f924),_0x5f4e16=Math['sqrt'](-0xb7a*0x1+-0x270*-0xa+-0xce5-_0x54f924*_0x54f924);if(Math['abs'](_0x5f4e16)<0x31*0x6a+0x146e+-0x28b8+0.001)return this['w']=_0x563456*(0x1*0x1409+-0x24ae+0x10a5+0.5)+_0x383b6f*(0x11*0xd4+0x539*0x2+-0x49*0x56+0.5),this['x']=_0x1844cc*(-0x516+-0xd3*0x5+0x935+0.5)+_0x287451*(0xa5e+-0xda*-0x2+0xc12*-0x1+0.5),this['y']=_0x506f03*(0x76*0x9+-0xc34+0x80e+0.5)+_0x16a171*(-0x1c1b+-0x15e9+0x3204+0.5),this['z']=_0x1783c0*(0x1bc1+-0x126d+-0x954+0.5)+_0x58eea8*(0x264b+-0x9*0x337+0x4ae*-0x2+0.5),this;const _0xf6d146=Math['sin']((-0x96d+-0x20*-0x3d+-0x4d*-0x6-_0x4bae74)*_0x4d37f7)/_0x5f4e16,_0x145a67=Math['sin'](_0x4bae74*_0x4d37f7)/_0x5f4e16;return this['w']=_0x563456*_0xf6d146+_0x383b6f*_0x145a67,this['x']=_0x1844cc*_0xf6d146+_0x287451*_0x145a67,this['y']=_0x506f03*_0xf6d146+_0x16a171*_0x145a67,this['z']=_0x1783c0*_0xf6d146+_0x58eea8*_0x145a67,this;}['transformV'+'ector'](_0x3cf292,_0xd26056=new T()){const _0x2f9831=_0x3cf292['x'],_0x1a5746=_0x3cf292['y'],_0x38857b=_0x3cf292['z'],_0xfa2ee5=this['x'],_0x473713=this['y'],_0x344550=this['z'],_0x1f7ee0=this['w'],_0x18502e=_0x1f7ee0*_0x2f9831+_0x473713*_0x38857b-_0x344550*_0x1a5746,_0x59969a=_0x1f7ee0*_0x1a5746+_0x344550*_0x2f9831-_0xfa2ee5*_0x38857b,_0x8d8050=_0x1f7ee0*_0x38857b+_0xfa2ee5*_0x1a5746-_0x473713*_0x2f9831,_0x4982d5=-_0xfa2ee5*_0x2f9831-_0x473713*_0x1a5746-_0x344550*_0x38857b;return _0xd26056['x']=_0x18502e*_0x1f7ee0+_0x4982d5*-_0xfa2ee5+_0x59969a*-_0x344550-_0x8d8050*-_0x473713,_0xd26056['y']=_0x59969a*_0x1f7ee0+_0x4982d5*-_0x473713+_0x8d8050*-_0xfa2ee5-_0x18502e*-_0x344550,_0xd26056['z']=_0x8d8050*_0x1f7ee0+_0x4982d5*-_0x344550+_0x18502e*-_0x473713-_0x59969a*-_0xfa2ee5,_0xd26056;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}};c(aa,'IDENTITY',Object['freeze'](new aa(-0x1*0x13ed+-0x1495+-0x40d*-0xa,0xa*-0x331+0x14de+0x2*0x586,-0x16ad+-0x1af+0x185c,-0x127*0x5+-0xbf*-0x15+0xc3*-0xd))),c(aa,'ZERO',Object['freeze'](new aa(0x18fa+0x19db*0x1+-0x32d5,0x1*-0xd01+0x292*0xb+-0xf45,0x12ca+-0x1*0x9f5+-0x7*0x143,0x5c8+-0xb*0x221+0x11a3)));let se=aa;const vn=new T(),bn=new T(),nm=new T(),am=new T(),vS=new T();class _e{constructor(_0x5d057a,_0x3b7249){c(this,'center',new T()),c(this,'halfExtent'+'s',new T(0x2*0x10b0+-0x1d83+-0x3dd+0.5,0xb5*0x37+0xef+-0x27d2+0.5,0x2*-0x32b+-0x315*0x1+0x96b+0.5)),c(this,'_min',new T()),c(this,'_max',new T()),(_0x5d057a&&this['center']['copy'](_0x5d057a),_0x3b7249&&this['halfExtent'+'s']['copy'](_0x3b7249));}['add'](_0x330279){const _0x1aa38c=this['center'],_0x1fbe61=_0x1aa38c['x'],_0x1f691e=_0x1aa38c['y'],_0x23b7e1=_0x1aa38c['z'],_0x2d2b75=this['halfExtent'+'s'],_0x5d882e=_0x2d2b75['x'],_0x54810e=_0x2d2b75['y'],_0x2e36ba=_0x2d2b75['z'];let _0x1a7bb1=_0x1fbe61-_0x5d882e,_0x30221e=_0x1fbe61+_0x5d882e,_0x174c86=_0x1f691e-_0x54810e,_0xbb138f=_0x1f691e+_0x54810e,_0x24124c=_0x23b7e1-_0x2e36ba,_0x251717=_0x23b7e1+_0x2e36ba;const _0x48c4e1=_0x330279['center'],_0x380eb7=_0x48c4e1['x'],_0x16987b=_0x48c4e1['y'],_0x4c5212=_0x48c4e1['z'],_0x2d44f2=_0x330279['halfExtent'+'s'],_0x1549c2=_0x2d44f2['x'],_0x333de4=_0x2d44f2['y'],_0xfc17db=_0x2d44f2['z'],_0x685a1e=_0x380eb7-_0x1549c2,_0x29cc21=_0x380eb7+_0x1549c2,_0x1112ec=_0x16987b-_0x333de4,_0x53d326=_0x16987b+_0x333de4,_0x26d839=_0x4c5212-_0xfc17db,_0x5cde9f=_0x4c5212+_0xfc17db;_0x685a1e<_0x1a7bb1&&(_0x1a7bb1=_0x685a1e),_0x29cc21>_0x30221e&&(_0x30221e=_0x29cc21),_0x1112ec<_0x174c86&&(_0x174c86=_0x1112ec),_0x53d326>_0xbb138f&&(_0xbb138f=_0x53d326),_0x26d839<_0x24124c&&(_0x24124c=_0x26d839),_0x5cde9f>_0x251717&&(_0x251717=_0x5cde9f),_0x1aa38c['x']=(_0x1a7bb1+_0x30221e)*(-0xc2*-0x2a+0x6a8+0x6*-0x66a+0.5),_0x1aa38c['y']=(_0x174c86+_0xbb138f)*(-0x1106*0x1+0xd0a+-0x1e*-0x22+0.5),_0x1aa38c['z']=(_0x24124c+_0x251717)*(-0x565+-0x1fd*-0x9+-0xc80+0.5),_0x2d2b75['x']=(_0x30221e-_0x1a7bb1)*(-0x19*0xc2+0x1e9e+-0xbac+0.5),_0x2d2b75['y']=(_0xbb138f-_0x174c86)*(-0x290+-0x1147+0x13d7+0.5),_0x2d2b75['z']=(_0x251717-_0x24124c)*(-0x194f+0x6d1*0x1+0x127e+0.5);}['copy'](_0x388461){this['center']['copy'](_0x388461['center']),this['halfExtent'+'s']['copy'](_0x388461['halfExtent'+'s']);}['clone'](){return new _e(this['center'],this['halfExtent'+'s']);}['intersects'](_0x5b38c9){const _0x106566=this['getMax'](),_0x5c7749=this['getMin'](),_0x2015f7=_0x5b38c9['getMax'](),_0x454dad=_0x5b38c9['getMin']();return _0x5c7749['x']<=_0x2015f7['x']&&_0x106566['x']>=_0x454dad['x']&&_0x5c7749['y']<=_0x2015f7['y']&&_0x106566['y']>=_0x454dad['y']&&_0x5c7749['z']<=_0x2015f7['z']&&_0x106566['z']>=_0x454dad['z'];}['_intersect'+'sRay'](_0x4dec02,_0x873f48){const _0x4b5ba5=vn['copy'](this['getMin']())['sub'](_0x4dec02['origin']),_0x1531ed=bn['copy'](this['getMax']())['sub'](_0x4dec02['origin']),_0x2f9cdb=_0x4dec02['direction'];_0x2f9cdb['x']===-0xab2+0x127*-0x2+0x20*0x68?(_0x4b5ba5['x']=_0x4b5ba5['x']<-0x2586+-0x1*0x1325+0x1*0x38ab?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x1531ed['x']=_0x1531ed['x']<0x137*-0x11+-0x1351+0x27f8?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x4b5ba5['x']/=_0x2f9cdb['x'],_0x1531ed['x']/=_0x2f9cdb['x']),_0x2f9cdb['y']===-0x11*-0x239+0x1e42+-0x440b?(_0x4b5ba5['y']=_0x4b5ba5['y']<-0xe32+-0x174f+0x2581?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x1531ed['y']=_0x1531ed['y']<-0x1b72+-0x1*0x1e11+0x3983*0x1?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x4b5ba5['y']/=_0x2f9cdb['y'],_0x1531ed['y']/=_0x2f9cdb['y']),_0x2f9cdb['z']===-0x9db+-0xb33+0x150e?(_0x4b5ba5['z']=_0x4b5ba5['z']<-0x17fc+0x1dd*0x5+0xeab*0x1?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x1531ed['z']=_0x1531ed['z']<0x14fc+-0x16*0x59+-0xd56?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x4b5ba5['z']/=_0x2f9cdb['z'],_0x1531ed['z']/=_0x2f9cdb['z']);const _0x5738de=nm['set'](Math['min'](_0x4b5ba5['x'],_0x1531ed['x']),Math['min'](_0x4b5ba5['y'],_0x1531ed['y']),Math['min'](_0x4b5ba5['z'],_0x1531ed['z'])),_0x30245f=am['set'](Math['max'](_0x4b5ba5['x'],_0x1531ed['x']),Math['max'](_0x4b5ba5['y'],_0x1531ed['y']),Math['max'](_0x4b5ba5['z'],_0x1531ed['z'])),_0x8acccb=Math['min'](Math['min'](_0x30245f['x'],_0x30245f['y']),_0x30245f['z']),_0x145f2c=Math['max'](Math['max'](_0x5738de['x'],_0x5738de['y']),_0x5738de['z']),_0x326f92=_0x8acccb>=_0x145f2c&&_0x145f2c>=0x4*0x15d+0x3*0x4f6+-0x1456;return _0x326f92&&_0x873f48['copy'](_0x4dec02['direction'])['mulScalar'](_0x145f2c)['add'](_0x4dec02['origin']),_0x326f92;}['_fastInter'+'sectsRay'](_0x3341b1){const _0x438091=vn,_0x23727d=bn,_0x1a9836=nm,_0x46e9f3=am,_0x284aae=vS,_0x3f7e32=_0x3341b1['direction'];return _0x438091['sub2'](_0x3341b1['origin'],this['center']),_0x46e9f3['set'](Math['abs'](_0x438091['x']),Math['abs'](_0x438091['y']),Math['abs'](_0x438091['z'])),_0x1a9836['mul2'](_0x438091,_0x3f7e32),!(_0x46e9f3['x']>this['halfExtent'+'s']['x']&&_0x1a9836['x']>=-0x131d+0x142a+-0x10d*0x1||_0x46e9f3['y']>this['halfExtent'+'s']['y']&&_0x1a9836['y']>=-0x2063+0x174e+0x915||_0x46e9f3['z']>this['halfExtent'+'s']['z']&&_0x1a9836['z']>=0x2fa+0x1*-0xdc3+0xac9||(_0x284aae['set'](Math['abs'](_0x3f7e32['x']),Math['abs'](_0x3f7e32['y']),Math['abs'](_0x3f7e32['z'])),_0x23727d['cross'](_0x3f7e32,_0x438091),_0x23727d['set'](Math['abs'](_0x23727d['x']),Math['abs'](_0x23727d['y']),Math['abs'](_0x23727d['z'])),_0x23727d['x']>this['halfExtent'+'s']['y']*_0x284aae['z']+this['halfExtent'+'s']['z']*_0x284aae['y'])||_0x23727d['y']>this['halfExtent'+'s']['x']*_0x284aae['z']+this['halfExtent'+'s']['z']*_0x284aae['x']||_0x23727d['z']>this['halfExtent'+'s']['x']*_0x284aae['y']+this['halfExtent'+'s']['y']*_0x284aae['x']);}['intersects'+'Ray'](_0x2853de,_0x3cdb31){return _0x3cdb31?this['_intersect'+'sRay'](_0x2853de,_0x3cdb31):this['_fastInter'+'sectsRay'](_0x2853de);}['setMinMax'](_0x26b8c3,_0x164768){this['center']['add2'](_0x164768,_0x26b8c3)['mulScalar'](-0x163d+-0xe69+-0x1253*-0x2+0.5),this['halfExtent'+'s']['sub2'](_0x164768,_0x26b8c3)['mulScalar'](0x88*0x28+0x1a47*0x1+-0x2f87*0x1+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x295b0d){const _0x4a866c=this['getMin'](),_0x30d450=this['getMax']();return!(_0x295b0d['x']<_0x4a866c['x']||_0x295b0d['x']>_0x30d450['x']||_0x295b0d['y']<_0x4a866c['y']||_0x295b0d['y']>_0x30d450['y']||_0x295b0d['z']<_0x4a866c['z']||_0x295b0d['z']>_0x30d450['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x566629,_0xb88db,_0x462f27=!(-0x44*0x11+-0x1da5*-0x1+-0x430*0x6)){const _0x37bcf3=_0x566629['center'],_0x3ba0df=_0x566629['halfExtent'+'s'],_0xf87cd3=_0xb88db['data'];let _0x212945=_0xf87cd3[0x1bf5+-0x97f+-0x1276],_0x5ec4be=_0xf87cd3[-0xaf1*0x2+0x23*-0x9a+-0x4*-0xabd],_0x1f6a27=_0xf87cd3[-0x1dff*-0x1+-0x1cae+-0x7*0x2f],_0x551b23=_0xf87cd3[0x2527+-0x1*-0x124d+-0xb17*0x5],_0xe1a2dd=_0xf87cd3[0x11*-0x1a7+0x12*-0x32+-0x8*-0x3f4],_0x1f539d=_0xf87cd3[-0x27*-0xf2+0xce2*-0x2+-0x1*0xb11],_0x941fcb=_0xf87cd3[-0x1b4a+0x24bb*-0x1+0x4007],_0xa30e0c=_0xf87cd3[-0x4e*0x33+0x1a3*0x5+0x761*0x1],_0x29bbdc=_0xf87cd3[0x1*-0x535+0x1f*0x13d+-0x25e*0xe];if(_0x462f27){let _0x2db0e2=_0x212945*_0x212945+_0x5ec4be*_0x5ec4be+_0x1f6a27*_0x1f6a27;if(_0x2db0e2>0x2500+0x13*0xa+0x25be*-0x1){const _0x2fd4db=(-0x1ea*0x3+-0x3*-0x116+0x27d)/Math['sqrt'](_0x2db0e2);_0x212945*=_0x2fd4db,_0x5ec4be*=_0x2fd4db,_0x1f6a27*=_0x2fd4db;}if(_0x2db0e2=_0x551b23*_0x551b23+_0xe1a2dd*_0xe1a2dd+_0x1f539d*_0x1f539d,_0x2db0e2>0x1*0xc97+-0x23a6+-0x170f*-0x1){const _0x46d11d=(0x1*-0xc46+-0x1972*-0x1+-0x1*0xd2b)/Math['sqrt'](_0x2db0e2);_0x551b23*=_0x46d11d,_0xe1a2dd*=_0x46d11d,_0x1f539d*=_0x46d11d;}if(_0x2db0e2=_0x941fcb*_0x941fcb+_0xa30e0c*_0xa30e0c+_0x29bbdc*_0x29bbdc,_0x2db0e2>0x49*-0x49+-0x1*-0x223b+-0xd6a){const _0x290d32=(0xa9a+-0x102c+0x593)/Math['sqrt'](_0x2db0e2);_0x941fcb*=_0x290d32,_0xa30e0c*=_0x290d32,_0x29bbdc*=_0x290d32;}}this['center']['set'](_0xf87cd3[-0x12b*-0xa+-0x3*-0xac3+-0x2beb]+_0x212945*_0x37bcf3['x']+_0x5ec4be*_0x37bcf3['y']+_0x1f6a27*_0x37bcf3['z'],_0xf87cd3[0x19ff+0x960+-0x2352]+_0x551b23*_0x37bcf3['x']+_0xe1a2dd*_0x37bcf3['y']+_0x1f539d*_0x37bcf3['z'],_0xf87cd3[-0x53*0x13+0x227*-0x11+0x1567*0x2]+_0x941fcb*_0x37bcf3['x']+_0xa30e0c*_0x37bcf3['y']+_0x29bbdc*_0x37bcf3['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x212945)*_0x3ba0df['x']+Math['abs'](_0x5ec4be)*_0x3ba0df['y']+Math['abs'](_0x1f6a27)*_0x3ba0df['z'],Math['abs'](_0x551b23)*_0x3ba0df['x']+Math['abs'](_0xe1a2dd)*_0x3ba0df['y']+Math['abs'](_0x1f539d)*_0x3ba0df['z'],Math['abs'](_0x941fcb)*_0x3ba0df['x']+Math['abs'](_0xa30e0c)*_0x3ba0df['y']+Math['abs'](_0x29bbdc)*_0x3ba0df['z']);}static['computeMin'+'Max'](_0x371c4a,_0x555a58,_0x2fd6e8,_0x301f55=_0x371c4a['length']/(0x3*-0xaeb+-0x1353+-0xa6b*-0x5)){if(_0x301f55>-0x691+0x21d9+0xda4*-0x2){let _0x2a475e=_0x371c4a[-0x1235+-0x18f4+-0x1d*-0x17d],_0x4acf02=_0x371c4a[-0xa7b+-0x32*-0x87+-0xfe2],_0x44327e=_0x371c4a[0x1999*-0x1+0x20be+-0x723],_0x5ac325=_0x2a475e,_0x115384=_0x4acf02,_0x18266f=_0x44327e;const _0x5803bc=_0x301f55*(0x11*0x127+-0x17*-0x196+-0x380e);for(let _0x393a58=-0x1*0x185+-0x299*-0xd+-0x189*0x15;_0x393a58<_0x5803bc;_0x393a58+=-0x17f3+0x5e0+0x5*0x39e){const _0x490d9f=_0x371c4a[_0x393a58],_0x5ce68e=_0x371c4a[_0x393a58+(0x1396+-0x1*-0x1f57+-0x32ec)],_0x5072c0=_0x371c4a[_0x393a58+(-0x23bf+0x1be*0xf+0x99f)];_0x490d9f<_0x2a475e&&(_0x2a475e=_0x490d9f),_0x5ce68e<_0x4acf02&&(_0x4acf02=_0x5ce68e),_0x5072c0<_0x44327e&&(_0x44327e=_0x5072c0),_0x490d9f>_0x5ac325&&(_0x5ac325=_0x490d9f),_0x5ce68e>_0x115384&&(_0x115384=_0x5ce68e),_0x5072c0>_0x18266f&&(_0x18266f=_0x5072c0);}_0x555a58['set'](_0x2a475e,_0x4acf02,_0x44327e),_0x2fd6e8['set'](_0x5ac325,_0x115384,_0x18266f);}}['compute'](_0x5c5640,_0x50be2a){_e['computeMin'+'Max'](_0x5c5640,vn,bn,_0x50be2a),this['setMinMax'](vn,bn);}['intersects'+'BoundingSp'+'here'](_0x17ce77){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x17ce77)<=_0x17ce77['radius']*_0x17ce77['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x524d8a){const _0x1f5924=this['getMin'](),_0x250a4d=this['getMax']();let _0x4ed696=0x1*-0xe94+0x1a8f+0x1*-0xbfb;const _0x57d751=['x','y','z'];for(let _0x12fe43=-0x1*-0x11eb+-0x1*0x4b3+-0xd38;_0x12fe43<-0x2d2*-0x8+-0x9*0x2b2+0x1b5;++_0x12fe43){let _0x588191=0x11fa+0x205a+-0x1*0x3254;const _0x64f545=_0x524d8a['center'][_0x57d751[_0x12fe43]],_0x58066b=_0x1f5924[_0x57d751[_0x12fe43]],_0x38d3b3=_0x250a4d[_0x57d751[_0x12fe43]];let _0x90a64=0x198d+0x5e*-0x2f+-0xb*0xc1;_0x64f545<_0x58066b&&(_0x90a64=_0x58066b-_0x64f545,_0x588191+=_0x90a64*_0x90a64),_0x64f545>_0x38d3b3&&(_0x90a64=_0x64f545-_0x38d3b3,_0x588191+=_0x90a64*_0x90a64),_0x4ed696+=_0x588191;}return _0x4ed696;}['_expand'](_0x290f59,_0x47c3d7){vn['add2'](this['getMin'](),_0x290f59),bn['add2'](this['getMax'](),_0x47c3d7),this['setMinMax'](vn,bn);}}const gl=new T(),bS=new T();class Lf{constructor(_0x18d49a=new T(),_0x5e521e=0x90a*0x4+-0xb0c+-0x191c+0.5){c(this,'center'),c(this,'radius'),(v['assert'](!Object['isFrozen'](_0x18d49a),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x18d49a,this['radius']=_0x5e521e);}['containsPo'+'int'](_0x46d1c9){const _0x2e4dd9=gl['sub2'](_0x46d1c9,this['center'])['lengthSq'](),_0x2d5dd8=this['radius'];return _0x2e4dd9<_0x2d5dd8*_0x2d5dd8;}['intersects'+'Ray'](_0x538efc,_0x142e0b){const _0x21b912=gl['copy'](_0x538efc['origin'])['sub'](this['center']),_0xfae1de=_0x21b912['dot'](bS['copy'](_0x538efc['direction'])['normalize']()),_0x21ece5=_0x21b912['dot'](_0x21b912)-this['radius']*this['radius'];if(_0x21ece5>0x19*0x17e+0xd51+0x329f*-0x1&&_0xfae1de>-0x21a0+0x11*0xd7+0x1359)return!(-0x1e7*-0x12+0x246a+0x178d*-0x3);const _0x19ce04=_0xfae1de*_0xfae1de-_0x21ece5;if(_0x19ce04<0xecb*-0x1+0x1376+-0x4ab)return!(0x2*-0x1+-0x1*0xe53+0xe56);const _0x16a643=Math['abs'](-_0xfae1de-Math['sqrt'](_0x19ce04));return _0x142e0b&&_0x142e0b['copy'](_0x538efc['direction'])['mulScalar'](_0x16a643)['add'](_0x538efc['origin']),!(0x1be0+0x5f0+-0x21d0);}['intersects'+'BoundingSp'+'here'](_0x25828b){gl['sub2'](_0x25828b['center'],this['center']);const _0x5d65ad=_0x25828b['radius']+this['radius'];return gl['lengthSq']()<=_0x5d65ad*_0x5d65ad;}}class hy{constructor(_0x5e4128=T['UP'],_0x2822f3=-0x258d*-0x1+-0x5ab+-0x1fe2){c(this,'normal',new T()),c(this,'distance'),(this['normal']['copy'](_0x5e4128),this['distance']=_0x2822f3);}['clone'](){const _0x405947=this['constructo'+'r'];return new _0x405947()['copy'](this);}['copy'](_0x52695c){return this['normal']['copy'](_0x52695c['normal']),this['distance']=_0x52695c['distance'],this;}['intersects'+'Line'](_0x48e728,_0x1d2d47,_0x4e1df2){const _0x28cc69=this['distance'],_0x1dd70e=this['normal']['dot'](_0x48e728)+_0x28cc69,_0x487233=this['normal']['dot'](_0x1d2d47)+_0x28cc69,_0x18e0ea=_0x1dd70e/(_0x1dd70e-_0x487233),_0x581a0e=_0x18e0ea>=0x2475+0x22c8+-0x1*0x473d&&_0x18e0ea<=0x13*-0x59+-0x1229+0x11*0x175;return _0x581a0e&&_0x4e1df2&&_0x4e1df2['lerp'](_0x48e728,_0x1d2d47,_0x18e0ea),_0x581a0e;}['intersects'+'Ray'](_0x4581ef,_0x4265bf){const _0x51f723=this['normal']['dot'](_0x4581ef['direction']);if(_0x51f723===-0x133e+-0x690+0x19ce)return!(-0x1c8d+0x530+-0x3*-0x7ca);const _0x1020c7=-(this['normal']['dot'](_0x4581ef['origin'])+this['distance'])/_0x51f723;return _0x1020c7>=0x1a37+-0x253d+-0x2*-0x583&&_0x4265bf&&_0x4265bf['copy'](_0x4581ef['direction'])['mulScalar'](_0x1020c7)['add'](_0x4581ef['origin']),_0x1020c7>=0x4aa*0x4+0x1cbd+-0x2f65;}['normalize'](){const _0x1470cd=(0x2db*0xa+0xa9b*-0x3+0xd1*0x4)/this['normal']['length']();return this['normal']['mulScalar'](_0x1470cd),this['distance']*=_0x1470cd,this;}['set'](_0x1f654f,_0x9ff0d8,_0x24aeed,_0x59c0fe){return this['normal']['set'](_0x1f654f,_0x9ff0d8,_0x24aeed),this['distance']=_0x59c0fe,this;}['setFromPoi'+'ntNormal'](_0x263fc1,_0x2ac8c5){return this['normal']['copy'](_0x2ac8c5),this['distance']=-this['normal']['dot'](_0x263fc1),this;}}class wS{constructor(){c(this,'planes',[]);for(let _0x56e0b4=-0x17a+0x1eb*-0x3+0x73b;_0x56e0b4<-0x1455+-0x25fd+0x3a58;_0x56e0b4++)this['planes'][_0x56e0b4]=new hy();}['clone'](){const _0x2312db=this['constructo'+'r'];return new _0x2312db()['copy'](this);}['copy'](_0xe9e51d){for(let _0x310573=0x101e*-0x2+0x1*-0x1555+-0x15*-0x28d;_0x310573<-0x42*-0x35+0x1594*0x1+-0x2338;_0x310573++)this['planes'][_0x310573]['copy'](_0xe9e51d['planes'][_0x310573]);return this;}['setFromMat'+'4'](_0x270b62){const [_0x4c013e,_0x25f167,_0x36f47c,_0x2f77e5,_0x1b73ab,_0x1ab608,_0x4b735a,_0x31fb9f,_0x3d30ba,_0x2a8a1f,_0x523cac,_0x43703c,_0x5c6f31,_0x1bf4ca,_0x369c00,_0x2242e6]=_0x270b62['data'],_0xee34b0=this['planes'];_0xee34b0[0x7a5*0x1+0x26ca+-0x2e6f]['set'](_0x2f77e5-_0x4c013e,_0x31fb9f-_0x1b73ab,_0x43703c-_0x3d30ba,_0x2242e6-_0x5c6f31)['normalize'](),_0xee34b0[-0x12*-0x209+0x1fd+-0x269e]['set'](_0x2f77e5+_0x4c013e,_0x31fb9f+_0x1b73ab,_0x43703c+_0x3d30ba,_0x2242e6+_0x5c6f31)['normalize'](),_0xee34b0[-0x949+-0x22*0x36+0x5*0x34b]['set'](_0x2f77e5+_0x25f167,_0x31fb9f+_0x1ab608,_0x43703c+_0x2a8a1f,_0x2242e6+_0x1bf4ca)['normalize'](),_0xee34b0[0x3c1*-0x2+-0x828+0x1*0xfad]['set'](_0x2f77e5-_0x25f167,_0x31fb9f-_0x1ab608,_0x43703c-_0x2a8a1f,_0x2242e6-_0x1bf4ca)['normalize'](),_0xee34b0[0x1*0xb12+-0x4*0x2ec+-0x1*-0xa2]['set'](_0x2f77e5-_0x36f47c,_0x31fb9f-_0x4b735a,_0x43703c-_0x523cac,_0x2242e6-_0x369c00)['normalize'](),_0xee34b0[0x2570+-0x2a1*-0x8+-0x3a73]['set'](_0x2f77e5+_0x36f47c,_0x31fb9f+_0x4b735a,_0x43703c+_0x523cac,_0x2242e6+_0x369c00)['normalize']();}['containsPo'+'int'](_0x3a8d8f){for(let _0x27c3bc=0x1d87*0x1+-0xb7+-0x1cd0;_0x27c3bc<0xc1b*0x3+-0xc*0xdb+-0x3*0x8ad;_0x27c3bc++){const {normal:_0x5bee7b,distance:_0x2bc4ff}=this['planes'][_0x27c3bc];if(_0x5bee7b['dot'](_0x3a8d8f)+_0x2bc4ff<=-0x359+0x1*-0xaca+0xe23)return!(-0x209*-0x3+-0x2*-0x1115+-0x2844);}return!(-0x194c+-0x2037*-0x1+-0x6eb);}['containsSp'+'here'](_0x38a3b6){const {center:_0x37bfa9,radius:_0x2a16cb}=_0x38a3b6;let _0x238b88=-0xb7e+0x55a+0x189*0x4;for(let _0x1b1c3e=0x66d+-0xe*-0x19d+-0x425*0x7;_0x1b1c3e<0x166c+-0x1*0xdd5+-0x33*0x2b;_0x1b1c3e++){const {normal:_0x4f525f,distance:_0x4f1413}=this['planes'][_0x1b1c3e],_0x17bfa5=_0x4f525f['dot'](_0x37bfa9)+_0x4f1413;if(_0x17bfa5<=-_0x2a16cb)return 0x23b*-0x10+-0x17db+0x3b8b;_0x17bfa5>_0x2a16cb&&_0x238b88++;}return _0x238b88===0x120d*-0x2+-0x15b8+0x6*0x9a4?-0x1*0x12e2+0x351+0x9*0x1bb:-0x1b21+-0x2417+-0x1*-0x3f39;}}class uu{constructor(_0x58898e,_0x5ce8a6){c(this,'origin',new T()),c(this,'direction',T['FORWARD']['clone']()),(_0x58898e&&this['origin']['copy'](_0x58898e),_0x5ce8a6&&this['direction']['copy'](_0x5ce8a6));}['set'](_0xa08c8f,_0x46fe9f){return this['origin']['copy'](_0xa08c8f),this['direction']['copy'](_0x46fe9f),this;}['copy'](_0xeb2852){return this['set'](_0xeb2852['origin'],_0xeb2852['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const cc='linear',Ff='inverse',cy='exponentia'+'l',tt=-0xa5a+-0x660+0x85d*0x2,ae=-0x104e+-0x359*0x5+-0x4*-0x843,Of=-0x2*0x19d+0x170f+-0x13d3,kf=-0x6*-0x419+0x1526+0x2dbc*-0x1,at=0x11*-0x1+-0x2088+0x4e*0x6b,TS=0x716*0x1+-0x2*0xd18+0x131c,dy=-0x15c4+-0x1e2f+-0xfb*-0x35,AS=-0x369+-0x1569+-0x18d7*-0x1,dc=-0x141d+0x18e0+0x4bd*-0x1,uc=-0x132*-0x3+0x1a11+0x1d9f*-0x1,Lt=0x2662*0x1+-0x2141+-0x521,ES=-0x1*-0x24f7+0x7f*0x11+-0x2d64,CS=-0xdc3*-0x1+0x95f*-0x4+0x1*0x17bc,MS=0x2*0xd87+0x1ac2+-0x35cc,jt=-0xd7*0x20+0x1bee+-0x10e,Th=0x1e1f+0xfe3+-0x2e01,uy=-0x17*0x3d+0x15a*-0x1a+0x28a1,PS=-0x1481+-0x1036+0x24ba*0x1,Co=0x21cb+0x3b*0x37+-0x2e77,Mo=-0x89*0x43+0xabe*-0x3+0x4417,Ah=-0xa51*-0x1+0x229*-0xd+0x11c8,mt=-0x2669+0xf3f+0x172a,rn=-0x217c+-0x25d0+0x474d,mo=0xa89+-0xa62+-0x25*0x1,RS=-0x2*0x6e3+0x19f9+-0xc30,de=0x7*0x204+0x1c40+-0x4*0xa97,st=-0x76*0x24+-0x23a7+0x98*0x58,fc=-0x1*0x12cd+0x1220+0xaf,pc=-0x220e*0x1+0x1127+0x10ea,mc=-0x2*-0xe99+-0x2689*0x1+0x95b,nn=-0x65e*0x2+-0x1b*0x4+0xd2d*0x1,IS=-0x23e5+-0x1543+0x3e*0xec,Eh=-0x174b+-0x66*-0x23+-0xe*-0xab,Ch=0xd4*0x7+0x1e47+0x7*-0x527,fu=-0x135b+-0x2357+-0xaf1*-0x5,DS=-0x13d0+0x25*0xe+0x2b*0x6a,LS=0x19b5*0x1+0x5f7+0xa8d*-0x3,FS=-0xca9*-0x2+0x9cf+-0x231b,Ai=-0x43*-0x23+0x1649+0xa79*-0x3,pu=0x25f*0xd+-0x1739+-0x79a,Pi=0x3e1*-0x5+-0xe22+0x2188,nr=-0x407*0x4+-0x2105+-0x7*-0x705,fy=-0xfe7+0x180f*0x1+0x3a*-0x24,py=-0x101*0x13+-0x3*0xcaa+0x3912,Bf=0x202f+0x1*-0xf91+-0x1*0x109c,_c=-0x22a*-0x5+-0x370+-0x75f,Nf=-0x89b+0x38f*0x1+-0xc*-0x6c,gc=-0xf20+0x1*-0x1982+-0x3*-0xd8d,dr=0x14*-0x1d5+-0x1234+0x36de,Se=-0x74a+-0x1*-0x1d2+0x57f,yc=0xbd5+0x1eae+-0x4b*0x91,zf=0xa21+-0x2d*-0x1d+-0xf31,$o=-0x1*-0x92c+-0x76e+0x6d*-0x4,xc=0x22b5+0x118+-0x23c2,Je=-0x1*-0x182b+-0x11c9+0x1*-0x656,Sc=-0x164a+0x3b*0x73+-0x42a,Ke=-0x16f0+0x2b2+0x362*0x6,Ii=-0x1be*0x1+-0xd9b+0xf68,Ci=-0xb86+0x3b*-0x17+0x189*0xb,vc=0x65c+-0x224c+-0x1*-0x1c01,_a=-0xc1a+0x19*-0x15d+-0x2e41*-0x1,Uf=0x2656+-0x1264+-0x1*0x13df,rs=-0x1*0x334+0x1*-0x1559+0x41*0x61,bc=-0x1d17*-0x1+0x1*0xa2d+-0x272f*0x1,Vf=-0x2397+0x203c*-0x1+-0x131*-0x39,Gf=0x130a*0x1+0x600+-0x1*0x18f3,qo=0x499*0x7+0x6*0x1eb+-0x2b99,Xo=0xa*0x22d+0x1*0x1877+-0x2e20,wc=-0x1643+0x1da6+-0x749,Tc=-0xd5*-0x17+-0x3e5*0x1+-0xf23,my=0xeda+-0x1396+0x4d8,_y=0x171*-0x3+0x61d*0x6+-0x203e,gy=-0xd02+-0xcac*-0x3+0x4*-0x639,yy=0x11da*-0x2+-0x1dca+-0x5f7*-0xb,Hf=-0xdd4*0x1+-0xa2f+0x1823*0x1,xy=0x2577*-0x1+-0xa93*-0x3+0x5df,Wf=-0x1d07+-0x1398+0x30c1,$f=-0x1*-0x1186+0x3*-0x9c+-0xf8f,qf=0x427*-0x5+-0x1*0x1c27+0x310e,an=-0xee5*0x2+0x42a+0x19c5,Xf=0xd*-0x9e+-0x7*0x466+0x26f6,Sy=0x1ad0+-0x3f*0x79+0x31e,jf=-0x1217+0x24ac+0x1*-0x126d,Yf=-0x12c2+0x18d*-0x11+0xa8*0x45,Kf=0x48a*-0x4+-0x12e*0xa+-0x505*-0x6,Zf=-0x1033+-0x31*0x8b+0x2af9,Qf=-0x1f47*-0x1+-0x20e3+-0x1c8*-0x1,vy=-0x404+-0x4*0x7+-0x44d*-0x1,Jf=0x40e+-0x26c6*-0x1+-0x67*0x6a,Ac=-0x6*-0x1c7+0x293*-0x1+-0x2*0x3f4,ep=-0xe1a+0xb4e+0x4*0xbf,ut=0x2b6*0x9+-0x1c13*0x1+-0xa5*-0x6,Ec=0x26af+-0x5*-0x442+-0x3bc7,tp=0x2*-0x955+0x259d+0x3*-0x640,sp=-0x1551+-0x2697+-0x3c1c*-0x1,ip=0x217*-0x2+0x1232+-0xdcf,mu=-0x169*-0x5+0xe*0x13c+0x4d3*-0x5,_u=-0xf6a+-0x1e3f+-0x5bc*-0x8,gu=-0x1*-0x103+-0x2d3*0x9+0x4*0x628,yu=0x21*-0xc3+0x1d87+0x1*-0x427,xu=0x1f0*-0x13+0x5*0x443+0xfbf,Su=0x1c61+0x18cb+-0x34ed,by=-0x41e+0x1789+0x7*-0x2bd,wy=-0x1bfa+0x6a3+0x1598,Ty=0x17*0x115+-0x1e90+0x5ef,Ay=-0x1cda+-0x24a9+0x41c6*0x1,vu=0x2412+-0x938*-0x2+-0x2*0x1b1f,la=0x1490+-0x9b8+0xa93*-0x1,xt=new Map([[fy,{'name':'A8','size':0x1,'ldr':!(-0x9a4+-0x2508+-0x2eac*-0x1)}],[sp,{'name':'R8','size':0x1,'ldr':!(0x1*-0x5bc+-0x7*-0x191+0x67*-0xd)}],[py,{'name':'L8','size':0x1,'ldr':!(0x154d+-0x26*-0xad+0x13*-0x279)}],[Bf,{'name':'LA8','size':0x2,'ldr':!(-0x219*0x1+-0x17*0x83+0xdde)}],[ip,{'name':'RG8','size':0x2,'ldr':!(0x1*-0x2495+-0x33d*-0x9+-0x1dc*-0x4)}],[_c,{'name':'RGB565','size':0x2,'ldr':!(0x18d8+-0x3b*-0x17+-0x1e25)}],[Nf,{'name':'RGBA5551','size':0x2,'ldr':!(-0x28f*-0xd+0x25c1+-0x4704)}],[gc,{'name':'RGBA4','size':0x2,'ldr':!(-0x1*0x26cf+-0x106e+0x373d)}],[dr,{'name':'RGB8','size':0x4,'ldr':!(0x1d*0x95+0x1*-0x453+-0x2*0x647)}],[Se,{'name':'RGBA8','size':0x4,'ldr':!(-0x2445+0x82+-0x727*-0x5),'srgbFormat':rs}],[Ec,{'name':'R16F','size':0x2}],[tp,{'name':'RG16F','size':0x4}],[xc,{'name':'RGB16F','size':0x8}],[Je,{'name':'RGBA16F','size':0x8}],[Sc,{'name':'RGB32F','size':0x10}],[Ke,{'name':'RGBA32F','size':0x10}],[Ii,{'name':'R32F','size':0x4}],[Ci,{'name':'DEPTH','size':0x4}],[la,{'name':'DEPTH16','size':0x2}],[vc,{'name':'DEPTHSTENC'+'IL','size':0x4}],[_a,{'name':'111110F','size':0x4}],[Uf,{'name':'SRGB8','size':0x4,'ldr':!(-0x2292*0x1+-0xe5c+0x30ee),'srgb':!(-0x2140+0x2578+0x14*-0x36)}],[rs,{'name':'SRGBA8','size':0x4,'ldr':!(0x1*-0x69d+0x1*0xcd+-0x2e8*-0x2),'srgb':!(0x26a6+0x2612+-0x265c*0x2)}],[yy,{'name':'BGRA8','size':0x4,'ldr':!(0xe9e+-0x2+0xaa*-0x16)}],[by,{'name':'SBGRA8','size':0x4,'ldr':!(-0x1*0x122b+-0x1e4e+-0x3079*-0x1),'srgb':!(0x1fef+0x38d+-0x3*0xbd4)}],[yc,{'name':'DXT1','blockSize':0x8,'ldr':!(-0x15f*0x1+-0x15b*0x13+-0x1*-0x1b20),'srgbFormat':mu}],[zf,{'name':'DXT3','blockSize':0x10,'ldr':!(-0x18b8+-0x68*0x43+0x22a*0x18),'srgbFormat':_u}],[$o,{'name':'DXT5','blockSize':0x10,'ldr':!(-0x2193+0x1*0xd4f+0x1444),'srgbFormat':gu}],[bc,{'name':'ETC1','blockSize':0x8,'ldr':!(0x3b9*-0x7+0x53*0x3b+-0x1*-0x6ee)}],[Vf,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(-0x225c+0x1ac8+0x794),'srgbFormat':yu}],[Gf,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(0x5*-0x58f+0x402+-0x17c9*-0x1),'srgbFormat':xu}],[qo,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(0x1c7b+-0x8*0x23+-0x1b63),'blockSize':0x8}],[Xo,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(0x3*-0x119+-0x1*-0xd8d+0x2*-0x521),'blockSize':0x8}],[wc,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(0x1502+-0x24f6+-0xff4*-0x1),'blockSize':0x8}],[Tc,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(-0x1f78+0xc6b*0x3+-0x5c9),'blockSize':0x8}],[my,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(0x6b+0x45e+-0x4c9*0x1),'srgbFormat':Su}],[_y,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(-0x1a4a+0x13e+0xe*0x1ca)}],[gy,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(0x4f*0x59+-0xa2*-0x1+-0x1*0x1c19)}],[wy,{'name':'BC6H_RGBF','blockSize':0x10}],[Ty,{'name':'BC6H_RGBUF','blockSize':0x10}],[Ay,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(-0x183f+-0x499*0x3+-0x6*-0x657),'srgbFormat':vu}],[mu,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(0x5d*0x5+-0x179*-0x17+-0x23b0),'srgb':!(-0x642+-0x1ec3+0x2505)}],[_u,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(-0x2*-0x1113+-0xe2a+-0x13fc),'srgb':!(0x374*-0x4+-0x1c3*0xa+0x1f6e)}],[gu,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(0x139b*-0x1+0x17b1*-0x1+0x44*0xa3),'srgb':!(-0x1d3e+-0x2681*0x1+0x43bf)}],[yu,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(-0x2583+-0x1730+0x3cb3),'srgb':!(-0x1*-0x19a7+-0x1a9+0x17fe*-0x1)}],[xu,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(-0x7*0x48d+-0x1b78+-0x1*-0x3b53),'srgb':!(0xc*0x1b4+0xb57+0x1*-0x1fc7)}],[Su,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(0x4*0x148+-0x221+-0x2ff),'srgb':!(0xc59+-0x322+-0x937)}],[vu,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(0xa1*-0xe+0x1d63+0xb*-0x1df),'srgb':!(-0xcc7+0x1652+0x1*-0x98b)}],[Hf,{'name':'R8I','size':0x1,'isInt':!(0x36b+-0x2286+0x1f1b)}],[xy,{'name':'R8U','size':0x1,'isInt':!(-0x338*0x4+-0xdd+0xdbd)}],[Wf,{'name':'R16I','size':0x2,'isInt':!(0x1*0x3c5+-0x127a+0x2f1*0x5)}],[$f,{'name':'R16U','size':0x2,'isInt':!(0x1572+-0x125b+-0x7*0x71)}],[qf,{'name':'R32I','size':0x4,'isInt':!(-0x4e7+-0x158f*0x1+0x6*0x469)}],[an,{'name':'R32U','size':0x4,'isInt':!(0x12a9+-0x29*-0x3b+-0x101*0x1c)}],[Xf,{'name':'RG8I','size':0x2,'isInt':!(0xdab*0x1+-0x9*-0x71+-0x11a4)}],[Sy,{'name':'RG8U','size':0x2,'isInt':!(-0x1b0+0x6*-0x277+0x107a)}],[jf,{'name':'RG16I','size':0x4,'isInt':!(-0x183a+-0x24a3+0x3cdd*0x1)}],[Yf,{'name':'RG16U','size':0x4,'isInt':!(0x757*-0x1+-0x5bb+0x689*0x2)}],[Kf,{'name':'RG32I','size':0x8,'isInt':!(0x22e2+0x22f5+-0x45d7)}],[Zf,{'name':'RG32U','size':0x8,'isInt':!(-0x5*0x2e7+0x633*-0x6+0x33b5)}],[Qf,{'name':'RGBA8I','size':0x4,'isInt':!(0x69d*-0x4+-0x1f47+-0x39bb*-0x1)}],[vy,{'name':'RGBA8U','size':0x4,'isInt':!(0x77*-0x34+-0xc5a+0x2486)}],[Jf,{'name':'RGBA16I','size':0x8,'isInt':!(-0x24c*0x9+0x1176+0x336)}],[Ac,{'name':'RGBA16U','size':0x8,'isInt':!(-0x1057+0x1*0x1fb3+0x3d7*-0x4)}],[ep,{'name':'RGBA32I','size':0x10,'isInt':!(-0x124b+-0x1272+0x24bd)}],[ut,{'name':'RGBA32U','size':0x10,'isInt':!(0x1*0x1eb7+-0x1ceb+0x2*-0xe6)}]]),OS=_0x44a40a=>{var _0x1f9852;return((_0x1f9852=xt['get'](_0x44a40a))==null?void(-0x1*0xffd+0x1*-0x1e86+0x2e83):_0x1f9852['blockSize'])!==void(0x472+-0x38d+-0xe5);},Mh=_0x38aaeb=>{var _0x19053a;return((_0x19053a=xt['get'](_0x38aaeb))==null?void(-0x1582*-0x1+-0x20fd+0xb7b):_0x19053a['srgb'])===!(0x1c19+0x2075*0x1+-0x3c8e);},ea=_0x3b01e4=>{var _0x469674;return((_0x469674=xt['get'](_0x3b01e4))==null?void(-0x1840+0x25e0+-0xda0):_0x469674['isInt'])===!(0x1768+-0x5*0xb7+-0x13d5);},Cc=_0x43bb8d=>{var _0x3e3f58;return((_0x3e3f58=xt['get'](_0x43bb8d))==null?void(-0x3d*-0x4e+-0x2b9*0x3+-0x15*0x7f):_0x3e3f58['srgbFormat'])||_0x43bb8d;},kS=_0x2d0276=>{for(const [_0x4f175d,_0xbbe18]of xt)if(_0xbbe18['srgbFormat']===_0x2d0276)return _0x4f175d;return _0x2d0276;},Ey=_0x843918=>{const _0x58c280=xt['get'](_0x843918);return!!(_0x58c280!=null&&_0x58c280['ldr']&&!(_0x58c280!=null&&_0x58c280['srgb']));},Cy=_0x5146a1=>{switch(_0x5146a1){case Ii:case Sc:case Ke:return Float32Array;case qf:case Kf:case ep:return Int32Array;case an:case Zf:case ut:return Uint32Array;case Wf:case jf:case Jf:return Int16Array;case ip:case $f:case Yf:case Ac:case _c:case Nf:case gc:case Ec:case tp:case xc:case Je:return Uint16Array;case Hf:case Xf:case Qf:return Int8Array;default:return Uint8Array;}},Mc=0xeb6*0x2+-0x5*0x131+-0x1777,Pc=-0x2664+-0xd*-0x2ff+0x47*-0x2,My=-0x5*0x2bc+-0xda1+-0x1*-0x1b4f,Py=0x4*0x8f4+0x1878+-0x3c45,Ms=0x1a83+0x25bb+-0x403a,ar=-0x1cd6+-0x9a+0x1d75,Yr=-0x207b+-0xffa+0x307b,He='POSITION',Yt='NORMAL',Zs='TANGENT',Ys='BLENDWEIGH'+'T',qt='BLENDINDIC'+'ES',At='COLOR',om='TEXCOORD',ns='TEXCOORD0',_n='TEXCOORD1',jo='TEXCOORD2',Yo='TEXCOORD3',Ko='TEXCOORD4',Zo='TEXCOORD5',Qo='TEXCOORD6',Jo='TEXCOORD7',bu='ATTR0',wu='ATTR1',Ry='ATTR2',Iy='ATTR3',Dy='ATTR4',BS='ATTR5',NS='ATTR6',zS='ATTR7',Po='ATTR8',Ro='ATTR9',US='ATTR10',VS='ATTR11',rp='ATTR12',ga='ATTR13',np='ATTR14',ya='ATTR15',Ly=0x1f6c+-0x5ba+-0x1*0x19b1,ha=0x2*-0x22b+-0x19ee+0x1e44*0x1,GS=-0x2456+-0x9be+0x2e16,HS=0x1377+-0x2449+0x8b*0x1f,WS=0x2*-0x626+-0x2149+0x1a*0x1c1,yl=-0x11d9*-0x1+0x377+-0x1550,Fy=-0x14*-0x106+-0x2536+0x3*0x595,rd=-0x1*0x167+0xb6d+-0xa04,Di='default',on='rgbm',ap='rgbe',Io='rgbp',op='swizzleGGG'+'R',Tu=0x13db+0x1e7f+-0x3259*0x1,ur=0xfe0+0x3e3*-0x4+-0x52,Oy=-0x467*-0x8+0x73+0x7*-0x518,Us='2d',$S='2d-array',qS='cube',XS='3d',oh=0x2*0x386+-0x61*0x59+-0x1aad*-0x1,nd=0x4c1*-0x2+0x1a16+0x1093*-0x1,jS=0x119b*0x1+0x234f+-0x34e8,YS=-0x3a5+-0x112*-0x1b+-0x193e*0x1,KS=0x129d+0xaeb+-0x1d84,ZS='none',Au='cube',lm='equirect',QS='octahedral',ky='glsl',Ph='wgsl',Rc=-0x1751+-0x2081+-0x595*-0xa,Kr=0x6a1*0x5+-0x18d*0xb+-0x1015,Ic=-0x1036+-0x1*-0x2160+-0x1128,el=0xb06*-0x3+0x17ab+0x96a,By=0x12ca+0x1*0x1534+-0x2db*0xe,Do=0x65b+0x1d12*0x1+-0x2368,Ee=0x2*-0x11f9+-0x849+0x1*0x2c41,ca=0x1*-0x1999+-0x59b*0x1+-0x1*-0x1f34,ln=-0x31*0x4f+0x130*0x13+-0x770,$s=0x2176+-0xfc+-0x2*0x103c,or=0x220f+-0x134e*0x2+-0x8*-0x92,$t=-0x28d*-0x3+-0x8a9+-0x1*-0x106,xa=-0x890+-0x11*-0x99+-0xca*0x2,Zr=-0xd8+-0x1c7c*0x1+0x1a*0x121,Qr=-0x20ab+0x940+-0x1*-0x1772,Jr=0x731*0x3+0x591+-0x1b1c,Lo=0x1c27*-0x1+-0x197b+0x35ab,Fo=-0x232d+0x4*-0x579+0x3*0x1309,Oo=-0x2521+-0x1947+0x3e73,Rh=-0x1*-0xacb+-0x1da1*0x1+0x12e2*0x1,ko=-0x70c+0x2*-0x3d+0x793,Sa=0x22a4+0x1f7*0xa+0x9c*-0x59,JS=-0x13c6+-0x11*-0x1ed+0x19d*-0x8,ev=-0x2c1+-0x225f*-0x1+-0x1f8e*0x1,Dc=0x1*0x6a3+-0xbe8+-0x556*-0x1,tv=-0x1e1e+-0x1*-0x8ed+0x1543,sv=-0x2b2+0x2706+-0x1*0x2441,iv=-0x2*0x117a+0x3e*-0x83+-0x5*-0xd5a,Lc=0x12a5+0x189d*0x1+-0x2b2d*0x1,Fc=-0xb7*0x24+0xae+0x1924,lp=0x2659+-0x1*0x1a69+0x3f3*-0x3,Ny=-0xd5*0x9+0xfd*-0x15+0x1c56,rv=0x12b5*0x2+0x1*-0x1db9+-0x144*0x6,va=-0x14a5*-0x1+0xc50*0x2+-0x2d2b,ba=0xa*-0x40+0x1a1f+-0x1784,wa=-0xc8*-0xd+-0x1f*-0xa3+-0x1dc9,Ta=-0x81f*-0x1+-0x2391+-0x1b8f*-0x1,Aa=0x1e07+-0x1c1e+-0x1cb,Oc=-0x1*-0x178c+-0xed6+-0x897,kc=0x2567+0x1*0x10d6+0x7bb*-0x7,Ea=-0x7b3+0x1*0x1c9b+-0x1b*0xc5,Bc=0x1e49*-0x1+0x1ef5+-0x8a,Nc=0x20be+0x184*0x7+-0x2b37,Ca=0x150a+-0x30b+-0x11db,zc=-0x136f+-0x100d+-0x517*-0x7,Uc=0xfd*0x17+-0x1549*-0x1+0xa*-0x463,Ih=-0x2553+-0x14d6+-0x3*-0x1370,hp=0x10*-0xb8+0xb4*0x32+-0x1780,cp=-0x1d*0xfb+-0x295*0x9+0x33d5,nv=0x2*0x4cf+0x1b98+-0x250c*0x1,av=-0x23f9+0x2a*-0x1f+0x293a,ov=0x1183*-0x2+-0x123a*0x2+0x47a6,lv=0x2443+-0x10ec+-0x132a,hv=-0xca2+0x21b1+0x1*-0x14e1,cv=0x1*0x10c6+0x115c+-0x21f3*0x1,dv=0x531*0x3+-0x788+-0x7db,uv=0x802+-0x16e6+0x27*0x63,dp=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],fv=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],pv=new Map();fv['forEach']((_0x383a60,_0x43a569)=>{_0x383a60['forEach'](_0x246ee6=>pv['set'](_0x246ee6,_0x43a569));});const mv='webgl2',up=0x37e*0x9+0xd73+-0x59c*0x8,li=-0x5*-0x6d3+-0x7*0x452+-0x3df,_v=-0x1629+0x73b*0x2+0x7b7,gv='ldr',zy=0x1ca7*-0x1+0x1c52+0x56,Uy=0x7*0xc7+-0x11de+0xc6f,Vy=-0x10d*-0x22+0x1bc0+-0x3f76,Gy=-0x2400+0x211d+0x2eb,Hy=0xf4d+0x14e*0x5+-0x15c3,Wy=-0x106c*-0x2+-0x14e*-0x13+-0x3982,$y=0x2017+-0xe+0x1fc9*-0x1,qy=0xf2b+-0x1*0x359+-0xb52,yv=-0x1349*-0x1+0x2436+-0x3680,Dh=-0x22cd+0x1*-0xc1a+0x2ee7,Xy=-0x1*0x8be+0x23*-0x17+0xbe4,Eu=-0x1208+-0x7*-0x1cf+0x561,xv=['view','mesh','mesh_ub'],fp='default',da=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],_o=[0x105f+-0xfd6+-0x1*0x88,-0x16a*0x10+-0x2679+0x3d1a,-0x2522+0x1d8c+-0x1*-0x798,0x123d+-0x2*0x7fa+0xb*-0x35,0x2489*-0x1+-0x16d8+0x1*0x3b65,0x22b9+0x1*-0x1f3a+-0x37b,0xd*-0x25d+-0xe62+0x1*0x2d1f,-0x229f+0x237f+-0x6f*0x2],Sv=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Lh=[Uint8Array,Uint16Array,Uint32Array],vv=[-0x1172+-0x1660+-0x5*-0x7f7,-0xf8*-0x1d+0x11c6+-0x2ddc,-0x1*0x13f0+-0x38b*-0x1+0x1069],ve={};ve[He]=0x2314+0x3*0x2bd+-0x1*0x2b4b,ve[Yt]=0x112f+0x2b3+-0x13e1,ve[Ys]=-0x5f2*0x5+0x1*0xaa9+0x1313,ve[qt]=0x72f*0x3+0x1664+-0x2bee,ve[At]=0xd57+-0xd*0x62+-0x859,ve[ns]=-0x17d8+0xf*-0x8d+0x101*0x20,ve[_n]=0xd4*-0x7+0x1699+-0x35b*0x5,ve[jo]=-0x12*-0x53+0x1*-0x406+-0x1*0x1c9,ve[Yo]=0x123a+0x1*-0x1a0f+0x1*0x7dd,ve[Ko]=0xc94+0x4*0x985+0x329f*-0x1,ve[Zo]=0x1210+-0x899+0x1*-0x96d,ve[Qo]=-0xd9c+-0xf*-0x207+-0x10c2,ve[Jo]=0x1621+0x1*0x692+-0x1ca7*0x1,ve[Zs]=-0x1507+-0x579+0x7*0x3cb,ve[bu]=0x1a41+-0x1a4f+-0x7*-0x2,ve[wu]=-0x577*-0x4+-0x1ca+0x1d3*-0xb,ve[Ry]=-0x44e*-0x2+-0x1743+-0x9*-0x1a1,ve[Iy]=-0x199a+0x1ef4+-0x557*0x1,ve[Dy]=-0x990+-0xeb4+0x1*0x1848,ve[BS]=-0x13dd+-0x70a+-0x2*-0xd76,ve[NS]=0x1*0xf92+-0x1*0x1cd+-0xdbf,ve[zS]=-0x89f*0x3+-0x154d+0x1*0x2f31,ve[Po]=0xc*-0x29b+0x1c1*-0x2+0x5cd*0x6,ve[Ro]=-0x5fb*0x4+-0x21f+0x1a14,ve[US]=-0x2*-0xfdf+0x17ce+-0x3782,ve[VS]=-0x13c9*-0x1+-0x4d*0x34+-0x41a,ve[rp]=0x1*-0x2133+0x5*0xbd+0x6*0x4ed,ve[ga]=0x7*-0x2cf+0x749+0xc6d,ve[np]=-0x17b7+0xbe1+0xbe4,ve[ya]=-0x34c*-0x5+-0x319+0x1*-0xd54;const Ui='1.51',wi='1.55',_r='1.56',St='1.57',ad='1.60',me='1.62',hi='1.65',hm='1.70',cm='2.1',bv='2.3',wn='2.5',Ki=class Ki{static['clearGpuMa'+'rkers'](){Ki['markers']['length']=0x1c60+-0x4d3+-0x178d;}static['pushGpuMar'+'ker'](_0x1743a5,_0x3b680b){Ki['markers']['push'](_0x3b680b),_0x1743a5['pushMarker'](_0x3b680b);}static['popGpuMark'+'er'](_0x1e5caa){Ki['markers']['length']&&Ki['markers']['pop'](),_0x1e5caa['popMarker']();}static['toString'](){return Ki['markers']['join']('\x20|\x20');}};c(Ki,'markers',[]);let G=Ki,wv=-0x2e2*0x9+0x7*-0x31+0x1b49;const Tv={[Us]:'texture2D',[qS]:'textureCub'+'e',[XS]:'texture3D',[$S]:'texture2DA'+'rray'};class Vc{constructor(_0x32c673,_0x246ab5){c(this,'slot',-(-0x6b9+-0x23*0x102+0x2a00)),c(this,'scopeId',null),(this['name']=_0x32c673,this['visibility']=_0x246ab5);}}class pp extends Vc{}class Av extends Vc{constructor(_0x310b5c,_0x4abb44,_0x212a76=!(0x2497+0x5*0x68b+-0x454d)){super(_0x310b5c,_0x4abb44),c(this,'format',''),(this['readOnly']=_0x212a76,v['assert'](_0x212a76||!(_0x4abb44&up),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class fi extends Vc{constructor(_0x352dcf,_0x1aa2dd,_0x2ffb04=Us,_0x2470dd=oh,_0xfb71a3=!(0xc64+0x2539*-0x1+0x18d5),_0x27bd86=null){super(_0x352dcf,_0x1aa2dd),this['textureDim'+'ension']=_0x2ffb04,this['sampleType']=_0x2470dd,this['hasSampler']=_0xfb71a3,this['samplerNam'+'e']=_0x27bd86??_0x352dcf+'_sampler';}}class Ev extends Vc{constructor(_0x1dbb23,_0x3aa51e=Se,_0x2a6270=Us,_0xbc4eb0=!(-0x2*0x811+-0x57a+0x4*0x567),_0x5873ba=!(0xde3+-0x2*0x523+-0x39c)){super(_0x1dbb23,_v),this['format']=_0x3aa51e,this['textureDim'+'ension']=_0x2a6270,this['write']=_0xbc4eb0,this['read']=_0x5873ba;}}class jy{constructor(_0x14c3bd,_0x233cbd){c(this,'uniformBuf'+'ferFormats',[]),c(this,'textureFor'+'mats',[]),c(this,'storageTex'+'tureFormat'+'s',[]),c(this,'storageBuf'+'ferFormats',[]),(this['id']=wv++,mn['setName'](this,'BindGroupF'+'ormat_'+this['id']),v['assert'](_0x233cbd));let _0x2b2ba6=0x20a3+-0xf7e*-0x1+-0x3021;_0x233cbd['forEach'](_0x502bba=>{_0x502bba['slot']=_0x2b2ba6++,_0x502bba instanceof fi&&_0x502bba['hasSampler']&&_0x2b2ba6++,_0x502bba instanceof pp?this['uniformBuf'+'ferFormats']['push'](_0x502bba):_0x502bba instanceof fi?this['textureFor'+'mats']['push'](_0x502bba):_0x502bba instanceof Ev?this['storageTex'+'tureFormat'+'s']['push'](_0x502bba):_0x502bba instanceof Av?this['storageBuf'+'ferFormats']['push'](_0x502bba):v['assert']('Invalid\x20bi'+'nd\x20format',_0x502bba);}),this['device']=_0x14c3bd;const _0x9a1381=_0x14c3bd['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x2dcae5,_0x392932)=>this['bufferForm'+'atsMap']['set'](_0x2dcae5['name'],_0x392932)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x4c8567,_0x46e75f)=>{this['textureFor'+'matsMap']['set'](_0x4c8567['name'],_0x46e75f),_0x4c8567['scopeId']=_0x9a1381['resolve'](_0x4c8567['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x2de15b,_0x53bf84)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x2de15b['name'],_0x53bf84),_0x2de15b['scopeId']=_0x9a1381['resolve'](_0x2de15b['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x2ba6ed,_0x14aefb)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x2ba6ed['name'],_0x14aefb),_0x2ba6ed['scopeId']=_0x9a1381['resolve'](_0x2ba6ed['name']);}),this['impl']=_0x14c3bd['createBind'+'GroupForma'+'tImpl'](this),v['trace'](eS,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+G['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x12ceb8){const _0x276472=this['textureFor'+'matsMap']['get'](_0x12ceb8);return _0x276472!==void(0x1b87+-0x1*0xb9e+-0xfe9)?this['textureFor'+'mats'][_0x276472]:null;}['getStorage'+'Texture'](_0x3c7199){const _0x53fe98=this['storageTex'+'tureFormat'+'sMap']['get'](_0x3c7199);return _0x53fe98!==void(0x1b*0xf6+-0x319*0x1+0x16d9*-0x1)?this['storageTex'+'tureFormat'+'s'][_0x53fe98]:null;}['getShaderD'+'eclaration'+'Textures'](_0x1977cc){let _0x10173f='';return this['textureFor'+'mats']['forEach'](_0x115b1d=>{let _0xcb1c66=Tv[_0x115b1d['textureDim'+'ension']];v['assert'](_0xcb1c66,'Unsupporte'+'d\x20texture\x20'+'type',_0x115b1d['textureDim'+'ension']);const _0x54e07a=_0xcb1c66==='texture2DA'+'rray',_0x4f80ff=_0x115b1d['sampleType']===KS?'u':_0x115b1d['sampleType']===YS?'i':'';_0xcb1c66=''+_0x4f80ff+_0xcb1c66;let _0x487267='',_0x49169d='';_0x54e07a&&(_0x487267='_texture',_0x49169d='#define\x20'+_0x115b1d['name']+'\x20'+_0x4f80ff+('sampler2DA'+'rray(')+_0x115b1d['name']+_0x487267+',\x20'+_0x115b1d['name']+'_sampler)\x0a'),_0x10173f+='layout(set'+'\x20=\x20'+_0x1977cc+(',\x20binding\x20'+'=\x20')+_0x115b1d['slot']+')\x20uniform\x20'+_0xcb1c66+'\x20'+_0x115b1d['name']+_0x487267+';\x0a',_0x115b1d['hasSampler']&&(_0x10173f+='layout(set'+'\x20=\x20'+_0x1977cc+(',\x20binding\x20'+'=\x20')+(_0x115b1d['slot']+(-0x1*0x877+0x2610+-0x2*0xecc))+(')\x20uniform\x20'+'sampler\x20')+_0x115b1d['name']+'_sampler;\x0a'),_0x10173f+=_0x49169d;}),_0x10173f;}['loseContex'+'t'](){}}class Ot{constructor(){c(this,'_cache',new Map());}['get'](_0x364258,_0x1c1af2){return this['_cache']['has'](_0x364258)||(this['_cache']['set'](_0x364258,_0x1c1af2()),_0x364258['on']('destroy',()=>{this['remove'](_0x364258);}),_0x364258['on']('devicelost',()=>{var _0x4e4c6f,_0x49ed67;(_0x49ed67=(_0x4e4c6f=this['_cache']['get'](_0x364258))==null?void(-0x13a*-0x6+-0x1*-0xa11+-0x116d):_0x4e4c6f['loseContex'+'t'])==null||_0x49ed67['call'](_0x4e4c6f,_0x364258);})),this['_cache']['get'](_0x364258);}['remove'](_0x587426){var _0x417f53,_0xd6c25e;(_0xd6c25e=(_0x417f53=this['_cache']['get'](_0x587426))==null?void(-0x14c4+-0x24cb+0x5*0xb83):_0x417f53['destroy'])==null||_0xd6c25e['call'](_0x417f53,_0x587426),this['_cache']['delete'](_0x587426);}}class Mi{static['calcLevelD'+'imension'](_0x37e139,_0x3e9bea){return Math['max'](_0x37e139>>_0x3e9bea,-0x2003+0x1b52+0x4b2);}static['calcMipLev'+'elsCount'](_0x3a6d6d,_0x21aedf,_0x4a4f36=0x3a8+-0x12*0x143+0x130f){return 0x2dd*0x1+0x8f*-0x13+-0x7c1*-0x1+Math['floor'](Math['log2'](Math['max'](_0x3a6d6d,_0x21aedf,_0x4a4f36)));}static['calcLevelG'+'puSize'](_0xd1e982,_0x326e71,_0x5b7cba,_0x5caf25){var _0x5899a2;const _0x1c8946=xt['get'](_0x5caf25);v['assert'](_0x1c8946!==void(0xab2*0x2+-0x3f2+-0x1172),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x5caf25);const _0x47a248=((_0x5899a2=xt['get'](_0x5caf25))==null?void(-0x1c1b+-0xf1*0x27+0x40d2):_0x5899a2['size'])??-0x1405+0x3*0xbbd+-0xf32;if(_0x47a248>0x121a+0x1220+-0x243a)return _0xd1e982*_0x326e71*_0x5b7cba*_0x47a248;const _0x45fd07=_0x1c8946['blockSize']??0x675*-0x3+0x792+0x1*0xbcd;let _0x28b1f6=Math['floor']((_0xd1e982+(0x2085+0x169*0x2+0x286*-0xe))/(0xb4e+-0x224d+0x1703));const _0x161437=Math['floor']((_0x326e71+(0x13d*0x17+-0x6f4+-0x1584))/(0x21a1*-0x1+0x703+0x2*0xd51)),_0x3ac0b4=Math['floor']((_0x5b7cba+(0x5b*0xd+-0x4a6+0x2*0x5))/(-0x12f*0x13+0x736+0xf4b));return(_0x5caf25===qo||_0x5caf25===Xo)&&(_0x28b1f6=Math['max'](Math['floor'](_0x28b1f6/(-0x7ab+-0x1217*0x1+0x61*0x44)),0x1a87+-0x24c0+0xa3a)),_0x28b1f6*_0x161437*_0x3ac0b4*_0x45fd07;}static['calcGpuSiz'+'e'](_0x1e59b5,_0x20f78c,_0x283908,_0x62e804,_0x189f6f,_0x29b10){let _0x248185=-0x10a1*-0x1+0x6e*0x1b+0x9*-0x323;for(;_0x248185+=Mi['calcLevelG'+'puSize'](_0x1e59b5,_0x20f78c,_0x283908,_0x62e804),!(!_0x189f6f||_0x1e59b5===-0x1*-0x1dff+0xc0e+-0x4*0xa83&&_0x20f78c===0xb*-0x319+0x2*-0xcfb+0x3c0a&&_0x283908===-0x437+-0xbd*0x2f+0x26eb);)_0x1e59b5=Math['max'](_0x1e59b5>>0x171e+-0x1*-0xa65+-0x2182,0x2319+0x1*0xd16+-0x371*0xe),_0x20f78c=Math['max'](_0x20f78c>>-0x3ca+0x1ee3+0x44*-0x66,-0x10*0x1ac+0x1a9b*0x1+-0x26*-0x1),_0x283908=Math['max'](_0x283908>>-0xb08+0xcbc+0x91*-0x3,-0x4*0x59e+0x2031+-0x9b8);return _0x248185*(_0x29b10?0x1*-0x2028+0xb*-0xbf+0x2863:0x7c3+-0x495+-0x32d);}}let Cv=-0x168e*-0x1+-0x6*0x9e+0x96d*-0x2;class he{constructor(_0x32f444,_0x3bc6a8={}){c(this,'name'),c(this,'_gpuSize',0x6bf*0x4+-0x20e0+0x5e4),c(this,'id',Cv++),c(this,'_invalid',!(0x313*-0x7+0x254f+-0xfc9*0x1)),c(this,'_lockedLev'+'el',-(0x805+0x4f0+-0x4*0x33d)),c(this,'_lockedMod'+'e',yl),c(this,'renderVers'+'ionDirty',0xda0+0x257c*0x1+0x1*-0x331c),c(this,'_storage',!(0x14c0+0x22ca+-0x3789)),c(this,'_numLevels',0x1bba+-0x2*0x797+-0x49*0x2c),c(this,'_numLevels'+'Requested');var _0x5c7435;this['device']=_0x32f444,v['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),v['assert'](!_0x3bc6a8['width']||Number['isInteger'](_0x3bc6a8['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x3bc6a8),v['assert'](!_0x3bc6a8['height']||Number['isInteger'](_0x3bc6a8['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x3bc6a8),v['assert'](!_0x3bc6a8['depth']||Number['isInteger'](_0x3bc6a8['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x3bc6a8),this['name']=_0x3bc6a8['name']??'',this['_width']=Math['floor'](_0x3bc6a8['width']??-0x15c2+-0x227d+0x3843),this['_height']=Math['floor'](_0x3bc6a8['height']??-0x2a*-0x1d+0x217d+-0x263b),this['_format']=_0x3bc6a8['format']??Se,this['_compresse'+'d']=OS(this['_format']),this['_integerFo'+'rmat']=ea(this['_format']),this['_integerFo'+'rmat']&&(_0x3bc6a8['minFilter']=de,_0x3bc6a8['magFilter']=de),this['_volume']=_0x3bc6a8['volume']??!(0x3e*-0x4f+0x1*-0xde2+0x2105),this['_depth']=Math['floor'](_0x3bc6a8['depth']??-0x1dee+-0x1a5d+0x384c),this['_arrayLeng'+'th']=Math['floor'](_0x3bc6a8['arrayLengt'+'h']??0x1900+0x7f2+-0x20f2*0x1),this['_storage']=_0x3bc6a8['storage']??!(-0x3d*-0x13+-0x222d+-0x1da7*-0x1),this['_cubemap']=_0x3bc6a8['cubemap']??!(0xc52+0x2451+-0x30a2),this['_flipY']=_0x3bc6a8['flipY']??!(-0x1c67+-0x2613+0x763*0x9),this['_premultip'+'lyAlpha']=_0x3bc6a8['premultipl'+'yAlpha']??!(0x5f*-0x4e+-0x701+0x23f4),this['_mipmaps']=_0x3bc6a8['mipmaps']??!(0x2c*-0x9+0x2f3*-0x7+0x1631),this['_numLevels'+'Requested']=_0x3bc6a8['numLevels'],_0x3bc6a8['numLevels']!==void(0x270a+0x29*-0x1d+0x1*-0x2265)&&(this['_numLevels']=_0x3bc6a8['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x3bc6a8['minFilter']??nn,this['_magFilter']=_0x3bc6a8['magFilter']??st,this['_anisotrop'+'y']=_0x3bc6a8['anisotropy']??0xbb7+-0xaa*0x1a+0x58e,this['_addressU']=_0x3bc6a8['addressU']??tt,this['_addressV']=_0x3bc6a8['addressV']??tt,this['_addressW']=_0x3bc6a8['addressW']??tt,this['_compareOn'+'Read']=_0x3bc6a8['compareOnR'+'ead']??!(-0x1e*-0xb9+-0x8a2+-0xd0b),this['_compareFu'+'nc']=_0x3bc6a8['compareFun'+'c']??Eh,this['type']=_0x3bc6a8['hasOwnProp'+'erty']('type')?_0x3bc6a8['type']:Di,v['assert'](!_0x3bc6a8['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),v['assert'](!_0x3bc6a8['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=ZS,this['_cubemap']?this['projection']=Au:_0x3bc6a8['projection']&&_0x3bc6a8['projection']!==Au&&(this['projection']=_0x3bc6a8['projection']),this['profilerHi'+'nt']=_0x3bc6a8['profilerHi'+'nt']??-0x21*0x4f+-0x2*0x229+-0x4f*-0x2f,this['_levels']=_0x3bc6a8['levels'];const _0x12b6fa=!!_0x3bc6a8['levels'];this['_levels']||(this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null]),this['recreateIm'+'pl'](_0x12b6fa),_0x32f444['textures']['push'](this),v['trace'](Kp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x5c7435=xt['get'](this['format']))==null?void(0x589*-0x5+0x9f7+0x11b6):_0x5c7435['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){v['trace'](Kp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x1df5fd=this['device'];if(_0x1df5fd){const _0x4ec442=_0x1df5fd['textures']['indexOf'](this);_0x4ec442!==-(-0x13*-0xcf+-0xf60+0x4)&&_0x1df5fd['textures']['splice'](_0x4ec442,-0x5b9+-0xdcf+-0x3*-0x683),_0x1df5fd['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x1df5fd),this['adjustVram'+'SizeTracki'+'ng'](_0x1df5fd['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x11ecb0=!(-0x121+-0x2508+-0x2629*-0x1)){var _0x35cee9;const {device:_0x1cae96}=this;(_0x35cee9=this['impl'])==null||_0x35cee9['destroy'](_0x1cae96),this['impl']=null,this['impl']=_0x1cae96['createText'+'ureImpl'](this),this['dirtyAll'](),_0x11ecb0&&this['upload']();}['resize'](_0x186164,_0x5cff33,_0x47fa18=-0xe2c+0x1a1b+-0xbee){const _0x492b0b=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x492b0b['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x492b0b),this['_width']=Math['floor'](_0x186164),this['_height']=Math['floor'](_0x5cff33),this['_depth']=Math['floor'](_0x47fa18),this['_updateNum'+'Level'](),this['impl']=_0x492b0b['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x14e619,_0x5e222f){v['trace'](Kx,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x5e222f+('\x20vram.text'+'ure:\x20')+_0x14e619['tex']+'\x20=>\x20'+(_0x14e619['tex']+_0x5e222f)),_0x14e619['tex']+=_0x5e222f,this['profilerHi'+'nt']===Tu?_0x14e619['texShadow']+=_0x5e222f:this['profilerHi'+'nt']===ur?_0x14e619['texAsset']+=_0x5e222f:this['profilerHi'+'nt']===Oy&&(_0x14e619['texLightma'+'p']+=_0x5e222f);}['propertyCh'+'anged'](_0x29aba5){this['impl']['propertyCh'+'anged'](_0x29aba5),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x4c2a3a=this['mipmaps']?Mi['calcMipLev'+'elsCount'](this['width'],this['height']):0x3e4*-0x6+-0x1aef+-0x4*-0xc92,_0x272fd4=this['_numLevels'+'Requested'];_0x272fd4!==void(0xa3f+0x217*-0x3+0x1fd*-0x2)&&_0x272fd4>_0x4c2a3a&&v['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x4c2a3a,this),this['_numLevels']=Math['min'](_0x272fd4??_0x4c2a3a,_0x4c2a3a),this['_mipmaps']=this['_numLevels']>0x20e2+0x10*0x251+0x45f1*-0x1;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x46ece2){this['_minFilter']!==_0x46ece2&&(ea(this['_format'])?v['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x46ece2,this['propertyCh'+'anged'](zy)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x4ee239){this['_magFilter']!==_0x4ee239&&(ea(this['_format'])?v['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x4ee239,this['propertyCh'+'anged'](Uy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x50b750){this['_addressU']!==_0x50b750&&(this['_addressU']=_0x50b750,this['propertyCh'+'anged'](Vy));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x4e0c1c){this['_addressV']!==_0x4e0c1c&&(this['_addressV']=_0x4e0c1c,this['propertyCh'+'anged'](Gy));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x186dff){if(!this['_volume']){v['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x186dff!==this['_addressW']&&(this['_addressW']=_0x186dff,this['propertyCh'+'anged'](Hy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x3b1b4a){this['_compareOn'+'Read']!==_0x3b1b4a&&(this['_compareOn'+'Read']=_0x3b1b4a,this['propertyCh'+'anged'](Wy));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x398192){this['_compareFu'+'nc']!==_0x398192&&(this['_compareFu'+'nc']=_0x398192,this['propertyCh'+'anged']($y));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x29a28b){this['_anisotrop'+'y']!==_0x29a28b&&(this['_anisotrop'+'y']=_0x29a28b,this['propertyCh'+'anged'](qy));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x2bce8d){this['_mipmaps']!==_0x2bce8d&&(this['device']['isWebGPU']?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):ea(this['_format'])?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x2bce8d,_0x2bce8d&&(this['_needsMipm'+'apsUpload']=!(0x26aa+0x1b58+-0x4202*0x1)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0xc32bff=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===-0x635*0x1+-0x718+0xd4e);return Mi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0xc32bff,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>-0x151*-0x13+-0x39*-0x4f+-0x2a9a;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['srgb'](_0x3f8173){var _0x25e6e0,_0x2d8eec,_0x42d639,_0x46fc48;const _0x54a964=Mh(this['format']);if(_0x3f8173!==_0x54a964){if(_0x3f8173){const _0x5dd493=Cc(this['format']);this['_format']!==_0x5dd493&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x25e6e0=xt['get'](this['format']))==null?void(-0x9de*-0x1+0x6cb+-0x10a9):_0x25e6e0['name'])+'\x20->\x20'+((_0x2d8eec=xt['get'](_0x5dd493))==null?void(0x1025*-0x1+0x2536+0x1*-0x1511):_0x2d8eec['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x5dd493,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x2*0x100f+0x5b1+-0x1*0x25cf));}else{const _0xbd5bde=kS(this['format']);this['_format']!==_0xbd5bde&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x42d639=xt['get'](this['format']))==null?void(-0xfd*-0xe+0x1336*-0x1+0x560*0x1):_0x42d639['name'])+'\x20->\x20'+((_0x46fc48=xt['get'](_0xbd5bde))==null?void(0x1790+0x1*-0x917+-0xe79):_0x46fc48['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0xbd5bde,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x1c3e+0x17f1*0x1+0x44d));}}}get['srgb'](){return Mh(this['format']);}set['flipY'](_0xa856a9){this['_flipY']!==_0xa856a9&&(this['_flipY']=_0xa856a9,this['_needsUplo'+'ad']=!(0x1d9c+0x1*-0x124d+0x5*-0x243));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x127bab){this['_premultip'+'lyAlpha']!==_0x127bab&&(this['_premultip'+'lyAlpha']=_0x127bab,this['_needsUplo'+'ad']=!(0x133c+0x1d*-0x40+-0xbfc));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return N['powerOfTwo'](this['_width'])&&N['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case on:return'rgbm';case ap:return'rgbe';case Io:return'rgbp';}return Ey(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(0x11*0x23b+0x53f*-0x1+-0x20ac),!(-0x1442+-0xf07+-0x3*-0xbc3),!(0x1119+-0x3c5*-0x8+-0x2f41),!(-0x1ba9+-0x1*-0x2669+-0xac0),!(0x34*-0xbf+0x2*-0xf9d+0x4606),!(0x46a+0x1*-0x1559+0x10ef)]]:[!(0x6cc+0x405+-0xad1)],this['_needsUplo'+'ad']=!(-0xab6+0x86b+-0x1*-0x24b),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(-0x13bc+-0x1805*0x1+-0x6*-0x74b),this['propertyCh'+'anged'](yv);}['lock'](_0x2ca1b1={}){_0x2ca1b1['level']??(_0x2ca1b1['level']=0x561*-0x6+-0xf7e+0x2fc4),_0x2ca1b1['face']??(_0x2ca1b1['face']=-0x8*-0x4c+0x20fc+0x8d7*-0x4),_0x2ca1b1['mode']??(_0x2ca1b1['mode']=rd),v['assert'](this['_lockedMod'+'e']===yl,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),v['assert'](_0x2ca1b1['mode']===Fy||_0x2ca1b1['mode']===rd,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x2ca1b1['mode'],this['_lockedLev'+'el']=_0x2ca1b1['level'];const _0x1cdf44=this['cubemap']?this['_levels'][_0x2ca1b1['face']]:this['_levels'];if(_0x1cdf44[_0x2ca1b1['level']]===null){const _0x38c942=Math['max'](0x39*-0x21+0x33f*0x7+-0xf5f,this['_width']>>_0x2ca1b1['level']),_0x2517a8=Math['max'](0x1*-0x1cfd+0x1c*0x14e+0x3c5*-0x2,this['_height']>>_0x2ca1b1['level']),_0x16637c=Math['max'](-0x5bf*0x6+-0x2414+0x468f,this['_depth']>>_0x2ca1b1['level']),_0x3c08c1=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0x38c942,_0x2517a8,_0x16637c,this['_format']));_0x1cdf44[_0x2ca1b1['level']]=new(Cy(this['_format']))(_0x3c08c1);}return _0x1cdf44[_0x2ca1b1['level']];}['setSource'](_0x1ef780,_0x5b9619=-0x1*-0xd79+0x26f8+-0x219*0x19){let _0x1b8fbf=!(0x1*-0x1f30+-0x2*0xd1f+0x396f),_0xd9b12c,_0x1a1c9c;if(this['_cubemap']){if(_0x1ef780[-0x1291+0x19db+-0x74a]){_0xd9b12c=_0x1ef780[0xd80+0x1eb8+-0x2c38]['width']||0x472*0x7+-0x1*0x24f5+0x73*0xd,_0x1a1c9c=_0x1ef780[-0x3ad*-0x3+0x780+-0x1287]['height']||-0x167b+-0x2324+0x399f;for(let _0x3e226c=-0x9ac*0x1+0x3c*-0x84+-0x144e*-0x2;_0x3e226c<0x2359+0x5e2+0x5e3*-0x7;_0x3e226c++){const _0x30066c=_0x1ef780[_0x3e226c];if(!_0x30066c||_0x30066c['width']!==_0xd9b12c||_0x30066c['height']!==_0x1a1c9c||!this['device']['_isBrowser'+'Interface'](_0x30066c)){_0x1b8fbf=!(-0x107+0x4f8+-0x3f1);break;}}}else _0x1b8fbf=!(0x1bfa+0x1d1c*-0x1+0x122);if(!_0x1b8fbf){for(let _0x2caa57=0x12bd+-0x930+-0x98d;_0x2caa57<-0xb8*-0x14+-0xe35+-0x25;_0x2caa57++)this['_levels'][_0x5b9619][_0x2caa57]!==_0x1ef780[_0x2caa57]&&(this['_levelsUpd'+'ated'][_0x5b9619][_0x2caa57]=!(-0x1b85+0xc*-0x291+0x3a51));}}else this['device']['_isBrowser'+'Interface'](_0x1ef780)||(_0x1b8fbf=!(0xae1+0xae*-0x27+0xfa1)),_0x1b8fbf||(_0x1ef780!==this['_levels'][_0x5b9619]&&(this['_levelsUpd'+'ated'][_0x5b9619]=!(0x1c85*0x1+0xde3+0x2*-0x1534)),_0x1ef780 instanceof HTMLVideoElement?(_0xd9b12c=_0x1ef780['videoWidth'],_0x1a1c9c=_0x1ef780['videoHeigh'+'t']):(_0xd9b12c=_0x1ef780['width'],_0x1a1c9c=_0x1ef780['height']));if(_0x1b8fbf){if(this['_width']=-0x2*-0xb3+-0x4f*0x34+0xeaa,this['_height']=0x3*0x865+-0x25b5+0xc8a,this['_cubemap']){for(let _0x546f3d=0x36*0x6d+-0x1f3*0x8+-0x766;_0x546f3d<0x2*-0xa1+0x9b+0xad;_0x546f3d++)this['_levels'][_0x5b9619][_0x546f3d]=null,this['_levelsUpd'+'ated'][_0x5b9619][_0x546f3d]=!(0x39d*-0x3+-0x1e34+0x290b);}else this['_levels'][_0x5b9619]=null,this['_levelsUpd'+'ated'][_0x5b9619]=!(0x252b*-0x1+-0x1b83*0x1+0x40ae);}else _0x5b9619===0x1884+0x2*0xaa+-0x8*0x33b&&(this['_width']=_0xd9b12c,this['_height']=_0x1a1c9c),this['_levels'][_0x5b9619]=_0x1ef780;(this['_invalid']!==_0x1b8fbf||!_0x1b8fbf)&&(this['_invalid']=_0x1b8fbf,this['upload']());}['getSource'](_0x136f2c=0xbc6*-0x1+-0xa8a*-0x2+-0x94e){return this['_levels'][_0x136f2c];}['unlock'](){this['_lockedMod'+'e']===yl&&v['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===rd&&this['upload'](),this['_lockedLev'+'el']=-(0x162+-0xf87+0xe26),this['_lockedMod'+'e']=yl;}['upload'](){var _0x36e8ab,_0x3d0190;this['_needsUplo'+'ad']=!(0x1837*0x1+-0x1*-0x299+-0x1ad0),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x3d0190=(_0x36e8ab=this['impl'])['uploadImme'+'diate'])==null||_0x3d0190['call'](_0x36e8ab,this['device'],this);}['read'](_0xbf12b5,_0x238774,_0x19a256,_0x434ed5,_0x5048aa={}){var _0x30c77f,_0xa0c1df;return(_0xa0c1df=(_0x30c77f=this['impl'])['read'])==null?void(0x10c6+0x4bd*-0x4+0x22e):_0xa0c1df['call'](_0x30c77f,_0xbf12b5,_0x238774,_0x19a256,_0x434ed5,_0x5048aa);}}const Mv={'white':[0x17*-0x91+-0x106e+0x1e74,0x20f*0x12+0x443+-0x2852,0x4*0x6f2+0x2340+0x1*-0x3e09,-0x2*-0x137+0x563+-0x123*0x6],'gray':[0x1471+0x198*0x9+-0x1*0x2249,0x3d9+-0x1b41*-0x1+-0x1e9a,0x234a*-0x1+0x180d+0xbbd*0x1,0x1*0xb10+0x2*-0x700+0x3ef],'black':[-0x1*-0x1c40+-0x2*0xbd1+-0x49e,-0xb*-0x2a2+0x8d*-0x2f+-0x313,-0xef7+0x10*-0x1d+0x35b*0x5,-0x1*0x2441+-0xd2f+0x1*0x326f],'normal':[-0x5de+-0x20*0x6a+0x139e,-0x1a48+0x101f+0xaa9,0x1a65+-0x2c5*-0xe+-0x1564*0x3,0x1503+0x10a*0x2+-0x1*0x1618],'pink':[0x106+-0x4*-0x99a+-0x266f,-0x1*-0x1343+-0xbf2+-0x1*0x6d1,-0x5*-0x63d+0x1a6*0x12+-0x4f*0xc2,-0x3df+0x4d2+0xc]};class Pv{constructor(){c(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x14fac9=>{_0x14fac9['destroy']();});}}const Rv=new Ot(),en=(_0x32f042,_0x3b54f3)=>{const _0x334d02=Rv['get'](_0x32f042,()=>new Pv());if(!_0x334d02['map']['has'](_0x3b54f3)){const _0x417359=new he(_0x32f042,{'name':'built-in-t'+'exture-'+_0x3b54f3,'width':0x1,'height':0x1,'format':Se}),_0x39fdb9=_0x417359['lock'](),_0x3ca888=Mv[_0x3b54f3];v['assert'](_0x3ca888,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x3b54f3+('\x27\x20not\x20foun'+'d')),_0x39fdb9['set'](_0x3ca888),_0x417359['unlock'](),_0x334d02['map']['set'](_0x3b54f3,_0x417359);}return _0x334d02['map']['get'](_0x3b54f3);};let Iv=0xc50+-0x20f*0x11+-0x1*-0x16af;class Yy{constructor(){c(this,'bindGroup'),c(this,'offsets',[]);}}class mp{constructor(_0x53f60d,_0xfd8f46,_0x551756){c(this,'renderVers'+'ionUpdated',-(-0x1e9*-0x7+0x35*0x9d+0x2ddf*-0x1)),c(this,'uniformBuf'+'fers'),c(this,'uniformBuf'+'ferOffsets',[]),(this['id']=Iv++,this['device']=_0x53f60d,this['format']=_0xfd8f46,this['dirty']=!(0x2093+-0x6dc+-0x1d*0xe3),this['impl']=_0x53f60d['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x551756,_0x551756&&this['setUniform'+'Buffer'](fp,_0x551756),v['trace'](Jx,'Alloc:\x20Id\x20'+this['id'],this,_0xfd8f46));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x10a78f,_0x38c7f2){const _0x5b67a6=this['format']['bufferForm'+'atsMap']['get'](_0x10a78f);v['assert'](_0x5b67a6!==void(0x11c5+0xcd9+-0x1e9e),'Setting\x20a\x20'+'uniform\x20['+_0x10a78f+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['uniformBuf'+'fers'][_0x5b67a6]!==_0x38c7f2&&(this['uniformBuf'+'fers'][_0x5b67a6]=_0x38c7f2,this['dirty']=!(0x1e89*0x1+0x2*-0xa57+-0x9db));}['setStorage'+'Buffer'](_0x5da27d,_0x5469d6){const _0x1fd457=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x5da27d);v['assert'](_0x1fd457!==void(0x1ab*0x2+0x74b+0x38b*-0x3),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x5da27d+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageBuf'+'fers'][_0x1fd457]!==_0x5469d6&&(this['storageBuf'+'fers'][_0x1fd457]=_0x5469d6,this['dirty']=!(0x19*-0x53+0x37a*0xa+-0x5*0x555));}['setTexture'](_0x149f8d,_0x288013){const _0x59f5d9=this['format']['textureFor'+'matsMap']['get'](_0x149f8d);v['assert'](_0x59f5d9!==void(-0x255e+-0x1*-0x1691+0xecd),'Setting\x20a\x20'+'texture\x20['+_0x149f8d+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['textures'][_0x59f5d9]!==_0x288013?(this['textures'][_0x59f5d9]=_0x288013,this['dirty']=!(-0x7fc+0xaf5+-0x2f9)):this['renderVers'+'ionUpdated']<_0x288013['renderVers'+'ionDirty']&&(this['dirty']=!(-0xb02*0x1+0x7cd*-0x1+0x3*0x645));}['setStorage'+'Texture'](_0x59c04a,_0x4cf353){const _0x1e6391=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x59c04a);v['assert'](_0x1e6391!==void(0x1b67+0x1124+-0x2c8b),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x59c04a+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageTex'+'tures'][_0x1e6391]!==_0x4cf353?(this['storageTex'+'tures'][_0x1e6391]=_0x4cf353,this['dirty']=!(0x2404+0x11b*0x7+0x1*-0x2bc1)):this['renderVers'+'ionUpdated']<_0x4cf353['renderVers'+'ionDirty']&&(this['dirty']=!(-0x7fb+0x2*0x1343+-0x1e8b*0x1));}['updateUnif'+'ormBuffers'](){for(let _0x568f0b=0x17a5+-0xae2*-0x2+-0x3*0xf23;_0x568f0b<this['uniformBuf'+'fers']['length'];_0x568f0b++)this['uniformBuf'+'fers'][_0x568f0b]['update']();}['update'](){const {textureFormats:_0x18d3b3,storageTextureFormats:_0x29d85b,storageBufferFormats:_0x273660}=this['format'];for(let _0x1adc4d=-0x145e+0x268a+-0x2*0x916;_0x1adc4d<_0x18d3b3['length'];_0x1adc4d++){const _0x39bee2=_0x18d3b3[_0x1adc4d];let _0x208b9b=_0x39bee2['scopeId']['value'];_0x208b9b||(_0x39bee2['name']==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x208b9b=en(this['device'],'white')),_0x39bee2['name']==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x208b9b=en(this['device'],'pink')),_0x208b9b||(v['errorOnce']('Texture\x20'+_0x39bee2['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+G['toString']()+']'),_0x208b9b=en(this['device'],'pink'))),this['setTexture'](_0x39bee2['name'],_0x208b9b);}for(let _0xb10317=0x23f+-0xe47+0xc08;_0xb10317<_0x29d85b['length'];_0xb10317++){const _0x36ba80=_0x29d85b[_0xb10317],_0x482c19=_0x36ba80['scopeId']['value'];v['assert'](_0x482c19,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x36ba80['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Texture'](_0x36ba80['name'],_0x482c19);}for(let _0x12eeeb=-0x169*0x8+-0x12f5+-0x1*-0x1e3d;_0x12eeeb<_0x273660['length'];_0x12eeeb++){const _0xe9c007=_0x273660[_0x12eeeb],_0x32d5cb=_0xe9c007['scopeId']['value'];v['assert'](_0x32d5cb,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0xe9c007['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Buffer'](_0xe9c007['name'],_0x32d5cb);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x2b9e38=0x16*-0x34+-0x3*-0x943+0x1*-0x1751;_0x2b9e38<this['uniformBuf'+'fers']['length'];_0x2b9e38++){const _0x4be3d3=this['uniformBuf'+'fers'][_0x2b9e38];this['uniformBuf'+'ferOffsets'][_0x2b9e38]=_0x4be3d3['offset'],this['renderVers'+'ionUpdated']<_0x4be3d3['renderVers'+'ionDirty']&&(this['dirty']=!(0x26a4+-0x1*-0x57f+-0x2c23));}this['dirty']&&(this['dirty']=!(-0x6ee+-0x233c+-0x7f*-0x55),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const Oe={'set'(_0x3e4663,_0x2bfce3,_0x25f441,_0x86a4ef=0x534+-0x14b+-0x3e8){return _0x3e4663&~(_0x86a4ef<<_0x25f441)|_0x2bfce3<<_0x25f441;},'get'(_0x550c67,_0x23ec7d,_0x347446=-0x4*-0x65+-0x2ad+0x11a){return _0x550c67>>_0x23ec7d&_0x347446;},'all'(_0x53777d,_0x4b1839,_0x5b33bc=-0x20aa+0x1a*-0x157+-0x623*-0xb){const _0x58b775=_0x5b33bc<<_0x4b1839;return(_0x53777d&_0x58b775)===_0x58b775;},'any'(_0x6e8a5e,_0x368d93,_0x3fedc8=0xb*0xdd+-0x1b6c+0x11ee){return(_0x6e8a5e&_0x3fedc8<<_0x368d93)!==0x2584+0xe0*0x13+0x9*-0x604;}},xl=0x476*-0x4+0x1f06+0x7*-0x1e1,Vi=-0x7*0x2dd+0x1e32+-0x13*0x88,dm=0x91*0x1b+-0xdb9+-0xc9*0x2,um=-0x1a57+-0x2*-0x6d1+0xcb8,fm=-0x261+0x1a5c*0x1+0x36c*-0x7,pm=-0x1*0x1b84+0x31b+-0x4e4*-0x5,mm=0x33d+0x760+-0xa8f,_m=0x576*0x2+-0x22a1+-0x3*-0x7ed,Cu=-0x772+0xf29+-0x7a1,gm=0x22eb*0x1+0x1*0x16ee+-0x39c2,ym=-0x9*0x42d+-0x222a+-0x15b*-0x35,xm=0xb*-0x86+-0x16f*-0xe+-0x3*0x4bd,Sm=-0x3d*0x25+-0xc01+0x14ec,Dv=0x1a8+-0x1*0xba8+0xa0f,Lv=Cu,zs=class zs{constructor(_0x3d2738=!(-0xbeb+-0x1cb8+0x12*0x242),_0x2fd62c=Lt,_0x489f8a=at,_0x44556b=kf,_0x5bbaaa,_0x17924d,_0x1c09f7,_0xa744aa=!(-0x2349*0x1+0x738+0x95b*0x3),_0x254c1b=!(-0xf0d+-0x1aaf+0x29bc),_0xbc196d=!(0x14d9+-0xc2*-0x25+-0x9c7*0x5),_0x2b0814=!(0xf*0xb6+0x1*-0x156b+0xac1)){c(this,'target0',0x1f52+0xbbf*0x1+-0x2b11),(this['setColorBl'+'end'](_0x2fd62c,_0x489f8a,_0x44556b),this['setAlphaBl'+'end'](_0x5bbaaa??_0x2fd62c,_0x17924d??_0x489f8a,_0x1c09f7??_0x44556b),this['setColorWr'+'ite'](_0xa744aa,_0x254c1b,_0xbc196d,_0x2b0814),this['blend']=_0x3d2738);}set['blend'](_0x3676b3){this['target0']=Oe['set'](this['target0'],_0x3676b3?-0x2bd*-0x6+0xa31+-0x2*0xd4f:0x11b4+0x1d50+-0x2f04,Sm);}get['blend'](){return Oe['all'](this['target0'],Sm);}['setColorBl'+'end'](_0xd26ac2,_0x294748,_0x2890fa){this['target0']=Oe['set'](this['target0'],_0xd26ac2,dm,xl),this['target0']=Oe['set'](this['target0'],_0x294748,um,Vi),this['target0']=Oe['set'](this['target0'],_0x2890fa,fm,Vi);}['setAlphaBl'+'end'](_0x11350a,_0xe7e916,_0x127fc7){this['target0']=Oe['set'](this['target0'],_0x11350a,pm,xl),this['target0']=Oe['set'](this['target0'],_0xe7e916,mm,Vi),this['target0']=Oe['set'](this['target0'],_0x127fc7,_m,Vi);}['setColorWr'+'ite'](_0x3f3020,_0x21a63a,_0x20c7bd,_0x380abc){this['redWrite']=_0x3f3020,this['greenWrite']=_0x21a63a,this['blueWrite']=_0x20c7bd,this['alphaWrite']=_0x380abc;}get['colorOp'](){return Oe['get'](this['target0'],dm,xl);}get['colorSrcFa'+'ctor'](){return Oe['get'](this['target0'],um,Vi);}get['colorDstFa'+'ctor'](){return Oe['get'](this['target0'],fm,Vi);}get['alphaOp'](){return Oe['get'](this['target0'],pm,xl);}get['alphaSrcFa'+'ctor'](){return Oe['get'](this['target0'],mm,Vi);}get['alphaDstFa'+'ctor'](){return Oe['get'](this['target0'],_m,Vi);}set['redWrite'](_0x5532de){this['target0']=Oe['set'](this['target0'],_0x5532de?-0x1e4f+0x1*-0x2a8+0xa*0x34c:0x14bc*0x1+-0x1*-0xfe+-0x15ba,Cu);}get['redWrite'](){return Oe['all'](this['target0'],Cu);}set['greenWrite'](_0x4c33a5){this['target0']=Oe['set'](this['target0'],_0x4c33a5?0x1661+0x1e0b+0x15*-0x27f:-0xc*-0x278+0xa1*-0x7+-0x1939,gm);}get['greenWrite'](){return Oe['all'](this['target0'],gm);}set['blueWrite'](_0x574ead){this['target0']=Oe['set'](this['target0'],_0x574ead?0x250b+0x69d*-0x4+-0x54b*0x2:0x26b3*-0x1+0x8*-0x2a2+0x1*0x3bc3,ym);}get['blueWrite'](){return Oe['all'](this['target0'],ym);}set['alphaWrite'](_0x51c814){this['target0']=Oe['set'](this['target0'],_0x51c814?-0x1307+-0x23f9*0x1+0x3701:0x3b*0xa1+0x1534*-0x1+0xb1*-0x17,xm);}get['alphaWrite'](){return Oe['all'](this['target0'],xm);}get['allWrite'](){return Oe['get'](this['target0'],Lv,Dv);}['copy'](_0x5f1d71){return this['target0']=_0x5f1d71['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0xd5b14c){return this['target0']===_0xd5b14c['target0'];}};c(zs,'NOBLEND',Object['freeze'](new zs())),c(zs,'NOWRITE',Object['freeze'](new zs(void(-0x2470+-0x11*0x1e7+0x44c7),void(-0x1*-0x14ae+-0xd21+-0x78d),void(-0xb3c*-0x1+-0x810+-0x32c),void(-0x2492*-0x1+-0x1ad0+-0x9c2),void(0x734+0x1*-0x382+0x1*-0x3b2),void(0x1ac*-0x9+0x860+0x7*0xf4),void(0x414*0x1+-0xa1b*0x1+0x607),!(0xfe*0x16+-0x2ea*0xa+0x751),!(-0x1*0x23+-0x1*-0x1544+0x68*-0x34),!(0x40f+-0x11*0x10d+-0x2c3*-0x5),!(0x1*0x1142+-0x12fb*-0x1+-0xc14*0x3)))),c(zs,'ALPHABLEND',Object['freeze'](new zs(!(0x75*-0x1f+-0x866+0x1*0x1691),Lt,dc,uc))),c(zs,'ADDBLEND',Object['freeze'](new zs(!(0xbeb+-0xdbc+0x1d1),Lt,at,at)));let _t=zs;class _p{constructor(){c(this,'map',new Map()),c(this,'id',-0x7cf*-0x3+-0x2016+-0x8a9*-0x1);}['get'](_0x4277e9){let _0x24ccff=this['map']['get'](_0x4277e9);return _0x24ccff===void(0x1*0xf7a+0x2*-0x9e+0x2*-0x71f)&&(_0x24ccff=this['id']++,this['map']['set'](_0x4277e9,_0x24ccff)),_0x24ccff;}}const Fv=new _p(),vm=0x2626+0x2ab+-0x1*0x28ca,bm=-0xce8+0x92f+-0x3b9*-0x1,wm=0x21b9+-0x8a4+-0x1912*0x1,Zi=class Zi{constructor(_0x5a9740=fu,_0x4bb04c=!(-0x136a+-0x1f01+-0x1*-0x326b)){c(this,'data',-0x1cae+-0x11c4+0x122*0x29),c(this,'_depthBias',0x81*-0x15+-0xa07+0x149c),c(this,'_depthBias'+'Slope',-0x92*-0x14+-0x4*-0x984+-0x3178),c(this,'key',-0x29*-0xc5+-0x1124+-0x20f*0x7),(this['func']=_0x5a9740,this['write']=_0x4bb04c);}set['test'](_0xdf6e62){this['func']=_0xdf6e62?fu:Ai,this['updateKey']();}get['test'](){return this['func']!==Ai;}set['write'](_0x5478a9){this['data']=Oe['set'](this['data'],_0x5478a9?0x17*0x4e+-0x1*0x266d+-0x2*-0xfb6:0x17f5+-0x47d+-0x1378,wm),this['updateKey']();}get['write'](){return Oe['all'](this['data'],wm);}set['func'](_0x272897){this['data']=Oe['set'](this['data'],_0x272897,bm,vm),this['updateKey']();}get['func'](){return Oe['get'](this['data'],bm,vm);}set['depthBias'](_0x265a94){this['_depthBias']=_0x265a94,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x3cdf93){this['_depthBias'+'Slope']=_0x3cdf93,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x26bc44){return this['data']=_0x26bc44['data'],this['_depthBias']=_0x26bc44['_depthBias'],this['_depthBias'+'Slope']=_0x26bc44['_depthBias'+'Slope'],this['key']=_0x26bc44['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x467a6d,_depthBias:_0x3466c1,_depthBiasSlope:_0x2ed23d}=this,_0x4fdeca=_0x467a6d+'-'+_0x3466c1+'-'+_0x2ed23d;this['key']=Fv['get'](_0x4fdeca);}['equals'](_0x47403f){return this['key']===_0x47403f['key'];}};c(Zi,'DEFAULT',Object['freeze'](new Zi())),c(Zi,'NODEPTH',Object['freeze'](new Zi(Ai,!(0x1*0x3b7+-0x67f*0x4+0x2*0xb23)))),c(Zi,'WRITEDEPTH',Object['freeze'](new Zi(Ai,!(0x60+0x1095+-0x10f5))));let as=Zi;class Ky{constructor(){c(this,'globalId',-0xa*0x372+0x4*0x454+0x1124),c(this,'revision',0xeec+0x1889*0x1+0x1*-0x2775);}['equals'](_0x13551a){return this['globalId']===_0x13551a['globalId']&&this['revision']===_0x13551a['revision'];}['copy'](_0x1fe4c3){this['globalId']=_0x1fe4c3['globalId'],this['revision']=_0x1fe4c3['revision'];}['reset'](){this['globalId']=0x43c+0xa27+0x1d*-0x7f,this['revision']=-0x36a+0x1760+0xa*-0x1ff;}}let Tm=0x1f38*-0x1+0xdc7+0xeb*0x13;class Ov{constructor(){Tm++,this['version']=new Ky(),this['version']['globalId']=Tm;}['increment'](){this['version']['revision']++;}}class kv{constructor(_0x3dbfaa){this['name']=_0x3dbfaa,this['value']=null,this['versionObj'+'ect']=new Ov();}['toJSON'](_0x5184d0){}['setValue'](_0x1d35de){this['value']=_0x1d35de,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class Bv{constructor(_0x3339b8){this['name']=_0x3339b8,this['variables']=new Map();}['resolve'](_0x51472f){return this['variables']['has'](_0x51472f)||this['variables']['set'](_0x51472f,new kv(_0x51472f)),this['variables']['get'](_0x51472f);}['removeValu'+'e'](_0x1dfdfb){for(const _0x464b92 in this['variables']){const _0x1b0087=this['variables'][_0x464b92];_0x1b0087['value']===_0x1dfdfb&&(_0x1b0087['value']=null);}}}let Nv=-0x3b*0xb+0x7*-0x274+0x13b5;class os{constructor(_0x316a8a,_0x14faed,_0x26e569,_0x35d716){c(this,'usage',jt),(v['assert'](arguments['length']<=-0x3*0x65a+0xda*-0x1f+0xc2*0x3c&&(!_0x35d716||typeof _0x35d716=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x35d716==null?void(0x29*-0xab+-0x4f+-0x5*-0x58a):_0x35d716['usage'])??jt,this['device']=_0x316a8a,this['format']=_0x14faed,this['numVertice'+'s']=_0x26e569,this['id']=Nv++,this['impl']=_0x316a8a['createVert'+'exBufferIm'+'pl'](this,_0x14faed,_0x35d716),this['numBytes']=_0x14faed['verticesBy'+'teSize']?_0x14faed['verticesBy'+'teSize']:_0x14faed['size']*_0x26e569,this['adjustVram'+'SizeTracki'+'ng'](_0x316a8a['_vram'],this['numBytes']));const _0x2aad2e=_0x35d716==null?void(0x1f38+0xfd7+-0x2f0f):_0x35d716['data'];_0x2aad2e?this['setData'](_0x2aad2e):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x4a2e89=this['device'],_0x117cb9=_0x4a2e89['buffers']['indexOf'](this);_0x117cb9!==-(-0x1cc1+0x3bb+0x1907)&&_0x4a2e89['buffers']['splice'](_0x117cb9,0xa4e*0x3+0x719+0x8b*-0x46),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x4a2e89),this['adjustVram'+'SizeTracki'+'ng'](_0x4a2e89['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0xcb0f15,_0x39699c){v['trace'](Zx,this['id']+'\x20size:\x20'+_0x39699c+'\x20vram.vb:\x20'+_0xcb0f15['vb']+'\x20=>\x20'+(_0xcb0f15['vb']+_0x39699c)),_0xcb0f15['vb']+=_0x39699c;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0xb877f3){return _0xb877f3['byteLength']!==this['numBytes']?(v['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0xb877f3['byteLength']),!(-0xb*0x1cf+-0x1069*-0x1+-0x37d*-0x1)):(this['storage']=_0xb877f3,this['unlock'](),!(-0xf40*-0x2+-0x2484+0x604));}}function hn(_0x3650d7){if(_0x3650d7==null)return 0x3a+-0x1e4c+-0x1e12*-0x1;let _0x44c543=0x1*0x22df+-0x1d43+-0x59c;for(let _0x52b8d7=0xf0c+-0x2f0*0xd+0x1724,_0x2bcf4b=_0x3650d7['length'];_0x52b8d7<_0x2bcf4b;_0x52b8d7++)_0x44c543=(_0x44c543<<0xa9a+-0x3d7*0x2+-0x2e7*0x1)-_0x44c543+_0x3650d7['charCodeAt'](_0x52b8d7),_0x44c543|=0x285+-0xe55+0xbd0;return _0x44c543;}function Zy(_0x4b7100){let _0x467175=0xf09b2829*0x1+-0xf93e4173+0x89bfb70f*0x1;for(let _0x32bfba=-0x14c3+-0xf80+-0x2443*-0x1;_0x32bfba<_0x4b7100['length'];_0x32bfba++)_0x467175^=_0x4b7100[_0x32bfba],_0x467175*=0xa*-0x22b3d1+-0x15*0x10d5f9+0x1de4a95*0x2;return _0x467175>>>0x3a9*-0x9+0x1307+0xdea;}const zv=new _p(),Uv=[0x1*0x11a1+0x185*0x7+-0x1c42,-0x4d+0x457+0x5*-0xce,0x1*-0x18b3+-0x1dd+0x2*0xd4c,-0x20f+-0x99*0x40+0x285b,0x1d1c+0x4d4+0x10*-0x21e],Vv=new Ot();class Et{constructor(_0x20748d,_0xf403f9,_0x3f6a72){this['device']=_0x20748d,this['_elements']=[],this['hasUv0']=!(-0x59*0x55+0x1c4*-0x12+0x3d56),this['hasUv1']=!(0x165c+-0x1a85+0x42a),this['hasColor']=!(-0x1970+0x41*0x37+0xb7a),this['hasTangent'+'s']=!(-0x1525+0x3*0x3f7+-0x1*-0x941),this['verticesBy'+'teSize']=-0xc7+0x239d+-0x27d*0xe,this['vertexCoun'+'t']=_0x3f6a72,this['interleave'+'d']=_0x3f6a72===void(-0x11a5*-0x1+0x4a*-0x36+-0x209),this['instancing']=!(0x87b+0x1*-0x989+0x10f),this['size']=_0xf403f9['reduce']((_0x326c96,_0x23f570)=>_0x326c96+Math['ceil'](_0x23f570['components']*_o[_0x23f570['type']]/(-0x371*-0x9+-0x412+-0x1ae3*0x1))*(-0x1ee7+-0x344+0x222f),-0x417+-0x1a1c*-0x1+-0x1605);let _0x125411=0x13*0x166+-0x1be*0x9+-0xae4,_0x2c1c1e;for(let _0x181abb=-0x3*0x685+-0x1*0x1539+0x168*0x1d,_0x22999d=_0xf403f9['length'];_0x181abb<_0x22999d;_0x181abb++){const _0x32156b=_0xf403f9[_0x181abb];_0x2c1c1e=_0x32156b['components']*_o[_0x32156b['type']],v['assert'](Et['isElementV'+'alid'](_0x20748d,_0x32156b),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x32156b['semantic']+'\x20:\x20'+Sv[_0x32156b['type']]+'\x20x\x20'+_0x32156b['components']),_0x3f6a72&&(_0x125411=N['roundUp'](_0x125411,_0x2c1c1e),v['assert'](_0x2c1c1e%(0x25*-0x52+-0x1*0xff7+0xf*0x1db)===-0x5*0x69d+-0x1a6b+0x3b7c,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x2c1c1e));const _0x35ce4a=_0x32156b['asInt']??!(0x16*0x141+0x1bc1+-0x313*0x12),_0x3152c4=_0x35ce4a?!(-0x1e5*0x13+0x196c+0xa94):_0x32156b['normalize']??!(-0xc7*0xa+0x1b0c+-0x1345*0x1),_0x4c5073={'name':_0x32156b['semantic'],'offset':_0x3f6a72?_0x125411:_0x32156b['hasOwnProp'+'erty']('offset')?_0x32156b['offset']:_0x125411,'stride':_0x3f6a72?_0x2c1c1e:_0x32156b['hasOwnProp'+'erty']('stride')?_0x32156b['stride']:this['size'],'dataType':_0x32156b['type'],'numComponents':_0x32156b['components'],'normalize':_0x3152c4,'size':_0x2c1c1e,'asInt':_0x35ce4a};this['_elements']['push'](_0x4c5073),_0x3f6a72?_0x125411+=_0x2c1c1e*_0x3f6a72:_0x125411+=Math['ceil'](_0x2c1c1e/(-0x2*-0x859+0x5b*-0x2f+0x7*0x1))*(-0x1dbb+-0x18ca+0x3689),_0x32156b['semantic']===ns?this['hasUv0']=!(-0x1131+0x1975+-0x844):_0x32156b['semantic']===_n?this['hasUv1']=!(-0x3*0x2e7+-0x1958+-0x220d*-0x1):_0x32156b['semantic']===At?this['hasColor']=!(-0x984+-0x1*0xb5d+0x5*0x42d):_0x32156b['semantic']===Zs&&(this['hasTangent'+'s']=!(0x21b2+-0x1*0x10f5+-0x5*0x359));}_0x3f6a72&&(this['verticesBy'+'teSize']=_0x125411),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x5e7f7c){return Vv['get'](_0x5e7f7c,()=>new Et(_0x5e7f7c,[{'semantic':rp,'components':0x4,'type':Ee},{'semantic':ga,'components':0x4,'type':Ee},{'semantic':np,'components':0x4,'type':Ee},{'semantic':ya,'components':0x4,'type':Ee}]));}static['isElementV'+'alid'](_0xc94d7f,_0x9e9919){const _0x1150d9=_0x9e9919['components']*_o[_0x9e9919['type']];return!(_0xc94d7f['isWebGPU']&&!Uv['includes'](_0x1150d9));}['update'](){v['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x584972=[],_0x538060=[],_0x208a9b=this['_elements']['length'];for(let _0x5cbdff=-0x15f9+-0x1ad1+-0x30ca*-0x1;_0x5cbdff<_0x208a9b;_0x5cbdff++){const {name:_0x26eff0,dataType:_0x5dc54e,numComponents:_0x5c8fa3,normalize:_0x16e34d,offset:_0x5b3654,stride:_0x5f55b9,size:_0xaced27,asInt:_0x3dfaf6}=this['_elements'][_0x5cbdff],_0x28104a=_0x26eff0+_0x5dc54e+_0x5c8fa3+_0x16e34d+_0x3dfaf6;_0x584972['push'](_0x28104a);const _0x42b410=_0x28104a+_0x5b3654+_0x5f55b9+_0xaced27;_0x538060['push'](_0x42b410);}_0x584972['sort']();const _0x17d83a=_0x584972['join']();this['batchingHa'+'sh']=hn(_0x17d83a),this['shaderProc'+'essingHash'+'String']=_0x17d83a,this['renderingH'+'ashString']=_0x538060['join']('_'),this['renderingH'+'ash']=zv['get'](this['renderingH'+'ashString']);}}const Gv=new _p(),rc=class rc{constructor(_0x5cf313={}){c(this,'_func'),c(this,'_ref'),c(this,'_fail'),c(this,'_zfail'),c(this,'_zpass'),c(this,'_readMask'),c(this,'_writeMask'),c(this,'_dirty',!(0x14b0+-0xac7+0x3b*-0x2b)),c(this,'_key'),(this['_func']=_0x5cf313['func']??Ai,this['_ref']=_0x5cf313['ref']??0x12b8+0xe7f+0x305*-0xb,this['_readMask']=_0x5cf313['readMask']??-0x5*-0x40d+-0x5d*-0x35+-0x2683,this['_writeMask']=_0x5cf313['writeMask']??0x665+-0xc1*0x2b+-0x1b05*-0x1,this['_fail']=_0x5cf313['fail']??ha,this['_zfail']=_0x5cf313['zfail']??ha,this['_zpass']=_0x5cf313['zpass']??ha,this['_evalKey']());}set['func'](_0x26e94b){this['_func']=_0x26e94b,this['_dirty']=!(0x97*-0x39+0x1*0x9a9+0x17f6);}get['func'](){return this['_func'];}set['ref'](_0x73c285){this['_ref']=_0x73c285,this['_dirty']=!(-0x69*-0x27+-0x1d85+0xd86);}get['ref'](){return this['_ref'];}set['fail'](_0x21a68b){this['_fail']=_0x21a68b,this['_dirty']=!(0x1ee5+0x3*0xfe+0x29b*-0xd);}get['fail'](){return this['_fail'];}set['zfail'](_0x25b535){this['_zfail']=_0x25b535,this['_dirty']=!(0xb*0x1b7+-0x1*-0x72+-0x134f);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x14b55c){this['_zpass']=_0x14b55c,this['_dirty']=!(-0x125*-0x1b+-0x22a+0x41b*-0x7);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x203c73){this['_readMask']=_0x203c73,this['_dirty']=!(-0x61*-0x20+0x220e+-0x2e2e);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x18a773){this['_writeMask']=_0x18a773,this['_dirty']=!(-0x2e*-0x6d+-0x4d3+-0xec3);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x12cde8,_ref:_0x29d9fc,_fail:_0x3f6e3a,_zfail:_0x6f4d88,_zpass:_0x43f843,_readMask:_0xa285a5,_writeMask:_0x20bc9a}=this,_0x511acb=_0x12cde8+','+_0x29d9fc+','+_0x3f6e3a+','+_0x6f4d88+','+_0x43f843+','+_0xa285a5+','+_0x20bc9a;this['_key']=Gv['get'](_0x511acb),this['_dirty']=!(0xb13+0x131d+-0x1e2f);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x69ce08){return this['_func']=_0x69ce08['_func'],this['_ref']=_0x69ce08['_ref'],this['_readMask']=_0x69ce08['_readMask'],this['_writeMask']=_0x69ce08['_writeMask'],this['_fail']=_0x69ce08['_fail'],this['_zfail']=_0x69ce08['_zfail'],this['_zpass']=_0x69ce08['_zpass'],this['_dirty']=_0x69ce08['_dirty'],this['_key']=_0x69ce08['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};c(rc,'DEFAULT',Object['freeze'](new rc()));let qs=rc;const nc=class nc extends ce{constructor(_0x109b62,_0x352145){var _0x293151,_0x3877e9,_0x4a76d5,_0x3d7d67,_0x33af96,_0x201f8e;super(),c(this,'canvas'),c(this,'backBuffer',null),c(this,'backBuffer'+'Size',new W()),c(this,'backBuffer'+'Format'),c(this,'backBuffer'+'Antialias',!(0x4d9+0x1*-0x1d35+-0xe7*-0x1b)),c(this,'isWebGPU',!(-0xc3*0x1d+0x1*0x80b+0x4af*0x3)),c(this,'isWebGL2',!(-0x209c+-0x1be*-0x1+0x1edf)),c(this,'isHdr',!(-0x19cc+0x3f3*0x3+0x1*0xdf4)),c(this,'scope'),c(this,'maxAnisotr'+'opy'),c(this,'maxCubeMap'+'Size'),c(this,'maxTexture'+'Size'),c(this,'maxVolumeS'+'ize'),c(this,'maxColorAt'+'tachments',0x52*0x73+-0x2049+-0x48c),c(this,'precision'),c(this,'samples'),c(this,'maxSamples',0x1d09+0x10bf+-0x1*0x2dc7),c(this,'supportsSt'+'encil'),c(this,'supportsCo'+'mpute',!(0x26e1*-0x1+-0x1b1f*0x1+-0x1*-0x4201)),c(this,'supportsSt'+'orageTextu'+'reRead',!(-0x993+0x41*0x5e+-0x1*0xe4a)),c(this,'renderTarg'+'et',null),c(this,'shaders',[]),c(this,'textures',[]),c(this,'targets',new Set()),c(this,'renderVers'+'ion',0x12ee*-0x1+0x511*0x3+0xbf*0x5),c(this,'renderPass'+'Index'),c(this,'insideRend'+'erPass',!(0x2205*0x1+-0x47d*-0x1+-0x2681)),c(this,'supportsUn'+'iformBuffe'+'rs',!(-0x2598+0x17b0+0x3*0x4a3)),c(this,'supportsCl'+'ipDistance'+'s',!(-0x25f*0x3+0xdf*0xb+-0x277)),c(this,'textureFlo'+'atRenderab'+'le'),c(this,'textureHal'+'fFloatRend'+'erable'),c(this,'textureRG1'+'1B10Render'+'able',!(0x7b5*0x1+0x21f2+0x14d3*-0x2)),c(this,'textureFlo'+'atFilterab'+'le',!(0x217b+0x555+-0x26cf)),c(this,'quadVertex'+'Buffer'),c(this,'blendState',new _t()),c(this,'depthState',new as()),c(this,'stencilEna'+'bled',!(-0xbca+-0x1*-0x305+-0x8c6*-0x1)),c(this,'stencilFro'+'nt',new qs()),c(this,'stencilBac'+'k',new qs()),c(this,'dynamicBuf'+'fers'),c(this,'gpuProfile'+'r'),c(this,'defaultCle'+'arOptions',{'color':[-0x1b3e+0x1675*-0x1+0x31b3,0x22a0+0x67a+0x2*-0x148d,0x77b*-0x1+-0x7d6+0x3*0x51b,0x132a+0xc80+-0x1fa9],'depth':0x1,'stencil':0x0,'flags':Co|Mo}),c(this,'clientRect',{'width':0x0,'height':0x0}),c(this,'_shadersDi'+'rty',!(-0x1dff+0x135d*0x2+-0x8ba)),(this['canvas']=_0x109b62,this['initOption'+'s']={..._0x352145},(_0x293151=this['initOption'+'s'])['alpha']??(_0x293151['alpha']=!(-0x185f+0x163d+0x2a*0xd)),(_0x3877e9=this['initOption'+'s'])['depth']??(_0x3877e9['depth']=!(-0x3*0x3+-0x2608+0x2611)),(_0x4a76d5=this['initOption'+'s'])['stencil']??(_0x4a76d5['stencil']=!(0x1c06+-0x177e+-0x488)),(_0x3d7d67=this['initOption'+'s'])['antialias']??(_0x3d7d67['antialias']=!(0x2c5*-0x1+0x2e9*0x9+-0x176c)),(_0x33af96=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x33af96['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x201f8e=this['initOption'+'s'])['displayFor'+'mat']??(_0x201f8e['displayFor'+'mat']=gv),this['_maxPixelR'+'atio']=ye['browser']?Math['min'](-0x47*0x61+0xfe0+0xb08,window['devicePixe'+'lRatio']):-0x1f50*0x1+-0x13e7+0x95*0x58,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=0x65*0x3d+-0x2228+0xa17*0x1,this['_shaderSwi'+'tchesPerFr'+'ame']=0x100b+-0x7b3*-0x2+0x1*-0x1f71,this['_primsPerF'+'rame']=[]);for(let _0x400cc5=Mc;_0x400cc5<=Yr;_0x400cc5++)this['_primsPerF'+'rame'][_0x400cc5]=-0xe29+-0x26c5+-0x21e*-0x19;this['_renderTar'+'getCreatio'+'nTime']=0x1b84+0x2f2+-0x1e76,this['scope']=new Bv('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](0x3*0x5d1+-0x1206+0x93);}['postInit'](){const _0x1c25a8=new Et(this,[{'semantic':He,'components':0x2,'type':Ee}]),_0xd8fbfb=new Float32Array([-(-0x1f82+0x1*-0x21eb+0x416e),-(0x11b9+0x258c+-0x3744),-0x2437+-0x1645*0x1+-0x3a7d*-0x1,-(0x1370*0x2+-0x23a5+-0x33a),-(-0x20c6+-0x162d+0x36f4),-0x11e9+0x4*0x161+0xc66,0x15+0x82a+-0x1*0x83e,-0x1a9a+-0x239f+0x3e3a]);this['quadVertex'+'Buffer']=new os(this,_0x1c25a8,0x1485+0x12e4+-0x1*0x2765,{'data':_0xd8fbfb});}['destroy'](){var _0x11b885,_0x1bf66b,_0x3bf6b5;this['fire']('destroy'),(_0x11b885=this['quadVertex'+'Buffer'])==null||_0x11b885['destroy'](),this['quadVertex'+'Buffer']=null,(_0x1bf66b=this['dynamicBuf'+'fers'])==null||_0x1bf66b['destroy'](),this['dynamicBuf'+'fers']=null,(_0x3bf6b5=this['gpuProfile'+'r'])==null||_0x3bf6b5['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x10165a){this['fire']('destroy:sh'+'ader',_0x10165a);const _0x41dfce=this['shaders']['indexOf'](_0x10165a);_0x41dfce!==-(0x2d7*0x2+-0x16*-0xc3+-0x166f)&&this['shaders']['splice'](_0x41dfce,0x13*0xe9+0x1af*-0x9+-0x223);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x884910;this['contextLos'+'t']=!(-0x13fe+-0xb12+0x1f10),this['backBuffer'+'Size']['set'](-(-0x11af+0x6d*0x9+0x1*0xddb),-(0x527*-0x1+0xedb+-0x1*0x9b3));for(const _0x304832 of this['textures'])_0x304832['loseContex'+'t']();for(const _0x5b5796 of this['buffers'])_0x5b5796['loseContex'+'t']();for(const _0x691255 of this['targets'])_0x691255['loseContex'+'t']();(_0x884910=this['gpuProfile'+'r'])==null||_0x884910['loseContex'+'t']();}['restoreCon'+'text'](){var _0x1cc89b,_0x69d74a;this['contextLos'+'t']=!(0x19*0x174+0x2041+0x31e*-0x16),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x435067 of this['buffers'])_0x435067['unlock']();(_0x69d74a=(_0x1cc89b=this['gpuProfile'+'r'])==null?void(0x1a94+-0x543*0x2+0x5*-0x336):_0x1cc89b['restoreCon'+'text'])==null||_0x69d74a['call'](_0x1cc89b);}['toJSON'](_0x4ac3eb){}['initialize'+'ContextCac'+'hes'](){this['indexBuffe'+'r']=null,this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(0x2392+0x63*0x7+-0x1*0x2647),this['shaderAsyn'+'cCompile']=!(0x893+-0x1065+0x7d3),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new _t(),this['depthState']=new as(),this['cullMode']=rn,this['vx']=this['vy']=this['vw']=this['vh']=0x207e+-0x1*-0x12b0+0x2*-0x1997,this['sx']=this['sy']=this['sw']=this['sh']=-0x1d54+0x223d+-0x4e9,this['blendColor']=new Y(0x2*0xaac+0x1e00+-0x3358,0x1*0x25d6+0x9f*0x1c+-0x373a,0x1*0x1ffa+-0x2364+0x1b5*0x2,-0x1fa2+-0x76*-0x3a+-0x6*-0xd1);}['setStencil'+'State'](_0x5271f9,_0xb7d741){v['assert'](!(0x1f32+0x67d*0x2+-0xeb9*0x3));}['setBlendSt'+'ate'](_0x55a5ff){v['assert'](!(0x3a1+-0x60+-0x340));}['setBlendCo'+'lor'](_0x16cae5,_0x5c6911,_0x3a98e1,_0x228b64){v['assert'](!(0x2b+0xbed*-0x1+-0x1*-0xbc3));}['setDepthSt'+'ate'](_0x3e1f9d){v['assert'](!(-0x5*0x3a6+-0x1e55+-0x184a*-0x2));}['setCullMod'+'e'](_0x6b07e7){v['assert'](!(0x12f7*-0x1+-0x618+0x1910));}['setRenderT'+'arget'](_0x4610da){this['renderTarg'+'et']=_0x4610da;}['setIndexBu'+'ffer'](_0x250ae3){this['indexBuffe'+'r']=_0x250ae3;}['setVertexB'+'uffer'](_0x3e5dee){_0x3e5dee&&this['vertexBuff'+'ers']['push'](_0x3e5dee);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=-0xb8*0xd+-0x19da+-0x5*-0x70a;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x109d3c){if(_0x109d3c['initialize'+'d'])return;const _0x3bc1ed=ne();this['fire']('fbo:create',{'timestamp':_0x3bc1ed,'target':this}),_0x109d3c['init'](),this['targets']['add'](_0x109d3c),this['_renderTar'+'getCreatio'+'nTime']+=ne()-_0x3bc1ed;}['_isBrowser'+'Interface'](_0x3d38e7){return this['_isImageBr'+'owserInter'+'face'](_0x3d38e7)||this['_isImageCa'+'nvasInterf'+'ace'](_0x3d38e7)||this['_isImageVi'+'deoInterfa'+'ce'](_0x3d38e7);}['_isImageBr'+'owserInter'+'face'](_0x451ef){return typeof ImageBitmap<'u'&&_0x451ef instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x451ef instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x30fe38){return typeof HTMLCanvasElement<'u'&&_0x30fe38 instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x39383f){return typeof HTMLVideoElement<'u'&&_0x39383f instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x9c859e,_0xc9db71){const _0x153cab=Math['min'](this['_maxPixelR'+'atio'],ye['browser']?window['devicePixe'+'lRatio']:-0x12*-0x106+0xc*-0x2d4+0xf85*0x1),_0x4b8498=Math['floor'](_0x9c859e*_0x153cab),_0x11f7ac=Math['floor'](_0xc9db71*_0x153cab);(_0x4b8498!==this['canvas']['width']||_0x11f7ac!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x4b8498,_0x11f7ac);}['setResolut'+'ion'](_0x4076a4,_0x550eb4){this['canvas']['width']=_0x4076a4,this['canvas']['height']=_0x550eb4,this['fire'](nc['EVENT_RESI'+'ZE'],_0x4076a4,_0x550eb4);}['updateClie'+'ntRect'](){if(ye['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x3a8368=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x3a8368['width'],this['clientRect']['height']=_0x3a8368['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x220a97){v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(-0x10+0x94d+-0x93c);}set['maxPixelRa'+'tio'](_0x37ef2d){this['_maxPixelR'+'atio']=_0x37ef2d;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x246135){}['endRenderP'+'ass'](_0x547f98){}['startCompu'+'tePass'](_0x4a9aea){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=-0xeea+-0xce3*0x3+0x3593,this['renderVers'+'ion']++,v['call'](()=>{if(Xs['get'](tS)){const _0x221798=this['textures']['slice']();_0x221798['sort']((_0x5331f9,_0x2e8bf9)=>_0x2e8bf9['gpuSize']-_0x5331f9['gpuSize']),v['log']('Textures:\x20'+_0x221798['length']);let _0x3c84bc=0x16a0+-0x13ad+0x2f3*-0x1;_0x221798['forEach']((_0x21dbe2,_0x95352)=>{const _0x202140=_0x21dbe2['gpuSize'];_0x3c84bc+=_0x202140,v['log'](_0x95352+'.\x20'+_0x21dbe2['name']+'\x20'+_0x21dbe2['width']+'x'+_0x21dbe2['height']+'\x20VRAM:\x20'+(_0x202140/(-0x192f+-0x142d+0x315c)/(-0xc26+0x4dd+-0x1b*-0x6b))['toFixed'](0x1*-0x902+-0x2533+0x2e37*0x1)+'\x20MB');}),v['log']('Total:\x20'+(_0x3c84bc/(-0x8e6+-0xae1+-0x1*-0x17c7)/(-0x5b3*-0x4+0x1476+-0x2742))['toFixed'](-0x24cc+0x4d*0x43+-0x93*-0x1d)+'MB');}});}['frameEnd'](){}['computeDis'+'patch'](_0x5b2d4f,_0x1e3fca='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x59e53c=[_a,Je,Ke],_0x1d6876=!(0x830+0xd2d+-0x71f*0x3),_0x1e92e4=0x1*0x26b3+-0x2512+0x1a*-0x10){for(let _0xc774ac=-0xa7c*0x1+0x213d+-0x48d*0x5;_0xc774ac<_0x59e53c['length'];_0xc774ac++){const _0x4ba93e=_0x59e53c[_0xc774ac];switch(_0x4ba93e){case _a:{if(this['textureRG1'+'1B10Render'+'able'])return _0x4ba93e;break;}case Je:if(this['textureHal'+'fFloatRend'+'erable'])return _0x4ba93e;break;case Ke:if(this['isWebGPU']&&_0x1e92e4>-0x1c73*-0x1+0x1*0x60f+0xb*-0x323)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x1d6876||this['textureFlo'+'atFilterab'+'le']))return _0x4ba93e;break;}}}};c(nc,'EVENT_RESI'+'ZE','resizecanv'+'as');let Fh=nc,Hv=-0x6*0x19d+0x1f0b+-0x155d;class pt{constructor(_0xe5ce21={}){c(this,'name'),c(this,'_device'),c(this,'_colorBuff'+'er'),c(this,'_colorBuff'+'ers'),c(this,'_depthBuff'+'er'),c(this,'_depth'),c(this,'_stencil'),c(this,'_samples'),c(this,'autoResolv'+'e'),c(this,'_face'),c(this,'_mipLevel'),c(this,'_mipmaps'),c(this,'flipY');var _0x11c328,_0x29df9c,_0x1a7ad1,_0x54b0ce,_0x1553e0,_0x5ee8de;v['assert'](!(_0xe5ce21 instanceof Fh),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=Hv++;const _0x3399f7=((_0x11c328=_0xe5ce21['colorBuffe'+'r'])==null?void(-0x1c9*-0xf+-0x82d+-0x94d*0x2):_0x11c328['device'])??((_0x29df9c=_0xe5ce21['colorBuffe'+'rs'])==null?void(0x1975+0x9*0x393+-0x39a0):_0x29df9c[-0x79b*-0x1+-0x110f+0x974]['device'])??((_0x1a7ad1=_0xe5ce21['depthBuffe'+'r'])==null?void(0x137c*0x2+-0x7f*-0x2+0x155*-0x1e):_0x1a7ad1['device'])??_0xe5ce21['graphicsDe'+'vice'];v['assert'](_0x3399f7,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x3399f7;const {maxSamples:_0x5c9fff}=this['_device'];if(this['_samples']=Math['min'](_0xe5ce21['samples']??-0x430*0x9+0x2077+-0x3*-0x1be,_0x5c9fff),_0x3399f7['isWebGPU']&&(this['_samples']=this['_samples']>0x8*0x272+0x1b59+-0xbba*0x4?_0x5c9fff:-0xf26*-0x2+-0x19fa*-0x1+0x2b*-0x14f),this['_colorBuff'+'er']=_0xe5ce21['colorBuffe'+'r'],_0xe5ce21['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0xe5ce21['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0xe5ce21['depthBuffe'+'r'],this['_face']=_0xe5ce21['face']??0x14ea+0x911+-0x1dfb,this['_depthBuff'+'er']){const _0x4b64c1=this['_depthBuff'+'er']['_format'];_0x4b64c1===Ci||_0x4b64c1===la?(this['_depth']=!(0x1821+0x1d9d+-0x35be),this['_stencil']=!(0x21f0+0x3*0x4c1+-0x1*0x3032)):_0x4b64c1===vc?(this['_depth']=!(-0x2393*0x1+0x63d+0x1d56),this['_stencil']=!(-0x78e*-0x3+0x14b2+-0x4*0xad7)):_0x4b64c1===Ii&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>0x20ab*-0x1+-0x1b81+0x140f*0x3?(this['_depth']=!(0x6*0x340+0x7*-0x28f+-0x197),this['_stencil']=!(-0x1d*-0xe3+0x1b58+-0x350e)):(v['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(0x42b+0x83*0x25+-0x9*0x291),this['_stencil']=!(-0x1c9*-0x2+0x1b76+-0x1f07));}else this['_depth']=_0xe5ce21['depth']??!(-0x1*-0xe7f+0x389*0x1+-0x1208),this['_stencil']=_0xe5ce21['stencil']??!(0x5f+0xf75*0x2+0xb6*-0x2c);_0xe5ce21['colorBuffe'+'rs']&&(v['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0xe5ce21['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0xe5ce21['colorBuffe'+'rs'][-0x858+0x16d+0x6eb])),this['autoResolv'+'e']=_0xe5ce21['autoResolv'+'e']??!(-0x1c41*-0x1+-0x1*0x2081+0x440),this['name']=_0xe5ce21['name'],this['name']||(this['name']=(_0x54b0ce=this['_colorBuff'+'er'])==null?void(0x18be+0x3c7*0x7+-0x332f*0x1):_0x54b0ce['name']),this['name']||(this['name']=(_0x1553e0=this['_depthBuff'+'er'])==null?void(-0xcd1+-0x1dda+0x2aab):_0x1553e0['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0xe5ce21['flipY']??!(0x24c8+0x3*-0x727+-0x1*0xf52),this['_mipLevel']=_0xe5ce21['mipLevel']??-0x5*0x3d6+-0x2*-0x4af+0x9d0,this['_mipLevel']>-0x1906+-0x1d8*-0x8+0x107*0xa&&this['_depth']&&(v['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0xe5ce21}),this['_mipLevel']=0x1*-0x680+0x7f8*0x3+-0x1168),this['_mipmaps']=_0xe5ce21['mipLevel']===void(0x6*-0x265+-0x2162*-0x1+-0x1304),this['validateMr'+'t'](),this['impl']=_0x3399f7['createRend'+'erTargetIm'+'pl'](this),v['trace'](Yp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x5ee8de=this['_colorBuff'+'ers'])!=null&&_0x5ee8de['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){v['trace'](Yp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x16c88d=this['_device'];_0x16c88d&&(_0x16c88d['targets']['delete'](this),_0x16c88d['renderTarg'+'et']===this&&_0x16c88d['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x1aeb4b=this['_device'];_0x1aeb4b&&this['impl']['destroy'](_0x1aeb4b);}['destroyTex'+'tureBuffer'+'s'](){var _0x1b10a9,_0x17cc60;(_0x1b10a9=this['_depthBuff'+'er'])==null||_0x1b10a9['destroy'](),this['_depthBuff'+'er']=null,(_0x17cc60=this['_colorBuff'+'ers'])==null||_0x17cc60['forEach'](_0x10d409=>{_0x10d409['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x17f5ac,_0x3c3aa7){var _0x49d3eb,_0x196600;if(this['width']!==_0x17f5ac||this['height']!==_0x3c3aa7){if(this['mipLevel']>-0x2359+-0x1be3+-0x39*-0x11c){v['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x53080a=this['_device'];this['destroyFra'+'meBuffers'](),_0x53080a['renderTarg'+'et']===this&&_0x53080a['setRenderT'+'arget'](null),(_0x49d3eb=this['_depthBuff'+'er'])==null||_0x49d3eb['resize'](_0x17f5ac,_0x3c3aa7),(_0x196600=this['_colorBuff'+'ers'])==null||_0x196600['forEach'](_0x41a1e6=>{_0x41a1e6['resize'](_0x17f5ac,_0x3c3aa7);}),this['validateMr'+'t'](),this['impl']=_0x53080a['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){v['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x1da817,height:_0x2f8196,cubemap:_0x6dbbac,volume:_0x2b73dc}=this['_colorBuff'+'ers'][0x158a+0xc20+0x2*-0x10d5];for(let _0x1fb51f=-0x1*-0xd4e+-0x1abe+0x25*0x5d;_0x1fb51f<this['_colorBuff'+'ers']['length'];_0x1fb51f++){const _0x5f16cd=this['_colorBuff'+'ers'][_0x1fb51f];v['assert'](_0x5f16cd['width']===_0x1da817,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),v['assert'](_0x5f16cd['height']===_0x2f8196,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),v['assert'](_0x5f16cd['cubemap']===_0x6dbbac,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),v['assert'](_0x5f16cd['volume']===_0x2b73dc,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x39c4ab=!(-0x1467*0x1+-0x298*-0x9+-0xfb*0x3),_0x3bcadc=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>-0x1bb*-0x12+0x2375+0x136*-0x37&&(G['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x39c4ab?'[color]':'')+':'+(_0x3bcadc?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x39c4ab,_0x3bcadc),G['popGpuMark'+'er'](this['_device']));}['copy'](_0x246007,_0x3b16a6,_0x9f834c){if(!this['_device']){if(_0x246007['_device'])this['_device']=_0x246007['_device'];else return v['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(0xe3a+0x23b*-0x7+-0x59*-0x4);}G['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x246007['name']+'->'+this['name']);const _0x267aad=this['_device']['copyRender'+'Target'](_0x246007,this,_0x3b16a6,_0x9f834c);return G['popGpuMark'+'er'](this['_device']),_0x267aad;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x24dac7){var _0x180de9;return(_0x180de9=this['_colorBuff'+'ers'])==null?void(-0xa*0x24e+0x8d*-0x31+-0x3209*-0x1):_0x180de9[_0x24dac7];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x5cd7c0,_0x393289;let _0x191b41=((_0x5cd7c0=this['_colorBuff'+'er'])==null?void(0x1*-0x3d+0x69d*-0x1+-0x36d*-0x2):_0x5cd7c0['width'])||((_0x393289=this['_depthBuff'+'er'])==null?void(-0x1*0x347+-0x1b*-0x8a+0x1*-0xb47):_0x393289['width'])||this['_device']['width'];return this['_mipLevel']>-0x190f+-0x227b+0x1dc5*0x2&&(_0x191b41=Mi['calcLevelD'+'imension'](_0x191b41,this['_mipLevel'])),_0x191b41;}get['height'](){var _0x39ef84,_0x141953;let _0x44b6af=((_0x39ef84=this['_colorBuff'+'er'])==null?void(-0xe5*-0x1b+-0x469+-0xe*0x169):_0x39ef84['height'])||((_0x141953=this['_depthBuff'+'er'])==null?void(-0x10c2+-0x141*-0x3+-0x455*-0x3):_0x141953['height'])||this['_device']['height'];return this['_mipLevel']>-0x38c*-0xb+-0x2*0x6de+-0x1948&&(_0x44b6af=Mi['calcLevelD'+'imension'](_0x44b6af,this['_mipLevel'])),_0x44b6af;}['isColorBuf'+'ferSrgb'](_0x575c6c=0x8d7+0x2b*0x29+-0xfba){if(this['device']['backBuffer']===this)return Mh(this['device']['backBuffer'+'Format']);const _0x38db7c=this['getColorBu'+'ffer'](_0x575c6c);return _0x38db7c?Mh(_0x38db7c['format']):!(0x2*-0x2b7+-0x2576+0x2ae5);}}const Wv={'equals'(_0x51c5d4,_0x592c3c){if(_0x51c5d4['length']!==_0x592c3c['length'])return!(-0x2443+-0x1*0x1b1f+0x3f63);for(let _0x230c2c=0x8b*-0x3f+0x87*-0x2e+0x3a77;_0x230c2c<_0x51c5d4['length'];_0x230c2c++)if(_0x51c5d4[_0x230c2c]!==_0x592c3c[_0x230c2c])return!(-0x1c01+-0xeef*-0x1+0xd13);return!(-0x1*0x1246+0x172a+-0x2*0x272);}};class Gc{constructor(){c(this,'_refCount',-0x1dc4+0xc2f*-0x3+0x1*0x4251);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class $v extends Gc{constructor(_0x12e207){super(),c(this,'object'),(this['object']=_0x12e207,this['incRefCoun'+'t']());}}class qv{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x4a9a83=>{var _0x55eba8;(_0x55eba8=_0x4a9a83['object'])==null||_0x55eba8['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x260988){const _0x5db3d5=this['cache']['get'](_0x260988);return _0x5db3d5?(_0x5db3d5['incRefCoun'+'t'](),_0x5db3d5['object']):null;}['set'](_0x1185a7,_0x2d93bf){v['assert'](!this['cache']['has'](_0x1185a7),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x1185a7,'object':_0x2d93bf}),this['cache']['set'](_0x1185a7,new $v(_0x2d93bf));}['release'](_0x39de49){var _0x29affa;const _0x4c80d2=this['cache']['get'](_0x39de49);_0x4c80d2?(_0x4c80d2['decRefCoun'+'t'](),_0x4c80d2['refCount']===-0x1*-0x6d0+-0xa*0x244+-0x6*-0x2a4&&(this['cache']['delete'](_0x39de49),(_0x29affa=_0x4c80d2['object'])==null||_0x29affa['destroy']())):v['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x39de49});}}class Xv extends qv{['loseContex'+'t'](_0x5ad1fa){this['clear']();}}const jv=new Ot(),od=_0x52caf7=>jv['get'](_0x52caf7,()=>new Xv()),ot=[];ot[$s]=0x4e*-0x5c+0x564+0x16a5,ot[or]=-0x14e3+0x430+0x10b5,ot[$t]=0x9d3+0x23a5+-0x2d75,ot[xa]=-0x23d*-0x4+0x23e6*0x1+-0x2cd6,ot[ln]=0xb48*0x1+-0x27a+-0x8cd,ot[Zr]=-0x11fd+-0x1*-0x248d+0xa*-0x1db,ot[Qr]=0x10dc*-0x1+-0x4fb*-0x2+0x6e9,ot[Jr]=0x1772*-0x1+0x61e+0x25*0x78,ot[ca]=0x366+0x23e4+0x2749*-0x1,ot[Lo]=0x266a+-0xb7d+0x3*-0x8f9,ot[Fo]=0x1ebe+0x2322*-0x1+0x467,ot[Oo]=0x53*0x2b+-0x1e85+0x6*0x2c4,ot[Rh]=0x7*0x329+-0x1bf6+-0x5df*-0x1,ot[ko]=-0x54*0x6d+-0x1ffa+0x21e5*0x2,ot[Sa]=-0x4*0x5eb+0x24f5*-0x1+0x3cb1,ot[va]=0x3*0x128+-0xd*0x2a9+0x1f1e,ot[ba]=0x17d4+-0x11d1*-0x1+-0xd1*0x33,ot[wa]=-0x1507+-0x17bb+0x2cc5,ot[Ta]=-0x3f1*0x5+-0x265*0x9+0x1*0x2946;class gt{constructor(_0x127085,_0x273266,_0x930f3c=0x86b*-0x1+0x1fc7+0x12b*-0x14){c(this,'name'),c(this,'type'),c(this,'byteSize'),c(this,'offset'),c(this,'scopeId'),c(this,'count'),c(this,'numCompone'+'nts');if(this['shortName']=_0x127085,this['name']=_0x930f3c?_0x127085+'[0]':_0x127085,this['type']=_0x273266,this['numCompone'+'nts']=ot[_0x273266],v['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x273266+'\x20used\x20for\x20'+_0x127085),this['updateType']=_0x273266,_0x930f3c>-0x1e67+0x4*-0x119+0x22cb)switch(_0x273266){case $s:this['updateType']=Dc;break;case ln:this['updateType']=Aa;break;case va:this['updateType']=Oc;break;case ca:this['updateType']=kc;break;case or:this['updateType']=Lc;break;case Zr:this['updateType']=Ea;break;case ba:this['updateType']=Bc;break;case Lo:this['updateType']=Nc;break;case $t:this['updateType']=Fc;break;case Qr:this['updateType']=Ca;break;case wa:this['updateType']=zc;break;case Fo:this['updateType']=Uc;break;case xa:this['updateType']=lp;break;case Jr:this['updateType']=Ih;break;case Ta:this['updateType']=hp;break;case Oo:this['updateType']=cp;break;case Sa:this['updateType']=Ny;break;default:v['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+dp[_0x273266]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x127085+'\x27.'),v['call'](()=>{this['invalid']=!(0xc*-0x1ef+-0xb08*-0x2+0x49*0x4);});break;}this['count']=_0x930f3c,v['assert'](!isNaN(_0x930f3c),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x127085+'['+_0x930f3c+']'),v['call'](()=>{isNaN(_0x930f3c)&&(this['invalid']=!(-0x14c1+0x251e+-0x3b*0x47));});let _0x1554d5=this['numCompone'+'nts'];_0x930f3c&&(_0x1554d5=N['roundUp'](_0x1554d5,-0x2*0x87e+-0x30*0x7f+0x28d0)),this['byteSize']=_0x1554d5*(-0x5e6+-0x8b4+-0x2*-0x74f),_0x930f3c&&(this['byteSize']*=_0x930f3c),v['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x273266+'\x20used\x20for\x20'+_0x127085);}get['isArrayTyp'+'e'](){return this['count']>-0x1*0x115b+0x7c*0x37+-0x1*0x949;}['calculateO'+'ffset'](_0x475d34){let _0x1d8c26=this['byteSize']<=0xbcc+-0x96d+-0x257*0x1?this['byteSize']:0x72e+0x1ab4+-0x21d2;this['count']&&(_0x1d8c26=0x26c7+0x106a+-0x1*0x3721),_0x475d34=N['roundUp'](_0x475d34,_0x1d8c26),this['offset']=_0x475d34/(-0xcd9+-0x2194+0x2e71);}}class Qy{constructor(_0x3e8441,_0x5f271e){c(this,'byteSize',0x1643+0xa*-0x86+-0x1107),c(this,'map',new Map()),(this['scope']=_0x3e8441['scope'],this['uniforms']=_0x5f271e);let _0x24f39d=0xf1*0x1f+-0x981+0x13ae*-0x1;for(let _0x1f0825=-0x1f66+0x3e*-0x55+0x33fc;_0x1f0825<_0x5f271e['length'];_0x1f0825++){const _0x33608a=_0x5f271e[_0x1f0825];_0x33608a['calculateO'+'ffset'](_0x24f39d),_0x24f39d=_0x33608a['offset']*(0xe6b*-0x1+0x161*-0xb+-0x6*-0x4ef)+_0x33608a['byteSize'],_0x33608a['scopeId']=this['scope']['resolve'](_0x33608a['name']),this['map']['set'](_0x33608a['name'],_0x33608a);}this['byteSize']=N['roundUp'](_0x24f39d,-0x2698+0x1179+0x152f);}['get'](_0x1cc415){return this['map']['get'](_0x1cc415);}['getShaderD'+'eclaration'](_0x38fd2b,_0x518731){const _0x3e9481=xv[_0x38fd2b];let _0x409aa2='layout(set'+'\x20=\x20'+_0x38fd2b+(',\x20binding\x20'+'=\x20')+_0x518731+(',\x20std140)\x20'+'uniform\x20ub'+'_')+_0x3e9481+'\x20{\x0a';return this['uniforms']['forEach'](_0x54641d=>{const _0x39b488=dp[_0x54641d['type']];v['assert'](_0x39b488['length']>-0x925*-0x3+0x2a*-0x17+0x3*-0x7e3,'Uniform\x20ty'+'pe\x20'+_0x54641d['type']+('\x20is\x20not\x20ha'+'ndled.')),_0x409aa2+='\x20\x20\x20\x20'+_0x39b488+'\x20'+_0x54641d['shortName']+(_0x54641d['count']?'['+_0x54641d['count']+']':'')+';\x0a';}),_0x409aa2+'};\x0a';}}const gr='Preprocess'+'or',fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,ld=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,Am=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,hd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,cd=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,dd=/(endif|else|elif)([ \t][^\r\n]+)?\r?(?:\n|$)/g,Em=/([\w-]+)/,Yv=/(!|\s)?defined\(([\w-]+)\)/,Kv=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,Zv=/[|&+-]/g,ud=/include[ \t]+"([\w-]+)"\r?(?:\n|$)/g,vs=class vs{static['run'](_0x118066,_0xce6091=new Map(),_0x3d910e={}){vs['sourceName']=_0x3d910e['sourceName'],_0x118066=this['stripComme'+'nts'](_0x118066),_0x118066=_0x118066['split'](/\r?\n/)['map'](_0x5732f2=>_0x5732f2['trimEnd']())['join']('\x0a');const _0x23ba32=new Map();if(_0x3d910e['stripUnuse'+'dColorAtta'+'chments']){const _0x249104=new Map(),_0x792cdc=/(pcFragColor[1-8])\b/g,_0x37a92d=_0x118066['match'](_0x792cdc);_0x37a92d==null||_0x37a92d['forEach'](_0x2950a1=>{const _0x52e37b=parseInt(_0x2950a1['charAt'](_0x2950a1['length']-(0x1c95+-0x7*-0xe9+-0x22f3*0x1)),0xf6e+-0x774+-0x4*0x1fc);_0x249104['set'](_0x52e37b,(_0x249104['get'](_0x52e37b)??0x2398+0x695*-0x1+0x425*-0x7)+(0x4*-0x1a3+-0x307*-0x9+-0x14b2));}),_0x249104['forEach']((_0x3ffbe2,_0x43c7e0)=>{_0x3ffbe2===-0x3d*-0x6b+-0x23cb+0x36f*0x3&&_0x23ba32['set']('REMOVE_COL'+'OR_ATTACHM'+'ENT_'+_0x43c7e0,'');});}_0x118066=this['_preproces'+'s'](_0x118066,_0x23ba32,_0xce6091,_0x3d910e['stripDefin'+'es']);const _0x1c9a19=new Map();_0x23ba32['forEach']((_0x11a0da,_0x2aa2ce)=>{Number['isInteger'](parseFloat(_0x11a0da))&&!_0x11a0da['includes']('.')&&_0x1c9a19['set'](_0x2aa2ce,_0x11a0da);});const _0x185810=new Map();return _0x23ba32['forEach']((_0x36f5d3,_0x3c38b6)=>{_0x3c38b6['startsWith']('__INJECT_')&&_0x185810['set'](_0x3c38b6,_0x36f5d3);}),_0x118066=this['stripComme'+'nts'](_0x118066),_0x118066=this['RemoveEmpt'+'yLines'](_0x118066),_0x118066=this['processArr'+'aySize'](_0x118066,_0x1c9a19),_0x118066=this['injectDefi'+'nes'](_0x118066,_0x185810),_0x118066;}static['stripComme'+'nts'](_0xb45256){return _0xb45256['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x13910a,_0x19288a){return _0x13910a!==null&&_0x19288a['forEach']((_0x3dc7d3,_0x4f59d2)=>{_0x13910a=_0x13910a['replace'](new RegExp('\x5c['+_0x4f59d2+'\x5c]','g'),'['+_0x3dc7d3+']');}),_0x13910a;}static['injectDefi'+'nes'](_0x4100e6,_0x494c4b){if(_0x4100e6!==null&&_0x494c4b['size']>-0x5d5*-0x3+0xffb+-0x1*0x217a){const _0x1b1030=_0x4100e6['split']('\x0a');_0x494c4b['forEach']((_0xc554c8,_0xad77c8)=>{const _0x3a5102=new RegExp('\x5cb'+_0xad77c8+'\x5cb','g');for(let _0x37e48b=-0x1d13+0x1d18+-0x5*0x1;_0x37e48b<_0x1b1030['length'];_0x37e48b++)_0x1b1030[_0x37e48b]['includes']('#')||(_0x1b1030[_0x37e48b]=_0x1b1030[_0x37e48b]['replace'](_0x3a5102,_0xc554c8));}),_0x4100e6=_0x1b1030['join']('\x0a');}return _0x4100e6;}static['RemoveEmpt'+'yLines'](_0x50ba3e){return _0x50ba3e!==null&&(_0x50ba3e=_0x50ba3e['split'](/\r?\n/)['map'](_0xb7d936=>_0xb7d936['trim']()===''?'':_0xb7d936)['join']('\x0a'),_0x50ba3e=_0x50ba3e['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x50ba3e;}static['_preproces'+'s'](_0x1b28d5,_0x5eb71f=new Map(),_0x7f62b8,_0x1ae7e2){const _0x3695=_0x1b28d5,_0x468a70=[];let _0x1865da=!(-0x14f*0x7+0x2448+-0x27*0xb2),_0x29df25;for(;(_0x29df25=fs['exec'](_0x1b28d5))!==null;){const _0x171bc6=_0x29df25[-0x760+-0x1be*-0x4+0x15*0x5];switch(_0x171bc6){case'define':{ld['lastIndex']=_0x29df25['index'];const _0x11d901=ld['exec'](_0x1b28d5);v['assert'](_0x11d901,'Invalid\x20['+_0x171bc6+']:\x20'+_0x1b28d5['substring'](_0x29df25['index'],_0x29df25['index']+(0x43*0x47+0x23*-0xc1+-0x1*-0x832))+'...'),_0x1865da||(_0x1865da=_0x11d901===null);const _0x464138=_0x11d901[-0x1814+-0x6b8*-0x4+0x5*-0x8f];Em['lastIndex']=_0x11d901['index'];const _0x4dcdb3=Em['exec'](_0x464138)[-0x4b7*0x6+0x5e9+0x1662];let _0x3bb0b6=_0x464138['substring'](_0x4dcdb3['length'])['trim']();_0x3bb0b6===''&&(_0x3bb0b6='true');const _0x47a9c7=vs['_keep'](_0x468a70);_0x47a9c7&&(_0x5eb71f['set'](_0x4dcdb3,_0x3bb0b6),_0x1ae7e2&&(_0x1b28d5=_0x1b28d5['substring'](-0x12ae+0x535+0x1*0xd79,_0x11d901['index']-(-0xd21*0x2+0xdf*-0x15+-0xeda*-0x3))+_0x1b28d5['substring'](ld['lastIndex']),fs['lastIndex']=_0x11d901['index']-(0x2152+-0x5*0x38d+-0x7c8*0x2))),v['trace'](gr,_0x171bc6+':\x20['+_0x4dcdb3+']\x20'+_0x3bb0b6+'\x20'+(_0x47a9c7?'':'IGNORED')),_0x1ae7e2||(fs['lastIndex']=_0x11d901['index']+_0x11d901[0x1021+0x1*0x11ed+-0x220e]['length']);break;}case'undef':{hd['lastIndex']=_0x29df25['index'];const _0xef3a74=hd['exec'](_0x1b28d5),_0x5cb45b=_0xef3a74[-0x10d*-0x17+-0x6d*0x57+0xce1]['trim'](),_0x1a9f96=vs['_keep'](_0x468a70);_0x1a9f96&&(_0x5eb71f['delete'](_0x5cb45b),_0x1ae7e2&&(_0x1b28d5=_0x1b28d5['substring'](-0x202*-0xa+0x1*-0x2ab+-0x1169,_0xef3a74['index']-(-0x664*-0x3+-0x3*0x62f+-0x9e))+_0x1b28d5['substring'](hd['lastIndex']),fs['lastIndex']=_0xef3a74['index']-(0x14ba+-0x13f7+-0xc2))),v['trace'](gr,_0x171bc6+':\x20['+_0x5cb45b+']\x20'+(_0x1a9f96?'':'IGNORED')),_0x1ae7e2||(fs['lastIndex']=_0xef3a74['index']+_0xef3a74[-0x1525+0xba+0x146b]['length']);break;}case'extension':{Am['lastIndex']=_0x29df25['index'];const _0x2f3e56=Am['exec'](_0x1b28d5);if(v['assert'](_0x2f3e56,'Invalid\x20['+_0x171bc6+']:\x20'+_0x1b28d5['substring'](_0x29df25['index'],_0x29df25['index']+(-0xffc+-0x18a*0x11+0x2a8a))+'...'),_0x1865da||(_0x1865da=_0x2f3e56===null),_0x2f3e56){const _0x409096=_0x2f3e56[0xfc4+0x685*0x1+-0x1648],_0x5e65d3=vs['_keep'](_0x468a70);_0x5e65d3&&_0x5eb71f['set'](_0x409096,'true'),v['trace'](gr,_0x171bc6+':\x20['+_0x409096+']\x20'+(_0x5e65d3?'':'IGNORED'));}fs['lastIndex']=_0x2f3e56['index']+_0x2f3e56[-0x123f+0x1*-0x1cc0+-0x2eff*-0x1]['length'];break;}case'ifdef':case'ifndef':case'if':{cd['lastIndex']=_0x29df25['index'];const _0x317bd5=cd['exec'](_0x1b28d5),_0x2e20ba=_0x317bd5[0x1669+0x61*-0x3e+0x117],_0x4f8d2f=vs['evaluate'](_0x2e20ba,_0x5eb71f);_0x1865da||(_0x1865da=_0x4f8d2f['error']);let _0x18dd11=_0x4f8d2f['result'];_0x171bc6==='ifndef'&&(_0x18dd11=!_0x18dd11),_0x468a70['push']({'anyKeep':_0x18dd11,'keep':_0x18dd11,'start':_0x29df25['index'],'end':cd['lastIndex']}),v['trace'](gr,_0x171bc6+':\x20['+_0x2e20ba+']\x20=>\x20'+_0x18dd11),fs['lastIndex']=_0x317bd5['index']+_0x317bd5[-0x1279+-0x73*-0x49+-0xe52]['length'];break;}case'endif':case'else':case'elif':{dd['lastIndex']=_0x29df25['index'];const _0xfa2552=dd['exec'](_0x1b28d5),_0xaa8ffa=_0x468a70['pop'](),_0x3da2d3=_0xaa8ffa['keep']?_0x1b28d5['substring'](_0xaa8ffa['end'],_0x29df25['index']):'';v['trace'](gr,_0x171bc6+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x3da2d3!=='')),_0x1b28d5=_0x1b28d5['substring'](0x5ad*-0x5+0x12*0x218+-0x94f,_0xaa8ffa['start'])+_0x3da2d3+_0x1b28d5['substring'](dd['lastIndex']),fs['lastIndex']=_0xaa8ffa['start']+_0x3da2d3['length'];const _0x2b4e79=_0xfa2552[0x1*0xdfb+0x89*0x1+-0xe83];if(_0x2b4e79==='else'||_0x2b4e79==='elif'){let _0x1bef67=!(0x20+0x1465+0xd*-0x194);if(!_0xaa8ffa['anyKeep']){if(_0x2b4e79==='else')_0x1bef67=!_0xaa8ffa['keep'];else{const _0x2e0aac=vs['evaluate'](_0xfa2552[-0x245d+-0x1085+0x54a*0xa],_0x5eb71f);_0x1bef67=_0x2e0aac['result'],_0x1865da||(_0x1865da=_0x2e0aac['error']);}}_0x468a70['push']({'anyKeep':_0xaa8ffa['anyKeep']||_0x1bef67,'keep':_0x1bef67,'start':fs['lastIndex'],'end':fs['lastIndex']}),v['trace'](gr,_0x171bc6+':\x20['+_0xfa2552[-0xb2d+0x2559+-0x2*0xd15]+']\x20=>\x20'+_0x1bef67);}break;}case'include':{ud['lastIndex']=_0x29df25['index'];const _0x59fc73=ud['exec'](_0x1b28d5);_0x1865da||(_0x1865da=_0x59fc73===null),v['assert'](_0x59fc73,'Invalid\x20['+_0x171bc6+']:\x20'+_0x1b28d5['substring'](_0x29df25['index'],_0x29df25['index']+(-0xe53*0x1+0x886+0x631))+'...');const _0x425072=_0x59fc73[0x8d5+-0x1*0x1037+0x763]['trim'](),_0x1dc1d5=vs['_keep'](_0x468a70);if(_0x1dc1d5){const _0x3ff901=_0x7f62b8==null?void(0xb2+-0x1acb+0x1*0x1a19):_0x7f62b8['get'](_0x425072);_0x3ff901!==void(-0x12b1+0x2376+-0x35*0x51)?(_0x1b28d5=_0x1b28d5['substring'](0x1a3b+0x131*-0x1e+-0x1*-0x983,_0x59fc73['index']-(0x22f9*-0x1+-0x18dc+0x3bd6))+_0x3ff901+_0x1b28d5['substring'](ud['lastIndex']),fs['lastIndex']=_0x59fc73['index']-(-0x1eb7+-0x669*-0x3+0x11*0xad)):(console['error']('Include\x20\x22'+_0x425072+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+vs['sourceName'],{'source':_0x3695}),_0x1865da=!(-0x1*0x1a73+-0x1*-0x755+0x131e));}v['trace'](gr,_0x171bc6+':\x20['+_0x425072+']\x20'+(_0x1dc1d5?'':'IGNORED'));break;}}}return _0x1865da?(console['warn']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x3695}),_0x3695):_0x1b28d5;}static['_keep'](_0x973905){for(let _0x5db0c6=-0x5d*0x11+0xca*-0xd+-0x259*-0x7;_0x5db0c6<_0x973905['length'];_0x5db0c6++)if(!_0x973905[_0x5db0c6]['keep'])return!(0x5c4+0x2d*-0x1+-0x596*0x1);return!(-0x2024+-0x25e6+0x37*0x146);}static['evaluate'](_0x10cb79,_0x32715e){const _0x844854=Zv['exec'](_0x10cb79)===null;v['assert'](_0x844854,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x10cb79);let _0xc9c7cd=!(-0x118a*-0x1+0x2f*0x30+0x1a59*-0x1);const _0x23d6a8=Yv['exec'](_0x10cb79);_0x23d6a8&&(_0xc9c7cd=_0x23d6a8[0x724+-0xb07+0xa6*0x6]==='!',_0x10cb79=_0x23d6a8[0x1*-0x1a21+-0xd*-0x1c6+0x315]);const _0x5f1f9d=Kv['exec'](_0x10cb79);if(_0x5f1f9d){const _0x509651=_0x32715e['get'](_0x5f1f9d[-0x112*0x3+0x780+-0x449*0x1])??_0x5f1f9d[0x5be+-0x1*0x4a9+-0x114],_0xb4887=_0x32715e['get'](_0x5f1f9d[-0x98d*-0x1+0x2143+0x2acd*-0x1])??_0x5f1f9d[0x2*-0x337+0x80f+-0x6*0x45],_0x3ab1e3=_0x5f1f9d[-0x1b5d+-0xd29+0x2888];let _0x56cef8=!(-0x138a+-0x132c+-0xbb*-0x35);switch(_0x3ab1e3){case'==':_0x56cef8=_0x509651===_0xb4887;break;case'!=':_0x56cef8=_0x509651!==_0xb4887;break;case'<':_0x56cef8=_0x509651<_0xb4887;break;case'<=':_0x56cef8=_0x509651<=_0xb4887;break;case'>':_0x56cef8=_0x509651>_0xb4887;break;case'>=':_0x56cef8=_0x509651>=_0xb4887;break;}return{'result':_0x56cef8,'error':!_0x844854};}_0x10cb79=_0x10cb79['trim']();let _0x4a268b=_0x32715e['has'](_0x10cb79);return _0xc9c7cd&&(_0x4a268b=!_0x4a268b),{'result':_0x4a268b,'error':!_0x844854};}};c(vs,'sourceName');let Oh=vs;const Jy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pc_fragC'+'olor;\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_1'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_1\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_2\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'2\x0alayout(l'+'ocation\x20=\x20'+'2)\x20out\x20hig'+'hp\x20outType'+'_2\x20pc_frag'+'Color2;\x0a#e'+'ndif\x0a#endi'+'f\x0a\x0a#ifndef'+'\x20REMOVE_CO'+'LOR_ATTACH'+'MENT_3\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_3\x0a'+'layout(loc'+'ation\x20=\x203)'+'\x20out\x20highp'+'\x20outType_3'+'\x20pc_fragCo'+'lor3;\x0a#end'+'if\x0a#endif\x0a'+'\x0a#ifndef\x20R'+'EMOVE_COLO'+'R_ATTACHME'+'NT_4\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'c_fragColo'+'r4;\x0a#endif'+'\x0a#endif\x0a\x0a#'+'ifndef\x20REM'+'OVE_COLOR_'+'ATTACHMENT'+'_5\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_5\x0alayo'+'ut(locatio'+'n\x20=\x205)\x20out'+'\x20highp\x20out'+'Type_5\x20pc_'+'fragColor5'+';\x0a#endif\x0a#'+'endif\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_6'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_6\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_7\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'7\x0alayout(l'+'ocation\x20=\x20'+'7)\x20out\x20hig'+'hp\x20outType'+'_7\x20pc_frag'+'Color7;\x0a#e'+'ndif\x0a#endi'+('f\x0a\x0a#define'+'\x20gl_FragCo'+'lor\x20pc_fra'+'gColor\x0a\x0a#d'+'efine\x20pcFr'+'agColor0\x20p'+'c_fragColo'+'r\x0a#define\x20'+'pcFragColo'+'r1\x20pc_frag'+'Color1\x0a#de'+'fine\x20pcFra'+'gColor2\x20pc'+'_fragColor'+'2\x0a#define\x20'+'pcFragColo'+'r3\x20pc_frag'+'Color3\x0a#de'+'fine\x20pcFra'+'gColor4\x20pc'+'_fragColor'+'4\x0a#define\x20'+'pcFragColo'+'r5\x20pc_frag'+'Color5\x0a#de'+'fine\x20pcFra'+'gColor6\x20pc'+'_fragColor'+'6\x0a#define\x20'+'pcFragColo'+'r7\x20pc_frag'+'Color7\x0a\x0a#d'+'efine\x20vary'+'ing\x20in\x0a\x0a#d'+'efine\x20text'+'ure2D\x20text'+'ure\x0a#defin'+'e\x20texture2'+'DBias\x20text'+'ure\x0a#defin'+'e\x20textureC'+'ube\x20textur'+'e\x0a#define\x20'+'texture2DP'+'roj\x20textur'+'eProj\x0a#def'+'ine\x20textur'+'e2DLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+'ure2DProjL'+'od\x20texture'+'ProjLod\x0a#d'+'efine\x20text'+'ureCubeLod'+'\x20textureLo'+'d\x0a#define\x20'+'texture2DG'+'rad\x20textur'+'eGrad\x0a#def'+'ine\x20textur'+'e2DProjGra'+'d\x20textureP'+'rojGrad\x0a#d'+'efine\x20text'+'ureCubeGra'+'d\x20textureG'+'rad\x0a#defin'+'e\x20utexture'+'2D\x20texture'+'\x0a#define\x20i'+'texture2D\x20'+'texture\x0a\x0a/'+'/\x20deprecat'+'ed\x20defines'+'\x0a#define\x20t'+'exture2DLo'+'dEXT\x20textu'+'re2DLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xture2DLod'+'_instead\x0a#'+'define\x20tex'+'ture2DProj'+'LodEXT\x20tex'+'ture2DProj'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjLod'+'\x0a#define\x20t'+'extureCube'+'LodEXT\x20tex'+'tureCubeLo'+'dEXT_is_no'+'_longer_su'+'pported_us')+('e_textureC'+'ubeLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DGradEXT\x20'+'texture2DG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DGrad_in'+'stead\x0a#def'+'ine\x20textur'+'e2DProjGra'+'dEXT\x20textu'+'re2DProjGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'2DProjGrad'+'_instead\x0a#'+'define\x20tex'+'tureCubeGr'+'adEXT\x20text'+'ureCubeGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_textureC'+'ubeGrad_in'+'stead\x0a\x0a//\x20'+'sample\x20sha'+'dows\x20using'+'\x20textureGr'+'ad\x20to\x20remo'+'ve\x20derivat'+'ives\x20in\x20th'+'e\x20dynamic\x20'+'loops\x20(whi'+'ch\x20are\x20use'+'d\x20by\x0a//\x20cl'+'ustered\x20li'+'ghting)\x20-\x20'+'as\x20DirectX'+'\x20shader\x20co'+'mpiler\x20tri'+'es\x20to\x20unro'+'ll\x20the\x20loo'+'ps\x20and\x20tak'+'es\x20long\x20ti'+'me\x0a//\x20to\x20c'+'ompile\x20the'+'\x20shader.\x20U'+'sing\x20textu'+'reLod\x20woul'+'d\x20be\x20even\x20'+'better,\x20bu'+'t\x20WebGl\x20do'+'es\x20not\x20tra'+'nslate\x20it\x20'+'to\x0a//\x20lod\x20'+'instructio'+'n\x20for\x20Dire'+'ctX\x20correc'+'tly\x20and\x20us'+'es\x20SampleC'+'mp\x20instead'+'\x20of\x20Sample'+'CmpLevelZe'+'ro\x20or\x20simi'+'lar.\x0a#defi'+'ne\x20texture'+'Shadow(res'+',\x20uv)\x20text'+'ureGrad(re'+'s,\x20uv,\x20vec'+'2(1,\x201),\x20v'+'ec2(1,\x201))'+'\x0a\x0a//\x20pass\x20'+'/\x20accept\x20s'+'hadow\x20map\x20'+'or\x20texture'+'\x20as\x20a\x20func'+'tion\x20param'+'eter,\x20on\x20w'+'ebgl\x20this\x20'+'is\x20simply\x20'+'passed\x20as\x20'+'is\x0a//\x20but\x20'+'this\x20is\x20ne'+'eded\x20for\x20W'+'ebGPU\x0a#def'+'ine\x20SHADOW'+'MAP_PASS(n'+'ame)\x20name\x0a'+'#define\x20SH'+'ADOWMAP_AC'+'CEPT(name)'+'\x20sampler2D')+('Shadow\x20nam'+'e\x0a#define\x20'+'TEXTURE_PA'+'SS(name)\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20sampler'+'2D\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'_HIGHP(nam'+'e)\x20highp\x20s'+'ampler2D\x20n'+'ame\x0a\x0a#defi'+'ne\x20GL2\x0a'),e0='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',t0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pc_fragCol'+'or;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'layout(loc'+'ation\x20=\x202)'+'\x20out\x20highp'+'\x20outType_2'+'\x20pc_fragCo'+'lor2;\x0alayo'+'ut(locatio'+'n\x20=\x203)\x20out'+'\x20highp\x20out'+'Type_3\x20pc_'+'fragColor3'+';\x0alayout(l'+'ocation\x20=\x20'+'4)\x20out\x20hig'+'hp\x20outType'+'_4\x20pc_frag'+'Color4;\x0ala'+'yout(locat'+'ion\x20=\x205)\x20o'+'ut\x20highp\x20o'+'utType_5\x20p'+'c_fragColo'+'r5;\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'layout(loc'+'ation\x20=\x207)'+'\x20out\x20highp'+'\x20outType_7'+'\x20pc_fragCo'+'lor7;\x0a\x0a#de'+'fine\x20gl_Fr'+'agColor\x20pc'+'_fragColor'+'\x0a\x0a#define\x20'+'pcFragColo'+'r0\x20pc_frag'+'Color\x0a#def'+('ine\x20pcFrag'+'Color1\x20pc_'+'fragColor1'+'\x0a#define\x20p'+'cFragColor'+'2\x20pc_fragC'+'olor2\x0a#def'+'ine\x20pcFrag'+'Color3\x20pc_'+'fragColor3'+'\x0a#define\x20p'+'cFragColor'+'4\x20pc_fragC'+'olor4\x0a#def'+'ine\x20pcFrag'+'Color5\x20pc_'+'fragColor5'+'\x0a#define\x20p'+'cFragColor'+'6\x20pc_fragC'+'olor6\x0a#def'+'ine\x20pcFrag'+'Color7\x20pc_'+'fragColor7'+'\x0a\x0a#define\x20'+'texture2D('+'res,\x20uv)\x20t'+'exture(sam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a#defin'+'e\x20texture2'+'DBias(res,'+'\x20uv,\x20bias)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20bias'+')\x0a#define\x20'+'texture2DL'+'od(res,\x20uv'+',\x20lod)\x20tex'+'tureLod(sa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv,\x20lod)\x0a'+'#define\x20te'+'xtureCube('+'res,\x20uv)\x20t'+'exture(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20textur'+'eCubeLod(r'+'es,\x20uv,\x20lo'+'d)\x20texture'+'Lod(sample'+'rCube(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x20lod)\x0a#d'+'efine\x20text'+'ureShadow('+'res,\x20uv)\x20t'+'extureLod('+'sampler2DS'+'hadow(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x200.0)\x0a#d'+'efine\x20itex'+'ture2D(res'+',\x20uv)\x20text'+'ure(isampl'+'er2D(res,\x20'+'res\x20##\x20_sa'+'mpler),\x20uv'+')\x0a#define\x20'+'utexture2D'+'(res,\x20uv)\x20'+'texture(us'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a\x0a//\x20'+'deprecated'+'\x20defines\x0a#'+'define\x20tex'+'ture2DLodE'+'XT\x20texture'+'2DLodEXT_i'+'s_no_longe'+'r_supporte'+'d_use_text'+'ure2DLod_i')+('nstead\x0a#de'+'fine\x20textu'+'re2DProjLo'+'dEXT\x20textu'+'re2DProjLo'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DProjLod\x0a#'+'define\x20tex'+'tureCubeLo'+'dEXT\x20textu'+'reCubeLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eLod_inste'+'ad\x0a#define'+'\x20texture2D'+'GradEXT\x20te'+'xture2DGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DGrad_inst'+'ead\x0a#defin'+'e\x20texture2'+'DProjGradE'+'XT\x20texture'+'2DProjGrad'+'EXT_is_no_'+'longer_sup'+'ported_use'+'_texture2D'+'ProjGrad_i'+'nstead\x0a#de'+'fine\x20textu'+'reCubeGrad'+'EXT\x20textur'+'eCubeGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eGrad_inst'+'ead\x0a\x0a//\x20TO'+'DO:\x20implem'+'ent\x20other\x20'+'texture\x20sa'+'mpling\x20mac'+'ros\x0a//\x20#de'+'fine\x20textu'+'re2DProj\x20t'+'extureProj'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a//\x20#de'+'fine\x20textu'+'re2DGrad\x20t'+'extureGrad'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjGrad\x20'+'texturePro'+'jGrad\x0a//\x20#'+'define\x20tex'+'tureCubeGr'+'ad\x20texture'+'Grad\x0a\x0a//\x20p'+'ass\x20/\x20acce'+'pt\x20shadow\x20'+'map\x20as\x20a\x20f'+'unction\x20pa'+'rameter,\x20p'+'asses\x20both'+'\x20the\x20textu'+'re\x20as\x20well'+'\x20as\x20sample'+'r\x0a//\x20as\x20th'+'e\x20combined'+'\x20sampler\x20c'+'an\x20be\x20only'+'\x20created\x20a'+'t\x20a\x20point\x20'+'of\x20use\x0a#de'+'fine\x20SHADO'+'WMAP_PASS('+'name)\x20name'+',\x20name\x20##\x20'+'_sampler\x0a#'+'define\x20SHA'+'DOWMAP_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp')+('ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_PAS'+'S(name)\x20na'+'me,\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp'+'ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT_HIGHP\x20'+'TEXTURE_AC'+'CEPT\x0a\x0a#def'+'ine\x20GL2\x0a#d'+'efine\x20WEBG'+'PU\x0a'),s0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',Cm='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',Qv={'vertex_position':He,'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_texCoord2':jo,'vertex_texCoord3':Yo,'vertex_texCoord4':Ko,'vertex_texCoord5':Zo,'vertex_texCoord6':Qo,'vertex_texCoord7':Jo,'vertex_color':At,'vertex_boneIndices':qt,'vertex_boneWeights':Ys};class Mt{static['createDefi'+'nition'](_0x5b22cf,_0x1c56e){v['assert'](_0x1c56e),v['assert'](!_0x1c56e['vertexDefi'+'nes']||_0x1c56e['vertexDefi'+'nes']instanceof Map),v['assert'](!_0x1c56e['vertexIncl'+'udes']||_0x1c56e['vertexIncl'+'udes']instanceof Map),v['assert'](!_0x1c56e['fragmentDe'+'fines']||_0x1c56e['fragmentDe'+'fines']instanceof Map),v['assert'](!_0x1c56e['fragmentIn'+'cludes']||_0x1c56e['fragmentIn'+'cludes']instanceof Map);const _0x558356=(_0x2df068,_0x5931df,_0x6c2781,_0x3d8f56)=>{const _0x33fa75=_0x5b22cf['isWebGPU']?_0x2df068:_0x5931df;let _0x4f8807='';if(!_0x6c2781){let _0x2397da=_0x3d8f56['fragmentOu'+'tputTypes']??'vec4';Array['isArray'](_0x2397da)||(_0x2397da=[_0x2397da]);for(let _0x1edb8d=-0x1a18+0x1192+0x886*0x1;_0x1edb8d<_0x5b22cf['maxColorAt'+'tachments'];_0x1edb8d++){_0x4f8807+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x1edb8d+'\x0a';const _0x187046=_0x2397da[_0x1edb8d]??'vec4';_0x4f8807+='#define\x20ou'+'tType_'+_0x1edb8d+'\x20'+_0x187046+'\x0a';}}return _0x4f8807+_0x33fa75;},_0x273427=_0x1c56e['name']??'Untitled';let _0x353f7b,_0x5395cf;return _0x1c56e['shaderLang'+'uage']===Ph?(_0x353f7b=_0x1c56e['vertexCode'],_0x5395cf=_0x1c56e['fragmentCo'+'de']):(_0x353f7b=Mt['versionCod'+'e'](_0x5b22cf)+_0x558356(s0,e0,!(-0x10f+0x1*-0x3a9+0x4*0x12e),_0x1c56e)+Mt['getDefines'+'Code'](_0x1c56e['vertexDefi'+'nes'])+Mt['precisionC'+'ode'](_0x5b22cf)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x273427)+_0x1c56e['vertexCode'],_0x5395cf=(_0x1c56e['fragmentPr'+'eamble']||'')+Mt['versionCod'+'e'](_0x5b22cf)+_0x558356(t0,Jy,!(-0xc1*-0x1d+-0x11a0+-0x1*0x43c),_0x1c56e)+Mt['getDefines'+'Code'](_0x1c56e['fragmentDe'+'fines'])+Mt['precisionC'+'ode'](_0x5b22cf)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x273427)+(_0x1c56e['fragmentCo'+'de']||Mt['dummyFragm'+'entCode']())),{'name':_0x273427,'shaderLanguage':_0x1c56e['shaderLang'+'uage']??ky,'attributes':_0x1c56e['attributes'],'vshader':_0x353f7b,'vincludes':_0x1c56e['vertexIncl'+'udes'],'fincludes':_0x1c56e['fragmentIn'+'cludes'],'fshader':_0x5395cf,'useTransformFeedback':_0x1c56e['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x1c56e['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x1c56e['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0xb6c615){let _0x255dea='';return _0xb6c615==null||_0xb6c615['forEach']((_0x1bda70,_0x5dbea4)=>{_0x255dea+='#define\x20'+_0x5dbea4+'\x20'+_0x1bda70+'\x0a';}),_0x255dea;}static['getShaderN'+'ameCode'](_0x7c52f8){return'#define\x20SH'+'ADER_NAME\x20'+_0x7c52f8+'\x0a';}static['dummyFragm'+'entCode'](){return'void\x20main('+'void)\x20{gl_'+'FragColor\x20'+'=\x20vec4(0.0'+');}';}static['versionCod'+'e'](_0x2abba2){return _0x2abba2['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x4aba82,_0xec3662){_0xec3662&&_0xec3662!=='highp'&&_0xec3662!=='mediump'&&_0xec3662!=='lowp'&&(_0xec3662=null),_0xec3662&&(_0xec3662==='highp'&&_0x4aba82['maxPrecisi'+'on']!=='highp'&&(_0xec3662='mediump'),_0xec3662==='mediump'&&_0x4aba82['maxPrecisi'+'on']==='lowp'&&(_0xec3662='lowp'));const _0x21a283=_0xec3662||_0x4aba82['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x21a283+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x21a283+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x21a283+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x21a283+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x21a283+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x21a283+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x21a283+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x116515){const _0x523da3={};let _0x33dc6d=0x1*0x169e+-0x427*-0x5+-0x2b61,_0x22e0a5=_0x116515['indexOf']('attribute');for(;_0x22e0a5>=-0x5d*-0x11+0x1cd*-0x3+-0x2*0x63&&!(_0x22e0a5>0x846+0x1429+-0x1c6f&&_0x116515[_0x22e0a5-(-0x2*0x2b9+0x1*0x244c+-0x1ed9*0x1)]==='/');){let _0x3552e0=!(0x2*-0x465+0x1606+-0x3*0x469);if(_0x22e0a5>-0x28e*-0xd+0x70a*-0x5+0x1fc){let _0x305e71=_0x116515['lastIndexO'+'f']('\x0a',_0x22e0a5);_0x305e71=_0x305e71!==-(0x454*-0x6+-0x219b+0x1*0x3b94)?_0x305e71+(-0x5f*-0x19+-0xfa9+-0x147*-0x5):0xeb3+0x1268+0x71*-0x4b,_0x116515['substring'](_0x305e71,_0x22e0a5)['includes']('#')&&(_0x3552e0=!(0x19ab*-0x1+-0x1840+0x31eb));}if(!_0x3552e0){const _0x458576=_0x116515['indexOf'](';',_0x22e0a5),_0x316316=_0x116515['lastIndexO'+'f']('\x20',_0x458576),_0x45c4eb=_0x116515['substring'](_0x316316+(0x1*0x869+0x1a05+0x4eb*-0x7),_0x458576);if(_0x523da3[_0x45c4eb])v['warn']('Attribute\x20'+'['+_0x45c4eb+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x116515});else{const _0x417b1e=Qv[_0x45c4eb];_0x417b1e!==void(-0x2*-0xb5c+0x3*0x21d+-0x1*0x1d0f)?_0x523da3[_0x45c4eb]=_0x417b1e:(_0x523da3[_0x45c4eb]='ATTR'+_0x33dc6d,_0x33dc6d++);}}_0x22e0a5=_0x116515['indexOf']('attribute',_0x22e0a5+(-0x2b8+-0x141*-0x2+0x37));}return _0x523da3;}}let Jv=0x2f*0x11+0x1fc3+-0x22e2;class i0{constructor(_0x5f07de,_0x34399f){c(this,'meshUnifor'+'mBufferFor'+'mat'),c(this,'meshBindGr'+'oupFormat');if(this['id']=Jv++,this['device']=_0x5f07de,this['definition']=_0x34399f,this['name']=_0x34399f['name']||'Untitled',this['init'](),_0x34399f['cshader'])v['assert'](_0x5f07de['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),v['assert'](!_0x34399f['vshader']&&!_0x34399f['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.');else{v['assert'](_0x34399f['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),v['assert'](_0x34399f['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),_0x34399f['vshader']=Oh['run'](_0x34399f['vshader'],_0x34399f['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label']}),_0x34399f['shaderLang'+'uage']===ky&&(_0x34399f['attributes']??(_0x34399f['attributes']=Mt['collectAtt'+'ributes'](_0x34399f['vshader'])));const _0x5e57a4=_0x5f07de['isWebGL2']&&(ye['name']==='osx'||ye['name']==='ios');_0x34399f['fshader']=Oh['run'](_0x34399f['fshader'],_0x34399f['fincludes'],{'stripUnusedColorAttachments':_0x5e57a4,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']});}this['impl']=_0x5f07de['createShad'+'erImpl'](this),v['trace'](Zp,'Alloc:\x20'+this['label']+',\x20stack:\x20'+G['toString'](),{'instance':this});}['init'](){this['ready']=!(0xc*0x30b+0x1a66*-0x1+-0xa1d*0x1),this['failed']=!(0x682+-0x767+-0xa*-0x17);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20'+this['name'];}['destroy'](){v['trace'](Zp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class eb{constructor(){c(this,'storage'),c(this,'gpuBuffer'),c(this,'offset');}}const Te=[];Te[$s]=function(_0x48937a,_0x2f93e0,_0x1d8789){const _0x38d2c4=_0x48937a['storageFlo'+'at32'];_0x38d2c4[_0x1d8789]=_0x2f93e0;},Te[or]=(_0x306817,_0x55a875,_0x536740)=>{const _0x1c3ae5=_0x306817['storageFlo'+'at32'];_0x1c3ae5[_0x536740]=_0x55a875[-0x4d3+-0x1ed9+0x3*0xbe4],_0x1c3ae5[_0x536740+(0x6*-0xec+0x14*0x1b1+-0x1c4b)]=_0x55a875[-0x90d+0xb82+-0x2*0x13a];},Te[$t]=(_0x4b8acf,_0x35902c,_0x41db28)=>{const _0x33bd72=_0x4b8acf['storageFlo'+'at32'];_0x33bd72[_0x41db28]=_0x35902c[0xf70+-0x1297*0x1+0x327],_0x33bd72[_0x41db28+(-0x1435+0x1ad6+-0x6a0)]=_0x35902c[0x13*0x19a+0x5*-0x1af+0x756*-0x3],_0x33bd72[_0x41db28+(0x39e*0x1+-0x251b*0x1+-0x1*-0x217f)]=_0x35902c[-0x12d6+0x2*0x37f+-0x5ed*-0x2];},Te[xa]=(_0x1eda55,_0x5dae03,_0x26d08d)=>{const _0x1d0c47=_0x1eda55['storageFlo'+'at32'];_0x1d0c47[_0x26d08d]=_0x5dae03[-0x12a8+0x3*0x6b+0xf*0x129],_0x1d0c47[_0x26d08d+(-0x25ed+0x1d31+0x8bd)]=_0x5dae03[0x2*-0x2cc+0xa20+-0x487*0x1],_0x1d0c47[_0x26d08d+(0x12*0x1c4+-0x223f+-0x1*-0x279)]=_0x5dae03[-0x10d5+-0x20*-0x103+-0x61*0x29],_0x1d0c47[_0x26d08d+(0x23a7*-0x1+-0x637+0x29e1)]=_0x5dae03[-0x1d*-0x10a+-0x2110+-0x1*-0x2f1];},Te[ln]=function(_0x2a0b7e,_0x446c9d,_0x2e72da){const _0x3e354e=_0x2a0b7e['storageInt'+'32'];_0x3e354e[_0x2e72da]=_0x446c9d;},Te[Zr]=function(_0x4a8f00,_0x3cdb89,_0xa6d4fd){const _0x2dbd8a=_0x4a8f00['storageInt'+'32'];_0x2dbd8a[_0xa6d4fd]=_0x3cdb89[-0x21cb+-0xbe4+0x923*0x5],_0x2dbd8a[_0xa6d4fd+(0x1*-0x1915+-0x24a9+-0x59d*-0xb)]=_0x3cdb89[0x2043+0xbb2+-0x4*0xafd];},Te[Qr]=function(_0x3c25cf,_0x1634ee,_0x5dbbbe){const _0x4a467f=_0x3c25cf['storageInt'+'32'];_0x4a467f[_0x5dbbbe]=_0x1634ee[0x24e3+0x1*0x2659+-0x1*0x4b3c],_0x4a467f[_0x5dbbbe+(-0x98f*-0x4+-0x1d0a+-0x931)]=_0x1634ee[0x1f*0xa4+0x2639+-0x3a14],_0x4a467f[_0x5dbbbe+(0x6*-0x294+-0x237a+0x32f4)]=_0x1634ee[0x5*0xe5+-0x1619+0x11a2];},Te[Jr]=function(_0x448733,_0x1908ae,_0x17b20e){const _0x5cea32=_0x448733['storageInt'+'32'];_0x5cea32[_0x17b20e]=_0x1908ae[0x1c9a+-0x8b8+-0x1*0x13e2],_0x5cea32[_0x17b20e+(-0x161b+0x2b*0x8d+-0x193)]=_0x1908ae[-0x17*-0x167+-0xdf*0x24+-0xe4],_0x5cea32[_0x17b20e+(0x1327*0x1+0x2287*-0x1+0xb3*0x16)]=_0x1908ae[0x25*-0x107+0x2*0x44f+0x3*0x9cd],_0x5cea32[_0x17b20e+(-0x1ed3+0x1*0x77f+-0x5*-0x4ab)]=_0x1908ae[-0xa*-0x239+0x759+-0x2b0*0xb];},Te[Rh]=(_0x16c233,_0x4ea366,_0x4961d9)=>{const _0x542e32=_0x16c233['storageFlo'+'at32'];_0x542e32[_0x4961d9]=_0x4ea366[-0x226*-0x3+-0xb9*0x1f+-0xff5*-0x1],_0x542e32[_0x4961d9+(0x2404+0x1ed6+-0x42d9)]=_0x4ea366[0x1*-0x128d+-0x1*0xa31+-0x1*-0x1cbf],_0x542e32[_0x4961d9+(0x1cac+-0xbf1+0xb*-0x185)]=_0x4ea366[-0x3a*0x76+-0x1d7+0x1c95],_0x542e32[_0x4961d9+(0x1492+0x9fc+-0x1e89)]=_0x4ea366[0x233f+0x8f9*0x1+-0x2c35*0x1],_0x542e32[_0x4961d9+(-0x1281*-0x2+-0x14e7*0x1+-0x1013)]=_0x4ea366[-0x1e*-0x8d+0x1*0x148d+-0x1*0x250f],_0x542e32[_0x4961d9+(-0x5b*0x56+-0xda3*0x1+-0x329*-0xe)]=_0x4ea366[0xe*-0x265+0x2558+-0x3cd];},Te[ko]=(_0x2056d9,_0x33235a,_0x527aa0)=>{const _0x527f82=_0x2056d9['storageFlo'+'at32'];_0x527f82[_0x527aa0]=_0x33235a[0x1*0x1fb8+-0x717*-0x2+-0x92e*0x5],_0x527f82[_0x527aa0+(0x1d08+0x1615+0x1*-0x331c)]=_0x33235a[0x29c*-0xa+0x11*0xcc+0x11*0xbd],_0x527f82[_0x527aa0+(-0x1e95*-0x1+0x137a+0x1*-0x320d)]=_0x33235a[0x1be8+-0x281*0xb+0x1*-0x5b],_0x527f82[_0x527aa0+(-0x2b*0x65+-0xc*0xb5+-0x1*-0x1977)]=_0x33235a[-0x18+0x26b4+-0x2699],_0x527f82[_0x527aa0+(0x255b+0x3d*0x61+-0x3c73)]=_0x33235a[0x5e2+0x54b+-0xb29],_0x527f82[_0x527aa0+(-0x21ff+0x6d*-0x57+0x471*0x10)]=_0x33235a[0x609+0x1a0d+-0x2011],_0x527f82[_0x527aa0+(0xc0e+0x2*0x91d+-0x40*0x79)]=_0x33235a[-0xa*0x1c2+-0x13c8+-0x37*-0xae],_0x527f82[_0x527aa0+(0x1c60+0x4*0x34c+0x1*-0x2987)]=_0x33235a[-0x32e+0x1263*-0x2+0x27fb],_0x527f82[_0x527aa0+(-0x246f+-0x1dfb+0x4274)]=_0x33235a[-0x1328+-0xb*-0x1c9+-0x73];},Te[Dc]=function(_0x5d7718,_0x1f6bbe,_0x148e65,_0x3ac413){const _0x420fb8=_0x5d7718['storageFlo'+'at32'];for(let _0x453581=-0xd5a+0xe9*-0x18+-0x22*-0x109;_0x453581<_0x3ac413;_0x453581++)_0x420fb8[_0x148e65+_0x453581*(-0xc06+-0x1*0xa36+-0x8*-0x2c8)]=_0x1f6bbe[_0x453581];},Te[Lc]=(_0x1599bc,_0x1f2854,_0x4308b6,_0x370318)=>{const _0x527db9=_0x1599bc['storageFlo'+'at32'];for(let _0x3effe3=-0x1197+-0x2*-0x725+0x41*0xd;_0x3effe3<_0x370318;_0x3effe3++)_0x527db9[_0x4308b6+_0x3effe3*(0x5e*-0x4f+-0x7*0x139+0x2595)]=_0x1f2854[_0x3effe3*(-0x3*-0x2a5+-0x1a*0x28+-0x2b*0x17)],_0x527db9[_0x4308b6+_0x3effe3*(0x13b5+-0x1409+0x1*0x58)+(0x1*0x206d+-0xb70+-0x2*0xa7e)]=_0x1f2854[_0x3effe3*(-0x10ee+-0x8d2*0x2+0x2294)+(0x122f+-0x43*-0x10+-0x165e)];},Te[Fc]=(_0xb91d10,_0x1e14e2,_0x5bb6f4,_0xd0da6e)=>{const _0x34b788=_0xb91d10['storageFlo'+'at32'];for(let _0x3a2a09=0xfa4+0xcde+0x2*-0xe41;_0x3a2a09<_0xd0da6e;_0x3a2a09++)_0x34b788[_0x5bb6f4+_0x3a2a09*(-0x1961+-0xb*-0x14b+0xb2c)]=_0x1e14e2[_0x3a2a09*(-0xebb+0x1369*0x1+-0x4ab)],_0x34b788[_0x5bb6f4+_0x3a2a09*(0xd90+-0x5d*0x40+0x9b4)+(-0x24c9+0x141*0xf+-0x11fb*-0x1)]=_0x1e14e2[_0x3a2a09*(-0x469*-0x5+0x1065*0x2+-0x2*0x1b6a)+(-0x137e+-0x9*-0x423+0x1*-0x11bc)],_0x34b788[_0x5bb6f4+_0x3a2a09*(-0xae6+0x13be+-0x8d4)+(-0x67c+-0x17+0x695*0x1)]=_0x1e14e2[_0x3a2a09*(-0x1cc7+-0x22*0x56+0x2836)+(-0x95+-0x183e+0x18d5*0x1)];},Te[va]=(_0x42c9f7,_0x22748c,_0x38a20c,_0x2be034)=>{const _0x18c7cd=_0x42c9f7['storageUin'+'t32'];_0x18c7cd[_0x38a20c]=_0x22748c;},Te[ba]=(_0xa874a8,_0x458e48,_0x46d0ca,_0x285014)=>{const _0x5706ca=_0xa874a8['storageUin'+'t32'];_0x5706ca[_0x46d0ca]=_0x458e48[-0xff+-0x1*-0xa56+-0x957],_0x5706ca[_0x46d0ca+(0x13*-0xb5+0x1538+-0x3*0x298)]=_0x458e48[0x15d2+0x8b0+0x1e81*-0x1];},Te[wa]=(_0x1fd05f,_0x3596d2,_0x465879,_0xff3379)=>{const _0x30e657=_0x1fd05f['storageUin'+'t32'];_0x30e657[_0x465879]=_0x3596d2[0xf33*-0x1+0x1411+-0x4de],_0x30e657[_0x465879+(0x2*-0x756+-0xf0c+0x7*0x43f)]=_0x3596d2[-0x1307*0x1+0x206d+0x477*-0x3],_0x30e657[_0x465879+(-0x2*-0x634+-0x1*-0xf33+-0x1b99)]=_0x3596d2[0x533+-0x1285+0xd54];},Te[Ta]=(_0x42217e,_0xfb872d,_0x34c65e,_0x3b0c33)=>{const _0x3ce9c6=_0x42217e['storageUin'+'t32'];_0x3ce9c6[_0x34c65e]=_0xfb872d[-0x2171*0x1+0x11c3*0x1+0xfae],_0x3ce9c6[_0x34c65e+(0x9ac+-0x1d05*-0x1+-0x26b0)]=_0xfb872d[-0x1*0x266d+-0x4c*-0x17+-0xa*-0x329],_0x3ce9c6[_0x34c65e+(0x235*-0xd+0x1*0x2401+-0xaa*0xb)]=_0xfb872d[0x1a5*-0xd+-0x12dc+0x283f],_0x3ce9c6[_0x34c65e+(0xa*-0xc8+-0x34*-0x95+0x3*-0x77b)]=_0xfb872d[0x3e*0x7d+-0x9ee+-0x1455];},Te[Aa]=function(_0x57c21e,_0x5774c4,_0x294e56,_0x300d67){const _0x24ee49=_0x57c21e['storageInt'+'32'];for(let _0x2eac27=-0x1b01+0x1*0x140b+0x6f6;_0x2eac27<_0x300d67;_0x2eac27++)_0x24ee49[_0x294e56+_0x2eac27*(0x13f0+-0x2625+0x1239)]=_0x5774c4[_0x2eac27];},Te[kc]=Te[Aa],Te[Oc]=function(_0x2ddddf,_0x478fa7,_0x107b7d,_0x2bf315){const _0x17b933=_0x2ddddf['storageUin'+'t32'];for(let _0x1a977d=-0x185d+-0x575+0x1dd2;_0x1a977d<_0x2bf315;_0x1a977d++)_0x17b933[_0x107b7d+_0x1a977d*(-0x1*-0xd3a+-0x6f*0x51+0x15e9)]=_0x478fa7[_0x1a977d];},Te[Ea]=(_0x5f3f92,_0x4dd7a8,_0x586dba,_0xe49258)=>{const _0x17f232=_0x5f3f92['storageInt'+'32'];for(let _0x40904e=-0x128a+-0x80c+0x1a96;_0x40904e<_0xe49258;_0x40904e++)_0x17f232[_0x586dba+_0x40904e*(-0x2*-0x303+0x18a0+-0x1ea2)]=_0x4dd7a8[_0x40904e*(-0x2*-0xa49+0x129f+0x599*-0x7)],_0x17f232[_0x586dba+_0x40904e*(0x1*-0x2493+0x1bcf+-0x8*-0x119)+(0x2bd*0x6+0x1*-0x13de+0x371)]=_0x4dd7a8[_0x40904e*(0x233f+-0x1*-0x219d+0x44da*-0x1)+(-0x1c2c+-0x2e2*0xa+0x3901)];},Te[Nc]=Te[Ea],Te[Bc]=(_0x2a8c1a,_0x1430e9,_0x485648,_0x3a1d4b)=>{const _0xb72846=_0x2a8c1a['storageUin'+'t32'];for(let _0x48958f=-0xb9b+-0x5a9+0x1144;_0x48958f<_0x3a1d4b;_0x48958f++)_0xb72846[_0x485648+_0x48958f*(-0x17f7+-0x1be9+0x33e4)]=_0x1430e9[_0x48958f*(-0x89*-0x4+0xc73*-0x2+0x16c4)],_0xb72846[_0x485648+_0x48958f*(-0xc*-0xf9+0x7*-0x376+0xc92)+(0x209f+-0x1e7*-0xb+-0x358b)]=_0x1430e9[_0x48958f*(0xbbd+-0x898+-0x323*0x1)+(0x4b4*-0x2+-0x259a+-0x91*-0x53)];},Te[Ca]=(_0x36438c,_0x5b7ca6,_0x2db339,_0x42a459)=>{const _0x2178ea=_0x36438c['storageInt'+'32'];for(let _0x25ae45=-0x15b*-0x1c+-0x23d5+0x21f*-0x1;_0x25ae45<_0x42a459;_0x25ae45++)_0x2178ea[_0x2db339+_0x25ae45*(-0x5*-0x35b+-0x907+0xf*-0x84)]=_0x5b7ca6[_0x25ae45*(0x285+-0x3b*-0x3b+-0x101b)],_0x2178ea[_0x2db339+_0x25ae45*(0x7d0*-0x5+0x637*-0x1+0x2d4b)+(0x87c+0x2*-0xa88+-0x1*-0xc95)]=_0x5b7ca6[_0x25ae45*(-0x345*-0x7+0x42f+-0x905*0x3)+(0x1f32+-0x9*0x3ef+-0x436*-0x1)],_0x2178ea[_0x2db339+_0x25ae45*(-0xe*0x1c6+-0x32+0x190a)+(-0x3*-0x833+-0xec0*0x1+-0x9d7)]=_0x5b7ca6[_0x25ae45*(-0x17*-0x13b+-0x2*-0x1137+-0x4*0xfae)+(-0x11*-0x183+-0x1a35+-0x42*-0x2)];},Te[Uc]=Te[Ca],Te[zc]=(_0x2f1fe9,_0x4245a4,_0x4c7f3d,_0x1b0ae9)=>{const _0x2d89f3=_0x2f1fe9['storageUin'+'t32'];for(let _0x2af73a=-0x64b+-0x1*0xa58+0x10a3;_0x2af73a<_0x1b0ae9;_0x2af73a++)_0x2d89f3[_0x4c7f3d+_0x2af73a*(0x5ca*-0x6+0xdeb+0x1*0x14d5)]=_0x4245a4[_0x2af73a*(-0x1149+0xd73*-0x1+0x1ebf)],_0x2d89f3[_0x4c7f3d+_0x2af73a*(-0x15eb+-0x1325+0x16*0x1de)+(-0x2215*-0x1+-0x395+-0x1e7f)]=_0x4245a4[_0x2af73a*(-0x382+0x91a+-0x1*0x595)+(-0x381+-0x2e*-0xd+0x12c*0x1)],_0x2d89f3[_0x4c7f3d+_0x2af73a*(0x1386+-0xc5*-0x11+0x1*-0x2097)+(-0x1e4e+-0x1517+-0x1*-0x3367)]=_0x4245a4[_0x2af73a*(0x38*-0x2a+-0x153+0xa86*0x1)+(0x2260+0x1c4b+-0x3ea9)];};class gp{constructor(_0x173cbc,_0x35a9dd,_0x1f0eab=!(-0x2653*-0x1+0xa33+0x2*-0x1843)){c(this,'device'),c(this,'persistent'),c(this,'allocation'),c(this,'storageFlo'+'at32'),c(this,'storageInt'+'32'),c(this,'storageUin'+'t32'),c(this,'renderVers'+'ionDirty',-0xed2+0x56*0x6b+-0x1520);if(this['device']=_0x173cbc,this['format']=_0x35a9dd,this['persistent']=_0x1f0eab,v['assert'](_0x35a9dd),_0x1f0eab){this['impl']=_0x173cbc['createUnif'+'ormBufferI'+'mpl'](this);const _0x5e921f=new ArrayBuffer(_0x35a9dd['byteSize']);this['assignStor'+'age'](new Int32Array(_0x5e921f)),_0x173cbc['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new eb();}['destroy'](){if(this['persistent']){const _0x45df65=this['device'];this['impl']['destroy'](_0x45df65),_0x45df65['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?-0xd07+0x6fb*-0x1+-0x2*-0xa01:this['allocation']['offset'];}['assignStor'+'age'](_0x2ee107){this['storageInt'+'32']=_0x2ee107,this['storageUin'+'t32']=new Uint32Array(_0x2ee107['buffer'],_0x2ee107['byteOffset'],_0x2ee107['byteLength']/(-0x1*-0x3b7+-0x161a+0x1*0x1267)),this['storageFlo'+'at32']=new Float32Array(_0x2ee107['buffer'],_0x2ee107['byteOffset'],_0x2ee107['byteLength']/(0x1059+-0x131a+0x1*0x2c5));}['loseContex'+'t'](){var _0x4d740e;(_0x4d740e=this['impl'])==null||_0x4d740e['loseContex'+'t']();}['setUniform'](_0x57dd2f,_0x5ef72f){v['assert'](_0x57dd2f);const _0x396c1b=_0x57dd2f['offset'];if(_0x5ef72f!=null){const _0x2bff03=Te[_0x57dd2f['updateType']];_0x2bff03?_0x2bff03(this,_0x5ef72f,_0x396c1b,_0x57dd2f['count']):this['storageFlo'+'at32']['set'](_0x5ef72f,_0x396c1b);}else v['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x57dd2f['name']+('],\x20expecte'+'d\x20type\x20')+dp[_0x57dd2f['type']]+('\x20while\x20ren'+'dering\x20')+G['toString']());}['set'](_0x3911df,_0x3a7244){const _0x2c9456=this['format']['map']['get'](_0x3911df);v['assert'](_0x2c9456,'Uniform\x20na'+'me\x20['+_0x3911df+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x2c9456&&this['setUniform'](_0x2c9456,_0x3a7244);}['startUpdat'+'e'](_0x3e1ed2){if(!this['persistent']){const _0x2b412b=this['allocation'],_0x5627ca=_0x2b412b['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x2b412b,this['format']['byteSize']),this['assignStor'+'age'](_0x2b412b['storage']),_0x3e1ed2&&(_0x3e1ed2['bindGroup']=_0x2b412b['gpuBuffer']['getBindGro'+'up'](this),_0x3e1ed2['offsets'][0x246d*-0x1+-0x46c+0x28d9]=_0x2b412b['offset']),_0x5627ca!==_0x2b412b['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x52bfbf){this['startUpdat'+'e'](_0x52bfbf);const _0x2588f2=this['format']['uniforms'];for(let _0x249dc5=-0x1cfd+-0x22a0*0x1+0xcb9*0x5;_0x249dc5<_0x2588f2['length'];_0x249dc5++){const _0x45a421=_0x2588f2[_0x249dc5]['scopeId']['value'];this['setUniform'](_0x2588f2[_0x249dc5],_0x45a421);}this['endUpdate']();}}class tb{constructor(){c(this,'frameAlloc'+'ations',[]),c(this,'pastFrameA'+'llocations',new Map()),c(this,'_enabled',!(0x1*-0xef9+-0x218d+0x3087)),c(this,'_enableReq'+'uest',!(-0x21b4+0x15*0x27+0x1e82)),c(this,'_frameTime',-0x19df*0x1+0x1dc8+-0xb*0x5b);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x19844d){this['_enableReq'+'uest']=_0x19844d;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=-0x1*0x161b+-0x1*0x1816+-0x1*-0x2e31));}['request'](_0x35d2ce){this['pastFrameA'+'llocations']['set'](_0x35d2ce,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x23f35f,_0x48e5da){if(_0x48e5da){const _0x3fe46a=this['pastFrameA'+'llocations']['get'](_0x23f35f);if(v['assert'](_0x3fe46a['length']===_0x48e5da['length']),_0x48e5da['length']>-0x8*-0x143+-0x8*-0x2ea+-0x2168&&(this['_frameTime']=_0x48e5da[0x1a6c+-0xb97+0x1*-0xed5]),Xs['get'](ml)){v['trace'](ml,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x23f35f+'\x20--');let _0x29d40d=-0x1cb*0x4+0xa69+0x1*-0x33d;for(let _0x2f3941=0x15a5*-0x1+0x12c9+0x2dc;_0x2f3941<_0x3fe46a['length'];++_0x2f3941){const _0x300a88=_0x3fe46a[_0x2f3941];_0x29d40d+=_0x48e5da[_0x2f3941],v['trace'](ml,_0x48e5da[_0x2f3941]['toFixed'](-0x16c*0x3+0x158b+-0x1*0x1145)+'\x20ms\x20'+_0x300a88);}v['trace'](ml,_0x29d40d['toFixed'](0x1*0x1055+-0x815*-0x4+-0xeb*0x35)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x23f35f);}['getSlot'](_0x4dda32){const _0x3c4fe3=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x4dda32),_0x3c4fe3;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class r0{constructor(){c(this,'bufferId',null);}['destroy'](_0xdeda8b){this['bufferId']&&(_0xdeda8b['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x42684f,_0x4e1bea,_0x13d61e,_0x54a0a7){const _0x50e4b7=_0x42684f['gl'];if(this['bufferId'])_0x50e4b7['bindBuffer'](_0x13d61e,this['bufferId']),_0x50e4b7['bufferSubD'+'ata'](_0x13d61e,0x1ae6+0x4f*0x1f+-0x74b*0x5,_0x54a0a7);else{let _0x3e6ab5;switch(_0x4e1bea){case jt:_0x3e6ab5=_0x50e4b7['STATIC_DRA'+'W'];break;case Th:_0x3e6ab5=_0x50e4b7['DYNAMIC_DR'+'AW'];break;case uy:_0x3e6ab5=_0x50e4b7['STREAM_DRA'+'W'];break;case PS:_0x3e6ab5=_0x50e4b7['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x50e4b7['createBuff'+'er'](),_0x50e4b7['bindBuffer'](_0x13d61e,this['bufferId']),_0x50e4b7['bufferData'](_0x13d61e,_0x54a0a7,_0x3e6ab5);}}}class sb extends r0{constructor(){super(...arguments),c(this,'vao',null);}['destroy'](_0x29ff8c){super['destroy'](_0x29ff8c),_0x29ff8c['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x5e6b60){const _0x14cc3d=_0x5e6b60['device'];super['unlock'](_0x14cc3d,_0x5e6b60['usage'],_0x14cc3d['gl']['ARRAY_BUFF'+'ER'],_0x5e6b60['storage']);}}class ib extends r0{constructor(_0x1f7611){super();const _0x195598=_0x1f7611['device']['gl'],_0x41622b=_0x1f7611['format'];_0x41622b===pu?this['glFormat']=_0x195598['UNSIGNED_B'+'YTE']:_0x41622b===Pi?this['glFormat']=_0x195598['UNSIGNED_S'+'HORT']:_0x41622b===nr&&(this['glFormat']=_0x195598['UNSIGNED_I'+'NT']);}['unlock'](_0x35ed6b){const _0xc17cc6=_0x35ed6b['device'];super['unlock'](_0xc17cc6,_0x35ed6b['usage'],_0xc17cc6['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x35ed6b['storage']);}}class Mm{constructor(_0x3c6856,_0x16c8d2,_0x2a0829,_0x5b8832){if(this['locationId']=_0x5b8832,this['scopeId']=_0x3c6856['scope']['resolve'](_0x16c8d2),this['version']=new Ky(),_0x16c8d2['substring'](_0x16c8d2['length']-(-0x25b7+-0x2376+0x4930))==='[0]')switch(_0x2a0829){case $s:_0x2a0829=Dc;break;case ln:_0x2a0829=Aa;break;case va:_0x2a0829=Oc;break;case ca:_0x2a0829=kc;break;case or:_0x2a0829=Lc;break;case Zr:_0x2a0829=Ea;break;case ba:_0x2a0829=Bc;break;case Lo:_0x2a0829=Nc;break;case $t:_0x2a0829=Fc;break;case Qr:_0x2a0829=Ca;break;case wa:_0x2a0829=zc;break;case Fo:_0x2a0829=Uc;break;case xa:_0x2a0829=lp;break;case Jr:_0x2a0829=Ih;break;case Ta:_0x2a0829=hp;break;case Oo:_0x2a0829=cp;break;}this['dataType']=_0x2a0829,this['value']=[null,null,null,null],this['array']=[];}}let Pm=-0x1ab+0x56b+0x3*-0x140;const rb=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class nb{constructor(){c(this,'map',new Map());}['destroy'](_0xe2a992){this['map']['forEach'](_0x5a63d8=>{_0xe2a992['gl']['deleteShad'+'er'](_0x5a63d8);});}['loseContex'+'t'](_0x355866){this['map']['clear']();}}const ab=new Ot(),ob=new Ot();class lb{constructor(_0x10d9c3){c(this,'compileDur'+'ation',0x36d+0x1f6c+-0x22d9),(this['init'](),this['compile'](_0x10d9c3['device'],_0x10d9c3),this['link'](_0x10d9c3['device'],_0x10d9c3),_0x10d9c3['device']['shaders']['push'](_0x10d9c3));}['destroy'](_0x56e3dd){this['glProgram']&&(_0x56e3dd['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x26bea5,_0x25c644){this['compile'](_0x26bea5,_0x25c644),this['link'](_0x26bea5,_0x25c644);}['compile'](_0x5c3989,_0x2c7b71){const _0x3d7d28=_0x2c7b71['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x5c3989,_0x3d7d28['vshader'],!(-0x206*0x10+-0x11*-0x191+0x5bf)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x5c3989,_0x3d7d28['fshader'],!(-0x277*-0x9+0xe5*0x2+-0x3b*0x68));}['link'](_0x49c01c,_0x2569ee){if(this['glProgram'])return;const _0x18c6bb=_0x49c01c['gl'];if(_0x18c6bb['isContextL'+'ost']())return;let _0x4ecbad=0x1910+0x43c+-0x1d4c;v['call'](()=>{this['compileDur'+'ation']=-0x1*-0xce3+-0x2*0x825+0x367,_0x4ecbad=ne();});const _0x316732=_0x18c6bb['createProg'+'ram']();this['glProgram']=_0x316732,_0x18c6bb['attachShad'+'er'](_0x316732,this['glVertexSh'+'ader']),_0x18c6bb['attachShad'+'er'](_0x316732,this['glFragment'+'Shader']);const _0x1f9e81=_0x2569ee['definition'],_0x33406c=_0x1f9e81['attributes'];if(_0x1f9e81['useTransfo'+'rmFeedback']){const _0x5b58cf=[];for(const _0x44d97e in _0x33406c)_0x33406c['hasOwnProp'+'erty'](_0x44d97e)&&_0x5b58cf['push']('out_'+_0x44d97e);_0x18c6bb['transformF'+'eedbackVar'+'yings'](_0x316732,_0x5b58cf,_0x18c6bb['INTERLEAVE'+'D_ATTRIBS']);}const _0x49a512={};for(const _0x25c470 in _0x33406c)if(_0x33406c['hasOwnProp'+'erty'](_0x25c470)){const _0x257b83=_0x33406c[_0x25c470],_0x4d6138=ve[_0x257b83];v['assert'](!_0x49a512['hasOwnProp'+'erty'](_0x4d6138),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x49a512[_0x4d6138]+'\x20and\x20'+_0x25c470),_0x49a512[_0x4d6138]=_0x25c470,_0x18c6bb['bindAttrib'+'Location'](_0x316732,_0x4d6138,_0x25c470);}_0x18c6bb['linkProgra'+'m'](_0x316732),v['call'](()=>{this['compileDur'+'ation']=ne()-_0x4ecbad;}),_0x49c01c['_shaderSta'+'ts']['linked']++,_0x1f9e81['tag']===Ly&&_0x49c01c['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x4770c5,_0x4d3294,_0x4ba7df){const _0x142063=_0x4770c5['gl'];if(_0x142063['isContextL'+'ost']())return null;const _0x5f7b6f=(_0x4ba7df?ab:ob)['get'](_0x4770c5,()=>new nb());let _0x5b3c3a=_0x5f7b6f['map']['get'](_0x4d3294);if(!_0x5b3c3a){const _0x196eaa=ne();_0x4770c5['fire']('shader:com'+'pile:start',{'timestamp':_0x196eaa,'target':_0x4770c5}),_0x5b3c3a=_0x142063['createShad'+'er'](_0x4ba7df?_0x142063['VERTEX_SHA'+'DER']:_0x142063['FRAGMENT_S'+'HADER']),_0x142063['shaderSour'+'ce'](_0x5b3c3a,_0x4d3294),_0x142063['compileSha'+'der'](_0x5b3c3a),_0x5f7b6f['map']['set'](_0x4d3294,_0x5b3c3a);const _0x495de5=ne();_0x4770c5['fire']('shader:com'+'pile:end',{'timestamp':_0x495de5,'target':_0x4770c5}),_0x4770c5['_shaderSta'+'ts']['compileTim'+'e']+=_0x495de5-_0x196eaa,_0x4ba7df?_0x4770c5['_shaderSta'+'ts']['vsCompiled']++:_0x4770c5['_shaderSta'+'ts']['fsCompiled']++;}return _0x5b3c3a;}['finalize'](_0x1aeac9,_0x4be203){var _0xd3d0cc,_0x2adec2;const _0x5e539c=_0x1aeac9['gl'];if(_0x5e539c['isContextL'+'ost']())return!(0x15aa*-0x1+-0x1b1e+-0xdf*-0x38);const _0x1a695e=this['glProgram'],_0x544b63=_0x4be203['definition'],_0x274f78=ne();_0x1aeac9['fire']('shader:lin'+'k:start',{'timestamp':_0x274f78,'target':_0x1aeac9});let _0x4c20aa=-0x4b*-0x7+0x1910+-0x1b1d;if(v['call'](()=>{_0x4c20aa=ne();}),!_0x5e539c['getProgram'+'Parameter'](_0x1a695e,_0x5e539c['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x1aeac9,_0x4be203,this['glVertexSh'+'ader'],_0x544b63['vshader'],'vertex')||!this['_isCompile'+'d'](_0x1aeac9,_0x4be203,this['glFragment'+'Shader'],_0x544b63['fshader'],'fragment'))return!(-0x2c9*-0x9+0x7*-0x547+0xbe1);const _0x38d0fb='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x5e539c['getProgram'+'InfoLog'](_0x1a695e);return _0x544b63['translated'+'Frag']=(_0xd3d0cc=_0x5e539c['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0xbf*-0x2b+0x1*-0x24bb+-0x11*-0x46):_0xd3d0cc['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x544b63['translated'+'Vert']=(_0x2adec2=_0x5e539c['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x1251*-0x2+-0x109*0x16+0x3b68):_0x2adec2['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x38d0fb,_0x544b63),console['error'](_0x38d0fb),!(0xa47*0x3+0x1b*-0xf1+0x5*-0x115);}const _0x5d498d=_0x5e539c['getProgram'+'Parameter'](_0x1a695e,_0x5e539c['ACTIVE_ATT'+'RIBUTES']);for(let _0x232c84=0x1c96+-0x195f+-0x337;_0x232c84<_0x5d498d;_0x232c84++){const _0x17433e=_0x5e539c['getActiveA'+'ttrib'](_0x1a695e,_0x232c84),_0x44621a=_0x5e539c['getAttribL'+'ocation'](_0x1a695e,_0x17433e['name']);if(!rb['has'](_0x17433e['name'])){if(_0x544b63['attributes'][_0x17433e['name']]===void(0x207b*0x1+-0x1*-0xc9a+0x1*-0x2d15))console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x17433e['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x4be203['label']+']',_0x4be203),_0x4be203['failed']=!(-0x2*-0x1358+-0x4db+0xb47*-0x3);else{const _0x4b17ef=new Mm(_0x1aeac9,_0x544b63['attributes'][_0x17433e['name']],_0x1aeac9['pcUniformT'+'ype'][_0x17433e['type']],_0x44621a);this['attributes']['push'](_0x4b17ef);}}}const _0x556318=_0x1aeac9['_samplerTy'+'pes'],_0x288ba6=_0x5e539c['getProgram'+'Parameter'](_0x1a695e,_0x5e539c['ACTIVE_UNI'+'FORMS']);for(let _0x438387=0x14a4+0x1*-0x20ad+0xc09;_0x438387<_0x288ba6;_0x438387++){const _0x1c5d6e=_0x5e539c['getActiveU'+'niform'](_0x1a695e,_0x438387),_0x4f089b=_0x5e539c['getUniform'+'Location'](_0x1a695e,_0x1c5d6e['name']),_0x40ba8c=new Mm(_0x1aeac9,_0x1c5d6e['name'],_0x1aeac9['pcUniformT'+'ype'][_0x1c5d6e['type']],_0x4f089b);_0x556318['has'](_0x1c5d6e['type'])?this['samplers']['push'](_0x40ba8c):this['uniforms']['push'](_0x40ba8c);}_0x4be203['ready']=!(0x7af+-0x1543+0xd94);const _0x28dce7=ne();return _0x1aeac9['fire']('shader:lin'+'k:end',{'timestamp':_0x28dce7,'target':_0x1aeac9}),_0x1aeac9['_shaderSta'+'ts']['compileTim'+'e']+=_0x28dce7-_0x274f78,v['call'](()=>{const _0x1ea17f=ne()-_0x4c20aa;this['compileDur'+'ation']+=_0x1ea17f,Pm+=this['compileDur'+'ation'],v['trace'](Yx,'[id:\x20'+_0x4be203['id']+']\x20'+_0x4be203['name']+':\x20'+this['compileDur'+'ation']['toFixed'](-0xeb*0x29+0x6b6+0x1eee)+('ms,\x20TOTAL:'+'\x20')+Pm['toFixed'](0x31*-0x89+-0xfa8+0x29e2)+'ms');}),!(-0x76c*0x1+-0x22c0+0x2a2c);}['_isCompile'+'d'](_0x2da2bd,_0xd73982,_0x2fd206,_0x275d91,_0x4e307f){const _0x53881e=_0x2da2bd['gl'];if(!_0x53881e['getShaderP'+'arameter'](_0x2fd206,_0x53881e['COMPILE_ST'+'ATUS'])){const _0x521658=_0x53881e['getShaderI'+'nfoLog'](_0x2fd206),[_0x2268b9,_0x2828f0]=this['_processEr'+'ror'](_0x275d91,_0x521658),_0x262703='Failed\x20to\x20'+'compile\x20'+_0x4e307f+'\x20shader:\x0a\x0a'+_0x521658+'\x0a'+_0x2268b9+('\x20while\x20ren'+'dering\x20')+G['toString']();return _0x2828f0['shader']=_0xd73982,console['error'](_0x262703,_0x2828f0),console['error'](_0x262703),!(0x9e6+-0x205*-0x12+-0x2e3f);}return!(0x1561+-0x11e0+-0x381);}['isLinked'](_0x2ee292){const {extParallelShaderCompile:_0x25ec6b}=_0x2ee292;return _0x25ec6b?_0x2ee292['gl']['getProgram'+'Parameter'](this['glProgram'],_0x25ec6b['COMPLETION'+'_STATUS_KH'+'R']):!(-0x17ea+0x62e*0x4+0x1*-0xce);}['_processEr'+'ror'](_0x1933da,_0x48f8ed){const _0x59f055={};let _0x339a20='';if(_0x1933da){const _0xc530f8=_0x1933da['split']('\x0a');let _0x3862d0=0x20b*-0xd+-0x16a7+-0x3136*-0x1,_0x5c34fd=_0xc530f8['length'];if(_0x48f8ed&&_0x48f8ed['startsWith']('ERROR:')){const _0x1b9c85=_0x48f8ed['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x1b9c85&&(_0x59f055['message']=_0x1b9c85[-0x1*-0x73b+-0x1dad+0x1675],_0x59f055['line']=parseInt(_0x1b9c85[0xe9*-0x17+0x1507+-0x16],-0x1a4f+0x1626+-0x2b*-0x19),_0x3862d0=Math['max'](0x1096+0x3*-0x7ad+0x671,_0x59f055['line']-(-0x1*0xce5+-0xc88+0x1973)),_0x5c34fd=Math['min'](_0xc530f8['length'],_0x59f055['line']+(0x2ad+-0xb3*-0x1d+0x13*-0x135)));}for(let _0x4e095f=_0x3862d0;_0x4e095f<_0x5c34fd;_0x4e095f++)_0x339a20+=_0x4e095f+(0x209*0x7+-0x1efe+0x10c0)+':\x09'+_0xc530f8[_0x4e095f]+'\x0a';_0x59f055['source']=_0x1933da;}return[_0x339a20,_0x59f055];}}function Rm(_0x2ebb2e,_0x1c75fa){const _0x4198bd=_0x2ebb2e['width'],_0x344fdf=_0x2ebb2e['height'];if(_0x4198bd>_0x1c75fa||_0x344fdf>_0x1c75fa){const _0x596a9d=_0x1c75fa/Math['max'](_0x4198bd,_0x344fdf),_0xc14dd2=Math['floor'](_0x4198bd*_0x596a9d),_0x502ff1=Math['floor'](_0x344fdf*_0x596a9d);v['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x1c75fa+('.\x20Resizing'+'\x20from\x20')+_0x4198bd+',\x20'+_0x344fdf+'\x20to\x20'+_0xc14dd2+',\x20'+_0x502ff1+'.');const _0x3fc892=document['createElem'+'ent']('canvas');return _0x3fc892['width']=_0xc14dd2,_0x3fc892['height']=_0x502ff1,_0x3fc892['getContext']('2d')['drawImage'](_0x2ebb2e,-0x10e8+-0x1*-0x138d+-0x2a5*0x1,-0x103*-0x17+0x3c2*-0x4+-0x2bf*0x3,_0x4198bd,_0x344fdf,-0xf25*0x1+0x1715+-0x7f0,-0xf*-0x191+0x1465+-0x2be4,_0xc14dd2,_0x502ff1),_0x3fc892;}return _0x2ebb2e;}class hb{constructor(_0x1313c2){c(this,'_glTexture',null),c(this,'_glTarget'),c(this,'_glFormat'),c(this,'_glInterna'+'lFormat'),c(this,'_glPixelTy'+'pe'),c(this,'_glCreated'),c(this,'dirtyParam'+'eterFlags',0x24b*-0x5+0xdc4*0x2+-0x3*0x55b),this['texture']=_0x1313c2;}['destroy'](_0x23eafe){if(this['_glTexture']){for(let _0x4cb551=0x141d+0x142a+-0x1eb*0x15;_0x4cb551<_0x23eafe['textureUni'+'ts']['length'];_0x4cb551++){const _0x5974a0=_0x23eafe['textureUni'+'ts'][_0x4cb551];for(let _0x4b98e1=-0xb*-0x1be+-0xdc9+-0x561;_0x4b98e1<_0x5974a0['length'];_0x4b98e1++)_0x5974a0[_0x4b98e1]===this['_glTexture']&&(_0x5974a0[_0x4b98e1]=null);}_0x23eafe['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x575d29){this['dirtyParam'+'eterFlags']|=_0x575d29;}['initialize'](_0x439c45,_0x5a7301){const _0x499c7e=_0x439c45['gl'];switch(this['_glTexture']=_0x499c7e['createText'+'ure'](),this['_glTarget']=_0x5a7301['_cubemap']?_0x499c7e['TEXTURE_CU'+'BE_MAP']:_0x5a7301['_volume']?_0x499c7e['TEXTURE_3D']:_0x5a7301['array']?_0x499c7e['TEXTURE_2D'+'_ARRAY']:_0x499c7e['TEXTURE_2D'],_0x5a7301['_format']){case fy:this['_glFormat']=_0x499c7e['ALPHA'],this['_glInterna'+'lFormat']=_0x499c7e['ALPHA'],this['_glPixelTy'+'pe']=_0x499c7e['UNSIGNED_B'+'YTE'];break;case py:this['_glFormat']=_0x499c7e['LUMINANCE'],this['_glInterna'+'lFormat']=_0x499c7e['LUMINANCE'],this['_glPixelTy'+'pe']=_0x499c7e['UNSIGNED_B'+'YTE'];break;case Bf:this['_glFormat']=_0x499c7e['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x499c7e['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x499c7e['UNSIGNED_B'+'YTE'];break;case sp:this['_glFormat']=_0x499c7e['RED'],this['_glInterna'+'lFormat']=_0x499c7e['R8'],this['_glPixelTy'+'pe']=_0x499c7e['UNSIGNED_B'+'YTE'];break;case ip:this['_glFormat']=_0x499c7e['RG'],this['_glInterna'+'lFormat']=_0x499c7e['RG8'],this['_glPixelTy'+'pe']=_0x499c7e['UNSIGNED_B'+'YTE'];break;case _c:this['_glFormat']=_0x499c7e['RGB'],this['_glInterna'+'lFormat']=_0x499c7e['RGB'],this['_glPixelTy'+'pe']=_0x499c7e['UNSIGNED_S'+'HORT_5_6_5'];break;case Nf:this['_glFormat']=_0x499c7e['RGBA'],this['_glInterna'+'lFormat']=_0x499c7e['RGBA'],this['_glPixelTy'+'pe']=_0x499c7e['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case gc:this['_glFormat']=_0x499c7e['RGBA'],this['_glInterna'+'lFormat']=_0x499c7e['RGBA'],this['_glPixelTy'+'pe']=_0x499c7e['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case dr:this['_glFormat']=_0x499c7e['RGB'],this['_glInterna'+'lFormat']=_0x499c7e['RGB8'],this['_glPixelTy'+'pe']=_0x499c7e['UNSIGNED_B'+'YTE'];break;case Se:this['_glFormat']=_0x499c7e['RGBA'],this['_glInterna'+'lFormat']=_0x499c7e['RGBA8'],this['_glPixelTy'+'pe']=_0x499c7e['UNSIGNED_B'+'YTE'];break;case yy:case by:v['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case yc:this['_glFormat']=_0x499c7e['RGB'],this['_glInterna'+'lFormat']=_0x439c45['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case zf:this['_glFormat']=_0x499c7e['RGBA'],this['_glInterna'+'lFormat']=_0x439c45['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case $o:this['_glFormat']=_0x499c7e['RGBA'],this['_glInterna'+'lFormat']=_0x439c45['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case bc:this['_glFormat']=_0x499c7e['RGB'],this['_glInterna'+'lFormat']=_0x439c45['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case qo:this['_glFormat']=_0x499c7e['RGB'],this['_glInterna'+'lFormat']=_0x439c45['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Xo:this['_glFormat']=_0x499c7e['RGBA'],this['_glInterna'+'lFormat']=_0x439c45['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case wc:this['_glFormat']=_0x499c7e['RGB'],this['_glInterna'+'lFormat']=_0x439c45['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case Tc:this['_glFormat']=_0x499c7e['RGBA'],this['_glInterna'+'lFormat']=_0x439c45['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case Vf:this['_glFormat']=_0x499c7e['RGB'],this['_glInterna'+'lFormat']=_0x439c45['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case Gf:this['_glFormat']=_0x499c7e['RGBA'],this['_glInterna'+'lFormat']=_0x439c45['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case my:this['_glFormat']=_0x499c7e['RGBA'],this['_glInterna'+'lFormat']=_0x439c45['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case _y:this['_glFormat']=_0x499c7e['RGB'],this['_glInterna'+'lFormat']=_0x439c45['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case gy:this['_glFormat']=_0x499c7e['RGBA'],this['_glInterna'+'lFormat']=_0x439c45['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case wy:this['_glFormat']=_0x499c7e['RGB'],this['_glInterna'+'lFormat']=_0x439c45['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case Ty:this['_glFormat']=_0x499c7e['RGB'],this['_glInterna'+'lFormat']=_0x439c45['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case Ay:this['_glFormat']=_0x499c7e['RGBA'],this['_glInterna'+'lFormat']=_0x439c45['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case mu:this['_glFormat']=_0x499c7e['SRGB'],this['_glInterna'+'lFormat']=_0x439c45['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case _u:this['_glFormat']=_0x499c7e['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x439c45['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case gu:this['_glFormat']=_0x499c7e['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x439c45['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case yu:this['_glFormat']=_0x499c7e['SRGB'],this['_glInterna'+'lFormat']=_0x439c45['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case xu:this['_glFormat']=_0x499c7e['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x439c45['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Su:this['_glFormat']=_0x499c7e['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x439c45['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case vu:this['_glFormat']=_0x499c7e['RGBA'],this['_glInterna'+'lFormat']=_0x439c45['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case Ec:this['_glFormat']=_0x499c7e['RED'],this['_glInterna'+'lFormat']=_0x499c7e['R16F'],this['_glPixelTy'+'pe']=_0x499c7e['HALF_FLOAT'];break;case tp:this['_glFormat']=_0x499c7e['RG'],this['_glInterna'+'lFormat']=_0x499c7e['RG16F'],this['_glPixelTy'+'pe']=_0x499c7e['HALF_FLOAT'];break;case xc:this['_glFormat']=_0x499c7e['RGB'],this['_glInterna'+'lFormat']=_0x499c7e['RGB16F'],this['_glPixelTy'+'pe']=_0x499c7e['HALF_FLOAT'];break;case Je:this['_glFormat']=_0x499c7e['RGBA'],this['_glInterna'+'lFormat']=_0x499c7e['RGBA16F'],this['_glPixelTy'+'pe']=_0x499c7e['HALF_FLOAT'];break;case Sc:this['_glFormat']=_0x499c7e['RGB'],this['_glInterna'+'lFormat']=_0x499c7e['RGB32F'],this['_glPixelTy'+'pe']=_0x499c7e['FLOAT'];break;case Ke:this['_glFormat']=_0x499c7e['RGBA'],this['_glInterna'+'lFormat']=_0x499c7e['RGBA32F'],this['_glPixelTy'+'pe']=_0x499c7e['FLOAT'];break;case Ii:this['_glFormat']=_0x499c7e['RED'],this['_glInterna'+'lFormat']=_0x499c7e['R32F'],this['_glPixelTy'+'pe']=_0x499c7e['FLOAT'];break;case Ci:this['_glFormat']=_0x499c7e['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x499c7e['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x499c7e['FLOAT'];break;case la:this['_glFormat']=_0x499c7e['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x499c7e['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x499c7e['UNSIGNED_S'+'HORT'];break;case vc:this['_glFormat']=_0x499c7e['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x499c7e['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x499c7e['UNSIGNED_I'+'NT_24_8'];break;case _a:this['_glFormat']=_0x499c7e['RGB'],this['_glInterna'+'lFormat']=_0x499c7e['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x499c7e['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case Uf:this['_glFormat']=_0x499c7e['RGB'],this['_glInterna'+'lFormat']=_0x499c7e['SRGB8'],this['_glPixelTy'+'pe']=_0x499c7e['UNSIGNED_B'+'YTE'];break;case rs:this['_glFormat']=_0x499c7e['RGBA'],this['_glInterna'+'lFormat']=_0x499c7e['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x499c7e['UNSIGNED_B'+'YTE'];break;case Hf:this['_glFormat']=_0x499c7e['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x499c7e['R8I'],this['_glPixelTy'+'pe']=_0x499c7e['BYTE'];break;case xy:this['_glFormat']=_0x499c7e['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x499c7e['R8UI'],this['_glPixelTy'+'pe']=_0x499c7e['UNSIGNED_B'+'YTE'];break;case Wf:this['_glFormat']=_0x499c7e['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x499c7e['R16I'],this['_glPixelTy'+'pe']=_0x499c7e['SHORT'];break;case $f:this['_glFormat']=_0x499c7e['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x499c7e['R16UI'],this['_glPixelTy'+'pe']=_0x499c7e['UNSIGNED_S'+'HORT'];break;case qf:this['_glFormat']=_0x499c7e['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x499c7e['R32I'],this['_glPixelTy'+'pe']=_0x499c7e['INT'];break;case an:this['_glFormat']=_0x499c7e['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x499c7e['R32UI'],this['_glPixelTy'+'pe']=_0x499c7e['UNSIGNED_I'+'NT'];break;case Xf:this['_glFormat']=_0x499c7e['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x499c7e['RG8I'],this['_glPixelTy'+'pe']=_0x499c7e['BYTE'];break;case Sy:this['_glFormat']=_0x499c7e['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x499c7e['RG8UI'],this['_glPixelTy'+'pe']=_0x499c7e['UNSIGNED_B'+'YTE'];break;case jf:this['_glFormat']=_0x499c7e['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x499c7e['RG16I'],this['_glPixelTy'+'pe']=_0x499c7e['SHORT'];break;case Yf:this['_glFormat']=_0x499c7e['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x499c7e['RG16UI'],this['_glPixelTy'+'pe']=_0x499c7e['UNSIGNED_S'+'HORT'];break;case Kf:this['_glFormat']=_0x499c7e['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x499c7e['RG32I'],this['_glPixelTy'+'pe']=_0x499c7e['INT'];break;case Zf:this['_glFormat']=_0x499c7e['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x499c7e['RG32UI'],this['_glPixelTy'+'pe']=_0x499c7e['UNSIGNED_I'+'NT'];break;case Qf:this['_glFormat']=_0x499c7e['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x499c7e['RGBA8I'],this['_glPixelTy'+'pe']=_0x499c7e['BYTE'];break;case vy:this['_glFormat']=_0x499c7e['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x499c7e['RGBA8UI'],this['_glPixelTy'+'pe']=_0x499c7e['UNSIGNED_B'+'YTE'];break;case Jf:this['_glFormat']=_0x499c7e['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x499c7e['RGBA16I'],this['_glPixelTy'+'pe']=_0x499c7e['SHORT'];break;case Ac:this['_glFormat']=_0x499c7e['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x499c7e['RGBA16UI'],this['_glPixelTy'+'pe']=_0x499c7e['UNSIGNED_S'+'HORT'];break;case ep:this['_glFormat']=_0x499c7e['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x499c7e['RGBA32I'],this['_glPixelTy'+'pe']=_0x499c7e['INT'];break;case ut:this['_glFormat']=_0x499c7e['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x499c7e['RGBA32UI'],this['_glPixelTy'+'pe']=_0x499c7e['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(0x5*0x28e+0x8a5*-0x2+0x485);}['upload'](_0x8e38bb,_0x108f7f){v['assert'](_0x108f7f['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x108f7f);const _0x476a18=_0x8e38bb['gl'];if(!_0x108f7f['_needsUplo'+'ad']&&(_0x108f7f['_needsMipm'+'apsUpload']&&_0x108f7f['_mipmapsUp'+'loaded']||!_0x108f7f['pot']))return;let _0x10ec75=-0x1a*-0x44+-0x16*0x152+0x1624,_0x53d7bc,_0x27da34;const _0x3ed5cf=_0x108f7f['numLevels'];for(_0x108f7f['array']&&_0x476a18['texStorage'+'3D'](_0x476a18['TEXTURE_2D'+'_ARRAY'],_0x3ed5cf,this['_glInterna'+'lFormat'],_0x108f7f['_width'],_0x108f7f['_height'],_0x108f7f['_arrayLeng'+'th']);_0x108f7f['_levels'][_0x10ec75]||_0x10ec75===0x2587+-0x8*0x3c8+-0xcf*0x9;){if(!_0x108f7f['_needsUplo'+'ad']&&_0x10ec75===-0x1*-0x1f6f+0xc16+-0x2b85){_0x10ec75++;continue;}else{if(_0x10ec75&&(!_0x108f7f['_needsMipm'+'apsUpload']||!_0x108f7f['_mipmaps']))break;}if(_0x53d7bc=_0x108f7f['_levels'][_0x10ec75],_0x27da34=(-0x1*0x92+-0x4f5+0x588)/Math['pow'](-0x7a4+-0x2b7+0xa5d,_0x10ec75),_0x10ec75===-0x167*0x4+-0x3*0x55d+-0x39e*-0x6&&!_0x108f7f['_compresse'+'d']&&!_0x108f7f['_integerFo'+'rmat']&&_0x108f7f['_levels']['length']<_0x3ed5cf&&(_0x476a18['generateMi'+'pmap'](this['_glTarget']),_0x108f7f['_mipmapsUp'+'loaded']=!(-0x7*-0xc5+-0x7*-0x79+0x7*-0x13e)),_0x108f7f['_cubemap']){let _0x203668;if(_0x8e38bb['_isBrowser'+'Interface'](_0x53d7bc[0x175d+-0xbea+-0xb73]))for(_0x203668=-0xe42+0x2*0x971+-0x4a0;_0x203668<-0x93*0x8+-0x7a7*0x1+0xc45;_0x203668++){if(!_0x108f7f['_levelsUpd'+'ated'][0x2*-0x136f+0x1*-0x1107+0x15d*0x29][_0x203668])continue;let _0x25834d=_0x53d7bc[_0x203668];_0x8e38bb['_isImageBr'+'owserInter'+'face'](_0x25834d)&&(_0x25834d['width']>_0x8e38bb['maxCubeMap'+'Size']||_0x25834d['height']>_0x8e38bb['maxCubeMap'+'Size'])&&(_0x25834d=Rm(_0x25834d,_0x8e38bb['maxCubeMap'+'Size']),_0x10ec75===0xe0e*0x1+0x2*-0xcc9+-0x1*-0xb84&&(_0x108f7f['_width']=_0x25834d['width'],_0x108f7f['_height']=_0x25834d['height'])),_0x8e38bb['setUnpackF'+'lipY'](!(0x6*-0x4b5+0x59e+0x16a1)),_0x8e38bb['setUnpackP'+'remultiply'+'Alpha'](_0x108f7f['_premultip'+'lyAlpha']),this['_glCreated']?_0x476a18['texSubImag'+'e2D'](_0x476a18['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x203668,_0x10ec75,-0x1*0x188e+-0x26b0+-0x2*-0x1f9f,-0x2633+0xf84+0x16af,this['_glFormat'],this['_glPixelTy'+'pe'],_0x25834d):_0x476a18['texImage2D'](_0x476a18['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x203668,_0x10ec75,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x25834d);}else for(_0x27da34=(0x4c1*0x1+-0x655*0x2+0x7ea)/Math['pow'](-0x329*-0x3+-0x156*0x3+-0x577,_0x10ec75),_0x203668=-0x1068+0x1*-0x164+0x4*0x473;_0x203668<-0x245a+0x1d1d+0xb*0xa9;_0x203668++){if(!_0x108f7f['_levelsUpd'+'ated'][0x82b+0x1*-0x2567+-0x4*-0x74f][_0x203668])continue;const _0x5d188f=_0x53d7bc[_0x203668];_0x108f7f['_compresse'+'d']?this['_glCreated']&&_0x5d188f?_0x476a18['compressed'+'TexSubImag'+'e2D'](_0x476a18['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x203668,_0x10ec75,0x10*0xac+0x17*0x14b+-0x287d,0xbcd+-0x2501+0x1934,Math['max'](_0x108f7f['_width']*_0x27da34,-0x2683+0x1aa2+0x2*0x5f1),Math['max'](_0x108f7f['_height']*_0x27da34,-0x179f*-0x1+-0x23a7*0x1+0xc09),this['_glInterna'+'lFormat'],_0x5d188f):_0x476a18['compressed'+'TexImage2D'](_0x476a18['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x203668,_0x10ec75,this['_glInterna'+'lFormat'],Math['max'](_0x108f7f['_width']*_0x27da34,0x1*0xbd4+-0xafb+0x2*-0x6c),Math['max'](_0x108f7f['_height']*_0x27da34,0x1c37+0x1eb7+-0x3aed),-0x13ad+0x13c0+-0x13,_0x5d188f):(_0x8e38bb['setUnpackF'+'lipY'](!(-0x1e*0x14b+-0x1cda+0x43a5)),_0x8e38bb['setUnpackP'+'remultiply'+'Alpha'](_0x108f7f['_premultip'+'lyAlpha']),this['_glCreated']&&_0x5d188f?_0x476a18['texSubImag'+'e2D'](_0x476a18['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x203668,_0x10ec75,0x833+0x1*0x1212+-0x541*0x5,0x22e2+0x150c+0x1bf7*-0x2,Math['max'](_0x108f7f['_width']*_0x27da34,-0x120f+-0x1dc2+-0x17e9*-0x2),Math['max'](_0x108f7f['_height']*_0x27da34,-0x1*0x637+0x842*-0x3+-0x2*-0xf7f),this['_glFormat'],this['_glPixelTy'+'pe'],_0x5d188f):_0x476a18['texImage2D'](_0x476a18['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x203668,_0x10ec75,this['_glInterna'+'lFormat'],Math['max'](_0x108f7f['_width']*_0x27da34,0x20a1+-0x1*-0x51b+-0x25bb),Math['max'](_0x108f7f['_height']*_0x27da34,-0x469*0x7+0x15f6+0x8ea),0x15c*-0x10+0xf0d+0x6b3,this['_glFormat'],this['_glPixelTy'+'pe'],_0x5d188f));}}else{if(_0x108f7f['_volume'])_0x108f7f['_compresse'+'d']?_0x476a18['compressed'+'TexImage3D'](_0x476a18['TEXTURE_3D'],_0x10ec75,this['_glInterna'+'lFormat'],Math['max'](_0x108f7f['_width']*_0x27da34,-0x1*-0x12a3+-0x95*-0x1b+-0x2259),Math['max'](_0x108f7f['_height']*_0x27da34,-0x1d08+0x1*0x195b+0x3ae),Math['max'](_0x108f7f['_depth']*_0x27da34,0x9*0x1ef+-0x23da*0x1+-0x1*-0x1274),-0x8*0x395+0xe84*-0x1+0x2*0x1596,_0x53d7bc):(_0x8e38bb['setUnpackF'+'lipY'](!(0x1915*-0x1+-0x3ed*0x5+0x2cb7)),_0x8e38bb['setUnpackP'+'remultiply'+'Alpha'](_0x108f7f['_premultip'+'lyAlpha']),_0x476a18['texImage3D'](_0x476a18['TEXTURE_3D'],_0x10ec75,this['_glInterna'+'lFormat'],Math['max'](_0x108f7f['_width']*_0x27da34,0xa*0x44+-0x22c6*0x1+0x201f),Math['max'](_0x108f7f['_height']*_0x27da34,-0x1046*0x1+0x2*0xfda+0x1*-0xf6d),Math['max'](_0x108f7f['_depth']*_0x27da34,0x379*0x2+-0x12a7*-0x1+0x8*-0x333),-0x4*0x2d1+-0x7fb+0x133f,this['_glFormat'],this['_glPixelTy'+'pe'],_0x53d7bc));else{if(_0x108f7f['array']&&typeof _0x53d7bc=='object'){if(_0x108f7f['_arrayLeng'+'th']===_0x53d7bc['length']){if(_0x108f7f['_compresse'+'d']){for(let _0x161380=-0x16d*-0x3+-0x7*-0x65+-0x70a;_0x161380<_0x108f7f['_arrayLeng'+'th'];_0x161380++)_0x476a18['compressed'+'TexSubImag'+'e3D'](_0x476a18['TEXTURE_2D'+'_ARRAY'],_0x10ec75,0xb9e*0x3+-0xcee+-0x15ec,-0x78+-0x1c9*0x5+0x1e1*0x5,_0x161380,Math['max'](Math['floor'](_0x108f7f['_width']*_0x27da34),0x1*-0xa95+-0x276*-0x3+0x334),Math['max'](Math['floor'](_0x108f7f['_height']*_0x27da34),-0x7bb*0x2+0xe91+0xa*0x17),0x44*-0xd+-0x1ae1*0x1+0x1e56,this['_glInterna'+'lFormat'],_0x53d7bc[_0x161380]);}else{for(let _0x5cffe3=0x1*-0xf3a+0x1*-0x250d+0x3*0x116d;_0x5cffe3<_0x108f7f['_arrayLeng'+'th'];_0x5cffe3++)_0x476a18['texSubImag'+'e3D'](_0x476a18['TEXTURE_2D'+'_ARRAY'],_0x10ec75,0x1730+0x1*0x270d+-0x3e3d,0x451*0x5+0x4*-0x2cf+-0xa59,_0x5cffe3,Math['max'](Math['floor'](_0x108f7f['_width']*_0x27da34),-0x1*0x19c3+0xcf*-0xf+0x1*0x25e5),Math['max'](Math['floor'](_0x108f7f['_height']*_0x27da34),-0x2609+-0x2449*0x1+-0x1*-0x4a53),-0x1*-0x4e4+-0xe4d+0xf1*0xa,this['_glFormat'],this['_glPixelTy'+'pe'],_0x53d7bc[_0x5cffe3]);}}}else{if(_0x8e38bb['_isBrowser'+'Interface'](_0x53d7bc)){_0x8e38bb['_isImageBr'+'owserInter'+'face'](_0x53d7bc)&&(_0x53d7bc['width']>_0x8e38bb['maxTexture'+'Size']||_0x53d7bc['height']>_0x8e38bb['maxTexture'+'Size'])&&(_0x53d7bc=Rm(_0x53d7bc,_0x8e38bb['maxTexture'+'Size']),_0x10ec75===0x1a62+-0x4*-0x7a0+-0x38e2&&(_0x108f7f['_width']=_0x53d7bc['width'],_0x108f7f['_height']=_0x53d7bc['height']));const _0x141cdc=_0x53d7bc['width']||_0x53d7bc['videoWidth'],_0x24e754=_0x53d7bc['height']||_0x53d7bc['videoHeigh'+'t'];_0x8e38bb['setUnpackF'+'lipY'](_0x108f7f['_flipY']),_0x8e38bb['setUnpackP'+'remultiply'+'Alpha'](_0x108f7f['_premultip'+'lyAlpha']),this['_glCreated']&&_0x108f7f['_width']===_0x141cdc&&_0x108f7f['_height']===_0x24e754&&!_0x8e38bb['_isImageVi'+'deoInterfa'+'ce'](_0x53d7bc)?_0x476a18['texSubImag'+'e2D'](_0x476a18['TEXTURE_2D'],_0x10ec75,0x9c0+-0x8b*-0xb+-0xfb9,0x1e*0x11f+-0xf98+-0x905*0x2,this['_glFormat'],this['_glPixelTy'+'pe'],_0x53d7bc):(_0x476a18['texImage2D'](_0x476a18['TEXTURE_2D'],_0x10ec75,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x53d7bc),_0x10ec75===-0x161a+0x1*0x225f+-0x15d*0x9&&(_0x108f7f['_width']=_0x141cdc,_0x108f7f['_height']=_0x24e754));}else _0x27da34=(-0x687*-0x5+0x1*0x14d3+-0x3575)/Math['pow'](0x23dd*-0x1+0x20c7*0x1+0x48*0xb,_0x10ec75),_0x108f7f['_compresse'+'d']?this['_glCreated']&&_0x53d7bc?_0x476a18['compressed'+'TexSubImag'+'e2D'](_0x476a18['TEXTURE_2D'],_0x10ec75,0x6a4*0x4+0x2b0+-0x1d40,-0x443*-0x5+0x2090+0x35df*-0x1,Math['max'](Math['floor'](_0x108f7f['_width']*_0x27da34),0x9*-0x2f0+-0x1*0x19d6+0x3447),Math['max'](Math['floor'](_0x108f7f['_height']*_0x27da34),0xbf1+0x18d*-0x12+-0x2*-0x7fd),this['_glInterna'+'lFormat'],_0x53d7bc):_0x476a18['compressed'+'TexImage2D'](_0x476a18['TEXTURE_2D'],_0x10ec75,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x108f7f['_width']*_0x27da34),-0x1*-0x1fff+0x2*0x11a1+0x1*-0x4340),Math['max'](Math['floor'](_0x108f7f['_height']*_0x27da34),0x141b+-0x49b*-0x4+0x2686*-0x1),0x2658+0x1*0x7d3+-0x2e2b*0x1,_0x53d7bc):(_0x8e38bb['setUnpackF'+'lipY'](!(0x27*0xc5+0x3b*-0x71+0x7*-0x91)),_0x8e38bb['setUnpackP'+'remultiply'+'Alpha'](_0x108f7f['_premultip'+'lyAlpha']),this['_glCreated']&&_0x53d7bc?_0x476a18['texSubImag'+'e2D'](_0x476a18['TEXTURE_2D'],_0x10ec75,0x6d*-0xf+-0x1da0+0x2403*0x1,-0x1*0x531+-0x7bc+0xced,Math['max'](_0x108f7f['_width']*_0x27da34,0x1cab+-0xe55+-0xe55),Math['max'](_0x108f7f['_height']*_0x27da34,-0x1178+-0x9ba+0x1b33),this['_glFormat'],this['_glPixelTy'+'pe'],_0x53d7bc):_0x476a18['texImage2D'](_0x476a18['TEXTURE_2D'],_0x10ec75,this['_glInterna'+'lFormat'],Math['max'](_0x108f7f['_width']*_0x27da34,0x5*0x75b+-0x6*-0x95+0x1422*-0x2),Math['max'](_0x108f7f['_height']*_0x27da34,0x1ea7*-0x1+0x12*-0xf9+-0x2*-0x1815),0xd2f+-0x98*0x11+-0x317,this['_glFormat'],this['_glPixelTy'+'pe'],_0x53d7bc));_0x10ec75===-0x581*0x2+-0x1714+0x2216?_0x108f7f['_mipmapsUp'+'loaded']=!(0x2430+-0x1075+-0x5*0x3f2):_0x108f7f['_mipmapsUp'+'loaded']=!(-0x13*0xc5+-0x4f2+0x1391*0x1);}}}_0x10ec75++;}if(_0x108f7f['_needsUplo'+'ad']){if(_0x108f7f['_cubemap']){for(let _0x26d977=-0xf22*-0x1+0x1ac*0x10+-0x29e2;_0x26d977<-0x4*-0x762+0x15ed*0x1+0x4d*-0xab;_0x26d977++)_0x108f7f['_levelsUpd'+'ated'][0x976+-0x12d1*0x1+0x95b][_0x26d977]=!(0x3*-0xd+-0x5e*0x56+0xfde*0x2);}else _0x108f7f['_levelsUpd'+'ated'][0x8d5+0xdcb*-0x1+-0x1*-0x4f6]=!(0x21*-0x63+0x4ca*-0x4+0x1fec);}!_0x108f7f['_compresse'+'d']&&!_0x108f7f['_integerFo'+'rmat']&&_0x108f7f['_mipmaps']&&_0x108f7f['_needsMipm'+'apsUpload']&&_0x108f7f['_levels']['length']===0x229e+-0x31f+-0x1f7e&&(_0x476a18['generateMi'+'pmap'](this['_glTarget']),_0x108f7f['_mipmapsUp'+'loaded']=!(-0x11cb+-0x4*0x23+0x1257)),_0x108f7f['_gpuSize']&&_0x108f7f['adjustVram'+'SizeTracki'+'ng'](_0x8e38bb['_vram'],-_0x108f7f['_gpuSize']),_0x108f7f['_gpuSize']=_0x108f7f['gpuSize'],_0x108f7f['adjustVram'+'SizeTracki'+'ng'](_0x8e38bb['_vram'],_0x108f7f['_gpuSize']),this['_glCreated']=!(-0x15*0x98+-0x16a1+0x2319);}['read'](_0x1ba8ce,_0x4f3919,_0x35ff98,_0x1c16bd,_0x4e5b8d){const _0x961fab=this['texture'];return _0x961fab['device']['readTextur'+'eAsync'](_0x961fab,_0x1ba8ce,_0x4f3919,_0x35ff98,_0x1c16bd,_0x4e5b8d);}}class cb{constructor(_0x342eb3,_0x3ff460){c(this,'msaaFB'),c(this,'resolveFB'),(this['msaaFB']=_0x342eb3,this['resolveFB']=_0x3ff460);}['destroy'](_0xf1f934){this['msaaFB']&&(_0xf1f934['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0xf1f934['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class db{constructor(){c(this,'_glFrameBu'+'ffer',null),c(this,'_glDepthBu'+'ffer',null),c(this,'_glResolve'+'FrameBuffe'+'r',null),c(this,'colorMrtFr'+'amebuffers',null),c(this,'_glMsaaCol'+'orBuffers',[]),c(this,'_glMsaaDep'+'thBuffer',null),c(this,'msaaDepthB'+'ufferKey'),c(this,'suppliedCo'+'lorFramebu'+'ffer'),c(this,'_isInitial'+'ized',!(0x4d0+0x2425+-0x4*0xa3d));}['destroy'](_0xfb0a5a){var _0x175487;const _0x1ed4ae=_0xfb0a5a['gl'];this['_isInitial'+'ized']=!(0xd3f+0xdcd+-0x17*0x12d),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x1ed4ae['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x1ed4ae['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x1ed4ae['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x3711d6=>{_0x1ed4ae['deleteRend'+'erbuffer'](_0x3711d6);}),this['_glMsaaCol'+'orBuffers']['length']=0x1e9*0x1+-0x1f6c+-0x5e7*-0x5,(_0x175487=this['colorMrtFr'+'amebuffers'])==null||_0x175487['forEach'](_0x1b4d13=>{_0x1b4d13['destroy'](_0x1ed4ae);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&od(_0xfb0a5a)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(0x2*-0xd65+0x1bd3+-0x109);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x18544a,_0x35762e){var _0x5499f5,_0x5516f8;const _0x589cc5=_0x18544a['gl'];v['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(-0x11c6+-0x543*-0x1+-0xc83*-0x1);const _0x548383=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x2*0x85d+0xc41*0x2+-0x7c8))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{v['call'](()=>{(_0x35762e['width']<=0x2432+-0x1fe7+-0x44b||_0x35762e['height']<=0x3*0x895+0x2d*-0x7f+-0x36c)&&v['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x35762e['width']+'\x20x\x20'+_0x35762e['height'],_0x35762e);}),this['_glFrameBu'+'ffer']=_0x589cc5['createFram'+'ebuffer'](),_0x18544a['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0xec4c79=((_0x5499f5=_0x35762e['_colorBuff'+'ers'])==null?void(0x14*-0x66+0x1a7b+-0x1283):_0x5499f5['length'])??0x80f+-0x25f3+0x1de4,_0x54bae6=_0x589cc5['COLOR_ATTA'+'CHMENT0'];for(let _0x568b0d=0x2062+-0x2*0xe17+-0x434;_0x568b0d<_0xec4c79;++_0x568b0d){const _0x44813e=_0x35762e['getColorBu'+'ffer'](_0x568b0d);_0x44813e&&(_0x44813e['impl']['_glTexture']||(_0x44813e['_width']=Math['min'](_0x44813e['width'],_0x18544a['maxRenderB'+'ufferSize']),_0x44813e['_height']=Math['min'](_0x44813e['height'],_0x18544a['maxRenderB'+'ufferSize']),_0x18544a['setTexture'](_0x44813e,0x2*0xd4f+0x761*-0x1+-0xc5*0x19)),_0x589cc5['framebuffe'+'rTexture2D'](_0x589cc5['FRAMEBUFFE'+'R'],_0x54bae6+_0x568b0d,_0x44813e['_cubemap']?_0x589cc5['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x35762e['_face']:_0x589cc5['TEXTURE_2D'],_0x44813e['impl']['_glTexture'],_0x35762e['mipLevel']),_0x548383['push'](_0x54bae6+_0x568b0d));}_0x589cc5['drawBuffer'+'s'](_0x548383);const _0x4af471=_0x35762e['_depthBuff'+'er'];if(_0x4af471||_0x35762e['_depth']){const _0x1f92b4=_0x35762e['_stencil']?_0x589cc5['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x589cc5['DEPTH_ATTA'+'CHMENT'];if(_0x4af471)_0x4af471['impl']['_glTexture']||(_0x4af471['_width']=Math['min'](_0x4af471['width'],_0x18544a['maxRenderB'+'ufferSize']),_0x4af471['_height']=Math['min'](_0x4af471['height'],_0x18544a['maxRenderB'+'ufferSize']),_0x18544a['setTexture'](_0x4af471,-0x5*0x579+0x26da+0x1*-0xb7d)),_0x589cc5['framebuffe'+'rTexture2D'](_0x589cc5['FRAMEBUFFE'+'R'],_0x1f92b4,_0x4af471['_cubemap']?_0x589cc5['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x35762e['_face']:_0x589cc5['TEXTURE_2D'],_0x35762e['_depthBuff'+'er']['impl']['_glTexture'],_0x35762e['mipLevel']);else{if(!(_0x35762e['_samples']>-0x241*-0x1+0x4ca*0x1+0x22*-0x35)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x589cc5['createRend'+'erbuffer']());const _0x4def75=_0x35762e['_stencil']?_0x589cc5['DEPTH24_ST'+'ENCIL8']:_0x589cc5['DEPTH_COMP'+'ONENT32F'];_0x589cc5['bindRender'+'buffer'](_0x589cc5['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x589cc5['renderbuff'+'erStorage'](_0x589cc5['RENDERBUFF'+'ER'],_0x4def75,_0x35762e['width'],_0x35762e['height']),_0x589cc5['framebuffe'+'rRenderbuf'+'fer'](_0x589cc5['FRAMEBUFFE'+'R'],_0x1f92b4,_0x589cc5['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x589cc5['bindRender'+'buffer'](_0x589cc5['RENDERBUFF'+'ER'],null);}}}v['call'](()=>this['_checkFbo'](_0x18544a,_0x35762e));}if(_0x35762e['_samples']>-0x1026+-0x3c4*0x9+-0x320b*-0x1){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x589cc5['createFram'+'ebuffer'](),_0x18544a['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x23c27a=((_0x5516f8=_0x35762e['_colorBuff'+'ers'])==null?void(0x72f+-0x983+0x254):_0x5516f8['length'])??0x24a3+-0x20fd+-0x3a6;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x16c*-0x19+-0xe13+0xef*-0x17)){const _0x530ef8=_0x589cc5['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x530ef8);const _0x5be113=_0x18544a['backBuffer'+'Format']===Se?_0x589cc5['RGBA8']:_0x589cc5['RGB8'];_0x589cc5['bindRender'+'buffer'](_0x589cc5['RENDERBUFF'+'ER'],_0x530ef8),_0x589cc5['renderbuff'+'erStorageM'+'ultisample'](_0x589cc5['RENDERBUFF'+'ER'],_0x35762e['_samples'],_0x5be113,_0x35762e['width'],_0x35762e['height']),_0x589cc5['framebuffe'+'rRenderbuf'+'fer'](_0x589cc5['FRAMEBUFFE'+'R'],_0x589cc5['COLOR_ATTA'+'CHMENT0'],_0x589cc5['RENDERBUFF'+'ER'],_0x530ef8);}else for(let _0xb2899=-0x1*-0xd05+0xeb9+-0x1bbe;_0xb2899<_0x23c27a;++_0xb2899){const _0x546def=_0x35762e['getColorBu'+'ffer'](_0xb2899);if(_0x546def){const _0x4e566a=_0x589cc5['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x4e566a),_0x589cc5['bindRender'+'buffer'](_0x589cc5['RENDERBUFF'+'ER'],_0x4e566a),_0x589cc5['renderbuff'+'erStorageM'+'ultisample'](_0x589cc5['RENDERBUFF'+'ER'],_0x35762e['_samples'],_0x546def['impl']['_glInterna'+'lFormat'],_0x35762e['width'],_0x35762e['height']),_0x589cc5['framebuffe'+'rRenderbuf'+'fer'](_0x589cc5['FRAMEBUFFE'+'R'],_0x589cc5['COLOR_ATTA'+'CHMENT0']+_0xb2899,_0x589cc5['RENDERBUFF'+'ER'],_0x4e566a);}}if(_0x35762e['_depth']){v['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x477141=_0x35762e['_stencil']?_0x589cc5['DEPTH24_ST'+'ENCIL8']:_0x589cc5['DEPTH_COMP'+'ONENT32F'],_0x345c0f=_0x35762e['_stencil']?_0x589cc5['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x589cc5['DEPTH_ATTA'+'CHMENT'];let _0x57328b;const _0x11e032=_0x35762e['_depthBuff'+'er'];_0x11e032&&(_0x57328b=_0x11e032['id']+':'+_0x35762e['width']+':'+_0x35762e['height']+':'+_0x35762e['_samples']+':'+_0x477141+':'+_0x345c0f,this['_glMsaaDep'+'thBuffer']=od(_0x18544a)['get'](_0x57328b)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x589cc5['createRend'+'erbuffer'](),_0x589cc5['bindRender'+'buffer'](_0x589cc5['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x589cc5['renderbuff'+'erStorageM'+'ultisample'](_0x589cc5['RENDERBUFF'+'ER'],_0x35762e['_samples'],_0x477141,_0x35762e['width'],_0x35762e['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x589cc5['deleteRend'+'erbuffer'](this);},_0x11e032&&od(_0x18544a)['set'](_0x57328b,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x57328b,_0x589cc5['framebuffe'+'rRenderbuf'+'fer'](_0x589cc5['FRAMEBUFFE'+'R'],_0x345c0f,_0x589cc5['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}v['call'](()=>this['_checkFbo'](_0x18544a,_0x35762e,'MSAA')),_0x23c27a>0x29*-0x61+0x35c*-0x6+0x6*0x5f3&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x18544a,_0x35762e,_0x23c27a),_0x18544a['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x589cc5['drawBuffer'+'s'](_0x548383));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x52d652,_0x37cb0a,_0x38b1b4){const _0x16b0a3=_0x52d652['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x526ad3=0x21b9+-0x29*-0xbf+-0x4050;_0x526ad3<_0x38b1b4;++_0x526ad3){const _0xe5f2d0=_0x37cb0a['getColorBu'+'ffer'](_0x526ad3),_0x1a9ebd=_0x16b0a3['createFram'+'ebuffer']();_0x52d652['setFramebu'+'ffer'](_0x1a9ebd);const _0x7f9ae=this['_glMsaaCol'+'orBuffers'][_0x526ad3];_0x16b0a3['bindRender'+'buffer'](_0x16b0a3['RENDERBUFF'+'ER'],_0x7f9ae),_0x16b0a3['renderbuff'+'erStorageM'+'ultisample'](_0x16b0a3['RENDERBUFF'+'ER'],_0x37cb0a['_samples'],_0xe5f2d0['impl']['_glInterna'+'lFormat'],_0x37cb0a['width'],_0x37cb0a['height']),_0x16b0a3['framebuffe'+'rRenderbuf'+'fer'](_0x16b0a3['FRAMEBUFFE'+'R'],_0x16b0a3['COLOR_ATTA'+'CHMENT0'],_0x16b0a3['RENDERBUFF'+'ER'],_0x7f9ae),_0x16b0a3['drawBuffer'+'s']([_0x16b0a3['COLOR_ATTA'+'CHMENT0']]),v['call'](()=>this['_checkFbo'](_0x52d652,_0x37cb0a,'MSAA-MRT-s'+'rc'+_0x526ad3));const _0x5c8c89=_0x16b0a3['createFram'+'ebuffer']();_0x52d652['setFramebu'+'ffer'](_0x5c8c89),_0x16b0a3['framebuffe'+'rTexture2D'](_0x16b0a3['FRAMEBUFFE'+'R'],_0x16b0a3['COLOR_ATTA'+'CHMENT0'],_0xe5f2d0['_cubemap']?_0x16b0a3['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x37cb0a['_face']:_0x16b0a3['TEXTURE_2D'],_0xe5f2d0['impl']['_glTexture'],0xadf+0x8*-0xa3+-0x5c7),this['colorMrtFr'+'amebuffers'][_0x526ad3]=new cb(_0x1a9ebd,_0x5c8c89),v['call'](()=>this['_checkFbo'](_0x52d652,_0x37cb0a,'MSAA-MRT-d'+'st'+_0x526ad3));}}['_checkFbo'](_0x11bf22,_0x1e0044,_0x55f827=''){const _0x35a3e0=_0x11bf22['gl'],_0x1fd982=_0x35a3e0['checkFrame'+'bufferStat'+'us'](_0x35a3e0['FRAMEBUFFE'+'R']);let _0x28c6f6;switch(_0x1fd982){case _0x35a3e0['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x28c6f6='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x35a3e0['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x28c6f6='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x35a3e0['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x28c6f6='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x35a3e0['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x28c6f6='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}v['assert'](!_0x28c6f6,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x28c6f6+(',\x20render\x20t'+'arget:\x20')+_0x1e0044['name']+'\x20'+_0x55f827,_0x1e0044);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=0x265b+0x400+-0x2a5b*0x1,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(0x1496+0xfe*0x26+-0x3*0x136e),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(0x5cc+-0x16ac*-0x1+-0x1c78),this['_isInitial'+'ized']=!(-0x161b*-0x1+0x1*0xff+0x1b*-0xdb);}['internalRe'+'solve'](_0xdc39b3,_0xdc6e08,_0x4222c8,_0x4f9664,_0x89dadb){v['assert'](_0xdc6e08!==_0x4222c8,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0xdc39b3['setScissor'](0x82f*-0x1+0x1*0x76d+-0x2*-0x61,-0xa70*-0x3+-0x2*0x436+-0xb72*0x2,_0x4f9664['width'],_0x4f9664['height']);const _0x5cce08=_0xdc39b3['gl'];_0x5cce08['bindFrameb'+'uffer'](_0x5cce08['READ_FRAME'+'BUFFER'],_0xdc6e08),_0x5cce08['bindFrameb'+'uffer'](_0x5cce08['DRAW_FRAME'+'BUFFER'],_0x4222c8),_0x5cce08['blitFrameb'+'uffer'](0x245e+-0x1b05*0x1+0x1*-0x959,-0x21e0+0x3b*-0x4a+0x32ee,_0x4f9664['width'],_0x4f9664['height'],0x1*0xf97+0x2f*-0x5a+0xef,0x29*0x3+-0x1*0x22c1+-0x29*-0xd6,_0x4f9664['width'],_0x4f9664['height'],_0x89dadb,_0x5cce08['NEAREST']);}['resolve'](_0x4f333d,_0x3c8354,_0x138bd7,_0x5ac0e8){const _0xfc131f=_0x4f333d['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x138bd7)for(let _0x36228c=0x7dd*0x2+0x2d4+-0x128e;_0x36228c<this['colorMrtFr'+'amebuffers']['length'];_0x36228c++){const _0x14f230=this['colorMrtFr'+'amebuffers'][_0x36228c];G['pushGpuMar'+'ker'](_0x4f333d,'RESOLVE-MR'+'T'+_0x36228c),this['internalRe'+'solve'](_0x4f333d,_0x14f230['msaaFB'],_0x14f230['resolveFB'],_0x3c8354,_0xfc131f['COLOR_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x4f333d);}_0x5ac0e8&&(G['pushGpuMar'+'ker'](_0x4f333d,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x4f333d,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x3c8354,_0xfc131f['DEPTH_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x4f333d));}else G['pushGpuMar'+'ker'](_0x4f333d,'RESOLVE'),this['internalRe'+'solve'](_0x4f333d,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x3c8354,(_0x138bd7?_0xfc131f['COLOR_BUFF'+'ER_BIT']:-0x2477*0x1+0x1966+0xb11)|(_0x5ac0e8?_0xfc131f['DEPTH_BUFF'+'ER_BIT']:0x18ea+0x1*-0x242a+0xb40)),G['popGpuMark'+'er'](_0x4f333d);_0xfc131f['bindFrameb'+'uffer'](_0xfc131f['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class ub{constructor(){c(this,'renderVers'+'ion'),c(this,'queries',[]);}['destroy'](_0x4624a7){this['queries']['forEach'](_0xc6ee79=>_0x4624a7['deleteQuer'+'y'](_0xc6ee79)),this['queries']=null;}}class fb extends tb{constructor(_0x28c38d){super(),c(this,'device'),c(this,'freeQuerie'+'s',[]),c(this,'frameQueri'+'es',[]),c(this,'previousFr'+'ameQueries',[]),c(this,'timings',[]),(this['device']=_0x28c38d,this['ext']=_0x28c38d['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x5b62a4=>this['device']['gl']['deleteQuer'+'y'](_0x5b62a4)),this['frameQueri'+'es']['forEach'](_0x497d98=>this['device']['gl']['deleteQuer'+'y'](_0x497d98)),this['previousFr'+'ameQueries']['forEach'](_0x2858fd=>_0x2858fd['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x45fa7d){if(this['ext']){const _0x417d89=this['getSlot'](_0x45fa7d),_0x5510a3=this['getQuery']();return this['frameQueri'+'es'][_0x417d89]=_0x5510a3,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x5510a3),_0x417d89;}}['end'](_0x1acce8){_0x1acce8!==void(0x3*0x46f+0x1*0x251d+-0x326a)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x1bd6ae=this['ext'],_0x733221=this['device']['gl'],_0x18916d=this['device']['renderVers'+'ion'],_0x3a9015=this['frameQueri'+'es'];if(_0x3a9015['length']>0x185e+-0x1*-0x695+-0x1ef3){this['frameQueri'+'es']=[];const _0x3556f0=new ub();_0x3556f0['queries']=_0x3a9015,_0x3556f0['renderVers'+'ion']=_0x18916d,this['previousFr'+'ameQueries']['push'](_0x3556f0);}if(this['previousFr'+'ameQueries']['length']>0x2b5+-0x1f3a+-0x95*-0x31){const _0x4085d3=this['previousFr'+'ameQueries'][-0x1726+-0x5*0x529+0x30f3*0x1],_0x1fb20e=_0x4085d3['queries'],_0x1c4f6e=_0x1fb20e[_0x1fb20e['length']-(0x383+0x2448+-0x27ca)],_0x462ac5=_0x733221['getQueryPa'+'rameter'](_0x1c4f6e,_0x733221['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x5a95aa=_0x733221['getParamet'+'er'](_0x1bd6ae['GPU_DISJOI'+'NT_EXT']);if(_0x462ac5&&!_0x5a95aa){this['previousFr'+'ameQueries']['shift']();const _0x440cbf=this['timings'];_0x440cbf['length']=0x29*0x2f+-0x11aa+-0xad*-0xf;for(let _0x558dad=-0x245b*-0x1+-0x805*-0x1+-0x2c60;_0x558dad<_0x1fb20e['length'];_0x558dad++){const _0x8c7eb7=_0x1fb20e[_0x558dad],_0x3c8f07=_0x733221['getQueryPa'+'rameter'](_0x8c7eb7,_0x733221['QUERY_RESU'+'LT']);_0x440cbf[_0x558dad]=_0x3c8f07*(0x178*0x3+0x14ff*-0x1+0x1097+0.000001),this['freeQuerie'+'s']['push'](_0x8c7eb7);}this['report'](_0x4085d3['renderVers'+'ion'],_0x440cbf);}_0x5a95aa&&(this['previousFr'+'ameQueries']['forEach'](_0x92403d=>{this['report'](_0x92403d['renderVers'+'ion'],null),_0x92403d['destroy'](_0x733221);}),this['previousFr'+'ameQueries']['length']=0x1*0x140d+0x1044+-0x2451*0x1);}super['request'](_0x18916d);}}}const Tn=[];class pb extends Fh{constructor(_0x29a5c5,_0x466444={}){super(_0x29a5c5,_0x466444),c(this,'gl'),c(this,'_defaultFr'+'amebuffer',null),c(this,'_defaultFr'+'amebufferC'+'hanged',!(0xb2f+-0xcee+0x1c0)),(_0x466444=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(-0x1503+0xfeb*-0x2+-0x37*-0xf6),this['_contextLo'+'stHandler']=_0xbf83b=>{_0xbf83b['preventDef'+'ault'](),this['loseContex'+'t'](),v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0xa7fcd9=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0xa7fcd9&&_0xa7fcd9['includes']('AppleWebKi'+'t')&&(_0xa7fcd9['includes']('15.4')||_0xa7fcd9['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x466444['antialias']=!(0x9*0x34+-0x1*-0x1b02+-0x1cd5),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),ye['browserNam'+'e']==='firefox'){const _0x5f5d0e=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x12d9c2=_0x5f5d0e?_0x5f5d0e[0x26f1+0x91*0x2e+-0x2f*0x162]:null;if(_0x12d9c2){const _0x123241=parseFloat(_0x12d9c2);(ye['name']==='windows'&&(_0x123241>=0x24e3+-0x3*0xcb5+0x1b4||_0x123241===-0xcbe+0xf64+-0x233)||ye['name']==='android'&&_0x123241>=-0x894+-0x33f*0x1+0xc57)&&(_0x466444['antialias']=!(-0x8f5*-0x2+-0x1ac7+0xa*0xe3),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+ye['name']+('\x20platform\x20'+'version\x20')+_0x12d9c2));}}this['backBuffer'+'Antialias']=_0x466444['antialias']??!(-0x121f*-0x1+0x13c8+-0x25e6),_0x466444['antialias']=!(-0x10c2+0x2675+-0x2*0xad9);const _0x49a152=_0x466444['gl']??_0x29a5c5['getContext']('webgl2',_0x466444);if(!_0x49a152)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x49a152,this['isWebGL2']=!(-0x4b*-0x39+-0x27a+-0xe39),this['_deviceTyp'+'e']=mv,this['updateBack'+'bufferForm'+'at'](null);const _0x5c15f6=ye['browserNam'+'e']==='chrome',_0x5a35ea=ye['browserNam'+'e']==='safari',_0x5cdd99=ye['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(-0x389*-0x9+-0x194*-0x1+-0x2164);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x5a35ea,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x5cdd99&&_0x5c15f6&&!_0x466444['alpha'],_0x29a5c5['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x155f+-0x3*0xc6+0x2*0xbd9)),_0x29a5c5['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x459*0x5+-0xac5*-0x3+0x360b*-0x1)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x5a35ea&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x49a152['SAMPLER_2D'],_0x49a152['SAMPLER_CU'+'BE'],_0x49a152['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x49a152['INT_SAMPLE'+'R_2D'],_0x49a152['SAMPLER_2D'+'_SHADOW'],_0x49a152['SAMPLER_CU'+'BE_SHADOW'],_0x49a152['SAMPLER_3D'],_0x49a152['INT_SAMPLE'+'R_3D'],_0x49a152['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x49a152['SAMPLER_2D'+'_ARRAY'],_0x49a152['INT_SAMPLE'+'R_2D_ARRAY'],_0x49a152['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x49a152['REPEAT'],_0x49a152['CLAMP_TO_E'+'DGE'],_0x49a152['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x49a152['FUNC_ADD'],_0x49a152['FUNC_SUBTR'+'ACT'],_0x49a152['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x49a152['MIN'],_0x49a152['MAX']],this['glBlendFun'+'ctionColor']=[_0x49a152['ZERO'],_0x49a152['ONE'],_0x49a152['SRC_COLOR'],_0x49a152['ONE_MINUS_'+'SRC_COLOR'],_0x49a152['DST_COLOR'],_0x49a152['ONE_MINUS_'+'DST_COLOR'],_0x49a152['SRC_ALPHA'],_0x49a152['SRC_ALPHA_'+'SATURATE'],_0x49a152['ONE_MINUS_'+'SRC_ALPHA'],_0x49a152['DST_ALPHA'],_0x49a152['ONE_MINUS_'+'DST_ALPHA'],_0x49a152['CONSTANT_C'+'OLOR'],_0x49a152['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x49a152['ZERO'],_0x49a152['ONE'],_0x49a152['SRC_COLOR'],_0x49a152['ONE_MINUS_'+'SRC_COLOR'],_0x49a152['DST_COLOR'],_0x49a152['ONE_MINUS_'+'DST_COLOR'],_0x49a152['SRC_ALPHA'],_0x49a152['SRC_ALPHA_'+'SATURATE'],_0x49a152['ONE_MINUS_'+'SRC_ALPHA'],_0x49a152['DST_ALPHA'],_0x49a152['ONE_MINUS_'+'DST_ALPHA'],_0x49a152['CONSTANT_A'+'LPHA'],_0x49a152['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x49a152['NEVER'],_0x49a152['LESS'],_0x49a152['EQUAL'],_0x49a152['LEQUAL'],_0x49a152['GREATER'],_0x49a152['NOTEQUAL'],_0x49a152['GEQUAL'],_0x49a152['ALWAYS']],this['glStencilO'+'p']=[_0x49a152['KEEP'],_0x49a152['ZERO'],_0x49a152['REPLACE'],_0x49a152['INCR'],_0x49a152['INCR_WRAP'],_0x49a152['DECR'],_0x49a152['DECR_WRAP'],_0x49a152['INVERT']],this['glClearFla'+'g']=[0x1*-0x1d86+-0x14aa+-0x490*-0xb,_0x49a152['COLOR_BUFF'+'ER_BIT'],_0x49a152['DEPTH_BUFF'+'ER_BIT'],_0x49a152['COLOR_BUFF'+'ER_BIT']|_0x49a152['DEPTH_BUFF'+'ER_BIT'],_0x49a152['STENCIL_BU'+'FFER_BIT'],_0x49a152['STENCIL_BU'+'FFER_BIT']|_0x49a152['COLOR_BUFF'+'ER_BIT'],_0x49a152['STENCIL_BU'+'FFER_BIT']|_0x49a152['DEPTH_BUFF'+'ER_BIT'],_0x49a152['STENCIL_BU'+'FFER_BIT']|_0x49a152['COLOR_BUFF'+'ER_BIT']|_0x49a152['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[-0x1a13+0x43*0x43+0x88a,_0x49a152['BACK'],_0x49a152['FRONT'],_0x49a152['FRONT_AND_'+'BACK']],this['glFilter']=[_0x49a152['NEAREST'],_0x49a152['LINEAR'],_0x49a152['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x49a152['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x49a152['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x49a152['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x49a152['POINTS'],_0x49a152['LINES'],_0x49a152['LINE_LOOP'],_0x49a152['LINE_STRIP'],_0x49a152['TRIANGLES'],_0x49a152['TRIANGLE_S'+'TRIP'],_0x49a152['TRIANGLE_F'+'AN']],this['glType']=[_0x49a152['BYTE'],_0x49a152['UNSIGNED_B'+'YTE'],_0x49a152['SHORT'],_0x49a152['UNSIGNED_S'+'HORT'],_0x49a152['INT'],_0x49a152['UNSIGNED_I'+'NT'],_0x49a152['FLOAT'],_0x49a152['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x49a152['BOOL']]=ca,this['pcUniformT'+'ype'][_0x49a152['INT']]=ln,this['pcUniformT'+'ype'][_0x49a152['FLOAT']]=$s,this['pcUniformT'+'ype'][_0x49a152['FLOAT_VEC2']]=or,this['pcUniformT'+'ype'][_0x49a152['FLOAT_VEC3']]=$t,this['pcUniformT'+'ype'][_0x49a152['FLOAT_VEC4']]=xa,this['pcUniformT'+'ype'][_0x49a152['INT_VEC2']]=Zr,this['pcUniformT'+'ype'][_0x49a152['INT_VEC3']]=Qr,this['pcUniformT'+'ype'][_0x49a152['INT_VEC4']]=Jr,this['pcUniformT'+'ype'][_0x49a152['BOOL_VEC2']]=Lo,this['pcUniformT'+'ype'][_0x49a152['BOOL_VEC3']]=Fo,this['pcUniformT'+'ype'][_0x49a152['BOOL_VEC4']]=Oo,this['pcUniformT'+'ype'][_0x49a152['FLOAT_MAT2']]=Rh,this['pcUniformT'+'ype'][_0x49a152['FLOAT_MAT3']]=ko,this['pcUniformT'+'ype'][_0x49a152['FLOAT_MAT4']]=Sa,this['pcUniformT'+'ype'][_0x49a152['SAMPLER_2D']]=JS,this['pcUniformT'+'ype'][_0x49a152['SAMPLER_CU'+'BE']]=ev,this['pcUniformT'+'ype'][_0x49a152['UNSIGNED_I'+'NT']]=va,this['pcUniformT'+'ype'][_0x49a152['UNSIGNED_I'+'NT_VEC2']]=ba,this['pcUniformT'+'ype'][_0x49a152['UNSIGNED_I'+'NT_VEC3']]=wa,this['pcUniformT'+'ype'][_0x49a152['UNSIGNED_I'+'NT_VEC4']]=Ta,this['pcUniformT'+'ype'][_0x49a152['SAMPLER_2D'+'_SHADOW']]=tv,this['pcUniformT'+'ype'][_0x49a152['SAMPLER_CU'+'BE_SHADOW']]=sv,this['pcUniformT'+'ype'][_0x49a152['SAMPLER_2D'+'_ARRAY']]=rv,this['pcUniformT'+'ype'][_0x49a152['SAMPLER_3D']]=iv,this['pcUniformT'+'ype'][_0x49a152['INT_SAMPLE'+'R_2D']]=nv,this['pcUniformT'+'ype'][_0x49a152['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=av,this['pcUniformT'+'ype'][_0x49a152['INT_SAMPLE'+'R_CUBE']]=ov,this['pcUniformT'+'ype'][_0x49a152['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=lv,this['pcUniformT'+'ype'][_0x49a152['INT_SAMPLE'+'R_3D']]=hv,this['pcUniformT'+'ype'][_0x49a152['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=cv,this['pcUniformT'+'ype'][_0x49a152['INT_SAMPLE'+'R_2D_ARRAY']]=dv,this['pcUniformT'+'ype'][_0x49a152['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=uv,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x49a152['TEXTURE_2D']]=0x29*0x4f+-0x289*-0x5+-0x1954,this['targetToSl'+'ot'][_0x49a152['TEXTURE_CU'+'BE_MAP']]=-0xd*-0xbf+0x8*-0x2+-0x9a2,this['targetToSl'+'ot'][_0x49a152['TEXTURE_3D']]=-0x2672+0x116b+-0xf*-0x167;let _0x2ff1c6,_0x5d57c0,_0x51eab2,_0x3787ca,_0x25733d;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][ca]=function(_0x46e30a,_0x4ed8da){_0x46e30a['value']!==_0x4ed8da&&(_0x49a152['uniform1i'](_0x46e30a['locationId'],_0x4ed8da),_0x46e30a['value']=_0x4ed8da);},this['commitFunc'+'tion'][ln]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][$s]=function(_0xedf8b2,_0x4038a2){_0xedf8b2['value']!==_0x4038a2&&(_0x49a152['uniform1f'](_0xedf8b2['locationId'],_0x4038a2),_0xedf8b2['value']=_0x4038a2);},this['commitFunc'+'tion'][or]=function(_0x2beb9a,_0x16504c){_0x25733d=_0x2beb9a['value'],_0x2ff1c6=_0x16504c[0x4fd*0x1+0x17bd+0x2*-0xe5d],_0x5d57c0=_0x16504c[0xc4*0x2f+-0x208e+0x36d*-0x1],(_0x25733d[-0x4c1*-0x4+-0x158*0xd+0xc6*-0x2]!==_0x2ff1c6||_0x25733d[0x1*0x170f+0x86*-0x2e+-0x106*-0x1]!==_0x5d57c0)&&(_0x49a152['uniform2fv'](_0x2beb9a['locationId'],_0x16504c),_0x25733d[0x169a+-0x2ad*-0x5+-0x1*0x23fb]=_0x2ff1c6,_0x25733d[-0x137f+-0x8a8*-0x4+-0xb0*0x16]=_0x5d57c0);},this['commitFunc'+'tion'][$t]=function(_0x1693aa,_0x20aa2a){_0x25733d=_0x1693aa['value'],_0x2ff1c6=_0x20aa2a[-0x9bc+0x2503+-0x1b47],_0x5d57c0=_0x20aa2a[0x1077*-0x2+-0x149+-0x4*-0x88e],_0x51eab2=_0x20aa2a[0x850+-0x1*0x25a2+0x1d54*0x1],(_0x25733d[-0x2*0x104b+0x184*0x8+0x1476]!==_0x2ff1c6||_0x25733d[0x175*-0xb+-0xe17+0x2bd*0xb]!==_0x5d57c0||_0x25733d[0x20a3+0xaf0+-0x2b91]!==_0x51eab2)&&(_0x49a152['uniform3fv'](_0x1693aa['locationId'],_0x20aa2a),_0x25733d[-0xe7d+0x86b+0x2a*0x25]=_0x2ff1c6,_0x25733d[0x281*0xb+0x1*-0xe29+-0xd61]=_0x5d57c0,_0x25733d[-0x2562+-0xf97+0x34fb]=_0x51eab2);},this['commitFunc'+'tion'][xa]=function(_0x206201,_0x28c848){_0x25733d=_0x206201['value'],_0x2ff1c6=_0x28c848[-0x17e4+-0x2*0x764+0x5*0x7bc],_0x5d57c0=_0x28c848[-0x2043+-0x15fd+-0x1*-0x3641],_0x51eab2=_0x28c848[-0xa*-0x36a+-0x137*0x6+0x8*-0x35b],_0x3787ca=_0x28c848[0x38b*0x1+-0x1*0xcbd+-0x935*-0x1],(_0x25733d[-0xf6b*-0x1+-0x1577+0x60c]!==_0x2ff1c6||_0x25733d[-0x25f6+-0xcea+0x209*0x19]!==_0x5d57c0||_0x25733d[0x2*0x1177+0x740+-0x2a2c]!==_0x51eab2||_0x25733d[-0x1a6e+0xacd+-0x23c*-0x7]!==_0x3787ca)&&(_0x49a152['uniform4fv'](_0x206201['locationId'],_0x28c848),_0x25733d[0x1b6c+-0x7*0x10e+-0x140a]=_0x2ff1c6,_0x25733d[-0x80d+0x29*0x25+0x221]=_0x5d57c0,_0x25733d[-0x1ef*0xb+0x1d96+-0x84f]=_0x51eab2,_0x25733d[0x13b4+-0xeb5+-0x74*0xb]=_0x3787ca);},this['commitFunc'+'tion'][Zr]=function(_0x2b6f37,_0x2e2d51){_0x25733d=_0x2b6f37['value'],_0x2ff1c6=_0x2e2d51[-0xea3+0x9c1*0x3+0x120*-0xd],_0x5d57c0=_0x2e2d51[0x1aa2+-0x1ca6+0x205],(_0x25733d[-0x35*0x2f+0xe3f+0x242*-0x2]!==_0x2ff1c6||_0x25733d[0x9c2+-0xab6+0x7*0x23]!==_0x5d57c0)&&(_0x49a152['uniform2iv'](_0x2b6f37['locationId'],_0x2e2d51),_0x25733d[-0x1*-0xf77+0x7*-0x425+0xd8c]=_0x2ff1c6,_0x25733d[0x7ab+0x3a*0x20+-0xeea]=_0x5d57c0);},this['commitFunc'+'tion'][Lo]=this['commitFunc'+'tion'][Zr],this['commitFunc'+'tion'][Qr]=function(_0x27813a,_0x28159d){_0x25733d=_0x27813a['value'],_0x2ff1c6=_0x28159d[0x2f9*0x9+0x1*-0x21f1+0x730],_0x5d57c0=_0x28159d[-0xddf+0xe66+-0x86*0x1],_0x51eab2=_0x28159d[0xdb*-0x12+-0x169*0xf+0x248f*0x1],(_0x25733d[0x1f2c+-0x14a4+-0x544*0x2]!==_0x2ff1c6||_0x25733d[-0x5*-0x3b9+-0x85*0x23+-0x6d]!==_0x5d57c0||_0x25733d[0x9a9+0x1a68+0x1*-0x240f]!==_0x51eab2)&&(_0x49a152['uniform3iv'](_0x27813a['locationId'],_0x28159d),_0x25733d[-0xdf0+-0x22c*-0xe+-0x83c*0x2]=_0x2ff1c6,_0x25733d[-0xe78+-0x1*0x1829+0x26a2]=_0x5d57c0,_0x25733d[-0x3e+-0x659+0x699]=_0x51eab2);},this['commitFunc'+'tion'][Fo]=this['commitFunc'+'tion'][Qr],this['commitFunc'+'tion'][Jr]=function(_0x587866,_0x3e3a75){_0x25733d=_0x587866['value'],_0x2ff1c6=_0x3e3a75[0x33*0x53+-0x13*0xa2+0xe7*-0x5],_0x5d57c0=_0x3e3a75[0x2636+0x2*0x9a9+0x3*-0x132d],_0x51eab2=_0x3e3a75[0x179c*0x1+0x19c9+-0x3163],_0x3787ca=_0x3e3a75[0x428+0x64b+-0xa70],(_0x25733d[0x29a*-0x3+-0x2*0x652+-0x2*-0xa39]!==_0x2ff1c6||_0x25733d[0x1fde+-0x1*0xa70+0x449*-0x5]!==_0x5d57c0||_0x25733d[0x3f1*0x5+-0xe9f+-0x514]!==_0x51eab2||_0x25733d[0x1*-0x22b4+-0x77d+-0x4*-0xa8d]!==_0x3787ca)&&(_0x49a152['uniform4iv'](_0x587866['locationId'],_0x3e3a75),_0x25733d[0x1*-0x261b+0x1d4f*0x1+0x8cc]=_0x2ff1c6,_0x25733d[0x3*-0xcae+-0xc7d+-0x15*-0x268]=_0x5d57c0,_0x25733d[-0x1*0x16ff+0x11a7+0x55a]=_0x51eab2,_0x25733d[-0x709+0x18c7*0x1+-0x11bb]=_0x3787ca);},this['commitFunc'+'tion'][Oo]=this['commitFunc'+'tion'][Jr],this['commitFunc'+'tion'][Rh]=function(_0x3e1aaf,_0x170246){_0x49a152['uniformMat'+'rix2fv'](_0x3e1aaf['locationId'],!(-0x11*0xe3+-0x19c0+0x28d4),_0x170246);},this['commitFunc'+'tion'][ko]=function(_0x2d5489,_0x30c442){_0x49a152['uniformMat'+'rix3fv'](_0x2d5489['locationId'],!(-0x6bf+0x38*0x2+0x650),_0x30c442);},this['commitFunc'+'tion'][Sa]=function(_0x29aeac,_0x350245){_0x49a152['uniformMat'+'rix4fv'](_0x29aeac['locationId'],!(0xb51+0xfa1*-0x1+0x451),_0x350245);},this['commitFunc'+'tion'][Dc]=function(_0x3437bc,_0x3229d5){_0x49a152['uniform1fv'](_0x3437bc['locationId'],_0x3229d5);},this['commitFunc'+'tion'][Lc]=function(_0x4c8409,_0x2454e5){_0x49a152['uniform2fv'](_0x4c8409['locationId'],_0x2454e5);},this['commitFunc'+'tion'][Fc]=function(_0x3bf7eb,_0x361f0f){_0x49a152['uniform3fv'](_0x3bf7eb['locationId'],_0x361f0f);},this['commitFunc'+'tion'][lp]=function(_0x198f63,_0x1da4c4){_0x49a152['uniform4fv'](_0x198f63['locationId'],_0x1da4c4);},this['commitFunc'+'tion'][va]=function(_0x11eb6d,_0x3338e5){_0x11eb6d['value']!==_0x3338e5&&(_0x49a152['uniform1ui'](_0x11eb6d['locationId'],_0x3338e5),_0x11eb6d['value']=_0x3338e5);},this['commitFunc'+'tion'][ba]=function(_0x4e2f40,_0x58fce5){_0x25733d=_0x4e2f40['value'],_0x2ff1c6=_0x58fce5[-0x5*-0x539+0x158f+-0xfe4*0x3],_0x5d57c0=_0x58fce5[0xbb8+-0xdbf+-0x41*-0x8],(_0x25733d[0x7b*0x5+-0x1aad+0x1846]!==_0x2ff1c6||_0x25733d[-0xf98*-0x1+0x126f+-0x2206]!==_0x5d57c0)&&(_0x49a152['uniform2ui'+'v'](_0x4e2f40['locationId'],_0x58fce5),_0x25733d[-0x361*0x7+-0x1a10+0x485*0xb]=_0x2ff1c6,_0x25733d[0x1*-0x26b+-0xf61+0x11cd]=_0x5d57c0);},this['commitFunc'+'tion'][wa]=function(_0x10f19f,_0x1d1745){_0x25733d=_0x10f19f['value'],_0x2ff1c6=_0x1d1745[0x21ad+-0x5ac+-0x1c01],_0x5d57c0=_0x1d1745[-0x167a+-0x1534+0x2baf],_0x51eab2=_0x1d1745[-0x1*0x16de+0x18ed+-0xaf*0x3],(_0x25733d[0x9fb+-0x1718+0xd1d]!==_0x2ff1c6||_0x25733d[-0x124a*0x1+-0x2*0x490+0x1b6b]!==_0x5d57c0||_0x25733d[0x59*-0x11+-0x140c+0x1*0x19f7]!==_0x51eab2)&&(_0x49a152['uniform3ui'+'v'](_0x10f19f['locationId'],_0x1d1745),_0x25733d[-0x170a+0x182e+-0x124]=_0x2ff1c6,_0x25733d[0x1f*0x74+0xf9f+0x1daa*-0x1]=_0x5d57c0,_0x25733d[-0x13c2+-0x1324+0x33e*0xc]=_0x51eab2);},this['commitFunc'+'tion'][Ta]=function(_0x5efd61,_0x553ed8){_0x25733d=_0x5efd61['value'],_0x2ff1c6=_0x553ed8[0x2542+0x1ff*0x4+-0x2d3e],_0x5d57c0=_0x553ed8[-0x1cf*-0x13+0xfc9+-0x3225],_0x51eab2=_0x553ed8[-0x691+-0x1674+0x1d07],_0x3787ca=_0x553ed8[0x671+0x9*-0x273+-0xf9d*-0x1],(_0x25733d[-0x2*0x71f+0x78b+-0x157*-0x5]!==_0x2ff1c6||_0x25733d[0x1b59+-0x47b*-0x1+0x1fd3*-0x1]!==_0x5d57c0||_0x25733d[-0x2ce*-0x2+-0x251*-0x5+0x112f*-0x1]!==_0x51eab2||_0x25733d[-0x2*0x895+-0x22bf+0xcfb*0x4]!==_0x3787ca)&&(_0x49a152['uniform4ui'+'v'](_0x5efd61['locationId'],_0x553ed8),_0x25733d[-0x1ae*0xb+-0x1945*0x1+0x2bbf]=_0x2ff1c6,_0x25733d[-0x98b+-0x215c+0x2ae8]=_0x5d57c0,_0x25733d[0x6d1+0x160a*-0x1+-0x7*-0x22d]=_0x51eab2,_0x25733d[0x1c26+0x393+-0x1fb6]=_0x3787ca);},this['commitFunc'+'tion'][Aa]=function(_0x5e83a6,_0x280fd7){_0x49a152['uniform1iv'](_0x5e83a6['locationId'],_0x280fd7);},this['commitFunc'+'tion'][Oc]=function(_0x5d74bb,_0x4b9f6e){_0x49a152['uniform1ui'+'v'](_0x5d74bb['locationId'],_0x4b9f6e);},this['commitFunc'+'tion'][kc]=this['commitFunc'+'tion'][Aa],this['commitFunc'+'tion'][Ea]=function(_0x3b556d,_0x42e51a){_0x49a152['uniform2iv'](_0x3b556d['locationId'],_0x42e51a);},this['commitFunc'+'tion'][Bc]=function(_0x3ccf5e,_0x5ba803){_0x49a152['uniform2ui'+'v'](_0x3ccf5e['locationId'],_0x5ba803);},this['commitFunc'+'tion'][Nc]=this['commitFunc'+'tion'][Ea],this['commitFunc'+'tion'][Ca]=function(_0xaa4e40,_0x4762bb){_0x49a152['uniform3iv'](_0xaa4e40['locationId'],_0x4762bb);},this['commitFunc'+'tion'][zc]=function(_0x3d4f64,_0x2556a3){_0x49a152['uniform3ui'+'v'](_0x3d4f64['locationId'],_0x2556a3);},this['commitFunc'+'tion'][Uc]=this['commitFunc'+'tion'][Ca],this['commitFunc'+'tion'][Ih]=function(_0x1d200a,_0x21e729){_0x49a152['uniform4iv'](_0x1d200a['locationId'],_0x21e729);},this['commitFunc'+'tion'][hp]=function(_0x1cd1a5,_0x5f2ac4){_0x49a152['uniform4ui'+'v'](_0x1cd1a5['locationId'],_0x5f2ac4);},this['commitFunc'+'tion'][cp]=this['commitFunc'+'tion'][Ih],this['commitFunc'+'tion'][Ny]=function(_0x5884fa,_0xbc5eb4){_0x49a152['uniformMat'+'rix4fv'](_0x5884fa['locationId'],!(-0x6df*0x2+-0x188b+0xa9*0x3a),_0xbc5eb4);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new fb(this);}['destroy'](){super['destroy']();const _0x313d03=this['gl'];this['feedback']&&_0x313d03['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x1*0x254b+-0x628+-0x2*0xf91)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x2400+0x12b8+0x375*0x5)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0xa0c101){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new pt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0xa0c101;}['updateBack'+'bufferForm'+'at'](_0x88f3de){const _0x2354b2=this['gl'];_0x2354b2['bindFrameb'+'uffer'](_0x2354b2['FRAMEBUFFE'+'R'],_0x88f3de);const _0x283a30=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x283a30?Se:dr;}['updateBack'+'buffer'](){const _0x33f320=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x33f320)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(-0x1610+-0x1*-0x26d7+-0x10c6*0x1),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x5d1cf5,_0x3f50f3){return new sb();}['createInde'+'xBufferImp'+'l'](_0x14721c){return new ib(_0x14721c);}['createShad'+'erImpl'](_0x40ee0b){return new lb(_0x40ee0b);}['createText'+'ureImpl'](_0x2c6590){return new hb(_0x2c6590);}['createRend'+'erTargetIm'+'pl'](_0x4ed7eb){return new db();}['pushMarker'](_0x2ebd31){if(ye['browser']&&window['spector']){const _0x17d90c=G['toString']();window['spector']['setMarker'](_0x17d90c+'\x20#');}}['popMarker'](){if(ye['browser']&&window['spector']){const _0x2fd405=G['toString']();_0x2fd405['length']?window['spector']['setMarker'](_0x2fd405+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x42ea82=this['gl'];let _0x450a93='highp';if(_0x42ea82['getShaderP'+'recisionFo'+'rmat']){const _0x12b458=_0x42ea82['getShaderP'+'recisionFo'+'rmat'](_0x42ea82['VERTEX_SHA'+'DER'],_0x42ea82['HIGH_FLOAT']),_0x2cec04=_0x42ea82['getShaderP'+'recisionFo'+'rmat'](_0x42ea82['VERTEX_SHA'+'DER'],_0x42ea82['MEDIUM_FLO'+'AT']),_0xa8ba7=_0x42ea82['getShaderP'+'recisionFo'+'rmat'](_0x42ea82['FRAGMENT_S'+'HADER'],_0x42ea82['HIGH_FLOAT']),_0x8443a2=_0x42ea82['getShaderP'+'recisionFo'+'rmat'](_0x42ea82['FRAGMENT_S'+'HADER'],_0x42ea82['MEDIUM_FLO'+'AT']);if(_0x12b458&&_0x2cec04&&_0xa8ba7&&_0x8443a2){const _0x8516d9=_0x12b458['precision']>0x224+-0x225d*-0x1+0x23*-0x10b&&_0xa8ba7['precision']>0x1*0xd63+0x56b*-0x6+0x131f*0x1,_0x95faee=_0x2cec04['precision']>-0x1602*0x1+0x1458+-0x8e*-0x3&&_0x8443a2['precision']>-0x6*-0x5bb+0x950+-0x2bb2;_0x8516d9||(_0x95faee?(_0x450a93='mediump',v['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x450a93='lowp',v['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x450a93;}['getExtensi'+'on'](){for(let _0x52aad7=0x1*0x1acf+0x1f14+0xcb*-0x49;_0x52aad7<arguments['length'];_0x52aad7++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x52aad7])!==-(-0x1c9c+0x1482+0x81b))return this['gl']['getExtensi'+'on'](arguments[_0x52aad7]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x2c3c7b=this['gl'];this['supportedE'+'xtensions']=_0x2c3c7b['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(-0x1091+-0x24f6+0x3587),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc'),this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float');}['initialize'+'Capabiliti'+'es'](){const _0x2496f3=this['gl'];let _0x574f30;const _0x8369a4=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x452fe3=_0x2496f3['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x452fe3==null?void(0x346*0x5+-0x2015+0xfb7):_0x452fe3['antialias'])??!(0x23fa+0x259f+-0x4998),this['supportsSt'+'encil']=(_0x452fe3==null?void(-0x127*-0x1b+0x102f+0x7e2*-0x6):_0x452fe3['stencil'])??!(0x1*-0x24b3+0x1e*0x139+0x6),this['maxTexture'+'Size']=_0x2496f3['getParamet'+'er'](_0x2496f3['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x2496f3['getParamet'+'er'](_0x2496f3['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x2496f3['getParamet'+'er'](_0x2496f3['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x2496f3['getParamet'+'er'](_0x2496f3['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x2496f3['getParamet'+'er'](_0x2496f3['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x2496f3['getParamet'+'er'](_0x2496f3['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x2496f3['getParamet'+'er'](_0x2496f3['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x2496f3['getParamet'+'er'](_0x2496f3['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x2496f3['getParamet'+'er'](_0x2496f3['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x2496f3['getParamet'+'er'](_0x2496f3['MAX_3D_TEX'+'TURE_SIZE']),_0x574f30=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x574f30?_0x2496f3['getParamet'+'er'](_0x574f30['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x574f30?_0x2496f3['getParamet'+'er'](_0x574f30['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x430524=/\bMali-G52+/,_0x3ac49d=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x8369a4['match'](_0x3ac49d))&&!this['unmaskedRe'+'nderer']['match'](_0x430524),_0x574f30=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x574f30?_0x2496f3['getParamet'+'er'](_0x574f30['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):0xef6+-0xc16+-0x5*0x93;const _0x515d91=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x515d91?_0x2496f3['getParamet'+'er'](_0x2496f3['MAX_SAMPLE'+'S']):0xae7+-0x18b5+0x2c3*0x5,this['maxSamples']=Math['min'](this['maxSamples'],-0x8fa+-0x1adf+0x23dd),this['samples']=_0x515d91&&this['backBuffer'+'Antialias']?this['maxSamples']:-0x23c6+-0x1ee*-0x13+-0xe3,this['supportsAr'+'eaLights']=!ye['android'],this['maxTexture'+'s']<=-0x2345*-0x1+0x2*0x73c+-0x31b5*0x1&&(this['supportsAr'+'eaLights']=!(-0x1921+-0x19a3+0x32c5));}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x4949a9=this['gl'];_0x4949a9['disable'](_0x4949a9['BLEND']),_0x4949a9['blendFunc'](_0x4949a9['ONE'],_0x4949a9['ZERO']),_0x4949a9['blendEquat'+'ion'](_0x4949a9['FUNC_ADD']),_0x4949a9['colorMask'](!(0x1c95+0x8*0x182+0x5*-0x821),!(0x1832+-0x1f4a+0x718),!(0x217c+0x83c+0x42c*-0xa),!(0xe76+-0x4f*-0x66+-0x2*0x16f8)),_0x4949a9['blendColor'](-0x5d9*0x6+-0x1ed3*-0x1+0x443,-0x1*0x4d8+-0x11cd+0x16a5,0xad7+0x137b*-0x1+-0x452*-0x2,0x219d+0xd1+-0x226e),_0x4949a9['enable'](_0x4949a9['CULL_FACE']),this['cullFace']=_0x4949a9['BACK'],_0x4949a9['cullFace'](_0x4949a9['BACK']),_0x4949a9['enable'](_0x4949a9['DEPTH_TEST']),_0x4949a9['depthFunc'](_0x4949a9['LEQUAL']),_0x4949a9['depthMask'](!(-0x25cb+-0x1e23+0x43ee*0x1)),this['stencil']=!(-0x4c*0x4c+0x1*0x785+-0x1ac*-0x9),_0x4949a9['disable'](_0x4949a9['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Ai,this['stencilRef'+'Front']=this['stencilRef'+'Back']=0x1a1d*-0x1+-0x1262+-0xed5*-0x3,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=-0x6f2+-0x51*-0x33+-0x832,_0x4949a9['stencilFun'+'c'](_0x4949a9['ALWAYS'],0x3*-0x251+0x139+-0x5ba*-0x1,-0x1e38*0x1+0x1*-0x13a2+0x32d9),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=ha,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=ha,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=ha,this['stencilWri'+'teMaskFron'+'t']=-0x1641+-0xab5+-0x1*-0x21f5,this['stencilWri'+'teMaskBack']=0x2538+-0x218b+0xe*-0x31,_0x4949a9['stencilOp'](_0x4949a9['KEEP'],_0x4949a9['KEEP'],_0x4949a9['KEEP']),_0x4949a9['stencilMas'+'k'](0xc93+0x1*0xf12+-0x6*0x471),this['alphaToCov'+'erage']=!(-0xb15*0x1+0x39*-0x84+0x287a),this['raster']=!(0x1a9f*-0x1+-0x1*0xe2f+0x1*0x28ce),_0x4949a9['disable'](_0x4949a9['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x4949a9['disable'](_0x4949a9['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(-0x236c+-0x23e3*0x1+0x38*0x146),_0x4949a9['disable'](_0x4949a9['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=0x1175*-0x1+0xf34*0x2+-0xcf2,_0x4949a9['clearDepth'](0xfe*-0x16+0x9f9+-0x16*-0x8a),this['clearColor']=new Y(0x3*-0x62f+0x1*-0xb3f+-0x1dcc*-0x1,-0x1f8f+0xeb*0x21+0x24*0x9,-0x9*-0x1bf+-0x1b1*0x5+-0x742,0x292+-0x68d*-0x1+-0x1*0x91f),_0x4949a9['clearColor'](-0x1ccd+-0x1b0b*-0x1+-0x4b*-0x6,0x1e6+-0x267a+0x2*0x124a,-0x5*0x6ff+-0xac1*-0x3+0x2b8*0x1,-0xbc7+-0x7d*0x28+0x1f4f),this['clearStenc'+'il']=0x6*-0x24b+0xc*0x9c+0x672,_0x4949a9['clearStenc'+'il'](-0x1da*0x2+0x7fb+0x1*-0x447),_0x4949a9['hint'](_0x4949a9['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x4949a9['NICEST']),_0x4949a9['enable'](_0x4949a9['SCISSOR_TE'+'ST']),_0x4949a9['pixelStore'+'i'](_0x4949a9['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x4949a9['NONE']),this['unpackFlip'+'Y']=!(0x1eb3+0x1ceb*-0x1+-0x1c7),_0x4949a9['pixelStore'+'i'](_0x4949a9['UNPACK_FLI'+'P_Y_WEBGL'],!(0x42*-0x27+0xac*0x7+0x55b)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(-0x1*-0x23c7+0x1e91+-0x4257),_0x4949a9['pixelStore'+'i'](_0x4949a9['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(0x159b+0x283*-0x3+-0xe11)),_0x4949a9['pixelStore'+'i'](_0x4949a9['UNPACK_ALI'+'GNMENT'],0x245e+-0x1634*0x1+0x1d*-0x7d);}['initTextur'+'eUnits'](_0xf11a5=0x4*-0xe8+-0x16aa+-0xd2d*-0x2){this['textureUni'+'ts']=[];for(let _0x29f2ae=0x5ed*-0x3+0x1f2b+-0xd64;_0x29f2ae<_0xf11a5;_0x29f2ae++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=0x1*-0x16bd+0x265+0x3e*0x54,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x4881e7 of this['shaders'])_0x4881e7['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x26b16d of this['shaders'])_0x26b16d['restoreCon'+'text']();}['setViewpor'+'t'](_0x36d958,_0x4ae444,_0x472859,_0x537f56){(this['vx']!==_0x36d958||this['vy']!==_0x4ae444||this['vw']!==_0x472859||this['vh']!==_0x537f56)&&(this['gl']['viewport'](_0x36d958,_0x4ae444,_0x472859,_0x537f56),this['vx']=_0x36d958,this['vy']=_0x4ae444,this['vw']=_0x472859,this['vh']=_0x537f56);}['setScissor'](_0xbe220b,_0x5c040e,_0xdae841,_0x2dbf12){(this['sx']!==_0xbe220b||this['sy']!==_0x5c040e||this['sw']!==_0xdae841||this['sh']!==_0x2dbf12)&&(this['gl']['scissor'](_0xbe220b,_0x5c040e,_0xdae841,_0x2dbf12),this['sx']=_0xbe220b,this['sy']=_0x5c040e,this['sw']=_0xdae841,this['sh']=_0x2dbf12);}['setFramebu'+'ffer'](_0x3d7cd0){if(this['activeFram'+'ebuffer']!==_0x3d7cd0){const _0xfa4a0a=this['gl'];_0xfa4a0a['bindFrameb'+'uffer'](_0xfa4a0a['FRAMEBUFFE'+'R'],_0x3d7cd0),this['activeFram'+'ebuffer']=_0x3d7cd0;}}['copyRender'+'Target'](_0x1c83d3,_0x2cbd27,_0x2e728d,_0x36b3e5){var _0x780fbb,_0x163425;const _0x55f693=this['gl'];if(_0x1c83d3===this['backBuffer']&&(_0x1c83d3=null),_0x2e728d){if(_0x2cbd27){if(_0x1c83d3){if(!_0x1c83d3['_colorBuff'+'er']||!_0x2cbd27['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x1566+0x25d2+0x1f*-0x1e9);if(_0x1c83d3['_colorBuff'+'er']['_format']!==_0x2cbd27['_colorBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(0xb*0x8d+-0xe7c+-0xd*-0xa6);}}else{if(!_0x1c83d3['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(-0xef*0x11+-0x7*-0x4c+-0x4*-0x373);}}if(_0x36b3e5&&_0x1c83d3&&!_0x1c83d3['_depth']){if(!_0x1c83d3['_depthBuff'+'er']||!_0x2cbd27['_depthBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x9*-0x28d+0x2*-0xc3f+-0x4*-0xbdd);if(_0x1c83d3['_depthBuff'+'er']['_format']!==_0x2cbd27['_depthBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(-0x7f*0x49+0xcb4+-0xe*-0x1ae);}G['pushGpuMar'+'ker'](this,'COPY-RT');const _0x560b84=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x2cbd27,this['updateBegi'+'n']();const _0xc1362=_0x1c83d3?_0x1c83d3['impl']['_glFrameBu'+'ffer']:(_0x780fbb=this['backBuffer'])==null?void(-0x1255*0x1+0xea4+0x3b1):_0x780fbb['impl']['_glFrameBu'+'ffer'],_0x317512=_0x2cbd27?_0x2cbd27['impl']['_glFrameBu'+'ffer']:(_0x163425=this['backBuffer'])==null?void(0xf29+-0x1740+0x817):_0x163425['impl']['_glFrameBu'+'ffer'];v['assert'](_0xc1362!==_0x317512,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x55f693['bindFrameb'+'uffer'](_0x55f693['READ_FRAME'+'BUFFER'],_0xc1362),_0x55f693['bindFrameb'+'uffer'](_0x55f693['DRAW_FRAME'+'BUFFER'],_0x317512);const _0x10ebbc=_0x1c83d3?_0x1c83d3['width']:_0x2cbd27?_0x2cbd27['width']:this['width'],_0x1919c9=_0x1c83d3?_0x1c83d3['height']:_0x2cbd27?_0x2cbd27['height']:this['height'];return _0x55f693['blitFrameb'+'uffer'](0x7e1+-0x1bb7+0x13d6,0x1fdf+0x1*-0x1391+-0xc4e,_0x10ebbc,_0x1919c9,-0x1bb*0x7+0xf6c*-0x2+-0x7*-0x623,-0x1*0x1e8f+0x168d*0x1+-0x2*-0x401,_0x10ebbc,_0x1919c9,(_0x2e728d?_0x55f693['COLOR_BUFF'+'ER_BIT']:-0x1*0x1d1b+0x626+-0x1*-0x16f5)|(_0x36b3e5?_0x55f693['DEPTH_BUFF'+'ER_BIT']:-0x1c80+-0x30*-0x7f+0x4b0),_0x55f693['NEAREST']),this['renderTarg'+'et']=_0x560b84,_0x55f693['bindFrameb'+'uffer'](_0x55f693['FRAMEBUFFE'+'R'],_0x560b84?_0x560b84['impl']['_glFrameBu'+'ffer']:null),G['popGpuMark'+'er'](this),!(-0x15cf+0xc1a+0x9b5*0x1);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x48c8c3){const _0x5e3726=_0x48c8c3['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x5e3726,v['assert'](_0x5e3726),G['pushGpuMar'+'ker'](this,'Pass:'+_0x48c8c3['name']+'\x20RT:'+_0x5e3726['name']),G['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x35d79b,height:_0x438d37}=_0x5e3726;this['setViewpor'+'t'](0x1aba+-0x2294+0x7da,0xf4*-0x20+0x6e0+0x120*0x15,_0x35d79b,_0x438d37),this['setScissor'](0x2b5*0xd+0x1a70+-0x3da1,0x19ce+0xb33+0x1*-0x2501,_0x35d79b,_0x438d37);const _0x4c230b=_0x48c8c3['colorOps'],_0xac969=_0x48c8c3['depthStenc'+'ilOps'];if(_0x4c230b!=null&&_0x4c230b['clear']||_0xac969['clearDepth']||_0xac969['clearStenc'+'il']){let _0x47373a=0x249d+-0x23e5+-0xb8;const _0x59e790={};_0x4c230b!=null&&_0x4c230b['clear']&&(_0x47373a|=Co,_0x59e790['color']=[_0x4c230b['clearValue']['r'],_0x4c230b['clearValue']['g'],_0x4c230b['clearValue']['b'],_0x4c230b['clearValue']['a']]),_0xac969['clearDepth']&&(_0x47373a|=Mo,_0x59e790['depth']=_0xac969['clearDepth'+'Value']),_0xac969['clearStenc'+'il']&&(_0x47373a|=Ah,_0x59e790['stencil']=_0xac969['clearStenc'+'ilValue']),_0x59e790['flags']=_0x47373a,this['clear'](_0x59e790);}v['call'](()=>{this['insideRend'+'erPass']&&v['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(0xd49*0x1+0x16f0+-0xb*0x34b),G['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x2fc912){var _0x5bdc0f;G['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x5bef0e=this['renderTarg'+'et'],_0x52bd0b=_0x2fc912['colorArray'+'Ops']['length'];if(_0x5bef0e){Tn['length']=0x1e4+-0x1*-0x18c2+-0x1aa6;const _0x291ec8=this['gl'];for(let _0x4497ad=-0x1485*0x1+0x1205+0x280;_0x4497ad<_0x52bd0b;_0x4497ad++){const _0x3db532=_0x2fc912['colorArray'+'Ops'][_0x4497ad];_0x3db532['store']||_0x3db532['resolve']||Tn['push'](_0x291ec8['COLOR_ATTA'+'CHMENT0']+_0x4497ad);}_0x5bef0e!==this['backBuffer']&&(_0x2fc912['depthStenc'+'ilOps']['storeDepth']||Tn['push'](_0x291ec8['DEPTH_ATTA'+'CHMENT']),_0x2fc912['depthStenc'+'ilOps']['storeStenc'+'il']||Tn['push'](_0x291ec8['STENCIL_AT'+'TACHMENT'])),Tn['length']>-0x3*-0x3d3+0x1e3d+-0x29b6&&_0x2fc912['fullSizeCl'+'earRect']&&_0x291ec8['invalidate'+'Framebuffe'+'r'](_0x291ec8['DRAW_FRAME'+'BUFFER'],Tn),_0x52bd0b&&((_0x5bdc0f=_0x2fc912['colorOps'])!=null&&_0x5bdc0f['resolve'])&&_0x2fc912['samples']>-0x33d+0x1b36+0xec*-0x1a&&_0x5bef0e['autoResolv'+'e']&&_0x5bef0e['resolve'](!(-0xb*-0x26e+-0x1*0x261e+-0x5b2*-0x2),!(-0x1f67*0x1+-0x23db+0x4343*0x1)),_0x5bef0e['depthBuffe'+'r']&&_0x2fc912['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x2fc912['samples']>0x2540+-0xa0b+-0x1b34&&_0x5bef0e['autoResolv'+'e']&&_0x5bef0e['resolve'](!(0x20a7*0x1+0x1a72+0x8*-0x763),!(-0x13bd+-0x227*-0xe+0x377*-0x3));for(let _0x244457=0x3*0x957+-0x25c+-0x19a9;_0x244457<_0x52bd0b;_0x244457++)if(_0x2fc912['colorArray'+'Ops'][_0x244457]['genMipmaps']){const _0x5761ef=_0x5bef0e['_colorBuff'+'ers'][_0x244457];_0x5761ef&&_0x5761ef['impl']['_glTexture']&&_0x5761ef['mipmaps']&&(G['pushGpuMar'+'ker'](this,'MIPS'+_0x244457),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x1b+0x300*-0x9+-0x16*-0x139)),this['bindTextur'+'e'](_0x5761ef),this['gl']['generateMi'+'pmap'](_0x5761ef['impl']['_glTarget']),G['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(-0x1f3*-0xf+0x16e4+-0x3420),G['popGpuMark'+'er'](this),G['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x395482){this['_defaultFr'+'amebuffer']!==_0x395482&&(this['_defaultFr'+'amebuffer']=_0x395482,this['_defaultFr'+'amebufferC'+'hanged']=!(-0x2*-0x11d1+0x24b3+-0x4855));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(G['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x43118f=-0x2f3*-0x5+-0xce3+-0x77*0x4;_0x43118f<this['textureUni'+'ts']['length'];++_0x43118f)for(let _0x3783dc=-0x1*-0x16fc+0x208e+0x1*-0x378a;_0x3783dc<0x1d03*-0x1+0x1*0xba9+-0x115d*-0x1;++_0x3783dc)this['textureUni'+'ts'][_0x43118f][_0x3783dc]=null;}const _0x2f07c8=this['renderTarg'+'et']??this['backBuffer'];v['assert'](_0x2f07c8);const _0x396878=_0x2f07c8['impl'];_0x396878['initialize'+'d']||this['initRender'+'Target'](_0x2f07c8),this['setFramebu'+'ffer'](_0x396878['_glFrameBu'+'ffer']),G['popGpuMark'+'er'](this);}['updateEnd'](){G['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x51b246=this['renderTarg'+'et'];if(_0x51b246&&_0x51b246!==this['backBuffer']){_0x51b246['_samples']>-0x206a+0x1e90+0x13*0x19&&_0x51b246['autoResolv'+'e']&&_0x51b246['resolve']();const _0x3b9041=_0x51b246['_colorBuff'+'er'];_0x3b9041&&_0x3b9041['impl']['_glTexture']&&_0x3b9041['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x2*-0x3b3+-0x9*0x21c+0x1a63)),this['bindTextur'+'e'](_0x3b9041),this['gl']['generateMi'+'pmap'](_0x3b9041['impl']['_glTarget']));}G['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x4a6008){if(this['unpackFlip'+'Y']!==_0x4a6008){this['unpackFlip'+'Y']=_0x4a6008;const _0x55c9df=this['gl'];_0x55c9df['pixelStore'+'i'](_0x55c9df['UNPACK_FLI'+'P_Y_WEBGL'],_0x4a6008);}}['setUnpackP'+'remultiply'+'Alpha'](_0x2e887f){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x2e887f){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x2e887f;const _0x2487d9=this['gl'];_0x2487d9['pixelStore'+'i'](_0x2487d9['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x2e887f);}}['activeText'+'ure'](_0x5989a1){this['textureUni'+'t']!==_0x5989a1&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x5989a1),this['textureUni'+'t']=_0x5989a1);}['bindTextur'+'e'](_0x1835c0){const _0x19e87a=_0x1835c0['impl'],_0x285234=_0x19e87a['_glTarget'],_0x127631=_0x19e87a['_glTexture'],_0xca97f=this['textureUni'+'t'],_0x26f43a=this['targetToSl'+'ot'][_0x285234];this['textureUni'+'ts'][_0xca97f][_0x26f43a]!==_0x127631&&(this['gl']['bindTextur'+'e'](_0x285234,_0x127631),this['textureUni'+'ts'][_0xca97f][_0x26f43a]=_0x127631);}['bindTextur'+'eOnUnit'](_0x44ab91,_0x5df80b){const _0x552876=_0x44ab91['impl'],_0x493443=_0x552876['_glTarget'],_0x2fc591=_0x552876['_glTexture'],_0x1a86c2=this['targetToSl'+'ot'][_0x493443];this['textureUni'+'ts'][_0x5df80b][_0x1a86c2]!==_0x2fc591&&(this['activeText'+'ure'](_0x5df80b),this['gl']['bindTextur'+'e'](_0x493443,_0x2fc591),this['textureUni'+'ts'][_0x5df80b][_0x1a86c2]=_0x2fc591);}['setTexture'+'Parameters'](_0x50ecaf){const _0x21842a=this['gl'],_0x5ee799=_0x50ecaf['impl']['dirtyParam'+'eterFlags'],_0x3998aa=_0x50ecaf['impl']['_glTarget'];if(_0x5ee799&zy){let _0x489278=_0x50ecaf['_minFilter'];(!_0x50ecaf['_mipmaps']||_0x50ecaf['_compresse'+'d']&&_0x50ecaf['_levels']['length']===-0xfb6+0x26eb+-0x1734)&&(_0x489278===fc||_0x489278===pc?_0x489278=de:(_0x489278===mc||_0x489278===nn)&&(_0x489278=st)),_0x21842a['texParamet'+'eri'](_0x3998aa,_0x21842a['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x489278]);}if(_0x5ee799&Uy&&_0x21842a['texParamet'+'eri'](_0x3998aa,_0x21842a['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x50ecaf['_magFilter']]),_0x5ee799&Vy&&_0x21842a['texParamet'+'eri'](_0x3998aa,_0x21842a['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x50ecaf['_addressU']]),_0x5ee799&Gy&&_0x21842a['texParamet'+'eri'](_0x3998aa,_0x21842a['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x50ecaf['_addressV']]),_0x5ee799&Hy&&_0x21842a['texParamet'+'eri'](_0x3998aa,_0x21842a['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x50ecaf['_addressW']]),_0x5ee799&Wy&&_0x21842a['texParamet'+'eri'](_0x3998aa,_0x21842a['TEXTURE_CO'+'MPARE_MODE'],_0x50ecaf['_compareOn'+'Read']?_0x21842a['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x21842a['NONE']),_0x5ee799&$y&&_0x21842a['texParamet'+'eri'](_0x3998aa,_0x21842a['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x50ecaf['_compareFu'+'nc']]),_0x5ee799&qy){const _0x142c8=this['extTexture'+'FilterAnis'+'otropic'];_0x142c8&&_0x21842a['texParamet'+'erf'](_0x3998aa,_0x142c8['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],N['clamp'](Math['round'](_0x50ecaf['_anisotrop'+'y']),-0xe19*-0x1+-0x1bb6+0x48a*0x3,this['maxAnisotr'+'opy']));}}['setTexture'](_0x382708,_0x1c7626){const _0x532644=_0x382708['impl'];_0x532644['_glTexture']||_0x532644['initialize'](this,_0x382708),_0x532644['dirtyParam'+'eterFlags']>0xcc8+-0x8*0x251+0x5c0||_0x382708['_needsUplo'+'ad']||_0x382708['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x1c7626),this['bindTextur'+'e'](_0x382708),_0x532644['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x382708),_0x532644['dirtyParam'+'eterFlags']=-0x3fc+0xb2a+-0x72e),(_0x382708['_needsUplo'+'ad']||_0x382708['_needsMipm'+'apsUpload'])&&(_0x532644['upload'](this,_0x382708),_0x382708['_needsUplo'+'ad']=!(0x183d+-0x264a*-0x1+-0x3e86),_0x382708['_needsMipm'+'apsUpload']=!(0x1e51+-0x9ff+-0x1451))):this['bindTextur'+'eOnUnit'](_0x382708,_0x1c7626);}['createVert'+'exArray'](_0x367a77){let _0x2a433a,_0x5adda7;const _0x2119db=_0x367a77['length']>0x2501+-0x137*-0x9+-0x2fef*0x1;if(_0x2119db){_0x2a433a='';for(let _0x4b372b=-0x116b+0x268a+-0x151f;_0x4b372b<_0x367a77['length'];_0x4b372b++){const _0x4ee385=_0x367a77[_0x4b372b];_0x2a433a+=_0x4ee385['id']+_0x4ee385['format']['renderingH'+'ash'];}_0x5adda7=this['_vaoMap']['get'](_0x2a433a);}if(!_0x5adda7){const _0x55a5bc=this['gl'];_0x5adda7=_0x55a5bc['createVert'+'exArray'](),_0x55a5bc['bindVertex'+'Array'](_0x5adda7),_0x55a5bc['bindBuffer'](_0x55a5bc['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x24287f=!(-0x15ae+0x874+0x1*0xd3b);for(let _0x5a700b=-0x80a+-0x19b5+0x1*0x21bf;_0x5a700b<_0x367a77['length'];_0x5a700b++){const _0x1d2b28=_0x367a77[_0x5a700b];_0x55a5bc['bindBuffer'](_0x55a5bc['ARRAY_BUFF'+'ER'],_0x1d2b28['impl']['bufferId']);const _0x159ecd=_0x1d2b28['format']['elements'];for(let _0x24e64c=-0xe0b+-0x263b+0x3446;_0x24e64c<_0x159ecd['length'];_0x24e64c++){const _0x21f1b5=_0x159ecd[_0x24e64c],_0x498021=ve[_0x21f1b5['name']];_0x498021===-0x34c+0x932*0x2+-0xf18&&(_0x24287f=!(-0x168d+-0x1b*-0x153+-0xd34)),_0x21f1b5['asInt']?_0x55a5bc['vertexAttr'+'ibIPointer'](_0x498021,_0x21f1b5['numCompone'+'nts'],this['glType'][_0x21f1b5['dataType']],_0x21f1b5['stride'],_0x21f1b5['offset']):_0x55a5bc['vertexAttr'+'ibPointer'](_0x498021,_0x21f1b5['numCompone'+'nts'],this['glType'][_0x21f1b5['dataType']],_0x21f1b5['normalize'],_0x21f1b5['stride'],_0x21f1b5['offset']),_0x55a5bc['enableVert'+'exAttribAr'+'ray'](_0x498021),_0x1d2b28['format']['instancing']&&_0x55a5bc['vertexAttr'+'ibDivisor'](_0x498021,-0x2262+-0x1017*0x2+0x4291);}}_0x55a5bc['bindVertex'+'Array'](null),_0x55a5bc['bindBuffer'](_0x55a5bc['ARRAY_BUFF'+'ER'],null),_0x2119db&&this['_vaoMap']['set'](_0x2a433a,_0x5adda7),_0x24287f||v['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x5adda7;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](){const _0x5bc234=this['gl'];let _0x1e31af;if(this['vertexBuff'+'ers']['length']===0x1aa7*0x1+-0x10b7+0x1*-0x9ef){const _0x39f07c=this['vertexBuff'+'ers'][-0x1cc7+-0xcbf+-0x1*-0x2986];v['assert'](_0x39f07c['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x39f07c['impl']['vao']||(_0x39f07c['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x1e31af=_0x39f07c['impl']['vao'];}else _0x1e31af=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x1e31af&&(this['boundVao']=_0x1e31af,_0x5bc234['bindVertex'+'Array'](_0x1e31af)),this['clearVerte'+'xBuffer']();const _0x4a17b9=this['indexBuffe'+'r']?this['indexBuffe'+'r']['impl']['bufferId']:null;_0x5bc234['bindBuffer'](_0x5bc234['ELEMENT_AR'+'RAY_BUFFER'],_0x4a17b9);}['draw'](_0x5d9234,_0x436ab4,_0x40cd18){const _0x33f2b8=this['gl'];if(this['activateSh'+'ader'](this),!this['shaderVali'+'d'])return;let _0x314973,_0x5efc07,_0x4e1e9f,_0x27d68c,_0x58b986,_0x42c1df,_0x5009e9,_0x300d96;const _0x52b2c4=this['shader'];if(!_0x52b2c4)return;const _0x230d89=_0x52b2c4['impl']['samplers'],_0x2fd846=_0x52b2c4['impl']['uniforms'];_0x40cd18||this['setBuffers']();let _0x35b33f=0x26f5+-0x16d3*0x1+0x127*-0xe;for(let _0xa16966=0x18a5+0x3bf+0x1c64*-0x1,_0x52ae97=_0x230d89['length'];_0xa16966<_0x52ae97;_0xa16966++){if(_0x314973=_0x230d89[_0xa16966],_0x5efc07=_0x314973['scopeId']['value'],!_0x5efc07){const _0x4ca05e=_0x314973['scopeId']['name'];v['assert'](_0x4ca05e!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),v['assert'](_0x4ca05e!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x4ca05e==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x5efc07=en(this,'white')),_0x4ca05e==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x5efc07=en(this,'pink')),_0x5efc07||(v['errorOnce']('Shader\x20'+_0x52b2c4['name']+'\x20requires\x20'+_0x4ca05e+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+G['toString']()+']'),_0x5efc07=en(this,'pink'));}if(_0x5efc07 instanceof he)_0x4e1e9f=_0x5efc07,this['setTexture'](_0x4e1e9f,_0x35b33f),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<0x1*-0x48d+-0x12f3+0x1782&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x4e1e9f?v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x4e1e9f}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x4e1e9f&&v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x4e1e9f})),_0x314973['slot']!==_0x35b33f&&(_0x33f2b8['uniform1i'](_0x314973['locationId'],_0x35b33f),_0x314973['slot']=_0x35b33f),_0x35b33f++;else{_0x314973['array']['length']=0x154e+0xf*0x22a+-0x47b*0xc,_0x27d68c=_0x5efc07['length'];for(let _0x57824a=-0x8ef*-0x4+-0x148f+-0x15*0xb9;_0x57824a<_0x27d68c;_0x57824a++)_0x4e1e9f=_0x5efc07[_0x57824a],this['setTexture'](_0x4e1e9f,_0x35b33f),_0x314973['array'][_0x57824a]=_0x35b33f,_0x35b33f++;_0x33f2b8['uniform1iv'](_0x314973['locationId'],_0x314973['array']);}}for(let _0x815634=-0x19d9*0x1+0xf1*-0x4+0x39*0x85,_0x21d3df=_0x2fd846['length'];_0x815634<_0x21d3df;_0x815634++)_0x58b986=_0x2fd846[_0x815634],_0x42c1df=_0x58b986['scopeId'],_0x5009e9=_0x58b986['version'],_0x300d96=_0x42c1df['versionObj'+'ect']['version'],(_0x5009e9['globalId']!==_0x300d96['globalId']||_0x5009e9['revision']!==_0x300d96['revision'])&&(_0x5009e9['globalId']=_0x300d96['globalId'],_0x5009e9['revision']=_0x300d96['revision'],_0x42c1df['value']!==null&&this['commitFunc'+'tion'][_0x58b986['dataType']](_0x58b986,_0x42c1df['value']));this['transformF'+'eedbackBuf'+'fer']&&(_0x33f2b8['bindBuffer'+'Base'](_0x33f2b8['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0x4d6*-0x1+0x12a0*0x2+-0x2a16,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x33f2b8['beginTrans'+'formFeedba'+'ck'](_0x33f2b8['POINTS']));const _0x21cdfd=this['glPrimitiv'+'e'][_0x5d9234['type']],_0x126772=_0x5d9234['count'];if(_0x5d9234['indexed']){const _0x3d4259=this['indexBuffe'+'r'];v['assert'](_0x3d4259['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x2e77c7=_0x3d4259['impl']['glFormat'],_0x38407d=_0x5d9234['base']*_0x3d4259['bytesPerIn'+'dex'];_0x436ab4>0x6e1+0x6*-0x3aa+0xf1b?_0x33f2b8['drawElemen'+'tsInstance'+'d'](_0x21cdfd,_0x126772,_0x2e77c7,_0x38407d,_0x436ab4):_0x33f2b8['drawElemen'+'ts'](_0x21cdfd,_0x126772,_0x2e77c7,_0x38407d);}else{const _0x4cd0f4=_0x5d9234['base'];_0x436ab4>-0xd*0x1c+0x1e35+-0x1*0x1cc9?_0x33f2b8['drawArrays'+'Instanced'](_0x21cdfd,_0x4cd0f4,_0x126772,_0x436ab4):_0x33f2b8['drawArrays'](_0x21cdfd,_0x4cd0f4,_0x126772);}this['transformF'+'eedbackBuf'+'fer']&&(_0x33f2b8['endTransfo'+'rmFeedback'](),_0x33f2b8['bindBuffer'+'Base'](_0x33f2b8['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0x691+0x2*0xfa6+-0x18bb,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x5d9234['type']]+=_0x5d9234['count']*(_0x436ab4>0x3d8+-0xa3*-0xe+0x1*-0xcc1?_0x436ab4:-0x192*-0x2+0xa9d*-0x2+0x1217*0x1);}['clear'](_0x207c42){const _0x545241=this['defaultCle'+'arOptions'];_0x207c42=_0x207c42||_0x545241;const _0x2b16ce=_0x207c42['flags']??_0x545241['flags'];if(_0x2b16ce!==-0x8e9*-0x4+-0x19f6+0x3*-0x33a){const _0x473097=this['gl'];if(_0x2b16ce&Co){const _0x45824a=_0x207c42['color']??_0x545241['color'],_0x589057=_0x45824a[0x1687+-0x13*0x106+0x1*-0x315],_0x5aef8a=_0x45824a[-0x24cd+0x17d6+0x33e*0x4],_0x4e0299=_0x45824a[-0x3d1*0x4+-0x1cd+-0x2f*-0x5d],_0x3f099e=_0x45824a[-0x216d*-0x1+-0x11*-0xd9+-0x2fd3],_0x47a769=this['clearColor'];(_0x589057!==_0x47a769['r']||_0x5aef8a!==_0x47a769['g']||_0x4e0299!==_0x47a769['b']||_0x3f099e!==_0x47a769['a'])&&(this['gl']['clearColor'](_0x589057,_0x5aef8a,_0x4e0299,_0x3f099e),this['clearColor']['set'](_0x589057,_0x5aef8a,_0x4e0299,_0x3f099e)),this['setBlendSt'+'ate'](_t['NOBLEND']);}if(_0x2b16ce&Mo){const _0x486cb5=_0x207c42['depth']??_0x545241['depth'];_0x486cb5!==this['clearDepth']&&(this['gl']['clearDepth'](_0x486cb5),this['clearDepth']=_0x486cb5),this['setDepthSt'+'ate'](as['WRITEDEPTH']);}if(_0x2b16ce&Ah){const _0x57167a=_0x207c42['stencil']??_0x545241['stencil'];_0x57167a!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x57167a),this['clearStenc'+'il']=_0x57167a),_0x473097['stencilMas'+'k'](0x13*-0x156+0x615+-0x513*-0x4),this['stencilWri'+'teMaskFron'+'t']=-0x1b3+-0x250b+0x27bd,this['stencilWri'+'teMaskBack']=0x15fd+0x26c0+-0x3bbe;}_0x473097['clear'](this['glClearFla'+'g'][_0x2b16ce]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x584170,_0x103012,_0x24ce70,_0x35e8b3,_0x3027eb){const _0x208047=this['gl'];_0x208047['readPixels'](_0x584170,_0x103012,_0x24ce70,_0x35e8b3,_0x208047['RGBA'],_0x208047['UNSIGNED_B'+'YTE'],_0x3027eb);}async['readPixels'+'Async'](_0x1ca36a,_0x1c0805,_0x418ff7,_0x57e8ee,_0x1800d5){var _0x586c7f;const _0x2c2622=this['gl'],_0x290168=(_0x193085,_0x4bdac9)=>{const _0x220135=_0x2c2622['fenceSync'](_0x2c2622['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],-0x3*-0x846+0x13*0x18d+-0x3649);return this['submit'](),new Promise((_0x94ba79,_0xd78c8)=>{function _0x13a815(){const _0xffcbe7=_0x2c2622['clientWait'+'Sync'](_0x220135,_0x193085,0x1*-0x10dc+0x5*0x6ad+-0x1085);_0xffcbe7===_0x2c2622['WAIT_FAILE'+'D']?(_0x2c2622['deleteSync'](_0x220135),_0xd78c8(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed'))):_0xffcbe7===_0x2c2622['TIMEOUT_EX'+'PIRED']?setTimeout(_0x13a815,_0x4bdac9):(_0x2c2622['deleteSync'](_0x220135),_0x94ba79());}_0x13a815();});},_0xb9e3af=(_0x586c7f=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(-0x1*-0x1421+-0xd63+-0x2*0x35f):_0x586c7f['impl'],_0x3141af=(_0xb9e3af==null?void(0x5*0x2bc+0xa*-0x137+-0x1*0x186):_0xb9e3af['_glFormat'])??_0x2c2622['RGBA'],_0x4315d0=(_0xb9e3af==null?void(0x1042+-0x1*0x2001+0x8b*0x1d):_0xb9e3af['_glPixelTy'+'pe'])??_0x2c2622['UNSIGNED_B'+'YTE'],_0x3db208=_0x2c2622['createBuff'+'er']();return _0x2c2622['bindBuffer'](_0x2c2622['PIXEL_PACK'+'_BUFFER'],_0x3db208),_0x2c2622['bufferData'](_0x2c2622['PIXEL_PACK'+'_BUFFER'],_0x1800d5['byteLength'],_0x2c2622['STREAM_REA'+'D']),_0x2c2622['readPixels'](_0x1ca36a,_0x1c0805,_0x418ff7,_0x57e8ee,_0x3141af,_0x4315d0,-0x458+0x2*-0xcdb+0x1e0e*0x1),_0x2c2622['bindBuffer'](_0x2c2622['PIXEL_PACK'+'_BUFFER'],null),await _0x290168(-0x130d*0x2+-0x5*0x38c+-0x2*-0x1beb,0x1c42+-0x1147*0x1+-0xae7),_0x2c2622['bindBuffer'](_0x2c2622['PIXEL_PACK'+'_BUFFER'],_0x3db208),_0x2c2622['getBufferS'+'ubData'](_0x2c2622['PIXEL_PACK'+'_BUFFER'],-0x1*0x11ce+-0x4a3*0x1+0x1*0x1671,_0x1800d5),_0x2c2622['bindBuffer'](_0x2c2622['PIXEL_PACK'+'_BUFFER'],null),_0x2c2622['deleteBuff'+'er'](_0x3db208),_0x1800d5;}['readTextur'+'eAsync'](_0x295515,_0x284680,_0x5b793b,_0x18e43d,_0x475fe2,_0x49b0c0){const _0x3e4a95=_0x49b0c0['face']??0xdc5+0x914+-0x16d9,_0x5087da=_0x49b0c0['renderTarg'+'et']??new pt({'colorBuffer':_0x295515,'depth':!(0x1*-0xa13+-0x1751+0x67*0x53),'face':_0x3e4a95});v['assert'](_0x5087da['colorBuffe'+'r']===_0x295515);const _0x115aab=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0x18e43d,_0x475fe2,-0xa61+0x2*-0x21f+0x750*0x2,_0x295515['_format'])),_0x341e36=_0x49b0c0['data']??new(Cy(_0x295515['_format']))(_0x115aab);return this['setRenderT'+'arget'](_0x5087da),this['initRender'+'Target'](_0x5087da),new Promise((_0x1bd60c,_0x585809)=>{this['readPixels'+'Async'](_0x284680,_0x5b793b,_0x18e43d,_0x475fe2,_0x341e36)['then'](_0x1be5eb=>{_0x49b0c0['renderTarg'+'et']||_0x5087da['destroy'](),_0x1bd60c(_0x1be5eb);})['catch'](_0x585809);});}['setAlphaTo'+'Coverage'](_0x33e842){this['alphaToCov'+'erage']!==_0x33e842&&(this['alphaToCov'+'erage']=_0x33e842,_0x33e842?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x489c6d){if(this['transformF'+'eedbackBuf'+'fer']!==_0x489c6d){this['transformF'+'eedbackBuf'+'fer']=_0x489c6d;const _0x1cd90c=this['gl'];_0x489c6d?(this['feedback']||(this['feedback']=_0x1cd90c['createTran'+'sformFeedb'+'ack']()),_0x1cd90c['bindTransf'+'ormFeedbac'+'k'](_0x1cd90c['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x1cd90c['bindTransf'+'ormFeedbac'+'k'](_0x1cd90c['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0xb2be94){this['raster']!==_0xb2be94&&(this['raster']=_0xb2be94,_0xb2be94?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x495221){if(this['stencil']!==_0x495221){const _0x5d7a28=this['gl'];_0x495221?_0x5d7a28['enable'](_0x5d7a28['STENCIL_TE'+'ST']):_0x5d7a28['disable'](_0x5d7a28['STENCIL_TE'+'ST']),this['stencil']=_0x495221;}}['setStencil'+'Func'](_0x22c086,_0xc28f4f,_0x2151e7){(this['stencilFun'+'cFront']!==_0x22c086||this['stencilRef'+'Front']!==_0xc28f4f||this['stencilMas'+'kFront']!==_0x2151e7||this['stencilFun'+'cBack']!==_0x22c086||this['stencilRef'+'Back']!==_0xc28f4f||this['stencilMas'+'kBack']!==_0x2151e7)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x22c086],_0xc28f4f,_0x2151e7),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x22c086,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0xc28f4f,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x2151e7);}['setStencil'+'FuncFront'](_0x46f518,_0x3ee8dd,_0x99e8fe){if(this['stencilFun'+'cFront']!==_0x46f518||this['stencilRef'+'Front']!==_0x3ee8dd||this['stencilMas'+'kFront']!==_0x99e8fe){const _0x8582de=this['gl'];_0x8582de['stencilFun'+'cSeparate'](_0x8582de['FRONT'],this['glComparis'+'on'][_0x46f518],_0x3ee8dd,_0x99e8fe),this['stencilFun'+'cFront']=_0x46f518,this['stencilRef'+'Front']=_0x3ee8dd,this['stencilMas'+'kFront']=_0x99e8fe;}}['setStencil'+'FuncBack'](_0x4976d8,_0x4bd17d,_0x2cfa67){if(this['stencilFun'+'cBack']!==_0x4976d8||this['stencilRef'+'Back']!==_0x4bd17d||this['stencilMas'+'kBack']!==_0x2cfa67){const _0x13573a=this['gl'];_0x13573a['stencilFun'+'cSeparate'](_0x13573a['BACK'],this['glComparis'+'on'][_0x4976d8],_0x4bd17d,_0x2cfa67),this['stencilFun'+'cBack']=_0x4976d8,this['stencilRef'+'Back']=_0x4bd17d,this['stencilMas'+'kBack']=_0x2cfa67;}}['setStencil'+'Operation'](_0xe43291,_0x258879,_0x106df6,_0x5301f5){(this['stencilFai'+'lFront']!==_0xe43291||this['stencilZfa'+'ilFront']!==_0x258879||this['stencilZpa'+'ssFront']!==_0x106df6||this['stencilFai'+'lBack']!==_0xe43291||this['stencilZfa'+'ilBack']!==_0x258879||this['stencilZpa'+'ssBack']!==_0x106df6)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0xe43291],this['glStencilO'+'p'][_0x258879],this['glStencilO'+'p'][_0x106df6]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0xe43291,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x258879,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x106df6),(this['stencilWri'+'teMaskFron'+'t']!==_0x5301f5||this['stencilWri'+'teMaskBack']!==_0x5301f5)&&(this['gl']['stencilMas'+'k'](_0x5301f5),this['stencilWri'+'teMaskFron'+'t']=_0x5301f5,this['stencilWri'+'teMaskBack']=_0x5301f5);}['setStencil'+'OperationF'+'ront'](_0x91b672,_0xa4775c,_0x4a460d,_0x1bb27d){(this['stencilFai'+'lFront']!==_0x91b672||this['stencilZfa'+'ilFront']!==_0xa4775c||this['stencilZpa'+'ssFront']!==_0x4a460d)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x91b672],this['glStencilO'+'p'][_0xa4775c],this['glStencilO'+'p'][_0x4a460d]),this['stencilFai'+'lFront']=_0x91b672,this['stencilZfa'+'ilFront']=_0xa4775c,this['stencilZpa'+'ssFront']=_0x4a460d),this['stencilWri'+'teMaskFron'+'t']!==_0x1bb27d&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x1bb27d),this['stencilWri'+'teMaskFron'+'t']=_0x1bb27d);}['setStencil'+'OperationB'+'ack'](_0x357898,_0x5808da,_0x260c3b,_0x50494d){(this['stencilFai'+'lBack']!==_0x357898||this['stencilZfa'+'ilBack']!==_0x5808da||this['stencilZpa'+'ssBack']!==_0x260c3b)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x357898],this['glStencilO'+'p'][_0x5808da],this['glStencilO'+'p'][_0x260c3b]),this['stencilFai'+'lBack']=_0x357898,this['stencilZfa'+'ilBack']=_0x5808da,this['stencilZpa'+'ssBack']=_0x260c3b),this['stencilWri'+'teMaskBack']!==_0x50494d&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x50494d),this['stencilWri'+'teMaskBack']=_0x50494d);}['setBlendSt'+'ate'](_0xd6fc77){const _0x2170d8=this['blendState'];if(!_0x2170d8['equals'](_0xd6fc77)){const _0x14f5af=this['gl'],{blend:_0x47e43d,colorOp:_0x56417f,alphaOp:_0x4d3450,colorSrcFactor:_0x545ec2,colorDstFactor:_0x32ad4e,alphaSrcFactor:_0x119c4f,alphaDstFactor:_0x341a86}=_0xd6fc77;if(_0x2170d8['blend']!==_0x47e43d&&(_0x47e43d?_0x14f5af['enable'](_0x14f5af['BLEND']):_0x14f5af['disable'](_0x14f5af['BLEND'])),_0x2170d8['colorOp']!==_0x56417f||_0x2170d8['alphaOp']!==_0x4d3450){const _0x1bda9b=this['glBlendEqu'+'ation'];_0x14f5af['blendEquat'+'ionSeparat'+'e'](_0x1bda9b[_0x56417f],_0x1bda9b[_0x4d3450]);}(_0x2170d8['colorSrcFa'+'ctor']!==_0x545ec2||_0x2170d8['colorDstFa'+'ctor']!==_0x32ad4e||_0x2170d8['alphaSrcFa'+'ctor']!==_0x119c4f||_0x2170d8['alphaDstFa'+'ctor']!==_0x341a86)&&_0x14f5af['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x545ec2],this['glBlendFun'+'ctionColor'][_0x32ad4e],this['glBlendFun'+'ctionAlpha'][_0x119c4f],this['glBlendFun'+'ctionAlpha'][_0x341a86]),_0x2170d8['allWrite']!==_0xd6fc77['allWrite']&&this['gl']['colorMask'](_0xd6fc77['redWrite'],_0xd6fc77['greenWrite'],_0xd6fc77['blueWrite'],_0xd6fc77['alphaWrite']),_0x2170d8['copy'](_0xd6fc77);}}['setBlendCo'+'lor'](_0x1db561,_0x597ddb,_0x3a612e,_0x4c1a9e){const _0x3357ff=this['blendColor'];(_0x1db561!==_0x3357ff['r']||_0x597ddb!==_0x3357ff['g']||_0x3a612e!==_0x3357ff['b']||_0x4c1a9e!==_0x3357ff['a'])&&(this['gl']['blendColor'](_0x1db561,_0x597ddb,_0x3a612e,_0x4c1a9e),_0x3357ff['set'](_0x1db561,_0x597ddb,_0x3a612e,_0x4c1a9e));}['setStencil'+'State'](_0x397f79,_0x1fa481){_0x397f79||_0x1fa481?(this['setStencil'+'Test'](!(0x3*-0x5a7+-0x190d+0x26*0x11b)),_0x397f79===_0x1fa481?(this['setStencil'+'Func'](_0x397f79['func'],_0x397f79['ref'],_0x397f79['readMask']),this['setStencil'+'Operation'](_0x397f79['fail'],_0x397f79['zfail'],_0x397f79['zpass'],_0x397f79['writeMask'])):(_0x397f79??(_0x397f79=qs['DEFAULT']),this['setStencil'+'FuncFront'](_0x397f79['func'],_0x397f79['ref'],_0x397f79['readMask']),this['setStencil'+'OperationF'+'ront'](_0x397f79['fail'],_0x397f79['zfail'],_0x397f79['zpass'],_0x397f79['writeMask']),_0x1fa481??(_0x1fa481=qs['DEFAULT']),this['setStencil'+'FuncBack'](_0x1fa481['func'],_0x1fa481['ref'],_0x1fa481['readMask']),this['setStencil'+'OperationB'+'ack'](_0x1fa481['fail'],_0x1fa481['zfail'],_0x1fa481['zpass'],_0x1fa481['writeMask']))):this['setStencil'+'Test'](!(-0x80e+0x16b4+0xea5*-0x1));}['setDepthSt'+'ate'](_0x5b6919){const _0x2dd914=this['depthState'];if(!_0x2dd914['equals'](_0x5b6919)){const _0x28a383=this['gl'],_0xed2494=_0x5b6919['write'];_0x2dd914['write']!==_0xed2494&&_0x28a383['depthMask'](_0xed2494);let {func:_0x1d98f0,test:_0x4ea462}=_0x5b6919;!_0x4ea462&&_0xed2494&&(_0x4ea462=!(0x5a1*0x2+-0x1617+0xad5),_0x1d98f0=Ai),_0x2dd914['func']!==_0x1d98f0&&_0x28a383['depthFunc'](this['glComparis'+'on'][_0x1d98f0]),_0x2dd914['test']!==_0x4ea462&&(_0x4ea462?_0x28a383['enable'](_0x28a383['DEPTH_TEST']):_0x28a383['disable'](_0x28a383['DEPTH_TEST']));const {depthBias:_0x344d93,depthBiasSlope:_0x48d3c4}=_0x5b6919;_0x344d93||_0x48d3c4?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(-0x48*-0x3d+-0x9*-0x22d+-0xb*0x357),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x28a383['polygonOff'+'set'](_0x48d3c4,_0x344d93)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(-0x96*0xf+0x892*-0x1+0x115d),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x2dd914['copy'](_0x5b6919);}}['setCullMod'+'e'](_0x18fc54){if(this['cullMode']!==_0x18fc54){if(_0x18fc54===mt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===mt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x5f48a4=this['glCull'][_0x18fc54];this['cullFace']!==_0x5f48a4&&(this['gl']['cullFace'](_0x5f48a4),this['cullFace']=_0x5f48a4);}this['cullMode']=_0x18fc54;}}['setShader'](_0x200eef,_0x5b2c2e=!(0x193c+-0x22f7+0x9bc)){_0x200eef!==this['shader']&&(this['shader']=_0x200eef,this['shaderAsyn'+'cCompile']=_0x5b2c2e,this['shaderVali'+'d']=void(-0x11*0x16d+0x1*0x227f+0x2*-0x521),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](_0x55fb25){const {shader:_0x16f6d4}=this,{impl:_0x56789f}=_0x16f6d4;this['shaderVali'+'d']===void(-0x2f2*0x2+-0x16*-0x2b+-0x2*-0x119)&&(_0x16f6d4['failed']?this['shaderVali'+'d']=!(0x9*0x32b+-0x60d*-0x1+-0x228f):_0x16f6d4['ready']||(this['shaderAsyn'+'cCompile']?_0x56789f['isLinked'](_0x55fb25)?_0x56789f['finalize'](this,_0x16f6d4)||(_0x16f6d4['failed']=!(0xde2*0x1+0x718*-0x5+-0x6*-0x399),this['shaderVali'+'d']=!(0x18f4+-0xd*0x1f1+0x4a)):this['shaderVali'+'d']=!(0x4*0x205+0x1*-0x2253+-0x46*-0x60):_0x56789f['finalize'](this,_0x16f6d4)||(_0x16f6d4['failed']=!(0x1*0x2047+-0x1384+-0xcc3),this['shaderVali'+'d']=!(0x106e*-0x2+-0x28c*-0x9+0x9f1)))),this['shaderVali'+'d']===void(0x19c7*0x1+-0x21d*-0x7+-0x2892)&&(this['gl']['useProgram'](_0x56789f['glProgram']),this['shaderVali'+'d']=!(0x1ebf+0x841*-0x1+-0x167e));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x366330=this['gl'];this['_vaoMap']['forEach']((_0x404f4b,_0x37a472,_0x45b4f9)=>{_0x366330['deleteVert'+'exArray'](_0x404f4b);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x520b04){_0x520b04?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x3359fc=0x2012+-0x1270+-0xd3e){const _0x3adb5d=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x3adb5d['loseContex'+'t'](),setTimeout(()=>_0x3adb5d['restoreCon'+'text'](),_0x3359fc);}}let mb=0x7*0x477+-0x1fca+-0x1*-0x89;class lr{constructor(_0x413615,_0x5545ff,_0x5c5670,_0x20e908=jt,_0xf6193a,_0x10b3c4){this['device']=_0x413615,this['format']=_0x5545ff,this['numIndices']=_0x5c5670,this['usage']=_0x20e908,this['id']=mb++,this['impl']=_0x413615['createInde'+'xBufferImp'+'l'](this,_0x10b3c4);const _0x194172=vv[_0x5545ff];this['bytesPerIn'+'dex']=_0x194172,this['numBytes']=this['numIndices']*_0x194172,_0xf6193a?this['setData'](_0xf6193a):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x413615['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x4436cc=this['device'],_0xdf04fb=_0x4436cc['buffers']['indexOf'](this);_0xdf04fb!==-(0x1bb9+0x15bf+-0x3177)&&_0x4436cc['buffers']['splice'](_0xdf04fb,0x9cb+0x150d+0x1ed7*-0x1),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x4436cc),this['adjustVram'+'SizeTracki'+'ng'](_0x4436cc['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x3bf0ca,_0x567243){v['trace'](Qx,this['id']+'\x20size:\x20'+_0x567243+'\x20vram.ib:\x20'+_0x3bf0ca['ib']+'\x20=>\x20'+(_0x3bf0ca['ib']+_0x567243)),_0x3bf0ca['ib']+=_0x567243;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x2b93a9){return _0x2b93a9['byteLength']!==this['numBytes']?(v['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x2b93a9['byteLength']),!(-0x25dc+-0x227c+0x4859)):(this['storage']=_0x2b93a9,this['unlock'](),!(-0x1aab*-0x1+0x39*-0x81+0x20e));}['_lockTyped'+'Array'](){const _0x26c92a=this['lock']();return this['format']===nr?new Uint32Array(_0x26c92a):this['format']===Pi?new Uint16Array(_0x26c92a):new Uint8Array(_0x26c92a);}['writeData'](_0x345b62,_0xa5b436){const _0x3f80a0=this['_lockTyped'+'Array']();if(_0x345b62['length']>_0xa5b436){if(ArrayBuffer['isView'](_0x345b62))_0x345b62=_0x345b62['subarray'](-0x1325+-0x16fa+0x2a1f,_0xa5b436),_0x3f80a0['set'](_0x345b62);else{for(let _0x51a761=0x1*-0x411+0x7*-0xc4+0x96d;_0x51a761<_0xa5b436;_0x51a761++)_0x3f80a0[_0x51a761]=_0x345b62[_0x51a761];}}else _0x3f80a0['set'](_0x345b62);this['unlock']();}['readData'](_0x40fffa){const _0x215de7=this['_lockTyped'+'Array'](),_0x2b38dd=this['numIndices'];if(ArrayBuffer['isView'](_0x40fffa))_0x40fffa['set'](_0x215de7);else{_0x40fffa['length']=-0xd49+0xd81*-0x2+-0x80f*-0x5;for(let _0x18fa69=-0x8fb+-0x1*-0x1aff+-0x1204*0x1;_0x18fa69<_0x2b38dd;_0x18fa69++)_0x40fffa[_0x18fa69]=_0x215de7[_0x18fa69];}return _0x2b38dd;}}class _b{constructor(){c(this,'clearValue',new Y(-0xcc7*0x1+0x203*-0xd+0x26ee,0x806+0xa1b+-0x1221,0xc8a+-0x7fa*0x1+-0x490,0x40f*-0x1+0x5f9*0x3+-0x1*0xddb)),c(this,'clearValue'+'Linear',new Y(0xa7*-0xa+-0x4*-0x50e+0x6d9*-0x2,0x47*-0x11+0xc44*-0x1+0x10fb,-0xe2b+-0x15e2*0x1+-0x240d*-0x1,0x175b+0x1af*-0x3+-0x124d)),c(this,'clear',!(-0x59f*-0x1+0x2*0x70e+-0x9dd*0x2)),c(this,'store',!(-0x29*0xc5+0x17e*0x18+-0x442)),c(this,'resolve',!(0x5b5*0x6+-0xbed*0x1+-0x1651)),c(this,'genMipmaps',!(-0xbe0+-0x18a6+0x2487));}}class gb{constructor(){c(this,'clearDepth'+'Value',-0x1494+0x5*0x782+-0x10f5),c(this,'clearStenc'+'ilValue',-0x1*0x1bd3+0x4*0x692+0x18b),c(this,'clearDepth',!(-0x14a1+0x233*0x1+-0xd*-0x16b)),c(this,'clearStenc'+'il',!(-0x3*-0x265+0xc98+-0x13c6)),c(this,'storeDepth',!(-0x23f3*-0x1+-0x2e*0x5f+-0x12e0)),c(this,'resolveDep'+'th',!(0x1*0xaef+0xff4+0x1f*-0xde)),c(this,'storeStenc'+'il',!(-0xf*0x1d9+0x2*-0x40f+-0x16*-0x1a1));}}class ds{constructor(_0x36e473){c(this,'_name'),c(this,'device'),c(this,'_enabled',!(-0x4d*-0x75+0x9c2+-0x2cf3)),c(this,'_skipStart',!(0x3aa*-0x6+0x56*0x1+0x17*0xf1)),c(this,'_skipEnd',!(0x1d18+0xcdc+-0x29f3*0x1)),c(this,'executeEna'+'bled',!(-0x4*-0x565+0xb6d+-0x2101)),c(this,'renderTarg'+'et'),c(this,'_options'),c(this,'samples',-0x2*0x4cf+0x1*-0x8c8+0xa*0x1d7),c(this,'colorArray'+'Ops',[]),c(this,'depthStenc'+'ilOps'),c(this,'requiresCu'+'bemaps',!(0x95*0x23+0x6*-0x3e5+-0xd*-0x3b)),c(this,'fullSizeCl'+'earRect',!(0xa29+0x1*0x206c+-0x2a95)),c(this,'beforePass'+'es',[]),c(this,'afterPasse'+'s',[]),(v['assert'](_0x36e473),this['device']=_0x36e473);}get['colorOps'](){return this['colorArray'+'Ops'][-0xcc*0x7+0xafa+0x566*-0x1];}set['name'](_0x5505f5){this['_name']=_0x5505f5;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0xe504a7){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0xe504a7;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x3a1e62){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x3a1e62;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x2b994f){this['_options']=_0x2b994f,_0x2b994f&&(this['scaleX']=this['scaleX']??-0x227f+0x1ba+0x5*0x68e,this['scaleY']=this['scaleY']??0x3f5+0x1785+0x1b79*-0x1);}get['options'](){return this['_options'];}['init'](_0xb0f952=null,_0x1d3fe9){this['options']=_0x1d3fe9,this['renderTarg'+'et']=_0xb0f952,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],0x58d+0x2010+0x74*-0x53),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0xbfe1c3,_0x572b66,_0x1d559a,_0x361551;const _0xd2766b=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new gb(),_0xd2766b!=null&&_0xd2766b['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(-0x19*-0xaf+0x25cb+0xa*-0x57d));const _0x36e580=_0xd2766b?((_0xbfe1c3=_0xd2766b['_colorBuff'+'ers'])==null?void(-0x966+-0x89*0x43+0x2d41):_0xbfe1c3['length'])??-0x1214+-0xadd+0x1cf1:0x22d6+-0x8a5+0x4*-0x68c;this['colorArray'+'Ops']['length']=0x804*-0x1+0x2e5+0x51f;for(let _0x25f4ab=0x2468+0x12b4+0x4*-0xdc7;_0x25f4ab<_0x36e580;_0x25f4ab++){const _0x3f1af5=new _b();this['colorArray'+'Ops'][_0x25f4ab]=_0x3f1af5,this['samples']===-0x1a37*-0x1+-0x22cd+0x897&&(_0x3f1af5['store']=!(0x321+0x34c+-0x66d),_0x3f1af5['resolve']=!(0xa*0x3b+-0x20*-0x6+-0x30d));const _0x2a6060=(_0x1d559a=(_0x572b66=this['renderTarg'+'et'])==null?void(0x237+-0x61e+0x3e7):_0x572b66['_colorBuff'+'ers'])==null?void(0x26a3+0x137a+-0x3a1d):_0x1d559a[_0x25f4ab];if((_0x361551=this['renderTarg'+'et'])!=null&&_0x361551['mipmaps']&&(_0x2a6060!=null&&_0x2a6060['mipmaps'])){const _0x40edd7=ea(_0x2a6060['_format']);_0x3f1af5['genMipmaps']=!_0x40edd7;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x48c7e2=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x5092ff=Math['floor'](_0x48c7e2['width']*this['scaleX']),_0x23da76=Math['floor'](_0x48c7e2['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x5092ff,_0x23da76);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x3a3c82){this['_enabled']!==_0x3a3c82&&(this['_enabled']=_0x3a3c82,_0x3a3c82?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x42f3e0){const _0x43de1c=this['colorArray'+'Ops']['length'];for(let _0x5b6ed8=0x105c+-0x10b6+0x5a;_0x5b6ed8<_0x43de1c;_0x5b6ed8++){const _0x274840=this['colorArray'+'Ops'][_0x5b6ed8];_0x42f3e0&&(_0x274840['clearValue']['copy'](_0x42f3e0),_0x274840['clearValue'+'Linear']['linear'](_0x42f3e0)),_0x274840['clear']=!!_0x42f3e0;}}['setClearDe'+'pth'](_0x597fa6){_0x597fa6&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x597fa6),this['depthStenc'+'ilOps']['clearDepth']=_0x597fa6!==void(0x58e*0x6+0xf30+0x1*-0x3084);}['setClearSt'+'encil'](_0x27649a){_0x27649a&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x27649a),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x27649a!==void(-0x757*-0x4+-0x2f*-0x8b+-0x124b*0x3);}['render'](){if(this['enabled']){const _0x5681ac=this['device'],_0x5eb722=this['renderTarg'+'et']!==void(0x9d4+0x14b6+-0x1*0x1e8a);v['call'](()=>{this['log'](_0x5681ac,_0x5681ac['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x5eb722&&!this['_skipStart']&&_0x5681ac['startRende'+'rPass'](this),this['execute'](),_0x5eb722&&!this['_skipEnd']&&_0x5681ac['endRenderP'+'ass'](this)),this['after'](),_0x5681ac['renderPass'+'Index']++;}}['log'](_0x580d53,_0x2dfa4f=0x1d7c+0x29*0xa1+-0x3745){var _0x42850c,_0x489dde,_0x6ca9d0;if(Xs['get'](jp)||Xs['get'](Jn)){const _0x424b97=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x580d53['backBuffer']:null),_0x3fb8ef=!!(_0x424b97!=null&&_0x424b97['impl']['assignedCo'+'lorTexture'])||(_0x424b97==null?void(-0xd8e*-0x1+-0x100f+-0x281*-0x1):_0x424b97['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(-0x1260+0x26c8+-0x51a*0x4),_0x321597=((_0x42850c=_0x424b97==null?void(0xeef+-0x1462+0x573):_0x424b97['_colorBuff'+'ers'])==null?void(-0x4*-0xc5+0x1573+-0x1887):_0x42850c['length'])??(_0x3fb8ef?0x2b1+-0x1*0x1487+0x11d7:-0x1*0x193f+0xe28+-0xb17*-0x1),_0x50c7b5=_0x424b97==null?void(-0x1*-0x819+-0x262+-0x5b7):_0x424b97['depth'],_0x24769f=_0x424b97==null?void(-0xd29+0x2*-0x362+0x13ed*0x1):_0x424b97['stencil'],_0x51bdc0=_0x424b97==null?void(0x557*0x4+0xec2+-0x241e):_0x424b97['mipLevel'],_0x394398=_0x424b97?'\x20RT:\x20'+(_0x424b97?_0x424b97['name']:'NULL')+'\x20'+(_0x321597>-0x23c3+0xe1*0xa+0x1af9?'[Color'+(_0x321597>-0x1bfa*-0x1+-0x1*0x10f1+-0xb08?'\x20x\x20'+_0x321597:'')+']':'')+(_0x50c7b5?'[Depth]':'')+(_0x24769f?'[Stencil]':'')+'\x20'+_0x424b97['width']+'\x20x\x20'+_0x424b97['height']+(this['samples']>-0x18fb+0x25*0x8b+0x4e4?'\x20samples:\x20'+this['samples']:'')+(_0x51bdc0>0x25ff+-0xd45+-0x18ba?'\x20mipLevel:'+'\x20'+_0x51bdc0:''):'',_0x27421a=this['_skipStart']?'++':_0x2dfa4f['toString']()['padEnd'](-0x1*-0x401+-0x1*-0x11f5+0x119*-0x14,'\x20');v['trace'](jp,_0x27421a+':\x20'+this['name']['padEnd'](0x1*-0x267b+-0x1481+-0x14*-0x2f4,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x394398['padEnd'](-0x12c7+0x1782+-0x49d));for(let _0x609e5d=0x2e+0x167+-0xf*0x1b;_0x609e5d<_0x321597;_0x609e5d++){const _0x3b6bfa=this['colorArray'+'Ops'][_0x609e5d],_0x461ca1=(_0x489dde=xt['get'](_0x3fb8ef?_0x580d53['backBuffer'+'Format']:_0x424b97['getColorBu'+'ffer'](_0x609e5d)['format']))==null?void(0xedd+0x261f+-0x1a7e*0x2):_0x489dde['name'];v['trace'](Jn,'\x20\x20\x20\x20color['+_0x609e5d+']:\x20'+(_0x3b6bfa['clear']?'clear':'load')+'->'+(_0x3b6bfa['store']?'store':'discard')+'\x20'+(_0x3b6bfa['resolve']?'resolve\x20':'')+(_0x3b6bfa['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x461ca1+']\x20'+(_0x3b6bfa['clear']?'[clear:\x20'+_0x3b6bfa['clearValue']['toString'](!(-0x2310+-0x8fd+-0x7*-0x64b),!(-0x52*0x2d+0x916+0x7c*0xb))+']':''));}if(this['depthStenc'+'ilOps']){const _0x4f424d=''+(_0x424b97['depthBuffe'+'r']?'\x20[format:\x20'+((_0x6ca9d0=xt['get'](_0x424b97['depthBuffe'+'r']['format']))==null?void(0x4*0x4fc+-0x20f7+-0xd07*-0x1):_0x6ca9d0['name'])+']':'');_0x50c7b5&&v['trace'](Jn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x4f424d+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x24769f&&v['trace'](Jn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x4f424d+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function yb(_0x1647a1){this['array'][this['index']]=_0x1647a1;}function xb(_0x9d0470,_0x102ce7){this['array'][this['index']]=_0x9d0470,this['array'][this['index']+(0x1*-0xb03+-0x1ee5*-0x1+-0x13e1)]=_0x102ce7;}function Sb(_0x717a60,_0x3b9238,_0x23da1f){this['array'][this['index']]=_0x717a60,this['array'][this['index']+(0x1d04+-0x1da5+0xa2)]=_0x3b9238,this['array'][this['index']+(-0x37b+-0x228a+0xf*0x289)]=_0x23da1f;}function vb(_0x1bbdcc,_0x3fddcb,_0x3c9bf7,_0x18359c){this['array'][this['index']]=_0x1bbdcc,this['array'][this['index']+(0x2316+-0x1d*0xd7+0x55d*-0x2)]=_0x3fddcb,this['array'][this['index']+(0x24b7*-0x1+0x16e*-0x17+0x459b)]=_0x3c9bf7,this['array'][this['index']+(-0x1953+-0x121d+0x1*0x2b73)]=_0x18359c;}function bb(_0x3dc5af,_0x27e5c3,_0x5b7ff9){this['array'][_0x3dc5af]=_0x27e5c3[_0x5b7ff9];}function wb(_0x5c144d,_0x1097af,_0x1e3ca4){this['array'][_0x5c144d]=_0x1097af[_0x1e3ca4],this['array'][_0x5c144d+(-0x1a87+0xfdf+0xaa9)]=_0x1097af[_0x1e3ca4+(-0xbb1+-0x25ca+0x317c)];}function Tb(_0x3286f5,_0x10b351,_0x2e0fb4){this['array'][_0x3286f5]=_0x10b351[_0x2e0fb4],this['array'][_0x3286f5+(-0x1119*0x1+-0x1a5f+0x2b79)]=_0x10b351[_0x2e0fb4+(-0x7b4+-0x102*-0x26+-0x1*0x1e97)],this['array'][_0x3286f5+(0x1d0+0xa21+-0xbef*0x1)]=_0x10b351[_0x2e0fb4+(-0x1599+0x682+-0xf19*-0x1)];}function Ab(_0x27a6ae,_0x115c8a,_0xfc6dd0){this['array'][_0x27a6ae]=_0x115c8a[_0xfc6dd0],this['array'][_0x27a6ae+(0xf7d+-0x338+0x4*-0x311)]=_0x115c8a[_0xfc6dd0+(0x1f82+-0x97*-0x9+-0x24d0)],this['array'][_0x27a6ae+(-0x593+-0x1ef6+0x248b)]=_0x115c8a[_0xfc6dd0+(0x2498+-0x190b+-0x5*0x24f)],this['array'][_0x27a6ae+(0xb*0xab+0x333*-0x3+-0xc1*-0x3)]=_0x115c8a[_0xfc6dd0+(0x10b*0x25+-0x3f5+-0x229f)];}function Eb(_0x4c97bd,_0x29a666,_0x539ce6){_0x29a666[_0x539ce6]=this['array'][_0x4c97bd];}function Cb(_0x5876fa,_0xa74c8a,_0x3d47cd){_0xa74c8a[_0x3d47cd]=this['array'][_0x5876fa],_0xa74c8a[_0x3d47cd+(-0xdc2+-0x2*-0x167+-0xb*-0xff)]=this['array'][_0x5876fa+(-0x2*0xdc6+-0xe0*-0x26+-0x5b3)];}function Mb(_0x262e13,_0x581a1f,_0x3d0eb4){_0x581a1f[_0x3d0eb4]=this['array'][_0x262e13],_0x581a1f[_0x3d0eb4+(0x226*0x3+-0x1c1+-0x4b0)]=this['array'][_0x262e13+(0x1*-0x571+0x692+-0x12*0x10)],_0x581a1f[_0x3d0eb4+(-0xfff+-0x2042+0x3043)]=this['array'][_0x262e13+(0x4*-0xfe+0x4f*-0x3d+0x1c1*0xd)];}function Pb(_0x2ca635,_0x52fd32,_0x3f0435){_0x52fd32[_0x3f0435]=this['array'][_0x2ca635],_0x52fd32[_0x3f0435+(0xfb8+-0x3c6*-0x8+-0x2de7)]=this['array'][_0x2ca635+(0x24fb*0x1+-0xc39+-0x18c1)],_0x52fd32[_0x3f0435+(-0x122b*0x1+-0x197+0x13c4)]=this['array'][_0x2ca635+(-0x71*-0x7+0x265*-0x1+-0xb0)],_0x52fd32[_0x3f0435+(0x10ba+-0x1081+0x36*-0x1)]=this['array'][_0x2ca635+(0xf80+-0x1*0xe9e+-0x1*0xdf)];}class Rb{constructor(_0x54cdda,_0x497ea8,_0x4e4dc7){switch(this['index']=-0x2353*0x1+0x149f+-0x1*-0xeb4,this['numCompone'+'nts']=_0x497ea8['numCompone'+'nts'],_0x4e4dc7['interleave'+'d']?this['array']=new da[_0x497ea8['dataType']](_0x54cdda,_0x497ea8['offset']):this['array']=new da[_0x497ea8['dataType']](_0x54cdda,_0x497ea8['offset'],_0x4e4dc7['vertexCoun'+'t']*_0x497ea8['numCompone'+'nts']),this['stride']=_0x497ea8['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x497ea8['numCompone'+'nts']){case 0x2*-0xfd9+0x1a69+0x54a:this['set']=yb,this['getToArray']=Eb,this['setFromArr'+'ay']=bb;break;case 0xd41+-0x8*-0x121+-0x1647:this['set']=xb,this['getToArray']=Cb,this['setFromArr'+'ay']=wb;break;case-0x1201+-0x1*-0x16f9+-0x4f5:this['set']=Sb,this['getToArray']=Mb,this['setFromArr'+'ay']=Tb;break;case-0x1685+0x130d+-0x1be*-0x2:this['set']=vb,this['getToArray']=Pb,this['setFromArr'+'ay']=Ab;break;}}['get'](_0x2f2be5){return this['array'][this['index']+_0x2f2be5];}['set'](_0x967e66,_0x49edf6,_0x219eb5,_0x4b017b){}['getToArray'](_0x535224,_0x2a40d1,_0x3d1cee){}['setFromArr'+'ay'](_0x10571e,_0x338052,_0x10ba43){}}class go{constructor(_0x421aa5){this['vertexBuff'+'er']=_0x421aa5,this['vertexForm'+'atSize']=_0x421aa5['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x426a47=this['vertexBuff'+'er']['getFormat']();for(let _0x4b6652=0x1bdd+-0x2*0xe09+0x35;_0x4b6652<_0x426a47['elements']['length'];_0x4b6652++){const _0x361e82=_0x426a47['elements'][_0x4b6652];this['accessors'][_0x4b6652]=new Rb(this['buffer'],_0x361e82,_0x426a47),this['element'][_0x361e82['name']]=this['accessors'][_0x4b6652];}}['next'](_0x417b9a=-0x5ff+-0x595*0x1+-0x1*-0xb95){let _0x168eeb=-0x187a+0x15b6+0x2c4;const _0x4cd260=this['accessors'],_0x3ecbf0=this['accessors']['length'];for(;_0x168eeb<_0x3ecbf0;){const _0x225ffc=_0x4cd260[_0x168eeb++];_0x225ffc['index']+=_0x417b9a*_0x225ffc['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0xda4aaa,_0x17d25b,_0x21eee3){const _0xbc6a71=this['element'][_0xda4aaa];if(_0xbc6a71){_0x21eee3>this['vertexBuff'+'er']['numVertice'+'s']&&(v['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x21eee3+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x21eee3=this['vertexBuff'+'er']['numVertice'+'s']);const _0x691d18=_0xbc6a71['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x29dab6=-0x1a1*0x9+0x316*-0x9+-0x3*-0xe25;for(let _0x4429a3=0x623*0x1+-0x5*-0x2a+-0x6f5;_0x4429a3<_0x21eee3;_0x4429a3++)_0xbc6a71['setFromArr'+'ay'](_0x29dab6,_0x17d25b,_0x4429a3*_0x691d18),_0x29dab6+=_0xbc6a71['stride'];}else{if(_0x17d25b['length']>_0x21eee3*_0x691d18){const _0xb2621e=_0x21eee3*_0x691d18;if(ArrayBuffer['isView'](_0x17d25b))_0x17d25b=_0x17d25b['subarray'](-0x5c2+0x5*0x2f5+0x907*-0x1,_0xb2621e),_0xbc6a71['array']['set'](_0x17d25b);else{for(let _0x45f3bd=0xa49+0xf*-0x89+0x121*-0x2;_0x45f3bd<_0xb2621e;_0x45f3bd++)_0xbc6a71['array'][_0x45f3bd]=_0x17d25b[_0x45f3bd];}}else _0xbc6a71['array']['set'](_0x17d25b);}}}['readData'](_0x527d5c,_0x2d4e3e){const _0x48368e=this['element'][_0x527d5c];let _0x586b0f=-0x1c17+0x2022+-0x40b;if(_0x48368e){_0x586b0f=this['vertexBuff'+'er']['numVertice'+'s'];let _0x525b33;const _0x229b1d=_0x48368e['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x2d4e3e)&&(_0x2d4e3e['length']=0x4*0xc7+0x1aa+-0x5e*0xd),_0x48368e['index']=0xedf+-0x192+-0xf*0xe3;let _0x4b342a=-0xc28+-0x4*-0x66a+-0xd80;for(_0x525b33=0x242a*-0x1+-0x1*-0x140e+0x101c;_0x525b33<_0x586b0f;_0x525b33++)_0x48368e['getToArray'](_0x4b342a,_0x2d4e3e,_0x525b33*_0x229b1d),_0x4b342a+=_0x48368e['stride'];}else{if(ArrayBuffer['isView'](_0x2d4e3e))_0x2d4e3e['set'](_0x48368e['array']);else{_0x2d4e3e['length']=0x2b*0x5+-0x1*0x551+0x47a;const _0x4eab59=_0x586b0f*_0x229b1d;for(_0x525b33=0x2364+0x1*-0x954+-0x1a10;_0x525b33<_0x4eab59;_0x525b33++)_0x2d4e3e[_0x525b33]=_0x48368e['array'][_0x525b33];}}}return _0x586b0f;}}const Im='mousedown',Dm='mousemove',Lm='mouseup',Mu='mousewheel',Ib=-(-0x2a5*-0x7+-0x1594+0x312);class Db{constructor(_0x1e5108,_0x2bd34c){c(this,'key',null),c(this,'element',null),c(this,'event',null),_0x2bd34c&&(this['key']=_0x2bd34c['keyCode'],this['element']=_0x2bd34c['target'],this['event']=_0x2bd34c);}}const Sl=new Db();function fd(_0x174b17){return Sl['key']=_0x174b17['keyCode'],Sl['element']=_0x174b17['target'],Sl['event']=_0x174b17,Sl;}function vl(_0x5104d1){return typeof _0x5104d1=='string'?_0x5104d1['toUpperCas'+'e']()['charCodeAt'](-0xa33+0x1ca3+-0x1270):_0x5104d1;}const Lb={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class Fm extends ce{constructor(_0x381509,_0x4e124c={}){super(),c(this,'_element',null),c(this,'_keymap',{}),c(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x381509&&this['attach'](_0x381509),this['preventDef'+'ault']=_0x4e124c['preventDef'+'ault']||!(0x3b*0x1+0x6*-0x5f1+0x11b6*0x2),this['stopPropag'+'ation']=_0x4e124c['stopPropag'+'ation']||!(0x2246+-0x15c5*-0x1+-0x380a));}['attach'](_0x7ea2ca){this['_element']&&this['detach'](),this['_element']=_0x7ea2ca,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(0xde4+0x2078+-0x1*0x2e5b)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(0x96a+0x26a*-0x6+0x513)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(0x353*-0x9+0xa22*-0x3+0x3c52)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x654+-0x2*0xb83+0xa7*0x2d)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(0x1894+-0xfd0+-0x1*0x8c3));}['detach'](){if(!this['_element']){v['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x20bd+-0x231d+-0x1*-0x261)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(0x17bc*0x1+0x1556+-0x2d11));}['toKeyIdent'+'ifier'](_0x4ebe46){_0x4ebe46=vl(_0x4ebe46);const _0x3af2d9=Lb[_0x4ebe46['toString']()];if(_0x3af2d9)return _0x3af2d9;let _0x49c43c=_0x4ebe46['toString'](0xcdc+0x1609+-0xf1*0x25)['toUpperCas'+'e']();const _0x20dd4a=_0x49c43c['length'];for(let _0x2fd37a=-0xc3e+-0x1bf3+0x2831*0x1;_0x2fd37a<-0x1903*0x1+-0xdbf+-0x2c5*-0xe-_0x20dd4a;_0x2fd37a++)_0x49c43c='0'+_0x49c43c;return'U+'+_0x49c43c;}['_handleKey'+'Down'](_0x5ab617){const _0x4fdb2f=_0x5ab617['keyCode']||_0x5ab617['charCode'];if(_0x4fdb2f===void(0x877*0x3+-0x157*-0x12+0x3*-0x1081))return;const _0x408266=this['toKeyIdent'+'ifier'](_0x4fdb2f);this['_keymap'][_0x408266]=!(-0x1*-0x25e5+-0x19bb+0x9*-0x15a),this['fire']('keydown',fd(_0x5ab617)),this['preventDef'+'ault']&&_0x5ab617['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x5ab617['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x14b0ac){const _0x35562b=_0x14b0ac['keyCode']||_0x14b0ac['charCode'];if(_0x35562b===void(0x22b0+0x1978+0x19*-0x268))return;const _0x1f7bb4=this['toKeyIdent'+'ifier'](_0x35562b);delete this['_keymap'][_0x1f7bb4],this['fire']('keyup',fd(_0x14b0ac)),this['preventDef'+'ault']&&_0x14b0ac['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x14b0ac['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x1189d8){this['fire']('keypress',fd(_0x1189d8)),this['preventDef'+'ault']&&_0x1189d8['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x1189d8['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x420e40 in this['_lastmap'])delete this['_lastmap'][_0x420e40];for(const _0x102598 in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x102598)&&(this['_lastmap'][_0x102598]=this['_keymap'][_0x102598]);}['isPressed'](_0x298e2f){const _0x4a7928=vl(_0x298e2f),_0x945c2b=this['toKeyIdent'+'ifier'](_0x4a7928);return!!this['_keymap'][_0x945c2b];}['wasPressed'](_0x45fd6c){const _0x323781=vl(_0x45fd6c),_0x374012=this['toKeyIdent'+'ifier'](_0x323781);return!!this['_keymap'][_0x374012]&&!this['_lastmap'][_0x374012];}['wasRelease'+'d'](_0x43adfd){const _0x324598=vl(_0x43adfd),_0x13f143=this['toKeyIdent'+'ifier'](_0x324598);return!this['_keymap'][_0x13f143]&&!!this['_lastmap'][_0x13f143];}}c(Fm,'EVENT_KEYD'+'OWN','keydown'),c(Fm,'EVENT_KEYU'+'P','keyup');function Pu(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x1bf648,_0x3ccad0){c(this,'x',0x866*0x3+0x25*-0x9a+-0x2f0),c(this,'y',-0xa01+0x382+0x67f),c(this,'dx',0x1e81+0x20f9+-0x3f7a),c(this,'dy',0xe08+0x77*0x4f+-0x32c1),c(this,'button',Ib),c(this,'wheelDelta',0x1*0x1632+0x313+-0x1945),c(this,'element'),c(this,'ctrlKey',!(0x14e+0x12de+-0x1*0x142b)),c(this,'altKey',!(0x444+-0x51*-0x57+-0x1*0x1fca)),c(this,'shiftKey',!(0x10f8+0x899+-0x1990)),c(this,'metaKey',!(0x4*0x761+-0x1ab+-0x37b*0x8)),c(this,'event');let _0x373b83={'x':0x0,'y':0x0};if(_0x3ccad0){if(_0x3ccad0 instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x373b83=_0x1bf648['_getTarget'+'Coords'](_0x3ccad0);}else _0x3ccad0={};if(_0x373b83)this['x']=_0x373b83['x'],this['y']=_0x373b83['y'];else{if(Pu())this['x']=0x22*0x119+0x1*0xf70+-0x8cb*0x6,this['y']=-0x91b*-0x3+0x7d3+0x34*-0xad;else return;}_0x3ccad0['type']==='wheel'&&(_0x3ccad0['deltaY']>0xd82+-0x2*0x96d+0x48*0x13?this['wheelDelta']=0x34*-0x22+0x1*-0x24e9+0x2bd2:_0x3ccad0['deltaY']<-0x15*-0xd5+0x2e5*0x9+-0x15c3*0x2&&(this['wheelDelta']=-(0xd*0x108+0x3*-0x996+0xf5b))),Pu()?(this['dx']=_0x3ccad0['movementX']||_0x3ccad0['webkitMove'+'mentX']||_0x3ccad0['mozMovemen'+'tX']||0x16f0+0x2559+0x3c49*-0x1,this['dy']=_0x3ccad0['movementY']||_0x3ccad0['webkitMove'+'mentY']||_0x3ccad0['mozMovemen'+'tY']||-0x1592+0x1*-0x601+0x1b93):(this['dx']=this['x']-_0x1bf648['_lastX'],this['dy']=this['y']-_0x1bf648['_lastY']),(_0x3ccad0['type']==='mousedown'||_0x3ccad0['type']==='mouseup')&&(this['button']=_0x3ccad0['button']),this['buttons']=_0x1bf648['_buttons']['slice'](0x26bf+-0x2*-0x365+-0x2d89*0x1),this['element']=_0x3ccad0['target'],this['ctrlKey']=_0x3ccad0['ctrlKey']??!(0x2247+-0x1446+0x20*-0x70),this['altKey']=_0x3ccad0['altKey']??!(0x13d2+0x2616+-0x3d*0xf3),this['shiftKey']=_0x3ccad0['shiftKey']??!(0xa5b+0x17b1*-0x1+0xd57),this['metaKey']=_0x3ccad0['metaKey']??!(0x1c2d*0x1+-0x92f*0x1+-0x12fd),this['event']=_0x3ccad0;}}class bl extends ce{constructor(_0x2b085b){super(),c(this,'_lastX',0x179*-0x10+0x189d*0x1+-0x10d),c(this,'_lastY',-0x1*-0xe92+0x1e50+-0x2ce2),c(this,'_buttons',[!(-0xd12+-0x6d*0x53+0x2*0x1835),!(-0x1*0xbcf+0x16d5+-0xb05),!(0x6a9+-0x3e7*-0x4+-0x1644)]),c(this,'_lastbutto'+'ns',[!(-0x44d+-0x2307+-0x1*-0x2755),!(0xa1a+-0x20c*-0x1+-0xc25*0x1),!(-0x1a1*0x14+-0xf13*-0x1+0x1182)]),c(this,'_target',null),c(this,'_attached',!(0xef*-0x7+-0xbcb+-0x169*-0xd)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x500aba=>{_0x500aba['preventDef'+'ault']();},this['attach'](_0x2b085b));}static['isPointerL'+'ocked'](){return Pu();}['attach'](_0x3fe578){if(this['_target']=_0x3fe578,this['_attached'])return;this['_attached']=!(-0x17fe*-0x1+-0x1371+-0x48d*0x1);const _0x2cae35={'passive':!(0x3*-0x6b9+-0x13bb+0x27e7)},_0x3e84a8=ye['passiveEve'+'nts']?_0x2cae35:!(0x1*-0x730+-0x1376+0x1aa7);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x3e84a8),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x3e84a8),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x3e84a8),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x3e84a8);}['detach'](){if(!this['_attached'])return;this['_attached']=!(0x14dd+-0x3a9*-0x3+-0x1fd7),this['_target']=null;const _0x5a285c={'passive':!(0x1145+-0x221b*-0x1+-0x335f)},_0x81b48b=ye['passiveEve'+'nts']?_0x5a285c:!(-0x1*0x14a3+0x6*0x565+-0xbba);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x81b48b),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x81b48b),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x81b48b),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x81b48b);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x194caf,_0x9a4f36){if(!document['body']['requestPoi'+'nterLock']){_0x9a4f36&&_0x9a4f36();return;}const _0x94d6f7=()=>{_0x194caf(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x94d6f7);},_0x202a59=()=>{_0x9a4f36(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x202a59);};_0x194caf&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x94d6f7,!(0x1*0x328+-0x489*-0x8+-0x276f)),_0x9a4f36&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x202a59,!(-0x1637+-0x1*0x52a+0x1b62)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x51787a){if(!document['exitPointe'+'rLock'])return;const _0x233b52=()=>{_0x51787a(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x233b52);};_0x51787a&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x233b52,!(-0x715+0x955+-0x23f*0x1)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][0x13*0x82+0xcb3*-0x1+0x1*0x30d]=this['_buttons'][-0x1eb5+0x7c*0x4f+-0x78f],this['_lastbutto'+'ns'][0x17*-0x97+-0x188b+0x261d]=this['_buttons'][-0x1038+0x265*0x8+-0x1*0x2ef],this['_lastbutto'+'ns'][-0x233d+0x12c+0xb*0x319]=this['_buttons'][-0x10*0x255+0x587+0x1fcb*0x1];}['isPressed'](_0x18816a){return this['_buttons'][_0x18816a];}['wasPressed'](_0x2fc21a){return this['_buttons'][_0x2fc21a]&&!this['_lastbutto'+'ns'][_0x2fc21a];}['wasRelease'+'d'](_0x2a9adf){return!this['_buttons'][_0x2a9adf]&&this['_lastbutto'+'ns'][_0x2a9adf];}['_handleUp'](_0x344656){this['_buttons'][_0x344656['button']]=!(0xdee+-0x11c2+0x9*0x6d);const _0x35dbee=new ta(this,_0x344656);_0x35dbee['event']&&this['fire'](Lm,_0x35dbee);}['_handleDow'+'n'](_0x118130){this['_buttons'][_0x118130['button']]=!(0x6ac+-0x291+0x41b*-0x1);const _0x5146eb=new ta(this,_0x118130);_0x5146eb['event']&&this['fire'](Im,_0x5146eb);}['_handleMov'+'e'](_0x3b9e89){const _0x44a22e=new ta(this,_0x3b9e89);_0x44a22e['event']&&(this['fire'](Dm,_0x44a22e),this['_lastX']=_0x44a22e['x'],this['_lastY']=_0x44a22e['y']);}['_handleWhe'+'el'](_0x3ef746){const _0x5cc3d1=new ta(this,_0x3ef746);_0x5cc3d1['event']&&this['fire'](Mu,_0x5cc3d1);}['_getTarget'+'Coords'](_0xd21fd2){const _0x5ec8b8=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x538849=Math['floor'](_0x5ec8b8['left']),_0x4d8461=Math['floor'](_0x5ec8b8['top']);return _0xd21fd2['clientX']<_0x538849||_0xd21fd2['clientX']>=_0x538849+this['_target']['clientWidt'+'h']||_0xd21fd2['clientY']<_0x4d8461||_0xd21fd2['clientY']>=_0x4d8461+this['_target']['clientHeig'+'ht']?null:{'x':_0xd21fd2['clientX']-_0x538849,'y':_0xd21fd2['clientY']-_0x4d8461};}}c(bl,'EVENT_MOUS'+'EMOVE',Dm),c(bl,'EVENT_MOUS'+'EDOWN',Im),c(bl,'EVENT_MOUS'+'EUP',Lm),c(bl,'EVENT_MOUS'+'EWHEEL',Mu);const be=class be{['get'](_0x2c5d35,_0xc738c0,_0x46b1bd){return typeof _0xc738c0=='function'&&(_0x46b1bd=_0xc738c0,_0xc738c0={}),this['request']('GET',_0x2c5d35,_0xc738c0,_0x46b1bd);}['post'](_0x11d8da,_0x40a59d,_0x3b39e3,_0x2a952d){return typeof _0x3b39e3=='function'&&(_0x2a952d=_0x3b39e3,_0x3b39e3={}),_0x3b39e3['postdata']=_0x40a59d,this['request']('POST',_0x11d8da,_0x3b39e3,_0x2a952d);}['put'](_0x2edcb9,_0x432f9a,_0x4c9bc4,_0x29fec3){return typeof _0x4c9bc4=='function'&&(_0x29fec3=_0x4c9bc4,_0x4c9bc4={}),_0x4c9bc4['postdata']=_0x432f9a,this['request']('PUT',_0x2edcb9,_0x4c9bc4,_0x29fec3);}['del'](_0x4f3c75,_0x4161e2,_0x48ad93){return typeof _0x4161e2=='function'&&(_0x48ad93=_0x4161e2,_0x4161e2={}),this['request']('DELETE',_0x4f3c75,_0x4161e2,_0x48ad93);}['request'](_0x29e468,_0x13ad49,_0x539aa4,_0x3cfbe1){let _0x5de8b9,_0x3a6696,_0x232d36,_0x178772=!(-0x797*-0x1+-0x1eee+0x14c*0x12);if(typeof _0x539aa4=='function'&&(_0x3cfbe1=_0x539aa4,_0x539aa4={}),_0x539aa4['retry']&&(_0x539aa4=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x539aa4)),_0x539aa4['callback']=_0x3cfbe1,_0x539aa4['async']==null&&(_0x539aa4['async']=!(-0x1074+-0xee0+0x4*0x7d5)),_0x539aa4['headers']==null&&(_0x539aa4['headers']={}),_0x539aa4['postdata']!=null){if(_0x539aa4['postdata']instanceof Document)_0x232d36=_0x539aa4['postdata'];else{if(_0x539aa4['postdata']instanceof FormData)_0x232d36=_0x539aa4['postdata'];else{if(_0x539aa4['postdata']instanceof Object){let _0xf4e159=_0x539aa4['headers']['Content-Ty'+'pe'];switch(_0xf4e159===void(-0x8b1+-0x4a*-0x3d+0x7*-0x147)&&(_0x539aa4['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0xf4e159=_0x539aa4['headers']['Content-Ty'+'pe']),_0xf4e159){case be['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x232d36='';let _0x24caf9=!(0x427*-0x1+-0x2696+0x2abd);for(const _0x470f35 in _0x539aa4['postdata'])if(_0x539aa4['postdata']['hasOwnProp'+'erty'](_0x470f35)){_0x24caf9?_0x24caf9=!(0x3a*-0x13+0x25*-0x2a+0xa61):_0x232d36+='&';const _0x51dbfc=encodeURIComponent(_0x470f35),_0x4dbe00=encodeURIComponent(_0x539aa4['postdata'][_0x470f35]);_0x232d36+=_0x51dbfc+'='+_0x4dbe00;}break;}default:case be['ContentTyp'+'e']['JSON']:_0xf4e159==null&&(_0x539aa4['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['JSON']),_0x232d36=JSON['stringify'](_0x539aa4['postdata']);break;}}else _0x232d36=_0x539aa4['postdata'];}}}if(_0x539aa4['cache']===!(0x5*0x769+0x8e*-0x7+-0x1095*0x2)){const _0x4201c5=ne();_0x5de8b9=new sd(_0x13ad49),_0x5de8b9['query']?_0x5de8b9['query']=_0x5de8b9['query']+'&ts='+_0x4201c5:_0x5de8b9['query']='ts='+_0x4201c5,_0x13ad49=_0x5de8b9['toString']();}_0x539aa4['query']&&(_0x5de8b9=new sd(_0x13ad49),_0x3a6696=vh(_0x5de8b9['getQuery'](),_0x539aa4['query']),_0x5de8b9['setQuery'](_0x3a6696),_0x13ad49=_0x5de8b9['toString']());const _0x3bd8f8=new XMLHttpRequest();_0x3bd8f8['open'](_0x29e468,_0x13ad49,_0x539aa4['async']),_0x3bd8f8['withCreden'+'tials']=_0x539aa4['withCreden'+'tials']!==void(-0x3*-0xc63+0x1833+-0x3d5c)?_0x539aa4['withCreden'+'tials']:!(-0x1e50+0x987*0x1+0x14ca),_0x3bd8f8['responseTy'+'pe']=_0x539aa4['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x13ad49);for(const _0x4b0260 in _0x539aa4['headers'])_0x539aa4['headers']['hasOwnProp'+'erty'](_0x4b0260)&&_0x3bd8f8['setRequest'+'Header'](_0x4b0260,_0x539aa4['headers'][_0x4b0260]);_0x3bd8f8['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x29e468,_0x13ad49,_0x539aa4,_0x3bd8f8);},_0x3bd8f8['onerror']=()=>{this['_onError'](_0x29e468,_0x13ad49,_0x539aa4,_0x3bd8f8),_0x178772=!(-0x185e+-0x5f8*0x4+-0x9a6*-0x5);};try{_0x3bd8f8['send'](_0x232d36);}catch(_0x24c76b){_0x178772||_0x539aa4['error'](_0x3bd8f8['status'],_0x3bd8f8,_0x24c76b);}return _0x3bd8f8;}['_guessResp'+'onseType'](_0x252c7d){const _0xd00d2f=new sd(_0x252c7d),_0x4ee62e=fe['getExtensi'+'on'](_0xd00d2f['path'])['toLowerCas'+'e']();return be['binaryExte'+'nsions']['indexOf'](_0x4ee62e)>=-0x2504+0x1a1*0x7+0x199d?be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x4ee62e==='.json'?be['ResponseTy'+'pe']['JSON']:_0x4ee62e==='.xml'?be['ResponseTy'+'pe']['DOCUMENT']:be['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x178f5){return[be['ContentTyp'+'e']['BASIS'],be['ContentTyp'+'e']['BIN'],be['ContentTyp'+'e']['DDS'],be['ContentTyp'+'e']['GLB'],be['ContentTyp'+'e']['MP3'],be['ContentTyp'+'e']['MP4'],be['ContentTyp'+'e']['OGG'],be['ContentTyp'+'e']['OPUS'],be['ContentTyp'+'e']['WAV']]['indexOf'](_0x178f5)>=0x135+-0x2*-0x49a+-0x5*0x215;}['_isBinaryR'+'esponseTyp'+'e'](_0x59ae6b){return _0x59ae6b===be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x59ae6b===be['ResponseTy'+'pe']['BLOB']||_0x59ae6b===be['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x10c88d,_0xd81d1a,_0x49628c,_0x140ed9){if(_0x140ed9['readyState']===0x11db+0x2*-0x14b+-0xf41)switch(_0x140ed9['status']){case-0x2532+0x443+0x20ef:{_0x140ed9['responseUR'+'L']&&_0x140ed9['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x10c88d,_0xd81d1a,_0x49628c,_0x140ed9):this['_onError'](_0x10c88d,_0xd81d1a,_0x49628c,_0x140ed9);break;}case-0x683*-0x2+-0x16*0x1a3+-0x1d4*-0xd:case-0x40c+0xdb4+-0x3*0x2f5:case 0x1ceb+-0x1335+-0x1*0x8e8:case 0xdb*0x16+-0x476*-0x7+-0x30dc:{this['_onSuccess'](_0x10c88d,_0xd81d1a,_0x49628c,_0x140ed9);break;}default:{this['_onError'](_0x10c88d,_0xd81d1a,_0x49628c,_0x140ed9);break;}}}['_onSuccess'](_0x5ee18d,_0x5ee6db,_0x452b01,_0xcb95aa){let _0x4d3321,_0x25b695;const _0x47dbae=_0xcb95aa['getRespons'+'eHeader']('Content-Ty'+'pe');_0x47dbae&&(_0x25b695=_0x47dbae['split'](';')[0x1*-0x21c1+-0x1*-0x1e32+0x38f]['trim']());try{this['_isBinaryC'+'ontentType'](_0x25b695)||this['_isBinaryR'+'esponseTyp'+'e'](_0xcb95aa['responseTy'+'pe'])?_0x4d3321=_0xcb95aa['response']:_0x25b695===be['ContentTyp'+'e']['JSON']||_0x5ee6db['split']('?')[0x3*0xc6b+0x1ac+-0x26ed]['endsWith']('.json')?_0x4d3321=JSON['parse'](_0xcb95aa['responseTe'+'xt']):_0xcb95aa['responseTy'+'pe']===be['ResponseTy'+'pe']['DOCUMENT']||_0x25b695===be['ContentTyp'+'e']['XML']?_0x4d3321=_0xcb95aa['responseXM'+'L']:_0x4d3321=_0xcb95aa['responseTe'+'xt'],_0x452b01['callback'](null,_0x4d3321);}catch(_0x23aee9){_0x452b01['callback'](_0x23aee9);}}['_onError'](_0x4a06c6,_0x5833c8,_0x1e0d8b,_0x43bc40){if(!_0x1e0d8b['retrying']){if(_0x1e0d8b['retry']&&_0x1e0d8b['retries']<_0x1e0d8b['maxRetries']){_0x1e0d8b['retries']++,_0x1e0d8b['retrying']=!(0x682+-0x2707+0x681*0x5);const _0x400a86=N['clamp'](Math['pow'](-0x2*-0x70+0x218a+-0x6*0x5bc,_0x1e0d8b['retries'])*be['retryDelay'],-0xf3b+0x209*-0x3+0x1556,_0x1e0d8b['maxRetryDe'+'lay']||0x2*-0x3a1+-0xb3a+0x2604);console['log'](_0x4a06c6+':\x20'+_0x5833c8+'\x20-\x20Error\x20'+_0x43bc40['status']+('.\x20Retrying'+'\x20in\x20')+_0x400a86+'\x20ms'),setTimeout(()=>{_0x1e0d8b['retrying']=!(-0xec*0x10+-0x26b2+0x11d1*0x3),this['request'](_0x4a06c6,_0x5833c8,_0x1e0d8b,_0x1e0d8b['callback']);},_0x400a86);}else _0x1e0d8b['callback'](_0x43bc40['status']===0x5c*0x17+-0x210c+0x1a*0xf4?'Network\x20er'+'ror':_0x43bc40['status'],null);}}};c(be,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),c(be,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),c(be,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),c(be,'retryDelay',0x6b*-0x4f+-0x34c+0x24b5);let ls=be;const $e=new ls();function Li(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}class kh{constructor(_0x59969c,_0xee9dc3,_0x45c3e4={}){if(this['volume']=_0x45c3e4['volume']??0x1*-0x2133+-0x1*-0x15b+-0x1f*-0x107,this['loop']=_0x45c3e4['loop']??!(0x1e00+-0x5f3+-0x180c),this['pitch']=_0x45c3e4['pitch']??-0x4e1+-0xc1+0x5a3,this['sound']=_0xee9dc3,this['paused']=!(-0xb9e+-0x841*-0x1+0x35e),this['suspended']=!(-0x193+0x2*0xbda+-0x1620),this['manager']=_0x59969c,this['source']=null,Li()){this['startTime']=0x18dd*-0x1+-0x1105+-0x29e2*-0x1,this['startOffse'+'t']=0xa*-0x31a+-0xdb0+0x2cb4;const _0x2e6541=_0x59969c['context'];this['gain']=_0x2e6541['createGain']();}else _0xee9dc3['audio']&&(this['source']=_0xee9dc3['audio']['cloneNode'](!(0x8*-0x2fa+0x36*-0xb1+-0x3d27*-0x1)),this['source']['pause']());}['getVolume'](){return this['volume'];}['getLoop'](){return this['loop'];}['setLoop'](_0xad5b6b){this['loop']=_0xad5b6b,this['source']&&(this['source']['loop']=_0xad5b6b);}['getPitch'](){return this['pitch'];}['onManagerV'+'olumeChang'+'e'](){this['setVolume'](this['getVolume']());}['onManagerS'+'uspend'](){this['isPlaying']()&&!this['suspended']&&(this['suspended']=!(0x253+-0x614+-0x3c1*-0x1),this['pause']());}['onManagerR'+'esume'](){this['suspended']&&(this['suspended']=!(0x1178+0x14*-0x88+-0x6d7),this['unpause']());}['play'](){if(this['source'])throw new Error('Call\x20stop('+')\x20before\x20c'+'alling\x20pla'+'y()');this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](-0xe17*-0x1+0x1a5*-0x1+0x36*-0x3b,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']());}['pause'](){this['source']&&(this['paused']=!(-0x246c+0x1299+0x11d3),this['startOffse'+'t']+=this['manager']['context']['currentTim'+'e']-this['startTime'],this['source']['stop'](-0x1c1c+-0x1db8+-0x4*-0xe75),this['source']=null);}['unpause'](){if(this['source']||!this['paused']){console['warn']('Call\x20pause'+'()\x20before\x20'+'unpausing.');return;}this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](-0xaa4+-0x2*-0x1343+0x1be2*-0x1,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['paused']=!(0x34*0x4c+-0x26*-0x76+-0x20f3));}['stop'](){this['source']&&(this['source']['stop'](0x15ad*-0x1+-0x1fd0+-0x1*-0x357d),this['source']=null),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);}['setVolume'](_0x56f11b){_0x56f11b=N['clamp'](_0x56f11b,-0x1aa*0x4+0x1385*-0x1+-0x1*-0x1a2d,0xa3*-0x23+-0x11c2+0xe9*0x2c),this['volume']=_0x56f11b,this['gain']&&(this['gain']['gain']['value']=_0x56f11b*this['manager']['volume']);}['setPitch'](_0xbea254){this['pitch']=_0xbea254,this['source']&&(this['source']['playbackRa'+'te']['value']=_0xbea254);}['isPlaying'](){return!this['paused']&&this['source']['playbackSt'+'ate']===this['source']['PLAYING_ST'+'ATE'];}['getDuratio'+'n'](){return this['source']?this['source']['buffer']['duration']:-0xf*0x41+0x3e5+-0x16;}['_createSou'+'rce'](){const _0x4d9bf7=this['manager']['context'];this['sound']['buffer']&&(this['source']=_0x4d9bf7['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['gain']),this['gain']['connect'](_0x4d9bf7['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this)));}}Li()||Object['assign'](kh['prototype'],{'play':function(){this['source']&&(this['paused']=!(0x12c1+0x1*-0x1cac+0xfe*0xa),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['source']['play']()),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']();},'pause':function(){this['source']&&(this['paused']=!(-0x4*0x720+0x1bcc+0xb4),this['source']['pause']());},'unpause':function(){this['source']&&(this['paused']=!(-0x191*-0xa+0x76*0x4c+-0x32b1),this['source']['play']());},'stop':function(){this['source']&&this['source']['pause'](),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);},'setVolume':function(_0x3d0fdb){_0x3d0fdb=N['clamp'](_0x3d0fdb,0x2f2*0x1+0xd87*-0x1+0x3f*0x2b,0x100a*0x1+-0x34*-0x11+0x1*-0x137d),this['volume']=_0x3d0fdb,this['source']&&(this['source']['volume']=_0x3d0fdb*this['manager']['volume']);},'setPitch':function(_0x221d09){this['pitch']=_0x221d09,this['source']&&(this['source']['playbackRa'+'te']=_0x221d09);},'getDuration':function(){return this['source']&&!isNaN(this['source']['duration'])?this['source']['duration']:-0x206b+0x1d3c+0x32f;},'isPlaying':function(){return!this['source']['paused'];}});const Fb=-0xedb*-0x1+-0x1*0x2fa9+0x47de;class Ru extends kh{constructor(_0x13ced5,_0x446a95,_0xcbc81e){super(_0x13ced5,_0x446a95,_0xcbc81e),this['position']=new T(),this['velocity']=new T(),Li()?this['panner']=_0x13ced5['context']['createPann'+'er']():(this['maxDistanc'+'e']=Fb,this['minDistanc'+'e']=-0x1394+0x23*0x2d+0xd6e,this['rollOffFac'+'tor']=-0x243e+-0x1d06*-0x1+0x739,this['distanceMo'+'del']=Ff);}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x1c6412){this['position']['copy'](_0x1c6412);const _0x4427aa=this['panner'];'positionX'in _0x4427aa?(_0x4427aa['positionX']['value']=_0x1c6412['x'],_0x4427aa['positionY']['value']=_0x1c6412['y'],_0x4427aa['positionZ']['value']=_0x1c6412['z']):_0x4427aa['setPositio'+'n']&&_0x4427aa['setPositio'+'n'](_0x1c6412['x'],_0x1c6412['y'],_0x1c6412['z']);}['getVelocit'+'y'](){return v['warn']('Channel3d#'+'getVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity'];}['setVelocit'+'y'](_0x49a82b){v['warn']('Channel3d#'+'setVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity']['copy'](_0x49a82b);}['getMaxDist'+'ance'](){return this['panner']['maxDistanc'+'e'];}['setMaxDist'+'ance'](_0x132768){this['panner']['maxDistanc'+'e']=_0x132768;}['getMinDist'+'ance'](){return this['panner']['refDistanc'+'e'];}['setMinDist'+'ance'](_0x54260f){this['panner']['refDistanc'+'e']=_0x54260f;}['getRollOff'+'Factor'](){return this['panner']['rolloffFac'+'tor'];}['setRollOff'+'Factor'](_0x451d11){this['panner']['rolloffFac'+'tor']=_0x451d11;}['getDistanc'+'eModel'](){return this['panner']['distanceMo'+'del'];}['setDistanc'+'eModel'](_0xf22fda){this['panner']['distanceMo'+'del']=_0xf22fda;}['_createSou'+'rce'](){const _0x45f063=this['manager']['context'];this['source']=_0x45f063['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['panner']),this['panner']['connect'](this['gain']),this['gain']['connect'](_0x45f063['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this));}}if(!Li()){let l=new T();const t=function(_0x17f029,_0x37f170,_0x5c8b5e,_0x2bf03b,_0x2bd7ab,_0x3cd41b){l=l['sub2'](_0x17f029,_0x37f170);const _0x4a3171=l['length']();if(_0x4a3171<_0x5c8b5e)return-0x1*-0xe0b+0x36*-0x5a+-0x4f2*-0x1;if(_0x4a3171>_0x2bf03b)return 0x1*-0x2583+-0x11d5+0x3758;let _0xcd6538=-0x1bac+0x5*-0x536+0x256*0x17;return _0x3cd41b===cc?_0xcd6538=0xd9*0x6+-0xec5*0x1+0x9b*0x10-_0x2bd7ab*(_0x4a3171-_0x5c8b5e)/(_0x2bf03b-_0x5c8b5e):_0x3cd41b===Ff?_0xcd6538=_0x5c8b5e/(_0x5c8b5e+_0x2bd7ab*(_0x4a3171-_0x5c8b5e)):_0x3cd41b===cy&&(_0xcd6538=Math['pow'](_0x4a3171/_0x5c8b5e,-_0x2bd7ab)),N['clamp'](_0xcd6538,0xf93+-0x52e*-0x1+-0x14c1,-0x7*-0x3f5+0x67*0xe+-0x2154);};Object['assign'](Ru['prototype'],{'setPosition':function(_0x29ac84){if(this['position']['copy'](_0x29ac84),this['source']){const _0x4beae1=this['manager']['listener']['getPositio'+'n'](),_0x3bca91=t(_0x4beae1,this['position'],this['minDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x2190df=this['getVolume']();this['source']['volume']=_0x2190df*_0x3bca91;}},'getMaxDistance':function(){return this['maxDistanc'+'e'];},'setMaxDistance':function(_0xece1ab){this['maxDistanc'+'e']=_0xece1ab;},'getMinDistance':function(){return this['minDistanc'+'e'];},'setMinDistance':function(_0x46cdd1){this['minDistanc'+'e']=_0x46cdd1;},'getRollOffFactor':function(){return this['rollOffFac'+'tor'];},'setRollOffFactor':function(_0x5bc3ff){this['rollOffFac'+'tor']=_0x5bc3ff;},'getDistanceModel':function(){return this['distanceMo'+'del'];},'setDistanceModel':function(_0x4a9d29){this['distanceMo'+'del']=_0x4a9d29;}});}class Ob{constructor(_0x1dd7da){c(this,'_manager'),c(this,'position',new T()),c(this,'orientatio'+'n',new q()),this['_manager']=_0x1dd7da;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x56e910){this['position']['copy'](_0x56e910);const _0x379324=this['listener'];_0x379324&&('positionX'in _0x379324?(_0x379324['positionX']['value']=_0x56e910['x'],_0x379324['positionY']['value']=_0x56e910['y'],_0x379324['positionZ']['value']=_0x56e910['z']):_0x379324['setPositio'+'n']&&_0x379324['setPositio'+'n'](_0x56e910['x'],_0x56e910['y'],_0x56e910['z']));}['setOrienta'+'tion'](_0x5262d8){this['orientatio'+'n']['copy'](_0x5262d8);const _0x4a2f04=this['listener'];if(_0x4a2f04){const _0x2f389d=_0x5262d8['data'];'forwardX'in _0x4a2f04?(_0x4a2f04['forwardX']['value']=-_0x2f389d[0x1296+0x265d+-0x9*0x653],_0x4a2f04['forwardY']['value']=-_0x2f389d[-0xc28+0x2*0x11c9+0x299*-0x9],_0x4a2f04['forwardZ']['value']=-_0x2f389d[-0x386+0x140f*-0x1+0x179f],_0x4a2f04['upX']['value']=_0x2f389d[-0x310+-0x2375+0x2689],_0x4a2f04['upY']['value']=_0x2f389d[-0x5*0x5c9+-0x1315+0x1*0x3007],_0x4a2f04['upZ']['value']=_0x2f389d[-0x2*0x287+0x1901+0x13ed*-0x1]):_0x4a2f04['setOrienta'+'tion']&&_0x4a2f04['setOrienta'+'tion'](-_0x2f389d[-0x1*-0x22b9+0x4*-0x506+-0xe99],-_0x2f389d[0x1a2a+-0x216b+-0x6*-0x137],-_0x2f389d[-0x220c+0x1d13+0x503*0x1],_0x2f389d[-0x804+0x2551+0x33*-0x93],_0x2f389d[-0x3*0x4bc+0x21ba+0x1*-0x1381],_0x2f389d[-0xf1b+0x3*-0xcd+0x1188]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0xef5a56=this['_manager']['context'];return _0xef5a56?_0xef5a56['listener']:null;}}const wl='running',Om=['click','touchstart','mousedown'];class kb extends ce{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||v['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(0x1015*0x1+0xe1b+0x1*-0x1e2f),this['listener']=new Ob(this),this['_volume']=0x73+0x1*-0x74f+-0x7*-0xfb;}set['volume'](_0x52af2c){_0x52af2c=N['clamp'](_0x52af2c,0x1610+-0x4*-0x99a+0x5*-0xc18,-0x1535*-0x1+-0xe83*0x1+-0x6b1),this['_volume']=_0x52af2c,this['fire']('volumechan'+'ge',_0x52af2c);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==wl&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(-0x8ef+0x34a+-0x55*-0x11),this['_context']&&this['_context']['state']===wl&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(-0x1464+0x19e8+-0x583),this['_context']&&this['_context']['state']!==wl&&this['_resume']());}['destroy'](){var _0x3fa5ba;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x3fa5ba=this['_context'])==null||_0x3fa5ba['close'](),this['_context']=null);}['playSound'](_0x55b2a9,_0x461f6c={}){let _0x4e2b7f=null;return kh&&(_0x4e2b7f=new kh(this,_0x55b2a9,_0x461f6c),_0x4e2b7f['play']()),_0x4e2b7f;}['playSound3'+'d'](_0x102d5b,_0x586eb1,_0x444f67={}){let _0x25f558=null;return Ru&&(_0x25f558=new Ru(this,_0x102d5b,_0x444f67),_0x25f558['setPositio'+'n'](_0x586eb1),_0x444f67['volume']&&_0x25f558['setVolume'](_0x444f67['volume']),_0x444f67['loop']&&_0x25f558['setLoop'](_0x444f67['loop']),_0x444f67['maxDistanc'+'e']&&_0x25f558['setMaxDist'+'ance'](_0x444f67['maxDistanc'+'e']),_0x444f67['minDistanc'+'e']&&_0x25f558['setMinDist'+'ance'](_0x444f67['minDistanc'+'e']),_0x444f67['rollOffFac'+'tor']&&_0x25f558['setRollOff'+'Factor'](_0x444f67['rollOffFac'+'tor']),_0x444f67['distanceMo'+'del']&&_0x25f558['setDistanc'+'eModel'](_0x444f67['distanceMo'+'del']),_0x25f558['play']()),_0x25f558;}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x2de2dd=this['_context']['createBuff'+'erSource']();_0x2de2dd['buffer']=this['_context']['createBuff'+'er'](-0x1c16+0x10*0x167+0x5a7*0x1,0x1d*-0x35+-0x264b*0x1+0x2c4d,this['_context']['sampleRate']),_0x2de2dd['connect'](this['_context']['destinatio'+'n']),_0x2de2dd['start'](-0x1c13+0x1c5f+-0x4c),_0x2de2dd['onended']=_0x88c974=>{_0x2de2dd['disconnect'](0x16d0+-0x26a+-0x175*0xe),this['fire']('resume');};},_0x54da35=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x54da35);})['catch'](_0x217d87=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x217d87);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x531501=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x531501);})['catch'](_0x517187=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x517187);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==wl&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){Om['forEach'](_0x2f711f=>{window['addEventLi'+'stener'](_0x2f711f,this['_unlockHan'+'dlerFunc'],!(-0x1def+-0x4e9*0x4+0x18ca*0x2));});}['_removeUnl'+'ockListene'+'rs'](){Om['forEach'](_0x4ea767=>{window['removeEven'+'tListener'](_0x4ea767,this['_unlockHan'+'dlerFunc'],!(0x11dd+-0x20bb+0x3*0x4f5));});}}class Bb{constructor(_0x399c32){c(this,'audio'),c(this,'buffer'),_0x399c32 instanceof Audio?this['audio']=_0x399c32:this['buffer']=_0x399c32;}get['duration'](){let _0x10a755=-0x106b+0x1170+-0x9*0x1d;return this['buffer']?_0x10a755=this['buffer']['duration']:this['audio']&&(_0x10a755=this['audio']['duration']),_0x10a755||0x1*0x1c63+0x512*0x2+-0x2687;}}const Pt=0x761+-0x1fcf+0x186e,sa=-0x15ab+0x1*-0x1c9f+0x324b,ws=-0x2d*-0x3b+-0x75d*0x2+-0x45d*-0x1;function Rt(_0x137820,_0x11c968){return _0x137820%_0x11c968||0x1c8e*-0x1+0x249b+-0x80d;}class ss extends ce{constructor(_0x3526aa,_0x244507,_0x3e2f9c){super(),c(this,'source',null),(this['_manager']=_0x3526aa,this['_volume']=_0x3e2f9c['volume']!==void(0x15e4+-0x20ed+0xb09)?N['clamp'](Number(_0x3e2f9c['volume'])||0x982+-0x1f03*-0x1+-0xfd*0x29,-0x11f1*-0x1+0x26fc+-0x38ed,0x1008+0x2e+-0x1035):0x2e*-0x5+0x255e+-0x2477,this['_pitch']=_0x3e2f9c['pitch']!==void(-0x16*-0x9c+0x3c2+-0x112a)?Math['max'](0xa3*0x3b+0x4f*0x17+-0x1*0x2caa+0.01,Number(_0x3e2f9c['pitch'])||-0xe*0x18a+-0x1*0x2563+0x3aef):-0x11d1*-0x1+0x2289+-0x3459,this['_loop']=!!(_0x3e2f9c['loop']!==void(-0x1c8e+-0x607*0x1+0x2295)&&_0x3e2f9c['loop']),this['_sound']=_0x244507,this['_state']=ws,this['_suspended']=!(-0x6b4+-0xe*0x11+-0x11*-0x73),this['_suspendEn'+'dEvent']=0x83*-0x34+0x11*-0x13f+0x2fcb,this['_suspendIn'+'stanceEven'+'ts']=!(0x1d1d+0x1*0xb03+-0x281f*0x1),this['_playWhenL'+'oaded']=!(0xdba+0x2168+-0x2f22),this['_startTime']=Math['max'](0x1399+0x1a0+0x1539*-0x1,Number(_0x3e2f9c['startTime'])||-0x22c+0x135c+-0x32*0x58),this['_duration']=Math['max'](-0x2500+-0x19f*0xa+0x3536,Number(_0x3e2f9c['duration'])||0xa*-0x15d+0x1ccc+-0xf2a*0x1),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x3e2f9c['onPlay'],this['_onPauseCa'+'llback']=_0x3e2f9c['onPause'],this['_onResumeC'+'allback']=_0x3e2f9c['onResume'],this['_onStopCal'+'lback']=_0x3e2f9c['onStop'],this['_onEndCall'+'back']=_0x3e2f9c['onEnd'],Li()?(this['_startedAt']=0x5*-0x433+0x1dd1+-0x8d2*0x1,this['_currentTi'+'me']=-0x3*0x21a+0x326+0x328,this['_currentOf'+'fset']=-0xa86+-0x5*0x51e+0x241c,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x1*0x764+-0x943*-0x1+0x1*-0x10a6),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(-0xdc+-0x9*0x10f+0xa64),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x49fc49){if(!(_0x49fc49<0x1c34+-0x1608+-0x62c)){if(this['_state']===Pt){const _0x31960c=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(-0x1ab1+0x1715+0x1ce*0x2),this['stop'](),this['_startOffs'+'et']=_0x49fc49,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x31960c;}else this['_startOffs'+'et']=_0x49fc49,this['_currentTi'+'me']=_0x49fc49;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===sa?this['_currentTi'+'me']:this['_state']===ws||!this['source']?-0x1897+0x4c7+-0x27a*-0x8:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x2db8d0){this['_duration']=Math['max'](-0x1*0x48c+0x2030+-0xdd2*0x2,Number(_0x2db8d0)||0x10*0x19c+0x2683+-0x4043);const _0x37cf1a=this['_state']===Pt;this['stop'](),_0x37cf1a&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?Rt(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:0x1805+0xa2e+-0x2233;}get['isPaused'](){return this['_state']===sa;}get['isPlaying'](){return this['_state']===Pt;}get['isStopped'](){return this['_state']===ws;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x52f6fe){this['_loop']=!!_0x52f6fe,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x9fc303){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x9fc303)||-0x196d+0x1be2+0x275*-0x1,-0x1959+0x5ae+-0x5*-0x3ef+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x50a7f8){this['_sound']=_0x50a7f8,this['_state']!==ws?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x93a53c){this['_startTime']=Math['max'](-0x12c7+0x2*0xc6+0x113b,Number(_0x93a53c)||0x5*-0x59f+-0xcb8+0x7*0x5d5);const _0x465114=this['_state']===Pt;this['stop'](),_0x465114&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x312e4f){_0x312e4f=N['clamp'](_0x312e4f,-0x1313+-0x2*0xa5f+0x27d1,0x218c+-0x79d+-0x19ee),this['_volume']=_0x312e4f,this['gain']&&(this['gain']['gain']['value']=_0x312e4f*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>0x5d*-0x59+-0x115*-0x9+0x8*0x2d3){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Pt&&!this['_suspended']&&(this['_suspended']=!(0x1c72+0x1cd4+0x3946*-0x1),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(0x9*-0x417+-0x2095+0x37*0x143),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==ws&&this['stop'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(-0x25d5+0x25f7+-0x21),this['_waitingCo'+'ntextSuspe'+'nsion']?!(-0x2582*-0x1+-0x80c+0x1d75*-0x1):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x1580+-0x152d+0x1db*0x17),!(0x2c1+-0x1*0xc4c+-0x1a*-0x5e)):(this['_playAudio'+'Immediate'](),!(-0x2385+0x1*0xf07+0x147e));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x778+0x468+-0xbdf),this['_state']!==Pt)return;this['source']||this['_createSou'+'rce']();let _0x11a1a3=Rt(this['_startOffs'+'et'],this['duration']);_0x11a1a3=Rt(this['_startTime']+_0x11a1a3,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](0x155c+0x59*-0x43+0x5*0x63,_0x11a1a3,this['_duration']):this['source']['start'](-0x650+-0x100e+-0x7*-0x332,_0x11a1a3),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=-0x8*0x395+0x53*-0x62+0x3c6e,this['_currentOf'+'fset']=_0x11a1a3,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(-0x10*0x10+-0xb10+-0xc11*-0x1),this['_state']!==Pt?!(0x1ee3+-0x1*0x619+-0x9*0x2c1):(this['_state']=sa,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](0x124*-0x10+0x7db*-0x1+0x1a1b),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(-0x17c0+-0xab4+-0x5be*-0x6));}['resume'](){if(this['_state']!==sa)return!(0x353+0x7a*0x48+0x1*-0x25a2);let _0xd8f4ba=this['currentTim'+'e'];return this['_state']=Pt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0xd8f4ba=Rt(this['_startOffs'+'et'],this['duration']),_0xd8f4ba=Rt(this['_startTime']+_0xd8f4ba,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](0x1d3c+0x8eb+-0x2627,_0xd8f4ba,this['_duration']):this['source']['start'](0x7f*0x35+0x26fb+-0x4146*0x1,_0xd8f4ba),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0xd8f4ba,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(0x1edb+-0x3ef*0x5+-0xb2f),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x1741+-0x13ce+-0x373);}['stop'](){if(this['_playWhenL'+'oaded']=!(0x21*-0x3d+0xc96+-0x4b8),this['_state']===ws)return!(-0x1*-0x1ee2+0x95e+-0x283f);const _0x1ac260=this['_state']===Pt;return this['_state']=ws,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=-0x1e59+-0x199*-0x1+0x1cc0,this['_currentTi'+'me']=-0x1a9a*-0x1+-0x1c*0x1a+-0xbe1*0x2,this['_currentOf'+'fset']=-0x2201+-0x409+0x260a,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x1ac260&&this['source']&&this['source']['stop'](-0x17b*0x9+-0x20ad+0x2e0*0x10),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(0x17a1+0x1*-0x54a+-0x1257);}['setExterna'+'lNodes'](_0x5ab639,_0x335030){if(!_0x5ab639){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x335030||(_0x335030=_0x5ab639);const _0x39ee0d=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x5ab639&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x39ee0d),this['_firstNode']=_0x5ab639,this['_connector'+'Node']['connect'](_0x5ab639)),this['_lastNode']!==_0x335030&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x39ee0d),this['_lastNode']=_0x335030,this['_lastNode']['connect'](_0x39ee0d));}['clearExter'+'nalNodes'](){const _0x108acf=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x108acf),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x108acf);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x480056=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x480056['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=Rt(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],Rt(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=Rt((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Pt&&(this['source']['stop'](0x31f+0x1685*0x1+-0x446*0x6),this['source']=null);}}c(ss,'EVENT_PLAY','play'),c(ss,'EVENT_PAUS'+'E','pause'),c(ss,'EVENT_RESU'+'ME','resume'),c(ss,'EVENT_STOP','stop'),c(ss,'EVENT_END','end'),Li()||(Object['assign'](ss['prototype'],{'play':function(){return this['_state']!==ws&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(0x1869+0x635*0x3+-0x2b07):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(-0x221*-0x1+0x719*0x5+-0x259d),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(-0x3b9*0x9+0x1174+0x1*0x100d));},'pause':function(){return!this['source']||this['_state']!==Pt?!(-0x1*-0x2375+-0x377+-0x1af*0x13):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x56*0x71+0x1c0d*-0x1+0x4204),this['_state']=sa,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(-0x254d*-0x1+0x397*-0x3+0x18*-0x11b));},'resume':function(){return!this['source']||this['_state']!==sa?!(-0xf29+-0xf92+0x7*0x464):(this['_state']=Pt,this['_playWhenL'+'oaded']=!(0x1e42+0x1*0xf9d+0x26a*-0x13),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x1169*0x1+-0x234f+-0x2*-0x8f3));},'stop':function(){return!this['source']||this['_state']===ws?!(-0xb3*0x2+0xa*-0x173+-0xd*-0x139):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x3d7*-0x3+-0x1e52+0x12ce),this['_state']=ws,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(0x84e*-0x1+0x5b9*0x3+0x8dd*-0x1));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(-0x14b6+-0x1b9b+0x1f*0x18f);let _0x5bc957=Rt(this['_startOffs'+'et'],this['duration']);_0x5bc957=Rt(this['_startTime']+_0x5bc957,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x5bc957;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(-0x18a+-0x1d26+0x1eb1),this['source']=this['_sound']['audio']['cloneNode'](!(-0x270f+0xa*0x76+0x2273)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>Rt(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=Rt(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](ss['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x399a71){_0x399a71=N['clamp'](_0x399a71,0xf21+0x1d37+-0x2c58,-0x1342+-0x28d*0xf+-0x2*-0x1cc3),this['_volume']=_0x399a71,this['source']&&(this['source']['volume']=_0x399a71*this['_manager']['volume']);}}),Object['defineProp'+'erty'](ss['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x1117e5){this['_pitch']=Math['max'](Number(_0x1117e5)||0x2020+-0x513+-0x1b0d,0x93d+0x143e+-0x1d7b+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](ss['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x45d89c){this['stop'](),this['_sound']=_0x45d89c;}}),Object['defineProp'+'erty'](ss['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===ws||!this['source']?-0x2*-0xa99+0xc*0x2+0x442*-0x5:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0xfade91){_0xfade91<-0x2*0x1d0+-0x71b*-0x3+-0x11b1*0x1||(this['_startOffs'+'et']=_0xfade91,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=Rt(this['_startTime']+Rt(_0xfade91,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Nb=0x1*-0xd+-0x3bcc+-0x62e9*-0x1;class jn extends ss{constructor(_0x41bb0d,_0x20e7c7,_0x53bce5={}){super(_0x41bb0d,_0x20e7c7,_0x53bce5),c(this,'_position',new T()),c(this,'_velocity',new T()),(_0x53bce5['position']&&(this['position']=_0x53bce5['position']),this['maxDistanc'+'e']=_0x53bce5['maxDistanc'+'e']!==void(0x9b1*-0x3+-0x2374*-0x1+-0x661)?Number(_0x53bce5['maxDistanc'+'e']):Nb,this['refDistanc'+'e']=_0x53bce5['refDistanc'+'e']!==void(0x1caa+-0x3a8+-0x1902)?Number(_0x53bce5['refDistanc'+'e']):-0x7*0x28d+0x24c9+-0x12ed,this['rollOffFac'+'tor']=_0x53bce5['rollOffFac'+'tor']!==void(-0x1a7d+0x6b8+0x13c5)?Number(_0x53bce5['rollOffFac'+'tor']):-0x130c+-0x5d4*0x5+-0xa9*-0x49,this['distanceMo'+'del']=_0x53bce5['distanceMo'+'del']!==void(0x5b0+-0xb7a+0x5ca)?_0x53bce5['distanceMo'+'del']:cc);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x431198){this['_position']['copy'](_0x431198);const _0x109d13=this['panner'];'positionX'in _0x109d13?(_0x109d13['positionX']['value']=_0x431198['x'],_0x109d13['positionY']['value']=_0x431198['y'],_0x109d13['positionZ']['value']=_0x431198['z']):_0x109d13['setPositio'+'n']&&_0x109d13['setPositio'+'n'](_0x431198['x'],_0x431198['y'],_0x431198['z']);}get['position'](){return this['_position'];}set['velocity'](_0x50ce5a){v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x50ce5a);}get['velocity'](){return v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x21ade3){this['panner']['maxDistanc'+'e']=_0x21ade3;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x42c874){this['panner']['refDistanc'+'e']=_0x42c874;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x3cc11f){this['panner']['rolloffFac'+'tor']=_0x3cc11f;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x554fab){this['panner']['distanceMo'+'del']=_0x554fab;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Li()){let l=new T();const t=function(_0x28f4ea,_0x13f0bd,_0x36813d,_0x1e4be8,_0x1f8cda,_0x58639c){l=l['sub2'](_0x28f4ea,_0x13f0bd);const _0x33e1b9=l['length']();if(_0x33e1b9<_0x36813d)return 0x5f2+-0x1f57+0x1966;if(_0x33e1b9>_0x1e4be8)return-0x1a8c*0x1+0x48f*0x7+-0x1*0x55d;let _0x1f3d37=-0x8c5+0xb30+-0x26b;return _0x58639c===cc?_0x1f3d37=-0x1*0x647+0x18c7*-0x1+-0x1*-0x1f0f-_0x1f8cda*(_0x33e1b9-_0x36813d)/(_0x1e4be8-_0x36813d):_0x58639c===Ff?_0x1f3d37=_0x36813d/(_0x36813d+_0x1f8cda*(_0x33e1b9-_0x36813d)):_0x58639c===cy&&(_0x1f3d37=Math['pow'](_0x33e1b9/_0x36813d,-_0x1f8cda)),N['clamp'](_0x1f3d37,0x26f4+-0x1*-0x22be+-0x1*0x49b2,-0x3f9*-0x2+-0xae*-0x20+-0x1db1);};Object['defineProp'+'erty'](jn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0xc04d60){if(this['_position']['copy'](_0xc04d60),this['source']){const _0x15a960=this['_manager']['listener']['getPositio'+'n'](),_0x539e04=t(_0x15a960,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x33b1c2=this['volume'];this['source']['volume']=_0x33b1c2*_0x539e04*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](jn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0xc8b1f4){this['_maxDistan'+'ce']=_0xc8b1f4;}}),Object['defineProp'+'erty'](jn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x499aec){this['_refDistan'+'ce']=_0x499aec;}}),Object['defineProp'+'erty'](jn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x7f0a4b){this['_rollOffFa'+'ctor']=_0x7f0a4b;}}),Object['defineProp'+'erty'](jn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x326667){this['_distanceM'+'odel']=_0x326667;}});}const n0=0x11*-0x75+0x10a3*-0x1+0xc34*0x2,yp=0x16b8+0xc*0x31a+-0xe5*0x43,Kt=0x1*-0x11be+0x266d+-0x14ad,is=0x6b9+0x1096+-0x8e*0x2a,hr=0x6*0x271+-0x2e1*0x5+0x3d*-0x1,xp=0x1ee+0xb*-0xbb+0x620,Hc=0x679*0x3+-0xe5*0x12+-0x34b*0x1,a0=0x9d*-0x22+0x877+0xc6a,o0=-0xc5b+0x152+0xb11,l0=0xae7+-0xb8f+0xb1,h0=0x8c4+-0x5*0x439+0xc63,Fa='none',zb='linear',Sp=-0x115c+0xf97+0x7*0x41,Ub=-0x11c2+0xe89*-0x1+-0x204b*-0x1,Vb=-0x18c9+-0x1e3d+-0x24b*-0x18,c0=0xd*-0x1fd+-0x559*0x2+-0x124d*-0x2,Fi=0x3bc+-0x2433+0x2077,Xt=0xd9*0x15+0x9*0x3c5+0x1*-0x33b9,vp=-0x5bd*0x1+0xa10+-0x451,bp=0xfc5+-0x1081+0xbf,tl=0x1*0x2515+-0x62d+0x7b9*-0x4,oe=-0x3e+0x1*-0x2423+0x2461,Pe=-0x3ad*-0x2+-0x454+-0x1*0x305,Re=-0x6*0x204+0x22b7*-0x1+-0x55*-0x8d,yt=-0x24eb+0x41e+0x20cd,Gb=0x1*-0x2189+-0xb65*0x1+-0x1*-0x2cef,Hb=-0x79*0xd+-0x182f+0x2*0xf2b,Wb=-0x71*-0x47+0x618+-0x256c,wp=0x1*-0x73f+-0x1*0x26bb+-0x932*-0x5,$b=-0x57*-0x12+-0x22ef+0x1cd2,Dt=-0x98a+-0x1*0x347+0xcd1,Hr=-0x47*-0x3+0x2047+-0x2*0x108d,Wr=0xc7d*0x3+0xea3*-0x1+-0x16d1,lh=0x150*0x3+-0x6b7+-0x2cb*-0x1,Bh=-0x1*-0x1a37+0x4*0x369+-0x27d6,Ts=-0xd1f*0x1+-0x1*-0x7fd+0x528,Nh=0xe1f+0x2417*-0x1+0x15ff,zh=-0x7*0x173+-0x1*-0x2cf+0x17*0x52,Iu=0x2ce+-0x45f+0x19a,ir=new Map([[Bh,{'name':'PCF1_32F','format':Ci,'pcf':!(-0x253a+-0x123d+0x3777)}],[Dt,{'name':'PCF3_32F','format':Ci,'pcf':!(-0x26a6+-0x1*-0x20a2+0xa*0x9a)}],[lh,{'name':'PCF5_32F','format':Ci,'pcf':!(0xea*0x25+-0x2*0x97+-0x2*0x1052)}],[Nh,{'name':'PCF1_16F','format':la,'pcf':!(-0x7*0x28d+0x1*0x7eb+-0x1a8*-0x6)}],[zh,{'name':'PCF3_16F','format':la,'pcf':!(0x2*0x54d+-0x4*-0x808+-0x2aba*0x1)}],[Iu,{'name':'PCF5_16F','format':la,'pcf':!(-0x207e+0xb50+0x1*0x152e)}],[Hr,{'name':'VSM_16F','format':Je,'vsm':!(-0x1*-0xe73+0x2275*-0x1+0x1402)}],[Wr,{'name':'VSM_32F','format':Ke,'vsm':!(0x6f0+0x1*0xdd0+-0x20*0xa6)}],[Ts,{'name':'PCSS_32F','format':Ii,'pcss':!(0x2266+-0xf7*0x1a+0x2*-0x4a8)}]]),Tp=-0x102c+-0x984+0x19b1*0x1,Du=0x1158+0x1*0xf17+0x169*-0x17,d0=0x4a*-0x49+0x20c8+0x256*-0x5,Vs=0x1620+0x23d*0x7+-0x25cb,qb=-0x3d9*-0x5+-0x1*-0x50f+-0x184b,Uh=-0xcc6+-0xa86+0x1c*0xd5,Xb=0x1*-0x2439+-0x340+-0xa3*-0x3e,Gs=0x8e*0x41+0x6f5*0x5+-0x41*0x117,ua=-0xb13+0x1888+-0xd74,yo=0xf1c+-0xd*0x1ab+0xb*0x99,Dr=-0xc01+0x1*0x551+0x1*0x6b1,Tl=0x2*0xf59+-0x3*0x407+-0x129b,u0=0xc91*-0x1+-0x1f*-0xd2+0x1*-0xcdd,jb=-0x2bd*0xe+-0x38*-0x9b+0xe3*0x5,km='mul',sl=-0xd*-0x188+-0x10d*0x11+-0x20b,hh=-0xede+0x2*-0x18a+0x1*0x11f3,Yb={[sl]:'NONE',[hh]:'SRGB'},Ap=-0x20c6+-0x2*-0xb56+0xa1a,aF=-0x75b+-0x8e*0x4+-0x2*-0x4ca,oF=0x11e*-0x2+0x1247+0x5*-0x335,lF=0x1*0xfe2+-0x41*-0x41+-0x2060,hF=-0xd5+0x50b*0x1+-0x432,cF=0x1*-0x19f+0x121f*0x1+-0x107b,f0=0x86*0x7+-0x1fae+0xc2*0x25,p0=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],Kb=-0x1508+-0xc60+0x2168,Bo=-0xfa*-0x6+-0x2*-0xd13+-0x2001,Lu=-0x1083+-0x19af+0x92*0x4a,Ep=-0xdcd*0x1+0x1b2f+-0xd61,Wc=-0x1*0x2d9+0x8*0x71+0x1*-0xad,m0=-0x940+0x1d2c+-0x13e8,_0=0xffd+-0xb83+0x2*-0x239,g0=-0xc3a+0x2581*0x1+-0x1937,$c=-0x2b*0xb5+0x6cd*-0x5+0x7*0x938,Fu=-0x9bf+0x1eeb+0x67*-0x34,y0=-0x3*-0xa1b+-0x208d+0x5*0x8c,Cp=-0x1f0b+-0x1f*-0x43+0x17ee,Mp=0x26a6+0xa2b*0x1+0x3*-0xf9b,qc=0x9*0x229+-0x1*0x20b5+-0x1ba*-0xa,Xc=-0x1363+0x2620+-0x1*0xabd,x0=0x1fcd*0x1+-0x217*-0x7+-0x5*0x616,jc=-0x5e6+-0x3623+-0x5c09*-0x1,Ou=-0x4f9d+0x57bf+0x37de,Ps=0x16ec+-0x103*-0x1+-0x1*0x17ef,cn=0x1edb+0xc4c+-0x62a*0x7,Pp=0x1de9+-0xefc+-0x3*0x4f9,Ei=0x151c+0x199*0x5+-0x1d19*0x1,ku=-0xc*-0x29+0x230c+-0x1*0x24f7,hs=0x1d71+-0x695+-0x1*0x16db,cr=0x15bb+-0x2*-0x1094+-0x36e1,rr=0x1*-0xb8d+-0x66b*-0x1+0x526,gn=-0x14f*-0x14+-0xe1a*0x2+-0x82*-0x4,il=-0x2465+0x1a6*0x9+-0x3c*-0x5c,rl=-0xa6a*0x1+-0x1a6+0x2*0x609,Oa=0x5fb+0x133c+0x1*-0x1934,Rp=-0x118a+-0x18*0xe1+0x246*0x11,Ti=0xfce+-0x771+-0x85d,nt=-0x7*-0x93+0x3*0x845+-0x1*0x1cd3,Qe=0xd6+-0x24d7+0x7*0x525,ch=0xdf*0x7+-0xdad*0x1+-0x1*-0x795,Al=-0x1b68+-0x1c11+-0x3779*-0x1,dh=0x355*0x1+-0x2320+0xa99*0x3,Zb=-0x24eb+-0x1929+-0x17*-0x2b3,Qb=-0x6c5+0x1fc3+-0x27*0xa4,Bm=-0x13*0xf+-0x1286*-0x2+-0x23ec,Jb=0x2*-0xdf6+-0x156c+0x315c,ew=-0x1597+0x595+0x1007,Ip=0x2503+-0xdf*0x18+-0x1f*0x85,Bu=-0x510*0x5+-0x3*-0xdd+0x16ba,pe=-0x1bb2*0x1+-0x16eb*0x1+-0x15*-0x269,ke=0x64a+-0x7f2+0x1*0x1a9,xo='infinite',tw='box',sw='dome',Rs='none',Nm='bayer8',iw='prerender',rw='postrender',nw='prerender:'+'layer',aw='postrender'+':layer',ow='precull',lw='postcull';class Yc{constructor(_0x2027ba,_0x5f054c,_0x5798e3){c(this,'uniformFor'+'mats',[]),c(this,'bindGroupF'+'ormats',[]),c(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][Dh]=_0x2027ba,this['bindGroupF'+'ormats'][Dh]=_0x5f054c,this['vertexForm'+'at']=_0x5798e3);}['hasUniform'](_0x5ef9fd){for(let _0x28eeb4=0x10*0x1fd+0x9a3+0x49b*-0x9;_0x28eeb4<this['uniformFor'+'mats']['length'];_0x28eeb4++){const _0x2a0e51=this['uniformFor'+'mats'][_0x28eeb4];if(_0x2a0e51!=null&&_0x2a0e51['get'](_0x5ef9fd))return!(-0x1*0x1f41+-0x1e30+-0x93*-0x6b);}return!(0x966+0x182d+0x10c9*-0x2);}['hasTexture'](_0x5dd2fd){for(let _0x205f8a=0x11f9*0x2+0x11ff+-0x35f1;_0x205f8a<this['bindGroupF'+'ormats']['length'];_0x205f8a++){const _0x24faf9=this['bindGroupF'+'ormats'][_0x205f8a];if(_0x24faf9!=null&&_0x24faf9['getTexture'](_0x5dd2fd))return!(0x143*-0x10+0x2*0xc31+-0x432);}return!(-0x640*-0x4+-0x50f*0x3+-0x9d2);}['getVertexE'+'lement'](_0x40102e){var _0xda84cd;return(_0xda84cd=this['vertexForm'+'at'])==null?void(-0x847+-0x1*0x24b7+0x2cfe):_0xda84cd['elements']['find'](_0x57eb58=>_0x57eb58['name']===_0x40102e);}['generateKe'+'y'](_0x109577){var _0x3b0393;let _0x9319e5=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x109577['isWebGPU']&&(_0x9319e5+=(_0x3b0393=this['vertexForm'+'at'])==null?void(0x1424+0x97*-0x1+-0x41*0x4d):_0x3b0393['shaderProc'+'essingHash'+'String']),_0x9319e5;}}const hw='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',cw='\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20li'+'ght_global'+'Ambient;\x0a}'+'\x0a',dw='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20normaliz'+'e(cubeMapR'+'otate(worl'+'dNormal)\x20*'+'\x20vec3(-1.0'+',\x201.0,\x201.0'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+'28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20raw'+'\x20=\x20texture'+'2D(texture'+'_envAtlas,'+'\x20uv);\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'r\x20=\x20$DECOD'+'E(raw);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a}\x0a',uw='\x0auniform\x20v'+'ec3\x20ambien'+'tSH[9];\x0a\x0av'+'oid\x20addAmb'+'ient(vec3\x20'+'worldNorma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[0]\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[1]\x20*\x20'+'n.x\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[3]\x20*\x20n.'+'z\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[4]\x20*\x20n.x'+'\x20*\x20n.z\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[5]\x20'+'*\x20n.z\x20*\x20n.'+'y\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[6]\x20*\x20n.y'+'\x20*\x20n.x\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[8]\x20*'+'\x20(n.x\x20*\x20n.'+'x\x20-\x20n.y\x20*\x20'+'n.y);\x0a\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(max'+'(color,\x20ve'+'c3(0.0)));'+'\x0a}\x0a',fw='\x0a\x0a#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'AO_INTENSI'+'TY\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'aoIntensit'+'y;\x0a#endif\x0a'+'\x0avoid\x20getA'+'O()\x20{\x0a\x20\x20\x20\x20'+'dAo\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ao'+'Base\x20=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'ddAoDetail'+'(aoBase);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAo\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'$VC);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20A'+'O_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'material_a'+'oIntensity'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',pw='\x0afloat\x20add'+'AoDetail(f'+'loat\x20ao)\x20{'+'\x0a#ifdef\x20MA'+'PTEXTURE\x0a\x20'+'\x20\x20\x20float\x20a'+'oDetail\x20=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20return\x20de'+'tailMode_$'+'DETAILMODE'+'(vec3(ao),'+'\x20vec3(aoDe'+'tail)).r;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ao;'+'\x0a#endif\x0a}\x0a',mw='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',_w='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x20\x20\x20\x20spec'+'Occ\x20=\x20mix('+'1.0,\x20specO'+'cc,\x20materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20dRef'+'lection\x20*='+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x0a#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20sSpe'+'cularLight'+'\x20*=\x20specOc'+'c;\x0a\x20\x20\x20\x20sRe'+'flection\x20*'+'=\x20specOcc;'+'\x0a#endif\x0a}\x0a',gw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x0a\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20specO'+'cc;\x0a\x20\x20\x20\x20dR'+'eflection\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20\x0a#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20s'+'Reflection'+'\x20*=\x20specOc'+'c;\x0a#endif\x0a'+'}\x0a',yw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20dSpecul'+'arLight\x20*='+'\x20ao;\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20*=\x20ao;\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'sSpecularL'+'ight\x20*=\x20ao'+';\x0a\x20\x20\x20\x20sRef'+'lection\x20*='+'\x20ao;\x0a#endi'+'f\x0a}\x0a',xw='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20float\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20ao'+',\x20material'+'_occludeSp'+'ecularInte'+'nsity);\x0a\x20\x20'+'\x20\x20dSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20*=\x20sp'+'ecOcc;\x0a\x0a#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20s'+'SpecularLi'+'ght\x20*=\x20spe'+'cOcc;\x0a\x20\x20\x20\x20'+'sReflectio'+'n\x20*=\x20specO'+'cc;\x0a#endif'+'\x0a}\x0a',Sw='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',vw='\x0aattribute'+'\x20vec4\x20vert'+'ex_tangent'+';\x0aattribut'+'e\x20vec2\x20ver'+'tex_texCoo'+'rd0;\x0aattri'+'bute\x20vec2\x20'+'vertex_tex'+'Coord1;\x0aat'+'tribute\x20ve'+'c4\x20vertex_'+'color;\x0a\x0ave'+'c3\x20dPositi'+'onW;\x0amat4\x20'+'dModelMatr'+'ix;\x0a\x0a#incl'+'ude\x20\x22trans'+'formCoreVS'+'\x22\x0a',bw='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',ww='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a',Tw='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',Aw='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',Ew='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0auni'+'form\x20float'+'\x20weight[SA'+'MPLES];\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20moments'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20vU'+'v0\x20-\x20pixel'+'Offset\x20*\x20('+'float(SAMP'+'LES)\x20*\x200.5'+');\x0a\x20\x20\x20\x20for'+'\x20(int\x20i=0;'+'\x20i<SAMPLES'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20c\x20=\x20text'+'ure2D(sour'+'ce,\x20uv\x20+\x20p'+'ixelOffset'+'\x20*\x20float(i'+'));\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20+=\x20c.xyz'+'\x20*\x20weight['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20mome'+'nts\x20+=\x20c.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20GA'+'USS\x0a\x20\x20\x20\x20mo'+'ments\x20/=\x20f'+'loat(SAMPL'+'ES);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(moments.x'+',\x20moments.'+'y,\x20moments'+'.z,\x201.0);\x0a'+'}\x0a',Cw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoat;'+'\x0a#endif\x0a\x0av'+'oid\x20getCle'+'arCoat()\x20{'+'\x0a\x20\x20\x20\x20ccSpe'+'cularity\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20*=\x20ma'+'terial_cle'+'arCoat;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ccS'+'pecularity'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',Mw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoatG'+'loss;\x0a#end'+'if\x0a\x0avoid\x20g'+'etClearCoa'+'tGlossines'+'s()\x20{\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPFLOAT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20*='+'\x20material_'+'clearCoatG'+'loss;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'saturate(v'+'VertexColo'+'r.$VC);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPINVERT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20=\x20'+'1.0\x20-\x20ccGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20ccGl'+'ossiness\x20+'+'=\x200.000000'+'1;\x0a}\x0a',Pw='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_clearCoa'+'tBumpiness'+';\x0a#endif\x0a\x0a'+'void\x20getCl'+'earCoatNor'+'mal()\x20{\x0a#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20norma'+'lMap\x20=\x20unp'+'ackNormal('+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+'));\x0a\x20\x20\x20\x20no'+'rmalMap\x20=\x20'+'mix(vec3(0'+'.0,\x200.0,\x201'+'.0),\x20norma'+'lMap,\x20mate'+'rial_clear'+'CoatBumpin'+'ess);\x0a\x20\x20\x20\x20'+'ccNormalW\x20'+'=\x20normaliz'+'e(dTBN\x20*\x20n'+'ormalMap);'+'\x0a#else\x0a\x20\x20\x20'+'\x20ccNormalW'+'\x20=\x20dVertex'+'NormalW;\x0a#'+'endif\x0a}\x0a',Rw='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.z'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if(vAbs.'+'y\x20>=\x20vAbs.'+'x)\x20{\x20\x20//\x20t'+'op\x20index\x202'+',\x20bottom\x20i'+'ndex\x203\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20face'+'Index\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x203.0\x20:\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2(di'+'r.x,\x20dir.y'+'\x20<\x200.0\x20?\x20-'+'dir.z\x20:\x20di'+'r.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x20\x20\x20\x20'+'//\x20left\x20/\x20'+'right\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.x\x20<\x200.0\x20?'+'\x201.0\x20:\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.x;\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x\x20<\x200.0\x20?'+'\x20dir.z\x20:\x20-'+'dir.z,\x20-di'+'r.y);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.x\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20return'+'\x20uv\x20*\x20ma\x20+'+'\x200.5;\x0a}\x0a\x0a/'+'/\x20converts'+'\x20unnormali'+'zed\x20direct'+'ion\x20vector'+'\x20to\x20a\x20text'+'ure\x20coordi'+'nate\x20for\x20a'+'\x20cubemap\x20f'+'ace\x20stored'+'\x20within\x20te'+'xture\x20atla'+'s\x20describe'+'d\x20by\x20the\x20v'+'iewport\x0ave'+'c2\x20getCube'+'mapAtlasCo'+'ordinates('+'const\x20vec3'+'\x20omniAtlas'+'Viewport,\x20'+'float\x20shad'+'owEdgePixe'+'ls,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20const'+'\x20vec3\x20dir)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20faceIn'+'dex;\x0a\x20\x20\x20\x20v'+'ec2\x20tileOf'+'fset;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'getCubemap'+'FaceCoordi'+'nates(dir,'+'\x20faceIndex'+',\x20tileOffs'+'et);\x0a\x0a\x20\x20\x20\x20'+'//\x20move\x20uv'+'\x20coordinat'+'es\x20inwards'+'\x20inside\x20to'+'\x20compensat'+'e\x20for\x20larg'+'er\x20fov\x20whe'+'n\x20renderin'+'g\x20shadow\x20i'+'nto\x20atlas\x0a'+'\x20\x20\x20\x20float\x20'+'atlasFaceS'+'ize\x20=\x20omni'+'AtlasViewp'+'ort.z;\x0a\x20\x20\x20'+'\x20float\x20til'+'eSize\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20float\x20o'+'ffset\x20=\x20sh'+'adowEdgePi'+'xels\x20/\x20til'+'eSize;\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20vec2(1.0\x20'+'-\x20offset\x20*'+'\x202.0)\x20+\x20ve'+'c2(offset\x20'+'*\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20scal'+'e\x20uv\x20coord'+'inates\x20to\x20'+'cube\x20face\x20'+'area\x20withi'+'n\x20the\x20view'+'port\x0a\x20\x20\x20\x20u'+'v\x20*=\x20atlas'+'FaceSize;\x0a'+'\x0a\x20\x20\x20\x20//\x20of'+'fset\x20into\x20'+'face\x20of\x20th')+('e\x20atlas\x20(3'+'x3\x20grid)\x0a\x20'+'\x20\x20\x20uv\x20+=\x20t'+'ileOffset\x20'+'*\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20the'+'\x20atlas\x20vie'+'wport\x0a\x20\x20\x20\x20'+'uv\x20+=\x20omni'+'AtlasViewp'+'ort.xy;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'uv;\x0a}\x0a'),Iw='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20bool\x20is'+'Rgb,\x20vec4\x20'+'cookieChan'+'nel)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20pixe'+'l\x20=\x20mix(ve'+'c4(1.0),\x20t'+'exture2DLo'+'d(tex,\x20uv,'+'\x200.0),\x20int'+'ensity);\x0a\x20'+'\x20\x20\x20return\x20'+'isRgb\x20==\x20t'+'rue\x20?\x20pixe'+'l.rgb\x20:\x20ve'+'c3(dot(pix'+'el,\x20cookie'+'Channel));'+'\x0a}\x0a\x0a//\x20get'+'Cookie2D\x20f'+'or\x20cluster'+'ed\x20lightin'+'g\x20includin'+'g\x20channel\x20'+'selector\x0av'+'ec3\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_ACCEPT('+'tex),\x20mat4'+'\x20transform'+',\x20vec3\x20wor'+'ldPosition'+',\x20float\x20in'+'tensity,\x20b'+'ool\x20isRgb,'+'\x20vec4\x20cook'+'ieChannel)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(TEXTURE_P'+'ASS(tex),\x20'+'projPos.xy'+'\x20/\x20projPos'+'.w,\x20intens'+'ity,\x20isRgb'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20bool\x20isR'+'gb,\x20vec4\x20c'+'ookieChann'+'el,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20float'+'\x20shadowEdg'+'ePixels,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+('lution,\x20di'+'r);\x0a\x20\x20\x20\x20re'+'turn\x20_getC'+'ookieClust'+'ered(TEXTU'+'RE_PASS(te'+'x),\x20uv,\x20in'+'tensity,\x20i'+'sRgb,\x20cook'+'ieChannel)'+';\x0a}\x0a'),Dw='\x0a//\x20Cluste'+'red\x20Omni\x20S'+'ampling\x20us'+'ing\x20atlas\x0a'+'\x0avoid\x20_get'+'ShadowCoor'+'dPerspZbuf'+'fer(mat4\x20s'+'hadowMatri'+'x,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20wPo'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20projPo'+'s\x20=\x20shadow'+'Matrix\x20*\x20v'+'ec4(wPos,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'projPos.xy'+'z\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'dShadowCoo'+'rd\x20=\x20projP'+'os.xyz;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0avo'+'id\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(mat4\x20sha'+'dowMatrix,'+'\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20wPos\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y;\x0a\x20'+'\x20\x20\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20inout\x20ve'+'c3\x20lightDi'+'r,\x20vec3\x20li'+'ghtDirNorm'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20float\x20dis'+'tScale\x20=\x20l'+'ength(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20vec3\x20wPos'+'\x20=\x20vPositi'+'onW\x20+\x20norm'+'al\x20*\x20shado'+'wParams.y\x20'+'*\x20clamp(1.'+'0\x20-\x20dot(no'+'rmal,\x20-lig'+'htDirNorm)'+',\x200.0,\x201.0'+')\x20*\x20distSc'+'ale;\x20//0.0'+'2\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20wPo'+'s\x20-\x20lightP'+'os;\x0a\x20\x20\x20\x20re'+'turn\x20dir;\x0a'+'}\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x0afloat\x20ge'+'tShadowOmn'+'iClustered'+'PCF1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+('dgePixels,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'hadowTextu'+'reResoluti'+'on\x20=\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20getCu'+'bemapAtlas'+'Coordinate'+'s(omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20s'+'hadowTextu'+'reResoluti'+'on,\x20lightD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'v,\x20shadowZ'+'));\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF3(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'5)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF5(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4')+('\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a//\x20Cl'+'ustered\x20Sp'+'ot\x20Samplin'+'g\x20using\x20at'+'las\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x0afloat\x20'+'getShadowS'+'potCluster'+'edPCF1(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20text'+'ureShadow('+'shadowMap,'+'\x20shadowCoo'+'rd);\x0a}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0afloat'+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms)\x20{\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA'+'DOWMAP_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a}\x0a\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF5)'+'\x0a\x0afloat\x20ge'+'tShadowSpo'+'tClustered')+('PCF5(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a}\x0a#en'+'dif\x0a'),Lw='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20clust'+'erWorldTex'+'ture;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ure8;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ureFloat;\x0a'+'\x0a//\x20comple'+'x\x20ifdef\x20ex'+'pression\x20a'+'re\x20not\x20sup'+'ported,\x20ha'+'ndle\x20it\x20he'+'re\x0a//\x20defi'+'ned(CLUSTE'+'R_COOKIES)'+'\x20||\x20define'+'d(CLUSTER_'+'SHADOWS)\x0a#'+'if\x20defined'+'(CLUSTER_C'+'OOKIES)\x0a\x20\x20'+'\x20\x20#define\x20'+'CLUSTER_CO'+'OKIES_OR_S'+'HADOWS\x0a#en'+'dif\x0a#if\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x20\x20\x20\x20#de'+'fine\x20CLUST'+'ER_COOKIES'+'_OR_SHADOW'+'S\x0a#endif\x0a\x0a'+'#ifdef\x20CLU'+'STER_SHADO'+'WS\x0a\x20\x20\x20\x20//\x20'+'TODO:\x20when'+'\x20VSM\x20shado'+'w\x20is\x20suppo'+'rted,\x20it\x20n'+'eeds\x20to\x20us'+'e\x20sampler2'+'D\x20in\x20webgl'+'2\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2DShadow\x20'+'shadowAtla'+'sTexture;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20CLUST'+'ER_COOKIES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20cookieA'+'tlasTextur'+'e;\x0a#endif\x0a'+'\x0auniform\x20i'+'nt\x20cluster'+'MaxCells;\x0a'+'\x0a//\x201.0\x20if'+'\x20clustered'+'\x20lighting\x20'+'can\x20be\x20ski'+'pped\x20(0\x20li'+'ghts\x20in\x20th'+'e\x20clusters'+')\x0auniform\x20'+'float\x20clus'+'terSkip;\x0a\x0a'+'uniform\x20ve'+'c3\x20cluster'+'CellsCount'+'ByBoundsSi'+'ze;\x0aunifor'+'m\x20vec3\x20clu'+'sterTextur'+'eSize;\x0auni'+'form\x20vec3\x20'+'clusterBou'+'ndsMin;\x0aun'+'iform\x20vec3'+'\x20clusterBo'+'undsDelta;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsDot;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsMax;'+'\x0auniform\x20v'+'ec2\x20cluste'+'rCompressi'+'onLimit0;\x0a'+('uniform\x20ve'+'c2\x20shadowA'+'tlasParams'+';\x0a\x0a//\x20stru'+'cture\x20stor'+'ing\x20light\x20'+'properties'+'\x20of\x20a\x20clus'+'tered\x20ligh'+'t\x0a//\x20it\x27s\x20'+'sorted\x20to\x20'+'have\x20all\x20v'+'ectors\x20ali'+'gned\x20to\x204\x20'+'floats\x20to\x20'+'limit\x20padd'+'ing\x0astruct'+'\x20ClusterLi'+'ghtData\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20s'+'izes\x20/\x20ori'+'entation\x0a\x20'+'\x20\x20\x20vec3\x20ha'+'lfWidth;\x0a\x0a'+'\x20\x20\x20\x20//\x20typ'+'e\x20of\x20the\x20l'+'ight\x20(spot'+'\x20or\x20omni)\x0a'+'\x20\x20\x20\x20float\x20'+'lightType;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'sizes\x20/\x20or'+'ientation\x0a'+'\x20\x20\x20\x20vec3\x20h'+'alfHeight;'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20int\x20l'+'ightIndex;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20position\x0a'+'\x20\x20\x20\x20vec3\x20p'+'osition;\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20fl'+'oat\x20shape;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20direction'+'\x20(spot\x20lig'+'ht\x20only)\x0a\x20'+'\x20\x20\x20vec3\x20di'+'rection;\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20follow\x20'+'mode\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ffMode;\x0a\x0a\x20'+'\x20\x20\x20//\x20colo'+'r\x0a\x20\x20\x20\x20vec3'+'\x20color;\x0a\x0a\x20'+'\x20\x20\x20//\x200.0\x20'+'if\x20the\x20lig'+'ht\x20doesn\x27t'+'\x20cast\x20shad'+'ows\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'tlas\x20viewp'+'ort\x20for\x20om'+'ni\x20light\x20s'+'hadow\x20and\x20'+'cookie\x20(.x'+'y\x20is\x20offse'+'t\x20to\x20the\x20v'+'iewport\x20sl'+'ot,\x20.z\x20is\x20'+'size\x20of\x20th'+'e\x20face\x20in\x20'+'the\x20atlas)'+'\x0a\x20\x20\x20\x20vec3\x20'+'omniAtlasV'+'iewport;\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'float\x20rang'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20channel\x20m'+'ask\x20-\x20one\x20'+'of\x20the\x20cha'+'nnels\x20has\x20'+'1,\x20the\x20oth'+'ers\x20are\x200\x0a'+'\x20\x20\x20\x20vec4\x20c')+('ookieChann'+'elMask;\x0a\x0a\x20'+'\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20inner\x20'+'and\x20outer\x20'+'angle\x20cosi'+'ne\x0a\x20\x20\x20\x20flo'+'at\x20innerCo'+'neAngleCos'+';\x0a\x20\x20\x20\x20floa'+'t\x20outerCon'+'eAngleCos;'+'\x0a\x0a\x20\x20\x20\x20//\x201'+'.0\x20if\x20the\x20'+'light\x20has\x20'+'a\x20cookie\x20t'+'exture\x0a\x20\x20\x20'+'\x20float\x20coo'+'kie;\x0a\x0a\x20\x20\x20\x20'+'//\x201.0\x20if\x20'+'cookie\x20tex'+'ture\x20is\x20rg'+'b,\x20otherwi'+'se\x20it\x20is\x20u'+'sing\x20a\x20sin'+'gle\x20channe'+'l\x20selectab'+'le\x20by\x20cook'+'ieChannelM'+'ask\x0a\x20\x20\x20\x20fl'+'oat\x20cookie'+'Rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20intensi'+'ty\x20of\x20the\x20'+'cookie\x0a\x20\x20\x20'+'\x20float\x20coo'+'kieIntensi'+'ty;\x0a\x0a\x20\x20\x20\x20/'+'/\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20flo'+'at\x20mask;\x0a}'+';\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0am'+'at4\x20lightP'+'rojectionM'+'atrix;\x0a\x0a//'+'\x20macros\x20fo'+'r\x20light\x20pr'+'operties\x0a#'+'define\x20isC'+'lusteredLi'+'ghtCastSha'+'dow(light)'+'\x20(\x20light.s'+'hadowInten'+'sity\x20>\x200.0')+('\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kie(light)'+'\x20(light.co'+'okie\x20>\x200.5'+'\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kieRgb(lig'+'ht)\x20(light'+'.cookieRgb'+'\x20>\x200.5\x20)\x0a#'+'define\x20isC'+'lusteredLi'+'ghtSpot(li'+'ght)\x20(\x20lig'+'ht.lightTy'+'pe\x20>\x200.5\x20)'+'\x0a#define\x20i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight)\x20(\x20li'+'ght.fallof'+'fMode\x20<\x200.'+'5\x20)\x0a\x0a//\x20ma'+'cros\x20to\x20te'+'st\x20light\x20s'+'hape\x0a//\x20No'+'te:\x20Follow'+'ing\x20functi'+'ons\x20need\x20t'+'o\x20be\x20calle'+'d\x20serially'+'\x20in\x20listed'+'\x20order\x20as\x20'+'they\x20do\x20no'+'t\x20test\x20bot'+'h\x20\x27>\x27\x20and\x20'+'\x27<\x27\x0a#defin'+'e\x20isCluste'+'redLightAr'+'ea(light)\x20'+'(\x20light.sh'+'ape\x20>\x200.1\x20'+')\x0a#define\x20'+'isClustere'+'dLightRect'+'(light)\x20(\x20'+'light.shap'+'e\x20<\x200.3\x20)\x0a'+'#define\x20is'+'ClusteredL'+'ightDisk(l'+'ight)\x20(\x20li'+'ght.shape\x20'+'<\x200.6\x20)\x0a\x0a/'+'/\x20macro\x20to'+'\x20test\x20ligh'+'t\x20mask\x20(me'+'sh\x20accepts'+'\x20dynamic\x20v'+'s\x20lightmap'+'ped\x20lights'+')\x0a#ifdef\x20C'+'LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20//\x20accept'+'\x20lights\x20ma'+'rked\x20as\x20dy'+'namic\x20or\x20b'+'oth\x20dynami'+'c\x20and\x20ligh'+'tmapped\x0a\x20\x20'+'\x20\x20#define\x20'+'acceptLigh'+'tMask(ligh'+'t)\x20(\x20light'+'.mask\x20<\x200.'+'75)\x0a#else\x0a'+'\x20\x20\x20\x20//\x20acc'+'ept\x20lights'+'\x20marked\x20as'+'\x20lightmapp'+'ed\x20or\x20both'+'\x20dynamic\x20a'+'nd\x20lightma'+'pped\x0a\x20\x20\x20\x20#'+'define\x20acc'+'eptLightMa'+'sk(light)\x20'+'(\x20light.ma'+'sk\x20>\x200.25)'+'\x0a#endif\x0a\x0av'+'ec4\x20decode'+'ClusterLow'+'Range4Vec4'+'(vec4\x20d0,\x20')+('vec4\x20d1,\x20v'+'ec4\x20d2,\x20ve'+'c4\x20d3)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bytes2'+'floatRange'+'4(d0,\x20-2.0'+',\x202.0),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20byte'+'s2floatRan'+'ge4(d1,\x20-2'+'.0,\x202.0),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20by'+'tes2floatR'+'ange4(d2,\x20'+'-2.0,\x202.0)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'bytes2floa'+'tRange4(d3'+',\x20-2.0,\x202.'+'0)\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avec4\x20sa'+'mpleLights'+'Texture8(c'+'onst\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData,\x20'+'int\x20index)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20texelF'+'etch(light'+'sTexture8,'+'\x20ivec2(ind'+'ex,\x20cluste'+'rLightData'+'.lightInde'+'x),\x200);\x0a}\x0a'+'\x0avec4\x20samp'+'leLightTex'+'tureF(cons'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20int'+'\x20index)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20texelFetc'+'h(lightsTe'+'xtureFloat'+',\x20ivec2(in'+'dex,\x20clust'+'erLightDat'+'a.lightInd'+'ex),\x200);\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightCore('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData,'+'\x20float\x20lig'+'htIndex)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.lightInd'+'ex\x20=\x20int(l'+'ightIndex)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'shared\x20dat'+'a\x20from\x208bi'+'t\x20texture\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightInfo\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_FL'+'AGS);\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.lig'+'htType\x20=\x20l'+'ightInfo.x'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shape\x20='+'\x20lightInfo'+'.y;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.fallo'+'ffMode\x20=\x20l'+'ightInfo.z'+';\x0a\x20\x20\x20\x20clus'+'terLightDa')+('ta.shadowI'+'ntensity\x20='+'\x20lightInfo'+'.w;\x0a\x0a\x20\x20\x20\x20/'+'/\x20color\x0a\x20\x20'+'\x20\x20vec4\x20col'+'orA\x20=\x20samp'+'leLightsTe'+'xture8(clu'+'sterLightD'+'ata,\x20CLUST'+'ER_TEXTURE'+'_8_COLOR_A'+');\x0a\x20\x20\x20\x20vec'+'4\x20colorB\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_CO'+'LOR_B);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.c'+'olor\x20=\x20vec'+'3(bytes2fl'+'oat2(color'+'A.xy),\x20byt'+'es2float2('+'colorA.zw)'+',\x20bytes2fl'+'oat2(color'+'B.xy))\x20*\x20c'+'lusterComp'+'ressionLim'+'it0.y;\x0a\x0a\x20\x20'+'\x20\x20//\x20cooki'+'e\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.cookie\x20'+'=\x20colorB.z'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.mask\x20=\x20c'+'olorB.w;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightPosRan'+'ge\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_POSITION_'+'RANGE);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.p'+'osition\x20=\x20'+'lightPosRa'+'nge.xyz;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'range\x20=\x20li'+'ghtPosRang'+'e.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20ve'+'c4\x20lightDi'+'r_Unused\x20='+'\x20sampleLig'+'htTextureF'+'(clusterLi'+'ghtData,\x20C'+'LUSTER_TEX'+'TURE_F_SPO'+'T_DIRECTIO'+'N);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.direc'+'tion\x20=\x20lig'+'htDir_Unus'+'ed.xyz;\x0a}\x0a'+'\x0avoid\x20deco'+'deClusterL'+'ightSpot(i'+'nout\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20cos\x20angle'+'s\x0a\x20\x20\x20\x20vec4'+'\x20coneAngle'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste')+('rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'SPOT_ANGLE'+'S);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20bytes'+'2float2(co'+'neAngle.xy'+')\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20byte'+'s2float2(c'+'oneAngle.z'+'w)\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_F_'+'PROJ_MAT_0'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_AREA_D'+'ATA_WIDTH)'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20CL'+'USTER_TEXT'+'URE_F_AREA'+'_DATA_HEIG'+'HT).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20CLU'+'STER_TEXTU'+'RE_F_PROJ_'+'MAT_0);\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_F_PR'+'OJ_MAT_1);'+'\x0a\x20\x20\x20\x20vec4\x20')+('m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_PROJ_MAT_'+'2);\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_PROJ_M'+'AT_3);\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'4\x20biases\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_SH'+'ADOW_BIAS)'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shadowB'+'ias\x20=\x20byte'+'s2floatRan'+'ge2(biases'+'.xy,\x20-1.0,'+'\x2020.0),\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.s'+'hadowNorma'+'lBias\x20=\x20by'+'tes2float2'+'(biases.zw'+');\x0a}\x0a\x0avoid'+'\x20decodeClu'+'sterLightC'+'ookieData('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20cookieA'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'COOKIE_A);'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'cookieA.x;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieRg'+'b\x20=\x20cookie'+'A.y;\x0a\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.coo'+'kieChannel'+'Mask\x20=\x20sam'+'pleLightsT'+'exture8(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_8_COOKIE'+'_B);\x0a}\x0a\x0avo'+'id\x20evaluat'+'eLight(\x0a\x20\x20'+'\x20\x20ClusterL'+'ightData\x20l'+'ight,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v')+('iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20vec3\x20c'+'learcoatRe'+'flectionDi'+'r,\x0a#endif\x0a'+'\x20\x20\x20\x20float\x20'+'gloss,\x20\x0a\x20\x20'+'\x20\x20vec3\x20spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'geometricN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20mat3\x20tbn'+',\x20\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20vec3\x20cle'+'arcoat_wor'+'ldNormal,\x0a'+'\x20\x20\x20\x20float\x20'+'clearcoat_'+'gloss,\x0a\x20\x20\x20'+'\x20float\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20float\x20'+'iridescenc'+'e_intensit'+'y\x0a)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cook'+'ieAttenuat'+'ion\x20=\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20float\x20dif'+'fuseAttenu'+'ation\x20=\x201.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20falloff'+'Attenuatio'+'n\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20omni'+'\x20part\x20of\x20t'+'he\x20light\x0a\x20'+'\x20\x20\x20getLigh'+'tDirPoint('+'light.posi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20//\x20dist'+'ance\x20atten'+'uation\x0a\x20\x20\x20'+'\x20if\x20(isClu'+'steredLigh'+'tArea(ligh'+'t))\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20area\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20decodeCl'+'usterLight'+'AreaData(l'+'ight);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20h'+'andle\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightRect'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(light.p'+'osition,\x20l'+'ight.halfW'+'idth,\x20ligh'+'t.halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(isClus'+'teredLight'+'Disk(light'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cal'+'cDiskLight'+'Values(lig'+'ht.positio'+'n,\x20light.h')+('alfWidth,\x20'+'light.half'+'Height);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x20//\x20s'+'phere\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcSphereLi'+'ghtValues('+'light.posi'+'tion,\x20ligh'+'t.halfWidt'+'h,\x20light.h'+'alfHeight)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20falloffAt'+'tenuation\x20'+'=\x20getFallo'+'ffWindow(l'+'ight.range'+',\x20dLightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight))\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20=\x20'+'getFalloff'+'Linear(lig'+'ht.range,\x20'+'dLightDirW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffI'+'nvSquared('+'light.rang'+'e,\x20dLightD'+'irW);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightAre'+'a(light))\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtRect(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20diffus'+'eAttenuati'+'on\x20=\x20getRe'+'ctLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20dLi'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(isCl'+'usteredLig'+'htDisk(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getDis'+'kLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirW,\x20dL'+'ightDirNor'+'mW)\x20*\x2016.0')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20*='+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW);\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isCluste'+'redLightSp'+'ot(light))'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_COO'+'KIES_OR_SH'+'ADOWS)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'falloffAtt'+'enuation\x20>'+'\x200.00001)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x20/\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightCast'+'Shadow(lig'+'ht)\x20||\x20isC'+'lusteredLi'+'ghtCookie('+'light))\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'shared\x20sha'+'dow\x20/\x20cook'+'ie\x20data\x20de'+'pends\x20on\x20l'+'ight\x20type\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightSpot'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightP'+'rojectionM'+'atrixData('+'light);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tOmniAtlas'+'Viewport(l'+'ight);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adowTextur'+'eResolutio'+'n\x20=\x20shadow'+'AtlasParam'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dowEdgePix'+'els\x20=\x20shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(isClus'+'teredLight'+'Cookie(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dec'+'odeCluster'+'LightCooki'+'eData(ligh'+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightSpot('+'light))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightProjec'+'tionMatrix'+',\x20vPositio'+'nW,\x20light.'+'cookieInte'+'nsity,\x20isC'+'lusteredLi'+'ghtCookieR'+'gb(light),'+'\x20light.coo'+'kieChannel'+'Mask);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookieC'+'ubeCluster'+'ed(TEXTURE'+'_PASS(cook'+'ieAtlasTex'+'ture),\x20dLi'+'ghtDirW,\x20l'+'ight.cooki'+'eIntensity'+',\x20isCluste'+'redLightCo'+'okieRgb(li'+'ght),\x20ligh'+'t.cookieCh'+'annelMask,'+'\x20shadowTex'+'tureResolu'+'tion,\x20shad'+'owEdgePixe'+'ls,\x20light.'+'omniAtlasV'+'iewport);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_SHAD'+'OWS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightCas'+'tShadow(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightShad'+'owData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shadowPar'+'ams\x20=\x20vec4'+'(shadowTex'+'tureResolu'+'tion,\x20ligh'+'t.shadowNo'+'rmalBias,\x20'+'light.shad'+'owBias,\x201.'+'0\x20/\x20light.'+'range);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(isClust'+'eredLightS'+'pot(light)'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tShadowCoo'+'rdPerspZbu'+'fferNormal'+'Offset(lig'+'htProjecti'+'onMatrix,\x20'+'shadowPara'+'ms,\x20geomet'+'ricNormal)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF1)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wSpotClust'+'eredPCF1(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20dShad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20dShado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el')+('if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadow\x20=\x20'+'getShadowS'+'potCluster'+'edPCF5(SHA'+'DOWMAP_PAS'+'S(shadowAt'+'lasTexture'+'),\x20dShadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCSS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowSp'+'otClustere'+'dPCSS(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20dShadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20*=\x20mi'+'x(1.0,\x20sha'+'dow,\x20light'+'.shadowInt'+'ensity);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20omn'+'i\x20shadow\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'OffsetPoin'+'tShadow(sh'+'adowParams'+',\x20dLightPo'+'sW,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+',\x20geometri'+'cNormal);\x20'+'\x20//\x20normal'+'Bias\x20adjus'+'ted\x20for\x20di'+'stance\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF1)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owOmniClus'+'teredPCF1('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owParams,\x20'+'light.omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20dir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20d'+'efined(CLU')+('STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F3(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF5)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF5(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20*'+'=\x20mix(1.0,'+'\x20shadow,\x20l'+'ight.shado'+'wIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20d'+'iffuse\x20/\x20s'+'pecular\x20/\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_AREALIG'+'HTS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtArea(li'+'ght))\x20{\x20//'+'\x20area\x20ligh'+'t\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20d'+'iffuse\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20areaDiff'+'use\x20=\x20(dif'+'fuseAttenu'+'ation\x20*\x20fa'+'lloffAtten'+'uation)\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20area'+'Diffuse\x20=\x20'+'mix(areaDi'+'ffuse,\x20vec'+'3(0),\x20dLTC'+'SpecFres);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20diffu'+'se\x20-\x20it\x20do'+'es\x20not\x20mix'+'\x20diffuse\x20l'+'ighting\x20in'+'to\x20specula'+'r\x20attenuat'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20+=\x20are'+'aDiffuse;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x20a'+'nd\x20clear\x20c'+'oat\x20are\x20ma'+'terial\x20set'+'tings\x20and\x20'+'get\x20includ'+'ed\x20by\x20a\x20de'+'fine\x20based'+'\x20on\x20the\x20ma'+'terial\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20areaLight'+'Specular;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightRec'+'t(light))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getRectL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(isClust'+'eredLightD'+'isk(light)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'r\x20=\x20getDis'+'kLightSpec'+'ular(world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'\x20=\x20getSphe'+'reLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20are'+'aLightSpec'+'ular\x20*\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt')+('tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20specul'+'ar\x20clear\x20c'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'areaLightS'+'pecularCC;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isCl'+'usteredLig'+'htRect(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'SpecularCC'+'\x20=\x20getRect'+'LightSpecu'+'lar(clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(is'+'ClusteredL'+'ightDisk(l'+'ight))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'CC\x20=\x20getDi'+'skLightSpe'+'cular(clea'+'rcoat_worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x20//'+'\x20sphere\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getSph'+'ereLightSp'+'ecular(cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ar'+'eaLightSpe'+'cularCC\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x20\x20\x20\x20//\x20pu'+'nctual\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20p'+'unctual\x20li'+'ght\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20pun'+'ctualDiffu'+'se\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20')+('cookieAtte'+'nuation;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_AREA'+'LIGHTS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'punctualDi'+'ffuse\x20=\x20mi'+'x(punctual'+'Diffuse,\x20v'+'ec3(0),\x20sp'+'ecularity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20punctual'+'Diffuse;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20halfDir'+'\x20=\x20normali'+'ze(-dLight'+'DirNormW\x20+'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spe'+'cular\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpecularL'+'ight\x20+=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getLigh'+'tSpecular('+'halfDir,\x20r'+'eflectionD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirNormW,\x20'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20s'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20getLig'+'htSpecular'+'(halfDir,\x20'+'clearcoatR'+'eflectionD'+'ir,\x20clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20getFresne'+'lCC(dot(vi'+'ewDir,\x20hal'+'fDir));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'SpecularLi'+'ght\x20+=\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20clearco'+'atReflecti'+'onDir,\x20cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20clear'+'coat_gloss'+',\x20tbn)\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20')+('light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20+=\x20getL'+'ightSpecul'+'arSheen(ha'+'lfDir,\x20wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20sheen'+'_gloss)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20Write\x20to\x20'+'global\x20att'+'enuation\x20v'+'alues\x20(for'+'\x20lightmapp'+'er)\x0a\x20\x20\x20\x20dA'+'tten\x20=\x20fal'+'loffAttenu'+'ation;\x0a\x20\x20\x20'+'\x20dAttenD\x20='+'\x20diffuseAt'+'tenuation;'+'\x0a\x20\x20\x20\x20dAtte'+'n3\x20=\x20cooki'+'eAttenuati'+'on;\x0a}\x0a\x0avoi'+'d\x20evaluate'+'ClusterLig'+'ht(\x0a\x20\x20\x20\x20fl'+'oat\x20lightI'+'ndex,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x20\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr')+('om\x20texture'+'s\x0a\x20\x20\x20\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData;'+'\x0a\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCore(cl'+'usterLight'+'Data,\x20ligh'+'tIndex);\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20ligh'+'t\x20if\x20it\x20us'+'es\x20accepte'+'d\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20if\x20'+'(acceptLig'+'htMask(clu'+'sterLightD'+'ata))\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre')+('snel,\x0a#end'+'if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l')+('ightCellIn'+'dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20a'+'lpha\x20chann'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20lightInde'+'x\x20=\x20texelF'+'etch(clust'+'erWorldTex'+'ture,\x20ivec'+'2(int(clus'+'terU)\x20+\x20li'+'ghtCellInd'+'ex,\x20cluste'+'rV),\x200).x;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ghtIndex\x20<'+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndex\x20*\x202'+'55.0,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20viewDir'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cle'+'arcoatRefl'+'ectionDir,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'ometricNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),Fw='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion.rgb)\x20'+'*\x20clearcoa'+'tSpeculari'+'ty;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20ret;\x0a}\x0a',Ow='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),kw='\x0auniform\x20v'+'ec3\x20envBox'+'Min;\x0aunifo'+'rm\x20vec3\x20en'+'vBoxMax;\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x20\x20\x20\x20nr'+'dir\x20=\x20cube'+'MapRotate('+'nrdir);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20rb'+'max\x20=\x20(env'+'BoxMax\x20-\x20v'+'PositionW)'+'\x20/\x20nrdir;\x0a'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20rbminmax;'+'\x0a\x20\x20\x20\x20rbmin'+'max.x\x20=\x20nr'+'dir.x>0.0?'+'\x20rbmax.x\x20:'+'\x20rbmin.x;\x0a'+'\x20\x20\x20\x20rbminm'+'ax.y\x20=\x20nrd'+'ir.y>0.0?\x20'+'rbmax.y\x20:\x20'+'rbmin.y;\x0a\x20'+'\x20\x20\x20rbminma'+'x.z\x20=\x20nrdi'+'r.z>0.0?\x20r'+'bmax.z\x20:\x20r'+'bmin.z;\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'a\x20=\x20min(mi'+'n(rbminmax'+'.x,\x20rbminm'+'ax.y),\x20rbm'+'inmax.z);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'posonbox\x20='+'\x20vPosition'+'W\x20+\x20nrdir\x20'+'*\x20fa;\x0a\x20\x20\x20\x20'+'vec3\x20envBo'+'xPos\x20=\x20(en'+'vBoxMin\x20+\x20'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20return\x20n'+'ormalize(p'+'osonbox\x20-\x20'+'envBoxPos)'+';\x0a}\x0a',Bw='\x0avec3\x20cube'+'MapProject'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cubeMa'+'pRotate(di'+'r);\x0a}\x0a',Nw='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',zw='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',Uw='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',S0='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0a#endif\x0a',Vw='\x0avec3\x20deta'+'ilMode_mul'+'(vec3\x20c1,\x20'+'vec3\x20c2)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20c1\x20*\x20c2;'+'\x0a}\x0a\x0avec3\x20d'+'etailMode_'+'add(vec3\x20c'+'1,\x20vec3\x20c2'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20c1\x20+\x20'+'c2;\x0a}\x0a\x0a//\x20'+'https://en'+'.wikipedia'+'.org/wiki/'+'Blend_mode'+'s#Screen\x0av'+'ec3\x20detail'+'Mode_scree'+'n(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x201.0\x20-\x20('+'1.0\x20-\x20c1)*'+'(1.0\x20-\x20c2)'+';\x0a}\x0a\x0a//\x20ht'+'tps://en.w'+'ikipedia.o'+'rg/wiki/Bl'+'end_modes#'+'Overlay\x0ave'+'c3\x20detailM'+'ode_overla'+'y(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20mix(1.0'+'\x20-\x202.0*(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0*c1*c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a',Gw='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20vec3\x20albe'+'doBase\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20d'+'Albedo\x20*=\x20'+'addAlbedoD'+'etail(albe'+'doBase);\x0a#'+'endif\x0a\x0a#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dA'+'lbedo\x20*=\x20g'+'ammaCorrec'+'tInput(sat'+'urate(vVer'+'texColor.$'+'VC));\x0a#end'+'if\x0a}\x0a',Hw='\x0avec3\x20addA'+'lbedoDetai'+'l(vec3\x20alb'+'edo)\x20{\x0a#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+'Detail\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20r'+'eturn\x20deta'+'ilMode_$DE'+'TAILMODE(a'+'lbedo,\x20alb'+'edoDetail)'+';\x0a#else\x0a\x20\x20'+'\x20\x20return\x20a'+'lbedo;\x0a#en'+'dif\x0a}\x0a',Ww='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20$DECODE(t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.$VC'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',v0='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),$w='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',qw='\x0a',Xw='\x0a//\x20the\x20en'+'vAtlas\x20is\x20'+'fixed\x20at\x205'+'12\x20pixels.'+'\x20every\x20equ'+'irect\x20is\x20g'+'enerated\x20w'+'ith\x201\x20pixe'+'l\x20boundary'+'.\x0aconst\x20fl'+'oat\x20atlasS'+'ize\x20=\x20512.'+'0;\x0aconst\x20f'+'loat\x20seamS'+'ize\x20=\x201.0\x20'+'/\x20atlasSiz'+'e;\x0a\x0a//\x20map'+'\x20a\x20normali'+'zed\x20equire'+'ct\x20UV\x20to\x20t'+'he\x20given\x20r'+'ectangle\x20('+'taking\x201\x20p'+'ixel\x20seam\x20'+'into\x20accou'+'nt).\x0avec2\x20'+'mapUv(vec2'+'\x20uv,\x20vec4\x20'+'rect)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2(mix(re'+'ct.x\x20+\x20sea'+'mSize,\x20rec'+'t.x\x20+\x20rect'+'.z\x20-\x20seamS'+'ize,\x20uv.x)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'x(rect.y\x20+'+'\x20seamSize,'+'\x20rect.y\x20+\x20'+'rect.w\x20-\x20s'+'eamSize,\x20u'+'v.y));\x0a}\x0a\x0a'+'//\x20map\x20a\x20n'+'ormalized\x20'+'equirect\x20U'+'V\x20and\x20roug'+'hness\x20leve'+'l\x20to\x20the\x20c'+'orrect\x20atl'+'as\x20rect.\x0av'+'ec2\x20mapRou'+'ghnessUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0avec2\x20ma'+'pShinyUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(1.0\x20-\x20t,'+'\x201.0\x20-\x20t,\x20'+'t,\x20t\x20*\x200.5'+'));\x0a}\x0a',jw='\x0avec3\x20proc'+'essEnviron'+'ment(vec3\x20'+'color)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',Yw='\x0auniform\x20f'+'loat\x20skybo'+'xIntensity'+';\x0a\x0avec3\x20pr'+'ocessEnvir'+'onment(vec'+'3\x20color)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'skyboxInte'+'nsity;\x0a}\x0a',Kw='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(\x20satur'+'ate(\x201.0\x20-'+'\x20square(\x20s'+'qrDist\x20*\x20s'+'quare(invR'+'adius)\x20)\x20)'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getFall'+'offInvSqua'+'red(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ff\x20=\x201.0\x20/'+'\x20(sqrDist\x20'+'+\x201.0);\x0a\x20\x20'+'\x20\x20float\x20in'+'vRadius\x20=\x20'+'1.0\x20/\x20ligh'+'tRadius;\x0a\x0a'+'\x20\x20\x20\x20fallof'+'f\x20*=\x2016.0;'+'\x0a\x20\x20\x20\x20fallo'+'ff\x20*=\x20squa'+'re(\x20satura'+'te(\x201.0\x20-\x20'+'square(\x20sq'+'rDist\x20*\x20sq'+'uare(invRa'+'dius)\x20)\x20)\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20fallo'+'ff;\x0a}\x0a',Zw='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',Qw='\x0a//\x20float\x20'+'unpacking\x20'+'functional'+'ity,\x20compl'+'imentary\x20t'+'o\x20float-pa'+'cking.js\x0af'+'loat\x20bytes'+'2float2(ve'+'c2\x20data)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(data'+',\x20vec2(1.0'+',\x201.0\x20/\x2025'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2float3(v'+'ec3\x20data)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(dat'+'a,\x20vec3(1.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x2065025.0)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oat4(vec4\x20'+'data)\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'ot(data,\x20v'+'ec4(1.0,\x201'+'.0\x20/\x20255.0'+',\x201.0\x20/\x2065'+'025.0,\x201.0'+'\x20/\x201658137'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2floatRan'+'ge2(vec2\x20d'+'ata,\x20float'+'\x20min,\x20floa'+'t\x20max)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'mix(min,\x20m'+'ax,\x20bytes2'+'float2(dat'+'a));\x0a}\x0a\x0afl'+'oat\x20bytes2'+'floatRange'+'3(vec3\x20dat'+'a,\x20float\x20m'+'in,\x20float\x20'+'max)\x20{\x0a\x20\x20\x20'+'\x20return\x20mi'+'x(min,\x20max'+',\x20bytes2fl'+'oat3(data)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oatRange4('+'vec4\x20data,'+'\x20float\x20min'+',\x20float\x20ma'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'min,\x20max,\x20'+'bytes2floa'+'t4(data));'+'\x0a}\x0a\x0afloat\x20'+'mantissaEx'+'ponent2Flo'+'at(vec4\x20pa'+'ck)\x0a{\x0a\x20\x20\x20\x20'+'float\x20valu'+'e\x20=\x20bytes2'+'floatRange'+'3(pack.xyz'+',\x20-1.0,\x201.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20expone'+'nt\x20=\x20floor'+'(pack.w\x20*\x20'+'255.0\x20-\x2012'+'7.0);\x0a\x20\x20\x20\x20'+'return\x20val'+'ue\x20*\x20exp2('+'exponent);'+'\x0a}\x0a',Jw='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'#endif\x20//\x20'+'FLOAT_AS_U'+'INT\x0a',eT='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',tT='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20max(cosT'+'heta,\x200.0)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20max('+'cosTheta,\x20'+'0.0),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',sT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',iT='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy*0.5+0.5'+';\x0a}\x0a',rT='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',nT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPFLOA'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20dGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.$VC);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPINVERT\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x201.'+'0\x20-\x20dGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',aT='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20c'+'enterProj.'+'z\x20=\x20clamp('+'centerProj'+'.z,\x20-abs(c'+'enterProj.'+'w),\x20abs(ce'+'nterProj.w'+'));\x0a\x0a\x20\x20\x20\x20c'+'enter.view'+'\x20=\x20centerV'+'iew.xyz\x20/\x20'+'centerView'+'.w;\x0a\x20\x20\x20\x20ce'+'nter.proj\x20'+'=\x20centerPr'+'oj;\x0a\x20\x20\x20\x20ce'+'nter.projM'+'at00\x20=\x20mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',oT='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(splatCo'+'lor,\x20sourc'+'e.uv,\x200);\x0a'+'}\x0a\x0a',lT='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ememt\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a};\x0a\x0a#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20==\x201\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20SH_COE'+'FFS\x203\x0a\x20\x20\x20\x20'+'#elif\x20SH_B'+'ANDS\x20==\x202\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20SH_C'+'OEFFS\x208\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'_BANDS\x20==\x20'+'3\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20SH'+'_COEFFS\x2015'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+'D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+('include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latCompres'+'sedSHVS\x22\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22gspl'+'atSHVS\x22\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22gspl'+'atSourceVS'+'\x22\x0a#include'+'\x20\x22gsplatCe'+'nterVS\x22\x0a#i'+'nclude\x20\x22gs'+'platCorner'+'VS\x22\x0a#inclu'+'de\x20\x22gsplat'+'OutputVS\x22\x0a'+'\x0a//\x20modify'+'\x20the\x20gauss'+'ian\x20corner'+'\x20so\x20it\x20exc'+'ludes\x20gaus'+'sian\x20regio'+'ns\x20with\x20al'+'pha\x0a//\x20les'+'s\x20than\x201/2'+'55\x0avoid\x20cl'+'ipCorner(i'+'nout\x20Splat'+'Corner\x20cor'+'ner,\x20float'+'\x20alpha)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'clip\x20=\x20min'+'(1.0,\x20sqrt'+'(-log(1.0\x20'+'/\x20255.0\x20/\x20'+'alpha))\x20/\x20'+'2.0);\x0a\x20\x20\x20\x20'+'corner.off'+'set\x20*=\x20cli'+'p;\x0a\x20\x20\x20\x20cor'+'ner.uv\x20*=\x20'+'clip;\x0a}\x0a\x0a/'+'/\x20spherica'+'l\x20Harmonic'+'s\x0a\x0a#if\x20SH_'+'BANDS\x20>\x200\x0a'+'\x0a#define\x20S'+'H_C1\x200.488'+'6025119029'+'199f\x0a\x0a#if\x20'+'SH_BANDS\x20>'+'\x201\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_0\x201.09254'+'8430592079'+'2f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_1\x20-1.0925'+'4843059207'+'92f\x0a\x20\x20\x20\x20#d'+'efine\x20SH_C'+'2_2\x200.3153'+'9156525252'+'005f\x0a\x20\x20\x20\x20#'+'define\x20SH_'+'C2_3\x20-1.09'+'2548430592'+'0792f\x0a\x20\x20\x20\x20'+'#define\x20SH'+'_C2_4\x200.54'+'6274215296'+'0396f\x0a#end'+'if\x0a\x0a#if\x20SH'+'_BANDS\x20>\x202'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_0'+'\x20-0.590043'+'5899266435'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'1\x202.890611'+'442640554f'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_2'+'\x20-0.457045'+'7994644658'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_')+('3\x200.373176'+'3325901154'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'4\x20-0.45704'+'5799464465'+'8f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C3'+'_5\x201.44530'+'5721320277'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'6\x20-0.59004'+'3589926643'+'5f\x0a#endif\x0a'+'\x0a//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+'ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'vec3\x20evalS'+'H(in\x20Splat'+'Source\x20sou'+'rce,\x20in\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'[SH_COEFFS'+'];\x0a\x20\x20\x20\x20flo'+'at\x20scale;\x0a'+'\x20\x20\x20\x20readSH'+'Data(sourc'+'e,\x20sh,\x20sca'+'le);\x0a\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'dir.x;\x0a\x20\x20\x20'+'\x20float\x20y\x20='+'\x20dir.y;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20//\x201st'+'\x20degree\x0a\x20\x20'+'\x20\x20vec3\x20res'+'ult\x20=\x20SH_C'+'1\x20*\x20(-sh[0'+']\x20*\x20y\x20+\x20sh'+'[1]\x20*\x20z\x20-\x20'+'sh[2]\x20*\x20x)'+';\x0a\x0a#if\x20SH_'+'BANDS\x20>\x201\x0a'+'\x20\x20\x20\x20//\x202nd'+'\x20degree\x0a\x20\x20'+'\x20\x20float\x20xx'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20floa'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20fl'+'oat\x20xy\x20=\x20x'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20yz\x20='+'\x20y\x20*\x20z;\x0a\x20\x20'+'\x20\x20float\x20xz'+'\x20=\x20x\x20*\x20z;\x0a'+'\x0a\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[3]\x20*'+'\x20(SH_C2_0\x20'+'*\x20xy)\x20*\x20\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[4]\x20*\x20(SH'+'_C2_1\x20*\x20yz'+')\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[5]\x20*\x20'+'(SH_C2_2\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[6]\x20*'+'\x20(SH_C2_3\x20'+'*\x20xz)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[7'+']\x20*\x20(SH_C2'+'_4\x20*\x20(xx\x20-'+'\x20yy));\x0a#en'+'dif\x0a\x0a#if\x20S'+'H_BANDS\x20>\x20'+'2\x0a\x20\x20\x20\x20//\x203'+'rd\x20degree\x0a'+'\x20\x20\x20\x20result'+'\x20+=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20\x20*'+'\x20(SH_C3_0\x20')+('*\x20y\x20*\x20(3.0'+'\x20*\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[9]\x20\x20'+'*\x20(SH_C3_1'+'\x20*\x20xy\x20*\x20z)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[10]\x20*\x20'+'(SH_C3_2\x20*'+'\x20y\x20*\x20(4.0\x20'+'*\x20zz\x20-\x20xx\x20'+'-\x20yy))\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'11]\x20*\x20(SH_'+'C3_3\x20*\x20z\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x203.0\x20*\x20x'+'x\x20-\x203.0\x20*\x20'+'yy))\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[12'+']\x20*\x20(SH_C3'+'_4\x20*\x20x\x20*\x20('+'4.0\x20*\x20zz\x20-'+'\x20xx\x20-\x20yy))'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[13]\x20*\x20'+'(SH_C3_5\x20*'+'\x20z\x20*\x20(xx\x20-'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20*\x20(SH_C'+'3_6\x20*\x20x\x20*\x20'+'(xx\x20-\x203.0\x20'+'*\x20yy));\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20res'+'ult\x20*\x20scal'+'e;\x0a}\x0a#endi'+'f\x0a'),hT='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'mat3\x20quatT'+'oMat3(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.x;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.y;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.w'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20')+('=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec')+('3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat'+'a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex')+('ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu'+'nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),cT='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),dT='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0a\x0a//\x20calc'+'ulate\x20the\x20'+'clip-space'+'\x20offset\x20fr'+'om\x20the\x20cen'+'ter\x20for\x20th'+'is\x20gaussia'+'n\x0abool\x20ini'+'tCorner(Sp'+'latSource\x20'+'source,\x20Sp'+'latCenter\x20'+'center,\x20ou'+'t\x20SplatCor'+'ner\x20corner'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20vec'+'3\x20covA,\x20co'+'vB;\x0a\x20\x20\x20\x20re'+'adCovarian'+'ce(source,'+'\x20covA,\x20cov'+'B);\x0a\x0a\x20\x20\x20\x20m'+'at3\x20Vrk\x20=\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20covA.x'+',\x20covA.y,\x20'+'covA.z,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.y,\x20covB.x'+',\x20covB.y,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.z,\x20covB'+'.y,\x20covB.z'+'\x0a\x20\x20\x20\x20);\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ocal\x20=\x20vie'+'wport.x\x20*\x20'+'center.pro'+'jMat00;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20camera_p'+'arams.w\x20=='+'\x201.0\x20?\x20vec'+'3(0.0,\x200.0'+',\x201.0)\x20:\x20c'+'enter.view'+'.xyz;\x0a\x20\x20\x20\x20'+'float\x20J1\x20='+'\x20focal\x20/\x20v'+'.z;\x0a\x20\x20\x20\x20ve'+'c2\x20J2\x20=\x20-J'+'1\x20/\x20v.z\x20*\x20'+'v.xy;\x0a\x20\x20\x20\x20'+'mat3\x20J\x20=\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20J1,\x200.0'+',\x20J2.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x200.0,'+'\x20J1,\x20J2.y,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x200'+'.0,\x200.0,\x200'+'.0\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'W\x20=\x20transp'+'ose(mat3(c'+'enter.mode'+'lView));\x0a\x20'+'\x20\x20\x20mat3\x20T\x20'+'=\x20W\x20*\x20J;\x0a\x20'+'\x20\x20\x20mat3\x20co'+'v\x20=\x20transp'+'ose(T)\x20*\x20V'+'rk\x20*\x20T;\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'iagonal1\x20='+'\x20cov[0][0]'+'\x20+\x200.3;\x0a\x20\x20'+'\x20\x20float\x20of'+'fDiagonal\x20'+('=\x20cov[0][1'+'];\x0a\x20\x20\x20\x20flo'+'at\x20diagona'+'l2\x20=\x20cov[1'+'][1]\x20+\x200.3'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20mid\x20=\x200'+'.5\x20*\x20(diag'+'onal1\x20+\x20di'+'agonal2);\x0a'+'\x20\x20\x20\x20float\x20'+'radius\x20=\x20l'+'ength(vec2'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20float\x20lam'+'bda1\x20=\x20mid'+'\x20+\x20radius;'+'\x0a\x20\x20\x20\x20float'+'\x20lambda2\x20='+'\x20max(mid\x20-'+'\x20radius,\x200'+'.1);\x0a\x20\x20\x20\x20i'+'f\x20(pointCl'+'oudModeEna'+'bled\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20lam'+'bda1\x20=\x20lam'+'bda2\x20=\x202.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20l'+'1\x20=\x202.0\x20*\x20'+'min(sqrt(2'+'.0\x20*\x20lambd'+'a1),\x201024.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20l2\x20=\x202'+'.0\x20*\x20min(s'+'qrt(2.0\x20*\x20'+'lambda2),\x20'+'1024.0);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20'+'\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20per'+'form\x20cull\x20'+'against\x20x/'+'y\x20axes\x0a\x20\x20\x20'+'\x20if\x20(any(g'+'reaterThan'+'(abs(cente'+'r.proj.xy)'+'\x20-\x20vec2(l1'+',\x20l2)\x20/\x20vi'+'ewport\x20*\x20c'+'enter.proj'+'.w,\x20center'+'.proj.ww))'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20f'+'alse;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'2\x20diagonal'+'Vector\x20=\x20n'+'ormalize(v'+'ec2(offDia'+'gonal,\x20lam'+'bda1\x20-\x20dia'+'gonal1));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20scale\x20=\x201'+'.0;\x0a\x20\x20\x20\x20if'+'(uSplatSca'+'le\x20>\x200.0\x20&'+'&\x20uSplatSc'+'ale\x20<=\x201.2'+'){\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale\x20=\x20u'+'SplatScale'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20vec2\x20v1\x20'+'=\x20scale\x20*\x20'+'l1\x20*\x20diago'+'nalVector;'+'\x0a\x20\x20\x20\x20vec2\x20'+'v2\x20=\x20scale'+'\x20*\x20l2\x20*\x20ve'+'c2(diagona'+'lVector.y,')+('\x20-diagonal'+'Vector.x);'+'\x0a\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20(source.'+'cornerUV.x'+'\x20*\x20v1\x20+\x20so'+'urce.corne'+'rUV.y\x20*\x20v2'+')\x20/\x20viewpo'+'rt\x20*\x20cente'+'r.proj.w;\x0a'+'\x20\x20\x20\x20corner'+'.uv\x20=\x20sour'+'ce.cornerU'+'V;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a'),uT='\x0a\x0auniform\x20'+'highp\x20usam'+'pler2D\x20tra'+'nsformA;\x0au'+'niform\x20hig'+'hp\x20sampler'+'2D\x20transfo'+'rmB;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformR;'+'\x0a\x0a#ifdef\x20I'+'S_4D\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformTS'+'peed;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'transformT'+';\x0a#endif\x0a\x0a'+'//\x20work\x20va'+'lues\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(tA.xyz);'+'\x0a}\x0a\x0amat3\x20q'+'uatToMat3('+'vec4\x20R)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'x\x20=\x20R.w;\x0a\x20'+'\x20\x20\x20float\x20y'+'\x20=\x20R.x;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20R.y;\x0a\x20\x20\x20'+'\x20float\x20w\x20='+'\x20R.z;\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x202.0'+'\x20*\x20(z\x20*\x20z\x20'+'+\x20w\x20*\x20w),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20+\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x202.0\x20*\x20(y\x20'+'*\x20w\x20-\x20x\x20*\x20'+'z),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(y\x20*\x20z'+'\x20-\x20x\x20*\x20w),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x201'+'.0\x20-\x202.0\x20*'+'\x20(y\x20*\x20y\x20+\x20'+('w\x20*\x20w),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20+\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x202'+'.0\x20*\x20(y\x20*\x20'+'w\x20+\x20x\x20*\x20z)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x202.0\x20'+'*\x20(z\x20*\x20w\x20-'+'\x20x\x20*\x20y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'y\x20*\x20y\x20+\x20z\x20'+'*\x20z)\x0a\x20\x20\x20\x20)'+';\x0a}\x0a\x0avec4\x20'+'unpackRota'+'tion(vec3\x20'+'packed)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(pack'+'ed.xyz,\x20sq'+'rt(1.0\x20-\x20d'+'ot(packed,'+'\x20packed)))'+';\x0a}\x0a\x0a//\x20sa'+'mple\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadCovaria'+'nce(in\x20Spl'+'atSource\x20s'+'ource,\x20out'+'\x20vec3\x20covA'+',\x20out\x20vec3'+'\x20covB)\x20{\x0a\x20'+'\x20\x20\x20vec4\x20tB'+'\x20=\x20texelFe'+'tch(transf'+'ormB,\x20sour'+'ce.uv,\x200);'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20tR\x20=\x20texe'+'lFetch(tra'+'nsformR,\x20s'+'ource.uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20mat3\x20rot'+'\x20=\x20quatToM'+'at3(unpack'+'Rotation(t'+'R));\x0a\x20\x20\x20\x20v'+'ec3\x20scale\x20'+'=\x20tB.xyz;\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a\x0a//\x20sampl'+'e\x204D\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadFTGSCov'+'ariance(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'covA,\x20out\x20'+'vec3\x20covB,'+'out\x20vec4\x20c'+'ovariance4'+'D)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u')+('v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormT,\x20sour'+'ce.uv,\x200).'+'xy;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20muT\x20=\x20tD'+'ata.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20tScale\x20=\x20'+'tData.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20mar'+'ginal\x20=\x20co'+'mputeMargi'+'nalT(time,'+'\x20muT,\x20tSca'+'le);\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20mar'+'ginal;\x0a}\x0a\x0a'+'vec3\x20readC'+'enter4D(Sp'+'latSource\x20'+'source,\x20fl'+'oat\x20time)\x20'+'{\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20v'+'ec3\x20splatC'+'enter\x20\x20=\x20u'+'intBitsToF'+'loat(tA.xy'+'z);\x0a\x20\x20\x20\x20#i'+'fdef\x20IS_4D'+'\x0a\x20\x20\x20\x20if(mu'+'T\x20>\x20-5.0\x20&')+('&\x20muT\x20<\x2040'+'.0){\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'vingSpeed\x20'+'=\x20texelFet'+'ch(transfo'+'rmTSpeed,\x20'+'source.uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20splatOff'+'set\x20=\x20movi'+'ngSpeed\x20*\x20'+'(time\x20-\x20mu'+'T);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20splatCen'+'ter\x20+=\x20spl'+'atOffset;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'platCenter'+';\x0a}\x0a'),fT='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',pT='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20fl'+'oat\x20id;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20uni'+'form\x20vec4\x20'+'uColor;\x0a#e'+'ndif\x0a\x0avary'+'ing\x20medium'+'p\x20vec2\x20gau'+'ssianUV;\x0av'+'arying\x20med'+'iump\x20vec4\x20'+'gaussianCo'+'lor;\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20A\x20=\x20dot('+'gaussianUV'+',\x20gaussian'+'UV);\x0a\x20\x20\x20\x20i'+'f\x20(A\x20>\x201.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20alpha\x0a'+'\x20\x20\x20\x20medium'+'p\x20float\x20al'+'pha\x20=\x20exp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+'Color.a;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20PICK_PASS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(alpha\x20<'+'\x200.3)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20uColor;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(alpha\x20<\x20'+'1.0\x20/\x20255.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dis'+'card;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20opa'+'cityDither'+'(alpha,\x20id'+'\x20*\x200.013);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(gauss'+'ianColor.x'+'yz\x20*\x20alpha'+',\x20alpha);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',mT='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),_T='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',gT='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0a\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianUV;\x0ava'+'rying\x20medi'+'ump\x20vec4\x20g'+'aussianCol'+'or;\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20float\x20mar'+'ginal\x20=\x20ge'+'tMarginalT'+'(source,\x20u'+'Time);\x0a\x20\x20\x20'+'\x20if\x20(margi'+'nal\x20<\x200.05'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20disc'+'ardVec;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ve'+'c3\x20modelCe'+'nter\x20=\x20rea'+'dCenter(so'+'urce);\x0a\x20\x20\x20'+'\x20vec3\x20mode'+'lCenter\x20=\x20'+'readCenter'+'4D(source,'+'\x20uTime);\x0a\x0a'+'\x20\x20\x20\x20SplatC'+'enter\x20cent'+'er;\x0a\x20\x20\x20\x20if'+'\x20(!initCen'+'ter(modelC'+'enter,\x20cen'+'ter))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20project\x20'+'center\x20to\x20'+'screen\x20spa'+'ce\x0a\x20\x20\x20\x20Spl'+'atCorner\x20c'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(sou'+'rce,\x20cente'+'r,\x20corner,'+'\x20pointClou'+'dModeEnabl'+'ed))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20d'+'iscardVec;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20colo'+'r\x0a\x20\x20\x20\x20vec4'+'\x20clr\x20=\x20rea'+('dColor(sou'+'rce);\x0a\x0a\x20\x20\x20'+'\x20if(margin'+'al\x20>\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.w\x20*=\x20m'+'arginal;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20spherica'+'l\x20harmonic'+'s\x0a\x20\x20\x20\x20#if\x20'+'SH_BANDS\x20>'+'\x200\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20the\x20mo'+'del-space\x20'+'view\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'ize(center'+'.view\x20*\x20ma'+'t3(center.'+'modelView)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.xyz\x20+'+'=\x20evalSH(s'+'ource,\x20dir'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20c'+'lipCorner('+'corner,\x20cl'+'r.w);\x0a\x0a\x20\x20\x20'+'\x20//\x20pointC'+'loudMode\x0a\x20'+'\x20\x20\x20if\x20(poi'+'ntCloudMod'+'eEnabled\x20='+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20write\x20ou'+'tput\x0a\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20center.'+'proj\x20+\x20vec'+'4(corner.o'+'ffset,\x200,\x20'+'0);\x0a\x20\x20\x20\x20ga'+'ussianUV\x20='+'\x20corner.uv'+';\x0a\x20\x20\x20\x20gaus'+'sianColor\x20'+'=\x20vec4(pre'+'pareOutput'+'FromGamma('+'max(clr.xy'+'z,\x200.0)),\x20'+'clr.w);\x0a\x20\x20'+'\x20\x20gaussian'+'Color\x20=\x20cl'+'amp(gaussi'+'anColor,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20id\x20=\x20fl'+'oat(source'+'.id);\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a'),yT='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0a#ifndef'+'\x20PI\x0a#defin'+'e\x20PI\x203.141'+'59265\x0a#end'+'if\x0a\x0afloat\x20'+'iridescenc'+'e_iorToFre'+'snel(float'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20incidentI'+'or)\x20/\x20(tra'+'nsmittedIo'+'r\x20+\x20incide'+'ntIor),\x202.'+'0);\x0a}\x0a\x0avec'+'3\x20iridesce'+'nce_iorToF'+'resnel(vec'+'3\x20transmit'+'tedIor,\x20fl'+'oat\x20incide'+'ntIor)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow((trans'+'mittedIor\x20'+'-\x20vec3(inc'+'identIor))'+'\x20/\x20(transm'+'ittedIor\x20+'+'\x20vec3(inci'+'dentIor)),'+'\x20vec3(2.0)'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'ToIor(vec3'+'\x20f0)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20sqrt'+'F0\x20=\x20sqrt('+'f0);\x0a\x20\x20\x20\x20r'+'eturn\x20(vec'+'3(1.0)\x20+\x20s'+'qrtF0)\x20/\x20('+'vec3(1.0)\x20'+'-\x20sqrtF0);'+'\x0a}\x0a\x0avec3\x20i'+'ridescence'+'_sensitivi'+'ty(float\x20o'+'pd,\x20vec3\x20s'+'hift)\x20{\x0a\x20\x20'+'\x20\x20float\x20ph'+'ase\x20=\x202.0\x20'+'*\x20PI\x20*\x20opd'+'\x20*\x201.0e-9;'+'\x0a\x20\x20\x20\x20const'+'\x20vec3\x20val\x20'+'=\x20vec3(5.4'+'856e-13,\x204'+'.4201e-13,'+'\x205.2481e-1'+'3);\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20p'+'os\x20=\x20vec3('+'1.6810e+06'+',\x201.7953e+'+'06,\x202.2084'+'e+06);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20var\x20=\x20ve'+'c3(4.3278e'+'+09,\x209.304'+'6e+09,\x206.6'+'121e+09);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'xyz\x20=\x20val\x20'+'*\x20sqrt(2.0'+'\x20*\x20PI\x20*\x20va'+'r)\x20*\x20cos(p'+'os\x20*\x20phase'+'\x20+\x20shift)\x20'+'*\x20exp(-pow'+'(phase,\x202.'+'0)\x20*\x20var);'+'\x0a\x20\x20\x20\x20xyz.x'+'\x20+=\x209.7470'+'e-14\x20*\x20sqr'+'t(2.0\x20*\x20PI'+'\x20*\x204.5282e'+('+09)\x20*\x20cos'+'(2.2399e+0'+'6\x20*\x20phase\x20'+'+\x20shift[0]'+')\x20*\x20exp(-4'+'.5282e+09\x20'+'*\x20pow(phas'+'e,\x202.0));\x0a'+'\x20\x20\x20\x20xyz\x20/='+'\x20vec3(1.06'+'85e-07);\x0a\x0a'+'\x20\x20\x20\x20const\x20'+'mat3\x20XYZ_T'+'O_REC709\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x203.240'+'4542,\x20-0.9'+'692660,\x20\x200'+'.0556434,\x0a'+'\x20\x20\x20\x20\x20\x20\x20-1.'+'5371385,\x20\x20'+'1.8760108,'+'\x20-0.204025'+'9,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-0.4985314'+',\x20\x200.04155'+'60,\x20\x201.057'+'2252\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20XYZ_TO'+'_REC709\x20*\x20'+'xyz;\x0a}\x0a\x0afl'+'oat\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'float\x20f0)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20clam'+'p(1.0\x20-\x20co'+'sTheta,\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20float\x20x'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20float'+'\x20x5\x20=\x20x\x20*\x20'+'x2\x20*\x20x2;\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(1.0\x20'+'-\x20f0)\x20*\x20x5'+';\x0a}\x20\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'(float\x20cos'+'Theta,\x20vec'+'3\x20f0)\x20{\x0a\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20clamp(1.'+'0\x20-\x20cosThe'+'ta,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20x2\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20float\x20x5\x20'+'=\x20x\x20*\x20x2\x20*'+'\x20x2;\x20\x0a\x20\x20\x20\x20'+'return\x20f0\x20'+'+\x20(vec3(1.'+'0)\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0ave'+'c3\x20calcIri'+'descence(f'+'loat\x20outsi'+'deIor,\x20flo'+'at\x20cosThet'+'a,\x20vec3\x20ba'+'se_f0,\x20flo'+'at\x20iridesc'+'enceThickn'+'ess)\x20{\x0a\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'or\x20=\x20mix(o'+'utsideIor,'+'\x20material_'+'iridescenc'+'eRefractio'+'nIndex,\x20sm'+'oothstep(0'+'.0,\x200.03,\x20'+'iridescenc'+'eThickness'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20sinThe'+'ta2Sq\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c')+('osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'float\x20cosT'+'heta2Sq\x20=\x20'+'1.0\x20-\x20sinT'+'heta2Sq;\x0a\x0a'+'\x20\x20\x20\x20if\x20(co'+'sTheta2Sq\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20vec3(1'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20cosTheta'+'2\x20=\x20sqrt(c'+'osTheta2Sq'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20r0\x20=\x20i'+'ridescence'+'_iorToFres'+'nel(irides'+'cenceIor,\x20'+'outsideIor'+');\x0a\x20\x20\x20\x20flo'+'at\x20r12\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta,\x20r'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20r21\x20=\x20'+'r12;\x0a\x20\x20\x20\x20f'+'loat\x20t121\x20'+'=\x201.0\x20-\x20r1'+'2;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20phi12\x20'+'=\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor\x20'+'?\x20PI\x20:\x200.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20phi21\x20=\x20'+'PI\x20-\x20phi12'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20baseIor\x20'+'=\x20iridesce'+'nce_fresne'+'lToIor(bas'+'e_f0\x20+\x20vec'+'3(0.0001))'+';\x0a\x20\x20\x20\x20vec3'+'\x20r1\x20=\x20irid'+'escence_io'+'rToFresnel'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20vec3\x20r23\x20'+'=\x20iridesce'+'nce_fresne'+'l(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ph'+'i23\x20=\x20vec3'+'(0.0);\x0a\x20\x20\x20'+'\x20if\x20(baseI'+'or[0]\x20<\x20ir'+'idescenceI'+'or)\x20phi23['+'0]\x20=\x20PI;\x0a\x20'+'\x20\x20\x20if\x20(bas'+'eIor[1]\x20<\x20'+'iridescenc'+'eIor)\x20phi2'+'3[1]\x20=\x20PI;'+'\x0a\x20\x20\x20\x20if\x20(b'+'aseIor[2]\x20'+'<\x20iridesce'+'nceIor)\x20ph'+'i23[2]\x20=\x20P'+'I;\x0a\x20\x20\x20\x20flo'+'at\x20opd\x20=\x202'+'.0\x20*\x20iride'+'scenceIor\x20'+'*\x20iridesce'+'nceThickne'+'ss\x20*\x20cosTh'+'eta2;\x0a\x20\x20\x20\x20'+'vec3\x20phi\x20='+'\x20vec3(phi2'+'1)\x20+\x20phi23'+';\x20\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20r123Sq\x20'+'=\x20clamp(r1'+'2\x20*\x20r23,\x201'+'e-5,\x200.999'+'9);\x0a\x20\x20\x20\x20ve'+'c3\x20r123\x20=\x20'+'sqrt(r123S'+'q);\x0a\x20\x20\x20\x20ve'+'c3\x20rs\x20=\x20po')+('w(t121,\x202.'+'0)\x20*\x20r23\x20/'+'\x20(1.0\x20-\x20r1'+'23Sq);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20c0\x20'+'=\x20r12\x20+\x20rs'+';\x0a\x20\x20\x20\x20vec3'+'\x20i\x20=\x20c0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20c'+'m\x20=\x20rs\x20-\x20t'+'121;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20m\x20'+'=\x201;\x20m\x20<=\x20'+'2;\x20m++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cm'+'\x20*=\x20r123;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20sm\x20=\x202.'+'0\x20*\x20irides'+'cence_sens'+'itivity(fl'+'oat(m)\x20*\x20o'+'pd,\x20float('+'m)\x20*\x20phi);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'\x20+=\x20cm\x20*\x20s'+'m;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'max(i,\x20vec'+'3(0.0));\x0a}'+'\x0a\x0avec3\x20get'+'Iridescenc'+'e(float\x20co'+'sTheta,\x20ve'+'c3\x20specula'+'rity,\x20floa'+'t\x20iridesce'+'nceThickne'+'ss)\x20{\x0a\x20\x20\x20\x20'+'return\x20cal'+'cIridescen'+'ce(1.0,\x20co'+'sTheta,\x20sp'+'ecularity,'+'\x20iridescen'+'ceThicknes'+'s);\x0a}\x0a'),xT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'iridescenc'+'e;\x0a#endif\x0a'+'\x0avoid\x20getI'+'ridescence'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPF'+'LOAT\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20materi'+'al_iridesc'+'ence;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20irides'+'cence\x20*=\x20t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+'.$CH;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dIridesc'+'ence\x20=\x20iri'+'descence;\x20'+'\x0a}\x0a',ST='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0aun'+'iform\x20floa'+'t\x20material'+'_iridescen'+'ceThicknes'+'sMin;\x0a#end'+'if\x0a\x0avoid\x20g'+'etIridesce'+'nceThickne'+'ss()\x20{\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20float\x20'+'blend\x20=\x20te'+'xture2DBia'+'s($SAMPLER'+',\x20$UV,\x20tex'+'tureBias).'+'$CH;\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceThic'+'kness\x20=\x20mi'+'x(material'+'_iridescen'+'ceThicknes'+'sMin,\x20mate'+'rial_iride'+'scenceThic'+'knessMax,\x20'+'blend);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',vT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'refraction'+'Index;\x0a#en'+'dif\x0a\x0avoid\x20'+'getIor()\x20{'+'\x0a#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20dIor\x20=\x20ma'+'terial_ref'+'ractionInd'+'ex;\x0a#else\x0a'+'\x20\x20\x20\x20dIor\x20='+'\x201.0\x20/\x201.5'+';\x0a#endif\x0a}'+'\x0a',bT='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDir,\x20'+'vec3\x20light'+'DirNorm)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20max(dot('+'worldNorma'+'l,\x20-lightD'+'irNorm),\x200'+'.0);\x0a}\x0a',wT='\x0avoid\x20getL'+'ightDirPoi'+'nt(vec3\x20li'+'ghtPosW)\x20{'+'\x0a\x20\x20\x20\x20dLigh'+'tDirW\x20=\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20normali'+'ze(dLightD'+'irW);\x0a\x20\x20\x20\x20'+'dLightPosW'+'\x20=\x20lightPo'+'sW;\x0a}\x0a',TT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20lightmap;'+'\x0a}\x0a',AT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20if\x20(do'+'t(dir,\x20dir'+')\x20<\x200.0001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20l'+'ightmap;\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20vlig'+'ht\x20=\x20satur'+'ate(dot(di'+'r,\x20-vertex'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20flight'+'\x20=\x20saturat'+'e(dot(dir,'+'\x20-worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20nlight\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20lightmap'+'\x20*\x20nlight\x20'+'*\x202.0;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20halfDir\x20='+'\x20normalize'+'(-dir\x20+\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20specularL'+'ight\x20=\x20lig'+'htmap\x20*\x20ge'+'tLightSpec'+'ular(halfD'+'ir,\x20reflec'+'tionDir,\x20w'+'orldNormal'+',\x20viewDir,'+'\x20dir,\x20glos'+'s,\x20tbn);\x0a\x0a'+'#ifdef\x20LIT'+'_SPECULAR_'+'FRESNEL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(dot'+'(viewDir,\x20'+'halfDir),\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20specula'+'rity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20);\x0a#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),ET='\x0auniform\x20s'+'ampler2D\x20t'+'exture_lig'+'htMap;\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_dirLigh'+'tMap;\x0a\x0avoi'+'d\x20getLight'+'Map()\x20{\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20=\x20$DECOD'+'E(texture2'+'DBias(text'+'ure_lightM'+'ap,\x20$UV,\x20t'+'extureBias'+')).$CH;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20textur'+'e2DBias(te'+'xture_dirL'+'ightMap,\x20$'+'UV,\x20textur'+'eBias).xyz'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20dirDot'+'\x20=\x20dot(dir'+',\x20dir);\x0a\x20\x20'+'\x20\x20dLightma'+'pDir\x20=\x20(di'+'rDot\x20>\x200.0'+'01)\x20?\x20dir\x20'+'/\x20sqrt(dir'+'Dot)\x20:\x20vec'+'3(0.0);\x0a}\x0a',CT='\x0avoid\x20getL'+'ightMap()\x20'+'{\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20dLig'+'htmap\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.$VC'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',MT='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'material_a'+'nisotropy\x20'+'*\x20roughnes'+'s;\x0a\x20\x0a\x20\x20\x20\x20f'+'loat\x20at\x20=\x20'+'max((rough'+'ness\x20+\x20ani'+'sotropy),\x20'+'roughness\x20'+'/\x204.0);\x0a\x20\x20'+'\x20\x20float\x20ab'+'\x20=\x20max((ro'+'ughness\x20-\x20'+'anisotropy'+'),\x20roughne'+'ss\x20/\x204.0);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20NoH\x20=\x20do'+'t(worldNor'+'mal,\x20h);\x0a\x20'+'\x20\x20\x20float\x20T'+'oH\x20=\x20dot(t'+'bn[0],\x20h);'+'\x0a\x20\x20\x20\x20float'+'\x20BoH\x20=\x20dot'+'(tbn[1],\x20h'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20a2\x20=\x20a'+'t\x20*\x20ab;\x0a\x20\x20'+'\x20\x20vec3\x20v\x20='+'\x20vec3(ab\x20*'+'\x20ToH,\x20at\x20*'+'\x20BoH,\x20a2\x20*'+'\x20NoH);\x0a\x20\x20\x20'+'\x20float\x20v2\x20'+'=\x20dot(v,\x20v'+');\x0a\x20\x20\x20\x20flo'+'at\x20w2\x20=\x20a2'+'\x20/\x20v2;\x0a\x20\x20\x20'+'\x20float\x20D\x20='+'\x20a2\x20*\x20w2\x20*'+'\x20w2\x20*\x20(1.0'+'\x20/\x20PI);\x0a\x0a\x20'+'\x20\x20\x20float\x20T'+'oV\x20=\x20dot(t'+'bn[0],\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20float\x20BoV'+'\x20=\x20dot(tbn'+'[1],\x20viewD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20ToL\x20='+'\x20dot(tbn[0'+'],\x20-lightD'+'irNorm);\x0a\x20'+'\x20\x20\x20float\x20B'+'oL\x20=\x20dot(t'+'bn[1],\x20-li'+'ghtDirNorm'+');\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20NoL\x20'+'=\x20dot(worl'+'dNormal,\x20-'+'lightDirNo'+'rm);\x0a\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daV\x20=\x20NoL\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oV,\x20ab\x20*\x20B'+'oV,\x20NoV));'+('\x0a\x20\x20\x20\x20float'+'\x20lambdaL\x20='+'\x20NoV\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToL,\x20a'+'b\x20*\x20BoL,\x20N'+'oL));\x0a\x20\x20\x20\x20'+'float\x20G\x20=\x20'+'0.5\x20/\x20(lam'+'bdaV\x20+\x20lam'+'bdaL);\x0a\x0a\x20\x20'+'\x20\x20return\x20D'+'\x20*\x20G;\x0a}\x0a\x0af'+'loat\x20getLi'+'ghtSpecula'+'r(vec3\x20h,\x20'+'vec3\x20reflD'+'ir,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDirN'+'orm,\x20float'+'\x20gloss,\x20ma'+'t3\x20tbn)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20calcLight'+'Specular(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir,\x20h,'+'\x20lightDirN'+'orm,\x20tbn);'+'\x0a}\x0a'),PT='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',RT='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',IT='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'h(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a#def'+'ine\x20CAMERA'+'PLANES\x0auni'+'form\x20vec4\x20'+'camera_par'+'ams;\x20//\x20x:'+'\x201\x20/\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20\x20y:\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20z:\x20camera'+'_near,\x20\x20\x20\x20'+'\x20\x20\x20\x20w:\x20is_'+'ortho\x0a#end'+'if\x0a\x0afloat\x20'+'linearizeD'+'epth(float'+'\x20z)\x20{\x0a\x20\x20\x20\x20'+'return\x20lin'+'earizeDept'+'h(z,\x20camer'+'a_params);'+'\x0a}\x0a#endif\x0a',DT='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LT='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avec2\x20ccL'+'TCUV;\x0a#end'+'if\x0avec2\x20ge'+'tLTCLightU'+'V(float\x20gl'+'oss,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x0a{\x0a\x20'+'\x20\x20\x20float\x20r'+'oughness\x20='+'\x20max((1.0\x20'+'-\x20gloss)\x20*'+'\x20(1.0\x20-\x20gl'+'oss),\x200.00'+'1);\x0a\x20\x20\x20\x20re'+'turn\x20LTC_U'+'v(\x20worldNo'+'rmal,\x20view'+'Dir,\x20rough'+'ness\x20);\x0a}\x0a'+'\x0a//used\x20fo'+'r\x20energy\x20c'+'onservatio'+'n\x20and\x20to\x20m'+'odulate\x20sp'+'ecular\x0avec'+'3\x20dLTCSpec'+'Fres;\x0a#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0avec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0avec3\x20g'+'etLTCLight'+'SpecFres(v')+('ec2\x20uv,\x20ve'+'c3\x20specula'+'rity)\x0a{\x0a\x20\x20'+'\x20\x20vec4\x20t2\x20'+'=\x20texture2'+'DLod(areaL'+'ightsLutTe'+'x2,\x20uv,\x200.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20specu'+'larity\x20*\x20t'+'2.x\x20+\x20(\x20ve'+'c3(\x201.0\x20)\x20'+'-\x20specular'+'ity)\x20*\x20t2.'+'y;\x0a}\x0a\x0avoid'+'\x20calcLTCLi'+'ghtValues('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'specularit'+'y,\x20float\x20c'+'learcoatGl'+'oss,\x20vec3\x20'+'clearcoatW'+'orldNormal'+',\x20float\x20cl'+'earcoatSpe'+'cularity)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'UV\x20=\x20getLT'+'CLightUV(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20dLTCSpe'+'cFres\x20=\x20ge'+'tLTCLightS'+'pecFres(dL'+'TCUV,\x20spec'+'ularity);\x20'+'\x0a\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20ccL'+'TCUV\x20=\x20get'+'LTCLightUV'+'(clearcoat'+'Gloss,\x20cle'+'arcoatWorl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20ccLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(c'+'cLTCUV,\x20ve'+'c3(clearco'+'atSpecular'+'ity));\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20calcRect'+'LightValue'+'s(vec3\x20lig'+'htPos,\x20vec'+'3\x20halfWidt'+'h,\x20vec3\x20ha'+'lfHeight)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'Coords\x20=\x20g'+'etLTCLight'+'Coords(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0avoid\x20ca'+'lcDiskLigh'+'tValues(ve'+'c3\x20lightPo'+'s,\x20vec3\x20ha'+'lfWidth,\x20v'+'ec3\x20halfHe'+'ight)\x0a{\x0a\x20\x20'+'\x20\x20calcRect'+'LightValue'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0avo'+'id\x20calcSph'+'ereLightVa'+'lues(vec3\x20'+'lightPos,\x20'+'vec3\x20halfW'+'idth,\x20vec3'+'\x20halfHeigh'+'t)\x0a{\x0a\x20\x20\x20\x20d'+'LTCCoords\x20')+('=\x20getSpher'+'eLightCoor'+'ds(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0a\x0a'+'//\x20An\x20exte'+'nded\x20versi'+'on\x20of\x20the\x20'+'implementa'+'tion\x20from\x0a'+'//\x20\x22How\x20to'+'\x20solve\x20a\x20c'+'ubic\x20equat'+'ion,\x20revis'+'ited\x22\x0a//\x20h'+'ttp://mome'+'ntsingraph'+'ics.de/?p='+'105\x0avec3\x20S'+'olveCubic('+'vec4\x20Coeff'+'icient)\x0a{\x0a'+'\x20\x20\x20\x20float\x20'+'pi\x20=\x203.141'+'59;\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t.xyz\x20/=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20//'+'\x20Divide\x20mi'+'ddle\x20coeff'+'icients\x20by'+'\x20three\x0a\x20\x20\x20'+'\x20Coefficie'+'nt.yz\x20/=\x203'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20A\x20=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20fl'+'oat\x20B\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20C\x20=\x20Coe'+'fficient.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20D\x20=\x20Coef'+'ficient.x;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20Hessian\x20a'+'nd\x20the\x20dis'+'criminant\x0a'+'\x20\x20\x20\x20vec3\x20D'+'elta\x20=\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-Coeffici'+'ent.z\x20*\x20Co'+'efficient.'+'z\x20+\x20Coeffi'+'cient.y,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-Co'+'efficient.'+'y\x20*\x20Coeffi'+'cient.z\x20+\x20'+'Coefficien'+'t.x,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dot(vec'+'2(Coeffici'+'ent.z,\x20-Co'+'efficient.'+'y),\x20Coeffi'+'cient.xy)\x0a'+'\x20\x20\x20\x20);\x0a\x0a\x20\x20'+'\x20\x20float\x20Di'+'scriminant'+'\x20=\x20dot(vec'+'2(4.0\x20*\x20De'+'lta.x,\x20-De'+'lta.y),\x20De'+'lta.zy);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20R'+'ootsA,\x20Roo'+'tsD;\x0a\x0a\x20\x20\x20\x20'+'vec2\x20xlc,\x20'+'xsc;\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20A\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_a\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_a\x20=\x20Delt'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_a\x20=\x20-2.0\x20'+'*\x20B\x20*\x20Delt')+('a.x\x20+\x20Delt'+'a.y;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Tak'+'e\x20the\x20cubi'+'c\x20root\x20of\x20'+'a\x20normaliz'+'ed\x20complex'+'\x20number\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20Theta\x20=\x20'+'atan(sqrt('+'Discrimina'+'nt),\x20-D_a)'+'\x20/\x203.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_1a\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_a)\x20*\x20c'+'os(Theta);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_3a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20xl;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20((x_1a\x20+'+'\x20x_3a)\x20>\x202'+'.0\x20*\x20B)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xl\x20=\x20x_1a;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xl\x20='+'\x20x_3a;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xlc\x20'+'=\x20vec2(xl\x20'+'-\x20B,\x20A);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20D\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_d\x20='+'\x20D;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20C_'+'d\x20=\x20Delta.'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20D_d'+'\x20=\x20-D\x20*\x20De'+'lta.y\x20+\x202.'+'0\x20*\x20C\x20*\x20De'+'lta.z;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(D\x20*'+'\x20sqrt(Disc'+'riminant),'+'\x20-D_d)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'_1d\x20=\x202.0\x20'+'*\x20sqrt(-C_'+'d)\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_3d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta\x20+\x20('+'2.0\x20/\x203.0)'+'\x20*\x20pi);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20xs;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(x'+'_1d\x20+\x20x_3d'+'\x20<\x202.0\x20*\x20C'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20xs\x20=\x20x'+'_1d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xs\x20=\x20x_3d;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xsc\x20=\x20vec2'+'(-D,\x20xs\x20+\x20'+'C);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20E\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20float'+'\x20F\x20=\x20-xlc.')+('x\x20*\x20xsc.y\x20'+'-\x20xlc.y\x20*\x20'+'xsc.x;\x0a\x20\x20\x20'+'\x20float\x20G\x20='+'\x20\x20xlc.x\x20*\x20'+'xsc.x;\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xmc'+'\x20=\x20vec2(C\x20'+'*\x20F\x20-\x20B\x20*\x20'+'G,\x20-B\x20*\x20F\x20'+'+\x20C\x20*\x20E);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'Root\x20=\x20vec'+'3(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.yxz'+';\x0a\x20\x20\x20\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20R'+'oot.xyz\x20=\x20'+'Root.xzy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20Root;\x0a}\x0a'+'\x0afloat\x20LTC'+'_EvaluateD'+'isk(vec3\x20N'+',\x20vec3\x20V,\x20'+'vec3\x20P,\x20ma'+'t3\x20Minv,\x20C'+'oords\x20poin'+'ts)\x0a{\x0a\x20\x20\x20\x20'+'//\x20constru'+'ct\x20orthono'+'rmal\x20basis'+'\x20around\x20N\x0a'+'\x20\x20\x20\x20vec3\x20T'+'1,\x20T2;\x0a\x20\x20\x20'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'T2\x20=\x20cross'+'(N,\x20T1);\x0a\x0a'+'\x20\x20\x20\x20//\x20rot'+'ate\x20area\x20l'+'ight\x20in\x20(T'+'1,\x20T2,\x20N)\x20'+'basis\x0a\x20\x20\x20\x20'+'//mat3\x20R\x20='+'\x20transpose'+'(mat3(T1,\x20'+'T2,\x20N));\x0a\x20'+'\x20\x20\x20mat3\x20R\x20'+'=\x20transpos'+'eMat3(\x20mat'+'3(\x20T1,\x20T2,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20//\x20polyg'+'on\x20(alloca'+'te\x205\x20verti'+'ces\x20for\x20cl'+'ipping)\x0a\x20\x20'+'\x20\x20vec3\x20L_['+'\x203\x20];\x0a\x20\x20\x20\x20'+'L_[\x200\x20]\x20=\x20'+'R\x20*\x20(\x20poin'+'ts.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20L_[\x201\x20]\x20='+'\x20R\x20*\x20(\x20poi'+'nts.coord1'+'\x20-\x20P\x20);\x0a\x20\x20'+'\x20\x20L_[\x202\x20]\x20'+'=\x20R\x20*\x20(\x20po'+'ints.coord'+'2\x20-\x20P\x20);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20L'+'o_i\x20=\x20vec3'+'(0);\x0a\x0a\x20\x20\x20\x20'+'//\x20init\x20el'+'lipse\x0a\x20\x20\x20\x20'+'vec3\x20C\x20\x20=\x20'+'0.5\x20*\x20(L_['+'0]\x20+\x20L_[2]'+');\x0a\x20\x20\x20\x20vec'+'3\x20V1\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[2]);\x0a')+('\x20\x20\x20\x20vec3\x20V'+'2\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[0]);\x0a\x0a\x20\x20'+'\x20\x20C\x20\x20=\x20Min'+'v\x20*\x20C;\x0a\x20\x20\x20'+'\x20V1\x20=\x20Minv'+'\x20*\x20V1;\x0a\x20\x20\x20'+'\x20V2\x20=\x20Minv'+'\x20*\x20V2;\x0a\x0a\x20\x20'+'\x20\x20//if(dot'+'(cross(V1,'+'\x20V2),\x20C)\x20>'+'\x200.0)\x0a\x20\x20\x20\x20'+'//\x20\x20\x20\x20retu'+'rn\x200.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20float\x20a,'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20d11\x20=\x20'+'dot(V1,\x20V1'+');\x0a\x20\x20\x20\x20flo'+'at\x20d22\x20=\x20d'+'ot(V2,\x20V2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d12\x20=\x20do'+'t(V1,\x20V2);'+'\x0a\x20\x20\x20\x20if\x20(a'+'bs(d12)\x20/\x20'+'sqrt(d11\x20*'+'\x20d22)\x20>\x200.'+'0001)\x0a\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20tr\x20='+'\x20d11\x20+\x20d22'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20det\x20'+'=\x20-d12\x20*\x20d'+'12\x20+\x20d11\x20*'+'\x20d22;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20us'+'e\x20sqrt\x20mat'+'rix\x20to\x20sol'+'ve\x20for\x20eig'+'envalues\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20det'+'\x20=\x20sqrt(de'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x200.5\x20*\x20sq'+'rt(tr\x20-\x202.'+'0\x20*\x20det);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x200.'+'5\x20*\x20sqrt(t'+'r\x20+\x202.0\x20*\x20'+'det);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_max\x20=\x20(u'+'\x20+\x20v)\x20*\x20(u'+'\x20+\x20v);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20e_min\x20=\x20('+'u\x20-\x20v)\x20*\x20('+'u\x20-\x20v);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20V1_,\x20V2_'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(d11\x20>'+'\x20d22)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12\x20*\x20'+'V1\x20+\x20(e_ma'+'x\x20-\x20d11)\x20*'+'\x20V2;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V2_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_min'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20V'+'1_\x20=\x20d12*V'+'2\x20+\x20(e_max'+'\x20-\x20d22)*V1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20V2_\x20=\x20'+'d12*V2\x20+\x20('+'e_min\x20-\x20d2'+'2)*V1;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20a\x20=\x20'+'1.0\x20/\x20e_ma'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20b\x20=\x201.0\x20/'+'\x20e_min;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20='+'\x20normalize'+'(V1_);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V2\x20=\x20'+'normalize('+'V2_);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1,\x20V1);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2,\x20V2);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'*=\x20sqrt(a)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'V2\x20*=\x20sqrt'+'(b);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20V3\x20=\x20norm'+'alize(cros'+'s(V1,\x20V2))'+';\x0a\x20\x20\x20\x20if\x20('+'dot(C,\x20V3)'+'\x20<\x200.0)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V3\x20*'+'=\x20-1.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20L'+'\x20\x20=\x20dot(V3'+',\x20C);\x0a\x20\x20\x20\x20'+'float\x20x0\x20='+'\x20dot(V1,\x20C'+')\x20/\x20L;\x0a\x20\x20\x20'+'\x20float\x20y0\x20'+'=\x20dot(V2,\x20'+'C)\x20/\x20L;\x0a\x0a\x20'+'\x20\x20\x20float\x20E'+'1\x20=\x20invers'+'esqrt(a);\x0a'+'\x20\x20\x20\x20float\x20'+'E2\x20=\x20inver'+'sesqrt(b);'+'\x0a\x0a\x20\x20\x20\x20a\x20*='+'\x20L\x20*\x20L;\x0a\x20\x20'+'\x20\x20b\x20*=\x20L\x20*'+'\x20L;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x0a\x20\x20\x20'+'\x20float\x20c1\x20'+'=\x20a\x20*\x20b\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0\x20+\x20y0\x20'+'*\x20y0)\x20-\x20a\x20'+'-\x20b;\x0a\x20\x20\x20\x20f'+'loat\x20c2\x20=\x20'+'1.0\x20-\x20a\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0)\x20-\x20b\x20'+'*\x20(1.0\x20+\x20y'+'0\x20*\x20y0);\x0a\x20'+'\x20\x20\x20float\x20c'+'3\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oots\x20=\x20Sol'+'veCubic(ve'+'c4(c0,\x20c1,'+'\x20c2,\x20c3));'+'\x0a\x20\x20\x20\x20float'+'\x20e1\x20=\x20root'+'s.x;\x0a\x20\x20\x20\x20f'+'loat\x20e2\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20float\x20e'+'3\x20=\x20roots.'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20avgDir\x20'+'=\x20vec3(a\x20*'+'\x20x0\x20/\x20(a\x20-'+'\x20e2),\x20b\x20*\x20'+'y0\x20/\x20(b\x20-\x20'+'e2),\x201.0);'+'\x0a\x0a\x20\x20\x20\x20mat3'+'\x20rotate\x20=\x20'+'mat3(V1,\x20V'+'2,\x20V3);\x0a\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20rotate\x20*'+'\x20avgDir;\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20normaliz'+'e(avgDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20L1\x20=\x20sqr'+'t(-e2\x20/\x20e3'+');\x0a\x20\x20\x20\x20flo'+'at\x20L2\x20=\x20sq'+'rt(-e2\x20/\x20e')+('1);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20formF'+'actor\x20=\x20ma'+'x(0.0,\x20L1\x20'+'*\x20L2\x20*\x20inv'+'ersesqrt(('+'1.0\x20+\x20L1\x20*'+'\x20L1)\x20*\x20(1.'+'0\x20+\x20L2\x20*\x20L'+'2)));\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20const'+'\x20float\x20LUT'+'_SIZE\x20=\x2064'+'.0;\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'LUT_SCALE\x20'+'=\x20(\x20LUT_SI'+'ZE\x20-\x201.0\x20)'+'\x20/\x20LUT_SIZ'+'E;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_BIAS\x20=\x20'+'0.5\x20/\x20LUT_'+'SIZE;\x0a\x0a\x20\x20\x20'+'\x20//\x20use\x20ta'+'bulated\x20ho'+'rizon-clip'+'ped\x20sphere'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20vec2('+'avgDir.z\x20*'+'\x200.5\x20+\x200.5'+',\x20formFact'+'or);\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv*LUT'+'_SCALE\x20+\x20L'+'UT_BIAS;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'scale\x20=\x20te'+'xture2DLod'+'(areaLight'+'sLutTex2,\x20'+'uv,\x200.0).w'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20formFa'+'ctor*scale'+';\x0a}\x0a\x0afloat'+'\x20getRectLi'+'ghtDiffuse'+'(vec3\x20worl'+'dNormal,\x20v'+'ec3\x20viewDi'+'r,\x20vec3\x20li'+'ghtDir,\x20ve'+'c3\x20lightDi'+'rNorm)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Evalua'+'teRect(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'vPositionW'+',\x20mat3(\x201.'+'0\x20),\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Diffuse(ve'+'c3\x20worldNo'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'at3(\x201.0\x20)'+',\x20dLTCCoor'+'ds\x20);\x0a}\x0a\x0af'+'loat\x20getSp'+'hereLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20/'+'/\x20NB:\x20this'+'\x20could\x20be\x20'+'improved\x20f'+'urther\x20wit'+'h\x20distance'+'\x20based\x20wra')+('p\x20lighting'+'\x0a\x20\x20\x20\x20float'+'\x20falloff\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20l'+'ightDir,\x20l'+'ightDirNor'+'m)\x20*\x20fallo'+'ff;\x0a}\x0a\x0amat'+'3\x20getLTCLi'+'ghtInvMat('+'vec2\x20uv)\x0a{'+'\x0a\x20\x20\x20\x20vec4\x20'+'t1\x20=\x20textu'+'re2DLod(ar'+'eaLightsLu'+'tTex1,\x20uv,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3(\x20t'+'1.x,\x200,\x20t1'+'.y\x20),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3(\x20'+'\x20\x20\x200,\x201,\x20\x20'+'\x20\x200\x20),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3('+'\x20t1.z,\x200,\x20'+'t1.w\x20)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0aflo'+'at\x20calcRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir,\x20vec'+'2\x20uv)\x20{\x0a\x20\x20'+'\x20\x20mat3\x20mIn'+'v\x20=\x20getLTC'+'LightInvMa'+'t(uv);\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'mInv,\x20dLTC'+'Coords\x20);\x0a'+'}\x0a\x0afloat\x20g'+'etRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20calcR'+'ectLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LTCUV);\x0a}\x0a'+'\x0afloat\x20cal'+'cDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec2\x20uv)\x20'+'{\x0a\x20\x20\x20\x20mat3'+'\x20mInv\x20=\x20ge'+'tLTCLightI'+'nvMat(uv);'+'\x0a\x20\x20\x20\x20retur'+'n\x20LTC_Eval'+'uateDisk(\x20'+'worldNorma'+'l,\x20viewDir'+',\x20vPositio'+'nW,\x20mInv,\x20'+'dLTCCoords'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular')+('(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a\x0afloat'+'\x20getSphere'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular'+'(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a'),FT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'metalness;'+'\x0a#endif\x0a\x0av'+'oid\x20getMet'+'alness()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20metalness'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPFLOAT\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20mate'+'rial_metal'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20metaln'+'ess\x20*=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'VERTEX\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dM'+'etalness\x20='+'\x20metalness'+';\x0a}\x0a',OT='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifdef\x20'+'UNIFORM_TE'+'XT_PARAMET'+'ERS\x0aunifor'+'m\x20vec4\x20out'+'line_color'+';\x0auniform\x20'+'float\x20outl'+'ine_thickn'+'ess;\x0aunifo'+'rm\x20vec4\x20sh'+'adow_color'+';\x0auniform\x20'+'vec2\x20shado'+'w_offset;\x0a'+'#else\x0avary'+'ing\x20vec4\x20o'+'utline_col'+'or;\x0avaryin'+'g\x20float\x20ou'+'tline_thic'+'kness;\x0avar'+'ying\x20vec4\x20'+'shadow_col'+'or;\x0avaryin'+'g\x20vec2\x20sha'+'dow_offset'+';\x0a#endif\x0a\x0a'+'vec4\x20apply'+'Msdf(vec4\x20'+'color)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20Con'+'vert\x20to\x20li'+'near\x20space'+'\x20before\x20pr'+'ocessing\x0a\x20'+'\x20\x20\x20//\x20TODO'+':\x20ideally\x20'+'this\x20would'+'\x20receive\x20t'+'he\x20color\x20i'+'n\x20linear\x20s'+'pace,\x20but\x20'+'that\x20would'+'\x20require\x20l'+'arger\x20chan'+'ges\x0a\x20\x20\x20\x20//'+'\x20on\x20the\x20en'+'gine\x20side,'+'\x20with\x20the\x20'+('way\x20premul'+'tiplied\x20al'+'pha\x20is\x20han'+'dled\x20as\x20we'+'ll.\x0a\x20\x20\x20\x20co'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctInput(co'+'lor.rgb);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20the\x20f'+'ield\x0a\x20\x20\x20\x20v'+'ec3\x20tsampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20vUv0).rgb'+';\x0a\x20\x20\x20\x20vec2'+'\x20uvShdw\x20=\x20'+'vUv0\x20-\x20sha'+'dow_offset'+';\x0a\x20\x20\x20\x20vec3'+'\x20ssample\x20='+'\x20texture2D'+'(texture_m'+'sdfMap,\x20uv'+'Shdw).rgb;'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20the\x20sign'+'ed\x20distanc'+'e\x20value\x0a\x20\x20'+'\x20\x20float\x20si'+'gDist\x20=\x20me'+'dian(tsamp'+'le.r,\x20tsam'+'ple.g,\x20tsa'+'mple.b);\x0a\x20'+'\x20\x20\x20float\x20s'+'igDistShdw'+'\x20=\x20median('+'ssample.r,'+'\x20ssample.g'+',\x20ssample.'+'b);\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20limit\x20-\x20'+'smaller\x20va'+'lue\x20makes\x20'+'for\x20sharpe'+'r\x20but\x20more'+'\x20aliased\x20t'+'ext,\x20espec'+'ially\x20on\x20a'+'ngles\x0a\x20\x20\x20\x20'+'//\x20too\x20lar'+'ge\x20value\x20('+'0.5)\x20creat'+'es\x20a\x20dark\x20'+'glow\x20aroun'+'d\x20the\x20lett'+'ers\x0a\x20\x20\x20\x20fl'+'oat\x20smooth'+'ingMax\x20=\x200'+'.2;\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20depends\x20'+'on\x20size\x20of'+'\x20texture\x20o'+'n\x20screen\x0a\x20'+'\x20\x20\x20vec2\x20w\x20'+'=\x20fwidth(v'+'Uv0);\x0a\x20\x20\x20\x20'+'float\x20smoo'+'thing\x20=\x20cl'+'amp(w.x\x20*\x20'+'font_textu'+'reWidth\x20/\x20'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mapMi'+'n\x20=\x200.05;\x0a'+'\x20\x20\x20\x20float\x20'+'mapMax\x20=\x20c'+'lamp(1.0\x20-'+'\x20font_sdfI'+'ntensity,\x20'+'mapMin,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20remap\x20to'+'\x20a\x20smaller'+'\x20range\x20(us'+'ed\x20on\x20smal'+'ler\x20font\x20s'+'izes)\x0a\x20\x20\x20\x20'+'float\x20sigD'+'istInner\x20='+'\x20map(mapMi'+'n,\x20mapMax,')+('\x20sigDist);'+'\x0a\x20\x20\x20\x20float'+'\x20sigDistOu'+'tline\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'kness);\x0a\x20\x20'+'\x20\x20sigDistS'+'hdw\x20=\x20map('+'mapMin,\x20ma'+'pMax,\x20sigD'+'istShdw\x20+\x20'+'outline_th'+'ickness);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20center\x20=\x20'+'0.5;\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20smoothin'+'g\x20and\x20use\x20'+'to\x20generat'+'e\x20opacity\x0a'+'\x20\x20\x20\x20float\x20'+'inside\x20=\x20s'+'moothstep('+'center-smo'+'othing,\x20ce'+'nter+smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20float'+'\x20outline\x20='+'\x20smoothste'+'p(center-s'+'moothing,\x20'+'center+smo'+'othing,\x20si'+'gDistOutli'+'ne);\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'w\x20=\x20smooth'+'step(cente'+'r-smoothin'+'g,\x20center+'+'smoothing,'+'\x20sigDistSh'+'dw);\x0a\x0a\x20\x20\x20\x20'+'vec4\x20tcolo'+'r\x20=\x20(outli'+'ne\x20>\x20insid'+'e)\x20?\x20outli'+'ne\x20*\x20vec4('+'outline_co'+'lor.a\x20*\x20ou'+'tline_colo'+'r.rgb,\x20out'+'line_color'+'.a)\x20:\x20vec4'+'(0.0);\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(tcolor'+',\x20color,\x20i'+'nside);\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'olor\x20=\x20(sh'+'adow\x20>\x20out'+'line)\x20?\x20sh'+'adow\x20*\x20vec'+'4(shadow_c'+'olor.a\x20*\x20s'+'hadow_colo'+'r.rgb,\x20sha'+'dow_color.'+'a)\x20:\x20tcolo'+'r;\x0a\x20\x20\x20\x20tco'+'lor\x20=\x20mix('+'scolor,\x20tc'+'olor,\x20outl'+'ine);\x0a\x0a\x20\x20\x20'+'\x20//\x20Conver'+'t\x20back\x20to\x20'+'gamma\x20spac'+'e\x20before\x20r'+'eturning\x0a\x20'+'\x20\x20\x20tcolor.'+'rgb\x20=\x20gamm'+'aCorrectOu'+'tput(tcolo'+'r.rgb);\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),kT='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',BT='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',NT='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',zT='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0a#ifdef\x20'+'MORPHING_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_INT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20morphNo'+'rmalTex;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20morphNorm'+'alTex;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0avec3'+'\x20getLocalN'+'ormal(vec3'+'\x20vertexNor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20loc'+'alNormal\x20='+'\x20vertex_no'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20m'+'orphUV\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'MORPHING_I'+'NT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'morphNorma'+'l\x20=\x20vec3(t'+'exelFetch('+'morphNorma'+'lTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20morphN'+'ormal\x20=\x20te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localNo'+'rmal\x20+=\x20mo'+'rphNormal;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Normal;\x0a}\x0a'+'\x0a#ifdef\x20SK'+'IN\x0a\x20\x20\x20\x20mat'+'3\x20getNorma'+'lMatrix(ma'+'t4\x20modelMa'+'trix)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3(mo'+'delMatrix['+'0].xyz,\x20mo'+'delMatrix['+'1].xyz,\x20mo'+'delMatrix['+'2].xyz);\x0a\x20'+'\x20\x20\x20}\x0a#elif'+'\x20defined(I'+'NSTANCING)'+'\x0a\x20\x20\x20\x20mat3\x20'+'getNormalM'+'atrix(mat4'+'\x20modelMatr'+'ix)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20mat3(mode'+'lMatrix[0]'+'.xyz,\x20mode'+'lMatrix[1]'+'.xyz,\x20mode'+'lMatrix[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20}\x0a#else\x0a\x20'+('\x20\x20\x20mat3\x20ge'+'tNormalMat'+'rix(mat4\x20m'+'odelMatrix'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),UT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0av'+'ec3\x20blendN'+'ormals(vec'+'3\x20n1,\x20vec3'+'\x20n2)\x20{\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20n1\x20+='+'\x20vec3(0,\x200'+',\x201);\x0a\x20\x20\x20\x20'+'n2\x20*=\x20vec3'+'(-1,\x20-1,\x201'+');\x0a\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a}\x0a#end'+'if\x0a\x0avec3\x20a'+'ddNormalDe'+'tail(vec3\x20'+'normalMap)'+'\x20{\x0a#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20vec3\x20'+'normalDeta'+'ilMap\x20=\x20un'+'packNormal'+'(texture2D'+'Bias($SAMP'+'LER,\x20$UV,\x20'+'textureBia'+'s));\x0a\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20r'+'eturn\x20blen'+'dNormals(n'+'ormalMap,\x20'+'normalDeta'+'ilMap);\x0a#e'+'lse\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lMap;\x0a#end'+'if\x0a}\x0a',VT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_bumpines'+'s;\x0a#endif\x0a'+'\x0avoid\x20getN'+'ormal()\x20{\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20vec3\x20nor'+'malMap\x20=\x20u'+'npackNorma'+'l(texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as));\x0a\x20\x20\x20\x20'+'normalMap\x20'+'=\x20mix(vec3'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malMap,\x20ma'+'terial_bum'+'piness);\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20addNormal'+'Detail(nor'+'malMap));\x0a'+'#else\x0a\x20\x20\x20\x20'+'dNormalW\x20='+'\x20dVertexNo'+'rmalW;\x0a#en'+'dif\x0a}\x0a',GT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20normal;\x0a\x20'+'\x20\x20\x20normal.'+'xy\x20=\x20nmap.'+'wy\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'normal.z\x20='+'\x20sqrt(1.0\x20'+'-\x20saturate'+'(dot(norma'+'l.xy,\x20norm'+'al.xy)));\x0a'+'\x20\x20\x20\x20return'+'\x20normal;\x0a}'+'\x0a',HT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20nmap.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a}\x0a',WT='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20dAlpha\x20*'+'=\x20texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as).$CH;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPVERTE'+'X\x0a\x20\x20\x20\x20dAlp'+'ha\x20*=\x20clam'+'p(vVertexC'+'olor.$VC,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',$T='\x0a\x0auniform\x20'+'vec4\x20blueN'+'oiseJitter'+';\x0a\x0a#ifdef\x20'+'DITHER_BLU'+'ENOISE\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20b'+'lueNoiseTe'+'x32;\x0a#endi'+'f\x0a\x0avoid\x20op'+'acityDithe'+'r(float\x20al'+'pha,\x20float'+'\x20id)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20DI'+'THER_BAYER'+'8\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20bayer'+'8(floor(mo'+'d(gl_FragC'+'oord.xy\x20+\x20'+'blueNoiseJ'+'itter.xy\x20+'+'\x20id,\x208.0))'+')\x20/\x2064.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20DIT'+'HER_BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20DITHER_IG'+'NNOISE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20https://w'+'ww.iryoku.'+'com/next-g'+'eneration-'+'post-proce'+'ssing-in-c'+'all-of-dut'+'y-advanced'+'-warfare/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20mag'+'ic\x20=\x20vec3('+'0.06711056'+',\x200.005837'+'15,\x2052.982'+'9189);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20fract(m'+'agic.z\x20*\x20f'+'ract(dot(g'+'l_FragCoor'+'d.xy\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+',\x20magic.xy'+')));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'convert\x20th'+'e\x20noise\x20to'+'\x20linear\x20sp'+'ace,\x20as\x20th'+'at\x20is\x20spec'+'ified\x20in\x20s'+'RGB\x20space\x20'+'(stores\x20pe'+'rceptual\x20v'+'alues)\x0a\x20\x20\x20'+'\x20noise\x20=\x20p'+'ow(noise,\x20'+'2.2);\x0a\x0a\x20\x20\x20'+'\x20if\x20(alpha'+'\x20<\x20noise)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a}\x0a',qT='\x0a',XT='\x0agl_FragCo'+'lor.a\x20=\x20li'+'tArgs_opac'+'ity;\x0a',jT='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x201.0;\x0a',YT='\x0agl_FragCo'+'lor.rgb\x20*='+'\x20litArgs_o'+'pacity;\x0agl'+'_FragColor'+'.a\x20=\x20litAr'+'gs_opacity'+';\x0a',KT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',ZT='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20sheen'+'Color\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sSpeculari'+'ty\x20=\x20sheen'+'Color;\x0a}\x0a',QT='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20sheenGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20sheenG'+'lossiness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.$VC);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPINV'+'ERT\x0a\x20\x20\x20\x20sh'+'eenGlossin'+'ess\x20=\x201.0\x20'+'-\x20sheenGlo'+'ssiness;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sheen'+'Glossiness'+'\x20+=\x200.0000'+'001;\x0a\x20\x20\x20\x20s'+'Glossiness'+'\x20=\x20sheenGl'+'ossiness;\x0a'+'}\x0a',JT='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias($'+'SAMPLER,\x20$'+'UV,\x20textur'+'eBias).$CH'+';\x0a\x20\x20\x20\x20heig'+'ht\x20=\x20heigh'+'t\x20*\x20parall'+'axScale\x20-\x20'+'parallaxSc'+'ale*0.5;\x0a\x20'+'\x20\x20\x20vec3\x20vi'+'ewDirT\x20=\x20d'+'ViewDirW\x20*'+'\x20dTBN;\x0a\x0a\x20\x20'+'\x20\x20viewDirT'+'.z\x20+=\x200.42'+';\x0a\x20\x20\x20\x20dUvO'+'ffset\x20=\x20he'+'ight\x20*\x20(vi'+'ewDirT.xy\x20'+'/\x20viewDirT'+'.z);\x0a}\x0a',eA='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a#de'+'fine\x20CAMER'+'APLANES\x0aun'+'iform\x20vec4'+'\x20camera_pa'+'rams;\x0a#end'+'if\x0a\x0aunifor'+'m\x20float\x20so'+'ftening;\x0au'+'niform\x20flo'+'at\x20colorMu'+'lt;\x0a\x0afloat'+'\x20saturate('+'float\x20x)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tex\x20\x20=\x20t'+'exture2D(c'+'olorMap,\x20v'+'ec2(texCoo'+'rdsAlphaLi'+'fe.x,\x201.0\x20'+'-\x20texCoord'+'sAlphaLife'+'.y));\x0a\x20\x20\x20\x20'+'vec4\x20ramp\x20'+'=\x20texture2'+'D(colorPar'+'am,\x20vec2(t'+'exCoordsAl'+'phaLife.w,'+'\x200.0));\x0a\x20\x20'+'\x20\x20ramp.rgb'+'\x20*=\x20colorM'+'ult;\x0a\x0a\x20\x20\x20\x20'+'ramp.a\x20+=\x20'+'texCoordsA'+'lphaLife.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20rgb\x20=\x20te'+'x.rgb\x20*\x20ra'+'mp.rgb;\x0a\x20\x20'+'\x20\x20float\x20a\x20'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',tA='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x20meshLo'+'calPos\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20q'+'uadXY\x20=\x20me'+'shLocalPos'+'.xy;\x0a\x20\x20\x20\x20f'+'loat\x20nlife'+'\x20=\x20clamp(i'+'nLife\x20/\x20pa'+'rticleLife'+'time,\x200.0,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'amDiv;\x0a\x20\x20\x20'+'\x20vec4\x20para'+'ms\x20=\x20tex1D'+'lod_lerp(T'+'EXTURE_PAS'+'S(internal'+'Tex2),\x20vec'+'2(nlife,\x200'+'),\x20paramDi'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x20params.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20scaleDiv'+'\x20=\x20paramDi'+'v.x;\x0a\x20\x20\x20\x20f'+'loat\x20alpha'+'Div\x20=\x20para'+'mDiv.z;\x0a\x0a\x20'+'\x20\x20\x20scale\x20+'+'=\x20(scaleDi'+'v\x20*\x202.0\x20-\x20'+'1.0)\x20*\x20sca'+'leDivMult\x20'+'*\x20fract(rn'+'dFactor*10'+'000.0);\x0a\x0a#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(quad'+'XY\x20*\x20-0.5\x20'+'+\x200.5,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#else\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(part'+'icle_uv,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20alphaD'+'ivMult\x20*\x20f'+'ract(rndFa'+'ctor*1000.'+'0),\x20nlife)'+';\x0a#endif\x0a\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'\x20=\x20inPos;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x0a'+'\x20\x20\x20\x20mat2\x20r'+'otMatrix;\x0a'),sA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',iA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',rA='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',nA='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',aA='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y*(1.'+'0/255.0)\x20+'+'\x20rg.x;\x0a}\x0a\x0a'+'float\x20deco'+'deFloatRGB'+'A(\x20vec4\x20rg'+'ba\x20)\x20{\x0a\x20\x20r'+'eturn\x20dot('+'\x20rgba,\x20vec'+'4(1.0,\x201.0'+'/255.0,\x201.'+'0/65025.0,'+'\x201.0/16058'+'1375.0)\x20);'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+'rticles\x20-\x20'+('1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),oA='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',lA='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),hA='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',cA='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',dA='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',uA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',fA='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',pA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',mA='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',_A='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),gA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',yA='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',xA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',SA='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',vA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0aa'+'ttribute\x20v'+'ec2\x20partic'+'le_vertexD'+'ata5;\x0a#els'+'e\x0aattribut'+'e\x20vec4\x20par'+'ticle_vert'+'exData5;\x0a#'+'endif\x0a\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wProjectio'+'n;\x0auniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0auniform\x20m'+'at4\x20matrix'+'_viewInver'+'se;\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20lif'+'etime;\x0auni'+'form\x20float'+'\x20stretch;\x0a'+'uniform\x20fl'+'oat\x20seed;\x0a'+'uniform\x20ve'+'c3\x20wrapBou'+'nds;\x0aunifo'+'rm\x20vec3\x20em'+'itterScale'+';\x0auniform\x20'+'vec3\x20faceT'+('angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0a\x0a#ifdef'+'\x20PARTICLE_'+'GPU\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex1;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+'rnalTex2;\x0a'+'#endif\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0a\x0avarying'+'\x20vec4\x20texC'+'oordsAlpha'+'Life;\x0a\x0avec'+'2\x20rotate(v'+'ec2\x20quadXY'+',\x20float\x20pR'+'otation,\x20o'+'ut\x20mat2\x20ro'+'tMatrix)\x0a{'+'\x0a\x20\x20\x20\x20float'+'\x20c\x20=\x20cos(p'+'Rotation);'+'\x0a\x20\x20\x20\x20float'+'\x20s\x20=\x20sin(p'+'Rotation);'+'\x0a\x20\x20\x20\x20//vec'+'4\x20rotation'+'Matrix\x20=\x20v'+'ec4(c,\x20-s,'+'\x20s,\x20c);\x0a\x0a\x20'+'\x20\x20\x20mat2\x20m\x20'+'=\x20mat2(c,\x20'+'-s,\x20s,\x20c);'+'\x0a\x20\x20\x20\x20rotMa'+'trix\x20=\x20m;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20m\x20*\x20quad'+'XY;\x0a}\x0a\x0avec'+'3\x20billboar'+'d(vec3\x20Ins'+'tanceCoord'+'s,\x20vec2\x20qu'+'adXY)\x0a{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20-matrix'+'_viewInver'+'se[0].xyz\x20'+'*\x20quadXY.x'+'\x20+\x20-matrix'+'_viewInver'+'se[1].xyz\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avec3\x20cust'+'omFace(vec'+'3\x20Instance'+'Coords,\x20ve'+'c2\x20quadXY)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20pos\x20=\x20fa'+'ceTangent\x20'+'*\x20quadXY.x'+'\x20+\x20faceBin'+'orm\x20*\x20quad'+'XY.y;\x0a\x20\x20\x20\x20'+'return\x20pos'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20particle'+'Pos\x20=\x20part'+'icle_verte'+'xData.xyz;'+'\x0a\x20\x20\x20\x20vec3\x20'+'inPos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20vec3\x20'+'vertPos\x20=\x20'+'particle_v'+'ertexData3'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20inVel'+'\x20=\x20vec3(pa'+'rticle_ver'+'texData2.w'+',\x20particle'+'_vertexDat')+('a3.w,\x20part'+'icle_verte'+'xData5.x);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20id\x20=\x20flo'+'or(particl'+'e_vertexDa'+'ta4);\x0a\x20\x20\x20\x20'+'float\x20rndF'+'actor\x20=\x20fr'+'act(sin(id'+'\x20+\x201.0\x20+\x20s'+'eed));\x0a\x20\x20\x20'+'\x20vec3\x20rndF'+'actor3\x20=\x20v'+'ec3(rndFac'+'tor,\x20fract'+'(rndFactor'+'*10.0),\x20fr'+'act(rndFac'+'tor*100.0)'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20normalize'+'((mat3(mat'+'rix_view)\x20'+'*\x20inVel).x'+'y);\x20//\x20sho'+'uld\x20be\x20rem'+'oved\x20by\x20co'+'mpiler\x20if\x20'+'align/stre'+'tch\x20is\x20not'+'\x20used\x0a\x0a\x20\x20\x20'+'\x20vec2\x20quad'+'XY\x20=\x20vertP'+'os.xy;\x0a\x0a#i'+'fdef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_vertexD'+'ata5.zw,\x20p'+'article_ve'+'rtexData2.'+'z,\x20particl'+'e_vertexDa'+'ta.w);\x0a#el'+'se\x0a\x20\x20\x20\x20tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4(quadXY\x20'+'*\x20-0.5\x20+\x200'+'.5,\x20partic'+'le_vertexD'+'ata2.z,\x20pa'+'rticle_ver'+'texData.w)'+';\x0a#endif\x0a\x20'+'\x20\x20\x20mat2\x20ro'+'tMatrix;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'inAngle\x20=\x20'+'particle_v'+'ertexData2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20particl'+'ePosMoved\x20'+'=\x20vec3(0.0'+');\x0a\x20\x20\x20\x20vec'+'3\x20meshLoca'+'lPos\x20=\x20par'+'ticle_vert'+'exData3.xy'+'z;\x0a'),bA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',wA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',TA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',AA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',EA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal*0'+'.5+0.5;\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'Normal\x20=\x20-'+'normal*0.5'+'+0.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'*=\x20negNorm'+'al;\x0a\x20\x20\x20\x20po'+'sNormal\x20*='+'\x20posNormal'+';\x0a',CA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a#if'+'def\x20USE_ME'+'SH\x0aattribu'+'te\x20vec2\x20pa'+'rticle_uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20mesh\x20UV\x0a'+'#endif\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ewProjecti'+'on;\x0aunifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0auniform\x20m'+'at3\x20matrix'+'_normal;\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iewInverse'+';\x0a\x0a#ifndef'+'\x20VIEWMATRI'+'X\x0a#define\x20'+'VIEWMATRIX'+'\x0auniform\x20m'+'at4\x20matrix'+'_view;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20num'+'ParticlesP'+'ot;\x0aunifor'+'m\x20float\x20gr'+'aphSampleS'+'ize;\x0aunifo'+'rm\x20float\x20g'+'raphNumSam'+'ples;\x0aunif'+'orm\x20float\x20'+'stretch;\x0au'+'niform\x20vec'+'3\x20wrapBoun'+'ds;\x0aunifor'+'m\x20vec3\x20emi'+'tterScale;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rPos;\x0aunif'+'orm\x20vec3\x20f'+'aceTangent'+';\x0auniform\x20'+'vec3\x20faceB'+'inorm;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20de'+'ltaRandomn'+'essStatic;'+'\x0auniform\x20f'+'loat\x20scale'+'DivMult;\x0au'+'niform\x20flo'+'at\x20alphaDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20delta;\x0aun'+'iform\x20samp'+'ler2D\x20part'+'icleTexOUT'+';\x0auniform\x20'+'sampler2D\x20'+'particleTe'+'xIN;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+('rnalTex1;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex2'+';\x0a#endif\x0a\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x0a'+'#endif\x0a\x0ava'+'rying\x20vec4'+'\x20texCoords'+'AlphaLife;'+'\x0a\x0avec3\x20inP'+'os;\x0avec3\x20i'+'nVel;\x0afloa'+'t\x20inAngle;'+'\x0abool\x20inSh'+'ow;\x0afloat\x20'+'inLife;\x0a'),MA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',PA='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',RA='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',IA='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',DA='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',LA='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',FA='\x0a\x20\x20\x20\x20inAng'+'le\x20=\x20atan('+'velocityV.'+'x,\x20velocit'+'yV.y);\x20//\x20'+'not\x20the\x20fa'+'stest\x20way,'+'\x20but\x20easie'+'r\x20to\x20plug\x20'+'in;\x20TODO:\x20'+'create\x20rot'+'\x20matrix\x20ri'+'ght\x20from\x20v'+'ectors\x0a\x0a',OA='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',kA='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',BA='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',NA='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',zA='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',UA='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x20255.0,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20con'+'st\x20uvec4\x20s'+'hifts\x20=\x20uv'+'ec4(16,\x208,'+'\x200,\x2024);\x0a\x20'+'\x20\x20\x20uvec4\x20c'+'ol\x20=\x20(uvec'+'4(meshInst'+'anceId)\x20>>'+'\x20shifts)\x20&'+'\x20uvec4(0xf'+'f);\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'col)\x20*\x20inv'+';\x0a}\x0a',VA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',GA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x20\x20\x20\x20f'+'loat\x20aniso'+'tropy\x20=\x20ma'+'terial_ani'+'sotropy\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cDirection'+'\x20=\x20anisotr'+'opy\x20>=\x200.0'+'\x20?\x20tbn[1]\x20'+':\x20tbn[0];\x0a'+'\x20\x20\x20\x20vec3\x20a'+'nisotropic'+'Tangent\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicNo'+'rmal\x20=\x20cro'+'ss(anisotr'+'opicTangen'+'t,\x20anisotr'+'opicDirect'+'ion);\x0a\x20\x20\x20\x20'+'vec3\x20bentN'+'ormal\x20=\x20no'+'rmalize(mi'+'x(normaliz'+'e(worldNor'+'mal),\x20norm'+'alize(anis'+'otropicNor'+'mal),\x20anis'+'otropy));\x0a'+'\x20\x20\x20\x20dReflD'+'irW\x20=\x20refl'+'ect(-viewD'+'ir,\x20bentNo'+'rmal);\x0a}\x0a',HA='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',WA='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20$DE'+'CODE(textu'+'reCube(tex'+'ture_cubeM'+'ap,\x20lookup'+'Vec));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',$A='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20sa'+'mplerCube\x20'+'texture_cu'+'beMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20dir\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r)\x20*\x20vec3('+'-1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20f'+'loat\x20level'+'\x20=\x20saturat'+'e(1.0\x20-\x20gl'+'oss)\x20*\x205.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20ilevel\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20f'+'loat\x20fleve'+'l\x20=\x20level\x20'+'-\x20ilevel;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'sharp\x20=\x20$D'+'ECODE_CUBE'+'MAP(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oughA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20mapRou'+'ghnessUv(u'+'v,\x20ilevel)'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20roughB\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',qA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_reflect'+'ivity;\x0a\x0a//'+'\x20calculate'+'\x20mip\x20level'+'\x20for\x20shiny'+'\x20reflectio'+'n\x20given\x20eq'+'uirect\x20coo'+'rds\x20uv.\x0afl'+'oat\x20shinyM'+'ipLevel(ve'+'c2\x20uv)\x20{\x0a\x20'+'\x20\x20\x20vec2\x20dx'+'\x20=\x20dFdx(uv'+');\x0a\x20\x20\x20\x20vec'+'2\x20dy\x20=\x20dFd'+'y(uv);\x0a\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20secon'+'d\x20dF\x20at\x2018'+'0\x20degrees\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v2\x20=\x20vec2('+'fract(uv.x'+'\x20+\x200.5),\x20u'+'v.y);\x0a\x20\x20\x20\x20'+'vec2\x20dx2\x20='+'\x20dFdx(uv2)'+';\x0a\x20\x20\x20\x20vec2'+'\x20dy2\x20=\x20dFd'+'y(uv2);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20min\x20'+'of\x20both\x20se'+'ts\x20of\x20dF\x20t'+'o\x20handle\x20d'+'iscontinui'+'ty\x20at\x20the\x20'+'azim\x20edge\x0a'+'\x20\x20\x20\x20float\x20'+'maxd\x20=\x20min'+'(max(dot(d'+'x,\x20dx),\x20do'+'t(dy,\x20dy))'+',\x20max(dot('+'dx2,\x20dx2),'+'\x20dot(dy2,\x20'+'dy2)));\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(0.5\x20'+'*\x20log2(max'+'d)\x20-\x201.0\x20+'+'\x20textureBi'+'as,\x200.0,\x205'+'.0);\x0a}\x0a\x0ave'+'c3\x20calcRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3(-1.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20toSphe'+'ricalUv(di'+'r);\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20roughnes'+'s\x20level\x0a\x20\x20'+'\x20\x20float\x20le'+'vel\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20f'+'loat\x20ileve'+'l\x20=\x20floor('+'level);\x0a\x0a\x20'+'\x20\x20\x20//\x20acce'+'ssing\x20the\x20'+'shiny\x20(top'+'\x20level)\x20re'+'flection\x20-'+'\x20perform\x20m'+'anual\x20mipm'+'ap\x20lookup\x0a'+'\x20\x20\x20\x20float\x20'+('level2\x20=\x20s'+'hinyMipLev'+'el(uv\x20*\x20at'+'lasSize);\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel2\x20=\x20'+'floor(leve'+'l2);\x0a\x0a\x20\x20\x20\x20'+'vec2\x20uv0,\x20'+'uv1;\x0a\x20\x20\x20\x20f'+'loat\x20weigh'+'t;\x0a\x20\x20\x20\x20if\x20'+'(ilevel\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20mapShiny'+'Uv(uv,\x20ile'+'vel2);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20mapShinyU'+'v(uv,\x20ilev'+'el2\x20+\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'weight\x20=\x20l'+'evel2\x20-\x20il'+'evel2;\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20accessing'+'\x20rough\x20ref'+'lection\x20-\x20'+'just\x20sampl'+'e\x20the\x20same'+'\x20part\x20twic'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20uv1\x20'+'=\x20mapRough'+'nessUv(uv,'+'\x20ilevel);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20we'+'ight\x20=\x200.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20li'+'nearA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20uv0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'linearB\x20=\x20'+'$DECODE(te'+'xture2D(te'+'xture_envA'+'tlas,\x20uv1)'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear0\x20'+'=\x20mix(line'+'arA,\x20linea'+'rB,\x20weight'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear1\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0avo'+'id\x20addRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x20\x20\x20\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20+=\x20ve'+'c4(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20mater'+'ial_reflec'+'tivity);\x0a}'+'\x0a'),XA='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0auniform\x20'+'sampler2D\x20'+'texture_sp'+'hereMap;\x0au'+'niform\x20flo'+'at\x20materia'+'l_reflecti'+'vity;\x0a\x0avec'+'3\x20calcRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20reflD'+'irV\x20=\x20(mat'+'3(matrix_v'+'iew)\x20*\x20ref'+'lDir).xyz;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x202.0\x20'+'*\x20sqrt(\x20do'+'t(reflDirV'+'.xy,\x20reflD'+'irV.xy)\x20+\x20'+'(reflDirV.'+'z+1.0)*(re'+'flDirV.z+1'+'.0)\x20);\x0a\x20\x20\x20'+'\x20vec2\x20sphe'+'reMapUv\x20=\x20'+'reflDirV.x'+'y\x20/\x20m\x20+\x200.'+'5;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20$DECO'+'DE(texture'+'2D(texture'+'_sphereMap'+',\x20sphereMa'+'pUv));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',jA='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',YA='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',KA='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20DISPERSIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20based\x20o'+'n\x20the\x20disp'+'ersion\x20mat'+'erial\x20prop'+'erty,\x20calc'+'ulate\x20modi'+'fied\x20refra'+'ction\x20inde'+'x\x20values\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'for\x20R\x20and\x20'+'B\x20channels'+'\x20and\x20evalu'+'ate\x20the\x20re'+'fraction\x20c'+'olor\x20for\x20t'+'hem.\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20h'+'alfSpread\x20'+'=\x20(1.0\x20/\x20r'+'efractionI'+'ndex\x20-\x201.0')+(')\x20*\x200.025\x20'+'*\x20dispersi'+'on;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20r'+'efractionI'+'ndexR\x20=\x20re'+'fractionIn'+'dex\x20-\x20half'+'Spread;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'actionVect'+'or\x20=\x20norma'+'lize(refra'+'ct(-viewDi'+'r,\x20worldNo'+'rmal,\x20refr'+'actionInde'+'xR))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20refracti'+'on.r\x20=\x20eva'+'lRefractio'+'nColor(ref'+'ractionVec'+'tor,\x20gloss'+',\x20refracti'+'onIndexR).'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dexB\x20=\x20ref'+'ractionInd'+'ex\x20+\x20halfS'+'pread;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ctionVecto'+'r\x20=\x20normal'+'ize(refrac'+'t(-viewDir'+',\x20worldNor'+'mal,\x20refra'+'ctionIndex'+'B))\x20*\x20scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'n.b\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndexB).b'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20Transmitt'+'ance\x20is\x20ou'+'r\x20final\x20re'+'fraction\x20c'+'olor\x0a\x20\x20\x20\x20v'+'ec3\x20transm'+'ittance;\x0a\x20'+'\x20\x20\x20if\x20(mat'+'erial_invA'+'ttenuation'+'Distance\x20!'+'=\x200.0)\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20atte'+'nuation\x20=\x20'+'-log(mater'+'ial_attenu'+'ation)\x20*\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'transmitta'+'nce\x20=\x20exp('+'-attenuati'+'on\x20*\x20lengt'+'h(refracti'+'onVector))'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20transmitt'+'ance\x20=\x20ref'+'raction;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20f'+'resnel\x20eff'+'ect\x20on\x20ref'+'raction\x0a\x20\x20'+'\x20\x20vec3\x20fre'+'snel\x20=\x20vec'+'3(1.0)\x20-\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view')+('Dir,\x20world'+'Normal),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20specular'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20,\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceIn'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20mix(dD'+'iffuseLigh'+'t,\x20refract'+'ion\x20*\x20tran'+'smittance\x20'+'*\x20fresnel,'+'\x20transmiss'+'ion);\x0a}\x0a'),ZA='\x0a//\x20This\x20s'+'hader\x20requ'+'ires\x20the\x20f'+'ollowing\x20#'+'DEFINEs:\x0a/'+'/\x0a//\x20PROCE'+'SS_FUNC\x20-\x20'+'must\x20be\x20on'+'e\x20of\x20repro'+'ject,\x20pref'+'ilter\x0a//\x20D'+'ECODE_FUNC'+'\x20-\x20must\x20be'+'\x20one\x20of\x20de'+'codeRGBM,\x20'+'decodeRGBE'+',\x20decodeGa'+'mma\x20or\x20dec'+'odeLinear\x0a'+'//\x20ENCODE_'+'FUNC\x20-\x20mus'+'t\x20be\x20one\x20o'+'f\x20encodeRG'+'BM,\x20encode'+'RGBE,\x20enci'+'deGamma\x20or'+'\x20encodeLin'+'ear\x0a//\x20SOU'+'RCE_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20samp'+'leCubemap,'+'\x20sampleEqu'+'irect,\x20sam'+'pleOctahed'+'ral\x0a//\x20TAR'+'GET_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20getD'+'irectionCu'+'bemap,\x20get'+'DirectionE'+'quirect,\x20g'+'etDirectio'+'nOctahedra'+'l\x0a//\x0a//\x20Wh'+'en\x20filteri'+'ng:\x0a//\x20NUM'+'_SAMPLES\x20-'+'\x20number\x20of'+'\x20samples\x0a/'+'/\x20NUM_SAMP'+'LES_SQRT\x20-'+'\x20sqrt\x20of\x20n'+'umber\x20of\x20s'+'amples\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0a\x0a//'+'\x20source\x0a#i'+'fdef\x20CUBEM'+'AP_SOURCE\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplerC'+'ube\x20source'+'Cube;\x0a#els'+'e\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20source'+'Tex;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'//\x20samples'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20samples'+'Tex;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20samplesT'+'exInverseS'+'ize;\x0a#endi'+'f\x0a\x0a//\x20para'+'ms:\x0a//\x20x\x20-'+'\x20target\x20cu'+'bemap\x20face'+'\x200..6\x0a//\x20y'+'\x20-\x20target\x20'+'image\x20tota'+'l\x20pixels\x0a/'+'/\x20z\x20-\x20sour'+'ce\x20cubemap'+'\x20size\x0aunif'+'orm\x20vec3\x20p'+'arams;\x0a\x0afl'+'oat\x20target'+'Face()\x20{\x20r'+'eturn\x20para'+'ms.x;\x20}\x0afl'+'oat\x20target'+'TotalPixel'+('s()\x20{\x20retu'+'rn\x20params.'+'y;\x20}\x0afloat'+'\x20sourceTot'+'alPixels()'+'\x20{\x20return\x20'+'params.z;\x20'+'}\x0a\x0afloat\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afloat\x20'+'saturate(f'+'loat\x20x)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0a')+S0+'\x0a'+v0+('\x0a\x0a//--\x20sup'+'ported\x20pro'+'jections\x0a\x0a'+'vec3\x20modif'+'ySeams(vec'+'3\x20dir,\x20flo'+'at\x20scale)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20adir\x20=\x20ab'+'s(dir);\x0a\x20\x20'+'\x20\x20float\x20M\x20'+'=\x20max(max('+'adir.x,\x20ad'+'ir.y),\x20adi'+'r.z);\x0a\x20\x20\x20\x20'+'return\x20dir'+'\x20/\x20M\x20*\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.x\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20adir'+'.y\x20==\x20M\x20?\x20'+'1.0\x20:\x20scal'+'e,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.z\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'3\x20fromSphe'+'rical(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(cos(uv.'+'y)\x20*\x20sin(u'+'v.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sin(uv.y'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'os(uv.y)\x20*'+'\x20cos(uv.x)'+');\x0a}\x0a\x0avec3'+'\x20getDirect'+'ionEquirec'+'t()\x20{\x0a\x20\x20\x20\x20'+'return\x20fro'+'mSpherical'+'((vec2(vUv'+'0.x,\x201.0\x20-'+'\x20vUv0.y)\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20vec2(P'+'I,\x20PI\x20*\x200.'+'5));\x0a}\x0a\x0a//'+'\x20octahedra'+'l\x20code,\x20ba'+'sed\x20on\x20htt'+'ps://jcgt.'+'org/publis'+'hed/0003/0'+'2/01/\x0a//\x20\x22'+'Survey\x20of\x20'+'Efficient\x20'+'Representa'+'tions\x20for\x20'+'Independen'+'t\x20Unit\x20Vec'+'tors\x22\x20by\x20C'+'igolle,\x20Do'+'now,\x20Evang'+'elakos,\x20Ma'+'ra,\x20McGuir'+'e,\x20Meyer\x0a\x0a'+'float\x20sign'+'NotZero(fl'+'oat\x20k){\x0a\x20\x20'+'\x20\x20return(k'+'\x20>=\x200.0)\x20?'+'\x201.0\x20:\x20-1.'+'0;\x0a}\x0a\x0avec2'+'\x20signNotZe'+'ro(vec2\x20v)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(s'+'ignNotZero'+'(v.x),\x20sig'+'nNotZero(v'+'.y));\x0a}\x0a\x0a/'+('/\x20Returns\x20'+'a\x20unit\x20vec'+'tor.\x20Argum'+'ent\x20o\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'packed\x20via'+'\x20octEncode'+',\x20on\x20the\x20['+'-1,\x20+1]\x20sq'+'uare\x0avec3\x20'+'octDecode('+'vec2\x20o)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'\x20=\x20vec3(o.'+'x,\x201.0\x20-\x20a'+'bs(o.x)\x20-\x20'+'abs(o.y),\x20'+'o.y);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v.xz\x20'+'=\x20(1.0\x20-\x20a'+'bs(v.zx))\x20'+'*\x20signNotZ'+'ero(v.xz);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0avec3\x20'+'getDirecti'+'onOctahedr'+'al()\x20{\x0a\x20\x20\x20'+'\x20return\x20oc'+'tDecode(ve'+'c2(vUv0.x,'+'\x201.0\x20-\x20vUv'+'0.y)\x20*\x202.0'+'\x20-\x201.0);\x0a}'+'\x0a\x0a//\x20Assum'+'es\x20that\x20v\x20'+'is\x20a\x20unit\x20'+'vector.\x20Th'+'e\x20result\x20i'+'s\x20an\x20octah'+'edral\x20vect'+'or\x20on\x20the\x20'+'[-1,\x20+1]\x20s'+'quare\x0avec2'+'\x20octEncode'+'(in\x20vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20l1norm'+'\x20=\x20abs(v.x'+')\x20+\x20abs(v.'+'y)\x20+\x20abs(v'+'.z);\x0a\x20\x20\x20\x20v'+'ec2\x20result'+'\x20=\x20v.xz\x20*\x20'+'(1.0\x20/\x20l1n'+'orm);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20=\x20(1.0\x20-'+'\x20abs(resul'+'t.yx))\x20*\x20s'+'ignNotZero'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20ve'+'c4\x20sampleC'+'ubemap(vec'+'3\x20dir)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCube(sour'+'ceCube,\x20mo'+'difySeams('+'dir,\x201.0))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleCubema'+'p(vec2\x20sph'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20sampl'+'eCubemap(f'+'romSpheric'+'al(sph));\x0a')+('}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleCu'+'bemap(vec3'+'\x20dir,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureCube'+'Lod(source'+'Cube,\x20modi'+'fySeams(di'+'r,\x201.0),\x20m'+'ipLevel);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leCubemap('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleC'+'ubemap(fro'+'mSpherical'+'(sph),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a#else\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleEqui'+'rect(vec2\x20'+'sph)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20sph\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'(toSpheric'+'al(dir));\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leEquirect'+'(vec2\x20sph,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sph'+'\x20/\x20vec2(PI'+'\x20*\x202.0,\x20PI'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'e2DLod(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sam'+'pleEquirec'+'t(toSpheri'+'cal(dir),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleOctah'+'edral(vec2'+'\x20sph)\x20{\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'octEncode('+'dir)\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20texture'+'2DLod(sour'+'ceTex,\x20vec'+'2(uv.x,\x201.'+'0\x20-\x20uv.y),'+'\x20mipLevel)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleOctahe'+'dral(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getD'+'irectionCu'+'bemap()\x20{\x0a'+'\x20\x20\x20\x20vec2\x20s'+'t\x20=\x20vUv0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20vec;\x0a\x20\x20'+'\x20\x20if\x20(face'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'1,\x20-st.y,\x20'+'-st.x);\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(face\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec\x20'+'=\x20vec3(-1,'+'\x20-st.y,\x20st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'1,\x20st.y);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x203.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3(st.x'+',\x20-st.y,\x201'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(-st.x'+',\x20-st.y,\x20-'+'1);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(modifySe'+'ams(vec,\x201'+'.0));\x0a}\x0a\x0am'+'at3\x20matrix'+'FromVector'+'(vec3\x20n)\x20{'+'\x20//\x20frisva'+'d\x0a\x20\x20\x20\x20floa'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20f'+'loat\x20b\x20=\x20-')+('n.x\x20*\x20n.y\x20'+'*\x20a;\x0a\x20\x20\x20\x20v'+'ec3\x20b1\x20=\x20v'+'ec3(1.0\x20-\x20'+'n.x\x20*\x20n.x\x20'+'*\x20a,\x20b,\x20-n'+'.x);\x0a\x20\x20\x20\x20v'+'ec3\x20b2\x20=\x20v'+'ec3(b,\x201.0'+'\x20-\x20n.y\x20*\x20n'+'.y\x20*\x20a,\x20-n'+'.y);\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'(b1,\x20b2,\x20n'+');\x0a}\x0a\x0amat3'+'\x20matrixFro'+'mVectorSlo'+'w(vec3\x20n)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20up\x20=\x20(1.0'+'\x20-\x20abs(n.y'+')\x20<=\x200.000'+'0001)\x20?\x20ve'+'c3(0.0,\x200.'+'0,\x20n.y\x20>\x200'+'.0\x20?\x201.0\x20:'+'\x20-1.0)\x20:\x20v'+'ec3(0.0,\x201'+'.0,\x200.0);\x0a'+'\x20\x20\x20\x20vec3\x20x'+'\x20=\x20normali'+'ze(cross(u'+'p,\x20n));\x0a\x20\x20'+'\x20\x20vec3\x20y\x20='+'\x20cross(n,\x20'+'x);\x0a\x20\x20\x20\x20re'+'turn\x20mat3('+'x,\x20y,\x20n);\x0a'+'}\x0a\x0avec4\x20re'+'project()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'NUM_SAMPLE'+'S\x20<=\x201)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20single\x20sa'+'mple\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(DECODE_F'+'UNC(SOURCE'+'_FUNC(TARG'+'ET_FUNC())'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'lti\x20sample'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20t\x20=\x20TA'+'RGET_FUNC('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20tu\x20='+'\x20dFdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tv\x20=\x20dF'+'dy(t);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'u\x20=\x200.0;\x20u'+'\x20<\x20NUM_SAM'+'PLES_SQRT;'+'\x20++u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(float'+'\x20v\x20=\x200.0;\x20'+'v\x20<\x20NUM_SA'+'MPLES_SQRT'+';\x20++v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20DECOD'+'E_FUNC(SOU'+'RCE_FUNC(n'+'ormalize(t'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20tu\x20*\x20(u'+'\x20/\x20NUM_SAM'+'PLES_SQRT\x20'+'-\x200.5)\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'v\x20*\x20(v\x20/\x20N'+'UM_SAMPLES'+'_SQRT\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ENCO'+'DE_FUNC(re'+'sult\x20/\x20(NU'+'M_SAMPLES_'+'SQRT\x20*\x20NUM'+'_SAMPLES_S'+'QRT));\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0avec4'+'\x20unpackFlo'+'at\x20=\x20vec4('+'1.0,\x201.0\x20/'+'\x20255.0,\x201.'+'0\x20/\x2065025.'+'0,\x201.0\x20/\x201'+'6581375.0)'+';\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'void\x20unpac'+'kSample(in'+'t\x20i,\x20out\x20v'+'ec3\x20L,\x20out'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20u\x20=\x20(fl'+'oat(i\x20*\x204)'+'\x20+\x200.5)\x20*\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20v'+'\x20=\x20(floor('+'u)\x20+\x200.5)\x20'+'*\x20samplesT'+'exInverseS'+'ize.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20raw.x\x20'+'=\x20dot(text'+'ure2D(samp'+'lesTex,\x20ve'+'c2(u,\x20v)),'+'\x20unpackFlo'+'at);\x20u\x20+=\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20raw.y\x20='+'\x20dot(textu'+'re2D(sampl'+'esTex,\x20vec'+'2(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20s'+'amplesTexI'+'nverseSize'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20raw.z\x20=\x20'+'dot(textur'+'e2D(sample'+'sTex,\x20vec2'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20sa'+'mplesTexIn'+'verseSize.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20raw.w\x20=\x20d'+'ot(texture'+'2D(samples'+'Tex,\x20vec2('+'u,\x20v)),\x20un'+'packFloat)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20L.xyz\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'pLevel\x20=\x20r'+'aw.w\x20*\x208.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20conv'+'olve\x20an\x20en'+'vironment\x20'+'given\x20pre-'+'generated\x20'+'samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp')+('les()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el))\x20*\x20L.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20totalW'+'eight\x20+=\x20L'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(result\x20/'+'\x20totalWeig'+'ht);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'nweighted\x20'+'version\x20of'+'\x20prefilter'+'Samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp'+'lesUnweigh'+'ted()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20ENCODE_F'+'UNC(result'+'\x20/\x20float(N'+'UM_SAMPLES'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20PROCE'+'SS_FUNC();'+'\x0a}\x0a')),QA='\x0a\x0avec4\x20Sam'+'pleTexture'+'CatmullRom'+'(TEXTURE_A'+'CCEPT(tex)'+',\x20vec2\x20uv,'+'\x20vec2\x20texS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20//\x20We\x27re\x20'+'going\x20to\x20s'+'ample\x20a\x20a\x20'+'4x4\x20grid\x20o'+'f\x20texels\x20s'+'urrounding'+'\x20the\x20targe'+'t\x20UV\x20coord'+'inate.\x20We\x27'+'ll\x20do\x20this'+'\x20by\x20roundi'+'ng\x0a\x20\x20\x20\x20//\x20'+'down\x20the\x20s'+'ample\x20loca'+'tion\x20to\x20ge'+'t\x20the\x20exac'+'t\x20center\x20o'+'f\x20our\x20\x22sta'+'rting\x22\x20tex'+'el.\x20The\x20st'+'arting\x20tex'+'el\x20will\x20be'+'\x20at\x0a\x20\x20\x20\x20//'+'\x20location\x20'+'[1,\x201]\x20in\x20'+'the\x20grid,\x20'+'where\x20[0,\x20'+'0]\x20is\x20the\x20'+'top\x20left\x20c'+'orner.\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePos\x20=\x20uv'+'\x20*\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos1\x20='+'\x20floor(sam'+'plePos\x20-\x200'+'.5)\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20fractiona'+'l\x20offset\x20f'+'rom\x20our\x20st'+'arting\x20tex'+'el\x20to\x20our\x20'+'original\x20s'+'ample\x20loca'+'tion,\x20whic'+'h\x20we\x27ll\x0a\x20\x20'+'\x20\x20//\x20feed\x20'+'into\x20the\x20C'+'atmull-Rom'+'\x20spline\x20fu'+'nction\x20to\x20'+'get\x20our\x20fi'+'lter\x20weigh'+'ts.\x0a\x20\x20\x20\x20ve'+'c2\x20f\x20=\x20sam'+'plePos\x20-\x20t'+'exPos1;\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20the\x20Ca'+'tmull-Rom\x20'+'weights\x20us'+'ing\x20the\x20fr'+'actional\x20o'+'ffset\x20that'+'\x20we\x20calcul'+'ated\x20earli'+'er.\x0a\x20\x20\x20\x20//'+'\x20These\x20equ'+'ations\x20are'+'\x20pre-expan'+'ded\x20based\x20'+'on\x20our\x20kno'+'wledge\x20of\x20'+'where\x20the\x20'+'texels\x20wil'+'l\x20be\x20locat'+'ed,\x0a\x20\x20\x20\x20//'+'\x20which\x20let'+'s\x20us\x20avoid'+'\x20having\x20to'+'\x20evaluate\x20'+'a\x20piece-wi'+'se\x20functio'+'n.\x0a\x20\x20\x20\x20vec'+'2\x20w0\x20=\x20f\x20*'+'\x20(-0.5\x20+\x20f'+'\x20*\x20(1.0\x20-\x20'+'0.5\x20*\x20f));'+'\x0a\x20\x20\x20\x20vec2\x20'+('w1\x20=\x201.0\x20+'+'\x20f\x20*\x20f\x20*\x20('+'-2.5\x20+\x201.5'+'\x20*\x20f);\x0a\x20\x20\x20'+'\x20vec2\x20w2\x20='+'\x20f\x20*\x20(0.5\x20'+'+\x20f\x20*\x20(2.0'+'\x20-\x201.5\x20*\x20f'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20w3\x20=\x20f\x20'+'*\x20f\x20*\x20(-0.'+'5\x20+\x200.5\x20*\x20'+'f);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Work\x20out'+'\x20weighting'+'\x20factors\x20a'+'nd\x20samplin'+'g\x20offsets\x20'+'that\x20will\x20'+'let\x20us\x20use'+'\x20bilinear\x20'+'filtering\x20'+'to\x0a\x20\x20\x20\x20//\x20'+'simultaneo'+'usly\x20evalu'+'ate\x20the\x20mi'+'ddle\x202\x20sam'+'ples\x20from\x20'+'the\x204x4\x20gr'+'id.\x0a\x20\x20\x20\x20ve'+'c2\x20w12\x20=\x20w'+'1\x20+\x20w2;\x0a\x20\x20'+'\x20\x20vec2\x20off'+'set12\x20=\x20w2'+'\x20/\x20(w1\x20+\x20w'+'2);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'the\x20final\x20'+'UV\x20coordin'+'ates\x20we\x27ll'+'\x20use\x20for\x20s'+'ampling\x20th'+'e\x20texture\x0a'+'\x20\x20\x20\x20vec2\x20t'+'exPos0\x20=\x20('+'texPos1\x20-\x20'+'1.0)\x20/\x20tex'+'Size;\x0a\x20\x20\x20\x20'+'vec2\x20texPo'+'s3\x20=\x20(texP'+'os1\x20+\x202.0)'+'\x20/\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos12\x20'+'=\x20(texPos1'+'\x20+\x20offset1'+'2)\x20/\x20texSi'+'ze;\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20result'+'\x20=\x20vec4(0.'+'0);\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos0.x'+',\x20texPos0.'+'y),\x200.0)\x20*'+'\x20w0.x\x20*\x20w0'+'.y;\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos12.'+'x,\x20texPos0'+'.y),\x200.0)\x20'+'*\x20w12.x\x20*\x20'+'w0.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos3'+'.x,\x20texPos'+'0.y),\x200.0)'+'\x20*\x20w3.x\x20*\x20'+'w0.y;\x0a\x0a\x20\x20\x20'+'\x20result\x20+='+'\x20texture2D'+'Lod(tex,\x20v'+'ec2(texPos'+'0.x,\x20texPo'+'s12.y),\x200.'+'0)\x20*\x20w0.x\x20'+'*\x20w12.y;\x0a\x20'+'\x20\x20\x20result\x20'+'+=\x20texture'+'2DLod(tex,'+'\x20vec2(texP'+'os12.x,\x20te'+'xPos12.y),'+'\x200.0)\x20*\x20w1')+('2.x\x20*\x20w12.'+'y;\x0a\x20\x20\x20\x20res'+'ult\x20+=\x20tex'+'ture2DLod('+'tex,\x20vec2('+'texPos3.x,'+'\x20texPos12.'+'y),\x200.0)\x20*'+'\x20w3.x\x20*\x20w1'+'2.y;\x0a\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos0'+'.x,\x20texPos'+'3.y),\x200.0)'+'\x20*\x20w0.x\x20*\x20'+'w3.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos1'+'2.x,\x20texPo'+'s3.y),\x200.0'+')\x20*\x20w12.x\x20'+'*\x20w3.y;\x0a\x20\x20'+'\x20\x20result\x20+'+'=\x20texture2'+'DLod(tex,\x20'+'vec2(texPo'+'s3.x,\x20texP'+'os3.y),\x200.'+'0)\x20*\x20w3.x\x20'+'*\x20w3.y;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'),JA='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a#define\x20S'+'CREENSIZE\x0a'+'uniform\x20ve'+'c4\x20uScreen'+'Size;\x0a#end'+'if\x0a\x0a#ifnde'+'f\x20VIEWMATR'+'IX\x0a#define'+'\x20VIEWMATRI'+'X\x0auniform\x20'+'mat4\x20matri'+'x_view;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20LINEAR'+'IZE_DEPTH\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x20'+'//\x20x:\x201\x20/\x20'+'camera_far'+',\x20\x20\x20\x20\x20\x20y:\x20'+'camera_far'+',\x20\x20\x20\x20\x20z:\x20c'+'amera_near'+',\x20\x20\x20\x20\x20\x20\x20\x20w'+':\x20is_ortho'+'\x0a#endif\x0a\x0a#'+'define\x20LIN'+'EARIZE_DEP'+'TH\x0afloat\x20l'+'inearizeDe'+'pth(float\x20'+'z)\x20{\x0a\x20\x20\x20\x20i'+'f\x20(camera_'+'params.w\x20='+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(camera_'+'params.z\x20*'+'\x20camera_pa'+'rams.y)\x20/\x20'+'(camera_pa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'_params.z\x20'+'-\x20camera_p'+'arams.y));'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20camer'+'a_params.z'+'\x20+\x20z\x20*\x20(ca'+'mera_param'+'s.y\x20-\x20came'+'ra_params.'+'z);\x0a}\x0a#end'+'if\x20//\x20LINE'+'ARIZE_DEPT'+'H\x0a\x0afloat\x20d'+'elinearize'+'Depth(floa'+'t\x20linearDe'+'pth)\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'a_params.w'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20(cam'+'era_params'+'.y\x20*\x20(came'+'ra_params.'+'z\x20-\x20linear'+'Depth))\x20/\x20'+'(linearDep'+'th\x20*\x20(came'+'ra_params.'+'z\x20-\x20camera'+'_params.y)'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20(linearDe'+'pth\x20-\x20came'+'ra_params.'+'z)\x20/\x20(came'+'ra_params.'+'y\x20-\x20camera'+'_params.z)'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0a//\x20Retrie'+('ves\x20render'+'ed\x20linear\x20'+'camera\x20dep'+'th\x20by\x20UV\x0af'+'loat\x20getLi'+'nearScreen'+'Depth(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'ENE_DEPTHM'+'AP_LINEAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SCENE'+'_DEPTHMAP_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20textu'+'re2D(uScen'+'eDepthMap,'+'\x20uv).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ivec2'+'\x20textureSi'+'ze\x20=\x20textu'+'reSize(uSc'+'eneDepthMa'+'p,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20texel'+'\x20=\x20ivec2(u'+'v\x20*\x20vec2(t'+'extureSize'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20data\x20=\x20te'+'xelFetch(u'+'SceneDepth'+'Map,\x20texel'+',\x200);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20intBit'+'s\x20=\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.r\x20*\x20255.'+'0)\x20<<\x2024u)'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'uint(data.'+'g\x20*\x20255.0)'+'\x20<<\x2016u)\x20|'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(ui'+'nt(data.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20uint(d'+'ata.a\x20*\x2025'+'5.0);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(intBits)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20lineariz'+'eDepth(tex'+'ture2D(uSc'+'eneDepthMa'+'p,\x20uv).r);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#ifnd'+'ef\x20VERTEXS'+'HADER\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20un'+'der\x20the\x20cu'+'rrent\x20pixe'+'l\x0afloat\x20ge'+'tLinearScr'+'eenDepth()'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20gl_'+'FragCoord.'+'xy\x20*\x20uScre'+'enSize.zw;'+'\x0a\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a}\x0a'+'#endif\x0a\x0a//'+'\x20Generates'+'\x20linear\x20ca'+'mera\x20depth')+('\x20for\x20the\x20g'+'iven\x20world'+'\x20position\x0a'+'float\x20getL'+'inearDepth'+'(vec3\x20pos)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(matr'+'ix_view\x20*\x20'+'vec4(pos,\x20'+'1.0)).z;\x0a}'+'\x0a'),eE='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avoid\x20'+'fadeShadow'+'(vec4\x20shad'+'owCascadeD'+'istances)\x20'+'{\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20//\x20if\x20'+'the\x20pixel\x20'+'is\x20past\x20th'+'e\x20shadow\x20d'+'istance,\x20r'+'emove\x20shad'+'ow\x0a\x20\x20\x20\x20//\x20'+'this\x20enfor'+'ces\x20straig'+'ht\x20line\x20in'+'stead\x20of\x20c'+'orner\x20of\x20s'+'hadow\x20whic'+'h\x20moves\x20wh'+'en\x20camera\x20'+'rotates\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x201.'+'0\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20if\x20(de'+'pth\x20>\x20shad'+'owCascadeD'+'istances.w'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dShadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a}\x0a'),tE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20s'+'hadowCoord'+'.z,\x20shadow'+'Params.y,\x20'+'exponent);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potVSM$(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec4\x20sh'+'adowParams'+',\x20float\x20ex'+'ponent,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20VSM$'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord.xy'+',\x20shadowPa'+'rams.x,\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a',sE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20float\x20p'+'ixelSize\x20='+'\x201.0\x20/\x20res'+'olution;\x0a\x20'+'\x20\x20\x20texCoor'+'ds\x20-=\x20vec2'+'(pixelSize'+');\x0a\x20\x20\x20\x20vec'+'3\x20s00\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20s1'+'0\x20=\x20textur'+'e2D(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize,\x200))'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20s01\x20='+'\x20texture2D'+'(tex,\x20texC'+'oords\x20+\x20ve'+'c2(0,\x20pixe'+'lSize)).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20s11\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds\x20+\x20vec2('+'pixelSize)'+').xyz;\x0a\x20\x20\x20'+'\x20vec2\x20fr\x20='+'\x20fract(tex'+'Coords\x20*\x20r'+'esolution)'+';\x0a\x20\x20\x20\x20vec3'+'\x20h0\x20=\x20mix('+'s00,\x20s10,\x20'+'fr.x);\x0a\x20\x20\x20'+'\x20vec3\x20h1\x20='+'\x20mix(s01,\x20'+'s11,\x20fr.x)'+';\x0a\x20\x20\x20\x20vec3'+'\x20moments\x20='+'\x20mix(h0,\x20h'+'1,\x20fr.y);\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'float\x20getS'+'hadowVSM$('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M$(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Params.x,\x20'+'shadowCoor'+'d.z,\x20shado'+'wParams.y,'+'\x20exponent)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'SpotVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+('return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20l'+'ength(ligh'+'tDir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'),iE='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20Φ\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epth(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa'+'dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam')+('pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light')+('Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow')+('Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowPo'+'intPCSS(sa'+'mplerCube\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SSCube(sha'+'dowMap,\x20sh'+'adowParams'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'hadowSearc'+'hArea.x,\x20l'+'ightDir);\x0a'+'}\x0a\x0a#endif\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c2\x20shadowS'+'earchArea,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSS(TEXTUR'+'E_PASS(sha'+'dowMap),\x20s'+'hadowCoord'+',\x20cameraPa'+'rams,\x20shad'+'owSearchAr'+'ea);\x0a}\x0a\x0a'),rE='\x0a\x0avec3\x20get'+'ShadowSamp'+'leCoord$LI'+'GHT(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'vec3\x20surfa'+'cePosition'+'\x20=\x20worldPo'+'sition;\x0a\x0a#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'POINT\x0a\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20d'+'istScale\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sur'+'facePositi'+'on\x20=\x20surfa'+'cePosition'+'\x20+\x20normal\x20'+'*\x20shadowPa'+'rams.y\x20*\x20c'+'lamp(1.0\x20-'+'\x20dot(norma'+'l,\x20-lightD'+'irNorm),\x200'+'.0,\x201.0)\x20*'+'\x20distScale'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'lightDir\x20='+'\x20surfacePo'+'sition\x20-\x20l'+'ightPos;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20#e'+'ndif\x0a#else'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dist'+'Scale\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20distSca'+'le\x20=\x20abs(d'+'ot(vPositi'+'onW\x20-\x20ligh'+'tPos,\x20ligh'+'tDirNorm))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20surface'+'Position\x20='+'\x20surfacePo'+('sition\x20+\x20n'+'ormal\x20*\x20sh'+'adowParams'+'.y\x20*\x20clamp'+'(1.0\x20-\x20dot'+'(normal,\x20-'+'lightDirNo'+'rm),\x200.0,\x20'+'1.0)\x20*\x20dis'+'tScale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20positi'+'onInShadow'+'Space\x20=\x20sh'+'adowTransf'+'orm\x20*\x20vec4'+'(surfacePo'+'sition,\x201.'+'0);\x0a\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_O'+'RTHO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20positio'+'nInShadowS'+'pace.z\x20=\x20s'+'aturate(po'+'sitionInSh'+'adowSpace.'+'z)\x20-\x200.000'+'1;\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/=\x20pos'+'itionInSha'+'dowSpace.w'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20positi'+'onInShadow'+'Space.z\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SHADOW_'+'SAMPLE_Z_B'+'IAS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.z\x20+=\x20g'+'etShadowBi'+'as(shadowP'+'arams.x,\x20s'+'hadowParam'+'s.z);\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20surfa'+'cePosition'+';\x0a}\x0a'),nE='\x0a\x0a/**\x0a\x20*\x20S'+'oft\x20direct'+'ional\x20shad'+'ows\x20PCSS\x20-'+'\x20with\x20and\x20'+'without\x20bl'+'ocker\x20sear'+'ch.\x0a\x20*/\x0a\x0ah'+'ighp\x20float'+'\x20fractSinR'+'and(\x20const'+'\x20in\x20vec2\x20u'+'v\x20)\x20{\x0a\x20\x20\x20\x20'+'const\x20high'+'p\x20float\x20a\x20'+'=\x2012.9898,'+'\x20b\x20=\x2078.23'+'3,\x20c\x20=\x20437'+'58.5453;\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20dt\x20=\x20'+'dot(uv.xy,'+'\x20vec2(a,\x20b'+')),\x20sn\x20=\x20m'+'od(dt,\x20PI)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20fract(s'+'in(sn)\x20*\x20c'+');\x0a}\x0a\x0a//\x20s'+'truct\x20to\x20h'+'old\x20precom'+'puted\x20cons'+'tants\x20and\x20'+'current\x20st'+'ate\x0astruct'+'\x20PoissonDi'+'skData\x20{\x0a\x20'+'\x20\x20\x20float\x20i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20fl'+'oat\x20angleS'+'tep;\x0a\x20\x20\x20\x20f'+'loat\x20initi'+'alAngle;\x0a\x20'+'\x20\x20\x20float\x20c'+'urrentRadi'+'us;\x0a\x20\x20\x20\x20fl'+'oat\x20curren'+'tAngle;\x0a};'+'\x0a\x0a//\x20prepa'+'re\x20the\x20Poi'+'sson\x20disk\x20'+'constants\x20'+'and\x20initia'+'lize\x20the\x20c'+'urrent\x20sta'+'te\x20in\x20the\x20'+'struct\x0avoi'+'d\x20prepareP'+'oissonCons'+'tants(out\x20'+'PoissonDis'+'kData\x20data'+',\x20int\x20samp'+'leCount,\x20i'+'nt\x20numRing'+'s,\x20float\x20r'+'andomSeed)'+'\x20{\x0a\x20\x20\x20\x20con'+'st\x20float\x20p'+'i2\x20=\x206.283'+'18530718;\x0a'+'\x20\x20\x20\x20data.i'+'nvNumSampl'+'es\x20=\x201.0\x20/'+'\x20float(sam'+'pleCount);'+'\x0a\x20\x20\x20\x20data.'+'angleStep\x20'+'=\x20pi2\x20*\x20fl'+'oat(numRin'+'gs)\x20*\x20data'+'.invNumSam'+'ples;\x0a\x20\x20\x20\x20'+'data.initi'+'alAngle\x20=\x20'+'randomSeed'+'\x20*\x20pi2;\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20=\x20data.in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20dat'+'a.currentA'+'ngle\x20=\x20dat'+'a.initialA'+'ngle;\x0a}\x0a\x0a/'+'/\x20generate'+'\x20a\x20Poisson'+'\x20sample\x20us'+('ing\x20the\x20pr'+'ecomputed\x20'+'struct\x0avec'+'2\x20generate'+'PoissonSam'+'ple(inout\x20'+'PoissonDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20offset\x20'+'=\x20vec2(cos'+'(data.curr'+'entAngle),'+'\x20sin(data.'+'currentAng'+'le))\x20*\x20pow'+'(data.curr'+'entRadius,'+'\x200.75);\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20+=\x20data.i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20da'+'ta.current'+'Angle\x20+=\x20d'+'ata.angleS'+'tep;\x0a\x20\x20\x20\x20r'+'eturn\x20offs'+'et;\x0a}\x0a\x0avoi'+'d\x20PCSSFind'+'Blocker(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20out\x20f'+'loat\x20avgBl'+'ockerDepth'+',\x20out\x20int\x20'+'numBlocker'+'s,\x0a\x20\x20\x20\x20vec'+'2\x20shadowCo'+'ords,\x20floa'+'t\x20z,\x20int\x20s'+'hadowBlock'+'erSamples,'+'\x20float\x20pen'+'umbraSize,'+'\x20float\x20inv'+'ShadowMapS'+'ize,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'PoissonDis'+'kData\x20pois'+'sonData;\x0a\x20'+'\x20\x20\x20prepare'+'PoissonCon'+'stants(poi'+'ssonData,\x20'+'shadowBloc'+'kerSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'searchWidt'+'h\x20=\x20penumb'+'raSize\x20*\x20i'+'nvShadowMa'+'pSize;\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckerSum\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20n'+'umBlockers'+'\x20=\x200;\x0a\x0a\x20\x20\x20'+'\x20for(\x20int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20shadowBlo'+'ckerSample'+'s;\x20++i\x20)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20poisso'+'nUV\x20=\x20gene'+'ratePoisso'+'nSample(po'+'issonData)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20sampl'+'eUV\x20=\x20shad'+'owCoords\x20+'+'\x20poissonUV'+'\x20*\x20searchW'+'idth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowMapD'+'epth\x20=\x20tex'+'ture2DLod('+'shadowMap,'+'\x20sampleUV,'+'\x200.0).r;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20')+('(\x20shadowMa'+'pDepth\x20<\x20z'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20blo'+'ckerSum\x20+='+'\x20shadowMap'+'Depth;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20n'+'umBlockers'+'++;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20avgBlo'+'ckerDepth\x20'+'=\x20blockerS'+'um\x20/\x20float'+'(numBlocke'+'rs);\x0a}\x0a\x0afl'+'oat\x20PCSSFi'+'lter(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec2\x20uv,'+'\x20float\x20rec'+'eiverDepth'+',\x20int\x20shad'+'owSamples,'+'\x20float\x20fil'+'terRadius,'+'\x20float\x20ran'+'domSeed)\x20{'+'\x0a\x20\x0a\x20\x20\x20\x20Poi'+'ssonDiskDa'+'ta\x20poisson'+'Data;\x0a\x20\x20\x20\x20'+'preparePoi'+'ssonConsta'+'nts(poisso'+'nData,\x20sha'+'dowSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'sum\x20=\x200.0f'+';\x0a\x20\x20\x20\x20for\x20'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowSamples'+';\x20++i\x20)\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20poi'+'ssonUV\x20=\x20g'+'eneratePoi'+'ssonSample'+'(poissonDa'+'ta);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sa'+'mpleUV\x20=\x20u'+'v\x20+\x20poisso'+'nUV\x20*\x20filt'+'erRadius;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20depth\x20'+'=\x20texture2'+'DLod(shado'+'wMap,\x20samp'+'leUV,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sum\x20+=\x20s'+'tep(receiv'+'erDepth,\x20d'+'epth);\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20ret'+'urn\x20sum\x20/\x20'+'float(shad'+'owSamples)'+';\x0a}\x20\x0a\x0afloa'+'t\x20getPenum'+'bra(float\x20'+'dblocker,\x20'+'float\x20drec'+'eiver,\x20flo'+'at\x20penumbr'+'aSize,\x20flo'+'at\x20penumbr'+'aFalloff)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20dist\x20=\x20d'+'receiver\x20-'+'\x20dblocker;'+'\x0a\x20\x20\x20\x20float'+'\x20penumbra\x20'+'=\x201.0\x20-\x20po'+'w(1.0\x20-\x20di'+'st,\x20penumb'+'raFalloff)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20penumbr'+'a\x20*\x20penumb'+'raSize;\x0a}\x0a'+'\x0afloat\x20PCS')+('SDirection'+'al(TEXTURE'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoords,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'shadowCoor'+'ds.z;\x0a\x20\x20\x20\x20'+'float\x20rand'+'omSeed\x20=\x20f'+'ractSinRan'+'d(gl_FragC'+'oord.xy);\x0a'+'\x20\x20\x20\x20int\x20sh'+'adowSample'+'s\x20=\x20int(so'+'ftShadowPa'+'rams.x);\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowBlocker'+'Samples\x20=\x20'+'int(softSh'+'adowParams'+'.y);\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'braSize\x20=\x20'+'softShadow'+'Params.z;\x0a'+'\x20\x20\x20\x20float\x20'+'penumbraFa'+'lloff\x20=\x20so'+'ftShadowPa'+'rams.w;\x0a\x0a\x20'+'\x20\x20\x20//\x20norm'+'alized\x20inv'+'erse\x20shado'+'w\x20map\x20size'+'\x20to\x20preser'+'ve\x20the\x20sha'+'dow\x20softne'+'ss\x20regardl'+'ess\x20of\x20the'+'\x20shadow\x20re'+'solution\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowMapSize'+'\x20=\x20texture'+'Size(shado'+'wMap,\x200).x'+';\x0a\x20\x20\x20\x20floa'+'t\x20invShado'+'wMapSize\x20='+'\x201.0\x20/\x20flo'+'at(shadowM'+'apSize);\x0a\x20'+'\x20\x20\x20invShad'+'owMapSize\x20'+'*=\x20float(s'+'hadowMapSi'+'ze)\x20/\x202048'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'bra;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20avgBl'+'ockerDepth'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'numBlocker'+'s\x20=\x200;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20PCSSF'+'indBlocker'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20avgB'+'lockerDept'+'h,\x20numBloc'+'kers,\x20shad'+'owCoords.x'+'y,\x20receive'+'rDepth,\x20sh'+'adowBlocke'+'rSamples,\x20')+('penumbraSi'+'ze,\x20invSha'+'dowMapSize'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ear'+'ly\x20out\x20whe'+'n\x20no\x20block'+'ers\x20are\x20pr'+'esent\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(nu'+'mBlockers\x20'+'<\x201)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x201.0f;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20penumbra'+'\x20size\x20is\x20b'+'ased\x20on\x20th'+'e\x20blocker\x20'+'depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20getPe'+'numbra(avg'+'BlockerDep'+'th,\x20shadow'+'Coords.z,\x20'+'penumbraSi'+'ze,\x20penumb'+'raFalloff)'+';\x0a\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nstant\x20fil'+'ter\x20size,\x20'+'no\x20contact'+'\x20hardening'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'penumbraSi'+'ze;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20filterRad'+'ius\x20=\x20penu'+'mbra\x20*\x20inv'+'ShadowMapS'+'ize;\x0a\x0a\x20\x20\x20\x20'+'//\x20filteri'+'ng\x0a\x20\x20\x20\x20ret'+'urn\x20PCSSFi'+'lter(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowSa'+'mples,\x20fil'+'terRadius,'+'\x20randomSee'+'d);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCSS(TEX'+'TURE_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec4\x20came'+'raParams,\x20'+'vec4\x20softS'+'hadowParam'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20PCSSDirec'+'tional(TEX'+'TURE_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP'+'arams);\x0a}\x0a'+'\x0a'),aE='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x0a\x20\x20\x20'+'\x20base_uv\x20-'+'=\x20vec2(0.5'+');\x0a\x20\x20\x20\x20bas'+'e_uv\x20*=\x20sh'+'adowMapSiz'+'eInv;\x0a\x0a\x20\x20\x20'+'\x20float\x20sum'+'\x20=\x200.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'w0\x20=\x20(3.0\x20'+'-\x202.0\x20*\x20s)'+';\x0a\x20\x20\x20\x20floa'+'t\x20uw1\x20=\x20(1'+'.0\x20+\x202.0\x20*'+'\x20s);\x0a\x0a\x20\x20\x20\x20'+'float\x20u0\x20='+'\x20(2.0\x20-\x20s)'+'\x20/\x20uw0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20u1\x20=\x20s'+'\x20/\x20uw1\x20+\x201'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20vw0\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20float\x20vw'+'1\x20=\x20(1.0\x20+'+'\x202.0\x20*\x20t);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20v0\x20=\x20(2.'+'0\x20-\x20t)\x20/\x20v'+'w0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20float\x20'+'v1\x20=\x20t\x20/\x20v'+'w1\x20+\x201.0;\x0a'+'\x0a\x20\x20\x20\x20u0\x20=\x20'+'u0\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'0\x20=\x20v0\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20u1\x20=\x20u'+'1\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20v1'+'\x20=\x20v1\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw0\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v0,\x20'+'z));\x0a\x20\x20\x20\x20s'+('um\x20+=\x20uw1\x20'+'*\x20vw0\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v0,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw0\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u0,\x20v1'+',\x20z));\x0a\x20\x20\x20'+'\x20sum\x20+=\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSha'+'dow(shadow'+'Map,\x20vec3('+'u1,\x20v1,\x20z)'+');\x0a\x0a\x20\x20\x20\x20su'+'m\x20*=\x201.0f\x20'+'/\x2016.0;\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF3x3(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F3x3(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado'+'wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF3'+'x3(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowPCF1'+'x1(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20textureS'+'hadow(shad'+'owMap,\x20sha'+'dowCoord);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20shadow'+'Coord);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a#ifndef\x20W'+'EBGPU\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh')+('adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict'+'\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wPointPCF1'+'x1(sampler'+'CubeShadow'+'\x20shadowMap'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(lightDi'+'r,\x20shadowZ'+'));\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec3\x20sh'+'adowCoord,')+('\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPoi'+'ntPCF3x3(s'+'hadowMap,\x20'+'shadowPara'+'ms,\x20lightD'+'ir);\x0a}\x0a\x0a#e'+'ndif\x0a'),oE='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF5x5(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad')+('owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a'),lE='\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+'\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+('01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a'),hE='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0au'+'niform\x20vec'+'4\x20texture_'+'poseMapSiz'+'e;\x0a\x0amat4\x20g'+'etBoneMatr'+'ix(const\x20i'+'n\x20float\x20i)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20j\x20=\x20i\x20*'+'\x203.0;\x0a\x20\x20\x20\x20'+'float\x20dx\x20='+'\x20texture_p'+'oseMapSize'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20dy\x20=\x20t'+'exture_pos'+'eMapSize.w'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20y\x20=\x20flo'+'or(j\x20*\x20dx)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20j\x20-\x20'+'(y\x20*\x20textu'+'re_poseMap'+'Size.x);\x0a\x20'+'\x20\x20\x20y\x20=\x20dy\x20'+'*\x20(y\x20+\x200.5'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20elem'+'ents\x20of\x204x'+'3\x20matrix\x0a\x20'+'\x20\x20\x20vec4\x20v1'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x200.5),'+'\x20y));\x0a\x20\x20\x20\x20'+'vec4\x20v2\x20=\x20'+'texture2D('+'texture_po'+'seMap,\x20vec'+'2(dx\x20*\x20(x\x20'+'+\x201.5),\x20y)'+');\x0a\x20\x20\x20\x20vec'+'4\x20v3\x20=\x20tex'+'ture2D(tex'+'ture_poseM'+'ap,\x20vec2(d'+'x\x20*\x20(x\x20+\x202'+'.5),\x20y));\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',cE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0aunifor'+'m\x20vec4\x20tex'+'ture_poseM'+'apSize;\x0a\x0av'+'oid\x20getBon'+'eMatrix(co'+'nst\x20in\x20flo'+'at\x20index,\x20'+'out\x20vec4\x20v'+'1,\x20out\x20vec'+'4\x20v2,\x20out\x20'+'vec4\x20v3)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20i\x20=\x20floa'+'t(index);\x0a'+'\x20\x20\x20\x20float\x20'+'j\x20=\x20i\x20*\x203.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20dx\x20=\x20te'+'xture_pose'+'MapSize.z;'+'\x0a\x20\x20\x20\x20float'+'\x20dy\x20=\x20text'+'ure_poseMa'+'pSize.w;\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20fl'+'oat\x20y\x20=\x20fl'+'oor(j\x20*\x20dx'+');\x0a\x20\x20\x20\x20flo'+'at\x20x\x20=\x20j\x20-'+'\x20(y\x20*\x20text'+'ure_poseMa'+'pSize.x);\x0a'+'\x20\x20\x20\x20y\x20=\x20dy'+'\x20*\x20(y\x20+\x200.'+'5);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20ele'+'ments\x20of\x204'+'x3\x20matrix\x0a'+'\x20\x20\x20\x20v1\x20=\x20t'+'exture2D(t'+'exture_pos'+'eMap,\x20vec2'+'(dx\x20*\x20(x\x20+'+'\x200.5),\x20y))'+';\x0a\x20\x20\x20\x20v2\x20='+'\x20texture2D'+'(texture_p'+'oseMap,\x20ve'+'c2(dx\x20*\x20(x'+'\x20+\x201.5),\x20y'+'));\x0a\x20\x20\x20\x20v3'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x202.5),'+'\x20y));\x0a}\x0a\x0am'+'at4\x20getSki'+'nMatrix(co'+'nst\x20in\x20vec'+'4\x20indices,'+'\x20const\x20in\x20'+'vec4\x20weigh'+'ts)\x20{\x0a\x20\x20\x20\x20'+'//\x20get\x204\x20b'+'one\x20matric'+'es\x0a\x20\x20\x20\x20vec'+'4\x20a1,\x20a2,\x20'+'a3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(indices.'+'x,\x20a1,\x20a2,'+'\x20a3);\x0a\x0a\x20\x20\x20'+'\x20vec4\x20b1,\x20'+'b2,\x20b3;\x0a\x20\x20'+'\x20\x20getBoneM'+'atrix(indi'+'ces.y,\x20b1,'+'\x20b2,\x20b3);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'c1,\x20c2,\x20c3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'indices.z,'+'\x20c1,\x20c2,\x20c'+'3);\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20d1,\x20d2'+',\x20d3;\x0a\x20\x20\x20\x20'+('getBoneMat'+'rix(indice'+'s.w,\x20d1,\x20d'+'2,\x20d3);\x0a\x0a\x20'+'\x20\x20\x20//\x20mult'+'iply\x20them\x20'+'by\x20weights'+'\x20and\x20add\x20u'+'p\x20to\x20get\x20f'+'inal\x204x3\x20m'+'atrix\x0a\x20\x20\x20\x20'+'vec4\x20v1\x20=\x20'+'a1\x20*\x20weigh'+'ts.x\x20+\x20b1\x20'+'*\x20weights.'+'y\x20+\x20c1\x20*\x20w'+'eights.z\x20+'+'\x20d1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20vec4\x20v2\x20='+'\x20a2\x20*\x20weig'+'hts.x\x20+\x20b2'+'\x20*\x20weights'+'.y\x20+\x20c2\x20*\x20'+'weights.z\x20'+'+\x20d2\x20*\x20wei'+'ghts.w;\x0a\x20\x20'+'\x20\x20vec4\x20v3\x20'+'=\x20a3\x20*\x20wei'+'ghts.x\x20+\x20b'+'3\x20*\x20weight'+'s.y\x20+\x20c3\x20*'+'\x20weights.z'+'\x20+\x20d3\x20*\x20we'+'ights.w;\x0a\x0a'+'\x20\x20\x20\x20//\x20add'+'\x20up\x20weight'+'s\x0a\x20\x20\x20\x20floa'+'t\x20one\x20=\x20do'+'t(weights,'+'\x20vec4(1.0)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20transpose'+'\x20to\x204x4\x20ma'+'trix\x0a\x20\x20\x20\x20r'+'eturn\x20mat4'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.x,\x20v2.x'+',\x20v3.x,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.y,\x20v2.y,'+'\x20v3.y,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.z,\x20v2.z,\x20'+'v3.z,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'w,\x20v2.w,\x20v'+'3.w,\x20one\x0a\x20'+'\x20\x20\x20);\x0a}\x0a'),dE='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22envMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20var'+'ying\x20vec3\x20'+'vViewDir;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20float\x20sk'+'yboxHighli'+'ghtMultipl'+'ier;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'_CUBEMAP\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20vWorld'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat3\x20'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20pr'+'ojectedSky'+'domeCenter'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20env-atlas'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_en'+'vAtlas;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'mipLevel;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKY_CUBEM'+'AP\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SKYMESH'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20get\x20vecto'+'r\x20from\x20wor'+'ld\x20space\x20p'+'os\x20to\x20trip'+'od\x20origin\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20envDir\x20=\x20'+'normalize('+'vWorldPos\x20'+'-\x20projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20envDir'+'\x20*\x20cubeMap'+'RotationMa'+'trix;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dir'+'\x20=\x20vViewDi'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dir.'+'x\x20*=\x20-1.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20__I'+'NJECT_SKYB'+('OX_DECODE_'+'FNC(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20vViewDir'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20toS'+'phericalUv'+'(normalize'+'(dir));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20line'+'ar\x20=\x20__INJ'+'ECT_SKYBOX'+'_DECODE_FN'+'C(texture2'+'D(texture_'+'envAtlas,\x20'+'mapRoughne'+'ssUv(uv,\x20m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'our\x20HDR\x20en'+'codes\x20valu'+'es\x20up\x20to\x206'+'4,\x20so\x20allo'+'w\x20extra\x20br'+'ightness\x20f'+'or\x20the\x20cli'+'pped\x20value'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(any(gr'+'eaterThanE'+'qual(linea'+'r,\x20vec3(64'+'.0))))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20linear\x20*='+'\x20skyboxHig'+'hlightMult'+'iplier;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x20\x20\x20\x20}\x0a'),uE='\x0aattribute'+'\x20vec3\x20aPos'+'ition;\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a#de'+'fine\x20VIEWM'+'ATRIX\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'t4\x20matrix_'+'projection'+'Skybox;\x0aun'+'iform\x20mat3'+'\x20cubeMapRo'+'tationMatr'+'ix;\x0a\x0avaryi'+'ng\x20vec3\x20vV'+'iewDir;\x0a\x0a#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_mo'+'del;\x0a\x20\x20\x20\x20v'+'arying\x20vec'+'3\x20vWorldPo'+'s;\x0a#endif\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x0a'+'\x20\x20\x20\x20mat4\x20v'+'iew\x20=\x20matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4\x20worldPo'+'s\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'WorldPos\x20='+'\x20worldPos.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20mat'+'rix_projec'+'tionSkybox'+'\x20*\x20view\x20*\x20'+'worldPos;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20view\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ViewDir\x20=\x20'+'aPosition\x20'+'*\x20cubeMapR'+'otationMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Force'+'\x20skybox\x20to'+'\x20far\x20Z,\x20re'+'gardless\x20o'+'f\x20the\x20clip'+'\x20planes\x20on'+'\x20the\x20camer'+'a\x0a\x20\x20\x20\x20//\x20S'+'ubtract\x20a\x20'+'tiny\x20fudge'+'\x20factor\x20to'+'\x20ensure\x20fl'+'oating\x20poi'+'nt\x20errors\x20'+'don\x27t\x0a\x20\x20\x20\x20'+'//\x20still\x20p'+'ush\x20pixels'+'\x20beyond\x20fa'+'r\x20Z.\x20See:\x0a'+'\x20\x20\x20\x20//\x20htt'+'ps://commu'+'nity.khron'+'os.org/t/s'+'kybox-prob'+'lem/61857\x0a'+'\x0a\x20\x20\x20\x20gl_Po'+'sition.z\x20='+'\x20gl_Positi'+('on.w\x20-\x201.0'+'e-7;\x0a}\x0a'),fE='\x0a\x0a#ifdef\x20M'+'APCOLOR\x0aun'+'iform\x20vec3'+'\x20material_'+'specular;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularity()\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20specularC'+'olor\x20=\x20vec'+'3(1,1,1);\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPCOLOR'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20material'+'_specular;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20$DEC'+'ODE(textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias)).$CH'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPVE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20specu'+'larColor;\x0a'+'}\x0a',pE='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0acon'+'st\x20float\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+'\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'Uv(vec3\x20di'+'r)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'(dir)\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20re'+'turn\x20vec2('+'uv.x,\x201.0\x20'+'-\x20uv.y);\x0a}'+'\x0a',mE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_speculari'+'tyFactor;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularityFac'+'tor()\x20{\x0a\x20\x20'+'\x20\x20float\x20sp'+'ecularityF'+'actor\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larityFact'+'or\x20*=\x20text'+'ure2DBias('+'$SAMPLER,\x20'+'$UV,\x20textu'+'reBias).$C'+'H;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPV'+'ERTEX\x0a\x20\x20\x20\x20'+'specularit'+'yFactor\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularityFac'+'tor\x20=\x20spec'+'ularityFac'+'tor;\x0a}\x0a',_E='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',gE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4(0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20vec3(0'+');\x0a\x20\x20\x20\x20ccR'+'eflection\x20'+'=\x20vec3(0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a',yE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20get'+'Position()'+';\x0a',xE='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vUv0;\x0a\x20\x20\x20\x20'+'nineSliced'+'Uv.y\x20=\x201.0'+'\x20-\x20nineSli'+'cedUv.y;\x0a\x0a',SE='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',vE='\x0afloat\x20exp'+'onent\x20=\x20VS'+'M_EXPONENT'+';\x0a\x0adepth\x20='+'\x202.0\x20*\x20dep'+'th\x20-\x201.0;\x0a'+'depth\x20=\x20\x20e'+'xp(exponen'+'t\x20*\x20depth)'+';\x0agl_FragC'+'olor\x20=\x20vec'+'4(depth,\x20d'+'epth*depth'+',\x201.0,\x201.0'+');\x0a',bE='\x0avec3\x20getT'+'angent()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a}'+'\x0a\x0avec3\x20get'+'Binormal()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'vNormalW,\x20'+'vTangentW)'+'\x20*\x20vertex_'+'tangent.w;'+'\x0a}\x0a',wE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dTBN\x20=\x20ma'+'t3(normali'+'ze(tangent'+'),\x20normali'+'ze(binorma'+'l),\x20normal'+'ize(normal'+'));\x0a}\x0a',TE='\x0auniform\x20f'+'loat\x20tbnBa'+'sis;\x0a\x0a//\x20h'+'ttp://www.'+'thetenthpl'+'anet.de/ar'+'chives/118'+'0\x0avoid\x20get'+'TBN(vec3\x20t'+'angent,\x20ve'+'c3\x20binorma'+'l,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20$UV;\x0a\x0a\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20ve'+'c3\x20dp1\x20=\x20d'+'Fdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20vec3\x20dp'+'2\x20=\x20dFdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20vec2'+'\x20duv2\x20=\x20dF'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20so'+'lve\x20the\x20li'+'near\x20syste'+'m\x0a\x20\x20\x20\x20vec3'+'\x20dp2perp\x20='+'\x20cross(\x20dp'+'2,\x20normal\x20'+');\x0a\x20\x20\x20\x20vec'+'3\x20dp1perp\x20'+'=\x20cross(\x20n'+'ormal,\x20dp1'+'\x20);\x0a\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20B\x20=\x20dp2'+'perp\x20*\x20duv'+'1.y\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.y;\x0a\x0a\x20\x20\x20\x20/'+'/\x20construc'+'t\x20a\x20scale-'+'invariant\x20'+'frame\x0a\x20\x20\x20\x20'+'float\x20deno'+'m\x20=\x20max(\x20d'+'ot(T,T),\x20d'+'ot(B,B)\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20invmax\x20=\x20'+'(denom\x20==\x20'+'0.0)\x20?\x200.0'+'\x20:\x20tbnBasi'+'s\x20/\x20sqrt(\x20'+'denom\x20);\x0a\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'}\x0a',AE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20cross(nor'+'mal,\x20vObje'+'ctSpaceUpW'+');\x0a\x20\x20\x20\x20vec'+'3\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(dot(B,B'+')==0.0)\x20//'+'\x20deal\x20with'+'\x20case\x20when'+'\x20vObjectSp'+'aceUpW\x20nor'+'mal\x20are\x20pa'+'rallel\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20maj'+'or=max(max'+'(normal.x,'+'\x20normal.y)'+',\x20normal.z'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'1,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.y\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'0,1));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.z\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(1,'+'0,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'dTBN\x20=\x20mat'+'3(normaliz'+'e(T),\x20norm'+'alize(B),\x20'+'normalize('+'normal));\x0a'+'}\x0a',EE='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'thickness;'+'\x0a#endif\x0a\x0av'+'oid\x20getThi'+'ckness()\x20{'+'\x0a\x20\x20\x20\x20dThic'+'kness\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20material'+'_thickness'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'dThickness'+'\x20*=\x20textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias).$CH;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.$VC);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',CE='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',ME='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',PE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',RE='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',IE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',DE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',LE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',FE='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',OE='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20vec4'+'(vertex_te'+'xCoord1.xy'+'\x20*\x202.0\x20-\x201'+'.0,\x200.5,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.y\x20*=\x20-1'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20sc'+'reenPos.y\x20'+'*=\x20project'+'ionFlipY;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'IXELSNAP\x0a\x20'+'\x20\x20\x20//\x20snap'+'\x20vertex\x20to'+'\x20a\x20pixel\x20b'+'oundary\x0a\x20\x20'+'\x20\x20screenPo'+'s.xy\x20=\x20(sc'+'reenPos.xy'+'\x20*\x200.5)\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20s'+'creenPos.x'+'y\x20*=\x20uScre'+'enSize.xy;'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20*='+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20screenPos'+'.xy\x20=\x20(scr'+'eenPos.xy\x20'+'*\x202.0)\x20-\x201'+'.0;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}'+'\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),kE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat3'+'\x20matrix_no'+'rmal;\x0a\x0a#if'+'def\x20MORPHI'+'NG\x0a\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'morph_tex_'+'params;\x0a\x20\x20'+'\x20\x20attribut'+'e\x20uint\x20mor'+'ph_vertex_'+'id;\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20getTe'+'xtureMorph'+'Coords()\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20turn\x20mo'+'rph_vertex'+'_id\x20into\x20i'+'nt\x20grid\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20iv'+'ec2\x20textur'+'eSize\x20=\x20iv'+'ec2(morph_'+'tex_params'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20int\x20morph'+'GridV\x20=\x20in'+'t(morph_ve'+'rtex_id)\x20/'+'\x20textureSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20mo'+'rphGridU\x20='+'\x20int(morph'+'_vertex_id'+')\x20-\x20(morph'+'GridV\x20*\x20te'+'xtureSize.'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20W'+'EBGPU\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20flipY\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20m'+'orphGridV\x20'+'=\x20textureS'+'ize.y\x20-\x20mo'+'rphGridV\x20-'+'\x201;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20ivec2('+'morphGridU'+',\x20morphGri'+'dV);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MORPHIN'+'G_POSITION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec3\x20aabbSi'+'ze;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20us'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20mor'+'phPosition'+'Tex;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20defi'+'ned(BATCH)'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22skinB'+'atchVS\x22\x0a\x0a\x20'+('\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#elif\x20'+'defined(SK'+'IN)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inVS\x22\x0a\x0a\x20\x20\x20'+'\x20mat4\x20getM'+'odelMatrix'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'matrix_mod'+'el\x20*\x20getSk'+'inMatrix(v'+'ertex_bone'+'Indices,\x20v'+'ertex_bone'+'Weights);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#el'+'if\x20defined'+'(INSTANCIN'+'G)\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22tr'+'ansformIns'+'tancingVS\x22'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel;\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getL'+'ocalPositi'+'on(vec3\x20ve'+'rtexPositi'+'on)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lPos\x20=\x20ver'+'texPositio'+'n;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphPos\x20=\x20'+'vec3(texel'+'Fetch(morp'+'hPositionT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz)\x20/\x20'+'65535.0\x20*\x20'+'aabbSize\x20+'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20texelFet'+'ch(morphPo'+'sitionTex,'+'\x20ivec2(mor'+'phUV),\x200).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos\x20+='+'\x20morphPos;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Pos;\x0a}\x0a\x0a'),BE='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',NE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_refractio'+'n;\x0a#endif\x0a'+'\x0avoid\x20getR'+'efraction('+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20refrac'+'tion\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPFLO'+'AT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20r'+'efraction\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ref'+'raction\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dTran'+'smission\x20='+'\x20refractio'+'n;\x0a}\x0a',zE='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',UE='\x0a#ifdef\x20NI'+'NESLICED\x0av'+'ec2\x20getUv0'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20v'+'ertex_posi'+'tion.xz;\x0a\x0a'+'\x20\x20\x20\x20//\x20off'+'set\x20inner\x20'+'vertices\x20i'+'nside\x0a\x20\x20\x20\x20'+'//\x20(origin'+'al\x20vertice'+'s\x20must\x20be\x20'+'in\x20[-1;1]\x20'+'range)\x0a\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'vec2\x20negat'+'iveUnitOff'+'set\x20=\x20clam'+'p(-vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'uv\x20+=\x20(-po'+'sitiveUnit'+'Offset\x20*\x20i'+'nnerOffset'+'.xy\x20+\x20nega'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.z'+'w)\x20*\x20verte'+'x_texCoord'+'0.xy;\x0a\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x0a\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20uv;\x0a}\x0a#e'+'lse\x0avec2\x20g'+'etUv0()\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vertex_te'+'xCoord0;\x0a}'+'\x0a#endif\x0a',VE='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',GE='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',HE='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tViewNorma'+'l()\x20{\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(matrix_v'+'iew)\x20*\x20vNo'+'rmalW;\x0a}\x0a',X={'alphaTestPS':hw,'ambientConstantPS':cw,'ambientEnvPS':dw,'ambientSHPS':uw,'aoPS':fw,'aoDetailMapPS':pw,'aoDiffuseOccPS':mw,'aoSpecOccPS':_w,'aoSpecOccConstPS':gw,'aoSpecOccConstSimplePS':yw,'aoSpecOccSimplePS':xw,'basePS':Sw,'baseVS':vw,'baseNineSlicedPS':bw,'baseNineSlicedVS':ww,'baseNineSlicedTiledPS':Tw,'bayerPS':Aw,'blurVSMPS':Ew,'clearCoatPS':Cw,'clearCoatGlossPS':Mw,'clearCoatNormalPS':Pw,'clusteredLightCookiesPS':Iw,'clusteredLightShadowsPS':Dw,'clusteredLightUtilsPS':Rw,'clusteredLightPS':Lw,'combinePS':Fw,'cookiePS':Ow,'cubeMapProjectBoxPS':kw,'cubeMapProjectNonePS':Bw,'cubeMapRotatePS':Nw,'debugOutputPS':zw,'debugProcessFrontendPS':Uw,'detailModesPS':Vw,'diffusePS':Gw,'diffuseDetailMapPS':Hw,'decodePS':S0,'emissivePS':Ww,'encodePS':v0,'endPS':$w,'endVS':qw,'envAtlasPS':Xw,'envConstPS':jw,'envMultiplyPS':Yw,'falloffInvSquaredPS':Kw,'falloffLinearPS':Zw,'floatUnpackingPS':Qw,'floatAsUintPS':Jw,'fogPS':eT,'fresnelSchlickPS':tT,'fullscreenQuadPS':sT,'fullscreenQuadVS':iT,'gammaPS':rT,'gles3PS':Jy,'gles3VS':e0,'glossPS':nT,'gsplatCenterVS':aT,'gsplatCornerVS':dT,'gsplatColorVS':oT,'gsplatCommonVS':lT,'gsplatCompressedDataVS':hT,'gsplatCompressedSHVS':cT,'gsplatDataVS':uT,'gsplatOutputVS':fT,'gsplatPS':pT,'gsplatSHVS':mT,'gsplatSourceVS':_T,'gsplatVS':gT,'iridescenceDiffractionPS':yT,'iridescencePS':xT,'iridescenceThicknessPS':ST,'iorPS':vT,'lightDiffuseLambertPS':bT,'lightDirPointPS':wT,'lightmapAddPS':TT,'lightmapDirAddPS':AT,'lightmapDirPS':ET,'lightmapSinglePS':CT,'lightSpecularAnisoGGXPS':MT,'lightSpecularBlinnPS':PT,'lightSheenPS':RT,'linearizeDepthPS':IT,'litShaderArgsPS':DT,'ltcPS':LT,'metalnessPS':FT,'metalnessModulatePS':kT,'msdfPS':OT,'msdfVS':BT,'normalVS':NT,'normalCoreVS':zT,'normalDetailMapPS':UT,'normalMapPS':VT,'normalXYPS':GT,'normalXYZPS':HT,'opacityPS':WT,'opacityDitherPS':$T,'outputPS':qT,'outputAlphaPS':XT,'outputAlphaOpaquePS':jT,'outputAlphaPremulPS':YT,'outputTex2DPS':KT,'sheenPS':ZT,'sheenGlossPS':QT,'parallaxPS':JT,'particlePS':eA,'particleVS':tA,'particleAnimFrameClampVS':sA,'particleAnimFrameLoopVS':iA,'particleAnimTexVS':rA,'particleInputFloatPS':nA,'particleInputRgba8PS':aA,'particleOutputFloatPS':oA,'particleOutputRgba8PS':lA,'particleUpdaterAABBPS':hA,'particleUpdaterEndPS':cA,'particleUpdaterInitPS':dA,'particleUpdaterNoRespawnPS':uA,'particleUpdaterOnStopPS':fA,'particleUpdaterRespawnPS':pA,'particleUpdaterSpherePS':mA,'particleUpdaterStartPS':_A,'particle_billboardVS':gA,'particle_blendAddPS':yA,'particle_blendMultiplyPS':xA,'particle_blendNormalPS':SA,'particle_cpuVS':vA,'particle_cpu_endVS':bA,'particle_customFaceVS':wA,'particle_endPS':TA,'particle_endVS':AA,'particle_halflambertPS':EA,'particle_initVS':CA,'particle_lambertPS':MA,'particle_lightingPS':PA,'particle_localShiftVS':RA,'particle_meshVS':IA,'particle_normalVS':DA,'particle_normalMapPS':LA,'particle_pointAlongVS':FA,'particle_softPS':OA,'particle_softVS':kA,'particle_stretchVS':BA,'particle_TBNVS':NA,'particle_wrapVS':zA,'pickPS':UA,'reflDirPS':VA,'reflDirAnisoPS':GA,'reflectionCCPS':HA,'reflectionCubePS':WA,'reflectionEnvHQPS':$A,'reflectionEnvPS':qA,'reflectionSpherePS':XA,'reflectionSheenPS':jA,'refractionCubePS':YA,'refractionDynamicPS':KA,'reprojectPS':ZA,'sampleCatmullRomPS':QA,'screenDepthPS':JA,'shadowCascadesPS':eE,'shadowEVSMPS':tE,'shadowEVSMnPS':sE,'shadowPCSSPS':iE,'shadowSampleCoordPS':rE,'shadowSoftPS':nE,'shadowStandardPS':aE,'shadowStandardGL2PS':oE,'shadowVSM_commonPS':lE,'skinBatchVS':hE,'skinVS':cE,'skyboxPS':dE,'skyboxVS':uE,'specularPS':fE,'sphericalPS':pE,'specularityFactorPS':mE,'spotPS':_E,'startPS':gE,'startVS':yE,'startNineSlicedPS':xE,'startNineSlicedTiledPS':SE,'storeEVSMPS':vE,'tangentBinormalVS':bE,'TBNPS':wE,'TBNderivativePS':TE,'TBNObjectSpacePS':AE,'thicknessPS':EE,'tonemappingPS':CE,'tonemappingAcesPS':ME,'tonemappingAces2PS':PE,'tonemappingFilmicPS':RE,'tonemappingHejlPS':IE,'tonemappingLinearPS':DE,'tonemappingNeutralPS':LE,'tonemappingNonePS':FE,'transformVS':OE,'transformCoreVS':kE,'transformInstancingVS':BE,'transmissionPS':NE,'twoSidedLightingPS':zE,'uv0VS':UE,'uv1VS':VE,'viewDirPS':GE,'viewNormalVS':HE,'webgpuPS':t0,'webgpuVS':s0},b0=new Ot();function ka(_0x238688){const _0x208489=b0['get'](_0x238688);return v['assert'](_0x208489),_0x208489;}function WE(_0x20165b,_0x4de8ea){v['assert'](_0x4de8ea),b0['get'](_0x20165b,()=>_0x4de8ea);}class It{static['begin'](){return'void\x20main('+'void)\x0a{\x0a';}static['end'](){return'}\x0a';}static['definesHas'+'h'](_0x577946){const _0x3149ff=Array['from'](_0x577946)['sort']((_0xda1c86,_0x5cdf0a)=>_0xda1c86[0x1449+-0x1686+0x23d]>_0x5cdf0a[0x1cdb+-0x148d+-0x84e]?-0x727+0x21bf+-0x1a97*0x1:-(0x1*-0x13ca+0xb6+0x1315));return hn(JSON['stringify'](_0x3149ff));}}const $E=new Ot();class qE{constructor(_0x24ee6e,_0xea9823,_0x53fcfd={}){c(this,'index'),c(this,'name'),c(this,'defines',new Map()),(v['assert'](/^[a-z]\w*$/i['test'](_0x24ee6e),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x24ee6e),this['name']=_0x24ee6e,this['index']=_0xea9823,Object['assign'](this,_0x53fcfd),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x380a43;this['isShadow']?_0x380a43='SHADOW':this['isForward']?_0x380a43='FORWARD':this['index']===rl?_0x380a43='DEPTH':this['index']===Oa&&(_0x380a43='PICK'),this['defines']['set'](_0x380a43+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Ks{constructor(){c(this,'passesName'+'d',new Map()),c(this,'passesInde'+'xed',[]),c(this,'nextIndex',-0x12fd*0x1+0x1*0xaff+0x3*0x2aa);const _0x504372=(_0x148aac,_0x1f7631,_0x6d96f6)=>{const _0xd6a2a0=this['allocate'](_0x148aac,_0x6d96f6);v['assert'](_0xd6a2a0['index']===_0x1f7631);};_0x504372('forward',gn,{'isForward':!(-0x1*-0x25b9+-0x2327+-0xe*0x2f)}),_0x504372('prepass',il),_0x504372('depth',rl),_0x504372('pick',Oa),_0x504372('shadow',Rp);}static['get'](_0x19e62a){return v['assert'](_0x19e62a),$E['get'](_0x19e62a,()=>new Ks());}['allocate'](_0x13449f,_0x4f1910){let _0x6da752=this['passesName'+'d']['get'](_0x13449f);return _0x6da752===void(0xd81*0x1+0x4a4+-0x1225)&&(_0x6da752=new qE(_0x13449f,this['nextIndex'],_0x4f1910),this['passesName'+'d']['set'](_0x6da752['name'],_0x6da752),this['passesInde'+'xed'][_0x6da752['index']]=_0x6da752,this['nextIndex']++),_0x6da752;}['getByIndex'](_0x36a461){const _0x4ec4cf=this['passesInde'+'xed'][_0x36a461];return v['assert'](_0x4ec4cf),_0x4ec4cf;}['getByName'](_0x142499){return this['passesName'+'d']['get'](_0x142499);}}function Is(_0x4e51ff,_0x2c8b7c,_0x5517d4,_0x4fa609,_0x1e592e,_0x4e933a=!(-0x1bbd+0x592+0x162c),_0x2c7635={}){v['assert'](!(0x23+0xf0d+0x12*-0xd8)),typeof _0x4e933a=='boolean'?_0x2c7635['useTransfo'+'rmFeedback']=_0x4e933a:typeof _0x4e933a=='object'&&(_0x2c7635={..._0x2c7635,..._0x4e933a});const _0x59d24c=ka(_0x4e51ff);let _0x421326=_0x59d24c['getCachedS'+'hader'](_0x4fa609);return _0x421326||(_0x421326=new i0(_0x4e51ff,Mt['createDefi'+'nition'](_0x4e51ff,{..._0x2c7635,'name':_0x4fa609,'vertexCode':_0x2c8b7c,'fragmentCode':_0x5517d4,'attributes':_0x1e592e})),_0x59d24c['setCachedS'+'hader'](_0x4fa609,_0x421326)),_0x421326;}class XE extends It{constructor(_0x524fbe,_0x5b9f9e){super(),this['key']=_0x524fbe,this['shaderDefi'+'nition']=_0x5b9f9e;}['generateKe'+'y'](_0x4fd304){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x5945d2,_0x345e8e){return this['shaderDefi'+'nition'];}}function jE(_0x2ac462,_0x4272d9){v['assert'](_0x2ac462);const _0x35516f=_0x2ac462['definition'],_0x34d9f3=(_0x35516f['name']??'shader')+'-id-'+_0x2ac462['id'],_0x11cd7c=new XE(_0x34d9f3,_0x35516f),_0x76a5bb='shader',_0x3edb2e=ka(_0x2ac462['device']);v['assert'](!_0x3edb2e['isRegister'+'ed'](_0x76a5bb)),_0x3edb2e['register'](_0x76a5bb,_0x11cd7c);const _0x518e58=_0x3edb2e['getProgram'](_0x76a5bb,{},_0x4272d9);return _0x2ac462['definition']['shaderLang'+'uage']===Ph&&(_0x518e58['meshUnifor'+'mBufferFor'+'mat']=_0x35516f['meshUnifor'+'mBufferFor'+'mat'],_0x518e58['meshBindGr'+'oupFormat']=_0x35516f['meshBindGr'+'oupFormat']),_0x3edb2e['unregister'](_0x76a5bb),_0x518e58;}const Dp=(_0x26225a,_0x790cbb)=>{const _0x369be2=new Map(_0x26225a['defines']);return _0x790cbb['cameraShad'+'erParams']['defines']['forEach']((_0x53490c,_0x152238)=>_0x369be2['set'](_0x152238,_0x53490c)),Ks['get'](_0x790cbb['device'])['getByIndex'](_0x790cbb['pass'])['defines']['forEach']((_0x38c8a5,_0x46bc5e)=>_0x369be2['set'](_0x46bc5e,_0x38c8a5)),_0x369be2;},YE={'type':ar,'base':0x0,'count':0x4,'indexed':!(-0x2*0x1137+-0x3*-0x90+0x20bf)},Va=new Q(),Ga=new Q(),pd=new Yy();class Nu{constructor(_0x443c61){c(this,'uniformBuf'+'fer'),c(this,'bindGroup');const _0x450162=_0x443c61['device'];if(this['shader']=_0x443c61,v['assert'](_0x443c61),_0x450162['supportsUn'+'iformBuffe'+'rs']){const _0x349a66=new Yc();this['shader']=jE(_0x443c61,_0x349a66);const _0xec8ebb=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0xec8ebb&&(this['uniformBuf'+'fer']=new gp(_0x450162,_0xec8ebb,!(0xeb+-0x909*-0x2+-0x12fc)));const _0x4884ef=this['shader']['meshBindGr'+'oupFormat'];v['assert'](_0x4884ef),this['bindGroup']=new mp(_0x450162,_0x4884ef),mn['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x3aae6b,_0x1cc7fa;(_0x3aae6b=this['uniformBuf'+'fer'])==null||_0x3aae6b['destroy'](),this['uniformBuf'+'fer']=null,(_0x1cc7fa=this['bindGroup'])==null||_0x1cc7fa['destroy'](),this['bindGroup']=null;}['render'](_0x540b31,_0x577ce0){const _0x192193=this['shader']['device'];G['pushGpuMar'+'ker'](_0x192193,'QuadRender'),_0x540b31&&(Va['set'](_0x192193['vx'],_0x192193['vy'],_0x192193['vw'],_0x192193['vh']),Ga['set'](_0x192193['sx'],_0x192193['sy'],_0x192193['sw'],_0x192193['sh']),_0x577ce0=_0x577ce0??_0x540b31,_0x192193['setViewpor'+'t'](_0x540b31['x'],_0x540b31['y'],_0x540b31['z'],_0x540b31['w']),_0x192193['setScissor'](_0x577ce0['x'],_0x577ce0['y'],_0x577ce0['z'],_0x577ce0['w'])),_0x192193['setVertexB'+'uffer'](_0x192193['quadVertex'+'Buffer'],0x2*-0xab7+0x1*0xf3a+0x18d*0x4);const _0x33c8ff=this['shader'];if(_0x192193['setShader'](_0x33c8ff),_0x192193['supportsUn'+'iformBuffe'+'rs']){_0x192193['setBindGro'+'up'](Dh,_0x192193['emptyBindG'+'roup']);const _0x3d01a1=this['bindGroup'];_0x3d01a1['update'](),_0x192193['setBindGro'+'up'](Xy,_0x3d01a1);const _0x12bbe7=this['uniformBuf'+'fer'];_0x12bbe7?(_0x12bbe7['update'](pd),_0x192193['setBindGro'+'up'](Eu,pd['bindGroup'],pd['offsets'])):_0x192193['setBindGro'+'up'](Eu,_0x192193['emptyBindG'+'roup']);}_0x192193['draw'](YE),_0x540b31&&(_0x192193['setViewpor'+'t'](Va['x'],Va['y'],Va['z'],Va['w']),_0x192193['setScissor'](Ga['x'],Ga['y'],Ga['z'],Ga['w'])),G['popGpuMark'+'er'](_0x192193);}}class KE extends ds{constructor(_0x31b69f,_0x582a6c,_0x15577b,_0x32ce2b){super(_0x31b69f),this['quad']=_0x582a6c,this['rect']=_0x15577b,this['scissorRec'+'t']=_0x32ce2b;}['execute'](){const {device:_0x201ae7}=this;G['pushGpuMar'+'ker'](_0x201ae7,this['name']+':'+this['quad']['shader']['name']),_0x201ae7['setCullMod'+'e'](mt),_0x201ae7['setDepthSt'+'ate'](as['NODEPTH']),_0x201ae7['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),G['popGpuMark'+'er'](_0x201ae7);}}const ZE=new Q();function dn(_0x62310b,_0x34f8fb,_0x131358,_0x24413e,_0xb4aff){v['assert'](_0x34f8fb!==void(0x5a1+-0xa*-0x263+-0x1d7f));const _0x534edd=arguments[-0xcd7*-0x1+-0x11*0x236+-0x18c4*-0x1];v['call'](()=>{_0x534edd!==void(0x1bba+-0x6c*0x17+-0x602*0x3)&&v['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x5c8e1d=new Nu(_0x131358);_0x24413e||(_0x24413e=ZE,_0x24413e['x']=-0x5*0x65f+-0x4e2*0x4+0x3363,_0x24413e['y']=-0x1*0x481+-0x1db2+-0x67*-0x55,_0x24413e['z']=_0x34f8fb?_0x34f8fb['width']:_0x62310b['width'],_0x24413e['w']=_0x34f8fb?_0x34f8fb['height']:_0x62310b['height']);const _0x50a0af=new KE(_0x62310b,_0x5c8e1d,_0x24413e,_0xb4aff);_0x50a0af['init'](_0x34f8fb),_0x50a0af['colorOps']['clear']=!(-0xf4c+0x1d9b*-0x1+-0x18*-0x1df),_0x50a0af['depthStenc'+'ilOps']['clearDepth']=!(0x1481*0x1+0x1e83*0x1+-0x3303),_0x62310b['isWebGPU']&&_0x34f8fb===null&&_0x62310b['samples']>0x1df5*-0x1+0x8a7*0x2+0xca8&&(_0x50a0af['colorOps']['store']=!(0x17*-0x199+-0x13c1+-0x388*-0x10)),_0x50a0af['render'](),_0x5c8e1d['destroy']();}class zm{constructor(_0x1158f6,_0x503bb1,_0x47ea6c){c(this,'_aabb',new _e()),c(this,'origMeshIn'+'stances'),c(this,'meshInstan'+'ce',null),c(this,'dynamic'),c(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x1158f6,this['dynamic']=_0x503bb1,this['batchGroup'+'Id']=_0x47ea6c);}['destroy'](_0x45e94a,_0x56d9ee){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x45e94a,_0x56d9ee),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x33aa36,_0x22a11b){for(let _0x592fc5=-0x1*-0x25dc+-0x2171+0x1*-0x46b;_0x592fc5<_0x22a11b['length'];_0x592fc5++){const _0x4e02eb=_0x33aa36['layers']['getLayerBy'+'Id'](_0x22a11b[_0x592fc5]);_0x4e02eb&&_0x4e02eb['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x200cd7,_0x37e8be){for(let _0x31d893=0x2f6*-0x3+0xa*-0x30a+-0x1*-0x2746;_0x31d893<_0x37e8be['length'];_0x31d893++){const _0x2e8c5d=_0x200cd7['layers']['getLayerBy'+'Id'](_0x37e8be[_0x31d893]);_0x2e8c5d&&_0x2e8c5d['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][-0x1*-0x12e1+0x1*-0x29a+-0x1047]['aabb']);for(let _0x5b6c2b=-0x180c+0x3a*0x3d+-0x1b*-0x61;_0x5b6c2b<this['origMeshIn'+'stances']['length'];_0x5b6c2b++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x5b6c2b]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=-0x239*0xa+-0x1b0*-0xd+-0x4a*-0x1;}get['model'](){v['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class et{constructor(_0x1bb671,_0xad11f0,_0x4260b5,_0x547370,_0x52294e=[Fi]){c(this,'_ui',!(-0x96*-0x4+0x10b*0x1d+0x104b*-0x2)),c(this,'_sprite',!(-0x1992+0x2112+0x65*-0x13)),c(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),c(this,'id'),c(this,'name'),c(this,'dynamic'),c(this,'maxAabbSiz'+'e'),c(this,'layers'),(this['id']=_0x1bb671,this['name']=_0xad11f0,this['dynamic']=_0x4260b5,this['maxAabbSiz'+'e']=_0x547370,this['layers']=_0x52294e);}}c(et,'MODEL','model'),c(et,'ELEMENT','element'),c(et,'SPRITE','sprite'),c(et,'RENDER','render');const Um=new q();class nl{constructor(_0x2cb49a){c(this,'bones'),c(this,'boneTextur'+'eSize'),(this['_dirty']=!(-0x610+-0x2*-0x58f+0x287*-0x2),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(0x689*-0x1+-0xe6b*-0x1+-0x7e1),this['_updateBef'+'oreCull']=!(-0xcb*-0x31+0x1349+-0x3a24),_0x2cb49a&&this['initSkin'](_0x2cb49a));}set['rootBone'](_0x2d71cf){this['_rootBone']=_0x2d71cf;}get['rootBone'](){return this['_rootBone'];}['init'](_0x43cef3,_0x35d4e2){const _0x466486=_0x35d4e2*(0x29c+0x6da+-0x973);let _0x3550f6=Math['ceil'](Math['sqrt'](_0x466486));_0x3550f6=N['roundUp'](_0x3550f6,-0x50b*0x7+-0x66*-0x4+-0x437*-0x8);const _0x3f6dcf=Math['ceil'](_0x466486/_0x3550f6);this['boneTextur'+'e']=new he(_0x43cef3,{'width':_0x3550f6,'height':_0x3f6dcf,'format':Ke,'mipmaps':!(0x4eb*-0x4+-0x4*0x869+0x3551),'minFilter':de,'magFilter':de,'name':'skin'}),this['boneTextur'+'eSize']=[_0x3550f6,_0x3f6dcf,(0x1dc8+-0x1213+-0x4*0x2ed)/_0x3550f6,(0x1553+-0x21f5*-0x1+-0x3747)/_0x3f6dcf],this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':Fy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x47f9f4,_0x2d3790){this['rootBone']=_0x47f9f4;const _0x15b01e=this['skin'],_0x232dad=[];for(let _0x2f77e3=-0x21ca+-0x28*-0x45+0x1702;_0x2f77e3<_0x15b01e['boneNames']['length'];_0x2f77e3++){const _0x5410ed=_0x15b01e['boneNames'][_0x2f77e3];let _0x40a00c=_0x47f9f4['findByName'](_0x5410ed);_0x40a00c||(v['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x5410ed+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x2d3790['name']+(',\x20rootBone'+':\x20')+_0x47f9f4['name']),_0x40a00c=_0x2d3790),_0x232dad['push'](_0x40a00c);}this['bones']=_0x232dad;}['initSkin'](_0x34678a){this['skin']=_0x34678a,this['bones']=[];const _0x46e6f2=_0x34678a['inverseBin'+'dPose']['length'];this['init'](_0x34678a['device'],_0x46e6f2),this['matrices']=[];for(let _0x2bce4f=0x8*0x1c3+-0x1889+0xa71;_0x2bce4f<_0x46e6f2;_0x2bce4f++)this['matrices'][_0x2bce4f]=new q();}['uploadBone'+'s'](_0x24e8ce){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x292345,_0x1e9895){if(this['_skinUpdat'+'eIndex']!==_0x1e9895){this['_skinUpdat'+'eIndex']=_0x1e9895,Um['copy'](_0x292345['getWorldTr'+'ansform']())['invert']();for(let _0x308f3b=this['bones']['length']-(0x1*0xd6c+-0x5e7+-0x784);_0x308f3b>=0x1*-0x56c+0x209e*-0x1+0x260a;_0x308f3b--)this['matrices'][_0x308f3b]['mulAffine2'](Um,this['bones'][_0x308f3b]['getWorldTr'+'ansform']()),this['matrices'][_0x308f3b]['mulAffine2'](this['matrices'][_0x308f3b],this['skin']['inverseBin'+'dPose'][_0x308f3b]);}}['updateMatr'+'ices'](_0xa5c5e3,_0x1c75be){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0xa5c5e3,_0x1c75be);}['updateMatr'+'ixPalette'](_0xf2cef4,_0x1ee401){this['_updateMat'+'rices'](_0xf2cef4,_0x1ee401);const _0x309fae=this['matrixPale'+'tte'],_0x3f0c90=this['bones']['length'];for(let _0x5d2659=0x1*0xa6d+0x4*0x7ed+-0x2a21*0x1;_0x5d2659<_0x3f0c90;_0x5d2659++){const _0x56944f=this['matrices'][_0x5d2659]['data'],_0xb04b0c=_0x5d2659*(0x24a2+-0x1f63+-0x533);_0x309fae[_0xb04b0c]=_0x56944f[-0x6*0x214+0x1d65+0x10ed*-0x1],_0x309fae[_0xb04b0c+(-0x869*-0x2+-0x708+-0x9c9)]=_0x56944f[-0x1804+0x1*0x969+-0x13*-0xc5],_0x309fae[_0xb04b0c+(-0x3*-0x2a1+-0x13*-0x13c+-0x1f55)]=_0x56944f[0x2*0xee4+-0x3f0+-0x70*0x3b],_0x309fae[_0xb04b0c+(0x1048+-0x5*0x589+0xb68)]=_0x56944f[-0x24e*0x1+0x19e1+-0x13d*0x13],_0x309fae[_0xb04b0c+(-0xe*0x10d+0x14*0x116+-0x6fe)]=_0x56944f[0x8a5*-0x4+0xd1f*0x1+-0x86*-0x29],_0x309fae[_0xb04b0c+(-0x7*0x353+-0x915*-0x1+0xe35*0x1)]=_0x56944f[0x4ed+0x1*-0x2257+-0x5*-0x5e3],_0x309fae[_0xb04b0c+(-0xf40+0x1d3f*0x1+0x1ff*-0x7)]=_0x56944f[0x10fa*0x2+0x59*-0xc+-0x1dbf],_0x309fae[_0xb04b0c+(-0x3*-0x70b+-0x1b63+-0x649*-0x1)]=_0x56944f[0x656+0x8*-0x220+0xab7],_0x309fae[_0xb04b0c+(-0x1556*-0x1+0x1*-0x9c5+-0xb89)]=_0x56944f[-0xc86*-0x3+0x16ee+-0xb2*0x57],_0x309fae[_0xb04b0c+(0xbc7+0x60a+-0x2*0x8e4)]=_0x56944f[-0x205a+-0x767+0x27c7],_0x309fae[_0xb04b0c+(-0x7*0x44a+-0xc8*-0x2a+0x2c*-0x10)]=_0x56944f[0xd63+0xb01+-0x3*0x81e],_0x309fae[_0xb04b0c+(-0x2e7*-0x7+0x142d*-0x1+-0x19)]=_0x56944f[-0x1da+0xb65*0x1+-0x97d];}this['uploadBone'+'s'](this['skin']['device']);}}class Vm extends nl{constructor(_0x46687c,_0x1f0287,_0x292faf){super();const _0x10ac29=_0x1f0287['length'];this['init'](_0x46687c,_0x10ac29),this['device']=_0x46687c,this['rootNode']=_0x292faf,this['bones']=_0x1f0287;}['updateMatr'+'ices'](_0x3386b8,_0x31ee21){}['updateMatr'+'ixPalette'](_0x139fba,_0x4b4736){const _0x349041=this['matrixPale'+'tte'],_0x4effc7=this['bones']['length'];for(let _0x287800=-0x1*-0x124f+0x1d29*-0x1+0xada;_0x287800<_0x4effc7;_0x287800++){const _0x1c62cb=this['bones'][_0x287800]['getWorldTr'+'ansform']()['data'],_0x233188=_0x287800*(-0x24c8+0xca4*0x2+-0x1*-0xb8c);_0x349041[_0x233188]=_0x1c62cb[0x399+-0xd55*0x1+0x9bc],_0x349041[_0x233188+(0x81a+0x436+-0xc4f)]=_0x1c62cb[0xd1*0x6+-0xbe*-0x20+-0x5ba*0x5],_0x349041[_0x233188+(0x1d68+-0x7bb*-0x2+-0x16*0x20a)]=_0x1c62cb[-0x1b24+-0x1*0xf29+-0x1*-0x2a55],_0x349041[_0x233188+(0x34*0x3e+-0x7f1+-0x4a4)]=_0x1c62cb[0x1106+0x11ff+0x4ff*-0x7],_0x349041[_0x233188+(-0x1*-0x16d8+-0xdbd+-0x917)]=_0x1c62cb[0x47*0x15+-0x24ee+0x1f1c],_0x349041[_0x233188+(-0x1d96+0xc79+0x1122)]=_0x1c62cb[-0x1fc3+0x223f+-0x277],_0x349041[_0x233188+(0x25aa+0x1f2d*-0x1+-0x677)]=_0x1c62cb[-0x1f*0x2+0x45*-0x8a+-0x2579*-0x1],_0x349041[_0x233188+(0x1*0x21d0+-0x15*-0x191+-0xb1d*0x6)]=_0x1c62cb[0x25d1+0xb*0x136+-0x3316],_0x349041[_0x233188+(0x25e7+-0xab5+0x6*-0x487)]=_0x1c62cb[-0x13bf+-0x2cc+0x168d],_0x349041[_0x233188+(0xbde+-0x1bdc*-0x1+-0x27b1)]=_0x1c62cb[0x1*-0x1589+0x1fd5+-0xa46],_0x349041[_0x233188+(-0x2b9*-0x2+-0x1*0x2440+0x8*0x3db)]=_0x1c62cb[0x2*0x5a2+0x108c+-0x9*0x316],_0x349041[_0x233188+(0x3*0x54+0x993+0x4*-0x2a1)]=_0x1c62cb[0x1904*-0x1+-0x43a+0x1d4c];}this['uploadBone'+'s'](this['device']);}}let QE=0x8d+-0xc7e*0x1+-0x3fb*-0x3;class Hs{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(-0xa9*-0x11+0x9*-0x305+0xff5),this['verticesUs'+'age']=jt,this['indicesUsa'+'ge']=jt,this['maxVertice'+'s']=0x1432+0xfa0+-0x23d2,this['maxIndices']=0x128e+-0x1e45+0xbb7*0x1,this['vertexCoun'+'t']=-0x322+-0x14ee+0x604*0x4,this['indexCount']=-0x7*0x435+0x1*0x13a7+0x9cc,this['vertexStre'+'amsUpdated']=!(-0xa6d+-0xfde+0x1a4c),this['indexStrea'+'mUpdated']=!(-0x1*0x2507+-0x6d5+0x2bdd),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0xc84989,_0x2648a4){this['vertexCoun'+'t']?v['assert'](this['vertexCoun'+'t']===_0xc84989,'Vertex\x20str'+'eam\x20'+_0x2648a4+'\x20has\x20'+_0xc84989+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0xc84989;}}c(Hs,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',0xac3+-0x408+0x8*-0xd7),c(Hs,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',-0x217*0x1+-0xc7*-0x1c+-0x13aa),c(Hs,'DEFAULT_CO'+'MPONENTS_U'+'V',-0x188f*0x1+-0x2009+-0x816*-0x7),c(Hs,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',-0x1372+0x1267+0x10f);class JE{constructor(_0x58c53c,_0x2e4ad8,_0xbef0ad,_0x59caee,_0x2fbba9){this['data']=_0x58c53c,this['componentC'+'ount']=_0x2e4ad8,this['dataType']=_0xbef0ad,this['dataTypeNo'+'rmalize']=_0x59caee,this['asInt']=_0x2fbba9;}}class Ie extends Gc{constructor(_0x37cbae,_0x9e7e13){super(),c(this,'indexBuffe'+'r',[null]),c(this,'vertexBuff'+'er',null),c(this,'primitive',[{'type':0x0,'base':0x0,'count':0x0}]),c(this,'skin',null),c(this,'boneAabb',null),c(this,'_aabbVer',-0x16d*0x4+-0x7c*0x31+-0x1d7*-0x10),c(this,'_aabb',new _e()),c(this,'_geometryD'+'ata',null),c(this,'_morph',null),c(this,'_storageIn'+'dex',!(-0xdb+-0x1ea2+0x1f7e)),c(this,'_storageVe'+'rtex',!(-0x107*0x1+0x16f0+-0x15e8)),(this['id']=QE++,v['assert'](_0x37cbae,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x37cbae,this['_storageIn'+'dex']=(_0x9e7e13==null?void(0x1807+0xfa0+-0x1*0x27a7):_0x9e7e13['storageInd'+'ex'])||!(-0x1a03*-0x1+-0x7*0x3bf+0x37*0x1),this['_storageVe'+'rtex']=(_0x9e7e13==null?void(-0x1fe9+0x11ff+0xdea):_0x9e7e13['storageVer'+'tex'])||!(-0x391+-0x1f9f+0x2331));}static['fromGeomet'+'ry'](_0x3bc33d,_0x3fa111,_0x19d054={}){const _0x236652=new Ie(_0x3bc33d,_0x19d054),{positions:_0x3805fb,normals:_0x30088e,tangents:_0x151138,colors:_0x3c3586,uvs:_0x4630b9,uvs1:_0x28e35b,blendIndices:_0x28d856,blendWeights:_0x511e86,indices:_0x26fe84}=_0x3fa111;return _0x3805fb&&_0x236652['setPositio'+'ns'](_0x3805fb),_0x30088e&&_0x236652['setNormals'](_0x30088e),_0x151138&&_0x236652['setVertexS'+'tream'](Zs,_0x151138,0x1f3d*0x1+0x2a*-0x1d+-0x1a77),_0x3c3586&&_0x236652['setColors3'+'2'](_0x3c3586),_0x4630b9&&_0x236652['setUvs'](0x619+-0x5fa+-0x1f,_0x4630b9),_0x28e35b&&_0x236652['setUvs'](-0x2b*-0x7c+-0x602+-0xed1,_0x28e35b),_0x28d856&&_0x236652['setVertexS'+'tream'](qt,_0x28d856,-0x17ae+-0x6*0x43f+-0x1896*-0x2,_0x28d856['length']/(0x204b*-0x1+0x1343*-0x2+-0x46d5*-0x1),Kr),_0x511e86&&_0x236652['setVertexS'+'tream'](Ys,_0x511e86,0xb6+0x198+0x2*-0x125),_0x26fe84&&_0x236652['setIndices'](_0x26fe84),_0x236652['update'](),_0x236652;}set['morph'](_0x53e0c2){_0x53e0c2!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x53e0c2,_0x53e0c2&&_0x53e0c2['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x3e9942){this['_aabb']=_0x3e9942,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x172173=this['morph'];_0x172173&&(this['morph']=null,_0x172173['refCount']<-0x1423+0x20bb+-0x125*0xb&&_0x172173['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x51b049=0x1*0x1c94+-0x624+-0x1670;_0x51b049<this['indexBuffe'+'r']['length'];_0x51b049++)this['_destroyIn'+'dexBuffer'](_0x51b049);this['indexBuffe'+'r']['length']=0x1*0x2c5+-0x15d2+-0x1*-0x130d,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x50035f){this['indexBuffe'+'r'][_0x50035f]&&(this['indexBuffe'+'r'][_0x50035f]['destroy'](),this['indexBuffe'+'r'][_0x50035f]=null);}['_initBoneA'+'abbs'](_0x454261){this['boneAabb']=[],this['boneUsed']=[];let _0x40443e,_0x2ae706,_0x3c7656,_0x524c6d,_0x3d73b4;const _0x4615bd=[],_0x204400=[],_0x3dd12c=this['boneUsed'],_0x217da9=this['skin']['boneNames']['length'];let _0x5b180b,_0x3f35f8,_0x262875;for(let _0x584c69=-0x1af4+0x12b*0x15+0x26d;_0x584c69<_0x217da9;_0x584c69++)_0x4615bd[_0x584c69]=new T(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x204400[_0x584c69]=new T(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x3a4ceb=new go(this['vertexBuff'+'er']),_0xf47225=_0x3a4ceb['element'][He],_0x39cc91=_0x3a4ceb['element'][Ys],_0x1a8c76=_0x3a4ceb['element'][qt],_0x160e96=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x40720b=-0x699+0x2519*-0x1+0x2bb2;_0x40720b<_0x160e96;_0x40720b++){for(let _0x3f4c90=0x511*-0x3+0x185a+0x30d*-0x3;_0x3f4c90<-0x1*0xe5+0x1547*-0x1+0x14*0x11c;_0x3f4c90++)if(_0x39cc91['array'][_0x39cc91['index']+_0x3f4c90]>-0x26c4+-0x3*0xc79+-0xc5*-0x63){const _0x46e17b=_0x1a8c76['array'][_0x1a8c76['index']+_0x3f4c90];if(_0x3dd12c[_0x46e17b]=!(0x20cd+0xe16+-0x2ee3),_0x40443e=_0xf47225['array'][_0xf47225['index']],_0x2ae706=_0xf47225['array'][_0xf47225['index']+(0x1241+-0xe98+0x1d4*-0x2)],_0x3c7656=_0xf47225['array'][_0xf47225['index']+(0x1*0x12b7+-0x3*0x819+-0x1*-0x596)],_0x524c6d=_0x204400[_0x46e17b],_0x3d73b4=_0x4615bd[_0x46e17b],_0x3d73b4['x']>_0x40443e&&(_0x3d73b4['x']=_0x40443e),_0x3d73b4['y']>_0x2ae706&&(_0x3d73b4['y']=_0x2ae706),_0x3d73b4['z']>_0x3c7656&&(_0x3d73b4['z']=_0x3c7656),_0x524c6d['x']<_0x40443e&&(_0x524c6d['x']=_0x40443e),_0x524c6d['y']<_0x2ae706&&(_0x524c6d['y']=_0x2ae706),_0x524c6d['z']<_0x3c7656&&(_0x524c6d['z']=_0x3c7656),_0x454261){let _0x4dc807=_0x5b180b=_0x40443e,_0x2a31a3=_0x3f35f8=_0x2ae706,_0xed7a80=_0x262875=_0x3c7656;for(let _0x331636=-0x5fc+0x1*-0x1357+0x1953*0x1;_0x331636<_0x454261['length'];_0x331636++){const _0x21312f=_0x454261[_0x331636],_0x73c95e=_0x21312f['deltaPosit'+'ions'][_0x40720b*(0xbaa*0x1+-0x67*0x5f+0x1a92)],_0x2eecda=_0x21312f['deltaPosit'+'ions'][_0x40720b*(0x521+0x8*0x43c+-0x26fe)+(-0x74*-0xc+0x1*-0x2092+0x1*0x1b23)],_0x23893d=_0x21312f['deltaPosit'+'ions'][_0x40720b*(0xd42+-0x2*-0x13+0x17d*-0x9)+(-0x14e*-0xc+0x3*-0xaf9+0x1145)];_0x73c95e<0xa3*-0x11+0x1bce*0x1+-0x10fb?_0x4dc807+=_0x73c95e:_0x5b180b+=_0x73c95e,_0x2eecda<0xfb0*-0x2+0x34*-0x65+-0x36*-0xf6?_0x2a31a3+=_0x2eecda:_0x3f35f8+=_0x2eecda,_0x23893d<0x1*-0xc74+-0x4*-0x5a6+0xec*-0xb?_0xed7a80+=_0x23893d:_0x262875+=_0x23893d;}_0x3d73b4['x']>_0x4dc807&&(_0x3d73b4['x']=_0x4dc807),_0x3d73b4['y']>_0x2a31a3&&(_0x3d73b4['y']=_0x2a31a3),_0x3d73b4['z']>_0xed7a80&&(_0x3d73b4['z']=_0xed7a80),_0x524c6d['x']<_0x5b180b&&(_0x524c6d['x']=_0x5b180b),_0x524c6d['y']<_0x3f35f8&&(_0x524c6d['y']=_0x3f35f8),_0x524c6d['z']<_0x262875&&(_0x524c6d['z']=_0x262875);}}_0x3a4ceb['next']();}const _0x4c8823=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x5ca7e7=>_0x5ca7e7['name']===He);if(_0x4c8823&&_0x4c8823['normalize']){const _0x5ea4a9=((()=>{switch(_0x4c8823['dataType']){case Rc:return _0x37fdb6=>Math['max'](_0x37fdb6/(-0xf3f*0x1+0x168e*0x1+-0x4*0x1b4),-(0x56*0x6f+-0x28b*-0x3+-0x2*0x1675));case Kr:return _0x178066=>_0x178066/(-0x53*-0x5+-0xb65+0x3*0x397);case Ic:return _0x41daf5=>Math['max'](_0x41daf5/(-0x1*-0xbd71+0x13b6+-0x2*0x2894),-(-0x38f*-0x2+-0x100b+0x8ee));case el:return _0x5b51f0=>_0x5b51f0/(0x5e2*-0xc+0x1*-0x1fbec+-0x34283*-0x1);default:return _0x5d315d=>_0x5d315d;}})());for(let _0x3dbcd5=0x17d+0x1f69+-0x20e6;_0x3dbcd5<_0x217da9;_0x3dbcd5++)if(_0x3dd12c[_0x3dbcd5]){const _0x2731a7=_0x4615bd[_0x3dbcd5],_0x263b44=_0x204400[_0x3dbcd5];_0x2731a7['set'](_0x5ea4a9(_0x2731a7['x']),_0x5ea4a9(_0x2731a7['y']),_0x5ea4a9(_0x2731a7['z'])),_0x263b44['set'](_0x5ea4a9(_0x263b44['x']),_0x5ea4a9(_0x263b44['y']),_0x5ea4a9(_0x263b44['z']));}}for(let _0x2ae011=0x25f9+-0x24e8+-0x111;_0x2ae011<_0x217da9;_0x2ae011++){const _0x23664f=new _e();_0x23664f['setMinMax'](_0x4615bd[_0x2ae011],_0x204400[_0x2ae011]),this['boneAabb']['push'](_0x23664f);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new Hs(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>0x67a*-0x4+-0x7*0xc7+0x1*0x1f59&&this['indexBuffe'+'r'][-0x2114+0x3*-0x313+0x2a4d]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][0x136+0xb11*-0x1+0x9db]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][0x1cf2+-0x3*-0xcec+0xb49*-0x6]['numIndices']));}['clear'](_0x56d663,_0x4e0a32,_0x590508=0x381+-0x218+-0x1*0x169,_0x41c93b=-0xae4+0xc5d*-0x2+0x239e){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(-0xe44+-0x1dfe+0x2c42),this['_geometryD'+'ata']['maxVertice'+'s']=_0x590508,this['_geometryD'+'ata']['maxIndices']=_0x41c93b,this['_geometryD'+'ata']['verticesUs'+'age']=_0x56d663?jt:Th,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x4e0a32?jt:Th;}['setVertexS'+'tream'](_0x1efb1c,_0x2c2f32,_0x1e10bf,_0x216a1e,_0x94c1df=Ee,_0x5434e6=!(0x1028+-0xa63*0x2+0x49f),_0xfe25e9=!(-0x812+-0xef9*0x2+0x2605)){this['_initGeome'+'tryData']();const _0x38a7e0=_0x216a1e||_0x2c2f32['length']/_0x1e10bf;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x38a7e0,_0x1efb1c),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x1878+-0xd42*0x1+0x25ba),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x1efb1c]=new JE(_0x2c2f32,_0x1e10bf,_0x94c1df,_0x5434e6,_0xfe25e9);}['getVertexS'+'tream'](_0x3e5171,_0x5a9fee){let _0x5b033e=-0xb2*0x12+0x3e*0xd+0x95e*0x1,_0x34dbaf=!(-0x6f*-0x23+-0x267b*-0x1+0x29*-0x14f);if(this['_geometryD'+'ata']){const _0x2d418f=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x3e5171];_0x2d418f&&(_0x34dbaf=!(0x1e11*0x1+-0x1165*0x1+-0xcac),_0x5b033e=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x5a9fee)?_0x5a9fee['set'](_0x2d418f['data']):(_0x5a9fee['length']=0x2330+-0x26f0+0x3c0,_0x5a9fee['push'](_0x2d418f['data'])));}return _0x34dbaf||this['vertexBuff'+'er']&&(_0x5b033e=new go(this['vertexBuff'+'er'])['readData'](_0x3e5171,_0x5a9fee)),_0x5b033e;}['setPositio'+'ns'](_0x86bafb,_0x4f9ac2=Hs['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x30e28e){this['setVertexS'+'tream'](He,_0x86bafb,_0x4f9ac2,_0x30e28e,Ee,!(-0x7a4+0x1*-0x2113+0x28b8));}['setNormals'](_0x12f024,_0x5d7db7=Hs['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x21455f){this['setVertexS'+'tream'](Yt,_0x12f024,_0x5d7db7,_0x21455f,Ee,!(0x49*0x13+-0x1046+0xadc));}['setUvs'](_0x343657,_0x2b4200,_0x3f2435=Hs['DEFAULT_CO'+'MPONENTS_U'+'V'],_0xc63ac7){this['setVertexS'+'tream'](om+_0x343657,_0x2b4200,_0x3f2435,_0xc63ac7,Ee,!(0x2598+0x1b6d+-0x1041*0x4));}['setColors'](_0x6aeec5,_0x5146ce=Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x3c3736){this['setVertexS'+'tream'](At,_0x6aeec5,_0x5146ce,_0x3c3736,Ee,!(0x2*-0x2e9+0xc0c+-0x1b*0x3b));}['setColors3'+'2'](_0x4405da,_0x3269e7){this['setVertexS'+'tream'](At,_0x4405da,Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x3269e7,Kr,!(0x144f*-0x1+-0xb6*-0x36+-0x1215));}['setIndices'](_0x183c7a,_0x38859f){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(-0xbf*-0xc+0x252+0xd*-0xde),this['_geometryD'+'ata']['indices']=_0x183c7a,this['_geometryD'+'ata']['indexCount']=_0x38859f||_0x183c7a['length'];}['getPositio'+'ns'](_0x5403bd){return this['getVertexS'+'tream'](He,_0x5403bd);}['getNormals'](_0x3a471c){return this['getVertexS'+'tream'](Yt,_0x3a471c);}['getUvs'](_0x3d894b,_0x61b453){return this['getVertexS'+'tream'](om+_0x3d894b,_0x61b453);}['getColors'](_0x173e18){return this['getVertexS'+'tream'](At,_0x173e18);}['getIndices'](_0x99790e){let _0x32e6e7=-0x1*-0x120+-0x2cf*-0xd+-0x25a3;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x59fddf=this['_geometryD'+'ata']['indices'];if(_0x32e6e7=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x99790e))_0x99790e['set'](_0x59fddf);else{_0x99790e['length']=-0x609+0x231a+-0x1d11;for(let _0x31fe63=0x1859+-0x1eae+0x655*0x1,_0x3345d3=_0x59fddf['length'];_0x31fe63<_0x3345d3;_0x31fe63++)_0x99790e['push'](_0x59fddf[_0x31fe63]);}}else this['indexBuffe'+'r']['length']>0x75*0xe+0x80c+-0x2*0x739&&this['indexBuffe'+'r'][0xdc0+0x22ad+-0x306d]&&(_0x32e6e7=this['indexBuffe'+'r'][-0x2218+-0x2*-0xdf2+0x634]['readData'](_0x99790e));return _0x32e6e7;}['update'](_0x47d95d=Ms,_0x2d9e54=!(0x1aa0+-0xee8+-0x96*0x14)){if(this['_geometryD'+'ata']){if(_0x2d9e54){const _0xe26da4=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][He];_0xe26da4&&_0xe26da4['componentC'+'ount']===0x16*0x59+0x105d+-0x800*0x3&&(this['_aabb']['compute'](_0xe26da4['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x5775c2=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x5775c2=!(-0x2f3+-0x1*-0x142f+-0x113c),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x5775c2&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x30386b=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x30386b=!(0x4f0*-0x2+-0x22a*0xd+0x2602),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x30386b&&this['indexBuffe'+'r']['length']>0x877*-0x2+0x1c80+-0x5c9*0x2&&this['indexBuffe'+'r'][-0x1c7b+0x1ff*0x1+0x1a7c]&&(this['indexBuffe'+'r'][0x2ab*0xb+0xcb8+0x2a11*-0x1]['destroy'](),this['indexBuffe'+'r'][0x19b0+0xc59+-0x2609]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][0x5f2+-0xe61+-0x1*-0x86f]['type']=_0x47d95d,this['indexBuffe'+'r']['length']>0xfd*0x1+-0xbff*-0x2+0x1*-0x18fb&&this['indexBuffe'+'r'][0xa9*0x27+0x103d+-0x14fe*0x2]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][-0x5*0x17b+0xbda+-0x473]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][-0x2*-0x65f+0x2*0x1+-0xcc0]['indexed']=!(-0x3*0x9d+-0x1f1d+0x20f4)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][-0x49b*-0x1+0x9ad+-0xe48]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][0x17dd+-0x4*-0x4a9+0x1f*-0x15f]['indexed']=!(-0x2*-0x52f+0x25e6+-0x3043)),this['_geometryD'+'ata']['vertexCoun'+'t']=0x1*-0xab5+0x1d29+-0x1274,this['_geometryD'+'ata']['indexCount']=-0xcc7+-0x1029+0x1cf0,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x17*0x16c+-0x1c8a+-0x429),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(-0x1192+0x147b+-0x174*0x2),this['_geometryD'+'ata']['recreate']=!(-0x241c+-0x1115+0x3532*0x1),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x3fbba3){const _0x25a321=[];for(const _0x4d9a7a in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x1bb21c=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x4d9a7a];_0x25a321['push']({'semantic':_0x4d9a7a,'components':_0x1bb21c['componentC'+'ount'],'type':_0x1bb21c['dataType'],'normalize':_0x1bb21c['dataTypeNo'+'rmalize'],'asInt':_0x1bb21c['asInt']});}return new Et(this['device'],_0x25a321,_0x3fbba3);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x7f613d=this['_geometryD'+'ata']['maxVertice'+'s'],_0x5204ee=this['_buildVert'+'exFormat'](_0x7f613d);this['vertexBuff'+'er']=new os(this['device'],_0x5204ee,_0x7f613d,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x2d45e1=new go(this['vertexBuff'+'er']),_0x469b39=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x223b67 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x4ac84f=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x223b67];_0x2d45e1['writeData'](_0x223b67,_0x4ac84f['data'],_0x469b39),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x223b67];}_0x2d45e1['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=-0xe16+-0x3*-0x439+-0x3*-0x79||!this['indexBuffe'+'r'][-0x14a2+-0x77c+0x1c1e]){const _0x532184=this['_geometryD'+'ata']['maxVertice'+'s'],_0x15096f=_0x532184>-0x80be+0x11856+0x6867||_0x532184===-0x1d97+-0xc8e+-0x2a25*-0x1?nr:Pi,_0x153689=this['_storageIn'+'dex']?{'storage':!(0x71*-0x3+-0x2045+0x2198)}:void(0x4*0x407+-0x2602+0x15e6);this['indexBuffe'+'r'][-0x262b+0x1*0x3e+0x85*0x49]=new lr(this['device'],_0x15096f,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(0x1*-0x11b5+-0x1cff+-0x3d*-0xc4),_0x153689);}const _0x241f78=this['_geometryD'+'ata']['indices'];_0x241f78&&(this['indexBuffe'+'r'][0x24b0+-0x216e+-0x342]['writeData'](_0x241f78,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x346fa5){_0x346fa5===Dr?this['generateWi'+'reframe']():_0x346fa5===Tl&&(this['primitive'][Tl]={'type':Mc,'base':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:-0x1f*0x7e+0x1*0x4f6+0xa4c,'indexed':!(0x59f*0x1+0x3*-0x997+0x1727)});}['updateRend'+'erStates'](){this['primitive'][Tl]&&this['prepareRen'+'derState'](Tl),this['primitive'][Dr]&&this['prepareRen'+'derState'](Dr);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer'](Dr);const _0x54aede=this['vertexBuff'+'er']['numVertice'+'s'],_0x23b2c9=[];let _0x5efe84;if(this['indexBuffe'+'r']['length']>0x5d7*-0x5+-0x1be7+0x391a&&this['indexBuffe'+'r'][0x110f+0x597+-0x16a6]){const _0x293ce1=[[0x95b+0x1a6b*-0x1+-0x68*-0x2a,-0x1c0c+-0x40f*0x1+0x201c],[-0x8*-0x250+-0x1031+0x3b*-0xa,0x21a1+0x8*-0x45d+-0x1*-0x149],[-0x113f+-0x2582+-0x36c3*-0x1,0xcd1*0x1+0x855+-0x1526]],_0xa1b000=this['primitive'][yo]['base'],_0x515afa=this['primitive'][yo]['count'],_0x506970=this['indexBuffe'+'r'][yo],_0x1f517a=new Lh[_0x506970['format']](_0x506970['storage']),_0x427c9b=new Set();for(let _0x1b8cea=_0xa1b000;_0x1b8cea<_0xa1b000+_0x515afa;_0x1b8cea+=-0x2a5*0x9+-0x26f1+0x3ec1)for(let _0x135e79=0x106*-0x6+-0x1855+0x1d*0x10d;_0x135e79<-0x1c52+-0x2e6*0x7+0x309f*0x1;_0x135e79++){const _0x4392ae=_0x1f517a[_0x1b8cea+_0x293ce1[_0x135e79][-0xc14+-0x3*-0x8d7+-0xe71]],_0x5399fd=_0x1f517a[_0x1b8cea+_0x293ce1[_0x135e79][0x1*0xcc4+-0x26e9+0x1a26]],_0x1bdedc=_0x4392ae>_0x5399fd?_0x5399fd*_0x54aede+_0x4392ae:_0x4392ae*_0x54aede+_0x5399fd;_0x427c9b['has'](_0x1bdedc)||(_0x427c9b['add'](_0x1bdedc),_0x23b2c9['push'](_0x4392ae,_0x5399fd));}_0x5efe84=_0x506970['format'];}else{for(let _0x1750cd=-0x1*0x641+-0x19*0x50+-0xe11*-0x1;_0x1750cd<_0x54aede;_0x1750cd+=0xe31*-0x1+0x22d*-0x9+0x21c9)_0x23b2c9['push'](_0x1750cd,_0x1750cd+(-0x1c*0x7+0xd62+-0x1*0xc9d),_0x1750cd+(-0x1*-0x1bb7+-0x15ea+-0x5cc),_0x1750cd+(-0x821+-0x55*0x58+0x255b),_0x1750cd+(0x18d4+0x1e24+0x3aa*-0xf),_0x1750cd);_0x5efe84=_0x23b2c9['length']>-0x1c55a+0x229*0x14+0x1201*0x25?nr:Pi;}const _0x4d68f3=new lr(this['vertexBuff'+'er']['device'],_0x5efe84,_0x23b2c9['length']);new Lh[_0x4d68f3['format']](_0x4d68f3['storage'])['set'](_0x23b2c9),_0x4d68f3['unlock'](),this['primitive'][Dr]={'type':Pc,'base':0x0,'count':_0x23b2c9['length'],'indexed':!(-0x1eee+-0x9f*0x24+-0x1aa5*-0x2)},this['indexBuffe'+'r'][Dr]=_0x4d68f3;}}const Gm=new q(),md=new T(),Hm=new se(),_d=new se(),Wm=new T(),$m=new T(),eC=new q(),tC=new se(),kt=new T(),Ha=new q(),Bt=new se(),An=new se(),qm=new q(),gd=new T(),El=new T();function Xm(_0x27bb6b,_0x7bbdca){return _0x27bb6b instanceof Function?_0x27bb6b:_0x5c7f34=>{let _0x564435=_0x5c7f34[_0x27bb6b];return _0x564435 instanceof Function&&(_0x564435=_0x564435()),_0x564435===_0x7bbdca;};}function w0(_0xcb3e21,_0x268265){if(_0x268265(_0xcb3e21))return _0xcb3e21;const _0x59c5e6=_0xcb3e21['_children'],_0x1a8560=_0x59c5e6['length'];for(let _0x546648=0x469*-0x5+0x19ad+0x3a0*-0x1;_0x546648<_0x1a8560;++_0x546648){const _0x28b83d=w0(_0x59c5e6[_0x546648],_0x268265);if(_0x28b83d)return _0x28b83d;}return null;}class De extends ce{constructor(_0x51557c='Untitled'){super(),c(this,'name'),c(this,'tags',new po(this)),c(this,'localPosit'+'ion',new T()),c(this,'localRotat'+'ion',new se()),c(this,'localScale',new T(-0x195e+-0x2*0x12b+0x1bb5,0x1*0x26da+-0x124c+-0x148d,0x1a7b+-0xb*0x20f+-0x147*0x3)),c(this,'localEuler'+'Angles',new T()),c(this,'position',new T()),c(this,'rotation',new se()),c(this,'eulerAngle'+'s',new T()),c(this,'_scale',null),c(this,'localTrans'+'form',new q()),c(this,'_dirtyLoca'+'l',!(-0x17e0+0x1d0b*0x1+0x52a*-0x1)),c(this,'_aabbVer',-0x215*-0x2+0x2024+-0x244e),c(this,'_frozen',!(0x1f03+0x2497+-0x4399)),c(this,'worldTrans'+'form',new q()),c(this,'_dirtyWorl'+'d',!(-0x1d4c+-0x162+-0x623*-0x5)),c(this,'_worldScal'+'eSign',-0x1*0xd45+0x29*-0x8+0xe8d),c(this,'_normalMat'+'rix',new js()),c(this,'_dirtyNorm'+'al',!(0x2160+-0x230b+-0x3d*-0x7)),c(this,'_right',null),c(this,'_up',null),c(this,'_forward',null),c(this,'_parent',null),c(this,'_children',[]),c(this,'_graphDept'+'h',0x11*0x55+0x1e1a+-0x23bf),c(this,'_enabled',!(0x19c7+0x2b2+-0x25*0xc5)),c(this,'_enabledIn'+'Hierarchy',!(-0x7*0xc5+0x1*-0x54b+0x1*0xaaf)),c(this,'scaleCompe'+'nsation',!(0x1*-0x1d1e+0x2*0x87b+0xc29)),this['name']=_0x51557c;}get['right'](){return this['_right']||(this['_right']=new T()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new T()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new T()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(0x141+0x332+-0x472));}get['normalMatr'+'ix'](){const _0x18f2b0=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x18f2b0['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(0x8b7+0x3ec+0x42*-0x31)),_0x18f2b0;}set['enabled'](_0x5594b2){var _0x5ece9c;this['_enabled']!==_0x5594b2&&(this['_enabled']=_0x5594b2,(_0x5594b2&&((_0x5ece9c=this['_parent'])!=null&&_0x5ece9c['enabled'])||!_0x5594b2)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x5594b2));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x508167=this['_parent'];if(!_0x508167)return'';let _0x2af998=this['name'];for(;_0x508167&&_0x508167['_parent'];)_0x2af998=_0x508167['name']+'/'+_0x2af998,_0x508167=_0x508167['_parent'];return _0x2af998;}get['root'](){let _0x2e6478=this;for(;_0x2e6478['_parent'];)_0x2e6478=_0x2e6478['_parent'];return _0x2e6478;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x28bf62,_0x3937fc){_0x28bf62['_onHierarc'+'hyStateCha'+'nged'](_0x3937fc);const _0x4ea412=_0x28bf62['_children'];for(let _0x166fd2=-0x1654+0x19d+0x14b7,_0x3ffcc1=_0x4ea412['length'];_0x166fd2<_0x3ffcc1;_0x166fd2++)_0x4ea412[_0x166fd2]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x4ea412[_0x166fd2],_0x3937fc);}['_onHierarc'+'hyStateCha'+'nged'](_0x377407){this['_enabledIn'+'Hierarchy']=_0x377407,_0x377407&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x5ef7a2){_0x5ef7a2['name']=this['name'];const _0xd37379=this['tags']['_list'];_0x5ef7a2['tags']['clear']();for(let _0x28b23d=0x19*0xce+-0x1*0x196a+0x3*0x1c4;_0x28b23d<_0xd37379['length'];_0x28b23d++)_0x5ef7a2['tags']['add'](_0xd37379[_0x28b23d]);_0x5ef7a2['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x5ef7a2['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x5ef7a2['localScale']['copy'](this['localScale']),_0x5ef7a2['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x5ef7a2['position']['copy'](this['position']),_0x5ef7a2['rotation']['copy'](this['rotation']),_0x5ef7a2['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x5ef7a2['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x5ef7a2['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x5ef7a2['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x5ef7a2['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x5ef7a2['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x5ef7a2['_aabbVer']=this['_aabbVer']+(-0x1c47+-0xf63+-0x1*-0x2bab),_0x5ef7a2['_enabled']=this['_enabled'],_0x5ef7a2['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x5ef7a2['_enabledIn'+'Hierarchy']=!(0x2*-0x418+-0x15*-0x13d+-0x3*0x5f0);}['clone'](){const _0x5f30eb=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x5f30eb),_0x5f30eb;}['copy'](_0x1965f9){return _0x1965f9['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x1b71e1=this['_children'];for(;_0x1b71e1['length'];){const _0x5ef251=_0x1b71e1['pop']();_0x5ef251['_parent']=null,_0x5ef251['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x38f258,_0x2efa83){const _0x3e7731=[],_0x485471=Xm(_0x38f258,_0x2efa83);return this['forEach'](_0x526e15=>{_0x485471(_0x526e15)&&_0x3e7731['push'](_0x526e15);}),_0x3e7731;}['findOne'](_0x3846bd,_0x58d9ea){const _0x401dda=Xm(_0x3846bd,_0x58d9ea);return w0(this,_0x401dda);}['findByTag'](){const _0xf58e6c=arguments,_0x550b3f=[],_0x335785=(_0x2e5208,_0x3b2566)=>{_0x3b2566&&_0x2e5208['tags']['has'](..._0xf58e6c)&&_0x550b3f['push'](_0x2e5208);for(let _0x273c21=-0xd7a+0x3*-0x6e6+0x2*0x1116;_0x273c21<_0x2e5208['_children']['length'];_0x273c21++)_0x335785(_0x2e5208['_children'][_0x273c21],!(-0x335*-0x1+0x1*-0x1dd7+0x1aa2*0x1));};return _0x335785(this,!(0xe69+-0x4*0x74c+0xb*0x158)),_0x550b3f;}['findByName'](_0x328e0b){return this['findOne']('name',_0x328e0b);}['findByPath'](_0x1e57b4){const _0x2473d0=Array['isArray'](_0x1e57b4)?_0x1e57b4:_0x1e57b4['split']('/');let _0xf42160=this;for(let _0x11a2b9=0xa28+0xfe4+-0x1a0c,_0x2caf9a=_0x2473d0['length'];_0x11a2b9<_0x2caf9a;++_0x11a2b9)if(_0xf42160=_0xf42160['children']['find'](_0x2d6827=>_0x2d6827['name']===_0x2473d0[_0x11a2b9]),!_0xf42160)return null;return _0xf42160;}['forEach'](_0x248585,_0x5e102d){_0x248585['call'](_0x5e102d,this);const _0x220965=this['_children'],_0x54c7cc=_0x220965['length'];for(let _0x466f98=0x57*0x26+0x1*0xd+0x1*-0xcf7;_0x466f98<_0x54c7cc;++_0x466f98)_0x220965[_0x466f98]['forEach'](_0x248585,_0x5e102d);}['isDescenda'+'ntOf'](_0x382279){let _0x512231=this['_parent'];for(;_0x512231;){if(_0x512231===_0x382279)return!(0xd1a+-0x13d+-0x1*0xbdd);_0x512231=_0x512231['_parent'];}return!(-0xf9b+-0x505+0x14a1);}['isAncestor'+'Of'](_0x474c4e){return _0x474c4e['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0x1e1b+-0x1ac7+0x1*0x38e3)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new T()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===-0x3b*0xd+-0x1537+0x1836&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x22a54c;(_0x22a54c=this['_parent'])==null||_0x22a54c['removeChil'+'d'](this);}['reparent'](_0x4bbfc2,_0x171947){this['remove'](),_0x4bbfc2&&(_0x171947>=0x1*-0x233f+0x2698+-0x359?_0x4bbfc2['insertChil'+'d'](this,_0x171947):_0x4bbfc2['addChild'](this));}['setLocalEu'+'lerAngles'](_0x429022,_0x4c4cfc,_0xb5a717){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x429022,_0x4c4cfc,_0xb5a717),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x342805,_0x14d67e,_0x50ee3a){_0x342805 instanceof T?this['localPosit'+'ion']['copy'](_0x342805):this['localPosit'+'ion']['set'](_0x342805,_0x14d67e,_0x50ee3a),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x318059,_0xb87d22,_0x21dc81,_0x42b29d){_0x318059 instanceof se?this['localRotat'+'ion']['copy'](_0x318059):this['localRotat'+'ion']['set'](_0x318059,_0xb87d22,_0x21dc81,_0x42b29d),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0xfd44f4,_0xac8374,_0x4202cd){_0xfd44f4 instanceof T?this['localScale']['copy'](_0xfd44f4):this['localScale']['set'](_0xfd44f4,_0xac8374,_0x4202cd),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(-0x19*0x53+-0xb*0x1cf+0x1c00),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x5a96eb=this['_parent'];for(;_0x5a96eb;)_0x5a96eb['_frozen']=!(-0x26d4+-0x241c+-0x3*-0x18fb),_0x5a96eb=_0x5a96eb['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(0x1bd2+0x129b+0x1736*-0x2),this['_dirtyWorl'+'d']=!(0xee*0xc+-0x64*-0x59+-0x2dec*0x1);for(let _0x47fca7=0x124+0x12a4+-0x13c8;_0x47fca7<this['_children']['length'];_0x47fca7++)this['_children'][_0x47fca7]['_dirtyWorl'+'d']||this['_children'][_0x47fca7]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(-0xc60+-0xbd7+-0x1*-0x1837),this['_worldScal'+'eSign']=0x1575*0x1+0xe2*-0x5+0x1*-0x110b,this['_aabbVer']++;}['setPositio'+'n'](_0x1778ac,_0x5017b1,_0x2276c3){_0x1778ac instanceof T?kt['copy'](_0x1778ac):kt['set'](_0x1778ac,_0x5017b1,_0x2276c3),this['_parent']===null?this['localPosit'+'ion']['copy'](kt):(Ha['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),Ha['transformP'+'oint'](kt,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x5bedc5,_0x27e6fb,_0x253cb2,_0x1a762d){if(_0x5bedc5 instanceof se?Bt['copy'](_0x5bedc5):Bt['set'](_0x5bedc5,_0x27e6fb,_0x253cb2,_0x1a762d),this['_parent']===null)this['localRotat'+'ion']['copy'](Bt);else{const _0x3a178a=this['_parent']['getRotatio'+'n']();An['copy'](_0x3a178a)['invert'](),this['localRotat'+'ion']['copy'](An)['mul'](Bt);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x48b66e,_0x546ff9){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x48b66e),this['localRotat'+'ion']['copy'](_0x546ff9);else{const _0x222e96=this['_parent']['getWorldTr'+'ansform']();Ha['copy'](_0x222e96)['invert'](),Ha['transformP'+'oint'](_0x48b66e,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](Ha)['mul'](_0x546ff9);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x1f12bb,_0x3633ae,_0x36bc4e){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x1f12bb,_0x3633ae,_0x36bc4e),this['_parent']!==null){const _0x57dde0=this['_parent']['getRotatio'+'n']();An['copy'](_0x57dde0)['invert'](),this['localRotat'+'ion']['mul2'](An,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x5f00c0){this['_prepareIn'+'sertChild'](_0x5f00c0),this['_children']['push'](_0x5f00c0),this['_onInsertC'+'hild'](_0x5f00c0);}['addChildAn'+'dSaveTrans'+'form'](_0x518b92){const _0x1b2e30=_0x518b92['getPositio'+'n'](),_0x22957a=_0x518b92['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x518b92),_0x518b92['setPositio'+'n'](eC['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x1b2e30)),_0x518b92['setRotatio'+'n'](tC['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x22957a)),this['_children']['push'](_0x518b92),this['_onInsertC'+'hild'](_0x518b92);}['insertChil'+'d'](_0x479378,_0x29901a){this['_prepareIn'+'sertChild'](_0x479378),this['_children']['splice'](_0x29901a,0x262c+0x3*-0x680+-0x12ac,_0x479378),this['_onInsertC'+'hild'](_0x479378);}['_prepareIn'+'sertChild'](_0x299cde){_0x299cde['remove'](),v['assert'](_0x299cde!==this,'GraphNode\x20'+(_0x299cde==null?void(-0x2174+-0x19*-0x53+0x1959):_0x299cde['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),v['assert'](!this['isDescenda'+'ntOf'](_0x299cde),'GraphNode\x20'+(_0x299cde==null?void(0x3d*0x6b+0x59*0x53+-0x6*0x90f):_0x299cde['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x33dec1,_0x31a34e,_0x9cb7b8){this['fire'](_0x33dec1,_0x9cb7b8);for(let _0x492b16=-0x2478+-0x1*0x15b9+0x3a31;_0x492b16<this['_children']['length'];_0x492b16++)this['_children'][_0x492b16]['_fireOnHie'+'rarchy'](_0x31a34e,_0x31a34e,_0x9cb7b8);}['_onInsertC'+'hild'](_0x1412de){_0x1412de['_parent']=this;const _0x44b60c=_0x1412de['_enabled']&&this['enabled'];_0x1412de['_enabledIn'+'Hierarchy']!==_0x44b60c&&(_0x1412de['_enabledIn'+'Hierarchy']=_0x44b60c,_0x1412de['_notifyHie'+'rarchyStat'+'eChanged'](_0x1412de,_0x44b60c)),_0x1412de['_updateGra'+'phDepth'](),_0x1412de['_dirtifyWo'+'rld'](),this['_frozen']&&_0x1412de['_unfreezeP'+'arentToRoo'+'t'](),_0x1412de['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x1412de);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(0x2b1*0x5+0x1597+-0x230b*0x1):-0x21a5+0x1313+-0x2ea*-0x5;for(let _0x31289d=-0x18b9+0xd4c+0xb6d,_0x3fc1da=this['_children']['length'];_0x31289d<_0x3fc1da;_0x31289d++)this['_children'][_0x31289d]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0xa5930e){const _0x4ba56f=this['_children']['indexOf'](_0xa5930e);_0x4ba56f!==-(-0xbf9+0x21af+-0x15b5)&&(this['_children']['splice'](_0x4ba56f,0x3d3*-0x1+-0x303*0x9+0x1*0x1eef),_0xa5930e['_parent']=null,_0xa5930e['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0xa5930e));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0x964+-0x138*-0x1d+-0x1*0x19f3)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x43674a;const _0x55d7c2=this['_parent'];let _0x4d654a=this['localScale'],_0x45f6d9=_0x55d7c2;if(_0x45f6d9){for(;_0x45f6d9&&_0x45f6d9['scaleCompe'+'nsation'];)_0x45f6d9=_0x45f6d9['_parent'];_0x45f6d9&&(_0x45f6d9=_0x45f6d9['_parent'],_0x45f6d9&&(_0x43674a=_0x45f6d9['worldTrans'+'form']['getScale'](),Wm['mul2'](_0x43674a,this['localScale']),_0x4d654a=Wm));}_d['setFromMat'+'4'](_0x55d7c2['worldTrans'+'form']),Hm['mul2'](_d,this['localRotat'+'ion']);let _0x2842bc=_0x55d7c2['worldTrans'+'form'];_0x55d7c2['scaleCompe'+'nsation']&&($m['mul2'](_0x43674a,_0x55d7c2['getLocalSc'+'ale']()),Gm['setTRS'](_0x55d7c2['worldTrans'+'form']['getTransla'+'tion'](md),_d,$m),_0x2842bc=Gm),_0x2842bc['transformP'+'oint'](this['localPosit'+'ion'],md),this['worldTrans'+'form']['setTRS'](md,Hm,_0x4d654a);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(0xa57*-0x1+0xd10+-0x2b8);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(-0x126f+0x259e+0x665*-0x3),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x1a2053=this['_children'];for(let _0x5a2491=-0x128c*-0x2+-0x24d4+0x22*-0x2,_0x172f92=_0x1a2053['length'];_0x5a2491<_0x172f92;_0x5a2491++)_0x1a2053[_0x5a2491]['syncHierar'+'chy']();}['lookAt'](_0x38a3f0,_0x5ea1d9,_0x314d80,_0x5bab00=0x1852*-0x1+-0x23*-0xa9+-0x1*-0x137,_0x571654=-0x377*0x4+-0x1*0x2443+-0x644*-0x8,_0x227c3a=-0x9f6+0x17d7+0xb*-0x143){if(_0x38a3f0 instanceof T)gd['copy'](_0x38a3f0),_0x5ea1d9 instanceof T?El['copy'](_0x5ea1d9):El['copy'](T['UP']);else{if(_0x314d80===void(0x23fc+0xc5*0x7+-0x295f))return;gd['set'](_0x38a3f0,_0x5ea1d9,_0x314d80),El['set'](_0x5bab00,_0x571654,_0x227c3a);}qm['setLookAt'](this['getPositio'+'n'](),gd,El),Bt['setFromMat'+'4'](qm),this['setRotatio'+'n'](Bt);}['translate'](_0x18c196,_0x1b41fd,_0x481cf5){_0x18c196 instanceof T?kt['copy'](_0x18c196):kt['set'](_0x18c196,_0x1b41fd,_0x481cf5),kt['add'](this['getPositio'+'n']()),this['setPositio'+'n'](kt);}['translateL'+'ocal'](_0x1b3d98,_0x1d53b9,_0x24a158){_0x1b3d98 instanceof T?kt['copy'](_0x1b3d98):kt['set'](_0x1b3d98,_0x1d53b9,_0x24a158),this['localRotat'+'ion']['transformV'+'ector'](kt,kt),this['localPosit'+'ion']['add'](kt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x2864d2,_0x1de763,_0x58a423){if(Bt['setFromEul'+'erAngles'](_0x2864d2,_0x1de763,_0x58a423),this['_parent']===null)this['localRotat'+'ion']['mul2'](Bt,this['localRotat'+'ion']);else{const _0x83b90=this['getRotatio'+'n'](),_0x3cafc9=this['_parent']['getRotatio'+'n']();An['copy'](_0x3cafc9)['invert'](),Bt['mul2'](An,Bt),this['localRotat'+'ion']['mul2'](Bt,_0x83b90);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x2b9cca,_0x1469ef,_0x4d334c){Bt['setFromEul'+'erAngles'](_0x2b9cca,_0x1469ef,_0x4d334c),this['localRotat'+'ion']['mul'](Bt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const T0=new Ot();function al(_0x1be9ff){const _0x5f5b07=T0['get'](_0x1be9ff);return v['assert'](_0x5f5b07),_0x5f5b07;}function sC(_0x6ab1aa,_0x50ebdf){v['assert'](_0x50ebdf),T0['get'](_0x6ab1aa,()=>_0x50ebdf);}class iC{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x5a40e1,_0x3e40e9)=>{_0x3e40e9['destroy']();}),this['cache']['clear']();}['incRef'](_0x58aafb){const _0x14399a=(this['cache']['get'](_0x58aafb)||-0x2*0xea4+0xa6*-0x29+-0x1bef*-0x2)+(0x1*-0x1dff+-0x949*0x1+0x2749);this['cache']['set'](_0x58aafb,_0x14399a);}['decRef'](_0x23fe52){if(_0x23fe52){let _0x3821a4=this['cache']['get'](_0x23fe52);_0x3821a4&&(_0x3821a4--,_0x3821a4===-0x1f52+0x24e1+-0x58f?(this['cache']['delete'](_0x23fe52),_0x23fe52['destroy']()):this['cache']['set'](_0x23fe52,_0x3821a4));}}}class Si{static['incRef'](_0x283c58){this['cache']['incRef'](_0x283c58);}static['decRef'](_0x9b2331){this['cache']['decRef'](_0x9b2331);}static['destroy'](){this['cache']['destroy']();}}c(Si,'cache',new iC());let rC=0x65*-0x49+-0x1cb4+0x3981;const nC=new _e(),Cl=new _e(),yd=new Lf(),xd=new Set(),yr=new Uint32Array(-0x2444*0x1+0x45f+0x1fe9);class aC{constructor(_0x6be0da){c(this,'vertexBuff'+'er',null),c(this,'_destroyVe'+'rtexBuffer',!(0x2320+0x8*-0x22f+-0x11a7)),this['count']=_0x6be0da;}['destroy'](){var _0x2e8fad;this['_destroyVe'+'rtexBuffer']&&((_0x2e8fad=this['vertexBuff'+'er'])==null||_0x2e8fad['destroy']()),this['vertexBuff'+'er']=null;}}class oC{constructor(){c(this,'shader'),c(this,'bindGroup',null),c(this,'uniformBuf'+'fer',null),c(this,'hashes');}['getBindGro'+'up'](_0x19d8c3){if(!this['bindGroup']){const _0x23be1b=this['shader'];v['assert'](_0x23be1b);const _0x2f50ca=_0x23be1b['meshBindGr'+'oupFormat'];v['assert'](_0x2f50ca),this['bindGroup']=new mp(_0x19d8c3,_0x2f50ca),mn['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x10eb2b){if(!this['uniformBuf'+'fer']){const _0x49ce29=this['shader'];v['assert'](_0x49ce29);const _0xbafdeb=_0x49ce29['meshUnifor'+'mBufferFor'+'mat'];v['assert'](_0xbafdeb),this['uniformBuf'+'fer']=new gp(_0x10eb2b,_0xbafdeb,!(0x12e0+-0xb*0x2cc+0xbe5));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x46c2e1,_0x302d49;(_0x46c2e1=this['bindGroup'])==null||_0x46c2e1['destroy'](),this['bindGroup']=null,(_0x302d49=this['uniformBuf'+'fer'])==null||_0x302d49['destroy'](),this['uniformBuf'+'fer']=null;}}const Vr=class Vr{constructor(_0x493f79,_0x32b025,_0x41b4f6=null){c(this,'castShadow',!(-0x122*0x5+-0xc34+0x11df)),c(this,'cull',!(0x175*-0x1+0x8c*0x1a+-0x441*0x3)),c(this,'drawOrder',0x83*0x47+-0xd6c+0x187*-0xf),c(this,'node'),c(this,'visible',!(-0x4fd*-0x3+0x65*0x11+-0x15ac)),c(this,'visibleThi'+'sFrame',!(-0x4*-0x7c+-0x1332+-0x1eb*-0x9)),c(this,'flipFacesF'+'actor',0x24fc+0x147d+-0x3978),c(this,'gsplatInst'+'ance',null),c(this,'id',rC++),c(this,'isVisibleF'+'unc',null),c(this,'instancing'+'Data',null),c(this,'parameters',{}),c(this,'pick',!(-0x150*-0x9+-0x1ad0+-0x8*-0x1e0)),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'transparen'+'t',!(0x706+-0x8c4+0x1bf)),c(this,'_aabb',new _e()),c(this,'_aabbVer',-(0x2*-0x8c5+0x3d4+-0xdb7*-0x1)),c(this,'_aabbMeshV'+'er',-(0x23a2+0xb47+-0x2ee8)),c(this,'_customAab'+'b',null),c(this,'_updateAab'+'b',!(-0x1*0xdab+0x2105+-0x1*0x135a)),c(this,'_updateAab'+'bFunc',null),c(this,'_key',[-0x2*-0xc73+-0x1cfd+-0x417*-0x1,0x7f7*0x4+-0xf10*-0x1+-0x2eec]),c(this,'_layer',c0),c(this,'_material',null),c(this,'_skinInsta'+'nce',null),c(this,'_morphInst'+'ance',null),c(this,'_receiveSh'+'adow',!(-0xa3*0x24+0x9d6+-0x86*-0x19)),c(this,'_renderSty'+'le',yo),c(this,'_screenSpa'+'ce',!(0x2*-0x10e7+-0x9d2+0x2ba1)),c(this,'_shaderCac'+'he',new Map()),c(this,'_shaderDef'+'s',hs<<0x647*0x1+0x10*-0x2f+0x347*-0x1),c(this,'_calculate'+'SortDistan'+'ce',null);if(v['assert'](!(_0x493f79 instanceof De),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x41b4f6,this['_mesh']=_0x493f79,_0x493f79['incRefCoun'+'t'](),this['material']=_0x32b025,_0x493f79['vertexBuff'+'er']){const _0x1b3016=_0x493f79['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x1b3016['hasUv0']?m0:-0xd81*0x1+0x60d*0x2+0x167*0x1,this['_shaderDef'+'s']|=_0x1b3016['hasUv1']?_0:-0x1cd4+0x1816+0x1*0x4be,this['_shaderDef'+'s']|=_0x1b3016['hasColor']?g0:0x9c5+0x2252+-0x2c17,this['_shaderDef'+'s']|=_0x1b3016['hasTangent'+'s']?Mp:-0x23b4+0x287*0x7+-0x35*-0x57;}this['updateKey']();}set['renderStyl'+'e'](_0x598154){this['_renderSty'+'le']=_0x598154,this['mesh']['prepareRen'+'derState'](_0x598154);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0xb90d87){_0xb90d87!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0xb90d87,_0xb90d87&&_0xb90d87['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x212d4b){this['_aabb']=_0x212d4b;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x468d6d=this['_customAab'+'b'],_0x1765e0=!!_0x468d6d;if(!_0x468d6d){if(_0x468d6d=nC,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x304a8d=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x304a8d);}const _0xf16c17=this['mesh']['boneUsed'];let _0x5774a5=!(-0x6*-0x395+-0x1*-0x26f3+0x1*-0x3c71);for(let _0x19068d=-0x20e5*-0x1+0x2302*0x1+-0x43e7;_0x19068d<this['mesh']['boneAabb']['length'];_0x19068d++)_0xf16c17[_0x19068d]&&(Cl['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x19068d],this['skinInstan'+'ce']['matrices'][_0x19068d]),_0x5774a5?(_0x5774a5=!(0x993*0x3+0x116*-0x1+-0x1ba2),_0x468d6d['center']['copy'](Cl['center']),_0x468d6d['halfExtent'+'s']['copy'](Cl['halfExtent'+'s'])):_0x468d6d['add'](Cl));_0x1765e0=!(0x1fa9+-0x18f*-0xb+-0x30ce*0x1);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x468d6d['center']['copy'](this['mesh']['aabb']['center']),_0x468d6d['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x468d6d['center']['set'](0xbd4*-0x1+-0x6c0*0x4+0x7c4*0x5,0xb37+0x3*-0x2f3+-0x25e,-0x131b+0x2*-0x1337+-0x67*-0x8f),_0x468d6d['halfExtent'+'s']['set'](0x5*0x367+-0x56e*0x3+-0xb9,0xc64+-0xdb*0x27+-0x7*-0x2ff,0xe44+0x1d97+-0x2bdb)),this['mesh']&&this['mesh']['morph']){const _0x1c77c5=this['mesh']['morph']['aabb'];_0x468d6d['_expand'](_0x1c77c5['getMin'](),_0x1c77c5['getMax']());}_0x1765e0=!(-0xa23+0x240c*-0x1+0x1*0x2e2f),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x1765e0&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x468d6d,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x3038d4=>{_0x3038d4['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x822267,_0x30a619,_0x1635d3,_0xc83ff1,_0x20515e,_0x2d0782,_0xabfc1d){var _0x380e85;const _0x3199a0=this['_shaderDef'+'s'];yr[0x158a+-0x35e+0x916*-0x2]=_0x822267,yr[-0x1*0x1fbb+-0xc12+0x10b*0x2a]=_0x30a619,yr[-0xa9f*-0x3+0x18ab+-0x3886]=_0x3199a0,yr[0x1176+0x314+-0x1487]=_0xc83ff1['hash'];const _0x3af761=Zy(yr);let _0xeaf8ea=this['_shaderCac'+'he']['get'](_0x3af761);if(!_0xeaf8ea){const _0x55aee0=this['_material'];if(_0xeaf8ea=new oC(),_0xeaf8ea['shader']=_0x55aee0['variants']['get'](_0x3af761),_0xeaf8ea['hashes']=new Uint32Array(yr),!_0xeaf8ea['shader']){G['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x32e22b=_0x55aee0['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x1635d3,'objDefs':_0x3199a0,'cameraShaderParams':_0xc83ff1,'pass':_0x822267,'sortedLights':_0xabfc1d,'viewUniformFormat':_0x20515e,'viewBindGroupFormat':_0x2d0782,'vertexFormat':(_0x380e85=this['mesh']['vertexBuff'+'er'])==null?void(0x1d*0xa9+-0x10fa*0x2+-0xecf*-0x1):_0x380e85['format']});G['popGpuMark'+'er'](this['mesh']['device']),_0x55aee0['variants']['set'](_0x3af761,_0x32e22b),_0xeaf8ea['shader']=_0x32e22b;}this['_shaderCac'+'he']['set'](_0x3af761,_0xeaf8ea);}return v['call'](()=>{Wv['equals'](_0xeaf8ea['hashes'],yr)||v['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0xeaf8ea;}set['material'](_0x48ebac){this['clearShade'+'rs']();const _0x308e1b=this['_material'];_0x308e1b&&_0x308e1b['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x48ebac,_0x48ebac&&(_0x48ebac['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x48ebac['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}set['layer'](_0x514945){this['_layer']=_0x514945,this['updateKey']();}get['layer'](){return this['_layer'];}['_updateSha'+'derDefs'](_0x36cd82){_0x36cd82!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x36cd82,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x7a7643){this['_calculate'+'SortDistan'+'ce']=_0x7a7643;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x3ca9e5){this['_receiveSh'+'adow']!==_0x3ca9e5&&(this['_receiveSh'+'adow']=_0x3ca9e5,this['_updateSha'+'derDefs'](_0x3ca9e5?this['_shaderDef'+'s']&-(-0x892*-0x1+0x6e*0x11+0x7ef*-0x2):this['_shaderDef'+'s']|Ep));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x3bf401){this['_updateSha'+'derDefs'](_0x3bf401?this['_shaderDef'+'s']|Ou:this['_shaderDef'+'s']&-(-0x4*0x1714+0x2c24+-0xd*-0x8a1));}get['batching'](){return(this['_shaderDef'+'s']&Ou)!==-0x1*-0xfb8+-0x4*0x8d2+0x1390;}set['skinInstan'+'ce'](_0x5ccf7a){this['_skinInsta'+'nce']=_0x5ccf7a,this['_updateSha'+'derDefs'](_0x5ccf7a?this['_shaderDef'+'s']|Wc:this['_shaderDef'+'s']&-(-0x15ea+0x1*-0xb17+-0x2104*-0x1)),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x3db928){var _0x109a12;(_0x109a12=this['_morphInst'+'ance'])==null||_0x109a12['destroy'](),this['_morphInst'+'ance']=_0x3db928;let _0x57f448=this['_shaderDef'+'s'];_0x57f448=_0x3db928&&_0x3db928['morph']['morphPosit'+'ions']?_0x57f448|qc:_0x57f448&-(-0x4*0x8e1+0x5*-0x6c7+0x4*0x125a),_0x57f448=_0x3db928&&_0x3db928['morph']['morphNorma'+'ls']?_0x57f448|Xc:_0x57f448&-(-0x1f1e+-0x255e+0x4c7d),_0x57f448=_0x3db928&&_0x3db928['morph']['intRenderF'+'ormat']?_0x57f448|jc:_0x57f448&-(0x3d*0x24+-0x109*0x3+0x8d8*0x3),this['_updateSha'+'derDefs'](_0x57f448);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x1912c3){this['_screenSpa'+'ce']!==_0x1912c3&&(this['_screenSpa'+'ce']=_0x1912c3,this['_updateSha'+'derDefs'](_0x1912c3?this['_shaderDef'+'s']|Cp:this['_shaderDef'+'s']&-(0x5b2+0x1*-0xbba+0x709)));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x528c8b){this['_key'][Ei]=_0x528c8b;}get['key'](){return this['_key'][Ei];}set['mask'](_0xd7b6bd){const _0x1b6fed=this['_shaderDef'+'s']&-0x1*0xf5b+-0x2*0x3089+0x92*0x286;this['_updateSha'+'derDefs'](_0x1b6fed|_0xd7b6bd<<-0x29f*0x2+-0xb8d*-0x1+0x29*-0x27);}get['mask'](){return this['_shaderDef'+'s']>>0xab*0x1d+-0x1cf*-0x8+-0x21c7;}set['instancing'+'Count'](_0xaff212){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0xaff212);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:-0x2f*-0x7f+-0x4*-0x346+-0x27*0xef;}['destroy'](){var _0x218911,_0x21b1e7,_0x20adec;const _0x3ad788=this['mesh'];_0x3ad788&&(this['mesh']=null,_0x3ad788['refCount']<0x598*0x2+-0x26*-0x6b+-0x1b11&&_0x3ad788['destroy']()),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0x271+0xa2e+-0xc9f],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0xb5d+-0xf3e+0x1f1*0x2],null),(_0x218911=this['_skinInsta'+'nce'])==null||_0x218911['destroy'](),this['_skinInsta'+'nce']=null,(_0x21b1e7=this['morphInsta'+'nce'])==null||_0x21b1e7['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x20adec=this['instancing'+'Data'])==null||_0x20adec['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x253a60,_0x5308da){if(_0x253a60){for(let _0x58aa9b=-0x5a9+-0xe98+0x40d*0x5;_0x58aa9b<_0x253a60['length'];_0x58aa9b++){_0x253a60[_0x58aa9b]['_renderSty'+'le']=_0x5308da;const _0x2ac294=_0x253a60[_0x58aa9b]['mesh'];xd['has'](_0x2ac294)||(xd['add'](_0x2ac294),_0x2ac294['prepareRen'+'derState'](_0x5308da));}xd['clear']();}}['_isVisible'](_0x372bff){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x372bff):(yd['center']=this['aabb']['center'],yd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x372bff['frustum']['containsSp'+'here'](yd)>-0xeb9+0x2*0x9e9+-0x519):!(0xb23+0xd72+0x34*-0x79);}['updateKey'](){const _0x575b54=this['material'],_0x1a0b59=_0x575b54['alphaToCov'+'erage']||_0x575b54['alphaTest']?Kt:_0x575b54['blendType'];this['_key'][Ei]=(this['layer']&-0x30e+0x121e+-0xf01)<<0x1ba6+0x812+-0x239d*0x1|(_0x1a0b59===is?-0x1d*0x1b+-0xc*-0xd7+-0x704:-0x1043+0xe9*0x1f+-0x11*0xb4)<<-0x1253+-0x792+0xb*0x25d|(_0x575b54['id']&-0x3e5762e*0x1+0x129a331+-0x7de76*-0x9a)<<0x3bc*0x9+0x11+-0xe9*0x25;}['setInstanc'+'ing'](_0x2b2fca,_0x3df6c0=!(-0x3e7*0x1+-0x27*0x9d+0x1*0x1bd3)){_0x2b2fca?(this['instancing'+'Data']=new aC(_0x2b2fca['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x2b2fca,_0x2b2fca['format']['instancing']=!(0x5*0x26e+0xeea+-0x1b10),this['cull']=_0x3df6c0):(this['instancing'+'Data']=null,this['cull']=!(-0x1105+0x1efd*-0x1+0x3002)),this['_updateSha'+'derDefs'](_0x2b2fca?this['_shaderDef'+'s']|$c:this['_shaderDef'+'s']&-(-0xcdc+-0x394*0x6+0x2275));}['ensureMate'+'rial'](_0x388311){this['material']||(v['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=al(_0x388311));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x354766){return this['parameters'][_0x354766];}['setParamet'+'er'](_0x4006a5,_0x56dda5,_0x509597=-0x3b*-0x168c86c+0x1025ff*-0x1601+0x2102ddf1a){const _0x3e5d91=this['parameters'][_0x4006a5];_0x3e5d91?(_0x3e5d91['data']=_0x56dda5,_0x3e5d91['passFlags']=_0x509597):this['parameters'][_0x4006a5]={'scopeId':null,'data':_0x56dda5,'passFlags':_0x509597};}['setRealtim'+'eLightmap'](_0x3e88fc,_0x4a7f16){const _0x236d33=this['getParamet'+'er'](_0x3e88fc);_0x236d33!==_0x4a7f16&&(_0x236d33&&Si['decRef'](_0x236d33['data']),_0x4a7f16?(Si['incRef'](_0x4a7f16),this['setParamet'+'er'](_0x3e88fc,_0x4a7f16)):this['deletePara'+'meter'](_0x3e88fc));}['deletePara'+'meter'](_0x1d23a4){this['parameters'][_0x1d23a4]&&delete this['parameters'][_0x1d23a4];}['setParamet'+'ers'](_0x108320,_0x28ac0f){const _0x2648b2=this['parameters'];for(const _0x38004e in _0x2648b2){const _0x48b033=_0x2648b2[_0x38004e];_0x48b033['passFlags']&_0x28ac0f&&(_0x48b033['scopeId']||(_0x48b033['scopeId']=_0x108320['scope']['resolve'](_0x38004e)),_0x48b033['scopeId']['setValue'](_0x48b033['data']));}}['setLightma'+'pped'](_0x1bfe37){_0x1bfe37?this['mask']=(this['mask']|cr)&-(0x331*0x3+0x1c4f*-0x1+0x12c2):(this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0x15*-0x69+0x1*-0x1a73+0x11d6],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0xd33+-0x7f*-0x3e+-0x2bf4],null),this['_shaderDef'+'s']&=-(0x225d+-0x1*0x117a+0x22*-0x1),this['mask']=(this['mask']|hs)&-(-0x1508+-0x81*0x41+-0xd74*-0x4));}['setCustomA'+'abb'](_0x4dc1ae){_0x4dc1ae?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x4dc1ae):this['_customAab'+'b']=_0x4dc1ae['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(-0x2*-0x6cd+0x114*0x16+-0x1*0x2551)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};c(Vr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let Le=Vr;const lC=[-0x25ad+0x26f3+-0x146,0x20de+-0xf*0x259+0x12d*0x2,-0x263b+-0x1*-0x331+0x3*0xbaf,-0x2*0x1d+0x9*-0x12a+0xab6,-0x1e1*0x3+-0x8*0x3f5+0x254e,-0x617*-0x1+-0x6c9+0x1*0xb3],hC=[-0x1*-0x16be+0x22bd+-0x397b,-0x2b+0x2ff+-0x2d3,-0x345*0x1+0x1*-0x11e4+0x152c,0x7e7+0x12c+0x913*-0x1,-0xaa1+0x23*0x83+-0x745,-0x2dd*-0x4+-0x4*-0xe8+-0xf12],jm=new js();function Ym(_0x2c4404,_0x38dbce){if(_0x2c4404&&!_0x38dbce||!_0x2c4404&&_0x38dbce)return!(0xe22*0x2+0xa+-0x1c4d);if(_0x2c4404=_0x2c4404['data'],_0x38dbce=_0x38dbce['data'],_0x2c4404===_0x38dbce)return!(-0x17f9+-0x2*-0x1f6+0x140d);if(_0x2c4404 instanceof Float32Array&&_0x38dbce instanceof Float32Array){if(_0x2c4404['length']!==_0x38dbce['length'])return!(0xd72+-0x397*-0x5+0x4*-0x7d9);for(let _0x27a96c=-0x1*0x1daa+-0x16b*0xb+0x2d43;_0x27a96c<_0x2c4404['length'];_0x27a96c++)if(_0x2c4404[_0x27a96c]!==_0x38dbce[_0x27a96c])return!(-0xb8+-0x47*0x49+-0xa7c*-0x2);return!(0x1a6c+0x1*-0x1a4c+-0x20*0x1);}return!(-0xea2*0x2+-0x5ea+0x232f);}function cC(_0x2b6548,_0x30999d){for(const _0x81972e in _0x2b6548)if(_0x2b6548['hasOwnProp'+'erty'](_0x81972e)&&!Ym(_0x2b6548[_0x81972e],_0x30999d[_0x81972e]))return!(-0x5ae*-0x1+0xdb*0xb+-0xf16);for(const _0x3387aa in _0x30999d)if(_0x30999d['hasOwnProp'+'erty'](_0x3387aa)&&!Ym(_0x30999d[_0x3387aa],_0x2b6548[_0x3387aa]))return!(0x3dd+-0x10b*0x22+0x1f9a);return!(-0x98e+-0x43*0x7+0xb63);}function Sd(_0x4b4e24){return _0x4b4e24['node']['worldTrans'+'form']['scaleSign'];}class dC{constructor(_0x11477d,_0x59c8d1,_0xf76b8e){this['device']=_0x11477d,this['rootNode']=_0x59c8d1,this['scene']=_0xf76b8e,this['_init']=!(-0x3*-0x3fb+0x9*0x13c+-0x170c),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=0xb*-0x329+-0x1212+-0x19*-0x21d,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x4dd5d6,_0x9e26a2,_0xb727c,_0xc41e0f,_0x238ec8){if(_0xc41e0f===void(-0x500+0x35*0x9b+-0x1b17)&&(_0xc41e0f=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0xc41e0f]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0xc41e0f+('\x20already\x20e'+'xists.'));return;}const _0xfdead8=new et(_0xc41e0f,_0x4dd5d6,_0x9e26a2,_0xb727c,_0x238ec8);return this['_batchGrou'+'ps'][_0xc41e0f]=_0xfdead8,_0xfdead8;}['removeGrou'+'p'](_0x3d2e33){if(!this['_batchGrou'+'ps'][_0x3d2e33]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x3d2e33+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x4e2664=[];for(let _0x468e59=-0xda3+-0x183f+0x25e2;_0x468e59<this['_batchList']['length'];_0x468e59++)this['_batchList'][_0x468e59]['batchGroup'+'Id']===_0x3d2e33?this['destroyBat'+'ch'](this['_batchList'][_0x468e59]):_0x4e2664['push'](this['_batchList'][_0x468e59]);this['_batchList']=_0x4e2664,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x3d2e33),delete this['_batchGrou'+'ps'][_0x3d2e33];}['markGroupD'+'irty'](_0x28d13c){this['_dirtyGrou'+'ps']['indexOf'](_0x28d13c)<-0x75*0x27+0x2d7+-0x7*-0x224&&this['_dirtyGrou'+'ps']['push'](_0x28d13c);}['getGroupBy'+'Name'](_0x4ff577){const _0x256ee9=this['_batchGrou'+'ps'];for(const _0xa4821e in _0x256ee9)if(_0x256ee9['hasOwnProp'+'erty'](_0xa4821e)&&_0x256ee9[_0xa4821e]['name']===_0x4ff577)return _0x256ee9[_0xa4821e];return null;}['getBatches'](_0x21feb0){const _0x51418e=[],_0x271613=this['_batchList']['length'];for(let _0x5688c7=-0x6cd*-0x3+0x5*-0x66+-0x1269;_0x5688c7<_0x271613;_0x5688c7++){const _0x5b0fef=this['_batchList'][_0x5688c7];_0x5b0fef['batchGroup'+'Id']===_0x21feb0&&_0x51418e['push'](_0x5b0fef);}return _0x51418e;}['_removeMod'+'elsFromBat'+'chGroup'](_0x1240d4,_0x301981){if(_0x1240d4['enabled']){_0x1240d4['model']&&_0x1240d4['model']['batchGroup'+'Id']===_0x301981&&(_0x1240d4['model']['batchGroup'+'Id']=-(0x6*0x161+0xdfe+0x8b*-0x29)),_0x1240d4['render']&&_0x1240d4['render']['batchGroup'+'Id']===_0x301981&&(_0x1240d4['render']['batchGroup'+'Id']=-(-0x18b7+-0xb2c+-0x1*-0x23e4)),_0x1240d4['element']&&_0x1240d4['element']['batchGroup'+'Id']===_0x301981&&(_0x1240d4['element']['batchGroup'+'Id']=-(-0xe9+-0x1c4e*-0x1+0x2*-0xdb2)),_0x1240d4['sprite']&&_0x1240d4['sprite']['batchGroup'+'Id']===_0x301981&&(_0x1240d4['sprite']['batchGroup'+'Id']=-(-0x7*-0x543+0x6d3*-0x1+-0x1e01));for(let _0x432dd8=-0x3fe*-0x4+0x1*-0x6dd+-0x91b;_0x432dd8<_0x1240d4['_children']['length'];_0x432dd8++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x1240d4['_children'][_0x432dd8],_0x301981);}}['insert'](_0xdcc602,_0x34f127,_0xb1a97b){const _0x247706=this['_batchGrou'+'ps'][_0x34f127];v['assert'](_0x247706,'Invalid\x20ba'+'tch\x20'+_0x34f127+'\x20insertion'),_0x247706&&_0x247706['_obj'][_0xdcc602]['indexOf'](_0xb1a97b)<0x1c8f*-0x1+-0x12a7+0x2f36&&(_0x247706['_obj'][_0xdcc602]['push'](_0xb1a97b),this['markGroupD'+'irty'](_0x34f127));}['remove'](_0x15fc03,_0x1433c2,_0x3703ce){const _0x2c252b=this['_batchGrou'+'ps'][_0x1433c2];if(v['assert'](_0x2c252b,'Invalid\x20ba'+'tch\x20'+_0x1433c2+'\x20insertion'),_0x2c252b){const _0x45e6fc=_0x2c252b['_obj'][_0x15fc03]['indexOf'](_0x3703ce);_0x45e6fc>=-0x1228+-0x1bb+-0x13e3*-0x1&&(_0x2c252b['_obj'][_0x15fc03]['splice'](_0x45e6fc,0x3a*-0x34+0xdd+0xaec),this['markGroupD'+'irty'](_0x1433c2));}}['_extractRe'+'nder'](_0x551b7c,_0x114365,_0x469125,_0x25ed9b){return _0x551b7c['render']&&(_0x114365=_0x25ed9b[_0x551b7c['render']['batchGroup'+'Id']]=_0x114365['concat'](_0x551b7c['render']['meshInstan'+'ces']),_0x551b7c['render']['removeFrom'+'Layers']()),_0x114365;}['_extractMo'+'del'](_0x21ed96,_0x4758bb,_0x5d46cb,_0x3db8a3){return _0x21ed96['model']&&_0x21ed96['model']['model']&&(_0x4758bb=_0x3db8a3[_0x21ed96['model']['batchGroup'+'Id']]=_0x4758bb['concat'](_0x21ed96['model']['meshInstan'+'ces']),_0x21ed96['model']['removeMode'+'lFromLayer'+'s'](),_0x21ed96['model']['_batchGrou'+'p']=_0x5d46cb),_0x4758bb;}['_extractEl'+'ement'](_0x5c83e3,_0x5d11d4,_0xaae14){if(!_0x5c83e3['element'])return;let _0x1bf4ea=!(0x1cec+0x1*-0x21bf+-0xce*-0x6);_0x5c83e3['element']['_text']&&_0x5c83e3['element']['_text']['_model']['meshInstan'+'ces']['length']>-0x13f7+-0x23f9+-0x37f*-0x10?(_0x5d11d4['push'](_0x5c83e3['element']['_text']['_model']['meshInstan'+'ces'][-0x6c5*0x2+-0x439+0x11c3]),_0x5c83e3['element']['removeMode'+'lFromLayer'+'s'](_0x5c83e3['element']['_text']['_model']),_0x1bf4ea=!(0xf04+0x11c7+0x1*-0x20cb)):_0x5c83e3['element']['_image']&&(_0x5d11d4['push'](_0x5c83e3['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x5c83e3['element']['removeMode'+'lFromLayer'+'s'](_0x5c83e3['element']['_image']['_renderabl'+'e']['model']),_0x5c83e3['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x5d11d4['push'](_0x5c83e3['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x5c83e3['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x5c83e3['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x5c83e3['element']['_dirtifyMa'+'sk'](),_0x5c83e3['element']['_onPrerend'+'er']())),_0x1bf4ea=!(-0x114e+0x1260+0x1*-0x112)),_0x1bf4ea&&(_0xaae14['_ui']=!(-0x3*0xbac+0x3*0x1bf+0x1*0x1dc7),_0x5c83e3['element']['_batchGrou'+'p']=_0xaae14);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x4dfb38,_0x1a8a49){for(let _0x2c16a8=0x26f6+0x1d41+-0x1*0x4437;_0x2c16a8<_0x1a8a49['length'];_0x2c16a8++){const _0x4e372f=_0x1a8a49[_0x2c16a8],_0x58d31f=this['_batchGrou'+'ps'][_0x4e372f];if(!_0x58d31f)continue;let _0x2bf328=_0x4dfb38[_0x4e372f];_0x2bf328||(_0x2bf328=_0x4dfb38[_0x4e372f]=[]);for(let _0x1e595c=0xbf2+0x13d+0xd2f*-0x1;_0x1e595c<_0x58d31f['_obj']['model']['length'];_0x1e595c++)_0x2bf328=this['_extractMo'+'del'](_0x58d31f['_obj']['model'][_0x1e595c],_0x2bf328,_0x58d31f,_0x4dfb38);for(let _0x3b6ff7=-0x41*-0x6f+-0xca3*0x3+-0x6*-0x19f;_0x3b6ff7<_0x58d31f['_obj']['render']['length'];_0x3b6ff7++)_0x2bf328=this['_extractRe'+'nder'](_0x58d31f['_obj']['render'][_0x3b6ff7],_0x2bf328,_0x58d31f,_0x4dfb38);for(let _0x286a48=-0x2f*0x1e+0x190b+0x3*-0x683;_0x286a48<_0x58d31f['_obj']['element']['length'];_0x286a48++)this['_extractEl'+'ement'](_0x58d31f['_obj']['element'][_0x286a48],_0x2bf328,_0x58d31f);for(let _0x1127f8=0x87a+-0xf*-0xc4+-0x13f6;_0x1127f8<_0x58d31f['_obj']['sprite']['length'];_0x1127f8++){const _0x8de79b=_0x58d31f['_obj']['sprite'][_0x1127f8];_0x8de79b['sprite']&&_0x8de79b['sprite']['_meshInsta'+'nce']&&(_0x58d31f['dynamic']||_0x8de79b['sprite']['sprite']['_renderMod'+'e']===Ti)&&(_0x2bf328['push'](_0x8de79b['sprite']['_meshInsta'+'nce']),_0x8de79b['sprite']['removeMode'+'lFromLayer'+'s'](),_0x58d31f['_sprite']=!(-0xe5*-0x16+0xc7*-0x13+-0x4e9),_0x8de79b['sprite']['_batchGrou'+'p']=_0x58d31f);}}}['generate'](_0x47df4d){const _0x1d06f3={};_0x47df4d||(_0x47df4d=Object['keys'](this['_batchGrou'+'ps']));const _0x313c7f=[];for(let _0x1ebb15=0x1*0x24b0+0xd24+-0x31d4;_0x1ebb15<this['_batchList']['length'];_0x1ebb15++){if(_0x47df4d['indexOf'](this['_batchList'][_0x1ebb15]['batchGroup'+'Id'])<-0x1be1+-0x18b7+0x3498){_0x313c7f['push'](this['_batchList'][_0x1ebb15]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x1ebb15]);}if(this['_batchList']=_0x313c7f,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x1d06f3,_0x47df4d),_0x47df4d===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=0x6*0x2d9+0x2464+-0x357a;else{const _0x9e087d=[];for(let _0x369966=0xf72+0x1e6b+-0x2ddd;_0x369966<this['_dirtyGrou'+'ps']['length'];_0x369966++)_0x47df4d['indexOf'](this['_dirtyGrou'+'ps'][_0x369966])<0x68a+0x1e00+0x6*-0x617&&_0x9e087d['push'](this['_dirtyGrou'+'ps'][_0x369966]);this['_dirtyGrou'+'ps']=_0x9e087d;}let _0x359a15,_0x5236ac,_0x42ee4d,_0x3e9891;for(const _0x35671f in _0x1d06f3)if(_0x1d06f3['hasOwnProp'+'erty'](_0x35671f)){if(_0x359a15=_0x1d06f3[_0x35671f],_0x42ee4d=this['_batchGrou'+'ps'][_0x35671f],!_0x42ee4d){v['error']('batch\x20grou'+'p\x20'+_0x35671f+'\x20not\x20found');continue;}_0x5236ac=this['prepare'](_0x359a15,_0x42ee4d['dynamic'],_0x42ee4d['maxAabbSiz'+'e'],_0x42ee4d['_ui']||_0x42ee4d['_sprite']);for(let _0x178d4b=-0x1227+-0x10b7+0x22de;_0x178d4b<_0x5236ac['length'];_0x178d4b++)_0x3e9891=this['create'](_0x5236ac[_0x178d4b],_0x42ee4d['dynamic'],parseInt(_0x35671f,0x1*0x2513+0x1*-0x2582+0x79)),_0x3e9891&&_0x3e9891['addToLayer'+'s'](this['scene'],_0x42ee4d['layers']);}}['prepare'](_0x763f1c,_0x5005ee,_0x3f1b9b=Number['POSITIVE_I'+'NFINITY'],_0x571892){if(_0x763f1c['length']===-0x10b8+-0x1fbc+-0xc1d*-0x4)return[];const _0xbd2d02=_0x3f1b9b*(0x1861+-0x1*0x1384+0x3*-0x19f+0.5),_0x2f18b8=-0x212*0x3+0x58*0x2a+-0x43a,_0x424801=-0x6b644b04+-0x1b2b89f2f+-0x9f9f620a*-0x5,_0x398818=new _e(),_0x148ce0=new _e();let _0x29524e=null,_0x44d9e2;const _0x18df47=[];let _0x21d44c=-0x450+-0xf3*-0xb+0x621*-0x1;_0x571892&&_0x763f1c['sort']((_0x15957d,_0x3aef7a)=>_0x15957d['drawOrder']-_0x3aef7a['drawOrder']);let _0x2ec5f2=_0x763f1c,_0x57dae4;const _0x14399e=_0x571892?function(_0x1212e4){_0x29524e?_0x29524e['add'](_0x1212e4['aabb']):_0x29524e=_0x1212e4['aabb']['clone'](),_0x57dae4['push'](_0x1212e4);}:function(_0x30d84a){_0x57dae4['push'](_0x30d84a);};for(;_0x2ec5f2['length']>0x189f+-0x15e2+-0x1*0x2bd;){_0x18df47[_0x21d44c]=[_0x2ec5f2[-0x3*0xbf7+0x3d*0x95+-0x14*-0x5]],_0x57dae4=[];const _0x4ef999=_0x2ec5f2[0x101a+-0xb*0xef+-0x1*0x5d5]['material'],_0x3b0419=_0x2ec5f2[0x3*0x697+-0x1c00+0x83b]['layer'],_0x16cc15=_0x2ec5f2[-0x1*-0x1345+-0x508+-0x5*0x2d9]['_shaderDef'+'s'],_0x54a53b=_0x2ec5f2[-0x14f9+-0xa46+0x1f3f]['parameters'],_0x1b6af4=_0x2ec5f2[0x16e2+-0x93d+-0x1f3*0x7]['stencilFro'+'nt'];let _0x18435b=_0x2ec5f2[0x1c99+0x1fd3+0x1*-0x3c6c]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x363b37=_0x2ec5f2[0x8ae+0x20d7+-0x49d*0x9]['drawOrder'];_0x398818['copy'](_0x2ec5f2[-0x25+-0x1db*0x5+-0x1*-0x96c]['aabb']);const _0x160609=Sd(_0x2ec5f2[-0xca*-0x5+0x1e9*-0x8+0xb56]),_0x996ed3=_0x2ec5f2[-0x25c+-0x201c+0x2278]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x2eb2ef=_0x2ec5f2[-0x158a+-0x20c2+-0x8b*-0x64]['mesh']['primitive'][0x2*0xfcd+-0x3*0x6a3+-0xbb1*0x1]['indexed'];_0x29524e=null;for(let _0x3c11df=-0xc5f+-0xc5b*0x1+0x1e7*0xd;_0x3c11df<_0x2ec5f2['length'];_0x3c11df++){const _0x4b1b82=_0x2ec5f2[_0x3c11df];if(_0x5005ee&&_0x18df47[_0x21d44c]['length']>=_0x2f18b8){_0x57dae4=_0x57dae4['concat'](_0x2ec5f2['slice'](_0x3c11df));break;}if(_0x4ef999!==_0x4b1b82['material']||_0x3b0419!==_0x4b1b82['layer']||_0x996ed3!==_0x4b1b82['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x2eb2ef!==_0x4b1b82['mesh']['primitive'][-0x641+0xbd+0x584]['indexed']||_0x16cc15!==_0x4b1b82['_shaderDef'+'s']||_0x18435b+_0x4b1b82['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x424801){_0x14399e(_0x4b1b82);continue;}if(_0x148ce0['copy'](_0x398818),_0x148ce0['add'](_0x4b1b82['aabb']),_0x148ce0['halfExtent'+'s']['x']>_0xbd2d02||_0x148ce0['halfExtent'+'s']['y']>_0xbd2d02||_0x148ce0['halfExtent'+'s']['z']>_0xbd2d02){_0x14399e(_0x4b1b82);continue;}if(_0x1b6af4&&(!(_0x44d9e2=_0x4b1b82['stencilFro'+'nt'])||_0x1b6af4['func']!==_0x44d9e2['func']||_0x1b6af4['zpass']!==_0x44d9e2['zpass'])){_0x14399e(_0x4b1b82);continue;}if(_0x160609!==Sd(_0x4b1b82)){_0x14399e(_0x4b1b82);continue;}if(!cC(_0x54a53b,_0x4b1b82['parameters'])){_0x14399e(_0x4b1b82);continue;}if(_0x571892&&_0x29524e&&_0x29524e['intersects'](_0x4b1b82['aabb'])&&_0x4b1b82['drawOrder']!==_0x363b37){_0x14399e(_0x4b1b82);continue;}_0x398818['add'](_0x4b1b82['aabb']),_0x18435b+=_0x4b1b82['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x18df47[_0x21d44c]['push'](_0x4b1b82);}_0x21d44c++,_0x2ec5f2=_0x57dae4;}return _0x18df47;}['collectBat'+'chedMeshDa'+'ta'](_0x2eeca7,_0x212e2f){let _0x454f42=null,_0x97d929=0x1f52+-0x2143+0x1f1,_0x3effa3=-0x26c0+-0x2656+0x4d16,_0x3ae851=null;for(let _0x28cb6d=-0x1*0x1f33+-0x23f4+0x4327;_0x28cb6d<_0x2eeca7['length'];_0x28cb6d++)if(_0x2eeca7[_0x28cb6d]['visible']){const _0xf31a4d=_0x2eeca7[_0x28cb6d]['mesh'],_0x1df08c=_0xf31a4d['vertexBuff'+'er']['numVertice'+'s'];if(_0x97d929+=_0x1df08c,_0xf31a4d['primitive'][-0x1*-0x1b35+0x2133+-0x3c68]['indexed'])_0x3effa3+=_0xf31a4d['primitive'][0x144b+0x1c64+-0x30af]['count'];else{const _0x2feace=_0xf31a4d['primitive'][0x1*0x26ce+-0x86*0x37+0x502*-0x2]['type'];(_0x2feace===Yr||_0x2feace===ar)&&_0xf31a4d['primitive'][-0x2074+0x250f+0x83*-0x9]['count']===-0x10*0xf1+0x900+0x614&&(_0x3effa3+=-0x2*-0x9e5+0x865*-0x4+0xdd0);}if(!_0x454f42){_0x3ae851=_0x2eeca7[_0x28cb6d]['material'],_0x454f42={};const _0x4000f2=_0xf31a4d['vertexBuff'+'er']['format']['elements'];for(let _0xa8d813=0x260e+0x7*-0xc8+-0x104b*0x2;_0xa8d813<_0x4000f2['length'];_0xa8d813++){const _0x1f253e=_0x4000f2[_0xa8d813]['name'];_0x454f42[_0x1f253e]={'numComponents':_0x4000f2[_0xa8d813]['numCompone'+'nts'],'dataType':_0x4000f2[_0xa8d813]['dataType'],'normalize':_0x4000f2[_0xa8d813]['normalize'],'count':0x0};}_0x212e2f&&(_0x454f42[qt]={'numComponents':0x1,'dataType':Ee,'normalize':!(0x1d5*-0x3+0x1*0x2671+0x3*-0xafb),'count':0x0});}}return{'streams':_0x454f42,'batchNumVerts':_0x97d929,'batchNumIndices':_0x3effa3,'material':_0x3ae851};}['create'](_0x2c9042,_0xf1a392,_0x5de06c){const _0x5e9eaa=ne();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(-0x621+-0x42f+0x8*0x14a));let _0x4096ec=null,_0x10991c,_0xdc7bd5,_0x3db3d6,_0x386feb=null;const _0x54cfc3=this['collectBat'+'chedMeshDa'+'ta'](_0x2c9042,_0xf1a392);if(_0x54cfc3['streams']){const _0x582c8b=_0x54cfc3['streams'];let _0x539435=_0x54cfc3['material'];const _0x4018ac=_0x54cfc3['batchNumVe'+'rts'],_0x4eb04d=_0x54cfc3['batchNumIn'+'dices'];_0x386feb=new zm(_0x2c9042,_0xf1a392,_0x5de06c),this['_batchList']['push'](_0x386feb);let _0x9ab94d,_0xb213c7,_0x512551,_0x3373bc=-0x1cd0+0x172*0xa+0xe5c,_0x465452=-0x4b+-0x1*-0xaab+-0xa60*0x1,_0x2061f2;const _0x2ddd0b=_0x4018ac<=0x1f3a6*0x1+-0x91c5*-0x2+-0x21731?Uint16Array:Uint32Array,_0x49006b=new _0x2ddd0b(_0x4eb04d);for(_0x10991c in _0x582c8b)_0x4096ec=_0x582c8b[_0x10991c],_0x4096ec['typeArrayT'+'ype']=da[_0x4096ec['dataType']],_0x4096ec['elementByt'+'eSize']=_o[_0x4096ec['dataType']],_0x4096ec['buffer']=new _0x4096ec['typeArrayT'+'ype'](_0x4018ac*_0x4096ec['numCompone'+'nts']);for(let _0xaf8306=-0x1*0x265+-0x150c+-0x1771*-0x1;_0xaf8306<_0x2c9042['length'];_0xaf8306++)if(_0x2c9042[_0xaf8306]['visible']){_0xdc7bd5=_0x2c9042[_0xaf8306]['mesh'],_0x3db3d6=_0xdc7bd5['vertexBuff'+'er']['numVertice'+'s'],_0xf1a392||(_0x2061f2=_0x2c9042[_0xaf8306]['node']['getWorldTr'+'ansform']());for(_0x10991c in _0x582c8b)if(_0x10991c!==qt){_0x4096ec=_0x582c8b[_0x10991c];const _0x5d88e3=new _0x4096ec['typeArrayT'+'ype'](_0x4096ec['buffer']['buffer'],_0x4096ec['elementByt'+'eSize']*_0x4096ec['count']),_0x2b39e6=_0xdc7bd5['getVertexS'+'tream'](_0x10991c,_0x5d88e3)*_0x4096ec['numCompone'+'nts'];if(_0x4096ec['count']+=_0x2b39e6,!_0xf1a392&&_0x4096ec['numCompone'+'nts']>=-0x1ddb*-0x1+-0x1*-0x6bb+-0x2493){if(_0x10991c===He){const _0x1ce2eb=_0x2061f2['data'],_0x421284=_0x1ce2eb[-0x135a+0x25*-0xfe+0x10*0x381],_0xae1f1a=_0x1ce2eb[-0x2426+0x1ffa*0x1+0x42d],_0xda44fe=_0x1ce2eb[0xd88+-0x2455+-0x16cf*-0x1],_0x552754=_0x1ce2eb[0x96*-0x3b+0x1e5*0xc+0xbda],_0x18bea2=_0x1ce2eb[-0x1dfb+-0x16f1+0x34f1],_0x39ce7c=_0x1ce2eb[-0x2a1*-0x5+0x1f51*-0x1+0x1*0x1232],_0x23f191=_0x1ce2eb[0x163b+0x128d+0x2*-0x1460],_0x4f3ae4=_0x1ce2eb[0x107*-0x3+0x1d1b+-0x19fd],_0x2f2e92=_0x1ce2eb[0x2fc+0x3a*0x2f+-0xd98],_0x54a6d7=_0x1ce2eb[0x305*-0x8+0x9ef*0x3+-0x1*0x599],_0x3937c0=_0x1ce2eb[-0x202*-0x2+-0x4*-0x765+-0x218b],_0x259c72=_0x1ce2eb[0x1cd*0x4+0xe05+-0x152b];let _0x31c55d,_0xf14819,_0x4c88c3;for(let _0x48598c=-0x2*-0x27+0x456+0xc*-0x63;_0x48598c<_0x2b39e6;_0x48598c+=_0x4096ec['numCompone'+'nts'])_0x31c55d=_0x5d88e3[_0x48598c],_0xf14819=_0x5d88e3[_0x48598c+(0x1*-0x29b+0x72*-0x1b+-0x1*-0xea2)],_0x4c88c3=_0x5d88e3[_0x48598c+(-0x5*-0xcb+-0x1589+-0x1e*-0x96)],_0x5d88e3[_0x48598c]=_0x31c55d*_0x421284+_0xf14819*_0x552754+_0x4c88c3*_0x23f191+_0x54a6d7,_0x5d88e3[_0x48598c+(0xd68+-0x11ce+0x467)]=_0x31c55d*_0xae1f1a+_0xf14819*_0x18bea2+_0x4c88c3*_0x4f3ae4+_0x3937c0,_0x5d88e3[_0x48598c+(-0x1*-0x1ec7+-0x323*0xb+-0x4*-0xef)]=_0x31c55d*_0xda44fe+_0xf14819*_0x39ce7c+_0x4c88c3*_0x2f2e92+_0x259c72;}else{if(_0x10991c===Yt||_0x10991c===Zs){jm['invertMat4'](_0x2061f2)['transpose']();const [_0x5287e9,_0x437f9f,_0x48bbba,_0x2b2f4d,_0x4f31bb,_0x1fc794,_0x3cea76,_0x1a46f3,_0x52bc72]=jm['data'];let _0x175a9f,_0x214826,_0x10b909;for(let _0x50b960=0x1*-0x157c+-0x27*-0x75+-0x3a9*-0x1;_0x50b960<_0x2b39e6;_0x50b960+=_0x4096ec['numCompone'+'nts'])_0x175a9f=_0x5d88e3[_0x50b960],_0x214826=_0x5d88e3[_0x50b960+(-0x144c+0x1*-0x9fd+-0x2*-0xf25)],_0x10b909=_0x5d88e3[_0x50b960+(0x14e0+-0x1268+-0x6*0x69)],_0x5d88e3[_0x50b960]=_0x175a9f*_0x5287e9+_0x214826*_0x2b2f4d+_0x10b909*_0x3cea76,_0x5d88e3[_0x50b960+(-0x245+0xa4e+-0x808)]=_0x175a9f*_0x437f9f+_0x214826*_0x4f31bb+_0x10b909*_0x1a46f3,_0x5d88e3[_0x50b960+(0xc7d+0x61*-0x65+0x19ca)]=_0x175a9f*_0x48bbba+_0x214826*_0x1fc794+_0x10b909*_0x52bc72;}}}}if(_0xf1a392){_0x4096ec=_0x582c8b[qt];for(let _0x3cc980=-0xe60+-0x5e6+-0xa23*-0x2;_0x3cc980<_0x3db3d6;_0x3cc980++)_0x4096ec['buffer'][_0x4096ec['count']++]=_0xaf8306;}if(_0xdc7bd5['primitive'][-0x1f34+-0x12c5+0x31f9]['indexed']){_0x9ab94d=_0xdc7bd5['primitive'][0x8c5*-0x4+-0x1*-0x22fa+-0xd*-0x2]['base'],_0xb213c7=_0xdc7bd5['primitive'][0x1b*0x119+-0x1*0x2303+0x560]['count'];const _0x20b544=_0xdc7bd5['indexBuffe'+'r'][-0x19d5+0x1*-0x52d+0x1f02]['getFormat']();_0x512551=new Lh[_0x20b544](_0xdc7bd5['indexBuffe'+'r'][-0x11d8+-0x307*0xc+-0x1b16*-0x2]['storage']);}else{const _0x14b9f6=_0xdc7bd5['primitive'][0x269b+-0x797*-0x1+0x36*-0xdb]['type'];if(_0x14b9f6===Yr||_0x14b9f6===ar){if(_0xdc7bd5['primitive'][-0x1*-0x1be3+-0x245a+0x877]['count']===0xe87+0x1*-0x691+-0x153*0x6)_0x9ab94d=-0x1259+-0x2*-0x58f+0x73b,_0xb213c7=-0x1*-0x2306+-0x1*0x302+-0x27*0xd2,_0x512551=_0x14b9f6===Yr?lC:hC;else{_0xb213c7=0x1*-0x1e5d+0x243c+0xa7*-0x9;continue;}}}for(let _0x4d631e=-0x6f1+-0x5e7*0x1+-0xc*-0x112;_0x4d631e<_0xb213c7;_0x4d631e++)_0x49006b[_0x4d631e+_0x465452]=_0x512551[_0x9ab94d+_0x4d631e]+_0x3373bc;_0x465452+=_0xb213c7,_0x3373bc+=_0x3db3d6;}_0xdc7bd5=new Ie(this['device']);for(_0x10991c in _0x582c8b)_0x4096ec=_0x582c8b[_0x10991c],_0xdc7bd5['setVertexS'+'tream'](_0x10991c,_0x4096ec['buffer'],_0x4096ec['numCompone'+'nts'],void(0x785+-0x7*0x1ed+0x5f6),_0x4096ec['dataType'],_0x4096ec['normalize']);_0x49006b['length']>-0x4c6+-0x1*0x185+-0xb3*-0x9&&_0xdc7bd5['setIndices'](_0x49006b),_0xdc7bd5['update'](Ms,!(0x5ec+-0x4ab+-0x14*0x10)),_0xf1a392&&(_0x539435=_0x539435['clone'](),_0x539435['update']());const _0x49be47=new Le(_0xdc7bd5,_0x539435,this['rootNode']);_0x49be47['castShadow']=_0x386feb['origMeshIn'+'stances'][-0xc10+-0x2132+-0x2d42*-0x1]['castShadow'],_0x49be47['parameters']=_0x386feb['origMeshIn'+'stances'][-0x1d*-0x1+0x1888+-0x18a5]['parameters'],_0x49be47['layer']=_0x386feb['origMeshIn'+'stances'][0x3b*0x65+-0x1f93+-0xc*-0xb1]['layer'],_0x49be47['_shaderDef'+'s']=_0x386feb['origMeshIn'+'stances'][-0x1c54+-0x2651+0x42a5]['_shaderDef'+'s'],_0x49be47['batching']=!(-0x1d3*0x1+0x1906*0x1+0x1733*-0x1),_0x49be47['cull']=_0x386feb['origMeshIn'+'stances'][-0x13a9*0x1+-0x1*-0x1c76+0x3*-0x2ef]['cull'];const _0x32a717=this['_batchGrou'+'ps'][_0x5de06c];if(_0x32a717&&_0x32a717['_ui']&&(_0x49be47['cull']=!(0x2*-0x10c1+0xa62+0x1721)),_0xf1a392){const _0x536be2=[];for(let _0x37d5bc=0x104a+-0x1612+0x5c8;_0x37d5bc<_0x386feb['origMeshIn'+'stances']['length'];_0x37d5bc++)_0x536be2['push'](_0x386feb['origMeshIn'+'stances'][_0x37d5bc]['node']);_0x49be47['skinInstan'+'ce']=new Vm(this['device'],_0x536be2,this['rootNode']);}_0x49be47['_updateAab'+'b']=!(0x1e0f+-0x14c*-0xc+0x2*-0x16cf),_0x49be47['drawOrder']=_0x386feb['origMeshIn'+'stances'][0x5*-0x44b+0xda6+-0x29b*-0x3]['drawOrder'],_0x49be47['stencilFro'+'nt']=_0x386feb['origMeshIn'+'stances'][0x1bbd+0x1d74+-0x3931]['stencilFro'+'nt'],_0x49be47['stencilBac'+'k']=_0x386feb['origMeshIn'+'stances'][0x270b+-0x1*-0x1131+-0x383c]['stencilBac'+'k'],_0x49be47['flipFacesF'+'actor']=Sd(_0x386feb['origMeshIn'+'stances'][-0x5*0x22+0x22be+0x4*-0x885]),_0x49be47['castShadow']=_0x386feb['origMeshIn'+'stances'][0x153*0x5+0x753+0x5*-0x2ca]['castShadow'],_0x386feb['meshInstan'+'ce']=_0x49be47,_0x386feb['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=ne()-_0x5e9eaa,_0x386feb;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>-0xb82+-0x2*0x36a+0x1256&&this['generate'](this['_dirtyGrou'+'ps']);const _0x2f6013=ne();for(let _0x562fde=-0x11f9+0x1*0x685+0xb74;_0x562fde<this['_batchList']['length'];_0x562fde++)this['_batchList'][_0x562fde]['dynamic']&&this['_batchList'][_0x562fde]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=ne()-_0x2f6013;}['clone'](_0x5a1e0b,_0x57c032){const _0x59dbee=new zm(_0x57c032,_0x5a1e0b['dynamic'],_0x5a1e0b['batchGroup'+'Id']);this['_batchList']['push'](_0x59dbee);const _0x534d42=[];for(let _0x567a60=-0xeb+0x1830+-0x1745;_0x567a60<_0x57c032['length'];_0x567a60++)_0x534d42['push'](_0x57c032[_0x567a60]['node']);return _0x59dbee['meshInstan'+'ce']=new Le(_0x5a1e0b['meshInstan'+'ce']['mesh'],_0x5a1e0b['meshInstan'+'ce']['material'],_0x5a1e0b['meshInstan'+'ce']['node']),_0x59dbee['meshInstan'+'ce']['_updateAab'+'b']=!(-0x122*0x1+0x3*-0x3f+0x10*0x1e),_0x59dbee['meshInstan'+'ce']['parameters']=_0x57c032[-0x602+0x90b+-0x1*0x309]['parameters'],_0x59dbee['meshInstan'+'ce']['cull']=_0x57c032[0x24*0xa3+0x163c+-0x2d28]['cull'],_0x59dbee['meshInstan'+'ce']['layer']=_0x57c032[0x20a*-0x2+-0x1a0d+0x1e21]['layer'],_0x5a1e0b['dynamic']&&(_0x59dbee['meshInstan'+'ce']['skinInstan'+'ce']=new Vm(this['device'],_0x534d42,this['rootNode'])),_0x59dbee['meshInstan'+'ce']['castShadow']=_0x5a1e0b['meshInstan'+'ce']['castShadow'],_0x59dbee;}['destroyBat'+'ch'](_0x3ab59b){_0x3ab59b['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x3ab59b['batchGroup'+'Id']]['layers']);}}const Km='uSceneColo'+'rMap';class uC extends ds{constructor(){super(...arguments),c(this,'colorRende'+'rTarget',null),c(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x97e679,_0xd236fb,_0x1fca95){if((_0x97e679==null?void(-0x1df4+0x1d8*0xd+0x1*0x5fc):_0x97e679['colorBuffe'+'r']['format'])!==_0x1fca95)return!(-0x10e+-0xcf*0x1a+0x1614);const _0x18b300=(_0xd236fb==null?void(0x1*-0x81b+-0x5*0x22f+0x1306):_0xd236fb['width'])||this['device']['width'],_0x12a569=(_0xd236fb==null?void(0x75e+-0x7d5+0x77):_0xd236fb['height'])||this['device']['height'];return!_0x97e679||_0x18b300!==_0x97e679['width']||_0x12a569!==_0x97e679['height'];}['allocateRe'+'nderTarget'](_0x2984f8,_0x459dd1,_0x39f9fd,_0x4ffb32){const _0x4b7cfe=new he(_0x39f9fd,{'name':Km,'format':_0x4ffb32,'width':_0x459dd1?_0x459dd1['colorBuffe'+'r']['width']:_0x39f9fd['width'],'height':_0x459dd1?_0x459dd1['colorBuffe'+'r']['height']:_0x39f9fd['height'],'mipmaps':!(-0x1f52+0xc7*0x4+0x1c36),'minFilter':nn,'magFilter':st,'addressU':ae,'addressV':ae});return _0x2984f8?(_0x2984f8['destroyFra'+'meBuffers'](),_0x2984f8['_colorBuff'+'er']=_0x4b7cfe,_0x2984f8['_colorBuff'+'ers']=[_0x4b7cfe]):_0x2984f8=new pt({'name':'ColorGrabR'+'T','colorBuffer':_0x4b7cfe,'depth':!(-0x1703+-0x1*-0x5d1+0x1133),'stencil':!(0xf3a*0x2+-0x35*-0x1f+-0x24de),'autoResolve':!(0x199c*0x1+0x1d00+-0x369b)}),_0x2984f8;}['releaseRen'+'derTarget'](_0x45a4a9){_0x45a4a9&&(_0x45a4a9['destroyTex'+'tureBuffer'+'s'](),_0x45a4a9['destroy']());}['frameUpdat'+'e'](){const _0x5a6fd0=this['device'],_0x16c237=this['source'],_0xba1a5f=(_0x16c237==null?void(-0x1453+0x63*0x40+-0x46d):_0x16c237['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x16c237==null?void(-0x33*0x5b+0x15*0x65+0x9d8):_0x16c237['colorBuffe'+'r'],_0xba1a5f)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x16c237,_0x5a6fd0,_0xba1a5f));const _0x493fb2=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x5a6fd0['scope']['resolve'](Km)['setValue'](_0x493fb2);}['execute'](){const _0x326606=this['device'];G['pushGpuMar'+'ker'](_0x326606,'GRAB-COLOR');const _0x46933a=this['source'],_0x3ff813=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x326606['isWebGPU']?(_0x326606['copyRender'+'Target'](_0x46933a,this['colorRende'+'rTarget'],!(-0x1579+0x51*-0x6b+0x1*0x3754),!(0x2693+0x3df+0x5*-0x87d)),_0x326606['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x326606['copyRender'+'Target'](_0x46933a,this['colorRende'+'rTarget'],!(-0x4*0x8d1+0x1a3f*0x1+0x905),!(-0x44d+0x13fa+-0x3eb*0x4)),_0x326606['activeText'+'ure'](_0x326606['maxCombine'+'dTextures']-(0x9*0x2f1+-0x18e0+-0x198)),_0x326606['bindTextur'+'e'](_0x3ff813),_0x326606['gl']['generateMi'+'pmap'](_0x3ff813['impl']['_glTarget'])),G['popGpuMark'+'er'](_0x326606);}}const Zm='uSceneDept'+'hMap';class fC extends ds{constructor(_0x1ace34,_0x5da8b6){super(_0x1ace34),c(this,'depthRende'+'rTarget',null),c(this,'camera',null),this['camera']=_0x5da8b6;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x240145,_0x4ef4de){const _0x39276e=(_0x4ef4de==null?void(0x6*0x127+0x1*0x91d+-0x1007*0x1):_0x4ef4de['width'])||this['device']['width'],_0x40ccb8=(_0x4ef4de==null?void(0x1*-0x16c5+-0x57*0x71+0x3d2c):_0x4ef4de['height'])||this['device']['height'];return!_0x240145||_0x39276e!==_0x240145['width']||_0x40ccb8!==_0x240145['height'];}['allocateRe'+'nderTarget'](_0x53a13d,_0x2cc7aa,_0x3c1265,_0x2191f0,_0x1743d8){const _0x561c67=new he(_0x3c1265,{'name':Zm,'format':_0x2191f0,'width':_0x2cc7aa?_0x2cc7aa['colorBuffe'+'r']['width']:_0x3c1265['width'],'height':_0x2cc7aa?_0x2cc7aa['colorBuffe'+'r']['height']:_0x3c1265['height'],'mipmaps':!(0x1*-0x1ef3+-0x1d02+0x3bf6),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});return _0x53a13d?(_0x53a13d['destroyFra'+'meBuffers'](),_0x1743d8?_0x53a13d['_depthBuff'+'er']=_0x561c67:(_0x53a13d['_colorBuff'+'er']=_0x561c67,_0x53a13d['_colorBuff'+'ers']=[_0x561c67])):_0x53a13d=new pt({'name':'DepthGrabR'+'T','colorBuffer':_0x1743d8?null:_0x561c67,'depthBuffer':_0x1743d8?_0x561c67:null,'depth':!_0x1743d8,'stencil':_0x3c1265['supportsSt'+'encil'],'autoResolve':!(0x1f56+0x3*-0x966+-0x323)}),_0x53a13d;}['releaseRen'+'derTarget'](_0x5cee70){_0x5cee70&&(_0x5cee70['destroyTex'+'tureBuffer'+'s'](),_0x5cee70['destroy']());}['before'](){var _0x529040,_0x269da4;const _0x28c280=this['camera'],_0x4fcf8a=this['device'],_0xeb9805=(_0x28c280==null?void(0x10bd*-0x1+0x2*-0x232+0x1521):_0x28c280['renderTarg'+'et'])??_0x4fcf8a['backBuffer'];let _0x19d910=!(0x1*0x227e+-0x1106+-0x1178),_0xd72600=_0xeb9805['stencil']?vc:Ci;_0x4fcf8a['isWebGPU']&&_0xeb9805['samples']>0x1*-0x1921+0x47*-0x75+0x3995&&(_0xd72600=Ii,_0x19d910=!(0x4*-0x8d+-0xc2f+0xe64));const _0x3a0352=((_0x529040=_0x28c280['renderTarg'+'et'])==null?void(-0x21bd*-0x1+0x1938+-0xd*0x489):_0x529040['depthBuffe'+'r'])??((_0x269da4=_0x28c280['renderTarg'+'et'])==null?void(0x94+-0x6c3+0x1*0x62f):_0x269da4['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x3a0352)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x28c280['renderTarg'+'et'],_0x4fcf8a,_0xd72600,_0x19d910));const _0x38ee52=_0x19d910?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x4fcf8a['scope']['resolve'](Zm)['setValue'](_0x38ee52);}['execute'](){const _0x1955dc=this['device'];if(G['pushGpuMar'+'ker'](_0x1955dc,'GRAB-DEPTH'),_0x1955dc['isWebGL2']&&_0x1955dc['renderTarg'+'et']['samples']>0x19d6+0x651+0x2026*-0x1){const _0x154f1f=_0x1955dc['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x27e61c=this['depthRende'+'rTarget'];_0x1955dc['renderTarg'+'et']=_0x27e61c,_0x1955dc['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x1955dc,_0x154f1f,_0x27e61c['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x1955dc['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x1955dc['copyRender'+'Target'](_0x1955dc['renderTarg'+'et'],this['depthRende'+'rTarget'],!(0x2*0xb4c+0x704+0x1d9b*-0x1),!(-0x10c0*0x1+-0x18d6+0x2996));G['popGpuMark'+'er'](_0x1955dc);}}class A0{constructor(){c(this,'_gammaCorr'+'ection',hh),c(this,'_toneMappi'+'ng',Ap),c(this,'_srgbRende'+'rTarget',!(-0x5c4+0xcfd+-0x738)),c(this,'_ssaoEnabl'+'ed',!(0x1112*-0x1+-0x236e+0x1*0x3481)),c(this,'_fog',Fa),c(this,'_sceneDept'+'hMapLinear',!(0xaec+0x15+0xb0*-0x10)),c(this,'_hash'),c(this,'_defines',new Map()),c(this,'_definesDi'+'rty',!(0x39*-0xa6+0x1*-0x77b+-0x1f*-0x16f));}get['hash'](){if(this['_hash']===void(0x2322*0x1+-0x112f+-0x11f3)){const _0x3380d4=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hn(_0x3380d4);}return this['_hash'];}get['defines'](){const _0x334105=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(-0x119a+-0x2*-0x55d+0x6e1),_0x334105['clear'](),this['_sceneDept'+'hMapLinear']&&_0x334105['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(0x85d*0x2+0xd80+0xf1d*-0x2)),_0x334105['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x334105['set']('TONEMAP',p0[this['_toneMappi'+'ng']]),_0x334105['set']('GAMMA',Yb[this['shaderOutp'+'utGamma']])),_0x334105;}['markDirty'](){this['_hash']=void(0x24d9+0x16ec+-0x3bc5),this['_definesDi'+'rty']=!(0x185e+-0x12b6+-0x5a8);}set['fog'](_0x4950fe){this['_fog']!==_0x4950fe&&(this['_fog']=_0x4950fe,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x328cd7){this['_ssaoEnabl'+'ed']!==_0x328cd7&&(this['_ssaoEnabl'+'ed']=_0x328cd7,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x2e12b4){this['_gammaCorr'+'ectionAssi'+'gned']=!(-0xda2+0x1b23+0xd81*-0x1),this['_gammaCorr'+'ection']!==_0x2e12b4&&(this['_gammaCorr'+'ection']=_0x2e12b4,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0xa7b047){this['_toneMappi'+'ng']!==_0xa7b047&&(this['_toneMappi'+'ng']=_0xa7b047,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x537574){this['_srgbRende'+'rTarget']!==_0x537574&&(this['_srgbRende'+'rTarget']=_0x537574,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x3ed571){this['_sceneDept'+'hMapLinear']!==_0x3ed571&&(this['_sceneDept'+'hMapLinear']=_0x3ed571,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===hh&&!this['_srgbRende'+'rTarget']?hh:sl;}}const En=new T(),Wa=new T(),Qm=new T(),Jm=new q(),pC=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()];class ol{constructor(){c(this,'shaderPass'+'Info',null),c(this,'renderPass'+'ColorGrab',null),c(this,'renderPass'+'DepthGrab',null),c(this,'fogParams',null),c(this,'shaderPara'+'ms',new A0()),c(this,'renderPass'+'es',[]),c(this,'jitter',0x3*0xa0a+-0x5c*0x5c+0x2f2*0x1),(this['_aspectRat'+'io']=(0x198f+-0x1*-0x1c91+-0x3610)/(0x112b+0x24f8+-0x115*0x32),this['_aspectRat'+'ioMode']=Ip,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new Y(-0x7ae*0x4+-0xf6b*0x1+-0x1*-0x2e23+0.75,-0x4*0x874+-0x1860+0x746*0x8+0.75,0x4*-0x7ad+-0xd9c+0x2c50+0.75,0x6d9*0x4+0x2597+-0x1*0x40fa),this['_clearColo'+'rBuffer']=!(-0x17*0x17b+-0x1a*0x25+0x25cf),this['_clearDept'+'h']=-0x642+0x1*-0x37a+0x115*0x9,this['_clearDept'+'hBuffer']=!(0x1959+-0x25*0x1b+-0xf*0x16e),this['_clearSten'+'cil']=-0xc9b+0x41+0xc5a,this['_clearSten'+'cilBuffer']=!(-0x219c+0x3*-0x4d5+0x1*0x301b),this['_cullFaces']=!(-0x2034+0x10e8+-0x2*-0x7a6),this['_farClip']=0x16ba+-0x4*-0x224+-0xa*0x2bd,this['_flipFaces']=!(-0x110e+0xf*-0x1fb+-0x49*-0xa4),this['_fov']=0x13*0x46+0x99*0x3b+-0x2848,this['_frustumCu'+'lling']=!(0x26cc*0x1+-0x8*-0x14f+-0x3144),this['_horizonta'+'lFov']=!(0x20e9+-0x14a0+-0xc48),this['_layers']=[Fi,Xt,vp,tl,bp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=0x7c1+-0x1*0x90f+-0x2*-0xa7+0.1,this['_node']=null,this['_orthoHeig'+'ht']=-0xcb9+-0x125*0x7+0x14c6,this['_projectio'+'n']=Gs,this['_rect']=new Q(0x1cc7*-0x1+0x1c6+0x1b01,-0x14d9*0x1+-0x8f6+0x1dcf,0x1*0xa0b+-0x2b5*0x3+-0x1eb,0x96f+-0x3*-0x2bf+0x11ab*-0x1),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new Q(-0x1274+0xabc+-0x3dc*-0x2,0x943+0xb3a+-0x147d,-0x1*-0x7a+-0x1149+0x434*0x4,-0x141e+0x1a*-0xcd+0x28f1),this['_scissorRe'+'ctClear']=!(0x38c*-0x7+0x54b+0x138a),this['_aperture']=0x18e6+0x10a2+-0x2978,this['_shutter']=(-0x6a1*0x3+-0x19d9*0x1+0x515*0x9)/(0x788*-0x1+0x13a*0x17+-0x1*0x10c6),this['_sensitivi'+'ty']=0x30b+-0x1e35*0x1+0x1f12,this['_projMat']=new q(),this['_projMatDi'+'rty']=!(-0x1326+-0x28*-0xf2+0x12aa*-0x1),this['_projMatSk'+'ybox']=new q(),this['_viewMat']=new q(),this['_viewMatDi'+'rty']=!(-0x25d7*0x1+0x2b6*-0x5+0x3365),this['_viewProjM'+'at']=new q(),this['_viewProjM'+'atDirty']=!(-0x20f0+-0x1c6f+0x3d5f),this['_shaderMat'+'ricesVersi'+'on']=0x429+0x26*-0x53+-0x1*-0x829,this['_viewProjI'+'nverse']=new q(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new q(),this['_jitters']=[0x24d7+-0x15b2+-0x1*0xf25,0x1297+-0x765*0x5+0x1262,-0x1925+-0x1e0d+0x311*0x12,-0xa75*0x3+-0x945+0x28a4],this['frustum']=new wS(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x48f790,_0x37d779;(_0x48f790=this['renderPass'+'ColorGrab'])==null||_0x48f790['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x37d779=this['renderPass'+'DepthGrab'])==null||_0x37d779['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=0xecf+-0xd*0xed+-0x2c6;}['_storeShad'+'erMatrices'](_0x5deb3c,_0x29ee71,_0x5565b9,_0x57126e){this['_shaderMat'+'ricesVersi'+'on']!==_0x57126e&&(this['_shaderMat'+'ricesVersi'+'on']=_0x57126e,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x5deb3c),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new q()),this['_viewProjC'+'urrent']['copy'](_0x5deb3c),this['_viewProjI'+'nverse']['invert'](_0x5deb3c),this['_jitters'][0x173*-0x7+0x25*0x76+-0x6e7]=this['_jitters'][0xdda+-0x123e+0x1*0x464],this['_jitters'][-0x5d0+-0x1b18+0x20eb]=this['_jitters'][-0x1c2a+-0x13a+0x5e1*0x5],this['_jitters'][-0x7*-0x3dd+-0x875+-0x1a*0xb7]=_0x29ee71,this['_jitters'][-0x3f*-0x22+0x1ed9+-0x2736]=_0x5565b9);}get['fullSizeCl'+'earRect'](){const _0xa682c5=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0xa682c5['x']===0xad*-0xb+-0x119b+0x190a&&_0xa682c5['y']===0x1*-0x1f24+-0x5da+0x24fe&&_0xa682c5['z']===0x6cd*-0x1+0x1*-0x1822+0x1ef0&&_0xa682c5['w']===-0x21+-0x1525*-0x1+-0x1503;}set['aspectRati'+'o'](_0x243330){this['_aspectRat'+'io']!==_0x243330&&(this['_aspectRat'+'io']=_0x243330,this['_projMatDi'+'rty']=!(-0x2*0x598+-0x1e03+0x2933));}get['aspectRati'+'o'](){var _0x1fa5f1;return(_0x1fa5f1=this['xr'])!=null&&_0x1fa5f1['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x4eb23f){this['_aspectRat'+'ioMode']!==_0x4eb23f&&(this['_aspectRat'+'ioMode']=_0x4eb23f,this['_projMatDi'+'rty']=!(-0x34e+-0x5*0x1ba+0xbf0));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x31eab7){this['_calculate'+'Projection']=_0x31eab7,this['_projMatDi'+'rty']=!(-0x14ae+0xfd+0x13b1);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x41350d){this['_calculate'+'Transform']=_0x41350d;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x213b05){this['_clearColo'+'r']['copy'](_0x213b05);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x56a84e){this['_clearColo'+'rBuffer']=_0x56a84e;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x5974d9){this['_clearDept'+'h']=_0x5974d9;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x173d12){this['_clearDept'+'hBuffer']=_0x173d12;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x16af31){this['_clearSten'+'cil']=_0x16af31;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x2f3848){this['_clearSten'+'cilBuffer']=_0x2f3848;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x352d84){this['_cullFaces']=_0x352d84;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x4cb042){this['_farClip']!==_0x4cb042&&(this['_farClip']=_0x4cb042,this['_projMatDi'+'rty']=!(0x8b7+-0x17ca+0xf13*0x1));}get['farClip'](){var _0x31a3f2;return(_0x31a3f2=this['xr'])!=null&&_0x31a3f2['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x1ecaea){this['_flipFaces']=_0x1ecaea;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x1d3921){this['_fov']!==_0x1d3921&&(this['_fov']=_0x1d3921,this['_projMatDi'+'rty']=!(0x5*0x166+-0x1ed*-0x13+0x2b95*-0x1));}get['fov'](){var _0x562944;return(_0x562944=this['xr'])!=null&&_0x562944['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x27a5da){this['_frustumCu'+'lling']=_0x27a5da;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x224834){this['_horizonta'+'lFov']!==_0x224834&&(this['_horizonta'+'lFov']=_0x224834,this['_projMatDi'+'rty']=!(0x21dd+0xce*-0x24+-0xb3*0x7));}get['horizontal'+'Fov'](){var _0x291e90;return(_0x291e90=this['xr'])!=null&&_0x291e90['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x482b49){this['_layers']=_0x482b49['slice'](0x5d8+0x1*0x215f+0x2737*-0x1),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0xe32ba3){this['_nearClip']!==_0xe32ba3&&(this['_nearClip']=_0xe32ba3,this['_projMatDi'+'rty']=!(-0x1*-0x35f+0x4a8+0x2ad*-0x3));}get['nearClip'](){var _0x14244f;return(_0x14244f=this['xr'])!=null&&_0x14244f['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x6a86d3){this['_node']=_0x6a86d3;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x32e44e){this['_orthoHeig'+'ht']!==_0x32e44e&&(this['_orthoHeig'+'ht']=_0x32e44e,this['_projMatDi'+'rty']=!(0x177+-0x5*0x17f+0x8c*0xb));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x101a14){this['_projectio'+'n']!==_0x101a14&&(this['_projectio'+'n']=_0x101a14,this['_projMatDi'+'rty']=!(-0x226b+0x1*0x10ae+0x11bd));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x265f9f){this['_rect']['copy'](_0x265f9f);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x194f6b){this['_renderTar'+'get']=_0x194f6b;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x4014bf){this['_scissorRe'+'ct']['copy'](_0x4014bf);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x26bb32=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x26bb32)['invert'](),this['_viewMatDi'+'rty']=!(0x21*-0x7+0x266+-0x1*0x17e);}return this['_viewMat'];}set['aperture'](_0x36dfdc){this['_aperture']=_0x36dfdc;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x4e9412){this['_sensitivi'+'ty']=_0x4e9412;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x2f6bc9){this['_shutter']=_0x2f6bc9;}get['shutter'](){return this['_shutter'];}set['xr'](_0xbf45e){this['_xr']!==_0xbf45e&&(this['_xr']=_0xbf45e,this['_projMatDi'+'rty']=!(0x1*0x4f9+-0x2*-0x247+-0x10f*0x9));}get['xr'](){return this['_xr'];}['clone'](){return new ol()['copy'](this);}['copy'](_0x248c6d){return this['_aspectRat'+'io']=_0x248c6d['_aspectRat'+'io'],this['_farClip']=_0x248c6d['_farClip'],this['_fov']=_0x248c6d['_fov'],this['_horizonta'+'lFov']=_0x248c6d['_horizonta'+'lFov'],this['_nearClip']=_0x248c6d['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x248c6d['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x248c6d['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x248c6d['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x248c6d['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x248c6d['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x248c6d['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x248c6d['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x248c6d['calculateT'+'ransform'],this['clearColor']=_0x248c6d['clearColor'],this['clearColor'+'Buffer']=_0x248c6d['clearColor'+'Buffer'],this['clearDepth']=_0x248c6d['clearDepth'],this['clearDepth'+'Buffer']=_0x248c6d['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x248c6d['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x248c6d['clearStenc'+'ilBuffer'],this['cullFaces']=_0x248c6d['cullFaces'],this['flipFaces']=_0x248c6d['flipFaces'],this['frustumCul'+'ling']=_0x248c6d['frustumCul'+'ling'],this['layers']=_0x248c6d['layers'],this['orthoHeigh'+'t']=_0x248c6d['orthoHeigh'+'t'],this['projection']=_0x248c6d['projection'],this['rect']=_0x248c6d['rect'],this['renderTarg'+'et']=_0x248c6d['renderTarg'+'et'],this['scissorRec'+'t']=_0x248c6d['scissorRec'+'t'],this['aperture']=_0x248c6d['aperture'],this['shutter']=_0x248c6d['shutter'],this['sensitivit'+'y']=_0x248c6d['sensitivit'+'y'],this['shaderPass'+'Info']=_0x248c6d['shaderPass'+'Info'],this['jitter']=_0x248c6d['jitter'],this['_projMatDi'+'rty']=!(-0x2065+0x1cc6+0x39f),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x89789d,_0x4b246a){var _0x5df4e4;_0x4b246a?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new uC(_0x89789d)):((_0x5df4e4=this['renderPass'+'ColorGrab'])==null||_0x5df4e4['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x38b84c,_0x428967,_0x4b4ed0){var _0x42acae;_0x4b4ed0?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new fC(_0x38b84c,this)):((_0x42acae=this['renderPass'+'DepthGrab'])==null||_0x42acae['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(0xdf*0x9+0x1ac6+-0x2*0x114e));}['worldToScr'+'een'](_0x58b6a9,_0x2a3f51,_0x946957,_0x3fe122=new T()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x58b6a9,_0x3fe122);const _0x230503=this['_viewProjM'+'at']['data'],_0x1d865e=_0x58b6a9['x']*_0x230503[0x1*0x254f+-0x78*0x35+-0xc74]+_0x58b6a9['y']*_0x230503[0x8*-0xb0+-0x11*-0xe5+-0x9ae]+_0x58b6a9['z']*_0x230503[-0x1775+0x209b+-0x91b*0x1]+(0x1*-0x153e+-0x2f3*0x5+-0x1*-0x23fe)*_0x230503[-0x25f0+-0x1e01+0x4400];return _0x3fe122['x']=(_0x3fe122['x']/_0x1d865e+(0x801+0xb*-0x35e+0x213*0xe))*(0x23ed+0x1*-0x1afc+-0x8f1+0.5)*_0x2a3f51,_0x3fe122['y']=(-0x1ecd+-0x23a7*-0x1+-0x4d9*0x1-_0x3fe122['y']/_0x1d865e)*(-0x9f5*0x1+-0x249e*0x1+0x2e93+0.5)*_0x946957,_0x3fe122;}['screenToWo'+'rld'](_0x1524d2,_0x337e6a,_0xd3dc24,_0x441559,_0x7f502,_0xca3223=new T()){const _0xbe18e0=this['farClip']-this['nearClip'];if(En['set'](_0x1524d2/_0x441559,(_0x7f502-_0x337e6a)/_0x7f502,_0xd3dc24/_0xbe18e0),En['mulScalar'](0x1f8d+-0x11*0x65+-0x18d6),En['sub'](T['ONE']),this['_projectio'+'n']===Gs){q['_getPerspe'+'ctiveHalfS'+'ize'](Wa,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),Wa['x']*=En['x'],Wa['y']*=En['y'];const _0x157aef=this['_node']['getWorldTr'+'ansform']();Wa['z']=-this['nearClip'],_0x157aef['transformP'+'oint'](Wa,Qm);const _0x304fd8=this['_node']['getPositio'+'n']();_0xca3223['sub2'](Qm,_0x304fd8),_0xca3223['normalize'](),_0xca3223['mulScalar'](_0xd3dc24),_0xca3223['add'](_0x304fd8);}else this['_updateVie'+'wProjMat'](),Jm['copy'](this['_viewProjM'+'at'])['invert'](),Jm['transformP'+'oint'](En,_0xca3223);return _0xca3223;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===Gs)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x46aa46=this['_orthoHeig'+'ht'],_0x30e843=_0x46aa46*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x30e843,_0x30e843,-_0x46aa46,_0x46aa46,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(0x1cc1+0x1c*-0x83+-0xe6c);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x1b5194=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(0x53e+-0x11a6+0xccc)/this['_sensitivi'+'ty']);return(0xf83+-0x1*-0x58f+-0x1511*0x1)/(Math['pow'](0x133*0x3+0xae8+-0xe7f,_0x1b5194)*(-0x246f*0x1+-0x19*-0x18d+-0x255*0x1+0.19999999999999996));}['getScreenS'+'ize'](_0x384141){if(this['_projectio'+'n']===Gs){const _0x31002d=this['_node']['getPositio'+'n']()['distance'](_0x384141['center']);if(_0x31002d<_0x384141['radius'])return 0x1b06+-0x18e*-0x16+-0x3d39;const _0x208f9b=Math['asin'](_0x384141['radius']/_0x31002d),_0x30f231=Math['tan'](_0x208f9b),_0x4f2a83=Math['tan'](this['fov']/(0x731+0x1c3b+-0x236a)*N['DEG_TO_RAD']);return Math['min'](_0x30f231/_0x4f2a83,0x20e4+-0x1af6+-0x5ed);}return N['clamp'](_0x384141['radius']/this['_orthoHeig'+'ht'],0xde+-0x1917*0x1+0x9f*0x27,-0x1*-0x65+0x5e9+-0x64d);}['getFrustum'+'Corners'](_0x5d0ea6=this['nearClip'],_0x8a60fa=this['farClip']){const _0xe989da=this['fov']*Math['PI']/(0x196*0xd+-0x51+-0xad*0x1d);let _0x549ae6,_0x50967c;this['projection']===Gs?this['horizontal'+'Fov']?(_0x549ae6=_0x5d0ea6*Math['tan'](_0xe989da/(-0x31*0x55+-0x1556+-0x259d*-0x1)),_0x50967c=_0x549ae6/this['aspectRati'+'o']):(_0x50967c=_0x5d0ea6*Math['tan'](_0xe989da/(0x3be+-0x1a9+-0xb1*0x3)),_0x549ae6=_0x50967c*this['aspectRati'+'o']):(_0x50967c=this['_orthoHeig'+'ht'],_0x549ae6=_0x50967c*this['aspectRati'+'o']);const _0x483bc7=pC;return _0x483bc7[-0xc4a+-0x1*-0x5bc+0x68e]['x']=_0x549ae6,_0x483bc7[-0xda4+0x1*-0x1f47+-0x3*-0xef9]['y']=-_0x50967c,_0x483bc7[-0xf4b+-0x20f4+0x303f]['z']=-_0x5d0ea6,_0x483bc7[0xb*0x8c+-0x108b+-0x4*-0x2a2]['x']=_0x549ae6,_0x483bc7[0x2b*-0x19+-0x1*0x1b31+-0x1a7*-0x13]['y']=_0x50967c,_0x483bc7[-0x478+-0xff8+-0x1*-0x1471]['z']=-_0x5d0ea6,_0x483bc7[0xa35+-0x3*-0x84b+-0x14*0x1c1]['x']=-_0x549ae6,_0x483bc7[0x2*0xdc2+0xf64+-0x26*0x121]['y']=_0x50967c,_0x483bc7[-0x1eb8+-0x11b*-0xd+0x105b]['z']=-_0x5d0ea6,_0x483bc7[0x1e54+0x1982*-0x1+0x4cf*-0x1]['x']=-_0x549ae6,_0x483bc7[-0x1228+-0x5*-0x48+0x10c3]['y']=-_0x50967c,_0x483bc7[-0x1*0x925+-0x1*-0xba8+-0xa0*0x4]['z']=-_0x5d0ea6,this['_projectio'+'n']===Gs&&(this['horizontal'+'Fov']?(_0x549ae6=_0x8a60fa*Math['tan'](_0xe989da/(-0x1f54+0x11e5+0xd71)),_0x50967c=_0x549ae6/this['aspectRati'+'o']):(_0x50967c=_0x8a60fa*Math['tan'](_0xe989da/(-0xe*0x23e+-0x20f7*-0x1+-0x191)),_0x549ae6=_0x50967c*this['aspectRati'+'o'])),_0x483bc7[0x161*-0xc+0x10f2+-0x62]['x']=_0x549ae6,_0x483bc7[0x6b5*0x3+-0x17*0x139+0x804]['y']=-_0x50967c,_0x483bc7[0x1*-0x31d+0x1089+0x11e*-0xc]['z']=-_0x8a60fa,_0x483bc7[-0x11*-0x1eb+-0x1e59+-0x3*0xbf]['x']=_0x549ae6,_0x483bc7[0x7cb+0x1c*0x8f+-0x176a]['y']=_0x50967c,_0x483bc7[-0xd9a+0x449*0x1+-0x5*-0x1de]['z']=-_0x8a60fa,_0x483bc7[-0x1622*-0x1+-0x2*-0xae9+-0x2bee]['x']=-_0x549ae6,_0x483bc7[-0x15b+0xf38+0xdd7*-0x1]['y']=_0x50967c,_0x483bc7[0x1107+-0x25e7+-0x42e*-0x5]['z']=-_0x8a60fa,_0x483bc7[0x830*-0x2+0x2de*-0x7+0x2479]['x']=-_0x549ae6,_0x483bc7[0x173e+-0x78*-0x35+-0x300f]['y']=-_0x50967c,_0x483bc7[0x413*0x3+-0x2082+0x190*0xd]['z']=-_0x8a60fa,_0x483bc7;}['setXrPrope'+'rties'](_0x3d570d){Object['assign'](this['_xrPropert'+'ies'],_0x3d570d),this['_projMatDi'+'rty']=!(-0x1fa6+-0x742*0x4+-0x35f*-0x12);}}const e_=new q(),t_=new q(),s_=new q(),Qi=class Qi{static['create'](_0x39af6f,_0x46a08c,_0x5ad2ea){const _0x2d8e2a=new ol();switch(_0x2d8e2a['node']=new De(_0x39af6f),_0x2d8e2a['aspectRati'+'o']=0x2317+-0x126a*0x2+0x2*0xdf,_0x2d8e2a['aspectRati'+'oMode']=Bu,_0x2d8e2a['_scissorRe'+'ctClear']=!(0x765*0x1+-0x1e3f+0x16da),_0x46a08c){case Pe:_0x2d8e2a['node']['setRotatio'+'n'](Qi['pointLight'+'Rotations'][_0x5ad2ea]),_0x2d8e2a['fov']=0x1c11+-0x1*0xb4c+-0x106b,_0x2d8e2a['projection']=Gs;break;case Re:_0x2d8e2a['projection']=Gs;break;case oe:_0x2d8e2a['projection']=ua;break;}return _0x2d8e2a;}static['evalSpotCo'+'okieMatrix'](_0x555193){let _0x27daa1=Qi['_spotCooki'+'eCamera'];_0x27daa1||(_0x27daa1=Qi['create']('SpotCookie'+'Camera',Re),Qi['_spotCooki'+'eCamera']=_0x27daa1),_0x27daa1['fov']=_0x555193['_outerCone'+'Angle']*(-0xbf7+0x13dc+0x7e3*-0x1);const _0x5bc410=_0x27daa1['_node'];_0x5bc410['setPositio'+'n'](_0x555193['_node']['getPositio'+'n']()),_0x5bc410['setRotatio'+'n'](_0x555193['_node']['getRotatio'+'n']()),_0x5bc410['rotateLoca'+'l'](-(-0x16bd*0x1+0x26*0xbe+-0x51d),0x22fd+-0x10fb+-0x1*0x1202,0x1bb0+-0xca1*0x1+-0xf0f),e_['setTRS'](_0x5bc410['getPositio'+'n'](),_0x5bc410['getRotatio'+'n'](),T['ONE'])['invert'](),t_['mul2'](_0x27daa1['projection'+'Matrix'],e_);const _0x136899=_0x555193['cookieMatr'+'ix'],_0x2077ba=_0x555193['atlasViewp'+'ort'];return s_['setViewpor'+'t'](_0x2077ba['x'],_0x2077ba['y'],_0x2077ba['z'],_0x2077ba['w']),_0x136899['mul2'](s_,t_),_0x136899;}};c(Qi,'pointLight'+'Rotations',[new se()['setFromEul'+'erAngles'](-0x343+0x4a1*0x8+-0x21c5,-0x4a*0x1d+-0x5*-0x3b+0x795,-0x218b+-0x2170+0x43af),new se()['setFromEul'+'erAngles'](-0x10d5*0x1+0x2127+-0x1*0x1052,-(0xc3b+-0x239f+0x7ea*0x3),0x2*0x1124+0x1b00+-0x3c94),new se()['setFromEul'+'erAngles'](-0x2ea*0x1+0x3*0x956+-0xc5f*0x2,0x222*0x9+-0xcc5+-0x66d,-0x4d2+0x786+0x15a*-0x2),new se()['setFromEul'+'erAngles'](-(-0x1*-0xa89+-0x1d*0x11a+0x15c3*0x1),0x239*0x8+0x194d+0x29*-0x10d,0x4f1+-0xa50+-0x55f*-0x1),new se()['setFromEul'+'erAngles'](0xa0b+-0x15e+-0x8ad,-0x1540+0x6da*0x1+0xf1a*0x1,0x1e1a+0x2db*-0xd+0x7b9),new se()['setFromEul'+'erAngles'](0x80f*-0x1+-0x2051+0x2860,0x1abd+-0x1331+-0x15*0x5c,0x98+-0x1c32+-0x2*-0xe27)]),c(Qi,'_spotCooki'+'eCamera',null);let Ma=Qi;const i_=0x916*-0x2+-0x23*-0xa3+0x15f*-0x3+0.000001,Zt=new T(),xr=new Float32Array(0x61*-0x38+0x19fb+-0x1*0x4bd),mC=new T(-(0xf1*-0x1+-0x1556+0x1*0x1647+0.5),0x10f1*0x1+-0x28*-0x3b+-0x1a29,0x86*0x5+0x240f+0x26ad*-0x1),_C=new T(0x2065*-0x1+0x49*0x6+0x5*0x623,0x1c33+0xe2c+0x1*-0x2a5f,-0xffb*-0x1+0x86a+-0x1865+0.5),Sr={'FLAGS':0x0,'COLOR_A':0x1,'COLOR_B':0x2,'SPOT_ANGLES':0x3,'SHADOW_BIAS':0x4,'COOKIE_A':0x5,'COOKIE_B':0x6,'COUNT':0x7},lt={'POSITION_RANGE':0x0,'SPOT_DIRECTION':0x1,'PROJ_MAT_0':0x2,'ATLAS_VIEWPORT':0x2,'PROJ_MAT_1':0x3,'PROJ_MAT_2':0x4,'PROJ_MAT_3':0x5,'AREA_DATA_WIDTH':0x6,'AREA_DATA_HEIGHT':0x7,'COUNT':0x8};let vd;class E0{constructor(_0x2b11bd){c(this,'areaLights'+'Enabled',!(0x1*-0xb4f+0x160c+-0xabc)),(this['device']=_0x2b11bd,this['cookiesEna'+'bled']=!(-0x1*-0x977+-0x1*0x1a9b+0x1125),this['shadowsEna'+'bled']=!(0x1421+-0x15*-0x158+-0x3058),this['areaLights'+'Enabled']=!(-0x8e8*0x2+0x116*0xb+-0xa7*-0x9),this['maxLights']=-0x1c63+0x1*0x2351+-0x5ef);const _0x30da03=Sr['COUNT'];this['lights8']=new Uint8ClampedArray((0x21d0+-0x2a1*-0x4+-0x2c50)*_0x30da03*this['maxLights']),this['lightsText'+'ure8']=this['createText'+'ure'](this['device'],_0x30da03,this['maxLights'],Se,'LightsText'+'ure8'),this['_lightsTex'+'ture8Id']=this['device']['scope']['resolve']('lightsText'+'ure8');const _0x54bf72=lt['COUNT'];this['lightsFloa'+'t']=new Float32Array((-0x1590+0x1c67+-0x1*0x6d3)*_0x54bf72*this['maxLights']),this['lightsText'+'ureFloat']=this['createText'+'ure'](this['device'],_0x54bf72,this['maxLights'],Ke,'LightsText'+'ureFloat'),this['_lightsTex'+'tureFloatI'+'d']=this['device']['scope']['resolve']('lightsText'+'ureFloat'),this['invMaxColo'+'rValue']=0x183c+0xdb9*-0x1+-0xcf*0xd,this['invMaxAtte'+'nuation']=-0x33d*-0x7+-0x6f*0x1d+-0xa18,this['boundsMin']=new T(),this['boundsDelt'+'a']=new T();}static['getShaderD'+'efines'](){const _0x39c3d3=(_0x2d05fe,_0xdd7a2d)=>Object['keys'](_0x2d05fe)['map'](_0x14b3d5=>'#define\x20'+_0xdd7a2d+_0x14b3d5+'\x20'+_0x2d05fe[_0x14b3d5])['join']('\x0a');return vd||(vd='\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20'+_0x39c3d3(Sr,'CLUSTER_TE'+'XTURE_8_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x39c3d3(lt,'CLUSTER_TE'+'XTURE_F_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')),vd;}['destroy'](){var _0x1c82f6,_0x129a6d;(_0x1c82f6=this['lightsText'+'ure8'])==null||_0x1c82f6['destroy'](),this['lightsText'+'ure8']=null,(_0x129a6d=this['lightsText'+'ureFloat'])==null||_0x129a6d['destroy'](),this['lightsText'+'ureFloat']=null;}['createText'+'ure'](_0x1e495f,_0x4772c5,_0x35e28b,_0x501210,_0x14d19d){return new he(_0x1e495f,{'name':_0x14d19d,'width':_0x4772c5,'height':_0x35e28b,'mipmaps':!(0x5c9+-0x76*-0x52+0x4*-0xae5),'format':_0x501210,'addressU':ae,'addressV':ae,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1});}['setCompres'+'sionRanges'](_0x14c8e7,_0x491c84){this['invMaxColo'+'rValue']=(0x579*0x7+-0xa*-0x14e+-0x335a)/_0x491c84,this['invMaxAtte'+'nuation']=(0xb11+0x1*-0x3d7+-0x739)/_0x14c8e7;}['setBounds'](_0x372ac3,_0x5dab59){this['boundsMin']['copy'](_0x372ac3),this['boundsDelt'+'a']['copy'](_0x5dab59);}['uploadText'+'ures'](){this['lightsText'+'ureFloat']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ureFloat']['unlock'](),this['lightsText'+'ure8']['lock']()['set'](this['lights8']),this['lightsText'+'ure8']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'ture8Id']['setValue'](this['lightsText'+'ure8']),this['_lightsTex'+'tureFloatI'+'d']['setValue'](this['lightsText'+'ureFloat']);}['getSpotDir'+'ection'](_0x192143,_0x13e76a){_0x13e76a['_node']['getWorldTr'+'ansform']()['getY'](_0x192143)['mulScalar'](-(-0x2579+0x4*0x98e+0x2*-0x5f)),_0x192143['normalize']();}['getLightAr'+'eaSizes'](_0x57f317){const _0x56f533=_0x57f317['_node']['getWorldTr'+'ansform']();return _0x56f533['transformV'+'ector'](mC,Zt),xr[0x4a3+-0x1b27+0x83*0x2c]=Zt['x'],xr[0x1*0x2024+-0x1*-0x154c+-0x356f]=Zt['y'],xr[-0x1b71+-0x1344+0x2eb7]=Zt['z'],_0x56f533['transformV'+'ector'](_C,Zt),xr[0x1*-0x1bdf+-0x1*-0x1a6f+0x173]=Zt['x'],xr[-0x24e3+0xd26+-0x17c1*-0x1]=Zt['y'],xr[0x2*-0x2fb+0x23a8+0x6b*-0x47]=Zt['z'],xr;}['addLightDa'+'taFlags'](_0x30b465,_0x44a938,_0x553d5c,_0x2d03f0,_0x1fdac6,_0x520d80){_0x30b465[_0x44a938+(0x1*-0xc7b+0xd1c+0x17*-0x7)]=_0x2d03f0?-0x118d*-0x1+-0x7a9+0x8e5*-0x1:0x986+-0x1e0*0xe+0x10ba,_0x30b465[_0x44a938+(0x2011+0x22de+-0xd*0x526)]=this['areaLights'+'Enabled']?_0x553d5c['_shape']*(-0x1eaf*-0x1+0x189d*-0x1+0xa*-0x95):0xd10+0x2d*-0x11+-0xa13,_0x30b465[_0x44a938+(-0x4ab+-0x125a+0x1707)]=_0x553d5c['_falloffMo'+'de']*(-0x7d5+0x1bdd+-0x1309),_0x30b465[_0x44a938+(-0xae5*0x1+0x749*0x4+-0x30a*0x6)]=_0x1fdac6?_0x520d80*(0x18d1+0x206d+-0x383f):-0xb51+-0x1673+-0x21c4*-0x1;}['addLightDa'+'taColor'](_0x431194,_0x59dd68,_0x1c5008,_0x50123d){const _0x3ee60f=this['invMaxColo'+'rValue'],_0x5d3443=_0x1c5008['_colorLine'+'ar'];Wt['float2Byte'+'s'](_0x5d3443[-0x44*-0x11+-0xdb1+0x92d]*_0x3ee60f,_0x431194,_0x59dd68+(0x106*0x6+0x18c7*0x1+-0x1eeb*0x1),0x114d+0x2a3*-0xd+0x4*0x43f),Wt['float2Byte'+'s'](_0x5d3443[-0xbe*-0x1+0x1*0x471+-0x52e]*_0x3ee60f,_0x431194,_0x59dd68+(-0x95c+0x6b*-0x25+0x27*0xa3),0x1*-0x1cce+0xd01+-0x1*-0xfcf),Wt['float2Byte'+'s'](_0x5d3443[-0xf28+0x20e1+0x5*-0x38b]*_0x3ee60f,_0x431194,_0x59dd68+(-0x159a+0x18c4+0x1f*-0x1a),0x7*0x13b+0xd87+-0xb11*0x2),_0x431194[_0x59dd68+(0x26b0*0x1+-0x829*0x1+-0x1e81)]=_0x50123d?0x3fe+0x1*0x26ef+-0x29ee:0x1d45*-0x1+-0xa46+-0x35*-0xbf;const _0x1e2f55=!!(_0x1c5008['mask']&hs),_0x3759c0=!!(_0x1c5008['mask']&cr);_0x431194[_0x59dd68+(0x5*0x526+0x1*0x842+0x27*-0xdf)]=_0x1e2f55&&_0x3759c0?0x1a15+-0x1*-0xd9+-0x1a6f:_0x3759c0?0x21b*0x7+0x25bf+-0x1*0x337d:0xec*-0x17+0xa3*-0x2+0x167a;}['addLightDa'+'taSpotAngl'+'es'](_0x1cfddc,_0x546d5a,_0x5b022f){Wt['float2Byte'+'s'](_0x5b022f['_innerCone'+'AngleCos']*(0x84d+-0xd*0x21d+-0x4*-0x4cb+0.5-i_)+(-0x18b2+-0x5a*-0x1d+-0x10*-0xe8+0.5),_0x1cfddc,_0x546d5a+(0x5bc+0x1888+-0x4*0x791),0x3*-0x3+-0x2*0xc83+0x1911),Wt['float2Byte'+'s'](_0x5b022f['_outerCone'+'AngleCos']*(-0x5d*0x3e+0x1ade+0x22c*-0x2+0.5-i_)+(-0x4fd*0x7+-0x1678+0x3963*0x1+0.5),_0x1cfddc,_0x546d5a+(-0x48*0x44+-0xd3*0x1+0x13f5),-0x217a+0x11*-0x22d+0x4679);}['addLightDa'+'taShadowBi'+'as'](_0x565996,_0x272e37,_0x5b19ca){const _0x105a45=_0x5b19ca['getRenderD'+'ata'](null,0x68f+-0x1e3d+-0x7*-0x362),_0x38ac6e=_0x5b19ca['_getUnifor'+'mBiasValue'+'s'](_0x105a45);Wt['float2Byte'+'sRange'](_0x38ac6e['bias'],_0x565996,_0x272e37,-(-0x33*0x16+-0x1d91*0x1+0x21f4),0x7c4+-0x1*-0x52f+-0xcdf,-0x35*-0x57+-0x2474+0x1273),Wt['float2Byte'+'s'](_0x38ac6e['normalBias'],_0x565996,_0x272e37+(0x95b*-0x1+-0xc39+0x1596),-0xb96+-0x1327*0x2+0x31e6*0x1);}['addLightDa'+'taCookies'](_0x1b3c2b,_0x2137aa,_0x2ab14d){const _0x54d492=_0x2ab14d['_cookieCha'+'nnel']==='rgb';if(_0x1b3c2b[_0x2137aa+(-0x367+0x20c2+-0x1d5b)]=Math['floor'](_0x2ab14d['cookieInte'+'nsity']*(-0x953+0xf32+-0x4e0)),_0x1b3c2b[_0x2137aa+(0x201f+0x841+-0x285f)]=_0x54d492?-0x12f1+-0x262d+0x3a1d:0x1c65*-0x1+-0x44b*-0x3+0xf84,!_0x54d492){const _0x36f04e=_0x2ab14d['_cookieCha'+'nnel'];_0x1b3c2b[_0x2137aa+(-0x2*0x149+-0xaed+0xd83)]=_0x36f04e==='rrr'?0x26eb+0x2a8+-0x2894:-0x1a06*0x1+0x13ea+0x61c,_0x1b3c2b[_0x2137aa+(0x112*-0x5+-0x94*0x3b+0xd29*0x3)]=_0x36f04e==='ggg'?0x1a56+0x1676+-0x2fcd:0x152*-0x2+0x2*-0x791+0x11c6,_0x1b3c2b[_0x2137aa+(-0x2317+0xd3*-0xb+0x2c2e)]=_0x36f04e==='bbb'?-0x121d*-0x1+-0x219c+0x2*0x83f:-0x20fc+-0xfce+0x30ca*0x1,_0x1b3c2b[_0x2137aa+(-0x1*0xd53+-0xb1*0xf+0x17b9)]=_0x36f04e==='aaa'?-0x1f*0x95+0x1e2b*0x1+0x103*-0xb:0x655+0x576+0x1*-0xbcb;}}['addLightDa'+'ta'](_0x48bf1d,_0x4ca087){const _0x20f44a=_0x48bf1d['_type']===Re,_0x37af0b=_0x48bf1d['atlasViewp'+'ortAllocat'+'ed'],_0x390547=this['cookiesEna'+'bled']&&!!_0x48bf1d['_cookie']&&_0x37af0b,_0x1e9371=this['areaLights'+'Enabled']&&_0x48bf1d['shape']!==yt,_0x9dfecc=this['shadowsEna'+'bled']&&_0x48bf1d['castShadow'+'s']&&_0x37af0b,_0x12d2a4=_0x48bf1d['_node']['getPositio'+'n']();let _0x2b6087=null,_0x420c54=null;_0x20f44a?_0x9dfecc?_0x2b6087=_0x48bf1d['getRenderD'+'ata'](null,0x1eac+-0x4*0x6b+-0x1d00)['shadowMatr'+'ix']:_0x390547&&(_0x2b6087=Ma['evalSpotCo'+'okieMatrix'](_0x48bf1d)):(_0x9dfecc||_0x390547)&&(_0x420c54=_0x48bf1d['atlasViewp'+'ort']);const _0x1cd4ff=this['lights8'],_0x3146dc=_0x4ca087*this['lightsText'+'ure8']['width']*(-0x73a+-0x135b*-0x2+-0x1f78);this['addLightDa'+'taFlags'](_0x1cd4ff,_0x3146dc+(-0x187+-0x6*-0x638+-0x23c5)*Sr['FLAGS'],_0x48bf1d,_0x20f44a,_0x9dfecc,_0x48bf1d['shadowInte'+'nsity']),this['addLightDa'+'taColor'](_0x1cd4ff,_0x3146dc+(0xffe+-0x1c9b+0xca1)*Sr['COLOR_A'],_0x48bf1d,_0x390547),_0x20f44a&&this['addLightDa'+'taSpotAngl'+'es'](_0x1cd4ff,_0x3146dc+(-0x3f4*-0x5+-0x61*0x53+0xbb3*0x1)*Sr['SPOT_ANGLE'+'S'],_0x48bf1d),_0x48bf1d['castShadow'+'s']&&this['addLightDa'+'taShadowBi'+'as'](_0x1cd4ff,_0x3146dc+(-0xd*0x2fc+0x902*-0x1+0x2*0x17e9)*Sr['SHADOW_BIA'+'S'],_0x48bf1d),_0x390547&&this['addLightDa'+'taCookies'](_0x1cd4ff,_0x3146dc+(0xfe9+0x248b+-0x3470)*Sr['COOKIE_A'],_0x48bf1d);const _0x1c5aab=this['lightsFloa'+'t'],_0x2b06b3=_0x4ca087*this['lightsText'+'ureFloat']['width']*(-0x1*-0x20b3+-0x2680+0x5d1);if(_0x1c5aab[_0x2b06b3+(0x3*-0x5f3+0x1e2e*0x1+-0xc51)*lt['POSITION_R'+'ANGE']+(-0xe41*-0x2+0x1372+-0x2ff4)]=_0x12d2a4['x'],_0x1c5aab[_0x2b06b3+(-0x442+0x1fd2+-0x6e3*0x4)*lt['POSITION_R'+'ANGE']+(-0x69e+-0x101*-0x17+0x11*-0xf8)]=_0x12d2a4['y'],_0x1c5aab[_0x2b06b3+(0x1*0x685+-0x239a+0x1d19)*lt['POSITION_R'+'ANGE']+(-0x129b+-0x1142+0x23df)]=_0x12d2a4['z'],_0x1c5aab[_0x2b06b3+(-0xd50+0x22b4+-0xc*0x1c8)*lt['POSITION_R'+'ANGE']+(0x1438+0xf12*-0x2+0x9ef*0x1)]=_0x48bf1d['attenuatio'+'nEnd'],_0x20f44a&&(this['getSpotDir'+'ection'](Zt,_0x48bf1d),_0x1c5aab[_0x2b06b3+(-0x24b9+-0x5*-0x94+0x21d9)*lt['SPOT_DIREC'+'TION']+(-0x1c1e+0x21f+-0x533*-0x5)]=Zt['x'],_0x1c5aab[_0x2b06b3+(-0x184b+-0x1*-0xc2b+0xc24)*lt['SPOT_DIREC'+'TION']+(0xccf+-0xe5a+-0x2*-0xc6)]=Zt['y'],_0x1c5aab[_0x2b06b3+(0x1*-0xa6f+0x245b+-0x19e8)*lt['SPOT_DIREC'+'TION']+(0x1cd*-0x7+0x21f9+-0x155c)]=Zt['z']),_0x2b6087){const _0x5923f7=_0x2b6087['data'];for(let _0x3e601f=-0x328*0x5+0x2*-0x12ec+0x35a0;_0x3e601f<-0xe38+-0x19+0x4cb*0x3;_0x3e601f++)_0x1c5aab[_0x2b06b3+(-0x1f*-0x43+-0x1*0xb81+0x368)*lt['PROJ_MAT_0']+_0x3e601f]=_0x5923f7[_0x3e601f];}if(_0x420c54&&(_0x1c5aab[_0x2b06b3+(0x2009+-0x1*0x559+0x4*-0x6ab)*lt['ATLAS_VIEW'+'PORT']+(0x327+0x1*0x383+0x1*-0x6aa)]=_0x420c54['x'],_0x1c5aab[_0x2b06b3+(0x4ff+-0x2*-0x10f3+-0x26e1)*lt['ATLAS_VIEW'+'PORT']+(-0x12b*0x1f+-0x28b+-0x26c1*-0x1)]=_0x420c54['y'],_0x1c5aab[_0x2b06b3+(-0x5*0x608+-0x14f3+0x331f)*lt['ATLAS_VIEW'+'PORT']+(-0x2335*0x1+-0x1d4+0x250b)]=_0x420c54['z']/(-0xaf7+-0x71*0x4d+0x2cf7*0x1)),_0x1e9371){const _0xd405=this['getLightAr'+'eaSizes'](_0x48bf1d);_0x1c5aab[_0x2b06b3+(-0x1*0x1fd+0x50d+0x1a*-0x1e)*lt['AREA_DATA_'+'WIDTH']+(0xb9d*-0x1+-0x3da+0xf77)]=_0xd405[-0x229e+-0x10*-0x158+0xd1e],_0x1c5aab[_0x2b06b3+(0x4b9+0xaba+0x1*-0xf6f)*lt['AREA_DATA_'+'WIDTH']+(-0x3*-0xb9f+0x9d4+-0x2cb0)]=_0xd405[-0x9*-0x1eb+0x23e4+0x3526*-0x1],_0x1c5aab[_0x2b06b3+(-0x1682+0x6*0x241+0x900*0x1)*lt['AREA_DATA_'+'WIDTH']+(-0x11f1+-0x1*0x107b+0x2a6*0xd)]=_0xd405[-0x961*0x1+0x52f+0x434],_0x1c5aab[_0x2b06b3+(0x23ca+-0xd*0xc9+-0x1991)*lt['AREA_DATA_'+'HEIGHT']+(-0x38b*-0x8+-0x6da*0x3+-0x7ca)]=_0xd405[-0x11f6+0x2ad*-0xe+0x376f],_0x1c5aab[_0x2b06b3+(0x2063*-0x1+-0x1*0x1d4b+0x3db2)*lt['AREA_DATA_'+'HEIGHT']+(0x124*0xb+-0xc7*0x31+0x198c)]=_0xd405[-0x149b+-0x647*0x4+0x2dbb],_0x1c5aab[_0x2b06b3+(0x1*0xd24+0xad*0x2f+0x2ce3*-0x1)*lt['AREA_DATA_'+'HEIGHT']+(0x4*-0x2b1+0x10d5*0x1+-0x60f)]=_0xd405[-0x4*-0x786+-0x25b1+0xc3*0xa];}}}const Ml=new T(),Pl=new T(),Rl=new T(),bd=new _e(),r_=-0x1098+0x11e9+-0x151+0.000001,n_=0x184a+-0x2221+0x19d7*0x1;class a_{constructor(){this['light']=null,this['min']=new T(),this['max']=new T();}}class zu{constructor(_0x20afec){c(this,'clusterTex'+'ture'),(this['device']=_0x20afec,this['name']='Untitled',this['reportCoun'+'t']=0x8*0x25a+-0x4a2*0x6+0x8fc,this['boundsMin']=new T(),this['boundsMax']=new T(),this['boundsDelt'+'a']=new T(),this['_cells']=new T(-0x19dd+0x12f5*0x1+0x6e9,0x1587*-0x1+-0x2022+0x35aa,-0x22a0+0x1ff9+-0x28*-0x11),this['_cellsLimi'+'t']=new T(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=-0x2c*0x3c+0x1f*-0x2+0xa92,this['_maxAttenu'+'ation']=-0x254*-0xb+0x1c53+-0x35ef,this['_maxColorV'+'alue']=0x172d+-0x19ce+-0x1*-0x2a1,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new a_()),this['lightsBuff'+'er']=new E0(_0x20afec),this['registerUn'+'iforms'](_0x20afec));}set['maxCellLig'+'htCount'](_0x456687){_0x456687!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x456687,this['_cellsDirt'+'y']=!(0x2364+-0x4*0x371+-0x15a0));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x3e6eec){Ml['copy'](_0x3e6eec)['floor'](),this['_cells']['equals'](Ml)||(this['_cells']['copy'](Ml),this['_cellsLimi'+'t']['copy'](Ml)['sub'](T['ONE']),this['_cellsDirt'+'y']=!(-0x2491+-0x14f5+0x1*0x3986));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x5bf98a){this['_clusterSk'+'ipId']=_0x5bf98a['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x5bf98a['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x5bf98a['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x5bf98a['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(0xf6f+-0xb40+-0x10b*0x4),this['_clusterBo'+'undsMinId']=_0x5bf98a['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(-0x8*0x31+0x231a+0x79*-0x47),this['_clusterBo'+'undsDeltaI'+'d']=_0x5bf98a['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(0x1c73+-0xdc1+-0xeaf),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x5bf98a['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(-0x1*0x747+-0x592+0xcdc),this['_clusterCe'+'llsDotId']=_0x5bf98a['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(-0x3e4+-0x1*-0x178d+0x1f7*-0xa),this['_clusterCe'+'llsMaxId']=_0x5bf98a['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(-0x231d*0x1+-0x1fa3*0x1+0x42c3),this['_clusterCo'+'mpressionL'+'imit0Id']=_0x5bf98a['scope']['resolve']('clusterCom'+'pressionLi'+'mit0'),this['_clusterCo'+'mpressionL'+'imit0Data']=new Float32Array(-0x1cd0+0x2287+0x1*-0x5b5);}['updatePara'+'ms'](_0x3bab00){_0x3bab00&&(this['cells']=_0x3bab00['cells'],this['maxCellLig'+'htCount']=_0x3bab00['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x3bab00['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x3bab00['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x3bab00['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(-0x13ed+0x2fe*-0x9+0x2edc);const _0x3636e8=this['_cells']['x'],_0x150023=this['_cells']['y'],_0x410511=this['_cells']['z'],_0x81c922=_0x3636e8*_0x150023*_0x410511,_0x1b3baf=this['maxCellLig'+'htCount']*_0x81c922;let _0x144ac6=Math['ceil'](Math['sqrt'](_0x1b3baf));_0x144ac6=N['roundUp'](_0x144ac6,this['maxCellLig'+'htCount']);const _0xff07b0=Math['ceil'](_0x1b3baf/_0x144ac6);v['assert'](_0x144ac6<=n_&&_0xff07b0<=n_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][0x1279+-0x13de+0x3*0x77]=_0x3636e8,this['_clusterCe'+'llsMaxData'][0x1cf6+0x23f8+0x5e7*-0xb]=_0x150023,this['_clusterCe'+'llsMaxData'][0x1ef4+0x47*-0x65+0x2ef*-0x1]=_0x410511,this['_clusterCe'+'llsDotData'][0x1f06+-0x7*-0x1cf+-0x2baf]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x787*0x1+0x14*0x89+0x2*-0x91d]=_0x3636e8*_0x410511*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x3*-0x235+-0x21d*0x5+0x1132]=_0x3636e8*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x1b3baf),this['counts']=new Int32Array(_0x81c922),this['_clusterTe'+'xtureSizeD'+'ata'][0xb5+-0x5*0x6ef+0x21f6]=_0x144ac6,this['_clusterTe'+'xtureSizeD'+'ata'][0xf9*-0x28+-0x17f2+0x1*0x3edb]=(-0xc39+-0xb07*-0x2+-0x44*0x25)/_0x144ac6,this['_clusterTe'+'xtureSizeD'+'ata'][-0x1ea5+-0x1e86+0x3d2d]=(0x269e+0x120a*-0x2+-0x289)/_0xff07b0,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x144ac6,_0xff07b0,sp,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>-0x1cc5*0x1+0x1aaa+0xf*0x24?-0x624+-0x1e57+0x247b:-0x2143+-0xc7*-0x16+0x102a),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x829f29=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x1c67+0x1*0x6a3+0x18e*0xe]=this['_cells']['x']/_0x829f29['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x147b*-0x1+-0x15d5+0x2a51]=this['_cells']['y']/_0x829f29['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x1862*0x1+-0x1*-0x1025+0x2885*-0x1]=this['_cells']['z']/_0x829f29['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][-0x7*-0x249+-0x2b*-0x35+0x1*-0x18e6]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][-0x1a1+-0xabd+0xc5f*0x1]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][0x13af+-0xbdb+-0x7d2]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][-0xb9f+0x1*0x1bed+-0x104e]=_0x829f29['x'],this['_clusterBo'+'undsDeltaD'+'ata'][0x4*-0x4d6+0x1*-0x14e1+0x283a]=_0x829f29['y'],this['_clusterBo'+'undsDeltaD'+'ata'][0xfcd*0x1+0x7d9+0x164*-0x11]=_0x829f29['z'],this['_clusterCo'+'mpressionL'+'imit0Data'][-0x3*0x65a+-0x506*-0x6+-0x1d9*0x6]=this['_maxAttenu'+'ation'],this['_clusterCo'+'mpressionL'+'imit0Data'][-0x8f2*-0x2+-0x14*-0x4+-0x1233]=this['_maxColorV'+'alue'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']),this['_clusterCo'+'mpressionL'+'imit0Id']['setValue'](this['_clusterCo'+'mpressionL'+'imit0Data']);}['evalLightC'+'ellMinMax'](_0x3fd1a2,_0xd5b5f4,_0x3b35be){_0xd5b5f4['copy'](_0x3fd1a2['min']),_0xd5b5f4['sub'](this['boundsMin']),_0xd5b5f4['div'](this['boundsDelt'+'a']),_0xd5b5f4['mul2'](_0xd5b5f4,this['cells']),_0xd5b5f4['floor'](),_0x3b35be['copy'](_0x3fd1a2['max']),_0x3b35be['sub'](this['boundsMin']),_0x3b35be['div'](this['boundsDelt'+'a']),_0x3b35be['mul2'](_0x3b35be,this['cells']),_0x3b35be['ceil'](),_0xd5b5f4['max'](T['ZERO']),_0x3b35be['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x44a2e4){const _0x5497cb=this['lightsBuff'+'er']['maxLights'],_0x50ebbb=this['_usedLight'+'s'];let _0x33173a=0x255a+-0x2658+0xff;_0x44a2e4['forEach'](_0x1eadc3=>{const _0x1929f5=!!(_0x1eadc3['mask']&(hs|cr)),_0x28a9d3=_0x1eadc3['type']===Re&&_0x1eadc3['_outerCone'+'Angle']===0x25*-0x5c+-0x52c*0x5+0x2728;if(_0x1eadc3['enabled']&&_0x1eadc3['type']!==oe&&_0x1eadc3['visibleThi'+'sFrame']&&_0x1eadc3['intensity']>-0x28d*0x3+0xbd5+0x6b*-0xa&&_0x1929f5&&!_0x28a9d3){if(_0x33173a<_0x5497cb){let _0x4737c8;_0x33173a<_0x50ebbb['length']?_0x4737c8=_0x50ebbb[_0x33173a]:(_0x4737c8=new a_(),_0x50ebbb['push'](_0x4737c8)),_0x4737c8['light']=_0x1eadc3,_0x1eadc3['getBoundin'+'gBox'](bd),_0x4737c8['min']['copy'](bd['getMin']()),_0x4737c8['max']['copy'](bd['getMax']()),_0x33173a++;}else v['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x5497cb-(-0x2*-0x10f+-0x2*0xc5c+-0x169b*-0x1))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x50ebbb['length']=_0x33173a;}['evaluateBo'+'unds'](){const _0xc96ea=this['_usedLight'+'s'],_0x40e611=this['boundsMin'],_0x397009=this['boundsMax'];if(_0xc96ea['length']>-0xfc2+0x1523+-0x560){_0x40e611['copy'](_0xc96ea[0x77d*-0x1+-0xeb1+0x162f]['min']),_0x397009['copy'](_0xc96ea[0x1968+0x1280+0x1*-0x2be7]['max']);for(let _0x40612f=-0x165a+0x2364+-0xd08;_0x40612f<_0xc96ea['length'];_0x40612f++)_0x40e611['min'](_0xc96ea[_0x40612f]['min']),_0x397009['max'](_0xc96ea[_0x40612f]['max']);}else _0x40e611['set'](0x924+-0xa31+0x10d,0xb23+0x21*0x2f+-0x1132,0x3a5*0x1+-0x67*-0x2+0x1*-0x473),_0x397009['set'](-0x1*-0x17cb+0x4f*-0x57+0x30f*0x1,0x7c9+0x13*0xa4+-0x4fd*0x4,-0x846*0x1+-0xe9b+0x16e2);this['boundsDelt'+'a']['sub2'](_0x397009,_0x40e611),this['lightsBuff'+'er']['setBounds'](_0x40e611,this['boundsDelt'+'a']);}['evaluateCo'+'mpressionL'+'imits'](){let _0x483b1e=-0x5*-0x26f+0x103+0xe*-0xf1,_0x5dfab6=0xb6d+-0xafb+0x2*-0x39;const _0x548b32=this['_usedLight'+'s'];for(let _0x49dd8b=-0x2047+-0x7bf*-0x1+-0xb*-0x23b;_0x49dd8b<_0x548b32['length'];_0x49dd8b++){const _0x241d38=_0x548b32[_0x49dd8b]['light'];_0x483b1e=Math['max'](_0x241d38['attenuatio'+'nEnd'],_0x483b1e);const _0x2fad75=_0x241d38['_colorLine'+'ar'];_0x5dfab6=Math['max'](_0x2fad75[0x1*-0x90d+0xe73+-0x566],_0x5dfab6),_0x5dfab6=Math['max'](_0x2fad75[0x1406+-0x434+-0xfd1],_0x5dfab6),_0x5dfab6=Math['max'](_0x2fad75[0xba2*0x1+0x19b*0x3+-0x1*0x1071],_0x5dfab6);}this['_maxAttenu'+'ation']=_0x483b1e+r_,this['_maxColorV'+'alue']=_0x5dfab6+r_,this['lightsBuff'+'er']['setCompres'+'sionRanges'](this['_maxAttenu'+'ation'],this['_maxColorV'+'alue']);}['updateClus'+'ters'](_0x7dd125){this['counts']['fill'](0xff9+-0x28*0xb2+0xbd7),this['clusters']['fill'](0x1fc5+0x2465+-0x442a),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x7dd125?_0x7dd125['areaLights'+'Enabled']:!(0x1ab5+0xf14+-0x38*0xbf);const _0x594bb7=this['_cells']['x'],_0x49cb3a=this['_cells']['z'],_0x4794e0=this['counts'],_0x4ff31e=this['_maxCellLi'+'ghtCount'],_0x325c84=this['clusters'],_0x3b018d=this['maxCellLig'+'htCount'];let _0x215aef=!(0x2528+0x1373*0x1+-0x389a);const _0x4435b9=this['_usedLight'+'s'];for(let _0x3d9946=0xe*0x12f+-0xd63+0x32e*-0x1;_0x3d9946<_0x4435b9['length'];_0x3d9946++){const _0x55ca41=_0x4435b9[_0x3d9946],_0x409e60=_0x55ca41['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x409e60,_0x3d9946),this['evalLightC'+'ellMinMax'](_0x55ca41,Pl,Rl);const _0x524ac4=Pl['x'],_0x18e78f=Rl['x'],_0x39930e=Pl['y'],_0x562175=Rl['y'],_0x1c37a9=Pl['z'],_0xcb499c=Rl['z'];for(let _0x5689fe=_0x524ac4;_0x5689fe<=_0x18e78f;_0x5689fe++)for(let _0x413115=_0x1c37a9;_0x413115<=_0xcb499c;_0x413115++)for(let _0x3db010=_0x39930e;_0x3db010<=_0x562175;_0x3db010++){const _0x39d89f=_0x5689fe+_0x594bb7*(_0x413115+_0x3db010*_0x49cb3a),_0x584c3e=_0x4794e0[_0x39d89f];_0x584c3e<_0x4ff31e?(_0x325c84[_0x3b018d*_0x39d89f+_0x584c3e]=_0x3d9946,_0x4794e0[_0x39d89f]=_0x584c3e+(-0x80*0x7+-0x23f3+-0x5*-0x7e4)):_0x215aef=!(-0x1851+-0x67e+0x21*0xef);}}_0x215aef&&this['reportCoun'+'t']<0x1c35+0x16*-0x35+-0x17a2&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===-0x80*-0x1e+-0x3f2+0x12*-0x9d?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x2a9155,_0x377fde=null){this['updatePara'+'ms'](_0x377fde),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x2a9155),this['evaluateBo'+'unds'](),this['evaluateCo'+'mpressionL'+'imits'](),this['updateClus'+'ters'](_0x377fde),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const o_=-0x3*-0x20b+-0x1*0xb2c+-0x3*-0x1af+0.39996322972865306,ll={'circlePoint'(_0x4e2f36){const _0x561acf=Math['sqrt'](Math['random']()),_0x51df92=Math['random']()*(-0x393+-0x1c42+-0xf7*-0x21)*Math['PI'];_0x4e2f36['x']=_0x561acf*Math['cos'](_0x51df92),_0x4e2f36['y']=_0x561acf*Math['sin'](_0x51df92);},'circlePointDeterministic'(_0x57e4f4,_0x4338ca,_0x5ee0af){const _0x53a683=_0x4338ca*o_,_0x42e9dd=Math['sqrt'](_0x4338ca)/Math['sqrt'](_0x5ee0af);_0x57e4f4['x']=_0x42e9dd*Math['cos'](_0x53a683),_0x57e4f4['y']=_0x42e9dd*Math['sin'](_0x53a683);},'spherePointDeterministic'(_0xfc262c,_0xafcf0,_0x4db84a,_0x177abd=-0xdac*-0x1+-0x13f+0xc6d*-0x1,_0x2c5862=0x1e83+0x289*0x2+-0x2394){_0x177abd=-0xea3*0x2+0x4c7+0x1880-(0x1*-0x2269+0x67*-0x31+0x2*0x1b11)*_0x177abd,_0x2c5862=-0x54+-0x1*-0x21f1+-0x9*0x3bc-(-0x9*0xf6+-0xe62+0x170a)*_0x2c5862;const _0x5f1dff=N['lerp'](_0x177abd,_0x2c5862,_0xafcf0/_0x4db84a),_0x454651=Math['sqrt'](0x1*-0x20ed+0x139*0xc+0x39*0x52-_0x5f1dff*_0x5f1dff),_0xe5f8fb=o_*_0xafcf0;_0xfc262c['x']=Math['cos'](_0xe5f8fb)*_0x454651,_0xfc262c['y']=_0x5f1dff,_0xfc262c['z']=Math['sin'](_0xe5f8fb)*_0x454651;},'radicalInverse'(_0x1826bb){let _0x1f33bc=(_0x1826bb<<0x1e62*0x1+0x2563+0x1*-0x43b5|_0x1826bb>>>0x3*-0xa4d+0x6cc+0x182b)>>>0x26*-0xdf+-0x2257+-0x1*-0x4371;return _0x1f33bc=((_0x1f33bc&0x2a55*-0x11b81+-0x5*-0x7f1ec4b+-0x3*-0x1ed45691)<<0x45e*-0x4+-0x1494*0x1+0x11*0x23d|(_0x1f33bc&-0x12f281c8d+0xb311f550+0x1*0x126c0d1e7)>>>-0x1cb0+0x19db+-0x2*-0x16b)>>>0x17c7*-0x1+0x4a3+0x1324,_0x1f33bc=((_0x1f33bc&0x452a92f6+0x24440ef*-0x5+0x1b3c*-0x3e5a)<<-0xd81*0x1+-0x27*-0xa3+-0xb52|(_0x1f33bc&-0x1*0x2e666886+0x1ea*-0x491c6f+0x18723a1c8)>>>0x2e7*-0x7+-0xb23*0x1+0x1f76)>>>-0x2fc*0xc+-0x1d13+0x15*0x317,_0x1f33bc=((_0x1f33bc&-0x6dfd26*0x1b+-0x10688cbc+0xd*0x35019c1)<<-0x3*-0x35+-0xa1*-0x1a+-0x10f5|(_0x1f33bc&0x2f9bdd84+-0x17e7a5d95+0x23fcf7101)>>>-0xb25+0x20f3+-0x15ca)>>>0x1*0x17d9+-0x149c+-0x33d,_0x1f33bc=((_0x1f33bc&0x1929b37+0x2*-0x5b4607+-0x6*-0x5d2f9)<<0x1*0x88a+-0x255*-0xd+-0x26d3|(_0x1f33bc&-0x551*0x57afab+-0x257245e*0xc+0x2ed439f83)>>>0x893+0x1e5+0x14e*-0x8)>>>0x7fd+-0x4f9+-0x304,_0x1f33bc*(0x17*0x122+-0x58c*-0x1+-0x1f9a+2.3283064365386963e-10);}},gC={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP'},yC={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Es{static['decodeFunc'](_0x5e3749){return gC[_0x5e3749]||'decodeGamm'+'a';}static['encodeFunc'](_0x3b182b){return yC[_0x3b182b]||'encodeGamm'+'a';}static['getScreenD'+'epthChunk'](_0x3c01d5,_0x1e5019){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+(_0x1e5019['sceneDepth'+'MapLinear']?'#define\x20SC'+'ENE_DEPTHM'+'AP_LINEAR':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x3c01d5['textureFlo'+'atRenderab'+'le']?'#define\x20SC'+'ENE_DEPTHM'+'AP_FLOAT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+X['screenDept'+'hPS']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}const l_=_0x44bc43=>{switch(_0x44bc43){case Au:return'Cubemap';case QS:return'Octahedral';default:return'Equirect';}},Il=(_0x3fb323,_0xd5b4ff,_0x1ad489)=>{if(_0x3fb323<=-0x2504+0x5dd+-0xb*-0x2d5)_0xd5b4ff[_0x1ad489+(-0x703*-0x5+-0x146d+-0xea2)]=-0x1*-0x4e2+-0xf02+-0x18*-0x6c,_0xd5b4ff[_0x1ad489+(-0x4f*0x3b+-0x1586+0x27bc)]=-0x81*0x2f+0x43*0x1d+0x1018,_0xd5b4ff[_0x1ad489+(0x4fa+0x185*-0x1+0x373*-0x1)]=-0x26b2+-0x2498+0x4b4a,_0xd5b4ff[_0x1ad489+(0x6cd*-0x1+-0xacd*0x1+0x119d)]=0x1*-0x457+0xa7e+-0x9*0xaf;else{if(_0x3fb323>=0x1*0x217b+-0x612+-0x4*0x6da)_0xd5b4ff[_0x1ad489+(-0x13*-0x1e2+0x1c8e+-0x4054)]=-0x7dc*-0x3+0x1321+-0x29b6,_0xd5b4ff[_0x1ad489+(-0x1*-0x247f+0x3*0xba3+-0x4767)]=0x1*0x42b+-0x1a54+0x1629,_0xd5b4ff[_0x1ad489+(0x25d8+-0xd96+-0x20*0xc2)]=-0xd64+0x245b+0x16f7*-0x1,_0xd5b4ff[_0x1ad489+(0x160c+0x2*-0x41+-0x1587)]=0x1474+-0xf5f*0x2+0xa4a;else{let _0x7ffd92=(-0x1f6a+0x1*0x2701+-0x796)*_0x3fb323%(0x1*-0x1a87+-0x205c+-0x2*-0x1d72),_0x6cb778=(0x1e79+0x3*-0x6c7+0x1*-0x925)*_0x3fb323%(-0x101f*-0x2+-0x19b4+0x1*-0x689),_0x4c8494=(0x6b*-0x143+-0x3f58+0x1c45a)*_0x3fb323%(-0x4b4+0x2285*-0x1+0x273a);const _0xb6184a=(0x30d01+0x1d3b2ee+-0xd9bcf0)*_0x3fb323%(0x201*0x11+0x1bfd+0x3*-0x14af);_0x7ffd92-=_0x6cb778/(0x1*-0x6cf+0x2031+-0x1863),_0x6cb778-=_0x4c8494/(-0x35*0x32+0x832+0x327),_0x4c8494-=_0xb6184a/(-0x25b1+0x20*0xa6+0x29*0x70),_0xd5b4ff[_0x1ad489+(0xb8b+-0x12d9+0x2*0x3a7)]=Math['min'](-0x4*-0x26b+0x1a6*0x9+-0x1783,Math['floor'](_0x7ffd92*(0x3*0x2af+-0x254+-0x4b9))),_0xd5b4ff[_0x1ad489+(-0x11cf+0xad4+0x6fc)]=Math['min'](-0x1*-0xabc+0xd4a+-0x2d*0x83,Math['floor'](_0x6cb778*(-0x8b*0x25+0x1053*-0x1+0x256a))),_0xd5b4ff[_0x1ad489+(0xc6b+-0xae*-0xc+-0x87*0x27)]=Math['min'](-0x5*0x44f+0x1ba+0x14d0,Math['floor'](_0x4c8494*(0x7*0x106+0x1c9*-0x12+0x19f8*0x1))),_0xd5b4ff[_0x1ad489+(-0xf5+-0x3e*0x21+0x25*0x3e)]=Math['min'](-0x43b+-0x1*-0x203+-0x1*-0x337,Math['floor'](_0xb6184a*(-0x1393*0x1+0x214f+-0xcbc)));}}},xC=_0x3365c4=>{const _0x215679=_0x3365c4['length'],_0x4ddf2a=Math['min'](_0x215679,0x1c09+0x87*0x23+-0x2c7e),_0x19b0de=Math['ceil'](_0x215679/_0x4ddf2a),_0xd474f8=new Uint8Array(_0x4ddf2a*_0x19b0de*(-0x1*-0x2502+0x1835+-0x3d33));let _0x1658e4=0x695+-0x26ce+0x2039*0x1;for(let _0x4f76bc=0x13*0x7+-0x1a04+0x3d*0x6b;_0x4f76bc<_0x215679;_0x4f76bc+=-0x6*0x5c2+-0x132d+0x1*0x35bd)Il(_0x3365c4[_0x4f76bc+(-0x1b70+0xd66+0xe0a)]*(-0x5f5*-0x6+-0x16ad+0xf*-0xdf+0.5)+(0xfa2+-0xb1d+0x59*-0xd+0.5),_0xd474f8,_0x1658e4+(0x28c*-0xe+0x2*0xcb3+0xa42)),Il(_0x3365c4[_0x4f76bc+(-0x1*-0x1615+0x122a+-0x283e)]*(0x1*0x1f5b+0xae1+-0x2a3c+0.5)+(-0x1*-0x1871+0x46a+0x1*-0x1cdb+0.5),_0xd474f8,_0x1658e4+(-0x75c+-0x237d+-0x2add*-0x1)),Il(_0x3365c4[_0x4f76bc+(0xd17*0x1+0x19*-0xc1+0x5c4)]*(-0x1407+-0x1203+-0x21d*-0x12+0.5)+(-0x25c2+0x1a43+0xb7f+0.5),_0xd474f8,_0x1658e4+(-0xa44+-0x9*-0xef+0x1*0x1e5)),Il(_0x3365c4[_0x4f76bc+(-0x1007+0x18a+-0xe80*-0x1)]/(-0x3*0xb69+0x2401+-0x1be),_0xd474f8,_0x1658e4+(-0xcff+0x1*-0x59f+-0x955*-0x2)),_0x1658e4+=0x239b+-0x2482+-0x13*-0xd;return{'width':_0x4ddf2a,'height':_0x19b0de,'data':_0xd474f8};},SC=(_0x3ebd9d,_0x2f5284,_0x35a33b,_0x595e02)=>{const _0x140d54=_0x35a33b*(0x1*0x1223+-0x62+0x1*-0x11bf)*Math['PI'],_0xf3c45=Math['pow'](0x2013+-0x1*0x1597+0x1*-0xa7b-_0x2f5284,(0x355*-0xa+-0x260f+-0x4762*-0x1)/(_0x595e02+(0x126*0xa+0x84e*-0x3+-0x1*-0xd6f))),_0x3f2b38=Math['sqrt'](-0x1ab0+0x2c4+0x17ed-_0xf3c45*_0xf3c45);_0x3ebd9d['set'](Math['cos'](_0x140d54)*_0x3f2b38,Math['sin'](_0x140d54)*_0x3f2b38,_0xf3c45)['normalize']();},vC=(_0x25f7d6,_0x2ad31b,_0x4e034b)=>{const _0x111dfb=_0x4e034b*(0x1985+0x152*0x7+-0x22c1)*Math['PI'],_0x3cf650=Math['sqrt'](-0x1*-0x54d+0x23f3+-0x293f-_0x2ad31b),_0x448d29=Math['sqrt'](_0x2ad31b);_0x25f7d6['set'](Math['cos'](_0x111dfb)*_0x448d29,Math['sin'](_0x111dfb)*_0x448d29,_0x3cf650)['normalize']();},bC=(_0x5b416f,_0x392e35,_0x44b2fb,_0x49daab)=>{const _0x117c92=_0x44b2fb*(0x55d*-0x3+0x29*-0xc1+0x2f02*0x1)*Math['PI'],_0x3719e5=Math['sqrt']((-0x7cb+-0x9d*0x29+-0x20f1*-0x1-_0x392e35)/(0x10ac+0x64*-0x5+-0xeb7*0x1+(_0x49daab*_0x49daab-(-0x2141*-0x1+-0x6e6+-0x1a5a))*_0x392e35)),_0x2c4aa7=Math['sqrt'](-0x1*0x1f07+0x23e0+0x136*-0x4-_0x3719e5*_0x3719e5);_0x5b416f['set'](Math['cos'](_0x117c92)*_0x2c4aa7,Math['sin'](_0x117c92)*_0x2c4aa7,_0x3719e5)['normalize']();},wC=(_0x1b3c36,_0x53e2e5)=>{const _0x136f2a=_0x1b3c36*_0x53e2e5,_0x2860b7=_0x53e2e5/(-0x93f+0xc9b+-0x35b*0x1-_0x1b3c36*_0x1b3c36+_0x136f2a*_0x136f2a);return _0x2860b7*_0x2860b7*((-0x9a5+-0xd70*-0x1+0x3ca*-0x1)/Math['PI']);},TC=(_0x5e5dfe,_0x10106a)=>{const _0x1837c2=new T(),_0x19a39c=[];for(let _0xe4b1fc=0xffd+-0x191f*0x1+-0x2*-0x491;_0xe4b1fc<_0x5e5dfe;++_0xe4b1fc)SC(_0x1837c2,_0xe4b1fc/_0x5e5dfe,ll['radicalInv'+'erse'](_0xe4b1fc),_0x10106a),_0x19a39c['push'](_0x1837c2['x'],_0x1837c2['y'],_0x1837c2['z'],-0x374*-0x1+0x8a+-0x3fe);return _0x19a39c;},AC=(_0x2f5670,_0x45e11f)=>{const _0x431207=_0x45e11f/_0x2f5670,_0x3ca6c3=new T(),_0x28f7b4=[];for(let _0x305d8f=-0x20b0+-0xb92+-0x6e*-0x67;_0x305d8f<_0x2f5670;++_0x305d8f){vC(_0x3ca6c3,_0x305d8f/_0x2f5670,ll['radicalInv'+'erse'](_0x305d8f));const _0x4d4a8b=_0x3ca6c3['z']/Math['PI'],_0x3249e9=(-0x8*0x380+-0x7*0x35f+0x3399+0.5)*Math['log2'](_0x431207/_0x4d4a8b);_0x28f7b4['push'](_0x3ca6c3['x'],_0x3ca6c3['y'],_0x3ca6c3['z'],_0x3249e9);}return _0x28f7b4;},EC={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},CC=(_0x2db972,_0x17f824)=>{const _0x19adad=EC[_0x2db972];return _0x19adad&&_0x19adad[_0x17f824]||_0x2db972;},MC=(_0x123c58,_0x102ebb,_0x40a3c8)=>{const _0x2a6679=_0x40a3c8/_0x123c58,_0x381ef4=-0x15*-0x1bd+0x5d4*-0x1+-0x1eac-Math['log2'](_0x102ebb)/(0x20*0x97+-0x4f3+-0xde2),_0x1c18ef=_0x381ef4*_0x381ef4,_0x4c74e6=new T(),_0x11eb70=new T(),_0xff4113=new T(-0x20d8+0xcc0*-0x2+0x3a58,-0x126d*-0x1+0x2*0x3c1+0x3*-0x8a5,-0x487*-0x6+-0x17ab+-0x37e),_0x4bba77=[],_0x393c98=CC(_0x123c58,_0x102ebb);for(let _0x4991f5=0x1884+0x410*0x2+-0x20a4;_0x4991f5<_0x393c98;++_0x4991f5){bC(_0x4c74e6,_0x4991f5/_0x393c98,ll['radicalInv'+'erse'](_0x4991f5),_0x1c18ef);const _0x358ddd=_0x4c74e6['z'];if(_0x11eb70['set'](_0x4c74e6['x'],_0x4c74e6['y'],_0x4c74e6['z'])['mulScalar']((0x2*0x9d3+-0x6b+-0x1339)*_0x358ddd)['sub'](_0xff4113),_0x11eb70['z']>-0x1b53*0x1+-0x1d9b+-0x2b6*-0x15){const _0x5dfce0=wC(Math['min'](0xb66*-0x2+0xae*0x10+-0x1*-0xbed,_0x358ddd),_0x1c18ef)/(-0x10*0x26e+-0x2*-0x1058+-0x4*-0x18d)+(-0x839+0x2555+0x1*-0x1d1c+0.001),_0x49c364=(0x18a9*0x1+-0x9ff+0x1*-0xeaa+0.5)*Math['log2'](_0x2a6679/_0x5dfce0);_0x4bba77['push'](_0x11eb70['x'],_0x11eb70['y'],_0x11eb70['z'],_0x49c364);}}for(;_0x4bba77['length']<_0x123c58*(0x2131+-0xd83+-0x13aa);)_0x4bba77['push'](0x1*-0x1fab+-0x4a9+0x6*0x60e,0x1724+-0x17d2+0xae,0x13*0x57+0x234f+0x3*-0xdec,0x3ba+-0x1d1e+0x1964);return _0x4bba77;},PC=(_0xf3465d,_0x4cc37a,_0x3c27fb)=>{const _0x27cd15=xC(_0x3c27fb);return new he(_0xf3465d,{'name':_0x4cc37a,'width':_0x27cd15['width'],'height':_0x27cd15['height'],'mipmaps':!(0x24ba+-0x1*-0xa94+-0x2f4d),'minFilter':de,'magFilter':de,'levels':[_0x27cd15['data']]});};class C0{constructor(_0x3a297f=!(0x26d5+0x62d*0x1+0x337*-0xe)){c(this,'map',new Map()),this['destroyCon'+'tent']=_0x3a297f;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x5848da,_0x447aa3)=>{_0x5848da['destroy']();});}['get'](_0x42e245,_0x5e8b7e){if(!this['map']['has'](_0x42e245)){const _0x53841f=_0x5e8b7e();return this['map']['set'](_0x42e245,_0x53841f),_0x53841f;}return this['map']['get'](_0x42e245);}}const RC=new C0(!(0x2*-0x5f6+0x4*0x9+0xbc9*0x1)),IC=new Ot(),Lp=(_0x34975f,_0x3db184,_0x319952)=>IC['get'](_0x34975f,()=>new C0())['get'](_0x3db184,()=>PC(_0x34975f,_0x3db184,RC['get'](_0x3db184,_0x319952))),DC=(_0x165db4,_0x56d454,_0x4130fb)=>{const _0x556d68='lambert-sa'+'mples-'+_0x56d454+'-'+_0x4130fb;return Lp(_0x165db4,_0x556d68,()=>AC(_0x56d454,_0x4130fb));},LC=(_0x5d995e,_0x19d6ab,_0x3fcee6)=>{const _0x5d23f9='phong-samp'+'les-'+_0x19d6ab+'-'+_0x3fcee6;return Lp(_0x5d995e,_0x5d23f9,()=>TC(_0x19d6ab,_0x3fcee6));},FC=(_0x5f20fc,_0x163b98,_0x10d4cf,_0x11d71c)=>{const _0x35cd00='ggx-sample'+'s-'+_0x163b98+'-'+_0x10d4cf+'-'+_0x11d71c;return Lp(_0x5f20fc,_0x35cd00,()=>MC(_0x163b98,_0x10d4cf,_0x11d71c));},OC='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0aunifor'+'m\x20vec4\x20uvM'+'od;\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20vU'+'v0\x20=\x20getIm'+'ageEffectU'+'V((vertex_'+'position.x'+'y\x20*\x200.5\x20+\x20'+'0.5)\x20*\x20uvM'+'od.xy\x20+\x20uv'+'Mod.zw);\x0a}'+'\x0a';function Qs(_0x3a04ff,_0xc0e275,_0x510251={}){var _0x3b3f28,_0x14a97e;v['assert'](_0x3a04ff instanceof he&&_0xc0e275 instanceof he,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x441055=_0x510251['seamPixels']??-0x13d*-0x1d+-0x1a1d+0x344*-0x3,_0xc5020c=(((_0x3b3f28=_0x510251['rect'])==null?void(-0xeed+0x151f*-0x1+0x240c):_0x3b3f28['z'])??_0xc0e275['width'])-_0x441055*(0x126a*-0x1+-0x1730+-0xa67*-0x4),_0x36904a=(((_0x14a97e=_0x510251['rect'])==null?void(-0x22f0+-0x5*0x27+0x25*0xf7):_0x14a97e['w'])??_0xc0e275['height'])-_0x441055*(-0xd9*0x20+0x47*-0x62+0x3650);if(_0xc5020c<0x1*-0x2183+-0x65*0x1b+0x2c2b||_0x36904a<-0x9d3+0x1cc9*0x1+-0x1*0x12f5)return!(0x14b1+-0x1eb3*0x1+0xb*0xe9);const _0x5232c1={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x25110d=_0x510251['hasOwnProp'+'erty']('specularPo'+'wer')?_0x510251['specularPo'+'wer']:0x4*-0x5b6+-0x3b9*-0x5+0x43c,_0x104875=_0x510251['hasOwnProp'+'erty']('face')?_0x510251['face']:null,_0x557f68=_0x510251['hasOwnProp'+'erty']('distributi'+'on')?_0x510251['distributi'+'on']:_0x25110d===-0x15df*-0x1+0xc3*0x8+0x952*-0x3?'none':'phong',_0x2ea8ac=_0x5232c1[_0x557f68]||'reproject',_0x2006d8=_0x2ea8ac['startsWith']('prefilterS'+'amples'),_0x1acae1=Es['decodeFunc'](_0x3a04ff['encoding']),_0x2b83af=Es['encodeFunc'](_0xc0e275['encoding']),_0x654f68='sample'+l_(_0x3a04ff['projection']),_0x11ddf9='getDirecti'+'on'+l_(_0xc0e275['projection']),_0x21e8ac=_0x510251['hasOwnProp'+'erty']('numSamples')?_0x510251['numSamples']:0x1*-0x24d4+0xb4b+0x1*0x1d89,_0x558d55=_0x2ea8ac+'_'+_0x1acae1+'_'+_0x2b83af+'_'+_0x654f68+'_'+_0x11ddf9+'_'+_0x21e8ac,_0xff7141=_0x3a04ff['device'];let _0x232a2c=ka(_0xff7141)['getCachedS'+'hader'](_0x558d55);if(!_0x232a2c){const _0x147ab9='#define\x20PR'+'OCESS_FUNC'+'\x20'+_0x2ea8ac+'\x0a'+(_0x2006d8?'#define\x20US'+'E_SAMPLES_'+'TEX\x0a':'')+(_0x3a04ff['cubemap']?'#define\x20CU'+'BEMAP_SOUR'+'CE\x0a':'')+('#define\x20DE'+'CODE_FUNC\x20')+_0x1acae1+('\x0a#define\x20E'+'NCODE_FUNC'+'\x20')+_0x2b83af+('\x0a#define\x20S'+'OURCE_FUNC'+'\x20')+_0x654f68+('\x0a#define\x20T'+'ARGET_FUNC'+'\x20')+_0x11ddf9+('\x0a#define\x20N'+'UM_SAMPLES'+'\x20')+_0x21e8ac+('\x0a#define\x20N'+'UM_SAMPLES'+'_SQRT\x20')+Math['round'](Math['sqrt'](_0x21e8ac))['toFixed'](-0x309*0x1+0x1*-0x16e5+0x19ef)+'\x0a';_0x232a2c=Is(_0xff7141,OC,_0x147ab9+'\x0a'+X['reprojectP'+'S'],_0x558d55);}G['pushGpuMar'+'ker'](_0xff7141,'ReprojectT'+'exture'),_0xff7141['setBlendSt'+'ate'](_t['NOBLEND']);const _0x4103de=_0xff7141['scope']['resolve'](_0x3a04ff['cubemap']?'sourceCube':'sourceTex');v['assert'](_0x4103de),_0x4103de['setValue'](_0x3a04ff);const _0x885d9f=_0xff7141['scope']['resolve']('params'),_0x3d6535=_0xff7141['scope']['resolve']('uvMod');_0x441055>0x4f*-0x19+-0x800+0xfb7?_0x3d6535['setValue']([(_0xc5020c+_0x441055*(-0x3fc+0x263c+0x9*-0x3ce))/_0xc5020c,(_0x36904a+_0x441055*(0x13e9+-0x395*-0xa+-0xf*0x3b7))/_0x36904a,-_0x441055/_0xc5020c,-_0x441055/_0x36904a]):_0x3d6535['setValue']([0x4*0x376+-0x108e+0x2b7*0x1,-0x5e*0x66+-0x1*-0xc02+0x1973,-0x23*0xc7+-0x4aa*0x1+0x1fdf,-0x458+0x1*-0xbd8+0x40c*0x4]);const _0x2c985a=[-0x4a0+-0x26ce+-0xe7a*-0x3,_0xc0e275['width']*_0xc0e275['height']*(_0xc0e275['cubemap']?-0x1df+-0x33c+0x521:-0x1*-0x1079+0x166e+-0xd*0x2fe),_0x3a04ff['width']*_0x3a04ff['height']*(_0x3a04ff['cubemap']?0x207c+0x1*0x4df+-0x2555:-0x1*0xe8c+0x10ab+-0x21e)];if(_0x2006d8){const _0x3faea4=_0x3a04ff['width']*_0x3a04ff['height']*(_0x3a04ff['cubemap']?0x2646+0x1*-0x1f8c+0x21*-0x34:0xd7a+-0x1a17+-0x5*-0x286),_0x15f71e=_0x557f68==='ggx'?FC(_0xff7141,_0x21e8ac,_0x25110d,_0x3faea4):_0x557f68==='lambert'?DC(_0xff7141,_0x21e8ac,_0x3faea4):LC(_0xff7141,_0x21e8ac,_0x25110d);_0xff7141['scope']['resolve']('samplesTex')['setValue'](_0x15f71e),_0xff7141['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(0x255a+-0x9a4+0x29*-0xad)/_0x15f71e['width'],(-0x2*0xed5+-0xf8a+0x2d35)/_0x15f71e['height']]);}for(let _0x196b53=0x1*0x1c49+-0x2*0x193+-0xf*0x1ad;_0x196b53<(_0xc0e275['cubemap']?0x214f+0x55d*0x5+-0x3c1a:-0x8fe*0x1+0x196c+0x1d*-0x91);_0x196b53++)if(_0x104875===null||_0x196b53===_0x104875){const _0x5cd2fe=new pt({'colorBuffer':_0xc0e275,'face':_0x196b53,'depth':!(0xf*-0x161+0x137*0x11+0x9*0x1),'flipY':_0xff7141['isWebGPU']});_0x2c985a[-0x153+-0x1*-0xb32+-0x85*0x13]=_0x196b53,_0x885d9f['setValue'](_0x2c985a),dn(_0xff7141,_0x5cd2fe,_0x232a2c,_0x510251==null?void(-0x111d*-0x1+-0x2*0x543+0x1*-0x697):_0x510251['rect']),_0x5cd2fe['destroy']();}return G['popGpuMark'+'er'](_0xff7141),!(0x351+-0x59e*0x1+0x13*0x1f);}const wd=(_0x58e588,_0x28312=0x3*-0xbcf+0x1f4d*0x1+0xc*0x58)=>-0x1bf1+0x1cb+0x1a27+Math['floor'](Math['log2'](Math['max'](_0x58e588,_0x28312))),kC=_0x5ed351=>_0x5ed351['textureHal'+'fFloatRend'+'erable'],BC=_0x38b462=>_0x38b462['textureFlo'+'atRenderab'+'le'],NC=_0x2dfe31=>kC(_0x2dfe31)?Je:BC(_0x2dfe31)?Ke:Se,zC=_0x3c027f=>Se,UC=(_0x19199b,_0x4de820,_0xd982ae,_0x468b3b)=>new he(_0x19199b,{'name':'lighting-'+_0x4de820,'cubemap':!(0xd*0x97+0x1*-0x215d+0x19b2),'width':_0x4de820,'height':_0x4de820,'format':_0xd982ae,'type':Io,'addressU':ae,'addressV':ae,'mipmaps':!(-0x1*-0x1003+0x20*0x16+-0x12c2)});class M0{static['generateSk'+'yboxCubema'+'p'](_0x2c736c,_0x505bc4){const _0x5ee33e=_0x2c736c['device'];G['pushGpuMar'+'ker'](_0x5ee33e,'genSkyboxC'+'ubemap');const _0x15b19b=UC(_0x5ee33e,_0x505bc4||(_0x2c736c['cubemap']?_0x2c736c['width']:_0x2c736c['width']/(0x248e+0x916+0x2da*-0x10)),Se);return Qs(_0x2c736c,_0x15b19b,{'numSamples':0x400}),G['popGpuMark'+'er'](_0x5ee33e),_0x15b19b;}static['generateLi'+'ghtingSour'+'ce'](_0x439252,_0x4fa5c4){const _0x1ee222=_0x439252['device'];G['pushGpuMar'+'ker'](_0x1ee222,'genLightin'+'gSource');const _0x417903=NC(_0x1ee222),_0x507f52=(_0x4fa5c4==null?void(0x1f*0x2f+-0xfd4*0x2+0x19f7):_0x4fa5c4['target'])||new he(_0x1ee222,{'name':'lighting-s'+'ource','cubemap':!(0x241b+-0x2600+0x1*0x1e5),'width':(_0x4fa5c4==null?void(0x1b3f+0xa0f*-0x1+-0x1130):_0x4fa5c4['size'])||0x236d+0x1*0x25d+-0x254a,'height':(_0x4fa5c4==null?void(-0x13e1+-0x3*-0x64f+-0x2*-0x7a):_0x4fa5c4['size'])||-0x868+0x4fa+0x3ee,'format':_0x417903,'type':_0x417903===Se?Io:Di,'addressU':ae,'addressV':ae,'mipmaps':!(0x3a9*0x1+0x814*0x2+-0x39*0x59)});return Qs(_0x439252,_0x507f52,{'numSamples':_0x439252['mipmaps']?-0xa5e+0x2381+-0x1922:0x18ab+0x2d5*0x1+-0x8*0x2f0}),G['popGpuMark'+'er'](_0x1ee222),_0x507f52;}static['generateAt'+'las'](_0x8b2473,_0x27741d){const _0x103488=_0x8b2473['device'],_0x55f696=zC();G['pushGpuMar'+'ker'](_0x103488,'genAtlas');const _0x2868a2=(_0x27741d==null?void(-0xc32+-0x13ed+0x201f):_0x27741d['target'])||new he(_0x103488,{'name':'envAtlas','width':(_0x27741d==null?void(0x67*0x53+-0xd*-0x1eb+-0x3a54):_0x27741d['size'])||-0x1508+-0x2417*0x1+0x3b1f,'height':(_0x27741d==null?void(-0x1*-0x69d+0x19b*-0x7+-0x128*-0x4):_0x27741d['size'])||-0x1c22+0x187+-0x1c9b*-0x1,'format':_0x55f696,'type':Io,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(0x1*0x56+-0x1*-0xca7+0x6*-0x22a)});G['pushGpuMar'+'ker'](_0x103488,'mipmaps');const _0x1cbaf5=_0x2868a2['width']/(0x244f+-0x1439+-0xe16),_0x47a31e=new Q(0x1*0x56c+0x1f51*-0x1+0x19e5,-0x188f+0x336+-0x1559*-0x1,(0x1771+0x2*-0xd6f+0x56d*0x1)*_0x1cbaf5,(-0x2a*0x67+0x4f*-0x1f+0x1b77)*_0x1cbaf5),_0x4c9ef2=wd(-0x5b*-0x5f+0x12ec+0x113b*-0x3)-wd(-0x2530+0x9b0+0x1*0x1b84);for(let _0x7751cb=-0x658+0x1383+-0xd2b;_0x7751cb<_0x4c9ef2;++_0x7751cb)Qs(_0x8b2473,_0x2868a2,{'numSamples':0x1,'rect':_0x47a31e,'seamPixels':_0x1cbaf5}),_0x47a31e['x']+=_0x47a31e['w'],_0x47a31e['y']+=_0x47a31e['w'],_0x47a31e['z']=Math['max'](0xf75+0x4*0x2da+-0x1adc,Math['floor'](_0x47a31e['z']*(0x3*-0xb6+-0x5*-0xf5+0x2a7*-0x1+0.5))),_0x47a31e['w']=Math['max'](0x3*0x621+0xe23+-0xad7*0x3,Math['floor'](_0x47a31e['w']*(-0x201+-0x2059+0x1*0x225a+0.5)));G['popGpuMark'+'er'](_0x103488),G['pushGpuMar'+'ker'](_0x103488,'reflection'+'s'),_0x47a31e['set'](0x7*0x463+-0x5ae*-0x6+-0x40c9,(-0x17*0x95+-0x1145*-0x2+-0x1427)*_0x1cbaf5,(-0x16a4+-0x5d9+-0x1*-0x1d7d)*_0x1cbaf5,(0x139+0x1ff7+-0x10*0x20b)*_0x1cbaf5);for(let _0x2ca8cf=-0x2466+0x18d3+0x3dc*0x3;_0x2ca8cf<-0x8b*0x1d+-0x1a27+0x1*0x29ed;++_0x2ca8cf)Qs(_0x8b2473,_0x2868a2,{'numSamples':(_0x27741d==null?void(-0x1bcb+0x1e18+-0x24d):_0x27741d['numReflect'+'ionSamples'])||-0x1343+0x3*-0xfb+0x1a34,'distribution':(_0x27741d==null?void(-0x26e8+-0x2510+0x2ec*0x1a):_0x27741d['distributi'+'on'])||'ggx','specularPower':Math['max'](-0x92+0xa1*0x2e+-0x1c5b,-0x33f*-0x7+-0x1*0x1045+0x18c>>_0x2ca8cf*(-0x153d+-0x1616+0x2b55*0x1)),'rect':_0x47a31e,'seamPixels':_0x1cbaf5}),_0x47a31e['y']+=_0x47a31e['w'],_0x47a31e['z']=Math['max'](0x56*0xa+-0x7e9+0x48e,Math['floor'](_0x47a31e['z']*(0xab7+-0xfa0+0x4e9*0x1+0.5))),_0x47a31e['w']=Math['max'](0x1a05*-0x1+-0x2419*0x1+-0x1b*-0x24d,Math['floor'](_0x47a31e['w']*(-0x17*0x6b+0x2e7*-0x2+0xf6b*0x1+0.5)));return G['popGpuMark'+'er'](_0x103488),G['pushGpuMar'+'ker'](_0x103488,'ambient'),_0x47a31e['set']((0xcbb*0x1+-0xd84+-0x1*-0x149)*_0x1cbaf5,(-0x2*0x797+0x3*-0x107+0x13c3)*_0x1cbaf5,(-0x16de*-0x1+-0x3*-0x2bf+0x1edb*-0x1)*_0x1cbaf5,(0xac6+0x20bd*0x1+-0x1d*0x17f)*_0x1cbaf5),Qs(_0x8b2473,_0x2868a2,{'numSamples':(_0x27741d==null?void(-0x15f1+0x123*-0x1d+0x1f6*0x1c):_0x27741d['numAmbient'+'Samples'])||0x1*0xb8a+0x153b*-0x1+0x11b1,'distribution':'lambert','rect':_0x47a31e,'seamPixels':_0x1cbaf5}),G['popGpuMark'+'er'](_0x103488),G['popGpuMark'+'er'](_0x103488),_0x2868a2;}static['generatePr'+'efilteredA'+'tlas'](_0x419929,_0x5d774b){const _0x1812d9=_0x419929[-0x184d*0x1+0x62b+-0x16*-0xd3]['device'],_0x1a2ffa=_0x419929[0x1246+0xcb9+-0x1eff]['format'],_0x2a838b=_0x419929[0x21fc+-0x12e2+0xf1a*-0x1]['type'];G['pushGpuMar'+'ker'](_0x1812d9,'genPrefilt'+'eredAtlas');const _0x2560a6=(_0x5d774b==null?void(-0xb3*0x18+-0xa2a+0x1af2):_0x5d774b['target'])||new he(_0x1812d9,{'name':'envPrefilt'+'eredAtlas','width':(_0x5d774b==null?void(-0x99+0x3*-0x7+0x3*0x3a):_0x5d774b['size'])||-0x264a+-0x1e06+0x4650,'height':(_0x5d774b==null?void(-0xb5d+0x4d*-0x5d+0x2756):_0x5d774b['size'])||0x253b+-0xa51*0x2+-0xe99,'format':_0x1a2ffa,'type':_0x2a838b,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(-0x17d7*0x1+0x191*0x16+-0xa9e)});G['pushGpuMar'+'ker'](_0x1812d9,'mipmaps');const _0x2d3bcc=_0x2560a6['width']/(0xba*-0x12+-0x1e6d+0x2d81),_0x535910=new Q(-0x1*-0x1954+-0xd*-0x71+-0x1f11,-0xf16+0x2*-0x203+0x131c,(0x56a+-0x175d*-0x1+-0x1ac7)*_0x2d3bcc,(0x618+0x23a+-0x3a9*0x2)*_0x2d3bcc),_0x6aaff=wd(0x21aa+0x13*-0x49+-0x1*0x1a3f);for(let _0x490dfa=0x260e+-0x1c1d+0x5*-0x1fd;_0x490dfa<_0x6aaff;++_0x490dfa)Qs(_0x419929[0x265*-0x1+-0xb77+-0x6ee*-0x2],_0x2560a6,{'numSamples':0x1,'rect':_0x535910,'seamPixels':_0x2d3bcc}),_0x535910['x']+=_0x535910['w'],_0x535910['y']+=_0x535910['w'],_0x535910['z']=Math['max'](-0x141f+0x6b7+0xd69,Math['floor'](_0x535910['z']*(0x5b*0x2b+0x501*-0x6+0xebd*0x1+0.5))),_0x535910['w']=Math['max'](0x83b*0x1+-0x879+0x3*0x15,Math['floor'](_0x535910['w']*(-0x6d*-0x33+0x12be+-0x2875+0.5)));G['popGpuMark'+'er'](_0x1812d9),G['pushGpuMar'+'ker'](_0x1812d9,'reflection'+'s'),_0x535910['set'](0x1*-0x213f+0x9c2*-0x2+0x34c3,(-0x727+-0x5*-0x2b1+-0x54e)*_0x2d3bcc,(0x2de*0xa+-0x11c3+-0x9e9)*_0x2d3bcc,(0x250*-0x5+-0x1df9+-0x279*-0x11)*_0x2d3bcc);for(let _0x1397cb=-0x329+0x1097+-0x7*0x1eb;_0x1397cb<_0x419929['length'];++_0x1397cb)Qs(_0x419929[_0x1397cb],_0x2560a6,{'numSamples':0x1,'rect':_0x535910,'seamPixels':_0x2d3bcc}),_0x535910['y']+=_0x535910['w'],_0x535910['z']=Math['max'](0x51b*0x4+-0x2b2+-0x11b9,Math['floor'](_0x535910['z']*(0x9*0x322+0x5*0x3a4+-0x2e66+0.5))),_0x535910['w']=Math['max'](-0x10dd*-0x1+-0x28+-0x10b4,Math['floor'](_0x535910['w']*(0x1*-0x1db5+-0x1c1d+0x39d2+0.5)));return G['popGpuMark'+'er'](_0x1812d9),G['pushGpuMar'+'ker'](_0x1812d9,'ambient'),_0x535910['set']((-0x89*-0xb+0x2265+-0x27c8)*_0x2d3bcc,(0x1*-0xf91+0x754*0x4+-0xc3f)*_0x2d3bcc,(-0x13*0xe9+-0x2*0x12e0+0x374b)*_0x2d3bcc,(-0x2c*-0x3c+-0x531*0x2+0x32)*_0x2d3bcc),_0x5d774b!=null&&_0x5d774b['legacyAmbi'+'ent']?Qs(_0x419929[0xf*0x83+0x5*0xd+-0xe1*0x9],_0x2560a6,{'numSamples':0x1,'rect':_0x535910,'seamPixels':_0x2d3bcc}):Qs(_0x419929[0x21b*-0x1+0x58b*0x1+-0x370],_0x2560a6,{'numSamples':(_0x5d774b==null?void(-0x17b9*0x1+0x11bd*0x2+0xb1*-0x11):_0x5d774b['numSamples'])||0x6*0x89+-0x19a2+-0x512*-0x6,'distribution':'lambert','rect':_0x535910,'seamPixels':_0x2d3bcc}),G['popGpuMark'+'er'](_0x1812d9),G['popGpuMark'+'er'](_0x1812d9),_0x2560a6;}}const VC={'aoPS':St,'clearCoatPS':St,'clearCoatGlossPS':ad,'clearCoatNormalPS':St,'diffusePS':St,'diffuseDetailMapPS':St,'emissivePS':St,'glossPS':ad,'lightmapDirPS':wi,'lightmapSinglePS':wi,'metalnessPS':St,'normalMapPS':St,'normalDetailMapPS':St,'opacityPS':St,'parallaxPS':St,'sheenPS':St,'sheenGlossPS':ad,'specularPS':St,'specularityFactorPS':St,'thicknessPS':St,'transmissionPS':St,'normalVertexPS':wi,'startPS':wi,'ambientConstantPS':me,'ambientEnvPS':me,'ambientSHPS':me,'aoDiffuseOccPS':me,'aoSpecOccPS':me,'aoSpecOccConstPS':me,'aoSpecOccConstSimplePS':me,'aoSpecOccSimplePS':me,'clusteredLightPS':me,'clusteredLightShadowPS':me,'combinePS':me,'falloffInvSquaredPS':me,'falloffLinearPS':me,'lightDiffuseLambertPS':me,'lightSheenPS':me,'lightSpecularAnisoGGXPS':me,'lightSpecularBlinnPS':me,'ltcPS':me,'reflDirPS':me,'reflDirAnisoPS':me,'reflectionCCPS':me,'reflectionCubePS':me,'reflectionEnvPS':me,'reflectionEnvHQPS':me,'reflectionSheenPS':me,'reflectionSpherePS':me,'shadowCommonPS':me,'shadowCoordPS':me,'shadowCoordPerspZBufferPS':me,'shadowEVSMPS':me,'shadowEVSMnPS':me,'shadowStandardPS':me,'shadowStandardGL2PS':me,'spotPS':me,'TBNPS':me,'TBNObjectSpacePS':me,'TBNderivativePS':me,'endPS':hi,'metalnessModulatePS':hi,'outputAlphaPS':hi,'outputAlphaPremulPS':hi,'fresnelSchlickPS':hi,'iridescenceDiffractionPS':hi,'lightmapAddPS':hi,'lightmapDirAddPS':hi,'refractionCubePS':hm,'refractionDynamicPS':hm},GC={'ambientPrefilteredCubePS':Ui,'ambientPrefilteredCubeLodPS':Ui,'dpAtlasQuadPS':Ui,'genParaboloidPS':Ui,'prefilterCubemapPS':Ui,'reflectionDpAtlasPS':Ui,'reflectionPrefilteredCubePS':Ui,'reflectionPrefilteredCubeLodPS':Ui,'refractionPS':_r,'combineClearCoatPS':_r,'combineDiffusePS':_r,'combineDiffuseSpecularPS':_r,'combineDiffuseSpecularNoReflPS':_r,'combineDiffuseSpecularNoReflSeparateAmbientPS':_r,'combineDiffuseSpecularOldPS':_r,'lightmapSingleVertPS':wi,'normalMapFastPS':wi,'specularAaNonePS':wi,'specularAaToksvigPS':wi,'specularAaToksvigFastPS':wi,'skyboxEnvPS':cm,'skyboxHDRPS':cm,'shadowVSM8PS':bv,'fogExpPS':wn,'fogExp2PS':wn,'fogLinearPS':wn,'fogNonePS':wn,'gamma1_0PS':wn,'gamma2_2PS':wn},HC=(_0x417eba,_0x21da95)=>{const _0x4bec49=_0x417eba['split']('.')['map'](_0x284a78=>parseInt(_0x284a78,-0x8*-0x284+-0x2ad*0x1+0x1*-0x1169)),_0x54d2c7=_0x21da95['split']('.')['map'](_0x2c622d=>parseInt(_0x2c622d,0x153e+0x1*0x19ef+-0x2f23));return _0x4bec49[-0x943*0x3+0x2*-0xffb+0x3bbf]<_0x54d2c7[-0x6*0x12d+-0x73*-0x19+-0x42d]||_0x4bec49[-0xb92+0x1*-0x149e+0x8*0x406]===_0x54d2c7[-0x1ddc+0x2234+0x8*-0x8b]&&_0x4bec49[0x1*-0xbd3+0x947+-0x28d*-0x1]<_0x54d2c7[-0x3ee*-0x2+0xcd2+-0x43*0x4f];},WC=_0x4ac5b3=>{const _0x3b8899=_0x4ac5b3['APIVersion'];for(const _0x385ffd in _0x4ac5b3)if(_0x385ffd!=='APIVersion'){if(X['hasOwnProp'+'erty'](_0x385ffd)){const _0x4a000d=VC[_0x385ffd];_0x4a000d&&(!_0x3b8899||HC(_0x3b8899,_0x4a000d))&&v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x385ffd+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x4a000d+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x3b8899||'-')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}else{const _0x520df6=GC[_0x385ffd];_0x520df6?v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x385ffd+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x520df6+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.')):v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x385ffd+('\x27\x20is\x20not\x20s'+'upported.'));}}};class sr{constructor(){c(this,'code','');}['append'](..._0x686f5b){_0x686f5b['forEach'](_0x2f3345=>{_0x2f3345['endsWith']('\x0a')?this['code']+=_0x2f3345:this['code']+=_0x2f3345+'\x0a';});}['prepend'](..._0x5e027f){_0x5e027f['forEach'](_0x4124a2=>{_0x4124a2['endsWith']('\x0a')?this['code']=_0x4124a2+this['code']:this['code']=_0x4124a2+'\x0a'+this['code'];});}}const Td={'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_color':At,'vertex_boneWeights':Ys,'vertex_boneIndices':qt},h_={'vVertexColor':'vec4','vPositionW':'vec3','vNormalV':'vec3','vNormalW':'vec3','vTangentW':'vec3','vBinormalW':'vec3','vObjectSpaceUpW':'vec3','vUv0':'vec2','vUv1':'vec2','vLinearDepth':'float'};class $C{constructor(_0x14d802,_0x4970c3){if(this['device']=_0x14d802,this['options']=_0x4970c3,this['attributes']={'vertex_position':He},_0x4970c3['userAttrib'+'utes']){for(const [_0x2e5284,_0x521513]of Object['entries'](_0x4970c3['userAttrib'+'utes']))this['attributes'][_0x521513]=_0x2e5284;}if(_0x4970c3['chunks']){const _0x2f8bba=_0x4970c3['chunks'];WC(_0x2f8bba),this['chunks']=Object['create'](X);for(const _0xb8631f in X)if(_0x2f8bba['hasOwnProp'+'erty'](_0xb8631f)){const _0xcfa6b0=_0x2f8bba[_0xb8631f];for(const _0x4f2ffb in Td)Td['hasOwnProp'+'erty'](_0x4f2ffb)&&_0xcfa6b0['indexOf'](_0x4f2ffb)>=0x1*-0x177d+0x1*-0x170e+0x2e8b*0x1&&(this['attributes'][_0x4f2ffb]=Td[_0x4f2ffb]);this['chunks'][_0xb8631f]=_0xcfa6b0;}}else this['chunks']=X;this['shaderPass'+'Info']=Ks['get'](this['device'])['getByIndex'](_0x4970c3['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x4970c3['lights']['length']>-0x3b7+-0x13fe+-0x3*-0x7e7||_0x4970c3['dirLightMa'+'pEnabled']||_0x4970c3['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=!!_0x4970c3['reflection'+'Source'],this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x4970c3['useSpecula'+'r']||_0x4970c3['ambientSH']||_0x4970c3['useHeights']||_0x4970c3['enableGGXS'+'pecular']||_0x4970c3['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x4970c3['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x4970c3['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x4970c3['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x4970c3['useDynamic'+'Refraction'],this['varyings']='',this['varyingDef'+'ines']='',this['vshader']=null,this['frontendDe'+'cl']=null,this['frontendCo'+'de']=null,this['frontendFu'+'nc']=null,this['lightingUv']=null,this['defines']=[],this['fshader']=null;}['_vsAddBase'+'Code'](_0x410f92,_0x1860d0,_0x499bb1){return _0x410f92+=_0x1860d0['baseVS'],(_0x499bb1['nineSliced'+'Mode']===nt||_0x499bb1['nineSliced'+'Mode']===Qe)&&(_0x410f92+=_0x1860d0['baseNineSl'+'icedVS']),_0x410f92;}['_setMapTra'+'nsform'](_0x30e35c,_0x5b7334,_0xdf06b0,_0x54fdde){const _0x4cc888=_0xdf06b0+_0x54fdde*(-0x2514+-0x21ef+0x4767);if(!_0x30e35c[-0xe6b+-0x8db+0x7c3*0x3][_0x4cc888]){const _0x17ab79='texture_'+_0x5b7334+('MapTransfo'+'rm');_0x30e35c[-0x17e2+0x72c+-0x2e*-0x5d]+='uniform\x20ve'+'c3\x20'+_0x17ab79+'0;\x0a',_0x30e35c[-0xd38+0x23e6+0x16ae*-0x1]+='uniform\x20ve'+'c3\x20'+_0x17ab79+'1;\x0a',_0x30e35c[0x233e+-0x1*-0xad3+-0xb0*0x43]+='varying\x20ve'+'c2\x20vUV'+_0x54fdde+'_'+_0xdf06b0+';\x0a',_0x30e35c[-0x2*0xcb+0xf53+-0xdbb]+='\x20\x20\x20vUV'+_0x54fdde+'_'+_0xdf06b0+('\x20=\x20vec2(do'+'t(vec3(uv')+_0x54fdde+',\x201),\x20'+_0x17ab79+('0),\x20dot(ve'+'c3(uv')+_0x54fdde+',\x201),\x20'+_0x17ab79+'1));\x0a',_0x30e35c[0x1c20+-0x1295*0x1+-0x988][_0x4cc888]=!(-0x1*0x116e+-0xcd3+0x1*0x1e41);}return _0x30e35c;}['_fsGetBase'+'Code'](){const _0x5b7c5f=this['options'],_0x1f0403=this['chunks'];let _0x3c1676=this['chunks']['basePS'];return _0x5b7c5f['nineSliced'+'Mode']===nt?_0x3c1676+=_0x1f0403['baseNineSl'+'icedPS']:_0x5b7c5f['nineSliced'+'Mode']===Qe&&(_0x3c1676+=_0x1f0403['baseNineSl'+'icedTiledP'+'S']),_0x3c1676;}['_fsGetStar'+'tCode'](_0x10f126,_0x55e537,_0x58ea4b,_0x57229a){let _0x4489d6=_0x58ea4b['startPS'];return _0x57229a['nineSliced'+'Mode']===nt?_0x4489d6+=_0x58ea4b['startNineS'+'licedPS']:_0x57229a['nineSliced'+'Mode']===Qe&&(_0x4489d6+=_0x58ea4b['startNineS'+'licedTiled'+'PS']),_0x4489d6;}['_getLightS'+'ourceShape'+'String'](_0x278ff9){switch(_0x278ff9){case Gb:return'Rect';case Hb:return'Disk';case Wb:return'Sphere';default:return'';}}['generateVe'+'rtexShader'](_0x302302,_0x3282fc,_0x13004d){const _0x40b138=this['device'],_0x37f46b=this['options'],_0x29a6c1=this['chunks'];let _0x2fa968='',_0x2f842a='',_0xcbbeb4='';_0x2fa968=this['_vsAddBase'+'Code'](_0x2fa968,_0x29a6c1,_0x37f46b),_0x2f842a+='\x20\x20\x20vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a',this['options']['linearDept'+'h']&&(_0xcbbeb4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_view;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x2f842a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'linear\x20dep'+'th\x20from\x20th'+'e\x20worldPos'+'ition,\x20see'+'\x20getLinear'+'Depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vLinearD'+'epth\x20=\x20-(m'+'atrix_view'+'\x20*\x20vec4(vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),this['options']['useInstanc'+'ing']&&this['chunks']['transformI'+'nstancingV'+'S']===X['transformI'+'nstancingV'+'S']&&(this['attributes']['instance_l'+'ine1']=rp,this['attributes']['instance_l'+'ine2']=ga,this['attributes']['instance_l'+'ine3']=np,this['attributes']['instance_l'+'ine4']=ya),_0x2fa968+=_0x29a6c1['transformV'+'S'],this['needsNorma'+'l']&&(_0x2fa968+=_0x29a6c1['normalCore'+'VS'],_0x2fa968+=_0x29a6c1['normalVS']),this['needsNorma'+'l']&&(this['attributes']['vertex_nor'+'mal']=Yt,_0x2f842a+='\x20\x20\x20vNormal'+'W\x20=\x20getNor'+'mal();\x0a',_0x37f46b['reflection'+'Source']==='sphereMap'&&_0x40b138['fragmentUn'+'iformsCoun'+'t']<=-0x8c7+0x6*0xda+0x3bb&&(_0x2fa968+=_0x29a6c1['viewNormal'+'VS'],_0x2f842a+='\x20\x20\x20vNormal'+'V\x20\x20\x20\x20=\x20get'+'ViewNormal'+'();\x0a'),_0x37f46b['hasTangent'+'s']&&(_0x37f46b['useHeights']||_0x37f46b['useNormals']||_0x37f46b['enableGGXS'+'pecular'])?(this['attributes']['vertex_tan'+'gent']=Zs,_0x2fa968+=_0x29a6c1['tangentBin'+'ormalVS'],_0x2f842a+='\x20\x20\x20vTangen'+'tW\x20\x20\x20=\x20get'+'Tangent();'+'\x0a',_0x2f842a+='\x20\x20\x20vBinorm'+'alW\x20\x20=\x20get'+'Binormal()'+';\x0a'):_0x37f46b['enableGGXS'+'pecular']&&(_0x2f842a+='\x20\x20\x20vObject'+'SpaceUpW\x20='+'\x20normalize'+'(dNormalMa'+'trix\x20*\x20vec'+'3(0,\x201,\x200)'+');\x0a'));const _0x229507=0x246*-0x3+0x50a+0x1ca;for(let _0xe27c04=0x36b+-0xdc+-0x28f;_0xe27c04<_0x229507;_0xe27c04++)_0x302302[_0xe27c04]&&(this['attributes']['vertex_tex'+'Coord'+_0xe27c04]='TEXCOORD'+_0xe27c04,_0x2fa968+=_0x29a6c1['uv'+_0xe27c04+'VS'],_0x2f842a+='\x20\x20\x20vec2\x20uv'+_0xe27c04+'\x20=\x20getUv'+_0xe27c04+'();\x0a'),_0x3282fc[_0xe27c04]&&(_0x2f842a+='\x20\x20\x20vUv'+_0xe27c04+'\x20=\x20uv'+_0xe27c04+';\x0a');const _0x1c11f1=[_0x2fa968,this['varyings'],_0x2f842a,[]];_0x13004d['forEach'](_0x4cbb9a=>{this['_setMapTra'+'nsform'](_0x1c11f1,_0x4cbb9a['name'],_0x4cbb9a['id'],_0x4cbb9a['uv']);}),_0x2fa968=_0x1c11f1[-0xc70*0x2+-0x6e9+0x1fc9],this['varyings']=_0x1c11f1[-0xc93+-0x217b*0x1+-0x1*-0x2e0f],_0x2f842a=_0x1c11f1[0x12d5+-0x1*0x114b+0xc4*-0x2],_0x37f46b['vertexColo'+'rs']&&(this['attributes']['vertex_col'+'or']=At,_0x2f842a+='\x20\x20\x20vVertex'+'Color\x20=\x20ve'+'rtex_color'+';\x0a'),_0x37f46b['useMsdf']&&_0x37f46b['msdfTextAt'+'tribute']&&(this['attributes']['vertex_out'+'lineParame'+'ters']=Po,this['attributes']['vertex_sha'+'dowParamet'+'ers']=Ro,_0x2f842a+='\x20\x20\x20\x20unpack'+'MsdfParams'+'();\x0a',_0x2fa968+=_0x29a6c1['msdfVS']),(_0x37f46b['useMorphPo'+'sition']||_0x37f46b['useMorphNo'+'rmal'])&&(_0xcbbeb4+='#define\x20MO'+'RPHING\x0a',_0x37f46b['useMorphTe'+'xtureBased'+'Int']&&(_0xcbbeb4+='#define\x20MO'+'RPHING_INT'+'\x0a'),_0x37f46b['useMorphPo'+'sition']&&(_0xcbbeb4+='#define\x20MO'+'RPHING_POS'+'ITION\x0a'),_0x37f46b['useMorphNo'+'rmal']&&(_0xcbbeb4+='#define\x20MO'+'RPHING_NOR'+'MAL\x0a'),this['attributes']['morph_vert'+'ex_id']=ya),_0x37f46b['skin']?(this['attributes']['vertex_bon'+'eIndices']=qt,_0x37f46b['batch']?_0xcbbeb4+='#define\x20BA'+'TCH\x0a':(this['attributes']['vertex_bon'+'eWeights']=Ys,_0xcbbeb4+='#define\x20SK'+'IN\x0a')):_0x37f46b['useInstanc'+'ing']&&(_0xcbbeb4+='#define\x20IN'+'STANCING\x0a'),_0x37f46b['screenSpac'+'e']&&(_0xcbbeb4+='#define\x20SC'+'REENSPACE\x0a'),_0x37f46b['pixelSnap']&&(_0xcbbeb4+='#define\x20PI'+'XELSNAP\x0a'),_0x2fa968+='\x0a',_0x2fa968+=_0x29a6c1['startVS'],_0x2fa968+=_0x2f842a,_0x2fa968+=_0x29a6c1['endVS'],_0x2fa968+='}',Object['keys'](h_)['forEach'](_0x27694e=>{_0x2fa968['indexOf'](_0x27694e)>=0x1e6f+-0x45*-0x9+-0x6*0x57a&&(this['varyings']+='varying\x20'+h_[_0x27694e]+'\x20'+_0x27694e+';\x0a',this['varyingDef'+'ines']+='#define\x20VA'+'RYING_'+_0x27694e['toUpperCas'+'e']()+'\x0a');}),this['vshader']=_0xcbbeb4+this['varyings']+_0x2fa968;}['_fsGetBegi'+'nCode'](){let _0x42cfc7='';for(let _0x3ca6ce=-0x203f*-0x1+-0x2*-0x791+-0xfcb*0x3;_0x3ca6ce<this['defines']['length'];_0x3ca6ce++)_0x42cfc7+='#define\x20'+this['defines'][_0x3ca6ce]+'\x0a';return _0x42cfc7;}['_fsGetPick'+'PassCode'](){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+this['_fsGetBegi'+'nCode']()+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyings']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyingDef'+'ines']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendDe'+'cl']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['chunks']['pickPS']+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')+this['frontendFu'+'nc']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20getPickO'+'utput();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20');}['_fsGetDept'+'hPassCode'](){let _0x2ac266=this['_fsGetBegi'+'nCode']();return _0x2ac266+=this['varyings'],_0x2ac266+=this['varyingDef'+'ines'],_0x2ac266+=this['frontendDe'+'cl'],_0x2ac266+=this['frontendCo'+'de'],_0x2ac266+=It['begin'](),_0x2ac266+=this['frontendFu'+'nc'],_0x2ac266+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0,\x201'+'.0,\x201.0,\x201'+'.0);\x0a',_0x2ac266+=It['end'](),_0x2ac266;}['_fsGetPreP'+'assCode'](){let _0x1477bf=this['_fsGetBegi'+'nCode']();return _0x1477bf+=this['varyings'],_0x1477bf+=this['varyingDef'+'ines'],_0x1477bf+=this['chunks']['floatAsUin'+'tPS'],_0x1477bf+=this['frontendDe'+'cl'],_0x1477bf+=this['frontendCo'+'de'],_0x1477bf+=It['begin'](),_0x1477bf+=this['frontendFu'+'nc'],_0x1477bf+=this['device']['textureFlo'+'atRenderab'+'le']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(vLinear'+'Depth,\x201.0'+',\x201.0,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2uint(v'+'LinearDept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x1477bf+=It['end'](),_0x1477bf;}['_fsGetShad'+'owPassCode'](){const _0x4219b0=this['options'],_0x13cb51=this['chunks'],_0x2198da=this['varyings'],_0x18ac99=this['shaderPass'+'Info']['lightType'];let _0x5ccce7=this['shaderPass'+'Info']['shadowType'];_0x18ac99!==oe&&_0x4219b0['clusteredL'+'ightingEna'+'bled']&&(_0x5ccce7===Hr||_0x5ccce7===Wr||_0x5ccce7===Ts)&&(_0x5ccce7=Dt);const _0x24a36e=ir['get'](_0x5ccce7);v['assert'](_0x24a36e);const _0x165347=(_0x24a36e==null?void(0x33b+-0x1*0x1079+-0x3*-0x46a):_0x24a36e['vsm'])??!(0x26a6+0x25d7+-0x4c7c),_0x2aa72a=(_0x24a36e==null?void(-0x1*-0x2091+0x2357+-0x1a8*0x29):_0x24a36e['pcss'])??!(0x7*-0x278+0x540+0xd*0xed);let _0x3963fd=this['_fsGetBegi'+'nCode']();_0x5ccce7===Wr?_0x3963fd+='#define\x20VS'+'M_EXPONENT'+'\x2015.0\x0a\x0a':_0x5ccce7===Hr&&(_0x3963fd+='#define\x20VS'+'M_EXPONENT'+'\x205.54\x0a\x0a'),_0x18ac99!==oe&&(_0x3963fd+='uniform\x20ve'+'c3\x20view_po'+'sition;\x0a',_0x3963fd+='uniform\x20fl'+'oat\x20light_'+'radius;\x0a'),_0x3963fd+=_0x2198da,_0x3963fd+=this['varyingDef'+'ines'],_0x3963fd+=this['frontendDe'+'cl'],_0x3963fd+=this['frontendCo'+'de'],_0x5ccce7===Ts&&(_0x3963fd+=X['linearizeD'+'epthPS']),_0x3963fd+=It['begin'](),_0x3963fd+=this['frontendFu'+'nc'];const _0x204691=_0x18ac99===oe||!_0x165347&&_0x18ac99===Re;let _0x67e9e1=!(0x78*0x4b+-0xa4f+-0xa*0x27c);return _0x204691?(_0x3963fd+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20gl'+'_FragCoord'+'.z;\x0a',_0x2aa72a&&_0x18ac99!==oe&&(_0x3963fd+='\x20\x20\x20\x20depth\x20'+'=\x20lineariz'+'eDepth(dep'+'th,\x20camera'+'_params);\x0a')):(_0x3963fd+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20mi'+'n(distance'+'(view_posi'+'tion,\x20vPos'+'itionW)\x20/\x20'+'light_radi'+'us,\x200.9999'+'9);\x0a',_0x67e9e1=!(-0x1efd+0x260f+-0x2*0x389)),_0x165347?_0x3963fd+=_0x13cb51['storeEVSMP'+'S']:_0x2aa72a?_0x3963fd+='\x20\x20\x20\x20gl_Fra'+'gColor.r\x20='+'\x20depth;\x0a':(_0x67e9e1&&(_0x3963fd+='\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a'),_0x3963fd+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0);\x0a'),_0x3963fd+=It['end'](),_0x3963fd;}['_fsGetLitP'+'assCode'](){var _0x12ff01;const _0x956b87=this['device'],_0x31d8f3=this['options'],_0x524d13=this['chunks'],_0x1ae396=new sr(),_0x186b81=new sr(),_0x3a4df5=new sr(),_0x298d1d=new sr();_0x31d8f3['opacityFad'+'esSpecular']===!(0x2689+-0x11f7+-0x195*0xd)&&_0x1ae396['append']('uniform\x20fl'+'oat\x20materi'+'al_alphaFa'+'de;'),_0x31d8f3['useSpecula'+'r']&&(this['defines']['push']('LIT_SPECUL'+'AR'),this['reflection'+'s']&&this['defines']['push']('LIT_REFLEC'+'TIONS'),_0x31d8f3['useClearCo'+'at']&&this['defines']['push']('LIT_CLEARC'+'OAT'),_0x31d8f3['fresnelMod'+'el']>0xdf8+-0x61*0x61+0x16c9&&this['defines']['push']('LIT_SPECUL'+'AR_FRESNEL'),_0x31d8f3['useSheen']&&this['defines']['push']('LIT_SHEEN'),_0x31d8f3['useIridesc'+'ence']&&this['defines']['push']('LIT_IRIDES'+'CENCE'));const _0x1df882=[];let _0x4f2870=0x22c9+-0x201b+-0x7*0x62,_0x10eab9=!(-0x57a+0x1eb7+-0x193c),_0x2ce754=!(-0x20cd+-0x3*-0x4a7+0x12d9),_0x2bae67=!(-0xf34+-0x40d*-0x6+-0x919),_0xccaf1c=_0x31d8f3['lights']['some'](_0x25b121=>_0x25b121['_shape']&&_0x25b121['_shape']!==yt);_0x31d8f3['clusteredL'+'ightingEna'+'bled']&&_0x31d8f3['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&(_0xccaf1c=!(-0x1ca5+0x243d*-0x1+-0xb*-0x5e6)),(_0xccaf1c||_0x31d8f3['clusteredL'+'ightingEna'+'bled'])&&(_0x1ae396['append']('#define\x20AR'+'EA_LIGHTS'),_0x1ae396['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;'),_0x1ae396['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'2;'));for(let _0x55cbd1=0x1d27+-0x9*-0x427+-0xd4e*0x5;_0x55cbd1<_0x31d8f3['lights']['length'];_0x55cbd1++){const _0xf927f7=_0x31d8f3['lights'][_0x55cbd1],_0x53cf45=_0xf927f7['_type'];if(_0x31d8f3['clusteredL'+'ightingEna'+'bled']&&_0x53cf45!==oe)continue;const _0x20be19=_0xccaf1c&&_0xf927f7['_shape']?_0xf927f7['_shape']:yt;_0x1ae396['append']('uniform\x20ve'+'c3\x20light'+_0x55cbd1+'_color;'),_0xf927f7['_shadowTyp'+'e']===Ts&&_0xf927f7['castShadow'+'s']&&!_0x31d8f3['noShadow']&&(_0x1ae396['append']('uniform\x20fl'+'oat\x20light'+_0x55cbd1+('_shadowSea'+'rchArea;')),_0x1ae396['append']('uniform\x20ve'+'c4\x20light'+_0x55cbd1+('_cameraPar'+'ams;')),_0x53cf45===oe&&_0x1ae396['append']('uniform\x20ve'+'c4\x20light'+_0x55cbd1+('_softShado'+'wParams;'))),_0x53cf45===oe?_0x1ae396['append']('uniform\x20ve'+'c3\x20light'+_0x55cbd1+('_direction'+';')):(_0x1ae396['append']('uniform\x20ve'+'c3\x20light'+_0x55cbd1+'_position;'),_0x1ae396['append']('uniform\x20fl'+'oat\x20light'+_0x55cbd1+'_radius;'),_0x53cf45===Re&&(_0x1ae396['append']('uniform\x20ve'+'c3\x20light'+_0x55cbd1+('_direction'+';')),_0x1ae396['append']('uniform\x20fl'+'oat\x20light'+_0x55cbd1+('_innerCone'+'Angle;')),_0x1ae396['append']('uniform\x20fl'+'oat\x20light'+_0x55cbd1+('_outerCone'+'Angle;')))),_0x20be19!==yt&&(_0x53cf45===oe&&_0x1ae396['append']('uniform\x20ve'+'c3\x20light'+_0x55cbd1+'_position;'),_0x1ae396['append']('uniform\x20ve'+'c3\x20light'+_0x55cbd1+('_halfWidth'+';')),_0x1ae396['append']('uniform\x20ve'+'c3\x20light'+_0x55cbd1+('_halfHeigh'+'t;'))),_0xf927f7['castShadow'+'s']&&!_0x31d8f3['noShadow']&&(_0x1ae396['append']('uniform\x20ma'+'t4\x20light'+_0x55cbd1+('_shadowMat'+'rix;')),_0x1ae396['append']('uniform\x20fl'+'oat\x20light'+_0x55cbd1+('_shadowInt'+'ensity;')),_0x53cf45===oe&&(_0x1ae396['append']('uniform\x20ma'+'t4\x20light'+_0x55cbd1+('_shadowMat'+'rixPalette'+'[4];')),_0x1ae396['append']('uniform\x20ve'+'c4\x20light'+_0x55cbd1+('_shadowCas'+'cadeDistan'+'ces;')),_0x1ae396['append']('uniform\x20in'+'t\x20light'+_0x55cbd1+('_shadowCas'+'cadeCount;')),_0x1ae396['append']('uniform\x20fl'+'oat\x20light'+_0x55cbd1+('_shadowCas'+'cadeBlend;'))),_0x1ae396['append']('uniform\x20ve'+'c4\x20light'+_0x55cbd1+('_shadowPar'+'ams;')),_0x53cf45===oe&&(_0x10eab9=!(-0x1*-0x1ee8+0x1b29+0x135b*-0x3)),_0x53cf45===Pe?_0x1ae396['append']('uniform\x20'+(_0xf927f7['_isPcf']?'samplerCub'+'eShadow':'samplerCub'+'e')+'\x20light'+_0x55cbd1+('_shadowMap'+';')):_0x1ae396['append']('uniform\x20'+(_0xf927f7['_isPcf']?'sampler2DS'+'hadow':'sampler2D')+'\x20light'+_0x55cbd1+('_shadowMap'+';')),_0x4f2870++,_0x1df882[_0xf927f7['_shadowTyp'+'e']]=!(0x1f34+0x1165+-0x3099*0x1),_0xf927f7['_isVsm']&&(_0x2ce754=!(-0x1f63+-0x10a8+0x31*0xfb)),_0xf927f7['_shadowTyp'+'e']===Ts&&(_0x2bae67=!(0x204+0x127c+-0x1480))),_0xf927f7['_cookie']&&(_0xf927f7['_cookie']['_cubemap']?_0x53cf45===Pe&&(_0x1ae396['append']('uniform\x20sa'+'mplerCube\x20'+'light'+_0x55cbd1+'_cookie;'),_0x1ae396['append']('uniform\x20fl'+'oat\x20light'+_0x55cbd1+('_cookieInt'+'ensity;')),(!_0xf927f7['castShadow'+'s']||_0x31d8f3['noShadow'])&&_0x1ae396['append']('uniform\x20ma'+'t4\x20light'+_0x55cbd1+('_shadowMat'+'rix;'))):_0x53cf45===Re&&(_0x1ae396['append']('uniform\x20sa'+'mpler2D\x20li'+'ght'+_0x55cbd1+'_cookie;'),_0x1ae396['append']('uniform\x20fl'+'oat\x20light'+_0x55cbd1+('_cookieInt'+'ensity;')),(!_0xf927f7['castShadow'+'s']||_0x31d8f3['noShadow'])&&_0x1ae396['append']('uniform\x20ma'+'t4\x20light'+_0x55cbd1+('_shadowMat'+'rix;')),_0xf927f7['_cookieTra'+'nsform']&&(_0x1ae396['append']('uniform\x20ve'+'c4\x20light'+_0x55cbd1+('_cookieMat'+'rix;')),_0x1ae396['append']('uniform\x20ve'+'c2\x20light'+_0x55cbd1+('_cookieOff'+'set;')))));}const _0x1edc2f=this['needsNorma'+'l']&&(_0x31d8f3['useNormals']||_0x31d8f3['useClearCo'+'atNormals']||_0x31d8f3['enableGGXS'+'pecular']&&!_0x31d8f3['useHeights']);if(_0x1edc2f&&(_0x31d8f3['hasTangent'+'s']?_0x186b81['append'](_0x524d13['TBNPS']):_0x31d8f3['useNormals']||_0x31d8f3['useClearCo'+'atNormals']?_0x186b81['append'](_0x524d13['TBNderivat'+'ivePS']['replace'](/\$UV/g,this['lightingUv'])):_0x186b81['append'](_0x524d13['TBNObjectS'+'pacePS']),_0x31d8f3['twoSidedLi'+'ghting']&&_0x186b81['append'](_0x524d13['twoSidedLi'+'ghtingPS'])),_0x186b81['append'](_0x524d13['sphericalP'+'S']),_0x186b81['append'](_0x524d13['decodePS']),_0x186b81['append'](_0x524d13['gammaPS']),_0x186b81['append'](_0x524d13['tonemappin'+'gPS']),_0x186b81['append'](_0x524d13['fogPS']),_0x186b81['append'](this['frontendCo'+'de']),_0x31d8f3['useCubeMap'+'Rotation']&&_0x1ae396['append']('#define\x20CU'+'BEMAP_ROTA'+'TION'),this['needsNorma'+'l']&&(_0x186b81['append'](_0x524d13['cubeMapRot'+'atePS']),_0x186b81['append'](_0x31d8f3['cubeMapPro'+'jection']>0x4*0x2e+-0x1071+0x7*0x23f?_0x524d13['cubeMapPro'+'jectBoxPS']:_0x524d13['cubeMapPro'+'jectNonePS']),_0x186b81['append'](_0x31d8f3['skyboxInte'+'nsity']?_0x524d13['envMultipl'+'yPS']:_0x524d13['envConstPS'])),(this['lighting']&&_0x31d8f3['useSpecula'+'r']||this['reflection'+'s'])&&(_0x31d8f3['useMetalne'+'ss']&&_0x186b81['append'](_0x524d13['metalnessM'+'odulatePS']),_0x31d8f3['fresnelMod'+'el']===Sp&&_0x186b81['append'](_0x524d13['fresnelSch'+'lickPS']),_0x31d8f3['useIridesc'+'ence']&&_0x186b81['append'](_0x524d13['iridescenc'+'eDiffracti'+'onPS'])),_0x31d8f3['useAo'])switch(_0x186b81['append'](_0x524d13['aoDiffuseO'+'ccPS']),_0x31d8f3['occludeSpe'+'cular']){case Bo:_0x186b81['append'](_0x31d8f3['occludeSpe'+'cularFloat']?_0x524d13['aoSpecOccS'+'implePS']:_0x524d13['aoSpecOccC'+'onstSimple'+'PS']);break;case Lu:_0x186b81['append'](_0x31d8f3['occludeSpe'+'cularFloat']?_0x524d13['aoSpecOccP'+'S']:_0x524d13['aoSpecOccC'+'onstPS']);break;}_0x31d8f3['reflection'+'Source']==='envAtlasHQ'?(_0x186b81['append'](_0x524d13['envAtlasPS']),_0x186b81['append'](_0x524d13['reflection'+'EnvHQPS']['replace'](/\$DECODE_CUBEMAP/g,Es['decodeFunc'](_0x31d8f3['reflection'+'CubemapEnc'+'oding']))['replace'](/\$DECODE/g,Es['decodeFunc'](_0x31d8f3['reflection'+'Encoding'])))):_0x31d8f3['reflection'+'Source']==='envAtlas'?(_0x186b81['append'](_0x524d13['envAtlasPS']),_0x186b81['append'](_0x524d13['reflection'+'EnvPS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x31d8f3['reflection'+'Encoding'])))):_0x31d8f3['reflection'+'Source']==='cubeMap'?_0x186b81['append'](_0x524d13['reflection'+'CubePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x31d8f3['reflection'+'Encoding']))):_0x31d8f3['reflection'+'Source']==='sphereMap'&&_0x186b81['append'](_0x524d13['reflection'+'SpherePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x31d8f3['reflection'+'Encoding']))),this['reflection'+'s']&&(_0x31d8f3['useClearCo'+'at']&&_0x186b81['append'](_0x524d13['reflection'+'CCPS']),_0x31d8f3['useSheen']&&_0x186b81['append'](_0x524d13['reflection'+'SheenPS'])),_0x31d8f3['useRefract'+'ion']&&(_0x31d8f3['useDynamic'+'Refraction']?(_0x31d8f3['dispersion']&&(_0x1ae396['append']('uniform\x20fl'+'oat\x20materi'+'al_dispers'+'ion;'),_0x1ae396['append']('#define\x20DI'+'SPERSION\x0a')),_0x186b81['append'](_0x524d13['refraction'+'DynamicPS'])):this['reflection'+'s']&&_0x186b81['append'](_0x524d13['refraction'+'CubePS'])),_0x31d8f3['useSheen']&&_0x186b81['append'](_0x524d13['lightSheen'+'PS']),_0x31d8f3['clusteredL'+'ightingEna'+'bled']&&(_0x186b81['append'](_0x524d13['clusteredL'+'ightUtilsP'+'S']),_0x31d8f3['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x186b81['append'](_0x524d13['clusteredL'+'ightCookie'+'sPS']),_0x31d8f3['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x31d8f3['noShadow']&&(_0x1df882[Dt]=!(0x8a3+0xdf7*0x1+-0x169a),_0x1df882[lh]=!(0x1d34+0x74a*0x3+0x1*-0x3312),_0x1df882[Ts]=!(0x1389*0x1+-0x2360+-0x1*-0xfd7))),(_0x4f2870>0x1a5*-0x2+-0x166*0x5+-0x5e*-0x1c||_0x31d8f3['clusteredL'+'ightingEna'+'bled'])&&(_0x10eab9&&_0x186b81['append'](_0x524d13['shadowCasc'+'adesPS']),(_0x1df882[Bh]||_0x1df882[Dt]||_0x1df882[Nh]||_0x1df882[zh])&&_0x186b81['append'](_0x524d13['shadowStan'+'dardPS']),(_0x1df882[lh]||_0x1df882[Iu])&&_0x186b81['append'](_0x524d13['shadowStan'+'dardGL2PS']),_0x2ce754&&(_0x186b81['append'](_0x524d13['shadowVSM_'+'commonPS']),_0x1df882[Hr]&&_0x186b81['append'](_0x524d13['shadowEVSM'+'PS']['replace'](/\$/g,'16')),_0x1df882[Wr]&&_0x186b81['append'](_0x956b87['extTexture'+'FloatLinea'+'r']?_0x524d13['shadowEVSM'+'PS']['replace'](/\$/g,'32'):_0x524d13['shadowEVSM'+'nPS']['replace'](/\$/g,'32'))),_0x2bae67&&(_0x186b81['append'](_0x524d13['linearizeD'+'epthPS']),_0x186b81['append'](_0x524d13['shadowPCSS'+'PS']),_0x186b81['append'](_0x524d13['shadowSoft'+'PS']))),_0x31d8f3['enableGGXS'+'pecular']&&_0x186b81['append']('uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opy;'),this['lighting']&&(_0x186b81['append'](_0x524d13['lightDiffu'+'seLambertP'+'S']),(_0xccaf1c||_0x31d8f3['clusteredL'+'ightingAre'+'aLightsEna'+'bled'])&&_0x186b81['append'](_0x524d13['ltcPS']));let _0x34d9c6=!(-0xf4d+0x259b*-0x1+-0xa95*-0x5);_0x31d8f3['useSpecula'+'r']&&(this['lighting']&&_0x186b81['append'](_0x31d8f3['enableGGXS'+'pecular']?_0x524d13['lightSpecu'+'larAnisoGG'+'XPS']:_0x524d13['lightSpecu'+'larBlinnPS']),!_0x31d8f3['fresnelMod'+'el']&&!this['reflection'+'s']&&!_0x31d8f3['diffuseMap'+'Enabled']&&(_0x1ae396['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x1ae396['append']('#define\x20LI'+'T_OLD_AMBI'+'ENT'),_0x34d9c6=!(-0x95*-0x13+-0xbc+-0xa53))),_0x186b81['append'](_0x524d13['combinePS']),_0x31d8f3['lightMapEn'+'abled']&&_0x186b81['append'](_0x31d8f3['useSpecula'+'r']&&_0x31d8f3['dirLightMa'+'pEnabled']?_0x524d13['lightmapDi'+'rAddPS']:_0x524d13['lightmapAd'+'dPS']);const _0x3b5687=!_0x31d8f3['lightMapEn'+'abled']||_0x31d8f3['lightMapWi'+'thoutAmbie'+'nt'];_0x3b5687&&(_0x31d8f3['ambientSou'+'rce']==='ambientSH'?_0x186b81['append'](_0x524d13['ambientSHP'+'S']):_0x31d8f3['ambientSou'+'rce']==='envAtlas'?(_0x31d8f3['reflection'+'Source']!=='envAtlas'&&_0x31d8f3['reflection'+'Source']!=='envAtlasHQ'&&_0x186b81['append'](_0x524d13['envAtlasPS']),_0x186b81['append'](_0x524d13['ambientEnv'+'PS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x31d8f3['ambientEnc'+'oding'])))):_0x186b81['append'](_0x524d13['ambientCon'+'stantPS'])),_0x34d9c6||_0x1ae396['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x31d8f3['useMsdf']&&(_0x31d8f3['msdfTextAt'+'tribute']||_0x1ae396['append']('#define\x20UN'+'IFORM_TEXT'+'_PARAMETER'+'S'),_0x186b81['append'](_0x524d13['msdfPS'])),this['needsNorma'+'l']&&(_0x186b81['append'](_0x524d13['viewDirPS']),_0x31d8f3['useSpecula'+'r']&&_0x186b81['append'](_0x31d8f3['enableGGXS'+'pecular']?_0x524d13['reflDirAni'+'soPS']:_0x524d13['reflDirPS']));let _0x5c7585=!(0x1d*-0x35+0x1c87+0x1*-0x1685),_0x2d4957=!(-0x12fc+-0x90b+-0x228*-0xd),_0x5d752f=!(0xc0c+-0x1fa4*-0x1+0xd3*-0x35),_0xd457e5=!(0x181c+0x1*-0x13df+-0x43c),_0x8c9fc1=!(-0x229a+0x42b*-0x3+0x2f1c),_0x28a9b2;if(_0x31d8f3['clusteredL'+'ightingEna'+'bled']&&this['lighting']){if(_0xd457e5=!(-0x11af+0x1d90+-0xbe1),_0x5c7585=!(0x11*0x20+0x23b7+-0x25d7),_0x2d4957=!(-0x1d5f+0x589*-0x3+-0x2dfa*-0x1),_0x8c9fc1=!(-0x38*0x6f+0x2225+0x19*-0x65),_0x186b81['append'](_0x524d13['floatUnpac'+'kingPS']),_0x31d8f3['lightMaskD'+'ynamic']&&_0x1ae396['append']('#define\x20CL'+'USTER_MESH'+'_DYNAMIC_L'+'IGHTS'),_0x31d8f3['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x1ae396['append']('#define\x20CL'+'USTER_COOK'+'IES'),_0x31d8f3['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x31d8f3['noShadow']){const _0xe0258=(_0x12ff01=ir['get'](_0x31d8f3['clusteredL'+'ightingSha'+'dowType']))==null?void(0x323+-0x1e17+0xf*0x1cc):_0x12ff01['name'];v['assert'](_0xe0258);const _0x20f37b=_0xe0258['substring'](0x1b*-0x51+0x2*0x65f+-0x19*0x2b,-0x60d+-0x227e+0x288f);_0x1ae396['append']('#define\x20CL'+'USTER_SHAD'+'OWS'),_0x1ae396['append']('#define\x20CL'+'USTER_SHAD'+'OW_TYPE_'+_0x20f37b);}_0x31d8f3['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x1ae396['append']('#define\x20CL'+'USTER_AREA'+'LIGHTS'),_0x1ae396['append'](E0['getShaderD'+'efines']()),_0x31d8f3['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x31d8f3['noShadow']&&_0x186b81['append'](_0x524d13['clusteredL'+'ightShadow'+'sPS']),_0x186b81['append'](_0x524d13['clusteredL'+'ightPS']);}if(_0x298d1d['append'](this['_fsGetStar'+'tCode'](_0x298d1d,_0x956b87,_0x524d13,_0x31d8f3)),this['needsNorma'+'l']&&(_0x298d1d['append']('\x20\x20\x20\x20dVerte'+'xNormalW\x20='+'\x20normalize'+'(vNormalW)'+';'),(_0x31d8f3['useHeights']||_0x31d8f3['useNormals'])&&_0x31d8f3['hasTangent'+'s']&&(_0x298d1d['append']('\x20\x20\x20\x20dTange'+'ntW\x20=\x20vTan'+'gentW;'),_0x298d1d['append']('\x20\x20\x20\x20dBinor'+'malW\x20=\x20vBi'+'normalW;')),_0x298d1d['append']('\x20\x20\x20\x20getVie'+'wDir();'),_0x1edc2f&&(_0x298d1d['append']('\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'),_0x31d8f3['twoSidedLi'+'ghting']&&_0x298d1d['append']('\x20\x20\x20\x20handle'+'TwoSidedLi'+'ghting();'))),_0x298d1d['append'](this['frontendFu'+'nc']),_0x31d8f3['ssao']&&(_0x186b81['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec2\x20ssaoT'+'extureSize'+'Inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),_0x3a4df5['append']('litArgs_ao'+'\x20*=\x20textur'+'e2DLod(ssa'+'oTexture,\x20'+'gl_FragCoo'+'rd.xy\x20*\x20ss'+'aoTextureS'+'izeInv,\x200.'+'0).r;')),this['needsNorma'+'l']&&(_0x31d8f3['useSpecula'+'r']&&_0x3a4df5['append']('\x20\x20\x20\x20getRef'+'lDir(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_gloss'+',\x20dTBN);'),_0x31d8f3['useClearCo'+'at']&&_0x3a4df5['append']('\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));')),(this['lighting']&&_0x31d8f3['useSpecula'+'r']||this['reflection'+'s'])&&(_0x31d8f3['useMetalne'+'ss']&&(_0x3a4df5['append']('\x20\x20\x20\x20float\x20'+'f0\x20=\x201.0\x20/'+'\x20litArgs_i'+'or;\x20f0\x20=\x20('+'f0\x20-\x201.0)\x20'+'/\x20(f0\x20+\x201.'+'0);\x20f0\x20*=\x20'+'f0;'),_0x3a4df5['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20getS'+'pecularMod'+'ulate(litA'+'rgs_specul'+'arity,\x20lit'+'Args_albed'+'o,\x20litArgs'+'_metalness'+',\x20f0);'),_0x3a4df5['append']('\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);')),_0x31d8f3['useIridesc'+'ence']&&_0x3a4df5['append']('\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+'ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);')),_0x3b5687&&(_0x3a4df5['append']('\x20\x20\x20\x20addAmb'+'ient(litAr'+'gs_worldNo'+'rmal);'),_0x31d8f3['useSpecula'+'r']&&_0x3a4df5['append']('\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);'),_0x31d8f3['separateAm'+'bient']&&_0x3a4df5['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dAmb'+'ientLight\x20'+'=\x20dDiffuse'+'Light;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20vec3(0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')),_0x34d9c6||_0x3a4df5['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20material_'+'ambient;'),_0x31d8f3['useAo']&&!_0x31d8f3['occludeDir'+'ect']&&_0x3a4df5['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),_0x31d8f3['lightMapEn'+'abled']&&_0x3a4df5['append']('\x20\x20\x20\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ligh'+'tmapDir,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dReflDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dTBN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);'),this['lighting']||this['reflection'+'s']){this['reflection'+'s']&&(_0x31d8f3['useClearCo'+'at']&&(_0x3a4df5['append']('\x20\x20\x20\x20addRef'+'lectionCC('+'ccReflDirW'+',\x20litArgs_'+'clearcoat_'+'gloss);'),_0x31d8f3['fresnelMod'+'el']>0x47e+-0x1206*-0x1+-0x5a1*0x4?(_0x3a4df5['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));'),_0x3a4df5['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20ccFres'+'nel;')):_0x3a4df5['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;')),_0x31d8f3['useSpecula'+'rityFactor']&&_0x3a4df5['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20litArg'+'s_specular'+'ityFactor;'),_0x31d8f3['useSheen']&&_0x3a4df5['append']('\x20\x20\x20\x20addRef'+'lectionShe'+'en(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_sheen_g'+'loss);'),_0x3a4df5['append']('\x20\x20\x20\x20addRef'+'lection(dR'+'eflDirW,\x20l'+'itArgs_glo'+'ss);'),_0x31d8f3['fresnelMod'+'el']>-0x29*0xe1+-0x243d*0x1+-0x2*-0x2423?_0x3a4df5['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'):_0x3a4df5['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'ty;'),_0x31d8f3['useSpecula'+'rityFactor']&&_0x3a4df5['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'tyFactor;')),_0xccaf1c&&(_0x3a4df5['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'y;'),_0x31d8f3['useSpecula'+'r']&&_0x3a4df5['append']('\x20\x20\x20\x20calcLT'+'CLightValu'+'es(litArgs'+'_gloss,\x20li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW,\x20'+'litArgs_sp'+'ecularity,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20lit'+'Args_clear'+'coat_specu'+'larity);'));for(let _0x17c82d=0x1dc6+0x143b+-0x3201;_0x17c82d<_0x31d8f3['lights']['length'];_0x17c82d++){const _0x4bcba3=_0x31d8f3['lights'][_0x17c82d],_0x5dfe95=_0x4bcba3['_type'];if(_0x31d8f3['clusteredL'+'ightingEna'+'bled']&&_0x5dfe95!==oe)continue;_0x28a9b2=!(-0x1*0x1526+-0x1*-0x143+0x13e4);const _0x47d146=_0xccaf1c&&_0x4bcba3['_shape']?_0x4bcba3['shape']:yt,_0x3d8f14=_0xccaf1c&&_0x4bcba3['_shape']?this['_getLightS'+'ourceShape'+'String'](_0x47d146):'';if(_0x47d146!==yt&&_0x3a4df5['append']('\x20\x20\x20\x20calc'+_0x3d8f14+('LightValue'+'s(light')+_0x17c82d+('_position,'+'\x20light')+_0x17c82d+('_halfWidth'+',\x20light')+_0x17c82d+('_halfHeigh'+'t);')),_0x5dfe95===oe?(_0x3a4df5['append']('\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light'+_0x17c82d+('_direction'+';')),_0x3a4df5['append']('\x20\x20\x20\x20dAtten'+'\x20=\x201.0;')):(_0x4bcba3['_cookie']&&(_0x5dfe95===Re&&!_0x4bcba3['_cookie']['_cubemap']||_0x5dfe95===Pe&&_0x4bcba3['_cookie']['_cubemap'])&&(_0x8c9fc1=!(-0x148d*-0x1+-0x3fd*-0x8+-0x3475),_0x28a9b2=!(-0x1542+-0x1eb7+0x33f9)),_0x3a4df5['append']('\x20\x20\x20\x20getLig'+'htDirPoint'+'(light'+_0x17c82d+('_position)'+';')),_0x5c7585=!(-0x7a2+-0x2355+-0x11*-0x287),_0x28a9b2&&(_0x5dfe95===Re?_0x3a4df5['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kie2D'+(_0x4bcba3['_cookieFal'+'loff']?'':'Clip')+(_0x4bcba3['_cookieTra'+'nsform']?'Xform':'')+'(light'+_0x17c82d+('_cookie,\x20l'+'ight')+_0x17c82d+('_shadowMat'+'rix,\x20light')+_0x17c82d+('_cookieInt'+'ensity')+(_0x4bcba3['_cookieTra'+'nsform']?',\x20light'+_0x17c82d+('_cookieMat'+'rix,\x20light')+_0x17c82d+('_cookieOff'+'set'):'')+').'+_0x4bcba3['_cookieCha'+'nnel']+';'):_0x3a4df5['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kieCube(li'+'ght'+_0x17c82d+('_cookie,\x20l'+'ight')+_0x17c82d+('_shadowMat'+'rix,\x20light')+_0x17c82d+('_cookieInt'+'ensity).')+_0x4bcba3['_cookieCha'+'nnel']+';')),_0x47d146===yt?_0x4bcba3['_falloffMo'+'de']===wp?(_0x3a4df5['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offLinear('+'light'+_0x17c82d+('_radius,\x20d'+'LightDirW)'+';')),_0x2d4957=!(0x433+0x1781*0x1+-0x1bb4)):(_0x3a4df5['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offInvSqua'+'red(light'+_0x17c82d+('_radius,\x20d'+'LightDirW)'+';')),_0x5d752f=!(0x25c5+0x107*0x1+0x1366*-0x2)):(_0x3a4df5['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'light'+_0x17c82d+('_radius,\x20d'+'LightDirW)'+';')),_0x5d752f=!(0x6*-0xc7+0x1*-0x127d+0x1727)),_0x3a4df5['append']('\x20\x20\x20\x20if\x20(dA'+'tten\x20>\x200.0'+'0001)\x20{'),_0x5dfe95===Re&&(_0x28a9b2&&!_0x4bcba3['_cookieFal'+'loff']||(_0x3a4df5['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getSpo'+'tEffect(li'+'ght'+_0x17c82d+('_direction'+',\x20light')+_0x17c82d+('_innerCone'+'Angle,\x20lig'+'ht')+_0x17c82d+('_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);')),_0xd457e5=!(-0x1df*0x3+0x1*-0x355+0x8f2)))),_0x47d146!==yt?_0x5dfe95===oe?_0x3a4df5['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'):_0x3a4df5['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20get'+_0x3d8f14+('LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;')):_0x3a4df5['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'),_0x4bcba3['castShadow'+'s']&&!_0x31d8f3['noShadow']){const _0x128a64=ir['get'](_0x4bcba3['_shadowTyp'+'e']);v['assert'](_0x128a64);const _0x6cae0e=_0x4bcba3['_shadowTyp'+'e']===Ts,_0x1138c2=_0x128a64==null?void(0x1373+-0xb3f*0x1+-0x834):_0x128a64['vsm'],_0x4df0b5=_0x128a64==null?void(-0x13*-0xce+-0x1f83+0x1*0x1039):_0x128a64['pcf'];let _0x52828f=null,_0xf19dc1;switch(_0x4bcba3['_shadowTyp'+'e']){case Hr:_0x52828f='VSM16',_0xf19dc1='5.54';break;case Wr:_0x52828f='VSM32',_0xf19dc1='15.0';break;case Bh:case Nh:_0x52828f='PCF1x1';break;case lh:case Iu:_0x52828f='PCF5x5';break;case Ts:_0x52828f='PCSS';break;case Dt:case zh:default:_0x52828f='PCF3x3';break;}if(_0x52828f!==null){_0x4bcba3['_normalOff'+'setBias']&&!_0x4bcba3['_isVsm']&&_0x186b81['append']('#define\x20SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET'),_0x5dfe95===oe&&_0x186b81['append']('#define\x20SH'+'ADOW_SAMPL'+'E_ORTHO'),(_0x4df0b5||_0x6cae0e||_0x956b87['isWebGPU'])&&_0x186b81['append']('#define\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER'),_0x5dfe95===Pe&&_0x186b81['append']('#define\x20SH'+'ADOW_SAMPL'+'E_POINT');const _0x5b2acf=_0x524d13['shadowSamp'+'leCoordPS'];_0x186b81['append'](_0x5b2acf['replace']('$LIGHT',_0x17c82d)),_0x186b81['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET'),_0x186b81['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_ORTHO'),_0x186b81['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_SOURCE_ZB'+'UFFER'),_0x186b81['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_POINT');let _0x2584ff='light'+_0x17c82d+('_shadowMat'+'rix');_0x5dfe95===oe&&_0x4bcba3['numCascade'+'s']>-0x179*-0x3+0x58*-0x25+-0x427*-0x2&&(_0x3a4df5['append']('int\x20cascad'+'eIndex'+_0x17c82d+('\x20=\x20getShad'+'owCascadeI'+'ndex(light')+_0x17c82d+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x17c82d+('_shadowCas'+'cadeCount)'+';')),_0x4bcba3['cascadeBle'+'nd']>0x2103+0xc11*0x3+-0x229b*0x2&&_0x3a4df5['append']('cascadeInd'+'ex'+_0x17c82d+('\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex')+_0x17c82d+',\x20light'+_0x17c82d+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x17c82d+('_shadowCas'+'cadeCount,'+'\x20light')+_0x17c82d+('_shadowCas'+'cadeBlend)'+';')),_0x3a4df5['append']('mat4\x20casca'+'deShadowMa'+'t'+_0x17c82d+'\x20=\x20light'+_0x17c82d+('_shadowMat'+'rixPalette'+'[cascadeIn'+'dex')+_0x17c82d+'];'),_0x2584ff='cascadeSha'+'dowMat'+_0x17c82d),_0x3a4df5['append']('\x20\x20\x20\x20dShado'+'wCoord\x20=\x20g'+'etShadowSa'+'mpleCoord'+_0x17c82d+'('+_0x2584ff+',\x20light'+_0x17c82d+('_shadowPar'+'ams,\x20vPosi'+'tionW,\x20dLi'+'ghtPosW,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW,\x20dVe'+'rtexNormal'+'W);')),_0x5dfe95===oe&&_0x3a4df5['append']('\x20\x20\x20\x20fadeSh'+'adow(light'+_0x17c82d+('_shadowCas'+'cadeDistan'+'ces);'));let _0x5d1c6c='SHADOWMAP_'+'PASS(light'+_0x17c82d+('_shadowMap'+'),\x20dShadow'+'Coord,\x20lig'+'ht')+_0x17c82d+('_shadowPar'+'ams');if(_0x1138c2)_0x5d1c6c=_0x5d1c6c+',\x20'+_0xf19dc1+(',\x20dLightDi'+'rW');else{if(_0x6cae0e){let _0x387e8e=_0x5dfe95===oe?'light'+_0x17c82d+('_softShado'+'wParams'):'vec2(light'+_0x17c82d+('_shadowSea'+'rchArea)');_0x47d146!==yt&&(_0x387e8e='vec2(lengt'+'h(light'+_0x17c82d+('_halfWidth'+'),\x20length('+'light')+_0x17c82d+('_halfHeigh'+'t))\x20*\x20ligh'+'t')+_0x17c82d+('_shadowSea'+'rchArea')),_0x5d1c6c=_0x5d1c6c+',\x20light'+_0x17c82d+('_cameraPar'+'ams,\x20')+_0x387e8e+(',\x20dLightDi'+'rW');}}_0x5dfe95===Pe?(_0x52828f='Point'+_0x52828f,_0x6cae0e||(_0x5d1c6c=_0x5d1c6c+(',\x20dLightDi'+'rW'))):_0x5dfe95===Re&&(_0x52828f='Spot'+_0x52828f),_0x3a4df5['append']('\x20\x20\x20\x20float\x20'+'shadow'+_0x17c82d+('\x20=\x20getShad'+'ow')+_0x52828f+'('+_0x5d1c6c+');'),_0x3a4df5['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20mix(1.'+'0,\x20shadow'+_0x17c82d+',\x20light'+_0x17c82d+('_shadowInt'+'ensity);'));}}if(_0x47d146!==yt?_0x31d8f3['useSpecula'+'r']?_0x3a4df5['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20((dAttenD'+'\x20*\x20dAtten)'+'\x20*\x20light'+_0x17c82d+'_color'+(_0x28a9b2?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20dLTCSpecF'+'res);')):_0x3a4df5['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAttenD\x20'+'*\x20dAtten)\x20'+'*\x20light'+_0x17c82d+'_color'+(_0x28a9b2?'\x20*\x20dAtten3':'')+';'):_0xccaf1c&&_0x31d8f3['useSpecula'+'r']?_0x3a4df5['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAtten\x20*'+'\x20light'+_0x17c82d+'_color'+(_0x28a9b2?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20litArgs_s'+'pecularity'+');')):_0x3a4df5['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'light'+_0x17c82d+'_color'+(_0x28a9b2?'\x20*\x20dAtten3':'')+';'),_0x31d8f3['useSpecula'+'r']&&_0x3a4df5['append']('\x20\x20\x20\x20dHalfD'+'irW\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);'),_0x4bcba3['affectSpec'+'ularity']){if(_0x47d146!==yt)_0x31d8f3['useClearCo'+'at']&&_0x3a4df5['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20ccLTCSp'+'ecFres\x20*\x20g'+'et'+_0x3d8f14+('LightSpecu'+'lar(litArg'+'s_clearcoa'+'t_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x17c82d+'_color'+(_0x28a9b2?'\x20*\x20dAtten3':'')+';'),_0x31d8f3['useSpecula'+'r']&&_0x3a4df5['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20get'+_0x3d8f14+('LightSpecu'+'lar(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x17c82d+'_color'+(_0x28a9b2?'\x20*\x20dAtten3':'')+';');else{let _0x57ad18=!(-0x976+-0x752*0x5+0x2e11);_0x5dfe95===oe&&_0x31d8f3['fresnelMod'+'el']>-0x1411+-0x25d1+0x39e2&&(_0x57ad18=!(-0x1*0x545+0xc29*-0x1+0x116e)),_0x31d8f3['useClearCo'+'at']&&_0x3a4df5['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'dHalfDirW,'+'\x20ccReflDir'+'W,\x20litArgs'+'_clearcoat'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirNormW,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20dTBN'+')\x20*\x20dAtten'+'\x20*\x20light'+_0x17c82d+'_color'+(_0x28a9b2?'\x20*\x20dAtten3':'')+(_0x57ad18?'\x20*\x20getFres'+'nelCC(dot('+'dViewDirW,'+'\x20dHalfDirW'+'));':';')),_0x31d8f3['useSheen']&&_0x3a4df5['append']('\x20\x20\x20\x20sSpecu'+'larLight\x20+'+'=\x20getLight'+'SpecularSh'+'een(dHalfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+_0x17c82d+'_color'+(_0x28a9b2?'\x20*\x20dAtten3'+';':';')),_0x31d8f3['useSpecula'+'r']&&_0x3a4df5['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20getLight'+'Specular(d'+'HalfDirW,\x20'+'dReflDirW,'+'\x20litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dLightD'+'irNormW,\x20l'+'itArgs_glo'+'ss,\x20dTBN)\x20'+'*\x20dAtten\x20*'+'\x20light'+_0x17c82d+'_color'+(_0x28a9b2?'\x20*\x20dAtten3':'')+(_0x57ad18?'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20*\x20'+'getFresnel'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(dVie'+'wDirW,\x20dHa'+'lfDirW),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_iridesce'+'nce_intens'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20);':'*\x20litArgs_'+'specularit'+'y;'));}}_0x5dfe95!==oe&&_0x3a4df5['append']('\x20\x20\x20\x20}');}_0x31d8f3['clusteredL'+'ightingEna'+'bled']&&this['lighting']&&(_0x2d4957=!(0x225e+-0x1385+-0xed9),_0x5d752f=!(-0x1*-0x95f+-0x7fa+-0x165),_0x5c7585=!(0x7*-0x82+0x1764+-0x13d6),_0x3a4df5['append']('\x20\x20\x20\x20addClu'+'steredLigh'+'ts(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dVie'+'wDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'ReflDirW,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dVe'+'rtexNormal'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_shee'+'n_gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);'))),_0xccaf1c&&(_0x31d8f3['useClearCo'+'at']&&_0x3a4df5['append']('\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_specular'+'ity\x20=\x201.0;'),_0x31d8f3['useSpecula'+'r']&&_0x3a4df5['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20vec3'+'(1);')),_0x31d8f3['useRefract'+'ion']&&_0x3a4df5['append']('\x20\x20\x20\x20addRef'+'raction(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ViewDirW,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_thickne'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_transm'+'ission,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_dis'+'persion\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);');}_0x31d8f3['useAo']&&(_0x31d8f3['occludeDir'+'ect']&&_0x3a4df5['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),(_0x31d8f3['occludeSpe'+'cular']===Bo||_0x31d8f3['occludeSpe'+'cular']===Lu)&&_0x3a4df5['append']('\x20\x20\x20\x20occlud'+'eSpecular('+'litArgs_gl'+'oss,\x20litAr'+'gs_ao,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW);')),_0x31d8f3['useSpecula'+'rityFactor']&&_0x3a4df5['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'yFactor;'),_0x31d8f3['opacityFad'+'esSpecular']===!(0x15*0x174+-0x4*0x2f3+-0x12b7)&&((_0x31d8f3['blendType']===Kt||_0x31d8f3['blendType']===hr)&&(_0x3a4df5['append']('float\x20spec'+'Lum\x20=\x20dot('+'(dSpecular'+'Light\x20+\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a)'+',\x20vec3(\x200.'+'2126,\x200.71'+'52,\x200.0722'+'\x20));'),_0x3a4df5['append']('#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20specLum\x20'+'+=\x20dot(ccS'+'pecularLig'+'ht\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20+\x20ccR'+'eflection.'+'rgb\x20*\x20litA'+'rgs_clearc'+'oat_specul'+'arity,\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'#endif'),_0x3a4df5['append']('litArgs_op'+'acity\x20=\x20cl'+'amp(litArg'+'s_opacity\x20'+'+\x20gammaCor'+'rectInput('+'specLum),\x20'+'0.0,\x201.0);')),_0x3a4df5['append']('litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;')),_0x3a4df5['append'](_0x524d13['endPS']),_0x31d8f3['blendType']===Kt||_0x31d8f3['blendType']===Hc||_0x31d8f3['alphaToCov'+'erage']?_0x3a4df5['append'](_0x524d13['outputAlph'+'aPS']):_0x31d8f3['blendType']===hr?_0x3a4df5['append'](_0x524d13['outputAlph'+'aPremulPS']):_0x3a4df5['append'](_0x524d13['outputAlph'+'aOpaquePS']),_0x31d8f3['useMsdf']&&_0x3a4df5['append']('\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20a'+'pplyMsdf(g'+'l_FragColo'+'r);'),_0x3a4df5['append'](_0x524d13['outputPS']),_0x3a4df5['append'](_0x524d13['debugOutpu'+'tPS']),_0x5c7585&&_0x186b81['prepend'](_0x524d13['lightDirPo'+'intPS']),_0x2d4957&&_0x186b81['prepend'](_0x524d13['falloffLin'+'earPS']),_0x5d752f&&_0x186b81['prepend'](_0x524d13['falloffInv'+'SquaredPS']),_0xd457e5&&_0x186b81['prepend'](_0x524d13['spotPS']),_0x8c9fc1&&!_0x31d8f3['clusteredL'+'ightingEna'+'bled']&&_0x186b81['prepend'](_0x524d13['cookiePS']);let _0x3fb3ad='';const _0x533134='void\x20evalu'+'ateBackend'+'()\x20{\x0a'+_0x3a4df5['code']+'\x0a}';_0x186b81['append'](_0x533134),_0x298d1d['append'](_0x524d13['debugProce'+'ssFrontend'+'PS']),_0x298d1d['append']('\x20\x20\x20\x20evalua'+'teBackend('+');'),_0x298d1d['append'](It['end']());const _0x1f1bf6=_0x1ae396['code']+_0x186b81['code']+_0x298d1d['code'];return _0x1f1bf6['includes']('dTBN')&&(_0x3fb3ad+='mat3\x20dTBN;'+'\x0a'),_0x1f1bf6['includes']('dVertexNor'+'malW')&&(_0x3fb3ad+='vec3\x20dVert'+'exNormalW;'+'\x0a'),_0x1f1bf6['includes']('dTangentW')&&(_0x3fb3ad+='vec3\x20dTang'+'entW;\x0a'),_0x1f1bf6['includes']('dBinormalW')&&(_0x3fb3ad+='vec3\x20dBino'+'rmalW;\x0a'),_0x1f1bf6['includes']('dViewDirW')&&(_0x3fb3ad+='vec3\x20dView'+'DirW;\x0a'),_0x1f1bf6['includes']('dReflDirW')&&(_0x3fb3ad+='vec3\x20dRefl'+'DirW;\x0a'),_0x1f1bf6['includes']('dHalfDirW')&&(_0x3fb3ad+='vec3\x20dHalf'+'DirW;\x0a'),_0x1f1bf6['includes']('ccReflDirW')&&(_0x3fb3ad+='vec3\x20ccRef'+'lDirW;\x0a'),_0x1f1bf6['includes']('dLightDirN'+'ormW')&&(_0x3fb3ad+='vec3\x20dLigh'+'tDirNormW;'+'\x0a'),_0x1f1bf6['includes']('dLightDirW')&&(_0x3fb3ad+='vec3\x20dLigh'+'tDirW;\x0a'),_0x1f1bf6['includes']('dLightPosW')&&(_0x3fb3ad+='vec3\x20dLigh'+'tPosW;\x0a'),_0x1f1bf6['includes']('dShadowCoo'+'rd')&&(_0x3fb3ad+='vec3\x20dShad'+'owCoord;\x0a'),_0x1f1bf6['includes']('dReflectio'+'n')&&(_0x3fb3ad+='vec4\x20dRefl'+'ection;\x0a'),_0x1f1bf6['includes']('dDiffuseLi'+'ght')&&(_0x3fb3ad+='vec3\x20dDiff'+'useLight;\x0a'),_0x1f1bf6['includes']('dSpecularL'+'ight')&&(_0x3fb3ad+='vec3\x20dSpec'+'ularLight;'+'\x0a'),_0x1f1bf6['includes']('dAtten')&&(_0x3fb3ad+='float\x20dAtt'+'en;\x0a'),_0x1f1bf6['includes']('dAttenD')&&(_0x3fb3ad+='float\x20dAtt'+'enD;\x0a'),_0x1f1bf6['includes']('dAtten3')&&(_0x3fb3ad+='vec3\x20dAtte'+'n3;\x0a'),_0x1f1bf6['includes']('dMsdf')&&(_0x3fb3ad+='vec4\x20dMsdf'+';\x0a'),_0x1f1bf6['includes']('ccFresnel')&&(_0x3fb3ad+='float\x20ccFr'+'esnel;\x0a'),_0x1f1bf6['includes']('ccReflecti'+'on')&&(_0x3fb3ad+='vec3\x20ccRef'+'lection;\x0a'),_0x1f1bf6['includes']('ccSpecular'+'Light')&&(_0x3fb3ad+='vec3\x20ccSpe'+'cularLight'+';\x0a'),_0x1f1bf6['includes']('ccSpecular'+'ityNoFres')&&(_0x3fb3ad+='float\x20ccSp'+'ecularityN'+'oFres;\x0a'),_0x1f1bf6['includes']('sSpecularL'+'ight')&&(_0x3fb3ad+='vec3\x20sSpec'+'ularLight;'+'\x0a'),_0x1f1bf6['includes']('sReflectio'+'n')&&(_0x3fb3ad+='vec3\x20sRefl'+'ection;\x0a'),this['_fsGetBegi'+'nCode']()+this['varyings']+this['varyingDef'+'ines']+this['_fsGetBase'+'Code']()+_0x3fb3ad+this['frontendDe'+'cl']+_0x1f1bf6;}['generateFr'+'agmentShad'+'er'](_0x31ef4f,_0x2605d3,_0x381b69,_0x2779ab){const _0x351acc=this['options'];this['frontendDe'+'cl']=_0x31ef4f,this['frontendCo'+'de']=_0x2605d3,this['frontendFu'+'nc']=_0x381b69,this['lightingUv']=_0x2779ab,_0x351acc['pass']===Oa?this['fshader']=this['_fsGetPick'+'PassCode']():_0x351acc['pass']===rl?this['fshader']=this['_fsGetDept'+'hPassCode']():_0x351acc['pass']===il?this['fshader']=this['_fsGetPreP'+'assCode']():this['shadowPass']?this['fshader']=this['_fsGetShad'+'owPassCode']():_0x351acc['customFrag'+'mentShader']?this['fshader']=this['_fsGetBegi'+'nCode']()+_0x351acc['customFrag'+'mentShader']:this['fshader']=this['_fsGetLitP'+'assCode'](),v['assert'](!this['fshader']['includes']('litShaderA'+'rgs'),'Automatic\x20'+'compatibil'+'ity\x20with\x20s'+'haders\x20usi'+'ng\x20litShad'+'erArgs\x20has'+'\x20been\x20remo'+'ved.\x20Pleas'+'e\x20update\x20t'+'he\x20shader\x20'+'to\x20use\x20the'+'\x20new\x20syste'+'m.');}}class qC{constructor(){c(this,'hasTangent'+'s',!(0x3*-0xc89+-0x1783+0x3d1f*0x1)),c(this,'chunks',{}),c(this,'pass',0x15*-0xc+0x42a+-0x32e),c(this,'alphaTest',!(-0x83*-0x2a+-0x1*0x1cde+-0x761*-0x1)),c(this,'blendType',is),c(this,'separateAm'+'bient',!(-0xb*0x217+0x24f5+0xd*-0x113)),c(this,'screenSpac'+'e',!(-0xa30+-0x8*-0x482+-0x25*0xb3)),c(this,'skin',!(-0x1*-0x13fd+-0x4*-0x952+-0x3944)),c(this,'batch',!(-0x16c3*-0x1+0x6fd+-0x1dbf)),c(this,'useInstanc'+'ing',!(-0x16a9+0x2*-0x63d+-0x2*-0x1192)),c(this,'useMorphPo'+'sition',!(0x19a1+0x11fc+-0x2b9c)),c(this,'useMorphNo'+'rmal',!(0x23a8+-0x956+-0x1a51)),c(this,'useMorphTe'+'xtureBased'+'Int',!(-0xa9*0x25+0x3ea*0x1+0x1484)),c(this,'nineSliced'+'Mode',0x2121+-0x25c9+0x4a8),c(this,'clusteredL'+'ightingEna'+'bled',!(0x5a7+-0x5*-0x479+-0x1c04)),c(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(-0x60a+-0x1b90+-0x219b*-0x1)),c(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(-0xda2+0x1*-0x1e87+-0x2c2a*-0x1)),c(this,'clusteredL'+'ightingSha'+'dowType',0x2272+-0x1*-0x6bb+0x1*-0x292d),c(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(-0x2a0*-0x1+-0x269+-0x36)),c(this,'vertexColo'+'rs',!(0x182b+-0x242b+0xc01)),c(this,'lightMapEn'+'abled',!(0x14c7+-0x1854+0x38e)),c(this,'dirLightMa'+'pEnabled',!(-0x2*0xf67+-0x7e+0x1f4d*0x1)),c(this,'useHeights',!(-0xe23+-0x13ad+0x21d1)),c(this,'useNormals',!(-0x1*0x2523+-0x2487*-0x1+0x9d)),c(this,'useClearCo'+'atNormals',!(-0x16f+-0x1*0xad5+-0x417*-0x3)),c(this,'useAo',!(-0x102b+0x1281*-0x1+0x22ad)),c(this,'diffuseMap'+'Enabled',!(-0x3c6+-0x4*0x70a+0x663*0x5)),c(this,'customFrag'+'mentShader',null),c(this,'pixelSnap',!(-0x17f7+-0x81f+0x2017)),c(this,'ambientSH',!(-0x1a6f+0x1d20+0x56*-0x8)),c(this,'ssao',!(0x88b+-0x1492+0x4d*0x28)),c(this,'twoSidedLi'+'ghting',!(-0x1e4c+-0x263c+0x4489*0x1)),c(this,'occludeDir'+'ect',!(0x2*-0x1a3+0x107d+0x69b*-0x2)),c(this,'occludeSpe'+'cular',0x22c3+-0x5*-0x127+-0x2886),c(this,'occludeSpe'+'cularFloat',!(0x2553*0x1+-0x118f+0x1*-0x13c3)),c(this,'useMsdf',!(-0xb8c*-0x1+0x3*-0x6e6+0xd5*0xb)),c(this,'msdfTextAt'+'tribute',!(-0x12f*0x1f+0x1e6*0x8+0x1582)),c(this,'alphaToCov'+'erage',!(0x1*0xdcb+0x11b*-0x1f+0x147b)),c(this,'opacityFad'+'esSpecular',!(0x7*-0x56d+-0x24d7+-0xef7*-0x5)),c(this,'opacityDit'+'her',Rs),c(this,'opacitySha'+'dowDither',Rs),c(this,'cubeMapPro'+'jection',-0x1*-0x201b+0xb3f*-0x1+-0x37a*0x6),c(this,'useSpecula'+'r',!(-0xda1+0x13ac+-0x60a)),c(this,'useSpecula'+'rityFactor',!(-0x1263+-0x132+-0x6d*-0x2e)),c(this,'enableGGXS'+'pecular',!(-0x1383+-0x1*0x19ed+0x2d71)),c(this,'fresnelMod'+'el',-0x1532*-0x1+-0x191*0x1+-0x1*0x13a1),c(this,'useRefract'+'ion',!(-0x13f6+0x22e1*0x1+-0xeea)),c(this,'useClearCo'+'at',!(0x524+0x84c+0xb5*-0x13)),c(this,'useSheen',!(-0x119f*0x2+-0xd2*-0x1+-0x4eb*-0x7)),c(this,'useIridesc'+'ence',!(-0x97*-0x5+-0x3*0xb06+0x1e20)),c(this,'useMetalne'+'ss',!(-0x1293*-0x1+-0xd69*0x2+0x840)),c(this,'useDynamic'+'Refraction',!(-0x1336+0x1248+-0x1*-0xef)),c(this,'dispersion',!(0x3ce+-0xe*0x2b3+-0x4db*-0x7)),c(this,'fog',Fa),c(this,'gamma',sl),c(this,'toneMap',-(-0x38d+-0xdfa+-0x1188*-0x1)),c(this,'reflection'+'Source',null),c(this,'reflection'+'Encoding',null),c(this,'reflection'+'CubemapEnc'+'oding',null),c(this,'ambientSou'+'rce','constant'),c(this,'ambientEnc'+'oding',null),c(this,'skyboxInte'+'nsity',-0x8c3*-0x1+-0x6*-0x2a3+-0x11e*0x16),c(this,'useCubeMap'+'Rotation',!(-0x993*-0x4+0x237+-0x2882)),c(this,'lightMapWi'+'thoutAmbie'+'nt',!(0x160e+-0x1cd7+0x6ca)),c(this,'lights',[]),c(this,'noShadow',!(-0xd0*0x2+0xc86+-0xae5)),c(this,'lightMaskD'+'ynamic',0xd46+-0x2188+0x1442),c(this,'userAttrib'+'utes',{}),c(this,'linearDept'+'h',!(0x1eb3*-0x1+0x311*0xb+-0x307));}}class Vh{constructor(){c(this,'defines',new Map()),c(this,'forceUv1',!(0xe0d+-0xe*0xc1+-0x1*0x37e)),c(this,'specularTi'+'nt',!(0x16e9+0x175b+0x38f*-0xd)),c(this,'metalnessT'+'int',!(0x12ac+0x1f33+-0x18ef*0x2)),c(this,'glossTint',!(-0x182b+0x6d4+0x1158)),c(this,'emissiveEn'+'coding','linear'),c(this,'lightMapEn'+'coding','linear'),c(this,'packedNorm'+'al',!(-0x91*0x1e+-0x11af*-0x1+-0xb0)),c(this,'glossInver'+'t',!(0x7d0+-0x866+0x97)),c(this,'sheenGloss'+'Invert',!(0x13*0x61+0x145b+-0x1b8d)),c(this,'clearCoatG'+'lossInvert',!(-0x35*-0x4+-0xd37+0x2*0x632)),c(this,'useAO',!(-0x354+0x1*0x1e17+-0x1ac2)),c(this,'litOptions',new qC());}get['pass'](){return this['litOptions']['pass'];}}const Uu={'generateKey'(_0x1051b2){return'lit'+Object['keys'](_0x1051b2)['sort']()['map'](_0x2ec617=>_0x2ec617==='chunks'?Uu['generateCh'+'unksKey'](_0x1051b2):_0x2ec617==='lights'?Uu['generateLi'+'ghtsKey'](_0x1051b2):_0x2ec617+_0x1051b2[_0x2ec617])['join']('\x0a');},'generateLightsKey'(_0x5704f2){return'lights:'+_0x5704f2['lights']['map'](_0x859ce5=>!_0x5704f2['clusteredL'+'ightingEna'+'bled']||_0x859ce5['_type']===oe?_0x859ce5['key']+',':'')['join']('');},'generateChunksKey'(_0x39c9e2){return'chunks:\x0a'+Object['keys'](_0x39c9e2['chunks']??{})['sort']()['map'](_0x2fe8d5=>_0x2fe8d5+_0x39c9e2['chunks'][_0x2fe8d5])['join']('');}},fa=[],Ad=_0x32fd7a=>Object['keys'](_0x32fd7a)['filter'](_0x4beb32=>_0x4beb32!=='litOptions')['sort']();class XC extends It{constructor(){super(...arguments),c(this,'optionsCon'+'text',new Vh()),c(this,'optionsCon'+'textMin',new Vh());}['generateKe'+'y'](_0x3e8d5e){let _0x5ec883;return _0x3e8d5e===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Ad(_0x3e8d5e)),_0x5ec883=this['propsMin']):_0x3e8d5e===this['optionsCon'+'text']?(this['props']||(this['props']=Ad(_0x3e8d5e)),_0x5ec883=this['props']):_0x5ec883=Ad(_0x3e8d5e),'standard:\x0a'+It['definesHas'+'h'](_0x3e8d5e['defines'])+'\x0a'+_0x5ec883['map'](_0x3586d0=>_0x3586d0+_0x3e8d5e[_0x3586d0])['join']('\x0a')+Uu['generateKe'+'y'](_0x3e8d5e['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x407018,_0x5dceef,_0x2a1109){const _0x477620=_0x2a1109[_0x407018],_0x370211=_0x2a1109[_0x5dceef],_0x1b673b=_0x2a1109['litOptions']['pass']===gn;let _0x53319a;return _0x1b673b&&_0x2a1109['litOptions']['nineSliced'+'Mode']===nt||_0x1b673b&&_0x2a1109['litOptions']['nineSliced'+'Mode']===Qe?_0x53319a='nineSliced'+'Uv':(_0x477620===-0x7a7+-0x2*-0xf1f+-0x1697?_0x53319a='vUv'+_0x370211:_0x53319a='vUV'+_0x370211+'_'+_0x477620,_0x2a1109['heightMap']&&_0x407018!=='heightMapT'+'ransform'&&(_0x53319a+='\x20+\x20dUvOffs'+'et')),_0x53319a;}['_addMapDef'](_0x37d9b9,_0x178ac0){return _0x178ac0?'#define\x20'+_0x37d9b9+'\x0a':'#undef\x20'+_0x37d9b9+'\x0a';}['_addMapDef'+'s'](_0x15c644,_0x4a7fa0,_0x188e54,_0x18ab65,_0x5d088d){return this['_addMapDef']('MAPFLOAT',_0x15c644)+this['_addMapDef']('MAPCOLOR',_0x4a7fa0)+this['_addMapDef']('MAPVERTEX',_0x188e54)+this['_addMapDef']('MAPTEXTURE',_0x18ab65)+this['_addMapDef']('MAPINVERT',_0x5d088d);}['_addMap'](_0x2f7c2b,_0x2dba32,_0x450ff9,_0x17fdab,_0x22c053,_0x3e1c5f=null){const _0x3701b8=_0x2f7c2b+'Map',_0x5cf912=_0x3701b8+'Uv',_0x3db9df=_0x3701b8+'Identifier',_0x38591d=_0x3701b8+'Transform',_0x3a96d2=_0x3701b8+'Channel',_0x1614fb=_0x2f7c2b+('VertexColo'+'rChannel'),_0x25c2b8=_0x2f7c2b+'Tint',_0x104e8a=_0x2f7c2b+('VertexColo'+'r'),_0x326704=_0x2f7c2b+'Mode',_0x5b15b3=_0x2f7c2b+'Invert',_0x2bbc13=_0x450ff9[_0x25c2b8],_0x297882=_0x450ff9[_0x104e8a],_0x920506=_0x450ff9[_0x3701b8],_0x4f7aab=_0x450ff9[_0x3db9df],_0x5af6c9=_0x450ff9[_0x326704];let _0x4ca466=_0x17fdab[_0x2dba32];if(_0x920506){const _0x4e58fc=this['_getUvSour'+'ceExpressi'+'on'](_0x38591d,_0x5cf912,_0x450ff9);if(_0x4ca466=_0x4ca466['replace'](/\$UV/g,_0x4e58fc)['replace'](/\$CH/g,_0x450ff9[_0x3a96d2]),_0x22c053&&_0x4ca466['search'](/\$SAMPLER/g)!==-(-0x20b5+0x1170*-0x1+-0x2*-0x1913)){let _0x50a997='texture_'+_0x3701b8;const _0x37586c=_0x22c053[_0x4f7aab];_0x37586c?_0x50a997=_0x37586c:_0x22c053[_0x4f7aab]=_0x50a997,_0x4ca466=_0x4ca466['replace'](/\$SAMPLER/g,_0x50a997);}if(_0x3e1c5f&&(_0x450ff9[_0x3a96d2]==='aaa'?_0x4ca466=_0x4ca466['replace'](/\$DECODE/g,'passThroug'+'h'):_0x4ca466=_0x4ca466['replace'](/\$DECODE/g,Es['decodeFunc'](_0x3e1c5f)),_0x4ca466['indexOf']('$texture2D'+'SAMPLE'))){const _0x127a75={'linear':'texture2D','srgb':'texture2DS'+'RGB','rgbm':'texture2DR'+'GBM','rgbe':'texture2DR'+'GBE'};_0x4ca466=_0x4ca466['replace'](/\$texture2DSAMPLE/g,_0x127a75[_0x3e1c5f]||'texture2D');}}_0x297882&&(_0x4ca466=_0x4ca466['replace'](/\$VC/g,_0x450ff9[_0x1614fb])),_0x5af6c9&&(_0x4ca466=_0x4ca466['replace'](/\$DETAILMODE/g,_0x5af6c9));const _0x3e5b82=!!(_0x2bbc13&-0xf84+0xc9d*0x3+0x1*-0x1652),_0x44f9b3=!!(_0x2bbc13&-0xafa+0x99f+0x15d),_0xe64dcd=!!_0x450ff9[_0x5b15b3];return _0x4ca466=this['_addMapDef'+'s'](_0x3e5b82,_0x44f9b3,_0x297882,_0x920506,_0xe64dcd)+_0x4ca466,_0x4ca466['replace'](/\$/g,'');}['_correctCh'+'annel'](_0x418fba,_0x320092,_0x2f469c){if(_0x2f469c[_0x418fba]>0x207*-0x3+0x1dc2+-0x17ad){if(_0x2f469c[_0x418fba]<_0x320092['length'])return _0x320092['substring'](-0x20db+-0x1*0x13f+0x221a,_0x2f469c[_0x418fba]);if(_0x2f469c[_0x418fba]>_0x320092['length']){let _0x2dd7d2=_0x320092;const _0x32def3=_0x2dd7d2['charAt'](_0x2dd7d2['length']-(-0x5*0x7c1+0x267b+-0xf*-0x5)),_0x4fdac8=_0x2f469c[_0x418fba]-_0x2dd7d2['length'];for(let _0x5f3d37=0x847+0x6*-0x95+-0xaf*0x7;_0x5f3d37<_0x4fdac8;_0x5f3d37++)_0x2dd7d2+=_0x32def3;return _0x2dd7d2;}return _0x320092;}}['createShad'+'erDefiniti'+'on'](_0x330f16,_0x5ee5b2){const _0x27280b=Ks['get'](_0x330f16)['getByIndex'](_0x5ee5b2['litOptions']['pass'])['isForward'],_0x3a9fe0=new $C(_0x330f16,_0x5ee5b2['litOptions']),_0x1efda1=[],_0x281f72=[],_0x172b56=[],_0xe23d21=0x23e7+-0x4db+-0x1f0a,_0x3c4522={};for(const _0xa7a4f4 in fa){const _0x5b72d5=_0xa7a4f4+'Map';if(_0x5ee5b2[_0xa7a4f4+('VertexColo'+'r')]){const _0x1eceb3=_0xa7a4f4+('VertexColo'+'rChannel');_0x5ee5b2[_0x1eceb3]=this['_correctCh'+'annel'](_0xa7a4f4,_0x5ee5b2[_0x1eceb3],fa);}if(_0x5ee5b2[_0x5b72d5]){const _0x2b15fa=_0x5b72d5+'Channel',_0x20a3d6=_0x5b72d5+'Transform',_0x20e0c8=_0x5b72d5+'Uv';_0x5ee5b2[_0x20e0c8]=Math['min'](_0x5ee5b2[_0x20e0c8],_0xe23d21-(0x1*-0xbed+-0x1981+0x256f)),_0x5ee5b2[_0x2b15fa]=this['_correctCh'+'annel'](_0xa7a4f4,_0x5ee5b2[_0x2b15fa],fa);const _0x4b81d1=_0x5ee5b2[_0x20e0c8];_0x1efda1[_0x4b81d1]=!(0x1*-0x6dc+-0x10c*-0x1f+-0x75*0x38),_0x281f72[_0x4b81d1]=_0x281f72[_0x4b81d1]||_0x5ee5b2[_0x5b72d5]&&!_0x5ee5b2[_0x20a3d6],_0x5ee5b2[_0x20a3d6]&&_0x172b56['push']({'name':_0xa7a4f4,'id':_0x5ee5b2[_0x20a3d6],'uv':_0x5ee5b2[_0x20e0c8]});}}_0x5ee5b2['forceUv1']&&(_0x1efda1[-0x4e7+-0x17ad+0x1c95]=!(0xb38*-0x1+0x1*-0x15cb+0x2103),_0x281f72[-0x179+-0x1*-0x11de+-0x2*0x832]=_0x281f72[-0x10*-0xc+-0x62f*-0x1+0x377*-0x2]!==void(-0x1cde+-0x1*-0xbce+0x1110)?_0x281f72[0x23eb*-0x1+-0x1236+-0xd*-0x42a]:!(-0x38*0x7a+-0x226f+0x3d1f)),_0x3a9fe0['generateVe'+'rtexShader'](_0x1efda1,_0x281f72,_0x172b56),_0x5ee5b2['litOptions']['fresnelMod'+'el']=_0x5ee5b2['litOptions']['fresnelMod'+'el']===-0x1db0+-0x39a+0x1*0x214a?Sp:_0x5ee5b2['litOptions']['fresnelMod'+'el'];const _0x27c15d=new sr(),_0x4cc53b=new sr(),_0xaee9ad=new sr(),_0x3cea58=new sr();let _0x354740='';if(_0x5ee5b2['litOptions']['nineSliced'+'Mode']===Qe?_0x27c15d['append']('const\x20floa'+'t\x20textureB'+'ias\x20=\x20-100'+'0.0;'):_0x27c15d['append']('uniform\x20fl'+'oat\x20textur'+'eBias;'),_0x27280b){if(_0x5ee5b2['heightMap']&&(_0x27c15d['append']('vec2\x20dUvOf'+'fset;'),_0x4cc53b['append'](this['_addMap']('height','parallaxPS',_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522)),_0xaee9ad['append']('getParalla'+'x();')),_0x5ee5b2['litOptions']['blendType']!==is||_0x5ee5b2['litOptions']['alphaTest']||_0x5ee5b2['litOptions']['alphaToCov'+'erage']||_0x5ee5b2['litOptions']['opacityDit'+'her']!==Rs){_0x27c15d['append']('float\x20dAlp'+'ha;'),_0x4cc53b['append'](this['_addMap']('opacity','opacityPS',_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522)),_0xaee9ad['append']('getOpacity'+'();'),_0x3cea58['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x5ee5b2['litOptions']['alphaTest']&&(_0x4cc53b['append'](_0x3a9fe0['chunks']['alphaTestP'+'S']),_0xaee9ad['append']('alphaTest('+'dAlpha);'));const _0x4bf2ad=_0x5ee5b2['litOptions']['opacityDit'+'her'];_0x4bf2ad!==Rs&&(_0x4bf2ad===Nm&&_0x27c15d['append'](_0x3a9fe0['chunks']['bayerPS']),_0x27c15d['append']('#define\x20DI'+'THER_'+_0x4bf2ad['toUpperCas'+'e']()+'\x0a'),_0x27c15d['append'](_0x3a9fe0['chunks']['opacityDit'+'herPS']),_0xaee9ad['append']('opacityDit'+'her(dAlpha'+',\x200.0);'));}else _0x27c15d['append']('float\x20dAlp'+'ha\x20=\x201.0;');if(_0x3a9fe0['needsNorma'+'l']){if((_0x5ee5b2['normalMap']||_0x5ee5b2['clearCoatN'+'ormalMap'])&&(_0x4cc53b['append'](_0x5ee5b2['packedNorm'+'al']?_0x3a9fe0['chunks']['normalXYPS']:_0x3a9fe0['chunks']['normalXYZP'+'S']),!_0x5ee5b2['litOptions']['hasTangent'+'s'])){const _0x12dc22=_0x5ee5b2['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x354740=this['_getUvSour'+'ceExpressi'+'on'](_0x12dc22+'Transform',_0x12dc22+'Uv',_0x5ee5b2);}_0x27c15d['append']('vec3\x20dNorm'+'alW;'),_0x4cc53b['append'](this['_addMap']('normalDeta'+'il','normalDeta'+'ilMapPS',_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522)),_0x4cc53b['append'](this['_addMap']('normal','normalMapP'+'S',_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522)),_0xaee9ad['append']('getNormal('+');'),_0x3cea58['append']('litArgs_wo'+'rldNormal\x20'+'=\x20dNormalW'+';');}if(_0x3a9fe0['needsScene'+'Color']&&_0x27c15d['append']('uniform\x20sa'+'mpler2D\x20uS'+'ceneColorM'+'ap;'),_0x3a9fe0['needsScree'+'nSize']&&_0x27c15d['append']('uniform\x20ve'+'c4\x20uScreen'+'Size;'),_0x3a9fe0['needsTrans'+'forms']&&(_0x27c15d['append']('uniform\x20ma'+'t4\x20matrix_'+'viewProjec'+'tion;'),_0x27c15d['append']('uniform\x20ma'+'t4\x20matrix_'+'model;')),(_0x5ee5b2['diffuseDet'+'ail']||_0x5ee5b2['aoDetail'])&&_0x4cc53b['append'](_0x3a9fe0['chunks']['detailMode'+'sPS']),_0x27c15d['append']('vec3\x20dAlbe'+'do;'),_0x5ee5b2['diffuseDet'+'ail']&&_0x4cc53b['append'](this['_addMap']('diffuseDet'+'ail','diffuseDet'+'ailMapPS',_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522,_0x5ee5b2['diffuseDet'+'ailEncodin'+'g'])),_0x4cc53b['append'](this['_addMap']('diffuse','diffusePS',_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522,_0x5ee5b2['diffuseEnc'+'oding'])),_0xaee9ad['append']('getAlbedo('+');'),_0x3cea58['append']('litArgs_al'+'bedo\x20=\x20dAl'+'bedo;'),_0x5ee5b2['litOptions']['useRefract'+'ion']&&(_0x27c15d['append']('float\x20dTra'+'nsmission;'),_0x4cc53b['append'](this['_addMap']('refraction','transmissi'+'onPS',_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522)),_0xaee9ad['append']('getRefract'+'ion();'),_0x3cea58['append']('litArgs_tr'+'ansmission'+'\x20=\x20dTransm'+'ission;'),_0x27c15d['append']('float\x20dThi'+'ckness;'),_0x4cc53b['append'](this['_addMap']('thickness','thicknessP'+'S',_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522)),_0xaee9ad['append']('getThickne'+'ss();'),_0x3cea58['append']('litArgs_th'+'ickness\x20=\x20'+'dThickness'+';'),_0x5ee5b2['litOptions']['dispersion']&&_0x3cea58['append']('litArgs_di'+'spersion\x20='+'\x20material_'+'dispersion'+';')),_0x5ee5b2['litOptions']['useIridesc'+'ence']&&(_0x27c15d['append']('float\x20dIri'+'descence;'),_0x4cc53b['append'](this['_addMap']('iridescenc'+'e','iridescenc'+'ePS',_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522)),_0xaee9ad['append']('getIridesc'+'ence();'),_0x3cea58['append']('litArgs_ir'+'idescence_'+'intensity\x20'+'=\x20dIridesc'+'ence;'),_0x27c15d['append']('float\x20dIri'+'descenceTh'+'ickness;'),_0x4cc53b['append'](this['_addMap']('iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522)),_0xaee9ad['append']('getIridesc'+'enceThickn'+'ess();'),_0x3cea58['append']('litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;')),_0x3a9fe0['lighting']&&_0x5ee5b2['litOptions']['useSpecula'+'r']||_0x3a9fe0['reflection'+'s']?(_0x27c15d['append']('vec3\x20dSpec'+'ularity;'),_0x27c15d['append']('float\x20dGlo'+'ssiness;'),_0x5ee5b2['litOptions']['useSheen']&&(_0x27c15d['append']('vec3\x20sSpec'+'ularity;'),_0x4cc53b['append'](this['_addMap']('sheen','sheenPS',_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522,_0x5ee5b2['sheenEncod'+'ing'])),_0xaee9ad['append']('getSheen()'+';'),_0x3cea58['append']('litArgs_sh'+'een_specul'+'arity\x20=\x20sS'+'pecularity'+';'),_0x27c15d['append']('float\x20sGlo'+'ssiness;'),_0x4cc53b['append'](this['_addMap']('sheenGloss','sheenGloss'+'PS',_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522)),_0xaee9ad['append']('getSheenGl'+'ossiness()'+';'),_0x3cea58['append']('litArgs_sh'+'een_gloss\x20'+'=\x20sGlossin'+'ess;')),_0x5ee5b2['litOptions']['useMetalne'+'ss']&&(_0x27c15d['append']('float\x20dMet'+'alness;'),_0x4cc53b['append'](this['_addMap']('metalness','metalnessP'+'S',_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522)),_0xaee9ad['append']('getMetalne'+'ss();'),_0x3cea58['append']('litArgs_me'+'talness\x20=\x20'+'dMetalness'+';'),_0x27c15d['append']('float\x20dIor'+';'),_0x4cc53b['append'](this['_addMap']('ior','iorPS',_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522)),_0xaee9ad['append']('getIor();'),_0x3cea58['append']('litArgs_io'+'r\x20=\x20dIor;')),_0x5ee5b2['litOptions']['useSpecula'+'rityFactor']&&(_0x27c15d['append']('float\x20dSpe'+'cularityFa'+'ctor;'),_0x4cc53b['append'](this['_addMap']('specularit'+'yFactor','specularit'+'yFactorPS',_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522)),_0xaee9ad['append']('getSpecula'+'rityFactor'+'();'),_0x3cea58['append']('litArgs_sp'+'ecularityF'+'actor\x20=\x20dS'+'pecularity'+'Factor;')),_0x5ee5b2['useSpecula'+'rColor']?_0x4cc53b['append'](this['_addMap']('specular','specularPS',_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522,_0x5ee5b2['specularEn'+'coding'])):_0x4cc53b['append']('void\x20getSp'+'ecularity('+')\x20{\x20dSpecu'+'larity\x20=\x20v'+'ec3(1);\x20}'),_0x4cc53b['append'](this['_addMap']('gloss','glossPS',_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522)),_0xaee9ad['append']('getGlossin'+'ess();'),_0xaee9ad['append']('getSpecula'+'rity();'),_0x3cea58['append']('litArgs_sp'+'ecularity\x20'+'=\x20dSpecula'+'rity;'),_0x3cea58['append']('litArgs_gl'+'oss\x20=\x20dGlo'+'ssiness;')):(_0x27c15d['append']('vec3\x20dSpec'+'ularity\x20=\x20'+'vec3(0.0);'),_0x27c15d['append']('float\x20dGlo'+'ssiness\x20=\x20'+'0.0;')),_0x5ee5b2['aoDetail']&&_0x4cc53b['append'](this['_addMap']('aoDetail','aoDetailMa'+'pPS',_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522)),(_0x5ee5b2['aoMap']||_0x5ee5b2['aoVertexCo'+'lor']||_0x5ee5b2['useAO'])&&(_0x27c15d['append']('float\x20dAo;'),_0x4cc53b['append'](this['_addMap']('ao','aoPS',_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522)),_0xaee9ad['append']('getAO();'),_0x3cea58['append']('litArgs_ao'+'\x20=\x20dAo;')),_0x27c15d['append']('vec3\x20dEmis'+'sion;'),_0x4cc53b['append'](this['_addMap']('emissive','emissivePS',_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522,_0x5ee5b2['emissiveEn'+'coding'])),_0xaee9ad['append']('getEmissio'+'n();'),_0x3cea58['append']('litArgs_em'+'ission\x20=\x20d'+'Emission;'),_0x5ee5b2['litOptions']['useClearCo'+'at']&&(_0x27c15d['append']('float\x20ccSp'+'ecularity;'),_0x27c15d['append']('float\x20ccGl'+'ossiness;'),_0x27c15d['append']('vec3\x20ccNor'+'malW;'),_0x4cc53b['append'](this['_addMap']('clearCoat','clearCoatP'+'S',_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522)),_0x4cc53b['append'](this['_addMap']('clearCoatG'+'loss','clearCoatG'+'lossPS',_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522)),_0x4cc53b['append'](this['_addMap']('clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522)),_0xaee9ad['append']('getClearCo'+'at();'),_0xaee9ad['append']('getClearCo'+'atGlossine'+'ss();'),_0xaee9ad['append']('getClearCo'+'atNormal()'+';'),_0x3cea58['append']('litArgs_cl'+'earcoat_sp'+'ecularity\x20'+'=\x20ccSpecul'+'arity;'),_0x3cea58['append']('litArgs_cl'+'earcoat_gl'+'oss\x20=\x20ccGl'+'ossiness;'),_0x3cea58['append']('litArgs_cl'+'earcoat_wo'+'rldNormal\x20'+'=\x20ccNormal'+'W;')),_0x5ee5b2['lightMap']||_0x5ee5b2['lightVerte'+'xColor']){const _0x4b4506=_0x5ee5b2['dirLightMa'+'p']&&_0x5ee5b2['litOptions']['useSpecula'+'r'],_0xba5614=_0x4b4506?'lightmapDi'+'rPS':'lightmapSi'+'nglePS';_0x27c15d['append']('vec3\x20dLigh'+'tmap;'),_0x4b4506&&_0x27c15d['append']('vec3\x20dLigh'+'tmapDir;'),_0x4cc53b['append'](this['_addMap']('light',_0xba5614,_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522,_0x5ee5b2['lightMapEn'+'coding'])),_0xaee9ad['append']('getLightMa'+'p();'),_0x3cea58['append']('litArgs_li'+'ghtmap\x20=\x20d'+'Lightmap;'),_0x4b4506&&_0x3cea58['append']('litArgs_li'+'ghtmapDir\x20'+'=\x20dLightma'+'pDir;');}v['assert'](_0x4cc53b['code']['indexOf']('texture2DS'+'RGB')===-(0xd0c*0x2+0x1d57+-0x2b*0x14a)&&_0x4cc53b['code']['indexOf']('texture2DR'+'GBM')===-(0xbb3+-0x3*-0x346+0x1*-0x1584)&&_0x4cc53b['code']['indexOf']('texture2DR'+'GBE')===-(0x304*-0x9+-0x144c+-0x23*-0x15b),'Shader\x20chu'+'nk\x20macro\x20$'+'texture2DS'+'AMPLE(XXX)'+'\x20is\x20deprec'+'ated.\x20Plea'+'se\x20use\x20$DE'+'CODE(textu'+'re2D(XXX))'+'\x20instead.');}else{const _0x3318c5=_0x5ee5b2['litOptions']['opacitySha'+'dowDither'];(_0x5ee5b2['litOptions']['alphaTest']||_0x3318c5)&&(_0x27c15d['append']('float\x20dAlp'+'ha;'),_0x4cc53b['append'](this['_addMap']('opacity','opacityPS',_0x5ee5b2,_0x3a9fe0['chunks'],_0x3c4522)),_0xaee9ad['append']('getOpacity'+'();'),_0x3cea58['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x5ee5b2['litOptions']['alphaTest']&&(_0x4cc53b['append'](_0x3a9fe0['chunks']['alphaTestP'+'S']),_0xaee9ad['append']('alphaTest('+'dAlpha);')),_0x3318c5!==Rs&&(_0x3318c5===Nm&&_0x27c15d['append'](_0x3a9fe0['chunks']['bayerPS']),_0x27c15d['append']('#define\x20DI'+'THER_'+_0x3318c5['toUpperCas'+'e']()+'\x0a'),_0x27c15d['append'](_0x3a9fe0['chunks']['opacityDit'+'herPS']),_0xaee9ad['append']('opacityDit'+'her(dAlpha'+',\x200.0);')));}_0x27c15d['append'](_0x3a9fe0['chunks']['litShaderA'+'rgsPS']),_0x4cc53b['append']('void\x20evalu'+'ateFronten'+'d()\x20{\x20\x0a'+_0xaee9ad['code']+'\x0a'+_0x3cea58['code']+'\x0a\x20}\x0a'),_0xaee9ad['code']='evaluateFr'+'ontend();';for(const _0x3e3935 in _0x3c4522)_0x27c15d['append']('uniform\x20sa'+'mpler2D\x20'+_0x3c4522[_0x3e3935]+';');_0xaee9ad['code']='\x0a'+_0xaee9ad['code']['split']('\x0a')['map'](_0x728808=>'\x20\x20\x20\x20'+_0x728808)['join']('\x0a')+'\x0a\x0a',_0x3a9fe0['generateFr'+'agmentShad'+'er'](_0x27c15d['code'],_0x4cc53b['code'],_0xaee9ad['code'],_0x354740);const _0x3e0282=new Map(Object['entries']({...Object['getPrototy'+'peOf'](_0x3a9fe0['chunks']),..._0x3a9fe0['chunks'],..._0x5ee5b2['litOptions']['chunks']})),_0x3db799=new Map(_0x5ee5b2['defines']),_0x690140=Mt['createDefi'+'nition'](_0x330f16,{'name':'StandardSh'+'ader','attributes':_0x3a9fe0['attributes'],'vertexCode':_0x3a9fe0['vshader'],'fragmentCode':_0x3a9fe0['fshader'],'vertexIncludes':_0x3e0282,'fragmentIncludes':_0x3e0282,'fragmentDefines':_0x3db799,'vertexDefines':_0x3db799});return _0x3a9fe0['shaderPass'+'Info']['isForward']&&(_0x690140['tag']=Ly),_0x690140;}}const Ed=new XC(),Ft=[];Ft[n0]={'src':at,'dst':at,'op':ES},Ft[is]={'src':at,'dst':kf,'op':Lt},Ft[Kt]={'src':dc,'dst':uc,'op':Lt,'alphaSrc':at},Ft[hr]={'src':at,'dst':uc,'op':Lt},Ft[yp]={'src':at,'dst':at,'op':Lt},Ft[Hc]={'src':dc,'dst':at,'op':Lt},Ft[a0]={'src':dy,'dst':TS,'op':Lt},Ft[o0]={'src':AS,'dst':at,'op':Lt},Ft[xp]={'src':dy,'dst':kf,'op':Lt},Ft[l0]={'src':at,'dst':at,'op':CS},Ft[h0]={'src':at,'dst':at,'op':MS};let jC=-0x3*0x529+0x46f*-0x1+-0x9f5*-0x2;class yn{constructor(){c(this,'meshInstan'+'ces',[]),c(this,'name','Untitled'),c(this,'userId',''),c(this,'id',jC++),c(this,'variants',new Map()),c(this,'defines',new Map()),c(this,'_definesDi'+'rty',!(0x3a*0x85+0x17b4+-0x1*0x35d5)),c(this,'parameters',{}),c(this,'alphaTest',-0x1*-0x1ebf+-0x36*-0x92+-0x3d8b),c(this,'alphaToCov'+'erage',!(-0x1f5a+0x19a7+0x5b4)),c(this,'_blendStat'+'e',new _t()),c(this,'_depthStat'+'e',new as()),c(this,'cull',rn),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'_chunks',{}),c(this,'_dirtyShad'+'er',!(0x1*-0x19fb+-0xad5+-0x1f0*-0x13)),c(this,'_shaderVer'+'sion',0x3b*-0x9f+0x26b*0x10+-0x20b),c(this,'_scene',null),c(this,'dirty',!(0x9*-0x3cc+0x5a1+-0x1c8b*-0x1)),new.target===yn&&v['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}set['chunks'](_0x49e4ce){this['_dirtyShad'+'er']=!(0x17f7+0x17ef+0x2fe6*-0x1),this['_chunks']=_0x49e4ce;}get['chunks'](){return this['_dirtyShad'+'er']=!(0x1de+-0x2*-0x69d+-0xb8*0x15),this['_chunks'];}set['depthBias'](_0x437823){this['_depthStat'+'e']['depthBias']=_0x437823;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x305deb){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x305deb;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x5ec279){this['_blendStat'+'e']['redWrite']=_0x5ec279;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x2e8551){this['_blendStat'+'e']['greenWrite']=_0x2e8551;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x19c725){this['_blendStat'+'e']['blueWrite']=_0x19c725;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x53a159){this['_blendStat'+'e']['alphaWrite']=_0x53a159;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x813fff=this['transparen'+'t'],_0x447986=this['meshInstan'+'ces'];for(let _0x3d68dd=-0xcb9+-0xb7e+0x1837*0x1;_0x3d68dd<_0x447986['length'];_0x3d68dd++)_0x447986[_0x3d68dd]['transparen'+'t']=_0x813fff;}set['blendState'](_0x36c272){this['_blendStat'+'e']['copy'](_0x36c272),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x1f6dac){const _0x5887bf=Ft[_0x1f6dac];v['assert'](_0x5887bf,'Unknown\x20bl'+'end\x20mode\x20'+_0x1f6dac),this['_blendStat'+'e']['setColorBl'+'end'](_0x5887bf['op'],_0x5887bf['src'],_0x5887bf['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x5887bf['alphaOp']??_0x5887bf['op'],_0x5887bf['alphaSrc']??_0x5887bf['src'],_0x5887bf['alphaDst']??_0x5887bf['dst']);const _0x2a3c88=_0x1f6dac!==is;this['_blendStat'+'e']['blend']!==_0x2a3c88&&(this['_blendStat'+'e']['blend']=_0x2a3c88,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return is;const {colorOp:_0x331991,colorSrcFactor:_0x3e2dd0,colorDstFactor:_0x1e10d9,alphaOp:_0x2fe495,alphaSrcFactor:_0x5f1a8d,alphaDstFactor:_0x31de3d}=this['_blendStat'+'e'];for(let _0x1629f4=-0x222e+-0x7*-0x245+0x124b;_0x1629f4<Ft['length'];_0x1629f4++){const _0x2e2048=Ft[_0x1629f4];if(_0x2e2048['src']===_0x3e2dd0&&_0x2e2048['dst']===_0x1e10d9&&_0x2e2048['op']===_0x331991&&_0x2e2048['src']===_0x5f1a8d&&_0x2e2048['dst']===_0x31de3d&&_0x2e2048['op']===_0x2fe495)return _0x1629f4;}return Kt;}set['depthState'](_0x51929c){this['_depthStat'+'e']['copy'](_0x51929c);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x803203){this['_depthStat'+'e']['test']=_0x803203;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x4b9f5d){this['_depthStat'+'e']['func']=_0x4b9f5d;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x1c18ad){this['_depthStat'+'e']['write']=_0x1c18ad;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x3d0433){var _0x40cd9c;this['name']=_0x3d0433['name'],this['alphaTest']=_0x3d0433['alphaTest'],this['alphaToCov'+'erage']=_0x3d0433['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x3d0433['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x3d0433['_depthStat'+'e']),this['cull']=_0x3d0433['cull'],this['stencilFro'+'nt']=(_0x40cd9c=_0x3d0433['stencilFro'+'nt'])==null?void(-0x1*-0x2359+0x259c+-0x48f5):_0x40cd9c['clone'](),_0x3d0433['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x3d0433['stencilFro'+'nt']===_0x3d0433['stencilBac'+'k']?this['stencilFro'+'nt']:_0x3d0433['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x5ed30b in _0x3d0433['parameters'])_0x3d0433['parameters']['hasOwnProp'+'erty'](_0x5ed30b)&&this['_setParame'+'terSimple'](_0x5ed30b,_0x3d0433['parameters'][_0x5ed30b]['data']);this['defines']['clear'](),_0x3d0433['defines']['forEach']((_0x2ff7df,_0x1b1fee)=>this['defines']['set'](_0x1b1fee,_0x2ff7df));const _0x2285be=_0x3d0433['_chunks'];for(const _0x12f998 in _0x2285be)_0x2285be['hasOwnProp'+'erty'](_0x12f998)&&(this['_chunks'][_0x12f998]=_0x2285be[_0x12f998]);return this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x4ea302=this['meshInstan'+'ces'];for(let _0x46e291=-0x10e0+0x6fb*0x1+0x95*0x11;_0x46e291<_0x4ea302['length'];_0x46e291++)_0x4ea302[_0x46e291]['updateKey']();}['updateUnif'+'orms'](_0x383540,_0x93cecc){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x82b166){v['assert'](!(0xc8b*0x1+-0x9*0x1b+-0x3*0x3dd),'Not\x20implem'+'ented');}['update'](){this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(-0x1*-0x560+0x9b8+-0xf17*0x1),this['clearVaria'+'nts']()),this['dirty']=!(0x2046+0x1066+-0x26f*0x14);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x7aed32=this['meshInstan'+'ces'],_0x34f2c2=_0x7aed32['length'];for(let _0x4ebc6d=0x1*0x27c+-0x48*0x7e+-0x94*-0x39;_0x4ebc6d<_0x34f2c2;_0x4ebc6d++)_0x7aed32[_0x4ebc6d]['clearShade'+'rs']();}['getParamet'+'er'](_0x382a9e){return this['parameters'][_0x382a9e];}['_setParame'+'terSimple'](_0x4884de,_0x321801){v['call'](()=>{_0x321801===void(0x1*0xb79+-0xa92*0x2+-0x4b*-0x21)&&v['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x4884de+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'));});const _0x29f173=this['parameters'][_0x4884de];_0x29f173?_0x29f173['data']=_0x321801:this['parameters'][_0x4884de]={'scopeId':null,'data':_0x321801};}['setParamet'+'er'](_0x31f2ef,_0x311b62){if(_0x311b62===void(-0x96d+-0x2*0xa+-0x981*-0x1)&&typeof _0x31f2ef=='object'){const _0xdcb44f=_0x31f2ef;if(_0xdcb44f['length']){for(let _0x39143f=0x15b6+-0x22ae+0xcf8;_0x39143f<_0xdcb44f['length'];_0x39143f++)this['setParamet'+'er'](_0xdcb44f[_0x39143f]);return;}_0x31f2ef=_0xdcb44f['name'],_0x311b62=_0xdcb44f['value'];}this['_setParame'+'terSimple'](_0x31f2ef,_0x311b62);}['deletePara'+'meter'](_0x463dbe){this['parameters'][_0x463dbe]&&delete this['parameters'][_0x463dbe];}['setParamet'+'ers'](_0x45b7d5,_0x40e84c){const _0x4818d9=this['parameters'];_0x40e84c===void(-0x242e*0x1+0x2*-0x1319+-0x70*-0xaa)&&(_0x40e84c=_0x4818d9);for(const _0x4fbb97 in _0x40e84c){const _0x2db904=_0x4818d9[_0x4fbb97];_0x2db904&&(_0x2db904['scopeId']||(_0x2db904['scopeId']=_0x45b7d5['scope']['resolve'](_0x4fbb97)),_0x2db904['scopeId']['setValue'](_0x2db904['data']));}}['setDefine'](_0x4b1807,_0x4605f1){let _0x32ba3c=!(0x7b2*-0x1+-0x679*-0x5+-0x18aa);const {defines:_0x5284b8}=this;_0x4605f1!==void(0x17a6+0x42*-0x72+0x93*0xa)&&_0x4605f1!==!(-0x6*0x397+-0x1fa4+-0x799*-0x7)?(_0x32ba3c=!_0x5284b8['has'](_0x4b1807)||_0x5284b8['get'](_0x4b1807)!==_0x4605f1,_0x5284b8['set'](_0x4b1807,_0x4605f1)):(_0x32ba3c=_0x5284b8['has'](_0x4b1807),_0x5284b8['delete'](_0x4b1807)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x32ba3c);}['getDefine'](_0xb8f963){return this['defines']['has'](_0xb8f963);}['destroy'](){this['variants']['clear']();for(let _0x2d406f=0x2493+0x140d*0x1+0xe28*-0x4;_0x2d406f<this['meshInstan'+'ces']['length'];_0x2d406f++){const _0x503032=this['meshInstan'+'ces'][_0x2d406f];if(_0x503032['clearShade'+'rs'](),_0x503032['_material']=null,_0x503032['mesh']){const _0x165baf=al(_0x503032['mesh']['device']);this!==_0x165baf&&(_0x503032['material']=_0x165baf);}else v['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=-0x9f*-0x2+0x3*0xb7+-0x363;}['addMeshIns'+'tanceRef'](_0x2dfaf7){this['meshInstan'+'ces']['push'](_0x2dfaf7);}['removeMesh'+'InstanceRe'+'f'](_0x3cff03){const _0x3ebd1d=this['meshInstan'+'ces'],_0x335566=_0x3ebd1d['indexOf'](_0x3cff03);_0x335566!==-(0x394+-0x870+0x4dd)&&_0x3ebd1d['splice'](_0x335566,0x4*-0x3a6+-0x116e+-0x38f*-0x9);}}class As{static['update'](_0x2ffc29,_0x3fba02,_0x42be0c,_0x32b461,_0x111217,_0x247dd1,_0x4ada4a){As['updateShar'+'edOptions'](_0x2ffc29,_0x3fba02,_0x42be0c,_0x111217,_0x247dd1),As['updateMate'+'rialOption'+'s'](_0x2ffc29,_0x3fba02),As['updateEnvO'+'ptions'](_0x2ffc29,_0x3fba02,_0x42be0c,_0x32b461),As['updateLigh'+'tingOption'+'s'](_0x2ffc29,_0x3fba02,_0x111217,_0x4ada4a);}static['updateShar'+'edOptions'](_0x21af2f,_0x5dd3c7,_0x683cab,_0x1282b9,_0x432f18){_0x21af2f['chunks']=_0x5dd3c7['chunks'],_0x21af2f['pass']=_0x432f18,_0x21af2f['alphaTest']=_0x5dd3c7['alphaTest']>0x1662+-0x2*-0xaed+0x161e*-0x2,_0x21af2f['blendType']=_0x5dd3c7['blendType'],_0x21af2f['screenSpac'+'e']=_0x1282b9&&(_0x1282b9&Cp)!==0x115*-0x3+0x3*-0x24b+0xa20,_0x21af2f['skin']=_0x1282b9&&(_0x1282b9&Wc)!==-0x10f7*0x1+0x48d*-0x7+0x30d2,_0x21af2f['useInstanc'+'ing']=_0x1282b9&&(_0x1282b9&$c)!==0x1*-0x1e57+-0x1*-0x2645+-0x7ee,_0x21af2f['useMorphPo'+'sition']=_0x1282b9&&(_0x1282b9&qc)!==-0xe6*-0x27+0x1*0x59f+-0x28a9,_0x21af2f['useMorphNo'+'rmal']=_0x1282b9&&(_0x1282b9&Xc)!==0x2*-0xa59+-0xe83*0x1+0x2335,_0x21af2f['useMorphTe'+'xtureBased'+'Int']=_0x1282b9&&(_0x1282b9&jc)!==-0x1*0x1949+-0x1*-0x100f+0x93a,_0x21af2f['hasTangent'+'s']=_0x1282b9&&(_0x1282b9&Mp)!==0x5d8+-0x1c5*0xd+0x1129,_0x21af2f['nineSliced'+'Mode']=_0x5dd3c7['nineSliced'+'Mode']||Ti,_0x5dd3c7['useLightin'+'g']&&_0x683cab['clusteredL'+'ightingEna'+'bled']?(_0x21af2f['clusteredL'+'ightingEna'+'bled']=!(-0x2e+0x1f84+-0x2a*0xbf),_0x21af2f['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x683cab['lighting']['cookiesEna'+'bled'],_0x21af2f['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x683cab['lighting']['shadowsEna'+'bled'],_0x21af2f['clusteredL'+'ightingSha'+'dowType']=_0x683cab['lighting']['shadowType'],_0x21af2f['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x683cab['lighting']['areaLights'+'Enabled']):(_0x21af2f['clusteredL'+'ightingEna'+'bled']=!(0x5c3+-0x223+-0x39f),_0x21af2f['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0x75+-0x78*-0x38+-0x4*0x6ad),_0x21af2f['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x24c1*0x1+0x90b+-0x13*0x269),_0x21af2f['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x59c+0x1*-0x151b+-0x3e0*-0x4));}static['updateMate'+'rialOption'+'s'](_0x5280df,_0x475505){_0x5280df['separateAm'+'bient']=!(-0x16fd+-0x1805+0x2f03),_0x5280df['customFrag'+'mentShader']=null,_0x5280df['pixelSnap']=_0x475505['pixelSnap'],_0x5280df['ambientSH']=_0x475505['ambientSH'],_0x5280df['twoSidedLi'+'ghting']=_0x475505['twoSidedLi'+'ghting'],_0x5280df['occludeDir'+'ect']=_0x475505['occludeDir'+'ect'],_0x5280df['occludeSpe'+'cular']=_0x475505['occludeSpe'+'cular'],_0x5280df['occludeSpe'+'cularFloat']=_0x475505['occludeSpe'+'cularInten'+'sity']!==-0xffd*-0x1+-0xfd6+-0x26,_0x5280df['useMsdf']=!(0x9*-0x25a+-0x4a7*0x6+0x3115),_0x5280df['msdfTextAt'+'tribute']=!(0x1382+-0x2*0xedd+0xa39),_0x5280df['alphaToCov'+'erage']=_0x475505['alphaToCov'+'erage'],_0x5280df['opacityFad'+'esSpecular']=_0x475505['opacityFad'+'esSpecular'],_0x5280df['opacityDit'+'her']=_0x475505['opacityDit'+'her'],_0x5280df['cubeMapPro'+'jection']=u0,_0x5280df['useSpecula'+'r']=_0x475505['hasSpecula'+'r'],_0x5280df['useSpecula'+'rityFactor']=_0x475505['hasSpecula'+'rityFactor'],_0x5280df['enableGGXS'+'pecular']=_0x475505['ggxSpecula'+'r'],_0x5280df['fresnelMod'+'el']=_0x475505['fresnelMod'+'el'],_0x5280df['useRefract'+'ion']=_0x475505['hasRefract'+'ion'],_0x5280df['useClearCo'+'at']=_0x475505['hasClearCo'+'at'],_0x5280df['useSheen']=_0x475505['hasSheen'],_0x5280df['useIridesc'+'ence']=_0x475505['hasIrrides'+'cence'],_0x5280df['useMetalne'+'ss']=_0x475505['hasMetalne'+'ss'],_0x5280df['useDynamic'+'Refraction']=_0x475505['dynamicRef'+'raction'],_0x5280df['dispersion']=_0x475505['dispersion']>-0x577+0x2b*0xae+-0x17c3,_0x5280df['vertexColo'+'rs']=!(0xdc5*-0x1+-0x236c*-0x1+-0x15a6),_0x5280df['lightMapEn'+'abled']=_0x475505['hasLightin'+'g'],_0x5280df['dirLightMa'+'pEnabled']=_0x475505['dirLightMa'+'p'],_0x5280df['useHeights']=_0x475505['hasHeights'],_0x5280df['useNormals']=_0x475505['hasNormals'],_0x5280df['useClearCo'+'atNormals']=_0x475505['hasClearCo'+'atNormals'],_0x5280df['useAo']=_0x475505['hasAo'],_0x5280df['diffuseMap'+'Enabled']=_0x475505['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x4cf207,_0x3b4585,_0x5ebc15,_0x5292d7){_0x4cf207['fog']=_0x3b4585['useFog']?_0x5292d7['fog']:Fa,_0x4cf207['gamma']=_0x5292d7['shaderOutp'+'utGamma'],_0x4cf207['toneMap']=_0x3b4585['useTonemap']?_0x5292d7['toneMappin'+'g']:f0,_0x3b4585['useSkybox']&&_0x5ebc15['envAtlas']&&_0x5ebc15['skybox']?(_0x4cf207['reflection'+'Source']='envAtlasHQ',_0x4cf207['reflection'+'Encoding']=_0x5ebc15['envAtlas']['encoding'],_0x4cf207['reflection'+'CubemapEnc'+'oding']=_0x5ebc15['skybox']['encoding']):_0x3b4585['useSkybox']&&_0x5ebc15['envAtlas']?(_0x4cf207['reflection'+'Source']='envAtlas',_0x4cf207['reflection'+'Encoding']=_0x5ebc15['envAtlas']['encoding']):_0x3b4585['useSkybox']&&_0x5ebc15['skybox']?(_0x4cf207['reflection'+'Source']='cubeMap',_0x4cf207['reflection'+'Encoding']=_0x5ebc15['skybox']['encoding']):(_0x4cf207['reflection'+'Source']=null,_0x4cf207['reflection'+'Encoding']=null),_0x3b4585['ambientSH']?(_0x4cf207['ambientSou'+'rce']='ambientSH',_0x4cf207['ambientEnc'+'oding']=null):_0x4cf207['reflection'+'Source']&&_0x5ebc15['envAtlas']?(_0x4cf207['ambientSou'+'rce']='envAtlas',_0x4cf207['ambientEnc'+'oding']=_0x5ebc15['envAtlas']['encoding']):(_0x4cf207['ambientSou'+'rce']='constant',_0x4cf207['ambientEnc'+'oding']=null);const _0x333a34=!!_0x4cf207['reflection'+'Source'];_0x4cf207['skyboxInte'+'nsity']=_0x333a34,_0x4cf207['useCubeMap'+'Rotation']=_0x333a34&&_0x5ebc15['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x452404,_0x4b76ff,_0x230a7f,_0x2cf5be){if(_0x452404['lightMapWi'+'thoutAmbie'+'nt']=!(0x19f*0x3+-0x2225*0x1+0x1d49),_0x4b76ff['useLightin'+'g']){const _0x505596=[],_0xdf3f5d=_0x230a7f?_0x230a7f>>0x6ed+0x36d*-0x5+0xa44:hs;_0x452404['lightMaskD'+'ynamic']=!!(_0xdf3f5d&hs),_0x452404['lightMapWi'+'thoutAmbie'+'nt']=!(0x19c4+0xc6f+-0x2632),_0x2cf5be&&(As['collectLig'+'hts'](oe,_0x2cf5be[oe],_0x505596,_0xdf3f5d),As['collectLig'+'hts'](Pe,_0x2cf5be[Pe],_0x505596,_0xdf3f5d),As['collectLig'+'hts'](Re,_0x2cf5be[Re],_0x505596,_0xdf3f5d)),_0x452404['lights']=_0x505596;}else _0x452404['lights']=[];(_0x452404['lights']['length']===-0x41*0x21+0x1073+-0x1*0x812||(_0x230a7f&Ep)!==-0x1*-0xc5b+0x2038+-0x2c93*0x1)&&(_0x452404['noShadow']=!(0x1919+0x425*-0x1+0x254*-0x9));}static['collectLig'+'hts'](_0xf7fef5,_0x5989bb,_0xe0603d,_0xf38ed2){for(let _0x3bfed8=0x320+0x23a*-0x8+-0x1d6*-0x8;_0x3bfed8<_0x5989bb['length'];_0x3bfed8++){const _0x3840ef=_0x5989bb[_0x3bfed8];_0x3840ef['enabled']&&_0x3840ef['mask']&_0xf38ed2&&_0xe0603d['push'](_0x3840ef);}}}const c_=(_0x82a7fe,_0x12ad6c)=>{if(_0x82a7fe['length']!==_0x12ad6c['length'])return!(-0x2*0x581+0xa98+-0x1*-0x6b);for(let _0x4e1b16=-0x1582+0x4*-0x469+0x2726;_0x4e1b16<_0x82a7fe['length'];++_0x4e1b16)if(_0x82a7fe[_0x4e1b16]!==_0x12ad6c[_0x4e1b16])return!(0x3cb+0x3*-0x853+0x152f);return!(0xbbd+-0xe*-0x142+-0x1d59);},YC=_0x5a7673=>_0x5a7673['r']!==0x45d*-0x1+-0xb*-0x305+0x23*-0xd3||_0x5a7673['g']!==-0x1*0x79d+0xbf6+0x1*-0x458||_0x5a7673['b']!==0x0+-0xe7e+-0x4d5*-0x3,KC=_0x261117=>_0x261117['r']!==-0x1081+-0xdb6+0x1e37||_0x261117['g']!==-0x361*0xb+-0x12*-0x25+0x2291*0x1||_0x261117['b']!==0x8f9*-0x2+0x87f+0x973;class ZC{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x56088b,_0x35cbc3,_0x2965b8,_0x3f40fa,_0x49673a,_0x25bb9){this['_updateSha'+'redOptions'](_0x56088b,_0x35cbc3,_0x2965b8,_0x3f40fa,_0x49673a),this['_updateMin'+'Options'](_0x56088b,_0x2965b8,_0x49673a),this['_updateUVO'+'ptions'](_0x56088b,_0x2965b8,_0x3f40fa,!(0x22c+-0x130b+0x10df*0x1));}['updateRef'](_0x3bc597,_0x11c1b9,_0xa6d0ea,_0x3b3eef,_0x2065f3,_0x44332b,_0x1eec04){this['_updateSha'+'redOptions'](_0x3bc597,_0x11c1b9,_0x3b3eef,_0x2065f3,_0x44332b),this['_updateEnv'+'Options'](_0x3bc597,_0x3b3eef,_0x11c1b9,_0xa6d0ea),this['_updateMat'+'erialOptio'+'ns'](_0x3bc597,_0x3b3eef),_0x3bc597['litOptions']['hasTangent'+'s']=_0x2065f3&&(_0x2065f3&Mp)!==-0xf30+-0x20bb+0x2feb,this['_updateLig'+'htOptions'](_0x3bc597,_0x11c1b9,_0x3b3eef,_0x2065f3,_0x1eec04),this['_updateUVO'+'ptions'](_0x3bc597,_0x3b3eef,_0x2065f3,!(-0x29*-0x5e+0x2325*-0x1+0x2*0xa0c),_0xa6d0ea);}['_updateSha'+'redOptions'](_0x276f2e,_0x522821,_0x34d54e,_0x21d5c2,_0x365dbb){_0x276f2e['forceUv1']=_0x34d54e['forceUv1'],_0x34d54e['userAttrib'+'utes']&&(_0x276f2e['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x34d54e['userAttrib'+'utes']['entries']())),_0x276f2e['litOptions']['chunks']=_0x34d54e['chunks']||{},_0x276f2e['litOptions']['pass']=_0x365dbb,_0x276f2e['litOptions']['alphaTest']=_0x34d54e['alphaTest']>0x2*0x1dc+-0x17e1+-0x1*-0x1429,_0x276f2e['litOptions']['blendType']=_0x34d54e['blendType'],_0x276f2e['litOptions']['screenSpac'+'e']=_0x21d5c2&&(_0x21d5c2&Cp)!==0x1d73+0x3d1*0x3+-0x15d*0x1e,_0x276f2e['litOptions']['skin']=_0x21d5c2&&(_0x21d5c2&Wc)!==0x107f*0x1+-0x1*0x23de+0x135f,_0x276f2e['litOptions']['batch']=_0x21d5c2&&(_0x21d5c2&Ou)!==0x2547+0x126*0x22+-0x4c53,_0x276f2e['litOptions']['useInstanc'+'ing']=_0x21d5c2&&(_0x21d5c2&$c)!==0x1*-0x223d+0x2642+0x157*-0x3,_0x276f2e['litOptions']['useMorphPo'+'sition']=_0x21d5c2&&(_0x21d5c2&qc)!==-0xe3+-0x49*-0x36+-0x1*0xe83,_0x276f2e['litOptions']['useMorphNo'+'rmal']=_0x21d5c2&&(_0x21d5c2&Xc)!==0xdb7+-0x10d*-0x20+-0x2f57,_0x276f2e['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x21d5c2&&(_0x21d5c2&jc)!==0xad7+-0x916+-0x1*0x1c1,_0x276f2e['litOptions']['nineSliced'+'Mode']=_0x34d54e['nineSliced'+'Mode']||-0x3b*0x83+-0x1a6e+0x389f,_0x522821['clusteredL'+'ightingEna'+'bled']&&_0x34d54e['useLightin'+'g']?(_0x276f2e['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x22be*0x1+-0x1dda+-0x2*0x272),_0x276f2e['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x522821['lighting']['cookiesEna'+'bled'],_0x276f2e['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x522821['lighting']['shadowsEna'+'bled'],_0x276f2e['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x522821['lighting']['shadowType'],_0x276f2e['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x522821['lighting']['areaLights'+'Enabled']):(_0x276f2e['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x5ea*-0x2+-0x1bcd+0x27a2),_0x276f2e['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0x3b*0x9b+-0x2*0x61b+-0x1782),_0x276f2e['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0xe53+0x1*-0x1d6e+0xe96*0x3),_0x276f2e['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x1*0x12fd+-0x15e8+-0x11*-0x2c));}['_updateUVO'+'ptions'](_0x3986be,_0x284723,_0x49d41c,_0x58348d,_0x10ea99){let _0x45ba29=!(-0x1a06+0x20be+-0x6b7),_0x559396=!(0x1e*-0x4a+0x4d*-0x7+-0x17*-0x78),_0x346076=!(-0x521+-0x6d3*0x4+0x206e);_0x49d41c&&(_0x45ba29=(_0x49d41c&m0)!==-0x1a8e+-0x1f25+-0x39b3*-0x1,_0x559396=(_0x49d41c&_0)!==0x1040+0x6b*0x30+0x7*-0x530,_0x346076=(_0x49d41c&g0)!==0x77*0x35+0xea4+-0x2747),_0x3986be['litOptions']['vertexColo'+'rs']=!(0x2416+0x3*-0x2d1+0x9*-0x312),this['_mapXForms']=[];const _0x1c05bc={};for(const _0x511be7 in fa)this['_updateTex'+'Options'](_0x3986be,_0x284723,_0x511be7,_0x45ba29,_0x559396,_0x346076,_0x58348d,_0x1c05bc);this['_mapXForms']=null,_0x3986be['litOptions']['ssao']=_0x10ea99==null?void(0x16e1+-0x1*0x13cd+0x4*-0xc5):_0x10ea99['ssaoEnable'+'d'],_0x3986be['useAO']=_0x3986be['litOptions']['ssao'],_0x3986be['litOptions']['lightMapEn'+'abled']=_0x3986be['lightMap'],_0x3986be['litOptions']['dirLightMa'+'pEnabled']=_0x3986be['dirLightMa'+'p'],_0x3986be['litOptions']['useHeights']=_0x3986be['heightMap'],_0x3986be['litOptions']['useNormals']=_0x3986be['normalMap'],_0x3986be['litOptions']['useClearCo'+'atNormals']=_0x3986be['clearCoatN'+'ormalMap'],_0x3986be['litOptions']['useAo']=_0x3986be['aoMap']||_0x3986be['aoVertexCo'+'lor']||_0x3986be['litOptions']['ssao'],_0x3986be['litOptions']['diffuseMap'+'Enabled']=_0x3986be['diffuseMap'];}['_updateTex'+'Options'](_0x5c2a5a,_0x2c1b44,_0x1cd299,_0xe2c8a6,_0x130d92,_0xeb4910,_0x2debcf,_0xc05574){const _0xf0600e=_0x1cd299==='opacity';if(!_0x2debcf||_0xf0600e){const _0x2d183d=_0x1cd299+'Map',_0xe9e27d=_0x1cd299+('VertexColo'+'r'),_0x4a79e9=_0x1cd299+('VertexColo'+'rChannel'),_0x5a162d=_0x2d183d+'Channel',_0x5380d4=_0x2d183d+'Transform',_0x351225=_0x2d183d+'Uv',_0x4d0080=_0x2d183d+'Identifier';if(_0x1cd299!=='light'&&(_0x5c2a5a[_0x2d183d]=!(0x26f0+-0xd3b+-0x19b4),_0x5c2a5a[_0x4d0080]=void(-0x16b6+-0x21fa*-0x1+-0xb44),_0x5c2a5a[_0x5a162d]='',_0x5c2a5a[_0x5380d4]=-0x2628+0x1cbd+0x96b*0x1,_0x5c2a5a[_0x351225]=-0xa9*0xd+0x259d*0x1+0x2*-0xe84),_0x5c2a5a[_0xe9e27d]=!(0x1444+-0x180d+-0xc2*-0x5),_0x5c2a5a[_0x4a79e9]='',_0xf0600e&&_0x2c1b44['blendType']===is&&_0x2c1b44['alphaTest']===0x1dc*0x3+0x7ab+-0xd3f&&!_0x2c1b44['alphaToCov'+'erage']&&_0x2c1b44['opacityDit'+'her']===Rs)return;if(_0x1cd299!=='height'&&_0x2c1b44[_0xe9e27d]&&_0xeb4910&&(_0x5c2a5a[_0xe9e27d]=_0x2c1b44[_0xe9e27d],_0x5c2a5a[_0x4a79e9]=_0x2c1b44[_0x4a79e9],_0x5c2a5a['litOptions']['vertexColo'+'rs']=!(-0x1c*0x103+-0x21d2+0xa*0x637)),_0x2c1b44[_0x2d183d]){let _0x555be7=!(-0x1*0x62b+0xcca+0xf*-0x71);if(_0x2c1b44[_0x351225]===-0x3*0x288+-0x883*-0x1+-0xeb*0x1&&!_0xe2c8a6&&(_0x555be7=!(0x3*-0x1+-0x1d69+0x1d6d)),_0x2c1b44[_0x351225]===-0x8a1+-0x18c3*0x1+-0x2165*-0x1&&!_0x130d92&&(_0x555be7=!(-0xbfb+0xd*-0x67+0x1137)),_0x555be7){const _0x4bf708=_0x2c1b44[_0x2d183d]['id'];let _0x5d58de=_0xc05574[_0x4bf708];_0x5d58de===void(0x2346+0x2447*-0x1+0x101)&&(_0xc05574[_0x4bf708]=_0x1cd299,_0x5d58de=_0x1cd299),_0x5c2a5a[_0x2d183d]=!!_0x2c1b44[_0x2d183d],_0x5c2a5a[_0x4d0080]=_0x5d58de,_0x5c2a5a[_0x5380d4]=this['_getMapTra'+'nsformID'](_0x2c1b44['getUniform'](_0x5380d4),_0x2c1b44[_0x351225]),_0x5c2a5a[_0x5a162d]=_0x2c1b44[_0x5a162d],_0x5c2a5a[_0x351225]=_0x2c1b44[_0x351225];}}}}['_updateMin'+'Options'](_0x1d0efa,_0x1702ad,_0x4c71cd){const _0x10a41e=_0x4c71cd===il;_0x1d0efa['litOptions']['opacitySha'+'dowDither']=_0x10a41e?_0x1702ad['opacityDit'+'her']:_0x1702ad['opacitySha'+'dowDither'],_0x1d0efa['litOptions']['linearDept'+'h']=_0x10a41e,_0x1d0efa['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x34a849,_0x5e7e59){var _0x5bf1e1,_0x20b4ed,_0x3b217d,_0x107a51;const _0x1e9038=!!(_0x5e7e59['useMetalne'+'ss']||_0x5e7e59['specularMa'+'p']||_0x5e7e59['sphereMap']||_0x5e7e59['cubeMap']||KC(_0x5e7e59['specular'])||_0x5e7e59['specularit'+'yFactor']>-0x257f+-0x1cb+0x2f*0xd6&&_0x5e7e59['useMetalne'+'ss']||_0x5e7e59['enableGGXS'+'pecular']||_0x5e7e59['clearCoat']>-0x20ed+0x21bc+-0xcf),_0x1a1796=!_0x5e7e59['useMetalne'+'ss']||_0x5e7e59['useMetalne'+'ssSpecular'+'Color'],_0x981989=_0x1e9038&&(_0x5e7e59['specularTi'+'nt']||!_0x5e7e59['specularMa'+'p']&&!_0x5e7e59['specularVe'+'rtexColor'])&&YC(_0x5e7e59['specular']),_0x3ef6c6=_0x1e9038&&_0x5e7e59['useMetalne'+'ssSpecular'+'Color']&&(_0x5e7e59['specularit'+'yFactorTin'+'t']||_0x5e7e59['specularit'+'yFactor']<0x1*0xe4a+0xfc2+-0x1e0b&&!_0x5e7e59['specularit'+'yFactorMap']),_0x48841b=_0x5e7e59['normalMap']?_0x5e7e59['normalMap']['format']===$o||_0x5e7e59['normalMap']['type']===op:!(0x3*0x631+-0x1*0x5fb+-0xc97),_0x3bcafa=(_0xd4068f,_0x433e48)=>Math['abs'](_0xd4068f-_0x433e48)<-0x137*0x13+0x38*-0x4d+0x27ed+0.0001;_0x34a849['specularTi'+'nt']=_0x981989?0xe*-0x1ba+-0x107*0x13+-0x4db*-0x9:-0x3be+-0x6*0x5fb+0x27a0,_0x34a849['specularit'+'yFactorTin'+'t']=_0x3ef6c6?0x102*-0x10+0x1bf+0xe62:0x448+-0x16f1+0x12a9*0x1,_0x34a849['metalnessT'+'int']=_0x5e7e59['useMetalne'+'ss']&&_0x5e7e59['metalness']<-0x910+-0x1136+0x1a47?-0x1*-0x157a+0x269+0x6*-0x3fb:-0x644*0x5+0x66f*0x5+-0xd7,_0x34a849['glossTint']=-0xbb0+0x22*0xc8+-0xedf,_0x34a849['diffuseEnc'+'oding']=(_0x5bf1e1=_0x5e7e59['diffuseMap'])==null?void(0x20be+-0x11da+-0xee4):_0x5bf1e1['encoding'],_0x34a849['diffuseDet'+'ailEncodin'+'g']=(_0x20b4ed=_0x5e7e59['diffuseDet'+'ailMap'])==null?void(-0x1b86+-0x11*0x172+0x3418):_0x20b4ed['encoding'],_0x34a849['emissiveEn'+'coding']=(_0x3b217d=_0x5e7e59['emissiveMa'+'p'])==null?void(-0x4d*-0x3b+0x1e88+-0x3047):_0x3b217d['encoding'],_0x34a849['lightMapEn'+'coding']=(_0x107a51=_0x5e7e59['lightMap'])==null?void(-0x1d2+-0x257*0xe+0x2294):_0x107a51['encoding'],_0x34a849['packedNorm'+'al']=_0x48841b,_0x34a849['refraction'+'Tint']=_0x3bcafa(_0x5e7e59['refraction'],-0x2*0xc7+-0x56*-0x4b+-0x17a3)?-0x22*-0x8d+-0x64a+-0xc70:0x1*0x32e+0x22e6+-0x2613,_0x34a849['refraction'+'IndexTint']=_0x3bcafa(_0x5e7e59['refraction'+'Index'],(-0x21be+-0x1288+0x3*0x116d)/(-0x1f4b*-0x1+0x1f5*0x1+-0x213f+0.5))?-0x1d62+0xef*0x29+0x2f7*-0x3:0xd8d*-0x1+-0x69b+0x18d*0xd,_0x34a849['thicknessT'+'int']=_0x5e7e59['useDynamic'+'Refraction']&&_0x5e7e59['thickness']!==-0x19*0xa9+0x113a+-0xb8?-0x322+-0x131d+-0xb2*-0x20:0x1e1e*-0x1+-0x77*-0x7+0x1add,_0x34a849['specularEn'+'coding']=_0x5e7e59['specularEn'+'coding']||'linear',_0x34a849['sheenEncod'+'ing']=_0x5e7e59['sheenEncod'+'ing']||'linear',_0x34a849['aoMapUv']=_0x5e7e59['aoUvSet'],_0x34a849['aoDetail']=!!_0x5e7e59['aoMap'],_0x34a849['diffuseDet'+'ail']=!!_0x5e7e59['diffuseMap'],_0x34a849['normalDeta'+'il']=!!_0x5e7e59['normalMap'],_0x34a849['diffuseDet'+'ailMode']=_0x5e7e59['diffuseDet'+'ailMode'],_0x34a849['aoDetailMo'+'de']=_0x5e7e59['aoDetailMo'+'de'],_0x34a849['clearCoatT'+'int']=_0x3bcafa(_0x5e7e59['clearCoat'],-0x4*0x939+0x37*0x45+0xe2*0x19)?0x1*0x276+-0x5*0x246+0x8e8:0x1*-0x2021+0xccf+0x123*0x11,_0x34a849['clearCoatG'+'loss']=!!_0x5e7e59['clearCoatG'+'loss'],_0x34a849['clearCoatG'+'lossTint']=_0x5e7e59['clearCoatG'+'loss']!==-0x1d94+-0x125c+-0x1*-0x2ff1?0xb9e*-0x2+-0x2*-0x20e+-0x1*-0x1321:0x2686+0x1*0x1645+-0x3ccb*0x1,_0x34a849['iorTint']=_0x3bcafa(_0x5e7e59['refraction'+'Index'],(0x992+-0x4*0x3b3+0x53b)/(-0x3*0xa3f+-0x258a+0x4448+0.5))?-0x1883+0x188+0x16fb:-0x1826+0x239f+0x5bc*-0x2,_0x34a849['iridescenc'+'eTint']=_0x5e7e59['iridescenc'+'e']!==0x2d6*-0xd+-0x1*0x5a1+0x550*0x8?-0x44c+-0x979*-0x1+-0x52c:0x2348+-0xa49*-0x3+-0x4223,_0x34a849['glossInver'+'t']=_0x5e7e59['glossInver'+'t'],_0x34a849['sheenGloss'+'Invert']=_0x5e7e59['sheenGloss'+'Invert'],_0x34a849['clearCoatG'+'lossInvert']=_0x5e7e59['clearCoatG'+'lossInvert'],_0x34a849['useSpecula'+'rColor']=_0x1a1796,_0x34a849['litOptions']['separateAm'+'bient']=!(-0xfe*0x15+0x192e+-0x457),_0x34a849['litOptions']['customFrag'+'mentShader']=_0x5e7e59['customFrag'+'mentShader'],_0x34a849['litOptions']['pixelSnap']=_0x5e7e59['pixelSnap'],_0x34a849['litOptions']['ambientSH']=!!_0x5e7e59['ambientSH'],_0x34a849['litOptions']['twoSidedLi'+'ghting']=_0x5e7e59['twoSidedLi'+'ghting'],_0x34a849['litOptions']['occludeSpe'+'cular']=_0x5e7e59['occludeSpe'+'cular'],_0x34a849['litOptions']['occludeSpe'+'cularFloat']=_0x5e7e59['occludeSpe'+'cularInten'+'sity']!==-0x25a4+0x503+0x2*0x1051,_0x34a849['litOptions']['useMsdf']=!!_0x5e7e59['msdfMap'],_0x34a849['litOptions']['msdfTextAt'+'tribute']=!!_0x5e7e59['msdfTextAt'+'tribute'],_0x34a849['litOptions']['alphaToCov'+'erage']=_0x5e7e59['alphaToCov'+'erage'],_0x34a849['litOptions']['opacityFad'+'esSpecular']=_0x5e7e59['opacityFad'+'esSpecular'],_0x34a849['litOptions']['opacityDit'+'her']=_0x5e7e59['opacityDit'+'her'],_0x34a849['litOptions']['cubeMapPro'+'jection']=_0x5e7e59['cubeMapPro'+'jection'],_0x34a849['litOptions']['occludeDir'+'ect']=_0x5e7e59['occludeDir'+'ect'],_0x34a849['litOptions']['useSpecula'+'r']=_0x1e9038,_0x34a849['litOptions']['useSpecula'+'rityFactor']=(_0x3ef6c6||!!_0x5e7e59['specularit'+'yFactorMap'])&&_0x5e7e59['useMetalne'+'ssSpecular'+'Color'],_0x34a849['litOptions']['enableGGXS'+'pecular']=_0x5e7e59['enableGGXS'+'pecular'],_0x34a849['litOptions']['fresnelMod'+'el']=_0x5e7e59['fresnelMod'+'el'],_0x34a849['litOptions']['useRefract'+'ion']=(_0x5e7e59['refraction']||!!_0x5e7e59['refraction'+'Map'])&&(_0x5e7e59['useDynamic'+'Refraction']||!!_0x34a849['litOptions']['reflection'+'Source']),_0x34a849['litOptions']['useClearCo'+'at']=!!_0x5e7e59['clearCoat'],_0x34a849['litOptions']['useSheen']=_0x5e7e59['useSheen'],_0x34a849['litOptions']['useIridesc'+'ence']=_0x5e7e59['useIridesc'+'ence']&&_0x5e7e59['iridescenc'+'e']!==-0x397*0x7+0x14f0+0x431,_0x34a849['litOptions']['useMetalne'+'ss']=_0x5e7e59['useMetalne'+'ss'],_0x34a849['litOptions']['useDynamic'+'Refraction']=_0x5e7e59['useDynamic'+'Refraction'],_0x34a849['litOptions']['dispersion']=_0x5e7e59['dispersion']>0x1*-0x11d+-0xffd+-0xb*-0x18e;}['_updateEnv'+'Options'](_0x1220e7,_0xd82ce5,_0x5f3b7e,_0x3d3b0f){_0x1220e7['litOptions']['fog']=_0xd82ce5['useFog']?_0x3d3b0f['fog']:Fa,_0x1220e7['litOptions']['gamma']=_0x3d3b0f['shaderOutp'+'utGamma'],_0x1220e7['litOptions']['toneMap']=_0xd82ce5['useTonemap']?_0x3d3b0f['toneMappin'+'g']:f0;let _0x49b7ef=!(0x1715+0x22f2+-0x3a06);if(_0xd82ce5['envAtlas']&&_0xd82ce5['cubeMap']?(_0x1220e7['litOptions']['reflection'+'Source']='envAtlasHQ',_0x1220e7['litOptions']['reflection'+'Encoding']=_0xd82ce5['envAtlas']['encoding'],_0x1220e7['litOptions']['reflection'+'CubemapEnc'+'oding']=_0xd82ce5['cubeMap']['encoding']):_0xd82ce5['envAtlas']?(_0x1220e7['litOptions']['reflection'+'Source']='envAtlas',_0x1220e7['litOptions']['reflection'+'Encoding']=_0xd82ce5['envAtlas']['encoding']):_0xd82ce5['cubeMap']?(_0x1220e7['litOptions']['reflection'+'Source']='cubeMap',_0x1220e7['litOptions']['reflection'+'Encoding']=_0xd82ce5['cubeMap']['encoding']):_0xd82ce5['sphereMap']?(_0x1220e7['litOptions']['reflection'+'Source']='sphereMap',_0x1220e7['litOptions']['reflection'+'Encoding']=_0xd82ce5['sphereMap']['encoding']):_0xd82ce5['useSkybox']&&_0x5f3b7e['envAtlas']&&_0x5f3b7e['skybox']?(_0x1220e7['litOptions']['reflection'+'Source']='envAtlasHQ',_0x1220e7['litOptions']['reflection'+'Encoding']=_0x5f3b7e['envAtlas']['encoding'],_0x1220e7['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x5f3b7e['skybox']['encoding'],_0x49b7ef=!(0x11b7+0x8e9+0x354*-0x8)):_0xd82ce5['useSkybox']&&_0x5f3b7e['envAtlas']?(_0x1220e7['litOptions']['reflection'+'Source']='envAtlas',_0x1220e7['litOptions']['reflection'+'Encoding']=_0x5f3b7e['envAtlas']['encoding'],_0x49b7ef=!(0xc9d+-0x1c9f+0x6*0x2ab)):_0xd82ce5['useSkybox']&&_0x5f3b7e['skybox']?(_0x1220e7['litOptions']['reflection'+'Source']='cubeMap',_0x1220e7['litOptions']['reflection'+'Encoding']=_0x5f3b7e['skybox']['encoding'],_0x49b7ef=!(-0x1f80+0x1*-0x215e+-0x1b5*-0x26)):(_0x1220e7['litOptions']['reflection'+'Source']=null,_0x1220e7['litOptions']['reflection'+'Encoding']=null),_0xd82ce5['ambientSH'])_0x1220e7['litOptions']['ambientSou'+'rce']='ambientSH',_0x1220e7['litOptions']['ambientEnc'+'oding']=null;else{const _0xfab3a9=_0xd82ce5['envAtlas']||(_0xd82ce5['useSkybox']&&_0x5f3b7e['envAtlas']?_0x5f3b7e['envAtlas']:null);_0xfab3a9&&!_0xd82ce5['sphereMap']?(_0x1220e7['litOptions']['ambientSou'+'rce']='envAtlas',_0x1220e7['litOptions']['ambientEnc'+'oding']=_0xfab3a9['encoding']):(_0x1220e7['litOptions']['ambientSou'+'rce']='constant',_0x1220e7['litOptions']['ambientEnc'+'oding']=null);}_0x1220e7['litOptions']['skyboxInte'+'nsity']=_0x49b7ef,_0x1220e7['litOptions']['useCubeMap'+'Rotation']=_0x49b7ef&&_0x5f3b7e['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x5ab06d,_0x34483f,_0x431329,_0x36c160,_0x537b7c){if(_0x5ab06d['lightMap']=!(-0x13b4*0x1+0x239b+-0xfe6),_0x5ab06d['lightMapCh'+'annel']='',_0x5ab06d['lightMapUv']=-0x114*-0x1a+0x209f+-0x3ca7,_0x5ab06d['lightMapTr'+'ansform']=-0x18a1+0x1ab1+-0x4*0x84,_0x5ab06d['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x1*0x1339+-0xbc6+-0x772),_0x5ab06d['dirLightMa'+'p']=!(-0xc*0x24d+0xb4e+-0x1*-0x104f),_0x36c160&&(_0x5ab06d['litOptions']['noShadow']=(_0x36c160&Ep)!==-0x12a4*-0x2+-0x1fc7+-0x581,(_0x36c160&Fu)!==0x2*0x79c+-0x2246+-0x10f*-0x12&&(_0x5ab06d['lightMapEn'+'coding']=_0x34483f['lightmapPi'+'xelFormat']===Se?'rgbm':'linear',_0x5ab06d['lightMap']=!(-0x12fc+0x1*0x2703+0x1*-0x1407),_0x5ab06d['lightMapCh'+'annel']='rgb',_0x5ab06d['lightMapUv']=-0x408+0x5*-0x533+0x1e08,_0x5ab06d['lightMapTr'+'ansform']=0x1*-0x1e41+-0x61*0x56+0x1*0x3ed7,_0x5ab06d['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x431329['lightMap'],(_0x36c160&y0)!==-0x15*-0x7b+-0xb10+0xf9&&(_0x5ab06d['dirLightMa'+'p']=!(-0x2199*-0x1+-0x228d+0xf4)),(_0x36c160&x0)!==0xa49*0x1+-0x2523+0x1ada&&(_0x5ab06d['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0xdb7+-0x1a6d+0xcb7)))),_0x431329['useLightin'+'g']){const _0x2d1390=[],_0x2f0ec6=_0x36c160?_0x36c160>>0x23e6+-0xc9f+-0x1737:hs;_0x5ab06d['litOptions']['lightMaskD'+'ynamic']=!!(_0x2f0ec6&hs),_0x537b7c&&(As['collectLig'+'hts'](oe,_0x537b7c[oe],_0x2d1390,_0x2f0ec6),As['collectLig'+'hts'](Pe,_0x537b7c[Pe],_0x2d1390,_0x2f0ec6),As['collectLig'+'hts'](Re,_0x537b7c[Re],_0x2d1390,_0x2f0ec6)),_0x5ab06d['litOptions']['lights']=_0x2d1390;}else _0x5ab06d['litOptions']['lights']=[];_0x5ab06d['litOptions']['lights']['length']===0xa6+-0x3d7*0x1+0x331&&(_0x5ab06d['litOptions']['noShadow']=!(-0x10c6+-0x3e6*-0x6+-0x69e));}['_getMapTra'+'nsformID'](_0x51f6a8,_0x37ee82){if(!_0x51f6a8)return-0x63*-0x4+0x1*-0x1dbd+0x1c31;let _0x2e682e=this['_mapXForms'][_0x37ee82];_0x2e682e||(_0x2e682e=[],this['_mapXForms'][_0x37ee82]=_0x2e682e);for(let _0x4bbc7=0x1f3*-0x13+0x7*-0x35e+0x3c9b;_0x4bbc7<_0x2e682e['length'];_0x4bbc7++)if(c_(_0x2e682e[_0x4bbc7][-0x10e8+-0x374*-0x4+0x318]['value'],_0x51f6a8[0x17fb+-0x317*-0x2+-0x1e29]['value'])&&c_(_0x2e682e[_0x4bbc7][-0x1*0x30d+-0x1b3d+0x1e4b]['value'],_0x51f6a8[0x1d79+-0x22*-0xa0+-0x6*0x874]['value']))return _0x4bbc7+(0x1*0xa57+-0xb*-0x1f+-0xbab);return _0x2e682e['push'](_0x51f6a8);}}function qe(_0xaadb0a,_0x14b1a2=!(-0x1bb*-0x9+-0x14d1*0x1+0xb*0x7a),_0x1f1155=!(-0x1d2*0x13+-0x668*-0x1+0x1c2e)){const _0x4130ea={};return _0x4130ea[_0xaadb0a+'Map']='texture',_0x4130ea[_0xaadb0a+'MapTiling']='vec2',_0x4130ea[_0xaadb0a+'MapOffset']='vec2',_0x4130ea[_0xaadb0a+('MapRotatio'+'n')]='number',_0x4130ea[_0xaadb0a+'MapUv']='number',_0x14b1a2&&(_0x4130ea[_0xaadb0a+'MapChannel']='string',_0x1f1155&&(_0x4130ea[_0xaadb0a+('VertexColo'+'r')]='boolean',_0x4130ea[_0xaadb0a+('VertexColo'+'rChannel')]='string')),_0x4130ea;}const Pa={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...qe('ao'),...qe('aoDetail',!(-0x270*-0xd+0x7a+0x17*-0x166),!(0x194d+-0xe1b*0x1+0x1*-0xb31)),'aoDetailMode':'string','diffuse':'rgb',...qe('diffuse'),...qe('diffuseDet'+'ail',!(-0x804*0x1+0x4*-0x8aa+0xaab*0x4),!(-0x3f3*-0x1+0x11*-0x24c+0x231a)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...qe('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...qe('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','anisotropy':'number','metalnessTint':'boolean',...qe('metalness'),'useMetalnessSpecularColor':'boolean','shininess':'number','gloss':'number','glossInvert':'boolean',...qe('gloss'),'clearCoat':'number',...qe('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...qe('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...qe('clearCoatN'+'ormal',!(-0xb09*-0x3+-0x7*0x296+0xf*-0x100)),'useSheen':'boolean','sheen':'rgb',...qe('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...qe('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...qe('emissive'),'emissiveIntensity':'number',...qe('normal',!(-0x1*0x17bd+0x1dfc+-0x1*0x63e)),'bumpiness':'number',...qe('normalDeta'+'il',!(-0xb91+-0x2*-0xcd+-0x16*-0x74)),'normalDetailMapBumpiness':'number',...qe('height',!(-0x161*0xb+-0x1c09*-0x1+-0xcde),!(0x1cb+0x2*-0x60a+0xa4a)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...qe('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...qe('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...qe('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...qe('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...qe('iridescenc'+'eThickness'),...qe('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean'},Kc=[];for(const l in Pa)Pa[l]==='texture'&&Kc['push'](l);const Fp=[];for(const l in Pa)Pa[l]==='cubemap'&&Fp['push'](l);const QC={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean'},uh={},P0={};let $a=new Set();const Dl=new Y();class cs extends yn{constructor(){super(),c(this,'userAttrib'+'utes',new Map()),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new ZC(),this['reset']());}['reset'](){Object['keys'](uh)['forEach'](_0x5c77c5=>{this['_'+_0x5c77c5]=uh[_0x5c77c5]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x4cec43){return super['copy'](_0x4cec43),Object['keys'](uh)['forEach'](_0x1b6686=>{this[_0x1b6686]=_0x4cec43[_0x1b6686];}),this['userAttrib'+'utes']=new Map(_0x4cec43['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x3e90ce,_0xe2e556){this['userAttrib'+'utes']['set'](_0xe2e556,_0x3e90ce);}['_setParame'+'ter'](_0x2772a7,_0x25c1dc){$a['add'](_0x2772a7),this['setParamet'+'er'](_0x2772a7,_0x25c1dc);}['_setParame'+'ters'](_0x4cb475){_0x4cb475['forEach'](_0x5eeae3=>{this['_setParame'+'ter'](_0x5eeae3['name'],_0x5eeae3['value']);});}['_processPa'+'rameters'](_0xb0ff0e){const _0x461b43=this[_0xb0ff0e];_0x461b43['forEach'](_0x3eb961=>{$a['has'](_0x3eb961)||delete this['parameters'][_0x3eb961];}),this[_0xb0ff0e]=$a,$a=_0x461b43,$a['clear']();}['_updateMap'](_0x3ab1d4){const _0xf40392=_0x3ab1d4+'Map',_0x119b7e=this[_0xf40392];if(_0x119b7e){this['_setParame'+'ter']('texture_'+_0xf40392,_0x119b7e);const _0xf389cd=_0xf40392+'Transform',_0x50a0e9=this['getUniform'](_0xf389cd);_0x50a0e9&&this['_setParame'+'ters'](_0x50a0e9);}}['_allocUnif'+'orm'](_0x1e6f10,_0x1ce19e){let _0x324d50=this['_uniformCa'+'che'][_0x1e6f10];return _0x324d50||(_0x324d50=_0x1ce19e(),this['_uniformCa'+'che'][_0x1e6f10]=_0x324d50),_0x324d50;}['getUniform'](_0x28c0d2,_0x48bcd3,_0x489cbf){return P0[_0x28c0d2](this,_0x48bcd3,_0x489cbf);}['updateUnif'+'orms'](_0x40f242,_0x2008f3){const _0x2f52ac=_0x3089b0=>this['getUniform'](_0x3089b0,_0x40f242,_0x2008f3);this['_setParame'+'ter']('material_a'+'mbient',_0x2f52ac('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x2f52ac('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<0xfe6+-0x14ce+0x4e9)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x2f52ac('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x2f52ac('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x2f52ac('specular')),this['enableGGXS'+'pecular']&&this['_setParame'+'ter']('material_a'+'nisotropy',this['anisotropy']),this['clearCoat']>-0x7*-0x41b+-0x6*-0x597+-0x3e47&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),v['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===0x212c+0x1fba+-0x6*0xad1&&this['emissive']['g']===-0x1543*0x1+-0xd*0x2f6+-0x3*-0x13eb&&this['emissive']['b']===0x16dd*0x1+0x1708+0x17b*-0x1f&&v['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+G['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x2f52ac('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>-0x1dd*0x8+0x16c8+0x7*-0x120&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>0x15ca*0x1+0x1290+-0x409*0xa&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x2f52ac('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===-0x2*0xb89+-0x9*-0x3b5+0x9b*-0x11?-0x20*-0x85+-0x47e*0x4+0x158:(0xb2f+0xcf*0x1+-0xbfd)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(-0x1e39+-0x5*-0x51e+-0x21*-0x24)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===jb&&this['_setParame'+'ter'](_0x2f52ac('cubeMapPro'+'jectionBox'));for(const _0x52386b in fa)this['_updateMap'](_0x52386b);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x2f52ac('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x40f242,_0x2008f3);}['updateEnvU'+'niforms'](_0x214e95,_0x32404c){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x32404c['envAtlas']&&_0x32404c['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x32404c['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x32404c['skybox'])):_0x32404c['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x32404c['envAtlas']):_0x32404c['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x32404c['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x14141a){const {device:_0x387523,scene:_0x4b1a53,pass:_0x316b46,objDefs:_0xb3a71,sortedLights:_0x36f5de,cameraShaderParams:_0x12884e}=_0x14141a;this['updateEnvU'+'niforms'](_0x387523,_0x4b1a53);const _0x4e6200=Ks['get'](_0x387523)['getByIndex'](_0x316b46),_0x53b1f7=_0x316b46===rl||_0x316b46===Oa||_0x316b46===il||_0x4e6200['isShadow'];let _0xda1d5c=_0x53b1f7?Ed['optionsCon'+'textMin']:Ed['optionsCon'+'text'];_0xda1d5c['defines']=Dp(this,_0x14141a),_0x53b1f7?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0xda1d5c,_0x4b1a53,this,_0xb3a71,_0x316b46,_0x36f5de):this['shaderOptB'+'uilder']['updateRef'](_0xda1d5c,_0x4b1a53,_0x12884e,this,_0xb3a71,_0x316b46,_0x36f5de),_0xda1d5c['defines']['set']('TONEMAP',p0[_0xda1d5c['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0xda1d5c=this['onUpdateSh'+'ader'](_0xda1d5c));const _0x40794d=new Yc(_0x14141a['viewUnifor'+'mFormat'],_0x14141a['viewBindGr'+'oupFormat'],_0x14141a['vertexForm'+'at']),_0x231102=ka(_0x387523);_0x231102['register']('standard',Ed);const _0x1843af=_0x231102['getProgram']('standard',_0xda1d5c,_0x40794d,this['userId']);return this['_dirtyShad'+'er']=!(0x5a1+-0x3f*-0x47+-0x1719),_0x1843af;}['destroy'](){for(const _0x5d60c7 in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x5d60c7]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}c(cs,'TEXTURE_PA'+'RAMETERS',Kc),c(cs,'CUBEMAP_PA'+'RAMETERS',Fp);const Zc=(_0x178eee,_0x45a560)=>{P0[_0x178eee]=_0x45a560;},Op=(_0x2fa47f,_0x5aec84,_0x4976a5,_0x5eb259)=>{Object['defineProp'+'erty'](cs['prototype'],_0x2fa47f,{'get':_0x5eb259||function(){return this['_'+_0x2fa47f];},'set':_0x4976a5}),uh[_0x2fa47f]={'value':_0x5aec84};},JC=_0x51114e=>{const _0x242fd4='_'+_0x51114e['name'],_0x11b511=_0x51114e['dirtyShade'+'rFunc']||(()=>!(0x1c26+-0x7f6+0x130*-0x11)),_0x112a48=function(_0x591aa5){const _0x573be4=this[_0x242fd4];_0x573be4!==_0x591aa5&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x11b511(_0x573be4,_0x591aa5),this[_0x242fd4]=_0x591aa5);};Op(_0x51114e['name'],()=>_0x51114e['defaultVal'+'ue'],_0x112a48,_0x51114e['getterFunc']);},eM=_0x2fa4d2=>{const _0x577583='_'+_0x2fa4d2['name'],_0x11ae4d=_0x2fa4d2['dirtyShade'+'rFunc']||(()=>!(-0x5*0x50f+-0x1927+0x3272)),_0x3d4433=function(_0x3f565b){const _0x3619ed=this[_0x577583];_0x3619ed['equals'](_0x3f565b)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x11ae4d(_0x3619ed,_0x3f565b),this[_0x577583]=_0x3619ed['copy'](_0x3f565b));};Op(_0x2fa4d2['name'],()=>_0x2fa4d2['defaultVal'+'ue']['clone'](),_0x3d4433,_0x2fa4d2['getterFunc']);},ts=_0x469587=>_0x469587['defaultVal'+'ue']&&_0x469587['defaultVal'+'ue']['clone']?eM(_0x469587):JC(_0x469587);function Ge(_0x3c8f12,_0xe0712b='rgb',_0x1a6de9=!(-0x19cc+0xe99*0x1+0xb33),_0x174dc4=-0x62b*0x6+0x636+0x1ecc){fa[_0x3c8f12]=_0xe0712b['length']||-(-0x44f+-0xf08*0x1+0x1358),ts({'name':_0x3c8f12+'Map','defaultValue':null,'dirtyShaderFunc':(_0x8e447f,_0x293554)=>!!_0x8e447f!=!!_0x293554||_0x8e447f&&(_0x8e447f['type']!==_0x293554['type']||_0x8e447f['format']!==_0x293554['format'])}),ts({'name':_0x3c8f12+'MapTiling','defaultValue':new W(-0x228c+-0x195*-0x12+0x613,-0x2*0x9b2+-0x194d+-0x2*-0x1659)}),ts({'name':_0x3c8f12+'MapOffset','defaultValue':new W(0x1216+0x49*-0x1+0x1*-0x11cd,-0x760*-0x4+0x24af*-0x1+0x72f)}),ts({'name':_0x3c8f12+('MapRotatio'+'n'),'defaultValue':0x0}),ts({'name':_0x3c8f12+'MapUv','defaultValue':_0x174dc4}),_0xe0712b&&(ts({'name':_0x3c8f12+'MapChannel','defaultValue':_0xe0712b}),_0x1a6de9&&(ts({'name':_0x3c8f12+('VertexColo'+'r'),'defaultValue':!(0x16f*-0xd+0xab+0x11f9)}),ts({'name':_0x3c8f12+('VertexColo'+'rChannel'),'defaultValue':_0xe0712b})));const _0x577807=_0x3c8f12+'MapTiling',_0x6b06a4=_0x3c8f12+'MapOffset',_0x31e1ba=_0x3c8f12+('MapRotatio'+'n'),_0x17b9b3=_0x3c8f12+('MapTransfo'+'rm');Zc(_0x17b9b3,(_0x300eb2,_0x226ee9,_0x5431dc)=>{const _0x36412f=_0x300eb2[_0x577807],_0x49d972=_0x300eb2[_0x6b06a4],_0x365739=_0x300eb2[_0x31e1ba];if(_0x36412f['x']===-0x3*-0x146+0x74*-0x3d+0x17d3&&_0x36412f['y']===-0x2*0x305+-0xb*0x19+0x71e&&_0x49d972['x']===-0x4*-0x3d+0x3f2+-0x4e6&&_0x49d972['y']===-0x160a+-0x1160+0x276a&&_0x365739===0xa9*-0x2+-0x2ac*-0xc+0x5*-0x626)return null;const _0xcd0bc=_0x300eb2['_allocUnif'+'orm'](_0x17b9b3,()=>[{'name':'texture_'+_0x17b9b3+'0','value':new Float32Array(-0x1cd7+-0x2*-0xf16+0xd*-0x1a)},{'name':'texture_'+_0x17b9b3+'1','value':new Float32Array(-0x20a9+-0x3bc+0x2468)}]),_0x338251=Math['cos'](_0x365739*N['DEG_TO_RAD']),_0x4e3c25=Math['sin'](_0x365739*N['DEG_TO_RAD']),_0xbe837=_0xcd0bc[-0x5d8+-0x1*-0x21f1+-0x1c19]['value'];_0xbe837[0x1af*-0x11+0x2603*-0x1+0x42a2]=_0x338251*_0x36412f['x'],_0xbe837[-0x90e*0x1+-0x19c*-0x7+0x1*-0x235]=-_0x4e3c25*_0x36412f['y'],_0xbe837[-0x816*-0x3+0x1d97+0x4d*-0xb3]=_0x49d972['x'];const _0x2f30a4=_0xcd0bc[0x3a*0x68+0x3b3*-0x8+-0x203*-0x3]['value'];return _0x2f30a4[-0x1d4*-0x7+0x14f8+-0x21c4]=_0x4e3c25*_0x36412f['x'],_0x2f30a4[0x11*-0xa4+-0x1393*-0x1+-0xca*0xb]=_0x338251*_0x36412f['y'],_0x2f30a4[0x1*0x1c67+0x989+-0x25ee]=-0x3a4*-0x2+0x5a*-0xd+0x15*-0x21-_0x36412f['y']-_0x49d972['y'],_0xcd0bc;});}function Cn(_0x43991d,_0xe2472a){ts({'name':_0x43991d,'defaultValue':_0xe2472a,'getterFunc':function(){return this['_dirtyShad'+'er']=!(-0x43*0x27+0x1a3b+0x125*-0xe),this['_'+_0x43991d];}}),Zc(_0x43991d,(_0x54733f,_0x1137a3,_0x1fcd3b)=>{const _0x625298=_0x54733f['_allocUnif'+'orm'](_0x43991d,()=>new Float32Array(0x115f*0x2+0x100a+0x13d*-0x29)),_0x2a6aa8=_0x54733f[_0x43991d];return Dl['linear'](_0x2a6aa8),_0x625298[0x5f+-0x245c+0x1*0x23fd]=Dl['r'],_0x625298[-0x10ff+0x76*0x11+0x92a]=Dl['g'],_0x625298[0x1596+0x1b82+-0x3116]=Dl['b'],_0x625298;});}function Ce(_0x5b6b08,_0x1e553e,_0x30479b){ts({'name':_0x5b6b08,'defaultValue':_0x1e553e,'dirtyShaderFunc':(_0x2c7a41,_0x21b183)=>(_0x2c7a41===-0x484+-0x20ac+0x88*0x46||_0x2c7a41===-0x4*-0x773+0x1*0x726+-0x24f1)!=(_0x21b183===-0x1dec*-0x1+0xf6a+-0x2d56||_0x21b183===0x1*0x149a+0xd74+0x1*-0x220d)}),Zc(_0x5b6b08,_0x30479b);}function qa(_0x49c5ec,_0xf3a718){ts({'name':_0x49c5ec,'defaultValue':null,'dirtyShaderFunc':(_0x2d5444,_0xe44341)=>!!_0x2d5444==!!_0xe44341}),Zc(_0x49c5ec,_0xf3a718);}function we(_0x57dab0,_0x1ecb6a){ts({'name':_0x57dab0,'defaultValue':_0x1ecb6a});}function tM(){Cn('ambient',new Y(0x2172+0x1*0x1dab+-0x3f1c,-0x1310+-0x26e4+0x39f5,-0x1a93+-0x5*0x70b+0x3*0x1499)),Cn('diffuse',new Y(0x7fe+-0x385+0x4*-0x11e,0x7ef+0x1f7f+-0x276d,0x1e4+-0x1f*-0x138+-0x3*0xd39)),Cn('specular',new Y(-0x1*0x2513+-0x1*-0x2069+0x4aa,0x17f9+0x2*-0x11d8+-0x1*-0xbb7,0x5*-0x5cb+-0x1407+0x30fe)),Cn('emissive',new Y(0x9f+0x1821+0xc6*-0x20,-0x1d4d*-0x1+0x136b+0x617*-0x8,0x1ff6*-0x1+-0x931+0x2927)),Cn('sheen',new Y(0x3a8+-0x3*0xc36+0x20fb,-0x9*-0x153+0x1ed6+-0x2ac0,-0x1ad5+0x1d1a+-0x74*0x5)),Cn('attenuatio'+'n',new Y(0x86f*-0x3+0x925+-0x563*-0x3,-0x34f+-0x614+0x2*0x4b2,-0x5*-0x4bd+0x1d67+-0x3517*0x1)),Ce('emissiveIn'+'tensity',0x223*-0x3+0x2210+-0x1ba6),Ce('specularit'+'yFactor',0x3*-0xc33+0x711+0x1d89),Ce('sheenGloss',-0xaa7+0x1*0x1aaa+-0x1003),Ce('gloss',-0x1994+0x2f3+0x16a1+0.25),Ce('aoIntensit'+'y',0x5*0x26b+0x9*-0x138+-0x2*0x8f),Ce('heightMapF'+'actor',0x3*0x8ef+0x1d*-0xa9+-0x7a7,(_0x4510d9,_0x542e22,_0x2944e1)=>_0x4510d9['heightMapF'+'actor']*(0x324+0x7cc+0x38*-0x32+0.025)),Ce('opacity',-0x208b+0xed7+0x11b5),Ce('alphaFade',0xd65*-0x1+0x2dc+0xa8a),Ce('alphaTest',0x1*0x571+-0x5*-0x7ca+-0x409*0xb),Ce('bumpiness',-0x8d6+0x752*-0x3+0x1ecd),Ce('normalDeta'+'ilMapBumpi'+'ness',0x988+-0xfd0+-0x649*-0x1),Ce('reflectivi'+'ty',0x12c5+0x15e3+-0x28a7),Ce('occludeSpe'+'cularInten'+'sity',0x1e*-0x65+0x25*-0x6f+0x1be2),Ce('refraction',0x1*-0x169f+0x1add+0x43e*-0x1),Ce('refraction'+'Index',(-0xfe8+0x10a2+-0xb9)/(0x3*-0x1aa+0x105f+-0xb60+0.5)),Ce('dispersion',-0x1*0x1a3f+-0x2699+0x40d8),Ce('thickness',-0x1fc+-0x1925+0x56d*0x5),Ce('attenuatio'+'nDistance',-0x199*-0xd+0x3bf*0x1+-0x1884),Ce('metalness',0x49*0x12+-0x73*0x56+0x2181*0x1),Ce('anisotropy',0x1822*-0x1+0x1a2c+-0x20a),Ce('clearCoat',-0x731+-0xe53*0x1+0x99*0x24),Ce('clearCoatG'+'loss',0x170e+-0x12b6+0x457*-0x1),Ce('clearCoatB'+'umpiness',-0x22a2+-0x23*0xf9+-0x12a*-0x3b),Ce('aoUvSet',0x35*0x5d+-0x20*0x9+0x77*-0x27,null),Ce('iridescenc'+'e',-0x39e+-0x1821+-0x1*-0x1bbf),Ce('iridescenc'+'eRefractio'+'nIndex',(0x1*0x1832+0x7*-0x1e1+-0xb0a)/(0x2142+0x1*0x13+-0xed*0x24+0.5)),Ce('iridescenc'+'eThickness'+'Min',-0xca3*-0x2+-0x19c*-0x6+-0x22ee*0x1),Ce('iridescenc'+'eThickness'+'Max',-0x47*-0x5+0x14*0x7d+0x5*-0x23b),qa('ambientSH'),qa('cubeMapPro'+'jectionBox',(_0x1c4777,_0x7064fc,_0x41dab2)=>{const _0x485095=_0x1c4777['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(0x2f*0x9c+-0x81b*-0x4+-0x1*0x3d0d)},{'name':'envBoxMax','value':new Float32Array(-0x252c+-0x86a+-0x9*-0x511)}]),_0x414619=_0x1c4777['cubeMapPro'+'jectionBox']['getMin'](),_0x269548=_0x485095[0x219b+0xa8*0x3+0x7*-0x515]['value'];_0x269548[0x245f+0x4*-0x527+-0xfc3]=_0x414619['x'],_0x269548[-0x41c+0x2*0xd25+-0x162d]=_0x414619['y'],_0x269548[0x68c+0x12af*0x1+-0x1939]=_0x414619['z'];const _0xdb098d=_0x1c4777['cubeMapPro'+'jectionBox']['getMax'](),_0x448fbc=_0x485095[0x1aa9+-0xf*0x119+-0xa31]['value'];return _0x448fbc[-0xe7d*0x1+-0xb*-0x112+-0x8b*-0x5]=_0xdb098d['x'],_0x448fbc[0x1*0x1677+-0xbdc+-0x2*0x54d]=_0xdb098d['y'],_0x448fbc[-0x8a5*0x4+-0x1de*-0x8+0x3ee*0x5]=_0xdb098d['z'],_0x485095;}),we('specularTi'+'nt',!(0x4*-0x6c5+-0x543*0x5+0xcc*0x43)),we('specularit'+'yFactorTin'+'t',!(0x1*-0xe9e+-0xa63+-0x246*-0xb)),we('useMetalne'+'ss',!(-0x1*0xdee+0x2a7*-0x7+0xa*0x340)),we('useMetalne'+'ssSpecular'+'Color',!(-0x8*0xa6+0x1945+-0xa*0x202)),we('useSheen',!(0x168f+0x3*-0x887+-0x307*-0x1)),we('enableGGXS'+'pecular',!(-0x236b+0x2682+-0x316)),we('occludeDir'+'ect',!(0x7*0x361+-0x24e+-0x1558)),we('opacityFad'+'esSpecular',!(-0x2*-0xb2b+0x1ade+0x189a*-0x2)),we('occludeSpe'+'cular',Bo),we('fresnelMod'+'el',Sp),we('useDynamic'+'Refraction',!(0xeaa+0x1ac3+0x296c*-0x1)),we('cubeMapPro'+'jection',u0),we('customFrag'+'mentShader',null),we('useFog',!(-0xf6*-0x25+0x24fe+-0x488c*0x1)),we('useLightin'+'g',!(0xe*-0x57+0x347*0x2+-0x5*0x5c)),we('useTonemap',!(0x60a+-0x19c7+0x13bd*0x1)),we('useSkybox',!(-0x1173+-0x5f3+0xbb3*0x2)),we('forceUv1',!(0xfc3+0x7b9*-0x2+-0x50)),we('pixelSnap',!(-0x23a8+-0x56c*0x1+0x329*0xd)),we('twoSidedLi'+'ghting',!(-0x1771*-0x1+0x10*0x6b+-0x1e20)),we('nineSliced'+'Mode',void(0xe0e+-0x1e9c+0xa3*0x1a)),we('msdfTextAt'+'tribute',!(0x50b*0x1+-0x61d+0xb*0x19)),we('useIridesc'+'ence',!(0x251c+-0x5c*-0x2e+-0x35a3)),we('glossInver'+'t',!(0x1e34+-0x4c+-0x1de7)),we('sheenGloss'+'Invert',!(-0x707*-0x5+-0x1758+0x2*-0x5e5)),we('clearCoatG'+'lossInvert',!(-0x406*-0x3+0x4a*-0x73+0x152d)),we('opacityDit'+'her',Rs),we('opacitySha'+'dowDither',Rs),Ge('diffuse'),Ge('specular'),Ge('emissive'),Ge('thickness','g'),Ge('specularit'+'yFactor','g'),Ge('normal',''),Ge('metalness','g'),Ge('gloss','g'),Ge('opacity','a'),Ge('refraction','g'),Ge('height','g',!(0x50d*-0x1+0x11*-0x17d+0x1e5b)),Ge('ao','g'),Ge('light','rgb',!(-0x8f2*-0x1+-0x4b2*0x3+-0x149*-0x4),0x4b*0x9+0xe3*-0x26+0x1f10),Ge('msdf',''),Ge('diffuseDet'+'ail','rgb',!(-0x21e0+0xd0*0x25+0x3d1)),Ge('normalDeta'+'il',''),Ge('aoDetail','g',!(-0xe64*0x1+0x3*-0xbf7+0x324a)),Ge('clearCoat','g'),Ge('clearCoatG'+'loss','g'),Ge('clearCoatN'+'ormal',''),Ge('sheen','rgb'),Ge('sheenGloss','g'),Ge('iridescenc'+'e','g'),Ge('iridescenc'+'eThickness','g'),we('diffuseDet'+'ailMode',km),we('aoDetailMo'+'de',km),qa('cubeMap'),qa('sphereMap'),qa('envAtlas');const _0x5fbf6f=function(){return this['_prefilter'+'edCubemaps'];},_0x303e83=function(_0x4c1337){const _0x4671a1=this['_prefilter'+'edCubemaps'];_0x4c1337=_0x4c1337||[];let _0x232664=!(-0xd77+0x1*-0x1367+0x20df),_0x147b7f=!(-0x821+0x7*0xc1+0x2da);for(let _0x5b0189=0xc05+-0x59e*0x1+-0x667;_0x5b0189<0x26cb+0x257*0x9+-0xef5*0x4;++_0x5b0189){const _0x565706=_0x4c1337[_0x5b0189]||null;_0x4671a1[_0x5b0189]!==_0x565706&&(_0x4671a1[_0x5b0189]=_0x565706,_0x232664=!(-0x326+0x28f+-0x97*-0x1)),_0x147b7f=_0x147b7f&&!!_0x4671a1[_0x5b0189];}_0x232664&&(_0x147b7f?this['envAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x4671a1,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(0x333+-0x1d0b*0x1+0x19d8));},_0x5afffc=[null,null,null,null,null,null];Op('prefiltere'+'dCubemaps',()=>_0x5afffc['slice'](),_0x303e83,_0x5fbf6f);}tM();const dt=class dt{static['render'](_0x477c55,_0x3f5548){const _0x25b657=_0x3f5548['device'],_0x7a2231=_0x477c55['cells'],_0x57add0=_0x477c55['lightsBuff'+'er'],_0x457848=_0x57add0['boundsMin'],_0x3ba633=_0x57add0['boundsDelt'+'a'],_0x211915=_0x457848['clone']()['add'](_0x3ba633),_0x172604=_0x57add0['boundsDelt'+'a']['clone']()['div'](_0x7a2231),_0x17e81e=dt['gridPositi'+'ons'],_0x82aa6f=dt['gridColors'],_0x123170=new Y(0xfb8+-0x2*0xbd0+-0x5c*-0x16+0.3,-0x267f+0xd96*-0x1+0x3415+0.3,0x1249+0x17ca+0x2a13*-0x1+0.3),_0xff7d9c=(_0xc37270,_0x1bed77,_0x49e1db,_0x556fd0,_0x470ca4,_0x57b777,_0x76b250,_0x1a4203,_0x1744e9)=>{for(let _0x520cfe=0x1e2a+-0x1*-0x1c84+-0xe*0x431;_0x520cfe<=_0xc37270;_0x520cfe++)for(let _0x25d1d9=0xec*0xa+-0x2109+0x17d1;_0x25d1d9<=_0x1bed77;_0x25d1d9++){const _0x2067b6=_0x49e1db+_0x520cfe*_0x556fd0,_0x4849c8=_0x470ca4+_0x25d1d9*_0x57b777;_0x1744e9===0x9*-0xbb+-0x1*0xe0b+0x3a*0x5b?_0x17e81e['push'](_0x2067b6,_0x76b250,_0x4849c8,_0x2067b6,_0x1a4203,_0x4849c8):_0x1744e9===0xe80+0x56*0x1f+-0x7*0x38f?_0x17e81e['push'](_0x2067b6,_0x4849c8,_0x76b250,_0x2067b6,_0x4849c8,_0x1a4203):_0x1744e9===-0x502+-0x244e*-0x1+-0x1f4a&&_0x17e81e['push'](_0x76b250,_0x2067b6,_0x4849c8,_0x1a4203,_0x2067b6,_0x4849c8);}};if(_0xff7d9c(_0x7a2231['x'],_0x7a2231['z'],_0x457848['x'],_0x172604['x'],_0x457848['z'],_0x172604['z'],_0x457848['y'],_0x211915['y'],-0x4d8+0x104f+0x24b*-0x5),_0xff7d9c(_0x7a2231['x'],_0x7a2231['y'],_0x457848['x'],_0x172604['x'],_0x457848['y'],_0x172604['y'],_0x457848['z'],_0x211915['z'],-0xb*0x2fe+0xb59+0x1592),_0xff7d9c(_0x7a2231['y'],_0x7a2231['z'],_0x457848['y'],_0x172604['y'],_0x457848['z'],_0x172604['z'],_0x457848['x'],_0x211915['x'],0x1a3d+0x1*0x1f87+-0x39c2),_0x17e81e['length']){const _0x28c8ed=_0x17e81e['length']/(-0x164c+0x219d+-0xb4e);if(_0x28c8ed!==_0x82aa6f['length']/(-0x1706*0x1+0x1*-0x2669+0x3d73)){_0x82aa6f['length']=0x1*-0x263+-0x1a24+0x43*0x6d;for(let _0x15c412=-0x1072+-0x1*-0x263e+-0x1d1*0xc;_0x15c412<_0x28c8ed;_0x15c412++)_0x82aa6f['push'](_0x123170['r'],_0x123170['g'],_0x123170['b'],_0x123170['a']);}_0x3f5548['drawLineAr'+'rays'](_0x17e81e,_0x82aa6f),_0x17e81e['length']=-0x3*-0x85d+-0x665*0x6+-0x3*-0x46d;}let _0x217d42=dt['mesh'];_0x217d42||(_0x217d42=new Ie(_0x25b657),_0x217d42['clear'](!(-0xdaf+0x3*0x27f+-0x1*-0x632),!(0xc8a+0x183a+-0x2d4*0xd)),dt['mesh']=_0x217d42);const _0x1d54f6=[],_0x42c162=[],_0x37c304=[],_0xba1753=_0x477c55['_cells']['x'],_0x235521=_0x477c55['_cells']['z'],_0x576c7f=_0x477c55['counts'],_0xc0d814=_0x477c55['_maxCellLi'+'ghtCount'],_0x30ea44=new T(),_0x16bb59=new T(),_0x382bac=new T(),_0x1eb2a8=_0x3ba633['clone']()['div'](_0x7a2231);let _0x30eb36=0x185a+-0x19f9*0x1+0x19f;for(let _0x119859=0x244c+0x1*-0x1d29+-0x723;_0x119859<_0x7a2231['x'];_0x119859++)for(let _0x4015df=-0x8e5*-0x3+-0xb22+0x3*-0x52f;_0x4015df<_0x7a2231['z'];_0x4015df++)for(let _0x50f592=-0x152c+0x105b*-0x1+0x2587*0x1;_0x50f592<_0x7a2231['y'];_0x50f592++){const _0x1437cf=_0x119859+_0xba1753*(_0x4015df+_0x50f592*_0x235521),_0x2933b7=_0x576c7f[_0x1437cf];if(_0x2933b7>-0x1cb1+0xd*-0x86+0x237f){_0x30ea44['x']=_0x457848['x']+_0x1eb2a8['x']*_0x119859,_0x30ea44['y']=_0x457848['y']+_0x1eb2a8['y']*_0x50f592,_0x30ea44['z']=_0x457848['z']+_0x1eb2a8['z']*_0x4015df,_0x16bb59['add2'](_0x30ea44,_0x1eb2a8),_0x1d54f6['push'](_0x30ea44['x'],_0x30ea44['y'],_0x16bb59['z']),_0x1d54f6['push'](_0x16bb59['x'],_0x30ea44['y'],_0x16bb59['z']),_0x1d54f6['push'](_0x16bb59['x'],_0x16bb59['y'],_0x16bb59['z']),_0x1d54f6['push'](_0x30ea44['x'],_0x16bb59['y'],_0x16bb59['z']),_0x1d54f6['push'](_0x16bb59['x'],_0x30ea44['y'],_0x30ea44['z']),_0x1d54f6['push'](_0x30ea44['x'],_0x30ea44['y'],_0x30ea44['z']),_0x1d54f6['push'](_0x30ea44['x'],_0x16bb59['y'],_0x30ea44['z']),_0x1d54f6['push'](_0x16bb59['x'],_0x16bb59['y'],_0x30ea44['z']),_0x382bac['lerp'](dt['colorLow'],dt['colorHigh'],_0x2933b7/_0xc0d814)['round']();for(let _0x5514c9=-0xd*-0x291+-0x206b+-0xf2;_0x5514c9<-0x244f+0x1*-0x48b+0x1471*0x2;_0x5514c9++)_0x42c162['push'](_0x382bac['x'],_0x382bac['y'],_0x382bac['z'],-0x19d0+-0x7c6*0x4+0x38e9);_0x37c304['push'](_0x30eb36*(0x1*-0xb7+-0x55b+0x30d*0x2)+(0x1d37+-0x1*0x234b+0x30a*0x2),_0x30eb36*(0x24ee+-0xc4a+0x1c*-0xe1)+(-0x9c9+0xb72+-0x35*0x8),_0x30eb36*(0x1b6b+0x1*-0x1ad8+-0x8b)+(-0x19ac+-0x1*0x71+0x1a20)),_0x37c304['push'](_0x30eb36*(0x1*-0x1023+0x70*-0x59+0x371b*0x1)+(0xb*-0x211+0x23ba+-0xcfc),_0x30eb36*(-0xd58*-0x1+-0x24f3+-0x17a3*-0x1)+(0x1d63+0x2*-0xb96+-0x636),_0x30eb36*(-0x22*-0x9e+-0x4*-0x935+-0x39c8)+(-0x1*0xeb0+0x4af+-0x1*-0xa03)),_0x37c304['push'](_0x30eb36*(-0xa36+-0x18a5+0x22e3)+(0x19*-0x92+0x1*-0xbe9+0x1a2f),_0x30eb36*(-0x2687*0x1+-0x1072+0x3701)+(0x20be+-0x9*-0x397+-0x4108*0x1),_0x30eb36*(0x10d3+0x219*0xc+0x3*-0xdfd)+(-0xd38+0x2414+-0x16d5)),_0x37c304['push'](_0x30eb36*(0x2123+-0x3*-0xcaa+0x17b3*-0x3)+(-0x1f70+-0x5b8+0x252f),_0x30eb36*(0xb41+-0x6b7+-0x482)+(0x11e+0x83*-0x41+-0x1015*-0x2),_0x30eb36*(0x1dff+-0x1c28+-0x1cf*0x1)+(0x904+-0x2*-0x817+-0x2*0xc96)),_0x37c304['push'](_0x30eb36*(-0x3*-0x295+-0x2c8*0x5+0x631)+(0x65+0x1*0x1dbf+0x9*-0x359),_0x30eb36*(0x21f8+-0x1334+0x52*-0x2e)+(0x189e+-0x5b*0x68+0xc5c),_0x30eb36*(0x1*0x1499+-0x2342+0xeb1*0x1)+(-0x1835*-0x1+0x1199*-0x1+-0x696)),_0x37c304['push'](_0x30eb36*(0xd69*-0x1+-0x3*0xc82+-0x32f7*-0x1)+(0x23ec+-0xdfb+-0x15ef),_0x30eb36*(-0x16b3+0x3*0x6bb+0x28a)+(0xfa7*-0x1+0x3b4+0xbfa),_0x30eb36*(0x5d3+-0x1528+0xcf*0x13)+(0xa63+-0xcd1+0x274*0x1)),_0x37c304['push'](_0x30eb36*(-0x2e*0xbe+0x1*-0x1019+-0x3245*-0x1)+(-0x1*0x1b71+0x1189+0x9e9),_0x30eb36*(0x7*0x4d5+-0x13*-0x21+0x121f*-0x2)+(-0x732*-0x3+0x1318+0x7f*-0x52),_0x30eb36*(0x1953+-0xd*0x19d+-0x452)+(-0x12a7+0x24f*0x1+0x105c)),_0x37c304['push'](_0x30eb36*(-0x1c7e+-0x1*-0x2b1+-0x1*-0x19d5)+(-0x2*-0x30b+-0x2*0x153+-0x370),_0x30eb36*(-0x2*-0x130f+0x94e+-0x2*0x17b2)+(-0x1c*-0x85+-0x9*-0x124+-0xb*0x241),_0x30eb36*(0xd42+0x4eb+-0x1225)+(-0x13a3+0x2117+-0xd70)),_0x37c304['push'](_0x30eb36*(0x255f+0x2033+-0x458a)+(-0x4c3+0x147*0x9+0x1*-0x6bb),_0x30eb36*(0x1c16*0x1+0x8ce+0x126e*-0x2)+(0x5*-0x5ea+0x2e*0xb3+-0x294),_0x30eb36*(0x3a*0x50+0x13*-0x158+0x770)+(0x19*-0x79+0x2cd*-0x7+0x1f6e)),_0x37c304['push'](_0x30eb36*(-0xbdd+0x25bf+0x44f*-0x6)+(-0x2*-0x1053+0x671+0x1*-0x2713),_0x30eb36*(-0x74*-0x19+-0x223d+0x16f1)+(-0x12cf+-0x2*0x12b+-0xa*-0x21e),_0x30eb36*(-0x3*0x1eb+0x15e2+-0x1019)+(0x25*-0x4+-0x359+0x35*0x13)),_0x37c304['push'](_0x30eb36*(0xb5*0x1+-0xeed+-0x4*-0x390)+(-0x136b+0x1730+-0x3c0),_0x30eb36*(0x120f+-0x86a*0x1+0x1*-0x99d)+(0x1*0xe11+-0x2a*-0x76+-0x216d),_0x30eb36*(0x221d+0xd*0xd0+-0x1*0x2ca5)+(0x2156+0x1bf6+-0x3d46)),_0x37c304['push'](_0x30eb36*(-0x1f7b+0x2*0x919+0xd51)+(0xed4+0x1*-0xe4d+0xf*-0x9),_0x30eb36*(0x55+0x1a5*-0x11+0x49c*0x6)+(0x101c+-0x15c6+-0x1*-0x5ad),_0x30eb36*(0x1e28+-0x1*0x23ce+0x5ae)+(0x3*-0x4c+0x636+-0x54c)),_0x30eb36++;}}if(_0x30eb36){if(_0x217d42['setPositio'+'ns'](_0x1d54f6),_0x217d42['setColors3'+'2'](_0x42c162),_0x217d42['setIndices'](_0x37c304),_0x217d42['update'](Ms,!(-0x21*0xc5+0x3*-0x146+0x6e*0x44)),!dt['meshInstan'+'ce']){const _0xd31e7a=new cs();_0xd31e7a['useLightin'+'g']=!(-0xa6a+-0x1*0x14ea+0x1*0x1f55),_0xd31e7a['emissive']=new Y(0x6c*0x1+0x192d+-0x1998,0x2*-0x135e+0x147*-0x1+0x2804,-0x1add+-0x4a7*-0x8+0x6a*-0x19),_0xd31e7a['emissiveVe'+'rtexColor']=!(0x547+0x152e+-0x1*0x1a75),_0xd31e7a['blendType']=Hc,_0xd31e7a['depthWrite']=!(-0x80d*0x3+-0x1ad*0x7+0x23e3),_0xd31e7a['update']();const _0x2509b9=new De('WorldClust'+'ersDebug');_0x2509b9['worldTrans'+'form']=q['IDENTITY'],_0x2509b9['_dirtyWorl'+'d']=_0x2509b9['_dirtyNorm'+'al']=!(-0x7a3+0x2d4+-0x38*-0x16),dt['meshInstan'+'ce']=new Le(_0x217d42,_0xd31e7a,_0x2509b9),dt['meshInstan'+'ce']['cull']=!(0x1b75+0xebf*0x1+-0xe11*0x3);}const _0x4e6ef8=dt['meshInstan'+'ce'];_0x3f5548['immediate']['drawMesh'](_0x4e6ef8['material'],_0x4e6ef8['node']['worldTrans'+'form'],null,_0x4e6ef8,_0x3f5548['defaultDra'+'wLayer']);}}};c(dt,'gridPositi'+'ons',[]),c(dt,'gridColors',[]),c(dt,'mesh',null),c(dt,'meshInstan'+'ce',null),c(dt,'colorLow',new T(0x21f2+0x13e6+-0x35d7,0x49f+0x1cfe+0x2cd*-0xc,0x1c0c+-0xd*0x15f+-0x18*0x6d)),c(dt,'colorHigh',new T(0x7ce+0x26ac+-0x2e52,0xc68+-0xc5*0x26+0x10d6,0xa50+0x1218+-0x24*0xca));let Vu=dt;const sM='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let vi=null;const R0=()=>{if(!vi){const _0x536e31=atob(sM);vi=Uint8Array['from'](_0x536e31,_0x1d2e61=>_0x1d2e61['charCodeAt'](0x1142*-0x2+-0x1b09+0x3d8d));}},iM=()=>(R0(),vi);class rM{constructor(_0x263ab5=-0xba*0x15+0xc69+0x1*0x2d9){c(this,'seed',-0x223f+-0x18c1*0x1+0x3b00),(this['seed']=_0x263ab5*(0x2*0xa0c+-0xed4+0x8*-0xa8),R0());}['_next'](){this['seed']=(this['seed']+(0x144a+0x20a*0x3+-0x1a64))%vi['length'];}['value'](){return this['_next'](),vi[this['seed']]/(-0x1700+0x26e3+0x3b9*-0x4);}['vec4'](_0x2e36df=new Q()){return this['_next'](),_0x2e36df['set'](vi[this['seed']],vi[this['seed']+(0x1f9+0x115*-0x5+0x371)],vi[this['seed']+(-0xc3e+-0x1830+0x2470)],vi[this['seed']+(-0xf13+-0x4e*-0x78+0x2*-0xabd)])['mulScalar']((-0x138a+0xe*0x1bf+-0x4e7)/(0x2010+-0x1eda+-0x37));}}const nM=[new T(-(0x1dab+-0x1533+-0x1*0x877),-0x1*0xad+-0x1e0f+0x7*0x464,-0x2407*0x1+-0x1*-0x6e1+-0x7*-0x42a),new T(0x5*0x1bb+0x689*-0x1+-0x21d,-0x2659+0x1ec+0x1*0x246d,-0x1771+0x170b+0x66),new T(-0x2bb+0x268a+0x59*-0x67,-(0x1*-0x2f9+0x565+0x26b*-0x1),-0x115a*-0x1+-0x849+-0x911),new T(-0x170+-0xd6d+-0x5*-0x2f9,0x1*0x1fc6+-0x1*-0xb1+-0x67e*0x5,-0x2695+0x6ed*0x5+0x3f4),new T(0x102a+-0x1*0x79f+-0x88b,-0x3f9*0x1+-0x1e76+0x226f,-(0x3*-0xbf5+0xb7*0x13+0x164b)),new T(-0x197*-0xb+0x241b+-0x3598,0x1cb0+0x25*-0x63+-0x4cb*0x3,-0x9b6+-0xa75+0x142c)];class aM{constructor(){c(this,'colors',new Float32Array((-0x2*0x5fc+0x75*0x51+-0x1907)*(0xaf1+0x128f*-0x2+0x1a30)));}['update'](_0x29b9cf,_0x5a5447){const _0x2a9d14=this['colors'],{r:_0x35a34b,g:_0x3f3286,b:_0x3db2d3}=_0x29b9cf;for(let _0x4beefb=0x13b6+-0x48b*0x4+-0xc5*0x2;_0x4beefb<-0x19ff+0x1014+-0x9f1*-0x1;_0x4beefb++)_0x2a9d14[_0x4beefb*(-0x1586+-0xde0+0x2369)]=_0x35a34b,_0x2a9d14[_0x4beefb*(0x961*-0x1+-0x1145+0x1aa9*0x1)+(0x3d4+0xc18+-0xfeb)]=_0x3f3286,_0x2a9d14[_0x4beefb*(-0x47d+0x17e*-0x3+0x8fa)+(0x3*0x47f+0x342+-0x10bd)]=_0x3db2d3;for(let _0xfdb145=-0xe2*0x8+0x198+-0x8c*-0xa;_0xfdb145<_0x5a5447['length'];_0xfdb145++){const _0xa81a67=_0x5a5447[_0xfdb145];if(_0xa81a67['_type']===oe)for(let _0x5254ac=-0x24a6+0xd4f*-0x1+0x31f5;_0x5254ac<0x10*-0x10b+-0x1c30+0x2ce6;_0x5254ac++){const _0xdac4e=Math['max'](nM[_0x5254ac]['dot'](_0xa81a67['_direction']),-0x11c7+0x1*0x1328+-0x1*0x161)*_0xa81a67['_intensity'],_0x1a5651=_0xa81a67['_color'];_0x2a9d14[_0x5254ac*(0x1587*-0x1+0xe92+0x6f8)]+=_0x1a5651['r']*_0xdac4e,_0x2a9d14[_0x5254ac*(0x2506+-0x11ab+-0x9ac*0x2)+(0x3a9*0x8+-0x1d*-0x42+0x24c1*-0x1)]+=_0x1a5651['g']*_0xdac4e,_0x2a9d14[_0x5254ac*(0x20*-0x38+0x2*-0xd84+0x1*0x220b)+(-0x1f0f+0x10a6+0xe6b)]+=_0x1a5651['b']*_0xdac4e;}}}}const oM=(_0x2853b7,_0x40338b,_0xa7c75a,_0x1ce57b)=>{const _0x5145c6=new he(_0x2853b7,{'name':''+_0x40338b+_0xa7c75a,'width':_0xa7c75a,'height':_0xa7c75a,'format':Se,'addressU':tt,'addressV':tt,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1,'mipmaps':!(-0x24b*-0x5+0x1*0x16ed+0x1*-0x2263)});return _0x5145c6['lock']()['set'](_0x1ce57b),_0x5145c6['unlock'](),_0x5145c6;},lM=new Ot(),hM=_0x182bf7=>lM['get'](_0x182bf7,()=>{const _0x22e2f4=iM(),_0xb4599d=Math['sqrt'](_0x22e2f4['length']/(-0x1b93+-0x1fb5+0x3b4c));return oM(_0x182bf7,'BlueNoise',_0xb4599d,_0x22e2f4);});class un{constructor(_0xb9941d,_0x2d7a12){this['texture']=_0xb9941d,this['cached']=!(0x1e84+0xc11*-0x1+-0x3*0x626),this['renderTarg'+'ets']=_0x2d7a12;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x5c728f=this['renderTarg'+'ets'];for(let _0x3631fe=-0x684+0xb2*-0x9+0xcc6;_0x3631fe<_0x5c728f['length'];_0x3631fe++)_0x5c728f[_0x3631fe]['destroy']();this['renderTarg'+'ets']['length']=0x21ec*-0x1+-0x18d9+0x3ac5;}static['getShadowF'+'iltering'](_0x153456,_0x43641d){return _0x43641d===Wr?_0x153456['extTexture'+'FloatLinea'+'r']?st:de:st;}static['create'](_0x2bff98,_0x1528b0){let _0x2445e4=null;return _0x1528b0['_type']===Pe?_0x2445e4=this['createCube'+'map'](_0x2bff98,_0x1528b0['_shadowRes'+'olution'],_0x1528b0['_shadowTyp'+'e']):_0x2445e4=this['create2dMa'+'p'](_0x2bff98,_0x1528b0['_shadowRes'+'olution'],_0x1528b0['_shadowTyp'+'e']),_0x2445e4;}static['createAtla'+'s'](_0x3e2827,_0xcf0c37,_0x26ba0b){const _0x433bac=this['create2dMa'+'p'](_0x3e2827,_0xcf0c37,_0x26ba0b),_0xccc094=_0x433bac['renderTarg'+'ets'],_0x38972a=_0xccc094[0x12*0xa9+-0x4*0x6ee+0xfd6];for(let _0x3a8303=-0x86c+-0xad0+-0x1*-0x133c;_0x3a8303<-0x365+-0x4*0xa1+-0x42*-0x17;_0x3a8303++)_0xccc094['push'](_0x38972a);return _0x433bac;}static['create2dMa'+'p'](_0x4a8399,_0x5cf3d8,_0x33d107){var _0x2635ef;const _0xccb988=ir['get'](_0x33d107);v['assert'](_0xccb988);let _0x4fa032=_0xccb988['format'];_0x4fa032===Ii&&!_0x4a8399['textureFlo'+'atRenderab'+'le']&&_0x4a8399['textureHal'+'fFloatRend'+'erable']&&(_0x4fa032=Ec);const _0x54c8de=(_0x2635ef=xt['get'](_0x4fa032))==null?void(-0x1*0x13e9+-0x180f+0xc9*0x38):_0x2635ef['name'],_0x5060d3=this['getShadowF'+'iltering'](_0x4a8399,_0x33d107),_0x193331=new he(_0x4a8399,{'profilerHint':Tu,'format':_0x4fa032,'width':_0x5cf3d8,'height':_0x5cf3d8,'mipmaps':!(0xb5*-0xb+0x1c3*0x11+-0x19*0xe3),'minFilter':_0x5060d3,'magFilter':_0x5060d3,'addressU':ae,'addressV':ae,'name':'ShadowMap2'+'D_'+_0x54c8de});let _0x14ce0e=null;return _0xccb988!=null&&_0xccb988['pcf']?(_0x193331['compareOnR'+'ead']=!(-0x9a9+0x718+0x291),_0x193331['compareFun'+'c']=Eh,_0x14ce0e=new pt({'depthBuffer':_0x193331})):_0x14ce0e=new pt({'colorBuffer':_0x193331,'depth':!(0x1909+0x894+-0x219d)}),_0x4a8399['isWebGPU']&&(_0x14ce0e['flipY']=!(0x26*-0x95+-0xbd1+0x21ef)),new un(_0x193331,[_0x14ce0e]);}static['createCube'+'map'](_0x2b7782,_0x4fe466,_0x2972e9){var _0x4fe4ec;const _0x42b8de=ir['get'](_0x2972e9);v['assert'](_0x42b8de);const _0x459fe6=(_0x4fe4ec=xt['get'](_0x42b8de['format']))==null?void(-0x1714+-0x56c*-0x2+0xc3c*0x1):_0x4fe4ec['name'],_0x3a7c71=_0x2972e9===Ts,_0x147103=_0x3a7c71?de:st,_0x189726=new he(_0x2b7782,{'profilerHint':Tu,'format':_0x42b8de==null?void(-0x9da+0x39*0x25+0x19d):_0x42b8de['format'],'width':_0x4fe466,'height':_0x4fe466,'cubemap':!(-0x1d89+0x1*-0x1641+0x33ca),'mipmaps':!(-0xb*0x1+0x1a0c+-0x1a00),'minFilter':_0x147103,'magFilter':_0x147103,'addressU':ae,'addressV':ae,'name':'ShadowMapC'+'ube_'+_0x459fe6});_0x3a7c71||(_0x189726['compareOnR'+'ead']=!(-0x24dd*-0x1+0x1d12+-0x41ef),_0x189726['compareFun'+'c']=Eh);const _0xce92d8=[];for(let _0x7f8b92=-0x519*0x2+0x1*-0x2333+0x2d65*0x1;_0x7f8b92<0x131c+-0x935*-0x3+0x43f*-0xb;_0x7f8b92++)_0x3a7c71?_0xce92d8['push'](new pt({'colorBuffer':_0x189726,'face':_0x7f8b92,'depth':!(-0xc21+-0x12f5+0xad*0x2e)})):_0xce92d8['push'](new pt({'depthBuffer':_0x189726,'face':_0x7f8b92}));return new un(_0x189726,_0xce92d8);}}const cM=[],dM=[],Js=new Q(),Cd=new Q();class Md{constructor(_0x25898d){this['size']=Math['floor'](_0x25898d['w']*(0x1491+0x1fa4+-0x3035)),this['used']=!(0xc0b*0x2+0x20dc+0x12fb*-0x3),this['lightId']=-(0x61b+0x5*-0x5ea+0x1778*0x1),this['rect']=_0x25898d;}}class uM{constructor(_0x48f58f){this['device']=_0x48f58f,this['version']=0xd52*-0x2+0x95d+0x452*0x4,this['shadowAtla'+'sResolutio'+'n']=-0x16*0x9d+-0x18f0+0x236*0x15,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=-0x34*-0x2f+-0x5*0x47b+0xcde,this['cookieAtla'+'sResolutio'+'n']=-0x1003+0xc*0x2b+0x1*0xe03,this['cookieAtla'+'s']=new he(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':rs,'cubemap':!(-0x4*0x85d+0x7*-0xd3+0x273a),'mipmaps':!(0x42*0x88+0x106a+-0x3379*0x1),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae}),this['cookieRend'+'erTarget']=new pt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(-0x268f+-0x1e76+-0x3e*-0x11d),'flipY':!(-0x264d+-0x2*0xbcc+-0x5*-0xc61)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new W(-0x1878+0x7*0x2d3+-0x191*-0x3,-0x442*-0x1+-0x2433+0x1ff1),new W(0x1*0x1c91+0x8*0xcb+-0x22e9,0x20d8+0x1f32+-0x4009),new W(0x1bfb*0x1+-0x59*-0x4a+-0x35b4,-0xad*0x3+-0x1*-0x20ea+-0x1ee3),new W(0x5*-0xc2+-0x1ae9+0x2*0xf5a,0x1*0x16f+0x11b6+0x15e*-0xe),new W(-0x1*0x1fd0+-0xb1a*-0x1+-0x34*-0x66,0x1ba5+0x2221+-0x3dc6),new W(-0x1*-0x10ff+0x18c0+-0x1*0x29bd,-0xec2+-0x1985+0x2848)],this['scissorVec']=new Q(),this['allocateSh'+'adowAtlas'](-0x587+-0x5e5*-0x5+-0x17f1),this['allocateCo'+'okieAtlas'](0x1558+-0x1fd0+0xa79),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x56da7f;(_0x56da7f=this['shadowAtla'+'s'])==null||_0x56da7f['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x54d7d3,_0x984a37;(_0x54d7d3=this['cookieAtla'+'s'])==null||_0x54d7d3['destroy'](),this['cookieAtla'+'s']=null,(_0x984a37=this['cookieRend'+'erTarget'])==null||_0x984a37['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x5c8a13,_0x45b3ed=Dt){var _0x5a716d;const _0xe2e4c0=(_0x5a716d=this['shadowAtla'+'s'])==null?void(-0x43*-0x3f+-0xdb4+0x1*-0x2c9):_0x5a716d['texture']['format'],_0x1d4f96=ir['get'](_0x45b3ed)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x5c8a13||_0xe2e4c0!==_0x1d4f96){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=un['createAtla'+'s'](this['device'],_0x5c8a13,_0x45b3ed),this['shadowAtla'+'s']['cached']=!(-0x1*0x2f6+0x84d+-0x557);const _0x20db47=(-0xce1+-0xa*0x1f7+0x208b)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x20db47,_0x20db47,-(-0x1857*0x1+-0x765*0x3+0x2e88)*_0x20db47,-(0x26da*0x1+0x19*0xcd+-0x3add)*_0x20db47);}}['allocateCo'+'okieAtlas'](_0x1f390b){this['cookieAtla'+'s']['width']!==_0x1f390b&&(this['cookieRend'+'erTarget']['resize'](_0x1f390b,_0x1f390b),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(-0x1163+-0x354+0x1*0x14b9),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x4f9baa=this['shadowAtla'+'s']['renderTarg'+'ets'][0x1*-0x62b+-0x13e2+0x1a0d]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x4f9baa),this['_shadowAtl'+'asParams'][-0x12ef+0x2045*0x1+0xd56*-0x1]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][0x1*-0x112+-0x20d4+0x107*0x21]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x426e6b,_0x4db7a3){let _0x27df46=_0x4db7a3['atlasSplit'];if(!_0x27df46){const _0x28f90b=Math['ceil'](Math['sqrt'](_0x426e6b));_0x27df46=dM,_0x27df46[-0x10fd+-0x1d*0x4+0x1171]=_0x28f90b,_0x27df46['length']=0x2163+0x3fe*0x7+-0x3d54;}if(!((_0x148778,_0x4a36d9)=>_0x148778['length']===_0x4a36d9['length']&&_0x148778['every']((_0x520825,_0x2d846e)=>_0x520825===_0x4a36d9[_0x2d846e]))(_0x27df46,this['atlasSplit'])){this['version']++,this['slots']['length']=0x102d+-0x1*-0x230c+-0x3*0x1113,this['atlasSplit']['length']=-0x174e+-0x6b6*0x5+-0x1c6e*-0x2,this['atlasSplit']['push'](..._0x27df46);const _0x5ef44a=this['atlasSplit'][0x901+-0x16*-0x18c+-0x2b09];if(_0x5ef44a>0x1994+0x9a3*0x1+-0x2*0x119b){const _0x396ea7=(-0x1*-0x2282+0x14f6+-0x3777)/_0x5ef44a;for(let _0x528fcb=0x11ec+-0x14b*0x9+-0x649;_0x528fcb<_0x5ef44a;_0x528fcb++)for(let _0xf47965=-0x4c7*-0x5+0x1*-0x1425+-0x3be;_0xf47965<_0x5ef44a;_0xf47965++){const _0x2c81a8=new Q(_0x528fcb*_0x396ea7,_0xf47965*_0x396ea7,_0x396ea7,_0x396ea7),_0x318613=this['atlasSplit'][-0x2321+-0x1c*0x22+0x26da+_0x528fcb*_0x5ef44a+_0xf47965];if(_0x318613>-0x1f80+0x16db+0x8a6){for(let _0x373636=0xab6+-0x123*0x2+-0x24*0x3c;_0x373636<_0x318613;_0x373636++)for(let _0x58be98=-0xaa7+0x123*0x3+0x73e;_0x58be98<_0x318613;_0x58be98++){const _0x1cfbc1=_0x396ea7/_0x318613,_0x45a501=new Q(_0x2c81a8['x']+_0x373636*_0x1cfbc1,_0x2c81a8['y']+_0x58be98*_0x1cfbc1,_0x1cfbc1,_0x1cfbc1);this['slots']['push'](new Md(_0x45a501));}}else this['slots']['push'](new Md(_0x2c81a8));}}else this['slots']['push'](new Md(new Q(-0x19be*0x1+0xe*-0xa7+0x22e0,-0x233*0xd+-0x70b*-0x2+-0x4f*-0x2f,-0x25*-0xa3+0x1051*-0x1+0x73d*-0x1,0x533*-0x4+-0x1*-0x1573+-0xa6)));this['slots']['sort']((_0x2e948f,_0x5425b8)=>_0x5425b8['size']-_0x2e948f['size']);}}['collectLig'+'hts'](_0x35d674,_0xeefe5){const _0x5c4eb5=_0xeefe5['cookiesEna'+'bled'],_0x250983=_0xeefe5['shadowsEna'+'bled'];let _0x173bdd=!(0x460*0x1+0x577+-0x9d6),_0x428cca=!(0xeeb+0x1*-0xc43+0x61*-0x7);const _0x49bd4d=cM;return _0x49bd4d['length']=0x162e+0x1c74+-0x1951*0x2,(_0x5c4eb5||_0x250983)&&(_0xd408e3=>{for(let _0x297ced=0xb*-0x378+-0xa6*0x1+0x26ce;_0x297ced<_0xd408e3['length'];_0x297ced++){const _0x2d9957=_0xd408e3[_0x297ced];if(_0x2d9957['visibleThi'+'sFrame']){const _0x382cc3=_0x250983&&_0x2d9957['castShadow'+'s'],_0x154cb6=_0x5c4eb5&&!!_0x2d9957['cookie'];_0x173bdd||(_0x173bdd=_0x382cc3),_0x428cca||(_0x428cca=_0x154cb6),(_0x382cc3||_0x154cb6)&&_0x49bd4d['push'](_0x2d9957);}}})(_0x35d674),_0x49bd4d['sort']((_0x191bee,_0x2015de)=>_0x2015de['maxScreenS'+'ize']-_0x191bee['maxScreenS'+'ize']),_0x173bdd&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0xeefe5['shadowType']),_0x428cca&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x173bdd||_0x428cca)&&this['subdivide'](_0x49bd4d['length'],_0xeefe5),_0x49bd4d;}['setupSlot'](_0x7dda07,_0x538fa0){_0x7dda07['atlasViewp'+'ort']['copy'](_0x538fa0);const _0x59494b=_0x7dda07['numShadowF'+'aces'];for(let _0x44ec6f=-0x1*0xd8+-0x226c+0x2344;_0x44ec6f<_0x59494b;_0x44ec6f++)if(_0x7dda07['castShadow'+'s']||_0x7dda07['_cookie']){if(Js['copy'](_0x538fa0),Cd['copy'](_0x538fa0),_0x7dda07['_type']===Re&&Js['add'](this['scissorVec']),_0x7dda07['_type']===Pe){const _0x371712=Js['z']/(-0xdfb+0x1*-0x242+0x1040),_0x25a467=this['cubeSlotsO'+'ffsets'][_0x44ec6f];Js['x']+=_0x371712*_0x25a467['x'],Js['y']+=_0x371712*_0x25a467['y'],Js['z']=_0x371712,Js['w']=_0x371712,Cd['copy'](Js);}if(_0x7dda07['castShadow'+'s']){const _0x25b01b=_0x7dda07['getRenderD'+'ata'](null,_0x44ec6f);_0x25b01b['shadowView'+'port']['copy'](Js),_0x25b01b['shadowScis'+'sor']['copy'](Cd);}}}['assignSlot'](_0x362621,_0x268efa,_0x29aa8c){_0x362621['atlasViewp'+'ortAllocat'+'ed']=!(0x117e+0x1*-0x22c3+0x1145*0x1);const _0x16daa1=this['slots'][_0x268efa];_0x16daa1['lightId']=_0x362621['id'],_0x16daa1['used']=!(-0x2419+0x1d48+0x15d*0x5),_0x29aa8c&&(_0x362621['atlasSlotU'+'pdated']=!(-0x43*0x56+0x2695+-0x1013*0x1),_0x362621['atlasVersi'+'on']=this['version'],_0x362621['atlasSlotI'+'ndex']=_0x268efa);}['update'](_0x388274,_0xf7559a){this['shadowAtla'+'sResolutio'+'n']=_0xf7559a['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0xf7559a['cookieAtla'+'sResolutio'+'n'];const _0x7afa90=this['collectLig'+'hts'](_0x388274,_0xf7559a);if(_0x7afa90['length']>0xb9*-0x32+0x1c0c+0x816){const _0x5bcbb5=this['slots'];for(let _0x3543c5=-0x2*0x1055+0x1*0x1473+0xc37*0x1;_0x3543c5<_0x5bcbb5['length'];_0x3543c5++)_0x5bcbb5[_0x3543c5]['used']=!(0x96c+0x1eab+-0x2816);const _0x5c17a0=Math['min'](_0x7afa90['length'],_0x5bcbb5['length']);for(let _0x259240=0x1f2*0x13+0x1*0x131e+0x184*-0x25;_0x259240<_0x5c17a0;_0x259240++){const _0x4e6b35=_0x7afa90[_0x259240];_0x4e6b35['castShadow'+'s']&&(_0x4e6b35['_shadowMap']=this['shadowAtla'+'s']);const _0x7aedcc=_0x5bcbb5[_0x4e6b35['atlasSlotI'+'ndex']];if(_0x4e6b35['atlasVersi'+'on']===this['version']&&_0x4e6b35['id']===(_0x7aedcc==null?void(0x377*-0xb+0x21*0xa3+0x111a):_0x7aedcc['lightId'])){const _0x4f8e45=_0x5bcbb5[_0x4e6b35['atlasSlotI'+'ndex']];_0x4f8e45['size']===_0x5bcbb5[_0x259240]['size']&&!_0x4f8e45['used']&&this['assignSlot'](_0x4e6b35,_0x4e6b35['atlasSlotI'+'ndex'],!(0x24a4+0x17e5*0x1+-0x3c88*0x1));}}let _0x575594=0x1d6d+-0x8*-0x1e7+-0x2ca5;for(let _0x106909=-0xca*-0xd+0x117b+-0x1bbd;_0x106909<_0x5c17a0;_0x106909++){for(;_0x575594<_0x5bcbb5['length']&&_0x5bcbb5[_0x575594]['used'];)_0x575594++;const _0x5c0381=_0x7afa90[_0x106909];_0x5c0381['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x5c0381,_0x575594,!(-0x1*0x370+0x5*-0x3d1+0x481*0x5));const _0x466284=_0x5bcbb5[_0x5c0381['atlasSlotI'+'ndex']];this['setupSlot'](_0x5c0381,_0x466284['rect']);}}this['updateUnif'+'orms']();}}class fM{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x4fe108=>{_0x4fe108['forEach'](_0xb9ab13=>{_0xb9ab13['destroy']();});}),this['cache']['clear']();}['getKey'](_0xeb3cc8){const _0x26ec6b=_0xeb3cc8['_type']===Pe,_0x124d35=_0xeb3cc8['_shadowTyp'+'e'],_0x3b3b72=_0xeb3cc8['_shadowRes'+'olution'];return _0x26ec6b+'-'+_0x124d35+'-'+_0x3b3b72;}['get'](_0x237385,_0x388df5){const _0x3c9773=this['getKey'](_0x388df5),_0x2b6055=this['cache']['get'](_0x3c9773);if(_0x2b6055&&_0x2b6055['length'])return _0x2b6055['pop']();const _0x1f0f36=un['create'](_0x237385,_0x388df5);return _0x1f0f36['cached']=!(-0x20e3+0x4*-0x3b9+0x3*0xfed),_0x1f0f36;}['add'](_0x44de2d,_0x5c23af){const _0x1674f1=this['getKey'](_0x44de2d),_0x5540dc=this['cache']['get'](_0x1674f1);_0x5540dc?_0x5540dc['push'](_0x5c23af):this['cache']['set'](_0x1674f1,[_0x5c23af]);}}class pM extends ds{constructor(_0x4b1195,_0x5d0ed9,_0x10788c,_0x50feb4,_0x19adc2){super(_0x4b1195),mn['setName'](this,this['name']+'-'+_0x10788c['_node']['name']),this['requiresCu'+'bemaps']=!(-0x1d11*0x1+0x33*-0x27+0x24d7),this['shadowRend'+'erer']=_0x5d0ed9,this['light']=_0x10788c,this['face']=_0x50feb4,this['applyVsm']=_0x19adc2,this['shadowCame'+'ra']=_0x5d0ed9['prepareFac'+'e'](_0x10788c,null,_0x50feb4),_0x5d0ed9['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(-0x2075+0x962*0x3+0x44f));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(0x93c+0x12bb+-0x1bf6));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class mM{constructor(_0x2ba459,_0x9e88a4){c(this,'shadowLigh'+'ts',[]),c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x2ba459,this['shadowRend'+'erer']=_0x9e88a4,this['device']=_0x2ba459['device']);}['cull'](_0xbffeb,_0x5b81bc,_0x26953=null){const _0x5803f0=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0xbffeb['visibleThi'+'sFrame']=!(0x17f9+0x12*-0x5+-0x179f),_0x5803f0||_0xbffeb['_shadowMap']||(_0xbffeb['_shadowMap']=un['create'](this['device'],_0xbffeb));const _0x5d771e=_0xbffeb['_type'],_0x31eecf=_0x5d771e===Re?0x844+0x17*0x14+0x19*-0x67:0xce8+0x6dd+-0xf*0x151;for(let _0x32e9d4=0x5*-0x9+-0xc93*0x2+0x1953;_0x32e9d4<_0x31eecf;_0x32e9d4++){const _0x1372dd=_0xbffeb['getRenderD'+'ata'](null,_0x32e9d4),_0x9c3957=_0x1372dd['shadowCame'+'ra'];_0x9c3957['nearClip']=_0xbffeb['attenuatio'+'nEnd']/(0xba5+-0x1234+0xa77),_0x9c3957['farClip']=_0xbffeb['attenuatio'+'nEnd'];const _0x596ee6=_0x9c3957['_node'],_0x3ac444=_0xbffeb['_node'];if(_0x596ee6['setPositio'+'n'](_0x3ac444['getPositio'+'n']()),_0x5d771e===Re)_0x9c3957['fov']=_0xbffeb['_outerCone'+'Angle']*(0x4b1*-0x6+-0x1*-0xdf+0x1b49),_0x596ee6['setRotatio'+'n'](_0x3ac444['getRotatio'+'n']()),_0x596ee6['rotateLoca'+'l'](-(0x17dd+-0x3*-0x79a+0xa7*-0x47),-0x1df6+0x25*-0xa3+0x1*0x3585,-0x1*0x1b22+-0xa4b+0x256d);else{if(_0x5d771e===Pe){if(_0x5803f0){const _0x5fef61=(0x21de+-0x1*0xedb+-0x1301)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0xbffeb['atlasViewp'+'ort']['z']/(-0x679*-0x5+-0x2b*-0x1d+-0x2539))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x9c3957['fov']=Math['atan'](0x745+0xb20*0x1+-0x1264*0x1+_0x5fef61)*N['RAD_TO_DEG']*(-0xf8*0x26+-0x685*0x3+-0x12cb*-0x3);}else _0x9c3957['fov']=-0x2061+0x1*0x22c9+-0x20e;}}this['renderer']['updateCame'+'raFrustum'](_0x9c3957),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x5b81bc,_0xbffeb,_0x1372dd['visibleCas'+'ters'],_0x9c3957,_0x26953);}}['prepareLig'+'hts'](_0x20adee,_0x45ccd1){let _0x2c4799;for(let _0x40f965=-0x14ef+0x11c*-0x1+0x160b;_0x40f965<_0x45ccd1['length'];_0x40f965++){const _0x389922=_0x45ccd1[_0x40f965];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x389922)&&_0x389922['atlasViewp'+'ortAllocat'+'ed']){_0x20adee['push'](_0x389922);for(let _0x2c350b=-0xcdd+-0x11*-0x18e+0x97*-0x17;_0x2c350b<_0x389922['numShadowF'+'aces'];_0x2c350b++)_0x2c4799=this['shadowRend'+'erer']['prepareFac'+'e'](_0x389922,null,_0x2c350b);}}return _0x2c4799;}['buildNonCl'+'usteredRen'+'derPasses'](_0x4a1d96,_0x1c78a8){for(let _0x2aa589=-0x1853+-0x1*-0x2143+-0x8f0;_0x2aa589<_0x1c78a8['length'];_0x2aa589++){const _0x12382e=_0x1c78a8[_0x2aa589];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x12382e)){const _0x141e8f=_0x12382e['_type']===Re,_0x8a885f=_0x12382e['numShadowF'+'aces'];for(let _0x4d7680=0x18bb*0x1+-0x1ed*0x9+-0x766;_0x4d7680<_0x8a885f;_0x4d7680++){const _0x5c777b=new pM(this['device'],this['shadowRend'+'erer'],_0x12382e,_0x4d7680,_0x141e8f);_0x4a1d96['addRenderP'+'ass'](_0x5c777b);}}}}}class _M extends ds{constructor(_0x1d0dd3,_0x4b0ee4,_0x2dfe1c,_0x656138,_0x24044f){super(_0x1d0dd3),mn['setName'](this,this['name']+'-'+_0x2dfe1c['_node']['name']),this['shadowRend'+'erer']=_0x4b0ee4,this['light']=_0x2dfe1c,this['camera']=_0x656138,this['allCascade'+'sRendering']=_0x24044f;}['execute'](){const {light:_0x53b2d3,camera:_0x855738,shadowRenderer:_0x2640f0,allCascadesRendering:_0x409f2a}=this,_0x41a067=_0x53b2d3['numShadowF'+'aces'],_0x1b7948=_0x53b2d3['shadowUpda'+'teOverride'+'s'];for(let _0x45b474=0x41*0x59+0x1aa0+0x1*-0x3139;_0x45b474<_0x41a067;_0x45b474++)(_0x1b7948==null?void(0xa24+0xe73+0x4eb*-0x5):_0x1b7948[_0x45b474])!==Ps&&_0x2640f0['renderFace'](_0x53b2d3,_0x855738,_0x45b474,!_0x409f2a),(_0x1b7948==null?void(0x39e+-0x2287+0x1ee9):_0x1b7948[_0x45b474])===cn&&(_0x1b7948[_0x45b474]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const Ll=new _e(),ei=new T(),d_=new q(),Fe=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()],Pd={'min':0x0,'max':0x0};function gM(_0xcf8667,_0x3dafdb,_0x27c08f){Fe[-0x1b65+-0x5*-0x1c1+0x12a0]['x']=Fe[0x359+0x2f7+-0x64f]['x']=Fe[0xce4+0x1a2f*-0x1+0xd4d]['x']=Fe[-0x1147+0x1665+-0x1*0x51b]['x']=_0x3dafdb['x'],Fe[-0x2256+0x25d7+-0x380]['y']=Fe[-0x1b87+-0x806*0x1+0x2390]['y']=Fe[0x1d14+0x10*0xe0+-0x2b0d]['y']=Fe[-0x1*0x11a5+-0x3c*-0x54+0x206*-0x1]['y']=_0x3dafdb['y'],Fe[0x2b5+-0x15fb+0x1348]['z']=Fe[-0x1*-0x1b59+-0x1d9e+0x92*0x4]['z']=Fe[-0x127d+-0xc50+0x1ed3]['z']=Fe[-0x39*0x83+-0x1520+0x3252]['z']=_0x3dafdb['z'],Fe[-0x13f2+-0x4df*-0x2+0x4*0x28e]['x']=Fe[-0x1f0e+0x98f*0x4+-0x729]['x']=Fe[0x43f*-0x3+-0x2461+0x3124]['x']=Fe[-0x270f+0x1c2f+0xae7]['x']=_0x27c08f['x'],Fe[0x1*0x1168+0xe1d*0x1+0x1*-0x1f85]['y']=Fe[0x112*0x4+-0x2682+0x223c]['y']=Fe[-0x183+0xcb+0xbc]['y']=Fe[0x41f*0x7+-0x2431+0x75e]['y']=_0x27c08f['y'],Fe[0x395*0xa+0xa2a*-0x1+-0x19a8]['z']=Fe[-0x633+0x24f7*0x1+-0x1ec3]['z']=Fe[-0xda6+-0x209e+0x2e48]['z']=Fe[-0x2*-0x2a4+-0x2c3+-0x280]['z']=_0x27c08f['z'];let _0x3885ec=0x3*-0x1860ce33+-0x11cb8eba5+0x475*0xd605a9,_0x35ab1b=-(0x13577f065+0x3a683324c+0x2036da*-0x141d);for(let _0x16fa05=-0x430*0x9+0x1ff1+-0x1*-0x5bf;_0x16fa05<-0x11*0x49+0x1d7e*-0x1+-0x1a3*-0x15;++_0x16fa05){_0xcf8667['transformP'+'oint'](Fe[_0x16fa05],Fe[_0x16fa05]);const _0x109949=Fe[_0x16fa05]['z'];_0x109949<_0x3885ec&&(_0x3885ec=_0x109949),_0x109949>_0x35ab1b&&(_0x35ab1b=_0x109949);}return Pd['min']=_0x3885ec,Pd['max']=_0x35ab1b,Pd;}class yM{constructor(_0xbf027,_0x58e057){c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0xbf027,this['shadowRend'+'erer']=_0x58e057,this['device']=_0xbf027['device']);}['cull'](_0x4cc8f6,_0x1533e9,_0x14d938,_0x3467da=null){_0x4cc8f6['visibleThi'+'sFrame']=!(-0x912+-0x1809*-0x1+-0xef7),_0x4cc8f6['_shadowMap']||(_0x4cc8f6['_shadowMap']=un['create'](this['device'],_0x4cc8f6));const _0x47c1dd=_0x14d938['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x4cc8f6,_0x47c1dd,Math['min'](_0x14d938['_farClip'],_0x4cc8f6['shadowDist'+'ance']));const _0x5dc2a5=_0x4cc8f6['shadowUpda'+'teOverride'+'s'];for(let _0x44d11a=-0x9cf+0x38c*0x9+0x33*-0x6f;_0x44d11a<_0x4cc8f6['numCascade'+'s']&&(_0x5dc2a5==null?void(-0x23c9*-0x1+0xd2c+-0x30f5):_0x5dc2a5[_0x44d11a])!==Ps;_0x44d11a++){const _0x32e94e=_0x4cc8f6['getRenderD'+'ata'](_0x14d938,_0x44d11a),_0x2ddad7=_0x32e94e['shadowCame'+'ra'];_0x2ddad7['renderTarg'+'et']=_0x4cc8f6['_shadowMap']['renderTarg'+'ets'][-0x17db+-0xb57*0x2+-0xb*-0x43b],_0x32e94e['shadowView'+'port']['copy'](_0x4cc8f6['cascades'][_0x44d11a]),_0x32e94e['shadowScis'+'sor']['copy'](_0x4cc8f6['cascades'][_0x44d11a]);const _0x489e4a=_0x2ddad7['_node'],_0x10adbc=_0x4cc8f6['_node'];_0x489e4a['setPositio'+'n'](_0x10adbc['getPositio'+'n']()),_0x489e4a['setRotatio'+'n'](_0x10adbc['getRotatio'+'n']()),_0x489e4a['rotateLoca'+'l'](-(-0x1d50+-0xad*-0x25+0x4a9*0x1),0x1620+-0x10bd+0x1*-0x563,-0xfb7+0xb8c*-0x3+0x325b);const _0x12694c=_0x44d11a===-0x5*0x251+-0x1359+0x4a*0x6b?_0x47c1dd:_0x4cc8f6['_shadowCas'+'cadeDistan'+'ces'][_0x44d11a-(0x2f6*-0x3+-0x1d*-0xfb+-0x12*0x116)],_0x19dd0f=_0x4cc8f6['_shadowCas'+'cadeDistan'+'ces'][_0x44d11a],_0x324eae=_0x14d938['getFrustum'+'Corners'](_0x12694c,_0x19dd0f);ei['set'](-0x1*-0xfd3+0x9*0x2b2+-0x2815,-0xb24+-0x17f2+0x2316,0x319*-0x2+0x1271*0x1+-0xc3f*0x1);const _0x52b299=_0x14d938['node']['getWorldTr'+'ansform']();for(let _0x5945f8=-0x2*-0x7d5+-0x639+-0x971;_0x5945f8<-0x3b5*-0x5+0x1*-0xd69+0x28c*-0x2;_0x5945f8++)_0x52b299['transformP'+'oint'](_0x324eae[_0x5945f8],_0x324eae[_0x5945f8]),ei['add'](_0x324eae[_0x5945f8]);ei['mulScalar']((-0x179c+0x2165+-0x9c8)/(-0x804+-0x9dd+0x11e9));let _0x7112a=0x28+-0x9*0x66+-0x1*-0x36e;for(let _0x34bdcd=-0x7b5+0x1679+-0xec4;_0x34bdcd<-0x13c7*0x1+0x1*-0x14c9+0x2898;_0x34bdcd++){const _0xec99fc=_0x324eae[_0x34bdcd]['sub'](ei)['length']();_0xec99fc>_0x7112a&&(_0x7112a=_0xec99fc);}const _0x438407=_0x489e4a['right'],_0xeb6077=_0x489e4a['up'],_0x3b900d=_0x489e4a['forward'],_0x384ccb=(-0xa*-0x2d+0x1086+-0x1248+0.25)*_0x4cc8f6['_shadowRes'+'olution']/_0x7112a,_0x326161=Math['ceil'](ei['dot'](_0xeb6077)*_0x384ccb)/_0x384ccb,_0x4910eb=Math['ceil'](ei['dot'](_0x438407)*_0x384ccb)/_0x384ccb,_0x114828=_0xeb6077['mulScalar'](_0x326161),_0x11842b=_0x438407['mulScalar'](_0x4910eb),_0x3b925f=ei['dot'](_0x3b900d),_0x3cef5d=_0x3b900d['mulScalar'](_0x3b925f);ei['add2'](_0x114828,_0x11842b)['add'](_0x3cef5d),_0x489e4a['setPositio'+'n'](ei),_0x489e4a['translateL'+'ocal'](-0x2499+-0xac9+0x2f62,0xe4b+0x5*-0x3c5+0x48e,0x4f*-0x10f3+-0x4*0x1c357+0x1b8a99),_0x2ddad7['nearClip']=0x26ae+-0x3c5+-0x22e9+0.01,_0x2ddad7['farClip']=0x5*-0x7892f+0x100f1*0x1b+0x291900,_0x2ddad7['orthoHeigh'+'t']=_0x7112a,this['renderer']['updateCame'+'raFrustum'](_0x2ddad7),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x1533e9,_0x4cc8f6,_0x32e94e['visibleCas'+'ters'],_0x2ddad7,_0x3467da);let _0x24305f=!(-0x1a1d+-0x2d*-0x12+-0x2f*-0x7d);const _0x43cd0e=_0x32e94e['visibleCas'+'ters'];for(let _0x52407d=0x5*-0x469+0x15c3+0x4a;_0x52407d<_0x43cd0e['length'];_0x52407d++){const _0x16a628=_0x43cd0e[_0x52407d];_0x24305f?(_0x24305f=!(0x189*0x17+-0x1*-0x13c+-0x248a),Ll['copy'](_0x16a628['aabb'])):Ll['add'](_0x16a628['aabb']);}d_['copy'](_0x489e4a['getWorldTr'+'ansform']())['invert']();const _0x31511d=gM(d_,Ll['getMin'](),Ll['getMax']());_0x489e4a['translateL'+'ocal'](0x377+0xe*-0x193+0x1293,0x1*0xf9+-0x1*-0x257+0x350*-0x1,_0x31511d['max']+(0x27*-0x65+-0x1f1+-0x1*-0x1154+0.1)),_0x2ddad7['farClip']=_0x31511d['max']-_0x31511d['min']+(0x16fc+0x12*-0x52+-0x1*0x1138+0.2),_0x32e94e['projection'+'Compensati'+'on']=_0x7112a;}}['generateSp'+'litDistanc'+'es'](_0x241352,_0x22f5ea,_0x1a4d17){_0x241352['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x1a4d17);for(let _0x34bc06=0x3d7+0xf56+0x3*-0x664;_0x34bc06<_0x241352['numCascade'+'s'];_0x34bc06++){const _0x157a12=_0x34bc06/_0x241352['numCascade'+'s'],_0x39e0fa=_0x22f5ea+(_0x1a4d17-_0x22f5ea)*_0x157a12,_0x267561=_0x22f5ea*(_0x1a4d17/_0x22f5ea)**_0x157a12,_0xa34d59=N['lerp'](_0x39e0fa,_0x267561,_0x241352['cascadeDis'+'tribution']);_0x241352['_shadowCas'+'cadeDistan'+'ces'][_0x34bc06-(0x954*0x1+-0x209e*0x1+0x43*0x59)]=_0xa34d59;}}['getLightRe'+'nderPass'](_0xd0a9d3,_0x1e4f86){v['assert'](_0xd0a9d3&&_0xd0a9d3['_type']===oe);let _0x1b4b82=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0xd0a9d3)){const _0x98204a=_0xd0a9d3['numShadowF'+'aces'],_0x2d718d=_0xd0a9d3['shadowUpda'+'teOverride'+'s'];let _0x5c858e=!(-0xb*-0x61+0xc33*0x1+-0x105e),_0x5dcf91;for(let _0x4ab1bd=0xc76+0x9d5+0x1b7*-0xd;_0x4ab1bd<_0x98204a;_0x4ab1bd++)(_0x2d718d==null?void(0x119+-0x9*0x3e0+0x21c7*0x1):_0x2d718d[_0x4ab1bd])===Ps&&(_0x5c858e=!(-0x161c+0x2676+-0x1f*0x87)),_0x5dcf91=this['shadowRend'+'erer']['prepareFac'+'e'](_0xd0a9d3,_0x1e4f86,_0x4ab1bd);_0x1b4b82=new _M(this['device'],this['shadowRend'+'erer'],_0xd0a9d3,_0x1e4f86,_0x5c858e),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x1b4b82,_0x5dcf91,_0x5c858e);}return _0x1b4b82;}}const Rd=new Set(),u_=new q(),f_=new q(),vr=new Float32Array(0x1*-0x8a9+0x737+0x174),Xa=new Q(0x7dc+0x1b63+-0x233e,-0xd51+0x2254+-0x1502,0x1*-0x12b2+-0x603+0x4f1*0x5,-0x21b6+0x2b6*0x2+0x1c4a*0x1),p_=new q();function xM(_0xefd4d7,_0x280293){return Math['exp'](-(_0xefd4d7*_0xefd4d7)/((0x1592+-0x17b*-0x19+-0x3a93)*_0x280293*_0x280293));}function SM(_0x439795){const _0xab4b2d=(_0x439795-(0x1da5+0x1a67+-0x380b))/(-0x1e6c+-0x194f*-0x1+0x1*0x523),_0x3ab132=(_0x439795-(-0x14*-0xd7+-0x2e0*-0x1+0x109*-0x13))*(-0x1f1f+-0x3c3+-0xeb*-0x26+0.5),_0x75a78b=new Array(_0x439795);let _0x3d7d38=-0x2ca+-0x3eb+0x6b5;for(let _0x3cfc2e=0x1*-0x9a3+0x222c+-0x1889;_0x3cfc2e<_0x439795;++_0x3cfc2e)_0x75a78b[_0x3cfc2e]=xM(_0x3cfc2e-_0x3ab132,_0xab4b2d),_0x3d7d38+=_0x75a78b[_0x3cfc2e];for(let _0x353525=0xe*-0x113+-0x1584+0x248e*0x1;_0x353525<_0x439795;++_0x353525)_0x75a78b[_0x353525]/=_0x3d7d38;return _0x75a78b;}class I0{constructor(_0x5c5c1a,_0x1abb4d){c(this,'shadowPass'+'Cache',[]),(this['device']=_0x5c5c1a['device'],this['renderer']=_0x5c5c1a,this['lightTextu'+'reAtlas']=_0x1abb4d);const _0x42240a=this['device']['scope'];this['sourceId']=_0x42240a['resolve']('source'),this['pixelOffse'+'tId']=_0x42240a['resolve']('pixelOffse'+'t'),this['weightId']=_0x42240a['resolve']('weight[0]'),this['blurVsmSha'+'derCode']=[X['blurVSMPS'],'#define\x20GA'+'USS\x0a'+X['blurVSMPS']],this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x42240a['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new _t(),this['blendState'+'NoWrite']=new _t(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(-0x5*-0x13d+0x6ef+-0xd1f),!(-0x16c*0x8+-0x1a5b+-0xd2*-0x2e),!(-0x1*0x14ce+-0x5*-0x3be+-0xb3*-0x3),!(0x1e5*-0x5+-0x259c+0x52*0x93));}static['createShad'+'owCamera'](_0x1e084c,_0x1dc914,_0x485440){const _0x39d579=Ma['create']('ShadowCame'+'ra',_0x1dc914,_0x485440),_0x4659a1=ir['get'](_0x1e084c);v['assert'](_0x4659a1);const _0x1a2bea=(_0x4659a1==null?void(0x25a7+0x1*0x1eec+0xdb7*-0x5):_0x4659a1['vsm'])??!(-0x13e+-0xb8*0xa+0x86f),_0x4419f8=(_0x4659a1==null?void(-0x4f5+0x1*0x8a9+-0x3b4):_0x4659a1['pcf'])??!(0x153d*-0x1+-0x226c+-0x13*-0x2ee);return _0x1a2bea?_0x39d579['clearColor']=new Y(0x1*-0x148a+-0x135f+0x27e9,0xf45+-0x1c87+0xd42,-0x1df*0x1+-0x1bad+0x1d8c,0x1*-0x22ba+-0xf07*-0x2+0x4ac):_0x39d579['clearColor']=new Y(0x3*0x71f+0x359+0x5*-0x4f1,-0x14f7+0x103d+-0x4bb*-0x1,-0x26a3+-0x43c*0x9+-0x998*-0x8,0xb15+0x6*0x337+-0x1e5e),_0x39d579['clearDepth'+'Buffer']=!(0x1*-0xf1b+0xbfd+0x39*0xe),_0x39d579['clearStenc'+'ilBuffer']=!(-0x1*-0x1223+-0x69b*-0x1+0x83f*-0x3),_0x39d579['clearColor'+'Buffer']=!_0x4419f8,_0x39d579;}['_cullShado'+'wCastersIn'+'ternal'](_0x23b1e6,_0x247702,_0x5768a0){const _0x1bf4cc=_0x23b1e6['length'];for(let _0xde2e1f=0x148f*0x1+-0x1830+0x3a1;_0xde2e1f<_0x1bf4cc;_0xde2e1f++){const _0x55c7ee=_0x23b1e6[_0xde2e1f];_0x55c7ee['castShadow']&&(!_0x55c7ee['cull']||_0x55c7ee['_isVisible'](_0x5768a0))&&(_0x55c7ee['visibleThi'+'sFrame']=!(-0x81*-0x4a+-0xfa0+-0x15aa),_0x247702['push'](_0x55c7ee));}}['cullShadow'+'Casters'](_0x329533,_0x37dbb4,_0x526c51,_0x56f4f4,_0x1bec33){if(_0x526c51['length']=0x5b+-0x2395+-0x5df*-0x6,_0x1bec33)this['_cullShado'+'wCastersIn'+'ternal'](_0x1bec33,_0x526c51,_0x56f4f4);else{const _0x5761b5=_0x329533['layerList'],_0x17c40f=_0x5761b5['length'];for(let _0x2dbd88=0xa7b*-0x3+-0x3*-0x9f3+0x198;_0x2dbd88<_0x17c40f;_0x2dbd88++){const _0x416e23=_0x5761b5[_0x2dbd88];_0x416e23['_lightsSet']['has'](_0x37dbb4)&&(Rd['has'](_0x416e23)||(Rd['add'](_0x416e23),this['_cullShado'+'wCastersIn'+'ternal'](_0x416e23['shadowCast'+'ers'],_0x526c51,_0x56f4f4)));}Rd['clear']();}_0x526c51['sort'](this['renderer']['sortCompar'+'eDepth']);}['setupRende'+'rState'](_0xb2b211,_0x4abf45){const _0x564870=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x4abf45['_isPcf']:_0x4abf45['_isPcf']&&_0x4abf45['_type']!==Pe;_0xb2b211['setBlendSt'+'ate'](_0x564870?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0xb2b211['setDepthSt'+'ate'](_0x4abf45['shadowDept'+'hState']),_0xb2b211['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x2829ab,_0x12a301,_0x1409ed,_0xa0822d){const _0x4270e8=_0x12a301['_node'];_0x2829ab['_type']!==oe&&(this['renderer']['dispatchVi'+'ewPos'](_0x4270e8['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x2829ab['attenuatio'+'nEnd'])),u_['setTRS'](_0x4270e8['getPositio'+'n'](),_0x4270e8['getRotatio'+'n'](),T['ONE'])['invert'](),f_['mul2'](_0x12a301['projection'+'Matrix'],u_);const _0x2a0902=_0x1409ed['shadowView'+'port'];_0x12a301['rect']=_0x2a0902,_0x12a301['scissorRec'+'t']=_0x1409ed['shadowScis'+'sor'],p_['setViewpor'+'t'](_0x2a0902['x'],_0x2a0902['y'],_0x2a0902['z'],_0x2a0902['w']),_0x1409ed['shadowMatr'+'ix']['mul2'](p_,f_),_0x2829ab['_type']===oe&&_0x2829ab['_shadowMat'+'rixPalette']['set'](_0x1409ed['shadowMatr'+'ix']['data'],_0xa0822d*(0x4ee+-0x5*0x73+0x3d*-0xb));}['getShadowP'+'ass'](_0x2101bc){var _0x5eebab;const _0x6b74ea=_0x2101bc['_type'],_0x4bdef2=_0x2101bc['_shadowTyp'+'e'];let _0x4b7218=(_0x5eebab=this['shadowPass'+'Cache'][_0x6b74ea])==null?void(-0xdf*0x8+-0x674+-0x1*-0xd6c):_0x5eebab[_0x4bdef2];if(!_0x4b7218){const _0x4173e3='ShadowPass'+'_'+_0x6b74ea+'_'+_0x4bdef2;_0x4b7218=Ks['get'](this['device'])['allocate'](_0x4173e3,{'isShadow':!(0x3*-0x15f+0x11b+0x302),'lightType':_0x6b74ea,'shadowType':_0x4bdef2}),this['shadowPass'+'Cache'][_0x6b74ea]||(this['shadowPass'+'Cache'][_0x6b74ea]=[]),this['shadowPass'+'Cache'][_0x6b74ea][_0x4bdef2]=_0x4b7218;}return _0x4b7218['index'];}['submitCast'+'ers'](_0x5d399d,_0x1e4b8d,_0x1026bd){const _0x5c0913=this['device'],_0x103f40=this['renderer'],_0x52096c=_0x103f40['scene'],_0x17371f=-0x33f+-0xaae+-0xdee*-0x1<<Rp,_0x12b717=this['getShadowP'+'ass'](_0x1e4b8d),_0x10a9c9=_0x1026bd['shaderPara'+'ms'],_0x4bacaa=_0x1026bd['renderTarg'+'et']['flipY']?-(0x930+-0x1*-0xcfb+-0x2*0xb15):0x21b5+-0x1*-0x10c5+-0x3279,_0x1191e5=_0x5d399d['length'];for(let _0x40b674=-0x1c18+-0x2478+0x4090;_0x40b674<_0x1191e5;_0x40b674++){const _0x298f74=_0x5d399d[_0x40b674],_0x5a10a7=_0x298f74['mesh'];_0x298f74['ensureMate'+'rial'](_0x5c0913);const _0x4d4eca=_0x298f74['material'];G['pushGpuMar'+'ker'](_0x5c0913,'Node:\x20'+_0x298f74['node']['name']+(',\x20Material'+':\x20')+_0x4d4eca['name']),_0x103f40['setBaseCon'+'stants'](_0x5c0913,_0x4d4eca),_0x103f40['setSkinnin'+'g'](_0x5c0913,_0x298f74),_0x4d4eca['dirty']&&(_0x4d4eca['updateUnif'+'orms'](_0x5c0913,_0x52096c),_0x4d4eca['dirty']=!(-0x1acd+0x130c+-0x7c2*-0x1)),_0x103f40['setupCullM'+'ode'](!(-0x6d6*0x1+-0x4db*0x7+-0x7*-0x5d5),_0x4bacaa,_0x298f74),_0x4d4eca['setParamet'+'ers'](_0x5c0913),_0x298f74['setParamet'+'ers'](_0x5c0913,_0x17371f);const _0x163717=_0x298f74['getShaderI'+'nstance'](_0x12b717,-0x24a0+0x43d*-0x1+0x28dd,_0x52096c,_0x10a9c9,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0xf034ea=_0x163717['shader'];v['assert'](_0xf034ea,'no\x20shader\x20'+'for\x20pass\x20'+_0x12b717,_0x4d4eca),_0x298f74['_key'][ku]=_0xf034ea['id'],_0x5c0913['setShader'](_0xf034ea),_0x103f40['setVertexB'+'uffers'](_0x5c0913,_0x5a10a7),_0x103f40['setMorphin'+'g'](_0x5c0913,_0x298f74['morphInsta'+'nce']),this['renderer']['setupMeshU'+'niformBuff'+'ers'](_0x163717,_0x298f74);const _0x3a5d78=_0x298f74['renderStyl'+'e'];_0x5c0913['setIndexBu'+'ffer'](_0x5a10a7['indexBuffe'+'r'][_0x3a5d78]),_0x103f40['drawInstan'+'ce'](_0x5c0913,_0x298f74,_0x5a10a7,_0x3a5d78),_0x103f40['_shadowDra'+'wCalls']++,G['popGpuMark'+'er'](_0x5c0913);}}['needsShado'+'wRendering'](_0x56aa65){const _0x366944=_0x56aa65['enabled']&&_0x56aa65['castShadow'+'s']&&_0x56aa65['shadowUpda'+'teMode']!==Ps&&_0x56aa65['visibleThi'+'sFrame'];return _0x56aa65['shadowUpda'+'teMode']===cn&&(_0x56aa65['shadowUpda'+'teMode']=Ps),_0x366944&&(this['renderer']['_shadowMap'+'Updates']+=_0x56aa65['numShadowF'+'aces']),_0x366944;}['getLightRe'+'nderData'](_0x5bdc5d,_0x502588,_0x4cb9ca){return _0x5bdc5d['getRenderD'+'ata'](_0x5bdc5d['_type']===oe?_0x502588:null,_0x4cb9ca);}['setupRende'+'rPass'](_0x190908,_0x5b9973,_0x12392c){const _0x517912=_0x5b9973['renderTarg'+'et'];_0x190908['init'](_0x517912),_0x190908['depthStenc'+'ilOps']['clearDepth'+'Value']=0x1626+0x471+-0x1a96,_0x190908['depthStenc'+'ilOps']['clearDepth']=_0x12392c,_0x517912['depthBuffe'+'r']?_0x190908['depthStenc'+'ilOps']['storeDepth']=!(0x42c+-0x1ffa*-0x1+-0x2426):(_0x190908['colorOps']['clearValue']['copy'](_0x5b9973['clearColor']),_0x190908['colorOps']['clear']=_0x12392c,_0x190908['depthStenc'+'ilOps']['storeDepth']=!(0x243d+0x3d*-0x6a+-0xafa)),_0x190908['requiresCu'+'bemaps']=!(0x100+-0xe5d+0xd5e);}['prepareFac'+'e'](_0x12cdc0,_0x2a344f,_0x329115){const _0x3738ee=_0x12cdc0['_type'],_0x12d447=this['getLightRe'+'nderData'](_0x12cdc0,_0x2a344f,_0x329115)['shadowCame'+'ra'],_0x16e1c7=_0x3738ee===oe?-0x418*-0x8+0x1915+-0x39d5:_0x329115;return _0x12d447['renderTarg'+'et']=_0x12cdc0['_shadowMap']['renderTarg'+'ets'][_0x16e1c7],_0x12d447;}['renderFace'](_0x277856,_0x24bcbc,_0x5c5283,_0x231eb6,_0x82faf5=!(0x80b+-0x6d*-0x1f+-0x2*0xa9f)){const _0x28166d=this['device'],_0x14d6f1=ne();G['pushGpuMar'+'ker'](_0x28166d,'SHADOW\x20'+_0x277856['_node']['name']+'\x20FACE\x20'+_0x5c5283);const _0x24c1d9=this['getLightRe'+'nderData'](_0x277856,_0x24bcbc,_0x5c5283),_0x119566=_0x24c1d9['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x277856,_0x119566,_0x24c1d9,_0x5c5283);const _0x474d78=_0x119566['renderTarg'+'et'],_0x1702c7=this['renderer'];_0x1702c7['setCameraU'+'niforms'](_0x119566,_0x474d78),_0x28166d['supportsUn'+'iformBuffe'+'rs']&&_0x1702c7['setupViewU'+'niformBuff'+'ers'](_0x24c1d9['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],-0xe3*0x12+0x79f*-0x4+0x2e73),_0x82faf5?(_0x1702c7['setupViewp'+'ort'](_0x119566,_0x474d78),_0x231eb6&&_0x1702c7['clear'](_0x119566)):_0x1702c7['clearView'](_0x119566,_0x474d78,!(0x1906+0x226a+-0x3b70),!(0x12b4+0x1*0x1fa6+-0x3259*0x1)),this['setupRende'+'rState'](_0x28166d,_0x277856),this['submitCast'+'ers'](_0x24c1d9['visibleCas'+'ters'],_0x277856,_0x119566),G['popGpuMark'+'er'](_0x28166d),_0x1702c7['_shadowMap'+'Time']+=ne()-_0x14d6f1;}['render'](_0x2dea88,_0x2547e9,_0x423ebd=!(-0xe75*-0x1+-0x14ea+0x675)){if(this['needsShado'+'wRendering'](_0x2dea88)){const _0x16954e=_0x2dea88['numShadowF'+'aces'];for(let _0x44e924=-0x5*0x5ba+-0xbe7+-0x481*-0x9;_0x44e924<_0x16954e;_0x44e924++)this['prepareFac'+'e'](_0x2dea88,_0x2547e9,_0x44e924),this['renderFace'](_0x2dea88,_0x2547e9,_0x44e924,!(0x669*0x3+-0x1*0xe21+0x2*-0x28d),_0x423ebd);this['renderVsm'](_0x2dea88,_0x2547e9);}}['renderVsm'](_0x4f7afb,_0xc804d){_0x4f7afb['_isVsm']&&_0x4f7afb['_vsmBlurSi'+'ze']>-0x1729+0x179*-0x5+-0x5*-0x61b&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x4f7afb['_type']===oe)&&this['applyVsmBl'+'ur'](_0x4f7afb,_0xc804d);}['getVsmBlur'+'Shader'](_0x30e98c,_0xb080ca){const _0x48fc14=this['blurVsmSha'+'der'];let _0x22812a=_0x48fc14[_0x30e98c][_0xb080ca];if(!_0x22812a){this['blurVsmWei'+'ghts'][_0xb080ca]=SM(_0xb080ca);const _0x29f2c0=X['fullscreen'+'QuadVS'];let _0x29cf3f='#define\x20SA'+'MPLES\x20'+_0xb080ca+'\x0a';_0x29cf3f+=this['blurVsmSha'+'derCode'][_0x30e98c];const _0x100373='blurVsm'+_0x30e98c+_0xb080ca;_0x22812a=Is(this['device'],_0x29f2c0,_0x29cf3f,_0x100373),_0x48fc14[_0x30e98c][_0xb080ca]=_0x22812a;}return _0x22812a;}['applyVsmBl'+'ur'](_0x4ebca6,_0x49738f){const _0x547bb6=this['device'];G['pushGpuMar'+'ker'](_0x547bb6,'VSM\x20'+_0x4ebca6['_node']['name']),_0x547bb6['setBlendSt'+'ate'](_t['NOBLEND']);const _0x25543d=_0x4ebca6['getRenderD'+'ata'](_0x4ebca6['_type']===oe?_0x49738f:null,-0x1f69+0x19b3+0x5b6)['shadowCame'+'ra']['renderTarg'+'et'],_0x43e2be=this['renderer']['shadowMapC'+'ache']['get'](_0x547bb6,_0x4ebca6),_0x16498a=_0x43e2be['renderTarg'+'ets'][-0x2a*0xad+0x2*-0x551+-0xb*-0x38c],_0x15cc65=_0x4ebca6['vsmBlurMod'+'e'],_0x10ee36=_0x4ebca6['_vsmBlurSi'+'ze'],_0x4b6956=this['getVsmBlur'+'Shader'](_0x15cc65,_0x10ee36);Xa['z']=_0x4ebca6['_shadowRes'+'olution']-(-0x2*0x4+-0x2f+0x39),Xa['w']=Xa['z'],this['sourceId']['setValue'](_0x25543d['colorBuffe'+'r']),vr[-0xd55+0x1b16+-0xdc1]=(-0x1*-0x12df+-0x1*0xfb6+-0x328*0x1)/_0x4ebca6['_shadowRes'+'olution'],vr[-0x67*-0x1+-0x1*-0xdcd+-0xe33]=0x3*-0x8d7+0x84a+0x123b,this['pixelOffse'+'tId']['setValue'](vr),_0x15cc65===Tp&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x10ee36]),dn(_0x547bb6,_0x16498a,_0x4b6956,null,Xa),this['sourceId']['setValue'](_0x16498a['colorBuffe'+'r']),vr[0x1229*-0x2+0x67*-0x3d+-0x2e6*-0x15]=vr[-0x1*-0x11a+0x143*-0x1d+-0x73*-0x4f],vr[-0x3*-0xaab+-0x11d*0xa+-0xd*0x19b]=0x357+-0x21*-0x116+-0x272d,this['pixelOffse'+'tId']['setValue'](vr),dn(_0x547bb6,_0x25543d,_0x4b6956,null,Xa),this['renderer']['shadowMapC'+'ache']['add'](_0x4ebca6,_0x43e2be),G['popGpuMark'+'er'](_0x547bb6);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new Qy(this['device'],[new gt('matrix_vie'+'wProjectio'+'n',Sa)]),this['viewBindGr'+'oupFormat']=new jy(this['device'],[new pp(fp,up|li)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const Fl=[];class vM{constructor(_0x22a551){c(this,'_empty',null),c(this,'_allocated',[]),c(this,'_clusters',new Map()),this['device']=_0x22a551;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x27ea59=>{_0x27ea59['destroy']();}),this['_allocated']['length']=0x1*0x231d+-0x2aa+-0x27f*0xd;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x16ec9f=new zu(this['device']);_0x16ec9f['name']='ClusterEmp'+'ty',_0x16ec9f['update']([]),this['_empty']=_0x16ec9f;}return this['_empty'];}['assign'](_0x55ba6c){const _0x552243=this['empty'];Fl['push'](...this['_allocated']),this['_allocated']['length']=0x11d5+-0x1924+0x74f*0x1,this['_clusters']['clear']();const _0xcdd068=_0x55ba6c['length'];for(let _0xfce994=-0x129e+0x1*-0x4ac+0x174a;_0xfce994<_0xcdd068;_0xfce994++){const _0x25d6dd=_0x55ba6c[_0xfce994]['renderActi'+'ons'];if(_0x25d6dd){const _0x2ccf55=_0x25d6dd['length'];for(let _0x4b2976=0xf6+-0x1282+-0x118c*-0x1;_0x4b2976<_0x2ccf55;_0x4b2976++){const _0x5308e4=_0x25d6dd[_0x4b2976];_0x5308e4['lightClust'+'ers']=null;const _0x2d3a26=_0x5308e4['layer'];if(_0x2d3a26['hasCluster'+'edLights']&&_0x2d3a26['meshInstan'+'ces']['length']){const _0x164aae=_0x2d3a26['getLightId'+'Hash'](),_0x30c646=this['_clusters']['get'](_0x164aae);let _0x22def5=_0x30c646==null?void(-0x1b2*-0x8+0xe*0x53+0x14b*-0xe):_0x30c646['lightClust'+'ers'];_0x22def5||(_0x22def5=Fl['pop']()??new zu(this['device']),mn['setName'](_0x22def5,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x22def5),this['_clusters']['set'](_0x164aae,_0x5308e4)),_0x5308e4['lightClust'+'ers']=_0x22def5;}_0x5308e4['lightClust'+'ers']||(_0x5308e4['lightClust'+'ers']=_0x552243);}}}Fl['forEach'](_0x21c529=>_0x21c529['destroy']()),Fl['length']=-0x3d*-0x43+0x2089*0x1+-0x3080;}['update'](_0x14f9a7,_0x348937){this['assign'](_0x14f9a7),this['_clusters']['forEach'](_0x2a71cd=>{const _0x401107=_0x2a71cd['layer'];_0x2a71cd['lightClust'+'ers']['update'](_0x401107['clusteredL'+'ightsSet'],_0x348937);});}}const m_='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}',bM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}',wM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}',Gi=new Q(),Id=[];class kp extends ds{constructor(_0x2ea445,_0x5b8af9){super(_0x2ea445),c(this,'_quadRende'+'rer2D',null),c(this,'_quadRende'+'rerCube',null),c(this,'_filteredL'+'ights',[]),(this['_cubeSlots'+'Offsets']=_0x5b8af9,this['requiresCu'+'bemaps']=!(-0x1e73*-0x1+0x23*0x115+0x1*-0x4451),this['blitTextur'+'eId']=_0x2ea445['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x2ea445['scope']['resolve']('invViewPro'+'j'));}['destroy'](){var _0x2b1c96,_0x4a65ea;(_0x2b1c96=this['_quadRende'+'rer2D'])==null||_0x2b1c96['destroy'](),this['_quadRende'+'rer2D']=null,(_0x4a65ea=this['_quadRende'+'rerCube'])==null||_0x4a65ea['destroy'](),this['_quadRende'+'rerCube']=null;}static['create'](_0x3555c8,_0x210d24){v['assert'](_0x3555c8);const _0x192faf=new kp(_0x3555c8['device'],_0x210d24);return _0x192faf['init'](_0x3555c8),_0x192faf['colorOps']['clear']=!(-0x3*0x427+0x1b33+-0xebd),_0x192faf['depthStenc'+'ilOps']['clearDepth']=!(0x13c7+-0xd2d*0x1+-0x3*0x233),_0x192faf;}['update'](_0x56a29e){const _0x6978c0=this['_filteredL'+'ights'];this['filter'](_0x56a29e,_0x6978c0),this['executeEna'+'bled']=_0x6978c0['length']>-0x4*-0x171+0x5f2*-0x2+0x620*0x1;}['filter'](_0x1934c9,_0x25a2db){for(let _0x54e48e=0x1714+0x2139+-0x384d;_0x54e48e<_0x1934c9['length'];_0x54e48e++){const _0x43405e=_0x1934c9[_0x54e48e];_0x43405e['_type']!==oe&&_0x43405e['atlasViewp'+'ortAllocat'+'ed']&&_0x43405e['atlasSlotU'+'pdated']&&_0x43405e['enabled']&&_0x43405e['cookie']&&_0x43405e['visibleThi'+'sFrame']&&_0x25a2db['push'](_0x43405e);}}['initInvVie'+'wProjMatri'+'ces'](){if(!Id['length'])for(let _0x599a15=0x277*-0xf+-0x1c2a+0x4123;_0x599a15<-0x2501*-0x1+0xe30+0x332b*-0x1;_0x599a15++){const _0x4e20e7=Ma['create'](null,Pe,_0x599a15),_0x4d3203=_0x4e20e7['projection'+'Matrix'],_0x42ddd6=_0x4e20e7['node']['getLocalTr'+'ansform']()['clone']()['invert']();Id[_0x599a15]=new q()['mul2'](_0x4d3203,_0x42ddd6)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x484f7f=Is(this['device'],m_,bM,'cookieRend'+'erer2d');this['_quadRende'+'rer2D']=new Nu(_0x484f7f);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x26a2b7=Is(this['device'],m_,wM,'cookieRend'+'ererCube');this['_quadRende'+'rerCube']=new Nu(_0x26a2b7);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x1d679b=this['device'];_0x1d679b['setBlendSt'+'ate'](_t['NOBLEND']),_0x1d679b['setCullMod'+'e'](mt),_0x1d679b['setDepthSt'+'ate'](as['NODEPTH']),_0x1d679b['setStencil'+'State']();const _0x438910=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x1b773e=this['_cubeSlots'+'Offsets'],_0x51218a=this['_filteredL'+'ights'];for(let _0x535dcf=0x5ce+-0xdcc+0x7fe;_0x535dcf<_0x51218a['length'];_0x535dcf++){const _0x73b654=_0x51218a[_0x535dcf];G['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x73b654['_node']['name']);const _0xa7ebbf=_0x73b654['numShadowF'+'aces'],_0x84da2f=_0xa7ebbf>0x3a*0x50+-0x20b1+0x2*0x749?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0xa7ebbf>-0x2647+-0x2213+0x485b&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x73b654['cookie']);for(let _0x1d5046=-0x2083+-0x14bf+0x3542;_0x1d5046<_0xa7ebbf;_0x1d5046++){if(Gi['copy'](_0x73b654['atlasViewp'+'ort']),_0xa7ebbf>0x10c4+-0x103*0x22+0x11a3){const _0x10b842=Gi['z']/(0x19eb+0x1b*0x111+-0x1*0x36b3),_0x53c995=_0x1b773e[_0x1d5046];Gi['x']+=_0x10b842*_0x53c995['x'],Gi['y']+=_0x10b842*_0x53c995['y'],Gi['z']=_0x10b842,Gi['w']=_0x10b842,this['invViewPro'+'jId']['setValue'](Id[_0x1d5046]['data']);}Gi['mulScalar'](_0x438910),_0x84da2f['render'](Gi);}G['popGpuMark'+'er'](_0x1d679b);}_0x51218a['length']=-0x5db+-0x3*-0x7e5+-0x1*0x11d4;}}class TM extends ds{constructor(_0x3b6c2a,_0xbe0992,_0xba9c8){super(_0x3b6c2a),this['requiresCu'+'bemaps']=!(0x1b7e+-0x2*-0xf1d+-0x39b7),this['shadowRend'+'erer']=_0xbe0992,this['shadowRend'+'ererLocal']=_0xba9c8;}['update'](_0x49d1d2){const _0x141267=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x37b693=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x141267,_0x49d1d2),_0x1b19e8=_0x141267['length'];this['enabled']=_0x1b19e8>-0x180f*-0x1+-0x1*0x1d81+0x572,_0x1b19e8&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x37b693,!(-0x1*0x52a+0x1f3e+-0x1a13));}['execute'](){const _0x2013b0=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x19bd74=_0x2013b0['length'];for(let _0x5db259=0x509*0x7+-0x20b*-0x3+0xa58*-0x4;_0x5db259<_0x19bd74;_0x5db259++){const _0xc534dc=_0x2013b0[_0x5db259];for(let _0x25c779=-0x2141+0xb7f+-0xa*-0x22d;_0x25c779<_0xc534dc['numShadowF'+'aces'];_0x25c779++)this['shadowRend'+'erer']['renderFace'](_0xc534dc,null,_0x25c779,!(-0x1*0xb5+0x1d9*0x8+0x3*-0x4b1));}_0x2013b0['length']=0x1*-0xd5f+-0x125b+0x1fba;}}class AM extends ds{constructor(_0x1438f1,_0x223c04,_0x24dc75,_0x491a9c,_0x4baf6e){super(_0x1438f1),this['renderer']=_0x223c04,this['frameGraph']=null,this['cookiesRen'+'derPass']=kp['create'](_0x4baf6e['cookieRend'+'erTarget'],_0x4baf6e['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new TM(_0x1438f1,_0x24dc75,_0x491a9c),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x405d14,_0x4b266b,_0xf209cc,_0x3bcc4f,_0x1607f2){this['frameGraph']=_0x405d14,this['cookiesRen'+'derPass']['enabled']=_0xf209cc,_0xf209cc&&this['cookiesRen'+'derPass']['update'](_0x3bcc4f),this['shadowRend'+'erPass']['enabled']=_0x4b266b,_0x4b266b&&this['shadowRend'+'erPass']['update'](_0x1607f2);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x30077f=ne(),{renderer:_0x3b87df}=this,{scene:_0x248436}=_0x3b87df;_0x3b87df['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x248436['lighting']),_0x3b87df['_lightClus'+'tersTime']+=ne()-_0x30077f,_0x3b87df['_lightClus'+'ters']=_0x3b87df['worldClust'+'ersAllocat'+'or']['count'];}}let Dd=-0xa59+0x2f1*-0x9+0x1269*0x2;const Hi=new q(),Wi=new q(),Mn=new q(),__=new js(),Ld=new Lf(),g_=new q()['setScale'](-0xfb4+-0x1175+0x212a,-(-0x2fa*-0x7+-0x23f3+0x2*0x78f),-0x1203*-0x2+-0x2*-0xb1d+-0x1*0x3a3f),Fd=new Set(),Od=new Set(),kd=new Yy(),y_=new q()['set']([0x11e+0x32f+-0x44c,-0xd89+0x20ea+-0x1361,-0x1183+0x178d*-0x1+-0x1488*-0x2,0x1*-0x1a2f+-0x9*0x2ac+0x491*0xb,-0x262f+0x3*0xb56+0x42d*0x1,0x868+-0x1862+0xffb*0x1,-0xcf+-0x20ee+0x21bd,0x1*0x1bff+0x1103+-0x2d02,-0x187b*-0x1+0x1639+0x31*-0xf4,-0x1*0x982+0x4*0x954+-0x1*0x1bce,0x24ae+0x65*0x56+-0x469c+0.5,-0x5*-0x607+-0x175e*0x1+-0x6c5*0x1,-0x7ff*0x1+0xcd7+-0x4d8,0x2612+-0x1469+-0x11a9,-0x18e2+0x341+-0x15a1*-0x1+0.5,0x3*-0x3e4+0x250d+-0x196*0x10]),x_=[new W(0x5e*-0x67+0x139*-0x9+0x30d3*0x1+0.5,-0xf08+0x537+-0x9d1*-0x1+0.333333),new W(0x7d3+0x293+0x1*-0xa66+0.25,0x1*0x230e+0x52*-0x13+0x24*-0xce+0.666667),new W(0x1d00*-0x1+-0x405+0x4f*0x6b+0.75,-0x1174*-0x2+-0xf9*0x2+-0x1*0x20f6+0.111111),new W(0x1fd+0x1b3f*-0x1+0x1942+0.125,0x1*0x9d7+0x14b1+-0x1e88+0.444444),new W(0xed6+-0x1908+0xa32+0.625,-0x79c+0x165a+-0xebe+0.777778),new W(0x136b*-0x2+-0x202*0x7+0x34e4+0.375,-0x15*-0xf9+-0x18d*0xd+-0x44+0.222222),new W(0x2fa*0x1+0x1e79+-0x2173+0.875,-0x19e3+-0xe*-0xd1+0xe75+0.555556),new W(-0x2211+0xd25*-0x1+0x2f36+0.0625,0x1167+-0xdf*0x18+0x1*0x381+0.888889),new W(-0xdd*0x25+0x1039+-0xfb8*-0x1+0.5625,0x1c6b*0x1+0x82f*0x1+-0x249a+0.037037),new W(-0xe60+0x932+0x3*0x1ba+0.3125,0x5*-0x5d2+-0x1*0x13a3+-0x1*-0x30bd+0.37037),new W(0x775+0x902+0x3*-0x57d+0.8125,-0x4*-0x12a+0x4b6*0x4+-0x1780+0.703704),new W(-0x816+0x45*-0x66+-0x4*-0x8e5+0.1875,0xf40*-0x1+0xd21+0x21f+0.148148),new W(0xe9+-0x4*-0x20+-0x169+0.6875,0x25ff+0x20cc+-0x46cb+0.481481),new W(-0x1d*0x3a+0x20ef+0x11*-0x18d+0.4375,-0x1b3+-0x33*-0x81+-0x1800+0.814815),new W(-0x70d+-0x229a+0x29a7*0x1+0.9375,0x6b*0x53+0x144+0x23f5*-0x1+0.259259),new W(-0x22d*0xe+0x1*-0x123e+-0x3*-0x103c+0.03125,0x687*-0x3+0x559+-0x1*-0xe3c+0.592593)],EM=new q(),CM=new q(),MM=new q(),PM=new q(),RM=new q(),IM=new q(),Pn=new Set(),Bd=[],Nd=[];class DM{constructor(_0x5608da){c(this,'clustersDe'+'bugRendere'+'d',!(-0x1855*-0x1+0xe*0x1e2+-0x32b0)),c(this,'processing'+'MeshInstan'+'ces',new Set()),c(this,'worldClust'+'ersAllocat'+'or'),c(this,'lights',[]),c(this,'localLight'+'s',[]),c(this,'cameraDirS'+'hadowLight'+'s',new Map()),c(this,'dirLightSh'+'adows',new Map()),c(this,'blueNoise',new rM(0x55*0x38+0x4cd*0x5+-0x4ae*0x9)),(this['device']=_0x5608da,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new vM(_0x5608da),this['lightTextu'+'reAtlas']=new uM(_0x5608da),this['shadowMapC'+'ache']=new fM(),this['shadowRend'+'erer']=new I0(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new mM(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new yM(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new AM(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=-0x133*0xe+-0x10e4+0x21ae,this['_morphTime']=0x1*-0xf6a+-0x3b*0x6a+0x27d8,this['_cullTime']=0x1*0x120a+0x1394+-0x282*0xf,this['_shadowMap'+'Time']=-0xfc*0x1e+0x1810+0x578,this['_lightClus'+'tersTime']=0x1c37+0x8a1+-0x24d8,this['_layerComp'+'ositionUpd'+'ateTime']=0x241f+-0x623*0x3+-0x11b6,this['_shadowDra'+'wCalls']=0xaa0+0x1*0x742+0x6*-0x2fb,this['_skinDrawC'+'alls']=-0x2060+0xc81+0x13df,this['_instanced'+'DrawCalls']=0xc16+-0x17ca+0xbb4,this['_shadowMap'+'Updates']=0x7a2+-0x21b1+0x1*0x1a0f,this['_numDrawCa'+'llsCulled']=-0x1614*-0x1+-0x4f5+0x9*-0x1e7,this['_camerasRe'+'ndered']=-0x1ea+0x2260+-0x2076,this['_lightClus'+'ters']=0x5df+0x513+-0xaf2);const _0xe2dc29=_0x5608da['scope'];this['boneTextur'+'eId']=_0xe2dc29['resolve']('texture_po'+'seMap'),this['boneTextur'+'eSizeId']=_0xe2dc29['resolve']('texture_po'+'seMapSize'),this['modelMatri'+'xId']=_0xe2dc29['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0xe2dc29['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0xe2dc29['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(-0x38b*0x1+0x790+-0x402),this['viewPosId']=_0xe2dc29['resolve']('view_posit'+'ion'),this['projId']=_0xe2dc29['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0xe2dc29['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0xe2dc29['resolve']('matrix_vie'+'w'),this['viewId3']=_0xe2dc29['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0xe2dc29['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0xe2dc29['resolve']('projection'+'FlipY'),this['tbnBasis']=_0xe2dc29['resolve']('tbnBasis'),this['nearClipId']=_0xe2dc29['resolve']('camera_nea'+'r'),this['farClipId']=_0xe2dc29['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(-0xd*-0xb6+-0x2132+0x3b*0x68),this['cameraPara'+'msId']=_0xe2dc29['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0xe2dc29['resolve']('view_index'),this['blueNoiseJ'+'itterVersi'+'on']=-0xbfc+-0x4f*-0x2+-0x1e*-0x61,this['blueNoiseJ'+'itterVec']=new Q(),this['blueNoiseJ'+'itterData']=new Float32Array(0x1f26+-0x12*0x62+-0x1d*0xd6),this['blueNoiseJ'+'itterId']=_0xe2dc29['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0xe2dc29['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0xe2dc29['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0xe2dc29['resolve']('texture_op'+'acityMap'),this['exposureId']=_0xe2dc29['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0xe2dc29['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](0xe10+-0xe6f+0x13*0x5),this['morphPosit'+'ionTex']=_0xe2dc29['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0xe2dc29['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0xe2dc29['resolve']('morph_tex_'+'params'),this['lightCube']=new aM(),this['constantLi'+'ghtCube']=_0xe2dc29['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['sortCompar'+'e'](_0x4dc530,_0x5e62e7){if(_0x4dc530['layer']===_0x5e62e7['layer']){if(_0x4dc530['drawOrder']&&_0x5e62e7['drawOrder'])return _0x4dc530['drawOrder']-_0x5e62e7['drawOrder'];if(_0x4dc530['zdist']&&_0x5e62e7['zdist'])return _0x5e62e7['zdist']-_0x4dc530['zdist'];if(_0x4dc530['zdist2']&&_0x5e62e7['zdist2'])return _0x4dc530['zdist2']-_0x5e62e7['zdist2'];}return _0x5e62e7['_key'][Ei]-_0x4dc530['_key'][Ei];}['sortCompar'+'eMesh'](_0x10b9c0,_0x891d3e){if(_0x10b9c0['layer']===_0x891d3e['layer']){if(_0x10b9c0['drawOrder']&&_0x891d3e['drawOrder'])return _0x10b9c0['drawOrder']-_0x891d3e['drawOrder'];if(_0x10b9c0['zdist']&&_0x891d3e['zdist'])return _0x891d3e['zdist']-_0x10b9c0['zdist'];}const _0x252041=_0x10b9c0['_key'][Ei],_0x543346=_0x891d3e['_key'][Ei];return _0x252041===_0x543346&&_0x10b9c0['mesh']&&_0x891d3e['mesh']?_0x891d3e['mesh']['id']-_0x10b9c0['mesh']['id']:_0x543346-_0x252041;}['sortCompar'+'eDepth'](_0x526174,_0x3845ac){const _0x22cf3f=_0x526174['_key'][ku],_0x4cb6d8=_0x3845ac['_key'][ku];return _0x22cf3f===_0x4cb6d8&&_0x526174['mesh']&&_0x3845ac['mesh']?_0x3845ac['mesh']['id']-_0x526174['mesh']['id']:_0x4cb6d8-_0x22cf3f;}['setupViewp'+'ort'](_0x47600d,_0x20b2f0){const _0x4a42b6=this['device'],_0x4d5795=_0x20b2f0?_0x20b2f0['width']:_0x4a42b6['width'],_0x305e40=_0x20b2f0?_0x20b2f0['height']:_0x4a42b6['height'],_0x4b1749=_0x47600d['rect'];let _0x7b03a=Math['floor'](_0x4b1749['x']*_0x4d5795),_0x72b1ec=Math['floor'](_0x4b1749['y']*_0x305e40),_0x5d4d74=Math['floor'](_0x4b1749['z']*_0x4d5795),_0x490d75=Math['floor'](_0x4b1749['w']*_0x305e40);if(_0x4a42b6['setViewpor'+'t'](_0x7b03a,_0x72b1ec,_0x5d4d74,_0x490d75),_0x47600d['_scissorRe'+'ctClear']){const _0x58fadc=_0x47600d['scissorRec'+'t'];_0x7b03a=Math['floor'](_0x58fadc['x']*_0x4d5795),_0x72b1ec=Math['floor'](_0x58fadc['y']*_0x305e40),_0x5d4d74=Math['floor'](_0x58fadc['z']*_0x4d5795),_0x490d75=Math['floor'](_0x58fadc['w']*_0x305e40);}_0x4a42b6['setScissor'](_0x7b03a,_0x72b1ec,_0x5d4d74,_0x490d75);}['setCameraU'+'niforms'](_0x11a608,_0x14a1f5){var _0x50574e,_0x4d23d1;const _0x5ee7dd=_0x14a1f5==null?void(0x26a4*0x1+0xd65*-0x1+-0x193f):_0x14a1f5['flipY'];let _0x18476c=0x2397+-0x13a7+-0xfef;if(_0x11a608['xr']&&_0x11a608['xr']['session']){const _0x3df176=((_0x4d23d1=(_0x50574e=_0x11a608['_node'])==null?void(0x1d99+0x8ca+-0x2663):_0x50574e['parent'])==null?void(-0x92f+0x1*-0xf0d+0xc*0x205):_0x4d23d1['getWorldTr'+'ansform']())||null,_0x5c4c27=_0x11a608['xr']['views'];_0x18476c=_0x5c4c27['list']['length'];for(let _0x17ec52=0x20d0+-0x4c1+-0x1c0f;_0x17ec52<_0x18476c;_0x17ec52++){const _0x2524f2=_0x5c4c27['list'][_0x17ec52];_0x2524f2['updateTran'+'sforms'](_0x3df176),_0x11a608['frustum']['setFromMat'+'4'](_0x2524f2['projViewOf'+'fMat']);}}else{let _0x18422a=_0x11a608['projection'+'Matrix'];_0x11a608['calculateP'+'rojection']&&_0x11a608['calculateP'+'rojection'](_0x18422a,Al);let _0x37ab9a=_0x11a608['getProject'+'ionMatrixS'+'kybox']();_0x5ee7dd&&(_0x18422a=EM['mul2'](g_,_0x18422a),_0x37ab9a=CM['mul2'](g_,_0x37ab9a)),this['device']['isWebGPU']&&(_0x18422a=MM['mul2'](y_,_0x18422a),_0x37ab9a=PM['mul2'](y_,_0x37ab9a));const {jitter:_0x137eff}=_0x11a608;let _0x2733d1=-0x236a+0x1e4b+0x51f,_0x3949bb=-0x1d8b+-0x1cb4+0x3a3f;if(_0x137eff>-0x60a+0x2*0xec+0x432){const _0xc485e=_0x14a1f5?_0x14a1f5['width']:this['device']['width'],_0x37d6cb=_0x14a1f5?_0x14a1f5['height']:this['device']['height'],_0x37638e=x_[this['device']['renderVers'+'ion']%x_['length']];_0x2733d1=_0x137eff*(_0x37638e['x']*(-0x5*-0x449+-0x1c1f*-0x1+-0x318a)-(0xd*-0x1f3+0x1cd4+0x1*-0x37c))/_0xc485e,_0x3949bb=_0x137eff*(_0x37638e['y']*(0x1b55+0x204a+-0x3b9d)-(0x305*0x1+0x1624+0x2*-0xc94))/_0x37d6cb,_0x18422a=RM['copy'](_0x18422a),_0x18422a['data'][-0x3f0+0x17c9*0x1+0x13*-0x10b]=_0x2733d1,_0x18422a['data'][-0x1c8b+0x58a*0x2+0x1180]=_0x3949bb,_0x37ab9a=IM['copy'](_0x37ab9a),_0x37ab9a['data'][-0x31b*0xb+0x17*0x174+-0x1*-0xc5]=_0x2733d1,_0x37ab9a['data'][0x377*-0x6+-0xad9*-0x1+0x9fa]=_0x3949bb,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x1aae41=_0x137eff>-0x2*0x1195+0x1996+0x994?this['blueNoiseJ'+'itterVec']:Q['ZERO'];if(this['blueNoiseJ'+'itterData'][-0x846+0x2*0xfc5+-0x1744]=_0x1aae41['x'],this['blueNoiseJ'+'itterData'][0x1f6a+-0xb96+0xcb*-0x19]=_0x1aae41['y'],this['blueNoiseJ'+'itterData'][-0x2cb*0xd+0x1819+0xc38]=_0x1aae41['z'],this['blueNoiseJ'+'itterData'][0x1*0x16f+-0x11b8+0x104c]=_0x1aae41['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x18422a['data']),this['projSkybox'+'Id']['setValue'](_0x37ab9a['data']),_0x11a608['calculateT'+'ransform'])_0x11a608['calculateT'+'ransform'](Wi,Al);else{const _0x48d27c=_0x11a608['_node']['getPositio'+'n'](),_0x583068=_0x11a608['_node']['getRotatio'+'n']();Wi['setTRS'](_0x48d27c,_0x583068,T['ONE']);}this['viewInvId']['setValue'](Wi['data']),Mn['copy'](Wi)['invert'](),this['viewId']['setValue'](Mn['data']),__['setFromMat'+'4'](Mn),this['viewId3']['setValue'](__['data']),Hi['mul2'](_0x18422a,Mn),this['viewProjId']['setValue'](Hi['data']),_0x11a608['_storeShad'+'erMatrices'](Hi,_0x2733d1,_0x3949bb,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x5ee7dd?-(-0x1*-0x174d+-0x221d+-0x1*-0xad1):-0x250c+0x21c0+0xd*0x41),this['dispatchVi'+'ewPos'](_0x11a608['_node']['getPositio'+'n']()),_0x11a608['frustum']['setFromMat'+'4'](Hi);}this['tbnBasis']['setValue'](_0x5ee7dd?-(-0xcdd+0x375+0x969):0x495*0x2+-0x20*-0x9e+-0x1ce9*0x1);const _0x3aa882=_0x11a608['_nearClip'],_0x1b9d30=_0x11a608['_farClip'];return this['nearClipId']['setValue'](_0x3aa882),this['farClipId']['setValue'](_0x1b9d30),this['cameraPara'+'ms'][-0x99a*-0x2+0x9e*-0x1+0x2*-0x94b]=(0x1fac*-0x1+0x1*-0x1899+0x93*0x62)/_0x1b9d30,this['cameraPara'+'ms'][-0xe52+0x93*0x7+0x527*0x2]=_0x1b9d30,this['cameraPara'+'ms'][-0x562*0x4+0x917+0xc73]=_0x3aa882,this['cameraPara'+'ms'][-0x203f+0x23b5+-0x373]=_0x11a608['projection']===ua?0x4c1*-0x3+-0x60*0x2f+0x1fe4:0x106*-0x1+0xc46*-0x2+-0x1*-0x1992,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x11a608['getExposur'+'e']():this['scene']['exposure']),_0x18476c;}['clear'](_0x5c51e1,_0x527068,_0x1c7c6d,_0x11ef25){const _0x4efaad=(_0x527068??_0x5c51e1['_clearColo'+'rBuffer']?Co:0x1f17+-0x19*-0x123+0x13d6*-0x3)|(_0x1c7c6d??_0x5c51e1['_clearDept'+'hBuffer']?Mo:-0x7*-0xdf+-0x1662+-0x17b*-0xb)|(_0x11ef25??_0x5c51e1['_clearSten'+'cilBuffer']?Ah:-0x20*-0x2+0x12*0xbd+-0xd8a);if(_0x4efaad){const _0x57a0ee=this['device'];G['pushGpuMar'+'ker'](_0x57a0ee,'CLEAR'),_0x57a0ee['clear']({'color':[_0x5c51e1['_clearColo'+'r']['r'],_0x5c51e1['_clearColo'+'r']['g'],_0x5c51e1['_clearColo'+'r']['b'],_0x5c51e1['_clearColo'+'r']['a']],'depth':_0x5c51e1['_clearDept'+'h'],'stencil':_0x5c51e1['_clearSten'+'cil'],'flags':_0x4efaad}),G['popGpuMark'+'er'](_0x57a0ee);}}['setCamera'](_0x568edd,_0x2c07f0,_0x18e2d4,_0x1c30c2=null){this['setCameraU'+'niforms'](_0x568edd,_0x2c07f0),this['clearView'](_0x568edd,_0x2c07f0,_0x18e2d4,!(0x219d+0x5e7*0x2+0x1*-0x2d6a));}['clearView'](_0x1d5d96,_0x3e2d8c,_0x33ac62,_0x17ac78){const _0x29122a=this['device'];if(G['pushGpuMar'+'ker'](_0x29122a,'CLEAR-VIEW'),_0x29122a['setRenderT'+'arget'](_0x3e2d8c),_0x29122a['updateBegi'+'n'](),_0x17ac78&&(_0x29122a['setColorWr'+'ite'](!(0x49*0x7b+0x100f*-0x1+-0x1304),!(-0x366+-0xb93+0xef9),!(-0x3*0x515+-0x2d6+0x1215),!(0x128f+0x21e2+-0x3471)),_0x29122a['setDepthWr'+'ite'](!(-0x1ce8+0xba9+0x113f))),this['setupViewp'+'ort'](_0x1d5d96,_0x3e2d8c),_0x33ac62){const _0x44b335=_0x1d5d96['_clearOpti'+'ons'];_0x29122a['clear'](_0x44b335||{'color':[_0x1d5d96['_clearColo'+'r']['r'],_0x1d5d96['_clearColo'+'r']['g'],_0x1d5d96['_clearColo'+'r']['b'],_0x1d5d96['_clearColo'+'r']['a']],'depth':_0x1d5d96['_clearDept'+'h'],'flags':(_0x1d5d96['_clearColo'+'rBuffer']?Co:-0x1*-0x1d2b+-0x259*-0xe+-0x3e09)|(_0x1d5d96['_clearDept'+'hBuffer']?Mo:0x139c+0x425*0x6+0x1*-0x2c7a)|(_0x1d5d96['_clearSten'+'cilBuffer']?Ah:-0x9d*-0x28+0x1b60+-0x67d*0x8),'stencil':_0x1d5d96['_clearSten'+'cil']});}G['popGpuMark'+'er'](_0x29122a);}['setupCullM'+'ode'](_0x3318db,_0x3c528c,_0x2e62a8){const _0x11910e=_0x2e62a8['material'];let _0x24fa47=mt;if(_0x3318db){let _0x3da1dc=-0x2145+-0xab*-0x3+-0x641*-0x5;(_0x11910e['cull']===mo||_0x11910e['cull']===rn)&&(_0x3da1dc=_0x3c528c*_0x2e62a8['flipFacesF'+'actor']*_0x2e62a8['node']['worldScale'+'Sign']),_0x3da1dc<0x2010+0x87*0x29+-0x35af?_0x24fa47=_0x11910e['cull']===mo?rn:mo:_0x24fa47=_0x11910e['cull'];}this['device']['setCullMod'+'e'](_0x24fa47),_0x24fa47===mt&&_0x11910e['cull']===mt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x2e62a8['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x432cce){if(_0x432cce['xr']&&_0x432cce['xr']['views']['list']['length']){const _0x274e19=_0x432cce['xr']['views']['list'][-0x257e+0x1d7f+-0x7ff*-0x1];Hi['mul2'](_0x274e19['projMat'],_0x274e19['viewOffMat']),_0x432cce['frustum']['setFromMat'+'4'](Hi);return;}const _0x485898=_0x432cce['projection'+'Matrix'];if(_0x432cce['calculateP'+'rojection']&&_0x432cce['calculateP'+'rojection'](_0x485898,Al),_0x432cce['calculateT'+'ransform'])_0x432cce['calculateT'+'ransform'](Wi,Al);else{const _0x484f5e=_0x432cce['_node']['getPositio'+'n'](),_0x3851a6=_0x432cce['_node']['getRotatio'+'n']();Wi['setTRS'](_0x484f5e,_0x3851a6,T['ONE']),this['viewInvId']['setValue'](Wi['data']);}Mn['copy'](Wi)['invert'](),Hi['mul2'](_0x485898,Mn),_0x432cce['frustum']['setFromMat'+'4'](Hi);}['setBaseCon'+'stants'](_0x1c6ba9,_0x154750){_0x1c6ba9['setCullMod'+'e'](_0x154750['cull']),_0x154750['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x154750['opacityMap']),(_0x154750['opacityMap']||_0x154750['alphaTest']>-0x1*-0x26a9+-0xd61+0x2*-0xca4)&&this['alphaTestI'+'d']['setValue'](_0x154750['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x35d21e){Dd++;const _0x33022d=_0x35d21e['length'];if(_0x33022d===0x13c9+0x24ec+-0x9*0x64d)return;const _0x431049=ne();for(let _0x2f91cb=0x12ea+-0x20c6*0x1+0xddc;_0x2f91cb<_0x33022d;_0x2f91cb++){const _0x163301=_0x35d21e[_0x2f91cb]['skinInstan'+'ce'];_0x163301&&(_0x163301['updateMatr'+'ices'](_0x35d21e[_0x2f91cb]['node'],Dd),_0x163301['_dirty']=!(0x19c1+0x2b8*0x2+-0x1f31*0x1));}this['_skinTime']+=ne()-_0x431049;}['updateGpuS'+'kinMatrice'+'s'](_0x40d619){const _0x158c17=ne();for(const _0x236c6e of _0x40d619){const _0xbe2e7c=_0x236c6e['skinInstan'+'ce'];_0xbe2e7c&&_0xbe2e7c['_dirty']&&(_0xbe2e7c['updateMatr'+'ixPalette'](_0x236c6e['node'],Dd),_0xbe2e7c['_dirty']=!(-0x2f*-0xc7+-0x2e*0x7a+0x2ec*-0x5));}this['_skinTime']+=ne()-_0x158c17;}['updateMorp'+'hing'](_0x4ca4eb){const _0x12f84f=ne();for(const _0x1b2a0e of _0x4ca4eb){const _0x673723=_0x1b2a0e['morphInsta'+'nce'];_0x673723&&_0x673723['_dirty']&&_0x673723['update']();}this['_morphTime']+=ne()-_0x12f84f;}['updateGSpl'+'ats'](_0x24fceb){var _0xa880a1;for(const _0x171297 of _0x24fceb)(_0xa880a1=_0x171297['gsplatInst'+'ance'])==null||_0xa880a1['update']();}['gpuUpdate'](_0x52b919){this['updateGpuS'+'kinMatrice'+'s'](_0x52b919),this['updateMorp'+'hing'](_0x52b919),this['updateGSpl'+'ats'](_0x52b919);}['setVertexB'+'uffers'](_0x535d57,_0x39ef76){_0x535d57['setVertexB'+'uffer'](_0x39ef76['vertexBuff'+'er']);}['setMorphin'+'g'](_0x2cea29,_0xb3bd3f){_0xb3bd3f&&(_0xb3bd3f['prepareRen'+'dering'](_0x2cea29),_0x2cea29['setVertexB'+'uffer'](_0xb3bd3f['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0xb3bd3f['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0xb3bd3f['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0xb3bd3f['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x16bedc,_0x1d6435){const _0x4edbe0=_0x1d6435['skinInstan'+'ce'];if(_0x4edbe0){this['_skinDrawC'+'alls']++;const _0x5e9ee4=_0x4edbe0['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x5e9ee4),this['boneTextur'+'eSizeId']['setValue'](_0x4edbe0['boneTextur'+'eSize']);}}['dispatchVi'+'ewPos'](_0x202916){const _0x23000c=this['viewPos'];_0x23000c[0x1*0x18df+-0xa*-0x295+-0x32b1]=_0x202916['x'],_0x23000c[0x4*0x492+-0x1434*-0x1+-0x267b]=_0x202916['y'],_0x23000c[0x305*0x2+0x14*0x1+-0x61c]=_0x202916['z'],this['viewPosId']['setValue'](_0x23000c);}['initViewBi'+'ndGroupFor'+'mat'](_0x139fac){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x3369e9=[new gt('matrix_vie'+'wProjectio'+'n',Sa),new gt('cubeMapRot'+'ationMatri'+'x',ko),new gt('view_posit'+'ion',$t),new gt('skyboxInte'+'nsity',$s),new gt('exposure',$s),new gt('textureBia'+'s',$s)];_0x139fac&&_0x3369e9['push'](new gt('clusterCel'+'lsCountByB'+'oundsSize',$t),new gt('clusterTex'+'tureSize',$t),new gt('clusterBou'+'ndsMin',$t),new gt('clusterBou'+'ndsDelta',$t),new gt('clusterCel'+'lsDot',$t),new gt('clusterCel'+'lsMax',$t),new gt('clusterCom'+'pressionLi'+'mit0',or),new gt('shadowAtla'+'sParams',or),new gt('clusterMax'+'Cells',ln),new gt('clusterSki'+'p',$s)),this['viewUnifor'+'mFormat']=new Qy(this['device'],_0x3369e9);const _0xd9a89e=[new pp(fp,up|li),new fi('lightsText'+'ureFloat',li,Us,nd),new fi('lightsText'+'ure8',li,Us,nd),new fi('shadowAtla'+'sTexture',li,Us,jS),new fi('cookieAtla'+'sTexture',li,Us,oh),new fi('areaLights'+'LutTex1',li,Us,oh),new fi('areaLights'+'LutTex2',li,Us,oh)];_0x139fac&&_0xd9a89e['push'](new fi('clusterWor'+'ldTexture',li,Us,nd)),this['viewBindGr'+'oupFormat']=new jy(this['device'],_0xd9a89e);}}['setupViewU'+'niformBuff'+'ers'](_0x3814b3,_0x5ec6f7,_0x4b3e88,_0x276f7b){v['assert'](Array['isArray'](_0x3814b3),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const _0x308bf9=this['device'];for(v['assert'](_0x276f7b===0x1*0x1cf7+-0x22e1*-0x1+0x115*-0x3b,'This\x20code\x20'+'does\x20not\x20h'+'andle\x20the\x20'+'viewCount\x20'+'yet');_0x3814b3['length']<_0x276f7b;){const _0x6d458c=new gp(_0x308bf9,_0x5ec6f7,!(-0x611*0x5+-0x1*-0x891+0x15c5)),_0x3f14db=new mp(_0x308bf9,_0x4b3e88,_0x6d458c);mn['setName'](_0x3f14db,'ViewBindGr'+'oup_'+_0x3f14db['id']),_0x3814b3['push'](_0x3f14db);}const _0x1568c6=_0x3814b3[0x2478+-0x1*-0x805+-0x2c7d];_0x1568c6['defaultUni'+'formBuffer']['update'](),_0x1568c6['update'](),_0x308bf9['setBindGro'+'up'](Dh,_0x1568c6);}['setupMeshU'+'niformBuff'+'ers'](_0x42a021,_0x3d6538){const _0x43e3a5=this['device'];if(_0x43e3a5['supportsUn'+'iformBuffe'+'rs']){this['modelMatri'+'xId']['setValue'](_0x3d6538['node']['worldTrans'+'form']['data']),this['normalMatr'+'ixId']['setValue'](_0x3d6538['node']['normalMatr'+'ix']['data']);const _0x5df26c=_0x42a021['getBindGro'+'up'](_0x43e3a5);_0x5df26c['update'](),_0x43e3a5['setBindGro'+'up'](Xy,_0x5df26c),_0x42a021['getUniform'+'Buffer'](_0x43e3a5)['update'](kd),_0x43e3a5['setBindGro'+'up'](Eu,kd['bindGroup'],kd['offsets']);}}['drawInstan'+'ce'](_0x458087,_0x110e11,_0x6097fa,_0x1950c9,_0xb6d8d){const _0x745477=_0x110e11['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x745477['data']),_0xb6d8d&&this['normalMatr'+'ixId']['setValue'](_0x110e11['node']['normalMatr'+'ix']['data']);const _0x422d83=_0x110e11['instancing'+'Data'];_0x422d83?_0x422d83['count']>0x1ac7+0xa7+0x2*-0xdb7?(this['_instanced'+'DrawCalls']++,_0x458087['setVertexB'+'uffer'](_0x422d83['vertexBuff'+'er']),_0x458087['draw'](_0x6097fa['primitive'][_0x1950c9],_0x422d83['count'])):_0x458087['clearVerte'+'xBuffer']():_0x458087['draw'](_0x6097fa['primitive'][_0x1950c9]);}['drawInstan'+'ce2'](_0x30d2dc,_0x4588ed,_0x487a83,_0x550bf3){const _0x51210d=_0x4588ed['instancing'+'Data'];_0x51210d?_0x51210d['count']>-0x1*0x255f+0x24bf+0x4*0x28?(this['_instanced'+'DrawCalls']++,_0x30d2dc['draw'](_0x487a83['primitive'][_0x550bf3],_0x51210d['count'],!(0x1*0x235a+0x1727+-0x1*0x3a81))):_0x30d2dc['clearVerte'+'xBuffer']():_0x30d2dc['draw'](_0x487a83['primitive'][_0x550bf3],void(0x15ae+-0xba7+-0x97*0x11),!(0x1843+-0x1*-0x1fe4+-0x3827));}['cull'](_0x315488,_0x575fc1,_0x2d8957){const _0x224665=ne(),_0x2f8a59=_0x2d8957['opaque'];_0x2f8a59['length']=-0xe*-0x293+0xd6*0xd+-0x2ee8;const _0xf0c0e3=_0x2d8957['transparen'+'t'];_0xf0c0e3['length']=0x1ad3+0x790+-0x2263;const _0x355644=_0x315488['frustumCul'+'ling'],_0x3fb094=_0x575fc1['length'];for(let _0x550bfa=0x1e96+-0x1*-0x2474+-0x430a;_0x550bfa<_0x3fb094;_0x550bfa++){const _0x4a45f4=_0x575fc1[_0x550bfa];_0x4a45f4['visible']&&(!_0x355644||!_0x4a45f4['cull']||_0x4a45f4['_isVisible'](_0x315488))&&(_0x4a45f4['visibleThi'+'sFrame']=!(0x1538+-0x2*0xa57+-0x8a),(_0x4a45f4['transparen'+'t']?_0xf0c0e3:_0x2f8a59)['push'](_0x4a45f4),(_0x4a45f4['skinInstan'+'ce']||_0x4a45f4['morphInsta'+'nce']||_0x4a45f4['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x4a45f4),_0x4a45f4['gsplatInst'+'ance']&&_0x4a45f4['gsplatInst'+'ance']['cameras']['push'](_0x315488)));}this['_cullTime']+=ne()-_0x224665,this['_numDrawCa'+'llsCulled']+=_0x355644?_0x3fb094:0x1bf*0xd+-0x1eab+0x7f8;}['collectLig'+'hts'](_0x390e08){this['lights']['length']=0x12b7*0x1+-0x3e7*-0x8+-0x31ef,this['localLight'+'s']['length']=-0x1aad+-0x2096+0x3b43;const _0xc23a41=this['scene']['_stats'];_0xc23a41['dynamicLig'+'hts']=-0x1*-0xb32+0xb2*-0x7+-0x87*0xc,_0xc23a41['bakedLight'+'s']=0x1*-0x3da+0x2*-0xe9e+-0xe*-0x25d;const _0x4f091c=_0x390e08['layerList']['length'];for(let _0x53323d=0x8d*-0x2f+0x232c+-0x949*0x1;_0x53323d<_0x4f091c;_0x53323d++){const _0x7b2b98=_0x390e08['layerList'][_0x53323d];if(!Od['has'](_0x7b2b98)){Od['add'](_0x7b2b98);const _0x5cb954=_0x7b2b98['_lights'];for(let _0x3c8e32=-0x25e3+-0xac5+0x30a8;_0x3c8e32<_0x5cb954['length'];_0x3c8e32++){const _0x361720=_0x5cb954[_0x3c8e32];Fd['has'](_0x361720)||(Fd['add'](_0x361720),this['lights']['push'](_0x361720),_0x361720['_type']!==oe&&this['localLight'+'s']['push'](_0x361720),(_0x361720['mask']&hs||_0x361720['mask']&cr)&&_0xc23a41['dynamicLig'+'hts']++,_0x361720['mask']&rr&&_0xc23a41['bakedLight'+'s']++);}}}_0xc23a41['lights']=this['lights']['length'],Fd['clear'](),Od['clear']();}['cullLights'](_0x1028e8,_0x502d3e){const _0x246009=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x2cb352=this['scene']['physicalUn'+'its'];for(let _0x63b9a9=-0xe92+-0x1f0b+0x2d9d;_0x63b9a9<_0x502d3e['length'];_0x63b9a9++){const _0x99f076=_0x502d3e[_0x63b9a9];if(_0x99f076['enabled']){if(_0x99f076['_type']!==oe){if(_0x99f076['getBoundin'+'gSphere'](Ld),_0x1028e8['frustum']['containsSp'+'here'](Ld)){_0x99f076['visibleThi'+'sFrame']=!(-0x1af6+-0x3ad*0x2+0x2250),_0x99f076['usePhysica'+'lUnits']=_0x2cb352;const _0x3e5a03=_0x1028e8['getScreenS'+'ize'](Ld);_0x99f076['maxScreenS'+'ize']=Math['max'](_0x99f076['maxScreenS'+'ize'],_0x3e5a03);}else _0x246009||_0x99f076['castShadow'+'s']&&!_0x99f076['shadowMap']&&(_0x99f076['visibleThi'+'sFrame']=!(-0x35f*0xb+0x206*0xd+0x1f*0x59));}else _0x99f076['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0xa00b11){const _0x3f24e4=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x199a43=0x43*0x85+0x136b+-0x363a;_0x199a43<this['localLight'+'s']['length'];_0x199a43++){const _0x54abfc=this['localLight'+'s'][_0x199a43];_0x54abfc['_type']!==oe&&(_0x3f24e4?_0x54abfc['atlasSlotU'+'pdated']&&_0x54abfc['shadowUpda'+'teMode']===Ps&&(_0x54abfc['shadowUpda'+'teMode']=cn):_0x54abfc['shadowUpda'+'teMode']===Ps&&_0x54abfc['castShadow'+'s']&&(_0x54abfc['getRenderD'+'ata'](null,-0x4*0x647+0x231+-0x16eb*-0x1)['shadowCame'+'ra']['renderTarg'+'et']||(_0x54abfc['shadowUpda'+'teMode']=cn)),_0x54abfc['visibleThi'+'sFrame']&&_0x54abfc['castShadow'+'s']&&_0x54abfc['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x54abfc,_0xa00b11));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x3f4aab=_0xa00b11['cameras'];for(let _0x357d1c=-0x15f3+-0x1e0a+0x33fd;_0x357d1c<_0x3f4aab['length'];_0x357d1c++){const _0x320084=_0x3f4aab[_0x357d1c];if(_0x320084['enabled']){const _0x2122f0=_0x320084['camera'];let _0x4dadf2;const _0x5b2b3d=_0x2122f0['layers'];for(let _0xd5f4c=0x12d0+-0xd33*0x1+-0x59d;_0xd5f4c<_0x5b2b3d['length'];_0xd5f4c++){const _0x206dab=_0xa00b11['getLayerBy'+'Id'](_0x5b2b3d[_0xd5f4c]);if(_0x206dab){const _0x5106d4=_0x206dab['splitLight'+'s'][oe];for(let _0x898424=-0x1c6a+-0x1*-0xff9+0x41*0x31;_0x898424<_0x5106d4['length'];_0x898424++){const _0x4bdbfe=_0x5106d4[_0x898424];_0x4bdbfe['castShadow'+'s']&&!Pn['has'](_0x4bdbfe)&&(Pn['add'](_0x4bdbfe),_0x4dadf2=_0x4dadf2??[],_0x4dadf2['push'](_0x4bdbfe),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x4bdbfe,_0xa00b11,_0x2122f0));}}}_0x4dadf2&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x2122f0,_0x4dadf2),Pn['clear']();}}}['cullCompos'+'ition'](_0x11b9f1){const _0x1d1c20=ne(),{scene:_0x58f3a6}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0x371116=_0x11b9f1['cameras']['length'];this['_camerasRe'+'ndered']+=_0x371116;for(let _0x288938=0x3*-0x955+-0x16ab+0x32aa;_0x288938<_0x371116;_0x288938++){const _0x1a555a=_0x11b9f1['cameras'][_0x288938];_0x58f3a6==null||_0x58f3a6['fire'](ow,_0x1a555a);const _0x37a891=_0x1a555a['renderTarg'+'et'];_0x1a555a['frameUpdat'+'e'](_0x37a891),this['updateCame'+'raFrustum'](_0x1a555a['camera']);const _0x2910b3=_0x1a555a['layers'];for(let _0x405e25=-0xbce*0x2+-0x431*-0x1+0x1*0x136b;_0x405e25<_0x2910b3['length'];_0x405e25++){const _0xc6df35=_0x11b9f1['getLayerBy'+'Id'](_0x2910b3[_0x405e25]);if(_0xc6df35&&_0xc6df35['enabled']){this['cullLights'](_0x1a555a['camera'],_0xc6df35['_lights']);const _0x4822ed=_0xc6df35['getCulledI'+'nstances'](_0x1a555a['camera']);this['cull'](_0x1a555a['camera'],_0xc6df35['meshInstan'+'ces'],_0x4822ed);}}_0x58f3a6==null||_0x58f3a6['fire'](lw,_0x1a555a);}_0x58f3a6['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x11b9f1),this['_cullTime']+=ne()-_0x1d1c20;}['updateShad'+'ers'](_0xee8e,_0x18f1bd){const _0x59217a=_0xee8e['length'];for(let _0x24538c=-0x20d1*-0x1+-0x10d*-0x21+-0x437e;_0x24538c<_0x59217a;_0x24538c++){const _0x480a2b=_0xee8e[_0x24538c]['material'];if(_0x480a2b&&!Pn['has'](_0x480a2b)&&(Pn['add'](_0x480a2b),_0x480a2b['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant'])){if(_0x18f1bd&&(!_0x480a2b['useLightin'+'g']||_0x480a2b['emitter']&&!_0x480a2b['emitter']['lighting']))continue;_0x480a2b['clearVaria'+'nts']();}}Pn['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](hM(this['device']));}['beginFrame'](_0x1787b2){const _0x281faf=this['scene'],_0x253753=_0x281faf['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x429617=-0x1d48+0x1176+0x2*0x5e9;const _0x271a1c=_0x1787b2['layerList'],_0xefa50e=_0x271a1c['length'];for(let _0x3468cd=-0x12c1+0x9+0x12b8;_0x3468cd<_0xefa50e;_0x3468cd++){const _0x4a486a=_0x271a1c[_0x3468cd]['meshInstan'+'ces'],_0x1dfc64=_0x4a486a['length'];_0x429617+=_0x1dfc64;for(let _0xae6a0f=0x1d78+0x7d0+-0x8*0x4a9;_0xae6a0f<_0x1dfc64;_0xae6a0f++){const _0xbadce1=_0x4a486a[_0xae6a0f];_0xbadce1['visibleThi'+'sFrame']=!(0x1*0x16a9+-0x1*-0x6d1+0x5*-0x5e5),_0x253753&&Bd['push'](_0xbadce1),_0xbadce1['skinInstan'+'ce']&&Nd['push'](_0xbadce1);}}if(_0x281faf['_stats']['meshInstan'+'ces']=_0x429617,_0x253753){const _0x253b84=!_0x281faf['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](Bd,_0x253b84),_0x281faf['updateShad'+'ers']=!(0x14b*-0x11+0x9bd+0xc3f),this['device']['_shadersDi'+'rty']=!(0x17c8+-0x1a0d+-0x6*-0x61),_0x281faf['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](Nd),Bd['length']=0x1956+-0x11de+-0x778,Nd['length']=-0xce8+-0x16f5+0x23dd*0x1;const _0x450243=this['lights'],_0x4b6116=_0x450243['length'];for(let _0x31b8ce=-0x12ce+0x6*0x1e1+0x788;_0x31b8ce<_0x4b6116;_0x31b8ce++)_0x450243[_0x31b8ce]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x580b14){const _0x2275e8=ne(),_0x21f5bf=_0x580b14['layerList']['length'],_0x256b5e=this['scene']['_shaderVer'+'sion'];for(let _0x827acd=0x1295*0x2+-0x3cd+-0x215d;_0x827acd<_0x21f5bf;_0x827acd++){const _0xad51b0=_0x580b14['layerList'][_0x827acd];_0xad51b0['_shaderVer'+'sion']=_0x256b5e,_0xad51b0['_skipRende'+'rCounter']=-0x101*0x17+0x1367*0x2+0x9*-0x1bf,_0xad51b0['_forwardDr'+'awCalls']=-0x1826+0x2f*-0x43+0x2b*0xd9,_0xad51b0['_shadowDra'+'wCalls']=0xab*-0x17+0x7*0x47+0xd6c*0x1,_0xad51b0['_renderTim'+'e']=-0x1738+0x5*0x7d+0x14c7;}_0x580b14['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=ne()-_0x2275e8;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(-0x1e22+-0xb*0x2fe+0x3f0d),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class D0{constructor(){c(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(-0x12a2*-0x2+-0x1118+-0x142b),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(-0x813+0x1333+-0xb1f),this['clearDepth']=!(-0x946+-0x12a9+0x4a8*0x6),this['clearStenc'+'il']=!(0x1279+-0x2*0x829+0x6e*-0x5),this['triggerPos'+'tprocess']=!(0x1293+-0x13ac+-0x8d*-0x2),this['firstCamer'+'aUse']=!(0x1f15*0x1+-0x1854+-0x6c0),this['lastCamera'+'Use']=!(-0x1*0x24a6+-0x1ce9+0x4190),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(0x6ad*0x1+-0x26c9+0x201d*0x1));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x1d6bf4=>{_0x1d6bf4['defaultUni'+'formBuffer']['destroy'](),_0x1d6bf4['destroy']();}),this['viewBindGr'+'oups']['length']=0x2fc+0x8*-0x296+0x11b4*0x1;}['setupClear'+'s'](_0x1c018f,_0x2bcc36){this['clearColor']=(_0x1c018f==null?void(-0x13ac+0xee+0x12be):_0x1c018f['clearColor'+'Buffer'])||_0x2bcc36['clearColor'+'Buffer'],this['clearDepth']=(_0x1c018f==null?void(0xc55+-0x155e+0x909):_0x1c018f['clearDepth'+'Buffer'])||_0x2bcc36['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x1c018f==null?void(-0x1a66+0x48*-0x35+0x26e*0x11):_0x1c018f['clearStenc'+'ilBuffer'])||_0x2bcc36['clearStenc'+'ilBuffer'];}}class LM extends ds{constructor(_0xdf847,_0x2c0904,_0x25279b,_0x175e10){super(_0xdf847),c(this,'layerCompo'+'sition'),c(this,'scene'),c(this,'renderer'),c(this,'renderActi'+'ons',[]),c(this,'gammaCorre'+'ction'),c(this,'toneMappin'+'g'),c(this,'noDepthCle'+'ar',!(0x1217+-0x5*0x21e+0x3c*-0x20)),(this['layerCompo'+'sition']=_0x2c0904,this['scene']=_0x25279b,this['renderer']=_0x175e10);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>-0x8a5+0x7ad+0xf8;}['addRenderA'+'ction'](_0x938e01){this['renderActi'+'ons']['push'](_0x938e01);}['addLayer'](_0x3ce200,_0x2e44da,_0x42ab00,_0x1d94aa=!(0x123a+-0x9*0x65+-0xd*0x121)){v['assert'](_0x3ce200),v['assert'](this['renderTarg'+'et']!==void(-0x2330+-0x245*-0xd+-0x123*-0x5),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),v['assert'](_0x3ce200['camera']['layersSet']['has'](_0x2e44da['id']),'Camera\x20'+_0x3ce200['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x2e44da['name']+'.');const _0x531434=new D0();if(_0x531434['renderTarg'+'et']=this['renderTarg'+'et'],_0x531434['camera']=_0x3ce200,_0x531434['layer']=_0x2e44da,_0x531434['transparen'+'t']=_0x42ab00,_0x1d94aa){const _0x24177b=this['renderActi'+'ons']['length']===-0x83*-0x4b+0x1*-0x196c+-0xcf5;_0x531434['setupClear'+'s'](_0x24177b?_0x3ce200:void(0x1356+0x1cfe+0x4*-0xc15),_0x2e44da);}this['addRenderA'+'ction'](_0x531434);}['addLayers'](_0x543c55,_0x966bfa,_0xc6b958,_0x35b8d6,_0x20dab6,_0x4601ac=!(-0x5*-0x46f+0x13a8+-0x29d3)){const {layerList:_0x57146c,subLayerList:_0x35b5c1}=_0x543c55;let _0x1d8286=_0x35b8d6,_0x3cd2bd=_0xc6b958;for(;_0x3cd2bd<_0x57146c['length'];){const _0x2ce79f=_0x57146c[_0x3cd2bd],_0x51146d=_0x35b5c1[_0x3cd2bd];if(_0x966bfa['camera']['layersSet']['has'](_0x2ce79f['id'])&&(this['addLayer'](_0x966bfa,_0x2ce79f,_0x51146d,_0x1d8286),_0x1d8286=!(-0x11cd+-0x3ec+0x15ba)),_0x3cd2bd++,_0x2ce79f['id']===_0x20dab6&&_0x51146d===_0x4601ac)break;}return _0x3cd2bd;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x4ed169,renderActions:_0x32b5b4}=this;for(let _0x259737=0x4e1*0x1+-0x1*-0x1a86+-0x1f67;_0x259737<_0x32b5b4['length'];_0x259737++){const _0x4f0006=_0x32b5b4[_0x259737]['camera']['camera'],_0x4fcec7=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x4f0006);if(_0x4fcec7)for(let _0x439888=0x26*0xb9+-0x279*0x3+0x2dd*-0x7;_0x439888<_0x4fcec7['length'];_0x439888++){const _0x468344=_0x4fcec7[_0x439888];if(_0x4ed169['dirLightSh'+'adows']['get'](_0x468344)!==_0x4f0006){_0x4ed169['dirLightSh'+'adows']['set'](_0x468344,_0x4f0006);const _0x31d83e=_0x4ed169['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x468344,_0x4f0006);_0x31d83e&&this['beforePass'+'es']['push'](_0x31d83e);}}}}['updateClea'+'rs'](){const _0x5cbcdf=this['renderActi'+'ons'][-0xa24+0x25de+-0xddd*0x2];if(_0x5cbcdf){const _0x2e7a60=_0x5cbcdf['camera']['camera'],_0x5616d5=_0x2e7a60['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x5616d5&&_0x5cbcdf['clearColor']?_0x2e7a60['clearColor']:void(-0xa63+0x1f29*0x1+-0x14c6)),this['setClearDe'+'pth'](_0x5616d5&&_0x5cbcdf['clearDepth']&&!this['noDepthCle'+'ar']?_0x2e7a60['clearDepth']:void(-0x124+0x878+-0x1c*0x43)),this['setClearSt'+'encil'](_0x5616d5&&_0x5cbcdf['clearStenc'+'il']?_0x2e7a60['clearStenc'+'il']:void(-0x775*-0x3+-0x1520+-0x13f));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x58afc3}=this;for(let _0x2dc73b=-0x193a*-0x1+-0x5*-0x38f+-0x2b05;_0x2dc73b<_0x58afc3['length'];_0x2dc73b++){const _0x11062b=_0x58afc3[_0x2dc73b];_0x11062b['firstCamer'+'aUse']&&this['scene']['fire'](iw,_0x11062b['camera']);}}['execute'](){const {layerComposition:_0xadbb37,renderActions:_0x192bb1}=this;for(let _0x314b1a=0xb96+-0xf91+0x3fb;_0x314b1a<_0x192bb1['length'];_0x314b1a++){const _0x2b1f9e=_0x192bb1[_0x314b1a],_0x1a41ef=_0x2b1f9e['layer'];v['call'](()=>{_0xadbb37['getLayerBy'+'Name'](_0x1a41ef['name'])||v['warnOnce']('Layer\x20'+_0x1a41ef['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0xadbb37['isEnabled'](_0x1a41ef,_0x2b1f9e['transparen'+'t'])&&this['renderRend'+'erAction'](_0x2b1f9e,_0x314b1a===0x3b3*-0x8+0x13d0+0x9c8);}}['after'](){for(let _0xac1dce=-0x1d19+0x13f3*-0x1+0x310c;_0xac1dce<this['renderActi'+'ons']['length'];_0xac1dce++){const _0x1581c7=this['renderActi'+'ons'][_0xac1dce];_0x1581c7['lastCamera'+'Use']&&this['scene']['fire'](rw,_0x1581c7['camera']);}this['beforePass'+'es']['length']=-0x190b+0x11ca+0x741;}['renderRend'+'erAction'](_0x5ad5c9,_0x16ae8e){var _0xb9cafb;const {renderer:_0x373efc,scene:_0xf26b16}=this,_0x2f7eb3=_0x373efc['device'],{layer:_0x457e3d,transparent:_0x3b6df5,camera:_0x349f12}=_0x5ad5c9;G['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x349f12?_0x349f12['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x457e3d['name']+'('+(_0x3b6df5?'TRANSP':'OPAQUE')+')');const _0x360d24=ne();if(_0x349f12){const _0x202b96=_0x349f12['gammaCorre'+'ction'],_0x15a92c=_0x349f12['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(-0x199*0xb+0xcee*0x1+0x1*0x4a5)&&(_0x349f12['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(0x16d9+-0x2537*0x1+0xe5e)&&(_0x349f12['toneMappin'+'g']=this['toneMappin'+'g']),_0xf26b16['fire'](nw,_0x349f12,_0x457e3d,_0x3b6df5);const _0x40ed19={'lightClusters':_0x5ad5c9['lightClust'+'ers']},_0x189f11=((_0xb9cafb=_0x349f12['camera']['shaderPass'+'Info'])==null?void(0x102c+-0xa70+-0x5bc):_0xb9cafb['index'])??gn;(!_0x16ae8e||!_0x349f12['camera']['fullSizeCl'+'earRect'])&&(_0x40ed19['clearColor']=_0x5ad5c9['clearColor'],_0x40ed19['clearDepth']=_0x5ad5c9['clearDepth'],_0x40ed19['clearStenc'+'il']=_0x5ad5c9['clearStenc'+'il']);const _0x6c7d0=_0x5ad5c9['renderTarg'+'et']??_0x2f7eb3['backBuffer'];_0x373efc['renderForw'+'ardLayer'](_0x349f12['camera'],_0x6c7d0,_0x457e3d,_0x3b6df5,_0x189f11,_0x5ad5c9['viewBindGr'+'oups'],_0x40ed19),_0x2f7eb3['setBlendSt'+'ate'](_t['NOBLEND']),_0x2f7eb3['setStencil'+'State'](null,null),_0x2f7eb3['setAlphaTo'+'Coverage'](!(0x24f5+-0x599+-0x1f5b)),_0xf26b16['fire'](aw,_0x349f12,_0x457e3d,_0x3b6df5),this['gammaCorre'+'ction']!==void(0x2640+-0x3*-0x73+0x3*-0xd33)&&(_0x349f12['gammaCorre'+'ction']=_0x202b96),this['toneMappin'+'g']!==void(0x61*-0x35+-0xdf3+0x2208)&&(_0x349f12['toneMappin'+'g']=_0x15a92c);}G['popGpuMark'+'er'](this['device']),_0x457e3d['_renderTim'+'e']+=ne()-_0x360d24;}['log'](_0x10af67,_0x419787){if(super['log'](_0x10af67,_0x419787),Xs['get'](Jn)){const {layerComposition:_0x4377d9}=this;this['renderActi'+'ons']['forEach']((_0x2ca975,_0x2171ad)=>{const _0x3761ec=_0x2ca975['layer'],_0x313393=_0x3761ec['enabled']&&_0x4377d9['isEnabled'](_0x3761ec,_0x2ca975['transparen'+'t']),_0x540ba4=_0x2ca975['camera'];v['trace'](Jn,'\x20\x20\x20\x20'+_0x2171ad+':'+('\x20Cam:\x20'+(_0x540ba4?_0x540ba4['entity']['name']:'-'))['padEnd'](0x19*0x185+0x2*0x94a+-0x13*0x2f9,'\x20')+('\x20Lay:\x20'+_0x3761ec['name'])['padEnd'](0x23e3+0x1ea5*-0x1+-0x8*0xa5,'\x20')+(_0x2ca975['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x313393?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x3761ec['meshInstan'+'ces']['length'])['padEnd'](0x1*0x76f+-0x367+-0x403,'\x20'));});}}}class FM extends ds{constructor(_0x36bcf2,_0x328d03,_0x343f0d){super(_0x36bcf2),this['renderer']=_0x328d03,this['renderActi'+'on']=_0x343f0d,this['requiresCu'+'bemaps']=!(-0x5d*0x5+0x1242*-0x2+-0x2bd*-0xe);}['execute'](){const _0x2d6617=this['renderActi'+'on'],_0x1b7fc1=_0x2d6617['camera'];v['assert'](_0x2d6617['triggerPos'+'tprocess']&&_0x1b7fc1['onPostproc'+'essing']),_0x1b7fc1['onPostproc'+'essing']();}}const OM=[[],[],[]],$i=new Y(),br={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=-0x221+-0x1e3f+-0x2060*-0x1,this['shaderInst'+'ances']['length']=-0xf5a+-0x302+0x92e*0x2,this['isNewMater'+'ial']['length']=0x36e*-0xb+-0xcc*-0x1c+0xf6a*0x1,this['lightMaskC'+'hanged']['length']=0x1f3f+-0x1*0x149b+-0xaa4;}};function kM(_0x544d69){const _0x538f4d=[];for(let _0x15992b=0x7*-0x347+-0x1706*0x1+0x2df7*0x1;_0x15992b<_0x544d69;++_0x15992b){const _0x1343ad=Math['sqrt'](_0x15992b+(0x3*-0xa7f+0x6de+0x189f+0.5))/Math['sqrt'](_0x544d69);_0x538f4d['push'](_0x1343ad);}return _0x538f4d;}function BM(_0x4653c6){const _0x4115f6=[];for(let _0x17c07d=0x7*0x159+-0x31*0x6f+0xbd0;_0x17c07d<_0x4653c6;_0x17c07d++){const _0x846f59=_0x17c07d/_0x4653c6,_0x5d2b8c=Math['sqrt'](_0x846f59*_0x846f59);_0x4115f6['push'](_0x5d2b8c);}return _0x4115f6;}const _i=class _i extends DM{constructor(_0x3233f4){super(_0x3233f4);const _0x25eb96=this['device'];this['_forwardDr'+'awCalls']=-0x1*0x240e+-0x11f2+0x3600,this['_materialS'+'witches']=0x95b*-0x1+-0x61c+0xf77,this['_depthMapT'+'ime']=0x19fb+-0x11*-0xc4+-0x95*0x43,this['_forwardTi'+'me']=0x1f8b+-0x263+-0x1d28,this['_sortTime']=-0x13ce+0xef*0x25+-0xb*0x157;const _0x383c79=_0x25eb96['scope'];this['fogColorId']=_0x383c79['resolve']('fog_color'),this['fogStartId']=_0x383c79['resolve']('fog_start'),this['fogEndId']=_0x383c79['resolve']('fog_end'),this['fogDensity'+'Id']=_0x383c79['resolve']('fog_densit'+'y'),this['ambientId']=_0x383c79['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x383c79['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x383c79['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x383c79['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x383c79['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x383c79['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(0x223*-0x8+0x98a+0x792),this['fogColor']=new Float32Array(0x1642+-0x1*0x10d+-0x1532),this['ambientCol'+'or']=new Float32Array(-0x1*-0x6fe+0x14*0x133+0x1ef7*-0x1),this['pcssDiskSa'+'mples']=kM(-0x25*0x68+-0x1*-0x691+0x887),this['pcssSphere'+'Samples']=BM(-0x18c9*-0x1+0x2585+-0x3e3e);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x461a90){const _0xa2393b=this['ambientCol'+'or'];if($i['linear'](_0x461a90['ambientLig'+'ht']),_0xa2393b[0x135d+0x2*0x195+0x1687*-0x1]=$i['r'],_0xa2393b[-0x16eb+-0x3*-0x1db+-0x5c9*-0x3]=$i['g'],_0xa2393b[-0x21a4+-0x1*-0x1249+-0xf5d*-0x1]=$i['b'],_0x461a90['physicalUn'+'its']){for(let _0x1a562b=-0x13ad+-0x1bbd+0x2f6a;_0x1a562b<0x1*-0xe59+-0x1*-0x632+0x26*0x37;_0x1a562b++)_0xa2393b[_0x1a562b]*=_0x461a90['ambientLum'+'inance'];}this['ambientId']['setValue'](_0xa2393b),this['skyboxInte'+'nsityId']['setValue'](_0x461a90['physicalUn'+'its']?_0x461a90['skyboxLumi'+'nance']:_0x461a90['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x461a90['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x180b30,_0x35288e){const _0x5a30cb='light'+_0x35288e;this['lightColor'+'Id'][_0x35288e]=_0x180b30['resolve'](_0x5a30cb+'_color'),this['lightDir'][_0x35288e]=new Float32Array(0x1*-0x512+0xaf*-0x11+0x85a*0x2),this['lightDirId'][_0x35288e]=_0x180b30['resolve'](_0x5a30cb+'_direction'),this['lightShado'+'wMapId'][_0x35288e]=_0x180b30['resolve'](_0x5a30cb+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x35288e]=_0x180b30['resolve'](_0x5a30cb+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x35288e]=_0x180b30['resolve'](_0x5a30cb+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x35288e]=_0x180b30['resolve'](_0x5a30cb+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x35288e]=_0x180b30['resolve'](_0x5a30cb+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x35288e]=_0x180b30['resolve'](_0x5a30cb+'_radius'),this['lightPos'][_0x35288e]=new Float32Array(-0x1ba4+-0x4bb+-0x1031*-0x2),this['lightPosId'][_0x35288e]=_0x180b30['resolve'](_0x5a30cb+'_position'),this['lightWidth'][_0x35288e]=new Float32Array(0x968+-0x21d8+0x239*0xb),this['lightWidth'+'Id'][_0x35288e]=_0x180b30['resolve'](_0x5a30cb+'_halfWidth'),this['lightHeigh'+'t'][_0x35288e]=new Float32Array(0x129*0xa+0x107b*0x1+0x2*-0xe09),this['lightHeigh'+'tId'][_0x35288e]=_0x180b30['resolve'](_0x5a30cb+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x35288e]=_0x180b30['resolve'](_0x5a30cb+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x35288e]=_0x180b30['resolve'](_0x5a30cb+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x35288e]=_0x180b30['resolve'](_0x5a30cb+'_cookie'),this['lightCooki'+'eIntId'][_0x35288e]=_0x180b30['resolve'](_0x5a30cb+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x35288e]=_0x180b30['resolve'](_0x5a30cb+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x35288e]=_0x180b30['resolve'](_0x5a30cb+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x35288e]=_0x180b30['resolve'](_0x5a30cb+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x35288e]=_0x180b30['resolve'](_0x5a30cb+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x35288e]=_0x180b30['resolve'](_0x5a30cb+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x35288e]=_0x180b30['resolve'](_0x5a30cb+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x35288e]=_0x180b30['resolve'](_0x5a30cb+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x35288e]=_0x180b30['resolve'](_0x5a30cb+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x10ee57,_0xafe80d,_0x1246df,_0x51e813,_0x1757b9){this['lightPos'][_0xafe80d][-0x1e24+0x21d7+-0x3b3]=_0x51e813['x']-_0x1246df['x']*_0x1757b9,this['lightPos'][_0xafe80d][-0x10b*0x1b+-0x9*-0x38f+0x2b*-0x17]=_0x51e813['y']-_0x1246df['y']*_0x1757b9,this['lightPos'][_0xafe80d][0x1*0xa45+0x1*-0x1639+0xbf6]=_0x51e813['z']-_0x1246df['z']*_0x1757b9,this['lightPosId'][_0xafe80d]['setValue'](this['lightPos'][_0xafe80d]);const _0x58e6ca=_0x10ee57['transformV'+'ector'](new T(-(-0x2532+0x234a*-0x1+-0x487c*-0x1+0.5),0x21f0+0x11a0+-0x3390,0x3dc*-0x6+-0x11f5*-0x2+0x661*-0x2));this['lightWidth'][_0xafe80d][0x3*0x444+-0x1*-0xd03+0x19cf*-0x1]=_0x58e6ca['x']*_0x1757b9,this['lightWidth'][_0xafe80d][-0xcb3+0x1073*-0x2+-0x382*-0xd]=_0x58e6ca['y']*_0x1757b9,this['lightWidth'][_0xafe80d][-0x1ee7+0x17e+0x1d6b]=_0x58e6ca['z']*_0x1757b9,this['lightWidth'+'Id'][_0xafe80d]['setValue'](this['lightWidth'][_0xafe80d]);const _0x176261=_0x10ee57['transformV'+'ector'](new T(0x20*0x97+0x1*0x19c6+-0x2ca6,0x459*-0x1+-0x22e8+0x2741,0x1929+0x4c2+-0x1deb+0.5));this['lightHeigh'+'t'][_0xafe80d][-0x46*0x69+-0x7a9+-0x245f*-0x1]=_0x176261['x']*_0x1757b9,this['lightHeigh'+'t'][_0xafe80d][-0x2*-0x12e0+0x13*-0x17+-0x240a]=_0x176261['y']*_0x1757b9,this['lightHeigh'+'t'][_0xafe80d][0x495+0x1*0x176+0x135*-0x5]=_0x176261['z']*_0x1757b9,this['lightHeigh'+'tId'][_0xafe80d]['setValue'](this['lightHeigh'+'t'][_0xafe80d]);}['dispatchDi'+'rectLights'](_0x541e31,_0x45075e,_0x50c72c){let _0x1f2636=0x26c3+-0xbcf*0x2+-0xf25*0x1;const _0x4a8d7c=this['device']['scope'];for(let _0x127620=0xd39+-0x12e0+0x5a7;_0x127620<_0x541e31['length'];_0x127620++){if(!(_0x541e31[_0x127620]['mask']&_0x45075e))continue;const _0xb9197e=_0x541e31[_0x127620],_0x3d51ae=_0xb9197e['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x1f2636]||this['_resolveLi'+'ght'](_0x4a8d7c,_0x1f2636),this['lightColor'+'Id'][_0x1f2636]['setValue'](_0xb9197e['_colorLine'+'ar']),_0x3d51ae['getY'](_0xb9197e['_direction'])['mulScalar'](-(-0x2615*-0x1+-0x3*0x9b8+-0x8ec)),_0xb9197e['_direction']['normalize'](),this['lightDir'][_0x1f2636][0x7af+0x2*-0x8ba+-0x3d*-0x29]=_0xb9197e['_direction']['x'],this['lightDir'][_0x1f2636][-0x24*-0x10c+0x5f6+-0x2ba5]=_0xb9197e['_direction']['y'],this['lightDir'][_0x1f2636][0x9dc+0x7bb+-0x1195*0x1]=_0xb9197e['_direction']['z'],this['lightDirId'][_0x1f2636]['setValue'](this['lightDir'][_0x1f2636]),_0xb9197e['shape']!==yt&&this['setLTCDire'+'ctionalLig'+'ht'](_0x3d51ae,_0x1f2636,_0xb9197e['_direction'],_0x50c72c['_node']['getPositio'+'n'](),_0x50c72c['farClip']),_0xb9197e['castShadow'+'s']){const _0x457bde=_0xb9197e['getRenderD'+'ata'](_0x50c72c,-0x759+-0x2650+0x2da9),_0x2c00de=_0xb9197e['_getUnifor'+'mBiasValue'+'s'](_0x457bde);this['lightShado'+'wMapId'][_0x1f2636]['setValue'](_0x457bde['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x1f2636]['setValue'](_0x457bde['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x1f2636]['setValue'](_0xb9197e['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x1f2636]['setValue'](_0xb9197e['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x1f2636]['setValue'](_0xb9197e['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x1f2636]['setValue'](0xd89+0x662+-0x13ea-_0xb9197e['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x1f2636]['setValue'](_0xb9197e['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x1f2636]['setValue'](_0xb9197e['_softShado'+'wParams']),_0x457bde['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x1f2636]['setValue'](_0xb9197e['penumbraSi'+'ze']/_0x457bde['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x457bde['projection'+'Compensati'+'on']);const _0x2b99ad=_0xb9197e['_shadowCam'+'eraParams'];_0x2b99ad['length']=-0x1d3*-0xb+-0x1817+0x40a,_0x2b99ad[-0x1*-0xf53+0x3*0x6e2+-0x23f9]=-0x1cda+0x2f*-0xb8+0x3ea2,_0x2b99ad[0x7af+-0x1a2c+0x127e]=_0x457bde['shadowCame'+'ra']['_farClip'],_0x2b99ad[0x29*0x1f+-0x21*0x37+0x222*0x1]=_0x457bde['shadowCame'+'ra']['_nearClip'],_0x2b99ad[0xfe8+-0x1744+0x33*0x25]=0x914*0x1+-0x1*-0x925+0x16*-0xd4,this['lightCamer'+'aParamsId'][_0x1f2636]['setValue'](_0x2b99ad);const _0x18d5bc=_0xb9197e['_shadowRen'+'derParams'];_0x18d5bc['length']=-0x27e*0x2+0x1*0x14e1+-0xfe1,_0x18d5bc[0x20c9+-0x15d*-0x1+-0x2f*0xba]=_0xb9197e['_shadowRes'+'olution'],_0x18d5bc[0x4*0x3df+0x1ea1*-0x1+0xf26]=_0x2c00de['normalBias'],_0x18d5bc[-0x2*0xda+0xfe*-0x5+0xe*0x7a]=_0x2c00de['bias'],_0x18d5bc[0xdee+0x23d3+-0x1*0x31be]=0x10b4*-0x1+0x13*-0x15a+0x2a62,this['lightShado'+'wParamsId'][_0x1f2636]['setValue'](_0x18d5bc);}_0x1f2636++;}return _0x1f2636;}['setLTCPosi'+'tionalLigh'+'t'](_0x15d78e,_0xb43743){const _0x9bea08=_0x15d78e['transformV'+'ector'](new T(-(-0x1252+-0x6d*-0x46+-0xb7c+0.5),-0x667*0x3+0x24ac+0x11*-0x107,0x1a79+0x1b7*-0x4+-0x1*0x139d));this['lightWidth'][_0xb43743][-0x1*-0x7dc+-0x16b6+0xeda]=_0x9bea08['x'],this['lightWidth'][_0xb43743][-0x45a*-0x1+0x97b*0x1+-0xdd4]=_0x9bea08['y'],this['lightWidth'][_0xb43743][0x1b4b+-0x2e*0x16+0xb*-0x21f]=_0x9bea08['z'],this['lightWidth'+'Id'][_0xb43743]['setValue'](this['lightWidth'][_0xb43743]);const _0x41b611=_0x15d78e['transformV'+'ector'](new T(0x1613+-0x1*-0x1795+0x2da8*-0x1,-0x2556+-0x1*-0x8cd+0x1c89*0x1,-0x2238+0x11b5+-0x1*-0x1083+0.5));this['lightHeigh'+'t'][_0xb43743][-0x425*0x5+0x3*-0x99a+0x3187]=_0x41b611['x'],this['lightHeigh'+'t'][_0xb43743][0x36e+-0x1c8d+0x1920]=_0x41b611['y'],this['lightHeigh'+'t'][_0xb43743][-0x139f+0xaca+0x1f*0x49]=_0x41b611['z'],this['lightHeigh'+'tId'][_0xb43743]['setValue'](this['lightHeigh'+'t'][_0xb43743]);}['dispatchOm'+'niLight'](_0x3fea3c,_0x45ee55,_0x3a8098){const _0x2eaa43=_0x45ee55['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x3a8098]||this['_resolveLi'+'ght'](_0x3fea3c,_0x3a8098),this['lightRadiu'+'sId'][_0x3a8098]['setValue'](_0x45ee55['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x3a8098]['setValue'](_0x45ee55['_colorLine'+'ar']),_0x2eaa43['getTransla'+'tion'](_0x45ee55['_position']),this['lightPos'][_0x3a8098][0x16b8+0x84d+-0xa57*0x3]=_0x45ee55['_position']['x'],this['lightPos'][_0x3a8098][-0x1eda+-0x99e+-0x31d*-0xd]=_0x45ee55['_position']['y'],this['lightPos'][_0x3a8098][0xb*-0x299+-0x1ae9+0x377e]=_0x45ee55['_position']['z'],this['lightPosId'][_0x3a8098]['setValue'](this['lightPos'][_0x3a8098]),_0x45ee55['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x2eaa43,_0x3a8098),_0x45ee55['castShadow'+'s']){const _0x475ffe=_0x45ee55['getRenderD'+'ata'](null,-0x1*0x1feb+0x1*0x2103+-0x118);this['lightShado'+'wMapId'][_0x3a8098]['setValue'](_0x475ffe['shadowBuff'+'er']);const _0x1a50ad=_0x45ee55['_getUnifor'+'mBiasValue'+'s'](_0x475ffe),_0x58be55=_0x45ee55['_shadowRen'+'derParams'];_0x58be55['length']=0x1f39+-0x1*0x132d+-0xc08,_0x58be55[0x73*0x2a+-0x2e*0xbf+0xf74*0x1]=_0x45ee55['_shadowRes'+'olution'],_0x58be55[0x2*0xc35+-0x1e72+0x609]=_0x1a50ad['normalBias'],_0x58be55[0x9e*0xc+0x463+0x1*-0xbc9]=_0x1a50ad['bias'],_0x58be55[0x10af+-0xcc4+-0x3e8]=(-0x1cc1*0x1+0x5c0+0x136*0x13)/_0x45ee55['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x3a8098]['setValue'](_0x58be55),this['lightShado'+'wIntensity'][_0x3a8098]['setValue'](_0x45ee55['shadowInte'+'nsity']);const _0x5c1e60=_0x45ee55['penumbraSi'+'ze']/_0x475ffe['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x3a8098]['setValue'](_0x5c1e60);const _0x4c2594=_0x45ee55['_shadowCam'+'eraParams'];_0x4c2594['length']=0x14f5*-0x1+-0x4ab*0x1+-0x669*-0x4,_0x4c2594[-0x8*-0x2a2+-0x102c+0x4*-0x139]=-0x2037+0x1cf5*0x1+0x1*0x342,_0x4c2594[0x16d9*0x1+0x1b56*-0x1+-0x32*-0x17]=_0x475ffe['shadowCame'+'ra']['_farClip'],_0x4c2594[0x14cd+-0xe0b*-0x1+-0x22d6]=_0x475ffe['shadowCame'+'ra']['_nearClip'],_0x4c2594[0x20*-0x4+-0x222a+-0x21*-0x10d]=-0x35*-0xae+-0x39*0x53+-0x118b,this['lightCamer'+'aParamsId'][_0x3a8098]['setValue'](_0x4c2594);}_0x45ee55['_cookie']&&(this['lightCooki'+'eId'][_0x3a8098]['setValue'](_0x45ee55['_cookie']),this['lightShado'+'wMatrixId'][_0x3a8098]['setValue'](_0x2eaa43['data']),this['lightCooki'+'eIntId'][_0x3a8098]['setValue'](_0x45ee55['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x5bb90a,_0x2fa6c8,_0x59e956){const _0x3d88ea=_0x2fa6c8['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x59e956]||this['_resolveLi'+'ght'](_0x5bb90a,_0x59e956),this['lightInAng'+'leId'][_0x59e956]['setValue'](_0x2fa6c8['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x59e956]['setValue'](_0x2fa6c8['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x59e956]['setValue'](_0x2fa6c8['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x59e956]['setValue'](_0x2fa6c8['_colorLine'+'ar']),_0x3d88ea['getTransla'+'tion'](_0x2fa6c8['_position']),this['lightPos'][_0x59e956][0x1*-0x7ed+-0x2b*-0x17+0x410*0x1]=_0x2fa6c8['_position']['x'],this['lightPos'][_0x59e956][0xa49*-0x1+0xb*0xa6+0x2*0x194]=_0x2fa6c8['_position']['y'],this['lightPos'][_0x59e956][-0x25fa*0x1+0x43e*0x4+0x1504]=_0x2fa6c8['_position']['z'],this['lightPosId'][_0x59e956]['setValue'](this['lightPos'][_0x59e956]),_0x2fa6c8['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x3d88ea,_0x59e956),_0x3d88ea['getY'](_0x2fa6c8['_direction'])['mulScalar'](-(0x26dc*0x1+0xa7*0x1d+-0x39c6)),_0x2fa6c8['_direction']['normalize'](),this['lightDir'][_0x59e956][-0x1e41+0x4e5+0x195c]=_0x2fa6c8['_direction']['x'],this['lightDir'][_0x59e956][0x1*0x38b+-0x7b*0x29+0x1029]=_0x2fa6c8['_direction']['y'],this['lightDir'][_0x59e956][-0xecc+0xb1c+0x3b2]=_0x2fa6c8['_direction']['z'],this['lightDirId'][_0x59e956]['setValue'](this['lightDir'][_0x59e956]),_0x2fa6c8['castShadow'+'s']){const _0x2c5daf=_0x2fa6c8['getRenderD'+'ata'](null,0x27e*0xc+0x1e0d+-0x3bf5*0x1);this['lightShado'+'wMapId'][_0x59e956]['setValue'](_0x2c5daf['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x59e956]['setValue'](_0x2c5daf['shadowMatr'+'ix']['data']);const _0x1a30c7=_0x2fa6c8['_getUnifor'+'mBiasValue'+'s'](_0x2c5daf),_0x51e705=_0x2fa6c8['_shadowRen'+'derParams'];_0x51e705['length']=0xea4+0x2696+-0x3536,_0x51e705[-0x9d2+0x108+-0x1c2*-0x5]=_0x2fa6c8['_shadowRes'+'olution'],_0x51e705[-0x447+0xd1*-0x28+-0x2*-0x1278]=_0x1a30c7['normalBias'],_0x51e705[-0xc47+0x2a*-0x8a+0x22ed]=_0x1a30c7['bias'],_0x51e705[-0x12af+-0x268a+-0x393c*-0x1]=(-0xbc*-0xb+-0x149d*0x1+0xc8a)/_0x2fa6c8['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x59e956]['setValue'](_0x51e705),this['lightShado'+'wIntensity'][_0x59e956]['setValue'](_0x2fa6c8['shadowInte'+'nsity']);const _0x55d305=_0x2fa6c8['penumbraSi'+'ze']/_0x2c5daf['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x6f0c8e=_0x2c5daf['shadowCame'+'ra']['_fov']*Math['PI']/(0x1*-0xb9d+-0x1*-0xc6d+-0x1c),_0x3e5c1c=(-0x155f+0x977*0x1+0xbe9)/Math['tan'](_0x6f0c8e/(-0x24a5+-0xcd3+0x317a));this['lightShado'+'wSearchAre'+'aId'][_0x59e956]['setValue'](_0x55d305*_0x3e5c1c);const _0x230f5f=_0x2fa6c8['_shadowCam'+'eraParams'];_0x230f5f['length']=-0x1811+0x166c+0x5*0x55,_0x230f5f[0x359*-0x3+0x225b+-0x1850*0x1]=0x15ea+0x2402+0x544*-0xb,_0x230f5f[0x1a9a+-0xbb5+-0xee4]=_0x2c5daf['shadowCame'+'ra']['_farClip'],_0x230f5f[-0x6*-0x103+-0x403+0x3*-0xaf]=_0x2c5daf['shadowCame'+'ra']['_nearClip'],_0x230f5f[-0x1*-0x12c4+-0xe*-0x2a2+-0x379d]=-0x9e*-0x7+0x1fe7+-0x2439,this['lightCamer'+'aParamsId'][_0x59e956]['setValue'](_0x230f5f);}if(_0x2fa6c8['_cookie']){if(!_0x2fa6c8['castShadow'+'s']){const _0x594245=Ma['evalSpotCo'+'okieMatrix'](_0x2fa6c8);this['lightShado'+'wMatrixId'][_0x59e956]['setValue'](_0x594245['data']);}this['lightCooki'+'eId'][_0x59e956]['setValue'](_0x2fa6c8['_cookie']),this['lightCooki'+'eIntId'][_0x59e956]['setValue'](_0x2fa6c8['cookieInte'+'nsity']),_0x2fa6c8['_cookieTra'+'nsform']&&(_0x2fa6c8['_cookieTra'+'nsformUnif'+'orm'][0x1296+-0x5a9+-0xced]=_0x2fa6c8['_cookieTra'+'nsform']['x'],_0x2fa6c8['_cookieTra'+'nsformUnif'+'orm'][-0x14a7+-0x1c14+-0x2*-0x185e]=_0x2fa6c8['_cookieTra'+'nsform']['y'],_0x2fa6c8['_cookieTra'+'nsformUnif'+'orm'][0x1d06+-0x7c7+-0x153d]=_0x2fa6c8['_cookieTra'+'nsform']['z'],_0x2fa6c8['_cookieTra'+'nsformUnif'+'orm'][0x178*0x2+-0x21a+0x1*-0xd3]=_0x2fa6c8['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x59e956]['setValue'](_0x2fa6c8['_cookieTra'+'nsformUnif'+'orm']),_0x2fa6c8['_cookieOff'+'setUniform'][0x9c2*0x2+0x1*-0x187+0x1*-0x11fd]=_0x2fa6c8['_cookieOff'+'set']['x'],_0x2fa6c8['_cookieOff'+'setUniform'][0x50*-0x35+0x2*-0x241+0xd*0x19f]=_0x2fa6c8['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x59e956]['setValue'](_0x2fa6c8['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x3ffa35,_0x283017,_0x59f0ea){let _0x3abb4c=_0x59f0ea;const _0x428ced=this['device']['scope'],_0x8295c=_0x3ffa35[Pe],_0x29b0c0=_0x8295c['length'];for(let _0x355411=-0x11*-0x24b+-0x1*0x178f+0x4*-0x3db;_0x355411<_0x29b0c0;_0x355411++){const _0x66d0d1=_0x8295c[_0x355411];_0x66d0d1['mask']&_0x283017&&(this['dispatchOm'+'niLight'](_0x428ced,_0x66d0d1,_0x3abb4c),_0x3abb4c++);}const _0xcb419a=_0x3ffa35[Re],_0x3a1d1e=_0xcb419a['length'];for(let _0x41179c=0x1*-0xdd+-0x7*0x321+0x16c4;_0x41179c<_0x3a1d1e;_0x41179c++){const _0x5df302=_0xcb419a[_0x41179c];_0x5df302['mask']&_0x283017&&(this['dispatchSp'+'otLight'](_0x428ced,_0x5df302,_0x3abb4c),_0x3abb4c++);}}['renderForw'+'ardPrepare'+'Materials'](_0xc15bd8,_0x4d48db,_0x2fcfa3,_0x41b6cc,_0x4cebe2,_0x2fecb8){const _0x2afa36=_0xc15bd8['fog']??this['scene']['fog'],_0x4c3cac=_0xc15bd8['shaderPara'+'ms'];_0x4c3cac['fog']=_0x2afa36['type'],_0x4c3cac['srgbRender'+'Target']=(_0x4d48db==null?void(0x8c0+0x138+0x58*-0x1d):_0x4d48db['isColorBuf'+'ferSrgb'](0x9d3*0x2+-0x1e57+0xab1))??!(-0xb*0x1c7+0x49c*0x5+-0x1bf*0x2);const _0x1e8373=(_0x45a761,_0x2441f2,_0x384cae,_0x2f7ad0)=>{br['drawCalls']['push'](_0x45a761),br['shaderInst'+'ances']['push'](_0x2441f2),br['isNewMater'+'ial']['push'](_0x384cae),br['lightMaskC'+'hanged']['push'](_0x2f7ad0);};br['clear']();const _0x727aac=this['device'],_0x44d93d=this['scene'],_0x24991e=_0x44d93d['clusteredL'+'ightingEna'+'bled'],_0x229fca=(_0x4cebe2==null?void(0x43*-0x34+-0x1*-0x2557+-0x17bb):_0x4cebe2['getLightHa'+'sh'](_0x24991e))??-0x4*-0x327+0x2*-0x10f1+0xe*0x185;let _0x346c99=null,_0x5581e1,_0x358ecc;const _0x5921c2=_0x2fcfa3['length'];for(let _0x52e90e=-0x1203+-0x142*-0x9+0x6b1;_0x52e90e<_0x5921c2;_0x52e90e++){const _0x15c7d7=_0x2fcfa3[_0x52e90e];if(_0xc15bd8===_i['skipRender'+'Camera']){if(_i['_skipRende'+'rCounter']>=_i['skipRender'+'After'])continue;_i['_skipRende'+'rCounter']++;}if(_0x4cebe2){if(_0x4cebe2['_skipRende'+'rCounter']>=_0x4cebe2['skipRender'+'After'])continue;_0x4cebe2['_skipRende'+'rCounter']++;}_0x15c7d7['ensureMate'+'rial'](_0x727aac);const _0x4d7b3a=_0x15c7d7['material'],_0x11cd2e=_0x15c7d7['_shaderDef'+'s'],_0xb6a632=_0x15c7d7['mask'];_0x4d7b3a&&_0x4d7b3a===_0x346c99&&_0x11cd2e!==_0x5581e1&&(_0x346c99=null),_0x4d7b3a!==_0x346c99&&(this['_materialS'+'witches']++,_0x4d7b3a['_scene']=_0x44d93d,_0x4d7b3a['dirty']&&(G['pushGpuMar'+'ker'](_0x727aac,'Node:\x20'+_0x15c7d7['node']['name']+(',\x20Material'+':\x20')+_0x4d7b3a['name']),_0x4d7b3a['updateUnif'+'orms'](_0x727aac,_0x44d93d),_0x4d7b3a['dirty']=!(-0x5dd+-0x1d30+0x230e),G['popGpuMark'+'er'](_0x727aac)));const _0x20170d=_0x15c7d7['getShaderI'+'nstance'](_0x2fecb8,_0x229fca,_0x44d93d,_0x4c3cac,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x41b6cc);_0x1e8373(_0x15c7d7,_0x20170d,_0x4d7b3a!==_0x346c99,!_0x346c99||_0xb6a632!==_0x358ecc),_0x346c99=_0x4d7b3a,_0x5581e1=_0x11cd2e,_0x358ecc=_0xb6a632;}return br;}['renderForw'+'ardInterna'+'l'](_0x435ac5,_0x2d788e,_0x3e876a,_0x2f35e7,_0x3458ed,_0x1c0daf){const _0x5f2156=this['device'],_0x3fe9c8=this['scene'],_0x490157=-0xae6*0x2+0x26bc+0xff*-0x11<<_0x2f35e7,_0x5e6c75=_0x1c0daf?-(0x20f9+0x461*0x1+0x3*-0xc73):0xf39+-0x3d7*0x5+0x3fb*0x1,_0x2dc04a=_0x3fe9c8['clusteredL'+'ightingEna'+'bled'],_0x36c44e=_0x2d788e['drawCalls']['length'];for(let _0x178bb9=-0x1d40+-0x26f*0x4+0x26fc;_0x178bb9<_0x36c44e;_0x178bb9++){const _0x5e07fb=_0x2d788e['drawCalls'][_0x178bb9],_0x32c767=_0x2d788e['isNewMater'+'ial'][_0x178bb9],_0x4b2297=_0x2d788e['lightMaskC'+'hanged'][_0x178bb9],_0x242e26=_0x2d788e['shaderInst'+'ances'][_0x178bb9],_0x1b12ad=_0x5e07fb['material'],_0x356bf6=_0x5e07fb['mask'];if(_0x32c767){if(_0x5f2156['setShader'](_0x242e26['shader'],!(-0x1636+0x19e*0x5+0xe21)),_0x1b12ad['setParamet'+'ers'](_0x5f2156),_0x4b2297){const _0x23fb16=this['dispatchDi'+'rectLights'](_0x3e876a[oe],_0x356bf6,_0x435ac5);_0x2dc04a||this['dispatchLo'+'calLights'](_0x3e876a,_0x356bf6,_0x23fb16);}this['alphaTestI'+'d']['setValue'](_0x1b12ad['alphaTest']),_0x5f2156['setBlendSt'+'ate'](_0x1b12ad['blendState']),_0x5f2156['setDepthSt'+'ate'](_0x1b12ad['depthState']),_0x5f2156['setAlphaTo'+'Coverage'](_0x1b12ad['alphaToCov'+'erage']);}G['pushGpuMar'+'ker'](_0x5f2156,'Node:\x20'+_0x5e07fb['node']['name']+(',\x20Material'+':\x20')+_0x1b12ad['name']),this['setupCullM'+'ode'](_0x435ac5['_cullFaces'],_0x5e6c75,_0x5e07fb);const _0x5890ae=_0x5e07fb['stencilFro'+'nt']??_0x1b12ad['stencilFro'+'nt'],_0x19be91=_0x5e07fb['stencilBac'+'k']??_0x1b12ad['stencilBac'+'k'];_0x5f2156['setStencil'+'State'](_0x5890ae,_0x19be91),_0x5e07fb['setParamet'+'ers'](_0x5f2156,_0x490157),_0x5f2156['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x5e07fb['id']);const _0x5d2304=_0x5e07fb['mesh'];this['setVertexB'+'uffers'](_0x5f2156,_0x5d2304),this['setMorphin'+'g'](_0x5f2156,_0x5e07fb['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x5f2156,_0x5e07fb),this['setupMeshU'+'niformBuff'+'ers'](_0x242e26,_0x5e07fb);const _0x5a34b7=_0x5e07fb['renderStyl'+'e'];if(_0x5f2156['setIndexBu'+'ffer'](_0x5d2304['indexBuffe'+'r'][_0x5a34b7]),_0x3458ed==null||_0x3458ed(_0x5e07fb,_0x178bb9),_0x435ac5['xr']&&_0x435ac5['xr']['session']&&_0x435ac5['xr']['views']['list']['length']){const _0xe5b9cc=_0x435ac5['xr']['views'];for(let _0xa9d8f5=-0xfd2*0x1+-0x626+0x15f8;_0xa9d8f5<_0xe5b9cc['list']['length'];_0xa9d8f5++){const _0x33eef2=_0xe5b9cc['list'][_0xa9d8f5];_0x5f2156['setViewpor'+'t'](_0x33eef2['viewport']['x'],_0x33eef2['viewport']['y'],_0x33eef2['viewport']['z'],_0x33eef2['viewport']['w']),this['projId']['setValue'](_0x33eef2['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x33eef2['projMat']['data']),this['viewId']['setValue'](_0x33eef2['viewOffMat']['data']),this['viewInvId']['setValue'](_0x33eef2['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x33eef2['viewMat3']['data']),this['viewProjId']['setValue'](_0x33eef2['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x33eef2['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0xa9d8f5),_0xa9d8f5===0x9*-0x2eb+-0x56b+0xfd7*0x2?this['drawInstan'+'ce'](_0x5f2156,_0x5e07fb,_0x5d2304,_0x5a34b7,!(0x3f0*-0x6+0x593*-0x1+0x1d33)):this['drawInstan'+'ce2'](_0x5f2156,_0x5e07fb,_0x5d2304,_0x5a34b7),this['_forwardDr'+'awCalls']++;}}else this['drawInstan'+'ce'](_0x5f2156,_0x5e07fb,_0x5d2304,_0x5a34b7,!(0x98e+0x393*0x3+0x1*-0x1447)),this['_forwardDr'+'awCalls']++;_0x178bb9<_0x36c44e-(-0x2e3+0x7*0x292+-0xf1a)&&!_0x2d788e['isNewMater'+'ial'][_0x178bb9+(-0x89*0x1+0x1fbc+-0x1f32)]&&_0x1b12ad['setParamet'+'ers'](_0x5f2156,_0x5e07fb['parameters']),G['popGpuMark'+'er'](_0x5f2156);}}['renderForw'+'ard'](_0x1a4727,_0x30cb4f,_0x565827,_0x51b5ee,_0x420f6b,_0x4ffda8,_0x4d1c09,_0x5125bd){const _0x38117e=ne(),_0x4c777b=this['renderForw'+'ardPrepare'+'Materials'](_0x1a4727,_0x30cb4f,_0x565827,_0x51b5ee,_0x4d1c09,_0x420f6b);this['renderForw'+'ardInterna'+'l'](_0x1a4727,_0x4c777b,_0x51b5ee,_0x420f6b,_0x4ffda8,_0x5125bd),br['clear'](),this['_forwardTi'+'me']+=ne()-_0x38117e;}['renderForw'+'ardLayer'](_0x2969fc,_0x5e4df7,_0x4b38d7,_0x119ee2,_0x158887,_0x4c8c6b,_0x2e9cf0={}){const {scene:_0x447934,device:_0x160215}=this,_0x769b70=_0x447934['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x2969fc,_0x5e4df7);let _0x15f1c2,_0x13f100;if(_0x4b38d7){const _0x2f4772=ne();_0x4b38d7['sortVisibl'+'e'](_0x2969fc,_0x119ee2),this['_sortTime']+=ne()-_0x2f4772;const _0x15df42=_0x4b38d7['getCulledI'+'nstances'](_0x2969fc);_0x15f1c2=_0x119ee2?_0x15df42['transparen'+'t']:_0x15df42['opaque'],_0x447934['immediate']['onPreRende'+'rLayer'](_0x4b38d7,_0x15f1c2,_0x119ee2),_0x4b38d7['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x447934['ambientLig'+'ht'],_0x4b38d7['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x13f100=_0x4b38d7['splitLight'+'s'];}else _0x15f1c2=_0x2e9cf0['meshInstan'+'ces'],_0x13f100=_0x2e9cf0['splitLight'+'s']??OM;if(v['assert'](_0x15f1c2,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x769b70){const _0x3bfbb2=_0x2e9cf0['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x3bfbb2['activate'](),_0x4b38d7&&!this['clustersDe'+'bugRendere'+'d']&&_0x447934['lighting']['debugLayer']===_0x4b38d7['id']&&(this['clustersDe'+'bugRendere'+'d']=!(-0x225e+0x1*0x1a54+0x80a),Vu['render'](_0x3bfbb2,this['scene']));}_0x447934['_activeCam'+'era']=_0x2969fc;const _0x1b95ea=_0x2969fc['fog']??this['scene']['fog'];this['setFogCons'+'tants'](_0x1b95ea);const _0x175ece=this['setCameraU'+'niforms'](_0x2969fc,_0x5e4df7);_0x160215['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x4c8c6b,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x175ece);const _0xa2487f=_0x2e9cf0['clearColor']??!(0x34+0x84*-0x1f+-0x3*-0x543),_0x4ca6dc=_0x2e9cf0['clearDepth']??!(0x6a6+0x1963+-0x2008),_0x5475d1=_0x2e9cf0['clearStenc'+'il']??!(-0x20b6+0x1a7d*-0x1+0x3b34);(_0xa2487f||_0x4ca6dc||_0x5475d1)&&this['clear'](_0x2969fc,_0xa2487f,_0x4ca6dc,_0x5475d1);const _0xbcf004=!!(_0x2969fc['_flipFaces']^(_0x5e4df7==null?void(-0x1832+0xace+0x2*0x6b2):_0x5e4df7['flipY'])),_0x457477=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x2969fc,_0x5e4df7,_0x15f1c2,_0x13f100,_0x158887,null,_0x4b38d7,_0xbcf004),_0x4b38d7&&(_0x4b38d7['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x457477);}['setFogCons'+'tants'](_0x108cfe){if(_0x108cfe['type']!==Fa){$i['linear'](_0x108cfe['color']);const _0x5a9897=this['fogColor'];_0x5a9897[-0x2c*-0x19+0x14fc+-0x2*0xca4]=$i['r'],_0x5a9897[0x92b+-0x1d69+0x143f*0x1]=$i['g'],_0x5a9897[-0x2*0x33f+0x14*0x1be+0x1c58*-0x1]=$i['b'],this['fogColorId']['setValue'](_0x5a9897),_0x108cfe['type']===zb?(this['fogStartId']['setValue'](_0x108cfe['start']),this['fogEndId']['setValue'](_0x108cfe['end'])):this['fogDensity'+'Id']['setValue'](_0x108cfe['density']);}}['setSceneCo'+'nstants'](){const _0x3ab99a=this['scene'];this['dispatchGl'+'obalLights'](_0x3ab99a);const _0x5adb51=this['device'];this['_screenSiz'+'e'][-0x14c5+0x88*-0x35+-0x3*-0x104f]=_0x5adb51['width'],this['_screenSiz'+'e'][-0x138*-0x1f+0xed3+0x2*-0x1a4d]=_0x5adb51['height'],this['_screenSiz'+'e'][-0x1*0x195+0xab9+-0x14e*0x7]=(-0xb*0x1b3+-0x6ea*-0x4+-0x8f6)/_0x5adb51['width'],this['_screenSiz'+'e'][0x2*0xe99+-0x1506*-0x1+0x1*-0x3235]=(0x200f+-0x2de*-0x7+-0x8b*0x60)/_0x5adb51['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x2d2c11,_0xd46684){const _0x145395=this['scene'];if(_0x2d2c11['reset'](),_0x145395['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0xe18ee1,cookiesEnabled:_0x421eec}=_0x145395['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x2d2c11,_0xe18ee1,_0x421eec,this['lights'],this['localLight'+'s']),_0x2d2c11['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x2d2c11,this['localLight'+'s']);let _0x22b16b=-0x3*-0x5ff+-0x107c+0x23*-0xb,_0x1dfcd3=!(-0x585+0x6*0x25+0x1*0x4a7),_0x2cc38d=null;const _0xfa2812=_0xd46684['_renderAct'+'ions'];for(let _0x59131e=_0x22b16b;_0x59131e<_0xfa2812['length'];_0x59131e++){const _0x1da0d8=_0xfa2812[_0x59131e],{layer:_0x50c76f,camera:_0x5ae054}=_0x1da0d8;if(_0x1da0d8['useCameraP'+'asses'])v['call'](()=>{_0x5ae054['postEffect'+'s']['effects']['length']>-0xc1f+-0x250e+0x312d&&v['warnOnce']('Camera\x20\x27'+_0x5ae054['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x5ae054['camera']['renderPass'+'es']['forEach'](_0x46eeee=>{_0x2d2c11['addRenderP'+'ass'](_0x46eeee);});else{const _0x4e00d9=_0x50c76f['id']===Xt,_0x1fc7c6=_0x4e00d9&&(_0x5ae054['renderScen'+'eColorMap']||_0x5ae054['renderScen'+'eDepthMap']);_0x1dfcd3&&(_0x1dfcd3=!(-0x70b+-0x1*-0xd0c+-0x600),_0x22b16b=_0x59131e,_0x2cc38d=_0x1da0d8['renderTarg'+'et']);const _0x117ae1=_0xfa2812[_0x59131e+(-0x1d*0x101+-0x250f+0x1*0x422d)],_0x183366=(_0x117ae1?!_0x117ae1['useCameraP'+'asses']&&_0x117ae1['layer']['id']===Xt:!(-0xec5+-0x1*-0x1bec+-0x3*0x462))&&(_0x5ae054['renderScen'+'eColorMap']||_0x5ae054['renderScen'+'eDepthMap']),_0x52070d=_0x117ae1?_0x117ae1['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x117ae1['camera']['camera']):!(0x33b*-0xb+-0x11b*-0x1+0x226f);if(!_0x117ae1||_0x117ae1['renderTarg'+'et']!==_0x2cc38d||_0x52070d||_0x183366||_0x1fc7c6){if(_0x4e00d9&&_0x22b16b===_0x59131e||this['addMainRen'+'derPass'](_0x2d2c11,_0xd46684,_0x2cc38d,_0x22b16b,_0x59131e),_0x4e00d9){if(_0x5ae054['renderScen'+'eColorMap']){const _0x37ac21=_0x5ae054['camera']['renderPass'+'ColorGrab'];_0x37ac21['source']=_0x5ae054['renderTarg'+'et'],_0x2d2c11['addRenderP'+'ass'](_0x37ac21);}_0x5ae054['renderScen'+'eDepthMap']&&_0x2d2c11['addRenderP'+'ass'](_0x5ae054['camera']['renderPass'+'DepthGrab']);}if(_0x1da0d8['triggerPos'+'tprocess']&&(_0x5ae054!=null&&_0x5ae054['onPostproc'+'essing'])){const _0x5ed551=new FM(this['device'],this,_0x1da0d8);_0x2d2c11['addRenderP'+'ass'](_0x5ed551);}_0x1dfcd3=!(0x1*0xf45+0x12d7+0x94*-0x3b);}}}}['addMainRen'+'derPass'](_0x423dfb,_0x4681b0,_0x4bb1e7,_0x503935,_0x9987c9){const _0x2a4725=new LM(this['device'],_0x4681b0,this['scene'],this);_0x2a4725['init'](_0x4bb1e7);const _0xe9494b=_0x4681b0['_renderAct'+'ions'];for(let _0x530811=_0x503935;_0x530811<=_0x9987c9;_0x530811++)_0x2a4725['addRenderA'+'ction'](_0xe9494b[_0x530811]);_0x423dfb['addRenderP'+'ass'](_0x2a4725);}['update'](_0x292686){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x292686),this['collectLig'+'hts'](_0x292686),this['beginFrame'](_0x292686),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x292686),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};c(_i,'skipRender'+'Camera',null),c(_i,'_skipRende'+'rCounter',0x1758+0x1ac2*-0x1+0x1b5*0x2),c(_i,'skipRender'+'After',0x2597*-0x1+-0x36a+0x2901);let Gh=_i,zd=0x71b*-0x2+0x1ce*0x8+-0x2*0x1d;const ja=[],Ol=new Set();function NM(_0x46b434,_0x3d4858){return _0x46b434['drawOrder']-_0x3d4858['drawOrder'];}function zM(_0x5efa99,_0x11e37c){const _0x3dc89c=_0x5efa99['_key'][Ei],_0x231dbb=_0x11e37c['_key'][Ei];return _0x3dc89c===_0x231dbb&&_0x5efa99['mesh']&&_0x11e37c['mesh']?_0x11e37c['mesh']['id']-_0x5efa99['mesh']['id']:_0x231dbb-_0x3dc89c;}function UM(_0x1c65ac,_0x2b6a0e){return _0x2b6a0e['zdist']-_0x1c65ac['zdist'];}function VM(_0x282005,_0x39289b){return _0x282005['zdist']-_0x39289b['zdist'];}const GM=[null,NM,zM,UM,VM];class HM{constructor(){c(this,'opaque',[]),c(this,'transparen'+'t',[]);}}class Lr{constructor(_0x5df111={}){c(this,'meshInstan'+'ces',[]),c(this,'meshInstan'+'cesSet',new Set()),c(this,'shadowCast'+'ers',[]),c(this,'shadowCast'+'ersSet',new Set()),c(this,'_visibleIn'+'stances',new WeakMap()),c(this,'_lights',[]),c(this,'_lightsSet',new Set()),c(this,'_clustered'+'LightsSet',new Set()),c(this,'_splitLigh'+'ts',[[],[],[]]),c(this,'_splitLigh'+'tsDirty',!(0xe1+-0x150c*-0x1+0x15ed*-0x1)),c(this,'requiresLi'+'ghtCube',!(-0x1b80+-0xb*-0x223+0x400)),c(this,'cameras',[]),c(this,'camerasSet',new Set()),c(this,'_dirtyComp'+'osition',!(-0x1c45+0x22db*0x1+-0x695)),(_0x5df111['id']!==void(-0xebf+0xb*-0x343+0x32a0)?(this['id']=_0x5df111['id'],zd=Math['max'](this['id']+(0x43*0x8a+-0x1f2a+0x4f3*-0x1),zd)):this['id']=zd++,this['name']=_0x5df111['name'],this['_enabled']=_0x5df111['enabled']??!(-0x1*0x183a+-0x2b+-0x1*-0x1865),this['_refCounte'+'r']=this['_enabled']?-0x535*-0x1+0x1eec+-0x2420:-0x5ad*0x2+0xe45+0x9*-0x53,this['opaqueSort'+'Mode']=_0x5df111['opaqueSort'+'Mode']??Qb,this['transparen'+'tSortMode']=_0x5df111['transparen'+'tSortMode']??Bm,_0x5df111['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x5df111['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x5df111['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x5df111['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x5df111['clearStenc'+'ilBuffer'],this['onEnable']=_0x5df111['onEnable'],this['onDisable']=_0x5df111['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=0xcb0+0x93*0x23+-0x20c9,this['_lightHash'+'Dirty']=!(-0x2f2*0x7+-0x89*-0x5+0x11f2),this['_lightIdHa'+'sh']=-0x824+0x3cb+-0x15*-0x35,this['_lightIdHa'+'shDirty']=!(0x151a+0x9f*0x1d+-0x2*0x138e),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=0x243e+0x2700+-0x4b3e,this['_renderTim'+'e']=0xf98*0x1+-0x2e3*-0x9+0x1*-0x2993,this['_forwardDr'+'awCalls']=-0x2237+-0x3*-0x82c+0x9b3,this['_shadowDra'+'wCalls']=0xf22+0x63*0x13+0x5*-0x47f,this['_shaderVer'+'sion']=-(0x1044+-0x1*0xe4f+-0xfa*0x2));}set['enabled'](_0x420ffb){_0x420ffb!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(-0x21a4+0xe53+0x1351),this['_enabled']=_0x420ffb,_0x420ffb?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x234bc1){this['_clearColo'+'rBuffer']=_0x234bc1,this['_dirtyComp'+'osition']=!(-0x1e0+-0x2b*-0xc4+-0x1f0c);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x453dfe){this['_clearDept'+'hBuffer']=_0x453dfe,this['_dirtyComp'+'osition']=!(-0x12c6+-0xb*0x1cf+0x26ab);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x29caa3){this['_clearSten'+'cilBuffer']=_0x29caa3,this['_dirtyComp'+'osition']=!(-0x1*0x252a+-0x13*-0x1f+-0x33*-0xaf);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>0x32*-0x9b+0x269b*-0x1+-0x4d*-0xe5;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===-0x1507+0x1*0xe59+0x6*0x11d&&(this['_enabled']=!(0x209*0xe+-0xaae+-0x11d0),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===0x1ef1+0xb61+-0x2a51)this['_enabled']=!(0xc0d+0x1f3*-0x1+-0xa19),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===-0x232c*-0x1+-0x4*-0x4d0+-0x366c){v['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x3f4e44,_0x43ab25){const _0x447209=this['meshInstan'+'ces'],_0x843c3f=this['meshInstan'+'cesSet'];for(let _0x59d0aa=-0x1*-0x1bc3+0x1792+-0x3355;_0x59d0aa<_0x3f4e44['length'];_0x59d0aa++){const _0x4a23cc=_0x3f4e44[_0x59d0aa];_0x843c3f['has'](_0x4a23cc)||(_0x447209['push'](_0x4a23cc),_0x843c3f['add'](_0x4a23cc),Ol['add'](_0x4a23cc['material']));}if(_0x43ab25||this['addShadowC'+'asters'](_0x3f4e44),Ol['size']>-0x253d+0xf8d+0x15b0){const _0x511004=this['_shaderVer'+'sion'];Ol['forEach'](_0x35fe82=>{_0x511004>=-0x31f+-0x1690+-0x5*-0x523&&_0x35fe82['_shaderVer'+'sion']!==_0x511004&&(_0x35fe82['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant']&&_0x35fe82['clearVaria'+'nts'](),_0x35fe82['_shaderVer'+'sion']=_0x511004);}),Ol['clear']();}}['removeMesh'+'Instances'](_0x5116f0,_0x1f0351){const _0x2a0022=this['meshInstan'+'ces'],_0x111d7c=this['meshInstan'+'cesSet'];for(let _0x2ebb12=-0x145a+-0x7*-0x19+0x13ab;_0x2ebb12<_0x5116f0['length'];_0x2ebb12++){const _0x13a4c9=_0x5116f0[_0x2ebb12];if(_0x111d7c['has'](_0x13a4c9)){_0x111d7c['delete'](_0x13a4c9);const _0x47a547=_0x2a0022['indexOf'](_0x13a4c9);_0x47a547>=-0x58b+0x126f*0x1+-0x339*0x4&&_0x2a0022['splice'](_0x47a547,-0x6*-0x44a+0x2027+-0x39e2);}}_0x1f0351||this['removeShad'+'owCasters'](_0x5116f0);}['addShadowC'+'asters'](_0x4746df){const _0x4a6e34=this['shadowCast'+'ers'],_0x505a38=this['shadowCast'+'ersSet'];for(let _0x62abf=-0xa49*-0x3+-0x213e+0x263;_0x62abf<_0x4746df['length'];_0x62abf++){const _0x1dbcae=_0x4746df[_0x62abf];_0x1dbcae['castShadow']&&!_0x505a38['has'](_0x1dbcae)&&(_0x505a38['add'](_0x1dbcae),_0x4a6e34['push'](_0x1dbcae));}}['removeShad'+'owCasters'](_0x365bb4){const _0xdac3cf=this['shadowCast'+'ers'],_0x4f04a7=this['shadowCast'+'ersSet'];for(let _0x42704c=0x1f0a+0xc68+-0x2b72;_0x42704c<_0x365bb4['length'];_0x42704c++){const _0x63c80e=_0x365bb4[_0x42704c];if(_0x4f04a7['has'](_0x63c80e)){_0x4f04a7['delete'](_0x63c80e);const _0x3dbdfc=_0xdac3cf['indexOf'](_0x63c80e);_0x3dbdfc>=-0x7*0x37e+-0x376*0x2+0x1f5e&&_0xdac3cf['splice'](_0x3dbdfc,0x201e+0x1f98+-0x3fb5*0x1);}}}['clearMeshI'+'nstances'](_0x33aaa3=!(-0x3f3+0x2*0xaba+-0x1180)){this['meshInstan'+'ces']['length']=0x370+0x101a+-0x29*0x7a,this['meshInstan'+'cesSet']['clear'](),_0x33aaa3||(this['shadowCast'+'ers']['length']=-0xceb+0x1df2+0x5ad*-0x3,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(-0x12f4+0x1*-0x13ff+0x26f3),this['_lightIdHa'+'shDirty']=!(0x1c09+0x1b49+-0x49*0xc2),this['_splitLigh'+'tsDirty']=!(0xe21*0x1+-0x304+-0x5*0x239);}['hasLight'](_0x16d9ba){return this['_lightsSet']['has'](_0x16d9ba);}['addLight'](_0x50ee80){const _0x372443=_0x50ee80['light'];this['_lightsSet']['has'](_0x372443)||(this['_lightsSet']['add'](_0x372443),this['_lights']['push'](_0x372443),this['markLights'+'Dirty']()),_0x372443['type']!==oe&&this['_clustered'+'LightsSet']['add'](_0x372443);}['removeLigh'+'t'](_0x4125f7){const _0x3d222c=_0x4125f7['light'];this['_lightsSet']['has'](_0x3d222c)&&(this['_lightsSet']['delete'](_0x3d222c),this['_lights']['splice'](this['_lights']['indexOf'](_0x3d222c),-0x4d*-0x61+0xaa7+-0x27d3*0x1),this['markLights'+'Dirty']()),_0x3d222c['type']!==oe&&this['_clustered'+'LightsSet']['delete'](_0x3d222c);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x502668=>_0x502668['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=-0x4*0x25e+-0x306*-0xb+-0x17ca,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(0x1*-0x2557+0x69e+0x1eba);const _0x479f5b=this['_splitLigh'+'ts'];for(let _0x12b7c2=0xdfe+-0x1*0xe85+-0xf*-0x9;_0x12b7c2<_0x479f5b['length'];_0x12b7c2++)_0x479f5b[_0x12b7c2]['length']=-0x8bb+-0x7b*-0x44+0xe3*-0x1b;const _0x1c9608=this['_lights'];for(let _0x11c3a2=-0x189f+0x15a4*-0x1+0x2e43;_0x11c3a2<_0x1c9608['length'];_0x11c3a2++){const _0x32c474=_0x1c9608[_0x11c3a2];_0x32c474['enabled']&&_0x479f5b[_0x32c474['_type']]['push'](_0x32c474);}for(let _0x51dde7=0xdfb+0xf7b+0x12*-0x1a3;_0x51dde7<_0x479f5b['length'];_0x51dde7++)_0x479f5b[_0x51dde7]['sort']((_0x55fed7,_0x320016)=>_0x55fed7['key']-_0x320016['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x1a14f6,_0x1e7bbc,_0x4dcb0c){let _0x7e736d=-0x1*-0x251+-0x159d+0x134c;const _0x460678=this['_lights'];for(let _0x4d67ff=-0xdc*0x2b+0x526+0x1fce;_0x4d67ff<_0x460678['length'];_0x4d67ff++){const _0xc74f85=_0x460678[_0x4d67ff]['type']!==oe;(_0x1a14f6&&_0xc74f85||_0x1e7bbc&&!_0xc74f85)&&ja['push'](_0x4dcb0c?_0x460678[_0x4d67ff]['id']:_0x460678[_0x4d67ff]['key']);}return ja['length']>0x208c+-0x1581+-0xb0b&&(ja['sort'](),_0x7e736d=Zy(ja),ja['length']=-0x824+0xe5c+-0x638),_0x7e736d;}['getLightHa'+'sh'](_0x5e770b){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(0xa*0x20b+-0x1*-0x1c45+-0x30b2*0x1),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x5e770b,!(0x1*0x6e8+0xf07*-0x1+0x81f),!(0x26ba+0x13b4+-0x3a6d))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(0x22ff+-0xe2*-0x1d+-0x3c98),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(0x33d*0xb+0x15*0x8b+-0x2f06),!(0xfc1+0x104a+0x1*-0x200a),!(0x1e4*-0xb+0x293*0x6+0x55a))),this['_lightIdHa'+'sh'];}['addCamera'](_0x4f8f95){this['camerasSet']['has'](_0x4f8f95['camera'])||(this['camerasSet']['add'](_0x4f8f95['camera']),this['cameras']['push'](_0x4f8f95),this['_dirtyComp'+'osition']=!(0x1fc7*0x1+-0x72b+0x1*-0x189c));}['removeCame'+'ra'](_0x1996c8){if(this['camerasSet']['has'](_0x1996c8['camera'])){this['camerasSet']['delete'](_0x1996c8['camera']);const _0x150f7d=this['cameras']['indexOf'](_0x1996c8);this['cameras']['splice'](_0x150f7d,0x2647+-0x11c7+0x1dd*-0xb),this['_dirtyComp'+'osition']=!(0xf06+0x68*-0x55+0x1382);}}['clearCamer'+'as'](){this['cameras']['length']=-0x973+-0x5*0x463+-0xd*-0x26a,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(-0x15*-0x189+-0x251a+-0x4dd*-0x1);}['_calculate'+'SortDistan'+'ces'](_0x4ffea9,_0xa322da,_0x2c690b,_0x532565){for(let _0x203077=0x1cea+0x21d7+0x165*-0x2d;_0x203077<_0xa322da;_0x203077++){const _0x3584b1=_0x4ffea9[_0x203077];if(_0x3584b1['layer']<=Vb)continue;if(_0x3584b1['calculateS'+'ortDistanc'+'e']){_0x3584b1['zdist']=_0x3584b1['calculateS'+'ortDistanc'+'e'](_0x3584b1,_0x2c690b,_0x532565);continue;}const _0x20c58c=_0x3584b1['aabb']['center'],_0x50addb=_0x20c58c['x']-_0x2c690b['x'],_0x4c31b6=_0x20c58c['y']-_0x2c690b['y'],_0x3fd716=_0x20c58c['z']-_0x2c690b['z'];_0x3584b1['zdist']=_0x50addb*_0x532565['x']+_0x4c31b6*_0x532565['y']+_0x3fd716*_0x532565['z'];}}['getCulledI'+'nstances'](_0x23603f){let _0x4653a3=this['_visibleIn'+'stances']['get'](_0x23603f);return _0x4653a3||(_0x4653a3=new HM(),this['_visibleIn'+'stances']['set'](_0x23603f,_0x4653a3)),_0x4653a3;}['sortVisibl'+'e'](_0x41e74d,_0x4b198f){const _0x3adaa6=_0x4b198f?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x3adaa6===dh)return;const _0x33fa6e=this['getCulledI'+'nstances'](_0x41e74d),_0x2dad63=_0x4b198f?_0x33fa6e['transparen'+'t']:_0x33fa6e['opaque'],_0x220306=_0x41e74d['node'];if(_0x3adaa6===ew){const _0x470a3a=_0x220306['getPositio'+'n'](),_0x9d34e7=_0x220306['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x2dad63,_0x2dad63['length'],_0x470a3a,_0x9d34e7),this['customSort'+'Callback']&&_0x2dad63['sort'](this['customSort'+'Callback']);}else{if(_0x3adaa6===Bm||_0x3adaa6===Jb){const _0x3bd507=_0x220306['getPositio'+'n'](),_0x276e7f=_0x220306['forward'];this['_calculate'+'SortDistan'+'ces'](_0x2dad63,_0x2dad63['length'],_0x3bd507,_0x276e7f);}_0x2dad63['sort'](GM[_0x3adaa6]);}}}const WM=(_0x298407,_0x1187ad)=>_0x298407['priority']-_0x1187ad['priority'],No=_0x328900=>_0x328900['sort'](WM);class S_ extends ce{constructor(_0x41d807='Untitled'){super(),c(this,'layerList',[]),c(this,'layerIdMap',new Map()),c(this,'layerNameM'+'ap',new Map()),c(this,'layerOpaqu'+'eIndexMap',new Map()),c(this,'layerTrans'+'parentInde'+'xMap',new Map()),c(this,'subLayerLi'+'st',[]),c(this,'subLayerEn'+'abled',[]),c(this,'cameras',[]),c(this,'_renderAct'+'ions',[]),c(this,'_dirty',!(0x1*0xb24+0x2*-0x8fe+0x6d9*0x1)),(this['name']=_0x41d807,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x389ca3=>_0x389ca3['destroy']()),this['_renderAct'+'ions']['length']=0xed7+-0x11d3+0x2fc;}['_update'](){const _0xa54b1=this['layerList']['length'];if(!this['_dirty']){for(let _0x3e978a=0x258d+-0xad*0x1e+-0x1147*0x1;_0x3e978a<_0xa54b1;_0x3e978a++)if(this['layerList'][_0x3e978a]['_dirtyComp'+'osition']){this['_dirty']=!(-0xb2*0x11+-0x1*-0xb07+0x1*0xcb);break;}}if(this['_dirty']){this['_dirty']=!(-0x110b+-0x82d+-0x1939*-0x1),this['cameras']['length']=0x3*-0x704+-0x137*-0x2+0x2*0x94f;for(let _0x22fcf1=-0x269e+0x134d+0x1351;_0x22fcf1<_0xa54b1;_0x22fcf1++){const _0x748e00=this['layerList'][_0x22fcf1];_0x748e00['_dirtyComp'+'osition']=!(-0x21af+0x11ef+0xfc1);for(let _0x50c2bd=-0x10af+0xcb0+0x5d*0xb;_0x50c2bd<_0x748e00['cameras']['length'];_0x50c2bd++){const _0x31543e=_0x748e00['cameras'][_0x50c2bd];this['cameras']['indexOf'](_0x31543e)<0x888*0x2+0x24ed+-0x35fd&&this['cameras']['push'](_0x31543e);}}this['cameras']['length']>-0x1162+0x3d*-0x65+0x2974&&No(this['cameras']);let _0x564206=-0x1*0x221+-0x84b+0x4*0x29b;this['destroyRen'+'derActions']();for(let _0x4b96dd=-0x2*-0x3da+-0xb04+0x350;_0x4b96dd<this['cameras']['length'];_0x4b96dd++){const _0x28e82f=this['cameras'][_0x4b96dd];if(_0x28e82f['camera']['renderPass'+'es']['length']>-0x943*0x2+-0x2cf*0x1+0x1555){this['addDummyRe'+'nderAction'](_0x564206,_0x28e82f),_0x564206++;continue;}let _0x17d9dc=!(-0x24d0+0xa33+0x1a9d);const _0x427ab1=_0x564206;let _0x3be28e=null,_0x422389=!(0x220a+-0x2*-0x34b+-0x289f);for(let _0x4f22f5=-0x152c+0x1253+0x2d9;_0x4f22f5<_0xa54b1;_0x4f22f5++){const _0xaa9af=this['layerList'][_0x4f22f5];if(_0xaa9af['enabled']&&this['subLayerEn'+'abled'][_0x4f22f5]&&_0xaa9af['cameras']['length']>-0x101+-0x13e*-0x18+-0x1ccf&&_0x28e82f['layers']['indexOf'](_0xaa9af['id'])>=0x114*0xa+0xe39*0x1+-0x1901){!_0x422389&&_0xaa9af['id']===_0x28e82f['disablePos'+'tEffectsLa'+'yer']&&(_0x422389=!(0x1bf7+0xa37*0x1+-0x262e),_0x3be28e&&(_0x3be28e['triggerPos'+'tprocess']=!(0x1*-0xa3+0x150f+-0x146c*0x1)));const _0x1f008a=this['subLayerLi'+'st'][_0x4f22f5];_0x3be28e=this['addRenderA'+'ction'](_0x564206,_0xaa9af,_0x1f008a,_0x28e82f,_0x17d9dc,_0x422389),_0x564206++,_0x17d9dc=!(0x1*0xec5+-0xf8b*-0x2+-0x2dda*0x1);}}_0x427ab1<_0x564206&&(_0x3be28e['lastCamera'+'Use']=!(-0x2397+-0x1782+0x3b19)),!_0x422389&&_0x3be28e&&(_0x3be28e['triggerPos'+'tprocess']=!(0x1d4f+-0x1*0x402+-0x194d)),_0x28e82f['renderTarg'+'et']&&_0x28e82f['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x427ab1-(0x10c6+0x1*0x355+-0x141a),_0x28e82f);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x10b770){v['assert'](this['_renderAct'+'ions']['length']===_0x10b770);const _0x32ad72=new D0();return this['_renderAct'+'ions']['push'](_0x32ad72),_0x32ad72;}['addDummyRe'+'nderAction'](_0x2e7a6e,_0x4977fa){const _0x1cfa91=this['getNextRen'+'derAction'](_0x2e7a6e);_0x1cfa91['camera']=_0x4977fa,_0x1cfa91['useCameraP'+'asses']=!(0xd01*0x1+-0x80c+-0x1a7*0x3);}['addRenderA'+'ction'](_0x17495d,_0x269c83,_0xda3ef2,_0x5d22ff,_0x1c06bb,_0x33c00e){let _0xd19fc2=_0x269c83['id']!==Xt?_0x5d22ff['renderTarg'+'et']:null,_0x1be749=!(0xb02+-0x3*-0x8b+0x651*-0x2);const _0xea6a6=this['_renderAct'+'ions'];for(let _0x3b9b00=_0x17495d-(0x1ab6+-0x1639*-0x1+0x1*-0x30ee);_0x3b9b00>=0xef7+0x1*-0xeb5+-0x2*0x21;_0x3b9b00--)if(_0xea6a6[_0x3b9b00]['camera']===_0x5d22ff&&_0xea6a6[_0x3b9b00]['renderTarg'+'et']===_0xd19fc2){_0x1be749=!(0x1a01+0xd21+-0x2722);break;}_0x33c00e&&_0x5d22ff['postEffect'+'sEnabled']&&(_0xd19fc2=null);const _0x15d069=this['getNextRen'+'derAction'](_0x17495d);_0x15d069['triggerPos'+'tprocess']=!(-0x4*-0x99+0x5*0x563+-0x1d52),_0x15d069['layer']=_0x269c83,_0x15d069['transparen'+'t']=_0xda3ef2,_0x15d069['camera']=_0x5d22ff,_0x15d069['renderTarg'+'et']=_0xd19fc2,_0x15d069['firstCamer'+'aUse']=_0x1c06bb,_0x15d069['lastCamera'+'Use']=!(0x26a4+-0x2f5*-0x9+0xc0*-0x57);const _0x58ee83=_0x1c06bb||!_0x1be749,_0x3cd127=_0x269c83['clearColor'+'Buffer']||_0x269c83['clearDepth'+'Buffer']||_0x269c83['clearStenc'+'ilBuffer'];return(_0x58ee83||_0x3cd127)&&_0x15d069['setupClear'+'s'](_0x58ee83?_0x5d22ff:void(0x506+-0x1bf+-0x347),_0x269c83),_0x15d069;}['propagateR'+'enderTarge'+'t'](_0x57338d,_0x1e1107){for(let _0x166e75=_0x57338d;_0x166e75>=-0x182*-0xf+0x6f*0x21+-0x89*0x45;_0x166e75--){const _0x258b63=this['_renderAct'+'ions'][_0x166e75],_0x2cbb09=_0x258b63['layer'];if(_0x258b63['renderTarg'+'et']&&_0x2cbb09['id']!==Xt)break;if(_0x2cbb09['id']===Xt)continue;if(_0x258b63['useCameraP'+'asses'])break;const _0x59bad5=_0x258b63==null?void(0xac6+-0x803*0x4+0x1546):_0x258b63['camera']['camera'];if(_0x59bad5&&(!_0x1e1107['camera']['rect']['equals'](_0x59bad5['rect'])||!_0x1e1107['camera']['scissorRec'+'t']['equals'](_0x59bad5['scissorRec'+'t'])))break;_0x258b63['renderTarg'+'et']=_0x1e1107['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(Xs['get'](pl)){v['trace'](pl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x566355=0x249b+0x424*0x5+0x394f*-0x1;_0x566355<this['_renderAct'+'ions']['length'];_0x566355++){const _0x326f8f=this['_renderAct'+'ions'][_0x566355],_0x25a144=_0x326f8f['camera'];if(_0x326f8f['useCameraP'+'asses'])v['trace'](pl,_0x566355+('CustomPass'+'es\x20Cam:\x20')+(_0x25a144?_0x25a144['entity']['name']:'-'));else{const _0x356770=_0x326f8f['layer'],_0x78270d=_0x356770['enabled']&&this['isEnabled'](_0x356770,_0x326f8f['transparen'+'t']),_0x2fa283=(_0x326f8f['clearColor']?'Color\x20':'.....\x20')+(_0x326f8f['clearDepth']?'Depth\x20':'.....\x20')+(_0x326f8f['clearStenc'+'il']?'Stencil':'.......');v['trace'](pl,_0x566355+('\x20Cam:\x20'+(_0x25a144?_0x25a144['entity']['name']:'-'))['padEnd'](0x35b*-0xb+0x2245+0x2*0x15d,'\x20')+('\x20Lay:\x20'+_0x356770['name'])['padEnd'](-0x11*0x151+0xbb8+0xabf,'\x20')+(_0x326f8f['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x78270d?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x326f8f['renderTarg'+'et']?_0x326f8f['renderTarg'+'et']['name']:'-'))['padEnd'](-0x1c*-0x155+-0x3d*0x9c+0x1*-0x2,'\x20')+'\x20Clear:\x20'+_0x2fa283+(_0x326f8f['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x326f8f['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x326f8f['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x52ca6a){const _0x57f531=this['layerIdMap']['get'](_0x52ca6a['id'])===_0x52ca6a;return v['assert'](!_0x57f531,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x52ca6a['name']),_0x57f531;}['_isSublaye'+'rAdded'](_0xb79593,_0x54ada0){return(_0x54ada0?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0xb79593)!==void(0x604+0x1*0x10d+0x25b*-0x3)?(v['error']('Sublayer\x20'+_0xb79593['name']+(',\x20transpar'+'ent:\x20')+_0x54ada0+('\x20is\x20alread'+'y\x20added.')),!(-0x130f+0x86*-0xf+-0x1ae9*-0x1)):!(0x2*0x83f+-0xc71+-0x40c);}['push'](_0x54f5bb){this['_isLayerAd'+'ded'](_0x54f5bb)||(this['layerList']['push'](_0x54f5bb),this['layerList']['push'](_0x54f5bb),this['_opaqueOrd'+'er'][_0x54f5bb['id']]=this['subLayerLi'+'st']['push'](!(-0x1934+-0x7*0x381+0x31bc))-(0x1*0xfb+-0x1711+-0x57*-0x41),this['_transpare'+'ntOrder'][_0x54f5bb['id']]=this['subLayerLi'+'st']['push'](!(-0x80a+0xdc1+0x7*-0xd1))-(-0x186b+-0xd1e+0x1f*0x136),this['subLayerEn'+'abled']['push'](!(0x2d5+0x11ac+-0x1481)),this['subLayerEn'+'abled']['push'](!(0xf03+-0x4*-0x378+-0x1ce3)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1*0x1f7b+0xc57+-0x7*-0x2bc),this['fire']('add',_0x54f5bb));}['insert'](_0x382a38,_0x4bea90){if(this['_isLayerAd'+'ded'](_0x382a38))return;this['layerList']['splice'](_0x4bea90,-0x6fc+-0xda4+0x14a0,_0x382a38,_0x382a38),this['subLayerLi'+'st']['splice'](_0x4bea90,-0x1502+0x77*0x4b+-0xddb,!(-0x12df+-0x529*-0x1+0x1*0xdb7),!(-0x18bb+0x1*0x5ff+0x12bc));const _0x4b3348=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x4bea90,_0x4b3348-(-0x1b8a*0x1+-0x1c18+0x37a3)),this['_updateTra'+'nsparentOr'+'der'](_0x4bea90,_0x4b3348-(0x1*-0x132d+0x93a+0x1*0x9f4)),this['subLayerEn'+'abled']['splice'](_0x4bea90,0x141*-0x2+-0x1075+0x5*0x3cb,!(0x1*-0xd3f+0xa1a*-0x2+0x2173),!(0x4ff*-0x3+-0x1591*-0x1+-0x34a*0x2)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0xf41+0x1be2+-0x2b23),this['fire']('add',_0x382a38);}['remove'](_0x36214c){let _0x5b4365=this['layerList']['indexOf'](_0x36214c);for(delete this['_opaqueOrd'+'er'][_0x5b4365],delete this['_transpare'+'ntOrder'][_0x5b4365];_0x5b4365>=0x65*0x12+0x1816+-0x1f30;)this['layerList']['splice'](_0x5b4365,-0x43*-0x5+-0x1f13+0x1dc5),this['subLayerLi'+'st']['splice'](_0x5b4365,0x2360+-0x212c+-0x233),this['subLayerEn'+'abled']['splice'](_0x5b4365,0x1bf3+0x1*-0x4e3+-0x170f),_0x5b4365=this['layerList']['indexOf'](_0x36214c),this['_dirty']=!(0x72a+-0x13f1*0x1+0x1*0xcc7),this['fire']('remove',_0x36214c);const _0x4a5f14=this['layerList']['length'];this['_updateOpa'+'queOrder'](0x4cd*0x7+0xa44+-0x2bdf,_0x4a5f14-(0x2045*0x1+-0x1701+-0x943)),this['_updateTra'+'nsparentOr'+'der'](0x108d+0xd7*0x7+-0x16*0x105,_0x4a5f14-(0x20ca+-0x166d+-0xa5c)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x3d692e){this['_isSublaye'+'rAdded'](_0x3d692e,!(0x847*-0x1+0x3*-0x577+0x1*0x18ad))||(this['layerList']['push'](_0x3d692e),this['_opaqueOrd'+'er'][_0x3d692e['id']]=this['subLayerLi'+'st']['push'](!(0xd8*0x10+-0x20fd+-0x1f3*-0xa))-(-0xe4b*-0x2+-0x12dd*0x2+0x925),this['subLayerEn'+'abled']['push'](!(0xd7b*-0x1+0x2068+-0x12ed)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x4da+-0x3*0x7a9+-0x77*-0x27),this['fire']('add',_0x3d692e));}['insertOpaq'+'ue'](_0x5a2c19,_0x35c8ad){if(this['_isSublaye'+'rAdded'](_0x5a2c19,!(-0x685*0x1+-0x3*-0x67+-0x551*-0x1)))return;this['layerList']['splice'](_0x35c8ad,-0x5*0x732+-0x2*0x497+0x2d28,_0x5a2c19),this['subLayerLi'+'st']['splice'](_0x35c8ad,-0x46*-0x41+0x16a0+-0x2*0x1433,!(-0x2*-0xf1+0xbdf+0x50*-0x2c));const _0x378957=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x35c8ad,_0x378957-(0x1871*-0x1+-0x21fa*-0x1+0xf4*-0xa)),this['subLayerEn'+'abled']['splice'](_0x35c8ad,-0x18*0x15a+0xd3*0x1+0x1*0x1f9d,!(-0x1280+0x1139*-0x1+0x1*0x23b9)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0xf68*0x1+-0x49*0x4c+-0x153*-0x1c),this['fire']('add',_0x5a2c19);}['removeOpaq'+'ue'](_0x772128){for(let _0x3f8590=-0x335*0x5+0x1c63+0x41e*-0x3,_0x5495b2=this['layerList']['length'];_0x3f8590<_0x5495b2;_0x3f8590++)if(this['layerList'][_0x3f8590]===_0x772128&&!this['subLayerLi'+'st'][_0x3f8590]){this['layerList']['splice'](_0x3f8590,0x902*-0x1+-0x20ed*-0x1+-0x17ea),this['subLayerLi'+'st']['splice'](_0x3f8590,0x1993+-0x1fda+0x648),_0x5495b2--,this['_updateOpa'+'queOrder'](_0x3f8590,_0x5495b2-(-0x19*-0x11b+-0x1*0xfe+0x37*-0x7c)),this['subLayerEn'+'abled']['splice'](_0x3f8590,-0x1283+0xb83*0x3+-0x557*0x3),this['_dirty']=!(0x178c+0x1d3d+-0x34c9),this['layerList']['indexOf'](_0x772128)<0x16af*-0x1+0x1aaa+0x3fb*-0x1&&this['fire']('remove',_0x772128);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x191974){this['_isSublaye'+'rAdded'](_0x191974,!(-0x1f02+0xcd2*0x3+-0x774))||(this['layerList']['push'](_0x191974),this['_transpare'+'ntOrder'][_0x191974['id']]=this['subLayerLi'+'st']['push'](!(0x1b25+-0x3a*-0x3d+-0x28f7))-(-0x2e3*0x2+-0x22af+0x2876),this['subLayerEn'+'abled']['push'](!(-0x1a8c+0x153+0x1939)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x293+0x597*0x1+-0x304),this['fire']('add',_0x191974));}['insertTran'+'sparent'](_0x1b6dad,_0x194049){if(this['_isSublaye'+'rAdded'](_0x1b6dad,!(-0x10*0xd3+0x2*-0xe76+0xc4*0x37)))return;this['layerList']['splice'](_0x194049,0xb7c+-0x4a*0x45+0x876,_0x1b6dad),this['subLayerLi'+'st']['splice'](_0x194049,0xd6*0xe+-0x1bdb+-0x1027*-0x1,!(0x1*0x2324+-0x13cc+-0x4*0x3d6));const _0x1698d8=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x194049,_0x1698d8-(0x1160+0xef*0x16+-0x25e9*0x1)),this['subLayerEn'+'abled']['splice'](_0x194049,-0x1148+0x1e9f+-0x2ab*0x5,!(-0x4*0x106+-0x70d*0x1+0xb25*0x1)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x173+-0x101b+0x10c*0xe),this['fire']('add',_0x1b6dad);}['removeTran'+'sparent'](_0x33117d){for(let _0x18051d=0xa0*-0x3d+-0x1*0x494+0x2ab4,_0xa591a0=this['layerList']['length'];_0x18051d<_0xa591a0;_0x18051d++)if(this['layerList'][_0x18051d]===_0x33117d&&this['subLayerLi'+'st'][_0x18051d]){this['layerList']['splice'](_0x18051d,-0x36e+0x542*0x1+0x1*-0x1d3),this['subLayerLi'+'st']['splice'](_0x18051d,0x2*-0x6d+-0xe11+0xeec),_0xa591a0--,this['_updateTra'+'nsparentOr'+'der'](_0x18051d,_0xa591a0-(-0x675+-0x1*-0x1ab9+-0x85*0x27)),this['subLayerEn'+'abled']['splice'](_0x18051d,-0x797+-0xaff*0x3+0x2895),this['_dirty']=!(0x24f4+-0xd1e+-0x153*0x12),this['layerList']['indexOf'](_0x33117d)<0x844*-0x1+-0x2*-0x1af+0x4e6&&this['fire']('remove',_0x33117d);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x1623c7){return this['layerOpaqu'+'eIndexMap']['get'](_0x1623c7)??-(-0x11*-0xa0+-0x11f5*-0x2+0x3*-0xf83);}['getTranspa'+'rentIndex'](_0x388f00){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x388f00)??-(-0x1146*-0x2+-0x1*-0x905+0x2*-0x15c8);}['isEnabled'](_0x2ba09c,_0x59f90c){if(_0x2ba09c['enabled']){const _0x105f55=_0x59f90c?this['getTranspa'+'rentIndex'](_0x2ba09c):this['getOpaqueI'+'ndex'](_0x2ba09c);if(_0x105f55>=-0x3*-0x25a+0x1*0x6bb+0x1*-0xdc9)return this['subLayerEn'+'abled'][_0x105f55];}return!(-0x1d7b+-0x9a4+0x2720);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x47d2c2=-0x1*-0x1d23+-0x1*-0xf1d+0x4*-0xb10;_0x47d2c2<this['layerList']['length'];_0x47d2c2++){const _0x271f28=this['layerList'][_0x47d2c2];this['layerIdMap']['set'](_0x271f28['id'],_0x271f28),this['layerNameM'+'ap']['set'](_0x271f28['name'],_0x271f28),(this['subLayerLi'+'st'][_0x47d2c2]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x271f28,_0x47d2c2);}}['getLayerBy'+'Id'](_0x3f376d){return this['layerIdMap']['get'](_0x3f376d)??null;}['getLayerBy'+'Name'](_0x52cf09){return this['layerNameM'+'ap']['get'](_0x52cf09)??null;}['_updateOpa'+'queOrder'](_0x1b6a40,_0x40f414){for(let _0xf91bcb=_0x1b6a40;_0xf91bcb<=_0x40f414;_0xf91bcb++)this['subLayerLi'+'st'][_0xf91bcb]===!(0x66*0x16+0x1*-0x575+-0x34e)&&(this['_opaqueOrd'+'er'][this['layerList'][_0xf91bcb]['id']]=_0xf91bcb);}['_updateTra'+'nsparentOr'+'der'](_0x3696b8,_0x47adee){for(let _0x5c6fa1=_0x3696b8;_0x5c6fa1<=_0x47adee;_0x5c6fa1++)this['subLayerLi'+'st'][_0x5c6fa1]===!(-0x1*0x244b+0x17a+0x22d1*0x1)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x5c6fa1]['id']]=_0x5c6fa1);}['_sortLayer'+'sDescendin'+'g'](_0xc70daa,_0x159a54,_0xf4d2ac){let _0x23cea3=-(-0x191+0x1*0x683+-0x4f1),_0x2f8486=-(0x2*0x12e6+-0x4f7+-0x20d4);for(let _0x102175=0x189*0x1+0xd*0x20b+0x1d*-0xf8,_0x1366e0=_0xc70daa['length'];_0x102175<_0x1366e0;_0x102175++){const _0x114124=_0xc70daa[_0x102175];_0xf4d2ac['hasOwnProp'+'erty'](_0x114124)&&(_0x23cea3=Math['max'](_0x23cea3,_0xf4d2ac[_0x114124]));}for(let _0x3f891f=-0x8*-0x251+0x1f75+-0xbf*0x43,_0x2bc133=_0x159a54['length'];_0x3f891f<_0x2bc133;_0x3f891f++){const _0x4cac1b=_0x159a54[_0x3f891f];_0xf4d2ac['hasOwnProp'+'erty'](_0x4cac1b)&&(_0x2f8486=Math['max'](_0x2f8486,_0xf4d2ac[_0x4cac1b]));}return _0x23cea3===-(0xde7+0x43*0x1b+0x1*-0x14f7)&&_0x2f8486!==-(0x12ed+0x495+0x223*-0xb)?0x14c4+0xb47*-0x1+-0x97c:_0x2f8486===-(0x2542+-0x2542+-0x1*-0x1)&&_0x23cea3!==-(0x10b1+-0x1*-0xb64+-0x4ae*0x6)?-(-0x7*0x4e6+0x357+0x4*0x7bd):_0x2f8486-_0x23cea3;}['sortTransp'+'arentLayer'+'s'](_0x28e149,_0x218958){return this['_sortLayer'+'sDescendin'+'g'](_0x28e149,_0x218958,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x502de7,_0x2cd4d9){return this['_sortLayer'+'sDescendin'+'g'](_0x502de7,_0x2cd4d9,this['_opaqueOrd'+'er']);}}const kl=new T(),ti={'bias':0x0,'normalBias':0x0},Ya=new Y(),Ud={'r':0x0,'g':0x1,'b':0x2,'a':0x3},Gu={'directional':oe,'omni':Pe,'point':Pe,'spot':Re},$M=[[new Q(0x1a3*0x7+0x122d+-0x1da2,0x38b*0x6+-0x2668+0x5*0x36e,-0x1a72+-0x2589+0x3ffc,0x17f*0x1+0xb26*0x3+-0xac*0x34)],[new Q(0xcc*-0x2b+-0xb1a*-0x3+0x52*0x3,0x2*0xaf9+-0x61b+-0x32b*0x5,-0xa16*0x3+0x7*-0x232+0x2da0+0.5,-0x13ca+0x7e5*0x1+-0x91*-0x15+0.5),new Q(0x1*-0x1b31+0x7c4+0x1*0x136d,0x32a+-0x1*0x25ee+-0x14*-0x1bd+0.5,-0x1dc5*0x1+0x1*0x1481+0x944+0.5,0x13dd+-0x1f31+-0x64*-0x1d+0.5)],[new Q(-0x1*0x261a+0x3e8+-0x3*-0xb66,-0x137b+-0x224f*0x1+0x35ca,0x2*-0x228+-0x2e1*0xd+0x29bd*0x1+0.5,0x2aa*-0x8+-0xb*0x17f+0x25c5+0.5),new Q(-0x1b0c+0x1f2e+-0x2e*0x17,-0x2699+-0xcc8*0x2+-0x447*-0xf+0.5,-0x149b+0x13af+-0x3b*-0x4+0.5,-0x1*0x2a4+-0x1d4+0x478+0.5),new Q(0x27*-0x57+0x1*0x4ba+-0x887*-0x1+0.5,0x5*-0x207+-0x1da3+0x2*0x13e3,0x7*-0x367+0x2*0xb19+-0x1*-0x19f+0.5,0x2365+-0x1191*0x2+-0x43+0.5)],[new Q(-0x1343*0x2+0x13ec+0x129a,0xb76+-0x1b71+-0x1*-0xffb,0x20ff+0x1dba+0x3eb9*-0x1+0.5,0x601+-0x1fc9+0x19c8+0.5),new Q(0x24ac+-0x109c+-0x1410,0x56*-0x51+-0x9f7+-0x1*-0x252d+0.5,0x15ef+-0x1ee3*-0x1+-0x34d2+0.5,0xddd+-0x20cd+0x12f0+0.5),new Q(-0x1947*0x1+-0xdcf+-0x2*-0x138b+0.5,-0x901+-0x7*0x515+0x164a*0x2,0x2*-0xcf4+-0x2*0xd0b+-0x33fe*-0x1+0.5,-0x1419+-0x67f+0x4a*0x5c+0.5),new Q(-0x8*-0x3e4+-0x1*-0xd24+-0xb11*0x4+0.5,-0x1e*0xfb+0x24a7+-0x1*0x73d+0.5,-0x13f5+0x257e+-0x1189+0.5,0xa*0x245+-0x15b*0xb+-0x1*0x7c9+0.5)]];let qM=-0x8c0+0x6*-0x5f5+0x2c7e;class XM{constructor(_0x9576ac,_0x51b2e9,_0x17ebcd){this['light']=_0x17ebcd,this['camera']=_0x9576ac,this['shadowCame'+'ra']=I0['createShad'+'owCamera'](_0x17ebcd['_shadowTyp'+'e'],_0x17ebcd['_type'],_0x51b2e9),this['shadowMatr'+'ix']=new q(),this['shadowView'+'port']=new Q(-0x197*0x10+-0x2*0xec3+0x36f6,-0x815+0x8*-0x20e+0x1885*0x1,0x8*-0x148+-0xd88+0x17c9*0x1,-0xc79*0x1+-0x17f7+0x13*0x1eb),this['shadowScis'+'sor']=new Q(0x1300+-0x1cc9+0x9c9,-0x121*-0x1+0x2059+-0x359*0xa,0xb8a*0x1+-0x19c4+0xe3b,0x1e1f+-0x7*0x3e9+-0x1*0x2bf),this['projection'+'Compensati'+'on']=-0x2*-0x282+-0x7cd+0x2c9,this['face']=_0x51b2e9,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x5943ee=>{_0x5943ee['defaultUni'+'formBuffer']['destroy'](),_0x5943ee['destroy']();}),this['viewBindGr'+'oups']['length']=0x1415*0x1+-0x14*-0x7+-0x1*0x14a1;}get['shadowBuff'+'er'](){const _0x1f67c6=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x1f67c6?this['light']['_isPcf']?_0x1f67c6['depthBuffe'+'r']:_0x1f67c6['colorBuffe'+'r']:null;}}class zo{constructor(_0x17a529,_0xafef0){c(this,'layers',new Set()),c(this,'clusteredL'+'ighting'),c(this,'shadowDept'+'hState',as['DEFAULT']['clone']()),(this['device']=_0x17a529,this['clusteredL'+'ighting']=_0xafef0,this['id']=qM++,this['_type']=oe,this['_color']=new Y(-0x1b*-0x13b+0x1*-0xa11+-0x1728+0.8,0x6b*0x23+0x1edc+-0x919*0x5+0.8,-0xce*0x2d+0x1525*0x1+0x227*0x7+0.8),this['_intensity']=-0x589+0xe*-0x1dc+0x1c1*0x12,this['_affectSpe'+'cularity']=!(0x1303+-0x8*0x237+-0x14b),this['_luminance']=0xd67+0x16ca+-0x2431,this['_castShado'+'ws']=!(0x623*-0x4+0x17c7+0x42*0x3),this['_enabled']=!(0x1f0f*0x1+0x1d12+-0x20*0x1e1),this['_mask']=hs,this['isStatic']=!(0xd2f+0x1398+0x20c6*-0x1),this['key']=0xbec+0x41f+0x1*-0x100b,this['bakeDir']=!(0x1a01+0x14cd+-0x2ece),this['bakeNumSam'+'ples']=0x25ea+-0xe47+0xf2*-0x19,this['bakeArea']=0x1fb6+-0xc*-0x31d+-0x4512*0x1,this['attenuatio'+'nStart']=0xefc+-0xd52+0x68*-0x4,this['attenuatio'+'nEnd']=0x1d28*-0x1+0x1*-0x1ba3+0x38d5*0x1,this['_falloffMo'+'de']=wp,this['_shadowTyp'+'e']=Dt,this['_vsmBlurSi'+'ze']=0x1a0d+-0x4c4*-0x8+-0x2*0x2011,this['vsmBlurMod'+'e']=Tp,this['vsmBias']=(-0x2099+0x3e5*0x1+-0x14e*-0x16+0.01)*(0x23*-0x25+0x1c1+0x34e+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=0x24fd+0xbce+-0x30ca,this['_cookieFal'+'loff']=!(0x2205+0x39*0x76+0x5*-0xc0f),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(-0x7*0x550+-0x1a9b+0x9*0x717),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(-0x2*-0x12e7+0x8d*0x21+-0x37f9),this['_cookieTra'+'nsformSet']=!(0x35*0x4f+-0x1d*-0x10+-0x122a),this['_cookieOff'+'setSet']=!(-0x126b+0xb*0x8e+-0xc52*-0x1),this['_innerCone'+'Angle']=-0x37*0xa9+0x2065+0x412,this['_outerCone'+'Angle']=-0x1cf*-0x15+-0x647+-0x1f87,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=-0x538*-0x5+-0x1c3d+0x226,this['_cascadeBl'+'end']=-0x92a+0x119f+0x5*-0x1b1,this['cascadeDis'+'tribution']=-0xd*0x257+0x2b*-0x2b+-0x12d2*-0x2+0.5,this['_shape']=yt,this['_colorLine'+'ar']=new Float32Array(-0x6af+0x35+0xb*0x97),this['_updateLin'+'earColor'](),this['_position']=new T(-0x1d9b+0x114a+-0x1*-0xc51,0x2419+-0x620+-0x1df9*0x1,-0x51a+0x136*0x5+0xf4*-0x1),this['_direction']=new T(0x26e6+-0x743+0x26f*-0xd,-0xa6*-0x17+-0x162a+0x740,0xf9d+0x1041+-0x2*0xfef),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(0x1*0xf57+0x2417+0x32ba*-0x1)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(-0x1*-0x1c95+-0x23a6+0x711),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=0x2f*0x7f+0x90b+-0x2af*0xc,this['_shadowRes'+'olution']=0x847+0x18d3+-0x1d1a,this['_shadowBia'+'s']=-(0x757*0x4+-0x13d+-0x1c1f+0.0005),this['shadowInte'+'nsity']=-0xb12*-0x1+0x1960+-0x1*0x2471,this['_normalOff'+'setBias']=0x1b08+0x14f5+-0x2ffd,this['shadowUpda'+'teMode']=Pp,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(-0x2054+0x2641*0x1+-0x5ec),this['_isPcf']=!(-0x6ad+-0x316*0x1+-0x93*-0x11),this['_softShado'+'wParams']=new Float32Array(0x2*-0x833+-0x1*0x129e+0x8*0x461),this['shadowSamp'+'les']=-0x435*0x6+0x8b1+0x109d*0x1,this['shadowBloc'+'kerSamples']=0x243d*0x1+-0xd61+0x4*-0x5b3,this['penumbraSi'+'ze']=0x17e3*0x1+0x1472+-0x2c54,this['penumbraFa'+'lloff']=0x215c+-0x2ef*0x2+0x1f*-0xe3,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x1cc*-0x4+0x1e57+0x3*-0xc82),this['atlasVersi'+'on']=-0x11*0x3+-0x2*-0x5ed+-0xba7*0x1,this['atlasSlotI'+'ndex']=0x1d3e+0x8cd+-0x260b,this['atlasSlotU'+'pdated']=!(-0xdaf*-0x1+0x1*-0x2604+-0x26f*-0xa),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(-0xc25+0x1*0x2021+0x5d*-0x37),this['maxScreenS'+'ize']=0xcea+0x147b+-0x2165,this['_updateSha'+'dowBias']());}['destroy'](){this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x344306=-0x1dad+0x3*-0x6da+0x323b;_0x344306<this['_renderDat'+'a']['length'];_0x344306++)this['_renderDat'+'a'][_0x344306]['destroy']();this['_renderDat'+'a']['length']=-0x25+0x1aa3+0xd3f*-0x2;}}['addLayer'](_0x3d0ec7){this['layers']['add'](_0x3d0ec7);}['removeLaye'+'r'](_0x57dd13){this['layers']['delete'](_0x57dd13);}set['shadowSamp'+'les'](_0x116125){this['_softShado'+'wParams'][0xa*-0x1fd+0x5cf+-0xe13*-0x1]=_0x116125;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][-0x1d6a+-0x1dc+0x2*0xfa3];}set['shadowBloc'+'kerSamples'](_0x2b3a26){this['_softShado'+'wParams'][0x11+-0x1*-0x17b5+-0x17c5]=_0x2b3a26;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][0x1c55+0x1b6f+0xb27*-0x5];}set['shadowBias'](_0x4f3ec3){this['_shadowBia'+'s']!==_0x4f3ec3&&(this['_shadowBia'+'s']=_0x4f3ec3,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0xa93e27){(!this['cascades']||this['numCascade'+'s']!==_0xa93e27)&&(this['cascades']=$M[_0xa93e27-(0xb*0x342+0x2309+-0x46de)],this['_shadowMat'+'rixPalette']=new Float32Array((0x26d7+0x6f1*0x4+0x4297*-0x1)*(-0x14a0+-0x1d49+-0x31f9*-0x1)),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(0x915+-0xa11+-0x1*-0x100),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x1aca3e){this['_cascadeBl'+'end']!==_0x1aca3e&&(this['_cascadeBl'+'end']=_0x1aca3e,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x5d3978){this['_shadowMap']!==_0x5d3978&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x5d3978);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x596179){this['_mask']!==_0x596179&&(this['_mask']=_0x596179,this['updateKey']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x32a5b0=this['_type'];return _0x32a5b0===oe?this['numCascade'+'s']:_0x32a5b0===Pe?-0x1946+0x26fd+-0x5*0x2bd:0x5*-0x653+-0xb8*-0x9+0x1928;}set['type'](_0x102d7a){if(this['_type']===_0x102d7a)return;this['_type']=_0x102d7a,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey']();const _0x52c2f0=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x52c2f0;}get['type'](){return this['_type'];}set['shape'](_0x3f4ede){if(this['_shape']===_0x3f4ede)return;this['_shape']=_0x3f4ede,this['_destroySh'+'adowMap'](),this['updateKey']();const _0x41d987=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x41d987;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0xe0173a){this['_usePhysic'+'alUnits']!==_0xe0173a&&(this['_usePhysic'+'alUnits']=_0xe0173a,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x710948){if(this['_shadowTyp'+'e']===_0x710948)return;const _0x2c7642=this['device'];_0x710948===Ts&&!_0x2c7642['textureFlo'+'atRenderab'+'le']&&!_0x2c7642['textureHal'+'fFloatRend'+'erable']&&(_0x710948=Dt),this['_type']===Pe&&_0x710948!==Bh&&_0x710948!==Dt&&_0x710948!==Nh&&_0x710948!==zh&&_0x710948!==Ts&&(_0x710948=Dt),_0x710948===Wr&&(!_0x2c7642['textureFlo'+'atRenderab'+'le']||!_0x2c7642['textureFlo'+'atFilterab'+'le'])&&(_0x710948=Hr),_0x710948===Hr&&!_0x2c7642['textureHal'+'fFloatRend'+'erable']&&(_0x710948=Dt);const _0x3ab785=ir['get'](_0x710948);this['_isVsm']=(_0x3ab785==null?void(-0x1*0x426+0x1*0x14ad+0x1087*-0x1):_0x3ab785['vsm'])??!(-0x22df+-0x1fa6*-0x1+0x33a),this['_isPcf']=(_0x3ab785==null?void(-0x8a5*-0x1+-0x1*0x1d9c+-0x14f7*-0x1):_0x3ab785['pcf'])??!(-0x385*-0x7+0x1*0x48b+0x1d2d*-0x1),this['_shadowTyp'+'e']=_0x710948,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x3a9f59){this['_enabled']!==_0x3a9f59&&(this['_enabled']=_0x3a9f59,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x5a3364){this['_castShado'+'ws']!==_0x5a3364&&(this['_castShado'+'ws']=_0x5a3364,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==rr&&this['_mask']!==0x679+-0x2*-0x71d+-0x2f5*0x7;}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===rr;}set['shadowReso'+'lution'](_0x2aef4f){this['_shadowRes'+'olution']!==_0x2aef4f&&(this['_type']===Pe?_0x2aef4f=Math['min'](_0x2aef4f,this['device']['maxCubeMap'+'Size']):_0x2aef4f=Math['min'](_0x2aef4f,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x2aef4f,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x3f9fb3){this['_vsmBlurSi'+'ze']!==_0x3f9fb3&&(_0x3f9fb3%(0x43f*-0x4+0x4bd*0x6+-0xb70)===0x25ff+0x25df+-0x25ef*0x2&&_0x3f9fb3++,this['_vsmBlurSi'+'ze']=_0x3f9fb3);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x1216d9){if(this['_normalOff'+'setBias']!==_0x1216d9){const _0x203efc=!this['_normalOff'+'setBias']&&_0x1216d9||this['_normalOff'+'setBias']&&!_0x1216d9;this['_normalOff'+'setBias']=_0x1216d9,_0x203efc&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x24a41f){this['_falloffMo'+'de']!==_0x24a41f&&(this['_falloffMo'+'de']=_0x24a41f,this['updateKey']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0xf30af7){this['_innerCone'+'Angle']!==_0xf30af7&&(this['_innerCone'+'Angle']=_0xf30af7,this['_innerCone'+'AngleCos']=Math['cos'](_0xf30af7*Math['PI']/(-0x1b11+0x42d*0x5+-0x54*-0x15)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x48c675){this['_outerCone'+'Angle']!==_0x48c675&&(this['_outerCone'+'Angle']=_0x48c675,this['_updateOut'+'erAngle'](_0x48c675),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x575b7c){this['_penumbraS'+'ize']=_0x575b7c,this['_softShado'+'wParams'][-0xa*-0x14c+0x2*0x5c5+-0x1880]=_0x575b7c;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x5f3e5d){this['_softShado'+'wParams'][0x136c+0x1fed+0x2*-0x19ab]=_0x5f3e5d;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][0x254b+-0xf16+-0xb19*0x2];}['_updateOut'+'erAngle'](_0x18c9f0){const _0x4ebbf8=_0x18c9f0*Math['PI']/(-0x1*0x1b9d+0x43f+0x1812);this['_outerCone'+'AngleCos']=Math['cos'](_0x4ebbf8),this['_outerCone'+'AngleSin']=Math['sin'](_0x4ebbf8);}set['intensity'](_0x11f409){this['_intensity']!==_0x11f409&&(this['_intensity']=_0x11f409,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x21b945){this['_type']===oe&&(this['_affectSpe'+'cularity']=_0x21b945,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x21fe7e){this['_luminance']!==_0x21fe7e&&(this['_luminance']=_0x21fe7e,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new q()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new Q(-0x27*-0x55+-0x2f*0xc7+0x1796,-0x8*-0xf8+0x22*-0xeb+0x1776,0x1*0x11f3+-0x5fc+-0xbf6,-0x3*-0x718+-0x14da+-0x6d)),this['_atlasView'+'port'];}set['cookie'](_0x4dc542){this['_cookie']!==_0x4dc542&&(this['_cookie']=_0x4dc542,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x115e4b){this['_cookieFal'+'loff']!==_0x115e4b&&(this['_cookieFal'+'loff']=_0x115e4b,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0xe4003d){if(this['_cookieCha'+'nnel']!==_0xe4003d){if(_0xe4003d['length']<-0x1*-0xbd7+0x2fc*-0xc+0x17fc){const _0x2a3319=_0xe4003d['charAt'](_0xe4003d['length']-(0xc6f+0x8*-0x16a+-0x11e)),_0x5ab6f8=-0x64*0x49+-0x1570+0x31f7-_0xe4003d['length'];for(let _0x33ca06=0x4b*-0x20+-0x6*-0x3d8+-0x3*0x490;_0x33ca06<_0x5ab6f8;_0x33ca06++)_0xe4003d+=_0x2a3319;}this['_cookieCha'+'nnel']=_0xe4003d,this['updateKey']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x17e427){this['_cookieTra'+'nsform']!==_0x17e427&&(this['_cookieTra'+'nsform']=_0x17e427,this['_cookieTra'+'nsformSet']=!!_0x17e427,_0x17e427&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new W(),this['_cookieOff'+'setSet']=!(0x493*-0x8+0x1b11+0x988)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x5c5b82){if(this['_cookieOff'+'set']===_0x5c5b82)return;!!(this['_cookieTra'+'nsformSet']||_0x5c5b82)&&!_0x5c5b82&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](0x231*0x3+-0x412*-0x9+-0x2b35,-0x1*0x1540+0x378+0x11c8):this['_cookieOff'+'set']=_0x5c5b82,this['_cookieOff'+'setSet']=!!_0x5c5b82,_0x5c5b82&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new Q(-0x3*-0xa4e+0xf*-0x83+0x1*-0x173c,0x1ee1+-0x1aeb+-0x3f5,0xda1+0x3a8+-0x1149,-0xd0b+-0x1571+0x227c),this['_cookieTra'+'nsformSet']=!(-0x7ad+-0x2*0x11f4+0x15cb*0x2)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===oe&&this['_enabled'],this['maxScreenS'+'ize']=-0x115c+-0x8*-0x3ce+-0x6c*0x1f,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x1f49+0x1*-0xbc9+-0x1*-0x2b13),this['atlasSlotU'+'pdated']=!(0x5*0x240+0x20ff*0x1+-0x2c3e);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=cn),this['shadowUpda'+'teOverride'+'s']){for(let _0x1dc4f2=0x1*-0x59c+-0x7*0x27b+-0x16f9*-0x1;_0x1dc4f2<this['shadowUpda'+'teOverride'+'s']['length'];_0x1dc4f2++)this['shadowUpda'+'teOverride'+'s'][_0x1dc4f2]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x1dc4f2]=cn);}}['getRenderD'+'ata'](_0x289fda,_0x40921b){for(let _0x13224d=-0x17ff*0x1+0x649*-0x5+0x376c;_0x13224d<this['_renderDat'+'a']['length'];_0x13224d++){const _0x2e55de=this['_renderDat'+'a'][_0x13224d];if(_0x2e55de['camera']===_0x289fda&&_0x2e55de['face']===_0x40921b)return _0x2e55de;}const _0x381ce2=new XM(_0x289fda,_0x40921b,this);return this['_renderDat'+'a']['push'](_0x381ce2),_0x381ce2;}['clone'](){const _0x9fc2a3=new zo(this['device'],this['clusteredL'+'ighting']);return _0x9fc2a3['type']=this['_type'],_0x9fc2a3['setColor'](this['_color']),_0x9fc2a3['intensity']=this['_intensity'],_0x9fc2a3['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x9fc2a3['luminance']=this['_luminance'],_0x9fc2a3['castShadow'+'s']=this['castShadow'+'s'],_0x9fc2a3['_enabled']=this['_enabled'],_0x9fc2a3['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x9fc2a3['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x9fc2a3['falloffMod'+'e']=this['_falloffMo'+'de'],_0x9fc2a3['shadowType']=this['_shadowTyp'+'e'],_0x9fc2a3['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x9fc2a3['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x9fc2a3['vsmBias']=this['vsmBias'],_0x9fc2a3['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x9fc2a3['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x9fc2a3['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x9fc2a3['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x9fc2a3['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x9fc2a3['numCascade'+'s']=this['numCascade'+'s'],_0x9fc2a3['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x9fc2a3['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x9fc2a3['shape']=this['_shape'],_0x9fc2a3['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x9fc2a3['shadowBias']=this['shadowBias'],_0x9fc2a3['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x9fc2a3['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x9fc2a3['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x9fc2a3['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x9fc2a3['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x9fc2a3['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x9fc2a3['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x9fc2a3['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x9fc2a3;}static['getLightUn'+'itConversi'+'on'](_0x394430,_0x57e49f=Math['PI']/(0x10*-0x112+-0x9c4+-0x23e*-0xc),_0x4af5da=-0xe1f+0x2e*-0x2f+0x1691){switch(_0x394430){case Re:{const _0x2bc876=Math['cos'](_0x57e49f),_0x583944=Math['cos'](_0x4af5da);return(-0x3*0x647+-0x1*0x1d1d+-0xbfd*-0x4)*Math['PI']*(-0x1a19*0x1+0xe1c+0xbfe-_0x583944+(_0x583944-_0x2bc876)/(-0x74*-0xb+-0x1*-0x1a6f+-0x1f69));}case Pe:return(0x1*0x1063+-0x1*-0xa3+-0x1102)*Math['PI'];case oe:return-0x2580+0x8a*0x35+0x8ef;}}['_getUnifor'+'mBiasValue'+'s'](_0x4e701a){const _0x342121=_0x4e701a['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Pe:ti['bias']=this['shadowBias'],ti['normalBias']=this['_normalOff'+'setBias'];break;case Re:this['_isVsm']?ti['bias']=-(-0x1249+0x3f5+0xe*0x106+0.00001)*(-0x552*0x6+-0xd59*0x2+0x3ab2):ti['bias']=this['shadowBias']*(-0x1*0xead+0x1018+0x7*-0x31),ti['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(-0x5bb+0xb5*0x28+-0x1686)):this['_normalOff'+'setBias'];break;case oe:this['_isVsm']?ti['bias']=-(-0x102d+-0x3*-0xcb3+-0x3d*0x5c+0.00001)*(0xe61+0x31*0x89+0x6c1*-0x6):ti['bias']=this['shadowBias']/_0x342121*(-0x95*-0x11+-0x1606*0x1+-0x281*-0x5),ti['normalBias']=this['_isVsm']?this['vsmBias']/(_0x342121/(0x6cd+-0x1146+0x180*0x7)):this['_normalOff'+'setBias'];break;}return ti;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x192e9f){if(this['_type']===Re){const _0x124a97=this['attenuatio'+'nEnd'],_0x35e95a=this['_outerCone'+'Angle'],_0x59b649=this['_outerCone'+'AngleCos'],_0xc9eb2=this['_node'];kl['copy'](_0xc9eb2['up']),_0x35e95a>0xf*-0x1fc+0xe8c+0x7*0x233?(_0x192e9f['radius']=_0x124a97*this['_outerCone'+'AngleSin'],kl['mulScalar'](-_0x124a97*_0x59b649)):(_0x192e9f['radius']=_0x124a97/((-0xe55+0x2331+-0x14da)*_0x59b649),kl['mulScalar'](-_0x192e9f['radius'])),_0x192e9f['center']['add2'](_0xc9eb2['getPositio'+'n'](),kl);}else this['_type']===Pe&&(_0x192e9f['center']=this['_node']['getPositio'+'n'](),_0x192e9f['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x3aff5c){if(this['_type']===Re){const _0x190b0a=this['attenuatio'+'nEnd'],_0x47f023=this['_outerCone'+'Angle'],_0x1e7b76=this['_node'],_0x1702f6=Math['abs'](Math['sin'](_0x47f023*N['DEG_TO_RAD'])*_0x190b0a);_0x3aff5c['center']['set'](-0x14e5+-0x113f+0x2624,-_0x190b0a*(0x4*0x515+0x24bb*-0x1+0x1067+0.5),0x242e+0x1*0xb8e+-0x2fbc),_0x3aff5c['halfExtent'+'s']['set'](_0x1702f6,_0x190b0a*(-0x177*0x5+0x1*0x1ef5+-0x17a2+0.5),_0x1702f6),_0x3aff5c['setFromTra'+'nsformedAa'+'bb'](_0x3aff5c,_0x1e7b76['getWorldTr'+'ansform'](),!(-0x1257+0x1d7b+-0x1*0xb24));}else this['_type']===Pe&&(_0x3aff5c['center']['copy'](this['_node']['getPositio'+'n']()),_0x3aff5c['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Pe&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=0x7df+-0xb*0x326+0x1ac3,this['shadowDept'+'hState']['depthBiasS'+'lope']=-0x4b3+-0x2*-0xbb7+0x89*-0x23;else{const _0x5072d6=this['shadowBias']*-(-0x235+0x269+0x3b4);this['shadowDept'+'hState']['depthBias']=_0x5072d6,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x5072d6;}}['_updateLin'+'earColor'](){let _0x2f7fb0=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x2f7fb0=this['_luminance']/zo['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*N['DEG_TO_RAD'],this['_innerCone'+'Angle']*N['DEG_TO_RAD']));const _0x309ffd=this['_color'],_0xbca4c8=this['_colorLine'+'ar'];_0x2f7fb0>=-0xe5a*0x2+0x6*-0x54b+0x3c77?Ya['linear'](_0x309ffd)['mulScalar'](_0x2f7fb0):Ya['copy'](_0x309ffd)['mulScalar'](_0x2f7fb0)['linear'](),_0xbca4c8[-0x13e6+-0x1*0x83+0x37*0x5f]=Ya['r'],_0xbca4c8[0x787+0xb3*0x25+-0x2165]=Ya['g'],_0xbca4c8[-0x2c5+-0x5f5+-0x45e*-0x2]=Ya['b'];}['setColor'](){arguments['length']===0x431+-0xa8d*-0x1+-0x157*0xb?this['_color']['set'](arguments[0x7*0x3d5+0x34*-0x3f+-0xe07]['r'],arguments[0x2091+0x1205+-0x3296]['g'],arguments[-0x1c51+-0x5*0xd9+0x9*0x39e]['b']):arguments['length']===0x3dd*-0x2+-0x1d0+0x1*0x98d&&this['_color']['set'](arguments[0x1e62+-0x965+0xc7*-0x1b],arguments[0x158*-0x7+0x14*0x194+-0x35*0x6b],arguments[-0xc47+-0x119*0x6+0x12df]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x451041=>{_0x451041['hasLight'](this)&&_0x451041['markLights'+'Dirty']();});}['updateKey'](){let _0x4531be=this['_type']<<0x2*-0x12de+-0xaeb+0x30c4|this['_shadowTyp'+'e']<<0x121a+0x154f+0x44*-0x94|this['_falloffMo'+'de']<<-0x26ca+-0x1*0x1720+-0x6f*-0x8f|(this['_normalOff'+'setBias']!==-0x1*0x15db+0x21cc+-0xbf1?-0x20cf+0x1746+0x98a:-0x832*0x1+-0x1*0x12fd+0x1b2f)<<-0x3*-0x565+0x1bba+-0xd*0x35f|(this['_cookie']?0x2086+0x43*-0x92+0x5b1:0x1+0x3ed+-0x3ee)<<-0x5f*-0x21+0x18f6+-0x1*0x2520|(this['_cookieFal'+'loff']?0x252d+-0x1354+-0x11d8:0x221e+0x1569+-0x3787)<<0x2*-0x4b5+-0xff8+0x1976|Ud[this['_cookieCha'+'nnel']['charAt'](0x4*0x48b+-0x1*-0x345+-0x1571*0x1)]<<-0x9a9+0x1298+-0x8dd|(this['_cookieTra'+'nsform']?0xa1d+0x1b2+-0x2*0x5e7:0x4b1*-0x1+-0x31d*-0xa+0x1*-0x1a71)<<0x164*-0x18+-0x20c3+0x422f|this['_shape']<<0x1*-0x1b83+-0x17a3+0x3330|(this['numCascade'+'s']>0x8c6*-0x1+-0x2291+0x2b57*0x1?-0x6*0x501+0x9d5*-0x1+-0x27dc*-0x1:-0x141d+0x10*-0x151+-0x1*-0x292d)<<-0x12a3+-0x15d8+0x2884|(this['_cascadeBl'+'end']>0x10e8+0x16e5+0x17*-0x1bb?-0x17e*0x3+-0xa20*-0x3+-0x19e5:0x1*-0x1f0d+-0x1*-0x1217+0xcf6)<<0x1609+0x1*0x1a6f+0x4*-0xc1c|(this['affectSpec'+'ularity']?0x1176+-0x2633+0x14be:-0xae5*-0x3+-0x4b5*0x5+-0x926)<<0x149c+0x3dc+-0x1871|this['mask']<<-0x3*0xa9a+0x1c0d*0x1+-0x3c7*-0x1|(this['_castShado'+'ws']?0x1a*0xc+0x1*-0xf2b+-0x2*-0x6fa:0x26e6*-0x1+-0x2539+0x4c1f)<<0x3ee*-0x7+0xb82*-0x1+-0x61*-0x67;this['_cookieCha'+'nnel']['length']===0x1ac4+-0x1274+0x5*-0x1a9&&(_0x4531be|=Ud[this['_cookieCha'+'nnel']['charAt'](-0x230e+0x26c2+-0x3b3*0x1)]<<0xd1d*-0x2+0x7f6+0x1254,_0x4531be|=Ud[this['_cookieCha'+'nnel']['charAt'](-0x1ba1+-0x1cd6+0x3879)]<<0x1*0x685+-0xb9+-0x5be),_0x4531be!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x4531be;}}class L0{constructor(_0x1b0ef3,_0x1908f5,_0x108b3e){c(this,'_areaLight'+'sEnabled',!(0x260f+-0x83*0xa+-0x20f0)),c(this,'_cells',new T(-0x95f+-0x1*0xac1+-0x3a*-0x59,0x1*-0x1cf9+-0x3*0x44+0x1dc8,0x16a6+0x1*-0x1d29+-0x81*-0xd)),c(this,'_maxLights'+'PerCell',-0x335+0x1*0x137+0x5*0x99),c(this,'_shadowsEn'+'abled',!(-0x2049+-0x1c1f*0x1+-0x3c68*-0x1)),c(this,'_shadowTyp'+'e',Dt),c(this,'_shadowAtl'+'asResoluti'+'on',0x33*0x82+-0x1*0x139+-0x10ad),c(this,'_cookiesEn'+'abled',!(-0xb35*-0x1+-0x141b*-0x1+-0x1f4f)),c(this,'_cookieAtl'+'asResoluti'+'on',0x19*0x7c+0x880+-0xc9c),c(this,'debugLayer'),c(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x1b0ef3,this['_maxTextur'+'eSize']=_0x1908f5,this['_dirtyLigh'+'tsFnc']=_0x108b3e);}['applySetti'+'ngs'](_0x2162ff){this['shadowsEna'+'bled']=_0x2162ff['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x2162ff['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x2162ff['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x2162ff['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x2162ff['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x2162ff['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x2162ff['lightingSh'+'adowType']??this['shadowType'],_0x2162ff['lightingCe'+'lls']&&(this['cell']=new T(_0x2162ff['lightingCe'+'lls']));}set['cells'](_0x4ce2da){this['_cells']['copy'](_0x4ce2da);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x2db6f5){this['_maxLights'+'PerCell']=N['clamp'](_0x2db6f5,-0xa*0x210+0x20d4*-0x1+0x55*0xa1,-0xc*-0xa6+0x1bd0+-0x2299);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x4eefac){this['_cookieAtl'+'asResoluti'+'on']=N['clamp'](_0x4eefac,0x26bd*-0x1+-0xb68+0x2f5*0x11,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x1f46fe){this['_shadowAtl'+'asResoluti'+'on']=N['clamp'](_0x1f46fe,0xcc4*0x2+-0x23c7+-0x127*-0x9,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x18d815){this['_shadowTyp'+'e']!==_0x18d815&&(this['_shadowTyp'+'e']=_0x18d815,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x3bd660){this['_cookiesEn'+'abled']!==_0x3bd660&&(this['_cookiesEn'+'abled']=_0x3bd660,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x22b10f){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x22b10f&&(this['_areaLight'+'sEnabled']=_0x22b10f,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x42a4e2){this['_shadowsEn'+'abled']!==_0x42a4e2&&(this['_shadowsEn'+'abled']=_0x42a4e2,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}const jM='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20',YM=new _t(!(0x1*-0x16b6+0xf1b*-0x1+0x25d1),Lt,at,at);class fn{constructor(_0x10f5cd){c(this,'shaderCach'+'e',[]),(this['morph']=_0x10f5cd,_0x10f5cd['incRefCoun'+'t'](),this['device']=_0x10f5cd['device'],this['_weights']=[],this['_weightMap']=new Map());for(let _0x4f3530=0x501+0x953+-0x7*0x20c;_0x4f3530<_0x10f5cd['_targets']['length'];_0x4f3530++){const _0x396e55=_0x10f5cd['_targets'][_0x4f3530];_0x396e55['name']&&this['_weightMap']['set'](_0x396e55['name'],_0x4f3530),this['setWeight'](_0x4f3530,_0x396e55['defaultWei'+'ght']);}this['_activeTar'+'gets']=[],this['maxSubmitC'+'ount']=this['device']['maxTexture'+'s'],this['_shaderMor'+'phWeights']=new Float32Array(this['maxSubmitC'+'ount']);const _0x4087fd=(_0x1c4104,_0x3ffd21)=>(this[_0x3ffd21]=_0x10f5cd['_createTex'+'ture'](_0x1c4104,_0x10f5cd['_renderTex'+'tureFormat']),new pt({'colorBuffer':this[_0x3ffd21],'depth':!(0x1423*0x1+0x18c+-0x15ae)}));_0x10f5cd['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x4087fd('MorphRTPos','texturePos'+'itions')),_0x10f5cd['morphNorma'+'ls']&&(this['rtNormals']=_0x4087fd('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x10f5cd['morphTextu'+'reWidth'],_0x10f5cd['morphTextu'+'reHeight']]);const _0x47a96d=_0x10f5cd['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x47a96d['x']*(0x13*0x1c6+-0xad*-0x16+-0x1*0x308c),_0x47a96d['y']*(-0x26f1+-0x3*0x5c6+0x3847),_0x47a96d['z']*(-0x2ad*-0x4+-0x10*-0x3+-0x3a0*0x3)]);const _0x49ae9c=_0x10f5cd['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x49ae9c['x']*(-0x1b68+0x39*-0x2+0x1bdc),_0x49ae9c['y']*(0x2528+0x357+0xd7f*-0x3),_0x49ae9c['z']*(-0xa7*-0x8+0xc8+-0x5fe)]),this['_aabbNrmSi'+'ze']=new Float32Array([-0x1df+0xab2*-0x2+0x1*0x1745,-0x11*0x217+-0x3*0x4b2+0x319f,-0x2*-0x5ea+-0xf2e+-0xd7*-0x4]),this['_aabbNrmMi'+'n']=new Float32Array([-(-0x1ddf*0x1+0x5c*-0x2f+0x2ec4),-(0xfd*0x26+-0x16a8+-0xee5),-(0x42*-0x7+0x430+-0x261*0x1)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin');for(let _0x2d5fa6=-0x18*-0xd+-0x5c*0x5+0x94;_0x2d5fa6<this['maxSubmitC'+'ount'];_0x2d5fa6++)this['morphBlend'+'Tex'+_0x2d5fa6]=this['device']['scope']['resolve']('morphBlend'+'Tex'+_0x2d5fa6);this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['zeroTextur'+'es']=!(0x9e*-0x1c+-0x10f3*0x1+0x223c);}['destroy'](){this['shader']=null;const _0x3af34a=this['morph'];_0x3af34a&&(this['morph']=null,_0x3af34a['decRefCoun'+'t'](),_0x3af34a['refCount']<0x3f5*-0x5+-0x1bb0+0x2f7a&&_0x3af34a['destroy']()),this['rtPosition'+'s']&&(this['rtPosition'+'s']['destroy'](),this['rtPosition'+'s']=null),this['texturePos'+'itions']&&(this['texturePos'+'itions']['destroy'](),this['texturePos'+'itions']=null),this['rtNormals']&&(this['rtNormals']['destroy'](),this['rtNormals']=null),this['textureNor'+'mals']&&(this['textureNor'+'mals']['destroy'](),this['textureNor'+'mals']=null);}['clone'](){return new fn(this['morph']);}['_getWeight'+'Index'](_0x368e36){if(typeof _0x368e36=='string'){const _0x87f862=this['_weightMap']['get'](_0x368e36);return _0x87f862===void(-0x1cd*-0x1+0x1*-0x38d+-0xe0*-0x2)&&v['error']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x368e36+'.'),_0x87f862;}return _0x368e36;}['getWeight'](_0x5cae62){const _0x1b5d8c=this['_getWeight'+'Index'](_0x5cae62);return this['_weights'][_0x1b5d8c];}['setWeight'](_0x2f6452,_0x4d7112){const _0x1ceb15=this['_getWeight'+'Index'](_0x2f6452);v['assert'](_0x1ceb15>=-0x1cd3+-0xbb9+0x288c&&_0x1ceb15<this['morph']['_targets']['length']),this['_weights'][_0x1ceb15]=_0x4d7112,this['_dirty']=!(-0x1f*-0xe9+-0x3b7+-0x1880);}['_getFragme'+'ntShader'](_0x323704){let _0xab8599='',_0x2c1aac='';for(let _0x455b00=-0x3da*-0x5+-0x590+0x2*-0x6d9;_0x455b00<_0x323704;_0x455b00++)_0xab8599+='uniform\x20hi'+'ghp\x20sample'+'r2D\x20morphB'+'lendTex'+_0x455b00+';',_0x2c1aac+='color.xyz\x20'+'+=\x20morphFa'+'ctor['+_0x455b00+(']\x20*\x20textur'+'e2D(morphB'+'lendTex')+_0x455b00+(',\x20uv0).xyz'+';');return'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20'+(this['morph']['intRenderF'+'ormat']?'#define\x20MO'+'RPH_INT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x323704>-0x1*-0xc83+0x209a+0x1*-0x2d1d?'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r['+_0x323704+'];':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+_0xab8599+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPH_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec3\x20'+'aabbSize;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'void\x20main\x20'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20highp'+'\x20vec4\x20colo'+'r\x20=\x20vec4(0'+',\x200,\x200,\x201)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x2c1aac+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'.xyz\x20=\x20(co'+'lor.xyz\x20-\x20'+'aabbMin)\x20/'+'\x20aabbSize\x20'+'*\x2065535.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20uvec'+'4(color);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20col'+'or;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['_getShader'](_0x4b8d7f){let _0x439618=this['shaderCach'+'e'][_0x4b8d7f];if(!_0x439618){const _0x26c2d4=this['_getFragme'+'ntShader'](_0x4b8d7f),_0xe1cc13=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';_0x439618=Is(this['device'],jM,_0x26c2d4,'textureMor'+'ph'+_0x4b8d7f,void(-0x55+0xa*-0xc5+0x807),{'fragmentOutputTypes':[_0xe1cc13]}),this['shaderCach'+'e'][_0x4b8d7f]=_0x439618;}return _0x439618;}['_updateTex'+'tureRender'+'Target'](_0x14ba65,_0x150167,_0x4360cb){const _0x2dc9af=this['device'],_0x5ed59d=(_0x4690c4,_0x57c3aa)=>{this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),_0x2dc9af['setBlendSt'+'ate'](_0x57c3aa?YM:_t['NOBLEND']);const _0x1a78f0=this['_getShader'](_0x4690c4);dn(_0x2dc9af,_0x14ba65,_0x1a78f0);};this['setAabbUni'+'forms'](_0x4360cb);let _0x126370=0x243f*-0x1+0x7a8+0x233*0xd,_0x43aa2e=!(-0x726+0x1c7c*0x1+-0x1555);const _0x2105a9=this['_activeTar'+'gets']['length'];for(let _0x8e79b5=-0x1c*-0xb1+-0x86*0x47+0x1*0x11ce;_0x8e79b5<_0x2105a9;_0x8e79b5++){const _0x177b6b=this['_activeTar'+'gets'][_0x8e79b5],_0x197702=_0x177b6b['target'][_0x150167];_0x197702&&(this['morphBlend'+'Tex'+_0x126370]['setValue'](_0x197702),this['_shaderMor'+'phWeights'][_0x126370]=_0x177b6b['weight'],_0x126370++,_0x126370>=this['maxSubmitC'+'ount']&&(_0x5ed59d(_0x126370,_0x43aa2e),_0x126370=-0x2564*-0x1+0x1002+-0x3566,_0x43aa2e=!(0x127b+0x16d5+-0x2950)));}(_0x126370>-0x22f3+0x1472+0xe81||_0x2105a9===-0x209*0x1+0x901+-0x6f8*0x1&&!this['zeroTextur'+'es'])&&_0x5ed59d(_0x126370,_0x43aa2e);}['_updateTex'+'tureMorph'](){const _0x19006f=this['device'];G['pushGpuMar'+'ker'](_0x19006f,'MorphUpdat'+'e'),(this['_activeTar'+'gets']['length']>0x2*0x8df+-0x504+-0xcba||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],'texturePos'+'itions',!(0x966*-0x3+-0x1667+-0x3299*-0x1)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],'textureNor'+'mals',!(-0xfb5*0x1+0x2422+0x146c*-0x1)),this['zeroTextur'+'es']=this['_activeTar'+'gets']['length']===-0xa90+-0x1*0x1136+0x1bc6),G['popGpuMark'+'er'](_0x19006f);}['setAabbUni'+'forms'](_0x21da40=!(0x2048+0x14fd+-0x1*0x3545)){this['aabbSizeId']['setValue'](_0x21da40?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x21da40?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0xf11fbc){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(-0x107a+-0xc62+0x3*0x99f);const _0x5b80d5=this['morph']['_targets'];let _0x31631f=0x7*0x1d3+0x1fd5+-0xede*0x3;const _0x2529f5=0x560+-0x1326*-0x1+0x49*-0x56+0.00001;for(let _0x2213cd=0x1cca+0x222b*-0x1+0x9*0x99;_0x2213cd<_0x5b80d5['length'];_0x2213cd++){const _0x4c605d=Math['abs'](this['getWeight'](_0x2213cd));if(_0x4c605d>_0x2529f5){this['_activeTar'+'gets']['length']<=_0x31631f&&(this['_activeTar'+'gets'][_0x31631f]={});const _0x81bbf8=this['_activeTar'+'gets'][_0x31631f++];_0x81bbf8['absWeight']=_0x4c605d,_0x81bbf8['weight']=this['getWeight'](_0x2213cd),_0x81bbf8['target']=_0x5b80d5[_0x2213cd];}}this['_activeTar'+'gets']['length']=_0x31631f,this['morph']['intRenderF'+'ormat']&&this['_activeTar'+'gets']['length']>this['maxSubmitC'+'ount']&&(this['_activeTar'+'gets']['sort']((_0x4e4e1e,_0x485ab5)=>_0x4e4e1e['absWeight']<_0x485ab5['absWeight']?-0x1*-0x2236+-0x1*0x11+0x4c*-0x73:_0x485ab5['absWeight']<_0x4e4e1e['absWeight']?-(-0x1df3+-0xd5+0x1ec9):-0x154+-0x6*0x61f+0x260e),this['_activeTar'+'gets']['length']=this['maxSubmitC'+'ount']),this['_updateTex'+'tureMorph']();}}class Oi{constructor(){c(this,'graph',null),c(this,'meshInstan'+'ces',[]),c(this,'skinInstan'+'ces',[]),c(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=-0xcc5+-0x2691+0x3356,this['_immutable']=!(0xddf+-0xa76+-0x1*0x368));}['getGraph'](){return this['graph'];}['setGraph'](_0x401052){this['graph']=_0x401052;}['getCameras'](){return this['cameras'];}['setCameras'](_0x11be3e){this['cameras']=_0x11be3e;}['getLights'](){return this['lights'];}['setLights'](_0x5e7332){this['lights']=_0x5e7332;}['getMateria'+'ls'](){const _0x280485=[];for(let _0xa2e692=-0x17fa+0x2*-0x66a+-0x2a1*-0xe;_0xa2e692<this['meshInstan'+'ces']['length'];_0xa2e692++){const _0xac7ff5=this['meshInstan'+'ces'][_0xa2e692];_0x280485['indexOf'](_0xac7ff5['material'])===-(0x884+-0x1aef+0x126c)&&_0x280485['push'](_0xac7ff5['material']);}return _0x280485;}['clone'](){const _0x559daa=[],_0x4053c4=[],_0x443319=function(_0x5b12f5){const _0x39b879=_0x5b12f5['clone']();_0x559daa['push'](_0x5b12f5),_0x4053c4['push'](_0x39b879);for(let _0x3a0b14=0x1e*0x106+-0x3b*-0x20+-0x2614;_0x3a0b14<_0x5b12f5['_children']['length'];_0x3a0b14++)_0x39b879['addChild'](_0x443319(_0x5b12f5['_children'][_0x3a0b14]));return _0x39b879;},_0x39817d=_0x443319(this['graph']),_0x5e99d9=[],_0x41e92c=[],_0x3e7d91=[];for(let _0x303fcc=0x14*0x17e+-0x1*0x12a7+0x3bb*-0x3;_0x303fcc<this['skinInstan'+'ces']['length'];_0x303fcc++){const _0x527c88=this['skinInstan'+'ces'][_0x303fcc]['skin'],_0x9a86b7=new nl(_0x527c88),_0xda7496=[];for(let _0x131511=-0x2*-0x59f+0xe6c+-0xcd5*0x2;_0x131511<_0x527c88['boneNames']['length'];_0x131511++){const _0x145222=_0x527c88['boneNames'][_0x131511],_0x110f7e=_0x39817d['findByName'](_0x145222);_0xda7496['push'](_0x110f7e);}_0x9a86b7['bones']=_0xda7496,_0x41e92c['push'](_0x9a86b7);}for(let _0x2454d8=-0x25*0xaa+0x884+-0x2*-0x807;_0x2454d8<this['morphInsta'+'nces']['length'];_0x2454d8++){const _0x386aa6=this['morphInsta'+'nces'][_0x2454d8]['morph'],_0x33e8d8=new fn(_0x386aa6);_0x3e7d91['push'](_0x33e8d8);}for(let _0x28d865=-0x1910*0x1+-0x83*-0x9+-0x1475*-0x1;_0x28d865<this['meshInstan'+'ces']['length'];_0x28d865++){const _0x27d1f0=this['meshInstan'+'ces'][_0x28d865],_0x3c0385=_0x559daa['indexOf'](_0x27d1f0['node']),_0x43ef70=new Le(_0x27d1f0['mesh'],_0x27d1f0['material'],_0x4053c4[_0x3c0385]);if(_0x27d1f0['skinInstan'+'ce']){const _0x2b753b=this['skinInstan'+'ces']['indexOf'](_0x27d1f0['skinInstan'+'ce']);_0x43ef70['skinInstan'+'ce']=_0x41e92c[_0x2b753b];}if(_0x27d1f0['morphInsta'+'nce']){const _0x4490ef=this['morphInsta'+'nces']['indexOf'](_0x27d1f0['morphInsta'+'nce']);_0x43ef70['morphInsta'+'nce']=_0x3e7d91[_0x4490ef];}_0x5e99d9['push'](_0x43ef70);}const _0x4dcd08=new Oi();return _0x4dcd08['graph']=_0x39817d,_0x4dcd08['meshInstan'+'ces']=_0x5e99d9,_0x4dcd08['skinInstan'+'ces']=_0x41e92c,_0x4dcd08['morphInsta'+'nces']=_0x3e7d91,_0x4dcd08['getGraph']()['syncHierar'+'chy'](),_0x4dcd08;}['destroy'](){const _0x39e83e=this['meshInstan'+'ces'];for(let _0x4c60b6=0x1ae7+-0x1f05+0x3e*0x11;_0x4c60b6<_0x39e83e['length'];_0x4c60b6++)_0x39e83e[_0x4c60b6]['destroy']();this['meshInstan'+'ces']['length']=0xf73+0xa2a+-0x199d;}['generateWi'+'reframe'](){Le['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],Dr);}}class F0 extends Gc{constructor(_0x3f3ebe,_0x52cc00,{preferHighPrecision:_0x3efdc4=!(0x590+-0xf00+0x971*0x1)}={}){super(),c(this,'_aabb'),c(this,'preferHigh'+'Precision'),(v['assert'](_0x52cc00,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x52cc00,this['preferHigh'+'Precision']=_0x3efdc4,v['assert'](_0x3f3ebe['every'](_0x40c0a1=>!_0x40c0a1['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x3f3ebe['slice']());const _0x38b806=this['device'],_0x4c5881=_0x38b806['textureHal'+'fFloatRend'+'erable']?Je:void(-0x11e3+0xca*-0x7+0x1*0x1769),_0x190686=_0x38b806['textureFlo'+'atRenderab'+'le']?Ke:void(0x1dfe+-0x7b4+-0x164a);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x190686??_0x4c5881:_0x4c5881??_0x190686,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??Ac,this['intRenderF'+'ormat']=ea(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Sc:Je,this['_init'](),this['_updateMor'+'phFlags']();}get['aabb'](){if(!this['_aabb']){const _0xcf4153=new T(),_0x56b0f5=new T();for(let _0x408246=-0x24c2+0x40+-0x2*-0x1241;_0x408246<this['_targets']['length'];_0x408246++){const _0x5e4233=this['_targets'][_0x408246]['aabb'];_0xcf4153['min'](_0x5e4233['getMin']()),_0x56b0f5['max'](_0x5e4233['getMax']());}this['_aabb']=new _e(),this['_aabb']['setMinMax'](_0xcf4153,_0x56b0f5);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0xbf4d3b=0x1*-0x1b81+-0x758+0x22d9*0x1;_0xbf4d3b<this['_targets']['length'];_0xbf4d3b++)this['_targets'][_0xbf4d3b]['_postInit']();}['_findSpars'+'eSet'](_0x1a7472,_0x1b8eae,_0x88aa09){let _0x4640c5=-0x2134+-0x5fc+0x4f*0x7f;const _0x5f146b=_0x1a7472[-0x1*-0x939+0x628*0x1+-0xf61]['length'];for(let _0x39a084=0xe9*0x26+0x798+-0x2a2e;_0x39a084<_0x5f146b;_0x39a084+=0x1573+0xb4d+0x11*-0x1ed){let _0x278a46=!(0x23a9+0x145c+-0x3804);for(let _0x132544=0x1130+0x2*0x50e+-0x1b4c;_0x132544<_0x1a7472['length'];_0x132544++){const _0x5b558e=_0x1a7472[_0x132544];if(_0x5b558e[_0x39a084]!==0x1*0x2d5+0x1*-0xc2f+0x95a||_0x5b558e[_0x39a084+(-0x1832*-0x1+0x216b+-0x399c)]!==-0x1bb2+0x1abb+0xd*0x13||_0x5b558e[_0x39a084+(-0xf18+-0x5*-0x4ad+-0x847)]!==0xa81*0x2+-0x140+-0x13c2){_0x278a46=!(0x10c2+-0x2*0xb+-0x10ac);break;}}_0x278a46?(_0x1b8eae['push'](_0x4640c5),_0x88aa09['push'](_0x39a084/(0xe07+-0x2e*0x8e+0xb80)),_0x4640c5++):_0x1b8eae['push'](0x42+-0x2080+-0x1*-0x203e);}return _0x4640c5;}['_initTextu'+'reBased'](){const _0x292c70=[],_0x49544f=[];for(let _0x1f0f67=-0x3*-0xc52+-0xdaa+0x5d3*-0x4;_0x1f0f67<this['_targets']['length'];_0x1f0f67++){const _0x4e785d=this['_targets'][_0x1f0f67];_0x4e785d['options']['deltaPosit'+'ions']&&(_0x292c70['push'](_0x4e785d['options']['deltaPosit'+'ions']),_0x49544f['push']({'target':_0x4e785d,'name':'texturePos'+'itions'})),_0x4e785d['options']['deltaNorma'+'ls']&&(_0x292c70['push'](_0x4e785d['options']['deltaNorma'+'ls']),_0x49544f['push']({'target':_0x4e785d,'name':'textureNor'+'mals'}));}const _0xc6cfde=[],_0x3af59a=[],_0x560a0c=this['_findSpars'+'eSet'](_0x292c70,_0xc6cfde,_0x3af59a),_0x409ad8=this['device']['maxTexture'+'Size'];let _0x2250ec=Math['ceil'](Math['sqrt'](_0x560a0c));_0x2250ec=Math['min'](_0x2250ec,_0x409ad8);const _0x5bf3b0=Math['ceil'](_0x560a0c/_0x2250ec);if(_0x5bf3b0>_0x409ad8)return!(0x1d6+0x219e+0x79*-0x4b);this['morphTextu'+'reWidth']=_0x2250ec,this['morphTextu'+'reHeight']=_0x5bf3b0;let _0x543fce=!(-0x8*-0x1a+0x2*0x163+-0x7*0x83),_0x50ff42=0x3*0x99a+-0x2612+0x947;const _0x4f195e=Wt['float2Half'];this['_textureFo'+'rmat']===Je&&(_0x543fce=!(0xfec+-0x1*-0x17c3+0x27af*-0x1),_0x50ff42=-0x1d27+-0x111*-0xb+0x117*0x10);const _0x4ac910=[];for(let _0x44ad39=-0x15c3+-0x130d*0x1+0x28d0;_0x44ad39<_0x292c70['length'];_0x44ad39++)_0x4ac910['push'](this['_createTex'+'ture']('MorphTarge'+'t',this['_textureFo'+'rmat']));for(let _0x7f70ec=0xa*0x292+0x11f9*-0x2+0x17*0x72;_0x7f70ec<_0x292c70['length'];_0x7f70ec++){const _0x2946ee=_0x292c70[_0x7f70ec],_0x2fb7fb=_0x4ac910[_0x7f70ec],_0x590e41=_0x2fb7fb['lock']();if(_0x543fce)for(let _0x5782e0=0x5dc+-0x2de*-0x2+-0xb98;_0x5782e0<_0x3af59a['length'];_0x5782e0++){const _0x115300=_0x3af59a[_0x5782e0]*(0x1119*0x1+0x710+-0x1826),_0x348b53=_0x5782e0*_0x50ff42+_0x50ff42;_0x590e41[_0x348b53]=_0x4f195e(_0x2946ee[_0x115300]),_0x590e41[_0x348b53+(0x1*0x20fd+0xa76+-0x2b72)]=_0x4f195e(_0x2946ee[_0x115300+(0x21f8*-0x1+0x669*-0x1+-0x1*-0x2862)]),_0x590e41[_0x348b53+(0xffc+0x6b2*0x1+-0x16ac)]=_0x4f195e(_0x2946ee[_0x115300+(0x1c*-0x8f+-0x36*-0xa3+0x1b4*-0xb)]);}else for(let _0x44ade1=0x427+-0xdee+0x9c7;_0x44ade1<_0x3af59a['length'];_0x44ade1++){const _0x3e1044=_0x3af59a[_0x44ade1]*(0x1da5+0x1*0x169b+-0x343d),_0x35b282=_0x44ade1*_0x50ff42+_0x50ff42;_0x590e41[_0x35b282]=_0x2946ee[_0x3e1044],_0x590e41[_0x35b282+(0x3c9+0x229c+-0xfc*0x27)]=_0x2946ee[_0x3e1044+(0x2164+-0x587*0x3+0x59a*-0x3)],_0x590e41[_0x35b282+(0x37*0xb+-0x14e*0xb+-0x25*-0x53)]=_0x2946ee[_0x3e1044+(-0x38+-0x117d+0x5*0x38b)];}_0x2fb7fb['unlock'](),_0x49544f[_0x7f70ec]['target']['_setTextur'+'e'](_0x49544f[_0x7f70ec]['name'],_0x2fb7fb);}const _0x15e9fb=[{'semantic':ya,'components':0x1,'type':Do,'asInt':!(0x935*0x1+-0x2000+0x16cb)}];return this['vertexBuff'+'erIds']=new os(this['device'],new Et(this['device'],_0x15e9fb,_0xc6cfde['length']),_0xc6cfde['length'],{'data':new Uint32Array(_0xc6cfde)}),!(-0x2554*-0x1+0x13e0+-0x3934);}['destroy'](){var _0x42cfbb;(_0x42cfbb=this['vertexBuff'+'erIds'])==null||_0x42cfbb['destroy'](),this['vertexBuff'+'erIds']=null;for(let _0x1cc904=0x1dd2+-0x3*-0x141+-0x1*0x2195;_0x1cc904<this['_targets']['length'];_0x1cc904++)this['_targets'][_0x1cc904]['destroy']();this['_targets']['length']=0x86d+-0x1510+0xca3;}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(0x109c+0x4*-0x71f+-0xbe1*-0x1),this['_morphNorm'+'als']=!(0x107*0x3+-0x104*-0x6+0x92c*-0x1);for(let _0xd04b84=-0x21cf+0x8*-0x2cd+0x3837;_0xd04b84<this['_targets']['length'];_0xd04b84++){const _0x5edffa=this['_targets'][_0xd04b84];_0x5edffa['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(0x1*0x1b5c+0x247f+0x3fdb*-0x1)),_0x5edffa['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(0x2*0xaa9+-0x19cc+0xbf*0x6));}}['_createTex'+'ture'](_0x4b4f57,_0x3ba0fc){return new he(this['device'],{'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x3ba0fc,'cubemap':!(0x29e+-0xe89+0x2*0x5f6),'mipmaps':!(0x45b+-0x1b4d+0x16f3),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x4b4f57});}}class Qc{constructor(_0x2d6fe4){c(this,'used',!(-0x7a0*-0x3+-0xf5f+0xa0*-0xc)),(v['assert'](arguments['length']===-0x18cc+-0x2580+0x3e4d),this['options']=_0x2d6fe4,this['_name']=_0x2d6fe4['name'],this['_defaultWe'+'ight']=_0x2d6fe4['defaultWei'+'ght']||-0xa34*-0x3+-0xd*-0x2de+-0x43e2,this['_aabb']=_0x2d6fe4['aabb'],this['deltaPosit'+'ions']=_0x2d6fe4['deltaPosit'+'ions']);}['destroy'](){var _0x8254f3,_0x502691;(_0x8254f3=this['texturePos'+'itions'])==null||_0x8254f3['destroy'](),this['texturePos'+'itions']=null,(_0x502691=this['textureNor'+'mals'])==null||_0x502691['destroy'](),this['textureNor'+'mals']=null;}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new _e(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}get['morphPosit'+'ions'](){return!!this['texturePos'+'itions'];}get['morphNorma'+'ls'](){return!!this['textureNor'+'mals'];}['clone'](){return v['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Qc(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(0x56f*0x7+-0x13bb+-0x42*0x47);}['_setTextur'+'e'](_0x250e4a,_0x421876){this[_0x250e4a]=_0x421876;}}let si,v_=-0x13*-0xc7+-0x14cb*0x1+0x607;const ie=0x88*-0x2b+-0x10d1+-0x27ad*-0x1,Vd=new q(),Gd=new q(),ks=new T(),ze=new T(),ps=new T(),Rn=new T(),Nt=new T(),Ze=new T(),In=new T(),Dn=new T(),Ka=new T(),b_=new T(),vt=new T(),Bl=new T(),wr=new T();function ia(_0x156042){return _0x156042-Math['floor'](_0x156042);}function KM(_0x3560e3){return Math['max'](Math['min'](_0x3560e3,0x20d6+-0x1e2c+-0x3*0xe3),0x2b*-0x3b+-0x8e*0x34+0x26c1);}function Hd(_0x24337a,_0x2ea3bc){return _0x24337a-_0x2ea3bc*Math['floor'](_0x24337a/_0x2ea3bc);}function ZM(_0x4e8df0){let _0x454a1b=ia(_0x4e8df0),_0x516d27=ia((-0x2*0xef7+-0x125f+-0x14*-0x277)*_0x4e8df0),_0x452421=ia((-0x4126+-0x4*0x6188+0x2c547)*_0x4e8df0),_0x2373fa=ia((-0xb898857*-0x1+-0x1*0x916d641+0x71f94e9)*_0x4e8df0);return _0x454a1b-=_0x516d27/(-0xe09*0x1+-0x3ae*-0x2+0x7ac),_0x516d27-=_0x452421/(0x16e6+0xa3*0x11+-0x20ba),_0x452421-=_0x2373fa/(-0xa1d+-0xf*-0x259+-0x181b),_0x2373fa-=_0x2373fa/(0xb83*0x3+-0x1fd*-0x1+-0x2387),[_0x454a1b,_0x516d27,_0x452421,_0x2373fa];}function Nl(_0xc4fa0e){let _0x55aaff=ia(_0xc4fa0e),_0x4af4a7=ia((-0x2b*0x1b+-0x26+0x5ae)*_0xc4fa0e);return _0x55aaff-=_0x4af4a7/(0x9*-0x47+-0x7d2+0xb50),_0x4af4a7-=_0x4af4a7/(-0x801*0x2+-0x17f8+0x11*0x269),[_0x55aaff,_0x4af4a7];}class QM{constructor(_0x5b148b){this['_emitter']=_0x5b148b;}['calcSpawnP'+'osition'](_0x231ef4,_0x5272f6,_0x1a1a91,_0x32ab76,_0x4c21a8){const _0x4bacad=this['_emitter'],_0x408a6a=Math['random'](),_0x4c9d5f=Math['random'](),_0x42d367=Math['random'](),_0x29f7a5=Math['random']();if(_0x4bacad['useCpu']&&(_0x231ef4[_0x4c21a8*ie+(-0xb7*-0x32+0x578+-0x2936)+_0x4bacad['numParticl'+'esPot']*(-0x1*-0x1273+0x2b7*0x3+-0x1a96)*ie]=_0x408a6a,_0x231ef4[_0x4c21a8*ie+(-0x1*-0xabb+0x125*0x18+-0x2632)+_0x4bacad['numParticl'+'esPot']*(0x114b*0x2+0x108+-0x239c)*ie]=_0x4c9d5f,_0x231ef4[_0x4c21a8*ie+(-0xc5b*0x1+0xa5b+0x202)+_0x4bacad['numParticl'+'esPot']*(0x1*-0x6a3+0x2*0x42a+-0x1af)*ie]=_0x42d367),ze['x']=_0x408a6a-(0x2e0+-0x5*-0x5ae+-0x1f46+0.5),ze['y']=_0x4c9d5f-(0x1*-0x19ee+0x53*0x13+0x13c5+0.5),ze['z']=_0x42d367-(0x4a*0xb+-0x1*0x18d7+0x15a9+0.5),_0x4bacad['emitterSha'+'pe']===Vs){const _0x1c3b81=Math['max'](Math['abs'](ze['x']),Math['max'](Math['abs'](ze['y']),Math['abs'](ze['z']))),_0x360e06=_0x1c3b81+(0x15ef+-0x7c3*-0x3+-0xb4e*0x4+0.5-_0x1c3b81)*_0x1a1a91[-0x926+-0x2607+0x3a1*0xd],_0x5d0dbf=_0x1c3b81+(0x3e*0x38+0xdc6+0x1*-0x1b56+0.5-_0x1c3b81)*_0x1a1a91[0x1*0x1f9d+0xde4+-0x2d80],_0x488741=_0x1c3b81+(0xa57*0x2+-0x11*0x82+-0x3*0x404+0.5-_0x1c3b81)*_0x1a1a91[0x1f6a+-0x16*0x11a+0x4*-0x1cb];ze['x']=_0x360e06*(_0x1c3b81===Math['abs'](ze['x'])?Math['sign'](ze['x']):(-0x105f+-0xcee+0x1d4f)*ze['x']),ze['y']=_0x5d0dbf*(_0x1c3b81===Math['abs'](ze['y'])?Math['sign'](ze['y']):(-0xc83+-0xaf1*0x2+0x2267*0x1)*ze['y']),ze['z']=_0x488741*(_0x1c3b81===Math['abs'](ze['z'])?Math['sign'](ze['z']):(0x26ad*-0x1+-0x10*0x71+-0x7*-0x689)*ze['z']),_0x4bacad['localSpace']?ks['copy'](_0x5272f6['transformP'+'oint'](ze)):ks['copy'](_0x32ab76)['add'](_0x5272f6['transformP'+'oint'](ze));}else{ze['normalize']();const _0xca46cb=_0x4bacad['emitterRad'+'ius']===-0x20c6+-0x58c+0x2652?0x23ca+0x7*0x111+0xe6b*-0x3:_0x4bacad['emitterRad'+'iusInner']/_0x4bacad['emitterRad'+'ius'],_0x3e0ba9=_0x29f7a5*(-0x159+0x1d9c+0xe21*-0x2-_0xca46cb)+_0xca46cb;_0x4bacad['localSpace']?ks['copy'](ze['mulScalar'](_0x3e0ba9*_0x4bacad['emitterRad'+'ius'])):ks['copy'](_0x32ab76)['add'](ze['mulScalar'](_0x3e0ba9*_0x4bacad['emitterRad'+'ius']));}let _0x1d9009=-N['lerp'](_0x4bacad['rate'],_0x4bacad['rate2'],_0x408a6a)*_0x4c21a8;if(_0x4bacad['pack8']){const _0x38ca52=(ks['x']-_0x4bacad['worldBound'+'s']['center']['x'])/_0x4bacad['worldBound'+'sSize']['x']+(0x9c1+-0x233*-0x9+-0x1d8c+0.5),_0x5f401d=(ks['y']-_0x4bacad['worldBound'+'s']['center']['y'])/_0x4bacad['worldBound'+'sSize']['y']+(0x1*0x2284+-0x1*0xd56+-0x152e+0.5),_0x3fbe1d=(ks['z']-_0x4bacad['worldBound'+'s']['center']['z'])/_0x4bacad['worldBound'+'sSize']['z']+(-0x943*0x3+0x1*0x653+-0x1576*-0x1+0.5);let _0x4fffb9=N['lerp'](_0x4bacad['startAngle']*N['DEG_TO_RAD'],_0x4bacad['startAngle'+'2']*N['DEG_TO_RAD'],_0x408a6a);_0x4fffb9=_0x4fffb9%(Math['PI']*(-0x10a4+-0x1841+-0x25*-0x11b))/(Math['PI']*(-0x4*-0x75e+-0x25ce+0x858));const _0x24967a=Nl(_0x38ca52);_0x231ef4[_0x4c21a8*ie]=_0x24967a[-0x1*0x148f+-0x2039+-0x2*-0x1a64],_0x231ef4[_0x4c21a8*ie+(-0x1cd+-0x20a2+0x2270)]=_0x24967a[0x17*0x2+-0x18*0x199+-0x3*-0xcb9];const _0xcd257e=Nl(_0x5f401d);_0x231ef4[_0x4c21a8*ie+(-0x7*0x199+0x2191+-0x1660)]=_0xcd257e[-0xf2*0x16+-0x15d0+0x2a9c],_0x231ef4[_0x4c21a8*ie+(0x9a9*-0x3+0x1*0x25bd+-0x8bf)]=_0xcd257e[0x2278+-0x7e9+0x6*-0x46d];const _0x37a105=Nl(_0x3fbe1d);_0x231ef4[_0x4c21a8*ie+(0x1*0x1ce0+-0x14ea+-0x7f6)+_0x4bacad['numParticl'+'esPot']*ie]=_0x37a105[-0x239*-0x5+0x1b34+0x2651*-0x1],_0x231ef4[_0x4c21a8*ie+(-0x1b17+-0x1fb4*-0x1+0x2*-0x24e)+_0x4bacad['numParticl'+'esPot']*ie]=_0x37a105[-0x3*-0x45+0x1*-0x2512+0x2444];const _0xc9b09a=Nl(_0x4fffb9);_0x231ef4[_0x4c21a8*ie+(-0x3d7*-0x3+-0x3*0x573+-0x4d6*-0x1)+_0x4bacad['numParticl'+'esPot']*ie]=_0xc9b09a[0x2*0xd21+-0x21*-0xb3+0xad*-0x49],_0x231ef4[_0x4c21a8*ie+(-0x1168+-0x204a+0x31b5)+_0x4bacad['numParticl'+'esPot']*ie]=_0xc9b09a[-0x1021*0x1+-0x4f*0x17+0x173b];const _0x44ed0a=-0x1876+-0x23d8+-0x1*-0x3c4f;_0x231ef4[_0x4c21a8*ie+(-0x15ad+-0x3d1+0x1981)+_0x4bacad['numParticl'+'esPot']*ie*(0x35*-0xa1+-0xa7d*0x2+0x3651)]=_0x44ed0a;const _0x392765=Math['max'](_0x4bacad['lifetime'],(_0x4bacad['numParticl'+'es']-(0xbcf+0x10a2*0x2+-0x2d12))*Math['max'](_0x4bacad['rate'],_0x4bacad['rate2'])),_0x2988af=_0x4bacad['lifetime']+(0x1c8d+0x107+0x71*-0x43);_0x1d9009=(_0x1d9009+_0x392765)/(_0x392765+_0x2988af);const _0x21988d=ZM(_0x1d9009);_0x231ef4[_0x4c21a8*ie+(0x176c+0x1c65+-0xa5d*0x5)+_0x4bacad['numParticl'+'esPot']*ie*(0x1d28+-0x185b+-0x4ca)]=_0x21988d[-0x16d5+0x1bf*0x11+-0x6da],_0x231ef4[_0x4c21a8*ie+(-0x1ff8+0xf43*-0x2+0x3*0x14d5)+_0x4bacad['numParticl'+'esPot']*ie*(0x17*0xc5+-0x23*-0x2b+-0x1791)]=_0x21988d[-0xa76*0x1+-0x258f+-0x801*-0x6],_0x231ef4[_0x4c21a8*ie+(0x1*-0x2135+0xb*-0x9d+-0x1*-0x27f6)+_0x4bacad['numParticl'+'esPot']*ie*(0x1e1+-0xd*0x71+-0x1*-0x3df)]=_0x21988d[-0x98*0x5+0x254+-0x53*-0x2],_0x231ef4[_0x4c21a8*ie+(-0x14f9+-0x25df+-0x13*-0x319)+_0x4bacad['numParticl'+'esPot']*ie*(-0x3*-0x282+-0x1fa2+-0xf7*-0x19)]=_0x21988d[0x1106+0x1*0x1e69+-0x2f6c];}else _0x231ef4[_0x4c21a8*ie]=ks['x'],_0x231ef4[_0x4c21a8*ie+(-0x7db+-0x83+0x85f*0x1)]=ks['y'],_0x231ef4[_0x4c21a8*ie+(-0x4c8*0x7+0x2e5*0x9+0x76d)]=ks['z'],_0x231ef4[_0x4c21a8*ie+(-0x9*0x33+0xa20+-0x852*0x1)]=N['lerp'](_0x4bacad['startAngle']*N['DEG_TO_RAD'],_0x4bacad['startAngle'+'2']*N['DEG_TO_RAD'],_0x408a6a),_0x231ef4[_0x4c21a8*ie+(0x97e+-0x18f1+-0x2*-0x7bb)+_0x4bacad['numParticl'+'esPot']*ie]=_0x1d9009;}['update'](_0x51a050,_0x3e61bd,_0x4b68f3,_0x1a4172,_0x386430,_0x1615b1,_0x391413,_0x23bc24){let _0x5cd3b3,_0x52e1d3,_0x5dd5d6;const _0x347ea5=this['_emitter'];if(_0x347ea5['meshInstan'+'ce']['node']){const _0x293d9f=_0x347ea5['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x17b6ac=-0x224d+0xf0d+0x1340;_0x17b6ac<0x64d*0x2+-0x11d+-0xb71;_0x17b6ac++)Vd['data'][_0x17b6ac]=_0x293d9f['data'][_0x17b6ac];Gd['copy'](Vd),Gd['invert'](),si=_0x347ea5['meshInstan'+'ce']['node']['localScale'],v_=Math['max'](Math['max'](si['x'],si['y']),si['z']);}_0x1615b1=_0x347ea5['meshInstan'+'ce']['node']===null||_0x347ea5['localSpace']?T['ZERO']:_0x347ea5['meshInstan'+'ce']['node']['getPositio'+'n']();const _0xe85067=_0x347ea5['camera']?_0x347ea5['camera']['_node']['getPositio'+'n']():T['ZERO'],_0x55b50d=_0x347ea5['useMesh']?-0x10f6+-0x245c+-0x1*-0x3563:-0x1*0x619+-0xf60+0x1588;let _0x126baf,_0x4d9821,_0x10e8c4,_0xb28fd6,_0x375073,_0x15c565,_0x2f9191,_0x5062ff,_0x442cff;const _0x46fa7e=_0x347ea5['precision']-(0x1782+-0x1ac9+0x348);for(let _0x503ea2=0x7d4+-0xd4f*-0x1+-0x1523;_0x503ea2<_0x347ea5['numParticl'+'es'];_0x503ea2++){const _0x311175=Math['floor'](_0x347ea5['vbCPU'][_0x503ea2*_0x347ea5['numParticl'+'eVerts']*(_0x347ea5['useMesh']?-0x15*-0xa0+0x1c4a+-0x2964:-0x17*-0x171+-0x1*0x1183+-0xfa0)+(0x1*0x1985+-0x2*-0x670+-0x2662)]),_0x207111=_0x4b68f3[_0x311175*ie+(-0x45*-0x1c+0x194c+-0x20d8)+_0x347ea5['numParticl'+'esPot']*(0x837+0x14e2+0x2a5*-0xb)*ie];ps['x']=_0x207111,ps['y']=_0x4b68f3[_0x311175*ie+(-0x8*-0x28e+0x2f6*0x1+0x71*-0x35)+_0x347ea5['numParticl'+'esPot']*(0x1ea3+0x1*-0x298+-0x1c09)*ie],ps['z']=_0x4b68f3[_0x311175*ie+(-0x2*-0xce6+0x20dc+-0x3aa6)+_0x347ea5['numParticl'+'esPot']*(0x1a04+0x42a+-0x1e2c)*ie];const _0x51d564=_0x347ea5['rate']+(_0x347ea5['rate2']-_0x347ea5['rate'])*_0x207111,_0x4b67c8=_0x347ea5['lifetime'];let _0x493259=_0x4b68f3[_0x311175*ie+(0x7cd+-0x2152+0x26*0xac)+_0x347ea5['numParticl'+'esPot']*ie]+_0x391413;const _0x3a5250=KM(_0x493259/_0x4b67c8);let _0x3f5e3c=0x1*0x8e1+-0x19b8+0x10d7,_0x5c0f35=-0x13a+0x67*-0x4a+-0x10*-0x1f0;const _0xe3fc88=0x1b69+0x2*-0x31f+-0x1*0x152b;(_0x493259-_0x391413<=0x24d*-0x7+0xcd7*-0x3+0x10*0x36a||_0x493259>=_0x4b67c8)&&this['calcSpawnP'+'osition'](_0x4b68f3,_0x1a4172,_0x386430,_0x1615b1,_0x311175);let _0x406e47=_0x493259>-0x210f+-0x242*0xa+0x37a3&&_0x493259<_0x4b67c8;_0x406e47&&(_0x5dd5d6=_0x3a5250*_0x46fa7e,_0x126baf=Math['floor'](_0x5dd5d6),_0x4d9821=Math['ceil'](_0x5dd5d6),_0x5dd5d6%=-0x2*0x8bd+0x481*-0x1+0x15fc,_0x5cd3b3=_0x347ea5['qRotSpeed'][_0x126baf],_0x52e1d3=_0x347ea5['qRotSpeed'][_0x4d9821],_0x10e8c4=_0x5cd3b3+(_0x52e1d3-_0x5cd3b3)*_0x5dd5d6,_0x5cd3b3=_0x347ea5['qRotSpeed2'][_0x126baf],_0x52e1d3=_0x347ea5['qRotSpeed2'][_0x4d9821],_0xb28fd6=_0x5cd3b3+(_0x52e1d3-_0x5cd3b3)*_0x5dd5d6,_0x5cd3b3=_0x347ea5['qScale'][_0x126baf],_0x52e1d3=_0x347ea5['qScale'][_0x4d9821],_0x3f5e3c=_0x5cd3b3+(_0x52e1d3-_0x5cd3b3)*_0x5dd5d6,_0x5cd3b3=_0x347ea5['qScale2'][_0x126baf],_0x52e1d3=_0x347ea5['qScale2'][_0x4d9821],_0x375073=_0x5cd3b3+(_0x52e1d3-_0x5cd3b3)*_0x5dd5d6,_0x5cd3b3=_0x347ea5['qAlpha'][_0x126baf],_0x52e1d3=_0x347ea5['qAlpha'][_0x4d9821],_0x15c565=_0x5cd3b3+(_0x52e1d3-_0x5cd3b3)*_0x5dd5d6,_0x5cd3b3=_0x347ea5['qAlpha2'][_0x126baf],_0x52e1d3=_0x347ea5['qAlpha2'][_0x4d9821],_0x2f9191=_0x5cd3b3+(_0x52e1d3-_0x5cd3b3)*_0x5dd5d6,_0x5cd3b3=_0x347ea5['qRadialSpe'+'ed'][_0x126baf],_0x52e1d3=_0x347ea5['qRadialSpe'+'ed'][_0x4d9821],_0x5062ff=_0x5cd3b3+(_0x52e1d3-_0x5cd3b3)*_0x5dd5d6,_0x5cd3b3=_0x347ea5['qRadialSpe'+'ed2'][_0x126baf],_0x52e1d3=_0x347ea5['qRadialSpe'+'ed2'][_0x4d9821],_0x442cff=_0x5cd3b3+(_0x52e1d3-_0x5cd3b3)*_0x5dd5d6,_0x5062ff+=(_0x442cff-_0x5062ff)*(_0x207111*(0x6b3+0x2*0x160+0x305*-0x3)%(-0x23e4*-0x1+-0x251e+0x13b)),Rn['x']=_0x4b68f3[_0x311175*ie],Rn['y']=_0x4b68f3[_0x311175*ie+(-0x213d+-0xe8+0x2226)],Rn['z']=_0x4b68f3[_0x311175*ie+(-0x1*-0x1732+0x161+-0x1891)],_0x347ea5['localSpace']?Ka['copy'](Rn):Ka['copy'](Rn)['sub'](_0x1615b1),Ka['normalize']()['mulScalar'](_0x5062ff),_0x126baf*=0x1b0f+0x1*-0x1caf+0x1a3,_0x4d9821*=0x1c3f+0x10f6*-0x1+-0xb46,_0x5cd3b3=_0x347ea5['qLocalVelo'+'city'][_0x126baf],_0x52e1d3=_0x347ea5['qLocalVelo'+'city'][_0x4d9821],Ze['x']=_0x5cd3b3+(_0x52e1d3-_0x5cd3b3)*_0x5dd5d6,_0x5cd3b3=_0x347ea5['qLocalVelo'+'city'][_0x126baf+(0x141a+0x1791*-0x1+0x378)],_0x52e1d3=_0x347ea5['qLocalVelo'+'city'][_0x4d9821+(0x11f*-0x9+0x26*0x49+-0xbe)],Ze['y']=_0x5cd3b3+(_0x52e1d3-_0x5cd3b3)*_0x5dd5d6,_0x5cd3b3=_0x347ea5['qLocalVelo'+'city'][_0x126baf+(0x1c9f*0x1+-0x1*-0x1f84+-0x3c21)],_0x52e1d3=_0x347ea5['qLocalVelo'+'city'][_0x4d9821+(-0xdf*0xa+-0x475+0xd2d)],Ze['z']=_0x5cd3b3+(_0x52e1d3-_0x5cd3b3)*_0x5dd5d6,_0x5cd3b3=_0x347ea5['qLocalVelo'+'city2'][_0x126baf],_0x52e1d3=_0x347ea5['qLocalVelo'+'city2'][_0x4d9821],Dn['x']=_0x5cd3b3+(_0x52e1d3-_0x5cd3b3)*_0x5dd5d6,_0x5cd3b3=_0x347ea5['qLocalVelo'+'city2'][_0x126baf+(-0x25*0xd1+-0x1400+0x3236)],_0x52e1d3=_0x347ea5['qLocalVelo'+'city2'][_0x4d9821+(-0x24a9+-0x1*-0xf52+-0xaac*-0x2)],Dn['y']=_0x5cd3b3+(_0x52e1d3-_0x5cd3b3)*_0x5dd5d6,_0x5cd3b3=_0x347ea5['qLocalVelo'+'city2'][_0x126baf+(-0x1*0xbc9+-0x3a5+0xf70)],_0x52e1d3=_0x347ea5['qLocalVelo'+'city2'][_0x4d9821+(-0x237f+0x1673+0xd0e)],Dn['z']=_0x5cd3b3+(_0x52e1d3-_0x5cd3b3)*_0x5dd5d6,_0x5cd3b3=_0x347ea5['qVelocity'][_0x126baf],_0x52e1d3=_0x347ea5['qVelocity'][_0x4d9821],Nt['x']=_0x5cd3b3+(_0x52e1d3-_0x5cd3b3)*_0x5dd5d6,_0x5cd3b3=_0x347ea5['qVelocity'][_0x126baf+(0x2447*0x1+-0x1b5b*-0x1+0x5b*-0xb3)],_0x52e1d3=_0x347ea5['qVelocity'][_0x4d9821+(0x103+-0x12c6+0x11c4)],Nt['y']=_0x5cd3b3+(_0x52e1d3-_0x5cd3b3)*_0x5dd5d6,_0x5cd3b3=_0x347ea5['qVelocity'][_0x126baf+(-0xa53+0x1*-0xaf1+-0x30a*-0x7)],_0x52e1d3=_0x347ea5['qVelocity'][_0x4d9821+(0x2*-0x6c7+0xb70+-0x44*-0x8)],Nt['z']=_0x5cd3b3+(_0x52e1d3-_0x5cd3b3)*_0x5dd5d6,_0x5cd3b3=_0x347ea5['qVelocity2'][_0x126baf],_0x52e1d3=_0x347ea5['qVelocity2'][_0x4d9821],In['x']=_0x5cd3b3+(_0x52e1d3-_0x5cd3b3)*_0x5dd5d6,_0x5cd3b3=_0x347ea5['qVelocity2'][_0x126baf+(-0xcdf+-0x42d*-0x3+0x1*0x59)],_0x52e1d3=_0x347ea5['qVelocity2'][_0x4d9821+(0x20c3*0x1+-0x7*0x11+-0x204b)],In['y']=_0x5cd3b3+(_0x52e1d3-_0x5cd3b3)*_0x5dd5d6,_0x5cd3b3=_0x347ea5['qVelocity2'][_0x126baf+(-0x125e+0xa93+0x1*0x7cd)],_0x52e1d3=_0x347ea5['qVelocity2'][_0x4d9821+(-0x1*-0x102a+-0x2*-0xadf+-0x25e6)],In['z']=_0x5cd3b3+(_0x52e1d3-_0x5cd3b3)*_0x5dd5d6,Ze['x']+=(Dn['x']-Ze['x'])*ps['x'],Ze['y']+=(Dn['y']-Ze['y'])*ps['y'],Ze['z']+=(Dn['z']-Ze['z'])*ps['z'],_0x347ea5['initialVel'+'ocity']>-0x1*-0x49+-0x1480+-0x159*-0xf&&(_0x347ea5['emitterSha'+'pe']===qb?(ze['copy'](ps)['mulScalar'](-0xc56+-0x11*-0x65+0x1*0x5a3)['sub'](T['ONE'])['normalize'](),Ze['add'](ze['mulScalar'](_0x347ea5['initialVel'+'ocity']))):Ze['add'](T['FORWARD']['mulScalar'](_0x347ea5['initialVel'+'ocity']))),Nt['x']+=(In['x']-Nt['x'])*ps['x'],Nt['y']+=(In['y']-Nt['y'])*ps['y'],Nt['z']+=(In['z']-Nt['z'])*ps['z'],_0x10e8c4+=(_0xb28fd6-_0x10e8c4)*ps['y'],_0x3f5e3c=(_0x3f5e3c+(_0x375073-_0x3f5e3c)*(_0x207111*(0x449c+-0x2425+0x699*0x1)%(0x1*-0x6f1+0xe19+-0x727*0x1)))*v_,_0x5c0f35=(_0x2f9191-_0x15c565)*(_0x207111*(-0x1a7*0xd+-0x2*0xaa2+0x2ea7*0x1)%(0xd21*-0x1+0xa1*-0x25+-0x2467*-0x1)),_0x347ea5['meshInstan'+'ce']['node']&&(_0x347ea5['localSpace']?(Ze['x']/=si['x'],Ze['y']/=si['y'],Ze['z']/=si['z']):Vd['transformP'+'oint'](Ze,Ze)),_0x347ea5['localSpace']?(Gd['transformP'+'oint'](Nt,Nt),Ze['add'](Nt)['add'](Ka)):(Ze['add'](Nt['mul'](si)),Ze['add'](Ka['mul'](si))),Bl['copy'](Ze),b_['copy'](Rn)['add'](Ze['mulScalar'](_0x391413)),vt['copy'](b_),_0x4b68f3[_0x311175*ie]=vt['x'],_0x4b68f3[_0x311175*ie+(-0x1744+-0x1f95+0x19d*0x22)]=vt['y'],_0x4b68f3[_0x311175*ie+(0x1*-0x1aa7+0x1e6a+-0x1*0x3c1)]=vt['z'],_0x4b68f3[_0x311175*ie+(0x227*-0xb+0x5*-0x6f0+0x8*0x74c)]+=_0x10e8c4*_0x391413,_0x347ea5['wrap']&&_0x347ea5['wrapBounds']&&(_0x347ea5['localSpace']||vt['sub'](_0x1615b1),vt['x']=Hd(vt['x'],_0x347ea5['wrapBounds']['x'])-_0x347ea5['wrapBounds']['x']*(-0x6*0x4a3+-0xb8f+0x251*0x11+0.5),vt['y']=Hd(vt['y'],_0x347ea5['wrapBounds']['y'])-_0x347ea5['wrapBounds']['y']*(0x91f*0x1+-0x89*-0x41+-0x2be8+0.5),vt['z']=Hd(vt['z'],_0x347ea5['wrapBounds']['z'])-_0x347ea5['wrapBounds']['z']*(0x1*-0xde5+0x1fb*0x1+0xbea+0.5),_0x347ea5['localSpace']||vt['add'](_0x1615b1)),_0x347ea5['sort']>0x1d3*-0x4+-0x1da9+0x24f5&&(_0x347ea5['sort']===-0x2fe*-0xd+-0xb6*-0xb+-0x2eb7?(wr['copy'](vt)['sub'](_0xe85067),_0x347ea5['particleDi'+'stance'][_0x311175]=-(wr['x']*wr['x']+wr['y']*wr['y']+wr['z']*wr['z'])):_0x347ea5['sort']===0x5*0x5c6+0x8e3+-0x25bf?_0x347ea5['particleDi'+'stance'][_0x311175]=_0x493259:_0x347ea5['sort']===0x1b1e+-0x14a6+0x3*-0x227&&(_0x347ea5['particleDi'+'stance'][_0x311175]=-_0x493259))),_0x23bc24?_0x493259<-0x91*0x43+0x26fe+-0x10b&&(_0x4b68f3[_0x311175*ie+(-0x593*0x4+-0x9cb+0x1*0x201a)+_0x347ea5['numParticl'+'esPot']*(0x26d1+0xcf1*0x2+0x1*-0x40b1)*ie]=-(-0xb2*0x28+0x4fe+-0x1*-0x16d3)):(_0x493259>=_0x4b67c8&&(_0x493259-=Math['max'](_0x4b67c8,(_0x347ea5['numParticl'+'es']-(-0x5c9+-0x1093*0x1+0x1*0x165d))*_0x51d564),_0x4b68f3[_0x311175*ie+(0x4e9*0x3+0x14fe+-0x7*0x51a)+_0x347ea5['numParticl'+'esPot']*(0x18e*-0x17+-0x1*0x887+0x2c4b)*ie]=_0x347ea5['loop']?0x1f0e+0x4*-0x704+-0x2fd:-(0x95*-0x3b+-0x28f*0x1+0x43*0x8d)),_0x493259<0x7e5*0x4+0x5*-0x640+0xe*-0x6&&_0x347ea5['loop']&&(_0x4b68f3[_0x311175*ie+(0x22a3+-0x86a+-0x1a36*0x1)+_0x347ea5['numParticl'+'esPot']*(-0x2696+0xc59+0x1a3f)*ie]=-0x2255+0x7cd+0x1a89*0x1)),_0x4b68f3[_0x311175*ie+(-0x5c8+-0x1*-0xf65+-0x99a)+_0x347ea5['numParticl'+'esPot']*(0xc60+-0x2355+-0x1*-0x16f7)*ie]<0x1c72+-0x894+0x9ef*-0x2&&(_0x406e47=!(0x199*-0x13+0x224c+-0x3f0)),_0x4b68f3[_0x311175*ie+(0x2d3+-0xa*0x15e+0x8b*0x14)+_0x347ea5['numParticl'+'esPot']*ie]=_0x493259;for(let _0x2254b0=-0xd7d+0x1d0e+-0x31d*0x5;_0x2254b0<_0x347ea5['numParticl'+'eVerts'];_0x2254b0++){const _0x5c17e4=(_0x503ea2*_0x347ea5['numParticl'+'eVerts']+_0x2254b0)*(_0x347ea5['useMesh']?-0x1*0x26e3+-0x812+0x2efb:-0x270b+-0x591+-0x88*-0x54);let _0x541e9c=_0x347ea5['vbCPU'][_0x5c17e4],_0x394836=_0x347ea5['vbCPU'][_0x5c17e4+(-0x17*-0x13a+-0x1c02+-0x33)],_0x4ae1d7=_0x347ea5['vbCPU'][_0x5c17e4+(-0x612+-0x1fd1+-0x1*-0x25e5)];_0x406e47||(_0x541e9c=_0x394836=_0x4ae1d7=0x356+0x141*0x11+-0x1*0x18a7);const _0x5d3772=_0x503ea2*_0x347ea5['numParticl'+'eVerts']*_0x55b50d+_0x2254b0*_0x55b50d;_0x51a050[_0x5d3772]=vt['x'],_0x51a050[_0x5d3772+(-0x3*-0x183+-0x2c*0x8d+0x13b4)]=vt['y'],_0x51a050[_0x5d3772+(0x93e+-0x16*0x82+-0x1f0*-0x1)]=vt['z'],_0x51a050[_0x5d3772+(0x28c+0x52a+-0x7b3)]=_0x3a5250,_0x51a050[_0x5d3772+(-0xe78+-0xe73+0x1cef)]=_0x347ea5['alignToMot'+'ion']?_0xe3fc88:_0x4b68f3[_0x311175*ie+(0x1336+0x1*-0x7d1+-0xb62)],_0x51a050[_0x5d3772+(0x443*0x5+0x2641+0x13d9*-0x3)]=_0x3f5e3c,_0x51a050[_0x5d3772+(-0x322*-0x7+-0xdf*-0x12+-0x2596)]=_0x5c0f35,_0x51a050[_0x5d3772+(-0x101c+-0x20c9*-0x1+-0x10a6)]=Bl['x'],_0x51a050[_0x5d3772+(0x1a*-0x11+0x3*0x5fb+-0x102f)]=_0x541e9c,_0x51a050[_0x5d3772+(-0x16f1*0x1+0x134c+0x3ae)]=_0x394836,_0x51a050[_0x5d3772+(-0x8b*0x17+0x4c9+0x7be*0x1)]=_0x4ae1d7,_0x51a050[_0x5d3772+(0x903+-0x6b7*-0x3+-0x1d*0x101)]=Bl['y'],_0x51a050[_0x5d3772+(-0x1614+0x1*0x14d5+-0x1*-0x14b)]=_0x311175,_0x51a050[_0x5d3772+(0x1152+0x22*-0x88+0x1d*0x7)]=Bl['z'],_0x51a050[_0x5d3772+(0x1*-0xb81+0x1*-0x931+0x14c0)]=_0x347ea5['vbCPU'][_0x5c17e4+(0x13e7+0x10b*-0x20+-0x4*-0x35f)],_0x347ea5['useMesh']&&(_0x51a050[_0x5d3772+(-0x1*-0x1eb2+0xe39*-0x2+-0x231)]=_0x347ea5['vbCPU'][_0x5c17e4+(0x493*-0x5+-0x41e+0x1b01)],_0x51a050[_0x5d3772+(0x1*0x100b+-0x1888+-0xc7*-0xb)]=_0x347ea5['vbCPU'][_0x5c17e4+(0x21e4+0x209*-0x2+-0x9ef*0x3)]);}}if(_0x347ea5['sort']>Du&&_0x347ea5['camera']){const _0x3fc1e0=_0x347ea5['useMesh']?-0x1a7e+0x11*-0x1c1+-0xfd*-0x39:-0x1b1d*-0x1+-0x11*-0x143+-0x1*0x308c,_0x2b6a03=_0x347ea5['particleDi'+'stance'];for(let _0x36ad08=0x1*0x137+-0xb*0x371+-0x1252*-0x2;_0x36ad08<_0x347ea5['numParticl'+'es'];_0x36ad08++)_0x3e61bd[_0x36ad08][-0x1*-0x1ad5+-0x27d+0xa4*-0x26]=_0x36ad08,_0x3e61bd[_0x36ad08][0x1175+-0x7b*0x41+0xdc7*0x1]=_0x2b6a03[Math['floor'](_0x347ea5['vbCPU'][_0x36ad08*_0x347ea5['numParticl'+'eVerts']*_0x3fc1e0+(-0x9*-0x2f7+-0x72*0x1+0xd1d*-0x2)])];_0x347ea5['vbOld']['set'](_0x347ea5['vbCPU']),_0x3e61bd['sort']((_0x2a53d3,_0x3fd4e5)=>_0x2a53d3[0x134d+-0x758+-0xbf4]-_0x3fd4e5[-0x4*-0x210+0x1f*-0x7a+-0x1*-0x687]);for(let _0x407a13=0x2f*0x96+-0x2230+0x353*0x2;_0x407a13<_0x347ea5['numParticl'+'es'];_0x407a13++){const _0x30b6cf=_0x3e61bd[_0x407a13][-0x243b+-0x2244+-0x1*-0x467f]*_0x347ea5['numParticl'+'eVerts']*_0x3fc1e0,_0x5ea0da=_0x407a13*_0x347ea5['numParticl'+'eVerts']*_0x3fc1e0;for(let _0x35343d=-0x575+-0x254f+0x2ac4;_0x35343d<_0x347ea5['numParticl'+'eVerts']*_0x3fc1e0;_0x35343d++)_0x347ea5['vbCPU'][_0x5ea0da+_0x35343d]=_0x347ea5['vbOld'][_0x30b6cf+_0x35343d];}}}}const w_=new js(),T_=new js(),A_=new js();class JM{constructor(_0x36cda7,_0x4f77d6){this['_emitter']=_0x36cda7,this['frameRando'+'mUniform']=new Float32Array(-0x1ba7*0x1+0x1bed+0x43*-0x1),this['emitterPos'+'Uniform']=new Float32Array(-0x7c0+-0x2565+-0x121*-0x28),this['emitterSca'+'leUniform']=new Float32Array([0x91*-0x25+-0xdf*-0x3+0x1259,-0x1bf1+0x28*-0x4f+-0x2*-0x1425,0x1*0xdc6+0x1*0x5f9+-0x2*0x9df]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(-0x1*0xbbd+0xbe3+-0x1*0x23),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(-0x421*0x6+-0x1*0x12ad+0x2b76),this['inBoundsSi'+'zeUniform']=new Float32Array(0x1f*-0x137+0x119*0x1b+0xb*0xbb),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(0x222f+0x4d9*0x2+-0x2bde),this['constantPa'+'rticleTexI'+'N']=_0x4f77d6['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x4f77d6['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x4f77d6['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x4f77d6['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x4f77d6['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x4f77d6['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x4f77d6['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x4f77d6['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x4f77d6['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x4f77d6['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x4f77d6['scope']['resolve']('delta'),this['constantRa'+'te']=_0x4f77d6['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x4f77d6['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x4f77d6['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x4f77d6['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x4f77d6['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x4f77d6['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x4f77d6['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x4f77d6['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x4f77d6['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x4f77d6['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x4f77d6['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x4f77d6['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x4f77d6['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x4f77d6['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x4f77d6['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x4f77d6['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x4f77d6['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x4f77d6['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x4f77d6['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x4f77d6['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x4f77d6['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x4f77d6['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x4f77d6['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x4f77d6['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x4f77d6['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x4f77d6['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][0x3*0x8b1+0x91a+-0x5*0x709]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][0x100+-0x407+0x308]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][-0x1b*0x15d+-0x22*0xab+0x7*0x881]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][0x1f3a+0x1a03*-0x1+-0x1*0x537]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][-0x15c*-0x15+0x43e*-0x3+-0xfd1]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][0x5*0x70f+-0x2470+0x127]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][0x65d*-0x5+-0x10f3*0x1+0x30c4]=Math['random'](),this['frameRando'+'mUniform'][0xde4*-0x1+0x2*-0x7a0+0x1d25]=Math['random'](),this['frameRando'+'mUniform'][-0x56*0x65+-0x1ddc+0xc*0x551]=Math['random']();}['update'](_0x389d4b,_0x3c50fd,_0x5b3d2a,_0x1d109f,_0x5de026){G['pushGpuMar'+'ker'](_0x389d4b,'ParticleGP'+'U');const _0x55de14=this['_emitter'];_0x389d4b['setBlendSt'+'ate'](_t['NOBLEND']),_0x389d4b['setDepthSt'+'ate'](as['NODEPTH']),_0x389d4b['setCullMod'+'e'](mt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((0x1*0x70+0x1*-0x194e+-0x1*-0x18df)/_0x55de14['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x55de14['precision']),this['constantNu'+'mParticles']['setValue'](_0x55de14['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x55de14['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x55de14['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x55de14['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x55de14['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x55de14['internalTe'+'x3']);const _0x4dd6fc=_0x55de14['meshInstan'+'ce']['node'],_0x37afee=_0x4dd6fc===null?T['ONE']:_0x4dd6fc['localScale'];if(_0x55de14['pack8']){this['worldBound'+'sMulUnifor'+'m'][-0x4ce+-0xc3d+0x1*0x110b]=_0x55de14['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][0x725+0x10b*-0x21+0x1b47*0x1]=_0x55de14['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][0x1*-0x991+0x3*0xcad+-0x1c74]=_0x55de14['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][0x2116+0x2243+-0x3*0x1673]=_0x55de14['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][0x2*0x1134+0xd14+0x451*-0xb]=_0x55de14['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][0x22fb*0x1+0x732+-0x2a2b]=_0x55de14['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x384855=_0x55de14['maxVel']*Math['max'](Math['max'](_0x37afee['x'],_0x37afee['y']),_0x37afee['z']);_0x384855=Math['max'](_0x384855,-0x3*0x98d+-0x5*0xb7+0xdf*0x25),this['constantMa'+'xVel']['setValue'](_0x384855);}const _0x9ecab6=_0x4dd6fc===null||_0x55de14['localSpace']?T['ZERO']:_0x4dd6fc['getPositio'+'n'](),_0x3ba7b8=_0x4dd6fc===null?q['IDENTITY']:_0x4dd6fc['getWorldTr'+'ansform']();_0x55de14['emitterSha'+'pe']===Vs?(w_['setFromMat'+'4'](_0x3c50fd),this['constantSp'+'awnBounds']['setValue'](w_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x5b3d2a)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x55de14['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x55de14['emitterRad'+'ius']===-0x11b6*-0x1+-0x18b9*0x1+0x5*0x167?-0xa*-0x18d+-0x8b1+-0x1*0x6d1:_0x55de14['emitterRad'+'iusInner']/_0x55de14['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x55de14['initialVel'+'ocity']),T_['setFromMat'+'4'](_0x3ba7b8),A_['invertMat4'](_0x3ba7b8),this['emitterPos'+'Uniform'][-0xf*0x141+0xa11+-0x175*-0x6]=_0x9ecab6['x'],this['emitterPos'+'Uniform'][-0x539+0x133c+-0xe02]=_0x9ecab6['y'],this['emitterPos'+'Uniform'][-0x1f0f*-0x1+-0x93*-0x44+-0x4619]=_0x9ecab6['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x1d109f),this['constantRa'+'te']['setValue'](_0x55de14['rate']),this['constantRa'+'teDiv']['setValue'](_0x55de14['rate2']-_0x55de14['rate']),this['constantSt'+'artAngle']['setValue'](_0x55de14['startAngle']*N['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x55de14['startAngle'+'2']*N['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x55de14['seed']),this['constantLi'+'fetime']['setValue'](_0x55de14['lifetime']),this['emitterSca'+'leUniform'][0x1cfe+0x43*-0x71+0x1*0x95]=_0x37afee['x'],this['emitterSca'+'leUniform'][-0x21ee+-0x1212+0x3401]=_0x37afee['y'],this['emitterSca'+'leUniform'][0x16fc+-0xe*-0x245+-0x2*0x1b60]=_0x37afee['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](T_['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](A_['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x55de14['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x55de14['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x55de14['rotSpeedUM'+'ax'][0x1921+-0x2*0x4ca+-0x1*0xf8d]);let _0x43b9cf=_0x55de14['swapTex']?_0x55de14['particleTe'+'xOUT']:_0x55de14['particleTe'+'xIN'];_0x43b9cf=_0x55de14['beenReset']?_0x55de14['particleTe'+'xStart']:_0x43b9cf;const _0x3777d7=_0x55de14['swapTex']?_0x55de14['particleTe'+'xIN']:_0x55de14['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x43b9cf),dn(_0x389d4b,_0x55de14['swapTex']?_0x55de14['rtParticle'+'TexIN']:_0x55de14['rtParticle'+'TexOUT'],_0x5de026?_0x55de14['shaderPart'+'icleUpdate'+'OnStop']:_0x55de14['loop']?_0x55de14['shaderPart'+'icleUpdate'+'Respawn']:_0x55de14['shaderPart'+'icleUpdate'+'NoRespawn']),_0x55de14['material']['setParamet'+'er']('particleTe'+'xOUT',_0x43b9cf),_0x55de14['material']['setParamet'+'er']('particleTe'+'xIN',_0x3777d7),_0x55de14['beenReset']=!(0x609+0xa*0x367+-0x280e),_0x55de14['swapTex']=!_0x55de14['swapTex'],_0x55de14['prevWorldB'+'oundsSize']['copy'](_0x55de14['worldBound'+'sSize']),_0x55de14['prevWorldB'+'oundsCente'+'r']['copy'](_0x55de14['worldBound'+'s']['center']),_0x55de14['pack8']&&this['_setInputB'+'ounds'](),G['popGpuMark'+'er'](_0x389d4b);}}class e1 extends It{['generateKe'+'y'](_0x17b066){let _0x211e72='particle_'+It['definesHas'+'h'](_0x17b066['defines'])+'_';for(const _0x621dc3 in _0x17b066)_0x17b066['hasOwnProp'+'erty'](_0x621dc3)&&(_0x211e72+=_0x17b066[_0x621dc3]);return _0x211e72;}['_animTex'](_0x3e2790){let _0x3a3dfe='';return _0x3a3dfe+=_0x3e2790['animTexLoo'+'p']?X['particleAn'+'imFrameLoo'+'pVS']:X['particleAn'+'imFrameCla'+'mpVS'],_0x3a3dfe+=X['particleAn'+'imTexVS'],_0x3a3dfe;}['createShad'+'erDefiniti'+'on'](_0x4c100c,_0x170551){const _0x1aa412='#define\x20PA'+'RTICLE_'+(_0x170551['useCpu']?'CPU':'GPU')+'\x0a';let _0x50697f='#define\x20PA'+'RTICLE\x0a'+_0x1aa412,_0x5ef3d3='#define\x20VE'+'RTEXSHADER'+'\x0a'+_0x1aa412;_0x170551['mesh']&&(_0x5ef3d3+='#define\x20US'+'E_MESH\x0a'),_0x170551['localSpace']&&(_0x5ef3d3+='#define\x20LO'+'CAL_SPACE\x0a'),_0x170551['screenSpac'+'e']&&(_0x5ef3d3+='#define\x20SC'+'REEN_SPACE'+'\x0a'),_0x170551['animTex']&&(_0x5ef3d3+='\x0auniform\x20v'+'ec2\x20animTe'+'xTilesPara'+'ms;\x0a'),_0x170551['animTex']&&(_0x5ef3d3+='\x0auniform\x20v'+'ec4\x20animTe'+'xParams;\x0a'),_0x170551['animTex']&&(_0x5ef3d3+='\x0auniform\x20v'+'ec2\x20animTe'+'xIndexPara'+'ms;\x0a'),_0x170551['normal']===-0x2009+0x25*0xc5+0x392&&(_0x5ef3d3+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x170551['normal']===0x939+0x878+-0x10*0x11b&&(_0x5ef3d3+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a'),_0x170551['soft']&&(_0x5ef3d3+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a');const _0x175705=_0x170551['customFace']?X['particle_c'+'ustomFaceV'+'S']:X['particle_b'+'illboardVS'];_0x170551['useCpu']?(_0x170551['soft']>0x3f5+0x233c+-0x7f*0x4f&&(_0x5ef3d3+=X['screenDept'+'hPS']),_0x5ef3d3+=X['particle_c'+'puVS'],_0x170551['localSpace']&&(_0x5ef3d3+=X['particle_l'+'ocalShiftV'+'S']),_0x170551['animTex']&&(_0x5ef3d3+=this['_animTex'](_0x170551)),_0x170551['alignToMot'+'ion']&&(_0x5ef3d3+=X['particle_p'+'ointAlongV'+'S']),_0x5ef3d3+=_0x170551['mesh']?X['particle_m'+'eshVS']:_0x175705,_0x170551['normal']===-0xf6*-0x1f+0x1*-0x122b+0x5cf*-0x2&&(_0x5ef3d3+=X['particle_n'+'ormalVS']),_0x170551['normal']===0xd4c+-0x80d*-0x2+-0x1d64&&(_0x5ef3d3+=X['particle_T'+'BNVS']),_0x170551['stretch']>-0x4e4+0xdd5+-0x3*0x2fb&&(_0x5ef3d3+=X['particle_s'+'tretchVS']),_0x5ef3d3+=X['particle_c'+'pu_endVS'],_0x170551['soft']>-0x19f6+0x1*0x4c1+-0x3d*-0x59&&(_0x5ef3d3+=X['particle_s'+'oftVS'])):(_0x5ef3d3+=X['particle_i'+'nitVS'],_0x5ef3d3+=_0x170551['pack8']?X['particleIn'+'putRgba8PS']:X['particleIn'+'putFloatPS'],_0x170551['soft']>0xe51+-0x259d+0x174c&&(_0x5ef3d3+=X['screenDept'+'hPS']),_0x5ef3d3+=X['particleVS'],_0x170551['localSpace']&&(_0x5ef3d3+=X['particle_l'+'ocalShiftV'+'S']),_0x170551['animTex']&&(_0x5ef3d3+=this['_animTex'](_0x170551)),_0x170551['wrap']&&(_0x5ef3d3+=X['particle_w'+'rapVS']),_0x170551['alignToMot'+'ion']&&(_0x5ef3d3+=X['particle_p'+'ointAlongV'+'S']),_0x5ef3d3+=_0x170551['mesh']?X['particle_m'+'eshVS']:_0x175705,_0x170551['normal']===-0x84*-0x37+-0x1e8a+0x22f&&(_0x5ef3d3+=X['particle_n'+'ormalVS']),_0x170551['normal']===-0x8c3*-0x1+-0x18d5+-0x3*-0x55c&&(_0x5ef3d3+=X['particle_T'+'BNVS']),_0x170551['stretch']>0x765+0x9c*-0x1e+-0x1*-0xae3&&(_0x5ef3d3+=X['particle_s'+'tretchVS']),_0x5ef3d3+=X['particle_e'+'ndVS'],_0x170551['soft']>-0x6a*0x19+0x76*-0x13+-0x4c7*-0x4&&(_0x5ef3d3+=X['particle_s'+'oftVS'])),_0x5ef3d3+='}\x0a',_0x170551['normal']>-0x1*-0x1736+0x1*0xa81+0xb3d*-0x3&&(_0x170551['normal']===0x719*-0x4+-0x1*0x1232+0x2e97?_0x50697f+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a':_0x170551['normal']===0x1*-0x705+0x2481+-0x1d7a&&(_0x50697f+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x50697f+='\x0auniform\x20v'+'ec3\x20lightC'+'ube[6];\x0a'),_0x170551['soft']&&(_0x50697f+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a'),_0x50697f+=X['decodePS'],_0x50697f+='#include\x20\x22'+'gammaPS\x22\x0a',_0x50697f+='#include\x20\x22'+'tonemappin'+'gPS\x22\x0a',_0x50697f+='#include\x20\x22'+'fogPS\x22\x0a',_0x170551['normal']===0x148b*0x1+0x29*0x6+-0x1*0x157f&&(_0x50697f+='\x0auniform\x20s'+'ampler2D\x20n'+'ormalMap;\x0a'),_0x170551['soft']>0x15*-0x71+0x888+0x7*0x1b&&(_0x50697f+=X['screenDept'+'hPS']),_0x50697f+=X['particlePS'],_0x170551['soft']>0x6b+-0x3d8+0x36d*0x1&&(_0x50697f+=X['particle_s'+'oftPS']),_0x170551['normal']===-0x2680+0x153*-0x5+0x2d20&&(_0x50697f+='\x0avec3\x20norm'+'al\x20=\x20Norma'+'l;\x0a'),_0x170551['normal']===0x25ff+-0x1*0x221b+-0x3e2&&(_0x50697f+=X['particle_n'+'ormalMapPS']),_0x170551['normal']>0xef8+0x1c4f+-0x2b47*0x1&&(_0x50697f+=_0x170551['halflamber'+'t']?X['particle_h'+'alflambert'+'PS']:X['particle_l'+'ambertPS']),_0x170551['normal']>0x9b*-0x2d+-0x1*-0xe27+0xd18&&(_0x50697f+=X['particle_l'+'ightingPS']),_0x170551['blend']===Kt?_0x50697f+=X['particle_b'+'lendNormal'+'PS']:_0x170551['blend']===yp?_0x50697f+=X['particle_b'+'lendAddPS']:_0x170551['blend']===xp&&(_0x50697f+=X['particle_b'+'lendMultip'+'lyPS']),_0x50697f+=X['particle_e'+'ndPS'];const _0x2fe50d=new Map(Object['entries']({...X,..._0x170551['chunks']}));return Mt['createDefi'+'nition'](_0x4c100c,{'name':'ParticleSh'+'ader','vertexCode':_0x5ef3d3,'fragmentCode':_0x50697f,'fragmentDefines':_0x170551['defines'],'fragmentIncludes':_0x2fe50d,'vertexDefines':_0x170551['defines']});}}const t1=new e1();class s1 extends yn{constructor(_0x3d291f){super(),c(this,'emitter',null),(this['emitter']=_0x3d291f,v['assert'](_0x3d291f));}['getShaderV'+'ariant'](_0x5daee1){const {device:_0x408300,scene:_0x945ff2,cameraShaderParams:_0xa0a838}=_0x5daee1,{emitter:_0x43c00e}=this,_0x5c3db0={'defines':Dp(this,_0x5daee1),'pass':gn,'useCpu':this['emitter']['useCpu'],'normal':_0x43c00e['lighting']?_0x43c00e['normalMap']!==null?0xa2f+-0x1*-0x2417+0x2a*-0x11a:0x111*0x9+-0x1c37+0xe3*0x15:0x1*0x5fc+0x875+0xe71*-0x1,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'gamma':(_0xa0a838==null?void(-0x16bb*-0x1+0x1*0xdc6+-0x2481):_0xa0a838['shaderOutp'+'utGamma'])??sl,'toneMap':(_0xa0a838==null?void(0xa7b*0x2+-0x13*-0x8e+0x1f8*-0x10):_0xa0a838['toneMappin'+'g'])??Ap,'fog':_0x945ff2&&!this['emitter']['noFog']?_0x945ff2['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x43c00e['inTools']?!(0xcb8+0x3*-0xce6+0x19fb):this['emitter']['screenSpac'+'e'],'blend':this['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==Uh},_0x43273a=new Yc(_0x5daee1['viewUnifor'+'mFormat'],_0x5daee1['viewBindGr'+'oupFormat'],_0x5daee1['vertexForm'+'at']),_0x30072f=ka(_0x408300);return _0x30072f['register']('particle',t1),_0x30072f['getProgram']('particle',_0x5c3db0,_0x43273a,this['userId']);}}const E_=[[-(-0x1375*0x1+0x2fa*-0x1+0x1670),-(-0x1*0x233b+0x1bbb+0x1*0x781)],[0x7f0+-0x1bb1+0x13c2,-(0xe6+-0x1*0x15c1+0x10b*0x14)],[-0x30*-0x2e+-0x2589*-0x1+-0x8*0x5c5,-0x52f*0x5+0x25a3+-0xbb7],[-(-0x1a87+0x237f+-0x8f7),0x9aa*-0x1+-0x131d*-0x1+0x1a*-0x5d]];function Qt(_0x54bdd9,_0x48b9af,_0x4985c9,_0x347879,_0x1438e9=Ke,_0x2ae0e4,_0xc00ae9){let _0x25a264=de;_0xc00ae9&&(_0x1438e9===Se||_0x1438e9===rs)&&(_0x25a264=st);const _0x42c930=new he(_0x54bdd9,{'width':_0x48b9af,'height':_0x4985c9,'format':_0x1438e9,'cubemap':!(-0x1*-0x32d+-0xd7+-0x255),'mipmaps':!(-0x37*0x17+0x1f64+-0x1a72*0x1),'minFilter':_0x25a264,'magFilter':_0x25a264,'addressU':ae,'addressV':ae,'name':'ParticleSy'+'stemTextur'+'e'}),_0x234237=_0x42c930['lock']();if(_0x1438e9===Se||_0x1438e9===rs){const _0x13f71b=new Uint8Array(_0x347879['length']);for(let _0x4429be=0x234a+-0x250a+0x1c0;_0x4429be<_0x347879['length'];_0x4429be++)_0x13f71b[_0x4429be]=_0x347879[_0x4429be]*_0x2ae0e4*(0x8b4+-0xc96*0x2+-0x107*-0x11);_0x347879=_0x13f71b;}return _0x234237['set'](_0x347879),_0x42c930['unlock'](),_0x42c930;}function C_(_0x1ba729){return Math['max'](Math['min'](_0x1ba729,-0x25df+0x19f6+0xbea),-0xb6*0x10+0x819+-0x347*-0x1);}const M_=new Cs([-0x2223+-0x3*0xbf5+0x4602,-0x32e+-0x541+0x11*0x7f,0xb4a*-0x2+0x152e*-0x1+0x293*0x11,-0x20b3+0x235+0x1e7e]),P_=new Cs([-0x1e5+0x2c3+-0xde,0x19d2+-0x17c2+-0x11*0x1f,0x23f6+0x5*-0x667+-0x2*0x1f9,0x2645+0x3b5*-0x6+0x803*-0x2]),R_=new jr([-0x1af6+0x1f2a+-0x434,0x188f+0x12*-0x1ff+0xb5f,-0xd75+-0x1b81*-0x1+-0xe0b,0x56+-0x19*0x2+0xc*-0x3],[-0x2c2+0x66c*-0x2+-0x2*-0x7cd,-0x554+-0x2*-0x11d8+-0x1e5c,0x11d4+-0xabb+-0x718,-0x296*-0x7+0x2273+-0x348d],[0x3c7*0x5+0x66+-0x1349,-0xdc*0x23+-0x1*-0x17b6+0x65e,0x95d+-0x580+-0x1ee*0x2,-0x23a+-0x401*0x7+0x1e41*0x1]),i1=new jr([-0xb58+0x9*0x427+0x1*-0x1a07,-0x1*0x2401+0x6e+-0x2c*-0xcf,-0x5d1*0x2+0x2042+0x1*-0x149f,0x1115*0x1+-0x255b+0x1*0x1447],[0x1*0x6eb+-0x24d+0x2*-0x24f,0x496+0x4*-0x70a+0x47*0x55,0x678+-0x397*0x3+0x44e,0x107b+0xa46+-0x1ac0],[-0x1d2c+-0x26f4+0x4420,0x7*-0x397+-0x7b*0x34+0x321e,0x16c7+-0x2401*0x1+0xd3b,-0xe9*0x16+-0x2225+0x362c]);let ii=0x1*0x4+0x1476+-0x1478;const zl=0x1*0x280+-0x137d+0x1101,ri=new Float32Array(-0x2590+0x1b41+0xa52*0x1),Tr=new q(),I_=new T(),Ul=new T(),Vl=new T();let Hu,fh;function re(_0x36f6e1,_0x43e07d){fh[_0x36f6e1]!==void(-0x5db*-0x1+-0xf12+0x937)&&fh[_0x36f6e1]!==null?Hu[_0x36f6e1]=fh[_0x36f6e1]:Hu[_0x36f6e1]=_0x43e07d;}function O0(_0x44fe1b,_0x488329,_0x3493ab){return(_0x44fe1b*(0x182e+0x9f6+-0x2125*0x1)<<0x25f8+0x7*-0x4e9+0xb5*-0x5|_0x488329*(0x25fa+0x252+-0x274d)<<0x10bd*0x1+0x3*-0x831+0x35*0x26|_0x3493ab*(-0x474+0x2*-0x107f+0x1*0x2671))/(0x8*0x4c4+0x2226+-0x4845<<-0x1727*0x1+0xfe*-0x11+0x475*0x9);}function D_(_0x54b1de,_0x498a52){const _0x5356fd=_0x54b1de['length']/(0x1be5+-0x1954+-0x28e),_0x2759ac=new Array(_0x5356fd*(-0x12*0x61+0x12f8+0xc22*-0x1));for(let _0x43bfad=0x1bf*0x8+-0x50f+-0x1*0x8e9;_0x43bfad<_0x5356fd;_0x43bfad++)_0x2759ac[_0x43bfad*(-0x1*0x1890+0x1ffe+0x3b5*-0x2)]=_0x54b1de[_0x43bfad*(0x1601+-0x7e8*-0x4+-0x2*0x1acf)],_0x2759ac[_0x43bfad*(-0x2621+0x8a0+0x2af*0xb)+(-0x1b27+-0x1008+0x10*0x2b3)]=_0x54b1de[_0x43bfad*(-0x309+-0x33f+0x1*0x64b)+(-0xf94+0x1*0x1115+-0x180)],_0x2759ac[_0x43bfad*(-0x1*-0x111e+-0xf76*0x1+-0x1a4)+(-0x199c+-0x15cb+0x1*0x2f69)]=_0x54b1de[_0x43bfad*(0x955+0xaec+0x1*-0x143e)+(-0x9bd+0x2306+-0x3*0x86d)],_0x2759ac[_0x43bfad*(-0x1*0x1f44+-0x81*0x1b+0x2ce3)+(0x1bf1+0x2*-0x12f7+0xa00)]=O0(_0x498a52[_0x43bfad*(0x1b5c+0xf5+-0x1*0x1c4e)],_0x498a52[_0x43bfad*(-0x20e3+0x1bd*0x3+-0x1baf*-0x1)+(0x10*0x26+0x326+-0x585)],_0x498a52[_0x43bfad*(-0x7b9+-0x21e6+0x29a2)+(-0x26d0+-0xb92+-0x81*-0x64)]);return _0x2759ac;}function r1(_0x3e59e4,_0x3f30c1){const _0x4c5543=new Array(_0x3f30c1['length']*(-0x2*0x903+0x11*-0xc2+0x1*0x1eec));for(let _0x607979=-0x1a55+-0x9*0x3b7+-0x32*-0x132;_0x607979<_0x3f30c1['length'];_0x607979++)_0x4c5543[_0x607979*(0x97c+0x1e2*-0xa+-0x4ae*-0x2)]=_0x3e59e4[_0x607979*(-0x24f*-0x5+0x183c+0x28e*-0xe)],_0x4c5543[_0x607979*(0x2535+-0x1ddc+-0x755*0x1)+(-0x13c8+0x87*-0xc+0x1a1d)]=_0x3e59e4[_0x607979*(-0x1*-0x15ce+-0xf*-0xc7+-0x2174)+(-0x2356+-0x1ce5+0x403c)],_0x4c5543[_0x607979*(-0x6c*-0xc+-0xaa*0x23+0x1232)+(0x34b+-0x1df*-0x7+-0x1062)]=_0x3e59e4[_0x607979*(0x1fce+-0x897+-0x1734)+(0x1db6+0x1f*-0xc2+-0x636)],_0x4c5543[_0x607979*(-0xdf0+0x15f0+-0x7fc)+(-0x20*-0xa6+-0x94f+-0xe*0xd1)]=_0x3f30c1[_0x607979];return _0x4c5543;}function n1(_0x28eadb,_0x405513,_0x5db26c,_0x2bd762,_0x4b9bc9){const _0x91d638=new Array(_0x28eadb['length']*(0x124b*0x1+0x110c*-0x2+-0xfd1*-0x1));for(let _0xdea24e=-0x1a51*0x1+-0x3f5*0x9+0x3dee;_0xdea24e<_0x28eadb['length'];_0xdea24e++)_0x91d638[_0xdea24e*(-0x1*-0xfb+-0x121*0x1c+0x1ea5)]=_0x28eadb[_0xdea24e],_0x91d638[_0xdea24e*(0x36a*-0x1+-0xa9b+0xe09)+(0x2*-0x67a+0xc8+0xc2d)]=_0x405513[_0xdea24e],_0x91d638[_0xdea24e*(-0x4d4*-0x1+-0x18e5*-0x1+0x27*-0xc3)+(-0x1d87*-0x1+0x1180+-0x2f05)]=-0x22cf*0x1+-0x17f7+-0x3ac6*-0x1,_0x91d638[_0xdea24e*(0x47*-0x11+-0x3b9*0x2+-0x40f*-0x3)+(-0x10f1*0x1+-0x1fd*0x4+-0x31d*-0x8)]=O0(_0x5db26c[_0xdea24e],_0x2bd762[_0xdea24e],_0x4b9bc9[_0xdea24e]);return _0x91d638;}function a1(_0x2eb236,_0x134214){const _0x2a962c=new Array(_0x2eb236['length']*(0x3e*-0xd+0x178b+0x1*-0x1461));for(let _0x45ccd6=0xe41*0x1+0x56*-0x44+0x3*0x2dd;_0x45ccd6<_0x2eb236['length'];_0x45ccd6++)_0x2a962c[_0x45ccd6*(0x187d+-0xaf4+-0xd85)]=_0x2eb236[_0x45ccd6],_0x2a962c[_0x45ccd6*(0x17*-0xfc+-0x1*0x18fd+0x2fa5)+(0xc*-0x78+-0x2292+-0xfb*-0x29)]=_0x134214[_0x45ccd6],_0x2a962c[_0x45ccd6*(-0x4a5+0xb02+0x659*-0x1)+(-0x257*-0x9+-0x867+0xca6*-0x1)]=-0x191b*0x1+0x20*0xb+0x17bb,_0x2a962c[_0x45ccd6*(-0x226f+0xa8d+0x13*0x142)+(0x96a+0x1*-0x2329+0x19c2)]=-0x4*-0x520+0x2b8*-0x7+-0xbc*0x2;return _0x2a962c;}function o1(_0x38ee3f){const _0x2fb7f0=Math['max'](_0x38ee3f['rate'],_0x38ee3f['rate2'])*_0x38ee3f['numParticl'+'es']+_0x38ee3f['lifetime'];return Date['now']()+_0x2fb7f0*(0x146*0x1a+-0x1727+0x1*-0x60d);}function l1(_0x252869,_0x5be870){const _0x1d7112=new Float32Array(_0x252869['length']);for(let _0xfd523f=-0x23ce+-0x1c65+0xcd7*0x5;_0xfd523f<_0x252869['length'];_0xfd523f++)_0x1d7112[_0xfd523f]=_0x252869[_0xfd523f]-_0x5be870[_0xfd523f];return _0x1d7112;}function Fr(_0x4cb611,_0x3394ac){const _0xac9d32=_0x3394ac['length'],_0x80888f=_0x4cb611['length']/_0xac9d32;for(let _0x5e3c66=0x2*-0x9a5+0x1*0x2405+-0x10bb;_0x5e3c66<_0x80888f;_0x5e3c66++)for(let _0x1fee68=0x1eea+-0xa5b*0x3+0x27*0x1;_0x1fee68<_0xac9d32;_0x1fee68++){const _0x29d5fa=Math['abs'](_0x4cb611[_0x5e3c66*_0xac9d32+_0x1fee68]);_0x3394ac[_0x1fee68]=Math['max'](_0x3394ac[_0x1fee68],_0x29d5fa);}}function h1(_0x52daf9,_0x4d4bba){const _0x486502=_0x4d4bba['length'],_0x379f75=_0x52daf9['length']/_0x486502;for(let _0x3b6f16=-0x24f0+-0xb95+0x3085;_0x3b6f16<_0x379f75;_0x3b6f16++)for(let _0x3cbb68=0xc70+0x14a4+-0x2114;_0x3cbb68<_0x486502;_0x3cbb68++)_0x52daf9[_0x3b6f16*_0x486502+_0x3cbb68]/=_0x4d4bba[_0x3cbb68]===0xc0d*-0x3+-0xd*-0x53+0x49*0x70?0x25*-0xa9+0xd7f+-0x9*-0x137:_0x4d4bba[_0x3cbb68],_0x52daf9[_0x3b6f16*_0x486502+_0x3cbb68]*=-0x1054+-0x1e7e*-0x1+-0xe2a+0.5,_0x52daf9[_0x3b6f16*_0x486502+_0x3cbb68]+=-0x1f82+0xd29+0x1259*0x1+0.5;}function Ar(_0x24f544,_0x599b6c,_0x33db3f){const _0x3e0d21=l1(_0x599b6c,_0x24f544);return Fr(_0x3e0d21,_0x33db3f),h1(_0x3e0d21,_0x33db3f),_0x3e0d21;}const c1=new Ot();class d1{constructor(_0x35ba2d,_0x430c25){c(this,'material',null),c(this,'internalTe'+'x0',null),c(this,'internalTe'+'x1',null),c(this,'internalTe'+'x2',null),c(this,'colorParam',null),this['graphicsDe'+'vice']=_0x35ba2d;const _0x4f805c=_0x35ba2d,_0x399f5d=0x1*-0x601+0x1*0x1e2f+-0x180e;this['precision']=_0x399f5d,this['_addTimeTi'+'me']=-0xdf*-0x29+-0x1*-0x879+-0x2c30,Hu=this,fh=_0x430c25,re('numParticl'+'es',-0xcdd+-0x738+0x6*0x359),this['numParticl'+'es']>_0x35ba2d['maxTexture'+'Size']&&(v['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x35ba2d['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x35ba2d['maxTexture'+'Size']),re('rate',-0x216f+-0x654+0x1fd*0x14),re('rate2',this['rate']),re('lifetime',0x1d56+0x174e+-0x3472),re('emitterExt'+'ents',new T(0x1b8c+0x65e+0x2*-0x10f5,0x1*0x26c4+-0xdae+-0x1916,-0x27*-0x71+-0x5*-0x7af+-0x37a2)),re('emitterExt'+'entsInner',new T(0x1795+0x2155+-0x38ea,0x1528+0x79*0xe+-0x1bc6,-0xb89*-0x1+0x45b*0x5+-0x854*0x4)),re('emitterRad'+'ius',-0x9ec+0x22f0+-0x1904),re('emitterRad'+'iusInner',0x10*-0x55+-0x2406+0xd*0x32e),re('emitterSha'+'pe',Vs),re('initialVel'+'ocity',-0xb9b+-0xdf3+0x198f),re('wrap',!(0x262f+-0x2231*0x1+-0x3fd)),re('localSpace',!(0x67*0x2d+0x241*0x7+-0x21e1)),re('screenSpac'+'e',!(0x1092*-0x1+-0x242f+0x34c2)),re('wrapBounds',null),re('colorMap',this['defaultPar'+'amTexture']),re('normalMap',null),re('loop',!(0xcd*0x22+-0x2403+0xd*0xad)),re('preWarm',!(-0x12d6+0xb1d*-0x2+-0x2911*-0x1)),re('sort',Du),re('mode',d0),re('scene',null),re('lighting',!(-0x1*0x62a+-0x4eb+-0xb*-0x102)),re('halfLamber'+'t',!(-0x1*-0x1d95+0x9*-0x2a9+-0x5a3)),re('intensity',-0x1*0x1234+0x81c+0xa19),re('stretch',0x1*0xe43+0x2*-0x935+0x427),re('alignToMot'+'ion',!(-0x4cb+-0xd1f+0x11eb)),re('depthSofte'+'ning',-0x14*0x167+-0x7f3+-0x1*-0x23ff),re('mesh',null),re('particleNo'+'rmal',new T(0x20b*-0x1+-0x17aa+-0x1*-0x19b5,0xcad+-0x1*0x199a+0xcee,0x612+0x18f6+0x2*-0xf84)),re('orientatio'+'n',Uh),re('depthWrite',!(0x5*-0x761+-0x13fd*-0x1+0x10e9)),re('noFog',!(-0x1*-0xca6+-0x1edc*0x1+0x1237)),re('blendType',Kt),re('node',null),re('startAngle',0x4a*0x3d+0x2511*-0x1+0xc7*0x19),re('startAngle'+'2',this['startAngle']),re('animTilesX',0x5*-0x252+-0xb*0x34a+0x2fc9),re('animTilesY',-0x1*-0x142f+-0x25b9+-0x118b*-0x1),re('animStartF'+'rame',0xc*0x1be+-0x7*-0x2f0+-0x2978),re('animNumFra'+'mes',0x245+-0x5a8+0xe*0x3e),re('animNumAni'+'mations',-0x101e*-0x1+0x1dcc+-0x68f*0x7),re('animIndex',-0x641+-0xf52+-0x315*-0x7),re('randomizeA'+'nimIndex',!(-0x1a5d*-0x1+0x5*0x6e3+-0x3ccb)),re('animSpeed',0x1f*-0x9b+-0x7*0x455+0x3119),re('animLoop',!(-0x8d*0x3d+0xcc6+0x14d3)),this['_gpuUpdate'+'r']=new JM(this,_0x4f805c),this['_cpuUpdate'+'r']=new QM(this),this['emitterPos'+'Uniform']=new Float32Array(-0xf0e+-0x131*-0x10+-0x3ff),this['wrapBounds'+'Uniform']=new Float32Array(0x503*-0x3+-0x1957+-0x7*-0x5c5),this['emitterSca'+'leUniform']=new Float32Array([0x2*-0xd6c+-0x1a81+0x355a*0x1,0x26dc+-0x2*0x85d+-0x1621,0x214b+0x16f7+-0x3841]),re('colorGraph',i1),re('colorGraph'+'2',this['colorGraph']),re('scaleGraph',P_),re('scaleGraph'+'2',this['scaleGraph']),re('alphaGraph',P_),re('alphaGraph'+'2',this['alphaGraph']),re('localVeloc'+'ityGraph',R_),re('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),re('velocityGr'+'aph',R_),re('velocityGr'+'aph2',this['velocityGr'+'aph']),re('rotationSp'+'eedGraph',M_),re('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),re('radialSpee'+'dGraph',M_),re('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(-0x5a3+0x1c9+0x3dc),this['animParams']=new Float32Array(0x21e4+0x2020+0x2c0*-0x18),this['animIndexP'+'arams']=new Float32Array(0x184c+-0x4*-0x336+-0x2522),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(-0x1*0x2069+-0x20fb+0x4165),this['useMesh']=!(0xb7d*0x3+-0x23a9+0x132),this['useCpu']=!_0x35ba2d['supportsGp'+'uParticles'],this['pack8']=!(0x240+0x238b+-0xe1*0x2b),this['localBound'+'s']=new _e(),this['worldBound'+'sNoTrail']=new _e(),this['worldBound'+'sTrail']=[new _e(),new _e()],this['worldBound'+'s']=new _e(),this['worldBound'+'sSize']=new T(),this['prevWorldB'+'oundsSize']=new T(),this['prevWorldB'+'oundsCente'+'r']=new T(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new T(),this['worldBound'+'sAdd']=new T(),this['timeToSwit'+'chBounds']=-0xbee+0x342+-0x3c*-0x25,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=-0xc05+0x1*-0x8e9+0x14ee,this['numParticl'+'eIndices']=0x4*-0x194+0x8f5+-0x1*0x2a5,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=-0x3e*-0x59+0x1a35+-0x2fc3,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(-0x115f*0x1+0x3*-0x8a6+0x2b52)/(-0x7*-0x23b+-0x17c6*-0x1+-0xd0d*0x3),this['maxSubStep'+'s']=-0x2629+-0x1e4d+0x4480,this['simTime']=0x3b3*-0x3+0x1bed+-0x10d4,this['simTimeTot'+'al']=-0xffb+0x1c07+0xc*-0x101,this['beenReset']=!(0x11ea+0xe34+-0x201d),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return v['assert'](this['graphicsDe'+'vice']),c1['get'](this['graphicsDe'+'vice'],()=>{const _0x3d8ec9=new Float32Array(0x19e3+-0x82e*0x3+0x7*0x61);for(let _0x2739f2=0x7b8+0xce6+0xd*-0x196;_0x2739f2<-0x1*0x719+0x820+0x1*-0xf7;_0x2739f2++)for(let _0x362210=-0x1253*0x1+0x159*0x11+-0x496;_0x362210<-0x107b+0x191+0xefa;_0x362210++){const _0x4553f3=_0x362210+(0x130a+0xd40+-0x1d*0x11d)-(-0x120a*-0x2+0x2499+-0x48a5+0.5),_0x33fc28=_0x2739f2+(0x946*-0x4+-0x9*-0x3b3+-0x3ce*-0x1)-(-0x175*0x1+0x1049+-0xecc+0.5),_0x174572=C_(-0x22e0+-0x1e15+-0x2*-0x207b-C_(Math['sqrt'](_0x4553f3*_0x4553f3+_0x33fc28*_0x33fc28)/(0x8*-0x429+0xf25+0x1233))-(0x9*0x40e+0x166a+-0x3ae8+0.5)),_0x424996=_0x2739f2*(-0x114f+-0x18ac+0x2a0b)+_0x362210;_0x3d8ec9[_0x424996*(0x5*0x522+0x265c+-0xaab*0x6)]=-0x1c*0xc0+-0x1*-0x68a+0xe77,_0x3d8ec9[_0x424996*(0x310+0xba3*0x1+0x219*-0x7)+(0x187*0x4+0x2*0x3bd+-0xd95)]=-0x558+0xde7*-0x1+0x1340,_0x3d8ec9[_0x424996*(0x3e*-0x8e+-0x141b*-0x1+0xe4d)+(-0x14e*-0x3+-0x668+0x280)]=0x19d2+-0x2*-0xc31+-0x3233,_0x3d8ec9[_0x424996*(-0x7dc+-0x1*-0x157d+0x29*-0x55)+(-0x11ee+-0x5d4*0x1+0x17c5*0x1)]=_0x174572;}const _0x17cb82=Qt(this['graphicsDe'+'vice'],0x4b6+-0x1*0x8f4+0x2*0x227,-0x1c02+-0x1f*-0x4f+-0x3*-0x62b,_0x3d8ec9,rs,-0x3*0xad+0x185*-0x8+0xe30,!(-0xa7f*-0x2+0xa15*-0x2+-0xd4));return _0x17cb82['minFilter']=st,_0x17cb82['magFilter']=st,_0x17cb82;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(-0xc84+0x264+0xa21)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(0xb6e+-0xe34*0x1+0xed*0x3)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(0x1*-0x1a14+-0x1*0xa37+0x2e*0xca)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(-0xa3d+0x435*-0x7+0x27b1)),this['worldBound'+'sAdd']['x']+=0x1f38+-0xb15+-0x1423+0.5,this['worldBound'+'sAdd']['y']+=0x6c9+0x1179+-0x1842+0.5,this['worldBound'+'sAdd']['z']+=-0x47*-0x7c+-0x60d*0x1+0x1c57*-0x1+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x22e6a9=!(-0x1b44+-0x7ea+0x232f);this['emitterSha'+'pe']===Vs?_0x22e6a9=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x22e6a9=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x22e6a9&&this['calculateL'+'ocalBounds']();}const _0x4a0dfe=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x4a0dfe),this['worldBound'+'sTrail'][-0x1935+0x17f*-0x10+0x3125]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0xb37*0x1+0x22f+-0xd65*0x1]['add'](this['worldBound'+'sNoTrail']);const _0x340790=this['simTimeTot'+'al'];_0x340790>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][-0x519+-0x431+0x2*0x4a5]['copy'](this['worldBound'+'sTrail'][-0x1*-0xe0c+0x5e7*-0x2+0x3*-0xbf]),this['worldBound'+'sTrail'][0x2*0xa39+-0x16*0x5c+-0xc89]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x340790+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0xd69+-0x1a8e+0x2a1*0x5]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x1897*0x1+0xb09+0x5e*-0x61),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x4a0dfe),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x4a0dfe)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=-0xc3b+-0x1*0x8c9+-0x1*-0x1505-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x44*0x47+0x15f3+-0x28cf]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x186*-0x4+-0xcb*0x1d+0x874*0x2]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0x1091+-0x457+0x61d*-0x2]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x1f24+0xf7*0x13+-0x3177),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=0x1731*0x1+-0x263e+0xf0d,this['timeToSwit'+'chBounds']=0x1d75*-0x1+0x1e36*0x1+0x1*-0xc1);}['calculateL'+'ocalBounds'](){let _0x4940b7=Number['MAX_VALUE'],_0x24f2ed=Number['MAX_VALUE'],_0x3086d9=Number['MAX_VALUE'],_0x224b80=-Number['MAX_VALUE'],_0x317c0c=-Number['MAX_VALUE'],_0x2c0fa9=-Number['MAX_VALUE'],_0xba2faa=0x10f8+-0xf*-0x39+-0x1*0x144f,_0x26a4e0=-0x27*-0x21+0x1246+0x1*-0x174d;const _0x2d2591=this['lifetime']/this['precision'],_0x3a890c=[this['qVelocity'],this['qVelocity2']],_0x668d2f=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x2b5cb8=[0x203d+-0x2f9*-0xc+-0x131*0x39,-0x2*0xa69+-0x11e0*0x2+0x3892],_0x5b97dc=[0x21a1+0x3c5+0x2*-0x12b3,0x3*-0x7bf+0xc8b*0x2+-0xb*0x2b],_0x3bc930=[-0x88a*-0x1+0x25c4+0x1*-0x2e4e,-0x1d1+-0x261d+0x10d*0x26],_0x21d45e=[-0xd6b+0x2350+-0x15e5,0x15ce+0x2191+-0x7*0x7e9],_0x5a7a62=[0x6d*0x52+0x1f68+-0x4252,-0x6*-0x149+0x1*-0x243a+0x32*0x92];let _0x2cbf45,_0x3301c6,_0xea259f;for(let _0x3b839c=-0x541+-0x1fdf+0x129*0x20;_0x3b839c<this['precision']+(0x1d*0x21+-0x22f2+0x1f36);_0x3b839c++){const _0x202dcc=Math['min'](_0x3b839c,this['precision']-(0x4d1+-0x13*0x202+0x2*0x10ab));for(let _0x571bbb=-0x344*0x4+-0x38f*-0x1+-0x3*-0x32b;_0x571bbb<0x82f*-0x2+0x173f+-0x1*0x6df;_0x571bbb++)_0x2cbf45=_0x668d2f[_0x571bbb][_0x202dcc*(0x1*-0x10b1+0x1542+0x1*-0x48e)+(0x6ca+0x1821+-0x5*0x62f)]*_0x2d2591+_0x2b5cb8[_0x571bbb],_0x3301c6=_0x668d2f[_0x571bbb][_0x202dcc*(0x1756*0x1+-0x113b+-0x618)+(0x533*0x2+-0x1dca*-0x1+-0x282f)]*_0x2d2591+_0x5b97dc[_0x571bbb],_0xea259f=_0x668d2f[_0x571bbb][_0x202dcc*(-0x5c4+-0x12*0x19d+0x22d1)+(-0xd*-0x22f+0x13ce+0x302f*-0x1)]*_0x2d2591+_0x3bc930[_0x571bbb],_0x4940b7=Math['min'](_0x2cbf45,_0x4940b7),_0x24f2ed=Math['min'](_0x3301c6,_0x24f2ed),_0x3086d9=Math['min'](_0xea259f,_0x3086d9),_0x224b80=Math['max'](_0x2cbf45,_0x224b80),_0x317c0c=Math['max'](_0x3301c6,_0x317c0c),_0x2c0fa9=Math['max'](_0xea259f,_0x2c0fa9),_0x2b5cb8[_0x571bbb]=_0x2cbf45,_0x5b97dc[_0x571bbb]=_0x3301c6,_0x3bc930[_0x571bbb]=_0xea259f;for(let _0x588c71=0x2523+-0x1*-0x10f3+-0x2e*0x12d;_0x588c71<-0x314*-0x6+-0x1*-0x2653+-0x38c9;_0x588c71++)_0x5a7a62[_0x588c71]+=_0x2d2591*Math['sqrt'](_0x3a890c[_0x588c71][_0x202dcc*(0x59*0x56+-0x2ef*0x8+-0x66b)+(-0xcd5+-0xff4*0x1+0x1cc9)]*_0x3a890c[_0x588c71][_0x202dcc*(0x7c7*-0x1+-0x257b+0x2d45)+(0x2*-0xb07+-0x26d5+0x3ce3)]+_0x3a890c[_0x588c71][_0x202dcc*(0x1bb+-0x74*-0x7+0x1*-0x4e4)+(0x269d+0x131c*-0x2+-0x64)]*_0x3a890c[_0x588c71][_0x202dcc*(0x55+0x673+-0x6c5)+(-0x224c+0x39*0x71+0x924)]+_0x3a890c[_0x588c71][_0x202dcc*(-0x2bf*0x8+0x1a3b+-0x440)+(0x8f7+-0x1ee9+0x15f4)]*_0x3a890c[_0x588c71][_0x202dcc*(-0x2125+0x15fb+-0xb2d*-0x1)+(0x790*-0x4+-0xdc3+0x2c05)]);_0x21d45e[-0xc11*-0x2+-0x1449+-0x3d9]+=this['qRadialSpe'+'ed'][_0x202dcc]*_0x2d2591,_0x21d45e[0x1132+-0x1bc5*-0x1+-0x2cf6]+=this['qRadialSpe'+'ed2'][_0x202dcc]*_0x2d2591,_0xba2faa=Math['max'](_0xba2faa,Math['max'](Math['abs'](_0x21d45e[0x9*0x169+-0x19*-0x55+-0x14fe]),Math['abs'](_0x21d45e[-0x1f8c*0x1+0x2*-0x2dd+0x2547]))),_0x26a4e0=Math['max'](_0x26a4e0,this['qScale'][_0x202dcc]);}this['emitterSha'+'pe']===Vs?(_0x2cbf45=this['emitterExt'+'ents']['x']*(-0x5fa+0x8c1*0x1+-0x2c7+0.5),_0x3301c6=this['emitterExt'+'ents']['y']*(0x2239*-0x1+-0x176e+0x1*0x39a7+0.5),_0xea259f=this['emitterExt'+'ents']['z']*(-0x1a6*0x10+0x44d+0x1613+0.5)):(_0x2cbf45=this['emitterRad'+'ius'],_0x3301c6=this['emitterRad'+'ius'],_0xea259f=this['emitterRad'+'ius']);const _0x5b2dfa=Math['max'](_0x5a7a62[0x2*-0xdbd+-0x26ce+0x4248],_0x5a7a62[0x1f7e+-0x2*-0xb02+-0x3581]);Ul['x']=_0x4940b7-_0x26a4e0-_0x2cbf45-_0xba2faa-_0x5b2dfa,Ul['y']=_0x24f2ed-_0x26a4e0-_0x3301c6-_0xba2faa-_0x5b2dfa,Ul['z']=_0x3086d9-_0x26a4e0-_0xea259f-_0xba2faa-_0x5b2dfa,Vl['x']=_0x224b80+_0x26a4e0+_0x2cbf45+_0xba2faa+_0x5b2dfa,Vl['y']=_0x317c0c+_0x26a4e0+_0x3301c6+_0xba2faa+_0x5b2dfa,Vl['z']=_0x2c0fa9+_0x26a4e0+_0xea259f+_0xba2faa+_0x5b2dfa,this['localBound'+'s']['setMinMax'](Ul,Vl);}['rebuild'](){const _0x4bf17a=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===Vs?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>Du||_0x4bf17a['maxVertexT'+'extures']<=-0x1*-0x851+-0x2*-0xd1f+-0x228e||_0x4bf17a['fragmentUn'+'iformsCoun'+'t']<-0x10f5*-0x1+0xe9a*0x1+-0x1f4f||_0x4bf17a['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x4bf17a['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],ii=this['useCpu']||this['pack8']?0xeb+-0x1ca8+0x1bc1:0x19b0+-0xc8*0x1d+-0x306,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=N['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x1e71+-0x1639+-0xd6*-0x3f]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][0x21bc+0x21ea+-0x43a5*0x1]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x2*0x110b+0x26a4+-0x48b8),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x3e9baa=0x1957*0x1+-0x74*0x1e+-0xbbf;_0x3e9baa<this['numParticl'+'es'];_0x3e9baa++)this['vbToSort'][_0x3e9baa]=[0xdc*-0x17+0x1727*0x1+-0x363,0x1*-0x287+-0x26cd+-0x844*-0x5];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*ii*zl);const _0x380d32=this['node']===null||this['localSpace']?T['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===Vs&&(this['node']===null||this['localSpace']?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['spawnBound'+'s']):Tr['setTRS'](T['ZERO'],this['node']['getRotatio'+'n'](),I_['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),ri[-0x9*-0x11a+-0x342+-0x238*0x3]=this['emitterExt'+'ents']['x']!==0xb*0x354+0x2e3+0x277f*-0x1?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x4a*0x5a+0x132b+-0x1*-0x6d9,ri[-0x9*0x21d+-0x193b+-0x2c41*-0x1]=this['emitterExt'+'ents']['y']!==0x1187+0x1*0x34c+-0x6f1*0x3?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0xa11*0x2+-0x1194+-0x3*-0xc92,ri[-0xd*0x2cf+-0x15f5+-0x5d9*-0xa]=this['emitterExt'+'ents']['z']!==0x380+0x1f28+-0x22a8?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x2352+-0x9e0+-0xcb9*0x2);for(let _0x15440f=-0x2014*-0x1+-0x1b*0x51+-0x1789;_0x15440f<this['numParticl'+'es'];_0x15440f++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Tr,ri,_0x380d32,_0x15440f),this['useCpu']&&(this['particleTe'+'x'][_0x15440f*zl+(-0x1a7e+-0x149f+-0x1d0*-0x1a)+this['numParticl'+'esPot']*(-0x4*0xcf+-0x3ad*-0xa+0x294*-0xd)*zl]=-0x78a+0x6c5+0xc6);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*ii*zl);for(let _0x46707e=0x121*-0x21+0x5*-0x617+-0x43b4*-0x1;_0x46707e<this['particleTe'+'xStart']['length'];_0x46707e++)this['particleTe'+'xStart'][_0x46707e]=this['particleTe'+'x'][_0x46707e];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=Qt(_0x4bf17a,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,-0x7*0x3cb+0x5e5*-0x3+0x4b*0x97,!(0x2*-0x1014+-0x96f+-0x8*-0x533)),this['particleTe'+'xOUT']=Qt(_0x4bf17a,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,0x559*0x1+0x1877+0x1*-0x1dcf,!(-0x526+-0x267*-0x1+0xb*0x40)),this['particleTe'+'xStart']=Qt(_0x4bf17a,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'],Se,0x2*-0x132b+0x1b56*-0x1+-0x11*-0x3dd,!(0x53a+0x2c0+-0x7f9))):(this['particleTe'+'xIN']=Qt(_0x4bf17a,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xOUT']=Qt(_0x4bf17a,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xStart']=Qt(_0x4bf17a,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new pt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(0x59e*0x3+0x7*0x1bc+-0x1cfd*0x1)}),this['rtParticle'+'TexOUT']=new pt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(0x3*-0x9a7+0x733+0x3*0x741)}),this['swapTex']=!(-0x1c5a*-0x1+-0x99+-0x1bc0));const _0x366878=(this['localSpace']?'#define\x20LO'+'CAL_SPACE\x0a':'')+X['particleUp'+'daterInitP'+'S']+(this['pack8']?X['particleIn'+'putRgba8PS']+X['particleOu'+'tputRgba8P'+'S']:X['particleIn'+'putFloatPS']+X['particleOu'+'tputFloatP'+'S'])+(this['emitterSha'+'pe']===Vs?X['particleUp'+'daterAABBP'+'S']:X['particleUp'+'daterSpher'+'ePS'])+X['particleUp'+'daterStart'+'PS'],_0x488237=_0x366878+X['particleUp'+'daterRespa'+'wnPS']+X['particleUp'+'daterEndPS'],_0x36eacb=_0x366878+X['particleUp'+'daterNoRes'+'pawnPS']+X['particleUp'+'daterEndPS'],_0x12b168=_0x366878+X['particleUp'+'daterOnSto'+'pPS']+X['particleUp'+'daterEndPS'],_0x56ce4d='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'];this['shaderPart'+'icleUpdate'+'Respawn']=Is(_0x4bf17a,X['fullscreen'+'QuadVS'],_0x488237,'ParticleUp'+'dateRespaw'+'n-'+_0x56ce4d),this['shaderPart'+'icleUpdate'+'NoRespawn']=Is(_0x4bf17a,X['fullscreen'+'QuadVS'],_0x36eacb,'ParticleUp'+'dateNoResp'+'awn-'+_0x56ce4d),this['shaderPart'+'icleUpdate'+'OnStop']=Is(_0x4bf17a,X['fullscreen'+'QuadVS'],_0x12b168,'ParticleUp'+'dateStop-'+_0x56ce4d),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:-0xba2+0x174d+-0xba7,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][0x105e+0x762+-0x17c0]['numIndices']:0x15da+-0xb80+-0xa54,this['_allocate'](this['numParticl'+'es']);const _0x5e608f=new Ie(_0x4bf17a);_0x5e608f['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x5e608f['indexBuffe'+'r'][-0x563+0x2*0xb56+-0x1149*0x1]=this['indexBuffe'+'r'],_0x5e608f['primitive'][-0x17c7+0xb84+0xc43]['type']=Ms,_0x5e608f['primitive'][-0x121a*-0x1+0xb57+-0x1d71]['base']=0x1c2e+0x1823*-0x1+-0x40b,_0x5e608f['primitive'][0x17e3+0x1*0xef+-0x12*0x161]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x5e608f['primitive'][0x1*0x1ff8+0xdfe+-0x2df6]['indexed']=!(0x17c4+0xf*0x182+0x1731*-0x2),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x4607f6=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(-0x1*-0x497+-0x1e91+0x26*0xaf);this['meshInstan'+'ce']=new Le(_0x5e608f,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(-0x1*0xaa1+0x2138+0x31*-0x76),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(0x1b0*-0x15+-0x2656+0x49c6),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(-0x1*-0xd8b+0xab+-0xe35*0x1),this['meshInstan'+'ce']['visible']=_0x4607f6,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](0x191*-0x17+-0xd*0x301+0x1f*0x26c,!(-0x2705+-0x740*0x1+0x1*0x2e46)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=0x1ae8+0x9*0x285+-0x3194&&(this['animTilesX']>0x9c4+0x8*-0x353+0x10d5*0x1||this['animTilesY']>0x4cd+-0x1*-0xc6e+-0x113a)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0xc2638=this['precision'],_0x27c764=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0xc2638),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0xc2638),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0xc2638,0x224b*0x1+-0x207d+-0x1ce,-0x3*-0xc9d+-0x9*0x2b+-0x2453),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0xc2638),this['qScale']=this['scaleGraph']['quantize'](_0xc2638),this['qAlpha']=this['alphaGraph']['quantize'](_0xc2638),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0xc2638),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0xc2638),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0xc2638),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0xc2638,-0x20b9*-0x1+-0x17a*0xd+-0xd87*0x1,0xb9*-0x1+0x13*0x8f+-0x9e3),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0xc2638),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0xc2638),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0xc2638),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0xc2638);for(let _0x5dc990=-0x20bc+0xa52*-0x1+0x2b0e;_0x5dc990<_0xc2638;_0x5dc990++)this['qRotSpeed'][_0x5dc990]*=N['DEG_TO_RAD'],this['qRotSpeed2'][_0x5dc990]*=N['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(-0x1*0x627+-0x10c+0x736),this['velocityUM'+'ax']=new Float32Array(-0x9e*0x2b+-0x2*0xdf0+0x366d),this['colorUMax']=new Float32Array(0x800*-0x3+0xa3*0x14+0xb47),this['rotSpeedUM'+'ax']=[0x1*-0x64b+0x1ca6+-0x165b*0x1],this['scaleUMax']=[-0x3e8+0x7af*0x5+-0x2283],this['alphaUMax']=[-0x212b+0xf1*-0xf+-0x1*-0x2f4a],this['radialSpee'+'dUMax']=[0x39a*-0x6+0x269e*-0x1+0x3c3a],this['qLocalVelo'+'cityDiv']=Ar(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Ar(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Ar(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Ar(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Ar(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Ar(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Ar(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x222b8c=[0xa0b*0x1+0x50e+-0xf19,-0x233*-0xd+0x3*-0x53e+-0xcdd*0x1,0x989+-0x2096+0x1*0x170d];Fr(this['qVelocity'],_0x222b8c);const _0x18881c=[-0x1bb6+0x1f27+-0x371,-0x657+-0x21a7+0x27fe,-0x36*-0x2c+0x270a+-0x3052];Fr(this['qVelocity2'],_0x18881c);const _0x242c1e=[-0x1*0x705+0x2531+-0x4*0x78b,-0x25c0*-0x1+0xf*-0x1ed+0x1*-0x8dd,0x5*0x3eb+-0xe84+-0x513];Fr(this['qLocalVelo'+'city'],_0x242c1e);const _0x2ffc77=[0x1b76+-0x1d41+0x1cb,0x474+0x1d90+-0x2204,-0xfd1+-0x1e50+0x2e21];Fr(this['qLocalVelo'+'city2'],_0x2ffc77);const _0x324e1d=[0x2c9+-0xc09+-0x4*-0x250];Fr(this['qRadialSpe'+'ed'],_0x324e1d);const _0x928994=[0x1e5*-0x1+-0x1652+0x1*0x1837];Fr(this['qRadialSpe'+'ed2'],_0x928994);let _0x2ee11a=Math['max'](_0x222b8c[-0x10cb+-0x74*0x4a+0x3253],_0x18881c[0x1bfb+-0x4b3+-0x1748]);_0x2ee11a=Math['max'](_0x2ee11a,_0x222b8c[-0x1*0x6a9+0xe77+-0x7cd]),_0x2ee11a=Math['max'](_0x2ee11a,_0x18881c[-0x1034+-0xe36+0x1e6b]),_0x2ee11a=Math['max'](_0x2ee11a,_0x222b8c[-0x1b54+-0x11ce+0x2d24]),_0x2ee11a=Math['max'](_0x2ee11a,_0x18881c[-0x1085+0x1583+-0x4fc]);let _0x2124f9=Math['max'](_0x242c1e[0xd*0x233+-0xb5a*-0x2+-0x334b*0x1],_0x2ffc77[0x12a1+0x27*0xf4+-0x37cd]);_0x2124f9=Math['max'](_0x2124f9,_0x242c1e[-0x713*-0x1+-0x20a+0x1*-0x508]),_0x2124f9=Math['max'](_0x2124f9,_0x2ffc77[-0x1080+-0x100+0x1181*0x1]),_0x2124f9=Math['max'](_0x2124f9,_0x242c1e[-0x48+-0x160+-0x1*-0x1aa]),_0x2124f9=Math['max'](_0x2124f9,_0x2ffc77[0x2083+0xf56+0x25*-0x14b]);const _0x4d6402=Math['max'](_0x324e1d[0x592*-0x5+0x1162+0xa78],_0x928994[-0xf6*-0x1d+0x1*-0x691+-0x154d]);this['maxVel']=_0x2ee11a+_0x2124f9+_0x4d6402;}this['useCpu']||(this['internalTe'+'x0']=Qt(_0x27c764,_0xc2638,0x61*0x4c+-0x1cd*-0x1+-0x1e98,D_(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=Qt(_0x27c764,_0xc2638,-0xa*0x1cf+-0x1*-0x2703+-0x67*0x34,D_(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=Qt(_0x27c764,_0xc2638,-0x8c0+0x93c+-0x7b,n1(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=Qt(_0x27c764,_0xc2638,0x3*-0x10b+-0xd58+0x107a,a1(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=Qt(_0x27c764,_0xc2638,0x20b*0x2+-0xa8d+0x9*0xb8,r1(this['qColor'],this['qAlpha']),rs,0x3*0x1e2+-0x393+-0x212,!(-0x1c22+-0xf1d+-0x1*-0x2b3f));}['_setMateri'+'alTextures'](){this['colorMap']&&(v['call'](()=>{Ey(this['colorMap']['format'])&&v['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x2548f3=new s1(this);return _0x2548f3['name']='EmitterMat'+'erial:'+this['node']['name'],_0x2548f3['cull']=mt,_0x2548f3['alphaWrite']=!(0x18c2+-0x1a23+-0x2*-0xb1),_0x2548f3['blendType']=this['blendType'],_0x2548f3['depthWrite']=this['depthWrite'],_0x2548f3;}['resetMater'+'ial'](){const _0x58bd71=this['material'];_0x58bd71['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x58bd71['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x58bd71['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x58bd71['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x58bd71['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x58bd71['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x58bd71['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x58bd71['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x58bd71['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x58bd71['setParamet'+'er']('colorParam',this['colorParam']),_0x58bd71['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x58bd71['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x58bd71['setParamet'+'er']('lifetime',this['lifetime']),_0x58bd71['setParamet'+'er']('rate',this['rate']),_0x58bd71['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x58bd71['setParamet'+'er']('seed',this['seed']),_0x58bd71['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][-0x189+-0x5cb*0x1+0x4*0x1d5]),_0x58bd71['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][-0xc*0x213+-0x13*-0x199+-0x577]),_0x58bd71['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][-0x555+0x812*-0x1+-0x2f*-0x49]),_0x58bd71['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x58bd71['setParamet'+'er']('graphSampl'+'eSize',(-0x1*-0xda+-0x1470+-0x3b*-0x55)/this['precision']),_0x58bd71['setParamet'+'er']('emitterSca'+'le',new Float32Array([0x1efb+-0x115d+-0xd9d,-0x19dd+-0x4*0x17f+0x1fda,-0x1d7d+0x6*-0x428+0x366e])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x58bd71['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x58bd71['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x58bd71['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][0x2095+-0x1*-0x1541+-0x35d6]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][0x1592*0x1+0x17*0x46+-0x1bdb]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][-0xfca+-0x1345+-0xbf*-0x2f]=this['wrapBounds']['z'],_0x58bd71['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>-0x295*-0x9+0x2097+0x18d*-0x24&&_0x58bd71['setParamet'+'er']('softening',(0x1*-0x1b85+-0x198b+0x3511)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(-0x2f8+-0xd6b+0x10c7*0x1))),this['stretch']>0x183e+0xc2c*0x1+-0x4f*0x76&&(_0x58bd71['cull']=mt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x582475,_0x3b340a;if(this['orientatio'+'n']===Uh)_0x582475=new Float32Array([-0xa06+-0x1c1*-0xb+0x4a2*-0x2,-0xde*0x1+0xb*0xbc+0x1*-0x736,-0x1*0x20d4+-0x23ed+0x44c1]),_0x3b340a=new Float32Array([0x3d9*0x9+0x5*0x117+-0x2814,-0x4f*-0x5b+0x26c9+-0x42de,0xd3*-0x1d+0x2261*-0x1+0x3a49]);else{let _0x3a54de;this['orientatio'+'n']===Xb?_0x3a54de=this['particleNo'+'rmal']['normalize']():_0x3a54de=(this['node']===null?q['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x57b11b=new T(0x1f44+-0x2*-0x851+-0x2fe5,-0x1dfb+-0x1*0xf31+0x2d2c,0xedb*-0x1+-0x16ff+-0x1e*-0x143);Math['abs'](_0x57b11b['dot'](_0x3a54de))===0x34*0x8+-0xace*-0x3+0x2209*-0x1&&_0x57b11b['set'](0x1*0x841+-0x24f*-0x5+-0x13cc,0x1365+-0x1*-0xc5+-0x142a,0x9b*-0x37+0x28b*0x4+0x1*0x1722);const _0x1c5411=new T()['cross'](_0x3a54de,_0x57b11b)['normalize']();_0x57b11b['cross'](_0x1c5411,_0x3a54de)['normalize'](),_0x582475=new Float32Array([_0x57b11b['x'],_0x57b11b['y'],_0x57b11b['z']]),_0x3b340a=new Float32Array([_0x1c5411['x'],_0x1c5411['y'],_0x1c5411['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x582475),this['material']['setParamet'+'er']('faceBinorm',_0x3b340a);}['_allocate'](_0x4b1f2b){const _0xc00ded=_0x4b1f2b*this['numParticl'+'eVerts'],_0x332858=_0x4b1f2b*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(-0x26c1*-0x1+0x1123+0x3fe*-0xe)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0xc00ded){const _0x27d4a7=[];this['useCpu']?_0x27d4a7['push']({'semantic':bu,'components':0x4,'type':Ee},{'semantic':wu,'components':0x4,'type':Ee},{'semantic':Ry,'components':0x4,'type':Ee},{'semantic':Iy,'components':0x1,'type':Ee},{'semantic':Dy,'components':this['useMesh']?0x2*0x1145+0x1e5b+-0x40e1:-0xa98*-0x3+-0xcd3*0x1+-0x93*0x21,'type':Ee}):(_0x27d4a7['push']({'semantic':bu,'components':0x4,'type':Ee}),this['useMesh']&&_0x27d4a7['push']({'semantic':wu,'components':0x2,'type':Ee}));const _0x37710b=new Et(this['graphicsDe'+'vice'],_0x27d4a7);this['vertexBuff'+'er']=new os(this['graphicsDe'+'vice'],_0x37710b,_0xc00ded,{'usage':Th}),this['indexBuffe'+'r']=new lr(this['graphicsDe'+'vice'],nr,_0x332858);const _0x17174b=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x4fccbf,_0x4b2c19,_0x3d12e5;if(this['useMesh']){_0x4fccbf=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x4b2c19=_0x4fccbf['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x3f7aa3=-0x2036+-0x11b6+-0x5*-0x9fc;_0x3f7aa3<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x3f7aa3++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x3f7aa3]['name']===ns){_0x3d12e5=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x3f7aa3]['offset']/(-0x2*0x4a8+-0x20d7+0x11*0x27b);break;}}for(let _0x44f73b=0x175e+-0x1626+0x68*-0x3;_0x44f73b<_0xc00ded;_0x44f73b++){const _0x574878=Math['floor'](_0x44f73b/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x193fd5=_0x44f73b%this['numParticl'+'eVerts'];_0x17174b[_0x44f73b*(0x45f*-0x2+-0xb*0x55+0xc6b)]=_0x4fccbf[_0x193fd5*_0x4b2c19],_0x17174b[_0x44f73b*(0xc4+0x1*0xec3+-0x7*0x237)+(-0x1*0x1c6d+-0x1*0x69d+-0x1*-0x230b)]=_0x4fccbf[_0x193fd5*_0x4b2c19+(-0x1bb2+-0x22cd+0x140*0x32)],_0x17174b[_0x44f73b*(0x5*-0x230+0xb47+-0x51)+(0xe*-0x28b+0x1e6f+0x52d)]=_0x4fccbf[_0x193fd5*_0x4b2c19+(0x3*-0x1a9+0xdf*0x17+-0xf0c)],_0x17174b[_0x44f73b*(0xff+-0x4*0x385+-0x131*-0xb)+(-0x216d+-0x208b*0x1+0x41fb)]=_0x574878,_0x17174b[_0x44f73b*(-0x1be4+0x225b+0x61*-0x11)+(0x796*-0x3+-0xec*-0x14+0x456)]=_0x4fccbf[_0x193fd5*_0x4b2c19+_0x3d12e5+(-0x1da7*-0x1+0x7*-0x18a+0x64b*-0x3)],_0x17174b[_0x44f73b*(-0x5e3*-0x4+-0x1512+-0x274*0x1)+(0x15ce*0x1+-0x4*0x50b+-0x1*0x19d)]=-0x16e6+-0xe93*0x1+0x257a-_0x4fccbf[_0x193fd5*_0x4b2c19+_0x3d12e5+(-0xb67*0x1+-0x22f9+0x2e61)];}else{const _0x4c11a5=_0x44f73b%(-0x13de+0xd25+0x5*0x159);_0x17174b[_0x44f73b*(-0xf31*0x1+-0xb7f+0xd5a*0x2)]=E_[_0x4c11a5][0xb2d*-0x1+-0x6b*-0x7+0x840],_0x17174b[_0x44f73b*(0x76f+-0x39*0x1+-0x732)+(0x3bb+0x11b+-0x4d5)]=E_[_0x4c11a5][0x2060+0x1*0x194e+-0x39ad],_0x17174b[_0x44f73b*(-0x1f11+0x24b3+0x2cf*-0x2)+(0x9*-0x1e9+0x1*-0xa2d+0x1b60)]=0x88f+0x869*-0x1+0x1*-0x26,_0x17174b[_0x44f73b*(-0x1fd1+-0x107*0x1+0x2bd*0xc)+(0x4*0x869+0x9df+-0x2b80)]=_0x574878;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x17174b),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x164f7d=0x1bfb+0x129b+0x174b*-0x2;const _0x127b25=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x385604=this['mesh']['indexBuffe'+'r'][0x2*0x8b9+-0x62*-0x2a+0x2*-0x10c3];_0x4fccbf=new Lh[_0x385604['format']](_0x385604['lock']());}for(let _0x46d140=0x20b3*-0x1+0x1d5c*0x1+0x357;_0x46d140<_0x4b1f2b;_0x46d140++)if(this['useMesh']){for(let _0x5df247=0x6*0xd7+-0x1cc9*0x1+0x17bf*0x1;_0x5df247<this['numParticl'+'eIndices'];_0x5df247++)_0x127b25[_0x46d140*this['numParticl'+'eIndices']+_0x5df247]=_0x4fccbf[_0x5df247]+_0x46d140*this['numParticl'+'eVerts'];}else{const _0x321feb=_0x46d140*(0x1*-0x1f67+0x1674+0x8f7);_0x127b25[_0x164f7d++]=_0x321feb,_0x127b25[_0x164f7d++]=_0x321feb+(0x1635+-0x5*0x61e+-0x862*-0x1),_0x127b25[_0x164f7d++]=_0x321feb+(0xd53*0x2+-0x6*-0x16b+0x2*-0x1193),_0x127b25[_0x164f7d++]=_0x321feb,_0x127b25[_0x164f7d++]=_0x321feb+(-0x1ef9+0x188b+0x670),_0x127b25[_0x164f7d++]=_0x321feb+(0x1b1a*0x1+-0x5*0x515+-0x1ae);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][0x16de+-0x1*-0x2339+-0x3a17]['unlock']();}}['reset'](){if(this['beenReset']=!(-0x1357*0x1+0x2cf+-0x17*-0xb8),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x16723a=-0x2*0x193+-0x18d6+0x1bfc;_0x16723a<this['particleTe'+'xStart']['length'];_0x16723a++)this['particleTe'+'x'][_0x16723a]=this['particleTe'+'xStart'][_0x16723a];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x52cbfb=this['loop'];this['loop']=!(0xb7b*0x3+0xfec+0x325d*-0x1),this['addTime'](0x2fb*-0x7+0x2343+0x2*-0x733,!(-0x15c7+0x1ecd+-0x905)),this['loop']=_0x52cbfb,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x5cfbb4){const _0xd9ebdf=_0x5cfbb4/this['lifetime'],_0x45170c=Math['min'](Math['floor'](_0xd9ebdf*this['precision']),this['precision']),_0x53cfc7=_0x5cfbb4/_0x45170c;for(let _0x1f3647=0x3*-0xf1+0x46*0x15+0x1*-0x2eb;_0x1f3647<_0x45170c;_0x1f3647++)this['addTime'](_0x53cfc7,!(-0x16db*0x1+-0x1*0x25b5+0x3c91));}['resetTime'](){this['endTime']=o1(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x58ed44,_0x25d3f0){const _0x13d1a4=this['graphicsDe'+'vice'],_0xaa0f3d=ne();if(this['simTimeTot'+'al']+=_0x58ed44,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x25db64=this['animTilesP'+'arams'];_0x25db64[0x44*0x10+-0x9*-0x359+0xd*-0x2a5]=(-0x2a3+0x21a9+0x3*-0xa57)/this['animTilesX'],_0x25db64[0x6*0x364+0x248f+-0x38e6]=(-0x10*0x271+-0x5*0x59f+0x432c)/this['animTilesY'];const _0x1fa98c=this['animParams'];_0x1fa98c[-0x19c*-0x12+-0x3f8+0x20*-0xc8]=this['animStartF'+'rame'],_0x1fa98c[-0xd07+0x16ea+0xe6*-0xb]=this['animNumFra'+'mes']*this['animSpeed'],_0x1fa98c[0x1042+0x1055+-0x2095]=this['animNumFra'+'mes']-(0x61*-0x46+0x91f+0x1168),_0x1fa98c[0x757+0x1dd1+-0x2525]=this['animNumAni'+'mations']-(-0xd57*-0x1+0x9fa+0x1*-0x1750);const _0x29b774=this['animIndexP'+'arams'];_0x29b774[0x3d4+-0x2*0x113e+-0x24*-0xda]=this['animIndex'],_0x29b774[-0x400+-0x111b*0x1+0x151c]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===Vs&&(ri[-0x131c+-0x6b1+0x19cd]=this['emitterExt'+'ents']['x']!==0x4*-0x383+0x1dfc*-0x1+-0x1*-0x2c08?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x2538+0xe0b*0x1+-0x11*-0x15d,ri[0x1*0x22f9+0xc2*-0x11+-0x2*0xb0b]=this['emitterExt'+'ents']['y']!==0x2485+-0x18be+-0x43*0x2d?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x15*-0xf4+0x679*-0x2+0x5*-0x16a,ri[0x1*-0x1a42+-0x3d2*-0x4+0x94*0x13]=this['emitterExt'+'ents']['z']!==0x409*0x5+-0x1*-0x117a+-0xc8d*0x3?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x13*0x14e+-0x1c21+-0x9*-0x5f,this['meshInstan'+'ce']['node']===null?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['emitterExt'+'ents']):Tr['setTRS'](T['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),I_['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x1787fd;const _0x12bab5=this['meshInstan'+'ce']['node']===null?T['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][0x1a2e+0x680+0xb2*-0x2f]=_0x12bab5['x'],this['emitterSca'+'leUniform'][-0x1750+0x84d*0x2+0x6b7]=_0x12bab5['y'],this['emitterSca'+'leUniform'][0x9d6*0x2+0x7f*-0x3d+0xa99]=_0x12bab5['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x1787fd=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][-0x1*0x6d0+0x1be*0x14+0x4e*-0x5c]=_0x1787fd['x'],this['emitterPos'+'Uniform'][0x24a4+0x1eb9*-0x1+0x5ea*-0x1]=_0x1787fd['y'],this['emitterPos'+'Uniform'][0x250f+0x457*-0x2+-0x1c5f]=_0x1787fd['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x13d1a4,Tr,ri,_0x58ed44,_0x25d3f0);else{const _0x19cd92=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x19cd92,this['vbToSort'],this['particleTe'+'x'],Tr,ri,_0x1787fd,_0x58ed44,_0x25d3f0);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(0x3*0x74f+-0x137f+-0x26d)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=ne()-_0xaa0f3d;}['_destroyRe'+'sources'](){var _0xbfe3a5,_0x5446ad,_0xbb92c6,_0x51da1a,_0x38d753,_0x5bb311,_0x554421,_0xa0ef1a,_0x253e36,_0x52ca50,_0x4c5618,_0x58316a;(_0xbfe3a5=this['particleTe'+'xIN'])==null||_0xbfe3a5['destroy'](),this['particleTe'+'xIN']=null,(_0x5446ad=this['particleTe'+'xOUT'])==null||_0x5446ad['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0xbb92c6=this['rtParticle'+'TexIN'])==null||_0xbb92c6['destroy'](),this['rtParticle'+'TexIN']=null,(_0x51da1a=this['rtParticle'+'TexOUT'])==null||_0x51da1a['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x38d753=this['internalTe'+'x0'])==null||_0x38d753['destroy'](),this['internalTe'+'x0']=null,(_0x5bb311=this['internalTe'+'x1'])==null||_0x5bb311['destroy'](),this['internalTe'+'x1']=null,(_0x554421=this['internalTe'+'x2'])==null||_0x554421['destroy'](),this['internalTe'+'x2']=null,(_0xa0ef1a=this['internalTe'+'x3'])==null||_0xa0ef1a['destroy'](),this['internalTe'+'x3']=null,(_0x253e36=this['colorParam'])==null||_0x253e36['destroy'](),this['colorParam']=null,(_0x52ca50=this['vertexBuff'+'er'])==null||_0x52ca50['destroy'](),this['vertexBuff'+'er']=void(0xe9f*-0x2+-0x1412+0xc54*0x4),(_0x4c5618=this['indexBuffe'+'r'])==null||_0x4c5618['destroy'](),this['indexBuffe'+'r']=void(0x164*-0xb+-0x261*-0x5+0x367),(_0x58316a=this['material'])==null||_0x58316a['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class u1 extends It{['generateKe'+'y'](_0xd6c076){const _0x239493=_0xd6c076['shaderDesc'],_0x294596=_0x239493['vertexCode']?hn(_0x239493['vertexCode']):0x2252+-0x164d*-0x1+-0x389f*0x1,_0x2e127c=_0x239493['fragmentCo'+'de']?hn(_0x239493['fragmentCo'+'de']):0x15a1*0x1+0x1ca2+-0x3243*0x1,_0x445295=It['definesHas'+'h'](_0xd6c076['defines']);let _0x3a3bcd=_0x239493['uniqueName']+'_'+_0x294596+'_'+_0x2e127c+'_'+_0x445295;return _0xd6c076['skin']&&(_0x3a3bcd+='_skin'),_0xd6c076['useInstanc'+'ing']&&(_0x3a3bcd+='_inst'),_0xd6c076['useMorphPo'+'sition']&&(_0x3a3bcd+='_morphp'),_0xd6c076['useMorphNo'+'rmal']&&(_0x3a3bcd+='_morphn'),_0xd6c076['useMorphTe'+'xtureBased'+'Int']&&(_0x3a3bcd+='_morphi'),_0x3a3bcd;}['createAttr'+'ibutesDefi'+'nition'](_0x457e3e,_0x21216c){const _0xd4de2d=_0x21216c['shaderDesc']['attributes'],_0xed9549=_0xd4de2d?{..._0xd4de2d}:void(0x29*0xe7+-0x2ed*-0x8+-0x3c67);_0x21216c['skin']&&(_0xed9549['vertex_bon'+'eWeights']=Ys,_0xed9549['vertex_bon'+'eIndices']=qt),(_0x21216c['useMorphPo'+'sition']||_0x21216c['useMorphNo'+'rmal'])&&(_0xed9549['morph_vert'+'ex_id']=ya),_0x457e3e['attributes']=_0xed9549;}['createVert'+'exDefiniti'+'on'](_0x1f74d5,_0x131e8f,_0x1f8313){const _0x48ef5b=_0x131e8f['shaderDesc'];if(_0x1f74d5['shaderLang'+'uage']===Ph)_0x1f74d5['vertexCode']=_0x48ef5b['vertexCode'];else{const _0x1aec18=new Map(_0x1f8313),_0x51727d=new Map(_0x131e8f['defines']);_0x1aec18['set']('transformI'+'nstancingV'+'S',''),_0x131e8f['skin']&&_0x51727d['set']('SKIN',!(-0x2a*0x2f+0x1a*0x19+0x52c)),_0x131e8f['useInstanc'+'ing']&&_0x51727d['set']('INSTANCING',!(-0x137b+-0x53*-0x61+-0xbf8)),(_0x131e8f['useMorphPo'+'sition']||_0x131e8f['useMorphNo'+'rmal'])&&(_0x51727d['set']('MORPHING',!(0x414+0x13*-0x87+-0x27*-0x27)),_0x131e8f['useMorphTe'+'xtureBased'+'Int']&&_0x51727d['set']('MORPHING_I'+'NT',!(0x836*0x1+-0x4fe*0x4+0x1ae*0x7)),_0x131e8f['useMorphPo'+'sition']&&_0x51727d['set']('MORPHING_P'+'OSITION',!(-0x9fa+0x12f3+-0x8f9)),_0x131e8f['useMorphNo'+'rmal']&&_0x51727d['set']('MORPHING_N'+'ORMAL',!(0x9*-0x11+-0x239b+-0x14b*-0x1c))),_0x1f74d5['vertexCode']=_0x48ef5b['vertexCode'],_0x1f74d5['vertexIncl'+'udes']=_0x1aec18,_0x1f74d5['vertexDefi'+'nes']=_0x51727d;}}['createFrag'+'mentDefini'+'tion'](_0x55d12d,_0x17436e,_0x30bacd){const _0x3cb556=_0x17436e['shaderDesc'];if(_0x55d12d['shaderLang'+'uage']===Ph)_0x55d12d['fragmentCo'+'de']=_0x3cb556['fragmentCo'+'de'];else{const _0x578d55=new Map(_0x30bacd),_0x5dd8ae=new Map(_0x17436e['defines']);_0x55d12d['fragmentCo'+'de']=_0x3cb556['fragmentCo'+'de'],_0x55d12d['fragmentIn'+'cludes']=_0x578d55,_0x55d12d['fragmentDe'+'fines']=_0x5dd8ae;}}['createShad'+'erDefiniti'+'on'](_0x4fe10b,_0x287195){const _0x1ff819=_0x287195['shaderDesc'],_0xfd926c={'name':'ShaderMate'+'rial-'+_0x1ff819['uniqueName'],'shaderLanguage':_0x1ff819['shaderLang'+'uage'],'fragmentOutputTypes':_0x1ff819['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x1ff819['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x1ff819['meshBindGr'+'oupFormat']},_0x5059f9=new Map(Object['entries']({...X,..._0x287195['chunks']}));return this['createAttr'+'ibutesDefi'+'nition'](_0xfd926c,_0x287195),this['createVert'+'exDefiniti'+'on'](_0xfd926c,_0x287195,_0x5059f9),this['createFrag'+'mentDefini'+'tion'](_0xfd926c,_0x287195,_0x5059f9),Mt['createDefi'+'nition'](_0x4fe10b,_0xfd926c);}}const f1=new u1();class Ra extends yn{constructor(_0x922c78){super(),c(this,'_shaderDes'+'c'),this['shaderDesc']=_0x922c78;}set['shaderDesc'](_0x223aa8){_0x223aa8&&(v['assert'](_0x223aa8['vertexCode'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'vertexCode'),v['assert'](_0x223aa8['fragmentCo'+'de'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'fragmentCo'+'de')),this['_shaderDes'+'c']=_0x223aa8?{..._0x223aa8}:void(-0x137+-0x16*0x19+0x35d),this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0xd359ca){return super['copy'](_0xd359ca),this['shaderDesc']=_0xd359ca['shaderDesc'],this;}['getShaderV'+'ariant'](_0x552519){const {objDefs:_0x46de4b}=_0x552519,_0x7f1cec={'defines':Dp(this,_0x552519),'skin':(_0x46de4b&Wc)!==-0x821+-0x11de+0x19ff,'useInstancing':(_0x46de4b&$c)!==0x1*0x1c7+-0x6*-0x386+-0x16eb,'useMorphPosition':(_0x46de4b&qc)!==0x19*-0xc7+0x1*-0x1fd7+0x3346,'useMorphNormal':(_0x46de4b&Xc)!==-0x2*-0x9fd+0x12aa*0x1+-0x26a4,'useMorphTextureBasedInt':(_0x46de4b&jc)!==-0x5*0x3d+0x24b9+-0x2388,'pass':_0x552519['pass'],'gamma':_0x552519['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x552519['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x552519['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'chunks':this['chunks']??{}},_0x462215=new Yc(_0x552519['viewUnifor'+'mFormat'],_0x552519['viewBindGr'+'oupFormat'],_0x552519['vertexForm'+'at']),_0x4d4024=ka(_0x552519['device']);return _0x4d4024['register']('shader-mat'+'erial',f1),_0x4d4024['getProgram']('shader-mat'+'erial',_0x7f1cec,_0x462215,this['userId']);}}const k0=(_0x5a0c60,_0x30de9c)=>{const _0x15b168=_0x30de9c['length']/(0x5c9*0x1+0x1*0x1a61+-0x2027),_0x2abbca=_0x5a0c60['length']/(0x1*0x8c3+0x868*-0x2+0x810),_0x413476=new T(),_0x51c539=new T(),_0x28a54e=new T(),_0x40169f=new T(),_0x5d7f5f=new T(),_0x37b7d4=new T(),_0xf4ab32=[];for(let _0x4aa13f=-0x7b4*-0x1+-0x2*-0x32d+-0xe0e;_0x4aa13f<_0x5a0c60['length'];_0x4aa13f++)_0xf4ab32[_0x4aa13f]=-0x1*0x24de+0x17c+0x2362;for(let _0x26e537=0x4f*-0x53+-0x180f+0x31ac;_0x26e537<_0x15b168;_0x26e537++){const _0x3efe26=_0x30de9c[_0x26e537*(-0x1dfc+0x1bb4+0x1*0x24b)],_0x4f303d=_0x30de9c[_0x26e537*(0xcdf+-0x1ace+0x1e*0x77)+(-0x5*0x12e+0x9c9+-0x3e2)],_0x243d06=_0x30de9c[_0x26e537*(0x1126+-0x1c0c+-0x18f*-0x7)+(0x1e5e+-0xbf*0xb+-0x6b*0x35)];_0x413476['set'](_0x5a0c60[_0x3efe26*(0x1941+0x55b*0x6+-0x4c8*0xc)],_0x5a0c60[_0x3efe26*(0x2a8+-0xc7e*-0x2+-0x283*0xb)+(-0x16f0+0x1e0e*-0x1+0x34ff)],_0x5a0c60[_0x3efe26*(-0x1e65+-0x894+0x26fc)+(-0x67a+-0x2705+-0x2d81*-0x1)]),_0x51c539['set'](_0x5a0c60[_0x4f303d*(0x76e*-0x1+-0x26b*-0xc+-0x1593)],_0x5a0c60[_0x4f303d*(0xb*-0x219+-0x1*0x768+0x1e7e)+(0xcea+-0x24c0+0x1*0x17d7)],_0x5a0c60[_0x4f303d*(-0x1*-0x1556+-0x1810+0x2bd)+(0x5*-0x244+0x1693+-0xb3d)]),_0x28a54e['set'](_0x5a0c60[_0x243d06*(-0x33f+0x21e*0x4+-0x29b*0x2)],_0x5a0c60[_0x243d06*(0x17e3+-0x1f27+0x747)+(0xa2*0xc+-0xbb9*0x2+0xfdb)],_0x5a0c60[_0x243d06*(-0x112*-0x20+-0x2*-0xd92+-0x3d61)+(-0x23cc+0x1*-0xf43+0x301*0x11)]),_0x40169f['sub2'](_0x51c539,_0x413476),_0x5d7f5f['sub2'](_0x28a54e,_0x413476),_0x37b7d4['cross'](_0x40169f,_0x5d7f5f)['normalize'](),_0xf4ab32[_0x3efe26*(0x1734+-0x150d+-0x224)]+=_0x37b7d4['x'],_0xf4ab32[_0x3efe26*(-0x1f*0xe7+0x18c0+0x33c)+(0x56c+0x217*0xd+-0x2*0x104b)]+=_0x37b7d4['y'],_0xf4ab32[_0x3efe26*(0x1*-0x2396+0xfa8*0x1+0x13f1)+(-0xd*-0xe5+-0xf*0x22d+0x1504)]+=_0x37b7d4['z'],_0xf4ab32[_0x4f303d*(0x2*0x1127+-0x16c3*0x1+-0x52*0x24)]+=_0x37b7d4['x'],_0xf4ab32[_0x4f303d*(0x1b53+-0x6*0x1f3+0x2*-0x7cf)+(-0xa11+0x1*0x1ed9+-0x3*0x6ed)]+=_0x37b7d4['y'],_0xf4ab32[_0x4f303d*(0x16b6+0x2350+-0x3a03*0x1)+(0x6d7+-0x34*0xa3+-0x7*-0x3c1)]+=_0x37b7d4['z'],_0xf4ab32[_0x243d06*(0x15a9*-0x1+0x8a2+0xd0a)]+=_0x37b7d4['x'],_0xf4ab32[_0x243d06*(-0x1810+0x1609+0x20a)+(0x18f6+0x1ed+0x3*-0x8f6)]+=_0x37b7d4['y'],_0xf4ab32[_0x243d06*(-0xc*0x298+-0x1406+0x74f*0x7)+(0xc*-0x175+0x65*-0x25+0x2017)]+=_0x37b7d4['z'];}for(let _0x5db468=-0x1c0a+0x2d8+0x1932;_0x5db468<_0x2abbca;_0x5db468++){const _0x3d1593=_0xf4ab32[_0x5db468*(-0x1*-0x1065+0x1b62+0x1*-0x2bc4)],_0xee95d4=_0xf4ab32[_0x5db468*(-0x64c*0x6+0x1fe5+0x5e6*0x1)+(0x118a+0x1*0x1142+-0x1*0x22cb)],_0x4d135e=_0xf4ab32[_0x5db468*(-0x12c0+-0x11f2+0x24b5)+(-0xe09+-0x1810+0x261b)],_0x577d2b=(-0x67*-0x59+0x13*-0xef+-0x1211)/Math['sqrt'](_0x3d1593*_0x3d1593+_0xee95d4*_0xee95d4+_0x4d135e*_0x4d135e);_0xf4ab32[_0x5db468*(-0x13a1+0x6*-0x664+-0xe7f*-0x4)]*=_0x577d2b,_0xf4ab32[_0x5db468*(0x19*0x8a+-0x1*-0x100e+-0x1d85)+(-0x1eb0+-0x14*-0x178+0x151)]*=_0x577d2b,_0xf4ab32[_0x5db468*(0xa*0x28f+0x1*0x2461+-0x3df4)+(-0xf8d+-0x7aa+0x1739)]*=_0x577d2b;}return _0xf4ab32;},fr=(_0x5db222,_0x4da920,_0x2c449a,_0x5e2300)=>{const _0x78999f=_0x5e2300['length']/(0x1*0x19c+0x12ad*0x2+-0x26f3),_0x29c6=_0x5db222['length']/(-0x1*0x1bc7+0xa5b+0x1*0x116f),_0x42dc52=new T(),_0x59adcb=new T(),_0x56f127=new T(),_0x674d1a=new W(),_0x191ddc=new W(),_0x4992d7=new W(),_0x1f1dbe=new T(),_0x25c39c=new T(),_0x129330=new Float32Array(_0x29c6*(0xa7c+0xb3*-0x32+-0x1*-0x187d)),_0x4bbef2=new Float32Array(_0x29c6*(0x1*0x1277+0xd*0x79+-0x1899)),_0x31f582=[];for(let _0x4001ca=0xdf*0x13+-0x1*-0x823+-0x18b0;_0x4001ca<_0x78999f;_0x4001ca++){const _0x4e72ce=_0x5e2300[_0x4001ca*(0x2670+0x899+0x1783*-0x2)],_0x911998=_0x5e2300[_0x4001ca*(-0x2526+0x2008+-0x65*-0xd)+(0x140+-0x19*0x48+0x5c9)],_0x3c6fba=_0x5e2300[_0x4001ca*(-0x9b9*0x4+0x1e41*0x1+-0x12*-0x7b)+(-0x1*0x7e+0x1b0c*-0x1+-0xa4*-0x2b)];_0x42dc52['set'](_0x5db222[_0x4e72ce*(-0xd5*-0xb+0x7dc*-0x2+0x694)],_0x5db222[_0x4e72ce*(0x3*-0x622+0x1*0xa6+-0x1*-0x11c3)+(0x1b6*0x7+0x1*0x242f+-0xb8*0x43)],_0x5db222[_0x4e72ce*(-0x1a84+0xc*-0xf1+0x25d3)+(0x22d5+-0x1*-0x1b01+0xc*-0x527)]),_0x59adcb['set'](_0x5db222[_0x911998*(-0xa*-0x56+-0x3*-0xa91+-0x2*0x1186)],_0x5db222[_0x911998*(0x1*-0x1d30+0x26bf+-0x98c)+(-0x1e92+-0x1d67+-0x2*-0x1dfd)],_0x5db222[_0x911998*(-0x1856+-0xded+-0x2e*-0xd5)+(-0x19a1+0x1*-0xd88+0x272b)]),_0x56f127['set'](_0x5db222[_0x3c6fba*(0x3ed*0x3+-0x1ad1+-0xf0d*-0x1)],_0x5db222[_0x3c6fba*(0x1b44+0x5e4+-0x2125)+(0x1cc8+-0xcc*-0x1f+-0x357b)],_0x5db222[_0x3c6fba*(-0x11d9+-0x1*-0xb85+0x657)+(0x5c3*-0x4+0x10bf+-0x143*-0x5)]),_0x674d1a['set'](_0x2c449a[_0x4e72ce*(0x44f*0x9+0x26ef+-0x136d*0x4)],_0x2c449a[_0x4e72ce*(-0x1b11*0x1+0x1fb5*0x1+-0x4a2)+(0x76+-0x13*-0x53+-0x69e)]),_0x191ddc['set'](_0x2c449a[_0x911998*(-0x1f82+-0x1535+0x21*0x199)],_0x2c449a[_0x911998*(-0x1bc7*-0x1+-0x11*-0x229+-0x407e)+(-0x1*0x1c27+-0x162f+0x3257)]),_0x4992d7['set'](_0x2c449a[_0x3c6fba*(0x1c42+0x38+-0x1c78)],_0x2c449a[_0x3c6fba*(0x1*0x85d+-0x2*-0x12ee+0x2e37*-0x1)+(0x2043+0xad1*0x2+-0x35e4)]);const _0x5aff2b=_0x59adcb['x']-_0x42dc52['x'],_0x235529=_0x56f127['x']-_0x42dc52['x'],_0x63c237=_0x59adcb['y']-_0x42dc52['y'],_0xddcb09=_0x56f127['y']-_0x42dc52['y'],_0x51a8c4=_0x59adcb['z']-_0x42dc52['z'],_0x441a49=_0x56f127['z']-_0x42dc52['z'],_0x4ece64=_0x191ddc['x']-_0x674d1a['x'],_0x54dea5=_0x4992d7['x']-_0x674d1a['x'],_0x47048e=_0x191ddc['y']-_0x674d1a['y'],_0xcb332f=_0x4992d7['y']-_0x674d1a['y'],_0x7432e7=_0x4ece64*_0xcb332f-_0x54dea5*_0x47048e;if(_0x7432e7===-0x195e+0x1ed+-0x161*-0x11)_0x1f1dbe['set'](-0x116e+-0x21*-0x107+0x1079*-0x1,-0xd*-0x2ec+-0x45*-0xb+-0x28f2*0x1,-0x52*-0xa+-0x7*-0x3eb+-0x1*0x1ea1),_0x25c39c['set'](0x572*-0x1+0x263a+-0x20c7,-0x2*0x11b7+0x1ac+0x21c2,-0x18e*-0x1+-0x243a+0x22ac);else{const _0x1af781=(-0x1388+-0x2167+0x34f0)/_0x7432e7;_0x1f1dbe['set']((_0xcb332f*_0x5aff2b-_0x47048e*_0x235529)*_0x1af781,(_0xcb332f*_0x63c237-_0x47048e*_0xddcb09)*_0x1af781,(_0xcb332f*_0x51a8c4-_0x47048e*_0x441a49)*_0x1af781),_0x25c39c['set']((_0x4ece64*_0x235529-_0x54dea5*_0x5aff2b)*_0x1af781,(_0x4ece64*_0xddcb09-_0x54dea5*_0x63c237)*_0x1af781,(_0x4ece64*_0x441a49-_0x54dea5*_0x51a8c4)*_0x1af781);}_0x129330[_0x4e72ce*(0x5e8+0x32*0x40+-0x1265)+(0x140e*0x1+0x27a*0x3+-0x1b7c)]+=_0x1f1dbe['x'],_0x129330[_0x4e72ce*(-0x1bd4+0x11*-0x6b+0x22f2)+(-0x1511*-0x1+0x3*-0xd03+-0x11f9*-0x1)]+=_0x1f1dbe['y'],_0x129330[_0x4e72ce*(-0x1e84+0xd58+0x112f)+(0x1979*0x1+0xe*-0x15c+-0x66f*0x1)]+=_0x1f1dbe['z'],_0x129330[_0x911998*(0x212*-0x2+-0x1afb*0x1+0x1f22)+(0x934+-0x727*0x1+-0x23*0xf)]+=_0x1f1dbe['x'],_0x129330[_0x911998*(0x1*0x26f1+0x22ae+-0x2a1*0x1c)+(-0xb5d*0x3+-0x382+0x259a)]+=_0x1f1dbe['y'],_0x129330[_0x911998*(-0x1d2*-0xa+0x33*-0xa+-0x1033)+(-0x62c*-0x5+0x1d5b+0x1*-0x3c35)]+=_0x1f1dbe['z'],_0x129330[_0x3c6fba*(0x4ac+0xdcc*-0x2+0x67*0x39)+(-0x25f*-0x4+0x3*0x2ef+0x1249*-0x1)]+=_0x1f1dbe['x'],_0x129330[_0x3c6fba*(0x1343*0x1+0x1176+-0x24b6)+(-0x8f1+-0x21c2*0x1+-0x3*-0xe3c)]+=_0x1f1dbe['y'],_0x129330[_0x3c6fba*(-0xcd*-0x1d+-0x10d4+-0x662)+(-0x1*0x2607+-0x7*-0x1c1+0x19c2)]+=_0x1f1dbe['z'],_0x4bbef2[_0x4e72ce*(-0x471*0x8+0xfaa+0x2d7*0x7)+(-0x14c9+0xc8e*0x3+0x95*-0x1d)]+=_0x25c39c['x'],_0x4bbef2[_0x4e72ce*(-0x2558+-0x3bd*0x5+-0x22*-0x1a6)+(0xb76+0x1d97+-0x11c*0x25)]+=_0x25c39c['y'],_0x4bbef2[_0x4e72ce*(-0x19c*-0x15+-0x1*0x102b+-0x37*0x52)+(-0x27e+0xacd+-0x84d)]+=_0x25c39c['z'],_0x4bbef2[_0x911998*(0x247c+0x4c6*-0x7+-0x30f)+(-0x1329+-0xd8d*-0x1+-0x2ce*-0x2)]+=_0x25c39c['x'],_0x4bbef2[_0x911998*(-0xe3f+0x1d5b+-0xf19)+(0x7*-0x403+-0x1*0x1d63+0x3979)]+=_0x25c39c['y'],_0x4bbef2[_0x911998*(0x317*-0x7+0xc9f+0x905*0x1)+(0x1*-0x1f84+0x2491+-0x50b)]+=_0x25c39c['z'],_0x4bbef2[_0x3c6fba*(0x26db+-0x82e+-0x1eaa)+(-0x30a*-0x4+-0x2*0xc1a+0x101*0xc)]+=_0x25c39c['x'],_0x4bbef2[_0x3c6fba*(0x569+0x185f*-0x1+0x12f9*0x1)+(-0x1bf1*0x1+-0x72a+-0x231c*-0x1)]+=_0x25c39c['y'],_0x4bbef2[_0x3c6fba*(-0x5b8+-0xcb9+0x1*0x1274)+(0x22d2+0x1*-0xd2b+-0x15a5)]+=_0x25c39c['z'];}const _0x2cfe65=new T(),_0x517b34=new T(),_0x58b300=new T(),_0x56ec8c=new T();for(let _0x1adb75=0x6dd*0x1+-0x21e*-0x5+-0x1*0x1173;_0x1adb75<_0x29c6;_0x1adb75++){_0x58b300['set'](_0x4da920[_0x1adb75*(-0x21f3*0x1+-0x1ac1*0x1+0x3cb7*0x1)],_0x4da920[_0x1adb75*(0x1*0x197f+-0xdc6+-0xbb6)+(0x4*-0x77+0x4*-0x4c3+0x14e9)],_0x4da920[_0x1adb75*(-0x2000+0xd43+-0x1e0*-0xa)+(-0x49*-0x6+-0x548+-0x1ca*-0x2)]),_0x2cfe65['set'](_0x129330[_0x1adb75*(-0x125f+-0xc21+0x1e83*0x1)],_0x129330[_0x1adb75*(-0x1558+0x2032+-0xad7)+(0x1*0x17ee+0x15b1+-0x2d9e)],_0x129330[_0x1adb75*(-0x2603*-0x1+0x295*0xe+-0x4a26)+(0x28f*0xe+0x6*-0x450+-0x9f0)]),_0x517b34['set'](_0x4bbef2[_0x1adb75*(0x859+-0x2*0x113b+-0x16*-0x130)],_0x4bbef2[_0x1adb75*(0x1d3f+-0x573+0x1*-0x17c9)+(0x109*-0x13+0x2b*0x51+-0x1*-0x611)],_0x4bbef2[_0x1adb75*(0x990*-0x1+-0x1787+0x211a)+(-0x16c4+0x2*-0x49+0x1758)]);const _0x26691d=_0x58b300['dot'](_0x2cfe65);_0x56ec8c['copy'](_0x58b300)['mulScalar'](_0x26691d),_0x56ec8c['sub2'](_0x2cfe65,_0x56ec8c)['normalize'](),_0x31f582[_0x1adb75*(0x164*-0x8+0x2682+0xdaf*-0x2)]=_0x56ec8c['x'],_0x31f582[_0x1adb75*(-0x2308*0x1+0x216f+0x3b*0x7)+(0x1*-0x1df9+0x1*0x59a+0x1*0x1860)]=_0x56ec8c['y'],_0x31f582[_0x1adb75*(-0x7*0x6e+0x13a8+-0x10a2*0x1)+(-0x17*0x1+-0x488+0x4f*0xf)]=_0x56ec8c['z'],_0x56ec8c['cross'](_0x58b300,_0x2cfe65),_0x31f582[_0x1adb75*(0x20*0x3+-0x482+0x426)+(-0x1e4c+-0x1f40+-0x6d7*-0x9)]=_0x56ec8c['dot'](_0x517b34)<-0xcb7+0x19da+-0xd23?-(0x1*0x237d+0x1516+0x1c49*-0x2):0x18d*-0x11+0x16fc+0x362;}return _0x31f582;};class pn{constructor(){c(this,'positions'),c(this,'normals'),c(this,'colors'),c(this,'uvs'),c(this,'uvs1'),c(this,'blendIndic'+'es'),c(this,'blendWeigh'+'ts'),c(this,'tangents'),c(this,'indices');}['calculateN'+'ormals'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=k0(this['positions'],this['indices']);}['calculateT'+'angents'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),v['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const Wu=(0x2125+0x422+-0x2543)/(-0x6e0+0x5*0x251+0x475*-0x1),L_=-0x2c6+0x92*0x5+-0x13-Wu*(0x2347+0x265a+-0x499f);class $u extends pn{constructor(_0x4ba986={}){super();const _0x44dfa3=_0x4ba986['halfExtent'+'s']??new T(0x2*-0x133c+0x4f7+-0x1*-0x2181+0.5,-0xf3f+-0xc8d+0x1bcc+0.5,0x1*-0x2462+0x28*0xa7+-0x3*-0x36e+0.5),_0x4c17ea=_0x4ba986['widthSegme'+'nts']??-0x17c0+-0x80c+0x1fcd,_0xa84455=_0x4ba986['lengthSegm'+'ents']??0x1*-0xa73+0x2*-0xb8+0xbe4,_0x4d0384=_0x4ba986['heightSegm'+'ents']??0xb40+0x1c90+-0x27cf,_0x1c516f=_0x4ba986['yOffset']??0x1050+-0xbcf*0x3+-0x15*-0xe9,_0xe5ca72=-_0x44dfa3['y']+_0x1c516f,_0x238059=_0x44dfa3['y']+_0x1c516f,_0x4e7e3f=[new T(-_0x44dfa3['x'],_0xe5ca72,_0x44dfa3['z']),new T(_0x44dfa3['x'],_0xe5ca72,_0x44dfa3['z']),new T(_0x44dfa3['x'],_0x238059,_0x44dfa3['z']),new T(-_0x44dfa3['x'],_0x238059,_0x44dfa3['z']),new T(_0x44dfa3['x'],_0xe5ca72,-_0x44dfa3['z']),new T(-_0x44dfa3['x'],_0xe5ca72,-_0x44dfa3['z']),new T(-_0x44dfa3['x'],_0x238059,-_0x44dfa3['z']),new T(_0x44dfa3['x'],_0x238059,-_0x44dfa3['z'])],_0x398d5c=[[0x3*0x949+0x1*-0x1251+-0x98a,0x1dfe+0x66c+-0x2469,-0x7f2+-0x22fb+-0x30*-0xe5],[-0x8e9+-0x29*-0x4d+0x1*-0x368,0x7*0x35d+-0x1306+-0xc*0x60,-0x11f1+0x349+0xeaf],[0x8*0x4a5+0x34+-0x2559*0x1,0xf6*0x1d+0x193*0x2+-0x1f02,0x1527+0x8+-0x1529],[-0x77*0x15+-0x251*0x10+0x534*0x9,0x180e*-0x1+0x102f*0x1+0x7df,0x17*-0x106+-0x1dbd+0x354b],[0x34f*0x7+-0x1f1c+0x7f4,0x45f*-0x3+0x2b*-0xdf+0x3296,0x204a+-0xf1d+-0x112b],[-0x9*0x94+0xcc5+-0x78c,-0x2*0x98f+0x1*-0x7db+0x1af9,-0x1*-0x100e+0xafe+-0x1b06]],_0x8a1fc7=[[0x23cd+-0x8a4+-0x11*0x199,-0x1*0x7a+-0x1af3+0x1b6d,0x1e02+-0x1c7c+-0x185*0x1],[-0x149f+0x125*-0xf+0x25ca,0xc4*0x26+-0x184+-0x1b94,-(0xd53+-0x74a*-0x3+-0x2330)],[-0x8d*0x6+0xf44*-0x2+-0x1*-0x21d6,-0x15*0x35+-0x2678+0x2ad2,0x1*-0x1991+0xa43*-0x1+0x8f5*0x4],[-0x22cb+0x1c54+0x677*0x1,-(0x1*-0xa4d+0x49f*0x1+-0xf*-0x61),-0x11e8+0xf*0x191+-0x1dd*0x3],[-0x1e63+-0x1416+0x7*0x736,-0xdf3+-0x1f14+0x2d07,0x4c9+0xd*0x171+-0x1786],[-(-0x26a8+0x32e*0x1+0x125*0x1f),0x1f74+-0x164f*0x1+0x1*-0x925,0x1*0xa67+-0x1725+0xcbe]],_0x1f4232={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x5b02fe=[],_0xa91215=[],_0x267d6d=[],_0x53a1fc=[];let _0x324636=-0x2701+-0xdc8+0x34c9;const _0x9aaec7=(_0x5f527e,_0x259ebc,_0x3132b4)=>{const _0x39d5cf=new T(),_0x38a5f8=new T(),_0x1aef86=new T(),_0x1f4c6c=new T();for(let _0x14a0f6=-0x11fb+0x1e53+0x9e*-0x14;_0x14a0f6<=_0x259ebc;_0x14a0f6++)for(let _0x2a33ab=-0x21a6+-0x13c7+-0x2f*-0x123;_0x2a33ab<=_0x3132b4;_0x2a33ab++){_0x39d5cf['lerp'](_0x4e7e3f[_0x398d5c[_0x5f527e][-0xe3a+-0x1*-0x57e+0x34*0x2b]],_0x4e7e3f[_0x398d5c[_0x5f527e][-0x1480+-0x75a+0x1bdb]],_0x14a0f6/_0x259ebc),_0x38a5f8['lerp'](_0x4e7e3f[_0x398d5c[_0x5f527e][0x423*0x9+-0x4e4+-0x2057]],_0x4e7e3f[_0x398d5c[_0x5f527e][0xf9e+-0xf85+-0x17]],_0x2a33ab/_0x3132b4),_0x1aef86['sub2'](_0x38a5f8,_0x4e7e3f[_0x398d5c[_0x5f527e][-0x20c7+-0x1*-0x25f7+-0x530]]),_0x1f4c6c['add2'](_0x39d5cf,_0x1aef86);let _0x3c0877=_0x14a0f6/_0x259ebc,_0x3ff87f=_0x2a33ab/_0x3132b4;_0x5b02fe['push'](_0x1f4c6c['x'],_0x1f4c6c['y'],_0x1f4c6c['z']),_0xa91215['push'](_0x8a1fc7[_0x5f527e][-0xe1f+-0x1e8a+0x2ca9],_0x8a1fc7[_0x5f527e][0x1418+0x4*0x296+-0x93*0x35],_0x8a1fc7[_0x5f527e][0x22d+0xb15+-0xd40]),_0x267d6d['push'](_0x3c0877,-0x25ec+0x22d+-0xb*-0x340-_0x3ff87f),_0x3c0877=_0x3c0877*L_+Wu,_0x3ff87f=_0x3ff87f*L_+Wu,_0x3c0877/=-0x1ff9*0x1+-0xb7+0x20b3,_0x3ff87f/=-0xb*0xf9+0x1808*-0x1+0x22be*0x1,_0x3c0877+=_0x5f527e%(0x8c0+0xaf3+-0x78*0x2a)/(-0x2204+0x1*-0x1165+0x336c),_0x3ff87f+=Math['floor'](_0x5f527e/(0xfe1+-0x26dd*-0x1+0x1*-0x36bb))/(0x18*0x2b+-0x5f*0xd+0xce),_0x14a0f6<_0x259ebc&&_0x2a33ab<_0x3132b4&&(_0x53a1fc['push'](_0x324636+_0x3132b4+(-0x1*0xac9+0xe1a+0x1a8*-0x2),_0x324636+(-0x15bb+-0x170d+0x2cc9),_0x324636),_0x53a1fc['push'](_0x324636+_0x3132b4+(0x2*0x7b2+0x3*0x517+-0xa38*0x3),_0x324636+_0x3132b4+(-0x18*-0x76+-0x55*-0xd+-0xf5f),_0x324636+(0x18f7+-0x251b+0x1*0xc25))),_0x324636++;}};_0x9aaec7(_0x1f4232['FRONT'],_0x4c17ea,_0x4d0384),_0x9aaec7(_0x1f4232['BACK'],_0x4c17ea,_0x4d0384),_0x9aaec7(_0x1f4232['TOP'],_0x4c17ea,_0xa84455),_0x9aaec7(_0x1f4232['BOTTOM'],_0x4c17ea,_0xa84455),_0x9aaec7(_0x1f4232['RIGHT'],_0xa84455,_0x4d0384),_0x9aaec7(_0x1f4232['LEFT'],_0xa84455,_0x4d0384),this['positions']=_0x5b02fe,this['normals']=_0xa91215,this['uvs']=_0x267d6d,this['uvs1']=_0x267d6d,this['indices']=_0x53a1fc,_0x4ba986['calculateT'+'angents']&&(this['tangents']=fr(_0x5b02fe,_0xa91215,_0x267d6d,_0x53a1fc));}}class B0 extends pn{constructor(_0x322618={}){super();const _0x6a3a52=_0x322618['radius']??-0x23d7+-0xa9b+0x2e72+0.5,_0xd5901=_0x322618['latitudeBa'+'nds']??-0x269*-0xe+0x1222+-0x19e8*0x2,_0x3abb43=_0x322618['longitudeB'+'ands']??-0xded*-0x2+0x1+-0x1bcb,_0x24ee50=[],_0x2da3eb=[],_0x865ebc=[],_0x310e13=[];for(let _0xa18688=-0x1348+-0x1af1+-0x2e39*-0x1;_0xa18688<=_0xd5901;_0xa18688++){const _0x5bb122=_0xa18688*Math['PI']/_0xd5901,_0x44743f=Math['sin'](_0x5bb122),_0x58143e=Math['cos'](_0x5bb122);for(let _0xbb644a=0x19a+0x9ef+-0xb89;_0xbb644a<=_0x3abb43;_0xbb644a++){const _0x1a78e1=_0xbb644a*(0x1*0x9d3+-0x1*0x1f5f+0x1*0x158e)*Math['PI']/_0x3abb43-Math['PI']/(0x1*-0x102b+-0x1794+0x27c1),_0x2eb45a=Math['sin'](_0x1a78e1),_0x477181=Math['cos'](_0x1a78e1)*_0x44743f,_0x26008e=_0x58143e,_0xb4c4a7=_0x2eb45a*_0x44743f,_0x494d74=-0x2ef*0x1+0x5*0x689+-0x17*0x14b-_0xbb644a/_0x3abb43,_0x34e13a=-0x1771*-0x1+-0x1*0x22e5+0xb75-_0xa18688/_0xd5901;_0x24ee50['push'](_0x477181*_0x6a3a52,_0x26008e*_0x6a3a52,_0xb4c4a7*_0x6a3a52),_0x2da3eb['push'](_0x477181,_0x26008e,_0xb4c4a7),_0x865ebc['push'](_0x494d74,-0x1fd0+0x141d+0xbb4-_0x34e13a);}}for(let _0x1383f2=-0xa*-0xb+-0xf57+0x1*0xee9;_0x1383f2<_0xd5901;++_0x1383f2)for(let _0x2fe1ef=-0x1*0xbf6+0x1955+0x7*-0x1e9;_0x2fe1ef<_0x3abb43;++_0x2fe1ef){const _0x36d897=_0x1383f2*(_0x3abb43+(0x17ac+-0x1f76+0x7cb))+_0x2fe1ef,_0x412c91=_0x36d897+_0x3abb43+(-0xe4d+-0xfab+0x1df9);_0x310e13['push'](_0x36d897+(-0x196e+0x47e*-0x2+0x226b),_0x412c91,_0x36d897),_0x310e13['push'](_0x36d897+(0x1d1b+0x155*-0x1d+-0x32d*-0x3),_0x412c91+(0x6a*0x28+0x21ef+-0x17*0x232),_0x412c91);}this['positions']=_0x24ee50,this['normals']=_0x2da3eb,this['uvs']=_0x865ebc,this['uvs1']=_0x865ebc,this['indices']=_0x310e13,_0x322618['calculateT'+'angents']&&(this['tangents']=fr(_0x24ee50,_0x2da3eb,_0x865ebc,_0x310e13));}}class p1 extends B0{constructor(_0x1d87f1={}){const _0x521f56=_0x1d87f1['latitudeBa'+'nds']??0x1fc6+0x270a*0x1+-0x46c*0x10,_0x14f15c=_0x1d87f1['longitudeB'+'ands']??0x5ec+0x71*0x53+-0x2a7f;super({'radius':0.5,'latitudeBands':_0x521f56,'longitudeBands':_0x14f15c});const _0x1d4b9e=-0x1e22+-0x5*0x7ca+0x4514+0.1,_0x4c5bb3=0x1ef1+-0x8e*0x2+-0x1dd5+0.95,_0x349d59=_0x4c5bb3*_0x4c5bb3,_0x5398a7=this['positions'];for(let _0x4cd5b1=-0x43*0x47+-0xf66*0x2+0x1*0x3161;_0x4cd5b1<_0x5398a7['length'];_0x4cd5b1+=0x1*-0x1ca5+-0x661*-0x1+0x76d*0x3){const _0x540f24=_0x5398a7[_0x4cd5b1]/(0x1e95+-0xc58+0x29b*-0x7+0.5);let _0x452caa=_0x5398a7[_0x4cd5b1+(-0x1540+-0x1ae8+0x1*0x3029)]/(0x2645*0x1+0x1fd3+-0x4618+0.5);const _0x1c119c=_0x5398a7[_0x4cd5b1+(-0x62b*0x2+0x25*-0x35+0x6ab*0x3)]/(0xbb7*-0x1+-0x2501+-0xc2e*-0x4+0.5);_0x452caa<-0xa84+-0x1bec+0x2670&&(_0x452caa*=0x219+0xb08+-0xd21+0.3,_0x540f24*_0x540f24+_0x1c119c*_0x1c119c<_0x349d59&&(_0x452caa=-(-0x1da2+0x8*0x486+-0x347*0x2+0.1))),_0x452caa+=_0x1d4b9e,_0x452caa*=-0x3*0x8df+0x21cf+0x399*-0x2+0.5,_0x5398a7[_0x4cd5b1+(-0x1*-0xd81+-0x1a20+0xca0)]=_0x452caa;}}}class So{static['create'](_0xcf2688,_0x297927){switch(_0x297927){case tw:return So['box'](_0xcf2688);case sw:return So['dome'](_0xcf2688);}return v['assert'](_0x297927===xo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x297927),So['infinite'](_0xcf2688);}static['infinite'](_0x263f9a){return Ie['fromGeomet'+'ry'](_0x263f9a,new $u(_0x263f9a));}static['box'](_0x33dd51){return Ie['fromGeomet'+'ry'](_0x33dd51,new $u({'yOffset':0.5}));}static['dome'](_0x387973){const _0x550649=new p1({'latitudeBands':0x32,'longitudeBands':0x32});return _0x550649['normals']=void(-0x2b*0x91+-0x773+-0x45*-0x76),_0x550649['uvs']=void(0x1f0a+0x1def+0x81*-0x79),Ie['fromGeomet'+'ry'](_0x387973,_0x550649);}}class m1{constructor(_0xfe474d,_0x45e752,_0x52eec7,_0x3a0044,_0x1f5a9e){c(this,'meshInstan'+'ce',null);const _0x557ad8=new Ra({'uniqueName':'SkyMateria'+'l','vertexCode':X['skyboxVS'],'fragmentCode':X['skyboxPS'],'attributes':{'aPosition':He}});_0x557ad8['setDefine']('__INJECT_S'+'KYBOX_DECO'+'DE_FNC',Es['decodeFunc'](_0x3a0044['encoding'])),_0x1f5a9e!==xo&&_0x557ad8['setDefine']('SKYMESH',''),_0x3a0044['cubemap']&&_0x557ad8['setDefine']('SKY_CUBEMA'+'P',''),_0x557ad8['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x45e752['skyboxHigh'+'lightMulti'+'plier']),_0x3a0044['cubemap']?_0x557ad8['setParamet'+'er']('texture_cu'+'beMap',_0x3a0044):(_0x557ad8['setParamet'+'er']('texture_en'+'vAtlas',_0x3a0044),_0x557ad8['setParamet'+'er']('mipLevel',_0x45e752['skyboxMip'])),_0x557ad8['cull']=mo,_0x557ad8['depthWrite']=!(-0x1238+0x1*0x2458+-0x121f);const _0x546cf1=_0x45e752['layers']['getLayerBy'+'Id'](vp);if(_0x546cf1){const _0x1fe7a8=So['create'](_0xfe474d,_0x1f5a9e),_0x136164=new Le(_0x1fe7a8,_0x557ad8,_0x52eec7);this['meshInstan'+'ce']=_0x136164,_0x136164['cull']=!(-0x102b+0xdcd*-0x2+-0x15e3*-0x2),_0x136164['pick']=!(-0x72a+-0x1795+0x1ec0),_0x546cf1['addMeshIns'+'tances']([_0x136164]),this['skyLayer']=_0x546cf1;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}}class _1{constructor(_0x5db010){c(this,'_type',xo),c(this,'_center',new T(0x2*0x84f+-0x1920+0x882,0x1d99*-0x1+0x82a+0x1570,0x1d79+0xc38+0x29b1*-0x1)),c(this,'skyMesh',null),c(this,'node',new De('SkyMeshNod'+'e')),(this['device']=_0x5db010['device'],this['scene']=_0x5db010,this['center']=new T(0x5*0x17e+-0x1491+-0xd1b*-0x1,0x65*0x3d+0x1b49+-0x1*0x3359,-0xc0+0x8*0x388+-0xa0*0x2c),this['centerArra'+'y']=new Float32Array(0x1*-0x1f2e+0x9f7+0x153a),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x6827c1){this['type']=_0x6827c1['skyType']??xo,this['node']['setLocalPo'+'sition'](new T(_0x6827c1['skyMeshPos'+'ition']??[0xb*-0x2f6+-0x4fb+0x258d,0x18f4*0x1+-0x5*0x6cd+-0x90d*-0x1,0x24b3+0xc12+-0x30c5])),this['node']['setLocalEu'+'lerAngles'](new T(_0x6827c1['skyMeshRot'+'ation']??[-0x1fd2+0x234f+-0x37d,0x701+-0x150b+0xe0a*0x1,-0x2202+-0x197d+0x3b7f])),this['node']['setLocalSc'+'ale'](new T(_0x6827c1['skyMeshSca'+'le']??[-0x1*-0x241+0x2034+-0x2274,0xbd1*0x1+0x247*-0xa+0x2e*0x3d,-0x23f2+0x257e+-0x1*0x18b])),_0x6827c1['skyCenter']&&(this['_center']=new T(_0x6827c1['skyCenter']));}set['type'](_0x5af9f2){this['_type']!==_0x5af9f2&&(this['_type']=_0x5af9f2,this['scene']['updateShad'+'ers']=!(-0x4f*0x6f+0x42+0x9*0x3c7),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x388f1c){this['_center']['copy'](_0x388f1c);}get['center'](){return this['_center'];}['updateSkyM'+'esh'](){const _0x4da1d1=this['scene']['_getSkybox'+'Tex']();_0x4da1d1&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new m1(this['device'],this['scene'],this['node'],_0x4da1d1,this['type']),this['scene']['fire']('set:skybox',_0x4da1d1));}['resetSkyMe'+'sh'](){var _0x20f394;(_0x20f394=this['skyMesh'])==null||_0x20f394['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==xo){const {center:_0x2e7fdd,centerArray:_0x4ee9f5}=this,_0x4d6eb5=new T();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x2e7fdd,_0x4d6eb5),_0x4ee9f5[-0x1322+0x1d4b+-0xa29]=_0x4d6eb5['x'],_0x4ee9f5[0x15d4+0xa54+-0x2027]=_0x4d6eb5['y'],_0x4ee9f5[0xb7d+-0xbe2+-0x1*-0x67]=_0x4d6eb5['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x4ee9f5);}}}const Hh=new De();Hh['worldTrans'+'form']=q['IDENTITY'],Hh['_dirtyWorl'+'d']=Hh['_dirtyNorm'+'al']=!(0x1625+0x24*0xf7+-0xe38*0x4);class g1{constructor(_0x2b3b85,_0x4b40c1,_0x420cff){this['material']=_0x4b40c1,this['layer']=_0x420cff,this['positions']=[],this['colors']=[],this['mesh']=new Ie(_0x2b3b85),this['meshInstan'+'ce']=null;}['addLines'](_0x241d48,_0x322319){const _0x5203e3=this['positions'],_0x3e2a82=_0x241d48['length'];for(let _0x2ca624=-0x11*0x1cf+-0x1fd*-0x10+-0x111;_0x2ca624<_0x3e2a82;_0x2ca624++){const _0x35f18f=_0x241d48[_0x2ca624];_0x5203e3['push'](_0x35f18f['x'],_0x35f18f['y'],_0x35f18f['z']);}const _0x1c5e8a=this['colors'];if(_0x322319['length'])for(let _0x45ff4c=-0x399+-0x3*0x527+-0x6*-0x32d;_0x45ff4c<_0x3e2a82;_0x45ff4c++){const _0x52cd71=_0x322319[_0x45ff4c];_0x1c5e8a['push'](_0x52cd71['r'],_0x52cd71['g'],_0x52cd71['b'],_0x52cd71['a']);}else{for(let _0x52a30d=-0x2*0x791+0x1bb*-0x9+-0x1eb5*-0x1;_0x52a30d<_0x3e2a82;_0x52a30d++)_0x1c5e8a['push'](_0x322319['r'],_0x322319['g'],_0x322319['b'],_0x322319['a']);}}['addLinesAr'+'rays'](_0xc02a56,_0x370ad3){const _0x3dad5e=this['positions'];for(let _0x372d7f=0x182b+0x75c*0x1+0x481*-0x7;_0x372d7f<_0xc02a56['length'];_0x372d7f+=-0x1435+-0x2f*0x55+0x3fb*0x9)_0x3dad5e['push'](_0xc02a56[_0x372d7f],_0xc02a56[_0x372d7f+(0x1a*-0xe2+-0xf+0x1704)],_0xc02a56[_0x372d7f+(-0x1bf7+-0x1*-0x1747+0x4b2)]);const _0x52e484=this['colors'];if(_0x370ad3['length']){for(let _0x49ec4d=0x674+-0x2*-0x901+-0x1876;_0x49ec4d<_0x370ad3['length'];_0x49ec4d+=-0xffd+0x24ca+0x139*-0x11)_0x52e484['push'](_0x370ad3[_0x49ec4d],_0x370ad3[_0x49ec4d+(-0x670+-0x387+-0x4*-0x27e)],_0x370ad3[_0x49ec4d+(-0xa8*-0x3+0x1c4a+-0x16*0x160)],_0x370ad3[_0x49ec4d+(-0x7b5*0x1+0x80*-0x10+0xfb8)]);}else{const _0x3b0abf=_0xc02a56['length']/(-0x5c0+0x1*0x242+-0xd*-0x45);for(let _0x488b93=0xe9e*0x1+0xb7c*-0x3+0x13d6;_0x488b93<_0x3b0abf;_0x488b93++)_0x52e484['push'](_0x370ad3['r'],_0x370ad3['g'],_0x370ad3['b'],_0x370ad3['a']);}}['onPreRende'+'r'](_0x128a6b,_0x40567d){this['positions']['length']>-0x5*0x525+0x187+0x1832&&this['material']['transparen'+'t']===_0x40567d&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](Pc,!(0x1686+0x6bd+-0x1d42)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new Le(this['mesh'],this['material'],Hh)),_0x128a6b['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=-0x756*-0x1+0x1*0x1de2+-0x634*0x6,this['colors']['length']=0x5eb+-0x1*-0x158d+-0x24a*0xc;}}class y1{constructor(_0x2e8c3d){this['device']=_0x2e8c3d,this['map']=new Map();}['getBatch'](_0x3bd34b,_0x42808d){let _0x1b5822=this['map']['get'](_0x3bd34b);return _0x1b5822||(_0x1b5822=new g1(this['device'],_0x3bd34b,_0x42808d),this['map']['set'](_0x3bd34b,_0x1b5822)),_0x1b5822;}['onPreRende'+'r'](_0x28e313,_0x4a2d85){this['map']['forEach'](_0x1f9c42=>{_0x1f9c42['onPreRende'+'r'](_0x28e313,_0x4a2d85);});}['clear'](){this['map']['forEach'](_0x1bf6cf=>_0x1bf6cf['clear']());}}const Jt=[],Ln=new T(),x1={'uniqueName':'ImmediateL'+'ine','vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec3\x20vertex'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20mat4\x20m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_viewProje'+'ction;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20='+'\x20vertex_co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20matrix_vi'+'ewProjecti'+'on\x20*\x20matri'+'x_model\x20*\x20'+'vec4(verte'+'x_position'+',\x201);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','fragmentCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20','attributes':{'vertex_position':He,'vertex_color':At}};class S1{constructor(_0x13a89b){c(this,'shaderDesc'+'s',new Map()),(this['device']=_0x13a89b,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x2fc1a4){const _0x32417b=new Ra(x1);return _0x32417b['blendType']=Kt,_0x32417b['depthTest']=_0x2fc1a4,_0x32417b['update'](),_0x32417b;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(-0x257*-0x9+0x9*-0x239+0x10e*-0x1))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(-0x948+0x266+0x6e3))),this['_materialN'+'oDepth'];}['getBatch'](_0x172d43,_0x332dfd){let _0x38be32=this['batchesMap']['get'](_0x172d43);_0x38be32||(_0x38be32=new y1(this['device']),this['batchesMap']['set'](_0x172d43,_0x38be32)),this['allBatches']['add'](_0x38be32);const _0x34b285=_0x332dfd?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x38be32['getBatch'](_0x34b285,_0x172d43);}['getShaderD'+'esc'](_0x13b3e7,_0x421591){return this['shaderDesc'+'s']['has'](_0x13b3e7)||this['shaderDesc'+'s']['set'](_0x13b3e7,{'uniqueName':'DebugShade'+'r:'+_0x13b3e7,'vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20vertex_p'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20vec2'+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'0\x20=\x20vertex'+'_position.'+'xy\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentCode':_0x421591,'attributes':{'vertex_position':He}}),this['shaderDesc'+'s']['get'](_0x13b3e7);}['getTexture'+'ShaderDesc'](_0x457ce6){const _0x1381da=Es['decodeFunc'](_0x457ce6);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x457ce6,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x1381da+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+X['screenDept'+'hPS']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(uv0)'+')\x20*\x20camera'+'_params.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(vec3'+'(depth)),\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20'));}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ie(this['device']),this['quadMesh']['setPositio'+'ns']([-(-0x46a+0x1638+-0x11ce+0.5),-(-0x7*0x89+-0x2cd*-0x6+0x1*-0xd0f+0.5),0x12ff*0x2+0x29*-0x65+0x45d*-0x5,0x18a9+-0x2466*0x1+0xbbd+0.5,-(0x76a+-0x20a9*0x1+0x193f+0.5),0x2*-0xc56+0x2253+0x1*-0x9a7,-(-0x21dc*0x1+0x3b*-0xa8+0x1*0x4894+0.5),-0x17bd+-0x1329*-0x1+0x494+0.5,0x184d+0x215a+-0x1*0x39a7,-0x1*-0x4fd+0x276*0x4+0x1*-0xed5+0.5,0x14f*0x2+0x2343+-0x25e1+0.5,-0xb23+-0x2f*0xbd+0x2dd6]),this['quadMesh']['update'](ar)),this['quadMesh'];}['drawMesh'](_0xc96aff,_0x5dd7bd,_0x119fcd,_0x575949,_0x68c91c){if(!_0x575949){const _0x4e5495=this['getGraphNo'+'de'](_0x5dd7bd);_0x575949=new Le(_0x119fcd,_0xc96aff,_0x4e5495);}let _0x30def7=this['layerMeshI'+'nstances']['get'](_0x68c91c);_0x30def7||(_0x30def7=[],this['layerMeshI'+'nstances']['set'](_0x68c91c,_0x30def7)),_0x30def7['push'](_0x575949);}['drawWireAl'+'ignedBox'](_0x236ba0,_0x4e3d7f,_0x3c2ad9,_0x1c117e,_0x5f1956,_0x4db0a2){if(_0x4db0a2){const _0x3cfc83=(_0xe07f57,_0x443973,_0x5c28b6)=>{Ln['set'](_0xe07f57,_0x443973,_0x5c28b6),_0x4db0a2['transformP'+'oint'](Ln,Ln),Jt['push'](Ln['x'],Ln['y'],Ln['z']);};_0x3cfc83(_0x236ba0['x'],_0x236ba0['y'],_0x236ba0['z']),_0x3cfc83(_0x236ba0['x'],_0x4e3d7f['y'],_0x236ba0['z']),_0x3cfc83(_0x236ba0['x'],_0x4e3d7f['y'],_0x236ba0['z']),_0x3cfc83(_0x4e3d7f['x'],_0x4e3d7f['y'],_0x236ba0['z']),_0x3cfc83(_0x4e3d7f['x'],_0x4e3d7f['y'],_0x236ba0['z']),_0x3cfc83(_0x4e3d7f['x'],_0x236ba0['y'],_0x236ba0['z']),_0x3cfc83(_0x4e3d7f['x'],_0x236ba0['y'],_0x236ba0['z']),_0x3cfc83(_0x236ba0['x'],_0x236ba0['y'],_0x236ba0['z']),_0x3cfc83(_0x236ba0['x'],_0x236ba0['y'],_0x4e3d7f['z']),_0x3cfc83(_0x236ba0['x'],_0x4e3d7f['y'],_0x4e3d7f['z']),_0x3cfc83(_0x236ba0['x'],_0x4e3d7f['y'],_0x4e3d7f['z']),_0x3cfc83(_0x4e3d7f['x'],_0x4e3d7f['y'],_0x4e3d7f['z']),_0x3cfc83(_0x4e3d7f['x'],_0x4e3d7f['y'],_0x4e3d7f['z']),_0x3cfc83(_0x4e3d7f['x'],_0x236ba0['y'],_0x4e3d7f['z']),_0x3cfc83(_0x4e3d7f['x'],_0x236ba0['y'],_0x4e3d7f['z']),_0x3cfc83(_0x236ba0['x'],_0x236ba0['y'],_0x4e3d7f['z']),_0x3cfc83(_0x236ba0['x'],_0x236ba0['y'],_0x236ba0['z']),_0x3cfc83(_0x236ba0['x'],_0x236ba0['y'],_0x4e3d7f['z']),_0x3cfc83(_0x236ba0['x'],_0x4e3d7f['y'],_0x236ba0['z']),_0x3cfc83(_0x236ba0['x'],_0x4e3d7f['y'],_0x4e3d7f['z']),_0x3cfc83(_0x4e3d7f['x'],_0x4e3d7f['y'],_0x236ba0['z']),_0x3cfc83(_0x4e3d7f['x'],_0x4e3d7f['y'],_0x4e3d7f['z']),_0x3cfc83(_0x4e3d7f['x'],_0x236ba0['y'],_0x236ba0['z']),_0x3cfc83(_0x4e3d7f['x'],_0x236ba0['y'],_0x4e3d7f['z']);}else Jt['push'](_0x236ba0['x'],_0x236ba0['y'],_0x236ba0['z'],_0x236ba0['x'],_0x4e3d7f['y'],_0x236ba0['z'],_0x236ba0['x'],_0x4e3d7f['y'],_0x236ba0['z'],_0x4e3d7f['x'],_0x4e3d7f['y'],_0x236ba0['z'],_0x4e3d7f['x'],_0x4e3d7f['y'],_0x236ba0['z'],_0x4e3d7f['x'],_0x236ba0['y'],_0x236ba0['z'],_0x4e3d7f['x'],_0x236ba0['y'],_0x236ba0['z'],_0x236ba0['x'],_0x236ba0['y'],_0x236ba0['z'],_0x236ba0['x'],_0x236ba0['y'],_0x4e3d7f['z'],_0x236ba0['x'],_0x4e3d7f['y'],_0x4e3d7f['z'],_0x236ba0['x'],_0x4e3d7f['y'],_0x4e3d7f['z'],_0x4e3d7f['x'],_0x4e3d7f['y'],_0x4e3d7f['z'],_0x4e3d7f['x'],_0x4e3d7f['y'],_0x4e3d7f['z'],_0x4e3d7f['x'],_0x236ba0['y'],_0x4e3d7f['z'],_0x4e3d7f['x'],_0x236ba0['y'],_0x4e3d7f['z'],_0x236ba0['x'],_0x236ba0['y'],_0x4e3d7f['z'],_0x236ba0['x'],_0x236ba0['y'],_0x236ba0['z'],_0x236ba0['x'],_0x236ba0['y'],_0x4e3d7f['z'],_0x236ba0['x'],_0x4e3d7f['y'],_0x236ba0['z'],_0x236ba0['x'],_0x4e3d7f['y'],_0x4e3d7f['z'],_0x4e3d7f['x'],_0x4e3d7f['y'],_0x236ba0['z'],_0x4e3d7f['x'],_0x4e3d7f['y'],_0x4e3d7f['z'],_0x4e3d7f['x'],_0x236ba0['y'],_0x236ba0['z'],_0x4e3d7f['x'],_0x236ba0['y'],_0x4e3d7f['z']);this['getBatch'](_0x5f1956,_0x1c117e)['addLinesAr'+'rays'](Jt,_0x3c2ad9),Jt['length']=-0x3*0xa81+0x4*0x9bd+-0x771;}['drawWireSp'+'here'](_0x50768e,_0x195e55,_0x1dae4b,_0x1f7fd9,_0xef8210,_0x4fdbfd){const _0x498a06=(0x6*0x1f1+-0x1adf+0xf3b)*Math['PI']/_0x1f7fd9;let _0x80e29e=0x5*-0x607+0x525+0x392*0x7;for(let _0x589942=0x1*0x2272+-0x62f+-0x1c43;_0x589942<_0x1f7fd9;_0x589942++){const _0x4cf3c4=Math['sin'](_0x80e29e),_0x5d5f2e=Math['cos'](_0x80e29e);_0x80e29e+=_0x498a06;const _0x23ec19=Math['sin'](_0x80e29e),_0x338509=Math['cos'](_0x80e29e);Jt['push'](_0x50768e['x']+_0x195e55*_0x4cf3c4,_0x50768e['y'],_0x50768e['z']+_0x195e55*_0x5d5f2e),Jt['push'](_0x50768e['x']+_0x195e55*_0x23ec19,_0x50768e['y'],_0x50768e['z']+_0x195e55*_0x338509),Jt['push'](_0x50768e['x']+_0x195e55*_0x4cf3c4,_0x50768e['y']+_0x195e55*_0x5d5f2e,_0x50768e['z']),Jt['push'](_0x50768e['x']+_0x195e55*_0x23ec19,_0x50768e['y']+_0x195e55*_0x338509,_0x50768e['z']),Jt['push'](_0x50768e['x'],_0x50768e['y']+_0x195e55*_0x4cf3c4,_0x50768e['z']+_0x195e55*_0x5d5f2e),Jt['push'](_0x50768e['x'],_0x50768e['y']+_0x195e55*_0x23ec19,_0x50768e['z']+_0x195e55*_0x338509);}this['getBatch'](_0x4fdbfd,_0xef8210)['addLinesAr'+'rays'](Jt,_0x1dae4b),Jt['length']=-0x5*-0x245+0x14e6*0x1+-0x203f;}['getGraphNo'+'de'](_0x285d53){const _0x1513e8=new De('ImmediateD'+'ebug');return _0x1513e8['worldTrans'+'form']=_0x285d53,_0x1513e8['_dirtyWorl'+'d']=_0x1513e8['_dirtyNorm'+'al']=!(-0x567*-0x2+-0x2486+0x19b9),_0x1513e8;}['onPreRende'+'rLayer'](_0x4fbe23,_0x2f9848,_0x4b1c17){if(this['batchesMap']['forEach']((_0x569edf,_0x1187b0)=>{_0x1187b0===_0x4fbe23&&_0x569edf['onPreRende'+'r'](_0x2f9848,_0x4b1c17);}),!this['updatedLay'+'ers']['has'](_0x4fbe23)){this['updatedLay'+'ers']['add'](_0x4fbe23);const _0x1cfc6c=this['layerMeshI'+'nstances']['get'](_0x4fbe23);if(_0x1cfc6c){for(let _0x4cc5c9=-0xf4b+0x1c6e+-0x3b*0x39;_0x4cc5c9<_0x1cfc6c['length'];_0x4cc5c9++)_0x2f9848['push'](_0x1cfc6c[_0x4cc5c9]);_0x1cfc6c['length']=0x4ff*-0x1+0x1*-0xea1+0x13a0;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x1fb9e5=>_0x1fb9e5['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class v1{constructor(){c(this,'type',Fa),c(this,'color',new Y(0x1852+-0x3*-0xbfb+0x3c43*-0x1,0x2197+0x1*0x22e7+-0x447e,-0x10c2+0x4*-0xd7+-0x2*-0xa0f)),c(this,'density',0x2*-0x372+-0xe7+-0x13*-0x69),c(this,'start',-0x219d*-0x1+0x241a+-0x45b6),c(this,'end',-0x693+-0xd*0x22e+0x26d1);}}class ci extends ce{constructor(_0x40aac0){super(),c(this,'ambientBak'+'e',!(-0xe37+0xb50+0x2e8)),c(this,'ambientBak'+'eOcclusion'+'Brightness',0x19*-0x67+-0x1042+0x1a51),c(this,'ambientBak'+'eOcclusion'+'Contrast',-0xeab+0x5*0x52+0x29d*0x5),c(this,'ambientLig'+'ht',new Y(-0xa3+-0x1d66+-0xb*-0x2bb,-0xc21+-0x1*0x1e73+0x2a94,0x404*0x3+-0xb*0x11b+0x1d)),c(this,'ambientLum'+'inance',-0x2*0x77f+0x23c2+-0x14c4),c(this,'exposure',0x9bd+0x3*-0x27a+-0x24e),c(this,'lightmapSi'+'zeMultipli'+'er',0x1d87+-0x32f+-0x1a57),c(this,'lightmapMa'+'xResolutio'+'n',-0x1f25+-0x1571+0x3c96),c(this,'lightmapMo'+'de',ch),c(this,'lightmapFi'+'lterEnable'+'d',!(-0x9d7+0x74f+0x289)),c(this,'lightmapHD'+'R',!(-0x1*-0x18bd+-0x1994+-0x3*-0x48)),c(this,'root',null),c(this,'physicalUn'+'its',!(-0xd*0x1c3+0xf23+0x7c5)),c(this,'_envAtlas',null),c(this,'_skyboxCub'+'eMap',null),c(this,'_fogParams',new v1()),(v['assert'](_0x40aac0,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x40aac0,this['_gravity']=new T(0xdcc*0x1+0x19b9*0x1+-0x43*0x97,-(0x1*0xd1e+-0xe30+0x11b+0.8000000000000007),0x1*-0x3ad+-0x2704+0x2ab1),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=-0x80*-0x41+-0x1*-0x1f4f+-0x3fce,this['_skyboxLum'+'inance']=-0x17ba*0x1+-0xb*-0x142+0x6*0x1a6,this['_skyboxMip']=-0x574+0xfda+-0xa66,this['_skyboxHig'+'hlightMult'+'iplier']=-0x83*-0x17+-0x109*-0xb+-0x1727,this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x4*-0x9b8+-0x1c72+-0xa6d),this['_skyboxRot'+'ation']=new se(),this['_skyboxRot'+'ationMat3']=new js(),this['_skyboxRot'+'ationMat4']=new q(),this['_ambientBa'+'keNumSampl'+'es']=-0x1db1+0x1*-0x25a1+0x4353,this['_ambientBa'+'keSpherePa'+'rt']=-0x1493*-0x1+-0x1a*-0xba+-0x2777+0.4,this['_lightmapF'+'ilterRange']=0x4f8+-0x2173*0x1+0x1c85,this['_lightmapF'+'ilterSmoot'+'hness']=-0x8ec+-0xd5c*0x2+0x1*0x23a4+0.2,this['_clustered'+'LightingEn'+'abled']=!(-0x1f23+-0x54b*0x1+0x246e),this['_lightingP'+'arams']=new L0(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(0x574*0x1+0x3*-0x6ee+0xf56);}),this['_sky']=new _1(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(-0xc23*-0x1+0x140a+-0x202d),this['_shaderVer'+'sion']=0x3d*0xa0+-0xff4*0x2+0x31c*-0x2,this['immediate']=new S1(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](bp);}set['ambientBak'+'eNumSample'+'s'](_0x4705d0){this['_ambientBa'+'keNumSampl'+'es']=N['clamp'](Math['floor'](_0x4705d0),-0x134d+-0x12ed+0x263b,0x2164+-0x30*0x9+-0x1*0x1eb5);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x163f45){this['_ambientBa'+'keSpherePa'+'rt']=N['clamp'](_0x163f45,-0x39e*-0x2+0xc65*0x2+-0x2006+0.001,-0x35*-0x67+0x53*-0x31+-0x56f);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x1f371e){if(this['device']['isWebGPU']&&!_0x1f371e){v['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x1f371e){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x1f371e;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x1f1518){_0x1f1518!==this['_envAtlas']&&(this['_envAtlas']=_0x1f1518,_0x1f1518&&(_0x1f1518['addressU']=ae,_0x1f1518['addressV']=ae,_0x1f1518['minFilter']=st,_0x1f1518['magFilter']=st,_0x1f1518['mipmaps']=!(0x7c*-0x3c+0x122e+0xae3)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x3ca70c){const _0x19ae05=this['_layers'];this['_layers']=_0x3ca70c,this['fire']('set:layers',_0x19ae05,_0x3ca70c);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x1ceeb0){this['_lightmapF'+'ilterRange']=Math['max'](_0x1ceeb0,0x1*0x1ebd+0x2500+0x43bd*-0x1+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x4c54ee){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x4c54ee,-0x1af*-0xf+-0x348+-0xe1*0x19+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x31769a){_0x31769a=_0x31769a||[];const _0x4ce3df=this['_prefilter'+'edCubemaps'];(_0x4ce3df['length']!==_0x31769a['length']||_0x4ce3df['some']((_0x35ac43,_0x27a93e)=>_0x35ac43!==_0x31769a[_0x27a93e]))&&(_0x31769a['length']===-0x1*0x2081+0xc43+0x511*0x4&&_0x31769a['every'](_0x1b35ad=>!!_0x1b35ad)?(this['_internalE'+'nvAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x31769a,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x31769a['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x27ae58){_0x27ae58!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x27ae58,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x25f1f4){_0x25f1f4!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x25f1f4,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x4f1c99){_0x4f1c99!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x4f1c99,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x4903b8){_0x4903b8!==this['_skyboxMip']&&(this['_skyboxMip']=_0x4903b8,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x6a4652){_0x6a4652!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x6a4652,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x3f3752){if(!this['_skyboxRot'+'ation']['equals'](_0x3f3752)){const _0x37d5d3=_0x3f3752['equals'](se['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x3f3752),_0x37d5d3?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](T['ZERO'],_0x3f3752,T['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x37d5d3&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x1f8c+0xac1*-0x3+0x3fcf),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x1dbb5d,_0x368f30,_0x5bcc99=Y['WHITE'],_0x57acfa=!(0x1*-0x210e+-0x566+0x2674),_0x2c2843=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x2c2843,_0x57acfa)['addLines']([_0x1dbb5d,_0x368f30],[_0x5bcc99,_0x5bcc99]);}['drawLines'](_0x24b8c9,_0x227819,_0x37c458=!(0x57c+-0x83*0x27+0xe79),_0xf305ec=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0xf305ec,_0x37c458)['addLines'](_0x24b8c9,_0x227819);}['drawLineAr'+'rays'](_0x563479,_0x25eb03,_0x168974=!(0x11ba+0x1d52+0xbc3*-0x4),_0x477d28=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x477d28,_0x168974)['addLinesAr'+'rays'](_0x563479,_0x25eb03);}['applySetti'+'ngs'](_0x128d88){const _0x5d84df=_0x128d88['physics'],_0x5ab798=_0x128d88['render'];this['_gravity']['set'](_0x5d84df['gravity'][-0xe82*0x1+0x24e9+0x25*-0x9b],_0x5d84df['gravity'][0x6d+0x1*0x17ad+-0x1819],_0x5d84df['gravity'][0x2306+-0xbad+0x19*-0xef]),this['ambientLig'+'ht']['set'](_0x5ab798['global_amb'+'ient'][-0x25e1+0x200b+0x5d6],_0x5ab798['global_amb'+'ient'][-0xea1*0x1+-0x1e4b+0x2ced],_0x5ab798['global_amb'+'ient'][0x2dc+-0x126f+0xf95]),this['ambientLum'+'inance']=_0x5ab798['ambientLum'+'inance'],this['fog']['type']=_0x5ab798['fog'],this['fog']['color']['set'](_0x5ab798['fog_color'][-0x965+0xc8f*-0x2+0x11d*0x1f],_0x5ab798['fog_color'][0x1934+0xd*0xf9+-0x25d8],_0x5ab798['fog_color'][0x1995+-0x38*0x4c+-0x8f3*0x1]),this['fog']['start']=_0x5ab798['fog_start'],this['fog']['end']=_0x5ab798['fog_end'],this['fog']['density']=_0x5ab798['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x5ab798['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x5ab798['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x5ab798['lightmapMo'+'de'],this['exposure']=_0x5ab798['exposure'],this['_skyboxInt'+'ensity']=_0x5ab798['skyboxInte'+'nsity']??-0x1*-0x31b+-0xa5a+-0x1d0*-0x4,this['_skyboxLum'+'inance']=_0x5ab798['skyboxLumi'+'nance']??-0x71*0x158+0x31a8+0xb45*0x10,this['_skyboxMip']=_0x5ab798['skyboxMip']??0x1*0x2425+0x287*0x2+-0x35*0xc7,_0x5ab798['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new se()['setFromEul'+'erAngles'](_0x5ab798['skyboxRota'+'tion'][-0x1544+-0x2638+0xc*0x4f5],_0x5ab798['skyboxRota'+'tion'][-0x1*0x1f9f+-0x11bd*0x1+0x315d],_0x5ab798['skyboxRota'+'tion'][-0x1*0x1a06+-0x19d3+-0x3b*-0xe1])),this['sky']['applySetti'+'ngs'](_0x5ab798),this['clusteredL'+'ightingEna'+'bled']=_0x5ab798['clusteredL'+'ightingEna'+'bled']??!(-0x2504+-0x1*-0xdd2+0x1733),this['lighting']['applySetti'+'ngs'](_0x5ab798),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x260a5d=>{_0x5ab798['hasOwnProp'+'erty'](_0x260a5d)&&(this[_0x260a5d]=_0x5ab798[_0x260a5d]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x2e665d=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x2e665d[[0x1c7d+0x737*-0x2+-0x3d*0x3b,0x1c1*-0xd+0x1*0x1e5d+0x78f*-0x1,-0x15da*0x1+0x1d3e+-0x761,0x198a+-0x1aa6+0x120,-0x1326*0x1+-0x9e*0x6+0x16df,0x1612+0x1*-0x67f+-0xf8d][this['_skyboxMip']]]||this['_envAtlas']||_0x2e665d[0x2*-0x1349+0x21ca+0x4c8]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x2e665d[-0xb*0x371+-0x151e+-0x1*-0x3af9]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(0x2a2*-0x7+-0x219f+-0x19*-0x215);}['setSkybox'](_0x52b4d7){_0x52b4d7?(this['skybox']=_0x52b4d7[0xbfc*-0x1+0x17a7+-0xbab]||null,_0x52b4d7[-0x4e5*0x7+-0x1a81+0x3cc5]&&!_0x52b4d7[-0x5bb*-0x1+0xfe+-0x6b8]['cubemap']?this['envAtlas']=_0x52b4d7[0xdc6*-0x2+-0x32*-0x1+-0x2f*-0x95]:this['prefiltere'+'dCubemaps']=_0x52b4d7['slice'](0x1314+-0x2*-0x8a9+-0x533*0x7)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Se;}}c(ci,'EVENT_SETL'+'AYERS','set:layers'),c(ci,'EVENT_SETS'+'KYBOX','set:skybox'),c(ci,'EVENT_PRER'+'ENDER','prerender'),c(ci,'EVENT_POST'+'RENDER','postrender'),c(ci,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),c(ci,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),c(ci,'EVENT_PREC'+'ULL','precull'),c(ci,'EVENT_POST'+'CULL','postcull');class N0{constructor(_0x282181,_0x36d2ad,_0x49e649){this['device']=_0x282181,this['inverseBin'+'dPose']=_0x36d2ad,this['boneNames']=_0x49e649;}}const b1=[-0x9*-0x23+0x1*-0xddb+0x4*0x328,-0x4a*-0x2e+0xd03+-0x1a4f,-0x1*0x2591+0x2c3*0x8+-0xf7a*-0x1,0x6*-0x235+0x407+0x937,-0x22*0x8c+0xb71*-0x1+-0x3*-0xa03,-0xbbd+0x1*0x83b+0x1d*0x1f,0x45a*0x1+0x2046+-0x494*0x8,-0x8f3*0x2+-0x1*0x1ac9+0x2caf,-0x16e9+-0x26d4+0x3dbe,0x1*-0x47b+0x1*0x2a1+0x1da,-0x74b+-0x185b+-0xfd3*-0x2,0x1e99+-0xa23+-0x1475],w1=[-0x2134+-0x2041*0x1+-0x4175*-0x1,0x205e+-0x47*0x39+-0x108e*0x1,-0x2331+-0xa9d+0x2dd1,-0xe3f+-0x3*-0x78a+-0x1*0x85d,0x898+-0x1c11+-0x2*-0x9be,-0x428+-0x1*0x867+0xc90];class T1 extends ce{constructor(_0x14ae56,_0x19fea2){super(),this['_device']=_0x14ae56,this['_pixelsPer'+'Unit']=_0x19fea2&&_0x19fea2['pixelsPerU'+'nit']!==void(0x1cbd*0x1+0xa56+-0x2713)?_0x19fea2['pixelsPerU'+'nit']:0x1fb7+-0x10a5*0x1+0x1d*-0x85,this['_renderMod'+'e']=_0x19fea2&&_0x19fea2['renderMode']!==void(0xe8c+0x25c0+-0x344c)?_0x19fea2['renderMode']:Ti,this['_atlas']=_0x19fea2&&_0x19fea2['atlas']!==void(0x3bc*-0x4+-0x4d*-0x62+0x745*-0x2)?_0x19fea2['atlas']:null,this['_frameKeys']=_0x19fea2&&_0x19fea2['frameKeys']!==void(0x3d3*0x4+-0x7*-0x54b+-0x3459)?_0x19fea2['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(-0x1258+0x263+0xff6),this['_meshesDir'+'ty']=!(0x14b3+-0x9d0*-0x3+0x1911*-0x2),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x4a6d8f){this['_frameKeys']=_0x4a6d8f,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1d*-0x115+-0x18c+-0x1dd5):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x4a6d8f);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0xc0a2ed){_0xc0a2ed!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0xc0a2ed,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x7ab*-0x1+-0x1d66+0x2511):this['_createMes'+'hes']()),this['fire']('set:atlas',_0xc0a2ed));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x30102c){this['_pixelsPer'+'Unit']!==_0x30102c&&(this['_pixelsPer'+'Unit']=_0x30102c,this['fire']('set:pixels'+'PerUnit',_0x30102c),this['_atlas']&&this['_frameKeys']&&this['renderMode']===Ti&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x1c9b+-0x25*-0x7f+-0x2*0x177b):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x45fdc4){if(this['_renderMod'+'e']===_0x45fdc4)return;const _0x9af432=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x45fdc4,this['fire']('set:render'+'Mode',_0x45fdc4),(_0x9af432===Ti||_0x45fdc4===Ti)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x75*-0x4d+0x3*-0x97c+0x3fa5):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x2eeea0=this['_meshes']['length'];for(let _0x426d76=0x214f+0x6*-0x59a+-0x1*-0x4d;_0x426d76<_0x2eeea0;_0x426d76++){const _0x338f3b=this['_meshes'][_0x426d76];_0x338f3b&&_0x338f3b['destroy']();}const _0x2539f1=this['_frameKeys']['length'];this['_meshes']=new Array(_0x2539f1);const _0x40ce3c=this['renderMode']===nt||this['_renderMod'+'e']===Qe?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x4f6878=0xef9*0x1+0x24b8+-0x4b3*0xb;_0x4f6878<_0x2539f1;_0x4f6878++){const _0x24624e=this['_atlas']['frames'][this['_frameKeys'][_0x4f6878]];this['_meshes'][_0x4f6878]=_0x24624e?_0x40ce3c['call'](this,_0x24624e):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x54fadb){const _0x14ed6c=_0x54fadb['rect'],_0x48d6ad=this['_atlas']['texture']['width'],_0x3fcd2d=this['_atlas']['texture']['height'],_0x28d6ec=_0x14ed6c['z']/this['_pixelsPer'+'Unit'],_0x3db479=_0x14ed6c['w']/this['_pixelsPer'+'Unit'],_0x158574=_0x54fadb['pivot']['x'],_0x184da9=_0x54fadb['pivot']['y'],_0x2dab7f=[-_0x158574*_0x28d6ec,-_0x184da9*_0x3db479,0x440*0x2+-0x1*-0x685+-0x5*0x301,(0x2663+0xa*0x3db+-0x133c*0x4-_0x158574)*_0x28d6ec,-_0x184da9*_0x3db479,-0x8+0x35*0x83+-0x1b17,(0x241c*-0x1+0x6*0x23e+-0x1*-0x16a9-_0x158574)*_0x28d6ec,(0x5*-0xbf+-0xc1b*-0x3+0x1b7*-0x13-_0x184da9)*_0x3db479,0xe5*0x1+-0xf9c+0xeb7,-_0x158574*_0x28d6ec,(0x135*0x13+-0x182b+0x13d-_0x184da9)*_0x3db479,-0xc1d*-0x1+0x142+-0xd5f],_0x27c5e5=_0x14ed6c['x']/_0x48d6ad,_0x283470=-0x3*-0x9d+-0x1fa*0x6+0xa06-_0x14ed6c['y']/_0x3fcd2d,_0x2016fe=(_0x14ed6c['x']+_0x14ed6c['z'])/_0x48d6ad,_0x118a8e=-0x25fd+0x28c+0xd*0x2ba-(_0x14ed6c['y']+_0x14ed6c['w'])/_0x3fcd2d,_0x2e853b=[_0x27c5e5,_0x283470,_0x2016fe,_0x283470,_0x2016fe,_0x118a8e,_0x27c5e5,_0x118a8e],_0x2c409d=new pn();return _0x2c409d['positions']=_0x2dab7f,_0x2c409d['normals']=b1,_0x2c409d['uvs']=_0x2e853b,_0x2c409d['indices']=w1,Ie['fromGeomet'+'ry'](this['_device'],_0x2c409d);}['_create9Sl'+'iceMesh'](){const _0x35e32e=W['ONE'],_0x90fcd1=-0x1*-0x1511+-0xb63*-0x1+-0x2071,_0x1c3b1f=0x193e+0x581*-0x1+0x3f2*-0x5,_0x48d2bc=[],_0x44e0a9=[],_0x5e1e3e=[],_0x554ca0=[];let _0x345381=0x1912+-0x15b+-0x17b7;for(let _0x1dcfcf=-0x2*0xb82+-0xa0c*0x2+0x164*0x1f;_0x1dcfcf<=_0x90fcd1;_0x1dcfcf++){const _0x2fa920=_0x1dcfcf===0xb50+0x2062+-0x2bb2||_0x1dcfcf===_0x90fcd1?-0x215c+-0xbf*0x13+0x1*0x2f89:0xa9a*-0x1+-0x1e96+0x2931;for(let _0x247fed=0x2*0x108b+-0x2005*0x1+0x27*-0x7;_0x247fed<=_0x1c3b1f;_0x247fed++){const _0x5109d4=-_0x35e32e['x']+(0xe*0x11e+-0x80*0x19+-0x1*0x322)*_0x35e32e['x']*(_0x1dcfcf<=-0x1eb3+-0x11d*-0x16+0x636?-0x19d8+-0x4bc+0x1e94:0x1d*-0xbc+-0xfd4+0xc61*0x3)/_0x90fcd1,_0x449907=-0x1ee8*0x1+-0x128*-0x18+-0xca*-0x4,_0x1f5432=-(-_0x35e32e['y']+(-0x2*0xc+-0x67*0x3b+0x11*0x167)*_0x35e32e['y']*(_0x247fed<=0x1b4c+-0x41e*-0x3+-0x27a5?-0x114*-0x2+0x105a+0x2e*-0x67:0x25cf+0x11*0x1c1+-0x439d*0x1)/_0x1c3b1f),_0x388622=_0x247fed===-0x14f+0x605*0x1+-0x4b6||_0x247fed===_0x1c3b1f?-0x5*0x2bd+0x33*-0x29+0x15dc:-0x161*-0x1+-0xf9e+0xe3e*0x1;_0x48d2bc['push'](-_0x5109d4,_0x449907,_0x1f5432),_0x44e0a9['push'](-0x1f25+-0x151*0x7+0xc*0x35d,0x11*0x221+0x2555+-0x4985,0x1f*-0x35+-0x28*-0x18+0x2ab),_0x5e1e3e['push'](_0x2fa920,_0x388622),_0x1dcfcf<_0x90fcd1&&_0x247fed<_0x1c3b1f&&(_0x554ca0['push'](_0x345381+_0x1c3b1f+(0xf6*-0x8+-0x158a+-0x1d3b*-0x1),_0x345381+(0xa2b+-0x7c1+-0x269),_0x345381),_0x554ca0['push'](_0x345381+_0x1c3b1f+(-0x4de+0x2351+-0x1e72),_0x345381+_0x1c3b1f+(-0xa8d+0x956+-0x1*-0x139),_0x345381+(-0x2*-0x3a4+-0x3*-0x5e7+-0x18fc))),_0x345381++;}}const _0x114bb3=new pn();return _0x114bb3['positions']=_0x48d2bc,_0x114bb3['normals']=_0x44e0a9,_0x114bb3['uvs']=_0x5e1e3e,_0x114bb3['indices']=_0x554ca0,Ie['fromGeomet'+'ry'](this['_device'],_0x114bb3);}['_onSetFram'+'es'](_0x1cf23c){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x12e*0x1a+-0xb*-0x24b+0x3*0x1d1):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0xa700e6,_0x29691e){const _0x24fde5=this['_frameKeys']['indexOf'](_0xa700e6);_0x24fde5<-0xcb9*-0x2+0x2*-0x3be+-0x11f6||(_0x29691e?this['renderMode']===Ti&&(this['_meshes'][_0x24fde5]=this['_createSim'+'pleMesh'](_0x29691e)):this['_meshes'][_0x24fde5]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x2328f8){const _0x1abc58=this['_frameKeys']['indexOf'](_0x2328f8);_0x1abc58<-0x1e76+-0x1aae+-0x45*-0xd4||(this['_meshes'][_0x1abc58]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(0x1e7+0xd03+-0xeea),this['_meshesDir'+'ty']=!(0x13f1+0x8a9+-0x1*0x1c99);}['endUpdate'](){this['_updatingP'+'roperties']=!(-0x1105+-0x1dec+-0x1779*-0x2),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(-0x1a46+-0xc64+0x26ab);}['destroy'](){for(const _0x43621b of this['_meshes'])_0x43621b&&_0x43621b['destroy']();this['_meshes']['length']=-0x128f+0x8*-0x1a4+0x1faf;}}class A1 extends ce{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x3420ec){this['_texture']=_0x3420ec,this['fire']('set:textur'+'e',_0x3420ec);}get['texture'](){return this['_texture'];}set['frames'](_0x413f7a){this['_frames']=_0x413f7a,this['fire']('set:frames',_0x413f7a);}get['frames'](){return this['_frames'];}['setFrame'](_0x45bc5e,_0x42a3f5){let _0x18eee9=this['_frames'][_0x45bc5e];_0x18eee9?(_0x18eee9['rect']['copy'](_0x42a3f5['rect']),_0x18eee9['pivot']['copy'](_0x42a3f5['pivot']),_0x18eee9['border']['copy'](_0x42a3f5['border'])):(_0x18eee9={'rect':_0x42a3f5['rect']['clone'](),'pivot':_0x42a3f5['pivot']['clone'](),'border':_0x42a3f5['border']['clone']()},this['_frames'][_0x45bc5e]=_0x18eee9),this['fire']('set:frame',_0x45bc5e['toString'](),_0x18eee9);}['removeFram'+'e'](_0x176333){const _0x24b6ea=this['_frames'][_0x176333];_0x24b6ea&&(delete this['_frames'][_0x176333],this['fire']('remove:fra'+'me',_0x176333['toString'](),_0x24b6ea));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class F_{constructor(_0x2d669a,_0x4ebf1a,_0x27a131,_0x1cad49){this['time']=_0x2d669a,this['position']=_0x4ebf1a,this['rotation']=_0x27a131,this['scale']=_0x1cad49;}}class O_{constructor(){this['_name']='',this['_keys']=[];}}class k_{constructor(){c(this,'name',''),c(this,'duration',-0x1*0x17f5+0x8e3+0xf12),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x100567){return this['_nodeDict'][_0x100567];}['addNode'](_0x1279f7){this['_nodes']['push'](_0x1279f7),this['_nodeDict'][_0x1279f7['_name']]=_0x1279f7;}get['nodes'](){return this['_nodes'];}}class E1{constructor(){this['_written']=!(0x394*-0x1+0x9*0x356+-0x1a71),this['_name']='',this['_keyFrames']=[],this['_quat']=new se(),this['_pos']=new T(),this['_scale']=new T(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x1629b0){this['_targetNod'+'e']=_0x1629b0;}}class Wd{constructor(_0x3c513c){c(this,'looping',!(0x1*0xfc2+-0x6be*0x3+0x478)),(this['_animation']=null,this['_time']=-0x2445+0x1072+0x13d3,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x384958=_0x4cd83a=>{const _0x176a9a=new E1();_0x176a9a['_name']=_0x4cd83a['name'],this['_interpola'+'tedKeys']['push'](_0x176a9a),this['_interpola'+'tedKeyDict'][_0x4cd83a['name']]=_0x176a9a,this['_currKeyIn'+'dices'][_0x4cd83a['name']]=0x14e6+0x848+-0x2d*0xa6;for(let _0xa46394=0x101+-0x743+-0x59*-0x12;_0xa46394<_0x4cd83a['_children']['length'];_0xa46394++)_0x384958(_0x4cd83a['_children'][_0xa46394]);};_0x384958(_0x3c513c);}set['animation'](_0x1c5332){this['_animation']=_0x1c5332,this['currentTim'+'e']=-0x213b+-0x1162+-0x1*-0x329d;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0xe10099){this['_time']=_0xe10099;const _0x28bf7c=this['_interpola'+'tedKeys']['length'];for(let _0x1bf8cd=-0x283+0x2*-0xc2a+-0x1*-0x1ad7;_0x1bf8cd<_0x28bf7c;_0x1bf8cd++){const _0x43597f=this['_interpola'+'tedKeys'][_0x1bf8cd]['_name'];this['_currKeyIn'+'dices'][_0x43597f]=0x4f6*0x2+0x1*-0x94f+0x9d*-0x1;}this['addTime'](0x2599+-0x22d6+-0x2c3),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x2f60fa){if(this['_animation']!==null){const _0x3b87c8=this['_animation']['_nodes'],_0xefe1c7=this['_animation']['duration'];if(this['_time']===_0xefe1c7&&!this['looping'])return;if(this['_time']+=_0x2f60fa,this['_time']>_0xefe1c7){this['_time']=this['looping']?-0xfea+-0x1b92+0x2b7c:_0xefe1c7;for(let _0x448062=0xd4*-0x22+0x134f+0x8d9;_0x448062<_0x3b87c8['length'];_0x448062++){const _0x59a61b=_0x3b87c8[_0x448062]['_name'];this['_currKeyIn'+'dices'][_0x59a61b]=-0xa9b+0x1d4f+0x54*-0x39;}}else{if(this['_time']<-0x1*-0x12cb+-0x941+-0x6f*0x16){this['_time']=this['looping']?_0xefe1c7:0x39*-0x76+0x865*-0x1+-0x6ef*-0x5;for(let _0x1e7236=0x17da+0x1*-0x1a23+0x249;_0x1e7236<_0x3b87c8['length'];_0x1e7236++){const _0x490634=_0x3b87c8[_0x1e7236],_0x329515=_0x490634['_name'];this['_currKeyIn'+'dices'][_0x329515]=_0x490634['_keys']['length']-(0xd08+-0x12*0x11+-0xbd4);}}}const _0x3bf8a0=_0x2f60fa>=0x1843*-0x1+-0x21ca+-0x84b*-0x7?-0x1*-0x58f+-0xa1+-0x4ed:-(0x17*0x159+0x96a+-0x6bc*0x6);for(let _0x1539a6=-0x1*-0x1c57+0x2*-0x63+-0x1b91;_0x1539a6<_0x3b87c8['length'];_0x1539a6++){const _0x5dc8e9=_0x3b87c8[_0x1539a6],_0x58ce61=_0x5dc8e9['_name'],_0x311cfe=_0x5dc8e9['_keys'],_0x2f8a73=this['_interpola'+'tedKeyDict'][_0x58ce61];if(_0x2f8a73===void(0x1c4e+0x111f*-0x1+-0xb2f)){v['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x58ce61);continue;}let _0x264452=!(-0x29*0xbb+0x2*-0xbc1+-0x1*-0x3576);if(_0x311cfe['length']!==0x18e2+0x16b*0x1+-0x1a4c)for(let _0x359de9=this['_currKeyIn'+'dices'][_0x58ce61];_0x359de9<_0x311cfe['length']-(0x4*0x972+0x72e+-0x11*0x2a5)&&_0x359de9>=-0xa9*0x3a+0x51*-0x5+0x27df;_0x359de9+=_0x3bf8a0){const _0x13f524=_0x311cfe[_0x359de9],_0x462921=_0x311cfe[_0x359de9+(-0xcca+0x73*0x31+-0x938*0x1)];if(_0x13f524['time']<=this['_time']&&_0x462921['time']>=this['_time']){const _0x138d81=(this['_time']-_0x13f524['time'])/(_0x462921['time']-_0x13f524['time']);_0x2f8a73['_pos']['lerp'](_0x13f524['position'],_0x462921['position'],_0x138d81),_0x2f8a73['_quat']['slerp'](_0x13f524['rotation'],_0x462921['rotation'],_0x138d81),_0x2f8a73['_scale']['lerp'](_0x13f524['scale'],_0x462921['scale'],_0x138d81),_0x2f8a73['_written']=!(-0x1f5+-0x50b*-0x3+0x6*-0x232),this['_currKeyIn'+'dices'][_0x58ce61]=_0x359de9,_0x264452=!(0x3*-0x6d7+0x1bed+-0x768);break;}}(_0x311cfe['length']===-0x1562+0x17fd+-0x29a||!_0x264452&&this['_time']===-0x1166+-0x47e+0x15e4&&this['looping'])&&(_0x2f8a73['_pos']['copy'](_0x311cfe[-0xfd7*0x2+-0x2ba*0x8+0x357e]['position']),_0x2f8a73['_quat']['copy'](_0x311cfe[-0x1282+0x13*-0x52+0x1898]['rotation']),_0x2f8a73['_scale']['copy'](_0x311cfe[-0xf2c*0x2+0x3*0x5e5+-0x1*-0xca9]['scale']),_0x2f8a73['_written']=!(0x14d1+-0x1*-0x26dd+-0x1dd7*0x2));}}}['blend'](_0x21aaae,_0x457399,_0x192caa){const _0x129e26=this['_interpola'+'tedKeys']['length'];for(let _0x44a791=0x52*0x20+-0x2*0x1039+0x1632;_0x44a791<_0x129e26;_0x44a791++){const _0x3470a1=_0x21aaae['_interpola'+'tedKeys'][_0x44a791],_0x10041d=_0x457399['_interpola'+'tedKeys'][_0x44a791],_0x2dd077=this['_interpola'+'tedKeys'][_0x44a791];_0x3470a1['_written']&&_0x10041d['_written']?(_0x2dd077['_quat']['slerp'](_0x3470a1['_quat'],_0x457399['_interpola'+'tedKeys'][_0x44a791]['_quat'],_0x192caa),_0x2dd077['_pos']['lerp'](_0x3470a1['_pos'],_0x457399['_interpola'+'tedKeys'][_0x44a791]['_pos'],_0x192caa),_0x2dd077['_scale']['lerp'](_0x3470a1['_scale'],_0x10041d['_scale'],_0x192caa),_0x2dd077['_written']=!(-0x16b1*0x1+0x92e*0x1+0xd83)):_0x3470a1['_written']?(_0x2dd077['_quat']['copy'](_0x3470a1['_quat']),_0x2dd077['_pos']['copy'](_0x3470a1['_pos']),_0x2dd077['_scale']['copy'](_0x3470a1['_scale']),_0x2dd077['_written']=!(-0x438+-0x12d9+-0x5*-0x49d)):_0x10041d['_written']&&(_0x2dd077['_quat']['copy'](_0x10041d['_quat']),_0x2dd077['_pos']['copy'](_0x10041d['_pos']),_0x2dd077['_scale']['copy'](_0x10041d['_scale']),_0x2dd077['_written']=!(0x256f+0xa*-0x295+-0xb9d));}}['setGraph'](_0x3885b1){if(this['graph']=_0x3885b1,_0x3885b1)for(let _0x53efa4=-0x1b37+0x1*-0xec5+0x14fe*0x2;_0x53efa4<this['_interpola'+'tedKeys']['length'];_0x53efa4++){const _0x2a7c5b=this['_interpola'+'tedKeys'][_0x53efa4],_0x5c6023=_0x3885b1['findByName'](_0x2a7c5b['_name']);this['_interpola'+'tedKeys'][_0x53efa4]['setTarget'](_0x5c6023);}else{for(let _0xf43b7a=0x7c6*-0x5+0x1*-0x148d+0x3b6b;_0xf43b7a<this['_interpola'+'tedKeys']['length'];_0xf43b7a++)this['_interpola'+'tedKeys'][_0xf43b7a]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x1bf787=-0x2*0x7f+-0x1*-0x1831+-0x1733;_0x1bf787<this['_interpola'+'tedKeys']['length'];_0x1bf787++){const _0x2097b8=this['_interpola'+'tedKeys'][_0x1bf787];if(_0x2097b8['_written']){const _0x5641bf=_0x2097b8['getTarget']();_0x5641bf['localPosit'+'ion']['copy'](_0x2097b8['_pos']),_0x5641bf['localRotat'+'ion']['copy'](_0x2097b8['_quat']),_0x5641bf['localScale']['copy'](_0x2097b8['_scale']),_0x5641bf['_dirtyLoca'+'l']||_0x5641bf['_dirtifyLo'+'cal'](),_0x2097b8['_written']=!(-0x1*-0x544+-0x241d+-0xb*-0x2ce);}}}}const ys=(-0x22ad+-0x18*-0x126+0x721)/(0x7d7+-0x1eb3+0x171c),Bs=0x26bd+-0x4*-0x145+-0x2bd0-ys*(-0x778+-0x3f5+0xb6f);class Bp extends pn{constructor(_0x44e0d2,_0x5699e5,_0x5f4d08,_0x3a39f1,_0x987a61,_0x267f68){super();const _0x55208f=new T(),_0x43deb0=new T(),_0x26c6db=new T(),_0x2421d3=new T(),_0x3d5a00=new T(),_0x24733c=new T(),_0x4d04b=[],_0x253ad3=[],_0x54865e=[],_0x18f65e=[],_0x3cbbb3=[];let _0x4cdce;if(_0x5f4d08>0x3e6*-0x8+0xc*-0x313+0x4414){for(let _0xf8f109=-0x16fe+0x1b14+-0x416;_0xf8f109<=_0x3a39f1;_0xf8f109++)for(let _0x4ee87a=-0x2120+0x26+0x20fa;_0x4ee87a<=_0x987a61;_0x4ee87a++){const _0x1f27ed=_0x4ee87a/_0x987a61*(-0x13*-0x130+-0x159c+0x2*-0x79)*Math['PI']-Math['PI'],_0x15eed6=Math['sin'](_0x1f27ed),_0x310bc0=Math['cos'](_0x1f27ed);_0x3d5a00['set'](_0x15eed6*_0x44e0d2,-_0x5f4d08/(-0x1*0x1952+0x1dfa+0x253*-0x2),_0x310bc0*_0x44e0d2),_0x2421d3['set'](_0x15eed6*_0x5699e5,_0x5f4d08/(-0xf0a+-0x1afd+-0x3*-0xe03),_0x310bc0*_0x5699e5),_0x55208f['lerp'](_0x3d5a00,_0x2421d3,_0xf8f109/_0x3a39f1),_0x43deb0['sub2'](_0x2421d3,_0x3d5a00)['normalize'](),_0x24733c['set'](_0x310bc0,0x23a8+0x87*0xe+0x626*-0x7,-_0x15eed6),_0x26c6db['cross'](_0x24733c,_0x43deb0)['normalize'](),_0x4d04b['push'](_0x55208f['x'],_0x55208f['y'],_0x55208f['z']),_0x253ad3['push'](_0x26c6db['x'],_0x26c6db['y'],_0x26c6db['z']);let _0x11a34d=_0x4ee87a/_0x987a61,_0x4ddd94=_0xf8f109/_0x3a39f1;_0x54865e['push'](_0x11a34d,0x37*0x6f+0x3d*0x65+-0x2fe9-_0x4ddd94);const _0x1acbfc=_0x4ddd94;if(_0x4ddd94=_0x11a34d,_0x11a34d=_0x1acbfc,_0x11a34d=_0x11a34d*Bs+ys,_0x4ddd94=_0x4ddd94*Bs+ys,_0x11a34d/=-0x1b*0x165+-0x5*-0x3f5+0x11e1,_0x18f65e['push'](_0x11a34d,-0x22f7+0x115c+0x5c*0x31-_0x4ddd94),_0xf8f109<_0x3a39f1&&_0x4ee87a<_0x987a61){const _0x48fb97=_0xf8f109*(_0x987a61+(0x6c+0x93+0x7f*-0x2))+_0x4ee87a,_0x34f9e5=_0xf8f109*(_0x987a61+(-0x35c+0x16d4+-0x1377))+(_0x4ee87a+(0x1330+-0xe*-0x5f+0x1861*-0x1)),_0x22f646=(_0xf8f109+(-0x1762+0xfa9+0x3dd*0x2))*(_0x987a61+(0x198f+-0x5*0x775+0xbbb))+_0x4ee87a,_0x4aa08e=(_0xf8f109+(-0x2034+0x95*0x25+0xaac))*(_0x987a61+(0x6*0x18a+0x1305+-0x1c40))+(_0x4ee87a+(-0x36d*0x1+0x7c9*0x1+-0x45b));_0x3cbbb3['push'](_0x48fb97,_0x34f9e5,_0x22f646),_0x3cbbb3['push'](_0x34f9e5,_0x4aa08e,_0x22f646);}}}if(_0x267f68){const _0x141ede=Math['floor'](_0x987a61/(0x9ec+-0x7*0x50+-0x1*0x7ba)),_0x402771=_0x987a61,_0x3dc49a=_0x5f4d08/(-0x1e0+-0x25a9+0x278b);for(let _0x2ee53e=-0x12bf*0x1+-0x2633+0x38f2;_0x2ee53e<=_0x141ede;_0x2ee53e++){const _0x3d9abe=_0x2ee53e*Math['PI']*(-0x23f1+0x1*0x1745+-0x32b*-0x4+0.5)/_0x141ede,_0x17d5c3=Math['sin'](_0x3d9abe),_0x55c3e6=Math['cos'](_0x3d9abe);for(let _0x5907b4=0xfec*0x1+-0x3*-0x215+0x19*-0xe3;_0x5907b4<=_0x402771;_0x5907b4++){const _0x16a167=_0x5907b4*(-0x58a+-0x2098+-0x2624*-0x1)*Math['PI']/_0x402771-Math['PI']/(-0x1fcb+0xd*0x17e+0xc67),_0x3936e0=Math['sin'](_0x16a167),_0x2e5ec1=Math['cos'](_0x16a167)*_0x17d5c3,_0x2c7cac=_0x55c3e6,_0x8b1c4d=_0x3936e0*_0x17d5c3;let _0x233455=-0x1bc7+0x1*-0x217d+-0x3d45*-0x1-_0x5907b4/_0x402771,_0x30329d=-0xffb*0x2+-0x2*-0xc2d+0x79d-_0x2ee53e/_0x141ede;_0x4d04b['push'](_0x2e5ec1*_0x5699e5,_0x2c7cac*_0x5699e5+_0x3dc49a,_0x8b1c4d*_0x5699e5),_0x253ad3['push'](_0x2e5ec1,_0x2c7cac,_0x8b1c4d),_0x54865e['push'](_0x233455,-0x1b27+0x1e7b+-0x353*0x1-_0x30329d),_0x233455=_0x233455*Bs+ys,_0x30329d=_0x30329d*Bs+ys,_0x233455/=0x6f4+-0xd7*0x23+0xc*0x1df,_0x30329d/=-0x2591+0x2ab*-0x3+0x2d95,_0x233455+=(-0xa3f*-0x1+-0x5*0x77d+0x1b33)/(0x94d*-0x1+0x1ce0+0x4*-0x4e4),_0x18f65e['push'](_0x233455,0xa*0x8b+0x3ec+-0x959-_0x30329d);}}_0x4cdce=(_0x3a39f1+(0x1a31+-0x532+-0x14fe))*(_0x987a61+(-0xcc9+0x2d*-0xd7+-0x17*-0x233));for(let _0x3c691e=0x1*-0x218a+0x1895+0x8f5;_0x3c691e<_0x141ede;++_0x3c691e)for(let _0x4dd458=0x1bae+0x107+0x1*-0x1cb5;_0x4dd458<_0x402771;++_0x4dd458){const _0x25887d=_0x3c691e*(_0x402771+(-0xa22*-0x1+0x1b43+-0x2564))+_0x4dd458,_0x594811=_0x25887d+_0x402771+(0x7*-0x4be+0xf92+-0x1*-0x11a1);_0x3cbbb3['push'](_0x4cdce+_0x25887d+(0x1293*0x1+-0x12a4*0x1+-0x1*-0x12),_0x4cdce+_0x594811,_0x4cdce+_0x25887d),_0x3cbbb3['push'](_0x4cdce+_0x25887d+(0x19ef*0x1+0x52e+-0x1f1c),_0x4cdce+_0x594811+(0x266a+0x9df*-0x1+-0x2*0xe45),_0x4cdce+_0x594811);}for(let _0x44229e=0x206e+0x4e*-0x4d+-0x8f8;_0x44229e<=_0x141ede;_0x44229e++){const _0x12776a=Math['PI']*(0x2ad+0x10d4+0x1*-0x1381+0.5)+_0x44229e*Math['PI']*(0x343*-0x6+-0x132a+0x26bc+0.5)/_0x141ede,_0x548bbf=Math['sin'](_0x12776a),_0x454620=Math['cos'](_0x12776a);for(let _0x5716a8=0x1*0x1b2d+-0x233a+-0x3*-0x2af;_0x5716a8<=_0x402771;_0x5716a8++){const _0xf7addc=_0x5716a8*(0x1bdc+0x3*0x12e+0xa4*-0x31)*Math['PI']/_0x402771-Math['PI']/(-0x59*-0x59+0x7b9+0x26a8*-0x1),_0x27d8ad=Math['sin'](_0xf7addc),_0x598d0a=Math['cos'](_0xf7addc)*_0x548bbf,_0x21e9c6=_0x454620,_0x39df45=_0x27d8ad*_0x548bbf;let _0x564c76=-0x1fba+-0xf40+0x2efb*0x1-_0x5716a8/_0x402771,_0x354866=0xe09+-0xf81+0xd*0x1d-_0x44229e/_0x141ede;_0x4d04b['push'](_0x598d0a*_0x5699e5,_0x21e9c6*_0x5699e5-_0x3dc49a,_0x39df45*_0x5699e5),_0x253ad3['push'](_0x598d0a,_0x21e9c6,_0x39df45),_0x54865e['push'](_0x564c76,0x23bd+-0x11b*-0x4+0x2828*-0x1-_0x354866),_0x564c76=_0x564c76*Bs+ys,_0x354866=_0x354866*Bs+ys,_0x564c76/=0x200a+-0x74f+0x62e*-0x4,_0x354866/=0x22d*-0x7+0x5*-0x446+0x249c,_0x564c76+=(0x5*-0x1eb+-0x59*-0x17+0xcd*0x2)/(-0x2273*0x1+-0x779+0x29ef),_0x18f65e['push'](_0x564c76,-0x747+0x1e4d*0x1+-0x1705*0x1-_0x354866);}}_0x4cdce=(_0x3a39f1+(-0xa6*-0x28+0x1ccf+0x1b5f*-0x2))*(_0x987a61+(0x31*-0x83+0xd66+0x5d7*0x2))+(_0x402771+(-0x113b+0x16b5+-0x579))*(_0x141ede+(0x6dc*-0x4+-0x1090+0x2c01));for(let _0x2ee184=0x2654+-0x13d*0x14+0xd90*-0x1;_0x2ee184<_0x141ede;++_0x2ee184)for(let _0x4e63b9=0x1133+0x1f12+-0x9*0x55d;_0x4e63b9<_0x402771;++_0x4e63b9){const _0x559f9b=_0x2ee184*(_0x402771+(-0x8a5*-0x2+0xc73+-0x1dbc))+_0x4e63b9,_0x5df275=_0x559f9b+_0x402771+(0x23d6+0x157*-0x1+-0x227e);_0x3cbbb3['push'](_0x4cdce+_0x559f9b+(-0x4a+0x1346*-0x1+0x1*0x1391),_0x4cdce+_0x5df275,_0x4cdce+_0x559f9b),_0x3cbbb3['push'](_0x4cdce+_0x559f9b+(-0xa03+0x2d5+0x72f),_0x4cdce+_0x5df275+(0x23ea+-0x135d+-0x423*0x4),_0x4cdce+_0x5df275);}}else{if(_0x4cdce=(_0x3a39f1+(0x1*-0x427+-0x1*0xb81+0xfa9))*(_0x987a61+(0x1198+0x4*0x1+0x119b*-0x1)),_0x44e0d2>0x12c5+-0x8e1+-0x9e4)for(let _0x34e768=0x147c+0x1*-0x263e+0x11c2;_0x34e768<_0x987a61;_0x34e768++){const _0x4641a1=_0x34e768/_0x987a61*(-0x20c0+0x163e+0xa84*0x1)*Math['PI'],_0x297c89=Math['sin'](_0x4641a1),_0x44a045=-_0x5f4d08/(-0x23d8+0xc68*-0x3+0x1*0x4912),_0x1ccbbd=Math['cos'](_0x4641a1);let _0xe27eab=-0x1d3d*0x1+0x5*0x71+0x1b09-(_0x297c89+(0x2*0x19b+-0x1*-0x448+0x47*-0x1b))/(0x22c7+0xb1*0x25+-0x3c5a),_0x4854e6=(_0x1ccbbd+(0x397+0x2305+0x1*-0x269b))/(0x9d9+0x324+-0x1*0xcfb);_0x4d04b['push'](_0x297c89*_0x44e0d2,_0x44a045,_0x1ccbbd*_0x44e0d2),_0x253ad3['push'](0x1de*0x13+0x1*-0xdb2+-0x15c8,-(-0x474+0x1*0x10a6+-0xc31),-0x3*0x13c+0x16c6+-0x1312),_0x54865e['push'](_0xe27eab,-0x39a*0x9+-0xac1*-0x1+0x2*0xad5-_0x4854e6),_0xe27eab=_0xe27eab*Bs+ys,_0x4854e6=_0x4854e6*Bs+ys,_0xe27eab/=-0xc50+-0x27*0x5b+-0x8*-0x346,_0x4854e6/=-0x9a1+0x2ac*-0x5+0x1700,_0xe27eab+=(0xc67+-0x70c+-0x2*0x2ad)/(-0x161f+-0x209c+-0x31*-0x11e),_0x18f65e['push'](_0xe27eab,-0xed2*-0x2+0xa7*-0xd+-0x8*0x2a5-_0x4854e6),_0x34e768>-0xa5c+-0xbb*-0x2b+0x2*-0xa86&&_0x3cbbb3['push'](_0x4cdce,_0x4cdce+_0x34e768,_0x4cdce+_0x34e768-(0x1*-0x1250+-0xeb6+0x2107));}if(_0x4cdce+=_0x987a61,_0x5699e5>0x6e5+-0x1*-0x250a+-0x2bef)for(let _0x1a5115=0x573+0xa91+-0x401*0x4;_0x1a5115<_0x987a61;_0x1a5115++){const _0x596126=_0x1a5115/_0x987a61*(0x4*0x62f+-0x352+-0x1568)*Math['PI'],_0x2346f4=Math['sin'](_0x596126),_0x352177=_0x5f4d08/(0x236+0x223*-0xd+0x1*0x1993),_0x5469fc=Math['cos'](_0x596126);let _0x429b4c=0x15*0x1a5+0x245e+-0x1*0x46e6-(_0x2346f4+(0x4dc*0x8+-0x651+-0x3*0xada))/(-0x5*-0x18d+0x2070+-0xd65*0x3),_0x7ad076=(_0x5469fc+(0xe75*-0x1+-0x17c6+0x263c))/(-0x3*-0x1c9+-0x468+-0x1*0xf1);_0x4d04b['push'](_0x2346f4*_0x5699e5,_0x352177,_0x5469fc*_0x5699e5),_0x253ad3['push'](0x100+-0x1107+0xb*0x175,0x1755+-0xa25+-0x7d*0x1b,0x664+-0x6b9*0x1+0x55*0x1),_0x54865e['push'](_0x429b4c,-0x33*0x33+0x1b9f+-0x29*0x6d-_0x7ad076),_0x429b4c=_0x429b4c*Bs+ys,_0x7ad076=_0x7ad076*Bs+ys,_0x429b4c/=0x2cf*-0x1+-0x369*-0x2+0x20*-0x20,_0x7ad076/=0xb4b*-0x3+-0x31*0x70+0x3754,_0x429b4c+=(-0xe8a+-0x1*0x2467+0x1*0x32f3)/(0x9*0x445+-0x3d1*0x3+-0x1af7),_0x18f65e['push'](_0x429b4c,-0x2d1*-0x1+-0x25ab+0x1*0x22db-_0x7ad076),_0x1a5115>0x12c+0x185f+-0x198a&&_0x3cbbb3['push'](_0x4cdce,_0x4cdce+_0x1a5115-(0xfe6+0x13*-0x166+-0x1*-0xaad),_0x4cdce+_0x1a5115);}}this['positions']=_0x4d04b,this['normals']=_0x253ad3,this['uvs']=_0x54865e,this['uvs1']=_0x18f65e,this['indices']=_0x3cbbb3;}}class C1 extends Bp{constructor(_0x49eacb={}){const _0x3f41a7=_0x49eacb['radius']??-0x1ff6+-0x4*0x521+0x347a+0.3,_0x470e95=_0x49eacb['height']??-0x1b54+0x2276+-0x721,_0x455e4a=_0x49eacb['heightSegm'+'ents']??0x1*-0x233+0x1efd*-0x1+0x2131,_0x12ced3=_0x49eacb['sides']??0x2640+0x1*-0x725+0x1*-0x1f07;super(_0x3f41a7,_0x3f41a7,_0x470e95-(0x2021+-0x218e+-0x1*-0x16f)*_0x3f41a7,_0x455e4a,_0x12ced3,!(0x1*-0x10ef+-0x222e+0x331d*0x1)),_0x49eacb['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class M1 extends Bp{constructor(_0x2b13be={}){const _0x265caa=_0x2b13be['baseRadius']??-0x2336+-0x1ff3+0x4329*0x1+0.5,_0x382819=_0x2b13be['peakRadius']??0x14d*0x9+-0x24d6+0x1*0x1921,_0x5a6322=_0x2b13be['height']??-0x1612+-0x12b5*0x2+0x3b7d,_0x3de44a=_0x2b13be['heightSegm'+'ents']??-0x199*0xd+0x1b*0x111+-0x1*0x801,_0x419a96=_0x2b13be['capSegment'+'s']??0x1c15+0x21*0x73+-0x2*0x156b;super(_0x265caa,_0x382819,_0x5a6322,_0x3de44a,_0x419a96,!(-0x1e0d+0xd46+-0x864*-0x2)),_0x2b13be['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class P1 extends Bp{constructor(_0x37e15b={}){const _0x46c9b5=_0x37e15b['radius']??0x482+-0x79d*0x5+0x218f+0.5,_0x298e07=_0x37e15b['height']??-0x2571+0x613+0x1f5f,_0x555c25=_0x37e15b['heightSegm'+'ents']??-0x95*-0x2a+0x799*0x2+0x1*-0x279f,_0xc9e92=_0x37e15b['capSegment'+'s']??0x67*-0x61+0x25f6+0x125;super(_0x46c9b5,_0x46c9b5,_0x298e07,_0x555c25,_0xc9e92,!(-0x1*-0x15cd+0xaf6+-0x20c2)),_0x37e15b['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class R1 extends pn{constructor(_0xcd03db={}){super();const _0x5087b2=_0xcd03db['halfExtent'+'s']??new W(-0xb*-0x2cd+-0x1224+-0xcab+0.5,0x35*0x41+0x51b+-0x21*0x90+0.5),_0x5b61ce=_0xcd03db['widthSegme'+'nts']??0x11*-0x77+-0x143*0x18+-0xf*-0x28c,_0x1da36d=_0xcd03db['lengthSegm'+'ents']??-0x10bf+0x1be*0xb+-0x133*0x2,_0x580bb2=[],_0x374406=[],_0x4111e5=[],_0x497071=[];let _0x35bdcd=-0x17e5+0x21c+0x15c9;for(let _0x4a4591=-0x2d3*-0x7+-0xdad*-0x2+-0x2f1f;_0x4a4591<=_0x5b61ce;_0x4a4591++)for(let _0x1d6be8=0x1a7f+0x4e6+-0x13*0x1a7;_0x1d6be8<=_0x1da36d;_0x1d6be8++){const _0x54dde9=-_0x5087b2['x']+(-0xedf+-0x82f*0x2+0x1f3f)*_0x5087b2['x']*_0x4a4591/_0x5b61ce,_0x2d6110=-0x1554+-0x16d0+0x2c24,_0x737a8d=-(-_0x5087b2['y']+(0x1*0x98b+0x64e+-0x32b*0x5)*_0x5087b2['y']*_0x1d6be8/_0x1da36d),_0x6a2480=_0x4a4591/_0x5b61ce,_0x10f4a8=_0x1d6be8/_0x1da36d;_0x580bb2['push'](_0x54dde9,_0x2d6110,_0x737a8d),_0x374406['push'](0x76f*0x3+-0x3a2*-0x9+0x2e5*-0x13,-0x262b+-0x2361*0x1+0x498d,-0x55d*0x5+0x45*0x25+-0x9a*-0x1c),_0x4111e5['push'](_0x6a2480,0x2a1*-0xe+0x1736+0xd99-_0x10f4a8),_0x4a4591<_0x5b61ce&&_0x1d6be8<_0x1da36d&&(_0x497071['push'](_0x35bdcd+_0x1da36d+(0x257a+-0x1*-0x445+-0xd*0x336),_0x35bdcd+(-0x143*-0x5+0x1*0x189d+-0x1eeb),_0x35bdcd),_0x497071['push'](_0x35bdcd+_0x1da36d+(-0x17*-0xa+-0x1*0x22c+-0x147*-0x1),_0x35bdcd+_0x1da36d+(0x1*0x2687+0x1205+-0x388a*0x1),_0x35bdcd+(-0x8f5+0x2005+-0x170f))),_0x35bdcd++;}this['positions']=_0x580bb2,this['normals']=_0x374406,this['uvs']=_0x4111e5,this['uvs1']=_0x4111e5,this['indices']=_0x497071,_0xcd03db['calculateT'+'angents']&&(this['tangents']=fr(_0x580bb2,_0x374406,_0x4111e5,_0x497071));}}class I1 extends pn{constructor(_0x262fab={}){super();const _0x1cf6d5=_0x262fab['tubeRadius']??-0x2*-0x5ab+0xe6c+-0x19c2+0.2,_0x3b731c=_0x262fab['ringRadius']??0x269c+-0x2e*-0xca+-0x31f*0x18+0.3,_0x5cb03d=(_0x262fab['sectorAngl'+'e']??-0x1*-0x59c+0x2*-0x2e3+0x43*0x6)*N['DEG_TO_RAD'],_0x236174=_0x262fab['segments']??-0x1253+0x1*-0x2285+-0x1*-0x34f6,_0x2db461=_0x262fab['sides']??-0x21ec+-0x729+0x2929,_0x7d2a3=[],_0x4a9e49=[],_0x4a5c8f=[],_0x1361ea=[];for(let _0x505025=-0x637+0x437+-0x2*-0x100;_0x505025<=_0x2db461;_0x505025++)for(let _0x4594fd=-0xda6+-0x8d7+-0x13*-0x12f;_0x4594fd<=_0x236174;_0x4594fd++){const _0x21738f=Math['cos'](_0x5cb03d*_0x4594fd/_0x236174)*(_0x3b731c+_0x1cf6d5*Math['cos']((0x22f3+0x1e58+0x26b*-0x1b)*Math['PI']*_0x505025/_0x2db461)),_0x589a51=Math['sin']((0x1*0x1e83+0x4+-0x1e85*0x1)*Math['PI']*_0x505025/_0x2db461)*_0x1cf6d5,_0x1a7eae=Math['sin'](_0x5cb03d*_0x4594fd/_0x236174)*(_0x3b731c+_0x1cf6d5*Math['cos']((0x55c+0x1*-0x1620+0x13*0xe2)*Math['PI']*_0x505025/_0x2db461)),_0x115ffc=Math['cos'](_0x5cb03d*_0x4594fd/_0x236174)*Math['cos']((0xf96+0x2*-0x47d+-0x69a)*Math['PI']*_0x505025/_0x2db461),_0x415445=Math['sin']((-0x6f*0xf+-0x12f*-0x1c+-0x1aa1)*Math['PI']*_0x505025/_0x2db461),_0x218a2b=Math['sin'](_0x5cb03d*_0x4594fd/_0x236174)*Math['cos']((0x1e29*-0x1+-0x9dd+0x2808)*Math['PI']*_0x505025/_0x2db461),_0x1e679e=_0x505025/_0x2db461,_0x161e56=0x1a48*0x1+0x1*-0x237d+0x312*0x3-_0x4594fd/_0x236174;if(_0x7d2a3['push'](_0x21738f,_0x589a51,_0x1a7eae),_0x4a9e49['push'](_0x115ffc,_0x415445,_0x218a2b),_0x4a5c8f['push'](_0x1e679e,0xfc2*0x1+0x1*-0x487+0x6*-0x1df-_0x161e56),_0x505025<_0x2db461&&_0x4594fd<_0x236174){const _0x12f111=_0x505025*(_0x236174+(0x1*0x1cf1+0x1319+-0x1003*0x3))+_0x4594fd,_0x486b5f=(_0x505025+(0x1*-0x2365+0xb17+-0x184f*-0x1))*(_0x236174+(0x26c6+-0xd71+0x1*-0x1954))+_0x4594fd,_0x3d0d76=_0x505025*(_0x236174+(-0x4f*-0x7+0x593+-0x7bb*0x1))+(_0x4594fd+(0x6aa+-0x1fa*0x1+-0x4af)),_0xcea1fd=(_0x505025+(0x2575+0x208b+0x65d*-0xb))*(_0x236174+(0x76*0x3b+0x108+-0x5*0x5a5))+(_0x4594fd+(-0x3b*0x1+-0xeb1+0xeed));_0x1361ea['push'](_0x12f111,_0x486b5f,_0x3d0d76),_0x1361ea['push'](_0x486b5f,_0xcea1fd,_0x3d0d76);}}this['positions']=_0x7d2a3,this['normals']=_0x4a9e49,this['uvs']=_0x4a5c8f,this['uvs1']=_0x4a5c8f,this['indices']=_0x1361ea,_0x262fab['calculateT'+'angents']&&(this['tangents']=fr(_0x7d2a3,_0x4a9e49,_0x4a5c8f,_0x1361ea));}}class D1{constructor(_0x18bbd6,_0x33a5ce){c(this,'processedC'+'ache',new Map()),c(this,'definition'+'sCache',new Map()),c(this,'_generator'+'s',new Map()),(this['_device']=_0x18bbd6,this['_isClearin'+'gCache']=!(0x5b7+-0x1d75*-0x1+-0x232b),this['_precached']=!(-0x1c1c+-0x20b5+-0x9*-0x6c2),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new Vh(),this['_defaultSt'+'dMatOption'+'Min']=new Vh());const _0x3b13f2=new A0();_0x33a5ce['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x3b13f2,_0x33a5ce,null,[],gn,null),_0x33a5ce['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x33a5ce,null,Rp,null),_0x18bbd6['on']('destroy:sh'+'ader',_0x29db6d=>{this['removeFrom'+'Cache'](_0x29db6d);});}['destroy'](){this['clearCache']();}['register'](_0x5b468a,_0x5a6696){this['_generator'+'s']['has'](_0x5b468a)||this['_generator'+'s']['set'](_0x5b468a,_0x5a6696);}['unregister'](_0x428697){this['_generator'+'s']['has'](_0x428697)&&this['_generator'+'s']['delete'](_0x428697);}['isRegister'+'ed'](_0x4c745a){return this['_generator'+'s']['has'](_0x4c745a);}['generateSh'+'aderDefini'+'tion'](_0xd3f671,_0x3258d7,_0x24e0d7,_0x2273e0){var _0x299874,_0x5275a3;let _0x35064b=this['definition'+'sCache']['get'](_0x24e0d7);if(!_0x35064b){let _0x1cf440;(_0x299874=_0x2273e0['litOptions'])!=null&&_0x299874['lights']&&(_0x1cf440=_0x2273e0['litOptions']['lights'],_0x2273e0['litOptions']['lights']=_0x1cf440['map'](_0x587454=>{const _0x519a3d=_0x587454['clone']?_0x587454['clone']():_0x587454;return _0x519a3d['key']=_0x587454['key'],_0x519a3d;})),this['storeNewPr'+'ogram'](_0x3258d7,_0x2273e0),(_0x5275a3=_0x2273e0['litOptions'])!=null&&_0x5275a3['lights']&&(_0x2273e0['litOptions']['lights']=_0x1cf440),this['_precached']&&v['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x3258d7+'\x20key\x20'+_0x24e0d7+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0xf5b776=this['_device'];_0x35064b=_0xd3f671['createShad'+'erDefiniti'+'on'](_0xf5b776,_0x2273e0),_0x35064b['name']=_0x35064b['name']??(_0x2273e0['pass']?_0x3258d7+'-pass:'+_0x2273e0['pass']:_0x3258d7),this['definition'+'sCache']['set'](_0x24e0d7,_0x35064b);}return _0x35064b;}['getCachedS'+'hader'](_0x3a7321){return this['processedC'+'ache']['get'](_0x3a7321);}['setCachedS'+'hader'](_0xedea4f,_0x4ded2c){this['processedC'+'ache']['set'](_0xedea4f,_0x4ded2c);}['getProgram'](_0x1091f3,_0x4e3e04,_0x3f57e3,_0x5ef24c){const _0x369e77=this['_generator'+'s']['get'](_0x1091f3);if(!_0x369e77)return v['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x1091f3),null;const _0x5cc244=_0x369e77['generateKe'+'y'](_0x4e3e04),_0x117a59=hn(_0x5cc244),_0x3c5ac3=_0x3f57e3['generateKe'+'y'](this['_device']),_0x1d8b96=hn(_0x3c5ac3),_0x13aa55=_0x117a59+'#'+_0x1d8b96;let _0x1af5ea=this['getCachedS'+'hader'](_0x13aa55);if(!_0x1af5ea){const _0x1f9435=this['generateSh'+'aderDefini'+'tion'](_0x369e77,_0x1091f3,_0x117a59,_0x4e3e04);v['assert'](_0x1f9435);let _0x5b7553='',_0x1b3638;_0x4e3e04['pass']!==void(0x1c38+0x491+-0x20c9)&&(_0x1b3638=Ks['get'](this['_device'])['getByIndex'](_0x4e3e04['pass']),_0x5b7553='-'+_0x1b3638['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x5ef24c,'shaderPassInfo':_0x1b3638,'definition':_0x1f9435});const _0x41ceca={'name':''+_0x1f9435['name']+_0x5b7553+'-proc','attributes':_0x1f9435['attributes'],'vshader':_0x1f9435['vshader'],'vincludes':_0x1f9435['vincludes'],'fincludes':_0x1f9435['fincludes'],'fshader':_0x1f9435['fshader'],'processingOptions':_0x3f57e3,'shaderLanguage':_0x1f9435['shaderLang'+'uage'],'meshUniformBufferFormat':_0x1f9435['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x1f9435['meshBindGr'+'oupFormat']};_0x1af5ea=new i0(this['_device'],_0x41ceca),v['call'](()=>{_0x1af5ea['_generatio'+'nKey']=_0x5cc244,_0x1af5ea['_processin'+'gKey']=_0x3c5ac3;}),this['setCachedS'+'hader'](_0x13aa55,_0x1af5ea);}return _0x1af5ea;}['storeNewPr'+'ogram'](_0x814064,_0x5b63b8){let _0xa0ef51={};if(_0x814064==='standard'){const _0x115faf=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x5b63b8['pass']);for(const _0x271d07 in _0x5b63b8)(_0x5b63b8['hasOwnProp'+'erty'](_0x271d07)&&_0x115faf[_0x271d07]!==_0x5b63b8[_0x271d07]||_0x271d07==='pass')&&(_0xa0ef51[_0x271d07]=_0x5b63b8[_0x271d07]);for(const _0x55bd4f in _0x5b63b8['litOptions'])_0xa0ef51[_0x55bd4f]=_0x5b63b8['litOptions'][_0x55bd4f];}else _0xa0ef51=_0x5b63b8;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x814064,'options':_0xa0ef51}));}['dumpProgra'+'ms'](){let _0x29041b='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x29041b+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][0xdf*-0x10+-0xbe*0x33+0x33ca]&&(_0x29041b+='\x0a\x09'+this['_programsC'+'ollection'][0x6*0x654+-0x259e+-0x5a]);for(let _0x130fcb=0x184f*0x1+0x5*-0x286+0x58*-0x22;_0x130fcb<this['_programsC'+'ollection']['length'];++_0x130fcb)_0x29041b+=',\x0a\x09'+this['_programsC'+'ollection'][_0x130fcb];_0x29041b+='\x0a];\x0a',_0x29041b+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x29041b+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+no+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+sy+'\x22)\x0a',_0x29041b+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0xedb012=document['createElem'+'ent']('a');_0xedb012['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x29041b)),_0xedb012['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0xedb012['style']['display']='none',document['body']['appendChil'+'d'](_0xedb012),_0xedb012['click'](),document['body']['removeChil'+'d'](_0xedb012);}['clearCache'](){this['_isClearin'+'gCache']=!(0x159b*-0x1+-0x2d*-0xa0+-0x685),this['processedC'+'ache']['forEach'](_0x1ddf3b=>{_0x1ddf3b['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(-0x535*0x3+0x23c9+0x18d*-0xd);}['removeFrom'+'Cache'](_0x4a2e42){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x3c3fb1,_0x1577a8)=>{_0x4a2e42===_0x3c3fb1&&this['processedC'+'ache']['delete'](_0x1577a8);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x364526){const _0x8b52a=Ks['get'](this['_device'])['getByIndex'](_0x364526);return _0x364526===rl||_0x364526===Oa||_0x364526===il||_0x8b52a['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x381717){if(_0x381717){const _0x2f12ce=new Array(_0x381717['length']);for(let _0x5de931=0xcbe+-0x17*0x1a5+-0x1*-0x1915;_0x5de931<_0x381717['length'];_0x5de931++){if(_0x381717[_0x5de931]['name']==='standard'){const _0x5541fd=_0x381717[_0x5de931]['options'],_0x2680ff=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x5541fd['pass']);for(const _0x11f18f in _0x2680ff)_0x2680ff['hasOwnProp'+'erty'](_0x11f18f)&&_0x5541fd[_0x11f18f]===void(-0x1bad*-0x1+0x149d+0xe*-0x373)&&(_0x5541fd[_0x11f18f]=_0x2680ff[_0x11f18f]);}_0x2f12ce[_0x5de931]=this['getProgram'](_0x381717[_0x5de931]['name'],_0x381717[_0x5de931]['options']);}}this['_precached']=!(0x29*0x83+0x1*-0x2437+-0x82*-0x1e);}}const L1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001?'+'\x20(1.0/255.'+'0)\x20:\x200.0);'+'\x0a\x20\x20\x20\x20}\x0a',F1='\x0a#ifdef\x20LI'+'GHTMAP_RGB'+'M\x0a\x20\x20\x20\x20gl_F'+'ragColor.r'+'gb\x20=\x20dDiff'+'useLight;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20pow(gl_'+'FragColor.'+'rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.rgb\x20/='+'\x208.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x20cla'+'mp(\x20max(\x20m'+'ax(\x20gl_Fra'+'gColor.r,\x20'+'gl_FragCol'+'or.g\x20),\x20ma'+'x(\x20gl_Frag'+'Color.b,\x201'+'.0\x20/\x20255.0'+'\x20)\x20),\x200.0,'+'1.0\x20);\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.a\x20=\x20ce'+'il(gl_Frag'+'Color.a\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.rgb\x20/=\x20'+'gl_FragCol'+'or.a;\x0a#els'+'e\x0a\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(dDif'+'fuseLight,'+'\x201.0);\x0a#en'+'dif\x0a',O1='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',k1='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a//\x20fi'+'lter\x20size\x0a'+'#define\x20MS'+'IZE\x2015\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0auni'+'form\x20sampl'+'er2D\x20sourc'+'e;\x0auniform'+'\x20vec2\x20pixe'+'lOffset;\x0au'+'niform\x20vec'+'2\x20sigmas;\x0a'+'uniform\x20fl'+'oat\x20bZnorm'+';\x0auniform\x20'+'float\x20kern'+'el[MSIZE];'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20texture2'+'DLod(sourc'+'e,\x20vUv0,\x200'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20lightma'+'p\x20specific'+'\x20optimizat'+'ion\x20-\x20skip'+'\x20pixels\x20th'+'at\x20were\x20no'+'t\x20baked\x0a\x20\x20'+'\x20\x20//\x20this\x20'+'also\x20allow'+'s\x20dilate\x20f'+'ilter\x20that'+'\x20work\x20on\x20t'+'he\x20output\x20'+'of\x20this\x20to'+'\x20work\x20corr'+'ectly,\x20as\x20'+'it\x20depends'+'\x20on\x20.a\x20bei'+'ng\x20zero\x0a\x20\x20'+'\x20\x20//\x20to\x20di'+'late,\x20whic'+'h\x20the\x20foll'+'owing\x20blur')+('\x20filter\x20wo'+'uld\x20otherw'+'ise\x20modify'+'\x0a\x20\x20\x20\x20if\x20(!'+'isUsed(pix'+'el))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'pixel;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ra'+'nge\x20sigma\x20'+'-\x20controls'+'\x20blurrines'+'s\x20based\x20on'+'\x20a\x20pixel\x20d'+'istance\x0a\x20\x20'+'\x20\x20float\x20si'+'gma\x20=\x20sigm'+'as.x;\x0a\x0a\x20\x20\x20'+'\x20//\x20domain'+'\x20sigma\x20-\x20c'+'ontrols\x20bl'+'urriness\x20b'+'ased\x20on\x20a\x20'+'pixel\x20simi'+'larity\x20(to'+'\x20preserve\x20'+'edges)\x0a\x20\x20\x20'+'\x20float\x20bSi'+'gma\x20=\x20sigm'+'as.y;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20pixe'+'lHdr\x20=\x20dec'+'ode(pixel)'+';\x0a\x20\x20\x20\x20vec3'+'\x20accumulat'+'edHdr\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20float\x20a'+'ccumulated'+'Factor\x20=\x200'+'.000001;\x20\x20'+'//\x20avoid\x20d'+'ivision\x20by'+'\x20zero\x0a\x0a\x20\x20\x20'+'\x20//\x20read\x20o'+'ut\x20the\x20tex'+'els\x0a\x20\x20\x20\x20co'+'nst\x20int\x20kS'+'ize\x20=\x20(MSI'+'ZE-1)/2;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x20-kSi'+'ze;\x20i\x20<=\x20k'+'Size;\x20++i)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'j\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20++j)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'ample\x20the\x20'+'pixel\x20with'+'\x20offset\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20coord'+'\x20=\x20vUv0\x20+\x20'+'vec2(float'+'(i),\x20float'+'(j))\x20*\x20pix'+'elOffset;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec4\x20pix'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20coord,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x20-\x20only\x20u'+'se\x20baked\x20p'+'ixels\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isUsed(p'+'ix))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20hd'+'r\x20=\x20decode'+'(pix);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bil'+'ateral\x20fac'+'tors\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fac'+'tor\x20=\x20kern')+('el[kSize\x20+'+'\x20j]\x20*\x20kern'+'el[kSize\x20+'+'\x20i];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20factor\x20*='+'\x20normpdf3('+'hdr\x20-\x20pixe'+'lHdr,\x20bSig'+'ma)\x20*\x20bZno'+'rm;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20accumu'+'late\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20accumulat'+'edHdr\x20+=\x20f'+'actor\x20*\x20hd'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ccumulated'+'Factor\x20+=\x20'+'factor;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20fi'+'nalHDR\x20=\x20a'+'ccumulated'+'Hdr\x20/\x20accu'+'mulatedFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20HDR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(fina'+'lHDR,\x201.0)'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20encod'+'eRGBM(fina'+'lHDR);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),vo={'bakeDirLmEndPS':L1,'bakeLmEndPS':F1,'dilatePS':O1,'bilateralDeNoisePS':k1},Fn=new q(),B_=new se(),$d=new _e(),N_=new _e(),B1=new Y(-0x7cb*-0x2+-0x1a9a+-0x193*-0x7,0x1*-0xd47+-0x2015+0x2d5d,0x8b4*-0x1+-0x1*-0x10e7+-0x833,0x175*-0x13+0x26c6+0x11*-0xa7+0.4),qd=-0x1368+0xe71*-0x2+-0x1*-0x304a+0.28209479177387814;class N1{constructor(_0xa26fed,_0x4ad9c4,_0x1139ce,_0x1e1216,_0x5011f9,_0x38c30b){const _0x3b5832=_0xa26fed['getProp']('x'),_0x4f57b1=_0xa26fed['getProp']('y'),_0x48cde3=_0xa26fed['getProp']('z'),_0x6bd6cf=_0xa26fed['getProp']('rot_1'),_0x1e3059=_0xa26fed['getProp']('rot_2'),_0x28373c=_0xa26fed['getProp']('rot_3'),_0x28626f=_0xa26fed['getProp']('rot_0'),_0x45188f=_0xa26fed['getProp']('motion_0'),_0x5bf5e8=_0xa26fed['getProp']('motion_1'),_0x505b8b=_0xa26fed['getProp']('motion_2'),_0x3b53cb=_0xa26fed['getProp']('scale_0'),_0x92ab7d=_0xa26fed['getProp']('scale_1'),_0x5df284=_0xa26fed['getProp']('scale_2'),_0x29bda1=_0xa26fed['getProp']('f_dc_0'),_0x4fdd42=_0xa26fed['getProp']('f_dc_1'),_0x51de73=_0xa26fed['getProp']('f_dc_2'),_0x5bfbd2=_0xa26fed['getProp']('opacity'),_0x2f226d=_0x28181c=>{if(_0x28181c>-0x18f5+-0x527*0x2+0x2343)return(0x27c+-0xd97+0x13c*0x9)/(-0x6d9*-0x1+-0xcda+0x602+Math['exp'](-_0x28181c));const _0x3dc0f4=Math['exp'](_0x28181c);return _0x3dc0f4/(-0x2530+0x1261+0x25a*0x8+_0x3dc0f4);};this['read']=_0x4bddf5=>{_0x4ad9c4&&(_0x4ad9c4['x']=_0x3b5832[_0x4bddf5],_0x4ad9c4['y']=_0x4f57b1[_0x4bddf5],_0x4ad9c4['z']=_0x48cde3[_0x4bddf5]),_0x1139ce&&_0x1139ce['set'](_0x6bd6cf[_0x4bddf5],_0x1e3059[_0x4bddf5],_0x28373c[_0x4bddf5],_0x28626f[_0x4bddf5]),_0x1e1216&&_0x1e1216['set'](Math['exp'](_0x3b53cb[_0x4bddf5]),Math['exp'](_0x92ab7d[_0x4bddf5]),Math['exp'](_0x5df284[_0x4bddf5])),_0x38c30b&&_0x45188f&&_0x38c30b['set'](_0x45188f[_0x4bddf5],_0x5bf5e8[_0x4bddf5],_0x505b8b[_0x4bddf5]),_0x5011f9&&_0x5011f9['set'](-0x1fa*-0x6+0xf34+-0x10*0x1b1+0.5+_0x29bda1[_0x4bddf5]*qd,-0x21ff*-0x1+-0x2*-0xe61+-0x3ec1+0.5+_0x4fdd42[_0x4bddf5]*qd,-0x3*-0xaa9+0x1ed9+0x1f6a*-0x2+0.5+_0x51de73[_0x4bddf5]*qd,_0x2f226d(_0x5bfbd2[_0x4bddf5]));};}}const z_=(_0x17a6f7,_0xc81ad1,_0x39032c)=>{B_['set'](_0x39032c['x'],_0x39032c['y'],_0x39032c['z'],_0x39032c['w'])['normalize'](),_0x17a6f7['setTRS'](_0xc81ad1,B_,T['ONE']);};class Ia{constructor(_0x2b4fb5){c(this,'elements'),c(this,'numSplats'),c(this,'is4D');var _0x4ec455,_0x4eadea,_0x37d373;this['elements']=_0x2b4fb5,this['numSplats']=(_0x4ec455=this['getElement']('vertex'))==null?void(0x1843+0x1c27*-0x1+0x2*0x1f2):_0x4ec455['count'],this['is4D']=!!((_0x37d373=(_0x4eadea=this['getElement']('vertex'))==null?void(0x66b*0x6+0x4f*-0x1+-0x2633):_0x4eadea['properties']['find'](_0x2a7908=>_0x2a7908['name']==='t'))!=null&&_0x37d373['storage']);}['appendGSpl'+'atData'](_0x104499,_0x32a769,_0x25e655){const _0xc9f93a=this['getElement']('vertex')['properties'];_0xc9f93a['find'](_0x2f4124=>_0x2f4124['name']==='time_index')||_0xc9f93a['push']({'type':'float','name':'time_index','storage':new Float32Array(this['numSplats']),'byteSize':0x4}),this['numSplats']+=_0x104499['numSplats'];for(let _0x4728ed=0xa13+0x1*-0xfd3+0x5c0;_0x4728ed<_0xc9f93a['length'];_0x4728ed++){const _0x13c402=_0xc9f93a[_0x4728ed],_0x1db48f=_0x104499['getElement']('vertex')['properties']['find'](_0x1f6238=>_0x1f6238['name']===_0x13c402['name']);if(_0x13c402['name']==='time_index'){const _0x4a181b=new Float32Array(this['numSplats']);_0x4a181b['fill'](_0x32a769),_0x4a181b['set'](_0x13c402['storage'],-0x2*0x82c+0x105*-0x11+0x21ad),_0x13c402['storage']=_0x4a181b;}else{if(_0x1db48f&&_0x13c402['name']==='t'){const _0x4e7316=new Float32Array(this['numSplats']);if(_0x4e7316['set'](_0x13c402['storage'],0xd*-0x2c9+0x1f26*-0x1+0x435b),_0x25e655){for(let _0x24ef49=_0x13c402['storage']['length'];_0x24ef49<this['numSplats'];_0x24ef49++)_0x4e7316[_0x24ef49]=_0x1db48f['storage'][_0x24ef49-_0x13c402['storage']['length']]+_0x25e655[(-0x529*0x3+0xbe1*-0x1+0x1b5e)*_0x32a769];}else _0x4e7316['set'](_0x1db48f['storage'],_0x13c402['storage']['length']);_0x13c402['storage']=_0x4e7316;}else{if(_0x1db48f){const _0x15caf9=new Float32Array(this['numSplats']);_0x15caf9['set'](_0x13c402['storage'],-0x175*-0x6+-0x56*0x6d+-0x37c*-0x8),_0x15caf9['set'](_0x1db48f['storage'],_0x13c402['storage']['length']),_0x13c402['storage']=_0x15caf9;}}}}}static['calcSplatA'+'abb'](_0x1906c4,_0x2cc8a3,_0x1e7b45,_0x5ee66a){z_(Fn,_0x2cc8a3,_0x1e7b45),$d['center']['set'](0xf32+0x1*0xc41+0x1b73*-0x1,0x6cd+0x44d*0x2+-0xf67,0x191e+-0x6fd+-0x1221*0x1),$d['halfExtent'+'s']['set'](_0x5ee66a['x']*(-0x2245+0x9*-0x1a5+0x3114),_0x5ee66a['y']*(-0x3*0x3d4+0x454+0x1*0x72a),_0x5ee66a['z']*(-0x20eb+0x1b86+0x1*0x567)),_0x1906c4['setFromTra'+'nsformedAa'+'bb']($d,Fn);}['getProp'](_0x549990,_0x29621f='vertex'){var _0x3a5be9,_0x41f61b;return(_0x41f61b=(_0x3a5be9=this['getElement'](_0x29621f))==null?void(0x1ee3+-0x1c9*-0xb+0x1d*-0x1be):_0x3a5be9['properties']['find'](_0x3b3ac1=>_0x3b3ac1['name']===_0x549990))==null?void(-0x131e+-0xeff+0x221d):_0x41f61b['storage'];}['getElement'](_0x4802b8){return this['elements']['find'](_0x3b9971=>_0x3b9971['name']===_0x4802b8);}['addProp'](_0x3c3e03,_0x502757){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x3c3e03,'storage':_0x502757,'byteSize':0x4});}['createIter'](_0x59aeed,_0x43c101,_0x4682bd,_0x5346f0,_0x55614b){return new N1(this,_0x59aeed,_0x43c101,_0x4682bd,_0x5346f0,_0x55614b);}['calcAabb'](_0x2f4f17,_0x309558){let _0x3c33bd,_0x2a6f74,_0x371a18,_0x59c458,_0x8da9f,_0x3a989f,_0x2a9cda=!(-0x14ab+-0x269+0x1714);const _0x33e6cf=this['getProp']('x'),_0x2c9095=this['getProp']('y'),_0x2430af=this['getProp']('z'),_0x25c093=this['getProp']('scale_0'),_0x27ffb8=this['getProp']('scale_1'),_0x3add58=this['getProp']('scale_2');for(let _0xf843c7=-0xb05*-0x3+-0x180+-0x1f8f;_0xf843c7<this['numSplats'];++_0xf843c7){if(_0x309558&&!_0x309558(_0xf843c7))continue;const _0x2727ee=(-0x2252+0x7*0xf6+0x1b9a)*Math['exp'](Math['max'](_0x25c093[_0xf843c7],_0x27ffb8[_0xf843c7],_0x3add58[_0xf843c7])),_0x4d0a84=_0x33e6cf[_0xf843c7],_0x2497cf=_0x2c9095[_0xf843c7],_0x141208=_0x2430af[_0xf843c7];_0x2a9cda?(_0x2a9cda=!(0x1*-0x977+0xf93+-0x61b),_0x3c33bd=_0x4d0a84-_0x2727ee,_0x2a6f74=_0x2497cf-_0x2727ee,_0x371a18=_0x141208-_0x2727ee,_0x59c458=_0x4d0a84+_0x2727ee,_0x8da9f=_0x2497cf+_0x2727ee,_0x3a989f=_0x141208+_0x2727ee):(_0x3c33bd=Math['min'](_0x3c33bd,_0x4d0a84-_0x2727ee),_0x2a6f74=Math['min'](_0x2a6f74,_0x2497cf-_0x2727ee),_0x371a18=Math['min'](_0x371a18,_0x141208-_0x2727ee),_0x59c458=Math['max'](_0x59c458,_0x4d0a84+_0x2727ee),_0x8da9f=Math['max'](_0x8da9f,_0x2497cf+_0x2727ee),_0x3a989f=Math['max'](_0x3a989f,_0x141208+_0x2727ee));}return _0x2a9cda||(_0x2f4f17['center']['set']((_0x3c33bd+_0x59c458)*(0x315+-0x2444+0x6a3*0x5+0.5),(_0x2a6f74+_0x8da9f)*(-0x14*-0x30+-0x1*0x2c3+-0xfd*0x1+0.5),(_0x371a18+_0x3a989f)*(0x1*-0x19eb+-0x772+0x215d+0.5)),_0x2f4f17['halfExtent'+'s']['set']((_0x59c458-_0x3c33bd)*(-0x161a+-0xa16+0x2030+0.5),(_0x8da9f-_0x2a6f74)*(-0x85e+-0x695+0x2b*0x59+0.5),(_0x3a989f-_0x371a18)*(-0x1ada+0xc3b+0xe9f+0.5))),!_0x2a9cda;}['calcAabbEx'+'act'](_0x1cc0db,_0x14b5b4){const _0x960215=new T(),_0x4af835=new se(),_0xeca84b=new T(),_0x348f2b=this['createIter'](_0x960215,_0x4af835,_0xeca84b);let _0x51dd0f=!(0xe*-0x4a+-0x1069*-0x2+-0x3a*0x7f);for(let _0xe83afb=-0x80a+0x1d96+-0xc5*0x1c;_0xe83afb<this['numSplats'];++_0xe83afb)_0x14b5b4&&!_0x14b5b4(_0xe83afb)||(_0x348f2b['read'](_0xe83afb),_0x51dd0f?(_0x51dd0f=!(0x4*0x975+-0x2*0x7b1+-0x1671),Ia['calcSplatA'+'abb'](_0x1cc0db,_0x960215,_0x4af835,_0xeca84b)):(Ia['calcSplatA'+'abb'](N_,_0x960215,_0x4af835,_0xeca84b),_0x1cc0db['add'](N_)));return!_0x51dd0f;}['getCenters'](_0x146057){const _0x2e0b4d=this['getProp']('x'),_0xa4214b=this['getProp']('y'),_0x328902=this['getProp']('z');for(let _0x563f9c=-0x196d+-0x6e3*0x1+0x2050;_0x563f9c<this['numSplats'];++_0x563f9c)_0x146057[_0x563f9c*(0x1ef3+-0x1*0xde7+-0x1109*0x1)+(0x1eec*0x1+0x269e*-0x1+0x7b2)]=_0x2e0b4d[_0x563f9c],_0x146057[_0x563f9c*(-0xbb7*0x1+-0x1bbe+-0xd28*-0x3)+(-0x1*-0x21d+0xcc1+-0x5*0x2f9)]=_0xa4214b[_0x563f9c],_0x146057[_0x563f9c*(0x2*-0x4b8+-0x26ac+0x301f)+(-0xdf6+-0x12b9*-0x1+-0x4c1*0x1)]=_0x328902[_0x563f9c];}['getMuT'](){const _0x6c40b7=this['getProp']('t');if(!_0x6c40b7)return;const _0x13e813=new Float32Array(this['numSplats']);for(let _0x31e6a2=0x15b6+0x2627+-0x265*0x19;_0x31e6a2<this['numSplats'];++_0x31e6a2)_0x13e813[_0x31e6a2]=_0x6c40b7[_0x31e6a2];return _0x13e813;}['getTScale'](){const _0x7ef8ec=this['getProp']('t_scale');if(!_0x7ef8ec)return;const _0x18d5a5=new Float32Array(this['numSplats']);for(let _0x49046a=0x219+0xf*-0x21d+0x1d9a;_0x49046a<this['numSplats'];++_0x49046a)_0x18d5a5[_0x49046a]=Math['exp'](_0x7ef8ec[_0x49046a]);return _0x18d5a5;}['getMotion'](_0x1134ae){const _0x1b2243=this['getProp']('motion_0'),_0x2c7f83=this['getProp']('motion_1'),_0x3d439a=this['getProp']('motion_2');if(!(!_0x1b2243||!_0x2c7f83||!_0x3d439a)){for(let _0x2a50b8=-0x13b7+0xf0e+-0x4a9*-0x1;_0x2a50b8<this['numSplats'];++_0x2a50b8)_0x1134ae[_0x2a50b8*(-0x7d9+0x62e*0x2+0x40*-0x12)+(-0x10f5*0x2+-0xd3e+0x2f28)]=_0x1b2243[_0x2a50b8],_0x1134ae[_0x2a50b8*(0x8f7+0x2233+-0x1*0x2b27)+(0x250d+-0xbf*-0x1b+-0x3931)]=_0x2c7f83[_0x2a50b8],_0x1134ae[_0x2a50b8*(0x1d*0x31+-0x1*-0x165b+-0x1be5)+(-0x21ad+-0x17*0x5+-0x11*-0x202)]=_0x3d439a[_0x2a50b8];}}['getTimeInd'+'ex'](_0x2f1460){const _0x3547c5=this['getProp']('time_index');_0x3547c5&&_0x2f1460['set'](_0x3547c5,-0xce2+-0x1ecd+0x35*0xd3);}['calcFocalP'+'oint'](_0x316b42,_0x49e41f){const _0x3f5c11=this['getProp']('x'),_0x1d5cbd=this['getProp']('y'),_0x256822=this['getProp']('z'),_0x38213b=this['getProp']('scale_0'),_0x4940f3=this['getProp']('scale_1'),_0x868afb=this['getProp']('scale_2');_0x316b42['x']=-0x1b31*-0x1+-0x5*0x130+-0x1*0x1541,_0x316b42['y']=0x1*-0x1181+-0x1941+0x2ac2,_0x316b42['z']=-0x1ad0+-0x742*-0x1+0x138e;let _0x175e6e=0x7*-0x581+0xe*-0x18d+0x3c3d;for(let _0x5babee=0x35*-0xa1+-0xace*-0x3+-0xeb*-0x1;_0x5babee<this['numSplats'];++_0x5babee){if(_0x49e41f&&!_0x49e41f(_0x5babee))continue;const _0x122e96=(-0x1*0x2239+0x7b8+0x1a82)/(-0xc5*0x11+0x43*0x2c+0x3*0x86+Math['exp'](Math['max'](_0x38213b[_0x5babee],_0x4940f3[_0x5babee],_0x868afb[_0x5babee])));_0x316b42['x']+=_0x3f5c11[_0x5babee]*_0x122e96,_0x316b42['y']+=_0x1d5cbd[_0x5babee]*_0x122e96,_0x316b42['z']+=_0x256822[_0x5babee]*_0x122e96,_0x175e6e+=_0x122e96;}_0x316b42['mulScalar']((0x1*0x161b+-0x115f+-0x4bb)/_0x175e6e);}['renderWire'+'frameBound'+'s'](_0x1cc3fd,_0x22463f){const _0x5b4bce=new T(),_0x319eb9=new se(),_0x52e74c=new T(),_0x303ef0=new T(),_0x46423b=new T(),_0x3e5658=this['createIter'](_0x5b4bce,_0x319eb9,_0x52e74c);for(let _0x4fdbd1=0x15b*-0x9+0x14ac+0x1*-0x879;_0x4fdbd1<this['numSplats'];++_0x4fdbd1)_0x3e5658['read'](_0x4fdbd1),z_(Fn,_0x5b4bce,_0x319eb9),Fn['mul2'](_0x22463f,Fn),_0x303ef0['set'](_0x52e74c['x']*-(-0x1896+0x159c+0x2fc),_0x52e74c['y']*-(0x18b+0x21cd+-0x2356),_0x52e74c['z']*-(0x686+-0x9*0x41d+0x1e81)),_0x46423b['set'](_0x52e74c['x']*(0xdfe+0x25e6+-0x33e2),_0x52e74c['y']*(0x26ad+0x115f+-0x380a),_0x52e74c['z']*(-0x1d86*0x1+-0x13*0x21+0x1ffb)),_0x1cc3fd['immediate']['drawWireAl'+'ignedBox'](_0x303ef0,_0x46423b,B1,!(0x2*-0xf06+-0x165b+0x3467),_0x1cc3fd['defaultDra'+'wLayer'],Fn);}get['isCompress'+'ed'](){return!(-0x15e0+-0x1d23*0x1+-0x28d*-0x14);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x2ad689=-0x4b2*-0x1+-0x1*-0x1d89+0x7f*-0x45;_0x2ad689<0x21c7+-0x4*0x6ad+-0x6e6*0x1;++_0x2ad689)if(!this['getProp']('f_rest_'+_0x2ad689))return _0x2ad689;return-0x1676*-0x1+0x1*-0x70d+-0xf3c;})())]??-0x860+-0x1*-0x22fe+0xd4f*-0x2;}['calcMorton'+'Order'](){const _0x2f7407=_0x1e3010=>{let _0x40ab40=_0x1e3010[0x1c1b+0x791*0x5+-0x698*0xa],_0x45c4a5=_0x1e3010[-0x2c5*0x1+0x2f*0xb0+-0x1d8b];for(let _0x4a3242=-0xa43*-0x1+0x1*-0x9ce+-0x74;_0x4a3242<_0x1e3010['length'];_0x4a3242++)_0x1e3010[_0x4a3242]<_0x40ab40&&(_0x40ab40=_0x1e3010[_0x4a3242]),_0x1e3010[_0x4a3242]>_0x45c4a5&&(_0x45c4a5=_0x1e3010[_0x4a3242]);return{'min':_0x40ab40,'max':_0x45c4a5};},_0x983bd=(_0x42ac93,_0x35b7e0,_0x45e439)=>{const _0x2f72e8=_0x3fd673=>(_0x3fd673&=-0x2099+0x17a+0x231e,_0x3fd673=(_0x3fd673^_0x3fd673<<0x645*-0x1+0x5*-0x1be+0xf0b)&-0x198e33*-0x26f+0x47*-0x6d356d1+0x2a56c06d9,_0x3fd673=(_0x3fd673^_0x3fd673<<-0x3*-0x7a2+-0x23d*-0xa+-0x2d40)&-0x243ea4*-0x29+0x43*0xdbd27+-0x665996a,_0x3fd673=(_0x3fd673^_0x3fd673<<-0x1a8c+-0x242f+0x3ebf)&-0x2a5*-0x5267+-0x11115ab+0x3435c0b*0x1,_0x3fd673=(_0x3fd673^_0x3fd673<<0x7*-0x40f+-0x1128+0x3*0xf31)&-0xccbb436+-0x1970ab*-0x9b+-0x1951*-0x4216,_0x3fd673);return(_0x2f72e8(_0x45e439)<<0x22db+0x7f9*0x4+0xc9*-0x55)+(_0x2f72e8(_0x35b7e0)<<-0x235a+0x89b+-0xd6*-0x20)+_0x2f72e8(_0x42ac93);},_0x54f3a=this['getProp']('x'),_0x4e5c13=this['getProp']('y'),_0x207ca6=this['getProp']('z'),{min:_0xd05251,max:_0x582457}=_0x2f7407(_0x54f3a),{min:_0x312ac8,max:_0x31ec25}=_0x2f7407(_0x4e5c13),{min:_0x2bf2f9,max:_0x423ab5}=_0x2f7407(_0x207ca6),_0x3a556a=_0xd05251===_0x582457?-0x2*-0xd19+-0x11e9+0x2c3*-0x3:(-0x914+-0x18d2+0x7e*0x4d)/(_0x582457-_0xd05251),_0x59010d=_0x312ac8===_0x31ec25?0xc68+-0x9ef+-0x279:(-0x1b*0xa3+-0x9c3+0x1ef4)/(_0x31ec25-_0x312ac8),_0x2dc798=_0x2bf2f9===_0x423ab5?0x5*0xcd+-0x1a*0x94+0xb07:(0x215c+0xe01+-0x2b5d)/(_0x423ab5-_0x2bf2f9),_0x51d153=new Map();for(let _0x44f246=-0x1c56+0x80e*-0x4+0x3c8e;_0x44f246<this['numSplats'];_0x44f246++){const _0x469e99=Math['floor']((_0x54f3a[_0x44f246]-_0xd05251)*_0x3a556a),_0x101227=Math['floor']((_0x4e5c13[_0x44f246]-_0x312ac8)*_0x59010d),_0x1a3de9=Math['floor']((_0x207ca6[_0x44f246]-_0x2bf2f9)*_0x2dc798),_0x352ee8=_0x983bd(_0x469e99,_0x101227,_0x1a3de9),_0x1f81ea=_0x51d153['get'](_0x352ee8);_0x1f81ea?_0x1f81ea['push'](_0x44f246):_0x51d153['set'](_0x352ee8,[_0x44f246]);}const _0x12de92=Array['from'](_0x51d153['keys']())['sort']((_0x217ba9,_0x4902bc)=>_0x217ba9-_0x4902bc),_0x4f96f5=new Uint32Array(this['numSplats']);let _0x32700f=0xeb*0xe+0x1*0x38c+0x2*-0x833;for(let _0x32a0d9=-0x1a5b+0x1*-0x1861+0x2*0x195e;_0x32a0d9<_0x12de92['length'];++_0x32a0d9){const _0x35ec13=_0x51d153['get'](_0x12de92[_0x32a0d9]);for(let _0x456a07=0x234f*0x1+0x49d+-0x27ec;_0x456a07<_0x35ec13['length'];++_0x456a07)_0x4f96f5[_0x32700f++]=_0x35ec13[_0x456a07];}return _0x4f96f5;}['reorder'](_0x51e57d){const _0xf59e7a=new Map(),_0x2ec867=_0x6baffd=>{if(_0xf59e7a['has'](_0x6baffd)){const _0x295e0c=_0xf59e7a['get'](_0x6baffd);return _0xf59e7a['delete'](_0x6baffd),_0x295e0c;}return new ArrayBuffer(_0x6baffd);},_0x5c0fb7=_0x533401=>{_0xf59e7a['set'](_0x533401['byteLength'],_0x533401);},_0x337358=_0x15d585=>{const _0x38fcfc=new _0x15d585['constructo'+'r'](_0x2ec867(_0x15d585['byteLength']));for(let _0x1ebe98=0x806+0xa2d*-0x2+0xc54;_0x1ebe98<_0x51e57d['length'];_0x1ebe98++)_0x38fcfc[_0x1ebe98]=_0x15d585[_0x51e57d[_0x1ebe98]];return _0x5c0fb7(_0x15d585['buffer']),_0x38fcfc;};this['elements']['forEach'](_0x9c26b1=>{_0x9c26b1['properties']['forEach'](_0x161885=>{_0x161885['storage']&&(_0x161885['storage']=_0x337358(_0x161885['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const z0=(_0x5631c8={})=>{console['log']('____\x20ENGIN'+'E\x20IVAN','gsplat-mat'+'erial\x20crea'+'teGSplatMa'+'terial');const _0x3d1dc4=_0x5631c8['dither']??Rs,_0x53abe8=_0x3d1dc4!==Rs,_0x1591a7=new Ra({'uniqueName':'SplatMater'+'ial','vertexCode':_0x5631c8['vertex']??X['gsplatVS'],'fragmentCode':_0x5631c8['fragment']??X['gsplatPS'],'attributes':{'vertex_position':He,'vertex_id_attrib':ga}});return _0x1591a7['setDefine']('DITHER_'+_0x3d1dc4['toUpperCas'+'e'](),''),_0x1591a7['cull']=mt,_0x1591a7['blendType']=_0x53abe8?is:hr,_0x1591a7['depthWrite']=_0x53abe8,_0x1591a7['update'](),_0x1591a7;};async function z1(){self['onmessage']=async _0x38e132=>{const {data:_0x3f2a38}=_0x38e132;switch(_0x3f2a38['type']){case'initWorker':break;case'updateSHDa'+'ta':_0x5d8987(_0x3f2a38['numSplats'],_0x3f2a38['shBands'],_0x3f2a38['SHData']);break;}};const _0x5d8987=(_0x4a9b91,_0x448320,_0xd7d9fb)=>{const _0x13af26=new Uint32Array(_0x4a9b91*(-0x7bb*-0x1+0x1*-0x7b9+0x2*0x1)),_0x4a0ec3=new Uint32Array(_0x4a9b91*(0x1775*-0x1+-0x17*0x1af+-0x2*-0x1f19)),_0x3ac7fd=new Uint32Array(_0x4a9b91*(-0x12e0+0x5*-0x2b3+0x2063*0x1)),_0x1a610d=new Uint32Array(_0x4a9b91*(-0x128+-0x156c+0x1698)),_0x46a47b={0x1:0x3,0x2:0x8,0x3:0xf}[_0x448320],_0x4b91a7=_0xd7d9fb,_0x2a4d59=-0xc81+0x2099+0xa3*-0x13,_0x57d808=-0x19af+0x967+0x1447,_0x194161=new Float32Array(-0x950+0x23e9+-0x1a98),_0x207d06=new Uint32Array(_0x194161['buffer']),_0x4360a5=new Array(_0x46a47b*(-0x2364+-0x1b37+0x643*0xa))['fill'](-0x920+-0x12*0x63+-0x1d*-0x8e);for(let _0x329bf6=-0xfdf*0x1+-0xa3*0x29+0x29fa;_0x329bf6<_0x4a9b91;++_0x329bf6){for(let _0x525a66=-0x23ba*0x1+-0x25ac+0x24b3*0x2;_0x525a66<_0x46a47b;++_0x525a66)_0x4360a5[_0x525a66*(0x6*0xc3+0x394+0x823*-0x1)]=_0x4b91a7[_0x525a66][_0x329bf6],_0x4360a5[_0x525a66*(-0x2233+0x2a*-0xe+-0x2482*-0x1)+(0x20ea+0x2*0x50b+-0x2aff*0x1)]=_0x4b91a7[_0x525a66+_0x46a47b][_0x329bf6],_0x4360a5[_0x525a66*(-0xa*0x298+-0x1278*0x1+0x2c6b)+(-0x1237+-0x1*-0x1b23+-0xa3*0xe)]=_0x4b91a7[_0x525a66+_0x46a47b*(-0x19ab+0x21d4+0x1*-0x827)][_0x329bf6];let _0x29ba23=_0x4360a5[-0x94c+-0xd*-0x4b+-0x57d*-0x1];for(let _0x3c8ad=-0xae6+0x1d86+-0x3*0x635;_0x3c8ad<_0x46a47b*(0x1*0x1877+-0x837+-0x103d*0x1);++_0x3c8ad)_0x29ba23=Math['max'](_0x29ba23,Math['abs'](_0x4360a5[_0x3c8ad]));if(_0x29ba23!==0x175b+0x7a2*-0x2+-0x817){for(let _0x5d32f2=-0x18fd+0x2093+-0x796;_0x5d32f2<_0x46a47b;++_0x5d32f2)_0x4360a5[_0x5d32f2*(-0x1*-0x17f5+-0x1f9e+0x1*0x7ac)+(0xd*-0x1b8+0x3*-0x153+0x1a51)]=Math['max'](0x2*0x952+0x180c+0x2ab*-0x10,Math['min'](_0x2a4d59,Math['floor']((_0x4360a5[_0x5d32f2*(0x1974+0xa5e+-0x23cf)+(0xc5a+-0x11e1+0x587)]/_0x29ba23*(0x5a3*-0x3+-0x107*0x1b+0x2ca6+0.5)+(-0x1*-0x1439+0x1c59+0x2*-0x1849+0.5))*_0x2a4d59+(0x1*-0xfef+-0x28*-0x34+-0x1*-0x7cf+0.5)))),_0x4360a5[_0x5d32f2*(0x25fc+0x213c+0x1*-0x4735)+(-0x1581+0x216e+-0xbec)]=Math['max'](0x219b+0x1055+-0x31f0,Math['min'](_0x57d808,Math['floor']((_0x4360a5[_0x5d32f2*(-0x1*0x26b4+0x175b+0xf5c)+(0xccd+0x1*-0x1fb5+0x12e9)]/_0x29ba23*(-0x10bd*-0x2+-0x8dc+-0x189e+0.5)+(0x4cd+0x1b09+-0x1fd6+0.5))*_0x57d808+(0xf6e+-0x11*-0xe3+0x13*-0x19b+0.5)))),_0x4360a5[_0x5d32f2*(0x9ad*0x3+0x211b+0x9*-0x6e7)+(-0x73*-0x20+-0x473*0x1+-0x9eb)]=Math['max'](0x1*-0x1f48+-0x5a7*0x1+0x131*0x1f,Math['min'](_0x2a4d59,Math['floor']((_0x4360a5[_0x5d32f2*(-0x543*0x1+0x237a+-0x1e34)+(-0x355*0x9+-0x7a*0x23+0x2ead)]/_0x29ba23*(-0x24e7+0x122*0x13+0xf61+0.5)+(-0x11ca+-0x174f+0x2919+0.5))*_0x2a4d59+(-0x24e6*0x1+0x1*0x143d+0x10a9+0.5))));_0x194161[0x2510*0x1+-0x199c+-0xb74]=_0x29ba23,_0x13af26[_0x329bf6*(-0xa65+-0x1ae2+0x254b)+(-0x1e*0x137+-0x1*-0x1e07+0x66b)]=_0x207d06[0x1ede+-0x1ae8+0xd*-0x4e],_0x13af26[_0x329bf6*(0x195f+0x234a+-0x3ca5)+(-0x2*0xc23+0xd01*0x3+0x3af*-0x4)]=_0x4360a5[0x103b+-0x40*-0x5c+0x391*-0xb]<<-0x482*0x2+0x63a+0x7*0x69|_0x4360a5[-0xb01+-0x1165+-0x1*-0x1c67]<<-0x1fc8+-0x155c+0x185*0x23|_0x4360a5[-0xae4+-0x10e6+-0xc*-0x251],_0x13af26[_0x329bf6*(-0x2593+0x11b6+-0x13e1*-0x1)+(-0x1*-0xb20+-0x1d6d*0x1+-0x124f*-0x1)]=_0x4360a5[-0x1d55*-0x1+0xcc0+-0x2a12]<<0x19ce+0x2*0x2a3+-0x1eff|_0x4360a5[-0xd54+0x2*-0x247+0x11e6]<<-0x136d+0x18b3+0x53b*-0x1|_0x4360a5[-0x410+0x1*0x581+-0x16c],_0x13af26[_0x329bf6*(-0xa*0x2fb+-0x25*-0x10d+-0x90f)+(-0x2344+0x2f6*0x8+0xb97)]=_0x4360a5[-0x1a39+0x226a+0x3*-0x2b9]<<-0x23*-0x52+-0x2*0x1231+-0x1af*-0xf|_0x4360a5[-0x16*-0x2+-0x26d7+0x26b2]<<-0x221b+-0x1*-0x2396+-0x170|_0x4360a5[-0x5f3*0x2+0x661+-0x7*-0xcb],_0x448320>-0x1639+0x1dba+-0x78*0x10&&(_0x4a0ec3[_0x329bf6*(-0x577*-0x3+-0xa46+0x1*-0x61b)+(0x1f00+-0x2*-0xc07+-0x51*0xae)]=_0x4360a5[0x7*0x7c+0x12ad+0x758*-0x3]<<0x1cf7+-0x1403+-0x8df|_0x4360a5[0x12ad*-0x1+-0x1689+0x2940]<<0x1d84+-0x264*-0x3+-0x24a5|_0x4360a5[-0x15d7+-0x2*-0x105+0x13d8],_0x4a0ec3[_0x329bf6*(0xab*0x25+0xfe2*0x1+-0xd87*0x3)+(0x2*0x1247+0x2*-0x1283+0x79)]=_0x4360a5[-0x62d*-0x1+-0xc64+0x643]<<0x6d5+0x689*0x3+-0x1*0x1a5b|_0x4360a5[-0x6aa+0x87a+0x1c3*-0x1]<<0xc1b*-0x3+-0x1*0x523+0x297f|_0x4360a5[0x1*-0x24f2+-0x1*0x20f1+0x5*0xdfd],_0x4a0ec3[_0x329bf6*(-0x1529+-0x19bb+-0x9e*-0x4c)+(-0x10da+0x2145+-0x1069)]=_0x4360a5[-0x1069*0x1+0x7*0x55f+0x1*-0x1521]<<-0x337+0xb5*-0x37+0x2a2f*0x1|_0x4360a5[-0x122d+-0xf20*-0x1+0x31d*0x1]<<0x12e4+0x22f*0xe+0x316b*-0x1|_0x4360a5[0xe21+-0x1*-0x9a9+0x1*-0x17b9],_0x4a0ec3[_0x329bf6*(-0x1bcc+-0x2075+0x8b*0x6f)+(-0x1aba+-0x1*0x2be+0x1d7b)]=_0x4360a5[0x3af+0x8f2+-0xc8f]<<-0x2d*0x8f+0x1a56*-0x1+0x19c7*0x2|_0x4360a5[-0x12a*0x15+0x1309*0x1+-0xc*-0x75]<<-0x1*-0x4cf+-0x102*0x10+0x1*0xb5c|_0x4360a5[-0x1e6c+-0x3*-0x5f8+-0xc98*-0x1],_0x448320>0x2113*-0x1+0x79e+0x9f*0x29?(_0x3ac7fd[_0x329bf6*(-0x3cb*-0xa+-0x207+-0x1*0x23e3)+(0x2237+0xd7a+0x1*-0x2fb1)]=_0x4360a5[0xd1*-0x26+0x1*0x577+0x19a4]<<-0x89c+-0x15*0x5f+-0x1*-0x107c|_0x4360a5[-0x1abb*-0x1+-0x4f*-0x47+-0x308e]<<0x1552*0x1+-0x249c+0x5*0x311|_0x4360a5[0x1583*-0x1+0xbf*-0x1+0x773*0x3],_0x3ac7fd[_0x329bf6*(0x11*-0x203+-0x8fc*0x1+0x2b33)+(0x1*0x1f4c+0x51*0xf+0x1*-0x240a)]=_0x4360a5[-0xb2b+0x11*0x24b+-0x4*0x6ee]<<0x2396+0x2*0x46+-0xb*0x347|_0x4360a5[-0x337*0x7+0x15f2+0x2*0x54]<<0x627+-0xa81+0x465|_0x4360a5[-0x24ae*0x1+0x33b*0x3+0x16d*0x13],_0x3ac7fd[_0x329bf6*(0x49*-0x86+0x2e*0x7+0x24f8)+(-0x3*0x612+-0x5be+-0x1*-0x17f6)]=_0x4360a5[0x1*0x1f7+0x1298+-0x1474]<<0x2*0x178+-0x1d56+0x1a7b*0x1|_0x4360a5[-0x21*-0x6d+-0x3*-0x847+-0x26c6]<<0x1*0x1521+-0x1*-0xa31+-0x1d7*0x11|_0x4360a5[-0x2229+-0x3f9*0x3+-0x19*-0x1d9],_0x3ac7fd[_0x329bf6*(0x1*0xb2d+0xd1d+-0x2*0xc23)+(-0x50*0x49+-0x230b+0x39de)]=_0x4360a5[0x9*-0x342+-0x4de*0x5+0x35c6]<<-0x5fa+-0x1d2a+0x2339|_0x4360a5[-0x4c7+-0x13b6+0x2*0xc4e]<<-0x5*-0x5f3+0x4b*0x9+-0x2057|_0x4360a5[0x25a2+0x15*-0x28+-0x223a],_0x1a610d[_0x329bf6*(-0x22d2*0x1+0xb*0x5c+-0x3b*-0x86)+(0x3*-0x5d5+-0x2064+0x31e3)]=_0x4360a5[-0x1600+0x2a2*0x8+0x111]<<-0x1f4a+-0xa0*0xf+0xb7*0x39|_0x4360a5[-0xd95+0x1a0a+-0x277*0x5]<<-0xa0f+0x2311+-0x18f7|_0x4360a5[-0x6*-0x116+0x1a9a+-0x20fb],_0x1a610d[_0x329bf6*(0x1272+-0xe50+-0x11*0x3e)+(0xed1*-0x1+-0xf*-0x65+0x8e7)]=_0x4360a5[-0x1aaf+0x1c46+-0x173]<<-0xa72+-0x2*0x4e1+0x3*0x6c3|_0x4360a5[-0x7*-0x374+0x573+-0x1d7a]<<-0x26a1+0x1a69+0xc43|_0x4360a5[0x17a8*-0x1+-0x25ac+-0x7a*-0x81],_0x1a610d[_0x329bf6*(-0x1870*0x1+-0x7c6+0x203a)+(-0x222b+0x21e6+0x47*0x1)]=_0x4360a5[-0x29*-0xe9+-0x974+-0x1bb6]<<-0x1c56+0xb50+0x1d*0x97|_0x4360a5[-0x1e9e+-0x1f*0x95+0x30d1]<<0x65*0x4c+-0x201b+0x22a*0x1|_0x4360a5[-0x157*0x15+0x1878+0xa*0x62],_0x1a610d[_0x329bf6*(0xbf*0x13+-0x4b2+-0x977)+(0x1471+-0x1*-0x24d9+-0x155*0x2b)]=_0x4360a5[-0x193b+-0x1cd*0x4+0x2099]<<-0x639*-0x3+0x9cc+-0xe31*0x2|_0x4360a5[-0xa8d+0x175c+0x652*-0x2]<<-0x1e71+-0x19b8+-0xda*-0x42|_0x4360a5[-0xed*-0x4+-0xbeb+0x13*0x71]):_0x3ac7fd[_0x329bf6]=_0x4360a5[-0x251b+-0xa9d+-0x2fcd*-0x1]<<0x19b8*0x1+-0x11b*0x1f+0x41*0x22|_0x4360a5[-0x11ba*-0x1+-0x2a3+-0xf01]<<-0xc+-0x13a2+0xbb*0x1b|_0x4360a5[0x9ad+-0x1*-0x1ac1+-0x1*0x2457]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata','sh1to3Data':_0x13af26,'sh4to7Data':_0x4a0ec3,'sh8to11Data':_0x3ac7fd,'sh12to15Data':_0x1a610d},[_0x13af26['buffer'],_0x4a0ec3['buffer'],_0x3ac7fd['buffer'],_0x1a610d['buffer']]);};}class U1 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+z1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x21b971=>{if(!this['worker'])return;const {data:_0x5738ac}=_0x21b971;switch(_0x5738ac['type']){case'updatedSHD'+'ata':this['fire']('updatedSHD'+'ata',_0x5738ac['sh1to3Data'],_0x5738ac['sh4to7Data'],_0x5738ac['sh8to11Dat'+'a'],_0x5738ac['sh12to15Da'+'ta']);break;}};}['updateSHDa'+'ta'](_0x1992a5,_0x14bbeb,_0x220368){var _0x914da2;(_0x914da2=this['worker'])==null||_0x914da2['postMessag'+'e']({'type':'updateSHDa'+'ta','numSplats':_0x1992a5,'shBands':_0x14bbeb,'SHData':_0x220368});}['destroy'](){var _0x219c36;this['worker']&&((_0x219c36=this['worker'])==null||_0x219c36['terminate'](),this['worker']=null);}}const U_=(_0x3a1d78,_0x3bff51)=>{const _0x1aabce=[];for(let _0x435444=0x47*-0x4+-0x108e+0x26*0x77;_0x435444<_0x3bff51;++_0x435444)_0x1aabce['push'](_0x3a1d78['getProp']('f_rest_'+_0x435444));return _0x1aabce;};class V1{constructor(_0x22df47,_0x4eb992){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'timeOption'),c(this,'centers'),c(this,'muT'),c(this,'tScale'),c(this,'motion'),c(this,'timeIndex'),c(this,'aabb'),c(this,'colorTextu'+'re'),c(this,'transformA'+'Texture'),c(this,'transformB'+'Texture'),c(this,'transformR'+'Texture'),c(this,'transformT'+'SpeedTextu'+'re'),c(this,'transformT'+'Texture'),c(this,'is4D'),c(this,'shBands'),c(this,'sh1to3Text'+'ure'),c(this,'sh4to7Text'+'ure'),c(this,'sh8to11Tex'+'ture'),c(this,'sh12to15Te'+'xture'),c(this,'updateData'+'Worker'),console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat');const _0x97f66b=_0x4eb992['numSplats'];this['device']=_0x22df47,this['numSplats']=_0x97f66b,this['numSplatsV'+'isible']=_0x97f66b,this['updateData'+'Worker']=new U1(),this['centers']=new Float32Array(_0x4eb992['numSplats']*(0x16f8+-0x2a9+0x513*-0x4)),this['motion']=new Float32Array(_0x4eb992['numSplats']*(-0x14d5*0x1+-0x7c4+0x1c9c)),this['timeIndex']=new Float32Array(_0x4eb992['numSplats']),_0x4eb992['getCenters'](this['centers']),_0x4eb992['getMotion'](this['motion']),_0x4eb992['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x4eb992['getMuT'](this['timeOption']),this['tScale']=_0x4eb992['getTScale'](),this['is4D']=_0x4eb992['is4D'],this['aabb']=new _e(),_0x4eb992['calcAabb'](this['aabb']);const _0x470494=this['evalTextur'+'eSize'](_0x97f66b);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x470494),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x470494),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x470494),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x470494),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x470494),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x470494)),this['updateColo'+'rData'](_0x4eb992),this['updateTran'+'sformData'](_0x4eb992),this['shBands']=_0x4eb992['shBands'],this['shBands']>0x1837+-0x1c69+-0x2*-0x219&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x470494),this['shBands']>-0x1153*-0x1+-0xe75*0x1+-0x2dd&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x470494),this['shBands']>0x1*0x791+-0x727*-0x5+-0x2b52?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x470494),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x470494)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x470494)),this['updateSHDa'+'ta'](_0x4eb992));}['updateData'](_0x925d1c){console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplat');const _0x208b52=_0x925d1c['numSplats'];this['numSplats']=_0x208b52,this['numSplatsV'+'isible']=_0x208b52,this['centers']=new Float32Array(_0x925d1c['numSplats']*(-0x270f+-0x209d+0x47af)),this['motion']=new Float32Array(_0x925d1c['numSplats']*(-0x4e3+-0xf3b+-0x1*-0x1421)),this['timeIndex']=new Float32Array(_0x925d1c['numSplats']),_0x925d1c['getCenters'](this['centers']),_0x925d1c['getMotion'](this['motion']),_0x925d1c['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x925d1c['getMuT'](this['timeOption']),this['tScale']=_0x925d1c['getTScale'](),this['is4D']=_0x925d1c['is4D'],this['aabb']=new _e(),_0x925d1c['calcAabb'](this['aabb']);const _0x29def6=this['evalTextur'+'eSize'](_0x208b52);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x29def6),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x29def6),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x29def6),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x29def6),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x29def6),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x29def6)),this['updateColo'+'rData'](_0x925d1c),this['updateTran'+'sformData'](_0x925d1c),this['shBands']=_0x925d1c['shBands'],this['shBands']>0x1307+-0x88*0x28+0x239&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x29def6),this['shBands']>0xc8c+-0x63c+-0x64f&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x29def6),this['shBands']>0x1ad+-0x11e7+0x1*0x103c?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x29def6),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x29def6)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x29def6)),this['updateSHDa'+'ta'](_0x925d1c));}['destroy'](){var _0x2cdae4,_0x3806e2,_0x154f67,_0x166e8c,_0x27c66e,_0x60dbd4,_0x52ef5e,_0x55e963,_0x3f8242,_0x5064a1;(_0x2cdae4=this['colorTextu'+'re'])==null||_0x2cdae4['destroy'](),(_0x3806e2=this['transformA'+'Texture'])==null||_0x3806e2['destroy'](),(_0x154f67=this['transformB'+'Texture'])==null||_0x154f67['destroy'](),(_0x166e8c=this['transformR'+'Texture'])==null||_0x166e8c['destroy'](),(_0x27c66e=this['transformT'+'SpeedTextu'+'re'])==null||_0x27c66e['destroy'](),(_0x60dbd4=this['transformT'+'Texture'])==null||_0x60dbd4['destroy'](),(_0x52ef5e=this['sh1to3Text'+'ure'])==null||_0x52ef5e['destroy'](),(_0x55e963=this['sh4to7Text'+'ure'])==null||_0x55e963['destroy'](),(_0x3f8242=this['sh8to11Tex'+'ture'])==null||_0x3f8242['destroy'](),(_0x5064a1=this['sh12to15Te'+'xture'])==null||_0x5064a1['destroy']();}['createMate'+'rial'](_0x3855d1){console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.cre'+'ateMateria'+'l');const _0x5e8010=z0(_0x3855d1);return _0x5e8010['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x5e8010['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x5e8010['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x5e8010['setParamet'+'er']('transformR',this['transformR'+'Texture']),this['transformT'+'SpeedTextu'+'re']&&_0x5e8010['setParamet'+'er']('transformT'+'Speed',this['transformT'+'SpeedTextu'+'re']),this['transformT'+'Texture']&&_0x5e8010['setParamet'+'er']('transformT',this['transformT'+'Texture']),_0x5e8010['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x5e8010['setDefine']('SH_BANDS',this['shBands']),_0x5e8010['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x5e8010['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x5e8010['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x5e8010['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x5e8010['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']),_0x5e8010;}['evalTextur'+'eSize'](_0xee0187){const _0xb0c09a=Math['ceil'](Math['sqrt'](_0xee0187)),_0x102cbb=Math['ceil'](_0xee0187/_0xb0c09a);return new W(_0xb0c09a,_0x102cbb);}['createText'+'ure'](_0x3362a0,_0x4aa5ee,_0x58863d){return new he(this['device'],{'name':_0x3362a0,'width':_0x58863d['x'],'height':_0x58863d['y'],'format':_0x4aa5ee,'cubemap':!(0x1*0x20f0+0x13e*-0x1d+0x317),'mipmaps':!(-0x386+0x1176+-0xdef),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['updateColo'+'rData'](_0x376322){console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x488738=this['colorTextu'+'re'];if(!_0x488738)return;const _0xebfcf3=Wt['float2Half'],_0x5db131=_0x488738['lock'](),_0x26b3b5=_0x376322['getProp']('f_dc_0'),_0x44bc34=_0x376322['getProp']('f_dc_1'),_0x7b46b5=_0x376322['getProp']('f_dc_2'),_0x4e45f2=_0x376322['getProp']('opacity'),_0x170227=0x267a+-0x1*-0x1d69+-0x43e3*0x1+0.28209479177387814;for(let _0x4f9bc4=-0x2095+-0x6*0x615+0x4513;_0x4f9bc4<this['numSplats'];++_0x4f9bc4){const _0x357084=_0x26b3b5[_0x4f9bc4]*_0x170227+(0x1*0xc3d+0xabd+-0x16fa+0.5),_0x5d4983=_0x44bc34[_0x4f9bc4]*_0x170227+(0x232*-0xb+0x3*-0x97b+-0x1*-0x3497+0.5),_0x3eb9fd=_0x7b46b5[_0x4f9bc4]*_0x170227+(-0x3*-0x39f+-0x148*-0x11+-0x20a5+0.5),_0x3f3db3=(-0x151*0x17+-0x161b+0x3463)/(0x148a+0x24dd+-0x3966+Math['exp'](-_0x4e45f2[_0x4f9bc4]));_0x5db131[_0x4f9bc4*(0x4cc*-0x6+-0x23e*0xb+0x3*0x11d2)+(-0x1c15+-0x7*-0x1ad+-0xe*-0x12b)]=_0xebfcf3(_0x357084),_0x5db131[_0x4f9bc4*(0x1a88+0x1*0x359+-0x1ddd)+(-0x2357+0xa*-0x38b+0x46c6)]=_0xebfcf3(_0x5d4983),_0x5db131[_0x4f9bc4*(0x591+-0x14*0x191+-0x19c7*-0x1)+(-0x1462+0x12ed+0x177)]=_0xebfcf3(_0x3eb9fd),_0x5db131[_0x4f9bc4*(0x1f55+0x3*-0x77c+-0x8dd)+(0x22d4+0x266e+-0x493f)]=_0xebfcf3(_0x3f3db3);}_0x488738['unlock']();}['updateTran'+'sformData'](_0x2da170){var _0x18f467,_0x38d30a,_0x468dc1,_0x141033;console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData');const _0x5cf12e=Wt['float2Half'];if(!this['transformA'+'Texture'])return;const _0x2ae0fb=this['transformA'+'Texture']['lock'](),_0x1161aa=new Float32Array(_0x2ae0fb['buffer']),_0x5a43c9=this['transformR'+'Texture']['lock'](),_0x5d6ee7=new Float32Array(_0x5a43c9['buffer']),_0x33217e=this['transformB'+'Texture']['lock'](),_0x33c435=(_0x18f467=this['transformT'+'SpeedTextu'+'re'])==null?void(-0x1f7f+0x1*0x15f3+0x98c*0x1):_0x18f467['lock']();let _0x11a829;_0x33c435&&(_0x11a829=new Float32Array(_0x33c435['buffer']));const _0x204485=(_0x38d30a=this['transformT'+'Texture'])==null?void(0x1d0+0x11c+-0x2ec):_0x38d30a['lock']();let _0x3b1552;_0x204485&&(_0x3b1552=new Float32Array(_0x204485['buffer']));const _0x32ed38=new T(),_0xfb94e6=new se(),_0x3d9d79=new T(),_0x2a49dc=new T(),_0x34df68=_0x2da170['createIter'](_0x32ed38,_0xfb94e6,_0x3d9d79,null,_0x2a49dc),_0x1d8fcf=_0x2da170['getProp']('t'),_0x237645=_0x2da170['getProp']('t_scale');for(let _0x12f9c8=-0xe4e+0x1*-0x8e+-0x4f4*-0x3;_0x12f9c8<this['numSplats'];_0x12f9c8++)_0x34df68['read'](_0x12f9c8),_0xfb94e6['normalize'](),_0xfb94e6['w']<0x112+-0x69b+0x1*0x589&&_0xfb94e6['mulScalar'](-(-0xbff*-0x2+0x1bd8+-0x33d5)),_0x1161aa[_0x12f9c8*(0xc8*-0x32+0x1914+-0x40*-0x38)+(-0xf*-0x13c+-0x10*-0x95+-0x1bd4)]=_0x32ed38['x'],_0x1161aa[_0x12f9c8*(0x3*0x53d+-0x1*0x22d9+0x1326)+(-0x1021+-0x5c0+0xaf1*0x2)]=_0x32ed38['y'],_0x1161aa[_0x12f9c8*(0x2598+0x545+-0x2ad9)+(0x2*-0x26d+-0x49*0x25+0xf69)]=_0x32ed38['z'],_0x33217e[_0x12f9c8*(-0x679+-0xbf7*0x1+0x1274)+(0x883+-0x5d*0x28+0x605*0x1)]=_0x5cf12e(_0x3d9d79['x']),_0x33217e[_0x12f9c8*(-0xf5*0x1f+0x9da+0x13d5)+(0x1c38+-0xc85+-0x23e*0x7)]=_0x5cf12e(_0x3d9d79['y']),_0x33217e[_0x12f9c8*(0x8d1*0x3+0x1*-0x79f+-0x12d0)+(-0x92b*0x1+-0x48c*-0x1+0x4a1)]=_0x5cf12e(_0x3d9d79['z']),_0x5d6ee7[_0x12f9c8*(0x34*-0xae+0x2691+0x335*-0x1)+(0x801*-0x2+0x13*-0x13+0x31*0x5b)]=_0xfb94e6['x'],_0x5d6ee7[_0x12f9c8*(0x1edc+-0x1*0x1bcc+-0x30c)+(-0x16d*-0x1a+0x16dc+-0x29b*0x17)]=_0xfb94e6['y'],_0x5d6ee7[_0x12f9c8*(-0x942+-0x85+0x9cb)+(-0xd7d+0x2*0x1f3+0x9*0x111)]=_0xfb94e6['z'],this['is4D']&&_0x11a829&&_0x3b1552&&(_0x11a829[_0x12f9c8*(-0xcea+0x199*-0xd+0x21b3)+(0x1*-0x83f+0x2643*-0x1+0x2e82*0x1)]=_0x2a49dc['x'],_0x11a829[_0x12f9c8*(-0x192f+0xd4e+0xbe5)+(-0xdd5*0x2+-0x19*0x1c+0xb5*0x2b)]=_0x2a49dc['y'],_0x11a829[_0x12f9c8*(0x8*0x194+-0x9b+-0x7*0x1b7)+(-0x98d+-0x11c+0xaab)]=_0x2a49dc['z'],_0x3b1552[_0x12f9c8*(-0x8*0x23+0x4*0x1f+0x28*0x4)+(0x9*-0x2ea+0x17*0x58+0x1252)]=_0x1d8fcf?_0x1d8fcf[_0x12f9c8]:-0x2*-0xb16+-0x183+-0x14a9,_0x3b1552[_0x12f9c8*(-0x1*-0x1e89+-0x1573+-0x1b*0x56)+(0x2*-0x58a+-0x1*0x1149+0x1c5e)]=_0x237645?Math['exp'](_0x237645[_0x12f9c8]):0xfc1+0x1375*-0x1+0x3b4);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x468dc1=this['transformT'+'SpeedTextu'+'re'])==null||_0x468dc1['unlock'](),(_0x141033=this['transformT'+'Texture'])==null||_0x141033['unlock']();}['updateSHDa'+'ta'](_0x371260){var _0x11b697,_0x1c6292,_0x241fff,_0x4751e8,_0x2cb869,_0x4c8b27,_0x536638;console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta');const _0x52d81e=(_0x11b697=this['sh1to3Text'+'ure'])==null?void(0xc9a+0x2654+-0x2*0x1977):_0x11b697['lock'](),_0x23e9b2=(_0x1c6292=this['sh4to7Text'+'ure'])==null?void(0x4c7+-0x1947+-0x52*-0x40):_0x1c6292['lock'](),_0x45b2d7=(_0x241fff=this['sh8to11Tex'+'ture'])==null?void(-0x1d7c+0x3f8*0x5+-0x269*-0x4):_0x241fff['lock'](),_0x45b207=(_0x4751e8=this['sh12to15Te'+'xture'])==null?void(0xdcb+-0x1*-0x121+0x1*-0xeec):_0x4751e8['lock'](),_0x4fa645={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x2afad9=U_(_0x371260,_0x4fa645*(-0x1222+-0x674+0x3*0x833)),_0x1e9f4b=-0x14da+0xc6a+0x106f,_0x2bf38b=-0x5b6+-0x148e+-0x3d*-0x7f,_0x29bf39=new Float32Array(0x244a+-0x3*0xb49+-0x26e),_0x59123d=new Uint32Array(_0x29bf39['buffer']),_0x2d6d8a=new Array(_0x4fa645*(0x23ba+-0x823*-0x1+-0x2bda))['fill'](0x1b20+0x24e7+-0x4007*0x1);for(let _0xcc1fec=-0x3*0x86e+0x77*0x2+0x2*0xc2e;_0xcc1fec<_0x371260['numSplats'];++_0xcc1fec){for(let _0x6fa7d9=-0x240+0x71b+-0x4db;_0x6fa7d9<_0x4fa645;++_0x6fa7d9)_0x2d6d8a[_0x6fa7d9*(0x1f9a+-0x69*0xb+-0x1b14)]=_0x2afad9[_0x6fa7d9][_0xcc1fec],_0x2d6d8a[_0x6fa7d9*(0x1bef+-0x1*-0x13bb+-0x2fa7)+(0x1ede+-0x5eb*0x6+0x4a5)]=_0x2afad9[_0x6fa7d9+_0x4fa645][_0xcc1fec],_0x2d6d8a[_0x6fa7d9*(-0x452*-0x2+-0x2029*0x1+0x2*0xbc4)+(-0x12eb+0x243c+-0x114f)]=_0x2afad9[_0x6fa7d9+_0x4fa645*(0xb64+-0x1*0x1cf+-0x993*0x1)][_0xcc1fec];let _0x71d728=_0x2d6d8a[-0x2612+0x76*0x9+0x21ec];for(let _0x16556f=0x1538*-0x1+-0x162e+-0x29*-0x10f;_0x16556f<_0x4fa645*(-0x1be8+0x4*0x1e8+0x144b);++_0x16556f)_0x71d728=Math['max'](_0x71d728,Math['abs'](_0x2d6d8a[_0x16556f]));if(_0x71d728!==-0x238c+0x131+0x225b){for(let _0x3a1d9f=-0x1*0x989+0x1652*0x1+-0xcc9;_0x3a1d9f<_0x4fa645;++_0x3a1d9f)_0x2d6d8a[_0x3a1d9f*(0x15ed*-0x1+-0x1799*-0x1+-0x1a9)+(-0x1735+-0x1b0c+0x3241)]=Math['max'](0x15fa+0x11bf+-0x27b9,Math['min'](_0x1e9f4b,Math['floor']((_0x2d6d8a[_0x3a1d9f*(0x1bf9+-0x16f6+-0x50*0x10)+(0x1794+0x1*0xb89+0x1*-0x231d)]/_0x71d728*(0x550+0x2650*-0x1+0x2100+0.5)+(-0x6*-0x5d5+-0xd5f*-0x1+-0x3*0x101f+0.5))*_0x1e9f4b+(0xdd*-0x1+0x6ae+-0x1*0x5d1+0.5)))),_0x2d6d8a[_0x3a1d9f*(0x5*0x4e7+-0x11d2+-0x6ae)+(0x7bb*0x3+0x2aa*-0x2+0x7f*-0x24)]=Math['max'](0x25*-0x1e+0xd23+0x2ef*-0x3,Math['min'](_0x2bf38b,Math['floor']((_0x2d6d8a[_0x3a1d9f*(0x26d*0xd+0x1379+-0x32ff)+(0x146+0x1554+-0x1699)]/_0x71d728*(0x784+-0x335*-0x5+-0x178d+0.5)+(-0x7*-0x2a4+-0x2583+0x1307+0.5))*_0x2bf38b+(0x9c4+-0x65f+-0x365+0.5)))),_0x2d6d8a[_0x3a1d9f*(-0x885+0xa5c+-0x1a*0x12)+(0x1be1+0x1cb4+-0x3893)]=Math['max'](0x5d*-0x3f+-0x16f7+-0x2dda*-0x1,Math['min'](_0x1e9f4b,Math['floor']((_0x2d6d8a[_0x3a1d9f*(-0x961+-0xbdd+0x1541*0x1)+(0x12b+-0x7f0*-0x2+0x59*-0x31)]/_0x71d728*(0xb10+-0x20*-0x27+-0xaa*0x18+0.5)+(-0x1453+-0x2a*0xeb+0x3ae1*0x1+0.5))*_0x1e9f4b+(0x1fa1+-0x19*0x18b+-0x1*-0x6f2+0.5))));_0x29bf39[-0x1adc+-0x52*0x15+-0x6*-0x599]=_0x71d728,_0x52d81e[_0xcc1fec*(0x10a5+-0x57b+0x2*-0x593)+(-0x1dc0+0x17*0xda+0xa2a)]=_0x59123d[-0xb31*-0x2+-0x27c+0x3*-0x6a2],_0x52d81e[_0xcc1fec*(0x2527+0x2520+-0x4a43)+(-0x1830+0x3*-0x117+0xbe*0x25)]=_0x2d6d8a[0x43f*-0x1+0xc82+-0x843]<<-0x626*-0x2+0x5e+-0xc95|_0x2d6d8a[0x12ab+-0x84a+0xa6*-0x10]<<0x15ac+0x78b+-0x1d2c|_0x2d6d8a[0x90f+0xa3b+-0x1348],_0x52d81e[_0xcc1fec*(-0x16a+-0x875+-0x1*-0x9e3)+(0x10a6+-0x1de0+0xd3c*0x1)]=_0x2d6d8a[-0x3bb+-0x5*0x31b+0x1345]<<0x689*-0x1+0x74b+0x1*-0xad|_0x2d6d8a[0x1cd*0xe+-0x281*-0x6+-0x2838]<<0x129f+-0x6*-0x1c9+-0x1d4a|_0x2d6d8a[0xf1*0x1+-0x2a8*0x5+0xc5c],_0x52d81e[_0xcc1fec*(-0x26a9+0x3b9+0x22f4)+(-0x1b*0x101+-0x890+0x23ae*0x1)]=_0x2d6d8a[0x2*0x89e+-0x2635+0x433*0x5]<<-0x52*-0x1+-0x2*-0x677+-0xd2b|_0x2d6d8a[-0xb8c+0x25f1+0x87*-0x32]<<0x1f18+0x1609+-0xa9e*0x5|_0x2d6d8a[0x8b1*0x1+0x116e+-0x1a17*0x1],this['shBands']>0xb2*0x17+0x1401*-0x1+0x404&&(_0x23e9b2[_0xcc1fec*(-0xa48+-0x11e8+0x1c34)+(0x1d86+-0xfd*0x25+-0x3*-0x259)]=_0x2d6d8a[0x1*-0x17c3+0xeb2+0x91a]<<-0x52d*-0x1+0x4*0x7de+-0x9c*0x3c|_0x2d6d8a[-0x661*0x3+0x199d+-0x10*0x67]<<0x1b53+-0x4b*0x7b+0x8c1|_0x2d6d8a[-0x1cf9+0x21eb+0x4e7*-0x1],_0x23e9b2[_0xcc1fec*(-0x4*0x89f+0x1377+-0x503*-0x3)+(-0x5*0x72d+0x1eb+0x21f7)]=_0x2d6d8a[-0x40c+-0x1911+0x1d29*0x1]<<0xa2+-0x20c6+0x2039|_0x2d6d8a[0xb*-0x1e7+0x1f6*0xe+-0x67a]<<-0x48*-0x2b+0x17*-0x133+0xf88|_0x2d6d8a[-0x761*0x1+0xf9c+0x82d*-0x1],_0x23e9b2[_0xcc1fec*(-0x229e+0x1*-0x26c9+-0x7*-0xa7d)+(0x21d9+-0x2411+0x23a)]=_0x2d6d8a[0x185*-0x16+0x69b+0x1ae2]<<0x1689+0x866+-0x1*0x1eda|_0x2d6d8a[-0x18f3+0x1*-0x64d+0x4*0x7d4]<<-0x1a4f+-0x10b0+0x2b0a|_0x2d6d8a[0x40f+0xfdd+-0x13db],_0x23e9b2[_0xcc1fec*(0x1*0xda6+-0x14bc+0xca*0x9)+(0xf37*0x1+-0x856+-0x6de)]=_0x2d6d8a[0x66f+0xa73*0x2+-0x1*0x1b43]<<0x9af*0x1+-0x631*-0x4+-0x225e|_0x2d6d8a[-0x1c0a+-0x2353*0x1+0x3f70]<<-0x67+-0xe5*0x1+-0x1*-0x157|_0x2d6d8a[0x54a*-0x1+0xd0f+-0x7b1],this['shBands']>-0x223b*0x1+-0x2c5*-0x5+-0x1e*-0xae?(_0x45b2d7[_0xcc1fec*(0x21f5+0x99b*-0x2+-0x9*0x1a3)+(-0x1*0x20cc+0x16ff+0x9cd)]=_0x2d6d8a[0x1691*-0x1+0x1*-0x43+0x16e9]<<-0x1246+-0x1b9a+0x2df5|_0x2d6d8a[-0x2*-0x8e6+0x201c+0xe*-0x38f]<<0x174e+-0x227d*0x1+0xb3a|_0x2d6d8a[-0x6bf+0x1e62*0x1+-0x178c],_0x45b2d7[_0xcc1fec*(-0x27b*-0x2+-0x913+0x421)+(-0x1ca6*-0x1+0x91b+0x25c0*-0x1)]=_0x2d6d8a[0x1*0x268f+0x10ec+0xb*-0x509]<<-0x229*0xe+0x1d7b*-0x1+0x3bce|_0x2d6d8a[-0x5*0x6a1+-0x5ab*-0x5+-0x5*-0xfb]<<0x26*-0x71+-0xdf*-0xd+0x2bf*0x2|_0x2d6d8a[-0xdb4+-0x389*-0xa+0x4*-0x563],_0x45b2d7[_0xcc1fec*(0x125*0x11+0x65*0x55+0x34fa*-0x1)+(-0xd*-0x1e3+0x52f*0x1+0xeda*-0x2)]=_0x2d6d8a[0x1b13+0x121d+-0x2d15]<<-0x49*0x79+0x739*0x3+0xceb|_0x2d6d8a[0x6fd+-0x6f4+0x13*0x1]<<0x16bd+-0x66c+-0x1046|_0x2d6d8a[-0xee*0x1f+-0x17c7+0x34b6],_0x45b2d7[_0xcc1fec*(0x13c+0x137c*0x2+-0x2830)+(-0xd91+-0x3*-0x56+0xc92)]=_0x2d6d8a[-0xfb9+0xf74+0xb*0x9]<<-0x10ba+0xd6f+-0x2*-0x1b0|_0x2d6d8a[0x6a+0x1*0x1be3+-0x1c2e*0x1]<<-0x1de6+0x11*-0x33+0x855*0x4|_0x2d6d8a[0x1c19+-0x244f+-0x1*-0x856],_0x45b207[_0xcc1fec*(-0x593*-0x7+-0x1d4b+-0x9b6)+(0x1*0xc68+-0x1*-0x1836+0x2b*-0xda)]=_0x2d6d8a[0xef*-0x1+0x1b29+-0x1a19*0x1]<<0x5c6*0x4+-0x9e8*-0x1+-0x35*0x9f|_0x2d6d8a[-0xda*0x1+-0x485*-0x6+-0x1a22]<<-0x5df+-0x1495+-0x15*-0x143|_0x2d6d8a[0x1e8a+0x1272+-0x30d9],_0x45b207[_0xcc1fec*(-0x1*-0x778+-0xadb+0x367)+(0x2*-0x242+-0x249b+0x2920)]=_0x2d6d8a[-0x2d*-0x7+-0x1ade+-0x19c7*-0x1]<<0x1801+-0x1*-0x17c8+-0x2fb4|_0x2d6d8a[0x1054+-0x293*-0x7+-0xb*0x31c]<<-0x14*-0x1be+-0x1fcd+-0x3*0x100|_0x2d6d8a[-0x1fa4+-0x180b+0x37d5],_0x45b207[_0xcc1fec*(-0x1860*-0x1+-0x17*-0x130+-0x33ac)+(-0xc8e+-0x1*-0x21dd+-0x154d)]=_0x2d6d8a[-0x14b*0x7+0x124*-0x22+0xbff*0x4]<<0x8b*0x39+0x949*-0x4+0x646|_0x2d6d8a[-0x1*0x1066+0x73+0x101b]<<-0xce5*-0x2+-0xef*-0x1d+-0x34d2|_0x2d6d8a[-0x138f+0x1*-0xc40+0x1ff8],_0x45b207[_0xcc1fec*(-0xfd7+0xaba+0x521)+(0x19f*0xa+-0x11a+-0x5*0x305)]=_0x2d6d8a[-0xbf*0x2+-0x2571+0x2719]<<-0xe92+-0x8ee+0x1795|_0x2d6d8a[0x15*0x79+-0x1*-0x22a3+-0x2c65]<<0x17*-0xda+-0x14fa+0x289b|_0x2d6d8a[0x114e+-0x7d2+-0x4*0x254]):_0x45b2d7[_0xcc1fec]=_0x2d6d8a[-0x8*0x67+-0x2*-0x856+0x1e9*-0x7]<<-0x5*0x5a1+0x168e+0x5ac|_0x2d6d8a[0x123c+-0x2095+-0x1*-0xe6f]<<0x22c5+-0x22b4+0x3*-0x2|_0x2d6d8a[0x19df+-0xa66+-0xf62]);}}this['sh1to3Text'+'ure']['unlock'](),(_0x2cb869=this['sh4to7Text'+'ure'])==null||_0x2cb869['unlock'](),(_0x4c8b27=this['sh8to11Tex'+'ture'])==null||_0x4c8b27['unlock'](),(_0x536638=this['sh12to15Te'+'xture'])==null||_0x536638['unlock']();}['updateSHDa'+'taByWorker'](_0x25374a){const _0x35245f={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x5b9463=U_(_0x25374a,_0x35245f*(0xad5+0xce7+-0x17b9));this['updateData'+'Worker']['updateSHDa'+'ta'](_0x25374a['numSplats'],this['shBands'],_0x5b9463),this['updateData'+'Worker']['on']('updatedSHD'+'ata',(_0x57a66b,_0x563c2b,_0x340619,_0x5ecedb)=>{var _0x14c8e8,_0x560ca0,_0x104bcc,_0x5c9cb2,_0x4a2a7a,_0x503fcf,_0x992583,_0x8f08f7,_0x421e75,_0x1bbe35;const _0x1fc164=(_0x14c8e8=this['sh1to3Text'+'ure'])==null?void(-0x6*0xc2+-0x1dbc+-0x449*-0x8):_0x14c8e8['lock']();if(new Uint32Array(_0x1fc164['buffer'])['set'](_0x57a66b),(_0x560ca0=this['sh1to3Text'+'ure'])==null||_0x560ca0['unlock'](),this['shBands']>-0xa1*0x6+0x5*-0x7b5+-0x2a50*-0x1){const _0x5d8d12=(_0x104bcc=this['sh4to7Text'+'ure'])==null?void(0xe*0x146+-0x8f3+0x1*-0x8e1):_0x104bcc['lock']();if(new Uint32Array(_0x5d8d12['buffer'])['set'](_0x563c2b),(_0x5c9cb2=this['sh4to7Text'+'ure'])==null||_0x5c9cb2['unlock'](),this['shBands']>-0x25e9*0x1+-0x2281+0x5*0xe7c){const _0x347294=(_0x4a2a7a=this['sh8to11Tex'+'ture'])==null?void(0xc25*-0x1+0x616+-0xb*-0x8d):_0x4a2a7a['lock']();new Uint32Array(_0x347294['buffer'])['set'](_0x340619),(_0x503fcf=this['sh8to11Tex'+'ture'])==null||_0x503fcf['unlock']();const _0x45a94d=(_0x992583=this['sh12to15Te'+'xture'])==null?void(0x719+0xd7a+-0x1493):_0x992583['lock']();new Uint32Array(_0x45a94d['buffer'])['set'](_0x5ecedb),(_0x8f08f7=this['sh12to15Te'+'xture'])==null||_0x8f08f7['unlock']();}else{const _0x2b57db=(_0x421e75=this['sh8to11Tex'+'ture'])==null?void(0xad5+-0x3*0x34b+-0xf4):_0x421e75['lock']();new Uint32Array(_0x2b57db['buffer'])['set'](_0x340619),(_0x1bbe35=this['sh8to11Tex'+'ture'])==null||_0x1bbe35['unlock']();}}});}}async function G1(){let _0x45383b=null,_0x6f2d63=null,_0x54cd6e=null,_0x483b31=null,_0x1f7e5b=null,_0x385517=null,_0x243982=null,_0x3f5adb=null,_0x279077=null,_0x1f0f49=null,_0x2b5ed4=null,_0x1682c3=null,_0x5e036a=null,_0x460300=null,_0x4d9eae=null,_0x78e340=null,_0xb4e47f=null,_0x220188=null,_0x36989c=null,_0x16d9ea=null,_0x3f8671=null,_0x4c27e6=null,_0x32a4ef=null,_0x525369=null,_0x8ec45b=null,_0x3f527c=Float32Array['BYTES_PER_'+'ELEMENT'],_0x48c1f4=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x5a0060=0x8a2+-0x8b*0x16+0x4*0xd4,_0x5921a0=!(0xeb5+0x1f57+-0x2e0c),_0x65a2b5,_0x2ca007,_0x450c0d={'x':0x0,'y':0x0,'z':0x0},_0xf69ebe={'x':0x0,'y':0x0,'z':0x0},_0x5419f9=!(-0x1505+-0x629*-0x1+0x4f4*0x3),_0x201057=!(-0x2646+0x340+0x1*0x2307),_0x84982a=!(0x2*-0x2+0x3*-0x96b+0x1c46),_0x3f477c=-0x1a7*0x1+0xc77*-0x2+0x1*0x1a95,_0x2be260=-0x1*-0x2615+-0x22d6+0x115*-0x3,_0x28fa06=!(-0x1f7f+0x1*0x32+0x1f4e),_0x5779ca=null;self['onmessage']=async _0x4330b6=>{const {data:_0x24ca04}=_0x4330b6;switch(_0x24ca04['type']){case'initWorker':_0x5a0060=_0x24ca04['numSplats'],_0x3e4eb8(),_0x5921a0=_0x24ca04['is4d'],await _0x403e5d(_0x24ca04['sortWasmUr'+'l']),_0x5e7512(),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x24ca04['dataReady']){if(_0x385517&&_0x24ca04['centers']&&_0x385517['length']===_0x24ca04['centers']['length']){const _0x4442be=new Float32Array(_0x24ca04['centers']);_0x385517['set'](_0x4442be);}if(_0x279077&&_0x24ca04['timeIndex']&&_0x279077['length']===_0x24ca04['timeIndex']['length']){const _0x1c98a6=new Uint32Array(_0x24ca04['timeIndex']);_0x279077['set'](_0x1c98a6);}if(_0x1682c3&&_0x24ca04['motion']&&_0x1682c3['length']===_0x24ca04['motion']['length']){const _0x3dc11c=new Float32Array(_0x24ca04['motion']);_0x1682c3['set'](_0x3dc11c);}if(_0x5921a0&&_0x1f0f49&&_0x2b5ed4&&_0x24ca04['muT']&&_0x24ca04['tScale']&&_0x1f0f49['length']===_0x24ca04['muT']['length']&&_0x2b5ed4['length']===_0x24ca04['tScale']['length']&&(_0x1f0f49['set'](_0x24ca04['muT']),_0x2b5ed4['set'](_0x24ca04['tScale'])),_0x243982){for(let _0x3565f9=0xf*0x177+0x339*0x2+-0x4b*0x61;_0x3565f9<_0x243982['length'];++_0x3565f9)_0x243982[_0x3565f9]=_0x3565f9;}_0x1f7e5b&&_0x24ca04['timeOption']&&_0x1f7e5b['set'](_0x24ca04['timeOption']),setTimeout(()=>{_0x41c868();},-0x1d64+0x81*-0xd+0xbfb*0x3);}break;case'setTime':_0x65a2b5=_0x24ca04['time'],_0x5c9e77();break;case'setUseTemp'+'oralSort':_0x5419f9=_0x24ca04['useTempora'+'lSort'];break;case'sort':if(!_0x54cd6e)return;_0x54cd6e[-0x4*0x8df+0xc90+0x16ec]=_0x24ca04['cameraPosi'+'tion']['x'],_0x54cd6e[0x143*-0x1d+-0x12f+0x25c7]=_0x24ca04['cameraPosi'+'tion']['y'],_0x54cd6e[0x1ebf+-0x387*-0x3+-0x14a9*0x2]=_0x24ca04['cameraPosi'+'tion']['z'],_0x483b31[-0xa*0x2a5+0x8a6+0x11cc]=_0x24ca04['cameraDire'+'ction']['x'],_0x483b31[-0x1872+0x2225+0x4d9*-0x2]=_0x24ca04['cameraDire'+'ction']['y'],_0x483b31[-0x1228+0xbbd+0x66d]=_0x24ca04['cameraDire'+'ction']['z'],_0x5c9e77();break;}};const _0x5c9e77=()=>{_0x5779ca&&clearTimeout(_0x5779ca),_0x5779ca=setTimeout(()=>{_0x5779ca=null,_0x3c0746();},0x34f*0x1+-0x1de*-0x9+-0x10f*0x13);},_0x3e4eb8=()=>{_0x2be260=Math['max'](0x21ef+-0xac5+0x1*-0x1720,Math['min'](0x1*0x10a3+-0x86d+-0x822,Math['round'](Math['log2'](_0x5a0060/(0x2682+0x60d*0x1+-0x2c8b))))),_0x3f477c=(-0xeef*-0x2+0x38a*0x3+-0x287a)**_0x2be260+(0x3*0x16a+-0xae6+0x6a9);},_0x5e7512=()=>(_0x5e036a=-0x254*-0xb+0x33f*0x2+-0x24b*0xe,_0x460300=_0x5e036a+_0x5a0060*_0x3f527c*(-0x1191*-0x1+-0x1*0x1ff0+0xe62),_0x36989c=_0x460300+(0x5db*0x2+-0x6b2*0x1+0x128*-0x4)*_0x3f527c*(-0x10d7+0xa7f*-0x2+0x25d7),_0x16d9ea=_0x36989c+_0x5a0060*_0x48c1f4,_0x3f8671=_0x16d9ea+(-0x25e8+-0x5b7+-0x2ba2*-0x1)*_0x3f527c,_0x4c27e6=_0x3f8671+(-0x1971+-0x196*0xb+-0x121*-0x26)*_0x3f527c,_0x32a4ef=_0x4c27e6+(0x1ba7+-0x1a61+-0x11*0x13)*_0x3f527c,_0x525369=_0x32a4ef+(-0x125d*-0x1+0x159a+-0x9fd*0x4)*_0x3f527c,_0x8ec45b=_0x525369+_0x5a0060*_0x48c1f4,_0x385517=new Float32Array(_0x6f2d63,_0x5e036a,_0x5a0060*(0x287*-0x3+-0x8b*0x3b+0x27a1)),_0x1f7e5b=new Float32Array(_0x6f2d63,_0x460300,(-0x1*0x21e5+0x10b1*0x1+0x1198)*(-0x23f9+-0x1*-0x8c6+0x5*0x571)),_0x243982=new Uint32Array(_0x6f2d63,_0x36989c,_0x5a0060),_0x3f5adb=new Uint32Array(_0x243982),_0x54cd6e=new Float32Array(_0x6f2d63,_0x16d9ea,0x3*-0x6dd+-0x2*-0x773+-0x1*-0x5b4),_0x483b31=new Float32Array(_0x6f2d63,_0x3f8671,-0x1*0xcaf+-0xd*0x2f5+-0x2b1*-0x13),_0x5921a0&&(_0xb4e47f=_0x8ec45b+_0x3f477c*_0x48c1f4,_0x220188=_0xb4e47f+_0x5a0060*_0x3f527c,_0x78e340=_0x220188+_0x5a0060*_0x3f527c,_0x4d9eae=_0x78e340+_0x5a0060*(-0x1ba2+-0x2218+0x3dbd)*_0x3f527c,_0x1f0f49=new Float32Array(_0x6f2d63,_0xb4e47f,_0x5a0060),_0x2b5ed4=new Float32Array(_0x6f2d63,_0x220188,_0x5a0060),_0x1682c3=new Float32Array(_0x6f2d63,_0x78e340,_0x5a0060*(-0x104c+0x479*0x5+-0x60e)),_0x279077=new Uint32Array(_0x6f2d63,_0x4d9eae,_0x5a0060)),{'sharedMemory':_0x6f2d63,'layout':{'timeOptionPtr':_0x460300,'timeIndexPtr':_0x4d9eae,'centersPtr':_0x5e036a,'motionPtr':_0x78e340,'muTPtr':_0xb4e47f,'tScalePtr':_0x220188,'orderPtr':_0x36989c,'cameraPositionPtr':_0x16d9ea,'cameraDirectionPtr':_0x3f8671,'boundMinPtr':_0x4c27e6,'boundMaxPtr':_0x32a4ef,'distancesPtr':_0x525369,'countBufferPtr':_0x8ec45b}}),_0x403e5d=async _0x117a4a=>{let _0x5623d2=_0x5a0060*_0x3f527c*(0x7*-0x52a+-0x25*0x7+0x252c);_0x5623d2+=_0x5a0060*_0x48c1f4,_0x5623d2+=(-0x3*-0x688+-0x2473+-0x11*-0xfe)*_0x3f527c,_0x5623d2+=(-0x2c5*0x4+0x1e41+0x1be*-0xb)*_0x3f527c,_0x5623d2+=(0x155f+0x1eed+-0x3449)*_0x3f527c,_0x5623d2+=(-0x56*-0x21+-0x1c79*-0x1+-0x278c)*_0x3f527c,_0x5623d2+=_0x5a0060*_0x3f527c,_0x5623d2+=_0x3f477c*_0x48c1f4,_0x5623d2+=(-0x1*0x24cb+-0x11a6*0x1+0x3*0x1247)*_0x3f527c*(-0x35e+-0x4de+0x83e),_0x5623d2+=_0x5a0060*_0x48c1f4,_0x5921a0&&(_0x5623d2+=_0x5a0060*_0x3f527c,_0x5623d2+=_0x5a0060*_0x3f527c,_0x5623d2+=_0x5a0060*_0x3f527c*(-0x61a*0x1+-0x14d7+-0x1af4*-0x1));const _0x5bd190=(0x48f*0x5+-0x32*0xb1+0x1*0xc07)*(-0xfe7*-0x1+0x6c0*-0x1+0x527*-0x1),_0x59618d=Math['ceil'](_0x5623d2/_0x5bd190),_0x1387e5={'env':{'memory':new WebAssembly['Memory']({'initial':_0x59618d,'maximum':_0x59618d,'shared':!(-0x3*0xd9+-0x1bef*-0x1+0x32*-0x82)}),'pthread_self':function(){return 0xa4c+-0xac1*0x3+-0x1*-0x15f7;},'emscripten_builtin_memalign':function(){return 0x1ac8*-0x1+0x1056+0xa72;},'loggerVec3':(_0x29a123,_0x295dc5,_0x1d996f,_0x4419cc)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x29a123+']\x200:'+_0x295dc5+'\x201:'+_0x1d996f+'\x202:'+_0x4419cc);},'loggerFloat':(_0xabc75c,_0x54a489)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0xabc75c+']\x20a:'+_0x54a489);},'loggerValue':(_0x4461e9,_0x2ea878,_0x55bc42,_0xf36669,_0x4104f7)=>{console['log']('C++\x20logger'+'Value\x20['+_0x4461e9+']\x20minDist:'+_0x2ea878+'\x20maxDist:'+_0x55bc42+'\x20range:'+_0xf36669+'\x20divider:'+_0x4104f7);},'loggerCamera':(_0x2cd40e,_0x13cc39,_0x325401,_0x551f03,_0x2e82a4,_0x305a79,_0x5198f0)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x2cd40e+']\x20x:'+_0x13cc39+'\x20y:'+_0x325401+'\x20z:'+_0x551f03+'\x20dx:'+_0x2e82a4+'\x20dy:'+_0x305a79+'\x20dz:'+_0x5198f0);},'loggerBound':(_0x1aa43d,_0x3a06cd,_0x20782c,_0x561f6f,_0x29ffeb,_0xed7b66)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x1aa43d+'\x20minY:'+_0x3a06cd+'\x20minZ:'+_0x20782c+'\x20maxX:'+_0x561f6f+'\x20maxY:'+_0x29ffeb+'\x20maxZ:'+_0xed7b66);},'loggerDebug':_0x2d8a93=>{console['log']('C++\x20logger'+'Debug\x20['+_0x2d8a93+']');}}};try{const _0x5d58d1=await(await fetch(_0x117a4a))['arrayBuffe'+'r']();return _0x45383b=(await WebAssembly['instantiat'+'e'](_0x5d58d1,_0x1387e5))['instance'],_0x6f2d63=_0x1387e5['env']['memory']['buffer'],_0x45383b;}catch(_0x4ab1ea){throw console['error']('加载WASM模块失败'+':',_0x4ab1ea),_0x4ab1ea;}},_0x41c868=()=>{if(!_0x45383b)return;const {calcAABB:_0x2a5a32}=_0x45383b['exports'];_0x2a5a32(_0x5e036a,_0x4c27e6,_0x32a4ef,_0x5a0060);},_0x3c0746=()=>{if(!_0x45383b||_0x36989c===null||_0x5e036a===null||_0x16d9ea===null||_0x3f8671===null||_0x4c27e6===null||_0x32a4ef===null)return;const _0x156428=_0x54cd6e[-0x1718+-0xf1*-0xd+0x18d*0x7],_0x299042=_0x54cd6e[-0x2*0x39+0x2*-0x18e+-0x1*-0x38f],_0x4249eb=_0x54cd6e[0x836+-0xbb*0xb+-0x2b],_0x32cb9b=_0x483b31[0x433*0x4+-0x23fe+0x7*0x2be],_0x169e79=_0x483b31[-0x3*-0x755+-0x200e*-0x1+-0x2*0x1b06],_0xc8465a=_0x483b31[0x1c27+0x2b7+0x5*-0x62c],_0x4834ac=0x170a+-0x363+-0x13a7+0.001;if(!_0x201057&&Math['abs'](_0x156428-_0x450c0d['x'])<_0x4834ac&&Math['abs'](_0x299042-_0x450c0d['y'])<_0x4834ac&&Math['abs'](_0x4249eb-_0x450c0d['z'])<_0x4834ac&&Math['abs'](_0x32cb9b-_0xf69ebe['x'])<_0x4834ac&&Math['abs'](_0x169e79-_0xf69ebe['y'])<_0x4834ac&&Math['abs'](_0xc8465a-_0xf69ebe['z'])<_0x4834ac&&Math['abs'](_0x65a2b5-_0x2ca007)<-0x638+-0x175a+0x2*0xec9+0.01)return;if(_0x84982a){_0x28fa06=!(0x8c5*-0x4+0x1*-0x377+0x1ad*0x17);return;}_0x84982a=!(0x1cb3+0x1e7*0x11+-0x3d0a),_0x201057=!(-0x2345+-0x2264+0x45aa),_0x2ca007=_0x65a2b5,_0x450c0d['x']=_0x156428,_0x450c0d['y']=_0x299042,_0x450c0d['z']=_0x4249eb,_0xf69ebe['x']=_0x32cb9b,_0xf69ebe['y']=_0x169e79,_0xf69ebe['z']=_0xc8465a,_0x28fa06=!(0x1*-0x176d+-0xa0+0x180e);const {sortIndexes:_0x25bd8e}=_0x45383b['exports'];try{const _0x1500bd=_0x25bd8e(_0x36989c,_0x5e036a,_0x78e340,_0xb4e47f,_0x220188,_0x16d9ea,_0x3f8671,_0x4c27e6,_0x32a4ef,_0x525369,_0x8ec45b,_0x65a2b5,_0x5419f9,_0x5921a0,_0x5a0060,_0x3f477c,_0x2be260,_0x460300,_0x4d9eae);_0x3f5adb['set'](_0x243982),self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x1500bd,'order':_0x3f5adb});}catch(_0xa919d5){console['error']('排序操作失败:',_0xa919d5),self['postMessag'+'e']({'type':'error','error':_0xa919d5['message']});}_0x84982a=!(-0x29*-0x1e+-0x2bb*0xb+-0x17c*-0x11),_0x28fa06&&_0x5c9e77();};}class H1 extends ce{constructor(_0x53375d,_0x15ffe5=!(-0x26ac+-0x2383*-0x1+0x329)){super(),c(this,'worker',null),c(this,'numSplats',0x157*0x1+0x866+-0x33f*0x3),c(this,'is4d',!(-0x1583+-0x167b+0xeaa*0x3)),c(this,'sortStartT'+'ime',0x221a+-0x2598+0x37e),c(this,'orderTextu'+'re'),(this['numSplats']=_0x53375d,this['is4d']=_0x15ffe5,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+G1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x3722b3=>{if(!this['worker'])return;const {data:_0x429b93}=_0x3722b3;switch(_0x429b93['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':if(_0x429b93['order']){const _0x315cf7=this['orderTextu'+'re']['lock']();new Uint32Array(_0x315cf7['buffer'])['set'](_0x429b93['order']),this['orderTextu'+'re']['unlock']();}let _0x5022cd=-0x277*-0x7+0x1776+-0x28b7;this['sortStartT'+'ime']!==-0x15*-0x1bb+-0x23ee+-0x69&&(_0x5022cd=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x3722b3['data']['count'],_0x5022cd),this['sortStartT'+'ime']=0x5f1*-0x5+0x1*0x5d5+0x17e0;break;case'error':console['error']('Worker错误:',_0x429b93['error']),this['fire']('error',_0x429b93['error']);break;}};const _0x2cd374=('https://4dv-frontend.oss-cn-hangzhou.aliyuncs.com/dist/viewer/1748318561813/sorter.wasm');this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':_0x2cd374,'numSplats':this['numSplats'],'is4d':this['is4d']});}['initData'](_0x1af20b,_0x3ca884,_0x193a73,_0x18daf7,_0x47e456,_0x175d4d,_0x2ab760){var _0xf19d40;(!_0x2ab760||_0x2ab760['length']===-0x2169+-0x1083+0xd5*0x3c)&&(_0x2ab760=[-0x1*0x238b+-0x875*0x3+0x3cea*0x1,0xad0*0x3+-0x2227*-0x1+-0x425b]),this['orderTextu'+'re']=_0x1af20b,(_0xf19d40=this['worker'])==null||_0xf19d40['postMessag'+'e']({'type':'initData','centers':_0x3ca884,'muT':_0x193a73,'tScale':_0x18daf7,'motion':_0x47e456,'timeIndex':_0x175d4d,'timeOption':_0x2ab760,'dataReady':!(0x1*-0xfc1+-0x1f8c+0x2f4d*0x1)});}['resize'](_0x50ab88){this['destroy'](),this['numSplats']=_0x50ab88,this['_initWorke'+'r']();}['setCamera'](_0x78493e,_0x3001e1){this['worker']&&(this['sortStartT'+'ime']===0x1c7b+0x9*0x23+-0x1db6&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x78493e['x'],'y':_0x78493e['y'],'z':_0x78493e['z']},'cameraDirection':{'x':_0x3001e1['x'],'y':_0x3001e1['y'],'z':_0x3001e1['z']}}));}['setCurrent'+'Time'](_0x4efb80){this['worker']&&(this['sortStartT'+'ime']===0xf36+0x6b*-0x29+0x1ed&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x4efb80}));}['setUseTemp'+'oralSort'](_0x43d553){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x43d553});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const W1=new q(),On=new T(),kn=new T(),Gl=[-0x18d9+0x4*0x1f2+0x1111,0x1abb+-0xfe*0x13+0x7e1*-0x1];class Np{constructor(_0x3080b9,_0x34a205){c(this,'splat'),c(this,'mesh'),c(this,'meshInstan'+'ce'),c(this,'material'),c(this,'orderTextu'+'re'),c(this,'options',{}),c(this,'sorter',null),c(this,'time',-0x1b73*-0x1+-0x199c+0x1*-0x1d7),c(this,'lastCamera'+'Position',new T()),c(this,'lastCamera'+'Direction',new T()),c(this,'cameras',[]),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x3080b9['numSplats']),this['splat']=_0x3080b9,this['options']=Object['assign'](this['options'],_0x34a205));const _0x3b27d3=_0x3080b9['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x298959=-0x1*-0x1f01+-0x1*0x1b86+-0x2fb*0x1,_0x28523e=Math['ceil'](_0x3080b9['numSplats']/_0x298959)*_0x298959/_0x298959,_0x38583f=new Uint32Array(_0x28523e);for(let _0x36ad3e=0x9*-0x214+-0x373*-0x7+-0x571;_0x36ad3e<_0x28523e;++_0x36ad3e)_0x38583f[_0x36ad3e]=_0x36ad3e*_0x298959;const _0x53ee29=new Et(_0x3b27d3,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(-0x1*-0xdff+0x131b*0x1+0x2*-0x108d)}]),_0x2741aa=new os(_0x3b27d3,_0x53ee29,_0x28523e,{'usage':jt,'data':_0x38583f['buffer']}),_0x2d06d8=new Float32Array((-0x56e+-0x45*0x2f+0x1225)*_0x298959),_0x22b43e=new Uint32Array((0x40e+-0x5a*-0x5e+-0x2514)*_0x298959);for(let _0x3bd6e6=-0xb6d+-0x8*0x499+0x3035;_0x3bd6e6<_0x298959;++_0x3bd6e6){_0x2d06d8['set']([-(-0x852+0x1581+-0xd2e),-(0x1d15+0x1*0xeb6+0x2*-0x15e5),_0x3bd6e6,0x4*0x2e6+-0x632+-0x565,-(-0x1c4+-0x2060+0x1*0x2225),_0x3bd6e6,0xe*-0x269+-0x20ef+0x42ae,0x2e*-0x2+0x5de+-0x581,_0x3bd6e6,-(0x161e+-0x26*-0xa6+-0x2ec1),-0x2*-0x7c8+0x649*-0x1+-0x946,_0x3bd6e6],_0x3bd6e6*(0x2*-0x526+-0x2516+0x2f6e));const _0x28fdae=_0x3bd6e6*(-0xde0+-0x7c5+0x15a9);_0x22b43e['set']([0x7a7+0x18a+-0x931+_0x28fdae,0xcf0+0xd8f*-0x2+0xe2f+_0x28fdae,-0x11ed+0x3fb+0xdf4+_0x28fdae,0x1d3b+-0x1cd*-0x11+0xa*-0x5fc+_0x28fdae,0x12b2+0x26e*0x2+-0x178c+_0x28fdae,-0x2503+-0x9*0x26c+0x3ad2+_0x28fdae],_0x3bd6e6*(-0x39*-0x5e+-0x2512+0x1*0x102a));}const _0x1c7776=new Ie(_0x3b27d3);_0x1c7776['setPositio'+'ns'](_0x2d06d8,-0x506*0x3+-0x919+-0x2*-0xc17),_0x1c7776['setIndices'](_0x22b43e),_0x1c7776['update'](),this['mesh']=_0x1c7776,this['mesh']['aabb']['copy'](_0x3080b9['aabb']),this['meshInstan'+'ce']=new Le(this['mesh'],this['material']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x2741aa,!(0x8*-0x2f8+-0x3*-0x81b+-0x91)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=-0xb04+-0x2fb+0xdff,(!_0x34a205['dither']||_0x34a205['dither']===Rs)&&(this['sorter']=new H1(this['splat']['numSplats'],this['splat']['is4D']),this['sorter']['on']('initialize'+'d',()=>{var _0xf632d7;(_0xf632d7=this['sorter'])==null||_0xf632d7['initData'](this['orderTextu'+'re'],_0x3080b9['centers'],_0x3080b9['muT'],_0x3080b9['tScale'],_0x3080b9['motion'],_0x3080b9['timeIndex'],_0x3080b9['timeOption']);}),this['sorter']['on']('updated',_0x2787f4=>{this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x2787f4/_0x298959),this['material']['setParamet'+'er']('numSplats',_0x2787f4);}));}['updateData'](_0x533461){var _0x284a1a;console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplatIns'+'tance',_0x533461['numSplats']),this['splat']=_0x533461;const _0x18975b=_0x533461['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x1160cf=0x4*0x332+0x41*0x39+-0x2f9*0x9,_0x79ef5d=Math['ceil'](_0x533461['numSplats']/_0x1160cf)*_0x1160cf/_0x1160cf,_0x1660b6=new Uint32Array(_0x79ef5d);for(let _0x3dfd86=0x12c*0x3+0x1639+-0x19bd;_0x3dfd86<_0x79ef5d;++_0x3dfd86)_0x1660b6[_0x3dfd86]=_0x3dfd86*_0x1160cf;const _0x3b202c=new Et(_0x18975b,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(-0x2453+-0x1*0x13e0+0x1*0x3833)}]),_0x5ee526=new os(_0x18975b,_0x3b202c,_0x79ef5d,{'usage':jt,'data':_0x1660b6['buffer']});this['mesh']['aabb']['copy'](_0x533461['aabb']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x5ee526,!(-0x545+-0x4ff*0x1+0xa44)),this['meshInstan'+'ce']['instancing'+'Count']=0x30*0xa3+0x1cbb+-0x3b4b,(_0x284a1a=this['sorter'])==null||_0x284a1a['resize'](_0x533461['numSplats']);}['releaseSeq'](_0xe2eab5){console['log']('____\x20ENGIN'+'E\x20IVAN','releaseSeq',_0xe2eab5);}['destroy'](){var _0x1a0d64,_0x32a5ed,_0x294204;(_0x1a0d64=this['material'])==null||_0x1a0d64['destroy'](),(_0x32a5ed=this['meshInstan'+'ce'])==null||_0x32a5ed['destroy'](),(_0x294204=this['sorter'])==null||_0x294204['destroy']();}['clone'](){return new Np(this['splat'],this['options']);}['createMate'+'rial'](_0x217872){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.crea'+'teMaterial'),this['material']=this['splat']['createMate'+'rial'](_0x217872),this['material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=this['material']);}['updateView'+'port'](){const _0x4fe8a7=this['splat']['device'];if(Gl[-0xc34+-0x1*0x5ec+-0x28*-0x74]=_0x4fe8a7['width'],Gl[0xbcf+0xd55*-0x1+0x187]=_0x4fe8a7['height'],this['cameras']['length']>0x1bca+-0x73*0x45+-0x1*-0x335){const _0x4bedcb=this['cameras'][-0x1e2*-0xa+-0x1fd3*0x1+0xcff]['xr'];_0x4bedcb&&_0x4bedcb['active']&&_0x4bedcb['views']['list']['length']===0x1aa0+0x45+-0x1*0x1ae3&&(Gl[0x1cee+-0x1455*0x1+-0x1*0x899]/=-0xeb+0xe3*0x1+0xa);}this['material']['setParamet'+'er']('viewport',Gl);}['sort'](_0x2aafda){if(this['sorter']){this['sorter']['setCurrent'+'Time'](this['time']);const _0x164e47=_0x2aafda['getWorldTr'+'ansform']();_0x164e47['getTransla'+'tion'](On),_0x164e47['getZ'](kn);const _0x2706b6=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x2c5645=W1['invert'](_0x2706b6);_0x2c5645['transformP'+'oint'](On,On),_0x2c5645['transformV'+'ector'](kn,kn),(!On['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!kn['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](On),this['lastCamera'+'Direction']['copy'](kn),this['sorter']['setCamera'](On,kn));}this['updateView'+'port']();}['update'](){if(this['cameras']['length']>-0x13*-0x1e1+0x12ff*-0x1+-0x10b4){const _0xa3324b=this['cameras'][0x51*0x67+-0x1b3c+-0x1*0x55b];this['sort'](_0xa3324b['_node']),this['cameras']['length']=0x1*0x96b+-0x1c14+-0x12a9*-0x1;}}['updateTime'](_0x29b7cc){this['time']=_0x29b7cc;}}const $1='FILL_WINDO'+'W',V_='KEEP_ASPEC'+'T',G_='AUTO',q1='FIXED';let U0;(function(){const _0x12d992=function(){let _0x16390b;try{_0x16390b=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x3b3bc3){_0x16390b=window;}return _0x16390b;},_0x28d690=_0x12d992();_0x28d690['setInterva'+'l'](_0x5d9df5,-0x10a*-0x4+-0xd23+0x10cb);}());function tn(){return U0;}function qu(_0x170210){U0=_0x170210;}class X1{constructor(){c(this,'renderPass'+'es',[]),c(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x13703f){v['assert'](_0x13703f),_0x13703f['frameUpdat'+'e']();const _0x7f8f0f=_0x13703f['beforePass'+'es'];for(let _0x57df26=0x1*-0x640+-0x7a2*-0x4+0x7*-0x378;_0x57df26<_0x7f8f0f['length'];_0x57df26++){const _0x468eec=_0x7f8f0f[_0x57df26];_0x468eec['enabled']&&this['addRenderP'+'ass'](_0x468eec);}_0x13703f['enabled']&&this['renderPass'+'es']['push'](_0x13703f);const _0x2d3226=_0x13703f['afterPasse'+'s'];for(let _0x27e2ea=-0x1d3*0x6+0x1*0x85+-0x11*-0x9d;_0x27e2ea<_0x2d3226['length'];_0x27e2ea++){const _0x5196bd=_0x2d3226[_0x27e2ea];_0x5196bd['enabled']&&this['addRenderP'+'ass'](_0x5196bd);}}['reset'](){this['renderPass'+'es']['length']=0x7f*0x3e+0x4b*-0x4+-0x1d96;}['compile'](){const _0x4befe7=this['renderTarg'+'etMap'],_0x20d26c=this['renderPass'+'es'];for(let _0xc67426=0x1*0xbbd+-0x669*0x1+0x3e*-0x16;_0xc67426<_0x20d26c['length'];_0xc67426++){const _0x4dc2c1=_0x20d26c[_0xc67426],_0x173ca8=_0x4dc2c1['renderTarg'+'et'];if(_0x173ca8!==void(-0x3cb*0x1+-0x4e5+0x8b0)){const _0x5b9ea7=_0x4befe7['get'](_0x173ca8);if(_0x5b9ea7){const _0x5396d2=_0x4dc2c1['colorArray'+'Ops']['length'];for(let _0x2d473a=0x22e5+-0x1247*0x1+0x2c5*-0x6;_0x2d473a<_0x5396d2;_0x2d473a++)_0x4dc2c1['colorArray'+'Ops'][_0x2d473a]['clear']||(_0x5b9ea7['colorArray'+'Ops'][_0x2d473a]['store']=!(0xc11*-0x1+-0x195f+-0x4*-0x95c));_0x4dc2c1['depthStenc'+'ilOps']['clearDepth']||(_0x5b9ea7['depthStenc'+'ilOps']['storeDepth']=!(-0x1*0x2653+0x14f+0x2504)),_0x4dc2c1['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x5b9ea7['depthStenc'+'ilOps']['storeStenc'+'il']=!(0x89*-0x2f+0x1934+-0x1*0xd));}_0x4befe7['set'](_0x173ca8,_0x4dc2c1);}}for(let _0x486839=-0xa1e+0x145f+-0x19*0x69;_0x486839<_0x20d26c['length']-(0x114a+-0xb4e+0x1*-0x5fb);_0x486839++){const _0xdef47b=_0x20d26c[_0x486839],_0xc65042=_0xdef47b['renderTarg'+'et'],_0x413aa9=_0x20d26c[_0x486839+(-0xac5*0x2+-0x4b5*0x2+0x1ef5)],_0x1d5af6=_0x413aa9['renderTarg'+'et'];_0xc65042!==_0x1d5af6||_0xc65042===void(-0x12f8+-0x8ed+0x1be5)||_0x413aa9['depthStenc'+'ilOps']['clearDepth']||_0x413aa9['depthStenc'+'ilOps']['clearStenc'+'il']||_0x413aa9['colorArray'+'Ops']['some'](_0x292340=>_0x292340['clear'])||_0xdef47b['afterPasse'+'s']['length']>-0x12*0x158+-0x2d*-0x2b+-0x10a1*-0x1||_0x413aa9['beforePass'+'es']['length']>0x95*-0x1d+-0x259e+-0x7c9*-0x7||(_0xdef47b['_skipEnd']=!(0x1*0x1f3c+-0x11a8+-0xd94),_0x413aa9['_skipStart']=!(0xb53+0x435+-0xf88));}let _0x1da25c=null,_0x5b4cbe=null;for(let _0x3775ea=-0x1d4d+-0x17ac+0x1*0x34f9;_0x3775ea<_0x20d26c['length'];_0x3775ea++){const _0x41af97=_0x20d26c[_0x3775ea],_0x1f97b3=_0x41af97['renderTarg'+'et'],_0x4f0401=_0x1f97b3==null?void(0x1073+0x1e3f+-0x2eb2):_0x1f97b3['colorBuffe'+'r'];if(_0x4f0401!=null&&_0x4f0401['cubemap']){if(_0x1da25c===_0x4f0401){const _0x1d6c63=_0x5b4cbe['colorArray'+'Ops']['length'];for(let _0x5eefc2=0xd8d+-0x2519*0x1+0x178c;_0x5eefc2<_0x1d6c63;_0x5eefc2++)_0x5b4cbe['colorArray'+'Ops'][_0x5eefc2]['mipmaps']=!(0x3b*-0x86+0x2ed+0x1bf6);}_0x1da25c=_0x1f97b3['colorBuffe'+'r'],_0x5b4cbe=_0x41af97;}else _0x41af97['requiresCu'+'bemaps']&&(_0x1da25c=null,_0x5b4cbe=null);}_0x4befe7['clear']();}['render'](_0x25900f){this['compile']();const _0x2d5fc1=this['renderPass'+'es'];for(let _0x1d539e=-0x17b*0x17+-0x2*-0x44+-0x1*-0x2185;_0x1d539e<_0x2d5fc1['length'];_0x1d539e++)_0x2d5fc1[_0x1d539e]['render']();}}class j1{constructor(_0x1fbea9,_0x518f96){this['texture0']=_0x1fbea9,this['texture1']=_0x518f96;}['destroy'](){var _0x2dc1d0,_0x1229dd;(_0x2dc1d0=this['texture0'])==null||_0x2dc1d0['destroy'](),(_0x1229dd=this['texture1'])==null||_0x1229dd['destroy']();}}const H_=new Ot();class $r{static['createText'+'ure'](_0x16062e,_0x13ca21,_0x2102af,_0x1c5f3b=''){return new he(_0x16062e,{'name':'AreaLightL'+'UT'+_0x1c5f3b,'width':_0x2102af,'height':_0x2102af,'format':_0x13ca21,'addressU':ae,'addressV':ae,'type':Di,'magFilter':st,'minFilter':de,'anisotropy':0x1,'mipmaps':!(-0x417*0x6+0x1d74+-0x1a3*0x3)});}static['applyTextu'+'res'](_0x232b8a,_0x5c2e28,_0x119335){H_['remove'](_0x232b8a),H_['get'](_0x232b8a,()=>new j1(_0x5c2e28,_0x5c2e28===_0x119335?null:_0x119335)),_0x232b8a['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x5c2e28),_0x232b8a['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x119335);}static['createPlac'+'eholder'](_0x434d90){const _0x111492=$r['createText'+'ure'](_0x434d90,Je,0x1d5a*0x1+-0x509*-0x3+-0x3*0xed1,'placeholde'+'r');_0x111492['lock']()['fill'](-0x20*-0x3c+-0x1*0x269d+0x1b*0x127),_0x111492['unlock'](),$r['applyTextu'+'res'](_0x434d90,_0x111492,_0x111492);}static['set'](_0x961572,_0x36a2aa,_0x2ce48b){function _0x265f68(_0x489ac0,_0x2015d3,_0x901776){const _0x2fc92e=$r['createText'+'ure'](_0x489ac0,_0x901776,0x1b99+-0x1c3*0x6+-0x10c7);return _0x2fc92e['lock']()['set'](_0x2015d3),_0x2fc92e['unlock'](),_0x2fc92e;}function _0xabbcbc(_0x1ab582){const _0x2ebc71=_0x1ab582['length'],_0x564756=new Uint16Array(_0x2ebc71),_0x7daef2=Wt['float2Half'];for(let _0x51735d=-0x18ea+0x10a1+0x849;_0x51735d<_0x2ebc71;_0x51735d++)_0x564756[_0x51735d]=_0x7daef2(_0x1ab582[_0x51735d]);return _0x564756;}const _0x2f681e=_0x36a2aa,_0x3a392a=_0x2ce48b,_0x3cd8dc=_0xabbcbc(_0x2f681e),_0x27fc3d=_0xabbcbc(_0x3a392a),_0x33ff74=_0x265f68(_0x961572,_0x3cd8dc,Je),_0x51cd9c=_0x265f68(_0x961572,_0x27fc3d,Je);$r['applyTextu'+'res'](_0x961572,_0x33ff74,_0x51cd9c);}}const Wh='en-US',$h={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},zp={};function pr(_0x4137c5,_0x1ddf30){for(let _0x2a8810=0x1fff*0x1+0x1319*0x1+-0x3318,_0x2d44f9=_0x4137c5['length'];_0x2a8810<_0x2d44f9;_0x2a8810++)zp[_0x4137c5[_0x2a8810]]=_0x1ddf30;}function pi(_0x440e1d){const _0x6f960=_0x440e1d['indexOf']('-');return _0x6f960!==-(0x1d27+-0x13b6+0x25c*-0x4)?_0x440e1d['substring'](-0x71a+-0x2*-0xab0+-0x723*0x2,_0x6f960):_0x440e1d;}function Y1(_0x93f1fd,_0x22bc39){const _0x468297=_0x93f1fd['indexOf']('-');return _0x468297!==-(0x7*-0x2e7+-0x403*-0x1+0x1*0x104f)?_0x22bc39+_0x93f1fd['substring'](_0x468297):_0x22bc39;}function V0(_0x284caa,_0x33d398){if(_0x33d398[_0x284caa])return _0x284caa;let _0x5b48f7=$h[_0x284caa];if(_0x5b48f7&&_0x33d398[_0x5b48f7])return _0x5b48f7;const _0x29a4b2=pi(_0x284caa);return _0x5b48f7=$h[_0x29a4b2],_0x33d398[_0x5b48f7]?_0x5b48f7:_0x33d398[_0x29a4b2]?_0x29a4b2:Wh;}pr(['ja','ko','th','vi','zh','id'],_0x527083=>-0x9e*0x33+-0x178f+0xc1*0x49),pr(['fa','hi'],_0xd0a005=>_0xd0a005>=-0x1*0x17bf+0x889+0xf36&&_0xd0a005<=-0xe3*-0x15+0x449*0x5+-0x280b?-0x24cf*-0x1+0x1*0x135e+0xc5*-0x49:0x2575*-0x1+-0x2289*-0x1+0x2ed),pr(['fr','pt'],_0xf50616=>_0xf50616>=-0x8e1+0xc4*0xa+0x139&&_0xf50616<-0x3ce+-0x8d2+0xca2?-0xa85*-0x1+-0x19e2+0xf5d:-0x4*0x83c+0x1491+-0x58*-0x24),pr(['da'],_0x49415d=>_0x49415d===-0x6a*-0xe+0x58d+0xc*-0xf2||!Number['isInteger'](_0x49415d)&&_0x49415d>=0xdd3*0x2+0x21f8+-0x1de*0x21&&_0x49415d<=0x101*-0xb+-0x15eb+0x20f7?-0x1*0x198b+0xc56+-0xd35*-0x1:0x2203+-0x12cc*-0x1+0x2*-0x1a67),pr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x56ac96=>_0x56ac96===0x1cb8+-0x13a*0x1+-0x1b7d?0x1309+0x668+-0x1971:-0x206+0x1618+-0x1411),pr(['ru','uk'],_0x30628f=>{if(Number['isInteger'](_0x30628f)){const _0x253c43=_0x30628f%(0x1346*-0x1+-0xb5c+0xd*0x25c),_0x2fece0=_0x30628f%(0x13a7+-0x187*0xe+0x21f);if(_0x253c43===-0x31*-0x29+0x48b*0x2+-0xb*0x18a&&_0x2fece0!==0x1f9+-0x1939+0x174b)return 0x3*0x9b+-0x1ba*0x13+0x1*0x1efd;if(_0x253c43>=0x4*-0x79f+0x4ef+-0x9*-0x2d7&&_0x253c43<=-0x337*0x7+0x623*-0x4+0x2f11&&(_0x2fece0<0x634*0x4+-0x1*0x925+-0xf9f||_0x2fece0>-0x531*0x2+0x1*-0xa1+0xb11))return-0x162f+-0x3*0x926+0x31a2;if(_0x253c43===-0x2606+0x256b+-0x9b*-0x1||_0x253c43>=0x182a+-0x9*-0x86+-0x53*0x59&&_0x253c43<=-0x12*-0x19f+0x560*0x1+-0x2285||_0x2fece0>=-0x1a0a+0x1*-0x55+0x1a6a&&_0x2fece0<=-0x1fa2+-0x241+0x21f1)return 0x1*-0x1b44+-0xf4*-0x4+0x1ad*0xe;}return-0x1ccf+0x2399+0x1*-0x6c7;}),pr(['pl'],_0x3b3bd4=>{if(Number['isInteger'](_0x3b3bd4)){if(_0x3b3bd4===-0x161f+-0xf58+-0x8*-0x4af)return 0x2*-0x245+0x1*-0x1e9d+0x2327*0x1;const _0x350be3=_0x3b3bd4%(0x1a8e+0x1d0b+-0x378f),_0x11ee0f=_0x3b3bd4%(-0x1512*-0x1+0x1911+-0x2dbf);if(_0x350be3>=-0x24dc+-0xe59*-0x1+0x1685&&_0x350be3<=0xceb+-0xc7+-0xc20&&(_0x11ee0f<0xbb2+0x12da+-0x1e80||_0x11ee0f>-0x1f8+0x1fcf*-0x1+-0xb47*-0x3))return 0x584*-0x7+-0xe45+-0x34e2*-0x1;if(_0x350be3>=0x11*-0x196+-0x29*0x6d+0x53*0x89&&_0x350be3<=-0x1fb*-0xf+0xfe7*0x1+-0x2d9b||_0x350be3>=-0x1cf3+-0x2622+0x431a&&_0x350be3<=-0x12d*-0x18+0x16ff+0x1*-0x332e||_0x11ee0f>=0x855*-0x2+-0x4ce+0x1584&&_0x11ee0f<=0x1dc6+0x491*0x1+-0x2249*0x1)return 0x6ee+-0x166d*-0x1+-0x2ab*0xb;}return-0x1*0x2687+0x283*0x1+0x2407;}),pr(['ar'],_0x14c83f=>{if(_0x14c83f===0x6e4+-0xcce+-0x5ea*-0x1)return-0x5*0x7f+0x2*0x623+-0x9cb;if(_0x14c83f===-0x474+-0x2458+0x28cd*0x1)return-0xdd4+0x4fc+0x1*0x8d9;if(_0x14c83f===0x1*-0x2146+-0x8bc+0x2a04)return-0xbcf*0x2+-0x20ca+0x386a;if(Number['isInteger'](_0x14c83f)){const _0x54f91c=_0x14c83f%(-0x9*0x127+0x10fd*0x1+-0x63a);if(_0x54f91c>=-0x2652+0x17e*0x19+-0x1*-0x107&&_0x54f91c<=-0x187a+-0x2*-0x24a+0x13f0)return 0x13*-0x17b+0x1*0x78d+0x1497;if(_0x54f91c>=0x1441+-0x3*0x696+-0x74&&_0x54f91c<=0x2133+-0x1ebe+-0x212)return-0x482+0x2ad*-0x8+0x19ee;}return-0xa79+-0x7*0x527+0x2e8f;});const K1=zp[pi(Wh)];function Xd(_0x52e825){return zp[_0x52e825]||K1;}const Da=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class Z1{constructor(_0x449ea1='',_0x3b693c='',_0x4ee8b3=null,_0x1a0cf0=null,_0x13ffdf=null,_0x54d744=null){this['url']=_0x449ea1,this['filename']=_0x3b693c,this['hash']=_0x4ee8b3,this['size']=_0x1a0cf0,this['opt']=_0x13ffdf,this['contents']=_0x54d744;}['equals'](_0x1f8d50){return this['url']===_0x1f8d50['url']&&this['filename']===_0x1f8d50['filename']&&this['hash']===_0x1f8d50['hash']&&this['size']===_0x1f8d50['size']&&this['opt']===_0x1f8d50['opt']&&this['contents']===_0x1f8d50['contents'];}}let Q1=-(-0x26e4+0x1860+-0x15*-0xb1);const J1={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},W_=['pvr','dxt','etc2','etc1','basis'];class le extends ce{constructor(_0x4faa3e,_0x1f6bf1,_0x463e72,_0xda973d,_0x19b5f2){super(),this['_id']=Q1--,this['_name']=_0x4faa3e||'',this['type']=_0x1f6bf1,this['tags']=new po(this),this['_preload']=!(0x4c+-0x2032+0x1fe7),this['_file']=null,this['_data']=_0xda973d||{},this['options']=_0x19b5f2||{},this['_resources']=[],this['urlObject']=null,this['_i18n']={},this['loaded']=!(0x1551*-0x1+0x1*0x2001+-0x223*0x5),this['loading']=!(0x1*-0x125d+0x2420+-0x11c2),this['registry']=null,_0x463e72&&(this['file']=_0x463e72);}set['id'](_0x1a1c11){this['_id']=_0x1a1c11;}get['id'](){return this['_id'];}set['name'](_0x423807){if(this['_name']===_0x423807)return;const _0x2cb023=this['_name'];this['_name']=_0x423807,this['fire']('name',this,this['_name'],_0x2cb023);}get['name'](){return this['_name'];}set['file'](_0x9d3592){var _0x348ea7,_0x47705c;if(_0x9d3592&&_0x9d3592['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(-0x595*0x2+0x5*-0x7cf+-0x191b*-0x2)){const _0x5b2805=((_0x47705c=(_0x348ea7=this['registry'])==null?void(0x1002+0x202b+-0x302d):_0x348ea7['_loader'])==null?void(0x16bf+-0x184f*-0x1+-0x2f0e):_0x47705c['_app'])||tn(),_0x93e288=_0x5b2805==null?void(0x3e*-0x12+0x48*0x82+-0x4*0x80d):_0x5b2805['graphicsDe'+'vice'];if(_0x93e288)for(let _0x477fc=0xa32+-0x1d4*0xe+0x9*0x1b6,_0x322f35=W_['length'];_0x477fc<_0x322f35;_0x477fc++){const _0x506c6a=W_[_0x477fc];if(_0x9d3592['variants'][_0x506c6a]&&_0x93e288[J1[_0x506c6a]]){_0x9d3592=_0x9d3592['variants'][_0x506c6a];break;}if(_0x5b2805['enableBund'+'les']){const _0x311b40=_0x5b2805['bundles']['listBundle'+'sForAsset'](this);if(_0x311b40&&_0x311b40['find'](_0x5955da=>{var _0x3ebcef;return(_0x3ebcef=_0x5955da==null?void(0x1c9f+0x1061+-0x2d00):_0x5955da['file'])==null?void(-0x106*0xa+0x2*-0xaee+0x2018):_0x3ebcef['variants'][_0x506c6a];}))break;}}}const _0xb62917=this['_file'],_0x3b7b8f=_0x9d3592?new Z1(_0x9d3592['url'],_0x9d3592['filename'],_0x9d3592['hash'],_0x9d3592['size'],_0x9d3592['opt'],_0x9d3592['contents']):null;(!!_0x3b7b8f!=!!_0xb62917||_0x3b7b8f&&!_0x3b7b8f['equals'](_0xb62917))&&(this['_file']=_0x3b7b8f,this['fire']('change',this,'file',_0x3b7b8f,_0xb62917),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x533694){const _0x1f8c91=this['_data'];this['_data']=_0x533694,_0x533694!==_0x1f8c91&&(this['fire']('change',this,'data',_0x533694,_0x1f8c91),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x15fa29){const _0xbc6418=this['_resources'][-0xc80*0x1+-0xb*-0x2e1+0x1*-0x132b];this['_resources'][0x1*0xba5+-0x197d+0xdd8]=_0x15fa29,this['fire']('change',this,'resource',_0x15fa29,_0xbc6418);}get['resource'](){return this['_resources'][-0x6e3+-0x719*-0x4+-0x3*0x72b];}set['resources'](_0x4a825c){const _0x6a563b=this['_resources'];this['_resources']=_0x4a825c,this['fire']('change',this,'resources',_0x4a825c,_0x6a563b);}get['resources'](){return this['_resources'];}set['preload'](_0x169c88){_0x169c88=!!_0x169c88,this['_preload']!==_0x169c88&&(this['_preload']=_0x169c88,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x1c3be6){_0x1c3be6=!!_0x1c3be6,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x1c3be6!==this['_loadFaces'])&&(this['_loadFaces']=_0x1c3be6,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x5c7a36=this['file'];if(!_0x5c7a36||!_0x5c7a36['url'])return null;let _0x1cc15b=_0x5c7a36['url'];if(this['registry']&&this['registry']['prefix']&&!Da['test'](_0x1cc15b)&&(_0x1cc15b=this['registry']['prefix']+_0x1cc15b),this['type']!=='script'&&_0x5c7a36['hash']){const _0x1974b4=_0x1cc15b['indexOf']('?')!==-(0x2054+0x230b+-0x2*0x21af)?'&':'?';_0x1cc15b+=_0x1974b4+'t='+_0x5c7a36['hash'];}return _0x1cc15b;}['getAbsolut'+'eUrl'](_0x3ff1e1){if(_0x3ff1e1['startsWith']('blob:')||_0x3ff1e1['startsWith']('data:'))return _0x3ff1e1;const _0x174bda=fe['getDirecto'+'ry'](this['file']['url']);return fe['join'](_0x174bda,_0x3ff1e1);}['getLocaliz'+'edAssetId'](_0x2ad054){return _0x2ad054=V0(_0x2ad054,this['_i18n']),this['_i18n'][_0x2ad054]||null;}['addLocaliz'+'edAssetId'](_0x2e8f32,_0x5b40b9){this['_i18n'][_0x2e8f32]=_0x5b40b9,this['fire']('add:locali'+'zed',_0x2e8f32,_0x5b40b9);}['removeLoca'+'lizedAsset'+'Id'](_0x105200){const _0x1e3f95=this['_i18n'][_0x105200];_0x1e3f95&&(delete this['_i18n'][_0x105200],this['fire']('remove:loc'+'alized',_0x105200,_0x1e3f95));}['ready'](_0x41f583,_0x5ec07e){_0x5ec07e=_0x5ec07e||this,this['loaded']?_0x41f583['call'](_0x5ec07e,this):this['once']('load',_0x3c3f8d=>{_0x41f583['call'](_0x5ec07e,_0x3c3f8d);});}['reload'](){this['loaded']&&(this['loaded']=!(-0xe02+0x1742+0x1*-0x93f),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===-0x20b6+0x38*-0x83+0x1*0x3d5e)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x43c15d=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(0x377*0x7+-0x72*0x34+-0x118),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x14dbec=0x3e*0x44+0xca3+0x1d1b*-0x1;_0x14dbec<_0x43c15d['length'];++_0x14dbec){const _0x429d40=_0x43c15d[_0x14dbec];_0x429d40&&_0x429d40['destroy']&&_0x429d40['destroy']();}}static['fetchArray'+'Buffer'](_0x25fb5f,_0x5ea1c2,_0x26bb82,_0x5495dd=0x2577+0xa47+0xfea*-0x3){var _0x2ab393;(_0x2ab393=_0x26bb82==null?void(0x5a+-0x490*0x4+0x11e6):_0x26bb82['file'])!=null&&_0x2ab393['contents']?setTimeout(()=>{_0x5ea1c2(null,_0x26bb82['file']['contents']);}):$e['get'](_0x25fb5f,{'cache':!(-0x25f*-0x7+0x2*0x30a+0x81*-0x2d),'responseType':'arraybuffe'+'r','retry':_0x5495dd>-0x23*0x19+0x1c09+-0x189e,'maxRetries':_0x5495dd},_0x5ea1c2);}}c(le,'EVENT_LOAD','load'),c(le,'EVENT_UNLO'+'AD','unload'),c(le,'EVENT_REMO'+'VE','remove'),c(le,'EVENT_ERRO'+'R','error'),c(le,'EVENT_CHAN'+'GE','change'),c(le,'EVENT_PROG'+'RESS','progress'),c(le,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),c(le,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class eP{constructor(_0x142be4=null){c(this,'_index',{}),c(this,'_key'),this['_key']=_0x142be4;}['addItem'](_0x2c5a33){const _0x1b63ad=_0x2c5a33['tags']['_list'];for(const _0x28c0a2 of _0x1b63ad)this['add'](_0x28c0a2,_0x2c5a33);}['removeItem'](_0x58ac77){const _0x1dd3e2=_0x58ac77['tags']['_list'];for(const _0x3a9b13 of _0x1dd3e2)this['remove'](_0x3a9b13,_0x58ac77);}['add'](_0x566bcd,_0x375419){this['_index'][_0x566bcd]&&this['_index'][_0x566bcd]['list']['indexOf'](_0x375419)!==-(0x7d9*0x3+0xa6f+-0x21f9)||(this['_index'][_0x566bcd]||(this['_index'][_0x566bcd]={'list':[]},this['_key']&&(this['_index'][_0x566bcd]['keys']={})),this['_index'][_0x566bcd]['list']['push'](_0x375419),this['_key']&&(this['_index'][_0x566bcd]['keys'][_0x375419[this['_key']]]=_0x375419));}['remove'](_0x416fb2,_0x5bc052){if(!this['_index'][_0x416fb2]||this['_key']&&!this['_index'][_0x416fb2]['keys'][_0x5bc052[this['_key']]])return;const _0x1d29f9=this['_index'][_0x416fb2]['list']['indexOf'](_0x5bc052);_0x1d29f9!==-(-0x1bba+0x722*-0x1+0x22dd)&&(this['_index'][_0x416fb2]['list']['splice'](_0x1d29f9,-0xbf*0x1b+-0x7*0x1c9+-0x89*-0x3d),this['_key']&&delete this['_index'][_0x416fb2]['keys'][_0x5bc052[this['_key']]],this['_index'][_0x416fb2]['list']['length']===-0x296*0x1+0x3*0x18a+-0x41*0x8&&delete this['_index'][_0x416fb2]);}['find'](_0x6ec03f){const _0x218dd5={},_0xf98493=[];let _0x71acbc,_0x359235,_0x58302d,_0x73842e,_0x4abec8;const _0x3ce5de=(_0x5f54a9,_0x5611dc)=>this['_index'][_0x5f54a9]['list']['length']-this['_index'][_0x5611dc]['list']['length'];for(let _0x466eb3=0x1025*-0x1+-0x87+0x10ac;_0x466eb3<_0x6ec03f['length'];_0x466eb3++){if(_0x359235=_0x6ec03f[_0x466eb3],_0x359235 instanceof Array){if(_0x359235['length']===0x259*0x1+-0x18fd+0x16a4)continue;if(_0x359235['length']===0x43*-0x41+-0x1a0a+0x2b0e)_0x359235=_0x359235[0x2609+-0x781+0x8*-0x3d1];else{_0x4abec8=!(0x1c9c+-0x11*-0x228+-0x4143*0x1);for(let _0x197e9e=0x2416+0x1*0x265+-0x267b;_0x197e9e<_0x359235['length'];_0x197e9e++)if(!this['_index'][_0x359235[_0x197e9e]]){_0x4abec8=!(0x1b2d+-0x12d8*-0x2+-0x40dd);break;}if(_0x4abec8)continue;_0x58302d=_0x359235['slice'](0x2211+-0x5ec+-0x1c25)['sort'](_0x3ce5de),_0x73842e=_0x58302d['slice'](-0x2177+-0x1*0x2054+0x41cc),_0x73842e['length']===-0x4a0*-0x4+0x8*-0x161+-0x27d*0x3&&(_0x73842e=_0x73842e[-0xbab+0x455*-0x3+0x18aa]);for(let _0x102ed7=-0x175*-0xc+-0x1*-0x1915+-0x2a91;_0x102ed7<this['_index'][_0x58302d[0x90+-0x2582+-0x24f2*-0x1]]['list']['length'];_0x102ed7++)_0x71acbc=this['_index'][_0x58302d[0x1*0xe4d+0x3*0x9a5+-0x2b3c]]['list'][_0x102ed7],(this['_key']?!_0x218dd5[_0x71acbc[this['_key']]]:_0xf98493['indexOf'](_0x71acbc)===-(-0x37b+0x66*-0x1a+-0x1*-0xdd8))&&_0x71acbc['tags']['has'](_0x73842e)&&(this['_key']&&(_0x218dd5[_0x71acbc[this['_key']]]=!(0x1871*-0x1+-0x2467+0x3cd8)),_0xf98493['push'](_0x71acbc));continue;}}if(_0x359235&&typeof _0x359235=='string'&&this['_index'][_0x359235]){for(let _0x41173c=-0x23c9+0x9*-0x3a6+-0xb*-0x63d;_0x41173c<this['_index'][_0x359235]['list']['length'];_0x41173c++)_0x71acbc=this['_index'][_0x359235]['list'][_0x41173c],this['_key']?_0x218dd5[_0x71acbc[this['_key']]]||(_0x218dd5[_0x71acbc[this['_key']]]=!(-0x261d+-0x27*-0xa1+-0x6cb*-0x2),_0xf98493['push'](_0x71acbc)):_0xf98493['indexOf'](_0x71acbc)===-(0x1f50+0x2*-0x662+-0x128b)&&_0xf98493['push'](_0x71acbc);}}return _0xf98493;}}class ao extends ce{constructor(_0x3db8ba){super(),c(this,'_assets',new Set()),c(this,'_loader'),c(this,'_idToAsset',new Map()),c(this,'_urlToAsse'+'t',new Map()),c(this,'_nameToAss'+'et',new Map()),c(this,'_tags',new eP('_id')),c(this,'prefix',null),c(this,'bundles',null),this['_loader']=_0x3db8ba;}['list'](_0x54f25d={}){const _0x58ea11=Array['from'](this['_assets']);return _0x54f25d['preload']!==void(-0x1*0xe77+0x664+0x1*0x813)?_0x58ea11['filter'](_0x1de590=>_0x1de590['preload']===_0x54f25d['preload']):_0x58ea11;}['add'](_0x2e49ad){var _0x360951,_0x374c80;this['_assets']['has'](_0x2e49ad)||(this['_assets']['add'](_0x2e49ad),this['_idToAsset']['set'](_0x2e49ad['id'],_0x2e49ad),(_0x360951=_0x2e49ad['file'])!=null&&_0x360951['url']&&this['_urlToAsse'+'t']['set'](_0x2e49ad['file']['url'],_0x2e49ad),this['_nameToAss'+'et']['has'](_0x2e49ad['name'])||this['_nameToAss'+'et']['set'](_0x2e49ad['name'],new Set()),this['_nameToAss'+'et']['get'](_0x2e49ad['name'])['add'](_0x2e49ad),_0x2e49ad['on']('name',this['_onNameCha'+'nge'],this),_0x2e49ad['registry']=this,this['_tags']['addItem'](_0x2e49ad),_0x2e49ad['tags']['on']('add',this['_onTagAdd'],this),_0x2e49ad['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x2e49ad),this['fire']('add:'+_0x2e49ad['id'],_0x2e49ad),(_0x374c80=_0x2e49ad['file'])!=null&&_0x374c80['url']&&this['fire']('add:url:'+_0x2e49ad['file']['url'],_0x2e49ad),_0x2e49ad['preload']&&this['load'](_0x2e49ad));}['remove'](_0x4c75aa){var _0x30cc3c,_0x33db20;if(!this['_assets']['has'](_0x4c75aa))return!(-0x7*0x445+-0x23e7+-0x1*-0x41cb);if(this['_assets']['delete'](_0x4c75aa),this['_idToAsset']['delete'](_0x4c75aa['id']),(_0x30cc3c=_0x4c75aa['file'])!=null&&_0x30cc3c['url']&&this['_urlToAsse'+'t']['delete'](_0x4c75aa['file']['url']),_0x4c75aa['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x4c75aa['name'])){const _0x2a8188=this['_nameToAss'+'et']['get'](_0x4c75aa['name']);_0x2a8188['delete'](_0x4c75aa),_0x2a8188['size']===-0xf*0x156+0x4d0+0xf3a&&this['_nameToAss'+'et']['delete'](_0x4c75aa['name']);}return this['_tags']['removeItem'](_0x4c75aa),_0x4c75aa['tags']['off']('add',this['_onTagAdd'],this),_0x4c75aa['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x4c75aa['fire']('remove',_0x4c75aa),this['fire']('remove',_0x4c75aa),this['fire']('remove:'+_0x4c75aa['id'],_0x4c75aa),(_0x33db20=_0x4c75aa['file'])!=null&&_0x33db20['url']&&this['fire']('remove:url'+':'+_0x4c75aa['file']['url'],_0x4c75aa),!(0x180f+0xa7*0x12+-0x23cd);}['get'](_0x47818d){return this['_idToAsset']['get'](Number(_0x47818d));}['getByUrl'](_0x3cd996){return this['_urlToAsse'+'t']['get'](_0x3cd996);}['load'](_0x2d29c8,_0x27945e){if((_0x2d29c8['loading']||_0x2d29c8['loaded'])&&!(_0x27945e!=null&&_0x27945e['force']))return;const _0xc080bf=_0x2d29c8['file'],_0x5c711c=()=>{this['fire']('load',_0x2d29c8),this['fire']('load:'+_0x2d29c8['id'],_0x2d29c8),_0xc080bf&&_0xc080bf['url']&&this['fire']('load:url:'+_0xc080bf['url'],_0x2d29c8),_0x2d29c8['fire']('load',_0x2d29c8);},_0x557786=_0x18b795=>{if(_0x18b795 instanceof Array?_0x2d29c8['resources']=_0x18b795:_0x2d29c8['resource']=_0x18b795,this['_loader']['patch'](_0x2d29c8,this),_0x2d29c8['type']==='bundle'){const _0x20fb4a=_0x2d29c8['data']['assets'];for(let _0x1f73f6=0x3c*-0x82+0x253a+0x1*-0x6c2;_0x1f73f6<_0x20fb4a['length'];_0x1f73f6++){const _0x30e325=this['_idToAsset']['get'](_0x20fb4a[_0x1f73f6]);_0x30e325&&!_0x30e325['loaded']&&this['load'](_0x30e325,{'force':!(-0x1*-0x205+-0xb3c+-0x937*-0x1)});}_0x2d29c8['resource']['loaded']?_0x5c711c():(this['fire']('load:start',_0x2d29c8),this['fire']('load:start'+':'+_0x2d29c8['id'],_0x2d29c8),_0xc080bf&&_0xc080bf['url']&&this['fire']('load:start'+':url:'+_0xc080bf['url'],_0x2d29c8),_0x2d29c8['fire']('load:start',_0x2d29c8),_0x2d29c8['resource']['on']('load',_0x5c711c));}else _0x5c711c();},_0x520351=(_0x240530,_0x3ecbe5,_0x49181f)=>{if(_0x2d29c8['loaded']=!(-0x15c8+-0xd7*0x23+-0x21*-0x18d),_0x2d29c8['loading']=!(-0x2*0x6d0+-0x5*0xdb+0x5f8*0x3),_0x240530)this['fire']('error',_0x240530,_0x2d29c8),this['fire']('error:'+_0x2d29c8['id'],_0x240530,_0x2d29c8),_0x2d29c8['fire']('error',_0x240530,_0x2d29c8);else{if(_0x2d29c8['type']==='script'){const _0x1049e4=this['_loader']['getHandler']('script');_0x1049e4['_cache'][_0x2d29c8['id']]&&_0x1049e4['_cache'][_0x2d29c8['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x1049e4['_cache'][_0x2d29c8['id']]),_0x1049e4['_cache'][_0x2d29c8['id']]=_0x49181f;}_0x557786(_0x3ecbe5);}};if(_0xc080bf||_0x2d29c8['type']==='cubemap'){this['fire']('load:start',_0x2d29c8),this['fire']('load:'+_0x2d29c8['id']+':start',_0x2d29c8),_0x2d29c8['loading']=!(0x88f+0x12bf*-0x2+0x1cef);const _0x395a8e=_0x2d29c8['getFileUrl']();if(_0x2d29c8['type']==='bundle'){const _0x4757d3=_0x2d29c8['data']['assets'];for(let _0x59ed40=-0x1*-0x193+0xf8b+0x88f*-0x2;_0x59ed40<_0x4757d3['length'];_0x59ed40++){const _0x88f228=this['_idToAsset']['get'](_0x4757d3[_0x59ed40]);_0x88f228&&(_0x88f228['loaded']||_0x88f228['resource']||_0x88f228['loading']||(_0x88f228['loading']=!(0x1c5a+-0x89*-0x8+-0x20a2)));}}this['_loader']['load'](_0x395a8e,_0x2d29c8['type'],_0x520351,_0x2d29c8,_0x27945e);}else{const _0x4bd975=this['_loader']['open'](_0x2d29c8['type'],_0x2d29c8['data']);_0x2d29c8['loaded']=!(0x1*0x3df+-0x12c3*-0x2+-0x2965*0x1),_0x557786(_0x4bd975);}}['loadFromUr'+'l'](_0xa23107,_0x124752,_0x46aed7){this['loadFromUr'+'lAndFilena'+'me'](_0xa23107,null,_0x124752,_0x46aed7);}['loadFromUr'+'lAndFilena'+'me'](_0xfd0def,_0x5f33fa,_0x468cb4,_0x2a78ce){const _0xd49762=fe['getBasenam'+'e'](_0x5f33fa||_0xfd0def),_0x553278={'filename':_0x5f33fa||_0xd49762,'url':_0xfd0def};let _0x230ad1=this['getByUrl'](_0xfd0def);if(!_0x230ad1)_0x230ad1=new le(_0xd49762,_0x468cb4,_0x553278),this['add'](_0x230ad1);else{if(_0x230ad1['loaded']){_0x2a78ce(_0x230ad1['loadFromUr'+'lError']||null,_0x230ad1);return;}}const _0x3a3728=_0x52b551=>{_0x52b551['once']('load',_0x375a9d=>{_0x468cb4==='material'?this['_loadTextu'+'res'](_0x375a9d,(_0x9a67d1,_0x494e0a)=>{_0x2a78ce(_0x9a67d1,_0x375a9d);}):_0x2a78ce(null,_0x375a9d);}),_0x52b551['once']('error',_0x4cca59=>{_0x4cca59&&(this['loadFromUr'+'lError']=_0x4cca59),_0x2a78ce(_0x4cca59,_0x52b551);}),this['load'](_0x52b551);};_0x230ad1['resource']?_0x2a78ce(null,_0x230ad1):_0x468cb4==='model'?this['_loadModel'](_0x230ad1,_0x3a3728):_0x3a3728(_0x230ad1);}['_loadModel'](_0x54a64c,_0x5c4108){const _0x176657=_0x54a64c['getFileUrl'](),_0x1096e0=fe['getExtensi'+'on'](_0x176657);if(_0x1096e0==='.json'||_0x1096e0==='.glb'){const _0x450623=fe['getDirecto'+'ry'](_0x176657),_0x4c9199=fe['getBasenam'+'e'](_0x176657),_0x120c55=fe['join'](_0x450623,_0x4c9199['replace'](_0x1096e0,'.mapping.j'+'son'));this['_loader']['load'](_0x120c55,'json',(_0x2d21ca,_0x366875)=>{_0x2d21ca?(_0x54a64c['data']={'mapping':[]},_0x5c4108(_0x54a64c)):this['_loadMater'+'ials'](_0x54a64c,_0x366875,(_0x338a26,_0xa6f49f)=>{_0x54a64c['data']=_0x366875,_0x5c4108(_0x54a64c);});});}else _0x5c4108(_0x54a64c);}['_loadMater'+'ials'](_0x1926de,_0x3b1f99,_0xad8533){const _0x2eb020=[];let _0x4db60c=0x49a*-0x2+0x2f1*-0x3+-0x39b*-0x5;const _0x1603e5=(_0x461da4,_0x45940b)=>{this['_loadTextu'+'res'](_0x45940b,(_0x37d22d,_0x14a516)=>{_0x2eb020['push'](_0x45940b),_0x2eb020['length']===_0x4db60c&&_0xad8533(null,_0x2eb020);});};for(let _0x33f39c=-0x26c1+-0x1f8d*-0x1+0x734;_0x33f39c<_0x3b1f99['mapping']['length'];_0x33f39c++){const _0x333ca1=_0x3b1f99['mapping'][_0x33f39c]['path'];if(_0x333ca1){_0x4db60c++;const _0x37bbf1=_0x1926de['getAbsolut'+'eUrl'](_0x333ca1);this['loadFromUr'+'l'](_0x37bbf1,'material',_0x1603e5);}}_0x4db60c===-0x3*0x1a+0x1294+-0x2*0x923&&_0xad8533(null,_0x2eb020);}['_loadTextu'+'res'](_0x18a24b,_0x4252f1){const _0x2d5f79=[];let _0xeb6844=0x18*-0xf+-0x66f+-0x1*-0x7d7;const _0x472064=_0x18a24b['data'];if(_0x472064['mappingFor'+'mat']!=='path'){v['warn']('Skipping:\x20'+_0x18a24b['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x4252f1(null,_0x2d5f79);return;}const _0x5412f7=(_0xe95585,_0x2c0167)=>{_0xe95585&&console['error'](_0xe95585),_0x2d5f79['push'](_0x2c0167),_0x2d5f79['length']===_0xeb6844&&_0x4252f1(null,_0x2d5f79);},_0x46c850=Kc;for(let _0x21d9dd=0x4*-0x795+0xd*-0x10f+0x2c17;_0x21d9dd<_0x46c850['length'];_0x21d9dd++){const _0x528973=_0x472064[_0x46c850[_0x21d9dd]];if(_0x528973&&typeof _0x528973=='string'){_0xeb6844++;const _0x48a0fb=_0x18a24b['getAbsolut'+'eUrl'](_0x528973);this['loadFromUr'+'l'](_0x48a0fb,'texture',_0x5412f7);}}_0xeb6844===-0x2474+-0x1f*0x1d+0x27f7&&_0x4252f1(null,_0x2d5f79);}['_onTagAdd'](_0x3df082,_0x229703){this['_tags']['add'](_0x3df082,_0x229703);}['_onTagRemo'+'ve'](_0x364d67,_0xd4f9a9){this['_tags']['remove'](_0x364d67,_0xd4f9a9);}['_onNameCha'+'nge'](_0x2adb6a,_0x4c873e,_0xad24c3){if(this['_nameToAss'+'et']['has'](_0xad24c3)){const _0x2576a6=this['_nameToAss'+'et']['get'](_0xad24c3);_0x2576a6['delete'](_0x2adb6a),_0x2576a6['size']===-0xb0*0x7+-0x1*-0x136b+-0xe9b&&this['_nameToAss'+'et']['delete'](_0xad24c3);}this['_nameToAss'+'et']['has'](_0x2adb6a['name'])||this['_nameToAss'+'et']['set'](_0x2adb6a['name'],new Set()),this['_nameToAss'+'et']['get'](_0x2adb6a['name'])['add'](_0x2adb6a);}['findByTag'](..._0x57c546){return this['_tags']['find'](_0x57c546);}['filter'](_0x1147a1){return Array['from'](this['_assets'])['filter'](_0x11cc4e=>_0x1147a1(_0x11cc4e));}['find'](_0x1badd6,_0x395572){const _0x1d9d51=this['_nameToAss'+'et']['get'](_0x1badd6);if(!_0x1d9d51)return null;for(const _0x2ff7a7 of _0x1d9d51)if(!_0x395572||_0x2ff7a7['type']===_0x395572)return _0x2ff7a7;return null;}['findAll'](_0x4e0273,_0x52a88b){const _0x4b8967=this['_nameToAss'+'et']['get'](_0x4e0273);if(!_0x4b8967)return[];const _0xe6e1a4=Array['from'](_0x4b8967);return _0x52a88b?_0xe6e1a4['filter'](_0x27dbed=>_0x27dbed['type']===_0x52a88b):_0xe6e1a4;}}c(ao,'EVENT_LOAD','load'),c(ao,'EVENT_ADD','add'),c(ao,'EVENT_REMO'+'VE','remove'),c(ao,'EVENT_ERRO'+'R','error');class tP{constructor(_0x5e1815){c(this,'_idToBundl'+'e',new Map()),c(this,'_assetToBu'+'ndles',new Map()),c(this,'_urlsToBun'+'dles',new Map()),c(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x5e1815,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x534354){if(_0x534354['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x534354['id'],_0x534354),this['_assets']['on']('load:start'+':'+_0x534354['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x534354['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x534354['id'],this['_onBundleE'+'rror'],this);const _0x17376b=_0x534354['data']['assets'];for(let _0x3ac48f=-0x3*-0xc9+-0x31*-0x19+0x1*-0x724;_0x3ac48f<_0x17376b['length'];_0x3ac48f++)this['_indexAsse'+'tInBundle'](_0x17376b[_0x3ac48f],_0x534354);}else this['_assetToBu'+'ndles']['has'](_0x534354['id'])&&this['_indexAsse'+'tFileUrls'](_0x534354);}['_unbindAss'+'etEvents'](_0x2cd79c){this['_assets']['off']('load:start'+':'+_0x2cd79c,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x2cd79c,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x2cd79c,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x15c7bd,_0x48eab3){let _0x37518a=this['_assetToBu'+'ndles']['get'](_0x15c7bd);_0x37518a||(_0x37518a=new Set(),this['_assetToBu'+'ndles']['set'](_0x15c7bd,_0x37518a)),_0x37518a['add'](_0x48eab3);const _0x53e68e=this['_assets']['get'](_0x15c7bd);_0x53e68e&&this['_indexAsse'+'tFileUrls'](_0x53e68e);}['_indexAsse'+'tFileUrls'](_0x2db599){const _0x369a33=this['_getAssetF'+'ileUrls'](_0x2db599);if(_0x369a33)for(let _0x2c0ae3=0x4*-0x935+-0x22*0x36+-0x2c*-0x100;_0x2c0ae3<_0x369a33['length'];_0x2c0ae3++){const _0x378ffa=this['_assetToBu'+'ndles']['get'](_0x2db599['id']);_0x378ffa&&this['_urlsToBun'+'dles']['set'](_0x369a33[_0x2c0ae3],_0x378ffa);}}['_getAssetF'+'ileUrls'](_0x2b6bd1){let _0x217ca5=_0x2b6bd1['getFileUrl']();if(!_0x217ca5)return null;_0x217ca5=_0x217ca5['split']('?')[-0x1413+-0xf8c+0xb*0x33d];const _0xd1f9be=[_0x217ca5];if(_0x2b6bd1['type']==='font'){const _0x3ac434=_0x2b6bd1['data']['info']['maps']['length'];for(let _0x2ace3a=-0x5f3*-0x2+0x25*0x25+-0x113e;_0x2ace3a<_0x3ac434;_0x2ace3a++)_0xd1f9be['push'](_0x217ca5['replace']('.png',_0x2ace3a+'.png'));}return _0xd1f9be;}['_onAssetRe'+'move'](_0x25f980){if(_0x25f980['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x25f980['id']),this['_unbindAss'+'etEvents'](_0x25f980['id']);const _0xfbd613=_0x25f980['data']['assets'];for(let _0x1828db=0x222a+-0x1c0a*0x1+0x31*-0x20;_0x1828db<_0xfbd613['length'];_0x1828db++){const _0x278c59=this['_assetToBu'+'ndles']['get'](_0xfbd613[_0x1828db]);if(_0x278c59&&(_0x278c59['delete'](_0x25f980),_0x278c59['size']===-0x695+-0x21+0x6b6)){this['_assetToBu'+'ndles']['delete'](_0xfbd613[_0x1828db]);for(const [_0x4effc5,_0x3ca4ef]of this['_urlsToBun'+'dles'])_0x3ca4ef===_0x278c59&&this['_urlsToBun'+'dles']['delete'](_0x4effc5);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x25f980['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x25f980['id']))return;this['_assetToBu'+'ndles']['delete'](_0x25f980['id']);const _0x282d01=this['_getAssetF'+'ileUrls'](_0x25f980);if(!_0x282d01)return;for(let _0xad7b8a=0x7*0x61+-0x72e+0x487;_0xad7b8a<_0x282d01['length'];_0xad7b8a++)this['_urlsToBun'+'dles']['delete'](_0x282d01[_0xad7b8a]);}}['_onBundleL'+'oadStart'](_0x28fd8f){_0x28fd8f['resource']['on']('add',(_0x21f34f,_0x4bda2e)=>{const _0x2415c3=this['_fileReque'+'sts']['get'](_0x21f34f);if(_0x2415c3){for(let _0x39a198=0x645+-0xa08*0x1+0x3c3;_0x39a198<_0x2415c3['length'];_0x39a198++)_0x2415c3[_0x39a198](null,_0x4bda2e);this['_fileReque'+'sts']['delete'](_0x21f34f);}});}['_onBundleL'+'oad'](_0x2b5b3c){if(!_0x2b5b3c['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x2b5b3c['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x48719a,_0x26db6f]of this['_fileReque'+'sts']){const _0x314b21=this['_urlsToBun'+'dles']['get'](_0x48719a);if(!_0x314b21||!_0x314b21['has'](_0x2b5b3c))continue;const _0x44213c=decodeURIComponent(_0x48719a);let _0x24e333,_0x9f81b0;if(_0x2b5b3c['resource']['has'](_0x44213c))_0x9f81b0=_0x2b5b3c['resource']['get'](_0x44213c);else{if(_0x2b5b3c['resource']['loaded'])_0x24e333='Bundle\x20'+_0x2b5b3c['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x48719a;else continue;}for(let _0x3869ec=0x1d03+0x1cd1+0x39d4*-0x1;_0x3869ec<_0x26db6f['length'];_0x3869ec++)_0x26db6f[_0x3869ec](_0x24e333,_0x24e333||_0x9f81b0);this['_fileReque'+'sts']['delete'](_0x48719a);}}['_onBundleE'+'rror'](_0x23340c){for(const [_0x4764cc,_0x543658]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x4764cc)){for(let _0x5df899=-0xe9*-0x13+-0x328+-0xe23;_0x5df899<_0x543658['length'];_0x5df899++)_0x543658[_0x5df899](_0x23340c);this['_fileReque'+'sts']['delete'](_0x4764cc);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x1a6894){const _0x49f0ab=this['_urlsToBun'+'dles']['get'](_0x1a6894);if(!_0x49f0ab)return null;let _0x614eef=null;for(const _0x1aab84 of _0x49f0ab){if(_0x1aab84['loaded']&&_0x1aab84['resource'])return _0x1aab84;_0x1aab84['loading']&&(_0x614eef=_0x1aab84);}return _0x614eef;}['listBundle'+'sForAsset'](_0x19b8d7){const _0x2afdbb=this['_assetToBu'+'ndles']['get'](_0x19b8d7['id']);return _0x2afdbb?Array['from'](_0x2afdbb):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0xb52159){return this['_urlsToBun'+'dles']['has'](_0xb52159);}['urlIsLoade'+'dOrLoading'](_0xa3da4b){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0xa3da4b);}['loadUrl'](_0x181582,_0x4cd860){const _0x4359dc=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x181582);if(!_0x4359dc){_0x4cd860('URL\x20'+_0x181582+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x4359dc['loaded']){const _0x5e9024=decodeURIComponent(_0x181582);if(_0x4359dc['resource']['has'](_0x5e9024)){_0x4cd860(null,_0x4359dc['resource']['get'](_0x5e9024));return;}else{if(_0x4359dc['resource']['loaded']){_0x4cd860('Bundle\x20'+_0x4359dc['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x181582);return;}}}let _0x4dc05e=this['_fileReque'+'sts']['get'](_0x181582);_0x4dc05e||(_0x4dc05e=[],this['_fileReque'+'sts']['set'](_0x181582,_0x4dc05e)),_0x4dc05e['push'](_0x4cd860);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x2c578c of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x2c578c);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class sP extends ce{constructor(){super(),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'joint'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'zone'),this['list']=[];}['add'](_0x2bdbd8){const _0x4d760d=_0x2bdbd8['id'];if(this[_0x4d760d])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x4d760d+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x4d760d]=_0x2bdbd8,this['list']['push'](_0x2bdbd8);}['remove'](_0x5ccc72){const _0x321ac5=_0x5ccc72['id'];if(!this[_0x321ac5])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x321ac5+('\x27\x20register'+'ed'));delete this[_0x321ac5];const _0x2b58c3=this['list']['indexOf'](this[_0x321ac5]);_0x2b58c3!==-(-0x26dd+0x1*-0x1550+0x3c2e)&&this['list']['splice'](_0x2b58c3,0x21fa*0x1+-0x16b7+0x83*-0x16);}['destroy'](){this['off']();for(let _0x1030cc=0x5*-0x69d+-0x2*-0x6ee+0x1335;_0x1030cc<this['list']['length'];_0x1030cc++)this['list'][_0x1030cc]['destroy']();}}class Xu extends ce{constructor(){super(...arguments),c(this,'_index',new Map()),c(this,'_loaded',!(-0x1dc2+0x1edf+-0x4*0x47));}['addFile'](_0x5bdaa4,_0x2ac217){this['_index']['has'](_0x5bdaa4)||(this['_index']['set'](_0x5bdaa4,_0x2ac217),this['fire']('add',_0x5bdaa4,_0x2ac217));}['has'](_0x3a77ec){return this['_index']['has'](_0x3a77ec);}['get'](_0x3d7b){return this['_index']['get'](_0x3d7b)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x343f6e){!_0x343f6e||this['_loaded']||(this['_loaded']=!(-0x4be+-0x4*-0x900+-0x1f42),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}c(Xu,'EVENT_ADD','add'),c(Xu,'EVENT_LOAD','load');class iP extends ce{constructor(_0x399116,_0x43a97b=''){super(),c(this,'headerSize',0x1*-0x24d9+0xfd6+0x1703),c(this,'paddingSiz'+'e',0x49*-0x2d+-0xa*-0x6f+0xa7f),c(this,'bytesRead',0x23cb+-0x19a1*-0x1+0x1eb6*-0x2),c(this,'bytesRecei'+'ved',0x2002+0x86*0x33+-0x3ab4),c(this,'headerRead',!(0xd*-0x101+-0x15be+-0x20c*-0x11)),c(this,'reader',null),c(this,'data',new Uint8Array(-0x11b*-0x9+0x2*0x655+-0x169d)),c(this,'decoder',null),c(this,'prefix',''),c(this,'fileName',''),c(this,'fileSize',0x13*0x7a+0x5bb+-0xec9),c(this,'fileType',''),c(this,'ustarForma'+'t',''),(this['prefix']=_0x43a97b||'',this['reader']=_0x399116['body']['getReader'](),this['reader']['read']()['then'](_0x213d74=>{this['pump'](_0x213d74['done'],_0x213d74['value']);})['catch'](_0x160301=>{this['fire']('error',_0x160301);}));}['pump'](_0x372ed4,_0x28422a){if(_0x372ed4)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x28422a['byteLength'];const _0x16fed0=new Uint8Array(this['data']['length']+_0x28422a['length']);for(_0x16fed0['set'](this['data']),_0x16fed0['set'](_0x28422a,this['data']['length']),this['data']=_0x16fed0;this['readFile'](););return this['reader']['read']()['then'](_0x776b84=>{this['pump'](_0x776b84['done'],_0x776b84['value']);})['catch'](_0x1ea8b9=>{this['fire']('error',_0x1ea8b9);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(-0xbbb+-0x1*-0x79f+-0x2*-0x20e);const _0x4bdbdd=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x548ac3=this['decoder']['decode'](_0x4bdbdd);if(this['fileName']=_0x548ac3['substring'](0x24e6+-0x86*0x1d+-0x15b8,0x148e+-0x1571*0x1+0x147)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x548ac3['substring'](0x3*-0x3f9+0x2073+-0x503*0x4,0x22*0xce+-0x1*0x57e+-0x1556),-0x1*0x1cfd+-0x5*-0x3d7+0x9d2),this['fileType']=_0x548ac3['substring'](0x20e5*0x1+0x94e+-0x2997,0x12a*-0x5+-0x71f*0x1+0xd8e),this['ustarForma'+'t']=_0x548ac3['substring'](-0x1308+0x1*-0x1f2e+0x3337,-0x1*-0x1a81+0x221d+0x153*-0x2d),this['ustarForma'+'t']['indexOf']('ustar')!==-(0x2073+-0x1f22+-0x150)){const _0x26f94e=_0x548ac3['substring'](-0x2681*0x1+-0x1e4d+0x4627*0x1,-0xcf6+0x116*0x7+-0x3a8*-0x2)['replace'](/\0/g,'');_0x26f94e['length']>0x2*-0xfad+-0x1541*-0x1+0x37*0x2f&&(this['fileName']=_0x26f94e['trim']()+this['fileName']['trim']());}this['bytesRead']+=-0x192b*0x1+-0x1*-0x1652+0x4d9;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(0x2200+-0x14d0+0x465*-0x3);if(this['fileType']===''||this['fileType']==='0'){const _0x18b1bf=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x54e7e1={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x18b1bf};this['fire']('file',_0x54e7e1);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(-0x175e+0x2422+0x441*-0x3);const _0x2d7540=this['bytesRead']%this['paddingSiz'+'e'];return _0x2d7540!==-0xbd+0xc56+-0xb99&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x2d7540),!(-0x24f*0xb+0x1*-0xaca+0x3b*0x9d);}return!(-0xd05+0x1009+-0x303*0x1);}}class Ne{constructor(_0x36d50f,_0x30ad68){c(this,'handlerTyp'+'e',''),c(this,'_app'),c(this,'_maxRetrie'+'s',-0x249e+-0x6c0+0x2b5e),(this['_app']=_0x36d50f,this['handlerTyp'+'e']=_0x30ad68);}set['maxRetries'](_0x5c6e1e){this['_maxRetrie'+'s']=_0x5c6e1e;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x4a0a5a,_0x4bd1e0,_0x368ed2){}['open'](_0x4c8fd2,_0xf507c5,_0x112d9e){return _0xf507c5;}['patch'](_0x371c51,_0x5453ec){}}class rP extends Ne{constructor(_0xb3284d){super(_0xb3284d,'bundle'),this['_assets']=_0xb3284d['assets'];}['_fetchRetr'+'ies'](_0x4dcfff,_0x22c0d1,_0x2c114e=-0xa9f+-0x1*-0x306+0x799){return new Promise((_0x3d056a,_0x24bcaf)=>{const _0x47bcd7=()=>{fetch(_0x4dcfff,_0x22c0d1)['then'](_0x3d056a)['catch'](_0x41579a=>{_0x2c114e++,_0x2c114e<this['maxRetries']?(v['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x2c114e),_0x47bcd7()):_0x24bcaf(_0x41579a);});};_0x47bcd7();});}['load'](_0x57c639,_0xf89f42){typeof _0x57c639=='string'&&(_0x57c639={'load':_0x57c639,'original':_0x57c639}),this['_fetchRetr'+'ies'](_0x57c639['load'],{'mode':'cors','credentials':'include'},this['maxRetries'])['then'](_0x1a299f=>{const _0x3dc94e=new Xu();_0xf89f42(null,_0x3dc94e);const _0x1cffc7=new iP(_0x1a299f,this['_assets']['prefix']);_0x1cffc7['on']('file',_0x4f692f=>{_0x3dc94e['addFile'](_0x4f692f['name'],_0x4f692f['data']);}),_0x1cffc7['on']('done',()=>{_0x3dc94e['loaded']=!(0x417+-0x173*-0x13+0x17*-0x160);}),_0x1cffc7['on']('error',_0x5d1058=>{v['error'](_0x5d1058),_0xf89f42(_0x5d1058);});})['catch'](_0x20de68=>{v['error'](_0x20de68),_0xf89f42(_0x20de68);});}['open'](_0x2dd083,_0x58bac6){return _0x58bac6;}}class pa{constructor(_0x3271b4){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x3271b4;}['addHandler'](_0x2ec8df,_0x41e514){this['_handlers'][_0x2ec8df]=_0x41e514,_0x41e514['_loader']=this;}['removeHand'+'ler'](_0x2e3465){delete this['_handlers'][_0x2e3465];}['getHandler'](_0x6f63ae){return this['_handlers'][_0x6f63ae];}static['makeKey'](_0x2a4425,_0x7b78c2){return _0x2a4425+'-'+_0x7b78c2;}['load'](_0x12fb3f,_0x41f6f5,_0x50dcca,_0x3a40d0,_0x9c5b16){var _0x4b294e;const _0x405e61=this['_handlers'][_0x41f6f5];if(!_0x405e61){const _0x599fdb='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x41f6f5+('\x27\x20when\x20loa'+'ding\x20[')+_0x12fb3f+']';v['errorOnce'](_0x599fdb),_0x50dcca(_0x599fdb);return;}if(!_0x12fb3f){this['_loadNull'](_0x405e61,_0x50dcca,_0x3a40d0);return;}const _0x518a1e=pa['makeKey'](_0x12fb3f,_0x41f6f5);if(this['_cache'][_0x518a1e]!==void(-0x1453+-0x3e*0x12+0x18af))_0x50dcca(null,this['_cache'][_0x518a1e]);else{if(this['_requests'][_0x518a1e])this['_requests'][_0x518a1e]['push'](_0x50dcca);else{this['_requests'][_0x518a1e]=[_0x50dcca];const _0x31d118=this,_0xb439b4=function(_0x1738cc,_0x1e8523){if(_0x1738cc){_0x31d118['_onFailure'](_0x518a1e,_0x1738cc);return;}if(_0x1e8523['load']instanceof DataView){if(_0x405e61['openBinary']){if(!_0x31d118['_requests'][_0x518a1e])return;try{const _0x20574e=_0x405e61['openBinary'](_0x1e8523['load']);_0x31d118['_onSuccess'](_0x518a1e,_0x20574e);}catch(_0x434e5c){_0x31d118['_onFailure'](_0x518a1e,_0x434e5c);}return;}_0x1e8523['load']=URL['createObje'+'ctURL'](new Blob([_0x1e8523['load']])),_0x3a40d0&&(_0x3a40d0['urlObject']&&URL['revokeObje'+'ctURL'](_0x3a40d0['urlObject']),_0x3a40d0['urlObject']=_0x1e8523['load']);}_0x405e61['load'](_0x1e8523,(_0x516cd1,_0xb06e00,_0x3fd2f4)=>{if(_0x31d118['_requests'][_0x518a1e]){if(_0x516cd1){_0x31d118['_onFailure'](_0x518a1e,_0x516cd1);return;}try{_0x31d118['_onSuccess'](_0x518a1e,_0x405e61['open'](_0x1e8523['original'],_0xb06e00,_0x3a40d0),_0x3fd2f4);}catch(_0x437d08){_0x31d118['_onFailure'](_0x518a1e,_0x437d08);}}},_0x3a40d0);},_0x287941=_0x12fb3f['split']('?')[0x3*0x1a9+0x812*0x2+-0x151f];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x287941)&&!(_0x9c5b16&&_0x9c5b16['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x287941)){const _0xd186a6=this['_app']['bundles']['listBundle'+'sForAsset'](_0x3a40d0);let _0x4758d2;_0x9c5b16&&_0x9c5b16['bundlesFil'+'ter']&&(_0x4758d2=_0x9c5b16['bundlesFil'+'ter'](_0xd186a6)),_0x4758d2||(_0xd186a6==null||_0xd186a6['sort']((_0x577769,_0x10ff68)=>_0x577769['file']['size']-_0x10ff68['file']['size']),_0x4758d2=_0xd186a6==null?void(-0x27*0xef+0x2*-0x336+0x3*0xe47):_0xd186a6[0xdb0+-0x6*0x22e+0x27*-0x4]),_0x4758d2&&((_0x4b294e=this['_app']['assets'])==null||_0x4b294e['load'](_0x4758d2));}this['_app']['bundles']['loadUrl'](_0x287941,(_0x43f371,_0x2e975e)=>{_0xb439b4(_0x43f371,{'load':_0x2e975e,'original':_0x287941});});}else _0xb439b4(null,{'load':_0x12fb3f,'original':_0x3a40d0&&_0x3a40d0['file']['filename']||_0x12fb3f});}}}['_loadNull'](_0x3d5912,_0x5717b1,_0x17bc3b){const _0x4ea39d=function(_0x2fc36f,_0x2a4cf9,_0x10110a){if(_0x2fc36f)_0x5717b1(_0x2fc36f);else try{_0x5717b1(null,_0x3d5912['open'](null,_0x2a4cf9,_0x17bc3b),_0x10110a);}catch(_0x4ef608){_0x5717b1(_0x4ef608);}};_0x3d5912['load'](null,_0x4ea39d,_0x17bc3b);}['_onSuccess'](_0x27b8a9,_0x1ef3ea,_0x3d9788){_0x1ef3ea!==null?this['_cache'][_0x27b8a9]=_0x1ef3ea:delete this['_cache'][_0x27b8a9];for(let _0x13f8a3=-0x21ae+-0x9e*-0x29+0x860;_0x13f8a3<this['_requests'][_0x27b8a9]['length'];_0x13f8a3++)this['_requests'][_0x27b8a9][_0x13f8a3](null,_0x1ef3ea,_0x3d9788);delete this['_requests'][_0x27b8a9];}['_onFailure'](_0x431800,_0x532e10){if(console['error'](_0x532e10),this['_requests'][_0x431800]){for(let _0x5bfcf3=-0x13fa+-0xd97*-0x2+-0x734;_0x5bfcf3<this['_requests'][_0x431800]['length'];_0x5bfcf3++)this['_requests'][_0x431800][_0x5bfcf3](_0x532e10);delete this['_requests'][_0x431800];}}['open'](_0x16a413,_0x515a03){const _0x355d4a=this['_handlers'][_0x16a413];return _0x355d4a?_0x355d4a['open'](null,_0x515a03):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x16a413),_0x515a03);}['patch'](_0x908a4a,_0x557ba5){const _0x33f98e=this['_handlers'][_0x908a4a['type']];if(!_0x33f98e){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x908a4a['type']);return;}_0x33f98e['patch']&&_0x33f98e['patch'](_0x908a4a,_0x557ba5);}['clearCache'](_0x356d0c,_0x402f4e){const _0x1145a8=pa['makeKey'](_0x356d0c,_0x402f4e);delete this['_cache'][_0x1145a8];}['getFromCac'+'he'](_0x4aa1a6,_0x1ab443){const _0x1f1335=pa['makeKey'](_0x4aa1a6,_0x1ab443);if(this['_cache'][_0x1f1335])return this['_cache'][_0x1f1335];}['enableRetr'+'y'](_0x24317c=0xce*-0x13+0x50*0x1e+0x5ef){_0x24317c=Math['max'](-0xf4f+-0xb1b+0xa1*0x2a,_0x24317c)||-0x2*0x72c+-0x1de3+0x2c3b;for(const _0x27928f in this['_handlers'])this['_handlers'][_0x27928f]['maxRetries']=_0x24317c;}['disableRet'+'ry'](){for(const _0x390eab in this['_handlers'])this['_handlers'][_0x390eab]['maxRetries']=0x2190+-0xb23*0x2+0x5a5*-0x2;}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class nP{['_validate'](_0xf8c84c){if(!_0xf8c84c['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0xf8c84c['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0xf8c84c['header']['version']!==-0x416+-0x2584+0x299b)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0xf8c84c['data']){if(!Array['isArray'](_0xf8c84c['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x8e2e48=0x2*0xd21+0x8ac+-0x22ee,_0x49bd2c=_0xf8c84c['data']['length'];_0x8e2e48<_0x49bd2c;_0x8e2e48++){const _0x4bf6c6=_0xf8c84c['data'][_0x8e2e48];if(!_0x4bf6c6['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x8e2e48+('].info\x22\x20fi'+'eld'));if(!_0x4bf6c6['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x8e2e48+('].info.loc'+'ale\x22\x20field'));if(typeof _0x4bf6c6['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x8e2e48+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x4bf6c6['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x8e2e48+('].messages'+'\x22\x20field'));}}['parse'](_0x148222){return this['_validate'](_0x148222),_0x148222['data'];}}class aP extends ce{constructor(_0x27ddec){super(),this['locale']=Wh,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x27ddec,this['_assets']=[],this['_parser']=new nP();}set['assets'](_0x36e6a5){const _0x78c64a={};for(let _0x2ef04d=0x109d+0x6d*-0x25+0x1*-0xdc,_0x22d5c7=_0x36e6a5['length'];_0x2ef04d<_0x22d5c7;_0x2ef04d++){const _0x84b9ec=_0x36e6a5[_0x2ef04d]instanceof le?_0x36e6a5[_0x2ef04d]['id']:_0x36e6a5[_0x2ef04d];_0x78c64a[_0x84b9ec]=!(0x1423+0x527*-0x6+0xac7);}let _0x53d530=this['_assets']['length'];for(;_0x53d530--;){const _0x53b6b5=this['_assets'][_0x53d530];if(!_0x78c64a[_0x53b6b5]){this['_app']['assets']['off']('add:'+_0x53b6b5,this['_onAssetAd'+'d'],this);const _0x97361=this['_app']['assets']['get'](_0x53b6b5);_0x97361&&this['_onAssetRe'+'move'](_0x97361),this['_assets']['splice'](_0x53d530,-0xade+-0x6d4*0x3+0x1f5b);}}for(const _0x2de174 in _0x78c64a){const _0x10472c=parseInt(_0x2de174,0x976+0x1*0x1786+-0x20f2);if(this['_assets']['indexOf'](_0x10472c)!==-(-0x1fe0+0x14*-0x1b5+0x4205))continue;this['_assets']['push'](_0x10472c);const _0x47229e=this['_app']['assets']['get'](_0x10472c);_0x47229e?this['_onAssetAd'+'d'](_0x47229e):this['_app']['assets']['once']('add:'+_0x10472c,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0xdbd998){if(this['_locale']===_0xdbd998)return;let _0x23acce=pi(_0xdbd998);if(_0x23acce==='in'&&(_0x23acce='id',_0xdbd998=Y1(_0xdbd998,_0x23acce),this['_locale']===_0xdbd998))return;const _0xa69c09=this['_locale'];this['_locale']=_0xdbd998,this['_lang']=_0x23acce,this['_pluralFn']=Xd(this['_lang']),this['fire']('set:locale',_0xdbd998,_0xa69c09);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x2d01af,_0x34e3c0){return V0(_0x2d01af,_0x34e3c0);}['findAvaila'+'bleLocale'](_0x59147c){if(this['_translati'+'ons'][_0x59147c])return _0x59147c;const _0xa57c84=pi(_0x59147c);return this['_findFallb'+'ackLocale'](_0x59147c,_0xa57c84);}['getText'](_0x561ca8,_0x42afac){let _0x351987=_0x561ca8,_0x483958;_0x42afac||(_0x42afac=this['_locale'],_0x483958=this['_lang']);let _0x50cd37=this['_translati'+'ons'][_0x42afac];return _0x50cd37||(_0x483958||(_0x483958=pi(_0x42afac)),_0x42afac=this['_findFallb'+'ackLocale'](_0x42afac,_0x483958),_0x50cd37=this['_translati'+'ons'][_0x42afac]),_0x50cd37&&_0x50cd37['hasOwnProp'+'erty'](_0x561ca8)&&(_0x351987=_0x50cd37[_0x561ca8],Array['isArray'](_0x351987)&&(_0x351987=_0x351987[0xc52+0x1*0x1381+-0x1*0x1fd3]),_0x351987==null&&(_0x351987=_0x561ca8)),_0x351987;}['getPluralT'+'ext'](_0x9c1980,_0xa00e39,_0x216d48){let _0x776b62=_0x9c1980,_0x86c24e,_0x485560;_0x216d48?(_0x86c24e=pi(_0x216d48),_0x485560=Xd(_0x86c24e)):(_0x216d48=this['_locale'],_0x86c24e=this['_lang'],_0x485560=this['_pluralFn']);let _0x5a2c20=this['_translati'+'ons'][_0x216d48];if(_0x5a2c20||(_0x216d48=this['_findFallb'+'ackLocale'](_0x216d48,_0x86c24e),_0x86c24e=pi(_0x216d48),_0x485560=Xd(_0x86c24e),_0x5a2c20=this['_translati'+'ons'][_0x216d48]),_0x5a2c20&&_0x5a2c20[_0x9c1980]&&_0x485560){const _0x209e5d=_0x485560(_0xa00e39);_0x776b62=_0x5a2c20[_0x9c1980][_0x209e5d],_0x776b62==null&&(_0x776b62=_0x9c1980);}return _0x776b62;}['addData'](_0x305aca){let _0x1f08d1;try{_0x1f08d1=this['_parser']['parse'](_0x305aca);}catch(_0x458f9d){console['error'](_0x458f9d);return;}for(let _0x216702=0x7*-0x1f+0x13bd+-0x12e4,_0x104b9e=_0x1f08d1['length'];_0x216702<_0x104b9e;_0x216702++){const _0x1c3695=_0x1f08d1[_0x216702],_0x3d4a85=_0x1c3695['info']['locale'],_0x13e1d2=_0x1c3695['messages'];if(!this['_translati'+'ons'][_0x3d4a85]){this['_translati'+'ons'][_0x3d4a85]={};const _0x45cc0c=pi(_0x3d4a85);this['_available'+'Langs'][_0x45cc0c]||(this['_available'+'Langs'][_0x45cc0c]=_0x3d4a85);}Object['assign'](this['_translati'+'ons'][_0x3d4a85],_0x13e1d2),this['fire']('data:add',_0x3d4a85,_0x13e1d2);}}['removeData'](_0x1149cd){let _0x193f01;try{_0x193f01=this['_parser']['parse'](_0x1149cd);}catch(_0x2fd9e0){console['error'](_0x2fd9e0);return;}for(let _0x363792=-0x7*-0x1b1+0x22*-0x92+0x78d*0x1,_0x21c3b5=_0x193f01['length'];_0x363792<_0x21c3b5;_0x363792++){const _0x616981=_0x193f01[_0x363792],_0x28b527=_0x616981['info']['locale'],_0x3ab0fd=this['_translati'+'ons'][_0x28b527];if(!_0x3ab0fd)continue;const _0x4371e9=_0x616981['messages'];for(const _0x55ca9a in _0x4371e9)delete _0x3ab0fd[_0x55ca9a];Object['keys'](_0x3ab0fd)['length']===0xa*-0x13d+-0x1cb*0xf+0x2747&&(delete this['_translati'+'ons'][_0x28b527],delete this['_available'+'Langs'][pi(_0x28b527)]),this['fire']('data:remov'+'e',_0x28b527,_0x4371e9);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0xd307b0,_0x42d4ab){let _0x1020de=$h[_0xd307b0];return _0x1020de&&this['_translati'+'ons'][_0x1020de]||(_0x1020de=$h[_0x42d4ab],_0x1020de&&this['_translati'+'ons'][_0x1020de])||(_0x1020de=this['_available'+'Langs'][_0x42d4ab],_0x1020de&&this['_translati'+'ons'][_0x1020de])?_0x1020de:Wh;}['_onAssetAd'+'d'](_0x126782){_0x126782['on']('load',this['_onAssetLo'+'ad'],this),_0x126782['on']('change',this['_onAssetCh'+'ange'],this),_0x126782['on']('remove',this['_onAssetRe'+'move'],this),_0x126782['on']('unload',this['_onAssetUn'+'load'],this),_0x126782['resource']&&this['_onAssetLo'+'ad'](_0x126782);}['_onAssetLo'+'ad'](_0x359b76){this['addData'](_0x359b76['resource']);}['_onAssetCh'+'ange'](_0x33ad5c){_0x33ad5c['resource']&&this['addData'](_0x33ad5c['resource']);}['_onAssetRe'+'move'](_0x718af0){_0x718af0['off']('load',this['_onAssetLo'+'ad'],this),_0x718af0['off']('change',this['_onAssetCh'+'ange'],this),_0x718af0['off']('remove',this['_onAssetRe'+'move'],this),_0x718af0['off']('unload',this['_onAssetUn'+'load'],this),_0x718af0['resource']&&this['removeData'](_0x718af0['resource']),this['_app']['assets']['once']('add:'+_0x718af0['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x203211){_0x203211['resource']&&this['removeData'](_0x203211['resource']);}}class oP extends ce{constructor(_0x28d654){super(),c(this,'_scripts',{}),c(this,'_list',[]),c(this,'_scriptSch'+'emas',new Map()),this['app']=_0x28d654;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x49bea3,_0x3efcb1){_0x3efcb1&&this['_scriptSch'+'emas']['set'](_0x49bea3,_0x3efcb1);}['getSchema'](_0x3bbc8e){return this['_scriptSch'+'emas']['get'](_0x3bbc8e);}['add'](_0x3a2aea){const _0x269ed7=_0x3a2aea['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x269ed7)?(setTimeout(()=>{if(_0x3a2aea['prototype']['swap']){const _0x7ff3f2=this['_scripts'][_0x269ed7],_0xbab1ae=this['_list']['indexOf'](_0x7ff3f2);this['_list'][_0xbab1ae]=_0x3a2aea,this['_scripts'][_0x269ed7]=_0x3a2aea,this['fire']('swap',_0x269ed7,_0x3a2aea),this['fire']('swap:'+_0x269ed7,_0x3a2aea);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x269ed7+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(-0x2201+-0x3e9*-0x2+-0x8*-0x346)):(this['_scripts'][_0x269ed7]=_0x3a2aea,this['_list']['push'](_0x3a2aea),this['fire']('add',_0x269ed7,_0x3a2aea),this['fire']('add:'+_0x269ed7,_0x3a2aea),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x269ed7)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x11901e=this['app']['systems']['script']['_component'+'s'];let _0x2f9a5b;const _0x9e61b3=[],_0x317479=[];for(_0x11901e['loopIndex']=-0x9b7*0x1+0x8e7+0xd0;_0x11901e['loopIndex']<_0x11901e['length'];_0x11901e['loopIndex']++){const _0x448fd3=_0x11901e['items'][_0x11901e['loopIndex']];if(_0x448fd3['_scriptsIn'+'dex'][_0x269ed7]&&_0x448fd3['_scriptsIn'+'dex'][_0x269ed7]['awaiting']){_0x448fd3['_scriptsDa'+'ta']&&_0x448fd3['_scriptsDa'+'ta'][_0x269ed7]&&(_0x2f9a5b=_0x448fd3['_scriptsDa'+'ta'][_0x269ed7]['attributes']);const _0x1ca124=_0x448fd3['create'](_0x269ed7,{'preloading':!(0x1921+0x831+-0x2152),'ind':_0x448fd3['_scriptsIn'+'dex'][_0x269ed7]['ind'],'attributes':_0x2f9a5b});_0x1ca124&&_0x9e61b3['push'](_0x1ca124);for(const _0x20cff4 of _0x448fd3['scripts'])_0x448fd3['initialize'+'Attributes'](_0x20cff4);}}for(let _0x5b9f02=0x35*0xb5+0x42d*0x4+-0x362d;_0x5b9f02<_0x9e61b3['length'];_0x5b9f02++)_0x9e61b3[_0x5b9f02]['enabled']&&(_0x9e61b3[_0x5b9f02]['_initializ'+'ed']=!(-0x40*0x1f+-0x1a9*-0x6+-0x236),_0x317479['push'](_0x9e61b3[_0x5b9f02]),_0x9e61b3[_0x5b9f02]['initialize']&&_0x9e61b3[_0x5b9f02]['initialize']());for(let _0x18c725=0x1433+0x657*0x2+-0x1*0x20e1;_0x18c725<_0x317479['length'];_0x18c725++)!_0x317479[_0x18c725]['enabled']||_0x317479[_0x18c725]['_postIniti'+'alized']||(_0x317479[_0x18c725]['_postIniti'+'alized']=!(-0x5*-0x789+-0x2*0x33a+-0x1f39*0x1),_0x317479[_0x18c725]['postInitia'+'lize']&&_0x317479[_0x18c725]['postInitia'+'lize']());}),!(0x9c1+-0x3*-0x85f+-0x22de));}['remove'](_0x1fb498){let _0x74f6c5=_0x1fb498,_0x435833=_0x1fb498;if(typeof _0x435833!='string'?_0x435833=_0x74f6c5['__name']:_0x74f6c5=this['get'](_0x435833),this['get'](_0x435833)!==_0x74f6c5)return!(0x7e*0x1d+-0x731+-0x714);delete this['_scripts'][_0x435833];const _0x182c75=this['_list']['indexOf'](_0x74f6c5);return this['_list']['splice'](_0x182c75,-0x2120+0x1aae+0x673),this['fire']('remove',_0x435833,_0x74f6c5),this['fire']('remove:'+_0x435833,_0x74f6c5),!(0x100*0x2+-0x203d+0x1e3d);}['get'](_0x5a31e1){return this['_scripts'][_0x5a31e1]||null;}['has'](_0x55b12c){if(typeof _0x55b12c=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x55b12c);if(!_0x55b12c)return!(0x2*-0x128f+0x1651+0xece);const _0x7bc624=_0x55b12c['__name'];return this['_scripts'][_0x7bc624]===_0x55b12c;}['list'](){return this['_list'];}}const lP=(_0x4b3894,_0x2392b6)=>_0x4b3894['constructo'+'r']['order']-_0x2392b6['constructo'+'r']['order'],hP=_0x247466=>_0x247466['sort'](lP),Za=[],G0=[],cP=()=>G0['pop']()??[],$_=_0x1ca728=>{_0x1ca728['length']=-0xf*0x1f5+-0x4cc+0x2227,G0['push'](_0x1ca728);},ac=class ac extends De{constructor(_0x468d42,_0x208450=tn()){super(_0x468d42),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'gsplat'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'c',{}),c(this,'_app'),c(this,'_destroyin'+'g',!(0x124a+-0x1102*0x1+-0x147*0x1)),c(this,'_guid',null),c(this,'_template',!(-0x69*-0x41+-0x1f33+0x1*0x48b)),(v['assert'](_0x208450,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x208450);}['addCompone'+'nt'](_0x968f42,_0x277752){const _0x4930d2=this['_app']['systems'][_0x968f42];return _0x4930d2?this['c'][_0x968f42]?(v['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x968f42+('\x27\x20componen'+'t')),null):_0x4930d2['addCompone'+'nt'](this,_0x277752):(v['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x968f42+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x4fff83){const _0x233c13=this['_app']['systems'][_0x4fff83];if(!_0x233c13){v['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x4fff83+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x4fff83]){v['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x4fff83+('\x27\x20componen'+'t'));return;}_0x233c13['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x8934f6){const _0x43973f=this['findOne'](_0x24c899=>{var _0x28d249;return(_0x28d249=_0x24c899['c'])==null?void(-0xbb4*0x2+0x3*-0x710+0x164c*0x2):_0x28d249[_0x8934f6];});return _0x43973f&&_0x43973f['c'][_0x8934f6];}['findCompon'+'ents'](_0x1b7749){return this['find'](_0x18f1a4=>{var _0xf20f2a;return(_0xf20f2a=_0x18f1a4['c'])==null?void(0x5ff+-0x1e02+0x1803):_0xf20f2a[_0x1b7749];})['map'](_0x75cf91=>_0x75cf91['c'][_0x1b7749]);}['findScript'](_0x1f81ec){const _0x5a3729=this['findOne'](_0x16ace8=>{var _0x3ba4ed,_0x5ddafc;return(_0x5ddafc=(_0x3ba4ed=_0x16ace8['c'])==null?void(0x1014*0x1+0x25ef+0x21*-0x1a3):_0x3ba4ed['script'])==null?void(0x1a1f+0xb11*-0x2+-0x3fd):_0x5ddafc['has'](_0x1f81ec);});return _0x5a3729==null?void(0xc97+0x5*0x56b+0x13d7*-0x2):_0x5a3729['c']['script']['get'](_0x1f81ec);}['findScript'+'s'](_0x3901e8){return this['find'](_0x55c3ad=>{var _0x1c9010,_0x8f703a;return(_0x8f703a=(_0x1c9010=_0x55c3ad['c'])==null?void(0x282+-0xd5+-0x27*0xb):_0x1c9010['script'])==null?void(0x100f*-0x1+-0x6a+0x1079*0x1):_0x8f703a['has'](_0x3901e8);})['map'](_0x29126a=>_0x29126a['c']['script']['get'](_0x3901e8));}['getGuid'](){return this['_guid']||this['setGuid'](sS['create']()),this['_guid'];}['setGuid'](_0x3710b8){const _0x1dcd65=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x1dcd65[this['_guid']],this['_guid']=_0x3710b8,_0x1dcd65[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x586ccf,_0x5744a4){let _0x49108f=!(-0x1366+0x1c01+-0x89a);_0x586ccf===this&&Za['length']===-0x7*-0x3f3+0x2397+-0x3f3c&&(_0x49108f=!(-0x156*-0x2+0x1573+0x5f*-0x41)),_0x586ccf['_beingEnab'+'led']=!(-0x6d1+0x2681+-0x1fb0),_0x586ccf['_onHierarc'+'hyStateCha'+'nged'](_0x5744a4),_0x586ccf['_onHierarc'+'hyStatePos'+'tChanged']&&Za['push'](_0x586ccf);const _0x40c18c=_0x586ccf['_children'];for(let _0x4b1fc2=-0x134f*-0x1+0x262+-0x269*0x9,_0x5f317f=_0x40c18c['length'];_0x4b1fc2<_0x5f317f;_0x4b1fc2++)_0x40c18c[_0x4b1fc2]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x40c18c[_0x4b1fc2],_0x5744a4);if(_0x586ccf['_beingEnab'+'led']=!(0xe*-0x27a+-0x15eb*0x1+0x3898),_0x49108f){for(let _0x914d31=-0x5a5+0x1708+-0x1163*0x1;_0x914d31<Za['length'];_0x914d31++)Za[_0x914d31]['_onHierarc'+'hyStatePos'+'tChanged']();Za['length']=0x19c5*-0x1+0x746+-0x3b3*-0x5;}}['_onHierarc'+'hyStateCha'+'nged'](_0x39bb89){super['_onHierarc'+'hyStateCha'+'nged'](_0x39bb89);const _0x1989f8=this['_getSorted'+'Components']();for(let _0x37e1f0=-0x1*0xaae+0x11bf+0x1b*-0x43;_0x37e1f0<_0x1989f8['length'];_0x37e1f0++){const _0x3cf211=_0x1989f8[_0x37e1f0];_0x3cf211['enabled']&&(_0x39bb89?_0x3cf211['onEnable']():_0x3cf211['onDisable']());}$_(_0x1989f8);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x2bef04=this['_getSorted'+'Components']();for(let _0x2757b4=0x3*-0x998+0xe*-0x223+0x3ab2;_0x2757b4<_0x2bef04['length'];_0x2757b4++)_0x2bef04[_0x2757b4]['onPostStat'+'eChange']();$_(_0x2bef04);}['findByGuid'](_0x47c1fa){if(this['_guid']===_0x47c1fa)return this;const _0x21de09=this['_app']['_entityInd'+'ex'][_0x47c1fa];return _0x21de09&&(_0x21de09===this||_0x21de09['isDescenda'+'ntOf'](this))?_0x21de09:null;}['destroy'](){this['_destroyin'+'g']=!(0x1*0x1aae+-0x230d+-0x85f*-0x1);for(const _0x3e1064 in this['c'])this['c'][_0x3e1064]['enabled']=!(-0x175c+0x86d+0xef0);for(const _0x35fe05 in this['c'])this['c'][_0x35fe05]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(-0x1ac2+-0x526*0x7+0x3ecd);}['clone'](){const _0x446c55={},_0x1401a6=this['_cloneRecu'+'rsively'](_0x446c55);return _0x446c55[this['getGuid']()]=_0x1401a6,H0(this,this,_0x1401a6,_0x446c55),_0x1401a6;}['_getSorted'+'Components'](){const _0x4f9f4e=this['c'],_0x36f424=cP();let _0x34011e=0x1691+-0x1731*-0x1+0x1*-0x2dc2;for(const _0x5c5535 in _0x4f9f4e)if(_0x4f9f4e['hasOwnProp'+'erty'](_0x5c5535)){const _0x191207=_0x4f9f4e[_0x5c5535];_0x34011e|=_0x191207['constructo'+'r']['order']!==-0x1*-0x1ec5+-0x35f*0x1+-0x2*0xdb3,_0x36f424['push'](_0x191207);}return _0x34011e&&_0x36f424['length']>-0x11bd+0x1*-0x8d4+0x1a92&&hP(_0x36f424),_0x36f424;}['_cloneRecu'+'rsively'](_0x22718c){const _0x547ae2=new this['constructo'+'r'](void(-0xbd9+-0x248d+0x69*0x76),this['_app']);super['_cloneInte'+'rnal'](_0x547ae2);for(const _0xf4d4ac in this['c'])this['c'][_0xf4d4ac]['system']['cloneCompo'+'nent'](this,_0x547ae2);for(let _0x55bafd=0x1b*-0xe2+0x1*-0x10a5+0x1*0x287b;_0x55bafd<this['_children']['length'];_0x55bafd++){const _0x545458=this['_children'][_0x55bafd];if(_0x545458 instanceof ac){const _0x576df6=_0x545458['_cloneRecu'+'rsively'](_0x22718c);_0x547ae2['addChild'](_0x576df6),_0x22718c[_0x545458['getGuid']()]=_0x576df6;}}return _0x547ae2;}};c(ac,'EVENT_DEST'+'ROY','destroy');let We=ac;function H0(_0x33b958,_0x3ccacb,_0x59e869,_0x129681){if(_0x3ccacb instanceof We){const _0x238d9a=_0x3ccacb['c'];for(const _0x4b23b2 in _0x238d9a){const _0x32d4e8=_0x238d9a[_0x4b23b2],_0x2f4f55=_0x32d4e8['system']['getPropert'+'iesOfType']('entity');for(let _0x5b5cd4=0x1c08+-0x1c12+0xa,_0x1c8793=_0x2f4f55['length'];_0x5b5cd4<_0x1c8793;_0x5b5cd4++){const _0x1527b3=_0x2f4f55[_0x5b5cd4]['name'],_0x2a01e8=_0x32d4e8[_0x1527b3];if(!!_0x33b958['findByGuid'](_0x2a01e8)){const _0xf8106c=_0x129681[_0x2a01e8]['getGuid']();_0xf8106c?_0x59e869['c'][_0x4b23b2][_0x1527b3]=_0xf8106c:v['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x238d9a['script']&&_0x59e869['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x238d9a['script'],_0x129681),_0x238d9a['render']&&_0x59e869['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x238d9a['render'],_0x129681),_0x238d9a['button']&&_0x59e869['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x238d9a['button'],_0x129681),_0x238d9a['scrollview']&&_0x59e869['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x238d9a['scrollview'],_0x129681),_0x238d9a['scrollbar']&&_0x59e869['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x238d9a['scrollbar'],_0x129681),_0x238d9a['anim']&&_0x59e869['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x238d9a['anim'],_0x129681);const _0x51a0a0=_0x3ccacb['children']['filter'](_0x477f13=>_0x477f13 instanceof We),_0x7ccd93=_0x59e869['children']['filter'](_0x186dc6=>_0x186dc6 instanceof We);for(let _0x824393=-0x1cb*-0x1+-0x24ff+0x6*0x5de,_0xbb7703=_0x51a0a0['length'];_0x824393<_0xbb7703;_0x824393++)H0(_0x33b958,_0x51a0a0[_0x824393],_0x7ccd93[_0x824393],_0x129681);}}class q_{constructor(_0x388eb6,_0x4e6237){c(this,'name'),c(this,'url'),c(this,'data',null),c(this,'_loading',!(-0x44b+0x121e*0x2+-0x1ff0)),c(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x388eb6,this['url']=_0x4e6237);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class dP{constructor(_0x544c7e){c(this,'_app'),c(this,'_list',[]),c(this,'_index',{}),c(this,'_urlIndex',{}),this['_app']=_0x544c7e;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x296ed5,_0xa7ab37){if(this['_index']['hasOwnProp'+'erty'](_0x296ed5))return v['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x296ed5),!(0x1c5*-0x7+0x1*0x501+0x763);const _0x554dea=new q_(_0x296ed5,_0xa7ab37),_0xa31704=this['_list']['push'](_0x554dea);return this['_index'][_0x554dea['name']]=_0xa31704-(-0x1*-0x26f+0x5*0x19d+0x1*-0xa7f),this['_urlIndex'][_0x554dea['url']]=_0xa31704-(-0xef9+0x268b+-0x1791),!(-0x196a*0x1+0x415+0x1*0x1555);}['find'](_0xb1a29b){return this['_index']['hasOwnProp'+'erty'](_0xb1a29b)?this['_list'][this['_index'][_0xb1a29b]]:null;}['findByUrl'](_0x219126){return this['_urlIndex']['hasOwnProp'+'erty'](_0x219126)?this['_list'][this['_urlIndex'][_0x219126]]:null;}['remove'](_0x297b67){if(this['_index']['hasOwnProp'+'erty'](_0x297b67)){const _0x1e028b=this['_index'][_0x297b67];let _0x354bec=this['_list'][_0x1e028b];delete this['_urlIndex'][_0x354bec['url']],delete this['_index'][_0x297b67],this['_list']['splice'](_0x1e028b,-0x139a*0x1+-0x10ac*-0x1+0x2ef);for(let _0x3fe1e9=0x1704+-0x61*-0x2+-0x17c6;_0x3fe1e9<this['_list']['length'];_0x3fe1e9++)_0x354bec=this['_list'][_0x3fe1e9],this['_index'][_0x354bec['name']]=_0x3fe1e9,this['_urlIndex'][_0x354bec['url']]=_0x3fe1e9;}}['_loadScene'+'Data'](_0x2925d5,_0x1f8118,_0x4d3551){const _0x47421e=this['_app'];let _0x916fd3=_0x2925d5;if(typeof _0x2925d5=='string'&&(_0x2925d5=this['findByUrl'](_0x916fd3)||this['find'](_0x916fd3)||new q_('Untitled',_0x916fd3)),_0x916fd3=_0x2925d5['url'],!_0x916fd3){_0x4d3551('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x2925d5['loaded']){_0x4d3551(null,_0x2925d5);return;}_0x47421e['assets']&&_0x47421e['assets']['prefix']&&!Da['test'](_0x916fd3)&&(_0x916fd3=fe['join'](_0x47421e['assets']['prefix'],_0x916fd3)),_0x2925d5['_onLoadedC'+'allbacks']['push'](_0x4d3551),_0x2925d5['_loading']||_0x47421e['loader']['getHandler']('hierarchy')['load'](_0x916fd3,(_0x511de6,_0x16b5b4)=>{_0x2925d5['data']=_0x16b5b4,_0x2925d5['_loading']=!(-0x2493+0x206a+-0x29*-0x1a);for(let _0x2e7a66=-0x6da*0x5+-0x15ce+-0x6*-0x958;_0x2e7a66<_0x2925d5['_onLoadedC'+'allbacks']['length'];_0x2e7a66++)_0x2925d5['_onLoadedC'+'allbacks'][_0x2e7a66](_0x511de6,_0x2925d5);_0x1f8118||(_0x2925d5['data']=null),_0x2925d5['_onLoadedC'+'allbacks']['length']=0x193b+-0x600+-0x1*0x133b;}),_0x2925d5['_loading']=!(-0x47*0x6b+-0x1ede+0x3c8b);}['loadSceneD'+'ata'](_0x29a5a0,_0x3a0d28){this['_loadScene'+'Data'](_0x29a5a0,!(0xf27+-0x38a*0x8+0xd29),_0x3a0d28);}['unloadScen'+'eData'](_0x4b72e1){typeof _0x4b72e1=='string'&&(_0x4b72e1=this['findByUrl'](_0x4b72e1)),_0x4b72e1&&(_0x4b72e1['data']=null);}['_loadScene'+'Hierarchy'](_0x2f5b9b,_0x4c4151,_0x428e18){this['_loadScene'+'Data'](_0x2f5b9b,!(-0x2477+-0x2f*-0x8d+0xa95),(_0x476aff,_0x1c1fd6)=>{if(_0x476aff){_0x428e18&&_0x428e18(_0x476aff);return;}_0x4c4151&&_0x4c4151(_0x1c1fd6);const _0x91747e=this['_app'],_0x228fd6=()=>{const _0x46b5bf=_0x91747e['loader']['getHandler']('hierarchy');_0x91747e['systems']['script']['preloading']=!(0x24dd*-0x1+0x120a+0x12d3*0x1);const _0x5cbae6=_0x46b5bf['open'](_0x1c1fd6['url'],_0x1c1fd6['data']);_0x91747e['systems']['script']['preloading']=!(-0xc3a+0x1*0x21cc+-0x1591),_0x91747e['loader']['clearCache'](_0x1c1fd6['url'],'hierarchy'),_0x91747e['root']['addChild'](_0x5cbae6),_0x91747e['systems']['fire']('initialize',_0x5cbae6),_0x91747e['systems']['fire']('postInitia'+'lize',_0x5cbae6),_0x91747e['systems']['fire']('postPostIn'+'itialize',_0x5cbae6),_0x428e18&&_0x428e18(null,_0x5cbae6);};_0x91747e['_preloadSc'+'ripts'](_0x1c1fd6['data'],_0x228fd6);});}['loadSceneH'+'ierarchy'](_0x5eaffb,_0x1d1c04){this['_loadScene'+'Hierarchy'](_0x5eaffb,null,_0x1d1c04);}['loadSceneS'+'ettings'](_0x450c16,_0x4e7cfa){this['_loadScene'+'Data'](_0x450c16,!(-0x1*-0x2e7+-0x20e2+0x1dfc),(_0x52a612,_0x3ad5e0)=>{_0x52a612?_0x4e7cfa&&_0x4e7cfa(_0x52a612):(this['_app']['applyScene'+'Settings'](_0x3ad5e0['data']['settings']),_0x4e7cfa&&_0x4e7cfa(null));});}['changeScen'+'e'](_0x3394b1,_0x5395d1){const _0x5196c0=this['_app'],_0x3fe1c9=_0x2aa1ba=>{const {children:_0x39e5f9}=_0x5196c0['root'];for(;_0x39e5f9['length'];)_0x39e5f9[-0x2345+0x1d99+0x5ac]['destroy']();_0x5196c0['applyScene'+'Settings'](_0x2aa1ba['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x3394b1,_0x3fe1c9,_0x5395d1);}['loadScene'](_0x506c7c,_0x4e9508){const _0x394ca3=this['_app'],_0x47c348=_0x394ca3['loader']['getHandler']('scene');_0x394ca3['assets']&&_0x394ca3['assets']['prefix']&&!Da['test'](_0x506c7c)&&(_0x506c7c=fe['join'](_0x394ca3['assets']['prefix'],_0x506c7c)),_0x47c348['load'](_0x506c7c,(_0x44e41a,_0x364061)=>{if(_0x44e41a)_0x4e9508&&_0x4e9508(_0x44e41a);else{const _0x3e3940=()=>{_0x394ca3['systems']['script']['preloading']=!(-0x6*0x4d1+-0x5*-0x16+-0x71e*-0x4);const _0x5c8735=_0x47c348['open'](_0x506c7c,_0x364061),_0x4204c4=this['findByUrl'](_0x506c7c);_0x4204c4&&!_0x4204c4['loaded']&&(_0x4204c4['data']=_0x364061),_0x394ca3['systems']['script']['preloading']=!(-0x5*0x57a+0x13cd+-0x1*-0x796),_0x394ca3['loader']['clearCache'](_0x506c7c,'scene'),_0x394ca3['loader']['patch']({'resource':_0x5c8735,'type':'scene'},_0x394ca3['assets']),_0x394ca3['root']['addChild'](_0x5c8735['root']),_0x394ca3['systems']['rigidbody']&&typeof Ammo<'u'&&_0x394ca3['systems']['rigidbody']['gravity']['set'](_0x5c8735['_gravity']['x'],_0x5c8735['_gravity']['y'],_0x5c8735['_gravity']['z']),_0x4e9508&&_0x4e9508(null,_0x5c8735);};_0x394ca3['_preloadSc'+'ripts'](_0x364061,_0x3e3940);}});}}class uP{constructor(_0x1f5821){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x1f5821['_shaderSta'+'ts'],this['vram']=_0x1f5821['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return tn()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x3bed60;return(_0x3bed60=tn()['lightmappe'+'r'])==null?void(0x419*-0x9+-0xd6e+0x324f):_0x3bed60['stats'];}get['batcher'](){const _0x1235e2=tn()['_batcher'];return _0x1235e2?_0x1235e2['_stats']:null;}}const Gr=class Gr extends ce{constructor(_0x269043){super(),c(this,'_batcher',null),c(this,'_destroyRe'+'quested',!(-0x2324+-0x8c8+0x2bed)),c(this,'_inFrameUp'+'date',!(0x1ec1*-0x1+0xc6+-0x2*-0xefe)),c(this,'_libraries'+'Loaded',!(0xb5b+0x18f4+-0x244e)),c(this,'_fillMode',V_),c(this,'_resolutio'+'nMode',q1),c(this,'_allowResi'+'ze',!(-0x1*0xa7+0x18ff+-0x1858)),c(this,'_skyboxAss'+'et',null),c(this,'_soundMana'+'ger'),c(this,'_visibilit'+'yChangeHan'+'dler'),c(this,'_entityInd'+'ex',{}),c(this,'_inTools',!(0x917*0x2+0x25b3*-0x1+0x1386)),c(this,'_scriptPre'+'fix',''),c(this,'_time',0x85*-0x27+-0x20ed+-0x8*-0x6a6),c(this,'enableBund'+'les',typeof TextDecoder<'u'),c(this,'frameReque'+'stId'),c(this,'timeScale',0x7b8+0x2420+-0x2bd7),c(this,'maxDeltaTi'+'me',0x1*-0x1d75+0x6d*-0x4c+0x279*0x19+0.1),c(this,'frame',0x87*-0x1c+0xe0d+0xb7),c(this,'frameGraph',new X1()),c(this,'renderer'),c(this,'scriptsOrd'+'er',[]),c(this,'stats'),c(this,'autoRender',!(0x16*0x1f+0x133c+0x15e6*-0x1)),c(this,'renderNext'+'Frame',!(0x1a48+0x1*0x15a1+-0x2fe8)),c(this,'graphicsDe'+'vice'),c(this,'root'),c(this,'scene'),c(this,'lightmappe'+'r',null),c(this,'loader',new pa(this)),c(this,'assets'),c(this,'bundles'),c(this,'scenes',new dP(this)),c(this,'scripts',new oP(this)),c(this,'systems',new sP()),c(this,'i18n',new aP(this)),c(this,'keyboard',null),c(this,'mouse',null),c(this,'touch',null),c(this,'gamepads',null),c(this,'elementInp'+'ut',null),c(this,'xr',null),((no==null?void(0x1ab+-0x25d4+0x2429*0x1):no['indexOf']('$'))<0xd5b*0x1+0x1c61+-0x29bc&&v['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+no+'\x20'+sy),Gr['_applicati'+'ons'][_0x269043['id']]=this,qu(this),this['root']=new We(),this['root']['_enabledIn'+'Hierarchy']=!(-0x1*-0x1984+0x1d*0xf4+-0x3528));}['init'](_0x15f306){const {assetPrefix:_0x2ec227,batchManager:_0x49d145,componentSystems:_0x3dfec1,elementInput:_0x51637d,gamepads:_0x11f7fe,graphicsDevice:_0x2adcb3,keyboard:_0x2e457e,lightmapper:_0x36b068,mouse:_0x599914,resourceHandlers:_0x473698,scriptsOrder:_0x5d1b01,scriptPrefix:_0x26957e,soundManager:_0x3e665d,touch:_0x244c72,xr:_0x8f5ff1}=_0x15f306;v['assert'](_0x2adcb3,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x2adcb3,this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new uP(_0x2adcb3),this['_soundMana'+'ger']=_0x3e665d,this['scene']=new ci(_0x2adcb3),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new ao(this['loader']),_0x2ec227&&(this['assets']['prefix']=_0x2ec227),this['bundles']=new tP(this['assets']),this['scriptsOrd'+'er']=_0x5d1b01||[],this['defaultLay'+'erWorld']=new Lr({'name':'World','id':Fi}),this['defaultLay'+'erDepth']=new Lr({'name':'Depth','id':Xt,'enabled':!(-0x1282+0x2*-0x1162+-0x3547*-0x1),'opaqueSortMode':dh}),this['defaultLay'+'erSkybox']=new Lr({'name':'Skybox','id':vp,'opaqueSortMode':dh}),this['defaultLay'+'erUi']=new Lr({'name':'UI','id':tl,'transparentSortMode':Zb}),this['defaultLay'+'erImmediat'+'e']=new Lr({'name':'Immediate','id':bp,'opaqueSortMode':dh});const _0x4767d9=new S_('default');_0x4767d9['pushOpaque'](this['defaultLay'+'erWorld']),_0x4767d9['pushOpaque'](this['defaultLay'+'erDepth']),_0x4767d9['pushOpaque'](this['defaultLay'+'erSkybox']),_0x4767d9['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x4767d9['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x4767d9['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x4767d9['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x4767d9,$r['createPlac'+'eholder'](_0x2adcb3),this['renderer']=new Gh(_0x2adcb3),this['renderer']['scene']=this['scene'],_0x36b068&&(this['lightmappe'+'r']=new _0x36b068(_0x2adcb3,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x49d145&&(this['_batcher']=new _0x49d145(_0x2adcb3,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x2e457e||null,this['mouse']=_0x599914||null,this['touch']=_0x244c72||null,this['gamepads']=_0x11f7fe||null,_0x51637d&&(this['elementInp'+'ut']=_0x51637d,this['elementInp'+'ut']['app']=this),this['xr']=_0x8f5ff1?new _0x8f5ff1(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x26957e||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new rP(this)),_0x473698['forEach'](_0x2ad3f9=>{const _0x412961=new _0x2ad3f9(this);this['loader']['addHandler'](_0x412961['handlerTyp'+'e'],_0x412961);}),_0x3dfec1['forEach'](_0x15417c=>{this['systems']['add'](new _0x15417c(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(0x2*0xdd5+0x4a8+-0x2052)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x1f1*-0x7+-0x14a1+0x2239))):document['mozHidden']!==void(0x18b6*0x1+0x841*-0x3+0xd*0x1)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x1dcb+-0x1*-0xa49+-0x2813))):document['msHidden']!==void(-0x2510+0x4e*0x6+0x233c)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x1d92+-0x129e+-0xaf3*0x1))):document['webkitHidd'+'en']!==void(-0x21d5+0x631*-0x1+0x6d*0x5e)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x1387*0x2+-0x1b*0x35+-0x2176)))),this['tick']=fP(this);}static['getApplica'+'tion'](_0x4bd3ae){return _0x4bd3ae?Gr['_applicati'+'ons'][_0x4bd3ae]:tn();}['_initDefau'+'ltMaterial'](){const _0x1bcf12=new cs();_0x1bcf12['name']='Default\x20Ma'+'terial',sC(this['graphicsDe'+'vice'],_0x1bcf12);}['_initProgr'+'amLibrary'](){const _0x476dde=new D1(this['graphicsDe'+'vice'],new cs());WE(this['graphicsDe'+'vice'],_0x476dde);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return v['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x4ef23c,_0x45fabf){$e['get'](_0x4ef23c,(_0x2da9ea,_0x2e7f47)=>{if(_0x2da9ea){_0x45fabf(_0x2da9ea);return;}const _0x1c9191=_0x2e7f47['applicatio'+'n_properti'+'es'],_0x214bfc=_0x2e7f47['scenes'],_0x1be1e5=_0x2e7f47['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x1c9191,_0x2816f5=>{this['_parseScen'+'es'](_0x214bfc),this['_parseAsse'+'ts'](_0x1be1e5),_0x45fabf(_0x2816f5||null);});});}['preload'](_0x272def){this['fire']('preload:st'+'art');const _0x178f87=this['assets']['list']({'preload':!(0x99a+-0x1*-0x25f3+-0x2f8d)});if(_0x178f87['length']===-0x259c+-0x590+-0x4*-0xacb){this['fire']('preload:en'+'d'),_0x272def();return;}let _0x299392=-0x5f1+0x1*0x217e+-0x1b8d;const _0x3f7ea4=()=>{_0x299392++,this['fire']('preload:pr'+'ogress',_0x299392/_0x178f87['length']),_0x299392===_0x178f87['length']&&(this['fire']('preload:en'+'d'),_0x272def());};_0x178f87['forEach'](_0x5ef8f4=>{_0x5ef8f4['loaded']?_0x3f7ea4():(_0x5ef8f4['once']('load',_0x3f7ea4),_0x5ef8f4['once']('error',_0x3f7ea4),this['assets']['load'](_0x5ef8f4));});}['_preloadSc'+'ripts'](_0x4bf16c,_0x493178){_0x493178();}['_parseAppl'+'icationPro'+'perties'](_0x257359,_0x5aa381){if(typeof _0x257359['maxAssetRe'+'tries']=='number'&&_0x257359['maxAssetRe'+'tries']>0x25*0x7+0x7*-0x1f7+-0xe*-0xe9&&this['loader']['enableRetr'+'y'](_0x257359['maxAssetRe'+'tries']),_0x257359['useDeviceP'+'ixelRatio']||(_0x257359['useDeviceP'+'ixelRatio']=_0x257359['use_device'+'_pixel_rat'+'io']),_0x257359['resolution'+'Mode']||(_0x257359['resolution'+'Mode']=_0x257359['resolution'+'_mode']),_0x257359['fillMode']||(_0x257359['fillMode']=_0x257359['fill_mode']),this['_width']=_0x257359['width'],this['_height']=_0x257359['height'],_0x257359['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x257359['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x257359['fillMode'],this['_width'],this['_height']),_0x257359['layers']&&_0x257359['layerOrder']){const _0x5020ed=new S_('applicatio'+'n'),_0x29185b={};for(const _0x44c5a6 in _0x257359['layers']){const _0x14838a=_0x257359['layers'][_0x44c5a6];_0x14838a['id']=parseInt(_0x44c5a6,0x1e1c+-0xc79*-0x2+0x1*-0x3704),_0x14838a['enabled']=_0x14838a['id']!==Xt,_0x29185b[_0x44c5a6]=new Lr(_0x14838a);}for(let _0x49f2cc=-0x1f9f+0x1d64+0x23b,_0x5b1b84=_0x257359['layerOrder']['length'];_0x49f2cc<_0x5b1b84;_0x49f2cc++){const _0x4c2d9d=_0x257359['layerOrder'][_0x49f2cc],_0x14d960=_0x29185b[_0x4c2d9d['layer']];_0x14d960&&(_0x4c2d9d['transparen'+'t']?_0x5020ed['pushTransp'+'arent'](_0x14d960):_0x5020ed['pushOpaque'](_0x14d960),_0x5020ed['subLayerEn'+'abled'][_0x49f2cc]=_0x4c2d9d['enabled']);}this['scene']['layers']=_0x5020ed;}if(_0x257359['batchGroup'+'s']){const _0x8b4325=this['batcher'];if(_0x8b4325)for(let _0x1b3264=-0x1ec1+0x24c0+-0x1*0x5ff,_0x14409e=_0x257359['batchGroup'+'s']['length'];_0x1b3264<_0x14409e;_0x1b3264++){const _0x49f5e0=_0x257359['batchGroup'+'s'][_0x1b3264];_0x8b4325['addGroup'](_0x49f5e0['name'],_0x49f5e0['dynamic'],_0x49f5e0['maxAabbSiz'+'e'],_0x49f5e0['id'],_0x49f5e0['layers']);}}_0x257359['i18nAssets']&&(this['i18n']['assets']=_0x257359['i18nAssets']),this['_loadLibra'+'ries'](_0x257359['libraries'],_0x5aa381);}['_loadLibra'+'ries'](_0x4c09fd,_0x11119d){const _0x294e4e=_0x4c09fd['length'];let _0xc735de=_0x294e4e;const _0xb8c3cc=/^https?:\/\//;if(_0x294e4e){const _0x35c9f7=(_0x41085f,_0x2ee352)=>{_0xc735de--,_0x41085f?_0x11119d(_0x41085f):_0xc735de===0x19ca+-0x4df*-0x5+0x3225*-0x1&&(this['onLibrarie'+'sLoaded'](),_0x11119d(null));};for(let _0x17a484=-0x1952*0x1+-0x1*-0x10af+0x8a3;_0x17a484<_0x294e4e;++_0x17a484){let _0x48a8d8=_0x4c09fd[_0x17a484];!_0xb8c3cc['test'](_0x48a8d8['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x48a8d8=fe['join'](this['_scriptPre'+'fix'],_0x48a8d8)),this['loader']['load'](_0x48a8d8,'script',_0x35c9f7);}}else this['onLibrarie'+'sLoaded'](),_0x11119d(null);}['_parseScen'+'es'](_0x3d1537){if(_0x3d1537){for(let _0x5e1b36=0x103*0x1+-0x95*-0x15+-0xd3c;_0x5e1b36<_0x3d1537['length'];_0x5e1b36++)this['scenes']['add'](_0x3d1537[_0x5e1b36]['name'],_0x3d1537[_0x5e1b36]['url']);}}['_parseAsse'+'ts'](_0x110068){const _0xba6003=[],_0x3becc8={},_0x45d56b={};for(let _0x4c05be=0x4*0x475+-0x2126+0xf52;_0x4c05be<this['scriptsOrd'+'er']['length'];_0x4c05be++){const _0x5457ff=this['scriptsOrd'+'er'][_0x4c05be];_0x110068[_0x5457ff]&&(_0x3becc8[_0x5457ff]=!(0x15e*0x16+0x1b3b+-0x394f),_0xba6003['push'](_0x110068[_0x5457ff]));}if(this['enableBund'+'les']){for(const _0x201b46 in _0x110068)_0x110068[_0x201b46]['type']==='bundle'&&(_0x45d56b[_0x201b46]=!(0x19cb+0x434*-0x4+-0x8fb),_0xba6003['push'](_0x110068[_0x201b46]));}for(const _0x1b735e in _0x110068)_0x3becc8[_0x1b735e]||_0x45d56b[_0x1b735e]||_0xba6003['push'](_0x110068[_0x1b735e]);for(let _0x3978ee=-0x2709*-0x1+-0x1eea+-0x2b5*0x3;_0x3978ee<_0xba6003['length'];_0x3978ee++){const _0x461580=_0xba6003[_0x3978ee],_0x1320f7=new le(_0x461580['name'],_0x461580['type'],_0x461580['file'],_0x461580['data']);if(_0x1320f7['id']=parseInt(_0x461580['id'],0x1*-0x1376+-0x4*0x19f+0x2*0xcfe),_0x1320f7['preload']=_0x461580['preload']?_0x461580['preload']:!(-0x35d*-0x5+-0x7f*-0x29+0x2527*-0x1),_0x1320f7['loaded']=_0x461580['type']==='script'&&_0x461580['data']&&_0x461580['data']['loadingTyp'+'e']>-0x1add+0x14*-0x10+0x1c1d,_0x1320f7['tags']['add'](_0x461580['tags']),_0x461580['i18n']){for(const _0x510c5f in _0x461580['i18n'])_0x1320f7['addLocaliz'+'edAssetId'](_0x510c5f,_0x461580['i18n'][_0x510c5f]);}this['assets']['add'](_0x1320f7);}}['start'](){v['call'](()=>{v['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(-0x85f*0x3+0x1bc4*-0x1+0x34e1);}),this['frame']=0x7da*0x1+0x688*-0x5+0x19*0xfe,this['fire']('start',{'timestamp':ne(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x25a3e1){this['controller']&&this['controller']['update'](_0x25a3e1),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x46c662){this['frame']++,this['graphicsDe'+'vice']['updateClie'+'ntRect'](),this['stats']['frame']['updateStar'+'t']=ne(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x46c662),this['systems']['fire']('animationU'+'pdate',_0x46c662),this['systems']['fire']('postUpdate',_0x46c662),this['fire']('update',_0x46c662),this['inputUpdat'+'e'](_0x46c662),this['stats']['frame']['updateTime']=ne()-this['stats']['frame']['updateStar'+'t'];}['frameStart'](){this['graphicsDe'+'vice']['frameStart']();}['frameEnd'](){this['graphicsDe'+'vice']['frameEnd']();}['render'](){this['stats']['frame']['renderStar'+'t']=ne(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),Gh['_skipRende'+'rCounter']=-0x58f*-0x7+-0x697*-0x2+0x379*-0xf,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=ne()-this['stats']['frame']['renderStar'+'t'];}['renderComp'+'osition'](_0x164096){G['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x164096),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x164096),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x1d3088,_0x2ccceb,_0x3cfe0c){const _0x3b2017=this['stats']['frame'];_0x3b2017['dt']=_0x2ccceb,_0x3b2017['ms']=_0x3cfe0c,_0x1d3088>_0x3b2017['_timeToCou'+'ntFrames']?(_0x3b2017['fps']=_0x3b2017['_fpsAccum'],_0x3b2017['_fpsAccum']=0x797*0x2+0x2048+-0x2f76,_0x3b2017['_timeToCou'+'ntFrames']=_0x1d3088+(0x1*-0x5a7+0x20d9+-0x174a)):_0x3b2017['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=0x876+-0x1d27+0x14b1;}['_fillFrame'+'Stats'](){let _0x6c9e82=this['stats']['frame'];_0x6c9e82['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x6c9e82['materials']=this['renderer']['_materialS'+'witches'],_0x6c9e82['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x6c9e82['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x6c9e82['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x6c9e82['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x6c9e82['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x37ea1f=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x6c9e82['triangles']=_0x37ea1f[Ms]/(0x1069*0x2+0x1c89+-0x8*0x7ab)+Math['max'](_0x37ea1f[ar]-(-0x9e9*0x1+-0x1927+0x2312),0x1753+0x1ecb+-0x361e)+Math['max'](_0x37ea1f[Yr]-(0x35a+0x1fb8+-0x2310),0x1*-0x1430+0x51a+0xf16),_0x6c9e82['cullTime']=this['renderer']['_cullTime'],_0x6c9e82['sortTime']=this['renderer']['_sortTime'],_0x6c9e82['skinTime']=this['renderer']['_skinTime'],_0x6c9e82['morphTime']=this['renderer']['_morphTime'],_0x6c9e82['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x6c9e82['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x6c9e82['otherPrimi'+'tives']=-0x7*-0xb9+-0x1c3+-0x34c;for(let _0x563c0c=0x5e*-0x56+-0x16b3+0x7c1*0x7;_0x563c0c<_0x37ea1f['length'];_0x563c0c++)_0x563c0c<Ms&&(_0x6c9e82['otherPrimi'+'tives']+=_0x37ea1f[_0x563c0c]),_0x37ea1f[_0x563c0c]=-0x10e2+-0x1*-0x1cdc+0x3fe*-0x3;this['renderer']['_camerasRe'+'ndered']=-0xa8*-0x35+0x211+-0x1*0x24d9,this['renderer']['_materialS'+'witches']=0x4*-0x217+-0x7*-0x1b1+-0x21*0x1b,this['renderer']['_shadowMap'+'Updates']=-0x1b76+0x6e1+0x1495,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=-0xb2*0x35+-0x1144+0x361e,this['renderer']['_cullTime']=0xbc5+-0x3*-0x959+-0x27d0,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=0x1898+0x15a*-0x11+0x12*-0x17,this['renderer']['_lightClus'+'tersTime']=-0x417+-0x35b*-0x7+-0x1366,this['renderer']['_sortTime']=0x558*0x6+-0x176a+-0x29*0x36,this['renderer']['_skinTime']=0xaa1*-0x1+-0x1ad2+0x2573,this['renderer']['_morphTime']=0x18f5*-0x1+-0x6bf+0x2*0xfda,this['renderer']['_shadowMap'+'Time']=0xc9+0xb*-0x33+0x168,this['renderer']['_depthMapT'+'ime']=-0x1*0x1475+-0x2a*-0xac+-0x1*0x7c3,this['renderer']['_forwardTi'+'me']=-0xdfd+0x1eb3*-0x1+0x2cb0,_0x6c9e82=this['stats']['drawCalls'],_0x6c9e82['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x6c9e82['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x6c9e82['depth']=-0x7ad*0x5+0x3*-0x472+-0x3*-0x113d,_0x6c9e82['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x6c9e82['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x6c9e82['immediate']=0x1a83+0x5a6+-0x2029,_0x6c9e82['instanced']=0x123a*0x2+-0x3e*-0x9+0x73*-0x56,_0x6c9e82['removedByI'+'nstancing']=0x18c2*0x1+-0x2111+0x84f,_0x6c9e82['misc']=_0x6c9e82['total']-(_0x6c9e82['forward']+_0x6c9e82['shadow']),this['renderer']['_depthDraw'+'Calls']=-0x1cc0+0xac*-0x11+0x282c,this['renderer']['_shadowDra'+'wCalls']=0x11*0x21d+-0x23b0+0x3d*-0x1,this['renderer']['_forwardDr'+'awCalls']=0x20c+-0x13d9+0xd9*0x15,this['renderer']['_numDrawCa'+'llsCulled']=-0x2*0x1248+-0x64c+0xd3*0x34,this['renderer']['_skinDrawC'+'alls']=0xedd+0x191d+-0x27fa,this['renderer']['_immediate'+'Rendered']=-0xbd*0x31+0x23cc+0x61*0x1,this['renderer']['_instanced'+'DrawCalls']=0x1ff4+-0x32b*-0x5+-0x2fcb,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x6c9e82=this['stats']['particles'],_0x6c9e82['updatesPer'+'Frame']=_0x6c9e82['_updatesPe'+'rFrame'],_0x6c9e82['frameTime']=_0x6c9e82['_frameTime'],_0x6c9e82['_updatesPe'+'rFrame']=0x1be*0x6+0x662+-0x10d6,_0x6c9e82['_frameTime']=-0x5*-0x2dd+0x5ea+-0x143b;}['setCanvasF'+'illMode'](_0x22c76f,_0x24ac3f,_0x183507){this['_fillMode']=_0x22c76f,this['resizeCanv'+'as'](_0x24ac3f,_0x183507);}['setCanvasR'+'esolution'](_0x6e36c0,_0x176ee5,_0xd5f433){this['_resolutio'+'nMode']=_0x6e36c0,_0x6e36c0===G_&&_0x176ee5===void(0x160e+0x9d*-0x1+-0x1571)&&(_0x176ee5=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0xd5f433=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x176ee5,_0xd5f433);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x1a9a53,_0x490252){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x115819=window['innerWidth'],_0x760dd4=window['innerHeigh'+'t'];if(this['_fillMode']===V_){const _0x33e067=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x4f16a8=_0x115819/_0x760dd4;_0x33e067>_0x4f16a8?(_0x1a9a53=_0x115819,_0x490252=_0x1a9a53/_0x33e067):(_0x490252=_0x760dd4,_0x1a9a53=_0x490252*_0x33e067);}else this['_fillMode']===$1&&(_0x1a9a53=_0x115819,_0x490252=_0x760dd4);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x1a9a53+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x490252+'px',this['updateCanv'+'asSize'](),{'width':_0x1a9a53,'height':_0x490252};}['updateCanv'+'asSize'](){var _0x49c9dd;if(!(!this['_allowResi'+'ze']||(_0x49c9dd=this['xr'])!=null&&_0x49c9dd['active'])&&this['_resolutio'+'nMode']===G_){const _0x1c6a6c=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x1c6a6c['clientWidt'+'h'],_0x1c6a6c['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(-0x1*0x11ea+-0x9df+-0x1bc9*-0x1),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x1a4426){let _0x314eb6;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0xc78d29,_0x2ee18b,_0x37c44c]=_0x1a4426['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0xc78d29,_0x2ee18b,_0x37c44c);}this['scene']['applySetti'+'ngs'](_0x1a4426),_0x1a4426['render']['hasOwnProp'+'erty']('skybox')&&(_0x1a4426['render']['skybox']?(_0x314eb6=this['assets']['get'](_0x1a4426['render']['skybox']),_0x314eb6?this['setSkybox'](_0x314eb6):this['assets']['once']('add:'+_0x1a4426['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x33d609,_0x3f7c27){_0x33d609&&_0x3f7c27?$r['set'](this['graphicsDe'+'vice'],_0x33d609,_0x3f7c27):v['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x147d4){if(_0x147d4!==this['_skyboxAss'+'et']){const _0x1ef61=()=>{this['setSkybox'](null);},_0x26f486=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x26f486,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x1ef61,this),this['_skyboxAss'+'et']['off']('change',_0x26f486,this)),this['_skyboxAss'+'et']=_0x147d4,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x26f486,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x1ef61,this),this['_skyboxAss'+'et']['on']('change',_0x26f486,this),this['scene']['skyboxMip']===0x1fd8+0xf13*0x2+-0x3dfe&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(0x1ec6+-0x2389+0x4c3)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x26f486();}}['_firstBake'](){var _0x406cc0;(_0x406cc0=this['lightmappe'+'r'])==null||_0x406cc0['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x3538a1;(_0x3538a1=this['batcher'])==null||_0x3538a1['generate']();}['_processTi'+'mestamp'](_0x4702c0){return _0x4702c0;}['drawLine'](_0x14351d,_0x34dbdc,_0x4c5b87,_0x1a4f05,_0x4a84c7){this['scene']['drawLine'](_0x14351d,_0x34dbdc,_0x4c5b87,_0x1a4f05,_0x4a84c7);}['drawLines'](_0x918292,_0x171698,_0x595e86=!(-0x2*-0x2d+-0x19d5+0x197b),_0x5e883d=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x918292,_0x171698,_0x595e86,_0x5e883d);}['drawLineAr'+'rays'](_0x48fe8f,_0x14f7bf,_0x3368bc=!(0x4ad+-0x121*-0x4+-0x931),_0x6f256b=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x48fe8f,_0x14f7bf,_0x3368bc,_0x6f256b);}['drawWireSp'+'here'](_0x373909,_0x59061b,_0xc98767=Y['WHITE'],_0x7841e0=-0x22ad+-0x16b5+0x3976,_0x50a3c4=!(0x240e+-0x1d36+-0x6d8),_0xf7dc7b=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x373909,_0x59061b,_0xc98767,_0x7841e0,_0x50a3c4,_0xf7dc7b);}['drawWireAl'+'ignedBox'](_0x29373d,_0x5ccbd6,_0x49f637=Y['WHITE'],_0x415d35=!(-0x198*0xe+-0x11*-0x1ac+-0x61c),_0x105ab0=this['scene']['defaultDra'+'wLayer'],_0x55cb63){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x29373d,_0x5ccbd6,_0x49f637,_0x415d35,_0x105ab0,_0x55cb63);}['drawMeshIn'+'stance'](_0x261107,_0x816f0b=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x261107,_0x816f0b);}['drawMesh'](_0x42a47f,_0x322ec0,_0x2530d0,_0x3428d9=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x322ec0,_0x2530d0,_0x42a47f,null,_0x3428d9);}['drawQuad'](_0x34b644,_0x2367ce,_0xe7f42c=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x2367ce,_0x34b644,this['scene']['immediate']['getQuadMes'+'h'](),null,_0xe7f42c);}['drawTextur'+'e'](_0x4985d0,_0x447b28,_0x8ad56f,_0xb4212b,_0x5c4e02,_0x2d77bc,_0x37ea4d=this['scene']['defaultDra'+'wLayer'],_0x40d400=!(0x4d5*0x1+0x15*-0xfc+-0x1*-0xfd7)){if(_0x40d400===!(-0x16ea+-0x25*-0x97+0x118)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x260700=new q();_0x260700['setTRS'](new T(_0x4985d0,_0x447b28,-0x1f93+-0xc04+-0x1*-0x2b97),se['IDENTITY'],new T(_0x8ad56f,-_0xb4212b,-0x129a+-0x151b+0x27b5)),_0x2d77bc||(_0x2d77bc=new Ra(),_0x2d77bc['cull']=mt,_0x2d77bc['setParamet'+'er']('colorMap',_0x5c4e02),_0x2d77bc['shaderDesc']=_0x40d400?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x5c4e02['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x2d77bc['update']()),this['drawQuad'](_0x260700,_0x2d77bc,_0x37ea4d);}['drawDepthT'+'exture'](_0x4fbd5e,_0x21f931,_0x1502af,_0x5689fc,_0x1d9f58=this['scene']['defaultDra'+'wLayer']){const _0x8b4a22=new Ra();_0x8b4a22['cull']=mt,_0x8b4a22['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x8b4a22['update'](),this['drawTextur'+'e'](_0x4fbd5e,_0x21f931,_0x1502af,_0x5689fc,null,_0x8b4a22,_0x1d9f58);}['destroy'](){var _0x550571,_0x21c4a7,_0x3347cd,_0x368983;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(-0xe42+0x1120+-0x1*0x2de);return;}const _0x27e975=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x1*0x2400+0x1524+-0x1*0x3923)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x62b+-0x74b+0x121)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x193*-0x5+0x1*-0x2543+0x1d65)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x1e4f*0x1+0x322*-0x4+-0x11c6))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x2a572e=this['assets']['list']();for(let _0xd385b5=0x2f*-0x1+0x4cc+-0x49d;_0xd385b5<_0x2a572e['length'];_0xd385b5++)_0x2a572e[_0xd385b5]['unload'](),_0x2a572e[_0xd385b5]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x277211=this['loader']['getHandler']('script');_0x277211==null||_0x277211['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x550571=this['lightmappe'+'r'])==null||_0x550571['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x21c4a7=this['xr'])==null||_0x21c4a7['end'](),(_0x3347cd=this['xr'])==null||_0x3347cd['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x368983=this['_soundMana'+'ger'])==null||_0x368983['destroy'](),this['_soundMana'+'ger']=null,Gr['_applicati'+'ons'][_0x27e975]=null,tn()===this&&qu(null),Gr['cancelTick'](this);}static['cancelTick'](_0x3674d7){_0x3674d7['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x3674d7['frameReque'+'stId']),_0x3674d7['frameReque'+'stId']=void(0x21ed+-0xebf*-0x1+-0x30ac));}['getEntityF'+'romIndex'](_0x5595c0){return this['_entityInd'+'ex'][_0x5595c0];}['_registerS'+'ceneImmedi'+'ate'](_0xeaafee){this['on']('postrender',_0xeaafee['immediate']['onPostRend'+'er'],_0xeaafee['immediate']);}};c(Gr,'_applicati'+'ons',{});let qh=Gr;const jd={},fP=function(_0x455cb4){const _0x3689ef=_0x455cb4;return function(_0x3d1497,_0x352537){var _0x37a805,_0x1fc386,_0x4f41c9,_0x54c95e;if(!_0x3689ef['graphicsDe'+'vice'])return;_0x3689ef['frameReque'+'stId']&&((_0x1fc386=(_0x37a805=_0x3689ef['xr'])==null?void(0x31*-0x19+0x27f+0x24a*0x1):_0x37a805['session'])==null||_0x1fc386['cancelAnim'+'ationFrame'](_0x3689ef['frameReque'+'stId']),cancelAnimationFrame(_0x3689ef['frameReque'+'stId']),_0x3689ef['frameReque'+'stId']=null),_0x3689ef['_inFrameUp'+'date']=!(-0x25ae+0xd81+0x80f*0x3),qu(_0x3689ef);const _0x271dcd=_0x3689ef['_processTi'+'mestamp'](_0x3d1497)||ne(),_0x5d1f45=_0x271dcd-(_0x3689ef['_time']||_0x271dcd);let _0x3439ea=_0x5d1f45/(-0xe58+0x1*0x18fd+0xf*-0x73);if(_0x3439ea=N['clamp'](_0x3439ea,0x953+-0x52f*0x1+-0x424,_0x3689ef['maxDeltaTi'+'me']),_0x3439ea*=_0x3689ef['timeScale'],_0x3689ef['_time']=_0x271dcd,(_0x4f41c9=_0x3689ef['xr'])!=null&&_0x4f41c9['session']?_0x3689ef['frameReque'+'stId']=_0x3689ef['xr']['session']['requestAni'+'mationFram'+'e'](_0x3689ef['tick']):_0x3689ef['frameReque'+'stId']=ye['browser']||ye['worker']?requestAnimationFrame(_0x3689ef['tick']):null,_0x3689ef['graphicsDe'+'vice']['contextLos'+'t'])return;_0x3689ef['_fillFrame'+'StatsBasic'](_0x271dcd,_0x3439ea,_0x5d1f45),_0x3689ef['_fillFrame'+'Stats'](),_0x3689ef['fire']('frameupdat'+'e',_0x5d1f45);let _0x36288a=!(-0x6be*0x2+-0x1*0x2174+0x2ef0);_0x352537?(_0x36288a=(_0x54c95e=_0x3689ef['xr'])==null?void(-0xf1f+-0xa15+-0x2*-0xc9a):_0x54c95e['update'](_0x352537),_0x3689ef['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x352537['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x3689ef['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,_0x36288a&&(v['trace'](jx,'----\x20Frame'+'\x20'+_0x3689ef['frame']),v['trace'](td,'--\x20UpdateS'+'tart\x20'+ne()['toFixed'](-0x3a*-0x43+-0xfc8+0xd*0xc)+'ms'),_0x3689ef['update'](_0x3439ea),_0x3689ef['fire']('framerende'+'r'),(_0x3689ef['autoRender']||_0x3689ef['renderNext'+'Frame'])&&(v['trace'](td,'--\x20RenderS'+'tart\x20'+ne()['toFixed'](0xd6*-0x1+0x166d+-0x1595)+'ms'),_0x3689ef['updateCanv'+'asSize'](),_0x3689ef['frameStart'](),_0x3689ef['render'](),_0x3689ef['frameEnd'](),_0x3689ef['renderNext'+'Frame']=!(0xe84+-0x2*-0x133e+0x34ff*-0x1),v['trace'](td,'--\x20RenderE'+'nd\x20'+ne()['toFixed'](0x532+-0x4e*0x8+-0x20*0x16)+'ms')),jd['timestamp']=ne(),jd['target']=_0x3689ef,_0x3689ef['fire']('frameend',jd)),_0x3689ef['_inFrameUp'+'date']=!(0x1838+0x21b9+-0x39f0*0x1),_0x3689ef['_destroyRe'+'quested']&&_0x3689ef['destroy']();};};class pP{constructor(){c(this,'elementInp'+'ut'),c(this,'keyboard'),c(this,'mouse'),c(this,'touch'),c(this,'gamepads'),c(this,'scriptPref'+'ix'),c(this,'assetPrefi'+'x'),c(this,'scriptsOrd'+'er'),c(this,'soundManag'+'er'),c(this,'graphicsDe'+'vice'),c(this,'lightmappe'+'r'),c(this,'batchManag'+'er'),c(this,'xr'),c(this,'componentS'+'ystems',[]),c(this,'resourceHa'+'ndlers',[]);}}const Qa=new Lf();class W0{constructor(_0x546b9a,_0x5e8320,_0x5c872a){this['scene']=_0x546b9a,this['light']=_0x5e8320,this['store'](),_0x5e8320['numCascade'+'s']=-0x2e*0x19+0xa93+0x4*-0x185,this['scene']['clusteredL'+'ightingEna'+'bled']&&(_0x5e8320['castShadow'+'s']=_0x5e8320['bakeShadow'+'s']&&_0x5c872a['shadowsEna'+'bled']),_0x5e8320['type']!==oe&&(_0x5e8320['_node']['getWorldTr'+'ansform'](),_0x5e8320['getBoundin'+'gSphere'](Qa),this['lightBound'+'s']=new _e(),this['lightBound'+'s']['center']['copy'](Qa['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](Qa['radius'],Qa['radius'],Qa['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x2f7478=this['light'];_0x2f7478['mask']=this['mask'],_0x2f7478['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x2f7478['enabled']=this['enabled'],_0x2f7478['intensity']=this['intensity'],_0x2f7478['_node']['setLocalRo'+'tation'](this['rotation']),_0x2f7478['numCascade'+'s']=this['numCascade'+'s'],_0x2f7478['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(0xb04+-0x1*0xbf3+0xef*0x1),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x3f8d7c){const _0x5ed830=this['light'];_0x5ed830['enabled']=!(-0x10f5+-0xe43+0x1f39*0x1),_0x5ed830['shadowMap']&&(_0x5ed830['shadowMap']['cached']&&_0x3f8d7c['add'](_0x5ed830,_0x5ed830['shadowMap']),_0x5ed830['shadowMap']=null);}}const Hl=new W();class mP extends W0{constructor(_0x4b8875,_0x5f56ef){super(_0x4b8875['scene'],_0x5f56ef,_0x4b8875['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===oe?this['light']['bakeNumSam'+'ples']:0x3*-0x491+-0x4b1+0x11*0x115;}['prepareVir'+'tualLight'](_0x520985,_0x58ee26){const _0x5657bc=this['light'];if(_0x5657bc['_node']['setLocalRo'+'tation'](this['rotation']),_0x520985>0x7*0x14d+-0xa09*-0x2+0x1*-0x1d2d){const _0x3b21eb=_0x5657bc['bakeArea'];ll['circlePoin'+'tDetermini'+'stic'](Hl,_0x520985,_0x58ee26),Hl['mulScalar'](_0x3b21eb*(-0x13e+0x1c6f+0x1*-0x1b31+0.5)),_0x5657bc['_node']['rotateLoca'+'l'](Hl['x'],0x5*0x22d+0x866+-0x1347,Hl['y']);}_0x5657bc['_node']['getWorldTr'+'ansform']();const _0x36c03b=0x1085+-0x126b+-0x4*-0x7a+0.20000000000000018,_0x5228f2=Math['pow'](this['intensity'],_0x36c03b);_0x5657bc['intensity']=Math['pow'](_0x5228f2/_0x58ee26,(-0x17*0xdf+-0x3*-0x421+-0x3*-0x28d)/_0x36c03b);}}const X_=new T();class j_ extends W0{constructor(_0x41a839){const _0x1ae4ab=_0x41a839['scene'],_0x27b013=new We('AmbientLig'+'ht');_0x27b013['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(-0x26c3+-0xa*-0x35d+0x521),'affectLightmapped':!(-0xd13+0x1295+0x1*-0x581),'bake':!(-0x17*-0x79+-0x1*0x1193+0x6b4),'bakeNumSamples':_0x1ae4ab['ambientBak'+'eNumSample'+'s'],'castShadows':!(-0x1e*0xf0+0x26b6+0x54b*-0x2),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':Dt,'color':Y['WHITE'],'intensity':0x1,'bakeDir':!(-0x5*-0x19e+-0x1*-0x119c+0x19b1*-0x1)}),super(_0x1ae4ab,_0x27b013['light']['light'],_0x41a839['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x5cd2a7,_0x1452b1){ll['spherePoin'+'tDetermini'+'stic'](X_,_0x5cd2a7,_0x1452b1,0xb*0x257+-0x2*-0x41c+-0x21f5,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](X_['mulScalar'](-(0x46+0x2*-0x127b+-0x1f*-0x12f))),this['light']['_node']['rotateLoca'+'l'](0x194*-0xe+-0x1*-0x1463+0x20f,0x25bc+-0x171*0x8+-0x1a34,-0x3*-0xa34+-0x1470+-0xa2c);const _0x43f764=-0x1e8d+-0x2*0x9bf+0x320d+0.20000000000000018,_0x180df3=(0x4*-0x5aa+-0xb77+-0x2221*-0x1)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x62d68=Math['pow'](_0x180df3,_0x43f764);this['light']['intensity']=Math['pow'](_0x62d68/_0x1452b1,(-0x1*-0x166b+-0x23c3*0x1+0xd59)/_0x43f764);}}class Wl{constructor(_0x552e3f,_0x5561c9=null){this['node']=_0x552e3f,this['component']=_0x552e3f['render']||_0x552e3f['model'],_0x5561c9=_0x5561c9||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x5561c9,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const Y_=0x129b*0x2+0x1ab5+0x43*-0xf4;class _P{constructor(_0xd5869c){this['device']=_0xd5869c,this['shaderDila'+'te']=Is(_0xd5869c,X['fullscreen'+'QuadVS'],vo['dilatePS'],'lmDilate'),this['constantTe'+'xSource']=_0xd5869c['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0xd5869c['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(-0x2305+0x2646+-0x3*0x115),this['shaderDeno'+'ise']=[],this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null;}['setSourceT'+'exture'](_0x199f9a){this['constantTe'+'xSource']['setValue'](_0x199f9a);}['prepare'](_0x4c1f96,_0x1b27a9){this['pixelOffse'+'t'][0x19d*0x7+-0x15b9+0x537*0x2]=(0x1989+-0x195c+-0x2c)/_0x4c1f96,this['pixelOffse'+'t'][-0x12b8*-0x1+0x76*-0xb+-0xda5]=(0x1cd*0xd+0x49*0x18+0xf2*-0x20)/_0x1b27a9,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x5657d8,_0x128d09,_0x5e58c8){const _0x56d6ff=_0x5e58c8?0xf8e+-0x1702*-0x1+-0x2690:-0x1*0x12db+-0x833*0x4+0xe4*0x3a;if(!this['shaderDeno'+'ise'][_0x56d6ff]){const _0x47cbd2='lmBilatera'+'lDeNoise-'+(_0x5e58c8?'hdr':'rgbm'),_0x3772fe=_0x5e58c8?'#define\x20HD'+'R\x0a':'';this['shaderDeno'+'ise'][_0x56d6ff]=Is(this['device'],X['fullscreen'+'QuadVS'],_0x3772fe+vo['bilateralD'+'eNoisePS'],_0x47cbd2),this['sigmas']=new Float32Array(0xb*0x17f+-0x1b1+0x2*-0x761),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][0x20eb+-0x1*0x13bb+-0xd30]=_0x5657d8,this['sigmas'][0x1*-0x1ba1+-0x88a+0x1cf*0x14]=_0x128d09,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x5657d8,_0x128d09);}['getDenoise'](_0x5ee3e3){const _0x5ea527=_0x5ee3e3?0x25f*0x4+-0x247c+0x1b00:-0x237f+0x1*0x1229+0x17*0xc1;return this['shaderDeno'+'ise'][_0x5ea527];}['getDilate'](_0x420dbe,_0x69d940){const _0x5aa47f=_0x69d940?0x327+-0x1843+0x151c:0x225c+-0x422+-0x1e39;if(!this['shaderDila'+'te'][_0x5aa47f]){const _0x1b6e1e='lmDilate-'+(_0x69d940?'hdr':'rgbm'),_0x2e8b20=_0x69d940?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x5aa47f]=Is(_0x420dbe,X['fullscreen'+'QuadVS'],_0x2e8b20+vo['dilatePS'],_0x1b6e1e);}return this['shaderDila'+'te'][_0x5aa47f];}['evaluateDe'+'noiseUnifo'+'rms'](_0x1266a6,_0x15eabc){function _0x38251b(_0x438ab0,_0x1588be){return(0x1*-0x142b+-0x22bb*-0x1+-0xe90+0.39894)*Math['exp'](-(0x7*0x6f+0x12e3+0x1*-0x15ec+0.5)*_0x438ab0*_0x438ab0/(_0x1588be*_0x1588be))/_0x1588be;}this['kernel']=this['kernel']||new Float32Array(Y_);const _0x328521=this['kernel'],_0x40e8cf=Math['floor']((Y_-(0x15af+0x8ef*-0x1+0xd*-0xfb))/(-0x1ec0+0x11bb+0xd07));for(let _0x51e8b9=0x2*0x1249+0xd1c+-0x31ae;_0x51e8b9<=_0x40e8cf;++_0x51e8b9){const _0x238a12=_0x38251b(_0x51e8b9,_0x1266a6);_0x328521[_0x40e8cf+_0x51e8b9]=_0x238a12,_0x328521[_0x40e8cf-_0x51e8b9]=_0x238a12;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x2784b3=(-0x5*0x44c+-0x1f69+0x34e6)/_0x38251b(-0x17c9+0xca9+0xb20,_0x15eabc);this['bZnorm']['setValue'](_0x2784b3);}}class gP extends ds{constructor(_0x20079f,_0xe6733f,_0x29ef7e,_0x1dc0b7,_0x1b825f,_0x57a76f){super(_0x20079f),c(this,'viewBindGr'+'oups',[]),(this['renderer']=_0xe6733f,this['camera']=_0x29ef7e,this['worldClust'+'ers']=_0x1dc0b7,this['receivers']=_0x1b825f,this['lightArray']=_0x57a76f);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x3f1c62=>{_0x3f1c62['defaultUni'+'formBuffer']['destroy'](),_0x3f1c62['destroy']();}),this['viewBindGr'+'oups']['length']=0x5*-0x1ad+-0xf47+0xbd4*0x2;}['execute'](){const _0x3be475=this['device'];G['pushGpuMar'+'ker'](_0x3be475,'Lightmappe'+'r');const {renderer:_0x154cc7,camera:_0x3d1d1e,receivers:_0x273a8b,renderTarget:_0x597304,worldClusters:_0x1720f1,lightArray:_0x292357}=this;_0x154cc7['renderForw'+'ardLayer'](_0x3d1d1e,_0x597304,null,void(-0x3e7+0xf*-0x6b+-0x4*-0x28b),gn,this['viewBindGr'+'oups'],{'meshInstances':_0x273a8b,'splitLights':_0x292357,'lightClusters':_0x1720f1}),G['popGpuMark'+'er'](_0x3be475);}}const yP=0x160e+-0x14b0+-0x236*-0x3,xP=-0x3*0x85d+-0x31d*0xb+-0x31*-0x136,SP=0x6f*0x3a+0x1*0x2487+-0x3dac,$l=new T();class vP{constructor(_0x5c8008,_0x4d7e43,_0xf12a45,_0x4dda5b,_0x55e178){this['device']=_0x5c8008,this['root']=_0x4d7e43,this['scene']=_0xf12a45,this['renderer']=_0x4dda5b,this['assets']=_0x55e178,this['shadowMapC'+'ache']=_0x4dda5b['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(0x1*0x9a4+0x1d4e+0x26f1*-0x1),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new Y(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x33e220;Si['decRef'](this['blackTex']),this['blackTex']=null,Si['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x33e220=this['camera'])==null||_0x33e220['destroy'](),this['camera']=null;}['initBake'](_0x5b85ff){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Se,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(-0x3e6+0x2e2+-0xd*-0x14),this['lightmapFi'+'lters']=new _P(_0x5b85ff),this['constantBa'+'keDir']=_0x5b85ff['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new he(this['device'],{'width':0x4,'height':0x4,'format':Se,'type':on,'name':'lightmapBl'+'ack'}),Si['incRef'](this['blackTex']);const _0x46d7d4=new ol();_0x46d7d4['clearColor']['set'](-0x198e+-0x1154+0x16*0x1f3,0x247d+0xc0e+0x121*-0x2b,-0x5*0x598+0x688+0x2ae*0x8,0x25*0x95+-0x3b7+-0x11d2),_0x46d7d4['clearColor'+'Buffer']=!(-0xd9a*0x1+0xe10+0x3b*-0x2),_0x46d7d4['clearDepth'+'Buffer']=!(0x1585*-0x1+0x457*-0x9+-0xd*-0x4a9),_0x46d7d4['clearStenc'+'ilBuffer']=!(0x1*-0x2551+0x397*0x2+0x1e24),_0x46d7d4['frustumCul'+'ling']=!(-0x1*0xc9a+0x1344+-0x6a9),_0x46d7d4['projection']=ua,_0x46d7d4['aspectRati'+'o']=-0x5b+-0x417*0x3+0xca1,_0x46d7d4['node']=new De(),this['camera']=_0x46d7d4,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=sl,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=Ap;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x5b2214=new L0(_0x5b85ff['supportsAr'+'eaLights'],_0x5b85ff['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x5b2214;const _0x5854c8=this['scene']['lighting'];_0x5b2214['shadowsEna'+'bled']=_0x5854c8['shadowsEna'+'bled'],_0x5b2214['shadowAtla'+'sResolutio'+'n']=_0x5854c8['shadowAtla'+'sResolutio'+'n'],_0x5b2214['cookiesEna'+'bled']=_0x5854c8['cookiesEna'+'bled'],_0x5b2214['cookieAtla'+'sResolutio'+'n']=_0x5854c8['cookieAtla'+'sResolutio'+'n'],_0x5b2214['areaLights'+'Enabled']=_0x5854c8['areaLights'+'Enabled'],_0x5b2214['cells']=new T(-0x25a5*0x1+0x1885+-0xb1*-0x13,-0x1f6e+-0xea0+0x3*0xf5b,-0x2a1*0xe+-0x2*0x71a+0x25*0x161),_0x5b2214['maxLightsP'+'erCell']=0x297*0x3+0x2695*0x1+-0x2e56,this['worldClust'+'ers']=new zu(_0x5b85ff),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x249369){this['materials']=[];function _0x375eb3(_0x5f536a){Si['decRef'](_0x5f536a['colorBuffe'+'r']),_0x5f536a['destroy']();}this['renderTarg'+'ets']['forEach'](_0x22620f=>{_0x375eb3(_0x22620f);}),this['renderTarg'+'ets']['clear'](),_0x249369['forEach'](_0x12d04b=>{_0x12d04b['renderTarg'+'ets']['forEach'](_0x9e28d5=>{_0x375eb3(_0x9e28d5);}),_0x12d04b['renderTarg'+'ets']['length']=-0xdc8+-0x2183+0x2f4b;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x71bceb,_0x143d18,_0x4238bc,_0x1dc866){const _0x3cd976=new cs();_0x3cd976['name']='lmMaterial'+'-pass:'+_0x4238bc+'-ambient:'+_0x1dc866,_0x3cd976['chunks']['APIVersion']=hi;const _0x30d4d1='#define\x20UV'+'1LAYOUT\x0a';if(_0x3cd976['chunks']['transformV'+'S']=_0x30d4d1+X['transformV'+'S'],_0x4238bc===xP){let _0x3dc1d0=vo['bakeLmEndP'+'S'];_0x1dc866?_0x3dc1d0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20((d'+'DiffuseLig'+'ht\x20-\x200.5)\x20'+'*\x20max('+_0x143d18['ambientBak'+'eOcclusion'+'Contrast']['toFixed'](0x11f*0x16+0x1413+-0x2cbc)+('\x20+\x201.0,\x200.'+'0))\x20+\x200.5;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20ve'+'c3(')+_0x143d18['ambientBak'+'eOcclusion'+'Brightness']['toFixed'](-0x1ecd+-0x56e+0x243c)+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20s'+'aturate(dD'+'iffuseLigh'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20dAmbientL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20')+_0x3dc1d0:_0x3cd976['ambient']=new Y(-0x1*0x14b1+0xd88+0x729,-0x1c0*0x2+-0x1ff6+0x66*0x59,0xa7e*-0x1+-0x205f+0x2add),_0x3cd976['chunks']['basePS']=X['basePS']+(this['bakeHDR']?'':'\x0a#define\x20L'+'IGHTMAP_RG'+'BM\x0a'),_0x3cd976['chunks']['endPS']=_0x3dc1d0,_0x3cd976['lightMap']=this['blackTex'];}else _0x3cd976['chunks']['basePS']=X['basePS']+('\x0auniform\x20s'+'ampler2D\x20t'+'exture_dir'+'LightMap;\x0a'+'uniform\x20fl'+'oat\x20bakeDi'+'r;\x0a'),_0x3cd976['chunks']['endPS']=vo['bakeDirLmE'+'ndPS'];return _0x3cd976['chunks']['outputAlph'+'aPS']='\x0a',_0x3cd976['chunks']['outputAlph'+'aOpaquePS']='\x0a',_0x3cd976['chunks']['outputAlph'+'aPremulPS']='\x0a',_0x3cd976['cull']=mt,_0x3cd976['forceUv1']=!(-0xe6b*-0x2+-0x2427+-0x751*-0x1),_0x3cd976['update'](),_0x3cd976;}['createMate'+'rials'](_0x57173e,_0x571e65,_0x3f3091){for(let _0x22a85c=0x1090+-0x1de0+0x8e*0x18;_0x22a85c<_0x3f3091;_0x22a85c++)this['passMateri'+'als'][_0x22a85c]||(this['passMateri'+'als'][_0x22a85c]=this['createMate'+'rialForPas'+'s'](_0x57173e,_0x571e65,_0x22a85c,!(0x7a*0x1d+-0x9e*0x2f+-0xf31*-0x1)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x57173e,_0x571e65,0x58*0x47+-0x9*-0x7f+-0x1cdf,!(-0x1e*-0x3+-0x18c*-0x4+-0x68a)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x1b1bbd){return _0x1b1bbd['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x149e+0x531+-0x19cf),_0x1b1bbd['litOptions']['separateAm'+'bient']=!(-0x122c+0x1212+-0x1a*-0x1),_0x1b1bbd;});}['createText'+'ure'](_0x484b67,_0x233a94){return new he(this['device'],{'profilerHint':Oy,'width':_0x484b67,'height':_0x484b67,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(0x1d0b+-0x3c*-0x71+-0x3786),'type':this['bakeHDR']?Di:on,'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x233a94});}['collectMod'+'els'](_0x3fa906,_0x2daa3e,_0x26b996){var _0x3cd9bb,_0x1e62e6,_0x559167;if(!_0x3fa906['enabled'])return;let _0x5d9a9a;if((_0x3cd9bb=_0x3fa906['model'])!=null&&_0x3cd9bb['model']&&((_0x1e62e6=_0x3fa906['model'])!=null&&_0x1e62e6['enabled'])&&(_0x26b996&&_0x26b996['push'](new Wl(_0x3fa906)),_0x3fa906['model']['lightmappe'+'d']&&_0x2daa3e&&(_0x5d9a9a=_0x3fa906['model']['model']['meshInstan'+'ces'])),(_0x559167=_0x3fa906['render'])!=null&&_0x559167['enabled']&&(_0x26b996&&_0x26b996['push'](new Wl(_0x3fa906)),_0x3fa906['render']['lightmappe'+'d']&&_0x2daa3e&&(_0x5d9a9a=_0x3fa906['render']['meshInstan'+'ces'])),_0x5d9a9a){let _0x3472e9=!(0xea3+0x1*-0xceb+-0x1b8*0x1);for(let _0x5814c8=-0x1*-0xdba+-0x2626+0x186c;_0x5814c8<_0x5d9a9a['length'];_0x5814c8++)if(!_0x5d9a9a[_0x5814c8]['mesh']['vertexBuff'+'er']['format']['hasUv1']){v['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x3fa906['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x3472e9=!(-0x1*0x67+0x2*0x47b+0x447*-0x2);break;}if(_0x3472e9){const _0x50653f=[];for(let _0x55c0ca=-0x1*0xa2a+0x2424+-0x19fa*0x1;_0x55c0ca<_0x5d9a9a['length'];_0x55c0ca++){const _0x9bae89=_0x5d9a9a[_0x55c0ca]['mesh'];this['_tempSet']['has'](_0x9bae89)?_0x2daa3e['push'](new Wl(_0x3fa906,[_0x5d9a9a[_0x55c0ca]])):_0x50653f['push'](_0x5d9a9a[_0x55c0ca]),this['_tempSet']['add'](_0x9bae89);}this['_tempSet']['clear'](),_0x50653f['length']>0x269d+0x206b+-0x4708&&_0x2daa3e['push'](new Wl(_0x3fa906,_0x50653f));}}for(let _0x8f53a6=-0x15eb*0x1+0x1f93*-0x1+0xa7*0x52;_0x8f53a6<_0x3fa906['_children']['length'];_0x8f53a6++)this['collectMod'+'els'](_0x3fa906['_children'][_0x8f53a6],_0x2daa3e,_0x26b996);}['prepareSha'+'dowCasters'](_0x49380d){const _0xc55244=[];for(let _0x1f40af=-0xa6e+0x344*-0x3+0x143a;_0x1f40af<_0x49380d['length'];_0x1f40af++){const _0x5b6ab5=_0x49380d[_0x1f40af]['component'];if(_0x5b6ab5['castShadow'+'s']=_0x5b6ab5['castShadow'+'sLightmap'],_0x5b6ab5['castShadow'+'sLightmap']){const _0x20107a=_0x49380d[_0x1f40af]['meshInstan'+'ces'];for(let _0x58e70b=-0xad7+0x8f2*-0x3+-0xc8f*-0x3;_0x58e70b<_0x20107a['length'];_0x58e70b++)_0x20107a[_0x58e70b]['visibleThi'+'sFrame']=!(0x1a83*0x1+0x16*-0x199+0x8a3),_0xc55244['push'](_0x20107a[_0x58e70b]);}}return _0xc55244;}['updateTran'+'sforms'](_0x6dc3eb){for(let _0x1ef875=-0xd67+-0x2218+0x2f7f;_0x1ef875<_0x6dc3eb['length'];_0x1ef875++){const _0x1a9c28=_0x6dc3eb[_0x1ef875]['meshInstan'+'ces'];for(let _0x3a6aa8=-0x16b+0x3*0xa1e+-0x1cef;_0x3a6aa8<_0x1a9c28['length'];_0x3a6aa8++)_0x1a9c28[_0x3a6aa8]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x49eefb){let _0x37dc55;const _0x5309d7=this['scene']['lightmapSi'+'zeMultipli'+'er']||0x10ff+0xf16+-0x7*0x493,_0x103214=$l;let _0x514d1a,_0x3cde60;_0x49eefb['model']?(_0x3cde60=_0x49eefb['model']['lightmapSi'+'zeMultipli'+'er'],_0x49eefb['model']['asset']?(_0x37dc55=this['assets']['get'](_0x49eefb['model']['asset'])['data'],_0x37dc55['area']&&(_0x514d1a=_0x37dc55['area'])):_0x49eefb['model']['_area']&&(_0x37dc55=_0x49eefb['model'],_0x37dc55['_area']&&(_0x514d1a=_0x37dc55['_area']))):_0x49eefb['render']&&(_0x3cde60=_0x49eefb['render']['lightmapSi'+'zeMultipli'+'er'],_0x49eefb['render']['type']!=='asset'&&_0x49eefb['render']['_area']&&(_0x37dc55=_0x49eefb['render'],_0x37dc55['_area']&&(_0x514d1a=_0x37dc55['_area'])));const _0x47b7d6={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x514d1a&&(_0x47b7d6['x']=_0x514d1a['x'],_0x47b7d6['y']=_0x514d1a['y'],_0x47b7d6['z']=_0x514d1a['z'],_0x47b7d6['uv']=_0x514d1a['uv']);const _0x40c152=_0x3cde60||0x35+0x4b5+0x4e9*-0x1;_0x47b7d6['x']*=_0x40c152,_0x47b7d6['y']*=_0x40c152,_0x47b7d6['z']*=_0x40c152;const _0x4c28ed=_0x49eefb['render']||_0x49eefb['model'],_0x358c7d=this['computeNod'+'eBounds'](_0x4c28ed['meshInstan'+'ces']);_0x103214['copy'](_0x358c7d['halfExtent'+'s']);let _0x39cd7b=_0x47b7d6['x']*_0x103214['y']*_0x103214['z']+_0x47b7d6['y']*_0x103214['x']*_0x103214['z']+_0x47b7d6['z']*_0x103214['x']*_0x103214['y'];return _0x39cd7b/=_0x47b7d6['uv'],_0x39cd7b=Math['sqrt'](_0x39cd7b),Math['min'](N['nextPowerO'+'fTwo'](_0x39cd7b*_0x5309d7),this['scene']['lightmapMa'+'xResolutio'+'n']||yP);}['setLightma'+'pping'](_0x2b61db,_0x22ef77,_0x51af1d,_0x4fb9a3){for(let _0x3772aa=0x13e+-0x20c6*-0x1+0xe*-0x26e;_0x3772aa<_0x2b61db['length'];_0x3772aa++){const _0x7e2919=_0x2b61db[_0x3772aa],_0x12219d=_0x7e2919['meshInstan'+'ces'];for(let _0x5d7c7b=0x4*0x606+-0x1445+-0x3d3;_0x5d7c7b<_0x12219d['length'];_0x5d7c7b++){const _0x494426=_0x12219d[_0x5d7c7b];if(_0x494426['setLightma'+'pped'](_0x22ef77),_0x22ef77){_0x4fb9a3&&(_0x494426['_shaderDef'+'s']|=_0x4fb9a3),_0x494426['mask']=cr;for(let _0x3954fb=-0x1023+-0x3*-0x68e+-0x387;_0x3954fb<_0x51af1d;_0x3954fb++){const _0x4ef539=_0x7e2919['renderTarg'+'ets'][_0x3954fb]['colorBuffe'+'r'];_0x4ef539['minFilter']=st,_0x4ef539['magFilter']=st,_0x494426['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x3954fb],_0x4ef539);}}}}}['bake'](_0xeda46,_0x40ced5=ch){const _0x2bcb8a=this['device'],_0x2ca27f=ne();this['scene']['_updateSky'+'Mesh'](),_0x2bcb8a['fire']('lightmappe'+'r:start',{'timestamp':_0x2ca27f,'target':this}),this['stats']['renderPass'+'es']=0xdb1*0x1+0xd0b+-0x1abc,this['stats']['shadowMapT'+'ime']=0x59*0x1+-0xef*-0x29+-0x3*0xce0,this['stats']['forwardTim'+'e']=-0x1ec9+0x1619+0x10*0x8b;const _0x59c6ff=_0x2bcb8a['_shaderSta'+'ts']['linked'],_0xfd2628=_0x2bcb8a['_renderTar'+'getCreatio'+'nTime'],_0x40937c=_0x2bcb8a['_shaderSta'+'ts']['compileTim'+'e'],_0x56f04b=[],_0x3b4d9a=[];if(_0xeda46){for(let _0x1d5568=-0x9*0x33b+-0x1*-0x239d+-0x68a;_0x1d5568<_0xeda46['length'];_0x1d5568++)this['collectMod'+'els'](_0xeda46[_0x1d5568],_0x56f04b,null);this['collectMod'+'els'](this['root'],null,_0x3b4d9a);}else this['collectMod'+'els'](this['root'],_0x56f04b,_0x3b4d9a);if(G['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x56f04b['length']>-0x1322+0x10f*0x17+-0x537){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x3f35d3=_0x40ced5===ch?0x149f+-0x1b0e+-0x1*-0x671:0x189f+-0x1*0x2351+0xab3;this['setLightma'+'pping'](_0x56f04b,!(0x1d54*0x1+-0x5*0x161+-0x105*0x16),_0x3f35d3),this['initBake'](_0x2bcb8a),this['bakeIntern'+'al'](_0x3f35d3,_0x56f04b,_0x3b4d9a);let _0x49e84c=Fu;_0x40ced5===ch&&(_0x49e84c|=y0),this['scene']['ambientBak'+'e']&&(_0x49e84c|=x0),this['setLightma'+'pping'](_0x56f04b,!(0x3*-0xf0+-0x296+0x566),_0x3f35d3,_0x49e84c),this['finishBake'](_0x56f04b);}G['popGpuMark'+'er'](this['device']);const _0x47a7af=ne();this['stats']['totalRende'+'rTime']=_0x47a7af-_0x2ca27f,this['stats']['shadersLin'+'ked']=_0x2bcb8a['_shaderSta'+'ts']['linked']-_0x59c6ff,this['stats']['compileTim'+'e']=_0x2bcb8a['_shaderSta'+'ts']['compileTim'+'e']-_0x40937c,this['stats']['fboTime']=_0x2bcb8a['_renderTar'+'getCreatio'+'nTime']-_0xfd2628,this['stats']['lightmapCo'+'unt']=_0x56f04b['length'],_0x2bcb8a['fire']('lightmappe'+'r:end',{'timestamp':_0x47a7af,'target':this});}['allocateTe'+'xtures'](_0x228123,_0x3f38ad){for(let _0x5fe1a6=-0x2186+0x59b*0x5+0x57f;_0x5fe1a6<_0x228123['length'];_0x5fe1a6++){const _0x4d3c56=_0x228123[_0x5fe1a6],_0x37ffb5=this['calculateL'+'ightmapSiz'+'e'](_0x4d3c56['node']);for(let _0x139c12=0x14a9*-0x1+0x2363*-0x1+-0xd3*-0x44;_0x139c12<_0x3f38ad;_0x139c12++){const _0xbaab5f=this['createText'+'ure'](_0x37ffb5,'lightmappe'+'r_lightmap'+'_'+_0x5fe1a6);Si['incRef'](_0xbaab5f),_0x4d3c56['renderTarg'+'ets'][_0x139c12]=new pt({'colorBuffer':_0xbaab5f,'depth':!(0x7bd+0x6*-0x658+-0x50e*-0x6)});}if(!this['renderTarg'+'ets']['has'](_0x37ffb5)){const _0x5f3ece=this['createText'+'ure'](_0x37ffb5,'lightmappe'+'r_temp_lig'+'htmap_'+_0x37ffb5);Si['incRef'](_0x5f3ece),this['renderTarg'+'ets']['set'](_0x37ffb5,new pt({'colorBuffer':_0x5f3ece,'depth':!(-0xd2+0xf39*0x2+-0x1d9f)}));}}}['prepareLig'+'htsToBake'](_0xb6d19,_0x32bc67){if(this['scene']['ambientBak'+'e']){const _0x49f133=new j_(this);_0x32bc67['push'](_0x49f133);}const _0x27a6d9=this['renderer']['lights'];for(let _0xd612a6=0x1270+-0x1*-0xe0b+-0x207b*0x1;_0xd612a6<_0x27a6d9['length'];_0xd612a6++){const _0x133864=_0x27a6d9[_0xd612a6],_0x92547a=new mP(this,_0x133864);_0xb6d19['push'](_0x92547a),_0x133864['enabled']&&(_0x133864['mask']&rr)!==0x149*0x15+0x5*0x421+0x1a*-0x1d5&&(_0x133864['mask']=rr|cr|hs,_0x133864['shadowUpda'+'teMode']=_0x133864['type']===oe?Pp:cn,_0x32bc67['push'](_0x92547a));}_0x32bc67['sort']();}['restoreLig'+'hts'](_0x11a8b1){for(let _0x35587a=-0x11d7+0x1*0xc9e+0x539*0x1;_0x35587a<_0x11a8b1['length'];_0x35587a++)_0x11a8b1[_0x35587a]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](0x3*0xadf+0x2d8+0x2375*-0x1,0x201d*-0x1+0x83*0x13+-0x599*-0x4,-0x1073*0x1+0x3*0x1eb+0x559*0x2),this['renderer']['setSceneCo'+'nstants']();}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x114005){const _0x2d84ef=new _e();if(_0x114005['length']>0x209*-0x11+-0x18bd+-0x5ef*-0xa){_0x2d84ef['copy'](_0x114005[0xbd7+-0xc*0x142+0x7*0x77]['aabb']);for(let _0x5b20a2=0x2*0x837+-0x377*0xa+0x1239;_0x5b20a2<_0x114005['length'];_0x5b20a2++)_0x2d84ef['add'](_0x114005[_0x5b20a2]['aabb']);}return _0x2d84ef;}['computeNod'+'esBounds'](_0x2ba796){for(let _0x117da7=0xe2*-0x1+0x187b+-0x1799;_0x117da7<_0x2ba796['length'];_0x117da7++){const _0x44599c=_0x2ba796[_0x117da7]['meshInstan'+'ces'];_0x2ba796[_0x117da7]['bounds']=this['computeNod'+'eBounds'](_0x44599c);}}['computeBou'+'nds'](_0x2aaf1d){const _0x588869=new _e();for(let _0x56d1c4=-0xc27+-0x1846*0x1+0x246d;_0x56d1c4<_0x2aaf1d['length'];_0x56d1c4++){_0x588869['copy'](_0x2aaf1d[-0x1b0*-0x5+-0x1830+0x40*0x3f]['aabb']);for(let _0x3ca059=-0x90d+-0x4*0x942+-0x1*-0x2e16;_0x3ca059<_0x2aaf1d['length'];_0x3ca059++)_0x588869['add'](_0x2aaf1d[_0x3ca059]['aabb']);}return _0x588869;}['backupMate'+'rials'](_0x3ccf62){for(let _0x19c024=-0x251*0x9+0x1*-0x1f11+0x33ea;_0x19c024<_0x3ccf62['length'];_0x19c024++)this['materials'][_0x19c024]=_0x3ccf62[_0x19c024]['material'];}['restoreMat'+'erials'](_0x1ea9bd){for(let _0x322c3c=-0x228a+-0x1*0xb7+-0x169*-0x19;_0x322c3c<_0x1ea9bd['length'];_0x322c3c++)_0x1ea9bd[_0x322c3c]['material']=this['materials'][_0x322c3c];}['lightCamer'+'aPrepare'](_0x2cdd63,_0x400f2b){const _0x53c3c7=_0x400f2b['light'];let _0x1bc119;return _0x53c3c7['type']===Re&&(_0x1bc119=_0x53c3c7['getRenderD'+'ata'](null,-0x1*-0x10e7+-0x18a5+0x7be)['shadowCame'+'ra'],_0x1bc119['_node']['setPositio'+'n'](_0x53c3c7['_node']['getPositio'+'n']()),_0x1bc119['_node']['setRotatio'+'n'](_0x53c3c7['_node']['getRotatio'+'n']()),_0x1bc119['_node']['rotateLoca'+'l'](-(-0x8bd+0x6*0x17+-0xb*-0xc7),-0x23ab*0x1+-0x1145*-0x1+0x5*0x3ae,0xa9*0x32+0x509*0x7+0x1*-0x4441),_0x1bc119['projection']=Gs,_0x1bc119['nearClip']=_0x53c3c7['attenuatio'+'nEnd']/(0x1090*0x2+0xe4f+-0x2b87),_0x1bc119['farClip']=_0x53c3c7['attenuatio'+'nEnd'],_0x1bc119['aspectRati'+'o']=0xff6*0x2+-0x43*0x62+-0x3*0x217,_0x1bc119['fov']=_0x53c3c7['_outerCone'+'Angle']*(-0x1*0x2670+-0x24f+0x28c1),this['renderer']['updateCame'+'raFrustum'](_0x1bc119)),_0x1bc119;}['lightCamer'+'aPrepareAn'+'dCull'](_0x19aeb3,_0x8a1584,_0x1253c3,_0x54bfb1){const _0x1e35da=_0x19aeb3['light'];let _0x1758c7=!(-0x26*0xe2+0x2442+-0x2b6);if(_0x1e35da['type']===oe){$l['copy'](_0x54bfb1['center']),$l['y']+=_0x54bfb1['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n']($l),this['camera']['node']['setEulerAn'+'gles'](-(-0xce7*0x3+0x30*-0x8a+0x40ef),-0xb58+0x12f*0x1+0xa29,0x5c2+0x26e4+-0x2ca6),this['camera']['nearClip']=-0x3bb*0x9+0x1dc9+0x3ca,this['camera']['farClip']=_0x54bfb1['halfExtent'+'s']['y']*(-0x2005+-0x84c+-0x9*-0x47b);const _0x5e000d=Math['max'](_0x54bfb1['halfExtent'+'s']['x'],_0x54bfb1['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x5e000d;}else _0x19aeb3['lightBound'+'s']['intersects'](_0x8a1584['bounds'])||(_0x1758c7=!(0xa6e+0xf93+-0x1a00));if(_0x1e35da['type']===Re){let _0x24259d=!(0x7*0xb3+-0x1*0x14+-0x4d0);const _0x11b0d0=_0x8a1584['meshInstan'+'ces'];for(let _0x1e0a40=0xcde+0xc*0x133+0x6*-0x48b;_0x1e0a40<_0x11b0d0['length'];_0x1e0a40++)if(_0x11b0d0[_0x1e0a40]['_isVisible'](_0x1253c3)){_0x24259d=!(-0x1*-0xf3a+-0x6e0*-0x4+0xe3e*-0x3);break;}_0x24259d||(_0x1758c7=!(-0xf4*0xd+0x1*-0x1069+-0x99a*-0x3));}return _0x1758c7;}['setupLight'+'Array'](_0x2f7e0b,_0x4799a6){_0x2f7e0b[oe]['length']=-0x22e3+-0xede+0x31c1,_0x2f7e0b[Pe]['length']=-0x8da+-0x3*0xce3+0x1*0x2f83,_0x2f7e0b[Re]['length']=0x52*-0x3d+0x1dc1+-0xa37,_0x2f7e0b[_0x4799a6['type']][-0x3d+0x4*-0x656+-0x6f*-0x3b]=_0x4799a6,_0x4799a6['visibleThi'+'sFrame']=!(-0xea6+0x1093*0x2+-0x1280);}['renderShad'+'owMap'](_0x3e7018,_0x17141b,_0x54a0c1,_0x1f353e){const _0x1f142a=_0x1f353e['light'],_0xc638b0=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x5d48bb=_0x1f142a['castShadow'+'s']&&(!_0xc638b0||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x17141b&&_0x5d48bb){if(!_0x1f142a['shadowMap']&&!_0xc638b0&&(_0x1f142a['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x1f142a)),_0x1f142a['type']===oe){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x1f142a,_0x3e7018,this['camera'],_0x54a0c1);const _0x3df4dd=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x1f142a,this['camera']);_0x3df4dd==null||_0x3df4dd['render']();}else{if(this['device']['isWebGPU'])return v['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(-0x491+0x1*-0x857+-0xce8*-0x1);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x1f142a,_0x3e7018,_0x54a0c1),this['renderer']['shadowRend'+'erer']['render'](_0x1f142a,this['camera'],!(0x1*-0x543+0x3f5*-0x1+0x939));}}return!(0x65*0x1+0x2029+-0x2*0x1047);}['postproces'+'sTextures'](_0x466b3e,_0x39c63a,_0x16fcb9){const _0x21320f=this['lightmapFi'+'lters']['getDilate'](_0x466b3e,this['bakeHDR']);let _0x3e1748;const _0x54fd12=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x54fd12&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x3e1748=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x466b3e['setBlendSt'+'ate'](_t['NOBLEND']),_0x466b3e['setDepthSt'+'ate'](as['NODEPTH']),_0x466b3e['setStencil'+'State'](null,null);for(let _0x18a2d2=-0x26e5+0x2479*0x1+0xa*0x3e;_0x18a2d2<_0x39c63a['length'];_0x18a2d2++){const _0x1c5bd7=_0x39c63a[_0x18a2d2];G['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x18a2d2);for(let _0x5b6535=0x1a+-0x2639+0x261f;_0x5b6535<_0x16fcb9;_0x5b6535++){const _0x26f149=_0x1c5bd7['renderTarg'+'ets'][_0x5b6535],_0x1ad18e=_0x26f149['colorBuffe'+'r'],_0x1014ec=this['renderTarg'+'ets']['get'](_0x1ad18e['width']),_0x2d2cbd=_0x1014ec['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x1ad18e['width'],_0x1ad18e['height']);for(let _0xb558fc=-0x65c+-0xaae*0x3+0x3d7*0xa;_0xb558fc<0x4*-0x694+-0x7*0x133+0x22b6;_0xb558fc++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x1ad18e),dn(_0x466b3e,_0x1014ec,_0x54fd12&&_0x5b6535===-0x486*0x2+-0xfad*-0x1+0x6a1*-0x1&&_0xb558fc===-0xc7*-0x1+-0x192c+0x1865?_0x3e1748:_0x21320f),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x2d2cbd),dn(_0x466b3e,_0x26f149,_0x21320f);}G['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x45a1bd,_0x1f6f68,_0x841ef0){const _0x58531f=this['scene'],_0x225183=_0x58531f['layers'],_0x4209eb=this['device'],_0x343093=_0x58531f['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x4209eb,_0x58531f,_0x45a1bd),this['setupScene'](),_0x225183['_update'](),this['computeNod'+'esBounds'](_0x1f6f68),this['allocateTe'+'xtures'](_0x1f6f68,_0x45a1bd),this['renderer']['collectLig'+'hts'](_0x225183);const _0x305dd4=[],_0x1168d9=[];this['prepareLig'+'htsToBake'](_0x305dd4,_0x1168d9),this['updateTran'+'sforms'](_0x841ef0);const _0x5d7bb9=this['prepareSha'+'dowCasters'](_0x841ef0);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x5d7bb9),this['renderer']['gpuUpdate'](_0x5d7bb9);const _0x465609=this['computeBou'+'nds'](_0x5d7bb9);let _0x2624bc,_0x3bc2d9,_0x470cbd,_0x2e0027;for(_0x2624bc=-0x1a43+0xb87+0xebc;_0x2624bc<_0x1f6f68['length'];_0x2624bc++)for(_0x470cbd=_0x1f6f68[_0x2624bc]['meshInstan'+'ces'],_0x3bc2d9=0x23e2*-0x1+0x1*0x739+-0x17*-0x13f;_0x3bc2d9<_0x470cbd['length'];_0x3bc2d9++)_0x2e0027=_0x470cbd[_0x3bc2d9],_0x2e0027['setLightma'+'pped'](!(0x1d1f+-0x1f*0x5+0x3*-0x981)),_0x2e0027['mask']=rr,_0x2e0027['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][0x159f+0x1926+-0x2ec5],this['blackTex']),_0x2e0027['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][0x1391+0x4*0x710+-0x2fd0],this['blackTex']);for(_0x3bc2d9=-0xc86*0x1+-0x16*0x25+0x1*0xfb4;_0x3bc2d9<_0x1168d9['length'];_0x3bc2d9++)_0x1168d9[_0x3bc2d9]['light']['enabled']=!(-0x389+-0x76*0x34+0x1b82);const _0x30c5b2=[[],[],[]];let _0x12609d,_0x10d9b1,_0xffa126=!(0x229d+-0x44+-0x2258);for(_0x2624bc=-0xec7+-0x1*-0x2573+0x16ac*-0x1;_0x2624bc<_0x1168d9['length'];_0x2624bc++){const _0x26be78=_0x1168d9[_0x2624bc],_0x11d846=_0x26be78 instanceof j_,_0x2a8cf9=_0x26be78['light']['type']===oe;let _0x137926=_0x26be78['numVirtual'+'Lights'];_0x45a1bd>-0x1*0xcbb+-0x51*-0x31+-0x2c5*0x1&&_0x137926>0xb20*-0x1+-0x8c1+0x13e2&&_0x26be78['light']['bakeDir']&&(_0x137926=0x1db7+0x16ce+-0x2*0x1a42,v['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x3ed779=0xcca+-0x75*0x45+-0x12bf*-0x1;_0x3ed779<_0x137926;_0x3ed779++){G['pushGpuMar'+'ker'](_0x4209eb,'Light:'+_0x26be78['light']['_node']['name']+':'+_0x3ed779),_0x137926>0x8d5+0x7*-0x4a9+0x17cb&&_0x26be78['prepareVir'+'tualLight'](_0x3ed779,_0x137926),_0x26be78['startBake']();let _0x14ffaf=!(0x1168+0xa52*0x2+-0x260b);const _0x400011=this['lightCamer'+'aPrepare'](_0x4209eb,_0x26be78);for(_0x10d9b1=-0xedb*-0x1+-0x7*0x1b1+-0x304;_0x10d9b1<_0x1f6f68['length'];_0x10d9b1++){const _0x71102e=_0x1f6f68[_0x10d9b1];if(_0x470cbd=_0x71102e['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x26be78,_0x71102e,_0x400011,_0x465609))continue;this['setupLight'+'Array'](_0x30c5b2,_0x26be78['light']);const _0x29fe2d=_0x2a8cf9?[]:[_0x26be78['light']];for(_0x343093&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x29fe2d,this['lightingPa'+'rams']),_0x14ffaf=this['renderShad'+'owMap'](_0x225183,_0x14ffaf,_0x5d7bb9,_0x26be78),_0x343093&&this['worldClust'+'ers']['update'](_0x29fe2d,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x470cbd),_0x12609d=0xfeb+0x12fb+-0x22e6;_0x12609d<_0x45a1bd&&!(_0x12609d>-0x2050+0x1245*-0x2+0x44da&&_0x3ed779>0x8e9+-0xed*-0x3+-0xbb0||_0x11d846&&_0x12609d>0x871+-0x4d*0x79+0x4*0x6fd);_0x12609d++){G['pushGpuMar'+'ker'](_0x4209eb,'LMPass:'+_0x12609d);const _0x49ebe4=_0x71102e['renderTarg'+'ets'][_0x12609d],_0x2702c8=_0x71102e['renderTarg'+'ets'][_0x12609d]['colorBuffe'+'r']['width'],_0x5e43fe=this['renderTarg'+'ets']['get'](_0x2702c8),_0x30549f=_0x5e43fe['colorBuffe'+'r'];_0x12609d===-0xa*-0x4+0x22cb*-0x1+0x1*0x22a3?_0xffa126=_0x58531f['updateShad'+'ers']:_0xffa126&&(_0x58531f['updateShad'+'ers']=!(-0x15a0+0x20d8*-0x1+0x3678));let _0x58ad68=this['passMateri'+'als'][_0x12609d];for(_0x11d846&&_0x3ed779+(0x139f+-0x5*0x76f+0x118d)===_0x137926&&_0x12609d===0x1387+0x1e95+-0x321c&&(_0x58ad68=this['ambientAOM'+'aterial']),_0x3bc2d9=0x2de+-0x1c22+-0x2c*-0x93;_0x3bc2d9<_0x470cbd['length'];_0x3bc2d9++)_0x470cbd[_0x3bc2d9]['material']=_0x58ad68;if(this['renderer']['updateShad'+'ers'](_0x470cbd),_0x12609d===SP&&this['constantBa'+'keDir']['setValue'](_0x26be78['light']['bakeDir']?-0x1*-0x551+-0x1545+0x2b*0x5f:0x33*0xb7+0xbf*-0x28+-0x1*0x69d),_0x4209eb['isWebGPU']){const _0x364f57=new gP(_0x4209eb,this['renderer'],this['camera'],_0x343093?this['worldClust'+'ers']:null,_0x470cbd,_0x30c5b2);_0x364f57['init'](_0x5e43fe),_0x364f57['render'](),_0x364f57['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x5e43fe,!(-0x15a1+0x47*-0x4f+0x2b8a)),_0x343093&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=0x469*0x7+-0x107*0x7+-0xbd7*0x2,this['renderer']['_shadowMap'+'Time']=-0x17*0x5c+-0x556*0x3+0x1846,this['renderer']['renderForw'+'ard'](this['camera'],_0x5e43fe,_0x470cbd,_0x30c5b2,gn),_0x4209eb['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x71102e['renderTarg'+'ets'][_0x12609d]=_0x5e43fe,this['renderTarg'+'ets']['set'](_0x2702c8,_0x49ebe4),_0x3bc2d9=-0x2ba*0x2+0x154+0x420;_0x3bc2d9<_0x470cbd['length'];_0x3bc2d9++)_0x2e0027=_0x470cbd[_0x3bc2d9],_0x2e0027['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x12609d],_0x30549f),_0x2e0027['_shaderDef'+'s']|=Fu;G['popGpuMark'+'er'](_0x4209eb);}this['restoreMat'+'erials'](_0x470cbd);}_0x26be78['endBake'](this['shadowMapC'+'ache']),G['popGpuMark'+'er'](_0x4209eb);}}for(this['postproces'+'sTextures'](_0x4209eb,_0x1f6f68,_0x45a1bd),_0x10d9b1=0x1*0x1eeb+-0x521*-0x6+-0x3db1;_0x10d9b1<_0x841ef0['length'];_0x10d9b1++)_0x841ef0[_0x10d9b1]['restore']();this['restoreLig'+'hts'](_0x305dd4),this['restoreSce'+'ne'](),_0x343093||this['shadowMapC'+'ache']['clear']();}}const oc=class oc extends ce{constructor(_0x2ab600,_0x23f3f2){super(),c(this,'system'),c(this,'entity'),(this['system']=_0x2ab600,this['entity']=_0x23f3f2,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x12c8ad,_0xcb7de0,_0x55210b){this['fire']('set_'+_0x12c8ad,_0x12c8ad,_0xcb7de0,_0x55210b);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x46fc62,_0x119bb4){_0x119bb4['forEach'](_0x195901=>{const _0x386b16=typeof _0x195901=='object'?_0x195901['name']:_0x195901;Object['defineProp'+'erty'](_0x46fc62,_0x386b16,{'get':function(){return this['data'][_0x386b16];},'set':function(_0x4ab6bc){const _0x3916d9=this['data'],_0x3e32a0=_0x3916d9[_0x386b16];_0x3916d9[_0x386b16]=_0x4ab6bc,this['fire']('set',_0x386b16,_0x3e32a0,_0x4ab6bc);},'configurable':!(-0x911*0x2+-0x1204+0x2426)});}),_0x46fc62['_accessors'+'Built']=!(0x13bb+-0x195f+-0x1*-0x5a4);}['buildAcces'+'sors'](_0x243f47){oc['_buildAcce'+'ssors'](this,_0x243f47);}['onSetEnabl'+'ed'](_0x46f8ab,_0x229f3b,_0xad71bb){_0x229f3b!==_0xad71bb&&this['entity']['enabled']&&(_0xad71bb?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x41413f=this['system']['store'][this['entity']['getGuid']()];return _0x41413f?_0x41413f['data']:null;}set['enabled'](_0x37a764){}get['enabled'](){return!(-0xfb6*0x2+-0x1f4f+0x35*0x12f);}};c(oc,'order',0x1*0x382+-0x1a81+0xcb*0x1d);let ue=oc;class Xe extends ce{constructor(_0x35833c){super(),this['app']=_0x35833c,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x147b0f,_0x45eaa0={}){const _0x4900a9=new this['ComponentT'+'ype'](this,_0x147b0f),_0x1a8f5e=new this['DataType']();return this['store'][_0x147b0f['getGuid']()]={'entity':_0x147b0f,'data':_0x1a8f5e},_0x147b0f[this['id']]=_0x4900a9,_0x147b0f['c'][this['id']]=_0x4900a9,this['initialize'+'ComponentD'+'ata'](_0x4900a9,_0x45eaa0,[]),this['fire']('add',_0x147b0f,_0x4900a9),_0x4900a9;}['removeComp'+'onent'](_0x3685fc){const _0x462300=this['id'],_0x2862f6=this['store'][_0x3685fc['getGuid']()],_0x531420=_0x3685fc['c'][_0x462300];_0x531420['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x3685fc,_0x531420),delete this['store'][_0x3685fc['getGuid']()],_0x3685fc[_0x462300]=void(-0x24e9+-0xb93*-0x1+0x1956),delete _0x3685fc['c'][_0x462300],this['fire']('remove',_0x3685fc,_0x2862f6['data']);}['cloneCompo'+'nent'](_0x16b721,_0x3c535c){const _0x3212bb=this['store'][_0x16b721['getGuid']()];return this['addCompone'+'nt'](_0x3c535c,_0x3212bb['data']);}['initialize'+'ComponentD'+'ata'](_0x46a3d6,_0x5ee3b6={},_0x49f669){for(let _0x5eafa2=-0x395+-0x156e*-0x1+-0x11d9,_0x23a710=_0x49f669['length'];_0x5eafa2<_0x23a710;_0x5eafa2++){const _0x4fe6c5=_0x49f669[_0x5eafa2];let _0x3af580,_0x8ba8b0;typeof _0x4fe6c5=='object'?(_0x3af580=_0x4fe6c5['name'],_0x8ba8b0=_0x4fe6c5['type']):(_0x3af580=_0x4fe6c5,_0x8ba8b0=void(0x3*0x1eb+0x1*0x1ad1+-0x1*0x2092));let _0x2c6d43=_0x5ee3b6[_0x3af580];_0x2c6d43!==void(-0x1e19+-0x2*0x10cd+-0x3fb3*-0x1)?(_0x8ba8b0!==void(0x1af0+-0x1*-0x26c5+-0x1*0x41b5)&&(_0x2c6d43=bP(_0x2c6d43,_0x8ba8b0)),_0x46a3d6[_0x3af580]=_0x2c6d43):_0x46a3d6[_0x3af580]=_0x46a3d6['data'][_0x3af580];}_0x46a3d6['enabled']&&_0x46a3d6['entity']['enabled']&&_0x46a3d6['onEnable']();}['getPropert'+'iesOfType'](_0x21b67b){const _0x2f5b0d=[];return(this['schema']||[])['forEach'](_0x40da3f=>{_0x40da3f&&typeof _0x40da3f=='object'&&_0x40da3f['type']===_0x21b67b&&_0x2f5b0d['push'](_0x40da3f);}),_0x2f5b0d;}['destroy'](){this['off']();}}function bP(_0x28e95f,_0x5090e7){if(!_0x28e95f)return _0x28e95f;switch(_0x5090e7){case'rgb':return _0x28e95f instanceof Y?_0x28e95f['clone']():new Y(_0x28e95f[-0x1b2+0x205a+-0x1ea8],_0x28e95f[-0x281+0x35a+-0xd8],_0x28e95f[-0xc62+-0xc3*-0x4+0x12b*0x8]);case'rgba':return _0x28e95f instanceof Y?_0x28e95f['clone']():new Y(_0x28e95f[0x7ed+-0x36*0xb1+-0x1*-0x1d69],_0x28e95f[0x793*0x2+0x2b*-0xa6+0xcbd],_0x28e95f[-0x11b*-0x10+-0xd*-0x9+-0x1223],_0x28e95f[0x2f*0x3+-0xa0f+0x1*0x985]);case'vec2':return _0x28e95f instanceof W?_0x28e95f['clone']():new W(_0x28e95f[0x806+-0x993+0x18d],_0x28e95f[-0xb1d+-0x1cd*-0x4+0x1f5*0x2]);case'vec3':return _0x28e95f instanceof T?_0x28e95f['clone']():new T(_0x28e95f[0x18bf+0xa6*-0x2b+0x323],_0x28e95f[0x1*0x649+-0x19a7+0x105*0x13],_0x28e95f[0x217e+0x1*0x1674+-0x37f0]);case'vec4':return _0x28e95f instanceof Q?_0x28e95f['clone']():new Q(_0x28e95f[0xa*-0xe5+0x4*-0x2e5+-0x4a*-0x47],_0x28e95f[0x1*0x2257+0x1*0x1953+-0x3ba9],_0x28e95f[-0x1f*-0xc5+-0x19c+-0x163d],_0x28e95f[0x4*-0x4c4+0xa8+0x126b]);case'boolean':case'number':case'string':return _0x28e95f;case'entity':return _0x28e95f;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x5090e7);}}const $0=0x1*-0x12ab+0xc7*0x7+0xd3a*0x1,ju=-0xeed+-0x12*0x108+0x217e,Yu=0x15*-0x1d0+-0x6*-0x643+0x80;class wP{constructor(){this['_left']=(-0x239e+0x2e6+0x20b9)/(-0x1*0x6a7+0x3da+-0x2cd*-0x1),this['_right']=-(-0x25fb*-0x1+0x4bc*0x1+-0x2ab6)/(0x1*-0x3d6+0xfbe+0x3f8*-0x3),this['_len']=0x80*-0x1+0x31+0x4f,this['_recip']=-0x1d86+-0x16*0x190+0x3fe6,this['_p0']=0x1f60+-0x1c5a*0x1+0x183*-0x2,this['_p1']=0x7d+0x175a+-0x11*0x167,this['_t']=0x98*0x5+-0x1*-0x131+0x429*-0x1,this['_hermite']={'valid':!(-0x1ba7*0x1+-0x1c26+0x37ce),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x14372a,_0x4b1f87){if(_0x14372a<this['_left']||_0x14372a>=this['_right']){const _0x403333=_0x4b1f87['length'];if(!_0x403333)this['_left']=-(0x10fc+0x55c+-0x1657)/(-0x10*-0x1ae+-0x220c+0x72c),this['_right']=(0x18b1+0x0+0x62c*-0x4)/(-0x16c3+-0x3c7*-0x3+0x13*0x9a),this['_len']=0x19d5+0x67*0x54+0x5*-0xbed,this['_recip']=-0x2*-0xbfb+-0xd0*0x1+-0x1726,this['_p0']=this['_p1']=0x1*-0x469+-0xcac+0x1*0x1115;else{if(_0x14372a<_0x4b1f87[-0x1*0xed+-0x10a8*0x1+0x1195])this['_left']=-(-0x13bd+0x779*0x5+-0x15b*0xd)/(0x86f+-0xfbf*-0x1+-0x2*0xc17),this['_right']=_0x4b1f87[-0x211c+0x3*-0x39f+0x2bf9],this['_len']=0xf2*0xd+-0x21fa+0x15b0,this['_recip']=0x414+0x675*0x5+-0x245d*0x1,this['_p0']=this['_p1']=0x2c4*-0xd+0xc1*0x1f+0xc95;else{if(_0x14372a>=_0x4b1f87[_0x403333-(0x14*0x169+-0x16e3+-0x550)])this['_left']=_0x4b1f87[_0x403333-(0x452+0x1*-0x92f+0x26f*0x2)],this['_right']=(-0x572*0x6+0x7f*0x3a+0x3e7)/(-0x26d*0xb+0x14e0+0x5cf),this['_len']=-0xe3f*-0x2+0x7e5+-0x747*0x5,this['_recip']=0x2051+0xfec+0x303d*-0x1,this['_p0']=this['_p1']=_0x403333-(-0x1c0a*-0x1+-0x3*-0x6fe+-0x3103);else{const _0x4716b6=this['_findKey'](_0x14372a,_0x4b1f87);this['_left']=_0x4b1f87[_0x4716b6],this['_right']=_0x4b1f87[_0x4716b6+(0x4*0x36+-0x21ec+0x2115)],this['_len']=this['_right']-this['_left'];const _0x54a4db=(-0x23d5+-0x106b+-0x93*-0x5b)/this['_len'];this['_recip']=isFinite(_0x54a4db)?_0x54a4db:0x1064*0x1+-0x1046*0x2+0x1028,this['_p0']=_0x4716b6,this['_p1']=_0x4716b6+(-0xa*-0x71+-0xb*0x157+-0x295*-0x4);}}}}this['_t']=this['_recip']===0x2192+-0x41e+-0x1d74?0x16cb+0xcf1+0x4*-0x8ef:(_0x14372a-this['_left'])*this['_recip'],this['_hermite']['valid']=!(0x190a+-0x2*-0x234+0x1*-0x1d71);}['_findKey'](_0x34f172,_0x25f201){let _0x2a7fc0=-0x80b*-0x1+0x470+-0xc7b;for(;_0x34f172>=_0x25f201[_0x2a7fc0+(-0x1ef8+0x898+0x1661)];)_0x2a7fc0++;return _0x2a7fc0;}['eval'](_0xd21c7e,_0x43c634,_0x1f33f5){const _0x550acc=_0x1f33f5['_data'],_0x56fa8f=_0x1f33f5['_component'+'s'],_0x58f120=this['_p0']*_0x56fa8f;if(_0x43c634===$0){for(let _0x140820=-0x859+0xd67+-0x2*0x287;_0x140820<_0x56fa8f;++_0x140820)_0xd21c7e[_0x140820]=_0x550acc[_0x58f120+_0x140820];}else{const _0x3a9740=this['_t'],_0x34f319=this['_p1']*_0x56fa8f;switch(_0x43c634){case ju:for(let _0x1ee994=-0xad*-0x3+-0x25f*0x3+0x516;_0x1ee994<_0x56fa8f;++_0x1ee994)_0xd21c7e[_0x1ee994]=N['lerp'](_0x550acc[_0x58f120+_0x1ee994],_0x550acc[_0x34f319+_0x1ee994],_0x3a9740);break;case Yu:{const _0x5e4d64=this['_hermite'];if(!_0x5e4d64['valid']){const _0xf04493=_0x3a9740*_0x3a9740,_0x11e5b9=_0x3a9740+_0x3a9740,_0x3307d0=0x39d+0xab*0x4+-0x324*0x2-_0x3a9740,_0x58a931=_0x3307d0*_0x3307d0;_0x5e4d64['valid']=!(0x242+0x1605+-0x1847),_0x5e4d64['p0']=(-0x1d1e+-0x313*-0x9+0x174+_0x11e5b9)*_0x58a931,_0x5e4d64['m0']=_0x3a9740*_0x58a931,_0x5e4d64['p1']=_0xf04493*(-0x17ec+0x16b0+0x13f-_0x11e5b9),_0x5e4d64['m1']=_0xf04493*(_0x3a9740-(-0x137*0x1f+0x1ef5+0x6b5));}const _0x28bd89=(this['_p0']*(0x529*0x7+0x1bcf+-0x1*0x3feb)+(-0x4*-0x1cd+-0xed8+-0x7a5*-0x1))*_0x56fa8f,_0x59ee4b=(this['_p0']*(-0x724+-0x51*0x79+0x1*0x2d70)+(0x1da5+0x725+0x6b*-0x58))*_0x56fa8f,_0x2a3a3a=(this['_p1']*(0x1*0x12ff+0x224*0x9+0x6*-0x660)+(0x49*-0x59+0x751+0x1211))*_0x56fa8f,_0x4fa228=(this['_p1']*(0xce2+-0x36*0x23+-0x57d)+(0x235a+0x1413+-0x376d))*_0x56fa8f;for(let _0x7354ff=-0x4cb+0x14d9+-0x100e;_0x7354ff<_0x56fa8f;++_0x7354ff)_0xd21c7e[_0x7354ff]=_0x5e4d64['p0']*_0x550acc[_0x28bd89+_0x7354ff]+_0x5e4d64['m0']*_0x550acc[_0x59ee4b+_0x7354ff]*this['_len']+_0x5e4d64['p1']*_0x550acc[_0x2a3a3a+_0x7354ff]+_0x5e4d64['m1']*_0x550acc[_0x4fa228+_0x7354ff]*this['_len'];break;}}}}}class K_{constructor(_0x15c3fa){this['_name']=_0x15c3fa['name']+'Snapshot',this['_time']=-(-0x9*-0x13d+0x1c50*0x1+-0x19*0x194),this['_cache']=[],this['_results']=[];for(let _0xf81414=-0x737*0x1+0x1*0xa4b+0xc5*-0x4;_0xf81414<_0x15c3fa['_inputs']['length'];++_0xf81414)this['_cache'][_0xf81414]=new wP();const _0x196074=_0x15c3fa['_curves'],_0x537a6d=_0x15c3fa['_outputs'];for(let _0x437056=-0x2257+0x1333+0xf24;_0x437056<_0x196074['length'];++_0x437056){const _0x37d935=_0x196074[_0x437056],_0x4e0e10=_0x537a6d[_0x37d935['_output']],_0x3e676f=[];for(let _0x3c673d=-0x13*-0xb2+-0x1f62+0x4*0x48b;_0x3c673d<_0x4e0e10['_component'+'s'];++_0x3c673d)_0x3e676f[_0x3c673d]=0x4bc*0x8+0x29d*-0xb+-0x29*0x39;this['_results'][_0x437056]=_0x3e676f;}}}const Eo=class Eo{constructor(_0x4de082,_0xf89604,_0x3ca509,_0x17d1f9,_0x304612,_0x491338){this['_name']=_0x4de082['name'],this['_track']=_0x4de082,this['_snapshot']=new K_(_0x4de082),this['_playing']=_0x17d1f9,this['_time']=_0xf89604,this['_speed']=_0x3ca509,this['_loop']=_0x304612,this['_blendWeig'+'ht']=-0x62c+0x24b*0x1+-0x8e*-0x7,this['_blendOrde'+'r']=-0x7*0xe5+0x9d*0xa+-0x3*-0xb,this['_eventHand'+'ler']=_0x491338,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0xcc6c9e){this['_name']=_0xcc6c9e;}get['name'](){return this['_name'];}set['track'](_0xd1cb3a){this['_track']=_0xd1cb3a,this['_snapshot']=new K_(_0xd1cb3a);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x598193){this['_time']=_0x598193,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x3e53a9){const _0x23dbd7=Math['sign'](_0x3e53a9)!==Math['sign'](this['_speed']);this['_speed']=_0x3e53a9,_0x23dbd7&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0xd5dd1d){this['_loop']=_0xd5dd1d;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x3152a6){this['_blendWeig'+'ht']=_0x3152a6;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x20815b){this['_blendOrde'+'r']=_0x20815b;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x5a779d){this['_eventCurs'+'or']=_0x5a779d;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?0xeb+0x3fd+-0x274*0x2:this['_track']['events']['length']-(0x1*0x1c99+-0xce3+-0xfb5);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<-0x1*-0x1ff4+0x26b+0x4e9*-0x7;}['nextEventA'+'headOfTime'](_0x9f5d15){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x9f5d15:this['nextEvent']['time']>=_0x9f5d15:!(-0x4*0x563+0x1a7c+0x1*-0x4ef);}['nextEventB'+'ehindTime'](_0x454d16){return this['nextEvent']?_0x454d16===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x454d16:this['nextEvent']['time']<=_0x454d16:this['isReverse']?this['nextEvent']['time']>_0x454d16:this['nextEvent']['time']<_0x454d16:!(-0xefb+0x1394+-0x498);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(-0x1b5d+0x1112+0xa4c*0x1):0x9*0x1b7+-0x33d*0x1+0x1*-0xc32;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(0x719+-0x110e+-0x32*-0x33):-0x7b9+0x38*0x40+-0x646,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=0x2452+0x1*0x1f49+-0x439b:this['_eventCurs'+'or']<0x68f+0xbd3*0x3+-0x2a08&&(this['_eventCurs'+'or']=this['track']['events']['length']-(0x35e+-0x10fb+-0x48a*-0x3));}['clipFrameT'+'ime'](_0x4df342){const _0x3a570e=Eo['eventFrame'];_0x3a570e['start']=-0xbef+0x114b*-0x1+0x1d3a,_0x3a570e['end']=_0x4df342,_0x3a570e['residual']=-0x1a5c+-0xb5+0x1b11*0x1,this['isReverse']?_0x4df342<-0x18af+-0x1358+0xd*0x363&&(_0x3a570e['start']=this['track']['duration'],_0x3a570e['end']=0x37*0x6d+-0x2*-0xec1+-0x11*0x31d,_0x3a570e['residual']=_0x4df342+this['track']['duration']):_0x4df342>this['track']['duration']&&(_0x3a570e['start']=-0x207d+0xeb6+0x11c7,_0x3a570e['end']=this['track']['duration'],_0x3a570e['residual']=_0x4df342-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x3cbb39,_0x137799){return this['nextEventA'+'headOfTime'](_0x3cbb39)&&this['nextEventB'+'ehindTime'](_0x137799)?(this['fireNextEv'+'ent'](),!(0xb20+0x3f*-0x9b+0x1b05*0x1)):!(-0x235*-0xd+0x12b8+-0x2f68);}['activeEven'+'tsForFrame'](_0x2625e3,_0x571259){const _0x3d04ed=Eo['eventFrame'];this['clipFrameT'+'ime'](_0x571259);const _0x2390fe=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x2625e3,_0x3d04ed['end'])&&_0x2390fe!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x3d04ed['residual'])>-0x120e+-0x7b*0x3d+-0x1*-0x2f5d&&this['activeEven'+'tsForFrame'](_0x3d04ed['start'],_0x3d04ed['residual']);}['progressFo'+'rTime'](_0xaa5b2d){return _0xaa5b2d*this['_speed']/this['_track']['duration'];}['_update'](_0x518282){if(this['_playing']){let _0x536dcf=this['_time'];const _0x4b23c5=this['_track']['duration'],_0x27f80a=this['_speed'],_0x3a4863=this['_loop'];this['_track']['events']['length']>-0x1d7b+0x1*0x11ff+0xb7c&&_0x4b23c5>0x1bab+0x1770+-0x331b&&this['activeEven'+'tsForFrame'](_0x536dcf,_0x536dcf+_0x27f80a*_0x518282),_0x536dcf+=_0x27f80a*_0x518282,_0x27f80a>=-0x173+0x2*-0xe3+0x339?_0x536dcf>_0x4b23c5&&(_0x3a4863?_0x536dcf=_0x536dcf%_0x4b23c5||0xbd4+-0x1392+0x7be:(_0x536dcf=this['_track']['duration'],this['pause']())):_0x536dcf<-0xc6c+-0xfa7*0x1+0x1c13&&(_0x3a4863?_0x536dcf=_0x4b23c5+(_0x536dcf%_0x4b23c5||0x8*-0x35a+-0x1361+0x2e31):(_0x536dcf=0x17d7*0x1+-0x1*-0x23e3+-0x3bba,this['pause']())),this['_time']=_0x536dcf;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(0xc28*0x2+0x1f*0x142+-0x3f4e),this['_time']=-0x7be+0x1*0x16c3+-0xf05;}['stop'](){this['_playing']=!(0x214f+-0x2*-0xd85+-0x3c58),this['_time']=0xd*0x242+-0x5*0x14b+-0x16e3;}['pause'](){this['_playing']=!(-0x1e4b+-0x3b*0x6f+-0x37e1*-0x1);}['resume'](){this['_playing']=!(0xe9*-0xd+-0xad5+0x2*0xb55);}['reset'](){this['_time']=-0x1*-0x4f+-0xb*-0x2f+-0x254*0x1;}};c(Eo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Xh=Eo;const q0='NONE',TP='PREV_STATE',AP='NEXT_STATE',EP='PREV_STATE'+'_NEXT_STAT'+'E',CP='NEXT_STATE'+'_PREV_STAT'+'E',MP='GREATER_TH'+'AN',PP='LESS_THAN',RP='GREATER_TH'+'AN_EQUAL_T'+'O',IP='LESS_THAN_'+'EQUAL_TO',DP='EQUAL_TO',LP='NOT_EQUAL_'+'TO',Z_='INTEGER',Q_='FLOAT',J_='BOOLEAN',ph='TRIGGER',FP='1D',OP='2D_DIRECTI'+'ONAL',kP='2D_CARTESI'+'AN',BP='DIRECT',oo='START',Ku='END',Or='ANY',jh=[oo,Ku,Or],X0='OVERWRITE',NP='ADDITIVE';class Tt{static['dot'](_0x3dccc9,_0x1269af){const _0x40f254=_0x3dccc9['length'];let _0x3a0314=0xfa6*0x2+0x2665*0x1+-0x45b1;for(let _0x60788b=-0x1438*-0x1+0x2215+-0x364d;_0x60788b<_0x40f254;++_0x60788b)_0x3a0314+=_0x3dccc9[_0x60788b]*_0x1269af[_0x60788b];return _0x3a0314;}static['normalize'](_0x915cdc){let _0x356620=Tt['dot'](_0x915cdc,_0x915cdc);if(_0x356620>-0x1*0x15e2+-0x1*0x9a3+-0x1f85*-0x1){_0x356620=(0x5cf*0x5+-0x3e*-0x1a+-0x2356)/Math['sqrt'](_0x356620);const _0x3f70d9=_0x915cdc['length'];for(let _0x214b65=0x1189*-0x2+0x1bf7+-0x6b*-0x11;_0x214b65<_0x3f70d9;++_0x214b65)_0x915cdc[_0x214b65]*=_0x356620;}}static['set'](_0x294de7,_0x1efd44,_0x1d2781){const _0xa9a171=_0x294de7['length'];if(_0x1d2781==='quaternion'){let _0x5429f4=Tt['dot'](_0x1efd44,_0x1efd44);_0x5429f4>0x1582+-0x15c2*-0x1+0x11c*-0x27&&(_0x5429f4=(-0x1548+0x1*0x118e+0x5*0xbf)/Math['sqrt'](_0x5429f4));for(let _0x57138d=0x1133+-0xb*-0x17b+-0x217c;_0x57138d<_0xa9a171;++_0x57138d)_0x294de7[_0x57138d]=_0x1efd44[_0x57138d]*_0x5429f4;}else{for(let _0x54abbd=-0x887*-0x4+0x18f8+0x1*-0x3b14;_0x54abbd<_0xa9a171;++_0x54abbd)_0x294de7[_0x54abbd]=_0x1efd44[_0x54abbd];}}static['blendVec'](_0x405c43,_0x5972a8,_0x37d139,_0x26ed37){const _0x341bda=_0x26ed37?0xd*0x29+0x281*-0xc+-0x1*-0x1bf8:0xac6+0xc*-0x2c8+0x169b-_0x37d139,_0x26e21e=_0x405c43['length'];for(let _0x3d65d3=0xd71+-0x1e43+-0x10d2*-0x1;_0x3d65d3<_0x26e21e;++_0x3d65d3)_0x405c43[_0x3d65d3]=_0x405c43[_0x3d65d3]*_0x341bda+_0x5972a8[_0x3d65d3]*_0x37d139;}static['blendQuat'](_0x4f59ba,_0x892d06,_0x19a86f,_0x48d9fe){const _0x1d99b2=_0x4f59ba['length'],_0x1ecfe4=_0x48d9fe?-0x96c+-0x1*0x1a6b+-0x47b*-0x8:-0x1b1*-0x1+0x5*-0x147+-0x191*-0x3-_0x19a86f;Tt['dot'](_0x4f59ba,_0x892d06)<0xfdb+-0x1d65+0xd8a*0x1&&(_0x19a86f=-_0x19a86f);for(let _0x3bc6a3=0x1*-0xb45+-0x655*-0x1+-0x4*-0x13c;_0x3bc6a3<_0x1d99b2;++_0x3bc6a3)_0x4f59ba[_0x3bc6a3]=_0x4f59ba[_0x3bc6a3]*_0x1ecfe4+_0x892d06[_0x3bc6a3]*_0x19a86f;_0x48d9fe||Tt['normalize'](_0x4f59ba);}static['blend'](_0x75ab04,_0x458efa,_0x3167a2,_0x3aa916,_0x498e2b){_0x3aa916==='quaternion'?Tt['blendQuat'](_0x75ab04,_0x458efa,_0x3167a2,_0x498e2b):Tt['blendVec'](_0x75ab04,_0x458efa,_0x3167a2,_0x498e2b);}static['stableSort'](_0x2aa968,_0x2de270){const _0x349e8f=_0x2aa968['length'];for(let _0x1ffe47=-0x3*0xbe2+0x8f*-0xf+0x2c07;_0x1ffe47<_0x349e8f-(-0x1*-0x1407+0x206c+-0x3472);++_0x1ffe47)for(let _0x4063e3=_0x1ffe47+(-0x35*0xd+0x2*-0xe24+-0xf7d*-0x2);_0x4063e3<_0x349e8f;++_0x4063e3)if(_0x2de270(_0x2aa968[_0x4063e3],_0x2aa968[_0x1ffe47])){const _0x42206e=_0x2aa968[_0x1ffe47];_0x2aa968[_0x1ffe47]=_0x2aa968[_0x4063e3],_0x2aa968[_0x4063e3]=_0x42206e;}}}const Ue=class Ue{constructor(_0x332747,_0x2ae081){this['_component']=_0x332747,this['mask']=new Int8Array(_0x332747['layers']['length']),this['weights']=new Float32Array(_0x332747['layers']['length']),this['totalWeigh'+'t']=0x1ca4+-0x194*0x1+0x4*-0x6c4,this['counter']=-0x1b32*0x1+0x323+0x180f,this['layerCount'+'er']=-0x4d*-0x2d+0x51e+-0x12a7,this['valueType']=_0x2ae081,this['dirty']=!(0x80b*0x4+0x1916+-0x3942),this['value']=_0x2ae081===Ue['TYPE_QUAT']?[0x3*0x7cc+-0x1846+0xe2,-0x1*0x1d7d+-0x1217+0x57*0x8c,-0x1339+-0x1*-0x1b7a+-0x1*0x841,-0x1e2*-0x2+-0x27d*0x2+0x1*0x137]:[-0x37*0x99+0x14a3*-0x1+0x3582,-0x1343+-0x1701*0x1+0x2a44,0x20be+-0x1564+-0xb5a],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x504755){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===-0x1b19+-0x1d62+0x387b||!this['mask'][_0x504755]?-0x134f+-0x6d0+-0x1*-0x1a1f:this['_normalize'+'Weights']?this['weights'][_0x504755]/this['totalWeigh'+'t']:N['clamp'](this['weights'][_0x504755],0x1e9+0x83*0x47+-0x37*0xb2,-0xa02+-0x49*-0x1a+0x299);}['_layerBlen'+'dType'](_0xfb80c5){return this['_component']['layers'][_0xfb80c5]['blendType'];}['setMask'](_0x10fdef,_0x280443){this['mask'][_0x10fdef]=_0x280443,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x10fdef]['blendType']===X0&&(this['mask']=this['mask']['fill'](-0x1*-0x2335+-0xf61+-0x13d4,0x25*-0x61+-0x8*0xca+0x15b*0xf,_0x10fdef)),this['dirty']=!(-0x80b*-0x1+0x1705+-0x1f10));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=0x24dd+-0x2129+0x9e*-0x6;for(let _0x4b49ec=0x1*0x71+0x3*0x20a+-0x68f;_0x4b49ec<this['weights']['length'];_0x4b49ec++)this['weights'][_0x4b49ec]=this['_component']['layers'][_0x4b49ec]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x4b49ec]*this['weights'][_0x4b49ec];this['dirty']=!(0x134c*0x2+0x25*-0x32+-0x1f5d);}['updateValu'+'e'](_0x1c6b7a,_0x3ab464){if(this['counter']===-0x1*-0x162d+-0xb63*-0x1+-0x2190&&(Tt['set'](this['value'],Ue['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Tt['blend'](this['value'],this['baseValue'],-0x1f66+-0x3c2+0x2329,this['valueType'])),!(!this['mask'][_0x1c6b7a]||this['getWeight'](_0x1c6b7a)===0xb*0xe+-0x1392+0x12f8)){if(this['_layerBlen'+'dType'](_0x1c6b7a)===NP&&!this['_normalize'+'Weights']){if(this['valueType']===Ue['TYPE_QUAT']){const _0x3484b3=Ue['q1']['set'](this['value'][0xcad+0x61c+-0x12c9],this['value'][-0x1ac9+0xae8+0xfe2],this['value'][-0x3*0x75+-0xa3*0x3b+-0x1*-0x26f2],this['value'][-0x1935+-0xf3b*-0x1+0x9fd]),_0x4b1e7d=Ue['q2']['set'](this['baseValue'][-0x1*-0x1cd+-0x1250+0x1083],this['baseValue'][0x2*0x1042+-0x2484+-0x401*-0x1],this['baseValue'][0xb7c+-0x67*-0x8+-0xeb2],this['baseValue'][0x28*-0x16+-0x1e5b*-0x1+-0xd74*0x2]),_0xbc8f83=Ue['q3']['set'](_0x3ab464[-0xea4+0x216*0xd+-0xc7a*0x1],_0x3ab464[0x377*-0x7+0x1653+-0x1ef*-0x1],_0x3ab464[0xf23+-0x341+0x5*-0x260],_0x3ab464[-0x3c9*0x1+0x2649+-0x227d]),_0x4962da=_0x4b1e7d['invert']()['mul'](_0xbc8f83);_0x4962da['slerp'](se['IDENTITY'],_0x4962da,this['getWeight'](_0x1c6b7a)),_0x3484b3['mul'](_0x4962da),Ue['quatArr'][0x5eb*0x3+-0x4c1+0x1a0*-0x8]=_0x3484b3['x'],Ue['quatArr'][0x43*-0x3e+-0x383*0x9+0x2fd6]=_0x3484b3['y'],Ue['quatArr'][0x130d+0x643*-0x1+-0x1*0xcc8]=_0x3484b3['z'],Ue['quatArr'][0x1bb4*-0x1+-0x1d*0x2b+0x2096]=_0x3484b3['w'],Tt['set'](this['value'],Ue['quatArr'],this['valueType']);}else Ue['vecArr'][-0x4da+-0x1*0x2699+0x31*0xe3]=_0x3ab464[-0x15f4+-0x2*-0x12ff+0x2*-0x805]-this['baseValue'][0x1903*0x1+-0x24c3+0x2f0*0x4],Ue['vecArr'][0x3*-0x104+-0x1*-0x5d9+-0x2cc]=_0x3ab464[0x2266+0x677*-0x5+-0x1*0x212]-this['baseValue'][0x1*0xcab+-0x209e+0x13f4],Ue['vecArr'][-0x97*-0x4+-0xf3+-0x167]=_0x3ab464[-0x24ed+0xfe8+-0x1507*-0x1]-this['baseValue'][-0xf*0x97+0x1c04+0x1329*-0x1],Tt['blend'](this['value'],Ue['vecArr'],this['getWeight'](_0x1c6b7a),this['valueType'],!(-0x1*0xee4+0x2475*0x1+0x1591*-0x1));}else Tt['blend'](this['value'],_0x3ab464,this['getWeight'](_0x1c6b7a),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};c(Ue,'TYPE_QUAT','quaternion'),c(Ue,'TYPE_VEC3','vector3'),c(Ue,'q1',new se()),c(Ue,'q2',new se()),c(Ue,'q3',new se()),c(Ue,'quatArr',[-0x232c*-0x1+-0x241*0x6+-0x15a6,-0x23dd+-0x2170+0x454d,-0x397*0x4+-0x205c+0x2eb8,0x700*-0x4+-0x1d75*0x1+0x3976]),c(Ue,'vecArr',[-0x52d*0x5+-0xb*-0x219+0x2ce,0xc48*0x1+0xf1+-0xd39,-0x1c37*-0x1+0x15*-0x57+-0x1514]),c(Ue,'IDENTITY_Q'+'UAT_ARR',[0x8*-0xf1+0xd3*-0x12+0x165e,-0x6bc*-0x1+0x22bc+-0x2978*0x1,0x15c8+-0x6b*0x2e+-0x147*0x2,-0x139*-0x13+-0xac*-0x7+-0x1bee]);let bo=Ue;class j0{constructor(_0x47c764){this['_binder']=_0x47c764,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x487fad){const _0x192087=this['_targets'],_0x35a76e=this['_binder'],_0x368e21=_0x487fad['track']['curves'],_0xe83b08=_0x487fad['snapshot'],_0x5c72a2=[],_0x137581=[];for(let _0x4f42f1=-0x1c77+-0x1972+-0x175*-0x25;_0x4f42f1<_0x368e21['length'];++_0x4f42f1){const _0x392073=_0x368e21[_0x4f42f1]['paths'];for(let _0x27b2de=-0xd69*0x2+0x84*0x4b+-0x25*0x52;_0x27b2de<_0x392073['length'];++_0x27b2de){const _0xa8f4af=_0x392073[_0x27b2de],_0x3f63ed=_0x35a76e['resolve'](_0xa8f4af);let _0x354fe9=_0x192087[_0x3f63ed&&_0x3f63ed['targetPath']||null];if(!_0x354fe9&&_0x3f63ed){_0x354fe9={'target':_0x3f63ed,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x5b3d61=-0xae5*0x3+0x2219+-0xb5*0x2;_0x5b3d61<_0x354fe9['target']['components'];++_0x5b3d61)_0x354fe9['value']['push'](0x27f+-0x6e+-0x211*0x1);if(_0x192087[_0x3f63ed['targetPath']]=_0x354fe9,_0x35a76e['animCompon'+'ent']){if(!_0x35a76e['animCompon'+'ent']['targets'][_0x3f63ed['targetPath']]){let _0x281a03;_0x3f63ed['targetPath']['substring'](_0x3f63ed['targetPath']['length']-(0x864+0xec*0x1d+-0x2313))==='localRotat'+'ion'?_0x281a03=bo['TYPE_QUAT']:_0x281a03=bo['TYPE_VEC3'],_0x35a76e['animCompon'+'ent']['targets'][_0x3f63ed['targetPath']]=new bo(_0x35a76e['animCompon'+'ent'],_0x281a03);}_0x35a76e['animCompon'+'ent']['targets'][_0x3f63ed['targetPath']]['layerCount'+'er']++,_0x35a76e['animCompon'+'ent']['targets'][_0x3f63ed['targetPath']]['setMask'](_0x35a76e['layerIndex'],0xab*0x29+0x1910+0x62*-0x89);}}_0x354fe9&&(_0x354fe9['curves']++,_0x5c72a2['push'](_0xe83b08['_results'][_0x4f42f1]),_0x137581['push'](_0x354fe9));}}this['_clips']['push'](_0x487fad),this['_inputs']['push'](_0x5c72a2),this['_outputs']['push'](_0x137581);}['removeClip'](_0x2f8055){const _0xf45c67=this['_targets'],_0x1d7a15=this['_binder'],_0x4bbd44=this['_clips'],_0x3a0d8c=_0x4bbd44[_0x2f8055]['track']['curves'];for(let _0x150b59=-0x1fdd*0x1+-0x245c+-0xda5*-0x5;_0x150b59<_0x3a0d8c['length'];++_0x150b59){const _0x4360ea=_0x3a0d8c[_0x150b59]['paths'];for(let _0x3f02e1=0x1333+0x19f8+-0x2d2b;_0x3f02e1<_0x4360ea['length'];++_0x3f02e1){const _0x34dc5f=_0x4360ea[_0x3f02e1],_0x5cb46b=this['_binder']['resolve'](_0x34dc5f);_0x5cb46b&&(_0x5cb46b['curves']--,_0x5cb46b['curves']===0xfaa+0x110b+-0x20b5&&(_0x1d7a15['unresolve'](_0x34dc5f),delete _0xf45c67[_0x5cb46b['targetPath']],_0x1d7a15['animCompon'+'ent']&&_0x1d7a15['animCompon'+'ent']['targets'][_0x5cb46b['targetPath']]['layerCount'+'er']--));}}_0x4bbd44['splice'](_0x2f8055,0x2*0x761+0x1803*-0x1+0x942),this['_inputs']['splice'](_0x2f8055,-0x1cab+0x535*0x5+0x2a3),this['_outputs']['splice'](_0x2f8055,-0x24d9+0x22c4+-0x59*-0x6);}['removeClip'+'s'](){for(;this['_clips']['length']>-0x607*0x1+0x14*0x2+0x5df;)this['removeClip'](0x141f+0x98*0x1e+0x3*-0xca5);}['updateClip'+'Track'](_0x289c7d,_0x4a6321){this['_clips']['forEach'](_0x267b07=>{_0x267b07['name']['includes'](_0x289c7d)&&(_0x267b07['track']=_0x4a6321);}),this['rebind']();}['findClip'](_0x51ef2f){const _0x14a885=this['_clips'];for(let _0x3c3dbf=0x2153+-0x1c57+-0x4fc;_0x3c3dbf<_0x14a885['length'];++_0x3c3dbf){const _0x3a200a=_0x14a885[_0x3c3dbf];if(_0x3a200a['name']===_0x51ef2f)return _0x3a200a;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x50d15c=[...this['clips']];this['removeClip'+'s'](),_0x50d15c['forEach'](_0x419e55=>{this['addClip'](_0x419e55);});}['assignMask'](_0x4ab25f){return this['_binder']['assignMask'](_0x4ab25f);}['update'](_0x3b26f2,_0x1f1ad7=!(-0x1052+-0x1778+0x27ca)){const _0x5db9d6=this['_clips'],_0x128c19=_0x5db9d6['map']((_0x35c5af,_0x24294)=>_0x24294);Tt['stableSort'](_0x128c19,(_0x32ba0a,_0x3ed925)=>_0x5db9d6[_0x32ba0a]['blendOrder']<_0x5db9d6[_0x3ed925]['blendOrder']);for(let _0x310b2d=-0x1b8d*0x1+-0xce7+0x2874;_0x310b2d<_0x128c19['length'];++_0x310b2d){const _0x19b54c=_0x128c19[_0x310b2d],_0x45949a=_0x5db9d6[_0x19b54c],_0x280b69=this['_inputs'][_0x19b54c],_0x1c4af2=this['_outputs'][_0x19b54c],_0x23186a=_0x45949a['blendWeigh'+'t'];if(_0x23186a>-0xd79+0xe0a+-0x91&&_0x45949a['_update'](_0x3b26f2),!_0x1f1ad7)break;let _0x51a333,_0x1ffaf1,_0x5ff580;if(_0x23186a>=0x3*0x7c9+-0x213a+0x9e0){for(let _0x194154=0x2*0x63d+-0xac3+0x1*-0x1b7;_0x194154<_0x280b69['length'];++_0x194154)_0x51a333=_0x280b69[_0x194154],_0x1ffaf1=_0x1c4af2[_0x194154],_0x5ff580=_0x1ffaf1['value'],Tt['set'](_0x5ff580,_0x51a333,_0x1ffaf1['target']['type']),_0x1ffaf1['blendCount'+'er']++;}else{if(_0x23186a>0x1c3*-0x3+0x22d5*0x1+-0x1f*0xf4){for(let _0x3bb4d3=0x2154+0x222c+0x5a0*-0xc;_0x3bb4d3<_0x280b69['length'];++_0x3bb4d3)_0x51a333=_0x280b69[_0x3bb4d3],_0x1ffaf1=_0x1c4af2[_0x3bb4d3],_0x5ff580=_0x1ffaf1['value'],_0x1ffaf1['blendCount'+'er']===0x6*-0x549+-0x1ed3+0x3e89?Tt['set'](_0x5ff580,_0x51a333,_0x1ffaf1['target']['type']):Tt['blend'](_0x5ff580,_0x51a333,_0x23186a,_0x1ffaf1['target']['type']),_0x1ffaf1['blendCount'+'er']++;}}}const _0x247212=this['_targets'],_0x687ec1=this['_binder'];for(const _0x5c3037 in _0x247212)if(_0x247212['hasOwnProp'+'erty'](_0x5c3037)){const _0x2bfc07=_0x247212[_0x5c3037];if(_0x687ec1['animCompon'+'ent']&&_0x2bfc07['target']['isTransfor'+'m']){const _0xe471bb=_0x687ec1['animCompon'+'ent']['targets'][_0x5c3037];_0xe471bb['counter']===_0xe471bb['layerCount'+'er']&&(_0xe471bb['counter']=0x1b0c+-0x1*0x1aae+-0x2*0x2f),_0xe471bb['path']||(_0xe471bb['path']=_0x5c3037,_0xe471bb['baseValue']=_0x2bfc07['target']['get'](),_0xe471bb['setter']=_0x2bfc07['target']['set']),_0xe471bb['updateValu'+'e'](_0x687ec1['layerIndex'],_0x2bfc07['value']),_0xe471bb['counter']++;}else _0x2bfc07['target']['set'](_0x2bfc07['value']);_0x2bfc07['blendCount'+'er']=-0x206d+-0xff9+-0x23*-0x162;}this['_binder']['update'](_0x3b26f2);}}class Y0{constructor(_0x21dc16){this['_events']=[..._0x21dc16],this['_events']['sort']((_0x12ae7f,_0x167632)=>_0x12ae7f['time']-_0x167632['time']);}get['events'](){return this['_events'];}}const lc=class lc{constructor(_0x3dfd50,_0x52884c,_0x2e5a4e,_0x9a405,_0x21a01c,_0x215686=new Y0([])){this['_name']=_0x3dfd50,this['_duration']=_0x52884c,this['_inputs']=_0x2e5a4e,this['_outputs']=_0x9a405,this['_curves']=_0x21a01c,this['_animEvent'+'s']=_0x215686;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x390c46){this['_animEvent'+'s']=_0x390c46;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x130592,_0x39effa){_0x39effa['_time']=_0x130592;const _0x20e414=this['_inputs'],_0x3c835f=this['_outputs'],_0x35b6e1=this['_curves'],_0x48c204=_0x39effa['_cache'],_0x418371=_0x39effa['_results'];for(let _0x2f4141=-0x1d*-0x2b+-0x1d*-0xf3+-0x27e*0xd;_0x2f4141<_0x20e414['length'];++_0x2f4141)_0x48c204[_0x2f4141]['update'](_0x130592,_0x20e414[_0x2f4141]['_data']);for(let _0x50e3f8=0x2026+-0x269e+0x678;_0x50e3f8<_0x35b6e1['length'];++_0x50e3f8){const _0x3c4b72=_0x35b6e1[_0x50e3f8],_0x4f37dd=_0x3c835f[_0x3c4b72['_output']],_0x372080=_0x418371[_0x50e3f8];_0x48c204[_0x3c4b72['_input']]['eval'](_0x372080,_0x3c4b72['_interpola'+'tion'],_0x4f37dd);}}};c(lc,'EMPTY',Object['freeze'](new lc('empty',Number['MAX_VALUE'],[],[],[])));let Ri=lc;class qr{static['joinPath'](_0x328d34,_0x34efe9){_0x34efe9=_0x34efe9||'.';const _0x378c9c=function(_0x807c05){return _0x807c05['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x34efe9,'g'),'\x5c'+_0x34efe9);};return _0x328d34['map'](_0x378c9c)['join'](_0x34efe9);}static['splitPath'](_0x1cf323,_0x4f773b){_0x4f773b=_0x4f773b||'.';const _0x38f385=[];let _0x3a87e='',_0x27eb45=-0x827+-0x7*-0x2e7+-0xc2a;for(;_0x27eb45<_0x1cf323['length'];){let _0x2417cc=_0x1cf323[_0x27eb45++];_0x2417cc==='\x5c'&&_0x27eb45<_0x1cf323['length']?(_0x2417cc=_0x1cf323[_0x27eb45++],_0x2417cc==='\x5c'||_0x2417cc===_0x4f773b?_0x3a87e+=_0x2417cc:_0x3a87e+='\x5c'+_0x2417cc):_0x2417cc===_0x4f773b?(_0x38f385['push'](_0x3a87e),_0x3a87e=''):_0x3a87e+=_0x2417cc;}return _0x3a87e['length']>-0x35*0x53+0x155d+0x6b*-0xa&&_0x38f385['push'](_0x3a87e),_0x38f385;}static['encode'](_0x3ce09c,_0x44a819,_0x4ac25c){return(Array['isArray'](_0x3ce09c)?_0x3ce09c['join']('/'):_0x3ce09c)+'/'+_0x44a819+'/'+(Array['isArray'](_0x4ac25c)?_0x4ac25c['join']('/'):_0x4ac25c);}['resolve'](_0x1f8cae){return null;}['unresolve'](_0x4fc749){}['update'](_0x54c962){}}class Zu{constructor(_0x13e1fe,_0x2bb458,_0x259de7,_0x2efc46){_0x13e1fe['set']?(this['_set']=_0x13e1fe['set'],this['_get']=_0x13e1fe['get']):this['_set']=_0x13e1fe,this['_type']=_0x2bb458,this['_component'+'s']=_0x259de7,this['_targetPat'+'h']=_0x2efc46,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x17*-0xd3+-0xe38+-0x4b0))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x243b+0xe9*0x13+-0x11d3*0x3))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x19a9+0xb52*-0x3+0x3ba9))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Ji{constructor(_0xaa333b){c(this,'_isPathInM'+'ask',(_0x16a9e0,_0x18a253)=>{const _0x5ac241=this['_mask'][_0x16a9e0];if(_0x5ac241){if(_0x5ac241['children']||_0x18a253&&_0x5ac241['value']!==!(0x1e81+0xa26+-0x28a6))return!(-0x10ea*-0x2+-0x1*0x23df+0x1*0x20b);}else return!(-0x18d*0x2+-0x1*-0x584+-0x269*0x1);return!(-0x1*0x4+0x8c6+-0x8c1);});if(this['graph']=_0xaa333b,!_0xaa333b)return;this['_mask']=null;const _0x3fb80e={},_0x4412b7=function(_0x107b3e){_0x3fb80e[_0x107b3e['name']]=_0x107b3e;for(let _0x1ea4cd=0x9a2*0x1+-0xced+-0x3*-0x119;_0x1ea4cd<_0x107b3e['children']['length'];++_0x1ea4cd)_0x4412b7(_0x107b3e['children'][_0x1ea4cd]);};_0x4412b7(_0xaa333b),this['nodes']=_0x3fb80e,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x1d8a36=function(_0x4a1d53){let _0x585703=_0x4a1d53;for(;_0x585703&&!(_0x585703 instanceof We);)_0x585703=_0x585703['parent'];let _0x482394;return _0x585703&&(_0x585703['render']?_0x482394=_0x585703['render']['meshInstan'+'ces']:_0x585703['model']&&(_0x482394=_0x585703['model']['meshInstan'+'ces'])),_0x482394;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x16d738){const _0x50f266=_0x16d738['localPosit'+'ion'],_0x35195b=function(_0x3f2a4b){_0x50f266['set'](..._0x3f2a4b);};return Ji['createAnim'+'Target'](_0x35195b,'vector',-0x2*-0x709+-0x2090+0x1281,_0x16d738,'localPosit'+'ion');},'localRotation':function(_0x5c8f37){const _0x574b6e=_0x5c8f37['localRotat'+'ion'],_0x17610c=function(_0x31eef0){_0x574b6e['set'](..._0x31eef0);};return Ji['createAnim'+'Target'](_0x17610c,'quaternion',0x2a8+-0xaf9*-0x3+-0x238f,_0x5c8f37,'localRotat'+'ion');},'localScale':function(_0x59f1ab){const _0x3109b8=_0x59f1ab['localScale'],_0x4a32af=function(_0x4a535e){_0x3109b8['set'](..._0x4a535e);};return Ji['createAnim'+'Target'](_0x4a32af,'vector',0x12df+-0x1bff*0x1+0x1*0x923,_0x59f1ab,'localScale');},'weight':function(_0xbec405,_0x238a73){_0x238a73['indexOf']('name.')===-0x18e5+0x1*-0x5f7+-0x2*-0xf6e?_0x238a73=_0x238a73['replace']('name.',''):_0x238a73=Number(_0x238a73);const _0x3750db=_0x1d8a36(_0xbec405);let _0x41fc96;if(_0x3750db){for(let _0x2fdac5=-0x5*0x18d+0x1f96*0x1+-0x17d5*0x1;_0x2fdac5<_0x3750db['length'];++_0x2fdac5)if(_0x3750db[_0x2fdac5]['node']['name']===_0xbec405['name']&&_0x3750db[_0x2fdac5]['morphInsta'+'nce']){const _0x199701=_0x3750db[_0x2fdac5]['morphInsta'+'nce'],_0x2bb30e=_0x271e99=>{_0x199701['setWeight'](_0x238a73,_0x271e99[-0x174*0x4+0xdd4+-0x804]);};_0x41fc96||(_0x41fc96=[]),_0x41fc96['push'](_0x2bb30e);}}if(_0x41fc96){const _0x1954a6=_0x583b18=>{for(let _0xd7d1ea=0x1*0x1f39+-0x26*0x87+-0xb2f*0x1;_0xd7d1ea<_0x41fc96['length'];++_0xd7d1ea)_0x41fc96[_0xd7d1ea](_0x583b18);};return Ji['createAnim'+'Target'](_0x1954a6,'number',0xeab+0x3*0xb35+0x3049*-0x1,_0xbec405,'weight.'+_0x238a73);}return null;},'materialTexture':(_0x2874d8,_0x30a516)=>{const _0x353752=_0x1d8a36(_0x2874d8);if(_0x353752){let _0x385f93;for(let _0x1e3d28=0x117b+-0x2d5+0x4e2*-0x3;_0x1e3d28<_0x353752['length'];++_0x1e3d28)if(_0x353752[_0x1e3d28]['node']['name']===_0x2874d8['name']){_0x385f93=_0x353752[_0x1e3d28];break;}if(_0x385f93){const _0x23f43c=_0x4afd22=>{const _0x3b1895=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x4afd22[0x2379+0x1067+-0x33e0]);_0x3b1895&&_0x3b1895['resource']&&_0x3b1895['type']==='texture'&&(_0x385f93['material'][_0x30a516]=_0x3b1895['resource'],_0x385f93['material']['update']());};return Ji['createAnim'+'Target'](_0x23f43c,'vector',0x26e*-0x2+0x1c7e+-0x17a1,_0x2874d8,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x54ee85){if(!this['_mask'])return!(-0x9ba*0x3+-0x944+0x2672);const _0x3ca48a=[_0x54ee85['entityPath'][0x14bc+0x9*-0x1a3+-0x601],this['graph']['name']];for(let _0x52c298=-0x39*-0x91+0x1f1f+0x4*-0xfda;_0x52c298<_0x3ca48a['length'];++_0x52c298){let _0x58912b=_0x3ca48a[_0x52c298];if(this['_isPathInM'+'ask'](_0x58912b,_0x54ee85['entityPath']['length']===-0xa3*-0x9+-0x1*-0xb66+-0x2*0x890))return!(-0x18b2+-0x5*-0x56b+-0x265);for(let _0x51c0e5=0x556+0x2*0xc0b+-0x1d6b;_0x51c0e5<_0x54ee85['entityPath']['length'];_0x51c0e5++)if(_0x58912b+='/'+_0x54ee85['entityPath'][_0x51c0e5],this['_isPathInM'+'ask'](_0x58912b,_0x51c0e5===_0x54ee85['entityPath']['length']-(-0xa5*0x33+0xa5*0x1+-0xdf*-0x25)))return!(0x8e*0x11+0x12a*-0x2+0x38d*-0x2);}return!(0xc16+-0xa3c+0x1d9*-0x1);}['findNode'](_0x132f35){if(!this['_isPathAct'+'ive'](_0x132f35))return null;let _0x1e4361;if(this['graph']&&(_0x1e4361=this['graph']['findByPath'](_0x132f35['entityPath']),_0x1e4361||(_0x1e4361=this['graph']['findByPath'](_0x132f35['entityPath']['slice'](-0x138c+0x197f+-0x2*0x2f9)))),!_0x1e4361){_0x1e4361=this['nodes'][_0x132f35['entityPath'][_0x132f35['entityPath']['length']-(0x13a0+-0x25b*-0x3+-0x1ab0)]||''];const _0x502b4a=qr['encode'](_0x132f35['entityPath'][_0x132f35['entityPath']['length']-(-0xcf7*0x1+0x5*-0x1b1+0x156d)]||'','graph',_0x132f35['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x502b4a]===-0x25c5+-0x23af+-0x5*-0xeb1&&v['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x502b4a+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x502b4a])?this['visitedFal'+'lbackGraph'+'Paths'][_0x502b4a]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x502b4a]=-0x49*-0x1+0x21a7*-0x1+-0x2*-0x10af;}return _0x1e4361;}static['createAnim'+'Target'](_0x446d5e,_0xb20234,_0x268edd,_0x38a13b,_0x57c041,_0x14e172){const _0x26c190=qr['encode'](_0x38a13b['path'],_0x14e172||'entity',_0x57c041);return new Zu(_0x446d5e,_0xb20234,_0x268edd,_0x26c190);}['resolve'](_0x230203){const _0x2e327f=qr['encode'](_0x230203['entityPath'],_0x230203['component'],_0x230203['propertyPa'+'th']);let _0x5e0852=this['targetCach'+'e'][_0x2e327f];if(_0x5e0852)return _0x5e0852;const _0x200fb8=this['findNode'](_0x230203);if(!_0x200fb8)return null;const _0x388433=this['handlers'][_0x230203['propertyPa'+'th']];return!_0x388433||(_0x5e0852=_0x388433(_0x200fb8),!_0x5e0852)?null:(this['targetCach'+'e'][_0x2e327f]=_0x5e0852,this['nodeCounts'][_0x200fb8['path']]?this['nodeCounts'][_0x200fb8['path']]++:(this['activeNode'+'s']['push'](_0x200fb8),this['nodeCounts'][_0x200fb8['path']]=-0x14cd+-0x873+0x1d41),_0x5e0852);}['unresolve'](_0x1fe919){if(_0x1fe919['component']!=='graph')return;const _0x487cc4=this['nodes'][_0x1fe919['entityPath'][_0x1fe919['entityPath']['length']-(0x956+-0xb52+-0x1*-0x1fd)]||''];if(this['nodeCounts'][_0x487cc4['path']]--,this['nodeCounts'][_0x487cc4['path']]===0xfbd+-0x2*-0xf5e+0x2e79*-0x1){const _0x456735=this['activeNode'+'s'],_0x4b7abb=_0x456735['indexOf'](_0x487cc4['node']),_0x358dd4=_0x456735['length'];_0x4b7abb<_0x358dd4-(-0x1547+0x1c*0x1d+0x487*0x4)&&(_0x456735[_0x4b7abb]=_0x456735[_0x358dd4-(0x7*-0x3e+-0x2b9*-0xb+-0x1c40)]),_0x456735['pop']();}}['update'](_0x2e2572){const _0x5a4f7f=this['activeNode'+'s'];for(let _0x243ccd=-0x1ecd+0x4ae+0x1a1f;_0x243ccd<_0x5a4f7f['length'];++_0x243ccd)_0x5a4f7f[_0x243ccd]['_dirtifyLo'+'cal']();}['assignMask'](_0x48edbe){return _0x48edbe!==this['_mask']?(this['_mask']=_0x48edbe,!(0x96*-0x37+0x223e+-0x204)):!(-0xaf4*-0x2+0x6*-0x24a+-0x1*0x82b);}}class K0 extends ue{constructor(){super(...arguments),c(this,'_animation'+'s',{}),c(this,'_assets',[]),c(this,'_loop',!(-0x2*0x12a3+-0x22c2+0x4808)),c(this,'animEvalua'+'tor',null),c(this,'model',null),c(this,'skeleton',null),c(this,'fromSkel',null),c(this,'toSkel',null),c(this,'animations'+'Index',{}),c(this,'prevAnim',null),c(this,'currAnim',null),c(this,'blend',-0x988+0x21df+-0x1857),c(this,'blending',!(0xc*0x2c0+-0x1e41+-0x1b*0x1a)),c(this,'blendSpeed',-0x735+-0x1c*-0x115+-0x1717),c(this,'activate',!(-0x413*-0x1+-0xf9*0x1+-0x31a)),c(this,'speed',0x16*-0x1c3+-0xfb8+-0x367b*-0x1);}set['animations'](_0x17b208){this['_animation'+'s']=_0x17b208,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x4ec7aa){const _0x149bb5=this['_assets'];if(_0x149bb5&&_0x149bb5['length']){for(let _0x8aeb8d=0xeb3+-0x20bc+0x1209;_0x8aeb8d<_0x149bb5['length'];_0x8aeb8d++)if(_0x149bb5[_0x8aeb8d]){const _0x3a8a18=this['system']['app']['assets']['get'](_0x149bb5[_0x8aeb8d]);if(_0x3a8a18){_0x3a8a18['off']('change',this['onAssetCha'+'nged'],this),_0x3a8a18['off']('remove',this['onAssetRem'+'oved'],this);const _0x1daa9f=this['animations'+'Index'][_0x3a8a18['id']];this['currAnim']===_0x1daa9f&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x1daa9f],delete this['animations'+'Index'][_0x3a8a18['id']];}}}this['_assets']=_0x4ec7aa;const _0x11453e=_0x4ec7aa['map'](_0x54cb02=>_0x54cb02 instanceof le?_0x54cb02['id']:_0x54cb02);this['loadAnimat'+'ionAssets'](_0x11453e);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x242806){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x242806,this['skeleton']['addTime'](0x18b3+0xa97+-0x234a),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x56e2d5=this['animEvalua'+'tor']['clips'];for(let _0x254a4=-0x169*0x1+-0x206c+0x3*0xb47;_0x254a4<_0x56e2d5['length'];++_0x254a4)_0x56e2d5[_0x254a4]['time']=_0x242806;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x578a1c=this['animEvalua'+'tor']['clips'];if(_0x578a1c['length']>0x13d7+0xce8+-0x20bf)return _0x578a1c[_0x578a1c['length']-(0x3fa+-0x2*-0x1cd+0x1*-0x793)]['time'];}return-0xe8c*-0x2+-0xf*0x263+0x6b5;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(v['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),-0x1*0x1ebe+-0xa1*0x30+-0x2*-0x1e77);}set['loop'](_0x172a5b){if(this['_loop']=_0x172a5b,this['skeleton']&&(this['skeleton']['looping']=_0x172a5b),this['animEvalua'+'tor']){for(let _0x1e9424=0x14*-0xf7+-0x23df+0x372b;_0x1e9424<this['animEvalua'+'tor']['clips']['length'];++_0x1e9424)this['animEvalua'+'tor']['clips'][_0x1e9424]['loop']=_0x172a5b;}}get['loop'](){return this['_loop'];}['play'](_0x18323a,_0x2951ff=-0xde6+-0x4e3*-0x2+0x160*0x3){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x18323a]){v['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x18323a+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x18323a,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x1c0ade=this['animations'][this['prevAnim']],_0x2ac914=this['animations'][this['currAnim']];if(this['blending']=_0x2951ff>-0x7d*-0xa+0x232*0x4+-0xdaa&&!!this['prevAnim'],this['blending']&&(this['blend']=-0x1d2d+0x4c5+0x1868,this['blendSpeed']=(-0x3*0x943+-0x2b*-0x91+-0x36f*-0x1)/_0x2951ff),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x1c0ade,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x2ac914):this['skeleton']['animation']=_0x2ac914),this['animEvalua'+'tor']){const _0x39529c=this['animEvalua'+'tor'];if(this['blending']){for(;_0x39529c['clips']['length']>0x1eac+0x1*-0x2595+-0x76*-0xf;)_0x39529c['removeClip'](-0x26fd+-0x28c+-0x157*-0x1f);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x3b6247=new Xh(this['animations'][this['currAnim']],-0x9ea+0x1541+-0xb57,0x1*0xb8c+0x17b+-0xd06,!(0x1b1e+-0x12d0*-0x1+-0x2dee*0x1),this['loop']);_0x3b6247['name']=this['currAnim'],_0x3b6247['blendWeigh'+'t']=this['blending']?0x13c8+0x421*0x3+-0x202b:-0x10a2+-0x14*-0x88+0x603,_0x3b6247['reset'](),this['animEvalua'+'tor']['addClip'](_0x3b6247);}}this['playing']=!(-0x67*0x19+0x56a+0x4a5);}}['getAnimati'+'on'](_0xc373c8){return this['animations'][_0xc373c8];}['setModel'](_0x57508f){_0x57508f!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x57508f,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x2f6063=this['entity']['model'];if(_0x2f6063){const _0x4b539c=_0x2f6063['model'];_0x4b539c&&_0x4b539c!==this['model']&&this['setModel'](_0x4b539c);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x3b0a8d=Object['keys'](this['_animation'+'s']);_0x3b0a8d['length']>-0x152a+-0x95*0x3d+-0xa3*-0x59&&this['play'](_0x3b0a8d[0x1d01+0x550+-0x2251]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x196d6c=this['model'],_0x5d44c6=this['animations'];let _0x2d160c=!(-0x1*-0x10e3+-0x1bc6+0x44*0x29),_0x359e0f=!(-0x1*-0xc90+-0x6ef+-0x5a0);for(const _0x583d69 in _0x5d44c6)_0x5d44c6['hasOwnProp'+'erty'](_0x583d69)&&(_0x5d44c6[_0x583d69]['constructo'+'r']===Ri?_0x359e0f=!(0x1d2b+0xef*0x1+0x1e1a*-0x1):_0x2d160c=!(0x1*0x847+-0x2281+0x1a3a));const _0x4dfbd0=_0x196d6c['getGraph']();_0x2d160c?(this['fromSkel']=new Wd(_0x4dfbd0),this['toSkel']=new Wd(_0x4dfbd0),this['skeleton']=new Wd(_0x4dfbd0),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x4dfbd0)):_0x359e0f&&(this['animEvalua'+'tor']=new j0(new Ji(this['entity'])));}['loadAnimat'+'ionAssets'](_0x3fed31){if(!_0x3fed31||!_0x3fed31['length'])return;const _0x458fa5=this['system']['app']['assets'],_0x3b90a2=_0xa050b=>{if(_0xa050b['resources']['length']>-0x242d+0xa69+0x2dd*0x9){for(let _0x58ecaf=-0x17ab+0xc72+-0xa9*-0x11;_0x58ecaf<_0xa050b['resources']['length'];_0x58ecaf++)this['animations'][_0xa050b['resources'][_0x58ecaf]['name']]=_0xa050b['resources'][_0x58ecaf],this['animations'+'Index'][_0xa050b['id']]=_0xa050b['resources'][_0x58ecaf]['name'];}else this['animations'][_0xa050b['name']]=_0xa050b['resource'],this['animations'+'Index'][_0xa050b['id']]=_0xa050b['name'];this['animations']=this['animations'];},_0x2ba3c1=_0x136372=>{_0x136372['off']('change',this['onAssetCha'+'nged'],this),_0x136372['on']('change',this['onAssetCha'+'nged'],this),_0x136372['off']('remove',this['onAssetRem'+'oved'],this),_0x136372['on']('remove',this['onAssetRem'+'oved'],this),_0x136372['resource']?_0x3b90a2(_0x136372):(_0x136372['once']('load',_0x3b90a2,this),this['enabled']&&this['entity']['enabled']&&_0x458fa5['load'](_0x136372));};for(let _0x417687=-0x119*-0x1+-0x14f1+0x13d8,_0x22f58b=_0x3fed31['length'];_0x417687<_0x22f58b;_0x417687++){const _0x155f69=_0x458fa5['get'](_0x3fed31[_0x417687]);_0x155f69?_0x2ba3c1(_0x155f69):_0x458fa5['on']('add:'+_0x3fed31[_0x417687],_0x2ba3c1);}}['onAssetCha'+'nged'](_0x2243e1,_0x5cf7da,_0x1b117b,_0x5ea8dd){if(_0x5cf7da==='resource'||_0x5cf7da==='resources'){if(_0x5cf7da==='resources'&&_0x1b117b&&_0x1b117b['length']===-0xe89+0x1d3b*0x1+-0xeb2&&(_0x1b117b=null),_0x1b117b){let _0xbe3532=!(0x2667+0x1044+-0x36aa);if(_0x1b117b['length']>0x3d*0x3d+0x14*-0x2+-0xe60){if(_0x5ea8dd&&_0x5ea8dd['length']>-0x27a+-0xf*-0x126+-0xebf){for(let _0x1dc907=-0x2*0xb89+-0x1*-0x1e67+-0x755;_0x1dc907<_0x5ea8dd['length'];_0x1dc907++)delete this['animations'][_0x5ea8dd[_0x1dc907]['name']];}else delete this['animations'][_0x2243e1['name']];_0xbe3532=!(0x1a59+-0x81d*0x2+-0xe*0xb9);for(let _0x4e2575=0x15da+0x2f*-0x5a+-0x4*0x155;_0x4e2575<_0x1b117b['length'];_0x4e2575++)this['animations'][_0x1b117b[_0x4e2575]['name']]=_0x1b117b[_0x4e2575],!_0xbe3532&&this['currAnim']===_0x1b117b[_0x4e2575]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0xbe3532=!(-0x17d9+-0x1*-0x242f+0x62b*-0x2),this['play'](_0x1b117b[_0x4e2575]['name']));_0xbe3532||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x5ea8dd&&_0x5ea8dd['length']>0xcc5*-0x3+-0x1*-0xdaf+0x18a1){for(let _0x381bb4=-0x1400+0x794+0xc6c;_0x381bb4<_0x5ea8dd['length'];_0x381bb4++)delete this['animations'][_0x5ea8dd[_0x381bb4]['name']];}this['animations'][_0x2243e1['name']]=_0x1b117b[0x1edb+0x3e*-0xd+-0xad*0x29]||_0x1b117b,_0xbe3532=!(0x198e+-0x11*-0x243+0x200*-0x20),this['currAnim']===_0x2243e1['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0xbe3532=!(0x100f*0x1+0x464+0xf*-0x15d),this['play'](_0x2243e1['name'])),_0xbe3532||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x2243e1['id']]=_0x2243e1['name'];}else{if(_0x5ea8dd['length']>0xe4+0x1ba2+0x7*-0x413){for(let _0xa54869=0xa0*-0x1f+-0x523+-0x4e7*-0x5;_0xa54869<_0x5ea8dd['length'];_0xa54869++)delete this['animations'][_0x5ea8dd[_0xa54869]['name']],this['currAnim']===_0x5ea8dd[_0xa54869]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x2243e1['name']],this['currAnim']===_0x2243e1['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x2243e1['id']];}}}['onAssetRem'+'oved'](_0x594b02){if(_0x594b02['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x594b02['resources']['length']>0x593*-0x4+0x1e61+-0x814){for(let _0x209e4c=-0xac8+-0x1744+-0x1*-0x220c;_0x209e4c<_0x594b02['resources']['length'];_0x209e4c++)delete this['animations'][_0x594b02['resources'][_0x209e4c]['name']],this['currAnim']===_0x594b02['resources'][_0x209e4c]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x594b02['name']],this['currAnim']===_0x594b02['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x594b02['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(0x1*-0x17cc+-0x223a+-0xb9b*-0x5),this['skeleton']&&(this['skeleton']['currentTim'+'e']=0x1*-0x1429+0x1208+0x6d*0x5,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x38543b=-0x33b*0x2+-0x83*-0x2c+-0x3*0x55a;_0x38543b<this['animEvalua'+'tor']['clips']['length'];++_0x38543b)this['animEvalua'+'tor']['clips'][_0x38543b]['stop']();this['animEvalua'+'tor']['update'](0x1f*-0x6d+-0x13*0x70+0x1*0x1583),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x18385d=this['assets'],_0x1aae45=this['system']['app']['assets'];if(_0x18385d)for(let _0x2273c5=-0x2208+0x127*0x1+0x20e1,_0x2ae28a=_0x18385d['length'];_0x2273c5<_0x2ae28a;_0x2273c5++){let _0xbf65df=_0x18385d[_0x2273c5];_0xbf65df instanceof le||(_0xbf65df=_0x1aae45['get'](_0xbf65df)),_0xbf65df&&!_0xbf65df['resource']&&_0x1aae45['load'](_0xbf65df);}if(this['activate']&&!this['currAnim']){const _0xcfdbd1=Object['keys'](this['animations']);_0xcfdbd1['length']>0x31c+0x1*0x1fd+-0x519&&this['play'](_0xcfdbd1[0x1241*0x2+-0x53e*-0x4+-0x7*0x836]);}}['onBeforeRe'+'move'](){for(let _0x49d10e=-0x1e1+0x20ec+-0x1f0b;_0x49d10e<this['assets']['length'];_0x49d10e++){let _0x296ec3=this['assets'][_0x49d10e];typeof _0x296ec3=='number'&&(_0x296ec3=this['system']['app']['assets']['get'](_0x296ec3)),_0x296ec3&&(_0x296ec3['off']('change',this['onAssetCha'+'nged'],this),_0x296ec3['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x388543){if(this['blending']&&(this['blend']+=_0x388543*this['blendSpeed'],this['blend']>=0xb*-0x28d+0x1*-0x1cd7+-0x38e7*-0x1&&(this['blend']=-0x487*0x2+-0x5a2+0xeb1)),this['playing']){const _0x4a8095=this['skeleton'];if(_0x4a8095!==null&&this['model']!==null){if(this['blending'])_0x4a8095['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x44ec6e=_0x388543*this['speed'];_0x4a8095['addTime'](_0x44ec6e),this['speed']>0x2c3*0x3+0x12da+-0x1b23&&_0x4a8095['_time']===_0x4a8095['animation']['duration']&&!this['loop']?this['playing']=!(-0x2*0xccb+-0x63a+0xf*0x21f):this['speed']<0x231b+0xa95+0x22*-0x158&&_0x4a8095['_time']===-0x13*0xfb+-0x924+0x1bc5&&!this['loop']&&(this['playing']=!(-0xa4+0x4*-0x79d+0x1f19*0x1));}this['blending']&&this['blend']===-0x5*-0x50+0x3*-0x88c+0x1815*0x1&&(_0x4a8095['animation']=this['toSkel']['animation']),_0x4a8095['updateGrap'+'h']();}}const _0x132b4d=this['animEvalua'+'tor'];if(_0x132b4d){for(let _0x979c08=0x1*-0xf29+-0x1*0x21f+-0x278*-0x7;_0x979c08<_0x132b4d['clips']['length'];++_0x979c08){const _0x4ed959=_0x132b4d['clips'][_0x979c08];_0x4ed959['speed']=this['speed'],this['playing']?_0x4ed959['resume']():_0x4ed959['pause']();}this['blending']&&_0x132b4d['clips']['length']>0x4e+0x1d*0x95+-0x112e&&(_0x132b4d['clips'][-0x812+-0x10f*-0x14+0x1df*-0x7]['blendWeigh'+'t']=this['blend']),_0x132b4d['update'](_0x388543);}this['blending']&&this['blend']===-0x1*0x1f7+-0x34c*-0x2+-0x4a0&&(this['blending']=!(0x26*0xe2+0x3e*-0x7c+0x1d*-0x1f));}}class zP{constructor(){this['enabled']=!(0x24e8+-0x11b5+-0x1333);}}const Qu=['enabled'];class UP extends Xe{constructor(_0x33c489){super(_0x33c489),this['id']='animation',this['ComponentT'+'ype']=K0,this['DataType']=zP,this['schema']=Qu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x1942e4,_0x3e63ab,_0x5c180a){_0x5c180a=['activate','enabled','loop','speed','assets'];for(const _0x4087e5 of _0x5c180a)_0x3e63ab['hasOwnProp'+'erty'](_0x4087e5)&&(_0x1942e4[_0x4087e5]=_0x3e63ab[_0x4087e5]);super['initialize'+'ComponentD'+'ata'](_0x1942e4,_0x3e63ab,Qu);}['cloneCompo'+'nent'](_0x2d1157,_0x566a66){this['addCompone'+'nt'](_0x566a66,{}),_0x566a66['animation']['assets']=_0x2d1157['animation']['assets']['slice'](),_0x566a66['animation']['speed']=_0x2d1157['animation']['speed'],_0x566a66['animation']['loop']=_0x2d1157['animation']['loop'],_0x566a66['animation']['activate']=_0x2d1157['animation']['activate'],_0x566a66['animation']['enabled']=_0x2d1157['animation']['enabled'];const _0xcd1174={},_0x97a7=_0x2d1157['animation']['animations'];for(const _0x4b83cb in _0x97a7)_0x97a7['hasOwnProp'+'erty'](_0x4b83cb)&&(_0xcd1174[_0x4b83cb]=_0x97a7[_0x4b83cb]);_0x566a66['animation']['animations']=_0xcd1174;const _0x5df4fd={},_0x4dd794=_0x2d1157['animation']['animations'+'Index'];for(const _0x4ec0e4 in _0x4dd794)_0x4dd794['hasOwnProp'+'erty'](_0x4ec0e4)&&(_0x5df4fd[_0x4ec0e4]=_0x4dd794[_0x4ec0e4]);return _0x566a66['animation']['animations'+'Index']=_0x5df4fd,_0x566a66['animation'];}['onBeforeRe'+'move'](_0x4953e1,_0x48d8b7){_0x48d8b7['onBeforeRe'+'move']();}['onUpdate'](_0xef4e41){const _0x37d770=this['store'];for(const _0xdf9ca6 in _0x37d770)if(_0x37d770['hasOwnProp'+'erty'](_0xdf9ca6)){const _0x133649=_0x37d770[_0xdf9ca6];_0x133649['data']['enabled']&&_0x133649['entity']['enabled']&&_0x133649['entity']['animation']['update'](_0xef4e41);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](K0['prototype'],Qu);class Uo{constructor(_0x3b8bd3,_0x49f402,_0x1f444e,_0x3aeb4c,_0x4d92d7=-0x1b63+0x4*-0x942+0x1c*0x24d){this['_state']=_0x3b8bd3,this['_parent']=_0x49f402,this['_name']=_0x1f444e,Array['isArray'](_0x3aeb4c)?(this['_point']=new W(_0x3aeb4c[-0x238b+0x16e1+-0x1*-0xcaa],_0x3aeb4c[-0x712+0xe*-0x86+-0x3*-0x4cd]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x3aeb4c,this['_pointLeng'+'th']=_0x3aeb4c),this['_speed']=_0x4d92d7,this['_weightedS'+'peed']=-0x120*0x18+0x25e+0x7*0x385,this['_weight']=0x25a9+-0x210c+-0x49c,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x4fa4ee){this['_weight']=_0x4fa4ee;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x1814af=this['_state']['totalWeigh'+'t'];return _0x1814af===-0x4e1*0x7+-0xd8d+0x56*0x8e?-0x1*0x961+0xbcf+-0x26e:this['weight']/_0x1814af;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x52bd83){this['_weightedS'+'peed']=_0x52bd83;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x4a3d43){this['_animTrack']=_0x4a3d43;}get['animTrack'](){return this['_animTrack'];}}class Ba extends Uo{constructor(_0x3ab65d,_0x1de356,_0x2f9d46,_0x218c24,_0x2b642f,_0x303a01,_0x17891a,_0x5dab64,_0x488b04){super(_0x3ab65d,_0x1de356,_0x2f9d46,_0x218c24),this['_parameter'+'s']=_0x2b642f,this['_parameter'+'Values']=new Array(_0x2b642f['length']),this['_children']=[],this['_findParam'+'eter']=_0x488b04,this['_syncAnima'+'tions']=_0x17891a!==!(0x1583+-0x11c2+-0x3c0),this['_pointCach'+'e']={};for(let _0x16bdb3=0x23*0xc5+0x844+0x1*-0x2333;_0x16bdb3<_0x303a01['length'];_0x16bdb3++){const _0x49d706=_0x303a01[_0x16bdb3];_0x49d706['children']?this['_children']['push'](_0x5dab64(_0x49d706['type'],_0x3ab65d,this,_0x49d706['name'],0x10ec*0x1+-0x3*0xc2+-0xea5,_0x49d706['parameter']?[_0x49d706['parameter']]:_0x49d706['parameters'],_0x49d706['children'],_0x49d706['syncAnimat'+'ions'],_0x5dab64,_0x488b04)):this['_children']['push'](new Uo(_0x3ab65d,this,_0x49d706['name'],_0x49d706['point'],_0x49d706['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x2a7cbd){for(let _0x528e17=0xebe+-0x710+-0x3d7*0x2;_0x528e17<this['_children']['length'];_0x528e17++)if(this['_children'][_0x528e17]['name']===_0x2a7cbd)return this['_children'][_0x528e17];return null;}['updatePara'+'meterValue'+'s'](){let _0x260358=!(0x118e+-0x1*-0x1379+-0x2507*0x1);for(let _0x5770b7=0x112*0x1f+0x2f*0x72+0x2*-0x1b0e;_0x5770b7<this['_parameter'+'Values']['length'];_0x5770b7++){const _0x49fe0a=this['_findParam'+'eter'](this['_parameter'+'s'][_0x5770b7])['value'];this['_parameter'+'Values'][_0x5770b7]!==_0x49fe0a&&(this['_parameter'+'Values'][_0x5770b7]=_0x49fe0a,_0x260358=!(-0x2010+-0x19b+0x21ac));}return _0x260358;}['getNodeWei'+'ghtedDurat'+'ion'](_0x2df983){return this['_children'][_0x2df983]['animTrack']['duration']/this['_children'][_0x2df983]['speedMulti'+'plier']*this['_children'][_0x2df983]['weight'];}['getNodeCou'+'nt'](){let _0x265781=0x28b*-0xf+-0x1*-0xb5a+0x1acb;for(let _0x2850d6=0xa0b*-0x3+0xe5f+0xfc2;_0x2850d6<this['_children']['length'];_0x2850d6++)this['_children'][_0x2850d6]['constructo'+'r']===Ba?_0x265781+=this['_children'][_0x2850d6]['getNodeCou'+'nt']():_0x265781++;return _0x265781;}}class VP extends Ba{constructor(_0x1df854,_0x3184b4,_0x348475,_0x2d5ed6,_0x5cb424,_0x3b8e76,_0x970f84,_0x1bed73,_0x26ef4c){_0x3b8e76['sort']((_0x1e2155,_0x1a7f8)=>_0x1e2155['point']-_0x1a7f8['point']),super(_0x1df854,_0x3184b4,_0x348475,_0x2d5ed6,_0x5cb424,_0x3b8e76,_0x970f84,_0x1bed73,_0x26ef4c);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x511571=-0x279*0xb+-0x1fc6+0x3af9*0x1;this['_children'][0x117+0x1d8+0x1*-0x2ef]['weight']=-0x12cb*-0x2+0x1617+-0x3bad;for(let _0x4c61ac=-0x113e+0x20ad+-0x525*0x3;_0x4c61ac<this['_children']['length'];_0x4c61ac++){const _0x2e253b=this['_children'][_0x4c61ac];if(_0x4c61ac!==this['_children']['length']-(-0x8e3*0x1+0xed3+0x31*-0x1f)){const _0x25ee5d=this['_children'][_0x4c61ac+(0xcfd+-0xbcc+-0x98*0x2)];if(_0x2e253b['point']===_0x25ee5d['point'])_0x2e253b['weight']=-0x21f7+-0x50f*0x3+-0x1892*-0x2+0.5,_0x25ee5d['weight']=0x2159+-0x2*0xfbb+-0x7*0x45+0.5;else{if(N['between'](this['_parameter'+'Values'][0x1c2b*-0x1+-0x22a1+0x3ecc],_0x2e253b['point'],_0x25ee5d['point'],!(-0x270a+-0x497+0x2ba1))){const _0x327ae9=Math['abs'](_0x2e253b['point']-_0x25ee5d['point']),_0xf3c48b=Math['abs'](_0x2e253b['point']-this['_parameter'+'Values'][-0x69*-0x26+-0x1d8b+0xdf5]),_0x294f79=(_0x327ae9-_0xf3c48b)/_0x327ae9;_0x2e253b['weight']=_0x294f79,_0x25ee5d['weight']=-0x44*0x5f+-0x5*-0x32b+-0x966*-0x1-_0x294f79;}else _0x25ee5d['weight']=-0x3*0x569+-0x1093*-0x1+-0x4*0x16;}}this['_syncAnima'+'tions']&&(_0x511571+=_0x2e253b['animTrack']['duration']/_0x2e253b['absoluteSp'+'eed']*_0x2e253b['weight']);}if(this['_syncAnima'+'tions'])for(let _0x5c8470=-0x10e3+0x183f+-0x75c;_0x5c8470<this['_children']['length'];_0x5c8470++){const _0x5f47fd=this['_children'][_0x5c8470];_0x5f47fd['weightedSp'+'eed']=_0x5f47fd['animTrack']['duration']/_0x5f47fd['absoluteSp'+'eed']/_0x511571;}}}const gi=class gi extends Ba{['pointDista'+'nceCache'](_0x548a45,_0x106b47){const _0x2675bb=''+_0x548a45+_0x106b47;return this['_pointCach'+'e'][_0x2675bb]||(this['_pointCach'+'e'][_0x2675bb]=this['_children'][_0x106b47]['point']['clone']()['sub'](this['_children'][_0x548a45]['point'])),this['_pointCach'+'e'][_0x2675bb];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x738ee0,_0x3b57f4;gi['_p']['set'](...this['_parameter'+'Values']),_0x738ee0=0x235c+-0x1b03+-0x859,_0x3b57f4=0x19a3+-0x565*-0x7+-0x3f66;for(let _0x4ecc6a=0x1*-0x119d+-0x12cc*-0x2+-0x13fb*0x1;_0x4ecc6a<this['_children']['length'];_0x4ecc6a++){const _0x156bf1=this['_children'][_0x4ecc6a],_0x296f75=_0x156bf1['point'];gi['_pip']['set'](gi['_p']['x'],gi['_p']['y'])['sub'](_0x296f75);let _0x456b5d=Number['MAX_VALUE'];for(let _0x247800=0x1d80+-0x15*-0xf9+-0x31ed;_0x247800<this['_children']['length'];_0x247800++){if(_0x4ecc6a===_0x247800)continue;const _0x17192c=this['pointDista'+'nceCache'](_0x4ecc6a,_0x247800),_0x3d1104=N['clamp'](-0x2c5+0xb03*-0x1+-0xdc9*-0x1-gi['_pip']['dot'](_0x17192c)/_0x17192c['lengthSq'](),-0x592+0x154d+0xfbb*-0x1,-0x1*-0xdb2+0x1698+-0x2449);_0x3d1104<_0x456b5d&&(_0x456b5d=_0x3d1104);}_0x156bf1['weight']=_0x456b5d,_0x738ee0+=_0x456b5d,this['_syncAnima'+'tions']&&(_0x3b57f4+=_0x156bf1['animTrack']['duration']/_0x156bf1['absoluteSp'+'eed']*_0x156bf1['weight']);}for(let _0x138581=-0x2201+0x5*-0x243+0x2d50;_0x138581<this['_children']['length'];_0x138581++){const _0x59dfcd=this['_children'][_0x138581];_0x59dfcd['weight']=_0x59dfcd['_weight']/_0x738ee0,this['_syncAnima'+'tions']&&(_0x59dfcd['weightedSp'+'eed']=_0x59dfcd['animTrack']['duration']/_0x59dfcd['absoluteSp'+'eed']/_0x3b57f4);}}};c(gi,'_p',new W()),c(gi,'_pip',new W());let Ju=gi;const yi=class yi extends Ba{['pointCache'](_0x38d4e7,_0x43cd08){const _0x294330=''+_0x38d4e7+_0x43cd08;return this['_pointCach'+'e'][_0x294330]||(this['_pointCach'+'e'][_0x294330]=new W((this['_children'][_0x43cd08]['pointLengt'+'h']-this['_children'][_0x38d4e7]['pointLengt'+'h'])/((this['_children'][_0x43cd08]['pointLengt'+'h']+this['_children'][_0x38d4e7]['pointLengt'+'h'])/(-0x1d48+-0x207d*-0x1+-0x333)),W['angleRad'](this['_children'][_0x38d4e7]['point'],this['_children'][_0x43cd08]['point'])*(-0x2b8*-0x3+0x1*0x1349+-0x1b6f))),this['_pointCach'+'e'][_0x294330];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x389519,_0x395800;yi['_p']['set'](...this['_parameter'+'Values']);const _0x27a8a1=yi['_p']['length']();_0x389519=0x11b1+0x1*-0x21e9+0x3*0x568,_0x395800=-0x2*0xa98+-0x23ba+-0xb62*-0x5;for(let _0x560b26=-0x15f4+0x82f*0x1+0x2c1*0x5;_0x560b26<this['_children']['length'];_0x560b26++){const _0xb3263c=this['_children'][_0x560b26],_0xd58b56=_0xb3263c['point'],_0x16f8d8=_0xb3263c['pointLengt'+'h'];let _0x211d18=Number['MAX_VALUE'];for(let _0x5b2138=-0xa13+-0x2*0xe06+-0x3*-0xcb5;_0x5b2138<this['_children']['length'];_0x5b2138++){if(_0x560b26===_0x5b2138)continue;const _0x174c34=this['pointCache'](_0x560b26,_0x5b2138),_0x157d4a=this['_children'][_0x5b2138]['pointLengt'+'h'];yi['_pip']['set']((_0x27a8a1-_0x16f8d8)/((_0x157d4a+_0x16f8d8)/(0x576+0x235a*0x1+-0x28ce)),W['angleRad'](_0xd58b56,yi['_p'])*(-0xf1c*0x2+0x1f5e+-0x124));const _0x535cff=N['clamp'](0x9fc*0x1+-0x25e8+0x1bed-Math['abs'](yi['_pip']['dot'](_0x174c34)/_0x174c34['lengthSq']()),-0x2f2*-0x1+-0x7*-0x105+-0x59*0x1d,0x18c5*0x1+-0x82e+0xc1*-0x16);_0x535cff<_0x211d18&&(_0x211d18=_0x535cff);}_0xb3263c['weight']=_0x211d18,_0x389519+=_0x211d18,this['_syncAnima'+'tions']&&(_0x395800+=_0xb3263c['animTrack']['duration']/_0xb3263c['absoluteSp'+'eed']*_0xb3263c['weight']);}for(let _0x587abf=-0x3*-0xbe9+-0x7*0x233+-0x112*0x13;_0x587abf<this['_children']['length'];_0x587abf++){const _0x2216f2=this['_children'][_0x587abf];if(_0x2216f2['weight']=_0x2216f2['_weight']/_0x389519,this['_syncAnima'+'tions']){const _0x156f39=_0x2216f2['animTrack']['duration']/_0x395800*_0x389519;_0x2216f2['weightedSp'+'eed']=_0x2216f2['absoluteSp'+'eed']*_0x156f39;}}}};c(yi,'_p',new W()),c(yi,'_pip',new W());let ef=yi;class GP extends Ba{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x2b6350=0x2454+-0x1066*-0x1+-0x34ba,_0x59ad65=0x57*0x31+0x4*0x9aa+-0x374f;for(let _0x73a983=0x154d+0x7a7*-0x4+-0x94f*-0x1;_0x73a983<this['_children']['length'];_0x73a983++)if(_0x2b6350+=Math['max'](this['_parameter'+'Values'][_0x73a983],0x1*-0x23ad+0x2*0xbe6+-0x1*-0xbe1),this['_syncAnima'+'tions']){const _0xfe26ca=this['_children'][_0x73a983];_0x59ad65+=_0xfe26ca['animTrack']['duration']/_0xfe26ca['absoluteSp'+'eed']*_0xfe26ca['weight'];}for(let _0x555386=0x14*0xbe+-0x83*-0x1d+-0x1daf;_0x555386<this['_children']['length'];_0x555386++){const _0x3aed42=this['_children'][_0x555386],_0x118c9c=Math['max'](this['_parameter'+'Values'][_0x555386],0x1a41+0x1c+-0x11*0x18d);_0x2b6350?(_0x3aed42['weight']=_0x118c9c/_0x2b6350,this['_syncAnima'+'tions']&&(_0x3aed42['weightedSp'+'eed']=_0x3aed42['animTrack']['duration']/_0x3aed42['absoluteSp'+'eed']/_0x59ad65)):(_0x3aed42['weight']=0xe5c+0x95*0x1+-0xef1,this['_syncAnima'+'tions']&&(_0x3aed42['weightedSp'+'eed']=0xeb1*0x1+-0x2605*0x1+0x1754));}}}class eg{constructor(_0x12ba61,_0x2da29b,_0x21da7d=0x2a5+-0x1ee*0x1+-0xb6,_0x5ba013=!(-0xdb6+-0xe*0x1b1+0x2564),_0x5b9e03){c(this,'_animation'+'s',{}),c(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x12ba61,this['_name']=_0x2da29b,this['_speed']=_0x21da7d,this['_loop']=_0x5ba013,this['_hasAnimat'+'ions']=!(0xcb3*-0x1+0x1924+-0xc70),_0x5b9e03?this['_blendTree']=this['_createTre'+'e'](_0x5b9e03['type'],this,null,_0x2da29b,0xf7*-0x9+-0x1ba6+0x2456,_0x5b9e03['parameter']?[_0x5b9e03['parameter']]:_0x5b9e03['parameters'],_0x5b9e03['children'],_0x5b9e03['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new Uo(this,null,_0x2da29b,-0x971*0x3+0x1627+-0x33*-0x1f,_0x21da7d));}['_createTre'+'e'](_0x2be43d,_0x1244bb,_0x52d1de,_0x5854ef,_0x2c9491,_0x3d6324,_0x29e829,_0x312adb,_0x3274e5,_0x4ce48b){switch(_0x2be43d){case FP:return new VP(_0x1244bb,_0x52d1de,_0x5854ef,_0x2c9491,_0x3d6324,_0x29e829,_0x312adb,_0x3274e5,_0x4ce48b);case kP:return new Ju(_0x1244bb,_0x52d1de,_0x5854ef,_0x2c9491,_0x3d6324,_0x29e829,_0x312adb,_0x3274e5,_0x4ce48b);case OP:return new ef(_0x1244bb,_0x52d1de,_0x5854ef,_0x2c9491,_0x3d6324,_0x29e829,_0x312adb,_0x3274e5,_0x4ce48b);case BP:return new GP(_0x1244bb,_0x52d1de,_0x5854ef,_0x2c9491,_0x3d6324,_0x29e829,_0x312adb,_0x3274e5,_0x4ce48b);}v['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x2be43d);}['_getNodeFr'+'omPath'](_0x4dd7cf){let _0x283896=this['_blendTree'];for(let _0x2deb09=-0x1*-0x2273+0xe0b+-0x307d;_0x2deb09<_0x4dd7cf['length'];_0x2deb09++)_0x283896=_0x283896['getChild'](_0x4dd7cf[_0x2deb09]);return _0x283896;}['addAnimati'+'on'](_0x102227,_0x142dbb){const _0x5913a0=_0x102227['join']('.'),_0x4c75d5=this['_animation'+'List']['findIndex'](_0x420c8b=>_0x420c8b['path']===_0x5913a0);if(_0x4c75d5>=0xf8*-0x26+-0x4c0+-0x2990*-0x1)this['_animation'+'List'][_0x4c75d5]['animTrack']=_0x142dbb;else{const _0x3bce88=this['_getNodeFr'+'omPath'](_0x102227);_0x3bce88['animTrack']=_0x142dbb,this['_animation'+'List']['push'](_0x3bce88);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>0x4*-0x616+-0x120f+-0x41*-0xa7&&this['_animation'+'List']['every'](_0x490de2=>_0x490de2['animTrack']&&_0x490de2['animTrack']!==Ri['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x319eca){this['_animation'+'List']=_0x319eca,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0xad3777){this['_speed']=_0xad3777;}get['speed'](){return this['_speed'];}set['loop'](_0x3f1f58){this['_loop']=_0x3f1f58;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===Uo?0xe37*0x1+-0x3*0x165+-0xa07:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return jh['indexOf'](this['name'])!==-(0x1*-0xe9b+0x2*0x1337+-0x17d2)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>0x23c2+-0x1405*-0x1+0x6d*-0x83){const _0xd07848=this['name']+'.'+this['animations'][-0x2*-0x2c+-0x1*-0x161+-0x1b9]['animTrack']['name'],_0x49d8ae=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0xd07848);if(_0x49d8ae)return _0x49d8ae['loop'];}return!(-0x2475+-0x1600+0x3a76);}get['totalWeigh'+'t'](){let _0x2489e3=0xb*-0x2c2+-0x1642+0x3498;for(let _0x43e896=0x1*0x1fae+-0x11ad+-0xe01;_0x43e896<this['animations']['length'];_0x43e896++)_0x2489e3+=this['animations'][_0x43e896]['weight'];return _0x2489e3;}get['timelineDu'+'ration'](){let _0x3d90e2=0x1*-0xa93+-0x2df+-0x2*-0x6b9;for(let _0x201f6d=-0x3f1*-0x1+-0x65c*0x5+-0x1*-0x1bdb;_0x201f6d<this['animations']['length'];_0x201f6d++){const _0x401d8f=this['animations'][_0x201f6d];_0x401d8f['animTrack']['duration']>_0x3d90e2&&(_0x3d90e2=_0x401d8f['animTrack']['duration']);}return _0x3d90e2;}}class Yh{constructor({from:_0x5ce0e9,to:_0x5ba7c5,time:_0x47139d=0x1f9f+-0xa80+-0x151f,priority:_0x591f2e=0x1877+-0x417*0x8+-0x841*-0x1,conditions:_0x5c7273=[],exitTime:_0x5c5b21=null,transitionOffset:_0x199d0c=null,interruptionSource:_0x390985=q0}){this['_from']=_0x5ce0e9,this['_to']=_0x5ba7c5,this['_time']=_0x47139d,this['_priority']=_0x591f2e,this['_condition'+'s']=_0x5c7273,this['_exitTime']=_0x5c5b21,this['_transitio'+'nOffset']=_0x199d0c,this['_interrupt'+'ionSource']=_0x390985;}get['from'](){return this['_from'];}set['to'](_0x15c2a5){this['_to']=_0x15c2a5;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class HP{constructor(_0x26e7e8,_0x36e3cd,_0x5c638f,_0x27cd1f,_0x33b433,_0x390b2e,_0xa7296){c(this,'_states',{}),c(this,'_stateName'+'s',[]),c(this,'_findTrans'+'itionsFrom'+'StateCache',{}),c(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),c(this,'_previousS'+'tateName',null),c(this,'_activeSta'+'teName',oo),c(this,'_activeSta'+'teDuration',-0x817*-0x1+0x165b+0x1e72*-0x1),c(this,'_activeSta'+'teDuration'+'Dirty',!(-0x1eb5+0x1ab*-0x17+0x4ef*0xe)),c(this,'_playing',!(0x53e*-0x2+0x1056+0x1f3*-0x3)),c(this,'_activate'),c(this,'_transitio'+'ns'),c(this,'_currTrans'+'itionTime',-0x32*-0x2d+0x5e*0x3e+-0x1f8d),c(this,'_totalTran'+'sitionTime',-0xc9d+-0x10ef+-0x5*-0x5e9),c(this,'_isTransit'+'ioning',!(0x5b*0x16+-0x9a9*0x2+0xb81)),c(this,'_transitio'+'nInterrupt'+'ionSource',q0),c(this,'_transitio'+'nPreviousS'+'tates',[]),c(this,'_timeInSta'+'te',0xa58+-0x7*-0x1a4+0xaea*-0x2),c(this,'_timeInSta'+'teBefore',0x1*0x22b9+-0x1*0x2287+-0x32),c(this,'findParame'+'ter',_0x107aea=>this['_findParam'+'eter'](_0x107aea)),(this['_animEvalu'+'ator']=_0x26e7e8,this['_eventHand'+'ler']=_0x33b433,this['_findParam'+'eter']=_0x390b2e,this['_consumeTr'+'igger']=_0xa7296);for(let _0x113db2=0xe07+0x85d*-0x1+-0x5aa;_0x113db2<_0x36e3cd['length'];_0x113db2++)this['_states'][_0x36e3cd[_0x113db2]['name']]=new eg(this,_0x36e3cd[_0x113db2]['name'],_0x36e3cd[_0x113db2]['speed'],_0x36e3cd[_0x113db2]['loop'],_0x36e3cd[_0x113db2]['blendTree']),this['_stateName'+'s']['push'](_0x36e3cd[_0x113db2]['name']);this['_transitio'+'ns']=_0x5c638f['map'](_0x4eab39=>new Yh({..._0x4eab39})),this['_activate']=_0x27cd1f;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0xa7c4f1){this['_activeSta'+'teName']=_0xa7c4f1;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x2e7cb6){this['_previousS'+'tateName']=_0x2e7cb6;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x49c149=!(-0xa7*0x1a+0x1500+0x16*-0x2f);for(let _0x39aece=0x3*-0x936+-0x390+0x16b*0x16;_0x39aece<this['_stateName'+'s']['length'];_0x39aece++)this['_states'][this['_stateName'+'s'][_0x39aece]]['playable']||(_0x49c149=!(-0xc13*0x1+0x23ba*-0x1+-0x1d*-0x1a6));return _0x49c149;}set['playing'](_0x2349c4){this['_playing']=_0x2349c4;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x2677dd=-0xa*-0x1ec+-0x1523+0x1*0x1eb;for(let _0x2750eb=0x2271+0x17bf*0x1+0x26*-0x188;_0x2750eb<this['activeStat'+'eAnimation'+'s']['length'];_0x2750eb++){const _0x39c058=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x2750eb]['name']);_0x39c058&&(_0x2677dd=Math['max'](_0x2677dd,_0x39c058['track']['duration']));}this['_activeSta'+'teDuration']=_0x2677dd,this['_activeSta'+'teDuration'+'Dirty']=!(0x2518+0x1d38+-0x424f);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x2f929a){this['_timeInSta'+'teBefore']=_0x2f929a,this['_timeInSta'+'te']=_0x2f929a;for(let _0x405e74=-0x8d2+-0x1a97+0x1*0x2369;_0x405e74<this['activeStat'+'eAnimation'+'s']['length'];_0x405e74++){const _0x268d14=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x405e74]['name']);_0x268d14&&(_0x268d14['time']=_0x2f929a);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x3c5afd){return this['_animEvalu'+'ator']['assignMask'](_0x3c5afd);}['_findState'](_0xed4358){return this['_states'][_0xed4358];}['_getActive'+'StateProgr'+'essForTime'](_0x297b40){if(this['activeStat'+'eName']===oo||this['activeStat'+'eName']===Ku||this['activeStat'+'eName']===Or)return 0x24a6+0x79*-0x9+-0x2064;const _0x36e116=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][-0x13b6+0x1b78+0x7c2*-0x1]['name']);return _0x36e116?_0x36e116['progressFo'+'rTime'](_0x297b40):null;}['_findTrans'+'itionsFrom'+'State'](_0x4acac3){let _0x344ea1=this['_findTrans'+'itionsFrom'+'StateCache'][_0x4acac3];return _0x344ea1||(_0x344ea1=this['_transitio'+'ns']['filter'](_0x1d67ab=>_0x1d67ab['from']===_0x4acac3),No(_0x344ea1),this['_findTrans'+'itionsFrom'+'StateCache'][_0x4acac3]=_0x344ea1),_0x344ea1;}['_findTrans'+'itionsBetw'+'eenStates'](_0x2d0e07,_0x44a19e){let _0x55cc1c=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x2d0e07+'->'+_0x44a19e];return _0x55cc1c||(_0x55cc1c=this['_transitio'+'ns']['filter'](_0x83b2db=>_0x83b2db['from']===_0x2d0e07&&_0x83b2db['to']===_0x44a19e),No(_0x55cc1c),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x2d0e07+'->'+_0x44a19e]=_0x55cc1c),_0x55cc1c;}['_transitio'+'nHasCondit'+'ionsMet'](_0x307955){const _0x3b32c9=_0x307955['conditions'];for(let _0x59609f=-0x207d*0x1+0x32d*0x6+0xd6f;_0x59609f<_0x3b32c9['length'];_0x59609f++){const _0x5a8de5=_0x3b32c9[_0x59609f],_0x44b75d=this['_findParam'+'eter'](_0x5a8de5['parameterN'+'ame']);switch(_0x5a8de5['predicate']){case MP:if(!(_0x44b75d['value']>_0x5a8de5['value']))return!(0x98e*0x4+0x922+-0x2f59);break;case PP:if(!(_0x44b75d['value']<_0x5a8de5['value']))return!(0x2098+0x11*-0x3b+-0x14*0x16f);break;case RP:if(!(_0x44b75d['value']>=_0x5a8de5['value']))return!(-0x7d*0x45+0x15bb*0x1+-0x3fd*-0x3);break;case IP:if(!(_0x44b75d['value']<=_0x5a8de5['value']))return!(0xa0d+-0xb43*0x1+0x137);break;case DP:if(_0x44b75d['value']!==_0x5a8de5['value'])return!(-0x1*-0x11f7+-0xf5f+-0x297);break;case LP:if(_0x44b75d['value']===_0x5a8de5['value'])return!(-0x1f2a+0x1*0x98e+0x159d);break;}}return!(0x40*0x6d+0x1*0x1b74+-0x36b4);}['_findTrans'+'ition'](_0x4f00c5,_0x4b7ca8){let _0x24b981=[];if(_0x4f00c5&&_0x4b7ca8)_0x24b981=_0x24b981['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x4f00c5,_0x4b7ca8));else{if(!this['_isTransit'+'ioning'])_0x24b981=_0x24b981['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x24b981=_0x24b981['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case TP:_0x24b981=_0x24b981['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x24b981=_0x24b981['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case AP:_0x24b981=_0x24b981['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x24b981=_0x24b981['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case EP:_0x24b981=_0x24b981['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x24b981=_0x24b981['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x24b981=_0x24b981['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case CP:_0x24b981=_0x24b981['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x24b981=_0x24b981['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x24b981=_0x24b981['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;}}if(_0x24b981=_0x24b981['filter'](_0x562c1e=>{if(_0x562c1e['to']===this['activeStat'+'eName'])return!(-0x1a0+-0xb*0x376+0x27b3);if(_0x562c1e['hasExitTim'+'e']){let _0x4889cd=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x42c57a=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x562c1e['exitTime']<0x3bb+-0x1*0x8f5+0x53b&&this['activeStat'+'e']['loop']&&(_0x4889cd-=Math['floor'](_0x4889cd),_0x42c57a-=Math['floor'](_0x42c57a)),_0x42c57a===_0x4889cd){if(_0x42c57a!==_0x562c1e['exitTime'])return null;}else{if(!(_0x562c1e['exitTime']>_0x4889cd&&_0x562c1e['exitTime']<=_0x42c57a))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x562c1e);}),_0x24b981['length']>0x97*0x13+-0x14c*-0xc+0x26f*-0xb){const _0x59aee4=_0x24b981[0x20ab*0x1+0x4*-0x71e+-0x433];if(_0x59aee4['to']===Ku){const _0x563663=this['_findTrans'+'itionsFrom'+'State'](oo)[-0x43*-0x53+-0xcf+-0xa75*0x2];_0x59aee4['to']=_0x563663['to'];}return _0x59aee4;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x430ef3){let _0x3120fd,_0x27fc1a,_0x99f2a;this['previousSt'+'ate']=_0x430ef3['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x430ef3['to'],this['_activeSta'+'teDuration'+'Dirty']=!(-0x24e9*-0x1+0xbf6+0x30df*-0x1);for(let _0x2efb86=-0xb03+-0x1f*0x135+0x306e;_0x2efb86<_0x430ef3['conditions']['length'];_0x2efb86++){const _0x10652a=_0x430ef3['conditions'][_0x2efb86];this['_findParam'+'eter'](_0x10652a['parameterN'+'ame'])['type']===ph&&this['_consumeTr'+'igger'](_0x10652a['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x55975a=Math['min'](this['_totalTran'+'sitionTime']!==0x6b3+-0x2593*0x1+0x68*0x4c?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0x2113+-0x1*-0x146f+0xca5,-0x1b38+-0x2*0xcd7+0x1*0x34e7);for(let _0x57cbf0=-0x52*-0x35+-0x1*0x14ca+0x3d0;_0x57cbf0<this['_transitio'+'nPreviousS'+'tates']['length'];_0x57cbf0++){this['_isTransit'+'ioning']?_0x57cbf0!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x107c*0x1+-0x26af+-0x6*-0x932)?this['_transitio'+'nPreviousS'+'tates'][_0x57cbf0]['weight']*=-0xf1c*0x1+0x161+0x4*0x36f-_0x55975a:this['_transitio'+'nPreviousS'+'tates'][_0x57cbf0]['weight']=_0x55975a:this['_transitio'+'nPreviousS'+'tates'][_0x57cbf0]['weight']=0x4b5*0x2+-0x1443+0x6*0x1cf,_0x3120fd=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x57cbf0]['name']);for(let _0x445dc0=-0xac8+0x18e0+-0xe18;_0x445dc0<_0x3120fd['animations']['length'];_0x445dc0++)_0x27fc1a=_0x3120fd['animations'][_0x445dc0],_0x99f2a=this['_animEvalu'+'ator']['findClip'](_0x27fc1a['name']+'.previous.'+_0x57cbf0),_0x99f2a||(_0x99f2a=this['_animEvalu'+'ator']['findClip'](_0x27fc1a['name']),_0x99f2a['name']=_0x27fc1a['name']+'.previous.'+_0x57cbf0),_0x57cbf0!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x3b*0x42+0xa38+0x17*-0x11b)&&_0x99f2a['pause']();}}this['_isTransit'+'ioning']=!(0x20ec+-0x1*-0x198b+-0x3a77),this['_totalTran'+'sitionTime']=_0x430ef3['time'],this['_currTrans'+'itionTime']=0x1*0x2131+0x207c+-0x41ad,this['_transitio'+'nInterrupt'+'ionSource']=_0x430ef3['interrupti'+'onSource'];const _0x912e4=this['activeStat'+'e'],_0x3a150c=_0x430ef3['transition'+'Offset']&&_0x430ef3['transition'+'Offset']>0x2346+0x57*0x25+0x551*-0x9&&_0x430ef3['transition'+'Offset']<-0xb*-0x301+-0xd82+-0x1388;let _0x28c322=-0x73c+-0x1943+-0xad5*-0x3,_0x5d7686=0x1d4b+0x15ed+-0x3338;if(_0x3a150c){const _0x2c24c9=_0x912e4['timelineDu'+'ration']*_0x430ef3['transition'+'Offset'];_0x28c322=_0x2c24c9,_0x5d7686=_0x2c24c9;}this['_timeInSta'+'te']=_0x28c322,this['_timeInSta'+'teBefore']=_0x5d7686;for(let _0x39ce73=0x1*0x82e+-0x25cf+-0x1*-0x1da1;_0x39ce73<_0x912e4['animations']['length'];_0x39ce73++){if(_0x99f2a=this['_animEvalu'+'ator']['findClip'](_0x912e4['animations'][_0x39ce73]['name']),_0x99f2a)_0x99f2a['reset']();else{const _0x34ba6c=Number['isFinite'](_0x912e4['animations'][_0x39ce73]['speed'])?_0x912e4['animations'][_0x39ce73]['speed']:_0x912e4['speed'];_0x99f2a=new Xh(_0x912e4['animations'][_0x39ce73]['animTrack'],this['_timeInSta'+'te'],_0x34ba6c,!(0x21af*-0x1+0x1d5*-0x15+-0x4828*-0x1),_0x912e4['loop'],this['_eventHand'+'ler']),_0x99f2a['name']=_0x912e4['animations'][_0x39ce73]['name'],this['_animEvalu'+'ator']['addClip'](_0x99f2a);}if(_0x430ef3['time']>0x1*0x25+-0x1d12+0x5*0x5c9?_0x99f2a['blendWeigh'+'t']=0x333+0x1*0x24f7+-0x282a:_0x99f2a['blendWeigh'+'t']=_0x912e4['animations'][_0x39ce73]['normalized'+'Weight'],_0x99f2a['play'](),_0x3a150c)_0x99f2a['time']=_0x912e4['timelineDu'+'ration']*_0x430ef3['transition'+'Offset'];else{const _0x302672=_0x912e4['speed']>=-0x1667+0x5*-0x3a9+0x28b4?0xb74+-0xd1a+0xd3*0x2:this['activeStat'+'eDuration'];_0x99f2a['time']=_0x302672;}}}['_transitio'+'nToState'](_0x3d9aad){if(!this['_findState'](_0x3d9aad))return;let _0x2972b8=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x3d9aad);_0x2972b8||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x2972b8=new Yh({'from':null,'to':_0x3d9aad})),this['updateStat'+'eFromTrans'+'ition'](_0x2972b8);}['assignAnim'+'ation'](_0x3bd48f,_0x34b065,_0x3c223f,_0x50f368){const _0x3f6196=_0x3bd48f['split']('.');let _0x31e998=this['_findState'](_0x3f6196[-0x2245+0x1ced+0x26*0x24]);_0x31e998||(_0x31e998=new eg(this,_0x3f6196[-0x2026+0x1d5c+0x2ca],_0x3c223f),this['_states'][_0x3f6196[-0x2*-0x2d7+0xf36+0x7*-0x2fc]]=_0x31e998,this['_stateName'+'s']['push'](_0x3f6196[0xfe2+0x1*0x1a5+0x1187*-0x1])),_0x31e998['addAnimati'+'on'](_0x3f6196,_0x34b065),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x31e998['name'],_0x34b065),_0x3c223f!==void(-0x4df+0x3e4*-0x7+0x201b)&&(_0x31e998['speed']=_0x3c223f),_0x50f368!==void(-0x329+-0xb*-0x53+0x4*-0x1a)&&(_0x31e998['loop']=_0x50f368),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(-0x12d0+0x19b*-0x13+0x3151);}['removeNode'+'Animations'](_0xb0a8d6){if(jh['indexOf'](_0xb0a8d6)!==-(0xa2*0x25+0xc14+-0x237d))return!(-0x249d+-0x1f92+-0x443*-0x10);const _0x3b35a7=this['_findState'](_0xb0a8d6);return _0x3b35a7?(_0x3b35a7['animations']=[],!(0x22bd*0x1+0xf73+0x2*-0x1918)):(v['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0xb0a8d6),!(0x2d7*-0x7+0x6ca+0xd18));}['play'](_0x5a6002){_0x5a6002&&this['_transitio'+'nToState'](_0x5a6002),this['_playing']=!(0x2*-0x12c7+-0x1*-0x122b+-0x1*-0x1363);}['pause'](){this['_playing']=!(-0x67*0x2+0x1e57+-0x1d88);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=oo,this['_playing']=!(-0x18ad+0xdb+0x17d3),this['_currTrans'+'itionTime']=-0x1a82+-0x9e6+0x2469,this['_totalTran'+'sitionTime']=-0x3*-0x117+0x2*-0x4c5+0x646,this['_isTransit'+'ioning']=!(-0x15fa+-0x375*0x3+0x205a),this['_timeInSta'+'te']=0x176a+-0x1954+0x1ea,this['_timeInSta'+'teBefore']=0x7c5+0x18ab+-0x2070,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x18ee20){if(!this['_playing'])return;let _0x40e451,_0x311364,_0x3904c8;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x18ee20*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x18ee20=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x565a3d=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x565a3d&&this['updateStat'+'eFromTrans'+'ition'](_0x565a3d),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x18ee20,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x34c5a1=this['_totalTran'+'sitionTime']!==0x1dd2+-0x7*0x1ff+-0xfd9?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x4d4+0x1bc0+0x10d*-0x1f;for(let _0x6ad826=-0xcd*0x2+-0x1cef*-0x1+-0x1b55*0x1;_0x6ad826<this['_transitio'+'nPreviousS'+'tates']['length'];_0x6ad826++){_0x40e451=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x6ad826]['name']);const _0x482263=this['_transitio'+'nPreviousS'+'tates'][_0x6ad826]['weight'];for(let _0x2f846f=0x177*0x5+-0x1*0x74f+-0x1*0x4;_0x2f846f<_0x40e451['animations']['length'];_0x2f846f++)_0x311364=_0x40e451['animations'][_0x2f846f],_0x3904c8=this['_animEvalu'+'ator']['findClip'](_0x311364['name']+'.previous.'+_0x6ad826),_0x3904c8&&(_0x3904c8['blendWeigh'+'t']=(0xc09+0x327+-0xf2f-_0x34c5a1)*_0x311364['normalized'+'Weight']*_0x482263);}_0x40e451=this['activeStat'+'e'];for(let _0x3df2c5=0x17bf+0x1*0x116f+-0x292e;_0x3df2c5<_0x40e451['animations']['length'];_0x3df2c5++)_0x311364=_0x40e451['animations'][_0x3df2c5],this['_animEvalu'+'ator']['findClip'](_0x311364['name'])['blendWeigh'+'t']=_0x34c5a1*_0x311364['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(0x16a9+0x1aed+-0x1087*0x3);const _0xcdc012=this['activeStat'+'eAnimation'+'s']['length'],_0xc6b32d=this['_animEvalu'+'ator']['clips']['length'];for(let _0x2f1102=-0x2639+0x5*0x481+-0x10c*-0xf;_0x2f1102<_0xc6b32d-_0xcdc012;_0x2f1102++)this['_animEvalu'+'ator']['removeClip'](-0x9ec+-0x3*0x299+0x11b7);this['_transitio'+'nPreviousS'+'tates']=[],_0x40e451=this['activeStat'+'e'];for(let _0x2d4665=-0x1*-0x1652+0x38*0x62+-0x2bc2;_0x2d4665<_0x40e451['animations']['length'];_0x2d4665++)_0x311364=_0x40e451['animations'][_0x2d4665],_0x3904c8=this['_animEvalu'+'ator']['findClip'](_0x311364['name']),_0x3904c8&&(_0x3904c8['blendWeigh'+'t']=_0x311364['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==Uo){_0x40e451=this['activeStat'+'e'];for(let _0x2a1c9d=0x7b0+-0x101c+0x7*0x134;_0x2a1c9d<_0x40e451['animations']['length'];_0x2a1c9d++)_0x311364=_0x40e451['animations'][_0x2a1c9d],_0x3904c8=this['_animEvalu'+'ator']['findClip'](_0x311364['name']),_0x3904c8&&(_0x3904c8['blendWeigh'+'t']=_0x311364['normalized'+'Weight'],_0x311364['parent']['syncAnimat'+'ions']&&(_0x3904c8['speed']=_0x311364['speed']));}}this['_animEvalu'+'ator']['update'](_0x18ee20,this['activeStat'+'e']['hasAnimati'+'ons']);}}const Yd=new W(),ql=new T(),Ja=new Q(),eo=new Y(),to=new se();class mi extends Ji{constructor(_0x4c94aa,_0x4e652d,_0x39a387,_0x2b0573,_0x2858a7){super(_0x4e652d),this['animCompon'+'ent']=_0x4c94aa,this['_mask']=_0x2b0573,this['layerName']=_0x39a387,this['layerIndex']=_0x2858a7;}static['_packFloat'](_0x2d14ef){return _0x2d14ef[-0xd85*0x1+-0xd*-0x23+-0xbbe*-0x1];}static['_packBoole'+'an'](_0x1fe5b4){return!!_0x1fe5b4[-0x15b4+-0x985*0x3+0x3*0x10c1];}static['_packVec2'](_0xa7653d){return Yd['x']=_0xa7653d[-0x1*-0x821+0x43*-0x83+0x1a28],Yd['y']=_0xa7653d[0x2*0x63e+0x181d*0x1+-0x2498*0x1],Yd;}static['_packVec3'](_0x3e0af6){return ql['x']=_0x3e0af6[0x188f+-0x1d*0x49+-0x104a],ql['y']=_0x3e0af6[0xf7*0xf+0x19*0xad+-0x1f5d],ql['z']=_0x3e0af6[-0x1fa5+0x13f7+0xbb0],ql;}static['_packVec4'](_0x4cab94){return Ja['x']=_0x4cab94[0x244f+0x2f*-0x58+-0x1427],Ja['y']=_0x4cab94[0x43c*-0x1+0x20b2+-0x1*0x1c75],Ja['z']=_0x4cab94[-0x2cb+-0x39*-0x6d+-0xe5*0x18],Ja['w']=_0x4cab94[-0x2*-0xef9+0x23db+0x3*-0x15ee],Ja;}static['_packColor'](_0x1567fa){return eo['r']=_0x1567fa[0x388+-0xa6d+-0x5*-0x161],eo['g']=_0x1567fa[-0x1*0x212b+-0x20f0+0x1*0x421c],eo['b']=_0x1567fa[-0xeda+-0x1a0f+0x82f*0x5],eo['a']=_0x1567fa[-0x1edc+-0xc5f+0x2b3e],eo;}static['_packQuat'](_0x2f49f9){return to['x']=_0x2f49f9[-0x22d3+-0x1fc0+-0x27*-0x1b5],to['y']=_0x2f49f9[-0x14bb+0x2619*-0x1+-0x3ad5*-0x1],to['z']=_0x2f49f9[0x66f+-0x1*-0x22a5+-0x2912],to['w']=_0x2f49f9[0x1734+-0x19d0+0x29f],to;}['resolve'](_0x23a8db){const _0x112bae=qr['encode'](_0x23a8db['entityPath'],_0x23a8db['component'],_0x23a8db['propertyPa'+'th']);let _0x1d6236=this['targetCach'+'e'][_0x112bae];if(_0x1d6236)return _0x1d6236;let _0x28d419,_0x4eccef,_0x10cb9b;switch(_0x23a8db['component']){case'entity':_0x28d419=this['_getEntity'+'FromHierar'+'chy'](_0x23a8db['entityPath']),_0x10cb9b=qr['encode'](_0x28d419['path'],'entity',_0x23a8db['propertyPa'+'th']),_0x4eccef=_0x28d419;break;case'graph':if(_0x4eccef=this['findNode'](_0x23a8db),!_0x4eccef)return null;_0x10cb9b=qr['encode'](_0x4eccef['path'],'graph',_0x23a8db['propertyPa'+'th']);break;default:if(_0x28d419=this['_getEntity'+'FromHierar'+'chy'](_0x23a8db['entityPath']),_0x4eccef=_0x28d419['findCompon'+'ent'](_0x23a8db['component']),!_0x4eccef)return null;_0x10cb9b=qr['encode'](_0x28d419['path'],_0x23a8db['component'],_0x23a8db['propertyPa'+'th']);break;}return _0x1d6236=this['_createAni'+'mTargetFor'+'Property'](_0x4eccef,_0x23a8db['propertyPa'+'th'],_0x10cb9b),this['targetCach'+'e'][_0x112bae]=_0x1d6236,_0x1d6236;}['update'](_0x2a841c){const _0x4e27f2=this['activeNode'+'s'];if(_0x4e27f2){for(let _0x35ab59=0x1*0x805+-0x5*0x6f9+0x1ad8;_0x35ab59<_0x4e27f2['length'];_0x35ab59++)_0x4e27f2[_0x35ab59]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x1ec2ec){if(!this['animCompon'+'ent']['entity']['name']===_0x1ec2ec[-0x1619*0x1+-0x1*0x1337+0x2950])return null;const _0x294710=this['animCompon'+'ent']['entity'];return _0x1ec2ec['length']===-0x4ff*-0x7+-0xbd4*-0x3+-0x29c*0x1b?_0x294710:_0x294710['_parent']['findByPath'](_0x1ec2ec);}['_resolvePa'+'th'](_0x43836a,_0x43fae7,_0x41f256){const _0x1ee1b2=_0x43fae7['length']-(_0x41f256?0x652+-0x2*0xba3+-0x1b2*-0xa:0x979+-0xea1*0x2+0x13ca);for(let _0x5b2522=-0xc40+0x10f7+0x47*-0x11;_0x5b2522<_0x1ee1b2;_0x5b2522++)_0x43836a=_0x43836a[_0x43fae7[_0x5b2522]];return _0x43836a;}['_setter'](_0x13218e,_0x48beb9,_0x4d2896){const _0x3b4ec7=this['_resolvePa'+'th'](_0x13218e,_0x48beb9),_0x56d8e3=_0x48beb9[_0x48beb9['length']-(0xca*-0x19+-0xc7e*0x1+-0x49*-0x71)],_0x540597='set'+_0x56d8e3['substring'](-0x120b*-0x2+0x2025+-0x443b,0x963*0x1+-0x2*-0x725+0x2*-0xbd6)['toUpperCas'+'e']()+_0x56d8e3['substring'](0xd6d*-0x1+-0x1c77*-0x1+0x1*-0xf09);if(_0x3b4ec7[_0x540597]){let _0x3c507d=_0x3b4ec7['get'+_0x56d8e3['substring'](0x2*0x10ff+-0x1c21+-0x5dd,0x3*-0x489+0xbcc+-0xe8*-0x2)['toUpperCas'+'e']()+_0x56d8e3['substring'](0x49*-0x2e+0xcf3+-0x2c*-0x1)]['bind'](_0x3b4ec7)();_0x3c507d=[_0x3c507d['x'],_0x3c507d['y'],_0x3c507d['z'],_0x3c507d['w']];const _0x34d658=_0x3b4ec7[_0x540597]['bind'](_0x3b4ec7);return{'set':_0x124e2d=>{_0x34d658(_0x4d2896(_0x124e2d));},'get':()=>_0x3c507d};}const _0x35cf37=_0x3b4ec7[_0x56d8e3];if(typeof _0x35cf37=='object'&&_0x35cf37['hasOwnProp'+'erty']('copy'))return function(_0x2b4f5e){_0x35cf37['copy'](_0x4d2896(_0x2b4f5e));};if([W,T,Q,Y,se]['indexOf'](_0x3b4ec7['constructo'+'r'])!==-(-0x935+0x2106+-0x17d0*0x1)&&_0x48beb9['length']>0xde9+0x3f1*-0x4+0x1dc){const _0x2af41f=_0x48beb9['length']>-0xde+0xbb8*0x3+-0x4*0x892?this['_resolvePa'+'th'](_0x13218e,_0x48beb9['slice'](0x8*0x38b+-0x229b+0x643,-(0x21*0xb+0x1f*0x108+-0x2162))):_0x13218e,_0x443a21=_0x48beb9[_0x48beb9['length']-(-0x24ae+-0x2702+-0x25d9*-0x2)];return function(_0x291478){_0x3b4ec7[_0x56d8e3]=_0x4d2896(_0x291478),_0x2af41f[_0x443a21]=_0x3b4ec7;};}return function(_0x361566){_0x3b4ec7[_0x56d8e3]=_0x4d2896(_0x361566);};}['_createAni'+'mTargetFor'+'Property'](_0x3a8666,_0x491e78,_0x36171a){if(this['handlers']&&_0x491e78[0x1*0x481+0xd3*0x1+0x2aa*-0x2]['startsWith']('weight.'))return this['handlers']['weight'](_0x3a8666,_0x491e78[-0x22f*0x7+-0x6fb*-0x1+0x84e*0x1]['replace']('weight.',''));if(this['handlers']&&_0x491e78[-0x2*-0xaa2+0x25b1+-0x3af5]==='material'&&_0x491e78['length']===0x1547+0x23b+-0x8*0x2f0){const _0x30db78=_0x491e78[0xc9a+-0xa10+-0xb*0x3b];if(_0x30db78['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x3a8666,_0x30db78);}const _0x57842d=this['_resolvePa'+'th'](_0x3a8666,_0x491e78,!(-0x1188+0x141b*-0x1+0x787*0x5));if(typeof _0x57842d>'u')return null;let _0x4bc751,_0x6b4dcb,_0x28c9a1;if(typeof _0x57842d=='number')_0x4bc751=this['_setter'](_0x3a8666,_0x491e78,mi['_packFloat']),_0x6b4dcb='vector',_0x28c9a1=-0x73*-0xb+0x24aa+-0x299a*0x1;else{if(typeof _0x57842d=='boolean')_0x4bc751=this['_setter'](_0x3a8666,_0x491e78,mi['_packBoole'+'an']),_0x6b4dcb='vector',_0x28c9a1=-0x2*0x2f+-0x2527+0x2586;else{if(typeof _0x57842d=='object')switch(_0x57842d['constructo'+'r']){case W:_0x4bc751=this['_setter'](_0x3a8666,_0x491e78,mi['_packVec2']),_0x6b4dcb='vector',_0x28c9a1=-0x252b+0x1e4c+0x6e1;break;case T:_0x4bc751=this['_setter'](_0x3a8666,_0x491e78,mi['_packVec3']),_0x6b4dcb='vector',_0x28c9a1=-0x1*-0x1a7b+-0x1690+-0x32*0x14;break;case Q:_0x4bc751=this['_setter'](_0x3a8666,_0x491e78,mi['_packVec4']),_0x6b4dcb='vector',_0x28c9a1=0x322*0xc+0xf23+-0x34b7;break;case Y:_0x4bc751=this['_setter'](_0x3a8666,_0x491e78,mi['_packColor']),_0x6b4dcb='vector',_0x28c9a1=0x1b6c+0xc5b+-0x27c3;break;case se:_0x4bc751=this['_setter'](_0x3a8666,_0x491e78,mi['_packQuat']),_0x6b4dcb='quaternion',_0x28c9a1=0xab*-0x18+0x1ebf+-0xeb3;break;default:return null;}}}return _0x491e78['indexOf']('material')!==-(-0x216c+0x713*0x1+0x1*0x1a5a)?new Zu(_0x182d93=>{_0x4bc751(_0x182d93),_0x3a8666['material']['update']();},_0x6b4dcb,_0x28c9a1,_0x36171a):new Zu(_0x4bc751,_0x6b4dcb,_0x28c9a1,_0x36171a);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x76ba4c={},_0x4bd1d4=function(_0x24c704){_0x76ba4c[_0x24c704['name']]=_0x24c704;for(let _0x47d55e=-0x12dd+0x21cf*-0x1+0x34ac;_0x47d55e<_0x24c704['children']['length'];++_0x47d55e)_0x4bd1d4(_0x24c704['children'][_0x47d55e]);};_0x4bd1d4(this['graph']),this['nodes']=_0x76ba4c;}}class WP{constructor(_0x466138,_0xe96278,_0x113eca,_0x409301=-0xd3e+0x3*0x213+-0x1*-0x706,_0x1aff6f=X0){c(this,'_name'),c(this,'_controlle'+'r'),c(this,'_component'),c(this,'_weight'),c(this,'_blendType'),c(this,'_mask',null),c(this,'_blendTime',0x1832+0xc7a+-0x24ac),c(this,'_blendTime'+'Elapsed',-0xb52+-0x1716+0x5bc*0x6),c(this,'_startingW'+'eight',-0x17*0x7b+0x1d3f*-0x1+0x284c),c(this,'_targetWei'+'ght',-0x2409+-0x1*0x1401+-0x12*-0x31d),(this['_name']=_0x466138,this['_controlle'+'r']=_0xe96278,this['_component']=_0x113eca,this['_weight']=_0x409301,this['_blendType']=_0x1aff6f);}get['name'](){return this['_name'];}set['playing'](_0x4383a4){this['_controlle'+'r']['playing']=_0x4383a4;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x1ff215){const _0x4ad452=this['_controlle'+'r'],_0x45735f=_0x4ad452['playing'];_0x4ad452['playing']=!(0x37*0xe+-0xaa5+-0x5*-0x187),_0x4ad452['activeStat'+'eCurrentTi'+'me']=_0x1ff215,_0x45735f||_0x4ad452['update'](-0x7d*-0x1+-0x1718+0x169b),_0x4ad452['playing']=_0x45735f;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x927c47){this['_weight']=_0x927c47,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x5de60e){_0x5de60e!==this['_blendType']&&(this['_blendType']=_0x5de60e,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x2f9a49){this['_controlle'+'r']['assignMask'](_0x2f9a49)&&this['_component']['rebind'](),this['_mask']=_0x2f9a49;}get['mask'](){return this['_mask'];}['play'](_0x365c02){this['_controlle'+'r']['play'](_0x365c02);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x540d2e){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=N['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x540d2e):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=0x18d6+-0x1a3*0xf+-0x49,this['_blendTime'+'Elapsed']=0x40f*-0x7+0x3c*0x67+0x445*0x1,this['_startingW'+'eight']=0x1*-0x1fed+-0xb*-0x278+0x197*0x3,this['_targetWei'+'ght']=-0x104a+-0x5*0x2da+0x1e8c)),this['_controlle'+'r']['update'](_0x540d2e);}['blendToWei'+'ght'](_0x1c8a31,_0x15d0e2){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x1c8a31,this['_blendTime']=Math['max'](-0xe9f*-0x1+-0x16d0+0x831,_0x15d0e2),this['_blendTime'+'Elapsed']=0x21cf+0x31a*0x1+-0x24e9;}['assignAnim'+'ation'](_0x3547be,_0x532b7b,_0x1ef7dd,_0x555524){if(!(_0x532b7b instanceof Ri)){v['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x3547be,_0x532b7b,_0x1ef7dd,_0x555524),this['_controlle'+'r']['_transitio'+'ns']['length']===0x1*-0x1ca+-0x10*-0x23e+-0x2216&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Yh({'from':'START','to':_0x3547be})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(0x2363*0x1+-0xce4+-0x1bb*0xd));}['removeNode'+'Animations'](_0x5a2b5c){this['_controlle'+'r']['removeNode'+'Animations'](_0x5a2b5c)&&(this['_component']['playing']=!(-0x2265+0x5fd+-0x1*-0x1c69));}['getAnimati'+'onAsset'](_0x3829ef){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x3829ef];}['transition'](_0x21e275,_0x43e722=-0x1b4f+0x25f*0xb+-0x1*-0x13a,_0x25fb6e=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Yh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x21e275,'time':_0x43e722,'transitionOffset':_0x25fb6e}));}}class mh{constructor(_0x1623cd){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x1623cd['layers']))this['_layers']=_0x1623cd['layers'];else for(const _0x1af881 in _0x1623cd['layers']){const _0x985c1c=_0x1623cd['layers'][_0x1af881],_0x10e557={'name':_0x985c1c['name'],'blendType':_0x985c1c['blendType'],'weight':_0x985c1c['weight'],'states':[],'transitions':[]};for(let _0x5445e9=0x1*-0x1d23+0x1648+0x6db;_0x5445e9<_0x985c1c['states']['length'];_0x5445e9++)_0x10e557['states']['push'](_0x1623cd['states'][_0x985c1c['states'][_0x5445e9]]);for(let _0x11d729=0xbd*0x1+0x16e6+-0x17a3;_0x11d729<_0x985c1c['transition'+'s']['length'];_0x11d729++){const _0x527ec5=_0x1623cd['transition'+'s'][_0x985c1c['transition'+'s'][_0x11d729]];if(_0x527ec5['conditions']&&!Array['isArray'](_0x527ec5['conditions'])){const _0x4266d3=Object['keys'](_0x527ec5['conditions']),_0x471de5=[];for(let _0x228dbd=-0x236*0x4+-0x500+-0x8*-0x1bb;_0x228dbd<_0x4266d3['length'];_0x228dbd++){const _0x16255c=_0x527ec5['conditions'][_0x4266d3[_0x228dbd]];_0x16255c['parameterN'+'ame']&&_0x471de5['push'](_0x16255c);}_0x527ec5['conditions']=_0x471de5;}Number['isInteger'](_0x527ec5['from'])&&(_0x527ec5['from']=_0x1623cd['states'][_0x527ec5['from']]['name']),Number['isInteger'](_0x527ec5['to'])&&(_0x527ec5['to']=_0x1623cd['states'][_0x527ec5['to']]['name']),_0x10e557['transition'+'s']['push'](_0x527ec5);}this['_layers']['push'](_0x10e557);}for(const _0x29048d in _0x1623cd['parameters']){const _0x11b919=_0x1623cd['parameters'][_0x29048d];this['_parameter'+'s'][_0x11b919['name']]={'type':_0x11b919['type'],'value':_0x11b919['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class Z0 extends ue{constructor(){super(...arguments),c(this,'_stateGrap'+'hAsset',null),c(this,'_animation'+'Assets',{}),c(this,'_speed',0x1ae9+-0x12aa+-0x83e),c(this,'_activate',!(-0x437+-0x104e*0x2+0x24d3)),c(this,'_playing',!(0x16f*0x1+-0x14d4+0x9b3*0x2)),c(this,'_rootBone',null),c(this,'_stateGrap'+'h',null),c(this,'_layers',[]),c(this,'_layerIndi'+'ces',{}),c(this,'_parameter'+'s',{}),c(this,'_targets',{}),c(this,'_consumedT'+'riggers',new Set()),c(this,'_normalize'+'Weights',!(0x1c63+-0x3a5*-0x6+-0x3240)),c(this,'findParame'+'ter',_0xb0bdcc=>this['_parameter'+'s'][_0xb0bdcc]),c(this,'consumeTri'+'gger',_0x20d70b=>{this['_consumedT'+'riggers']['add'](_0x20d70b);});}set['stateGraph'+'Asset'](_0xbf4657){if(_0xbf4657===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x4da028,_0x1faeaa;_0xbf4657 instanceof le?(_0x4da028=_0xbf4657['id'],_0x1faeaa=this['system']['app']['assets']['get'](_0x4da028),_0x1faeaa||(this['system']['app']['assets']['add'](_0xbf4657),_0x1faeaa=this['system']['app']['assets']['get'](_0x4da028))):(_0x4da028=_0xbf4657,_0x1faeaa=this['system']['app']['assets']['get'](_0x4da028)),!(!_0x1faeaa||this['_stateGrap'+'hAsset']===_0x4da028)&&(_0x1faeaa['resource']?(this['_stateGrap'+'h']=_0x1faeaa['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x1faeaa['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x1faeaa['once']('load',_0x130de6=>{this['_stateGrap'+'h']=_0x130de6['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x1faeaa['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x1faeaa)),this['_stateGrap'+'hAsset']=_0x4da028);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x28689e){this['_normalize'+'Weights']=_0x28689e,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x146fff){this['_animation'+'Assets']=_0x146fff,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x754db2){this['_speed']=_0x754db2;}get['speed'](){return this['_speed'];}set['activate'](_0xb09595){this['_activate']=_0xb09595;}get['activate'](){return this['_activate'];}set['playing'](_0x2cb615){this['_playing']=_0x2cb615;}get['playing'](){return this['_playing'];}set['rootBone'](_0x3b7d48){if(typeof _0x3b7d48=='string'){const _0x3e4779=this['entity']['root']['findByGuid'](_0x3b7d48);v['assert'](_0x3e4779,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x3b7d48+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x3e4779;}else _0x3b7d48 instanceof We?this['_rootBone']=_0x3b7d48:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x3bd05d){this['_stateGrap'+'h']=_0x3bd05d;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x627009){this['_layerIndi'+'ces']=_0x627009;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x27875d){this['_parameter'+'s']=_0x27875d;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x10dc1b){this['_targets']=_0x10dc1b;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x14974c=0xd35+0x14c9+0x1ca*-0x13;_0x14974c<this['_layers']['length'];_0x14974c++)if(!this['_layers'][_0x14974c]['playable'])return!(0x1*0x22a+-0xbea+0x9c1);return!(0x2*-0xc6e+-0xdd0*0x1+0x26ac);}get['baseLayer'](){return this['_layers']['length']>0xb*-0x2f5+-0x1333+0x1*0x33ba?this['_layers'][0x193+-0xd*-0x241+-0x1ee0]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x4b8f1f){const _0x14e44f=this['animationA'+'ssets'],_0x3989a0=this['layers']['map'](_0x5184cd=>_0x5184cd['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new mh(_0x4b8f1f['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x14e44f,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x3454ff,_0x473679)=>{_0x3454ff['mask']=_0x3989a0[_0x473679];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x404257=Object['values'](this['_targets']);for(let _0x210028=-0xc3+-0x1*-0x1247+-0x1184;_0x210028<_0x404257['length'];_0x210028++)_0x404257[_0x210028]['dirty']=!(-0x1747*0x1+0x12d6+0x471*0x1);}['_addLayer']({name:_0x376d00,states:_0x3baa2b,transitions:_0x4ef92b,weight:_0x21fade,mask:_0x456a4b,blendType:_0x2a485e}){let _0x183297;this['rootBone']?_0x183297=this['rootBone']:_0x183297=this['entity'];const _0x40b176=this['_layers']['length'],_0xad9b72=new mi(this,_0x183297,_0x376d00,_0x456a4b,_0x40b176),_0x18c654=new j0(_0xad9b72),_0x1811cb=new HP(_0x18c654,_0x3baa2b,_0x4ef92b,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new WP(_0x376d00,_0x1811cb,this,_0x21fade,_0x2a485e)),this['_layerIndi'+'ces'][_0x376d00]=_0x40b176,this['_layers'][_0x40b176];}['addLayer'](_0x55bf64,_0xb00e9f,_0x2d71f2,_0xc0937a){const _0x135eaf=this['findAnimat'+'ionLayer'](_0x55bf64);if(_0x135eaf)return _0x135eaf;const _0xf36299=[{'name':'START','speed':0x1}],_0xe7eb07=[];return this['_addLayer']({'name':_0x55bf64,'states':_0xf36299,'transitions':_0xe7eb07,'weight':_0xb00e9f,'mask':_0x2d71f2,'blendType':_0xc0937a});}['_assignPar'+'ameters'](_0xb3fb28){this['_parameter'+'s']={};const _0x508249=Object['keys'](_0xb3fb28['parameters']);for(let _0x3fbd13=0x1c6e*-0x1+0x24cc+-0x85e;_0x3fbd13<_0x508249['length'];_0x3fbd13++){const _0x2ce546=_0x508249[_0x3fbd13];this['_parameter'+'s'][_0x2ce546]={'type':_0xb3fb28['parameters'][_0x2ce546]['type'],'value':_0xb3fb28['parameters'][_0x2ce546]['value']};}}['loadStateG'+'raph'](_0xe4dd26){this['_stateGrap'+'h']=_0xe4dd26,this['_assignPar'+'ameters'](_0xe4dd26),this['_layers']=[];let _0x23ad51=!(-0x1ca5+0x1df*0xb+0x811);for(let _0x6a0084=-0x64e+-0x1ee4+0x2532;_0x6a0084<_0xe4dd26['layers']['length'];_0x6a0084++){const _0x236356=_0xe4dd26['layers'][_0x6a0084];this['_addLayer']({..._0x236356}),_0x236356['states']['some'](_0x53eb9c=>_0x53eb9c['blendTree'])&&(_0x23ad51=!(-0x9c*-0x12+-0x1f59+-0x1461*-0x1));}_0x23ad51||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x2cd3cb=0xc*0x1a5+-0x2*-0xb14+-0x29e4;_0x2cd3cb<this['_layers']['length'];_0x2cd3cb++){const _0x373065=this['_layers'][_0x2cd3cb],_0x15f8c6=_0x373065['name'];for(let _0x5bed02=0x34*0x10+0x44*0xe+0xdf*-0x8;_0x5bed02<_0x373065['states']['length'];_0x5bed02++){const _0x1191f5=_0x373065['states'][_0x5bed02];if(jh['indexOf'](_0x1191f5)===-(0x4a3+0x4d2*0x3+0x34*-0x5e)){const _0x50793f=_0x15f8c6+':'+_0x1191f5;this['_animation'+'Assets'][_0x50793f]||(this['_animation'+'Assets'][_0x50793f]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x3c773b=0x11bf+-0x1*0x7d8+-0x9e7;_0x3c773b<this['_layers']['length'];_0x3c773b++){const _0x2282aa=this['_layers'][_0x3c773b];for(let _0x586481=0x1377*-0x2+-0x787+0x2e75;_0x586481<_0x2282aa['states']['length'];_0x586481++){const _0x3e354f=_0x2282aa['states'][_0x586481];if(jh['indexOf'](_0x3e354f)!==-(0x1067+0x282*-0xb+0xb30))continue;const _0x218152=this['_animation'+'Assets'][_0x2282aa['name']+':'+_0x3e354f];if(!_0x218152||!_0x218152['asset']){this['findAnimat'+'ionLayer'](_0x2282aa['name'])['assignAnim'+'ation'](_0x3e354f,Ri['EMPTY']);continue;}const _0x155f1b=_0x218152['asset'],_0x34509a=this['system']['app']['assets']['get'](_0x155f1b);_0x34509a&&(_0x34509a['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x2282aa['name'],_0x3e354f,_0x34509a):(_0x34509a['once']('load',function(_0x683eaf,_0x5f1f77){return function(_0x3a2447){this['onAnimatio'+'nAssetLoad'+'ed'](_0x683eaf,_0x5f1f77,_0x3a2447);}['bind'](this);}['bind'](this)(_0x2282aa['name'],_0x3e354f)),this['system']['app']['assets']['load'](_0x34509a)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x2adddb,_0x1880b3,_0x270dd2){this['findAnimat'+'ionLayer'](_0x2adddb)['assignAnim'+'ation'](_0x1880b3,_0x270dd2['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(-0x1d11+0x703+0x160f),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x16c426=-0x1*0x1dd1+0x3*0x72b+-0x85*-0x10;_0x16c426<this['_layers']['length'];_0x16c426++){const _0x1c42f6=this['_layers'][_0x16c426]['playing'];this['_layers'][_0x16c426]['reset'](),this['_layers'][_0x16c426]['playing']=_0x1c42f6;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x2f3c0d=>{this['_targets'][_0x2f3c0d]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x26622c=-0x4*-0x849+0x127f+-0x33a3;_0x26622c<this['_layers']['length'];_0x26622c++)this['_layers'][_0x26622c]['rebind']();}['findAnimat'+'ionLayer'](_0x566653){const _0x3b0f8f=this['_layerIndi'+'ces'][_0x566653];return this['_layers'][_0x3b0f8f]||null;}['addAnimati'+'onState'](_0x79fc0e,_0x20b01b,_0x2fbc21=0x53*-0x6b+0x1090+0x1222,_0x829e69=!(-0x48d+0x1aba+-0x1*0x162d),_0x534d4f='Base'){var _0x266ec8;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new mh({'layers':[{'name':_0x534d4f,'states':[{'name':'START','speed':0x1},{'name':_0x79fc0e,'speed':_0x2fbc21,'loop':_0x829e69,'defaultState':!(-0x1cf2+-0x1cdd*-0x1+0x15)}],'transitions':[{'from':'START','to':_0x79fc0e}]}],'parameters':{}}));const _0x11d781=this['findAnimat'+'ionLayer'](_0x534d4f);_0x11d781?_0x11d781['assignAnim'+'ation'](_0x79fc0e,_0x20b01b,_0x2fbc21,_0x829e69):(_0x266ec8=this['addLayer'](_0x534d4f))==null||_0x266ec8['assignAnim'+'ation'](_0x79fc0e,_0x20b01b,_0x2fbc21,_0x829e69);}['assignAnim'+'ation'](_0x5eeefb,_0x165010,_0x3f1cc7,_0x37f9a7=0x3e*-0x2d+-0xb67+-0x1*-0x164e,_0x4f40fc=!(0x3a6*0x6+-0x1fba+0x9d6)){if(!this['_stateGrap'+'h']&&_0x5eeefb['indexOf']('.')===-(0x26*0x25+0xa*0x15+-0x64f)){this['loadStateG'+'raph'](new mh({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x5eeefb,'speed':_0x37f9a7,'loop':_0x4f40fc,'defaultState':!(0x1d52+0x146e+0x20*-0x18e)}],'transitions':[{'from':'START','to':_0x5eeefb}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x5eeefb,_0x165010);return;}const _0x2d22ad=_0x3f1cc7?this['findAnimat'+'ionLayer'](_0x3f1cc7):this['baseLayer'];if(!_0x2d22ad){v['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x2d22ad['assignAnim'+'ation'](_0x5eeefb,_0x165010,_0x37f9a7,_0x4f40fc);}['removeNode'+'Animations'](_0x2f4f70,_0x2bca58){const _0x2627c9=_0x2bca58?this['findAnimat'+'ionLayer'](_0x2bca58):this['baseLayer'];if(!_0x2627c9){v['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x2627c9['removeNode'+'Animations'](_0x2f4f70);}['getParamet'+'erValue'](_0x5d90d1,_0x4f848c){const _0x31ed72=this['_parameter'+'s'][_0x5d90d1];if(_0x31ed72&&_0x31ed72['type']===_0x4f848c)return _0x31ed72['value'];v['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x5d90d1+('\x22\x20of\x20type\x20'+'\x22')+_0x4f848c+'\x22');}['setParamet'+'erValue'](_0x443068,_0x3c8a0c,_0x7bd404){const _0x488042=this['_parameter'+'s'][_0x443068];if(_0x488042&&_0x488042['type']===_0x3c8a0c){_0x488042['value']=_0x7bd404;return;}v['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x443068+('\x22\x20of\x20type\x20'+'\x22')+_0x3c8a0c+'\x22');}['getFloat'](_0x1637f7){return this['getParamet'+'erValue'](_0x1637f7,Q_);}['setFloat'](_0x1f9bb9,_0xf633d1){this['setParamet'+'erValue'](_0x1f9bb9,Q_,_0xf633d1);}['getInteger'](_0x4ad1e0){return this['getParamet'+'erValue'](_0x4ad1e0,Z_);}['setInteger'](_0x417e9d,_0x31e328){typeof _0x31e328=='number'&&_0x31e328%(-0x98c+0x1946+0xaf*-0x17)===-0x138*-0x1f+0x8b4*-0x3+0x53*-0x24?this['setParamet'+'erValue'](_0x417e9d,Z_,_0x31e328):v['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x417e9d,_0x31e328);}['getBoolean'](_0xb2ec76){return this['getParamet'+'erValue'](_0xb2ec76,J_);}['setBoolean'](_0x4aefa9,_0x46785c){this['setParamet'+'erValue'](_0x4aefa9,J_,!!_0x46785c);}['getTrigger'](_0x462ff8){return this['getParamet'+'erValue'](_0x462ff8,ph);}['setTrigger'](_0x1b90bc,_0x575f4f=!(-0x1468+-0x1f*0x67+-0x7a*-0x45)){this['setParamet'+'erValue'](_0x1b90bc,ph,!(0x22f0+0x143+-0x2433*0x1)),_0x575f4f&&this['_consumedT'+'riggers']['add'](_0x1b90bc);}['resetTrigg'+'er'](_0x2936e8){this['setParamet'+'erValue'](_0x2936e8,ph,!(-0x1a71*-0x1+-0xdb+0x1995*-0x1));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x2150c8){for(let _0x214537=0x2127+-0x263+-0x1ec4;_0x214537<this['layers']['length'];_0x214537++)this['layers'][_0x214537]['update'](_0x2150c8*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x16e649=>{this['parameters'][_0x16e649]['value']=!(-0x569+-0x22*-0xd6+-0x1702);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xb687a2,_0x4c5ba5){_0xb687a2['rootBone']&&_0x4c5ba5[_0xb687a2['rootBone']['getGuid']()]?this['rootBone']=_0x4c5ba5[_0xb687a2['rootBone']['getGuid']()]:this['rebind']();}}class $P{constructor(){this['enabled']=!(0x1*-0x65+-0x6d*-0x20+-0x469*0x3);}}const tf=['enabled'];class qP extends Xe{constructor(_0x1172be){super(_0x1172be),this['id']='anim',this['ComponentT'+'ype']=Z0,this['DataType']=$P,this['schema']=tf,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x4664f1,_0x242597,_0x34c43a){super['initialize'+'ComponentD'+'ata'](_0x4664f1,_0x242597,tf);const _0x4de500=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x242597)['forEach'](_0x395e4f=>{_0x4de500['includes'](_0x395e4f)||(_0x4664f1[_0x395e4f]=_0x242597[_0x395e4f]);}),_0x242597['stateGraph']&&(_0x4664f1['stateGraph']=_0x242597['stateGraph'],_0x4664f1['loadStateG'+'raph'](_0x4664f1['stateGraph'])),_0x242597['layers']&&_0x242597['layers']['forEach']((_0x524579,_0x174282)=>{_0x524579['_controlle'+'r']['states']['forEach'](_0x46e18a=>{_0x524579['_controlle'+'r']['_states'][_0x46e18a]['_animation'+'List']['forEach'](_0x2ce0f3=>{if(!_0x2ce0f3['animTrack']||_0x2ce0f3['animTrack']===Ri['EMPTY']){const _0xfb21c8=this['app']['assets']['get'](_0x524579['_component']['_animation'+'Assets'][_0x524579['name']+':'+_0x2ce0f3['name']]['asset']);_0xfb21c8&&!_0xfb21c8['loaded']&&_0xfb21c8['once']('load',()=>{_0x4664f1['layers'][_0x174282]['assignAnim'+'ation'](_0x2ce0f3['name'],_0xfb21c8['resource']);});}else _0x4664f1['layers'][_0x174282]['assignAnim'+'ation'](_0x2ce0f3['name'],_0x2ce0f3['animTrack']);});});}),_0x242597['animationA'+'ssets']&&(_0x4664f1['animationA'+'ssets']=Object['assign'](_0x4664f1['animationA'+'ssets'],_0x242597['animationA'+'ssets'])),_0x242597['masks']&&Object['keys'](_0x242597['masks'])['forEach'](_0x582cfd=>{if(_0x4664f1['layers'][_0x582cfd]){const _0x6d7d08=_0x242597['masks'][_0x582cfd]['mask'],_0x447d4e={};Object['keys'](_0x6d7d08)['forEach'](_0x4dab27=>{_0x447d4e[decodeURI(_0x4dab27)]=_0x6d7d08[_0x4dab27];}),_0x4664f1['layers'][_0x582cfd]['mask']=_0x447d4e;}});}['onAnimatio'+'nUpdate'](_0x48a7e1){const _0x201601=this['store'];for(const _0x4fb271 in _0x201601)if(_0x201601['hasOwnProp'+'erty'](_0x4fb271)){const _0x1df59e=_0x201601[_0x4fb271]['entity']['anim'];_0x1df59e['data']['enabled']&&_0x1df59e['entity']['enabled']&&_0x1df59e['playing']&&_0x1df59e['update'](_0x48a7e1);}}['cloneCompo'+'nent'](_0x165469,_0x50b807){let _0xc03493;(!_0x165469['anim']['rootBone']||_0x165469['anim']['rootBone']===_0x165469)&&(_0xc03493={},_0x165469['anim']['layers']['forEach']((_0x168cee,_0xb1451b)=>{if(_0x168cee['mask']){const _0x5c7970={};Object['keys'](_0x168cee['mask'])['forEach'](_0x4496c8=>{const _0x52ebc6=_0x4496c8['split']('/');_0x52ebc6['shift']();const _0x336ed1=[_0x50b807['name'],..._0x52ebc6]['join']('/');_0x5c7970[_0x336ed1]=_0x168cee['mask'][_0x4496c8];}),_0xc03493[_0xb1451b]={'mask':_0x5c7970};}}));const _0x4a19ed={'enabled':_0x165469['anim']['enabled'],'stateGraphAsset':_0x165469['anim']['stateGraph'+'Asset'],'animationAssets':_0x165469['anim']['animationA'+'ssets'],'speed':_0x165469['anim']['speed'],'activate':_0x165469['anim']['activate'],'playing':_0x165469['anim']['playing'],'rootBone':_0x165469['anim']['rootBone'],'stateGraph':_0x165469['anim']['stateGraph'],'layers':_0x165469['anim']['layers'],'layerIndices':_0x165469['anim']['layerIndic'+'es'],'parameters':_0x165469['anim']['parameters'],'normalizeWeights':_0x165469['anim']['normalizeW'+'eights'],'masks':_0xc03493};return this['addCompone'+'nt'](_0x50b807,_0x4a19ed);}['onBeforeRe'+'move'](_0x103203,_0x2c5314){_0x2c5314['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}ue['_buildAcce'+'ssors'](Z0['prototype'],tf);class Q0 extends ue{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x21ef78=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x21ef78);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class XP{constructor(){this['enabled']=!(0x2*0x47d+-0x1*0xd87+0x48d);}}const J0=['enabled'];class jP extends Xe{constructor(_0x5c6c25){super(_0x5c6c25),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Q0,this['DataType']=XP,this['schema']=J0,this['manager']=_0x5c6c25['soundManag'+'er'],v['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x1c55f1,_0x7f5950,_0x5cd9e0){_0x5cd9e0=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x1c55f1,_0x7f5950,_0x5cd9e0);}['onUpdate'](_0x1885bd){if(this['current']){const _0x32acde=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x32acde);const _0x2c71a9=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x2c71a9);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Q0['prototype'],J0);const sf=-0x679*-0x2+0x13e5+-0x7*0x4b1,tg=0x1*-0x1d35+-0x2*-0xa3f+0x8b8,_h='group',rf='image',ex='text',gh='stretch',YP='contain',KP='cover',Ye={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},hl={};hl[Ye['DEFAULT']]='_defaultTi'+'nt',hl[Ye['HOVER']]='hoverTint',hl[Ye['PRESSED']]='pressedTin'+'t',hl[Ye['INACTIVE']]='inactiveTi'+'nt';const cl={};cl[Ye['DEFAULT']]='_defaultSp'+'riteAsset',cl[Ye['HOVER']]='hoverSprit'+'eAsset',cl[Ye['PRESSED']]='pressedSpr'+'iteAsset',cl[Ye['INACTIVE']]='inactiveSp'+'riteAsset';const dl={};dl[Ye['DEFAULT']]='_defaultSp'+'riteFrame',dl[Ye['HOVER']]='hoverSprit'+'eFrame',dl[Ye['PRESSED']]='pressedSpr'+'iteFrame',dl[Ye['INACTIVE']]='inactiveSp'+'riteFrame';class ct extends ue{constructor(_0xd1bc5a,_0x592d2b){super(_0xd1bc5a,_0x592d2b),c(this,'_visualSta'+'te',Ye['DEFAULT']),c(this,'_isHoverin'+'g',!(0x492+0xbfe+0x3*-0x585)),c(this,'_hoveringC'+'ounter',-0xd61+0x6*-0x2d1+0x1e47),c(this,'_isPressed',!(-0xe*0x138+0x1b05*0x1+-0xd*0xc4)),c(this,'_defaultTi'+'nt',new Y(0x1*0x1a6+0x868+-0xa0d,0xd6e*-0x2+-0x4*-0x8ad+0x7d7*-0x1,0x16*-0x1c3+-0x194+0x2857,0xe*0xef+-0x22e6+0x15d5)),c(this,'_defaultSp'+'riteAsset',null),c(this,'_defaultSp'+'riteFrame',0x1869*0x1+0x21d6+-0x3a3f),c(this,'_imageEnti'+'ty',null),c(this,'_evtElemen'+'tAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),c(this,'_evtImageE'+'ntityEleme'+'ntColor',null),c(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=Ye['DEFAULT'],this['_isHoverin'+'g']=!(-0x25d7+0x2*0x4a5+0xe47*0x2),this['_hoveringC'+'ounter']=0x15af+-0x1813*-0x1+-0x2dc2,this['_isPressed']=!(0x1*-0x175d+0x1*0x37c+0x13e2),this['_defaultTi'+'nt']=new Y(0x1*-0x767+-0x217b*0x1+-0x48b*-0x9,-0x29*0xdf+0x252d*0x1+-0x175,-0x1558+-0x14b+-0x1*-0x16a4,0xe*0x23b+-0x16d9+-0x43*0x20),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=-0xdf8+0x288+0xb70,this['_toggleLif'+'ecycleList'+'eners']('on',_0xd1bc5a));}get['data'](){const _0x47d6ac=this['system']['store'][this['entity']['getGuid']()];return _0x47d6ac?_0x47d6ac['data']:null;}set['enabled'](_0x19afe2){this['_setValue']('enabled',_0x19afe2);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x30c7c2){this['_setValue']('active',_0x30c7c2);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x410230){if(this['_imageEnti'+'ty']!==_0x410230){const _0x1c505f=typeof _0x410230=='string';if(this['_imageEnti'+'ty']&&_0x1c505f&&this['_imageEnti'+'ty']['getGuid']()===_0x410230)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x410230 instanceof De?this['_imageEnti'+'ty']=_0x410230:_0x1c505f?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x410230)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x1c505f&&_0x410230&&(this['data']['imageEntit'+'y']=_0x410230);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x50ccb3){this['_setValue']('hitPadding',_0x50ccb3);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x2fee25){this['_setValue']('transition'+'Mode',_0x2fee25);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0xa5d765){this['_setValue']('hoverTint',_0xa5d765);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x35b6f6){this['_setValue']('pressedTin'+'t',_0x35b6f6);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x3615a1){this['_setValue']('inactiveTi'+'nt',_0x3615a1);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x4170c2){this['_setValue']('fadeDurati'+'on',_0x4170c2);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x76f38a){this['_setValue']('hoverSprit'+'eAsset',_0x76f38a);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x5ab3ff){this['_setValue']('hoverSprit'+'eFrame',_0x5ab3ff);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x48acae){this['_setValue']('pressedSpr'+'iteAsset',_0x48acae);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x2474a3){this['_setValue']('pressedSpr'+'iteFrame',_0x2474a3);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x1dd201){this['_setValue']('inactiveSp'+'riteAsset',_0x1dd201);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x12d956){this['_setValue']('inactiveSp'+'riteFrame',_0x12d956);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x5176a9,_0x348875){const _0x200053=this['data'],_0x5938c8=_0x200053[_0x5176a9];_0x200053[_0x5176a9]=_0x348875,this['fire']('set',_0x5176a9,_0x5938c8,_0x348875);}['_toggleLif'+'ecycleList'+'eners'](_0x83438d,_0x5079d0){var _0x57442b;this[_0x83438d]('set_active',this['_onSetActi'+'ve'],this),this[_0x83438d]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x83438d]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x83438d]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x83438d]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x83438d]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x83438d]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x83438d]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x83438d]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x83438d]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x83438d]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x83438d==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x57442b=this['_evtElemen'+'tAdd'])==null||_0x57442b['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x4569cc,_0x20d194,_0x34bcd4){_0x20d194!==_0x34bcd4&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x5a6b6f,_0x2f39ea,_0x2d4b84){_0x2f39ea!==_0x2d4b84&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x2f39ea),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x29af0a,_0x5c6c33,_0x424997){_0x5c6c33!==_0x424997&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x1ab892,_0x24a937;(_0x1ab892=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x1ab892['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x24a937=this['_imageEnti'+'ty'])!=null&&_0x24a937['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x52d7a5=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x52d7a5['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x52d7a5['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x52d7a5['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x52d7a5['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x52d7a5['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x499eb2,_0x3a8ef0,_0x49f4dd,_0x5390a1,_0x3a963b;(_0x499eb2=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x499eb2['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x3a8ef0=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x3a8ef0['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x49f4dd=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x49f4dd['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x5390a1=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x5390a1['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x3a963b=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x3a963b['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x281ee2){if(this['entity']['element']){const _0x3d5412=_0x281ee2==='on';if(_0x3d5412&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x281ee2]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x281ee2]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x281ee2]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x281ee2]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x281ee2]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x281ee2]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x281ee2]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x281ee2]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x281ee2]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x281ee2]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x281ee2]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x281ee2]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x281ee2]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x281ee2]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x3d5412;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x55cfd7;const _0x27617d=(_0x55cfd7=this['_imageEnti'+'ty'])==null?void(0x141c+0x1302+-0x1*0x271e):_0x55cfd7['element'];!_0x27617d||_0x27617d['type']===_h||(this['_storeDefa'+'ultColor'](_0x27617d['color']),this['_storeDefa'+'ultOpacity'](_0x27617d['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x27617d['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x27617d['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x277c48){this['_defaultTi'+'nt']['r']=_0x277c48['r'],this['_defaultTi'+'nt']['g']=_0x277c48['g'],this['_defaultTi'+'nt']['b']=_0x277c48['b'];}['_storeDefa'+'ultOpacity'](_0x189432){this['_defaultTi'+'nt']['a']=_0x189432;}['_storeDefa'+'ultSpriteA'+'sset'](_0x4870ef){this['_defaultSp'+'riteAsset']=_0x4870ef;}['_storeDefa'+'ultSpriteF'+'rame'](_0x546698){this['_defaultSp'+'riteFrame']=_0x546698;}['_onSetColo'+'r'](_0x4c19bd){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x4c19bd),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x210bf0){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x210bf0),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x5df29c){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x5df29c),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x5a8952){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x5a8952),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0xa3c75e){this['_isHoverin'+'g']=!(-0x19d0+0x1007+0x3*0x343),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0xa3c75e);}['_onMouseLe'+'ave'](_0x3b058b){this['_isHoverin'+'g']=!(-0x264a+-0x3*-0xb87+0x3b6),this['_isPressed']=!(0x267d+-0xbbf*-0x1+0xa7*-0x4d),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x3b058b);}['_onMouseDo'+'wn'](_0x2e3353){this['_isPressed']=!(-0xa1*0x1+-0xc45+0xfe*0xd),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x2e3353);}['_onMouseUp'](_0x4f72a8){this['_isPressed']=!(0x22bc+-0x3*0x65f+-0xf9e*0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x4f72a8);}['_onTouchSt'+'art'](_0x3b363b){this['_isPressed']=!(-0x182c+-0x17ce*-0x1+0x5e),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x3b363b);}['_onTouchEn'+'d'](_0xf5ce1e){_0xf5ce1e['event']['preventDef'+'ault'](),this['_isPressed']=!(0x2d*-0xbd+0x753*0x1+0x15d*0x13),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0xf5ce1e);}['_onTouchLe'+'ave'](_0x52ea75){this['_isPressed']=!(-0x20fe*0x1+-0x2*-0x151+0x1e5d*0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x52ea75);}['_onTouchCa'+'ncel'](_0xb00f2c){this['_isPressed']=!(-0x45*-0x23+-0xd*-0x1fc+-0x233a),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0xb00f2c);}['_onSelectS'+'tart'](_0x4bc424){this['_isPressed']=!(0xbce*-0x3+0x128+-0x6da*-0x5),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x4bc424);}['_onSelectE'+'nd'](_0x18d645){this['_isPressed']=!(-0x2*0xe90+-0x1596+-0x32b7*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x18d645);}['_onSelectE'+'nter'](_0xce460c){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===0x2115+0x194*0x8+-0x12*0x28a&&(this['_isHoverin'+'g']=!(0x1377+-0x22df+0x1ed*0x8),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0xce460c);}['_onSelectL'+'eave'](_0x5935c5){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===0xcbe+-0x17b+0x3c1*-0x3&&(this['_isHoverin'+'g']=!(-0x1*-0xc61+0x22de+0x179f*-0x2),this['_isPressed']=!(-0x1675+-0x127*0x5+0x11*0x1a9),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x5935c5);}['_onClick'](_0x3037c0){this['_fireIfAct'+'ive']('click',_0x3037c0);}['_fireIfAct'+'ive'](_0x5898e7,_0x321461){this['data']['active']&&this['fire'](_0x5898e7,_0x321461);}['_updateVis'+'ualState'](_0xbeca64){const _0x2740ff=this['_visualSta'+'te'],_0x56c66b=this['_determine'+'VisualStat'+'e']();if((_0x2740ff!==_0x56c66b||_0xbeca64)&&this['enabled'])switch(this['_visualSta'+'te']=_0x56c66b,_0x2740ff===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x2740ff===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x56c66b===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x56c66b===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case sf:{const _0x7b27c0=hl[this['_visualSta'+'te']],_0x3ae2b3=this[_0x7b27c0];this['_applyTint'](_0x3ae2b3);break;}case tg:{const _0x132bd3=cl[this['_visualSta'+'te']],_0x18269f=dl[this['_visualSta'+'te']],_0xec31b3=this[_0x132bd3],_0x1be9f0=this[_0x18269f];this['_applySpri'+'te'](_0xec31b3,_0x1be9f0);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(0x1ca+0x64d*-0x1+0x483));}['_resetToDe'+'faultVisua'+'lState'](_0x384a9){var _0x2462e7;if((_0x2462e7=this['_imageEnti'+'ty'])!=null&&_0x2462e7['element'])switch(_0x384a9){case sf:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case tg:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return Ye['PRESSED'];if(this['_isHoverin'+'g'])return Ye['HOVER'];}else return Ye['INACTIVE'];return Ye['DEFAULT'];}['_applySpri'+'te'](_0xa941c6,_0x13ea81){var _0x9d25d4;const _0x4a9101=(_0x9d25d4=this['_imageEnti'+'ty'])==null?void(-0xa3b*-0x3+0x1e36+-0x3ce7):_0x9d25d4['element'];_0x4a9101&&(_0x13ea81=_0x13ea81||0x24d7+0x903+-0x2*0x16ed,this['_isApplyin'+'gSprite']=!(-0x1bdf+0x283+0x3*0x874),_0x4a9101['spriteAsse'+'t']!==_0xa941c6&&(_0x4a9101['spriteAsse'+'t']=_0xa941c6),_0x4a9101['spriteFram'+'e']!==_0x13ea81&&(_0x4a9101['spriteFram'+'e']=_0x13ea81),this['_isApplyin'+'gSprite']=!(-0x2d2+0x8*-0x408+0x7b*0x49));}['_applyTint'](_0x47125e){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===0x5*-0x4bd+0x1d8b+-0x1*0x5da?this['_applyTint'+'Immediatel'+'y'](_0x47125e):this['_applyTint'+'WithTween'](_0x47125e);}['_applyTint'+'Immediatel'+'y'](_0x32605a){var _0x1e7af9;const _0x670486=(_0x1e7af9=this['_imageEnti'+'ty'])==null?void(0x25d3+0x1d*0x6b+-0x31f2):_0x1e7af9['element'];if(!_0x32605a||!_0x670486||_0x670486['type']===_h)return;const _0x401236=sg(_0x32605a);this['_isApplyin'+'gTint']=!(0x1b2a+0x2*-0xaf9+-0x538),_0x401236['equals'](_0x670486['color'])||(_0x670486['color']=_0x401236),_0x670486['opacity']!==_0x32605a['a']&&(_0x670486['opacity']=_0x32605a['a']),this['_isApplyin'+'gTint']=!(-0x54a*-0x1+-0x13be+0xe75);}['_applyTint'+'WithTween'](_0x84268f){var _0x37a1a2;const _0x3736b3=(_0x37a1a2=this['_imageEnti'+'ty'])==null?void(0x246*-0x4+-0x2eb*0x6+0x1a9a):_0x37a1a2['element'];if(!_0x84268f||!_0x3736b3||_0x3736b3['type']===_h)return;const _0x4b947e=sg(_0x84268f),_0x28745d=_0x3736b3['color'],_0x394998=_0x3736b3['opacity'];_0x4b947e['equals'](_0x28745d)&&_0x84268f['a']===_0x394998||(this['_tweenInfo']={'startTime':ne(),'from':new Y(_0x28745d['r'],_0x28745d['g'],_0x28745d['b'],_0x394998),'to':_0x84268f['clone'](),'lerpColor':new Y()});}['_updateTin'+'tTween'](){const _0x142e02=ne()-this['_tweenInfo']['startTime'];let _0x2cd1a9=this['fadeDurati'+'on']===-0x1862+0xc8f+-0xbd3*-0x1?0x15f3+0x3*-0xcb1+0x1021:_0x142e02/this['fadeDurati'+'on'];if(_0x2cd1a9=N['clamp'](_0x2cd1a9,0x1aac+0x17c9+-0x3275,-0x1924+-0x162a*0x1+0x2f4f),Math['abs'](_0x2cd1a9-(-0x22ac+0x21*-0x3b+0x2a48))>-0x149b+0x1a8a+-0x1f*0x31+0.00001){const _0x2dce6a=this['_tweenInfo']['lerpColor'];_0x2dce6a['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x2cd1a9),this['_applyTint'+'Immediatel'+'y'](new Y(_0x2dce6a['r'],_0x2dce6a['g'],_0x2dce6a['b'],_0x2dce6a['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(0x1f32+-0x31*-0xb3+-0x4174),this['_hoveringC'+'ounter']=0x4*-0x1e2+-0x4ab*0x1+0xc33,this['_isPressed']=!(0x388+-0x1990+0x1609),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x3ef8b8,_0x1c7531){_0x3ef8b8['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x1c7531[_0x3ef8b8['imageEntit'+'y']['getGuid']()]);}}c(ct,'EVENT_MOUS'+'EDOWN','mousedown'),c(ct,'EVENT_MOUS'+'EUP','mouseup'),c(ct,'EVENT_MOUS'+'EENTER','mouseenter'),c(ct,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(ct,'EVENT_CLIC'+'K','click'),c(ct,'EVENT_TOUC'+'HSTART','touchstart'),c(ct,'EVENT_TOUC'+'HEND','touchend'),c(ct,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),c(ct,'EVENT_TOUC'+'HLEAVE','touchleave'),c(ct,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ct,'EVENT_SELE'+'CTEND','selectend'),c(ct,'EVENT_SELE'+'CTENTER','selectente'+'r'),c(ct,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),c(ct,'EVENT_HOVE'+'RSTART','hoverstart'),c(ct,'EVENT_HOVE'+'REND','hoverend'),c(ct,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),c(ct,'EVENT_PRES'+'SEDEND','pressedend');function sg(_0x3284b7){return new Y(_0x3284b7['r'],_0x3284b7['g'],_0x3284b7['b']);}class ZP{constructor(){this['enabled']=!(0x49*-0x5f+-0x1629+0x40*0xc5),this['active']=!(0x151c+-0x495*-0x3+-0x22db),this['imageEntit'+'y']=null,this['hitPadding']=new Q(),this['transition'+'Mode']=sf,this['hoverTint']=new Y(-0xf65+-0x1*-0x107b+-0x116+0.75,0x1*-0x2479+-0x23e9+0x4862+0.75,0x20*-0x53+-0x1*0x19d3+0x1*0x2433+0.75),this['pressedTin'+'t']=new Y(-0x7*-0x13e+-0x115*0x9+0x10b+0.5,0x1964+-0x22*-0x56+0x4*-0x934+0.5,0x1*0x249e+0x2366+-0x4804+0.5),this['inactiveTi'+'nt']=new Y(0x1d*-0x6e+-0x19+0x283*0x5+0.25,0x14f3+-0x24aa+0x95*0x1b+0.25,-0x2*-0xe75+0x2*-0x1116+0x542+0.25),this['fadeDurati'+'on']=-0xc1*-0x1+-0x466+0x1*0x3a5,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=0x63*-0x4d+0x1*0x740+0x1687,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=0x19dd+0xe4*0xc+-0x248d,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=-0x930+0x26ce+-0x1d9e;}}const ig=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class QP extends Xe{constructor(_0x4bb547){super(_0x4bb547),this['id']='button',this['ComponentT'+'ype']=ct,this['DataType']=ZP,this['schema']=ig,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x49638d,_0x358b36,_0x3cb4bc){_0x49638d['imageEntit'+'y']=_0x358b36['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x49638d,_0x358b36,ig);}['onUpdate'](_0x3cd589){const _0x4b1930=this['store'];for(const _0x21d5d8 in _0x4b1930){const _0x1f298a=_0x4b1930[_0x21d5d8]['entity'],_0xd2cbbe=_0x1f298a['button'];_0xd2cbbe['enabled']&&_0x1f298a['enabled']&&_0xd2cbbe['onUpdate']();}}['_onRemoveC'+'omponent'](_0x6d78d7,_0x8054ef){_0x8054ef['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const rg=new T(),ng=new se();class Yn extends ue{constructor(_0x2a28be,_0x42bffa){super(_0x2a28be,_0x42bffa),c(this,'_compoundP'+'arent',null),c(this,'_hasOffset',!(-0xac1+-0x13c7+0x1e89)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x5b9d2e=this['system']['store'][this['entity']['getGuid']()];return _0x5b9d2e?_0x5b9d2e['data']:null;}set['enabled'](_0x2d8317){this['_setValue']('enabled',_0x2d8317);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x137068){this['_setValue']('type',_0x137068);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x20ce12){this['_setValue']('halfExtent'+'s',_0x20ce12);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x1b155a){this['_setValue']('linearOffs'+'et',_0x1b155a);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x239bd4){this['_setValue']('angularOff'+'set',_0x239bd4);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x1dad92){this['_setValue']('radius',_0x1dad92);}get['radius'](){return this['data']['radius'];}set['axis'](_0x2dfec6){this['_setValue']('axis',_0x2dfec6);}get['axis'](){return this['data']['axis'];}set['height'](_0x5a7ad4){this['_setValue']('height',_0x5a7ad4);}get['height'](){return this['data']['height'];}set['asset'](_0x545acb){this['_setValue']('asset',_0x545acb);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x15c00f){this['_setValue']('renderAsse'+'t',_0x15c00f);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x4d8c24){this['_setValue']('convexHull',_0x4d8c24);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0xd5d91d){this['_setValue']('shape',_0xd5d91d);}get['shape'](){return this['data']['shape'];}set['model'](_0x31b17d){this['_setValue']('model',_0x31b17d);}get['model'](){return this['data']['model'];}set['render'](_0x416a01){this['_setValue']('render',_0x416a01);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x37957f){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x37957f);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0xe94a8,_0x46610a){const _0x4c063a=this['data'],_0x42fed3=_0x4c063a[_0xe94a8];_0x4c063a[_0xe94a8]=_0x46610a,this['fire']('set',_0xe94a8,_0x42fed3,_0x46610a);}['onSetType'](_0x3c09fe,_0x1b0964,_0x128867){_0x1b0964!==_0x128867&&this['system']['changeType'](this,_0x1b0964,_0x128867);}['onSetHalfE'+'xtents'](_0x206814,_0x1ed8a0,_0x3cb673){const _0x57cb6f=this['data']['type'];this['data']['initialize'+'d']&&_0x57cb6f==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x924a54,_0x4514ed,_0x265f86){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](T['ZERO'])||!this['data']['angularOff'+'set']['equals'](se['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x5e369e,_0x375d24,_0x1252d8){const _0x3b0078=this['data']['type'];this['data']['initialize'+'d']&&(_0x3b0078==='sphere'||_0x3b0078==='capsule'||_0x3b0078==='cylinder'||_0x3b0078==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x4d2fea,_0x2dd4e1,_0x8bb44e){const _0x46d1b8=this['data']['type'];this['data']['initialize'+'d']&&(_0x46d1b8==='capsule'||_0x46d1b8==='cylinder'||_0x46d1b8==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x13e503,_0x3b431f,_0x5e4acc){const _0x128a9d=this['data']['type'];this['data']['initialize'+'d']&&(_0x128a9d==='capsule'||_0x128a9d==='cylinder'||_0x128a9d==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x2c8d06,_0x53c585,_0x163673){const _0x498110=this['system']['app']['assets'];if(_0x53c585){const _0x17b0e6=_0x498110['get'](_0x53c585);_0x17b0e6&&_0x17b0e6['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x163673){_0x163673 instanceof le&&(this['data']['asset']=_0x163673['id']);const _0x3e207e=_0x498110['get'](this['data']['asset']);_0x3e207e&&(_0x3e207e['off']('remove',this['onAssetRem'+'oved'],this),_0x3e207e['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x163673||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x1354e9,_0x488ddd,_0x5c6795){const _0x2c1f56=this['system']['app']['assets'];if(_0x488ddd){const _0x50b28d=_0x2c1f56['get'](_0x488ddd);_0x50b28d&&_0x50b28d['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x5c6795){_0x5c6795 instanceof le&&(this['data']['renderAsse'+'t']=_0x5c6795['id']);const _0x42206f=_0x2c1f56['get'](this['data']['renderAsse'+'t']);_0x42206f&&(_0x42206f['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x42206f['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x5c6795||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0xa04e61,_0x2c7a6a,_0x1cbbe0){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x5f3310,_0x15b42a,_0x2d7e6a){this['onSetModel'](_0x5f3310,_0x15b42a,_0x2d7e6a);}['onAssetRem'+'oved'](_0x1566ca){_0x1566ca['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x1566ca['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x48007f){_0x48007f['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x48007f['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x2be2b8){const _0x5bd473=this['data']['shape'],_0x59b200=_0x5bd473['getNumChil'+'dShapes']();for(let _0x8f7f0b=0xb0e*0x2+-0x13*0x158+0x49*0xc;_0x8f7f0b<_0x59b200;_0x8f7f0b++){const _0x5ef0e7=_0x5bd473['getChildSh'+'ape'](_0x8f7f0b);if(Ammo['getPointer'](_0x5ef0e7)===Ammo['getPointer'](_0x2be2b8))return _0x8f7f0b;}return null;}['_onInsert'](_0x4af9cb){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x40fb1b=this['entity']['parent'];for(;_0x40fb1b;){if(_0x40fb1b['collision']&&_0x40fb1b['collision']['type']==='compound'){_0x40fb1b['collision']['shape']['getNumChil'+'dShapes']()===-0x6*0xb8+-0xb3*-0xd+-0x4c7?this['system']['recreatePh'+'ysicalShap'+'es'](_0x40fb1b['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x40fb1b=_0x40fb1b['parent'];}}}}}['_updateCom'+'pound'](){const _0x19e787=this['entity'];if(_0x19e787['_dirtyWorl'+'d']){let _0x380cda=_0x19e787['_dirtyLoca'+'l'],_0x50a4f3=_0x19e787;for(;_0x50a4f3&&!_0x380cda&&!(_0x50a4f3['collision']&&_0x50a4f3['collision']===this['_compoundP'+'arent']);)_0x50a4f3['_dirtyLoca'+'l']&&(_0x380cda=!(-0xd0*0x29+-0x257*0xe+0x4212)),_0x50a4f3=_0x50a4f3['parent'];if(_0x380cda){_0x19e787['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x19e787);const _0x4d859f=this['_compoundP'+'arent']['entity']['rigidbody'];_0x4d859f&&_0x4d859f['activate']();}}}['getShapePo'+'sition'](){const _0x2d1f48=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x9bb256=this['entity']['getRotatio'+'n'](),_0x541fe7=this['data']['linearOffs'+'et'];return ng['copy'](_0x9bb256)['transformV'+'ector'](_0x541fe7,rg),rg['add'](_0x2d1f48);}return _0x2d1f48;}['getShapeRo'+'tation'](){const _0x4fc466=this['entity']['getRotatio'+'n']();return this['_hasOffset']?ng['copy'](_0x4fc466)['mul'](this['data']['angularOff'+'set']):_0x4fc466;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x243d39=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x243d39&&(!_0x243d39['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x1fa2*-0x1+0x9e*0x26+-0x1b8b*0x2)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x2c1f27=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x2c1f27,this['data']['shape']),Ammo['destroy'](_0x2c1f27),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}c(Yn,'EVENT_CONT'+'ACT','contact'),c(Yn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Yn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Yn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Yn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class JP{constructor(){this['enabled']=!(-0x61a*0x3+-0xfbd+0x245*0xf),this['type']='box',this['halfExtent'+'s']=new T(0x106a+0xf96+-0x2000+0.5,0xd80+-0x77f+0x601*-0x1+0.5,0x9b6*0x1+-0x1a61+0x10ab+0.5),this['linearOffs'+'et']=new T(),this['angularOff'+'set']=new se(),this['radius']=-0x1*-0x403+0xb27*0x3+-0xb*0x368+0.5,this['axis']=0x10c*-0x1c+0x1a5+0x1bac,this['height']=0x1f65*0x1+0x17*0x13+-0x2118,this['convexHull']=!(0xdf*0x22+0x23c0+-0x415d),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(-0x1*0x1861+0x60a*-0x2+-0xb7*-0x33),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(0xe*-0x147+0x1*0x15be+0x15*-0x2f);}}const so='static',ms='dynamic',Bn='kinematic',eR=0xc92+0x11*0x69+-0x1389,lo=0xd2e*-0x1+0x1*0x1567+-0xbf*0xb,nf=-0x1*0xfaa+0x2*0xbf+-0x1*-0xe2d,ag=-0x19f6+-0x1b73+0x356d*0x1,tx=0x1fd3+0x25a*0x4+-0x2936,tR=-0x2646+-0x466*0x3+0x3379*0x1,og=0x22e9+0x25*-0x31+0x6*-0x4a3,sR=0x1da8+0x4*-0x2cc+-0x1274*0x1,lg=0x10*0x6d+0x397*-0x6+0xeca,hg=0x8209+-0x28*-0x5bc+-0x676a,af=-0xf77b+-0xde50+0x2d5c8*0x1;let _s,Er,Nn;class sx{constructor(_0x4b1460,_0x4544ab,_0x273b23){this['entity']=_0x4544ab['entity'],this['component']=_0x4544ab,this['app']=_0x4b1460,typeof Ammo<'u'&&!_s&&(_s=new Ammo['btVector3'](),Er=new Ammo['btQuaterni'+'on'](),Nn=new Ammo['btTransfor'+'m']()),this['initialize'](_0x273b23);}['initialize'](_0x6c95aa){const _0x4c4973=this['entity'],_0x149f3a=_0x6c95aa['shape'];if(_0x149f3a&&typeof Ammo<'u'){_0x4c4973['trigger']&&_0x4c4973['trigger']['destroy']();const _0x1ef24a=0x5*-0x271+-0x1e42+0x2a78,_0x2391ae=this['component'];if(_0x2391ae){const _0x34bfa3=_0x2391ae['getShapePo'+'sition'](),_0x4815bb=_0x2391ae['getShapeRo'+'tation']();_s['setValue'](_0x34bfa3['x'],_0x34bfa3['y'],_0x34bfa3['z']),Er['setValue'](_0x4815bb['x'],_0x4815bb['y'],_0x4815bb['z'],_0x4815bb['w']);}else{const _0x193d07=_0x4c4973['getPositio'+'n'](),_0x11637b=_0x4c4973['getRotatio'+'n']();_s['setValue'](_0x193d07['x'],_0x193d07['y'],_0x193d07['z']),Er['setValue'](_0x11637b['x'],_0x11637b['y'],_0x11637b['z'],_0x11637b['w']);}Nn['setOrigin'](_s),Nn['setRotatio'+'n'](Er);const _0x1f545e=this['app']['systems']['rigidbody']['createBody'](_0x1ef24a,_0x149f3a,Nn);_0x1f545e['setRestitu'+'tion'](0x1*0x20b1+0x17*0xbf+-0x31da),_0x1f545e['setFrictio'+'n'](-0x2*0x7b+-0x3*-0x97+-0xcf),_0x1f545e['setDamping'](0x6be+0x1bdc*0x1+-0x229a,-0xcaa+-0x1947+0x25f1),_s['setValue'](-0xf9f+-0x35*0x17+0x1462,0x2c6*0x1+0x1*-0x26f3+0x242d,0x994*0x4+-0x1138+0x12*-0x12c),_0x1f545e['setLinearF'+'actor'](_s),_0x1f545e['setAngular'+'Factor'](_s),_0x1f545e['setCollisi'+'onFlags'](_0x1f545e['getCollisi'+'onFlags']()|lo),_0x1f545e['entity']=_0x4c4973,this['body']=_0x1f545e,this['component']['enabled']&&_0x4c4973['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x21818d){const _0x1da278=this['component'];if(_0x1da278){const _0x10aeb8=_0x1da278['getShapePo'+'sition'](),_0x2927f6=_0x1da278['getShapeRo'+'tation']();_s['setValue'](_0x10aeb8['x'],_0x10aeb8['y'],_0x10aeb8['z']),Er['setValue'](_0x2927f6['x'],_0x2927f6['y'],_0x2927f6['z'],_0x2927f6['w']);}else{const _0x13bb05=this['entity']['getPositio'+'n'](),_0x4dad55=this['entity']['getRotatio'+'n']();_s['setValue'](_0x13bb05['x'],_0x13bb05['y'],_0x13bb05['z']),Er['setValue'](_0x4dad55['x'],_0x4dad55['y'],_0x4dad55['z'],_0x4dad55['w']);}_0x21818d['setOrigin'](_s),_0x21818d['setRotatio'+'n'](Er);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Nn);const _0x3f7c1c=this['body'];_0x3f7c1c['setWorldTr'+'ansform'](Nn),_0x3f7c1c['activate']();}['enable'](){const _0x58e5fd=this['body'];if(!_0x58e5fd)return;const _0x5dba5b=this['app']['systems']['rigidbody'];_0x5dba5b['_triggers']['indexOf'](this)<-0x2092*0x1+0xeae+0x394*0x5&&(_0x5dba5b['addBody'](_0x58e5fd,lg,af^lg),_0x5dba5b['_triggers']['push'](this)),_0x58e5fd['forceActiv'+'ationState'](nf),this['updateTran'+'sform']();}['disable'](){const _0x52ce27=this['body'];if(!_0x52ce27)return;const _0x4c2ce6=this['app']['systems']['rigidbody'],_0x40de6b=_0x4c2ce6['_triggers']['indexOf'](this);_0x40de6b>-(0x1292*-0x1+-0x3*-0x3dd+0x6fc)&&(_0x4c2ce6['removeBody'](_0x52ce27),_0x4c2ce6['_triggers']['splice'](_0x40de6b,0x13*0x18a+0x2*0x745+0x7*-0x641)),_0x52ce27['forceActiv'+'ationState'](tx);}}const Xl=new q(),iR=new T(),rR=new T(),Cr=new se(),cg=new De(),nR=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class xn{constructor(_0x49d46b){this['system']=_0x49d46b;}['beforeInit'+'ialize'](_0xbc5307,_0x56c09c){_0x56c09c['shape']=null,_0x56c09c['model']=new Oi(),_0x56c09c['model']['graph']=new De();}['afterIniti'+'alize'](_0x98b70a,_0x998ec7){this['recreatePh'+'ysicalShap'+'es'](_0x98b70a),_0x98b70a['data']['initialize'+'d']=!(0x2e*0x9+-0x2034+0x1e96);}['reset'](_0x1d593f,_0x96bf80){this['beforeInit'+'ialize'](_0x1d593f,_0x96bf80),this['afterIniti'+'alize'](_0x1d593f,_0x96bf80);}['recreatePh'+'ysicalShap'+'es'](_0x331189){const _0x447175=_0x331189['entity'],_0x348595=_0x331189['data'];if(typeof Ammo<'u'){_0x447175['trigger']&&(_0x447175['trigger']['destroy'](),delete _0x447175['trigger']),_0x348595['shape']&&(_0x331189['_compoundP'+'arent']&&(_0x331189!==_0x331189['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x331189['_compoundP'+'arent'],_0x348595['shape']),_0x331189['_compoundP'+'arent']['entity']['rigidbody']&&_0x331189['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x348595)),_0x348595['shape']=this['createPhys'+'icalShape'](_0x331189['entity'],_0x348595);const _0xd68757=!_0x331189['_compoundP'+'arent'];if(_0x348595['type']==='compound'&&(!_0x331189['_compoundP'+'arent']||_0x331189===_0x331189['_compoundP'+'arent']))_0x331189['_compoundP'+'arent']=_0x331189,_0x447175['forEach'](this['_addEachDe'+'scendant'],_0x331189);else{if(_0x348595['type']!=='compound'&&!_0x331189['rigidbody']){_0x331189['_compoundP'+'arent']=null;let _0x1d50ee=_0x447175['parent'];for(;_0x1d50ee;){if(_0x1d50ee['collision']&&_0x1d50ee['collision']['type']==='compound'){_0x331189['_compoundP'+'arent']=_0x1d50ee['collision'];break;}_0x1d50ee=_0x1d50ee['parent'];}}}_0x331189['_compoundP'+'arent']&&_0x331189!==_0x331189['_compoundP'+'arent']&&(_0xd68757&&_0x331189['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x1*0x34e+-0x1fe7+0x2335?this['system']['recreatePh'+'ysicalShap'+'es'](_0x331189['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x447175,!(-0x42d*0x1+0x1156+-0xd29)),_0x331189['_compoundP'+'arent']['entity']['rigidbody']&&_0x331189['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x447175['rigidbody']?(_0x447175['rigidbody']['disableSim'+'ulation'](),_0x447175['rigidbody']['createBody'](),_0x447175['enabled']&&_0x447175['rigidbody']['enabled']&&_0x447175['rigidbody']['enableSimu'+'lation']()):_0x331189['_compoundP'+'arent']||(_0x447175['trigger']?_0x447175['trigger']['initialize'](_0x348595):_0x447175['trigger']=new sx(this['system']['app'],_0x331189,_0x348595));}}['createPhys'+'icalShape'](_0x404cf5,_0x5c0f66){}['updateTran'+'sform'](_0x2234d7,_0x3a26c8,_0x1d404a,_0x9b8af){_0x2234d7['entity']['trigger']&&_0x2234d7['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x34ea90){_0x34ea90['shape']&&(Ammo['destroy'](_0x34ea90['shape']),_0x34ea90['shape']=null);}['beforeRemo'+'ve'](_0xdf9a0,_0x560b97){_0x560b97['data']['shape']&&(_0x560b97['_compoundP'+'arent']&&!_0x560b97['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x560b97['_compoundP'+'arent'],_0x560b97['data']['shape']),_0x560b97['_compoundP'+'arent']['entity']['rigidbody']&&_0x560b97['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x560b97['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x560b97['data']));}['remove'](_0x51cb11,_0xd05fab){_0x51cb11['rigidbody']&&_0x51cb11['rigidbody']['body']&&_0x51cb11['rigidbody']['disableSim'+'ulation'](),_0x51cb11['trigger']&&(_0x51cb11['trigger']['destroy'](),delete _0x51cb11['trigger']);}['clone'](_0x4e168b,_0x58fda0){const _0x42a6f9=this['system']['store'][_0x4e168b['getGuid']()],_0x92f11d={'enabled':_0x42a6f9['data']['enabled'],'type':_0x42a6f9['data']['type'],'halfExtents':[_0x42a6f9['data']['halfExtent'+'s']['x'],_0x42a6f9['data']['halfExtent'+'s']['y'],_0x42a6f9['data']['halfExtent'+'s']['z']],'linearOffset':[_0x42a6f9['data']['linearOffs'+'et']['x'],_0x42a6f9['data']['linearOffs'+'et']['y'],_0x42a6f9['data']['linearOffs'+'et']['z']],'angularOffset':[_0x42a6f9['data']['angularOff'+'set']['x'],_0x42a6f9['data']['angularOff'+'set']['y'],_0x42a6f9['data']['angularOff'+'set']['z'],_0x42a6f9['data']['angularOff'+'set']['w']],'radius':_0x42a6f9['data']['radius'],'axis':_0x42a6f9['data']['axis'],'height':_0x42a6f9['data']['height'],'convexHull':_0x42a6f9['data']['convexHull'],'asset':_0x42a6f9['data']['asset'],'renderAsset':_0x42a6f9['data']['renderAsse'+'t'],'model':_0x42a6f9['data']['model'],'render':_0x42a6f9['data']['render'],'checkVertexDuplicates':_0x42a6f9['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x58fda0,_0x92f11d);}}class aR extends xn{['createPhys'+'icalShape'](_0xa3b76e,_0x345e4f){if(typeof Ammo<'u'){const _0x187ff9=_0x345e4f['halfExtent'+'s'],_0x240698=new Ammo['btVector3'](_0x187ff9?_0x187ff9['x']:-0x3a*0xd+-0x13*0x17+0x4a7+0.5,_0x187ff9?_0x187ff9['y']:-0x81f*0x4+0x379*-0x7+0x38cb+0.5,_0x187ff9?_0x187ff9['z']:0xd*-0x3+0x8*0x322+-0x18e9+0.5),_0x98358a=new Ammo['btBoxShape'](_0x240698);return Ammo['destroy'](_0x240698),_0x98358a;}}}class oR extends xn{['createPhys'+'icalShape'](_0xf19e04,_0x10b584){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x10b584['radius']);}}class lR extends xn{['createPhys'+'icalShape'](_0x51e7cd,_0x458a5a){const _0x1b9598=_0x458a5a['axis']??0x39*0x24+0x86*-0x43+0x1b0f*0x1,_0x3a18bd=_0x458a5a['radius']??0x1*0x23ef+-0xa*0xfe+-0x1a03+0.5,_0x3294c7=Math['max']((_0x458a5a['height']??0x75a+-0x1c3c+0x14e4)-(-0x2082+0x2*-0x617+0x2cb2)*_0x3a18bd,-0x1132*-0x1+-0x4*0x727+0x1*0xb6a);let _0x49a62d=null;if(typeof Ammo<'u')switch(_0x1b9598){case-0x743*0x5+-0x11f+0x256e:_0x49a62d=new Ammo['btCapsuleS'+'hapeX'](_0x3a18bd,_0x3294c7);break;case-0x12c6+-0x222*0xc+0x2c5f:_0x49a62d=new Ammo['btCapsuleS'+'hape'](_0x3a18bd,_0x3294c7);break;case 0x1*0x90a+-0x1*0x943+0x3b:_0x49a62d=new Ammo['btCapsuleS'+'hapeZ'](_0x3a18bd,_0x3294c7);break;}return _0x49a62d;}}class hR extends xn{['createPhys'+'icalShape'](_0x1a27e1,_0x174a88){const _0x415724=_0x174a88['axis']??-0x1*-0x8d5+-0x214*0xc+0x1*0x101c,_0x12dc4d=_0x174a88['radius']??-0x673*0x6+0x1*0xd76+0x193c+0.5,_0x335c5c=_0x174a88['height']??0x916*-0x4+-0x1a65+0x2*0x1f5f;let _0x2b0b39=null,_0x59f530=null;if(typeof Ammo<'u')switch(_0x415724){case-0xa67+-0x1b53*0x1+0x25ba:_0x2b0b39=new Ammo['btVector3'](_0x335c5c*(-0x1*0x1aeb+-0x26*-0x6f+-0x51*-0x21+0.5),_0x12dc4d,_0x12dc4d),_0x59f530=new Ammo['btCylinder'+'ShapeX'](_0x2b0b39);break;case-0x107+0x1*0x1451+0x1*-0x1349:_0x2b0b39=new Ammo['btVector3'](_0x12dc4d,_0x335c5c*(-0x14fc+0xa79*0x1+0xa83+0.5),_0x12dc4d),_0x59f530=new Ammo['btCylinder'+'Shape'](_0x2b0b39);break;case-0x1c4e+-0x2*-0x8fa+0xa5c:_0x2b0b39=new Ammo['btVector3'](_0x12dc4d,_0x12dc4d,_0x335c5c*(0xda*-0xf+-0x5d*-0x35+-0x67b+0.5)),_0x59f530=new Ammo['btCylinder'+'ShapeZ'](_0x2b0b39);break;}return _0x2b0b39&&Ammo['destroy'](_0x2b0b39),_0x59f530;}}class cR extends xn{['createPhys'+'icalShape'](_0x450d6f,_0x52c362){const _0x297083=_0x52c362['axis']??0x1*-0x2345+0x1a64+0x471*0x2,_0x5484d4=_0x52c362['radius']??-0xb03+0x2*0x557+0x55+0.5,_0x52ff15=_0x52c362['height']??0x127*0x17+-0x2db+-0x17a5*0x1;let _0x4e5efe=null;if(typeof Ammo<'u')switch(_0x297083){case 0x1258+0x1*0x1d2f+0x17*-0x211:_0x4e5efe=new Ammo['btConeShap'+'eX'](_0x5484d4,_0x52ff15);break;case-0x2*-0x7ab+0x2a*0x67+0x203b*-0x1:_0x4e5efe=new Ammo['btConeShap'+'e'](_0x5484d4,_0x52ff15);break;case-0x2250+-0x49*0x41+0x34db:_0x4e5efe=new Ammo['btConeShap'+'eZ'](_0x5484d4,_0x52ff15);break;}return _0x4e5efe;}}class dR extends xn{['beforeInit'+'ialize'](_0x5743ae,_0x308ecb){}['createAmmo'+'Hull'](_0x302468,_0x2b37dd,_0x3bb57e,_0x5b8801){const _0x472323=new Ammo['btConvexHu'+'llShape'](),_0x44f52c=new Ammo['btVector3'](),_0x1e9314=[];_0x302468['getPositio'+'ns'](_0x1e9314);for(let _0x2838f7=-0xf0c+-0x25e2+0x34ee;_0x2838f7<_0x1e9314['length'];_0x2838f7+=0x1861+0xd65+-0x25c3)_0x44f52c['setValue'](_0x1e9314[_0x2838f7]*_0x5b8801['x'],_0x1e9314[_0x2838f7+(-0x3*0xa04+-0x19d8+-0x29*-0x15d)]*_0x5b8801['y'],_0x1e9314[_0x2838f7+(0x4*-0x5d2+-0x1fc3*0x1+-0x1*-0x370d)]*_0x5b8801['z']),_0x472323['addPoint'](_0x44f52c,!(0x146*0x7+-0x1*0x2468+0x1b7f));Ammo['destroy'](_0x44f52c),_0x472323['recalcLoca'+'lAabb'](),_0x472323['setMargin'](-0x14+0x1*0x1b39+-0x1b25+0.01);const _0x1bebaa=this['system']['_getNodeTr'+'ansform'](_0x2b37dd);_0x3bb57e['addChildSh'+'ape'](_0x1bebaa,_0x472323),Ammo['destroy'](_0x1bebaa);}['createAmmo'+'Mesh'](_0x15ff24,_0x1f943d,_0x4da581,_0x30241d,_0x253d03=!(-0x7e9+0x184f+-0x1066*0x1)){const _0x528498=this['system'];let _0x54fae6;if(_0x528498['_triMeshCa'+'che'][_0x15ff24['id']])_0x54fae6=_0x528498['_triMeshCa'+'che'][_0x15ff24['id']];else{const _0x2a2c07=_0x15ff24['vertexBuff'+'er'],_0xbbc73a=_0x2a2c07['getFormat']();let _0x2a42f7,_0x421c3d;for(let _0x1ee457=-0x1b43+0xbc2+-0xbd*-0x15;_0x1ee457<_0xbbc73a['elements']['length'];_0x1ee457++){const _0x2df206=_0xbbc73a['elements'][_0x1ee457];if(_0x2df206['name']===He){_0x421c3d=new Float32Array(_0x2a2c07['lock'](),_0x2df206['offset']),_0x2a42f7=_0x2df206['stride']/(0x726+-0x141b+0xcf9);break;}}const _0x246fb6=[];_0x15ff24['getIndices'](_0x246fb6);const _0x7ccea=_0x15ff24['primitive'][0xdec+-0x1c0f+0xe23]['count']/(-0x1*0x245+0x1a5c+-0x1814),_0x2fa890=new Ammo['btVector3']();let _0x36ebea,_0x2e9cc0,_0x246936;const _0x1395ed=_0x15ff24['primitive'][0x174f+-0x1*-0xc1+-0x1810]['base'];_0x54fae6=new Ammo['btTriangle'+'Mesh'](),_0x528498['_triMeshCa'+'che'][_0x15ff24['id']]=_0x54fae6;const _0x1d9b59=new Map();v['assert'](typeof _0x54fae6['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x5d3b13=_0x54fae6['getIndexed'+'MeshArray']();_0x5d3b13['at'](-0x1eab*-0x1+-0x2499+-0x17*-0x42)['m_numTrian'+'gles']=_0x7ccea;const _0x50c6e1=_0x30241d?_0x30241d['x']:0xb*-0x33b+-0x6*0x4de+0x40be,_0x3be081=_0x30241d?_0x30241d['y']:-0x56*-0xf+-0xdf+-0x42a,_0x49ecf1=_0x30241d?_0x30241d['z']:0x21a5+-0xb*-0x167+-0x3111,_0x52398c=_0x574452=>{const _0xb1efdb=_0x421c3d[_0x574452*_0x2a42f7]*_0x50c6e1,_0x384a63=_0x421c3d[_0x574452*_0x2a42f7+(-0x1967+0x3b*-0x4d+-0x1*-0x2b27)]*_0x3be081,_0x201987=_0x421c3d[_0x574452*_0x2a42f7+(0x1d5f+-0x1*-0x1a13+0x377*-0x10)]*_0x49ecf1;let _0x42fe73;if(_0x253d03){const _0x5aabb7=_0xb1efdb+':'+_0x384a63+':'+_0x201987;if(_0x42fe73=_0x1d9b59['get'](_0x5aabb7),_0x42fe73!==void(0xa*0x377+-0x824+0xea*-0x1d))return _0x42fe73;_0x2fa890['setValue'](_0xb1efdb,_0x384a63,_0x201987),_0x42fe73=_0x54fae6['findOrAddV'+'ertex'](_0x2fa890,!(0x2290+0x2*0x6ac+0x2fe7*-0x1)),_0x1d9b59['set'](_0x5aabb7,_0x42fe73);}else _0x2fa890['setValue'](_0xb1efdb,_0x384a63,_0x201987),_0x42fe73=_0x54fae6['findOrAddV'+'ertex'](_0x2fa890,!(0xfe7+0x4b9+-0x149f));return _0x42fe73;};for(let _0x29a2ac=-0x479+0x6*0x6b+0x1f7;_0x29a2ac<_0x7ccea;_0x29a2ac++)_0x36ebea=_0x52398c(_0x246fb6[_0x1395ed+_0x29a2ac*(0x1f5b+0x1*-0x5e1+-0x1977)]),_0x2e9cc0=_0x52398c(_0x246fb6[_0x1395ed+_0x29a2ac*(0x943*0x1+0x2*-0x5f1+0x2a2)+(0x72c+-0x45c+-0x2cf*0x1)]),_0x246936=_0x52398c(_0x246fb6[_0x1395ed+_0x29a2ac*(-0x1*-0x6be+0x1a22+-0x20dd*0x1)+(-0x9a0+-0x1*0x16a9+0x204b)]),_0x54fae6['addIndex'](_0x36ebea),_0x54fae6['addIndex'](_0x2e9cc0),_0x54fae6['addIndex'](_0x246936);Ammo['destroy'](_0x2fa890);}const _0xbb3507=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x54fae6,!(0x7a6*0x2+-0x12c9+0x1*0x37d));if(!_0x30241d){const _0x46e0c8=_0x528498['_getNodeSc'+'aling'](_0x1f943d);_0xbb3507['setLocalSc'+'aling'](_0x46e0c8),Ammo['destroy'](_0x46e0c8);}const _0x48f5d4=_0x528498['_getNodeTr'+'ansform'](_0x1f943d);_0x4da581['addChildSh'+'ape'](_0x48f5d4,_0xbb3507),Ammo['destroy'](_0x48f5d4);}['createPhys'+'icalShape'](_0x339983,_0x2929f8){if(!(typeof Ammo>'u')&&(_0x2929f8['model']||_0x2929f8['render'])){const _0x57fc00=new Ammo['btCompound'+'Shape'](),_0x5be26e=_0x339983['getWorldTr'+'ansform']()['getScale']();if(_0x2929f8['render']){const _0x444fcc=_0x2929f8['render']['meshes'];for(let _0x314132=0x55e+0x1*0x1c83+0x4d7*-0x7;_0x314132<_0x444fcc['length'];_0x314132++)_0x2929f8['convexHull']?this['createAmmo'+'Hull'](_0x444fcc[_0x314132],cg,_0x57fc00,_0x5be26e):this['createAmmo'+'Mesh'](_0x444fcc[_0x314132],cg,_0x57fc00,_0x5be26e,_0x2929f8['checkVerte'+'xDuplicate'+'s']);}else{if(_0x2929f8['model']){const _0x5a3c20=_0x2929f8['model']['meshInstan'+'ces'];for(let _0x2281e3=-0x805*-0x1+-0x317+-0x4ee;_0x2281e3<_0x5a3c20['length'];_0x2281e3++)this['createAmmo'+'Mesh'](_0x5a3c20[_0x2281e3]['mesh'],_0x5a3c20[_0x2281e3]['node'],_0x57fc00,null,_0x2929f8['checkVerte'+'xDuplicate'+'s']);const _0x462dab=new Ammo['btVector3'](_0x5be26e['x'],_0x5be26e['y'],_0x5be26e['z']);_0x57fc00['setLocalSc'+'aling'](_0x462dab),Ammo['destroy'](_0x462dab);}}return _0x57fc00;}}['recreatePh'+'ysicalShap'+'es'](_0x443f9a){const _0x5d483b=_0x443f9a['data'];if((_0x5d483b['renderAsse'+'t']||_0x5d483b['asset'])&&_0x443f9a['enabled']&&_0x443f9a['entity']['enabled']){this['loadAsset'](_0x443f9a,_0x5d483b['renderAsse'+'t']||_0x5d483b['asset'],_0x5d483b['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x443f9a);}['loadAsset'](_0x2006bf,_0x35fe60,_0x22de7f){const _0x29d1ab=_0x2006bf['data'],_0x4e8359=this['system']['app']['assets'],_0x199ab2=_0x29d1ab[_0x22de7f],_0x1194d4=_0x21f560=>{_0x29d1ab[_0x22de7f]===_0x199ab2&&(_0x29d1ab[_0x22de7f]=_0x21f560['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x2006bf));},_0x274c12=_0x39788a=>{_0x39788a['ready'](_0x28602a=>{if(_0x28602a['data']['containerA'+'sset']){const _0x4c98a4=_0x4e8359['get'](_0x28602a['data']['containerA'+'sset']);_0x4c98a4['loaded']?_0x1194d4(_0x28602a):(_0x4c98a4['ready'](()=>{_0x1194d4(_0x28602a);}),_0x4e8359['load'](_0x4c98a4));}else _0x1194d4(_0x28602a);}),_0x4e8359['load'](_0x39788a);},_0x3ca43e=_0x4e8359['get'](_0x35fe60);_0x3ca43e?_0x274c12(_0x3ca43e):_0x4e8359['once']('add:'+_0x35fe60,_0x274c12);}['doRecreate'+'PhysicalSh'+'ape'](_0x179872){const _0x1ffb2c=_0x179872['entity'],_0x4df343=_0x179872['data'];_0x4df343['model']||_0x4df343['render']?(this['destroySha'+'pe'](_0x4df343),_0x4df343['shape']=this['createPhys'+'icalShape'](_0x1ffb2c,_0x4df343),_0x1ffb2c['rigidbody']?(_0x1ffb2c['rigidbody']['disableSim'+'ulation'](),_0x1ffb2c['rigidbody']['createBody'](),_0x1ffb2c['enabled']&&_0x1ffb2c['rigidbody']['enabled']&&_0x1ffb2c['rigidbody']['enableSimu'+'lation']()):_0x1ffb2c['trigger']?_0x1ffb2c['trigger']['initialize'](_0x4df343):_0x1ffb2c['trigger']=new sx(this['system']['app'],_0x179872,_0x4df343)):(this['beforeRemo'+'ve'](_0x1ffb2c,_0x179872),this['remove'](_0x1ffb2c,_0x4df343));}['updateTran'+'sform'](_0x487d68,_0x25f994,_0x29141b,_0xf26e93){if(_0x487d68['shape']){const _0x1dd6bd=_0x487d68['entity']['getWorldTr'+'ansform']()['getScale'](),_0x1f840a=_0x487d68['shape']['getLocalSc'+'aling']();(_0x1dd6bd['x']!==_0x1f840a['x']()||_0x1dd6bd['y']!==_0x1f840a['y']()||_0x1dd6bd['z']!==_0x1f840a['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x487d68);}super['updateTran'+'sform'](_0x487d68,_0x25f994,_0x29141b,_0xf26e93);}['destroySha'+'pe'](_0x3e2abe){if(!_0x3e2abe['shape'])return;const _0x5ad874=_0x3e2abe['shape']['getNumChil'+'dShapes']();for(let _0x346e93=-0x2377+0x14*-0x1a0+-0x89*-0x7f;_0x346e93<_0x5ad874;_0x346e93++){const _0x463413=_0x3e2abe['shape']['getChildSh'+'ape'](_0x346e93);Ammo['destroy'](_0x463413);}Ammo['destroy'](_0x3e2abe['shape']),_0x3e2abe['shape']=null;}}class uR extends xn{['createPhys'+'icalShape'](_0x4451ce,_0x52433f){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x29fdb9){!_0x29fdb9['collision']||_0x29fdb9['rigidbody']||(_0x29fdb9['collision']['_compoundP'+'arent']=this,_0x29fdb9!==this['entity']&&_0x29fdb9['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x29fdb9['collision']));}['_updateEac'+'hDescendan'+'t'](_0x50572f){_0x50572f['collision']&&_0x50572f['collision']['_compoundP'+'arent']===this&&(_0x50572f['collision']['_compoundP'+'arent']=null,_0x50572f!==this['entity']&&!_0x50572f['rigidbody']&&_0x50572f['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x50572f['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x2c61d1){!_0x2c61d1['collision']||_0x2c61d1['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x2c61d1,!(-0x7b6*0x2+0x2e7*-0x1+0x1254));}}class fR extends Xe{constructor(_0x154d81){super(_0x154d81),this['id']='collision',this['ComponentT'+'ype']=Yn,this['DataType']=JP,this['schema']=nR,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x5ba35d,_0x2adaba,_0x985e7f){_0x985e7f=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x13d9f8={};for(let _0xbdb25d=-0x23a*0xb+-0x1c94+0x1a89*0x2,_0x33f8d6=_0x985e7f['length'];_0xbdb25d<_0x33f8d6;_0xbdb25d++){const _0x405458=_0x985e7f[_0xbdb25d];_0x13d9f8[_0x405458]=_0x2adaba[_0x405458];}let _0x53aec8;if(_0x2adaba['hasOwnProp'+'erty']('asset')?(_0x53aec8=_0x985e7f['indexOf']('model'),_0x53aec8!==-(-0xad4+-0x2*-0x8d+0x9bb)&&_0x985e7f['splice'](_0x53aec8,-0x2*0x12b5+0x1cbd+0x8ae),_0x53aec8=_0x985e7f['indexOf']('render'),_0x53aec8!==-(-0x15f9+-0x6a7+0x15d*0x15)&&_0x985e7f['splice'](_0x53aec8,0x78b*-0x4+0x1263*-0x1+0x10*0x309)):_0x2adaba['hasOwnProp'+'erty']('model')&&(_0x53aec8=_0x985e7f['indexOf']('asset'),_0x53aec8!==-(-0x1fa4+0x2f*0xb1+-0x6d*0x2)&&_0x985e7f['splice'](_0x53aec8,0x19*0x114+0x633*0x2+0x2759*-0x1)),_0x13d9f8['type']||(_0x13d9f8['type']=_0x5ba35d['data']['type']),_0x5ba35d['data']['type']=_0x13d9f8['type'],Array['isArray'](_0x13d9f8['halfExtent'+'s'])&&(_0x13d9f8['halfExtent'+'s']=new T(_0x13d9f8['halfExtent'+'s'])),Array['isArray'](_0x13d9f8['linearOffs'+'et'])&&(_0x13d9f8['linearOffs'+'et']=new T(_0x13d9f8['linearOffs'+'et'])),Array['isArray'](_0x13d9f8['angularOff'+'set'])){const _0x40baa6=_0x13d9f8['angularOff'+'set'];_0x40baa6['length']===0x29b+-0x10c7+0xe2f?_0x13d9f8['angularOff'+'set']=new se()['setFromEul'+'erAngles'](_0x40baa6[0x21*0x23+0x19cb*-0x1+0x1548],_0x40baa6[-0xf43*-0x1+-0x10df+0x19d],_0x40baa6[0x22ef+0x1712+-0x65*0x93]):_0x13d9f8['angularOff'+'set']=new se(_0x13d9f8['angularOff'+'set']);}const _0x21ea00=this['_createImp'+'lementatio'+'n'](_0x13d9f8['type']);_0x21ea00['beforeInit'+'ialize'](_0x5ba35d,_0x13d9f8),super['initialize'+'ComponentD'+'ata'](_0x5ba35d,_0x13d9f8,_0x985e7f),_0x21ea00['afterIniti'+'alize'](_0x5ba35d,_0x13d9f8);}['_createImp'+'lementatio'+'n'](_0x9ce795){if(this['implementa'+'tions'][_0x9ce795]===void(-0x6c1+-0x18b+0x84c)){let _0x25a2ed;switch(_0x9ce795){case'box':_0x25a2ed=new aR(this);break;case'sphere':_0x25a2ed=new oR(this);break;case'capsule':_0x25a2ed=new lR(this);break;case'cylinder':_0x25a2ed=new hR(this);break;case'cone':_0x25a2ed=new cR(this);break;case'mesh':_0x25a2ed=new dR(this);break;case'compound':_0x25a2ed=new uR(this);break;default:v['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x9ce795);}this['implementa'+'tions'][_0x9ce795]=_0x25a2ed;}return this['implementa'+'tions'][_0x9ce795];}['_getImplem'+'entation'](_0x5113c3){return this['implementa'+'tions'][_0x5113c3['collision']['data']['type']];}['cloneCompo'+'nent'](_0x4715fa,_0x25dfd3){return this['_getImplem'+'entation'](_0x4715fa)['clone'](_0x4715fa,_0x25dfd3);}['onBeforeRe'+'move'](_0x4f8f3c,_0x37afed){this['implementa'+'tions'][_0x37afed['data']['type']]['beforeRemo'+'ve'](_0x4f8f3c,_0x37afed),_0x37afed['onBeforeRe'+'move']();}['onRemove'](_0x44fb67,_0x1d3a5f){this['implementa'+'tions'][_0x1d3a5f['type']]['remove'](_0x44fb67,_0x1d3a5f);}['updateComp'+'oundChildT'+'ransform'](_0x21208a,_0x2d91e2){const _0x368408=_0x21208a['collision']['_compoundP'+'arent'];if(_0x368408!==_0x21208a['collision']&&_0x21208a['enabled']&&_0x21208a['collision']['enabled']&&(_0x21208a['_dirtyLoca'+'l']||_0x2d91e2)){const _0x1104ed=this['_getNodeTr'+'ansform'](_0x21208a,_0x368408['entity']),_0x3dd6fb=_0x368408['getCompoun'+'dChildShap'+'eIndex'](_0x21208a['collision']['shape']);_0x3dd6fb===null?_0x368408['shape']['addChildSh'+'ape'](_0x1104ed,_0x21208a['collision']['data']['shape']):_0x368408['shape']['updateChil'+'dTransform'](_0x3dd6fb,_0x1104ed,!(-0x1*-0x20af+0x1748+0x37f7*-0x1)),Ammo['destroy'](_0x1104ed);}}['_removeCom'+'poundChild'](_0x4c2a99,_0x264091){if(_0x4c2a99['shape']['getNumChil'+'dShapes']()!==-0x151*0xf+-0x6c2+0x1a81){if(_0x4c2a99['shape']['removeChil'+'dShape'])_0x4c2a99['shape']['removeChil'+'dShape'](_0x264091);else{const _0x48cf56=_0x4c2a99['getCompoun'+'dChildShap'+'eIndex'](_0x264091);_0x48cf56!==null&&_0x4c2a99['shape']['removeChil'+'dShapeByIn'+'dex'](_0x48cf56);}}}['onTransfor'+'mChanged'](_0x4075bd,_0x3f76db,_0x4b6913,_0xe550d7){this['implementa'+'tions'][_0x4075bd['data']['type']]['updateTran'+'sform'](_0x4075bd,_0x3f76db,_0x4b6913,_0xe550d7);}['changeType'](_0x11c768,_0x24fd3f,_0x3d17ea){this['implementa'+'tions'][_0x24fd3f]['beforeRemo'+'ve'](_0x11c768['entity'],_0x11c768),this['implementa'+'tions'][_0x24fd3f]['remove'](_0x11c768['entity'],_0x11c768['data']),this['_createImp'+'lementatio'+'n'](_0x3d17ea)['reset'](_0x11c768,_0x11c768['data']);}['recreatePh'+'ysicalShap'+'es'](_0x25a748){this['implementa'+'tions'][_0x25a748['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x25a748);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x5212ff,_0x3db445){if(_0x5212ff===_0x3db445){const _0x2e5650=_0x5212ff['getWorldTr'+'ansform']()['getScale']();Xl['setScale'](_0x2e5650['x'],_0x2e5650['y'],_0x2e5650['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x5212ff['parent'],_0x3db445),Xl['mul'](_0x5212ff['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x434a65){const _0x12fbc8=_0x434a65['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x12fbc8['x'],_0x12fbc8['y'],_0x12fbc8['z']);}['_getNodeTr'+'ansform'](_0x364b65,_0x57bb98){let _0x30064e,_0x142ff9;_0x57bb98?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x364b65,_0x57bb98),_0x30064e=iR,_0x142ff9=Cr,Xl['getTransla'+'tion'](_0x30064e),_0x142ff9['setFromMat'+'4'](Xl)):(_0x30064e=_0x364b65['getPositio'+'n'](),_0x142ff9=_0x364b65['getRotatio'+'n']());const _0x40e750=new Ammo['btQuaterni'+'on'](),_0x51acb9=new Ammo['btTransfor'+'m']();_0x51acb9['setIdentit'+'y']();const _0x417e00=_0x51acb9['getOrigin'](),_0x3670a8=_0x364b65['collision'];if(_0x3670a8&&_0x3670a8['_hasOffset']){const _0x3b9717=_0x3670a8['data']['linearOffs'+'et'],_0xdd986b=_0x3670a8['data']['angularOff'+'set'],_0x4ff1fd=rR;Cr['copy'](_0x142ff9)['transformV'+'ector'](_0x3b9717,_0x4ff1fd),_0x4ff1fd['add'](_0x30064e),Cr['copy'](_0x142ff9)['mul'](_0xdd986b),_0x417e00['setValue'](_0x4ff1fd['x'],_0x4ff1fd['y'],_0x4ff1fd['z']),_0x40e750['setValue'](Cr['x'],Cr['y'],Cr['z'],Cr['w']);}else _0x417e00['setValue'](_0x30064e['x'],_0x30064e['y'],_0x30064e['z']),_0x40e750['setValue'](_0x142ff9['x'],_0x142ff9['y'],_0x142ff9['z'],_0x142ff9['w']);return _0x51acb9['setRotatio'+'n'](_0x40e750),Ammo['destroy'](_0x40e750),_0x51acb9;}['destroy'](){for(const _0x317135 in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x317135]);this['_triMeshCa'+'che']=null,super['destroy']();}}const jl=new Y(),pR=new Ot();class mR{constructor(_0x3c97b1,_0x3a0ab5,_0x3f5696){this['_entity']=_0x3c97b1,this['_element']=_0x3c97b1['element'],this['model']=new Oi(),this['node']=new De(),this['model']['graph']=this['node'],this['mesh']=_0x3a0ab5,this['meshInstan'+'ce']=new Le(this['mesh'],_0x3f5696,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x3c97b1['name'],this['meshInstan'+'ce']['castShadow']=!(-0x19d6+-0x1aea+0x34c1),this['meshInstan'+'ce']['receiveSha'+'dow']=!(-0x1499*0x1+-0x2473+0x73*0x7f),this['_meshDirty']=!(-0xb*-0x2cd+0x658+-0xf*0x27a),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x239dbd,_0x4e4995;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x239dbd=this['meshInstan'+'ce'])==null||_0x239dbd['destroy'](),this['meshInstan'+'ce']=null,(_0x4e4995=this['unmaskMesh'+'Instance'])==null||_0x4e4995['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x3f63da){this['meshInstan'+'ce']&&(this['mesh']=_0x3f63da,this['meshInstan'+'ce']['mesh']=_0x3f63da,this['meshInstan'+'ce']['visible']=!!_0x3f63da,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x3f63da),this['forceUpdat'+'eAabb']());}['setMask'](_0x2afbe4){var _0x29a1f0;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x2afbe4){this['unmaskMesh'+'Instance']=new Le(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(-0x33d*0x5+0x166a+-0x638),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(0x79*-0x47+0x28e*-0xd+0x4a*0xe7),this['unmaskMesh'+'Instance']['pick']=!(0x1069*0x1+-0x1237+0x1cf),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x3e4ffe in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x3e4ffe,this['meshInstan'+'ce']['parameters'][_0x3e4ffe]['data']);}else{const _0x2ce46c=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x2ce46c>=0x7*-0x376+0x1a5*0x12+-0x560&&this['model']['meshInstan'+'ces']['splice'](_0x2ce46c,-0x15a4+-0xbe2+0x2187);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x2afbe4||((_0x29a1f0=this['unmaskMesh'+'Instance'])==null||_0x29a1f0['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x53d161){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x53d161,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x53d161));}['setParamet'+'er'](_0x5c2ad8,_0x319bca){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x5c2ad8,_0x319bca),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x5c2ad8,_0x319bca));}['deletePara'+'meter'](_0xc208c4){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0xc208c4),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0xc208c4));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0xf0fb7=function(_0x55c1c0){let _0x48a56d;const _0x2494fc=_0x55c1c0['children'],_0x147a9e=_0x2494fc['length'];if(_0x147a9e){for(let _0x50919a=-0x1734+-0x1763+0x2e97;_0x50919a<_0x147a9e;_0x50919a++)_0x2494fc[_0x50919a]['element']&&(_0x48a56d=_0x2494fc[_0x50919a]);if(!_0x48a56d)return null;const _0x1026d2=_0xf0fb7(_0x48a56d);return _0x1026d2||_0x48a56d;}return null;};if(this['unmaskMesh'+'Instance']){const _0x1ae96f=_0xf0fb7(this['_entity']);_0x1ae96f&&_0x1ae96f['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x1ae96f['element']['drawOrder']+_0x1ae96f['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),v['trace'](Ss,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0xe47c90){this['meshInstan'+'ce']&&(v['trace'](Ss,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0xe47c90),this['meshInstan'+'ce']['drawOrder']=_0xe47c90);}['setCull'](_0x29e026){if(!this['meshInstan'+'ce'])return;const _0x4c72a1=this['_element'];let _0x4cda48=null;_0x29e026&&_0x4c72a1['_isScreenS'+'pace']()&&(_0x4cda48=function(_0x33c032){return _0x4c72a1['isVisibleF'+'orCamera'](_0x33c032);}),this['meshInstan'+'ce']['cull']=_0x29e026,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x4cda48,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x29e026,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x4cda48);}['setScreenS'+'pace'](_0x5f1fc2){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x5f1fc2,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x5f1fc2));}['setLayer'](_0x23b328){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x23b328,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x23b328));}['forceUpdat'+'eAabb'](_0xcbb5cf){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(0xb*0x115+-0x1*0x37b+-0x86b*0x1),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(0x11*-0x44+0x1*0x210a+-0x1*0x1c85)));}['setAabbFun'+'c'](_0x5a11d3){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x5a11d3,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x5a11d3));}}class _R{constructor(_0x192a8b){c(this,'_evtSetMes'+'hes',null),(this['_element']=_0x192a8b,this['_entity']=_0x192a8b['entity'],this['_system']=_0x192a8b['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=-0x3da*0x7+-0xde8+0x28de,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(-0x15cc+-0x1dc4+0x3391),this['_rect']=new Q(-0x60d+-0x264b+-0x4*-0xb16,-0x16af*0x1+-0x129d+0x294c,-0x2*0x1187+0x1b08+0x807,0x26cf+0x4*-0x691+0x3*-0x42e),this['_mask']=!(0xd*-0x1af+-0x2*0x913+-0xcd*-0x32),this['_maskRef']=0x1eb3+0x1*-0xe4+-0x1dcf,this['_outerScal'+'e']=new W(),this['_outerScal'+'eUniform']=new Float32Array(-0x5e*-0x1f+-0x1647*0x1+0x1*0xae7),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(-0x1b*0x75+0x948+0x313),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(-0x17f9+-0x2034+-0x19b*-0x23),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new mR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new Y(0xb3*0x3+0x757*0x2+-0x10c6*0x1,0x755*0x5+0x1e13+-0x42bb,0x20e5+-0x171d+-0x9c7,0x25*0x5f+-0x189d+-0x1*-0xae3),this['_colorUnif'+'orm']=new Float32Array([0x10bd+-0x11*-0x10d+0x1*-0x2299,0x247f+-0x957+-0x1b27,0x1ccd+-0x3*0x1e9+0x49d*-0x5]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',-0xab6+0x1b56+0x1*-0x109f),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x16db7b){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x59bd2f){this['_updateMat'+'erial'](_0x59bd2f);}['_onScreenC'+'hange'](_0x2c4a4a,_0x240347){_0x2c4a4a?this['_updateMat'+'erial'](_0x2c4a4a['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x2ae+-0x246d*-0x1+0x10df*-0x2));}['_onDrawOrd'+'erChange'](_0x16b03c){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x16b03c),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(0x1*-0x1066+0xc99*-0x3+0x3632);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe);}['_updateMat'+'erial'](_0x325f3c){const _0x21d691=!!this['_mask'],_0x206bbb=!!(this['sprite']&&this['sprite']['renderMode']===nt),_0x542a85=!!(this['sprite']&&this['sprite']['renderMode']===Qe);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x325f3c,_0x21d691,_0x206bbb,_0x542a85)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x325f3c),this['_renderabl'+'e']['setLayer'](_0x325f3c?Ub:c0));}['_createMes'+'h'](){const _0x24d5a6=this['_element'],_0x580ee6=_0x24d5a6['calculated'+'Width'],_0xb8d1d4=_0x24d5a6['calculated'+'Height'],_0xb245ef=this['_rect'],_0x37cd81=this['_system']['app']['graphicsDe'+'vice'],_0x2c8d59=new Float32Array([_0x580ee6,0x54f+-0x909+0x2*0x1dd,-0x2349+0x20b9+0x10*0x29,0x7*-0x239+0x607+0x988,0x3*0x10c+0xb*-0x2ab+0x1a35,0x8ef*0x2+-0x1172+-0x6b,_0xb245ef['x']+_0xb245ef['z'],0xbe3+0x1*0x12c3+-0x1ea5-_0xb245ef['y'],_0x580ee6,_0xb8d1d4,0x1a*0xa3+0x66a+-0x38*0x69,0x5a4+0x202*-0x1+0xf*-0x3e,-0x2*-0xf53+0x3ff*0x6+-0x36a0,-0x2*-0xe4f+-0x165+-0x1b38,_0xb245ef['x']+_0xb245ef['z'],-0x21fe+-0xc*0x2d+-0x2c7*-0xd-(_0xb245ef['y']+_0xb245ef['w']),-0x4bd*0x1+0x1973+-0x1*0x14b6,-0x4*0x775+0x1*-0x1df1+0x3bc5,-0x12b0+-0x3*-0x9e9+-0xb0b,0xbe8+-0x139*-0x1+-0xd21,-0x1fe2+-0x222b*0x1+-0x25*-0x1c9,0x251c+-0x17*0xa5+-0x1648,_0xb245ef['x'],-0x244a+-0x10c*-0x18+0xb2b-_0xb245ef['y'],-0x1d3+-0xcc4*-0x2+-0x17b5*0x1,_0xb8d1d4,0x6d6+-0x1*0x3d3+-0x303,0x2db+-0x1af6+0x181b,-0x24a6+0xa7*0x35+0x213,0x11*-0x20b+-0x41a+-0x26d6*-0x1,_0xb245ef['x'],0x1ec3+-0x3*0x277+0x175d*-0x1-(_0xb245ef['y']+_0xb245ef['w'])]),_0x26acad=pR['get'](_0x37cd81,()=>new Et(_0x37cd81,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':Yt,'components':0x3,'type':Ee},{'semantic':ns,'components':0x2,'type':Ee}])),_0x34def9=new os(_0x37cd81,_0x26acad,-0x177f+0x274+0x1*0x150f,{'data':_0x2c8d59['buffer']}),_0x5a3e68=new Ie(_0x37cd81);return _0x5a3e68['vertexBuff'+'er']=_0x34def9,_0x5a3e68['primitive'][0x1a7d*-0x1+-0xdc9*-0x2+-0x115]['type']=ar,_0x5a3e68['primitive'][-0xc43+-0xa7c*-0x3+0x1331*-0x1]['base']=-0x3*0x54c+0x1*-0x1753+0x2737,_0x5a3e68['primitive'][-0xa6c+0x1*-0x469+0xed5]['count']=0x15e8+-0x10a4*-0x2+0xdcb*-0x4,_0x5a3e68['primitive'][-0x231c+0x1e65+-0x1*-0x4b7]['indexed']=!(0x1*-0x1ad6+0x2532*-0x1+-0x4009*-0x1),_0x5a3e68['aabb']['setMinMax'](T['ZERO'],new T(_0x580ee6,_0xb8d1d4,-0xc0*-0x32+-0x14de+-0x10a2)),this['_updateMes'+'h'](_0x5a3e68),_0x5a3e68;}['_updateMes'+'h'](_0x3a30c0){const _0x4a47cb=this['_element'];let _0x237f3c=_0x4a47cb['calculated'+'Width'],_0x5f0d75=_0x4a47cb['calculated'+'Height'];if(_0x4a47cb['fitMode']!==gh&&this['_targetAsp'+'ectRatio']>0xdb5+-0x7*0x287+-0x6*-0xaa){const _0x4ef1d7=_0x4a47cb['calculated'+'Width']/_0x4a47cb['calculated'+'Height'];_0x4a47cb['fitMode']===YP&&_0x4ef1d7>this['_targetAsp'+'ectRatio']||_0x4a47cb['fitMode']===KP&&_0x4ef1d7<this['_targetAsp'+'ectRatio']?_0x237f3c=_0x4a47cb['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x5f0d75=_0x4a47cb['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x3dd2c6=_0x4a47cb['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x3dd2c6),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){const _0x5bf3fa=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x38b36c=(-0x14ae+-0x1*0x3cd+0x187d)/_0x5bf3fa['rect']['z'],_0x12d132=(-0x1a18+-0x96b*0x1+-0x7*-0x513)/_0x5bf3fa['rect']['w'];this['_innerOffs'+'et']['set'](_0x5bf3fa['border']['x']*_0x38b36c,_0x5bf3fa['border']['y']*_0x12d132,_0x5bf3fa['border']['z']*_0x38b36c,_0x5bf3fa['border']['w']*_0x12d132);const _0x280800=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x5bf3fa['rect']['x']/_0x280800['width'],_0x5bf3fa['rect']['y']/_0x280800['height'],_0x5bf3fa['rect']['z']/_0x280800['width'],_0x5bf3fa['rect']['w']/_0x280800['height']);const _0x267c1e=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0xd92760=_0x5bf3fa['rect']['z']/_0x267c1e,_0x5c6aa7=_0x5bf3fa['rect']['w']/_0x267c1e;this['_outerScal'+'e']['set'](Math['max'](_0x237f3c,this['_innerOffs'+'et']['x']*_0xd92760),Math['max'](_0x5f0d75,this['_innerOffs'+'et']['y']*_0x5c6aa7));let _0x1b1846=_0xd92760,_0x431abc=_0x5c6aa7;this['_outerScal'+'e']['x']/=_0xd92760,this['_outerScal'+'e']['y']/=_0x5c6aa7,_0x1b1846*=N['clamp'](_0x237f3c/(this['_innerOffs'+'et']['x']*_0xd92760),0x1c9f*-0x1+0xc0b+0x1094+0.0001,-0x1*-0x22cf+-0x11*0x139+0x61*-0x25),_0x431abc*=N['clamp'](_0x5f0d75/(this['_innerOffs'+'et']['y']*_0x5c6aa7),-0x1bf5+0x3*-0x25d+0x230c+0.0001,0x1f29+-0x1055+-0xed3),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][-0x3aa+-0x429*-0x2+-0x4a8*0x1]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x297+0x1e4f+0x58b*-0x5]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x28*0x50+0x6*0x5f+0xa48]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0xf9+0x5*-0xce+0x310]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x107*0x1f+0x7*-0x374+0x3805*0x1]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x1*-0xdda+-0x134f+-0xa*-0x351]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x23b1+0x2*-0x1e5+-0x1fe5]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x263*-0x5+-0x1647*0x1+0xa5b]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][-0xbc6*0x2+-0x1c6b+0x33f7]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x4*0x981+-0x1*-0x8bf+-0x276*0x13]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x1b1846,_0x431abc,-0x3*-0x459+0x13*-0x43+-0x127*0x7),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((0xc06+-0x1d03+-0x1*-0x10fd+0.5-_0x4a47cb['pivot']['x'])*_0x237f3c,(0xa0b*0x3+-0x33b*-0xb+-0x52*0xcd+0.5-_0x4a47cb['pivot']['y'])*_0x5f0d75,0x5e0+-0x1fee+0x1a0e));}else{const _0x42bf6b=_0x3a30c0['vertexBuff'+'er'],_0x47b00d=new Float32Array(_0x42bf6b['lock']()),_0x1d7555=_0x4a47cb['pivot']['x'],_0x145dcb=_0x4a47cb['pivot']['y'];_0x47b00d[0x629+-0xbd0+0x5a7*0x1]=_0x237f3c-_0x1d7555*_0x237f3c,_0x47b00d[0x523*0x1+0xf*-0x213+0x3*0x8a9]=0x851*-0x1+-0x7cd*0x1+-0x101e*-0x1-_0x145dcb*_0x5f0d75,_0x47b00d[0x608+0x257d*-0x1+0x1f7d]=_0x237f3c-_0x1d7555*_0x237f3c,_0x47b00d[0x1002*-0x1+0x1d6d+0x6b1*-0x2]=_0x5f0d75-_0x145dcb*_0x5f0d75,_0x47b00d[-0x1703+-0x7d9+0x1eec]=0xd*0x1b+-0xd48*0x1+0xbe9-_0x1d7555*_0x237f3c,_0x47b00d[0x2d3+0x759+0xc7*-0xd]=0xe3*0x1f+-0x3*-0x395+-0x263c-_0x145dcb*_0x5f0d75,_0x47b00d[-0x315*-0xc+0x12e*-0x7+-0x1ca2]=-0x13*0x4f+-0x1*-0xabd+-0x4e0-_0x1d7555*_0x237f3c,_0x47b00d[-0x1*0x1fc5+-0x6e5+-0x26c3*-0x1]=_0x5f0d75-_0x145dcb*_0x5f0d75;let _0x13a6f8=0x4fa+0x969+-0x107*0xe,_0x5b9654=0x9*-0x306+0xd*-0x128+0x15*0x203,_0x671dbe=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x572bf6=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x572bf6&&(_0x671dbe=_0x572bf6['rect'],_0x13a6f8=this['_sprite']['atlas']['texture']['width'],_0x5b9654=this['_sprite']['atlas']['texture']['height']);}_0x47b00d[-0x17*0xcd+0x2645*-0x1+0x11*0x356]=(_0x671dbe['x']+_0x671dbe['z'])/_0x13a6f8,_0x47b00d[-0x15eb+-0x5*0x729+0x39bf]=-0xacb+-0x3*-0x1f6+0x4ea-_0x671dbe['y']/_0x5b9654,_0x47b00d[0x1a*-0x36+0x538*0x5+-0x148e]=(_0x671dbe['x']+_0x671dbe['z'])/_0x13a6f8,_0x47b00d[0x829*-0x4+0x112+-0x3*-0xa8b]=0x1213+0x9ab+-0x107*0x1b-(_0x671dbe['y']+_0x671dbe['w'])/_0x5b9654,_0x47b00d[0x26*0x71+-0xc41*0x2+0x7d2]=_0x671dbe['x']/_0x13a6f8,_0x47b00d[0x1ab8+-0x18c5*-0x1+-0x56*0x99]=-0x17c6+-0x81+0x1848-_0x671dbe['y']/_0x5b9654,_0x47b00d[0xb55+-0x199*-0xd+-0x1ffc]=_0x671dbe['x']/_0x13a6f8,_0x47b00d[0xc08*-0x2+-0x26cb+0xa7f*0x6]=0x1ac6+-0x1183*0x2+-0x841*-0x1-(_0x671dbe['y']+_0x671dbe['w'])/_0x5b9654,_0x42bf6b['unlock']();const _0x20ae00=new T(-0x5*-0x59+-0x3*-0xa09+-0x8*0x3fb-_0x1d7555*_0x237f3c,0x1ff0+-0x1c*0xa4+0x1*-0xe00-_0x145dcb*_0x5f0d75,0x3e8+-0x67d*0x5+-0x1c89*-0x1),_0x342462=new T(_0x237f3c-_0x1d7555*_0x237f3c,_0x5f0d75-_0x145dcb*_0x5f0d75,0x285*0xf+0x94f+0x2f1a*-0x1);_0x3a30c0['aabb']['setMinMax'](_0x20ae00,_0x342462),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](0x1e*0x91+0x18b+-0x1288,0x10*-0x10c+-0x31*-0x6d+-0x41c,-0xbb7+-0x409+-0x6d*-0x25),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](0x12a2+-0xd7c+-0x526,0x9ff+-0x31*0x98+0x1319,-0x70b+-0x1*0x188f+-0x1*-0x1f9a),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(-0x5*0x370+0x12bf+0x1*-0x18e);}['_updateSpr'+'ite'](){let _0x2277b9=!(-0x18e3+-0x632+0x17*0x15a),_0x2cdfb4=null;if(this['_targetAsp'+'ectRatio']=-(-0x17d+0x1*-0x3c1+-0x1*-0x53f),this['_sprite']&&this['_sprite']['atlas']){_0x2cdfb4=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x2277b9=this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe;const _0x2a16ef=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x2a16ef==null?void(-0x1fdd+-0x1*-0x2329+-0x34c):_0x2a16ef['rect']['w'])>0x23a8+-0x12c9+-0x1*0x10df&&(this['_targetAsp'+'ectRatio']=_0x2a16ef['rect']['z']/_0x2a16ef['rect']['w']);}this['mesh']=_0x2277b9?_0x2cdfb4:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x19*0x10d+0x1bfa+-0x363f):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x226e62){return _0x226e62['center']['set'](-0x3c2*0x1+-0x1040+-0x2*-0xa01,-0x1*-0x937+0x7b5+0x39*-0x4c,0x1*0x14bc+0x19+-0x14d5),_0x226e62['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x76*0x35+0xdf*0x2+-0x1a2c*0x1+0.5),this['_outerScal'+'e']['y']*(-0x1348+-0x1548+-0xec*-0x2c+0.5),0x5*-0x4e9+-0x1b9d+0x342a+0.001),_0x226e62['setFromTra'+'nsformedAa'+'bb'](_0x226e62,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x226e62;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x25f412=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x25f412),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x575693){this['material']=_0x575693['resource'];}['_onMateria'+'lAdded'](_0x15bbcd){this['_system']['app']['assets']['off']('add:'+_0x15bbcd['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x15bbcd['id']&&this['_bindMater'+'ialAsset'](_0x15bbcd);}['_bindMater'+'ialAsset'](_0x29b9a5){this['_entity']['enabled']&&(_0x29b9a5['on']('load',this['_onMateria'+'lLoad'],this),_0x29b9a5['on']('change',this['_onMateria'+'lChange'],this),_0x29b9a5['on']('remove',this['_onMateria'+'lRemove'],this),_0x29b9a5['resource']?this['_onMateria'+'lLoad'](_0x29b9a5):this['_system']['app']['assets']['load'](_0x29b9a5));}['_unbindMat'+'erialAsset'](_0x57317c){_0x57317c['off']('load',this['_onMateria'+'lLoad'],this),_0x57317c['off']('change',this['_onMateria'+'lChange'],this),_0x57317c['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x5d9089){this['_system']['app']['assets']['off']('add:'+_0x5d9089['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x5d9089['id']&&this['_bindTextu'+'reAsset'](_0x5d9089);}['_bindTextu'+'reAsset'](_0x920eca){this['_entity']['enabled']&&(_0x920eca['on']('load',this['_onTexture'+'Load'],this),_0x920eca['on']('change',this['_onTexture'+'Change'],this),_0x920eca['on']('remove',this['_onTexture'+'Remove'],this),_0x920eca['resource']?this['_onTexture'+'Load'](_0x920eca):this['_system']['app']['assets']['load'](_0x920eca));}['_unbindTex'+'tureAsset'](_0x2524b6){_0x2524b6['off']('load',this['_onTexture'+'Load'],this),_0x2524b6['off']('change',this['_onTexture'+'Change'],this),_0x2524b6['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0xc5dea2){this['texture']=_0xc5dea2['resource'];}['_onTexture'+'Change'](_0x5a6359){}['_onTexture'+'Remove'](_0x27bb9f){}['_onSpriteA'+'ssetAdded'](_0x3ac73c){this['_system']['app']['assets']['off']('add:'+_0x3ac73c['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x3ac73c['id']&&this['_bindSprit'+'eAsset'](_0x3ac73c);}['_bindSprit'+'eAsset'](_0x22c792){this['_entity']['enabled']&&(_0x22c792['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x22c792['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x22c792['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x22c792['resource']?this['_onSpriteA'+'ssetLoad'](_0x22c792):this['_system']['app']['assets']['load'](_0x22c792));}['_unbindSpr'+'iteAsset'](_0x1b13fe){_0x1b13fe['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x1b13fe['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x1b13fe['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x1b13fe['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x1b13fe['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x48c9e9){if(!_0x48c9e9||!_0x48c9e9['resource'])this['sprite']=null;else{if(_0x48c9e9['resource']['atlas'])this['sprite']=_0x48c9e9['resource'];else{const _0xe674f1=_0x48c9e9['data']['textureAtl'+'asAsset'];if(_0xe674f1){const _0x3bcf0c=this['_system']['app']['assets'];_0x3bcf0c['off']('load:'+_0xe674f1,this['_onTexture'+'AtlasLoad'],this),_0x3bcf0c['once']('load:'+_0xe674f1,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x512045){this['_onSpriteA'+'ssetLoad'](_0x512045);}['_onSpriteA'+'ssetRemove'](_0x41a47d){}['_bindSprit'+'e'](_0x54d23b){this['_evtSetMes'+'hes']=_0x54d23b['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x54d23b['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x54d23b['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x54d23b['atlas']&&_0x54d23b['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x56155e){var _0x3aa847;(_0x3aa847=this['_evtSetMes'+'hes'])==null||_0x3aa847['off'](),this['_evtSetMes'+'hes']=null,_0x56155e['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x56155e['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x56155e['atlas']&&_0x56155e['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],-0x26cc+0x205b*0x1+0x671,this['_sprite']['frameKeys']['length']-(0x19*-0x72+0x105b*-0x1+0x1b7e))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==Ti&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x3c3129){const _0x24e0d0=this['_spriteAss'+'et'];_0x24e0d0 instanceof le?this['_onSpriteA'+'ssetLoad'](_0x24e0d0):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x24e0d0));}['onEnable'](){if(this['_materialA'+'sset']){const _0x2a5270=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x2a5270&&_0x2a5270['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x2a5270);}if(this['_textureAs'+'set']){const _0x1113cc=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x1113cc&&_0x1113cc['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x1113cc);}if(this['_spriteAss'+'et']){const _0x3033d2=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x3033d2&&_0x3033d2['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x3033d2);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x2709f2){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x2709f2,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x2709f2;let _0x395711=0x1*-0x1d2a+0x5d*-0x4d+0x3923;if(this['_element']['maskedBy']&&(_0x395711=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x7fce1b=new qs({'ref':_0x395711+(0x1*0x191f+0x203e+-0xe57*0x4),'func':Ch,'zpass':WS});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x7fce1b,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x7fce1b;}}['_updateRen'+'derableEmi'+'ssive'](){jl['linear'](this['_color']),this['_colorUnif'+'orm'][0x873+-0x10d3+0x860]=jl['r'],this['_colorUnif'+'orm'][0x1a68+0x26a9*0x1+-0x4110]=jl['g'],this['_colorUnif'+'orm'][-0xf7f+-0x289*-0x1+0x19f*0x8]=jl['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x40e7a2){this['_color']===_0x40e7a2&&v['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0xfc08e5,g:_0x4fdf01,b:_0x2c8f48}=_0x40e7a2;(this['_color']['r']!==_0xfc08e5||this['_color']['g']!==_0x4fdf01||this['_color']['b']!==_0x2c8f48)&&(this['_color']['r']=_0xfc08e5,this['_color']['g']=_0x4fdf01,this['_color']['b']=_0x2c8f48,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x29352f){_0x29352f!==this['_color']['a']&&(this['_color']['a']=_0x29352f,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x29352f)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x29352f);}get['opacity'](){return this['_color']['a'];}set['rect'](_0xd0e3ff){this['_rect']===_0xd0e3ff&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x2b3882,_0x16b23a,_0x45ee06,_0x5e969a;_0xd0e3ff instanceof Q?(_0x2b3882=_0xd0e3ff['x'],_0x16b23a=_0xd0e3ff['y'],_0x45ee06=_0xd0e3ff['z'],_0x5e969a=_0xd0e3ff['w']):(_0x2b3882=_0xd0e3ff[0x16ac+-0x1e40+0x794],_0x16b23a=_0xd0e3ff[-0x37*-0xd+0xeaa*-0x1+0x2f8*0x4],_0x45ee06=_0xd0e3ff[0x3*0x833+0x6da*0x2+0x1*-0x264b],_0x5e969a=_0xd0e3ff[0x208c+0xa*-0x384+-0x29f*-0x1]),!(_0x2b3882===this['_rect']['x']&&_0x16b23a===this['_rect']['y']&&_0x45ee06===this['_rect']['z']&&_0x5e969a===this['_rect']['w'])&&(this['_rect']['set'](_0x2b3882,_0x16b23a,_0x45ee06,_0x5e969a),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x6ca+0x1c43+-0x1579):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x1082e7=this['_system']['app']['assets'];_0x1082e7['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x66e1f=_0x1082e7['get'](this['_materialA'+'sset']);_0x66e1f&&(_0x66e1f['off']('load',this['_onMateria'+'lLoad'],this),_0x66e1f['off']('change',this['_onMateria'+'lChange'],this),_0x66e1f['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x37a184){if(this['_material']!==_0x37a184){if(!_0x37a184){const _0x44a01e=this['_element']['_isScreenS'+'pace']();this['mask']?_0x37a184=_0x44a01e?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x37a184=_0x44a01e?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x37a184,this['_materialA'+'sset']){const _0x3c54f8=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x3c54f8||_0x3c54f8['resource']!==_0x37a184)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x37a184&&(this['_renderabl'+'e']['setMateria'+'l'](_0x37a184),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x9d707e){const _0x658bf9=this['_system']['app']['assets'];let _0xcdd2fd=_0x9d707e;if(_0x9d707e instanceof le&&(_0xcdd2fd=_0x9d707e['id']),this['_materialA'+'sset']!==_0xcdd2fd){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0xcdd2fd,this['_materialA'+'sset']){const _0x55b36e=_0x658bf9['get'](this['_materialA'+'sset']);_0x55b36e?this['_bindMater'+'ialAsset'](_0x55b36e):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0xcdd2fd,_0x658bf9['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0xcdd2fd;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x280ebd){if(this['_texture']!==_0x280ebd){if(this['_textureAs'+'set']){const _0x211c0a=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x211c0a&&_0x211c0a['resource']!==_0x280ebd&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x280ebd,_0x280ebd){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x63ec54=this['_texture']['width']/this['_texture']['height'];_0x63ec54!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x63ec54,this['_element']['fitMode']!==gh&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(0x1f5f+0xe9*0x2+-0x2130),this['_element']['fitMode']!==gh&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x22153b){const _0x7c4030=this['_system']['app']['assets'];let _0x88eaeb=_0x22153b;if(_0x22153b instanceof le&&(_0x88eaeb=_0x22153b['id']),this['_textureAs'+'set']!==_0x88eaeb){if(this['_textureAs'+'set']){_0x7c4030['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x40af7f=_0x7c4030['get'](this['_textureAs'+'set']);_0x40af7f&&(_0x40af7f['off']('load',this['_onTexture'+'Load'],this),_0x40af7f['off']('change',this['_onTexture'+'Change'],this),_0x40af7f['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x88eaeb,this['_textureAs'+'set']){const _0x32b9b3=_0x7c4030['get'](this['_textureAs'+'set']);_0x32b9b3?this['_bindTextu'+'reAsset'](_0x32b9b3):(this['texture']=null,_0x7c4030['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x2296a3){const _0x5a2e61=this['_system']['app']['assets'];let _0x3d4fc6=_0x2296a3;if(_0x2296a3 instanceof le&&(_0x3d4fc6=_0x2296a3['id']),this['_spriteAss'+'et']!==_0x3d4fc6){if(this['_spriteAss'+'et']){_0x5a2e61['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x22764f=_0x5a2e61['get'](this['_spriteAss'+'et']);_0x22764f&&this['_unbindSpr'+'iteAsset'](_0x22764f);}if(this['_spriteAss'+'et']=_0x3d4fc6,this['_spriteAss'+'et']){const _0xcfee4d=_0x5a2e61['get'](this['_spriteAss'+'et']);_0xcfee4d?this['_bindSprit'+'eAsset'](_0xcfee4d):(this['sprite']=null,_0x5a2e61['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x3d4fc6);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0xf1ce4b){if(this['_sprite']!==_0xf1ce4b){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x446332=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x446332&&_0x446332['resource']!==_0xf1ce4b&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0xf1ce4b,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],0x1831+-0x1de5+0x5b4,this['_sprite']['frameKeys']['length']-(-0xfd4+-0x259*0x8+0x229d))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x4767e3){const _0xc7dced=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=N['clamp'](_0x4767e3,-0x7*0x2f9+0x1f26+-0xa57*0x1,this['_sprite']['frameKeys']['length']-(-0x747+-0xb5*0x19+0x18f5)):this['_spriteFra'+'me']=_0x4767e3,this['_spriteFra'+'me']!==_0xc7dced&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x4767e3);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x1a9a8c){this['_renderabl'+'e']['setMesh'](_0x1a9a8c),this['_defaultMe'+'sh']===_0x1a9a8c?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x248856){this['_mask']!==_0x248856&&(this['_mask']=_0x248856,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x17999a){this['_pixelsPer'+'Unit']!==_0x17999a&&(this['_pixelsPer'+'Unit']=_0x17999a,this['_sprite']&&(this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class gR extends ce{constructor(_0x3afe7c){super(),this['_app']=_0x3afe7c,_0x3afe7c['i18n']['on']('set:locale',this['_onSetLoca'+'le'],this),this['_autoLoad']=!(-0x3*0xaaf+0x1dc4+0x125*0x2),this['_disableLo'+'calization']=!(0x1*-0xa7f+-0xb*-0x23+-0x8ff*-0x1),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x65d96e){const _0x1b8be9=_0x65d96e instanceof le?_0x65d96e['id']:_0x65d96e;this['_defaultAs'+'set']!==_0x1b8be9&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x1b8be9,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x24cab5){const _0x3ab7aa=_0x24cab5 instanceof le?_0x24cab5['id']:_0x24cab5;this['_localized'+'Asset']!==_0x3ab7aa&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x3ab7aa,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x3e39f4){this['_autoLoad']!==_0x3e39f4&&(this['_autoLoad']=_0x3e39f4,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x5061dc){this['_disableLo'+'calization']!==_0x5061dc&&(this['_disableLo'+'calization']=_0x5061dc,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x5e3cf7=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x5e3cf7?this['_onDefault'+'AssetAdd'](_0x5e3cf7):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x294a4c=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x294a4c&&(_0x294a4c['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x294a4c['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x294a4c['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x126fef){this['_defaultAs'+'set']===_0x126fef['id']&&(_0x126fef['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x126fef['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x126fef['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x1cd079){this['_defaultAs'+'set']===_0x1cd079['id']&&(_0x1cd079['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x1cd079['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x49deb7=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x49deb7&&(_0x49deb7['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x49deb7['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x49deb7['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x49deb7['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x49deb7):this['_app']['assets']['load'](_0x49deb7));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x47dc90=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x47dc90&&(_0x47dc90['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x47dc90['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x47dc90['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x4a01fb){this['_localized'+'Asset']===_0x4a01fb['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x20fdb0){this['fire']('load',_0x20fdb0);}['_onLocaliz'+'edAssetCha'+'nge'](_0xfc8498,_0x357306,_0x1e2e41,_0x104d65){this['fire']('change',_0xfc8498,_0x357306,_0x1e2e41,_0x104d65);}['_onLocaliz'+'edAssetRem'+'ove'](_0x11895a){this['_localized'+'Asset']===_0x11895a['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x11895a);}['_onLocaleA'+'dd'](_0x255eb1,_0x30e8a9){this['_app']['i18n']['locale']===_0x255eb1&&this['_onSetLoca'+'le'](_0x255eb1);}['_onLocaleR'+'emove'](_0x304f1f,_0x9a0606){this['_app']['i18n']['locale']===_0x304f1f&&this['_onSetLoca'+'le'](_0x304f1f);}['_onSetLoca'+'le'](_0x3c3fbe){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x17f7c2=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x17f7c2||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0xfcecbf=_0x17f7c2['getLocaliz'+'edAssetId'](_0x3c3fbe);if(!_0xfcecbf){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0xfcecbf;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off']('set:locale',this['_onSetLoca'+'le'],this),this['off']();}}const Kh='msdf',yR='bitmap',ho=-0x19f3+0xd8e+0xc65*0x1,Kn=-0x1bd*0xb+0x5fb*-0x4+0x2b0c,of=-0x49*0x4f+0xe58+0x831,ix=0xfac+-0x3*-0x2a9+-0x17a4,lf=-0x1615+0x2277+0x2*-0x62f,hf=0x2447+0x150e+-0x3950,cf=0x1*0x249a+0x7bd+0x1*-0x2c51,df=0x4f*0x3a+0x12*0x49+-0x1701,dg=-0x2d+-0x26c3+0x26f8,xR='\x20\x09\x0a\x0d\x0b\x0c',SR=/[\w|/]/;class vR{constructor(_0x5661fd){this['_symbols']=_0x5661fd,this['_index']=-0x1cbd+0x130d+0x7c*0x14,this['_last']=-0xad*-0x35+0xe73+0xc91*-0x4,this['_cur']=this['_symbols']['length']>0xd23+0xf*-0x1+0x36*-0x3e?this['_symbols'][0x17b8+-0x1f3*-0x11+-0x38db]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0xd1ab9b=this['_read']();for(;_0xd1ab9b===dg;)_0xd1ab9b=this['_read']();return _0xd1ab9b!==ho&&_0xd1ab9b!==Kn&&(this['_last']=this['_index']),_0xd1ab9b;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0xf06c73=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x1eddaa=this['read'](),_0x27caf0='';for(;_0x27caf0+=(_0x27caf0['length']>0x2401+-0xb11*0x1+-0x150*0x13?'\x0a':'')+_0xf06c73[_0x1eddaa]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x1eddaa===ho||_0x1eddaa===Kn);)_0x1eddaa=this['read']();return _0x27caf0;}['_read'](){return this['_buf']=[],this['_eof']()?ho:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>-0x3ce*0x3+-0x2fb*0x7+0x2047?of:ho;case'[':return this['_mode']='tag',this['_buf']['length']>0xbb9+-0x14a6+0x1c9*0x5?of:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',Kn;case'[':return this['_store'](),ix;case']':return this['_store'](),this['_mode']='text',lf;case'=':return this['_store'](),hf;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',Kn);}}['_whitespac'+'e'](){for(this['_store']();xR['indexOf'](this['_cur'])!==-(0x2*-0x199+-0x2195+0x24c8);)this['_store']();return dg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',Kn;case'\x22':return this['_next'](),cf;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return df;}['_isIdentif'+'ierSymbol'](_0x1b1f5b){return _0x1b1f5b['length']===-0xf*-0x279+-0xb3b+-0x1*0x19db&&_0x1b1f5b['match'](SR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x27df1e){this['_buf']['push'](_0x27df1e);}}class bR{constructor(_0x417357){this['_scanner']=new vR(_0x417357),this['_error']=null;}['parse'](_0x3ca985,_0xecf7c7){for(;;)switch(this['_scanner']['read']()){case ho:return!(0x10*0x108+-0xc0e*-0x2+-0x289c);case Kn:return!(0x31*0x7e+0x1050+0x286d*-0x1);case of:Array['prototype']['push']['apply'](_0x3ca985,this['_scanner']['buf']());break;case ix:if(!this['_parseTag'](_0x3ca985,_0xecf7c7))return!(-0x1*0x108+0x2459+-0x2350);break;default:return!(0x84*-0x44+-0x26ff+0x4a10);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x4317ff,_0x2a484f){let _0x2e61dd=this['_scanner']['read']();if(_0x2e61dd!==df)return this['_error']='expected\x20i'+'dentifier',!(0x112*0x1+-0x252c+-0xed*-0x27);const _0x59044a=this['_scanner']['buf']()['join']('');if(_0x59044a[0x2c2+0xe12+-0x10d4]==='/'){for(let _0x32c263=_0x2a484f['length']-(-0xb30+-0x6*-0x277+-0x399*0x1);_0x32c263>=-0x1e00+-0x20fc*-0x1+-0x2fc;--_0x32c263)if(_0x59044a==='/'+_0x2a484f[_0x32c263]['name']&&_0x2a484f[_0x32c263]['end']===null)return _0x2a484f[_0x32c263]['end']=_0x4317ff['length'],_0x2e61dd=this['_scanner']['read'](),_0x2e61dd!==lf?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(-0x1198*-0x1+-0x12da+-0x13*-0x11)):!(0x1*0x6e5+-0x10*-0x44+-0x1*0xb25);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(-0x17*0xd1+-0x1ed1+0x3199);}const _0x1115ea={'name':_0x59044a,'value':null,'attributes':{},'start':_0x4317ff['length'],'end':null};if(_0x2e61dd=this['_scanner']['read'](),_0x2e61dd===hf){if(_0x2e61dd=this['_scanner']['read'](),_0x2e61dd!==cf)return this['_error']='expected\x20s'+'tring',!(0x626*0x1+0x2f*-0x1c+0x101*-0x1);_0x1115ea['value']=this['_scanner']['buf']()['join'](''),_0x2e61dd=this['_scanner']['read']();}for(;;){switch(_0x2e61dd){case lf:return _0x2a484f['push'](_0x1115ea),!(-0x1ea*-0x7+-0xeb*0x27+-0xb9*-0x1f);case df:{const _0x3e5555=this['_scanner']['buf']()['join']('');if(_0x2e61dd=this['_scanner']['read'](),_0x2e61dd!==hf)return this['_error']='expected\x20e'+'quals',!(-0x32e+-0xc7d+0xfac);if(_0x2e61dd=this['_scanner']['read'](),_0x2e61dd!==cf)return this['_error']='expected\x20s'+'tring',!(0x109b+0x1*-0x664+-0xa36);const _0x4f9fef=this['_scanner']['buf']()['join']('');_0x1115ea['attributes'][_0x3e5555]=_0x4f9fef;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(0x1992+-0xf7f+-0xa12);}_0x2e61dd=this['_scanner']['read']();}}}function rx(_0x16bd4b,_0x5a05eb){for(const _0x484a2e in _0x5a05eb){if(!_0x5a05eb['hasOwnProp'+'erty'](_0x484a2e))continue;const _0x13cda7=_0x5a05eb[_0x484a2e];_0x13cda7 instanceof Object?(_0x16bd4b['hasOwnProp'+'erty'](_0x484a2e)||(_0x16bd4b[_0x484a2e]={}),rx(_0x16bd4b[_0x484a2e],_0x5a05eb[_0x484a2e])):_0x16bd4b[_0x484a2e]=_0x13cda7;}}function wR(_0xd303f1){if(_0xd303f1['length']===0x53e*0x2+-0x1*-0xe2f+-0x18ab)return null;const _0x31c08e={};for(let _0x93c3e5=0x1d15+0x1d6f+-0x3a84;_0x93c3e5<_0xd303f1['length'];++_0x93c3e5){const _0x6535a7=_0xd303f1[_0x93c3e5],_0x2548ca={};_0x2548ca[_0x6535a7['name']]={'value':_0x6535a7['value'],'attributes':_0x6535a7['attributes']},rx(_0x31c08e,_0x2548ca);}return _0x31c08e;}function TR(_0x3fc80e,_0x1a5467){if(_0x3fc80e['length']===0x2113+-0x5*0x73c+0x319)return null;const _0xe365={};for(let _0x152f35=-0xff1+-0x9f6+0x19e7;_0x152f35<_0x3fc80e['length'];++_0x152f35){const _0x35f2cd=_0x3fc80e[_0x152f35];_0xe365['hasOwnProp'+'erty'](_0x35f2cd['start'])?_0xe365[_0x35f2cd['start']]['open']===null?_0xe365[_0x35f2cd['start']]['open']=[_0x35f2cd]:_0xe365[_0x35f2cd['start']]['open']['push'](_0x35f2cd):_0xe365[_0x35f2cd['start']]={'open':[_0x35f2cd],'close':null},_0xe365['hasOwnProp'+'erty'](_0x35f2cd['end'])?_0xe365[_0x35f2cd['end']]['close']===null?_0xe365[_0x35f2cd['end']]['close']=[_0x35f2cd]:_0xe365[_0x35f2cd['end']]['close']['push'](_0x35f2cd):_0xe365[_0x35f2cd['end']]={'open':null,'close':[_0x35f2cd]};}let _0xc2373f=[];function _0x3b2483(_0x2059fa){_0xc2373f=_0xc2373f['filter'](_0x31ebda=>_0x2059fa['find'](_0x48ee2d=>_0x48ee2d===_0x31ebda)===void(-0x133e+-0x18ff*-0x1+-0x5c1));}function _0x7b6f5e(_0x2dd8c7){for(let _0x382506=-0x19d9*0x1+-0x1153*-0x1+0x886;_0x382506<_0x2dd8c7['length'];++_0x382506)_0xc2373f['push'](_0x2dd8c7[_0x382506]);}const _0x5070e4=Object['keys'](_0xe365)['sort']((_0xffd2f0,_0x5215c7)=>_0xffd2f0-_0x5215c7),_0x45367b=[];for(let _0x59b17a=0x169*0x7+0x4f*-0x59+0x2*0x8cc;_0x59b17a<_0x5070e4['length'];++_0x59b17a){const _0x258464=_0xe365[_0x5070e4[_0x59b17a]];_0x258464['close']!==null&&_0x3b2483(_0x258464['close']),_0x258464['open']!==null&&_0x7b6f5e(_0x258464['open']),_0x45367b['push']({'start':_0x5070e4[_0x59b17a],'tags':wR(_0xc2373f)});}const _0x1b2675=[];let _0x10957f=null;for(let _0x5ba221=0x1edb+0xbc+-0x1f97;_0x5ba221<_0x45367b['length'];++_0x5ba221){const _0x3e5e20=_0x45367b[_0x5ba221];for(;_0x1b2675['length']<_0x3e5e20['start'];)_0x1b2675['push'](_0x10957f?_0x10957f['tags']:null);_0x10957f=_0x3e5e20;}for(;_0x1b2675['length']<_0x1a5467;)_0x1b2675['push'](null);return _0x1b2675;}function AR(_0x13af8a){const _0x529763=new bR(_0x13af8a),_0xf11942=[],_0x3f4922=[];if(!_0x529763['parse'](_0xf11942,_0x3f4922))return console['warn'](_0x529763['error']()),{'symbols':_0x13af8a,'tags':null};const _0x515fce=_0x3f4922['find'](_0x470854=>_0x470854['end']===null);if(_0x515fce)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x515fce['name']+'\x27'),{'symbols':_0x13af8a,'tags':null};const _0xa97675=TR(_0x3f4922,_0xf11942['length']);return{'symbols':_0xf11942,'tags':_0xa97675};}class ER{static['evaluate'](_0x5c0043){return AR(_0x5c0043);}}class CR{constructor(){this['count']=-0x23a7*-0x1+0x1e87+-0x18a*0x2b,this['quad']=0x1607*-0x1+-0x1*-0x90c+0xcfb,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function MR(_0x234f4d,_0x90346e){const _0x46672e=new Ie(_0x234f4d);return _0x46672e['setPositio'+'ns'](_0x90346e['positions']),_0x46672e['setNormals'](_0x90346e['normals']),_0x46672e['setColors3'+'2'](_0x90346e['colors']),_0x46672e['setUvs'](-0x23b9+-0x1*0x1427+0x8*0x6fc,_0x90346e['uvs']),_0x46672e['setIndices'](_0x90346e['indices']),_0x46672e['setVertexS'+'tream'](Po,_0x90346e['outlines'],-0x1718+0x2512+-0xb*0x145,void(0x15ec+0xed3+-0x24bf),Ee,!(0x4*-0x371+0x28*0x9e+-0xaeb)),_0x46672e['setVertexS'+'tream'](Ro,_0x90346e['shadows'],-0x1*-0x531+-0xf*-0x41+-0x8fd,void(0x1ce+0x2017+-0x21e5),Ee,!(0x28b*0x7+0x1*-0x25f0+0x1424)),_0x46672e['update'](),_0x46672e;}const ug=/^[\r\n]$/,PR=/^[ \t]$/,fg=/^[ \t\-]|\u200b$/,RR=/^[a-z0-9]$/i,pg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,IR=/^[〕〉》」』】〙〗〟ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻]$/,DR=['​','؜','‎','‏','‪','‫','‬','‭','‮','⁦','⁧','⁨','⁩'],LR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},mg=new Y(),FR=new W(),Me=new Y();class OR{constructor(_0x591ce5){this['_element']=_0x591ce5,this['_system']=_0x591ce5['system'],this['_entity']=_0x591ce5['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new gR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(-0x1e58+-0x182e+0x3686),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new Y(-0x2ea*-0x2+-0xd4+-0x1*0x4ff,0xcc9+0x852+-0x2*0xa8d,0x11d3+0x26e7+-0x1*0x38b9,0x1015+0x5de*0x1+-0x15f2),this['_colorUnif'+'orm']=new Float32Array(-0x5*0x1fb+-0x8a7+0x1291),this['_spacing']=0x5ad*0x3+-0x1c4f+0xb49,this['_fontSize']=-0x13f9*0x1+-0xf7f+0x2398,this['_fontMinY']=-0x2*0x192+-0x15a*-0x7+-0x329*0x2,this['_fontMaxY']=-0x67*0x2e+0x8dd*0x3+0x1*-0x815,this['_originalF'+'ontSize']=-0x8ef*0x1+0x2596+-0x1c87,this['_maxFontSi'+'ze']=0x244f+0x10d*0xb+0x2*-0x17df,this['_minFontSi'+'ze']=0x1*0x60b+-0x9*-0x69+-0x9b4,this['_autoFitWi'+'dth']=!(-0xdce+-0x19b3+0x2782*0x1),this['_autoFitHe'+'ight']=!(0x3cb*0x6+0x1c+0x3*-0x79f),this['_maxLines']=-(-0x1d9*0x6+-0x244c+0x2f63),this['_lineHeigh'+'t']=0x241f+-0x781*-0x3+-0x3a82,this['_scaledLin'+'eHeight']=-0x4b5+0x17*-0x135+-0x413*-0x8,this['_wrapLines']=!(-0x1*-0x1e2+-0xd*0x186+0xd*0x161),this['_drawOrder']=-0x2508+-0x7*0x3f1+0x47*0xe9,this['_alignment']=new W(0x22ed+-0x2544+0x257+0.5,0xb74+0x1*0x25+-0xb99*0x1+0.5),this['_autoWidth']=!(-0x1290+-0x2653+-0x1*-0x38e3),this['_autoHeigh'+'t']=!(0x1d2*0x9+-0x1*0x1ee9+0x1*0xe87),this['width']=0x5a5+-0x8de+0x339,this['height']=0xad2*0x2+0x1475+0x33d*-0xd,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(0x15c0+-0x269c+0x10dc),this['_aabb']=new _e(),this['_noResize']=!(-0x76*0x43+-0x1c54+-0x3b37*-0x1),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(-0x1*0x481+-0x1f6b+0x23ed),this['_unicodeCo'+'nverter']=!(-0x1*0xc64+0x11*0xd9+-0x204),this['_rtl']=!(-0xde6+0x2*-0x526+0x1833*0x1),this['_outlineCo'+'lor']=new Y(0x6b*0x43+-0x3*0xbb7+0x724,-0x103*-0x1b+-0x51*0x65+0x4a4,0x7*-0xbe+0x7f7+0x1*-0x2c5,0xd86*-0x1+0x2531+-0x17aa),this['_outlineCo'+'lorUniform']=new Float32Array(0x1497+-0x37*0x70+0x37d),this['_outlineTh'+'icknessSca'+'le']=-0xb7e+-0x1320*0x2+-0x31be*-0x1+0.2,this['_outlineTh'+'ickness']=-0x1750+-0xaa3+0x21f3,this['_shadowCol'+'or']=new Y(0x220c+-0x4a*0x79+0xee*0x1,-0x13*0x2f+-0xbdc+0xf59,-0x9f7+0x77*-0x3e+0x1*0x26c9,0x2652+-0x1*0xebd+-0x6*0x3ee),this['_shadowCol'+'orUniform']=new Float32Array(-0x21d*0x1+-0x19a8+0x1bc9),this['_shadowOff'+'setScale']=-0x86e+0xd5c+-0x4ee+0.005,this['_shadowOff'+'set']=new W(-0x1*0xb+0x2495*0x1+-0x248a,-0x1963+0xf*0x292+-0xd2b),this['_shadowOff'+'setUniform']=new Float32Array(-0x9f*-0xb+-0x162a*0x1+0xf57),this['_enableMar'+'kup']=!(-0xc74+0x15b*-0x8+0x174d),this['_onScreenC'+'hange'](this['_element']['screen']),_0x591ce5['on']('resize',this['_onParentR'+'esize'],this),_0x591ce5['on']('set:screen',this['_onScreenC'+'hange'],this),_0x591ce5['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x591ce5['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x591ce5['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=0x8a0+-0x391*-0x4+-0x16e4,this['_rangeEnd']=0x2498+0xa2f+-0x19*0x1df;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x37cf17,_0x5d3ca4){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x373275){_0x373275?this['_updateMat'+'erial'](_0x373275['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x212f+-0x1d43*-0x1+-0x3e71));}['_onScreenS'+'paceChange'](_0x2b69f5){this['_updateMat'+'erial'](_0x2b69f5);}['_onDrawOrd'+'erChange'](_0x20bf37){if(this['_drawOrder']=_0x20bf37,this['_model']){for(let _0x279d25=0x1c6f*0x1+-0x3*-0x17e+-0x20e9,_0x64fda0=this['_model']['meshInstan'+'ces']['length'];_0x279d25<_0x64fda0;_0x279d25++)this['_model']['meshInstan'+'ces'][_0x279d25]['drawOrder']=_0x20bf37;}}['_onPivotCh'+'ange'](_0x38557d){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x53ea14){if(this['_i18nKey']){if(this['fontAsset']){const _0x55f850=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x55f850||!_0x55f850['resource']||_0x55f850['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x29fdd7,_0x215885){this['_i18nKey']&&_0x215885[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x632f49){if(this['unicodeCon'+'verter']){const _0x199cb7=this['_system']['getUnicode'+'Converter']();_0x199cb7?_0x632f49=_0x199cb7(_0x632f49):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x632f49&&(this['_font']&&this['_updateTex'+'t'](_0x632f49),this['_text']=_0x632f49);}['_updateTex'+'t'](_0x1a435b){let _0x52d772;if(_0x1a435b===void(0x1*0x1ed5+0x28*-0x6b+-0xe1d)&&(_0x1a435b=this['_text']),this['_symbols']=ah['getSymbols'](_0x1a435b['normalize']?_0x1a435b['normalize']('NFC'):_0x1a435b),this['_symbols']['length']===-0x9e*-0x2d+0x1b68*-0x1+0x2*-0x2f&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x14e741=ER['evaluate'](this['_symbols']);this['_symbols']=_0x14e741['symbols'],_0x52d772=_0x14e741['tags']||[];}if(this['_rtlReorde'+'r']){const _0x31aba9=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x31aba9){const _0xd28608=_0x31aba9(this['_symbols']);this['_rtl']=_0xd28608['rtl'],this['_symbols']=_0xd28608['mapping']['map'](function(_0x466145){return this['_symbols'][_0x466145];},this),_0x52d772&&(_0x52d772=_0xd28608['mapping']['map'](_0x34dc33=>_0x52d772[_0x34dc33]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(-0x1815*-0x1+-0x5b6*-0x1+-0x5d*0x52);const _0x17db34=(_0x40ade6,_0x45841a)=>_0x40ade6['toString'](!(0x137d+-0x68*-0x10+-0x19fd))['toLowerCas'+'e']()+':'+_0x45841a['toFixed'](-0xb*-0x1b7+-0xf89+-0x352),_0x925ca8=(_0x3b9d90,_0x42c189)=>_0x3b9d90['toString'](!(-0x12*0x1c3+0x4*-0x180+0x25b6))['toLowerCas'+'e']()+':'+_0x42c189['x']['toFixed'](-0xd8d+0x25b2+-0x1823)+':'+_0x42c189['y']['toFixed'](-0x2e0+0x1266+-0x3e1*0x4);if(_0x52d772){const _0x4666d1={},_0x53e71e={},_0x41210e={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(0x256f+-0x20ce+-0x3a2)),Math['round'](this['_color']['g']*(-0xda*0x4+-0x4ef*-0x6+-0x1933)),Math['round'](this['_color']['b']*(0x1a7+-0x11ce+0x1126))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(0x2057+0xf60*-0x2+0x13*-0x8)),Math['round'](this['_outlineCo'+'lor']['g']*(0x1edc+0x20b+-0x3fd*0x8)),Math['round'](this['_outlineCo'+'lor']['b']*(0x2664+-0x511+-0x2054)),Math['round'](this['_outlineCo'+'lor']['a']*(0x8d3*-0x1+0x1093*0x1+-0x6c1)),Math['round'](this['_outlineTh'+'ickness']*(0x95a+0x1*-0x235d+0x1b02*0x1))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(0x926*-0x1+0xd30+0x1*-0x30b)),Math['round'](this['_shadowCol'+'or']['g']*(-0x1d*0x156+-0x21d*-0x5+0xe96*0x2)),Math['round'](this['_shadowCol'+'or']['b']*(0x558+0x3e3*-0x5+-0xf16*-0x1)),Math['round'](this['_shadowCol'+'or']['a']*(-0xf*-0x294+0x9*0x1b1+0x2*-0x1a73)),Math['round'](this['_shadowOff'+'set']['x']*(-0x1c4+0x8*0x3c3+-0x1bd5)),Math['round'](this['_shadowOff'+'set']['y']*(-0x803+0x816+0x6c))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x4666d1[this['_color']['toString'](!(-0xb*0x93+0x4*0x697+-0x201*0xa))['toLowerCas'+'e']()]=-0x9cf+0x172d+-0xd5e,_0x53e71e[_0x17db34(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=0x4*0x2a7+0x135d+-0x1df9,_0x41210e[_0x925ca8(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=-0x327*-0x4+-0x2433*0x1+0x1797;for(let _0x3abde3=0xe4d*0x2+-0x1b2*0x1+-0x1ae8,_0x310430=this['_symbols']['length'];_0x3abde3<_0x310430;++_0x3abde3){const _0x3a5cde=_0x52d772[_0x3abde3];let _0x30c2f8=0x6e*-0x3c+0x249+-0x1*-0x177f;if(_0x3a5cde&&_0x3a5cde['color']&&_0x3a5cde['color']['value']){const _0x245bc5=_0x3a5cde['color']['value'];if(_0x245bc5['length']===-0x7a1*-0x2+0x11e*0xc+-0x1ca3&&_0x245bc5[-0x5*0x91+0x8cc*0x4+-0x21*0xfb]==='#'){const _0x3628cf=_0x245bc5['substring'](0x14da+-0x1812+0x339)['toLowerCas'+'e']();_0x4666d1['hasOwnProp'+'erty'](_0x3628cf)?_0x30c2f8=_0x4666d1[_0x3628cf]:/^[0-9a-f]{6}$/['test'](_0x3628cf)&&(_0x30c2f8=this['_colorPale'+'tte']['length']/(0x268a+0x456*-0x4+-0x152f),_0x4666d1[_0x3628cf]=_0x30c2f8,this['_colorPale'+'tte']['push'](parseInt(_0x3628cf['substring'](-0x29*0x32+0x55d*0x7+-0x1d89,-0x1ef1+0x12f8*-0x2+0x44e3),0x2*-0x17b+0x25*0xe3+0x1*-0x1dc9)),this['_colorPale'+'tte']['push'](parseInt(_0x3628cf['substring'](-0x2433+0xe8f+0x15a6,0x1*-0xd44+-0x1243+0x1f8b),0x28*-0xc+-0xd63+0xf53)),this['_colorPale'+'tte']['push'](parseInt(_0x3628cf['substring'](-0xe51*0x1+-0x1345*-0x2+-0x1835,0xe0*-0x2c+-0x22a6+0x492c),-0x1a54+0x1*-0x1993+0x1*0x33f7)));}}this['_symbolCol'+'ors']['push'](_0x30c2f8);let _0x27b5b4=0x566*0x4+0x1b73+-0x345*0xf;if(_0x3a5cde&&_0x3a5cde['outline']&&(_0x3a5cde['outline']['attributes']['color']||_0x3a5cde['outline']['attributes']['thickness'])){let _0x469e4e=_0x3a5cde['outline']['attributes']['color']?mg['fromString'](_0x3a5cde['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x25ca2a=Number(_0x3a5cde['outline']['attributes']['thickness']);(Number['isNaN'](_0x469e4e['r'])||Number['isNaN'](_0x469e4e['g'])||Number['isNaN'](_0x469e4e['b'])||Number['isNaN'](_0x469e4e['a']))&&(_0x469e4e=this['_outlineCo'+'lor']),Number['isNaN'](_0x25ca2a)&&(_0x25ca2a=this['_outlineTh'+'ickness']);const _0x1d206=_0x17db34(_0x469e4e,_0x25ca2a);_0x53e71e['hasOwnProp'+'erty'](_0x1d206)?_0x27b5b4=_0x53e71e[_0x1d206]:(_0x27b5b4=this['_outlinePa'+'lette']['length']/(-0x1776+0x1f16+-0x79b),_0x53e71e[_0x1d206]=_0x27b5b4,this['_outlinePa'+'lette']['push'](Math['round'](_0x469e4e['r']*(-0x67*0x44+-0x127f+0x2eda)),Math['round'](_0x469e4e['g']*(0x1*0x1d21+0x7*0x47b+0x1*-0x3b7f)),Math['round'](_0x469e4e['b']*(-0x2498+0x2*-0x1087+-0x1*-0x46a5)),Math['round'](_0x469e4e['a']*(0x36a*0x7+0x22b7+-0x399e)),Math['round'](_0x25ca2a*(0x11cd+0x15da*-0x1+0x50c))));}this['_symbolOut'+'lineParams']['push'](_0x27b5b4);let _0xda646b=-0x1*0x19ed+0x2322+-0x935*0x1;if(_0x3a5cde&&_0x3a5cde['shadow']&&(_0x3a5cde['shadow']['attributes']['color']||_0x3a5cde['shadow']['attributes']['offset']||_0x3a5cde['shadow']['attributes']['offsetX']||_0x3a5cde['shadow']['attributes']['offsetY'])){let _0x1ade2e=_0x3a5cde['shadow']['attributes']['color']?mg['fromString'](_0x3a5cde['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x4d2721=Number(_0x3a5cde['shadow']['attributes']['offset']),_0x394c1d=Number(_0x3a5cde['shadow']['attributes']['offsetX']),_0x20ecbe=Number(_0x3a5cde['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x1ade2e['r'])||Number['isNaN'](_0x1ade2e['g'])||Number['isNaN'](_0x1ade2e['b'])||Number['isNaN'](_0x1ade2e['a']))&&(_0x1ade2e=this['_shadowCol'+'or']);const _0x1528f3=FR['set'](Number['isNaN'](_0x394c1d)?Number['isNaN'](_0x4d2721)?this['_shadowOff'+'set']['x']:_0x4d2721:_0x394c1d,Number['isNaN'](_0x20ecbe)?Number['isNaN'](_0x4d2721)?this['_shadowOff'+'set']['y']:_0x4d2721:_0x20ecbe),_0x43b14=_0x925ca8(_0x1ade2e,_0x1528f3);_0x41210e['hasOwnProp'+'erty'](_0x43b14)?_0xda646b=_0x41210e[_0x43b14]:(_0xda646b=this['_shadowPal'+'ette']['length']/(0x4*-0x8ba+-0x1650+-0x35e*-0x11),_0x41210e[_0x43b14]=_0xda646b,this['_shadowPal'+'ette']['push'](Math['round'](_0x1ade2e['r']*(0xfa1+-0x2*0x2f6+-0x8b6)),Math['round'](_0x1ade2e['g']*(0x6f*-0x14+-0x3b*0x92+-0x2b51*-0x1)),Math['round'](_0x1ade2e['b']*(0x3f3*-0x5+-0x2*-0xf53+-0x9e8)),Math['round'](_0x1ade2e['a']*(0x5f*-0xc+-0x127d*-0x2+-0x481*0x7)),Math['round'](_0x1528f3['x']*(-0x305*-0x9+-0x2*0x3bb+0x5*-0x3d8)),Math['round'](_0x1528f3['y']*(-0xc6a+0x205+0xae4))));}this['_symbolSha'+'dowParams']['push'](_0xda646b);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x4d7559=this['_calculate'+'CharsPerTe'+'xture']();let _0x351abb=!(0x1121+-0x1b56+0xa36);const _0x50a88a=this['_element'],_0x4991f9=_0x50a88a['_isScreenS'+'pace'](),_0x930117=_0x50a88a['_isScreenC'+'ulled'](),_0x4168f1=function(_0x44d7c1){return _0x50a88a['isVisibleF'+'orCamera'](_0x44d7c1);};for(let _0x54034a=-0x1*0x173a+-0x1993*0x1+0x30cd,_0x534a66=this['_meshInfo']['length'];_0x54034a<_0x534a66;_0x54034a++){const _0x4e416d=_0x4d7559[_0x54034a]||0x3*0xa65+-0x1fa0+0x71,_0x54612e=this['_meshInfo'][_0x54034a];if(_0x54612e['count']!==_0x4e416d){if(_0x351abb||(_0x50a88a['removeMode'+'lFromLayer'+'s'](this['_model']),_0x351abb=!(-0x2*-0x41f+-0x12eb+0xaad)),_0x54612e['count']=_0x4e416d,_0x54612e['positions']['length']=_0x54612e['normals']['length']=_0x4e416d*(-0x1578+-0x146+-0x19*-0xe9)*(-0x16da+0x974+-0x1*-0xd6a),_0x54612e['indices']['length']=_0x4e416d*(-0x137a+-0x2199+-0x12e*-0x2d)*(-0x71b*0x1+-0x1fc*0x10+0x26dd),_0x54612e['uvs']['length']=_0x4e416d*(-0x95f+0x5fc+0x365)*(0x11e7+0x31c+-0x14ff),_0x54612e['colors']['length']=_0x4e416d*(0xb*-0x167+0x1935+-0x64*0x19)*(0xccb+0x1a63+0x22d*-0x12),_0x54612e['outlines']['length']=_0x4e416d*(0x2*0x58f+0x2372+0xc*-0x3e1)*(-0x8ce*-0x2+0xbf8+-0x1d91),_0x54612e['shadows']['length']=_0x4e416d*(-0x1*-0xe37+0x738+-0x156b)*(0x7*-0x13c+-0x240f+0x2cb6),_0x54612e['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x54612e['meshInstan'+'ce']),_0x4e416d===-0xe38+0x14d2+0xa9*-0xa){_0x54612e['meshInstan'+'ce']=null;continue;}for(let _0x9b8631=-0x264a+0x82*-0x20+0x368a;_0x9b8631<_0x4e416d;_0x9b8631++)_0x54612e['indices'][_0x9b8631*(-0xbc9+-0x440+0x100c)*(-0x29*0x4+-0x16f7+0x179d)+(-0xd1a+0x16f*-0x18+0x6*0x7eb)]=_0x9b8631*(-0xb97+-0x20b*-0x8+0x4bd*-0x1),_0x54612e['indices'][_0x9b8631*(0x2005+-0x17df*0x1+-0x823)*(-0xd15+-0x26e8+0x33ff)+(0x10*0x12a+-0x26*-0x106+-0x3983)]=_0x9b8631*(-0x191*-0xe+-0xe2*-0x27+0x4b2*-0xc)+(0x1999+0xdcd+-0x2765),_0x54612e['indices'][_0x9b8631*(0x35*0x92+0x1*0x2d7+-0x2*0x1087)*(-0xd60+0x815*0x4+-0x12f2)+(0x6*-0x36d+-0x15f7+0xbf*0x39)]=_0x9b8631*(0x1*0x1d7f+0x1157*-0x2+0x533)+(-0xb28+0x7e4+0x347),_0x54612e['indices'][_0x9b8631*(0x4e2+0x3*-0x9cb+0xc41*0x2)*(0x2*0x84a+0x12cc+-0x235e)+(-0x9e5+-0xe84+0x3*0x824)]=_0x9b8631*(0x400*-0x4+-0xe3*-0x17+-0x461)+(-0xb57*0x2+-0x286+0x2*0xc9b),_0x54612e['indices'][_0x9b8631*(0x1*0x1d50+-0x26b9*0x1+-0x192*-0x6)*(0xe9d+0x9b*0x1+-0xf36)+(0x7f*0x3f+0x1b2c+0x1*-0x3a69)]=_0x9b8631*(-0x223e+0x312*0x4+-0xc2*-0x1d)+(-0x1d3a+-0x449*0x9+0x43ce),_0x54612e['indices'][_0x9b8631*(0x1*-0x20c6+-0x26b9+0x4782)*(-0x1cbc+0x11d8+0xae6)+(-0x1d5*-0x15+0xc*0x1b5+0x8*-0x75e)]=_0x9b8631*(-0x144d+-0x1d9d+0x31ee)+(0x2f6*-0x1+0x66f+0x8*-0x6f),_0x54612e['normals'][_0x9b8631*(0x1266+-0xa3*0x1e+0xb8)*(0x1*0x1ed3+-0x1b67+0x9*-0x61)+(-0xb*-0x35d+0x2709+-0x656*0xc)]=0x209b+-0x54d*-0x5+-0x61*0x9c,_0x54612e['normals'][_0x9b8631*(0xa35+-0x1*-0x1587+-0x38*0x91)*(0x2*0x1df+-0x1*0x1195+-0x1*-0xdda)+(-0x1*-0x225f+-0x5c4+-0x1c9a)]=0x6f0+-0xf19+0x829*0x1,_0x54612e['normals'][_0x9b8631*(-0x22ba+-0xcc*0x7+0x2852)*(0x25cd+0x28c+-0x6*0x6b9)+(-0x13c2+-0x5d0+0x1994)]=-(0xab9+-0xab5*0x3+0x1567),_0x54612e['normals'][_0x9b8631*(0x1*-0xf13+0x427*0x1+0xaf0)*(0xba1*0x2+0x51*0x3b+-0x25*0x122)+(-0x61f+0x1e32+-0x1810)]=0x25bc+-0x1862+-0xd5a,_0x54612e['normals'][_0x9b8631*(-0x13a2+0x136+-0x49c*-0x4)*(-0x2669+0x1*0x1b9f+-0x5*-0x229)+(0x8*0x1d3+-0x13d*0x6+0x7a*-0xf)]=-0x1b76+0x20dc*-0x1+0x3c52,_0x54612e['normals'][_0x9b8631*(-0x3*0x2e9+0x1bec+0x1*-0x132d)*(-0x760+-0x1*0x871+0xfd4)+(0x29f*0x5+-0xf80+0x26a)]=-(-0x2*0xec2+0x53*-0x1c+0x2699),_0x54612e['normals'][_0x9b8631*(0x28d+-0x1*0xd81+0x4*0x2be)*(-0x1*-0x3b+-0xdba+0x5b*0x26)+(-0x2*0x5bc+-0x65*0x1d+0x16ef)]=0x972+0xab6+-0x1428,_0x54612e['normals'][_0x9b8631*(-0x154f+0xb9c+0x33d*0x3)*(0xc3f+0x498+-0x3*0x59c)+(0x173*-0x4+-0x1a09+-0x7f7*-0x4)]=0x1ce9+0x17f3+-0x34dc,_0x54612e['normals'][_0x9b8631*(0x11c6+0x1f6+0x13b8*-0x1)*(-0x883*-0x2+-0x8*-0x2fc+-0x28e3)+(-0x1*0x5f3+-0xa10+0x100b*0x1)]=-(-0x13d1+0x11*-0xb3+0x1fb5),_0x54612e['normals'][_0x9b8631*(0x15cf+0x7*0x3ea+-0x3131)*(-0x761*-0x1+-0x555+0x1*-0x209)+(0x463*0x4+0x266+-0x13e9)]=0x261b+-0x2058+-0x5c3,_0x54612e['normals'][_0x9b8631*(0x2*0x819+0x724*0x1+-0x1752)*(-0xabe+0xf40+0x1*-0x47f)+(-0x11d2+0x200+0xfdc)]=0x147*-0x7+0x19d1+-0x10e0,_0x54612e['normals'][_0x9b8631*(-0x1741+0x4da*-0x6+0x35*0xfd)*(0xcd9+-0x1*-0x188b+-0x2561)+(-0x5a0+0xa7*-0xb+0xcd8)]=-(-0x353*0x5+0x860+0x840);const _0xaa8774=MR(this['_system']['app']['graphicsDe'+'vice'],_0x54612e),_0x524bcd=new Le(_0xaa8774,this['_material'],this['_node']);if(_0x524bcd['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x524bcd['castShadow']=!(-0x1da3+-0x69*0x3b+0x35d7),_0x524bcd['receiveSha'+'dow']=!(0x21ff*-0x1+-0x6bd+-0x1*-0x28bd),_0x524bcd['cull']=!_0x4991f9,_0x524bcd['screenSpac'+'e']=_0x4991f9,_0x524bcd['drawOrder']=this['_drawOrder'],_0x930117&&(_0x524bcd['cull']=!(-0x245*0x1+0x11a8+-0x12f*0xd),_0x524bcd['isVisibleF'+'unc']=_0x4168f1),this['_setTextur'+'eParams'](_0x524bcd,this['_font']['textures'][_0x54034a]),_0x524bcd['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x524bcd['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x524bcd['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x524bcd['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x524bcd['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x54034a]['width']),_0x524bcd['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x524bcd['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x524bcd['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][0x24c0+-0x252b+0x1*0x6b]=-0x1f4e+0x1b3b+0x7*0x95,this['_shadowOff'+'setUniform'][0x3*0x33f+-0x59*-0x6+-0xbd2]=0x1ccf+0x2374+-0x4043;else{const _0x53f03c=-this['_font']['data']['info']['maps'][_0x54034a]['width']/this['_font']['data']['info']['maps'][_0x54034a]['height'];this['_shadowOff'+'setUniform'][-0x603*-0x4+0x3*-0x329+-0xe91]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x1fd+-0x1119+0x49*0x35]=_0x53f03c*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x524bcd['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x54612e['meshInstan'+'ce']=_0x524bcd,this['_model']['meshInstan'+'ces']['push'](_0x524bcd);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x351abb&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=0x12*0x17f+0x20f6+-0x3be4,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x247425){_0x247425['destroy']();const _0x308b51=this['_model']['meshInstan'+'ces']['indexOf'](_0x247425);_0x308b51!==-(-0x7*0x1b+-0x2367+0x2425)&&this['_model']['meshInstan'+'ces']['splice'](_0x308b51,0xf6d+-0x77e+-0x122*0x7);}['_setMateri'+'al'](_0x7a588f){if(this['_material']=_0x7a588f,this['_model'])for(let _0x158834=-0x7*0x6+0x5b1+-0x587,_0x26dfa5=this['_model']['meshInstan'+'ces']['length'];_0x158834<_0x26dfa5;_0x158834++){const _0x36dac4=this['_model']['meshInstan'+'ces'][_0x158834];_0x36dac4['material']=_0x7a588f;}}['_updateMat'+'erial'](_0x3ffbbd){const _0x38b9a9=this['_element'],_0x132bde=_0x38b9a9['_isScreenC'+'ulled'](),_0x1cda30=function(_0x1f4efa){return _0x38b9a9['isVisibleF'+'orCamera'](_0x1f4efa);},_0x32c9b0=this['_font']&&this['_font']['type']===Kh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x3ffbbd,_0x32c9b0,this['_enableMar'+'kup']),this['_model'])for(let _0x1407e1=0x26c6+-0x17*-0x85+-0x23*0x173,_0xf0df17=this['_model']['meshInstan'+'ces']['length'];_0x1407e1<_0xf0df17;_0x1407e1++){const _0x5d6339=this['_model']['meshInstan'+'ces'][_0x1407e1];_0x5d6339['cull']=!_0x3ffbbd,_0x5d6339['material']=this['_material'],_0x5d6339['screenSpac'+'e']=_0x3ffbbd,_0x132bde?(_0x5d6339['cull']=!(-0x1d40+-0x1d43+0x3a83),_0x5d6339['isVisibleF'+'unc']=_0x1cda30):_0x5d6339['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][-0x9aa*-0x4+-0x129e+0xa*-0x201]=-0x17*-0x10+0x207e+0xb4f*-0x3,this['_colorUnif'+'orm'][-0x1fe0+0x1*-0x2ea+0x22cb]=0xf55+0xd19*-0x1+-0x1*0x23b,this['_colorUnif'+'orm'][0x1762+0x101b+-0x277b]=0x93*-0x44+0x179d+0xf70):(Me['linear'](this['_color']),this['_colorUnif'+'orm'][0x1fb4+-0x120b+-0x1*0xda9]=Me['r'],this['_colorUnif'+'orm'][0x108d+-0x17d6+0x74a]=Me['g'],this['_colorUnif'+'orm'][-0x2*-0x6c4+-0xcfd+-0x89]=Me['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][0x2*-0x545+-0x1*0x482+0x1*0xf0c]=-0xb38+-0x12cd*0x2+-0x823*-0x6,this['_outlineCo'+'lorUniform'][0x42d+-0x1*0x23ad+0x1f81]=-0x6*0x5ef+-0x1fef+0x9*0x781,this['_outlineCo'+'lorUniform'][-0x1*-0x1f1b+-0x1dfb+-0x11e]=-0x1f3a+-0x3e*-0x91+0xf9*-0x4,this['_outlineCo'+'lorUniform'][-0x1f*-0x83+0x1*-0x1169+0x18f]=-0x1ed8+-0x126b+0x3144):(Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x275*0x4+-0x1*-0xedb+0x47*-0x59]=Me['r'],this['_outlineCo'+'lorUniform'][0x494+0xea2+-0x95*0x21]=Me['g'],this['_outlineCo'+'lorUniform'][-0x200b+0x8eb+-0x1*-0x1722]=Me['b'],this['_outlineCo'+'lorUniform'][-0x7*-0x141+0x172*-0xb+0x722]=Me['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][0x18*-0x5f+0x5de+0x30a]=-0x13*-0x17f+0x795+-0x2402,this['_shadowCol'+'orUniform'][0xdd9+0x1*-0x53f+-0x899]=0xb78+-0x3ac*0x4+0x338,this['_shadowCol'+'orUniform'][-0x11ef+0x6fd*0x5+-0x1100]=0x22df+-0x1568+-0xd77,this['_shadowCol'+'orUniform'][-0x10d8+0xf9*0xc+-0x1*-0x52f]=-0x4*0x298+-0x1704+-0x2164*-0x1):(Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x4f2+-0x1736+0x1244]=Me['r'],this['_shadowCol'+'orUniform'][-0x7*-0x319+-0x7c7+0xde7*-0x1]=Me['g'],this['_shadowCol'+'orUniform'][-0x24a9*0x1+0x21d8+0xf1*0x3]=Me['b'],this['_shadowCol'+'orUniform'][0x2ef*-0x4+0x35*-0x79+-0xc44*-0x3]=Me['a']);}['_isWordBou'+'ndary'](_0xf4b254){return fg['test'](_0xf4b254);}['_isValidNe'+'xtChar'](_0x486cd5){return _0x486cd5!==null&&!IR['test'](_0x486cd5);}['_isNextCJK'+'Boundary'](_0x497736,_0x397a7d){return pg['test'](_0x497736)&&(fg['test'](_0x397a7d)||RR['test'](_0x397a7d));}['_isNextCJK'+'WholeWord'](_0x18e09b){return pg['test'](_0x18e09b);}['_updateMes'+'hes'](){const _0x29ae73=this['_font']['data'],_0x167f06=this,_0x11561a=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x16127c=this['_maxFontSi'+'ze'],_0x253ce0=this['_shouldAut'+'oFit']();_0x253ce0&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x3d8b1a=-0x9*-0xe3+0xc*0x1d5+-0x1dd7,_0x39a6a9=this['_symbols']['length'];let _0x2cf189=-0x7*0x15d+-0xb*0x2a1+0x2676,_0x464a43=-0x1dbb+0x18f7+-0x4*-0x131,_0x545040=-0x1323+0x63*0x61+-0x930*0x2,_0x126cb7=-0x137b*-0x1+0x10f4+0x1*-0x246f,_0x18183f=0x1c9*0xe+-0x1889+-0x74,_0xee678a=0x1*-0x896+0x22*0x1b+0x4*0x140,_0x5676f2=0xa*0x26b+0x265b+-0x7*0x8ef,_0x4e8816=-0x264e*0x1+-0x441*0x7+0x4415,_0x45c76f=-0x31*0x57+0x19*0x68+0x67f,_0x17ad5b=0xd*-0x1cf+0x31f+0x6*0x366,_0x5b95f7=0x153d+0x12f1+-0x282e;const _0x3bab65=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=0x1b24+0x1119*0x2+-0x3d56+0.0001;let _0x1f6c26=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x3bab65||!this['_wrapLines'])&&(_0x1f6c26=Number['POSITIVE_I'+'NFINITY']);let _0x1641ab=0x5a3+0x134*0x16+0x1*-0x201b,_0x2a1d2c=0x13*-0x191+0x1f39*0x1+-0x176,_0xf1ce91,_0x5c1243,_0x2cfa77,_0x1739cc;function _0x37b0ea(_0x1ddf4b,_0x38caa0,_0xa46359){_0x167f06['_lineWidth'+'s']['push'](Math['abs'](_0xa46359));const _0x398b50=_0x4e8816>_0x38caa0?_0x38caa0+(-0x7b6*0x5+0x209c+-0x5f3*-0x1):_0x4e8816,_0x1571c6=_0x4e8816>_0x38caa0?_0x4e8816+(0x2*0x7df+0x3f8*-0x2+-0x7cd):_0x38caa0,_0x11c91c=_0x1ddf4b['slice'](_0x398b50,_0x1571c6);if(_0x5b95f7){let _0x23f436=_0x11c91c['length'];for(;_0x23f436--&&_0x5b95f7>-0x3a8+0x5fe*0x6+0x9f*-0x34;)ug['test'](_0x11c91c[_0x23f436])&&(_0x11c91c['splice'](_0x23f436,-0x1f1e+-0x2*-0xb9b+0x7e9),_0x5b95f7--);}_0x167f06['_lineConte'+'nts']['push'](_0x11c91c['join']('')),_0x2cf189=-0x17*0x30+0x6b5*0x3+0x1*-0xfcf,_0x464a43-=_0x167f06['_scaledLin'+'eHeight'],_0x18183f++,_0x45c76f=0x1*0x1e7+-0x10d2+0xeeb,_0x17ad5b=-0x6*-0x3+-0x2df+0xef*0x3,_0x5b95f7=-0x2084+-0x4*0x182+0x268c,_0xee678a=-0x1c8e+0x59d+0x16f1,_0x4e8816=_0x38caa0;}let _0x864f21=!(0x4*-0x4e1+0x2342*-0x1+0x36c6);for(;_0x864f21;){_0x864f21=!(0x47*-0x35+-0x57e+0x1432),_0x253ce0?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||-0x1931*0x1+0x259*-0x5+-0x2*-0x1277+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=0x1eef+0x6b9*-0x3+0x2b1*-0x4,this['height']=-0x22de+-0x19c7*-0x1+0x1*0x917,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x2cf189=-0x20ef*-0x1+-0x998+0x19*-0xef,_0x464a43=-0x25f6+0xc0b+0x19eb,_0x545040=0x6*0x255+-0x1db7+0x23f*0x7,_0x126cb7=0x1*0x4c4+0x39d+-0xc3*0xb,_0x18183f=-0x6fd+-0x251*0x7+-0xd*-0x1c9,_0xee678a=0xd88+-0x7ab+-0x5dd,_0x5676f2=-0xf91*0x1+0x1*0x2202+0x1271*-0x1,_0x4e8816=0xbf7+0x23b*0xb+-0x2480,_0x45c76f=-0x1d5a+-0x1b48+0x38a2,_0x17ad5b=0x25a9*-0x1+0x884+0x1d25,_0x5b95f7=0x179a*-0x1+-0x1706+0x2ea0;const _0x168e8f=this['_fontSize']/_0x3d8b1a;_0x1641ab=this['_fontMinY']*_0x168e8f,_0x2a1d2c=this['_fontMaxY']*_0x168e8f;for(let _0x2abea2=-0x5e5+-0x20f7*-0x1+0x1ef*-0xe;_0x2abea2<this['_meshInfo']['length'];_0x2abea2++)this['_meshInfo'][_0x2abea2]['quad']=0x17e3*-0x1+-0x8*-0x220+0x6e3,this['_meshInfo'][_0x2abea2]['lines']={};let _0x42f074=0x889+-0x5*-0x4f9+-0x2067,_0x239417=0x138f+0x2f*-0x1f+0xcdf*-0x1,_0x198602=-0xb9*0x4+0x20e7*0x1+0x4*-0x741,_0x2c4e83=0x77*-0x3f+-0x1561*-0x1+-0x1*-0x8e7+(0x34*-0x74+-0xf5a+0x27e9)*(0x3*0xb3b+0x5*0x5db+0x14a8*-0x3),_0x29736a=-0x20*0x65+0x2*0x124f+0x349*-0x7+(-0x2*0x821+0x7ca+0x977)*(0xadc+0x9b*-0x22+-0x2*-0x55d),_0x575520=0x1a52+-0x19d9+-0x79,_0x39efdf=-0x10aa+-0x11ab*0x1+0x2354+(-0x1*-0xd3d+-0x58f*0x3+0x46f)*(0xb14+0x5c*-0x6b+0x1c60),_0x215a02=0x24d3+0xd*-0x1d7+0xbe9*-0x1+(-0x17*0x71+0x1b45*0x1+-0x101f*0x1)*(-0x11*-0x56+-0x5*-0x15a+-0xb78),_0x170b7d=0xceb+-0x5*-0x209+0x485*-0x5+(-0xd46*0x2+0x2*-0x672+0x27ef*0x1)*(0x508*0x7+0x106e+-0x6*0x871);for(let _0x89df9e=0xd61+-0x26e7*-0x1+-0x3448;_0x89df9e<_0x39a6a9;_0x89df9e++){if(_0xf1ce91=this['_symbols'][_0x89df9e],_0x1739cc=_0x89df9e+(-0x1*-0x737+0x3*0x90d+0x225d*-0x1)>=_0x39a6a9?null:this['_symbols'][_0x89df9e+(-0x1*0x4ee+0x735+-0x246)],ug['test'](_0xf1ce91)){_0x5b95f7++,(!this['_wrapLines']||this['_maxLines']<0x236d*-0x1+0x221*0x5+0x68*0x3d||_0x18183f<this['_maxLines'])&&(_0x37b0ea(this['_symbols'],_0x89df9e,_0x126cb7),_0x5676f2=_0x89df9e+(-0xc41+0xf17+-0x2d5),_0x4e8816=_0x89df9e+(0x45e*0x8+0x408+0x591*-0x7));continue;}let _0x59e93f=-0xe9f+-0x3*0xc92+0x3455,_0x23f859=-0x1ef9+-0x1076+0x2f6f,_0x5750ff=-0x51b*0x2+-0x13b5+0x1deb,_0x4bb0f7=0x16f8+-0x12c+-0x1*0x15cb,_0x49016b,_0x2bc8c0;if(_0x5c1243=_0x29ae73['chars'][_0xf1ce91],!_0x5c1243){if(DR['indexOf'](_0xf1ce91)!==-(0x1*0x101e+0x2*0x21a+-0x2e7*0x7))_0x5c1243=LR;else{if(_0x29ae73['chars']['\x20'])_0x5c1243=_0x29ae73['chars']['\x20'];else for(const _0x534fb2 in _0x29ae73['chars']){_0x5c1243=_0x29ae73['chars'][_0x534fb2];break;}_0x29ae73['missingCha'+'rs']||(_0x29ae73['missingCha'+'rs']=new Set()),_0x29ae73['missingCha'+'rs']['has'](_0xf1ce91)||(console['warn']('Character\x20'+'\x27'+_0xf1ce91+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x29ae73['info']['face']),_0x29ae73['missingCha'+'rs']['add'](_0xf1ce91));}}if(_0x5c1243){let _0x402886=0x223f*-0x1+-0x2*-0xdf5+0x1*0x655;if(_0x17ad5b>-0x1823+-0xb3*0x24+0x1*0x314f){const _0xccda8b=this['_font']['data']['kerning'];if(_0xccda8b){const _0xabd599=_0xccda8b[ah['getCodePoi'+'nt'](this['_symbols'][_0x89df9e-(-0x1e95+0x43*-0x29+0x1*0x2951)])||-0xd3a+-0xc8c*0x3+0x32de];_0xabd599&&(_0x402886=_0xabd599[ah['getCodePoi'+'nt'](this['_symbols'][_0x89df9e])||-0x1d*0x8e+0x1*-0x1a9a+0x2ab0]||-0xdd9+-0x14db+0x22b4*0x1);}}_0x49016b=_0x5c1243['scale']||-0xa0c+-0xa6+-0xab3*-0x1,_0x2bc8c0=(_0x5c1243['width']+_0x5c1243['height'])/(0xb6b*-0x2+0x1df3+-0x71b),_0x4bb0f7=_0x168e8f*_0x2bc8c0/_0x49016b,_0x5750ff=(_0x5c1243['xadvance']+_0x402886)*_0x168e8f,_0x59e93f=(_0x5c1243['xoffset']-_0x402886)*_0x168e8f,_0x23f859=_0x5c1243['yoffset']*_0x168e8f;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0xf1ce91+'\x27');const _0x1a011b=PR['test'](_0xf1ce91),_0x55ff0d=_0x5c1243&&_0x5c1243['map']||-0x1ea7+-0x15*-0x9b+0x11f0,_0x1cc8cb=-this['_font']['data']['info']['maps'][_0x55ff0d]['width']/this['_font']['data']['info']['maps'][_0x55ff0d]['height'],_0x44658c=this['_meshInfo'][_0x55ff0d],_0x4baecc=_0x2cf189+this['_spacing']*_0x5750ff;if(_0x4baecc>_0x1f6c26&&_0x17ad5b>0x1*-0x1bb5+-0x511+0x20c6&&!_0x1a011b&&(this['_maxLines']<-0x1632+0x1e*-0x27+0x1ac4||_0x18183f<this['_maxLines'])){if(_0x45c76f===-0x881+-0x185b+-0x3*-0xaf4)_0x5676f2=_0x89df9e,_0x37b0ea(this['_symbols'],_0x89df9e,_0x126cb7);else{const _0x202d32=Math['max'](_0x89df9e-_0x5676f2,-0x203b+0x10*-0x203+-0x1579*-0x3);if(this['_meshInfo']['length']<=-0x31d*0x4+0x1349*-0x1+0x1fbe)_0x44658c['lines'][_0x18183f-(0x22f*0xd+-0x4*-0x9aa+0x2*-0x2185)]-=_0x202d32,_0x44658c['quad']-=_0x202d32;else{const _0x814229=_0x5676f2,_0x31e5e6=_0x89df9e;for(let _0x48821c=_0x814229;_0x48821c<_0x31e5e6;_0x48821c++){const _0x1966ba=this['_symbols'][_0x48821c],_0x27fe57=_0x29ae73['chars'][_0x1966ba],_0x392330=this['_meshInfo'][_0x27fe57&&_0x27fe57['map']||-0x45*-0x42+-0x122c*-0x2+-0x3622];_0x392330['lines'][_0x18183f-(0x26e1*0x1+0x12*-0x1a3+-0x1*0x96a)]-=-0x2108+0x1d4a+-0x7*-0x89,_0x392330['quad']-=0x21*-0x61+-0x22*-0x49+0x2d0;}}_0x89df9e-=_0x202d32+(0x4e0+-0xc29+0x74a),_0x37b0ea(this['_symbols'],_0x5676f2,_0xee678a);continue;}}_0x2cfa77=_0x44658c['quad'],_0x44658c['lines'][_0x18183f-(-0x16e6+0x141+-0x22*-0xa3)]=_0x2cfa77;let _0x6160a2=_0x2cf189-_0x59e93f,_0x446a7d=_0x6160a2+_0x4bb0f7;const _0x2a531a=_0x464a43-_0x23f859,_0x497f68=_0x2a531a+_0x4bb0f7;if(this['_rtl']){const _0x4a9b85=_0x4bb0f7-_0x59e93f-this['_spacing']*_0x5750ff-_0x59e93f;_0x6160a2-=_0x4a9b85,_0x446a7d-=_0x4a9b85;}_0x44658c['positions'][_0x2cfa77*(0x38b+-0x247*-0x8+-0x125*0x13)*(-0x35*-0xab+-0x25*-0x3e+-0x2c5a)+(-0x1f81+0x1*0x95+-0x1eec*-0x1)]=_0x6160a2,_0x44658c['positions'][_0x2cfa77*(-0x1*-0xffb+0x266e+-0x19*0x22d)*(-0x2*0x9bb+0x1e67+-0x2*0x577)+(-0x1d45+0x2*0xca4+0x3fe)]=_0x2a531a,_0x44658c['positions'][_0x2cfa77*(0x1f2*0x1+0xeac+0x109a*-0x1)*(0xd37+0x25ea+-0x331e)+(-0x2223+0xcea+0x1*0x153b)]=_0x545040,_0x44658c['positions'][_0x2cfa77*(-0xb3a+0x1e7c+-0x1*0x133e)*(0x9*0x31e+0x5*-0x39d+-0x4fd*0x2)+(-0x24f*-0xa+0x1bec+-0x32ff)]=_0x446a7d,_0x44658c['positions'][_0x2cfa77*(-0x2710+0x14ab+0x1269)*(-0xf92*0x1+0x1325+-0x390)+(0x1ed3+-0x2*0x14b+0x1a9*-0x11)]=_0x2a531a,_0x44658c['positions'][_0x2cfa77*(-0x1046+0x4f+-0x1*-0xffb)*(-0x167*0x1b+-0x3*0x6a1+0x39c3)+(-0x21d4+-0x6c*-0x52+-0xbf*0x1)]=_0x545040,_0x44658c['positions'][_0x2cfa77*(-0xe3c+0x7e+0xdc2)*(0x4c*0xb+0x196c+0x1cad*-0x1)+(-0xb53+0x1256+-0x6fd)]=_0x446a7d,_0x44658c['positions'][_0x2cfa77*(-0x1*-0x1e96+0x4fd+-0x238f)*(-0x1065+-0x25d2+0x363a)+(-0x641+-0x4ed*-0x7+0x1c33*-0x1)]=_0x497f68,_0x44658c['positions'][_0x2cfa77*(0x1051*-0x1+0x11e1+0x4*-0x63)*(-0x63c*0x1+-0x180f+-0x12*-0x1af)+(0x2*0x8b7+0xd4e+-0x1eb4)]=_0x545040,_0x44658c['positions'][_0x2cfa77*(-0x1477+-0xf*0x15+-0x1*-0x15b6)*(0x2655+-0x6*0x402+-0x1*0xe46)+(-0x83*-0x1d+0x1581+-0x244f)]=_0x6160a2,_0x44658c['positions'][_0x2cfa77*(0x57*-0x68+-0x65b+-0x3b*-0xb5)*(-0x1cc3*0x1+0x1*-0x4cd+0x5*0x6b7)+(-0x1ac*0xe+0x5*-0x347+0x27d5)]=_0x497f68,_0x44658c['positions'][_0x2cfa77*(0x118d+0x10e6+-0x226f)*(-0x1626+-0xec+0x1715)+(-0x2*0x6f5+0x2*-0xf90+-0x2d15*-0x1)]=_0x545040,this['width']=Math['max'](this['width'],_0x4baecc);let _0x3d0b83;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x3d0b83=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||0xe1+0x1*0x1cd1+0xb5*-0x2a+0.0001)),_0x3d0b83=N['clamp'](_0x3d0b83,_0x11561a,_0x16127c),_0x3d0b83!==this['_element']['fontSize'])){this['_fontSize']=_0x3d0b83,_0x864f21=!(0xb*0x115+-0xc91*-0x1+-0x1878);break;}if(this['height']=Math['max'](this['height'],_0x2a1d2c-(_0x464a43+_0x1641ab)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x3d0b83=N['clamp'](this['_fontSize']-(-0x2*-0x25c+0x400+-0x1*0x8b7),_0x11561a,_0x16127c),_0x3d0b83!==this['_element']['fontSize'])){this['_fontSize']=_0x3d0b83,_0x864f21=!(0x1*-0x412+0x11ce*0x2+-0x16*0x16f);break;}_0x2cf189+=this['_spacing']*_0x5750ff,_0x1a011b||(_0x126cb7=_0x2cf189),(this['_isWordBou'+'ndary'](_0xf1ce91)||this['_isValidNe'+'xtChar'](_0x1739cc)&&(this['_isNextCJK'+'Boundary'](_0xf1ce91,_0x1739cc)||this['_isNextCJK'+'WholeWord'](_0x1739cc)))&&(_0x45c76f++,_0xee678a=_0x126cb7,_0x5676f2=_0x89df9e+(0x1*0x10f3+-0x70*-0x23+-0x2042)),_0x17ad5b++;const _0x170aab=this['_getUv'](_0xf1ce91);if(_0x44658c['uvs'][_0x2cfa77*(0x23d6+-0x2cd*-0x5+0x31d3*-0x1)*(0xc36*-0x3+0x2*-0xc5+0x12*0x21f)+(-0xaa+-0x2ca+0x374)]=_0x170aab[0x24cf+0x3aa+-0x2879],_0x44658c['uvs'][_0x2cfa77*(0x9b3+-0x148e+0xadf)*(-0x2e*0x2c+-0x136d*-0x1+-0xb83)+(0x5*0x5d7+-0x171*-0x1b+-0x441d)]=-0x447+-0x157*-0x12+-0x13d6-_0x170aab[0xc22+-0x1a51*0x1+0x718*0x2],_0x44658c['uvs'][_0x2cfa77*(-0x14c7+-0x6f8+-0x135*-0x17)*(0x2349+0x1cf8*-0x1+-0x55*0x13)+(-0x1095+0x124f+0xb*-0x28)]=_0x170aab[0x2*-0xad9+0xa*0x359+-0xb*0x112],_0x44658c['uvs'][_0x2cfa77*(-0x1638+-0x1*0x247d+0x3ab9*0x1)*(-0xcb*-0x2e+0x198+0x2610*-0x1)+(0x1*-0x1e0+0x5*0x3b7+-0x10b0)]=0x3d*-0x84+-0x7d*0x19+0x2baa-_0x170aab[0x26e4+-0xed7*-0x1+-0x35ba],_0x44658c['uvs'][_0x2cfa77*(-0x2a1+-0x1d12+0x1*0x1fb7)*(0x14a+0x1*-0x196d+0x1825)+(-0x1afd+-0x1890+-0x2b*-0x133)]=_0x170aab[0xe4c+-0x113c+-0x1d*-0x1a],_0x44658c['uvs'][_0x2cfa77*(-0x115c+-0x6*-0x8f+0xe06)*(0xa*0x1ca+-0x1eb4+0xcd2)+(-0x2694+0x1*-0x1de1+0x447a)]=-0x7*-0x2c6+-0x3*-0x789+-0x2a04-_0x170aab[-0x1d90+0x18f9+0x49a],_0x44658c['uvs'][_0x2cfa77*(-0x1ece+-0x15eb+0x1*0x34bd)*(0x1*0xda0+0x1*0x17e1+0x1*-0x257f)+(0x1*-0x1ab9+0x825*-0x3+0x1997*0x2)]=_0x170aab[-0x2*0xb06+-0x14ff*0x1+0xe59*0x3],_0x44658c['uvs'][_0x2cfa77*(-0xdf+0x1ec*0x11+-0x1fc9)*(-0x690*0x3+0xf*0x61+0xe03)+(-0x24d+0x22f+0x25)]=-0x8a9+-0x5*-0x655+0x1d*-0xcb-_0x170aab[0x1b8d*0x1+-0x1d5+-0x19b5],this['_symbolCol'+'ors']){const _0x558bd0=this['_symbolCol'+'ors'][_0x89df9e]*(-0x1934+-0x151d+0x2e54);_0x42f074=this['_colorPale'+'tte'][_0x558bd0],_0x239417=this['_colorPale'+'tte'][_0x558bd0+(0x1*0xc8+-0x62e+0x567)],_0x198602=this['_colorPale'+'tte'][_0x558bd0+(-0x1*0x736+0x76d+0x35*-0x1)];}if(_0x44658c['colors'][_0x2cfa77*(0x1*-0x3f2+0xe18*-0x2+0x2026)*(0x6*-0x62f+0x75a+-0x2fa*-0xa)+(-0x581*0x3+0x24a+0xe39)]=_0x42f074,_0x44658c['colors'][_0x2cfa77*(0x189*-0xd+0x13fc+-0x3)*(-0x1c7*-0x5+0x829+0x1108*-0x1)+(-0x202*-0xa+0x22eb+-0x36fe)]=_0x239417,_0x44658c['colors'][_0x2cfa77*(0x20a8+0xb*0x86+-0x2666*0x1)*(0x1*0xe89+-0x147+-0xd3e)+(-0x167c+-0x134e+-0x1*-0x29cc)]=_0x198602,_0x44658c['colors'][_0x2cfa77*(-0x105d+-0x167f+-0x8*-0x4dc)*(-0x65*-0x9+-0x22bf+0x1f36)+(-0x8c4+0x1*-0x161+0xa28)]=-0x865+0x44*0xb+0x678,_0x44658c['colors'][_0x2cfa77*(0x1dc+0x114d*0x1+-0x1325)*(0xd3e+0x9dd+0x17*-0x101)+(0xf*-0x1fb+-0x177+0x4*0x7cc)]=_0x42f074,_0x44658c['colors'][_0x2cfa77*(-0x1381*-0x1+0x1101+-0x247e)*(0x1da*-0xd+-0x1*0x19a3+0x3*0x1093)+(0x5*0x3a1+-0x2b*0xb3+0x3*0x3fb)]=_0x239417,_0x44658c['colors'][_0x2cfa77*(0x11e6+-0x5f+-0x1183)*(0x648+0x2e*-0x61+0xb2a)+(-0x5e0*-0x2+0x397*-0x5+-0x9*-0xb1)]=_0x198602,_0x44658c['colors'][_0x2cfa77*(0xe*-0x7+0x1aea+-0x1a84)*(0x2651+0xac1*0x1+0x4e*-0xa1)+(-0x69*0x4c+0x10bb*0x2+-0x243)]=0x1802+-0x1348+-0x3bb,_0x44658c['colors'][_0x2cfa77*(0x1*0x2498+-0x7*-0x30a+0xb92*-0x5)*(0x5*0x527+-0x16bf+-0x300)+(-0x9a8+0x1*-0x1309+0x1cb9)]=_0x42f074,_0x44658c['colors'][_0x2cfa77*(0x11a2+0x173c+-0x3*0xd9e)*(0xaee*0x2+0x24*-0x3d+-0xd44)+(0x199e+-0x1323+-0x672)]=_0x239417,_0x44658c['colors'][_0x2cfa77*(-0x521*-0x5+0x1261+-0x1*0x2c02)*(0x3*-0x1b5+0xeb7+-0x4ca*0x2)+(0x8b*-0xf+0x1c5d*0x1+0x142e*-0x1)]=_0x198602,_0x44658c['colors'][_0x2cfa77*(-0x1547+0x1*-0x442+0x198d)*(-0x2c7*-0x1+-0x5*-0x55+-0x2*0x236)+(0x154d+0x1edc+0x1a0f*-0x2)]=-0x94*0x11+0x1976+-0xea3,_0x44658c['colors'][_0x2cfa77*(-0x8f*-0x16+0x22a5+-0x2eeb*0x1)*(-0xd42+-0xfb*-0x1d+-0xf29)+(0x203a+0xd2d+-0x2ab*0x11)]=_0x42f074,_0x44658c['colors'][_0x2cfa77*(-0x1ed2+-0xe3*0x22+-0xf3f*-0x4)*(-0x1992+0x2500+-0x6*0x1e7)+(0x5*0x161+0x79c+-0xe74)]=_0x239417,_0x44658c['colors'][_0x2cfa77*(-0x4d1*-0x7+0x9*0x233+-0x1abf*0x2)*(0x1*0x1a21+0x43*0x14+-0x1f59)+(0x12d6+-0x3*0x6f0+0x208)]=_0x198602,_0x44658c['colors'][_0x2cfa77*(-0x991+0x145e+-0xac9)*(-0x1267+0xaae+0x7bd)+(0x18e2+-0x1*0x1966+0x7*0x15)]=0x202e+0x13f5+-0x3324,this['_symbolOut'+'lineParams']){const _0xe7125c=this['_symbolOut'+'lineParams'][_0x89df9e]*(0x12f*0x19+0x1c15+-0x1*0x39a7);_0x2c4e83=this['_outlinePa'+'lette'][_0xe7125c]+this['_outlinePa'+'lette'][_0xe7125c+(-0x252f+0x1d00+-0x1*-0x830)]*(-0x1db9+-0x2340+0x41f9*0x1),_0x29736a=this['_outlinePa'+'lette'][_0xe7125c+(0x502+0xfca*-0x1+0xaca)]+this['_outlinePa'+'lette'][_0xe7125c+(0x51b*-0x3+-0x2697+-0x1*-0x35eb)]*(-0x1*-0x26d2+0x1c34+-0x4206),_0x575520=this['_outlinePa'+'lette'][_0xe7125c+(-0x8b0+-0x1*-0x108f+-0x7db)];}if(_0x44658c['outlines'][_0x2cfa77*(-0x1*-0x1733+0x2676+0x1*-0x3da5)*(0x163c+0x14bf+-0x3e8*0xb)+(-0x37*0x1d+-0x2149+0x2784*0x1)]=_0x2c4e83,_0x44658c['outlines'][_0x2cfa77*(0x4*-0x243+-0x224b+-0x3f1*-0xb)*(0xb88+-0x239a+0x19b*0xf)+(-0x25d9*-0x1+-0x1f5c+-0x67c)]=_0x29736a,_0x44658c['outlines'][_0x2cfa77*(0x1f99*-0x1+-0x8a1+0x283e)*(-0x12fe+0x1532+-0x231)+(0x2614+-0x12c3*0x2+-0x23*0x4)]=_0x575520,_0x44658c['outlines'][_0x2cfa77*(-0x83c+0x19df+-0xd*0x15b)*(0x4a*0x5b+-0x2*0xba2+0x5*-0x9b)+(-0x1*-0x22a7+0x17b6*-0x1+-0x1*0xaee)]=_0x2c4e83,_0x44658c['outlines'][_0x2cfa77*(-0x20a0+0x75f+-0x1*-0x1945)*(-0x22d*-0x2+0x1*-0x255f+0x2108)+(-0x5d2*-0x4+0x2fb*0x6+-0x1*0x2926)]=_0x29736a,_0x44658c['outlines'][_0x2cfa77*(-0xed9+0x1a9f+0xe*-0xd7)*(0xf0d*0x2+0x1658+-0x346f)+(-0x20b6+0x1d19*-0x1+-0x2*-0x1eea)]=_0x575520,_0x44658c['outlines'][_0x2cfa77*(0x22d*0x9+0x2230+-0x35c1)*(0x1*0xef0+0x227f+0x316c*-0x1)+(-0x3ad*0x4+0x2ff*-0x2+0x14b8)]=_0x2c4e83,_0x44658c['outlines'][_0x2cfa77*(0x1*-0x547+0x1*0x5c5+-0x1*0x7a)*(0x262c+0x6f*0x38+-0x17*0x2b7)+(-0x13b1*-0x1+-0x1059*0x1+-0x11b*0x3)]=_0x29736a,_0x44658c['outlines'][_0x2cfa77*(0x829*0x2+-0x247f+-0x6bb*-0x3)*(0x6*0x153+-0x16fc+0xf0d*0x1)+(0x1c04+-0x149b+-0x761)]=_0x575520,_0x44658c['outlines'][_0x2cfa77*(-0x259c+0x9*-0x1e2+0x3692)*(-0x1f99+-0x2*0xd12+0x39c0)+(-0x166f+0x2567+0xeef*-0x1)]=_0x2c4e83,_0x44658c['outlines'][_0x2cfa77*(0x172a+-0x5*0x25+-0x166d)*(-0x1690+-0xdcb+0x13*0x1ea)+(0x18b8+0x1*-0x1403+-0xef*0x5)]=_0x29736a,_0x44658c['outlines'][_0x2cfa77*(-0x24c9+-0x10*-0xc0+0x18cd)*(0x1c5*-0x11+-0x5fb*-0x1+0x1*0x181d)+(-0x2*0x73d+-0x1a*0x161+0x325f)]=_0x575520,this['_symbolSha'+'dowParams']){const _0x3f3ee1=this['_symbolSha'+'dowParams'][_0x89df9e]*(0x1bee+-0x58*-0x6b+0x450*-0xf);_0x39efdf=this['_shadowPal'+'ette'][_0x3f3ee1]+this['_shadowPal'+'ette'][_0x3f3ee1+(-0x295+0x4*-0x959+0x1*0x27fa)]*(0x1*-0x102b+-0x179*-0xb+-0x1f*-0x8),_0x215a02=this['_shadowPal'+'ette'][_0x3f3ee1+(-0x257+-0x4ee+0x45*0x1b)]+this['_shadowPal'+'ette'][_0x3f3ee1+(-0x25a8+-0x1487+-0x3a32*-0x1)]*(0x3*0x833+0xc6*0x27+-0x35c3),_0x170b7d=this['_shadowPal'+'ette'][_0x3f3ee1+(-0x64b*-0x1+-0x2*0x141+0xc1*-0x5)]+(0x33e*-0x4+0x1*0x18c2+0x7*-0x19d)+Math['round'](_0x1cc8cb*this['_shadowPal'+'ette'][_0x3f3ee1+(-0x2128+0x1a0a+-0x105*-0x7)]+(0xb7d*-0x1+-0x18a6+0x9*0x412))*(-0xd68+0x5*-0x127+0x142b);}_0x44658c['shadows'][_0x2cfa77*(0x7ca*-0x3+-0x203c+0x379e)*(0x1972*-0x1+0x1c86+-0x311)+(-0x2442+0x11b*0x23+-0x1*0x26f)]=_0x39efdf,_0x44658c['shadows'][_0x2cfa77*(0x9*-0x3+0x3a*-0x1+0x59)*(0x43*0x6d+-0x2670+-0x27b*-0x4)+(0x66f+0xe74+0x63*-0x36)]=_0x215a02,_0x44658c['shadows'][_0x2cfa77*(0x150c+-0x1*-0x2536+-0x3a3e)*(0xe*0xf7+-0x264d+0x18ce)+(-0x754*0x2+-0x79d+0x1647)]=_0x170b7d,_0x44658c['shadows'][_0x2cfa77*(0x2581+-0x189*-0x3+0x704*-0x6)*(0x1e85+0x10*0xba+-0x2a22)+(0x2*-0x952+0x723*0x1+0xb84)]=_0x39efdf,_0x44658c['shadows'][_0x2cfa77*(0x1*-0x1056+0x1fcf+-0x3*0x527)*(-0x1027*-0x1+-0x5d*0x5d+0x11a5)+(0x382*-0x2+-0x268b+0x1*0x2d93)]=_0x215a02,_0x44658c['shadows'][_0x2cfa77*(-0xdae+0x2*0x280+0x173*0x6)*(0x1*0x769+-0x1*-0x1ed5+-0x263b)+(-0xa6c+0x1dd*-0x13+0x2dd8)]=_0x170b7d,_0x44658c['shadows'][_0x2cfa77*(-0x68e+0x3f8+0x29a)*(0x4*-0x457+0x5*-0x770+-0x1*-0x368f)+(-0x266+0x1b62+-0x18f6)]=_0x39efdf,_0x44658c['shadows'][_0x2cfa77*(-0x39*0xd+-0x11*-0x1a7+-0x192e)*(-0x11d*0x22+0x1*0x29b+0x2342)+(0x1be4+0x17b5+0x17*-0x23e)]=_0x215a02,_0x44658c['shadows'][_0x2cfa77*(0x1300+-0xe8d+0xe3*-0x5)*(-0x25cb+-0x820*-0x4+-0xc2*-0x7)+(0x11*0x151+0x4*-0x6e3+0x533)]=_0x170b7d,_0x44658c['shadows'][_0x2cfa77*(-0xceb+0x1e*0xc2+0x1*-0x9cd)*(-0x1f7b*0x1+0x29*0x6b+0xe5b)+(-0x1*-0x120b+0x1f7c+-0x317e)]=_0x39efdf,_0x44658c['shadows'][_0x2cfa77*(0x17e*-0x1+0x17b*0x17+-0x208b*0x1)*(-0x1ce3+0x2220+0x2*-0x29d)+(-0x12e9+0xa0a+0x8e9)]=_0x215a02,_0x44658c['shadows'][_0x2cfa77*(0x1a8e+0x1*0x1cc9+-0x3753)*(-0x9*0x429+-0xb*0x29+0x2737)+(-0x248c+0x1d96+-0xb*-0xa3)]=_0x170b7d,_0x44658c['quad']++;}_0x864f21||_0x4e8816<_0x39a6a9&&_0x37b0ea(this['_symbols'],_0x39a6a9,_0x2cf189);}this['_noResize']=!(-0x12d6+-0xbbf+-0x1e95*-0x1),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(0xfb6*-0x2+-0x1aec+-0x1*-0x3a59);const _0x39bfd1=this['_element']['pivot']['x'],_0x436626=this['_element']['pivot']['y'],_0x2975af=this['_alignment']['x'],_0x285c8c=this['_alignment']['y'];for(let _0xc25d1a=-0xe34+-0x2498+-0x4*-0xcb3;_0xc25d1a<this['_meshInfo']['length'];_0xc25d1a++){if(this['_meshInfo'][_0xc25d1a]['count']===0xd*0xe3+-0x122c*0x1+-0x3f*-0x1b)continue;let _0x4cc205=-0x1*0x2050+-0xb*-0x1b7+0xd73;for(const _0x5be278 in this['_meshInfo'][_0xc25d1a]['lines']){const _0x28e016=this['_meshInfo'][_0xc25d1a]['lines'][_0x5be278],_0x30222f=this['_lineWidth'+'s'][parseInt(_0x5be278,-0x26f9+-0x13*-0x191+-0x4*-0x250)],_0x3836af=-_0x39bfd1*this['_element']['calculated'+'Width']+_0x2975af*(this['_element']['calculated'+'Width']-_0x30222f)*(this['_rtl']?-(-0x1d52+0x2a1*0x2+0x65*0x3d):0x5c*-0x5e+-0x2*-0x5b1+0x47b*0x5),_0x2ea37d=(0x185*-0x13+-0x11e2+0x2ec2-_0x436626)*this['_element']['calculated'+'Height']-_0x2a1d2c-(-0x1*0x11+-0x248b+0x249d*0x1-_0x285c8c)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x134744=_0x4cc205;_0x134744<=_0x28e016;_0x134744++)this['_meshInfo'][_0xc25d1a]['positions'][_0x134744*(0x1aed+0xb0d*-0x1+0x122*-0xe)*(-0x86*-0x1+0xf7*0x8+-0x83b)]+=_0x3836af,this['_meshInfo'][_0xc25d1a]['positions'][_0x134744*(0x2413+-0x1178+-0x1297)*(-0xc72+0x4a0*-0x2+-0x1*-0x15b5)+(-0x3*0xbaf+0xc1e+-0x216*-0xb)]+=_0x3836af,this['_meshInfo'][_0xc25d1a]['positions'][_0x134744*(0x3e0+-0xda9+-0x9cd*-0x1)*(0x5ff+0x1717+-0x1d13)+(-0x263e+-0x8d4+0x89*0x58)]+=_0x3836af,this['_meshInfo'][_0xc25d1a]['positions'][_0x134744*(0x25bb+0x301+-0x28b8)*(-0xd*-0xfa+-0x660+-0x64f)+(0x1d*0x139+-0xe19*-0x1+-0x3185)]+=_0x3836af,this['_meshInfo'][_0xc25d1a]['positions'][_0x134744*(-0xc*0x223+-0x1cf7+0x3b*0xed)*(-0x14bc+-0x10fe+-0x25bd*-0x1)+(0x1b3+0xb62+-0x12*0xba)]+=_0x2ea37d,this['_meshInfo'][_0xc25d1a]['positions'][_0x134744*(0xd*-0x1f7+0x2237+-0x115*0x8)*(-0xdfa+-0x3*-0x5cb+-0x364)+(0x5b5+-0x1ad4+-0x7*-0x305)]+=_0x2ea37d,this['_meshInfo'][_0xc25d1a]['positions'][_0x134744*(-0x5*-0x3c5+0x8*0xde+0x897*-0x3)*(-0x2*-0xdf7+-0xb5d*0x2+-0x1*0x531)+(-0xd51*0x1+0x2*0x469+0x2*0x243)]+=_0x2ea37d,this['_meshInfo'][_0xc25d1a]['positions'][_0x134744*(0x90*0x7+0x243c+-0xa0a*0x4)*(-0x260a+-0x2*-0xc1e+0x49b*0x3)+(0x9ef+-0x7da+-0x20b)]+=_0x2ea37d;if(this['_rtl'])for(let _0x69f29f=_0x4cc205;_0x69f29f<=_0x28e016;_0x69f29f++){const _0x53cdde=_0x69f29f*(-0x1857+0x3be+0x6df*0x3)*(-0x4ef+0x1*-0x7b9+0xcab);for(let _0x224a8d=0x3*-0x3d9+-0x2057*0x1+0x52*0x89;_0x224a8d<0x5*0xd+-0x1*-0xaed+-0xb2a*0x1;++_0x224a8d)this['_meshInfo'][_0xc25d1a]['positions'][_0x53cdde+_0x224a8d*(0x26f8+0xb91+-0x1*0x3286)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0xc25d1a]['positions'][_0x53cdde+_0x224a8d*(-0xb*-0x32b+0x184+-0x245a)]+_0x3836af*(-0x610+0xe*-0x16d+0x1a08);const _0xb45e10=this['_meshInfo'][_0xc25d1a]['positions'][_0x53cdde+(-0x1*-0x1dc5+-0x29d+0x1*-0x1b25)],_0x1abb47=this['_meshInfo'][_0xc25d1a]['positions'][_0x53cdde+(-0x8ac+-0x8a3+0x1155)];this['_meshInfo'][_0xc25d1a]['positions'][_0x53cdde+(0x1*0xd01+-0x42+-0x146*0xa)]=this['_meshInfo'][_0xc25d1a]['positions'][_0x53cdde+(0x1646+0x9*-0x1b9+-0x6c5)],this['_meshInfo'][_0xc25d1a]['positions'][_0x53cdde+(0x18e*0xf+0x112*0x6+0x4*-0x76e)]=this['_meshInfo'][_0xc25d1a]['positions'][_0x53cdde+(-0xaf8+-0x2e3*0x8+0x2219)],this['_meshInfo'][_0xc25d1a]['positions'][_0x53cdde+(-0x1*-0x1bf5+0x1948+0x11bf*-0x3)]=_0xb45e10,this['_meshInfo'][_0xc25d1a]['positions'][_0x53cdde+(-0x1e8f+0x149d+0x7*0x16d)]=_0x1abb47;}_0x4cc205=_0x28e016+(0x2*-0xb51+0x1*0x1391+-0x189*-0x2);}const _0x32dc4c=this['_meshInfo'][_0xc25d1a]['count']*(0x40b*-0x3+-0x137+0xd5c),_0x36309c=this['_meshInfo'][_0xc25d1a]['quad']*(0x3*-0xf5+0x15*0x118+-0x1415*0x1),_0x12f46b=new go(this['_meshInfo'][_0xc25d1a]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0xae7a6=0x1*-0x6be+0x2*0x869+-0xa14;_0xae7a6<_0x32dc4c;_0xae7a6++)_0xae7a6>=_0x36309c?(_0x12f46b['element'][He]['set'](-0x14e7*-0x1+-0x182*-0x7+-0x1f75,-0x25a5+0xcbd+0x18e8,-0xe3c+0x2093+-0x1257),_0x12f46b['element'][ns]['set'](-0x315+0x123*-0x16+0x31f*0x9,-0xe42*-0x1+0x2ae+-0x4*0x43c),_0x12f46b['element'][At]['set'](0x12f1+-0x20da*0x1+-0x3*-0x4a3,0xd27+0x1554+-0x227b,-0xb06+-0x7d3*-0x3+-0xc73,0x4*-0x72e+-0xb55*-0x3+-0x7*0xc1),_0x12f46b['element'][Po]['set'](-0x152*-0x1+0x2244+-0xa*0x38f,0x3*-0x49+-0xee5*0x1+-0x1f8*-0x8,-0x26c+-0x14*0xe8+0x148c,0x21d*-0x2+0x1026+-0xbec),_0x12f46b['element'][Ro]['set'](0x3f*-0x4a+-0xa1f*-0x2+-0x208,0x1727+-0x14cf+-0x258,0x1*0x1fe9+0x3*-0xb8c+0x3*0xe9,0xa1c*-0x1+0x10a8+-0x1*0x68c)):(_0x12f46b['element'][He]['set'](this['_meshInfo'][_0xc25d1a]['positions'][_0xae7a6*(0x45f*-0x1+0x969+0x21*-0x27)+(0x1215+-0x11*0x1e5+0x20*0x71)],this['_meshInfo'][_0xc25d1a]['positions'][_0xae7a6*(0x2164+0x3*-0x66e+-0x1*0xe17)+(-0x4*-0x332+-0x231b+0x1654)],this['_meshInfo'][_0xc25d1a]['positions'][_0xae7a6*(-0xb5e+0x234c+-0x17eb)+(-0x1*0x210e+0x1bc5+-0x5*-0x10f)]),_0x12f46b['element'][ns]['set'](this['_meshInfo'][_0xc25d1a]['uvs'][_0xae7a6*(0x1091*-0x1+0x12d5+-0x242)+(0x127*0x7+0x1421*0x1+-0x1c32)],this['_meshInfo'][_0xc25d1a]['uvs'][_0xae7a6*(0x219a+-0x42+-0x2156)+(-0x2b4*0x5+0x1055*0x1+-0x2d0)]),_0x12f46b['element'][At]['set'](this['_meshInfo'][_0xc25d1a]['colors'][_0xae7a6*(-0x6d*0x1d+-0x2*0x5a6+0x17a9*0x1)+(-0x12f5*-0x1+-0x95+0x60*-0x31)],this['_meshInfo'][_0xc25d1a]['colors'][_0xae7a6*(-0xa*0x257+-0x1*0x187b+0x2fe5)+(0x1*0x1c32+-0xc1*0xd+0x1*-0x1264)],this['_meshInfo'][_0xc25d1a]['colors'][_0xae7a6*(0x26ee+0x1*0x2402+-0x224*0x23)+(0x2*-0x4e2+-0x1b3d+0x2503)],this['_meshInfo'][_0xc25d1a]['colors'][_0xae7a6*(0x64b+-0x2636+0x1fef)+(-0x24f9+0xa0d+0x5*0x563)]),_0x12f46b['element'][Po]['set'](this['_meshInfo'][_0xc25d1a]['outlines'][_0xae7a6*(-0x206d+-0x9cd+0x2a3d)+(0xd*-0xb2+-0x547*-0x7+-0x3*0x94d)],this['_meshInfo'][_0xc25d1a]['outlines'][_0xae7a6*(-0x1dd8+0xb5*0x26+0x33*0xf)+(0x1d80+-0x95*0x35+0x15a)],this['_meshInfo'][_0xc25d1a]['outlines'][_0xae7a6*(0x1*0x6a6+-0xc8d+0x1*0x5ea)+(-0x13c6+-0x20dc+0x8c6*0x6)]),_0x12f46b['element'][Ro]['set'](this['_meshInfo'][_0xc25d1a]['shadows'][_0xae7a6*(0x1b02+0x1108+-0x2c07)+(-0xcc4*0x1+-0xcd6+0x199a)],this['_meshInfo'][_0xc25d1a]['shadows'][_0xae7a6*(0x1*-0x14d+-0x1*-0x36b+-0x31*0xb)+(-0xd*0x2f5+0x23f*0x9+0x1*0x123b)],this['_meshInfo'][_0xc25d1a]['shadows'][_0xae7a6*(0x22b6+-0x1427+0x13*-0xc4)+(-0x1*0x2eb+0x878+0x81*-0xb)])),_0x12f46b['next']();_0x12f46b['end'](),this['_meshInfo'][_0xc25d1a]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0xc25d1a]['positions']),this['_meshInfo'][_0xc25d1a]['meshInstan'+'ce']['_aabbVer']=-(0x24d9*0x1+0x1af*0x7+-0x30a1*0x1);}this['_aabbDirty']=!(-0x2*0x12cc+0x1588+0x1010);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x1d6011){this['font']!==_0x1d6011['resource']&&(this['font']=_0x1d6011['resource']);}['_onFontCha'+'nge'](_0x1355ed,_0x182877,_0x47b0c3,_0x34c715){if(_0x182877==='data'){this['_font']['data']=_0x47b0c3;const _0xf391=this['_font']['data']['info']['maps']['length'];for(let _0x5d02bf=0x13bc+-0x1774+-0x1c*-0x22;_0x5d02bf<_0xf391;_0x5d02bf++){if(!this['_meshInfo'][_0x5d02bf])continue;const _0x30f445=this['_meshInfo'][_0x5d02bf]['meshInstan'+'ce'];_0x30f445&&(_0x30f445['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x30f445['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x30f445['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x5d02bf]['width']));}}}['_onFontRem'+'ove'](_0x4f0a78){}['_setTextur'+'eParams'](_0xae41b2,_0x131354){this['_font']&&(this['_font']['type']===Kh?(_0xae41b2['deletePara'+'meter']('texture_em'+'issiveMap'),_0xae41b2['deletePara'+'meter']('texture_op'+'acityMap'),_0xae41b2['setParamet'+'er']('texture_ms'+'dfMap',_0x131354)):this['_font']['type']===yR&&(_0xae41b2['deletePara'+'meter']('texture_ms'+'dfMap'),_0xae41b2['setParamet'+'er']('texture_em'+'issiveMap',_0x131354),_0xae41b2['setParamet'+'er']('texture_op'+'acityMap',_0x131354)));}['_getPxRang'+'e'](_0x2a3f49){const _0xe5b5d7=Object['keys'](this['_font']['data']['chars']);for(let _0x529ac1=-0x7d5*0x2+-0x1*-0xbf+0xeeb;_0x529ac1<_0xe5b5d7['length'];_0x529ac1++){const _0x140870=this['_font']['data']['chars'][_0xe5b5d7[_0x529ac1]];if(_0x140870['range'])return(_0x140870['scale']||0x1c37+-0x1*0x1459+-0xb7*0xb)*_0x140870['range'];}return 0x1b91+-0x53c+-0x1653;}['_getUv'](_0x1c1bae){const _0x1b23d6=this['_font']['data'];if(!_0x1b23d6['chars'][_0x1c1bae]){const _0x8dfae4='\x20';return _0x1b23d6['chars'][_0x8dfae4]?this['_getUv'](_0x8dfae4):[-0x2001+0x1*-0x575+-0x89*-0x46,-0x1b64*-0x1+-0x251f+0x2f*0x35,0x243*0x9+-0x10*-0x153+-0x298b,-0xb*0x3b+-0x147*0x12+0x1*0x1987];}const _0x5b88a0=_0x1b23d6['chars'][_0x1c1bae]['map'],_0x3e6b80=_0x1b23d6['info']['maps'][_0x5b88a0]['width'],_0x3930c6=_0x1b23d6['info']['maps'][_0x5b88a0]['height'],_0xe96bcb=_0x1b23d6['chars'][_0x1c1bae]['x'],_0x39e006=_0x1b23d6['chars'][_0x1c1bae]['y'],_0x34185a=_0xe96bcb,_0x5389c2=_0x39e006,_0xcaa8ec=_0xe96bcb+_0x1b23d6['chars'][_0x1c1bae]['width'],_0x2fcfef=_0x39e006-_0x1b23d6['chars'][_0x1c1bae]['height'],_0x47f8a0=-0x1*-0x1cf+0x1*0x10f+0x2dd*-0x1-_0x1b23d6['chars'][_0x1c1bae]['height']/_0x3930c6;return[_0x34185a/_0x3e6b80,_0x47f8a0-_0x5389c2/_0x3930c6,_0xcaa8ec/_0x3e6b80,_0x47f8a0-_0x2fcfef/_0x3930c6];}['onEnable'](){this['_fontAsset']['autoLoad']=!(0x14b4*-0x1+-0x8e7*-0x1+0xbcd),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(0x3*0xb26+-0xdde+0x1*-0x1393),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x496095){if(this['_model']){const _0x213ac7=this['_model']['meshInstan'+'ces'];for(let _0x11879e=0x1154+0x15eb+-0x273f;_0x11879e<_0x213ac7['length'];_0x11879e++)_0x213ac7[_0x11879e]['stencilFro'+'nt']=_0x496095,_0x213ac7[_0x11879e]['stencilBac'+'k']=_0x496095;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x5c069b){const _0x2e1344={};_0x5c069b===void(0x1*-0x95c+-0xcda+0x1636)&&(_0x5c069b=this['_symbols']['length']);for(let _0x232d6b=-0xef7+-0x3c7*0x7+0x1a8*0x19,_0x28bd3c=_0x5c069b;_0x232d6b<_0x28bd3c;_0x232d6b++){const _0x2f0f0d=this['_symbols'][_0x232d6b];let _0x101478=this['_font']['data']['chars'][_0x2f0f0d];_0x101478||(_0x101478=this['_font']['data']['chars']['\x20'],_0x101478||(_0x101478=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[-0x1f12*-0x1+0x1646*-0x1+0x4*-0x233]]));const _0xb73d25=_0x101478['map'];_0x2e1344[_0xb73d25]?_0x2e1344[_0xb73d25]++:_0x2e1344[_0xb73d25]=0x9a*-0x6+0x116*-0x2+0x5c9;}return _0x2e1344;}['_updateRen'+'derRange'](){const _0x3b7cc1=this['_rangeStar'+'t']===0x1ccd*0x1+0x1bf2+-0x38bf?-0x207*0xf+0x3*-0x131+0x21fc:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x1c2422=this['_rangeEnd']===-0x4f1+-0x989*0x1+0x73d*0x2?0x446*0x3+-0x5bd*-0x3+-0x1e09:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x175270=-0x33*-0x29+0xf79+0x44*-0x59,_0x80efd1=this['_meshInfo']['length'];_0x175270<_0x80efd1;_0x175270++){const _0xc123a3=_0x3b7cc1[_0x175270]||0x1*-0x136d+0x1*-0x7b8+0x1b25,_0x2bbb55=_0x1c2422[_0x175270]||-0x9*-0x389+-0x1b02+-0x4cf,_0x252ae2=this['_meshInfo'][_0x175270]['meshInstan'+'ce'];if(_0x252ae2){const _0x1dea99=_0x252ae2['mesh'];_0x1dea99&&(_0x1dea99['primitive'][-0x5c*-0x67+-0x18ad+-0xc57]['base']=_0xc123a3*(-0x9b+0x1d1d*0x1+0x1c7f*-0x1)*(-0x1*-0x3d2+0x12f+-0x4ff),_0x1dea99['primitive'][-0x58f*0x1+0x1f70+-0x19e1]['count']=(_0x2bbb55-_0xc123a3)*(-0xae*0x7+0x16ae+0x7*-0x28f)*(0x5be+-0x11cc+-0xc10*-0x1));}}}set['text'](_0x3549f8){this['_i18nKey']=null;const _0x11aa83=_0x3549f8!=null&&_0x3549f8['toString']()||'';this['_setText'](_0x11aa83);}get['text'](){return this['_text'];}set['key'](_0x4f6171){const _0x25ebbf=_0x4f6171!==null?_0x4f6171['toString']():null;this['_i18nKey']!==_0x25ebbf&&(this['_i18nKey']=_0x25ebbf,_0x25ebbf?(this['_fontAsset']['disableLoc'+'alization']=!(-0x1*-0x755+0x1848+-0x77*0x44),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(0x19b*0xb+0x20f0+0x3299*-0x1));}get['key'](){return this['_i18nKey'];}set['color'](_0x3d777a){const _0x580227=_0x3d777a['r'],_0xe3d45f=_0x3d777a['g'],_0x2df8d1=_0x3d777a['b'];if(this['_color']===_0x3d777a&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x580227&&this['_color']['g']===_0xe3d45f&&this['_color']['b']===_0x2df8d1)&&(this['_color']['r']=_0x580227,this['_color']['g']=_0xe3d45f,this['_color']['b']=_0x2df8d1,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_color']),this['_colorUnif'+'orm'][0x2149*0x1+0x1537*-0x1+-0x406*0x3]=Me['r'],this['_colorUnif'+'orm'][-0x2c7+-0xf*0xfb+-0x197*-0xb]=Me['g'],this['_colorUnif'+'orm'][-0x60e+-0x14b*0x4+0xb3c]=Me['b'];for(let _0x362a13=0x1cd2+-0x2389*0x1+-0x23d*-0x3,_0x2e20eb=this['_model']['meshInstan'+'ces']['length'];_0x362a13<_0x2e20eb;_0x362a13++)this['_model']['meshInstan'+'ces'][_0x362a13]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x1dbf74){if(this['_color']['a']!==_0x1dbf74&&(this['_color']['a']=_0x1dbf74,this['_model'])){for(let _0x223b8d=-0x1*0x817+0x5*-0x369+0x1924,_0x2349bc=this['_model']['meshInstan'+'ces']['length'];_0x223b8d<_0x2349bc;_0x223b8d++)this['_model']['meshInstan'+'ces'][_0x223b8d]['setParamet'+'er']('material_o'+'pacity',_0x1dbf74);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x1dbf74);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x68f536){const _0x190411=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x68f536,this['_scaledLin'+'eHeight']=_0x68f536,_0x190411!==_0x68f536&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x1f127a){const _0x31c975=this['_wrapLines'];this['_wrapLines']=_0x1f127a,_0x31c975!==_0x1f127a&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x166039){const _0x45b006=this['_spacing'];this['_spacing']=_0x166039,_0x45b006!==_0x166039&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x11b524){const _0x5086b3=this['_fontSize'];this['_fontSize']=_0x11b524,this['_originalF'+'ontSize']=_0x11b524,_0x5086b3!==_0x11b524&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x3bd6a3){this['_fontAsset']['defaultAss'+'et']=_0x3bd6a3;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x57812a){let _0x2e6454;if(this['_font']&&(_0x2e6454=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x57812a,this['_fontMinY']=-0x9f5+0x182*-0xd+0x1*0x1d8f,this['_fontMaxY']=-0xfb6*-0x1+0x7d6+-0x178c,!_0x57812a)return;const _0x28d396=this['_font']['data'];for(const _0x299520 in _0x28d396['chars']){const _0x4ebb97=_0x28d396['chars'][_0x299520];_0x4ebb97['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x4ebb97['bounds'][0xa92+0x1eff+0x8c*-0x4c]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x4ebb97['bounds'][0xd80+0x4*-0x4fd+0x677]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x57812a['type']!==_0x2e6454){const _0xc4fada=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0xc4fada);}for(let _0x2f3dc6=0x5*-0x3dd+0xad5*-0x1+0x1e26,_0x1879b4=this['_font']['textures']['length'];_0x2f3dc6<_0x1879b4;_0x2f3dc6++)if(!this['_meshInfo'][_0x2f3dc6])this['_meshInfo'][_0x2f3dc6]=new CR();else{const _0x2d44ac=this['_meshInfo'][_0x2f3dc6]['meshInstan'+'ce'];_0x2d44ac&&(_0x2d44ac['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x2d44ac['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x2d44ac['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x2f3dc6]['width']),this['_setTextur'+'eParams'](_0x2d44ac,this['_font']['textures'][_0x2f3dc6]));}let _0x19e2d1=!(0xfcd+-0x7*0x1bb+-0x3af*0x1);for(let _0x98a9f8=this['_font']['textures']['length'];_0x98a9f8<this['_meshInfo']['length'];_0x98a9f8++)this['_meshInfo'][_0x98a9f8]['meshInstan'+'ce']&&(_0x19e2d1||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x19e2d1=!(-0x2f*-0x30+0x18a*-0xd+-0xb32*-0x1)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x98a9f8]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x299943){_0x299943 instanceof W?this['_alignment']['set'](_0x299943['x'],_0x299943['y']):this['_alignment']['set'](_0x299943[-0x2f+-0x1ed*0x10+-0x633*-0x5],_0x299943[-0x1027+0x21b+0xb*0x147]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x41295a){const _0x373df=this['_autoWidth'];if(this['_autoWidth']=_0x41295a,_0x41295a&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<-0xa75*0x1+-0x2*0x269+0x1*0xf47+0.0001&&(this['_element']['width']=this['width']),_0x373df!==_0x41295a){const _0x2ee1aa=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x2ee1aa!==this['_fontSize']&&(this['_fontSize']=_0x2ee1aa,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x7e917e){const _0x4aa1da=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x7e917e,_0x7e917e&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<0xa*-0x1f9+-0x6d9+0x1a93+0.0001&&(this['_element']['height']=this['height']),_0x4aa1da!==_0x7e917e){const _0x4dea46=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x4dea46!==this['_fontSize']&&(this['_fontSize']=_0x4dea46,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x54d0e1){this['_rtlReorde'+'r']!==_0x54d0e1&&(this['_rtlReorde'+'r']=_0x54d0e1,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x43fa88){this['_unicodeCo'+'nverter']!==_0x43fa88&&(this['_unicodeCo'+'nverter']=_0x43fa88,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x1f40c0=!(-0x257+-0x1178*0x1+-0x13d0*-0x1);for(let _0x43f504=0x76+0x349*0x1+-0x3bf;_0x43f504<this['_meshInfo']['length'];_0x43f504++)this['_meshInfo'][_0x43f504]['meshInstan'+'ce']&&(_0x1f40c0?this['_aabb']['add'](this['_meshInfo'][_0x43f504]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x43f504]['meshInstan'+'ce']['aabb']),_0x1f40c0=!(-0x25e7+0x532+0x20b5)));this['_aabbDirty']=!(0x1*-0x2137+-0x9d4+0x14*0x227);}return this['_aabb'];}set['outlineCol'+'or'](_0x3bf3ce){const _0x57fdc4=_0x3bf3ce instanceof Y?_0x3bf3ce['r']:_0x3bf3ce[0x2*0x315+-0xbd+-0x1*0x56d],_0x429205=_0x3bf3ce instanceof Y?_0x3bf3ce['g']:_0x3bf3ce[0x19*-0xcd+0x160d+-0xad*0x3],_0x1bcad1=_0x3bf3ce instanceof Y?_0x3bf3ce['b']:_0x3bf3ce[0x844+-0x8f8+0x5b*0x2],_0x59ceda=_0x3bf3ce instanceof Y?_0x3bf3ce['a']:_0x3bf3ce[-0x7f*0x11+0x1554+0x22*-0x61];if(this['_outlineCo'+'lor']===_0x3bf3ce&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x57fdc4&&this['_outlineCo'+'lor']['g']===_0x429205&&this['_outlineCo'+'lor']['b']===_0x1bcad1&&this['_outlineCo'+'lor']['a']===_0x59ceda)&&(this['_outlineCo'+'lor']['r']=_0x57fdc4,this['_outlineCo'+'lor']['g']=_0x429205,this['_outlineCo'+'lor']['b']=_0x1bcad1,this['_outlineCo'+'lor']['a']=_0x59ceda,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x144e+0xbb7+0x1*-0x2005]=Me['r'],this['_outlineCo'+'lorUniform'][0x2037*0x1+-0x1*-0x837+-0x286d]=Me['g'],this['_outlineCo'+'lorUniform'][-0x52*0xd+-0x1*-0x1075+-0xc49]=Me['b'],this['_outlineCo'+'lorUniform'][-0x175b+-0x16*0x102+0x2d8a]=Me['a'];for(let _0x3187b2=0xebc+-0x1*-0x1487+-0x33*0xb1,_0x3ff0dc=this['_model']['meshInstan'+'ces']['length'];_0x3187b2<_0x3ff0dc;_0x3187b2++)this['_model']['meshInstan'+'ces'][_0x3187b2]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x136215){const _0x3b9bb8=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x136215,_0x3b9bb8!==_0x136215&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x45100a=0x100*0x2+-0xbac+0x26b*0x4,_0x55397b=this['_model']['meshInstan'+'ces']['length'];_0x45100a<_0x55397b;_0x45100a++)this['_model']['meshInstan'+'ces'][_0x45100a]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0xbb8140){const _0x2bf6ac=_0xbb8140 instanceof Y?_0xbb8140['r']:_0xbb8140[0x1619+-0x60a+-0x100f],_0x3990ec=_0xbb8140 instanceof Y?_0xbb8140['g']:_0xbb8140[-0x1*-0x13a3+0x1*0xf94+-0x119b*0x2],_0x498df4=_0xbb8140 instanceof Y?_0xbb8140['b']:_0xbb8140[-0x9b8+-0x16ba+0x2074],_0x15d087=_0xbb8140 instanceof Y?_0xbb8140['a']:_0xbb8140[-0x14e8+-0x1f*-0x95+0x2e*0x10];if(this['_shadowCol'+'or']===_0xbb8140&&v['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x2bf6ac&&this['_shadowCol'+'or']['g']===_0x3990ec&&this['_shadowCol'+'or']['b']===_0x498df4&&this['_shadowCol'+'or']['a']===_0x15d087)&&(this['_shadowCol'+'or']['r']=_0x2bf6ac,this['_shadowCol'+'or']['g']=_0x3990ec,this['_shadowCol'+'or']['b']=_0x498df4,this['_shadowCol'+'or']['a']=_0x15d087,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x208*0x5+-0x40d*-0x1+0x1*-0xe35]=Me['r'],this['_shadowCol'+'orUniform'][-0x1b*0x169+0x2561+0xb3]=Me['g'],this['_shadowCol'+'orUniform'][-0x1dbe+-0x13fa+0x31ba]=Me['b'],this['_shadowCol'+'orUniform'][0xdfd+-0x17a5+0x9ab]=Me['a'];for(let _0x19380a=-0x7*0x2d1+-0x57b*0x1+0x1932,_0x386a6a=this['_model']['meshInstan'+'ces']['length'];_0x19380a<_0x386a6a;_0x19380a++)this['_model']['meshInstan'+'ces'][_0x19380a]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x5da9cb){const _0x4ad8a8=_0x5da9cb instanceof W?_0x5da9cb['x']:_0x5da9cb[-0xea6+-0x1725+0x1*0x25cb],_0x247f9e=_0x5da9cb instanceof W?_0x5da9cb['y']:_0x5da9cb[-0x28*-0x6f+-0x1863+0x70c];if(!(this['_shadowOff'+'set']['x']===_0x4ad8a8&&this['_shadowOff'+'set']['y']===_0x247f9e)&&(this['_shadowOff'+'set']['set'](_0x4ad8a8,_0x247f9e),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x139dc3=-0x1f0b+-0x5*0x2ea+0x2d9d,_0x27b698=this['_model']['meshInstan'+'ces']['length'];_0x139dc3<_0x27b698;_0x139dc3++){const _0x1d01c6=-this['_font']['data']['info']['maps'][_0x139dc3]['width']/this['_font']['data']['info']['maps'][_0x139dc3]['height'];this['_shadowOff'+'setUniform'][0x3*-0x7db+-0x194*0xb+0x28ed*0x1]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0x1*-0x9d9+0x8b8+-0x1b0*0xb]=_0x1d01c6*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x139dc3]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x23171f){this['_minFontSi'+'ze']!==_0x23171f&&(this['_minFontSi'+'ze']=_0x23171f,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x5c1809){this['_maxFontSi'+'ze']!==_0x5c1809&&(this['_maxFontSi'+'ze']=_0x5c1809,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x204e57){this['_autoFitWi'+'dth']!==_0x204e57&&(this['_autoFitWi'+'dth']=_0x204e57,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x469aa5){this['_autoFitHe'+'ight']!==_0x469aa5&&(this['_autoFitHe'+'ight']=_0x469aa5,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x29a02e){this['_maxLines']!==_0x29a02e&&(_0x29a02e===null&&this['_maxLines']===-(-0x2f*0xaf+-0x9d*-0x2e+-0x4*-0xfb)||(this['_maxLines']=_0x29a02e===null?-(-0x1225*-0x1+-0x2697+0x1473):_0x29a02e,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x1c3c18){if(_0x1c3c18=!!_0x1c3c18,this['_enableMar'+'kup']===_0x1c3c18)return;this['_enableMar'+'kup']=_0x1c3c18,this['font']&&this['_updateTex'+'t']();const _0x46bf15=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x46bf15);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x381af0){return this['_colorPale'+'tte']['slice'](_0x381af0*(-0xed+0xed6*-0x2+0x1e9c),_0x381af0*(0x1090+0x2386+-0x3413)+(-0x1*0x11c7+0x2663*0x1+-0x1499));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x2f63f0){return this['_outlinePa'+'lette']['slice'](_0x2f63f0*(0x816+-0x1386+0xb75),_0x2f63f0*(-0x5e7*-0x4+-0x108e+-0x709)+(-0x7*-0x394+-0x110b+-0x1ff*0x4));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x430610){return this['_shadowPal'+'ette']['slice'](_0x430610*(-0x7ed+-0x15b*0x1+-0x4a7*-0x2),_0x430610*(0x49e+0x1*-0x35e+-0x1*0x13a)+(-0x31*0xe+0x49d*0x4+-0xfc0));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x450259){_0x450259=Math['max'](-0x38e+-0x1b60+0x1eee,Math['min'](_0x450259,this['_symbols']['length'])),_0x450259!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x450259,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x1efe30){_0x1efe30=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x1efe30,this['_symbols']['length'])),_0x1efe30!==this['_rangeEnd']&&(this['_rangeEnd']=_0x1efe30,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Kd=new T(),_g=new q(),ni=new T(),kR=new T(),es=new q(),Yl=new q(),Kl=new q(),zn=new q();class Gt extends ue{constructor(_0x16a60c,_0xefcc0c){super(_0x16a60c,_0xefcc0c),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(-0x1097+0x2*0x1307+0xabb*-0x2),this['_anchor']=new Q(),this['_localAnch'+'or']=new Q(),this['_pivot']=new W(),this['_width']=this['_calculate'+'dWidth']=-0x357+0x1877+-0x1c0*0xc,this['_height']=this['_calculate'+'dHeight']=-0xd80+0x29b*-0x8+0x4*0x89e,this['_margin']=new Q(-0x52*0xb+0x1658+-0x12d2,-0x1c24+-0x1d3*0x14+0x40a0,-(0x1*0xd46+0x13be+0x14*-0x1a5),-(-0x218e+0x1e64+0x34a)),this['_modelTran'+'sform']=new q(),this['_screenToW'+'orld']=new q(),this['_anchorTra'+'nsform']=new q(),this['_anchorDir'+'ty']=!(-0x11e3*0x2+0x1826+0x4*0x2e8),this['_parentWor'+'ldTransfor'+'m']=new q(),this['_screenTra'+'nsform']=new q(),this['_screenCor'+'ners']=[new T(),new T(),new T(),new T()],this['_canvasCor'+'ners']=[new W(),new W(),new W(),new W()],this['_worldCorn'+'ers']=[new T(),new T(),new T(),new T()],this['_cornersDi'+'rty']=!(0x1d8a+0x4*-0x593+-0x135*0x6),this['_canvasCor'+'nersDirty']=!(-0x3*-0x4b9+-0xe47+0x1c),this['_worldCorn'+'ersDirty']=!(-0xf29*-0x1+0x1a94+-0x29bd),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=_h,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=0x1*-0x173d+-0x1*-0x1995+-0x258,this['_fitMode']=gh,this['_useInput']=!(0x1*-0x1192+0x33e+0x3*0x4c7),this['_layers']=[tl],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(0x76f*0x1+0x502+-0x1*0xc70),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=0x1*-0x9e3+0x931+0xb2,this['_maskOffse'+'t']=0xbf9*-0x2+0xb3d*-0x2+0x2e6c+0.5,this['_maskedBy']=null);}get['data'](){const _0x1242bb=this['system']['store'][this['entity']['getGuid']()];return _0x1242bb?_0x1242bb['data']:null;}set['enabled'](_0x33327c){const _0x235d53=this['data'],_0x20b57f=_0x235d53['enabled'];_0x235d53['enabled']=_0x33327c,this['fire']('set','enabled',_0x20b57f,_0x33327c);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>0x13bc*-0x1+0xfe+-0x2*-0x95f+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>0xb*0x74+-0x1c11+0x1715*0x1+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x2254f3){_0x2254f3 instanceof Q?this['_anchor']['copy'](_0x2254f3):this['_anchor']['set'](..._0x2254f3),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(0xeec+0x246b+-0x1*0x3357),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x47931f){var _0x266b3b,_0x3c60dc;this['_batchGrou'+'pId']!==_0x47931f&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x10e0+0x1fab+-0x308b&&((_0x266b3b=this['system']['app']['batcher'])==null||_0x266b3b['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x47931f>=-0xd*0xd+-0x1726*0x1+0x17cf&&((_0x3c60dc=this['system']['app']['batcher'])==null||_0x3c60dc['insert'](et['ELEMENT'],_0x47931f,this['entity'])),_0x47931f<0xd8b*0x2+-0x13d*0xc+-0xc3a&&this['_batchGrou'+'pId']>=0x113a+-0x17cb+0x691&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x47931f);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x45e43f){this['_margin']['y']=_0x45e43f;const _0x20f827=this['entity']['getLocalPo'+'sition'](),_0x4294c7=this['_absTop'],_0xdb0443=this['_localAnch'+'or']['y']+_0x45e43f;this['_setHeight'](_0x4294c7-_0xdb0443),_0x20f827['y']=_0x45e43f+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x20f827);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x4b191a){this['_setCalcul'+'atedWidth'](_0x4b191a,!(0x1a*-0x149+-0x1*0xb6a+0x2cd4));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x2b8090){this['_setCalcul'+'atedHeight'](_0x2b8090,!(-0x15a5+-0x1*-0x22f4+-0xd4f));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x1e8063=this['system']['app']['graphicsDe'+'vice'],_0x21923f=this['screenCorn'+'ers'],_0x7b199c=_0x1e8063['canvas']['clientWidt'+'h']/_0x1e8063['width'],_0x5d21aa=_0x1e8063['canvas']['clientHeig'+'ht']/_0x1e8063['height'];for(let _0x365107=0x18d*0xf+-0xa7*-0x28+-0x315b;_0x365107<-0x132a+0x2569+-0x123b;_0x365107++)this['_canvasCor'+'ners'][_0x365107]['set'](_0x21923f[_0x365107]['x']*_0x7b199c,(_0x1e8063['height']-_0x21923f[_0x365107]['y'])*_0x5d21aa);return this['_canvasCor'+'nersDirty']=!(-0x44*0x60+0x67*0x22+0xbd3),this['_canvasCor'+'ners'];}set['drawOrder'](_0x40e690){let _0x4027fd=0x22e3+-0x8c*-0x17+-0x2f77;this['screen']&&(_0x4027fd=this['screen']['screen']['priority']),_0x40e690>-0x616*0x4644+-0x15b7d0e+0xdbf8f*0x4b&&(v['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x40e690=0xd689a2+0xf7bf09+-0xce48ac),this['_drawOrder']=(_0x4027fd<<0x1cdf+-0x21*-0x10f+-0x3fb6)+_0x40e690,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x2f4dc7){this['_height']=_0x2f4dc7,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x2f4dc7,!(0x1*0x1d36+0x931+0x1*-0x2667)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x36dba5){if(this['_addedMode'+'ls']['length'])for(let _0x2195e2=-0x238+0xc48+-0x10*0xa1;_0x2195e2<this['_layers']['length'];_0x2195e2++){const _0x3e240a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x2195e2]);if(_0x3e240a){for(let _0x47445c=-0x1dc+0x1cd*0x15+-0x23*0x107;_0x47445c<this['_addedMode'+'ls']['length'];_0x47445c++)_0x3e240a['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x47445c]['meshInstan'+'ces']);}}if(this['_layers']=_0x36dba5,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x48f1d4=0x19cd+-0xc3e+-0xd8f;_0x48f1d4<this['_layers']['length'];_0x48f1d4++){const _0x3bf6b4=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x48f1d4]);if(_0x3bf6b4){for(let _0x26f6c5=-0x1e93+0x1755*-0x1+0x64*0x8a;_0x26f6c5<this['_addedMode'+'ls']['length'];_0x26f6c5++)_0x3bf6b4['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x26f6c5]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x4b5d1d){this['_margin']['x']=_0x4b5d1d;const _0x1dcb51=this['entity']['getLocalPo'+'sition'](),_0x5a5874=this['_absRight'],_0x34a101=this['_localAnch'+'or']['x']+_0x4b5d1d;this['_setWidth'](_0x5a5874-_0x34a101),_0x1dcb51['x']=_0x4b5d1d+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x1dcb51);}get['left'](){return this['_margin']['x'];}set['margin'](_0x5dd2a3){this['_margin']['copy'](_0x5dd2a3),this['_calculate'+'Size'](!(-0x832*0x1+-0x442+0xc74),!(-0x1*-0x3d7+0x1e62+0x2239*-0x1)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x451a16){const {pivot:_0x1e8091,margin:_0xdad419}=this,_0x4a3e45=_0x1e8091['x'],_0x44ca96=_0x1e8091['y'];_0x451a16 instanceof W?_0x1e8091['copy'](_0x451a16):_0x1e8091['set'](..._0x451a16);const _0x2e9246=_0xdad419['x']+_0xdad419['z'],_0x8f8af1=_0x1e8091['x']-_0x4a3e45;_0xdad419['x']+=_0x2e9246*_0x8f8af1,_0xdad419['z']-=_0x2e9246*_0x8f8af1;const _0x216fcd=_0xdad419['y']+_0xdad419['w'],_0x2414bc=_0x1e8091['y']-_0x44ca96;_0xdad419['y']+=_0x216fcd*_0x2414bc,_0xdad419['w']-=_0x216fcd*_0x2414bc,this['_anchorDir'+'ty']=!(0x1e6b+0x21*0x55+-0x2960),this['_cornersDi'+'rty']=!(0xf7d+0x16eb*0x1+-0x2668),this['_worldCorn'+'ersDirty']=!(0x1ba6+-0xc07*-0x2+-0x33b4),this['_calculate'+'Size'](!(-0x25aa+-0x613+0x16*0x1fd),!(-0x256f+0x3*0x7de+0xdd6)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x1e8091);}get['pivot'](){return this['_pivot'];}set['right'](_0x38df67){this['_margin']['z']=_0x38df67;const _0x4a99c2=this['entity']['getLocalPo'+'sition'](),_0x548e1a=this['_absLeft'],_0x1e052a=this['_localAnch'+'or']['z']-_0x38df67;this['_setWidth'](_0x1e052a-_0x548e1a),_0x4a99c2['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x38df67-this['_calculate'+'dWidth']*(-0x5fe+-0x2374+-0x9*-0x49b-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x4a99c2);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x1463f4=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][0x4*-0x50a+0x5*0x660+0x3c*-0x32];this['_screenCor'+'ners'][-0x1b94*0x1+0x249+0x194b]['set'](this['_absLeft'],this['_absBottom'],-0x1241+0x1a23+-0x2*0x3f1),this['_screenCor'+'ners'][-0x1bfc+0x6*-0x19c+0x25a5]['set'](this['_absRight'],this['_absBottom'],-0x1316+-0x4*-0x6c9+-0x80e),this['_screenCor'+'ners'][0x3*-0xad9+-0x193*0x13+0x3e76]['set'](this['_absRight'],this['_absTop'],0x16d0+0x51d+-0x1bed),this['_screenCor'+'ners'][0x1d68+-0x1*-0xfb6+-0x2d1b]['set'](this['_absLeft'],this['_absTop'],-0x1973+0x21b6+-0x843);const _0x8dd20e=this['screen']['screen']['screenSpac'+'e'];for(let _0x2d1fb3=-0x187e+-0x550+0x1dce;_0x2d1fb3<0xe17+0x12a3+0x4f*-0x6a;_0x2d1fb3++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x2d1fb3],this['_screenCor'+'ners'][_0x2d1fb3]),_0x8dd20e&&this['_screenCor'+'ners'][_0x2d1fb3]['mulScalar'](this['screen']['screen']['scale']),_0x1463f4&&this['_screenCor'+'ners'][_0x2d1fb3]['add'](_0x1463f4);return this['_cornersDi'+'rty']=!(0x716*-0x4+0x2448+-0x7ef),this['_canvasCor'+'nersDirty']=!(0x1*-0x5f3+-0x1ce2+0x22d5),this['_worldCorn'+'ersDirty']=!(0x4*0x1c6+0x2dc+-0x9f4),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:0x1b7*0xd+-0x5c6*0x2+0x7*-0x189;}get['textHeight'](){return this['_text']?this['_text']['height']:0x1c75+-0x1de*0xd+-0x42f;}set['top'](_0x376cfa){this['_margin']['w']=_0x376cfa;const _0x2ded7b=this['entity']['getLocalPo'+'sition'](),_0x565944=this['_absBottom'],_0x13aa03=this['_localAnch'+'or']['w']-_0x376cfa;this['_setHeight'](_0x13aa03-_0x565944),_0x2ded7b['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x376cfa-this['_calculate'+'dHeight']*(0x2*-0x4b8+-0x25d9+0x2f4a-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x2ded7b);}get['top'](){return this['_margin']['w'];}set['type'](_0x2048d9){_0x2048d9!==this['_type']&&(this['_type']=_0x2048d9,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x2048d9===rf?this['_image']=new _R(this):_0x2048d9===ex&&(this['_text']=new OR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x5e9fae){this['_useInput']!==_0x5e9fae&&(this['_useInput']=_0x5e9fae,this['system']['app']['elementInp'+'ut']?_0x5e9fae?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(0x437+0x14ef+0x57*-0x4a)&&v['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x5e9fae));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x207bac){this['_fitMode']=_0x207bac,this['_calculate'+'Size'](!(-0x60e+0xb*0x5d+0x20f),!(-0xf4b+0x2*0x423+0x705)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x5a0d21){this['_width']=_0x5a0d21,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x5a0d21,!(-0x1635+0x24*0xb9+-0x19*0x27)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x19a12d=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){es['copy'](this['screen']['screen']['_screenMat'+'rix']),es['data'][-0x10*0x17e+-0xd7f+0xa*0x3be]=-es['data'][0x1dd+-0xb3*0x1+0x5f*-0x3],es['mul2'](this['screen']['getWorldTr'+'ansform'](),es);for(let _0x418211=0x8aa*0x1+-0x2bd*-0x1+-0xb67;_0x418211<-0x1965+0x53*0x44+0x35d;_0x418211++)es['transformP'+'oint'](_0x19a12d[_0x418211],this['_worldCorn'+'ers'][_0x418211]);}}else{const _0x3e73f5=this['entity']['getLocalPo'+'sition']();es['setTransla'+'te'](-_0x3e73f5['x'],-_0x3e73f5['y'],-_0x3e73f5['z']),Yl['setTRS'](T['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0x3e73f5['x'],_0x3e73f5['y'],_0x3e73f5['z']);const _0xbca84=this['entity']['parent']?this['entity']['parent']:this['entity'];zn['copy'](_0xbca84['getWorldTr'+'ansform']()),zn['mul'](Kl)['mul'](Yl)['mul'](es),ni['set'](_0x3e73f5['x']-this['pivot']['x']*this['calculated'+'Width'],_0x3e73f5['y']-this['pivot']['y']*this['calculated'+'Height'],_0x3e73f5['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][-0x4*0x5c2+0x23*-0x8c+0x4*0xa8b]),ni['set'](_0x3e73f5['x']+(-0x5*-0x5+-0x41f*0x7+0x1cc1-this['pivot']['x'])*this['calculated'+'Width'],_0x3e73f5['y']-this['pivot']['y']*this['calculated'+'Height'],_0x3e73f5['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x4d*-0x16+0x343+-0x1*-0x35c]),ni['set'](_0x3e73f5['x']+(0x2362+0x1*0x10f9+-0x1a2d*0x2-this['pivot']['x'])*this['calculated'+'Width'],_0x3e73f5['y']+(-0x1*-0x1e2f+0x10b*-0x2+-0x8*0x383-this['pivot']['y'])*this['calculated'+'Height'],_0x3e73f5['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][-0xee3+-0xf*0x1e7+0x2b6e]),ni['set'](_0x3e73f5['x']-this['pivot']['x']*this['calculated'+'Width'],_0x3e73f5['y']+(-0x898*0x2+0x1723+-0x1*0x5f2-this['pivot']['y'])*this['calculated'+'Height'],_0x3e73f5['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x25de+-0x1e11+-0x7ca]);}return this['_worldCorn'+'ersDirty']=!(-0x19ab+0x79f*0x3+0x2cf),this['_worldCorn'+'ers'];}set['fontSize'](_0x5ae61e){this['_setValue']('fontSize',_0x5ae61e);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x47d140){this['_setValue']('minFontSiz'+'e',_0x47d140);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x18da2a){this['_setValue']('maxFontSiz'+'e',_0x18da2a);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x32f348){this['_setValue']('maxLines',_0x32f348);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x49343c){this['_setValue']('autoFitWid'+'th',_0x49343c);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x13d17a){this['_setValue']('autoFitHei'+'ght',_0x13d17a);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x2aa3c7){this['_setValue']('color',_0x2aa3c7);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x2ebbd1){this['_setValue']('font',_0x2ebbd1);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x49b682){this['_setValue']('fontAsset',_0x49b682);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x4821f2){this['_setValue']('spacing',_0x4821f2);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x3dbaa6){this['_setValue']('lineHeight',_0x3dbaa6);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x1d1db8){this['_setValue']('wrapLines',_0x1d1db8);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x425c8e){this['_setValue']('lines',_0x425c8e);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x1f58fa){this['_setValue']('alignment',_0x1f58fa);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x4aa317){this['_setValue']('autoWidth',_0x4aa317);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x3d92f2){this['_setValue']('autoHeight',_0x3d92f2);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x115d1a){this['_setValue']('rtlReorder',_0x115d1a);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x2bc8c4){this['_setValue']('unicodeCon'+'verter',_0x2bc8c4);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x190e04){this['_setValue']('text',_0x190e04);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x5a2d82){this['_setValue']('key',_0x5a2d82);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x3aee0a){this['_setValue']('texture',_0x3aee0a);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x3152a5){this['_setValue']('textureAss'+'et',_0x3152a5);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x57ddf1){this['_setValue']('material',_0x57ddf1);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x483892){this['_setValue']('materialAs'+'set',_0x483892);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x5e10a6){this['_setValue']('sprite',_0x5e10a6);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x2fa0f0){this['_setValue']('spriteAsse'+'t',_0x2fa0f0);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x2e1466){this['_setValue']('spriteFram'+'e',_0x2e1466);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x266e69){this['_setValue']('pixelsPerU'+'nit',_0x266e69);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x26ca6e){this['_setValue']('opacity',_0x26ca6e);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x37a89d){this['_setValue']('rect',_0x37a89d);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x10b7fa){this['_setValue']('mask',_0x10b7fa);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x4842d0){this['_setValue']('outlineCol'+'or',_0x4842d0);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x599330){this['_setValue']('outlineThi'+'ckness',_0x599330);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x1e9c95){this['_setValue']('shadowColo'+'r',_0x1e9c95);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0xcde0ed){this['_setValue']('shadowOffs'+'et',_0xcde0ed);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x3c10fe){this['_setValue']('enableMark'+'up',_0x3c10fe);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x3a81ca){this['_setValue']('rangeStart',_0x3a81ca);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x528ab7){this['_setValue']('rangeEnd',_0x528ab7);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x3f1883,_0x3a579d){this['_text']?(this['_text'][_0x3f1883]!==_0x3a579d&&this['_dirtyBatc'+'h'](),this['_text'][_0x3f1883]=_0x3a579d):this['_image']&&(this['_image'][_0x3f1883]!==_0x3a579d&&this['_dirtyBatc'+'h'](),this['_image'][_0x3f1883]=_0x3a579d);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=We['prototype']['_sync'],this['entity']['setPositio'+'n']=We['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=We['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x231723,_0x116049,_0x255633){if(!this['element']['screen']){We['prototype']['setPositio'+'n']['call'](this,_0x231723,_0x116049,_0x255633);return;}_0x231723 instanceof T?Kd['copy'](_0x231723):Kd['set'](_0x231723,_0x116049,_0x255633),this['getWorldTr'+'ansform'](),_g['copy'](this['element']['_screenToW'+'orld'])['invert'](),_g['transformP'+'oint'](Kd,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x537360,_0x5e129f,_0x3d2f35){_0x537360 instanceof T?this['localPosit'+'ion']['copy'](_0x537360):this['localPosit'+'ion']['set'](_0x537360,_0x5e129f,_0x3d2f35);const _0x1bd766=this['element'],_0x4e8a73=this['localPosit'+'ion'],_0x3a6e59=_0x1bd766['_pivot'];_0x1bd766['_margin']['x']=_0x4e8a73['x']-_0x1bd766['_calculate'+'dWidth']*_0x3a6e59['x'],_0x1bd766['_margin']['z']=_0x1bd766['_localAnch'+'or']['z']-_0x1bd766['_localAnch'+'or']['x']-_0x1bd766['_calculate'+'dWidth']-_0x1bd766['_margin']['x'],_0x1bd766['_margin']['y']=_0x4e8a73['y']-_0x1bd766['_calculate'+'dHeight']*_0x3a6e59['y'],_0x1bd766['_margin']['w']=_0x1bd766['_localAnch'+'or']['w']-_0x1bd766['_localAnch'+'or']['y']-_0x1bd766['_calculate'+'dHeight']-_0x1bd766['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x5abc36=this['element'],_0x47e571=_0x5abc36['screen'];if(_0x47e571){if(_0x5abc36['_anchorDir'+'ty']){let _0x271d84=-0x2380+-0x1*0xb32+0x116*0x2b,_0x5d2282=0x542*-0x1+-0x136c+0xa2*0x27,_0x127fdf=0x53*-0x49+-0x1*-0xb5d+-0x32*-0x3f,_0xcb8d9=-0x3a*-0x10+0x1278+-0x1617;if(this['_parent']&&this['_parent']['element'])_0x271d84=this['_parent']['element']['calculated'+'Width'],_0x5d2282=this['_parent']['element']['calculated'+'Height'],_0x127fdf=this['_parent']['element']['pivot']['x'],_0xcb8d9=this['_parent']['element']['pivot']['y'];else{const _0x4c48e1=_0x47e571['screen']['resolution'];_0x271d84=_0x4c48e1['x']/_0x47e571['screen']['scale'],_0x5d2282=_0x4c48e1['y']/_0x47e571['screen']['scale'];}_0x5abc36['_anchorTra'+'nsform']['setTransla'+'te'](_0x271d84*(_0x5abc36['anchor']['x']-_0x127fdf),-(_0x5d2282*(_0xcb8d9-_0x5abc36['anchor']['y'])),0x1*0x1336+0x8*-0x383+-0x6*-0x17b),_0x5abc36['_anchorDir'+'ty']=!(0x27*-0x15+-0xc24+0xf58),_0x5abc36['_calculate'+'LocalAncho'+'rs']();}_0x5abc36['_sizeDirty']&&_0x5abc36['_calculate'+'Size'](!(-0x131*-0x19+-0xefb+0xecd*-0x1),!(0x463*-0x7+-0x2452+-0x2c*-0x186));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x1a7258=this['localPosit'+'ion'],_0x3a2717=_0x5abc36['_pivot'];_0x5abc36['_margin']['x']=_0x1a7258['x']-_0x5abc36['_calculate'+'dWidth']*_0x3a2717['x'],_0x5abc36['_margin']['z']=_0x5abc36['_localAnch'+'or']['z']-_0x5abc36['_localAnch'+'or']['x']-_0x5abc36['_calculate'+'dWidth']-_0x5abc36['_margin']['x'],_0x5abc36['_margin']['y']=_0x1a7258['y']-_0x5abc36['_calculate'+'dHeight']*_0x3a2717['y'],_0x5abc36['_margin']['w']=_0x5abc36['_localAnch'+'or']['w']-_0x5abc36['_localAnch'+'or']['y']-_0x5abc36['_calculate'+'dHeight']-_0x5abc36['_margin']['y'],this['_dirtyLoca'+'l']=!(-0x18a3+0x17fa+0xaa);}if(!_0x47e571){this['_dirtyWorl'+'d']&&(_0x5abc36['_cornersDi'+'rty']=!(-0xb86+-0x2*-0xe8a+0x2a*-0x6b),_0x5abc36['_canvasCor'+'nersDirty']=!(0x2467+-0xa24+-0x1a43),_0x5abc36['_worldCorn'+'ersDirty']=!(-0x93f+-0x513*-0x1+0x216*0x2)),We['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x5abc36['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x5abc36['_anchorTra'+'nsform']):_0x5abc36['_screenToW'+'orld']['copy'](_0x5abc36['_anchorTra'+'nsform']),_0x5abc36['_modelTran'+'sform']['mul2'](_0x5abc36['_screenToW'+'orld'],this['localTrans'+'form']),_0x47e571){_0x5abc36['_screenToW'+'orld']['mul2'](_0x47e571['screen']['_screenMat'+'rix'],_0x5abc36['_screenToW'+'orld']),_0x47e571['screen']['screenSpac'+'e']||_0x5abc36['_screenToW'+'orld']['mul2'](_0x47e571['worldTrans'+'form'],_0x5abc36['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x5abc36['_screenToW'+'orld'],this['localTrans'+'form']);const _0x511bb0=_0x5abc36['_parentWor'+'ldTransfor'+'m'];_0x511bb0['setIdentit'+'y']();const _0x196365=this['_parent'];_0x196365&&_0x196365['element']&&_0x196365!==_0x47e571&&(es['setTRS'](T['ZERO'],_0x196365['getLocalRo'+'tation'](),_0x196365['getLocalSc'+'ale']()),_0x511bb0['mul2'](_0x196365['element']['_parentWor'+'ldTransfor'+'m'],es));const _0x41dcad=ni;_0x41dcad['set'](0x20ec+-0x17d*-0x1a+-0x23cf*0x2,0x1c57+0x50a+-0x2161,this['localPosit'+'ion']['z']);const _0x4f6a63=kR;_0x4f6a63['set'](_0x5abc36['_absLeft']+_0x5abc36['_pivot']['x']*_0x5abc36['calculated'+'Width'],_0x5abc36['_absBottom']+_0x5abc36['_pivot']['y']*_0x5abc36['calculated'+'Height'],-0x8*-0x22a+-0x707+-0x1*0xa49),es['setTransla'+'te'](-_0x4f6a63['x'],-_0x4f6a63['y'],-_0x4f6a63['z']),Yl['setTRS'](_0x41dcad,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0x4f6a63['x'],_0x4f6a63['y'],_0x4f6a63['z']),_0x5abc36['_screenTra'+'nsform']['mul2'](_0x5abc36['_parentWor'+'ldTransfor'+'m'],Kl)['mul'](Yl)['mul'](es),_0x5abc36['_cornersDi'+'rty']=!(-0x3*0x871+-0x5de+-0x63d*-0x5),_0x5abc36['_canvasCor'+'nersDirty']=!(-0x1e8+-0xc34+0x2b*0x54),_0x5abc36['_worldCorn'+'ersDirty']=!(0x1510+0x4e9*-0x7+-0xd4f*-0x1);}else this['worldTrans'+'form']['copy'](_0x5abc36['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(0x21ba*-0x1+-0x1*-0x1843+0x978);}}['_onInsert'](_0x59a902){const _0x50c866=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x50c866['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x2a106f=this['entity'];for(;_0x2a106f;){const _0x28d2e4=_0x2a106f['parent'];if((_0x28d2e4===null||_0x28d2e4['screen'])&&_0x2a106f['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),v['trace'](Ss,'register\x20p'+'rerender'));const _0x2a5751=this['system']['_prerender']['indexOf'](this['entity']);_0x2a5751>=-0xe2e+0x193+0xc9b&&this['system']['_prerender']['splice'](_0x2a5751,0xbf5*0x1+-0x6*0x11+-0xb8e),this['system']['_prerender']['indexOf'](_0x2a106f)<0x1036+0xd77+0x1*-0x1dad&&this['system']['_prerender']['push'](_0x2a106f),v['trace'](Ss,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x2a106f['name']);}_0x2a106f=_0x28d2e4;}}['_onPrerend'+'er'](){for(let _0x5e0d34=0x1*-0x1699+-0x1021+0x26ba;_0x5e0d34<this['system']['_prerender']['length'];_0x5e0d34++){const _0x30457a=this['system']['_prerender'][_0x5e0d34];v['trace'](Ss,'prerender\x20'+'from:\x20'+_0x30457a['name']),_0x30457a['element']&&_0x30457a['element']['syncMask'](0x1f57+-0xf84+-0xfd2);}this['system']['_prerender']['length']=-0x13e8+-0x165e+0x2a46;}['_bindScree'+'n'](_0x4b3d80){_0x4b3d80['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x5611a6){_0x5611a6['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x2c0946){this['screen']&&this['screen']!==_0x2c0946&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x38ef84=this['screen'];this['screen']=_0x2c0946,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x38ef84),this['_anchorDir'+'ty']=!(-0x1489*-0x1+-0x6b*-0x7+-0x1776);const _0x248552=this['entity']['children'];for(let _0x40e11c=-0x1*0x209a+0xf41+0x1159,_0x4d3d20=_0x248552['length'];_0x40e11c<_0x4d3d20;_0x40e11c++)_0x248552[_0x40e11c]['element']&&_0x248552[_0x40e11c]['element']['_updateScr'+'een'](_0x2c0946);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x5a1a52){const _0x4bbf95=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x4bbf95['mask'],_0x5a1a52);}['_setMasked'+'By'](_0x49ac91){const _0x2feb24=this['_image']||this['_text'];if(_0x49ac91){const _0x4073ce=_0x49ac91['element']['_image']['_maskRef'];v['trace'](Ss,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x4073ce),_0x2feb24==null||_0x2feb24['_setStenci'+'l'](new qs({'ref':_0x4073ce,'func':Ch})),this['_maskedBy']=_0x49ac91;}else v['trace'](Ss,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x2feb24==null||_0x2feb24['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0xa727f4,_0x12ed21){var _0x5751ca,_0x3a2a61;if(_0xa727f4){if(this['_setMasked'+'By'](_0xa727f4),this['mask']){const _0x49e9ae=_0xa727f4['element']['_image']['_maskRef'],_0x55fb06=new qs({'ref':_0x49e9ae,'func':Ch,'zpass':HS});this['_image']['_setStenci'+'l'](_0x55fb06),this['_image']['_maskRef']=_0x12ed21,_0x12ed21++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x55fb06['ref']+(-0x2413+-0x1*-0x1696+0x6bf*0x2))),v['trace'](Ss,'depth++\x20to'+':\x20',_0x12ed21),_0xa727f4=this['entity'];}const _0x2c62fa=this['entity']['children'];for(let _0x408515=0x695+-0x9e7+0x352,_0x7d7501=_0x2c62fa['length'];_0x408515<_0x7d7501;_0x408515++)(_0x5751ca=_0x2c62fa[_0x408515]['element'])==null||_0x5751ca['_updateMas'+'k'](_0xa727f4,_0x12ed21);this['mask']&&_0x12ed21--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x18cb17=new qs({'ref':_0x12ed21,'func':Ai,'zpass':GS});this['_image']['_setStenci'+'l'](_0x18cb17),this['_image']['_maskRef']=_0x12ed21,_0x12ed21++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x18cb17['ref']),v['trace'](Ss,'depth++\x20to'+':\x20',_0x12ed21),_0xa727f4=this['entity'];}const _0x556904=this['entity']['children'];for(let _0x15a8df=0x6*-0x5e5+-0x1*0xef7+0x3255,_0x53be9d=_0x556904['length'];_0x15a8df<_0x53be9d;_0x15a8df++)(_0x3a2a61=_0x556904[_0x15a8df]['element'])==null||_0x3a2a61['_updateMas'+'k'](_0xa727f4,_0x12ed21);this['mask']&&_0x12ed21--;}}['_parseUpTo'+'Screen'](){const _0x1a3498={'screen':null,'mask':null};let _0x2c13b7=this['entity']['_parent'];for(;_0x2c13b7&&!_0x2c13b7['screen'];)_0x2c13b7['element']&&_0x2c13b7['element']['mask']&&(_0x1a3498['mask']||(_0x1a3498['mask']=_0x2c13b7)),_0x2c13b7=_0x2c13b7['parent'];return _0x2c13b7&&_0x2c13b7['screen']&&(_0x1a3498['screen']=_0x2c13b7),_0x1a3498;}['_onScreenR'+'esize'](_0x258f9c){this['_anchorDir'+'ty']=!(0x1181+0x1dcf+-0x2f50),this['_cornersDi'+'rty']=!(-0xda4+-0x2*-0xee5+-0x1026),this['_worldCorn'+'ersDirty']=!(0x3ab+-0x182+-0x1*0x229),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x258f9c);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x54656d=0x10ea+-0x1*0xfa7+0x2a5*0x1,_0x15d172=-0x7f*0x13+0x1936+-0xbe1*0x1;const _0x1c1bdd=this['entity']['_parent'];if(_0x1c1bdd&&_0x1c1bdd['element'])_0x54656d=_0x1c1bdd['element']['calculated'+'Width'],_0x15d172=_0x1c1bdd['element']['calculated'+'Height'];else{if(this['screen']){const _0x76104=this['screen']['screen']['resolution'],_0x3bbaef=this['screen']['screen']['scale'];_0x54656d=_0x76104['x']/_0x3bbaef,_0x15d172=_0x76104['y']/_0x3bbaef;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x54656d,this['_anchor']['y']*_0x15d172,this['_anchor']['z']*_0x54656d,this['_anchor']['w']*_0x15d172);}['getOffsetP'+'osition'](_0x34c9c3,_0x58436d){const _0x5215d3=this['entity']['getLocalPo'+'sition']()['clone']();return _0x5215d3['x']+=_0x34c9c3,_0x5215d3['y']+=_0x58436d,this['_screenToW'+'orld']['transformP'+'oint'](_0x5215d3,_0x5215d3),_0x5215d3;}['onLayersCh'+'anged'](_0x4d07dd,_0x30a36b){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x4d07dd['off']('add',this['onLayerAdd'+'ed'],this),_0x4d07dd['off']('remove',this['onLayerRem'+'oved'],this),_0x30a36b['on']('add',this['onLayerAdd'+'ed'],this),_0x30a36b['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x3b8a9b){this['layers']['indexOf'](_0x3b8a9b['id'])<-0x1f7b+0x9f5*-0x1+0x2970||(this['_image']?_0x3b8a9b['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x3b8a9b['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x3d47ef){this['layers']['indexOf'](_0x3d47ef['id'])<0x1d13+0x262a+0x7*-0x99b||(this['_image']?_0x3d47ef['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x3d47ef['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x38592d;const _0x403822=this['system']['app']['scene'],_0x1256fb=_0x403822['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x403822['on']('set:layers',this['onLayersCh'+'anged'],this),_0x1256fb&&(this['_evtLayerA'+'dded']=_0x1256fb['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x1256fb['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=-0x1*-0xc9a+-0x1a33+0xd99&&((_0x38592d=this['system']['app']['batcher'])==null||_0x38592d['insert'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x2cf21e,_0x2b4a68,_0x32d0d7,_0x172ed3;const _0x487088=this['system']['app']['scene']['layers'];(_0x2cf21e=this['_evtLayers'+'Changed'])==null||_0x2cf21e['off'](),this['_evtLayers'+'Changed']=null,_0x487088&&((_0x2b4a68=this['_evtLayerA'+'dded'])==null||_0x2b4a68['off'](),this['_evtLayerA'+'dded']=null,(_0x32d0d7=this['_evtLayerR'+'emoved'])==null||_0x32d0d7['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=-0x1086+0x7e0+-0x52*-0x1b&&((_0x172ed3=this['system']['app']['batcher'])==null||_0x172ed3['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x46839d,_0x4920f2){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x1804c7=this['_absRight']-this['_absLeft'],_0x3fef05=this['_absTop']-this['_absBottom'];_0x46839d?this['_setWidth'](_0x1804c7):this['_setCalcul'+'atedWidth'](_0x1804c7,!(0x1*-0x13e0+-0x149f+-0xd8*-0x30)),_0x4920f2?this['_setHeight'](_0x3fef05):this['_setCalcul'+'atedHeight'](_0x3fef05,!(0x1deb+0x1*-0xa13+0x69d*-0x3));const _0x6c0a99=this['entity']['getLocalPo'+'sition']();_0x6c0a99['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x6c0a99['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x6c0a99),this['_sizeDirty']=!(-0xfd+-0x1*-0x517+-0x419);}['_setWidth'](_0x4a09ef){this['_width']=_0x4a09ef,this['_setCalcul'+'atedWidth'](_0x4a09ef,!(0x834+-0x1cf0+0x14bd)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x3140ed){this['_height']=_0x3140ed,this['_setCalcul'+'atedHeight'](_0x3140ed,!(0x11*-0x180+-0x2519*-0x1+0x8*-0x173)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x211bd5,_0x619111){if(!(Math['abs'](_0x211bd5-this['_calculate'+'dWidth'])<=0x37+0x24cf+-0x2506+0.0001)){if(this['_calculate'+'dWidth']=_0x211bd5,this['entity']['_dirtifyLo'+'cal'](),_0x619111){const _0x3afe5f=this['entity']['getLocalPo'+'sition'](),_0x5e2de6=this['_pivot'];this['_margin']['x']=_0x3afe5f['x']-this['_calculate'+'dWidth']*_0x5e2de6['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0xc0b33c,_0x39b802){if(!(Math['abs'](_0xc0b33c-this['_calculate'+'dHeight'])<=0x1021+0xffb+-0x2ad*0xc+0.0001)){if(this['_calculate'+'dHeight']=_0xc0b33c,this['entity']['_dirtifyLo'+'cal'](),_0x39b802){const _0xbc6e17=this['entity']['getLocalPo'+'sition'](),_0x30b35b=this['_pivot'];this['_margin']['y']=_0xbc6e17['y']-this['_calculate'+'dHeight']*_0x30b35b['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x12266d=this['entity']['_children'];for(let _0x171d7c=0x973+0x154+0xac7*-0x1,_0x474217=_0x12266d['length'];_0x171d7c<_0x474217;_0x171d7c++)_0x12266d[_0x171d7c]['element']&&(_0x12266d[_0x171d7c]['element']['_anchorDir'+'ty']=!(0xe7e+0x99e*0x3+-0x26*0x124),_0x12266d[_0x171d7c]['element']['_sizeDirty']=!(-0x135d*0x1+-0x1c92+0x2fef));}['addModelTo'+'Layers'](_0x4b08e7){this['_addedMode'+'ls']['push'](_0x4b08e7);for(let _0x231f97=0x1b29+-0xfb4+0x1*-0xb75;_0x231f97<this['layers']['length'];_0x231f97++){const _0x2c0c1b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x231f97]);_0x2c0c1b&&_0x2c0c1b['addMeshIns'+'tances'](_0x4b08e7['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x56c876){const _0x56ea20=this['_addedMode'+'ls']['indexOf'](_0x56c876);_0x56ea20>=0x2*0x1066+0xbf8+-0x2cc4&&this['_addedMode'+'ls']['splice'](_0x56ea20,-0x1f36+0x24*0x75+0x1*0xec3);for(let _0xc030f9=-0x1*-0xe1b+0x20b*-0x5+0x3*-0x14c;_0xc030f9<this['layers']['length'];_0xc030f9++){const _0x115c6a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0xc030f9]);_0x115c6a&&_0x115c6a['removeMesh'+'Instances'](_0x56c876['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x25a785=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x25a785&&(this['_maskOffse'+'t']=0x1*-0x17ce+0x2207+0x1*-0xa39+0.5,this['_offsetRea'+'dAt']=_0x25a785);const _0x29d965=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=-0x5*0x1e1+0xa3d+0x8*-0x1b+0.001,_0x29d965;}['isVisibleF'+'orCamera'](_0x47647a){let _0x592ca2,_0x477304,_0x4bbbe8,_0x5a3ae4;if(this['maskedBy']){const _0x3ed133=this['maskedBy']['element']['screenCorn'+'ers'];_0x592ca2=Math['min'](Math['min'](_0x3ed133[0x1d18*0x1+0x183*-0x15+0x2a7]['x'],_0x3ed133[0xa*0x8+-0x43*0x76+-0x1*-0x1e93]['x']),Math['min'](_0x3ed133[-0x9*0x71+-0x5*0x787+0x7*0x5f2]['x'],_0x3ed133[0x26f0+-0x1f5*0x6+-0x1*0x1b2f]['x'])),_0x477304=Math['max'](Math['max'](_0x3ed133[0x23f6+0xfec+-0x33e2]['x'],_0x3ed133[-0x49c+0xa99*0x3+0x7*-0x3e2]['x']),Math['max'](_0x3ed133[-0x1848+-0x1fa8+0x37f2]['x'],_0x3ed133[0x1f07+-0x1e0c+-0xf8]['x'])),_0x5a3ae4=Math['min'](Math['min'](_0x3ed133[0x5*0x21e+-0x9f8+-0x9e]['y'],_0x3ed133[-0x1178+0x85f*0x1+0xe9*0xa]['y']),Math['min'](_0x3ed133[0x4a*-0x60+-0x1b*-0xb9+0x83f]['y'],_0x3ed133[0x1747+-0x1c93+0x54f]['y'])),_0x4bbbe8=Math['max'](Math['max'](_0x3ed133[-0x2*-0x2ad+-0x14b+0x1*-0x40f]['y'],_0x3ed133[0x1fba+0x111b+-0x4e2*0xa]['y']),Math['max'](_0x3ed133[0x2*0xedf+-0xaf2+-0x12ca]['y'],_0x3ed133[0x2f*0x95+-0x9b*0x13+-0xfd7]['y']));}else{const _0x440692=this['system']['app']['graphicsDe'+'vice']['width'],_0x38a906=this['system']['app']['graphicsDe'+'vice']['height'],_0x1b81db=_0x47647a['_rect']['z']*_0x440692,_0x42185f=_0x47647a['_rect']['w']*_0x38a906;_0x592ca2=_0x47647a['_rect']['x']*_0x440692,_0x477304=_0x592ca2+_0x1b81db,_0x4bbbe8=(-0x61d*-0x6+0x1*0xb51+-0x2ffe*0x1-_0x47647a['_rect']['y'])*_0x38a906,_0x5a3ae4=_0x4bbbe8-_0x42185f;}const _0x2bc9e9=this['screenCorn'+'ers'],_0x40f92a=Math['min'](Math['min'](_0x2bc9e9[0xbf7+-0x57b*0x4+0x9f5*0x1]['x'],_0x2bc9e9[0x43*0x92+0x2438+0x845*-0x9]['x']),Math['min'](_0x2bc9e9[0x1*-0xbdb+-0x2306+0x2ee3*0x1]['x'],_0x2bc9e9[-0x10fd+-0x1*0x295+0x1*0x1395]['x'])),_0x2a34a8=Math['max'](Math['max'](_0x2bc9e9[-0x49d*0x5+-0x1*-0x15e7+-0x95*-0x2]['x'],_0x2bc9e9[0xbb8+-0xb78+-0x3f]['x']),Math['max'](_0x2bc9e9[-0x17e4+-0x2663*0x1+0x14c3*0x3]['x'],_0x2bc9e9[-0x425*-0x8+0x26*-0x3+-0x20b3]['x'])),_0x54b9c1=Math['min'](Math['min'](_0x2bc9e9[-0x57*-0x31+-0x25dc+0x1*0x1535]['y'],_0x2bc9e9[0x1ca0+-0x26c+-0x13*0x161]['y']),Math['min'](_0x2bc9e9[0x24df*-0x1+0x1*0x13af+0x1132]['y'],_0x2bc9e9[0x13d3+-0x192e+0x55e]['y'])),_0x134344=Math['max'](Math['max'](_0x2bc9e9[-0x1b5a+-0x37*0x43+0x29bf]['y'],_0x2bc9e9[0x1*0x737+-0x1e2*-0x1+-0x918]['y']),Math['max'](_0x2bc9e9[-0x1741+0x290*-0xa+0x30e3]['y'],_0x2bc9e9[0x41*-0x51+0x604+-0x8*-0x1d2]['y']));return!(_0x2a34a8<_0x592ca2||_0x40f92a>_0x477304||_0x54b9c1>_0x4bbbe8||_0x134344<_0x5a3ae4);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(0x5*-0x2e3+0x224*-0x6+0x61*0x48);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(0x17*-0x10+0xe5d*0x1+0x33b*-0x4);}['_dirtyBatc'+'h'](){var _0x1b21e4;this['batchGroup'+'Id']!==-(-0x1869+0x1671+0x5*0x65)&&((_0x1b21e4=this['system']['app']['batcher'])==null||_0x1b21e4['markGroupD'+'irty'](this['batchGroup'+'Id']));}}c(Gt,'EVENT_MOUS'+'EDOWN','mousedown'),c(Gt,'EVENT_MOUS'+'EUP','mouseup'),c(Gt,'EVENT_MOUS'+'EENTER','mouseenter'),c(Gt,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(Gt,'EVENT_MOUS'+'EMOVE','mousemove'),c(Gt,'EVENT_MOUS'+'EWHEEL','mousewheel'),c(Gt,'EVENT_CLIC'+'K','click'),c(Gt,'EVENT_TOUC'+'HSTART','touchstart'),c(Gt,'EVENT_TOUC'+'HEND','touchend'),c(Gt,'EVENT_TOUC'+'HMOVE','touchmove'),c(Gt,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class BR{constructor(){this['enabled']=!(0x1b2a+-0x97*-0x2b+0x1*-0x3487);}}const NR=['enabled'];class zR extends Xe{constructor(_0x5100a8){super(_0x5100a8),this['id']='element',this['ComponentT'+'ype']=Gt,this['DataType']=BR,this['schema']=NR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new he(_0x5100a8['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':rs,'name':'element-sy'+'stem'});const _0x1fe40e=this['_defaultTe'+'xture']['lock'](),_0x224694=new Uint8Array(-0x1*0xc97+-0x177d+0x2418);_0x224694[0x1251+0x14f1+0x2*-0x13a1]=-0x75e+0xb6d+-0x310,_0x224694[-0x3*0x952+0x8b*0x7+0x6*0x407]=-0x1255+-0x1caf+0x3003,_0x224694[-0x5*0xb5+-0x21dc+0x2567]=0x1c7c+-0x175d+-0x20*0x21,_0x224694[-0x13f2+-0xd01+0x20f6]=0x8e*0x25+0x25ce+0x3955*-0x1,_0x1fe40e['set'](_0x224694),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0xe4b01,_0x649f4,_0x39c649){_0xe4b01['_beingInit'+'ialized']=!(0x1908+0x3*-0x99f+0x3d5),_0x649f4['anchor']!==void(0x7*0x301+0x2099+-0x35a0)&&(_0x649f4['anchor']instanceof Q?_0xe4b01['anchor']['copy'](_0x649f4['anchor']):_0xe4b01['anchor']['set'](_0x649f4['anchor'][0x21bb+0x1c32+-0x3ded],_0x649f4['anchor'][-0x173b+0x265e+0x1*-0xf22],_0x649f4['anchor'][0x669*-0x1+-0xc54+0x12bf],_0x649f4['anchor'][0x24df+0x6f9+0x643*-0x7])),_0x649f4['pivot']!==void(0x2221*-0x1+-0x359*0x3+-0xb*-0x404)&&(_0x649f4['pivot']instanceof W?_0xe4b01['pivot']['copy'](_0x649f4['pivot']):_0xe4b01['pivot']['set'](_0x649f4['pivot'][0xaab*0x3+0x1*-0xda1+0x31*-0x60],_0x649f4['pivot'][-0x11c*0xa+0x8e4+0x235]));const _0x59e1bf=Math['abs'](_0xe4b01['anchor']['x']-_0xe4b01['anchor']['z'])>0xb*0x105+-0x2fa+-0x83d+0.001,_0xa17e02=Math['abs'](_0xe4b01['anchor']['y']-_0xe4b01['anchor']['w'])>0xe81+-0x26*0x7f+0x459+0.001;let _0xc37a7d=!(0x2461+-0x1*-0x144d+-0x38ad*0x1),_0x168daf;_0x649f4['margin']!==void(-0x32b+0x20*0x10f+-0x1eb5)&&(_0x649f4['margin']instanceof Q?_0xe4b01['margin']['copy'](_0x649f4['margin']):_0xe4b01['_margin']['set'](_0x649f4['margin'][-0x1*0x1c69+0x5bf+0x16aa],_0x649f4['margin'][0x2513+-0x1543+-0x1*0xfcf],_0x649f4['margin'][0x419+-0xd47+0x930],_0x649f4['margin'][0x16e4+-0x1c03*-0x1+0xcb9*-0x4]),_0xc37a7d=!(-0x1a5*0x7+-0x100c+0x1b8f)),_0x649f4['left']!==void(-0x1d*0x19+-0x20e5+0x23ba)&&(_0xe4b01['_margin']['x']=_0x649f4['left'],_0xc37a7d=!(-0x1*0x842+-0x19*-0x39+-0x35*-0xd)),_0x649f4['bottom']!==void(0x1188+0x3*0x541+0x1*-0x214b)&&(_0xe4b01['_margin']['y']=_0x649f4['bottom'],_0xc37a7d=!(0x1dd7*-0x1+0x81*-0x25+0x4*0xc1f)),_0x649f4['right']!==void(-0x1*-0x13d2+-0x85e+0x2dd*-0x4)&&(_0xe4b01['_margin']['z']=_0x649f4['right'],_0xc37a7d=!(-0x1*-0x1e2b+-0x1857+-0x5d4)),_0x649f4['top']!==void(-0x9eb*0x1+-0x4bf+0xeaa)&&(_0xe4b01['_margin']['w']=_0x649f4['top'],_0xc37a7d=!(-0x1684+0x60a+0x107a)),_0xc37a7d&&(_0xe4b01['margin']=_0xe4b01['_margin']);let _0x429b7d=!(0x1*-0x9d+0x1dc9+-0x3*0x9b9);_0x649f4['width']!==void(-0x1a7*-0x2+0x26*-0xb8+-0x1b7*-0xe)&&!_0x59e1bf?_0xe4b01['width']=_0x649f4['width']:_0x59e1bf&&(_0x429b7d=!(0x250+0x1607*0x1+-0x1857)),_0x649f4['height']!==void(-0x2562+0x16b0+0xeb2)&&!_0xa17e02?_0xe4b01['height']=_0x649f4['height']:_0xa17e02&&(_0x429b7d=!(0x4ee+-0xb65*0x2+-0x11dc*-0x1)),_0x429b7d&&(_0xe4b01['anchor']=_0xe4b01['anchor']),_0x649f4['enabled']!==void(0x7*0x3b+0x115*-0x1+-0x88)&&(_0xe4b01['enabled']=_0x649f4['enabled']),_0x649f4['useInput']!==void(0x2*-0x788+-0x239d+0x32ad)&&(_0xe4b01['useInput']=_0x649f4['useInput']),_0x649f4['fitMode']!==void(0x1aef+0x79e*-0x5+0xb27)&&(_0xe4b01['fitMode']=_0x649f4['fitMode']),_0xe4b01['batchGroup'+'Id']=_0x649f4['batchGroup'+'Id']===void(0x128a+0x767+-0xe5*0x1d)||_0x649f4['batchGroup'+'Id']===null?-(-0x1815+-0xa9f+0x5*0x6f1):_0x649f4['batchGroup'+'Id'],_0x649f4['layers']&&Array['isArray'](_0x649f4['layers'])&&(_0xe4b01['layers']=_0x649f4['layers']['slice'](0xdf7+0x1d8b+-0x1*0x2b82)),_0x649f4['type']!==void(0x7f*-0x1f+0x3*0x74d+-0xa7*0xa)&&(_0xe4b01['type']=_0x649f4['type']),_0xe4b01['type']===rf?(_0x649f4['rect']!==void(0xc7*-0x20+-0x9*0x2f7+0xc5*0x43)&&(_0xe4b01['rect']=_0x649f4['rect']),_0x649f4['color']!==void(0x10ff*-0x2+-0x20*0xbf+0x39de)&&(_0x168daf=_0x649f4['color'],_0x168daf instanceof Y||(_0x168daf=new Y(_0x649f4['color'][-0x6f6+0x2d*-0x3a+0x1128],_0x649f4['color'][-0x1880+0xc9f+0x6*0x1fb],_0x649f4['color'][0xfe+0x2f*0x1d+-0x64f])),_0xe4b01['color']=_0x168daf),_0x649f4['opacity']!==void(-0x6ca+-0xe1e*-0x1+0x7*-0x10c)&&(_0xe4b01['opacity']=_0x649f4['opacity']),_0x649f4['textureAss'+'et']!==void(0x25c8+0x1975+0x1*-0x3f3d)&&(_0xe4b01['textureAss'+'et']=_0x649f4['textureAss'+'et']),_0x649f4['texture']&&(_0xe4b01['texture']=_0x649f4['texture']),_0x649f4['spriteAsse'+'t']!==void(-0xd52+0x1*-0x38f+-0x95*-0x1d)&&(_0xe4b01['spriteAsse'+'t']=_0x649f4['spriteAsse'+'t']),_0x649f4['sprite']&&(_0xe4b01['sprite']=_0x649f4['sprite']),_0x649f4['spriteFram'+'e']!==void(0x2*0xb3f+0x2*-0x329+-0x102c)&&(_0xe4b01['spriteFram'+'e']=_0x649f4['spriteFram'+'e']),_0x649f4['pixelsPerU'+'nit']!==void(0x12ce+0x1788+-0x2a56*0x1)&&_0x649f4['pixelsPerU'+'nit']!==null&&(_0xe4b01['pixelsPerU'+'nit']=_0x649f4['pixelsPerU'+'nit']),_0x649f4['materialAs'+'set']!==void(0x25ca+0x1e94+-0x445e)&&(_0xe4b01['materialAs'+'set']=_0x649f4['materialAs'+'set']),_0x649f4['material']&&(_0xe4b01['material']=_0x649f4['material']),_0x649f4['mask']!==void(0x1edd*-0x1+-0x5d*0xd+-0x1*-0x2396)&&(_0xe4b01['mask']=_0x649f4['mask'])):_0xe4b01['type']===ex&&(_0x649f4['autoWidth']!==void(0x1*-0x2309+0x41*0x43+-0x301*-0x6)&&(_0xe4b01['autoWidth']=_0x649f4['autoWidth']),_0x649f4['autoHeight']!==void(0x205c+0x1*0xb2d+-0x2b89)&&(_0xe4b01['autoHeight']=_0x649f4['autoHeight']),_0x649f4['rtlReorder']!==void(0x8e8+-0x2709+0x1*0x1e21)&&(_0xe4b01['rtlReorder']=_0x649f4['rtlReorder']),_0x649f4['unicodeCon'+'verter']!==void(-0x1668+-0x923*0x4+0x3af4)&&(_0xe4b01['unicodeCon'+'verter']=_0x649f4['unicodeCon'+'verter']),_0x649f4['text']!==null&&_0x649f4['text']!==void(0x2ea+-0x1*0x1354+-0x17e*-0xb)?_0xe4b01['text']=_0x649f4['text']:_0x649f4['key']!==null&&_0x649f4['key']!==void(-0x1b1*0x11+-0xc6d*0x2+0x359b)&&(_0xe4b01['key']=_0x649f4['key']),_0x649f4['color']!==void(0x8*-0x4d5+-0xff8+0x36a0)&&(_0x168daf=_0x649f4['color'],_0x168daf instanceof Y||(_0x168daf=new Y(_0x168daf[0x166*0x19+0x16d*0x13+-0x1*0x3e0d],_0x168daf[0x3fd*-0x6+-0x841*-0x3+-0x6a*0x2],_0x168daf[0x1*0x243+0xd*0x3a+0x1*-0x533])),_0xe4b01['color']=_0x168daf),_0x649f4['opacity']!==void(0x1a23+-0x35c+-0x16c7)&&(_0xe4b01['opacity']=_0x649f4['opacity']),_0x649f4['spacing']!==void(-0x1753+-0xc*0x4f+0x1b07)&&(_0xe4b01['spacing']=_0x649f4['spacing']),_0x649f4['fontSize']!==void(-0x1094*-0x1+0x6d*0x44+-0x2d88)&&(_0xe4b01['fontSize']=_0x649f4['fontSize'],_0x649f4['lineHeight']||(_0xe4b01['lineHeight']=_0x649f4['fontSize'])),_0x649f4['lineHeight']!==void(0x240d+0x9a2+0x2daf*-0x1)&&(_0xe4b01['lineHeight']=_0x649f4['lineHeight']),_0x649f4['maxLines']!==void(0x1*-0x5e8+0x25d7+-0x1fef)&&(_0xe4b01['maxLines']=_0x649f4['maxLines']),_0x649f4['wrapLines']!==void(-0x2288+0x6e6*-0x3+0x373a)&&(_0xe4b01['wrapLines']=_0x649f4['wrapLines']),_0x649f4['minFontSiz'+'e']!==void(-0x22f*0x5+0x1a32+0xf47*-0x1)&&(_0xe4b01['minFontSiz'+'e']=_0x649f4['minFontSiz'+'e']),_0x649f4['maxFontSiz'+'e']!==void(-0x198f+0x1476+0x519)&&(_0xe4b01['maxFontSiz'+'e']=_0x649f4['maxFontSiz'+'e']),_0x649f4['autoFitWid'+'th']&&(_0xe4b01['autoFitWid'+'th']=_0x649f4['autoFitWid'+'th']),_0x649f4['autoFitHei'+'ght']&&(_0xe4b01['autoFitHei'+'ght']=_0x649f4['autoFitHei'+'ght']),_0x649f4['fontAsset']!==void(0x2209*0x1+0x243d*-0x1+-0x3*-0xbc)&&(_0xe4b01['fontAsset']=_0x649f4['fontAsset']),_0x649f4['font']!==void(0x1*0x191f+0x8ab*0x3+-0x199*0x20)&&(_0xe4b01['font']=_0x649f4['font']),_0x649f4['alignment']!==void(-0x1a19+-0x1a3+0x1bbc)&&(_0xe4b01['alignment']=_0x649f4['alignment']),_0x649f4['outlineCol'+'or']!==void(0x369+0x8c3*-0x1+0x55a)&&(_0xe4b01['outlineCol'+'or']=_0x649f4['outlineCol'+'or']),_0x649f4['outlineThi'+'ckness']!==void(0x796*0x3+0x547+-0x1*0x1c09)&&(_0xe4b01['outlineThi'+'ckness']=_0x649f4['outlineThi'+'ckness']),_0x649f4['shadowColo'+'r']!==void(-0x8c+0x244*-0xd+0x8*0x3c0)&&(_0xe4b01['shadowColo'+'r']=_0x649f4['shadowColo'+'r']),_0x649f4['shadowOffs'+'et']!==void(0x1f12+0x6da*0x3+-0x33a0)&&(_0xe4b01['shadowOffs'+'et']=_0x649f4['shadowOffs'+'et']),_0x649f4['enableMark'+'up']!==void(-0x1*0x409+0x2*-0x449+-0x7*-0x1cd)&&(_0xe4b01['enableMark'+'up']=_0x649f4['enableMark'+'up']));const _0x3af9f6=_0xe4b01['_parseUpTo'+'Screen']();_0x3af9f6['screen']&&_0xe4b01['_updateScr'+'een'](_0x3af9f6['screen']),super['initialize'+'ComponentD'+'ata'](_0xe4b01,_0x649f4,_0x39c649),_0xe4b01['_beingInit'+'ialized']=!(0x7a0*-0x1+-0x2*-0x868+-0x1*0x92f),_0xe4b01['type']===rf&&_0xe4b01['_image']['_meshDirty']&&_0xe4b01['_image']['_updateMes'+'h'](_0xe4b01['_image']['mesh']);}['onAddCompo'+'nent'](_0x11da12,_0x477ca7){_0x11da12['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x510953,_0x4d01c0){_0x4d01c0['onRemove']();}['cloneCompo'+'nent'](_0x5b4be6,_0xaa3b09){const _0x5eea66=_0x5b4be6['element'],_0x9fa752={'enabled':_0x5eea66['enabled'],'width':_0x5eea66['width'],'height':_0x5eea66['height'],'anchor':_0x5eea66['anchor']['clone'](),'pivot':_0x5eea66['pivot']['clone'](),'margin':_0x5eea66['margin']['clone'](),'alignment':_0x5eea66['alignment']&&_0x5eea66['alignment']['clone']()||_0x5eea66['alignment'],'autoWidth':_0x5eea66['autoWidth'],'autoHeight':_0x5eea66['autoHeight'],'type':_0x5eea66['type'],'rect':_0x5eea66['rect']&&_0x5eea66['rect']['clone']()||_0x5eea66['rect'],'rtlReorder':_0x5eea66['rtlReorder'],'unicodeConverter':_0x5eea66['unicodeCon'+'verter'],'materialAsset':_0x5eea66['materialAs'+'set'],'material':_0x5eea66['material'],'color':_0x5eea66['color']&&_0x5eea66['color']['clone']()||_0x5eea66['color'],'opacity':_0x5eea66['opacity'],'textureAsset':_0x5eea66['textureAss'+'et'],'texture':_0x5eea66['texture'],'spriteAsset':_0x5eea66['spriteAsse'+'t'],'sprite':_0x5eea66['sprite'],'spriteFrame':_0x5eea66['spriteFram'+'e'],'pixelsPerUnit':_0x5eea66['pixelsPerU'+'nit'],'spacing':_0x5eea66['spacing'],'lineHeight':_0x5eea66['lineHeight'],'wrapLines':_0x5eea66['wrapLines'],'layers':_0x5eea66['layers'],'fontSize':_0x5eea66['fontSize'],'minFontSize':_0x5eea66['minFontSiz'+'e'],'maxFontSize':_0x5eea66['maxFontSiz'+'e'],'autoFitWidth':_0x5eea66['autoFitWid'+'th'],'autoFitHeight':_0x5eea66['autoFitHei'+'ght'],'maxLines':_0x5eea66['maxLines'],'fontAsset':_0x5eea66['fontAsset'],'font':_0x5eea66['font'],'useInput':_0x5eea66['useInput'],'fitMode':_0x5eea66['fitMode'],'batchGroupId':_0x5eea66['batchGroup'+'Id'],'mask':_0x5eea66['mask'],'outlineColor':_0x5eea66['outlineCol'+'or']&&_0x5eea66['outlineCol'+'or']['clone']()||_0x5eea66['outlineCol'+'or'],'outlineThickness':_0x5eea66['outlineThi'+'ckness'],'shadowColor':_0x5eea66['shadowColo'+'r']&&_0x5eea66['shadowColo'+'r']['clone']()||_0x5eea66['shadowColo'+'r'],'shadowOffset':_0x5eea66['shadowOffs'+'et']&&_0x5eea66['shadowOffs'+'et']['clone']()||_0x5eea66['shadowOffs'+'et'],'enableMarkup':_0x5eea66['enableMark'+'up']};return _0x5eea66['key']!==void(-0xff7+0xb1b*-0x3+0x3148)&&_0x5eea66['key']!==null?_0x9fa752['key']=_0x5eea66['key']:_0x9fa752['text']=_0x5eea66['text'],this['addCompone'+'nt'](_0xaa3b09,_0x9fa752);}['getTextEle'+'mentMateri'+'al'](_0x4c3e90,_0x5b752e,_0xc71a56){const _0x1df141=(_0x4c3e90&&0x1af7+-0xe*-0xc7+-0x25d8)|(_0x5b752e&&0x24ae+-0xb50*-0x3+0x2*-0x234e)|(_0xc71a56&&0x1c*-0x13c+-0x26*-0xe3+0xe2);let _0x40753a=this['_defaultTe'+'xtMaterial'+'s'][_0x1df141];if(_0x40753a)return _0x40753a;let _0x40bc05='TextMateri'+'al';return _0x40753a=new cs(),_0x5b752e?(_0x40753a['msdfMap']=this['_defaultTe'+'xture'],_0x40753a['msdfTextAt'+'tribute']=_0xc71a56,_0x40753a['emissive']['set'](-0x2477+0x6*-0x3ab+0x3a7a,-0x1f+0x108b+-0x106b,0x19f1+-0x1d75+-0x1*-0x385)):(_0x40bc05='Bitmap'+_0x40bc05,_0x40753a['emissive']['set'](-0x57*0x2+-0x3*-0x40f+0xb7e*-0x1,-0xe8e+0x19e8+-0xb59,-0x1bff+-0x1ab1+0x36b1),_0x40753a['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x40753a['opacityMap']=this['_defaultTe'+'xture'],_0x40753a['opacityMap'+'Channel']='a'),_0x4c3e90&&(_0x40bc05='ScreenSpac'+'e'+_0x40bc05,_0x40753a['depthTest']=!(-0x39*0x5+-0x31*0xf+0x3fd)),_0x40753a['name']='default'+_0x40bc05,_0x40753a['useLightin'+'g']=!(0xfbb*-0x1+-0x35*-0xa3+-0x1203),_0x40753a['useTonemap']=!(0x1361+-0x1*0x6e1+0x1*-0xc7f),_0x40753a['useFog']=!(0x28*0x14+-0xb87+0x868),_0x40753a['useSkybox']=!(0x1fe1+-0x460+-0x1b80),_0x40753a['diffuse']['set'](0x7*0x59+0x1*-0x1181+0x3*0x506,-0x705*0x4+-0x1f35+0x3b49,-0x24a+0x31a+-0x2*0x68),_0x40753a['opacity']=-0x19ff+-0x35d+0x1d5c+0.5,_0x40753a['blendType']=hr,_0x40753a['depthWrite']=!(-0x42e*0x6+0x1*-0x752+-0x23*-0xed),_0x40753a['emissiveVe'+'rtexColor']=!(-0x5b3*-0x2+-0x63e*0x6+0x1*0x1a0e),_0x40753a['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x1df141]=_0x40753a,_0x40753a;}['_createBas'+'eImageMate'+'rial'](){const _0x20342f=new cs();return _0x20342f['diffuse']['set'](-0xb*0x359+0x8*-0x4ae+0x4a43,0x19b0+0x211b+-0x3acb,-0x23f9*-0x1+-0x2541+0x2*0xa4),_0x20342f['emissive']['set'](0x148e+-0x8f1+-0x5ce*0x2,0x7*-0x3dd+0x19e+0x5*0x516,-0x1*0x542+-0xb*0x36c+0x2ae7),_0x20342f['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x20342f['opacityMap']=this['_defaultTe'+'xture'],_0x20342f['opacityMap'+'Channel']='a',_0x20342f['useLightin'+'g']=!(-0x525+-0x2597+-0x1*-0x2abd),_0x20342f['useTonemap']=!(-0x4a3*0x7+0x2*-0x4df+0x2a34),_0x20342f['useFog']=!(0x1c01+-0x2f8+-0x24*0xb2),_0x20342f['useSkybox']=!(0x547*0x3+0xa3*-0x3b+0x15bd),_0x20342f['blendType']=hr,_0x20342f['depthWrite']=!(0x179a+0x188c+-0x3025),_0x20342f;}['getImageEl'+'ementMater'+'ial'](_0xd58698,_0x54abad,_0x317e5c,_0x42574d){return _0xd58698?_0x54abad?_0x317e5c?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(-0x241a+0x5c8+0x1e53),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=-0xa15+-0x7dd*-0x3+-0xd81*0x1,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(-0x102d+-0x1f7*-0x7+0x1b*0x17),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(-0x1934*0x1+0x1*0x1bb+-0x177a*-0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(-0x1731+0x740+0x1a*0x9d),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(0x1077+0xcd2*-0x3+0x1600),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x42574d?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(-0x20ef+0x1*-0x263f+0x1*0x472f),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=0x7*-0x40a+-0x20c8+0x4d*0xcb,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(0x43*-0x8+-0x16fb+0x1914),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(0xb23+0x15b8+0x692*-0x5),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(0x19*-0x1d+0x1*0x1553+0x1*-0x127d),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(-0x3*0xc91+0xe5a+0x175a),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(0x3*0xb32+-0x118e+-0x1007),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=-0xc38+0x12*0x177+-0xe25,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(0xe5*0x25+0x18a9+-0x39c1),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(-0xf85*0x1+0xd6a*0x2+-0xb4e),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(0x1789+-0x147a*0x1+0x2e*-0x11),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(-0xb*0x7c+-0x7*-0x25f+-0xb44),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x317e5c?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(0x1842+-0x38*-0x88+-0x3601),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x42574d?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(-0x1ab1*0x1+0x1*0x2bf+0x17f3),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(-0x11*0x40+-0x1*0xb+0x44c),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x54abad?_0x317e5c?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=-0xb5d+0x1*-0x7+0xb65,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(-0x3f*-0x3a+-0xf5e+-0x1*-0x119),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(0x22d+-0x2268*-0x1+-0x4*0x925),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(-0x2be+-0x135c*-0x1+0x109d*-0x1),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(-0x4a2*0x8+0x26c6+-0x1b5),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x42574d?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=0x5*0xef+-0xa53*-0x3+-0x23a3,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(-0x1d07+-0x11*0x241+0x3*0x1673),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(-0x1*0x20dd+0x9*-0xb+0x2141),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(0x25b0+0x1633*0x1+-0x3be2),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(-0x206e+0x25*0xb2+0x6b5),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=0x23fc+-0x17b9+0x6*-0x20b,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(0x2*-0xd8d+0x89f*0x4+-0x761*0x1),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(-0xc5*0x1b+-0x1*-0x1b9b+-0x6d3),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(0x1889+-0x1*0x8f5+0x531*-0x3),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(0x3*0x9e8+-0x1206+-0x1*0xbb1),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x317e5c?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x42574d?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x2dabd1){this['_unicodeCo'+'nverter']=_0x2dabd1;}['registerRt'+'lReorder'](_0x5231ac){this['_rtlReorde'+'r']=_0x5231ac;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Un='free',Vn='limited',Gn='locked',UR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class Up extends ue{constructor(_0x36200f,_0x58c1a9){super(_0x36200f,_0x58c1a9),v['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(0x1535+-0x103c+0x43*-0x13),this['_linearMot'+'ionX']=Gn,this['_linearLim'+'itsX']=new W(0x7*0x569+-0x82f*-0x3+0x5e*-0xaa,-0x1*0x1786+0x58c+-0x2*-0x8fd),this['_linearSpr'+'ingX']=!(0xe*-0x261+0xf7c+-0xa9*-0x1b),this['_linearSti'+'ffnessX']=-0xe*-0x52+-0x153d+0x10c1*0x1,this['_linearDam'+'pingX']=0x220+-0x1d8f+-0x8*-0x36e,this['_linearEqu'+'ilibriumX']=0x1bad*-0x1+-0x13*-0x1ca+-0x651,this['_linearMot'+'ionY']=Gn,this['_linearLim'+'itsY']=new W(0x24a*-0xd+0xe02+-0x7e0*-0x2,-0x41*0x11+0x773+0x2*-0x191),this['_linearSpr'+'ingY']=!(0x24ae+0x7*0x313+-0x3a32),this['_linearSti'+'ffnessY']=-0x1ae1+-0x10e9*-0x1+0x9f8,this['_linearDam'+'pingY']=0x28f*0xe+0x1f9*-0x6+-0x7*0x36d,this['_linearEqu'+'ilibriumY']=0x2264+-0x1286+0x3*-0x54a,this['_linearMot'+'ionZ']=Gn,this['_linearLim'+'itsZ']=new W(-0x119c+-0x1e31+0x2fcd,0x30a*0x1+0x1f*-0x12d+-0x3*-0xb23),this['_linearSpr'+'ingZ']=!(0x1*0x18b9+-0x1*-0x12ae+-0x2b66),this['_linearSti'+'ffnessZ']=0xe4e*0x2+-0x12d9+-0x9c3,this['_linearDam'+'pingZ']=-0x3a+0x7*0x362+-0x9*0x29b,this['_linearEqu'+'ilibriumZ']=-0x2542+-0x1129*0x2+0x4794,this['_angularMo'+'tionX']=Gn,this['_angularLi'+'mitsX']=new W(-0x1*0x23ee+-0x1*0xeab+0x3299,-0x1*-0x14ef+-0xebc+-0x633),this['_angularSp'+'ringX']=!(-0x17*-0xee+0x38+-0x1599),this['_angularSt'+'iffnessX']=0x1277+0x1f*0x97+-0xe*0x2a0,this['_angularDa'+'mpingX']=0x12a+0x4dd+-0x606,this['_angularEq'+'uilibriumX']=0xee0+-0xa1a*-0x3+-0x1*0x2d2e,this['_angularMo'+'tionY']=Gn,this['_angularLi'+'mitsY']=new W(-0x1f*-0x1c+0xc4b*-0x3+0x217d,0x1*-0x5e6+0x1473+0x95*-0x19),this['_angularSp'+'ringY']=!(0xbec+-0x1c7a+0x108f),this['_angularSt'+'iffnessY']=0x2531+-0xc30+-0x1*0x1901,this['_angularDa'+'mpingY']=-0xe53+-0x44f+0x12a3,this['_angularEq'+'uilibriumY']=-0xa43+-0x1d30+0x1*0x2773,this['_angularMo'+'tionZ']=Gn,this['_angularLi'+'mitsZ']=new W(0x165e+-0x194d+0x2ef,-0x1a5b+0x4*-0x22a+-0x2303*-0x1),this['_angularSp'+'ringZ']=!(-0xf5e+-0x1dc4+0x2d23),this['_angularEq'+'uilibriumZ']=0x1b5*-0xb+-0x2063+0x332a,this['_angularDa'+'mpingZ']=0x1d*-0xfc+-0x23f3+0x4080,this['_angularSt'+'iffnessZ']=0xb7f+-0x201+0xa*-0xf3,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x8951cf){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x8951cf,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x3f3574){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x3f3574,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x226b21){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x226b21&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x226b21),this['_breakForc'+'e']=_0x226b21);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x128afc){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x128afc,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x4b6938){this['_angularLi'+'mitsX']['equals'](_0x4b6938)||(this['_angularLi'+'mitsX']['copy'](_0x4b6938),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x53ba93){this['_angularMo'+'tionX']!==_0x53ba93&&(this['_angularMo'+'tionX']=_0x53ba93,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x308459){this['_angularLi'+'mitsY']['equals'](_0x308459)||(this['_angularLi'+'mitsY']['copy'](_0x308459),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x332a38){this['_angularMo'+'tionY']!==_0x332a38&&(this['_angularMo'+'tionY']=_0x332a38,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x3b36d5){this['_angularLi'+'mitsZ']['equals'](_0x3b36d5)||(this['_angularLi'+'mitsZ']['copy'](_0x3b36d5),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x145c91){this['_angularMo'+'tionZ']!==_0x145c91&&(this['_angularMo'+'tionZ']=_0x145c91,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0xae8829){this['_linearLim'+'itsX']['equals'](_0xae8829)||(this['_linearLim'+'itsX']['copy'](_0xae8829),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x1c534f){this['_linearMot'+'ionX']!==_0x1c534f&&(this['_linearMot'+'ionX']=_0x1c534f,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x8c2e27){this['_linearLim'+'itsY']['equals'](_0x8c2e27)||(this['_linearLim'+'itsY']['copy'](_0x8c2e27),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x52d1ec){this['_linearMot'+'ionY']!==_0x52d1ec&&(this['_linearMot'+'ionY']=_0x52d1ec,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x47599e){this['_linearLim'+'itsZ']['equals'](_0x47599e)||(this['_linearLim'+'itsZ']['copy'](_0x47599e),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x2b572f){this['_linearMot'+'ionZ']!==_0x2b572f&&(this['_linearMot'+'ionZ']=_0x2b572f,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x157563,_0x1868ee){const _0x523ac7=_0x157563['getTransla'+'tion'](),_0x5e7322=new se();_0x5e7322['setFromMat'+'4'](_0x157563);const _0x319ef2=new Ammo['btVector3'](_0x523ac7['x'],_0x523ac7['y'],_0x523ac7['z']),_0x4ac9d0=new Ammo['btQuaterni'+'on'](_0x5e7322['x'],_0x5e7322['y'],_0x5e7322['z'],_0x5e7322['w']);_0x1868ee['setOrigin'](_0x319ef2),_0x1868ee['setRotatio'+'n'](_0x4ac9d0),Ammo['destroy'](_0x319ef2),Ammo['destroy'](_0x4ac9d0);}['_updateAng'+'ularLimits'](){const _0x485139=this['_constrain'+'t'];if(_0x485139){let _0x4bd8bb,_0x1f32cf,_0x27639d,_0xd8798c,_0x1285be,_0x39fd5f;this['_angularMo'+'tionX']===Vn?(_0x4bd8bb=this['_angularLi'+'mitsX']['x']*N['DEG_TO_RAD'],_0xd8798c=this['_angularLi'+'mitsX']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionX']===Un?(_0x4bd8bb=-0x2b*0x9e+0x1931*0x1+0x15a,_0xd8798c=0xf05+0x71*0x45+-0x2d7a):_0x4bd8bb=_0xd8798c=0xf5*0x1c+-0x254d+0xa81,this['_angularMo'+'tionY']===Vn?(_0x1f32cf=this['_angularLi'+'mitsY']['x']*N['DEG_TO_RAD'],_0x1285be=this['_angularLi'+'mitsY']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionY']===Un?(_0x1f32cf=0x8e*0x11+0x2208+-0x2b75,_0x1285be=-0x3a*-0x9b+0x30a*0x1+-0x2*0x1314):_0x1f32cf=_0x1285be=0x8f*-0x9+-0x1297*0x1+0x179e,this['_angularMo'+'tionZ']===Vn?(_0x27639d=this['_angularLi'+'mitsZ']['x']*N['DEG_TO_RAD'],_0x39fd5f=this['_angularLi'+'mitsZ']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Un?(_0x27639d=-0x1f10+-0xed2+0x2de3,_0x39fd5f=0x46d*-0x7+-0x1aa7+0x39a2):_0x27639d=_0x39fd5f=-0x6c5*0x4+0x1*0x1992+0x182;const _0x2058cb=new Ammo['btVector3'](_0x4bd8bb,_0x1f32cf,_0x27639d);_0x485139['setAngular'+'LowerLimit'](_0x2058cb),_0x2058cb['setValue'](_0xd8798c,_0x1285be,_0x39fd5f),_0x485139['setAngular'+'UpperLimit'](_0x2058cb),Ammo['destroy'](_0x2058cb);}}['_updateLin'+'earLimits'](){const _0x5f0c9d=this['_constrain'+'t'];if(_0x5f0c9d){let _0x265981,_0x1fc7d5,_0x53beb7,_0xbcbaaa,_0x103ffd,_0x39852d;this['_linearMot'+'ionX']===Vn?(_0x265981=this['_linearLim'+'itsX']['x'],_0xbcbaaa=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Un?(_0x265981=-0x212e+0x1d7d+-0x2b*-0x16,_0xbcbaaa=-0x83f*-0x1+-0xa4d+0x20e):_0x265981=_0xbcbaaa=-0x39*0x2f+-0x1b8d+0x2604,this['_linearMot'+'ionY']===Vn?(_0x1fc7d5=this['_linearLim'+'itsY']['x'],_0x103ffd=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Un?(_0x1fc7d5=0x1*-0x1e31+0x5ea+0x40c*0x6,_0x103ffd=0x2b*-0x1d+-0x6eb+0xbca):_0x1fc7d5=_0x103ffd=-0x28*-0x9d+0xe*-0x265+0x8fe,this['_linearMot'+'ionZ']===Vn?(_0x53beb7=this['_linearLim'+'itsZ']['x'],_0x39852d=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Un?(_0x53beb7=-0x1583+-0x4*0x4d2+-0x5d4*-0x7,_0x39852d=0x160e+0xb*-0xd3+-0xcfd):_0x53beb7=_0x39852d=-0xf1*-0x16+-0x89*-0x1d+0x52d*-0x7;const _0xa638c5=new Ammo['btVector3'](_0x265981,_0x1fc7d5,_0x53beb7);_0x5f0c9d['setLinearL'+'owerLimit'](_0xa638c5),_0xa638c5['setValue'](_0xbcbaaa,_0x103ffd,_0x39852d),_0x5f0c9d['setLinearU'+'pperLimit'](_0xa638c5),Ammo['destroy'](_0xa638c5);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x2af05c=new q(),_0x409d1a=this['_entityA']['rigidbody']['body'];_0x409d1a['activate']();const _0x2df072=this['entity']['getWorldTr'+'ansform'](),_0x3602e8=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x2af05c['mul2'](_0x3602e8,_0x2df072);const _0x5ecc77=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x2af05c,_0x5ecc77),this['_entityB']&&this['_entityB']['rigidbody']){const _0x10d9fd=this['_entityB']['rigidbody']['body'];_0x10d9fd['activate']();const _0x28a10f=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x2af05c['mul2'](_0x28a10f,_0x2df072);const _0xa3d5e2=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x2af05c,_0xa3d5e2),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x409d1a,_0x10d9fd,_0x5ecc77,_0xa3d5e2,!this['_enableCol'+'lision']),Ammo['destroy'](_0xa3d5e2);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x409d1a,_0x5ecc77,!this['_enableCol'+'lision']);Ammo['destroy'](_0x5ecc77);const _0x53de84=['X','Y','Z','X','Y','Z'];for(let _0xccd4d0=0x177+-0x1d2*-0x9+-0x11d9*0x1;_0xccd4d0<-0x2437+-0x9*-0x295+0xd00;_0xccd4d0++){const _0x10192a=_0xccd4d0<-0x17b*-0xb+-0x3*0x96a+0xbf8?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0xccd4d0,this[_0x10192a+'Spring'+_0x53de84[_0xccd4d0]]),this['_constrain'+'t']['setDamping'](_0xccd4d0,this[_0x10192a+'Damping'+_0x53de84[_0xccd4d0]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0xccd4d0,this[_0x10192a+('Equilibriu'+'m')+_0x53de84[_0xccd4d0]]),this['_constrain'+'t']['setStiffne'+'ss'](_0xccd4d0,this[_0x10192a+'Stiffness'+_0x53de84[_0xccd4d0]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x580949){for(const _0x506a7f of UR)_0x580949['hasOwnProp'+'erty'](_0x506a7f)&&(_0x580949[_0x506a7f]instanceof W?this['_'+_0x506a7f]['copy'](_0x580949[_0x506a7f]):this['_'+_0x506a7f]=_0x580949[_0x506a7f]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x52f4dd,_0x541b94,_0x410c10){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const VR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x1338fe=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x342c53=>{['X','Y','Z']['forEach'](_0x1b7df5=>{const _0x392793=_0x1338fe+_0x342c53+_0x1b7df5,_0x1aa8a0='_'+_0x392793;let _0x414f84=_0x1338fe==='linear'?0xd*0x18d+0x1e*0x18+0x1*-0x16f9:-0x1496+0x79*-0x2+0x158b*0x1;_0x1b7df5==='Y'&&(_0x414f84+=-0x21*0x19+0xad1+-0x1d*0x43),_0x1b7df5==='Z'&&(_0x414f84+=-0x22b*-0x3+-0x931*0x2+-0xb3*-0x11),Object['defineProp'+'erty'](Up['prototype'],_0x392793,{'get':function(){return this[_0x1aa8a0];},'set':function(_0x46108b){this[_0x1aa8a0]!==_0x46108b&&(this[_0x1aa8a0]=_0x46108b,this['_constrain'+'t'][VR[_0x342c53]](_0x414f84,_0x46108b));}});});});});class GR{constructor(){this['enabled']=!(-0x20ba*0x1+-0x1337*-0x1+-0xd83*-0x1);}}const uf=['enabled'];class HR extends Xe{constructor(_0x1deb1f){super(_0x1deb1f),this['id']='joint',this['app']=_0x1deb1f,this['ComponentT'+'ype']=Up,this['DataType']=GR,this['schema']=uf;}['initialize'+'ComponentD'+'ata'](_0x479f09,_0x1e0be2,_0x263d85){_0x479f09['initFromDa'+'ta'](_0x1e0be2),super['initialize'+'ComponentD'+'ata'](_0x479f09,_0x1e0be2,uf);}}ue['_buildAcce'+'ssors'](Up['prototype'],uf);class nx extends ue{constructor(){super(...arguments),c(this,'_minWidth',0x18*-0x190+-0x1986+0x3f06),c(this,'_minHeight',-0x461+0x62e+0x1cd*-0x1),c(this,'_maxWidth',null),c(this,'_maxHeight',null),c(this,'_fitWidthP'+'roportion',-0x7*-0x2fd+0x860+-0x1d4b),c(this,'_fitHeight'+'Proportion',0x1d0f+0xc31+-0x2940),c(this,'_excludeFr'+'omLayout',!(-0x1f7a+-0xa9e+0x33d*0xd));}set['minWidth'](_0x140651){_0x140651!==this['_minWidth']&&(this['_minWidth']=_0x140651,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x22cbed){_0x22cbed!==this['_minHeight']&&(this['_minHeight']=_0x22cbed,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x577eef){_0x577eef!==this['_maxWidth']&&(this['_maxWidth']=_0x577eef,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x2099a5){_0x2099a5!==this['_maxHeight']&&(this['_maxHeight']=_0x2099a5,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x1febb9){_0x1febb9!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x1febb9,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0xccfbff){_0xccfbff!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0xccfbff,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x1c5664){_0x1c5664!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x1c5664,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class WR{constructor(){this['enabled']=!(-0x39d*-0x3+0x4*-0xc8+-0x7b7);}}const ax=['enabled'];class $R extends Xe{constructor(_0x19f75c){super(_0x19f75c),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=nx,this['DataType']=WR,this['schema']=ax;}['initialize'+'ComponentD'+'ata'](_0x1d1cc3,_0x31a470,_0x12a2b8){_0x31a470['enabled']!==void(0x538*0x3+-0x54*-0x71+-0xe1*0x3c)&&(_0x1d1cc3['enabled']=_0x31a470['enabled']),_0x31a470['minWidth']!==void(0xb6d+0x2*-0x4e9+-0x19b)&&(_0x1d1cc3['minWidth']=_0x31a470['minWidth']),_0x31a470['minHeight']!==void(0x2363*0x1+0x19d6+-0x3d39)&&(_0x1d1cc3['minHeight']=_0x31a470['minHeight']),_0x31a470['maxWidth']!==void(0x1*0x112+0x370+-0x482)&&(_0x1d1cc3['maxWidth']=_0x31a470['maxWidth']),_0x31a470['maxHeight']!==void(0x746+-0x1ed6*0x1+0x1790)&&(_0x1d1cc3['maxHeight']=_0x31a470['maxHeight']),_0x31a470['fitWidthPr'+'oportion']!==void(0x9d*-0x19+0xd61+0x1f4)&&(_0x1d1cc3['fitWidthPr'+'oportion']=_0x31a470['fitWidthPr'+'oportion']),_0x31a470['fitHeightP'+'roportion']!==void(0x3ad*0xa+-0x1*0x260a+-0x4*-0x52)&&(_0x1d1cc3['fitHeightP'+'roportion']=_0x31a470['fitHeightP'+'roportion']),_0x31a470['excludeFro'+'mLayout']!==void(-0x1*0x206a+-0x19*-0x95+0x11dd)&&(_0x1d1cc3['excludeFro'+'mLayout']=_0x31a470['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x1d1cc3,_0x31a470,_0x12a2b8);}['cloneCompo'+'nent'](_0x461d16,_0x5d1883){const _0x3758b2=_0x461d16['layoutchil'+'d'];return this['addCompone'+'nt'](_0x5d1883,{'enabled':_0x3758b2['enabled'],'minWidth':_0x3758b2['minWidth'],'minHeight':_0x3758b2['minHeight'],'maxWidth':_0x3758b2['maxWidth'],'maxHeight':_0x3758b2['maxHeight'],'fitWidthProportion':_0x3758b2['fitWidthPr'+'oportion'],'fitHeightProportion':_0x3758b2['fitHeightP'+'roportion'],'excludeFromLayout':_0x3758b2['excludeFro'+'mLayout']});}}ue['_buildAcce'+'ssors'](nx['prototype'],ax);const ff=0x96a+-0x1bb9+-0x6d*-0x2b,qR=-0x8e3+-0x6*0x646+0x1744*0x2,gg=-0x1*-0x1885+0x18a*-0x6+0x1*-0xf47,XR=0x1*0x1fa+-0x274+0x7d,Zh={};Zh[pe]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Zh[ke]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const Vp={};Vp[pe]=ke,Vp[ke]=pe;const jR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},zt={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},Ut=new W();function ox(_0x19c26a){let _0x5e2a1f;const _0x3ae1e7=Zh[_0x19c26a],_0xc4438b=Zh[Vp[_0x19c26a]];function _0x16ca01(_0x2ae02c,_0x689e4c){return-_0x689e4c[_0x3ae1e7['size']]*_0x2ae02c['pivot'][_0x3ae1e7['axis']];}function _0x9479bb(_0x3ba735,_0x1fff4c){return-_0x1fff4c[_0xc4438b['size']]*_0x3ba735['pivot'][_0xc4438b['axis']];}function _0x4a81fb(_0x511aa8,_0x193167){return _0x193167[_0x3ae1e7['size']]*(0xe8*0x11+0x5ee+-0x1555-_0x511aa8['pivot'][_0x3ae1e7['axis']]);}function _0x406e2c(_0x511783,_0x191397){_0x511783=_0x511783['filter'](_0xf76c23),_0x5e2a1f=_0x191397,Ut['x']=_0x5e2a1f['containerS'+'ize']['x']-_0x5e2a1f['padding']['x']-_0x5e2a1f['padding']['z'],Ut['y']=_0x5e2a1f['containerS'+'ize']['y']-_0x5e2a1f['padding']['y']-_0x5e2a1f['padding']['w'],_0x25a737(_0x511783);const _0x2e9516=_0x118bc0(_0x58c015(_0x511783)),_0x365ae8=_0x28432e(_0x2e9516,_0x488d43(_0x2e9516)),_0x100216=_0x9dfa98(_0x2e9516,_0x365ae8);return _0x387c40(_0x2e9516,_0x365ae8,_0x100216),_0x2f9cba(_0x2e9516,_0x365ae8,_0x100216),_0x1b8e0d(_0x2e9516);}function _0xf76c23(_0x3aa778){const _0x38a8bb=_0x3aa778['entity']['layoutchil'+'d'];return!_0x38a8bb||!_0x38a8bb['enabled']||!_0x38a8bb['excludeFro'+'mLayout'];}function _0x25a737(_0x34e6dc){for(let _0x4bf862=-0x2582*-0x1+-0x35b*-0x7+-0x3cff;_0x4bf862<_0x34e6dc['length'];++_0x4bf862){const _0x427b3a=_0x34e6dc[_0x4bf862],_0x14d36e=_0x427b3a['anchor'];(_0x14d36e['x']!==-0x7d4+0x1dc2*-0x1+-0x22*-0x11b||_0x14d36e['y']!==-0x6dc+-0x1498+-0xe*-0x1f6||_0x14d36e['z']!==-0x2496*0x1+0x623+-0x617*-0x5||_0x14d36e['w']!==-0x2618+0x5ae+0x206a)&&(_0x427b3a['anchor']=Q['ZERO']);}}function _0x58c015(_0x13d845){if(!_0x5e2a1f['wrap'])return[_0x13d845];const _0x2a1f5b=[[]],_0x44fc31=_0xa64bc0(_0x13d845);let _0xceb7e5=-0x745+0x115d*0x1+-0xa18;const _0x470f19=_0x5e2a1f[_0x3ae1e7['fitting']]===gg;for(let _0x5c7ba5=-0x91e+-0x7*0x10b+-0x3*-0x579;_0x5c7ba5<_0x13d845['length'];++_0x5c7ba5){_0x2a1f5b[_0x2a1f5b['length']-(-0x212a+-0x201*-0xd+0x71e)]['length']>-0xec0+-0x1a53+0xf*0x2bd&&(_0xceb7e5+=_0x5e2a1f['spacing'][_0x3ae1e7['axis']]);const _0x10bf52=_0x44fc31[_0x5c7ba5][_0x3ae1e7['size']];_0xceb7e5+=_0x10bf52,!_0x470f19&&_0xceb7e5>Ut[_0x3ae1e7['axis']]&&_0x2a1f5b[_0x2a1f5b['length']-(0x2602+0x1660+-0x3c61)]['length']!==-0x2325+0x895+0x1a90&&(_0xceb7e5=_0x10bf52,_0x2a1f5b['push']([])),_0x2a1f5b[_0x2a1f5b['length']-(0x1f72+-0x24d7+0x566)]['push'](_0x13d845[_0x5c7ba5]),_0x470f19&&_0xceb7e5>Ut[_0x3ae1e7['axis']]&&_0x5c7ba5!==_0x13d845['length']-(0x2445+0x1cd9+-0x411d)&&(_0xceb7e5=-0x1*0x11ef+0x1d7*0x11+-0xd58,_0x2a1f5b['push']([]));}return _0x2a1f5b;}function _0x118bc0(_0x58f9a4){const _0x4448bd=_0x5e2a1f['orientatio'+'n']===pe&&_0x5e2a1f['reverseX']||_0x5e2a1f['orientatio'+'n']===ke&&_0x5e2a1f['reverseY'],_0x32664=_0x5e2a1f['orientatio'+'n']===pe&&_0x5e2a1f['reverseY']||_0x5e2a1f['orientatio'+'n']===ke&&_0x5e2a1f['reverseX'];if(_0x4448bd){for(let _0x4b8213=0x1f4*-0x2+0xd88+-0xb*0xe0;_0x4b8213<_0x58f9a4['length'];++_0x4b8213)_0x4448bd&&_0x58f9a4[_0x4b8213]['reverse']();}return _0x32664&&_0x58f9a4['reverse'](),_0x58f9a4;}function _0x488d43(_0x193095){const _0x40cf31=[];for(let _0x2738ab=-0x837*-0x3+0x3*0x655+0x4*-0xae9;_0x2738ab<_0x193095['length'];++_0x2738ab){const _0x47eb01=_0x193095[_0x2738ab],_0x2a5095=_0xa64bc0(_0x47eb01),_0x587ee9=_0x326028(_0x2a5095,_0x3ae1e7),_0x26c970=_0x3c8190(_0x5e2a1f[_0x3ae1e7['fitting']],_0x587ee9,Ut[_0x3ae1e7['axis']]);_0x26c970===zt['APPLY_STRE'+'TCHING']?_0x5e58aa(_0x2a5095,_0x587ee9,_0x3ae1e7):_0x26c970===zt['APPLY_SHRI'+'NKING']&&_0x3cfd71(_0x2a5095,_0x587ee9,_0x3ae1e7),_0x40cf31['push'](_0x2a5095);}return _0x40cf31;}function _0x28432e(_0x5a751c,_0x3d6c08){const _0x2b4b05=[],_0x51ea58=[];for(let _0xc2a838=-0xaa1*-0x2+0xe59+0x1*-0x239b;_0xc2a838<_0x5a751c['length'];++_0xc2a838){const _0x49195f=_0x5a751c[_0xc2a838];_0x49195f['largestEle'+'ment']=null,_0x49195f['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x2b880f=-0x332*0x4+0x3d7*0x6+-0xa42;_0x2b880f<_0x49195f['length'];++_0x2b880f){const _0x4a1472=_0x3d6c08[_0xc2a838][_0x2b880f];_0x4a1472[_0xc4438b['size']]>_0x49195f['largestSiz'+'e'][_0xc4438b['size']]&&(_0x49195f['largestEle'+'ment']=_0x49195f[_0x2b880f],_0x49195f['largestSiz'+'e']=_0x4a1472);}_0x2b4b05['push'](_0x49195f['largestEle'+'ment']),_0x51ea58['push'](_0x49195f['largestSiz'+'e']);}const _0x260555=_0x326028(_0x51ea58,_0xc4438b),_0x53e14d=_0x3c8190(_0x5e2a1f[_0xc4438b['fitting']],_0x260555,Ut[_0xc4438b['axis']]);_0x53e14d===zt['APPLY_STRE'+'TCHING']?_0x5e58aa(_0x51ea58,_0x260555,_0xc4438b):_0x53e14d===zt['APPLY_SHRI'+'NKING']&&_0x3cfd71(_0x51ea58,_0x260555,_0xc4438b);for(let _0x251e82=-0x108c+0x1f91+0x5*-0x301;_0x251e82<_0x5a751c['length'];++_0x251e82){const _0x48bd7e=_0x5a751c[_0x251e82];for(let _0x4e4783=0x2208+0x275*-0xd+-0x1*0x217;_0x4e4783<_0x48bd7e['length'];++_0x4e4783){const _0x4b89e1=_0x3d6c08[_0x251e82][_0x4e4783],_0x979f34=_0x4b89e1[_0xc4438b['size']],_0x361e0f=_0x5a751c['length']===-0x3eb*0x6+0x1fc+0x1587*0x1?Ut[_0xc4438b['axis']]:_0x48bd7e['largestSiz'+'e'][_0xc4438b['size']],_0x2f52cd=_0x3c8190(_0x5e2a1f[_0xc4438b['fitting']],_0x979f34,_0x361e0f);_0x2f52cd===zt['APPLY_STRE'+'TCHING']?_0x4b89e1[_0xc4438b['size']]=Math['min'](_0x361e0f,_0x4b89e1[_0xc4438b['maxSize']]):_0x2f52cd===zt['APPLY_SHRI'+'NKING']&&(_0x4b89e1[_0xc4438b['size']]=Math['max'](_0x361e0f,_0x4b89e1[_0xc4438b['minSize']]));}}return _0x3d6c08;}function _0x3c8190(_0x17ed88,_0x54e9c4,_0xc8956c){switch(_0x17ed88){case ff:return zt['NONE'];case qR:return _0x54e9c4<_0xc8956c?zt['APPLY_STRE'+'TCHING']:zt['NONE'];case gg:return _0x54e9c4>=_0xc8956c?zt['APPLY_SHRI'+'NKING']:zt['NONE'];case XR:return _0x54e9c4<_0xc8956c?zt['APPLY_STRE'+'TCHING']:zt['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x17ed88);}}function _0x326028(_0x2dfe3d,_0x5ec4ea){const _0x5bb771=_0x59dad(_0x2dfe3d,_0x5ec4ea['size']),_0x4ed5ea=(_0x2dfe3d['length']-(0x443*-0x2+-0x22a*0x7+0x17ad*0x1))*_0x5e2a1f['spacing'][_0x5ec4ea['axis']];return _0x5bb771+_0x4ed5ea;}function _0x5e58aa(_0x10d0f2,_0x543a24,_0x2406b7){const _0x14993e=_0x416a23(_0x10d0f2,_0x2406b7['maxSize']),_0x16e6dd=_0x2ab445(_0x10d0f2,_0x2406b7['fittingPro'+'portion']),_0x1a7c94=_0xc09294(_0x16e6dd,_0x14993e);let _0x98cf6b=Ut[_0x2406b7['axis']]-_0x543a24;for(let _0x3dd6cc=-0x108d+0x1*-0xf7+-0x13*-0xec;_0x3dd6cc<_0x10d0f2['length'];++_0x3dd6cc){const _0x4835ea=_0x14993e[_0x3dd6cc],_0x5e0483=_0x170add(_0x4835ea,_0x98cf6b,_0x16e6dd,_0x1a7c94),_0x1cdc95=_0x10d0f2[_0x4835ea][_0x2406b7['size']]+_0x5e0483,_0x1062d2=_0x10d0f2[_0x4835ea][_0x2406b7['maxSize']],_0x4d63d1=Math['min'](_0x1cdc95,_0x1062d2);_0x10d0f2[_0x4835ea][_0x2406b7['size']]=_0x4d63d1;const _0x416ac5=Math['max'](_0x1cdc95-_0x4d63d1,-0x7*0xa9+0x32e*0x8+-0x14d1),_0x1be333=_0x5e0483-_0x416ac5;_0x98cf6b-=_0x1be333;}}function _0x3cfd71(_0x192274,_0x5e667a,_0x467bf2){const _0xc7e7d8=_0x416a23(_0x192274,_0x467bf2['minSize'],!(-0xf*-0x11+0x1d6f+-0x30b*0xa)),_0x2a25cb=_0x2ab445(_0x192274,_0x467bf2['fittingPro'+'portion']),_0x5f154f=_0x2790bb(_0x2a25cb),_0x1b6b81=_0xc09294(_0x5f154f,_0xc7e7d8);let _0x333216=_0x5e667a-Ut[_0x467bf2['axis']];for(let _0x187cc3=0x26b0+-0x44b+-0x1*0x2265;_0x187cc3<_0x192274['length'];++_0x187cc3){const _0x48d16d=_0xc7e7d8[_0x187cc3],_0x362824=_0x170add(_0x48d16d,_0x333216,_0x5f154f,_0x1b6b81),_0x419e34=_0x192274[_0x48d16d][_0x467bf2['size']]-_0x362824,_0x342c8e=_0x192274[_0x48d16d][_0x467bf2['minSize']],_0x29da60=Math['max'](_0x419e34,_0x342c8e);_0x192274[_0x48d16d][_0x467bf2['size']]=_0x29da60;const _0x1cbacf=Math['max'](_0x29da60-_0x419e34,0x25*-0x61+-0x2e3+0x1*0x10e8),_0x5f524f=_0x362824-_0x1cbacf;_0x333216-=_0x5f524f;}}function _0x170add(_0x32204f,_0x3ff4b1,_0x229f7b,_0xcef6e2){const _0x4ec32e=_0x229f7b[_0x32204f],_0x46a56a=_0xcef6e2[_0x32204f];return Math['abs'](_0x4ec32e)<-0x23d1+-0x13d5+0x37a6+0.00001&&Math['abs'](_0x46a56a)<-0x1da*0x9+-0x194*0x6+-0xf*-0x1be+0.00001?_0x3ff4b1:_0x3ff4b1*_0x4ec32e/_0x46a56a;}function _0x9dfa98(_0x4a0a8a,_0x2adb0e){const _0x47a2af={};_0x47a2af[_0x3ae1e7['axis']]=-0xb03+-0x10d*-0x19+-0xf42,_0x47a2af[_0xc4438b['axis']]=0x370*0x9+-0x1ea6+0x2*-0x25,_0x4a0a8a[_0x3ae1e7['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x1cc8b6=[];for(let _0xf20219=0x49b+0x1955*-0x1+0x14ba;_0xf20219<_0x4a0a8a['length'];++_0xf20219){const _0x1851cd=_0x4a0a8a[_0xf20219];if(_0x1851cd['length']===-0xeba+-0x20eb*0x1+-0x2fa5*-0x1){_0x1cc8b6['push']([]);continue;}const _0x2c958b=[],_0x1dd8d5=_0x2adb0e[_0xf20219];for(let _0xda4e3=0x1ba4*0x1+0x1e1e+-0x39c2;_0xda4e3<_0x1851cd['length'];++_0xda4e3){const _0x1d44ed=_0x1851cd[_0xda4e3],_0x43695b=_0x1dd8d5[_0xda4e3];_0x47a2af[_0xc4438b['axis']]-=_0x9479bb(_0x1d44ed,_0x43695b),_0x47a2af[_0x3ae1e7['axis']]-=_0x16ca01(_0x1d44ed,_0x43695b),_0x2c958b[_0xda4e3]={},_0x2c958b[_0xda4e3][_0x3ae1e7['axis']]=_0x47a2af[_0x3ae1e7['axis']],_0x2c958b[_0xda4e3][_0xc4438b['axis']]=_0x47a2af[_0xc4438b['axis']],_0x47a2af[_0xc4438b['axis']]+=_0x9479bb(_0x1d44ed,_0x43695b),_0x47a2af[_0x3ae1e7['axis']]+=_0x4a81fb(_0x1d44ed,_0x43695b)+_0x5e2a1f['spacing'][_0x3ae1e7['axis']];}_0x1851cd[_0x3ae1e7['size']]=_0x47a2af[_0x3ae1e7['axis']]-_0x5e2a1f['spacing'][_0x3ae1e7['axis']],_0x1851cd[_0xc4438b['size']]=_0x1851cd['largestSiz'+'e'][_0xc4438b['size']],_0x4a0a8a[_0x3ae1e7['size']]=Math['max'](_0x4a0a8a[_0x3ae1e7['size']],_0x1851cd[_0x3ae1e7['size']]),_0x47a2af[_0x3ae1e7['axis']]=0x593+0xf1e+0x14b1*-0x1,_0x47a2af[_0xc4438b['axis']]+=_0x1851cd[_0xc4438b['size']]+_0x5e2a1f['spacing'][_0xc4438b['axis']],_0x1cc8b6['push'](_0x2c958b);}return _0x4a0a8a[_0xc4438b['size']]=_0x47a2af[_0xc4438b['axis']]-_0x5e2a1f['spacing'][_0xc4438b['axis']],_0x1cc8b6;}function _0x387c40(_0x57581b,_0x254e17,_0x563aa2){const _0x53177b=_0x5e2a1f['alignment'][_0x3ae1e7['axis']],_0x4eda65=_0x5e2a1f['alignment'][_0xc4438b['axis']],_0x4e915b=_0x5e2a1f['padding'][_0x3ae1e7['axis']],_0x3ed5bc=_0x5e2a1f['padding'][_0xc4438b['axis']];for(let _0x14807a=-0xc7*0x1f+-0x21*-0x7f+0x2*0x3dd;_0x14807a<_0x57581b['length'];++_0x14807a){const _0x45791b=_0x57581b[_0x14807a],_0x571905=_0x254e17[_0x14807a],_0x429c65=_0x563aa2[_0x14807a],_0x46b813=(Ut[_0x3ae1e7['axis']]-_0x45791b[_0x3ae1e7['size']])*_0x53177b+_0x4e915b,_0x2e9791=(Ut[_0xc4438b['axis']]-_0x57581b[_0xc4438b['size']])*_0x4eda65+_0x3ed5bc;for(let _0xca9465=-0xfb0*-0x1+0x1a24+0x29d4*-0x1;_0xca9465<_0x45791b['length'];++_0xca9465){const _0x5b8a61=(_0x45791b[_0xc4438b['size']]-_0x571905[_0xca9465][_0xc4438b['size']])*_0x5e2a1f['alignment'][_0xc4438b['axis']];_0x429c65[_0xca9465][_0x3ae1e7['axis']]+=_0x46b813,_0x429c65[_0xca9465][_0xc4438b['axis']]+=_0x2e9791+_0x5b8a61;}}}function _0x2f9cba(_0x39d9dc,_0x580677,_0xfc6b10){for(let _0x49e312=-0x1168+-0x211c+0x3284;_0x49e312<_0x39d9dc['length'];++_0x49e312){const _0x513da6=_0x39d9dc[_0x49e312],_0x2b436c=_0x580677[_0x49e312],_0x7b9ce8=_0xfc6b10[_0x49e312];for(let _0x75ff8e=-0xc5*-0x18+0x8*-0xef+-0xb00;_0x75ff8e<_0x513da6['length'];++_0x75ff8e){const _0x40ab8d=_0x513da6[_0x75ff8e];_0x40ab8d[_0x3ae1e7['calculated'+'Size']]=_0x2b436c[_0x75ff8e][_0x3ae1e7['size']],_0x40ab8d[_0xc4438b['calculated'+'Size']]=_0x2b436c[_0x75ff8e][_0xc4438b['size']],_0x5e2a1f['orientatio'+'n']===pe?_0x40ab8d['entity']['setLocalPo'+'sition'](_0x7b9ce8[_0x75ff8e][_0x3ae1e7['axis']],_0x7b9ce8[_0x75ff8e][_0xc4438b['axis']],_0x40ab8d['entity']['getLocalPo'+'sition']()['z']):_0x40ab8d['entity']['setLocalPo'+'sition'](_0x7b9ce8[_0x75ff8e][_0xc4438b['axis']],_0x7b9ce8[_0x75ff8e][_0x3ae1e7['axis']],_0x40ab8d['entity']['getLocalPo'+'sition']()['z']);}}}function _0x1b8e0d(_0x491038){const _0x246288=_0x491038['width'],_0x1d3901=_0x491038['height'],_0x5b8677=(Ut['x']-_0x246288)*_0x5e2a1f['alignment']['x']+_0x5e2a1f['padding']['x'],_0x5810d0=(Ut['y']-_0x1d3901)*_0x5e2a1f['alignment']['y']+_0x5e2a1f['padding']['y'];return{'bounds':new Q(_0x5b8677,_0x5810d0,_0x246288,_0x1d3901)};}function _0xa64bc0(_0x365646){const _0x5b694b=[];for(let _0x252f4e=-0x1d1+-0x908+-0xad9*-0x1;_0x252f4e<_0x365646['length'];++_0x252f4e){const _0x2be9cc=_0x365646[_0x252f4e],_0x3364e3=Math['max'](_0xe78ca8(_0x2be9cc,'minWidth'),0x16d3+0x5*-0x535+0x336),_0x48003e=Math['max'](_0xe78ca8(_0x2be9cc,'minHeight'),0x55c+-0x9fc*-0x3+0x2*-0x11a8),_0x1f6e9f=Math['max'](_0xe78ca8(_0x2be9cc,'maxWidth'),_0x3364e3),_0x73fcec=Math['max'](_0xe78ca8(_0x2be9cc,'maxHeight'),_0x48003e),_0x163cb3=_0x475720(_0xe78ca8(_0x2be9cc,'width'),_0x3364e3,_0x1f6e9f),_0x2812b6=_0x475720(_0xe78ca8(_0x2be9cc,'height'),_0x48003e,_0x73fcec),_0x53530d=_0xe78ca8(_0x2be9cc,'fitWidthPr'+'oportion'),_0x67b338=_0xe78ca8(_0x2be9cc,'fitHeightP'+'roportion');_0x5b694b['push']({'minWidth':_0x3364e3,'minHeight':_0x48003e,'maxWidth':_0x1f6e9f,'maxHeight':_0x73fcec,'width':_0x163cb3,'height':_0x2812b6,'fitWidthProportion':_0x53530d,'fitHeightProportion':_0x67b338});}return _0x5b694b;}function _0xe78ca8(_0x3ffd7f,_0x190f29){const _0xc833ab=_0x3ffd7f['entity']['layoutchil'+'d'];return _0xc833ab&&_0xc833ab['enabled']&&_0xc833ab[_0x190f29]!==void(-0x3ff+0x7*0x2a3+0x4d2*-0x3)&&_0xc833ab[_0x190f29]!==null?_0xc833ab[_0x190f29]:_0x3ffd7f[_0x190f29]!==void(-0x287*0x9+-0x1*0x21d3+0x3892)?_0x3ffd7f[_0x190f29]:jR[_0x190f29];}function _0x475720(_0x3edcde,_0x61a90a,_0x45ae93){return Math['min'](Math['max'](_0x3edcde,_0x61a90a),_0x45ae93);}function _0x59dad(_0x102a8a,_0x202dae){return _0x102a8a['reduce']((_0x3a37b1,_0x31d14b)=>_0x3a37b1+_0x31d14b[_0x202dae],0xa87+0x4*-0x632+0x29*0x59);}function _0x2ab445(_0x4ee156,_0x3dc98b){const _0x1af589=_0x59dad(_0x4ee156,_0x3dc98b),_0x2bee0c=[],_0x5b23b3=_0x4ee156['length'];if(_0x1af589===-0x16d*0x4+-0x1*0x10d3+0x1687*0x1){for(let _0x36ea4d=0x14bd*-0x1+-0x2cf*0x4+0x1ff9;_0x36ea4d<_0x5b23b3;++_0x36ea4d)_0x2bee0c['push']((-0xa1+0x1067+0x1*-0xfc5)/_0x5b23b3);}else{for(let _0x1a4a82=-0x5ec+-0x1a1d+0x2009;_0x1a4a82<_0x5b23b3;++_0x1a4a82)_0x2bee0c['push'](_0x4ee156[_0x1a4a82][_0x3dc98b]/_0x1af589);}return _0x2bee0c;}function _0x2790bb(_0x5bacce){if(_0x5bacce['length']===0xeb7+0x566*0x1+-0x141c)return[-0x12d3*0x2+0x1779+0x6e*0x21];const _0x13586c=[],_0x4431ed=_0x5bacce['length'];for(let _0x3d1eb8=-0x9*0xe3+0x1*-0x165d+0x1e58;_0x3d1eb8<_0x4431ed;++_0x3d1eb8)_0x13586c['push']((-0x11f7+-0x24d6+-0xe6*-0x3d-_0x5bacce[_0x3d1eb8])/(_0x4431ed-(0xd79*-0x1+-0x272*-0x1+0xb08)));return _0x13586c;}function _0x416a23(_0x2b2c7a,_0x5c9476,_0x35ca0d){return _0x2b2c7a['forEach'](_0x479900),_0x2b2c7a['slice']()['sort']((_0x4f83c1,_0x4899d3)=>_0x35ca0d?_0x4899d3[_0x5c9476]-_0x4f83c1[_0x5c9476]:_0x4f83c1[_0x5c9476]-_0x4899d3[_0x5c9476])['map'](_0x2347da);}function _0x479900(_0x285b28,_0x1e39cb){_0x285b28['index']=_0x1e39cb;}function _0x2347da(_0x1765a4){return _0x1765a4['index'];}function _0xc09294(_0x16d894,_0x60ee96){const _0x1cbfcf=[];_0x1cbfcf[_0x60ee96[_0x16d894['length']-(-0x205d+-0x81*0x2+0x2160)]]=_0x16d894[_0x60ee96[_0x16d894['length']-(-0x2*-0x44+-0x1fc8+0xa6b*0x3)]];for(let _0x5f0c55=_0x16d894['length']-(0x1ebb+-0x1*0xbff+-0x2f*0x66);_0x5f0c55>=-0x89*-0x10+-0x193*-0xe+-0x1e9a;--_0x5f0c55)_0x1cbfcf[_0x60ee96[_0x5f0c55]]=_0x1cbfcf[_0x60ee96[_0x5f0c55+(-0x1a9e+0x1*-0x1aa7+0x11c2*0x3)]]+_0x16d894[_0x60ee96[_0x5f0c55]];return _0x1cbfcf;}return _0x406e2c;}const Gp={};Gp[pe]=ox(pe),Gp[ke]=ox(ke);class YR{['calculateL'+'ayout'](_0x4943ec,_0x4f1c96){const _0x431a3f=Gp[_0x4f1c96['orientatio'+'n']];if(_0x431a3f)return _0x431a3f(_0x4943ec,_0x4f1c96);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x4f1c96['orientatio'+'n']);}}function yg(_0x285ae0){return _0x285ae0['element'];}function KR(_0x2e17fa){return _0x2e17fa['enabled']&&_0x2e17fa['element']&&_0x2e17fa['element']['enabled'];}class lx extends ue{constructor(_0x35c7eb,_0x25a9c7){super(_0x35c7eb,_0x25a9c7),c(this,'_orientati'+'on',pe),c(this,'_reverseX',!(-0x1b5f+-0x8*0x5c+0x1e40)),c(this,'_reverseY',!(0xf46+-0xb*0x1a3+0x3*0xe9)),c(this,'_alignment',new W(-0x441*-0x3+0x635*0x5+-0x2bcc,-0x16*0xf5+-0xadd+0x1c6*0x12)),c(this,'_padding',new Q()),c(this,'_spacing',new W()),c(this,'_widthFitt'+'ing',ff),c(this,'_heightFit'+'ting',ff),c(this,'_wrap',!(0xa59*-0x2+-0x1d48+0x31fb)),c(this,'_layoutCal'+'culator',new YR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x4f0f9b=>{this['_listenFor'+'ReflowEven'+'ts'](_0x4f0f9b,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),v['assert'](_0x35c7eb['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x35c7eb['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x35c7eb['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),v['assert'](_0x35c7eb['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x35c7eb['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x35c7eb['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x221eae){_0x221eae!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x221eae,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x422198){_0x422198!==this['_reverseX']&&(this['_reverseX']=_0x422198,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x429b0c){_0x429b0c!==this['_reverseY']&&(this['_reverseY']=_0x429b0c,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x35ec65){_0x35ec65['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x35ec65),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x2de06f){_0x2de06f['equals'](this['_padding'])||(this['_padding']['copy'](_0x2de06f),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x123607){_0x123607['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x123607),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x24eabc){_0x24eabc!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x24eabc,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x481c31){_0x481c31!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x481c31,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x58eaf5){_0x58eaf5!==this['_wrap']&&(this['_wrap']=_0x58eaf5,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x4f5df4){return _0x4f5df4===this['entity']||this['entity']['children']['indexOf'](_0x4f5df4)!==-(0x95c*-0x1+0x18dd+-0xf80);}['_listenFor'+'ReflowEven'+'ts'](_0x32d829,_0x2d01a1){_0x32d829['element']&&(_0x32d829['element'][_0x2d01a1]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x32d829['element'][_0x2d01a1]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x32d829['element'][_0x2d01a1]('resize',this['_scheduleR'+'eflow'],this),_0x32d829['element'][_0x2d01a1]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x32d829['layoutchil'+'d']&&(_0x32d829['layoutchil'+'d'][_0x2d01a1]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x32d829['layoutchil'+'d'][_0x2d01a1]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x460f36){this['_isSelfOrC'+'hild'](_0x460f36)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x460f36,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x318c0a){this['_isSelfOrC'+'hild'](_0x318c0a)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x318c0a,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x5e1a5a){this['_listenFor'+'ReflowEven'+'ts'](_0x5e1a5a,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0xe3de07){this['_listenFor'+'ReflowEven'+'ts'](_0xe3de07,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x16a984=yg(this['entity']),_0x133e7c=this['entity']['children']['filter'](KR)['map'](yg);if(!_0x16a984||_0x133e7c['length']===0x1*0x155+-0x19*0x9e+0x191*0x9)return;const _0xaaf668=Math['max'](_0x16a984['calculated'+'Width'],0x8+-0x1a8d+0xdb*0x1f),_0xc98bb8=Math['max'](_0x16a984['calculated'+'Height'],0x424+0x241c+0x2*-0x1420),_0x2c0bb5={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new W(_0xaaf668,_0xc98bb8)};this['_isPerform'+'ingReflow']=!(-0x2*0xde5+0x1e29+0x25f*-0x1);const _0x514ed3=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x133e7c,_0x2c0bb5);this['_isPerform'+'ingReflow']=!(0xc*-0x292+-0x1726+0x35ff*0x1),this['fire']('reflow',_0x514ed3);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x2591b4=>{this['_listenFor'+'ReflowEven'+'ts'](_0x2591b4,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class ZR{constructor(){this['enabled']=!(-0x6f7*-0x1+-0x1954+0x125d);}}const hx=['enabled'],QR=-0xa*-0xdc+0x6b*0x27+-0x1881;class JR extends Xe{constructor(_0x4e2653){super(_0x4e2653),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=lx,this['DataType']=ZR,this['schema']=hx,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0xa5e3f9,_0x24f692,_0xdd549a){_0x24f692['enabled']!==void(-0x239*-0x4+0x7f6*-0x1+-0xe*0x11)&&(_0xa5e3f9['enabled']=_0x24f692['enabled']),_0x24f692['orientatio'+'n']!==void(0x38f*0x1+-0x804*-0x1+-0xb93*0x1)&&(_0xa5e3f9['orientatio'+'n']=_0x24f692['orientatio'+'n']),_0x24f692['reverseX']!==void(-0x1c6b+-0x1*-0x1f97+-0x32c)&&(_0xa5e3f9['reverseX']=_0x24f692['reverseX']),_0x24f692['reverseY']!==void(0x3c1*0x3+0x7c*-0x3f+-0x5d*-0x35)&&(_0xa5e3f9['reverseY']=_0x24f692['reverseY']),_0x24f692['alignment']!==void(-0xc85*-0x1+-0x18*0x114+0xd5b*0x1)&&(_0xa5e3f9['alignment']=Array['isArray'](_0x24f692['alignment'])?new W(_0x24f692['alignment']):_0x24f692['alignment']),_0x24f692['padding']!==void(-0x3*-0x6f+-0x1737+0x231*0xa)&&(_0xa5e3f9['padding']=Array['isArray'](_0x24f692['padding'])?new Q(_0x24f692['padding']):_0x24f692['padding']),_0x24f692['spacing']!==void(-0x2319+-0x23a2+-0x1*-0x46bb)&&(_0xa5e3f9['spacing']=Array['isArray'](_0x24f692['spacing'])?new W(_0x24f692['spacing']):_0x24f692['spacing']),_0x24f692['widthFitti'+'ng']!==void(-0x1729+-0xeba+0x25e3)&&(_0xa5e3f9['widthFitti'+'ng']=_0x24f692['widthFitti'+'ng']),_0x24f692['heightFitt'+'ing']!==void(-0x11c1+-0x1deb+0x2fac)&&(_0xa5e3f9['heightFitt'+'ing']=_0x24f692['heightFitt'+'ing']),_0x24f692['wrap']!==void(-0x8*0x2ad+-0x127*0xb+0x2215)&&(_0xa5e3f9['wrap']=_0x24f692['wrap']),super['initialize'+'ComponentD'+'ata'](_0xa5e3f9,_0x24f692,_0xdd549a);}['cloneCompo'+'nent'](_0x360ba0,_0x490a58){const _0x55c8e7=_0x360ba0['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x490a58,{'enabled':_0x55c8e7['enabled'],'orientation':_0x55c8e7['orientatio'+'n'],'reverseX':_0x55c8e7['reverseX'],'reverseY':_0x55c8e7['reverseY'],'alignment':_0x55c8e7['alignment'],'padding':_0x55c8e7['padding'],'spacing':_0x55c8e7['spacing'],'widthFitting':_0x55c8e7['widthFitti'+'ng'],'heightFitting':_0x55c8e7['heightFitt'+'ing'],'wrap':_0x55c8e7['wrap']});}['scheduleRe'+'flow'](_0xb6b9d1){this['_reflowQue'+'ue']['indexOf'](_0xb6b9d1)===-(-0x172+-0x22b8+-0x2f*-0xc5)&&this['_reflowQue'+'ue']['push'](_0xb6b9d1);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===-0xce2+0x2f6+0x9ec*0x1)return;let _0x5f53b2=0x55d+-0x29*-0x40+-0xf9d;for(;this['_reflowQue'+'ue']['length']>0x5a1+0x10d2+-0x1673;){const _0x4352bd=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=-0x2552+0x1e7e+0x6d4,_0x4352bd['sort']((_0x50ae73,_0x17553e)=>_0x50ae73['entity']['graphDepth']-_0x17553e['entity']['graphDepth']);for(let _0x14e649=-0x34*-0x77+0x1e5d+-0x3689;_0x14e649<_0x4352bd['length'];++_0x14e649)_0x4352bd[_0x14e649]['reflow']();if(++_0x5f53b2>=QR){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x42ed14,_0x29b052){_0x29b052['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}ue['_buildAcce'+'ssors'](lx['prototype'],hx);class eI{constructor(){c(this,'map',new Map());}['destroy'](_0x10db0d){this['map']['forEach'](_0x1c3db8=>_0x1c3db8['mesh']['destroy']());}}const tI=new Ot(),cx=(_0x494ec8,_0x5cb909)=>{const _0xfff3c7=tI['get'](_0x494ec8,()=>new eI());let _0x421117=_0xfff3c7['map']['get'](_0x5cb909);if(!_0x421117){let _0x587eea,_0x451ff0;switch(_0x5cb909){case'box':_0x587eea=Ie['fromGeomet'+'ry'](_0x494ec8,new $u()),_0x451ff0={'x':0x2,'y':0x2,'z':0x2,'uv':(0x789+-0x43b*0x8+-0x1*-0x1a51)/(-0x1786+-0xe44+-0x25cd*-0x1)};break;case'capsule':_0x587eea=Ie['fromGeomet'+'ry'](_0x494ec8,new C1({'radius':0.5,'height':0x2})),_0x451ff0={'x':Math['PI']*(-0x23ce+0x374*-0x6+0x3888),'y':Math['PI'],'z':Math['PI']*(0x2372+0x3ff*-0x2+-0x1b72),'uv':(0x1ca+-0x1aaa+0x3*0x84b)/(-0x1*0x62b+0x31*-0x52+0x320*0x7)+(-0x15*0x185+-0xb*-0x101+0x19b*0xd)/(0x217f*-0x1+0x3*-0xbf6+0x4564)/(0x7*-0x3bf+0xbb6*0x1+0x2*0x743)*(0xdfb*-0x2+0x1*-0x227f+0x3e77)};break;case'cone':_0x587eea=Ie['fromGeomet'+'ry'](_0x494ec8,new M1({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x451ff0={'x':2.54,'y':2.54,'z':2.54,'uv':(-0x7*-0x57e+-0x2334+-0x33d)/(-0x22a0+-0x2*-0x864+0x11db)+(0xf0d+0xd79*0x1+-0x1c85)/(0x2*-0x31d+-0x1*-0x1297+-0xc5a)/(0x19fa+0x653*0x2+0x3*-0xcdf)};break;case'cylinder':_0x587eea=Ie['fromGeomet'+'ry'](_0x494ec8,new P1({'radius':0.5,'height':0x1})),_0x451ff0={'x':Math['PI'],'y':(0x150e+0x51d+-0x1a2b+0.79)*(0x1c1b+0x240f+-0x805*0x8),'z':Math['PI'],'uv':(0x3*-0x951+-0x41b*-0x2+0x13*0x10a)/(-0x150e+0x17c1+-0x2b0)+(0x1a08+0xe3+-0x1aea)/(0x26ff+-0x713+-0x1fe9)/(-0xbbc+-0x133+0x2*0x679)*(0xf0b*-0x1+-0x7*0x57d+-0xec*-0x3a)};break;case'plane':_0x587eea=Ie['fromGeomet'+'ry'](_0x494ec8,new R1({'halfExtents':new W(-0x26a9*0x1+0x2014+-0x5*-0x151+0.5,-0x57f+-0x2ba*0xd+0x28f1+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x451ff0={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x587eea=Ie['fromGeomet'+'ry'](_0x494ec8,new B0({'radius':0.5})),_0x451ff0={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x587eea=Ie['fromGeomet'+'ry'](_0x494ec8,new I1({'tubeRadius':0.2,'ringRadius':0.3})),_0x451ff0={'x':Math['PI']*(-0x85d*0x2+0x177a+-0x6c0+0.5)*(0x2*-0xc95+-0x1d83+0x36ad+0.5)-Math['PI']*(0xb5*0x31+-0x253a+-0x1*-0x295+0.1)*(-0x529*-0x1+-0x2*0x7f2+0xabb+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x5cb909);}_0x587eea['incRefCoun'+'t'](),_0x421117={'mesh':_0x587eea,'area':_0x451ff0},_0xfff3c7['map']['set'](_0x5cb909,_0x421117);}return _0x421117;};class dx extends ue{constructor(_0x4b71ac,_0x5cd1f5){super(_0x4b71ac,_0x5cd1f5),c(this,'_type','asset'),c(this,'_asset',null),c(this,'_model',null),c(this,'_mapping',{}),c(this,'_castShado'+'ws',!(0x1a1c+0x15d5+-0x2ff1)),c(this,'_receiveSh'+'adows',!(0x1421*-0x1+0x7d*0x19+-0x3f6*-0x2)),c(this,'_materialA'+'sset',null),c(this,'_material'),c(this,'_castShado'+'wsLightmap',!(-0xdc5*0x1+-0x721+0x14e6)),c(this,'_lightmapp'+'ed',!(-0x6*0x43e+-0xa7c+-0x1*-0x23f1)),c(this,'_lightmapS'+'izeMultipl'+'ier',0x2*0x1183+-0xf6b+-0x139a),c(this,'isStatic',!(-0x23b*0x9+0x557*0x1+0xebd*0x1)),c(this,'_layers',[Fi]),c(this,'_batchGrou'+'pId',-(-0x187*-0x16+-0x4*-0x796+-0x3ff1)),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_materialE'+'vents',null),c(this,'_clonedMod'+'el',!(0x387+-0x20a7+0x1d21)),c(this,'_batchGrou'+'p',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x4b71ac['defaultMat'+'erial'],_0x5cd1f5['on']('remove',this['onRemoveCh'+'ild'],this),_0x5cd1f5['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x5cd1f5['on']('insert',this['onInsertCh'+'ild'],this),_0x5cd1f5['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x532e5b){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x532e5b);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x4cc8d0){if(this['_customAab'+'b']=_0x4cc8d0,this['_model']){const _0x4b5605=this['_model']['meshInstan'+'ces'];if(_0x4b5605){for(let _0x8e211d=0x2*0x50b+0x1c4f+0x1*-0x2665;_0x8e211d<_0x4b5605['length'];_0x8e211d++)_0x4b5605[_0x8e211d]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x100dc7){if(this['_type']!==_0x100dc7){if(this['_area']=null,this['_type']=_0x100dc7,_0x100dc7==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x258910=cx(this['system']['app']['graphicsDe'+'vice'],_0x100dc7);this['_area']=_0x258910['area'];const _0x3d6627=_0x258910['mesh'],_0x3fd08c=new De(),_0x52435e=new Oi();_0x52435e['graph']=_0x3fd08c,_0x52435e['meshInstan'+'ces']=[new Le(_0x3d6627,this['_material'],_0x3fd08c)],this['model']=_0x52435e,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x356b1b){const _0x4e5066=this['system']['app']['assets'];let _0x57bfa4=_0x356b1b;if(_0x356b1b instanceof le&&(_0x57bfa4=_0x356b1b['id']),this['_asset']!==_0x57bfa4){if(this['_asset']){_0x4e5066['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0xf0b08d=_0x4e5066['get'](this['_asset']);_0xf0b08d&&this['_unbindMod'+'elAsset'](_0xf0b08d);}if(this['_asset']=_0x57bfa4,this['_asset']){const _0x1a0b9e=_0x4e5066['get'](this['_asset']);_0x1a0b9e?this['_bindModel'+'Asset'](_0x1a0b9e):(this['model']=null,_0x4e5066['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0xdf77e2){if(this['_model']!==_0xdf77e2){if(_0xdf77e2&&_0xdf77e2['_immutable']){v['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(0x72*0x4c+-0x1343+-0x4*0x3a5),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(0x1bd4+-0x1367*0x2+0xafb))),this['_model']=_0xdf77e2,this['_model']){this['_model']['_immutable']=!(0x2a*-0xe0+-0x5b*-0x43+0xcef);const _0x4d5bee=this['_model']['meshInstan'+'ces'];for(let _0x3352af=-0x299+0x1f5b+-0x996*0x3;_0x3352af<_0x4d5bee['length'];_0x3352af++)_0x4d5bee[_0x3352af]['castShadow']=this['_castShado'+'ws'],_0x4d5bee[_0x3352af]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x4d5bee[_0x3352af]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x5414f0){if(_0x5414f0!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x5414f0,this['_model'])){const _0x205f4e=this['_model']['meshInstan'+'ces'];for(let _0x35eb5b=-0x8*0x3fb+0x2621*0x1+-0x649;_0x35eb5b<_0x205f4e['length'];_0x35eb5b++)_0x205f4e[_0x35eb5b]['setLightma'+'pped'](_0x5414f0);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x4299c1){if(this['_castShado'+'ws']===_0x4299c1)return;const _0x2c51d3=this['_model'];if(_0x2c51d3){const _0x489811=this['layers'],_0x44c327=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x4299c1)for(let _0x49ec70=-0x2*-0x166+-0xeb2+-0x5f3*-0x2;_0x49ec70<_0x489811['length'];_0x49ec70++){const _0x2c525b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x49ec70]);_0x2c525b&&_0x2c525b['removeShad'+'owCasters'](_0x2c51d3['meshInstan'+'ces']);}const _0x526848=_0x2c51d3['meshInstan'+'ces'];for(let _0x25cf7f=0x1d48+-0xe*0x232+0x3*0x7c;_0x25cf7f<_0x526848['length'];_0x25cf7f++)_0x526848[_0x25cf7f]['castShadow']=_0x4299c1;if(!this['_castShado'+'ws']&&_0x4299c1)for(let _0x20b36d=-0x1ab4+-0x9d1*0x1+0x2485;_0x20b36d<_0x489811['length'];_0x20b36d++){const _0x2d7ede=_0x44c327['layers']['getLayerBy'+'Id'](_0x489811[_0x20b36d]);_0x2d7ede&&_0x2d7ede['addShadowC'+'asters'](_0x2c51d3['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x4299c1;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x4c803e){if(this['_receiveSh'+'adows']!==_0x4c803e&&(this['_receiveSh'+'adows']=_0x4c803e,this['_model'])){const _0x2d77e5=this['_model']['meshInstan'+'ces'];for(let _0x3e1d6e=0x2a4+-0x1*-0x995+0x95*-0x15,_0x614792=_0x2d77e5['length'];_0x3e1d6e<_0x614792;_0x3e1d6e++)_0x2d77e5[_0x3e1d6e]['receiveSha'+'dow']=_0x4c803e;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x1993d8){this['_castShado'+'wsLightmap']=_0x1993d8;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x1bfc4b){this['_lightmapS'+'izeMultipl'+'ier']=_0x1bfc4b;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x2a02cd){const _0x485fb5=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x41bfc9=0xd24*0x1+0x1*0x542+-0x1266;_0x41bfc9<this['_layers']['length'];_0x41bfc9++){const _0x2f94f8=_0x485fb5['getLayerBy'+'Id'](this['_layers'][_0x41bfc9]);_0x2f94f8&&_0x2f94f8['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=-0x1270+-0x1*0x94d+0x1bbd;for(let _0x56d37c=-0x2*0x7c7+0x23d3+0x1*-0x1445;_0x56d37c<_0x2a02cd['length'];_0x56d37c++)this['_layers'][_0x56d37c]=_0x2a02cd[_0x56d37c];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x48bf27=-0x6b2*0x3+-0x8b5+0x1ccb;_0x48bf27<this['_layers']['length'];_0x48bf27++){const _0x588be4=_0x485fb5['getLayerBy'+'Id'](this['_layers'][_0x48bf27]);_0x588be4&&_0x588be4['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x3d7995){var _0x9177e4,_0xb31aab;this['_batchGrou'+'pId']!==_0x3d7995&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x1b65+-0x1648+-0x585*-0x9&&((_0x9177e4=this['system']['app']['batcher'])==null||_0x9177e4['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x3d7995>=0x2f3+-0x252+-0x17*0x7&&((_0xb31aab=this['system']['app']['batcher'])==null||_0xb31aab['insert'](et['MODEL'],_0x3d7995,this['entity'])),_0x3d7995<0x197e+0x587*0x1+-0x1f05&&this['_batchGrou'+'pId']>=-0x17*-0x49+0x220a*0x1+-0x2899&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x3d7995);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x26595b){let _0x15835c=_0x26595b;_0x26595b instanceof le&&(_0x15835c=_0x26595b['id']);const _0x3f14cc=this['system']['app']['assets'];if(_0x15835c!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x3f14cc['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x50f64c=_0x3f14cc['get'](this['_materialA'+'sset']);_0x50f64c&&this['_unbindMat'+'erialAsset'](_0x50f64c);}if(this['_materialA'+'sset']=_0x15835c,this['_materialA'+'sset']){const _0x51a5bb=_0x3f14cc['get'](this['_materialA'+'sset']);_0x51a5bb?this['_bindMater'+'ialAsset'](_0x51a5bb):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x3f14cc['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x21bbe5){this['_material']!==_0x21bbe5&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x21bbe5));}get['material'](){return this['_material'];}set['mapping'](_0x5dad65){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x5dad65||(_0x5dad65={}),this['_mapping']=_0x5dad65,!this['_model']))return;const _0x2efe27=this['_model']['meshInstan'+'ces'],_0x455241=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x2f3261=_0x455241?_0x455241['data']['mapping']:null;let _0x5057d8=null;for(let _0x33f31a=0x234*0x4+0xbf5*-0x1+0x7*0x73,_0x500c05=_0x2efe27['length'];_0x33f31a<_0x500c05;_0x33f31a++)if(_0x5dad65[_0x33f31a]!==void(-0x1d57*-0x1+0x1dc*-0xc+-0x7*0x101))_0x5dad65[_0x33f31a]?(_0x5057d8=this['system']['app']['assets']['get'](_0x5dad65[_0x33f31a]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x5057d8,_0x2efe27[_0x33f31a],_0x33f31a)):_0x2efe27[_0x33f31a]['material']=this['system']['defaultMat'+'erial'];else{if(_0x2f3261){if(_0x2f3261[_0x33f31a]&&(_0x2f3261[_0x33f31a]['material']||_0x2f3261[_0x33f31a]['path'])){if(_0x2f3261[_0x33f31a]['material']!==void(0x85d*-0x1+0xa*0x105+-0x1d5))_0x5057d8=this['system']['app']['assets']['get'](_0x2f3261[_0x33f31a]['material']);else{if(_0x2f3261[_0x33f31a]['path']!==void(-0x217f+0x1c3+0x1fbc)){const _0x3e34e5=this['_getMateri'+'alAssetUrl'](_0x2f3261[_0x33f31a]['path']);_0x3e34e5&&(_0x5057d8=this['system']['app']['assets']['getByUrl'](_0x3e34e5));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x5057d8,_0x2efe27[_0x33f31a],_0x33f31a);}else _0x2efe27[_0x33f31a]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x2b3ca9=this['system']['app']['scene']['layers'];for(let _0x1304cc=0x1267+0x3eb+-0x1652;_0x1304cc<this['_layers']['length'];_0x1304cc++){const _0x2885b7=_0x2b3ca9['getLayerBy'+'Id'](this['_layers'][_0x1304cc]);_0x2885b7&&_0x2885b7['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x5c8a16=this['system']['app']['scene']['layers'];for(let _0x30e10e=0x1be*0x9+0x1*-0x1bff+0xc51;_0x30e10e<this['_layers']['length'];_0x30e10e++){const _0x3151d3=_0x5c8a16['getLayerBy'+'Id'](this['_layers'][_0x30e10e]);_0x3151d3&&_0x3151d3['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x28057d,_0x1ce52a){this['addModelTo'+'Layers'](),_0x28057d['off']('add',this['onLayerAdd'+'ed'],this),_0x28057d['off']('remove',this['onLayerRem'+'oved'],this),_0x1ce52a['on']('add',this['onLayerAdd'+'ed'],this),_0x1ce52a['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x335f0a){this['layers']['indexOf'](_0x335f0a['id'])<0x1eee+-0x256f+0xf*0x6f||_0x335f0a['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x411661){this['layers']['indexOf'](_0x411661['id'])<0x24df*-0x1+0x19a5+-0x3be*-0x3||_0x411661['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x5c73fe,_0x1d8203,_0x5bc39b,_0x4f7850){const _0x22b086=_0x1d8203+':'+_0x5bc39b;this['system']['app']['assets']['on'](_0x22b086,_0x4f7850,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x5c73fe]||(this['_materialE'+'vents'][_0x5c73fe]={}),this['_materialE'+'vents'][_0x5c73fe][_0x22b086]={'id':_0x5bc39b,'handler':_0x4f7850};}['_unsetMate'+'rialEvents'](){const _0xf90fcd=this['system']['app']['assets'],_0x257a04=this['_materialE'+'vents'];if(_0x257a04){for(let _0x3ab9eb=0xd2*0x10+0x169b+-0x1*0x23bb,_0xe91673=_0x257a04['length'];_0x3ab9eb<_0xe91673;_0x3ab9eb++){if(!_0x257a04[_0x3ab9eb])continue;const _0x116483=_0x257a04[_0x3ab9eb];for(const _0x5a875f in _0x116483)_0xf90fcd['off'](_0x5a875f,_0x116483[_0x5a875f]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x3322b9){let _0x4a9e46=null;if(!isNaN(parseInt(_0x3322b9,0xbc6+0x1*0x1ca9+-0x2865)))_0x4a9e46=this['system']['app']['assets']['get'](_0x3322b9);else{if(this['asset']){const _0x36b5cc=this['_getMateri'+'alAssetUrl'](_0x3322b9);_0x36b5cc&&(_0x4a9e46=this['system']['app']['assets']['getByUrl'](_0x36b5cc));}}return _0x4a9e46;}['_getMateri'+'alAssetUrl'](_0x42e790){if(!this['asset'])return null;const _0x537467=this['system']['app']['assets']['get'](this['asset']);return _0x537467?_0x537467['getAbsolut'+'eUrl'](_0x42e790):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x6a5aad,_0x553b79,_0x567890){const _0x184967=this['system']['app']['assets'];_0x6a5aad&&(_0x6a5aad['resource']?(_0x553b79['material']=_0x6a5aad['resource'],this['_setMateri'+'alEvent'](_0x567890,'remove',_0x6a5aad['id'],function(){_0x553b79['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x567890,'load',_0x6a5aad['id'],function(_0x4c1303){_0x553b79['material']=_0x4c1303['resource'],this['_setMateri'+'alEvent'](_0x567890,'remove',_0x6a5aad['id'],function(){_0x553b79['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x184967['load'](_0x6a5aad)));}['onEnable'](){var _0x564047;const _0x4f255f=this['system']['app'],_0x5b8e08=_0x4f255f['scene'],_0x419668=_0x5b8e08==null?void(-0x1*-0x665+0x4f*-0x3+-0x578):_0x5b8e08['layers'];this['_evtLayers'+'Changed']=_0x5b8e08['on']('set:layers',this['onLayersCh'+'anged'],this),_0x419668&&(this['_evtLayerA'+'dded']=_0x419668['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x419668['on']('remove',this['onLayerRem'+'oved'],this));const _0x16560f=this['_type']==='asset';let _0x1e9677;if(this['_model']?this['addModelTo'+'Layers']():_0x16560f&&this['_asset']&&(_0x1e9677=_0x4f255f['assets']['get'](this['_asset']),_0x1e9677&&_0x1e9677['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x1e9677)),this['_materialA'+'sset']&&(_0x1e9677=_0x4f255f['assets']['get'](this['_materialA'+'sset']),_0x1e9677&&_0x1e9677['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x1e9677)),_0x16560f&&this['_mapping']){for(const _0x486721 in this['_mapping'])this['_mapping'][_0x486721]&&(_0x1e9677=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x486721]),_0x1e9677&&!_0x1e9677['resource']&&_0x4f255f['assets']['load'](_0x1e9677));}this['_batchGrou'+'pId']>=-0x2077+0xccb+0x13ac*0x1&&((_0x564047=_0x4f255f['batcher'])==null||_0x564047['insert'](et['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x35f0f9,_0x20a906,_0x3c10d0,_0x3f3d24;const _0x3e4bbd=this['system']['app'],_0x20c3fe=_0x3e4bbd['scene']['layers'];(_0x35f0f9=this['_evtLayers'+'Changed'])==null||_0x35f0f9['off'](),this['_evtLayers'+'Changed']=null,_0x20c3fe&&((_0x20a906=this['_evtLayerA'+'dded'])==null||_0x20a906['off'](),this['_evtLayerA'+'dded']=null,(_0x3c10d0=this['_evtLayerR'+'emoved'])==null||_0x3c10d0['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x5df+-0x742*0x4+0x1729&&((_0x3f3d24=_0x3e4bbd['batcher'])==null||_0x3f3d24['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x2879f9=this['_model']['meshInstan'+'ces'];for(let _0x41bca7=-0xb*0x160+-0x238a+0xa*0x511,_0x1c34d7=_0x2879f9['length'];_0x41bca7<_0x1c34d7;_0x41bca7++)_0x2879f9[_0x41bca7]['visible']=!(-0x1*0x2054+0xb5*-0xf+-0x8*-0x55e);}}['show'](){if(this['_model']){const _0xa90c0d=this['_model']['meshInstan'+'ces'];for(let _0x18cc46=0x1920+-0xb4d+-0xdd3,_0x1a1c6f=_0xa90c0d['length'];_0x18cc46<_0x1a1c6f;_0x18cc46++)_0xa90c0d[_0x18cc46]['visible']=!(-0x18ab+0x216c+-0x8c1);}}['_bindMater'+'ialAsset'](_0x1a4a47){if(_0x1a4a47['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x1a4a47['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x1a4a47['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x1a4a47['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x1a4a47['resource'])this['_onMateria'+'lAssetLoad'](_0x1a4a47);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x1a4a47);}}['_unbindMat'+'erialAsset'](_0x37045e){_0x37045e['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x37045e['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x37045e['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x37045e['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0xa6da37){this['system']['app']['assets']['off']('add:'+_0xa6da37['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0xa6da37['id']&&this['_bindMater'+'ialAsset'](_0xa6da37);}['_onMateria'+'lAssetLoad'](_0x2d45d7){this['_setMateri'+'al'](_0x2d45d7['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x50b1c2){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x19a8cf){this['_onMateria'+'lAssetUnlo'+'ad'](_0x19a8cf);}['_onMateria'+'lAssetChan'+'ge'](_0x4b69d3){}['_bindModel'+'Asset'](_0x53be36){if(this['_unbindMod'+'elAsset'](_0x53be36),_0x53be36['on']('load',this['_onModelAs'+'setLoad'],this),_0x53be36['on']('unload',this['_onModelAs'+'setUnload'],this),_0x53be36['on']('change',this['_onModelAs'+'setChange'],this),_0x53be36['on']('remove',this['_onModelAs'+'setRemove'],this),_0x53be36['resource'])this['_onModelAs'+'setLoad'](_0x53be36);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x53be36);}}['_unbindMod'+'elAsset'](_0x1501e3){_0x1501e3['off']('load',this['_onModelAs'+'setLoad'],this),_0x1501e3['off']('unload',this['_onModelAs'+'setUnload'],this),_0x1501e3['off']('change',this['_onModelAs'+'setChange'],this),_0x1501e3['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x50d00b){this['system']['app']['assets']['off']('add:'+_0x50d00b['id'],this['_onModelAs'+'setAdded'],this),_0x50d00b['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x50d00b);}['_onModelAs'+'setLoad'](_0x3c6212){this['model']=_0x3c6212['resource']['clone'](),this['_clonedMod'+'el']=!(0xd59+-0x13bb+-0x56*-0x13);}['_onModelAs'+'setUnload'](_0x3ed852){this['model']=null;}['_onModelAs'+'setChange'](_0x34e246,_0x23c702,_0x50bb3f,_0x327294){_0x23c702==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x755a7d){this['model']=null;}['_setMateri'+'al'](_0x4e823a){if(this['_material']===_0x4e823a)return;this['_material']=_0x4e823a;const _0x4fe898=this['_model'];if(_0x4fe898&&this['_type']!=='asset'){const _0x1bd087=_0x4fe898['meshInstan'+'ces'];for(let _0x4a0421=-0x21*-0xed+-0x1854+-0x639,_0x3baa66=_0x1bd087['length'];_0x4a0421<_0x3baa66;_0x4a0421++)_0x1bd087[_0x4a0421]['material']=_0x4e823a;}}}class sI{constructor(){this['enabled']=!(-0x2477+-0x8b*-0x35+0x10*0x7b);}}const ux=['enabled'];class iI extends Xe{constructor(_0x1af290){super(_0x1af290),this['id']='model',this['ComponentT'+'ype']=dx,this['DataType']=sI,this['schema']=ux,this['defaultMat'+'erial']=al(_0x1af290['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x34cd07,_0x5be988,_0x100f8a){_0x100f8a=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x5be988['batchGroup'+'Id']===null||_0x5be988['batchGroup'+'Id']===void(0x268f*0x1+-0xf*0x196+0x13*-0xc7))&&(_0x5be988['batchGroup'+'Id']=-(-0xc4e+-0x23f3*0x1+-0xd5*-0x3a)),_0x5be988['layers']&&_0x5be988['layers']['length']&&(_0x5be988['layers']=_0x5be988['layers']['slice'](0x7*-0x515+0x443+0x1f50));for(let _0x1fa28a=0x68*-0x3b+0x2346+-0xb4e;_0x1fa28a<_0x100f8a['length'];_0x1fa28a++)_0x5be988['hasOwnProp'+'erty'](_0x100f8a[_0x1fa28a])&&(_0x34cd07[_0x100f8a[_0x1fa28a]]=_0x5be988[_0x100f8a[_0x1fa28a]]);_0x5be988['aabbCenter']&&_0x5be988['aabbHalfEx'+'tents']&&(_0x34cd07['customAabb']=new _e(new T(_0x5be988['aabbCenter']),new T(_0x5be988['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x34cd07,_0x5be988,['enabled']);}['cloneCompo'+'nent'](_0x292f9e,_0x1b2f51){const _0x191cdb={'type':_0x292f9e['model']['type'],'asset':_0x292f9e['model']['asset'],'castShadows':_0x292f9e['model']['castShadow'+'s'],'receiveShadows':_0x292f9e['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x292f9e['model']['castShadow'+'sLightmap'],'lightmapped':_0x292f9e['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x292f9e['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x292f9e['model']['isStatic'],'enabled':_0x292f9e['model']['enabled'],'layers':_0x292f9e['model']['layers'],'batchGroupId':_0x292f9e['model']['batchGroup'+'Id'],'mapping':vh({},_0x292f9e['model']['mapping'])};let _0x31d7da=_0x292f9e['model']['materialAs'+'set'];!(_0x31d7da instanceof le)&&_0x31d7da!=null&&(_0x31d7da=this['app']['assets']['get'](_0x31d7da));const _0x255b71=_0x292f9e['model']['material'];(!_0x255b71||_0x255b71===this['defaultMat'+'erial']||!_0x31d7da||_0x255b71===_0x31d7da['resource'])&&(_0x191cdb['materialAs'+'set']=_0x31d7da);const _0x10de31=this['addCompone'+'nt'](_0x1b2f51,_0x191cdb);if(_0x292f9e['model']['model']&&_0x292f9e['model']['type']==='asset'&&!_0x292f9e['model']['asset']&&(_0x10de31['model']=_0x292f9e['model']['model']['clone'](),_0x10de31['_clonedMod'+'el']=!(-0x105*-0xd+0x210b+-0x2*0x1726)),_0x191cdb['materialAs'+'set']||(_0x10de31['material']=_0x255b71),_0x292f9e['model']['model']){const _0x227da5=_0x292f9e['model']['model']['meshInstan'+'ces'],_0x5dbac0=_0x10de31['model']['meshInstan'+'ces'];for(let _0x2925b7=0x1b6b+0x469+-0x1fd4;_0x2925b7<_0x227da5['length'];_0x2925b7++)_0x5dbac0[_0x2925b7]['mask']=_0x227da5[_0x2925b7]['mask'],_0x5dbac0[_0x2925b7]['material']=_0x227da5[_0x2925b7]['material'],_0x5dbac0[_0x2925b7]['layer']=_0x227da5[_0x2925b7]['layer'],_0x5dbac0[_0x2925b7]['receiveSha'+'dow']=_0x227da5[_0x2925b7]['receiveSha'+'dow'];}return _0x292f9e['model']['customAabb']&&(_0x10de31['customAabb']=_0x292f9e['model']['customAabb']['clone']()),_0x10de31;}['onRemove'](_0x29f94f,_0x406d04){_0x406d04['onRemove']();}}ue['_buildAcce'+'ssors'](dx['prototype'],ux);const rI=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],nI=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],aI=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Zl=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Hn;class oI extends ue{constructor(_0xb1f4c0,_0x211100){super(_0xb1f4c0,_0x211100),c(this,'_requested'+'Depth',!(-0x2534+0x1980+0xbb5)),c(this,'_drawOrder',-0x3*-0x8bd+0x25f3+-0xbf*0x56),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),rI['forEach'](_0x3794b1=>{this['on']('set_'+_0x3794b1,this['onSetSimpl'+'eProperty'],this);}),nI['forEach'](_0x2b0d5b=>{this['on']('set_'+_0x2b0d5b,this['onSetCompl'+'exProperty'],this);}),aI['forEach'](_0x531586=>{this['on']('set_'+_0x531586,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x41b509=this['system']['store'][this['entity']['getGuid']()];return _0x41b509?_0x41b509['data']:null;}set['enabled'](_0x1fee3d){this['_setValue']('enabled',_0x1fee3d);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x2ca2e9){this['_setValue']('autoPlay',_0x2ca2e9);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x195643){this['_setValue']('numParticl'+'es',_0x195643);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x477a3b){this['_setValue']('lifetime',_0x477a3b);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x120dc7){this['_setValue']('rate',_0x120dc7);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x48f150){this['_setValue']('rate2',_0x48f150);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x486ecd){this['_setValue']('startAngle',_0x486ecd);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x2bf6f4){this['_setValue']('startAngle'+'2',_0x2bf6f4);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x38fe81){this['_setValue']('loop',_0x38fe81);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x539e79){this['_setValue']('preWarm',_0x539e79);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x4e79dc){this['_setValue']('lighting',_0x4e79dc);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0xc3918){this['_setValue']('halfLamber'+'t',_0xc3918);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x567440){this['_setValue']('intensity',_0x567440);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x582b75){this['_setValue']('depthWrite',_0x582b75);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x56dbf8){this['_setValue']('noFog',_0x56dbf8);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x3db1ec){this['_setValue']('depthSofte'+'ning',_0x3db1ec);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x277100){this['_setValue']('sort',_0x277100);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x460e34){this['_setValue']('blendType',_0x460e34);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x30e76c){this['_setValue']('stretch',_0x30e76c);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x4f7251){this['_setValue']('alignToMot'+'ion',_0x4f7251);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0xaf04c3){this['_setValue']('emitterSha'+'pe',_0xaf04c3);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x2df21e){this['_setValue']('emitterExt'+'ents',_0x2df21e);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x21f223){this['_setValue']('emitterExt'+'entsInner',_0x21f223);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x39eccf){this['_setValue']('emitterRad'+'ius',_0x39eccf);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x2b57c9){this['_setValue']('emitterRad'+'iusInner',_0x2b57c9);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x19196a){this['_setValue']('initialVel'+'ocity',_0x19196a);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x38be80){this['_setValue']('wrap',_0x38be80);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x4ca50c){this['_setValue']('wrapBounds',_0x4ca50c);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x4ac518){this['_setValue']('localSpace',_0x4ac518);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x2c8c4a){this['_setValue']('screenSpac'+'e',_0x2c8c4a);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x36c554){this['_setValue']('colorMapAs'+'set',_0x36c554);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x10b02e){this['_setValue']('normalMapA'+'sset',_0x10b02e);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x55d02c){this['_setValue']('mesh',_0x55d02c);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x3f5c5a){this['_setValue']('meshAsset',_0x3f5c5a);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x4bc0e7){this['_setValue']('renderAsse'+'t',_0x4bc0e7);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x4a12ef){this['_setValue']('orientatio'+'n',_0x4a12ef);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0xc99220){this['_setValue']('particleNo'+'rmal',_0xc99220);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x17b674){this['_setValue']('localVeloc'+'ityGraph',_0x17b674);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x537982){this['_setValue']('localVeloc'+'ityGraph2',_0x537982);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x594046){this['_setValue']('velocityGr'+'aph',_0x594046);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x5404b5){this['_setValue']('velocityGr'+'aph2',_0x5404b5);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x5d48f2){this['_setValue']('rotationSp'+'eedGraph',_0x5d48f2);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0xb9e6dd){this['_setValue']('rotationSp'+'eedGraph2',_0xb9e6dd);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0xf85fcd){this['_setValue']('radialSpee'+'dGraph',_0xf85fcd);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x353666){this['_setValue']('radialSpee'+'dGraph2',_0x353666);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x31bb53){this['_setValue']('scaleGraph',_0x31bb53);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x53f663){this['_setValue']('scaleGraph'+'2',_0x53f663);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x2b7608){this['_setValue']('colorGraph',_0x2b7608);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x5d87aa){this['_setValue']('colorGraph'+'2',_0x5d87aa);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x32eb07){this['_setValue']('alphaGraph',_0x32eb07);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x16c1cc){this['_setValue']('alphaGraph'+'2',_0x16c1cc);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x34042f){this['_setValue']('colorMap',_0x34042f);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x44904a){this['_setValue']('normalMap',_0x44904a);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0xcb3283){this['_setValue']('animTilesX',_0xcb3283);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x3db436){this['_setValue']('animTilesY',_0x3db436);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x2269e3){this['_setValue']('animStartF'+'rame',_0x2269e3);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x85bd3a){this['_setValue']('animNumFra'+'mes',_0x85bd3a);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x280451){this['_setValue']('animNumAni'+'mations',_0x280451);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x4c0ec4){this['_setValue']('animIndex',_0x4c0ec4);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x49d1c4){this['_setValue']('randomizeA'+'nimIndex',_0x49d1c4);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x584314){this['_setValue']('animSpeed',_0x584314);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x1b95c4){this['_setValue']('animLoop',_0x1b95c4);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x5e9326){this['_setValue']('layers',_0x5e9326);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x2e4772){this['_drawOrder']=_0x2e4772,this['emitter']&&(this['emitter']['drawOrder']=_0x2e4772);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0xa31f82,_0x448b8a){const _0x39a115=this['data'],_0x4a77a8=_0x39a115[_0xa31f82];_0x39a115[_0xa31f82]=_0x448b8a,this['fire']('set',_0xa31f82,_0x4a77a8,_0x448b8a);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x1db808=-0xb*0x41+-0x16f7*0x1+0x19c2;_0x1db808<this['layers']['length'];_0x1db808++){const _0x43cbb2=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x1db808]);_0x43cbb2&&(_0x43cbb2['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x43cbb2);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x271ff0=-0x63e+-0x186*0x14+0x24b6;_0x271ff0<this['layers']['length'];_0x271ff0++){const _0x54c489=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x271ff0]);_0x54c489&&_0x54c489['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x485b84,_0x37adb3,_0x2ec38c){if(this['emitter']){for(let _0x4e29a3=-0x9a8+-0x1*-0x131a+0x2*-0x4b9;_0x4e29a3<_0x37adb3['length'];_0x4e29a3++){const _0xf0ed29=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x37adb3[_0x4e29a3]);_0xf0ed29&&_0xf0ed29['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x16da6f=-0x532+-0x13f5*0x1+-0x89*-0x2f;_0x16da6f<_0x2ec38c['length'];_0x16da6f++){const _0x5caed9=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x2ec38c[_0x16da6f]);_0x5caed9&&_0x5caed9['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x371839,_0x19bc08){this['addMeshIns'+'tanceToLay'+'ers'](),_0x371839['off']('add',this['onLayerAdd'+'ed'],this),_0x371839['off']('remove',this['onLayerRem'+'oved'],this),_0x19bc08['on']('add',this['onLayerAdd'+'ed'],this),_0x19bc08['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x4b6a33){!this['emitter']||this['layers']['indexOf'](_0x4b6a33['id'])<0x13*-0x5b+0x255b+-0x1e9a||_0x4b6a33['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x69896f){!this['emitter']||this['layers']['indexOf'](_0x69896f['id'])<0xb41*0x3+0x154d+-0x3710||_0x69896f['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0xb3256a){if(_0xb3256a['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0xb3256a['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0xb3256a['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0xb3256a['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0xb3256a['resource'])this['_onColorMa'+'pAssetLoad'](_0xb3256a);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0xb3256a);}}['_unbindCol'+'orMapAsset'](_0x5e1534){_0x5e1534['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x5e1534['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x5e1534['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x5e1534['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x3e9f07){this['colorMap']=_0x3e9f07['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x463b48){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x3dcb6a){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x3dcb6a);}['_onColorMa'+'pAssetChan'+'ge'](_0x5bcd98){}['onSetColor'+'MapAsset'](_0x2509f8,_0x115b43,_0x3c71c2){const _0x18c146=this['system']['app']['assets'];if(_0x115b43){const _0x5cff44=_0x18c146['get'](_0x115b43);_0x5cff44&&this['_unbindCol'+'orMapAsset'](_0x5cff44);}if(_0x3c71c2){_0x3c71c2 instanceof le&&(this['data']['colorMapAs'+'set']=_0x3c71c2['id'],_0x3c71c2=_0x3c71c2['id']);const _0x3c8f85=_0x18c146['get'](_0x3c71c2);_0x3c8f85?this['_bindColor'+'MapAsset'](_0x3c8f85):_0x18c146['once']('add:'+_0x3c71c2,_0xc7ada0=>{this['_bindColor'+'MapAsset'](_0xc7ada0);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x225b73){if(_0x225b73['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x225b73['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x225b73['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x225b73['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x225b73['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x225b73);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x225b73);}}['_unbindNor'+'malMapAsse'+'t'](_0x27746b){_0x27746b['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x27746b['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x27746b['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x27746b['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x111f69){this['normalMap']=_0x111f69['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x2da6c7){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x353b20){this['_onNormalM'+'apAssetUnl'+'oad'](_0x353b20);}['_onNormalM'+'apAssetCha'+'nge'](_0x415831){}['onSetNorma'+'lMapAsset'](_0x519021,_0x4ef2d7,_0xfa92c6){const _0x22952f=this['system']['app']['assets'];if(_0x4ef2d7){const _0x230c2b=_0x22952f['get'](_0x4ef2d7);_0x230c2b&&this['_unbindNor'+'malMapAsse'+'t'](_0x230c2b);}if(_0xfa92c6){_0xfa92c6 instanceof le&&(this['data']['normalMapA'+'sset']=_0xfa92c6['id'],_0xfa92c6=_0xfa92c6['id']);const _0xea2bb8=_0x22952f['get'](_0xfa92c6);_0xea2bb8?this['_bindNorma'+'lMapAsset'](_0xea2bb8):_0x22952f['once']('add:'+_0xfa92c6,_0x3cb64b=>{this['_bindNorma'+'lMapAsset'](_0x3cb64b);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0xc75073){if(_0xc75073['on']('load',this['_onMeshAss'+'etLoad'],this),_0xc75073['on']('unload',this['_onMeshAss'+'etUnload'],this),_0xc75073['on']('remove',this['_onMeshAss'+'etRemove'],this),_0xc75073['on']('change',this['_onMeshAss'+'etChange'],this),_0xc75073['resource'])this['_onMeshAss'+'etLoad'](_0xc75073);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0xc75073);}}['_unbindMes'+'hAsset'](_0x40cfc4){_0x40cfc4['off']('load',this['_onMeshAss'+'etLoad'],this),_0x40cfc4['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x40cfc4['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x40cfc4['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x615272){this['_onMeshCha'+'nged'](_0x615272['resource']);}['_onMeshAss'+'etUnload'](_0x281885){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x42bdb7){this['_onMeshAss'+'etUnload'](_0x42bdb7);}['_onMeshAss'+'etChange'](_0x14dc39){}['onSetMeshA'+'sset'](_0x136195,_0x5f1f1c,_0x14afc7){const _0x483077=this['system']['app']['assets'];if(_0x5f1f1c){const _0x3657d0=_0x483077['get'](_0x5f1f1c);_0x3657d0&&this['_unbindMes'+'hAsset'](_0x3657d0);}if(_0x14afc7){_0x14afc7 instanceof le&&(this['data']['meshAsset']=_0x14afc7['id'],_0x14afc7=_0x14afc7['id']);const _0x19d8aa=_0x483077['get'](_0x14afc7);_0x19d8aa&&this['_bindMeshA'+'sset'](_0x19d8aa);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0xbada55,_0x3abd1d,_0x263710){!_0x263710||_0x263710 instanceof le||typeof _0x263710=='number'?this['meshAsset']=_0x263710:this['_onMeshCha'+'nged'](_0x263710);}['_onMeshCha'+'nged'](_0x1fa4cb){_0x1fa4cb&&!(_0x1fa4cb instanceof Ie)&&(_0x1fa4cb['meshInstan'+'ces'][-0x16aa+-0x6bb+-0x7*-0x433]?_0x1fa4cb=_0x1fa4cb['meshInstan'+'ces'][-0xea5+-0x1a3*-0xf+0x4f4*-0x2]['mesh']:_0x1fa4cb=null),this['data']['mesh']=_0x1fa4cb,this['emitter']&&(this['emitter']['mesh']=_0x1fa4cb,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x519348,_0x4542e3,_0x32101b){const _0x964f9e=this['system']['app']['assets'];if(_0x4542e3){const _0x220454=_0x964f9e['get'](_0x4542e3);_0x220454&&this['_unbindRen'+'derAsset'](_0x220454);}if(_0x32101b){_0x32101b instanceof le&&(this['data']['renderAsse'+'t']=_0x32101b['id'],_0x32101b=_0x32101b['id']);const _0x3fc9a5=_0x964f9e['get'](_0x32101b);_0x3fc9a5&&this['_bindRende'+'rAsset'](_0x3fc9a5);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x1b7f9a){if(_0x1b7f9a['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x1b7f9a['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x1b7f9a['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x1b7f9a['resource'])this['_onRenderA'+'ssetLoad'](_0x1b7f9a);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x1b7f9a);}}['_unbindRen'+'derAsset'](_0x42cdd5){var _0x204948;_0x42cdd5['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x42cdd5['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x42cdd5['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x204948=this['_evtSetMes'+'hes'])==null||_0x204948['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x2bceb6){this['_onRenderC'+'hanged'](_0x2bceb6['resource']);}['_onRenderA'+'ssetUnload'](_0x396fe8){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x1e9184){this['_onRenderA'+'ssetUnload'](_0x1e9184);}['_onRenderC'+'hanged'](_0x2587c2){var _0x277824;if(!_0x2587c2){this['_onMeshCha'+'nged'](null);return;}(_0x277824=this['_evtSetMes'+'hes'])==null||_0x277824['off'](),this['_evtSetMes'+'hes']=_0x2587c2['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x2587c2['meshes']&&this['_onRenderS'+'etMeshes'](_0x2587c2['meshes']);}['_onRenderS'+'etMeshes'](_0x37abdc){this['_onMeshCha'+'nged'](_0x37abdc&&_0x37abdc[-0x1ec2+0xb*0x7+0x1e75]);}['onSetLoop'](_0x59510b,_0x14325a,_0x19a6a5){this['emitter']&&(this['emitter'][_0x59510b]=_0x19a6a5,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x1ba4b2,_0x3d7aea,_0x2e246d){this['emitter']&&(this['emitter'][_0x1ba4b2]=_0x2e246d,this['emitter']['material']['blendType']=_0x2e246d,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Hn||(Hn=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt)),Hn&&(Hn['incrementC'+'ounter'](),this['_requested'+'Depth']=!(-0x19be*0x1+-0x2567*0x1+0x3f25)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Hn&&(Hn['decrementC'+'ounter'](),this['_requested'+'Depth']=!(0x388+0x1c8c+-0x15*0x187));}['onSetDepth'+'Softening'](_0x12eb4e,_0x13ac89,_0x34255d){_0x13ac89!==_0x34255d&&(_0x34255d?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x12eb4e]=_0x34255d)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x12eb4e]=_0x34255d)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x4ed124,_0x118bbb,_0x58ad04){this['emitter']&&(this['emitter'][_0x4ed124]=_0x58ad04,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0xd7bd26,_0x34a0c4,_0x1f6402){this['emitter']&&(this['emitter'][_0xd7bd26]=_0x1f6402,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x435231,_0x4f84e0,_0x572c37){this['emitter']&&(this['emitter'][_0x435231]=_0x572c37,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x1c1aee=this['system']['app']['scene'],_0xa2b53f=_0x1c1aee['layers'],_0x2374a0=this['data'];for(let _0x47fea8=0xadf+-0x17e*-0x7+-0x1551,_0x34064c=Zl['length'];_0x47fea8<_0x34064c;_0x47fea8++){let _0x361609=_0x2374a0[Zl[_0x47fea8]];if(_0x361609){if(!(_0x361609 instanceof le)){if(parseInt(_0x361609,-0x15b+0x928+-0x7c3)>=-0x2c*-0x50+-0xdb*0x17+-0x25*-0x29)_0x361609=this['system']['app']['assets']['get'](_0x361609);else continue;}_0x361609&&!_0x361609['resource']&&this['system']['app']['assets']['load'](_0x361609);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x526a25=_0x2374a0['mesh'];_0x526a25 instanceof Ie||(_0x526a25=null),this['emitter']=new d1(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x2374a0['numParticl'+'es'],'emitterExtents':_0x2374a0['emitterExt'+'ents'],'emitterExtentsInner':_0x2374a0['emitterExt'+'entsInner'],'emitterRadius':_0x2374a0['emitterRad'+'ius'],'emitterRadiusInner':_0x2374a0['emitterRad'+'iusInner'],'emitterShape':_0x2374a0['emitterSha'+'pe'],'initialVelocity':_0x2374a0['initialVel'+'ocity'],'wrap':_0x2374a0['wrap'],'localSpace':_0x2374a0['localSpace'],'screenSpace':_0x2374a0['screenSpac'+'e'],'wrapBounds':_0x2374a0['wrapBounds'],'lifetime':_0x2374a0['lifetime'],'rate':_0x2374a0['rate'],'rate2':_0x2374a0['rate2'],'orientation':_0x2374a0['orientatio'+'n'],'particleNormal':_0x2374a0['particleNo'+'rmal'],'animTilesX':_0x2374a0['animTilesX'],'animTilesY':_0x2374a0['animTilesY'],'animStartFrame':_0x2374a0['animStartF'+'rame'],'animNumFrames':_0x2374a0['animNumFra'+'mes'],'animNumAnimations':_0x2374a0['animNumAni'+'mations'],'animIndex':_0x2374a0['animIndex'],'randomizeAnimIndex':_0x2374a0['randomizeA'+'nimIndex'],'animSpeed':_0x2374a0['animSpeed'],'animLoop':_0x2374a0['animLoop'],'startAngle':_0x2374a0['startAngle'],'startAngle2':_0x2374a0['startAngle'+'2'],'scaleGraph':_0x2374a0['scaleGraph'],'scaleGraph2':_0x2374a0['scaleGraph'+'2'],'colorGraph':_0x2374a0['colorGraph'],'colorGraph2':_0x2374a0['colorGraph'+'2'],'alphaGraph':_0x2374a0['alphaGraph'],'alphaGraph2':_0x2374a0['alphaGraph'+'2'],'localVelocityGraph':_0x2374a0['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x2374a0['localVeloc'+'ityGraph2'],'velocityGraph':_0x2374a0['velocityGr'+'aph'],'velocityGraph2':_0x2374a0['velocityGr'+'aph2'],'rotationSpeedGraph':_0x2374a0['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x2374a0['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x2374a0['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x2374a0['radialSpee'+'dGraph2'],'colorMap':_0x2374a0['colorMap'],'normalMap':_0x2374a0['normalMap'],'loop':_0x2374a0['loop'],'preWarm':_0x2374a0['preWarm'],'sort':_0x2374a0['sort'],'stretch':_0x2374a0['stretch'],'alignToMotion':_0x2374a0['alignToMot'+'ion'],'lighting':_0x2374a0['lighting'],'halfLambert':_0x2374a0['halfLamber'+'t'],'intensity':_0x2374a0['intensity'],'depthSoftening':_0x2374a0['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x526a25,'depthWrite':_0x2374a0['depthWrite'],'noFog':_0x2374a0['noFog'],'node':this['entity'],'blendType':_0x2374a0['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x2374a0['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(-0x2*0x122e+0x2*-0x115+0x2687));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x1c1aee['on']('set:layers',this['onLayersCh'+'anged'],this),_0xa2b53f&&(this['_evtLayerA'+'dded']=_0xa2b53f['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0xa2b53f['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x2374a0['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x2c7689,_0x499550,_0xb2f67b;const _0x45f6d8=this['system']['app']['scene']['layers'];(_0x2c7689=this['_evtLayers'+'Changed'])==null||_0x2c7689['off'](),this['_evtLayers'+'Changed']=null,_0x45f6d8&&((_0x499550=this['_evtLayerA'+'dded'])==null||_0x499550['off'](),this['_evtLayerA'+'dded']=null,(_0xb2f67b=this['_evtLayerR'+'emoved'])==null||_0xb2f67b['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(-0xe9*0x18+0x7*0x49c+-0x379*0x3)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x31b95d=-0x9*-0x3c7+-0x2693+-0x24a*-0x2;_0x31b95d<Zl['length'];_0x31b95d++){const _0x3731ec=Zl[_0x31b95d];this['data'][_0x3731ec]&&(this[_0x3731ec]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(-0x2*0xc1a+0x3*-0x425+0x4*0x929),this['emitter']['resetTime'](),this['emitter']['addTime'](0x18cc+0x1*-0x13de+-0x4ee,!(-0x221+0xe7*-0xc+0x1f*0x6b)));}['pause'](){this['data']['paused']=!(-0xc*-0x11+0x192d+-0x19f9);}['unpause'](){this['data']['paused']=!(-0x115*0x1+0x266+-0x150);}['play'](){this['data']['paused']=!(-0xb*-0x234+-0x177d+-0x5f*0x2),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(0x3*-0x875+0x18*-0x6c+0x237f),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(0x1a0d+0xa7*0x1d+-0x2cf7):this['emitter']&&this['emitter']['loop']?!(0x613+0x6e*-0x19+0x4ab):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x53940b}=this;_0x53940b&&!_0x53940b['inTools']&&(_0x53940b['inTools']=!(-0x1a*0x12b+-0x1adc+0x393a),this['rebuild']());}['rebuild'](){const _0x5d7ff9=this['enabled'];this['enabled']=!(-0x24e1+0x8e9+0x3*0x953),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x5d7ff9;}}class lI{constructor(){this['numParticl'+'es']=-0x151f+0x1873+-0x353,this['rate']=0x8b8+0x11f1*-0x1+0x93a,this['rate2']=null,this['startAngle']=-0x1c86+0x1cf*-0x1+0x611*0x5,this['startAngle'+'2']=null,this['lifetime']=-0x1*0x1f9d+0x17e0+0x7ef,this['emitterExt'+'ents']=new T(),this['emitterExt'+'entsInner']=new T(),this['emitterRad'+'ius']=-0x21*0x1+0x2*0x7d6+-0xf8b,this['emitterRad'+'iusInner']=-0xe5*-0x25+0x9*0x1a1+0x1*-0x2fc2,this['emitterSha'+'pe']=Vs,this['initialVel'+'ocity']=0x22af+0x1*-0x1d1d+-0x592,this['wrap']=!(0x575*0x6+-0x1f90+-0x12d),this['wrapBounds']=new T(),this['localSpace']=!(-0x44*-0x50+0x1*0x1d2a+-0x3269),this['screenSpac'+'e']=!(0x18d*-0x17+0xc*0x2+0x2394),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(-0x1574+-0x21d7+0x374b),this['preWarm']=!(0x4a2*-0x1+0x131e+-0xe7b*0x1),this['sort']=-0x1ef6*0x1+-0x1*-0x187f+0x1*0x677,this['mode']=d0,this['scene']=null,this['lighting']=!(0x3c5*0x5+-0x25*0xdb+0xccf),this['halfLamber'+'t']=!(0x1*-0x10f5+0x1936+-0xc0*0xb),this['intensity']=-0x221f*0x1+0x21e5+0x3b,this['stretch']=0x1faa+0x16*0x49+-0x25f0,this['alignToMot'+'ion']=!(0x13*-0x130+0x1*-0xa87+0x2118),this['depthSofte'+'ning']=-0x19fe+0xac*0x29+0xc7*-0x2,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(-0xd45+0x1b*0x62+0x2f0),this['noFog']=!(-0x181e+-0x973+0x2192),this['orientatio'+'n']=Uh,this['particleNo'+'rmal']=new T(0x1*-0x2589+-0x18b6+0x3e3f,0x11cf*0x1+0x85*0x7+-0x1571,0x1503+-0x6ce+-0xe35),this['animTilesX']=0x1*0x92f+0x1a2e+-0x11ae*0x2,this['animTilesY']=0x20cf+-0x1*-0x569+-0xcbd*0x3,this['animStartF'+'rame']=0x1cb+0x66*0x29+0xd*-0x165,this['animNumFra'+'mes']=-0x7a0+0x19c9+-0x1228,this['animNumAni'+'mations']=-0x6*-0x105+0x6d7+-0x1*0xcf4,this['animIndex']=-0x404+0x1f*0xc+0x290,this['randomizeA'+'nimIndex']=!(0x1ff6+-0x5c9+-0x68b*0x4),this['animSpeed']=0x3*0xbe6+-0x1c4d+-0x764,this['animLoop']=!(0x3f*0x9+0x7f*0x32+-0x1b05),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Kt,this['enabled']=!(-0x1*-0x1eda+0x1b7*-0xb+-0xbfd),this['paused']=!(0x13*-0xc4+-0x56b+0x13f8),this['autoPlay']=!(-0xe8c+0x79f*-0x1+-0x1*-0x162b),this['layers']=[Fi];}}const hI=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class cI extends Xe{constructor(_0x491cc1){super(_0x491cc1),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=oI,this['DataType']=lI,this['schema']=hI,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x5697c3,_0xb60c52,_0x38f5e7){const _0x57beb7={};_0x38f5e7=[];const _0x321195=this['propertyTy'+'pes'];(_0xb60c52['mesh']instanceof le||typeof _0xb60c52['mesh']=='number')&&(_0xb60c52['meshAsset']=_0xb60c52['mesh'],delete _0xb60c52['mesh']);for(const _0x33d570 in _0xb60c52){if(_0xb60c52['hasOwnProp'+'erty'](_0x33d570)&&(_0x38f5e7['push'](_0x33d570),_0x57beb7[_0x33d570]=_0xb60c52[_0x33d570]),_0x321195[_0x33d570]==='vec3')Array['isArray'](_0x57beb7[_0x33d570])&&(_0x57beb7[_0x33d570]=new T(_0x57beb7[_0x33d570][-0x2*-0xf9a+0xa8f+0x29c3*-0x1],_0x57beb7[_0x33d570][-0x11c3*0x1+-0x9d*-0x5+-0xeb3*-0x1],_0x57beb7[_0x33d570][0xc91+-0x1c86*-0x1+0x2915*-0x1]));else{if(_0x321195[_0x33d570]==='curve'){if(!(_0x57beb7[_0x33d570]instanceof Cs)){const _0x53256c=_0x57beb7[_0x33d570]['type'];_0x57beb7[_0x33d570]=new Cs(_0x57beb7[_0x33d570]['keys']),_0x57beb7[_0x33d570]['type']=_0x53256c;}}else{if(_0x321195[_0x33d570]==='curveset'&&!(_0x57beb7[_0x33d570]instanceof jr)){const _0x537a05=_0x57beb7[_0x33d570]['type'];_0x57beb7[_0x33d570]=new jr(_0x57beb7[_0x33d570]['keys']),_0x57beb7[_0x33d570]['type']=_0x537a05;}}}_0x57beb7['layers']&&Array['isArray'](_0x57beb7['layers'])&&(_0x57beb7['layers']=_0x57beb7['layers']['slice'](-0x19a8+-0x8*0x139+0x2370));}super['initialize'+'ComponentD'+'ata'](_0x5697c3,_0x57beb7,_0x38f5e7);}['cloneCompo'+'nent'](_0x4b7989,_0x325475){const _0x2ff0cc=_0x4b7989['particlesy'+'stem']['data'],_0xc775be=this['schema'],_0x2f8046={};for(let _0xbf678=0x2ba*0x2+-0xedd+0x969,_0x241303=_0xc775be['length'];_0xbf678<_0x241303;_0xbf678++){const _0x3a3d01=_0xc775be[_0xbf678];let _0x1c7288=_0x2ff0cc[_0x3a3d01];_0x1c7288 instanceof T||_0x1c7288 instanceof Cs||_0x1c7288 instanceof jr?(_0x1c7288=_0x1c7288['clone'](),_0x2f8046[_0x3a3d01]=_0x1c7288):_0x3a3d01==='layers'?_0x2f8046['layers']=_0x2ff0cc['layers']['slice'](-0x1d8a+0x3*-0xaf7+-0x1*-0x3e6f):_0x1c7288!=null&&(_0x2f8046[_0x3a3d01]=_0x1c7288);}return this['addCompone'+'nt'](_0x325475,_0x2f8046);}['onUpdate'](_0x6d8ad){const _0x7ccdfe=this['store'];let _0x4d9187;const _0x25ea05=this['app']['stats']['particles'],_0x1371c8=this['app']['scene']['layers'];for(let _0x104294=-0xb9e+0x6e*-0x12+0x135a;_0x104294<_0x1371c8['layerList']['length'];_0x104294++)_0x1371c8['layerList'][_0x104294]['requiresLi'+'ghtCube']=!(-0xdc0+0x7b9+0x8*0xc1);for(const _0x2b2f4b in _0x7ccdfe)if(_0x7ccdfe['hasOwnProp'+'erty'](_0x2b2f4b)){const _0x18d17d=_0x7ccdfe[_0x2b2f4b],_0x2f3fce=_0x18d17d['entity'],_0x10cb8d=_0x18d17d['data'];if(_0x10cb8d['enabled']&&_0x2f3fce['enabled']){const _0x325f55=_0x2f3fce['particlesy'+'stem']['emitter'];if(!(_0x325f55!=null&&_0x325f55['meshInstan'+'ce']['visible']))continue;if(_0x325f55['lighting']){const _0x122d90=_0x10cb8d['layers'];for(let _0x46fabe=-0xd81*0x2+-0x2*0x3aa+-0x3*-0xb72;_0x46fabe<_0x122d90['length'];_0x46fabe++){const _0x5d700c=_0x1371c8['getLayerBy'+'Id'](_0x122d90[_0x46fabe]);_0x5d700c&&(_0x5d700c['requiresLi'+'ghtCube']=!(-0x1a80+-0xc0d*-0x1+0x1*0xe73));}}if(!_0x10cb8d['paused']){if(_0x325f55['simTime']+=_0x6d8ad,_0x325f55['simTime']>_0x325f55['fixedTimeS'+'tep']&&(_0x4d9187=Math['floor'](_0x325f55['simTime']/_0x325f55['fixedTimeS'+'tep']),_0x325f55['simTime']-=_0x4d9187*_0x325f55['fixedTimeS'+'tep']),_0x4d9187){_0x4d9187=Math['min'](_0x4d9187,_0x325f55['maxSubStep'+'s']);for(let _0x237949=0x113d+-0x1c8f*-0x1+-0x2dcc;_0x237949<_0x4d9187;_0x237949++)_0x325f55['addTime'](_0x325f55['fixedTimeS'+'tep'],!(-0x112d+0x145d+-0x32f));_0x25ea05['_updatesPe'+'rFrame']+=_0x4d9187,_0x25ea05['_frameTime']+=_0x325f55['_addTimeTi'+'me'],_0x325f55['_addTimeTi'+'me']=-0x1*0x837+0x1d82+-0x4f*0x45;}_0x325f55['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x51027e,_0x19eb28){_0x19eb28['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class dI extends Gc{constructor(_0x2a979b,_0x3bf61a){super(),this['skin']=_0x2a979b,this['skinInstan'+'ce']=_0x3bf61a;}}const bs=class bs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),bs['_skinInsta'+'nceCache']['forEach']((_0x55f279,_0x3e47bd)=>{console['log'](_0x3e47bd['name']+':\x20Array('+_0x55f279['length']+')');for(let _0x28ebf7=-0x1*-0x22b9+-0x704+-0x1bb5;_0x28ebf7<_0x55f279['length'];_0x28ebf7++)console['log']('\x20\x20'+_0x28ebf7+(':\x20RefCount'+'\x20')+_0x55f279[_0x28ebf7]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x486a05,_0x4097ef,_0x516696){let _0xe1f68e=bs['getCachedS'+'kinInstanc'+'e'](_0x486a05,_0x4097ef);return _0xe1f68e||(_0xe1f68e=new nl(_0x486a05),_0xe1f68e['resolve'](_0x4097ef,_0x516696),bs['addCachedS'+'kinInstanc'+'e'](_0x486a05,_0x4097ef,_0xe1f68e)),_0xe1f68e;}static['getCachedS'+'kinInstanc'+'e'](_0x1a3e76,_0x34dbef){let _0x6f0d76=null;const _0x4f0b41=bs['_skinInsta'+'nceCache']['get'](_0x34dbef);if(_0x4f0b41){const _0x1090fb=_0x4f0b41['find'](_0xfb000f=>_0xfb000f['skin']===_0x1a3e76);_0x1090fb&&(_0x1090fb['incRefCoun'+'t'](),_0x6f0d76=_0x1090fb['skinInstan'+'ce']);}return _0x6f0d76;}static['addCachedS'+'kinInstanc'+'e'](_0x25c3bf,_0x1b203e,_0x49948b){let _0x4ef7c2=bs['_skinInsta'+'nceCache']['get'](_0x1b203e);_0x4ef7c2||(_0x4ef7c2=[],bs['_skinInsta'+'nceCache']['set'](_0x1b203e,_0x4ef7c2));let _0x38dd4f=_0x4ef7c2['find'](_0x4c9748=>_0x4c9748['skin']===_0x25c3bf);_0x38dd4f||(_0x38dd4f=new dI(_0x25c3bf,_0x49948b),_0x4ef7c2['push'](_0x38dd4f)),_0x38dd4f['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0xc860e0){if(_0xc860e0){const _0x5a477f=_0xc860e0['rootBone'];if(_0x5a477f){const _0x2c4a65=bs['_skinInsta'+'nceCache']['get'](_0x5a477f);if(_0x2c4a65){const _0x35adcf=_0x2c4a65['findIndex'](_0x2146f1=>_0x2146f1['skinInstan'+'ce']===_0xc860e0);if(_0x35adcf>=0x26b1+0xc8*0x10+0xa3d*-0x5){const _0x10c83f=_0x2c4a65[_0x35adcf];_0x10c83f['decRefCoun'+'t'](),_0x10c83f['refCount']===0x1ab4+-0x21c2+-0x1*-0x70e&&(_0x2c4a65['splice'](_0x35adcf,0x1cdd+0x1dc5+-0x3aa1),_0x2c4a65['length']||bs['_skinInsta'+'nceCache']['delete'](_0x5a477f),_0xc860e0&&(_0xc860e0['destroy'](),_0x10c83f['skinInstan'+'ce']=null));}}}}}};c(bs,'_skinInsta'+'nceCache',new Map());let Vo=bs;class Go{constructor(_0x2c09c9,_0x598b98,_0x5c0489,_0x568ff7,_0x233886){c(this,'_evtLoadBy'+'Id',null),c(this,'_evtUnload'+'ById',null),c(this,'_evtAddByI'+'d',null),c(this,'_evtRemove'+'ById',null),c(this,'_evtLoadBy'+'Url',null),c(this,'_evtAddByU'+'rl',null),c(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x2c09c9,this['parent']=_0x598b98,this['_scope']=_0x233886,this['_registry']=_0x5c0489,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x568ff7['load'],this['_onAssetAd'+'d']=_0x568ff7['add'],this['_onAssetRe'+'move']=_0x568ff7['remove'],this['_onAssetUn'+'load']=_0x568ff7['unload']);}set['id'](_0x266e76){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x266e76,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x3fa840){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x3fa840,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x389762,_0x50923f,_0x1ff389,_0x553a27,_0x192cb2,_0xe12e0d,_0x340fae;this['id']&&((_0x389762=this['_evtLoadBy'+'Id'])==null||_0x389762['off'](),this['_evtLoadBy'+'Id']=null,(_0x50923f=this['_evtAddByI'+'d'])==null||_0x50923f['off'](),this['_evtAddByI'+'d']=null,(_0x1ff389=this['_evtRemove'+'ById'])==null||_0x1ff389['off'](),this['_evtRemove'+'ById']=null,(_0x553a27=this['_evtUnload'+'ById'])==null||_0x553a27['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x192cb2=this['_evtLoadBy'+'Url'])==null||_0x192cb2['off'](),this['_evtLoadBy'+'Url']=null,(_0xe12e0d=this['_evtAddByU'+'rl'])==null||_0xe12e0d['off'](),this['_evtAddByU'+'rl']=null,(_0x340fae=this['_evtRemove'+'ByUrl'])==null||_0x340fae['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x5c663c){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x5c663c);}['_onAdd'](_0x268808){this['asset']=_0x268808,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x268808);}['_onRemove'](_0x58b035){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x58b035),this['asset']=null;}['_onUnload'](_0x6a441){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x6a441);}}class fx extends ue{constructor(_0x34cc48,_0x3fbb3c){super(_0x34cc48,_0x3fbb3c),c(this,'_type','asset'),c(this,'_castShado'+'ws',!(-0x1742+-0x143d+0x2b7f)),c(this,'_receiveSh'+'adows',!(0x11b7+0x1176+-0x5*0x709)),c(this,'_castShado'+'wsLightmap',!(-0x63e+-0x1652*0x1+0x10*0x1c9)),c(this,'_lightmapp'+'ed',!(0x991*-0x1+0x100d+0xed*-0x7)),c(this,'_lightmapS'+'izeMultipl'+'ier',-0x1655+0x1721+-0x1*0xcb),c(this,'isStatic',!(-0x18e*0x14+0x2f*0x6e+0x1*0xae7)),c(this,'_batchGrou'+'pId',-(-0x1c6b+-0x156*-0x3+0x5*0x4e2)),c(this,'_layers',[Fi]),c(this,'_renderSty'+'le',yo),c(this,'_meshInsta'+'nces',[]),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_assetRefe'+'rence'),c(this,'_materialR'+'eferences',[]),c(this,'_material'),c(this,'_rootBone',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x34cc48['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x34cc48['defaultMat'+'erial'],_0x3fbb3c['on']('remove',this['onRemoveCh'+'ild'],this),_0x3fbb3c['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x3fbb3c['on']('insert',this['onInsertCh'+'ild'],this),_0x3fbb3c['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x19e9bc){this['_renderSty'+'le']!==_0x19e9bc&&(this['_renderSty'+'le']=_0x19e9bc,Le['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x19e9bc));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x3ae772){this['_customAab'+'b']=_0x3ae772;const _0x2d1221=this['_meshInsta'+'nces'];if(_0x2d1221){for(let _0x5bbac7=0x52c*-0x1+-0x1302+0x182e;_0x5bbac7<_0x2d1221['length'];_0x5bbac7++)_0x2d1221[_0x5bbac7]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x54afbb){if(this['_type']!==_0x54afbb&&(this['_area']=null,this['_type']=_0x54afbb,this['destroyMes'+'hInstances'](),_0x54afbb!=='asset')){let _0x26f3d9=this['_material'];(!_0x26f3d9||_0x26f3d9===this['system']['defaultMat'+'erial'])&&(_0x26f3d9=this['_materialR'+'eferences'][0x1*-0xf65+0x1*0x122e+-0x2c9*0x1]&&this['_materialR'+'eferences'][0xff*0x1e+-0x2*-0x1246+-0x426e]['asset']&&this['_materialR'+'eferences'][0x1*-0x1537+0x2fe*0x8+-0x1*0x2b9]['asset']['resource']);const _0xc41e79=cx(this['system']['app']['graphicsDe'+'vice'],_0x54afbb);this['_area']=_0xc41e79['area'],this['meshInstan'+'ces']=[new Le(_0xc41e79['mesh'],_0x26f3d9||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x2c0907){if(v['assert'](Array['isArray'](_0x2c0907),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x2c0907,this['_meshInsta'+'nces']){const _0x4379d2=this['_meshInsta'+'nces'];for(let _0x52b986=0x8cc*0x3+0x18d9+0xd*-0x3f1;_0x52b986<_0x4379d2['length'];_0x52b986++)_0x4379d2[_0x52b986]['node']||(_0x4379d2[_0x52b986]['node']=this['entity']),_0x4379d2[_0x52b986]['castShadow']=this['_castShado'+'ws'],_0x4379d2[_0x52b986]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x4379d2[_0x52b986]['renderStyl'+'e']=this['_renderSty'+'le'],_0x4379d2[_0x52b986]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x4379d2[_0x52b986]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x31627a){if(_0x31627a!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x31627a;const _0xa71247=this['_meshInsta'+'nces'];if(_0xa71247){for(let _0x172cf0=0x2*-0xa1c+-0x2*0x67d+0x2132;_0x172cf0<_0xa71247['length'];_0x172cf0++)_0xa71247[_0x172cf0]['setLightma'+'pped'](_0x31627a);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0xe09082){if(this['_castShado'+'ws']!==_0xe09082){const _0x1a3a3d=this['_meshInsta'+'nces'];if(_0x1a3a3d){const _0x1597f6=this['layers'],_0x4f6aca=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0xe09082)for(let _0x46bf76=0x3*-0x207+-0x1aa3+-0x8*-0x417;_0x46bf76<_0x1597f6['length'];_0x46bf76++){const _0x57389a=_0x4f6aca['layers']['getLayerBy'+'Id'](this['layers'][_0x46bf76]);_0x57389a&&_0x57389a['removeShad'+'owCasters'](_0x1a3a3d);}for(let _0x516c2b=-0x32*-0x8e+0x10*-0x163+-0x5*0x11c;_0x516c2b<_0x1a3a3d['length'];_0x516c2b++)_0x1a3a3d[_0x516c2b]['castShadow']=_0xe09082;if(!this['_castShado'+'ws']&&_0xe09082)for(let _0x3c1725=0xbc4+-0xb2b+-0x99;_0x3c1725<_0x1597f6['length'];_0x3c1725++){const _0x3d6164=_0x4f6aca['layers']['getLayerBy'+'Id'](_0x1597f6[_0x3c1725]);_0x3d6164&&_0x3d6164['addShadowC'+'asters'](_0x1a3a3d);}}this['_castShado'+'ws']=_0xe09082;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x390dce){if(this['_receiveSh'+'adows']!==_0x390dce){this['_receiveSh'+'adows']=_0x390dce;const _0x2541cc=this['_meshInsta'+'nces'];if(_0x2541cc){for(let _0xcc9e39=0x1610+0x6d1+-0x1ce1*0x1;_0xcc9e39<_0x2541cc['length'];_0xcc9e39++)_0x2541cc[_0xcc9e39]['receiveSha'+'dow']=_0x390dce;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x5d6e02){this['_castShado'+'wsLightmap']=_0x5d6e02;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0xc03f20){this['_lightmapS'+'izeMultipl'+'ier']=_0xc03f20;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x116472){const _0xff0753=this['system']['app']['scene']['layers'];let _0x3302d4;if(this['_meshInsta'+'nces']){for(let _0x1f770a=-0x37*0x60+-0x19*-0x176+-0xfe6;_0x1f770a<this['_layers']['length'];_0x1f770a++)_0x3302d4=_0xff0753['getLayerBy'+'Id'](this['_layers'][_0x1f770a]),_0x3302d4&&_0x3302d4['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=0xf60+-0x3*-0x769+-0x1*0x259b;for(let _0x355cbe=0x1b1f+-0x66e*0x4+-0x167*0x1;_0x355cbe<_0x116472['length'];_0x355cbe++)this['_layers'][_0x355cbe]=_0x116472[_0x355cbe];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x7f73ec=-0x1*0x1d89+0x1e70+-0xe7;_0x7f73ec<this['_layers']['length'];_0x7f73ec++)_0x3302d4=_0xff0753['getLayerBy'+'Id'](this['_layers'][_0x7f73ec]),_0x3302d4&&_0x3302d4['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x364f3b){var _0x29162a,_0x1676d5;this['_batchGrou'+'pId']!==_0x364f3b&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x9ae+-0x3e7*0x2+-0x2ea*-0x6&&((_0x29162a=this['system']['app']['batcher'])==null||_0x29162a['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x364f3b>=0x4*0x4f4+-0xac5*-0x1+-0x1e95&&((_0x1676d5=this['system']['app']['batcher'])==null||_0x1676d5['insert'](et['RENDER'],_0x364f3b,this['entity'])),_0x364f3b<0x3ab+0x2050+0x1*-0x23fb&&this['_batchGrou'+'pId']>=0x1*0x1243+-0x871*0x1+-0x3*0x346&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x364f3b);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x4ecad2){if(this['_material']!==_0x4ecad2&&(this['_material']=_0x4ecad2,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x3d2a0d=-0x240f+0x6fc+0x1d13;_0x3d2a0d<this['_meshInsta'+'nces']['length'];_0x3d2a0d++)this['_meshInsta'+'nces'][_0x3d2a0d]['material']=_0x4ecad2;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x107a8a=[]){if(this['_materialR'+'eferences']['length']>_0x107a8a['length']){for(let _0x20dfc9=_0x107a8a['length'];_0x20dfc9<this['_materialR'+'eferences']['length'];_0x20dfc9++)this['_materialR'+'eferences'][_0x20dfc9]['id']=null;this['_materialR'+'eferences']['length']=_0x107a8a['length'];}for(let _0x1d7bd6=0x1146+0x3*0xb53+-0x3*0x1115;_0x1d7bd6<_0x107a8a['length'];_0x1d7bd6++)if(this['_materialR'+'eferences'][_0x1d7bd6]||this['_materialR'+'eferences']['push'](new Go(_0x1d7bd6,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x107a8a[_0x1d7bd6]){const _0x145909=_0x107a8a[_0x1d7bd6]instanceof le?_0x107a8a[_0x1d7bd6]['id']:_0x107a8a[_0x1d7bd6];this['_materialR'+'eferences'][_0x1d7bd6]['id']!==_0x145909&&(this['_materialR'+'eferences'][_0x1d7bd6]['id']=_0x145909),this['_materialR'+'eferences'][_0x1d7bd6]['asset']&&this['_onMateria'+'lAdded'](_0x1d7bd6,this,this['_materialR'+'eferences'][_0x1d7bd6]['asset']);}else this['_materialR'+'eferences'][_0x1d7bd6]['id']=null,this['_meshInsta'+'nces'][_0x1d7bd6]&&(this['_meshInsta'+'nces'][_0x1d7bd6]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x78edc6=>_0x78edc6['id']);}set['asset'](_0x5af558){const _0x53f50d=_0x5af558 instanceof le?_0x5af558['id']:_0x5af558;this['_assetRefe'+'rence']['id']!==_0x53f50d&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x53f50d,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x5c2a76){const _0x43e53f=_0x5c2a76 instanceof le?_0x5c2a76['id']:_0x5c2a76;this['_assetRefe'+'rence']['id']=_0x43e53f;}set['rootBone'](_0x3e3234){if(this['_rootBone']!==_0x3e3234){const _0x16c3be=typeof _0x3e3234=='string';if(this['_rootBone']&&_0x16c3be&&this['_rootBone']['getGuid']()===_0x3e3234)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x3e3234 instanceof De?this['_rootBone']=_0x3e3234:_0x16c3be?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x3e3234)||null,this['_rootBone']||v['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x20d57c=this['_meshInsta'+'nces'];if(_0x20d57c){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x5bd8d0=0xb9b+-0xf*-0xef+-0x199c;_0x5bd8d0<_0x20d57c['length'];_0x5bd8d0++)_0x20d57c[_0x5bd8d0]['destroy']();this['_meshInsta'+'nces']['length']=-0xcb9*-0x2+-0x194e*-0x1+0x3a0*-0xe;}}['addToLayer'+'s'](){const _0x16d0a5=this['system']['app']['scene']['layers'];for(let _0x4a9763=-0x3da+0x1*-0xe26+0x200*0x9;_0x4a9763<this['_layers']['length'];_0x4a9763++){const _0x13faf3=_0x16d0a5['getLayerBy'+'Id'](this['_layers'][_0x4a9763]);_0x13faf3&&_0x13faf3['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x192627=this['system']['app']['scene']['layers'];for(let _0x2fcdd4=-0x9d*-0x5+-0x1742+-0x6bb*-0x3;_0x2fcdd4<this['_layers']['length'];_0x2fcdd4++){const _0x50f9ad=_0x192627['getLayerBy'+'Id'](this['_layers'][_0x2fcdd4]);_0x50f9ad&&_0x50f9ad['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x5d2c8b=-0xaf2+-0x1123*-0x1+-0x631;_0x5d2c8b<this['_materialR'+'eferences']['length'];_0x5d2c8b++)this['_materialR'+'eferences'][_0x5d2c8b]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x4ad716,_0x53cf63){this['addToLayer'+'s'](),_0x4ad716['off']('add',this['onLayerAdd'+'ed'],this),_0x4ad716['off']('remove',this['onLayerRem'+'oved'],this),_0x53cf63['on']('add',this['onLayerAdd'+'ed'],this),_0x53cf63['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x54bdfa){this['layers']['indexOf'](_0x54bdfa['id'])<0x13eb*-0x1+0x953*0x1+0x1*0xa98||_0x54bdfa['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x313b23){this['layers']['indexOf'](_0x313b23['id'])<0x1*-0xdd9+-0xa67*0x1+0xc2*0x20||_0x313b23['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x49c8fe;const _0x5a9aaa=this['system']['app'],_0x3fc61a=_0x5a9aaa['scene'],_0x1530cf=_0x3fc61a['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x3fc61a['on']('set:layers',this['onLayersCh'+'anged'],this),_0x1530cf&&(this['_evtLayerA'+'dded']=_0x1530cf['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x1530cf['on']('remove',this['onLayerRem'+'oved'],this));const _0x2407b5=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x2407b5&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x1ebe1d=-0x1*-0x829+0x7*-0x23+-0x734;_0x1ebe1d<this['_materialR'+'eferences']['length'];_0x1ebe1d++)this['_materialR'+'eferences'][_0x1ebe1d]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x1ebe1d]['asset']);this['_batchGrou'+'pId']>=-0x1279+0xf57+0x322&&((_0x49c8fe=_0x5a9aaa['batcher'])==null||_0x49c8fe['insert'](et['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x7c402e,_0x44fe84,_0x1f6b02,_0x4db194;const _0x5bedd2=this['system']['app'],_0x1ddc53=_0x5bedd2['scene']['layers'];(_0x7c402e=this['_evtLayers'+'Changed'])==null||_0x7c402e['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x1ddc53&&((_0x44fe84=this['_evtLayerA'+'dded'])==null||_0x44fe84['off'](),this['_evtLayerA'+'dded']=null,(_0x1f6b02=this['_evtLayerR'+'emoved'])==null||_0x1f6b02['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x38b+-0x10*0x15e+0x1255*0x1&&((_0x4db194=_0x5bedd2['batcher'])==null||_0x4db194['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x507756=-0x21e0+0x2*-0x9f7+0x35ce;_0x507756<this['_meshInsta'+'nces']['length'];_0x507756++)this['_meshInsta'+'nces'][_0x507756]['visible']=!(0x5*-0x5d7+0x28a+0x2*0xd55);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x26fc1b=0x1*-0x139f+0x2f9*0xd+0x5*-0x3ce;_0x26fc1b<this['_meshInsta'+'nces']['length'];_0x26fc1b++)this['_meshInsta'+'nces'][_0x26fc1b]['visible']=!(0xc87+0x1bb*0xd+-0x2306);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x10b9a6;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x523aeb=this['_assetRefe'+'rence']['asset']['resource'];(_0x10b9a6=this['_evtSetMes'+'hes'])==null||_0x10b9a6['off'](),this['_evtSetMes'+'hes']=_0x523aeb['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x523aeb['meshes']&&this['_onSetMesh'+'es'](_0x523aeb['meshes']);}}['_onSetMesh'+'es'](_0x1eee45){this['_cloneMesh'+'es'](_0x1eee45);}['_clearSkin'+'Instances'](){for(let _0x578c9e=0x1*0xb79+-0x17d0+-0x1b*-0x75;_0x578c9e<this['_meshInsta'+'nces']['length'];_0x578c9e++){const _0x3e7a0e=this['_meshInsta'+'nces'][_0x578c9e];Vo['removeCach'+'edSkinInst'+'ance'](_0x3e7a0e['skinInstan'+'ce']),_0x3e7a0e['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof De)for(let _0x2a8794=0x2*0x599+0xcb+0x1*-0xbfd;_0x2a8794<this['_meshInsta'+'nces']['length'];_0x2a8794++){const _0x2914f4=this['_meshInsta'+'nces'][_0x2a8794],_0x4cdc53=_0x2914f4['mesh'];_0x4cdc53['skin']&&!_0x2914f4['skinInstan'+'ce']&&(_0x2914f4['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x4cdc53['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x4f10fc){if(_0x4f10fc&&_0x4f10fc['length']){const _0x3c8d70=[];for(let _0xf29f58=0x30b+0x6be*0x1+-0x9c9;_0xf29f58<_0x4f10fc['length'];_0xf29f58++){const _0x18e439=_0x4f10fc[_0xf29f58],_0x12845d=this['_materialR'+'eferences'][_0xf29f58]&&this['_materialR'+'eferences'][_0xf29f58]['asset']&&this['_materialR'+'eferences'][_0xf29f58]['asset']['resource'],_0x37342d=new Le(_0x18e439,_0x12845d||this['system']['defaultMat'+'erial'],this['entity']);_0x3c8d70['push'](_0x37342d),_0x18e439['morph']&&(_0x37342d['morphInsta'+'nce']=new fn(_0x18e439['morph']));}this['meshInstan'+'ces']=_0x3c8d70,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x104e1e;(_0x104e1e=this['_evtSetMes'+'hes'])==null||_0x104e1e['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x62f557,_0x3ef043,_0x52aabe){_0x52aabe['resource']?this['_onMateria'+'lLoad'](_0x62f557,_0x3ef043,_0x52aabe):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x52aabe);}['_updateMai'+'nMaterial'](_0x80975c,_0x3aa021){_0x80975c===-0x1412+0x12bf*0x2+-0x116c&&(this['material']=_0x3aa021);}['_onMateria'+'lLoad'](_0x50d78b,_0x4a8bbb,_0x557b4a){this['_meshInsta'+'nces'][_0x50d78b]&&(this['_meshInsta'+'nces'][_0x50d78b]['material']=_0x557b4a['resource']),this['_updateMai'+'nMaterial'](_0x50d78b,_0x557b4a['resource']);}['_onMateria'+'lRemove'](_0x5875f7,_0x441c44,_0x220557){this['_meshInsta'+'nces'][_0x5875f7]&&(this['_meshInsta'+'nces'][_0x5875f7]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x5875f7,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x12b86d,_0xdbecb4,_0x87f7a5){this['_meshInsta'+'nces'][_0x12b86d]&&(this['_meshInsta'+'nces'][_0x12b86d]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x12b86d,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2a4fbe,_0x4c9a6e){_0x2a4fbe['rootBone']&&(this['rootBone']=_0x4c9a6e[_0x2a4fbe['rootBone']['getGuid']()]);}}class uI{constructor(){this['enabled']=!(-0x7f3*0x4+0x301+0x1ccb);}}const pf=['enabled'],Mr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class fI extends Xe{constructor(_0x20ee23){super(_0x20ee23),this['id']='render',this['ComponentT'+'ype']=fx,this['DataType']=uI,this['schema']=pf,this['defaultMat'+'erial']=al(_0x20ee23['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x4c1f7c,_0x1b5f80,_0x4be2db){(_0x1b5f80['batchGroup'+'Id']===null||_0x1b5f80['batchGroup'+'Id']===void(-0xa5+-0xd*-0x15f+-0x112e))&&(_0x1b5f80['batchGroup'+'Id']=-(0x4e+-0x46e*-0x5+0x1673*-0x1)),_0x1b5f80['layers']&&_0x1b5f80['layers']['length']&&(_0x1b5f80['layers']=_0x1b5f80['layers']['slice'](-0x1e6b+0x2565+-0x6fa));for(let _0x2c6699=0x1*0xdd9+-0x127*0x1f+0x19*0xe0;_0x2c6699<Mr['length'];_0x2c6699++)_0x1b5f80['hasOwnProp'+'erty'](Mr[_0x2c6699])&&(_0x4c1f7c[Mr[_0x2c6699]]=_0x1b5f80[Mr[_0x2c6699]]);_0x1b5f80['aabbCenter']&&_0x1b5f80['aabbHalfEx'+'tents']&&(_0x4c1f7c['customAabb']=new _e(new T(_0x1b5f80['aabbCenter']),new T(_0x1b5f80['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x4c1f7c,_0x1b5f80,pf);}['cloneCompo'+'nent'](_0x4877e7,_0x5bbda5){const _0x544c1e={};for(let _0x50a953=0x2d2+-0x1359+0x1087;_0x50a953<Mr['length'];_0x50a953++)_0x544c1e[Mr[_0x50a953]]=_0x4877e7['render'][Mr[_0x50a953]];_0x544c1e['enabled']=_0x4877e7['render']['enabled'],delete _0x544c1e['meshInstan'+'ces'];const _0x6a5804=this['addCompone'+'nt'](_0x5bbda5,_0x544c1e),_0x4e6eba=_0x4877e7['render']['meshInstan'+'ces'],_0x557c8a=_0x4e6eba['map'](_0x5ac54e=>_0x5ac54e['mesh']);_0x6a5804['_onSetMesh'+'es'](_0x557c8a);for(let _0x5ae0c4=0xa67*0x1+-0x49d+-0x4e*0x13;_0x5ae0c4<_0x4e6eba['length'];_0x5ae0c4++)_0x6a5804['meshInstan'+'ces'][_0x5ae0c4]['material']=_0x4e6eba[_0x5ae0c4]['material'];return _0x4877e7['render']['customAabb']&&(_0x6a5804['customAabb']=_0x4877e7['render']['customAabb']['clone']()),_0x6a5804;}['onRemove'](_0x6144c,_0x4ce1cf){_0x4ce1cf['onRemove']();}}ue['_buildAcce'+'ssors'](fx['prototype'],pf);class Zd{constructor(_0x50b497,_0x2bdd6f){c(this,'_construct'+'or'),c(this,'_pool',[]),c(this,'_count',0x8c2*0x3+0x2*0x1177+-0x1*0x3d34),(this['_construct'+'or']=_0x50b497,this['_resize'](_0x2bdd6f));}['_resize'](_0x18a034){if(_0x18a034>this['_pool']['length']){for(let _0x262e1f=this['_pool']['length'];_0x262e1f<_0x18a034;_0x262e1f++)this['_pool'][_0x262e1f]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(0x1d*-0x91+0x148b+-0x41c)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=0x1f38+-0xd*0x25f+-0x65;}}let Vt,xe,gs,Wn;const pI=new se(),mI=new se(),Ql=new T();class Ws extends ue{constructor(){super(...arguments),c(this,'_angularDa'+'mping',-0x708+0x19*0x31+-0x17*-0x19),c(this,'_angularFa'+'ctor',new T(-0x2f*-0x10+-0x2*0x3cd+0xef*0x5,-0x10bb*-0x2+0x43*-0x4f+-0xcc8,0x7e2*0x1+-0xedd+0x6fc)),c(this,'_angularVe'+'locity',new T()),c(this,'_body',null),c(this,'_friction',-0x412*-0x9+-0x1f6c+0x1d*-0x2e+0.5),c(this,'_group',og),c(this,'_linearDam'+'ping',-0x1*0x541+0xc7f+-0x135*0x6),c(this,'_linearFac'+'tor',new T(0x9*-0x3ab+-0x211e+0x4222,0x2155+-0x9a0*-0x2+-0x1*0x3494,-0x2590+-0xa28+0x2fb9)),c(this,'_linearVel'+'ocity',new T()),c(this,'_mask',af),c(this,'_mass',-0x32d+-0x5*-0x2bd+-0xa83),c(this,'_restituti'+'on',-0x23d1+-0x124*0x1f+-0x13*-0x3bf),c(this,'_rollingFr'+'iction',-0xe*-0x1d0+-0x236a+0xa0a),c(this,'_simulatio'+'nEnabled',!(-0x874*-0x2+0x732+0x1*-0x1819)),c(this,'_type',so);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(Vt=new Ammo['btTransfor'+'m'](),xe=new Ammo['btVector3'](),gs=new Ammo['btVector3'](),Wn=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](Vt),Ammo['destroy'](xe),Ammo['destroy'](gs),Ammo['destroy'](Wn),Vt=null,xe=null,gs=null,Wn=null;}set['angularDam'+'ping'](_0x2f54f8){this['_angularDa'+'mping']!==_0x2f54f8&&(this['_angularDa'+'mping']=_0x2f54f8,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x2f54f8));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x33df26){this['_angularFa'+'ctor']['equals'](_0x33df26)||(this['_angularFa'+'ctor']['copy'](_0x33df26),this['_body']&&this['_type']===ms&&(xe['setValue'](_0x33df26['x'],_0x33df26['y'],_0x33df26['z']),this['_body']['setAngular'+'Factor'](xe)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x474ae4){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x474ae4['x'],_0x474ae4['y'],_0x474ae4['z']),this['_body']['setAngular'+'Velocity'](xe),this['_angularVe'+'locity']['copy'](_0x474ae4));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ms){const _0x2410b2=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x2410b2['x'](),_0x2410b2['y'](),_0x2410b2['z']());}return this['_angularVe'+'locity'];}set['body'](_0x288809){this['_body']!==_0x288809&&(this['_body']=_0x288809,_0x288809&&this['_simulatio'+'nEnabled']&&_0x288809['activate']());}get['body'](){return this['_body'];}set['friction'](_0x24330f){this['_friction']!==_0x24330f&&(this['_friction']=_0x24330f,this['_body']&&this['_body']['setFrictio'+'n'](_0x24330f));}get['friction'](){return this['_friction'];}set['group'](_0x10f7a4){this['_group']!==_0x10f7a4&&(this['_group']=_0x10f7a4,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x4e9613){this['_linearDam'+'ping']!==_0x4e9613&&(this['_linearDam'+'ping']=_0x4e9613,this['_body']&&this['_body']['setDamping'](_0x4e9613,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x5852e2){this['_linearFac'+'tor']['equals'](_0x5852e2)||(this['_linearFac'+'tor']['copy'](_0x5852e2),this['_body']&&this['_type']===ms&&(xe['setValue'](_0x5852e2['x'],_0x5852e2['y'],_0x5852e2['z']),this['_body']['setLinearF'+'actor'](xe)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x561ebd){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x561ebd['x'],_0x561ebd['y'],_0x561ebd['z']),this['_body']['setLinearV'+'elocity'](xe),this['_linearVel'+'ocity']['copy'](_0x561ebd));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ms){const _0x1637ff=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x1637ff['x'](),_0x1637ff['y'](),_0x1637ff['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x21e533){this['_mask']!==_0x21e533&&(this['_mask']=_0x21e533,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x3f3a4a){if(this['_mass']!==_0x3f3a4a&&(this['_mass']=_0x3f3a4a,this['_body']&&this['_type']===ms)){const _0x44f85e=this['enabled']&&this['entity']['enabled'];_0x44f85e&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x3f3a4a,xe),this['_body']['setMassPro'+'ps'](_0x3f3a4a,xe),this['_body']['updateIner'+'tiaTensor'](),_0x44f85e&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x387793){this['_restituti'+'on']!==_0x387793&&(this['_restituti'+'on']=_0x387793,this['_body']&&this['_body']['setRestitu'+'tion'](_0x387793));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x48ac5e){this['_rollingFr'+'iction']!==_0x48ac5e&&(this['_rollingFr'+'iction']=_0x48ac5e,this['_body']&&this['_body']['setRolling'+'Friction'](_0x48ac5e));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x1753ab){if(this['_type']!==_0x1753ab){switch(this['_type']=_0x1753ab,this['disableSim'+'ulation'](),_0x1753ab){case ms:this['_group']=tR,this['_mask']=hg;break;case Bn:this['_group']=sR,this['_mask']=hg;break;case so:default:this['_group']=og,this['_mask']=af;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x3400e3=this['entity'];let _0x11f927;if(_0x3400e3['collision']&&(_0x11f927=_0x3400e3['collision']['shape'],_0x3400e3['trigger']&&(_0x3400e3['trigger']['destroy'](),delete _0x3400e3['trigger'])),_0x11f927){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x5ecc15=this['_type']===ms?this['_mass']:-0x419+-0x18d*0x13+-0x219*-0x10;this['_getEntity'+'Transform'](Vt);const _0x2a2214=this['system']['createBody'](_0x5ecc15,_0x11f927,Vt);if(_0x2a2214['setRestitu'+'tion'](this['_restituti'+'on']),_0x2a2214['setFrictio'+'n'](this['_friction']),_0x2a2214['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x2a2214['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ms){const _0x2cf4c4=this['_linearFac'+'tor'];xe['setValue'](_0x2cf4c4['x'],_0x2cf4c4['y'],_0x2cf4c4['z']),_0x2a2214['setLinearF'+'actor'](xe);const _0x5ecfe2=this['_angularFa'+'ctor'];xe['setValue'](_0x5ecfe2['x'],_0x5ecfe2['y'],_0x5ecfe2['z']),_0x2a2214['setAngular'+'Factor'](xe);}else this['_type']===Bn&&(_0x2a2214['setCollisi'+'onFlags'](_0x2a2214['getCollisi'+'onFlags']()|eR),_0x2a2214['setActivat'+'ionState'](ag));_0x2a2214['entity']=_0x3400e3,this['body']=_0x2a2214,this['enabled']&&_0x3400e3['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(0x1f2f+-0x1e0d+-0x121);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0xdbcc6a=this['entity'];if(_0xdbcc6a['collision']&&_0xdbcc6a['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0xfb4cf0=this['_body'];if(_0xfb4cf0){switch(this['system']['addBody'](_0xfb4cf0,this['_group'],this['_mask']),this['_type']){case ms:this['system']['_dynamic']['push'](this),_0xfb4cf0['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;case Bn:this['system']['_kinematic']['push'](this),_0xfb4cf0['forceActiv'+'ationState'](ag);break;case so:_0xfb4cf0['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;}_0xdbcc6a['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0xdbcc6a['collision']),_0xfb4cf0['activate'](),this['_simulatio'+'nEnabled']=!(0x191d+-0x20f1+0x2*0x3ea);}}}['disableSim'+'ulation'](){const _0x1b92e9=this['_body'];if(_0x1b92e9&&this['_simulatio'+'nEnabled']){const _0x276445=this['system'];let _0x17aec6=_0x276445['_compounds']['indexOf'](this['entity']['collision']);_0x17aec6>-(0x16ea+0x167*-0x1+0x1*-0x1582)&&_0x276445['_compounds']['splice'](_0x17aec6,0x1407+0x17d3+0x8c5*-0x5),_0x17aec6=_0x276445['_dynamic']['indexOf'](this),_0x17aec6>-(0x1c79+0x252a+-0x41a2)&&_0x276445['_dynamic']['splice'](_0x17aec6,-0xd*0x263+0x2*-0xa1a+-0x88a*-0x6),_0x17aec6=_0x276445['_kinematic']['indexOf'](this),_0x17aec6>-(-0x2317*0x1+0x1278+0x10a0)&&_0x276445['_kinematic']['splice'](_0x17aec6,-0x1def*0x1+-0xcaf+0x1*0x2a9f),_0x276445['removeBody'](_0x1b92e9),_0x1b92e9['forceActiv'+'ationState'](tx),this['_simulatio'+'nEnabled']=!(-0x1ac9*-0x1+0x3a1*0x4+-0x294c);}}['applyForce'](_0x4dd58e,_0x25fdb5,_0x7477e0,_0x11068d,_0x471cdf,_0x1dc9b5){const _0x558235=this['_body'];_0x558235&&(_0x558235['activate'](),_0x4dd58e instanceof T?xe['setValue'](_0x4dd58e['x'],_0x4dd58e['y'],_0x4dd58e['z']):xe['setValue'](_0x4dd58e,_0x25fdb5,_0x7477e0),_0x25fdb5 instanceof T?gs['setValue'](_0x25fdb5['x'],_0x25fdb5['y'],_0x25fdb5['z']):_0x11068d!==void(-0x102e+0x5cb*0x3+-0x133)?gs['setValue'](_0x11068d,_0x471cdf,_0x1dc9b5):gs['setValue'](0xb*-0x9+-0x553*-0x5+-0x5c*0x49,0x1*-0x25b3+0x1d50+0x1*0x863,0x1*-0x295+0x1e48+0x1bb3*-0x1),_0x558235['applyForce'](xe,gs));}['applyTorqu'+'e'](_0x39ae95,_0x29e258,_0x4903c3){const _0x3ee4d5=this['_body'];_0x3ee4d5&&(_0x3ee4d5['activate'](),_0x39ae95 instanceof T?xe['setValue'](_0x39ae95['x'],_0x39ae95['y'],_0x39ae95['z']):xe['setValue'](_0x39ae95,_0x29e258,_0x4903c3),_0x3ee4d5['applyTorqu'+'e'](xe));}['applyImpul'+'se'](_0x2f6dbe,_0x1a5d9c,_0x42ba69,_0x4ce48e,_0x46178f,_0x6b7dc8){const _0x2d3398=this['_body'];_0x2d3398&&(_0x2d3398['activate'](),_0x2f6dbe instanceof T?xe['setValue'](_0x2f6dbe['x'],_0x2f6dbe['y'],_0x2f6dbe['z']):xe['setValue'](_0x2f6dbe,_0x1a5d9c,_0x42ba69),_0x1a5d9c instanceof T?gs['setValue'](_0x1a5d9c['x'],_0x1a5d9c['y'],_0x1a5d9c['z']):_0x4ce48e!==void(-0x2*0x1109+-0x11e*-0x20+-0x1ae)?gs['setValue'](_0x4ce48e,_0x46178f,_0x6b7dc8):gs['setValue'](-0x4*-0x1d+0xd*0xb0+-0x964,0x365*-0x1+0x1bad+-0x1c*0xde,0x1*-0x95f+0x1*0x271+-0x1*-0x6ee),_0x2d3398['applyImpul'+'se'](xe,gs));}['applyTorqu'+'eImpulse'](_0x3dee13,_0x14b506,_0x2728ff){const _0x22018a=this['_body'];_0x22018a&&(_0x22018a['activate'](),_0x3dee13 instanceof T?xe['setValue'](_0x3dee13['x'],_0x3dee13['y'],_0x3dee13['z']):xe['setValue'](_0x3dee13,_0x14b506,_0x2728ff),_0x22018a['applyTorqu'+'eImpulse'](xe));}['isStatic'](){return this['_type']===so;}['isStaticOr'+'Kinematic'](){return this['_type']===so||this['_type']===Bn;}['isKinemati'+'c'](){return this['_type']===Bn;}['_getEntity'+'Transform'](_0x4e173e){const _0xeea732=this['entity'],_0x54b9f8=_0xeea732['collision'];if(_0x54b9f8){const _0x1433f2=_0x54b9f8['getShapePo'+'sition'](),_0x1492fa=_0x54b9f8['getShapeRo'+'tation']();xe['setValue'](_0x1433f2['x'],_0x1433f2['y'],_0x1433f2['z']),Wn['setValue'](_0x1492fa['x'],_0x1492fa['y'],_0x1492fa['z'],_0x1492fa['w']);}else{const _0x168a1c=_0xeea732['getPositio'+'n'](),_0x565964=_0xeea732['getRotatio'+'n']();xe['setValue'](_0x168a1c['x'],_0x168a1c['y'],_0x168a1c['z']),Wn['setValue'](_0x565964['x'],_0x565964['y'],_0x565964['z'],_0x565964['w']);}_0x4e173e['setOrigin'](xe),_0x4e173e['setRotatio'+'n'](Wn);}['syncEntity'+'ToBody'](){const _0x4a1c4f=this['_body'];if(_0x4a1c4f){if(this['_getEntity'+'Transform'](Vt),_0x4a1c4f['setWorldTr'+'ansform'](Vt),this['_type']===Bn){const _0x12a359=_0x4a1c4f['getMotionS'+'tate']();_0x12a359&&_0x12a359['setWorldTr'+'ansform'](Vt);}_0x4a1c4f['activate']();}}['_updateDyn'+'amic'](){const _0x3bcdd8=this['_body'];if(_0x3bcdd8['isActive']()){const _0xe473d2=_0x3bcdd8['getMotionS'+'tate']();if(_0xe473d2){const _0x12b81f=this['entity'];_0xe473d2['getWorldTr'+'ansform'](Vt);const _0xb7b845=Vt['getOrigin'](),_0x4183a9=Vt['getRotatio'+'n'](),_0x14edcf=_0x12b81f['collision'];if(_0x14edcf&&_0x14edcf['_hasOffset']){const _0x35f205=_0x14edcf['data']['linearOffs'+'et'],_0x5d57e2=_0x14edcf['data']['angularOff'+'set'],_0x4c819f=mI['copy'](_0x5d57e2)['invert'](),_0x53627b=pI['set'](_0x4183a9['x'](),_0x4183a9['y'](),_0x4183a9['z'](),_0x4183a9['w']())['mul'](_0x4c819f);_0x53627b['transformV'+'ector'](_0x35f205,Ql),_0x12b81f['setPositio'+'n'](_0xb7b845['x']()-Ql['x'],_0xb7b845['y']()-Ql['y'],_0xb7b845['z']()-Ql['z']),_0x12b81f['setRotatio'+'n'](_0x53627b);}else _0x12b81f['setPositio'+'n'](_0xb7b845['x'](),_0xb7b845['y'](),_0xb7b845['z']()),_0x12b81f['setRotatio'+'n'](_0x4183a9['x'](),_0x4183a9['y'](),_0x4183a9['z'](),_0x4183a9['w']());}}}['_updateKin'+'ematic'](){const _0x5ea71f=this['_body']['getMotionS'+'tate']();_0x5ea71f&&(this['_getEntity'+'Transform'](Vt),_0x5ea71f['setWorldTr'+'ansform'](Vt));}['teleport'](_0x1451f2,_0x2d1655,_0x2aa1c5,_0x520b98,_0xbe0bce,_0x3d329d){_0x1451f2 instanceof T?this['entity']['setPositio'+'n'](_0x1451f2):this['entity']['setPositio'+'n'](_0x1451f2,_0x2d1655,_0x2aa1c5),_0x2d1655 instanceof se?this['entity']['setRotatio'+'n'](_0x2d1655):_0x2d1655 instanceof T?this['entity']['setEulerAn'+'gles'](_0x2d1655):_0x520b98!==void(-0x1aee+0xf9b+0xb53)&&this['entity']['setEulerAn'+'gles'](_0x520b98,_0xbe0bce,_0x3d329d),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}c(Ws,'EVENT_CONT'+'ACT','contact'),c(Ws,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Ws,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Ws,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Ws,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),c(Ws,'order',-(-0x140d+0x1*0x149f+-0x91));class _I{constructor(){this['enabled']=!(0x21f+0x19ed*-0x1+0x17ce*0x1);}}let ai,oi;class xg{constructor(_0x343964,_0x4e13b0,_0x42d531,_0x1d1e44){c(this,'entity'),c(this,'point'),c(this,'normal'),c(this,'hitFractio'+'n'),(this['entity']=_0x343964,this['point']=_0x4e13b0,this['normal']=_0x42d531,this['hitFractio'+'n']=_0x1d1e44);}}class gI{constructor(_0x5a3706,_0x11f771,_0x5b1778){c(this,'a'),c(this,'b'),c(this,'impulse'),c(this,'localPoint'+'A'),c(this,'localPoint'+'B'),c(this,'pointA'),c(this,'pointB'),c(this,'normal'),arguments['length']!==0x1a3f+0xf7b+0x14dd*-0x2?(this['a']=_0x5a3706,this['b']=_0x11f771,this['impulse']=_0x5b1778['impulse'],this['localPoint'+'A']=_0x5b1778['localPoint'],this['localPoint'+'B']=_0x5b1778['localPoint'+'Other'],this['pointA']=_0x5b1778['point'],this['pointB']=_0x5b1778['pointOther'],this['normal']=_0x5b1778['normal']):(this['a']=null,this['b']=null,this['impulse']=0xb74*0x2+0x1f71+-0x3659,this['localPoint'+'A']=new T(),this['localPoint'+'B']=new T(),this['pointA']=new T(),this['pointB']=new T(),this['normal']=new T());}}class yI{constructor(_0x50545d=new T(),_0x27f8cb=new T(),_0x3315c5=new T(),_0xab4664=new T(),_0x18f88f=new T(),_0x4274ff=0x1512+-0x7*-0x49a+-0x3548){c(this,'localPoint'),c(this,'localPoint'+'Other'),c(this,'point'),c(this,'pointOther'),c(this,'normal'),c(this,'impulse'),(this['localPoint']=_0x50545d,this['localPoint'+'Other']=_0x27f8cb,this['point']=_0x3315c5,this['pointOther']=_0xab4664,this['normal']=_0x18f88f,this['impulse']=_0x4274ff);}}class xI{constructor(_0x49d58b,_0x52bdb3){c(this,'other'),c(this,'contacts'),(this['other']=_0x49d58b,this['contacts']=_0x52bdb3);}}const px=['enabled'];class mx extends Xe{constructor(_0x390e74){super(_0x390e74),c(this,'maxSubStep'+'s',-0xf*0x1df+0x22*-0xf1+0x3c1d),c(this,'fixedTimeS'+'tep',(-0x67*-0x13+-0xc5*-0x20+-0x33a*0xa)/(0x1*0x5e7+-0x4e9*0x2+0x1*0x427)),c(this,'gravity',new T(-0x2007*0x1+0xd9*-0x2b+0x223d*0x2,-(0x25*0x49+-0x23ad+-0x39*-0x71+0.8100000000000005),-0x16d6+-0x1*0x1a06+0x30dc)),c(this,'_gravityFl'+'oat32',new Float32Array(-0xd*-0x29b+-0x4f4*-0x3+-0x30b8)),c(this,'_dynamic',[]),c(this,'_kinematic',[]),c(this,'_triggers',[]),c(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x390e74['stats']['frame'],this['ComponentT'+'ype']=Ws,this['DataType']=_I,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=px,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0xe8ed06=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0xe8ed06);}else v['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');ai=new Ammo['btVector3'](),oi=new Ammo['btVector3'](),Ws['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new Zd(yI,-0x1e12*0x1+0x65b+0x17b8),this['contactRes'+'ultPool']=new Zd(xI,-0x1*0xf6a+-0x1e5f*0x1+-0x16e5*-0x2),this['singleCont'+'actResultP'+'ool']=new Zd(gI,0x104a+0xe36+-0x1e7f),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x441fde,_0x24e5be,_0x4fb927){const _0x426efe=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x547795 of _0x426efe)if(_0x24e5be['hasOwnProp'+'erty'](_0x547795)){const _0x58db66=_0x24e5be[_0x547795];Array['isArray'](_0x58db66)?_0x441fde[_0x547795]=new T(_0x58db66[0x21f5*0x1+0x77e+-0x2973],_0x58db66[0x23f8+-0x214e+-0x2a9*0x1],_0x58db66[0x5f3*-0x4+0x1f4b+-0x3*0x27f]):_0x441fde[_0x547795]=_0x58db66;}super['initialize'+'ComponentD'+'ata'](_0x441fde,_0x24e5be,['enabled']);}['cloneCompo'+'nent'](_0x129040,_0x3d0e93){const _0x862077=_0x129040['rigidbody'],_0x5246cb={'enabled':_0x862077['enabled'],'mass':_0x862077['mass'],'linearDamping':_0x862077['linearDamp'+'ing'],'angularDamping':_0x862077['angularDam'+'ping'],'linearFactor':[_0x862077['linearFact'+'or']['x'],_0x862077['linearFact'+'or']['y'],_0x862077['linearFact'+'or']['z']],'angularFactor':[_0x862077['angularFac'+'tor']['x'],_0x862077['angularFac'+'tor']['y'],_0x862077['angularFac'+'tor']['z']],'friction':_0x862077['friction'],'rollingFriction':_0x862077['rollingFri'+'ction'],'restitution':_0x862077['restitutio'+'n'],'type':_0x862077['type'],'group':_0x862077['group'],'mask':_0x862077['mask']};return this['addCompone'+'nt'](_0x3d0e93,_0x5246cb);}['onBeforeRe'+'move'](_0x9e8818,_0x57c535){_0x57c535['enabled']&&(_0x57c535['enabled']=!(0x1a40+0x5*0x766+-0x3f3d)),_0x57c535['body']&&(this['destroyBod'+'y'](_0x57c535['body']),_0x57c535['body']=null);}['addBody'](_0x59148d,_0x25d850,_0x29556b){_0x25d850!==void(-0x349*0x3+0x2*0x1d2+0x637)&&_0x29556b!==void(0x26f*-0x9+0x6ee+-0x1*-0xef9)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x59148d,_0x25d850,_0x29556b):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x59148d);}['removeBody'](_0x4ff0d7){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x4ff0d7);}['createBody'](_0x89586f,_0x1828e2,_0x4abd45){const _0x1c4592=new Ammo['btVector3'](-0x2565+-0x2638+0x4b9d,0x5d8*0x3+0xeb2*0x1+-0x3*0xabe,-0x1*0x1473+-0x322+0x1795);_0x89586f!==-0x75f*-0x3+0x4*-0x50b+0x1f1*-0x1&&_0x1828e2['calculateL'+'ocalInerti'+'a'](_0x89586f,_0x1c4592);const _0x31afcf=new Ammo['btDefaultM'+'otionState'](_0x4abd45),_0x3e13d0=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x89586f,_0x31afcf,_0x1828e2,_0x1c4592),_0x4f728f=new Ammo['btRigidBod'+'y'](_0x3e13d0);return Ammo['destroy'](_0x3e13d0),Ammo['destroy'](_0x1c4592),_0x4f728f;}['destroyBod'+'y'](_0x455eca){const _0x181023=_0x455eca['getMotionS'+'tate']();_0x181023&&Ammo['destroy'](_0x181023),Ammo['destroy'](_0x455eca);}['raycastFir'+'st'](_0x33c195,_0x50d389,_0x4cd512={}){if(_0x4cd512['filterTags']||_0x4cd512['filterCall'+'back'])return _0x4cd512['sort']=!(0x2385+0x16f2+-0x3a77),this['raycastAll'](_0x33c195,_0x50d389,_0x4cd512)[0x601+0xf35+0x1*-0x1536]||null;let _0x54ea64=null;ai['setValue'](_0x33c195['x'],_0x33c195['y'],_0x33c195['z']),oi['setValue'](_0x50d389['x'],_0x50d389['y'],_0x50d389['z']);const _0x357cc0=new Ammo['ClosestRay'+'ResultCall'+'back'](ai,oi);if(typeof _0x4cd512['filterColl'+'isionGroup']=='number'&&_0x357cc0['set_m_coll'+'isionFilte'+'rGroup'](_0x4cd512['filterColl'+'isionGroup']),typeof _0x4cd512['filterColl'+'isionMask']=='number'&&_0x357cc0['set_m_coll'+'isionFilte'+'rMask'](_0x4cd512['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x357cc0),_0x357cc0['hasHit']()){const _0xbdfcf9=_0x357cc0['get_m_coll'+'isionObjec'+'t'](),_0x3df58c=Ammo['castObject'](_0xbdfcf9,Ammo['btRigidBod'+'y']);if(_0x3df58c){const _0x44fcbb=_0x357cc0['get_m_hitP'+'ointWorld'](),_0x18ad9d=_0x357cc0['get_m_hitN'+'ormalWorld']();_0x54ea64=new xg(_0x3df58c['entity'],new T(_0x44fcbb['x'](),_0x44fcbb['y'](),_0x44fcbb['z']()),new T(_0x18ad9d['x'](),_0x18ad9d['y'](),_0x18ad9d['z']()),_0x357cc0['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x357cc0),_0x54ea64;}['raycastAll'](_0x55f2e2,_0x27739a,_0xf7101f={}){v['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x36a69e=[];ai['setValue'](_0x55f2e2['x'],_0x55f2e2['y'],_0x55f2e2['z']),oi['setValue'](_0x27739a['x'],_0x27739a['y'],_0x27739a['z']);const _0x34cb74=new Ammo['AllHitsRay'+'ResultCall'+'back'](ai,oi);if(typeof _0xf7101f['filterColl'+'isionGroup']=='number'&&_0x34cb74['set_m_coll'+'isionFilte'+'rGroup'](_0xf7101f['filterColl'+'isionGroup']),typeof _0xf7101f['filterColl'+'isionMask']=='number'&&_0x34cb74['set_m_coll'+'isionFilte'+'rMask'](_0xf7101f['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x34cb74),_0x34cb74['hasHit']()){const _0x5c653c=_0x34cb74['get_m_coll'+'isionObjec'+'ts'](),_0x5e4111=_0x34cb74['get_m_hitP'+'ointWorld'](),_0x1b7c85=_0x34cb74['get_m_hitN'+'ormalWorld'](),_0x1cd180=_0x34cb74['get_m_hitF'+'ractions'](),_0x24fa42=_0x5c653c['size']();for(let _0x3a5ba5=0x62+0x9de+-0xa40;_0x3a5ba5<_0x24fa42;_0x3a5ba5++){const _0xaeb0b6=Ammo['castObject'](_0x5c653c['at'](_0x3a5ba5),Ammo['btRigidBod'+'y']);if(_0xaeb0b6&&_0xaeb0b6['entity']){if(_0xf7101f['filterTags']&&!_0xaeb0b6['entity']['tags']['has'](..._0xf7101f['filterTags'])||_0xf7101f['filterCall'+'back']&&!_0xf7101f['filterCall'+'back'](_0xaeb0b6['entity']))continue;const _0x1757ac=_0x5e4111['at'](_0x3a5ba5),_0x179c07=_0x1b7c85['at'](_0x3a5ba5),_0x3e0bcb=new xg(_0xaeb0b6['entity'],new T(_0x1757ac['x'](),_0x1757ac['y'](),_0x1757ac['z']()),new T(_0x179c07['x'](),_0x179c07['y'](),_0x179c07['z']()),_0x1cd180['at'](_0x3a5ba5));_0x36a69e['push'](_0x3e0bcb);}}_0xf7101f['sort']&&_0x36a69e['sort']((_0x91e33a,_0x4979b2)=>_0x91e33a['hitFractio'+'n']-_0x4979b2['hitFractio'+'n']);}return Ammo['destroy'](_0x34cb74),_0x36a69e;}['_storeColl'+'ision'](_0x4bdfea,_0x54e3d9){let _0x5960cf=!(0x904*-0x2+-0x243f+0x6c9*0x8);const _0x39cc06=_0x4bdfea['getGuid']();return this['collisions'][_0x39cc06]=this['collisions'][_0x39cc06]||{'others':[],'entity':_0x4bdfea},this['collisions'][_0x39cc06]['others']['indexOf'](_0x54e3d9)<-0x127e+-0x12f7+0x2575&&(this['collisions'][_0x39cc06]['others']['push'](_0x54e3d9),_0x5960cf=!(0x1*0x1261+-0x1*-0x1e2f+-0x3090)),this['frameColli'+'sions'][_0x39cc06]=this['frameColli'+'sions'][_0x39cc06]||{'others':[],'entity':_0x4bdfea},this['frameColli'+'sions'][_0x39cc06]['others']['push'](_0x54e3d9),_0x5960cf;}['_createCon'+'tactPointF'+'romAmmo'](_0x4893cc){const _0x1d7417=_0x4893cc['get_m_loca'+'lPointA'](),_0x4907c1=_0x4893cc['get_m_loca'+'lPointB'](),_0x5cbef2=_0x4893cc['getPositio'+'nWorldOnA'](),_0x32375b=_0x4893cc['getPositio'+'nWorldOnB'](),_0x3d803e=_0x4893cc['get_m_norm'+'alWorldOnB'](),_0x23fafd=this['contactPoi'+'ntPool']['allocate']();return _0x23fafd['localPoint']['set'](_0x1d7417['x'](),_0x1d7417['y'](),_0x1d7417['z']()),_0x23fafd['localPoint'+'Other']['set'](_0x4907c1['x'](),_0x4907c1['y'](),_0x4907c1['z']()),_0x23fafd['point']['set'](_0x5cbef2['x'](),_0x5cbef2['y'](),_0x5cbef2['z']()),_0x23fafd['pointOther']['set'](_0x32375b['x'](),_0x32375b['y'](),_0x32375b['z']()),_0x23fafd['normal']['set'](_0x3d803e['x'](),_0x3d803e['y'](),_0x3d803e['z']()),_0x23fafd['impulse']=_0x4893cc['getApplied'+'Impulse'](),_0x23fafd;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x5d7a61){const _0x2e3a93=_0x5d7a61['get_m_loca'+'lPointA'](),_0x2bb787=_0x5d7a61['get_m_loca'+'lPointB'](),_0x4a6389=_0x5d7a61['getPositio'+'nWorldOnA'](),_0x4e0b0e=_0x5d7a61['getPositio'+'nWorldOnB'](),_0x217d5f=_0x5d7a61['get_m_norm'+'alWorldOnB'](),_0x343d23=this['contactPoi'+'ntPool']['allocate']();return _0x343d23['localPoint'+'Other']['set'](_0x2e3a93['x'](),_0x2e3a93['y'](),_0x2e3a93['z']()),_0x343d23['localPoint']['set'](_0x2bb787['x'](),_0x2bb787['y'](),_0x2bb787['z']()),_0x343d23['pointOther']['set'](_0x4a6389['x'](),_0x4a6389['y'](),_0x4a6389['z']()),_0x343d23['point']['set'](_0x4e0b0e['x'](),_0x4e0b0e['y'](),_0x4e0b0e['z']()),_0x343d23['normal']['set'](_0x217d5f['x'](),_0x217d5f['y'](),_0x217d5f['z']()),_0x343d23['impulse']=_0x5d7a61['getApplied'+'Impulse'](),_0x343d23;}['_createSin'+'gleContact'+'Result'](_0x400938,_0x1c43cc,_0x408629){const _0x213059=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x213059['a']=_0x400938,_0x213059['b']=_0x1c43cc,_0x213059['localPoint'+'A']=_0x408629['localPoint'],_0x213059['localPoint'+'B']=_0x408629['localPoint'+'Other'],_0x213059['pointA']=_0x408629['point'],_0x213059['pointB']=_0x408629['pointOther'],_0x213059['normal']=_0x408629['normal'],_0x213059['impulse']=_0x408629['impulse'],_0x213059;}['_createCon'+'tactResult'](_0x43f65e,_0x2f7b3e){const _0x8d01b2=this['contactRes'+'ultPool']['allocate']();return _0x8d01b2['other']=_0x43f65e,_0x8d01b2['contacts']=_0x2f7b3e,_0x8d01b2;}['_cleanOldC'+'ollisions'](){for(const _0x1494ff in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x1494ff)){const _0x4a14c8=this['frameColli'+'sions'][_0x1494ff],_0x183517=this['collisions'][_0x1494ff],_0x2f9587=_0x183517['entity'],_0x1726cb=_0x2f9587['collision'],_0x453ff7=_0x2f9587['rigidbody'],_0x378b89=_0x183517['others'];let _0x6c8d88=_0x378b89['length'];for(;_0x6c8d88--;){const _0x34bca6=_0x378b89[_0x6c8d88];(!_0x4a14c8||_0x4a14c8['others']['indexOf'](_0x34bca6)<0x1*0x2681+-0xd7*-0x5+-0x4*0xaad)&&(_0x378b89['splice'](_0x6c8d88,-0x76*0x12+-0xb*-0x2f1+-0x180e),_0x2f9587['trigger']?(_0x1726cb&&_0x1726cb['fire']('triggerlea'+'ve',_0x34bca6),_0x34bca6['rigidbody']&&_0x34bca6['rigidbody']['fire']('triggerlea'+'ve',_0x2f9587)):_0x34bca6['trigger']||(_0x453ff7&&_0x453ff7['fire']('collisione'+'nd',_0x34bca6),_0x1726cb&&_0x1726cb['fire']('collisione'+'nd',_0x34bca6)));}_0x378b89['length']===-0x115+0x8bb+-0xb2*0xb&&delete this['collisions'][_0x1494ff];}}['_hasContac'+'tEvent'](_0x3f0f4f){const _0x212446=_0x3f0f4f['collision'];if(_0x212446&&(_0x212446['hasEvent']('collisions'+'tart')||_0x212446['hasEvent']('collisione'+'nd')||_0x212446['hasEvent']('contact')))return!(-0x1*0x1cfb+-0x2327+-0x4022*-0x1);const _0xf06c81=_0x3f0f4f['rigidbody'];return _0xf06c81&&(_0xf06c81['hasEvent']('collisions'+'tart')||_0xf06c81['hasEvent']('collisione'+'nd')||_0xf06c81['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x2e2b97,_0x4b8f96){const _0x50943a=Ammo['wrapPointe'+'r'](_0x2e2b97,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x17fbbd=_0x50943a['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x6e1329=-0x18be+0x2*0x389+-0x46b*-0x4;_0x6e1329<_0x17fbbd;_0x6e1329++){const _0x4a1239=_0x50943a['getManifol'+'dByIndexIn'+'ternal'](_0x6e1329),_0x36be83=_0x4a1239['getBody0'](),_0x499f30=_0x4a1239['getBody1'](),_0x362c09=Ammo['castObject'](_0x36be83,Ammo['btRigidBod'+'y']),_0x4d5862=Ammo['castObject'](_0x499f30,Ammo['btRigidBod'+'y']),_0x5b3114=_0x362c09['entity'],_0x5c1995=_0x4d5862['entity'];if(!_0x5b3114||!_0x5c1995)continue;const _0x40bcc1=_0x362c09['getCollisi'+'onFlags'](),_0x19d9cd=_0x4d5862['getCollisi'+'onFlags'](),_0x2f43fb=_0x4a1239['getNumCont'+'acts'](),_0x2f2e2a=[],_0x20813f=[];let _0x1d969f;if(_0x2f43fb>-0x53*-0x1+0x2db*-0xb+0x1f16){if(_0x40bcc1&lo||_0x19d9cd&lo){const _0x12eb7c=_0x5b3114['collision']&&(_0x5b3114['collision']['hasEvent']('triggerent'+'er')||_0x5b3114['collision']['hasEvent']('triggerlea'+'ve')),_0x45d9e3=_0x5c1995['collision']&&(_0x5c1995['collision']['hasEvent']('triggerent'+'er')||_0x5c1995['collision']['hasEvent']('triggerlea'+'ve')),_0x2ccb5a=_0x5b3114['rigidbody']&&(_0x5b3114['rigidbody']['hasEvent']('triggerent'+'er')||_0x5b3114['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x554c06=_0x5c1995['rigidbody']&&(_0x5c1995['rigidbody']['hasEvent']('triggerent'+'er')||_0x5c1995['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x12eb7c&&(_0x1d969f=this['_storeColl'+'ision'](_0x5b3114,_0x5c1995),_0x1d969f&&!(_0x19d9cd&lo)&&_0x5b3114['collision']['fire']('triggerent'+'er',_0x5c1995)),_0x45d9e3&&(_0x1d969f=this['_storeColl'+'ision'](_0x5c1995,_0x5b3114),_0x1d969f&&!(_0x40bcc1&lo)&&_0x5c1995['collision']['fire']('triggerent'+'er',_0x5b3114)),_0x2ccb5a&&(_0x1d969f||(_0x1d969f=this['_storeColl'+'ision'](_0x5c1995,_0x5b3114)),_0x1d969f&&_0x5b3114['rigidbody']['fire']('triggerent'+'er',_0x5c1995)),_0x554c06&&(_0x1d969f||(_0x1d969f=this['_storeColl'+'ision'](_0x5b3114,_0x5c1995)),_0x1d969f&&_0x5c1995['rigidbody']['fire']('triggerent'+'er',_0x5b3114));}else{const _0x302b18=this['_hasContac'+'tEvent'](_0x5b3114),_0x4d7037=this['_hasContac'+'tEvent'](_0x5c1995),_0x51d209=this['hasEvent']('contact');if(_0x51d209||_0x302b18||_0x4d7037){for(let _0xd81c92=-0x9d9+0x72e*0x1+0x1*0x2ab;_0xd81c92<_0x2f43fb;_0xd81c92++){const _0x4aec3c=_0x4a1239['getContact'+'Point'](_0xd81c92),_0x2234a1=this['_createCon'+'tactPointF'+'romAmmo'](_0x4aec3c);if(_0x302b18||_0x4d7037){_0x2f2e2a['push'](_0x2234a1);const _0x4715ce=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x4aec3c);_0x20813f['push'](_0x4715ce);}if(_0x51d209){const _0x5b8428=this['_createSin'+'gleContact'+'Result'](_0x5b3114,_0x5c1995,_0x2234a1);this['fire']('contact',_0x5b8428);}}if(_0x302b18){const _0x3f15ee=this['_createCon'+'tactResult'](_0x5c1995,_0x2f2e2a);_0x1d969f=this['_storeColl'+'ision'](_0x5b3114,_0x5c1995),_0x5b3114['collision']&&(_0x5b3114['collision']['fire']('contact',_0x3f15ee),_0x1d969f&&_0x5b3114['collision']['fire']('collisions'+'tart',_0x3f15ee)),_0x5b3114['rigidbody']&&(_0x5b3114['rigidbody']['fire']('contact',_0x3f15ee),_0x1d969f&&_0x5b3114['rigidbody']['fire']('collisions'+'tart',_0x3f15ee));}if(_0x4d7037){const _0x337c16=this['_createCon'+'tactResult'](_0x5b3114,_0x20813f);_0x1d969f=this['_storeColl'+'ision'](_0x5c1995,_0x5b3114),_0x5c1995['collision']&&(_0x5c1995['collision']['fire']('contact',_0x337c16),_0x1d969f&&_0x5c1995['collision']['fire']('collisions'+'tart',_0x337c16)),_0x5c1995['rigidbody']&&(_0x5c1995['rigidbody']['fire']('contact',_0x337c16),_0x1d969f&&_0x5c1995['rigidbody']['fire']('collisions'+'tart',_0x337c16));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x572b58){let _0x542a0e,_0x413d10;this['_stats']['physicsSta'+'rt']=ne(),this['_gravityFl'+'oat32'][-0x653*-0x1+-0x1f7a+-0x2f*-0x89]=this['gravity']['x'],this['_gravityFl'+'oat32'][0x218d*0x1+-0x6e3+-0x1aa9]=this['gravity']['y'],this['_gravityFl'+'oat32'][-0x26d*-0x7+-0x2b*-0x7+-0x1226]=this['gravity']['z'];const _0x1e0dc0=this['dynamicsWo'+'rld']['getGravity']();(_0x1e0dc0['x']()!==this['_gravityFl'+'oat32'][0x990+-0x2*-0x9fd+-0x1d8a]||_0x1e0dc0['y']()!==this['_gravityFl'+'oat32'][-0x209*0x4+-0x172a+0x1f4f*0x1]||_0x1e0dc0['z']()!==this['_gravityFl'+'oat32'][-0x1312+0x21ff+0x4f9*-0x3])&&(_0x1e0dc0['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x1e0dc0));const _0x16c304=this['_triggers'];for(_0x542a0e=-0xb0c+-0x8d3+-0x1*-0x13df,_0x413d10=_0x16c304['length'];_0x542a0e<_0x413d10;_0x542a0e++)_0x16c304[_0x542a0e]['updateTran'+'sform']();const _0x12c491=this['_compounds'];for(_0x542a0e=0x2*-0x7d5+0xf11*-0x1+-0x1ebb*-0x1,_0x413d10=_0x12c491['length'];_0x542a0e<_0x413d10;_0x542a0e++)_0x12c491[_0x542a0e]['_updateCom'+'pound']();const _0x3a301d=this['_kinematic'];for(_0x542a0e=0xed1*-0x2+-0x1*-0x14bf+-0x1*-0x8e3,_0x413d10=_0x3a301d['length'];_0x542a0e<_0x413d10;_0x542a0e++)_0x3a301d[_0x542a0e]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x572b58,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x20205e=this['_dynamic'];for(_0x542a0e=0x10b*-0x3+0x241*0x8+-0xee7,_0x413d10=_0x20205e['length'];_0x542a0e<_0x413d10;_0x542a0e++)_0x20205e[_0x542a0e]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x572b58),this['_stats']['physicsTim'+'e']=ne()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](ai),Ammo['destroy'](oi),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,ai=null,oi=null,Ws['onAppDestr'+'oy']());}}c(mx,'EVENT_CONT'+'ACT','contact'),ue['_buildAcce'+'ssors'](Ws['prototype'],px);const $n='none',SI='blend',Sg=new q();class _x extends ue{constructor(_0x4e7d76,_0x2d6ca1){super(_0x4e7d76,_0x2d6ca1),this['_resolutio'+'n']=new W(-0x1d7f+0x1*0x2209+-0x20a,-0x1c8d+-0x217d+0x3f4a),this['_reference'+'Resolution']=new W(-0x23c8+-0x1069*0x1+0x36b1,0x1099+0x1*0x187b+-0x27d4),this['_scaleMode']=$n,this['scale']=0x1*0xb29+0x21e+-0xd46,this['_scaleBlen'+'d']=0xd73+-0x573+-0x800+0.5,this['_priority']=-0xd*-0x1bf+0x533*-0x5+0x34c,this['_screenSpa'+'ce']=!(-0x23cd+-0x144f*0x1+-0x381d*-0x1),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new q(),this['_elements']=new Set(),_0x4e7d76['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x1c1208,_0x5202c1){var _0x18deca;if(!(_0x1c1208 instanceof We))return _0x5202c1;if(_0x1c1208['element']){const _0x4296eb=_0x1c1208['element']['drawOrder'];_0x1c1208['element']['drawOrder']=_0x5202c1++,_0x1c1208['element']['_batchGrou'+'pId']>=0x2*-0xb38+0x22*-0x83+0x2*0x13eb&&_0x4296eb!==_0x1c1208['element']['drawOrder']&&((_0x18deca=this['system']['app']['batcher'])==null||_0x18deca['markGroupD'+'irty'](_0x1c1208['element']['_batchGrou'+'pId']));}_0x1c1208['particlesy'+'stem']&&(_0x1c1208['particlesy'+'stem']['drawOrder']=_0x5202c1++);const _0x122283=_0x1c1208['children'];for(let _0x553d8d=0x1*-0xc43+0x2202+-0x15bf;_0x553d8d<_0x122283['length'];_0x553d8d++)_0x5202c1=this['_recurseDr'+'awOrderSyn'+'c'](_0x122283[_0x553d8d],_0x5202c1);return _0x5202c1;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],0x1c9*0x11+-0x25cd+0x775),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0xf9ae6f=this['_resolutio'+'n']['x']/this['scale'],_0x3e6268=this['_resolutio'+'n']['y']/this['scale'],_0x3ae94d=0xd53+0x1*0x1031+0x1*-0x1d84,_0x23a6c2=_0xf9ae6f,_0x2aa8c4=-_0x3e6268;this['_screenMat'+'rix']['setOrtho'](_0x3ae94d,_0x23a6c2,_0x2aa8c4,0x1c33+-0x14ee+-0x745,-0x1*0xb75+-0x63*0x35+-0xaa7*-0x3,-(0x35*-0x11+0xeb2+-0xa*0x11e)),this['_screenSpa'+'ce']||(Sg['setScale']((-0x5*0x773+-0x2476+0x49b5+0.5)*_0xf9ae6f,(-0x180+0xc09*0x3+-0x1*0x229b+0.5)*_0x3e6268,0x66*-0x3e+0x1*0x1e2+0x16d3*0x1),this['_screenMat'+'rix']['mul2'](Sg,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x4ac30e,_0x1ec72e){const _0x3a08e3=Math['log2']((_0x4ac30e['x']||-0x66a+-0x1c1b+-0x1*-0x2286)/_0x1ec72e['x']),_0xd2f249=Math['log2']((_0x4ac30e['y']||0x25a4+0x113a+-0x36dd)/_0x1ec72e['y']);return Math['pow'](-0x2068+-0x16e*-0xd+-0x1*-0xdd4,_0x3a08e3*(-0x8b*-0x2f+0x1ec3+-0x3847-this['_scaleBlen'+'d'])+_0xd2f249*this['_scaleBlen'+'d']);}['_onResize'](_0x3f40f4,_0x3c3287){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x3f40f4,_0x3c3287),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x1f4bba){this['_elements']['add'](_0x1f4bba);}['_unbindEle'+'ment'](_0x2bf118){this['_elements']['delete'](_0x2bf118);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x275df1=>_0x275df1['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x57dc3d){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x57dc3d['x'],_0x57dc3d['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x2003b4=>_0x2003b4['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x397075){this['_reference'+'Resolution']['set'](_0x397075['x'],_0x397075['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x335938=>_0x335938['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===$n?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x43c7ad){this['_screenSpa'+'ce']=_0x43c7ad,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x7f6fde=>_0x7f6fde['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x47e575){_0x47e575!==$n&&_0x47e575!==SI&&(_0x47e575=$n),!this['_screenSpa'+'ce']&&_0x47e575!==$n&&(_0x47e575=$n),this['_scaleMode']=_0x47e575,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x416cb1){this['_scaleBlen'+'d']=_0x416cb1,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x58b9af=>_0x58b9af['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x12ed5b){_0x12ed5b>-0x10c0+-0x12ac+-0x246b*-0x1&&(v['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x12ed5b+'\x20to\x20255'),_0x12ed5b=-0x23ed+0x17*0x6f+0x1*0x1af3),this['_priority']!==_0x12ed5b&&(this['_priority']=_0x12ed5b,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class vI{constructor(){this['enabled']=!(0x2710+0x52*0x2b+0x34d6*-0x1);}}const mf=['enabled'];class bI extends Xe{constructor(_0xebd51a){super(_0xebd51a),this['id']='screen',this['ComponentT'+'ype']=_x,this['DataType']=vI,this['schema']=mf,this['windowReso'+'lution']=new W(),this['_drawOrder'+'SyncQueue']=new _S(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0xd9eb54,_0x5e7fd7,_0x30dfd7){_0x5e7fd7['priority']!==void(-0x75b+-0x130a+0x1a65)&&(_0xd9eb54['priority']=_0x5e7fd7['priority']),_0x5e7fd7['screenSpac'+'e']!==void(0x25ff+-0x1d73+-0x88c)&&(_0xd9eb54['screenSpac'+'e']=_0x5e7fd7['screenSpac'+'e']),_0xd9eb54['cull']=_0xd9eb54['screenSpac'+'e'],_0x5e7fd7['scaleMode']!==void(-0x6f3*0x1+0x161*0xf+0x36f*-0x4)&&(_0xd9eb54['scaleMode']=_0x5e7fd7['scaleMode']),_0x5e7fd7['scaleBlend']!==void(-0x1e1d+0x1e15+-0x1*-0x8)&&(_0xd9eb54['scaleBlend']=_0x5e7fd7['scaleBlend']),_0x5e7fd7['resolution']!==void(0x1302+-0x11*-0x7f+0x1*-0x1b71)&&(_0x5e7fd7['resolution']instanceof W?_0xd9eb54['_resolutio'+'n']['copy'](_0x5e7fd7['resolution']):_0xd9eb54['_resolutio'+'n']['set'](_0x5e7fd7['resolution'][-0x26dd+-0x9*0x15f+0x3334],_0x5e7fd7['resolution'][0x106*-0xd+-0x8*-0x199+0xf*0x9]),_0xd9eb54['resolution']=_0xd9eb54['_resolutio'+'n']),_0x5e7fd7['referenceR'+'esolution']!==void(-0x1*0x1717+0x1*-0x11e7+0x16*0x1dd)&&(_0x5e7fd7['referenceR'+'esolution']instanceof W?_0xd9eb54['_reference'+'Resolution']['copy'](_0x5e7fd7['referenceR'+'esolution']):_0xd9eb54['_reference'+'Resolution']['set'](_0x5e7fd7['referenceR'+'esolution'][-0x1ef6+-0x2*-0xd67+0x428],_0x5e7fd7['referenceR'+'esolution'][0x1*-0x28c+-0x1*-0x1e91+-0x1c04]),_0xd9eb54['referenceR'+'esolution']=_0xd9eb54['_reference'+'Resolution']),_0xd9eb54['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0xd9eb54,_0x5e7fd7,mf);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0xc43ba2){const _0x547dc2=this['store'];for(const _0x463fa3 in _0x547dc2)_0x547dc2[_0x463fa3]['entity']['screen']['update']&&_0x547dc2[_0x463fa3]['entity']['screen']['update'](_0xc43ba2);}['_onResize'](_0x30663c,_0x26038c){this['windowReso'+'lution']['x']=_0x30663c,this['windowReso'+'lution']['y']=_0x26038c;}['cloneCompo'+'nent'](_0x4c0480,_0x577f7f){const _0x19e993=_0x4c0480['screen'];return this['addCompone'+'nt'](_0x577f7f,{'enabled':_0x19e993['enabled'],'screenSpace':_0x19e993['screenSpac'+'e'],'scaleMode':_0x19e993['scaleMode'],'resolution':_0x19e993['resolution']['clone'](),'referenceResolution':_0x19e993['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x53098a,_0x1f2246){_0x1f2246['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x197ef1=this['_drawOrder'+'SyncQueue']['list']();for(let _0x380785=-0x1509+-0x1c7e+0x1f*0x199;_0x380785<_0x197ef1['length'];_0x380785++){const _0x4259a0=_0x197ef1[_0x380785];_0x4259a0['callback']['call'](_0x4259a0['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x54b916,_0x51ae4f,_0x8ea79b){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x54b916)||this['_drawOrder'+'SyncQueue']['push'](_0x54b916,{'callback':_0x51ae4f,'scope':_0x8ea79b});}}ue['_buildAcce'+'ssors'](_x['prototype'],mf);const qi=new W(),vg=new T(),Pr=new uu(),bg=new hy(),wg=new T(),io=new T(),wI=new se(),TI={'x':'y','y':'x'};class wo extends ce{constructor(_0x3c4447,_0x3c368e){if(super(),!_0x3c4447||!(_0x3c4447 instanceof Gt))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x3c368e&&_0x3c368e!=='x'&&_0x3c368e!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x3c368e);this['_element']=_0x3c4447,this['_app']=_0x3c4447['system']['app'],this['_axis']=_0x3c368e||null,this['_enabled']=!(-0x1c13+-0x1012+0x2c25),this['_dragScale']=new T(),this['_dragStart'+'MousePosit'+'ion']=new T(),this['_dragStart'+'HandlePosi'+'tion']=new T(),this['_deltaMous'+'ePosition']=new T(),this['_deltaHand'+'lePosition']=new T(),this['_isDraggin'+'g']=!(-0x1d64+0x27*-0x41+0x1f7*0x14),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x219be9){this['_element'][_0x219be9]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x219be9]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x219be9]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x37d3d8){const _0x3c103f=_0x37d3d8==='on';this['_hasDragLi'+'steners']&&_0x3c103f||(this['_app']['mouse']&&(this['_element'][_0x37d3d8]('mousemove',this['_onMove'],this),this['_element'][_0x37d3d8]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),ye['touch']&&(this['_element'][_0x37d3d8]('touchmove',this['_onMove'],this),this['_element'][_0x37d3d8]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x37d3d8]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x37d3d8]('selectmove',this['_onMove'],this),this['_element'][_0x37d3d8]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x3c103f);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0xcce1a2){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0xcce1a2['camera'],this['_calculate'+'DragScale']();const _0x2bb22d=this['_screenToL'+'ocal'](_0xcce1a2);_0x2bb22d&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(0xa15*0x1+0x2427+-0x2e3c),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x2bb22d),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(0xd7f+0x70c+-0x148a*0x1),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x233fb9){return _0x233fb9['inputSourc'+'e']?Pr['set'](_0x233fb9['inputSourc'+'e']['getOrigin'](),_0x233fb9['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x233fb9),this['_chooseRay'+'OriginAndD'+'irection']()),wg['copy'](this['_element']['entity']['forward'])['mulScalar'](-(0x66*-0x14+-0x7f*0x3+-0x1*-0x976)),bg['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),wg),bg['intersects'+'Ray'](Pr,io)?(wI['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](io,io),io['mul'](this['_dragScale']),io):null;}['_determine'+'InputPosit'+'ion'](_0x4cf426){const _0x310cb2=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x4cf426['x']<'u'&&typeof _0x4cf426['y']<'u'?(qi['x']=_0x4cf426['x']*_0x310cb2,qi['y']=_0x4cf426['y']*_0x310cb2):_0x4cf426['changedTou'+'ches']?(qi['x']=_0x4cf426['changedTou'+'ches'][0x4*-0x3be+-0x1*-0xff7+-0xff]['x']*_0x310cb2,qi['y']=_0x4cf426['changedTou'+'ches'][-0x30d+-0x2ed*-0x3+-0x5ba]['y']*_0x310cb2):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Pr['origin']['set'](qi['x'],-qi['y'],-0xf60+-0x2a*-0x39+0x606),Pr['direction']['copy'](T['FORWARD'])):(vg['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](qi['x'],qi['y'],-0x494*0x3+0x71*0x47+-0x119a)),Pr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Pr['direction']['copy'](vg)['sub'](Pr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x12c3be=this['_element']['entity']['parent'];const _0xfe53f5=this['_element']['screen']&&this['_element']['screen']['screen'],_0x39ecfb=_0xfe53f5&&_0xfe53f5['screenSpac'+'e'],_0xf4b400=_0x39ecfb?_0xfe53f5['scale']:0x4*0x67f+0x2528+-0x3f23,_0x434f1d=this['_dragScale'];for(_0x434f1d['set'](_0xf4b400,_0xf4b400,_0xf4b400);_0x12c3be&&(_0x434f1d['mul'](_0x12c3be['getLocalSc'+'ale']()),_0x12c3be=_0x12c3be['parent'],!(_0x39ecfb&&_0x12c3be['screen'])););_0x434f1d['x']=(0x114e+0x13dd+-0x252a)/_0x434f1d['x'],_0x434f1d['y']=(0x57d+0x2ec+0x434*-0x2)/_0x434f1d['y'],_0x434f1d['z']=0x914+0x3d6*0x5+0x1*-0x1c42;}['_onMove'](_0x7b9f82){const {_element:_0x474951,_deltaMousePosition:_0x52d3e7,_deltaHandlePosition:_0x467a84,_axis:_0xd32a5c}=this;if(_0x474951&&this['_isDraggin'+'g']&&this['enabled']&&_0x474951['enabled']&&_0x474951['entity']['enabled']){const _0x23e4eb=this['_screenToL'+'ocal'](_0x7b9f82);if(_0x23e4eb){if(_0x52d3e7['sub2'](_0x23e4eb,this['_dragStart'+'MousePosit'+'ion']),_0x467a84['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x52d3e7),_0xd32a5c){const _0x17ffa9=_0x474951['entity']['getLocalPo'+'sition'](),_0x2a9939=TI[_0xd32a5c];_0x467a84[_0x2a9939]=_0x17ffa9[_0x2a9939];}_0x474951['entity']['setLocalPo'+'sition'](_0x467a84),this['fire']('drag:move',_0x467a84);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x75e6f8){this['_enabled']=_0x75e6f8;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}c(wo,'EVENT_DRAG'+'START','drag:start'),c(wo,'EVENT_DRAG'+'END','drag:end'),c(wo,'EVENT_DRAG'+'MOVE','drag:move');const AI=0x236c+0x1270+-0x9*0x5fc,Tg=0x2*-0x92+-0x1*0x1556+0x167b,EI=-0x8*0x286+0x925+0xb0d,CI=0x1e1e+-0xf0f+-0xf0f,MI=-0x5*0x11b+-0x1b0e+0x2096,ro=new W();class gx extends ue{constructor(_0x12a09e,_0x2c1d27){super(_0x12a09e,_0x2c1d27),c(this,'_viewportE'+'ntity',null),c(this,'_contentEn'+'tity',null),c(this,'_horizonta'+'lScrollbar'+'Entity',null),c(this,'_verticalS'+'crollbarEn'+'tity',null),c(this,'_evtElemen'+'tRemove',null),c(this,'_evtViewpo'+'rtElementR'+'emove',null),c(this,'_evtViewpo'+'rtResize',null),c(this,'_evtConten'+'tEntityEle'+'mentAdd',null),c(this,'_evtConten'+'tElementRe'+'move',null),c(this,'_evtConten'+'tResize',null),c(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),c(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),c(this,'_evtHorizo'+'ntalScroll'+'barValue',null),c(this,'_evtVertic'+'alScrollba'+'rAdd',null),c(this,'_evtVertic'+'alScrollba'+'rRemove',null),c(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_scroll']=new W(),this['_velocity']=new T(),this['_dragStart'+'Position']=new T(),this['_disabledC'+'ontentInpu'+'t']=!(-0x11*0x5+0x4*0x3d7+-0xf06),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x32442d=this['system']['store'][this['entity']['getGuid']()];return _0x32442d?_0x32442d['data']:null;}set['enabled'](_0xb60d97){this['_setValue']('enabled',_0xb60d97);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x40401c){this['_setValue']('horizontal',_0x40401c);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x84e00d){this['_setValue']('vertical',_0x84e00d);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x44a05c){this['_setValue']('scrollMode',_0x44a05c);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x29bb15){this['_setValue']('bounceAmou'+'nt',_0x29bb15);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x3e2acf){this['_setValue']('friction',_0x3e2acf);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x2de459){this['_setValue']('dragThresh'+'old',_0x2de459);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x458761){this['_setValue']('useMouseWh'+'eel',_0x458761);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x748bdb){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x748bdb);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x26911b){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x26911b);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x148926){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x148926);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x1f73be){if(this['_viewportE'+'ntity']===_0x1f73be)return;const _0x4a5744=typeof _0x1f73be=='string';this['_viewportE'+'ntity']&&_0x4a5744&&this['_viewportE'+'ntity']['getGuid']()===_0x1f73be||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x1f73be instanceof De?this['_viewportE'+'ntity']=_0x1f73be:_0x4a5744?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x1f73be)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x4a5744&&_0x1f73be&&(this['data']['viewportEn'+'tity']=_0x1f73be));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x155398){if(this['_contentEn'+'tity']===_0x155398)return;const _0x3fa188=typeof _0x155398=='string';this['_contentEn'+'tity']&&_0x3fa188&&this['_contentEn'+'tity']['getGuid']()===_0x155398||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x155398 instanceof De?this['_contentEn'+'tity']=_0x155398:_0x3fa188?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x155398)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x3fa188&&_0x155398&&(this['data']['contentEnt'+'ity']=_0x155398));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x7ca964){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x7ca964)return;const _0xde6b98=typeof _0x7ca964=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0xde6b98&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x7ca964||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x7ca964 instanceof De?this['_horizonta'+'lScrollbar'+'Entity']=_0x7ca964:_0xde6b98?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x7ca964)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][pe]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0xde6b98&&_0x7ca964&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x7ca964));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x35585e){if(this['_verticalS'+'crollbarEn'+'tity']===_0x35585e)return;const _0x2d484b=typeof _0x35585e=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x2d484b&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x35585e||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x35585e instanceof De?this['_verticalS'+'crollbarEn'+'tity']=_0x35585e:_0x2d484b?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x35585e)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][ke]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x2d484b&&_0x35585e&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x35585e));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0x225a32){this['_onSetScro'+'ll'](_0x225a32['x'],_0x225a32['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x55eb64,_0x20bdb0){const _0x49d323=this['data'],_0x52e24a=_0x49d323[_0x55eb64];_0x49d323[_0x55eb64]=_0x20bdb0,this['fire']('set',_0x55eb64,_0x52e24a,_0x20bdb0);}['_toggleLif'+'ecycleList'+'eners'](_0x25edf1){this[_0x25edf1]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x25edf1]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x25edf1]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x379870){if(this['entity']['element']){if(_0x379870==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x379870]('resize',this['_syncAll'],this),this['entity']['element'][_0x379870](Mu,this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x379870==='on';}}['_onElement'+'ComponentA'+'dd'](_0x430325){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x1a442d){var _0x543ecc;(_0x543ecc=this['_evtElemen'+'tRemove'])==null||_0x543ecc['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x1acda4,_0x9dceb9;(_0x1acda4=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x1acda4['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x9dceb9=this['_viewportE'+'ntity'])!=null&&_0x9dceb9['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x590418=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x590418['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x590418['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x3f2c0c,_0x3b1057;(_0x3f2c0c=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x3f2c0c['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x3b1057=this['_evtViewpo'+'rtResize'])==null||_0x3b1057['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x1a09ab,_0x276663;(_0x1a09ab=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x1a09ab['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x276663=this['_contentEn'+'tity'])!=null&&_0x276663['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x5eb373=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x5eb373['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x5eb373['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x56ea61,_0x4ecadb;(_0x56ea61=this['_evtConten'+'tElementRe'+'move'])==null||_0x56ea61['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x4ecadb=this['_evtConten'+'tResize'])==null||_0x4ecadb['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new wo(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x346e0f){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(0x2122+0x18ac+-0x39ce),this['_setScroll'+'FromConten'+'tPosition'](_0x346e0f),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x346e0f),!this['_disabledC'+'ontentInpu'+'t'])){const _0x1faa39=_0x346e0f['x']-this['_dragStart'+'Position']['x'],_0x274ce4=_0x346e0f['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x1faa39)>this['dragThresh'+'old']||Math['abs'](_0x274ce4)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x1141b8;(_0x1141b8=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x1141b8['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x56deb0;(_0x56deb0=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x56deb0['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0xda2501){!this['_scrollbar'+'UpdateFlag'+'s'][pe]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0xda2501,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x52c665){!this['_scrollbar'+'UpdateFlag'+'s'][ke]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x52c665);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x26067e;const _0x5b778f=(_0x26067e=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(-0x2*-0xc2f+0x1f8f*0x1+-0x37ed):_0x26067e['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x5b778f['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x5b778f['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarPositi'+'on'](pe);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x399e81;const _0xc6db3c=(_0x399e81=this['_verticalS'+'crollbarEn'+'tity'])==null?void(0x3d7*-0x1+0x11dd+-0xe06):_0x399e81['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0xc6db3c['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0xc6db3c['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](ke),this['_syncScrol'+'lbarPositi'+'on'](ke);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x2032ac,_0x25d702;(_0x2032ac=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x2032ac['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x25d702=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x25d702['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x1c48f0,_0x10a78b;(_0x1c48f0=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x1c48f0['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x10a78b=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x10a78b['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](pe);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_onSetScro'+'ll'](_0x1f40b8,_0x214458,_0x4f8abf){_0x4f8abf!==!(-0x19f5+0x1*0x21d4+-0x7de)&&this['_velocity']['set'](-0x2c7+-0x1*-0x154f+-0x251*0x8,-0x234d+-0xed7+0x3224,0x12e0+0xe91*0x1+-0x2171);const _0x5c0904=this['_updateAxi'+'s'](_0x1f40b8,'x',pe),_0x392137=this['_updateAxi'+'s'](_0x214458,'y',ke);(_0x5c0904||_0x392137)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x3fc41b,_0xd68282,_0x2f0fa5){const _0x5cf10d=_0x3fc41b!==null&&Math['abs'](_0x3fc41b-this['_scroll'][_0xd68282])>0xb6*-0x2f+-0x2*0xcf2+0x3b4e+0.00001;return(_0x5cf10d||this['_isDraggin'+'g']()||_0x3fc41b===-0xe1c+-0x1a00+0x281c*0x1)&&(this['_scroll'][_0xd68282]=this['_determine'+'NewScrollV'+'alue'](_0x3fc41b,_0xd68282,_0x2f0fa5),this['_syncConte'+'ntPosition'](_0x2f0fa5),this['_syncScrol'+'lbarPositi'+'on'](_0x2f0fa5)),_0x5cf10d;}['_determine'+'NewScrollV'+'alue'](_0x39c61d,_0x557f21,_0x4e730c){if(!this['_getScroll'+'ingEnabled'](_0x4e730c))return this['_scroll'][_0x557f21];switch(this['scrollMode']){case AI:return N['clamp'](_0x39c61d,0x501*-0x7+-0x982*0x4+0x490f,this['_getMaxScr'+'ollValue'](_0x4e730c));case Tg:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x39c61d,_0x557f21,_0x4e730c),_0x39c61d;case EI:return _0x39c61d;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x39c61d;}}['_syncAll'](){this['_syncConte'+'ntPosition'](pe),this['_syncConte'+'ntPosition'](ke),this['_syncScrol'+'lbarPositi'+'on'](pe),this['_syncScrol'+'lbarPositi'+'on'](ke),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_syncConte'+'ntPosition'](_0x148f25){if(!this['_contentEn'+'tity'])return;const _0x3005b6=this['_getAxis'](_0x148f25),_0x12b698=this['_getSign'](_0x148f25),_0x5ea4b2=this['_prevConte'+'ntSizes'][_0x148f25],_0x11e1f9=this['_getConten'+'tSize'](_0x148f25);if(_0x5ea4b2!==null&&Math['abs'](_0x5ea4b2-_0x11e1f9)>0x26e5+0x92*0x1+-0x2777+0.0001){const _0xc378d5=this['_getMaxOff'+'set'](_0x148f25,_0x5ea4b2),_0x34f51e=this['_getMaxOff'+'set'](_0x148f25,_0x11e1f9);_0x34f51e===-0x12*-0x139+0x2086+-0xa*0x574?this['_scroll'][_0x3005b6]=-0x22e6+0xfd*-0x20+-0x981*-0x7:this['_scroll'][_0x3005b6]=N['clamp'](this['_scroll'][_0x3005b6]*_0xc378d5/_0x34f51e,-0x2304+-0x33d*0x4+0x28*0x133,0x1797+0x14aa+-0x4*0xb10);}const _0x2c8ad3=this['_scroll'][_0x3005b6]*this['_getMaxOff'+'set'](_0x148f25),_0x4577d4=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x4577d4[_0x3005b6]=_0x2c8ad3*_0x12b698,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x4577d4),this['_prevConte'+'ntSizes'][_0x148f25]=_0x11e1f9;}['_syncScrol'+'lbarPositi'+'on'](_0x4703dc){const _0x4921cb=this['_scrollbar'+'Entities'][_0x4703dc];if(!(_0x4921cb!=null&&_0x4921cb['scrollbar']))return;const _0x2cb425=this['_getAxis'](_0x4703dc);this['_scrollbar'+'UpdateFlag'+'s'][_0x4703dc]=!(-0x129d*-0x2+-0x607*0x6+-0x4*0x44),_0x4921cb['scrollbar']['value']=this['_scroll'][_0x2cb425],_0x4921cb['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x2cb425,_0x4703dc),this['_scrollbar'+'UpdateFlag'+'s'][_0x4703dc]=!(-0x7e2+-0x2*-0xcc2+-0x11a1*0x1);}['_syncScrol'+'lbarEnable'+'dState'](_0x4206f6){const _0x10ac0f=this['_scrollbar'+'Entities'][_0x4206f6];if(!_0x10ac0f)return;const _0x10de97=this['_getScroll'+'ingEnabled'](_0x4206f6),_0x4a2d0d=this['_getScroll'+'barVisibil'+'ity'](_0x4206f6);switch(_0x4a2d0d){case CI:_0x10ac0f['enabled']=_0x10de97;return;case MI:_0x10ac0f['enabled']=_0x10de97&&this['_contentIs'+'LargerThan'+'Viewport'](_0x4206f6);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x4a2d0d),_0x10ac0f['enabled']=_0x10de97;}}['_contentIs'+'LargerThan'+'Viewport'](_0x5cc9e6){return this['_getConten'+'tSize'](_0x5cc9e6)>this['_getViewpo'+'rtSize'](_0x5cc9e6);}['_contentPo'+'sitionToSc'+'rollValue'](_0x2a080a){const _0x58ce29=this['_getMaxOff'+'set'](pe),_0x52f382=this['_getMaxOff'+'set'](ke);return _0x58ce29===-0x1*0xb57+-0x21a*-0xb+0xc9*-0xf?ro['x']=0x2442+-0x1*-0xb47+-0x2f89:ro['x']=_0x2a080a['x']/_0x58ce29,_0x52f382===-0x8f3+-0xbff*0x2+0x20f1?ro['y']=-0x1*0x2413+-0x1*0x24b+-0x665*-0x6:ro['y']=_0x2a080a['y']/-_0x52f382,ro;}['_getMaxOff'+'set'](_0x42c842,_0x5bc43a){_0x5bc43a=_0x5bc43a===void(0x201a+0x25f9+-0x1*0x4613)?this['_getConten'+'tSize'](_0x42c842):_0x5bc43a;const _0x1c06b7=this['_getViewpo'+'rtSize'](_0x42c842);return _0x5bc43a<_0x1c06b7?-this['_getViewpo'+'rtSize'](_0x42c842):_0x1c06b7-_0x5bc43a;}['_getMaxScr'+'ollValue'](_0x498c9e){return this['_contentIs'+'LargerThan'+'Viewport'](_0x498c9e)?0x6*-0x8b+0x5b*0xe+-0x1b7:0x4bd*0x8+0xfd*0x1d+-0x4291;}['_getScroll'+'barHandleS'+'ize'](_0x35208c,_0x4aa059){const _0x5bdb0a=this['_getViewpo'+'rtSize'](_0x4aa059),_0x321954=this['_getConten'+'tSize'](_0x4aa059);if(Math['abs'](_0x321954)<0x1c6+0x493*-0x2+-0x8*-0xec+0.001)return-0x1*0x394+0x656+-0x2c1;const _0x952291=Math['min'](_0x5bdb0a/_0x321954,0x1305+-0x1*-0x20d1+0x3*-0x1147),_0x2aebd4=this['_toOversho'+'ot'](this['_scroll'][_0x35208c],_0x4aa059);return _0x2aebd4===0x1ef2+0x1d81+-0x3c73?_0x952291:_0x952291/(-0xa5*0x25+-0x5c*-0x1+0x177e+Math['abs'](_0x2aebd4));}['_getViewpo'+'rtSize'](_0x39727d){return this['_getSize'](_0x39727d,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x1edfee){return this['_getSize'](_0x1edfee,this['_contentEn'+'tity']);}['_getSize'](_0xefb759,_0x1d6c3a){return _0x1d6c3a!=null&&_0x1d6c3a['element']?_0x1d6c3a['element'][this['_getCalcul'+'atedDimens'+'ion'](_0xefb759)]:-0x29d*0xb+-0x1*0x1a56+0x3715;}['_getScroll'+'ingEnabled'](_0x1f89df){if(_0x1f89df===pe)return this['horizontal'];if(_0x1f89df===ke)return this['vertical'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x1f89df);}['_getScroll'+'barVisibil'+'ity'](_0x19f7ab){if(_0x19f7ab===pe)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x19f7ab===ke)return this['verticalSc'+'rollbarVis'+'ibility'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x19f7ab);}['_getSign'](_0x15582a){return _0x15582a===pe?-0x14*-0x6a+0x3ee*-0x4+0x771:-(0x15cf+-0x13f*0x19+0x959);}['_getAxis'](_0x5c2cb3){return _0x5c2cb3===pe?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x4d5743){return _0x4d5743===pe?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===Tg&&(this['_hasOversh'+'oot']('x',pe)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',pe),this['_hasOversh'+'oot']('y',ke)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',ke)),Math['abs'](this['_velocity']['x'])>-0x22*-0xb1+-0x2147+0x1*0x9c5+0.0001||Math['abs'](this['_velocity']['y'])>0x1f25+-0x164e+-0x8d7*0x1+0.0001){const _0x27f25d=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x27f25d['x']+=this['_velocity']['x'],_0x27f25d['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x27f25d),this['_setScroll'+'FromConten'+'tPosition'](_0x27f25d);}this['_velocity']['x']*=-0x15ec+-0x1*0x453+0x1a40-this['friction'],this['_velocity']['y']*=0x228d+-0x1*-0x95+-0x2321-this['friction'];}}['_hasOversh'+'oot'](_0x40c8fe,_0x1897b7){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x40c8fe],_0x1897b7))>-0xb69+-0x1*-0x24cd+-0x1f4*0xd+0.001;}['_toOversho'+'ot'](_0x318486,_0x2d8117){const _0x47b10f=this['_getMaxScr'+'ollValue'](_0x2d8117);return _0x318486<-0xad1+0xb1a+-0x49?_0x318486:_0x318486>_0x47b10f?_0x318486-_0x47b10f:0x1*0x34b+0x835*-0x1+0x11*0x4a;}['_setVeloci'+'tyFromOver'+'shoot'](_0x5b6be1,_0x5eb2da,_0x533702){const _0x3dd55c=this['_toOversho'+'ot'](_0x5b6be1,_0x533702)*this['_getMaxOff'+'set'](_0x533702)*this['_getSign'](_0x533702);Math['abs'](_0x3dd55c)>0x22ff+0x647*-0x4+-0x1*0x9e3&&(this['_velocity'][_0x5eb2da]=-_0x3dd55c/(this['bounceAmou'+'nt']*(0x1a1f+0x13f1+-0x2dde)+(0xa2b+-0x1e5b*-0x1+-0x2885)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x4397d2){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x4397d2,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x4397d2)):(this['_velocity']['set'](-0xcca+-0x1649+0x2313*0x1,0x1*0x1457+-0xa60+-0x9f7,0x411+-0x1a5e+-0xad*-0x21),this['_prevConte'+'ntDragPosi'+'tion']=_0x4397d2['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x58bec4){let _0x3d3c92=this['_contentPo'+'sitionToSc'+'rollValue'](_0x58bec4);this['_isDraggin'+'g']()&&(_0x3d3c92=this['_applyScro'+'llValueTen'+'sion'](_0x3d3c92)),this['_onSetScro'+'ll'](_0x3d3c92['x'],_0x3d3c92['y'],!(0xc89*0x1+0x1c89+-0x2911*0x1));}['_applyScro'+'llValueTen'+'sion'](_0x30dff2){let _0x3b8926=this['_getMaxScr'+'ollValue'](pe),_0x87ca78=this['_toOversho'+'ot'](_0x30dff2['x'],pe);return _0x87ca78>0x344+-0x158f*0x1+0x619*0x3?_0x30dff2['x']=_0x3b8926+(-0x37a+-0x222+0x59d)*Math['log10'](0x1*0x1cc9+0x1003*-0x1+0x1*-0xcc5+_0x87ca78):_0x87ca78<-0x472*0x5+0x1a42+-0x102*0x4&&(_0x30dff2['x']=-(0x8*-0x3ac+-0x2*0x115f+0x401f)*Math['log10'](-0x1710+-0x1c*0xb+0x817*0x3-_0x87ca78)),_0x3b8926=this['_getMaxScr'+'ollValue'](ke),_0x87ca78=this['_toOversho'+'ot'](_0x30dff2['y'],ke),_0x87ca78>0x62b+-0x1*0x1f82+0x1957?_0x30dff2['y']=_0x3b8926+(-0x5*-0x5d7+0xb7d+-0x5*0x823)*Math['log10'](0x8b4+0xd4f+-0x1602+_0x87ca78):_0x87ca78<-0x895+0x1616+-0xd81&&(_0x30dff2['y']=-(0x9*-0x249+-0x9*0x11a+0x1e7c)*Math['log10'](-0x13ea+-0xd65+0x2150-_0x87ca78)),_0x30dff2;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x1c6928){var _0x46b840,_0xe97b6c;(_0x46b840=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x46b840['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x1c6928),(_0xe97b6c=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0xe97b6c['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x1c6928);}['_setConten'+'tDraggingE'+'nabled'](_0x33b2ab){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x33b2ab);}['_onMouseWh'+'eel'](_0x1fdbb2){var _0x4ace93;if(!this['useMouseWh'+'eel']||!((_0x4ace93=this['_contentEn'+'tity'])!=null&&_0x4ace93['element']))return;const _0x49bcda=_0x1fdbb2['event'],_0x42506a=_0x49bcda['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x1f3b16=_0x49bcda['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x59d57a=N['clamp'](this['_scroll']['x']+_0x42506a,-0x703*0x5+-0x11*-0x66+-0x22d*-0xd,this['_getMaxScr'+'ollValue'](pe)),_0x4e3f06=N['clamp'](this['_scroll']['y']+_0x1f3b16,-0x5f2*0x1+0x1*-0x21e5+0x5b1*0x7,this['_getMaxScr'+'ollValue'](ke));this['scroll']=new W(_0x59d57a,_0x4e3f06);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x3c0cfd=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x3c0cfd['element']&&(_0x3c0cfd['element']['useInput']=!(0x1c1a*-0x1+-0x1fd5+-0xe5*-0x43));}this['_disabledC'+'ontentInpu'+'t']=!(0x119e*0x1+0x355*0x7+-0x28f0);}['_disableCo'+'ntentInput'](){const _0x1cbcb8=_0x5605a9=>{_0x5605a9['element']&&_0x5605a9['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x5605a9),_0x5605a9['element']['useInput']=!(-0x10d8+-0x1*0x160d+0x26e6));const _0x2e73c8=_0x5605a9['children'];for(let _0x10effd=-0xbfc+0x8*0x337+-0xdbc,_0x41423e=_0x2e73c8['length'];_0x10effd<_0x41423e;_0x10effd++)_0x1cbcb8(_0x2e73c8[_0x10effd]);};if(this['_contentEn'+'tity']){const _0x3078b0=this['_contentEn'+'tity']['children'];for(let _0x19467c=-0x13c2+0x2407+-0x1045,_0x3afb0c=_0x3078b0['length'];_0x19467c<_0x3afb0c;_0x19467c++)_0x1cbcb8(_0x3078b0[_0x19467c]);}this['_disabledC'+'ontentInpu'+'t']=!(-0x1533+-0x197c+0x2eaf);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0x1*-0x203c+0x655*0x1+0x9*-0x449)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x1*-0x22f7+0x2371+0x119a*-0x4)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x1e6e+0x258a+0x7f*-0x89)),this['_setConten'+'tDraggingE'+'nabled'](!(0x228c+0x1db6+-0x4041));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x3867bd,_0xd58323){_0x3867bd['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0xd58323[_0x3867bd['viewportEn'+'tity']['getGuid']()]),_0x3867bd['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0xd58323[_0x3867bd['contentEnt'+'ity']['getGuid']()]),_0x3867bd['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0xd58323[_0x3867bd['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x3867bd['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0xd58323[_0x3867bd['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}c(gx,'EVENT_SETS'+'CROLL','set:scroll');const PI=0x1b09+-0xfb6+0x3c3*-0x3;class RI{constructor(){c(this,'enabled',!(0xea6+-0x1a8c+0xbe6*0x1)),c(this,'horizontal'),c(this,'vertical'),c(this,'scrollMode'),c(this,'bounceAmou'+'nt'),c(this,'friction'),c(this,'dragThresh'+'old',PI),c(this,'useMouseWh'+'eel',!(0x167*-0x7+0x64b+0x386)),c(this,'mouseWheel'+'Sensitivit'+'y',new W(-0x138+-0x85+0x1be,-0x1272+0x1*-0x196b+-0x8c6*-0x5)),c(this,'horizontal'+'ScrollbarV'+'isibility',-0x33*-0x91+0x1d3*0xd+0x2*-0x1a4d),c(this,'verticalSc'+'rollbarVis'+'ibility',-0x2f+-0x1*-0x4a3+-0xf*0x4c),c(this,'viewportEn'+'tity',null),c(this,'contentEnt'+'ity',null),c(this,'horizontal'+'ScrollbarE'+'ntity',null),c(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const Ag=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],II=-0x2ed*0x5+0x1*-0x1ef7+0x2da2;class DI extends Xe{constructor(_0x3af749){super(_0x3af749),this['id']='scrollview',this['ComponentT'+'ype']=gx,this['DataType']=RI,this['schema']=Ag,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x1866a8,_0x42004c,_0x30688c){_0x42004c['dragThresh'+'old']===void(0x734+0x2273+-0x29a7*0x1)&&(_0x42004c['dragThresh'+'old']=II),_0x42004c['useMouseWh'+'eel']===void(0x9ac*0x1+0x12b5*0x1+-0x5ad*0x5)&&(_0x42004c['useMouseWh'+'eel']=!(0x6b*0x4b+0x1f06+0x1*-0x3e5f)),_0x42004c['mouseWheel'+'Sensitivit'+'y']===void(0x1f85*-0x1+-0x1d98*-0x1+-0x1d*-0x11)&&(_0x42004c['mouseWheel'+'Sensitivit'+'y']=new W(-0x1*0x4cd+-0x10fc+0x15ca,0xa30+0x1*0x1867+0xe9*-0x26)),super['initialize'+'ComponentD'+'ata'](_0x1866a8,_0x42004c,Ag),_0x1866a8['viewportEn'+'tity']=_0x42004c['viewportEn'+'tity'],_0x1866a8['contentEnt'+'ity']=_0x42004c['contentEnt'+'ity'],_0x1866a8['horizontal'+'ScrollbarE'+'ntity']=_0x42004c['horizontal'+'ScrollbarE'+'ntity'],_0x1866a8['verticalSc'+'rollbarEnt'+'ity']=_0x42004c['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x537f01){const _0x44b69c=this['store'];for(const _0x4d13da in _0x44b69c){const _0x24b4e2=_0x44b69c[_0x4d13da]['entity'],_0x4ded25=_0x24b4e2['scrollview'];_0x4ded25['enabled']&&_0x24b4e2['enabled']&&_0x4ded25['onUpdate']();}}['_onRemoveC'+'omponent'](_0x4ab2c2,_0xd9c833){_0xd9c833['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class yx extends ue{constructor(_0x294a95,_0x105960){super(_0x294a95,_0x105960),c(this,'_handleEnt'+'ity',null),c(this,'_evtHandle'+'EntityElem'+'entAdd',null),c(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0xe5d87f=this['system']['store'][this['entity']['getGuid']()];return _0xe5d87f?_0xe5d87f['data']:null;}set['enabled'](_0x1c7ae9){this['_setValue']('enabled',_0x1c7ae9);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x2fafe2){this['_setValue']('orientatio'+'n',_0x2fafe2);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x4001b7){this['_setValue']('value',_0x4001b7);}get['value'](){return this['data']['value'];}set['handleSize'](_0x3da434){this['_setValue']('handleSize',_0x3da434);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0xbb7b7b){if(this['_handleEnt'+'ity']===_0xbb7b7b)return;const _0xeee6a6=typeof _0xbb7b7b=='string';this['_handleEnt'+'ity']&&_0xeee6a6&&this['_handleEnt'+'ity']['getGuid']()===_0xbb7b7b||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0xbb7b7b instanceof De?this['_handleEnt'+'ity']=_0xbb7b7b:_0xeee6a6?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0xbb7b7b)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0xeee6a6&&_0xbb7b7b&&(this['data']['handleEnti'+'ty']=_0xbb7b7b));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x173816,_0x8b61cb){const _0x592d36=this['data'],_0x54f420=_0x592d36[_0x173816];_0x592d36[_0x173816]=_0x8b61cb,this['fire']('set',_0x173816,_0x54f420,_0x8b61cb);}['_toggleLif'+'ecycleList'+'eners'](_0x5088dd){this[_0x5088dd]('set_value',this['_onSetValu'+'e'],this),this[_0x5088dd]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x5088dd]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x3d8570,_0x43e5ec;(_0x3d8570=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x3d8570['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x43e5ec=this['_handleEnt'+'ity'])!=null&&_0x43e5ec['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x2245a4=this['_handleEnt'+'ity']['element'],_0x56c519=this['_evtHandle'+'EntityChan'+'ges'];_0x56c519['push'](_0x2245a4['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x56c519['push'](_0x2245a4['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x56c519['push'](_0x2245a4['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x56c519['push'](_0x2245a4['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x2f9da4=-0x1cf7+0x5c6*-0x4+0x340f;_0x2f9da4<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x2f9da4++)this['_evtHandle'+'EntityChan'+'ges'][_0x2f9da4]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=-0x87e*-0x2+0x1*-0x180f+-0x713*-0x1;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new wo(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x3b05db){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x3b05db[this['_getAxis']()]));}['_onSetValu'+'e'](_0x3f369b,_0x45e229,_0x2afe24){Math['abs'](_0x2afe24-_0x45e229)>0x1040+-0x73*-0x26+-0x1*0x2152+0.00001&&(this['data']['value']=N['clamp'](_0x2afe24,-0x1081+0xfa3*0x2+-0xec5*0x1,-0x213c+-0x1*0x19c5+0x3b02),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x2c14b8,_0x56e702,_0xfc9534){Math['abs'](_0xfc9534-_0x56e702)>-0x26d8+0xa02+-0x1cd6*-0x1+0.00001&&(this['data']['handleSize']=N['clamp'](_0xfc9534,0xfc8+0x26f4*0x1+-0x36bc,0x386+-0x119*-0xa+-0x3*0x4d5),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x49a9b8,_0x35a1d5,_0x388eb2){var _0x523a86;_0x388eb2!==_0x35a1d5&&((_0x523a86=this['_handleEnt'+'ity'])!=null&&_0x523a86['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=0x6d*-0x11+0x4b9+0xa1*0x4);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x2cc509=this['_handleEnt'+'ity'],_0x31455b=_0x2cc509==null?void(0x123e+0x5e*0x58+0x2*-0x1947):_0x2cc509['element'];if(_0x2cc509){const _0xe627e4=_0x2cc509['getLocalPo'+'sition']();_0xe627e4[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x2cc509['setLocalPo'+'sition'](_0xe627e4);}_0x31455b&&(_0x31455b[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x20af0b){return _0x20af0b*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x4d89d1){return _0x4d89d1*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),-0x1*0xf3d+0x1*-0x1970+0x28ad+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===pe?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:-0x14ea+0x1875+-0x1*0x38b;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===pe?0xf*0x1fb+0x6d1+-0x2485:-(0x151d+-0x1e3+-0x1339);}['_getAxis'](){return this['orientatio'+'n']===pe?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===pe?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===pe?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x1dfa7e){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x1dfa7e);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x1*0x577+0x9c*-0x31+0x2353));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x2093+-0x76*-0x29+0xdae));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x43a0cd,_0x17b157){_0x43a0cd['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x17b157[_0x43a0cd['handleEnti'+'ty']['getGuid']()]);}}c(yx,'EVENT_SETV'+'ALUE','set:value');class LI{constructor(){c(this,'enabled',!(0x1f8f*-0x1+-0x89c+0x5b*0x71)),c(this,'orientatio'+'n',pe),c(this,'value',0x1*-0x19db+-0x23b4+-0x1485*-0x3),c(this,'handleSize',0x1*-0x2175+-0x24dd*-0x1+-0x1*0x368),c(this,'handleEnti'+'ty',null);}}const Eg=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class FI extends Xe{constructor(_0x3fdcae){super(_0x3fdcae),this['id']='scrollbar',this['ComponentT'+'ype']=yx,this['DataType']=LI,this['schema']=Eg,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x4ffe2f,_0x52cf11,_0x212769){super['initialize'+'ComponentD'+'ata'](_0x4ffe2f,_0x52cf11,Eg),_0x4ffe2f['handleEnti'+'ty']=_0x52cf11['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x63b737){_0x63b737['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x49387f,_0x158867){_0x158867['onRemove']();}}const OI={'volume':0x0,'pitch':0x0,'loop':!(0x725*0x4+-0x1*0xd99+-0xefa),'startTime':0x0,'duration':0x0,'position':new T(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class er extends ce{constructor(_0x1594e7,_0x4c7153='Untitled',_0xc08eaf={}){super(),c(this,'name'),c(this,'instances',[]),(this['_component']=_0x1594e7,this['_assets']=_0x1594e7['system']['app']['assets'],this['_manager']=_0x1594e7['system']['manager'],this['name']=_0x4c7153,this['_volume']=_0xc08eaf['volume']!==void(0x3e5+0xfa4+-0x1389)?N['clamp'](Number(_0xc08eaf['volume'])||0xce3+-0x40*-0x1d+-0x1423*0x1,-0x20a+0xee7*-0x1+0x10f1,-0x1928+-0x8*-0x10+0x18a9):0x1f54+-0x67f*0x3+0x1f9*-0x6,this['_pitch']=_0xc08eaf['pitch']!==void(0x8*0x2c6+-0x152c+0x104*-0x1)?Math['max'](-0x1bf*-0xf+0x2348+-0x3d79*0x1+0.01,Number(_0xc08eaf['pitch'])||0x2aa+0x1449+0x7d*-0x2f):0x2353*-0x1+0x23de+-0x6*0x17,this['_loop']=!!(_0xc08eaf['loop']!==void(0xf76+0x1*0xc4f+-0x1bc5*0x1)&&_0xc08eaf['loop']),this['_duration']=_0xc08eaf['duration']>0x747*0x5+-0x131b+-0x1148?_0xc08eaf['duration']:null,this['_startTime']=Math['max'](0x724+0x1*0x1cd9+0x1*-0x23fd,Number(_0xc08eaf['startTime'])||0x1226+0x2308+-0x352e),this['_overlap']=!!_0xc08eaf['overlap'],this['_autoPlay']=!!_0xc08eaf['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0xc08eaf['asset'],this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x31b174){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){v['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x1133a7=_0x31b174;if(_0x1133a7||(_0x1133a7=this['_createIns'+'tance'](),this['instances']['push'](_0x1133a7)),this['isLoaded'])_0x1133a7['play']();else{const _0x12bd3c=function(_0x187190){const _0x370b4f=_0x1133a7['_playWhenL'+'oaded'];_0x1133a7['sound']=_0x187190,_0x370b4f&&_0x1133a7['play']();};this['off']('load',_0x12bd3c),this['once']('load',_0x12bd3c),this['load']();}return _0x1133a7;}['pause'](){let _0x3583ee=!(-0x9af+0x31*-0x3d+0x155d);const _0x36cca5=this['instances'];for(let _0x305866=-0x1a3*0xf+0x7cd*0x5+-0x39d*0x4,_0x129367=_0x36cca5['length'];_0x305866<_0x129367;_0x305866++)_0x36cca5[_0x305866]['pause']()&&(_0x3583ee=!(0x203+-0x1dee+0x1beb));return _0x3583ee;}['resume'](){let _0x35c096=!(-0x21eb+0x18c6+0x926*0x1);const _0x2bbbb7=this['instances'];for(let _0x1e099d=0x18cf+-0x1*-0x26ce+-0x3f9d,_0x114eb5=_0x2bbbb7['length'];_0x1e099d<_0x114eb5;_0x1e099d++)_0x2bbbb7[_0x1e099d]['resume']()&&(_0x35c096=!(-0x78d+-0x2303+0x2a90));return _0x35c096;}['stop'](){let _0x1cf9ce=!(0x16c2+0x9da+-0x209b);const _0x78ea90=this['instances'];let _0x25be5e=_0x78ea90['length'];for(;_0x25be5e--;)_0x78ea90[_0x25be5e]['stop'](),_0x1cf9ce=!(0x353*0x9+-0x74*0x51+0x243*0x3);return _0x78ea90['length']=-0x8d*-0x1b+0x1105*-0x1+0xb*0x32,_0x1cf9ce;}['load'](){if(!this['_hasAsset']())return;const _0xeac9ac=this['_assets']['get'](this['_asset']);if(!_0xeac9ac){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0xeac9ac['off']('remove',this['_onAssetRe'+'moved'],this),_0xeac9ac['on']('remove',this['_onAssetRe'+'moved'],this),!_0xeac9ac['resource']){_0xeac9ac['off']('load',this['_onAssetLo'+'ad'],this),_0xeac9ac['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0xeac9ac);return;}this['fire']('load',_0xeac9ac['resource']);}['setExterna'+'lNodes'](_0x561f96,_0x12064c){if(!_0x561f96){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x12064c||(_0x12064c=_0x561f96),this['_firstNode']=_0x561f96,this['_lastNode']=_0x12064c,!this['_overlap']){const _0x4c0d70=this['instances'];for(let _0x288ed4=-0x1*-0x1d71+0x11b7+0x2*-0x1794,_0x15ffe3=_0x4c0d70['length'];_0x288ed4<_0x15ffe3;_0x288ed4++)_0x4c0d70[_0x288ed4]['setExterna'+'lNodes'](_0x561f96,_0x12064c);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x550df8=this['instances'];for(let _0x23d173=-0x1*-0x997+-0x15af+0xc18,_0x2f0f22=_0x550df8['length'];_0x23d173<_0x2f0f22;_0x23d173++)_0x550df8[_0x23d173]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x10858c=null;const _0x18252d=this['_component'];let _0x34f47c=null;if(this['_hasAsset']()){const _0x406902=this['_assets']['get'](this['_asset']);_0x406902&&(_0x34f47c=_0x406902['resource']);}const _0x2d33f5=OI;return _0x2d33f5['volume']=this['_volume']*_0x18252d['volume'],_0x2d33f5['pitch']=this['_pitch']*_0x18252d['pitch'],_0x2d33f5['loop']=this['_loop'],_0x2d33f5['startTime']=this['_startTime'],_0x2d33f5['duration']=this['_duration'],_0x2d33f5['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x2d33f5['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x2d33f5['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x2d33f5['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x2d33f5['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x18252d['positional']?(_0x2d33f5['position']['copy'](_0x18252d['entity']['getPositio'+'n']()),_0x2d33f5['maxDistanc'+'e']=_0x18252d['maxDistanc'+'e'],_0x2d33f5['refDistanc'+'e']=_0x18252d['refDistanc'+'e'],_0x2d33f5['rollOffFac'+'tor']=_0x18252d['rollOffFac'+'tor'],_0x2d33f5['distanceMo'+'del']=_0x18252d['distanceMo'+'del'],_0x10858c=new jn(this['_manager'],_0x34f47c,_0x2d33f5)):_0x10858c=new ss(this['_manager'],_0x34f47c,_0x2d33f5),this['_firstNode']&&_0x10858c['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x10858c;}['_onInstanc'+'ePlay'](_0x153ba4){this['fire']('play',_0x153ba4),this['_component']['fire']('play',this,_0x153ba4);}['_onInstanc'+'ePause'](_0x30c689){this['fire']('pause',_0x30c689),this['_component']['fire']('pause',this,_0x30c689);}['_onInstanc'+'eResume'](_0x23d0cf){this['fire']('resume',_0x23d0cf),this['_component']['fire']('resume',this,_0x23d0cf);}['_onInstanc'+'eStop'](_0x2708ec){const _0x50ab31=this['instances']['indexOf'](_0x2708ec);_0x50ab31!==-(-0x87*0x45+-0x2608+0x4a6c)&&this['instances']['splice'](_0x50ab31,0x2437+0x1611*-0x1+-0xd5*0x11),this['fire']('stop',_0x2708ec),this['_component']['fire']('stop',this,_0x2708ec);}['_onInstanc'+'eEnd'](_0x7c32f3){const _0x1c153e=this['instances']['indexOf'](_0x7c32f3);_0x1c153e!==-(-0x21ae+-0x1*-0x313+0x7a7*0x4)&&this['instances']['splice'](_0x1c153e,-0x32*0x8b+-0x1b3a*-0x1+-0x13),this['fire']('end',_0x7c32f3),this['_component']['fire']('end',this,_0x7c32f3);}['_onAssetAd'+'d'](_0x502eb6){this['load']();}['_onAssetLo'+'ad'](_0x1f2945){this['load']();}['_onAssetRe'+'moved'](_0xf79347){_0xf79347['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0xf79347['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x39845a){const _0x1cf696=this['instances'];for(let _0x5e3739=-0x263f+-0xbf*-0x34+-0x8d,_0x26f5ea=_0x1cf696['length'];_0x5e3739<_0x26f5ea;_0x5e3739++)_0x1cf696[_0x5e3739]['position']=_0x39845a;}set['asset'](_0x4242e7){const _0x57f264=this['_asset'];if(_0x57f264){this['_assets']['off']('add:'+_0x57f264,this['_onAssetAd'+'d'],this);const _0x1d298d=this['_assets']['get'](_0x57f264);_0x1d298d&&_0x1d298d['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x4242e7,this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x1ec4c4){this['_autoPlay']=!!_0x1ec4c4;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x35d0ac){if(this['_duration']=Math['max'](0x5e7+0xd5e*-0x2+0x14d5,Number(_0x35d0ac)||-0x9d7*-0x3+-0x55*0x55+-0x53*0x4)||null,!this['_overlap']){const _0x23579d=this['instances'];for(let _0x5679a1=-0x2a1+0x20*-0xf0+0x20a1,_0x16c738=_0x23579d['length'];_0x5679a1<_0x16c738;_0x5679a1++)_0x23579d[_0x5679a1]['duration']=this['_duration'];}}get['duration'](){let _0x41e916=-0x16*0x15b+-0x2181+-0x1*-0x3f53;if(this['_hasAsset']()){const _0x39de44=this['_assets']['get'](this['_asset']);_0x41e916=_0x39de44!=null&&_0x39de44['resource']?_0x39de44['resource']['duration']:0x10c0+-0x691+-0x1*0xa2f;}return this['_duration']!=null?this['_duration']%(_0x41e916||0x1*0x226b+0x107*0xf+-0x31d3):_0x41e916;}get['isLoaded'](){if(this['_hasAsset']()){const _0x2fd1a1=this['_assets']['get'](this['_asset']);if(_0x2fd1a1)return!!_0x2fd1a1['resource'];}return!(0x1*0x1939+-0x158f*-0x1+-0x2ec7);}get['isPaused'](){const _0x53df49=this['instances'],_0x57c39a=_0x53df49['length'];if(_0x57c39a===-0x4*-0x265+0x1e52+-0x1*0x27e6)return!(-0x8f2+0x4*-0x257+0x124f);for(let _0x3a2c1e=-0x13c3+-0xc23+0x1fe6;_0x3a2c1e<_0x57c39a;_0x3a2c1e++)if(!_0x53df49[_0x3a2c1e]['isPaused'])return!(-0x54b+-0x1582+-0x2f*-0x92);return!(-0xf24+-0x3b0*-0x2+-0x1*-0x7c4);}get['isPlaying'](){const _0x2928c6=this['instances'];for(let _0x16f552=-0x1*-0x170d+-0x16*-0x1ac+-0x3bd5,_0x5cb570=_0x2928c6['length'];_0x16f552<_0x5cb570;_0x16f552++)if(_0x2928c6[_0x16f552]['isPlaying'])return!(0x252f+-0x43*-0x89+-0x490a);return!(0x110*-0x1e+0xc1*-0xb+0x6b2*0x6);}get['isStopped'](){const _0xaa8982=this['instances'];for(let _0x4aab4c=-0x2*0xb3e+0x24d2+0x16f*-0xa,_0x3826ee=_0xaa8982['length'];_0x4aab4c<_0x3826ee;_0x4aab4c++)if(!_0xaa8982[_0x4aab4c]['isStopped'])return!(0x2226+0xe5*-0x8+-0x31*0x8d);return!(-0x1*-0x4f6+-0x182b+0x1335);}set['loop'](_0x46f62c){this['_loop']=!!_0x46f62c;const _0x2e9493=this['instances'];for(let _0x3064eb=0x1*0x1a32+0x33*-0x43+0xfd*-0xd,_0x2180a8=_0x2e9493['length'];_0x3064eb<_0x2180a8;_0x3064eb++)_0x2e9493[_0x3064eb]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x238eb6){this['_overlap']=!!_0x238eb6;}get['overlap'](){return this['_overlap'];}set['pitch'](_0xe60874){if(this['_pitch']=Math['max'](Number(_0xe60874)||-0x218d+-0x8e3+0x2a70,0x225b+-0x2*0x10fc+-0x63+0.01),!this['_overlap']){const _0x102806=this['instances'];for(let _0x1a34d6=-0x1666+0x37*-0x53+0x283b,_0x5dc0d4=_0x102806['length'];_0x1a34d6<_0x5dc0d4;_0x1a34d6++)_0x102806[_0x1a34d6]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x33e250){if(this['_startTime']=Math['max'](-0x15fb*0x1+0x20a1+-0xaa6,Number(_0x33e250)||-0x576+-0x75a*0x1+0xcd0),!this['_overlap']){const _0x5c7b69=this['instances'];for(let _0x3ef249=-0x2217+0x1498+0x2b3*0x5,_0x1fda60=_0x5c7b69['length'];_0x3ef249<_0x1fda60;_0x3ef249++)_0x5c7b69[_0x3ef249]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x19c162){if(this['_volume']=N['clamp'](Number(_0x19c162)||-0x1555+0x323*-0x3+0xf5f*0x2,-0x1dfe+-0x206c+0x3e6a,-0x4*-0x2a5+0x93c+-0x13cf),!this['_overlap']){const _0x19a055=this['instances'];for(let _0x398059=-0x1ae8+-0x28e*-0x2+0x15cc,_0x5dc787=_0x19a055['length'];_0x398059<_0x5dc787;_0x398059++)_0x19a055[_0x398059]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}c(er,'EVENT_PLAY','play'),c(er,'EVENT_PAUS'+'E','pause'),c(er,'EVENT_RESU'+'ME','resume'),c(er,'EVENT_STOP','stop'),c(er,'EVENT_LOAD','load');class Nr extends ue{constructor(){super(...arguments),c(this,'_volume',-0x2*-0xd93+0xca6+-0x27cb),c(this,'_pitch',0x70+0x2499+0x1da*-0x14),c(this,'_positiona'+'l',!(-0xe9c+-0x4a+0xee6)),c(this,'_refDistan'+'ce',-0x16*-0x1a6+-0x216f+0x1*-0x2d4),c(this,'_maxDistan'+'ce',-0x23d5*0x2+0x1*0x329f+0x1409*0x3),c(this,'_rollOffFa'+'ctor',-0x1*0x52f+-0x4*-0x377+-0x8ac),c(this,'_distanceM'+'odel',cc),c(this,'_slots',{}),c(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x22df27,_0x5c494f,_0x3df054){const _0x1bd27b=this['_slots'];for(const _0x5afe0c in _0x1bd27b){const _0xb525e5=_0x1bd27b[_0x5afe0c];if(!_0xb525e5['overlap']){const _0x1aa5c8=_0xb525e5['instances'];for(let _0x33697d=0x59c+-0x1*0x241b+0x1e7f,_0x129a8d=_0x1aa5c8['length'];_0x33697d<_0x129a8d;_0x33697d++)_0x1aa5c8[_0x33697d][_0x22df27]=_0x3df054?_0xb525e5[_0x22df27]*_0x5c494f:_0x5c494f;}}}set['distanceMo'+'del'](_0x309c1a){this['_distanceM'+'odel']=_0x309c1a,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x309c1a,!(-0x2*0xcb6+-0x614+0x1f81));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0xe60521){this['_maxDistan'+'ce']=_0xe60521,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0xe60521,!(0x56*0x45+0x6*-0x5a7+-0xabd*-0x1));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x454223){this['_refDistan'+'ce']=_0x454223,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x454223,!(0x35d+-0x1*-0x85d+-0xbb9));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x2c9a7c){this['_rollOffFa'+'ctor']=_0x2c9a7c,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x2c9a7c,!(-0x100*0x2+0x29*-0xe5+0x26ae*0x1));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x2ecd59){this['_pitch']=_0x2ecd59,this['_updateSou'+'ndInstance'+'s']('pitch',_0x2ecd59,!(-0x1*-0x1d7d+-0x25*0x18+-0x1a05*0x1));}get['pitch'](){return this['_pitch'];}set['volume'](_0x3182a4){this['_volume']=_0x3182a4,this['_updateSou'+'ndInstance'+'s']('volume',_0x3182a4,!(0xf3f+0x26*-0x4a+-0x443*0x1));}get['volume'](){return this['_volume'];}set['positional'](_0x218906){this['_positiona'+'l']=_0x218906;const _0x2e3d7e=this['_slots'];for(const _0x2743da in _0x2e3d7e){const _0x62fa=_0x2e3d7e[_0x2743da];if(!_0x62fa['overlap']){const _0x47d023=_0x62fa['instances'],_0x45112e=_0x47d023['length'];for(let _0x2099be=_0x45112e-(0x4b*0x53+-0x4f*0x43+-0x3a3);_0x2099be>=-0x11e6+0x60a*0x5+-0xc4c;_0x2099be--){const _0x53d06c=_0x47d023[_0x2099be]['isPlaying']||_0x47d023[_0x2099be]['isSuspende'+'d'],_0x3b194f=_0x47d023[_0x2099be]['currentTim'+'e'];_0x53d06c&&_0x47d023[_0x2099be]['stop']();const _0xf4abfd=_0x62fa['_createIns'+'tance']();_0x53d06c&&(_0xf4abfd['play'](),_0xf4abfd['currentTim'+'e']=_0x3b194f),_0x47d023['push'](_0xf4abfd);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x4d4076){const _0x578fc1=this['_slots'];if(_0x578fc1){for(const _0x103ca6 in _0x578fc1)_0x578fc1[_0x103ca6]['stop']();}const _0x32a28e={};for(const _0x1bb99b in _0x4d4076)_0x4d4076[_0x1bb99b]instanceof er?_0x32a28e[_0x4d4076[_0x1bb99b]['name']]=_0x4d4076[_0x1bb99b]:_0x4d4076[_0x1bb99b]['name']&&(_0x32a28e[_0x4d4076[_0x1bb99b]['name']]=new er(this,_0x4d4076[_0x1bb99b]['name'],_0x4d4076[_0x1bb99b]));this['_slots']=_0x32a28e,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x5a5fa0=this['_slots'],_0x438fb6=this['_playingBe'+'foreDisabl'+'e'];for(const _0x2d76f0 in _0x5a5fa0){const _0x546c6c=_0x5a5fa0[_0x2d76f0];_0x546c6c['autoPlay']&&_0x546c6c['isStopped']?_0x546c6c['play']():_0x438fb6[_0x2d76f0]?_0x546c6c['resume']():_0x546c6c['isLoaded']||_0x546c6c['load']();}}['onDisable'](){const _0x3f0345=this['_slots'],_0x76796a={};for(const _0x594c3a in _0x3f0345)_0x3f0345[_0x594c3a]['overlap']||_0x3f0345[_0x594c3a]['isPlaying']&&(_0x3f0345[_0x594c3a]['pause'](),_0x76796a[_0x594c3a]=!(-0x25c6+-0x24eb+0x1*0x4ab1));this['_playingBe'+'foreDisabl'+'e']=_0x76796a;}['onRemove'](){this['off']();}['addSlot'](_0x313792,_0x548429){const _0x33314a=this['_slots'];if(_0x33314a[_0x313792])return v['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x313792+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x39041c=new er(this,_0x313792,_0x548429);return _0x33314a[_0x313792]=_0x39041c,_0x39041c['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x39041c['play'](),_0x39041c;}['removeSlot'](_0x2a1928){const _0x4f6275=this['_slots'];_0x4f6275[_0x2a1928]&&(_0x4f6275[_0x2a1928]['stop'](),delete _0x4f6275[_0x2a1928]);}['slot'](_0x402e34){return this['_slots'][_0x402e34];}['_getSlotPr'+'operty'](_0x494705,_0x46e15b){if(!this['enabled']||!this['entity']['enabled'])return;const _0x8a024f=this['_slots'][_0x494705];if(!_0x8a024f){v['warn']('Trying\x20to\x20'+'get\x20'+_0x46e15b+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x494705+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x8a024f[_0x46e15b];}['isPlaying'](_0x3d7582){return this['_getSlotPr'+'operty'](_0x3d7582,'isPlaying')||!(0x1fc2+-0x1d*0x65+-0x1450);}['isLoaded'](_0x174b7c){return this['_getSlotPr'+'operty'](_0x174b7c,'isLoaded')||!(0x1ca0+-0xe8*0x10+-0xe1f);}['isPaused'](_0x186e16){return this['_getSlotPr'+'operty'](_0x186e16,'isPaused')||!(-0x256e+0x1c45*0x1+0x92a);}['isStopped'](_0x27cb73){return this['_getSlotPr'+'operty'](_0x27cb73,'isStopped')||!(0xb58+0x209*0x11+-0x2df0);}['play'](_0x11ff2e){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x340554=this['_slots'][_0x11ff2e];return _0x340554?_0x340554['play']():(v['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x11ff2e+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x26ce48){const _0x196676=this['_slots'];if(_0x26ce48){const _0xc019d6=_0x196676[_0x26ce48];if(!_0xc019d6){v['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x26ce48+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0xc019d6['pause']();}else{for(const _0xd5dcb0 in _0x196676)_0x196676[_0xd5dcb0]['pause']();}}['resume'](_0x47d9b7){const _0x4d77a6=this['_slots'];if(_0x47d9b7){const _0x255794=_0x4d77a6[_0x47d9b7];if(!_0x255794){v['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x47d9b7+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x255794['isPaused']&&_0x255794['resume']();}else{for(const _0x469a86 in _0x4d77a6)_0x4d77a6[_0x469a86]['resume']();}}['stop'](_0x401a83){const _0x5237a2=this['_slots'];if(_0x401a83){const _0x44d6f8=_0x5237a2[_0x401a83];if(!_0x44d6f8){v['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x401a83+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x44d6f8['stop']();}else{for(const _0x533698 in _0x5237a2)_0x5237a2[_0x533698]['stop']();}}}c(Nr,'EVENT_PLAY','play'),c(Nr,'EVENT_PAUS'+'E','pause'),c(Nr,'EVENT_RESU'+'ME','resume'),c(Nr,'EVENT_STOP','stop'),c(Nr,'EVENT_END','end');class kI{constructor(){this['enabled']=!(0xb*-0x10d+0x1c6f*-0x1+0x27fe);}}const xx=['enabled'];class BI extends Xe{constructor(_0x52898e){super(_0x52898e),this['id']='sound',this['ComponentT'+'ype']=Nr,this['DataType']=kI,this['schema']=xx,this['manager']=_0x52898e['soundManag'+'er'],v['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x828c2d){this['manager']['volume']=_0x828c2d;}get['volume'](){return this['manager']['volume'];}get['context'](){return Li()?this['manager']['context']:(v['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x4bbff7,_0x3037f4,_0x480c38){_0x480c38=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x450bd0=0xe5e*-0x2+0xea7+0x5*0x2d1;_0x450bd0<_0x480c38['length'];_0x450bd0++)_0x3037f4['hasOwnProp'+'erty'](_0x480c38[_0x450bd0])&&(_0x4bbff7[_0x480c38[_0x450bd0]]=_0x3037f4[_0x480c38[_0x450bd0]]);super['initialize'+'ComponentD'+'ata'](_0x4bbff7,_0x3037f4,['enabled']);}['cloneCompo'+'nent'](_0x2cb71a,_0x4d324f){const _0x1fcf08=_0x2cb71a['sound'],_0x50936f=_0x1fcf08['slots'],_0x53e7ee={};for(const _0x20aff6 in _0x50936f){const _0x6139b9=_0x50936f[_0x20aff6];_0x53e7ee[_0x20aff6]={'name':_0x6139b9['name'],'volume':_0x6139b9['volume'],'pitch':_0x6139b9['pitch'],'loop':_0x6139b9['loop'],'duration':_0x6139b9['duration'],'startTime':_0x6139b9['startTime'],'overlap':_0x6139b9['overlap'],'autoPlay':_0x6139b9['autoPlay'],'asset':_0x6139b9['asset']};}const _0x22ccc1={'distanceModel':_0x1fcf08['distanceMo'+'del'],'enabled':_0x1fcf08['enabled'],'maxDistance':_0x1fcf08['maxDistanc'+'e'],'pitch':_0x1fcf08['pitch'],'positional':_0x1fcf08['positional'],'refDistance':_0x1fcf08['refDistanc'+'e'],'rollOffFactor':_0x1fcf08['rollOffFac'+'tor'],'slots':_0x53e7ee,'volume':_0x1fcf08['volume']};return this['addCompone'+'nt'](_0x4d324f,_0x22ccc1);}['onUpdate'](_0x9dc911){const _0x1e5b82=this['store'];for(const _0x2f8d42 in _0x1e5b82)if(_0x1e5b82['hasOwnProp'+'erty'](_0x2f8d42)){const _0x2ada3a=_0x1e5b82[_0x2f8d42]['entity'];if(_0x2ada3a['enabled']){const _0x544c7c=_0x2ada3a['sound'];if(_0x544c7c['enabled']&&_0x544c7c['positional']){const _0x4bf792=_0x2ada3a['getPositio'+'n'](),_0x3eb193=_0x544c7c['slots'];for(const _0x24abfb in _0x3eb193)_0x3eb193[_0x24abfb]['updatePosi'+'tion'](_0x4bf792);}}}}['onBeforeRe'+'move'](_0xe84a64,_0x29c576){const _0x26f313=_0x29c576['slots'];for(const _0xf8ee65 in _0x26f313)_0x26f313[_0xf8ee65]['overlap']||_0x26f313[_0xf8ee65]['stop']();_0x29c576['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Nr['prototype'],xx);const Cg='simple',Mg='animated';class bi extends ce{constructor(_0x408b54,_0x48d927){super(),c(this,'_evtSetMes'+'hes',null),(this['_component']=_0x408b54,this['_frame']=0x21*-0x52+-0x31b*-0xa+-0x147c,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x48d927['spriteAsse'+'t'],this['name']=_0x48d927['name'],this['fps']=_0x48d927['fps']||0x423+0x2*0x747+-0x12b1,this['loop']=_0x48d927['loop']||!(-0x32d+-0x24a*-0x6+-0xa8e),this['_playing']=!(0x2287*-0x1+0x16*0x182+0x15c*0x1),this['_paused']=!(-0x2147+-0x3*0x979+0x1491*0x3),this['_time']=0x94d+0x1aac+0x1*-0x23f9);}get['duration'](){if(this['_sprite']){const _0x2f4fb7=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x2f4fb7);}return 0x1239+-0x1*0x4e7+-0xd52;}set['frame'](_0x57cea1){this['_setFrame'](_0x57cea1);const _0x2923a2=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x2923a2);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x3b3d77){var _0x2e69c9;if(this['_sprite']&&((_0x2e69c9=this['_evtSetMes'+'hes'])==null||_0x2e69c9['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x3b3d77,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x234072;!_0x3b3d77||!_0x3b3d77['atlas']?(_0x234072=this['_component']['_meshInsta'+'nce'],_0x234072&&(_0x234072['deletePara'+'meter']('texture_em'+'issiveMap'),_0x234072['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x3b3d77['atlas']['texture']&&(_0x234072=this['_component']['_meshInsta'+'nce'],_0x234072&&(_0x234072['setParamet'+'er']('texture_em'+'issiveMap',_0x3b3d77['atlas']['texture']),_0x234072['setParamet'+'er']('texture_op'+'acityMap',_0x3b3d77['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x2e52a8){const _0x1790c7=this['_component']['system']['app']['assets'];let _0x5dcd26=_0x2e52a8;if(_0x2e52a8 instanceof le&&(_0x5dcd26=_0x2e52a8['id']),this['_spriteAss'+'et']!==_0x5dcd26){if(this['_spriteAss'+'et']){const _0xc95383=_0x1790c7['get'](this['_spriteAss'+'et']);_0xc95383&&this['_unbindSpr'+'iteAsset'](_0xc95383);}if(this['_spriteAss'+'et']=_0x5dcd26,this['_spriteAss'+'et']){const _0x15cf0e=_0x1790c7['get'](this['_spriteAss'+'et']);_0x15cf0e?this['_bindSprit'+'eAsset'](_0x15cf0e):(this['sprite']=null,_0x1790c7['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x265b5a){this['_setTime'](_0x265b5a),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(-0xf30+-0x1c38+0x2b69),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=0x116*0x4+-0x8*-0x6+-0x488;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x50af15){this['_component']['system']['app']['assets']['off']('add:'+_0x50af15['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x50af15['id']&&this['_bindSprit'+'eAsset'](_0x50af15);}['_bindSprit'+'eAsset'](_0x150df3){_0x150df3['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x150df3['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x150df3['resource']?this['_onSpriteA'+'ssetLoad'](_0x150df3):this['_component']['system']['app']['assets']['load'](_0x150df3);}['_unbindSpr'+'iteAsset'](_0x6e24f5){_0x6e24f5&&(_0x6e24f5['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x6e24f5['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x6e24f5['resource']&&!_0x6e24f5['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x6e24f5['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x1c9520){if(!_0x1c9520['resource'])this['sprite']=null;else{if(_0x1c9520['resource']['atlas'])this['sprite']=_0x1c9520['resource'];else{const _0x521fac=_0x1c9520['data']['textureAtl'+'asAsset'],_0x439df9=this['_component']['system']['app']['assets'];_0x439df9['off']('load:'+_0x521fac,this['_onTexture'+'AtlasLoad'],this),_0x439df9['once']('load:'+_0x521fac,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x2a4a40){const _0x4f7339=this['_spriteAss'+'et'];_0x4f7339 instanceof le?this['_onSpriteA'+'ssetLoad'](_0x4f7339):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x4f7339));}['_onSpriteA'+'ssetRemove'](_0x56e63f){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==Ti&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x45610f){if(this['fps']===0x1892+-0x10f2+-0x7a0||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0xb1a157=this['fps']<0x6*-0x77+0x1901+-0x1637?-(0x2*-0x1089+-0x6*-0x331+0x9b*0x17):0x1*0x10c2+0x8*-0x377+0xaf7,_0x2b9ca9=this['_time']+_0x45610f*this['_component']['speed']*_0xb1a157,_0x437775=this['duration'],_0xef2aaf=_0x2b9ca9>_0x437775||_0x2b9ca9<0x983*-0x1+-0x14ab+0x1e2e;this['_setTime'](_0x2b9ca9);let _0x4bd62c=this['frame'];this['_sprite']?_0x4bd62c=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x437775):_0x4bd62c=-0x17*-0x32+0x2*0x118c+0x699*-0x6,_0x4bd62c!==this['_frame']&&this['_setFrame'](_0x4bd62c),_0xef2aaf&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(0x117b+0x1*-0x699+-0xae1),this['_paused']=!(0x2*0x9ac+0x375+0x1*-0x16cc),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x2c2e03){this['_time']=_0x2c2e03;const _0x3ac58d=this['duration'];this['_time']<-0x2009+0x1a2f+-0x7*-0xd6?this['loop']?this['_time']=this['_time']%_0x3ac58d+_0x3ac58d:this['_time']=0x1072+0x42d*-0x5+0xe3*0x5:this['_time']>_0x3ac58d&&(this['loop']?this['_time']%=_0x3ac58d:this['_time']=_0x3ac58d);}['_setFrame'](_0x3f3df0){this['_sprite']?this['_frame']=N['clamp'](_0x3f3df0,0x5*-0x2c5+0x1be6+-0xb*0x147,this['_sprite']['frameKeys']['length']-(-0x317*0x3+0x18e6*0x1+-0xfa0)):this['_frame']=_0x3f3df0,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x1ee59e=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x1ee59e['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(-0x92a+-0x8ad*0x1+0x11d7),this['_paused']=!(-0x789+0x22d2+0x1b48*-0x1),this['frame']=0x31*0x26+0x127d+-0x19c3,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(0x14b5+0x2105+-0xd*0x422),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(-0x812*-0x1+-0x1086+0x875),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(0x20c7+0xb45+-0x2c0b),this['_paused']=!(0x2e*-0x4+-0x1*-0xe75+0x24a*-0x6),this['_time']=0xd*0x1c9+-0xb2a+0xc0b*-0x1,this['frame']=0x1b81+-0x234b+-0x7ca*-0x1,this['fire']('stop'),this['_component']['fire']('stop',this));}}c(bi,'EVENT_PLAY','play'),c(bi,'EVENT_PAUS'+'E','pause'),c(bi,'EVENT_RESU'+'ME','resume'),c(bi,'EVENT_STOP','stop'),c(bi,'EVENT_END','end'),c(bi,'EVENT_LOOP','loop');const Pg='texture_em'+'issiveMap',Rg='texture_op'+'acityMap',Ig='material_e'+'missive',Dg='material_o'+'pacity',NI='innerOffse'+'t',zI='outerScale',UI='atlasRect';class ji extends ue{constructor(_0x3a5973,_0x144738){super(_0x3a5973,_0x144738),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_type']=Cg,this['_material']=_0x3a5973['defaultMat'+'erial'],this['_color']=new Y(0x443+-0x1253+0xe11,-0x781*-0x5+-0xb5*-0x21+-0x25*0x1a5,0xc97+0x1b1*0x7+-0x186d,0x1a0a+-0x6bb+-0x161*0xe),this['_colorUnif'+'orm']=new Float32Array(-0x1079+0xe20*-0x1+-0x4*-0x7a7),this['_speed']=0xad9+0xf*0x201+-0x28e7,this['_flipX']=!(-0x1*0x9c7+-0x77d+0x1145),this['_flipY']=!(-0x1674+0x1ff1*0x1+-0x1*0x97c),this['_width']=0x235+0x226d+-0x24a1,this['_height']=0x2200+0x1*0x1a4b+-0x3c4a,this['_drawOrder']=-0x15*0xd+0x442+-0x1*0x331,this['_layers']=[Fi],this['_outerScal'+'e']=new W(-0x4*0x7dd+0xed7+0x6*0x2c5,0x10dd+-0x1b*0x3d+0x9d*-0x11),this['_outerScal'+'eUniform']=new Float32Array(0x24cf+-0x1421+-0x2c*0x61),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(0x2c*0x32+0xc1c+-0xa58*0x2),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(0x131c*0x1+-0x949*-0x2+-0x25aa*0x1),this['_batchGrou'+'pId']=-(-0xed8+-0x2492+0x336b),this['_batchGrou'+'p']=null,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x144738['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x144738,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(0x1*0x1cc3+0xae3+-0x27a5),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new bi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(0x343+0x9*0x35+0x3*-0x1b5),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x4cc962){this['_type']!==_0x4cc962&&(this['_type']=_0x4cc962,this['_type']===Cg?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===Mg&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0xda3b73){this['_currentCl'+'ip']['frame']=_0xda3b73;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x19be2a){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x19be2a;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x265fb8){this['_currentCl'+'ip']['sprite']=_0x265fb8;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x3b466e){this['_material']=_0x3b466e,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x3b466e);}get['material'](){return this['_material'];}set['color'](_0x239ea3){this['_color']['r']=_0x239ea3['r'],this['_color']['g']=_0x239ea3['g'],this['_color']['b']=_0x239ea3['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][0x3df*-0x5+-0x7b*-0x2b+0x1*-0x14e]=this['_color']['r'],this['_colorUnif'+'orm'][0x3*0x837+-0x1*-0xc5f+-0x2503]=this['_color']['g'],this['_colorUnif'+'orm'][-0xd11+0xa22+-0x3*-0xfb]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x2e2497){this['_color']['a']=_0x2e2497,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](Dg,_0x2e2497);}get['opacity'](){return this['_color']['a'];}set['clips'](_0xbcb5cf){if(!_0xbcb5cf){for(const _0x1ebc46 in this['_clips'])this['removeClip'](_0x1ebc46);return;}for(const _0x1215bb in this['_clips']){let _0x665e3c=!(0x42d*0x7+-0x3f5*0x2+-0x1550);for(const _0x2adb23 in _0xbcb5cf)if(_0xbcb5cf[_0x2adb23]['name']===_0x1215bb){_0x665e3c=!(-0x23eb+-0x1eb2+0x429d),this['_clips'][_0x1215bb]['fps']=_0xbcb5cf[_0x2adb23]['fps'],this['_clips'][_0x1215bb]['loop']=_0xbcb5cf[_0x2adb23]['loop'],_0xbcb5cf[_0x2adb23]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x1215bb]['sprite']=_0xbcb5cf[_0x2adb23]['sprite']:_0xbcb5cf[_0x2adb23]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x1215bb]['spriteAsse'+'t']=_0xbcb5cf[_0x2adb23]['spriteAsse'+'t']);break;}_0x665e3c||this['removeClip'](_0x1215bb);}for(const _0x28eda2 in _0xbcb5cf)this['_clips'][_0xbcb5cf[_0x28eda2]['name']]||this['addClip'](_0xbcb5cf[_0x28eda2]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x1d1f7f){this['_speed']=_0x1d1f7f;}get['speed'](){return this['_speed'];}set['flipX'](_0x5bdd21){this['_flipX']!==_0x5bdd21&&(this['_flipX']=_0x5bdd21,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x3d7181){this['_flipY']!==_0x3d7181&&(this['_flipY']=_0x3d7181,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x51572c){_0x51572c!==this['_width']&&(this['_width']=_0x51572c,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x4ec782){_0x4ec782!==this['_height']&&(this['_height']=_0x4ec782,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x440304){var _0x279efb,_0x2e31f5;if(this['_batchGrou'+'pId']===_0x440304)return;const _0x340747=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x440304,this['entity']['enabled']&&_0x340747>=0x10f*0x1f+-0x226+-0x1eab&&((_0x279efb=this['system']['app']['batcher'])==null||_0x279efb['remove'](et['SPRITE'],_0x340747,this['entity'])),this['entity']['enabled']&&_0x440304>=-0x166+0x5fd+0x5*-0xeb?(_0x2e31f5=this['system']['app']['batcher'])==null||_0x2e31f5['insert'](et['SPRITE'],_0x440304,this['entity']):_0x340747>=0x255f+0x1d5*-0x3+-0x4*0x7f8&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0xa25e00){this['_autoPlayC'+'lip']=_0xa25e00 instanceof bi?_0xa25e00['name']:_0xa25e00,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x5d95cb){this['_drawOrder']=_0x5d95cb,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x5d95cb);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x5d5880){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x5d5880,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x20f338;const _0xfb9c98=this['system']['app'],_0x2d3aa5=_0xfb9c98['scene'],_0x747ffc=_0x2d3aa5['layers'];this['_evtLayers'+'Changed']=_0x2d3aa5['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x747ffc&&(this['_evtLayerA'+'dded']=_0x747ffc['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x747ffc['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=-0x1*-0x10e9+-0x55*0x65+0x10a0&&((_0x20f338=_0xfb9c98['batcher'])==null||_0x20f338['insert'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x51f66c,_0x2e3df3,_0x3c787b,_0x2e1bd3;const _0x138fc0=this['system']['app'],_0x597056=_0x138fc0['scene']['layers'];(_0x51f66c=this['_evtLayers'+'Changed'])==null||_0x51f66c['off'](),this['_evtLayers'+'Changed']=null,_0x597056&&((_0x2e3df3=this['_evtLayerA'+'dded'])==null||_0x2e3df3['off'](),this['_evtLayerA'+'dded']=null,(_0x3c787b=this['_evtLayerR'+'emoved'])==null||_0x3c787b['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=0xfd3*-0x2+-0x63*-0x29+0x1*0xfcb&&((_0x2e1bd3=_0x138fc0['batcher'])==null||_0x2e1bd3['remove'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x554d14;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x36ae3d in this['_clips'])this['_clips'][_0x36ae3d]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x554d14=this['_node'])==null||_0x554d14['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x2ce18f=[this['_meshInsta'+'nce']];for(let _0x159b50=0x718+-0x1*0x123b+0xb23,_0x112514=this['_layers']['length'];_0x159b50<_0x112514;_0x159b50++){const _0x2e9371=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x159b50]);_0x2e9371&&_0x2e9371['addMeshIns'+'tances'](_0x2ce18f);}this['_addedMode'+'l']=!(0x18dc+-0x1af*-0x10+-0x19e6*0x2);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x508c56=[this['_meshInsta'+'nce']];for(let _0x150a82=-0x7*0x3f1+-0x15b*-0x11+0x48c,_0x419cd3=this['_layers']['length'];_0x150a82<_0x419cd3;_0x150a82++){const _0x36bedd=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x150a82]);_0x36bedd&&_0x36bedd['removeMesh'+'Instances'](_0x508c56);}this['_addedMode'+'l']=!(-0xcea+-0xa+0x1*0xcf5);}['_showFrame'](_0x463aff){if(!this['sprite'])return;const _0x18b441=this['sprite']['meshes'][_0x463aff];if(!_0x18b441){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(-0x13*-0x69+-0xfe9+-0x129*-0x7));return;}let _0x3cd689;if(this['sprite']['renderMode']===nt?_0x3cd689=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Qe?_0x3cd689=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x3cd689=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new Le(_0x18b441,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(-0x50d*0x1+-0x377*-0x4+0x62*-0x17),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(-0x1*0x803+0x1c9*0x3+0xe3*0x3),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][-0x260+0x326+-0xc6]=this['_color']['r'],this['_colorUnif'+'orm'][0xabf*-0x1+-0x1177+0x1c37*0x1]=this['_color']['g'],this['_colorUnif'+'orm'][-0xb35*0x1+0x172+0x29*0x3d]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](Dg,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x3cd689&&(this['_meshInsta'+'nce']['material']=_0x3cd689),this['_meshInsta'+'nce']['mesh']!==_0x18b441&&(this['_meshInsta'+'nce']['mesh']=_0x18b441,this['_meshInsta'+'nce']['visible']=!(-0x17b2+-0xb93*0x1+0x2345),this['_meshInsta'+'nce']['_aabbVer']=-(0x1*-0x4c9+-0x638*-0x4+-0x6b2*0x3)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](Pg,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](Rg,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](Pg),this['_meshInsta'+'nce']['deletePara'+'meter'](Rg)),this['sprite']['atlas']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x573caf=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x463aff]];if(_0x573caf){const _0x2e29ce=(0x3*0xc59+-0x23bc*-0x1+0x48c5*-0x1)/_0x573caf['rect']['z'],_0x2be416=(-0xfd8+0x1beb+-0xc11)/_0x573caf['rect']['w'];this['_innerOffs'+'et']['set'](_0x573caf['border']['x']*_0x2e29ce,_0x573caf['border']['y']*_0x2be416,_0x573caf['border']['z']*_0x2e29ce,_0x573caf['border']['w']*_0x2be416);const _0x41804=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x573caf['rect']['x']/_0x41804['width'],_0x573caf['rect']['y']/_0x41804['height'],_0x573caf['rect']['z']/_0x41804['width'],_0x573caf['rect']['w']/_0x41804['height']);}else this['_innerOffs'+'et']['set'](0x107+-0x3d*-0x3b+-0xf16,0x12e1+0x7ea+-0x13*0x169,-0xb1*-0x38+-0x28*-0xf+0x248*-0x12,-0x4*-0x554+0x18ad+-0x2dfd);this['_innerOffs'+'etUniform'][-0x1fe9+0x6*-0x418+0x3879]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x4a*0x5d+0x24d6+-0x3fb7]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x1*0xc5e+0xd97*-0x1+0x11*0x187]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x86+0x1b2*0x7+-0xc61]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](NI,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x45*-0x9+0x2ea*0xb+-0x227b*0x1]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x259b+-0x1feb+-0x33*-0x15d]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x1*-0x158+0x1841*-0x1+0x199b*0x1]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x2295+0x1*-0x1ba+0x2452]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](UI,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x1f9eba=this['flipX']?-(0x3*0x28f+0x1053+-0x17ff):-0x2*0xcbf+0x3*-0xb1b+0x8*0x75a,_0x409fc6=this['flipY']?-(-0x1269*0x1+0x11d4+0x3*0x32):0x167*-0x11+-0x793+-0x1*-0x1f6b,_0x7a1fd3=-0x1d4c+-0xe2+0x1e2e,_0x583086=-0x237f+0x7d*-0xc+0x295b;if(this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){let _0x444ff5=-0xe9*0xb+-0x21fe+-0x106*-0x2b,_0x4fa021=-0x3e*0x18+0x5*-0xe0+-0x1*-0xa31;if(this['sprite']['atlas']){const _0x2f5989=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x2f5989&&(_0x444ff5=_0x2f5989['rect']['z'],_0x4fa021=_0x2f5989['rect']['w'],_0x7a1fd3=(0x1ff8+-0x990+-0x1668+0.5-_0x2f5989['pivot']['x'])*this['_width'],_0x583086=(0x0+-0x1*0xb93+-0xb93*-0x1+0.5-_0x2f5989['pivot']['y'])*this['_height']);}const _0x39a753=_0x444ff5/this['sprite']['pixelsPerU'+'nit'],_0x1d865f=_0x4fa021/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x39a753),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x1d865f)),_0x1f9eba*=_0x39a753,_0x409fc6*=_0x1d865f,this['_outerScal'+'e']['x']/=_0x39a753,this['_outerScal'+'e']['y']/=_0x1d865f,_0x1f9eba*=N['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x39a753),-0x23a7+0x2573+0x1*-0x1cc+0.0001,0x652*0x2+-0x1*0xb3+-0xbf0),_0x409fc6*=N['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x1d865f),0x13*-0x53+0x982*0x1+-0x359+0.0001,0x1d7c+-0x2269+0x1*0x4ee),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][-0x1b99+-0x1*0x1619+0x31b2]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0xf*0x270+-0x1c8d*-0x1+0x804]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](zI,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x1f9eba,_0x409fc6,0x38f*-0x7+0x2208+-0x91e),this['_node']['setLocalPo'+'sition'](_0x7a1fd3,_0x583086,-0x13b5+-0x12f2*-0x1+0xc3);}['_updateAab'+'b'](_0x2b0c08){return _0x2b0c08['center']['set'](-0x737+-0xb19*-0x1+-0xe*0x47,0x1b84+-0x2*-0xc5f+0x1a21*-0x2,0x3e1*0x4+0x3*-0x5d1+0x63*0x5),_0x2b0c08['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x10*0x1ea+0x3a*-0x84+0x1*0x3c88+0.5),this['_outerScal'+'e']['y']*(-0x2631+-0x1528+0x3b59+0.5),0xc8d+-0x1*0x2383+0x16f6+0.001),_0x2b0c08['setFromTra'+'nsformedAa'+'bb'](_0x2b0c08,this['_node']['getWorldTr'+'ansform']()),_0x2b0c08;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==Mg)return;const _0x5d5be2=this['_clips'][this['_autoPlayC'+'lip']];_0x5d5be2&&!_0x5d5be2['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x5d5be2['name']);}['_onLayersC'+'hanged'](_0x27377c,_0x1da7ba){_0x27377c['off']('add',this['onLayerAdd'+'ed'],this),_0x27377c['off']('remove',this['onLayerRem'+'oved'],this),_0x1da7ba['on']('add',this['onLayerAdd'+'ed'],this),_0x1da7ba['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x468145){this['layers']['indexOf'](_0x468145['id'])<0x24e0+-0x10be+-0x1422||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x468145['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x2ca1f3){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x2ca1f3['id'])<0x3d5+0xa14+0x4a3*-0x3||_0x2ca1f3['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0xd2705b=0x2*0xa43+-0x1f2a+0xaa4;_0xd2705b<this['layers']['length'];_0xd2705b++){const _0xf32b48=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0xd2705b]);_0xf32b48&&_0xf32b48['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x5a7028){const _0x4a85bb=new bi(this,{'name':_0x5a7028['name'],'fps':_0x5a7028['fps'],'loop':_0x5a7028['loop'],'spriteAsset':_0x5a7028['spriteAsse'+'t']});return this['_clips'][_0x5a7028['name']]=_0x4a85bb,_0x4a85bb['name']&&_0x4a85bb['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x4a85bb;}['removeClip'](_0x15078f){delete this['_clips'][_0x15078f];}['clip'](_0x5716a7){return this['_clips'][_0x5716a7];}['play'](_0xcd61a7){const _0x1ad142=this['_clips'][_0xcd61a7],_0x3ded70=this['_currentCl'+'ip'];return _0x3ded70&&_0x3ded70!==_0x1ad142&&(_0x3ded70['_playing']=!(0x2169*-0x1+0x2412+0x88*-0x5)),this['_currentCl'+'ip']=_0x1ad142,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x1ad142,this['_currentCl'+'ip']['play']()):v['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0xcd61a7+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x1ad142;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}c(ji,'EVENT_PLAY','play'),c(ji,'EVENT_PAUS'+'E','pause'),c(ji,'EVENT_RESU'+'ME','resume'),c(ji,'EVENT_STOP','stop'),c(ji,'EVENT_END','end'),c(ji,'EVENT_LOOP','loop');class VI{constructor(){this['enabled']=!(0x2104+-0x14fe+-0xc06);}}const Sx=['enabled'];class GI extends Xe{constructor(_0x584e7f){super(_0x584e7f),this['id']='sprite',this['ComponentT'+'ype']=ji,this['DataType']=VI,this['schema']=Sx,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x988145){this['_defaultMa'+'terial']=_0x988145;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x1921cc=new he(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':Se,'name':'sprite'}),_0xdbfdcf=new Uint8Array(_0x1921cc['lock']());_0xdbfdcf[0x15*-0x1a+0x1*0x1933+-0x5*0x49d]=_0xdbfdcf[-0xe*-0x2bd+-0x1d5*0xd+-0xe84]=_0xdbfdcf[0x18b9*-0x1+-0x826+0x1*0x20e1]=_0xdbfdcf[-0x1fd7+-0x7*0x19c+0x158f*0x2]=-0x2498+0x8*0x3eb+0x63f,_0x1921cc['unlock']();const _0x4014fe=new cs();_0x4014fe['diffuse']['set'](-0x14ee*0x1+-0x13fe+0x28ec,-0x93*-0x36+0x1abf+-0x39c1,0xa9c+0x1*-0x682+-0xf*0x46),_0x4014fe['emissive']['set'](0x3f6+0x5aa+-0x99f,-0x1511*-0x1+-0x9b*-0x14+-0x212c,-0x3be*-0x1+0x2074*-0x1+0x1cb7),_0x4014fe['emissiveMa'+'p']=_0x1921cc,_0x4014fe['opacityMap']=_0x1921cc,_0x4014fe['opacityMap'+'Channel']='a',_0x4014fe['useLightin'+'g']=!(-0x1*-0x851+-0x4bd+0xb7*-0x5),_0x4014fe['useTonemap']=!(-0x11eb+-0x197d+0x2b69),_0x4014fe['useFog']=!(0xd1*-0x5+0x12f*-0x11+0x1835),_0x4014fe['useSkybox']=!(-0x959+-0x1*0x1b8c+0x24e6),_0x4014fe['blendType']=hr,_0x4014fe['depthWrite']=!(0x1*0x79f+-0x244f+0x1cb1),_0x4014fe['pixelSnap']=!(-0x1440+-0x1*-0x247c+-0x103b),_0x4014fe['cull']=mt,_0x4014fe['update'](),this['_defaultTe'+'xture']=_0x1921cc,this['_defaultMa'+'terial']=_0x4014fe;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x343658){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x343658;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x3af882=this['defaultMat'+'erial']['clone']();_0x3af882['nineSliced'+'Mode']=nt,_0x3af882['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x3af882;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x5d8aa3){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x5d8aa3;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x474f9c=this['defaultMat'+'erial']['clone']();_0x474f9c['nineSliced'+'Mode']=Qe,_0x474f9c['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x474f9c;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x956127,_0x4d10d8,_0x3b45c4){if(_0x4d10d8['enabled']!==void(-0x4d7+0x263*0x4+-0x4b5)&&(_0x956127['enabled']=_0x4d10d8['enabled']),_0x956127['type']=_0x4d10d8['type'],_0x4d10d8['layers']&&Array['isArray'](_0x4d10d8['layers'])&&(_0x956127['layers']=_0x4d10d8['layers']['slice'](-0x32*-0x1d+0x1d1e*0x1+-0x8*0x459)),_0x4d10d8['drawOrder']!==void(-0x5*-0x464+-0x8a*-0x1d+-0x11*0x236)&&(_0x956127['drawOrder']=_0x4d10d8['drawOrder']),_0x4d10d8['color']!==void(-0x1d15+0x2*0xc8+0x5*0x581)&&(_0x4d10d8['color']instanceof Y?_0x956127['color']['set'](_0x4d10d8['color']['r'],_0x4d10d8['color']['g'],_0x4d10d8['color']['b'],_0x4d10d8['opacity']??-0x8*0x2b0+-0x163*0x5+0x4*0x71c):_0x956127['color']['set'](_0x4d10d8['color'][0x1782+-0x7a*-0x31+-0x2edc],_0x4d10d8['color'][0x4c1*0x1+0x22b6+-0x13bb*0x2],_0x4d10d8['color'][-0x11f2+0x1*-0x7ca+0x19be],_0x4d10d8['opacity']??0x1ce7+-0x4dd+-0x1*0x1809),_0x956127['color']=_0x956127['color']),_0x4d10d8['opacity']!==void(0xe72+0x83f*0x1+-0x16b1)&&(_0x956127['opacity']=_0x4d10d8['opacity']),_0x4d10d8['flipX']!==void(-0x201e+0x2*0x3e5+0x12*0x15a)&&(_0x956127['flipX']=_0x4d10d8['flipX']),_0x4d10d8['flipY']!==void(0x69d*-0x2+-0x99a*-0x3+0x4*-0x3e5)&&(_0x956127['flipY']=_0x4d10d8['flipY']),_0x4d10d8['width']!==void(-0x6*-0x500+-0x133+-0x1ccd)&&(_0x956127['width']=_0x4d10d8['width']),_0x4d10d8['height']!==void(0x141a+0x19b5*-0x1+0x59b*0x1)&&(_0x956127['height']=_0x4d10d8['height']),_0x4d10d8['spriteAsse'+'t']!==void(-0x1d21+-0x1bc9+0x38ea)&&(_0x956127['spriteAsse'+'t']=_0x4d10d8['spriteAsse'+'t']),_0x4d10d8['sprite']&&(_0x956127['sprite']=_0x4d10d8['sprite']),_0x4d10d8['frame']!==void(-0x2*0x729+0x12e4+0x6*-0xc3)&&(_0x956127['frame']=_0x4d10d8['frame']),_0x4d10d8['clips']){for(const _0x205db3 in _0x4d10d8['clips'])_0x956127['addClip'](_0x4d10d8['clips'][_0x205db3]);}_0x4d10d8['speed']!==void(-0x1af*0x3+-0x203e+-0x254b*-0x1)&&(_0x956127['speed']=_0x4d10d8['speed']),_0x4d10d8['autoPlayCl'+'ip']&&(_0x956127['autoPlayCl'+'ip']=_0x4d10d8['autoPlayCl'+'ip']),_0x956127['batchGroup'+'Id']=_0x4d10d8['batchGroup'+'Id']===void(-0x1f91+0x1*0x3f5+0x1b9c)||_0x4d10d8['batchGroup'+'Id']===null?-(-0x15a1*-0x1+0x245e+-0x39fe):_0x4d10d8['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x956127,_0x4d10d8,_0x3b45c4);}['cloneCompo'+'nent'](_0x19b023,_0x408dd3){const _0x4de0b1=_0x19b023['sprite'];return this['addCompone'+'nt'](_0x408dd3,{'enabled':_0x4de0b1['enabled'],'type':_0x4de0b1['type'],'spriteAsset':_0x4de0b1['spriteAsse'+'t'],'sprite':_0x4de0b1['sprite'],'width':_0x4de0b1['width'],'height':_0x4de0b1['height'],'frame':_0x4de0b1['frame'],'color':_0x4de0b1['color']['clone'](),'opacity':_0x4de0b1['opacity'],'flipX':_0x4de0b1['flipX'],'flipY':_0x4de0b1['flipY'],'speed':_0x4de0b1['speed'],'clips':_0x4de0b1['clips'],'autoPlayClip':_0x4de0b1['autoPlayCl'+'ip'],'batchGroupId':_0x4de0b1['batchGroup'+'Id'],'drawOrder':_0x4de0b1['drawOrder'],'layers':_0x4de0b1['layers']['slice'](-0x2*0x3e5+0x12cf+-0x5b*0x1f)});}['onUpdate'](_0x4d3797){const _0x4fb6f1=this['store'];for(const _0x49741f in _0x4fb6f1)if(_0x4fb6f1['hasOwnProp'+'erty'](_0x49741f)){const _0x219907=_0x4fb6f1[_0x49741f];if(_0x219907['data']['enabled']&&_0x219907['entity']['enabled']){const _0x397f54=_0x219907['entity']['sprite'];_0x397f54['_currentCl'+'ip']&&_0x397f54['_currentCl'+'ip']['_update'](_0x4d3797);}}}['onBeforeRe'+'move'](_0x50640c,_0x422201){_0x422201['onDestroy']();}}ue['_buildAcce'+'ssors'](ji['prototype'],Sx);class ra extends ue{constructor(_0x1ced55,_0x11fa66){super(_0x1ced55,_0x11fa66),this['_oldState']=!(-0x1f*0x5+0xa06+-0x1*0x96b),this['_size']=new T(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x55800c){_0x55800c instanceof T?this['_size']['copy'](_0x55800c):_0x55800c instanceof Array&&_0x55800c['length']>=-0xb6d+0x3b9+0x7b7&&this['size']['set'](_0x55800c[0xc1*0x1a+-0x254b+0x7*0x287],_0x55800c[0x15c7+-0x15f+0x3*-0x6cd],_0x55800c[0x2032+-0x1959+-0x6d7]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x5dd9f3,_0x354737,_0x54bd5a){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x5eb5d2=this['enabled']&&this['entity']['enabled'];_0x5eb5d2!==this['_oldState']&&(this['_oldState']=_0x5eb5d2,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}c(ra,'EVENT_ENAB'+'LE','enable'),c(ra,'EVENT_DISA'+'BLE','disable'),c(ra,'EVENT_STAT'+'E','state'),c(ra,'EVENT_REMO'+'VE','remove');class HI{constructor(){this['enabled']=!(-0x3*0x7ad+0x49c*0x6+-0x4a1);}}const vx=['enabled'];class WI extends Xe{constructor(_0xa55089){super(_0xa55089),this['id']='zone',this['ComponentT'+'ype']=ra,this['DataType']=HI,this['schema']=vx,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x5dc857,_0x21758b,_0x2dcd40){_0x5dc857['enabled']=_0x21758b['hasOwnProp'+'erty']('enabled')?!!_0x21758b['enabled']:!(0x2709+0xcc0+0x9*-0x5c1),_0x21758b['size']&&(_0x21758b['size']instanceof T?_0x5dc857['size']['copy'](_0x21758b['size']):_0x21758b['size']instanceof Array&&_0x21758b['size']['length']>=-0x10da+-0x1224+0x2301&&_0x5dc857['size']['set'](_0x21758b['size'][0x657+-0x1*0x2475+0x1e1e],_0x21758b['size'][0x19*0x77+-0x77*-0x5+0xdf1*-0x1],_0x21758b['size'][0x4*0x19a+-0x10be+-0x8*-0x14b]));}['cloneCompo'+'nent'](_0x146b05,_0x2d93e3){const _0x23ec07={'enabled':_0x146b05['zone']['enabled'],'size':_0x146b05['zone']['size']};return this['addCompone'+'nt'](_0x2d93e3,_0x23ec07);}['_onBeforeR'+'emove'](_0x368c18,_0x2b43fe){_0x2b43fe['_onBeforeR'+'emove']();}}ue['_buildAcce'+'ssors'](ra['prototype'],vx);class $I{constructor(_0x3458f1,_0x9237f2){this['effect']=_0x3458f1,this['inputTarge'+'t']=_0x9237f2,this['outputTarg'+'et']=null,this['name']=_0x3458f1['constructo'+'r']['name'];}}class qI{constructor(_0x57d46e,_0x3c3a52){this['app']=_0x57d46e,this['camera']=_0x3c3a52,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(-0x1cd5+-0x25b5+0xd4f*0x5),this['depthTarge'+'t']=null,_0x3c3a52['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0xdb4f93,_0x5e18f6){const _0x1be96a=this['camera']['rect'],_0x4dd9fa=this['destinatio'+'nRenderTar'+'get'],_0x15e1b8=this['app']['graphicsDe'+'vice'],_0x91c17e=Math['floor'](_0x1be96a['z']*((_0x4dd9fa==null?void(-0x126+-0x1a9a+-0x1bc0*-0x1):_0x4dd9fa['width'])??_0x15e1b8['width'])),_0x2e05f2=Math['floor'](_0x1be96a['w']*((_0x4dd9fa==null?void(0x2af*-0x4+0x22fe+0x26d*-0xa):_0x4dd9fa['height'])??_0x15e1b8['height']));return new he(_0x15e1b8,{'name':_0x5e18f6,'format':_0xdb4f93,'width':_0x91c17e,'height':_0x2e05f2,'mipmaps':!(-0x12d9+0x19*0xac+0x20e),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['_createOff'+'screenTarg'+'et'](_0x2470d7,_0x540cb9){const _0x566f32=this['app']['graphicsDe'+'vice'],_0x5af2bf=(this['destinatio'+'nRenderTar'+'get']??_0x566f32['backBuffer'])['isColorBuf'+'ferSrgb'](0x13d3+-0xd6*-0xd+-0x369*0x9),_0x2ff139=(_0x540cb9&&_0x566f32['getRendera'+'bleHdrForm'+'at']([Je,Ke],!(0x658+-0x1693+0x3*0x569)))??(_0x5af2bf?rs:Se),_0x50b8b2=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x56cf68=this['_allocateC'+'olorBuffer'](_0x2ff139,_0x50b8b2);return new pt({'colorBuffer':_0x56cf68,'depth':_0x2470d7,'stencil':_0x2470d7&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x2470d7?_0x566f32['samples']:0x24b0+-0x101*-0x20+-0x44cf});}['_resizeOff'+'screenTarg'+'et'](_0x217069){const _0x1f08e6=_0x217069['colorBuffe'+'r']['format'],_0x564218=_0x217069['colorBuffe'+'r']['name'];_0x217069['destroyFra'+'meBuffers'](),_0x217069['destroyTex'+'tureBuffer'+'s'](),_0x217069['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x1f08e6,_0x564218),_0x217069['_colorBuff'+'ers']=[_0x217069['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x4b541d){_0x4b541d['destroyTex'+'tureBuffer'+'s'](),_0x4b541d['destroy']();}['addEffect'](_0x257421){const _0x2d7af1=this['effects'],_0x8bc2d0=_0x2d7af1['length']===0x1*0xad+-0x41*0x45+0x10d8,_0x340933=this['_createOff'+'screenTarg'+'et'](_0x8bc2d0,_0x257421['hdr']),_0x1b3ae6=new $I(_0x257421,_0x340933);_0x2d7af1['push'](_0x1b3ae6),this['_sourceTar'+'get']=_0x1b3ae6['inputTarge'+'t'],_0x2d7af1['length']>-0x24b4+-0x1e94+0x4349&&(_0x2d7af1[_0x2d7af1['length']-(0x1ec0+0x117d+-0x303b)]['outputTarg'+'et']=_0x1b3ae6['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x257421,_0x257421['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(-0x4d*0x21+-0x33*-0x6+-0x3*-0x2e9);}['removeEffe'+'ct'](_0x5258e0){let _0x36ba76=-(-0x8a*-0x3e+0x24ae+-0x4619);for(let _0x16cdf5=-0x5ab+0xaf*0x15+-0x8b0,_0xd84b43=this['effects']['length'];_0x16cdf5<_0xd84b43;_0x16cdf5++)if(this['effects'][_0x16cdf5]['effect']===_0x5258e0){_0x36ba76=_0x16cdf5;break;}_0x36ba76>=-0xf1f*-0x1+0x209c+-0x2fbb&&(_0x36ba76>-0x11b9+-0x16ac+-0xd77*-0x3?this['effects'][_0x36ba76-(0x10f*0x1c+0x1f44+-0x144d*0x3)]['outputTarg'+'et']=_0x36ba76+(-0x2690+-0x25b6+-0x351*-0x17)<this['effects']['length']?this['effects'][_0x36ba76+(0x1d0a+0x8db*0x2+-0x2ebf)]['inputTarge'+'t']:null:this['effects']['length']>0x25aa*0x1+-0x1f6*-0x4+-0x2d81&&(this['effects'][0x130*0xd+-0x1f44+0x7*0x243]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][-0x2*0x6e+0xa2*0x35+-0x4ab*0x7]['inputTarge'+'t']),this['effects'][0x1232*0x1+-0x6d*0x56+0x59*0x35]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(-0x3*-0x957+-0x4d*-0x61+-0x3932),this['effects'][0xa*0x173+-0x1*0x1402+0x585]['hdr']),this['_sourceTar'+'get']=this['effects'][-0x1b8*-0x14+0xb*0x97+-0x28dc]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][-0x680+0x577+0x10a]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x36ba76]['inputTarge'+'t']),this['effects']['splice'](_0x36ba76,-0x4f1+0x210b+0x1*-0x1c19)),this['enabled']&&_0x5258e0['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===0x459+-0xb3*0x1c+-0x1*-0xf3b&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x569860=-0x218e+0x6f3+0x1a9b,_0x56c8ea=this['effects']['length'];_0x569860<_0x56c8ea;_0x569860++){const _0x458a54=this['effects'][_0x569860]['effect'];this['_newPostEf'+'fect']!==_0x458a54&&_0x458a54['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x9e76f8=-0x778+0x1*-0x1da3+0x251b,_0x48547a=this['effects']['length'];_0x9e76f8<_0x48547a;_0x9e76f8++)this['effects'][_0x9e76f8]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x21b9e5=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x21b9e5&&(_0x21b9e5['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0x2fe*0xd+-0x110b*0x1+0x37f1)));}['_releaseDe'+'pthMap'](){const _0x4c7b5f=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x4c7b5f&&(_0x4c7b5f['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0x63f+-0x7*-0x425+-0x16c3)));}['destroy'](){for(let _0x385077=-0x20d+0x1*0xc8f+-0xa82,_0x30a559=this['effects']['length'];_0x385077<_0x30a559;_0x385077++)this['effects'][_0x385077]['inputTarge'+'t']['destroy']();this['effects']['length']=-0xd9c+0x2*0x112+0xb78,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(0x43*0x2f+0x11f5+-0x1e42),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][0x3fa+-0xa1b*0x2+0x81e*0x2]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x51fbea=null;const _0x446836=this['effects']['length'];if(_0x446836)for(let _0xf8e6d9=0x21a0+-0x1e81+-0x1*0x31f;_0xf8e6d9<_0x446836;_0xf8e6d9++){const _0x4e3e2c=this['effects'][_0xf8e6d9];let _0x3db8b7=_0x4e3e2c['outputTarg'+'et'];_0xf8e6d9===_0x446836-(-0x1a93+-0x99*0x2d+0x3579)&&(_0x51fbea=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x3db8b7=this['destinatio'+'nRenderTar'+'get'])),G['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x4e3e2c['name']),_0x4e3e2c['effect']['render'](_0x4e3e2c['inputTarge'+'t'],_0x3db8b7,_0x51fbea),G['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(0xbc3*0x1+0x1*0x1bad+0x2a1*-0xf),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x37eebd,_0x53bc25){const _0x50db95=this['camera']['rect'],_0x579ff3=this['destinatio'+'nRenderTar'+'get'];_0x37eebd=(_0x579ff3==null?void(-0x1eb+-0x11b3*-0x2+-0x217b):_0x579ff3['width'])??_0x37eebd,_0x53bc25=(_0x579ff3==null?void(-0x3*0x8e4+0xf17+0xb95):_0x579ff3['height'])??_0x53bc25,this['camera']['camera']['aspectRati'+'o']=_0x37eebd*_0x50db95['z']/(_0x53bc25*_0x50db95['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x1e730f=this['app']['graphicsDe'+'vice'],_0x4d42b7=this['destinatio'+'nRenderTar'+'get'],_0xf32ee7=(_0x4d42b7==null?void(0x1*0x2637+-0x37*-0x9d+0x1*-0x47f2):_0x4d42b7['width'])??_0x1e730f['width'],_0x32bfb3=(_0x4d42b7==null?void(0x3c3*-0x7+0x5*-0xfe+-0x1*-0x1f4b):_0x4d42b7['height'])??_0x1e730f['height'],_0x58959d=this['camera']['rect'],_0x3fef42=Math['floor'](_0x58959d['z']*_0xf32ee7),_0x229071=Math['floor'](_0x58959d['w']*_0x32bfb3),_0x3eb188=this['effects'];for(let _0x22a24d=0x1*0x1ff6+0x1d88+-0x11*0x39e,_0x5ef763=_0x3eb188['length'];_0x22a24d<_0x5ef763;_0x22a24d++){const _0x202ef1=_0x3eb188[_0x22a24d];(_0x202ef1['inputTarge'+'t']['width']!==_0x3fef42||_0x202ef1['inputTarge'+'t']['height']!==_0x229071)&&this['_resizeOff'+'screenTarg'+'et'](_0x202ef1['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x2b2ede,_0x46c8e9,_0x41f3bf){this['enabled']&&this['resizeRend'+'erTargets']();}}class bx extends ue{constructor(_0x1824d3,_0x34c04b){super(_0x1824d3,_0x34c04b),c(this,'onPostproc'+'essing',null),c(this,'_renderSce'+'neDepthMap',0x1069+0x2038+-0x30a1),c(this,'_renderSce'+'neColorMap',-0x22b+-0x2484+0x26af),c(this,'_sceneDept'+'hMapReques'+'ted',!(-0x17*0x163+0x110f+0x1d*0x83)),c(this,'_sceneColo'+'rMapReques'+'ted',!(0x1fb*0xc+0x5*0xc7+0x1ba6*-0x1)),c(this,'_priority',-0x1dfd+0x14a9+0x954),c(this,'_disablePo'+'stEffectsL'+'ayer',tl),c(this,'_camera',new ol()),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x34c04b,this['_postEffec'+'ts']=new qI(_0x1824d3['app'],this));}['setShaderP'+'ass'](_0x1a2416){const _0x4d2961=Ks['get'](this['system']['app']['graphicsDe'+'vice']),_0x137b6f=_0x1a2416?_0x4d2961['allocate'](_0x1a2416,{'isForward':!(-0x1616+-0x11b6*-0x2+-0xd56)}):null;return this['_camera']['shaderPass'+'Info']=_0x137b6f,_0x137b6f['index'];}['getShaderP'+'ass'](){var _0xcde6a7;return(_0xcde6a7=this['_camera']['shaderPass'+'Info'])==null?void(0x153*0xc+-0x245+0xb*-0x13d):_0xcde6a7['name'];}set['renderPass'+'es'](_0x2a66d6){this['_camera']['renderPass'+'es']=_0x2a66d6||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(-0x61*0x59+0x1ec*0xf+0x4e5);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x1d5f1b){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x1d5f1b;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x285f4b){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x285f4b;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x2c44de){this['_camera']['fogParams']=_0x2c44de;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x575c9c){this['_camera']['aperture']=_0x575c9c;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x2f4abe){this['_camera']['aspectRati'+'o']=_0x2f4abe;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x334bdd){this['_camera']['aspectRati'+'oMode']=_0x334bdd;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x544252){this['_camera']['calculateP'+'rojection']=_0x544252;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x55fcf5){this['_camera']['calculateT'+'ransform']=_0x55fcf5;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x42c752){this['_camera']['clearColor']=_0x42c752;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x37acd7){this['_camera']['clearColor'+'Buffer']=_0x37acd7,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x2c7ebf){this['_camera']['clearDepth'+'Buffer']=_0x2c7ebf,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x27de8a){this['_camera']['clearStenc'+'ilBuffer']=_0x27de8a,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x5c67f4){this['_camera']['cullFaces']=_0x5c67f4;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x2a6e7d){this['_disablePo'+'stEffectsL'+'ayer']=_0x2a6e7d,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x40513d){this['_camera']['farClip']=_0x40513d;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x1143db){this['_camera']['flipFaces']=_0x1143db;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x4e4a29){this['_camera']['fov']=_0x4e4a29;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x4e33da){this['_camera']['frustumCul'+'ling']=_0x4e33da;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x20771b){this['_camera']['horizontal'+'Fov']=_0x20771b;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x23fc39){const _0x5d7cdc=this['_camera']['layers'],_0xe7a870=this['system']['app']['scene'];_0x5d7cdc['forEach'](_0x49f0cf=>{const _0x45ca2e=_0xe7a870['layers']['getLayerBy'+'Id'](_0x49f0cf);_0x45ca2e==null||_0x45ca2e['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x23fc39,this['enabled']&&this['entity']['enabled']&&_0x23fc39['forEach'](_0x3e034=>{const _0x429d71=_0xe7a870['layers']['getLayerBy'+'Id'](_0x3e034);_0x429d71==null||_0x429d71['addCamera'](this);});}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x288ad5){this['_camera']['jitter']=_0x288ad5;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x289901){this['_camera']['nearClip']=_0x289901;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x38f6a7){this['_camera']['orthoHeigh'+'t']=_0x38f6a7;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x4d0753){this['_priority']=_0x4d0753,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x5f49c1){this['_camera']['projection']=_0x5f49c1;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x10cf06){this['_camera']['rect']=_0x10cf06,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x22fe9e){_0x22fe9e&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(-0x2*0x134f+-0x1c84+0x4322)),this['_sceneColo'+'rMapReques'+'ted']=!(-0x101*-0x17+-0x16d2+-0x45)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(0xaae+0x1*-0x26d1+0x1c24)),this['_sceneColo'+'rMapReques'+'ted']=!(0x1*0x15be+0x1127+0x1372*-0x2));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>-0x26b5+0x23eb*0x1+-0x7*-0x66;}set['renderScen'+'eDepthMap'](_0x129d69){_0x129d69&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(0xb*-0x17f+0x13+0x576*0x3)),this['_sceneDept'+'hMapReques'+'ted']=!(0x2365+0x1*0x16ca+0x2d*-0x14b)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(-0xb1*-0x12+0x1b7*-0xf+-0x19*-0x88)),this['_sceneDept'+'hMapReques'+'ted']=!(0x3*0xaed+0x51b*0x4+0x1a99*-0x2));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0x4e2*0x2+0x19c3+-0x2387;}set['renderTarg'+'et'](_0x4e83f8){v['call'](()=>{this['_camera']['renderPass'+'es']['length']>-0x32*0x61+0x4e0+0xe12&&v['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x4e83f8,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x48680e){this['_camera']['scissorRec'+'t']=_0x48680e;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x23b9fc){this['_camera']['sensitivit'+'y']=_0x23b9fc;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x401dd0){this['_camera']['shutter']=_0x401dd0;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x10843f){if(this['layers']['find'](_0x10f977=>_0x10f977===Xt)){const _0x42f477=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x10843f?_0x42f477==null||_0x42f477['incrementC'+'ounter']():_0x42f477==null||_0x42f477['decrementC'+'ounter']();}else{if(_0x10843f)return!(-0x583*-0x7+-0x2610+-0x84);}return!(-0x138d+-0x9fd+0x2*0xec5);}['requestSce'+'neColorMap'](_0x181ac0){this['_renderSce'+'neColorMap']+=_0x181ac0?0x1268+0x527*-0x4+0x235:-(0x1962+-0x6fb*-0x2+0x1*-0x2757),v['assert'](this['_renderSce'+'neColorMap']>=-0x1cd3+-0xcee+0x29c1),this['_enableDep'+'thLayer'](_0x181ac0)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']);}['requestSce'+'neDepthMap'](_0x7db920){this['_renderSce'+'neDepthMap']+=_0x7db920?-0x260d+-0x117+-0x2725*-0x1:-(0x1c55*-0x1+-0x20c8+0x3d1e),v['assert'](this['_renderSce'+'neDepthMap']>=0x3*-0x527+0x946+0x62f*0x1),this['_enableDep'+'thLayer'](_0x7db920)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']);}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x4dc889=this['system']['app']['scene']['layers'];_0x4dc889['_dirty']=!(-0x1ee*-0xe+-0x244e*0x1+0x94a);}['screenToWo'+'rld'](_0x368ab9,_0x20d7af,_0x5b1455,_0x47196a){const _0x1bff1c=this['system']['app']['graphicsDe'+'vice'],{width:_0x1caf5f,height:_0x196127}=_0x1bff1c['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x368ab9,_0x20d7af,_0x5b1455,_0x1caf5f,_0x196127,_0x47196a);}['worldToScr'+'een'](_0x323ce3,_0x2b2f53){const _0x91442c=this['system']['app']['graphicsDe'+'vice'],{width:_0x2d9d87,height:_0x347947}=_0x91442c['clientRect'];return this['_camera']['worldToScr'+'een'](_0x323ce3,_0x2d9d87,_0x347947,_0x2b2f53);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(0x53c*0x5+-0x16ab*0x1+0x27*-0x17),this['_camera']['_viewProjM'+'atDirty']=!(-0x198d*0x1+-0xfbf+0x294c);}['addCameraT'+'oLayers'](){const _0x5c033c=this['layers'];for(let _0x4519cd=0x7c*0xc+0x205*0xb+-0x1c07;_0x4519cd<_0x5c033c['length'];_0x4519cd++){const _0x4b09f5=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x5c033c[_0x4519cd]);_0x4b09f5&&_0x4b09f5['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x214d80=this['layers'];for(let _0x5295d1=-0x13*-0x3e+0x1a88+0xf91*-0x2;_0x5295d1<_0x214d80['length'];_0x5295d1++){const _0x69b618=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x214d80[_0x5295d1]);_0x69b618&&_0x69b618['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x687260,_0x2338ba){this['addCameraT'+'oLayers'](),_0x687260['off']('add',this['onLayerAdd'+'ed'],this),_0x687260['off']('remove',this['onLayerRem'+'oved'],this),_0x2338ba['on']('add',this['onLayerAdd'+'ed'],this),_0x2338ba['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x51940f){this['layers']['indexOf'](_0x51940f['id'])<0xe5b+-0x1a1*0x11+-0x3*-0x472||_0x51940f['addCamera'](this);}['onLayerRem'+'oved'](_0x2e586a){this['layers']['indexOf'](_0x2e586a['id'])<-0x1*0x1747+-0x3b*-0xa3+-0x76*0x1f||_0x2e586a['removeCame'+'ra'](this);}['onEnable'](){var _0x352b01,_0x173a42,_0x15500e;const _0x259375=this['system']['app']['scene'],_0x4c267f=_0x259375['layers'];this['system']['addCamera'](this),(_0x352b01=this['_evtLayers'+'Changed'])==null||_0x352b01['off'](),this['_evtLayers'+'Changed']=_0x259375['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4c267f&&((_0x173a42=this['_evtLayerA'+'dded'])==null||_0x173a42['off'](),this['_evtLayerA'+'dded']=_0x4c267f['on']('add',this['onLayerAdd'+'ed'],this),(_0x15500e=this['_evtLayerR'+'emoved'])==null||_0x15500e['off'](),this['_evtLayerR'+'emoved']=_0x4c267f['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x1ff4b7,_0x5c0cb2,_0x5857bb;const _0xb06f7f=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x1ff4b7=this['_evtLayers'+'Changed'])==null||_0x1ff4b7['off'](),this['_evtLayers'+'Changed']=null,_0xb06f7f&&((_0x5c0cb2=this['_evtLayerA'+'dded'])==null||_0x5c0cb2['off'](),this['_evtLayerA'+'dded']=null,(_0x5857bb=this['_evtLayerR'+'emoved'])==null||_0x5857bb['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x206585){const _0x45d2ac=this['system']['app']['graphicsDe'+'vice'],_0x54088d=_0x206585?_0x206585['width']:_0x45d2ac['width'],_0x4f8561=_0x206585?_0x206585['height']:_0x45d2ac['height'];return _0x54088d*this['rect']['z']/(_0x4f8561*this['rect']['w']);}['frameUpdat'+'e'](_0x47bbdd){this['aspectRati'+'oMode']===Ip&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x47bbdd));}['startXr'](_0x251efb,_0x3dbfed,_0x2f2aa5){this['system']['app']['xr']['start'](this,_0x251efb,_0x3dbfed,_0x2f2aa5);}['endXr'](_0x20846a){if(!this['_camera']['xr']){_0x20846a&&_0x20846a(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x20846a);}['copy'](_0x23d47b){this['aperture']=_0x23d47b['aperture'],this['aspectRati'+'o']=_0x23d47b['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x23d47b['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x23d47b['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x23d47b['calculateT'+'ransform'],this['clearColor']=_0x23d47b['clearColor'],this['clearColor'+'Buffer']=_0x23d47b['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x23d47b['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x23d47b['clearStenc'+'ilBuffer'],this['cullFaces']=_0x23d47b['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x23d47b['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x23d47b['farClip'],this['flipFaces']=_0x23d47b['flipFaces'],this['fov']=_0x23d47b['fov'],this['frustumCul'+'ling']=_0x23d47b['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x23d47b['horizontal'+'Fov'],this['layers']=_0x23d47b['layers'],this['nearClip']=_0x23d47b['nearClip'],this['orthoHeigh'+'t']=_0x23d47b['orthoHeigh'+'t'],this['priority']=_0x23d47b['priority'],this['projection']=_0x23d47b['projection'],this['rect']=_0x23d47b['rect'],this['renderTarg'+'et']=_0x23d47b['renderTarg'+'et'],this['scissorRec'+'t']=_0x23d47b['scissorRec'+'t'],this['sensitivit'+'y']=_0x23d47b['sensitivit'+'y'],this['shutter']=_0x23d47b['shutter'];}}class XI{constructor(){this['enabled']=!(0x1f93+-0x1f*-0x125+0x3*-0x165a);}}const wx=['enabled'];class jI extends Xe{constructor(_0x3261f1){super(_0x3261f1),c(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=bx,this['DataType']=XI,this['schema']=wx,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x34a7bf,_0xbfcad6,_0xdd31c0){_0xdd31c0=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x1a20b0=-0x21d+0x1445+-0x1228;_0x1a20b0<_0xdd31c0['length'];_0x1a20b0++){const _0x5d5f8f=_0xdd31c0[_0x1a20b0];if(_0xbfcad6['hasOwnProp'+'erty'](_0x5d5f8f)){const _0xfbada4=_0xbfcad6[_0x5d5f8f];switch(_0x5d5f8f){case'rect':case'scissorRec'+'t':Array['isArray'](_0xfbada4)?_0x34a7bf[_0x5d5f8f]=new Q(_0xfbada4[-0x1ee3+0x9e9+0x37f*0x6],_0xfbada4[0xe0f+0x96a+-0x1778],_0xfbada4[-0xa1e+-0xf*0x279+0x2f37],_0xfbada4[-0x3c7*-0x2+-0x249a+0x1d0f]):_0x34a7bf[_0x5d5f8f]=_0xfbada4;break;case'clearColor':Array['isArray'](_0xfbada4)?_0x34a7bf[_0x5d5f8f]=new Y(_0xfbada4[0x1af1+0x433+0xf92*-0x2],_0xfbada4[0x1d8c+-0x77d+-0x160e],_0xfbada4[0x3*0x581+0x95b*-0x1+-0x726],_0xfbada4[-0x1642+-0x1*-0x299+0x4eb*0x4]):_0x34a7bf[_0x5d5f8f]=_0xfbada4;break;default:_0x34a7bf[_0x5d5f8f]=_0xfbada4;break;}}}super['initialize'+'ComponentD'+'ata'](_0x34a7bf,_0xbfcad6,['enabled']);}['cloneCompo'+'nent'](_0x46de2a,_0x223a37){const _0x597deb=_0x46de2a['camera'];return this['addCompone'+'nt'](_0x223a37,{'aspectRatio':_0x597deb['aspectRati'+'o'],'aspectRatioMode':_0x597deb['aspectRati'+'oMode'],'calculateProjection':_0x597deb['calculateP'+'rojection'],'calculateTransform':_0x597deb['calculateT'+'ransform'],'clearColor':_0x597deb['clearColor'],'clearColorBuffer':_0x597deb['clearColor'+'Buffer'],'clearDepthBuffer':_0x597deb['clearDepth'+'Buffer'],'clearStencilBuffer':_0x597deb['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x597deb['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x597deb['renderScen'+'eColorMap'],'cullFaces':_0x597deb['cullFaces'],'enabled':_0x597deb['enabled'],'farClip':_0x597deb['farClip'],'flipFaces':_0x597deb['flipFaces'],'fov':_0x597deb['fov'],'frustumCulling':_0x597deb['frustumCul'+'ling'],'horizontalFov':_0x597deb['horizontal'+'Fov'],'layers':_0x597deb['layers'],'renderTarget':_0x597deb['renderTarg'+'et'],'nearClip':_0x597deb['nearClip'],'orthoHeight':_0x597deb['orthoHeigh'+'t'],'projection':_0x597deb['projection'],'priority':_0x597deb['priority'],'rect':_0x597deb['rect'],'scissorRect':_0x597deb['scissorRec'+'t'],'aperture':_0x597deb['aperture'],'sensitivity':_0x597deb['sensitivit'+'y'],'shutter':_0x597deb['shutter'],'gammaCorrection':_0x597deb['gammaCorre'+'ction'],'toneMapping':_0x597deb['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x1a660a,_0x18a845){this['removeCame'+'ra'](_0x18a845),_0x18a845['onRemove']();}['onAppPrere'+'nder'](){for(let _0x35a0bb=0x2104+-0x2*0xf43+-0x27e,_0x753468=this['cameras']['length'];_0x35a0bb<_0x753468;_0x35a0bb++)this['cameras'][_0x35a0bb]['onAppPrere'+'nder']();}['addCamera'](_0x2c5a42){this['cameras']['push'](_0x2c5a42),No(this['cameras']);}['removeCame'+'ra'](_0x5cce4b){const _0x4626be=this['cameras']['indexOf'](_0x5cce4b);_0x4626be>=-0x2*-0xfb5+0x10c9*-0x2+-0x18*-0x17&&(this['cameras']['splice'](_0x4626be,0xc5a+-0xf49+0xbc*0x4),No(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}ue['_buildAcce'+'ssors'](bx['prototype'],wx);class Tx{constructor(){c(this,'enabled',!(0x98d+-0x11b1+-0x4*-0x209)),c(this,'light'),c(this,'type','directiona'+'l'),c(this,'color',new Y(-0xd*0x137+-0xde9+0x1db5,0x1f45*0x1+-0xb1f+0x1425*-0x1,-0x252c+-0x1a2*-0xc+0x1195)),c(this,'intensity',-0x217e+-0xc41+0x2dc0),c(this,'luminance',0x292+-0x25fa*-0x1+0x4*-0xa23),c(this,'shape',yt),c(this,'affectSpec'+'ularity',!(0xd9d*0x2+0x1*0x4e6+-0x1010*0x2)),c(this,'castShadow'+'s',!(0x79*-0x14+0xe9a+0x3*-0x1b7)),c(this,'shadowDist'+'ance',-0x196a+-0x16a*0xa+0xd*0x30e),c(this,'shadowInte'+'nsity',0x2d0+-0x1*-0x3be+-0x68d),c(this,'shadowReso'+'lution',-0x78c+0xc01*0x1+-0x9*0xd),c(this,'shadowBias',-0x19e0+-0x1*0x2135+-0x19*-0x25d+0.05),c(this,'numCascade'+'s',-0x135*-0x8+-0x1*-0x22e5+-0x1646*0x2),c(this,'cascadeBle'+'nd',0x1174+-0x7b9+-0x9bb*0x1),c(this,'bakeNumSam'+'ples',0x26ef+0x1132+-0x1c10*0x2),c(this,'bakeArea',0x1379+0xb40+-0x1eb9),c(this,'cascadeDis'+'tribution',0x111b+-0x2629+-0x2*-0xa87+0.5),c(this,'normalOffs'+'etBias',-0xe6d+0x12ad+0x11*-0x40),c(this,'range',0x2b4+0x1*-0x1cd0+0x1a26),c(this,'innerConeA'+'ngle',-0x3f0+-0x1*0x9+-0x97*-0x7),c(this,'outerConeA'+'ngle',-0x4*0x995+0x109c+-0x5*-0x461),c(this,'falloffMod'+'e',wp),c(this,'shadowType',Dt),c(this,'vsmBlurSiz'+'e',-0x72a*-0x5+-0x11c2+-0x1205),c(this,'vsmBlurMod'+'e',Tp),c(this,'vsmBias',(-0x20bf+0x1fd2+0x3*0x4f+0.01)*(-0x21b+0x114e+-0xf33*0x1+0.25)),c(this,'cookieAsse'+'t',null),c(this,'cookie',null),c(this,'cookieInte'+'nsity',-0x5*0xcf+0xe69*-0x2+0x20de),c(this,'cookieFall'+'off',!(0x1b68+0x1f0a+-0x3a72*0x1)),c(this,'cookieChan'+'nel','rgb'),c(this,'cookieAngl'+'e',0x55c+0x49f+0x5*-0x1ff),c(this,'cookieScal'+'e',null),c(this,'cookieOffs'+'et',null),c(this,'shadowUpda'+'teMode',Pp),c(this,'mask',-0x851+0x1647+0x18d*-0x9),c(this,'affectDyna'+'mic',!(0x52d+0x449*0x9+-0x2bbe)),c(this,'affectLigh'+'tmapped',!(-0x26f2*0x1+0xb7+-0x1*-0x263c)),c(this,'bake',!(-0x1aa*-0x7+-0xdf7+0x252)),c(this,'bakeDir',!(0x13*0x23+0x12b*0x12+-0x179f)),c(this,'isStatic',!(0x28*-0x8a+-0x4f*-0x25+0xa26)),c(this,'layers',[Fi]),c(this,'penumbraSi'+'ze',0x67*0x9+-0x182b+0x148d),c(this,'penumbraFa'+'lloff',0x1f*-0xbf+-0x1b23+0x3245),c(this,'shadowSamp'+'les',0x1*0x17e9+-0x237*0x3+-0x1134),c(this,'shadowBloc'+'kerSamples',-0x1ec7*-0x1+0x1940+0x37f7*-0x1);}}const To=Object['keys'](new Tx());class YI extends ue{constructor(){super(...arguments),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_cookieAss'+'et',null),c(this,'_cookieAss'+'etId',null),c(this,'_cookieAss'+'etAdd',!(-0x1c1b+0x4b9+0x1763)),c(this,'_cookieMat'+'rix',null);}get['data'](){const _0x595099=this['system']['store'][this['entity']['getGuid']()];return _0x595099?_0x595099['data']:null;}set['enabled'](_0x3c8a61){this['_setValue']('enabled',_0x3c8a61,function(_0x426757,_0x4a0659){this['onSetEnabl'+'ed'](null,_0x4a0659,_0x426757);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x1ed367){this['_setValue']('light',_0x1ed367);}get['light'](){return this['data']['light'];}set['type'](_0x49af8e){this['_setValue']('type',_0x49af8e,function(_0x432e36,_0x19c850){this['system']['changeType'](this,_0x19c850,_0x432e36),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x44044d){this['_setValue']('color',_0x44044d,function(_0x4d0f70,_0xda81e1){this['light']['setColor'](_0x4d0f70);},!(0xb*0x13f+-0x1dff+0x104a));}get['color'](){return this['data']['color'];}set['intensity'](_0x25bfca){this['_setValue']('intensity',_0x25bfca,function(_0x3596fa,_0x41660a){this['light']['intensity']=_0x3596fa;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x44c8c1){this['_setValue']('luminance',_0x44c8c1,function(_0x5ede93,_0x23d181){this['light']['luminance']=_0x5ede93;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x5ad2ba){this['_setValue']('shape',_0x5ad2ba,function(_0x1019ab,_0x2b3e94){this['light']['shape']=_0x1019ab;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x10b525){this['_setValue']('affectSpec'+'ularity',_0x10b525,function(_0x24fe27,_0x342e50){this['light']['affectSpec'+'ularity']=_0x24fe27;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x4ffbcc){this['_setValue']('castShadow'+'s',_0x4ffbcc,function(_0x10b31d,_0xab3fb5){this['light']['castShadow'+'s']=_0x10b31d;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x491bda){this['_setValue']('shadowDist'+'ance',_0x491bda,function(_0x2d5e04,_0x369a92){this['light']['shadowDist'+'ance']=_0x2d5e04;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x33f196){this['_setValue']('shadowInte'+'nsity',_0x33f196,function(_0x2da5c8,_0x383bb9){this['light']['shadowInte'+'nsity']=_0x2da5c8;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x59ec8b){this['_setValue']('shadowReso'+'lution',_0x59ec8b,function(_0x123f3c,_0x4193e1){this['light']['shadowReso'+'lution']=_0x123f3c;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x62a5cf){this['_setValue']('shadowBias',_0x62a5cf,function(_0x366bce,_0x521ef5){this['light']['shadowBias']=-(-0xa1f*0x1+0x1fa8+-0x1589+0.01)*N['clamp'](_0x366bce,0x23a3+0x4*0x22f+-0x2c5f,-0x135a+0xe7a+0x4e1);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x2f5d23){this['_setValue']('numCascade'+'s',_0x2f5d23,function(_0x5cd8be,_0x45b05d){this['light']['numCascade'+'s']=N['clamp'](Math['floor'](_0x5cd8be),0x22ac+-0x2173*0x1+0x138*-0x1,0x1*0x1591+-0x97*-0x26+-0x2bf7);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x115361){this['_setValue']('cascadeBle'+'nd',_0x115361,function(_0x3161aa,_0x15d132){this['light']['cascadeBle'+'nd']=N['clamp'](_0x3161aa,0x1a6e+-0x1ed*0xf+-0x25*-0x11,-0x1*0x1421+0x3d*-0x13+0x18a9);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x435a0e){this['_setValue']('bakeNumSam'+'ples',_0x435a0e,function(_0xe95d7c,_0x194e83){this['light']['bakeNumSam'+'ples']=N['clamp'](Math['floor'](_0xe95d7c),0x308+0x1bb3+0xab*-0x2e,-0x12ca+0x721+-0x78*-0x1b);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0xe2eeef){this['_setValue']('bakeArea',_0xe2eeef,function(_0x10c0ce,_0x2c5770){this['light']['bakeArea']=N['clamp'](_0x10c0ce,0x1526+0xe08*-0x1+-0x71e,0xcaf+-0x15e6+0x9eb);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x209f8d){this['_setValue']('cascadeDis'+'tribution',_0x209f8d,function(_0x5bea37,_0x162a5d){this['light']['cascadeDis'+'tribution']=N['clamp'](_0x5bea37,0x9a*-0x6+0x25fb+0x15*-0x1a3,-0x628+-0xba*0x26+0x21c5);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x1bc056){this['_setValue']('normalOffs'+'etBias',_0x1bc056,function(_0x5a6fe3,_0x541fc9){this['light']['normalOffs'+'etBias']=N['clamp'](_0x5a6fe3,-0x57*0xc+0x87e*0x2+-0x674*0x2,0x6e6+-0xda7*0x2+0x1469);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0xdcf0ba){this['_setValue']('range',_0xdcf0ba,function(_0x2b6338,_0x5e505b){this['light']['attenuatio'+'nEnd']=_0x2b6338;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x582820){this['_setValue']('innerConeA'+'ngle',_0x582820,function(_0x4ded06,_0x5157ba){this['light']['innerConeA'+'ngle']=_0x4ded06;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x1982ca){this['_setValue']('outerConeA'+'ngle',_0x1982ca,function(_0x5119d5,_0x476b07){this['light']['outerConeA'+'ngle']=_0x5119d5;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0xd27160){this['_setValue']('falloffMod'+'e',_0xd27160,function(_0x1af639,_0x2acb26){this['light']['falloffMod'+'e']=_0x1af639;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x51eafe){this['_setValue']('shadowType',_0x51eafe,function(_0x225544,_0x177f55){this['light']['shadowType']=_0x225544;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x271f51){this['_setValue']('vsmBlurSiz'+'e',_0x271f51,function(_0xabede5,_0x258d46){this['light']['vsmBlurSiz'+'e']=_0xabede5;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x5b3977){this['_setValue']('vsmBlurMod'+'e',_0x5b3977,function(_0x9e14af,_0x49d951){this['light']['vsmBlurMod'+'e']=_0x9e14af;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x411acc){this['_setValue']('vsmBias',_0x411acc,function(_0x39b1f1,_0x8cfaf4){this['light']['vsmBias']=N['clamp'](_0x39b1f1,0x72d+0xf71+0x5*-0x486,0x5*0x472+0x19b*0x3+-0x1b0a);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x2af336){this['_setValue']('cookieAsse'+'t',_0x2af336,function(_0x10d3ef,_0x282b24){if(!(this['_cookieAss'+'etId']&&(_0x10d3ef instanceof le&&_0x10d3ef['id']===this['_cookieAss'+'etId']||_0x10d3ef===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x10d3ef instanceof le)this['data']['cookieAsse'+'t']=_0x10d3ef['id'],this['_cookieAss'+'etId']=_0x10d3ef['id'],this['onCookieAs'+'setAdd'](_0x10d3ef);else{if(typeof _0x10d3ef=='number'){this['_cookieAss'+'etId']=_0x10d3ef;const _0x5c72e6=this['system']['app']['assets']['get'](_0x10d3ef);_0x5c72e6?this['onCookieAs'+'setAdd'](_0x5c72e6):(this['_cookieAss'+'etAdd']=!(0x1*0x1cff+-0x1d3f+0x4*0x10),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x5d82af){this['_setValue']('cookie',_0x5d82af,function(_0x4c109b,_0x1d4380){this['light']['cookie']=_0x4c109b;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x2612ba){this['_setValue']('cookieInte'+'nsity',_0x2612ba,function(_0x30c0c7,_0x294131){this['light']['cookieInte'+'nsity']=N['clamp'](_0x30c0c7,-0x266+-0x1dd*-0x13+0x4b7*-0x7,0x22a1+-0x5ef+-0x71*0x41);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x390420){this['_setValue']('cookieFall'+'off',_0x390420,function(_0x64ec4c,_0x574ae4){this['light']['cookieFall'+'off']=_0x64ec4c;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x371016){this['_setValue']('cookieChan'+'nel',_0x371016,function(_0x353f07,_0x52b2d2){this['light']['cookieChan'+'nel']=_0x353f07;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x54c81a){this['_setValue']('cookieAngl'+'e',_0x54c81a,function(_0x312a51,_0x127064){if(_0x312a51!==-0x144d*-0x1+0x2652+-0x3a9f||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());let _0x31fbd8=-0x68*-0x50+-0x7ef+-0x830*0x3,_0x31b343=0x176c+0xe9d+0x8*-0x4c1;this['cookieScal'+'e']&&(_0x31fbd8=this['cookieScal'+'e']['x'],_0x31b343=this['cookieScal'+'e']['y']);const _0x450ac8=Math['cos'](_0x312a51*N['DEG_TO_RAD']),_0x2cb230=Math['sin'](_0x312a51*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x450ac8/_0x31fbd8,-_0x2cb230/_0x31fbd8,_0x2cb230/_0x31b343,_0x450ac8/_0x31b343),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x34f42c){this['_setValue']('cookieScal'+'e',_0x34f42c,function(_0x481273,_0x3fef14){if(_0x481273!==null||this['cookieAngl'+'e']!==0x832+-0x8*-0x2c4+-0x1e52){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());const _0x172d5d=_0x481273['x'],_0x219ace=_0x481273['y'],_0x34cbf0=Math['cos'](this['cookieAngl'+'e']*N['DEG_TO_RAD']),_0x49a8c6=Math['sin'](this['cookieAngl'+'e']*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x34cbf0/_0x172d5d,-_0x49a8c6/_0x172d5d,_0x49a8c6/_0x219ace,_0x34cbf0/_0x219ace),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(0x244a+-0xf1b+-0x152f));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x269e02){this['_setValue']('cookieOffs'+'et',_0x269e02,function(_0x236004,_0x417700){this['light']['cookieOffs'+'et']=_0x236004;},!(0x6*0x56f+0x3*0x3cb+0x8b*-0x51));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x23a8be){this['_setValue']('shadowUpda'+'teMode',_0x23a8be,function(_0x452d2c,_0x18779c){this['light']['shadowUpda'+'teMode']=_0x452d2c;},!(-0x223*-0x2+0x1513+-0x2d1*0x9));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x3e7c23){this['_setValue']('mask',_0x3e7c23,function(_0x1c0c84,_0x2a46fa){this['light']['mask']=_0x1c0c84;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x542966){this['_setValue']('affectDyna'+'mic',_0x542966,function(_0x452c14,_0x423050){_0x452c14?this['light']['mask']|=hs:this['light']['mask']&=-(-0x1b64+0x27c+0x18ea),this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x3cb492){this['_setValue']('affectLigh'+'tmapped',_0x3cb492,function(_0x5dd98b,_0x337250){_0x5dd98b?(this['light']['mask']|=cr,this['bake']&&(this['light']['mask']&=-(0x18cc+0x1*-0x4fd+-0x13ca))):(this['light']['mask']&=-(-0x2517+-0xe99+0x33b3),this['bake']&&(this['light']['mask']|=rr));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x2e6210){this['_setValue']('bake',_0x2e6210,function(_0x5d53c7,_0x1914a0){_0x5d53c7?(this['light']['mask']|=rr,this['affectLigh'+'tmapped']&&(this['light']['mask']&=-(-0x1*0x22f6+0xb11+0xaa*0x24))):(this['light']['mask']&=-(-0x959*-0x1+0x95*0x5+-0xc3d),this['affectLigh'+'tmapped']&&(this['light']['mask']|=cr)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x24627f){this['_setValue']('bakeDir',_0x24627f,function(_0x4ead7e,_0x315f0f){this['light']['bakeDir']=_0x4ead7e;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x257589){this['_setValue']('isStatic',_0x257589,function(_0x5190cf,_0x395177){this['light']['isStatic']=_0x5190cf;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x41a41d){this['_setValue']('layers',_0x41a41d,function(_0x37c462,_0xddbd01){for(let _0x49ed1c=-0x6c*0x47+-0x26a5+-0x4499*-0x1;_0x49ed1c<_0xddbd01['length'];_0x49ed1c++){const _0x1c018e=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0xddbd01[_0x49ed1c]);_0x1c018e&&(_0x1c018e['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x1c018e));}for(let _0x37718d=-0x2c3*-0x2+0x212b+-0x26b1;_0x37718d<_0x37c462['length'];_0x37718d++){const _0x37bae1=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x37c462[_0x37718d]);_0x37bae1&&this['enabled']&&this['entity']['enabled']&&(_0x37bae1['addLight'](this),this['light']['addLayer'](_0x37bae1));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x20cce2){this['light']['shadowUpda'+'teOverride'+'s']=_0x20cce2;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x670569){this['light']['shadowSamp'+'les']=_0x670569;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x3fc775){this['light']['shadowBloc'+'kerSamples']=_0x3fc775;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x4d4c96){this['light']['penumbraSi'+'ze']=_0x4d4c96;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x5cea3c){this['light']['penumbraFa'+'lloff']=_0x5cea3c;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x2ec338,_0x455e4d,_0x15b1be,_0x355bad){const _0x131231=this['data'],_0x3c76fd=_0x131231[_0x2ec338];!_0x355bad&&_0x3c76fd===_0x455e4d||(_0x131231[_0x2ec338]=_0x455e4d,_0x15b1be&&_0x15b1be['call'](this,_0x455e4d,_0x3c76fd));}['addLightTo'+'Layers'](){for(let _0x401d9c=-0x1*0x1d87+-0x142f+0x31b6;_0x401d9c<this['layers']['length'];_0x401d9c++){const _0x41c656=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x401d9c]);_0x41c656&&(_0x41c656['addLight'](this),this['light']['addLayer'](_0x41c656));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0xd5d8f0=0x1115*0x2+0x17*0x17b+-0x4437;_0xd5d8f0<this['layers']['length'];_0xd5d8f0++){const _0x205bbf=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0xd5d8f0]);_0x205bbf&&(_0x205bbf['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x205bbf));}}['onLayersCh'+'anged'](_0x3bd6be,_0x14c8b7){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x3bd6be['off']('add',this['onLayerAdd'+'ed'],this),_0x3bd6be['off']('remove',this['onLayerRem'+'oved'],this),_0x14c8b7['on']('add',this['onLayerAdd'+'ed'],this),_0x14c8b7['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x2c332d){this['layers']['indexOf'](_0x2c332d['id'])>=-0x19ab+0xa05+0xfa6&&this['enabled']&&this['entity']['enabled']&&(_0x2c332d['addLight'](this),this['light']['addLayer'](_0x2c332d));}['onLayerRem'+'oved'](_0x22062c){this['layers']['indexOf'](_0x22062c['id'])>=-0x4db+-0x26d3+0x2bae&&(_0x22062c['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x22062c));}['refreshPro'+'perties'](){for(let _0x25428f=-0x6*-0x5c9+0x412*-0x9+0x29*0xc;_0x25428f<To['length'];_0x25428f++){const _0xda604b=To[_0x25428f];this[_0xda604b]=this[_0xda604b];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x49ad1d=!(-0xf9d+-0x11*-0x153+-0x161*0x5);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(0x91+-0x12df*-0x1+0x26e*-0x8),_0x49ad1d=!(0x7b1*0x1+0x245+-0x9f6)),(!this['_cookieAss'+'et']['resource']||_0x49ad1d)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x5750f5){this['_cookieAss'+'etId']===_0x5750f5['id']&&(this['_cookieAss'+'et']=_0x5750f5,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(0x1c5f+0x1b*-0x15b+0x83b)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x256409=this['system']['app']['scene'],_0x40bbdc=_0x256409['layers'];this['light']['enabled']=!(0x23*0x86+0x1ec+-0x143e),this['_evtLayers'+'Changed']=_0x256409['on']('set:layers',this['onLayersCh'+'anged'],this),_0x40bbdc&&(this['_evtLayerA'+'dded']=_0x40bbdc['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x40bbdc['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x4a409b,_0x4f2afe,_0x177b7a;const _0x369793=this['system']['app']['scene']['layers'];this['light']['enabled']=!(-0x1*-0x129a+0x1f29+-0x31c2),(_0x4a409b=this['_evtLayers'+'Changed'])==null||_0x4a409b['off'](),this['_evtLayers'+'Changed']=null,_0x369793&&((_0x4f2afe=this['_evtLayerA'+'dded'])==null||_0x4f2afe['off'](),this['_evtLayerA'+'dded']=null,(_0x177b7a=this['_evtLayerR'+'emoved'])==null||_0x177b7a['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class KI extends Xe{constructor(_0xba2888){super(_0xba2888),this['id']='light',this['ComponentT'+'ype']=YI,this['DataType']=Tx,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x255b64,_0x5ca458){const _0x4d76d0={..._0x5ca458};_0x4d76d0['type']||(_0x4d76d0['type']=_0x255b64['data']['type']),_0x255b64['data']['type']=_0x4d76d0['type'],_0x4d76d0['layers']&&Array['isArray'](_0x4d76d0['layers'])&&(_0x4d76d0['layers']=_0x4d76d0['layers']['slice'](-0x12a*0x15+-0x26f3+0x3f65)),_0x4d76d0['color']&&Array['isArray'](_0x4d76d0['color'])&&(_0x4d76d0['color']=new Y(_0x4d76d0['color'][0x125*-0xc+0x86b+-0x551*-0x1],_0x4d76d0['color'][-0x2*-0x12eb+-0x1c89+-0x94c],_0x4d76d0['color'][0x1aa3+-0x23b4+-0x913*-0x1])),_0x4d76d0['cookieOffs'+'et']&&_0x4d76d0['cookieOffs'+'et']instanceof Array&&(_0x4d76d0['cookieOffs'+'et']=new W(_0x4d76d0['cookieOffs'+'et'][0x707+-0x267a+0x1f73],_0x4d76d0['cookieOffs'+'et'][0x22dd+0x2400+-0x236e*0x2])),_0x4d76d0['cookieScal'+'e']&&_0x4d76d0['cookieScal'+'e']instanceof Array&&(_0x4d76d0['cookieScal'+'e']=new W(_0x4d76d0['cookieScal'+'e'][-0x1*0x179a+0x1*0x1a0b+0x19*-0x19],_0x4d76d0['cookieScal'+'e'][0xd42+-0x2690+0x194f])),_0x4d76d0['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x4d76d0['enabled']=_0x4d76d0['enable']),_0x4d76d0['shape']||(_0x4d76d0['shape']=yt);const _0x344432=new zo(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x344432['type']=Gu[_0x4d76d0['type']],_0x344432['_node']=_0x255b64['entity'],_0x255b64['data']['light']=_0x344432,super['initialize'+'ComponentD'+'ata'](_0x255b64,_0x4d76d0,To);}['_onRemoveC'+'omponent'](_0x473a41,_0x5eff77){_0x5eff77['onRemove']();}['cloneCompo'+'nent'](_0x4d8c68,_0x54809c){const _0xedcd69=_0x4d8c68['light'],_0x4eaf76=[];let _0x4c1f88;for(let _0x14db64=-0x7b1*0x5+-0x1*-0x22f+-0x1223*-0x2;_0x14db64<To['length'];_0x14db64++)_0x4c1f88=To[_0x14db64],_0x4c1f88!=='light'&&(_0xedcd69[_0x4c1f88]&&_0xedcd69[_0x4c1f88]['clone']?_0x4eaf76[_0x4c1f88]=_0xedcd69[_0x4c1f88]['clone']():_0x4eaf76[_0x4c1f88]=_0xedcd69[_0x4c1f88]);return this['addCompone'+'nt'](_0x54809c,_0x4eaf76);}['changeType'](_0x4b491d,_0x3078d3,_0x221cdf){_0x3078d3!==_0x221cdf&&(_0x4b491d['light']['type']=Gu[_0x221cdf]);}}const ZI=['x','y','z','w'],QI=[void(-0x2352+0xba5+-0x1*-0x17ad),void(-0x4*-0x9a8+-0x2f*0x1d+-0x214d),W,T,Q];function La(_0xc5a324,_0x50165e,_0x5e7c29,_0x3ee521){switch(_0x50165e['type']){case'boolean':return!!_0x5e7c29;case'number':if(typeof _0x5e7c29=='number')return _0x5e7c29;if(typeof _0x5e7c29=='string'){const _0x1f0927=parseInt(_0x5e7c29,0x3*-0x9f7+-0x1fbd*0x1+0x3dac);return isNaN(_0x1f0927)?null:_0x1f0927;}else{if(typeof _0x5e7c29=='boolean')return-0x2a1+0x1e44+-0x11b*0x19+_0x5e7c29;}return null;case'json':{const _0x4fb047={};if(Array['isArray'](_0x50165e['schema'])){(!_0x5e7c29||typeof _0x5e7c29!='object')&&(_0x5e7c29={});for(let _0x95101e=-0x715+-0xb16+0x1*0x122b;_0x95101e<_0x50165e['schema']['length'];_0x95101e++){const _0xd89c09=_0x50165e['schema'][_0x95101e];if(_0xd89c09['name']){if(_0xd89c09['array']){_0x4fb047[_0xd89c09['name']]=[];const _0x3c9e4c=Array['isArray'](_0x5e7c29[_0xd89c09['name']])?_0x5e7c29[_0xd89c09['name']]:[];for(let _0x350af6=0x2*0x31a+-0x2*0x94d+0x45*0x2e;_0x350af6<_0x3c9e4c['length'];_0x350af6++)_0x4fb047[_0xd89c09['name']]['push'](La(_0xc5a324,_0xd89c09,_0x3c9e4c[_0x350af6]));}else{const _0x429c16=_0x5e7c29['hasOwnProp'+'erty'](_0xd89c09['name'])?_0x5e7c29[_0xd89c09['name']]:_0xd89c09['default'];_0x4fb047[_0xd89c09['name']]=La(_0xc5a324,_0xd89c09,_0x429c16);}}}}return _0x4fb047;}case'asset':return _0x5e7c29 instanceof le?_0x5e7c29:typeof _0x5e7c29=='number'?_0xc5a324['assets']['get'](_0x5e7c29)||null:typeof _0x5e7c29=='string'&&_0xc5a324['assets']['get'](parseInt(_0x5e7c29,-0x204c+-0xd3c+0x2d92))||null;case'entity':return _0x5e7c29 instanceof De?_0x5e7c29:typeof _0x5e7c29=='string'?_0xc5a324['getEntityF'+'romIndex'](_0x5e7c29):null;case'rgb':case'rgba':if(_0x5e7c29 instanceof Y)return _0x3ee521 instanceof Y?(_0x3ee521['copy'](_0x5e7c29),_0x3ee521):_0x5e7c29['clone']();if(_0x5e7c29 instanceof Array&&_0x5e7c29['length']>=0x1269+-0x1201+-0x1*0x65&&_0x5e7c29['length']<=-0x9*0x2cb+0x13c3*0x1+0x3c*0x17){for(let _0x3c7c7b=0x643+-0x1*-0x22f9+-0x293c;_0x3c7c7b<_0x5e7c29['length'];_0x3c7c7b++)if(typeof _0x5e7c29[_0x3c7c7b]!='number')return null;return _0x3ee521||(_0x3ee521=new Y()),_0x3ee521['r']=_0x5e7c29[0x451*-0x3+-0x1*0x392+0x1085],_0x3ee521['g']=_0x5e7c29[0x2541+-0x1*0x85+-0x24bb],_0x3ee521['b']=_0x5e7c29[-0x1576+0x1303+0x25*0x11],_0x3ee521['a']=_0x5e7c29['length']===0x31c+0x1*0x12a7+-0x740*0x3?-0x19df+0x19c4+-0x2*-0xe:_0x5e7c29[0x1174+-0x144b+-0x2da*-0x1],_0x3ee521;}else{if(typeof _0x5e7c29=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x5e7c29))return _0x3ee521||(_0x3ee521=new Y()),_0x3ee521['fromString'](_0x5e7c29),_0x3ee521;}return null;case'vec2':case'vec3':case'vec4':{const _0x32fa64=parseInt(_0x50165e['type']['slice'](0x1346+-0x1*-0x667+-0x19aa*0x1),0xd44*0x1+0x17eb+-0x2525),_0x3d7d9a=QI[_0x32fa64];if(_0x5e7c29 instanceof _0x3d7d9a)return _0x3ee521 instanceof _0x3d7d9a?(_0x3ee521['copy'](_0x5e7c29),_0x3ee521):_0x5e7c29['clone']();if(_0x5e7c29 instanceof Array&&_0x5e7c29['length']===_0x32fa64){for(let _0x2faec9=0x1a2c+-0x15ff+0x1*-0x42d;_0x2faec9<_0x5e7c29['length'];_0x2faec9++)if(typeof _0x5e7c29[_0x2faec9]!='number')return null;_0x3ee521||(_0x3ee521=new _0x3d7d9a());for(let _0x31994e=0x15fd*0x1+0x18f0+-0x2eed;_0x31994e<_0x32fa64;_0x31994e++)_0x3ee521[ZI[_0x31994e]]=_0x5e7c29[_0x31994e];return _0x3ee521;}return null;}case'curve':if(_0x5e7c29){let _0x299f95;if(_0x5e7c29 instanceof Cs||_0x5e7c29 instanceof jr)_0x299f95=_0x5e7c29['clone']();else{const _0x964a1e=_0x5e7c29['keys'][-0x8ee+0x1c29+-0x133b]instanceof Array?jr:Cs;_0x299f95=new _0x964a1e(_0x5e7c29['keys']),_0x299f95['type']=_0x5e7c29['type'];}return _0x299f95;}break;}return _0x5e7c29;}function Ax(_0x3737b1,_0xe2c287,_0x34f3de,_0x25ff38){return _0xe2c287['array']?_0x34f3de['map']((_0x3989f0,_0x1ed6dd)=>La(_0x3737b1,_0xe2c287,_0x3989f0,_0x25ff38?_0x25ff38[_0x1ed6dd]:null)):La(_0x3737b1,_0xe2c287,_0x34f3de,_0x25ff38);}function Ex(_0x310597,_0x4034c5,_0x1c425b,_0x935f75){if(_0x1c425b)for(const _0x10e0af in _0x4034c5){const _0x176614=_0x4034c5[_0x10e0af],_0x5133a8=_0x1c425b[_0x10e0af];_0x5133a8!==void(0xd6a+-0x18d*-0x13+0x3*-0xe4b)&&(_0x935f75[_0x10e0af]=Ax(_0x310597,_0x176614,_0x5133a8,_0x935f75[_0x10e0af]));}}const oa=class oa{constructor(_0x3648cb){this['scriptType']=_0x3648cb,this['index']={};}['add'](_0x2b835b,_0x53ccfa){if(this['index'][_0x2b835b]){v['warn']('attribute\x20'+'\x27'+_0x2b835b+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(oa['reservedNa'+'mes']['has'](_0x2b835b)){v['warn']('attribute\x20'+'\x27'+_0x2b835b+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x2b835b]=_0x53ccfa,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x2b835b,{'get':function(){return this['__attribut'+'es'][_0x2b835b];},'set':function(_0xc17be2){const _0xd2a9dd='attr',_0x10a20e='attr:'+_0x2b835b,_0x583482=this['__attribut'+'es'][_0x2b835b];let _0x76c2f3=_0x583482;if(_0x583482&&_0x53ccfa['type']!=='json'&&_0x53ccfa['type']!=='entity'&&_0x583482['clone']&&(this['hasEvent'](_0xd2a9dd)||this['hasEvent'](_0x10a20e))&&(_0x76c2f3=_0x583482['clone']()),_0x53ccfa['array']){if(this['__attribut'+'es'][_0x2b835b]=[],_0xc17be2){for(let _0x3b96a1=-0x1e9b+-0x1e6f*-0x1+0x2c,_0x47a052=_0xc17be2['length'];_0x3b96a1<_0x47a052;_0x3b96a1++)this['__attribut'+'es'][_0x2b835b]['push'](La(this['app'],_0x53ccfa,_0xc17be2[_0x3b96a1],_0x583482?_0x583482[_0x3b96a1]:null));}}else this['__attribut'+'es'][_0x2b835b]=La(this['app'],_0x53ccfa,_0xc17be2,_0x583482);this['fire'](_0xd2a9dd,_0x2b835b,this['__attribut'+'es'][_0x2b835b],_0x76c2f3),this['fire'](_0x10a20e,this['__attribut'+'es'][_0x2b835b],_0x76c2f3);}});}['remove'](_0x1ca7b0){return this['index'][_0x1ca7b0]?(delete this['index'][_0x1ca7b0],delete this['scriptType']['prototype'][_0x1ca7b0],!(0x7bf*0x1+0x2581*0x1+-0x2d40)):!(0x266+0xe8f*0x2+-0x1f83);}['has'](_0x528266){return!!this['index'][_0x528266];}['get'](_0x31952d){return this['index'][_0x31952d]||null;}};c(oa,'assignAttr'+'ibutesToSc'+'ript',Ex),c(oa,'attributeT'+'oValue',Ax),c(oa,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Ho=oa;const _f='initialize',gf='postInitia'+'lize',JI='update',eD='postUpdate',tD='swap';class Ht extends ce{constructor(_0x3f42e7){super(),c(this,'app'),c(this,'entity'),c(this,'_enabled'),c(this,'_enabledOl'+'d'),c(this,'_initializ'+'ed'),c(this,'_postIniti'+'alized'),c(this,'__destroye'+'d'),c(this,'__scriptTy'+'pe'),c(this,'__executio'+'nOrder'),this['initScript'](_0x3f42e7);}set['enabled'](_0x3a5f45){this['_enabled']=!!_0x3a5f45,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(0x34e+0x227f+-0x25cd),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,_f)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(0xb*0x281+0x362*0xa+0x1475*-0x3),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,gf)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x55dcdb){const _0x93d47e=this['constructo'+'r'];v['assert'](_0x55dcdb&&_0x55dcdb['app']&&_0x55dcdb['entity'],'script\x20['+_0x93d47e['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x55dcdb['app'],this['entity']=_0x55dcdb['entity'],this['_enabled']=typeof _0x55dcdb['enabled']=='boolean'?_0x55dcdb['enabled']:!(0x4*0x737+-0x1916+0x8a*-0x7),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(-0x1e7b+0x581*0x1+0x18fb),this['__scriptTy'+'pe']=_0x93d47e,this['__executio'+'nOrder']=-(-0x1e99+0x8*-0xe5+0x25c2);}static get['scriptName'](){return this['__name'];}}c(Ht,'EVENT_ENAB'+'LE','enable'),c(Ht,'EVENT_DISA'+'BLE','disable'),c(Ht,'EVENT_STAT'+'E','state'),c(Ht,'EVENT_DEST'+'ROY','destroy'),c(Ht,'EVENT_ATTR','attr'),c(Ht,'EVENT_ERRO'+'R','error'),c(Ht,'__name',null),c(Ht,'__getScrip'+'tName',Cx);const sD=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function Cx(_0x27e38c){if(typeof _0x27e38c!='function')return;if('name'in Function['prototype'])return _0x27e38c['name'];if(_0x27e38c===Function||_0x27e38c===Function['prototype']['constructo'+'r'])return'Function';const _0x2f59fe=(''+_0x27e38c)['match'](sD);return _0x2f59fe?_0x2f59fe[0x236f+-0x11ae+-0x11c0]:void(0xb12+-0x2*0xea5+0x1238);}class Qh extends Ht{constructor(_0x3ff7c1){super(_0x3ff7c1),c(this,'__attribut'+'es'),c(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x3ff7c1);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Ho(this)),this['__attribut'+'es'];}['initScript'](_0x5bc492){Ht['prototype']['initScript']['call'](this,_0x5bc492),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x5bc492['attributes']||{};}['initScript'+'Type'](_0x36dbfc){this['initScript'](_0x36dbfc);}['__initiali'+'zeAttribut'+'es'](_0x5191f2){if(!(!_0x5191f2&&!this['__attribut'+'esRaw'])){for(const _0x5e58ad in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x5e58ad)?this[_0x5e58ad]=this['__attribut'+'esRaw'][_0x5e58ad]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x5e58ad)||(this['__scriptTy'+'pe']['attributes']['index'][_0x5e58ad]['hasOwnProp'+'erty']('default')?this[_0x5e58ad]=this['__scriptTy'+'pe']['attributes']['index'][_0x5e58ad]['default']:this[_0x5e58ad]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x2855a5){for(const _0x191a09 in _0x2855a5)_0x2855a5['hasOwnProp'+'erty'](_0x191a09)&&(this['prototype'][_0x191a09]=_0x2855a5[_0x191a09]);}}const iD=_0x3a1735=>_0x3a1735[0x1*-0x21b5+0x2*-0xe92+0x3ed9]['toLowerCas'+'e']()+_0x3a1735['substring'](-0x8d*0x17+0x6b7*0x1+0x5f5);class di extends ue{constructor(_0x33172e,_0x16e03a){super(_0x33172e,_0x16e03a),c(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new wh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new wh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(0x22ce+-0x1f0+-0x20dd),this['_scriptsDa'+'ta']=null,this['_oldState']=!(-0x1*0x91f+-0x606+-0x1*-0xf25),this['_enabled']=!(0xb39+0x11a4+-0x1*0x1cdd),this['_beingEnab'+'led']=!(-0x17b9*-0x1+-0x1*-0x1bec+-0x33a4),this['_isLooping'+'ThroughScr'+'ipts']=!(-0x2*0xa36+0xe11+0x65c),this['_execution'+'Order']=-(-0x44*-0x11+-0x2*-0xdc7+0x1*-0x2011),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x383700){this['_scriptsDa'+'ta']=_0x383700;for(const _0x1cb682 in _0x383700){if(!_0x383700['hasOwnProp'+'erty'](_0x1cb682))continue;const _0xdc30e0=this['_scriptsIn'+'dex'][_0x1cb682];if(_0xdc30e0){if(typeof _0x383700[_0x1cb682]['enabled']=='boolean'&&(_0xdc30e0['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0xdc30e0);}),_0xdc30e0['enabled']=!!_0x383700[_0x1cb682]['enabled']),typeof _0x383700[_0x1cb682]['attributes']=='object'){for(const _0x23b986 in _0x383700[_0x1cb682]['attributes'])if(!Ho['reservedNa'+'mes']['has'](_0x23b986)){if(!_0xdc30e0['__attribut'+'es']['hasOwnProp'+'erty'](_0x23b986)){const _0x9afcad=this['system']['app']['scripts']['get'](_0x1cb682);_0x9afcad&&_0x9afcad['attributes']['add'](_0x23b986,{});}_0xdc30e0[_0x23b986]=_0x383700[_0x1cb682]['attributes'][_0x23b986];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x2a087a){const _0x190016=this['_enabled'];this['_enabled']=_0x2a087a,this['fire']('set','enabled',_0x190016,_0x2a087a);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(-0xfab+-0x16d+0x1118*0x1),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(0x12*-0x151+-0x2ad*-0xe+0x10f*-0xd);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x257565=this['_beginLoop'+'ing']();for(let _0x1f3561=0x1a1a+-0x5*0x7b+-0x17b3,_0xaf6347=this['scripts']['length'];_0x1f3561<_0xaf6347;_0x1f3561++){const _0x1ce912=this['scripts'][_0x1f3561];_0x1ce912['_initializ'+'ed']&&!_0x1ce912['_postIniti'+'alized']&&_0x1ce912['enabled']&&(_0x1ce912['_postIniti'+'alized']=!(0x1702+0x322*-0x4+-0xa7a),_0x1ce912['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x1ce912,gf));}this['_endLoopin'+'g'](_0x257565);}['_beginLoop'+'ing'](){const _0x1b28d4=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(0x1b59+0x7*0x485+0x1d7e*-0x2),_0x1b28d4;}['_endLoopin'+'g'](_0x527895){this['_isLooping'+'ThroughScr'+'ipts']=_0x527895,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x42f7bf,_0x1e991e,_0x56656c){this['_beingEnab'+'led']=!(0x25*-0x78+-0x1daa+0x2f02),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(-0xa7*0x37+0x21ad*0x1+0x235);}['_checkStat'+'e'](){const _0x51358a=this['enabled']&&this['entity']['enabled'];if(_0x51358a===this['_oldState'])return;this['_oldState']=_0x51358a,this['fire'](_0x51358a?'enable':'disable'),this['fire']('state',_0x51358a),_0x51358a?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x50804f=this['_beginLoop'+'ing']();for(let _0x4683fb=0xde+0x46f+-0x1*0x54d,_0x24227d=this['scripts']['length'];_0x4683fb<_0x24227d;_0x4683fb++){const _0x2d65b9=this['scripts'][_0x4683fb];_0x2d65b9['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x2d65b9);}),_0x2d65b9['enabled']=_0x2d65b9['_enabled'];}this['_endLoopin'+'g'](_0x50804f);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x282beb=this['_beginLoop'+'ing']();for(let _0x33fdff=-0xef*0x1a+0x1221+0x625;_0x33fdff<this['scripts']['length'];_0x33fdff++){const _0x457cfd=this['scripts'][_0x33fdff];_0x457cfd&&this['destroy'](_0x457cfd['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x282beb);}['_removeDes'+'troyedScri'+'pts'](){const _0x33e7bb=this['_destroyed'+'Scripts']['length'];if(_0x33e7bb){for(let _0x3d98ba=-0x12bd+0x51b*0x3+0x36c;_0x3d98ba<_0x33e7bb;_0x3d98ba++){const _0x593d1f=this['_destroyed'+'Scripts'][_0x3d98ba];this['_removeScr'+'iptInstanc'+'e'](_0x593d1f);}this['_destroyed'+'Scripts']['length']=-0x231e+-0x2*-0x32+0x22ba,this['_resetExec'+'utionOrder'](0x49b*0x5+0x1*0x1c9a+-0x33a1,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x5e08e0=-0x9*-0x199+0x15b4+-0x2415,_0x5e3bd2=this['scripts']['length'];_0x5e08e0<_0x5e3bd2;_0x5e08e0++){const _0x103221=this['scripts'][_0x5e08e0];this['initialize'+'Attributes'](_0x103221);}}['initialize'+'Attributes'](_0x3c8897){var _0x5c3289;if(_0x3c8897 instanceof Qh)_0x3c8897['__initiali'+'zeAttribut'+'es']();else{const _0x352347=_0x3c8897['__scriptTy'+'pe']['__name'],_0x26b562=this['_attribute'+'DataMap']['get'](_0x352347);if(!_0x26b562)return;const _0x12adc8=(_0x5c3289=this['system']['app']['scripts'])==null?void(0xa7*-0x37+0xb98+-0x1*-0x1849):_0x5c3289['getSchema'](_0x352347);_0x12adc8||v['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x352347+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),Ex(this['system']['app'],_0x12adc8['attributes'],_0x26b562,_0x3c8897);}}['_scriptMet'+'hod'](_0x451718,_0xe097f3,_0x15cfd6){try{_0x451718[_0xe097f3](_0x15cfd6);}catch(_0x3b353b){_0x451718['enabled']=!(0x2249*-0x1+0x1*0x7eb+0x1a5f),_0x451718['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0xe097f3+'\x22\x20for\x20\x22'+_0x451718['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x3b353b),console['error'](_0x3b353b)),_0x451718['fire']('error',_0x3b353b,_0xe097f3),this['fire']('error',_0x451718,_0x3b353b,_0xe097f3);}}['_onInitial'+'ize'](){const _0x35f50d=this['_scripts'],_0x41d071=this['_beginLoop'+'ing']();for(let _0x3fff38=0xcf7+-0xf*0x193+-0x2f*-0x3a,_0x2290d5=_0x35f50d['length'];_0x3fff38<_0x2290d5;_0x3fff38++){const _0x1dca86=_0x35f50d[_0x3fff38];!_0x1dca86['_initializ'+'ed']&&_0x1dca86['enabled']&&(_0x1dca86['_initializ'+'ed']=!(-0xda0+-0x1f5*0x1+-0x1*-0xf95),_0x1dca86['initialize']&&this['_scriptMet'+'hod'](_0x1dca86,_f));}this['_endLoopin'+'g'](_0x41d071);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x489a33){const _0x2521a5=this['_updateLis'+'t'];if(!_0x2521a5['length'])return;const _0x322150=this['_beginLoop'+'ing']();for(_0x2521a5['loopIndex']=-0x8d8+-0x3*-0x859+-0x1033;_0x2521a5['loopIndex']<_0x2521a5['length'];_0x2521a5['loopIndex']++){const _0x78c211=_0x2521a5['items'][_0x2521a5['loopIndex']];_0x78c211['enabled']&&this['_scriptMet'+'hod'](_0x78c211,JI,_0x489a33);}this['_endLoopin'+'g'](_0x322150);}['_onPostUpd'+'ate'](_0x53b8d5){const _0x551f77=this['_postUpdat'+'eList'];if(!_0x551f77['length'])return;const _0x4f2bc6=this['_beginLoop'+'ing']();for(_0x551f77['loopIndex']=-0x1715+0x588*0x3+0x67d;_0x551f77['loopIndex']<_0x551f77['length'];_0x551f77['loopIndex']++){const _0x124ab1=_0x551f77['items'][_0x551f77['loopIndex']];_0x124ab1['enabled']&&this['_scriptMet'+'hod'](_0x124ab1,eD,_0x53b8d5);}this['_endLoopin'+'g'](_0x4f2bc6);}['_insertScr'+'iptInstanc'+'e'](_0x579190,_0x2cf991,_0x4b4416){_0x2cf991===-(-0x687+-0x1*0x1d3f+-0x1*-0x23c7)?(this['_scripts']['push'](_0x579190),_0x579190['__executio'+'nOrder']=_0x4b4416,_0x579190['update']&&this['_updateLis'+'t']['append'](_0x579190),_0x579190['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x579190)):(this['_scripts']['splice'](_0x2cf991,0x1ff3+0x29*0x5a+-0x2e5d,_0x579190),_0x579190['__executio'+'nOrder']=_0x2cf991,this['_resetExec'+'utionOrder'](_0x2cf991+(-0x10d*-0x1b+0x767*-0x2+-0xd90),_0x4b4416+(-0x1003+-0x3eb*-0x7+0xb69*-0x1)),_0x579190['update']&&this['_updateLis'+'t']['insert'](_0x579190),_0x579190['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x579190));}['_removeScr'+'iptInstanc'+'e'](_0x36f33a){const _0x2ca097=this['_scripts']['indexOf'](_0x36f33a);return _0x2ca097===-(-0x8a5*0x1+0x83e*-0x2+0x1922)||(this['_scripts']['splice'](_0x2ca097,-0x1f6a*-0x1+-0x14e+-0xa09*0x3),_0x36f33a['update']&&this['_updateLis'+'t']['remove'](_0x36f33a),_0x36f33a['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x36f33a)),_0x2ca097;}['_resetExec'+'utionOrder'](_0x3b1fd7,_0x5a24df){for(let _0x520628=_0x3b1fd7;_0x520628<_0x5a24df;_0x520628++)this['_scripts'][_0x520628]['__executio'+'nOrder']=_0x520628;}['_resolveEn'+'tityScript'+'Attribute'](_0x352521,_0x2e2447,_0x38810a,_0x2e38e5,_0x1bcfce,_0x5583af){if(_0x352521['array']){const _0x478ef4=_0x38810a['length'];if(!_0x478ef4)return;const _0x58c83a=_0x38810a['slice']();for(let _0x28de79=0x83*0xe+-0x15a6+0xe7c;_0x28de79<_0x478ef4;_0x28de79++){const _0x29ca9f=_0x58c83a[_0x28de79]instanceof We?_0x58c83a[_0x28de79]['getGuid']():_0x58c83a[_0x28de79];_0x5583af[_0x29ca9f]&&(_0x58c83a[_0x28de79]=_0x2e38e5?_0x5583af[_0x29ca9f]['getGuid']():_0x5583af[_0x29ca9f]);}_0x1bcfce[_0x2e2447]=_0x58c83a;}else{if(_0x38810a instanceof We)_0x38810a=_0x38810a['getGuid']();else{if(typeof _0x38810a!='string')return;}_0x5583af[_0x38810a]&&(_0x1bcfce[_0x2e2447]=_0x5583af[_0x38810a]);}}['has'](_0x44503a){if(typeof _0x44503a=='string')return!!this['_scriptsIn'+'dex'][_0x44503a];if(!_0x44503a)return!(-0x1ffd+-0x94e+0x294c);const _0x46ce16=_0x44503a,_0x53ed55=_0x46ce16['__name'],_0x5ce76e=this['_scriptsIn'+'dex'][_0x53ed55];return(_0x5ce76e&&_0x5ce76e['instance'])instanceof _0x46ce16;}['get'](_0x46341d){if(typeof _0x46341d=='string'){const _0x1e1c6e=this['_scriptsIn'+'dex'][_0x46341d];return _0x1e1c6e?_0x1e1c6e['instance']:null;}if(!_0x46341d)return null;const _0x12afa7=_0x46341d,_0x64f416=_0x12afa7['__name'],_0x1f4a29=this['_scriptsIn'+'dex'][_0x64f416],_0x4a0a9c=_0x1f4a29&&_0x1f4a29['instance'];return _0x4a0a9c instanceof _0x12afa7?_0x4a0a9c:null;}['create'](_0x2a00bc,_0x551c72={}){const _0x5dcdc6=this;let _0xd0acf=_0x2a00bc,_0x1d52b6=_0x2a00bc;if(typeof _0xd0acf=='string'?_0xd0acf=this['system']['app']['scripts']['get'](_0xd0acf):_0xd0acf&&(_0x1d52b6=_0xd0acf['__name']??(_0xd0acf['__name']=iD(Cx(_0xd0acf)))),_0xd0acf){if(!this['_scriptsIn'+'dex'][_0x1d52b6]||!this['_scriptsIn'+'dex'][_0x1d52b6]['instance']){const _0x2a1969=new _0xd0acf({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x551c72['hasOwnProp'+'erty']('enabled')?_0x551c72['enabled']:!(-0x13a2+-0xaeb+0x1e8d),'attributes':_0x551c72['attributes']||{}});_0x551c72['properties']&&typeof _0x551c72['properties']=='object'&&Object['assign'](_0x2a1969,_0x551c72['properties']),_0x2a1969 instanceof Qh||this['_attribute'+'DataMap']['set'](_0x1d52b6,_0x551c72['attributes']);const _0x345af1=this['_scripts']['length'];let _0x479e31=-(0x3*0x7f2+0x1*0xdf9+-0x25ce);return typeof _0x551c72['ind']=='number'&&_0x551c72['ind']!==-(0x270f+0xfb*-0x17+-0x1081)&&_0x345af1>_0x551c72['ind']&&(_0x479e31=_0x551c72['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x2a1969,_0x479e31,_0x345af1),this['_scriptsIn'+'dex'][_0x1d52b6]={'instance':_0x2a1969,'onSwap':function(){_0x5dcdc6['swap'](_0x1d52b6);}},this[_0x1d52b6]=_0x2a1969,_0x551c72['preloading']||this['initialize'+'Attributes'](_0x2a1969),this['fire']('create',_0x1d52b6,_0x2a1969),this['fire']('create:'+_0x1d52b6,_0x2a1969),this['system']['app']['scripts']['on']('swap:'+_0x1d52b6,this['_scriptsIn'+'dex'][_0x1d52b6]['onSwap']),_0x551c72['preloading']||(_0x2a1969['enabled']&&!_0x2a1969['_initializ'+'ed']&&(_0x2a1969['_initializ'+'ed']=!(0x19fb*0x1+0x3*0xb11+-0x32*0x12f),_0x2a1969['initialize']&&this['_scriptMet'+'hod'](_0x2a1969,_f)),_0x2a1969['enabled']&&!_0x2a1969['_postIniti'+'alized']&&(_0x2a1969['_postIniti'+'alized']=!(-0xd27*-0x2+0x103c+-0xf2*0x2d),_0x2a1969['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x2a1969,gf))),_0x2a1969;}v['warn']('script\x20\x27'+_0x1d52b6+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x1d52b6]={'awaiting':!(-0x1*-0x15b9+0x1*0x214c+-0x3705),'ind':this['_scripts']['length']},v['warn']('script\x20\x27'+_0x1d52b6+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x4e9fef){let _0x15528b=_0x4e9fef,_0x4b2ff6=_0x4e9fef;typeof _0x4b2ff6=='string'?_0x4b2ff6=this['system']['app']['scripts']['get'](_0x4b2ff6):_0x4b2ff6&&(_0x15528b=_0x4b2ff6['__name']);const _0x43a532=this['_scriptsIn'+'dex'][_0x15528b];if(delete this['_scriptsIn'+'dex'][_0x15528b],!_0x43a532)return!(0x9*0x448+0x114b+-0x37d2);this['_attribute'+'DataMap']['delete'](_0x15528b);const _0x1e2b76=_0x43a532['instance'];if(_0x1e2b76&&!_0x1e2b76['_destroyed']){if(_0x1e2b76['enabled']=!(-0xe1d*0x1+0x1*-0x1bdd+0x29fb),_0x1e2b76['_destroyed']=!(0x1*0x22b9+0x907+-0x2bc0),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x1e2b76);else{const _0x20a509=this['_removeScr'+'iptInstanc'+'e'](_0x1e2b76);_0x20a509>=-0x1*0x23a7+-0x1767*0x1+-0x3b0e*-0x1&&this['_resetExec'+'utionOrder'](_0x20a509,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x15528b,_0x43a532['onSwap']),delete this[_0x15528b],this['fire']('destroy',_0x15528b,_0x1e2b76||null),this['fire']('destroy:'+_0x15528b,_0x1e2b76||null),_0x1e2b76&&_0x1e2b76['fire']('destroy'),!(0x5*0x5fc+0x107*0x1c+-0x18*0x272);}['swap'](_0x7edf05){let _0x33982d=_0x7edf05,_0x95d80b=_0x7edf05;typeof _0x95d80b=='string'?_0x95d80b=this['system']['app']['scripts']['get'](_0x95d80b):_0x95d80b&&(_0x33982d=_0x95d80b['__name']);const _0x29583a=this['_scriptsIn'+'dex'][_0x33982d];if(!_0x29583a||!_0x29583a['instance'])return!(-0x313*-0xb+0x1ffe+0x20e7*-0x2);const _0x37eba5=_0x29583a['instance'],_0x2ad70b=this['_scripts']['indexOf'](_0x37eba5),_0x9925d8=new _0x95d80b({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x37eba5['enabled'],'attributes':_0x37eba5['__attribut'+'es']});return _0x9925d8['swap']?(this['initialize'+'Attributes'](_0x9925d8),this['_scripts'][_0x2ad70b]=_0x9925d8,this['_scriptsIn'+'dex'][_0x33982d]['instance']=_0x9925d8,this[_0x33982d]=_0x9925d8,_0x9925d8['__executio'+'nOrder']=_0x2ad70b,_0x37eba5['update']&&this['_updateLis'+'t']['remove'](_0x37eba5),_0x37eba5['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x37eba5),_0x9925d8['update']&&this['_updateLis'+'t']['insert'](_0x9925d8),_0x9925d8['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x9925d8),this['_scriptMet'+'hod'](_0x9925d8,tD,_0x37eba5),this['fire']('swap',_0x33982d,_0x9925d8),this['fire']('swap:'+_0x33982d,_0x9925d8),!(0x484*0x4+0x2295+-0x34a5)):!(0x194c+0x269f+-0x3fea);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x546755,_0x1d7aa1){const _0x31fac7=this['entity']['script'];for(const _0x187696 in _0x546755['_scriptsIn'+'dex']){const _0x2a7537=this['system']['app']['scripts']['get'](_0x187696);if(!_0x2a7537)continue;const _0x5d02e8=_0x546755['_scriptsIn'+'dex'][_0x187696];if(!_0x5d02e8||!_0x5d02e8['instance'])continue;const _0x367e0b=_0x31fac7[_0x187696]['__attribut'+'esRaw'],_0x2a7943=_0x31fac7[_0x187696]['__attribut'+'es'];if(!_0x367e0b&&!_0x2a7943)continue;const _0xb31957=!!_0x367e0b,_0x5aa666=_0x5d02e8['instance']['__attribut'+'es'];for(const _0x518dce in _0x5aa666){if(!_0x5aa666[_0x518dce])continue;const _0x597036=_0x2a7537['attributes']['get'](_0x518dce);if(_0x597036){if(_0x597036['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x597036,_0x518dce,_0x5aa666[_0x518dce],_0xb31957,_0x367e0b||_0x2a7943,_0x1d7aa1);else{if(_0x597036['type']==='json'&&Array['isArray'](_0x597036['schema'])){const _0x4acbfa=_0x5aa666[_0x518dce],_0x4b0424=_0x367e0b?_0x367e0b[_0x518dce]:_0x2a7943[_0x518dce];for(let _0xfcc32b=-0x11*-0x86+-0x1*0x1c0b+0x179*0xd;_0xfcc32b<_0x597036['schema']['length'];_0xfcc32b++){const _0xc78d53=_0x597036['schema'][_0xfcc32b];if(_0xc78d53['type']==='entity'){if(_0x597036['array']){for(let _0x509349=0xbdb*0x1+0x5df+-0x1*0x11ba;_0x509349<_0x4acbfa['length'];_0x509349++)this['_resolveEn'+'tityScript'+'Attribute'](_0xc78d53,_0xc78d53['name'],_0x4acbfa[_0x509349][_0xc78d53['name']],_0xb31957,_0x4b0424[_0x509349],_0x1d7aa1);}else this['_resolveEn'+'tityScript'+'Attribute'](_0xc78d53,_0xc78d53['name'],_0x4acbfa[_0xc78d53['name']],_0xb31957,_0x4b0424,_0x1d7aa1);}}}}}}}}['move'](_0xf71e3c,_0x53becb){const _0x441df2=this['_scripts']['length'];if(_0x53becb>=_0x441df2||_0x53becb<0x1e15+-0x15b*0x7+0x526*-0x4)return!(-0x46a*0x5+-0x1c5e+0x3271);let _0x368e37=_0xf71e3c,_0x472dc5=_0xf71e3c;typeof _0x472dc5!='string'?_0x472dc5=_0xf71e3c['__name']:_0x368e37=null;const _0x38c1c1=this['_scriptsIn'+'dex'][_0x472dc5];if(!_0x38c1c1||!_0x38c1c1['instance'])return!(-0x787+0x1e12+-0x168a);const _0x4bfc6b=_0x38c1c1['instance'];if(_0x368e37&&!(_0x4bfc6b instanceof _0x368e37))return!(0x1*-0x3d+0x8b*-0x39+0x1f31);const _0x62f073=this['_scripts']['indexOf'](_0x4bfc6b);return _0x62f073===-(0xf02+-0x1967+0xa66)||_0x62f073===_0x53becb?!(-0x26ff+-0xb*-0x130+0x53*0x50):(this['_scripts']['splice'](_0x53becb,0x2122+-0x302+-0x1e20,this['_scripts']['splice'](_0x62f073,0xa15+0x20f0+-0x2b04)[-0x1fae+0x1d59*-0x1+0x397*0x11]),this['_resetExec'+'utionOrder'](-0xe4*-0x3+0x5*0x73f+-0x26e7,_0x441df2),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x472dc5,_0x4bfc6b,_0x53becb,_0x62f073),this['fire']('move:'+_0x472dc5,_0x4bfc6b,_0x53becb,_0x62f073),!(0x1599+-0xbba+-0x9df));}}c(di,'EVENT_CREA'+'TE','create'),c(di,'EVENT_DEST'+'ROY','destroy'),c(di,'EVENT_ENAB'+'LE','enable'),c(di,'EVENT_DISA'+'BLE','disable'),c(di,'EVENT_REMO'+'VE','remove'),c(di,'EVENT_STAT'+'E','state'),c(di,'EVENT_MOVE','move'),c(di,'EVENT_ERRO'+'R','error');class rD{constructor(){this['enabled']=!(0x2*-0x67+0x1628*0x1+-0x155a);}}const nD='_onInitial'+'izeAttribu'+'tes',aD='_onInitial'+'ize',oD='_onPostIni'+'tialize',lD='_onUpdate',hD='_onPostUpd'+'ate';let Jl=0x326+0x3ed+-0x1*0x713;class cD extends Xe{constructor(_0x53c401){super(_0x53c401),this['id']='script',this['ComponentT'+'ype']=di,this['DataType']=rD,this['_component'+'s']=new wh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new wh({'sortBy':'_execution'+'Order'}),this['preloading']=!(-0x14d*-0x11+-0xd38+-0x8e5),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x262a13,_0x391014){if(_0x262a13['_execution'+'Order']=Jl++,this['_component'+'s']['append'](_0x262a13),Jl>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x262a13['enabled']=_0x391014['hasOwnProp'+'erty']('enabled')?!!_0x391014['enabled']:!(0x517+-0x1b8b+0x1674),_0x262a13['enabled']&&_0x262a13['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x262a13),_0x391014['hasOwnProp'+'erty']('order')&&_0x391014['hasOwnProp'+'erty']('scripts')){_0x262a13['_scriptsDa'+'ta']=_0x391014['scripts'];for(let _0x49e5ca=-0x1075+0x2b5*0xa+-0xa9d;_0x49e5ca<_0x391014['order']['length'];_0x49e5ca++)_0x262a13['create'](_0x391014['order'][_0x49e5ca],{'enabled':_0x391014['scripts'][_0x391014['order'][_0x49e5ca]]['enabled'],'attributes':_0x391014['scripts'][_0x391014['order'][_0x49e5ca]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x2512a1,_0x264479){var _0x127f9b;const _0x2e19ca=[],_0x24dc99={};for(let _0x4ba822=0x25*-0x4a+-0x14a8+-0xfad*-0x2;_0x4ba822<_0x2512a1['script']['_scripts']['length'];_0x4ba822++){const _0x1d27c4=_0x2512a1['script']['_scripts'][_0x4ba822],_0x48733f=_0x1d27c4['__scriptTy'+'pe']['__name'];_0x2e19ca['push'](_0x48733f);const _0x33d332=((_0x127f9b=_0x2512a1['script']['_attribute'+'DataMap'])==null?void(-0x1*0x1dee+0x812+0x15dc):_0x127f9b['get'](_0x48733f))||{};for(const _0x3e8fc2 in _0x1d27c4['__attribut'+'es'])_0x33d332[_0x3e8fc2]=_0x1d27c4['__attribut'+'es'][_0x3e8fc2];_0x24dc99[_0x48733f]={'enabled':_0x1d27c4['_enabled'],'attributes':_0x33d332};}for(const _0x525815 in _0x2512a1['script']['_scriptsIn'+'dex'])_0x525815['awaiting']&&_0x2e19ca['splice'](_0x525815['ind'],-0x5e9+-0x63*0x52+0x259f,_0x525815);const _0xa586da={'enabled':_0x2512a1['script']['enabled'],'order':_0x2e19ca,'scripts':_0x24dc99};return this['addCompone'+'nt'](_0x264479,_0xa586da);}['_resetExec'+'utionOrder'](){Jl=-0x16de+0x1351*-0x2+-0x148*-0x30;for(let _0x279494=-0x50f*-0x1+-0x2392+0x1*0x1e83,_0x3cff73=this['_component'+'s']['length'];_0x279494<_0x3cff73;_0x279494++)this['_component'+'s']['items'][_0x279494]['_execution'+'Order']=Jl++;}['_callCompo'+'nentMethod'](_0x2dcdba,_0x4af133,_0x551100){for(_0x2dcdba['loopIndex']=-0x1167+0x788+0x1*0x9df;_0x2dcdba['loopIndex']<_0x2dcdba['length'];_0x2dcdba['loopIndex']++)_0x2dcdba['items'][_0x2dcdba['loopIndex']][_0x4af133](_0x551100);}['_onInitial'+'ize'](){this['preloading']=!(-0x1b35+0x99*0x3+0x196b),this['_callCompo'+'nentMethod'](this['_component'+'s'],nD),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],aD);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],oD);}['_onUpdate'](_0x51a16e){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],lD,_0x51a16e);}['_onPostUpd'+'ate'](_0x19283e){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],hD,_0x19283e);}['_addCompon'+'entToEnabl'+'ed'](_0x1411b8){this['_enabledCo'+'mponents']['insert'](_0x1411b8);}['_removeCom'+'ponentFrom'+'Enabled'](_0x402ac0){this['_enabledCo'+'mponents']['remove'](_0x402ac0);}['_onBeforeR'+'emove'](_0x2451e7,_0x538696){this['_component'+'s']['items']['indexOf'](_0x538696)>=0x13c6+0x2665*0x1+-0x3a2b&&_0x538696['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x538696),this['_component'+'s']['remove'](_0x538696);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class Mx extends ue{constructor(_0x376c04,_0x1672ea){super(_0x376c04,_0x1672ea),c(this,'_layers',[Fi]),c(this,'_instance',null),c(this,'_customAab'+'b',null),c(this,'_assetRefe'+'rence'),c(this,'_materialO'+'ptions',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x376c04['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x1672ea['on']('remove',this['onRemoveCh'+'ild'],this),_0x1672ea['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x1672ea['on']('insert',this['onInsertCh'+'ild'],this),_0x1672ea['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x38c054){var _0x996c9a,_0x2e59d7;this['_customAab'+'b']=_0x38c054,(_0x2e59d7=(_0x996c9a=this['_instance'])==null?void(-0x2709+-0x7f*-0x29+-0x12b2*-0x1):_0x996c9a['meshInstan'+'ce'])==null||_0x2e59d7['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x17c41d){var _0x103b1e;if(this['destroyIns'+'tance'](),this['_instance']=_0x17c41d,(_0x103b1e=this['_instance'])!=null&&_0x103b1e['meshInstan'+'ce']){const _0x1dd232=this['_instance']['meshInstan'+'ce'];_0x1dd232['node']||(_0x1dd232['node']=this['entity']),_0x1dd232['setCustomA'+'abb'](this['_customAab'+'b']),this['_materialO'+'ptions']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['materialOp'+'tions'](_0x400439){this['_materialO'+'ptions']=Object['assign']({},_0x400439),this['_instance']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']);}get['materialOp'+'tions'](){return this['_materialO'+'ptions'];}get['material'](){var _0x3c4b11;return(_0x3c4b11=this['_instance'])==null?void(0x1*0xa6f+-0x1*-0xd6f+0xd*-0x1d6):_0x3c4b11['material'];}set['layers'](_0x4779dc){this['removeFrom'+'Layers'](),this['_layers']['length']=0x1*-0x2643+0x1bfe+0xef*0xb;for(let _0x5df8d6=-0x2*0x7ca+-0x231f+0x32b3;_0x5df8d6<_0x4779dc['length'];_0x5df8d6++)this['_layers'][_0x5df8d6]=_0x4779dc[_0x5df8d6];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x5a4c39){const _0x9a827d=_0x5a4c39 instanceof le?_0x5a4c39['id']:_0x5a4c39;this['_assetRefe'+'rence']['id']!==_0x9a827d&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x9a827d,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x567710){const _0x542336=_0x567710 instanceof le?_0x567710['id']:_0x567710;this['_assetRefe'+'rence']['id']=_0x542336;}['destroyIns'+'tance'](){var _0xa29f8;this['_instance']&&(this['removeFrom'+'Layers'](),(_0xa29f8=this['_instance'])==null||_0xa29f8['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x563ca2,_0x5d3db2;const _0x1f57d0=(_0x563ca2=this['instance'])==null?void(0xa32+-0x1*0xfb8+0x586):_0x563ca2['meshInstan'+'ce'];if(_0x1f57d0){const _0x231b23=this['system']['app']['scene']['layers'];for(let _0x137cfb=-0x1*0x56d+0x1*-0x11fb+0x1768;_0x137cfb<this['_layers']['length'];_0x137cfb++)(_0x5d3db2=_0x231b23['getLayerBy'+'Id'](this['_layers'][_0x137cfb]))==null||_0x5d3db2['addMeshIns'+'tances']([_0x1f57d0]);}}['removeFrom'+'Layers'](){var _0x5d5c48,_0x3a956c;const _0x1f4945=(_0x5d5c48=this['instance'])==null?void(-0x31*0x77+0x2*0xecc+-0x6d1):_0x5d5c48['meshInstan'+'ce'];if(_0x1f4945){const _0x357985=this['system']['app']['scene']['layers'];for(let _0x1e2c9c=0xe*-0x9c+-0x772+0x1*0xffa;_0x1e2c9c<this['_layers']['length'];_0x1e2c9c++)(_0x3a956c=_0x357985['getLayerBy'+'Id'](this['_layers'][_0x1e2c9c]))==null||_0x3a956c['removeMesh'+'Instances']([_0x1f4945]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x4eebc0,_0x1825ae){this['addToLayer'+'s'](),_0x4eebc0['off']('add',this['onLayerAdd'+'ed'],this),_0x4eebc0['off']('remove',this['onLayerRem'+'oved'],this),_0x1825ae['on']('add',this['onLayerAdd'+'ed'],this),_0x1825ae['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x3e3321){this['layers']['indexOf'](_0x3e3321['id'])<-0x1664+0xcab*0x1+0x83*0x13||this['_instance']&&_0x3e3321['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x190832){this['layers']['indexOf'](_0x190832['id'])<-0x2077+-0xd7e+0x2df5||this['_instance']&&_0x190832['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x1abe72=this['system']['app']['scene'],_0x159cba=_0x1abe72['layers'];this['_evtLayers'+'Changed']=_0x1abe72['on']('set:layers',this['onLayersCh'+'anged'],this),_0x159cba&&(this['_evtLayerA'+'dded']=_0x159cba['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x159cba['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0xb51ec3,_0x212ef8,_0x24250e;const _0x154197=this['system']['app']['scene']['layers'];(_0xb51ec3=this['_evtLayers'+'Changed'])==null||_0xb51ec3['off'](),this['_evtLayers'+'Changed']=null,_0x154197&&((_0x212ef8=this['_evtLayerA'+'dded'])==null||_0x212ef8['off'](),this['_evtLayerA'+'dded']=null,(_0x24250e=this['_evtLayerR'+'emoved'])==null||_0x24250e['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0x1f*-0x26+-0xa19+0x580));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0xa*-0x30a+-0x1d9a+-0xca));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x257533=this['_assetRefe'+'rence']['asset'];_0x257533&&(this['instance']=_0x257533['resource']['createInst'+'ance']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class dD{constructor(){this['enabled']=!(-0x1d03+0x7*-0x552+0x1*0x4241);}}const yf=['enabled'],Rr=['instance','asset','layers'];class uD extends Xe{constructor(_0x3d08ca){super(_0x3d08ca),this['id']='gsplat',this['ComponentT'+'ype']=Mx,this['DataType']=dD,this['schema']=yf,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x512837,_0x35e554,_0x3b9e44){_0x35e554['layers']&&_0x35e554['layers']['length']&&(_0x35e554['layers']=_0x35e554['layers']['slice'](-0xba9+-0xe3b*0x1+0x19e4));for(let _0x2ccacf=0x1698+0x1025*-0x1+-0x673;_0x2ccacf<Rr['length'];_0x2ccacf++)_0x35e554['hasOwnProp'+'erty'](Rr[_0x2ccacf])&&(_0x512837[Rr[_0x2ccacf]]=_0x35e554[Rr[_0x2ccacf]]);_0x35e554['aabbCenter']&&_0x35e554['aabbHalfEx'+'tents']&&(_0x512837['customAabb']=new _e(new T(_0x35e554['aabbCenter']),new T(_0x35e554['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x512837,_0x35e554,yf);}['cloneCompo'+'nent'](_0x50beda,_0x233ff8){const _0x1361e6=_0x50beda['gsplat'],_0x586f62={};for(let _0x587136=0x1374+0x627*0x5+-0x3237;_0x587136<Rr['length'];_0x587136++)_0x586f62[Rr[_0x587136]]=_0x1361e6[Rr[_0x587136]];_0x586f62['enabled']=_0x1361e6['enabled'],delete _0x586f62['instance'];const _0x23cc7e=this['addCompone'+'nt'](_0x233ff8,_0x586f62);return _0x23cc7e['instance']=_0x1361e6['instance']['clone'](),_0x1361e6['customAabb']&&(_0x23cc7e['customAabb']=_0x1361e6['customAabb']['clone']()),_0x23cc7e;}['onRemove'](_0x43a805,_0x135d7e){_0x135d7e['onRemove']();}}ue['_buildAcce'+'ssors'](Mx['prototype'],yf);class Hp extends ce{constructor(){super(...arguments),c(this,'_meshes',null);}set['meshes'](_0x2c9a8f){this['decRefMesh'+'es'](),this['_meshes']=_0x2c9a8f,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x2c9a8f);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x57753c;(_0x57753c=this['_meshes'])==null||_0x57753c['forEach']((_0x2be4a5,_0x31c63f)=>{_0x2be4a5&&(_0x2be4a5['decRefCoun'+'t'](),_0x2be4a5['refCount']<0x882+0x1*-0x165f+0xdde&&(_0x2be4a5['destroy'](),this['_meshes'][_0x31c63f]=null));});}['incRefMesh'+'es'](){var _0x50d483;(_0x50d483=this['_meshes'])==null||_0x50d483['forEach'](_0x26a6c8=>{_0x26a6c8==null||_0x26a6c8['incRefCoun'+'t']();});}}c(Hp,'EVENT_SETM'+'ESHES','set:meshes');function yh(_0x2b6559){const _0x4c49cb=this;if(!_0x4c49cb['resource'])return;const _0x1f4fcd=_0x2b6559['resource'],_0xa741f4=_0x1f4fcd['renders']&&_0x1f4fcd['renders'][_0x4c49cb['data']['renderInde'+'x']];_0xa741f4&&(_0x4c49cb['resource']['meshes']=_0xa741f4['resource']['meshes']);}function Lg(_0x3ee737){const _0x222939=this;_0x222939['registry']['off']('load:'+_0x3ee737['id'],yh,_0x222939),_0x222939['registry']['on']('load:'+_0x3ee737['id'],yh,_0x222939),_0x222939['registry']['off']('remove:'+_0x3ee737['id'],Fg,_0x222939),_0x222939['registry']['once']('remove:'+_0x3ee737['id'],Fg,_0x222939),_0x3ee737['resource']?yh['call'](_0x222939,_0x3ee737):_0x222939['registry']['load'](_0x3ee737);}function Fg(_0x1eb1e7){const _0xc024d1=this;_0xc024d1['registry']['off']('load:'+_0x1eb1e7['id'],yh,_0xc024d1),_0xc024d1['resource']&&_0xc024d1['resource']['destroy']();}class fD extends Ne{constructor(_0x341403){super(_0x341403,'render'),this['_registry']=_0x341403['assets'];}['open'](_0x23a426,_0x4a099a){return new Hp();}['patch'](_0x5f1cc7,_0x5bc65d){if(!_0x5f1cc7['data']['containerA'+'sset'])return;const _0x3a2f57=_0x5bc65d['get'](_0x5f1cc7['data']['containerA'+'sset']);if(!_0x3a2f57){_0x5bc65d['once']('add:'+_0x5f1cc7['data']['containerA'+'sset'],Lg,_0x5f1cc7);return;}Lg['call'](_0x5f1cc7,_0x3a2f57);}}class Px{constructor(_0x20a03d,_0x5eba17,_0x3b8ad5,_0x4d20dc){this['_paths']=_0x20a03d,this['_input']=_0x5eba17,this['_output']=_0x3b8ad5,this['_interpola'+'tion']=_0x4d20dc;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Jh{constructor(_0x5817c7,_0x2fba92){this['_component'+'s']=_0x5817c7,this['_data']=_0x2fba92;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function pD(_0x277050,_0x15ee67){let _0x54bd02;const _0x5cebb8=(_0x3b2e95,_0x5d8ff7)=>{switch(_0x5d8ff7){case _0x54bd02['DT_INT8']:return new Int8Array(_0x3b2e95['buffer'],_0x3b2e95['byteOffset'],_0x3b2e95['byteLength']);case _0x54bd02['DT_INT16']:return new Int16Array(_0x3b2e95['buffer'],_0x3b2e95['byteOffset'],_0x3b2e95['byteLength']/(0x2070+-0x22a6+-0x8*-0x47));case _0x54bd02['DT_INT32']:return new Int32Array(_0x3b2e95['buffer'],_0x3b2e95['byteOffset'],_0x3b2e95['byteLength']/(-0x14be+-0x6*-0x3be+-0x1f*0xe));case _0x54bd02['DT_UINT8']:return new Uint8Array(_0x3b2e95['buffer'],_0x3b2e95['byteOffset'],_0x3b2e95['byteLength']);case _0x54bd02['DT_UINT16']:return new Uint16Array(_0x3b2e95['buffer'],_0x3b2e95['byteOffset'],_0x3b2e95['byteLength']/(-0x1554+0x550+-0x24a*-0x7));case _0x54bd02['DT_UINT32']:return new Uint32Array(_0x3b2e95['buffer'],_0x3b2e95['byteOffset'],_0x3b2e95['byteLength']/(-0x26*-0x2e+-0x1*-0x4a6+-0xb76));case _0x54bd02['DT_FLOAT32']:return new Float32Array(_0x3b2e95['buffer'],_0x3b2e95['byteOffset'],_0x3b2e95['byteLength']/(0x6d*0x51+0x2*-0x130d+-0x1*-0x3a1));}return null;},_0x31134e=_0x5170f9=>{switch(_0x5170f9){case _0x54bd02['DT_INT8']:return-0x2584+0x1de5+0x7a0;case _0x54bd02['DT_INT16']:return-0x3b*0xd+0x5*-0x65f+0x22dc;case _0x54bd02['DT_INT32']:return-0x1c*-0x5+0x2330+0x24*-0xfe;case _0x54bd02['DT_UINT8']:return 0x142*-0x9+0x959*-0x1+-0x62*-0x36;case _0x54bd02['DT_UINT16']:return 0x104f*-0x1+0x67*0x9+0xcb2;case _0x54bd02['DT_UINT32']:return 0x7*0x306+0x2f7*0x4+0x152*-0x19;case _0x54bd02['DT_FLOAT32']:return 0x1aa7*-0x1+0x782*-0x1+0x222d;}return 0xd*-0x71+-0x1c00+-0xe*-0x269;},_0x44bc20=_0x491b01=>_0x491b01['num_compon'+'ents']()*_0x31134e(_0x491b01['data_type']()),_0x482503={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x350f0d=(_0x401980,_0x2bf06b)=>{const _0x3e7843=(_0x40611c,_0x50e345,_0x35de75)=>{_0x40611c[-0x2*-0x890+-0xdff*-0x1+-0x1f1f]=_0x50e345[0xc25+0x1ca8*-0x1+0x1083]-_0x35de75[-0x4e*0x2+0x13d7+0x133b*-0x1],_0x40611c[-0x315*0x5+-0x3e1+-0x1c1*-0xb]=_0x50e345[0x17e0+-0x25f3+0x70a*0x2]-_0x35de75[-0x1*0x1da9+-0x1100+0x2eaa],_0x40611c[-0x1*-0x102e+-0xf4d+-0xdf]=_0x50e345[0x1207+-0x870+-0x995]-_0x35de75[0x50*0xa+0x217c+-0x2*0x124d];},_0x1610a3=(_0x245391,_0x5e403c,_0x57e946)=>{_0x245391[-0xb*-0x16a+0x2*0x9d9+-0x60*0x5e]=_0x5e403c[0x21bc+-0x2386+0x1cb]*_0x57e946[0x621*-0x2+0x2245*0x1+0x1*-0x1601]-_0x57e946[0x1d03+-0xa*0x77+0x1*-0x185c]*_0x5e403c[0x2641+-0xd6c+-0x18d3],_0x245391[-0x240f+-0x1cf+0x25df]=_0x5e403c[-0x230c*-0x1+0x5*-0xbe+-0x322*0xa]*_0x57e946[0x2637+-0xada+-0x3*0x91f]-_0x57e946[-0x21+0xa85+-0xa62]*_0x5e403c[-0x902+-0x140e+0xf*0x1f0],_0x245391[-0x2a5*-0x2+0x86*-0x32+0x1c*0xbf]=_0x5e403c[0x242+0x3*-0x270+0x50e]*_0x57e946[0xbf*-0x2b+0x2*-0x10f5+0x4200]-_0x57e946[0xe7*-0x10+-0x2f*-0xbf+-0x14a1]*_0x5e403c[0x10ed+-0xa3f+-0x6ad];},_0x4f805f=(_0x4135e4,_0x27d1a6)=>{const _0x58f9b1=_0x4135e4[_0x27d1a6+(-0x3ce*-0x1+0x65*-0xa+0x24)],_0x2cb01e=_0x4135e4[_0x27d1a6+(0x1f*0xb2+0x4a*0x15+-0x1b9f)],_0x4150ac=_0x4135e4[_0x27d1a6+(0x73d+0xd*-0x251+0x16e2)],_0x2b72f1=(0x1a99+-0x1770+-0x328)/Math['sqrt'](_0x58f9b1*_0x58f9b1+_0x2cb01e*_0x2cb01e+_0x4150ac*_0x4150ac);_0x4135e4[_0x27d1a6+(-0x8b8+0x1*0x25e1+-0x1d29)]*=_0x2b72f1,_0x4135e4[_0x27d1a6+(0x31a+0x11f4+-0x150d)]*=_0x2b72f1,_0x4135e4[_0x27d1a6+(-0x2d5*0xb+-0xa8*0xb+0x2661)]*=_0x2b72f1;},_0xe355e0=(_0x43ca1b,_0x532898,_0x347f8b)=>{for(let _0x415d4e=-0xa5b+0x5*-0x66c+0x2a77;_0x415d4e<0x2*-0x25f+0xca*-0x9+0xbdb;++_0x415d4e)_0x43ca1b[_0x415d4e]=_0x532898[_0x347f8b+_0x415d4e];},_0x5ab464=_0x2bf06b['length']/(-0x23a7*0x1+0x2e3*-0x1+-0x47*-0x8b),_0x4fe79a=_0x401980['length']/(-0x1ff+0x913+0x43*-0x1b),_0x1770c6=new Float32Array(_0x401980['length']),_0x31bcc1=[-0xa7e*0x2+0x1860+-0x364,0x920+0x2fc*-0x4+0x2d0,-0x336+0x199a*-0x1+0x1cd0],_0x2afba7=[0x7a*-0x21+0x19e+0xe1c,0x14e7+0x11f0+-0x26d7*0x1,0x972+-0xb8c*0x1+0x2*0x10d],_0x3daea3=[-0x1*-0x1198+-0x3*-0x713+0x26d1*-0x1,-0x2022+-0xceb*0x2+0x1*0x39f8,0x1d63+0x7b9+-0x251c],_0x5390d0=[-0x122a+-0x1*0x296+0x2*0xa60,-0x6a4+0x238d+-0x1ce9,0x1f63+-0x9f1+-0x1572],_0x245367=[0x76e*0x4+0x1*-0x260e+0x856,0x161d+-0x498+0x27*-0x73,-0x1*0x9fd+0x15d*0x10+-0xbd3],_0x5322d9=[-0x1*-0x1417+0x22e9+-0x3700,0x3b*-0x53+-0x193c+-0x115*-0x29,-0x1*0x17cf+-0x3+0x17d2];for(let _0x506c52=-0x1*0x5d5+-0x1*-0x100f+-0x22*0x4d;_0x506c52<_0x5ab464;++_0x506c52){const _0x20fc38=_0x2bf06b[_0x506c52*(-0x1e99+-0x1a42+0x1f6*0x1d)+(0x1981*0x1+-0x1384+-0x5fd)]*(-0x2668+-0x14c6+0x1*0x3b31),_0x3adedd=_0x2bf06b[_0x506c52*(-0x8c8*-0x3+-0x9*0x315+0x168)+(0xad6*-0x1+-0x1f7*0x1+0x1*0xcce)]*(-0x1*0x107+0xc81+-0xb77),_0x1fd719=_0x2bf06b[_0x506c52*(0x15dd*-0x1+-0x37c+0x195c)+(-0xd*0x2f6+0x1*0x1575+0x110b*0x1)]*(0x1392+0xa56+-0x3*0x9f7);_0xe355e0(_0x31bcc1,_0x401980,_0x20fc38),_0xe355e0(_0x2afba7,_0x401980,_0x3adedd),_0xe355e0(_0x3daea3,_0x401980,_0x1fd719),_0x3e7843(_0x5390d0,_0x2afba7,_0x31bcc1),_0x3e7843(_0x245367,_0x3daea3,_0x31bcc1),_0x1610a3(_0x5322d9,_0x5390d0,_0x245367),_0x4f805f(_0x5322d9,0xdfc+0xe9*0x12+-0x152*0x17);for(let _0xc2f8d5=-0x219f+0x1357+0xe48;_0xc2f8d5<-0x36e+0x261*0x1+-0x4*-0x44;++_0xc2f8d5)_0x1770c6[_0x20fc38+_0xc2f8d5]+=_0x5322d9[_0xc2f8d5],_0x1770c6[_0x3adedd+_0xc2f8d5]+=_0x5322d9[_0xc2f8d5],_0x1770c6[_0x1fd719+_0xc2f8d5]+=_0x5322d9[_0xc2f8d5];}for(let _0x2cf206=-0x1a28+0xf66*-0x2+0x38f4;_0x2cf206<_0x4fe79a;++_0x2cf206)_0x4f805f(_0x1770c6,_0x2cf206*(-0x228e*-0x1+-0x1246*0x2+0x201));return new Uint8Array(_0x1770c6['buffer']);},_0x299047=_0x391f33=>{const _0x1d147c={},_0x556fbe=new _0x54bd02['DecoderBuf'+'fer']();_0x556fbe['Init'](_0x391f33,_0x391f33['length']);const _0x532fe2=new _0x54bd02['Decoder']();if(_0x532fe2['GetEncoded'+'GeometryTy'+'pe'](_0x556fbe)!==_0x54bd02['TRIANGULAR'+'_MESH'])return _0x1d147c['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x1d147c;const _0x530819=new _0x54bd02['Mesh'](),_0x1f05ac=_0x532fe2['DecodeBuff'+'erToMesh'](_0x556fbe,_0x530819);if(!_0x1f05ac||!_0x1f05ac['ok']()||_0x54bd02['getPointer'](_0x530819)===0x57+0xf02+-0xf59)return _0x1d147c['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x1d147c;const _0x7b1ce5=_0x530819['num_faces']()*(0xa0c+-0x2611+0x1c08),_0x2759e=_0x530819['num_points']()<=0xdbb9*0x2+0x3*-0x7a6a+0xb7cb,_0x1d41f6=_0x7b1ce5*(_0x2759e?-0x224a+-0x1667*0x1+0x1*0x38b3:0x1*0x1a09+0x17*-0x191+0x3d*0x2a),_0x26a9df=_0x54bd02['_malloc'](_0x1d41f6);_0x2759e?(_0x532fe2['GetTriangl'+'esUInt16Ar'+'ray'](_0x530819,_0x1d41f6,_0x26a9df),_0x1d147c['indices']=new Uint16Array(_0x54bd02['HEAPU16']['buffer'],_0x26a9df,_0x7b1ce5)['slice']()['buffer']):(_0x532fe2['GetTriangl'+'esUInt32Ar'+'ray'](_0x530819,_0x1d41f6,_0x26a9df),_0x1d147c['indices']=new Uint32Array(_0x54bd02['HEAPU32']['buffer'],_0x26a9df,_0x7b1ce5)['slice']()['buffer']),_0x54bd02['_free'](_0x26a9df);const _0x3a4ffa=[];for(let _0x6ad1f6=0x819+-0x1bac+0x1393;_0x6ad1f6<_0x530819['num_attrib'+'utes']();++_0x6ad1f6)_0x3a4ffa['push'](_0x532fe2['GetAttribu'+'te'](_0x530819,_0x6ad1f6));_0x3a4ffa['sort']((_0x58f4e9,_0x35dbb2)=>(_0x482503[_0x58f4e9['attribute_'+'type']()]??_0x482503['length'])-(_0x482503[_0x35dbb2['attribute_'+'type']()]??_0x482503['length'])),_0x1d147c['attributes']=_0x3a4ffa['map'](_0x5294ca=>_0x5294ca['unique_id']());let _0x36221d=-0x1314*-0x1+-0x2577+0x1263;const _0x652aff=_0x3a4ffa['map'](_0x4892c2=>{const _0x2c7a9a=_0x36221d;return _0x36221d+=Math['ceil'](_0x44bc20(_0x4892c2)/(-0x1*-0xf6c+0x265e+-0x1*0x35c6))*(-0x50b*0x3+0x1*0x1261+-0x33c),_0x2c7a9a;}),_0x39b47b=_0x3a4ffa['some'](_0x434958=>_0x434958['attribute_'+'type']()===0x1*-0x104b+0x1625+-0x5d9),_0x560f59=_0x652aff[-0xcba+-0x1d*-0xf4+-0xee9];if(!_0x39b47b){for(let _0x1616e1=0xb4e*0x2+-0x1289+-0x412;_0x1616e1<_0x652aff['length'];++_0x1616e1)_0x652aff[_0x1616e1]+=-0x49+-0x13fa*-0x1+-0x13a5;_0x36221d+=-0x157*0xf+0xa4e*0x2+-0x1*0x77;}_0x1d147c['vertices']=new ArrayBuffer(_0x530819['num_points']()*_0x36221d);const _0x54ce6b=new Uint8Array(_0x1d147c['vertices']);for(let _0x520fb6=0x1d*-0xfa+0xf76+-0x66e*-0x2;_0x520fb6<_0x530819['num_attrib'+'utes']();++_0x520fb6){const _0x4bead7=_0x3a4ffa[_0x520fb6],_0x1a372a=_0x44bc20(_0x4bead7),_0x27c1a0=_0x530819['num_points']()*_0x1a372a,_0x137586=_0x54bd02['_malloc'](_0x27c1a0);_0x532fe2['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x530819,_0x4bead7,_0x4bead7['data_type'](),_0x27c1a0,_0x137586);const _0xcc4199=new Uint8Array(_0x54bd02['HEAPU8']['buffer'],_0x137586,_0x27c1a0);for(let _0x5f559f=0x2*-0x12bf+0xc28+0x17*0x11a;_0x5f559f<_0x530819['num_points']();++_0x5f559f)for(let _0x57dca1=0x2453+0x23fa+-0x1*0x484d;_0x57dca1<_0x1a372a;++_0x57dca1)_0x54ce6b[_0x5f559f*_0x36221d+_0x652aff[_0x520fb6]+_0x57dca1]=_0xcc4199[_0x5f559f*_0x1a372a+_0x57dca1];if(!_0x39b47b&&_0x4bead7['attribute_'+'type']()===0xf5e+0x2b9+-0x1217){const _0x43271a=_0x350f0d(_0x5cebb8(_0xcc4199,_0x4bead7['data_type']()),_0x2759e?new Uint16Array(_0x1d147c['indices']):new Uint32Array(_0x1d147c['indices']));for(let _0xcc3ee4=-0xf35+-0x20c0+-0x2ff5*-0x1;_0xcc3ee4<_0x530819['num_points']();++_0xcc3ee4)for(let _0x3cf618=-0x25fb+-0x2149+0x4*0x11d1;_0x3cf618<0x9c5+-0x10*0x20f+0x1737;++_0x3cf618)_0x54ce6b[_0xcc3ee4*_0x36221d+_0x560f59+_0x3cf618]=_0x43271a[_0xcc3ee4*(-0x1d07+0x4*0x73b+-0xd*-0x3)+_0x3cf618];}_0x54bd02['_free'](_0x137586);}return _0x54bd02['destroy'](_0x530819),_0x54bd02['destroy'](_0x532fe2),_0x54bd02['destroy'](_0x556fbe),_0x1d147c;},_0x4536f6=_0x525bfd=>{const _0x5709d4=_0x299047(new Uint8Array(_0x525bfd['buffer']));self['postMessag'+'e']({'jobId':_0x525bfd['jobId'],'error':_0x5709d4['error'],'indices':_0x5709d4['indices'],'vertices':_0x5709d4['vertices'],'attributes':_0x5709d4['attributes']},[_0x5709d4['indices'],_0x5709d4['vertices']]['filter'](_0x49c8a9=>_0x49c8a9!=null));},_0x854799=[];self['onmessage']=_0x371381=>{const _0x485456=_0x371381['data'];switch(_0x485456['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x53d046,_0x479240)=>(WebAssembly['instantiat'+'e'](_0x485456['module'],_0x53d046)['then'](_0x484dee=>_0x479240(_0x484dee))['catch'](_0x582595=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x582595)),{})})['then'](_0x32b8d7=>{_0x54bd02=_0x32b8d7,_0x854799['forEach'](_0x4740bb=>_0x4536f6(_0x4740bb));});break;case'decodeMesh':_0x54bd02?_0x4536f6(_0x485456):_0x854799['push'](_0x485456);break;}};}const Og=-0x6+0xee6+-0x2f9*0x5;class mD{constructor(){this['workers']=[[],[],[]],this['jobId']=0x2*0x2e+-0xf1a+0xebe,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x576b80,_0x1c4813)=>{_0x576b80['postMessag'+'e']({'type':'decodeMesh','jobId':_0x1c4813['jobId'],'buffer':_0x1c4813['buffer']},[_0x1c4813['buffer']]);};}['init'](_0x36c6ce){for(_0x36c6ce['forEach'](_0x22d3df=>{_0x22d3df['addEventLi'+'stener']('message',_0x1b9a41=>{const _0xe663e4=_0x1b9a41['data'],_0x39100e=this['jobCallbac'+'ks']['get'](_0xe663e4['jobId']);if(_0x39100e&&_0x39100e(_0xe663e4['error'],{'indices':_0xe663e4['indices'],'vertices':_0xe663e4['vertices'],'attributes':_0xe663e4['attributes']}),this['jobCallbac'+'ks']['delete'](_0xe663e4['jobId']),this['jobQueue']['length']>0xfd*-0x4+-0xffb+-0xf3*-0x15){const _0x2e8861=this['jobQueue']['shift']();this['run'](_0x22d3df,_0x2e8861);}else{const _0xd688b=this['workers'][-0xc4c+-0x2664+-0x9*-0x5a2]['indexOf'](_0x22d3df);if(_0xd688b!==-(-0x978+-0x21a4+0x1*0x2b1d))this['workers'][0x1f94+-0x1a30+-0x562]['splice'](_0xd688b,-0x1*0x1467+-0x4*-0x7ed+-0xb4c),this['workers'][-0x1e8*-0x13+0x9*-0x16a+0x35b*-0x7]['push'](_0x22d3df);else{const _0x4902e4=this['workers'][0x22e9+-0x1*0x999+-0x194f]['indexOf'](_0x22d3df);_0x4902e4!==-(-0x1ef+0xf0+0x8*0x20)?(this['workers'][-0x95*0x27+-0x1927+-0x2fdb*-0x1]['splice'](_0x4902e4,-0x16ab+-0x821+0x13*0x19f),this['workers'][0x14fe+0x1bd2+-0x4*0xc34]['push'](_0x22d3df)):v['error']('logical\x20er'+'ror');}}});}),this['workers'][-0x15a5+0x255c+-0xfb7]=_0x36c6ce;this['jobQueue']['length']&&(this['workers'][0xde7+-0x139f*-0x1+-0x2186]['length']||this['workers'][0x446*0x7+0x22d6+-0x40bf]['length']);){const _0x576b30=this['jobQueue']['shift']();if(this['workers'][0x13ac+-0x62c+-0xd80]['length']>-0x1*0x89c+0x12f*-0x21+0x2fab*0x1){const _0x533dca=this['workers'][0x1565+0x264d+-0x1*0x3bb2]['shift']();this['workers'][-0x141a+-0x40*0x49+-0x443*-0x9]['push'](_0x533dca),this['run'](_0x533dca,_0x576b30);}else{const _0x57db47=this['workers'][0x12*-0xef+0x169c+-0x5cd]['shift']();this['workers'][-0x1b32*0x1+0x1638+0x4fc]['push'](_0x57db47),this['run'](_0x57db47,_0x576b30);}}}['enqueueJob'](_0xa5c654,_0x353035){const _0x251c39={'jobId':this['jobId']++,'buffer':_0xa5c654};if(this['jobCallbac'+'ks']['set'](_0x251c39['jobId'],_0x353035),this['workers'][-0x4bb*-0x4+-0xf04+-0x3e8]['length']>0x154f*0x1+-0x13*0x16+0x17*-0xdb){const _0x3d4baf=this['workers'][0xc5*-0x2b+0x781+-0x1*-0x1996]['shift']();this['workers'][-0x178+-0x1*-0x201b+-0x6*0x51b]['push'](_0x3d4baf),this['run'](_0x3d4baf,_0x251c39);}else{if(this['workers'][-0x6df+0x19db+-0x71*0x2b]['length']>-0x4b*-0x4f+0x167f+-0x2da4){const _0x38313d=this['workers'][-0x1*0x18de+-0x4*-0x3cd+0x9ab]['shift']();this['workers'][0x252+0x1b+0x26b*-0x1]['push'](_0x38313d),this['run'](_0x38313d,_0x251c39);}else this['jobQueue']['push'](_0x251c39);}}}const _D=_0x5de9ee=>new Promise((_0x2b6738,_0x13a8f6)=>{const _0x25f04c={'cache':!(-0x7*0x133+-0x11bb+0x1a20),'responseType':'text','retry':Og>0xc7*-0x1d+0x4f*-0x2+0x1729,'maxRetries':Og};$e['get'](_0x5de9ee,_0x25f04c,(_0x6a100a,_0x29e4e5)=>{_0x6a100a?_0x13a8f6(_0x6a100a):_0x2b6738(_0x29e4e5);});}),gD=_0x298dbf=>{const _0x26024e=()=>fetch(_0x298dbf)['then'](_0x3498ca=>_0x3498ca['arrayBuffe'+'r']())['then'](_0x30b951=>WebAssembly['compile'](_0x30b951)),_0x30dd98=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x298dbf))['catch'](_0xc8c93b=>(v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x298dbf+'\x20('+_0xc8c93b+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x26024e()));return WebAssembly['compileStr'+'eaming']?_0x30dd98():_0x26024e();},kg=-0x1*-0x2185+0x202e+-0x20d9*0x2;let xh;const yD=_0x523bac=>{if(xh)return!(-0x1*0x1622+-0x48*-0x25+0xbba);if(!_0x523bac){const _0xe33305=ay['getConfig']('DracoDecod'+'erModule');_0xe33305?_0x523bac={'jsUrl':_0xe33305['glueUrl'],'wasmUrl':_0xe33305['wasmUrl'],'numWorkers':_0xe33305['numWorkers']}:_0x523bac={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':kg};}return!_0x523bac['jsUrl']||!_0x523bac['wasmUrl']?!(0x8f*0x26+-0x2224+0xceb):(xh=new mD(),Promise['all']([_D(_0x523bac['jsUrl']),gD(_0x523bac['wasmUrl'])])['then'](([_0x526c5a,_0x16f2f5])=>{const _0x2860c1=['/*\x20draco\x20*'+'/',_0x526c5a,'/*\x20worker\x20'+'*/','(\x0a'+pD['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x2b0dd6=new Blob([_0x2860c1],{'type':'applicatio'+'n/javascri'+'pt'}),_0x146685=URL['createObje'+'ctURL'](_0x2b0dd6),_0xff9e22=Math['max'](-0x257a+-0x1*0x201e+0x4599,Math['min'](-0xd3a+0x23a5+0x1*-0x165b,_0x523bac['numWorkers']||kg)),_0x206945=[];for(let _0x1d4871=0x25c3*-0x1+0x3cb*0xa+-0x1*0x2b;_0x1d4871<_0xff9e22;++_0x1d4871){const _0x2c7b4e=new Worker(_0x146685);_0x2c7b4e['postMessag'+'e']({'type':'init','module':_0x16f2f5}),_0x206945['push'](_0x2c7b4e);}xh['init'](_0x206945);}),!(-0x1eda+0x1*0x1254+0xc86));},xD=(_0x3432de,_0x1f4e76)=>yD()?(xh['enqueueJob'](_0x3432de,_0x1f4e76),!(0x1*-0x2041+0x68e*-0x3+0x33eb)):!(0xc2f*0x1+-0x5*-0x43+-0xd7d*0x1);class SD{constructor(){c(this,'gltf'),c(this,'nodes'),c(this,'scenes'),c(this,'animations'),c(this,'textures'),c(this,'materials'),c(this,'variants'),c(this,'meshVarian'+'ts'),c(this,'meshDefaul'+'tMaterials'),c(this,'renders'),c(this,'skins'),c(this,'lights'),c(this,'cameras'),c(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x67f087=>{_0x67f087['meshes']=null;});}}const Rx=_0x4e6e5d=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x4e6e5d),vD=_0x1497f8=>_0x1497f8['substring'](_0x1497f8['indexOf'](':')+(0x3a8+-0xe1e*-0x1+0x1*-0x11c5),_0x1497f8['indexOf'](';')),Wo=_0x3da5bb=>{switch(_0x3da5bb){case'SCALAR':return-0x7d*-0x41+-0x1*-0x851+-0x280d*0x1;case'VEC2':return-0xb06+0x25*-0x15+0xd*0x115;case'VEC3':return-0x2*0x3f5+-0x1*-0x1d62+-0x1575;case'VEC4':return-0x2e1*-0x6+-0x1461*-0x1+-0x25a3;case'MAT2':return 0x266f*0x1+0x1*-0x1b+-0x265*0x10;case'MAT3':return 0x953+0x12e*-0x9+0x154;case'MAT4':return 0x1*-0x2be+-0xc79+0xf47*0x1;default:return-0x1916+0x1932*0x1+0x1*-0x19;}},Jc=_0x1603b3=>{switch(_0x1603b3){case 0xe7*-0xe+-0x1a75+0x3b17:return Rc;case 0x2292*0x1+0x239+-0x10ca:return Kr;case-0xad*0x22+0xf1d*0x2+0x17*0x8e:return Ic;case 0x32*0xb3+-0x37f+-0xb74*0x1:return el;case 0xc52+0x1849+-0x1*0x1097:return By;case 0xdb2+0x19fa+0x13a7*-0x1:return Do;case 0x2*-0x1267+0x1*-0xfd6+0x8e*0x83:return Ee;default:return-0x1bd9+-0x1257+0x2e30;}},bD=_0x1b227e=>{switch(_0x1b227e){case-0xe3*0x1+-0xead+-0x2*-0x11c8:return 0x5ee*-0x1+0x2129+-0x52*0x55;case-0x556*-0x2+-0x17*0x132+0x1*0x24d3:return 0x1*0xe9+0x69*-0x43+0x1a93;case 0x1*0x9a2+0x97+0x3*0x343:return-0xc9c+-0x20c6+-0x33e*-0xe;case 0x269a+-0x1c+-0x127b:return 0x1*0x10c1+0x1d53*-0x1+0xc94;case-0x90f*-0x2+0x1*0x198b+-0x17a5:return-0x6e2+-0x1486+0x1b6c;case 0x167d+-0x18de+-0x5e*-0x3d:return-0xeed+0xe0a*-0x1+-0x3*-0x9a9;case-0x255+0xb3*-0x21+-0xa*-0x48b:return-0x185e+-0x19b0+0x3212;default:return-0x2673+-0x1*0x10b1+-0x4*-0xdc9;}},wD=_0x362f64=>{switch(_0x362f64){case-0x2*0xa1f+0x11*-0x1e9+0x55*0xdb:return Int8Array;case-0x29*-0x49+-0x78d*-0x1+0xc3:return Uint8Array;case-0x5*0x5d9+-0x17a7*0x1+0x3e*0x12d:return Int16Array;case 0x13*0x1df+0x120e+-0x2198:return Uint16Array;case-0x3cf+0x112c+-0x6a7*-0x1:return Int32Array;case 0x5*-0x1a+-0x3e*-0xa4+-0x1331:return Uint32Array;case-0x63*0x7+0x2*0xc32+-0x1a9:return Float32Array;default:return null;}},ec={'POSITION':He,'NORMAL':Yt,'TANGENT':Zs,'COLOR_0':At,'JOINTS_0':qt,'WEIGHTS_0':Ys,'TEXCOORD_0':ns,'TEXCOORD_1':_n,'TEXCOORD_2':jo,'TEXCOORD_3':Yo,'TEXCOORD_4':Ko,'TEXCOORD_5':Zo,'TEXCOORD_6':Qo,'TEXCOORD_7':Jo},Bg={[He]:-0x26*0x27+-0x4*0x8cc+0x832*0x5,[Yt]:0x1*0x191b+-0x1*0x18c4+-0x56,[Zs]:-0x24b0+0x2b*-0xa7+0x40bf,[At]:0x1a7c+0x11*0x53+0xb2*-0x2e,[qt]:0x318+-0xbf*0x2f+0x1ffd,[Ys]:0x1606+-0x2407+0xe06,[ns]:0x2ff*0xb+-0x1*-0x2356+-0x4445*0x1,[_n]:0x1*-0xf8e+-0x1*0x1de1+0x1fa*0x17,[jo]:-0x5*0x7d0+-0x1*0x169+0x2881,[Yo]:-0x130a+0x20a0+-0x1*0xd8d,[Ko]:-0x1e2f*-0x1+0x1*0x1ce2+0x17*-0x291,[Zo]:-0x335*0x2+0x11cf+-0x1*0xb5a,[Qo]:0x3cc+0xf*-0x241+-0xa05*-0x3,[Jo]:-0x3*-0x4e5+-0xd2d*0x1+0x1*-0x175},TD=_0x3e7607=>{switch(_0x3e7607){case Rc:return _0x4532a4=>Math['max'](_0x4532a4/(-0xea2+0x550+-0x9d1*-0x1),-(0x1245+-0x19d0+0x1*0x78c));case Kr:return _0x291180=>_0x291180/(0x119e+-0xb43+0x55c*-0x1);case Ic:return _0x2c3568=>Math['max'](_0x2c3568/(0x7905*0x1+0xf499+-0xed9f),-(-0x131c+-0x1c7f+0x2f9c));case el:return _0x33e52a=>_0x33e52a/(0x1d2d9*-0x1+-0xee58+0x3c130);default:return _0x36bf17=>_0x36bf17;}},xf=(_0x2f7591,_0x2aaaab,_0x10f808)=>{const _0x1a44ce=TD(_0x10f808),_0x9690ea=_0x2aaaab['length'];for(let _0x3d1c26=0x1*0x1eab+-0x1*0x25ab+0x700;_0x3d1c26<_0x9690ea;++_0x3d1c26)_0x2f7591[_0x3d1c26]=_0x1a44ce(_0x2aaaab[_0x3d1c26]);return _0x2f7591;},sn=(_0x30af3b,_0x41e3b5,_0x3b5973=!(-0x1f74+-0x1c60+0x11*0x385))=>{const _0x14679b=Wo(_0x30af3b['type']),_0x10f060=wD(_0x30af3b['componentT'+'ype']);if(!_0x10f060)return null;let _0x5e98a0;if(_0x30af3b['sparse']){const _0x2f4e4f=_0x30af3b['sparse'],_0x2c1656={'count':_0x2f4e4f['count'],'type':'SCALAR'},_0x16076f=sn(Object['assign'](_0x2c1656,_0x2f4e4f['indices']),_0x41e3b5,!(-0x48d*0x2+-0xaaf+0x13c9)),_0x5880b0={'count':_0x2f4e4f['count'],'type':_0x30af3b['type'],'componentType':_0x30af3b['componentT'+'ype']},_0x252152=sn(Object['assign'](_0x5880b0,_0x2f4e4f['values']),_0x41e3b5,!(-0x67*0x2e+-0x11c4+0x2446));if(_0x30af3b['hasOwnProp'+'erty']('bufferView')){const _0x14c5f5={'bufferView':_0x30af3b['bufferView'],'byteOffset':_0x30af3b['byteOffset'],'componentType':_0x30af3b['componentT'+'ype'],'count':_0x30af3b['count'],'type':_0x30af3b['type']};_0x5e98a0=sn(_0x14c5f5,_0x41e3b5,!(-0x5e8*-0x3+-0x8d4+-0x8e4))['slice']();}else _0x5e98a0=new _0x10f060(_0x30af3b['count']*_0x14679b);for(let _0x544a0d=0x235e+0x40c+0x7e2*-0x5;_0x544a0d<_0x2f4e4f['count'];++_0x544a0d){const _0x58c83e=_0x16076f[_0x544a0d];for(let _0x2b9a95=-0x187f+-0xd*-0x29b+-0x190*0x6;_0x2b9a95<_0x14679b;++_0x2b9a95)_0x5e98a0[_0x58c83e*_0x14679b+_0x2b9a95]=_0x252152[_0x544a0d*_0x14679b+_0x2b9a95];}}else{if(_0x30af3b['hasOwnProp'+'erty']('bufferView')){const _0x573cb8=_0x41e3b5[_0x30af3b['bufferView']];if(_0x3b5973&&_0x573cb8['hasOwnProp'+'erty']('byteStride')){const _0x19da1d=_0x14679b*_0x10f060['BYTES_PER_'+'ELEMENT'],_0x127148=new ArrayBuffer(_0x30af3b['count']*_0x19da1d),_0x33fad5=new Uint8Array(_0x127148);let _0x8a04d1=0x871*0x3+0x5cd+0x60*-0x53;for(let _0x1145eb=-0x203d+0x9*-0x3e5+0x434a;_0x1145eb<_0x30af3b['count'];++_0x1145eb){let _0x43bb16=(_0x30af3b['byteOffset']||0x1*-0x2284+-0x1baa*-0x1+0x1*0x6da)+_0x1145eb*_0x573cb8['byteStride'];for(let _0x1ef3c6=-0x1*-0x13+0x1cd3+-0x1ce6;_0x1ef3c6<_0x19da1d;++_0x1ef3c6)_0x33fad5[_0x8a04d1++]=_0x573cb8[_0x43bb16++];}_0x5e98a0=new _0x10f060(_0x127148);}else _0x5e98a0=new _0x10f060(_0x573cb8['buffer'],_0x573cb8['byteOffset']+(_0x30af3b['byteOffset']||0x72*-0x39+-0x5bf+0x1f21),_0x30af3b['count']*_0x14679b);}else _0x5e98a0=new _0x10f060(_0x30af3b['count']*_0x14679b);}return _0x5e98a0;},ma=(_0x562068,_0x1ff603)=>{const _0xa7b064=sn(_0x562068,_0x1ff603,!(-0x142d+0x2347+-0xf1a));if(_0xa7b064 instanceof Float32Array||!_0x562068['normalized'])return _0xa7b064;const _0x3590c3=new Float32Array(_0xa7b064['length']);return xf(_0x3590c3,_0xa7b064,Jc(_0x562068['componentT'+'ype'])),_0x3590c3;},Sf=_0x4b9a35=>{let _0x57698f=_0x4b9a35['min'],_0x2739b6=_0x4b9a35['max'];if(!_0x57698f||!_0x2739b6)return null;if(_0x4b9a35['normalized']){const _0x53bbd3=Jc(_0x4b9a35['componentT'+'ype']);_0x57698f=xf([],_0x57698f,_0x53bbd3),_0x2739b6=xf([],_0x2739b6,_0x53bbd3);}return new _e(new T((_0x2739b6[-0x1*0xe31+-0x20*0xa4+0x1*0x22b1]+_0x57698f[0x25b*-0x7+0x2086+0x1*-0x1009])*(0xb*-0xc2+0x6b*-0x1+0x8c1+0.5),(_0x2739b6[-0x129f+0xc77*0x1+0x629]+_0x57698f[-0x1da3+-0x1*0x2408+-0x579*-0xc])*(0x167*-0xe+0x64d+0xd55+0.5),(_0x2739b6[-0x679*-0x1+0x1af*0x7+-0x4*0x490]+_0x57698f[-0x1c23*-0x1+0xc64+-0x2885])*(0x15bf+-0xd09*0x1+0x1be*-0x5+0.5)),new T((_0x2739b6[-0x2c0*-0x9+0x86*-0x1+0x1*-0x183a]-_0x57698f[-0x26b3+-0x1e53+-0x1e*-0x24d])*(0x16*0x127+0x18bb+-0x3215*0x1+0.5),(_0x2739b6[-0x999+0xb97+-0x1fd]-_0x57698f[-0x11ee+-0xc*0x31a+0x1*0x3727])*(0x1771+0x1*0x503+-0x2*0xe3a+0.5),(_0x2739b6[0x52e+-0x4*-0x7fd+-0x2520]-_0x57698f[0x6*-0x10+0x11cf+-0x116d])*(-0x2*-0xdd6+-0xd*-0x2b+-0x1ddb*0x1+0.5)));},Ix=_0x2bfd96=>{if(!_0x2bfd96['hasOwnProp'+'erty']('mode'))return Ms;switch(_0x2bfd96['mode']){case 0xd60*-0x2+-0x5fe+-0x42*-0x7f:return Mc;case 0xe*-0x165+0x221*-0xb+-0x17*-0x1de:return Pc;case 0xe54+0x3*-0xc41+0x1671:return My;case-0xf*0x13+-0x97*-0x25+-0x14b3:return Py;case-0x7*0x48b+-0xbf8*0x2+0x37c1:return Ms;case 0x15d9+-0x2234+-0x84*-0x18:return ar;case-0x211e+-0x1f+0x2143:return Yr;default:return Ms;}},AD=_0x25869e=>{const _0x5a07aa=new Uint16Array(_0x25869e);for(let _0x2e64b3=-0x983+0x5a7+-0x4*-0xf7;_0x2e64b3<_0x25869e;_0x2e64b3++)_0x5a07aa[_0x2e64b3]=_0x2e64b3;return _0x5a07aa;},ED=(_0x3b0db1,_0x5b95c3)=>{const _0x2286ba=_0x3b0db1[He];if(!_0x2286ba||_0x2286ba['components']!==-0x2032+-0x1258+-0x1*-0x328d)return;let _0x57f784;if(_0x2286ba['size']!==_0x2286ba['stride']){const _0x4a44d3=_0x2286ba['stride']/_o[_0x2286ba['type']],_0x55a4ed=new da[_0x2286ba['type']](_0x2286ba['buffer'],_0x2286ba['offset'],_0x2286ba['count']*_0x4a44d3);_0x57f784=new da[_0x2286ba['type']](_0x2286ba['count']*(0x185d+0x2*-0xe+-0xc1f*0x2));for(let _0x572f56=-0x1c1*0xd+0x1ec4+-0x7f7;_0x572f56<_0x2286ba['count'];++_0x572f56)_0x57f784[_0x572f56*(0xcb0+0x1281+-0xf97*0x2)+(-0x2*0xc97+-0x1421*-0x1+0x50d*0x1)]=_0x55a4ed[_0x572f56*_0x4a44d3+(0x6a*0x32+0x25e*0xb+-0x2ebe)],_0x57f784[_0x572f56*(-0xfb*-0x7+0x201f+0xb*-0x38b)+(0x1a7a*0x1+0xc7*0x17+-0x2c5a)]=_0x55a4ed[_0x572f56*_0x4a44d3+(-0x1f89+0xebf+0x599*0x3)],_0x57f784[_0x572f56*(0x2525+-0x169c+-0x743*0x2)+(-0x5*-0x30a+-0xd96+-0x19a)]=_0x55a4ed[_0x572f56*_0x4a44d3+(-0x4ed+-0x2554+0x2a43)];}else _0x57f784=new da[_0x2286ba['type']](_0x2286ba['buffer'],_0x2286ba['offset'],_0x2286ba['count']*(0x1462+0x20c3*-0x1+0xc64));const _0xfe0c1d=_0x2286ba['count'];_0x5b95c3||(_0x5b95c3=AD(_0xfe0c1d));const _0x5179=k0(_0x57f784,_0x5b95c3),_0x55f8c2=new Float32Array(_0x5179['length']);_0x55f8c2['set'](_0x5179),_0x3b0db1[Yt]={'buffer':_0x55f8c2['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0xfe0c1d,'components':0x3,'type':Ee};},CD=_0x29b862=>{const _0x1daa5e=_0x22d5b8=>{const _0x22eb2b=[];for(let _0x1e5ab5=-0x2154+0x1e92+0x2*0x161;_0x1e5ab5<_0x22d5b8['_levels']['length'];++_0x1e5ab5){let _0x55b9ec=[];if(_0x22d5b8['cubemap']){for(let _0x556bb0=0x35d+0x2469+-0x27c6;_0x556bb0<0x2f8+-0xf46+0xc*0x107;++_0x556bb0)_0x55b9ec['push'](_0x22d5b8['_levels'][_0x1e5ab5][_0x556bb0]);}else _0x55b9ec=_0x22d5b8['_levels'][_0x1e5ab5];_0x22eb2b['push'](_0x55b9ec);}return _0x22eb2b;},_0x4761fa=new he(_0x29b862['device'],_0x29b862);return _0x4761fa['_levels']=_0x1daa5e(_0x29b862),_0x4761fa;},MD=_0x2aceb0=>{const _0x3785a8=new le(_0x2aceb0['name']+'_clone',_0x2aceb0['type'],_0x2aceb0['file'],_0x2aceb0['data'],_0x2aceb0['options']);return _0x3785a8['loaded']=!(0x2555+0x3*-0x5d1+-0x13e2),_0x3785a8['resource']=CD(_0x2aceb0['resource']),_0x2aceb0['registry']['add'](_0x3785a8),_0x3785a8;},PD=(_0x89ff7f,_0x4bd739)=>{const _0x378411=_0x4bd739[He];if(!_0x378411)return null;const _0x3ae0c2=_0x378411['count'],_0x4e4c64=[];for(const _0x1d95ee in _0x4bd739)if(_0x4bd739['hasOwnProp'+'erty'](_0x1d95ee)){const _0x2178cb={'semantic':_0x1d95ee,'components':_0x4bd739[_0x1d95ee]['components'],'type':_0x4bd739[_0x1d95ee]['type'],'normalize':!!_0x4bd739[_0x1d95ee]['normalize']};Et['isElementV'+'alid'](_0x89ff7f,_0x2178cb)||_0x2178cb['components']++,_0x4e4c64['push'](_0x2178cb);}_0x4e4c64['sort']((_0x33f823,_0x3b9b29)=>Bg[_0x33f823['semantic']]-Bg[_0x3b9b29['semantic']]);let _0x1751c8,_0xad144f,_0x228b73,_0x30af40,_0x2066ed,_0x425a8d;const _0x53f935=new Et(_0x89ff7f,_0x4e4c64);let _0x1e7fb3=!(-0x8e0+-0xc20+0xc*0x1c0);for(_0x1751c8=0x1ab0+0x1f79+-0x3a29;_0x1751c8<_0x53f935['elements']['length'];++_0x1751c8)if(_0x2066ed=_0x53f935['elements'][_0x1751c8],_0x30af40=_0x4bd739[_0x2066ed['name']],_0x425a8d=_0x30af40['offset']-_0x378411['offset'],_0x30af40['buffer']!==_0x378411['buffer']||_0x30af40['stride']!==_0x2066ed['stride']||_0x30af40['size']!==_0x2066ed['size']||_0x425a8d!==_0x2066ed['offset']){_0x1e7fb3=!(0x90c+0x671*0x4+-0x22cf);break;}const _0x41ca16=new os(_0x89ff7f,_0x53f935,_0x3ae0c2),_0x1ad860=_0x41ca16['lock'](),_0x58b6cf=new Uint32Array(_0x1ad860);let _0x1ad5ee;if(_0x1e7fb3)_0x1ad5ee=new Uint32Array(_0x378411['buffer'],_0x378411['offset'],_0x3ae0c2*_0x41ca16['format']['size']/(0x11*-0xe1+0x2*-0x15+0x4f*0x31)),_0x58b6cf['set'](_0x1ad5ee);else{let _0x1ed9a0,_0xf98b48;for(_0x1751c8=-0x1954+0x1adf+-0x18b;_0x1751c8<_0x41ca16['format']['elements']['length'];++_0x1751c8){_0x2066ed=_0x41ca16['format']['elements'][_0x1751c8],_0x1ed9a0=_0x2066ed['stride']/(0x1816+0x41*-0x55+-0x27d),_0x30af40=_0x4bd739[_0x2066ed['name']],_0xf98b48=_0x30af40['stride']/(0x419+-0x141*-0xc+0x1321*-0x1),_0x1ad5ee=new Uint32Array(_0x30af40['buffer'],_0x30af40['offset'],(_0x30af40['count']-(-0xc6f+0x1*-0x1966+-0x2*-0x12eb))*_0xf98b48+(_0x30af40['size']+(-0x2645+0x837+0x1e11))/(0x47*-0x31+-0x1d2c+-0x1*-0x2ac7));let _0x5810c1=-0x2*0x1312+-0x238+0x285c,_0x498d62=_0x2066ed['offset']/(-0x1*-0x136d+0x949*0x1+-0x2*0xe59);const _0xc9c7d4=Math['floor']((_0x30af40['size']+(-0xf6c+0x1786+-0x817*0x1))/(-0x6bb*-0x4+-0xf12+-0x1e*0x65));for(_0xad144f=0x11c2+0x15e6+-0x27a8;_0xad144f<_0x3ae0c2;++_0xad144f){for(_0x228b73=0x2605*0x1+-0xbee+-0x1a17;_0x228b73<_0xc9c7d4;++_0x228b73)_0x58b6cf[_0x498d62+_0x228b73]=_0x1ad5ee[_0x5810c1+_0x228b73];_0x5810c1+=_0xf98b48,_0x498d62+=_0x1ed9a0;}}}return _0x41ca16['unlock'](),_0x41ca16;},RD=(_0x1341c5,_0x5e3fff,_0x486471,_0x4ada68,_0x5b051c,_0x1e8f14)=>{const _0x41cad7={},_0x571dba=[];for(const _0x3efb51 in _0x5e3fff)_0x5e3fff['hasOwnProp'+'erty'](_0x3efb51)&&ec['hasOwnProp'+'erty'](_0x3efb51)&&(_0x41cad7[_0x3efb51]=_0x5e3fff[_0x3efb51],_0x571dba['push'](_0x3efb51+':'+_0x5e3fff[_0x3efb51]));_0x571dba['sort']();const _0x28a783=_0x571dba['join']();let _0x2ee50c=_0x1e8f14[_0x28a783];if(!_0x2ee50c){const _0x15ee76={};for(const _0x492715 in _0x41cad7){const _0x396057=_0x4ada68[_0x5e3fff[_0x492715]],_0x34a55c=sn(_0x396057,_0x5b051c),_0x491902=_0x5b051c[_0x396057['bufferView']],_0x59a1a8=ec[_0x492715],_0x3d7f7d=Wo(_0x396057['type'])*bD(_0x396057['componentT'+'ype']),_0x5ece9b=_0x491902&&_0x491902['hasOwnProp'+'erty']('byteStride')?_0x491902['byteStride']:_0x3d7f7d;_0x15ee76[_0x59a1a8]={'buffer':_0x34a55c['buffer'],'size':_0x3d7f7d,'offset':_0x34a55c['byteOffset'],'stride':_0x5ece9b,'count':_0x396057['count'],'components':Wo(_0x396057['type']),'type':Jc(_0x396057['componentT'+'ype']),'normalize':_0x396057['normalized']};}_0x15ee76['hasOwnProp'+'erty'](Yt)||ED(_0x15ee76,_0x486471),_0x2ee50c=PD(_0x1341c5,_0x15ee76),_0x1e8f14[_0x28a783]=_0x2ee50c;}return _0x2ee50c;},ID=(_0x1a72bb,_0x11c200,_0x209aed,_0x1286aa,_0x59d17c,_0x65de4a)=>{let _0x36434b,_0x2c26b5,_0x59996f;const _0x2a0f22=_0x11c200['joints'],_0x203394=_0x2a0f22['length'],_0x54f0c8=[];if(_0x11c200['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x2722e3=_0x11c200['inverseBin'+'dMatrices'],_0x15941b=sn(_0x209aed[_0x2722e3],_0x1286aa,!(0x1dc3+0x7*-0x133+-0x446*0x5)),_0x36b568=[];for(_0x36434b=0x695+0x243c+-0x2ad1*0x1;_0x36434b<_0x203394;_0x36434b++){for(_0x2c26b5=-0x1a08+-0x2299+0x53*0xbb;_0x2c26b5<0xefc+-0x26bd+0x17d1;_0x2c26b5++)_0x36b568[_0x2c26b5]=_0x15941b[_0x36434b*(-0x112c+0x25a1*-0x1+0x36dd)+_0x2c26b5];_0x59996f=new q(),_0x59996f['set'](_0x36b568),_0x54f0c8['push'](_0x59996f);}}else{for(_0x36434b=-0xe72*-0x1+-0x10d7+0x265;_0x36434b<_0x203394;_0x36434b++)_0x59996f=new q(),_0x54f0c8['push'](_0x59996f);}const _0x33caa4=[];for(_0x36434b=-0xcfe+0x178b+-0xa8d;_0x36434b<_0x203394;_0x36434b++)_0x33caa4[_0x36434b]=_0x59d17c[_0x2a0f22[_0x36434b]]['name'];const _0x53d0a9=_0x33caa4['join']('#');let _0x269685=_0x65de4a['get'](_0x53d0a9);return _0x269685||(_0x269685=new N0(_0x1a72bb,_0x54f0c8,_0x33caa4),_0x65de4a['set'](_0x53d0a9,_0x269685)),_0x269685;},DD=(_0x55b602,_0x3f8c57,_0x56cc9c,_0x3bee63,_0x5ac346,_0x441404,_0x12703c)=>{var _0x9aca50;const _0x140dc4=new Ie(_0x55b602);_0x140dc4['aabb']=Sf(_0x56cc9c[_0x3f8c57['attributes']['POSITION']]);const _0x1d8c4c=[];for(const [_0x203268,_0x4fc535]of Object['entries'](_0x3f8c57['attributes'])){const _0x41a8ff=_0x56cc9c[_0x4fc535],_0x3edfb7=ec[_0x203268],_0x5d9ad0=Jc(_0x41a8ff['componentT'+'ype']);_0x1d8c4c['push']({'semantic':_0x3edfb7,'components':Wo(_0x41a8ff['type']),'type':_0x5d9ad0,'normalize':_0x41a8ff['normalized']??(_0x3edfb7===At&&(_0x5d9ad0===Kr||_0x5d9ad0===el))});}if(_0x12703c['push'](new Promise((_0x20d602,_0x552f9e)=>{const _0x5f196e=_0x3f8c57['extensions']['KHR_draco_'+'mesh_compr'+'ession'];xD(_0x3bee63[_0x5f196e['bufferView']]['slice']()['buffer'],(_0x29eb85,_0x17a69b)=>{var _0x369f52;if(_0x29eb85)console['log'](_0x29eb85),_0x552f9e(_0x29eb85);else{const _0x2202ee={};for(const [_0x2dca4a,_0x297544]of Object['entries'](_0x5f196e['attributes']))_0x2202ee[ec[_0x2dca4a]]=_0x17a69b['attributes']['indexOf'](_0x297544);_0x1d8c4c['sort']((_0x1ee559,_0x42c41c)=>_0x2202ee[_0x1ee559['semantic']]-_0x2202ee[_0x42c41c['semantic']]),(_0x369f52=_0x3f8c57['attributes'])!=null&&_0x369f52['NORMAL']||_0x1d8c4c['splice'](0x17af+-0x1*-0xd99+-0x2547,-0x1*0xb3c+0xc29+-0xed,{'semantic':'NORMAL','components':0x3,'type':Ee});const _0x5566c1=new Et(_0x55b602,_0x1d8c4c),_0x459599=_0x17a69b['vertices']['byteLength']/_0x5566c1['size'],_0x3d2456=_0x459599<=0x161+0x3b*0x8a7+-0xffdf?Pi:nr,_0x142eba=_0x17a69b['indices']['byteLength']/(_0x459599<=-0x7904+-0x9d6d*-0x3+-0x1c*0x367?0x1*0x2143+0x1ca6+-0x3de7:-0x2641+0x1*-0x15c1+0x3c06);v['call'](()=>{_0x459599!==_0x56cc9c[_0x3f8c57['attributes']['POSITION']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x142eba!==_0x56cc9c[_0x3f8c57['indices']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x312606=new os(_0x55b602,_0x5566c1,_0x459599,{'data':_0x17a69b['vertices']}),_0x33b4dd=new lr(_0x55b602,_0x3d2456,_0x142eba,jt,_0x17a69b['indices']);_0x140dc4['vertexBuff'+'er']=_0x312606,_0x140dc4['indexBuffe'+'r'][-0x5b*-0x6d+0x128*-0x1f+-0x2e7]=_0x33b4dd,_0x140dc4['primitive'][-0x33*0xc1+0xefd+0x9a*0x27]['type']=Ix(_0x3f8c57),_0x140dc4['primitive'][0x19a4+0x2072+-0x3a16]['base']=-0x2695+-0x210d+0x1*0x47a2,_0x140dc4['primitive'][-0x657*0x1+-0x2435+0x185*0x1c]['count']=_0x33b4dd?_0x142eba:_0x459599,_0x140dc4['primitive'][0x55*0x5+-0x254d+-0x11d2*-0x2]['indexed']=!!_0x33b4dd,_0x20d602();}});})),(_0x9aca50=_0x3f8c57==null?void(0x26fd+0x1007*0x2+0xd*-0x577):_0x3f8c57['extensions'])!=null&&_0x9aca50['KHR_materi'+'als_varian'+'ts']){const _0x3940d3=_0x3f8c57['extensions']['KHR_materi'+'als_varian'+'ts'],_0x3daa04={};_0x3940d3['mappings']['forEach'](_0x5d6670=>{_0x5d6670['variants']['forEach'](_0x3a0731=>{_0x3daa04[_0x3a0731]=_0x5d6670['material'];});}),_0x5ac346[_0x140dc4['id']]=_0x3daa04;}return _0x441404[_0x140dc4['id']]=_0x3f8c57['material'],_0x140dc4;},LD=(_0x15f29c,_0x47fb1a,_0x761ba5,_0x15349c,_0x368720,_0x8c449,_0x5e82e1,_0x1d44fc,_0xabc0a9)=>{const _0x3b8724=[];return _0x47fb1a['primitives']['forEach'](_0x423c87=>{var _0x496f5e;if((_0x496f5e=_0x423c87['extensions'])!=null&&_0x496f5e['KHR_draco_'+'mesh_compr'+'ession'])_0x3b8724['push'](DD(_0x15f29c,_0x423c87,_0x761ba5,_0x15349c,_0x8c449,_0x5e82e1,_0xabc0a9));else{let _0x3eee0b=_0x423c87['hasOwnProp'+'erty']('indices')?sn(_0x761ba5[_0x423c87['indices']],_0x15349c,!(-0x761*0x2+0x2164*0x1+-0x12a2)):null;const _0x52a3e3=RD(_0x15f29c,_0x423c87['attributes'],_0x3eee0b,_0x761ba5,_0x15349c,_0x368720),_0x5f4883=Ix(_0x423c87),_0x5f2cf5=new Ie(_0x15f29c);if(_0x5f2cf5['vertexBuff'+'er']=_0x52a3e3,_0x5f2cf5['primitive'][-0x25*-0x26+0x14f*0x2+-0x81c]['type']=_0x5f4883,_0x5f2cf5['primitive'][-0x92b+-0x881*-0x2+0x7d7*-0x1]['base']=-0x1edb+-0x1e65+-0x140*-0x31,_0x5f2cf5['primitive'][-0x1d51+-0x21b5+0x1f83*0x2]['indexed']=_0x3eee0b!==null,_0x3eee0b!==null){let _0x3c222c;_0x3eee0b instanceof Uint8Array?_0x3c222c=pu:_0x3eee0b instanceof Uint16Array?_0x3c222c=Pi:_0x3c222c=nr,_0x3c222c===pu&&_0x15f29c['isWebGPU']&&(_0x3c222c=Pi,_0x3eee0b=new Uint16Array(_0x3eee0b));const _0x4d250c=new lr(_0x15f29c,_0x3c222c,_0x3eee0b['length'],jt,_0x3eee0b);_0x5f2cf5['indexBuffe'+'r'][-0x24c1*-0x1+-0xbe2+0x1*-0x18df]=_0x4d250c,_0x5f2cf5['primitive'][0x43*-0x61+-0x19*-0x2+0x1931*0x1]['count']=_0x3eee0b['length'];}else _0x5f2cf5['primitive'][-0x1570+-0x1add+0x304d]['count']=_0x52a3e3['numVertice'+'s'];if(_0x423c87['hasOwnProp'+'erty']('extensions')&&_0x423c87['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x167daf=_0x423c87['extensions']['KHR_materi'+'als_varian'+'ts'],_0x3e2147={};_0x167daf['mappings']['forEach'](_0x4201b2=>{_0x4201b2['variants']['forEach'](_0x5167ca=>{_0x3e2147[_0x5167ca]=_0x4201b2['material'];});}),_0x8c449[_0x5f2cf5['id']]=_0x3e2147;}_0x5e82e1[_0x5f2cf5['id']]=_0x423c87['material'];let _0x3a6645=_0x761ba5[_0x423c87['attributes']['POSITION']];if(_0x5f2cf5['aabb']=Sf(_0x3a6645),_0x423c87['hasOwnProp'+'erty']('targets')){const _0x3e651d=[];_0x423c87['targets']['forEach']((_0x14e230,_0x462954)=>{const _0x3fe4dc={};_0x14e230['hasOwnProp'+'erty']('POSITION')&&(_0x3a6645=_0x761ba5[_0x14e230['POSITION']],_0x3fe4dc['deltaPosit'+'ions']=ma(_0x3a6645,_0x15349c),_0x3fe4dc['aabb']=Sf(_0x3a6645)),_0x14e230['hasOwnProp'+'erty']('NORMAL')&&(_0x3a6645=_0x761ba5[_0x14e230['NORMAL']],_0x3fe4dc['deltaNorma'+'ls']=ma(_0x3a6645,_0x15349c)),_0x47fb1a['hasOwnProp'+'erty']('extras')&&_0x47fb1a['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x3fe4dc['name']=_0x47fb1a['extras']['targetName'+'s'][_0x462954]:_0x3fe4dc['name']=_0x462954['toString'](0x2*-0x1370+0x1535+0x11b5),_0x47fb1a['hasOwnProp'+'erty']('weights')&&(_0x3fe4dc['defaultWei'+'ght']=_0x47fb1a['weights'][_0x462954]),_0x3fe4dc['preserveDa'+'ta']=_0x1d44fc['morphPrese'+'rveData'],_0x3e651d['push'](new Qc(_0x3fe4dc));}),_0x5f2cf5['morph']=new F0(_0x3e651d,_0x15f29c,{'preferHighPrecision':_0x1d44fc['morphPrefe'+'rHighPreci'+'sion']});}_0x3b8724['push'](_0x5f2cf5);}}),_0x3b8724;},ft=(_0x4f7ddd,_0x1d1806,_0x54877b)=>{var _0x1ab7a3;let _0xe7217a;const _0x4354c2=_0x4f7ddd['texCoord'];if(_0x4354c2){for(_0xe7217a=0x418*-0x5+-0x315+0x178d;_0xe7217a<_0x54877b['length'];++_0xe7217a)_0x1d1806[_0x54877b[_0xe7217a]+'MapUv']=_0x4354c2;}const _0x210d3d=[0x1182+-0x211+-0x43*0x3b,-0x19ec+-0x11e8+0x2bd4],_0x362b6c=[-0x211*0xa+0x11f*0x7+0xcd2,-0x1d8d+0x105f*-0x2+0x3e4c],_0x334d3e=(_0x1ab7a3=_0x4f7ddd['extensions'])==null?void(-0x316*0xb+-0x1a40+0x3c32):_0x1ab7a3['KHR_textur'+'e_transfor'+'m'];if(_0x334d3e){const _0x59b317=_0x334d3e['offset']||_0x210d3d,_0x2cd2f4=_0x334d3e['scale']||_0x362b6c,_0x56b637=_0x334d3e['rotation']?-_0x334d3e['rotation']*N['RAD_TO_DEG']:0x3da+0x1100+-0x14da,_0x352237=new W(_0x2cd2f4[0x1d13+0xe49+0x6*-0x73a],_0x2cd2f4[0x1a59+0x129*0xd+-0x296d]),_0x5ecc2e=new W(_0x59b317[0x167d+-0x1d5+0x2*-0xa54],-0x2d*0x9f+0x216b*-0x1+-0x3*-0x1475-_0x2cd2f4[0x7dc+-0xa5*0x33+0x1904]-_0x59b317[-0x1201*-0x1+-0x545+0x1*-0xcbb]);for(_0xe7217a=0x76d*0x5+0x1*0x1ffb+-0x451c;_0xe7217a<_0x54877b['length'];++_0xe7217a)_0x1d1806[_0x54877b[_0xe7217a]+'MapTiling']=_0x352237,_0x1d1806[_0x54877b[_0xe7217a]+'MapOffset']=_0x5ecc2e,_0x1d1806[_0x54877b[_0xe7217a]+('MapRotatio'+'n')]=_0x56b637;}},FD=(_0x1cdf0b,_0x3e1e7d,_0x32a718)=>{let _0x1c717d,_0x41883f;if(_0x1cdf0b['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x1c717d=_0x1cdf0b['diffuseFac'+'tor'],_0x3e1e7d['diffuse']['set'](Math['pow'](_0x1c717d[-0x3*-0xba7+-0x74*-0x26+0x169*-0x25],(0x3*-0x6d+-0x49f+-0x1*-0x5e7)/(0x5*-0x776+0x1*-0x22f+0x277f+0.20000000000000018)),Math['pow'](_0x1c717d[0x1e4d+0x14c7+-0x3313],(-0x138*0x20+-0x19*-0x8b+0x196e)/(0x943*0x1+0x1*0x1625+-0x1f66+0.20000000000000018)),Math['pow'](_0x1c717d[-0x1dbf*0x1+0x46b+0x1956],(0xb*0x2e2+-0xf83+-0x1032)/(-0x6*0x34+-0xec6+0x1000+0.20000000000000018))),_0x3e1e7d['opacity']=_0x1c717d[-0x7bd+0xd08+0x68*-0xd]):(_0x3e1e7d['diffuse']['set'](0x1*0x21b5+-0x15f4+-0x5e0*0x2,0x1*-0x169c+0x1*0x2cc+-0x10b*-0x13,-0x24e7+-0x3d0*0x8+0x4368),_0x3e1e7d['opacity']=-0x1*0xd9f+-0x1069+0x3*0xa03),_0x1cdf0b['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x1fdba7=_0x1cdf0b['diffuseTex'+'ture'];_0x41883f=_0x32a718[_0x1fdba7['index']],_0x3e1e7d['diffuseMap']=_0x41883f,_0x3e1e7d['diffuseMap'+'Channel']='rgb',_0x3e1e7d['opacityMap']=_0x41883f,_0x3e1e7d['opacityMap'+'Channel']='a',ft(_0x1fdba7,_0x3e1e7d,['diffuse','opacity']);}if(_0x3e1e7d['useMetalne'+'ss']=!(-0x2484+-0x118*-0x11+-0x1*-0x11ed),_0x1cdf0b['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x1c717d=_0x1cdf0b['specularFa'+'ctor'],_0x3e1e7d['specular']['set'](Math['pow'](_0x1c717d[-0x725+-0x97d*-0x3+0x2*-0xaa9],(-0x1cd2+0x252a+-0x1*0x857)/(-0x1*0x156a+-0x6ae+0x1c1a+0.20000000000000018)),Math['pow'](_0x1c717d[0x1289+-0x1484+0x7f*0x4],(0x1*-0x842+-0x2ac*0x9+0x204f)/(-0x1a62+-0x1*0xc1b+-0x5*-0x7b3+0.20000000000000018)),Math['pow'](_0x1c717d[0x19e2+-0x16*0x76+0xd4*-0x13],(0xb1a+0x22*-0x2+-0xad5)/(0x4fd*-0x5+-0x207+0x8fe*0x3+0.20000000000000018)))):_0x3e1e7d['specular']['set'](0x6*-0x480+-0x120e*-0x1+0x1*0x8f3,0x1844+0x1a7f+-0x32c2,0x11*-0x1cf+-0x4e8+0x23a8),_0x1cdf0b['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x3e1e7d['gloss']=_0x1cdf0b['glossiness'+'Factor']:_0x3e1e7d['gloss']=0x83a+0x44*-0x8d+0x1d3b,_0x1cdf0b['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x2f3b5b=_0x1cdf0b['specularGl'+'ossinessTe'+'xture'];_0x3e1e7d['specularEn'+'coding']='srgb',_0x3e1e7d['specularMa'+'p']=_0x3e1e7d['glossMap']=_0x32a718[_0x2f3b5b['index']],_0x3e1e7d['specularMa'+'pChannel']='rgb',_0x3e1e7d['glossMapCh'+'annel']='a',ft(_0x2f3b5b,_0x3e1e7d,['gloss','metalness']);}},OD=(_0xbe8305,_0x53f2fb,_0x2bd182)=>{if(_0xbe8305['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x53f2fb['clearCoat']=_0xbe8305['clearcoatF'+'actor']*(-0x3eb*0x1+0xf8c+0x1*-0xba1+0.25):_0x53f2fb['clearCoat']=-0x9f9+0x4*0x60e+-0xe3f,_0xbe8305['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0xb28446=_0xbe8305['clearcoatT'+'exture'];_0x53f2fb['clearCoatM'+'ap']=_0x2bd182[_0xb28446['index']],_0x53f2fb['clearCoatM'+'apChannel']='r',ft(_0xb28446,_0x53f2fb,['clearCoat']);}if(_0xbe8305['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x53f2fb['clearCoatG'+'loss']=_0xbe8305['clearcoatR'+'oughnessFa'+'ctor']:_0x53f2fb['clearCoatG'+'loss']=-0x1*-0x1aaa+0xc24+-0x1367*0x2,_0xbe8305['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x47ddfa=_0xbe8305['clearcoatR'+'oughnessTe'+'xture'];_0x53f2fb['clearCoatG'+'lossMap']=_0x2bd182[_0x47ddfa['index']],_0x53f2fb['clearCoatG'+'lossMapCha'+'nnel']='g',ft(_0x47ddfa,_0x53f2fb,['clearCoatG'+'loss']);}if(_0xbe8305['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x3da777=_0xbe8305['clearcoatN'+'ormalTextu'+'re'];_0x53f2fb['clearCoatN'+'ormalMap']=_0x2bd182[_0x3da777['index']],ft(_0x3da777,_0x53f2fb,['clearCoatN'+'ormal']),_0x3da777['hasOwnProp'+'erty']('scale')&&(_0x53f2fb['clearCoatB'+'umpiness']=_0x3da777['scale']);}_0x53f2fb['clearCoatG'+'lossInvert']=!(0x1*-0xf7f+0x2597+-0x1618);},kD=(_0x557801,_0x383235,_0x32cebb)=>{_0x383235['useLightin'+'g']=!(-0x17*0xaa+0x1*-0x1f39+0x6*0x7c0),_0x383235['emissive']['copy'](_0x383235['diffuse']),_0x383235['emissiveMa'+'p']=_0x383235['diffuseMap'],_0x383235['emissiveMa'+'pUv']=_0x383235['diffuseMap'+'Uv'],_0x383235['emissiveMa'+'pTiling']['copy'](_0x383235['diffuseMap'+'Tiling']),_0x383235['emissiveMa'+'pOffset']['copy'](_0x383235['diffuseMap'+'Offset']),_0x383235['emissiveMa'+'pRotation']=_0x383235['diffuseMap'+'Rotation'],_0x383235['emissiveMa'+'pChannel']=_0x383235['diffuseMap'+'Channel'],_0x383235['emissiveVe'+'rtexColor']=_0x383235['diffuseVer'+'texColor'],_0x383235['emissiveVe'+'rtexColorC'+'hannel']=_0x383235['diffuseVer'+'texColorCh'+'annel'],_0x383235['useLightin'+'g']=!(-0x7f*0x2f+0x26e7+-0xf95),_0x383235['useSkybox']=!(-0x4ee*-0x5+-0x56e+-0x1337),_0x383235['diffuse']['set'](0x20b3+-0xb*-0xc7+-0x1*0x293f,0x2611+-0x253e+-0x5*0x2a,0x3b*-0x56+-0x156b*-0x1+-0x198),_0x383235['diffuseMap']=null,_0x383235['diffuseVer'+'texColor']=!(-0xe3c+-0x6e0+0x1*0x151d);},BD=(_0x2f3e9b,_0x32e468,_0x2b5fd0)=>{if(_0x32e468['useMetalne'+'ssSpecular'+'Color']=!(0x7*-0x4b9+0x7*0x38f+0x826),_0x2f3e9b['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x32e468['specularEn'+'coding']='srgb',_0x32e468['specularMa'+'p']=_0x2b5fd0[_0x2f3e9b['specularCo'+'lorTexture']['index']],_0x32e468['specularMa'+'pChannel']='rgb',ft(_0x2f3e9b['specularCo'+'lorTexture'],_0x32e468,['specular'])),_0x2f3e9b['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x4f6d6e=_0x2f3e9b['specularCo'+'lorFactor'];_0x32e468['specular']['set'](Math['pow'](_0x4f6d6e[-0x1*-0x1edb+-0x1ac5*-0x1+-0x734*0x8],(-0x1*0xce5+0x589+0x75d)/(-0x923+0x1252+-0x1b*0x57+0.20000000000000018)),Math['pow'](_0x4f6d6e[-0x1*-0x99c+0x1794*-0x1+0xdf9],(-0x130d+0xbec+0x722)/(-0x1b8d+-0x29*0xa4+-0x3*-0x11f1+0.20000000000000018)),Math['pow'](_0x4f6d6e[-0x1ecb+-0x7*-0x4c6+-0x29d*0x1],(-0x1040+-0x1f34+-0x1*-0x2f75)/(0x1e8d+-0x35*-0xb6+-0x5*0xda5+0.20000000000000018)));}else _0x32e468['specular']['set'](0x1e25*0x1+-0x25e1+0x7bd,0x1*0xa82+-0xda7*-0x2+-0x25cf,-0x1*-0x12fd+-0xe64+-0x498);_0x2f3e9b['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x32e468['specularit'+'yFactor']=_0x2f3e9b['specularFa'+'ctor']:_0x32e468['specularit'+'yFactor']=-0x136c+0x178a*-0x1+0x287*0x11,_0x2f3e9b['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x32e468['specularit'+'yFactorMap'+'Channel']='a',_0x32e468['specularit'+'yFactorMap']=_0x2b5fd0[_0x2f3e9b['specularTe'+'xture']['index']],ft(_0x2f3e9b['specularTe'+'xture'],_0x32e468,['specularit'+'yFactor']));},ND=(_0x4556af,_0x385a16,_0x30764d)=>{_0x4556af['hasOwnProp'+'erty']('ior')&&(_0x385a16['refraction'+'Index']=(0x1*-0x162d+-0x1*-0x1e0d+-0x1f*0x41)/_0x4556af['ior']);},zD=(_0x4970d8,_0x570d95,_0x42ceb4)=>{_0x4970d8['hasOwnProp'+'erty']('dispersion')&&(_0x570d95['dispersion']=_0x4970d8['dispersion']);},UD=(_0x1d6137,_0x38d28e,_0xbca390)=>{_0x38d28e['blendType']=Kt,_0x38d28e['useDynamic'+'Refraction']=!(0xbe9*0x1+-0x312+0x8d7*-0x1),_0x1d6137['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x38d28e['refraction']=_0x1d6137['transmissi'+'onFactor']),_0x1d6137['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x38d28e['refraction'+'MapChannel']='r',_0x38d28e['refraction'+'Map']=_0xbca390[_0x1d6137['transmissi'+'onTexture']['index']],ft(_0x1d6137['transmissi'+'onTexture'],_0x38d28e,['refraction']));},VD=(_0x4148bd,_0xdf2f0c,_0x1f1980)=>{if(_0xdf2f0c['useSheen']=!(0x1a74+-0x1f05+0xa7*0x7),_0x4148bd['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0xf1423=_0x4148bd['sheenColor'+'Factor'];_0xdf2f0c['sheen']['set'](Math['pow'](_0xf1423[0x1ac9*-0x1+0x2121+0x1c*-0x3a],(0x2b*0xb7+-0x249a+-0x2ef*-0x2)/(0x1e*-0x89+0x3*-0x529+-0x55*-0x5f+0.20000000000000018)),Math['pow'](_0xf1423[-0x691+0x7*0x38e+-0x1250],(0x136f+-0x1c13*-0x1+0x1*-0x2f81)/(-0x4f7+0xc8f+0x1*-0x796+0.20000000000000018)),Math['pow'](_0xf1423[0x1caa*-0x1+0xaf8+-0x1*-0x11b4],(0x3*0x949+-0xdf8+0x1*-0xde2)/(0xa*-0x1d6+0x151c+-0x2be+0.20000000000000018)));}else _0xdf2f0c['sheen']['set'](0xa18+-0xd*-0x15a+0x1*-0x1ba9,-0xa03*0x3+0x1989+0x481,0x1*0x1575+0x7f*-0x35+0x4d7);_0x4148bd['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0xdf2f0c['sheenMap']=_0x1f1980[_0x4148bd['sheenColor'+'Texture']['index']],_0xdf2f0c['sheenEncod'+'ing']='srgb',ft(_0x4148bd['sheenColor'+'Texture'],_0xdf2f0c,['sheen'])),_0xdf2f0c['sheenGloss']=_0x4148bd['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x4148bd['sheenRough'+'nessFactor']:-0x9a9+0x1333*-0x1+0x1cdc,_0x4148bd['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0xdf2f0c['sheenGloss'+'Map']=_0x1f1980[_0x4148bd['sheenRough'+'nessTextur'+'e']['index']],_0xdf2f0c['sheenGloss'+'MapChannel']='a',ft(_0x4148bd['sheenRough'+'nessTextur'+'e'],_0xdf2f0c,['sheenGloss'])),_0xdf2f0c['sheenGloss'+'Invert']=!(-0x2dd*0x1+-0x6b3+0x990);},GD=(_0x32e212,_0x34f03d,_0x1edb26)=>{if(_0x34f03d['blendType']=Kt,_0x34f03d['useDynamic'+'Refraction']=!(-0x2*-0x397+-0x22ff+0x1*0x1bd1),_0x32e212['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x34f03d['thickness']=_0x32e212['thicknessF'+'actor']),_0x32e212['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x34f03d['thicknessM'+'ap']=_0x1edb26[_0x32e212['thicknessT'+'exture']['index']],_0x34f03d['thicknessM'+'apChannel']='g',ft(_0x32e212['thicknessT'+'exture'],_0x34f03d,['thickness'])),_0x32e212['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x34f03d['attenuatio'+'nDistance']=_0x32e212['attenuatio'+'nDistance']),_0x32e212['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x2a078e=_0x32e212['attenuatio'+'nColor'];_0x34f03d['attenuatio'+'n']['set'](Math['pow'](_0x2a078e[-0x1381+-0x109*-0xd+0x60c],(-0x1975+-0x13*0xa9+0xcf*0x2f)/(0x2d*0x2f+0x13db+0x1*-0x1c1c+0.20000000000000018)),Math['pow'](_0x2a078e[0x221b+0x8f*-0x40+0x1a6],(-0x1*0x851+-0x1d90+0x25e2)/(0x185*0x1+-0xa52+-0x8cf*-0x1+0.20000000000000018)),Math['pow'](_0x2a078e[0x4d8+-0x39b*0x5+0xd31*0x1],(0x3db*0x7+-0x1982+-0x17a)/(-0xa54*0x2+-0x41f*0x6+0x8c*0x53+0.20000000000000018)));}},HD=(_0x48a79a,_0x10fe2d,_0x33ce0a)=>{_0x48a79a['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x10fe2d['emissiveIn'+'tensity']=_0x48a79a['emissiveSt'+'rength']);},WD=(_0x1c9c23,_0x33f092,_0x7e1466)=>{_0x33f092['useIridesc'+'ence']=!(-0x3*0x567+-0x944*0x1+0x1979),_0x1c9c23['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x33f092['iridescenc'+'e']=_0x1c9c23['iridescenc'+'eFactor']),_0x1c9c23['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x33f092['iridescenc'+'eMapChanne'+'l']='r',_0x33f092['iridescenc'+'eMap']=_0x7e1466[_0x1c9c23['iridescenc'+'eTexture']['index']],ft(_0x1c9c23['iridescenc'+'eTexture'],_0x33f092,['iridescenc'+'e'])),_0x1c9c23['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x33f092['iridescenc'+'eRefractio'+'nIndex']=_0x1c9c23['iridescenc'+'eIor']),_0x1c9c23['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x33f092['iridescenc'+'eThickness'+'Min']=_0x1c9c23['iridescenc'+'eThickness'+'Minimum']),_0x1c9c23['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x33f092['iridescenc'+'eThickness'+'Max']=_0x1c9c23['iridescenc'+'eThickness'+'Maximum']),_0x1c9c23['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x33f092['iridescenc'+'eThickness'+'MapChannel']='g',_0x33f092['iridescenc'+'eThickness'+'Map']=_0x7e1466[_0x1c9c23['iridescenc'+'eThickness'+'Texture']['index']],ft(_0x1c9c23['iridescenc'+'eThickness'+'Texture'],_0x33f092,['iridescenc'+'eThickness']));},Dx=(_0x393083,_0x4ee47e)=>{const _0x1cd5f9=new cs();_0x393083['hasOwnProp'+'erty']('name')&&(_0x1cd5f9['name']=_0x393083['name']),_0x1cd5f9['occludeSpe'+'cular']=Bo,_0x1cd5f9['diffuseVer'+'texColor']=!(0xb16+-0x685*0x2+-0x4*-0x7d),_0x1cd5f9['specularTi'+'nt']=!(0x75c+0x1791*0x1+0x261*-0xd),_0x1cd5f9['specularVe'+'rtexColor']=!(0x3*0x6d1+-0x20f9+-0x7*-0x1ca),_0x1cd5f9['specular']['set'](-0x119e+0x7d6+-0x5*-0x1f5,-0x1cef+-0x1994+0x4*0xda1,-0x6*0x395+0x1bc+0x13c3),_0x1cd5f9['gloss']=-0x2*-0x137f+-0x2358+0x3*-0x137,_0x1cd5f9['glossInver'+'t']=!(-0x796+0x1*-0x1066+0x17fc),_0x1cd5f9['useMetalne'+'ss']=!(-0x7c*-0x33+-0x29*0x1+-0x1*0x188b);let _0x1ab685,_0xe1ff00;if(_0x393083['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x1ec294=_0x393083['pbrMetalli'+'cRoughness'];if(_0x1ec294['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x1ab685=_0x1ec294['baseColorF'+'actor'],_0x1cd5f9['diffuse']['set'](Math['pow'](_0x1ab685[-0x37*-0xa+-0x389+0x163],(0xd*-0x4e+-0x219e+0x2595)/(0x12*-0x43+0xd1c*-0x2+0x6*0x528+0.20000000000000018)),Math['pow'](_0x1ab685[-0x15d6+-0x2*0x89+0x16e9],(-0x1351+-0x25b7+0x3909)/(0x223c+0x19eb+-0x3c25+0.20000000000000018)),Math['pow'](_0x1ab685[-0x1540+0x228f+-0xe3*0xf],(-0x1d7c+0xacf+0x2*0x957)/(0xc*0x15f+-0xbd*-0xf+0x1*-0x1b85+0.20000000000000018))),_0x1cd5f9['opacity']=_0x1ab685[-0x2*0x194+0x71*0x4f+-0x1fb4]),_0x1ec294['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x10dcf1=_0x1ec294['baseColorT'+'exture'];_0xe1ff00=_0x4ee47e[_0x10dcf1['index']],_0x1cd5f9['diffuseMap']=_0xe1ff00,_0x1cd5f9['diffuseMap'+'Channel']='rgb',_0x1cd5f9['opacityMap']=_0xe1ff00,_0x1cd5f9['opacityMap'+'Channel']='a',ft(_0x10dcf1,_0x1cd5f9,['diffuse','opacity']);}if(_0x1ec294['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x1cd5f9['metalness']=_0x1ec294['metallicFa'+'ctor']),_0x1ec294['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x1cd5f9['gloss']=_0x1ec294['roughnessF'+'actor']),_0x1ec294['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x3dbf8c=_0x1ec294['metallicRo'+'ughnessTex'+'ture'];_0x1cd5f9['metalnessM'+'ap']=_0x1cd5f9['glossMap']=_0x4ee47e[_0x3dbf8c['index']],_0x1cd5f9['metalnessM'+'apChannel']='b',_0x1cd5f9['glossMapCh'+'annel']='g',ft(_0x3dbf8c,_0x1cd5f9,['gloss','metalness']);}}if(_0x393083['hasOwnProp'+'erty']('normalText'+'ure')){const _0x2d0369=_0x393083['normalText'+'ure'];_0x1cd5f9['normalMap']=_0x4ee47e[_0x2d0369['index']],ft(_0x2d0369,_0x1cd5f9,['normal']),_0x2d0369['hasOwnProp'+'erty']('scale')&&(_0x1cd5f9['bumpiness']=_0x2d0369['scale']);}if(_0x393083['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x57c979=_0x393083['occlusionT'+'exture'];_0x1cd5f9['aoMap']=_0x4ee47e[_0x57c979['index']],_0x1cd5f9['aoMapChann'+'el']='r',ft(_0x57c979,_0x1cd5f9,['ao']);}if(_0x393083['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x1ab685=_0x393083['emissiveFa'+'ctor'],_0x1cd5f9['emissive']['set'](Math['pow'](_0x1ab685[0x1e1c+0x649*-0x1+-0x17d3],(0xb5*-0x29+-0x1*-0xa9e+-0x62*-0x30)/(0xa61*0x2+0xff*-0x2+-0x12c2+0.20000000000000018)),Math['pow'](_0x1ab685[0x1d38+-0xa47+-0x978*0x2],(0x4*0x815+0x970+-0x29c3)/(-0x106d+0x1d40+-0xcd1+0.20000000000000018)),Math['pow'](_0x1ab685[0x28*0x6c+-0xaf6+-0x7*0xd8],(-0xf9e+-0x2*-0xc77+0x94f*-0x1)/(-0x53*-0x71+-0x7f1*0x1+-0x4*0x72c+0.20000000000000018)))),_0x393083['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x2ba7bb=_0x393083['emissiveTe'+'xture'];_0x1cd5f9['emissiveMa'+'p']=_0x4ee47e[_0x2ba7bb['index']],ft(_0x2ba7bb,_0x1cd5f9,['emissive']);}if(_0x393083['hasOwnProp'+'erty']('alphaMode'))switch(_0x393083['alphaMode']){case'MASK':_0x1cd5f9['blendType']=is,_0x393083['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x1cd5f9['alphaTest']=_0x393083['alphaCutof'+'f']:_0x1cd5f9['alphaTest']=-0x68+0xd8b+0x13*-0xb1+0.5;break;case'BLEND':_0x1cd5f9['blendType']=Kt,_0x1cd5f9['depthWrite']=!(-0x178e+0x1416+-0x379*-0x1);break;default:case'OPAQUE':_0x1cd5f9['blendType']=is;break;}else _0x1cd5f9['blendType']=is;_0x393083['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x1cd5f9['twoSidedLi'+'ghting']=_0x393083['doubleSide'+'d'],_0x1cd5f9['cull']=_0x393083['doubleSide'+'d']?mt:rn):(_0x1cd5f9['twoSidedLi'+'ghting']=!(-0x1*0x15c1+-0x3*-0x6b0+-0x1b2*-0x1),_0x1cd5f9['cull']=rn);const _0x53d9a2={'KHR_materials_clearcoat':OD,'KHR_materials_emissive_strength':HD,'KHR_materials_ior':ND,'KHR_materials_dispersion':zD,'KHR_materials_iridescence':WD,'KHR_materials_pbrSpecularGlossiness':FD,'KHR_materials_sheen':VD,'KHR_materials_specular':BD,'KHR_materials_transmission':UD,'KHR_materials_unlit':kD,'KHR_materials_volume':GD};if(_0x393083['hasOwnProp'+'erty']('extensions'))for(const _0x4c7464 in _0x393083['extensions']){const _0x37e8b2=_0x53d9a2[_0x4c7464];_0x37e8b2!==void(0x11*0x1c5+0x1*0x1c0a+-0x3a1f)&&_0x37e8b2(_0x393083['extensions'][_0x4c7464],_0x1cd5f9,_0x4ee47e);}return _0x1cd5f9['update'](),_0x1cd5f9;},$D=(_0x1ddaff,_0x44e6e8,_0x319a07,_0x2e1c99,_0x133c48,_0x4d0ca9,_0x2f83c1)=>{const _0x17bbe1=_0x48d6e9=>new Jh(Wo(_0x48d6e9['type']),ma(_0x48d6e9,_0x2e1c99)),_0x599a75={'STEP':$0,'LINEAR':ju,'CUBICSPLINE':Yu},_0x4a006f={},_0x1b71a8={},_0x5112d4={};let _0x4c9094=-0x1*-0x1fee+0x377*0x2+-0x157*0x1d,_0x382a5e;for(_0x382a5e=0x2501+0x122e+-0x115*0x33;_0x382a5e<_0x1ddaff['samplers']['length'];++_0x382a5e){const _0x140531=_0x1ddaff['samplers'][_0x382a5e];_0x4a006f['hasOwnProp'+'erty'](_0x140531['input'])||(_0x4a006f[_0x140531['input']]=_0x17bbe1(_0x319a07[_0x140531['input']])),_0x1b71a8['hasOwnProp'+'erty'](_0x140531['output'])||(_0x1b71a8[_0x140531['output']]=_0x17bbe1(_0x319a07[_0x140531['output']]));const _0x5a0875=_0x140531['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x599a75['hasOwnProp'+'erty'](_0x140531['interpolat'+'ion'])?_0x599a75[_0x140531['interpolat'+'ion']]:ju,_0x40fd82={'paths':[],'input':_0x140531['input'],'output':_0x140531['output'],'interpolation':_0x5a0875};_0x5112d4[_0x382a5e]=_0x40fd82;}const _0x44a228=[],_0x75d1e4={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x2d8539=_0x2fd55b=>{const _0xbee3ca=[];for(;_0x2fd55b;)_0xbee3ca['unshift'](_0x2fd55b['name']),_0x2fd55b=_0x2fd55b['parent'];return _0xbee3ca;},_0x33699c=(_0x6df231,_0x176eb3,_0x4f1979)=>{const _0x406518=_0x1b71a8[_0x6df231['output']];if(!_0x406518){v['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x4f1979+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0xd2765c;if(_0x4d0ca9&&_0x4d0ca9[_0x176eb3['mesh']]){const _0x59040c=_0x4d0ca9[_0x176eb3['mesh']];_0x59040c['hasOwnProp'+'erty']('extras')&&_0x59040c['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0xd2765c=_0x59040c['extras']['targetName'+'s']);}const _0x1ac394=_0x406518['data'],_0x365fbb=_0x1ac394['length']/_0x4a006f[_0x6df231['input']]['data']['length'],_0x22a9d6=_0x1ac394['length']/_0x365fbb,_0x536f2b=_0x22a9d6*(0x83e+-0xe42+0x1*0x608),_0x3cbf88=new ArrayBuffer(_0x536f2b*_0x365fbb);for(let _0xfdfd4f=-0xeda+-0x68*0x41+0x2942;_0xfdfd4f<_0x365fbb;_0xfdfd4f++){const _0xf0e38b=new Float32Array(_0x3cbf88,_0x536f2b*_0xfdfd4f,_0x22a9d6);for(let _0x3d78dd=-0x1f6+0x1bda+-0x19e4*0x1;_0x3d78dd<_0x22a9d6;_0x3d78dd++)_0xf0e38b[_0x3d78dd]=_0x1ac394[_0x3d78dd*_0x365fbb+_0xfdfd4f];const _0x30d4e4=new Jh(0x2068*0x1+-0x2*0x111d+0x1d3,_0xf0e38b),_0x47df05=_0xd2765c!=null&&_0xd2765c[_0xfdfd4f]?'name.'+_0xd2765c[_0xfdfd4f]:_0xfdfd4f;_0x1b71a8[-_0x4c9094]=_0x30d4e4;const _0x15b069={'paths':[{'entityPath':_0x4f1979,'component':'graph','propertyPath':['weight.'+_0x47df05]}],'input':_0x6df231['input'],'output':-_0x4c9094,'interpolation':_0x6df231['interpolat'+'ion']};_0x4c9094++,_0x5112d4['morphCurve'+'-'+_0x382a5e+'-'+_0xfdfd4f]=_0x15b069;}};for(_0x382a5e=0x6c9+-0x74f*-0x1+0x148*-0xb;_0x382a5e<_0x1ddaff['channels']['length'];++_0x382a5e){const _0x380491=_0x1ddaff['channels'][_0x382a5e],_0x572601=_0x380491['target'],_0x5579e5=_0x5112d4[_0x380491['sampler']],_0x3af614=_0x133c48[_0x572601['node']],_0x566da2=_0x2f83c1[_0x572601['node']],_0x452272=_0x2d8539(_0x3af614);_0x572601['path']['startsWith']('weights')?(_0x33699c(_0x5579e5,_0x566da2,_0x452272),_0x5112d4[_0x380491['sampler']]['morphCurve']=!(0x29*0x18+-0x1b0b+-0x1*-0x1733)):_0x5579e5['paths']['push']({'entityPath':_0x452272,'component':'graph','propertyPath':[_0x75d1e4[_0x572601['path']]]});}const _0x1af3e9=[],_0x4a782f=[],_0x3cb5c4=[];for(const _0x5eee01 in _0x4a006f)_0x1af3e9['push'](_0x4a006f[_0x5eee01]),_0x4a006f[_0x5eee01]=_0x1af3e9['length']-(0x86c+0xb*-0x133+0x4c6);for(const _0x18fe67 in _0x1b71a8)_0x4a782f['push'](_0x1b71a8[_0x18fe67]),_0x1b71a8[_0x18fe67]=_0x4a782f['length']-(-0xbb2+-0x897+-0x35*-0x62);for(const _0x1cda06 in _0x5112d4){const _0x14d6a6=_0x5112d4[_0x1cda06];_0x14d6a6['morphCurve']||(_0x3cb5c4['push'](new Px(_0x14d6a6['paths'],_0x4a006f[_0x14d6a6['input']],_0x1b71a8[_0x14d6a6['output']],_0x14d6a6['interpolat'+'ion'])),_0x14d6a6['paths']['length']>-0x25bf+-0x1643+0x1e01*0x2&&_0x14d6a6['paths'][-0x4f0+-0x18ef+0x1ddf]['propertyPa'+'th'][-0xa32*0x3+0x2515+-0x67f]==='localRotat'+'ion'&&_0x14d6a6['interpolat'+'ion']!==Yu&&_0x44a228['push'](_0x3cb5c4[_0x3cb5c4['length']-(-0x2413+0x17ca+0xc4a)]['output']));}_0x44a228['sort']();let _0x314368=null,_0x6a6b8c;for(_0x382a5e=0xdd*0x2+0x159b+0xb5*-0x21;_0x382a5e<_0x44a228['length'];++_0x382a5e){const _0x42be9b=_0x44a228[_0x382a5e];if(_0x382a5e===-0x2*-0x9fd+-0x6*-0x6+0xa0f*-0x2||_0x42be9b!==_0x314368){if(_0x6a6b8c=_0x4a782f[_0x42be9b],_0x6a6b8c['components']===-0x46d+-0x21ce+0x263f){const _0x3d558a=_0x6a6b8c['data'],_0x5afc6f=_0x3d558a['length']-(0x1*-0x4ee+-0x3b*-0x51+0x3*-0x493);for(let _0x8534c3=-0x1a6+-0x1c91*-0x1+-0x1aeb;_0x8534c3<_0x5afc6f;_0x8534c3+=-0x8*-0x1bf+0x409+-0x11fd)_0x3d558a[_0x8534c3+(0x3e5*0x1+-0x2d*-0x72+-0x17ef)]*_0x3d558a[_0x8534c3+(-0x1*0x16a2+0x3e3*-0x1+0x1a89*0x1)]+_0x3d558a[_0x8534c3+(0x1e33+0x2f1+-0x2123)]*_0x3d558a[_0x8534c3+(-0x1*-0x8f+-0x2c0+-0x1*-0x236)]+_0x3d558a[_0x8534c3+(0xdcd*0x1+0xb77+0x1942*-0x1)]*_0x3d558a[_0x8534c3+(0x23f+-0x866+0x62d)]+_0x3d558a[_0x8534c3+(-0x1*-0x5d4+-0xb5a+0xd*0x6d)]*_0x3d558a[_0x8534c3+(-0x1cfd*-0x1+0x7*0x44f+0x3*-0x13b5)]<-0x2b*0x63+0x23d1+-0x1330&&(_0x3d558a[_0x8534c3+(0x640*-0x2+0xf*-0x4a+0x10da)]*=-(0xa40+-0x16b4+0xc75),_0x3d558a[_0x8534c3+(-0x3d7*-0x1+0x133e+-0x1710)]*=-(-0x20ef+0x1cb9+-0x1*-0x437),_0x3d558a[_0x8534c3+(-0x1529+0x974+0xbbb)]*=-(-0x10*0x225+-0x21f1*-0x1+-0x2*-0x30),_0x3d558a[_0x8534c3+(0x1aa4+-0x1b74+0x2b*0x5)]*=-(-0xb83+-0x5b1+0x1135));}_0x314368=_0x42be9b;}}let _0x57f133=-0x142c+0x1*-0xaef+0x1f1b;for(_0x382a5e=-0xfa5+-0xa90+0x1*0x1a35;_0x382a5e<_0x1af3e9['length'];_0x382a5e++)_0x6a6b8c=_0x1af3e9[_0x382a5e]['_data'],_0x57f133=Math['max'](_0x57f133,_0x6a6b8c['length']===0x1*-0x9c1+0x10f*-0x1+0xad0?0x2*-0xd4e+-0x5d5+0x2071:_0x6a6b8c[_0x6a6b8c['length']-(-0x1*-0x2fb+0x26ad*0x1+-0x29a7)]);return new Ri(_0x1ddaff['hasOwnProp'+'erty']('name')?_0x1ddaff['name']:'animation_'+_0x44e6e8,_0x57f133,_0x1af3e9,_0x4a782f,_0x3cb5c4);},eh=new q(),qn=new T(),qD=(_0x58caa4,_0x20ccbf,_0xccf5b9)=>{const _0x23a14c=new De();if(_0x58caa4['hasOwnProp'+'erty']('name')&&_0x58caa4['name']['length']>0x6*0x1be+-0xcd+-0x9a7*0x1?_0x23a14c['name']=_0x58caa4['name']:_0x23a14c['name']='node_'+_0x20ccbf,_0x58caa4['hasOwnProp'+'erty']('matrix')&&(eh['data']['set'](_0x58caa4['matrix']),eh['getTransla'+'tion'](qn),_0x23a14c['setLocalPo'+'sition'](qn),eh['getEulerAn'+'gles'](qn),_0x23a14c['setLocalEu'+'lerAngles'](qn),eh['getScale'](qn),_0x23a14c['setLocalSc'+'ale'](qn)),_0x58caa4['hasOwnProp'+'erty']('rotation')){const _0x4a300b=_0x58caa4['rotation'];_0x23a14c['setLocalRo'+'tation'](_0x4a300b[-0xb63+0x2*0x1285+-0x19a7],_0x4a300b[-0x23f9+-0xc7*0xd+0x2e15],_0x4a300b[0x358+-0x5*-0x9b+0xb5*-0x9],_0x4a300b[0x1*0x14f7+0x1770+-0x2c64]);}if(_0x58caa4['hasOwnProp'+'erty']('translatio'+'n')){const _0x266ed8=_0x58caa4['translatio'+'n'];_0x23a14c['setLocalPo'+'sition'](_0x266ed8[-0x2cd+0x5ba+-0x2ed],_0x266ed8[0x2*-0xe19+0x1d0d+-0xda],_0x266ed8[0x217f+-0x2389*0x1+-0x1*-0x20c]);}if(_0x58caa4['hasOwnProp'+'erty']('scale')){const _0x52e4fe=_0x58caa4['scale'];_0x23a14c['setLocalSc'+'ale'](_0x52e4fe[0x256*0x8+0x808*0x1+-0x1ab8],_0x52e4fe[-0x10f8+-0x354*-0x2+0xa51],_0x52e4fe[0x1*-0x49d+-0x2*-0x8f6+-0xd4d]);}return _0x58caa4['hasOwnProp'+'erty']('extensions')&&_0x58caa4['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0xccf5b9['set'](_0x58caa4,{'ext':_0x58caa4['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x23a14c;},XD=(_0x44b8dc,_0x544412)=>{const _0xd02326=_0x44b8dc['type']==='orthograph'+'ic'?ua:Gs,_0x1c0018=_0xd02326===ua?_0x44b8dc['orthograph'+'ic']:_0x44b8dc['perspectiv'+'e'],_0x49dfbe={'enabled':!(0xfe5+-0x1738+-0x1*-0x754),'projection':_0xd02326,'nearClip':_0x1c0018['znear'],'aspectRatioMode':Ip};_0x1c0018['zfar']&&(_0x49dfbe['farClip']=_0x1c0018['zfar']),_0xd02326===ua?(_0x49dfbe['orthoHeigh'+'t']=(-0x1527+0x7ed*0x1+-0x1*-0xd3a+0.5)*_0x1c0018['ymag'],_0x1c0018['ymag']&&(_0x49dfbe['aspectRati'+'oMode']=Bu,_0x49dfbe['aspectRati'+'o']=_0x1c0018['xmag']/_0x1c0018['ymag'])):(_0x49dfbe['fov']=_0x1c0018['yfov']*N['RAD_TO_DEG'],_0x1c0018['aspectRati'+'o']&&(_0x49dfbe['aspectRati'+'oMode']=Bu,_0x49dfbe['aspectRati'+'o']=_0x1c0018['aspectRati'+'o']));const _0x399e5e=new We(_0x44b8dc['name']);return _0x399e5e['addCompone'+'nt']('camera',_0x49dfbe),_0x399e5e;},jD=(_0x3ff0f1,_0x4c3acf)=>{const _0x42b95a={'enabled':!(0x32c+-0x71*0x50+0x2025),'type':_0x3ff0f1['type']==='point'?'omni':_0x3ff0f1['type'],'color':_0x3ff0f1['hasOwnProp'+'erty']('color')?new Y(_0x3ff0f1['color']):Y['WHITE'],'range':_0x3ff0f1['hasOwnProp'+'erty']('range')?_0x3ff0f1['range']:0xde*-0x17+0x274f+-0x2*-0x9d9,'falloffMode':$b,'intensity':_0x3ff0f1['hasOwnProp'+'erty']('intensity')?N['clamp'](_0x3ff0f1['intensity'],0x909+-0xd*0x8f+0xe3*-0x2,0x1*0x1fc1+0x35*-0x1f+-0x655*0x4):-0x1d*0x13a+-0x17ab+0x3b3e};_0x3ff0f1['hasOwnProp'+'erty']('spot')&&(_0x42b95a['innerConeA'+'ngle']=_0x3ff0f1['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x3ff0f1['spot']['innerConeA'+'ngle']*N['RAD_TO_DEG']:-0x11f8+0xaff+-0x77*-0xf,_0x42b95a['outerConeA'+'ngle']=_0x3ff0f1['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x3ff0f1['spot']['outerConeA'+'ngle']*N['RAD_TO_DEG']:Math['PI']/(-0x23ee+0x957+0x8b*0x31)),_0x3ff0f1['hasOwnProp'+'erty']('intensity')&&(_0x42b95a['luminance']=_0x3ff0f1['intensity']*zo['getLightUn'+'itConversi'+'on'](Gu[_0x42b95a['type']],_0x42b95a['outerConeA'+'ngle'],_0x42b95a['innerConeA'+'ngle']));const _0x4d8285=new We(_0x4c3acf['name']);return _0x4d8285['rotateLoca'+'l'](0xa16+0x9*0x265+-0x1f49*0x1,0xb*-0x16a+0x153f+-0x5b1,0x23f3+-0x1c45+-0x7ae),_0x4d8285['addCompone'+'nt']('light',_0x42b95a),_0x4d8285;},YD=(_0x5d4fb4,_0x52005f,_0x6194b8,_0x2784fc)=>{if(!_0x52005f['hasOwnProp'+'erty']('skins')||_0x52005f['skins']['length']===-0x18c2*-0x1+0x19f3+-0x32b5)return[];const _0x543338=new Map();return _0x52005f['skins']['map'](_0x2ba494=>ID(_0x5d4fb4,_0x2ba494,_0x52005f['accessors'],_0x2784fc,_0x6194b8,_0x543338));},KD=(_0x5ce2f4,_0xbb2357,_0x3e19c4,_0x5109e0)=>{var _0x264fec,_0x4eeef1,_0x3891d8;const _0x171f73={},_0x61598e={},_0x5f28b7={},_0x1cc30b=[];return{'meshes':!_0x5109e0['skipMeshes']&&((_0x264fec=_0xbb2357==null?void(-0x36c+-0x14b*-0x16+0x2*-0xc83):_0xbb2357['meshes'])==null?void(0x1bb+-0x12c7+0x110c):_0x264fec['length'])&&((_0x4eeef1=_0xbb2357==null?void(-0x2215+-0x4f0+-0x7*-0x593):_0xbb2357['accessors'])==null?void(0xa24+0x18c3*-0x1+-0xe9f*-0x1):_0x4eeef1['length'])&&((_0x3891d8=_0xbb2357==null?void(-0x1a43+-0x2503+0x3f46):_0xbb2357['bufferView'+'s'])==null?void(-0xd1f+-0x61e+0x133d):_0x3891d8['length'])?_0xbb2357['meshes']['map'](_0x24f173=>LD(_0x5ce2f4,_0x24f173,_0xbb2357['accessors'],_0x3e19c4,_0x171f73,_0x61598e,_0x5f28b7,_0x5109e0,_0x1cc30b)):[],'meshVariants':_0x61598e,'meshDefaultMaterials':_0x5f28b7,'promises':_0x1cc30b};},ZD=(_0x485758,_0x1957ae,_0x45073b)=>{var _0xbb6c0c,_0x56fd0b,_0x918042;if(!_0x485758['hasOwnProp'+'erty']('materials')||_0x485758['materials']['length']===-0x2638+0x27a+0x23be)return[];const _0x2be0ac=(_0xbb6c0c=_0x45073b==null?void(-0x190*0x11+-0x959*0x3+0x7*0x7cd):_0x45073b['material'])==null?void(-0x1e1a+0x142*0x4+0x1912):_0xbb6c0c['preprocess'],_0x149fa6=((_0x56fd0b=_0x45073b==null?void(-0x591+0x14b1*0x1+-0xf20):_0x45073b['material'])==null?void(0x19ae+-0x232*-0xe+0x3*-0x12ce):_0x56fd0b['process'])??Dx,_0x1fbf79=(_0x918042=_0x45073b==null?void(0x134+-0x128f+0x5c9*0x3):_0x45073b['material'])==null?void(0x1*0x279+-0x1560+0x64d*0x3):_0x918042['postproces'+'s'];return _0x485758['materials']['map'](_0x55af3b=>{_0x2be0ac&&_0x2be0ac(_0x55af3b);const _0x441748=_0x149fa6(_0x55af3b,_0x1957ae);return _0x1fbf79&&_0x1fbf79(_0x55af3b,_0x441748),_0x441748;});},QD=_0xac3693=>{if(!_0xac3693['hasOwnProp'+'erty']('extensions')||!_0xac3693['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x309d33=_0xac3693['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x11eabb={};for(let _0x3f4884=0x11*-0x119+0x19c6+-0x71d;_0x3f4884<_0x309d33['length'];_0x3f4884++)_0x11eabb[_0x309d33[_0x3f4884]['name']]=_0x3f4884;return _0x11eabb;},JD=(_0x3dd956,_0x1f4e40,_0x320b13,_0x296a8d)=>{var _0x54a951,_0x3e903e;if(!_0x3dd956['hasOwnProp'+'erty']('animations')||_0x3dd956['animations']['length']===0xc1*-0x16+-0x1*-0x2423+-0x7*0x2cb)return[];const _0x489197=(_0x54a951=_0x296a8d==null?void(0xaef*0x3+-0x255f+0x492):_0x296a8d['animation'])==null?void(0x2*-0xba7+-0xa49*0x1+-0x1*-0x2197):_0x54a951['preprocess'],_0x1b3bb9=(_0x3e903e=_0x296a8d==null?void(-0x2b9+-0x19d9*0x1+0x1c92):_0x296a8d['animation'])==null?void(0x19e+0x1157+-0x12f5):_0x3e903e['postproces'+'s'];return _0x3dd956['animations']['map']((_0x49a177,_0x2d8472)=>{_0x489197&&_0x489197(_0x49a177);const _0x1a6063=$D(_0x49a177,_0x2d8472,_0x3dd956['accessors'],_0x320b13,_0x1f4e40,_0x3dd956['meshes'],_0x3dd956['nodes']);return _0x1b3bb9&&_0x1b3bb9(_0x49a177,_0x1a6063),_0x1a6063;});},e2=(_0x5ec1a3,_0x4e68c0,_0x4c0779,_0x3c6b94)=>{const _0x589761=_0x4e68c0['accessors'];_0x4c0779['forEach']((_0x37b85a,_0x532f62)=>{const _0x5cfb98=_0x37b85a['ext']['attributes'];let _0x3a38be;if(_0x5cfb98['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0xa3fb3f=_0x589761[_0x5cfb98['TRANSLATIO'+'N']];_0x3a38be=ma(_0xa3fb3f,_0x3c6b94);}let _0xe5e019;if(_0x5cfb98['hasOwnProp'+'erty']('ROTATION')){const _0x44b67a=_0x589761[_0x5cfb98['ROTATION']];_0xe5e019=ma(_0x44b67a,_0x3c6b94);}let _0x59b534;if(_0x5cfb98['hasOwnProp'+'erty']('SCALE')){const _0x7c9b61=_0x589761[_0x5cfb98['SCALE']];_0x59b534=ma(_0x7c9b61,_0x3c6b94);}const _0x26953f=(_0x3a38be?_0x3a38be['length']/(-0x2b*-0xd3+0x14f5+-0x3863):-0x8*0x1a8+-0x69c+0x13dc)||(_0xe5e019?_0xe5e019['length']/(-0x47e+-0x575+-0x1*-0x9f7):-0xe2*-0x25+0x2f*0x97+-0x3c63)||(_0x59b534?_0x59b534['length']/(0x11e2+0x2419+0x4*-0xd7e):-0xa*-0x151+0x25ca+0x32f4*-0x1);if(_0x26953f){const _0x3da1de=new Float32Array(_0x26953f*(0x1817*-0x1+-0x17f*-0x11+0x2*-0xa4)),_0x53c5f8=new T(),_0x152293=new se(),_0x327bc8=new T(-0x11a3+0x162e+0x7*-0xa6,-0xad*-0x31+-0x1*0x111f+-0x1*0xffd,-0xd5*-0xb+-0x1*-0x20f6+-0x16*0x1ea),_0x136733=new q();let _0x4481b5=-0x43*0x6d+-0x3*-0x295+-0xbe*-0x1c;for(let _0x2ae06c=0x367*0x2+-0xf75+0x8a7;_0x2ae06c<_0x26953f;_0x2ae06c++){const _0x4db3d0=_0x2ae06c*(-0x2233+-0x2*-0xd3f+0x3dc*0x2);if(_0x3a38be&&_0x53c5f8['set'](_0x3a38be[_0x4db3d0],_0x3a38be[_0x4db3d0+(-0x19e6+0x1a89+-0x2*0x51)],_0x3a38be[_0x4db3d0+(-0x2fa*0x4+-0x257f+0x3169)]),_0xe5e019){const _0x4e1541=_0x2ae06c*(0x1*-0x249+-0x1*0xa4e+0x7*0x1cd);_0x152293['set'](_0xe5e019[_0x4e1541],_0xe5e019[_0x4e1541+(0x8a4*0x1+-0x568+0x1*-0x33b)],_0xe5e019[_0x4e1541+(-0xe25+-0x2ff+0x1126)],_0xe5e019[_0x4e1541+(-0x9c+0x2*0xd5d+-0x1a1b)]);}_0x59b534&&_0x327bc8['set'](_0x59b534[_0x4db3d0],_0x59b534[_0x4db3d0+(-0x1*0x20ca+-0x2a7+0x2372)],_0x59b534[_0x4db3d0+(-0x1*0x25cc+0x10d7+0x14f7*0x1)]),_0x136733['setTRS'](_0x53c5f8,_0x152293,_0x327bc8);for(let _0xd967bb=-0xda7+0x20a2+-0x71*0x2b;_0xd967bb<0x37*0x41+-0xec+-0x1*0xcfb;_0xd967bb++)_0x3da1de[_0x4481b5++]=_0x136733['data'][_0xd967bb];}_0x37b85a['matrices']=_0x3da1de;}});},t2=(_0x437e3b,_0x4524b9,_0x58af2a)=>{var _0x2bd7a2,_0x41f76a,_0x1693e2;if(!_0x437e3b['hasOwnProp'+'erty']('nodes')||_0x437e3b['nodes']['length']===-0x1250+0x15b*0xb+0x367)return[];const _0x3c2a16=(_0x2bd7a2=_0x4524b9==null?void(0x2657+0x2531+-0x4b88):_0x4524b9['node'])==null?void(0x1*0x255d+-0x12*0x184+0x59*-0x1d):_0x2bd7a2['preprocess'],_0x2b0cd0=((_0x41f76a=_0x4524b9==null?void(0x12f*0x18+0x1de5*-0x1+0x17d):_0x4524b9['node'])==null?void(-0x1a7*0xd+0x230*0x5+0xa8b):_0x41f76a['process'])??qD,_0x18ec00=(_0x1693e2=_0x4524b9==null?void(0xf9+-0x1cc4+-0x5*-0x58f):_0x4524b9['node'])==null?void(0xc61+0x7ca+0x142b*-0x1):_0x1693e2['postproces'+'s'],_0x2d31cd=_0x437e3b['nodes']['map']((_0x3bb4af,_0x30a263)=>{_0x3c2a16&&_0x3c2a16(_0x3bb4af);const _0x1a7ef2=_0x2b0cd0(_0x3bb4af,_0x30a263,_0x58af2a);return _0x18ec00&&_0x18ec00(_0x3bb4af,_0x1a7ef2),_0x1a7ef2;});for(let _0x17579f=-0x4*-0x623+0x1c*0xf1+-0x43e*0xc;_0x17579f<_0x437e3b['nodes']['length'];++_0x17579f){const _0x51c019=_0x437e3b['nodes'][_0x17579f];if(_0x51c019['hasOwnProp'+'erty']('children')){const _0x448fc5=_0x2d31cd[_0x17579f],_0x1066bf={};for(let _0x2c6210=-0x5*0x2d4+0x1b8d+-0xd69;_0x2c6210<_0x51c019['children']['length'];++_0x2c6210){const _0x36d50c=_0x2d31cd[_0x51c019['children'][_0x2c6210]];_0x36d50c['parent']||(_0x1066bf['hasOwnProp'+'erty'](_0x36d50c['name'])?_0x36d50c['name']+=_0x1066bf[_0x36d50c['name']]++:_0x1066bf[_0x36d50c['name']]=0x20*0xa9+-0x1687+-0x9*-0x28,_0x448fc5['addChild'](_0x36d50c));}}}return _0x2d31cd;},s2=(_0x433187,_0x32d092)=>{var _0x449498;const _0x55f188=[],_0x132ae7=_0x433187['scenes']['length'];if(_0x132ae7===-0xc8f+0x67b*-0x1+0x177*0xd&&((_0x449498=_0x433187['scenes'][0x3*0x5a8+0x383*-0x1+-0x1*0xd75]['nodes'])==null?void(-0x1db2+0x329*-0x6+0xc2a*0x4):_0x449498['length'])===0x31a*0x2+-0x16*-0x141+-0xb43*0x3){const _0x4722b4=_0x433187['scenes'][-0x937+0x444+-0x7*-0xb5]['nodes'][0x1e4b+0x1f68+0x1*-0x3db3];_0x55f188['push'](_0x32d092[_0x4722b4]);}else for(let _0x499739=-0x230c*0x1+-0xe37+0x3143*0x1;_0x499739<_0x132ae7;_0x499739++){const _0x1b874e=_0x433187['scenes'][_0x499739];if(_0x1b874e['nodes']){const _0x18f7e9=new De(_0x1b874e['name']);for(let _0x23bcf9=-0x21+0x2*-0x4f5+0xa0b;_0x23bcf9<_0x1b874e['nodes']['length'];_0x23bcf9++){const _0x4680ff=_0x32d092[_0x1b874e['nodes'][_0x23bcf9]];_0x18f7e9['addChild'](_0x4680ff);}_0x55f188['push'](_0x18f7e9);}}return _0x55f188;},i2=(_0x2d912c,_0x566ca1,_0x4621d5)=>{var _0x5ea27c,_0x4eebf8,_0x8161c6;let _0x20acb0=null;if(_0x2d912c['hasOwnProp'+'erty']('nodes')&&_0x2d912c['hasOwnProp'+'erty']('cameras')&&_0x2d912c['cameras']['length']>-0x1e9+0x1*-0x1b79+0x1d62){const _0x1a5cb1=(_0x5ea27c=_0x4621d5==null?void(-0x3f*0x72+-0xf1c*-0x1+-0x679*-0x2):_0x4621d5['camera'])==null?void(-0x8ef*0x4+-0x159b*0x1+0x3957):_0x5ea27c['preprocess'],_0x1c64c8=((_0x4eebf8=_0x4621d5==null?void(0x1*-0x2e3+-0xa56+0xd39*0x1):_0x4621d5['camera'])==null?void(-0xd*0x2e7+-0x1f0*0x1+-0xd39*-0x3):_0x4eebf8['process'])??XD,_0x1d242d=(_0x8161c6=_0x4621d5==null?void(0x1cb5+-0x2269+0x5b4):_0x4621d5['camera'])==null?void(-0x15*0x167+0x1*0x141a+0x1*0x959):_0x8161c6['postproces'+'s'];_0x2d912c['nodes']['forEach']((_0x43c18c,_0x5bbfc9)=>{if(_0x43c18c['hasOwnProp'+'erty']('camera')){const _0x33467e=_0x2d912c['cameras'][_0x43c18c['camera']];if(_0x33467e){_0x1a5cb1&&_0x1a5cb1(_0x33467e);const _0x15bee8=_0x1c64c8(_0x33467e,_0x566ca1[_0x5bbfc9]);_0x1d242d&&_0x1d242d(_0x33467e,_0x15bee8),_0x15bee8&&(_0x20acb0||(_0x20acb0=new Map()),_0x20acb0['set'](_0x43c18c,_0x15bee8));}}});}return _0x20acb0;},r2=(_0x112b8a,_0x552acb,_0x40b45c)=>{var _0x1a6d61,_0x31783e,_0x5f3094;let _0x4788c7=null;if(_0x112b8a['hasOwnProp'+'erty']('nodes')&&_0x112b8a['hasOwnProp'+'erty']('extensions')&&_0x112b8a['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x112b8a['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x559ad7=_0x112b8a['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x559ad7['length']){const _0x2c2850=(_0x1a6d61=_0x40b45c==null?void(-0x2625+-0x5*-0x147+0xa96*0x3):_0x40b45c['light'])==null?void(0xcab+-0x1*0x7bb+-0x4f0):_0x1a6d61['preprocess'],_0x327e16=((_0x31783e=_0x40b45c==null?void(-0x936+0x1b36+0x180*-0xc):_0x40b45c['light'])==null?void(0x473*0x1+-0x22cb+0x1e58):_0x31783e['process'])??jD,_0x77c563=(_0x5f3094=_0x40b45c==null?void(-0x103+0x15ff+0x1*-0x14fc):_0x40b45c['light'])==null?void(-0x51f+0x5c6+-0xa7):_0x5f3094['postproces'+'s'];_0x112b8a['nodes']['forEach']((_0x5e0a94,_0x37e0c1)=>{if(_0x5e0a94['hasOwnProp'+'erty']('extensions')&&_0x5e0a94['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x5e0a94['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x57a37d=_0x5e0a94['extensions']['KHR_lights'+'_punctual']['light'],_0x17c169=_0x559ad7[_0x57a37d];if(_0x17c169){_0x2c2850&&_0x2c2850(_0x17c169);const _0x3965d5=_0x327e16(_0x17c169,_0x552acb[_0x37e0c1]);_0x77c563&&_0x77c563(_0x17c169,_0x3965d5),_0x3965d5&&(_0x4788c7||(_0x4788c7=new Map()),_0x4788c7['set'](_0x5e0a94,_0x3965d5));}}});}}return _0x4788c7;},n2=(_0x17cf06,_0x1c8df8,_0x1c9429)=>{_0x17cf06['nodes']['forEach'](_0x8e8169=>{_0x8e8169['hasOwnProp'+'erty']('mesh')&&_0x8e8169['hasOwnProp'+'erty']('skin')&&_0x1c8df8[_0x8e8169['mesh']]['meshes']['forEach'](_0x574108=>{_0x574108['skin']=_0x1c9429[_0x8e8169['skin']];});});},a2=async(_0x682708,_0x3da575,_0x1916bd,_0x119e65,_0x4bd69f)=>{var _0x5343c6,_0x5c3383;const _0x539eac=(_0x5343c6=_0x4bd69f==null?void(-0x3*-0x855+-0x1143+-0x4*0x1ef):_0x4bd69f['global'])==null?void(0x1*0x1795+0x20e*0x5+-0x1*0x21db):_0x5343c6['preprocess'],_0x4bb260=(_0x5c3383=_0x4bd69f==null?void(0x57*-0x33+0x1eba+-0x7f*0x1b):_0x4bd69f['global'])==null?void(0xf5c+-0x566*-0x5+-0x3*0xe1e):_0x5c3383['postproces'+'s'];_0x539eac&&_0x539eac(_0x3da575),_0x3da575['asset']&&_0x3da575['asset']['generator']==='PlayCanvas'&&v['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x3629fe=new Map(),_0x209c16=t2(_0x3da575,_0x4bd69f,_0x3629fe),_0x251fe7=s2(_0x3da575,_0x209c16),_0x2c5d44=r2(_0x3da575,_0x209c16,_0x4bd69f),_0x34ec41=i2(_0x3da575,_0x209c16,_0x4bd69f),_0x15a92f=QD(_0x3da575),_0x3bc902=await Promise['all'](_0x1916bd),{meshes:_0x1b9e62,meshVariants:_0x466e12,meshDefaultMaterials:_0x1118d9,promises:_0x497d81}=KD(_0x682708,_0x3da575,_0x3bc902,_0x4bd69f),_0x4bc237=JD(_0x3da575,_0x209c16,_0x3bc902,_0x4bd69f);e2(_0x682708,_0x3da575,_0x3629fe,_0x3bc902);const _0x5a9a52=await Promise['all'](_0x119e65),_0x335a4c=_0x5a9a52['map'](_0x590991=>_0x590991['resource']),_0x218ef6=ZD(_0x3da575,_0x335a4c,_0x4bd69f),_0x5be6b2=YD(_0x682708,_0x3da575,_0x209c16,_0x3bc902),_0x484ac7=[];for(let _0x1e8142=-0x2611+-0x1b0*-0x14+0x451*0x1;_0x1e8142<_0x1b9e62['length'];_0x1e8142++)_0x484ac7[_0x1e8142]=new Hp(),_0x484ac7[_0x1e8142]['meshes']=_0x1b9e62[_0x1e8142];n2(_0x3da575,_0x484ac7,_0x5be6b2);const _0x41c475=new SD();return _0x41c475['gltf']=_0x3da575,_0x41c475['nodes']=_0x209c16,_0x41c475['scenes']=_0x251fe7,_0x41c475['animations']=_0x4bc237,_0x41c475['textures']=_0x5a9a52,_0x41c475['materials']=_0x218ef6,_0x41c475['variants']=_0x15a92f,_0x41c475['meshVarian'+'ts']=_0x466e12,_0x41c475['meshDefaul'+'tMaterials']=_0x1118d9,_0x41c475['renders']=_0x484ac7,_0x41c475['skins']=_0x5be6b2,_0x41c475['lights']=_0x2c5d44,_0x41c475['cameras']=_0x34ec41,_0x41c475['nodeInstan'+'cingMap']=_0x3629fe,_0x4bb260&&_0x4bb260(_0x3da575,_0x41c475),await Promise['all'](_0x497d81),_0x41c475;},o2=(_0x3b1fa3,_0x31d1bc)=>{const _0x1ffdac=(_0x22655d,_0x5e5d8d)=>{switch(_0x22655d){case 0x1*0x3533+-0x465b+0x28*0x161:return de;case-0x2285+0x31ea*-0x1+0x7a70:return st;case-0x2ae2+-0x350d+0x1*0x86ef:return fc;case 0x25e3+0x282*-0x3+0x8a4:return mc;case 0x107*-0x1f+-0x1d1b+0x63f6:return pc;case-0x1*0x2605+-0x43*0x91+0x72fb:return nn;default:return _0x5e5d8d;}},_0x441420=(_0x20b43e,_0x49415e)=>{switch(_0x20b43e){case-0xb35*0x7+0xc*0x26+0x449e*0x3:return ae;case-0x43d8+-0x1af*0x25+0xf63*0x11:return Of;case 0x1*0xfad+-0x2575+-0x1*-0x3ec9:return tt;default:return _0x49415e;}};_0x3b1fa3&&(_0x31d1bc=_0x31d1bc??{},_0x3b1fa3['minFilter']=_0x1ffdac(_0x31d1bc['minFilter'],nn),_0x3b1fa3['magFilter']=_0x1ffdac(_0x31d1bc['magFilter'],st),_0x3b1fa3['addressU']=_0x441420(_0x31d1bc['wrapS'],tt),_0x3b1fa3['addressV']=_0x441420(_0x31d1bc['wrapT'],tt));};let l2=-0x1*0x9d+-0xa11+0xaae;const vf=_0xe435be=>{var _0x4ee838,_0x1acbb1,_0x17e6e8,_0x5330f9;return((_0x1acbb1=(_0x4ee838=_0xe435be['extensions'])==null?void(-0x773*-0x1+-0x67*-0x51+-0x52*0x7d):_0x4ee838['KHR_textur'+'e_basisu'])==null?void(0x9ac+-0x23b*0x7+0x5f1):_0x1acbb1['source'])??((_0x5330f9=(_0x17e6e8=_0xe435be['extensions'])==null?void(0x1c40+0x1a96+-0x36d6):_0x17e6e8['EXT_textur'+'e_webp'])==null?void(0x9a8+-0x1*0x2521+0x1b79):_0x5330f9['source'])??_0xe435be['source'];},h2=(_0x5c769a,_0x3fd4d7,_0x563129,_0x275090,_0x403c2b)=>{var _0x379896,_0x82582e,_0x25cf18;if(!_0x5c769a['images']||_0x5c769a['images']['length']===0x2199+-0x4aa+0x337*-0x9)return[];const _0x410a5c=(_0x379896=_0x403c2b==null?void(-0x349+0x240c*-0x1+0x2755):_0x403c2b['image'])==null?void(0x1c56+0x11d9+-0x3*0xf65):_0x379896['preprocess'],_0x59ee28=(_0x82582e=_0x403c2b==null?void(0x1a58+0x2b*0x3+-0x1ad9):_0x403c2b['image'])==null?void(-0x26d+0x8ef*0x1+-0x682):_0x82582e['processAsy'+'nc'],_0x2d3a0f=(_0x25cf18=_0x403c2b==null?void(-0x6*-0x5d+0x5f2+-0x104*0x8):_0x403c2b['image'])==null?void(-0x1237+-0xca3+-0x2*-0xf6d):_0x25cf18['postproces'+'s'],_0x1d5f04={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x52fa0f=_0x5eb387=>{const _0x13fbd2=new Set();return _0x5eb387['hasOwnProp'+'erty']('materials')&&_0x5eb387['materials']['forEach'](_0x99c5c=>{if(_0x99c5c['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x3610e3=_0x99c5c['pbrMetalli'+'cRoughness'];if(_0x3610e3['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x3a263a=_0x5eb387['textures'][_0x3610e3['baseColorT'+'exture']['index']];_0x13fbd2['add'](vf(_0x3a263a));}}if(_0x99c5c['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x3fdde6=_0x5eb387['textures'][_0x99c5c['emissiveTe'+'xture']['index']];_0x13fbd2['add'](vf(_0x3fdde6));}}),_0x13fbd2;},_0x450fba=(_0x68688c,_0x3377c6,_0x6fb45b,_0x478446,_0x39e8b8,_0x32ae6a)=>new Promise((_0x7bc16b,_0xa92a76)=>{const _0x2642d3=_0x302120=>{const _0x3bd756=(_0x68688c['name']||'gltf-textu'+'re')+'-'+l2++,_0x5a7755={'url':_0x3377c6||_0x3bd756};if(_0x302120&&(_0x5a7755['contents']=_0x302120['slice'](0x1b43+-0x1f14*0x1+0x3d1)['buffer']),_0x478446){const _0x20b6a7=_0x1d5f04[_0x478446];_0x20b6a7&&(_0x5a7755['filename']=_0x5a7755['url']+'.'+_0x20b6a7);}const _0x47cbae={'srgb':_0x32ae6a},_0x280367=new le(_0x3bd756,'texture',_0x5a7755,_0x47cbae,_0x39e8b8);_0x280367['on']('load',_0x159980=>_0x7bc16b(_0x159980)),_0x280367['on']('error',_0x48727d=>_0xa92a76(_0x48727d)),_0x275090['add'](_0x280367),_0x275090['load'](_0x280367);};_0x6fb45b?_0x6fb45b['then'](_0x3a3032=>_0x2642d3(_0x3a3032)):_0x2642d3(null);}),_0x1d57c5=_0x52fa0f(_0x5c769a);return _0x5c769a['images']['map']((_0x5acb86,_0xb7531e)=>{_0x410a5c&&_0x410a5c(_0x5acb86);let _0x414b4b;return _0x59ee28?_0x414b4b=new Promise((_0x518388,_0x3b05e9)=>{_0x59ee28(_0x5acb86,(_0x41eae2,_0x43b03e)=>{_0x41eae2?_0x3b05e9(_0x41eae2):_0x518388(_0x43b03e);});}):_0x414b4b=new Promise(_0xc0fc2=>{_0xc0fc2(null);}),_0x414b4b=_0x414b4b['then'](_0x46f294=>{const _0x5f2dd=_0x1d57c5['has'](_0xb7531e);return _0x46f294||(_0x5acb86['hasOwnProp'+'erty']('uri')?Rx(_0x5acb86['uri'])?_0x450fba(_0x5acb86,_0x5acb86['uri'],null,vD(_0x5acb86['uri']),null,_0x5f2dd):_0x450fba(_0x5acb86,Da['test'](_0x5acb86['uri'])?_0x5acb86['uri']:fe['join'](_0x563129,_0x5acb86['uri']),null,null,{'crossOrigin':'anonymous'},_0x5f2dd):_0x5acb86['hasOwnProp'+'erty']('bufferView')&&_0x5acb86['hasOwnProp'+'erty']('mimeType')?_0x450fba(_0x5acb86,null,_0x3fd4d7[_0x5acb86['bufferView']],_0x5acb86['mimeType'],null,_0x5f2dd):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0xb7531e)));}),_0x2d3a0f&&(_0x414b4b=_0x414b4b['then'](_0x55f6c2=>(_0x2d3a0f(_0x5acb86,_0x55f6c2),_0x55f6c2))),_0x414b4b;});},c2=(_0x5503f7,_0x45ac43,_0x4f5d40)=>{var _0x5ea777,_0x2342f1,_0x568011,_0x461625,_0x12587f;if(!((_0x5ea777=_0x5503f7==null?void(-0x1*-0x1ecd+0xd6+-0x1fa3):_0x5503f7['images'])!=null&&_0x5ea777['length'])||!((_0x2342f1=_0x5503f7==null?void(-0x1*0x1bb5+0x1*0x909+0x4ab*0x4):_0x5503f7['textures'])!=null&&_0x2342f1['length']))return[];const _0x48481d=(_0x568011=_0x4f5d40==null?void(-0x5*-0x382+0x349*-0x4+-0x466):_0x4f5d40['texture'])==null?void(0x2*0x6c7+0x143c+-0x6c2*0x5):_0x568011['preprocess'],_0x1de694=(_0x461625=_0x4f5d40==null?void(-0x1*-0x5b+0x1d09*0x1+-0xc*0x273):_0x4f5d40['texture'])==null?void(-0x18b+0x1343*-0x1+-0x2*-0xa67):_0x461625['processAsy'+'nc'],_0x1bd066=(_0x12587f=_0x4f5d40==null?void(0x24f7+-0x186c+-0xc8b):_0x4f5d40['texture'])==null?void(0x1ac4+0x19ae+-0xe*0x3bf):_0x12587f['postproces'+'s'],_0x1930b1=new Set();return _0x5503f7['textures']['map'](_0x4f7ab4=>{_0x48481d&&_0x48481d(_0x4f7ab4);let _0x543749;return _0x1de694?_0x543749=new Promise((_0x453758,_0x32ede4)=>{_0x1de694(_0x4f7ab4,_0x5503f7['images'],(_0x42d48d,_0x1e50d9)=>{_0x42d48d?_0x32ede4(_0x42d48d):_0x453758(_0x1e50d9);});}):_0x543749=new Promise(_0x2b000a=>{_0x2b000a(null);}),_0x543749=_0x543749['then'](_0x328204=>{_0x328204=_0x328204??vf(_0x4f7ab4);const _0x5a181e=_0x1930b1['has'](_0x328204);return _0x1930b1['add'](_0x328204),_0x45ac43[_0x328204]['then'](_0x4a9020=>{const _0xe249ef=_0x5a181e?MD(_0x4a9020):_0x4a9020;return o2(_0xe249ef['resource'],(_0x5503f7['samplers']??[])[_0x4f7ab4['sampler']]),_0xe249ef;});}),_0x1bd066&&(_0x543749=_0x543749['then'](_0x15e883=>(_0x1bd066(_0x4f7ab4,_0x15e883),_0x15e883))),_0x543749;});},d2=(_0xc18b59,_0x281372,_0x47508a,_0x3d3329)=>{var _0x24137e,_0x394019,_0x59b514;if(!_0xc18b59['buffers']||_0xc18b59['buffers']['length']===-0x1956+-0x8c*-0x5+0xb*0x20e)return[];const _0x1229e9=(_0x24137e=_0x3d3329==null?void(-0x2398+-0x6*0x4b3+0x3fca):_0x3d3329['buffer'])==null?void(0x32*-0x8e+-0x93b+0x24f7):_0x24137e['preprocess'],_0x582192=(_0x394019=_0x3d3329==null?void(-0x19*0x7d+0x4c0+0x775):_0x3d3329['buffer'])==null?void(0x15*-0x125+-0x1b*-0x111+-0x57*0xe):_0x394019['processAsy'+'nc'],_0xd9bdfd=(_0x59b514=_0x3d3329==null?void(0x2274+0x1e1c+-0x4090):_0x3d3329['buffer'])==null?void(-0x1f*-0xe3+-0x2*-0x1189+0xc83*-0x5):_0x59b514['postproces'+'s'];return _0xc18b59['buffers']['map']((_0x59d5e8,_0x59f6be)=>{_0x1229e9&&_0x1229e9(_0x59d5e8);let _0x41046a;return _0x582192?_0x41046a=new Promise((_0x216b92,_0x1ca4dc)=>{_0x582192(_0x59d5e8,(_0x17e3c4,_0x3317e7)=>{_0x17e3c4?_0x1ca4dc(_0x17e3c4):_0x216b92(_0x3317e7);});}):_0x41046a=new Promise(_0x4d8641=>{_0x4d8641(null);}),_0x41046a=_0x41046a['then'](_0x24e8ba=>{if(_0x24e8ba)return _0x24e8ba;if(_0x59d5e8['hasOwnProp'+'erty']('uri')){if(Rx(_0x59d5e8['uri'])){const _0x32647d=atob(_0x59d5e8['uri']['split'](',')[0x1b0b+0x1080+-0x2b8a]),_0x5640e5=new Uint8Array(_0x32647d['length']);for(let _0xa4a6a2=0x20c*-0xa+-0x1304+0x277c;_0xa4a6a2<_0x32647d['length'];_0xa4a6a2++)_0x5640e5[_0xa4a6a2]=_0x32647d['charCodeAt'](_0xa4a6a2);return _0x5640e5;}return new Promise((_0x27692e,_0xc48965)=>{$e['get'](Da['test'](_0x59d5e8['uri'])?_0x59d5e8['uri']:fe['join'](_0x47508a,_0x59d5e8['uri']),{'cache':!(-0x3b*0x97+-0x54f+0x2*0x140e),'responseType':'arraybuffe'+'r','retry':!(-0x8*0x3d+-0x551+0x73a)},(_0x73a6cc,_0x466f00)=>{_0x73a6cc?_0xc48965(_0x73a6cc):_0x27692e(new Uint8Array(_0x466f00));});});}return _0x281372;}),_0xd9bdfd&&(_0x41046a=_0x41046a['then'](_0x307ced=>(_0xd9bdfd(_0xc18b59['buffers'][_0x59f6be],_0x307ced),_0x307ced))),_0x41046a;});},u2=(_0x1a1b25,_0x49b388)=>{const _0x3ac54e=JSON['parse']((_0x1e9d54=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x1e9d54);let _0x58c329='';for(let _0x184bc0=-0x17bc+0x1*0xa99+0x13*0xb1;_0x184bc0<_0x1e9d54['length'];_0x184bc0++)_0x58c329+=String['fromCharCo'+'de'](_0x1e9d54[_0x184bc0]);return decodeURIComponent(escape(_0x58c329));})(_0x1a1b25));if(_0x3ac54e['asset']&&_0x3ac54e['asset']['version']&&parseFloat(_0x3ac54e['asset']['version'])<0x2d*0x11+-0xd24+-0x11*-0x99){_0x49b388('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x3ac54e['asset']['version']+'\x27.');return;}_0x49b388(null,_0x3ac54e);},f2=(_0x152fe2,_0x464103)=>{const _0x2ae294=_0x152fe2 instanceof ArrayBuffer?new DataView(_0x152fe2):new DataView(_0x152fe2['buffer'],_0x152fe2['byteOffset'],_0x152fe2['byteLength']),_0x2086ee=_0x2ae294['getUint32'](0x3e*-0x4f+0x33b+0xfe7,!(0x122f+-0x1*0x2572+0x1343)),_0x125f70=_0x2ae294['getUint32'](-0xc78+0x142c+-0x7b0,!(-0xdd5+-0x1e0f+0x2be4)),_0x371b75=_0x2ae294['getUint32'](-0x34*-0xbf+0x26c3+-0x4d87,!(-0x1*0x4e1+0xb1*0x32+-0x1*0x1db1));if(_0x2086ee!==-0x853c*-0x7077+0x3c025e17*-0x1+0x47ce9b9a*0x1){_0x464103('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x2086ee['toString'](-0x253c+-0x1387+0x38d3));return;}if(_0x125f70!==-0x5d*-0x38+0x107*0x1+0x71f*-0x3){_0x464103('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x125f70);return;}if(_0x371b75<=-0x524+0x1308+-0x6f2*0x2||_0x371b75>_0x2ae294['byteLength']){_0x464103('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x371b75);return;}const _0x25a6fc=[];let _0x30ac53=-0x826+-0x1*0x5a1+-0x1*-0xdd3;for(;_0x30ac53<_0x371b75;){const _0x10704b=_0x2ae294['getUint32'](_0x30ac53,!(0x1f16+0x156d+-0x3483));_0x30ac53+_0x10704b+(-0xe4e+0x2162+-0x5c*0x35)>_0x2ae294['byteLength']&&_0x464103('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x10704b);const _0x44b3eb=_0x2ae294['getUint32'](_0x30ac53+(-0x1e*0x13a+-0xda6+-0x3*-0x10d2),!(0x1f45+0x1213+-0x3158)),_0x1906e3=new Uint8Array(_0x2ae294['buffer'],_0x2ae294['byteOffset']+_0x30ac53+(-0xa2c+-0x1369+0x1d9d),_0x10704b);_0x25a6fc['push']({'length':_0x10704b,'type':_0x44b3eb,'data':_0x1906e3}),_0x30ac53+=_0x10704b+(-0x5c9+0x1*0x24e2+-0x1f11);}if(_0x25a6fc['length']!==-0x1c57+0x5*0x451+0x6c3&&_0x25a6fc['length']!==-0x10e3+0x1*0x2479+0x1c*-0xb3){_0x464103('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x25a6fc[0x81*-0x3e+-0x15a8*0x1+0x34e6]['type']!==-0x87e50*0xd70+0x6c7*0x168255+0x27e35837){_0x464103('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x25a6fc[-0xc92+0x203b+0x13a9*-0x1]['type']['toString'](0x21d6+0xc7d+-0x38f*0xd));return;}if(_0x25a6fc['length']>0x17*0x93+0x13bc+-0x20f0&&_0x25a6fc[-0x3*0x83f+-0x22*-0x86+0xfe*0x7]['type']!==-0x419825+-0x8f43bf+0x11f2526){_0x464103('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x25a6fc[0xe45+-0x2581*-0x1+0x33c5*-0x1]['type']['toString'](0x6*-0x4f0+0x6*0x5c1+-0x4d6));return;}_0x464103(null,{'gltfChunk':_0x25a6fc[-0x1f13+0x132a+0xbe9]['data'],'binaryChunk':_0x25a6fc['length']===0x1d69+0xfc8+-0x1*0x2d2f?_0x25a6fc[-0x2ad*0x5+-0x22a6*-0x1+0xaa2*-0x2]['data']:null});},p2=(_0x4eaa6d,_0x6326c6,_0x4315d4)=>{const _0x1f6fa4=()=>{const _0x4fb715=new Uint8Array(_0x6326c6);return _0x4fb715[-0x4*0x257+-0xba*-0x2f+-0x18ca]===-0x4*-0x4c6+-0x335*0xc+0x13cb&&_0x4fb715[0xd7f+0x347+-0x10c5]===-0xb81+-0x189c+0xc7*0x2f&&_0x4fb715[0x2*-0x2f6+-0x692*0x4+0x2036]===0x1*-0x1a4b+0x62*-0x41+0x112b*0x3&&_0x4fb715[-0x568*0x1+-0x4f*0x49+0x7*0x3fe]===0x26da*-0x1+-0x1*-0x1193+0x158d;};_0x4eaa6d&&_0x4eaa6d['toLowerCas'+'e']()['endsWith']('.glb')||_0x1f6fa4()?f2(_0x6326c6,_0x4315d4):_0x4315d4(null,{'gltfChunk':_0x6326c6,'binaryChunk':null});},m2=(_0x11a021,_0x534eef,_0x2ae3a3)=>{var _0x2c9976,_0x567126,_0x1e33c4,_0x1195c0;const _0x109005=[],_0x1e3633=(_0x2c9976=_0x2ae3a3==null?void(0x2da+-0x1*-0x1951+0x1c2b*-0x1):_0x2ae3a3['bufferView'])==null?void(-0x1e32+0x1ef6+0x7*-0x1c):_0x2c9976['preprocess'],_0x328e6f=(_0x567126=_0x2ae3a3==null?void(-0xe4b*-0x1+0x1*-0x14e7+0x69c):_0x2ae3a3['bufferView'])==null?void(0x1053+0x660+-0x16b3):_0x567126['processAsy'+'nc'],_0x38552d=(_0x1e33c4=_0x2ae3a3==null?void(-0x1800+0xeeb+0x3*0x307):_0x2ae3a3['bufferView'])==null?void(0x69*0x26+0x180a+-0x27a*0x10):_0x1e33c4['postproces'+'s'];if(!((_0x1195c0=_0x11a021['bufferView'+'s'])!=null&&_0x1195c0['length']))return _0x109005;for(let _0x1d660b=-0x2b*0x73+-0x1f21+0x1*0x3272;_0x1d660b<_0x11a021['bufferView'+'s']['length'];++_0x1d660b){const _0x1caa3f=_0x11a021['bufferView'+'s'][_0x1d660b];_0x1e3633&&_0x1e3633(_0x1caa3f);let _0x1aee83;_0x328e6f?_0x1aee83=new Promise((_0x19add5,_0xffc123)=>{_0x328e6f(_0x1caa3f,_0x534eef,(_0x3fa013,_0x83b1f3)=>{_0x3fa013?_0xffc123(_0x3fa013):_0x19add5(_0x83b1f3);});}):_0x1aee83=new Promise(_0x3bddf9=>{_0x3bddf9(null);}),_0x1aee83=_0x1aee83['then'](_0x53908c=>_0x53908c||_0x534eef[_0x1caa3f['buffer']]['then'](_0x43a0fb=>new Uint8Array(_0x43a0fb['buffer'],_0x43a0fb['byteOffset']+(_0x1caa3f['byteOffset']||-0x54+0x1*0x1097+0xb5*-0x17),_0x1caa3f['byteLength']))),_0x1caa3f['hasOwnProp'+'erty']('byteStride')&&(_0x1aee83=_0x1aee83['then'](_0x168c85=>(_0x168c85['byteStride']=_0x1caa3f['byteStride'],_0x168c85))),_0x38552d&&(_0x1aee83=_0x1aee83['then'](_0x3ea7fe=>(_0x38552d(_0x1caa3f,_0x3ea7fe),_0x3ea7fe))),_0x109005['push'](_0x1aee83);}return _0x109005;};class tc{static['parse'](_0x475316,_0x5503a4,_0x2b287f,_0x6b6acd,_0x452216,_0x204c0c,_0x508470){p2(_0x475316,_0x2b287f,(_0x3fae54,_0x343d34)=>{if(_0x3fae54){_0x508470(_0x3fae54);return;}u2(_0x343d34['gltfChunk'],(_0x3ffb98,_0x4dc5a4)=>{if(_0x3ffb98){_0x508470(_0x3ffb98);return;}const _0x490f8f=d2(_0x4dc5a4,_0x343d34['binaryChun'+'k'],_0x5503a4,_0x204c0c),_0x357f1a=m2(_0x4dc5a4,_0x490f8f,_0x204c0c),_0xcf2c=h2(_0x4dc5a4,_0x357f1a,_0x5503a4,_0x452216,_0x204c0c),_0x5b3510=c2(_0x4dc5a4,_0xcf2c,_0x204c0c);a2(_0x6b6acd,_0x4dc5a4,_0x357f1a,_0x5b3510,_0x204c0c)['then'](_0x1dcbfc=>_0x508470(null,_0x1dcbfc))['catch'](_0x5e0d2f=>_0x508470(_0x5e0d2f));});});}static['createDefa'+'ultMateria'+'l'](){return Dx({'name':'defaultGlb'+'Material'},[]);}}class _2 extends Ne{constructor(_0x1a2325){super(_0x1a2325,'animation'),this['device']=_0x1a2325['graphicsDe'+'vice'],this['assets']=_0x1a2325['assets'];}['load'](_0x461abc,_0x10866a,_0x503f42){typeof _0x461abc=='string'&&(_0x461abc={'load':_0x461abc,'original':_0x461abc});const _0x5d7bbc={'retry':this['maxRetries']>-0x458*0x5+0xf4d*-0x1+0x2d9*0xd,'maxRetries':this['maxRetries']};(_0x461abc['load']['startsWith']('blob:')||_0x461abc['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0x461abc['original'])['toLowerCas'+'e']()==='.glb'?_0x5d7bbc['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x5d7bbc['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x461abc['load'],_0x5d7bbc,(_0x50ed83,_0x188fa6)=>{_0x50ed83?_0x10866a('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x461abc['original']+'\x20['+_0x50ed83+']'):fe['getExtensi'+'on'](_0x461abc['original'])['toLowerCas'+'e']()==='.glb'?tc['parse']('filename.g'+'lb','',_0x188fa6,this['device'],this['assets'],(_0x503f42==null?void(0x30a+0x7*-0x37+-0x189):_0x503f42['options'])??{},(_0x597ea4,_0x20f66c)=>{var _0x1b59ae;if(_0x597ea4)_0x10866a(_0x597ea4);else{const _0x25f9d9=_0x20f66c['animations'];if((_0x1b59ae=_0x503f42==null?void(0x2*-0xd5f+-0x146f+0x2f2d):_0x503f42['data'])!=null&&_0x1b59ae['events']){for(let _0x33157d=-0x23c9*-0x1+0xc3+-0x1*0x248c;_0x33157d<_0x25f9d9['length'];_0x33157d++)_0x25f9d9[_0x33157d]['events']=new Y0(Object['values'](_0x503f42['data']['events']));}_0x20f66c['destroy'](),_0x10866a(null,_0x25f9d9);}}):_0x10866a(null,this['_parseAnim'+'ationV'+_0x188fa6['animation']['version']](_0x188fa6));});}['open'](_0x34fde3,_0x3a95ff,_0x279de1){return _0x3a95ff;}['_parseAnim'+'ationV3'](_0x1ff7f2){const _0x986f27=_0x1ff7f2['animation'],_0x3cf5ff=new k_();_0x3cf5ff['name']=_0x986f27['name'],_0x3cf5ff['duration']=_0x986f27['duration'];for(let _0x1debc9=0x1*-0x134f+-0x12f1+0x2640;_0x1debc9<_0x986f27['nodes']['length'];_0x1debc9++){const _0x28973f=new O_(),_0x37e7cf=_0x986f27['nodes'][_0x1debc9];_0x28973f['_name']=_0x37e7cf['name'];for(let _0x2ff1d4=0x2575*-0x1+0xa1d+0x1b58;_0x2ff1d4<_0x37e7cf['keys']['length'];_0x2ff1d4++){const _0xa2f62e=_0x37e7cf['keys'][_0x2ff1d4],_0xe10e10=_0xa2f62e['time'],_0x58da60=_0xa2f62e['pos'],_0x31dc5e=_0xa2f62e['rot'],_0x3a5b6a=_0xa2f62e['scale'],_0x4e4fb4=new T(_0x58da60[-0xa7*-0xf+-0x1725+0xd5c*0x1],_0x58da60[-0x3*-0xe2+0xcb0+-0xf55],_0x58da60[-0x22bd+-0x1*-0x1bda+0x161*0x5]),_0x5760be=new se()['setFromEul'+'erAngles'](_0x31dc5e[-0xae*0x31+0x1*-0x61f+0x276d],_0x31dc5e[0x1504+-0x2*-0x135+-0x7cf*0x3],_0x31dc5e[0x1b97+0x93*-0xb+-0x1544]),_0x5e81d5=new T(_0x3a5b6a[0x1727*0x1+-0x1cdc+0x3*0x1e7],_0x3a5b6a[-0xf*0x265+-0x26d0+-0x4abc*-0x1],_0x3a5b6a[0xa28+-0x1fe1+0x15bb]),_0x300e86=new F_(_0xe10e10,_0x4e4fb4,_0x5760be,_0x5e81d5);_0x28973f['_keys']['push'](_0x300e86);}_0x3cf5ff['addNode'](_0x28973f);}return _0x3cf5ff;}['_parseAnim'+'ationV4'](_0x46ee4b){const _0x42a0ba=_0x46ee4b['animation'],_0x154470=new k_();_0x154470['name']=_0x42a0ba['name'],_0x154470['duration']=_0x42a0ba['duration'];for(let _0x35954a=-0x322+-0x569*0x1+0x88b;_0x35954a<_0x42a0ba['nodes']['length'];_0x35954a++){const _0x9aea19=new O_(),_0x4b0c10=_0x42a0ba['nodes'][_0x35954a];_0x9aea19['_name']=_0x4b0c10['name'];const _0x305404=_0x4b0c10['defaults']['p'],_0x5e6ccf=_0x4b0c10['defaults']['r'],_0x56f3f5=_0x4b0c10['defaults']['s'];for(let _0x2813c0=0x1*-0x23bb+-0x1e8+0x25a3;_0x2813c0<_0x4b0c10['keys']['length'];_0x2813c0++){const _0x5bdc13=_0x4b0c10['keys'][_0x2813c0],_0x57f781=_0x5bdc13['t'],_0x44fe57=_0x305404||_0x5bdc13['p'],_0x220f87=_0x5e6ccf||_0x5bdc13['r'],_0x547c9e=_0x56f3f5||_0x5bdc13['s'],_0x41c0ec=new T(_0x44fe57[0x8*-0x110+-0x1*0x137b+-0x179*-0x13],_0x44fe57[0x2*-0x966+-0x5a1+0x186e],_0x44fe57[-0x128a*0x2+0x1051*-0x2+0x45b8]),_0x1968e3=new se()['setFromEul'+'erAngles'](_0x220f87[0x2*-0x509+0x28d*0x1+0x113*0x7],_0x220f87[-0x56a*-0x6+-0xf*-0x13f+-0x1*0x332c],_0x220f87[-0x233d+-0x232+-0x47*-0x87]),_0x5b5ab0=new T(_0x547c9e[0x102+0x2cf*-0x2+0x49c],_0x547c9e[0x142f+0x1ec3+-0x32f1],_0x547c9e[0x2155*0x1+-0x151+-0xf1*0x22]),_0x368bdb=new F_(_0x57f781,_0x41c0ec,_0x1968e3,_0x5b5ab0);_0x9aea19['_keys']['push'](_0x368bdb);}_0x154470['addNode'](_0x9aea19);}return _0x154470;}}class g2 extends Ne{constructor(_0x51b47f){super(_0x51b47f,'animclip');}['load'](_0x48c019,_0x691929){typeof _0x48c019=='string'&&(_0x48c019={'load':_0x48c019,'original':_0x48c019});const _0x413154={'retry':this['maxRetries']>-0x1*-0x12ef+-0xc6d+-0x682,'maxRetries':this['maxRetries']};_0x48c019['load']['startsWith']('blob:')&&(_0x413154['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x48c019['load'],_0x413154,(_0x2ac551,_0x195ed5)=>{_0x2ac551?_0x691929('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x48c019['original']+'\x20['+_0x2ac551+']'):_0x691929(null,_0x195ed5);});}['open'](_0x295cb6,_0x352de1){const _0x5c6262=_0x352de1['name'],_0x292e3f=_0x352de1['duration'],_0x56922e=_0x352de1['inputs']['map'](_0x24d8c5=>new Jh(-0x14*0x142+-0xabd*-0x2+-0x1*-0x3af,_0x24d8c5)),_0x539059=_0x352de1['outputs']['map'](_0x5691de=>new Jh(_0x5691de['components'],_0x5691de['data'])),_0x24f7d9=_0x352de1['curves']['map'](_0x2e1cda=>new Px([_0x2e1cda['path']],_0x2e1cda['inputIndex'],_0x2e1cda['outputInde'+'x'],_0x2e1cda['interpolat'+'ion']));return new Ri(_0x5c6262,_0x292e3f,_0x56922e,_0x539059,_0x24f7d9);}}class y2 extends Ne{constructor(_0x1a6e5f){super(_0x1a6e5f,'animstateg'+'raph');}['load'](_0x2a4c42,_0x11ab12){typeof _0x2a4c42=='string'&&(_0x2a4c42={'load':_0x2a4c42,'original':_0x2a4c42});const _0x3d7abd={'retry':this['maxRetries']>-0x8a5*0x3+0x1e3c+-0x44d,'maxRetries':this['maxRetries']};_0x2a4c42['load']['startsWith']('blob:')&&(_0x3d7abd['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x2a4c42['load'],_0x3d7abd,(_0x31db57,_0x17072d)=>{_0x31db57?_0x11ab12('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x2a4c42['original']+'\x20['+_0x31db57+']'):_0x11ab12(null,_0x17072d);});}['open'](_0x5d5eb7,_0x113a84){return new mh(_0x113a84);}}const Qd=(function(){if(typeof window>'u')return!(0xf0d+0x11f*-0x21+0x751*0x3);const _0x2c129b=window['navigator']['userAgent'],_0x4cf005=_0x2c129b['indexOf']('MSIE\x20');if(_0x4cf005>0x920*-0x4+-0x1102*-0x1+0x137e)return parseInt(_0x2c129b['substring'](_0x4cf005+(-0x141d*0x1+0xd87*-0x2+0x2f30),_0x2c129b['indexOf']('.',_0x4cf005)),-0x145+0x1*-0x1a5f+-0x2*-0xdd7);if(_0x2c129b['indexOf']('Trident/')>0xd*0xff+0xe23+0x1b16*-0x1){const _0x5470dd=_0x2c129b['indexOf']('rv:');return parseInt(_0x2c129b['substring'](_0x5470dd+(-0x183d+-0x10a5*0x2+-0x398a*-0x1),_0x2c129b['indexOf']('.',_0x5470dd)),0xf76*0x1+-0x201b+0x10af);}return!(-0x164+0x42c+-0xed*0x3);}()),x2=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class S2 extends Ne{constructor(_0x20d4af){super(_0x20d4af,'audio'),this['manager']=_0x20d4af['soundManag'+'er'],v['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x190a7d){const _0x51adca=fe['getExtensi'+'on'](_0x190a7d);return x2['indexOf'](_0x51adca)>-(-0x91*0xf+-0x2334+0x2bb4)||_0x190a7d['startsWith']('blob:');}['load'](_0x5eb217,_0x5e921d){typeof _0x5eb217=='string'&&(_0x5eb217={'load':_0x5eb217,'original':_0x5eb217});const _0x47b891=function(_0x52adfa){_0x5e921d(null,new Bb(_0x52adfa));},_0x28ff90=function(_0x5c43e8){let _0x3070d3='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x5eb217['original'];_0x5c43e8&&(_0x3070d3+=':\x20'+(_0x5c43e8['message']||_0x5c43e8)),console['warn'](_0x3070d3),_0x5e921d(_0x3070d3);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x5eb217['original'])){_0x28ff90('Audio\x20form'+'at\x20for\x20'+_0x5eb217['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x5eb217['load'],_0x47b891,_0x28ff90);}else _0x28ff90(null);}['_createSou'+'nd'](_0x5b6bd4,_0x2f3727,_0x3d0af5){if(Li()){const _0x5eefd2=this['manager'];if(!_0x5eefd2['context']){_0x3d0af5('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x422662={'retry':this['maxRetries']>-0x14c6*0x1+-0x3*0x923+0x302f,'maxRetries':this['maxRetries']};(_0x5b6bd4['startsWith']('blob:')||_0x5b6bd4['startsWith']('data:'))&&(_0x422662['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),$e['get'](_0x5b6bd4,_0x422662,(_0x2a3ad5,_0x596725)=>{if(_0x2a3ad5){_0x3d0af5(_0x2a3ad5);return;}_0x5eefd2['context']['decodeAudi'+'oData'](_0x596725,_0x2f3727,_0x3d0af5);});}else{let _0x29b65a=null;try{_0x29b65a=new Audio();}catch{_0x3d0af5('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Qd&&document['body']['appendChil'+'d'](_0x29b65a);const _0x45e0f0=function(){_0x29b65a['removeEven'+'tListener']('canplaythr'+'ough',_0x45e0f0),Qd&&document['body']['removeChil'+'d'](_0x29b65a),_0x2f3727(_0x29b65a);};_0x29b65a['onerror']=function(){_0x29b65a['onerror']=null,Qd&&document['body']['removeChil'+'d'](_0x29b65a),_0x3d0af5();},_0x29b65a['addEventLi'+'stener']('canplaythr'+'ough',_0x45e0f0),_0x29b65a['src']=_0x5b6bd4;}}}class v2 extends Ne{constructor(_0x23eb93){super(_0x23eb93,'binary');}['load'](_0x57bf03,_0x396f23){typeof _0x57bf03=='string'&&(_0x57bf03={'load':_0x57bf03,'original':_0x57bf03}),$e['get'](_0x57bf03['load'],{'responseType':ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>0x2485+0x16*0x3e+-0x29d9,'maxRetries':this['maxRetries']},(_0x329900,_0x340b92)=>{_0x329900?_0x396f23('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x57bf03['original']+'\x20['+_0x329900+']'):_0x396f23(null,_0x340b92);});}['openBinary'](_0x570454){return _0x570454['buffer'];}}class tr{constructor(_0x28fc8c,_0x19e6df,_0x29dc6a,_0x25aca2){const _0x560ee0=function(_0x6e8aea,_0x148a4f,_0x1902bd){const _0x1e6b5e=tr['createAsse'+'t'](_0x19e6df['name'],_0x6e8aea,_0x148a4f,_0x1902bd);return _0x29dc6a['add'](_0x1e6b5e),_0x1e6b5e;},_0x2cf018=[];for(let _0x43a618=0x1713*-0x1+-0x1a8c+0x1*0x319f;_0x43a618<_0x28fc8c['renders']['length'];++_0x43a618)_0x2cf018['push'](_0x560ee0('render',_0x28fc8c['renders'][_0x43a618],_0x43a618));const _0x1d32a5=[];for(let _0x1b7237=0x517*0x5+-0x2*0x13a+0x16ff*-0x1;_0x1b7237<_0x28fc8c['materials']['length'];++_0x1b7237)_0x1d32a5['push'](_0x560ee0('material',_0x28fc8c['materials'][_0x1b7237],_0x1b7237));const _0x93f7ad=[];for(let _0x7c4206=-0xa7*0x22+-0x1*-0x1bd+0x1471;_0x7c4206<_0x28fc8c['animations']['length'];++_0x7c4206)_0x93f7ad['push'](_0x560ee0('animation',_0x28fc8c['animations'][_0x7c4206],_0x7c4206));this['data']=_0x28fc8c,this['_model']=null,this['_assetName']=_0x19e6df['name'],this['_assets']=_0x29dc6a,this['_defaultMa'+'terial']=_0x25aca2,this['renders']=_0x2cf018,this['materials']=_0x1d32a5,this['textures']=_0x28fc8c['textures'],this['animations']=_0x93f7ad;}get['model'](){if(!this['_model']){const _0x5c7f4f=tr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x1a1c31=tr['createAsse'+'t'](this['_assetName'],'model',_0x5c7f4f,-0x2228+-0x1*-0x241b+0x1f3*-0x1);this['_assets']['add'](_0x1a1c31),this['_model']=_0x1a1c31;}return this['_model'];}static['createAsse'+'t'](_0x55f9e4,_0x212464,_0x5b9fa8,_0x105da9){const _0x4a9004=new le(_0x55f9e4+'/'+_0x212464+'/'+_0x105da9,_0x212464,{'url':''});return _0x4a9004['resource']=_0x5b9fa8,_0x4a9004['loaded']=!(0x8*0x2b7+-0x1*0x1d9f+0x7e7),_0x4a9004;}['instantiat'+'eModelEnti'+'ty'](_0x5053ee){const _0x1290a4=new We();return _0x1290a4['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x5053ee)),_0x1290a4;}['instantiat'+'eRenderEnt'+'ity'](_0x299701){const _0x5985a3=this['_defaultMa'+'terial'],_0x5ba007=[],_0x452e16=function(_0x1e29c6,_0x1b9ca1,_0x5c7c95,_0x47de1a,_0x4faf1e,_0x1fee12,_0x423612,_0x3efedc){const _0x2ffc1f=_0x4faf1e[_0x5c7c95['id']],_0x2bff8a=_0x2ffc1f===void(-0x2*0xf9e+0x1625+0x917)?_0x5985a3:_0x47de1a[_0x2ffc1f],_0x2d2b9b=new Le(_0x5c7c95,_0x2bff8a);_0x5c7c95['morph']&&(_0x2d2b9b['morphInsta'+'nce']=new fn(_0x5c7c95['morph'])),_0x423612['hasOwnProp'+'erty']('skin')&&_0x5ba007['push']({'meshInstance':_0x2d2b9b,'rootBone':_0x1e29c6,'entity':_0x1b9ca1});const _0x245789=_0x3efedc['get'](_0x423612);if(_0x245789){const _0x6395c2=_0x245789['matrices'],_0x2479e4=Et['getDefault'+'Instancing'+'Format'](_0x5c7c95['device']),_0x4b085b=new os(_0x5c7c95['device'],_0x2479e4,_0x6395c2['length']/(-0xd18*-0x2+-0x1*0x1afb+0xdb),{'data':_0x6395c2});_0x2d2b9b['setInstanc'+'ing'](_0x4b085b),_0x2d2b9b['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(-0x3*-0x2ff+0x15b5+-0xf59*0x2);}return _0x2d2b9b;},_0x440b35=(_0x34fded,_0x1da940,_0x54ee90)=>{const _0x7ec4=new We();_0x1da940['_cloneInte'+'rnal'](_0x7ec4),_0x34fded||(_0x34fded=_0x7ec4);let _0x36130a=null,_0xb2f1c2=null;for(let _0x4efa1e=-0x2af+0x3e9*0x6+-0x14c7;_0x4efa1e<_0x54ee90['nodes']['length'];_0x4efa1e++)if(_0x54ee90['nodes'][_0x4efa1e]===_0x1da940){const _0x3cea3f=_0x54ee90['gltf']['nodes'][_0x4efa1e];if(_0x3cea3f['hasOwnProp'+'erty']('mesh')){const _0x4bbc27=_0x54ee90['renders'][_0x3cea3f['mesh']]['meshes'];_0xb2f1c2=this['renders'][_0x3cea3f['mesh']];for(let _0x2f4856=-0x1081+-0x23e1+0x3462;_0x2f4856<_0x4bbc27['length'];_0x2f4856++){const _0x42953e=_0x4bbc27[_0x2f4856];if(_0x42953e){const _0x3b0819=_0x452e16(_0x34fded,_0x7ec4,_0x42953e,_0x54ee90['materials'],_0x54ee90['meshDefaul'+'tMaterials'],_0x54ee90['skins'],_0x3cea3f,_0x54ee90['nodeInstan'+'cingMap']);_0x36130a||(_0x36130a=[]),_0x36130a['push'](_0x3b0819);}}}if(_0x54ee90['lights']){const _0x4f4d2d=_0x54ee90['lights']['get'](_0x3cea3f);_0x4f4d2d&&_0x7ec4['addChild'](_0x4f4d2d['clone']());}if(_0x54ee90['cameras']){const _0xb5be6=_0x54ee90['cameras']['get'](_0x3cea3f);_0xb5be6&&_0xb5be6['camera']['system']['cloneCompo'+'nent'](_0xb5be6,_0x7ec4);}}_0x36130a&&(_0x7ec4['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x36130a},_0x299701)),_0x7ec4['render']['assignAsse'+'t'](_0xb2f1c2));const _0x4df367=_0x1da940['children'];for(let _0x180f15=0x4*-0x18+-0x506*0x5+-0x1*-0x197e;_0x180f15<_0x4df367['length'];_0x180f15++){const _0x4b892c=_0x440b35(_0x34fded,_0x4df367[_0x180f15],_0x54ee90);_0x7ec4['addChild'](_0x4b892c);}return _0x7ec4;},_0x535619=[];for(const _0x3e4533 of this['data']['scenes'])_0x535619['push'](_0x440b35(null,_0x3e4533,this['data']));return _0x5ba007['forEach'](_0x572175=>{_0x572175['meshInstan'+'ce']['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x572175['meshInstan'+'ce']['mesh']['skin'],_0x572175['rootBone'],_0x572175['entity']),_0x572175['meshInstan'+'ce']['node']['render']['rootBone']=_0x572175['rootBone'];}),tr['createScen'+'eHierarchy'](_0x535619,We);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x186c30,_0x3a960f){const _0x29fac0=_0x3a960f?this['data']['variants'][_0x3a960f]:null;if(_0x29fac0===void(0x1abb+-0x21af+0x1*0x6f4)){v['warn']('No\x20variant'+'\x20named\x20'+_0x3a960f+('\x20exists\x20in'+'\x20resource'));return;}const _0x5d5500=_0x186c30['findCompon'+'ents']('render');for(let _0xb96147=0xa*-0x369+0x4*0x8ba+-0x1*0xce;_0xb96147<_0x5d5500['length'];_0xb96147++){const _0x5cdf47=_0x5d5500[_0xb96147];this['_applyMate'+'rialVarian'+'t'](_0x29fac0,_0x5cdf47['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x388ba6,_0x1d87b2){const _0x468b8f=_0x1d87b2?this['data']['variants'][_0x1d87b2]:null;if(_0x468b8f===void(-0xe7*-0x1+0x1*-0x226c+-0x2185*-0x1)){v['warn']('No\x20variant'+'\x20named\x20'+_0x1d87b2+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x468b8f,_0x388ba6);}['_applyMate'+'rialVarian'+'t'](_0x199cdc,_0xa5961c){_0xa5961c['forEach'](_0xd4aed1=>{if(_0x199cdc===null)_0xd4aed1['material']=this['_defaultMa'+'terial'];else{const _0x440596=this['data']['meshVarian'+'ts'][_0xd4aed1['mesh']['id']];_0x440596&&(_0xd4aed1['material']=this['data']['materials'][_0x440596[_0x199cdc]]);}v['assert'](_0xd4aed1['material']);});}static['createScen'+'eHierarchy'](_0x49bf9c,_0x1f34b7){let _0x53c4e6=null;if(_0x49bf9c['length']===-0x1*-0x248e+-0x1*0x1385+-0x1108)_0x53c4e6=_0x49bf9c[-0x1138+0x19f1*-0x1+0x2b29];else{_0x53c4e6=new _0x1f34b7('SceneGroup');for(const _0x447f03 of _0x49bf9c)_0x53c4e6['addChild'](_0x447f03);}return _0x53c4e6;}static['createMode'+'l'](_0x8e3e48,_0x3e84f0){const _0x3b07b7=function(_0x1231f7,_0x2d16cb,_0x2159dc,_0x38d408,_0x1f53f5,_0x13f37f,_0x51d768){const _0x2383fc=_0x8e3e48['meshDefaul'+'tMaterials'][_0x2d16cb['id']],_0x3a2214=_0x2383fc===void(0x1147+-0xa22*0x1+-0x725)?_0x3e84f0:_0x1f53f5[_0x2383fc],_0x3b3317=new Le(_0x2d16cb,_0x3a2214,_0x13f37f);if(_0x2d16cb['morph']){const _0x25359a=new fn(_0x2d16cb['morph']);_0x3b3317['morphInsta'+'nce']=_0x25359a,_0x1231f7['morphInsta'+'nces']['push'](_0x25359a);}if(_0x51d768['hasOwnProp'+'erty']('skin')){const _0x54c9a4=_0x51d768['skin'],_0x233e3e=_0x2159dc[_0x54c9a4];_0x2d16cb['skin']=_0x233e3e;const _0x2e808d=_0x38d408[_0x54c9a4];_0x3b3317['skinInstan'+'ce']=_0x2e808d,_0x1231f7['skinInstan'+'ces']['push'](_0x2e808d);}_0x1231f7['meshInstan'+'ces']['push'](_0x3b3317);},_0x46496d=new Oi(),_0x33f954=[];for(const _0x3731fa of _0x8e3e48['skins']){const _0xc2afa7=new nl(_0x3731fa);_0xc2afa7['bones']=_0x3731fa['bones'],_0x33f954['push'](_0xc2afa7);}_0x46496d['graph']=tr['createScen'+'eHierarchy'](_0x8e3e48['scenes'],De);for(let _0x1d2f7f=0x1f5e+-0x124d*-0x2+0x15c*-0x32;_0x1d2f7f<_0x8e3e48['nodes']['length'];_0x1d2f7f++){const _0x44b131=_0x8e3e48['nodes'][_0x1d2f7f];if(_0x44b131['root']===_0x46496d['graph']){const _0x3574e5=_0x8e3e48['gltf']['nodes'][_0x1d2f7f];if(_0x3574e5['hasOwnProp'+'erty']('mesh')){const _0x20dc19=_0x8e3e48['renders'][_0x3574e5['mesh']]['meshes'];for(let _0x4a128d=-0x25e6+-0xaff+0x30e5*0x1;_0x4a128d<_0x20dc19['length'];_0x4a128d++){const _0x122e04=_0x20dc19[_0x4a128d];_0x122e04&&_0x3b07b7(_0x46496d,_0x122e04,_0x8e3e48['skins'],_0x33f954,_0x8e3e48['materials'],_0x44b131,_0x3574e5);}}}}return _0x46496d;}['destroy'](){const _0x101188=this['_assets'],_0x1e5913=function(_0x33d240){_0x101188['remove'](_0x33d240),_0x33d240['unload']();},_0x1e02eb=function(_0x3b0871){_0x3b0871['forEach'](_0x37e6f3=>{_0x1e5913(_0x37e6f3);});};this['animations']&&(_0x1e02eb(this['animations']),this['animations']=null),this['textures']&&(_0x1e02eb(this['textures']),this['textures']=null),this['materials']&&(_0x1e02eb(this['materials']),this['materials']=null),this['renders']&&(_0x1e02eb(this['renders']),this['renders']=null),this['_model']&&(_0x1e5913(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class b2{constructor(_0x219b93,_0x492675,_0x3ea9e7){this['_device']=_0x219b93,this['_assets']=_0x492675,this['_defaultMa'+'terial']=tc['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x3ea9e7;}['_getUrlWit'+'houtParams'](_0x65598b){return _0x65598b['indexOf']('?')>=0x26f4+-0x20*0x7f+0x1714*-0x1?_0x65598b['split']('?')[-0x2211+-0x879+-0x1545*-0x2]:_0x65598b;}['load'](_0x2bd7c3,_0x270cdc,_0x5de29b){le['fetchArray'+'Buffer'](_0x2bd7c3['load'],(_0x2704fa,_0xdead92)=>{_0x2704fa?_0x270cdc(_0x2704fa):tc['parse'](this['_getUrlWit'+'houtParams'](_0x2bd7c3['original']),fe['extractPat'+'h'](_0x2bd7c3['load']),_0xdead92,this['_device'],_0x5de29b['registry'],_0x5de29b['options'],(_0x5a3b76,_0x3b77e6)=>{_0x5a3b76?_0x270cdc(_0x5a3b76):_0x270cdc(null,new tr(_0x3b77e6,_0x5de29b,this['_assets'],this['_defaultMa'+'terial']));});},_0x5de29b,this['maxRetries']);}['open'](_0x4a6ddb,_0x47d341,_0x284003){return _0x47d341;}['patch'](_0x5ce4d0,_0x5d4407){}}class w2 extends Ne{constructor(_0x58b034){super(_0x58b034,'container'),this['glbContain'+'erParser']=new b2(_0x58b034['graphicsDe'+'vice'],_0x58b034['assets'],0x1a66+-0x624+0x1442*-0x1),this['parsers']={};}set['maxRetries'](_0x213f2a){this['glbContain'+'erParser']['maxRetries']=_0x213f2a;for(const _0x1c18a4 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x1c18a4)&&(this['parsers'][_0x1c18a4]['maxRetries']=_0x213f2a);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x1b3a04){return _0x1b3a04['indexOf']('?')>=-0x38*-0x76+-0x3*-0x396+0x1249*-0x2?_0x1b3a04['split']('?')[-0x12f1+-0x238a+0x367b]:_0x1b3a04;}['_getParser'](_0x5469ab){const _0x5da8e5=_0x5469ab?fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x5469ab))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x5da8e5]||this['glbContain'+'erParser'];}['load'](_0x3a6c19,_0x68197f,_0x1049ba){typeof _0x3a6c19=='string'&&(_0x3a6c19={'load':_0x3a6c19,'original':_0x3a6c19}),this['_getParser'](_0x3a6c19['original'])['load'](_0x3a6c19,_0x68197f,_0x1049ba);}['open'](_0x19ff39,_0xd49c5d,_0xdec2fc){return this['_getParser'](_0x19ff39)['open'](_0x19ff39,_0xd49c5d,_0xdec2fc);}}class T2 extends Ne{constructor(_0x4c644f){super(_0x4c644f,'css'),c(this,'decoder',null);}['load'](_0x20ba61,_0x19b203){typeof _0x20ba61=='string'&&(_0x20ba61={'load':_0x20ba61,'original':_0x20ba61}),$e['get'](_0x20ba61['load'],{'retry':this['maxRetries']>0x2554+0x125*0x7+-0xdb*0x35,'maxRetries':this['maxRetries']},(_0x2852db,_0x54ee45)=>{_0x2852db?_0x19b203('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0x20ba61['original']+'\x20['+_0x2852db+']'):_0x19b203(null,_0x54ee45);});}['openBinary'](_0x4bb8cf){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x4bb8cf);}}class A2 extends Ne{constructor(_0x33224f){super(_0x33224f,'cubemap'),this['_device']=_0x33224f['graphicsDe'+'vice'],this['_registry']=_0x33224f['assets'],this['_loader']=_0x33224f['loader'];}['load'](_0x2a9b08,_0x46f28e,_0x554001){this['loadAssets'](_0x554001,_0x46f28e);}['open'](_0x133f50,_0x22a269,_0x21cea4){return _0x21cea4?_0x21cea4['resource']:null;}['patch'](_0x429379,_0x313616){this['loadAssets'](_0x429379,(_0x1c473e,_0x364a40)=>{_0x1c473e&&(_0x313616['fire']('error',_0x429379),_0x313616['fire']('error:'+_0x429379['id'],_0x1c473e,_0x429379),_0x429379['fire']('error',_0x429379));});}['getAssetId'+'s'](_0x5db6a1){const _0x36a8e6=[];if(_0x36a8e6[-0x22d3+-0x1fcf+-0x3*-0x1636]=_0x5db6a1['file'],(_0x5db6a1['loadFaces']||!_0x5db6a1['file'])&&_0x5db6a1['data']&&_0x5db6a1['data']['textures']){for(let _0xf58fa5=0x1*-0xe27+-0xe1e+0x1c45;_0xf58fa5<0xb37+-0x1e*0xd7+-0x1*-0xe01;++_0xf58fa5)_0x36a8e6[_0xf58fa5+(-0x1c*-0x56+0x6d*-0x7+0x89*-0xc)]=_0x5db6a1['data']['textures'][_0xf58fa5];}else _0x36a8e6[0x22fd+0x5e*0x26+-0x1d0*0x1b]=_0x36a8e6[-0x232e*-0x1+0xf11*-0x1+-0x141b]=_0x36a8e6[-0x2*-0xcd1+0x2*0xddb+-0x29*0x14d]=_0x36a8e6[0x1d2e+-0x202f*0x1+0x305]=_0x36a8e6[0x2a*0x55+-0xb86*0x2+0x91f*0x1]=_0x36a8e6[-0x3*0x500+-0x3d1*-0x9+-0x1353]=null;return _0x36a8e6;}['compareAss'+'etIds'](_0x48f4c2,_0x3396fd){return _0x48f4c2&&_0x3396fd?parseInt(_0x48f4c2,-0x7c+0x182f+-0x7e3*0x3)===_0x48f4c2||typeof _0x48f4c2=='string'?_0x48f4c2===_0x3396fd:_0x48f4c2['url']===_0x3396fd['url']:_0x48f4c2!==null==(_0x3396fd!==null);}['update'](_0x1204c5,_0x4685f5,_0x277e33){const _0x46ae51=_0x1204c5['data']||{},_0x1c8e8a=_0x1204c5['_handlerSt'+'ate']['assets'],_0x452f76=_0x1204c5['_resources'];let _0x57e94d,_0x4729af,_0x483c8c;const _0x3f80df=[null,null,null,null,null,null,null],_0x1adeaa=function(){return _0x46ae51['hasOwnProp'+'erty']('type')?_0x46ae51['type']:_0x46ae51['hasOwnProp'+'erty']('rgbm')?_0x46ae51['rgbm']?on:Di:null;};if(!_0x1204c5['loaded']||_0x277e33[0x14e5+0x75+-0x155a]!==_0x1c8e8a[-0x117b*-0x1+0x4*-0x515+-0x3*-0xf3]){if(_0x277e33[0x3*0x751+0xe2f+-0x2422]){if(_0x57e94d=_0x277e33[0xba7+-0x1bdc+0x1035]['resource'],_0x57e94d['cubemap']){for(_0x483c8c=0xe5*0x21+0x1027+-0x2dac;_0x483c8c<0x3e*-0x25+0x17f6*0x1+-0xefa;++_0x483c8c)_0x3f80df[_0x483c8c+(0xdb*-0xa+-0x43*-0x76+-0x1653)]=new he(this['_device'],{'name':_0x1204c5['name']+('_prelitCub'+'emap')+(_0x57e94d['width']>>_0x483c8c),'cubemap':!(-0x101b+-0x43a+-0x3*-0x6c7),'type':_0x1adeaa()||_0x57e94d['type'],'width':_0x57e94d['width']>>_0x483c8c,'height':_0x57e94d['height']>>_0x483c8c,'format':_0x57e94d['format'],'levels':[_0x57e94d['_levels'][_0x483c8c]],'addressU':ae,'addressV':ae,'mipmaps':_0x483c8c===0x1ba+0x2459+-0x9*0x43b});}else _0x3f80df[-0x2e0+-0x4*-0x46c+0x1*-0xecf]=_0x57e94d;}}else _0x3f80df[0x1*0x1dbd+0x162b+-0x33e7]=_0x452f76[0x1cac+0x8d6+-0x2581]||null,_0x3f80df[-0x3*0xace+0x2a+0x2042]=_0x452f76[-0x2dd+0x19d7+0x1*-0x16f8]||null,_0x3f80df[-0x2*-0xc53+0x1*-0x377+-0x152c*0x1]=_0x452f76[0x2537*-0x1+-0x6eb+-0x3*-0xeb7]||null,_0x3f80df[0xa60*-0x2+0x1*0x1893+-0x27*0x19]=_0x452f76[0x2241+0xd41+-0x2f7e]||null,_0x3f80df[-0xa63+-0xc2f+0x1697*0x1]=_0x452f76[-0x1fde+0x26b*-0x1+0x224e]||null,_0x3f80df[-0x10c8+0xa1e*0x1+0x6b0]=_0x452f76[0x1*-0x18a9+-0x58+0x1*0x1907]||null;const _0x21377b=_0x277e33['slice'](0x2*-0x7f9+-0x1d26+0x2d19);if(!_0x1204c5['loaded']||!this['cmpArrays'](_0x21377b,_0x1c8e8a['slice'](0x9e7+0x1*-0x670+-0x376))){if(_0x21377b['indexOf'](null)===-(0x802+0x1*0x207d+-0x1*0x287e)){const _0x4ad4fe=_0x21377b['map'](_0x1fcd56=>_0x1fcd56['resource']),_0x354b83=[];for(_0x4729af=-0xa58*-0x3+-0x4*-0x551+-0x344c;_0x4729af<_0x4ad4fe[-0x1*-0x12e+-0xd3e+0x10*0xc1]['_levels']['length'];++_0x4729af)_0x354b83['push'](_0x4ad4fe['map'](_0x5a39eb=>_0x5a39eb['_levels'][_0x4729af]));const _0xe954fa=_0x4ad4fe[-0x1*-0x1e71+0x10*0xe8+-0x2cf1]['format'],_0x1690dc=new he(this['_device'],{'name':_0x1204c5['name']+'_faces','cubemap':!(-0x1078+0xb92+0x4e6),'type':_0x1adeaa()||_0x4ad4fe[0xc81+0xa7f*0x3+0x1*-0x2bfe]['type'],'width':_0x4ad4fe[0xba4+-0x265d+-0x1ab9*-0x1]['width'],'height':_0x4ad4fe[-0x2c1*-0x7+0x12d6*-0x2+0x1265]['height'],'format':_0xe954fa===dr?Se:_0xe954fa,'mipmaps':_0x46ae51['mipmaps']??!(0x2cf+0x19eb+-0x1cba),'levels':_0x354b83,'minFilter':_0x46ae51['hasOwnProp'+'erty']('minFilter')?_0x46ae51['minFilter']:_0x4ad4fe[-0xb0c*0x2+-0x678+0x1c90]['minFilter'],'magFilter':_0x46ae51['hasOwnProp'+'erty']('magFilter')?_0x46ae51['magFilter']:_0x4ad4fe[0x1*0x115+0x1*0xac5+-0xbda]['magFilter'],'anisotropy':_0x46ae51['hasOwnProp'+'erty']('anisotropy')?_0x46ae51['anisotropy']:0x2071+0x43*0x49+-0x338b,'addressU':ae,'addressV':ae});_0x3f80df[0x221c+-0x17*-0xe8+-0x36f4]=_0x1690dc;}}else _0x3f80df[-0xa0e+-0x606+0x1014]=_0x452f76[-0x1*0x1ae2+-0xaf*-0x2f+-0x53f]||null;if(!this['cmpArrays'](_0x3f80df,_0x452f76)){for(_0x1204c5['resources']=_0x3f80df,_0x1204c5['_handlerSt'+'ate']['assetIds']=_0x4685f5,_0x1204c5['_handlerSt'+'ate']['assets']=_0x277e33,_0x483c8c=-0x37c*0x7+-0x23*0x97+0x1b*0x1ab;_0x483c8c<_0x452f76['length'];++_0x483c8c)_0x452f76[_0x483c8c]!==null&&_0x3f80df['indexOf'](_0x452f76[_0x483c8c])===-(-0x11a*0x4+-0x44*-0x72+0x25*-0xb3)&&_0x452f76[_0x483c8c]['destroy']();}for(_0x483c8c=0xd00+0x1005+-0x1d05;_0x483c8c<_0x1c8e8a['length'];++_0x483c8c)_0x1c8e8a[_0x483c8c]!==null&&_0x277e33['indexOf'](_0x1c8e8a[_0x483c8c])===-(0x9a7*0x1+-0x1c2+0x4*-0x1f9)&&_0x1c8e8a[_0x483c8c]['unload']();}['cmpArrays'](_0x57d5b3,_0x693ac5){if(_0x57d5b3['length']!==_0x693ac5['length'])return!(0x89*-0x1+-0x1f72*-0x1+-0x3dd*0x8);for(let _0x585657=0x280*0xe+-0x1653+-0xb*0x127;_0x585657<_0x57d5b3['length'];++_0x585657)if(_0x57d5b3[_0x585657]!==_0x693ac5[_0x585657])return!(-0x1499*-0x1+0x1*0x104b+-0x24e3);return!(-0xfb*0xd+-0x88d+0x3a*0x5e);}['resolveId'](_0xf094a2){const _0x4d5d3d=parseInt(_0xf094a2,0x202b+-0x1*0x12a+-0x1ef7);return _0x4d5d3d===_0xf094a2||_0x4d5d3d['toString']()===_0xf094a2?_0x4d5d3d:_0xf094a2;}['loadAssets'](_0x40b9ac,_0xe53a57){_0x40b9ac['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x40b9ac['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x207ee1=this,_0xdcbec9=_0x207ee1['getAssetId'+'s'](_0x40b9ac),_0x326ffe=[null,null,null,null,null,null,null],_0x3a2a71=_0x40b9ac['_handlerSt'+'ate']['assetIds'],_0x5c2c5b=_0x40b9ac['_handlerSt'+'ate']['assets'],_0x377fa2=_0x207ee1['_registry'];let _0xb5fa54=0x1*-0x18f2+-0x199+-0x13*-0x166;const _0x36db61=function(_0x299d83,_0x76d3f){_0x326ffe[_0x299d83]=_0x76d3f,_0xb5fa54--,_0xb5fa54===-0x1d88+-0x2182+-0x1f85*-0x2&&(_0x207ee1['update'](_0x40b9ac,_0xdcbec9,_0x326ffe),_0xe53a57(null,_0x40b9ac['resources']));},_0x486f39=function(_0x1ea787,_0x2e2062,_0x5c1f10){_0xe53a57(_0x2e2062);},_0x584e70=function(_0x5a4ff5,_0x98f258){_0x98f258['loaded']?_0x36db61(_0x5a4ff5,_0x98f258):(_0x377fa2['once']('load:'+_0x98f258['id'],_0x36db61['bind'](_0x207ee1,_0x5a4ff5)),_0x377fa2['once']('error:'+_0x98f258['id'],_0x486f39['bind'](_0x207ee1,_0x5a4ff5)),_0x98f258['loading']||_0x377fa2['load'](_0x98f258));};let _0x274044;for(let _0x1f8ea3=0xa74+-0x1*-0x277+-0xceb*0x1;_0x1f8ea3<0x1*0x2387+-0x50*-0x28+-0x3000;++_0x1f8ea3){const _0x13324b=this['resolveId'](_0xdcbec9[_0x1f8ea3]);if(!_0x13324b)_0x36db61(_0x1f8ea3,null);else{if(_0x207ee1['compareAss'+'etIds'](_0x13324b,_0x3a2a71[_0x1f8ea3]))_0x584e70(_0x1f8ea3,_0x5c2c5b[_0x1f8ea3]);else{if(parseInt(_0x13324b,0x1*-0x8a8+0xd90+-0xb2*0x7)===_0x13324b)_0x274044=_0x377fa2['get'](_0x13324b),_0x274044?_0x584e70(_0x1f8ea3,_0x274044):setTimeout(((_0x44a01c,_0x274e07)=>{const _0x26df8d=_0x377fa2['get'](_0x274e07);_0x26df8d?_0x584e70(_0x44a01c,_0x26df8d):_0x486f39(_0x44a01c,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x274e07);})['bind'](null,_0x1f8ea3,_0x13324b));else{const _0x4f49b2=typeof _0x13324b=='string'?{'url':_0x13324b,'filename':_0x13324b}:_0x13324b,_0x1a8803=_0x4f49b2['url']['search']('.dds')===-(0x106a+-0x1458+0x3ef)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(0x1c66+-0x89c+-0x5*0x3f5)}:null;_0x274044=new le(_0x40b9ac['name']+'_part_'+_0x1f8ea3,'texture',_0x4f49b2,_0x1a8803),_0x377fa2['add'](_0x274044),_0x584e70(_0x1f8ea3,_0x274044);}}}}}}class E2 extends Ne{constructor(_0x4d0a22){super(_0x4d0a22,'folder');}['load'](_0x591ff8,_0x1bda16){_0x1bda16(null,null);}}class Ng{constructor(_0x14b4f4,_0x256d76){this['type']=_0x256d76&&_0x256d76['type']||Kh,this['em']=-0x1c80+-0xff4+0x257*0x13,this['textures']=_0x14b4f4,this['intensity']=0x1d3*-0x13+-0x45*0x4f+0x4*0xdfd,this['_data']=null,this['data']=_0x256d76;}set['data'](_0x154ae9){if(this['_data']=_0x154ae9,!!_0x154ae9&&(this['_data']['intensity']!==void(0x1dd1+0x1089+-0x11*0x2ba)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<0x11*0x137+0x159f+0x2*-0x1522)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x112118 in this['_data']['chars'])this['_data']['chars'][_0x112118]['map']=0x4ef*0x2+-0xb*0x2a9+0x1365;}}get['data'](){return this['_data'];}}function Jd(_0x13764e){return _0x13764e['version']<-0xd*-0x4+-0x4a8*0x4+-0x126f*-0x1&&(_0x13764e['version']<-0x8*-0x33d+-0xfd6+-0xa10&&(_0x13764e['info']['maps']=_0x13764e['info']['maps']||[{'width':_0x13764e['info']['width'],'height':_0x13764e['info']['height']}]),_0x13764e['chars']=Object['keys'](_0x13764e['chars']||{})['reduce']((_0x3cb508,_0x34918e)=>{const _0x491629=_0x13764e['chars'][_0x34918e],_0x3c85da=_0x491629['letter']!==void(0x1128+-0xad5*0x3+-0x231*-0x7)?_0x491629['letter']:ah['fromCodePo'+'int'](_0x34918e);return _0x13764e['version']<-0xfb4+0x235a+0x4*-0x4e9&&(_0x491629['map']=_0x491629['map']||-0x1c96+-0x1*-0x875+-0x1*-0x1421),_0x3cb508[_0x3c85da]=_0x491629,_0x3cb508;},{}),_0x13764e['version']=-0x2114+-0x2*-0x943+0xe91),_0x13764e;}class C2 extends Ne{constructor(_0x5d1c54){super(_0x5d1c54,'font'),this['_loader']=_0x5d1c54['loader'],this['maxRetries']=0x21d7*0x1+-0x1cde+-0x13*0x43;}['load'](_0x330de8,_0x882b0d,_0x37e81a){typeof _0x330de8=='string'&&(_0x330de8={'load':_0x330de8,'original':_0x330de8});const _0x449028=this;fe['getExtensi'+'on'](_0x330de8['original'])==='.json'?$e['get'](_0x330de8['load'],{'retry':this['maxRetries']>0x5d4+-0xa11*0x1+-0xd9*-0x5,'maxRetries':this['maxRetries']},(_0x105dbf,_0x2c962f)=>{if(_0x105dbf)_0x882b0d('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x330de8['original']+'\x20['+_0x105dbf+']');else{const _0x5f3fdb=Jd(_0x2c962f);_0x449028['_loadTextu'+'res'](_0x330de8['load']['replace']('.json','.png'),_0x5f3fdb,(_0x1ce6ba,_0x5efdcc)=>{_0x1ce6ba?_0x882b0d(_0x1ce6ba):_0x882b0d(null,{'data':_0x5f3fdb,'textures':_0x5efdcc});});}}):(_0x37e81a&&_0x37e81a['data']&&(_0x37e81a['data']=Jd(_0x37e81a['data'])),this['_loadTextu'+'res'](_0x330de8['load'],_0x37e81a&&_0x37e81a['data'],_0x882b0d));}['_loadTextu'+'res'](_0x22d2f5,_0x4a4738,_0x45d975){const _0x8084a=_0x4a4738['info']['maps']['length'];let _0x306483=0x203d+0x1be9*-0x1+-0x454,_0x4d7ea9=null;const _0x58d198=new Array(_0x8084a),_0x4bbcaf=this['_loader'],_0x5182d6=function(_0x53e1c9){const _0x136246=function(_0xee7068,_0x29f752){if(!_0x4d7ea9){if(_0xee7068){_0x4d7ea9=_0xee7068,_0x45d975(_0xee7068);return;}_0x29f752['upload'](),_0x58d198[_0x53e1c9]=_0x29f752,_0x306483++,_0x306483===_0x8084a&&_0x45d975(null,_0x58d198);}};_0x53e1c9===0x11ae+0x6*-0x419+-0x8*-0xdd?_0x4bbcaf['load'](_0x22d2f5,'texture',_0x136246):_0x4bbcaf['load'](_0x22d2f5['replace']('.png',_0x53e1c9+'.png'),'texture',_0x136246);};for(let _0x4dc02c=0xc21+0x122*0x1f+-0x2f3f;_0x4dc02c<_0x8084a;_0x4dc02c++)_0x5182d6(_0x4dc02c);}['open'](_0x7f974a,_0x5464b2,_0x3a69d0){let _0x10efb3;return _0x5464b2['textures']?_0x10efb3=new Ng(_0x5464b2['textures'],_0x5464b2['data']):_0x10efb3=new Ng(_0x5464b2,null),_0x10efb3;}['patch'](_0xf89983,_0x4b3436){const _0x3ded40=_0xf89983['resource'];!_0x3ded40['data']&&_0xf89983['data']?_0x3ded40['data']=_0xf89983['data']:!_0xf89983['data']&&_0x3ded40['data']&&(_0xf89983['data']=_0x3ded40['data']),_0xf89983['data']&&(_0xf89983['data']=Jd(_0xf89983['data']));}}async function M2(){const _0x247d96=-0x1*-0xa7d+0x11*0x220+-0x2e9d+0.28209479177387814;class _0x351473{constructor(_0x17b83e,_0x3c8f68,_0x1e6a3a){this['x']=_0x17b83e,this['y']=_0x3c8f68,this['z']=_0x1e6a3a;}}class _0x44fa7c{constructor(_0x3ec078,_0x578f7c,_0x3bb5ab,_0x32faed){this['x']=_0x3ec078,this['y']=_0x578f7c,this['z']=_0x3bb5ab,this['w']=_0x32faed;}}class _0x3e2a9e{constructor(_0xcdb80a,_0x18f55c,_0x11a1f3,_0x41343b){this['x']=_0xcdb80a,this['y']=_0x18f55c,this['z']=_0x11a1f3,this['w']=_0x41343b;}['set'](_0x81e683,_0x8f3d95,_0x348faa,_0x54d66d){this['x']=_0x81e683,this['y']=_0x8f3d95,this['z']=_0x348faa,this['w']=_0x54d66d;}}class _0x507939{constructor(_0x243eff,_0x1487ea,_0x165d6c,_0x494995,_0x44549f,_0x560069,_0x4d218f,_0x17456a,_0x46f516,_0x3a96dc,_0x5b4a20,_0xc00934){const _0xbe0acb=(_0x3aa628,_0x18278e)=>{const _0x119787=(0x5*0x52+-0x2240+-0x20a7*-0x1<<_0x18278e)-(-0x12bb+0x1e34*-0x1+0x30f0);return(_0x3aa628&_0x119787)/_0x119787;},_0x10d650=(_0x3d1411,_0x1fac33)=>{_0x3d1411['x']=_0xbe0acb(_0x1fac33>>>0x2097+0x4f*-0x31+-0x1163,0x1ae8+-0x400*0x1+-0x16dd),_0x3d1411['y']=_0xbe0acb(_0x1fac33>>>0x3*0x329+-0x245d+0x1aed,0x1*0x1605+-0xe4b*0x2+0x69b*0x1),_0x3d1411['z']=_0xbe0acb(_0x1fac33,0xa6f*-0x3+-0x1a89+0x39e1);},_0xbb9f8d=(_0xd84e7b,_0x45fda4)=>{_0xd84e7b['x']=_0xbe0acb(_0x45fda4>>>0x26eb+-0xd3a*-0x1+0x19*-0x215,0x2345+-0x1cb2+-0x68b),_0xd84e7b['y']=_0xbe0acb(_0x45fda4>>>0xa*0x340+-0x1c5c+-0x414,-0x1*-0x237e+0x44*0x21+-0x2c3a),_0xd84e7b['z']=_0xbe0acb(_0x45fda4>>>0x1781+0x1*-0x26ff+0xf86,-0x21*0xc1+-0xb*0x365+0x8*0x7c8),_0xd84e7b['w']=_0xbe0acb(_0x45fda4,0x1844+0x25dc+-0x3e18);},_0x2c90fb=(_0x105bb2,_0x11e83d)=>{const _0x26a92d=(-0x18dd+-0x1*0xf9a+0x2878)/(Math['sqrt'](-0x4d*0x41+0x2262*-0x1+0x11fb*0x3)*(-0x17e9*0x1+-0xc*0x18e+-0x2a91*-0x1+0.5)),_0x132955=(_0xbe0acb(_0x11e83d>>>-0x17ba*-0x1+0x109e+-0x4*0xa11,0x103*0xe+0xc76+-0x1a96)-(0x1a6e+-0x1e8c+0x3e*0x11+0.5))*_0x26a92d,_0x4e9480=(_0xbe0acb(_0x11e83d>>>-0xfa0+0x20e1*0x1+0x1*-0x1137,0x19de+-0x3*0xa98+0xfe*0x6)-(-0x1567+-0x259+-0x26*-0xa0+0.5))*_0x26a92d,_0x35531d=(_0xbe0acb(_0x11e83d,0x199+0x257*-0x6+0xc7b)-(0x1*-0x1ad1+0x1472+-0xe9*-0x7+0.5))*_0x26a92d,_0x2a0c26=Math['sqrt'](0x3*-0x5f3+0x3*-0xca5+0x37c9-(_0x132955*_0x132955+_0x4e9480*_0x4e9480+_0x35531d*_0x35531d));switch(_0x11e83d>>>-0x20b*0x1+-0x381+0x91*0xa){case-0x1f0c+-0xc4b*0x3+0x43ed:_0x105bb2['set'](_0x132955,_0x4e9480,_0x35531d,_0x2a0c26);break;case-0x217a+0xffd+-0x117e*-0x1:_0x105bb2['set'](_0x2a0c26,_0x4e9480,_0x35531d,_0x132955);break;case-0x12*0x1f3+-0x11ca+0x34e2:_0x105bb2['set'](_0x4e9480,_0x2a0c26,_0x35531d,_0x132955);break;case 0x382+0x3*0x729+-0x18fa:_0x105bb2['set'](_0x4e9480,_0x35531d,_0x2a0c26,_0x132955);break;}},_0x220355=(_0x4ce0e9,_0x17126a,_0x2ba477)=>_0x4ce0e9*(-0xa8b+-0x15d9+0x2065-_0x2ba477)+_0x17126a*_0x2ba477,_0x5c19c9=[-0x1*0x1d9f+-0x5b3+0x711*0x5,-0x234f+-0x43b+-0x2792*-0x1,0x906+0xac8+-0x5*0x3f3][_0x44549f-(0x2*-0x461+0x21fb+-0x1938)],_0x41f697=-0x30c+-0x1*0x140c+0x171e;this['read']=_0x3543c6=>{const _0x4a67c0=Math['floor'](_0x3543c6/(-0x2036+0x16f5+0x23*0x4b))*_0x1487ea;if(_0x560069&&(_0x10d650(_0x560069,_0x165d6c[_0x3543c6*_0x41f697+(-0xea*-0x11+0x24a8+-0x3432)]),_0x560069['x']=_0x220355(_0x243eff[_0x4a67c0+(-0x149a+-0x8b*0x10+-0x1*-0x1d4a)],_0x243eff[_0x4a67c0+(0x21f*-0xb+0xe51*0x1+0x907*0x1)],_0x560069['x']),_0x560069['y']=_0x220355(_0x243eff[_0x4a67c0+(0x20*0xa3+0x5f2*0x1+0x1*-0x1a51)],_0x243eff[_0x4a67c0+(0x58d+0x1145+-0x16ce)],_0x560069['y']),_0x560069['z']=_0x220355(_0x243eff[_0x4a67c0+(-0x259c+0x3bf+0xd*0x29b)],_0x243eff[_0x4a67c0+(-0xe13*0x1+-0xd3c+-0x35*-0x84)],_0x560069['z'])),_0x4d218f&&_0x2c90fb(_0x4d218f,_0x165d6c[_0x3543c6*_0x41f697+(0x408*0x8+0x90c+0x155*-0x1f)]),_0x17456a&&(_0x10d650(_0x17456a,_0x165d6c[_0x3543c6*_0x41f697+(-0x25fe+-0x1201+0x3801)]),_0x17456a['x']=_0x220355(_0x243eff[_0x4a67c0+(0x1323*-0x1+0x19ab*0x1+-0x682)],_0x243eff[_0x4a67c0+(-0x1*0x243c+-0x2ce*0x5+-0xa0f*-0x5)],_0x17456a['x']),_0x17456a['y']=_0x220355(_0x243eff[_0x4a67c0+(0x16c0+0x656*-0x3+0x3b7*-0x1)],_0x243eff[_0x4a67c0+(0x1*-0x1459+-0x1*0x62c+0x1a8f)],_0x17456a['y']),_0x17456a['z']=_0x220355(_0x243eff[_0x4a67c0+(-0x545*-0x5+-0x7c2+-0x128f)],_0x243eff[_0x4a67c0+(-0x2555+-0x2036+0x4596)],_0x17456a['z'])),_0x46f516&&(_0xbb9f8d(_0x46f516,_0x165d6c[_0x3543c6*_0x41f697+(-0x1*-0x13e9+0xa*0x1c+-0x14fe)]),_0x1487ea>-0x11*0x65+-0x7*0x495+0x3e2*0xa&&(_0x46f516['x']=_0x220355(_0x243eff[_0x4a67c0+(0x211b+0x1*-0x1114+-0xffb)],_0x243eff[_0x4a67c0+(-0x41*-0x4a+0x2a2+-0x155d)],_0x46f516['x']),_0x46f516['y']=_0x220355(_0x243eff[_0x4a67c0+(-0xae3*0x1+-0x1c65+0x1*0x2755)],_0x243eff[_0x4a67c0+(0x1549+0xd81+0x7f*-0x46)],_0x46f516['y']),_0x46f516['z']=_0x220355(_0x243eff[_0x4a67c0+(0x1c15+-0x128a+-0x97d)],_0x243eff[_0x4a67c0+(-0x5d5*-0x2+0x1338+-0x1ed1)],_0x46f516['z']))),_0x3a96dc&&(_0x10d650(_0x3a96dc,_0x165d6c[_0x3543c6*_0x41f697+(0x3c+0x4a4+-0x4dc)]),_0x3a96dc['x']=_0x220355(_0x243eff[_0x4a67c0+(-0xf3f+0x1962+0x3*-0x35b)],_0x243eff[_0x4a67c0+(-0x6a2+-0x18cf+0x1f86*0x1)],_0x3a96dc['x']),_0x3a96dc['y']=_0x220355(_0x243eff[_0x4a67c0+(-0x2506+-0xc17+0x3130)],_0x243eff[_0x4a67c0+(-0x8*0x25+0x91*0x13+0x985*-0x1)],_0x3a96dc['y']),_0x3a96dc['z']=_0x220355(_0x243eff[_0x4a67c0+(-0x8bd+-0x1752+0x1b1*0x13)],_0x243eff[_0x4a67c0+(-0x2473+0x232e+0x15c)],_0x3a96dc['z'])),_0x5b4a20&&(_0x10d650(_0x5b4a20,_0x165d6c[_0x3543c6*_0x41f697+(0x862+-0x8b*0x43+-0x4*-0x701)]),_0x5b4a20['x']=_0x220355(_0x243eff[_0x4a67c0+(0x18eb+0x17*0x139+0x11a6*-0x3)],_0x243eff[_0x4a67c0+(0x14b+-0x1a1*0xf+0x9*0x295)],_0x5b4a20['x']),_0x5b4a20['y']=_0x220355(_0x243eff[_0x4a67c0+(-0x926+-0x2575+-0x1*-0x2eb5)],_0x243eff[_0x4a67c0+(-0x1486+-0x17*-0x149+0x477*-0x2)],_0x5b4a20['y'])),_0xc00934&&_0x44549f>0x100a*0x1+-0x1*-0x1904+-0x836*0x5){for(let _0x253811=0x76f*0x3+0x568+0x1bb5*-0x1;_0x253811<-0x6*0x67d+-0xf0a+0x35fb;++_0x253811)for(let _0x3c3a78=0x1*-0x1bbd+0xe55+0xd68;_0x3c3a78<-0x1*-0x18f7+0x1c57+-0x353f*0x1;++_0x3c3a78)_0xc00934[_0x253811*(0x988+0x1a76+0x23ef*-0x1)+_0x3c3a78]=_0x3c3a78<_0x5c19c9?_0x494995[(_0x3543c6*(-0x25*0x18+-0x1*-0x229+0x152)+_0x253811)*_0x5c19c9+_0x3c3a78]*((-0x1c65*-0x1+0x2f3+-0x1f5*0x10)/(-0x1*0xc92+0x17*0x137+-0xe60))-(-0xa0b+-0x249b*0x1+-0xb5*-0x42):0x20a1+0x1dd0+-0x3e71;}};}}self['onmessage']=async _0x2cf58e=>{const {data:_0x48a5ce}=_0x2cf58e;switch(_0x48a5ce['type']){case'initWorker':break;case'decompress':_0x3ff0be(_0x48a5ce['numSplats'],_0x48a5ce['chunkData'],_0x48a5ce['chunkSize'],_0x48a5ce['vertexData'],_0x48a5ce['shData'],_0x48a5ce['shBands']);break;}};const _0x3ff0be=(_0x22548e,_0x176b46,_0xae583b,_0x5ce6d7,_0x56ce69,_0x11543b)=>{const _0xf7212e=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x11543b>0xd*0x1e7+0x185a+-0x167*0x23){const _0x4895c4=[];for(let _0x4b1910=0x1369+-0xd8f+-0x1*0x5da;_0x4b1910<0x9db+-0x25dc*-0x1+-0x2f8a;++_0x4b1910)_0x4895c4['push']('f_rest_'+_0x4b1910);_0xf7212e['splice'](_0xf7212e['indexOf']('f_dc_0')+(0x1*-0x240d+-0x2630+0x4a3e),0x16bc+-0x1d3d+0x681,..._0x4895c4);}const _0x50dc98={};_0xf7212e['forEach'](_0x21c84d=>{_0x50dc98[_0x21c84d]=new Float32Array(_0x22548e);}),console['log']('decompress');const _0x593b86=new _0x351473(),_0x141545=new _0x3e2a9e(),_0x292b2f=new _0x351473(),_0x29fb0e=new _0x44fa7c(),_0x596aef=new _0x351473(),_0x4aa2ea=new _0x351473(),_0x2a04ca=_0x11543b>-0x1211+0x1132*0x1+0xdf?new Float32Array(-0x3*-0xa2+0xc02*0x2+0x1*-0x19bd):null,_0x3acb6d=new _0x507939(_0x176b46,_0xae583b,_0x5ce6d7,_0x56ce69,_0x11543b,_0x593b86,_0x141545,_0x292b2f,_0x29fb0e,_0x596aef,_0x4aa2ea,_0x2a04ca);for(let _0x4bf8cb=0x1837+-0x1465*0x1+-0x3d2;_0x4bf8cb<_0x22548e;++_0x4bf8cb)if(_0x3acb6d['read'](_0x4bf8cb),_0x50dc98['x'][_0x4bf8cb]=_0x593b86['x'],_0x50dc98['y'][_0x4bf8cb]=_0x593b86['y'],_0x50dc98['z'][_0x4bf8cb]=_0x593b86['z'],_0x50dc98['rot_1'][_0x4bf8cb]=_0x141545['x'],_0x50dc98['rot_2'][_0x4bf8cb]=_0x141545['y'],_0x50dc98['rot_3'][_0x4bf8cb]=_0x141545['z'],_0x50dc98['rot_0'][_0x4bf8cb]=_0x141545['w'],_0x50dc98['scale_0'][_0x4bf8cb]=_0x292b2f['x'],_0x50dc98['scale_1'][_0x4bf8cb]=_0x292b2f['y'],_0x50dc98['scale_2'][_0x4bf8cb]=_0x292b2f['z'],_0x50dc98['motion_0'][_0x4bf8cb]=_0x596aef['x'],_0x50dc98['motion_1'][_0x4bf8cb]=_0x596aef['y'],_0x50dc98['motion_2'][_0x4bf8cb]=_0x596aef['z'],_0x50dc98['t_scale'][_0x4bf8cb]=_0x4aa2ea['x'],_0x50dc98['t'][_0x4bf8cb]=_0x4aa2ea['y'],_0x50dc98['f_dc_0'][_0x4bf8cb]=(_0x29fb0e['x']-(0xeff+-0x1120+0x221+0.5))/_0x247d96,_0x50dc98['f_dc_1'][_0x4bf8cb]=(_0x29fb0e['y']-(0x1d5e+0x17ea*0x1+-0x2aa*0x14+0.5))/_0x247d96,_0x50dc98['f_dc_2'][_0x4bf8cb]=(_0x29fb0e['z']-(0x5*-0x6cd+-0x25e8+0x47e9+0.5))/_0x247d96,_0x50dc98['opacity'][_0x4bf8cb]=_0x29fb0e['w']<=-0xebf+0x2159+-0x129a?-(0x1*0xe2f+0x235e*0x1+-0x3165):_0x29fb0e['w']>=0xce3*-0x3+-0x1*0x1bce+0x109e*0x4?0x21ea+0x1*-0x1eef+-0x2d3:-Math['log']((0x72d+-0xf35*-0x1+-0x1661)/_0x29fb0e['w']-(0x3df+-0xb53*0x3+0x1e1b)),_0x2a04ca){for(let _0x1c83c0=-0x6*-0x4cd+-0x8*-0x16e+-0x283e;_0x1c83c0<0x134d*0x1+-0xf*0x131+-0x141;++_0x1c83c0)_0x50dc98['f_rest_'+_0x1c83c0][_0x4bf8cb]=_0x2a04ca[_0x1c83c0];}self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x50dc98});};}class P2 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+M2['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x439630=>{if(!this['worker'])return;const {data:_0x1ee49b}=_0x439630;switch(_0x1ee49b['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x1ee49b['data']);break;}};}['decompress'](_0x5b0df3,_0x342d78,_0x5f1650,_0xdf657d,_0x1112f9,_0x1e7a59,_0x2af216){this['chunkData']=new Float32Array(_0x342d78)['slice'](),this['vertexData']=new Uint32Array(_0xdf657d)['slice'](),this['shData']=new Uint8Array(_0x1112f9)['slice'](),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x5b0df3,'chunkData':this['chunkData'],'chunkSize':_0x5f1650,'vertexData':this['vertexData'],'shData':this['shData'],'shBands':_0x1e7a59});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class R2{constructor(_0x3ddf4e,_0x77d84c,_0x46eef8,_0x11bee5,_0x187381,_0x5c3eb7,_0x50fc31,_0x5b1b46){const _0x5140da=(_0x2709db,_0x447559)=>{const _0x536da1=(0x1b0f+-0x5ec+-0x5*0x43a<<_0x447559)-(0x20ee*0x1+0x249a+0x15d*-0x33);return(_0x2709db&_0x536da1)/_0x536da1;},_0x5815a0=(_0x19ed70,_0x4bbe3a)=>{_0x19ed70['x']=_0x5140da(_0x4bbe3a>>>-0x1*0x2138+-0x1906*-0x1+0xd*0xa3,0x2*-0x70d+0xfe4+-0x1bf),_0x19ed70['y']=_0x5140da(_0x4bbe3a>>>-0xc5*-0x2f+0xca2+-0x4f*0x9e,0xa*-0x44+0x1b46*-0x1+0x1c*0x112),_0x19ed70['z']=_0x5140da(_0x4bbe3a,0x1*0x20e9+-0x1*-0x24c8+-0x45a6);},_0x222c72=(_0xd4baab,_0x50155f)=>{_0xd4baab['x']=_0x5140da(_0x50155f>>>-0x2da*0x1+0x4*0x2e7+-0x8aa,-0xdb7*0x2+0x1*0x1db9+-0x243),_0xd4baab['y']=_0x5140da(_0x50155f>>>-0x14ea+-0x17ab+0x40f*0xb,-0x1af*0x7+-0x2*-0xdc9+-0xfc1*0x1),_0xd4baab['z']=_0x5140da(_0x50155f>>>-0x2308+0x1877+-0xa99*-0x1,0x1*-0x259f+0xe86*0x1+0xbf*0x1f),_0xd4baab['w']=_0x5140da(_0x50155f,0x91c*-0x4+0xc8d+0x17eb);},_0x359195=(_0x1fa89a,_0x599412)=>{const _0x5e43a9=(0x6d*-0x57+0x53*-0x2b+0x1*0x32fd)/(Math['sqrt'](0x2*-0x137c+0x5f6+0x2104)*(-0x62+-0x1f3*-0x13+-0xb*0x355+0.5)),_0x109e23=(_0x5140da(_0x599412>>>0x2ff+-0x2*0x4a9+0x667,-0x11d6*-0x2+0x62*-0x1d+-0x1888)-(0x39*-0x5f+0x103b+0x4*0x13b+0.5))*_0x5e43a9,_0x23d7e6=(_0x5140da(_0x599412>>>-0x955+0xe*0x164+0xeb*-0xb,0x15a*-0x1c+0x1520+0x10c2)-(0x4*0x5f3+-0x16b7+-0x115+0.5))*_0x5e43a9,_0x1f78a8=(_0x5140da(_0x599412,0x4*-0x8d+0x1368+0x112a*-0x1)-(0xb*-0x337+0x88f+0x2*0xd67+0.5))*_0x5e43a9,_0x1a4869=Math['sqrt'](-0x18da*-0x1+-0x1b*0x139+0x82a-(_0x109e23*_0x109e23+_0x23d7e6*_0x23d7e6+_0x1f78a8*_0x1f78a8));switch(_0x599412>>>0xae8+0x25e4+-0x30ae*0x1){case 0x2500+0xf17+-0x3417:_0x1fa89a['set'](_0x109e23,_0x23d7e6,_0x1f78a8,_0x1a4869);break;case-0x14f1+0x2023+-0xb31*0x1:_0x1fa89a['set'](_0x1a4869,_0x23d7e6,_0x1f78a8,_0x109e23);break;case 0x199f+-0x6df*0x4+0x1df:_0x1fa89a['set'](_0x23d7e6,_0x1a4869,_0x1f78a8,_0x109e23);break;case-0x45*0x75+-0xae5+-0x1*-0x2a71:_0x1fa89a['set'](_0x23d7e6,_0x1f78a8,_0x1a4869,_0x109e23);break;}},_0x2a7ac8=(_0x5d48de,_0x40ae2d,_0x44d046)=>_0x5d48de*(0x341*-0x4+0x1*-0x335+0x103a-_0x44d046)+_0x40ae2d*_0x44d046,{chunkData:_0x6baafc,chunkSize:_0x2b62ce,vertexData:_0x5d0424,shData:_0x14982e,shBands:_0x53b319}=_0x3ddf4e,_0x574b7c=[-0x2535*-0x1+0x21ee+-0x4720,0x67a+-0x1*-0x1b6b+-0x21dd,0x3b*0x2f+-0xc75*0x3+0x1a99*0x1][_0x53b319-(-0x2*-0x9bf+-0x16b+-0x1212)],_0x36bb20=0x1f05+-0x15af+-0x950;this['read']=_0x361a67=>{const _0x1ee558=Math['floor'](_0x361a67/(0x2*0x1342+0x213*0xa+-0x3a42))*_0x2b62ce;if(_0x77d84c&&(_0x5815a0(_0x77d84c,_0x5d0424[_0x361a67*_0x36bb20+(0x13*-0x2+0x774+-0x74e)]),_0x77d84c['x']=_0x2a7ac8(_0x6baafc[_0x1ee558+(0x2508+-0x1c8a+-0x87e)],_0x6baafc[_0x1ee558+(0x1930+0x2218+-0x3b45)],_0x77d84c['x']),_0x77d84c['y']=_0x2a7ac8(_0x6baafc[_0x1ee558+(-0xec*-0x19+-0x5*0x245+-0xbb2)],_0x6baafc[_0x1ee558+(0xd5e+0x139*-0x18+0xffe)],_0x77d84c['y']),_0x77d84c['z']=_0x2a7ac8(_0x6baafc[_0x1ee558+(-0x7*-0x181+0x1*-0x174+0x1*-0x911)],_0x6baafc[_0x1ee558+(-0x6f7+0x201c+-0x1920)],_0x77d84c['z'])),_0x46eef8&&_0x359195(_0x46eef8,_0x5d0424[_0x361a67*_0x36bb20+(0x138f+0xa3d*0x2+-0x2808)]),_0x11bee5&&(_0x5815a0(_0x11bee5,_0x5d0424[_0x361a67*_0x36bb20+(0x20cf*-0x1+0x26bf+-0x5ee)]),_0x11bee5['x']=_0x2a7ac8(_0x6baafc[_0x1ee558+(0x16c2+0xeb1*0x2+-0xe*0x3b9)],_0x6baafc[_0x1ee558+(0x1*-0x1d3d+0x336+0x1a10)],_0x11bee5['x']),_0x11bee5['y']=_0x2a7ac8(_0x6baafc[_0x1ee558+(-0xde0+0x2de*0x8+0x3*-0x303)],_0x6baafc[_0x1ee558+(-0x14b7+0xe9*0x25+-0x676*0x2)],_0x11bee5['y']),_0x11bee5['z']=_0x2a7ac8(_0x6baafc[_0x1ee558+(-0x5a7*0x3+-0x13e0+0x24dd)],_0x6baafc[_0x1ee558+(-0x12fe+-0x108c+0x2395)],_0x11bee5['z'])),_0x187381&&(_0x222c72(_0x187381,_0x5d0424[_0x361a67*_0x36bb20+(-0x10ab*-0x1+-0x16e6+0x22*0x2f)]),_0x2b62ce>-0x1a70+-0x1c01*0x1+0x1*0x367d&&(_0x187381['x']=_0x2a7ac8(_0x6baafc[_0x1ee558+(-0x25d8+0x8eb+0x1cf9)],_0x6baafc[_0x1ee558+(-0x591*-0x6+0x1dda*0x1+-0x3f31)],_0x187381['x']),_0x187381['y']=_0x2a7ac8(_0x6baafc[_0x1ee558+(-0x1cf2+0x6*-0x75+0x1fbd)],_0x6baafc[_0x1ee558+(0x101e*0x1+0x1fe7+-0x2ff5)],_0x187381['y']),_0x187381['z']=_0x2a7ac8(_0x6baafc[_0x1ee558+(-0x23fc+-0x1a30+-0x5*-0xc72)],_0x6baafc[_0x1ee558+(0x26f0+0x594+-0xed1*0x3)],_0x187381['z']))),_0x5c3eb7&&(_0x5815a0(_0x5c3eb7,_0x5d0424[_0x361a67*_0x36bb20+(0x15*-0x8b+-0x1f6a*0x1+0xd7*0x33)]),_0x5c3eb7['x']=_0x2a7ac8(_0x6baafc[_0x1ee558+(-0x13*0xc1+-0x1*-0x3d7+-0x182*-0x7)],_0x6baafc[_0x1ee558+(0x1cb6+0xb24+-0x27c5*0x1)],_0x5c3eb7['x']),_0x5c3eb7['y']=_0x2a7ac8(_0x6baafc[_0x1ee558+(-0x9*0x47+-0x692+0x9*0x104)],_0x6baafc[_0x1ee558+(-0x815*0x2+-0x721*-0x5+0x5*-0x3e1)],_0x5c3eb7['y']),_0x5c3eb7['z']=_0x2a7ac8(_0x6baafc[_0x1ee558+(0xac4+-0x43c*-0x1+0x17e*-0xa)],_0x6baafc[_0x1ee558+(0x1*-0x202d+-0x136*-0x13+0x942)],_0x5c3eb7['z'])),_0x50fc31&&(_0x5815a0(_0x50fc31,_0x5d0424[_0x361a67*_0x36bb20+(0x1dea*-0x1+-0x7cc+-0x2e7*-0xd)]),_0x50fc31['x']=_0x2a7ac8(_0x6baafc[_0x1ee558+(-0x8cb+0xbf1*0x1+-0x30e)],_0x6baafc[_0x1ee558+(0xfc2+-0x72*-0x13+-0x181f)],_0x50fc31['x']),_0x50fc31['y']=_0x2a7ac8(_0x6baafc[_0x1ee558+(0x110*-0x4+-0x94f+0xda9)],_0x6baafc[_0x1ee558+(0xc7*0x1+0x2357+-0x2403)],_0x50fc31['y'])),_0x5b1b46&&_0x53b319>-0x3a6+-0x1798+0x1b3e){for(let _0x44b91b=-0x1ca7+0x3e6*0x3+0x10f5;_0x44b91b<0x1452+-0x1*0x1ac1+-0x42*-0x19;++_0x44b91b)for(let _0x4150b6=-0xc6e+-0x2374+0x36*0xe3;_0x4150b6<-0x44d*0x8+-0x9d6*0x1+0x2c4d;++_0x4150b6)_0x5b1b46[_0x44b91b*(0x208f+0x10ba+0x1*-0x313a)+_0x4150b6]=_0x4150b6<_0x574b7c?_0x14982e[(_0x361a67*(0x1*0xaf4+0x52*0x29+-0x1813)+_0x44b91b)*_0x574b7c+_0x4150b6]*((0x7e7+0x10d*-0x1+-0x1*0x6d2)/(-0x1*-0xd4f+-0x7*0x2d2+0x76e))-(-0x1aee+0xed*0x8+0x138a):0x19*-0x1+-0x15a*-0xc+-0x101f;}};}}class I2{constructor(){c(this,'numSplats'),c(this,'chunkData'),c(this,'vertexData'),c(this,'is4D'),c(this,'shData');}['createIter'](_0x557220,_0x1603eb,_0x1a9f81,_0x2544ee,_0x26988e,_0x39bc1d,_0x1920e2){return new R2(this,_0x557220,_0x1603eb,_0x1a9f81,_0x2544ee,_0x26988e,_0x39bc1d,_0x1920e2);}['calcAabb'](_0xd023a9){const {chunkData:_0x439304,numChunks:_0xe8d5f2,chunkSize:_0x30906b}=this;let _0x4197e8=Math['exp'](Math['max'](_0x439304[0x1ce6+-0x28d*-0x2+-0x1*0x21f7],_0x439304[0xf32+-0x15e7+0x6bf*0x1],_0x439304[0x4*-0x147+-0x2455*0x1+0x297c])),_0x26908d=_0x439304[0x12b3+-0x1ef7+0xc44]-_0x4197e8,_0x55da95=_0x439304[0x3a*-0x13+-0x7f*0x3d+0x2292]-_0x4197e8,_0x365e39=_0x439304[0x1032+-0x1*-0x1d23+-0x2d53]-_0x4197e8,_0x1e7d14=_0x439304[0xf08+0x1bce*0x1+-0x13*0x241]+_0x4197e8,_0xd7db00=_0x439304[-0x8*-0x12e+-0x118d*0x1+0x821*0x1]+_0x4197e8,_0x4dd034=_0x439304[-0x9*-0x305+0x1a0d+-0x3535]+_0x4197e8;for(let _0xbb0bc7=-0x230e+0x2305+0xa;_0xbb0bc7<_0xe8d5f2;++_0xbb0bc7){const _0x57a1c3=_0xbb0bc7*_0x30906b;_0x4197e8=Math['exp'](Math['max'](_0x439304[_0x57a1c3+(-0x1*0x115+0x270d+0x2eb*-0xd)],_0x439304[_0x57a1c3+(-0x556*0x6+0x25db+-0x5cd)],_0x439304[_0x57a1c3+(0x62e+0x3f+-0x331*0x2)])),_0x26908d=Math['min'](_0x26908d,_0x439304[_0x57a1c3+(0x8*-0x490+-0x1667+0x3ae7)]-_0x4197e8),_0x55da95=Math['min'](_0x55da95,_0x439304[_0x57a1c3+(0x8a3+0x239*-0xd+0x1443)]-_0x4197e8),_0x365e39=Math['min'](_0x365e39,_0x439304[_0x57a1c3+(-0x2*-0x3cb+0x1006+0x7de*-0x3)]-_0x4197e8),_0x1e7d14=Math['max'](_0x1e7d14,_0x439304[_0x57a1c3+(-0x25*0x6+0x1fe9+-0x1f08)]+_0x4197e8),_0xd7db00=Math['max'](_0xd7db00,_0x439304[_0x57a1c3+(-0x167+0x870+-0x705)]+_0x4197e8),_0x4dd034=Math['max'](_0x4dd034,_0x439304[_0x57a1c3+(-0x7b2*0x2+-0x12f7*0x1+0x370*0xa)]+_0x4197e8);}return _0xd023a9['center']['set']((_0x26908d+_0x1e7d14)*(-0x1081*0x2+-0x347+-0x7*-0x52f+0.5),(_0x55da95+_0xd7db00)*(-0x25e8+-0x1159+0x3741+0.5),(_0x365e39+_0x4dd034)*(-0x81b+-0x25bf+0x2dda+0.5)),_0xd023a9['halfExtent'+'s']['set']((_0x1e7d14-_0x26908d)*(-0x4dc+0x208e+-0x1bb2+0.5),(_0xd7db00-_0x55da95)*(0x2e*0xb8+-0x47*-0x12+-0x1307*0x2+0.5),(_0x4dd034-_0x365e39)*(0x62a+0xe8c+-0x14b6+0.5)),!(0x1fd8*0x1+-0x5*-0x3a8+-0x3220);}['getCenters'](_0x2118f0){const {vertexData:_0x1688fe,chunkData:_0x1b0ce8,numChunks:_0x34ec00,chunkSize:_0x11d3c5}=this;let _0x5c273e,_0xd3fa04,_0x4831ca,_0x195b54,_0x510939,_0x1f13ab;for(let _0x1884e6=-0xe57+-0x260a+0xfd*0x35;_0x1884e6<_0x34ec00;++_0x1884e6){const _0x4868c8=_0x1884e6*_0x11d3c5;_0x5c273e=_0x1b0ce8[_0x4868c8+(0x957*-0x1+-0x839+-0x10*-0x119)],_0xd3fa04=_0x1b0ce8[_0x4868c8+(0x16d0+0x9b2*-0x3+0x1*0x647)],_0x4831ca=_0x1b0ce8[_0x4868c8+(0x1493+-0x2*-0xc6d+-0x2d6b)],_0x195b54=_0x1b0ce8[_0x4868c8+(0x1e17+-0x790*-0x2+-0x2d34)],_0x510939=_0x1b0ce8[_0x4868c8+(-0x1c9*0x6+-0x40c+0xec6*0x1)],_0x1f13ab=_0x1b0ce8[_0x4868c8+(0xa7*-0x8+0x25db+-0x343*0xa)];const _0x4e3edb=Math['min'](this['numSplats'],(_0x1884e6+(-0x1*0xf79+-0x1*0x8cc+0x1846))*(-0x2443+0x2*0xba4+0xdfb));for(let _0x820f20=_0x1884e6*(0x8aa+0x204c+0x1e*-0x155);_0x820f20<_0x4e3edb;++_0x820f20){const _0x909c18=_0x1688fe[_0x820f20*(-0xfb+-0x4f*0x44+0x15fb)],_0x19f758=(_0x909c18>>>-0x196a+0x284+0x16fb)/(0x7*0x2bb+0x1a*-0x45+-0x41c),_0x30cb81=(_0x909c18>>>0x22ba+-0x15a7+-0xc*0x116&0x2252+0x199f+-0x1bf9*0x2)/(-0x8c*-0x27+-0x2345+0x11f0),_0x291271=(_0x909c18&0x1142+0x2f*-0x43+0x30a)/(0x1*0x1a5f+0x1b*-0x167+-0x67f*-0x3);_0x2118f0[_0x820f20*(0x3*0xe3+-0x5*-0x7d+0x1*-0x517)+(0x105e+0x3a9+0x1*-0x1407)]=(-0xffd+-0x1f03+0x2f01-_0x19f758)*_0x5c273e+_0x19f758*_0x195b54,_0x2118f0[_0x820f20*(0xba*-0x2+0x10*-0x1a2+0x1b97)+(-0x11*-0x196+-0x201a+-0x1*-0x525)]=(-0x4ea+0x1*-0x1015+-0x38*-0x60-_0x30cb81)*_0xd3fa04+_0x30cb81*_0x510939,_0x2118f0[_0x820f20*(0x1047+0x5*0x11f+-0x15df*0x1)+(-0x17c1+0x1f0a+-0x747)]=(0x491+0x5*-0x25f+0x1*0x74b-_0x291271)*_0x4831ca+_0x291271*_0x1f13ab;}}}['calcFocalP'+'oint'](_0xc7de12){const {chunkData:_0x65ad13,numChunks:_0x2d8015,chunkSize:_0xc7a01e}=this;_0xc7de12['x']=0x586+-0x1008+0x5*0x21a,_0xc7de12['y']=-0x2130+-0xe2d+-0x2f5d*-0x1,_0xc7de12['z']=-0x223*-0xd+0xb75+0x6*-0x68a;for(let _0x2b66af=-0x232a+0x7*-0x50d+0x4685;_0x2b66af<_0x2d8015;++_0x2b66af){const _0x1546d8=_0x2b66af*_0xc7a01e;_0xc7de12['x']+=_0x65ad13[_0x1546d8+(0xff5*-0x2+-0x2*-0x109c+-0x14e)]+_0x65ad13[_0x1546d8+(-0x14cf+-0x2*-0x3c1+0xd50)],_0xc7de12['y']+=_0x65ad13[_0x1546d8+(-0x20b*-0x9+-0x1*-0x1c8b+0x1*-0x2eed)]+_0x65ad13[_0x1546d8+(-0xb*-0x79+-0x95*0x17+0x834)],_0xc7de12['z']+=_0x65ad13[_0x1546d8+(-0x12c0+0x969+0x959)]+_0x65ad13[_0x1546d8+(-0x1fad+0x9*0x3e7+-0x1*0x36d)];}_0xc7de12['mulScalar']((0x49*0x41+0x3*-0x12f+-0xefc+0.5)/_0x2d8015);}get['isCompress'+'ed'](){return!(-0xbe9+-0x1739+0x2322);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0x1ce8+0x18b4+0x534));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}get['shBands'](){var _0x2365d3;return{0x3:0x1,0x8:0x2,0xf:0x3}[((_0x2365d3=this['shData'])==null?void(-0x22a0+0xc0f+0x1691):_0x2365d3['length'])/this['numSplats']/(-0x71c+-0x36d+-0x21c*-0x5)]??-0xffb+0x2*-0xa13+0x3*0xc0b;}async['decompress'](){const _0x48e7f3=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x4a78ee}=this;if(_0x4a78ee>0x256a+0x2bb+-0x2825){const _0x1df676=[];for(let _0x285fb2=-0x7*0x37+-0x15e9+0x2*0xbb5;_0x285fb2<0xe1*-0x3+-0x137*0x12+0x18ae;++_0x285fb2)_0x1df676['push']('f_rest_'+_0x285fb2);_0x48e7f3['splice'](_0x48e7f3['indexOf']('f_dc_0')+(0xf57+-0x1d46+-0x8*-0x1be),-0x270b+-0x1e12+0x451d,..._0x1df676);}const _0x459d63={};_0x48e7f3['forEach'](_0x15aef1=>{_0x459d63[_0x15aef1]=new Float32Array(this['numSplats']);});const _0x517820=new P2();return _0x517820['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData'],this['shBands'],_0x459d63),new Promise((_0x3f55ef,_0x1baaf1)=>{_0x517820['on']('decompress'+'ed',_0x1f0cc9=>{_0x517820['destroy'](),_0x3f55ef(new Ia([{'name':'vertex','count':this['numSplats'],'properties':_0x48e7f3['map'](_0x120720=>({'name':_0x120720,'type':'float','byteSize':0x4,'storage':_0x1f0cc9[_0x120720]}))}]));});});}}const D2=(_0x63e5a7,_0x4223b8,_0x548272,_0x1a78c7,_0x3e582c)=>{for(let _0x50ebce=0x5*-0x68b+0x1*-0x5c2+0x2679;_0x50ebce<_0x3e582c;++_0x50ebce)for(let _0x1698b4=-0x185e+0x2*-0x17d+-0x8c*-0x32;_0x1698b4<_0x1a78c7;++_0x1698b4)_0x63e5a7[_0x50ebce*_0x4223b8+_0x1698b4]=_0x548272[_0x50ebce*_0x1a78c7+_0x1698b4];},zg=(_0x2b2d91,_0x4f0e72,_0x492260,_0x3c2601,_0x59f51e,_0x51c312)=>{for(let _0x22c42a=0x341+-0x182e+0x14ed;_0x22c42a<_0x59f51e;++_0x22c42a)for(let _0x3385c1=0x1*-0xbc4+-0x13a1+0x1f65;_0x3385c1<_0x3c2601;++_0x3385c1)_0x2b2d91[_0x22c42a*_0x4f0e72+_0x3385c1]=_0x492260[_0x22c42a*_0x3c2601+_0x3385c1+_0x51c312];};class L2{constructor(_0x50a3ea,_0x406476){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'aabb'),c(this,'is4D'),c(this,'centers'),c(this,'packedText'+'ure'),c(this,'packedTime'+'Texture'),c(this,'chunkTextu'+'re'),c(this,'shTexture0'),c(this,'shTexture1'),c(this,'shTexture2');const {chunkData:_0x52d0e8,chunkSize:_0x11c555,numChunks:_0x3da724,numSplats:_0x562a39,vertexData:_0x2c2b60,shBands:_0x837871,is4D:_0x106160}=_0x406476;this['device']=_0x50a3ea,this['numSplats']=_0x562a39,this['numVisible'+'Splats']=_0x562a39,this['is4D']=_0x106160,this['aabb']=new _e(),_0x406476['calcAabb'](this['aabb']),this['centers']=new Float32Array(_0x562a39*(-0x1173+0x18c6+-0x750)),_0x406476['getCenters'](this['centers']),this['packedText'+'ure']=this['createText'+'ure']('packedText'+'ure',ut,this['evalTextur'+'eSize'](_0x562a39));const _0x3c5e88=this['packedText'+'ure']['lock']();zg(_0x3c5e88,0x8b3+0x1698+-0x1f47,_0x2c2b60,-0x2533+0x5a3+0x2*0xfcb,_0x562a39,0x63b+-0xe30+0x7f5),this['packedTime'+'Texture']=this['createText'+'ure']('packedTime'+'Texture',ut,this['evalTextur'+'eSize'](_0x562a39));const _0x478300=this['packedTime'+'Texture']['lock']();zg(_0x478300,-0x3a9*-0x7+0x1e47+0x49*-0xc4,_0x2c2b60,0x20+0x19d2+0x2a*-0x9e,_0x562a39,-0x1f39+0x1f*-0x125+0x42b8);const _0x2ba06d=this['evalTextur'+'eSize'](_0x3da724);_0x2ba06d['x']*=-0x29*0x2+-0x206e*-0x1+-0xbf*0x2b,this['chunkTextu'+'re']=this['createText'+'ure']('chunkData',Ke,_0x2ba06d);const _0x33404c=this['chunkTextu'+'re']['lock']();if(D2(_0x33404c,(-0x1*0x89f+-0xb6d+-0x6b0*-0x3)*(0x1915+0x1*-0x74f+-0x19d*0xb),_0x52d0e8,_0x11c555,_0x3da724),_0x11c555===0xe*0x7e+-0x3df+0x1*-0x2f9){for(let _0x40bdce=-0xbb+0x1bc+0x101*-0x1;_0x40bdce<_0x3da724;++_0x40bdce)_0x33404c[_0x40bdce*(0x1c09+-0x2622+-0x5*-0x209)+(-0x26f8+-0xb*0x373+0x99f*0x8)]=0x18e8+0x71*-0x1d+-0xc1a,_0x33404c[_0x40bdce*(0x2*-0x709+-0xc56+0x8d4*0x3)+(0x181e+-0x1*-0x1413+-0x2c21)]=0x1f*-0x6+-0xc3f+0x12e*0xb,_0x33404c[_0x40bdce*(-0x1b1a+-0x3*0xad9+0x3bb9)+(-0xb5*-0x19+-0x1*0x6ce+0x3*-0x39a)]=0x1*-0x1df9+-0x115+0x1f0f;}if(this['chunkTextu'+'re']['unlock'](),_0x837871>0xa64+0x2b*-0x76+0x96e){const {shData:_0x390a3f}=_0x406476,_0x271914=this['evalTextur'+'eSize'](_0x562a39),_0x53219e=this['createText'+'ure']('shTexture0',ut,_0x271914),_0x1800a3=this['createText'+'ure']('shTexture1',ut,_0x271914),_0x43b4d7=this['createText'+'ure']('shTexture2',ut,_0x271914),_0x31155c=_0x53219e['lock'](),_0x1740c2=_0x1800a3['lock'](),_0x4716d0=_0x43b4d7['lock'](),_0x369dd6=new Uint8Array(_0x31155c['buffer']),_0x65f4c2=new Uint8Array(_0x1740c2['buffer']),_0x5a189d=new Uint8Array(_0x4716d0['buffer']),_0x46c95b=[-0x43c*-0x6+0x2b6+-0x1c1b,0xdb5*0x2+0x1a95+-0xf*0x399,-0x21*0x2f+0x1e59*-0x1+0x2477*0x1][_0x837871-(-0x1*-0x20cb+0xe1+-0x21ab)];for(let _0x2b9956=-0xe8e+0xd1*-0x20+0xfe*0x29;_0x2b9956<_0x562a39;++_0x2b9956)for(let _0x5541d1=-0x63a*-0x2+0x106*0x1d+-0x2*0x1511;_0x5541d1<0xa46+-0x1*0x224b+0x4*0x605;++_0x5541d1)_0x369dd6[_0x2b9956*(0x8e1*0x3+0x1372*0x2+0x4177*-0x1)+_0x5541d1]=_0x5541d1<_0x46c95b?_0x390a3f[(_0x2b9956*(0x1112+-0x164c+-0x9*-0x95)+(-0xd*0x142+-0x11d2+0xa2*0x36))*_0x46c95b+_0x5541d1]:-0x1*-0x1972+0x161e+0x1*-0x2f11,_0x65f4c2[_0x2b9956*(-0x712*0x4+-0x82f*-0x1+-0x18d*-0xd)+_0x5541d1]=_0x5541d1<_0x46c95b?_0x390a3f[(_0x2b9956*(0x485+-0x1572+0x10f0)+(-0x2266+-0x1d71*-0x1+0x7f*0xa))*_0x46c95b+_0x5541d1]:-0x2f*-0x43+-0xec8+0x2fa,_0x5a189d[_0x2b9956*(0x1*-0xa7+-0x3*0x546+0x33*0x53)+_0x5541d1]=_0x5541d1<_0x46c95b?_0x390a3f[(_0x2b9956*(0x28c*0x2+0x6a*0x43+-0xaf1*0x3)+(-0x347+-0x24f3+0x283c))*_0x46c95b+_0x5541d1]:0x1*0x333+0x1316+0x15ca*-0x1;_0x53219e['unlock'](),_0x1800a3['unlock'](),_0x43b4d7['unlock'](),this['shTexture0']=_0x53219e,this['shTexture1']=_0x1800a3,this['shTexture2']=_0x43b4d7;}else this['shTexture0']=null,this['shTexture1']=null,this['shTexture2']=null;}['destroy'](){var _0x2c6bc4,_0x332b94,_0x2c194c,_0x16a8e3,_0x955e4e,_0x1b860f;(_0x2c6bc4=this['packedText'+'ure'])==null||_0x2c6bc4['destroy'](),(_0x332b94=this['packedTime'+'Texture'])==null||_0x332b94['destroy'](),(_0x2c194c=this['chunkTextu'+'re'])==null||_0x2c194c['destroy'](),(_0x16a8e3=this['shTexture0'])==null||_0x16a8e3['destroy'](),(_0x955e4e=this['shTexture1'])==null||_0x955e4e['destroy'](),(_0x1b860f=this['shTexture2'])==null||_0x1b860f['destroy']();}['createMate'+'rial'](_0x3433a8){const _0x100af1=z0(_0x3433a8);return _0x100af1['setDefine']('GSPLAT_COM'+'PRESSED_DA'+'TA',!(-0x9*0x25e+-0x1*0x1f4b+0x1*0x3499)),_0x100af1['setParamet'+'er']('packedText'+'ure',this['packedText'+'ure']),_0x100af1['setParamet'+'er']('packedTime'+'Texture',this['packedTime'+'Texture']),_0x100af1['setParamet'+'er']('chunkTextu'+'re',this['chunkTextu'+'re']),_0x100af1['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x100af1['setParamet'+'er']('IS_4D',this['is4D']),this['shTexture0']?(_0x100af1['setDefine']('SH_BANDS',0x3*-0x303+-0x1baa+-0x1*-0x24b6),_0x100af1['setParamet'+'er']('shTexture0',this['shTexture0']),_0x100af1['setParamet'+'er']('shTexture1',this['shTexture1']),_0x100af1['setParamet'+'er']('shTexture2',this['shTexture2'])):_0x100af1['setDefine']('SH_BANDS',0x11*0xe5+0x1*-0x623+0x9*-0x102),_0x100af1;}['evalTextur'+'eSize'](_0x5ade0c){const _0x458287=Math['ceil'](Math['sqrt'](_0x5ade0c)),_0x40fbc8=Math['ceil'](_0x5ade0c/_0x458287);return new W(_0x458287,_0x40fbc8);}['createText'+'ure'](_0x139a88,_0x62f202,_0x523d02,_0x13e5be){return new he(this['device'],{'name':_0x139a88,'width':_0x523d02['x'],'height':_0x523d02['y'],'format':_0x62f202,'cubemap':!(0xee8+0xb*-0x259+0xaec),'mipmaps':!(-0x1*-0x751+-0x17*-0xb8+-0x17d8),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,..._0x13e5be?{'levels':[_0x13e5be]}:{}});}}class F2{constructor(_0x46c57f,_0x4f90eb,_0x2506ee){c(this,'device'),c(this,'splatData'),c(this,'splat',null),c(this,'comments',null),c(this,'splatInsta'+'nce',null),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['device']=_0x46c57f,this['splatData']=_0x4f90eb,this['comments']=_0x2506ee);}['destroy'](){var _0x1190b4;this['device']=null,this['splatData']=null,(_0x1190b4=this['splat'])==null||_0x1190b4['destroy'](),this['splat']=null,this['splatInsta'+'nce']=null;}['createSpla'+'t'](){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eSplat'),this['splat']||(this['splat']=this['splatData']['isCompress'+'ed']?new L2(this['device'],this['splatData']):new V1(this['device'],this['splatData'])),this['splat'];}['appendGSpl'+'atData'](_0x47a14a,_0xe06ae2,_0x52a4fe){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatDat'+'a'),this['splat']['timeOption']=_0xe06ae2,this['splatData']['appendGSpl'+'atData'](_0x47a14a,_0x52a4fe,_0xe06ae2),this['splat']['updateData'](this['splatData']),this['splatInsta'+'nce']['updateData'](this['splat']);}['instantiat'+'e'](_0x5b3895={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.insta'+'ntiate'),this['splatInsta'+'nce']=this['createInst'+'ance'](_0x5b3895);const _0x2cf1c2=new We(),_0x1b55d0=_0x2cf1c2['addCompone'+'nt']('gsplat',{'instance':this['splatInsta'+'nce']});return _0x2cf1c2['setLocalEu'+'lerAngles'](-0x1*-0x1dae+-0xda2+-0x100c,-0x1af5+-0x859*-0x3+0x1ea,-0x33f+0x3e5*-0x7+0x1e82),_0x1b55d0['customAabb']=this['splatInsta'+'nce']['splat']['aabb']['clone'](),_0x2cf1c2;}['createInst'+'ance'](_0x4190dc={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eInstance');const _0x1bb42a=this['createSpla'+'t']();return new Np(_0x1bb42a,_0x4190dc);}}const Ug=new Uint8Array([-0x18*0x3b+-0x15*-0x98+-0x680,0x1e79+0x26e2+-0x44ef,0xd*-0x23b+-0x23b6+0x412e,0x133a+-0x1e6d*-0x1+-0x319d]),Vg=new Uint8Array([-0xf90+0xf6b+0x1*0x2f,0x2253+-0x137f+-0xe6f,0x12dd+0x18da*0x1+-0x2b49,0x1*0x94+-0xff+0xcf,0xcf1+-0x101*-0x5+-0xed*0x13,0x250a*-0x1+0x59*0x28+0x178a,0xe74+-0x2f*0xa7+-0x352*-0x5,-0x1*-0x1541+-0x889+-0xc57,-0x18a*0x4+0x172e+-0x10a2,0x1f*-0xc4+0x4*-0x44f+0x295d*0x1,-0x467*-0x1+-0x2145+0x1d50,-0x1c6e+-0x230a+-0xb*-0x5c6]),bf=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class O2{constructor(_0x41bb86,_0x5277ef){c(this,'reader'),c(this,'progressFu'+'nc'),c(this,'data'),c(this,'view'),c(this,'head',-0x237+0x139b+-0x1164),c(this,'tail',0xbe9*0x3+0xac3+0x2*-0x173f),(this['reader']=_0x41bb86,this['progressFu'+'nc']=_0x5277ef);}async['read'](){var _0x593359;const {value:_0x297d1b,done:_0x2a9d07}=await this['reader']['read']();if(_0x2a9d07)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x297d1b),(_0x593359=this['progressFu'+'nc'])==null||_0x593359['call'](this,_0x297d1b['byteLength']);}['push'](_0x2f15cc){if(!this['data'])this['data']=_0x2f15cc,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x2f15cc['length'];else{const _0x6e7de1=this['tail']-this['head'],_0x5040db=_0x6e7de1+_0x2f15cc['length'];if(this['data']['length']>=_0x5040db)this['head']>0x151a*-0x1+-0x20d3+0x35ed?(this['data']['copyWithin'](0x167e+0x2*0xa08+-0x2a8e,this['head'],this['tail']),this['data']['set'](_0x2f15cc,_0x6e7de1),this['head']=0x10ca+-0x803+-0x8c7,this['tail']=_0x5040db):(this['data']['set'](_0x2f15cc,this['tail']),this['tail']+=_0x2f15cc['length']);else{const _0x7b0a9b=new Uint8Array(_0x5040db);this['head']>-0x14ae+0xb*-0x33+-0x493*-0x5||this['tail']<this['data']['length']?_0x7b0a9b['set'](this['data']['subarray'](this['head'],this['tail']),0x25ab+-0x1291*-0x1+-0x383c):_0x7b0a9b['set'](this['data'],-0x4*0x3e6+-0x765+0x16fd),_0x7b0a9b['set'](_0x2f15cc,_0x6e7de1),this['data']=_0x7b0a9b,this['view']=new DataView(this['data']['buffer']),this['head']=0x1*-0x502+0xa7a+0x1*-0x578,this['tail']=_0x5040db;}}}['compact'](){this['head']>0xd9*0x2a+-0x1636+-0xd64&&(this['data']['copyWithin'](-0x4f7+-0xe87+-0x1*-0x137e,this['head'],this['tail']),this['tail']-=this['head'],this['head']=0x8ad+0x1e09+-0x26b6);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x5f13c1=this['view']['getInt8'](this['head']);return this['head']++,_0x5f13c1;}['getUint8'](){const _0x22df7f=this['view']['getUint8'](this['head']);return this['head']++,_0x22df7f;}['getInt16'](){const _0x9d6ff=this['view']['getInt16'](this['head'],!(-0x1465+0x2*-0x466+0x3*0x9bb));return this['head']+=-0x11*0x183+-0x1fe+0x1bb3,_0x9d6ff;}['getUint16'](){const _0x2db184=this['view']['getUint16'](this['head'],!(0x737*-0x3+-0xf84+0x2529));return this['head']+=0xc3e+-0x13ad+0x7f*0xf,_0x2db184;}['getInt32'](){const _0x38c70d=this['view']['getInt32'](this['head'],!(0x1503+0x2357+-0x2*0x1c2d));return this['head']+=0x7c2*0x5+0x2*0xddc+-0x427e,_0x38c70d;}['getUint32'](){const _0x3d4b9e=this['view']['getUint32'](this['head'],!(-0xdf3*-0x1+-0x32d+0x7*-0x18a));return this['head']+=0xd9f+-0x129e+-0x503*-0x1,_0x3d4b9e;}['getFloat32'](){const _0x47b2ca=this['view']['getFloat32'](this['head'],!(0x1bff*-0x1+-0x1d61+0x12*0x330));return this['head']+=0x89b+-0x116c+0x8d5,_0x47b2ca;}['getFloat64'](){const _0x2565c4=this['view']['getFloat64'](this['head'],!(-0x85d*0x2+-0x18bc+0x2976));return this['head']+=-0x209e+0x112d+0x1*0xf79,_0x2565c4;}}const k2=_0x272f96=>{console['log']('____\x20ENGIN'+'E\x20IVAN','parse\x20ply\x20'+'Header');const _0x3a5de9=[],_0x3e07ec=[];let _0xa08d0a;for(let _0x3337db=0x6c4+0x2061+-0x2724;_0x3337db<_0x272f96['length'];++_0x3337db){const _0xbc6b40=_0x272f96[_0x3337db]['split']('\x20');switch(_0xbc6b40[0x1*0x113d+-0x53*-0x67+-0x32a2]){case'comment':_0x3e07ec['push'](_0xbc6b40['slice'](0x1fa4+0xa44+-0x1*0x29e7)['join']('\x20'));break;case'format':_0xa08d0a=_0xbc6b40[0x2508+-0x121*-0x6+0x1*-0x2bcd];break;case'element':_0x3a5de9['push']({'name':_0xbc6b40[0x75d*0x2+-0xf6+-0xdc3],'count':parseInt(_0xbc6b40[-0x79*0x17+-0x1*-0xbc9+-0xe8],-0xbb*0x14+0x16a7+0x3*-0x2ab),'properties':[]});break;case'property':{if(!bf['has'](_0xbc6b40[-0xc7*0x21+0x171*0x1+0x1*0x1837]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0xbc6b40[-0x1935+-0x1e52*-0x1+-0x51c]+('\x27\x20in\x20ply\x20h'+'eader'));_0x3a5de9[_0x3a5de9['length']-(-0x17bf+0x494+0x664*0x3)]['properties']['push']({'type':_0xbc6b40[-0x12*0x1f5+0x29*0x1c+0x1ebf],'name':_0xbc6b40[-0x131d+0x1746+-0x427],'storage':null,'byteSize':bf['get'](_0xbc6b40[-0x54b*0x1+-0x1908+0x1e54])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0xbc6b40[0x1df2+-0x18a7+-0x54b]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x3a5de9,'format':_0xa08d0a,'comments':_0x3e07ec};},B2=_0x209ac7=>{const _0x395186=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x18ffb8=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x9b8ed1=new Array(-0x4*-0x1fd+-0x1fdf*0x1+0x1818)['fill']('')['map']((_0x1c979b,_0x21bb6c)=>'f_rest_'+_0x21bb6c),_0x90d221=()=>_0x209ac7[0x2*0xeb+0x24e9+-0x26bf]['name']==='chunk'&&_0x209ac7[0xec*0x6+0xc29+-0x11b1]['properties']['every']((_0x27ae1e,_0x2bc33d)=>_0x27ae1e['name']===_0x395186[_0x2bc33d]&&_0x27ae1e['type']==='float')&&_0x209ac7[0x134a+0x21f5*-0x1+0xeac]['name']==='vertex'&&_0x209ac7[0x2194+-0x123e*-0x1+-0x17b*0x23]['properties']['every']((_0xe22a0d,_0x262f7d)=>_0xe22a0d['name']===_0x18ffb8[_0x262f7d]&&_0xe22a0d['type']==='uint'),_0x31519e=()=>_0x209ac7[-0x216f+-0xf44+0x30b5]['name']==='sh'&&[-0xc8a+0x2543+-0x18b0,0xb*0x2d8+0xfb8+-0x2ee8,0x2ab*-0xa+0x55*0x42+-0x37*-0x17]['indexOf'](_0x209ac7[-0x21cf+0x142b+0xda6]['properties']['length'])!==-(-0x55*0x69+-0x1b05+0x3de3*0x1)&&_0x209ac7[-0x47e+-0x2*0xe5d+0x2*0x109d]['properties']['every']((_0x3702ba,_0x49237b)=>_0x3702ba['name']===_0x9b8ed1[_0x49237b]&&_0x3702ba['type']==='uchar');return _0x209ac7['length']===-0x7d*0x29+-0xb4f*-0x1+0xba*0xc&&_0x90d221()||_0x209ac7['length']===-0xd82+-0x527*-0x3+-0x1f0&&_0x90d221()&&_0x31519e();},N2=_0x34df61=>_0x34df61['length']===0x13b4+-0x4*-0x607+-0x8c3*0x5&&_0x34df61[-0x1*-0x12a3+-0x4fd*-0x5+-0x2b94*0x1]['name']==='vertex'&&_0x34df61[0x2595+-0x1ca7+-0x8ee]['properties']['every'](_0x12d38f=>_0x12d38f['type']==='float'),z2=async(_0x46edbc,_0x2ebef8)=>{const _0x51bd7c=new I2(),_0x25c527=_0x2ebef8[-0x4*-0x203+0xa20+-0x122c]['count'],_0x3bf93d=_0x2ebef8[0x1*-0x266f+0x88a*-0x2+0x3783]['properties']['length'],_0x3224ab=_0x2ebef8[0x7a3+0x9dd+-0x117f]['count'],_0x1331ee=_0x2ebef8[0x124b+-0x120*-0x1+0x1f1*-0xa]['properties']['some'](_0x17f9c8=>_0x17f9c8['name']==='packed_tim'+'e'),_0x4c61b7=_0x168737=>{const _0x498ac7=Math['ceil'](Math['sqrt'](_0x168737)),_0x3bc864=Math['ceil'](_0x168737/_0x498ac7);return _0x498ac7*_0x3bc864;};_0x51bd7c['numSplats']=_0x3224ab,_0x51bd7c['is4D']=_0x1331ee,_0x51bd7c['chunkData']=new Float32Array(_0x25c527*_0x3bf93d),_0x51bd7c['vertexData']=new Uint32Array(_0x4c61b7(_0x3224ab)*(0xcbc+0x26a8+0x20e*-0x19));const _0x3321fd=async(_0x45d4f1,_0xa90a6c)=>{const _0x1770c1=new Uint8Array(_0x45d4f1);let _0x17ea54=-0x3*0x36d+0x74f+0x2f8*0x1;for(;_0x17ea54<_0xa90a6c;){for(;_0x46edbc['remaining']===0x30*0x6d+0x158c+-0x29fc;)await _0x46edbc['read']();const _0x294dea=Math['min'](_0xa90a6c-_0x17ea54,_0x46edbc['remaining']),_0x2b1d78=_0x46edbc['data'];for(let _0xaf6d50=0x445*0x1+0x116+-0x1c9*0x3;_0xaf6d50<_0x294dea;++_0xaf6d50)_0x1770c1[_0x17ea54++]=_0x2b1d78[_0x46edbc['head']++];}};return await _0x3321fd(_0x51bd7c['chunkData']['buffer'],_0x25c527*_0x3bf93d*(0x4*0x5a5+-0x1d1+-0x2f*0x71)),await _0x3321fd(_0x51bd7c['vertexData']['buffer'],_0x3224ab*(-0x199c+-0x4f9*0x4+0x2d86*0x1)*(-0x979*0x1+0x2035+0x16b8*-0x1)),_0x2ebef8['length']===0x2538+-0xc16+-0x191f&&(_0x51bd7c['shData']=new Uint8Array(_0x2ebef8[-0x474*-0x1+0xaf*0x4+-0x72e]['count']*_0x2ebef8[0xb50+-0x1a00+-0x63*-0x26]['properties']['length']),await _0x3321fd(_0x51bd7c['shData']['buffer'],_0x51bd7c['shData']['byteLength'])),_0x51bd7c;},U2=async(_0x257e54,_0x509dff)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readFloatP'+'ly');const _0x24653a=_0x509dff[-0x1*0x2156+-0x26*0x2+0x46*0x7b],_0x482416=_0x24653a['properties'],_0x3b0a61=_0x482416['length'],_0x314bc9=_0x482416['map'](_0x3b1907=>_0x3b1907['storage']),_0x19459d=_0x482416['reduce']((_0x4396fa,_0x44ce9d)=>_0x4396fa+_0x44ce9d['byteSize'],-0x109*0x1a+-0x398+0x1e82);let _0x35d774=0x1c83*-0x1+-0x3*0x936+0x12b7*0x3,_0x586e13;const _0xc9d124=()=>{const _0x565175=_0x257e54['data']['buffer'];(_0x586e13==null?void(0x1ae6+-0x1*0x2216+-0x1cc*-0x4):_0x586e13['buffer'])!==_0x565175&&(_0x586e13=new Float32Array(_0x565175,0x2*-0xe93+-0x22*-0x49+-0x4*-0x4dd,_0x565175['byteLength']/(-0x659*0x2+0x6*-0x464+0x270e)));};for(_0xc9d124();_0x35d774<_0x24653a['count'];){for(;_0x257e54['remaining']<_0x19459d;)await _0x257e54['read'](),_0xc9d124();const _0x47120f=Math['min'](_0x24653a['count']-_0x35d774,Math['floor'](_0x257e54['remaining']/_0x19459d));for(let _0x542684=-0x1eb6+0x2214+-0x35e;_0x542684<_0x3b0a61;++_0x542684){const _0xe7a59e=_0x314bc9[_0x542684];for(let _0x414c86=0x6c2+-0x17cb*-0x1+-0x365*0x9;_0x414c86<_0x47120f;++_0x414c86)_0xe7a59e[_0x414c86+_0x35d774]=_0x586e13[_0x414c86*_0x3b0a61+_0x542684];}_0x35d774+=_0x47120f,_0x257e54['head']+=_0x47120f*_0x19459d;}return new Ia(_0x509dff);},V2=async(_0x1c1126,_0x351103)=>{for(let _0x11a2a3=-0x3be*-0x4+0x2*0x355+-0x15a2;_0x11a2a3<_0x351103['length'];++_0x11a2a3){const _0x1bf98e=_0x351103[_0x11a2a3],_0x4eb7f6=_0x1bf98e['properties']['reduce']((_0x274b15,_0x1de25c)=>_0x274b15+_0x1de25c['byteSize'],0x120b*-0x1+-0x17d2+0x29dd),_0x2c4bf1=_0x1bf98e['properties']['map'](_0x3f64a7=>{if(_0x3f64a7['storage'])switch(_0x3f64a7['type']){case'char':return(_0x1a02ff,_0x2bbab9)=>{_0x3f64a7['storage'][_0x2bbab9]=_0x1a02ff['getInt8']();};case'uchar':return(_0x33b878,_0x29f3a7)=>{_0x3f64a7['storage'][_0x29f3a7]=_0x33b878['getUint8']();};case'short':return(_0x1e0175,_0x5097ec)=>{_0x3f64a7['storage'][_0x5097ec]=_0x1e0175['getInt16']();};case'ushort':return(_0x443637,_0x537e02)=>{_0x3f64a7['storage'][_0x537e02]=_0x443637['getUint16']();};case'int':return(_0x3a5204,_0x556762)=>{_0x3f64a7['storage'][_0x556762]=_0x3a5204['getInt32']();};case'uint':return(_0x3d8c0b,_0x6a2b94)=>{_0x3f64a7['storage'][_0x6a2b94]=_0x3d8c0b['getUint32']();};case'float':return(_0x53e91c,_0x18c64b)=>{_0x3f64a7['storage'][_0x18c64b]=_0x53e91c['getFloat32']();};case'double':return(_0x1867d1,_0x22d81e)=>{_0x3f64a7['storage'][_0x22d81e]=_0x1867d1['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x3f64a7['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x54ebde=>{_0x54ebde['head']+=_0x3f64a7['byteSize'];};});let _0x5cbabb=0xd*0x8b+-0x188f*-0x1+-0x1f9e;for(;_0x5cbabb<_0x1bf98e['count'];){for(;_0x1c1126['remaining']<_0x4eb7f6;)await _0x1c1126['read']();const _0x1099ca=Math['min'](_0x1bf98e['count']-_0x5cbabb,Math['floor'](_0x1c1126['remaining']/_0x4eb7f6));for(let _0x1c3312=0x36d*0x2+0x15ab+-0x1c85;_0x1c3312<_0x1099ca;++_0x1c3312){for(let _0x373ce1=-0x8*0x375+-0x14e7+0x308f;_0x373ce1<_0x1bf98e['properties']['length'];++_0x373ce1)_0x2c4bf1[_0x373ce1](_0x1c1126,_0x5cbabb);_0x5cbabb++;}}}return new Ia(_0x351103);},G2=async(_0x3c5e19,_0x1f6d8e=null,_0x3cca13=null)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readPly');const _0x2588d3=(_0x227cd2,_0x221efb)=>{const _0x1032a1=_0x227cd2['length']-_0x221efb['length'];let _0x3f9858,_0x1ac351;for(_0x3f9858=-0xa27+0x1*0x3b7+0x670;_0x3f9858<=_0x1032a1;++_0x3f9858){for(_0x1ac351=-0x595+0xbf6*-0x2+0x1d81;_0x1ac351<_0x221efb['length']&&_0x227cd2[_0x3f9858+_0x1ac351]===_0x221efb[_0x1ac351];++_0x1ac351);if(_0x1ac351===_0x221efb['length'])return _0x3f9858;}return-(0x1e09+-0xd*-0x43+0x216f*-0x1);},_0x368480=(_0x580220,_0x2081d2)=>{if(_0x580220['length']<_0x2081d2['length'])return!(0x17*0x8d+0x3*-0x251+-0x5b7);for(let _0x44cf38=-0x129f+0x3*0xcb3+-0x137a;_0x44cf38<_0x2081d2['length'];++_0x44cf38)if(_0x580220[_0x44cf38]!==_0x2081d2[_0x44cf38])return!(0x2325*0x1+-0xcf3+0x1*-0x1631);return!(-0x2515*0x1+-0xc*0xeb+-0x3019*-0x1);},_0x24b399=new O2(_0x3c5e19,_0x3cca13);let _0x407a9e;for(;;){if(await _0x24b399['read'](),_0x24b399['tail']>=Ug['length']&&!_0x368480(_0x24b399['data'],Ug))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x407a9e=_0x2588d3(_0x24b399['data'],Vg),_0x407a9e!==-(0x5*0x107+0x12a*-0x20+-0x100f*-0x2))break;}const _0x4f31a8=new TextDecoder('ascii')['decode'](_0x24b399['data']['subarray'](-0xf*-0x1e5+-0x2b0+-0x19bb,_0x407a9e))['split']('\x0a'),{elements:_0x5cdbbd,format:_0x204089,comments:_0x14f6d2}=k2(_0x4f31a8);if(_0x204089!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x24b399['head']=_0x407a9e+Vg['length'],_0x24b399['compact'](),{'data':await((async()=>B2(_0x5cdbbd)?await z2(_0x24b399,_0x5cdbbd):(_0x5cdbbd['forEach'](_0x26c80e=>{_0x26c80e['properties']['forEach'](_0x113449=>{const _0x565424=bf['get'](_0x113449['type']);if(_0x565424){const _0x45c293=!_0x1f6d8e||_0x1f6d8e(_0x113449['name'])?new _0x565424(_0x26c80e['count']):null;_0x113449['storage']=_0x45c293;}});}),N2(_0x5cdbbd)?await U2(_0x24b399,_0x5cdbbd):await V2(_0x24b399,_0x5cdbbd)))()),'comments':_0x14f6d2};},H2=_0xf137ca=>!(-0x2*0x124c+-0x2d2*0x6+-0xd61*-0x4);class W2{constructor(_0x37639e,_0x129156,_0x3e6fc3){c(this,'urlList'),c(this,'device'),c(this,'assets'),c(this,'maxRetries'),c(this,'gsplatReso'+'urce'),(console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20P'+'lyParser.c'+'onstructor'),this['device']=_0x37639e,this['assets']=_0x129156,this['maxRetries']=_0x3e6fc3,this['urlList']=[],this['gsplatReso'+'urce']=null);}async['load'](_0x24a85e,_0x48a1d2,_0x4e21db){this['urlList']=[],console['log']('____\x20ENGIN'+'E\x20IVAN','PlyParser.'+'load'),_0x24a85e['load']['includes'](',')?this['urlList']=_0x24a85e['load']['split'](','):this['urlList']['push'](_0x24a85e['load']);const _0x196a03=_0x4e21db['data']['loadAllSeq']?this['urlList']['length']:-0x23c+0x129e*0x2+-0x22ff,_0x516165=_0x4e21db['data']['timeOption'],_0x2e5417=_0x4e21db['data']['events'];for(let _0x28b79f=0x8cc*-0x1+-0x1ece+0x279a;_0x28b79f<_0x196a03;_0x28b79f++)await this['loadGsplat'+'Data'](this['urlList'][_0x28b79f]['trim'](),_0x48a1d2,_0x4e21db,_0x28b79f,_0x516165,_0x2e5417);}async['loadGsplat'+'Data'](_0x178b43,_0x495811,_0x4f9537,_0x5c1d33,_0x13e90a,_0x647e64){var _0x5a0ab4;try{const _0x447898=await fetch(_0x178b43);if(!_0x447898||!_0x447898['body'])_0x495811('Error\x20load'+'ing\x20resour'+'ce',null);else{const _0x819178=parseInt(_0x447898['headers']['get']('content-le'+'ngth')??'0',-0x1c44+-0x3e*0x9d+0x4254);let _0x4239fa=0x1268+-0x1c37+0x9cf;const {data:_0x495056,comments:_0x3a2fca}=await G2(_0x447898['body']['getReader'](),_0x4f9537['data']['elementFil'+'ter']??H2,_0x4cfc40=>{_0x4239fa+=_0x4cfc40,_0x4f9537&&_0x647e64['fire']('progress',_0x4239fa,_0x819178);});_0x495056['isCompress'+'ed']||_0x4f9537['data']['reorder'],this['gsplatReso'+'urce']&&((_0x5a0ab4=this['gsplatReso'+'urce'])!=null&&_0x5a0ab4['splatData'])?this['gsplatReso'+'urce']['appendGSpl'+'atData'](_0x495056['isCompress'+'ed']&&_0x4f9537['data']['decompress']?await _0x495056['decompress']():_0x495056,_0x13e90a,_0x5c1d33):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new F2(this['device'],_0x495056['isCompress'+'ed']&&_0x4f9537['data']['decompress']?await _0x495056['decompress']():_0x495056,_0x3a2fca),this['gsplatReso'+'urce']['timeOption']=_0x13e90a,_0x647e64['fire']('progressEn'+'d')),_0x495811(null,this['gsplatReso'+'urce']);}}catch(_0x5a6a3d){_0x495811(_0x5a6a3d,null);}}['open'](_0x117013,_0x4782f5){return _0x4782f5;}}class $2 extends Ne{constructor(_0x474fb5){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x474fb5,'gsplat'),this['parser']=new W2(_0x474fb5['graphicsDe'+'vice'],_0x474fb5['assets'],-0xac8+-0xc3d+0x1708);}['load'](_0x20c0d4,_0x55f52d,_0x378a5d){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x20c0d4=='string'&&(_0x20c0d4={'load':_0x20c0d4,'original':_0x20c0d4}),this['parser']['load'](_0x20c0d4,_0x55f52d,_0x378a5d);}['open'](_0x380f64,_0x641b42,_0x54b856){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),this['parser']['open'](_0x380f64,_0x641b42,_0x54b856);}}class wf{static['setCompres'+'sedPRS'](_0x2fbf13,_0x1c1a47,_0x1f9d99){const _0x506511=_0x1f9d99['singleVecs'];let _0x147fe4,_0x3f567e;const _0x4b776c=_0x1c1a47['___1'];_0x4b776c||(_0x147fe4=_0x1f9d99['tripleVecs'],_0x3f567e=_0x1c1a47['___2']);let _0x5088b8=_0x4b776c?_0x4b776c[-0x4e*-0x49+0x305*0x1+-0x1*0x1943]:_0x147fe4[_0x3f567e];_0x2fbf13['setLocalPo'+'sition'](_0x506511[_0x5088b8],_0x506511[_0x5088b8+(0x11be+0x3*0xa6d+-0x3104)],_0x506511[_0x5088b8+(-0x7*-0xf+0x62d+-0x694)]),_0x5088b8=_0x4b776c?_0x4b776c[-0x2692*-0x1+0x8fd*-0x2+-0x1497*0x1]:_0x147fe4[_0x3f567e+(-0x2640+-0x41*0x56+0x3c17)],_0x2fbf13['setLocalEu'+'lerAngles'](_0x506511[_0x5088b8],_0x506511[_0x5088b8+(0x18e6*0x1+-0x1*0x2523+0xc3e)],_0x506511[_0x5088b8+(-0x4fe+0x131*-0x9+0xfb9)]),_0x5088b8=_0x4b776c?_0x4b776c[-0xa6*0x1c+-0x1*-0x1837+-0x60d]:_0x147fe4[_0x3f567e+(-0xdb5+0x4*0x8bd+-0x153d*0x1)],_0x2fbf13['setLocalSc'+'ale'](_0x506511[_0x5088b8],_0x506511[_0x5088b8+(-0x15cb*0x1+0x2203*0x1+-0xc37*0x1)],_0x506511[_0x5088b8+(-0x493*0x3+0x415+0x9a6)]);}static['oneCharToK'+'ey'](_0x4ef151,_0x53a6f7){const _0x572005=_0x4ef151['charCodeAt'](-0x815+0xb62*0x1+0x5*-0xa9)-_0x53a6f7['fieldFirst'+'Code'];return _0x53a6f7['fieldArray'][_0x572005];}static['multCharTo'+'Key'](_0x3c7407,_0x4a39f3){let _0x29bca4=0x1ff5+-0x1*0xfd9+0x2*-0x80e;for(let _0x4dd011=-0x1*0x2063+0x8ea*0x3+0x5a5;_0x4dd011<_0x3c7407['length'];_0x4dd011++)_0x29bca4=_0x29bca4*_0x4a39f3['fieldCodeB'+'ase']+_0x3c7407['charCodeAt'](_0x4dd011)-_0x4a39f3['fieldFirst'+'Code'];return _0x4a39f3['fieldArray'][_0x29bca4];}}class sc{constructor(_0x5176ea,_0x170ce2){this['_node']=_0x5176ea,this['_data']=_0x170ce2;}['run'](){const _0x1886a7=Object['prototype']['toString']['call'](this['_node']);return _0x1886a7==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x1886a7==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x17bc86){let _0x2f9875=_0x17bc86;const _0x1847dc=_0x17bc86['length'];_0x1847dc===-0x1784+0x57*-0x7+0x19e6?_0x2f9875=wf['oneCharToK'+'ey'](_0x17bc86,this['_data']):_0x1847dc===0x1c36*-0x1+-0x96c+-0x1*-0x25a4&&(_0x2f9875=wf['multCharTo'+'Key'](_0x17bc86,this['_data'])),this['_result'][_0x2f9875]=new sc(this['_node'][_0x17bc86],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x2d601f){const _0x4fec68=new sc(_0x2d601f,this['_data'])['run']();this['_result']['push'](_0x4fec68);}}class Wp{constructor(_0x5e41f7,_0x2d3d09){this['_app']=_0x5e41f7,this['_isTemplat'+'e']=_0x2d3d09;}['parse'](_0x33ed10){const _0x15a9df={};let _0x11ff26=null;const _0x3ed575=_0x33ed10['compressed'+'Format'];_0x3ed575&&!_0x33ed10['entDecompr'+'essed']&&(_0x33ed10['entDecompr'+'essed']=!(0x1c17+-0x8c0+-0x1357),_0x33ed10['entities']=new sc(_0x33ed10['entities'],_0x3ed575)['run']());for(const _0x34af5e in _0x33ed10['entities']){const _0xfde0e9=_0x33ed10['entities'][_0x34af5e],_0x2530e8=this['_createEnt'+'ity'](_0xfde0e9,_0x3ed575);_0x15a9df[_0x34af5e]=_0x2530e8,_0xfde0e9['parent']===null&&(_0x11ff26=_0x2530e8);}for(const _0x3eca07 in _0x33ed10['entities']){const _0x10e304=_0x15a9df[_0x3eca07],_0x5da0a0=_0x33ed10['entities'][_0x3eca07]['children'],_0x3191d7=_0x5da0a0['length'];for(let _0x4d54dd=0xa65+0x201*-0x11+0x14*0x12f;_0x4d54dd<_0x3191d7;_0x4d54dd++){const _0x3a9849=_0x15a9df[_0x5da0a0[_0x4d54dd]];_0x3a9849&&_0x10e304['addChild'](_0x3a9849);}}return this['_openCompo'+'nentData'](_0x11ff26,_0x33ed10['entities']),_0x11ff26;}['_createEnt'+'ity'](_0x3f1d88,_0x3ac30b){const _0x309a51=new We(_0x3f1d88['name'],this['_app']);if(_0x309a51['setGuid'](_0x3f1d88['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x309a51,_0x3f1d88,_0x3ac30b),_0x309a51['_enabled']=_0x3f1d88['enabled']??!(-0x17*-0x125+0x962+-0x23b5),this['_isTemplat'+'e']?_0x309a51['_template']=!(-0xeec+0x3*-0x16f+0x7*0x2bf):_0x309a51['_enabledIn'+'Hierarchy']=_0x309a51['_enabled'],_0x309a51['template']=_0x3f1d88['template'],_0x3f1d88['tags']){for(let _0x43a799=0xcfd+-0x1a62+0x7f*0x1b;_0x43a799<_0x3f1d88['tags']['length'];_0x43a799++)_0x309a51['tags']['add'](_0x3f1d88['tags'][_0x43a799]);}return _0x309a51;}['_setPosRot'+'Scale'](_0x548ae6,_0x510904,_0x37fb56){if(_0x37fb56)wf['setCompres'+'sedPRS'](_0x548ae6,_0x510904,_0x37fb56);else{const _0x3d2696=_0x510904['position'],_0x54fd3f=_0x510904['rotation'],_0xaff61f=_0x510904['scale'];_0x548ae6['setLocalPo'+'sition'](_0x3d2696[0x351+0xb*-0x2b3+0x1a60],_0x3d2696[-0x36*-0x17+-0x293*-0x2+-0x9ff],_0x3d2696[0x26df+-0x257a+-0x163*0x1]),_0x548ae6['setLocalEu'+'lerAngles'](_0x54fd3f[-0x7*-0x1fc+0x18dc+-0x26c0],_0x54fd3f[0x1714+-0x1ee5+0x7d2],_0x54fd3f[-0x8b*-0x33+0x599*0x1+0xd5*-0x28]),_0x548ae6['setLocalSc'+'ale'](_0xaff61f[0x13d6+-0x1a93*-0x1+-0x2e69],_0xaff61f[-0x645*0x1+0x69d*0x3+-0x1*0xd91],_0xaff61f[-0x2443*0x1+-0x967+0x16d6*0x2]);}}['_openCompo'+'nentData'](_0x4e1ac8,_0x4a9066){const _0x2e6ebf=this['_app']['systems']['list'];let _0x4c655b=_0x2e6ebf['length'];const _0x6a31bd=_0x4a9066[_0x4e1ac8['getGuid']()];for(let _0x494380=-0x1*-0x26da+-0x1cef+0x9eb*-0x1;_0x494380<_0x4c655b;_0x494380++){const _0x3c91b=_0x2e6ebf[_0x494380],_0x3104b3=_0x6a31bd['components'][_0x3c91b['id']];_0x3104b3&&_0x3c91b['addCompone'+'nt'](_0x4e1ac8,_0x3104b3);}_0x4c655b=_0x6a31bd['children']['length'];const _0x50a913=_0x4e1ac8['_children'];for(let _0x5e2edd=-0x510+0x38*-0x1a+-0x20*-0x56;_0x5e2edd<_0x4c655b;_0x5e2edd++)_0x50a913[_0x5e2edd]?_0x50a913[_0x5e2edd]=this['_openCompo'+'nentData'](_0x50a913[_0x5e2edd],_0x4a9066):v['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x4e1ac8['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x4e1ac8;}}class Lx{static['load'](_0x33b50a,_0xf7967c,_0x14eb7d){typeof _0x33b50a=='string'&&(_0x33b50a={'load':_0x33b50a,'original':_0x33b50a}),$e['get'](_0x33b50a['load'],{'retry':_0xf7967c>-0x5*0x689+0x1bb1+0x13f*0x4,'maxRetries':_0xf7967c},(_0x24c719,_0x1b32f4)=>{if(!_0x24c719)_0x14eb7d(_0x24c719,_0x1b32f4);else{let _0x1655a0='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x33b50a['original'];_0x24c719['message']?(_0x1655a0+=':\x20'+_0x24c719['message'],_0x24c719['stack']&&(_0x1655a0+='\x0a'+_0x24c719['stack'])):_0x1655a0+=':\x20'+_0x24c719,_0x14eb7d(_0x1655a0);}});}}class q2 extends Ne{constructor(_0x464d4a){super(_0x464d4a,'hierarchy');}['load'](_0x34998e,_0x4661d4){Lx['load'](_0x34998e,this['maxRetries'],_0x4661d4);}['open'](_0x40ffe8,_0x437b65){this['_app']['systems']['script']['preloading']=!(-0x42e*-0x5+-0xd88+-0x75e);const _0x4c8c88=new Wp(this['_app'],!(-0x17*0xaa+0x180b+-0x84*0x11))['parse'](_0x437b65);return this['_app']['systems']['script']['preloading']=!(-0xb*0x316+0x1849+0x9aa),_0x4c8c88;}}class X2 extends Ne{constructor(_0x2b1511){super(_0x2b1511,'html'),c(this,'decoder',null);}['load'](_0x2ca756,_0x55856e){typeof _0x2ca756=='string'&&(_0x2ca756={'load':_0x2ca756,'original':_0x2ca756}),$e['get'](_0x2ca756['load'],{'retry':this['maxRetries']>-0x4*-0x411+0x287*0x2+0x1*-0x1552,'maxRetries':this['maxRetries']},(_0x360224,_0xf0b471)=>{_0x360224?_0x55856e('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x2ca756['original']+'\x20['+_0x360224+']'):_0x55856e(null,_0xf0b471);});}['openBinary'](_0xca2014){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0xca2014);}}class j2 extends Ne{constructor(_0x4e0a5b){super(_0x4e0a5b,'json'),c(this,'decoder',null);}['load'](_0x17954b,_0x2d5473){typeof _0x17954b=='string'&&(_0x17954b={'load':_0x17954b,'original':_0x17954b});const _0x3cba15={'retry':this['maxRetries']>-0x8eb+0x6ec+0x1ff,'maxRetries':this['maxRetries']};_0x17954b['load']['startsWith']('blob:')&&(_0x3cba15['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x17954b['load'],_0x3cba15,(_0x38b5fb,_0x2e1380)=>{_0x38b5fb?_0x2d5473('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x17954b['original']+'\x20['+_0x38b5fb+']'):_0x2d5473(null,_0x2e1380);});}['openBinary'](_0x24996e){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x24996e));}}class Y2{constructor(){this['removeInva'+'lid']=!(0x329*0x2+-0x21*-0x19+-0x98b),this['valid']=!(-0x1892+-0x75d*0x5+0x3d63),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([Kb,Bo,Lu]),'cull':this['_createEnu'+'mValidator']([mt,rn,mo,RS]),'blendType':this['_createEnu'+'mValidator']([n0,yp,Kt,is,hr,xp,Hc,a0,o0,l0,h0]),'depthFunc':this['_createEnu'+'mValidator']([IS,Eh,Ch,fu,DS,LS,FS,Ai])};}['setInvalid'](_0x137efe,_0x15fc48){this['valid']=!(-0x8e3+0x3*-0x6f7+-0x5*-0x5f5),v['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x137efe,_0x15fc48[_0x137efe]),this['removeInva'+'lid']&&delete _0x15fc48[_0x137efe];}['validate'](_0x60f06c){const _0x5f0238=Pa,_0x24f9c7=QC,_0x2fe26d=_0x60f06c['mappingFor'+'mat']==='path';for(const _0x23bbef in _0x60f06c){const _0x1b90c7=_0x5f0238[_0x23bbef];if(!_0x1b90c7){_0x24f9c7[_0x23bbef]?delete _0x60f06c[_0x23bbef]:(v['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x23bbef),this['valid']=!(-0x13f3*0x1+-0x185*0x3+-0x4e7*-0x5));continue;}if(_0x1b90c7['startsWith']('enum')){const _0x348211=_0x1b90c7['split'](':')[0x1813+-0xf*0x59+-0x12db];this['enumValida'+'tors'][_0x348211]&&(this['enumValida'+'tors'][_0x348211](_0x60f06c[_0x23bbef])||this['setInvalid'](_0x23bbef,_0x60f06c));}else{if(_0x1b90c7==='number')typeof _0x60f06c[_0x23bbef]!='number'&&this['setInvalid'](_0x23bbef,_0x60f06c);else{if(_0x1b90c7==='boolean')typeof _0x60f06c[_0x23bbef]!='boolean'&&this['setInvalid'](_0x23bbef,_0x60f06c);else{if(_0x1b90c7==='string')typeof _0x60f06c[_0x23bbef]!='string'&&this['setInvalid'](_0x23bbef,_0x60f06c);else{if(_0x1b90c7==='vec2')_0x60f06c[_0x23bbef]instanceof Array&&_0x60f06c[_0x23bbef]['length']===-0x15*-0xf3+0x19d1+-0x926*0x5||this['setInvalid'](_0x23bbef,_0x60f06c);else{if(_0x1b90c7==='rgb')_0x60f06c[_0x23bbef]instanceof Array&&_0x60f06c[_0x23bbef]['length']===0x1*-0xd27+-0xa*-0x32c+0x128e*-0x1||this['setInvalid'](_0x23bbef,_0x60f06c);else{if(_0x1b90c7==='texture')_0x2fe26d?typeof _0x60f06c[_0x23bbef]=='string'||_0x60f06c[_0x23bbef]===null||_0x60f06c[_0x23bbef]instanceof he||this['setInvalid'](_0x23bbef,_0x60f06c):typeof _0x60f06c[_0x23bbef]=='number'||_0x60f06c[_0x23bbef]===null||_0x60f06c[_0x23bbef]instanceof he||this['setInvalid'](_0x23bbef,_0x60f06c);else{if(_0x1b90c7==='boundingbo'+'x')_0x60f06c[_0x23bbef]['center']&&_0x60f06c[_0x23bbef]['center']instanceof Array&&_0x60f06c[_0x23bbef]['center']['length']===0x7ae+-0x58*0x28+0x615||this['setInvalid'](_0x23bbef,_0x60f06c),_0x60f06c[_0x23bbef]['halfExtent'+'s']&&_0x60f06c[_0x23bbef]['halfExtent'+'s']instanceof Array&&_0x60f06c[_0x23bbef]['halfExtent'+'s']['length']===0x2130+-0x4*-0x536+-0x3605||this['setInvalid'](_0x23bbef,_0x60f06c);else{if(_0x1b90c7==='cubemap')typeof _0x60f06c[_0x23bbef]=='number'||_0x60f06c[_0x23bbef]===null||_0x60f06c[_0x23bbef]===void(0x3*0x98c+0x1d41+-0x39e5)||_0x60f06c[_0x23bbef]instanceof he&&_0x60f06c[_0x23bbef]['cubemap']||this['setInvalid'](_0x23bbef,_0x60f06c);else{if(_0x1b90c7==='chunks'){const _0x19da3d=Object['keys'](_0x60f06c[_0x23bbef]);for(let _0x298b3e=0x1921+0x19d5+-0x251*0x16;_0x298b3e<_0x19da3d['length'];_0x298b3e++)typeof _0x60f06c[_0x23bbef][_0x19da3d[_0x298b3e]]!='string'&&this['setInvalid'](_0x19da3d[_0x298b3e],_0x60f06c[_0x23bbef]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x1b90c7);}}}}}}}}}}return _0x60f06c['validated']=!(-0xd3d+-0x1812+0x254f),this['valid'];}['_createEnu'+'mValidator'](_0x6dba85){return function(_0x3946ad){return _0x6dba85['indexOf'](_0x3946ad)>=-0x35b*0xb+0x17e3+0xd06;};}}class K2{constructor(){this['_validator']=null;}['parse'](_0x5356bb){const _0xde10a8=this['migrate'](_0x5356bb),_0x60832f=this['_validate'](_0xde10a8),_0xf91deb=new cs();return this['initialize'](_0xf91deb,_0x60832f),_0xf91deb;}['initialize'](_0x51d1d6,_0x3c6b13){_0x3c6b13['validated']||(_0x3c6b13=this['_validate'](_0x3c6b13)),_0x3c6b13['chunks']&&(_0x51d1d6['chunks']={..._0x3c6b13['chunks']});for(const _0x1ed2b1 in _0x3c6b13){const _0x53e54b=Pa[_0x1ed2b1],_0x586855=_0x3c6b13[_0x1ed2b1];if(_0x53e54b==='vec2')_0x51d1d6[_0x1ed2b1]=new W(_0x586855[-0x19e7+-0x56a*-0x1+-0x419*-0x5],_0x586855[0x3d5+0x3*-0x827+0x14a1]);else{if(_0x53e54b==='rgb')_0x51d1d6[_0x1ed2b1]=new Y(_0x586855[-0x2609+0x134+0x24d5],_0x586855[-0xfa1+-0x901*-0x2+0x8*-0x4c],_0x586855[0x7ef+0x8f4+-0x1d*0x95]);else{if(_0x53e54b==='texture')_0x586855 instanceof he?_0x51d1d6[_0x1ed2b1]=_0x586855:_0x51d1d6[_0x1ed2b1]instanceof he&&typeof _0x586855=='number'&&_0x586855>-0x19b5+-0x9aa+0x235f||(_0x51d1d6[_0x1ed2b1]=null);else{if(_0x53e54b==='cubemap')_0x586855 instanceof he?_0x51d1d6[_0x1ed2b1]=_0x586855:_0x51d1d6[_0x1ed2b1]instanceof he&&typeof _0x586855=='number'&&_0x586855>0x1830+0x501+-0x1d31||(_0x51d1d6[_0x1ed2b1]=null),_0x1ed2b1==='cubeMap'&&!_0x586855&&(_0x51d1d6['prefiltere'+'dCubemaps']=null);else{if(_0x53e54b==='boundingbo'+'x'){const _0x7cfc9b=new T(_0x586855['center'][-0x1d13+0x17*-0x130+0x3863],_0x586855['center'][0x112c+0x2270+-0x339b],_0x586855['center'][0x2004+-0x8*-0x4d5+-0x46aa]),_0x595876=new T(_0x586855['halfExtent'+'s'][0x247d+0x1c65+-0x40e2],_0x586855['halfExtent'+'s'][0xe81+-0x292*0x8+-0x610*-0x1],_0x586855['halfExtent'+'s'][-0xc13+-0x23b2+0x1*0x2fc7]);_0x51d1d6[_0x1ed2b1]=new _e(_0x7cfc9b,_0x595876);}else _0x51d1d6[_0x1ed2b1]=_0x3c6b13[_0x1ed2b1];}}}}}_0x51d1d6['update']();}['migrate'](_0x3b315e){_0x3b315e['shader']&&delete _0x3b315e['shader'],_0x3b315e['mapping_fo'+'rmat']&&(_0x3b315e['mappingFor'+'mat']=_0x3b315e['mapping_fo'+'rmat'],delete _0x3b315e['mapping_fo'+'rmat']);let _0x56d170;const _0x1d5552=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x56d170=0x1165+0x4*0x90f+-0x35a1;_0x56d170<_0x1d5552['length'];_0x56d170++){const _0x3ff2f9=_0x1d5552[_0x56d170][0x1137+-0x8b*0x2d+0x738],_0x1819ab=_0x1d5552[_0x56d170][-0x2d1+0x13b9+0x1*-0x10e7];_0x3b315e[_0x3ff2f9]!==void(0x613*-0x3+-0x1d*-0xc9+-0x48c)&&(_0x3b315e[_0x1819ab]===void(-0x1d93*-0x1+-0x74b+-0x1648)&&(_0x3b315e[_0x1819ab]=_0x3b315e[_0x3ff2f9]),delete _0x3b315e[_0x3ff2f9]);}const _0x146cd5=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x56d170=-0x67+-0x13*0x106+0x1*0x13d9;_0x56d170<_0x146cd5['length'];_0x56d170++){const _0x53269=_0x146cd5[_0x56d170];_0x3b315e['hasOwnProp'+'erty'](_0x53269)&&delete _0x3b315e[_0x53269];}return _0x3b315e;}['_validate'](_0x52dc6b){return _0x52dc6b['validated']||(this['_validator']||(this['_validator']=new Y2()),this['_validator']['validate'](_0x52dc6b)),_0x52dc6b;}}const Z2={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black'};class Q2 extends Ne{constructor(_0x594b8e){super(_0x594b8e,'material'),this['_assets']=_0x594b8e['assets'],this['_device']=_0x594b8e['graphicsDe'+'vice'],this['_parser']=new K2();}['load'](_0x45e8f0,_0x47e820){typeof _0x45e8f0=='string'&&(_0x45e8f0={'load':_0x45e8f0,'original':_0x45e8f0}),$e['get'](_0x45e8f0['load'],{'retry':this['maxRetries']>0x1c45*0x1+0x2*-0xd64+-0x3*0x7f,'maxRetries':this['maxRetries']},(_0x24c178,_0x5da500)=>{_0x24c178?_0x47e820&&_0x47e820('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x45e8f0['original']+'\x20['+_0x24c178+']'):_0x47e820&&(_0x5da500['_engine']=!(0x4*0x239+0xd25+-0x1609),_0x47e820(null,_0x5da500));});}['open'](_0x230942,_0x4c75c1){const _0x1d2421=this['_parser']['parse'](_0x4c75c1);return _0x4c75c1['_engine']&&(_0x1d2421['_data']=_0x4c75c1,delete _0x4c75c1['_engine']),_0x1d2421;}['patch'](_0x2cb981,_0x4e0a89){_0x2cb981['resource']['_data']&&(_0x2cb981['_data']=_0x2cb981['resource']['_data'],delete _0x2cb981['resource']['_data']),_0x2cb981['data']['name']=_0x2cb981['name'],_0x2cb981['resource']['name']=_0x2cb981['name'],this['_bindAndAs'+'signAssets'](_0x2cb981,_0x4e0a89),_0x2cb981['off']('unload',this['_onAssetUn'+'load'],this),_0x2cb981['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x20e230){delete _0x20e230['data']['parameters'],delete _0x20e230['data']['chunks'],delete _0x20e230['data']['name'];}['_assignTex'+'ture'](_0x47ced8,_0x5b2240,_0x55e42a){_0x5b2240['resource'][_0x47ced8]=_0x55e42a;}['_getPlaceh'+'olderTextu'+'re'](_0x22ae44){const _0x5bf3a9=Z2[_0x22ae44];return v['assert'](_0x5bf3a9,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x22ae44),en(this['_device'],_0x5bf3a9);}['_assignPla'+'ceholderTe'+'xture'](_0x52f72d,_0x29806a){_0x29806a['resource'][_0x52f72d]=this['_getPlaceh'+'olderTextu'+'re'](_0x52f72d);}['_onTexture'+'Load'](_0x2cd109,_0x5dff99,_0x380fb6){this['_assignTex'+'ture'](_0x2cd109,_0x5dff99,_0x380fb6['resource']),_0x5dff99['resource']['update']();}['_onTexture'+'Add'](_0x231aa7,_0x2bd974,_0x22e04e){this['_assets']['load'](_0x22e04e);}['_onTexture'+'RemoveOrUn'+'load'](_0xf149e9,_0x3ccba5,_0x24e7cc){const _0xec86c0=_0x3ccba5['resource'];_0xec86c0&&_0x3ccba5['resource'][_0xf149e9]===_0x24e7cc['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0xf149e9,_0x3ccba5),_0xec86c0['update']());}['_assignCub'+'emap'](_0x503dc3,_0x16b19b,_0x5e5d0e){if(_0x16b19b['resource'][_0x503dc3]=_0x5e5d0e[0xce7+-0x23d*-0xa+-0x2349],_0x503dc3==='cubeMap'){const _0x2f9e27=_0x5e5d0e['slice'](-0x1*-0xaf3+-0xbfe+0x10c);_0x2f9e27['every'](_0x1886f2=>_0x1886f2)?_0x16b19b['resource']['prefiltere'+'dCubemaps']=_0x2f9e27:_0x2f9e27[-0x1a7*0xe+-0x17c4+0x2ee6]&&(_0x16b19b['resource']['envAtlas']=_0x2f9e27[-0x607+0x6a2+-0x9b]);}}['_onCubemap'+'Load'](_0x554007,_0x2748d8,_0x5b1961){this['_assignCub'+'emap'](_0x554007,_0x2748d8,_0x5b1961['resources']),this['_parser']['initialize'](_0x2748d8['resource'],_0x2748d8['data']);}['_onCubemap'+'Add'](_0x1d70dc,_0x53f69c,_0x32ed64){this['_assets']['load'](_0x32ed64);}['_onCubemap'+'RemoveOrUn'+'load'](_0x2b761f,_0x50527c,_0x233687){const _0x38e516=_0x50527c['resource'];_0x50527c['data']['prefiltere'+'dCubeMap12'+'8']===_0x233687['resources'][-0x1910+0x5ad*-0x3+-0x2a18*-0x1]&&(this['_assignCub'+'emap'](_0x2b761f,_0x50527c,[null,null,null,null,null,null,null]),_0x38e516['update']());}['_bindAndAs'+'signAssets'](_0x2c52cf,_0x3b0113){const _0x1c5771=this['_parser']['migrate'](_0x2c52cf['data']),_0x1f81a8=_0x2c52cf['resource'],_0x2bbacf=_0x1c5771['mappingFor'+'mat']==='path',_0x144e0f=Kc;let _0x2b6df3,_0x468c83,_0x5c3dd0;for(_0x2b6df3=-0x7b*-0x34+0x388*-0x1+-0x1574;_0x2b6df3<_0x144e0f['length'];_0x2b6df3++){_0x468c83=_0x144e0f[_0x2b6df3],_0x5c3dd0=_0x1f81a8['_assetRefe'+'rences'][_0x468c83];const _0x414644=_0x1c5771[_0x468c83],_0x5efc7e=_0x1f81a8[_0x468c83],_0x4dce49=_0x5efc7e===this['_getPlaceh'+'olderTextu'+'re'](_0x468c83),_0x504cfb=_0x1c5771['validated'];_0x414644&&(!_0x5efc7e||!_0x504cfb||_0x4dce49)?(_0x5c3dd0||(_0x5c3dd0=new Go(_0x468c83,_0x2c52cf,_0x3b0113,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x1f81a8['_assetRefe'+'rences'][_0x468c83]=_0x5c3dd0),_0x2bbacf?_0x5c3dd0['url']=_0x2c52cf['getAbsolut'+'eUrl'](_0x414644):_0x5c3dd0['id']=_0x414644,_0x5c3dd0['asset']&&(_0x5c3dd0['asset']['resource']?this['_assignTex'+'ture'](_0x468c83,_0x2c52cf,_0x5c3dd0['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x468c83,_0x2c52cf),_0x3b0113['load'](_0x5c3dd0['asset']))):_0x5c3dd0&&(_0x2bbacf?_0x5c3dd0['url']=null:_0x5c3dd0['id']=null);}const _0x735eb7=Fp;for(_0x2b6df3=0x1495+-0x19c1+0x52c*0x1;_0x2b6df3<_0x735eb7['length'];_0x2b6df3++)_0x468c83=_0x735eb7[_0x2b6df3],_0x5c3dd0=_0x1f81a8['_assetRefe'+'rences'][_0x468c83],_0x1c5771[_0x468c83]&&!_0x2c52cf['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x5c3dd0||(_0x5c3dd0=new Go(_0x468c83,_0x2c52cf,_0x3b0113,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x1f81a8['_assetRefe'+'rences'][_0x468c83]=_0x5c3dd0),_0x2bbacf?_0x5c3dd0['url']=_0x1c5771[_0x468c83]:_0x5c3dd0['id']=_0x1c5771[_0x468c83],_0x5c3dd0['asset']&&(_0x5c3dd0['asset']['loaded']&&this['_assignCub'+'emap'](_0x468c83,_0x2c52cf,_0x5c3dd0['asset']['resources']),_0x3b0113['load'](_0x5c3dd0['asset'])));this['_parser']['initialize'](_0x1f81a8,_0x1c5771);}}class J2{constructor(_0x279743){this['_device']=_0x279743['device'],this['_defaultMa'+'terial']=_0x279743['defaultMat'+'erial'],this['_assets']=_0x279743['assets'];}['parse'](_0x2f7c06,_0x1c4d60,_0x1f970f){tc['parse']('filename.g'+'lb','',_0x2f7c06,this['_device'],this['_assets'],(_0x1f970f==null?void(-0x2579*0x1+-0x1ea7*0x1+0xda*0x50):_0x1f970f['options'])??{},(_0x19a656,_0x35311)=>{if(_0x19a656)_0x1c4d60(_0x19a656);else{const _0x4d92be=tr['createMode'+'l'](_0x35311,this['_defaultMa'+'terial']);_0x35311['destroy'](),_0x1c4d60(null,_0x4d92be);}});}}const eL={'points':Mc,'lines':Pc,'lineloop':My,'linestrip':Py,'triangles':Ms,'trianglestrip':ar,'trianglefan':Yr},tL={'int8':Rc,'uint8':Kr,'int16':Ic,'uint16':el,'int32':By,'uint32':Do,'float32':Ee};class sL{constructor(_0x326587){this['_device']=_0x326587['device'],this['_defaultMa'+'terial']=_0x326587['defaultMat'+'erial'];}['parse'](_0x44009f,_0x3164e5){const _0x312d52=_0x44009f['model'];if(!_0x312d52){_0x3164e5(null,null);return;}if(_0x312d52['version']<=0xfdd*0x1+-0x45*0x65+0xb5d){_0x3164e5('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x159772=this['_parseNode'+'s'](_0x44009f),_0x5d41d1=this['_parseSkin'+'s'](_0x44009f,_0x159772),_0x3cc61c=this['_parseVert'+'exBuffers'](_0x44009f),_0x2a8176=this['_parseInde'+'xBuffers'](_0x44009f,_0x3cc61c),_0x4e9cbd=this['_parseMorp'+'hs'](_0x44009f,_0x159772,_0x3cc61c),_0x46fe90=this['_parseMesh'+'es'](_0x44009f,_0x5d41d1['skins'],_0x4e9cbd['morphs'],_0x3cc61c,_0x2a8176['buffer'],_0x2a8176['data']),_0x3fb1fb=this['_parseMesh'+'Instances'](_0x44009f,_0x159772,_0x46fe90,_0x5d41d1['skins'],_0x5d41d1['instances'],_0x4e9cbd['morphs'],_0x4e9cbd['instances']),_0x4483a9=new Oi();_0x4483a9['graph']=_0x159772[0x1*-0x2487+-0x2695+0x16*0x36a],_0x4483a9['meshInstan'+'ces']=_0x3fb1fb,_0x4483a9['skinInstan'+'ces']=_0x5d41d1['instances'],_0x4483a9['morphInsta'+'nces']=_0x4e9cbd['instances'],_0x4483a9['getGraph']()['syncHierar'+'chy'](),_0x3164e5(null,_0x4483a9);}['_parseNode'+'s'](_0x2e0e9b){const _0x1a16ae=_0x2e0e9b['model'],_0x3ea432=[];let _0x4cacf8;for(_0x4cacf8=-0x1813+-0x4d5+0x128*0x19;_0x4cacf8<_0x1a16ae['nodes']['length'];_0x4cacf8++){const _0x369c83=_0x1a16ae['nodes'][_0x4cacf8],_0x311cc8=new De(_0x369c83['name']);_0x311cc8['setLocalPo'+'sition'](_0x369c83['position'][-0x1a0b+-0x11ee+-0x1*-0x2bf9],_0x369c83['position'][-0x1bf1+-0xac*-0x6+0x17ea],_0x369c83['position'][0x3*0x318+0x2cf*0xc+-0x2afa]),_0x311cc8['setLocalEu'+'lerAngles'](_0x369c83['rotation'][0x7*0x20b+-0x26b2+0x1865],_0x369c83['rotation'][-0x1*-0x1d5d+0x5*-0x5d+-0x1b8b*0x1],_0x369c83['rotation'][-0x16f9+0xf41+0x7ba]),_0x311cc8['setLocalSc'+'ale'](_0x369c83['scale'][0x956*0x1+-0x1c9*0x2+-0x4*0x171],_0x369c83['scale'][0x18c5+-0x45d*-0x3+-0x1*0x25db],_0x369c83['scale'][-0x224+0x1b69+-0x1943]),_0x311cc8['scaleCompe'+'nsation']=!!_0x369c83['scaleCompe'+'nsation'],_0x3ea432['push'](_0x311cc8);}for(_0x4cacf8=-0xa7*-0xb+0x1616+-0x1d42;_0x4cacf8<_0x1a16ae['parents']['length'];_0x4cacf8++)_0x3ea432[_0x1a16ae['parents'][_0x4cacf8]]['addChild'](_0x3ea432[_0x4cacf8]);return _0x3ea432;}['_parseSkin'+'s'](_0x469b8b,_0x142d70){const _0x21b8a0=_0x469b8b['model'],_0x113fda=[],_0x47cd14=[];let _0x3d1e99,_0x46c001;for(_0x3d1e99=-0x60d*-0x3+0x1223+-0xa*0x3a1;_0x3d1e99<_0x21b8a0['skins']['length'];_0x3d1e99++){const _0x4881bb=_0x21b8a0['skins'][_0x3d1e99],_0x374efd=[];for(_0x46c001=-0x7e9+0xa84+-0x1d*0x17;_0x46c001<_0x4881bb['inverseBin'+'dMatrices']['length'];_0x46c001++){const _0x5217b4=_0x4881bb['inverseBin'+'dMatrices'][_0x46c001];_0x374efd[_0x46c001]=new q()['set'](_0x5217b4);}const _0x4810bc=new N0(this['_device'],_0x374efd,_0x4881bb['boneNames']);_0x113fda['push'](_0x4810bc);const _0x2dfe00=new nl(_0x4810bc),_0x1d9104=[];for(_0x46c001=-0x1559*0x1+0x270*0x7+0x449;_0x46c001<_0x4810bc['boneNames']['length'];_0x46c001++){const _0x50b176=_0x4810bc['boneNames'][_0x46c001],_0xfbd02b=_0x142d70[-0x24c3+-0xbe+0x2581*0x1]['findByName'](_0x50b176);_0x1d9104['push'](_0xfbd02b);}_0x2dfe00['bones']=_0x1d9104,_0x47cd14['push'](_0x2dfe00);}return{'skins':_0x113fda,'instances':_0x47cd14};}['_getMorphV'+'ertexCount'](_0x545d54,_0x30a737,_0x2ada37){for(let _0x307f3d=-0x1af0+0x21e6+-0x6f6;_0x307f3d<_0x545d54['meshes']['length'];_0x307f3d++){const _0x3aed2c=_0x545d54['meshes'][_0x307f3d];if(_0x3aed2c['morph']===_0x30a737)return _0x2ada37[_0x3aed2c['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x488914,_0x52914d,_0x205e0c){const _0x1ff5e4=_0x488914['model'],_0x162ae3=[],_0x3d8bfd=[];let _0x944679,_0x53f239,_0x48580a,_0xb70ca6,_0x3aaff1,_0x4875d6;if(_0x1ff5e4['morphs']){const _0x26fd2f=function(_0x5a8f52,_0x2799bf,_0xff0fc8){const _0x5ed033=new Float32Array(_0xff0fc8*(0x24c9+-0x5*0x2a1+0x107*-0x17));for(let _0xe1c3dc=0xe89+-0x10fd+0x274;_0xe1c3dc<_0x2799bf['length'];_0xe1c3dc++){const _0x5182cf=_0x2799bf[_0xe1c3dc]*(-0xa2b*0x2+0x1406+0x53);_0x5ed033[_0x5182cf]=_0x5a8f52[_0xe1c3dc*(-0x85a+0x1fa5+-0x2e9*0x8)],_0x5ed033[_0x5182cf+(0x1b83*0x1+0x1*-0x20c3+0x5*0x10d)]=_0x5a8f52[_0xe1c3dc*(0x801+0x117c+-0x197a)+(0x529+-0x33*0x32+0x4ce)],_0x5ed033[_0x5182cf+(-0x1fc3+0x1d09*-0x1+0x3cce)]=_0x5a8f52[_0xe1c3dc*(-0x9*-0x351+-0x4f3+-0x115*0x17)+(0x84a*0x2+0xa60+-0x1af2)];}return _0x5ed033;};for(_0x944679=0x13*0x38+0x1*-0x1ddd+0x1*0x19b5;_0x944679<_0x1ff5e4['morphs']['length'];_0x944679++){for(_0xb70ca6=_0x1ff5e4['morphs'][_0x944679]['targets'],_0x4875d6=[],_0x48580a=this['_getMorphV'+'ertexCount'](_0x1ff5e4,_0x944679,_0x205e0c),_0x53f239=-0x2550+-0x8f*-0x27+0x9f*0x19;_0x53f239<_0xb70ca6['length'];_0x53f239++){const _0x1ef6e6=_0xb70ca6[_0x53f239]['aabb'],_0x470e6d=_0x1ef6e6['min'],_0x1e1fa9=_0x1ef6e6['max'],_0x14f076=new _e(new T((_0x1e1fa9[-0x982+-0x1e39*0x1+0x5ad*0x7]+_0x470e6d[0x1e9e*0x1+-0x1fda*0x1+0x1*0x13c])*(-0x31d*-0x2+-0x1*-0x8aa+-0xee4*0x1+0.5),(_0x1e1fa9[-0x1*-0x10a2+-0xfb*0x1+-0xfa6]+_0x470e6d[0x13a7+0xd*0x13+-0x149d])*(0x1052+-0xb*-0x7f+-0x15c7+0.5),(_0x1e1fa9[-0x567+0x5dc+-0x73*0x1]+_0x470e6d[0x1c0d*-0x1+0x1e2b*-0x1+0x3a3a])*(0x136*0x10+0x1cc2+-0x65*0x7a+0.5)),new T((_0x1e1fa9[0x268d+-0x1*0x623+-0x206a]-_0x470e6d[0x546+-0x139*-0x4+-0x515*0x2])*(-0x2053+-0x1955*0x1+0x39a8+0.5),(_0x1e1fa9[0x71e*-0x3+-0x1*-0x11f3+0xda*0x4]-_0x470e6d[-0x1128+-0x1*0x12cd+0x23f6*0x1])*(0x24f*-0x9+-0x1a17+0x6b2*0x7+0.5),(_0x1e1fa9[-0xc75+-0x1*0x9f6+0x166d]-_0x470e6d[0x6*0x416+0x60d*0x1+-0x1e8f])*(-0x559*-0x7+0x9e7+-0x2f56+0.5))),_0x58416c=_0xb70ca6[_0x53f239]['indices'];let _0x5579fe=_0xb70ca6[_0x53f239]['deltaPosit'+'ions'],_0x5dd0b6=_0xb70ca6[_0x53f239]['deltaNorma'+'ls'];_0x58416c&&(_0x5579fe=_0x26fd2f(_0x5579fe,_0x58416c,_0x48580a),_0x5dd0b6=_0x26fd2f(_0x5dd0b6,_0x58416c,_0x48580a)),_0x3aaff1=new Qc({'deltaPositions':_0x5579fe,'deltaNormals':_0x5dd0b6,'name':_0xb70ca6[_0x53f239]['name'],'aabb':_0x14f076}),_0x4875d6['push'](_0x3aaff1);}const _0x3c82ab=new F0(_0x4875d6,this['_device']);_0x162ae3['push'](_0x3c82ab);const _0x1e2f98=new fn(_0x3c82ab);_0x3d8bfd['push'](_0x1e2f98);}}return{'morphs':_0x162ae3,'instances':_0x3d8bfd};}['_parseVert'+'exBuffers'](_0x16cb2e){const _0x8ac4f3=_0x16cb2e['model'],_0x43e319=[],_0x125984={'position':He,'normal':Yt,'tangent':Zs,'blendWeight':Ys,'blendIndices':qt,'color':At,'texCoord0':ns,'texCoord1':_n,'texCoord2':jo,'texCoord3':Yo,'texCoord4':Ko,'texCoord5':Zo,'texCoord6':Qo,'texCoord7':Jo};for(let _0x9cb9df=-0x5*-0x671+-0x1*0x239e+0x3*0x123;_0x9cb9df<_0x8ac4f3['vertices']['length'];_0x9cb9df++){const _0x4bbafb=_0x8ac4f3['vertices'][_0x9cb9df],_0x2257a9=[];for(const _0x10c977 in _0x4bbafb){const _0x554694=_0x4bbafb[_0x10c977];_0x2257a9['push']({'semantic':_0x125984[_0x10c977],'components':_0x554694['components'],'type':tL[_0x554694['type']],'normalize':_0x125984[_0x10c977]===At});}const _0x520361=new Et(this['_device'],_0x2257a9),_0x465f9b=_0x4bbafb['position']['data']['length']/_0x4bbafb['position']['components'],_0x45aef9=new os(this['_device'],_0x520361,_0x465f9b),_0x5badbf=new go(_0x45aef9);for(let _0x136a4f=0x138f+-0x14f4*0x1+0x165;_0x136a4f<_0x465f9b;_0x136a4f++){for(const _0x309103 in _0x4bbafb){const _0x896baa=_0x4bbafb[_0x309103];switch(_0x896baa['components']){case-0x5ea+0x2548+-0x1f5d*0x1:_0x5badbf['element'][_0x125984[_0x309103]]['set'](_0x896baa['data'][_0x136a4f]);break;case 0x7c3*0x3+-0xb41+-0xc06:_0x5badbf['element'][_0x125984[_0x309103]]['set'](_0x896baa['data'][_0x136a4f*(0x13cf+0x448+-0x1815)],0x1140+0x245*0xe+-0x3105-_0x896baa['data'][_0x136a4f*(-0x2*0x6a7+-0x73*-0x2e+0x75a*-0x1)+(-0xf8c+0x1672*-0x1+0x25ff)]);break;case-0x1*0x1ebb+-0x59*0x2f+-0x2f15*-0x1:_0x5badbf['element'][_0x125984[_0x309103]]['set'](_0x896baa['data'][_0x136a4f*(0x1226+-0x7d5*-0x2+-0x21cd)],_0x896baa['data'][_0x136a4f*(-0x2429+0x65b+-0x1c1*-0x11)+(-0x2279+-0xb*0x31+0x2495)],_0x896baa['data'][_0x136a4f*(-0xf35+-0x13*0x1a9+0x2ec3)+(-0x2390+0x28*0x1d+-0x89*-0x3a)]);break;case-0x7a*0xb+0x1*0xa+-0x1*-0x538:_0x5badbf['element'][_0x125984[_0x309103]]['set'](_0x896baa['data'][_0x136a4f*(-0x17db+0x100*-0xe+0x25df)],_0x896baa['data'][_0x136a4f*(0x5*-0x30b+-0x1d55+0x2c90)+(-0x56b*0x2+-0xc86+0x175d)],_0x896baa['data'][_0x136a4f*(-0x1*0x5f+0xaf3*-0x3+0x213c*0x1)+(0x1b0a*-0x1+-0x1*0x2385+0x3e91)],_0x896baa['data'][_0x136a4f*(-0x234e+-0x9b1+0x2d03)+(0x722+0x185*0x10+-0x1f6f)]);break;}}_0x5badbf['next']();}_0x5badbf['end'](),_0x43e319['push'](_0x45aef9);}return _0x43e319;}['_parseInde'+'xBuffers'](_0x33490d,_0x3f6bc0){const _0x1f638d=_0x33490d['model'];let _0x10f6ce=null,_0x2a1521=null,_0x523ddf,_0x536919=0x1*0x2414+-0x1a60*-0x1+-0x3e74*0x1;for(_0x523ddf=-0x44c+0x301*0x9+0x16bd*-0x1;_0x523ddf<_0x1f638d['meshes']['length'];_0x523ddf++){const _0x2f5604=_0x1f638d['meshes'][_0x523ddf];_0x2f5604['indices']!==void(0xf*-0x14e+0x3e7+0x539*0x3)&&(_0x536919+=_0x2f5604['indices']['length']);}let _0xf89a8a=0x7dd*0x4+0x45*0x5d+-0x3885;for(_0x523ddf=-0x1ffd*-0x1+-0x6*0x51b+0x15b*-0x1;_0x523ddf<_0x3f6bc0['length'];_0x523ddf++)_0xf89a8a=Math['max'](_0xf89a8a,_0x3f6bc0[_0x523ddf]['numVertice'+'s']);return _0x536919>-0x2370+0xef3*0x1+-0x419*-0x5&&(_0xf89a8a>-0x1*0x10a7f+-0x15894+-0x6*-0x9083?(_0x10f6ce=new lr(this['_device'],nr,_0x536919),_0x2a1521=new Uint32Array(_0x10f6ce['lock']())):(_0x10f6ce=new lr(this['_device'],Pi,_0x536919),_0x2a1521=new Uint16Array(_0x10f6ce['lock']()))),{'buffer':_0x10f6ce,'data':_0x2a1521};}['_parseMesh'+'es'](_0x16b3ea,_0x38937e,_0x38604a,_0x3c20f1,_0x574ad7,_0x1e0508){const _0x296d3f=_0x16b3ea['model'],_0x2645ea=[];let _0x17133d=-0x130d*-0x1+-0x21b5+-0x754*-0x2;for(let _0x2a654f=-0x2549+0x1*-0x2165+0x46ae;_0x2a654f<_0x296d3f['meshes']['length'];_0x2a654f++){const _0x5cf905=_0x296d3f['meshes'][_0x2a654f],_0x1feaa3=_0x5cf905['aabb'],_0xe79898=_0x1feaa3['min'],_0x537aad=_0x1feaa3['max'],_0xc3cf46=new _e(new T((_0x537aad[0x32f+0x12*-0x1b5+0x1b8b]+_0xe79898[0x6eb+-0x20e3*0x1+0x19f8])*(-0x465+-0xa*-0xf5+-0x52d+0.5),(_0x537aad[0x31*0x14+0x13*0xb5+-0x8a1*0x2]+_0xe79898[0x15d8+0x1ba*0x1+-0x1791])*(-0x2075*-0x1+0x1*-0x1ca5+-0x3d0+0.5),(_0x537aad[-0x1*-0x269b+0x274*-0xe+-0x441]+_0xe79898[0x1e4a*-0x1+0x1e9e*0x1+0x1*-0x52])*(0x1*-0x3a3+0x179c+0x13f9*-0x1+0.5)),new T((_0x537aad[-0x133f*-0x1+-0x1e45+0xb06]-_0xe79898[0x1e1e+0x4a*-0x1f+0x54a*-0x4])*(0x127d+-0x1*-0x194c+-0x2bc9+0.5),(_0x537aad[-0x8c1+-0x17b0+-0x1*-0x2072]-_0xe79898[-0x26e5+-0x5*-0x445+0x1*0x118d])*(0xe4+-0x9*-0x3a7+-0x21c3+0.5),(_0x537aad[-0x1195+0xb*0x83+0x2*0x5fb]-_0xe79898[0x1d44+-0x1b4*-0xc+-0x31b2])*(-0x1*-0x25af+0x166f+0x32a*-0x13+0.5))),_0x360c8c=_0x5cf905['indices']!==void(0x14e2+-0x9*0x29+-0x3*0x67b),_0x1109de=new Ie(this['_device']);_0x1109de['vertexBuff'+'er']=_0x3c20f1[_0x5cf905['vertices']],_0x1109de['indexBuffe'+'r'][0x893+0x3*0x1+0x13a*-0x7]=_0x360c8c?_0x574ad7:null,_0x1109de['primitive'][-0x43*-0x67+0x21e*0xd+-0x367b]['type']=eL[_0x5cf905['type']],_0x1109de['primitive'][0xf*0x1e5+0x44*0x4+-0x1d7b]['base']=_0x360c8c?_0x5cf905['base']+_0x17133d:_0x5cf905['base'],_0x1109de['primitive'][0x17fd+-0x13d0+-0x42d]['count']=_0x5cf905['count'],_0x1109de['primitive'][0x1d55+-0x23*0x1d+-0x22*0xbf]['indexed']=_0x360c8c,_0x1109de['skin']=_0x5cf905['skin']!==void(0x1040+-0x19b7+0x977*0x1)?_0x38937e[_0x5cf905['skin']]:null,_0x1109de['morph']=_0x5cf905['morph']!==void(-0x1*0x1eb+-0x24c7+0x26b2)?_0x38604a[_0x5cf905['morph']]:null,_0x1109de['aabb']=_0xc3cf46,_0x360c8c&&(_0x1e0508['set'](_0x5cf905['indices'],_0x17133d),_0x17133d+=_0x5cf905['indices']['length']),_0x2645ea['push'](_0x1109de);}return _0x574ad7!==null&&_0x574ad7['unlock'](),_0x2645ea;}['_parseMesh'+'Instances'](_0x2e91ab,_0x5a38f7,_0x4bf61d,_0x23988b,_0x3a5654,_0x4a3aab,_0x3e7aeb){const _0x41411e=_0x2e91ab['model'],_0x5e53f8=[];let _0x4393a2;for(_0x4393a2=0x187a+0x73f+-0x1fb9;_0x4393a2<_0x41411e['meshInstan'+'ces']['length'];_0x4393a2++){const _0x1795eb=_0x41411e['meshInstan'+'ces'][_0x4393a2],_0x223542=_0x5a38f7[_0x1795eb['node']],_0x24c021=_0x4bf61d[_0x1795eb['mesh']],_0x143f10=new Le(_0x24c021,this['_defaultMa'+'terial'],_0x223542);if(_0x24c021['skin']){const _0xe2159b=_0x23988b['indexOf'](_0x24c021['skin']);if(_0xe2159b===-(0x7c4+0x1ca7+-0x246a))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x143f10['skinInstan'+'ce']=_0x3a5654[_0xe2159b];}if(_0x24c021['morph']){const _0x5f1a9b=_0x4a3aab['indexOf'](_0x24c021['morph']);if(_0x5f1a9b===-(0x2326+-0x1388+0xf9d*-0x1))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x143f10['morphInsta'+'nce']=_0x3e7aeb[_0x5f1a9b];}_0x5e53f8['push'](_0x143f10);}return _0x5e53f8;}}class iL extends Ne{constructor(_0x4dc7d6){super(_0x4dc7d6,'model'),this['_parsers']=[],this['device']=_0x4dc7d6['graphicsDe'+'vice'],this['assets']=_0x4dc7d6['assets'],this['defaultMat'+'erial']=al(this['device']),this['addParser'](new sL(this),(_0x3ae2c4,_0x302ae7)=>fe['getExtensi'+'on'](_0x3ae2c4)==='.json'),this['addParser'](new J2(this),(_0x423b7b,_0x29e366)=>fe['getExtensi'+'on'](_0x423b7b)==='.glb');}['load'](_0xd520ff,_0xa8a97f,_0x27551c){typeof _0xd520ff=='string'&&(_0xd520ff={'load':_0xd520ff,'original':_0xd520ff});const _0x515feb={'retry':this['maxRetries']>-0x1*-0x1b13+-0x220f+0x6fc,'maxRetries':this['maxRetries']};(_0xd520ff['load']['startsWith']('blob:')||_0xd520ff['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0xd520ff['original'])['toLowerCas'+'e']()==='.glb'?_0x515feb['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x515feb['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0xd520ff['load'],_0x515feb,(_0x2a4a9c,_0x15fa08)=>{if(_0xa8a97f){if(_0x2a4a9c)_0xa8a97f('Error\x20load'+'ing\x20model:'+'\x20'+_0xd520ff['original']+'\x20['+_0x2a4a9c+']');else{for(let _0x24ff1b=0xf43*-0x1+-0x705*-0x2+-0x1*-0x139;_0x24ff1b<this['_parsers']['length'];_0x24ff1b++){const _0x20b4e7=this['_parsers'][_0x24ff1b];if(_0x20b4e7['decider'](_0xd520ff['original'],_0x15fa08)){_0x20b4e7['parser']['parse'](_0x15fa08,(_0x3805bf,_0x53c98c)=>{_0x3805bf?_0xa8a97f(_0x3805bf):_0xa8a97f(null,_0x53c98c);},_0x27551c);return;}}_0xa8a97f('No\x20parsers'+'\x20found');}}});}['open'](_0x1a8ae8,_0xdbce8a){return _0xdbce8a;}['patch'](_0x3cc455,_0x4bbbfc){if(!_0x3cc455['resource'])return;const _0x10d36d=_0x3cc455['data'],_0x25274c=this;_0x3cc455['resource']['meshInstan'+'ces']['forEach']((_0x10d015,_0x5b9fca)=>{if(_0x10d36d['mapping']){const _0x272456=function(_0x5b5259){_0x5b5259['resource']?_0x10d015['material']=_0x5b5259['resource']:(_0x5b5259['once']('load',_0x272456),_0x4bbbfc['load'](_0x5b5259)),_0x5b5259['once']('remove',_0x39b73e=>{_0x10d015['material']===_0x39b73e['resource']&&(_0x10d015['material']=_0x25274c['defaultMat'+'erial']);});};if(!_0x10d36d['mapping'][_0x5b9fca]){_0x10d015['material']=_0x25274c['defaultMat'+'erial'];return;}const _0x3d68d0=_0x10d36d['mapping'][_0x5b9fca]['material'],_0x5eada3=_0x10d36d['mapping'][_0x5b9fca]['path'];let _0x12b92e;if(_0x3d68d0!==void(-0x1ac0+-0x1b04+0x35c4))_0x3d68d0?(_0x12b92e=_0x4bbbfc['get'](_0x3d68d0),_0x12b92e?_0x272456(_0x12b92e):_0x4bbbfc['once']('add:'+_0x3d68d0,_0x272456)):_0x10d015['material']=_0x25274c['defaultMat'+'erial'];else{if(_0x5eada3){const _0x21fd6a=_0x3cc455['getAbsolut'+'eUrl'](_0x10d36d['mapping'][_0x5b9fca]['path']);_0x12b92e=_0x4bbbfc['getByUrl'](_0x21fd6a),_0x12b92e?_0x272456(_0x12b92e):_0x4bbbfc['once']('add:url:'+_0x21fd6a,_0x272456);}}}});}['addParser'](_0x5263d8,_0x4aa9ad){this['_parsers']['push']({'parser':_0x5263d8,'decider':_0x4aa9ad});}}class rL extends Ne{constructor(_0xb6b199){super(_0xb6b199,'scene');}['load'](_0xd40cb5,_0x109f72){Lx['load'](_0xd40cb5,this['maxRetries'],_0x109f72);}['open'](_0x3a7d02,_0x39bf20){this['_app']['systems']['script']['preloading']=!(-0x2148+-0x7c9+-0x2911*-0x1);const _0x287dd0=new Wp(this['_app'],!(-0x2235+-0x1be*-0x1+0x81e*0x4))['parse'](_0x39bf20),_0xd6cc0b=this['_app']['scene'];return _0xd6cc0b['root']=_0x287dd0,this['_app']['applyScene'+'Settings'](_0x39bf20['settings']),this['_app']['systems']['script']['preloading']=!(0xfda+0xc*0x106+-0x1c21),_0xd6cc0b;}}const hc=class hc{static['push'](_0x519a24){hc['_types']['push'](_0x519a24);}};c(hc,'_types',[]);let Xr=hc;const nL=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),aL={};Ho['reservedNa'+'mes']['forEach']((_0x3aff61,_0x388c30,_0x103855)=>{aL[_0x3aff61]=0xb*0x236+-0x20f4+0x8a3;});function oL(_0x14dc79,_0x153d71,_0x323d1b){if(typeof _0x14dc79!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x14dc79+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x14dc79['prototype']instanceof Ht))throw new Error('script\x20cla'+'ss:\x20\x27'+Qh['__getScrip'+'tName'](_0x14dc79)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x153d71=_0x153d71||_0x14dc79['__name']||Qh['__getScrip'+'tName'](_0x14dc79),nL['has'](_0x153d71))throw new Error('script\x20nam'+'e:\x20\x27'+_0x153d71+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x14dc79['__name']=_0x153d71,qh['getApplica'+'tion']()['scripts']['add'](_0x14dc79),Xr['push'](_0x14dc79);}const lL=_0x2ae2e7=>_0x2ae2e7[-0x35b+0xfca+-0xc6f]['toLowerCas'+'e']()+_0x2ae2e7['substring'](-0xba2*0x2+-0x22cb+0x3a10);class hL extends Ne{constructor(_0x56eea0){super(_0x56eea0,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x2d5bff in this['_cache']){const _0x3509a4=this['_cache'][_0x2d5bff],_0x32948f=_0x3509a4['parentNode'];_0x32948f&&_0x32948f['removeChil'+'d'](_0x3509a4);}this['_cache']={};}['load'](_0x4719a5,_0x2831dd){typeof _0x4719a5=='string'&&(_0x4719a5={'load':_0x4719a5,'original':_0x4719a5});const _0x23a3a9=this;this['_app'];const _0x30a66c=(_0x4719a5['load'],(_0x430fe9,_0x318651,_0x21321f)=>{if(_0x430fe9)_0x2831dd(_0x430fe9);else{const _0x39690d={};for(let _0x3271ce=-0x16ae+0x73*-0x3d+0x3215*0x1;_0x3271ce<Xr['_types']['length'];_0x3271ce++)_0x39690d[Xr['_types'][_0x3271ce]['name']]=Xr['_types'][_0x3271ce];Xr['_types']['length']=0x1597+-0x2*0x1f+0x1559*-0x1,_0x2831dd(null,_0x39690d,_0x21321f);const _0x1efe32=_0x318651['split']('&hash=')[0x24d5+0x1c96+-0x416b];delete _0x23a3a9['_loader']['_cache'][pa['makeKey'](_0x1efe32,'script')];}}),[_0x5b0967]=_0x4719a5['load']['split']('?');_0x5b0967['endsWith']('.mjs')?this['_loadModul'+'e'](_0x5b0967,_0x30a66c):this['_loadScrip'+'t'](_0x4719a5['load'],_0x30a66c);}['open'](_0x529ed9,_0x1f3314){return _0x1f3314;}['patch'](_0x1d77b,_0x1155b3){}['_loadScrip'+'t'](_0x20eade,_0x5254c2){const _0x8a92ab=document['head'],_0x2e1ab0=document['createElem'+'ent']('script');this['_cache'][_0x20eade]=_0x2e1ab0,_0x2e1ab0['async']=!(-0x95+0x111d+-0x1087),_0x2e1ab0['addEventLi'+'stener']('error',_0x2989ac=>{_0x5254c2('Script:\x20'+_0x2989ac['target']['src']+('\x20failed\x20to'+'\x20load'));},!(-0x1*0x20db+-0x6*-0x163+0x188a));let _0x3b58b9=!(-0x87d+0x75*0x3+-0x1*-0x71f);_0x2e1ab0['onload']=_0x2e1ab0['onreadysta'+'techange']=function(){!_0x3b58b9&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x3b58b9=!(0x9c9+0x97*0x13+-0x14fe),_0x5254c2(null,_0x20eade,_0x2e1ab0));},_0x2e1ab0['src']=_0x20eade,_0x8a92ab['appendChil'+'d'](_0x2e1ab0);}['_loadModul'+'e'](_0x10410b,_0x36828a){const _0x51bcdf=ye['browser']?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x3634d5=new URL(_0x10410b,_0x51bcdf);import(_0x3634d5['toString']())['then'](_0x48d7a7=>{var _0x824443,_0x572118;const _0x408718=_0x3634d5['pathname']['split']('/')['pop'](),_0x4bbf51=(_0x572118=(_0x824443=this['_app']['assets']['find'](_0x408718,'script'))==null?void(-0x24ee+-0x1*0x12bf+0x37ad*0x1):_0x824443['data'])==null?void(-0x928*-0x3+-0x1*0x2109+-0x591*-0x1):_0x572118['scripts'];for(const _0x4cad5d in _0x48d7a7){const _0x2fb2e7=_0x48d7a7[_0x4cad5d];if(_0x2fb2e7['prototype']instanceof Ht){const _0x450219=lL(_0x2fb2e7['name']);oL(_0x2fb2e7,_0x450219),_0x4bbf51&&this['_app']['scripts']['addSchema'](_0x450219,_0x4bbf51[_0x450219]);}}_0x36828a(null,_0x10410b,null);})['catch'](_0x2cd769=>{_0x36828a(_0x2cd769);});}}class cL extends Ne{constructor(_0x37e930){super(_0x37e930,'shader'),c(this,'decoder',null);}['load'](_0x4ee123,_0x276763){typeof _0x4ee123=='string'&&(_0x4ee123={'load':_0x4ee123,'original':_0x4ee123}),$e['get'](_0x4ee123['load'],{'retry':this['maxRetries']>0x11e5+0x1d7f+0x151*-0x24,'maxRetries':this['maxRetries']},(_0x3e5a50,_0x228d90)=>{_0x3e5a50?_0x276763('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x4ee123['original']+'\x20['+_0x3e5a50+']'):_0x276763(null,_0x228d90);});}['openBinary'](_0x33bec6){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x33bec6);}}function eu(_0x5d1f87){const _0x268ba5=this;_0x268ba5['resource']&&(_0x268ba5['resource']['atlas']=_0x5d1f87['resource']);}function tu(_0x5f5c71){this['registry']['load'](_0x5f5c71);}class dL extends Ne{constructor(_0x5c1c91){super(_0x5c1c91,'sprite'),this['_assets']=_0x5c1c91['assets'],this['_device']=_0x5c1c91['graphicsDe'+'vice'];}['load'](_0x1cb7c0,_0xa362b1){typeof _0x1cb7c0=='string'&&(_0x1cb7c0={'load':_0x1cb7c0,'original':_0x1cb7c0}),fe['getExtensi'+'on'](_0x1cb7c0['original'])==='.json'&&$e['get'](_0x1cb7c0['load'],{'retry':this['maxRetries']>0x1595+0x13ed+-0x1fa*0x15,'maxRetries':this['maxRetries']},(_0xe83882,_0x576dd1)=>{_0xe83882?_0xa362b1(_0xe83882):_0xa362b1(null,_0x576dd1);});}['open'](_0xd32ca9,_0x531238){const _0x3f355d=new T1(this['_device']);return _0xd32ca9&&(_0x3f355d['__data']=_0x531238),_0x3f355d;}['patch'](_0xc6b2b5,_0x146d13){const _0x59b15f=_0xc6b2b5['resource'];if(_0x59b15f['__data']&&(_0xc6b2b5['data']['pixelsPerU'+'nit']=_0x59b15f['__data']['pixelsPerU'+'nit'],_0xc6b2b5['data']['renderMode']=_0x59b15f['__data']['renderMode'],_0xc6b2b5['data']['frameKeys']=_0x59b15f['__data']['frameKeys'],_0x59b15f['__data']['textureAtl'+'asAsset'])){const _0x516ffa=_0x146d13['getByUrl'](_0x59b15f['__data']['textureAtl'+'asAsset']);_0x516ffa?_0xc6b2b5['data']['textureAtl'+'asAsset']=_0x516ffa['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x59b15f['__data']['textureAtl'+'asAsset']);}_0x59b15f['startUpdat'+'e'](),_0x59b15f['renderMode']=_0xc6b2b5['data']['renderMode'],_0x59b15f['pixelsPerU'+'nit']=_0xc6b2b5['data']['pixelsPerU'+'nit'],_0x59b15f['frameKeys']=_0xc6b2b5['data']['frameKeys'],this['_updateAtl'+'as'](_0xc6b2b5),_0x59b15f['endUpdate'](),_0xc6b2b5['off']('change',this['_onAssetCh'+'ange'],this),_0xc6b2b5['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x299a58){const _0x320744=_0x299a58['resource'];if(!_0x299a58['data']['textureAtl'+'asAsset']){_0x320744['atlas']=null;return;}this['_assets']['off']('load:'+_0x299a58['data']['textureAtl'+'asAsset'],eu,_0x299a58),this['_assets']['on']('load:'+_0x299a58['data']['textureAtl'+'asAsset'],eu,_0x299a58);const _0x4e6d75=this['_assets']['get'](_0x299a58['data']['textureAtl'+'asAsset']);_0x4e6d75&&_0x4e6d75['resource']?_0x320744['atlas']=_0x4e6d75['resource']:_0x4e6d75?this['_assets']['load'](_0x4e6d75):(this['_assets']['off']('add:'+_0x299a58['data']['textureAtl'+'asAsset'],tu,_0x299a58),this['_assets']['on']('add:'+_0x299a58['data']['textureAtl'+'asAsset'],tu,_0x299a58));}['_onAssetCh'+'ange'](_0x2a9237,_0x426c64,_0x2f799a,_0x9686dd){_0x426c64==='data'&&_0x2f799a&&_0x2f799a['textureAtl'+'asAsset']&&_0x9686dd&&_0x2f799a['textureAtl'+'asAsset']!==_0x9686dd['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x9686dd['textureAtl'+'asAsset'],eu,_0x2a9237),this['_assets']['off']('add:'+_0x9686dd['textureAtl'+'asAsset'],tu,_0x2a9237));}}class Gg{constructor(_0x55892d,_0x3e25a8){c(this,'_app'),c(this,'_data'),c(this,'_templateR'+'oot',null),(this['_app']=_0x55892d,this['_data']=_0x3e25a8);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x33a204=new Wp(this['_app'],!(-0x55c+-0x171d*-0x1+0x5eb*-0x3));this['_templateR'+'oot']=_0x33a204['parse'](this['_data']);}}class uL extends Ne{constructor(_0x593fb6){super(_0x593fb6,'template'),c(this,'decoder',null);}['load'](_0x13ad5e,_0x22ded6){typeof _0x13ad5e=='string'&&(_0x13ad5e={'load':_0x13ad5e,'original':_0x13ad5e});const _0x3ee3f7={'retry':this['maxRetries']>0x3ad*-0x5+-0x2121+0x2b6*0x13,'maxRetries':this['maxRetries']};$e['get'](_0x13ad5e['load'],_0x3ee3f7,(_0x9d9101,_0x5f064a)=>{_0x9d9101?_0x22ded6('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x13ad5e['original']):_0x22ded6(_0x9d9101,_0x5f064a);});}['open'](_0x175f0e,_0x529444){return new Gg(this['_app'],_0x529444);}['openBinary'](_0x19c168){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new Gg(this['_app'],JSON['parse'](this['decoder']['decode'](_0x19c168)));}}class fL extends Ne{constructor(_0x47c533){super(_0x47c533,'text'),c(this,'decoder',null);}['load'](_0x101a1d,_0xca90b1){typeof _0x101a1d=='string'&&(_0x101a1d={'load':_0x101a1d,'original':_0x101a1d}),$e['get'](_0x101a1d['load'],{'retry':this['maxRetries']>-0x150c+-0x115e+0x266a,'maxRetries':this['maxRetries']},(_0x4fca50,_0x11ec5a)=>{_0x4fca50?_0xca90b1('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x101a1d['original']+'\x20['+_0x4fca50+']'):_0xca90b1(null,_0x11ec5a);});}['openBinary'](_0x4f22b2){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x4f22b2);}}const th={'repeat':tt,'clamp':ae,'mirror':Of},sh={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},pL=/^data\.frames\.(\d+)$/;class mL extends Ne{constructor(_0x58c3bf){super(_0x58c3bf,'textureatl'+'as'),this['_loader']=_0x58c3bf['loader'];}['load'](_0x2b2b89,_0x1659b2){typeof _0x2b2b89=='string'&&(_0x2b2b89={'load':_0x2b2b89,'original':_0x2b2b89});const _0x3683f9=this,_0x435f3c=this['_loader']['getHandler']('texture');fe['getExtensi'+'on'](_0x2b2b89['original'])==='.json'?$e['get'](_0x2b2b89['load'],{'retry':this['maxRetries']>-0x17*0x1a9+0x35*-0xb7+-0xd6*-0x5b,'maxRetries':this['maxRetries']},(_0x5446e0,_0x3bf867)=>{if(_0x5446e0)_0x1659b2(_0x5446e0);else{const _0x263e93=_0x2b2b89['original']['replace']('.json','.png');_0x3683f9['_loader']['load'](_0x263e93,'texture',(_0x558b5d,_0x5d5103)=>{_0x558b5d?_0x1659b2(_0x558b5d):_0x1659b2(null,{'data':_0x3bf867,'texture':_0x5d5103});});}}):_0x435f3c['load'](_0x2b2b89,_0x1659b2);}['open'](_0x57e4fe,_0x17925a,_0x4f24e1){const _0x106a94=new A1();if(_0x17925a['texture']&&_0x17925a['data'])_0x106a94['texture']=_0x17925a['texture'],_0x106a94['__data']=_0x17925a['data'];else{const _0xc29a8b=this['_loader']['getHandler']('texture')['open'](_0x57e4fe,_0x17925a,_0x4f24e1);if(!_0xc29a8b)return null;_0x106a94['texture']=_0xc29a8b;}return _0x106a94;}['patch'](_0x27f78e,_0x302717){if(!_0x27f78e['resource'])return;_0x27f78e['resource']['__data']&&(_0x27f78e['resource']['__data']['minfilter']!==void(-0x1f27+0x1*0x581+0x19a6)&&(_0x27f78e['data']['minfilter']=_0x27f78e['resource']['__data']['minfilter']),_0x27f78e['resource']['__data']['magfilter']!==void(-0x24ed+-0x124+0x2611)&&(_0x27f78e['data']['magfilter']=_0x27f78e['resource']['__data']['magfilter']),_0x27f78e['resource']['__data']['addressu']!==void(0x7*-0x18c+-0x21ff+0xf*0x2fd)&&(_0x27f78e['data']['addressu']=_0x27f78e['resource']['__data']['addressu']),_0x27f78e['resource']['__data']['addressv']!==void(-0x48b*-0x1+0x15*0x1c6+-0x29c9)&&(_0x27f78e['data']['addressv']=_0x27f78e['resource']['__data']['addressv']),_0x27f78e['resource']['__data']['mipmaps']!==void(0x116+-0x1*-0x1f70+-0x1*0x2086)&&(_0x27f78e['data']['mipmaps']=_0x27f78e['resource']['__data']['mipmaps']),_0x27f78e['resource']['__data']['anisotropy']!==void(-0x4*-0x399+-0x1878+-0x14*-0x81)&&(_0x27f78e['data']['anisotropy']=_0x27f78e['resource']['__data']['anisotropy']),_0x27f78e['resource']['__data']['rgbm']!==void(0x1ca3+0x267d*-0x1+-0xc2*-0xd)&&(_0x27f78e['data']['rgbm']=!!_0x27f78e['resource']['__data']['rgbm']),_0x27f78e['data']['frames']=_0x27f78e['resource']['__data']['frames'],delete _0x27f78e['resource']['__data']);const _0x502fc9=_0x27f78e['resource']['texture'];if(_0x502fc9&&(_0x502fc9['name']=_0x27f78e['name'],_0x27f78e['data']['hasOwnProp'+'erty']('minfilter')&&_0x502fc9['minFilter']!==sh[_0x27f78e['data']['minfilter']]&&(_0x502fc9['minFilter']=sh[_0x27f78e['data']['minfilter']]),_0x27f78e['data']['hasOwnProp'+'erty']('magfilter')&&_0x502fc9['magFilter']!==sh[_0x27f78e['data']['magfilter']]&&(_0x502fc9['magFilter']=sh[_0x27f78e['data']['magfilter']]),_0x27f78e['data']['hasOwnProp'+'erty']('addressu')&&_0x502fc9['addressU']!==th[_0x27f78e['data']['addressu']]&&(_0x502fc9['addressU']=th[_0x27f78e['data']['addressu']]),_0x27f78e['data']['hasOwnProp'+'erty']('addressv')&&_0x502fc9['addressV']!==th[_0x27f78e['data']['addressv']]&&(_0x502fc9['addressV']=th[_0x27f78e['data']['addressv']]),_0x27f78e['data']['hasOwnProp'+'erty']('mipmaps')&&_0x502fc9['mipmaps']!==_0x27f78e['data']['mipmaps']&&(_0x502fc9['mipmaps']=_0x27f78e['data']['mipmaps']),_0x27f78e['data']['hasOwnProp'+'erty']('anisotropy')&&_0x502fc9['anisotropy']!==_0x27f78e['data']['anisotropy']&&(_0x502fc9['anisotropy']=_0x27f78e['data']['anisotropy']),_0x27f78e['data']['hasOwnProp'+'erty']('rgbm'))){const _0xbc3c7e=_0x27f78e['data']['rgbm']?on:Di;_0x502fc9['type']!==_0xbc3c7e&&(_0x502fc9['type']=_0xbc3c7e);}_0x27f78e['resource']['texture']=_0x502fc9;const _0x1d501b={};for(const _0x960464 in _0x27f78e['data']['frames']){const _0x454393=_0x27f78e['data']['frames'][_0x960464];_0x1d501b[_0x960464]={'rect':new Q(_0x454393['rect']),'pivot':new W(_0x454393['pivot']),'border':new Q(_0x454393['border'])};}_0x27f78e['resource']['frames']=_0x1d501b,_0x27f78e['off']('change',this['_onAssetCh'+'ange'],this),_0x27f78e['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x2965cd,_0x51b8a1,_0x1b0cd8){let _0x1e6d4d;if(_0x51b8a1==='data'||_0x51b8a1==='data.frame'+'s'){const _0xc4274e={};for(const _0x3007f5 in _0x1b0cd8['frames'])_0x1e6d4d=_0x1b0cd8['frames'][_0x3007f5],_0xc4274e[_0x3007f5]={'rect':new Q(_0x1e6d4d['rect']),'pivot':new W(_0x1e6d4d['pivot']),'border':new Q(_0x1e6d4d['border'])};_0x2965cd['resource']['frames']=_0xc4274e;}else{const _0x5be902=_0x51b8a1['match'](pL);if(_0x5be902){const _0x188bc8=_0x5be902[0x936+-0x47f*-0x2+0x3*-0x611];_0x1b0cd8?(_0x2965cd['resource']['frames'][_0x188bc8]?(_0x1e6d4d=_0x2965cd['resource']['frames'][_0x188bc8],_0x1e6d4d['rect']['set'](_0x1b0cd8['rect'][0x1*0x211c+0x1457*0x1+-0x3573],_0x1b0cd8['rect'][0xcc*-0x6+-0x5aa+-0x6b*-0x19],_0x1b0cd8['rect'][0xd8d+-0x47b*-0x3+-0x1afc],_0x1b0cd8['rect'][-0x253e+0x113e+0x1403]),_0x1e6d4d['pivot']['set'](_0x1b0cd8['pivot'][-0xa82+-0x1*-0x2415+-0x1993],_0x1b0cd8['pivot'][-0x1aff+0x190a+-0x1f6*-0x1]),_0x1e6d4d['border']['set'](_0x1b0cd8['border'][0x14b*-0x2+-0x19*-0x163+0xbf*-0x2b],_0x1b0cd8['border'][-0x7*-0xec+-0x1e01+-0x25b*-0xa],_0x1b0cd8['border'][-0x1*-0x263f+0x1*-0x777+-0x1ec6],_0x1b0cd8['border'][-0xd*-0x193+0x1e*-0xcf+-0x1e7*-0x2])):_0x2965cd['resource']['frames'][_0x188bc8]={'rect':new Q(_0x1b0cd8['rect']),'pivot':new W(_0x1b0cd8['pivot']),'border':new Q(_0x1b0cd8['border'])},_0x2965cd['resource']['fire']('set:frame',_0x188bc8,_0x2965cd['resource']['frames'][_0x188bc8])):_0x2965cd['resource']['frames'][_0x188bc8]&&(delete _0x2965cd['resource']['frames'][_0x188bc8],_0x2965cd['resource']['fire']('remove:fra'+'me',_0x188bc8));}}}}function _L(){const _0x1e8348={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x226628={'astc':_0x1e8348['cTFASTC_4x'+'4'],'dxt':_0x1e8348['cTFBC1'],'etc1':_0x1e8348['cTFETC1'],'etc2':_0x1e8348['cTFETC1'],'pvr':_0x1e8348['cTFPVRTC1_'+'4_RGB'],'atc':_0x1e8348['cTFATC_RGB'],'none':_0x1e8348['cTFRGB565']},_0x56a55d={'astc':_0x1e8348['cTFASTC_4x'+'4'],'dxt':_0x1e8348['cTFBC3'],'etc1':_0x1e8348['cTFRGBA444'+'4'],'etc2':_0x1e8348['cTFETC2'],'pvr':_0x1e8348['cTFPVRTC1_'+'4_RGBA'],'atc':_0x1e8348['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x1e8348['cTFRGBA444'+'4']},_0x5563e3={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x409dcb=(_0x51e8ec,_0x1250dc)=>{switch(_0x51e8ec){case _0x1e8348['cTFETC1']:return _0x1250dc['formats']['etc2']?_0x5563e3['ETC2_RGB']:_0x5563e3['ETC1'];case _0x1e8348['cTFETC2']:return _0x5563e3['ETC2_RGBA'];case _0x1e8348['cTFBC1']:return _0x5563e3['DXT1'];case _0x1e8348['cTFBC3']:return _0x5563e3['DXT5'];case _0x1e8348['cTFPVRTC1_'+'4_RGB']:return _0x5563e3['PVRTC_4BPP'+'_RGB_1'];case _0x1e8348['cTFPVRTC1_'+'4_RGBA']:return _0x5563e3['PVRTC_4BPP'+'_RGBA_1'];case _0x1e8348['cTFASTC_4x'+'4']:return _0x5563e3['ASTC_4x4'];case _0x1e8348['cTFATC_RGB']:return _0x5563e3['ATC_RGB'];case _0x1e8348['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x5563e3['ATC_RGBA'];case _0x1e8348['cTFRGBA32']:return _0x5563e3['R8_G8_B8_A'+'8'];case _0x1e8348['cTFRGB565']:return _0x5563e3['R5_G6_B5'];case _0x1e8348['cTFRGBA444'+'4']:return _0x5563e3['R4_G4_B4_A'+'4'];}},_0x315240=_0xc1c22c=>{const _0x4a16ff=function(_0x12825e,_0x244b28){const _0x445f4c=_0x12825e*(0x141b+0x268e+-0x3aa9+0.00784313725490196)-(-0x5*-0x4f+-0x25e4+-0x16*-0x1a7),_0xac8bd6=_0x244b28*((-0x1*0x26c0+0x134b+0x1377)/(0x3*-0xba6+0xbf8+-0x13*-0x143))-(0xec1*-0x1+0x51*-0x33+-0xb*-0x2cf),_0x5b388c=Math['sqrt'](-0x24a2+0x2*-0x4dc+0x2e5b-Math['min'](-0x180b*0x1+0x1e32+-0x626,_0x445f4c*_0x445f4c+_0xac8bd6*_0xac8bd6));return Math['max'](-0x27b*0x5+0x58*0x29+-0x1b1,Math['min'](-0x2270+-0x371+0x1370*0x2,Math['floor']((_0x5b388c+(0x208b+0x273+0x2b1*-0xd))*(-0x246b*0x1+-0x1539*0x1+0x39a4+0.5)*(0x133d+-0x66e*0x3+0x10c))));};for(let _0x5663c1=-0xb21+-0x2*-0x48d+0x207;_0x5663c1<_0xc1c22c['length'];_0x5663c1+=0x76d+-0x788+0x1f){const _0x598e65=_0xc1c22c[_0x5663c1+(-0x8*0x127+-0xb97+0xd*0x19a)],_0x8a8a06=_0xc1c22c[_0x5663c1+(0x977+0x11b3*-0x2+0x19f0)];_0xc1c22c[_0x5663c1+(-0x1f32+0x1933*0x1+0x133*0x5)]=_0x598e65,_0xc1c22c[_0x5663c1+(-0xcc7+0x25b*0x6+-0x159)]=_0x4a16ff(_0x598e65,_0x8a8a06),_0xc1c22c[_0x5663c1+(0x1eab+-0x1*-0xcbd+-0x2b65)]=0x1b22+-0x222f+-0x1*-0x80c;}return _0xc1c22c;},_0x400ce3=_0x55b85e=>{const _0x4335d3=new Uint16Array(_0x55b85e['length']/(-0x1b75+0x96b*-0x1+0x4*0x939));for(let _0x2f95a6=-0xd36*-0x2+0x9*0x455+-0x4169;_0x2f95a6<_0x55b85e['length'];_0x2f95a6+=-0x3*-0xa6d+-0x1a5*0x7+-0x13c0){const _0x306a49=_0x55b85e[_0x2f95a6+(-0x1373*-0x1+0x650+-0x19c3)],_0x4360c3=_0x55b85e[_0x2f95a6+(0x2*0x5d5+-0x13b9+-0x102*-0x8)],_0x10b8c6=_0x55b85e[_0x2f95a6+(0x1*-0x9dd+0x695+0x34a)];_0x4335d3[_0x2f95a6/(0x12f7*0x2+0x78a+0x2d74*-0x1)]=(_0x306a49&-0x26b+0x1a*-0x43+0xa31)<<0x3e9+-0x1c*0xfb+-0x55*-0x47|(_0x4360c3&0x27*0x18+0x203d*0x1+0x1b*-0x14b)<<-0x111f+0x39f*0x5+0x53*-0x3|_0x10b8c6>>0x1594+-0xaef+-0xaa2;}return _0x4335d3;},_0x7ae957=(_0x197347,_0x1e7f3b)=>(_0x197347&_0x197347-(0xbaf*0x3+0x1ee4+-0x41f0))===0xde5+0x8e+-0xe73&&(_0x1e7f3b&_0x1e7f3b-(0x61b+-0x4c1*-0x8+0x15*-0x21a))===0xe8b+0x2ab*0x7+-0x2138,_0x3098e5=()=>typeof performance<'u'?performance['now']():-0x1765+-0x44f+0x1bb4;let _0x213151,_0xb23c51,_0xce4d35;const _0x36fdd2=(_0x2ef111,_0x5aa5f8,_0x2aec33)=>{if(_0x2aec33){if(_0x2ef111['formats']['astc'])return'astc';}else{if(_0x5aa5f8){if(_0x2ef111['formats']['etc2'])return'etc2';}else{if(_0x2ef111['formats']['etc2'])return'etc2';if(_0x2ef111['formats']['etc1'])return'etc1';}}return(_0x8247bd=>{for(let _0x2dd148=0x2a*-0x37+0x13*0x11d+-0xc21;_0x2dd148<_0x8247bd['length'];++_0x2dd148){const _0x2b8526=_0x8247bd[_0x2dd148];if(_0x2ef111['formats'][_0x2b8526])return _0x2b8526;}return'none';})(_0x5aa5f8?_0xce4d35:_0xb23c51);},_0x2f3168=(_0x350cad,_0x32d08b,_0xed8504)=>{switch(_0xed8504){case _0x1e8348['cTFETC1']:case _0x1e8348['cTFETC2']:return!(-0x339*-0xa+0x1147*0x1+-0x3181);case _0x1e8348['cTFBC1']:case _0x1e8348['cTFBC3']:return(_0x350cad&-0x2*-0x124a+-0x29*0x73+-0x1226)===-0x7b4+0x1a8*0x1+-0x56*-0x12&&(_0x32d08b&0xc4*-0x1f+0x18e7+-0x128)===-0x83a*-0x2+-0x1337+0x2c3;case _0x1e8348['cTFPVRTC1_'+'4_RGB']:case _0x1e8348['cTFPVRTC1_'+'4_RGBA']:return _0x7ae957(_0x350cad,_0x32d08b);case _0x1e8348['cTFASTC_4x'+'4']:return!(0x124*-0x20+-0x373*0x1+0x27f3);case _0x1e8348['cTFATC_RGB']:case _0x1e8348['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(-0x22bd+-0x131d+0x35da);}return!(0x1403+-0x989*0x2+0x5*-0x30);},_0x152101=(_0x117734,_0x584ae7,_0x54d7f1)=>{if(!_0x213151['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x5d535c=_0x3098e5(),_0x5721fa=new _0x213151['KTX2File'](new Uint8Array(_0x584ae7)),_0xb78201=_0x5721fa['getWidth'](),_0x979adb=_0x5721fa['getHeight'](),_0x1d41a3=_0x5721fa['getLevels'](),_0x14d07c=!!_0x5721fa['getHasAlph'+'a'](),_0x29dd45=_0x5721fa['isUASTC']&&_0x5721fa['isUASTC']();if(!_0xb78201||!_0x979adb||!_0x1d41a3)throw _0x5721fa['close'](),_0x5721fa['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x117734+'\x20width='+_0xb78201+'\x20height='+_0x979adb+'\x20levels='+_0x1d41a3);const _0x3ccc4d=_0x36fdd2(_0x54d7f1['deviceDeta'+'ils'],_0x14d07c,_0x29dd45),_0x11e1b5=!!_0x54d7f1['isGGGR']&&_0x3ccc4d==='pvr';let _0x3e39de;if(_0x11e1b5?_0x3e39de=_0x1e8348['cTFRGBA32']:(_0x3e39de=_0x14d07c?_0x56a55d[_0x3ccc4d]:_0x226628[_0x3ccc4d],_0x2f3168(_0xb78201,_0x979adb,_0x3e39de)||(_0x3e39de=_0x14d07c?_0x1e8348['cTFRGBA32']:_0x1e8348['cTFRGB565'])),!_0x5721fa['startTrans'+'coding']())throw _0x5721fa['close'](),_0x5721fa['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x117734);let _0x595687;const _0x4f3f31=[];for(let _0x5801c1=-0x2*0x1292+-0x4*0x647+0x3e40;_0x5801c1<_0x1d41a3;++_0x5801c1){const _0x558e58=_0x5721fa['getImageTr'+'anscodedSi'+'zeInBytes'](_0x5801c1,-0xcd2+0x1*-0x7e1+0x14b3,-0x197a+0x1ac7+0x1*-0x14d,_0x3e39de),_0x1b7d3b=new Uint8Array(_0x558e58);if(!_0x5721fa['transcodeI'+'mage'](_0x1b7d3b,_0x5801c1,0x87b+-0x1c45+0x13ca,0x1c6*0x13+0x20aa*0x1+-0x425c,_0x3e39de,-0x140b+0x6af+0x13*0xb4,-(0x8a5*-0x4+-0xa45*-0x1+-0x1*-0x1850),-(0x7*-0x497+0xa1f+0xa1*0x23)))throw _0x5721fa['close'](),_0x5721fa['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x117734);const _0x5424ea=_0x3e39de===_0x1e8348['cTFRGB565']||_0x3e39de===_0x1e8348['cTFRGBA444'+'4'];_0x4f3f31['push'](_0x5424ea?new Uint16Array(_0x1b7d3b['buffer']):_0x1b7d3b);}if(_0x5721fa['close'](),_0x5721fa['delete'](),_0x11e1b5){for(_0x3e39de=_0x1e8348['cTFRGB565'],_0x595687=-0x1cfb+-0x24c5*0x1+0x41c0;_0x595687<_0x4f3f31['length'];++_0x595687)_0x4f3f31[_0x595687]=_0x400ce3(_0x315240(_0x4f3f31[_0x595687]));}return{'format':_0x409dcb(_0x3e39de,_0x54d7f1['deviceDeta'+'ils']),'width':_0xb78201,'height':_0x979adb,'levels':_0x4f3f31,'cubemap':!(0x3*0x42+0x8ba+0xb*-0xdd),'transcodeTime':_0x3098e5()-_0x5d535c,'url':_0x117734,'unswizzledGGGR':_0x11e1b5};},_0x1965cd=(_0x2d5515,_0xdd6a9f,_0x5a95e5)=>{const _0x1d973d=_0x3098e5(),_0x1cb4cf=new _0x213151['BasisFile'](new Uint8Array(_0xdd6a9f)),_0x6b3809=_0x1cb4cf['getImageWi'+'dth'](0x23c8+-0x1*0x1369+0x21*-0x7f,-0x1251*0x1+0x1*-0xd05+0x1f56),_0x38ae8=_0x1cb4cf['getImageHe'+'ight'](-0x6*0x4f+-0x4bb*-0x5+-0x15cd,0x4a0*-0x3+0x270b+-0x192b),_0x34dc31=_0x1cb4cf['getNumImag'+'es'](),_0x5b7bdc=_0x1cb4cf['getNumLeve'+'ls'](-0x8aa+0x2586+-0x1cdc),_0xd68917=!!_0x1cb4cf['getHasAlph'+'a'](),_0x47711a=_0x1cb4cf['isUASTC']&&_0x1cb4cf['isUASTC']();if(!_0x6b3809||!_0x38ae8||!_0x34dc31||!_0x5b7bdc)throw _0x1cb4cf['close'](),_0x1cb4cf['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x2d5515+'\x20width='+_0x6b3809+'\x20height='+_0x38ae8+'\x20images='+_0x34dc31+'\x20levels='+_0x5b7bdc);const _0x8bdd62=_0x36fdd2(_0x5a95e5['deviceDeta'+'ils'],_0xd68917,_0x47711a),_0x4e87e6=!!_0x5a95e5['isGGGR']&&_0x8bdd62==='pvr';let _0x394ae4;if(_0x4e87e6?_0x394ae4=_0x1e8348['cTFRGBA32']:(_0x394ae4=_0xd68917?_0x56a55d[_0x8bdd62]:_0x226628[_0x8bdd62],_0x2f3168(_0x6b3809,_0x38ae8,_0x394ae4)||(_0x394ae4=_0xd68917?_0x1e8348['cTFRGBA32']:_0x1e8348['cTFRGB565'])),!_0x1cb4cf['startTrans'+'coding']())throw _0x1cb4cf['close'](),_0x1cb4cf['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x2d5515);let _0x1784e4;const _0x374de8=[];for(let _0x5d6468=0x125a+0xf1*-0x1d+0x8f3;_0x5d6468<_0x5b7bdc;++_0x5d6468){const _0x215643=_0x1cb4cf['getImageTr'+'anscodedSi'+'zeInBytes'](-0x1d2f+-0x103f+-0x1*-0x2d6e,_0x5d6468,_0x394ae4),_0x23177f=new Uint8Array(_0x215643);if(!_0x1cb4cf['transcodeI'+'mage'](_0x23177f,-0x99b+-0x2645+-0x8*-0x5fc,_0x5d6468,_0x394ae4,0xb86+0x120*-0xb+-0x6d*-0x2,-0x1f4f*0x1+0x169b*0x1+-0x1*-0x8b4)){if(_0x5d6468===_0x5b7bdc-(0x2086+0x1*-0x11a7+-0xede)&&_0x215643===_0x374de8[_0x5d6468-(-0x13ed+0x4*-0x493+-0x6*-0x65f)]['buffer']['byteLength'])_0x23177f['set'](new Uint8Array(_0x374de8[_0x5d6468-(-0x25db+-0x11b7+-0x29*-0x15b)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x2d5515);else throw _0x1cb4cf['close'](),_0x1cb4cf['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x2d5515);}const _0x229758=_0x394ae4===_0x1e8348['cTFRGB565']||_0x394ae4===_0x1e8348['cTFRGBA444'+'4'];_0x374de8['push'](_0x229758?new Uint16Array(_0x23177f['buffer']):_0x23177f);}if(_0x1cb4cf['close'](),_0x1cb4cf['delete'](),_0x4e87e6){for(_0x394ae4=_0x1e8348['cTFRGB565'],_0x1784e4=0x1fde+0x1da0+0x22*-0x1cf;_0x1784e4<_0x374de8['length'];++_0x1784e4)_0x374de8[_0x1784e4]=_0x400ce3(_0x315240(_0x374de8[_0x1784e4]));}return{'format':_0x409dcb(_0x394ae4,_0x5a95e5['deviceDeta'+'ils']),'width':_0x6b3809,'height':_0x38ae8,'levels':_0x374de8,'cubemap':!(-0x174c+0x18e7+-0x19a),'transcodeTime':_0x3098e5()-_0x1d973d,'url':_0x2d5515,'unswizzledGGGR':_0x4e87e6};},_0x1faf3f=(_0x250c76,_0x1baed4,_0x263530)=>_0x263530['isKTX2']?_0x152101(_0x250c76,_0x1baed4,_0x263530):_0x1965cd(_0x250c76,_0x1baed4,_0x263530),_0x432dce=(_0x38ab08,_0x382d91,_0x335a9f)=>{try{const _0x34c2f4=_0x1faf3f(_0x38ab08,_0x382d91,_0x335a9f);_0x34c2f4['levels']=_0x34c2f4['levels']['map'](_0x36d6e1=>_0x36d6e1['buffer']),self['postMessag'+'e']({'url':_0x38ab08,'data':_0x34c2f4},_0x34c2f4['levels']);}catch(_0x55670d){self['postMessag'+'e']({'url':_0x38ab08,'err':_0x55670d},null);}},_0x446855=(_0x3dba31,_0x313535)=>{const _0x4322ae=(_0x3d2357,_0x5381f5)=>(WebAssembly['instantiat'+'e'](_0x3dba31['module'],_0x3d2357)['then'](_0x347a23=>{_0x5381f5(_0x347a23);})['catch'](_0x16c993=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x16c993);}),{});self['BASIS'](_0x3dba31['module']?{'instantiateWasm':_0x4322ae}:null)['then'](_0x1d515b=>{_0x1d515b['initialize'+'Basis'](),_0x213151=_0x1d515b,_0xb23c51=_0x3dba31['rgbPriorit'+'y'],_0xce4d35=_0x3dba31['rgbaPriori'+'ty'],_0x313535(null);});},_0x14390c=[];self['onmessage']=_0x2aa976=>{const _0x467de2=_0x2aa976['data'];switch(_0x467de2['type']){case'init':_0x446855(_0x467de2['config'],()=>{for(let _0x210ee1=0x664*-0x2+0x8*-0x41f+-0xf40*-0x3;_0x210ee1<_0x14390c['length'];++_0x210ee1)_0x432dce(_0x14390c[_0x210ee1]['url'],_0x14390c[_0x210ee1]['data'],_0x14390c[_0x210ee1]['options']);_0x14390c['length']=0x258d*-0x1+-0x1c59+0x1*0x41e6;});break;case'transcode':_0x213151?_0x432dce(_0x467de2['url'],_0x467de2['data'],_0x467de2['options']):_0x14390c['push'](_0x467de2);break;}};}const gL=_0x3a974f=>({'astc':!!_0x3a974f['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x3a974f['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x3a974f['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x3a974f['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x3a974f['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x3a974f['extCompres'+'sedTexture'+'PVRTC']}),yL=(_0x10c388,_0x2924b9)=>{const _0xff2172=_0x121e8b=>{const _0xab4dce=['/*\x20basis\x20*'+'/',_0x121e8b,'','('+_L['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0xab4dce],{'type':'applicatio'+'n/javascri'+'pt'});},_0x55dc46=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x4b71d5=new WebAssembly['Module'](Uint8Array['of'](0x52*0x73+-0x287+-0x224f*0x1,-0x245b+-0x958+0x2*0x170a,0x26df+0x2488+0x4e*-0xf6,0x99*0x11+-0x1*-0x1a23+-0x23df,0xca1+-0xd0e+0x6e,-0x1f9b+-0x2c5*-0xb+0x124,0x32*0xb3+-0x1*-0x18df+-0x11*0x385,-0x26c9+-0xb7b*0x1+0x4*0xc91));if(_0x4b71d5 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x4b71d5)instanceof WebAssembly['Instance'];}}catch{}return!(-0x903*0x1+-0x1817+0x211b);},_0x2a264b=(_0x52ea07,_0x5df609)=>{_0x2924b9(null,{'workerUrl':URL['createObje'+'ctURL'](_0xff2172(_0x52ea07)),'module':_0x5df609,'rgbPriority':_0x10c388['rgbPriorit'+'y'],'rgbaPriority':_0x10c388['rgbaPriori'+'ty']});},_0x4d7f97={'cache':!(0x1107+0x38a*0x3+-0x1ba5),'responseType':'text','retry':_0x10c388['maxRetries']>-0x1*-0x1517+0x426+0x39b*-0x7,'maxRetries':_0x10c388['maxRetries']};if(_0x10c388['glueUrl']&&_0x10c388['wasmUrl']&&_0x55dc46()){let _0x448b73=null,_0x20535d=null;$e['get'](_0x10c388['glueUrl'],_0x4d7f97,(_0x464294,_0x37efde)=>{_0x464294?_0x2924b9(_0x464294):_0x20535d?_0x2a264b(_0x37efde,_0x20535d):_0x448b73=_0x37efde;});const _0x576b9f=fetch(_0x10c388['wasmUrl']),_0x18d878=()=>{_0x576b9f['then'](_0x1625bf=>_0x1625bf['arrayBuffe'+'r']())['then'](_0x4904dc=>WebAssembly['compile'](_0x4904dc))['then'](_0x5b7953=>{_0x448b73?_0x2a264b(_0x448b73,_0x5b7953):_0x20535d=_0x5b7953;})['catch'](_0x42d869=>{_0x2924b9(_0x42d869,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x576b9f)['then'](_0x19456a=>{_0x448b73?_0x2a264b(_0x448b73,_0x19456a):_0x20535d=_0x19456a;})['catch'](_0x1f28fb=>{v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x10c388['wasmUrl']+'\x20('+_0x1f28fb+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x18d878();}):_0x18d878();}else $e['get'](_0x10c388['fallbackUr'+'l'],_0x4d7f97,(_0x14a228,_0xf857c2)=>{_0x14a228?_0x2924b9(_0x14a228,null):_0x2a264b(_0xf857c2,null);});};class xL{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x38434f,_0x4bdae2,_0x12a24f,_0x424b7f){if(this['callbacks']['hasOwnProp'+'erty'](_0x38434f))this['callbacks'][_0x38434f]['push'](_0x12a24f);else{this['callbacks'][_0x38434f]=[_0x12a24f];const _0x27a608={'url':_0x38434f,'data':_0x4bdae2,'options':_0x424b7f};this['clients']['length']>0x1*-0x88f+0x199d+0x76*-0x25?this['clients']['shift']()['run'](_0x27a608):this['queue']['push'](_0x27a608);}}['enqueueCli'+'ent'](_0x20a9e0){this['queue']['length']>-0x15f6+0x123f*0x1+0x3b7?_0x20a9e0['run'](this['queue']['shift']()):this['clients']['push'](_0x20a9e0);}['handleResp'+'onse'](_0x361d96,_0x1c39bb,_0x1fe46){const _0x44e588=this['callbacks'][_0x361d96];if(_0x1c39bb){for(let _0x1d7ee8=-0x354+0x17c1+0x146d*-0x1;_0x1d7ee8<_0x44e588['length'];++_0x1d7ee8)_0x44e588[_0x1d7ee8](_0x1c39bb);}else{_0x1fe46['format']===_c||_0x1fe46['format']===gc?_0x1fe46['levels']=_0x1fe46['levels']['map'](_0x16d416=>new Uint16Array(_0x16d416)):_0x1fe46['levels']=_0x1fe46['levels']['map'](_0x2c027c=>new Uint8Array(_0x2c027c));for(let _0x4fc69b=-0x351+0xb49*0x3+-0x1e8a;_0x4fc69b<_0x44e588['length'];++_0x4fc69b)_0x44e588[_0x4fc69b](null,_0x1fe46);}delete this['callbacks'][_0x361d96];}}class SL{constructor(_0x5f0b8e,_0x594d84,_0x2bd68b){this['queue']=_0x5f0b8e,this['worker']=new Worker(_0x594d84['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x31fcf4=>{const _0x17fb0a=_0x31fcf4['data'];this['queue']['handleResp'+'onse'](_0x17fb0a['url'],_0x17fb0a['err'],_0x17fb0a['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x594d84}),this['eager']=_0x2bd68b;}['run'](_0x43339b){const _0x4d17d2=[];_0x43339b['data']instanceof ArrayBuffer&&_0x4d17d2['push'](_0x43339b['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x43339b['url'],'format':_0x43339b['format'],'data':_0x43339b['data'],'options':_0x43339b['options']},_0x4d17d2),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const vL=-0x5cf*-0x4+-0xfb6+0x113*-0x7,bL=['etc2','etc1','astc','dxt','pvr','atc'],wL=['astc','dxt','etc2','pvr','atc'],TL=0x12*0x158+0x1*-0x2081+0x42b*0x2,Tf=new xL();let Hg=null,Af=!(0x1afd+-0x9*-0x418+-0x3fd4);function AL(_0x3e0741){if(!Af){if(!_0x3e0741)_0x3e0741=Hg||{};else{if(_0x3e0741['lazyInit']){Hg=_0x3e0741;return;}}if(!_0x3e0741['glueUrl']||!_0x3e0741['wasmUrl']||!_0x3e0741['fallbackUr'+'l']){const _0x4552f2=ay['getConfig']('BASIS');_0x4552f2&&(_0x3e0741={'glueUrl':_0x4552f2['glueUrl'],'wasmUrl':_0x4552f2['wasmUrl'],'fallbackUrl':_0x4552f2['fallbackUr'+'l'],'numWorkers':_0x4552f2['numWorkers']});}if(_0x3e0741['glueUrl']||_0x3e0741['wasmUrl']||_0x3e0741['fallbackUr'+'l']){Af=!(-0x1a5*0x10+-0x1205+0x2c55);const _0x3d3632=Math['max'](0x2331+-0x1e13*0x1+-0x77*0xb,Math['min'](0x24eb*0x1+0xdf1+0x1*-0x32cc,_0x3e0741['numWorkers']||vL)),_0x307ac1=_0x3e0741['numWorkers']===-0x10a3+-0x2cc+0x1370||(_0x3e0741['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x3e0741['eagerWorke'+'rs']:!(-0x1d*0x15+0x1c80+-0x1a1f));_0x3e0741['rgbPriorit'+'y']=_0x3e0741['rgbPriorit'+'y']||bL,_0x3e0741['rgbaPriori'+'ty']=_0x3e0741['rgbaPriori'+'ty']||wL,_0x3e0741['maxRetries']=_0x3e0741['hasOwnProp'+'erty']('maxRetries')?_0x3e0741['maxRetries']:TL,yL(_0x3e0741,(_0x191b15,_0x22016c)=>{if(_0x191b15)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x191b15);else{for(let _0x49ece9=0xb3c+0xd3d+-0x5*0x4e5;_0x49ece9<_0x3d3632;++_0x49ece9)Tf['enqueueCli'+'ent'](new SL(Tf,_0x22016c,_0x307ac1));}});}}}let su=null;function Fx(_0x4b0da8,_0x361dac,_0x3d2187,_0x101b10,_0x1144e8){return AL(),su||(su={'formats':gL(_0x4b0da8)}),Tf['enqueueJob'](_0x361dac,_0x3d2187,_0x101b10,{'deviceDetails':su,'isGGGR':!!(_0x1144e8!=null&&_0x1144e8['isGGGR']),'isKTX2':!!(_0x1144e8!=null&&_0x1144e8['isKTX2'])}),Af;}class Na{['load'](_0x4e24aa,_0x40d996,_0x4bd694){throw new Error('not\x20implem'+'ented');}['open'](_0x28a812,_0x17c654,_0x32ca61){throw new Error('not\x20implem'+'ented');}}class EL extends Na{constructor(_0x481c4c,_0x1c60ff){super(),this['device']=_0x1c60ff,this['maxRetries']=-0x21ab+-0x1*-0x24ec+-0x341;}['load'](_0x4956b5,_0xb1eeed,_0x2c6417){const _0x4837b8=this['device'],_0x3ec273=_0x1043e1=>{var _0x51dba5,_0xe7da07,_0x2dc5dc;Fx(_0x4837b8,_0x4956b5['load'],_0x1043e1,_0xb1eeed,{'isGGGR':(((_0x2dc5dc=(_0xe7da07=(_0x51dba5=_0x2c6417==null?void(0x301*0x4+0x261b+0x8d*-0x5b):_0x2c6417['file'])==null?void(0x2285+0x2561+-0x47e6):_0x51dba5['variants'])==null?void(0x137f+-0x1d54+0x9d5):_0xe7da07['basis'])==null?void(0x1efc*0x1+-0x3*0x679+-0xb91):_0x2dc5dc['opt'])&-0x66e*-0x2+-0xf20+-0x2*-0x126)!==0x3b*-0x37+0x1*-0x1771+0x241e})||_0xb1eeed('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x2c6417['name']+']('+_0x2c6417['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};le['fetchArray'+'Buffer'](_0x4956b5['load'],(_0x4fa212,_0x253035)=>{_0x4fa212?_0xb1eeed(_0x4fa212):_0x3ec273(_0x253035);},_0x2c6417,this['maxRetries']);}['open'](_0x5265d5,_0x4bc3b0,_0x4651ae,_0x548ca3={}){const _0x97717=_0x548ca3['srgb']?Cc(_0x4bc3b0['format']):_0x4bc3b0['format'],_0x47f6b4=new he(_0x4651ae,{'name':_0x5265d5,'profilerHint':ur,'addressU':_0x4bc3b0['cubemap']?ae:tt,'addressV':_0x4bc3b0['cubemap']?ae:tt,'width':_0x4bc3b0['width'],'height':_0x4bc3b0['height'],'format':_0x97717,'cubemap':_0x4bc3b0['cubemap'],'levels':_0x4bc3b0['levels'],..._0x548ca3});return _0x47f6b4['upload'](),_0x47f6b4;}}const Ox=new Uint8Array([0x2*-0xd0f+0x17b6+-0x3*-0xfb,-0xb31+0x16*-0x161+0x29d7,-0x10a7+0x121*0xb+-0x48a*-0x1,-0x1eb5+-0x10*0x2+0x2c*0xb5,-0x1a24+0x130b+0x726,-0x1bc8+-0xa4e*0x1+-0x2*-0x1310,0x7*0x281+-0x263d+0x14d0,0xc87+-0x26*0xe9+0x1*0x1619,-0x105*-0x16+0x1afc+0x6e*-0x73,-0x7f+0x1*-0x12e5+0x1364,0x217*-0x1+0x29*-0xbc+0x2033,0x20ec+-0x2*-0xf2d+-0x3f39,-0x771+0x178*-0x1a+0x3*0xf4e,-0x1bb5*0x1+-0x1*-0x253d+-0x250*0x4,-0x79a+0x10e9+-0x90b*0x1,-0x1b*-0xf3+0x83b+-0x218a,-0xd9b+-0x17ba+0x2555,0x13*-0x12d+0x72d+0xf2a,0xca3+0x80e+-0x14b1*0x1,-0x2695+-0x4f4+0x2b8a,-0x718+0xac7*-0x2+0x1ca6,-0x19ba+-0x15b*0x1+0x1b15,0xe7*0x2+0x4*0x3fb+-0x11ba,0x35*0x53+0x20b*-0x11+0x118d,-0x2b*-0x35+-0xc9c+0x3bd,-0x100+0x2*0x12f0+-0x24da,-0x12b4+-0x19ca+0x2c7e,0x1235+-0x17cd+-0x1*-0x598,0x5d*0x65+-0x3*0x773+-0x48*0x33,-0x196b+-0x1ef0+0x387a,0x19f0+-0x242f+0xa54,-0x20f6+0x5a3*0x4+0xb2e,-0x1db2+-0x8da+-0x7d1*-0x5,-0xd*0x1d3+0x9f7*-0x2+0x2ba5,0x3d*-0x81+0x8d1+0x15ec,-0x26*-0xe1+-0xb36+0x8*-0x2c6,-0x66f+-0x4*0x35b+0x13e8,0x12dd+-0x11ef+-0xa5,0x18bb+-0x1*0x128f+-0x1c*0x36,-0x1229*0x1+-0x2*0xd8a+0x2d7e,-0xeba+0x2682+-0x1774,-0x17de+-0x187b+0x30d1,0x16b9*-0x1+0x8*-0x409+0x37db,-0x2278*0x1+-0x1dbd+0x4098,0x12a8+-0xce7+-0x55d,-0x1a72+-0x9*-0x11+0x3*0x8bf,-0x8*0x4b3+0x1f8f+0x35*0x1f,-0x9*-0x16+-0x1bbb+-0x1*-0x1bab,0xce*-0x13+-0x1473+0x6d*0x54,-0x1fa4+0x227*-0x12+0x4662,0x1417+0x28*0x1e+-0x18c7,-0xc95*0x2+-0x206b+-0x1*-0x39ee,-0x1ad3+-0x1e0a+0x38dd,-0x115+0xe*-0x1b+0x2d6,0x585*-0x2+-0x1b9b*0x1+0x26e8,-0x1016*0x1+0x1*-0x19a7+-0x1521*-0x2,-0x3*-0xcda+-0x9*-0xc7+-0x2cf9,0x31a*0xa+0x2538+-0x434f*0x1,0x1d8f+0x6f7+-0x2486,0x14aa+0xc*0xc1+-0x1db6,0x3*-0xc7d+-0xded+0x8f*0x5c,0x1d8e+0x1*0x3cb+-0x2159*0x1,-0x6b*-0x5+0x1cba+-0x1e88,0x129e+0xca8+0x1*-0x1f01,0x1d55*-0x1+0x3ef+0x19b4,0x1*0xde7+0x33b*0x1+0x86f*-0x2,0x6*0x65c+0x1d7*-0x2+0x2a*-0xce,0x66d*0x2+-0xb4*0xe+-0x2c*0x10,-0x2bc+0x1eb*-0x8+0x49d*0x4,0x1e06+-0x1b88+-0x1*0x1fc]),kx=(_0x576147,_0x6e9a94)=>{const _0x1d6bb9=new he(_0x576147,{'width':0x1,'height':0x1,'format':Se,'mipmaps':!(0x1124+0xe*0x277+0x3*-0x1137),'levels':[_0x6e9a94]}),_0x21b813=new pt({'colorBuffer':_0x1d6bb9,'depth':!(0x244b+-0x1cdc+-0x6*0x13d)});_0x576147['setFramebu'+'ffer'](_0x21b813['impl']['_glFrameBu'+'ffer']),_0x576147['initRender'+'Target'](_0x21b813);const _0x497fbf=new Uint8ClampedArray(0x25*-0x61+-0x2075+0x173f*0x2);return _0x576147['gl']['readPixels'](0x1*-0x25bb+-0x1984+0x3f3f,-0x4a6+-0x2*0x1136+-0x683*-0x6,0xabd*0x1+-0x153a+-0x4f*-0x22,0x1143*-0x2+0xb*0x9d+0x1bc8,_0x576147['gl']['RGBA'],_0x576147['gl']['UNSIGNED_B'+'YTE'],_0x497fbf),_0x21b813['destroy'](),_0x1d6bb9['destroy'](),_0x497fbf[-0xa3*-0x13+0x11+0xc2a*-0x1]===0x8c3+-0x453*-0x5+-0xb*0x2c3&&_0x497fbf[0x1415*-0x1+-0xf69+0x237f]===0x1*0xc75+0xf12+-0x1b85&&_0x497fbf[-0x242a+-0xf4b+0x3377]===0x1*-0x22a8+-0x1aa7+0x1*0x3d52&&_0x497fbf[-0x3*0x47+-0x3*-0x9f7+-0x3*0x9af]===0x6*-0x568+-0x2632+0x46e1;},CL=_0xad10a4=>createImageBitmap(new Blob([Ox],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x1692b6=>kx(_0xad10a4,_0x1692b6))['catch'](_0x13b50a=>!(0x6fe*0x4+-0x8c5+-0x1332)),ML=_0x5dec4c=>new Promise((_0x3515c9,_0x575fea)=>{const _0x11541b=new Image();_0x11541b['src']=URL['createObje'+'ctURL'](new Blob([Ox])),_0x11541b['onload']=()=>{_0x3515c9(kx(_0x5dec4c,_0x11541b));};});class PL{static['run'](_0x9d3f9d){CL(_0x9d3f9d)['then'](_0x467cc4=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x467cc4);}),ML(_0x9d3f9d)['then'](_0x15cbda=>{console['log']('imgElement'+'IsCorrect='+_0x15cbda);});}}class RL extends Na{constructor(_0x123461,_0x1e72e4){super(),this['crossOrigi'+'n']=_0x123461['prefix']?'anonymous':null,this['maxRetries']=0x1*-0x1a3b+0x977*0x4+0xd*-0xe5,this['device']=_0x1e72e4,Xs['get']('IMG_ALPHA_'+'TEST')&&PL['run'](this['device']);}['load'](_0x127962,_0x7f24d7,_0xaa58e1){var _0x23ecca;const _0x4eba24=!!((_0x23ecca=_0xaa58e1==null?void(-0xc4*0x17+-0xf9d*-0x1+0x1ff):_0xaa58e1['file'])!=null&&_0x23ecca['contents']);if(_0x4eba24){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0xaa58e1['file']['contents']]),_0x7f24d7);return;}_0x127962={'load':URL['createObje'+'ctURL'](new Blob([_0xaa58e1['file']['contents']])),'original':_0x127962['original']};}const _0x27025d=(_0x309548,_0x359272)=>{_0x4eba24&&URL['revokeObje'+'ctURL'](_0x127962['load']),_0x7f24d7(_0x309548,_0x359272);};let _0x5785ba;_0xaa58e1&&_0xaa58e1['options']&&_0xaa58e1['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x5785ba=_0xaa58e1['options']['crossOrigi'+'n']:Da['test'](_0x127962['load'])&&(_0x5785ba=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x127962['load'],_0x127962['original'],_0x5785ba,_0x27025d):this['_loadImage'](_0x127962['load'],_0x127962['original'],_0x5785ba,_0x27025d);}['open'](_0x20fc79,_0x22c876,_0x3c520b,_0x4569c6={}){const _0x1710d5=new he(_0x3c520b,{'name':_0x20fc79,'profilerHint':ur,'width':_0x22c876['width'],'height':_0x22c876['height'],'format':_0x4569c6['srgb']?rs:Se,..._0x4569c6});return _0x1710d5['setSource'](_0x22c876),_0x1710d5;}['_loadImage'](_0x1837fb,_0x1e38b3,_0x303ddd,_0x249f00){const _0x14bbe2=new Image();_0x303ddd&&(_0x14bbe2['crossOrigi'+'n']=_0x303ddd);let _0x46ccd3=0xd1a+0x5fb+0x3d1*-0x5;const _0x129dd8=this['maxRetries'];let _0x1c414f;_0x14bbe2['onload']=function(){_0x249f00(null,_0x14bbe2);},_0x14bbe2['onerror']=function(){if(!_0x1c414f){if(_0x129dd8>0xb*0x191+-0x10eb+-0x50&&++_0x46ccd3<=_0x129dd8){const _0x4f631d=Math['pow'](-0x1*0x248e+0xb7c+-0x217*-0xc,_0x46ccd3)*(-0x3*-0x71c+0xec8+-0x23b8);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x1e38b3+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x4f631d+'ms...');const _0x3f5d50=_0x1837fb['indexOf']('?')>=-0x274+0x245*-0x8+0x149c?'&':'?';_0x1c414f=setTimeout(()=>{_0x14bbe2['src']=_0x1837fb+_0x3f5d50+'retry='+Date['now'](),_0x1c414f=null;},_0x4f631d);}else _0x249f00('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x1e38b3+'\x27');}},_0x14bbe2['src']=_0x1837fb;}['_loadImage'+'Bitmap'](_0x4f8591,_0x6d31b,_0x4173de,_0xa664f9){const _0x3dcb73={'cache':!(-0x1*0x15a5+-0x2089*-0x1+0x4*-0x2b9),'responseType':'blob','retry':this['maxRetries']>0x611+-0x1*-0x221+-0x1*0x832,'maxRetries':this['maxRetries']};$e['get'](_0x4f8591,_0x3dcb73,(_0xa0c1aa,_0x11ae7f)=>{_0xa0c1aa?_0xa664f9(_0xa0c1aa):this['_loadImage'+'BitmapFrom'+'Blob'](_0x11ae7f,_0xa664f9);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x3f64fc,_0x2b8a1d){createImageBitmap(_0x3f64fc,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x2a2c70=>_0x2b8a1d(null,_0x2a2c70))['catch'](_0x3ab857=>_0x2b8a1d(_0x3ab857));}}const iu=[-0x1*0xa1c68fcc+-0x7df0c870+0xd7557*0x1bf1,0xae56e9a8+-0x77d6355a+-0x42583e69*-0x2,0x37*-0x2f12c5+-0x52*-0xa5e19+0x10e4ee5e],IL={0x83f0:yc,0x83f2:zf,0x83f3:$o,0x8d64:bc,0x9274:Vf,0x9278:Gf,0x8c00:wc,0x8c01:qo,0x8c02:Tc,0x8c03:Xo,0x8051:dr,0x8058:Se,0x8c41:Uf,0x8c43:rs,0x8c3a:_a,0x881b:xc,0x881a:Je};function DL(_0x513e9a,_0x5f5442,_0x179d6b,_0x27c02d){return _0x513e9a===_a?new Uint32Array(_0x5f5442,_0x179d6b,_0x27c02d/(-0x24ea+-0x1*-0x2cf+0x221f)):new Uint8Array(_0x5f5442,_0x179d6b,_0x27c02d);}class LL extends Na{constructor(_0x49b9fa){super(),this['maxRetries']=-0x1*0x2437+0x6be+0x1f7*0xf;}['load'](_0x294375,_0x357d09,_0x5c3933){le['fetchArray'+'Buffer'](_0x294375['load'],_0x357d09,_0x5c3933,this['maxRetries']);}['open'](_0x5c498a,_0x7ca80,_0xbb7a3,_0x27c80d={}){const _0x22aaf5=this['parse'](_0x7ca80);if(!_0x22aaf5)return null;const _0x33749c=_0x27c80d['srgb']?Cc(_0x22aaf5['format']):_0x22aaf5['format'],_0x19bddd=new he(_0xbb7a3,{'name':_0x5c498a,'profilerHint':ur,'addressU':_0x22aaf5['cubemap']?ae:tt,'addressV':_0x22aaf5['cubemap']?ae:tt,'width':_0x22aaf5['width'],'height':_0x22aaf5['height'],'format':_0x33749c,'cubemap':_0x22aaf5['cubemap'],'levels':_0x22aaf5['levels'],..._0x27c80d});return _0x19bddd['upload'](),_0x19bddd;}['parse'](_0x20dd42){const _0x411eb6=new Uint32Array(_0x20dd42);if(iu[0x3a2+0x373*-0x9+0x1b69]!==_0x411eb6[-0xd45+0x2209+-0x14c4]||iu[0x7*0x464+-0x4c5*0x1+-0xcfb*0x2]!==_0x411eb6[0xee4+0x1f*-0x12+0x1*-0xcb5]||iu[-0x20d*-0xb+0x978+-0x7*0x493]!==_0x411eb6[-0x2*-0xcf7+0xe59*-0x2+0x2*0x163])return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x5775d0={'endianness':_0x411eb6[0x1522+-0x11*0x44+-0x109b],'glType':_0x411eb6[-0x2601*0x1+0xfc8+0x1*0x163d],'glTypeSize':_0x411eb6[-0x65+0x549*-0x6+-0x101*-0x20],'glFormat':_0x411eb6[0x3e9+-0x2*-0x459+-0x1*0xc95],'glInternalFormat':_0x411eb6[0x413+0x18a7+-0x1cb3],'glBaseInternalFormat':_0x411eb6[-0xa7*-0xb+0xa*-0x191+0x885],'pixelWidth':_0x411eb6[-0x20fb+-0x17e3+-0x38e7*-0x1],'pixelHeight':_0x411eb6[0x2e4*0xa+-0x2033*0x1+0x355],'pixelDepth':_0x411eb6[0x9d8+-0x19f1+0x1024],'numberOfArrayElements':_0x411eb6[-0x53*0x47+-0x449*-0x3+-0x51b*-0x2],'numberOfFaces':_0x411eb6[0x26f*0x9+-0x3*0x9a3+0x70f],'numberOfMipmapLevels':_0x411eb6[-0x5da+-0x2214+0x355*0xc],'bytesOfKeyValueData':_0x411eb6[-0x83*-0x2b+0x34b+-0x1*0x193d]};if(_0x5775d0['pixelDepth']>0x3*-0x23b+0x61*-0x4f+-0x24a1*-0x1)return v['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x5775d0['numberOfAr'+'rayElement'+'s']!==-0xf*-0x16+-0x1f5*0x2+0x150*0x2)return v['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x26a3da=IL[_0x5775d0['glInternal'+'Format']];if(_0x26a3da===void(-0x247f+0x7f0+0x1c8f))return v['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x5775d0['glInternal'+'Format']),null;let _0x2228bc=0x1695+-0x19ca+0x345+_0x5775d0['bytesOfKey'+'ValueData']/(0xb*-0x21a+0x523*-0x5+-0x1*-0x30d1);const _0xcff4f=_0x5775d0['numberOfFa'+'ces']>0x204d*-0x1+0x65*-0x61+0x4693,_0x2a006b=[];for(let _0x20f9af=-0x11c0+-0x3a5+0x1565;_0x20f9af<(_0x5775d0['numberOfMi'+'pmapLevels']||0x15d7*0x1+0x1*0x7+-0x15dd);_0x20f9af++){const _0x135727=_0x411eb6[_0x2228bc++];_0xcff4f&&_0x2a006b['push']([]);const _0x1660ca=_0xcff4f?_0x2a006b[_0x20f9af]:_0x2a006b;for(let _0x20e5c9=0x146f+-0x1e17*0x1+0x9a8;_0x20e5c9<(_0xcff4f?0x26c2*-0x1+0x2*0xd0f+0x655*0x2:0x1f*-0x89+-0x1ea4+0x2*0x179e);++_0x20e5c9)_0x1660ca['push'](DL(_0x26a3da,_0x20dd42,_0x2228bc*(0x19e*-0xb+-0x693+0x1861),_0x135727)),_0x2228bc+=_0x135727+(0x9bc+0x13*0x7+-0xa3e)>>0x1e22*0x1+0x203a+-0x2*0x1f2d;}return{'format':_0x26a3da,'width':_0x5775d0['pixelWidth'],'height':_0x5775d0['pixelHeigh'+'t'],'levels':_0x2a006b,'cubemap':_0xcff4f};}}const FL={'KHR_DF_MODEL_UASTC':0xa6};class OL extends Na{constructor(_0x3a1aee,_0x357c78){super(),this['maxRetries']=-0x25b4*0x1+-0x1963+0x3f17,this['device']=_0x357c78;}['load'](_0x379977,_0x3f6e27,_0x2f541){le['fetchArray'+'Buffer'](_0x379977['load'],(_0xc8acb7,_0x1c79c9)=>{_0xc8acb7?_0x3f6e27(_0xc8acb7,_0x1c79c9):this['parse'](_0x1c79c9,_0x379977,_0x3f6e27,_0x2f541);},_0x2f541,this['maxRetries']);}['open'](_0x29f8d2,_0x3188fa,_0x4644bc,_0x2e060b={}){const _0x1ab4f0=_0x2e060b['srgb']?Cc(_0x3188fa['format']):_0x3188fa['format'],_0x3d945c=new he(_0x4644bc,{'name':_0x29f8d2,'profilerHint':ur,'addressU':_0x3188fa['cubemap']?ae:tt,'addressV':_0x3188fa['cubemap']?ae:tt,'width':_0x3188fa['width'],'height':_0x3188fa['height'],'format':_0x1ab4f0,'cubemap':_0x3188fa['cubemap'],'levels':_0x3188fa['levels'],..._0x2e060b});return _0x3d945c['upload'](),_0x3d945c;}['parse'](_0x128df3,_0xcbd759,_0x1f5f49,_0x362ec0){var _0x5e4e51,_0x448c26,_0x2ec6ec;const _0x4ed7c1=new oy(_0x128df3),_0x5d1e60=[_0x4ed7c1['readU32be'](),_0x4ed7c1['readU32be'](),_0x4ed7c1['readU32be']()];if(_0x5d1e60[-0x1ef5+-0x141*-0x9+0x1*0x13ac]!==-0x1*-0x951917c5+-0x665e952*-0x33+-0x1301b3ec3||_0x5d1e60[0x1*0x26fa+0x48a+-0x2b83]!==-0x22f68548+-0x3f44d6d8+0x826d8cdb||_0x5d1e60[0x33*-0x31+-0x1912+0x22d7]!==0x12883*0x10fe+0x2431*0xb387+-0x3*0xaac8aed)return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x578676={'vkFormat':_0x4ed7c1['readU32'](),'typeSize':_0x4ed7c1['readU32'](),'pixelWidth':_0x4ed7c1['readU32'](),'pixelHeight':_0x4ed7c1['readU32'](),'pixelDepth':_0x4ed7c1['readU32'](),'layerCount':_0x4ed7c1['readU32'](),'faceCount':_0x4ed7c1['readU32'](),'levelCount':_0x4ed7c1['readU32'](),'supercompressionScheme':_0x4ed7c1['readU32']()},_0x5c0d2e={'dfdByteOffset':_0x4ed7c1['readU32'](),'dfdByteLength':_0x4ed7c1['readU32'](),'kvdByteOffset':_0x4ed7c1['readU32'](),'kvdByteLength':_0x4ed7c1['readU32'](),'sgdByteOffset':_0x4ed7c1['readU64'](),'sgdByteLength':_0x4ed7c1['readU64']()},_0x255fab=[];for(let _0x56aa4d=0x1be3+0x2e*0xd7+-0x4285*0x1;_0x56aa4d<Math['max'](0x1*-0x12d+0x8e1*-0x3+0x1bd1*0x1,_0x578676['levelCount']);++_0x56aa4d)_0x255fab['push']({'byteOffset':_0x4ed7c1['readU64'](),'byteLength':_0x4ed7c1['readU64'](),'uncompressedByteLength':_0x4ed7c1['readU64']()});if(_0x4ed7c1['readU32']()!==_0x5c0d2e['kvdByteOff'+'set']-_0x5c0d2e['dfdByteOff'+'set'])return v['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x4ed7c1['skip'](0x1435*0x1+0x22*-0x6a+-0x619);const _0x45eac0=_0x4ed7c1['readU8']();_0x4ed7c1['skip'](_0x5c0d2e['dfdByteLen'+'gth']-(-0x2561+-0x19*-0x14e+0x4cc)),_0x4ed7c1['skip'](_0x5c0d2e['kvdByteLen'+'gth']),_0x578676['supercompr'+'essionSche'+'me']===0xaad+0x240d+-0x2eb9*0x1||_0x45eac0===FL['KHR_DF_MOD'+'EL_UASTC']?Fx(this['device'],_0xcbd759['load'],_0x128df3,_0x1f5f49,{'isGGGR':(((_0x2ec6ec=(_0x448c26=(_0x5e4e51=_0x362ec0==null?void(0x22e9+0xfd5*0x1+-0x5*0xa26):_0x362ec0['file'])==null?void(-0x36b+-0x1a63+0x1dce):_0x5e4e51['variants'])==null?void(0xd79+0x1913+-0x2*0x1346):_0x448c26['basis'])==null?void(-0xa*-0x6+0xd7+-0x113):_0x2ec6ec['opt'])&0x1adb+0x827+-0x22fa)!==-0x1d2b*-0x1+0x18*-0x49+-0x2d*0x7f,'isKTX2':!(0x5*-0xfa+0x3*-0xc9+-0x1*-0x73d)})||_0x1f5f49('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x362ec0['name']+']('+_0x362ec0['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x1f5f49('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class kL extends Na{constructor(_0x192ab9){super(),this['maxRetries']=-0x7*0x493+0x913*-0x1+0x2918;}['load'](_0x262761,_0x59d8ec,_0x5797ca){le['fetchArray'+'Buffer'](_0x262761['load'],_0x59d8ec,_0x5797ca,this['maxRetries']);}['open'](_0x3d2f09,_0x15508,_0x496c70,_0x4ac90c={}){const _0x4b763b=new Uint32Array(_0x15508,-0x191+-0x72c+0x8bd,0xdad+0x101a+-0x1da7),_0x2e4d7f=_0x4b763b[0x1*-0xceb+0x2056*0x1+-0x1*0x1367],_0xd79629=_0x4b763b[0x1a35*0x1+0x1865+0x1*-0x3297],_0x55afc0=Math['max'](_0x4b763b[-0x4*0x964+-0x806+0x2d9d],0x409*0x9+0x3e1*-0x7+-0x929*0x1),_0x3da12e=_0x4b763b[-0x29*-0xc2+-0xf70*-0x1+-0x7*0x6a2]===-0xfe9+0x9b1*-0x3+-0x2d00*-0x1,_0x5d6c1c=_0x4b763b[-0x1dfc+-0x7*-0xf5+0x175e],_0x4af5cb=_0x4b763b[0x15*-0x11b+0x22f+0x151e],_0x2c4474=_0x4b763b[0x54b+-0x1f5*0x3+0xb0]===0x7*-0x714+0x1c1*-0x86+0x21a92,_0x1f4727=-0x43a1a4e7+0x79cb81*0x44+-0x549beee7*-0x1,_0xab0026=0x2*-0x11965c58+-0x3305b85f+0x8b86c953,_0x2d4de6=-0x1c93+0x20*0x47+0x1424,_0xfae4c2=-0x34*0xb2+0x1fd0+0x2*0x266,_0x3abdb6=-0xe546143*0x4+0x119f5387+-0x2*-0x2c7ac2e5,_0x50bc68=0x38fd77dd+0x1*-0x30ff2dc6+0x2934e839,_0x4a4d9d=0x4acbe161+-0x13729fad+0x7748c*-0xd3,_0x5d418a=-0x2*0x1ca3c2db+0x26f362b2+-0x56*-0xc903fe,_0xb5b295=0xa*-0x8459277+-0x123bda0b+-0x32149*-0x2ff9;let _0x40c704=!(-0x28e*0x2+-0x131e*0x1+0x183b),_0x4edc78=!(0x29*-0xf1+-0xd90+0x342a),_0x33210e=!(-0x2649+0x21f9+0x451),_0x410c68=!(0x484+0x11*-0x3b+-0x98),_0xe2d5dc=null,_0x36c27=-0x1283+-0xd36+0x1*0x1fba,_0x18a4b0;if(_0x3da12e?_0x5d6c1c===_0x1f4727?(_0xe2d5dc=yc,_0x40c704=!(0x3*-0x899+-0xa19+0x23e4)):_0x5d6c1c===_0xab0026?(_0xe2d5dc=$o,_0x40c704=!(0x1712+-0x1a*0x161+-0x4*-0x332)):_0x5d6c1c===_0x2d4de6?(_0xe2d5dc=Je,_0x36c27=-0x4*0x6d7+-0x1*-0x31a+0x4*0x611):_0x5d6c1c===_0xfae4c2?(_0xe2d5dc=Ke,_0x36c27=0xe0b*0x1+-0xba3*-0x1+-0x19aa):_0x5d6c1c===_0x3abdb6?(_0xe2d5dc=bc,_0x40c704=!(-0x1540+0x1a7d+0x9*-0x95),_0x4edc78=!(-0x1111+-0x7d*0x24+0x22a5)):_0x5d6c1c===_0x50bc68||_0x5d6c1c===_0x4a4d9d?(_0xe2d5dc=_0x5d6c1c===_0x50bc68?qo:Xo,_0x40c704=!(-0x26d0+0x33*-0x97+0x44e5),_0x33210e=!(0xc8a+0x101*0x3+-0xf8d)):(_0x5d6c1c===_0x5d418a||_0x5d6c1c===_0xb5b295)&&(_0xe2d5dc=_0x5d6c1c===_0x5d418a?wc:Tc,_0x40c704=!(0x268d+0xe45*-0x2+-0xb*0xe9),_0x410c68=!(0x247e+0x421+0x1*-0x289f)):_0x4af5cb===-0x6af+0x1*0x21af+0x56*-0x50&&(_0xe2d5dc=Se),!_0xe2d5dc)return v['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x3d2f09+'.'),_0x18a4b0=new he(_0x496c70,{'width':0x4,'height':0x4,'format':dr,'name':'dds-legacy'+'-empty'}),_0x18a4b0;_0x18a4b0=new he(_0x496c70,{'name':_0x3d2f09,'profilerHint':ur,'addressU':_0x2c4474?ae:tt,'addressV':_0x2c4474?ae:tt,'width':_0x2e4d7f,'height':_0xd79629,'format':_0xe2d5dc,'cubemap':_0x2c4474,'mipmaps':_0x55afc0>0x5*-0x137+0x1*0xe7b+-0x867,..._0x4ac90c});let _0x1d2ff9=-0xf*0x1+0x1869*0x1+-0x1*0x17da;const _0x3fb9d3=_0x2c4474?-0x1*0x323+-0x7fc+0xb25:-0x1bf7+-0x17*-0x17b+-0x615;let _0x3dc8c1;const _0x20f413=0x23*-0xd9+0xfed+0xdc2,_0x7501d1=-0x24e3+0x1*0x7e1+0x5*0x5ce,_0x392466=_0x5d6c1c===_0x1f4727?0xc6e+-0x1*0x4fd+-0x769:0x85d+-0x1c40+-0x13f3*-0x1;let _0x42ae6f,_0x3eee7a,_0x3ff065;for(let _0x17f378=-0x18af+-0x177b+0x4d1*0xa;_0x17f378<_0x3fb9d3;_0x17f378++){let _0x3b6bc7=_0x2e4d7f,_0xd480c6=_0xd79629;for(let _0x3bdb8b=0x2d*0x13+-0x1*0x11a7+0x1ca*0x8;_0x3bdb8b<_0x55afc0;_0x3bdb8b++){_0x40c704?_0x4edc78?_0x3dc8c1=Math['floor']((_0x3b6bc7+(0xbdc*-0x3+-0x7a4*-0x1+-0x1*-0x1bf3))/(0x1835+-0x1561+-0x2d0))*Math['floor']((_0xd480c6+(-0x13db*-0x1+-0x1*-0x22df+0x261*-0x17))/(-0x14dd+-0x1105*0x1+-0x63*-0x62))*(0x5*0x3a4+-0x1ed*-0x13+-0x36c3):_0x33210e?_0x3dc8c1=Math['max'](_0x3b6bc7,0xb*0x385+0xba*0x2+0x281b*-0x1)*Math['max'](_0xd480c6,-0x4*0x6ee+-0xa2c+-0x652*-0x6)/(-0x248e*0x1+-0x281*-0xc+0x14e*0x5):_0x410c68?_0x3dc8c1=Math['max'](_0x3b6bc7,-0x2*-0xb66+-0x1bac+0x2*0x274)*Math['max'](_0xd480c6,-0x1a5+0x6b0+-0x503)/(0x6e0+0x739+-0xe17):(_0x42ae6f=Math['floor']((_0x3b6bc7+_0x20f413-(-0x1492+0x7a5+-0x677*-0x2))/_0x20f413),_0x3eee7a=Math['floor']((_0xd480c6+_0x7501d1-(0x1f19+0xf*-0xad+-0x14f5))/_0x7501d1),_0x3ff065=_0x42ae6f*_0x3eee7a,_0x3dc8c1=_0x3ff065*_0x392466):_0x3dc8c1=_0x3b6bc7*_0xd480c6*(0x6b*0x2c+0xb*-0x123+-0x5df);const _0x2965fc=_0xe2d5dc===Ke?new Float32Array(_0x15508,_0x1d2ff9,_0x3dc8c1):_0xe2d5dc===Je?new Uint16Array(_0x15508,_0x1d2ff9,_0x3dc8c1):new Uint8Array(_0x15508,_0x1d2ff9,_0x3dc8c1);_0x2c4474?(_0x18a4b0['_levels'][_0x3bdb8b]||(_0x18a4b0['_levels'][_0x3bdb8b]=[]),_0x18a4b0['_levels'][_0x3bdb8b][_0x17f378]=_0x2965fc):_0x18a4b0['_levels'][_0x3bdb8b]=_0x2965fc,_0x1d2ff9+=_0x3dc8c1*_0x36c27,_0x3b6bc7=Math['max'](_0x3b6bc7*(-0x1*0x170a+0xaa3*-0x1+-0x21ad*-0x1+0.5),-0x7*-0x4df+0xb0d+-0x2d25),_0xd480c6=Math['max'](_0xd480c6*(0x258d*-0x1+-0x16b6+-0x3c43*-0x1+0.5),-0x1a*-0xf3+0x2*-0x92c+-0x1*0x655);}}return _0x18a4b0['upload'](),_0x18a4b0;}}class BL extends Na{constructor(_0x4c26f9){super(),this['maxRetries']=0x1e4b+0x213c+-0x9*0x70f;}['load'](_0x58d4ce,_0x26f7bd,_0x542604){le['fetchArray'+'Buffer'](_0x58d4ce['load'],_0x26f7bd,_0x542604,this['maxRetries']);}['open'](_0xfa85c4,_0x4a2583,_0x27cb48,_0x2f740a={}){const _0x48c72c=this['parse'](_0x4a2583);if(!_0x48c72c)return null;const _0x2ef286=new he(_0x27cb48,{'name':_0xfa85c4,'profilerHint':ur,'addressU':tt,'addressV':ae,'minFilter':de,'magFilter':de,'width':_0x48c72c['width'],'height':_0x48c72c['height'],'levels':_0x48c72c['levels'],'format':Se,'type':ap,'mipmaps':!(-0x1*0x307+-0x24a8+-0x13d8*-0x2),..._0x2f740a});return _0x2ef286['upload'](),_0x2ef286;}['parse'](_0x31ed97){const _0x23880f=new oy(_0x31ed97);if(!_0x23880f['readLine']()['startsWith']('#?RADIANCE'))return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x19bb06={};for(;;){const _0x4a6c28=_0x23880f['readLine']();if(_0x4a6c28['length']===-0x4*0x1a3+0x1063*-0x2+0x2752)break;{const _0x3618a3=_0x4a6c28['split']('=');_0x3618a3['length']===-0x1*-0xdfe+0x2*-0x10b7+0x1372&&(_0x19bb06[_0x3618a3[-0xaf6+-0x26c1+0xd*0x3d3]]=_0x3618a3[-0x6d*-0x56+-0x318+-0x2185]);}}if(!_0x19bb06['hasOwnProp'+'erty']('FORMAT'))return v['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x1855b4=_0x23880f['readLine']()['split']('\x20');if(_0x1855b4['length']!==-0x8a0+-0x24b7*0x1+0x2d5b)return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x234a68=parseInt(_0x1855b4[-0x1394+-0xd*-0x2b9+-0xfd0],0x60e+0x23fb+-0x29ff),_0x77b39b=parseInt(_0x1855b4[-0x8*-0x9b+-0x231a+0x1e45],-0x17e*0xe+-0x10b9*0x1+0x42f*0x9),_0x53e981=this['_readPixel'+'s'](_0x23880f,_0x77b39b,_0x234a68,_0x1855b4[0xdff+0xc5*0x1a+0x1*-0x2201]==='-Y');return _0x53e981?{'width':_0x77b39b,'height':_0x234a68,'levels':[_0x53e981]}:null;}['_readPixel'+'s'](_0x4e61bc,_0x2989d1,_0x315950,_0x398969){if(_0x2989d1<0x1cf*0x2+0x1153+0x14e9*-0x1||_0x2989d1>-0xb0af+0x56a4+0xda0a*0x1)return this['_readPixel'+'sFlat'](_0x4e61bc,_0x2989d1,_0x315950);const _0x9bb78e=[-0x1*-0x208d+0x1bc8+-0x3c55,0x297*0x2+0x22d*-0x1+-0x301,-0xcc6+-0x1*-0x252d+-0x1867,-0x298+0x71f*-0x1+-0x9b7*-0x1];if(_0x4e61bc['readArray'](_0x9bb78e),_0x9bb78e[-0x1*0x22a3+-0x1f38+0x41db]!==0xe77+0x1*-0x17e7+-0x972*-0x1||_0x9bb78e[0x1044+-0x163a+-0x5f7*-0x1]!==-0x1a0b+-0x1e00+0x380d||(_0x9bb78e[0x1*-0x2f+0x1*0x20f+-0x1*0x1de]&-0x1*-0x176+-0xd05+0xc0f*0x1)!==-0x1933*-0x1+-0x6df*0x4+0x249)return _0x4e61bc['skip'](-(0x2*0xfbb+0x7*-0x4e0+0xe*0x31)),this['_readPixel'+'sFlat'](_0x4e61bc,_0x2989d1,_0x315950);const _0x1a57b1=new ArrayBuffer(_0x2989d1*_0x315950*(0x569*0x3+0x1179*-0x1+-0x1*-0x142)),_0x9b609e=new Uint8Array(_0x1a57b1);let _0x1f3292=_0x398969?-0xe6c+-0x1*-0x1e52+-0xfe6:_0x2989d1*(0x266c*0x1+0x4*-0x1e5+-0x1ed4)*(_0x315950-(-0x1871*0x1+-0x1fa1+0x2d*0x13f)),_0x14437f,_0x3fce33,_0x359eb4,_0x372704,_0x367185,_0x57041c;for(_0x3fce33=-0x2624+-0xd9c+0x33c0;_0x3fce33<_0x315950;++_0x3fce33){if(_0x3fce33&&_0x4e61bc['readArray'](_0x9bb78e),(_0x9bb78e[-0x2a9*0x3+-0xeb7*0x1+0x16b4]<<-0xd49+0xb9b*0x1+-0x3*-0x92)+_0x9bb78e[-0x2348+-0x11ed+0x3538]!==_0x2989d1)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x372704=0x1a03*0x1+-0x5*-0x623+0x38b2*-0x1;_0x372704<0x1*-0x148+-0xcc7*0x3+0x27a1;++_0x372704)for(_0x14437f=0x671*-0x2+0x1e06+-0x4*0x449;_0x14437f<_0x2989d1;)if(_0x367185=_0x4e61bc['readU8'](),_0x367185>0x1ecc+0x176a+0x4e2*-0xb){if(_0x367185-=0x66d+0x1*0x2073+-0x998*0x4,_0x14437f+_0x367185>_0x2989d1)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x57041c=_0x4e61bc['readU8'](),_0x359eb4=0x1*-0x205f+0x2*-0xbf+-0x21dd*-0x1;_0x359eb4<_0x367185;++_0x359eb4)_0x9b609e[_0x1f3292+_0x372704+(-0xb72+-0x9*-0xf4+0x2e2)*_0x14437f++]=_0x57041c;}else{if(_0x367185===-0x2225*0x1+0x6d*0x4f+0x82||_0x14437f+_0x367185>_0x2989d1)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x359eb4=0x977*0x2+0x1d5c+-0x304a;_0x359eb4<_0x367185;++_0x359eb4)_0x9b609e[_0x1f3292+_0x372704+(-0x8dd*0x3+-0x2*0x2a6+0x1fe7*0x1)*_0x14437f++]=_0x4e61bc['readU8']();}_0x1f3292+=_0x2989d1*(-0x3be+-0x1*-0x10ff+-0x1*0xd3d)*(_0x398969?-0x964*-0x2+-0x5e3+-0xce4:-(-0xee3+-0x1805+0x26e9));}return _0x9b609e;}['_readPixel'+'sFlat'](_0x58c5bc,_0x1c7eac,_0x2ba6f7){return _0x58c5bc['remainingB'+'ytes']===_0x1c7eac*_0x2ba6f7*(0x1*-0x2fe+0x13*0xdb+-0xd3f)?new Uint8Array(_0x58c5bc['arraybuffe'+'r'],_0x58c5bc['offset']):null;}}const Wg={'repeat':tt,'clamp':ae,'mirror':Of},$g={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},NL={'default':Di,'rgbm':on,'rgbe':ap,'rgbp':Io,'swizzleGGGR':op},zL=function(_0x4f9f79){const _0x57a0c9=Mi['calcMipLev'+'elsCount'](_0x4f9f79['_width'],_0x4f9f79['_height']),_0x4dce17=function(_0x5bc5c7){return _0x5bc5c7 instanceof HTMLCanvasElement||_0x5bc5c7 instanceof HTMLImageElement||_0x5bc5c7 instanceof HTMLVideoElement;};if(!(_0x4f9f79['_format']===Se||_0x4f9f79['_format']===Ke)||_0x4f9f79['_volume']||_0x4f9f79['_compresse'+'d']||_0x4f9f79['_levels']['length']===-0x1eb*0xd+0x5b*-0xb+0x1*0x1cd9||_0x4f9f79['_levels']['length']===_0x57a0c9||_0x4dce17(_0x4f9f79['_cubemap']?_0x4f9f79['_levels'][0x1176+-0x1bb1+-0x3*-0x369][0x6*-0x2e+0xcb0+-0xb9c]:_0x4f9f79['_levels'][-0x2b+-0x7c7*-0x2+0xd*-0x12f]))return;const _0xfccd79=function(_0x4e0f46,_0x5cfdb9,_0x1d8bd6){const _0x59dc61=Math['max'](0x1e84+-0x73*0x1a+0x12d5*-0x1,_0x4e0f46>>-0x430*0x1+-0x1583+0x19b4),_0xe266b=Math['max'](-0x1de1+-0xa3*0x13+-0x29fb*-0x1,_0x5cfdb9>>0x300+0x1215+-0x47*0x4c),_0x5c6a65=new _0x1d8bd6['constructo'+'r'](_0x59dc61*_0xe266b*(-0x2f*0x2e+0x258b+-0x1d15*0x1)),_0x5a297c=Math['floor'](_0x4e0f46/_0x59dc61),_0x34e894=Math['floor'](_0x5cfdb9/_0xe266b),_0x4f434e=_0x5a297c*_0x34e894;for(let _0x37a9be=0x50d+-0x4b1+-0x2e*0x2;_0x37a9be<_0xe266b;++_0x37a9be)for(let _0x889cc6=-0xa*-0x286+0x2651+0x5c7*-0xb;_0x889cc6<_0x59dc61;++_0x889cc6)for(let _0x5c2c46=0x8d*0x43+-0xd*-0x1d2+-0x3c91;_0x5c2c46<-0x1b82+0x1*0x1b44+0x42*0x1;++_0x5c2c46){let _0x13583d=0xf*0x22d+-0x1*0x24cd+0x42a;for(let _0x35164b=-0x1985+-0x7f+-0x94*-0x2d;_0x35164b<_0x34e894;++_0x35164b)for(let _0x57377d=-0x223d+0x12d3+0xf6a;_0x57377d<_0x5a297c;++_0x57377d)_0x13583d+=_0x1d8bd6[(_0x889cc6*_0x5a297c+_0x57377d+(_0x37a9be*_0x34e894+_0x35164b)*_0x4e0f46)*(0x9e7+-0xcf5+-0x312*-0x1)+_0x5c2c46];_0x5c6a65[(_0x889cc6+_0x37a9be*_0x59dc61)*(0x1969+-0x7b5+-0x11b0)+_0x5c2c46]=_0x13583d/_0x4f434e;}return _0x5c6a65;};for(let _0x643f21=_0x4f9f79['_levels']['length'];_0x643f21<_0x57a0c9;++_0x643f21){const _0x4dfc25=Math['max'](0x360+-0x8b*0x3+-0x1*0x1be,_0x4f9f79['_width']>>_0x643f21-(-0x1*-0x2477+0x841*0x2+-0x1a7c*0x2)),_0x557921=Math['max'](0x1b2b*0x1+-0xa4*-0x13+0x6a*-0x5f,_0x4f9f79['_height']>>_0x643f21-(-0x1590+-0x2398+0x3929));if(_0x4f9f79['_cubemap']){const _0x17069d=[];for(let _0x295a89=-0x1e2e+-0x3*0x815+0x366d;_0x295a89<0xa*0x257+-0x2153+-0x1*-0x9f3;++_0x295a89)_0x17069d['push'](_0xfccd79(_0x4dfc25,_0x557921,_0x4f9f79['_levels'][_0x643f21-(-0x7*0x2e3+-0x11*0x93+0x1df9)][_0x295a89]));_0x4f9f79['_levels']['push'](_0x17069d);}else _0x4f9f79['_levels']['push'](_0xfccd79(_0x4dfc25,_0x557921,_0x4f9f79['_levels'][_0x643f21-(-0x1*0x98+0x1e*-0x3b+0x1*0x783)]));}_0x4f9f79['_levelsUpd'+'ated']=_0x4f9f79['_cubemap']?[[!(0x52d*-0x5+-0xa16+0x23f7),!(0xbfc*-0x1+-0x5*-0x50b+-0xd3b),!(-0x1ce5+-0x1065+0x2aa*0x11),!(-0x1*-0x1e49+-0x1255*-0x1+-0x309e),!(0x1646+-0x139d+-0xe3*0x3),!(-0x2*-0xc8e+-0x3bb*0x5+-0x227*0x3)]]:[!(-0x5*0x5ff+-0x347*-0x4+0x10df)];};class UL extends Ne{constructor(_0x4dcb2f){super(_0x4dcb2f,'texture');const _0x7a718d=_0x4dcb2f['assets'],_0x43e1b2=_0x4dcb2f['graphicsDe'+'vice'];this['_device']=_0x43e1b2,this['_assets']=_0x7a718d,this['imgParser']=new RL(_0x7a718d,_0x43e1b2),this['parsers']={'dds':new kL(_0x7a718d),'ktx':new LL(_0x7a718d),'ktx2':new OL(_0x7a718d,_0x43e1b2),'basis':new EL(_0x7a718d,_0x43e1b2),'hdr':new BL(_0x7a718d)};}set['crossOrigi'+'n'](_0x13de1f){this['imgParser']['crossOrigi'+'n']=_0x13de1f;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x9871a7){this['imgParser']['maxRetries']=_0x9871a7;for(const _0x139267 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x139267)&&(this['parsers'][_0x139267]['maxRetries']=_0x9871a7);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x530d3f){return _0x530d3f['indexOf']('?')>=0x368+0x3ab*-0x5+0xeef*0x1?_0x530d3f['split']('?')[0x1*-0x1827+-0xebc+0x26e3]:_0x530d3f;}['_getParser'](_0x264ce4){const _0x4f7a6e=fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x264ce4))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x4f7a6e]||this['imgParser'];}['_getTextur'+'eOptions'](_0x1780c3){var _0x232bfc;const _0x5a57f6={'profilerHint':ur};if(_0x1780c3){((_0x232bfc=_0x1780c3['name'])==null?void(-0x315*-0x1+0x6e1*-0x4+0x186f):_0x232bfc['length'])>-0xd*0xda+-0x225b+0x2d6d&&(_0x5a57f6['name']=_0x1780c3['name']);const _0x313c16=_0x1780c3['data'];_0x313c16['hasOwnProp'+'erty']('minfilter')&&(_0x5a57f6['minFilter']=$g[_0x313c16['minfilter']]),_0x313c16['hasOwnProp'+'erty']('magfilter')&&(_0x5a57f6['magFilter']=$g[_0x313c16['magfilter']]),_0x313c16['hasOwnProp'+'erty']('addressu')&&(_0x5a57f6['addressU']=Wg[_0x313c16['addressu']]),_0x313c16['hasOwnProp'+'erty']('addressv')&&(_0x5a57f6['addressV']=Wg[_0x313c16['addressv']]),_0x313c16['hasOwnProp'+'erty']('mipmaps')&&(_0x5a57f6['mipmaps']=_0x313c16['mipmaps']),_0x313c16['hasOwnProp'+'erty']('anisotropy')&&(_0x5a57f6['anisotropy']=_0x313c16['anisotropy']),_0x313c16['hasOwnProp'+'erty']('flipY')&&(_0x5a57f6['flipY']=!!_0x313c16['flipY']),_0x313c16['hasOwnProp'+'erty']('srgb')&&(_0x5a57f6['srgb']=!!_0x313c16['srgb']),_0x313c16['hasOwnProp'+'erty']('type')?_0x5a57f6['type']=NL[_0x313c16['type']]:_0x313c16['hasOwnProp'+'erty']('rgbm')&&_0x313c16['rgbm']?_0x5a57f6['type']=on:_0x1780c3['file']&&(_0x1780c3['file']['opt']&-0x1fcc+0x756+0x187e)!==0xdfb*0x2+0x18c1+-0x34b7&&(_0x5a57f6['type']=op);}return _0x5a57f6;}['load'](_0x450d2b,_0x133401,_0x50c9d9){typeof _0x450d2b=='string'&&(_0x450d2b={'load':_0x450d2b,'original':_0x450d2b}),this['_getParser'](_0x450d2b['original'])['load'](_0x450d2b,_0x133401,_0x50c9d9);}['open'](_0x459b87,_0x18b2a7,_0x4c604a){if(!_0x459b87)return;const _0x38d164=this['_getTextur'+'eOptions'](_0x4c604a);let _0x4b6313=this['_getParser'](_0x459b87)['open'](_0x459b87,_0x18b2a7,this['_device'],_0x38d164);return _0x4b6313===null?_0x4b6313=new he(this['_device'],{'width':0x4,'height':0x4,'format':dr}):(zL(_0x4b6313),_0x18b2a7['unswizzled'+'GGGR']&&(_0x4c604a['file']['variants']['basis']['opt']&=-(-0x2*-0x80f+-0x1fb0+0xf9b))),_0x4b6313;}['patch'](_0x48b570,_0x2a905a){const _0x3fc712=_0x48b570['resource'];if(!_0x3fc712)return;const _0x4fc5cf=this['_getTextur'+'eOptions'](_0x48b570);for(const _0x421595 of Object['keys'](_0x4fc5cf))_0x3fc712[_0x421595]=_0x4fc5cf[_0x421595];}}const VL='inline',GL='immersive-'+'vr',Ao='immersive-'+'ar',qg='viewer',HL='left',WL='cpu-optimi'+'zed',Bx='gpu-optimi'+'zed',Nx='luminance-'+'alpha',zx='unsigned-s'+'hort',Ux='float32';class $L{constructor(_0x5ec791){c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRDOMOverl'+'ayState']),c(this,'_root',null),(this['_manager']=_0x5ec791,this['init']());}async['init'](){const _0x431e1d=await navigator['xr']['isSessionS'+'upported']('immersive-'+'ar',{'features':['dom-overla'+'y']});this['_supported']=_0x431e1d;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x19cd5b){!this['_supported']||this['_manager']['active']||(this['_root']=_0x19cd5b);}get['root'](){return this['_root'];}}const ih=[],Xg=[];class Ef extends ce{constructor(_0x5793c9,_0x5244c6,_0x3c6edb,_0x4d905a=null){super(),c(this,'manager'),c(this,'_xrHitTest'+'Source'),c(this,'_transient'),c(this,'_inputSour'+'ce'),(this['manager']=_0x5793c9,this['_xrHitTest'+'Source']=_0x5244c6,this['_transient']=_0x3c6edb,this['_inputSour'+'ce']=_0x4d905a);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x264a1a=this['manager']['hitTest']['sources'],_0x88f8a5=_0x264a1a['indexOf'](this);_0x88f8a5!==-(-0x8c*-0x6+-0x1d98+-0x1a51*-0x1)&&_0x264a1a['splice'](_0x88f8a5,0x1dcb+-0x41b+0x19*-0x107),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x19a2d1){if(this['_transient']){const _0x4edd79=_0x19a2d1['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x4df1f5=-0x1*-0x1302+-0x364+0xf9e*-0x1;_0x4df1f5<_0x4edd79['length'];_0x4df1f5++){const _0x1c9cef=_0x4edd79[_0x4df1f5];if(!_0x1c9cef['results']['length'])continue;let _0x4f2e74;_0x1c9cef['inputSourc'+'e']&&(_0x4f2e74=this['manager']['input']['_getByInpu'+'tSource'](_0x1c9cef['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x1c9cef['results'],_0x4f2e74);}}else{const _0x7326e4=_0x19a2d1['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x7326e4['length'])return;this['updateHitR'+'esults'](_0x7326e4);}}['updateHitR'+'esults'](_0x5a90c3,_0x367d4f){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x367d4f)return;const _0x2ca0c2=ih['pop']()??new T();_0x367d4f?_0x2ca0c2['copy'](_0x367d4f['getOrigin']()):_0x2ca0c2['copy'](this['manager']['camera']['getPositio'+'n']());let _0x4a2bd8=(0x137*0xb+-0x951+0x159*-0x3)/(0x2*-0x10fc+0x679+0x1b7f),_0x3041b0=null;const _0x2aa896=ih['pop']()??new T(),_0x37d894=Xg['pop']()??new se();for(let _0x15c5c7=0x238b+-0x2147+0x1d*-0x14;_0x15c5c7<_0x5a90c3['length'];_0x15c5c7++){const _0xc41290=_0x5a90c3[_0x15c5c7]['getPose'](this['manager']['_reference'+'Space']),_0x504bc9=_0x2ca0c2['distance'](_0xc41290['transform']['position']);_0x504bc9>=_0x4a2bd8||(_0x4a2bd8=_0x504bc9,_0x3041b0=_0x5a90c3[_0x15c5c7],_0x2aa896['copy'](_0xc41290['transform']['position']),_0x37d894['copy'](_0xc41290['transform']['orientatio'+'n']));}this['fire']('result',_0x2aa896,_0x37d894,_0x367d4f||this['_inputSour'+'ce'],_0x3041b0),this['manager']['hitTest']['fire']('result',this,_0x2aa896,_0x37d894,_0x367d4f||this['_inputSour'+'ce'],_0x3041b0),ih['push'](_0x2ca0c2),ih['push'](_0x2aa896),Xg['push'](_0x37d894);}}c(Ef,'EVENT_REMO'+'VE','remove'),c(Ef,'EVENT_RESU'+'LT','result');class kr extends ce{constructor(_0x3ed6b8){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),c(this,'_available',!(0x1*-0x168a+0xf*0xaf+0x2*0x625)),c(this,'_checkingA'+'vailabilit'+'y',!(0x1*0xcd6+-0x31c*0x6+0x5d3)),c(this,'sources',[]),(this['manager']=_0x3ed6b8,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x3252ca=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(0x1009+-0x8e+0x7bd*-0x2);if(!_0x3252ca)return;this['_available']=_0x3252ca,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(-0x1882+0x1486+0xa*0x66),this['manager']['session']['requestRef'+'erenceSpac'+'e'](qg)['then'](_0x390da5=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x390da5})['then'](_0x26c614=>{_0x26c614['cancel'](),this['manager']['active']&&(this['_available']=!(-0x16fe+0x14d5*0x1+0x229),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0x26b*-0x5+0x2*0xa0f+-0x2034);for(let _0x37210f=0x1*-0x1196+0x23e7+-0x1*0x1251;_0x37210f<this['sources']['length'];_0x37210f++)this['sources'][_0x37210f]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x2325ba={}){var _0x371290,_0x12590d;if(!this['_supported']){(_0x371290=_0x2325ba['callback'])==null||_0x371290['call'](_0x2325ba,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x12590d=_0x2325ba['callback'])==null||_0x12590d['call'](_0x2325ba,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x2325ba['profile']&&!_0x2325ba['spaceType']&&(_0x2325ba['spaceType']=qg);let _0x559aff;const _0x3ad05c=_0x2325ba['offsetRay'];if(_0x3ad05c){const _0x327c38=new DOMPoint(_0x3ad05c['origin']['x'],_0x3ad05c['origin']['y'],_0x3ad05c['origin']['z'],0x1820+-0x16*-0x6b+0x3*-0xb1b),_0x2e4784=new DOMPoint(_0x3ad05c['direction']['x'],_0x3ad05c['direction']['y'],_0x3ad05c['direction']['z'],-0x2*0x2f3+0xba1*-0x2+-0x3*-0x9b8);_0x559aff=new XRRay(_0x327c38,_0x2e4784);}const _0x5f453a=_0x2325ba['callback'];_0x2325ba['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x2325ba['spaceType'])['then'](_0x3cbda1=>{if(!this['manager']['session']){const _0x1eba6b=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x5f453a&&_0x5f453a(_0x1eba6b),this['fire']('error',_0x1eba6b);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x3cbda1,'entityTypes':_0x2325ba['entityType'+'s']||void(-0xf43*0x1+0x1b36+0x1b5*-0x7),'offsetRay':_0x559aff})['then'](_0x444f62=>{this['_onHitTest'+'Source'](_0x444f62,!(0x13b0+-0x1*-0xe2f+-0x21de),_0x2325ba['inputSourc'+'e'],_0x5f453a);})['catch'](_0x19d58a=>{_0x5f453a&&_0x5f453a(_0x19d58a),this['fire']('error',_0x19d58a);});})['catch'](_0x3029fd=>{_0x5f453a&&_0x5f453a(_0x3029fd),this['fire']('error',_0x3029fd);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x2325ba['profile'],'entityTypes':_0x2325ba['entityType'+'s']||void(-0x1*0x16b+-0x14e2+0x164d),'offsetRay':_0x559aff})['then'](_0x1ff9df=>{this['_onHitTest'+'Source'](_0x1ff9df,!(-0x1c6d*-0x1+-0x1318+0x1*-0x955),_0x2325ba['inputSourc'+'e'],_0x5f453a);})['catch'](_0x5064f2=>{_0x5f453a&&_0x5f453a(_0x5064f2),this['fire']('error',_0x5064f2);});}['_onHitTest'+'Source'](_0xf8563c,_0x36a6fd,_0x13606b,_0x200f00){if(!this['manager']['session']){_0xf8563c['cancel']();const _0x76fdcb=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x200f00&&_0x200f00(_0x76fdcb),this['fire']('error',_0x76fdcb);return;}const _0x1201fb=new Ef(this['manager'],_0xf8563c,_0x36a6fd,_0x13606b??null);this['sources']['push'](_0x1201fb),_0x200f00&&_0x200f00(null,_0x1201fb),this['fire']('add',_0x1201fb);}['update'](_0x2045df){if(this['_available']){for(let _0x3855cb=-0x3b*-0xa8+-0x1*0xcd7+-0x35*0x7d;_0x3855cb<this['sources']['length'];_0x3855cb++)this['sources'][_0x3855cb]['update'](_0x2045df);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}c(kr,'EVENT_AVAI'+'LABLE','available'),c(kr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(kr,'EVENT_ADD','add'),c(kr,'EVENT_REMO'+'VE','remove'),c(kr,'EVENT_RESU'+'LT','result'),c(kr,'EVENT_ERRO'+'R','error');class Cf extends ce{constructor(_0x3828e8,_0x569c1f){super(),c(this,'_image'),c(this,'_width'),c(this,'_bitmap',null),c(this,'_measuredW'+'idth',-0x7*-0x1e8+-0x1e38+0x10e0),c(this,'_trackable',!(-0x3*0xc1+-0x7d0+-0x5*-0x204)),c(this,'_tracking',!(-0x216e*0x1+-0x5db*0x6+0x4491)),c(this,'_emulated',!(-0x1*-0x1447+0xd7d+-0x21c3)),c(this,'_pose',null),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_image']=_0x3828e8,this['_width']=_0x569c1f);}get['image'](){return this['_image'];}set['width'](_0x378b6c){this['_width']=_0x378b6c;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x1d3ae5=>(this['_bitmap']=_0x1d3ae5,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}c(Cf,'EVENT_TRAC'+'KED','tracked'),c(Cf,'EVENT_UNTR'+'ACKED','untracked');class Vx extends ce{constructor(_0x11ec33){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),c(this,'_available',!(0x371*0x9+-0x4*0x7d4+0x58)),c(this,'_images',[]),(this['_manager']=_0x11ec33,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x55158a,_0x586c1b){if(!this['_supported']||this['_manager']['active'])return null;const _0x717cee=new Cf(_0x55158a,_0x586c1b);return this['_images']['push'](_0x717cee),_0x717cee;}['remove'](_0xd63e3e){if(this['_manager']['active'])return;const _0x530948=this['_images']['indexOf'](_0xd63e3e);_0x530948!==-(-0x1c6+-0x7*0x254+0x1213)&&(_0xd63e3e['destroy'](),this['_images']['splice'](_0x530948,-0x15fd+0x198f*0x1+0x53*-0xb));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x1d6c85=>{this['_available']=!(0x8aa+0x121+-0x9cb);for(let _0x4fbb34=-0xb99*-0x1+-0x1dff+0x1266;_0x4fbb34<_0x1d6c85['length'];_0x4fbb34++)this['_images'][_0x4fbb34]['_trackable']=_0x1d6c85[_0x4fbb34]==='trackable';})['catch'](_0x3db321=>{this['_available']=!(-0x5c3+0x1bd6+-0x1612),this['fire']('error',_0x3db321);});}['_onSession'+'End'](){this['_available']=!(0x895*-0x3+-0x1cf6+0x95*0x5e);for(let _0x4f1544=-0x7a7*0x1+-0x2556+0x2cfd;_0x4f1544<this['_images']['length'];_0x4f1544++){const _0x4c2154=this['_images'][_0x4f1544];_0x4c2154['_pose']=null,_0x4c2154['_measuredW'+'idth']=0x51b*0x1+0x1e39*-0x1+-0x506*-0x5,_0x4c2154['_tracking']&&(_0x4c2154['_tracking']=!(-0x40d+0x9e8+-0x5da),_0x4c2154['fire']('untracked'));}}['prepareIma'+'ges'](_0x17969f){this['_images']['length']?Promise['all'](this['_images']['map'](_0x589192=>_0x589192['prepare']()))['then'](_0x28cb1c=>{_0x17969f(null,_0x28cb1c);})['catch'](_0x22e149=>{_0x17969f(_0x22e149,null);}):_0x17969f(null,null);}['update'](_0x14a547){if(!this['_available'])return;const _0x22990c=_0x14a547['getImageTr'+'ackingResu'+'lts'](),_0x3a4ed2={};for(let _0x12cb5d=0x213d*0x1+-0x7*0x4cd+0x5e;_0x12cb5d<_0x22990c['length'];_0x12cb5d++){_0x3a4ed2[_0x22990c[_0x12cb5d]['index']]=_0x22990c[_0x12cb5d];const _0x321c03=this['_images'][_0x22990c[_0x12cb5d]['index']];_0x321c03['_emulated']=_0x22990c[_0x12cb5d]['trackingSt'+'ate']==='emulated',_0x321c03['_measuredW'+'idth']=_0x22990c[_0x12cb5d]['measuredWi'+'dthInMeter'+'s'],_0x321c03['_pose']=_0x14a547['getPose'](_0x22990c[_0x12cb5d]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x1345dc=0xe31+0x15*0xcb+0x4*-0x7b6;_0x1345dc<this['_images']['length'];_0x1345dc++)this['_images'][_0x1345dc]['_tracking']&&!_0x3a4ed2[_0x1345dc]?(this['_images'][_0x1345dc]['_tracking']=!(-0x1a20+-0x2dd+0x1cfe),this['_images'][_0x1345dc]['fire']('untracked')):!this['_images'][_0x1345dc]['_tracking']&&_0x3a4ed2[_0x1345dc]&&(this['_images'][_0x1345dc]['_tracking']=!(-0x1095+-0x431*0x8+0x321d),this['_images'][_0x1345dc]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}c(Vx,'EVENT_ERRO'+'R','error');class qL{constructor(_0x56b401,_0x16b382){c(this,'_index'),c(this,'_hand'),c(this,'_joints',[]),c(this,'_tip',null),(this['_index']=_0x56b401,this['_hand']=_0x16b382,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const jg=ye['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],Gx={};for(let l=-0xa07+-0xbe*-0xb+0x1dd;l<jg['length'];l++)Gx[jg[l]]=!(0x86a*0x1+0x219d+0x35*-0xcb);class Yg{constructor(_0x2731f0,_0x46d66a,_0x5b7fa2,_0x157665=null){c(this,'_index'),c(this,'_id'),c(this,'_hand'),c(this,'_finger'),c(this,'_wrist'),c(this,'_tip'),c(this,'_radius',null),c(this,'_localTran'+'sform',new q()),c(this,'_worldTran'+'sform',new q()),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_dirtyLoca'+'l',!(0x1*0x1201+0x1*0x3ad+-0x15ae)),(this['_index']=_0x2731f0,this['_id']=_0x46d66a,this['_hand']=_0x5b7fa2,this['_finger']=_0x157665,this['_wrist']=_0x46d66a==='wrist',this['_tip']=this['_finger']&&!!Gx[_0x46d66a]);}['update'](_0x529f31){this['_dirtyLoca'+'l']=!(-0x1288*-0x1+-0x1ddd+0xb55),this['_radius']=_0x529f31['radius'],this['_localPosi'+'tion']['copy'](_0x529f31['transform']['position']),this['_localRota'+'tion']['copy'](_0x529f31['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x19a1+-0xa1d+0x23bf),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x338fd5=this['_hand']['_manager']['camera']['parent'];_0x338fd5?this['_worldTran'+'sform']['mul2'](_0x338fd5['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||-0x5*-0x71b+-0x1086+-0x1301+0.005;}}let Sh=[];const Ir=new T(),rh=new T(),Kg=new T();ye['browser']&&window['XRHand']&&(Sh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Mf extends ce{constructor(_0x10fb6a){super(),c(this,'_manager'),c(this,'_inputSour'+'ce'),c(this,'_tracking',!(0xa6*0x4+-0x1302*0x2+0x236d)),c(this,'_fingers',[]),c(this,'_joints',[]),c(this,'_jointsByI'+'d',{}),c(this,'_tips',[]),c(this,'_wrist',null);const _0x2f3005=_0x10fb6a['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x10fb6a['_manager'],this['_inputSour'+'ce']=_0x10fb6a,_0x2f3005['get']('wrist')){const _0x5b5ff0=new Yg(-0x29f+-0x26b3+0x2952,'wrist',this,null);this['_wrist']=_0x5b5ff0,this['_joints']['push'](_0x5b5ff0),this['_jointsByI'+'d']['wrist']=_0x5b5ff0;}for(let _0x26d55d=-0x23a7*0x1+-0xf*-0x147+0x83f*0x2;_0x26d55d<Sh['length'];_0x26d55d++){const _0x53d8e1=new qL(_0x26d55d,this);for(let _0x223ec3=0x53*0x1a+0x2030+-0x289e;_0x223ec3<Sh[_0x26d55d]['length'];_0x223ec3++){const _0x1aba57=Sh[_0x26d55d][_0x223ec3];if(!_0x2f3005['get'](_0x1aba57))continue;const _0x1ce060=new Yg(_0x223ec3,_0x1aba57,this,_0x53d8e1);this['_joints']['push'](_0x1ce060),this['_jointsByI'+'d'][_0x1aba57]=_0x1ce060,_0x1ce060['tip']&&(this['_tips']['push'](_0x1ce060),_0x53d8e1['_tip']=_0x1ce060),_0x53d8e1['_joints']['push'](_0x1ce060);}}}['update'](_0x207839){const _0x4b988b=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x110a52=0x2513*-0x1+0x13bf+0x1154;_0x110a52<this['_joints']['length'];_0x110a52++){const _0x45efb2=this['_joints'][_0x110a52],_0x4a4e60=_0x4b988b['hand']['get'](_0x45efb2['_id']);if(_0x4a4e60){let _0x48a62f;if(_0x207839['session']['visibility'+'State']!=='hidden'&&(_0x48a62f=_0x207839['getJointPo'+'se'](_0x4a4e60,this['_manager']['_reference'+'Space'])),_0x48a62f)_0x45efb2['update'](_0x48a62f),_0x45efb2['wrist']&&!this['_tracking']&&(this['_tracking']=!(0x423*0x1+0x2*0x104b+-0x7*0x53f),this['fire']('tracking'));else{if(_0x45efb2['wrist']){this['_tracking']&&(this['_tracking']=!(0x1*0x6f5+0x1727+-0x15*0x16f),this['fire']('trackinglo'+'st'));break;}}}}const _0x2c0aef=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x31f262=this['_jointsByI'+'d']['thumb-tip'],_0x2c6ec6=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x468602=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x754a49=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x10d9f7=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x2c0aef&&_0x31f262&&_0x2c6ec6&&_0x468602&&_0x754a49&&_0x10d9f7){this['_inputSour'+'ce']['_dirtyRay']=!(0x200f+0x257d+-0x458c),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x31f262['_localPosi'+'tion'],_0x468602['_localPosi'+'tion'],-0x7a*-0x1+-0x1*-0x587+-0x601+0.5);let _0x264a3=_0x2c0aef,_0x401d72=_0x10d9f7;if(this['_inputSour'+'ce']['handedness']===HL){const _0x166424=_0x264a3;_0x264a3=_0x401d72,_0x401d72=_0x166424;}Ir['sub2'](_0x264a3['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),rh['sub2'](_0x401d72['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Kg['cross'](Ir,rh)['normalize'](),Ir['lerp'](_0x2c6ec6['_localPosi'+'tion'],_0x754a49['_localPosi'+'tion'],0xe58+-0x1323*-0x2+0x2*-0x1a4f+0.5),Ir['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](Kg,Ir,-0x46*-0x6b+-0x2290+-0xe*-0x61+0.5)['normalize']();}const _0x1aa3a6=this['_fingerIsC'+'losed'](-0x419+-0xe5*-0x7+-0x6*0x5c)&&this['_fingerIsC'+'losed'](0x21cb+0x1*-0x269+-0x1f5f)&&this['_fingerIsC'+'losed'](-0xb17+-0x15*-0x65+0x2d2);this['_fingersTi'+'pDistance'](-0x28a*0x9+0x1*-0x893+0x1f6d,-0xdb+0xfb8*0x2+-0x1e94)?this['_inputSour'+'ce']['_pinching']?(this['_inputSour'+'ce']['fire']('pinching'),this['_manager']['input']['fire']('pinching',this['_inputSour'+'ce'])):(this['_inputSour'+'ce']['fire']('pinchstart'),this['_manager']['input']['fire']('pinchstart',this['_inputSour'+'ce']),this['_inputSour'+'ce']['_pinching']=!(0xe77+0x25b7+-0x342e),console['log']('===>>>xr\x20p'+'inch','pinchstart',new Date()['getTime']())):this['_inputSour'+'ce']['_pinching']&&(this['_inputSour'+'ce']['fire']('pinchend'),this['_manager']['input']['fire']('pinchend',this['_inputSour'+'ce']),this['_inputSour'+'ce']['_pinching']=!(0xb96*-0x3+-0x5*-0xdf+0x1e68),console['log']('===>>>xr\x20p'+'inch','pinchend',new Date()['getTime']())),_0x1aa3a6?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(-0x232*-0x10+-0xb16+0xb5*-0x22),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(-0x22bc+-0x10c*-0x3+-0x1f99*-0x1),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingersTi'+'pDistance'](_0x46ae03,_0x5e3554){const _0x5bbbed=this['_fingers'][_0x46ae03],_0x22a0a5=this['_fingers'][_0x5e3554];return _0x5bbbed['tip']['_localPosi'+'tion']['distance'](_0x22a0a5['tip']['_localPosi'+'tion'])<=-0x161*0x1+-0x1537+0x1698+0.01;}['_fingerIsC'+'losed'](_0x38fb16){const _0x44d866=this['_fingers'][_0x38fb16];return Ir['sub2'](_0x44d866['joints'][-0x6b9+0x1167+-0xaae]['_localPosi'+'tion'],_0x44d866['joints'][0x65*0xe+-0x25f8+0x2073]['_localPosi'+'tion'])['normalize'](),rh['sub2'](_0x44d866['joints'][-0x14b8+0x1*-0x142e+0x28e8]['_localPosi'+'tion'],_0x44d866['joints'][0x1*0x1b81+0x1*0x1622+-0x634*0x8]['_localPosi'+'tion'])['normalize'](),Ir['dot'](rh)<-(0x51b*-0x1+0xb*0x163+-0xa26+0.8);}['getJointBy'+'Id'](_0x2e08d3){return this['_jointsByI'+'d'][_0x2e08d3]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}c(Mf,'EVENT_TRAC'+'KING','tracking'),c(Mf,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const Zg=new T(),Qg=new se();let XL=-0x2*0xa47+-0x16ed*-0x1+-0x25f;class xs extends ce{constructor(_0x3a1f1f,_0x3f94de){super(),c(this,'_id'),c(this,'_manager'),c(this,'_xrInputSo'+'urce'),c(this,'_ray',new uu()),c(this,'_rayLocal',new uu()),c(this,'_grip',!(0x2189+0x40*-0x7a+0x1*-0x308)),c(this,'_hand',null),c(this,'_velocitie'+'sAvailable',!(-0x85*0x43+-0x3*0x266+0x2a02)),c(this,'_velocitie'+'sTimestamp',ne()),c(this,'_localTran'+'sform',null),c(this,'_worldTran'+'sform',null),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_localPosi'+'tion',null),c(this,'_localPosi'+'tionLast',null),c(this,'_localRota'+'tion',null),c(this,'_linearVel'+'ocity',null),c(this,'_dirtyLoca'+'l',!(0x1*-0x9ef+-0x3a*0x2e+0x3*0x6c9)),c(this,'_dirtyRay',!(0xef5+0x1*-0x1918+0xa24)),c(this,'_selecting',!(-0xd85*-0x1+0xcbc+0x18*-0x118)),c(this,'_squeezing',!(0xa88+-0x1702*0x1+0xc7b*0x1)),c(this,'_elementIn'+'put',!(-0x1*-0x1c6a+0x1cbb+-0x3925*0x1)),c(this,'_elementEn'+'tity',null),c(this,'_hitTestSo'+'urces',[]),(this['_id']=++XL,this['_manager']=_0x3a1f1f,this['_xrInputSo'+'urce']=_0x3f94de,_0x3f94de['hand']&&(this['_hand']=new Mf(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x1404c7){this['_elementIn'+'put']!==_0x1404c7&&(this['_elementIn'+'put']=_0x1404c7,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x2f8f44){if(this['_hand'])this['_hand']['update'](_0x2f8f44);else{const _0x15eafb=this['_xrInputSo'+'urce']['gripSpace'];if(_0x15eafb){const _0x617efa=_0x2f8f44['getPose'](_0x15eafb,this['_manager']['_reference'+'Space']);if(_0x617efa){this['_grip']||(this['_grip']=!(-0x1554+0xe*-0x12a+-0x2b*-0xe0),this['_localTran'+'sform']=new q(),this['_worldTran'+'sform']=new q(),this['_localPosi'+'tionLast']=new T(),this['_localPosi'+'tion']=new T(),this['_localRota'+'tion']=new se(),this['_linearVel'+'ocity']=new T());const _0x345fb8=ne(),_0x1f18a2=(_0x345fb8-this['_velocitie'+'sTimestamp'])/(0x1*0x101+-0x1317+0x15fe);this['_velocitie'+'sTimestamp']=_0x345fb8,this['_dirtyLoca'+'l']=!(-0x2*-0x100f+-0x3e2*-0x9+-0x862*0x8),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x617efa['transform']['position']),this['_localRota'+'tion']['copy'](_0x617efa['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(0x11ba+0x1b92+-0xd*0x37c),this['_manager']['input']['velocities'+'Supported']&&_0x617efa['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x617efa['linearVelo'+'city']):_0x1f18a2>0x20ea+0x22b9+-0x43a3&&(Zg['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x1f18a2),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],Zg,0x190f*-0x1+0x1c91*0x1+-0x382+0.15));}else this['_velocitie'+'sAvailable']=!(-0x4f*0x53+0x2579+0x25f*-0x5);}const _0xf76b3f=_0x2f8f44['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0xf76b3f&&(this['_dirtyRay']=!(-0x1f8+-0x1854+0x1a4c),this['_rayLocal']['origin']['copy'](_0xf76b3f['transform']['position']),this['_rayLocal']['direction']['set'](-0x1*-0x76+0x1921+0x1997*-0x1,-0xa3c+-0x8d7*-0x3+0x1*-0x1049,-(-0xc3d+0x111e*0x1+-0x4e0)),Qg['copy'](_0xf76b3f['transform']['orientatio'+'n']),Qg['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0x1*0x1da5+0x21b5+0x1*-0x3f59),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x270c8f=this['_manager']['camera']['parent'];_0x270c8f?this['_worldTran'+'sform']['mul2'](_0x270c8f['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x361ad4=this['_dirtyRay'];if(this['_dirtyRay']=!(-0x6b*-0x4f+0x5*0x65a+-0x40c6),this['_manager']['camera']['parent']){const _0x3a1901=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x3a1901['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x3a1901),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x361ad4&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x470032={}){_0x470032['inputSourc'+'e']=this,_0x470032['profile']=this['_xrInputSo'+'urce']['profiles'][0x68+-0x4*-0x6c4+-0x1b78];const _0x2cebd6=_0x470032['callback'];_0x470032['callback']=(_0x2eb443,_0x3fa770)=>{_0x3fa770&&this['onHitTestS'+'ourceAdd'](_0x3fa770),_0x2cebd6&&_0x2cebd6(_0x2eb443,_0x3fa770);},this['_manager']['hitTest']['start'](_0x470032);}['onHitTestS'+'ourceAdd'](_0x56804d){this['_hitTestSo'+'urces']['push'](_0x56804d),this['fire']('hittest:ad'+'d',_0x56804d),_0x56804d['on']('result',(_0x1418e4,_0x2da061,_0x249a8d,_0x9c43ad)=>{_0x249a8d===this&&this['fire']('hittest:re'+'sult',_0x56804d,_0x1418e4,_0x2da061,_0x9c43ad);}),_0x56804d['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x56804d),this['fire']('hittest:re'+'move',_0x56804d);});}['onHitTestS'+'ourceRemov'+'e'](_0x4c5cb1){const _0x36cd77=this['_hitTestSo'+'urces']['indexOf'](_0x4c5cb1);_0x36cd77!==-(0x1558+-0x1002+-0x15*0x41)&&this['_hitTestSo'+'urces']['splice'](_0x36cd77,0x1d73+-0x2*0x18b+-0x1a5c);}}c(xs,'EVENT_REMO'+'VE','remove'),c(xs,'EVENT_SELE'+'CT','select'),c(xs,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(xs,'EVENT_SELE'+'CTEND','selectend'),c(xs,'EVENT_SQUE'+'EZE','squeeze'),c(xs,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(xs,'EVENT_SQUE'+'EZEEND','squeezeend'),c(xs,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),c(xs,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),c(xs,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class ui extends ce{constructor(_0x2fbec0){var _0x20fd9a,_0x48f98a;super(),c(this,'manager'),c(this,'_inputSour'+'ces',[]),c(this,'_onInputSo'+'urcesChang'+'eEvt'),c(this,'velocities'+'Supported',!(-0xb0c+-0x2*0x136e+0x1*0x31e9)),(this['manager']=_0x2fbec0,this['velocities'+'Supported']=!!(ye['browser']&&((_0x48f98a=(_0x20fd9a=window['XRPose'])==null?void(-0xa63+0x1c57+-0x11f4):_0x20fd9a['prototype'])!=null&&_0x48f98a['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x2684c2=>{this['_onInputSo'+'urcesChang'+'e'](_0x2684c2);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x3ac192=this['manager']['session'];_0x3ac192['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x3ac192['addEventLi'+'stener']('select',_0x269dae=>{const _0x25d654=this['_getByInpu'+'tSource'](_0x269dae['inputSourc'+'e']);_0x25d654['update'](_0x269dae['frame']),_0x25d654['fire']('select',_0x269dae),this['fire']('select',_0x25d654,_0x269dae);}),_0x3ac192['addEventLi'+'stener']('selectstar'+'t',_0x2f5e94=>{const _0x15ae62=this['_getByInpu'+'tSource'](_0x2f5e94['inputSourc'+'e']);_0x15ae62['update'](_0x2f5e94['frame']),_0x15ae62['_selecting']=!(-0x87*0x6+-0xbcb*-0x3+-0x2037),_0x15ae62['fire']('selectstar'+'t',_0x2f5e94),this['fire']('selectstar'+'t',_0x15ae62,_0x2f5e94);}),_0x3ac192['addEventLi'+'stener']('selectend',_0x2edd5b=>{const _0x5a69cc=this['_getByInpu'+'tSource'](_0x2edd5b['inputSourc'+'e']);_0x5a69cc['update'](_0x2edd5b['frame']),_0x5a69cc['_selecting']=!(0x90e+-0x6ba*-0x2+-0x1681),_0x5a69cc['fire']('selectend',_0x2edd5b),this['fire']('selectend',_0x5a69cc,_0x2edd5b);}),_0x3ac192['addEventLi'+'stener']('squeeze',_0x2b788c=>{const _0x3b573b=this['_getByInpu'+'tSource'](_0x2b788c['inputSourc'+'e']);_0x3b573b['update'](_0x2b788c['frame']),_0x3b573b['fire']('squeeze',_0x2b788c),this['fire']('squeeze',_0x3b573b,_0x2b788c);}),_0x3ac192['addEventLi'+'stener']('squeezesta'+'rt',_0x20994c=>{const _0x22fa42=this['_getByInpu'+'tSource'](_0x20994c['inputSourc'+'e']);_0x22fa42['update'](_0x20994c['frame']),_0x22fa42['_squeezing']=!(-0x2421*0x1+0x14f*-0x7+0x3e*0xbb),_0x22fa42['fire']('squeezesta'+'rt',_0x20994c),this['fire']('squeezesta'+'rt',_0x22fa42,_0x20994c);}),_0x3ac192['addEventLi'+'stener']('squeezeend',_0x213b36=>{const _0x515d84=this['_getByInpu'+'tSource'](_0x213b36['inputSourc'+'e']);_0x515d84['update'](_0x213b36['frame']),_0x515d84['_squeezing']=!(-0x21b4+-0x1bde+0x3d93),_0x515d84['fire']('squeezeend',_0x213b36),this['fire']('squeezeend',_0x515d84,_0x213b36);});const _0xe2e3a6=_0x3ac192['inputSourc'+'es'];for(let _0x2953db=0x109*-0x2+-0x2*0x7af+0x1170;_0x2953db<_0xe2e3a6['length'];_0x2953db++)this['_addInputS'+'ource'](_0xe2e3a6[_0x2953db]);}['_onSession'+'End'](){let _0x1a0036=this['_inputSour'+'ces']['length'];for(;_0x1a0036--;){const _0x5c9cd5=this['_inputSour'+'ces'][_0x1a0036];this['_inputSour'+'ces']['splice'](_0x1a0036,0xb27*-0x1+-0x21ae+0x2cd6),_0x5c9cd5['fire']('remove'),this['fire']('remove',_0x5c9cd5);}this['fire']('destroy'),this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x415fca){for(let _0x319dd8=-0x73*0x11+0x340+0x463;_0x319dd8<_0x415fca['removed']['length'];_0x319dd8++)this['_removeInp'+'utSource'](_0x415fca['removed'][_0x319dd8]);for(let _0x466fe4=0x2560+0x2549+-0x4aa9;_0x466fe4<_0x415fca['added']['length'];_0x466fe4++)this['_addInputS'+'ource'](_0x415fca['added'][_0x466fe4]);}['_getByInpu'+'tSource'](_0x393a6e){for(let _0x30bb0a=-0x3*0x9c7+-0x1*0xc11+-0x2*-0x14b3;_0x30bb0a<this['_inputSour'+'ces']['length'];_0x30bb0a++)if(this['_inputSour'+'ces'][_0x30bb0a]['inputSourc'+'e']===_0x393a6e)return this['_inputSour'+'ces'][_0x30bb0a];return null;}['_addInputS'+'ource'](_0x2dc6c4){if(this['_getByInpu'+'tSource'](_0x2dc6c4))return;const _0x353a66=new xs(this['manager'],_0x2dc6c4);this['_inputSour'+'ces']['push'](_0x353a66),this['fire']('add',_0x353a66);}['_removeInp'+'utSource'](_0x3d7cdb){for(let _0x55f9ef=-0x2d6+0x2667+-0x2391;_0x55f9ef<this['_inputSour'+'ces']['length'];_0x55f9ef++){if(this['_inputSour'+'ces'][_0x55f9ef]['inputSourc'+'e']!==_0x3d7cdb)continue;const _0x5657fd=this['_inputSour'+'ces'][_0x55f9ef];this['_inputSour'+'ces']['splice'](_0x55f9ef,-0x13*0x107+-0x62*0x2+0x144a);let _0x236ac2=_0x5657fd['hitTestSou'+'rces']['length'];for(;_0x236ac2--;)_0x5657fd['hitTestSou'+'rces'][_0x236ac2]['remove']();_0x5657fd['fire']('remove'),this['fire']('remove',_0x5657fd);return;}}['update'](_0x2f0b04){for(let _0x15b5e4=-0xf27*0x2+-0x4*0x283+0x1*0x285a;_0x15b5e4<this['_inputSour'+'ces']['length'];_0x15b5e4++)this['_inputSour'+'ces'][_0x15b5e4]['update'](_0x2f0b04);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}c(ui,'EVENT_ADD','add'),c(ui,'EVENT_REMO'+'VE','remove'),c(ui,'EVENT_SELE'+'CT','select'),c(ui,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ui,'EVENT_SELE'+'CTEND','selectend'),c(ui,'EVENT_SQUE'+'EZE','squeeze'),c(ui,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(ui,'EVENT_SQUE'+'EZEEND','squeezeend');const Xn=new T(),Jg=new T(),ru=new q(),ey=new q();class Pf extends ce{constructor(_0x3374af){super(),c(this,'_manager'),c(this,'_supported',!(0xf98+0x1b21+0x2ab8*-0x1)),c(this,'_available',!(0x7*0x541+-0x4c0+0x2*-0x1003)),c(this,'_lightProb'+'eRequested',!(0x7c7*0x1+0x18b9+-0x207f)),c(this,'_lightProb'+'e',null),c(this,'_intensity',0x144e+0x884+-0x1cd2),c(this,'_rotation',new se()),c(this,'_color',new Y()),c(this,'_spherical'+'Harmonics',new Float32Array(-0x1*-0x1bc5+0xcd2+-0x287c)),(this['_manager']=_0x3374af,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(-0x25ba+0x87f+0x7*0x42d));}['_onSession'+'End'](){this['_supported']=!(-0x78c+-0x25*-0x9d+-0xf24),this['_available']=!(-0x2*-0x86f+-0xc03+-0x4da*0x1),this['_lightProb'+'eRequested']=!(0x141f+-0x127c+-0x1*0x1a2),this['_lightProb'+'e']=null;}['start'](){let _0x813a7b;if(this['_manager']['session']||(_0x813a7b=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x813a7b&&this['_manager']['type']!==Ao&&(_0x813a7b=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x813a7b&&!this['_supported']&&(_0x813a7b=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x813a7b&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x813a7b=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x813a7b){this['fire']('error',_0x813a7b);return;}this['_lightProb'+'eRequested']=!(-0x8b*0x1+-0x132f+-0xa*-0x1f9),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0xb1c67b=>{const _0x46a444=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(0x1f46+-0x2c5+-0x1c80),this['_manager']['active']?_0x46a444&&(this['_lightProb'+'e']=_0xb1c67b):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x148189=>{this['_lightProb'+'eRequested']=!(-0x344*-0x2+-0x1ab7+0x1430),this['fire']('error',_0x148189);});}['end'](){this['_lightProb'+'eRequested']=!(-0x224f*0x1+0x17dd+0xa73),this['_lightProb'+'e']=null,this['_available']=!(0x199*0xe+0x91b+-0x1f78);}['update'](_0x3650e6){if(!this['_lightProb'+'e'])return;const _0x5d0ff3=_0x3650e6['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x5d0ff3)return;this['_available']||(this['_available']=!(0x14b4*0x1+-0xcc*-0x4+-0x16*0x116),this['fire']('available'));const _0x34f046=_0x5d0ff3['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](-0x1*-0x1a84+0x1e0b+-0x388e,Math['max'](_0x34f046['x'],Math['max'](_0x34f046['y'],_0x34f046['z']))),Xn['copy'](_0x34f046)['mulScalar']((-0x1d2*0xe+0x1f5a*0x1+-0x4f*0x13)/this['_intensity']),this['_color']['set'](Xn['x'],Xn['y'],Xn['z']),Xn['set'](-0x1*-0x121+0x1975+-0x1a96,0x3*-0x2a+-0x89*-0x2+-0x94,-0x174+-0x22e+0x3a2),Jg['copy'](_0x5d0ff3['primaryLig'+'htDirectio'+'n']),ru['setLookAt'](Jg,Xn,T['UP']),ey['setFromAxi'+'sAngle'](T['RIGHT'],0x10c8+-0x1c95*-0x1+-0x2d03),ru['mul'](ey),this['_rotation']['setFromMat'+'4'](ru),this['_spherical'+'Harmonics']['set'](_0x5d0ff3['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}c(Pf,'EVENT_AVAI'+'LABLE','available'),c(Pf,'EVENT_ERRO'+'R','error');let jL=-0x1f8f*0x1+0x1*0x448+0x1b47;class Rf extends ce{constructor(_0x3911c3,_0x4608d0){super(),c(this,'_id'),c(this,'_planeDete'+'ction'),c(this,'_xrPlane'),c(this,'_lastChang'+'edTime'),c(this,'_orientati'+'on'),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_id']=++jL,this['_planeDete'+'ction']=_0x3911c3,this['_xrPlane']=_0x4608d0,this['_lastChang'+'edTime']=_0x4608d0['lastChange'+'dTime'],this['_orientati'+'on']=_0x4608d0['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x4b0132){const _0x90e54b=this['_planeDete'+'ction']['_manager'],_0x4d8f98=_0x4b0132['getPose'](this['_xrPlane']['planeSpace'],_0x90e54b['_reference'+'Space']);_0x4d8f98&&(this['_position']['copy'](_0x4d8f98['transform']['position']),this['_rotation']['copy'](_0x4d8f98['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}c(Rf,'EVENT_REMO'+'VE','remove'),c(Rf,'EVENT_CHAN'+'GE','change');class co extends ce{constructor(_0x3f17cb){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRPlane']),c(this,'_available',!(0x66e+0x1f16+-0x369*0xb)),c(this,'_planesInd'+'ex',new Map()),c(this,'_planes',[]),(this['_manager']=_0x3f17cb,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(0x8e1*0x3+0x2282+0x12d*-0x34)&&(this['_available']=!(0x42d*0x5+-0x96d+-0xb74),this['fire']('available'));}['_onSession'+'End'](){for(let _0x242fbc=0xaa7+0xd73+0x181a*-0x1;_0x242fbc<this['_planes']['length'];_0x242fbc++)this['_planes'][_0x242fbc]['destroy'](),this['fire']('remove',this['_planes'][_0x242fbc]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=0x1*-0x1613+-0xc83*0x3+0x3b9c,this['_available']&&(this['_available']=!(-0x2b*0x48+0x15bc+0x1*-0x9a3),this['fire']('unavailabl'+'e'));}['update'](_0x3d2501){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x3d2501['detectedPl'+'anes']['size'])this['_available']=!(0x1068+-0x43+0x1025*-0x1),this['fire']('available');else return;}const _0x38280c=_0x3d2501['detectedPl'+'anes'];for(const [_0x41c5c4,_0x268848]of this['_planesInd'+'ex'])_0x38280c['has'](_0x41c5c4)||(this['_planesInd'+'ex']['delete'](_0x41c5c4),this['_planes']['splice'](this['_planes']['indexOf'](_0x268848),-0x1*0x6d1+0xf4*-0x22+0x273a),_0x268848['destroy'](),this['fire']('remove',_0x268848));for(const _0x3bf111 of _0x38280c){let _0x285e91=this['_planesInd'+'ex']['get'](_0x3bf111);_0x285e91?_0x285e91['update'](_0x3d2501):(_0x285e91=new Rf(this,_0x3bf111),this['_planesInd'+'ex']['set'](_0x3bf111,_0x285e91),this['_planes']['push'](_0x285e91),_0x285e91['update'](_0x3d2501),this['fire']('add',_0x285e91));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}c(co,'EVENT_AVAI'+'LABLE','available'),c(co,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(co,'EVENT_ADD','add'),c(co,'EVENT_REMO'+'VE','remove');class uo extends ce{constructor(_0x23b46a,_0x47753e,_0xc5af73=null){super(),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_uuid',null),c(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x23b46a,this['_xrAnchor']=_0x47753e,this['_uuid']=_0xc5af73);}['destroy'](){if(!this['_xrAnchor'])return;const _0x51a73d=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x51a73d,this);}['update'](_0x229de1){if(!this['_xrAnchor'])return;const _0x4fa497=_0x229de1['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x4fa497){if(this['_position']['equals'](_0x4fa497['transform']['position'])&&this['_rotation']['equals'](_0x4fa497['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x4fa497['transform']['position']),this['_rotation']['copy'](_0x4fa497['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0xca56bc){if(!this['_anchors']['persistenc'+'e']){_0xca56bc==null||_0xca56bc(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0xca56bc==null||_0xca56bc(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0xca56bc&&this['_uuidReque'+'sts']['push'](_0xca56bc);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x59e4ce=>{this['_uuid']=_0x59e4ce,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0xca56bc==null||_0xca56bc(null,_0x59e4ce);for(const _0x52b98d of this['_uuidReque'+'sts'])_0x52b98d(null,_0x59e4ce);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x59e4ce);})['catch'](_0x598a51=>{_0xca56bc==null||_0xca56bc(_0x598a51,null);for(const _0x501b2b of this['_uuidReque'+'sts'])_0x501b2b(_0x598a51,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x725fae){if(!this['_uuid']){_0x725fae==null||_0x725fae(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x1ff889=>{this['_uuid']=null,_0x725fae==null||_0x725fae(_0x1ff889),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}c(uo,'EVENT_DEST'+'ROY','destroy'),c(uo,'EVENT_CHAN'+'GE','change'),c(uo,'EVENT_PERS'+'IST','persist'),c(uo,'EVENT_FORG'+'ET','forget');var ty;class Zn extends ce{constructor(_0x227bd2){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!window['XRAnchor']),c(this,'_available',!(0x1077+0x1*0x127a+-0x22f0)),c(this,'_checkingA'+'vailabilit'+'y',!(-0x8d5+-0x25d3+0x955*0x5)),c(this,'_persisten'+'ce',ye['browser']&&!!((ty=window==null?void(0xacf+0xddb+-0x386*0x7):window['XRSession'])!=null&&ty['prototype']['restorePer'+'sistentAnc'+'hor'])),c(this,'_creationQ'+'ueue',[]),c(this,'_index',new Map()),c(this,'_indexByUu'+'id',new Map()),c(this,'_list',[]),c(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x227bd2,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){const _0x2d415f=this['manager']['session']['enabledFea'+'tures']['indexOf']('anchors')!==-(-0xf2d+-0x9a8+0x176*0x11);_0x2d415f&&(this['_available']=_0x2d415f,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(-0x1230+0x1*-0x248+0x1479);for(let _0x3548ab=-0xb19+0x26d5+-0x1bbc;_0x3548ab<this['_creationQ'+'ueue']['length'];_0x3548ab++)this['_creationQ'+'ueue'][_0x3548ab]['callback']&&this['_creationQ'+'ueue'][_0x3548ab]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=0x3*0xa4d+0x23f*-0x9+-0x26*0x48,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x13280a=this['_list']['length'];for(;_0x13280a--;)this['_list'][_0x13280a]['destroy']();this['_list']['length']=-0x20b*0x12+0x36a*-0x1+0x2830*0x1,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x32929c,_0x468d34=null){const _0xb97706=new uo(this,_0x32929c,_0x468d34);return this['_index']['set'](_0x32929c,_0xb97706),_0x468d34&&this['_indexByUu'+'id']['set'](_0x468d34,_0xb97706),this['_list']['push'](_0xb97706),_0xb97706['once']('destroy',this['_onAnchorD'+'estroy'],this),_0xb97706;}['_onAnchorD'+'estroy'](_0x28acbe,_0x579b74){this['_index']['delete'](_0x28acbe),_0x579b74['uuid']&&this['_indexByUu'+'id']['delete'](_0x579b74['uuid']);const _0x19f06b=this['_list']['indexOf'](_0x579b74);_0x19f06b!==-(-0x25ab+0x148d+0x1e7*0x9)&&this['_list']['splice'](_0x19f06b,0xbfe+-0x1537*0x1+-0x49d*-0x2),this['fire']('destroy',_0x579b74);}['create'](_0x28343f,_0x48011,_0x51e32a){if(!this['_available']){_0x51e32a==null||_0x51e32a(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x28343f instanceof XRHitTestResult){const _0x1ef10b=_0x28343f;if(_0x51e32a=_0x48011,!this['_supported']){_0x51e32a==null||_0x51e32a(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x1ef10b['createAnch'+'or']){_0x51e32a==null||_0x51e32a(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x1ef10b['createAnch'+'or']()['then'](_0x2e005d=>{const _0x2f5ea5=this['_createAnc'+'hor'](_0x2e005d);_0x51e32a==null||_0x51e32a(null,_0x2f5ea5),this['fire']('add',_0x2f5ea5);})['catch'](_0x7a0486=>{_0x51e32a==null||_0x51e32a(_0x7a0486,null),this['fire']('error',_0x7a0486);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x28343f,_0x48011),'callback':_0x51e32a});}['restore'](_0x1fc77c,_0x379da1){if(!this['_available']){_0x379da1==null||_0x379da1(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x379da1==null||_0x379da1(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x379da1==null||_0x379da1(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x1fc77c)['then'](_0x451103=>{const _0x2d0b0b=this['_createAnc'+'hor'](_0x451103,_0x1fc77c);_0x379da1==null||_0x379da1(null,_0x2d0b0b),this['fire']('add',_0x2d0b0b);})['catch'](_0x4c0b37=>{_0x379da1==null||_0x379da1(_0x4c0b37,null),this['fire']('error',_0x4c0b37);});}['forget'](_0x2d2991,_0x2cc70a){if(!this['_available']){_0x2cc70a==null||_0x2cc70a(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x2cc70a==null||_0x2cc70a(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x2cc70a==null||_0x2cc70a(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x2d2991)['then'](()=>{_0x2cc70a==null||_0x2cc70a(null);})['catch'](_0x41bef0=>{_0x2cc70a==null||_0x2cc70a(_0x41bef0),this['fire']('error',_0x41bef0);});}['update'](_0x4aa576){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(0x150f+-0x12*0x19d+-0x2a9*-0x3),_0x4aa576['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x4fea59=>{_0x4fea59['delete'](),this['manager']['active']&&(this['_available']=!(0x1*0x29+0x385+0x3*-0x13a),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x22c931=-0x3*-0x17e+-0x117c+0xf*0xde;_0x22c931<this['_creationQ'+'ueue']['length'];_0x22c931++){const _0x3c66f1=this['_creationQ'+'ueue'][_0x22c931];_0x4aa576['createAnch'+'or'](_0x3c66f1['transform'],this['manager']['_reference'+'Space'])['then'](_0x4b946d=>{_0x3c66f1['callback']&&this['_callbacks'+'Anchors']['set'](_0x4b946d,_0x3c66f1['callback']);})['catch'](_0x2742b5=>{_0x3c66f1['callback']&&_0x3c66f1['callback'](_0x2742b5,null),this['fire']('error',_0x2742b5);});}this['_creationQ'+'ueue']['length']=0x106d+0x3df*0x4+-0x1fe9;}for(const [_0x470978,_0x51e107]of this['_index'])_0x4aa576['trackedAnc'+'hors']['has'](_0x470978)||(this['_index']['delete'](_0x470978),_0x51e107['destroy']());for(let _0x12d3f8=0xadc*0x3+-0x1de4+-0x2b0;_0x12d3f8<this['_list']['length'];_0x12d3f8++)this['_list'][_0x12d3f8]['update'](_0x4aa576);for(const _0xe77f41 of _0x4aa576['trackedAnc'+'hors']){if(this['_index']['has'](_0xe77f41))continue;try{const _0x1fdae4=_0xe77f41['anchorSpac'+'e'];}catch{continue;}const _0x53ed84=this['_createAnc'+'hor'](_0xe77f41);_0x53ed84['update'](_0x4aa576);const _0x3819a6=this['_callbacks'+'Anchors']['get'](_0xe77f41);_0x3819a6&&(this['_callbacks'+'Anchors']['delete'](_0xe77f41),_0x3819a6(null,_0x53ed84)),this['fire']('add',_0x53ed84);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}c(Zn,'EVENT_AVAI'+'LABLE','available'),c(Zn,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(Zn,'EVENT_ERRO'+'R','error'),c(Zn,'EVENT_ADD','add'),c(Zn,'EVENT_DEST'+'ROY','destroy');class If extends ce{constructor(_0x3573b3,_0x294892){super(),c(this,'_meshDetec'+'tion'),c(this,'_xrMesh'),c(this,'_lastChang'+'ed',0x1410+-0x177+-0x45*0x45),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_meshDetec'+'tion']=_0x3573b3,this['_xrMesh']=_0x294892,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x291fd0){const _0x317ca1=this['_meshDetec'+'tion']['_manager'],_0x51d055=_0x291fd0['getPose'](this['_xrMesh']['meshSpace'],_0x317ca1['_reference'+'Space']);_0x51d055&&(this['_position']['copy'](_0x51d055['transform']['position']),this['_rotation']['copy'](_0x51d055['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}c(If,'EVENT_REMO'+'VE','remove'),c(If,'EVENT_CHAN'+'GE','change');class fo extends ce{constructor(_0x256dc2){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRMesh']),c(this,'_available',!(-0xff8+-0x398+0x1391)),c(this,'_index',new Map()),c(this,'_list',[]),(this['_manager']=_0x256dc2,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x5ade74){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x5ade74['detectedMe'+'shes']['size'])this['_available']=!(0x287*0xa+-0x9*-0x7d+-0x1f*0xf5),this['fire']('available');else return;}for(const _0x715efa of _0x5ade74['detectedMe'+'shes']){let _0x14b8aa=this['_index']['get'](_0x715efa);_0x14b8aa?_0x14b8aa['update'](_0x5ade74):(_0x14b8aa=new If(this,_0x715efa),this['_index']['set'](_0x715efa,_0x14b8aa),this['_list']['push'](_0x14b8aa),_0x14b8aa['update'](_0x5ade74),this['fire']('add',_0x14b8aa));}for(const _0x3a37a5 of this['_index']['values']())_0x5ade74['detectedMe'+'shes']['has'](_0x3a37a5['xrMesh'])||this['_removeMes'+'h'](_0x3a37a5);}['_removeMes'+'h'](_0x115ae4){this['_index']['delete'](_0x115ae4['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x115ae4),0xafe+-0x7f*0x1f+0x464),_0x115ae4['destroy'](),this['fire']('remove',_0x115ae4);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x33b059=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(-0x5ed*0x2+-0x2061+0x2c3c);if(!_0x33b059)return;this['_available']=_0x33b059,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x1524+-0x52e+0x2b*-0x5f);for(const _0x308494 of this['_index']['values']())this['_removeMes'+'h'](_0x308494);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}c(fo,'EVENT_AVAI'+'LABLE','available'),c(fo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(fo,'EVENT_ADD','add'),c(fo,'EVENT_REMO'+'VE','remove');class Hx extends ce{constructor(_0x47d12d,_0x16e6ef,_0x4d0a0e){super(),c(this,'_manager'),c(this,'_xrView'),c(this,'_positionD'+'ata',new Float32Array(-0x49+-0x1092+-0x86f*-0x2)),c(this,'_viewport',new Q()),c(this,'_projMat',new q()),c(this,'_projViewO'+'ffMat',new q()),c(this,'_viewMat',new q()),c(this,'_viewOffMa'+'t',new q()),c(this,'_viewMat3',new js()),c(this,'_viewInvMa'+'t',new q()),c(this,'_viewInvOf'+'fMat',new q()),c(this,'_xrCamera',null),c(this,'_textureCo'+'lor',null),c(this,'_textureDe'+'pth',null),c(this,'_depthInfo',null),c(this,'_emptyDept'+'hBuffer',new Uint8Array(-0x97c*-0x3+-0x31*-0x47+-0x29eb)),c(this,'_depthMatr'+'ix',new q()),(this['_manager']=_0x47d12d,this['_xrView']=_0x16e6ef);const _0x1a2f68=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new he(_0x1a2f68,{'format':dr,'mipmaps':!(0x1*0x821+-0x88e+0x6e),'addressU':ae,'addressV':ae,'minFilter':st,'magFilter':st,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0xa7ff24=this['_manager']['views']['depthGpuOp'+'timized']?de:st;this['_textureDe'+'pth']=new he(_0x1a2f68,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x4d0a0e===-0x1*-0xbdd+-0x2570+-0x4*-0x665?0x20b7+0xcce+-0x2d85:_0x4d0a0e,'mipmaps':!(-0x515*0x1+0x7*-0x533+0x297b),'addressU':ae,'addressV':ae,'minFilter':_0xa7ff24,'magFilter':_0xa7ff24,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x5c3a6b=0x94a+0xba*0x18+-0x1aba;_0x5c3a6b<this['_textureDe'+'pth']['_levels']['length'];_0x5c3a6b++)this['_textureDe'+'pth']['_levels'][_0x5c3a6b]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x1a2f68['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x3c579e;return((_0x3c579e=this['_depthInfo'])==null?void(-0x2*-0x18a+0x60e*0x2+-0xf30):_0x3c579e['rawValueTo'+'Meters'])||0x382+-0x552+-0x3a*-0x8;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x25824c,_0x1d956e){this['_xrView']=_0x1d956e,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x26101a=_0x25824c['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x26101a['x'],this['_viewport']['y']=_0x26101a['y'],this['_viewport']['z']=_0x26101a['width'],this['_viewport']['w']=_0x26101a['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x25824c);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x6177d0=this['_manager']['webglBindi'+'ng'];if(!_0x6177d0)return;const _0x575528=_0x6177d0['getCameraI'+'mage'](this['_xrCamera']);if(!_0x575528)return;const _0x54e225=this['_manager']['app']['graphicsDe'+'vice'],_0x1c0397=_0x54e225['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x1c0397['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x1c0397['createFram'+'ebuffer']();else{const _0x134da5=_0x1c0397['COLOR_ATTA'+'CHMENT0'],_0xd6b695=this['_xrCamera']['width'],_0x400980=this['_xrCamera']['height'];_0x54e225['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x1c0397['framebuffe'+'rTexture2D'](_0x1c0397['FRAMEBUFFE'+'R'],_0x134da5,_0x1c0397['TEXTURE_2D'],_0x575528,0x14ab+0x1f95+-0x3440),_0x54e225['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x1c0397['framebuffe'+'rTexture2D'](_0x1c0397['FRAMEBUFFE'+'R'],_0x134da5,_0x1c0397['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],-0x16f*-0x12+0xfed+-0x29bb),_0x1c0397['bindFrameb'+'uffer'](_0x1c0397['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x1c0397['bindFrameb'+'uffer'](_0x1c0397['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x1c0397['blitFrameb'+'uffer'](0x2f1*0x3+-0x7c7+-0x1*0x10c,_0x400980,_0xd6b695,0x102b*0x1+0x1*-0x497+-0xb94*0x1,0x9*-0xba+0x174f+-0x10c5,0x8c5+0x1*-0xa64+0x5*0x53,_0xd6b695,_0x400980,_0x1c0397['COLOR_BUFF'+'ER_BIT'],_0x1c0397['NEAREST']);}}['_updateDep'+'th'](_0x3f92fd){var _0xfba9de,_0x45098c;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x5515ea=this['_manager']['views']['depthGpuOp'+'timized'],_0x2a3be6=_0x5515ea?this['_manager']['webglBindi'+'ng']:_0x3f92fd;if(!_0x2a3be6){this['_depthInfo']=null;return;}const _0x3da5fb=_0x2a3be6['getDepthIn'+'formation'](this['_xrView']);if(!_0x3da5fb){this['_depthInfo']=null;return;}let _0x1e13e8=!this['_depthInfo']!=!_0x3da5fb;this['_depthInfo']=_0x3da5fb;const _0x2b8171=((_0xfba9de=this['_depthInfo'])==null?void(-0x3*-0x21e+-0x265*-0x3+-0x1ef*0x7):_0xfba9de['width'])||0x1073*0x1+-0x9f5*-0x1+-0x1a64,_0x36fe6c=((_0x45098c=this['_depthInfo'])==null?void(0xccd*-0x1+0xdf3*0x2+0x1*-0xf19):_0x45098c['height'])||0x949*0x3+0xe9*-0xd+-0x1002;let _0x2e03bd=!(0xcfe*0x2+-0x3*-0x6d4+-0x41*0xb7);if((this['_textureDe'+'pth']['width']!==_0x2b8171||this['_textureDe'+'pth']['height']!==_0x36fe6c)&&(this['_textureDe'+'pth']['_width']=_0x2b8171,this['_textureDe'+'pth']['_height']=_0x36fe6c,_0x1e13e8=!(-0x5d*-0x4a+0x3f+-0x1b21),_0x2e03bd=!(-0x52+-0x9*0x34+0x226)),_0x1e13e8&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x5515ea){if(this['_depthInfo']['texture']){const _0x26715d=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x26715d['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x26715d['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ii:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x26715d['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x26715d['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x26715d['RED'];break;case Ci:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x26715d['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x26715d['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x26715d['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(-0x443*-0x4+0x1861*-0x1+0x755);}}else this['_textureDe'+'pth']['_levels'][-0x1afb+-0x1efc+-0x30d*-0x13]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][0xd3*-0xd+0x1*0x1cf9+-0x1242]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x2e03bd&&this['fire']('depth:resi'+'ze',_0x2b8171,_0x36fe6c);}['updateTran'+'sforms'](_0x2adc6c){_0x2adc6c?(this['_viewInvOf'+'fMat']['mul2'](_0x2adc6c,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][0x7f3+0x1ff2+-0x27e5]=this['_viewInvOf'+'fMat']['data'][0xe0a*0x2+-0x1*0x9c2+-0x1246],this['_positionD'+'ata'][-0x1462*0x1+0x4*0x9a3+-0x1229]=this['_viewInvOf'+'fMat']['data'][-0x4eb*-0x5+0xf7f*-0x1+0x5*-0x1cf],this['_positionD'+'ata'][0xb*-0xfd+-0xbbc+0x169d]=this['_viewInvOf'+'fMat']['data'][-0x72f*0x2+0x25*0x93+-0x6d3];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x180eee,_0x2c4ba2){var _0xbf7b60;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0xbf7b60=this['_depthInfo'])==null?void(0x1d4d*0x1+0x1784+-0x34d1):_0xbf7b60['getDepthIn'+'Meters'](_0x180eee,_0x2c4ba2))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x9e8199=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x9e8199['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x9e8199['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}c(Hx,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class ic extends ce{constructor(_0x165b77){super(),c(this,'_manager'),c(this,'_index',new Map()),c(this,'_indexTmp',new Map()),c(this,'_list',[]),c(this,'_supported'+'Color',ye['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),c(this,'_supported'+'Depth',ye['browser']&&!!window['XRDepthInf'+'ormation']),c(this,'_available'+'Color',!(-0x12e0+-0x96*0x19+-0x3*-0xb2d)),c(this,'_available'+'Depth',!(0x20c0+0x1*0xaba+-0x2b79)),c(this,'_depthUsag'+'e',''),c(this,'_depthForm'+'at',''),c(this,'_depthForm'+'ats',{[Nx]:Bf,[zx]:Ci,[Ux]:Ii}),(this['_manager']=_0x165b77,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===Bx;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x15863a,_0x1c0a5){for(let _0x4278eb=0x10c3+-0x1*-0x2f+-0x10f2;_0x4278eb<_0x1c0a5['length'];_0x4278eb++)this['_indexTmp']['set'](_0x1c0a5[_0x4278eb]['eye'],_0x1c0a5[_0x4278eb]);for(const [_0x16cd2f,_0x2e14b9]of this['_indexTmp']){let _0x501354=this['_index']['get'](_0x16cd2f);_0x501354?_0x501354['update'](_0x15863a,_0x2e14b9):(_0x501354=new Hx(this['_manager'],_0x2e14b9,_0x1c0a5['length']),this['_index']['set'](_0x16cd2f,_0x501354),this['_list']['push'](_0x501354),_0x501354['update'](_0x15863a,_0x2e14b9),this['fire']('add',_0x501354));}for(const [_0x4bb814,_0x1796a9]of this['_index']){if(this['_indexTmp']['has'](_0x4bb814))continue;_0x1796a9['destroy'](),this['_index']['delete'](_0x4bb814);const _0x17c44d=this['_list']['indexOf'](_0x1796a9);_0x17c44d!==-(0xecf+-0x2*0xbc1+-0x4*-0x22d)&&this['_list']['splice'](_0x17c44d,0x1*0x1c8d+-0x174+-0x1b18),this['fire']('remove',_0x1796a9);}this['_indexTmp']['clear']();}['get'](_0x1b7fb4){return this['_index']['get'](_0x1b7fb4)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===Ao&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(0x29c+-0xa41+0x7a6*0x1),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(-0x1475+0xaf1*-0x1+0x1f67),this['_available'+'Depth'])){const _0x54ac41=this['_manager']['session'];this['_depthUsag'+'e']=_0x54ac41['depthUsage'],this['_depthForm'+'at']=_0x54ac41['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x1ec437 of this['_index']['values']())_0x1ec437['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(-0xad*-0x1+0xd06+-0xdb2*0x1),this['_available'+'Depth']=!(-0x21c0+-0x4b1*-0x3+-0xe5*-0x16),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=0xf62*-0x2+0x21*0x81+-0x4d*-0x2f;}}c(ic,'EVENT_ADD','add'),c(ic,'EVENT_REMO'+'VE','remove');class Qn extends ce{constructor(_0x28a956){super(),c(this,'app'),c(this,'_supported',ye['browser']&&!!navigator['xr']),c(this,'_available',{}),c(this,'_type',null),c(this,'_spaceType',null),c(this,'_session',null),c(this,'_baseLayer',null),c(this,'webglBindi'+'ng',null),c(this,'_reference'+'Space',null),c(this,'domOverlay'),c(this,'hitTest'),c(this,'imageTrack'+'ing'),c(this,'planeDetec'+'tion'),c(this,'meshDetect'+'ion'),c(this,'input'),c(this,'lightEstim'+'ation'),c(this,'views'),c(this,'anchors'),c(this,'_camera',null),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_depthNear',-0x1c89+0x75*0x46+-0x375+0.1),c(this,'_depthFar',0x2*0xfe2+0x12f9+-0x2ed5),c(this,'_supported'+'FrameRates',null),c(this,'_width',-0x1178+-0x234+0x13ac),c(this,'_height',0x5bc+0x1*0x17b+-0x737),c(this,'_framebuff'+'erScaleFac'+'tor',-0x4e8+-0x4d*0x58+0x1f61),(this['app']=_0x28a956,this['_available'][VL]=!(-0x2ba*0x2+0x309*0x1+0x26c),this['_available'][GL]=!(0x1c40+0x505*-0x5+-0x326),this['_available'][Ao]=!(0x2*0xee+-0x1*0x2065+0x2*0xf45),this['views']=new ic(this),this['domOverlay']=new $L(this),this['hitTest']=new kr(this),this['imageTrack'+'ing']=new Vx(this),this['planeDetec'+'tion']=new co(this),this['meshDetect'+'ion']=new fo(this),this['input']=new ui(this),this['lightEstim'+'ation']=new Pf(this),this['anchors']=new Zn(this),this['views']=new ic(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)));}['destroy'](){}['start'](_0x2280a7,_0x126b30,_0x1d8672,_0x470f22){var _0x25d18e;let _0x3ffb01=_0x470f22;if(typeof _0x470f22=='object'&&(_0x3ffb01=_0x470f22['callback']),!this['_available'][_0x126b30]){_0x3ffb01&&_0x3ffb01(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x3ffb01&&_0x3ffb01(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x2280a7,this['_camera']['camera']['xr']=this,this['_type']=_0x126b30,this['_spaceType']=_0x1d8672,this['_framebuff'+'erScaleFac'+'tor']=(_0x470f22==null?void(0x9*0x19b+-0x5a4+0x37*-0x29):_0x470f22['framebuffe'+'rScaleFact'+'or'])??0x1*0x3d2+0x22f6+-0x9*0x44f,this['_setClipPl'+'anes'](_0x2280a7['nearClip'],_0x2280a7['farClip']);const _0x1043ff={'requiredFeatures':[_0x1d8672],'optionalFeatures':[]},_0x574711=(_0x25d18e=this['app']['graphicsDe'+'vice'])==null?void(0x4*0x1ba+-0x1*0x455+-0x293):_0x25d18e['isWebGL2'];if(_0x126b30===Ao){if(_0x1043ff['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x1043ff['optionalFe'+'atures']['push']('hit-test'),_0x470f22&&(_0x470f22['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x1043ff['optionalFe'+'atures']['push']('image-trac'+'king'),_0x470f22['planeDetec'+'tion']&&_0x1043ff['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x470f22['meshDetect'+'ion']&&_0x1043ff['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x1043ff['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x1043ff['domOverlay']={'root':this['domOverlay']['root']}),_0x470f22&&_0x470f22['anchors']&&this['anchors']['supported']&&_0x1043ff['optionalFe'+'atures']['push']('anchors'),_0x470f22&&_0x470f22['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x1043ff['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x34354c=[],_0x5e8a3a=[];if(_0x34354c['push'](Bx,WL),_0x5e8a3a['push'](Ux,Nx,zx),_0x470f22['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x5ef562=_0x34354c['indexOf'](_0x470f22['depthSensi'+'ng']['usagePrefe'+'rence']);_0x5ef562!==-(0x5*-0x45+0x1*-0x20a8+0x2202)&&_0x34354c['splice'](_0x5ef562,0xfc4*0x1+-0xa*-0x1cd+-0x21c5),_0x34354c['unshift'](_0x470f22['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x470f22['depthSensi'+'ng']['dataFormat'+'Preference']){const _0xab967a=_0x5e8a3a['indexOf'](_0x470f22['depthSensi'+'ng']['dataFormat'+'Preference']);_0xab967a!==-(-0x13d7*-0x1+0xb1c+-0x1d2*0x11)&&_0x5e8a3a['splice'](_0xab967a,0x15bf+0x647*0x3+0xd*-0x31f),_0x5e8a3a['unshift'](_0x470f22['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x1043ff['depthSensi'+'ng']={'usagePreference':_0x34354c,'dataFormatPreference':_0x5e8a3a};}_0x574711&&_0x470f22&&_0x470f22['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x1043ff['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x1043ff['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x470f22&&_0x470f22['optionalFe'+'atures']&&(_0x1043ff['optionalFe'+'atures']=_0x1043ff['optionalFe'+'atures']['concat'](_0x470f22['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x191240,_0xe13ba4)=>{if(_0x191240){_0x3ffb01&&_0x3ffb01(_0x191240),this['fire']('error',_0x191240);return;}_0xe13ba4!==null&&(_0x1043ff['trackedIma'+'ges']=_0xe13ba4),this['_onStartOp'+'tionsReady'](_0x126b30,_0x1d8672,_0x1043ff,_0x3ffb01);}):this['_onStartOp'+'tionsReady'](_0x126b30,_0x1d8672,_0x1043ff,_0x3ffb01);}['_onStartOp'+'tionsReady'](_0x122e53,_0x4cc5cb,_0x5ccee0,_0x452555){navigator['xr']['requestSes'+'sion'](_0x122e53,_0x5ccee0)['then'](_0x557a57=>{this['_onSession'+'Start'](_0x557a57,_0x4cc5cb,_0x452555);})['catch'](_0x328bf5=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x452555&&_0x452555(_0x328bf5),this['fire']('error',_0x328bf5);});}['end'](_0x14a864){if(!this['_session']){_0x14a864&&_0x14a864(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x14a864&&this['once']('end',_0x14a864),this['_session']['end']();}['isAvailabl'+'e'](_0x3f84f1){return this['_available'][_0x3f84f1];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x85b3e4 in this['_available'])this['_sessionSu'+'pportCheck'](_0x85b3e4);}['initiateRo'+'omCapture'](_0x554a7e){if(!this['_session']){_0x554a7e(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x554a7e(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x554a7e&&_0x554a7e(null);})['catch'](_0x33c868=>{_0x554a7e&&_0x554a7e(_0x33c868);});}['updateTarg'+'etFrameRat'+'e'](_0x3399e3,_0x1363f9){var _0x368a7a;if(!((_0x368a7a=this['_session'])!=null&&_0x368a7a['updateTarg'+'etFrameRat'+'e'])){_0x1363f9==null||_0x1363f9(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x3399e3)['then'](()=>{_0x1363f9==null||_0x1363f9();})['catch'](_0xca51ca=>{_0x1363f9==null||_0x1363f9(_0xca51ca);});}['_sessionSu'+'pportCheck'](_0x2e5c42){navigator['xr']['isSessionS'+'upported'](_0x2e5c42)['then'](_0x198542=>{this['_available'][_0x2e5c42]!==_0x198542&&(this['_available'][_0x2e5c42]=_0x198542,this['fire']('available',_0x2e5c42,_0x198542),this['fire']('available:'+_0x2e5c42,_0x198542));})['catch'](_0x4a4b81=>{this['fire']('error',_0x4a4b81);});}['_onSession'+'Start'](_0x21169b,_0x34fbe9,_0x354ae1){let _0x445a5c=!(-0x2*0xcdb+-0xceb+0x1351*0x2);this['_session']=_0x21169b;const _0x241b3d=()=>{this['fire']('visibility'+':change',_0x21169b['visibility'+'State']);},_0x5ec8ab=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x39dea8=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x5ec8ab),this['_camera']['off']('set_farCli'+'p',_0x5ec8ab),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x21169b['removeEven'+'tListener']('end',_0x39dea8),_0x21169b['removeEven'+'tListener']('visibility'+'change',_0x241b3d),_0x445a5c||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=-0x23f8+0x22f3+0x105,this['_height']=0x2378+-0x59e+0xeed*-0x2,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x21169b['addEventLi'+'stener']('end',_0x39dea8),_0x21169b['addEventLi'+'stener']('visibility'+'change',_0x241b3d),this['_camera']['on']('set_nearCl'+'ip',_0x5ec8ab),this['_camera']['on']('set_farCli'+'p',_0x5ec8ab),v['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x3463a2;this['fire']('frameratec'+'hange',(_0x3463a2=this['_session'])==null?void(-0x3f9+-0x3*0xceb+0x2aba):_0x3463a2['frameRate']);}),_0x21169b['requestRef'+'erenceSpac'+'e'](_0x34fbe9)['then'](_0xea6c6c=>{this['_reference'+'Space']=_0xea6c6c,this['app']['tick'](),_0x354ae1&&_0x354ae1(null),this['fire']('start');})['catch'](_0x2d9d07=>{_0x445a5c=!(0x895+0x5*-0x407+-0x1ed*-0x6),_0x21169b['end'](),_0x354ae1&&_0x354ae1(_0x2d9d07),this['fire']('error',_0x2d9d07);});}['_setClipPl'+'anes'](_0x38e769,_0x1d3d7e){this['_depthNear']===_0x38e769&&this['_depthFar']===_0x1d3d7e||(this['_depthNear']=_0x38e769,this['_depthFar']=_0x1d3d7e,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x2ec194=this['app']['graphicsDe'+'vice'],_0x331f1c=_0x2ec194['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x2ec194['gl'],{'alpha':!(-0x7*0x4b1+-0xbf5+0x2ccc),'depth':!(0x8f*0x11+0x2264+-0x8c7*0x5),'stencil':!(-0x203e+-0xe09+0x2e47),'framebufferScaleFactor':_0x331f1c,'antialias':!(0xa67*0x1+-0xff6*-0x2+-0x2a52)}),_0x2ec194!=null&&_0x2ec194['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x2ec194['gl']);}catch(_0x19405c){this['fire']('error',_0x19405c);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x16c392=>{this['fire']('error',_0x16c392);});},0x1*-0x1341+-0x1*0x1e93+0x31d4);}['update'](_0x4abd9d){if(!this['_session'])return!(0x7*-0x283+0x1670+-0x4da);const _0xc848e4=_0x4abd9d['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x5f0873=_0x4abd9d['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0xc848e4||this['_height']!==_0x5f0873)&&(this['_width']=_0xc848e4,this['_height']=_0x5f0873,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0xc848e4,_0x5f0873));const _0x33acbc=_0x4abd9d['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x33acbc)return!(0x187d+-0x19f5+0x179);const _0x1e3c4d=this['views']['list']['length'];this['views']['update'](_0x4abd9d,_0x33acbc['views']);const _0x118309=_0x33acbc['transform']['position'],_0x3fbd02=_0x33acbc['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x118309['x'],_0x118309['y'],_0x118309['z']),this['_localRota'+'tion']['set'](_0x3fbd02['x'],_0x3fbd02['y'],_0x3fbd02['z'],_0x3fbd02['w']),_0x1e3c4d===0x1e9e+-0x187+-0x1d17&&this['views']['list']['length']>0x1e95+0x21a0+-0x4035){const _0x58dced=new q(),_0x1f092e=this['views']['list'][0x1a79+-0x181a+-0x25f];_0x58dced['copy'](_0x1f092e['projMat']);const _0x8b045c=_0x58dced['data'],_0x57ef2e=(-0x212d+0x6e7+0x1a48)*Math['atan']((0x6d1+0x2674+-0x2d44)/_0x8b045c[-0x39*-0x7d+-0xaf7+-0x10d9])*(-0x2479*0x1+-0x1*-0x1ae5+-0x2f*-0x38)/Math['PI'],_0x5beb03=_0x8b045c[0x190c+-0x4ff*0x3+-0xa0a]/_0x8b045c[-0x2e+-0x1c25+0x1c53],_0x4d12bb=_0x8b045c[-0x154b*-0x1+0x1*0xf7+-0x1634]/(_0x8b045c[0x1*-0xa84+-0x6a8+-0x1*-0x1136]+(-0x187c+0x15d*-0xd+0x3*0xe12)),_0x281d8a=_0x8b045c[0x77f+-0x313+0x2b*-0x1a]/(_0x8b045c[-0x1c99+-0x13*0xfb+-0xf2*-0x32]-(-0x1*0x5eb+-0x3*0x5bd+-0x1*-0x1723));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x5beb03,'farClip':_0x4d12bb,'fov':_0x57ef2e,'horizontalFov':!(-0x1017*0x1+-0xe1b*0x1+0x1e33),'nearClip':_0x281d8a});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x4abd9d),this['_type']===Ao&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x4abd9d),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x4abd9d),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x4abd9d),this['anchors']['supported']&&this['anchors']['update'](_0x4abd9d),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x4abd9d),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x4abd9d)),this['fire']('update',_0x4abd9d),!(-0x2314+0x7c9+0x1b4b);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x526bf3;return((_0x526bf3=this['_session'])==null?void(-0x1fb4+-0x1*0xc11+0x2bc5):_0x526bf3['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x23abed){var _0x4276a3;(((_0x4276a3=this['_baseLayer'])==null?void(-0x1355+-0x2*0xdf9+0x2f47):_0x4276a3['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>0x5*-0x509+-0x555+0x1e83&&v['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x23abed);}get['fixedFovea'+'tion'](){var _0x4c2964;return((_0x4c2964=this['_baseLayer'])==null?void(-0x23d*-0x6+-0x20*0x2+-0xd2e):_0x4c2964['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}c(Qn,'EVENT_AVAI'+'LABLE','available'),c(Qn,'EVENT_STAR'+'T','start'),c(Qn,'EVENT_END','end'),c(Qn,'EVENT_UPDA'+'TE','update'),c(Qn,'EVENT_ERRO'+'R','error');class dF extends qh{constructor(_0x20e7a6,_0x8f8003={}){super(_0x20e7a6);const _0x2becc8=new pP();_0x2becc8['graphicsDe'+'vice']=_0x8f8003['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x20e7a6,_0x8f8003),this['addCompone'+'ntSystems'](_0x2becc8),this['addResourc'+'eHandles'](_0x2becc8),_0x2becc8['elementInp'+'ut']=_0x8f8003['elementInp'+'ut'],_0x2becc8['keyboard']=_0x8f8003['keyboard'],_0x2becc8['mouse']=_0x8f8003['mouse'],_0x2becc8['touch']=_0x8f8003['touch'],_0x2becc8['gamepads']=_0x8f8003['gamepads'],_0x2becc8['scriptPref'+'ix']=_0x8f8003['scriptPref'+'ix'],_0x2becc8['assetPrefi'+'x']=_0x8f8003['assetPrefi'+'x'],_0x2becc8['scriptsOrd'+'er']=_0x8f8003['scriptsOrd'+'er'],_0x2becc8['soundManag'+'er']=new kb(),_0x2becc8['lightmappe'+'r']=vP,_0x2becc8['batchManag'+'er']=dC,_0x2becc8['xr']=Qn,this['init'](_0x2becc8);}['createDevi'+'ce'](_0x1129bd,_0x45274f){return _0x45274f['graphicsDe'+'viceOption'+'s']||(_0x45274f['graphicsDe'+'viceOption'+'s']={}),ye['browser']&&navigator['xr']&&(_0x45274f['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(0x1320*0x2+0x224c+0x4*-0x1223)),_0x45274f['graphicsDe'+'viceOption'+'s']['alpha']=_0x45274f['graphicsDe'+'viceOption'+'s']['alpha']||!(-0xe35+0x7*0x2d4+-0x596),new pb(_0x1129bd,_0x45274f['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x37bc72){_0x37bc72['componentS'+'ystems']=[mx,fR,HR,UP,qP,iI,fI,jI,KI,cD,BI,jP,cI,bI,zR,QP,DI,FI,GI,JR,$R,WI,uD];}['addResourc'+'eHandles'](_0x17037f){_0x17037f['resourceHa'+'ndlers']=[fD,_2,g2,y2,iL,Q2,UL,fL,j2,S2,hL,rL,A2,X2,T2,cL,q2,E2,C2,v2,mL,dL,uL,w2,$2];}}const nh=[],YL=[[],[],[]];class KL extends ds{constructor(_0x144bac,_0x47d0f6){super(_0x144bac),c(this,'viewBindGr'+'oups',[]),this['renderer']=_0x47d0f6;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x249e5d=>{_0x249e5d['defaultUni'+'formBuffer']['destroy'](),_0x249e5d['destroy']();}),this['viewBindGr'+'oups']['length']=0x2706+0x355*0x6+-0x3b04;}['update'](_0x4375e5,_0x44239e,_0x28530d,_0x5e26d0){this['camera']=_0x4375e5,this['scene']=_0x44239e,this['layers']=_0x28530d,this['mapping']=_0x5e26d0;}['execute'](){const _0x1774b1=this['device'],{renderer:_0x64bed,camera:_0x16e9c6,scene:_0x115f02,layers:_0x2c0357,mapping:_0x453576,renderTarget:_0x278339}=this,_0x373dde=_0x115f02['layers']['layerList'],_0xbcc3b2=_0x115f02['layers']['subLayerEn'+'abled'],_0x254424=_0x115f02['layers']['subLayerLi'+'st'];for(let _0xdb3dcf=0x15ea+-0xa72+-0xb78;_0xdb3dcf<_0x373dde['length'];_0xdb3dcf++){const _0x1448a3=_0x373dde[_0xdb3dcf];if(!(_0x2c0357&&_0x2c0357['indexOf'](_0x1448a3)<0xc4f+-0xe4c+0x1*0x1fd)&&_0x1448a3['enabled']&&_0xbcc3b2[_0xdb3dcf]&&_0x1448a3['camerasSet']['has'](_0x16e9c6['camera'])){const _0x18f90e=_0x254424[_0xdb3dcf];G['pushGpuMar'+'ker'](_0x1774b1,_0x1448a3['name']+'('+(_0x18f90e?'TRANSP':'OPAQUE')+')'),_0x1448a3['_clearDept'+'hBuffer']&&_0x64bed['clear'](_0x16e9c6['camera'],!(-0x1*0x671+-0x262*-0xb+0x17*-0xdc),!(0x369+0x1*-0xc6f+0x906),!(-0x1b59+0x1*0x1c1f+-0x1*0xc5));const _0x4c29fe=_0x1448a3['meshInstan'+'ces'];for(let _0x26f7de=-0x4*-0x12b+0x1afe+-0x1faa;_0x26f7de<_0x4c29fe['length'];_0x26f7de++){const _0x3519a3=_0x4c29fe[_0x26f7de];_0x3519a3['pick']&&_0x3519a3['transparen'+'t']===_0x18f90e&&(nh['push'](_0x3519a3),_0x453576['set'](_0x3519a3['id'],_0x3519a3));}nh['length']>0x2645+-0xb97*0x1+-0x1aae&&(_0x115f02['clusteredL'+'ightingEna'+'bled']&&_0x64bed['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x64bed['setCameraU'+'niforms'](_0x16e9c6['camera'],_0x278339),_0x1774b1['supportsUn'+'iformBuffe'+'rs']&&_0x64bed['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x64bed['viewUnifor'+'mFormat'],_0x64bed['viewBindGr'+'oupFormat'],0x136e+0xaf1+-0x256*0xd),_0x64bed['renderForw'+'ard'](_0x16e9c6['camera'],_0x278339,nh,YL,Oa,_0x9a52e3=>{_0x1774b1['setBlendSt'+'ate'](_t['NOBLEND']);}),nh['length']=0x1*-0x1865+0x22ae+0xa49*-0x1),G['popGpuMark'+'er'](_0x1774b1);}}}}const nu=new Set(),ZL=new Q();let uF=class{constructor(_0x1b1c15,_0x2d38d8,_0x781edb){c(this,'renderTarg'+'et',null),c(this,'mapping',new Map()),c(this,'deviceVali'+'d',!(-0x1bf*0x13+-0x856+0x2983)),(v['assert'](_0x1b1c15),this['renderer']=_0x1b1c15['renderer'],this['device']=_0x1b1c15['graphicsDe'+'vice'],this['renderPass']=new KL(this['device'],_0x1b1c15['renderer']),this['width']=-0x2*0x97c+0x284*-0xd+0x33ac,this['height']=0x1ab4*-0x1+0x1d99+-0x2e5,this['resize'](_0x2d38d8,_0x781edb),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(0xb12*-0x1+-0x19*-0x165+-0xa*0x261);}));}['getSelecti'+'on'](_0xe0b527,_0x370a31,_0x113ca0=-0x12*-0x1+0x4ea+-0x4fb,_0x43c2fb=-0x63d*0x2+-0x8cb+0x1546){const _0x2cba52=this['device'];if(_0x2cba52['isWebGPU'])return v['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];v['assert'](typeof _0xe0b527!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x370a31=this['renderTarg'+'et']['height']-(_0x370a31+_0x43c2fb);const _0x2f8797=this['sanitizeRe'+'ct'](_0xe0b527,_0x370a31,_0x113ca0,_0x43c2fb);_0x2cba52['setRenderT'+'arget'](this['renderTarg'+'et']),_0x2cba52['updateBegi'+'n']();const _0x30e12d=new Uint8Array((-0x19b+0x2*0x553+-0x907)*_0x2f8797['z']*_0x2f8797['w']);return _0x2cba52['readPixels'](_0x2f8797['x'],_0x2f8797['y'],_0x2f8797['z'],_0x2f8797['w'],_0x30e12d),_0x2cba52['updateEnd'](),this['decodePixe'+'ls'](_0x30e12d,this['mapping']);}['getSelecti'+'onAsync'](_0x274304,_0x8d8a4e,_0x6539f7=-0x665+-0xd6b+0x13d1,_0x2eda3d=-0x1b68+-0xd*0x2f6+0x41e7){var _0x10884d;(_0x10884d=this['device'])!=null&&_0x10884d['isWebGL2']&&(_0x8d8a4e=this['renderTarg'+'et']['height']-(_0x8d8a4e+_0x2eda3d));const _0x3cdd86=this['sanitizeRe'+'ct'](_0x274304,_0x8d8a4e,_0x6539f7,_0x2eda3d);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x3cdd86['x'],_0x3cdd86['y'],_0x3cdd86['z'],_0x3cdd86['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(0x122b+0x21d6+0x3401*-0x1)})['then'](_0x178def=>this['decodePixe'+'ls'](_0x178def,this['mapping']));}['sanitizeRe'+'ct'](_0x4f55f0,_0x701d3,_0x1ec06f,_0x54b899){const _0x1a0721=this['renderTarg'+'et']['width'],_0x16edad=this['renderTarg'+'et']['height'];return _0x4f55f0=N['clamp'](Math['floor'](_0x4f55f0),-0x26de+-0x6cc+0x922*0x5,_0x1a0721-(0x9d*0x37+-0x20*-0x3d+-0x295a)),_0x701d3=N['clamp'](Math['floor'](_0x701d3),0xec8+-0x1ab4+-0xbec*-0x1,_0x16edad-(-0x94e+0x9f0+-0xa1)),_0x1ec06f=Math['floor'](Math['max'](_0x1ec06f,-0x3a*-0xa3+-0x1c6b+0x882*-0x1)),_0x1ec06f=Math['min'](_0x1ec06f,_0x1a0721-_0x4f55f0),_0x54b899=Math['floor'](Math['max'](_0x54b899,0x2705+-0x1*0xcc6+0x1a3e*-0x1)),_0x54b899=Math['min'](_0x54b899,_0x16edad-_0x701d3),ZL['set'](_0x4f55f0,_0x701d3,_0x1ec06f,_0x54b899);}['decodePixe'+'ls'](_0x18e1be,_0x43a7be){const _0x281b38=[];if(this['deviceVali'+'d']){const _0x5ef568=_0x18e1be['length'];for(let _0xfe9ac4=0x23b8+-0x1a7f+-0x939;_0xfe9ac4<_0x5ef568;_0xfe9ac4+=0x46+-0xdf4+0xdb2*0x1){const _0x3576ca=_0x18e1be[_0xfe9ac4+(0x2183+-0x2bd*-0x1+-0x488*0x8)],_0xbe1834=_0x18e1be[_0xfe9ac4+(-0x26a8+-0x26b7+0x26b0*0x2)],_0x326538=_0x18e1be[_0xfe9ac4+(-0x1dad+-0x340*-0x1+0x1a6f)],_0x1c989e=_0x18e1be[_0xfe9ac4+(-0x17*0x45+-0x2687+0x2cbd)]<<-0x1073+-0x453+0x1*0x14de|_0x3576ca<<-0x1a8c+-0xe2f*-0x2+-0x9*0x32|_0xbe1834<<0x1*-0x25f9+0x2670+0x3*-0x25|_0x326538;_0x1c989e!==-(0x1ef4+0x1af*0xd+-0x34d6)&&nu['add'](_0x43a7be['get'](_0x1c989e));}nu['forEach'](_0x3bcaa8=>{_0x3bcaa8&&_0x281b38['push'](_0x3bcaa8);}),nu['clear']();}return _0x281b38;}['allocateRe'+'nderTarget'](){const _0x3c49c5=new he(this['device'],{'format':Se,'width':this['width'],'height':this['height'],'mipmaps':!(0x25f+0x24d*-0x1+0x1*-0x11),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':'pick'});this['renderTarg'+'et']=new pt({'colorBuffer':_0x3c49c5,'depth':!(0x1f11+0x9e7+-0x28f8)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x5679e1,_0x1730e4,_0x569133){_0x569133 instanceof Lr&&(_0x569133=[_0x569133]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x3a3d64=this['renderPass'];_0x3a3d64['init'](this['renderTarg'+'et']),_0x3a3d64['colorOps']['clearValue']=Y['WHITE'],_0x3a3d64['colorOps']['clear']=!(-0xe3*-0xe+-0xeb*-0xe+0x1ce*-0xe),_0x3a3d64['depthStenc'+'ilOps']['clearDepth']=!(-0x139a+-0x1daf+0x3149),_0x3a3d64['update'](_0x5679e1,_0x1730e4,_0x569133,this['mapping']),_0x3a3d64['render']();}['resize'](_0x357672,_0x3881c2){this['width']=Math['floor'](_0x357672),this['height']=Math['floor'](_0x3881c2);}};class QL{constructor(_0x12187f){this['_frameInde'+'x']=-0x1*-0x20d9+-0x36f*-0x4+-0x2e95,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=-0xec7+-0x17f2+-0x2*-0x135d,this['enabled']=!(0x5d5+-0x1fb+-0x3da),_0x12187f['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x12187f['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x12187f['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x1c16cc){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x498c1b=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x498c1b,this['_frameInde'+'x']=-0xcd0+0x20cd*-0x1+-0x1*-0x2d9d,this['mark'](_0x1c16cc);}['mark'](_0x430790){if(!this['enabled'])return;const _0x396d86=ne();if(this['_frameInde'+'x']>0x4*0x95c+-0xc1f+-0x1951){const _0x2fd86d=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0x2343*0x1+-0x2d*-0x15+-0x26f3)];_0x2fd86d[-0x1*0x1863+0xebc+0x67*0x18]=_0x396d86-_0x2fd86d[0x11ce+-0x1ee+0xef*-0x11];}else{if(this['_timings']['length']>-0x1475+-0x1*-0x371+-0x4*-0x441){const _0x7f7482=this['_timings'][this['_timings']['length']-(-0x1bf+0x5*0x7c9+-0x252d)];_0x7f7482[0x1fba+0x2666+-0x461f]=_0x396d86-_0x7f7482[-0x2617+-0x11*-0x65+-0x647*-0x5];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x430790,_0x396d86]);else{const _0x30fc50=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x30fc50[-0x10a*-0x1c+0x19f8+-0x3710]=_0x430790,_0x30fc50[0x46*0x28+-0x15af+-0x4*-0x2b0]=_0x396d86;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](-0x8d*-0x1b+-0x11*-0x187+-0x28d6,-(-0xb*-0x13f+0x6f1+-0x2f3*0x7))['map'](_0x491d8e=>_0x491d8e[-0x148+0x270b+-0x12*0x219]);}}class JL{constructor(_0x15232a){this['device']=_0x15232a,_0x15232a['gpuProfile'+'r']['enabled']=!(0x21c7*0x1+-0xd6b*0x1+-0x145c),this['enabled']=!(0x15a3+-0xe2f*0x1+-0x3ba*0x2),this['unitsName']='ms',this['decimalPla'+'ces']=0xa03+0xa9b+-0x1*0x149d,this['_timings']=[];}get['timings'](){return this['_timings'][-0x2*-0x194+0x49*-0x5e+0x17a6]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class eF{constructor(_0x2a11e3,_0x126973,_0x1692ac,_0x2df2ba,_0x567317){this['app']=_0x2a11e3,this['values']=[],this['statNames']=_0x126973,this['statNames']['length']>0xed2+-0x3*-0x20e+-0x14f9&&(this['statNames']['length']=-0x2*-0xe39+0x24ed+0x5e*-0xb2),this['unitsName']=_0x2df2ba,this['decimalPla'+'ces']=_0x1692ac,this['multiplier']=_0x567317||0x1*-0x223a+0xe1+0x58f*0x6;const _0xc35a27=(_0x226038,_0x5dfcfc)=>_0x226038['split']('.')['reduce']((_0x1719cb,_0x3e55ed)=>_0x1719cb?_0x1719cb[_0x3e55ed]:null,_0x5dfcfc||this);_0x2a11e3['on']('frameupdat'+'e',_0x22527a=>{for(let _0x148f28=-0x2125+-0x2103+-0x2114*-0x2;_0x148f28<this['statNames']['length'];_0x148f28++)this['values'][_0x148f28]=_0xc35a27(this['statNames'][_0x148f28],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class au{constructor(_0x483df4,_0x5bf58a,_0x5b2b7a,_0x139ea5,_0x2a2a14){this['app']=_0x5bf58a,this['name']=_0x483df4,this['device']=_0x5bf58a['graphicsDe'+'vice'],this['timer']=_0x2a2a14,this['watermark']=_0x5b2b7a,this['enabled']=!(0xe*-0x265+0x5*0x6cd+-0x7a),this['textRefres'+'hRate']=_0x139ea5,this['avgTotal']=0x14cf+-0x13*-0x1e4+-0x38bb,this['avgTimer']=0x19ea+-0x10*0x14c+-0x295*0x2,this['avgCount']=0x3*-0x4f0+-0xdf6+0x1cc6,this['timingText']='',this['texture']=null,this['yOffset']=0xd0f*-0x1+-0x148e+0x5*0x6b9,this['cursor']=0x2274+0x733*-0x3+-0xcdb,this['sample']=new Uint8ClampedArray(-0x181f+0x1d*0xe2+-0x177),this['sample']['set']([0x642+-0xe6e+-0x4*-0x20b,-0x164f+-0xf*-0x88+0x1*0xe57,-0xedf+0x551*-0x1+-0x4c*-0x44,-0x1f2+-0xa6*0x14+0x1*0xfe9]),this['counter']=0x1914+0xa9f*-0x2+-0x2*0x1eb,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x2e36ae){const _0x32f38e=this['timer']['timings'],_0x12f454=_0x32f38e['reduce']((_0x5a42da,_0x1ea05a)=>_0x5a42da+_0x1ea05a,-0x4*0x597+0x1*-0x133+0x178f);if(this['avgTotal']+=_0x12f454,this['avgTimer']+=_0x2e36ae,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=-0x2683+-0xbd1+-0x1*-0x3254,this['avgTotal']=-0x7*-0x38f+0xe91*-0x1+0x52c*-0x2,this['avgCount']=-0x407*0x5+0x1c57+-0x7*0x12c),this['enabled']){let _0x5b1581=-0x634+0x1f97*-0x1+0x25cb;const _0x50c410=(-0x1973+0x12a0+-0x2e*-0x26+0.5)*this['watermark'];for(let _0x5810b3=-0x1477*-0x1+0x2643+-0x3aba;_0x5810b3<_0x32f38e['length'];++_0x5810b3)_0x5b1581+=Math['floor'](_0x32f38e[_0x5810b3]/_0x50c410*(-0x19*0x83+0x1ad5*-0x1+-0x289f*-0x1)),this['sample'][_0x5810b3]=_0x5b1581;this['sample'][-0x23a2+-0x4*0x6a3+0x3e31]=this['watermark']/_0x50c410*(0x2443+-0x1*-0x1fd5+-0x4319),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(0x9d*-0x3d+0x4fa+0x1*0x2073)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=0x1398+-0x73d*-0x1+-0x1ad5);}}['render'](_0x11bd51,_0x8780a5,_0x1b8245,_0x56a74c,_0x3f2a65){_0x11bd51['quad'](_0x8780a5+_0x56a74c,_0x1b8245,-_0x56a74c,_0x3f2a65,this['enabled']?this['cursor']:0x1*0xf14+-0x1e72+0xf5e,this['enabled']?-0xca9+-0x25c4+-0x27*-0x14b+0.5+this['yOffset']:this['texture']['height']-(0x1e9c+0x86*-0x40+0x2e5),-_0x56a74c,0x362*-0xb+-0x1e28+0x2*0x21af,this['texture'],-0xcb6*-0x1+0x180+-0xe36);}}class tF{constructor(_0x5d9c30,_0x3edfd0){const _0xcd6c26=_0x4c0ef3=>{_0x4c0ef3['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x4c0ef3['textAlign']='left',_0x4c0ef3['textBaseli'+'ne']='alphabetic';},_0x157694=_0x2ab228=>_0x2ab228==='.'||_0x2ab228['length']===0x1e*-0x96+0x1181+0x14&&_0x2ab228['charCodeAt'](-0x3*0x90f+-0xb22+0x7*0x579)>=0xc68*0x3+-0x173b+-0xdcd&&_0x2ab228['charCodeAt'](-0x25c2+0x1*0x2064+0x55e*0x1)<=-0x29f*-0x1+0xb06+-0xd6c,_0xbd8329=document['createElem'+'ent']('canvas'),_0x314c19=_0xbd8329['getContext']('2d',{'alpha':!(-0x6d*0x32+0x1bc1+-0x677)});_0xcd6c26(_0x314c19);const _0xfab0e7=new Map(),_0x34804a=0x18ff+0x1db+-0x1ad5,_0x3e1a83=0x3*-0x21+0x16de+-0x147b;let _0x599a97=_0x34804a,_0xc59d70=_0x34804a;_0x3edfd0['forEach'](_0x289761=>{const _0x29d7f1=_0x314c19['measureTex'+'t'](_0x289761),_0x58ae5b=Math['ceil'](-_0x29d7f1['actualBoun'+'dingBoxLef'+'t']),_0x271788=Math['ceil'](_0x29d7f1['actualBoun'+'dingBoxRig'+'ht']),_0x358746=Math['ceil'](_0x29d7f1['actualBoun'+'dingBoxAsc'+'ent']),_0x48172a=Math['ceil'](_0x29d7f1['actualBoun'+'dingBoxDes'+'cent']),_0x137edb=_0x58ae5b+_0x271788,_0x31bb3e=_0x358746+_0x48172a;_0x599a97+_0x137edb+_0x34804a>=_0x3e1a83&&(_0x599a97=_0x34804a,_0xc59d70+=0xc*0x1b4+0x117c+0x4*-0x977),_0xfab0e7['set'](_0x289761,{'l':_0x58ae5b,'r':_0x271788,'a':_0x358746,'d':_0x48172a,'w':_0x137edb,'h':_0x31bb3e,'x':_0x599a97,'y':_0xc59d70}),_0x599a97+=_0x137edb+_0x34804a;}),_0xbd8329['width']=-0x560+-0x1a0e+0x216e,_0xbd8329['height']=N['nextPowerO'+'fTwo'](_0xc59d70+(-0x1ba9+0xce*-0x7+0x215b)+_0x34804a),_0xcd6c26(_0x314c19),_0x314c19['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x314c19['fillRect'](0x2628+-0x2607+-0x21,0x880*-0x3+-0xf*0x5e+0x1f02,_0xbd8329['width'],_0xbd8329['height']),_0xfab0e7['forEach']((_0x1ace8b,_0x49283b)=>{_0x314c19['fillStyle']=_0x157694(_0x49283b)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x314c19['fillText'](_0x49283b,_0x1ace8b['x']-_0x1ace8b['l'],_0x1ace8b['y']+_0x1ace8b['a']);}),this['placements']=_0xfab0e7;const _0x5ea286=_0x314c19['getImageDa'+'ta'](-0x590+-0x11bb+0x174b,0x175c+0x139e+-0x2afa,_0xbd8329['width'],_0xbd8329['height'])['data'];for(let _0x3ebb8d=-0x1c1*0x8+-0x1*-0x2034+-0x122c;_0x3ebb8d<_0x5ea286['length'];_0x3ebb8d+=-0x2*-0x119b+-0xe63+-0x2f9*0x7)_0x5ea286[_0x3ebb8d+(-0xed7*0x2+0x1477*-0x1+0x282*0x14)]=_0x5ea286[_0x3ebb8d+(-0x2cc*0xb+0x200c+-0x148)],_0x5ea286[_0x3ebb8d+(0x853*-0x2+0x1b6f+0xb*-0xfb)]=-0x1679+-0x4*-0x107+0x3*0x674,_0x5ea286[_0x3ebb8d+(-0x1*-0xb36+0x15f3+-0x4*0x84a)]=0x1da9*-0x1+0x94c+0x155c,_0x5ea286[_0x3ebb8d+(-0x14d4*-0x1+0xdf4+-0x22c6)]=0x751*-0x3+-0x10eb+-0x41*-0x9d;this['texture']=new he(_0x5d9c30,{'name':'mini-stats'+'-word-atla'+'s','width':_0xbd8329['width'],'height':_0xbd8329['height'],'mipmaps':!(0x5*-0x11+0x1*-0x6e6+0x73c),'minFilter':de,'magFilter':de,'levels':[_0x5ea286]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x2e810c,_0x435ff9,_0x48ef44,_0x2ecf99){const _0x286fc3=this['placements']['get'](_0x435ff9);return _0x286fc3?(_0x2e810c['quad'](_0x48ef44+_0x286fc3['l']-(0x607*-0x1+-0x157e+-0x2*-0xdc3),_0x2ecf99-_0x286fc3['d']+(-0x1733+0xb*-0x31c+0x3968),_0x286fc3['w']+(0xe2*0x9+0xaa1*0x1+-0x1292)*(-0x478+0x2cb+0x1af),_0x286fc3['h']+(0xcea+-0x1*-0xf7f+-0x1c68)*(0x366+-0x5d*-0x4+-0x136*0x4),_0x286fc3['x']-(-0xb34+-0x148f+0x1fc4),this['texture']['height']-_0x286fc3['y']-_0x286fc3['h']-(0x14c5+-0x903*-0x2+-0xa*0x3e1),void(0x18e0+-0x152d+-0x3b3),void(0xf*0x279+0x1*-0x5bf+-0x1f58),this['texture'],-0x139a+0x648+-0x9*-0x17b),_0x286fc3['w']):0x7*0x4a7+0x2*0x12df+0x1b7*-0x29;}}const sF='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20xy,'+'\x20word\x20flag'+'\x0aattribute'+'\x20vec4\x20vert'+'ex_texCoor'+'d0;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20tex'+'ture\x20space'+'\x20uv,\x20norma'+'lized\x20uv\x0a\x0a'+'varying\x20ve'+'c4\x20uv0;\x0ava'+'rying\x20floa'+'t\x20wordFlag'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position.'+'xy\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20uv0\x20=\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20w'+'ordFlag\x20=\x20'+'vertex_pos'+'ition.z;\x0a}',iF='\x0avarying\x20v'+'ec4\x20uv0;\x0av'+'arying\x20flo'+'at\x20wordFla'+'g;\x0a\x0aunifor'+'m\x20vec4\x20clr'+';\x0auniform\x20'+'sampler2D\x20'+'graphTex;\x0a'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0av'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20gra'+'phSample\x20='+'\x20texture2D'+'(graphTex,'+'\x20uv0.xy);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'graph;\x0a\x20\x20\x20'+'\x20if\x20(uv0.w'+'\x20<\x20graphSa'+'mple.r)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.g)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4(0.2'+',\x200.7,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20else\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.b)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.2,\x200.7,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4(0.0,'+'\x200.0,\x200.0,'+'\x201.0\x20-\x200.2'+'5\x20*\x20sin(uv'+'0.w\x20*\x203.14'+'159));\x0a\x0a\x20\x20'+'\x20\x20vec4\x20wor'+'ds\x20=\x20textu'+'re2D(words'+'Tex,\x20vec2('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'wordFlag)\x20'+'*\x20clr;\x0a}';class rF{constructor(_0x6e8c96,_0xab571f=0x67d+0xd*0x1c1+0x3e6*-0x7){const _0x46aff9=new Et(_0x6e8c96,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':ns,'components':0x4,'type':Ee}]),_0x2f48a7=new Uint16Array(_0xab571f*(-0xeaa+-0x20d6+0x2f86));for(let _0x59c816=0x7c9*0x2+-0x1*0x1625+0x693;_0x59c816<_0xab571f;++_0x59c816)_0x2f48a7[_0x59c816*(0x3*0x3be+0x1c0c+-0x2740)+(-0xb14+0x236b+-0x1857)]=_0x59c816*(0x1635+-0xe38+0x7f9*-0x1),_0x2f48a7[_0x59c816*(0x6cb+0x405*-0x6+0x1159)+(0x343*-0x7+-0x1f8c+0x2*0x1b31)]=_0x59c816*(-0x16e1+0x2166+-0xa81)+(0x69*0x32+-0x3d1*0x7+0x636),_0x2f48a7[_0x59c816*(0xc06+0xe0e+-0x3a*0x73)+(0x22e+-0x1ae+-0x7e)]=_0x59c816*(-0x2492*0x1+0x1738+0x2*0x6af)+(0x3b0*-0x1+0x76*-0x2f+0x195c),_0x2f48a7[_0x59c816*(-0x19*-0x182+0x5*-0x3ea+-0x2*0x90d)+(-0x51a+-0x7b*0x49+-0x2*-0x1418)]=_0x59c816*(-0x29*0xc7+-0x1f58+0x3f3b*0x1),_0x2f48a7[_0x59c816*(-0x265a+0x1*0x698+0xc*0x2a6)+(-0x134+0x2228+0x2*-0x1078)]=_0x59c816*(-0x1*0xfc2+0x239e+0x8*-0x27b)+(0x10*0xb5+0x6d7*-0x1+-0x477),_0x2f48a7[_0x59c816*(-0x18b5+-0x6a1+-0x3*-0xa74)+(-0x25fa+0x4*0x43f+0x1503)]=_0x59c816*(0x20e9+-0xf05+-0x11e0)+(0x2668*-0x1+-0x1660+0x3ccb);this['device']=_0x6e8c96,this['buffer']=new os(_0x6e8c96,_0x46aff9,_0xab571f*(-0x1*-0xa04+-0x715*0x5+0x1969),{'usage':uy}),this['data']=new Float32Array(this['buffer']['numBytes']/(0xcb9*0x1+-0x22cd+0x1618)),this['indexBuffe'+'r']=new lr(_0x6e8c96,Pi,_0xab571f*(0x299*-0xd+-0x2287+0x6d5*0xa),jt,_0x2f48a7),this['prim']={'type':Ms,'indexed':!(0xf06+0x1*0xe36+0x1d3c*-0x1),'base':0x0,'count':0x0},this['quads']=0x42e+-0xcbc*-0x2+-0x1da6,this['mesh']=new Ie(_0x6e8c96),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][-0x2405+0x16c0+0xd45]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x2ffcf6=new Ra({'uniqueName':'MiniStats','vertexCode':sF,'fragmentCode':iF});this['material']=_0x2ffcf6,_0x2ffcf6['cull']=mt,_0x2ffcf6['depthState']=as['NODEPTH'],_0x2ffcf6['blendState']=new _t(!(0x2120+0x2*-0x6bc+-0x9d4*0x2),Lt,dc,uc,Lt,at,at),_0x2ffcf6['update'](),this['meshInstan'+'ce']=new Le(this['mesh'],_0x2ffcf6,new De('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(0x16dc+0x56c*-0x3+0x1*-0x694)},this['targetSize']={'width':_0x6e8c96['width'],'height':_0x6e8c96['height']};}['quad'](_0x9af90e,_0x58ec75,_0xeaacf3,_0x9cd674,_0x4cba84,_0x1e1870,_0x3d7050,_0x35b0c3,_0x50c960,_0x2261ca=-0xc1+-0x7*-0x1c1+-0xb86){const _0x33727d=this['targetSize']['width'],_0x4d4968=this['targetSize']['height'],_0x3c10f5=_0x9af90e/_0x33727d,_0x35d0c0=_0x58ec75/_0x4d4968,_0x2da02b=(_0x9af90e+_0xeaacf3)/_0x33727d,_0x5e2564=(_0x58ec75+_0x9cd674)/_0x4d4968,_0x4de2a8=_0x50c960['width'],_0xd8eb35=_0x50c960['height'],_0x44dd0a=_0x4cba84/_0x4de2a8,_0x5a260c=_0x1e1870/_0xd8eb35,_0x3b31dd=(_0x4cba84+(_0x3d7050??_0xeaacf3))/_0x4de2a8,_0xebf913=(_0x1e1870+(_0x35b0c3??_0x9cd674))/_0xd8eb35;this['data']['set']([_0x3c10f5,_0x35d0c0,_0x2261ca,_0x44dd0a,_0x5a260c,0x4f6+0x3be*0x3+-0x1030,-0xa*0x2c3+-0x5*0x24b+0x2715,_0x2da02b,_0x35d0c0,_0x2261ca,_0x3b31dd,_0x5a260c,-0x5f3*-0x2+-0x4a*-0xd+0xfa7*-0x1,0x66d+0x3*0xc19+-0x2*0x155c,_0x2da02b,_0x5e2564,_0x2261ca,_0x3b31dd,_0xebf913,-0xfdd+0xad8+0x506,0x4*0x34b+-0x76f*-0x1+-0x149a,_0x3c10f5,_0x5e2564,_0x2261ca,_0x44dd0a,_0xebf913,-0x1e82+-0x1bc9+0x3a4b,0x24b+-0x1ec9+-0x5b3*-0x5],(-0x478*0x2+-0x1*0x306+0x6*0x1ff)*(-0x256*-0x8+-0x1537+-0x1*-0x28e)*this['quads']),this['quads']++,this['prim']['count']+=-0x2067+-0x2cc*-0x3+0x1809;}['startFrame'](){this['quads']=0x117+0x2*-0x56b+0x9bf,this['prim']['count']=0x1d6+0xcd*-0x11+0xbc7*0x1,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x5b482a,_0x1b92d7,_0xa1e5bc,_0x411ad6,_0x38ac46,_0x398501){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x38ac46,0xbed+0x7db*-0x3+0xba4),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0xa1e5bc),this['material']['setParamet'+'er']('wordsTex',_0x411ad6),_0x5b482a['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x1b92d7);}}class Wx{constructor(_0x3a9bed,_0x3582dc){const _0x31c5fe=_0x3a9bed['graphicsDe'+'vice'];_0x3582dc=_0x3582dc||Wx['getDefault'+'Options'](),this['initGraphs'](_0x3a9bed,_0x31c5fe,_0x3582dc);const _0x470ad1=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x4b7cf1=>_0x4b7cf1['name']))['concat'](_0x3582dc['stats']?_0x3582dc['stats']['map'](_0x451681=>_0x451681['unitsName']):[])['filter'](_0x347f3d=>!!_0x347f3d));this['wordAtlas']=new tF(_0x31c5fe,_0x470ad1),this['sizes']=_0x3582dc['sizes'],this['_activeSiz'+'eIndex']=_0x3582dc['startSizeI'+'ndex'];const _0xc5abf7=document['createElem'+'ent']('div');_0xc5abf7['setAttribu'+'te']('id','mini-stats'),_0xc5abf7['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',document['body']['appendChil'+'d'](_0xc5abf7),_0xc5abf7['addEventLi'+'stener']('mouseenter',_0x1e0ef=>{this['opacity']=-0x502+-0x25*0x8b+-0x132*-0x15;}),_0xc5abf7['addEventLi'+'stener']('mouseleave',_0x30fab0=>{this['opacity']=0x20bc+0x3b*-0x86+-0x1da+0.7;}),_0xc5abf7['addEventLi'+'stener']('click',_0x3fdb3c=>{_0x3fdb3c['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(0x71*0x35+0x47f*-0x2+-0x26*0x61))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x31c5fe['on']('resizecanv'+'as',this['updateDiv'],this),_0x31c5fe['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x3a9bed['on']('postrender',this['postRender'],this),this['app']=_0x3a9bed,this['drawLayer']=_0x3a9bed['scene']['layers']['getLayerBy'+'Id'](tl),this['device']=_0x31c5fe,this['render2d']=new rF(_0x31c5fe),this['div']=_0xc5abf7,this['width']=-0x119b+0x49*0x1+0x1152,this['height']=0x1*-0x1352+-0x1f0f+0x3261,this['gspacing']=0x1*-0x21f1+-0xdca+0x2fbd,this['clr']=[-0x1403+-0x1408*0x1+0x280c,-0x253f+0x1837+0x47*0x2f,-0x45a+0xc2e+-0x7d3,0x11a0+0x59a+-0x173a+0.5],this['_enabled']=!(0x1ff9+-0x550+-0x1aa9),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x4a5f41=>_0x4a5f41['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(-0x997+0x4af*0x1+0x4e9)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(0x80e+-0x1927+0x1119)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(0x845*0x1+0xde2+-0x1627)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(0x12c5+0x1a*0x44+-0x19ad),'watermark':0x21},'gpu':{'enabled':!(0xbf3+-0xb6b+-0x88),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x204aa9){this['_activeSiz'+'eIndex']=_0x204aa9,this['gspacing']=this['sizes'][_0x204aa9]['spacing'],this['resize'](this['sizes'][_0x204aa9]['width'],this['sizes'][_0x204aa9]['height'],this['sizes'][_0x204aa9]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x5ec688){this['clr'][-0xf*0x4f+-0x6*0x3be+-0xcc*-0x22]=_0x5ec688;}get['opacity'](){return this['clr'][-0x25e4+0x1*-0x1424+0x673*0x9];}get['overallHei'+'ght'](){const _0x514465=this['graphs'],_0x5dec20=this['gspacing'];return this['height']*_0x514465['length']+_0x5dec20*(_0x514465['length']-(-0x1275+-0x7*-0x259+0x207));}set['enabled'](_0x405b4b){if(_0x405b4b!==this['_enabled']){this['_enabled']=_0x405b4b;for(let _0x35ba8f=0x71*-0x16+-0x2300+0x2cb6;_0x35ba8f<this['graphs']['length'];++_0x35ba8f)this['graphs'][_0x35ba8f]['enabled']=_0x405b4b,this['graphs'][_0x35ba8f]['timer']['enabled']=_0x405b4b;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x5b45b8,_0x3f50bf,_0x28c3b9){if(this['graphs']=[],_0x28c3b9['cpu']['enabled']){const _0x114b71=new QL(_0x5b45b8),_0x13fe18=new au('CPU',_0x5b45b8,_0x28c3b9['cpu']['watermark'],_0x28c3b9['textRefres'+'hRate'],_0x114b71);this['graphs']['push'](_0x13fe18);}if(_0x28c3b9['gpu']['enabled']){const _0x431e0a=new JL(_0x3f50bf),_0x59d90e=new au('GPU',_0x5b45b8,_0x28c3b9['gpu']['watermark'],_0x28c3b9['textRefres'+'hRate'],_0x431e0a);this['graphs']['push'](_0x59d90e);}_0x28c3b9['stats']&&_0x28c3b9['stats']['forEach'](_0x36f846=>{const _0x51c35c=new eF(_0x5b45b8,_0x36f846['stats'],_0x36f846['decimalPla'+'ces'],_0x36f846['unitsName'],_0x36f846['multiplier']),_0x336527=new au(_0x36f846['name'],_0x5b45b8,_0x36f846['watermark'],_0x28c3b9['textRefres'+'hRate'],_0x51c35c);this['graphs']['push'](_0x336527);});const _0x2d3930=_0x28c3b9['sizes']['reduce']((_0x16e15d,_0x49988b)=>_0x49988b['width']>_0x16e15d?_0x49988b['width']:_0x16e15d,0x145a+0x11aa+0x6*-0x656);this['texture']=new he(_0x3f50bf,{'name':'mini-stats'+'-graph-tex'+'ture','width':N['nextPowerO'+'fTwo'](_0x2d3930),'height':N['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(0x2403+0x8*-0x416+-0x352),'minFilter':de,'magFilter':de,'addressU':tt,'addressV':tt}),this['graphs']['forEach']((_0x43af0c,_0x96d30b)=>{_0x43af0c['texture']=this['texture'],_0x43af0c['yOffset']=_0x96d30b;});}['render'](){const _0x1753d9=this['graphs'],_0x375ebd=this['wordAtlas'],_0x3af5eb=this['render2d'],_0x34bc92=this['width'],_0x299eab=this['height'],_0x292de5=this['gspacing'];_0x3af5eb['startFrame']();for(let _0x460546=0x1729+0x110*-0x22+-0xcf7*-0x1;_0x460546<_0x1753d9['length'];++_0x460546){const _0x29fa51=_0x1753d9[_0x460546];let _0x562f30=_0x460546*(_0x299eab+_0x292de5);_0x29fa51['render'](_0x3af5eb,0x18e2+0x219c+-0x3a7e,_0x562f30,_0x34bc92,_0x299eab);let _0x1a0ade=-0x1*-0x2144+0x1772+0x38b5*-0x1;_0x562f30+=_0x299eab-(0x6d3*-0x5+0xa14+0x1818),_0x1a0ade+=_0x375ebd['render'](_0x3af5eb,_0x29fa51['name'],_0x1a0ade,_0x562f30)+(0x256e+-0xe*-0x10f+-0x3436);const _0x2553ef=_0x29fa51['timingText'];for(let _0x4a6948=0xde0+0x59f*-0x2+0x1*-0x2a2;_0x4a6948<_0x2553ef['length'];++_0x4a6948)_0x1a0ade+=_0x375ebd['render'](_0x3af5eb,_0x2553ef[_0x4a6948],_0x1a0ade,_0x562f30);_0x29fa51['timer']['unitsName']&&(_0x1a0ade+=0x2f*0x2b+0xcb7+-0x1499,_0x375ebd['render'](_0x3af5eb,_0x29fa51['timer']['unitsName'],_0x1a0ade,_0x562f30));}_0x3af5eb['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x299eab);}['resize'](_0x337085,_0x5667a9,_0x569bb5){const _0x4f718b=this['graphs'];for(let _0x11d109=-0x9f+-0x4*-0x66b+0x247*-0xb;_0x11d109<_0x4f718b['length'];++_0x11d109)_0x4f718b[_0x11d109]['enabled']=_0x569bb5;this['width']=_0x337085,this['height']=_0x5667a9,this['updateDiv']();}['updateDiv'](){const _0x5145f0=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x5145f0['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x5145f0['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px';}['loseContex'+'t'](){this['graphs']['forEach'](_0x3289e1=>_0x3289e1['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}class pF extends Ht{constructor(){super(...arguments),c(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),c(this,'controller'+'s',new Map()),c(this,'preEntitie'+'s',new Map());}['initialize'](){if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation');return;}this['app']['xr']['input']['on']('add',async _0x1abfba=>{var _0x225319;if(!((_0x225319=_0x1abfba['profiles'])!=null&&_0x225319['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x13d3c2=_0x1abfba['profiles']['map'](async _0x574c4b=>{var _0x190870;const _0x1210fd=this['basePath']+'/'+_0x574c4b+('/profile.j'+'son');try{const _0x168269=await fetch(_0x1210fd);if(!_0x168269['ok'])return null;const _0x3c2dfe=await _0x168269['json'](),_0x1bd395=((_0x190870=_0x3c2dfe['layouts'][_0x1abfba['handedness']])==null?void(0x1c9c+0x2136+-0x3dd2):_0x190870['assetPath'])||'',_0x23de89=this['basePath']+'/'+_0x3c2dfe['profileId']+'/'+_0x1abfba['handedness']+_0x1bd395['replace'](/^\/?(left|right)/,''),_0x36d5f4=await new Promise((_0x388c5c,_0x3cab43)=>{this['app']['assets']['loadFromUr'+'l'](_0x23de89,'container',(_0x2007e2,_0x1410b6)=>{_0x2007e2?_0x3cab43(_0x2007e2):_0x388c5c(_0x1410b6);});});return{'profileId':_0x574c4b,'asset':_0x36d5f4};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x574c4b),null;}}),_0x192011=(await Promise['all'](_0x13d3c2))['find'](_0xb22ae3=>_0xb22ae3!==null);if(_0x192011){const {asset:_0x5604ee}=_0x192011,_0x5b7dee=_0x5604ee['resource']['instantiat'+'eRenderEnt'+'ity']();this['app']['root']['addChild'](_0x5b7dee),this['preEntitie'+'s']['set'](_0x1abfba,_0x5b7dee);const _0x48cd5f=new Map();if(_0x1abfba['hand'])for(const _0x42c5c3 of _0x1abfba['hand']['joints']){const _0x58efec=_0x5b7dee['findByName'](_0x42c5c3['id']);_0x58efec&&_0x48cd5f['set'](_0x42c5c3,_0x58efec);}this['controller'+'s']['set'](_0x1abfba,{'entity':_0x5b7dee,'jointMap':_0x48cd5f});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['app']['xr']['input']['on']('remove',_0x5d8bce=>{var _0x47d6c1;const _0x3563b1=this['controller'+'s']['get'](_0x5d8bce);this['app']['root']['removeChil'+'d'](_0x3563b1==null?void(0x266*-0xa+-0x7*-0x313+0x277*0x1):_0x3563b1['entity']),this['preEntitie'+'s']['delete'](_0x5d8bce),_0x3563b1&&((_0x47d6c1=_0x3563b1['entity'])==null||_0x47d6c1['destroy'](),this['controller'+'s']['delete'](_0x5d8bce));}),this['app']['xr']['input']['on']('destroy',this['destroy']);}['destroy'](){var _0x22bff1,_0x55d229,_0x4494bb;(_0x22bff1=this['controller'+'s'])==null||_0x22bff1['forEach'](_0x5c51ef=>{var _0x5a49f8;this['app']['root']['removeChil'+'d'](_0x5c51ef==null?void(0x5*-0x58f+0x4d4*0x2+0x1223):_0x5c51ef['entity']),(_0x5a49f8=_0x5c51ef['entity'])==null||_0x5a49f8['destroy']();}),(_0x55d229=this['controller'+'s'])==null||_0x55d229['clear'](),(_0x4494bb=this['preEntitie'+'s'])==null||_0x4494bb['forEach'](_0x36f3cb=>{this['app']['root']['removeChil'+'d'](_0x36f3cb),_0x36f3cb==null||_0x36f3cb['destroy']();});}['update'](_0x1ae62b){var _0x29d8ab;if((_0x29d8ab=this['app']['xr'])!=null&&_0x29d8ab['active']){for(const [_0x3e49e6,{entity:_0xa2f88c,jointMap:_0x104cdf}]of this['controller'+'s'])if(_0x3e49e6['hand']){for(const [_0x413212,_0x35f939]of _0x104cdf)_0x35f939['setPositio'+'n'](_0x413212['getPositio'+'n']()),_0x35f939['setRotatio'+'n'](_0x413212['getRotatio'+'n']());}else _0xa2f88c['setPositio'+'n'](_0x3e49e6['getPositio'+'n']()),_0xa2f88c['setRotatio'+'n'](_0x3e49e6['getRotatio'+'n']());}}}export{dF as A,_e as B,Y as C,pF as D,We as E,$1 as F,hh as G,ex as H,Wx as I,ce as J,Fm as K,vp as L,bl as M,X as N,uF as P,se as Q,G_ as R,Dt as S,f0 as T,T as V,ay as W,GL as X,Q as a,AL as b,W as c,le as d,sl as e,ua as f,Gs as g,Ap as h,aF as i,oF as j,lF as k,hF as l,cF as m,Nh as n,Bh as o,zh as p,Iu as q,lh as r,Hr as s,Wr as t,Ts as u,cs as v,SI as w,$n as x,M0 as y,q as z};function _0x5d9df5(_0x5206c2){function _0x5d3ac9(_0x17621a){if(typeof _0x17621a==='string')return function(_0x290433){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x17621a/_0x17621a)['length']!==0x1*0x376+-0x777+0x1b*0x26||_0x17621a%(-0x6*-0x464+0x195a+0x2*-0x19cf)===0x2519+-0xd*-0x2+-0x2533?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x5d3ac9(++_0x17621a);}try{if(_0x5206c2)return _0x5d3ac9;else _0x5d3ac9(-0x2333+-0x3fd*-0x7+-0x748*-0x1);}catch(_0x2b4057){}}
