const _0x10f335=(function(){let _0x8fef53=!![];return function(_0x5c589f,_0xd6cd1a){const _0xf224e0=_0x8fef53?function(){if(_0xd6cd1a){const _0x91e1bd=_0xd6cd1a['apply'](_0x5c589f,arguments);return _0xd6cd1a=null,_0x91e1bd;}}:function(){};return _0x8fef53=![],_0xf224e0;};}()),_0x286467=_0x10f335(this,function(){return _0x286467['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x286467)['search']('(((.+)+)+)'+'+$');});_0x286467();const _0x498327=(function(){let _0x4380d3=!![];return function(_0x48a2ea,_0xbe25dd){const _0x5a367f=_0x4380d3?function(){if(_0xbe25dd){const _0x2527c4=_0xbe25dd['apply'](_0x48a2ea,arguments);return _0xbe25dd=null,_0x2527c4;}}:function(){};return _0x4380d3=![],_0x5a367f;};}());(function(){_0x498327(this,function(){const _0x30d8c3=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x4a2d7b=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x5f51e6=_0x13baa8('init');!_0x30d8c3['test'](_0x5f51e6+'chain')||!_0x4a2d7b['test'](_0x5f51e6+'input')?_0x5f51e6('0'):_0x13baa8();})();}());const _0x43ce8e=(function(){let _0x243d95=!![];return function(_0x284e6b,_0x5d4a17){const _0x1cd43a=_0x243d95?function(){if(_0x5d4a17){const _0x5c5891=_0x5d4a17['apply'](_0x284e6b,arguments);return _0x5d4a17=null,_0x5c5891;}}:function(){};return _0x243d95=![],_0x1cd43a;};}()),_0x496d4a=_0x43ce8e(this,function(){const _0x38274a=function(){let _0x27dbcf;try{_0x27dbcf=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x180d62){_0x27dbcf=window;}return _0x27dbcf;},_0x3c9e71=_0x38274a(),_0x2487ae=_0x3c9e71['console']=_0x3c9e71['console']||{},_0x1736d0=['log','warn','info','error','exception','table','trace'];for(let _0x56533b=0x192*0x8+0xf1b+-0x1bab*0x1;_0x56533b<_0x1736d0['length'];_0x56533b++){const _0x4f484e=_0x43ce8e['constructo'+'r']['prototype']['bind'](_0x43ce8e),_0x3d9198=_0x1736d0[_0x56533b],_0x2c666c=_0x2487ae[_0x3d9198]||_0x4f484e;_0x4f484e['__proto__']=_0x43ce8e['bind'](_0x43ce8e),_0x4f484e['toString']=_0x2c666c['toString']['bind'](_0x2c666c),_0x2487ae[_0x3d9198]=_0x4f484e;}});_0x496d4a();var qx=Object['defineProp'+'erty'],Xx=(_0xd5f11d,_0x55b95c,_0x408b49)=>_0x55b95c in _0xd5f11d?qx(_0xd5f11d,_0x55b95c,{'enumerable':!(0x3*0x841+0xd8*-0x8+-0x9f*0x1d),'configurable':!(0xabd*-0x1+-0x1*0x125e+0x1d1b),'writable':!(0x1e7+0x14eb+-0x16d2),'value':_0x408b49}):_0xd5f11d[_0x55b95c]=_0x408b49,c=(_0x1df9b,_0x3ee19d,_0x19e106)=>Xx(_0x1df9b,typeof _0x3ee19d!='symbol'?_0x3ee19d+'':_0x3ee19d,_0x19e106);const jx='RenderFram'+'e',td='RenderFram'+'eTime',jp='RenderPass',Jn='RenderPass'+'Detail',pl='RenderActi'+'on',Yp='RenderTarg'+'etAlloc',Kp='TextureAll'+'oc',Zp='ShaderAllo'+'c',Yx='ShaderComp'+'ile',Kx='VRAM.Textu'+'re',Zx='VRAM.Vb',Qx='VRAM.Ib',Jx='BindGroupA'+'lloc',eS='BindGroupF'+'ormatAlloc',Ss='Element',tS='Textures',ml='GpuTimings',no='$_CURRENT_'+'SDK_VERSIO'+'N',sy='$_CURRENT_'+'SDK_REVISI'+'ON';function vh(_0x1042ed,_0x8a1345){for(const _0x292960 in _0x8a1345){const _0x1facbb=_0x8a1345[_0x292960];Array['isArray'](_0x1facbb)?_0x1042ed[_0x292960]=vh([],_0x1facbb):_0x1facbb&&typeof _0x1facbb=='object'?_0x1042ed[_0x292960]=vh({},_0x1facbb):_0x1042ed[_0x292960]=_0x1facbb;}return _0x1042ed;}const sS={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x18a88c=>{const _0x2563c2=Math['random']()*(-0x15bd+0x13c8+0xb*0x2f)|-0x17a7*0x1+0x2033+0x88c*-0x1;return(_0x18a88c==='x'?_0x2563c2:_0x2563c2&-0x58*-0x71+0x2c*-0x2f+-0x1*0x1ec1|0x1f86+0xadb+-0x25*0x125)['toString'](-0x1*-0xef+0x1*-0x10f1+-0x176*-0xb);});}},fe={'delimiter':'/','join'(..._0x34bd56){let _0x441d84=_0x34bd56[-0x1fe+-0x1*-0x21ba+-0x1fbc];for(let _0x3af43d=0x2*0x6ae+-0x1fe+0x5af*-0x2;_0x3af43d<_0x34bd56['length']-(0x11b*0x5+-0x217*0x2+0x2b*-0x8);_0x3af43d++){const _0x2461c2=_0x34bd56[_0x3af43d],_0xf8528b=_0x34bd56[_0x3af43d+(-0x3*0xcf+-0x139d*-0x1+0x1*-0x112f)];if(_0xf8528b[-0xd3*0x28+0x23d7+-0x2df*0x1]===fe['delimiter']){_0x441d84=_0xf8528b;continue;}_0x2461c2&&_0xf8528b&&_0x2461c2[_0x2461c2['length']-(-0x1b83+-0x80c*-0x1+0x1*0x1378)]!==fe['delimiter']&&_0xf8528b[0x119*-0xa+-0x1897+0x2391]!==fe['delimiter']?_0x441d84+=fe['delimiter']+_0xf8528b:_0x441d84+=_0xf8528b;}return _0x441d84;},'normalize'(_0x4a04de){const _0x472aa3=_0x4a04de['startsWith'](fe['delimiter']),_0x30a9f4=_0x4a04de['endsWith'](fe['delimiter']),_0xd87b5=_0x4a04de['split']('/');let _0x49bc03='',_0x304cb4=[];for(let _0x91a69=0x157f+-0x24e7+0xf68;_0x91a69<_0xd87b5['length'];_0x91a69++)if(_0xd87b5[_0x91a69]!==''&&_0xd87b5[_0x91a69]!=='.'){if(_0xd87b5[_0x91a69]==='..'&&_0x304cb4['length']>0x1aca+-0xa6*-0x1f+-0x2ee4){_0x304cb4=_0x304cb4['slice'](-0xc45+-0x92b+0x1570,_0x304cb4['length']-(-0x19c*-0x13+-0x2674+-0x7e2*-0x1));continue;}_0x91a69>-0x2103+0x11d6+0xf2d*0x1&&_0x304cb4['push'](fe['delimiter']),_0x304cb4['push'](_0xd87b5[_0x91a69]);}return _0x49bc03=_0x304cb4['join'](''),!_0x472aa3&&_0x49bc03[-0x1e0d+-0x7de+0x25eb]===fe['delimiter']&&(_0x49bc03=_0x49bc03['slice'](-0x29*0xb2+-0x215+0x1e98)),_0x30a9f4&&_0x49bc03[_0x49bc03['length']-(-0x2276+0x2507+-0x290)]!==fe['delimiter']&&(_0x49bc03+=fe['delimiter']),_0x49bc03;},'split'(_0x137e27){const _0x59f48d=_0x137e27['lastIndexO'+'f'](fe['delimiter']);return _0x59f48d!==-(-0x5*0x683+0x12*-0xfa+0x3224*0x1)?[_0x137e27['substring'](0x43*-0x95+0x12d7+-0x2*-0xa14,_0x59f48d),_0x137e27['substring'](_0x59f48d+(-0xc19*-0x1+0x5*0x481+-0x229d*0x1))]:['',_0x137e27];},'getBasename'(_0x2a84f3){return fe['split'](_0x2a84f3)[0x1ef1+0x78f+0x2d*-0xdb];},'getDirectory'(_0x51df0f){return fe['split'](_0x51df0f)[-0x70+-0x1976*0x1+0x19e6];},'getExtension'(_0x5c7667){const _0x38b08e=_0x5c7667['split']('?')[0x1*-0x1b22+0x8c3+0x125f]['split']('.')['pop']();return _0x38b08e!==_0x5c7667?'.'+_0x38b08e:'';},'isRelativePath'(_0xad0459){return _0xad0459['charAt'](0x1*0xa84+-0x1266+0x7e2)!=='/'&&_0xad0459['match'](/:\/\//)===null;},'extractPath'(_0xc3e8d9){let _0x81e079='';const _0x92a205=_0xc3e8d9['split']('/');let _0x264e5f=-0x19ad+-0x4*0x314+0x1*0x25fd;if(_0x92a205['length']>0x1dca+0x2380+-0x4149){if(fe['isRelative'+'Path'](_0xc3e8d9)){if(_0x92a205[-0x7*0x53+-0xd*0xb+0x2d4*0x1]==='.'){for(_0x264e5f=-0x195f+-0x1e6a+-0x1*-0x37c9;_0x264e5f<_0x92a205['length']-(0xe23+0xda9+-0x58f*0x5);++_0x264e5f)_0x81e079+=_0x264e5f===0xe*-0xa7+-0xaa1+-0x1*-0x13c3?_0x92a205[_0x264e5f]:'/'+_0x92a205[_0x264e5f];}else{if(_0x92a205[0x2231+0xad*0x1f+0x2*-0x1b92]==='..'){for(_0x264e5f=0x2*-0xd16+-0x21d6+0x3c02;_0x264e5f<_0x92a205['length']-(-0xd*0x32+-0x1989+0x1c14);++_0x264e5f)_0x81e079+=_0x264e5f===0x1*0x1f0c+0x1*0x8f8+0x1*-0x2804?_0x92a205[_0x264e5f]:'/'+_0x92a205[_0x264e5f];}else{for(_0x81e079='.',_0x264e5f=0x1d5c+0x1115*-0x1+-0xc47;_0x264e5f<_0x92a205['length']-(-0x548+-0x7fe+-0x46d*-0x3);++_0x264e5f)_0x81e079+='/'+_0x92a205[_0x264e5f];}}}else{for(_0x264e5f=-0xd54+-0x10b*0x1f+-0x1*-0x2da9;_0x264e5f<_0x92a205['length']-(-0x1*-0x1209+-0x1*0x18e1+0x6d9);++_0x264e5f)_0x81e079+=_0x264e5f===-0x4cc*-0x7+0x1ff+-0x2393*0x1?_0x92a205[_0x264e5f]:'/'+_0x92a205[_0x264e5f];}}return _0x81e079;}},iS=()=>{let _0x11afad=!(0xc9f*-0x2+-0x5d9+0x1f18*0x1);try{const _0x4b5f5a=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x11afad=!(0x470+-0x16ff+0x128f*0x1),!(-0xb*-0x1cb+0xcec+0x829*-0x4);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x4b5f5a),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x4b5f5a);}catch{}return _0x11afad;},xi=typeof navigator<'u'?navigator['userAgent']:'',bh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Qp=/android/i['test'](xi)?'android':/ip(?:[ao]d|hone)/i['test'](xi)?'ios':/windows/i['test'](xi)?'windows':/mac os/i['test'](xi)?'osx':/linux/i['test'](xi)?'linux':/cros/i['test'](xi)?'cros':null,rS=bh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](xi)?'chrome':/Safari\//['test'](xi)?'safari':/Firefox\//['test'](xi)?'firefox':'other',nS=bh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>0xb*-0x26e+0x2*0xd09+0x8*0x15),aS=iS(),ye={'name':Qp,'browser':bh==='browser','worker':bh==='worker','android':Qp==='android','touch':nS,'passiveEvents':aS,'browserName':rS},iy='abcdefghij'+'klmnopqrst'+'uvwxyz',ry='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',oS=iy+ry,ou=0x2*-0xc0f0+-0x4a0f*-0x1+0xc7*0x2a7,ny=-0xcff+-0x1178f+0x2008d*0x1,Jp=-0x1*0x16c23+0xc917+0x17f0c,lS=-0x1*-0x1014e+0xdf85*0x2+-0x1e059,hS=-0x1977+0x7e7*0x1+-0x1*-0x319d,em=0x13ec6+-0x3c737*-0x1+0x31417*-0x1,tm=0x1ab98+-0x10e4c+0x154b3,cS=0x1*-0x244b5+-0x13758+0x57008,dS=0x9d*0x3c7+0xdfbc+-0x13cc8,uS=-0x1d0a+0x71c+0x36be,fS=-0x863+-0x3*0x323+0x32cb,lu=-0x14ef2+0xc00+0x12079*0x2,hu=-0x8b12+-0x2e6b+-0x4*-0x6de3;function cu(_0x1d741c,_0x3ef360=-0xf2e*0x1+-0x49*-0x19+0x80d){const _0x552978=_0x1d741c['length'];if(_0x3ef360<-0x1ea+0x1deb+-0x1c01||_0x3ef360>=_0x552978)return null;const _0x4ac196=_0x1d741c['charCodeAt'](_0x3ef360);if(_0x552978>0x4cf+-0x1ba0+0x16d2&&_0x4ac196>=ou&&_0x4ac196<=ny){const _0x5adf36=_0x1d741c['charCodeAt'](_0x3ef360+(0x1526*0x1+-0x5ba+-0xf6b*0x1));if(_0x5adf36>=Jp&&_0x5adf36<=lS)return{'code':(_0x4ac196-ou)*(-0xf6*0x16+0x26dc+-0xdb8)+_0x5adf36-Jp+(-0x8*-0x3f3b+-0x9f1f*-0x1+0x1*-0x198f7),'long':!(0x1*0x6ad+-0x5b6+0xf7*-0x1)};}return{'code':_0x4ac196,'long':!(0x4ee*0x3+-0x25da+0x1711)};}function Xi(_0x48622a,_0x5d53f8,_0x137748){if(!_0x48622a)return!(-0x10d3+-0x11b1+0x2285*0x1);const _0xd8be31=cu(_0x48622a);if(_0xd8be31){const _0x9bd48f=_0xd8be31['code'];return _0x9bd48f>=_0x5d53f8&&_0x9bd48f<=_0x137748;}return!(0x7a2+0x1a72+0x29f*-0xd);}function pS(_0x22da0d,_0x2dd0d5){if(_0x2dd0d5===_0x22da0d['length']-(0x175+-0x558+0x3e4))return-0x4a+-0x1*-0x1dd7+-0x1d8c;if(Xi(_0x22da0d[_0x2dd0d5],ou,ny)){const _0x41f464=_0x22da0d['substring'](_0x2dd0d5,_0x2dd0d5+(-0x7bf*0x3+0x7ac+0xf93)),_0x484489=_0x22da0d['substring'](_0x2dd0d5+(-0x1ff8+0x2649+0x11*-0x5f),_0x2dd0d5+(0xe8*0x2+-0x1e1*0x7+0xb5b));return Xi(_0x484489,cS,dS)||Xi(_0x41f464,em,tm)&&Xi(_0x484489,em,tm)?-0x6d8+0x7*0xe2+-0x1d*-0x6:Xi(_0x484489,lu,hu)?0x6b6*-0x5+0xb3*0x2f+0xb4:0x37*0x20+0x1988+0x11e*-0x1d;}return Xi(_0x22da0d[_0x2dd0d5+(-0x30b+0x472+0x1*-0x166)],lu,hu)?-0x813+0x121e+-0xa09:-0x1936+0x8a8+0x108f;}const ah={'ASCII_LOWERCASE':iy,'ASCII_UPPERCASE':ry,'ASCII_LETTERS':oS,'format'(_0x45dc96,..._0x4261bf){for(let _0x4e441e=-0x1a1*-0x9+-0x1e19+0xf70;_0x4e441e<_0x4261bf['length'];_0x4e441e++)_0x45dc96=_0x45dc96['replace']('{'+_0x4e441e+'}',_0x4261bf[_0x4e441e]);return _0x45dc96;},'getCodePoint'(_0x1d8623,_0x1220e2){const _0x49f87c=cu(_0x1d8623,_0x1220e2);return _0x49f87c&&_0x49f87c['code'];},'getCodePoints'(_0x479897){if(typeof _0x479897!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x1a3a57=0x1fbb*-0x1+0x97*0x41+-0x69c;const _0x2b0472=[];let _0x592065;for(;_0x592065=cu(_0x479897,_0x1a3a57);)_0x2b0472['push'](_0x592065['code']),_0x1a3a57+=_0x592065['long']?-0x15c3+0xb0*0xc+0xd85*0x1:-0x1419+0x2682+0x2*-0x934;return _0x2b0472;},'getSymbols'(_0x26f6ef){if(typeof _0x26f6ef!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x1e4e1e=-0x1*0xdfd+0x1b14*0x1+-0xd17;const _0x2de82f=_0x26f6ef['length'],_0x2c9d8e=[];let _0x251792=0x1820+0x2304+-0x3b24,_0x3f04f8;for(;_0x1e4e1e<_0x2de82f;){if(_0x251792+=pS(_0x26f6ef,_0x1e4e1e+_0x251792),_0x3f04f8=_0x26f6ef[_0x1e4e1e+_0x251792],Xi(_0x3f04f8,uS,fS)&&(_0x3f04f8=_0x26f6ef[_0x1e4e1e+_0x251792++]),Xi(_0x3f04f8,lu,hu)&&(_0x3f04f8=_0x26f6ef[_0x1e4e1e+_0x251792++]),_0x3f04f8&&_0x3f04f8['charCodeAt'](0x10*-0xe8+-0x24e3+-0xf*-0x36d)===hS){_0x3f04f8=_0x26f6ef[_0x1e4e1e+_0x251792++];continue;}const _0x493169=_0x26f6ef['substring'](_0x1e4e1e,_0x1e4e1e+_0x251792);_0x2c9d8e['push'](_0x493169),_0x1e4e1e+=_0x251792,_0x251792=0x1eee+0x1b43+0x3a31*-0x1;}return _0x2c9d8e;},'fromCodePoint'(){const _0xdedce9=[];let _0x55ac24,_0x568206,_0x46afce;for(let _0x19af1f=0x16e2+-0x10b*0xb+-0xb69;_0x19af1f<arguments['length'];++_0x19af1f)_0x55ac24=Number(arguments[_0x19af1f]),_0x568206=_0x55ac24-(0x14d84+0xd28c+-0x12010),_0x46afce=_0x55ac24>-0x15*0xc5e+0x15721+0xac94?[(_0x568206>>-0x1189+0x669*-0x2+-0x1f*-0xfb)+(0x1*0xc414+-0x3*0x2c3+0x3*0x967),_0x568206%(-0x2*-0x43+-0x109+-0x69*-0xb)+(-0x1531b*0x1+0x1f88+0x20f93)]:[_0x55ac24],_0xdedce9['push'](String['fromCharCo'+'de']['apply'](null,_0x46afce));return _0xdedce9['join']('');}},zr=class zr{static['set'](_0x5a8474,_0x19c021=!(0x8f7+-0xdb+0x1*-0x81c)){_0x19c021?zr['_traceChan'+'nels']['add'](_0x5a8474):zr['_traceChan'+'nels']['delete'](_0x5a8474);}static['get'](_0xd99e36){return zr['_traceChan'+'nels']['has'](_0xd99e36);}};c(zr,'_traceChan'+'nels',new Set()),c(zr,'stack',!(0x951+0x1209+-0x1b59));let Xs=zr;const bt=class bt{static['deprecated'](_0x5869e9){bt['_loggedMes'+'sages']['has'](_0x5869e9)||(bt['_loggedMes'+'sages']['add'](_0x5869e9),console['warn']('DEPRECATED'+':\x20'+_0x5869e9));}static['removed'](_0x5d7bfd){bt['_loggedMes'+'sages']['has'](_0x5d7bfd)||(bt['_loggedMes'+'sages']['add'](_0x5d7bfd),console['error']('REMOVED:\x20'+_0x5d7bfd));}static['assertDepr'+'ecated'](_0x4601dd,_0x12c529){_0x4601dd||bt['deprecated'](_0x12c529);}static['assert'](_0x5d080f,..._0x8e2e6c){_0x5d080f||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x8e2e6c);}static['assertDest'+'royed'](_0x58fe86){var _0x5a1f32;if(_0x58fe86!=null&&_0x58fe86['__alreadyD'+'estroyed']){const _0x49b394='['+((_0x5a1f32=_0x58fe86['constructo'+'r'])==null?void(0xba0+0x2185+-0xd*0x379):_0x5a1f32['name'])+(']\x20with\x20nam'+'e\x20[')+_0x58fe86['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');bt['_loggedMes'+'sages']['has'](_0x49b394)||(bt['_loggedMes'+'sages']['add'](_0x49b394),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x49b394,_0x58fe86));}}static['call'](_0x48ed57){_0x48ed57();}static['log'](..._0x59faa3){console['log'](..._0x59faa3);}static['logOnce'](_0x3013b7,..._0x3affa5){bt['_loggedMes'+'sages']['has'](_0x3013b7)||(bt['_loggedMes'+'sages']['add'](_0x3013b7),console['log'](_0x3013b7,..._0x3affa5));}static['warn'](..._0x84db1){console['warn'](..._0x84db1);}static['warnOnce'](_0x40ecd7,..._0x125430){bt['_loggedMes'+'sages']['has'](_0x40ecd7)||(bt['_loggedMes'+'sages']['add'](_0x40ecd7),console['warn'](_0x40ecd7,..._0x125430));}static['error'](..._0x5e4a1e){console['error'](..._0x5e4a1e);}static['errorOnce'](_0x6562db,..._0x32bccf){bt['_loggedMes'+'sages']['has'](_0x6562db)||(bt['_loggedMes'+'sages']['add'](_0x6562db),console['error'](_0x6562db,..._0x32bccf));}static['trace'](_0x4f8d92,..._0x39f227){Xs['get'](_0x4f8d92)&&(console['groupColla'+'psed'](_0x4f8d92['padEnd'](0xe91+0x2527+-0xa54*0x5,'\x20')+'|',..._0x39f227),console['groupEnd']());}};c(bt,'_loggedMes'+'sages',new Set());let v=bt;class mn{static['setName'](_0x382b97,_0x28140c){_0x382b97&&(_0x382b97['name']=_0x28140c);}static['setLabel'](_0x568316,_0x4a403a){_0x568316&&(_0x568316['label']=_0x4a403a);}static['setDestroy'+'ed'](_0x404d70){_0x404d70&&(_0x404d70['__alreadyD'+'estroyed']=!(-0x1*-0x21f5+-0x152b*0x1+0x1*-0xcca));}}class mS{constructor(_0x41317a,_0x3ea308,_0x1d737f,_0x581a38,_0x10179e=!(-0x53*0xd+-0x11*-0x215+0x15b*-0x17)){c(this,'handler'),c(this,'name'),c(this,'callback'),c(this,'scope'),c(this,'_once'),c(this,'_removed',!(0x25ac*0x1+0x1c8a+0x1*-0x4235)),(this['handler']=_0x41317a,this['name']=_0x3ea308,this['callback']=_0x1d737f,this['scope']=_0x581a38,this['_once']=_0x10179e);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x574948,_0x4c1373,_0x296845=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x574948,_0x4c1373,_0x296845,!(0xa12+-0x1*-0x2686+-0x1*0x3097));}['once'](_0x19a3fd,_0x139585,_0xee071e=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x19a3fd,_0x139585,_0xee071e,!(0x1*0x1fe9+0x17d7+-0x37c0));}set['removed'](_0x376c36){_0x376c36&&(this['_removed']=!(-0x51*0x37+-0x1005+0x216c));}get['removed'](){return this['_removed'];}}class ce{constructor(){c(this,'_callbacks',new Map()),c(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x4d35aa,_0x1d7a1b,_0x175ccb,_0x3fc7bc){if((!_0x4d35aa||typeof _0x4d35aa!='string'||!_0x1d7a1b)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x4d35aa+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x1d7a1b),this['_callbacks']['has'](_0x4d35aa)||this['_callbacks']['set'](_0x4d35aa,[]),this['_callbackA'+'ctive']['has'](_0x4d35aa)){const _0x3ecd1b=this['_callbackA'+'ctive']['get'](_0x4d35aa);_0x3ecd1b&&_0x3ecd1b===this['_callbacks']['get'](_0x4d35aa)&&this['_callbackA'+'ctive']['set'](_0x4d35aa,_0x3ecd1b['slice']());}const _0x2fc864=new mS(this,_0x4d35aa,_0x1d7a1b,_0x175ccb,_0x3fc7bc);return this['_callbacks']['get'](_0x4d35aa)['push'](_0x2fc864),_0x2fc864;}['on'](_0xf920be,_0x35eeac,_0x2228a5=this){return this['_addCallba'+'ck'](_0xf920be,_0x35eeac,_0x2228a5,!(0x4*-0xf0+0x1292+-0xed1*0x1));}['once'](_0x146301,_0xe1d653,_0x348504=this){return this['_addCallba'+'ck'](_0x146301,_0xe1d653,_0x348504,!(-0xaca+0x1557+0x1*-0xa8d));}['off'](_0x3dfa74,_0xb0fe07,_0x21a32a){if(_0x3dfa74)this['_callbackA'+'ctive']['has'](_0x3dfa74)&&this['_callbackA'+'ctive']['get'](_0x3dfa74)===this['_callbacks']['get'](_0x3dfa74)&&this['_callbackA'+'ctive']['set'](_0x3dfa74,this['_callbackA'+'ctive']['get'](_0x3dfa74)['slice']());else{for(const [_0x3e0ee2,_0x132320]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x3e0ee2)&&this['_callbacks']['get'](_0x3e0ee2)===_0x132320&&this['_callbackA'+'ctive']['set'](_0x3e0ee2,_0x132320['slice']());}if(_0x3dfa74){if(_0xb0fe07){const _0x96b404=this['_callbacks']['get'](_0x3dfa74);if(!_0x96b404)return this;for(let _0x12efd2=-0x101*-0x14+0xb27+-0x29*0xc3;_0x12efd2<_0x96b404['length'];_0x12efd2++)_0x96b404[_0x12efd2]['callback']===_0xb0fe07&&(_0x21a32a&&_0x96b404[_0x12efd2]['scope']!==_0x21a32a||(_0x96b404[_0x12efd2]['removed']=!(0xc64+-0x33b+-0x5*0x1d5),_0x96b404['splice'](_0x12efd2,0x2057+-0x1186*0x1+-0xc*0x13c),_0x12efd2--));_0x96b404['length']===0x13a3+-0x1caa+-0x1*-0x907&&this['_callbacks']['delete'](_0x3dfa74);}else{const _0x4aa426=this['_callbacks']['get'](_0x3dfa74);if(_0x4aa426){for(let _0x171db4=0x25ce+-0xaa0+-0x1b2e;_0x171db4<_0x4aa426['length'];_0x171db4++)_0x4aa426[_0x171db4]['removed']=!(-0x616+-0x3d*0x5b+-0x1bc5*-0x1);this['_callbacks']['delete'](_0x3dfa74);}}}else{for(const _0x299c7f of this['_callbacks']['values']())for(let _0x6134e0=0x4*0x925+-0xe2a+-0x166a;_0x6134e0<_0x299c7f['length'];_0x6134e0++)_0x299c7f[_0x6134e0]['removed']=!(-0xe53+0x18a2+0x1d*-0x5b);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x5eedc7){const _0x3c8e78=_0x5eedc7['name'];_0x5eedc7['removed']=!(0x8d4+-0xb5+-0x63*0x15),this['_callbackA'+'ctive']['has'](_0x3c8e78)&&this['_callbackA'+'ctive']['get'](_0x3c8e78)===this['_callbacks']['get'](_0x3c8e78)&&this['_callbackA'+'ctive']['set'](_0x3c8e78,this['_callbackA'+'ctive']['get'](_0x3c8e78)['slice']());const _0x3b4191=this['_callbacks']['get'](_0x3c8e78);if(!_0x3b4191)return this;const _0x4c9706=_0x3b4191['indexOf'](_0x5eedc7);return _0x4c9706!==-(0x8df*-0x4+0x35*0x17+0x1eba)&&(_0x3b4191['splice'](_0x4c9706,-0x1830+0x2f6*-0xb+-0x1*-0x38c3),_0x3b4191['length']===0x355*0x1+-0x1*0xaae+-0x13*-0x63&&this['_callbacks']['delete'](_0x3c8e78)),this;}['fire'](_0x2e2cb3,_0x878c84,_0x25203e,_0x3ee1c1,_0x5073b4,_0x4b62f5,_0xa54837,_0x3cf86b,_0x564265){if(!_0x2e2cb3)return this;const _0xada45b=this['_callbacks']['get'](_0x2e2cb3);if(!_0xada45b)return this;let _0x1cea72;this['_callbackA'+'ctive']['has'](_0x2e2cb3)?this['_callbackA'+'ctive']['get'](_0x2e2cb3)!==_0xada45b&&(_0x1cea72=_0xada45b['slice']()):this['_callbackA'+'ctive']['set'](_0x2e2cb3,_0xada45b);for(let _0x13dbec=-0x1cd9+-0x151b*0x1+0x2e*0x116;(_0x1cea72||this['_callbackA'+'ctive']['get'](_0x2e2cb3))&&_0x13dbec<(_0x1cea72||this['_callbackA'+'ctive']['get'](_0x2e2cb3))['length'];_0x13dbec++){const _0x4d3428=(_0x1cea72||this['_callbackA'+'ctive']['get'](_0x2e2cb3))[_0x13dbec];if(_0x4d3428['callback']&&(_0x4d3428['callback']['call'](_0x4d3428['scope'],_0x878c84,_0x25203e,_0x3ee1c1,_0x5073b4,_0x4b62f5,_0xa54837,_0x3cf86b,_0x564265),_0x4d3428['_once'])){const _0x581dde=this['_callbacks']['get'](_0x2e2cb3),_0x593371=_0x581dde?_0x581dde['indexOf'](_0x4d3428):-(-0x4bc+-0x2f3*-0x8+-0x3*0x649);if(_0x593371!==-(-0xc3e*0x3+0x3ee*-0x5+0x3861)){this['_callbackA'+'ctive']['get'](_0x2e2cb3)===_0x581dde&&this['_callbackA'+'ctive']['set'](_0x2e2cb3,this['_callbackA'+'ctive']['get'](_0x2e2cb3)['slice']());const _0x1856a4=this['_callbacks']['get'](_0x2e2cb3);if(!_0x1856a4)continue;_0x1856a4[_0x593371]['removed']=!(-0x203f+-0x23b*0x1+0x113d*0x2),_0x1856a4['splice'](_0x593371,-0x1f56+0x3b7+0x374*0x8),_0x1856a4['length']===0x7ea+0xa31+-0x121b&&this['_callbacks']['delete'](_0x2e2cb3);}}}return _0x1cea72||this['_callbackA'+'ctive']['delete'](_0x2e2cb3),this;}['hasEvent'](_0x525e68){var _0x1bb188;return!!((_0x1bb188=this['_callbacks']['get'](_0x525e68))!=null&&_0x1bb188['length']);}}class _S{constructor(){c(this,'_list',[]),c(this,'_index',{});}['push'](_0x31abb4,_0x45f1de){if(this['_index'][_0x31abb4])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x31abb4);const _0x1703fe=this['_list']['push'](_0x45f1de)-(-0x57*0x18+0x18e8+-0x10bf);this['_index'][_0x31abb4]=_0x1703fe;}['has'](_0x3e6a8e){return this['_index'][_0x3e6a8e]!==void(0x1f4e+-0x263c+0x6ee);}['get'](_0x3562a8){const _0x3f55d8=this['_index'][_0x3562a8];return _0x3f55d8!==void(-0xfb*-0x26+0x846+-0x16c4*0x2)?this['_list'][_0x3f55d8]:null;}['remove'](_0x9c402c){const _0x1f3564=this['_index'][_0x9c402c];if(_0x1f3564!==void(-0x18b2+-0x7*0x37c+-0x188b*-0x2)){this['_list']['splice'](_0x1f3564,-0x4ff+-0x13a+0x63a),delete this['_index'][_0x9c402c];for(_0x9c402c in this['_index']){const _0x1708c7=this['_index'][_0x9c402c];_0x1708c7>_0x1f3564&&(this['_index'][_0x9c402c]=_0x1708c7-(-0x463+0x2355+-0x1ef1*0x1));}return!(-0x1*-0xf5b+0x27a*-0x1+-0xce1*0x1);}return!(-0x4*0x158+-0x77c*-0x5+-0x200b);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=-0x1f83+-0x5*0x15a+0x2645;for(const _0x5a244e in this['_index'])delete this['_index'][_0x5a244e];}}const gS=_0x3eb023=>{const _0x4a9dae={};let _0x226ba8=_0x4a9dae;return()=>(_0x226ba8===_0x4a9dae&&(_0x226ba8=_0x3eb023()),_0x226ba8);},Ns=class Ns{static['loadScript'](_0x239448,_0x3a0ab0){const _0x32f234=document['createElem'+'ent']('script');_0x32f234['setAttribu'+'te']('src',_0x239448),_0x32f234['onload']=()=>{_0x3a0ab0(null);},_0x32f234['onerror']=()=>{_0x3a0ab0('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x239448+'\x27');},document['body']['appendChil'+'d'](_0x32f234);}static['loadWasm'](_0x49d168,_0x44a8ac,_0x4672db){const _0x4a8bc2=Ns['wasmSuppor'+'ted']()&&_0x44a8ac['glueUrl']&&_0x44a8ac['wasmUrl']?_0x44a8ac['glueUrl']:_0x44a8ac['fallbackUr'+'l'];_0x4a8bc2?Ns['loadScript'](_0x4a8bc2,_0x3024cd=>{if(_0x3024cd)_0x4672db(_0x3024cd,null);else{const _0x5086cd=window[_0x49d168];window[_0x49d168]=void(0x212c+-0xc3c+-0xa*0x218),_0x5086cd({'locateFile':()=>_0x44a8ac['wasmUrl'],'onAbort':()=>{_0x4672db('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x285d59=>{_0x4672db(null,_0x285d59);});}}):_0x4672db('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0xf9462f){return Ns['modules']['hasOwnProp'+'erty'](_0xf9462f)||(Ns['modules'][_0xf9462f]={'config':null,'initializing':!(-0xda*-0x14+0x5b5+-0x16bc),'instance':null,'callbacks':[]}),Ns['modules'][_0xf9462f];}static['initialize'](_0x71deb1,_0xff7eb2){if(_0xff7eb2['initializi'+'ng'])return;const _0x55235b=_0xff7eb2['config'];(_0x55235b['glueUrl']||_0x55235b['wasmUrl']||_0x55235b['fallbackUr'+'l'])&&(_0xff7eb2['initializi'+'ng']=!(-0x178+-0x22a4+0x241c),Ns['loadWasm'](_0x71deb1,_0x55235b,(_0x5a2b8c,_0x539f47)=>{_0x5a2b8c?_0x55235b['errorHandl'+'er']?_0x55235b['errorHandl'+'er'](_0x5a2b8c):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x71deb1+'\x20error='+_0x5a2b8c):(_0xff7eb2['instance']=_0x539f47,_0xff7eb2['callbacks']['forEach'](_0x5b5c56=>{_0x5b5c56(_0x539f47);}));}));}};c(Ns,'modules',{}),c(Ns,'wasmSuppor'+'ted',gS(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x2f871d=new WebAssembly['Module'](Uint8Array['of'](0x13b*-0x5+-0x3*-0x295+-0x198,-0x5*0x2cf+-0x114d*-0x1+-0x2e1,-0x4*0x41+-0x166d+0x2c*0x8b,0x1*0xe41+-0x26a9+-0x3*-0x847,0x22bf+-0x152*0x18+-0x30e,-0x1d*0x11c+0x2591+-0x1*0x565,0x55a*0x4+-0x5e7+-0xf81,-0x22b+-0x15*-0x56+-0x4e3));if(_0x2f871d instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x2f871d)instanceof WebAssembly['Instance'];}}catch{}return!(-0x8e2+0x17*0x4e+0x1e1);}));let Br=Ns;class ay{static['setConfig'](_0x153d12,_0x5459b8){const _0x219ac3=Br['getModule'](_0x153d12);_0x219ac3['config']=_0x5459b8,_0x219ac3['callbacks']['length']>-0x16e1*-0x1+-0x17f5+-0xc*-0x17&&Br['initialize'](_0x153d12,_0x219ac3);}static['getConfig'](_0x1d82c2){var _0x534d97,_0x514e44;return(_0x514e44=(_0x534d97=Br['modules'])==null?void(0x113e*-0x2+-0xf9*-0x8+-0x6ad*-0x4):_0x534d97[_0x1d82c2])==null?void(-0x12a9+-0x1a3*-0x17+-0x12fc):_0x514e44['config'];}static['getInstanc'+'e'](_0x3f43a0,_0x2c7ee0){const _0x3e95fe=Br['getModule'](_0x3f43a0);_0x3e95fe['instance']?_0x2c7ee0(_0x3e95fe['instance']):(_0x3e95fe['callbacks']['push'](_0x2c7ee0),_0x3e95fe['config']&&Br['initialize'](_0x3f43a0,_0x3e95fe));}}class oy{constructor(_0x14ce59){c(this,'arraybuffe'+'r'),c(this,'dataView'),c(this,'offset',0x1*-0xf9+-0x4*0xd9+0x45d),(this['arraybuffe'+'r']=_0x14ce59,this['dataView']=new DataView(_0x14ce59));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x4e2992=0x1453*-0x1+0x1*-0x233e+-0x5*-0xb1d){this['offset']=_0x4e2992;}['skip'](_0x47aee3){this['offset']+=_0x47aee3;}['align'](_0x44d5d5){this['offset']=this['offset']+_0x44d5d5-(-0x19a6+0x1b7f+-0x1d8)&~(_0x44d5d5-(-0xe0f+-0x118d*-0x1+0x2f*-0x13));}['_inc'](_0x24c966){return this['offset']+=_0x24c966,this['offset']-_0x24c966;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x31b849){let _0x144765='';for(let _0x50981b=0x266a+-0x1*0xb3+-0x25b7*0x1;_0x50981b<_0x31b849;++_0x50981b)_0x144765+=this['readChar']();return _0x144765;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](-0x5ed*-0x5+0x174*-0x19+0x65*0x11),!(0x20ff+-0x1a00+-0x6ff));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](0x12ed+-0x193f+0x1*0x656),!(0x43*-0x4f+-0x1*-0x12c8+-0x1*-0x1e5));}['readU64'](){return this['readU32']()+(0x1795+-0x1d7c+-0x1*-0x5e9)**(0x338+-0x118b+0x19b*0x9)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](0x11f7+-0x12b9*-0x1+-0x24ac),!(0x2*0xe8a+0x1e26+-0x3b39));}['readArray'](_0x5d5a3c){for(let _0x142588=0x4f*0x1f+0x1*-0x2174+-0x5*-0x4c7;_0x142588<_0x5d5a3c['length'];++_0x142588)_0x5d5a3c[_0x142588]=this['readU8']();}['readLine'](){const _0x216537=this['dataView'];let _0x531eb1='';for(;!(this['offset']>=_0x216537['byteLength']);){const _0x4ead09=String['fromCharCo'+'de'](this['readU8']());if(_0x4ead09==='\x0a')break;_0x531eb1+=_0x4ead09;}return _0x531eb1;}}class wh{constructor(_0x1305fc){c(this,'items',[]),c(this,'length',0x1a*-0xb9+-0x195c+0x2c26),c(this,'loopIndex',-(-0x1*-0x1afb+0x10*0x125+-0x1f*0x176)),c(this,'_sortBy'),c(this,'_sortHandl'+'er'),(this['_sortBy']=_0x1305fc['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x55c35f){let _0x373a58=-0x5b0+-0x1*-0x234b+-0x1d9b,_0x27ebb6=this['items']['length']-(0x227d+-0x1a23*0x1+0x1*-0x859);const _0x5afdc7=_0x55c35f[this['_sortBy']];let _0x4b38db,_0x282126;for(;_0x373a58<=_0x27ebb6;)_0x4b38db=Math['floor']((_0x373a58+_0x27ebb6)/(0xec3*0x2+0x164*0x1+-0x1ee8)),_0x282126=this['items'][_0x4b38db][this['_sortBy']],_0x282126<=_0x5afdc7?_0x373a58=_0x4b38db+(-0x60d*0x6+0x1ac8+0x10f*0x9):_0x282126>_0x5afdc7&&(_0x27ebb6=_0x4b38db-(0x521+-0x23ff*-0x1+-0x291f));return _0x373a58;}['_doSort'](_0x1592dc,_0x4179bb){const _0x41f026=this['_sortBy'];return _0x1592dc[_0x41f026]-_0x4179bb[_0x41f026];}['insert'](_0xb5896b){const _0x5ce9d1=this['_binarySea'+'rch'](_0xb5896b);this['items']['splice'](_0x5ce9d1,-0x215a+-0x1*-0xb5a+0x1600,_0xb5896b),this['length']++,this['loopIndex']>=_0x5ce9d1&&this['loopIndex']++;}['append'](_0x37de39){this['items']['push'](_0x37de39),this['length']++;}['remove'](_0x1f555d){const _0x5834a5=this['items']['indexOf'](_0x1f555d);_0x5834a5<0x8*-0x484+0x227a+0xd3*0x2||(this['items']['splice'](_0x5834a5,-0x1334+-0x455*-0x3+0x636),this['length']--,this['loopIndex']>=_0x5834a5&&this['loopIndex']--);}['sort'](){const _0x4cb9ef=this['loopIndex']>=0xf15+-0xc*0x2db+0x132f*0x1?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x4cb9ef!==null&&(this['loopIndex']=this['items']['indexOf'](_0x4cb9ef));}}class po extends ce{constructor(_0x4a52c1){super(),c(this,'_index',{}),c(this,'_list',[]),this['_parent']=_0x4a52c1;}['add'](..._0x128ac9){let _0xaf99b5=!(0x2482*0x1+-0x6*0x295+-0x21*0xa3);const _0x4924d5=this['_processAr'+'guments'](_0x128ac9,!(0x9be+-0xe6b+-0x4ad*-0x1));if(!_0x4924d5['length'])return _0xaf99b5;for(let _0x59803b=0x69b+-0x33e*0x9+-0x1*-0x1693;_0x59803b<_0x4924d5['length'];_0x59803b++)this['_index'][_0x4924d5[_0x59803b]]||(_0xaf99b5=!(-0xe*-0x49+0x61b*-0x4+-0x2*-0xa37),this['_index'][_0x4924d5[_0x59803b]]=!(-0xf6*0x27+-0x1c6f*-0x1+0x1*0x90b),this['_list']['push'](_0x4924d5[_0x59803b]),this['fire']('add',_0x4924d5[_0x59803b],this['_parent']));return _0xaf99b5&&this['fire']('change',this['_parent']),_0xaf99b5;}['remove'](..._0x40c62c){let _0x5e3a96=!(-0x2*0x1162+-0xc0*0x5+-0x1*-0x2685);if(!this['_list']['length'])return _0x5e3a96;const _0x3e4243=this['_processAr'+'guments'](_0x40c62c,!(-0x5*0x393+0x1502+-0x323));if(!_0x3e4243['length'])return _0x5e3a96;for(let _0x585dbe=0x1*0xcc7+-0x24a3+-0xbee*-0x2;_0x585dbe<_0x3e4243['length'];_0x585dbe++)this['_index'][_0x3e4243[_0x585dbe]]&&(_0x5e3a96=!(-0x2*-0x77c+-0x86b+-0x68d),delete this['_index'][_0x3e4243[_0x585dbe]],this['_list']['splice'](this['_list']['indexOf'](_0x3e4243[_0x585dbe]),0x13dd+0xe1d*0x1+-0x21f9*0x1),this['fire']('remove',_0x3e4243[_0x585dbe],this['_parent']));return _0x5e3a96&&this['fire']('change',this['_parent']),_0x5e3a96;}['clear'](){if(!this['_list']['length'])return;const _0x289164=this['_list']['slice'](0x811+-0x2bc+-0x555);this['_list']=[],this['_index']={};for(let _0x141a55=0x4d*-0x3d+0x17a1+-0x68*0xd;_0x141a55<_0x289164['length'];_0x141a55++)this['fire']('remove',_0x289164[_0x141a55],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x3e378e){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x3e378e)):!(-0x2480+-0x1*0x283+0x38c*0xb);}['_has'](_0x4848aa){if(!this['_list']['length']||!_0x4848aa['length'])return!(-0x32d+-0x466*0x3+0x1060);for(let _0x248d60=-0x35*-0xb8+0xe5b*-0x2+0x962*-0x1;_0x248d60<_0x4848aa['length'];_0x248d60++)if(_0x4848aa[_0x248d60]['length']===0x467+-0x8e8+0x1*0x482){if(this['_index'][_0x4848aa[_0x248d60][-0xa6d+0x31f+0x74e]])return!(-0x512+0x21c4+-0x1*0x1cb2);}else{let _0x2a9e20=!(0x1*-0x26ad+-0x70*-0x41+-0x1*-0xa3d);for(let _0x3f192a=0x93*0x27+0x1f*-0xe9+0x5d2;_0x3f192a<_0x4848aa[_0x248d60]['length'];_0x3f192a++)if(!this['_index'][_0x4848aa[_0x248d60][_0x3f192a]]){_0x2a9e20=!(-0x6d8+0x1812+0x1*-0x1139);break;}if(_0x2a9e20)return!(-0x31*0x3e+-0x1*-0x1271+-0x99*0xb);}return!(0x446+-0x22ad+0x458*0x7);}['list'](){return this['_list']['slice'](0x1567+-0x758+-0xe0f);}['_processAr'+'guments'](_0x2e7ef8,_0x2a947b){const _0x4fb7d0=[];let _0x3778a9=[];if(!_0x2e7ef8||!_0x2e7ef8['length'])return _0x4fb7d0;for(let _0x5c429a=-0x9*-0x10f+0x50a+-0xe91;_0x5c429a<_0x2e7ef8['length'];_0x5c429a++)if(_0x2e7ef8[_0x5c429a]instanceof Array){_0x2a947b||(_0x3778a9=[]);for(let _0x17f3fc=0x2056+0x26*-0x75+-0xef8;_0x17f3fc<_0x2e7ef8[_0x5c429a]['length'];_0x17f3fc++)typeof _0x2e7ef8[_0x5c429a][_0x17f3fc]=='string'&&(_0x2a947b?_0x4fb7d0['push'](_0x2e7ef8[_0x5c429a][_0x17f3fc]):_0x3778a9['push'](_0x2e7ef8[_0x5c429a][_0x17f3fc]));!_0x2a947b&&_0x3778a9['length']&&_0x4fb7d0['push'](_0x3778a9);}else typeof _0x2e7ef8[_0x5c429a]=='string'&&(_0x2a947b?_0x4fb7d0['push'](_0x2e7ef8[_0x5c429a]):_0x4fb7d0['push']([_0x2e7ef8[_0x5c429a]]));return _0x4fb7d0;}get['size'](){return this['_list']['length'];}}c(po,'EVENT_ADD','add'),c(po,'EVENT_REMO'+'VE','remove'),c(po,'EVENT_CHAN'+'GE','change');const ne=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],yS=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class sd{constructor(_0x4b8109){c(this,'scheme'),c(this,'authority'),c(this,'path'),c(this,'query'),c(this,'fragment');const _0x52d153=_0x4b8109['match'](yS);this['scheme']=_0x52d153[-0x5*-0x751+-0x1*-0x1a69+0xfbf*-0x4],this['authority']=_0x52d153[-0x116f+-0x2609+-0x4*-0xddf],this['path']=_0x52d153[-0x7ee+0x15*0x69+-0x5*0x22],this['query']=_0x52d153[-0x12cd*-0x2+0x1860+-0x3df3],this['fragment']=_0x52d153[-0x11*0x202+0x1bf9+0x7a*0xd];}['toString'](){let _0x14e533='';return this['scheme']&&(_0x14e533+=this['scheme']+':'),this['authority']&&(_0x14e533+='//'+this['authority']),_0x14e533+=this['path'],this['query']&&(_0x14e533+='?'+this['query']),this['fragment']&&(_0x14e533+='#'+this['fragment']),_0x14e533;}['getQuery'](){const _0x5be5e5={};if(this['query']){const _0x3db31e=decodeURIComponent(this['query'])['split']('&');for(const _0x50b042 of _0x3db31e){const _0x512da4=_0x50b042['split']('=');_0x5be5e5[_0x512da4[0x26b4+0x12f*-0x1f+-0x1*0x203]]=_0x512da4[-0x1*0x1681+0x106b+0x617];}}return _0x5be5e5;}['setQuery'](_0x4c305f){let _0x5194ff='';for(const _0x573fee in _0x4c305f)_0x4c305f['hasOwnProp'+'erty'](_0x573fee)&&(_0x5194ff!==''&&(_0x5194ff+='&'),_0x5194ff+=encodeURIComponent(_0x573fee)+'='+encodeURIComponent(_0x4c305f[_0x573fee]));this['query']=_0x5194ff;}}const xS=0x2096+-0xd*0x2b+0x1*-0x1e67,Df=-0x1f23*-0x1+-0x1*0x695+-0x188d,sm=0x1d*0x65+-0x930*0x3+0x1023,SS=0x2*0x12d6+-0x1*-0x66e+-0x2c15,N={'DEG_TO_RAD':Math['PI']/(0x9*0x44f+0x2fe*-0x2+0x5*-0x66b),'RAD_TO_DEG':(-0x1d14+0x16c3*0x1+0x705*0x1)/Math['PI'],'clamp'(_0x12b6ad,_0x35482b,_0x10a2be){return _0x12b6ad>=_0x10a2be?_0x10a2be:_0x12b6ad<=_0x35482b?_0x35482b:_0x12b6ad;},'intToBytes24'(_0x171298){const _0x1e5226=_0x171298>>0x515+0x44*-0x59+0x129f&-0x179f+-0xba6+0x2444,_0x4d5551=_0x171298>>-0x1c78+-0x609*0x4+-0x463*-0xc&-0x20dd*-0x1+-0x7de+-0x180*0x10,_0x3ab9ba=_0x171298&-0x1628+0x13c7+0x360;return[_0x1e5226,_0x4d5551,_0x3ab9ba];},'intToBytes32'(_0x32009a){const _0x28e10d=_0x32009a>>0x1*0x2417+0xf8e+0x112f*-0x3&0x262a+-0x1e64+-0x6c7,_0x21aa1a=_0x32009a>>0x218e+-0x1ed2+-0x2ac*0x1&0x25ae+-0x1bd7*0x1+-0x236*0x4,_0x502e28=_0x32009a>>0x12c0+0x17e6+-0x154f*0x2&0xeb8+-0x111b+0x1b1*0x2,_0x4c5a8e=_0x32009a&-0xc25*-0x1+-0x188f+0xd69;return[_0x28e10d,_0x21aa1a,_0x502e28,_0x4c5a8e];},'bytesToInt24'(_0x2fc188,_0x44ddf0,_0x23b12c){return _0x2fc188['length']&&(_0x23b12c=_0x2fc188[0x312+-0xcbf+0x25*0x43],_0x44ddf0=_0x2fc188[-0x12f3+0x10*0x1c9+-0x99c],_0x2fc188=_0x2fc188[-0x1637+0x142f+-0x14*-0x1a]),_0x2fc188<<0x106f+-0xab9+-0x5a6|_0x44ddf0<<0xc1d*0x2+-0x1*0x16+0xc0e*-0x2|_0x23b12c;},'bytesToInt32'(_0x536b3d,_0x348fdf,_0x388515,_0x3d9f2d){return _0x536b3d['length']&&(_0x3d9f2d=_0x536b3d[0xb4a+-0xe*0x34+-0x7f*0x11],_0x388515=_0x536b3d[0x2b*0x38+-0x8b*0x15+-0x201*-0x1],_0x348fdf=_0x536b3d[-0x2245+-0x5b3+0x27f9*0x1],_0x536b3d=_0x536b3d[-0xf0*0x1f+0x1191*-0x2+0x4032]),(_0x536b3d<<-0x1*-0x106b+0x16fc+-0x1*0x274f|_0x348fdf<<0x1551+-0x2ea*0x6+0xc1*-0x5|_0x388515<<0xb4d+0x7f4+-0x1339|_0x3d9f2d)>>>-0x2033+-0x15ab+0x35de;},'lerp'(_0x2bfa23,_0x45fc77,_0x378ac1){return _0x2bfa23+(_0x45fc77-_0x2bfa23)*N['clamp'](_0x378ac1,-0x3*-0x5ed+0x1b2f+-0x167b*0x2,0x23*-0xdc+-0x21dc+0x3ff1);},'lerpAngle'(_0xa02b26,_0x1914ac,_0x1c0297){return _0x1914ac-_0xa02b26>-0x2*0xc19+-0x213f+0x3a25&&(_0x1914ac-=0x1*-0x16bb+-0x46*0x4f+0x2dbd),_0x1914ac-_0xa02b26<-(-0x40f*-0x5+-0x4f0+0x1f*-0x79)&&(_0x1914ac+=-0x2f6*-0x8+0x4d0+0x121*-0x18),N['lerp'](_0xa02b26,_0x1914ac,N['clamp'](_0x1c0297,0x8c6+-0x123e+0x978,-0xf7*0x26+-0xe27+-0x515*-0xa));},'powerOfTwo'(_0x3b46f8){return _0x3b46f8!==-0xf*0x9d+-0x1*0x1d1e+0x2651&&!(_0x3b46f8&_0x3b46f8-(0x1*-0x25be+0x220c+0x3b3));},'nextPowerOfTwo'(_0x1531c4){return _0x1531c4--,_0x1531c4|=_0x1531c4>>-0x1201*-0x1+0x571*0x2+-0x1ce2*0x1,_0x1531c4|=_0x1531c4>>0x2*0x128a+-0x23d6+0x1*-0x13c,_0x1531c4|=_0x1531c4>>0x161b+0x157f+-0x31d*0xe,_0x1531c4|=_0x1531c4>>-0x48b*0x7+-0x535*0x2+0x2a3f,_0x1531c4|=_0x1531c4>>0xd03+0x1d34+-0x2a27,_0x1531c4++,_0x1531c4;},'nearestPowerOfTwo'(_0x298a51){return Math['pow'](0x90a+-0x1a07+-0x10ff*-0x1,Math['round'](Math['log'](_0x298a51)/Math['log'](-0x6c2+0x2*-0xfc8+-0x995*-0x4)));},'random'(_0x1e20db,_0x5939f6){const _0x1fd887=_0x5939f6-_0x1e20db;return Math['random']()*_0x1fd887+_0x1e20db;},'smoothstep'(_0x556917,_0x223e26,_0x31f9bb){return _0x31f9bb<=_0x556917?0x8a3+-0x135*0x15+-0x85b*-0x2:_0x31f9bb>=_0x223e26?0x10e0+0x4e3+-0x15c2:(_0x31f9bb=(_0x31f9bb-_0x556917)/(_0x223e26-_0x556917),_0x31f9bb*_0x31f9bb*(0x2cd*0x9+0x22cc+-0x1*0x3bfe-(0x11*0x1f5+0x3b*-0x53+-0xe22)*_0x31f9bb));},'smootherstep'(_0x45a511,_0x18922a,_0x56a8c7){return _0x56a8c7<=_0x45a511?-0x1*0x2281+0xfb3+0x12ce:_0x56a8c7>=_0x18922a?-0x7bb+0x2ab*-0x7+0x1a69:(_0x56a8c7=(_0x56a8c7-_0x45a511)/(_0x18922a-_0x45a511),_0x56a8c7*_0x56a8c7*_0x56a8c7*(_0x56a8c7*(_0x56a8c7*(-0x1*0x4ba+0x1*0x6e3+-0x223)-(-0x104a+-0x1bf4+0x2c4d))+(0x11a1+0x12*-0x101+0x7b)));},'roundUp'(_0x1614f6,_0x371c13){return _0x371c13===0x5a5+-0x390+-0x215?_0x1614f6:Math['ceil'](_0x1614f6/_0x371c13)*_0x371c13;},'between'(_0x22dbe8,_0x499440,_0x5784cd,_0x5d2235){const _0x2233de=Math['min'](_0x499440,_0x5784cd),_0x4678b9=Math['max'](_0x499440,_0x5784cd);return _0x5d2235?_0x22dbe8>=_0x2233de&&_0x22dbe8<=_0x4678b9:_0x22dbe8>_0x2233de&&_0x22dbe8<_0x4678b9;}},it=class it{constructor(_0x36302d=0x1824+-0x1*0x1b47+0x323,_0x2bc696=-0x1821+-0x197b+0x319c,_0x182e39=-0x1c2a+-0x2*-0xf0d+-0x1f0,_0x50ccbc=0x8cb+0x7*0x4ee+-0x4*0xad3){c(this,'r'),c(this,'g'),c(this,'b'),c(this,'a');const _0x22eb87=_0x36302d['length'];_0x22eb87===0xb*0x1+0xe*0x97+-0x84a||_0x22eb87===0x182a+-0x2*0x421+0x6*-0x2a6?(this['r']=_0x36302d[-0x1eb1+-0x5e2+-0xc31*-0x3],this['g']=_0x36302d[-0x1543+0x1e1*0x12+-0x1*0xc8e],this['b']=_0x36302d[0x52*-0x65+0x2a8*-0x1+0x36*0xa6],this['a']=_0x36302d[0x4*0xb5+0x14a9*0x1+-0x177a]??-0xbb*-0x8+0x1808+0x3*-0x9f5):(this['r']=_0x36302d,this['g']=_0x2bc696,this['b']=_0x182e39,this['a']=_0x50ccbc);}['clone'](){const _0x462ea9=this['constructo'+'r'];return new _0x462ea9(this['r'],this['g'],this['b'],this['a']);}['copy'](_0xc65d0b){return this['r']=_0xc65d0b['r'],this['g']=_0xc65d0b['g'],this['b']=_0xc65d0b['b'],this['a']=_0xc65d0b['a'],this;}['equals'](_0x579696){return this['r']===_0x579696['r']&&this['g']===_0x579696['g']&&this['b']===_0x579696['b']&&this['a']===_0x579696['a'];}['set'](_0x295cf6,_0x5a44d0,_0x1aa7a4,_0x458712=0x9*0x2fd+0x126e+0x2d52*-0x1){return this['r']=_0x295cf6,this['g']=_0x5a44d0,this['b']=_0x1aa7a4,this['a']=_0x458712,this;}['lerp'](_0x486887,_0x1023db,_0x297218){return this['r']=_0x486887['r']+_0x297218*(_0x1023db['r']-_0x486887['r']),this['g']=_0x486887['g']+_0x297218*(_0x1023db['g']-_0x486887['g']),this['b']=_0x486887['b']+_0x297218*(_0x1023db['b']-_0x486887['b']),this['a']=_0x486887['a']+_0x297218*(_0x1023db['a']-_0x486887['a']),this;}['linear'](_0x546691=this){return this['r']=Math['pow'](_0x546691['r'],-0x8bf+-0x1d00+0x25c1+0.20000000000000018),this['g']=Math['pow'](_0x546691['g'],0x5*0x697+0xa4f+-0x568*0x8+0.20000000000000018),this['b']=Math['pow'](_0x546691['b'],0x59*0x37+-0x16ad+0x390+0.20000000000000018),this['a']=_0x546691['a'],this;}['gamma'](_0x11b14d=this){return this['r']=Math['pow'](_0x11b14d['r'],(0x70f*-0x1+-0x26c9+0x2dd9)/(-0x1*0x1ec1+-0x11*0xce+0x2c71+0.20000000000000018)),this['g']=Math['pow'](_0x11b14d['g'],(-0x187a+-0x251*0xb+0x31f6)/(-0x2554+-0x179c+-0x3a*-0x10d+0.20000000000000018)),this['b']=Math['pow'](_0x11b14d['b'],(0xfe2+0x1*0x121f+-0x2200)/(-0x407+-0x1*0x1a93+-0x1*-0x1e9c+0.20000000000000018)),this['a']=_0x11b14d['a'],this;}['mulScalar'](_0x36c412){return this['r']*=_0x36c412,this['g']*=_0x36c412,this['b']*=_0x36c412,this;}['fromString'](_0x261f89){const _0x4e1b97=parseInt(_0x261f89['replace']('#','0x'),-0x4*0x5f+0x1f3e+-0x1db2);let _0x21aa2e;return _0x261f89['length']>0x3d*-0x73+-0x58b+0x16f*0x17?_0x21aa2e=N['intToBytes'+'32'](_0x4e1b97):(_0x21aa2e=N['intToBytes'+'24'](_0x4e1b97),_0x21aa2e[0x1d6*0x11+0x642+-0x2575*0x1]=-0x13*0xd+-0x1*0xc4f+0xe45),this['set'](_0x21aa2e[0xbb+0x10e7*-0x1+-0x1*-0x102c]/(0x8*0x2ad+-0x3*-0x2ed+-0x1d30),_0x21aa2e[0x3*0x355+-0x29d*0x9+0xd87]/(-0x1*0x13d+0x127c+0x34*-0x50),_0x21aa2e[-0x1*-0x179f+-0x24c7+-0xd2a*-0x1]/(-0x8e*-0x31+0x568*-0x5+-0x7*-0x1f),_0x21aa2e[0x1bfa+-0x1f57+0x360]/(0x1b4a+0x627+-0x2072)),this;}['fromArray'](_0x5be3a5,_0x4d42c1=-0x1dc6+0x1049+0xd7d){return this['r']=_0x5be3a5[_0x4d42c1]??this['r'],this['g']=_0x5be3a5[_0x4d42c1+(-0x1306*-0x2+-0x6b*-0x3c+-0x3f1f)]??this['g'],this['b']=_0x5be3a5[_0x4d42c1+(-0x1e9+0x1e91+-0xc1*0x26)]??this['b'],this['a']=_0x5be3a5[_0x4d42c1+(0x163e+0x26f3*-0x1+0x10b8)]??this['a'],this;}['toString'](_0x27df72,_0x1b3453){const {r:_0x1e59f0,g:_0x3af8bf,b:_0x4cd5d6,a:_0x58c72d}=this;if(_0x1b3453||_0x1e59f0>0x2*0x97b+0xee2+-0x21d7||_0x3af8bf>0x2506+0xe5e*0x1+-0x36d*0xf||_0x4cd5d6>-0xce5+0xea3+-0x1bd)return _0x1e59f0['toFixed'](0x21dc+0x23cc+-0x45a5)+',\x20'+_0x3af8bf['toFixed'](0x1629+-0x1*-0x16e6+-0x2d0c)+',\x20'+_0x4cd5d6['toFixed'](-0x1*0xb1a+-0x17f7+0x4*0x8c5)+',\x20'+_0x58c72d['toFixed'](0x954+-0x1*-0x2567+-0x2eb8);let _0x499deb='#'+((-0x18bf+-0x5*-0x4c5+0xe7*0x1<<-0x213a*0x1+0x1bb8+0x59a)+(Math['round'](_0x1e59f0*(-0xb03*-0x1+-0x21a*-0x9+0x211*-0xe))<<-0x2*0x8bf+0x9db+0x7b3)+(Math['round'](_0x3af8bf*(0x18b2*-0x1+-0x1*0xdd9+-0x5a6*-0x7))<<-0x16e1+-0x1f2e+0x3617)+Math['round'](_0x4cd5d6*(0x350+0x1*0xfeb+-0x123c)))['toString'](-0x52*0x1d+-0x8fe*-0x1+-0x17*-0x4)['slice'](-0x7ae+0x26e7*-0x1+0x2*0x174b);if(_0x27df72===!(-0x956+0x1a06+-0x10b0)){const _0x19b952=Math['round'](_0x58c72d*(-0x4*0x623+-0x4a7+-0x5*-0x60a))['toString'](-0x2128+0x1*0xc68+-0x1bc*-0xc);this['a']<(-0x9ab+-0xd*-0x33+0x724)/(0x1*-0x959+0x43f*0x3+0x1*-0x265)?_0x499deb+='0'+_0x19b952:_0x499deb+=_0x19b952;}return _0x499deb;}['toArray'](_0x3d3deb=[],_0x30f363=0x2467+-0x73+-0x11fa*0x2,_0x23d9d2=!(-0x2*-0x161+0x2*0x381+-0x9c4)){return _0x3d3deb[_0x30f363]=this['r'],_0x3d3deb[_0x30f363+(0x85c+-0x25f1+0x1d96)]=this['g'],_0x3d3deb[_0x30f363+(0x2d*-0xd+0x1c7a+-0x1a2f*0x1)]=this['b'],_0x23d9d2&&(_0x3d3deb[_0x30f363+(0x1109+-0x5*-0x2b+-0x11dd*0x1)]=this['a']),_0x3d3deb;}};c(it,'BLACK',Object['freeze'](new it(-0x213e+-0x89+-0x21c7*-0x1,0x407+-0x7e7+0x3e0,0x94a+0x1e29+-0x2773*0x1,-0x727*-0x5+-0x1ef6+-0x2*0x266))),c(it,'BLUE',Object['freeze'](new it(0x14ad+0x19fe+-0x2eab,-0x1*-0xf51+0x164c+-0x259d,0x96c+0x1a*-0x29+-0x541,0x7*-0x44f+0xb20*0x1+-0x985*-0x2))),c(it,'CYAN',Object['freeze'](new it(0x1*0xdbd+-0x3*-0x8de+-0x2857,-0x2197+-0x23fc+-0x1165*-0x4,0x1*-0x135a+-0xf6e+0xd*0x2ad,-0x5*-0x79b+0x899+0x7*-0x6a9))),c(it,'GRAY',Object['freeze'](new it(0x5*0x481+0x5ba+0x7*-0x409+0.5,0x2093*0x1+0x1*0x1899+0xe4b*-0x4+0.5,-0x5d9+0x3d*-0x85+0x258a+0.5,-0x120f*-0x2+0x3b3*0x1+-0x27d0))),c(it,'GREEN',Object['freeze'](new it(0x18fd+-0x1b3b+0x23e,0x10aa+0x7*0x592+0x3*-0x128d,0x1*-0x1d74+-0x617*0x1+0x238b,-0x129f+0x3*0x32d+0x919))),c(it,'MAGENTA',Object['freeze'](new it(0xa9e+-0x4d*-0x11+-0xfba,-0x7d2+-0x4*0x4d7+0x1b2e,0x282+0x3d*-0x53+0x1146,0x3a6*0xa+-0x321*0xb+0x10*-0x21))),c(it,'RED',Object['freeze'](new it(0x1e1c+0xe7b+-0x1b7*0x1a,0xb5f*0x3+-0x1560+-0x3*0x43f,0x7ef+0xf8a+-0x1779,-0x147d+-0x1348+0x27c6))),c(it,'WHITE',Object['freeze'](new it(0x6*-0x2ab+0x1993+-0x990,-0xa5f+-0x1*0x2f9+0xd59,-0x1664+0x1*-0xb7a+0xd*0x29b,-0x1*0x9ef+0x3d*-0x99+0x2e65))),c(it,'YELLOW',Object['freeze'](new it(0x0+-0x12e*-0xa+-0xbcb*0x1,0x1*0x45d+-0x1*0x237+-0xb7*0x3,-0x15*0x11+-0x763+0x8c8,-0x1c4f+0x48d*0x4+0xa1c)));let Y=it;class ly{constructor(_0x2bae1d,_0x50f3a1=0xa2b+-0xd9c+0x371){c(this,'_curve'),c(this,'_left',-(-0x2135*0x1+-0x7cd+0x2903)/(-0x1*-0x905+-0x4*-0x4f7+-0x1ce1*0x1)),c(this,'_right',(-0x7*-0x71+-0x1aa5+0x178f*0x1)/(-0x17*0x179+0x1763*-0x1+0x2a*0x15d)),c(this,'_recip',0x15e2*-0x1+-0x9*0x211+0x287b),c(this,'_p0',0x224b+-0x22d+-0x201e),c(this,'_p1',0x1114+0xac7+-0x1bdb*0x1),c(this,'_m0',-0x1d89+-0x1364+-0xf*-0x343),c(this,'_m1',-0x2*-0x11f8+-0x1*0x47+-0x23a9),(this['_curve']=_0x2bae1d,this['_reset'](_0x50f3a1));}['evaluate'](_0x374850,_0x4d946b=!(0xc34+-0x3bf+-0x874)){(_0x4d946b||_0x374850<this['_left']||_0x374850>=this['_right'])&&this['_reset'](_0x374850);let _0xa23470;const _0x1ef882=this['_curve']['type'];if(_0x1ef882===SS)_0xa23470=this['_p0'];else{const _0x20f924=this['_recip']===0x13d5+0xebf+-0x8a5*0x4?-0x4b*-0x47+-0xb2b+-0x9a2:(_0x374850-this['_left'])*this['_recip'];_0x1ef882===xS?_0xa23470=N['lerp'](this['_p0'],this['_p1'],_0x20f924):_0x1ef882===Df?_0xa23470=N['lerp'](this['_p0'],this['_p1'],_0x20f924*_0x20f924*(-0x80*0x29+-0x3e*0x4d+0x2729-(0xd66+0x24cb*0x1+0x1d*-0x1bb)*_0x20f924)):_0xa23470=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x20f924);}return _0xa23470;}['_reset'](_0x360f93){const _0x321d82=this['_curve']['keys'],_0x3c0294=_0x321d82['length'];if(!_0x3c0294)this['_left']=-(-0x2*-0x36c+-0x17b*0x1a+0x1fa7)/(0xe30+-0x1a68+-0x44*-0x2e),this['_right']=(-0x2*0xd00+0x95*-0x1f+0x2c0c)/(-0x10c1+0x1f06+-0xe45),this['_recip']=-0x7*-0x3a1+-0x51*-0x25+0x17c*-0x19,this['_p0']=this['_p1']=this['_m0']=this['_m1']=-0xd*0xd5+-0x2146*0x1+-0x2c17*-0x1;else{if(_0x360f93<_0x321d82[0x1*0xe87+-0x29+0x3*-0x4ca][-0x1*-0x127+0x830+-0x957])this['_left']=-(-0x2*0x137b+0x961*-0x3+0x431a)/(0x17*-0xdb+-0x5*-0xa0+0x108d),this['_right']=_0x321d82[-0x457*-0x7+0x6*0x9d+-0x220f][0x1616+0x1*0x1df6+-0x340c],this['_recip']=0x2bb*0x8+-0xf9*0x1+-0x14df,this['_p0']=this['_p1']=_0x321d82[-0x85*0x46+-0x66f*-0x1+0x4f*0x61][0x2631+-0x368*-0x1+-0x2998],this['_m0']=this['_m1']=0x2*-0x7e+-0x1d27*0x1+-0x1*-0x1e23;else{if(_0x360f93>=_0x321d82[_0x3c0294-(0x7*0x482+0x2340+-0x42cd)][0x19cf*-0x1+-0x3b9*0x9+0x3b50])this['_left']=_0x321d82[_0x3c0294-(-0x100*0x12+-0x97*-0x2b+-0x75c)][0x2256+0x109c+0x32f2*-0x1],this['_right']=(-0xd*0x1d+0x1127*0x1+0xfad*-0x1)/(-0x13db*-0x1+-0x11a2+-0x239),this['_recip']=0x12b9+0x19*0x143+0x1922*-0x2,this['_p0']=this['_p1']=_0x321d82[_0x3c0294-(0xde*-0x6+0x1385+0x4*-0x394)][0x2594+-0x1d2*0x1+0x153*-0x1b],this['_m0']=this['_m1']=-0x7bf*-0x1+0xdbe+0x157d*-0x1;else{let _0x29fc53=0x8cf+-0x1705+0x22*0x6b;for(;_0x360f93>=_0x321d82[_0x29fc53+(-0x6d2+0x1d5c+0x281*-0x9)][-0xb5f+-0x8da+0x1439];)_0x29fc53++;this['_left']=_0x321d82[_0x29fc53][-0x132d*0x1+-0x4*-0x9ad+0x1*-0x1387],this['_right']=_0x321d82[_0x29fc53+(-0x1*-0x119d+-0x17b0+-0x614*-0x1)][0x25*0x80+0x9e*0x2f+-0x3*0xfd6];const _0x297a7f=(-0x22ef+0x2*-0x671+0x2*0x17e9)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x297a7f)?_0x297a7f:-0x7a*-0x44+0x21b*-0x3+-0x1a17,this['_p0']=_0x321d82[_0x29fc53][-0x1dad*-0x1+-0x445*-0x7+0xc1*-0x4f],this['_p1']=_0x321d82[_0x29fc53+(-0x1a9+-0x9e9+0xb93)][-0x11*0x14c+-0x1ba0+-0x9d*-0x51],this['_curve']['type']===sm&&this['_calcTange'+'nts'](_0x321d82,_0x29fc53);}}}}['_calcTange'+'nts'](_0x3753bc,_0x56a591){let _0x45fc6a;const _0x1522ce=_0x3753bc[_0x56a591],_0x445f7b=_0x3753bc[_0x56a591+(-0x26a3+-0x1f89+-0x5*-0xe09)];let _0x1f0e6d;if(_0x56a591===0x3b*-0x11+-0xfe*0x18+0x1bbb?_0x45fc6a=[_0x3753bc[0x16b6+-0x1*0x198d+0x2d7*0x1][-0x1*0xc28+0x1682+-0x2*0x52d]+(_0x3753bc[-0x2b6+-0x4*0x245+-0xbca*-0x1][-0xbfe+-0x1b9b+-0x3*-0xd33]-_0x3753bc[0xb*0x1fd+0x2593+-0x1*0x3b71][-0x5*-0x377+0x53*0x61+-0x30c6]),_0x3753bc[0x1ac7+-0x7f4*-0x2+-0x619*0x7][0xc3*0x13+0x7e5+-0x165d]+(_0x3753bc[0x2e1*-0x7+0x1041*-0x1+0x2468][-0x1158+0x159e+-0x445*0x1]-_0x3753bc[-0x7*0x63+-0x4d*0x59+0x1*0x1d7b][-0x7*0x269+-0x1d65+0x2e45])]:_0x45fc6a=_0x3753bc[_0x56a591-(0x1272+-0x1061+-0x210)],_0x56a591===_0x3753bc['length']-(-0x16*0x167+0x20b7*-0x1+0x3f93)?_0x1f0e6d=[_0x3753bc[_0x56a591+(-0x149b+0x1e7b+0x1*-0x9df)][0x10ce+-0x159*0x10+-0x6*-0xcb]+(_0x3753bc[_0x56a591+(0x1199*0x1+-0x1*0x60d+-0xc5*0xf)][0x2*0xd5d+-0x3*0xa7b+0x4b7]-_0x3753bc[_0x56a591][0x79*-0x3a+-0x2c*-0xab+0x17*-0x16]),_0x3753bc[_0x56a591+(-0x300+0x7a*-0x12+0xb95)][0x12*0xff+-0x76a+-0xd*0xcf]+(_0x3753bc[_0x56a591+(-0x9ce+0x24fd+-0xd97*0x2)][-0x7b*0x1+0xd63+0x3*-0x44d]-_0x3753bc[_0x56a591][0x954+0x76c+-0x10bf])]:_0x1f0e6d=_0x3753bc[_0x56a591+(-0x4c*-0x10+-0xc31+0x773)],this['_curve']['type']===sm){const _0x2b58c0=(0xc3b+-0x1*0x1f0f+0x1*0x12d6)*(_0x445f7b[-0x1*-0x384+0x24ed+-0x2871]-_0x1522ce[-0x1*-0x24f2+-0x27d+0x1*-0x2275])/(_0x445f7b[-0x1122+0x1f8f+0x4cf*-0x3]-_0x45fc6a[0x1*0x2df+-0x1*0x10b2+0xdd3]),_0x1de6c7=(0xd0+0x4*0x925+-0x2562*0x1)*(_0x445f7b[-0x2*-0xcba+0x2f*0xb6+0x5*-0xbc6]-_0x1522ce[-0x269b+-0x1*0x12cf+0x396a])/(_0x1f0e6d[0xf96+0xbce+-0x1b64]-_0x1522ce[-0x2*0x12c3+0x318+0x226e]);this['_m0']=this['_curve']['tension']*(isFinite(_0x2b58c0)?_0x2b58c0:-0x1379*-0x1+-0xb88+0x6b*-0x13)*(_0x445f7b[0x1931+0xb*-0x139+0xbbd*-0x1]-_0x45fc6a[0x2037+-0x371+-0x1cc5]),this['_m1']=this['_curve']['tension']*(isFinite(_0x1de6c7)?_0x1de6c7:-0x1bf*0x7+0x244a+-0x1811)*(_0x1f0e6d[-0xe95+-0x1b*-0xb2+0x2*-0x218]-_0x1522ce[0x15ca*0x1+-0x83f*-0x1+-0x1e08]);}else{const _0x42eb0b=(_0x445f7b[0x8*0x112+-0x4d4+-0x3bc]-_0x1522ce[-0x416*-0x8+0x9a*-0x4+-0x1e48])/(_0x1522ce[-0x785+0x20b5+-0x1930]-_0x45fc6a[-0x4b7+-0x74*-0x2c+-0xf39]),_0x59dc55=(_0x445f7b[0x132b+-0x972+-0x9b9]-_0x1522ce[0x1275+0x2003+0x4c*-0xaa])/(_0x1f0e6d[0x1ca1+0x1*0x4bd+-0x215e]-_0x445f7b[-0x168b*-0x1+-0x10ca+-0x5c1]),_0x5c7858=_0x1522ce[0x448+-0x17c7+0x1380]+(_0x45fc6a[0x3*-0x830+0x6bd+0x11d4]-_0x1522ce[0x944+-0x1b2f+0x3e*0x4a])*(isFinite(_0x42eb0b)?_0x42eb0b:-0x1577+0x2a*-0xa2+0x31*0xfb),_0x59c050=_0x445f7b[0x1d71*0x1+0x14a1+-0x3211]+(_0x1f0e6d[-0x1125+0x25f*0x2+-0x8*-0x18d]-_0x445f7b[-0x85+-0x1*0x2527+0x283*0xf])*(isFinite(_0x59dc55)?_0x59dc55:0x1*-0x3d+-0x2*-0x67d+-0xcbd),_0x4cd6a4=this['_curve']['tension'];this['_m0']=_0x4cd6a4*(_0x445f7b[-0x769*-0x1+0x8b1*-0x2+0x9fa]-_0x5c7858),this['_m1']=_0x4cd6a4*(_0x59c050-_0x1522ce[0x1915+-0x923+-0x1*0xff1]);}}['_evaluateH'+'ermite'](_0x3ba3f1,_0x562a54,_0xc678f7,_0x297a08,_0xfa0563){const _0x3fdcb6=_0xfa0563*_0xfa0563,_0x37d309=_0xfa0563+_0xfa0563,_0x2dfbac=0x1794+-0x1d40+0x1*0x5ad-_0xfa0563,_0x3dc346=_0x2dfbac*_0x2dfbac;return _0x3ba3f1*((0x1*-0x1079+0x11fb+-0x181+_0x37d309)*_0x3dc346)+_0xc678f7*(_0xfa0563*_0x3dc346)+_0x562a54*(_0x3fdcb6*(-0x455+0x179b+-0x1343-_0x37d309))+_0x297a08*(_0x3fdcb6*(_0xfa0563-(0x17c0+-0x182e+0x3*0x25)));}}class Cs{constructor(_0x375876){c(this,'keys',[]),c(this,'type',Df),c(this,'tension',-0x47*0xc+0x2629+-0x22d5+0.5),c(this,'_eval',new ly(this));if(_0x375876){for(let _0x3a62d9=0x9d*-0x8+-0x2e*0xf+-0x3cd*-0x2;_0x3a62d9<_0x375876['length']-(-0x1bf6+0x166b*0x1+0x58c);_0x3a62d9+=0x11df+0x24*0xf0+0xb5*-0x49)this['keys']['push']([_0x375876[_0x3a62d9],_0x375876[_0x3a62d9+(0xe1f+-0xf21+0x7*0x25)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x6d8af4,_0x50a8f5){const _0x5479fc=this['keys'],_0x38ce5a=_0x5479fc['length'];let _0x548088=0x1bf0+-0xa77+0x47*-0x3f;for(;_0x548088<_0x38ce5a&&!(_0x5479fc[_0x548088][-0x136*-0xd+0xcd+-0x108b]>_0x6d8af4);_0x548088++);const _0x3f3754=[_0x6d8af4,_0x50a8f5];return this['keys']['splice'](_0x548088,0x2298+0x1b14+-0x3dac,_0x3f3754),_0x3f3754;}['get'](_0x3d0e9f){return this['keys'][_0x3d0e9f];}['sort'](){this['keys']['sort']((_0x2d7ca1,_0x329e49)=>_0x2d7ca1[0xa53+-0xaea+0x97]-_0x329e49[-0x44*-0x22+0x1cc4+0x2*-0x12e6]);}['value'](_0x5328b2){return this['_eval']['evaluate'](_0x5328b2,!(0x2349+-0x1*-0x14c9+0x1*-0x3812));}['closest'](_0xe0e04d){const _0x485be0=this['keys'],_0x435ac5=_0x485be0['length'];let _0x128a76=0x1eda*-0x1+-0x11a7*0x1+0x3083,_0x463510=null;for(let _0x96b77c=-0x1*0x21e0+0x532+0x1cae;_0x96b77c<_0x435ac5;_0x96b77c++){const _0x1c5fc3=Math['abs'](_0xe0e04d-_0x485be0[_0x96b77c][-0xa*-0x1b9+-0x952*0x2+0x16a]);if(_0x128a76>=_0x1c5fc3)_0x128a76=_0x1c5fc3,_0x463510=_0x485be0[_0x96b77c];else break;}return _0x463510;}['clone'](){const _0x147aca=new this['constructo'+'r']();return _0x147aca['keys']=this['keys']['map'](_0x2444c9=>[..._0x2444c9]),_0x147aca['type']=this['type'],_0x147aca['tension']=this['tension'],_0x147aca;}['quantize'](_0x548b72){_0x548b72=Math['max'](_0x548b72,-0x1d*-0x109+-0xa3e*-0x1+0x9*-0x479);const _0x58cbbd=new Float32Array(_0x548b72),_0x34991a=(0x4*0x239+0x2024+0x2907*-0x1)/(_0x548b72-(-0x1553*-0x1+-0xb*-0x37c+-0x1fd*0x1e));_0x58cbbd[0x4*0x6d1+-0x1bb*-0x7+0x1*-0x2761]=this['_eval']['evaluate'](0x5*0x65+0x8b0*-0x4+0x3*0xaed,!(0x1067+0x216c+-0x31d3));for(let _0x5cf49b=0x1d03+0x1b22*-0x1+-0x3c*0x8;_0x5cf49b<_0x548b72;_0x5cf49b++)_0x58cbbd[_0x5cf49b]=this['_eval']['evaluate'](_0x34991a*_0x5cf49b);return _0x58cbbd;}['quantizeCl'+'amped'](_0x2807db,_0x29c788,_0x206d01){const _0x512c68=this['quantize'](_0x2807db);for(let _0x19f7c2=-0x1*-0xc92+-0x16f*-0xd+-0x1f35;_0x19f7c2<_0x512c68['length'];++_0x19f7c2)_0x512c68[_0x19f7c2]=Math['min'](_0x206d01,Math['max'](_0x29c788,_0x512c68[_0x19f7c2]));return _0x512c68;}}class jr{constructor(){c(this,'curves',[]),c(this,'_type',Df);if(arguments['length']>-0x3a*-0x2f+-0x1*0x135b+0x8b6){for(let _0x1b7088=0x1edf+0x480+-0x235f;_0x1b7088<arguments['length'];_0x1b7088++)this['curves']['push'](new Cs(arguments[_0x1b7088]));}else{if(arguments['length']===-0x37b+-0x23a1+0x271c)this['curves']['push'](new Cs());else{const _0x3307d0=arguments[-0x31*-0x6a+0x99d+0x1*-0x1de7];if(typeof _0x3307d0=='number'){for(let _0x1ba820=0x89b*0x1+0x9eb+-0x2*0x943;_0x1ba820<_0x3307d0;_0x1ba820++)this['curves']['push'](new Cs());}else{for(let _0xf48941=0x19d1+0x1*0x1f+0x53*-0x50;_0xf48941<_0x3307d0['length'];_0xf48941++)this['curves']['push'](new Cs(_0x3307d0[_0xf48941]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x4e3311){this['_type']=_0x4e3311;for(let _0x25ada8=-0x6f7*-0x2+0xed6+-0x1cc4;_0x25ada8<this['curves']['length'];_0x25ada8++)this['curves'][_0x25ada8]['type']=_0x4e3311;}get['type'](){return this['_type'];}['get'](_0x3fdd89){return this['curves'][_0x3fdd89];}['value'](_0x398e27,_0x406d8f=[]){const _0x183b86=this['curves']['length'];_0x406d8f['length']=_0x183b86;for(let _0x4288b1=-0x26cb*-0x1+0x2396+-0x4a61;_0x4288b1<_0x183b86;_0x4288b1++)_0x406d8f[_0x4288b1]=this['curves'][_0x4288b1]['value'](_0x398e27);return _0x406d8f;}['clone'](){const _0x5dc1dc=new this['constructo'+'r']();_0x5dc1dc['curves']=[];for(let _0x4ff2f3=0x19*0x91+-0x1633*-0x1+-0x1*0x245c;_0x4ff2f3<this['curves']['length'];_0x4ff2f3++)_0x5dc1dc['curves']['push'](this['curves'][_0x4ff2f3]['clone']());return _0x5dc1dc['_type']=this['_type'],_0x5dc1dc;}['quantize'](_0x244841){_0x244841=Math['max'](_0x244841,-0x7*-0x301+0x2204+-0x49*0xc1);const _0x5833f4=this['curves']['length'],_0x4e83c9=new Float32Array(_0x244841*_0x5833f4),_0x278264=(-0x148*-0x1+-0x1366*0x1+0x121f)/(_0x244841-(-0x1d2b+-0xbed+-0x5df*-0x7));for(let _0x436154=0x18b3+-0x9b9*0x3+0x478;_0x436154<_0x5833f4;_0x436154++){const _0x5b195e=new ly(this['curves'][_0x436154]);for(let _0x37ca05=-0x267e+0xa*-0x289+0x1fec*0x2;_0x37ca05<_0x244841;_0x37ca05++)_0x4e83c9[_0x37ca05*_0x5833f4+_0x436154]=_0x5b195e['evaluate'](_0x278264*_0x37ca05);}return _0x4e83c9;}['quantizeCl'+'amped'](_0x3cb054,_0x3a79b8,_0x8e28f4){const _0x27e908=this['quantize'](_0x3cb054);for(let _0x231f44=-0x3e*0x2f+-0x3*-0x85d+0x1d*-0x79;_0x231f44<_0x27e908['length'];++_0x231f44)_0x27e908[_0x231f44]=Math['min'](_0x8e28f4,Math['max'](_0x3a79b8,_0x27e908[_0x231f44]));return _0x27e908;}}let im=0x5b*-0x2c+-0x1875+-0x2*-0x140f;const id=(0xd*0x176+0x1*-0x1a3e+-0x26b*-0x3)/(0xf8c+-0x12bf*-0x1+-0x214c),du=new Float32Array(0x130c+-0xa23+-0x6*0x17c),rm=new Int32Array(du['buffer']);class Wt{static['float2Half'](_0x9cc53e){du[-0x2*-0x1069+-0x154c+0x2*-0x5c3]=_0x9cc53e;const _0x8bd8cd=rm[0x4*-0x6fd+0x1310+0x8e4];let _0x29b27e=_0x8bd8cd>>0xbdf*-0x1+-0x1994+0xc81*0x3&0xa823+-0x6f50+0x472d,_0x24e75b=_0x8bd8cd>>-0x61*0x13+-0x1*-0x1a26+-0x12e7&-0xa1b+0x1b41*0x1+-0x3*0x30d;const _0x4c0182=_0x8bd8cd>>0x97c+0x83+-0x27a*0x4&0x2fe*-0x3+-0x78b*0x1+0x461*0x4;return _0x4c0182<-0x1*0x164d+0x49+0x166b?_0x29b27e:_0x4c0182>-0xf3*-0xb+-0x527*-0x6+0x28cd*-0x1?(_0x29b27e|=0x1*0xf0b3+-0xb3d*0x11+0x252d*0x2,_0x29b27e|=(_0x4c0182===-0x11c5+0x142f+0xb*-0x21?0x10b*0x7+0x1f*0x139+0x1*-0x2d34:-0x1627+0xec3*-0x2+-0x762*-0x7)&&_0x8bd8cd&-0xda70dc+0x405868*-0x2+-0x43e03d*-0x7,_0x29b27e):_0x4c0182<-0xfe7+-0x78*0x3c+-0x8*-0x58f?(_0x24e75b|=-0x1*0x1da9+0x953+0x1c56,_0x29b27e|=(_0x24e75b>>0x3c5*-0x2+-0x1bbb*-0x1+0x151*-0xf-_0x4c0182)+(_0x24e75b>>0x1e09+-0x5*-0x2e9+-0x1*0x2c25-_0x4c0182&-0x95*0x1f+-0x1*-0x1ed9+-0xccd),_0x29b27e):(_0x29b27e|=_0x4c0182-(-0x7a4+-0x112*0x1f+-0x1*-0x2942)<<-0xc15+0x321*0x3+0x2bc|_0x24e75b>>-0x1*0x2159+-0x1*-0x1093+0x10c7,_0x29b27e+=_0x24e75b&0x2233+-0x26fc+0x4ca,_0x29b27e);}static['float2Byte'+'s'](_0x5a3fde,_0x342ba2,_0x56dec7,_0x584eff){const _0x2cd121=(0x1d7*0x5+0x24dd*0x1+0x2d11*-0x1)*_0x5a3fde%(-0x1aac+-0x5ab*-0x1+0xa81*0x2);if(_0x342ba2[_0x56dec7+(0x81*0xb+-0x1*0x9b6+0x42b)]=Math['round']((_0x5a3fde%(0x3*0x71f+-0x1*-0x14c9+0x1*-0x2a25)-id*_0x2cd121)*(0x1*0x12f+-0x3d*0x8b+0x20ef)),_0x584eff>-0xdf*-0x1+-0x13e5+0x1*0x1307){const _0x50eb4b=(0x14afe+0x16929+-0x1b626)*_0x5a3fde%(0xb89*0x1+0x1c0f+-0x2797);if(_0x342ba2[_0x56dec7+(0x61f*0x5+0x37e*0xb+0x2*-0x2282)]=Math['round']((_0x2cd121-id*_0x50eb4b)*(-0x2143+-0x1395+0x35d7*0x1)),_0x584eff>-0x19e4+-0x9*0x1dd+0x2aab){const _0x5dd5c2=(0x2*-0xb89f6d+0x25*0x2b469+0x20a2eac)*_0x5a3fde%(0x83*-0x39+0x20ce+0x9b*-0x6);_0x342ba2[_0x56dec7+(0x1d83*-0x1+0x1a31+-0x1aa*-0x2)]=Math['round']((_0x50eb4b-id*_0x5dd5c2)*(-0x72b*-0x1+-0xf9*0x1f+0x17fb)),_0x584eff>-0x1c03*-0x1+-0x2*0xf09+0x212&&(_0x342ba2[_0x56dec7+(0x6fb*-0x5+0x1154*0x1+0x1196)]=Math['round'](_0x5dd5c2*(-0x9b*-0xb+-0xf1*-0x1f+-0x22d9)));}}}static['float2Byte'+'sRange'](_0x5aa661,_0x2728a7,_0x595731,_0x8e99,_0x17eeaa,_0x225344){(_0x5aa661<_0x8e99||_0x5aa661>_0x17eeaa)&&im&&(im--,console['warn']('float2Byte'+'sRange\x20-\x20v'+'alue\x20to\x20pa'+'ck\x20is\x20out\x20'+'of\x20specifi'+'ed\x20range.')),_0x5aa661=N['clamp']((_0x5aa661-_0x8e99)/(_0x17eeaa-_0x8e99),0x560+-0x1fb0+0x1a50,-0x2*0x1354+-0x213b+0x2*0x23f2),Wt['float2Byte'+'s'](_0x5aa661,_0x2728a7,_0x595731,_0x225344);}static['float2RGBA'+'8'](_0x38baac,_0x21dd39){du[0x1*0x2074+-0x2b+0x2049*-0x1]=_0x38baac;const _0x551940=rm[0x256f+-0x1b*0xca+-0x1021];_0x21dd39['r']=(_0x551940>>-0x176a+0x1b82+-0x10*0x40&-0x556+0xd*0xa7+-0x226)/(0x3df+0xeb+-0x3cb),_0x21dd39['g']=(_0x551940>>0x2583*0x1+0x2247+-0x47ba&0x112d+0x14a4+-0x24d2*0x1)/(-0x28+0x93*0x31+-0x1afc),_0x21dd39['b']=(_0x551940>>0x24cb*0x1+0x1*-0x68f+-0x1e34*0x1&0x2292+0x11d5*0x2+-0x453d)/(-0x194*0xa+-0x1*0xec7+0x1f8e),_0x21dd39['a']=(_0x551940&0x4f1+-0x1266+0xe74)/(0x81*0x10+0x476*0x7+-0x264b);}}const rt=class rt{constructor(_0x2612f5=-0xf09+-0x12b*0x7+0x1*0x1736,_0xdee451=0x1d62+0x18d0+-0x3632,_0x5cae03=0x162+-0xcd9*-0x3+-0x27ed){c(this,'x'),c(this,'y'),c(this,'z'),_0x2612f5['length']===0x112a+-0x1f5d+0xe36?(this['x']=_0x2612f5[0x1dbe+-0x4d9*0x2+0xa06*-0x2],this['y']=_0x2612f5[0x24f1+-0x3f*-0x4b+-0x1*0x3765],this['z']=_0x2612f5[-0x3*-0x20b+0x12f7+-0x1916]):(this['x']=_0x2612f5,this['y']=_0xdee451,this['z']=_0x5cae03);}['add'](_0x282e1f){return this['x']+=_0x282e1f['x'],this['y']+=_0x282e1f['y'],this['z']+=_0x282e1f['z'],this;}['add2'](_0x16572a,_0x4433fb){return this['x']=_0x16572a['x']+_0x4433fb['x'],this['y']=_0x16572a['y']+_0x4433fb['y'],this['z']=_0x16572a['z']+_0x4433fb['z'],this;}['addScalar'](_0x2da52b){return this['x']+=_0x2da52b,this['y']+=_0x2da52b,this['z']+=_0x2da52b,this;}['addScaled'](_0x400538,_0x41c704){return this['x']+=_0x400538['x']*_0x41c704,this['y']+=_0x400538['y']*_0x41c704,this['z']+=_0x400538['z']*_0x41c704,this;}['clone'](){const _0x5655c5=this['constructo'+'r'];return new _0x5655c5(this['x'],this['y'],this['z']);}['copy'](_0xac44ac){return this['x']=_0xac44ac['x'],this['y']=_0xac44ac['y'],this['z']=_0xac44ac['z'],this;}['cross'](_0x2b080a,_0x558f59){const _0x1a07ec=_0x2b080a['x'],_0x21ce09=_0x2b080a['y'],_0xe9050e=_0x2b080a['z'],_0x3b9438=_0x558f59['x'],_0x4cb563=_0x558f59['y'],_0x411a5f=_0x558f59['z'];return this['x']=_0x21ce09*_0x411a5f-_0x4cb563*_0xe9050e,this['y']=_0xe9050e*_0x3b9438-_0x411a5f*_0x1a07ec,this['z']=_0x1a07ec*_0x4cb563-_0x3b9438*_0x21ce09,this;}['distance'](_0x3b6476){const _0x310bcd=this['x']-_0x3b6476['x'],_0x1ac1bc=this['y']-_0x3b6476['y'],_0x169670=this['z']-_0x3b6476['z'];return Math['sqrt'](_0x310bcd*_0x310bcd+_0x1ac1bc*_0x1ac1bc+_0x169670*_0x169670);}['div'](_0x2ab186){return this['x']/=_0x2ab186['x'],this['y']/=_0x2ab186['y'],this['z']/=_0x2ab186['z'],this;}['div2'](_0x3c6b26,_0x30c789){return this['x']=_0x3c6b26['x']/_0x30c789['x'],this['y']=_0x3c6b26['y']/_0x30c789['y'],this['z']=_0x3c6b26['z']/_0x30c789['z'],this;}['divScalar'](_0x2d2f5b){return this['x']/=_0x2d2f5b,this['y']/=_0x2d2f5b,this['z']/=_0x2d2f5b,this;}['dot'](_0x5f2705){return this['x']*_0x5f2705['x']+this['y']*_0x5f2705['y']+this['z']*_0x5f2705['z'];}['equals'](_0x4c3309){return this['x']===_0x4c3309['x']&&this['y']===_0x4c3309['y']&&this['z']===_0x4c3309['z'];}['equalsAppr'+'ox'](_0x47e6b0,_0x7ae1f1=0x13b1*-0x1+-0x10da+0x248b*0x1+0.000001){return Math['abs'](this['x']-_0x47e6b0['x'])<_0x7ae1f1&&Math['abs'](this['y']-_0x47e6b0['y'])<_0x7ae1f1&&Math['abs'](this['z']-_0x47e6b0['z'])<_0x7ae1f1;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x18a81e,_0x4e033b,_0x2d072c){return this['x']=_0x18a81e['x']+_0x2d072c*(_0x4e033b['x']-_0x18a81e['x']),this['y']=_0x18a81e['y']+_0x2d072c*(_0x4e033b['y']-_0x18a81e['y']),this['z']=_0x18a81e['z']+_0x2d072c*(_0x4e033b['z']-_0x18a81e['z']),this;}['mul'](_0x5c1fa0){return this['x']*=_0x5c1fa0['x'],this['y']*=_0x5c1fa0['y'],this['z']*=_0x5c1fa0['z'],this;}['mul2'](_0x144c7d,_0x5356d7){return this['x']=_0x144c7d['x']*_0x5356d7['x'],this['y']=_0x144c7d['y']*_0x5356d7['y'],this['z']=_0x144c7d['z']*_0x5356d7['z'],this;}['mulScalar'](_0x5406d7){return this['x']*=_0x5406d7,this['y']*=_0x5406d7,this['z']*=_0x5406d7,this;}['normalize'](_0x145e90=this){const _0x4a65dd=_0x145e90['x']*_0x145e90['x']+_0x145e90['y']*_0x145e90['y']+_0x145e90['z']*_0x145e90['z'];if(_0x4a65dd>-0x105b+0x2506+-0xd*0x197){const _0x51212d=(0x2*-0x8d8+0x2e6*-0x4+-0x341*-0x9)/Math['sqrt'](_0x4a65dd);this['x']=_0x145e90['x']*_0x51212d,this['y']=_0x145e90['y']*_0x51212d,this['z']=_0x145e90['z']*_0x51212d;}return this;}['floor'](_0x5ae633=this){return this['x']=Math['floor'](_0x5ae633['x']),this['y']=Math['floor'](_0x5ae633['y']),this['z']=Math['floor'](_0x5ae633['z']),this;}['ceil'](_0x32a1fa=this){return this['x']=Math['ceil'](_0x32a1fa['x']),this['y']=Math['ceil'](_0x32a1fa['y']),this['z']=Math['ceil'](_0x32a1fa['z']),this;}['round'](_0x1d28ff=this){return this['x']=Math['round'](_0x1d28ff['x']),this['y']=Math['round'](_0x1d28ff['y']),this['z']=Math['round'](_0x1d28ff['z']),this;}['min'](_0x35d029){return _0x35d029['x']<this['x']&&(this['x']=_0x35d029['x']),_0x35d029['y']<this['y']&&(this['y']=_0x35d029['y']),_0x35d029['z']<this['z']&&(this['z']=_0x35d029['z']),this;}['max'](_0x520b60){return _0x520b60['x']>this['x']&&(this['x']=_0x520b60['x']),_0x520b60['y']>this['y']&&(this['y']=_0x520b60['y']),_0x520b60['z']>this['z']&&(this['z']=_0x520b60['z']),this;}['project'](_0x4b90ef){const _0x4fe012=this['x']*_0x4b90ef['x']+this['y']*_0x4b90ef['y']+this['z']*_0x4b90ef['z'],_0x1fe9d2=_0x4b90ef['x']*_0x4b90ef['x']+_0x4b90ef['y']*_0x4b90ef['y']+_0x4b90ef['z']*_0x4b90ef['z'],_0x5ef6dd=_0x4fe012/_0x1fe9d2;return this['x']=_0x4b90ef['x']*_0x5ef6dd,this['y']=_0x4b90ef['y']*_0x5ef6dd,this['z']=_0x4b90ef['z']*_0x5ef6dd,this;}['set'](_0x5b1c9f,_0x29d3ea,_0xd2ea32){return this['x']=_0x5b1c9f,this['y']=_0x29d3ea,this['z']=_0xd2ea32,this;}['sub'](_0x2f68a9){return this['x']-=_0x2f68a9['x'],this['y']-=_0x2f68a9['y'],this['z']-=_0x2f68a9['z'],this;}['sub2'](_0x195a47,_0x3e2ae2){return this['x']=_0x195a47['x']-_0x3e2ae2['x'],this['y']=_0x195a47['y']-_0x3e2ae2['y'],this['z']=_0x195a47['z']-_0x3e2ae2['z'],this;}['subScalar'](_0x492f2b){return this['x']-=_0x492f2b,this['y']-=_0x492f2b,this['z']-=_0x492f2b,this;}['fromArray'](_0xe7d142,_0x45a1b2=-0x3*0x71e+0x561*0x3+-0x3*-0x1bd){return this['x']=_0xe7d142[_0x45a1b2]??this['x'],this['y']=_0xe7d142[_0x45a1b2+(-0x33*-0x9d+-0x142d+0x3b3*-0x3)]??this['y'],this['z']=_0xe7d142[_0x45a1b2+(0x17cb+-0x34*0x6a+-0x241)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x16cddf=[],_0x42bd3e=0x53*-0xc+0x37e*-0x1+0x3b1*0x2){return _0x16cddf[_0x42bd3e]=this['x'],_0x16cddf[_0x42bd3e+(0x3a3+0x1*-0x205c+-0xe5d*-0x2)]=this['y'],_0x16cddf[_0x42bd3e+(-0x1*-0x4e5+0x973+-0xe56)]=this['z'],_0x16cddf;}};c(rt,'ZERO',Object['freeze'](new rt(0x264a+-0xb5d*0x3+-0x5*0xd7,0x74e+0x1*-0x1230+0xae2*0x1,0x3*-0x7ed+0x23a*-0x10+0x3b67))),c(rt,'HALF',Object['freeze'](new rt(0x22*0x2f+0x1b8d*-0x1+0x443*0x5+0.5,0x7*-0x4e9+-0x25*0x11+0x24d4+0.5,0x1a3d+-0xb*0x29d+0x2*0x141+0.5))),c(rt,'ONE',Object['freeze'](new rt(0xba*0x2c+-0xa7*0x14+-0x12eb,0x3b5*0x1+-0xd03+0x1*0x94f,-0x2*0x5b9+-0xfe*0x2+0xd6f))),c(rt,'UP',Object['freeze'](new rt(-0x1e5+0x60b+0x426*-0x1,-0x1*-0x1db6+0x15e3*-0x1+-0x7d2,-0xc06+-0x1*-0x20db+-0x14d5*0x1))),c(rt,'DOWN',Object['freeze'](new rt(0x14e6+0xb33+-0x2019*0x1,-(-0xbf8+0x1*0x2523+0x2*-0xc95),-0x3a+-0x200a+-0x8c*-0x3b))),c(rt,'RIGHT',Object['freeze'](new rt(0x9a0+0x1*0xc56+0x323*-0x7,0x1427+-0x14d*-0x1d+-0x39e0,0x263*-0x3+0x2331+-0x1c08))),c(rt,'LEFT',Object['freeze'](new rt(-(-0x48b*0x7+-0x1d7*0xd+0xf*0x3b7),-0x1a12+0x681+0x1391,0x132+-0x1*-0x919+-0x20f*0x5))),c(rt,'FORWARD',Object['freeze'](new rt(0x1f1e+-0x28*0x4b+-0x1366,-0x212*0x2+0x1*0x1a47+0x1623*-0x1,-(0x3e*-0x55+0x14*-0xe3+0x2653*0x1)))),c(rt,'BACK',Object['freeze'](new rt(-0x80d+0x1969+-0x115c,0x9b6+0x11*-0x195+-0x53*-0x35,0x1d79+-0x1e1b+-0x1*-0xa3)));let T=rt;const na=class na{constructor(){c(this,'data',new Float32Array(-0x681*0x5+0x23e2+-0x354)),this['data'][0x1*0x26f1+0x2336+0x4a27*-0x1]=this['data'][-0x1d13+0x18db+0x21e*0x2]=this['data'][0x17ad+0x3*0xa67+0x1*-0x36da]=-0x17cf+-0x1*-0x7a+0x1756;}['clone'](){const _0x21ce14=this['constructo'+'r'];return new _0x21ce14()['copy'](this);}['copy'](_0xc57c0f){const _0x11c562=_0xc57c0f['data'],_0x3702c4=this['data'];return _0x3702c4[-0x287*-0x1+0x8*0x97+-0x173*0x5]=_0x11c562[0x11b6+0x1e4a+-0x3000],_0x3702c4[0x1*0x2050+0x3b*-0xa3+0x542]=_0x11c562[-0x23c8+-0x9*-0x1eb+0x943*0x2],_0x3702c4[0x73b+0x17ec+-0x1f25]=_0x11c562[-0x2*-0x887+-0x1e9c+0xd90],_0x3702c4[0x1a3c*-0x1+-0x1a*-0x6d+0x1*0xf2d]=_0x11c562[-0x6*-0x592+0x7d9+-0x14a1*0x2],_0x3702c4[-0x30b+-0x237*-0x9+-0xc*0x168]=_0x11c562[0x4*-0x8f9+0x10*0x1a1+0x9d8],_0x3702c4[0xa*0x2fc+0x133*-0x14+-0x12b*0x5]=_0x11c562[-0xbf*-0x1+0xdd3+-0xe8d],_0x3702c4[0x1b1+-0x2067+0x1ebc]=_0x11c562[0x1*0xfa6+-0x17f4*0x1+0x854],_0x3702c4[-0x1a9f+0x8ab+0x1*0x11fb]=_0x11c562[-0x461+-0x1619+0x1a81],_0x3702c4[-0x161c+-0x141f+0x1f*0x15d]=_0x11c562[-0xf5*0x5+0x214a+0x25*-0xc5],this;}['set'](_0x15ccf9){const _0x57cea4=this['data'];return _0x57cea4[0x61*-0x1+0x1375+-0x1314]=_0x15ccf9[-0x228+0x10cd+-0xa3*0x17],_0x57cea4[0x4*0x499+0x7*0x1f+-0x133c]=_0x15ccf9[-0x1cc5+-0x25f3+-0x13*-0x383],_0x57cea4[0xb17+-0xc1*0x1a+0x885]=_0x15ccf9[-0x10a6+-0x25ca+-0x6*-0x913],_0x57cea4[0x741+0x1ba+-0x7*0x148]=_0x15ccf9[-0x1d1d*0x1+0x1ede+-0x1be],_0x57cea4[-0xfb1*-0x2+-0x1325+0x15*-0x95]=_0x15ccf9[-0x946+-0x1237+0x1b81],_0x57cea4[0x1*0x982+-0x17f7+0x1*0xe7a]=_0x15ccf9[-0x8*-0xfb+0x3*0x511+-0xb83*0x2],_0x57cea4[-0x5*-0x72b+-0x1fea+-0x1*0x3e7]=_0x15ccf9[0x5*-0x4b2+0x1ffe+-0x87e],_0x57cea4[0x1dba+-0x21a4+0x3f1]=_0x15ccf9[-0x1e6a+0x127c*-0x1+0x4b*0xa7],_0x57cea4[-0x1*0x137f+-0x3*-0x7b5+-0x398]=_0x15ccf9[0x17*0x9b+-0x1*-0x257f+-0x3364],this;}['getX'](_0x465dda=new T()){return _0x465dda['set'](this['data'][-0x55*-0x17+-0x1*-0x1071+-0x1814],this['data'][-0x23a4+-0x16c3+0x2c8*0x15],this['data'][0x183+-0x137*0x18+0x1ba7]);}['getY'](_0x3c07af=new T()){return _0x3c07af['set'](this['data'][-0x18c0+-0xcdf+0x2*0x12d1],this['data'][-0x1e43+0x8b*0x45+0x73*-0x10],this['data'][-0x7d*0x13+-0x1c92+0x4a*0x83]);}['getZ'](_0x5c9b80=new T()){return _0x5c9b80['set'](this['data'][-0x5*0x2d+-0x1*-0x10c1+-0xfda],this['data'][0x19f*0x7+0x2fb*0xd+-0x3211],this['data'][-0x2*0x952+0x252b+-0x127f]);}['equals'](_0x130a6f){const _0x2194b9=this['data'],_0x2988e2=_0x130a6f['data'];return _0x2194b9[0x1*0x44d+0x5db*0x3+-0x15de]===_0x2988e2[-0x17*-0x6b+0x4*0xd3+-0xce9]&&_0x2194b9[0x1ed9+0x26f4+-0x2*0x22e6]===_0x2988e2[-0xa0e+0xa6*-0x1+-0xab5*-0x1]&&_0x2194b9[-0x1a68+0x4fd*0x5+-0x1*-0x179]===_0x2988e2[-0x42+0x11*-0x12e+-0x2*-0xa29]&&_0x2194b9[0x4a*-0x1+0x1ffb*-0x1+0x2048]===_0x2988e2[-0x16db+0x135c+0x382]&&_0x2194b9[-0x2343+-0xe12+0x3159]===_0x2988e2[-0x15*0x61+0x1b6d+-0x1374]&&_0x2194b9[0x1f7c+0x553*0x3+-0x2f7*0x10]===_0x2988e2[-0x95*0xb+0x1b37*0x1+-0x14cb]&&_0x2194b9[0x4*0x20b+0xfa4+-0x17ca]===_0x2988e2[0x10ec+-0x2466+0x1380]&&_0x2194b9[0x2543*-0x1+-0x2*-0x1184+0x242]===_0x2988e2[0xdf*-0x2b+-0xeba+0x3436]&&_0x2194b9[-0x1662+-0xa*0x60+-0x2*-0xd15]===_0x2988e2[-0x8ad+-0x1e84+0x2739*0x1];}['isIdentity'](){const _0x3b12af=this['data'];return _0x3b12af[0x2*0x615+0x1b*-0x8b+-0xd5*-0x3]===0xe4e+-0x150c+0x9d*0xb&&_0x3b12af[-0x5c5+0x2aa*-0xb+0x5*0x704]===0x18c3+0xb7e+-0x2441&&_0x3b12af[-0x23a3+0x11ac+-0x1*-0x11f9]===0x18e5+0x23b*-0xd+0x41a&&_0x3b12af[-0x959*0x1+-0xfb5*-0x1+-0x659]===0x56*-0x30+-0x7aa+-0x1*-0x17ca&&_0x3b12af[0x20b1*-0x1+-0x1*-0x37+0x207e]===0x110c+0x41f*-0x9+0x140c&&_0x3b12af[-0x1935*0x1+0xfd9+0x961]===-0xc6d*-0x1+0xa*-0x1b+-0xb5f&&_0x3b12af[-0x11a7*0x1+0xd9c+-0x15b*-0x3]===0x8*-0x8d+-0x1e8f+-0x22f7*-0x1&&_0x3b12af[0x17b7+0x5*-0x54d+0x2d1]===-0x36*-0x1+0x20d2+0x38*-0x97&&_0x3b12af[-0x245a+0x1871+0xbf1]===0x1*-0xf0f+-0x46*0x5f+0x1485*0x2;}['setIdentit'+'y'](){const _0x1cf971=this['data'];return _0x1cf971[0x1*0x301+0x1ad*0x10+0x1c1*-0x11]=-0x1e4c+-0x1a56+-0x12e1*-0x3,_0x1cf971[0x1594+0x1133+-0x26c6]=0x1*0x19c9+0x108a+-0x2a53,_0x1cf971[0x17*-0x89+0x3b4+0x89d]=0x1667+0x46*-0x27+-0x1*0xbbd,_0x1cf971[-0x4*0x41e+0x1154+-0xd9]=0x4*0x101+-0xa9a*0x1+-0x3*-0x232,_0x1cf971[0xda6+0x515+-0x63d*0x3]=-0xdf9+-0x281+-0x107b*-0x1,_0x1cf971[-0x201b*0x1+0x1dca+-0x2e*-0xd]=0x11e9+-0x2197+-0xfae*-0x1,_0x1cf971[0x2201+0x1*0x7c3+-0x6f5*0x6]=-0xd1*-0x2a+-0x1b1b+-0x265*0x3,_0x1cf971[0xcee+-0x1*0x1181+-0x26*-0x1f]=-0xa1*-0x25+-0x2400+0xcbb,_0x1cf971[-0x8*-0x22c+0x8*0x1ca+0x1fa8*-0x1]=-0x165e+0x208c+-0x5*0x209,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x4c0fed=this){const _0x8f6b81=_0x4c0fed['data'],_0x290672=this['data'];if(_0x8f6b81===_0x290672){let _0x5ec48a;_0x5ec48a=_0x8f6b81[0x1a0e+0x1*0x20e9+-0x1d7b*0x2],_0x290672[0x102d+-0xa11*-0x1+0x1a3d*-0x1]=_0x8f6b81[0x5*0x538+0x81+-0x1a96],_0x290672[-0x108b+0x240*-0x8+0x228e]=_0x5ec48a,_0x5ec48a=_0x8f6b81[0x38f+0xbd5*0x2+-0x1*0x1b37],_0x290672[-0x1a31+-0x1eb3+0x1c73*0x2]=_0x8f6b81[0x6*-0x44+0x1d57+0x1bb9*-0x1],_0x290672[-0x9*-0x3b+-0x1fdf+0x1dd2]=_0x5ec48a,_0x5ec48a=_0x8f6b81[0x13*0x53+0xc9d+0x1*-0x12c1],_0x290672[-0x11ea+-0x1dc5*0x1+0x2fb4]=_0x8f6b81[-0x2*0x691+0x1*0x9ff+0x32a],_0x290672[-0x1d35*-0x1+-0xc50+-0x7f*0x22]=_0x5ec48a;}else _0x290672[0x100*0x1f+0x1173+-0x3073]=_0x8f6b81[-0x91*0x1d+-0x2*0xfcf+0x300b],_0x290672[-0x5*0x25+0x599*0x3+0x1011*-0x1]=_0x8f6b81[0x1287+-0x289+-0xffb],_0x290672[-0x217a+-0x1*0x985+0x2b01]=_0x8f6b81[-0x3*0x8bf+0x8*0x3bb+-0x395],_0x290672[0x13*0x190+0x2661+-0x232*0x1f]=_0x8f6b81[0x8d5+0x8ed+-0x11c1],_0x290672[0x1f*-0x3e+0x3*-0xe9+0xa41]=_0x8f6b81[0x1*-0xae8+0x739+0x1*0x3b3],_0x290672[-0x63f*0x4+-0x2348+0xb*0x57b]=_0x8f6b81[-0x3*-0x78b+-0xd8d*-0x1+-0x2427],_0x290672[-0x13d3+-0xe9b+-0x7e*-0x46]=_0x8f6b81[-0x2457*0x1+-0x205b*0x1+-0x112d*-0x4],_0x290672[0xafd*0x1+0x1eab*-0x1+0x13b5]=_0x8f6b81[0xa90+-0x3*-0x277+-0x11f0*0x1],_0x290672[0x5*-0x174+0x3*0x60a+-0xad2]=_0x8f6b81[0x9d*0x35+-0x1b1d+0x31*-0x1c];return this;}['setFromMat'+'4'](_0x4cc866){const _0x1c8e06=_0x4cc866['data'],_0x1a2277=this['data'];return _0x1a2277[0x17b9+-0x3e2+-0x69d*0x3]=_0x1c8e06[0x1*0xe5c+0x236b*0x1+0x31c7*-0x1],_0x1a2277[0x23cb+0xbc5*-0x1+-0x8f*0x2b]=_0x1c8e06[-0x153f+0x163e+0x1*-0xfe],_0x1a2277[0x1d29+0x14a8*0x1+-0x31cf]=_0x1c8e06[-0xe1*-0x26+-0x109+-0x205b],_0x1a2277[-0x6ef+-0x4f*0x79+0x2c49]=_0x1c8e06[-0x293+0x5*0x469+0x2f*-0x6a],_0x1a2277[0xab3+-0x1632*0x1+-0x1*-0xb83]=_0x1c8e06[-0x6*-0x3e0+-0x9b+-0x16a0],_0x1a2277[-0x1993+0x2553+-0xbbb]=_0x1c8e06[0xa*-0x190+-0x25b4+0x355a],_0x1a2277[-0x1*0x26d1+0x1cc6+0xa11]=_0x1c8e06[0x158c+0x13b9+-0x293d],_0x1a2277[-0x83*0x5+0x25fa+-0x2364]=_0x1c8e06[-0x21c8+0x147*-0xb+0x2fde],_0x1a2277[-0x588+-0x4*-0x6fd+-0x1664]=_0x1c8e06[-0xebb+0x1*-0x17bf+0x2684],this;}['setFromQua'+'t'](_0x3c0860){const _0x1fa359=_0x3c0860['x'],_0x402a95=_0x3c0860['y'],_0x21d016=_0x3c0860['z'],_0x2abe08=_0x3c0860['w'],_0x153bfd=_0x1fa359+_0x1fa359,_0x14fd47=_0x402a95+_0x402a95,_0xf4a10f=_0x21d016+_0x21d016,_0x4ed268=_0x1fa359*_0x153bfd,_0x2c5128=_0x1fa359*_0x14fd47,_0x502d0d=_0x1fa359*_0xf4a10f,_0x5599dd=_0x402a95*_0x14fd47,_0x2683d6=_0x402a95*_0xf4a10f,_0xbd94b1=_0x21d016*_0xf4a10f,_0x5c838f=_0x2abe08*_0x153bfd,_0x4eb0d=_0x2abe08*_0x14fd47,_0xe424a6=_0x2abe08*_0xf4a10f,_0x1cad6f=this['data'];return _0x1cad6f[-0x57d*-0x3+0x207+0x2*-0x93f]=-0x249a+-0x1d0+0x266b-(_0x5599dd+_0xbd94b1),_0x1cad6f[0xb7f+-0x654+-0x52a]=_0x2c5128+_0xe424a6,_0x1cad6f[0x1d*-0x17+0x54a*0x6+-0x1d1f]=_0x502d0d-_0x4eb0d,_0x1cad6f[-0x1e03+-0xd*-0xec+0x120a]=_0x2c5128-_0xe424a6,_0x1cad6f[0x1a5c+-0x6e6+-0x1372]=0x15c2+-0x2*0x1245+-0xec9*-0x1-(_0x4ed268+_0xbd94b1),_0x1cad6f[-0x3ef+-0x1*-0xd21+-0x92d]=_0x2683d6+_0x5c838f,_0x1cad6f[0x1de2+-0x3*-0x41b+-0x2a2d]=_0x502d0d+_0x4eb0d,_0x1cad6f[0x83c+0x1931+-0x2166]=_0x2683d6-_0x5c838f,_0x1cad6f[-0xb9f+-0x139f+0x1f46]=-0x109*-0xf+-0x3*0xac9+0x1f*0x8b-(_0x4ed268+_0x5599dd),this;}['invertMat4'](_0x3ab1e8){const _0x245e5c=_0x3ab1e8['data'],_0x40f076=_0x245e5c[0x134e+-0x25*0x2b+0x45d*-0x3],_0x2d146e=_0x245e5c[0x1123*0x1+-0x1*0x497+-0xa9*0x13],_0x50ff=_0x245e5c[-0x1aa4+0x1f90+-0x4ea],_0x29b343=_0x245e5c[0x1869*0x1+0x10b8+-0x291d],_0x154886=_0x245e5c[-0x16e5*0x1+0xe*-0x1d+0x62*0x40],_0xc6af16=_0x245e5c[0x209*0x10+0xa8c+-0x158b*0x2],_0x4945b8=_0x245e5c[0xb10+0x161d+-0x2125],_0x22a9d4=_0x245e5c[0x57e*-0x2+0x8d8*0x4+-0x4df*0x5],_0x57cfc3=_0x245e5c[0xdeb+0xc6d+-0x7*0x3c2],_0x15f4e7=_0x57cfc3*_0x154886-_0xc6af16*_0x22a9d4,_0x5a72fb=-_0x57cfc3*_0x2d146e+_0x50ff*_0x22a9d4,_0x3cac76=_0xc6af16*_0x2d146e-_0x50ff*_0x154886,_0x453ca2=-_0x57cfc3*_0x29b343+_0xc6af16*_0x4945b8,_0x171308=_0x57cfc3*_0x40f076-_0x50ff*_0x4945b8,_0x5119a9=-_0xc6af16*_0x40f076+_0x50ff*_0x29b343,_0x126f94=_0x22a9d4*_0x29b343-_0x154886*_0x4945b8,_0x4e2298=-_0x22a9d4*_0x40f076+_0x2d146e*_0x4945b8,_0x41d6db=_0x154886*_0x40f076-_0x2d146e*_0x29b343,_0x21877c=_0x40f076*_0x15f4e7+_0x2d146e*_0x453ca2+_0x50ff*_0x126f94;if(_0x21877c===-0x101*-0x1+-0xbd*0x1e+0x1525)this['setIdentit'+'y']();else{const _0x59d592=(-0x21a0+-0x364*0x4+0x2f31*0x1)/_0x21877c,_0x301945=this['data'];_0x301945[-0xac*0x35+0x147b+0xf21]=_0x15f4e7*_0x59d592,_0x301945[0xc9b*0x1+-0x131*0x1f+0x1855]=_0x5a72fb*_0x59d592,_0x301945[0x18df+-0x104f+0x2*-0x447]=_0x3cac76*_0x59d592,_0x301945[-0x5d*0x47+-0x71*0x6+0x1c74]=_0x453ca2*_0x59d592,_0x301945[0xbc*0x28+-0x15*-0x4d+-0x23ad]=_0x171308*_0x59d592,_0x301945[-0x25*0x10e+0xa4a*0x1+0x1cc1]=_0x5119a9*_0x59d592,_0x301945[-0x1780+-0x26a0+0x3e26*0x1]=_0x126f94*_0x59d592,_0x301945[0x21f4*-0x1+0x17e7+0x50a*0x2]=_0x4e2298*_0x59d592,_0x301945[0x860+0x1a0f+0x1*-0x2267]=_0x41d6db*_0x59d592;}return this;}['transformV'+'ector'](_0x22060a,_0x3d9e23=new T()){const _0x303431=this['data'],{x:_0x22ea16,y:_0x20456b,z:_0x5c7ddb}=_0x22060a;return _0x3d9e23['x']=_0x22ea16*_0x303431[-0x7d0+-0xd0a+0x9d*0x22]+_0x20456b*_0x303431[0x17b9+-0x121b+-0x59b]+_0x5c7ddb*_0x303431[-0xa3e+0x6a*-0x31+0x1e8e],_0x3d9e23['y']=_0x22ea16*_0x303431[-0x12*0x67+-0x34a*-0x4+-0x59*0x11]+_0x20456b*_0x303431[0x1e6c+0x16b*-0x17+0x71*0x5]+_0x5c7ddb*_0x303431[0x11b7*0x1+0x9d*0x15+0x5*-0x61d],_0x3d9e23['z']=_0x22ea16*_0x303431[0x5*-0x2fe+-0xe9*-0xc+-0x1c*-0x25]+_0x20456b*_0x303431[0x71*0x22+0x23c0+-0x32bd]+_0x5c7ddb*_0x303431[-0xf9c+-0x1dd+0x1181],_0x3d9e23;}};c(na,'IDENTITY',Object['freeze'](new na())),c(na,'ZERO',Object['freeze'](new na()['set']([0x251*-0xe+0x5a1*-0x3+0x3151,0xea*0x11+0x1a*-0xa4+0x1a*0xb,0xd*0x2cf+-0xd99+-0x16ea,-0x16*-0x17f+-0x1f9+-0x1ef1,-0x12*0x190+0x19cd+-0x55*-0x7,0x55*-0x2f+0x25d4+-0x1639,0x2*-0x62d+0x19+0xc41*0x1,0x3a9*-0x2+-0xcf2+-0x1444*-0x1,-0x1d68+-0xcfd+0x2a65])));let js=na;const wt=class wt{constructor(_0x2b27b1=0x3d3+-0x3*-0x7f3+0x6eb*-0x4,_0x21f203=0x5*-0xd+-0xb*-0x2f3+0xce*-0x28){c(this,'x'),c(this,'y'),_0x2b27b1['length']===-0x1*-0x1aab+-0xd25*0x2+-0x5*0x13?(this['x']=_0x2b27b1[-0xc4*-0xd+-0x1f5d+0x3*0x723],this['y']=_0x2b27b1[-0x2*0x7a1+0x14b2+0x1*-0x56f]):(this['x']=_0x2b27b1,this['y']=_0x21f203);}['add'](_0x33a6a9){return this['x']+=_0x33a6a9['x'],this['y']+=_0x33a6a9['y'],this;}['add2'](_0x1d6d86,_0x599cf4){return this['x']=_0x1d6d86['x']+_0x599cf4['x'],this['y']=_0x1d6d86['y']+_0x599cf4['y'],this;}['addScalar'](_0x559c08){return this['x']+=_0x559c08,this['y']+=_0x559c08,this;}['addScaled'](_0x46f763,_0xb9d373){return this['x']+=_0x46f763['x']*_0xb9d373,this['y']+=_0x46f763['y']*_0xb9d373,this;}['clone'](){const _0x2d17d3=this['constructo'+'r'];return new _0x2d17d3(this['x'],this['y']);}['copy'](_0x284f82){return this['x']=_0x284f82['x'],this['y']=_0x284f82['y'],this;}['cross'](_0x3c17b7){return this['x']*_0x3c17b7['y']-this['y']*_0x3c17b7['x'];}['distance'](_0x30335f){const _0x484bd3=this['x']-_0x30335f['x'],_0x135de8=this['y']-_0x30335f['y'];return Math['sqrt'](_0x484bd3*_0x484bd3+_0x135de8*_0x135de8);}['div'](_0x181441){return this['x']/=_0x181441['x'],this['y']/=_0x181441['y'],this;}['div2'](_0x6b899a,_0x2ea9a8){return this['x']=_0x6b899a['x']/_0x2ea9a8['x'],this['y']=_0x6b899a['y']/_0x2ea9a8['y'],this;}['divScalar'](_0x482a30){return this['x']/=_0x482a30,this['y']/=_0x482a30,this;}['dot'](_0x2ef727){return this['x']*_0x2ef727['x']+this['y']*_0x2ef727['y'];}['equals'](_0x5892ec){return this['x']===_0x5892ec['x']&&this['y']===_0x5892ec['y'];}['equalsAppr'+'ox'](_0x18aa01,_0x14d869=-0x22e3+-0x3*-0xcc7+-0x372+0.000001){return Math['abs'](this['x']-_0x18aa01['x'])<_0x14d869&&Math['abs'](this['y']-_0x18aa01['y'])<_0x14d869;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x1e585c,_0x3d464e,_0x1acd38){return this['x']=_0x1e585c['x']+_0x1acd38*(_0x3d464e['x']-_0x1e585c['x']),this['y']=_0x1e585c['y']+_0x1acd38*(_0x3d464e['y']-_0x1e585c['y']),this;}['mul'](_0x369bbe){return this['x']*=_0x369bbe['x'],this['y']*=_0x369bbe['y'],this;}['mul2'](_0x46ad81,_0x1a8c91){return this['x']=_0x46ad81['x']*_0x1a8c91['x'],this['y']=_0x46ad81['y']*_0x1a8c91['y'],this;}['mulScalar'](_0x19949c){return this['x']*=_0x19949c,this['y']*=_0x19949c,this;}['normalize'](_0x438a20=this){const _0x3a8631=_0x438a20['x']*_0x438a20['x']+_0x438a20['y']*_0x438a20['y'];if(_0x3a8631>0x49a+0x1*0x1d1d+-0x21b7){const _0x4e8eec=(0x104c+0xdde+-0x1e29)/Math['sqrt'](_0x3a8631);this['x']=_0x438a20['x']*_0x4e8eec,this['y']=_0x438a20['y']*_0x4e8eec;}return this;}['rotate'](_0x4acc65){const _0x3addfb=Math['atan2'](this['x'],this['y'])+_0x4acc65*N['DEG_TO_RAD'],_0x4872c9=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x3addfb)*_0x4872c9,this['y']=Math['cos'](_0x3addfb)*_0x4872c9,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*N['RAD_TO_DEG'];}['angleTo'](_0x9ed1d9){return Math['atan2'](this['x']*_0x9ed1d9['y']+this['y']*_0x9ed1d9['x'],this['x']*_0x9ed1d9['x']+this['y']*_0x9ed1d9['y'])*N['RAD_TO_DEG'];}['floor'](_0x234cf6=this){return this['x']=Math['floor'](_0x234cf6['x']),this['y']=Math['floor'](_0x234cf6['y']),this;}['ceil'](_0x572c1b=this){return this['x']=Math['ceil'](_0x572c1b['x']),this['y']=Math['ceil'](_0x572c1b['y']),this;}['round'](_0x527038=this){return this['x']=Math['round'](_0x527038['x']),this['y']=Math['round'](_0x527038['y']),this;}['min'](_0x385d64){return _0x385d64['x']<this['x']&&(this['x']=_0x385d64['x']),_0x385d64['y']<this['y']&&(this['y']=_0x385d64['y']),this;}['max'](_0x1a7a3f){return _0x1a7a3f['x']>this['x']&&(this['x']=_0x1a7a3f['x']),_0x1a7a3f['y']>this['y']&&(this['y']=_0x1a7a3f['y']),this;}['set'](_0x397090,_0x57d8a5){return this['x']=_0x397090,this['y']=_0x57d8a5,this;}['sub'](_0x4f2dc1){return this['x']-=_0x4f2dc1['x'],this['y']-=_0x4f2dc1['y'],this;}['sub2'](_0x5b1ce4,_0x356678){return this['x']=_0x5b1ce4['x']-_0x356678['x'],this['y']=_0x5b1ce4['y']-_0x356678['y'],this;}['subScalar'](_0x497f19){return this['x']-=_0x497f19,this['y']-=_0x497f19,this;}['fromArray'](_0x525a7b,_0xb5bfbc=-0xcc8*0x1+0x2c3*0x5+0x1*-0x107){return this['x']=_0x525a7b[_0xb5bfbc]??this['x'],this['y']=_0x525a7b[_0xb5bfbc+(0x6*0x45+0x1*0x1859+-0xcfb*0x2)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x130d5f=[],_0x471f20=0x792+-0x4*-0x305+-0x13a6){return _0x130d5f[_0x471f20]=this['x'],_0x130d5f[_0x471f20+(0x217*-0x1+0x3*0x292+-0x59e)]=this['y'],_0x130d5f;}static['angleRad'](_0x94af0c,_0x533bbf){return Math['atan2'](_0x94af0c['x']*_0x533bbf['y']-_0x94af0c['y']*_0x533bbf['x'],_0x94af0c['x']*_0x533bbf['x']+_0x94af0c['y']*_0x533bbf['y']);}};c(wt,'ZERO',Object['freeze'](new wt(-0x1*-0x3ed+0x19c7*0x1+-0x4*0x76d,-0x45b+0x14a7+0x413*-0x4))),c(wt,'HALF',Object['freeze'](new wt(0x1*0x137d+-0x1a*-0x7f+-0x2063+0.5,0x518+0x9d8+0x3bc*-0x4+0.5))),c(wt,'ONE',Object['freeze'](new wt(0x69f+-0xe6d+-0x7cf*-0x1,0x23e2+0x2200+-0x45e1*0x1))),c(wt,'UP',Object['freeze'](new wt(0x14f1+0x1*-0x325+-0x11cc,-0x2f9*0x8+-0x1*0xadb+0x22a4))),c(wt,'DOWN',Object['freeze'](new wt(0x1507+0x3c7+0x5*-0x4f6,-(0x9*-0x33d+0x1*0x235+0x1af1)))),c(wt,'RIGHT',Object['freeze'](new wt(-0x110b*0x1+-0x4c1+0x15cd*0x1,0x57*-0x1+-0xe59+0xeb0))),c(wt,'LEFT',Object['freeze'](new wt(-(0xd4c+0x6*0x34c+-0x2113),0x1ff3*0x1+-0x56e+-0x8d7*0x3)));let W=wt;const Yi=class Yi{constructor(_0x291393=-0x77*0x34+-0x1*-0x224b+-0xa1f,_0x21b247=0x6c*-0x43+-0x2*0x3e6+0x2410,_0x5e7dbb=0x1557*0x1+0x249e*0x1+-0x39f5,_0x59cd50=0x25b5+0x1*0x1d5b+-0x1d*0x250){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x291393['length']===-0xcba+0xec*-0x1b+0x25a2?(this['x']=_0x291393[0x2315*0x1+0x7b+-0x2390],this['y']=_0x291393[0x50a+0x209d*-0x1+0x161*0x14],this['z']=_0x291393[-0x3*0x6d1+0x16b0+-0x23b*0x1],this['w']=_0x291393[0x125*-0x1+0x1*-0x22c8+0x23f0]):(this['x']=_0x291393,this['y']=_0x21b247,this['z']=_0x5e7dbb,this['w']=_0x59cd50);}['add'](_0x1f78a8){return this['x']+=_0x1f78a8['x'],this['y']+=_0x1f78a8['y'],this['z']+=_0x1f78a8['z'],this['w']+=_0x1f78a8['w'],this;}['add2'](_0x5b6c74,_0x207a6d){return this['x']=_0x5b6c74['x']+_0x207a6d['x'],this['y']=_0x5b6c74['y']+_0x207a6d['y'],this['z']=_0x5b6c74['z']+_0x207a6d['z'],this['w']=_0x5b6c74['w']+_0x207a6d['w'],this;}['addScalar'](_0x4f519c){return this['x']+=_0x4f519c,this['y']+=_0x4f519c,this['z']+=_0x4f519c,this['w']+=_0x4f519c,this;}['addScaled'](_0x27f477,_0x15c0ff){return this['x']+=_0x27f477['x']*_0x15c0ff,this['y']+=_0x27f477['y']*_0x15c0ff,this['z']+=_0x27f477['z']*_0x15c0ff,this['w']+=_0x27f477['w']*_0x15c0ff,this;}['clone'](){const _0x3f62b4=this['constructo'+'r'];return new _0x3f62b4(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x11a334){return this['x']=_0x11a334['x'],this['y']=_0x11a334['y'],this['z']=_0x11a334['z'],this['w']=_0x11a334['w'],this;}['div'](_0x324edc){return this['x']/=_0x324edc['x'],this['y']/=_0x324edc['y'],this['z']/=_0x324edc['z'],this['w']/=_0x324edc['w'],this;}['div2'](_0xfdcb6e,_0x3084e4){return this['x']=_0xfdcb6e['x']/_0x3084e4['x'],this['y']=_0xfdcb6e['y']/_0x3084e4['y'],this['z']=_0xfdcb6e['z']/_0x3084e4['z'],this['w']=_0xfdcb6e['w']/_0x3084e4['w'],this;}['divScalar'](_0x207fd8){return this['x']/=_0x207fd8,this['y']/=_0x207fd8,this['z']/=_0x207fd8,this['w']/=_0x207fd8,this;}['dot'](_0x1caf69){return this['x']*_0x1caf69['x']+this['y']*_0x1caf69['y']+this['z']*_0x1caf69['z']+this['w']*_0x1caf69['w'];}['equals'](_0xb3688e){return this['x']===_0xb3688e['x']&&this['y']===_0xb3688e['y']&&this['z']===_0xb3688e['z']&&this['w']===_0xb3688e['w'];}['equalsAppr'+'ox'](_0x4a054c,_0x963ce1=0xd0a+-0x7ad*0x5+0x1*0x1957+0.000001){return Math['abs'](this['x']-_0x4a054c['x'])<_0x963ce1&&Math['abs'](this['y']-_0x4a054c['y'])<_0x963ce1&&Math['abs'](this['z']-_0x4a054c['z'])<_0x963ce1&&Math['abs'](this['w']-_0x4a054c['w'])<_0x963ce1;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x87e459,_0x20a7d3,_0x2c60a3){return this['x']=_0x87e459['x']+_0x2c60a3*(_0x20a7d3['x']-_0x87e459['x']),this['y']=_0x87e459['y']+_0x2c60a3*(_0x20a7d3['y']-_0x87e459['y']),this['z']=_0x87e459['z']+_0x2c60a3*(_0x20a7d3['z']-_0x87e459['z']),this['w']=_0x87e459['w']+_0x2c60a3*(_0x20a7d3['w']-_0x87e459['w']),this;}['mul'](_0xc1a7b5){return this['x']*=_0xc1a7b5['x'],this['y']*=_0xc1a7b5['y'],this['z']*=_0xc1a7b5['z'],this['w']*=_0xc1a7b5['w'],this;}['mul2'](_0x3d7062,_0x3a9e75){return this['x']=_0x3d7062['x']*_0x3a9e75['x'],this['y']=_0x3d7062['y']*_0x3a9e75['y'],this['z']=_0x3d7062['z']*_0x3a9e75['z'],this['w']=_0x3d7062['w']*_0x3a9e75['w'],this;}['mulScalar'](_0x4c7859){return this['x']*=_0x4c7859,this['y']*=_0x4c7859,this['z']*=_0x4c7859,this['w']*=_0x4c7859,this;}['normalize'](_0x430f95=this){const _0x54f98b=_0x430f95['x']*_0x430f95['x']+_0x430f95['y']*_0x430f95['y']+_0x430f95['z']*_0x430f95['z']+_0x430f95['w']*_0x430f95['w'];if(_0x54f98b>0x149*-0x1c+0x1*0x25b+-0x21a1*-0x1){const _0x42ca68=(0x2a1*-0xa+-0x5c1*-0x6+-0x83b)/Math['sqrt'](_0x54f98b);this['x']=_0x430f95['x']*_0x42ca68,this['y']=_0x430f95['y']*_0x42ca68,this['z']=_0x430f95['z']*_0x42ca68,this['w']=_0x430f95['w']*_0x42ca68;}return this;}['floor'](_0x4ff645=this){return this['x']=Math['floor'](_0x4ff645['x']),this['y']=Math['floor'](_0x4ff645['y']),this['z']=Math['floor'](_0x4ff645['z']),this['w']=Math['floor'](_0x4ff645['w']),this;}['ceil'](_0x3a7822=this){return this['x']=Math['ceil'](_0x3a7822['x']),this['y']=Math['ceil'](_0x3a7822['y']),this['z']=Math['ceil'](_0x3a7822['z']),this['w']=Math['ceil'](_0x3a7822['w']),this;}['round'](_0x40d2c3=this){return this['x']=Math['round'](_0x40d2c3['x']),this['y']=Math['round'](_0x40d2c3['y']),this['z']=Math['round'](_0x40d2c3['z']),this['w']=Math['round'](_0x40d2c3['w']),this;}['min'](_0x4253eb){return _0x4253eb['x']<this['x']&&(this['x']=_0x4253eb['x']),_0x4253eb['y']<this['y']&&(this['y']=_0x4253eb['y']),_0x4253eb['z']<this['z']&&(this['z']=_0x4253eb['z']),_0x4253eb['w']<this['w']&&(this['w']=_0x4253eb['w']),this;}['max'](_0x230118){return _0x230118['x']>this['x']&&(this['x']=_0x230118['x']),_0x230118['y']>this['y']&&(this['y']=_0x230118['y']),_0x230118['z']>this['z']&&(this['z']=_0x230118['z']),_0x230118['w']>this['w']&&(this['w']=_0x230118['w']),this;}['set'](_0x31928f,_0xb61ff5,_0x3ce3d2,_0x4f871d){return this['x']=_0x31928f,this['y']=_0xb61ff5,this['z']=_0x3ce3d2,this['w']=_0x4f871d,this;}['sub'](_0x55632a){return this['x']-=_0x55632a['x'],this['y']-=_0x55632a['y'],this['z']-=_0x55632a['z'],this['w']-=_0x55632a['w'],this;}['sub2'](_0x84bd1c,_0x31ae71){return this['x']=_0x84bd1c['x']-_0x31ae71['x'],this['y']=_0x84bd1c['y']-_0x31ae71['y'],this['z']=_0x84bd1c['z']-_0x31ae71['z'],this['w']=_0x84bd1c['w']-_0x31ae71['w'],this;}['subScalar'](_0x5e3cb3){return this['x']-=_0x5e3cb3,this['y']-=_0x5e3cb3,this['z']-=_0x5e3cb3,this['w']-=_0x5e3cb3,this;}['fromArray'](_0x5ec4d3,_0x38ef3a=-0xd*-0x10+-0xf6a+0xe9a){return this['x']=_0x5ec4d3[_0x38ef3a]??this['x'],this['y']=_0x5ec4d3[_0x38ef3a+(0x256+-0x2685*-0x1+-0x28da)]??this['y'],this['z']=_0x5ec4d3[_0x38ef3a+(0x234c+-0x6*-0x4a9+0x3f40*-0x1)]??this['z'],this['w']=_0x5ec4d3[_0x38ef3a+(0x1c13*-0x1+-0x17ff*-0x1+0x417)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x1dd0b9=[],_0x26ff3a=0x1789+0x38c*-0xb+0xf7b){return _0x1dd0b9[_0x26ff3a]=this['x'],_0x1dd0b9[_0x26ff3a+(-0x1e*-0x117+0x2*-0x106c+0x27)]=this['y'],_0x1dd0b9[_0x26ff3a+(0x1*0x1844+-0x1*0x20ff+-0x8bd*-0x1)]=this['z'],_0x1dd0b9[_0x26ff3a+(0x1851+0x16*-0x149+0x3f8)]=this['w'],_0x1dd0b9;}};c(Yi,'ZERO',Object['freeze'](new Yi(0x1a78+-0xc4c+0x716*-0x2,0x42c+0x1cd6+-0x19*0x152,-0x255d+0x1*0xd87+0x6*0x3f9,0x154d+0xb*0x365+-0x9c6*0x6))),c(Yi,'HALF',Object['freeze'](new Yi(0x168d*-0x1+0x1f3+0x149a+0.5,0x2c*-0x48+0x1dd6+0x3*-0x5d2+0.5,-0x3*0x6f7+-0x635*-0x4+-0x3ef+0.5,0x127d+-0x97b+0x2*-0x481+0.5))),c(Yi,'ONE',Object['freeze'](new Yi(0x12ca+0x319*-0x5+-0x34c,0x1*0x1379+0x1d*0x9+-0x147d*0x1,0x1fca+-0x1*-0x1ac8+-0x3a91,0xf88+0xf5f+-0xf73*0x2)));let Q=Yi;const Ua=new W(),us=new T(),Fs=new T(),Os=new T(),_l=new T(),Ur=class Ur{constructor(){c(this,'data',new Float32Array(0x1946+0x17*0x185+-0x3c29)),this['data'][-0x20+-0xb85+0xba5]=this['data'][0x44*0x44+0x1952+-0x2b5d]=this['data'][0x12f5+-0x2565+0x127a*0x1]=this['data'][0x78f*0x5+-0x23b3+-0x209]=-0x1*0x4dd+0x11b4+-0xcd6;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x5df664,_0x4a25dc,_0x336f8d,_0x57469e,_0x3aff04){_0x3aff04?(_0x5df664['x']=_0x57469e*Math['tan'](_0x4a25dc*Math['PI']/(0x44e*0x7+0x25ce+-0x4288*0x1)),_0x5df664['y']=_0x5df664['x']/_0x336f8d):(_0x5df664['y']=_0x57469e*Math['tan'](_0x4a25dc*Math['PI']/(0x1f51*-0x1+-0x76*-0xa+-0x1*-0x1c1d)),_0x5df664['x']=_0x5df664['y']*_0x336f8d);}['add2'](_0x35679d,_0x1fdf9c){const _0x56d727=_0x35679d['data'],_0x165532=_0x1fdf9c['data'],_0x51e377=this['data'];return _0x51e377[-0x1b2c+0x2a1*0x6+0x5b3*0x2]=_0x56d727[0x2019+0x1246*-0x1+-0xdd3]+_0x165532[-0x18cf+0x1b08+-0x239],_0x51e377[-0x3*-0x79b+-0x157b*-0x1+-0x1*0x2c4b]=_0x56d727[0x2157+0x50b*0x1+-0x28f*0xf]+_0x165532[0x1051+0x1e57+-0x2ea7],_0x51e377[-0x227*0x5+0xb51*-0x2+0x2167]=_0x56d727[-0x4*0x853+-0xfd1+-0x1*-0x311f]+_0x165532[-0x62*0x60+0x1a23+0x1*0xa9f],_0x51e377[0xdaf+0x4*0x137+0x1288*-0x1]=_0x56d727[-0x1*-0x1ff6+0x12e8+-0x1*0x32db]+_0x165532[-0x529+-0x1*0x15f1+0x277*0xb],_0x51e377[0x1f3*0x9+-0xd41+-0x446]=_0x56d727[-0xf1b+0x1*-0x9a9+0x18c8]+_0x165532[0xe*-0x35+0x1a99+-0x2b*0x8d],_0x51e377[0xd95+-0x3*-0x14a+0xc2*-0x17]=_0x56d727[0x15ea+0x310*-0x1+-0x12d5*0x1]+_0x165532[0x3*0xa0b+0x1079*-0x1+-0xda3*0x1],_0x51e377[-0x1851+0x1433+0x1*0x424]=_0x56d727[0x2455+0x13*-0xe1+-0x4e7*0x4]+_0x165532[-0x6a1+0x1*-0xb56+0x11fd*0x1],_0x51e377[-0x100d+-0x15b*0x8+-0x1*-0x1aec]=_0x56d727[0x38*0x59+-0x1cb4+0x943]+_0x165532[-0x15c7+0x13e2+-0xa4*-0x3],_0x51e377[-0x19ca*-0x1+0x1e45+-0x3807]=_0x56d727[0x11*0x1e2+-0xc5*-0x1a+-0x455*0xc]+_0x165532[0x5d1*-0x2+-0x1a93+-0x263d*-0x1],_0x51e377[0x6c6+0xc6*-0x1f+-0x113d*-0x1]=_0x56d727[-0x170*-0x4+-0x1*0x20ba+0x1cd*0xf]+_0x165532[0xb0f*0x3+-0x2705+0x12d*0x5],_0x51e377[0xf5b+0x23ee*-0x1+0x149d]=_0x56d727[0x1f*-0x12a+-0x1a7e+0x3e9e]+_0x165532[0x2*0x6fc+0x3*0x7d5+-0x256d],_0x51e377[-0xa06+0x22e8*0x1+0x18d7*-0x1]=_0x56d727[0x67a+0x1c0b*0x1+-0x227a]+_0x165532[-0xa84+0x19b+0x8f4],_0x51e377[-0x1ea1+0x4*-0x6a+-0xac7*-0x3]=_0x56d727[-0x298+0x4d+-0x257*-0x1]+_0x165532[-0x30*0x4f+0x13*-0x93+-0x3*-0x897],_0x51e377[0xaca+-0x2e0+-0x1*0x7dd]=_0x56d727[0xa*-0x166+-0xf16+0x1d1f]+_0x165532[-0x87b+-0xd*-0x15c+-0xea*0xa],_0x51e377[0x1*-0x1b0f+-0x3*-0x4a3+-0x152*-0xa]=_0x56d727[-0xdf*0x13+-0x5e7*-0x1+0x89*0x14]+_0x165532[-0x4f7*0x1+-0x1af+0x6b4],_0x51e377[-0xcf7+0x13*-0xb7+0x3cd*0x7]=_0x56d727[-0x9*0x303+0xb*0x12a+0xe5c]+_0x165532[-0x12c+-0x155*0x7+0xa8e],this;}['add'](_0x34c16d){return this['add2'](this,_0x34c16d);}['clone'](){const _0x14f737=this['constructo'+'r'];return new _0x14f737()['copy'](this);}['copy'](_0x4656a1){const _0x5df61f=_0x4656a1['data'],_0x416c90=this['data'];return _0x416c90[0x100*0x6+0x23*-0xdf+0x187d]=_0x5df61f[-0x19b*0x7+-0x2ee+0xe2b*0x1],_0x416c90[0x1021+-0x1c*0x14f+0x1484]=_0x5df61f[0x1eb5+-0x427*0x4+-0xe18],_0x416c90[-0x107f+-0x11b0+0x2231]=_0x5df61f[-0x1*0x17f9+-0x7d6*0x4+0x3753],_0x416c90[-0x246b+-0x2f9*0x1+-0x4d*-0x83]=_0x5df61f[-0x11e7+0x1c2*-0xd+0x28c4],_0x416c90[-0x15d1+0x168*0xf+0xbd]=_0x5df61f[-0x21ee+-0x10*-0x24+0x1fb2],_0x416c90[0x1452+0x1316+-0x2763]=_0x5df61f[-0xb02+0x175b+-0xc54],_0x416c90[-0x1*0x2d3+-0xfbe+0x1297]=_0x5df61f[0x1002+0x2d2*-0x1+0xd2a*-0x1],_0x416c90[-0x12bf*-0x1+-0x231f+-0x1*-0x1067]=_0x5df61f[-0x331*-0x4+-0xde+-0xbdf],_0x416c90[0x1*-0x2136+-0x1*-0x23e9+0x2ab*-0x1]=_0x5df61f[-0xbb6+-0x1*-0x191b+0x1*-0xd5d],_0x416c90[-0x1b2d+0x41b*-0x1+0x1f51]=_0x5df61f[0x5*-0x6c3+-0x4bb+0x2693],_0x416c90[0x1c39+0x1edd+-0x1d86*0x2]=_0x5df61f[-0x11d2+-0x160c+0x27e8],_0x416c90[0xb7e+0x9d*-0x30+-0x3*-0x5ff]=_0x5df61f[0x7de+0x95e+-0x1*0x1131],_0x416c90[0xe89*0x1+0x1166+-0x1fe3]=_0x5df61f[-0x2084*-0x1+0x23f6+-0x446e],_0x416c90[0xf12+0x9ef*-0x3+0xec8]=_0x5df61f[-0x1d*0x13d+-0x74*-0x1a+0x182e],_0x416c90[0x1d58+-0x214f+0x1*0x405]=_0x5df61f[0x2*-0xb7b+-0x1c5c+0x3360],_0x416c90[0x2b*-0xd+-0x167+0x137*0x3]=_0x5df61f[0x1219+0xd1f+0x1*-0x1f29],this;}['equals'](_0x398aa7){const _0x44d0ce=this['data'],_0x41e217=_0x398aa7['data'];return _0x44d0ce[-0x21ac+-0x1c6c+0x8*0x7c3]===_0x41e217[-0x1235+0x1e*-0xeb+0x2dbf]&&_0x44d0ce[0x1617+0x1305+-0x291b]===_0x41e217[0x11*0x64+0x1a6b*0x1+-0x210e*0x1]&&_0x44d0ce[0x262b+0x1c51+0x7f*-0x86]===_0x41e217[-0xfaa+-0x968*-0x1+0x644]&&_0x44d0ce[-0x17bf+-0x1f*0x119+0x3*0x1343]===_0x41e217[-0x1059+0x9*-0x1d5+0x20d9]&&_0x44d0ce[-0x25f9+-0x1428+0x3a25]===_0x41e217[-0x1*0x1b25+-0x11c0+0x2ce9]&&_0x44d0ce[-0x22fc+-0x1e1f+-0x1048*-0x4]===_0x41e217[0x188f+0x1fa+-0x4*0x6a1]&&_0x44d0ce[-0x1dbb+-0xb*0x2f9+0x7*0x8ec]===_0x41e217[0x1f32+0x2*0x7a+-0x202*0x10]&&_0x44d0ce[-0x11*-0x143+0x1e89+-0x33f5]===_0x41e217[-0xe*0x151+0x9*-0x4f+0x153c]&&_0x44d0ce[0x6d9+0x4a7+-0x5bc*0x2]===_0x41e217[0x147b*-0x1+-0x6e6+0x1b69]&&_0x44d0ce[-0x1016+-0xd96*0x1+0xd*0x249]===_0x41e217[0x1d4f+0x72*0x41+-0x3a38]&&_0x44d0ce[0xd3c+-0x110c+0x3da]===_0x41e217[-0x14c4+-0x2*0x32a+0x97*0x2e]&&_0x44d0ce[0x2032+0x274+0x229b*-0x1]===_0x41e217[0x1766+-0x3fb+0xf8*-0x14]&&_0x44d0ce[0x751*0x2+0x967+-0x17fd]===_0x41e217[0x1d49+-0x1e6e+0x1*0x131]&&_0x44d0ce[-0x231a+0x3b*-0x57+0x1b9a*0x2]===_0x41e217[-0x43*0x2f+-0x3*-0x33d+0x4b*0x9]&&_0x44d0ce[0x10a1+-0x1589+0xa*0x7f]===_0x41e217[0x18b5+0x4*-0x22+-0x145*0x13]&&_0x44d0ce[0xb9f+0x1ed7+-0x2a67]===_0x41e217[-0x92c*0x1+-0x18d9*-0x1+-0xf9e];}['isIdentity'](){const _0x33c0d1=this['data'];return _0x33c0d1[-0x24da+0x1*0x15f7+0xee3]===0x5b1+-0x570+-0x40&&_0x33c0d1[0xefb+0x55f*0x5+-0x1*0x29d5]===0xe5b+0x246a+-0x29*0x13d&&_0x33c0d1[-0xe67+0x5ae+0x3*0x2e9]===0x1*-0x6fe+-0x1d*-0xd+-0x9d*-0x9&&_0x33c0d1[0x1934+-0x2b9*0x6+-0x8db]===0x1483+0x62*-0x49+-0x1*-0x76f&&_0x33c0d1[0x284*-0x7+0x1b43*0x1+0x9a3*-0x1]===0x4*-0x4d5+0x9*-0x1a6+0x222a&&_0x33c0d1[-0x19cc+0x1ca1+0x48*-0xa]===0xe60+0x4a5*0x5+0x3*-0xc88&&_0x33c0d1[0x1*-0x162a+-0x9e6+0x2016]===-0x1*0xb65+-0x1695+0x1*0x21fa&&_0x33c0d1[-0x3*0x7f3+-0xecd+0x26ad]===0x1300+-0x24cb*0x1+0x11cb&&_0x33c0d1[0x26*-0xcd+0x1c14+0x262]===0x192+0xb*-0x219+0x3*0x72b&&_0x33c0d1[-0x24e7+0x1460+-0x10*-0x109]===-0x13a3+-0x3*0x468+0x20db&&_0x33c0d1[0x2*0xdda+0x1*-0x1db3+0x209]===-0x1342*-0x2+0xcbb+0x2*-0x199f&&_0x33c0d1[0x1cdd+-0xd*0x2eb+-0x1*-0x91d]===-0xbe5*0x3+-0x59*-0x9+0x6*0x56d&&_0x33c0d1[-0xb58+-0xcd7+0x1*0x183b]===0x734*0x5+0x1ac5+0x1*-0x3ec9&&_0x33c0d1[-0x1c3*-0xc+0x91*0x4+-0x175b]===0x1ebb*-0x1+0x2*-0x4eb+0x9b*0x43&&_0x33c0d1[-0x1*-0x1c3f+0x551*-0x5+-0x19c*0x1]===0x7f*-0x7+0x97*-0x40+0x2939&&_0x33c0d1[0x10*0xae+0x51*-0x5f+-0x133e*-0x1]===0x1a6*-0x5+0x2660*0x1+0xa0b*-0x3;}['mul2'](_0x29fd33,_0x18e4bb){const _0x417ff5=_0x29fd33['data'],_0x1b5116=_0x18e4bb['data'],_0x53819d=this['data'],_0x3cdfb1=_0x417ff5[0x65*0x32+0x1*-0xddb+0x3*-0x1f5],_0x471037=_0x417ff5[0xc89*-0x1+0x8e*-0x3b+0x2d44],_0x1829a9=_0x417ff5[-0x18fe+0xb4c+0xdb4],_0x54f4f9=_0x417ff5[0x1*0x19c3+0x2*0x459+-0x1*0x2272],_0x442d75=_0x417ff5[-0x2*0x622+0xfbf+-0x1*0x377],_0xc77f5=_0x417ff5[0x228f*-0x1+-0x22f*-0x10+0x5c*-0x1],_0x13353a=_0x417ff5[0x3*0x94d+0x18d0+0x2f*-0x11f],_0x19539a=_0x417ff5[0x7*0x4c7+-0x1684+0x1e*-0x5d],_0x1d1d2f=_0x417ff5[0x211f+0x49*0x6a+0x3f51*-0x1],_0x16267f=_0x417ff5[-0x1df2+-0x1033+0x1*0x2e2e],_0xe41c6c=_0x417ff5[0x6a2+0x1638+-0x10*0x1cd],_0x43c281=_0x417ff5[-0x120b+-0x60c+0x1822],_0x6809b5=_0x417ff5[-0x99+-0x1c0+0x265],_0x2b3c8c=_0x417ff5[-0x1b25*0x1+-0xc0c+0x273e*0x1],_0xd7f71f=_0x417ff5[0x198a+0xf*-0x1f0+0x394],_0x18cd62=_0x417ff5[-0x1*0x2707+0xe90+0x1886];let _0x567fe1,_0x47f04f,_0x484f78,_0x34629e;return _0x567fe1=_0x1b5116[-0x1*0x24e9+0x20fa+0x3ef],_0x47f04f=_0x1b5116[-0x1*-0x1fd6+0x1e5+-0x21ba],_0x484f78=_0x1b5116[-0x1dc1+-0x17a5+0x1*0x3568],_0x34629e=_0x1b5116[-0x332*0x5+-0x1*-0x1dcf+0x7a*-0x1d],_0x53819d[0x1345*0x1+-0x221+-0x1*0x1124]=_0x3cdfb1*_0x567fe1+_0x442d75*_0x47f04f+_0x1d1d2f*_0x484f78+_0x6809b5*_0x34629e,_0x53819d[-0x1f2f+-0x10c9*0x1+0x1*0x2ff9]=_0x471037*_0x567fe1+_0xc77f5*_0x47f04f+_0x16267f*_0x484f78+_0x2b3c8c*_0x34629e,_0x53819d[-0x2473+-0x1a1c+-0x119*-0x39]=_0x1829a9*_0x567fe1+_0x13353a*_0x47f04f+_0xe41c6c*_0x484f78+_0xd7f71f*_0x34629e,_0x53819d[0xd1e+0x1*0x855+-0x7*0x310]=_0x54f4f9*_0x567fe1+_0x19539a*_0x47f04f+_0x43c281*_0x484f78+_0x18cd62*_0x34629e,_0x567fe1=_0x1b5116[0x637+0x28*-0xfa+0x20dd],_0x47f04f=_0x1b5116[-0x2*-0x649+-0x2319+0x9c*0x25],_0x484f78=_0x1b5116[0x307+0x787+-0xa88],_0x34629e=_0x1b5116[0x13*-0x20c+-0xefd+0x35e8],_0x53819d[0x1138+-0xb5d+-0x5d7]=_0x3cdfb1*_0x567fe1+_0x442d75*_0x47f04f+_0x1d1d2f*_0x484f78+_0x6809b5*_0x34629e,_0x53819d[0x55+-0x319+0x2c9]=_0x471037*_0x567fe1+_0xc77f5*_0x47f04f+_0x16267f*_0x484f78+_0x2b3c8c*_0x34629e,_0x53819d[-0x77b+-0x1dc4+0x1*0x2545]=_0x1829a9*_0x567fe1+_0x13353a*_0x47f04f+_0xe41c6c*_0x484f78+_0xd7f71f*_0x34629e,_0x53819d[0xa46+0x206*0xe+0x5*-0x7b7]=_0x54f4f9*_0x567fe1+_0x19539a*_0x47f04f+_0x43c281*_0x484f78+_0x18cd62*_0x34629e,_0x567fe1=_0x1b5116[-0x1*-0x22d9+0x1281+0x145*-0x2a],_0x47f04f=_0x1b5116[-0x7*0x107+0x9*-0x22a+0x1ab4],_0x484f78=_0x1b5116[0x1*-0x25bf+0x13f6+-0x1*-0x11d3],_0x34629e=_0x1b5116[0x46*0x7e+-0x6a0+0x1bc9*-0x1],_0x53819d[-0x1*0x1b69+0x2c6*0xb+-0x311*0x1]=_0x3cdfb1*_0x567fe1+_0x442d75*_0x47f04f+_0x1d1d2f*_0x484f78+_0x6809b5*_0x34629e,_0x53819d[0x2*0xad5+-0x1*0x161e+0x5*0x19]=_0x471037*_0x567fe1+_0xc77f5*_0x47f04f+_0x16267f*_0x484f78+_0x2b3c8c*_0x34629e,_0x53819d[0x511*-0x3+0xb4e+0x3ef]=_0x1829a9*_0x567fe1+_0x13353a*_0x47f04f+_0xe41c6c*_0x484f78+_0xd7f71f*_0x34629e,_0x53819d[0x6a*0x43+0xad3*-0x1+0x6c*-0x28]=_0x54f4f9*_0x567fe1+_0x19539a*_0x47f04f+_0x43c281*_0x484f78+_0x18cd62*_0x34629e,_0x567fe1=_0x1b5116[-0x102c+-0x53*-0x49+-0x773],_0x47f04f=_0x1b5116[-0x1e1f*-0x1+-0xdf5*0x1+-0x101d],_0x484f78=_0x1b5116[0x263b*-0x1+0x72*0x34+0xf21],_0x34629e=_0x1b5116[-0x1b10+-0x14a8+0x2fc7],_0x53819d[-0x1686+-0xe4*0x17+0x42*0xa7]=_0x3cdfb1*_0x567fe1+_0x442d75*_0x47f04f+_0x1d1d2f*_0x484f78+_0x6809b5*_0x34629e,_0x53819d[-0xbad+0x1d35+-0xb3*0x19]=_0x471037*_0x567fe1+_0xc77f5*_0x47f04f+_0x16267f*_0x484f78+_0x2b3c8c*_0x34629e,_0x53819d[0x942+0xd*-0x241+-0xf*-0x157]=_0x1829a9*_0x567fe1+_0x13353a*_0x47f04f+_0xe41c6c*_0x484f78+_0xd7f71f*_0x34629e,_0x53819d[-0x1a1f*0x1+0x19eb+0x1*0x43]=_0x54f4f9*_0x567fe1+_0x19539a*_0x47f04f+_0x43c281*_0x484f78+_0x18cd62*_0x34629e,this;}['mulAffine2'](_0x5898c4,_0x11b43d){const _0x40627f=_0x5898c4['data'],_0x2703a1=_0x11b43d['data'],_0x19f6d0=this['data'],_0x5e632b=_0x40627f[-0x37*0x32+0x155a+-0xa9c],_0x1b27de=_0x40627f[0x1ad8*-0x1+-0x22e6+0x1495*0x3],_0xa3f824=_0x40627f[0xd0e+-0x15e*0x8+-0x9*0x3c],_0x30b335=_0x40627f[-0x5*-0x1f+0x3c1*0x4+-0xf9b],_0x242bee=_0x40627f[-0x115d+0x12d*-0x10+0x2432],_0x99ec68=_0x40627f[0x7a*-0x5+-0x4e9+0x751],_0x31f993=_0x40627f[-0x751+0x178c+-0x1033],_0x3f9b38=_0x40627f[-0xe0b+0x181b+-0xa07],_0x546b7c=_0x40627f[-0x143*-0xe+-0x1788+0x5e8],_0x27770d=_0x40627f[-0x1550+0x24f7+-0x11*0xeb],_0x2a67f7=_0x40627f[0x1855+-0x10a*0x7+-0x26e*0x7],_0x44d537=_0x40627f[0x23cc+-0x76+-0x2348];let _0xa9f5d2,_0x2e5224,_0x2505b9;return _0xa9f5d2=_0x2703a1[-0x58a+0x141c+0x5*-0x2ea],_0x2e5224=_0x2703a1[0x325+-0xd0d*-0x1+-0x1031],_0x2505b9=_0x2703a1[-0xc*-0x20b+-0x2129*0x1+0x8a7],_0x19f6d0[0x3*0x85d+0x4d8*0x2+-0x22c7]=_0x5e632b*_0xa9f5d2+_0x30b335*_0x2e5224+_0x31f993*_0x2505b9,_0x19f6d0[0x1*0x426+0x2572+0x1*-0x2997]=_0x1b27de*_0xa9f5d2+_0x242bee*_0x2e5224+_0x3f9b38*_0x2505b9,_0x19f6d0[0x14bd+0xd5*-0x21+-0x6ba*-0x1]=_0xa3f824*_0xa9f5d2+_0x99ec68*_0x2e5224+_0x546b7c*_0x2505b9,_0x19f6d0[0xb*-0xbb+-0x26cc+-0x2*-0x176c]=-0x1f1f+-0x1ccd+0x2ff*0x14,_0xa9f5d2=_0x2703a1[-0x2*0x9b1+0x9c3*-0x3+0x30af],_0x2e5224=_0x2703a1[-0x1*-0xbef+-0x25ba+0x19d0],_0x2505b9=_0x2703a1[0x19aa+-0xf2*0x1d+0x2*0xe3],_0x19f6d0[-0xe2a+-0x4d*0x17+0x1519]=_0x5e632b*_0xa9f5d2+_0x30b335*_0x2e5224+_0x31f993*_0x2505b9,_0x19f6d0[-0x461+-0x148c+0x18f2]=_0x1b27de*_0xa9f5d2+_0x242bee*_0x2e5224+_0x3f9b38*_0x2505b9,_0x19f6d0[-0x914+0x1cd2+0x1*-0x13b8]=_0xa3f824*_0xa9f5d2+_0x99ec68*_0x2e5224+_0x546b7c*_0x2505b9,_0x19f6d0[0x137a+0x8bb+-0x1c2e]=0x171+0x1c59+-0x1dca,_0xa9f5d2=_0x2703a1[0x24bc+0xa37+-0x2eeb*0x1],_0x2e5224=_0x2703a1[0x1bcc+-0x8b4+0x77*-0x29],_0x2505b9=_0x2703a1[-0x1e78+0xdcd+-0x263*-0x7],_0x19f6d0[0x14de+-0x1*-0x24cd+0x5*-0xb87]=_0x5e632b*_0xa9f5d2+_0x30b335*_0x2e5224+_0x31f993*_0x2505b9,_0x19f6d0[-0x1417*0x1+-0x1*-0x1979+-0x559]=_0x1b27de*_0xa9f5d2+_0x242bee*_0x2e5224+_0x3f9b38*_0x2505b9,_0x19f6d0[0x20f1+-0x2060+-0x1*0x87]=_0xa3f824*_0xa9f5d2+_0x99ec68*_0x2e5224+_0x546b7c*_0x2505b9,_0x19f6d0[0x97*-0x13+0x40*0x5e+-0x8*0x188]=-0x26fe+0xad*0xd+-0x25*-0xd1,_0xa9f5d2=_0x2703a1[-0x7d*-0x3b+-0x217f*-0x1+-0x3e42],_0x2e5224=_0x2703a1[0xda5*0x1+0x515+-0x12ad],_0x2505b9=_0x2703a1[-0x147+-0x83e+0x993],_0x19f6d0[0x228*0xe+-0x1ad8+0x34c*-0x1]=_0x5e632b*_0xa9f5d2+_0x30b335*_0x2e5224+_0x31f993*_0x2505b9+_0x27770d,_0x19f6d0[0x1320+-0x37*-0x4f+-0x240c]=_0x1b27de*_0xa9f5d2+_0x242bee*_0x2e5224+_0x3f9b38*_0x2505b9+_0x2a67f7,_0x19f6d0[-0x1801+0x11d2*-0x2+-0x1f*-0x1ed]=_0xa3f824*_0xa9f5d2+_0x99ec68*_0x2e5224+_0x546b7c*_0x2505b9+_0x44d537,_0x19f6d0[0xe76+-0x2508+0x16a1]=-0x1378+0x137f+-0x6,this;}['mul'](_0x5e340a){return this['mul2'](this,_0x5e340a);}['transformP'+'oint'](_0x96d3b6,_0x4a25d6=new T()){const _0x4bf763=this['data'],{x:_0x14daa0,y:_0x274cd7,z:_0x57a856}=_0x96d3b6;return _0x4a25d6['x']=_0x14daa0*_0x4bf763[-0x245*0xd+-0x116f*0x1+-0x5de*-0x8]+_0x274cd7*_0x4bf763[-0xd1a*-0x2+0x153f+-0x2f6f]+_0x57a856*_0x4bf763[0x1*0xc43+0x512+-0x114d]+_0x4bf763[0x845*0x1+0x14*0x130+-0x1ff9*0x1],_0x4a25d6['y']=_0x14daa0*_0x4bf763[-0x17e1+-0x1249*-0x1+0x599]+_0x274cd7*_0x4bf763[0x2*-0xaae+-0x211d+-0x2d*-0x136]+_0x57a856*_0x4bf763[0x1f57+0x1*0x40a+0xbc8*-0x3]+_0x4bf763[-0xe*0x152+-0x1*0x153d+0x27c6],_0x4a25d6['z']=_0x14daa0*_0x4bf763[0x45e+0x8*-0x190+0x4*0x209]+_0x274cd7*_0x4bf763[0x3e7+-0x1*-0xc43+-0x1024]+_0x57a856*_0x4bf763[-0x1469+0x1834+-0x3c1]+_0x4bf763[-0x8b5*0x1+-0x1ff*-0x10+-0x172d],_0x4a25d6;}['transformV'+'ector'](_0x1dd376,_0x30ff5f=new T()){const _0x36d133=this['data'],{x:_0x3bd76c,y:_0x962fa3,z:_0x5ae7d3}=_0x1dd376;return _0x30ff5f['x']=_0x3bd76c*_0x36d133[0x2*-0x350+-0x1*-0xe57+-0x7b7]+_0x962fa3*_0x36d133[0x1*-0x1b82+-0xe77+-0xdff*-0x3]+_0x5ae7d3*_0x36d133[-0x87e*-0x1+0x1*-0x13e+0x15*-0x58],_0x30ff5f['y']=_0x3bd76c*_0x36d133[0x1b0+0x1*-0xdb5+0xc06]+_0x962fa3*_0x36d133[0x1beb*-0x1+0x17cf+0x421]+_0x5ae7d3*_0x36d133[-0x2342+0x8e*-0x2b+0x13b7*0x3],_0x30ff5f['z']=_0x3bd76c*_0x36d133[-0x1a4b+-0x1999+0xb6*0x49]+_0x962fa3*_0x36d133[0xfd4+0xd44+-0x1d12]+_0x5ae7d3*_0x36d133[-0xfa6+0x1a2c+-0x29f*0x4],_0x30ff5f;}['transformV'+'ec4'](_0x16702d,_0x19d008=new Q()){const _0x23f845=this['data'],{x:_0x2134df,y:_0x2050a4,z:_0xda8a91,w:_0x27fde2}=_0x16702d;return _0x19d008['x']=_0x2134df*_0x23f845[0xebf+0x25f6+-0x34b5]+_0x2050a4*_0x23f845[0x1035+-0x2*0x875+-0x5*-0x25]+_0xda8a91*_0x23f845[0x17e7+-0x12fd+0x271*-0x2]+_0x27fde2*_0x23f845[0x1a62+0x159e+-0x42*0xba],_0x19d008['y']=_0x2134df*_0x23f845[0x6b*0x35+0xd71+-0x2397]+_0x2050a4*_0x23f845[-0x11a5*0x1+0x1dd+-0xfcd*-0x1]+_0xda8a91*_0x23f845[-0x4a*-0x36+-0xc89*0x1+-0x30a]+_0x27fde2*_0x23f845[-0x15a2+-0x53*0x4f+0x1*0x2f4c],_0x19d008['z']=_0x2134df*_0x23f845[0x2ef*-0x9+-0x2253+0x3cbc]+_0x2050a4*_0x23f845[0x17bf+0x1*0x1e71+0x120e*-0x3]+_0xda8a91*_0x23f845[0x161f+0x852+-0x2b*0xb5]+_0x27fde2*_0x23f845[0x23e7+-0x4*0x5cb+0x3b*-0x37],_0x19d008['w']=_0x2134df*_0x23f845[0x5d*-0x19+0x1014+-0x6fc]+_0x2050a4*_0x23f845[-0x2329+-0x2ae+0x12ef*0x2]+_0xda8a91*_0x23f845[-0x23b+-0x116c*-0x1+-0x793*0x2]+_0x27fde2*_0x23f845[0x47a+-0x2a*0x81+-0x10bf*-0x1],_0x19d008;}['setLookAt'](_0x57de71,_0xc1842c,_0x1ec8d8){Os['sub2'](_0x57de71,_0xc1842c)['normalize'](),Fs['copy'](_0x1ec8d8)['normalize'](),us['cross'](Fs,Os)['normalize'](),Fs['cross'](Os,us);const _0x3ca895=this['data'];return _0x3ca895[0xa4*-0x34+-0x1f55+0x40a5]=us['x'],_0x3ca895[0x1b1d+-0x2636+0xb1a*0x1]=us['y'],_0x3ca895[0x239f+0xc99+0x176*-0x21]=us['z'],_0x3ca895[-0x18d9*-0x1+-0x11b4+-0x722]=-0x1d*-0x158+0x237e+-0x846*0x9,_0x3ca895[0x2281*-0x1+0x364+-0x265*-0xd]=Fs['x'],_0x3ca895[-0x1a9f+-0x3d6*0x1+0x1e7a]=Fs['y'],_0x3ca895[0x1a1f*-0x1+-0x1b46+-0x5*-0xaaf]=Fs['z'],_0x3ca895[0x1*-0xb4f+0x19b*-0x17+-0x161*-0x23]=-0x1*-0x3d1+-0x2639+-0xc*-0x2de,_0x3ca895[-0xf22*0x2+0x163b+0x811]=Os['x'],_0x3ca895[0x1fbe+0x652+-0x2607]=Os['y'],_0x3ca895[0x55*0xa+0x377+-0x6bf*0x1]=Os['z'],_0x3ca895[-0xd42+-0x20f8*-0x1+0x3ef*-0x5]=0x1c31+0x1*0xea8+0x1*-0x2ad9,_0x3ca895[-0x22a7+-0x8*0x259+0x1*0x357b]=_0x57de71['x'],_0x3ca895[-0x453*0x1+-0x909*0x3+-0x1*-0x1f7b]=_0x57de71['y'],_0x3ca895[-0xd80+-0x1526+0x22b4]=_0x57de71['z'],_0x3ca895[-0x18cc+-0x1e6a*-0x1+-0x1*0x58f]=0xb7*0x26+0x2*-0xee9+0x2a9,this;}['setFrustum'](_0x1bab18,_0x5b7270,_0x21f395,_0x436f62,_0x205161,_0x849ca7){const _0x45b8f9=(-0x1*0x443+0x1*0x259f+-0x58f*0x6)*_0x205161,_0x490faa=_0x5b7270-_0x1bab18,_0x469522=_0x436f62-_0x21f395,_0x2b12ce=_0x849ca7-_0x205161,_0x539c0a=this['data'];return _0x539c0a[0x1592+-0xaca*0x1+-0xac8]=_0x45b8f9/_0x490faa,_0x539c0a[-0xcd1+-0x127a+-0x7d3*-0x4]=0x75*0x4+-0x281*0xc+0x1c38,_0x539c0a[0x355*-0x2+-0x1030+0x16dc]=0x93*0x29+0x166f*-0x1+0x2*-0x8e,_0x539c0a[0x1*0x1e76+0x2*0xd61+0x1d*-0x1f9]=0x2*-0x11ab+-0x2193+0x44e9,_0x539c0a[0x1d90+-0x70*-0x2+0x6*-0x512]=0x254c+0x11e+-0x37e*0xb,_0x539c0a[0x17d5*-0x1+0x183f+0x1*-0x65]=_0x45b8f9/_0x469522,_0x539c0a[0x1b7+0x24c1+0x2*-0x1339]=-0x3e*-0x62+0x70*-0x3d+-0x24*-0x15,_0x539c0a[-0x45c+0x8*-0x184+0x1083]=-0x23b1+0x2474+0xf*-0xd,_0x539c0a[0x22aa+-0x265a+0x3b8]=(_0x5b7270+_0x1bab18)/_0x490faa,_0x539c0a[-0x2*0x403+0x4c5+0x34a]=(_0x436f62+_0x21f395)/_0x469522,_0x539c0a[0x1*0x2429+0x16b*-0x1+-0x22b4]=(-_0x849ca7-_0x205161)/_0x2b12ce,_0x539c0a[0x7bc+-0x1*0xdcc+-0x61b*-0x1]=-(0xb3c+0x53*0xb+-0x2*0x766),_0x539c0a[0x751*-0x1+-0xd*0xd4+0x1221]=-0xa*-0x33d+-0x379*0x3+0x1*-0x15f7,_0x539c0a[0x21c7*-0x1+0x1394+0x720*0x2]=-0x3*0x19a+-0x25fc+0x2aca,_0x539c0a[-0xe19+0x3f3+-0x1*-0xa34]=-_0x45b8f9*_0x849ca7/_0x2b12ce,_0x539c0a[-0x1cc+0xb*0x10d+-0x9b4]=-0xee+-0xd*0x257+0x1f59,this;}['setPerspec'+'tive'](_0x2c2533,_0x36c147,_0x11bf0d,_0x2fd9ad,_0x58dcc2){return Ur['_getPerspe'+'ctiveHalfS'+'ize'](Ua,_0x2c2533,_0x36c147,_0x11bf0d,_0x58dcc2),this['setFrustum'](-Ua['x'],Ua['x'],-Ua['y'],Ua['y'],_0x11bf0d,_0x2fd9ad);}['setOrtho'](_0x4523f4,_0xe782d1,_0x493075,_0x2fe44c,_0x4c4e5f,_0x3bc98a){const _0x58ea3d=this['data'];return _0x58ea3d[0x1ced+-0x11e0+0x29*-0x45]=(0x1499*-0x1+0x256d+-0x869*0x2)/(_0xe782d1-_0x4523f4),_0x58ea3d[-0x1*0x425+0x664*0x5+-0x1bce]=-0x24c*-0xf+-0x6*0x14c+-0x1aac,_0x58ea3d[-0x8fe*0x1+0xeb0+-0x34*0x1c]=-0x1732+-0x1c7b+-0x1*-0x33ad,_0x58ea3d[0x229c+0x17d*0xc+-0x3475]=-0x1d10+-0x4*-0x62c+0x10*0x46,_0x58ea3d[-0xa*0xc9+0x2397+-0x2f*0x97]=-0xd0b+0x177*-0x1a+0x3321,_0x58ea3d[-0x3eb*0x7+0x1c44+0xf*-0xe]=(-0x2045+0xa*-0x2+-0x2f1*-0xb)/(_0x2fe44c-_0x493075),_0x58ea3d[-0xb3*0x1c+-0x7bc+0x1b56]=-0x1*0x18e1+-0xbb6+0x2497,_0x58ea3d[0x21fb*0x1+-0x514+-0x1ce0]=-0x4d*0x40+0x25c1+-0x62b*0x3,_0x58ea3d[-0x319+0x247b+0x215a*-0x1]=-0x1ba0+0x56a*0x3+0x1*0xb62,_0x58ea3d[0x23bb+-0x1e40+-0x572]=0xcd*0xa+0x23*-0x103+0x1b67,_0x58ea3d[-0x1b64+0x9*0x2ab+0x36b]=-(0x24c3+0x3*0x6cc+-0x3925)/(_0x3bc98a-_0x4c4e5f),_0x58ea3d[-0x111f*0x1+-0x2*-0xaa5+0x3*-0x160]=-0x180d+0x1208*-0x2+-0x3c1d*-0x1,_0x58ea3d[-0x3*0x92f+-0x13*0xc7+-0x13f*-0x22]=-(_0xe782d1+_0x4523f4)/(_0xe782d1-_0x4523f4),_0x58ea3d[-0x1412+0x1*-0x181d+0x2c3c]=-(_0x2fe44c+_0x493075)/(_0x2fe44c-_0x493075),_0x58ea3d[0x2*0x1073+-0x1d64+-0x374]=-(_0x3bc98a+_0x4c4e5f)/(_0x3bc98a-_0x4c4e5f),_0x58ea3d[0x14b8+-0x17*-0x19a+-0x397f]=-0x2*0x971+-0x249b*0x1+-0x1bbf*-0x2,this;}['setFromAxi'+'sAngle'](_0x237794,_0x314c49){_0x314c49*=N['DEG_TO_RAD'];const {x:_0x183522,y:_0x1e14ac,z:_0x3f5fdb}=_0x237794,_0x27c2b2=Math['cos'](_0x314c49),_0x39e2ed=Math['sin'](_0x314c49),_0x9d7ae9=0x9d2+-0x13d0+-0x9ff*-0x1-_0x27c2b2,_0x402a39=_0x9d7ae9*_0x183522,_0x368d7a=_0x9d7ae9*_0x1e14ac,_0x50a333=this['data'];return _0x50a333[-0x1a3a*-0x1+-0x21f3+0x7b9*0x1]=_0x402a39*_0x183522+_0x27c2b2,_0x50a333[0x97f+-0x12b3+0x935]=_0x402a39*_0x1e14ac+_0x39e2ed*_0x3f5fdb,_0x50a333[-0x894+0x19b1+-0x111b]=_0x402a39*_0x3f5fdb-_0x39e2ed*_0x1e14ac,_0x50a333[0xbf*0x23+-0x39*0x31+-0xf31*0x1]=-0x1*0xea6+0x2662+0x1c*-0xd9,_0x50a333[-0x1*-0x158f+0x200b+-0x3596]=_0x402a39*_0x1e14ac-_0x39e2ed*_0x3f5fdb,_0x50a333[-0x1*-0xeeb+0x1f35+-0x431*0xb]=_0x368d7a*_0x1e14ac+_0x27c2b2,_0x50a333[0xbe0+-0x1999+0xdbf]=_0x368d7a*_0x3f5fdb+_0x39e2ed*_0x183522,_0x50a333[0x8cf+0x1cbc+-0x2584]=-0x209d+0x2628+0x1*-0x58b,_0x50a333[0x61f*0x3+-0x1afc+0x1*0x8a7]=_0x402a39*_0x3f5fdb+_0x39e2ed*_0x1e14ac,_0x50a333[0x21c9+-0x1*0x1d5+0x1*-0x1feb]=_0x368d7a*_0x3f5fdb-_0x183522*_0x39e2ed,_0x50a333[0x386*-0x1+-0x1*0x11a9+0x1539]=_0x9d7ae9*_0x3f5fdb*_0x3f5fdb+_0x27c2b2,_0x50a333[0x7a8+-0x100f+0x872]=0xaa7+0x7a6*0x4+-0x293f*0x1,_0x50a333[-0x8f2+0x754+-0x6*-0x47]=-0x7cb*-0x4+-0x8*-0x2af+0x8c6*-0x6,_0x50a333[-0x2697+-0x3*0x1cf+0x2c11]=0x2f*-0x21+0x340*-0xa+-0x268f*-0x1,_0x50a333[0x1796*0x1+0x1f3*-0xa+-0x40a]=-0x1*-0x911+-0x7*-0x35b+0x1*-0x208e,_0x50a333[-0x1f17+0x8b0+0x1676]=0x3*0xadf+-0x2*0xb6c+0x32*-0x32,this;}['setTransla'+'te'](_0x2f9ae0,_0x241bf9,_0x469377){const _0x32ba5d=this['data'];return _0x32ba5d[0x1b65+-0xd3e+0xe27*-0x1]=0x7*0x593+-0x1e3+-0x2521,_0x32ba5d[0xdcc*-0x2+0x706+0x1493]=-0x2326+-0x26e8+-0x4a0e*-0x1,_0x32ba5d[-0xcb7+-0x1*0x1d0f+0x29c8]=0x66d*-0x5+-0x18d*0x17+-0x21e6*-0x2,_0x32ba5d[0x8*-0x463+-0x62b*-0x1+0x1cf0]=0x8c9+0x4ca*-0x5+-0xf29*-0x1,_0x32ba5d[-0x9e3+0x2505+-0x1b1e]=0x21b*-0x12+0x1683*0x1+-0xd*-0x12f,_0x32ba5d[0x1*0x1fa2+-0x12c1*-0x1+-0x266*0x15]=-0xfda+0x924+-0x6b7*-0x1,_0x32ba5d[0x201b+0x6a2+-0x26b7]=0x5*0x2f3+-0xaba+-0x405,_0x32ba5d[0x5ab+0x3*-0x248+0x134]=0x1b64+-0x188b+0x1*-0x2d9,_0x32ba5d[-0x22f8+0x629*0x1+0x45*0x6b]=-0xcab+-0x25d2+0x5*0xa19,_0x32ba5d[0x1*-0xc7+-0x59*0x29+0x13*0xcb]=0x1a5f+0x258b+-0xca*0x51,_0x32ba5d[0xb*-0x16e+-0x1ac6+0xf2*0x2d]=-0xe5*0x5+-0x2a4+0x71e,_0x32ba5d[0xcc8+0x1ef4+-0x2bb1]=-0x1*0x193a+0x452+0xc*0x1be,_0x32ba5d[0x2*0x6c5+0x111+-0x1*0xe8f]=_0x2f9ae0,_0x32ba5d[0x11*0x13d+0xad6+0xa*-0x32f]=_0x241bf9,_0x32ba5d[-0x1cdf*-0x1+-0x1*0x182e+-0x4a3]=_0x469377,_0x32ba5d[-0x54f+-0x1498+0x2*0xcfb]=-0x35*0x58+0x511*-0x5+0x2b8e,this;}['setScale'](_0x38c7bc,_0x1bdfc9,_0x4d6a74){const _0x53063d=this['data'];return _0x53063d[-0xd*-0x17f+-0x1*-0x21a0+0x287*-0x15]=_0x38c7bc,_0x53063d[-0x39*0x4+-0xd32+0xe17]=0x1a51+0x180e*0x1+-0x325f,_0x53063d[-0x797*-0x1+-0x3*-0x1f1+-0xd68]=-0x47*-0x6f+-0x23b0+0xfb*0x5,_0x53063d[-0x125e*-0x1+-0x68e+-0xbcd]=0x89*-0x1+-0x23e4+-0x19*-0x175,_0x53063d[0x117f+0x4cf+-0x164a]=-0x121+-0x1b14+0x1c35,_0x53063d[-0x12*0x1b9+0x143a+0x229*0x5]=_0x1bdfc9,_0x53063d[-0x27*0x25+0x18fa+-0x1351]=-0x7a9+0x9cb+0x3*-0xb6,_0x53063d[0xce5+0x18e6*0x1+-0x25c4]=0x4*0xd0+-0x15b4+0x4*0x49d,_0x53063d[-0x11d+0x1*0x13e3+-0x12be]=0x9*-0xa3+-0x282*0x1+-0x25*-0x39,_0x53063d[0x4df*-0x1+-0x6*0x493+0x2*0x102d]=-0x40b+-0x1ded*0x1+0x21f8,_0x53063d[-0x4*0x7c1+-0x21fc+0x410a]=_0x4d6a74,_0x53063d[0xf3b+0x22a7+-0x31d7]=0xd79+-0xbc*0x21+-0x227*-0x5,_0x53063d[-0x1dfc*0x1+-0x1fd9+0x7*0x8d7]=-0x2b*0x81+-0xf*-0x1e5+0x1*-0x6c0,_0x53063d[0x6b2+0x10a6+-0x174b]=-0x7c*0x4a+0x1470+-0x88*-0x1d,_0x53063d[-0x1*0xbbf+-0x5cf*0x1+0x119c]=0xf*0xe4+0x1f49+-0x2ca5,_0x53063d[0xce3+-0x1530*0x1+-0x4*-0x217]=-0x164e+0x1*0xfaa+-0x9*-0xbd,this;}['setViewpor'+'t'](_0x18c294,_0x28e9f2,_0x2eeecc,_0x2d3ae5){const _0x5efd78=this['data'];return _0x5efd78[-0x1ebc+-0x141*0x17+0x3b93]=_0x2eeecc*(-0x1583+0x10*-0x15+-0x1*-0x16d3+0.5),_0x5efd78[-0x19b1+-0x1d3+0x1b85]=-0x8b*0x17+0x234f+-0x16d2,_0x5efd78[0x188e+-0x2*0x1237+-0x1fb*-0x6]=0x5c*0x6b+-0xc61*0x1+-0x1a13,_0x5efd78[-0x2128+0x43d+0x211*0xe]=0xe4b+0x3df*0x5+-0x21a6,_0x5efd78[0x51a*0x1+0xcd*0x25+0x1*-0x22b7]=-0x15*0x47+-0x7*-0x10+0x1*0x563,_0x5efd78[0xd43+-0x112e+0x3f0]=_0x2d3ae5*(0x1ce6+0x19a4+-0x368a+0.5),_0x5efd78[0x6*-0x31+-0xb*0x1de+0x2*0xadb]=-0xdb9+0x1*-0x260b+-0x33c4*-0x1,_0x5efd78[0x921+0x4c*-0x1d+-0x3*0x2a]=-0x6b*0x3e+0xe8*-0x9+0x2212,_0x5efd78[0x1*0x3ef+-0x258a+0x21a3*0x1]=0x1eb0+-0x1878+-0x638,_0x5efd78[-0x1e64+0x536+0x1937*0x1]=0x1a5f+0xa*0xf0+-0x1*0x23bf,_0x5efd78[0x1cf7+-0x1*-0x1f54+-0xc0d*0x5]=-0x253c+-0x1f*-0x131+-0x7*-0xb+0.5,_0x5efd78[0x5*-0x482+0x65d+-0x2*-0x81c]=0x1ae+0x23bc+0x1*-0x256a,_0x5efd78[0x55d*-0x1+-0x4f6+-0xf*-0xb1]=_0x18c294+_0x2eeecc*(-0x18f5+-0x1890+0x7*0x713+0.5),_0x5efd78[-0x1*0xcdc+-0xdc3+-0x2*-0xd56]=_0x28e9f2+_0x2d3ae5*(0x176c+-0xcca+0x551*-0x2+0.5),_0x5efd78[0x5*0x329+0xeab+-0x1e6a]=-0x921+0x1a3d*0x1+-0x111c+0.5,_0x5efd78[0x29f*0x1+0x1a44+0x52*-0x5a]=0x47*0x85+0x1453+-0x91*0x65,this;}['setReflect'+'ion'](_0x5048f5,_0x107812){const _0x8e8a4d=_0x5048f5['x'],_0x3cc6b1=_0x5048f5['y'],_0xd13d42=_0x5048f5['z'],_0x2ba04d=this['data'];return _0x2ba04d[-0x266e+-0x5f1+0x2c5f]=-0xcfd+-0x1*0x1401+-0x1*-0x20ff-(0x362*-0xb+-0x206d+0x45a5)*_0x8e8a4d*_0x8e8a4d,_0x2ba04d[-0x1*-0x949+0xe*0x226+-0x275c]=-(-0x2*0xd5f+-0x1858+-0x1e*-0x1b4)*_0x8e8a4d*_0x3cc6b1,_0x2ba04d[0xa17+0x19a8+-0x51b*0x7]=-(0x1*0x21dd+-0x1*0x1e17+-0x3c4)*_0x8e8a4d*_0xd13d42,_0x2ba04d[-0x2*-0x67+0x2f1*-0xb+0x2*0xfc8]=-0x202*0xb+0x1ba3+-0x58d*0x1,_0x2ba04d[0xa8b+0x159*-0x18+0x15d1]=-(0x259d*0x1+0x2b2*0xb+-0x4341)*_0x8e8a4d*_0x3cc6b1,_0x2ba04d[-0xe77+0x100*0x3+0xb7c]=0x125*-0x1b+-0xa1a+0xb5*0x3a-(0x1*0x2511+0x1d8a+-0x4299)*_0x3cc6b1*_0x3cc6b1,_0x2ba04d[-0x2f6*0x1+0x1e*-0x41+-0x17*-0x76]=-(0x8c0+-0x855+0x3*-0x23)*_0x3cc6b1*_0xd13d42,_0x2ba04d[-0x626+0xa2a+-0x3fd]=0x756*-0x2+-0x5*-0x191+0x6d7,_0x2ba04d[0xc67*-0x3+0x20fc+-0x79*-0x9]=-(-0xae8+0x7ba+0x330)*_0x8e8a4d*_0xd13d42,_0x2ba04d[0x8ba*-0x3+0x13*-0x1a5+0x3976]=-(0x1538+-0xdff*0x2+0x6c8)*_0x3cc6b1*_0xd13d42,_0x2ba04d[-0x1714+-0x35c*-0x3+-0xd0a*-0x1]=-0x1f83+-0x2*0x1355+-0xd*-0x566-(0x1*0x9eb+-0x1aa8+-0x3*-0x595)*_0xd13d42*_0xd13d42,_0x2ba04d[-0x3*0x281+-0x143*0x5+-0xa9*-0x15]=-0x9*0x2a5+-0x19*0x47+-0x7af*-0x4,_0x2ba04d[-0x1e90*-0x1+-0x11e5+-0x1*0xc9f]=-(-0x716+-0x2*-0x118b+-0x1bfe)*_0x8e8a4d*_0x107812,_0x2ba04d[-0x1*0x6eb+-0x256a+-0x13*-0x256]=-(-0xeb7+-0xd2d*-0x1+-0x12*-0x16)*_0x3cc6b1*_0x107812,_0x2ba04d[0x1*0x80f+-0x1cec+0x14eb]=-(-0xfeb+0x1202*0x1+-0x215)*_0xd13d42*_0x107812,_0x2ba04d[0x1e57+-0x1eb3+-0x1*-0x6b]=-0x10*0x4f+0x1cf1*-0x1+0x21e2,this;}['invert'](_0xc5008=this){const _0x6a1585=_0xc5008['data'],_0x45e045=_0x6a1585[0xc51+-0x1c0c+0xfbb],_0x4d46cc=_0x6a1585[0x172f+-0x1e6c+-0x9*-0xce],_0x2f7715=_0x6a1585[-0x1b80+-0x24f9+0x407b],_0x179c4e=_0x6a1585[-0x38+0x1d*-0x10+0x1*0x20b],_0x4b931c=_0x6a1585[0x1be2+0x89b*0x3+-0x35af],_0x3c04c6=_0x6a1585[0x8b*-0x1+0x1c8b+-0x1bfb],_0x3baf3e=_0x6a1585[-0x119f*-0x1+0x2213+-0x33ac],_0x1cd389=_0x6a1585[-0x2695+0x2b*0x95+0xd95],_0x4e6d38=_0x6a1585[-0xd3a*0x1+-0x1e8b+0x2bcd],_0x419fc1=_0x6a1585[0xca1+-0x1*-0x90+-0xd28],_0x48c204=_0x6a1585[-0x1adb*-0x1+-0x38*-0x73+0x33f9*-0x1],_0x13c750=_0x6a1585[0x2618+0x4*0x425+-0x36a1],_0x78ea02=_0x6a1585[0xf49+-0x2a5*0x1+-0xc98],_0x142386=_0x6a1585[0x3b9*0x1+0x1*-0x324+0x11*-0x8],_0x43ab4e=_0x6a1585[0xb91+-0xe54+-0x67*-0x7],_0x19fe06=_0x6a1585[0x249c+0x1*-0x1c09+0x14*-0x6d],_0x37f56e=_0x45e045*_0x3c04c6-_0x4d46cc*_0x4b931c,_0x3c9861=_0x45e045*_0x3baf3e-_0x2f7715*_0x4b931c,_0x16c10d=_0x45e045*_0x1cd389-_0x179c4e*_0x4b931c,_0x2daea0=_0x4d46cc*_0x3baf3e-_0x2f7715*_0x3c04c6,_0x4f7797=_0x4d46cc*_0x1cd389-_0x179c4e*_0x3c04c6,_0x5e486a=_0x2f7715*_0x1cd389-_0x179c4e*_0x3baf3e,_0x4b6472=_0x4e6d38*_0x142386-_0x419fc1*_0x78ea02,_0x1a7229=_0x4e6d38*_0x43ab4e-_0x48c204*_0x78ea02,_0x9a232e=_0x4e6d38*_0x19fe06-_0x13c750*_0x78ea02,_0x401adb=_0x419fc1*_0x43ab4e-_0x48c204*_0x142386,_0x5249b4=_0x419fc1*_0x19fe06-_0x13c750*_0x142386,_0x229bbe=_0x48c204*_0x19fe06-_0x13c750*_0x43ab4e,_0x3f06ad=_0x37f56e*_0x229bbe-_0x3c9861*_0x5249b4+_0x16c10d*_0x401adb+_0x2daea0*_0x9a232e-_0x4f7797*_0x1a7229+_0x5e486a*_0x4b6472;if(_0x3f06ad===0x196d+0x172d+-0x184d*0x2)this['setIdentit'+'y']();else{const _0x54f799=(0x1071+-0x1e1a*0x1+0xdaa)/_0x3f06ad,_0x33482c=this['data'];_0x33482c[-0x1c4c*0x1+0x889+-0x13c3*-0x1]=(_0x3c04c6*_0x229bbe-_0x3baf3e*_0x5249b4+_0x1cd389*_0x401adb)*_0x54f799,_0x33482c[-0x114c+-0xaea+0x1*0x1c37]=(-_0x4d46cc*_0x229bbe+_0x2f7715*_0x5249b4-_0x179c4e*_0x401adb)*_0x54f799,_0x33482c[-0x609+-0x340*0x7+0x1ccb]=(_0x142386*_0x5e486a-_0x43ab4e*_0x4f7797+_0x19fe06*_0x2daea0)*_0x54f799,_0x33482c[-0x1be1+0x1381+0x863]=(-_0x419fc1*_0x5e486a+_0x48c204*_0x4f7797-_0x13c750*_0x2daea0)*_0x54f799,_0x33482c[-0x751*0x5+0x1*0x16eb+0xdae]=(-_0x4b931c*_0x229bbe+_0x3baf3e*_0x9a232e-_0x1cd389*_0x1a7229)*_0x54f799,_0x33482c[0x2*0x2b3+-0x5*-0x28a+0x1*-0x1213]=(_0x45e045*_0x229bbe-_0x2f7715*_0x9a232e+_0x179c4e*_0x1a7229)*_0x54f799,_0x33482c[-0x2*-0x856+-0x8f7+-0x7af]=(-_0x78ea02*_0x5e486a+_0x43ab4e*_0x16c10d-_0x19fe06*_0x3c9861)*_0x54f799,_0x33482c[0x260+-0x8*0x2bb+-0xa1*-0x1f]=(_0x4e6d38*_0x5e486a-_0x48c204*_0x16c10d+_0x13c750*_0x3c9861)*_0x54f799,_0x33482c[0x4d2+0x3*-0x295+-0x1*-0x2f5]=(_0x4b931c*_0x5249b4-_0x3c04c6*_0x9a232e+_0x1cd389*_0x4b6472)*_0x54f799,_0x33482c[-0xba9+0x2041+-0x13*0x115]=(-_0x45e045*_0x5249b4+_0x4d46cc*_0x9a232e-_0x179c4e*_0x4b6472)*_0x54f799,_0x33482c[0x189f+-0x830+0x1*-0x1065]=(_0x78ea02*_0x4f7797-_0x142386*_0x16c10d+_0x19fe06*_0x37f56e)*_0x54f799,_0x33482c[-0x1*-0xb03+-0x261b*-0x1+-0x3113]=(-_0x4e6d38*_0x4f7797+_0x419fc1*_0x16c10d-_0x13c750*_0x37f56e)*_0x54f799,_0x33482c[-0x584*-0x7+0x26e*0xd+-0x6*0xbb1]=(-_0x4b931c*_0x401adb+_0x3c04c6*_0x1a7229-_0x3baf3e*_0x4b6472)*_0x54f799,_0x33482c[0x12ba+-0x5b*-0x5c+0x3361*-0x1]=(_0x45e045*_0x401adb-_0x4d46cc*_0x1a7229+_0x2f7715*_0x4b6472)*_0x54f799,_0x33482c[-0x1*0x175b+0x25b4+-0xe4b*0x1]=(-_0x78ea02*_0x2daea0+_0x142386*_0x3c9861-_0x43ab4e*_0x37f56e)*_0x54f799,_0x33482c[0x13d*0x1c+0x1*-0xc39+-0x1664]=(_0x4e6d38*_0x2daea0-_0x419fc1*_0x3c9861+_0x48c204*_0x37f56e)*_0x54f799;}return this;}['set'](_0x2b1a86){const _0x657df8=this['data'];return _0x657df8[0x33*0x29+-0x1407+-0xb*-0x114]=_0x2b1a86[0xa97+-0x1*-0x1cba+-0x2751],_0x657df8[-0x12df*-0x2+-0x1*-0x1c02+-0x41bf]=_0x2b1a86[-0x8*0x2e9+-0x30d*0x7+0x2ca4],_0x657df8[0x23f5+-0x311*-0x5+-0x3348]=_0x2b1a86[0x4a*-0x1+-0x1*-0x59a+-0x54e],_0x657df8[-0x35b*-0x4+-0x7a6+-0x5*0x127]=_0x2b1a86[-0x1593+0xfcf+0x5c7],_0x657df8[-0x2*0x124d+-0x800+0x2c9e]=_0x2b1a86[0x23*0xfa+-0x3a*0xa6+0x3f*0xe],_0x657df8[0x8ae*-0x4+-0x113*0x1+0x23d0]=_0x2b1a86[0x3*-0x295+0xc61+-0x49d],_0x657df8[-0x271*0xd+-0x256d+0x4530]=_0x2b1a86[0x251d+-0x11*-0x139+-0x39e0],_0x657df8[0x1600+0x1*0x16f9+-0x2cf2]=_0x2b1a86[-0xd27+-0xc01+-0x865*-0x3],_0x657df8[-0x1c*0x124+0x2*-0xcf+0x10cb*0x2]=_0x2b1a86[-0x2218+0x23c5+-0x1a5],_0x657df8[-0x8*0x382+0x1*-0x503+-0x2*-0x108e]=_0x2b1a86[-0x1*-0x1c96+0xde9+0x2a76*-0x1],_0x657df8[-0x101*-0x2+-0x2*-0x15d+-0x4b2]=_0x2b1a86[0x1*0x53e+-0xda7+0x873],_0x657df8[0x1119+0xb19+-0x1c27]=_0x2b1a86[0xf38+-0x2*-0x9a7+0x61*-0x5b],_0x657df8[-0x1ff8+-0xe36+0x2e3a]=_0x2b1a86[0x769*0x4+0x211e+-0x3eb6],_0x657df8[-0x1135*-0x2+-0x2065*0x1+-0x1f8]=_0x2b1a86[-0x1*0x2309+-0x509*-0x1+0x1e0d],_0x657df8[0x50*-0x61+0x2590+0x133*-0x6]=_0x2b1a86[-0x1d35+0x2397*0x1+-0x3*0x21c],_0x657df8[0x7e5+0x23f1+0x641*-0x7]=_0x2b1a86[-0x1e77*0x1+0x30*-0x3c+0x1*0x29c6],this;}['setIdentit'+'y'](){const _0x3f3d8a=this['data'];return _0x3f3d8a[0x68+-0x2f5*0x1+0x28d]=-0x1948+0x8f1+0x2*0x82c,_0x3f3d8a[-0x21b6*-0x1+0x3a*0x6f+-0x1*0x3adb]=0x1ff8+0x20ff*-0x1+0x1*0x107,_0x3f3d8a[-0x1632+0x80f*-0x1+0x1*0x1e43]=-0x1283+0x1be+0x10c5,_0x3f3d8a[0x3*-0x6f1+-0x122e*-0x2+-0xf86]=-0x82c+-0x431+0xc5d*0x1,_0x3f3d8a[-0x1495+0xe*-0x1ef+0x2fab]=0x1bb3+-0x8ab+-0x1308,_0x3f3d8a[0xacb+0x1*-0x1753+0xc8d]=-0x1*-0x5c9+0x44*0x32+-0xf4*0x14,_0x3f3d8a[0x679*0x5+0x5*-0x795+-0x592*-0x1]=0x144a+0x29*0x47+-0x1fa9,_0x3f3d8a[0x166e+0xd*0x151+0x696*-0x6]=0x2b+0x1a60+-0x1a8b,_0x3f3d8a[-0x17fa+0x19f5+-0x1f3]=-0x153f+0x1d6c+-0x82d,_0x3f3d8a[-0x2d7*-0x5+-0x1b12+-0x1d8*-0x7]=0x19e5+-0x3*-0x233+0x2*-0x103f,_0x3f3d8a[0x9*0x8b+-0x153f+-0x2*-0x833]=0x618+0x1b69*0x1+0x20*-0x10c,_0x3f3d8a[0x427*-0x3+0x1ab4+0x24*-0x65]=0x12bf*0x1+0x5*-0x6c9+-0x3a*-0x43,_0x3f3d8a[0x1*0x793+0xc9*0x23+-0x2302]=0x1d7b+-0x14c+-0x1c2f,_0x3f3d8a[-0x53*-0x13+-0x23*-0x67+-0x1*0x1431]=-0x394+-0x16be*0x1+-0x8c6*-0x3,_0x3f3d8a[-0x1a5b+-0xd40+0x27a9]=-0x18f4+0x97d*0x1+0x1*0xf77,_0x3f3d8a[0xd49+0xb1*0x22+-0x24bc*0x1]=0xef3*0x1+0x7a8+-0x169a,this;}['setTRS'](_0x1fe4b9,_0xe41d4a,_0x16ab3e){const _0x5a3e5c=_0xe41d4a['x'],_0x2369b7=_0xe41d4a['y'],_0x5418d5=_0xe41d4a['z'],_0x3f0e20=_0xe41d4a['w'],_0x463f31=_0x16ab3e['x'],_0x401fbb=_0x16ab3e['y'],_0x4a9413=_0x16ab3e['z'],_0x5a84b5=_0x5a3e5c+_0x5a3e5c,_0x1a76c0=_0x2369b7+_0x2369b7,_0x1b4daf=_0x5418d5+_0x5418d5,_0x34dfe5=_0x5a3e5c*_0x5a84b5,_0x28fd90=_0x5a3e5c*_0x1a76c0,_0x4542be=_0x5a3e5c*_0x1b4daf,_0x5ab61f=_0x2369b7*_0x1a76c0,_0x4bc844=_0x2369b7*_0x1b4daf,_0xd37a7=_0x5418d5*_0x1b4daf,_0x4bc5dc=_0x3f0e20*_0x5a84b5,_0x2f588b=_0x3f0e20*_0x1a76c0,_0x2a7bc9=_0x3f0e20*_0x1b4daf,_0x493709=this['data'];return _0x493709[-0x1ca5+0x7*-0x281+0x2e2c]=(-0x36*-0x3a+0x1*-0x245+-0x9f6-(_0x5ab61f+_0xd37a7))*_0x463f31,_0x493709[-0x1f09+0x1fa3+-0x99]=(_0x28fd90+_0x2a7bc9)*_0x463f31,_0x493709[-0x25da+-0x2192*-0x1+0x44a]=(_0x4542be-_0x2f588b)*_0x463f31,_0x493709[-0xfdc+0x7d2+0x80d]=-0xb6*0x2f+0x3*-0x472+0x2ec0,_0x493709[0x1dc6+-0x93c+-0x1486]=(_0x28fd90-_0x2a7bc9)*_0x401fbb,_0x493709[-0x2*0x504+-0x3*0x457+0x1712]=(0x7e0*0x4+-0x13cd+0x2*-0x5d9-(_0x34dfe5+_0xd37a7))*_0x401fbb,_0x493709[-0x2457+-0x1dc5+0x4222]=(_0x4bc844+_0x4bc5dc)*_0x401fbb,_0x493709[-0x1a2c+0x65*-0x3+0x1b62]=-0x10e8*0x2+-0x25*-0xeb+-0x27,_0x493709[-0x53*0x61+-0xf33+0x19*0x1de]=(_0x4542be+_0x2f588b)*_0x4a9413,_0x493709[0x1fd7+0xb*-0x197+0x1*-0xe51]=(_0x4bc844-_0x4bc5dc)*_0x4a9413,_0x493709[-0x23c5+-0x236a+-0x1*-0x4739]=(-0xd*-0x275+-0xcb2+-0x66a*0x3-(_0x34dfe5+_0x5ab61f))*_0x4a9413,_0x493709[-0xac*0x35+0x494+0x1f13]=0x1bfa+0x1a0f+-0x3609,_0x493709[-0xa9f+-0x76c+0x1217]=_0x1fe4b9['x'],_0x493709[-0x22b7+-0x7*-0x4b5+0x3*0x9b]=_0x1fe4b9['y'],_0x493709[-0x1967+-0x1095+-0x1*-0x2a0a]=_0x1fe4b9['z'],_0x493709[0x1f1*-0x5+-0xa1b+0x1*0x13df]=-0x5*-0x5db+0x71*0x2c+0x30b2*-0x1,this;}['transpose'](_0x16428e=this){const _0x738f1c=_0x16428e['data'],_0x7f10d8=this['data'];if(_0x738f1c===_0x7f10d8){let _0x2a3a52;_0x2a3a52=_0x738f1c[-0x1*-0x1402+0x1640+-0x1d*0x175],_0x7f10d8[0x26f7+-0x1*0x5bf+-0x1*0x2137]=_0x738f1c[0x166+-0xb4c+-0x34e*-0x3],_0x7f10d8[-0x1*0x7c3+-0xd68+0x152f]=_0x2a3a52,_0x2a3a52=_0x738f1c[0x24c+0xa*0x3a1+-0x2694],_0x7f10d8[0x1*0x88+-0x1974+0x18ee]=_0x738f1c[0x1*0x1b01+0x19fc*-0x1+-0xfd],_0x7f10d8[0x1c9f+0xb*-0x33b+0x6f2]=_0x2a3a52,_0x2a3a52=_0x738f1c[0x4*0x89b+0x17c9+-0x2*0x1d19],_0x7f10d8[-0x19e9+-0x1*0x24cb+0x3eb7]=_0x738f1c[-0x1*0x1497+-0xfb1+0x2454],_0x7f10d8[-0x6*-0x37+-0xd*-0x1bd+-0x167*0x11]=_0x2a3a52,_0x2a3a52=_0x738f1c[0x2c*-0xb6+0x336+-0x8*-0x383],_0x7f10d8[0x317*-0x1+-0xd*0xd7+0xe08]=_0x738f1c[0x2*-0xd3c+0xe2b+-0x2*-0x62b],_0x7f10d8[-0x1e26+-0xcdf*-0x3+-0x86e]=_0x2a3a52,_0x2a3a52=_0x738f1c[-0x1*0x1faf+-0xde4+-0xd*-0x382],_0x7f10d8[0x3*-0x25+-0x254c+0x25c2]=_0x738f1c[0x540+0x24f9+-0x2a2c],_0x7f10d8[-0x1*-0x23bb+0x15f9+-0x39a7]=_0x2a3a52,_0x2a3a52=_0x738f1c[-0x1cfa*-0x1+0xce3*-0x2+-0x329],_0x7f10d8[-0x2294+-0x2361+0x4600]=_0x738f1c[-0x3c2+0x1326+-0xf56],_0x7f10d8[0x2*-0x949+-0x1edb+0x317b]=_0x2a3a52;}else _0x7f10d8[0x1*-0x1035+0x2243+-0x120e]=_0x738f1c[0x884+0x114c+-0x19d0],_0x7f10d8[0x1*0x1664+-0x1211+-0x452]=_0x738f1c[-0x2f*-0x10+-0x630+0x16*0x26],_0x7f10d8[-0x16c7+0x2412+-0xb3*0x13]=_0x738f1c[0x1*0xa1e+-0x1*0x17e4+0xdce],_0x7f10d8[0x1*0x817+0x16c*0x8+-0x1374]=_0x738f1c[0x133e+0x18c9+0x1*-0x2bfb],_0x7f10d8[-0xa6b+0x1f07+-0x1498]=_0x738f1c[0x136e+0x233+-0x15a0],_0x7f10d8[-0x2*0x613+0x5dc+0x64f]=_0x738f1c[-0x14f*0xf+0xb50+-0x61*-0x16],_0x7f10d8[-0x2196+-0x2286+0x4422]=_0x738f1c[0x106a+-0x1*0x1a09+0x9a8],_0x7f10d8[-0x46a*0x1+0xc92*-0x2+0x1d95]=_0x738f1c[-0x35e+0x1ed7+-0x1b6c],_0x7f10d8[-0x121e+-0x1*-0x3eb+0xe3b*0x1]=_0x738f1c[-0x1793+0x43f*-0x9+0x62e*0xa],_0x7f10d8[0x1bf5*0x1+-0xc02+-0xfea]=_0x738f1c[0x10a6+0xaff+-0x1b9f],_0x7f10d8[0x2429*-0x1+0x1643+-0x1*-0xdf0]=_0x738f1c[-0xfec+0x1f62+-0xf6c],_0x7f10d8[0x195a+0x19b2+-0x4a3*0xb]=_0x738f1c[-0x12d3*-0x2+0x3*0xb93+-0x16b*0x33],_0x7f10d8[-0x76*-0x2e+0x2414+0x9*-0x65c]=_0x738f1c[-0x90*0x18+-0x15*-0x11b+-0x9b4],_0x7f10d8[-0x180c+0x22d7*0x1+0x37*-0x32]=_0x738f1c[0x1*-0x220f+-0x458*0x1+0x266e],_0x7f10d8[-0x1127*-0x1+-0xc91*0x3+0x24a*0x9]=_0x738f1c[-0x1f8*0x3+0x21af+-0x1bbc],_0x7f10d8[0x18bc+-0x6*0x4ed+0x4e1]=_0x738f1c[0x23df+-0x1175+-0x125b];return this;}['getTransla'+'tion'](_0x309331=new T()){return _0x309331['set'](this['data'][0x1ac6+-0x2143+-0x689*-0x1],this['data'][-0x1*-0x6af+-0x2a5*0x9+-0x112b*-0x1],this['data'][-0xa*0x139+0x5*-0xff+0x3*0x5c1]);}['getX'](_0x3cd6a9=new T()){return _0x3cd6a9['set'](this['data'][-0x1384+-0xcf7+0x207b],this['data'][-0x11*-0x16f+0x10b+-0x1969],this['data'][-0x59+-0x1*0x1d9f+0x1dfa]);}['getY'](_0x351398=new T()){return _0x351398['set'](this['data'][0x1c1c+-0x156c+0x6ac*-0x1],this['data'][-0xd4a+-0x19*-0x21+0xa16],this['data'][0x12a1+0xd10+-0xb*0x2e1]);}['getZ'](_0x42e37f=new T()){return _0x42e37f['set'](this['data'][0x1aa0*-0x1+0x1a5f+0x49*0x1],this['data'][-0x205e+0x52*-0x3+-0x9*-0x3b5],this['data'][-0x1d3*0x9+0x4d0+0xba5]);}['getScale'](_0x2671df=new T()){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),_0x2671df['set'](us['length'](),Fs['length'](),Os['length']()),_0x2671df;}get['scaleSign'](){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),us['cross'](us,Fs),us['dot'](Os)<-0x2267*0x1+-0x2593*-0x1+-0x7*0x74?-(0x2a2*0xd+-0x2*0xacc+0x1*-0xca1):-0x2251+-0x2c*-0xce+-0x2*0x8b;}['setFromEul'+'erAngles'](_0xf94908,_0x421ff0,_0x540d58){_0xf94908*=N['DEG_TO_RAD'],_0x421ff0*=N['DEG_TO_RAD'],_0x540d58*=N['DEG_TO_RAD'];const _0xbac43b=Math['sin'](-_0xf94908),_0x507596=Math['cos'](-_0xf94908),_0x2a5604=Math['sin'](-_0x421ff0),_0x52aaf7=Math['cos'](-_0x421ff0),_0x5a56dc=Math['sin'](-_0x540d58),_0x236b7a=Math['cos'](-_0x540d58),_0x434073=this['data'];return _0x434073[0xad*-0x19+0x1*0x1eeb+-0xe06]=_0x52aaf7*_0x236b7a,_0x434073[0xaaa+0x173*0x1a+-0x3057]=-_0x52aaf7*_0x5a56dc,_0x434073[-0x3e*0x7e+-0x21*-0x7c+-0x745*-0x2]=_0x2a5604,_0x434073[0x58f*0x1+0x14cc+-0x1a58]=-0x10*0x6c+-0x13ef+0x1aaf,_0x434073[-0x1*-0xf74+0x17e*0x2+-0x126c]=_0x507596*_0x5a56dc+_0x236b7a*_0xbac43b*_0x2a5604,_0x434073[-0x24d7*-0x1+0x1f5+-0x26c7]=_0x507596*_0x236b7a-_0xbac43b*_0x2a5604*_0x5a56dc,_0x434073[0x20ba+0x1624+-0x36d8]=-_0x52aaf7*_0xbac43b,_0x434073[-0x1*-0x21ae+-0x21d6+0x2f*0x1]=-0x15a3+-0x1a42+0x2fe5,_0x434073[-0x1862+-0x23c2+-0x3c2c*-0x1]=_0xbac43b*_0x5a56dc-_0x507596*_0x236b7a*_0x2a5604,_0x434073[-0x11*0x18b+0x602+0x1*0x1442]=_0x236b7a*_0xbac43b+_0x507596*_0x2a5604*_0x5a56dc,_0x434073[-0x25*-0x35+0x109*-0x13+0xc0c]=_0x507596*_0x52aaf7,_0x434073[0x2164+0x1*0x17be+0xb6b*-0x5]=-0x21f1+-0x92*-0x29+0x1*0xa8f,_0x434073[-0x1*-0x165b+-0x1839+-0xa*-0x31]=0x2d6+0xb23*0x2+-0x191c,_0x434073[0x1495+0x13*-0xfb+-0x1e7]=-0x1949*-0x1+-0x21c5+0x87c*0x1,_0x434073[0x10fd+-0x27*-0xf9+-0x3*0x124a]=-0x835+-0x19*0x89+0x1596,_0x434073[0x2087+-0x259*-0x9+-0x3599*0x1]=0x1f*-0xf5+0x1dff*-0x1+0x3bab,this;}['getEulerAn'+'gles'](_0x53b6f0=new T()){this['getScale'](_l);const _0x3f8cd3=_l['x'],_0x2fee78=_l['y'],_0x507a57=_l['z'];if(_0x3f8cd3===0x107a+-0x20fc+0x1082||_0x2fee78===0x351+0x6e6*-0x1+0x1*0x395||_0x507a57===0x157e+-0x20c8+0xa*0x121)return _0x53b6f0['set'](0xbce*-0x2+-0xd96+0x45*0x8a,-0x1a05*-0x1+0x1a42+-0x1*0x3447,0xb0*0xa+0x79*0x7+-0xa2f);const _0x4e81e1=this['data'],_0x58bafd=Math['asin'](-_0x4e81e1[0x1c79+0xd26+-0x3*0xddf]/_0x3f8cd3),_0x278013=Math['PI']*(0x1552+-0x2565+-0x5*-0x337+0.5);let _0x2cbca2,_0x394640;return _0x58bafd<_0x278013?_0x58bafd>-_0x278013?(_0x2cbca2=Math['atan2'](_0x4e81e1[-0xf19+0x1*0x14cb+-0x5ac]/_0x2fee78,_0x4e81e1[-0x693*0x4+-0x24a3+-0x1*-0x3ef9]/_0x507a57),_0x394640=Math['atan2'](_0x4e81e1[-0x207b+-0x25b8+0x2*0x231a]/_0x3f8cd3,_0x4e81e1[-0x50a+0x254+-0x1*-0x2b6]/_0x3f8cd3)):(_0x394640=0x111e+0x5de*-0x5+0xc38,_0x2cbca2=-Math['atan2'](_0x4e81e1[-0x22*-0x1f+0x22*0x6f+-0xc*0x192]/_0x2fee78,_0x4e81e1[0x1e3b+-0x1*0x1eef+0xb9]/_0x2fee78)):(_0x394640=-0x29*0xc7+-0xb2b*-0x1+-0x1*-0x14b4,_0x2cbca2=Math['atan2'](_0x4e81e1[0x6*0x2e8+-0xfab+-0x1c1]/_0x2fee78,_0x4e81e1[0xab2+-0xad+-0xa00]/_0x2fee78)),_0x53b6f0['set'](_0x2cbca2,_0x58bafd,_0x394640)['mulScalar'](N['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};c(Ur,'IDENTITY',Object['freeze'](new Ur())),c(Ur,'ZERO',Object['freeze'](new Ur()['set']([0x21de+-0x8*-0x24b+0x1a1b*-0x2,-0xcf1*-0x2+0x39*0x97+-0x3b81,0x47d*-0x1+-0x7*0x34a+0x1*0x1b83,0x1766+0x2530+-0x3*0x1432,-0x456*0x4+0x3*-0x935+0x2cf7,-0x3f3+0x11f2+-0xdff,-0x13bb+0xec9+0x1a6*0x3,-0x7a9+0xdab*0x2+0x17*-0xdb,0x409*0x5+-0x11be+-0x26f,0x10d7+0x3*-0x745+0x4f8,0x10e6+0x153+0x3*-0x613,-0x5*-0x703+-0x1a7*-0x1+0x25*-0xfe,-0x1*0x15f7+0x217c+0x1*-0xb85,-0xb*0xf1+-0xa44+0x149f,-0x65f+0x8f9+-0x29a,-0xa7*0x2a+0x529*-0x1+0x208f])));let q=Ur;const aa=class aa{constructor(_0x1793c6=-0x3b6+0xbe1+-0x82b,_0x8bb700=-0x2*0xa10+-0x156+0x52*0x43,_0x2de4cf=0x4f*0x6a+0x3c7*0x5+-0x3399,_0x55abaf=-0x1*-0x1cb7+-0x257b+-0x1c1*-0x5){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x1793c6['length']===0x106d*-0x1+-0x1b83+-0x184*-0x1d?(this['x']=_0x1793c6[0x24b9+0x3*0x1f5+-0x2a98],this['y']=_0x1793c6[-0x40f*-0x5+0x22f6+-0x3740],this['z']=_0x1793c6[0x1*-0x1313+0x25a3+-0x128e],this['w']=_0x1793c6[0x6fc+-0x22d7+-0x1*-0x1bde]):(this['x']=_0x1793c6,this['y']=_0x8bb700,this['z']=_0x2de4cf,this['w']=_0x55abaf);}['clone'](){const _0x3026b1=this['constructo'+'r'];return new _0x3026b1(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0xf9e04a=this){return this['x']=_0xf9e04a['x']*-(-0x241c+-0xaed+0x36*0xdf),this['y']=_0xf9e04a['y']*-(-0x13b2+-0xed5*0x1+0x2288),this['z']=_0xf9e04a['z']*-(-0x1*-0x15b+-0x1a83+0x153*0x13),this['w']=_0xf9e04a['w'],this;}['copy'](_0x2c655b){return this['x']=_0x2c655b['x'],this['y']=_0x2c655b['y'],this['z']=_0x2c655b['z'],this['w']=_0x2c655b['w'],this;}['equals'](_0x13c481){return this['x']===_0x13c481['x']&&this['y']===_0x13c481['y']&&this['z']===_0x13c481['z']&&this['w']===_0x13c481['w'];}['equalsAppr'+'ox'](_0x4a45d3,_0x4478fc=0x272*-0x2+0x4d*-0x21+-0x1*-0xed1+0.000001){return Math['abs'](this['x']-_0x4a45d3['x'])<_0x4478fc&&Math['abs'](this['y']-_0x4a45d3['y'])<_0x4478fc&&Math['abs'](this['z']-_0x4a45d3['z'])<_0x4478fc&&Math['abs'](this['w']-_0x4a45d3['w'])<_0x4478fc;}['getAxisAng'+'le'](_0x506629){let _0x53f864=Math['acos'](this['w'])*(0x2*-0xd03+-0x5*-0x196+0x296*0x7);const _0x2a5802=Math['sin'](_0x53f864/(-0xdc*-0x1f+-0x7f*0x25+0x1*-0x847));return _0x2a5802!==0x1*0x1ce7+-0x2169*0x1+0x482?(_0x506629['x']=this['x']/_0x2a5802,_0x506629['y']=this['y']/_0x2a5802,_0x506629['z']=this['z']/_0x2a5802,(_0x506629['x']<-0x267d+0x2210+0x46d||_0x506629['y']<-0x21d6+0x5*0x3c1+-0x85*-0x1d||_0x506629['z']<-0x58*-0x7+0x606+-0x86e)&&(_0x506629['x']*=-(0x1*0x1cf9+0xeac+0x93*-0x4c),_0x506629['y']*=-(0x177+-0x99c+0x826),_0x506629['z']*=-(0x2563+-0x5b*-0x5+-0x2729),_0x53f864*=-(0x468+0x1*-0x26f6+0x228f))):(_0x506629['x']=-0x1a62+0x185f+0x2*0x102,_0x506629['y']=0x80c*-0x1+0x1666+0x2*-0x72d,_0x506629['z']=0x1*-0x1678+-0x80f*-0x2+0x65a),_0x53f864*N['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x1d5a92=new T()){let _0x1f10df,_0xe39084,_0x1232ee;const _0x4e06c3=this['x'],_0x1e6587=this['y'],_0x465a63=this['z'],_0x11f0bb=this['w'],_0x33e2a6=(-0x2ce+0x1*0x9b3+0x6e3*-0x1)*(_0x11f0bb*_0x1e6587-_0x4e06c3*_0x465a63);return _0x33e2a6<=-(-0x202b+-0x51*0x33+0x304e+0.99999)?(_0x1f10df=(-0x2376+0x1*-0x1add+0x3e55)*Math['atan2'](_0x4e06c3,_0x11f0bb),_0xe39084=-Math['PI']/(0x24b7+0x101+-0xc92*0x3),_0x1232ee=0x2*-0xd3f+0x2157+-0x6d9):_0x33e2a6>=-0x7*-0x45e+0x17ba+-0x364c+0.99999?(_0x1f10df=(0x1*0x136f+0xb*-0x37+0x10*-0x111)*Math['atan2'](_0x4e06c3,_0x11f0bb),_0xe39084=Math['PI']/(-0x1174+0x8*-0x1b8+0x1f36),_0x1232ee=0x1898+-0x111b+-0x77d):(_0x1f10df=Math['atan2']((-0xb*0x57+0x15b4*0x1+-0x11f5*0x1)*(_0x11f0bb*_0x4e06c3+_0x1e6587*_0x465a63),-0x1a1e*-0x1+0x19bb+-0x33d8-(-0xb2*-0x1e+0x6fd+-0x1bd7)*(_0x4e06c3*_0x4e06c3+_0x1e6587*_0x1e6587)),_0xe39084=Math['asin'](_0x33e2a6),_0x1232ee=Math['atan2']((0x2b6*0xd+-0x130d+0x3*-0x565)*(_0x11f0bb*_0x465a63+_0x4e06c3*_0x1e6587),-0x43*0x91+0x3*-0xa13+-0x1*-0x442d-(-0x1*0x56c+-0x12c*0x1e+0x2896)*(_0x1e6587*_0x1e6587+_0x465a63*_0x465a63))),_0x1d5a92['set'](_0x1f10df,_0xe39084,_0x1232ee)['mulScalar'](N['RAD_TO_DEG']);}['invert'](_0x4bd3e2=this){return this['conjugate'](_0x4bd3e2)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['mul'](_0x293f5b){const _0x15d904=this['x'],_0x26f1ca=this['y'],_0x15b309=this['z'],_0x54c942=this['w'],_0x2f3d67=_0x293f5b['x'],_0x454590=_0x293f5b['y'],_0x4aa584=_0x293f5b['z'],_0x287888=_0x293f5b['w'];return this['x']=_0x54c942*_0x2f3d67+_0x15d904*_0x287888+_0x26f1ca*_0x4aa584-_0x15b309*_0x454590,this['y']=_0x54c942*_0x454590+_0x26f1ca*_0x287888+_0x15b309*_0x2f3d67-_0x15d904*_0x4aa584,this['z']=_0x54c942*_0x4aa584+_0x15b309*_0x287888+_0x15d904*_0x454590-_0x26f1ca*_0x2f3d67,this['w']=_0x54c942*_0x287888-_0x15d904*_0x2f3d67-_0x26f1ca*_0x454590-_0x15b309*_0x4aa584,this;}['mulScalar'](_0x5496c4,_0x283f61=this){return this['x']=_0x283f61['x']*_0x5496c4,this['y']=_0x283f61['y']*_0x5496c4,this['z']=_0x283f61['z']*_0x5496c4,this['w']=_0x283f61['w']*_0x5496c4,this;}['mul2'](_0x272deb,_0x10caec){const _0x49c332=_0x272deb['x'],_0x364c45=_0x272deb['y'],_0x34b2da=_0x272deb['z'],_0xa964b1=_0x272deb['w'],_0x3e15dd=_0x10caec['x'],_0x15047a=_0x10caec['y'],_0x4cda4e=_0x10caec['z'],_0x3c8c7e=_0x10caec['w'];return this['x']=_0xa964b1*_0x3e15dd+_0x49c332*_0x3c8c7e+_0x364c45*_0x4cda4e-_0x34b2da*_0x15047a,this['y']=_0xa964b1*_0x15047a+_0x364c45*_0x3c8c7e+_0x34b2da*_0x3e15dd-_0x49c332*_0x4cda4e,this['z']=_0xa964b1*_0x4cda4e+_0x34b2da*_0x3c8c7e+_0x49c332*_0x15047a-_0x364c45*_0x3e15dd,this['w']=_0xa964b1*_0x3c8c7e-_0x49c332*_0x3e15dd-_0x364c45*_0x15047a-_0x34b2da*_0x4cda4e,this;}['normalize'](_0x35942a=this){let _0x3bda57=_0x35942a['length']();return _0x3bda57===0x9c1*0x1+-0x19da*0x1+0x1019?(this['x']=this['y']=this['z']=-0x1db4+0x7a4*-0x2+-0x1*-0x2cfc,this['w']=-0x4*0xb7+0x19c2+0x16e5*-0x1):(_0x3bda57=(0xf*0x24d+0x2511+-0x4793*0x1)/_0x3bda57,this['x']=_0x35942a['x']*_0x3bda57,this['y']=_0x35942a['y']*_0x3bda57,this['z']=_0x35942a['z']*_0x3bda57,this['w']=_0x35942a['w']*_0x3bda57),this;}['set'](_0x1a52b2,_0x596a30,_0x218218,_0x43595c){return this['x']=_0x1a52b2,this['y']=_0x596a30,this['z']=_0x218218,this['w']=_0x43595c,this;}['setFromAxi'+'sAngle'](_0x21794f,_0x17d768){_0x17d768*=(-0x1*-0x1087+0x130*-0xd+-0x117+0.5)*N['DEG_TO_RAD'];const _0x5cd317=Math['sin'](_0x17d768),_0x2a0420=Math['cos'](_0x17d768);return this['x']=_0x5cd317*_0x21794f['x'],this['y']=_0x5cd317*_0x21794f['y'],this['z']=_0x5cd317*_0x21794f['z'],this['w']=_0x2a0420,this;}['setFromEul'+'erAngles'](_0x4596b5,_0x25f841,_0x5ce51c){if(_0x4596b5 instanceof T){const _0x11d90a=_0x4596b5;_0x4596b5=_0x11d90a['x'],_0x25f841=_0x11d90a['y'],_0x5ce51c=_0x11d90a['z'];}const _0x143288=(0xc7d*0x2+-0x2202+0x908+0.5)*N['DEG_TO_RAD'];_0x4596b5*=_0x143288,_0x25f841*=_0x143288,_0x5ce51c*=_0x143288;const _0x52774c=Math['sin'](_0x4596b5),_0x26b397=Math['cos'](_0x4596b5),_0x36c717=Math['sin'](_0x25f841),_0x110bd6=Math['cos'](_0x25f841),_0x59fc79=Math['sin'](_0x5ce51c),_0x5241f5=Math['cos'](_0x5ce51c);return this['x']=_0x52774c*_0x110bd6*_0x5241f5-_0x26b397*_0x36c717*_0x59fc79,this['y']=_0x26b397*_0x36c717*_0x5241f5+_0x52774c*_0x110bd6*_0x59fc79,this['z']=_0x26b397*_0x110bd6*_0x59fc79-_0x52774c*_0x36c717*_0x5241f5,this['w']=_0x26b397*_0x110bd6*_0x5241f5+_0x52774c*_0x36c717*_0x59fc79,this;}['setFromMat'+'4'](_0xeddf41){const _0x27f9ea=_0xeddf41['data'];let _0x5258dd=_0x27f9ea[-0x1342+0x2687*-0x1+-0x1*-0x39c9],_0x3063de=_0x27f9ea[-0xb2d*0x1+-0xdd7*-0x1+-0x2a9],_0x3ae564=_0x27f9ea[-0x1*-0x49a+-0x1*0x23ab+0x1*0x1f13],_0x158c53=_0x27f9ea[-0x1f53+0x1*-0x80+0x1fd7],_0x1eb4f6=_0x27f9ea[-0x572+0x1927+-0x13b0],_0x2fd26d=_0x27f9ea[-0x87b*-0x1+-0x1d60+0x14eb],_0x25a1da=_0x27f9ea[-0x12b8+0x15e+-0x5*-0x37a],_0x4b52e8=_0x27f9ea[-0xb85+0x2601+-0x1a73],_0x1a66e0=_0x27f9ea[-0x1e7+0xa3*-0x35+-0x23b0*-0x1],_0x1ce0a5;return _0x1ce0a5=_0x5258dd*_0x5258dd+_0x3063de*_0x3063de+_0x3ae564*_0x3ae564,_0x1ce0a5===0x1ba5+-0x306+-0x189f?this['set'](0x1219*0x1+0x33*0xbd+-0x37c*0x10,-0xaaf+0x1*-0x1bd9+0x2688,-0x866+-0xe*-0x197+-0xddc,0x42e+-0x64f*-0x1+-0xa7c):(_0x1ce0a5=(0x695+-0x244a+0x1db6)/Math['sqrt'](_0x1ce0a5),_0x5258dd*=_0x1ce0a5,_0x3063de*=_0x1ce0a5,_0x3ae564*=_0x1ce0a5,_0x1ce0a5=_0x158c53*_0x158c53+_0x1eb4f6*_0x1eb4f6+_0x2fd26d*_0x2fd26d,_0x1ce0a5===-0x196f+0x11d9+0x796?this['set'](0x1acc+0xf06+-0xca*0x35,0x65f+-0x2*0x92d+-0x1*-0xbfb,-0x8*0x333+0x3c7*0x2+0x905*0x2,-0x23*-0xe3+-0x894+-0x1*0x1674):(_0x1ce0a5=(0x67*-0x59+-0x1*0xad3+0x2ea3)/Math['sqrt'](_0x1ce0a5),_0x158c53*=_0x1ce0a5,_0x1eb4f6*=_0x1ce0a5,_0x2fd26d*=_0x1ce0a5,_0x1ce0a5=_0x25a1da*_0x25a1da+_0x4b52e8*_0x4b52e8+_0x1a66e0*_0x1a66e0,_0x1ce0a5===0x1795+-0x1*0x42b+-0x136a?this['set'](0x12ad+-0x1*-0x1d69+-0x99e*0x5,0x4d*0x37+0x166+-0x11f1,-0x1ff7+0x1f26+0xb*0x13,0x1da+0x1a5*-0x5+0x18*0x44):(_0x1ce0a5=(0xa47*-0x3+-0x20e7*-0x1+-0x211)/Math['sqrt'](_0x1ce0a5),_0x25a1da*=_0x1ce0a5,_0x4b52e8*=_0x1ce0a5,_0x1a66e0*=_0x1ce0a5,_0x1a66e0<0x1b8e+0x6b*0x2d+-0x2e5d?_0x5258dd>_0x1eb4f6?this['set'](-0x1*0x18d5+-0x1ef2+0x18*0x253+_0x5258dd-_0x1eb4f6-_0x1a66e0,_0x3063de+_0x158c53,_0x25a1da+_0x3ae564,_0x2fd26d-_0x4b52e8):this['set'](_0x3063de+_0x158c53,0x1c29+-0x2382+-0x3ad*-0x2-_0x5258dd+_0x1eb4f6-_0x1a66e0,_0x2fd26d+_0x4b52e8,_0x25a1da-_0x3ae564):_0x5258dd<-_0x1eb4f6?this['set'](_0x25a1da+_0x3ae564,_0x2fd26d+_0x4b52e8,-0xe9*-0x4+-0x2*-0xc41+0xb*-0x28f-_0x5258dd-_0x1eb4f6+_0x1a66e0,_0x3063de-_0x158c53):this['set'](_0x2fd26d-_0x4b52e8,_0x25a1da-_0x3ae564,_0x3063de-_0x158c53,-0x232d+0x24b3*-0x1+0x47e1+_0x5258dd+_0x1eb4f6+_0x1a66e0),this['mulScalar']((0x1653+-0x207e+-0x3*-0x364)/this['length']()))));}['setFromDir'+'ections'](_0x52ca67,_0x2dff9e){const _0x4c7cb7=-0xa54+-0x5b*-0x4+0x8e9*0x1+_0x52ca67['dot'](_0x2dff9e);return _0x4c7cb7<Number['EPSILON']?Math['abs'](_0x52ca67['x'])>Math['abs'](_0x52ca67['y'])?(this['x']=-_0x52ca67['z'],this['y']=0x110a+0x216c+-0x3276,this['z']=_0x52ca67['x'],this['w']=-0x3*0x820+-0x2496+-0x36*-0x121):(this['x']=-0x1*-0xdb7+-0x95*-0x2b+-0x26be*0x1,this['y']=-_0x52ca67['z'],this['z']=_0x52ca67['y'],this['w']=-0x125b+0x1*-0x1c71+0x5*0x95c):(this['x']=_0x52ca67['y']*_0x2dff9e['z']-_0x52ca67['z']*_0x2dff9e['y'],this['y']=_0x52ca67['z']*_0x2dff9e['x']-_0x52ca67['x']*_0x2dff9e['z'],this['z']=_0x52ca67['x']*_0x2dff9e['y']-_0x52ca67['y']*_0x2dff9e['x'],this['w']=_0x4c7cb7),this['normalize']();}['slerp'](_0x18d93e,_0x358263,_0x13aba6){const _0x3335c5=_0x18d93e['x'],_0x1e7796=_0x18d93e['y'],_0xbbb2f=_0x18d93e['z'],_0x12e1ba=_0x18d93e['w'];let _0x351fcb=_0x358263['x'],_0x119b70=_0x358263['y'],_0x3c2dc0=_0x358263['z'],_0xeb9daa=_0x358263['w'],_0xc5fbb0=_0x12e1ba*_0xeb9daa+_0x3335c5*_0x351fcb+_0x1e7796*_0x119b70+_0xbbb2f*_0x3c2dc0;if(_0xc5fbb0<0xdb5+-0x6a*0x3d+-0x1*-0xb8d&&(_0xeb9daa=-_0xeb9daa,_0x351fcb=-_0x351fcb,_0x119b70=-_0x119b70,_0x3c2dc0=-_0x3c2dc0,_0xc5fbb0=-_0xc5fbb0),Math['abs'](_0xc5fbb0)>=0x1*0x2027+0x1c54+-0x3c7a)return this['w']=_0x12e1ba,this['x']=_0x3335c5,this['y']=_0x1e7796,this['z']=_0xbbb2f,this;const _0x522f3c=Math['acos'](_0xc5fbb0),_0x16a9ad=Math['sqrt'](-0x138f+0x58*-0x58+0x31d0-_0xc5fbb0*_0xc5fbb0);if(Math['abs'](_0x16a9ad)<0x7e0+0x119*-0x5+0x1*-0x263+0.001)return this['w']=_0x12e1ba*(0x1aed*0x1+-0x2049+-0x2ae*-0x2+0.5)+_0xeb9daa*(0x1d91*-0x1+-0x1b7*0x14+0x3fdd*0x1+0.5),this['x']=_0x3335c5*(0x83c*0x3+0x4*0x54b+0x16f*-0x20+0.5)+_0x351fcb*(0x4b*-0x28+0x17c9+-0xc11+0.5),this['y']=_0x1e7796*(0xb1*-0x2b+0x4*0x2f+0x1cff+0.5)+_0x119b70*(0x9*-0x3a2+-0x20e1+0x4193+0.5),this['z']=_0xbbb2f*(-0xd7*0xd+-0x13a0+0x7*0x45d+0.5)+_0x3c2dc0*(0x1*0xa7a+-0x1*0x251b+0x1aa1*0x1+0.5),this;const _0x100385=Math['sin']((-0x11c4+0xb0e*0x3+-0x233*0x7-_0x13aba6)*_0x522f3c)/_0x16a9ad,_0x2308e1=Math['sin'](_0x13aba6*_0x522f3c)/_0x16a9ad;return this['w']=_0x12e1ba*_0x100385+_0xeb9daa*_0x2308e1,this['x']=_0x3335c5*_0x100385+_0x351fcb*_0x2308e1,this['y']=_0x1e7796*_0x100385+_0x119b70*_0x2308e1,this['z']=_0xbbb2f*_0x100385+_0x3c2dc0*_0x2308e1,this;}['transformV'+'ector'](_0x45fc76,_0x3f6245=new T()){const _0x2d5b0b=_0x45fc76['x'],_0x1aa3a6=_0x45fc76['y'],_0x30a241=_0x45fc76['z'],_0x366f81=this['x'],_0x3b3bf5=this['y'],_0x3f1c41=this['z'],_0xa18ab9=this['w'],_0x32c9c0=_0xa18ab9*_0x2d5b0b+_0x3b3bf5*_0x30a241-_0x3f1c41*_0x1aa3a6,_0x8da433=_0xa18ab9*_0x1aa3a6+_0x3f1c41*_0x2d5b0b-_0x366f81*_0x30a241,_0x14cf3f=_0xa18ab9*_0x30a241+_0x366f81*_0x1aa3a6-_0x3b3bf5*_0x2d5b0b,_0x5578fa=-_0x366f81*_0x2d5b0b-_0x3b3bf5*_0x1aa3a6-_0x3f1c41*_0x30a241;return _0x3f6245['x']=_0x32c9c0*_0xa18ab9+_0x5578fa*-_0x366f81+_0x8da433*-_0x3f1c41-_0x14cf3f*-_0x3b3bf5,_0x3f6245['y']=_0x8da433*_0xa18ab9+_0x5578fa*-_0x3b3bf5+_0x14cf3f*-_0x366f81-_0x32c9c0*-_0x3f1c41,_0x3f6245['z']=_0x14cf3f*_0xa18ab9+_0x5578fa*-_0x3f1c41+_0x32c9c0*-_0x3b3bf5-_0x8da433*-_0x366f81,_0x3f6245;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}};c(aa,'IDENTITY',Object['freeze'](new aa(0x50f+-0x4*0x419+-0x3*-0x3c7,0x225f+0x1*0x641+-0x28a0,0x1*0xf7f+0x1b7c+0x2afb*-0x1,-0x46*0x15+0x79d*0x1+0x1de*-0x1))),c(aa,'ZERO',Object['freeze'](new aa(0x1fba+0xa06*0x1+0x8*-0x538,0xea9+0x527+-0x13d0,-0x915+-0x1cdd+0x25f2,-0x2*0xc36+-0x26e3+0x3f4f)));let se=aa;const vn=new T(),bn=new T(),nm=new T(),am=new T(),vS=new T();class _e{constructor(_0x231892,_0x30c5fa){c(this,'center',new T()),c(this,'halfExtent'+'s',new T(0x1550+-0x1*-0x1c19+0x8b*-0x5b+0.5,0x25fc+0x775+-0x1*0x2d71+0.5,-0xa3b+-0x15*-0x75+0xa2+0.5)),c(this,'_min',new T()),c(this,'_max',new T()),(_0x231892&&this['center']['copy'](_0x231892),_0x30c5fa&&this['halfExtent'+'s']['copy'](_0x30c5fa));}['add'](_0x1ab50a){const _0x362145=this['center'],_0x2971e7=_0x362145['x'],_0x13f227=_0x362145['y'],_0x16ec1c=_0x362145['z'],_0x5aacf4=this['halfExtent'+'s'],_0x20f774=_0x5aacf4['x'],_0x183ffe=_0x5aacf4['y'],_0x38a58f=_0x5aacf4['z'];let _0x16e331=_0x2971e7-_0x20f774,_0x166a2b=_0x2971e7+_0x20f774,_0x3ee3ed=_0x13f227-_0x183ffe,_0xb43dc6=_0x13f227+_0x183ffe,_0x42a061=_0x16ec1c-_0x38a58f,_0x3a411c=_0x16ec1c+_0x38a58f;const _0x4e66e4=_0x1ab50a['center'],_0x6610e7=_0x4e66e4['x'],_0x2cca99=_0x4e66e4['y'],_0x91ffac=_0x4e66e4['z'],_0x4248dc=_0x1ab50a['halfExtent'+'s'],_0x4cb343=_0x4248dc['x'],_0x2dbc43=_0x4248dc['y'],_0x452985=_0x4248dc['z'],_0x3d053f=_0x6610e7-_0x4cb343,_0x42d3f9=_0x6610e7+_0x4cb343,_0x3edebe=_0x2cca99-_0x2dbc43,_0x3861a4=_0x2cca99+_0x2dbc43,_0x1ae72c=_0x91ffac-_0x452985,_0x524f0d=_0x91ffac+_0x452985;_0x3d053f<_0x16e331&&(_0x16e331=_0x3d053f),_0x42d3f9>_0x166a2b&&(_0x166a2b=_0x42d3f9),_0x3edebe<_0x3ee3ed&&(_0x3ee3ed=_0x3edebe),_0x3861a4>_0xb43dc6&&(_0xb43dc6=_0x3861a4),_0x1ae72c<_0x42a061&&(_0x42a061=_0x1ae72c),_0x524f0d>_0x3a411c&&(_0x3a411c=_0x524f0d),_0x362145['x']=(_0x16e331+_0x166a2b)*(-0x949+-0x1aef*0x1+0x2438+0.5),_0x362145['y']=(_0x3ee3ed+_0xb43dc6)*(0xb*-0x367+0x1f*0x2+0x1f5*0x13+0.5),_0x362145['z']=(_0x42a061+_0x3a411c)*(0x42*-0x56+0x20c7+0x3*-0x389+0.5),_0x5aacf4['x']=(_0x166a2b-_0x16e331)*(0x940+-0x5*-0x277+-0x1593+0.5),_0x5aacf4['y']=(_0xb43dc6-_0x3ee3ed)*(-0x160b*-0x1+0x1*-0x11a2+-0x469+0.5),_0x5aacf4['z']=(_0x3a411c-_0x42a061)*(0xb72+0x7*0x3+-0xb87+0.5);}['copy'](_0x18c6df){this['center']['copy'](_0x18c6df['center']),this['halfExtent'+'s']['copy'](_0x18c6df['halfExtent'+'s']);}['clone'](){return new _e(this['center'],this['halfExtent'+'s']);}['intersects'](_0x1a4754){const _0x2bcd0d=this['getMax'](),_0x51d179=this['getMin'](),_0x2f8279=_0x1a4754['getMax'](),_0x50daef=_0x1a4754['getMin']();return _0x51d179['x']<=_0x2f8279['x']&&_0x2bcd0d['x']>=_0x50daef['x']&&_0x51d179['y']<=_0x2f8279['y']&&_0x2bcd0d['y']>=_0x50daef['y']&&_0x51d179['z']<=_0x2f8279['z']&&_0x2bcd0d['z']>=_0x50daef['z'];}['_intersect'+'sRay'](_0x3bae74,_0x48233f){const _0x4d9cd7=vn['copy'](this['getMin']())['sub'](_0x3bae74['origin']),_0x396643=bn['copy'](this['getMax']())['sub'](_0x3bae74['origin']),_0x21ad59=_0x3bae74['direction'];_0x21ad59['x']===-0x2b*-0x77+0x52c*0x2+-0x611*0x5?(_0x4d9cd7['x']=_0x4d9cd7['x']<-0x722+0x3*0x2f1+-0x1b1?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x396643['x']=_0x396643['x']<-0x2076+-0x6bd*0x1+0x2733?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x4d9cd7['x']/=_0x21ad59['x'],_0x396643['x']/=_0x21ad59['x']),_0x21ad59['y']===0x170+-0xfb3+0xe43?(_0x4d9cd7['y']=_0x4d9cd7['y']<-0x2424+0x1795+0xc8f?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x396643['y']=_0x396643['y']<0x152*-0x7+0x119*0x1+0x8b*0xf?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x4d9cd7['y']/=_0x21ad59['y'],_0x396643['y']/=_0x21ad59['y']),_0x21ad59['z']===-0x1426+-0x1*-0x1f+0x1*0x1407?(_0x4d9cd7['z']=_0x4d9cd7['z']<-0x13d4+-0x1*-0xfb9+0x41b?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x396643['z']=_0x396643['z']<-0x16ed+-0x2555+0x3c42?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x4d9cd7['z']/=_0x21ad59['z'],_0x396643['z']/=_0x21ad59['z']);const _0x186cbb=nm['set'](Math['min'](_0x4d9cd7['x'],_0x396643['x']),Math['min'](_0x4d9cd7['y'],_0x396643['y']),Math['min'](_0x4d9cd7['z'],_0x396643['z'])),_0x265ae1=am['set'](Math['max'](_0x4d9cd7['x'],_0x396643['x']),Math['max'](_0x4d9cd7['y'],_0x396643['y']),Math['max'](_0x4d9cd7['z'],_0x396643['z'])),_0x236d14=Math['min'](Math['min'](_0x265ae1['x'],_0x265ae1['y']),_0x265ae1['z']),_0x489a87=Math['max'](Math['max'](_0x186cbb['x'],_0x186cbb['y']),_0x186cbb['z']),_0x371ec5=_0x236d14>=_0x489a87&&_0x489a87>=-0x5*0x1+-0x370*-0x8+-0xf*0x1d5;return _0x371ec5&&_0x48233f['copy'](_0x3bae74['direction'])['mulScalar'](_0x489a87)['add'](_0x3bae74['origin']),_0x371ec5;}['_fastInter'+'sectsRay'](_0x37354c){const _0x5119ba=vn,_0x215a3a=bn,_0x3bfdfc=nm,_0x463db3=am,_0x30767e=vS,_0x2316a6=_0x37354c['direction'];return _0x5119ba['sub2'](_0x37354c['origin'],this['center']),_0x463db3['set'](Math['abs'](_0x5119ba['x']),Math['abs'](_0x5119ba['y']),Math['abs'](_0x5119ba['z'])),_0x3bfdfc['mul2'](_0x5119ba,_0x2316a6),!(_0x463db3['x']>this['halfExtent'+'s']['x']&&_0x3bfdfc['x']>=-0x11a*0x13+0x2b*-0x25+0x1b25||_0x463db3['y']>this['halfExtent'+'s']['y']&&_0x3bfdfc['y']>=0xa3e+-0x2561+0x1b23*0x1||_0x463db3['z']>this['halfExtent'+'s']['z']&&_0x3bfdfc['z']>=-0xd1*-0x22+0xd2*0x28+-0x3c92||(_0x30767e['set'](Math['abs'](_0x2316a6['x']),Math['abs'](_0x2316a6['y']),Math['abs'](_0x2316a6['z'])),_0x215a3a['cross'](_0x2316a6,_0x5119ba),_0x215a3a['set'](Math['abs'](_0x215a3a['x']),Math['abs'](_0x215a3a['y']),Math['abs'](_0x215a3a['z'])),_0x215a3a['x']>this['halfExtent'+'s']['y']*_0x30767e['z']+this['halfExtent'+'s']['z']*_0x30767e['y'])||_0x215a3a['y']>this['halfExtent'+'s']['x']*_0x30767e['z']+this['halfExtent'+'s']['z']*_0x30767e['x']||_0x215a3a['z']>this['halfExtent'+'s']['x']*_0x30767e['y']+this['halfExtent'+'s']['y']*_0x30767e['x']);}['intersects'+'Ray'](_0x46d31b,_0x1a821b){return _0x1a821b?this['_intersect'+'sRay'](_0x46d31b,_0x1a821b):this['_fastInter'+'sectsRay'](_0x46d31b);}['setMinMax'](_0x4a580a,_0x35077d){this['center']['add2'](_0x35077d,_0x4a580a)['mulScalar'](-0x1*-0x177a+-0x2367+-0x2b*-0x47+0.5),this['halfExtent'+'s']['sub2'](_0x35077d,_0x4a580a)['mulScalar'](0xdbf+-0x75b+-0x664+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0xd28e8f){const _0x3fae8b=this['getMin'](),_0x14a6f2=this['getMax']();return!(_0xd28e8f['x']<_0x3fae8b['x']||_0xd28e8f['x']>_0x14a6f2['x']||_0xd28e8f['y']<_0x3fae8b['y']||_0xd28e8f['y']>_0x14a6f2['y']||_0xd28e8f['z']<_0x3fae8b['z']||_0xd28e8f['z']>_0x14a6f2['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x27767e,_0x3c3734,_0x270dcc=!(-0x2389+0xf7e+0x140c)){const _0x592363=_0x27767e['center'],_0x2b952d=_0x27767e['halfExtent'+'s'],_0xfaae0a=_0x3c3734['data'];let _0x4ba261=_0xfaae0a[0x107+0x1d77+-0x1e7e],_0x3ecc0c=_0xfaae0a[0x1*0x4a+0x399+-0x3df],_0x3c5310=_0xfaae0a[-0x14a+0x24d8+0x2*-0x11c3],_0x1be765=_0xfaae0a[0x2317+-0x749+-0x1bcd],_0x4928ee=_0xfaae0a[-0xa4e+0x1737+-0xce4],_0x162c66=_0xfaae0a[0x1*0x1297+0x264b+-0x81f*0x7],_0x2582e0=_0xfaae0a[0x220b+0x1*0x2ef+0x16c*-0x1a],_0x5b2e25=_0xfaae0a[-0x265*0x4+-0x5*-0x485+-0xcff],_0x21acd8=_0xfaae0a[0x3fe+-0x1*-0x16+-0x40a];if(_0x270dcc){let _0x126ee7=_0x4ba261*_0x4ba261+_0x3ecc0c*_0x3ecc0c+_0x3c5310*_0x3c5310;if(_0x126ee7>0x806+-0xf*-0x127+-0x24d*0xb){const _0x2ab257=(-0xc4d+-0x40f+0x47*0x3b)/Math['sqrt'](_0x126ee7);_0x4ba261*=_0x2ab257,_0x3ecc0c*=_0x2ab257,_0x3c5310*=_0x2ab257;}if(_0x126ee7=_0x1be765*_0x1be765+_0x4928ee*_0x4928ee+_0x162c66*_0x162c66,_0x126ee7>0xe1a+-0x10a9+0x28f){const _0x13dadc=(-0x75e+-0x5*-0x1a1+0x21*-0x6)/Math['sqrt'](_0x126ee7);_0x1be765*=_0x13dadc,_0x4928ee*=_0x13dadc,_0x162c66*=_0x13dadc;}if(_0x126ee7=_0x2582e0*_0x2582e0+_0x5b2e25*_0x5b2e25+_0x21acd8*_0x21acd8,_0x126ee7>0x1cc1+0x24df+-0x41a0){const _0x3f61f2=(-0xfb0*0x1+-0xf89*-0x1+-0x1*-0x28)/Math['sqrt'](_0x126ee7);_0x2582e0*=_0x3f61f2,_0x5b2e25*=_0x3f61f2,_0x21acd8*=_0x3f61f2;}}this['center']['set'](_0xfaae0a[-0x902+0x4*0x75a+0x1*-0x145a]+_0x4ba261*_0x592363['x']+_0x3ecc0c*_0x592363['y']+_0x3c5310*_0x592363['z'],_0xfaae0a[0xdc7+0x230b+-0x30c5]+_0x1be765*_0x592363['x']+_0x4928ee*_0x592363['y']+_0x162c66*_0x592363['z'],_0xfaae0a[0x5*0x22b+-0x86f+-0x56*0x7]+_0x2582e0*_0x592363['x']+_0x5b2e25*_0x592363['y']+_0x21acd8*_0x592363['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x4ba261)*_0x2b952d['x']+Math['abs'](_0x3ecc0c)*_0x2b952d['y']+Math['abs'](_0x3c5310)*_0x2b952d['z'],Math['abs'](_0x1be765)*_0x2b952d['x']+Math['abs'](_0x4928ee)*_0x2b952d['y']+Math['abs'](_0x162c66)*_0x2b952d['z'],Math['abs'](_0x2582e0)*_0x2b952d['x']+Math['abs'](_0x5b2e25)*_0x2b952d['y']+Math['abs'](_0x21acd8)*_0x2b952d['z']);}static['computeMin'+'Max'](_0x173fb2,_0x44efb4,_0xd35e2f,_0x3f9c04=_0x173fb2['length']/(-0x11*0x24+0x1*0x26ad+-0x2446)){if(_0x3f9c04>-0x3fb+0x3*-0x681+0xbbf*0x2){let _0x3cd9cd=_0x173fb2[0x1*-0xe43+0x41*0x4f+-0x5cc],_0x509a59=_0x173fb2[0x937+-0x1*-0xb66+0x527*-0x4],_0x382827=_0x173fb2[-0x18f6+-0x25b5+0x3ead],_0x411c31=_0x3cd9cd,_0x45f4e7=_0x509a59,_0x1a9b03=_0x382827;const _0x22a103=_0x3f9c04*(0x24d*0x1+0x6*0x4b5+-0x1e88*0x1);for(let _0xad6941=-0x3c+-0x19*-0x18+-0x1*0x219;_0xad6941<_0x22a103;_0xad6941+=0xe6+-0x1650+0x156d){const _0x2e84a0=_0x173fb2[_0xad6941],_0xcbf5ea=_0x173fb2[_0xad6941+(0xa7e+-0x72d*0x3+-0x1d7*-0x6)],_0x325d4b=_0x173fb2[_0xad6941+(0x7ed*-0x3+-0xbd*0x31+-0x1dfb*-0x2)];_0x2e84a0<_0x3cd9cd&&(_0x3cd9cd=_0x2e84a0),_0xcbf5ea<_0x509a59&&(_0x509a59=_0xcbf5ea),_0x325d4b<_0x382827&&(_0x382827=_0x325d4b),_0x2e84a0>_0x411c31&&(_0x411c31=_0x2e84a0),_0xcbf5ea>_0x45f4e7&&(_0x45f4e7=_0xcbf5ea),_0x325d4b>_0x1a9b03&&(_0x1a9b03=_0x325d4b);}_0x44efb4['set'](_0x3cd9cd,_0x509a59,_0x382827),_0xd35e2f['set'](_0x411c31,_0x45f4e7,_0x1a9b03);}}['compute'](_0x30c3ef,_0x514ea7){_e['computeMin'+'Max'](_0x30c3ef,vn,bn,_0x514ea7),this['setMinMax'](vn,bn);}['intersects'+'BoundingSp'+'here'](_0x5a770b){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x5a770b)<=_0x5a770b['radius']*_0x5a770b['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x2aca6a){const _0x574527=this['getMin'](),_0x36baa2=this['getMax']();let _0x503f2b=0x1314+0x95e+-0x1c72;const _0x4d6587=['x','y','z'];for(let _0x20cce0=0x1727*0x1+-0x1c03+0x4dc*0x1;_0x20cce0<0x9*0x28d+-0x1e23*-0x1+0x3515*-0x1;++_0x20cce0){let _0x3c6884=0x19e8+-0x95+-0x1953;const _0x3e8e74=_0x2aca6a['center'][_0x4d6587[_0x20cce0]],_0x385b48=_0x574527[_0x4d6587[_0x20cce0]],_0x108408=_0x36baa2[_0x4d6587[_0x20cce0]];let _0x5ba269=0x2*0x1381+0x65*0x59+-0x4a1f;_0x3e8e74<_0x385b48&&(_0x5ba269=_0x385b48-_0x3e8e74,_0x3c6884+=_0x5ba269*_0x5ba269),_0x3e8e74>_0x108408&&(_0x5ba269=_0x3e8e74-_0x108408,_0x3c6884+=_0x5ba269*_0x5ba269),_0x503f2b+=_0x3c6884;}return _0x503f2b;}['_expand'](_0x3e7d5d,_0x17e50e){vn['add2'](this['getMin'](),_0x3e7d5d),bn['add2'](this['getMax'](),_0x17e50e),this['setMinMax'](vn,bn);}}const gl=new T(),bS=new T();class Lf{constructor(_0x1b4775=new T(),_0x33d7ba=-0x6d3*-0x1+-0x3a5+-0x32e+0.5){c(this,'center'),c(this,'radius'),(v['assert'](!Object['isFrozen'](_0x1b4775),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x1b4775,this['radius']=_0x33d7ba);}['containsPo'+'int'](_0x3fc3c8){const _0x64f27c=gl['sub2'](_0x3fc3c8,this['center'])['lengthSq'](),_0x4c3c3e=this['radius'];return _0x64f27c<_0x4c3c3e*_0x4c3c3e;}['intersects'+'Ray'](_0x4e1ee7,_0x45fed0){const _0xa4cb78=gl['copy'](_0x4e1ee7['origin'])['sub'](this['center']),_0x1af51a=_0xa4cb78['dot'](bS['copy'](_0x4e1ee7['direction'])['normalize']()),_0x4c1571=_0xa4cb78['dot'](_0xa4cb78)-this['radius']*this['radius'];if(_0x4c1571>0x11*-0x60+0x1711+0x10b1*-0x1&&_0x1af51a>-0x235*0xb+-0x15d*-0x5+-0x1e*-0x95)return!(0x16e1+0x20ba*-0x1+0x9da);const _0x17de74=_0x1af51a*_0x1af51a-_0x4c1571;if(_0x17de74<0x1116+0x5*-0x431+0x3df)return!(0x13f9+-0x1a*0xc5+-0x5*-0x2);const _0x12b435=Math['abs'](-_0x1af51a-Math['sqrt'](_0x17de74));return _0x45fed0&&_0x45fed0['copy'](_0x4e1ee7['direction'])['mulScalar'](_0x12b435)['add'](_0x4e1ee7['origin']),!(-0x1cce+0xb20+0x11ae);}['intersects'+'BoundingSp'+'here'](_0x6811ca){gl['sub2'](_0x6811ca['center'],this['center']);const _0x1ac797=_0x6811ca['radius']+this['radius'];return gl['lengthSq']()<=_0x1ac797*_0x1ac797;}}class hy{constructor(_0xd5b058=T['UP'],_0x53ee71=-0xa49*0x3+-0x1988+0xb47*0x5){c(this,'normal',new T()),c(this,'distance'),(this['normal']['copy'](_0xd5b058),this['distance']=_0x53ee71);}['clone'](){const _0x1c5999=this['constructo'+'r'];return new _0x1c5999()['copy'](this);}['copy'](_0x5892d2){return this['normal']['copy'](_0x5892d2['normal']),this['distance']=_0x5892d2['distance'],this;}['intersects'+'Line'](_0xf24745,_0x142814,_0x80db26){const _0x5b89c6=this['distance'],_0x3bb144=this['normal']['dot'](_0xf24745)+_0x5b89c6,_0x1d1654=this['normal']['dot'](_0x142814)+_0x5b89c6,_0x208366=_0x3bb144/(_0x3bb144-_0x1d1654),_0x33b044=_0x208366>=-0x6d3*0x2+-0x1058+0x1dfe&&_0x208366<=-0x20f6+0x223f+-0x148;return _0x33b044&&_0x80db26&&_0x80db26['lerp'](_0xf24745,_0x142814,_0x208366),_0x33b044;}['intersects'+'Ray'](_0x3fe26d,_0x1e4b75){const _0x59a3bf=this['normal']['dot'](_0x3fe26d['direction']);if(_0x59a3bf===-0xadb+0x22f4+-0xc7*0x1f)return!(-0x14*0x1ac+-0x1f8c+0x40fd);const _0x11b65c=-(this['normal']['dot'](_0x3fe26d['origin'])+this['distance'])/_0x59a3bf;return _0x11b65c>=-0x1e66+-0x1*-0x26c3+0x1*-0x85d&&_0x1e4b75&&_0x1e4b75['copy'](_0x3fe26d['direction'])['mulScalar'](_0x11b65c)['add'](_0x3fe26d['origin']),_0x11b65c>=-0xe65+-0x1d*0x14b+0x33e4;}['normalize'](){const _0x51ce93=(0x26c2+0x1b8d+-0x424e)/this['normal']['length']();return this['normal']['mulScalar'](_0x51ce93),this['distance']*=_0x51ce93,this;}['set'](_0x128c93,_0x45908f,_0x299b4b,_0x275b00){return this['normal']['set'](_0x128c93,_0x45908f,_0x299b4b),this['distance']=_0x275b00,this;}['setFromPoi'+'ntNormal'](_0x1cb421,_0x2c9023){return this['normal']['copy'](_0x2c9023),this['distance']=-this['normal']['dot'](_0x1cb421),this;}}class wS{constructor(){c(this,'planes',[]);for(let _0x3ac95c=-0xc*-0x147+0x399+-0x12ed;_0x3ac95c<-0xd67*0x1+-0xc25*0x1+0x1*0x1992;_0x3ac95c++)this['planes'][_0x3ac95c]=new hy();}['clone'](){const _0x2da977=this['constructo'+'r'];return new _0x2da977()['copy'](this);}['copy'](_0x3b6170){for(let _0x942138=0x658+-0x1e3e+0x17e6;_0x942138<0x693+-0x19e8+0x3df*0x5;_0x942138++)this['planes'][_0x942138]['copy'](_0x3b6170['planes'][_0x942138]);return this;}['setFromMat'+'4'](_0x44e7a8){const [_0x5e7989,_0x501b67,_0x573114,_0x37eb4a,_0x3cb00d,_0x45e922,_0x3394cb,_0x21af60,_0x33293c,_0x2f1867,_0x356b31,_0x2c41d7,_0x3f9791,_0x3e86df,_0x45fe91,_0x1e59f8]=_0x44e7a8['data'],_0x20a903=this['planes'];_0x20a903[-0x2*-0xd3+-0x1*-0x21d+-0x6b*0x9]['set'](_0x37eb4a-_0x5e7989,_0x21af60-_0x3cb00d,_0x2c41d7-_0x33293c,_0x1e59f8-_0x3f9791)['normalize'](),_0x20a903[-0x1b7f*-0x1+-0x904*0x3+-0x72]['set'](_0x37eb4a+_0x5e7989,_0x21af60+_0x3cb00d,_0x2c41d7+_0x33293c,_0x1e59f8+_0x3f9791)['normalize'](),_0x20a903[0x1584+-0x2498*0x1+0xf16]['set'](_0x37eb4a+_0x501b67,_0x21af60+_0x45e922,_0x2c41d7+_0x2f1867,_0x1e59f8+_0x3e86df)['normalize'](),_0x20a903[0xa*-0x1ee+0x1*-0xa3c+0x3*0x9d9]['set'](_0x37eb4a-_0x501b67,_0x21af60-_0x45e922,_0x2c41d7-_0x2f1867,_0x1e59f8-_0x3e86df)['normalize'](),_0x20a903[0x146a+0x1*-0x70c+-0xd5a]['set'](_0x37eb4a-_0x573114,_0x21af60-_0x3394cb,_0x2c41d7-_0x356b31,_0x1e59f8-_0x45fe91)['normalize'](),_0x20a903[-0xe5*0x29+0x35*0x3+0x5*0x737]['set'](_0x37eb4a+_0x573114,_0x21af60+_0x3394cb,_0x2c41d7+_0x356b31,_0x1e59f8+_0x45fe91)['normalize']();}['containsPo'+'int'](_0x4c425d){for(let _0x114a2d=-0x9a*0x1c+0x1483+0x1*-0x3ab;_0x114a2d<-0x1*0x97+-0x5db*0x1+0x678;_0x114a2d++){const {normal:_0x4802e3,distance:_0x5d2544}=this['planes'][_0x114a2d];if(_0x4802e3['dot'](_0x4c425d)+_0x5d2544<=0x13*-0xdd+-0x155*0x1c+0x1*0x35b3)return!(0x1fdc*0x1+0x26*-0xbc+0x1*-0x3f3);}return!(-0x1876+0x1*0x2573+-0xcfd);}['containsSp'+'here'](_0x4b79ad){const {center:_0x268e73,radius:_0x3fccc0}=_0x4b79ad;let _0x412f27=-0x1e0c+0x1056+0x75*0x1e;for(let _0x129524=-0x2207+0x2066+0x1a1;_0x129524<-0x4ff*-0x3+-0x9f1*-0x2+-0x22d9;_0x129524++){const {normal:_0x567b65,distance:_0x117a44}=this['planes'][_0x129524],_0x4cfaf2=_0x567b65['dot'](_0x268e73)+_0x117a44;if(_0x4cfaf2<=-_0x3fccc0)return 0x509*-0x1+0x7*0xdb+0x2*-0x7a;_0x4cfaf2>_0x3fccc0&&_0x412f27++;}return _0x412f27===-0x97a+-0x1619+0x1f99?-0xc62+-0x1677+-0x22db*-0x1:-0x2374+-0x2*-0xa51+0xed3;}}class uu{constructor(_0x1eb4a7,_0x38878f){c(this,'origin',new T()),c(this,'direction',T['FORWARD']['clone']()),(_0x1eb4a7&&this['origin']['copy'](_0x1eb4a7),_0x38878f&&this['direction']['copy'](_0x38878f));}['set'](_0x15b01e,_0x5b826){return this['origin']['copy'](_0x15b01e),this['direction']['copy'](_0x5b826),this;}['copy'](_0x4e5aa6){return this['set'](_0x4e5aa6['origin'],_0x4e5aa6['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const cc='linear',Ff='inverse',cy='exponentia'+'l',tt=-0x38c*0x9+0x2*0xc50+0x74c,ae=0x128c+0x916*-0x1+-0x975,Of=0x46f*0x1+-0x140+-0x32d,kf=-0x1f*0x73+0x6a6*0x1+0x747,at=0x744+0x1031+-0x1774,TS=-0x17d3+0x1d3*-0x13+0x3a7e,dy=-0x1*-0x1f01+0x8e*0x31+0x3a2b*-0x1,AS=0x2*0xe89+0x258e*0x1+-0x429b,dc=0x8*0x29f+0x2353+0x5*-0xb41,uc=-0x1581+0x1*0x181c+-0x293*0x1,Lt=0x11d8+-0x4c1+0xd17*-0x1,ES=-0x64*-0x3f+0xf7c+-0x2816,CS=0xa7e+-0x159e+0xb23,MS=-0x1*-0x1393+0x1b6c+-0xfa9*0x3,jt=-0x2212+0x3*0x687+-0x1*-0xe7d,Th=0x2*-0x37d+-0x1*-0x1827+0x1*-0x112c,uy=-0x2*0x38+0x15cc+-0x155a,PS=0x3db+0xbaa+-0xf82,Co=0x1cfa*0x1+0xe2*0x1+0x1ddb*-0x1,Mo=0x1e6*0x2+0x1cd5+-0x209f,Ah=-0x1a21+0x133c+0x6e9,mt=0x213f+0x28a*0x2+-0x2653,rn=0x18fc+0xaed*-0x1+0x2*-0x707,mo=0x3*-0xb19+-0x5d5*0x5+0x1f3b*0x2,RS=0xfb*0x22+0x1*0x13bb+0x1*-0x350e,de=-0x1512+0x11*-0x1d2+-0x2*-0x1a02,st=0xbe7+0xfb*0x1b+-0x265f,fc=-0x1*-0xb01+-0x2*-0x952+-0x1da3,pc=-0x82d+-0x1da4+0x25d4,mc=0x1*0x14d5+0x213c+-0x89*0x65,nn=-0x593*-0x6+0x12a*0x6+-0x2869,IS=-0xc6d*0x1+0x11*0x3e+0x2c5*0x3,Eh=-0x1d6*0xc+0xacc+0xb3d,Ch=0x5*0x411+0x1d65+0x94*-0x56,fu=0xd*-0x290+-0x1229*0x1+0xcdf*0x4,DS=0x6e+0x6b5+-0x1*0x71f,LS=-0x3fb+0x212e+-0x1d2e,FS=0x1*-0x233b+-0xd8*-0x13+-0x13*-0x103,Ai=0xe69+-0xfbd+0x15b,pu=-0x12c3+-0x39a+0x165d,Pi=-0x8ec*-0x1+0x9cf*0x3+-0x996*0x4,nr=-0x22*-0xf3+-0xa6*-0xf+-0x29fe,fy=-0x77a*0x1+0xaf7+0x13*-0x2f,py=-0x1bb*-0x1+-0x1136+0x1*0xf7c,Bf=-0x1cc9+-0x1*-0x1b79+0x152,_c=0x4d*-0x17+-0xb1e*-0x1+-0x430,Nf=-0x1e52+-0x676+0x311*0xc,gc=0x156f*0x1+-0x11*0x175+0x35b*0x1,dr=-0x6e3+-0xd31+-0x1f*-0xa6,Se=-0x6*0x34b+0x2*0xa12+-0x5b,yc=0x741*-0x1+0x2e9*-0x6+-0x5*-0x4f3,zf=-0x3*-0x161+-0x10a3+0x1*0xc89,$o=0x1657+-0x454+-0x11f9,xc=-0x3*0x53c+0x2136+0x107*-0x11,Je=-0x25c6+-0xd3*0xd+-0x23*-0x163,Sc=-0xf10+-0xdd*0x5+0x67a*0x3,Ke=0x16ea+-0x1abb*0x1+-0x1*-0x3df,Ii=0x1*-0x1dcb+0x8fe+0x14dc,Ci=0x499+-0x590+0x107,vc=0x1bc1+0x1*-0x1d93+0x1e3,_a=-0x80b+0x1dd1+-0x15b4,Uf=-0x980*0x2+-0xc*-0x2df+-0xf61,rs=0x223f+0x937+0x2*-0x15b1,bc=-0x476+0x121*-0x14+0x1b1f,Vf=-0x4c*0x42+0x2681+0x3d*-0x4f,Gf=0xa88+-0x1af7+0x34e*0x5,qo=0x1ff*0xf+-0x2230*0x1+0x1*0x457,Xo=-0xbbf+-0x1*0x1f4b+-0xe61*-0x3,wc=-0x1ad6+0x128*0x1+-0x18*-0x113,Tc=0xb*-0xb+-0x19a*-0x2+0x3*-0xe0,my=-0x7d1+-0x1*-0xe8a+0x69d*-0x1,_y=-0x20*-0x1d+-0x97*0x36+0x1*0x1c57,gy=0x3*0xc77+-0x4a*-0x20+-0x2e87*0x1,yy=0x2*0xebe+-0x1*0x2302+-0x11*-0x55,Hf=-0xd*0x1cd+-0x2*0x12ba+0x3cfd,xy=-0x1526+0x1640+-0xf9,Wf=0x9c6+0x1*0x8cc+0xa*-0x1d8,$f=0xfac+-0x13b6+0x42d,qf=-0x1*-0x403+-0x2536+0x2157,an=-0x53*0x17+0xa3d+-0x2a3,Xf=-0x1*-0xd8d+0x4f*0x21+0x1*-0x1796,Sy=-0x1c93+0x1b65+0x155,jf=-0xd0a+-0xa97*0x1+-0x17c9*-0x1,Yf=-0x13*0x13+-0x3a6*-0x2+-0x5ba,Kf=0xd96+-0x9f7+-0x375,Zf=0x11*0x5d+0x1055+0x12d*-0x13,Qf=0x5eb+-0x349*-0x8+-0x2007,vy=0x6*0x1c3+-0x2245+0x17e0,Jf=0x1*-0x2185+-0xb77*0x1+0x2d2a,Ac=0x218a+-0x8*-0x1e2+0x5*-0x9af,ep=0xa4f+-0x2*-0xe49+-0x26b1,ut=-0x1eaf+-0x2*-0x7ae+0xf84,Ec=-0x7a9+-0x1ca3+0x247e,tp=0x5fa+0x1e3*0xd+-0x50d*0x6,sp=0x22c5*0x1+-0x1*0x1a4f+-0x842,ip=-0x255*0x5+-0x1a0c+0x25ea,mu=-0x1*-0x92e+-0x3d5*-0x4+-0x184c,_u=0x2*-0xfa6+-0x4*-0x6e5+0x3ef,gu=0x32e*-0x1+-0x779+0xadf,yu=-0x1*0x14d5+0x1b3*0x5+0xc93,xu=-0x22d*-0xa+-0x3*-0x432+-0x221a,Su=0x1*-0x16d9+0x138d+0x38b,by=0x22c1+-0x25ea+0x369,wy=0x18cf+-0xbd+-0x17d1,Ty=0xae4+0x1c6*-0x5+0x1c4*-0x1,Ay=0xffd*-0x2+0x2*0x592+-0xb*-0x1eb,vu=0xd41+0x2*-0x98d+-0x5*-0x139,la=-0x31*-0x40+-0x1*-0x949+0x551*-0x4,xt=new Map([[fy,{'name':'A8','size':0x1,'ldr':!(0x60c+0x189c+-0x1ea8)}],[sp,{'name':'R8','size':0x1,'ldr':!(0x139f+-0xb5*-0x32+-0x1*0x36f9)}],[py,{'name':'L8','size':0x1,'ldr':!(-0x2266+0xb9*0x17+0x5ed*0x3)}],[Bf,{'name':'LA8','size':0x2,'ldr':!(-0x13f*-0x11+0x4*-0x4a9+-0x28b)}],[ip,{'name':'RG8','size':0x2,'ldr':!(0xd52+-0x4*0x701+0x72*0x21)}],[_c,{'name':'RGB565','size':0x2,'ldr':!(-0x1b5a+0xcbe+-0x176*-0xa)}],[Nf,{'name':'RGBA5551','size':0x2,'ldr':!(-0x7e1*0x1+-0xf1c*0x1+0x6b*0x37)}],[gc,{'name':'RGBA4','size':0x2,'ldr':!(0x256d*0x1+-0x1a58+-0x1*0xb15)}],[dr,{'name':'RGB8','size':0x4,'ldr':!(-0x373*0x1+-0x16d4+0x1a47)}],[Se,{'name':'RGBA8','size':0x4,'ldr':!(-0x21f+-0x641*0x4+0x1b23*0x1),'srgbFormat':rs}],[Ec,{'name':'R16F','size':0x2}],[tp,{'name':'RG16F','size':0x4}],[xc,{'name':'RGB16F','size':0x8}],[Je,{'name':'RGBA16F','size':0x8}],[Sc,{'name':'RGB32F','size':0x10}],[Ke,{'name':'RGBA32F','size':0x10}],[Ii,{'name':'R32F','size':0x4}],[Ci,{'name':'DEPTH','size':0x4}],[la,{'name':'DEPTH16','size':0x2}],[vc,{'name':'DEPTHSTENC'+'IL','size':0x4}],[_a,{'name':'111110F','size':0x4}],[Uf,{'name':'SRGB8','size':0x4,'ldr':!(0x4d*-0x79+0x13*0x57+0x8*0x3be),'srgb':!(0x983+0x1961+-0x22e4)}],[rs,{'name':'SRGBA8','size':0x4,'ldr':!(-0x1ff9+-0x601*0x3+0x31fc),'srgb':!(0x12a7+-0xa11+-0x13a*0x7)}],[yy,{'name':'BGRA8','size':0x4,'ldr':!(-0x1900+-0x5*-0x1d2+0xfe6)}],[by,{'name':'SBGRA8','size':0x4,'ldr':!(-0x1d0a+0x12d+0x1bdd),'srgb':!(-0x676+0x1c3a*0x1+-0x15c4)}],[yc,{'name':'DXT1','blockSize':0x8,'ldr':!(0x241+0x1*0x899+-0xada),'srgbFormat':mu}],[zf,{'name':'DXT3','blockSize':0x10,'ldr':!(0x1365+0x5*0x3fb+0x5*-0x7dc),'srgbFormat':_u}],[$o,{'name':'DXT5','blockSize':0x10,'ldr':!(-0x5*0x4bd+-0xdec+0x1*0x259d),'srgbFormat':gu}],[bc,{'name':'ETC1','blockSize':0x8,'ldr':!(-0xc0a+0x1b4*0xd+-0xa1a)}],[Vf,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(-0x356+0x2000+0x2*-0xe55),'srgbFormat':yu}],[Gf,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(-0x7*-0x4bd+0x462+0x1*-0x258d),'srgbFormat':xu}],[qo,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(0x1bf1+0x2297+0x7d1*-0x8),'blockSize':0x8}],[Xo,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(0x85d*0x3+-0x5e*-0x42+-0x3153),'blockSize':0x8}],[wc,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(-0x26ce*-0x1+-0x3*0x68c+-0x132a),'blockSize':0x8}],[Tc,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(-0x18e3+0x1*-0x1e97+0x377a),'blockSize':0x8}],[my,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(0x1dbc*0x1+0x89+0x3*-0xa17),'srgbFormat':Su}],[_y,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(-0x1298+-0x17c8+0x2a60)}],[gy,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(-0x1eb6+-0x1976+0x2*0x1c16)}],[wy,{'name':'BC6H_RGBF','blockSize':0x10}],[Ty,{'name':'BC6H_RGBUF','blockSize':0x10}],[Ay,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(0x1*0x52a+-0x1*-0x1061+-0x158b),'srgbFormat':vu}],[mu,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(-0x34*0xb9+0x1988+0xc0c),'srgb':!(0x1073+-0x56*0x2c+0x1*-0x1ab)}],[_u,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(0x12be+-0x1e86+0xbc8),'srgb':!(-0x3*-0xb84+0x511*0x1+-0x279d)}],[gu,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(0x1910+0x44+0x655*-0x4),'srgb':!(0x5*0x4c7+-0x129+-0x16ba)}],[yu,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(0x19+0x8d0*0x1+-0x8e9),'srgb':!(0xd9e+0x368*0x7+-0x2576)}],[xu,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(-0x7bd*-0x5+-0x724*-0x5+-0xee1*0x5),'srgb':!(0x1ff0+-0x1a8c+-0x564)}],[Su,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(-0x1fb8+-0x1bd0+0x3b88),'srgb':!(-0xd89+-0x3*0x26+0xdfb)}],[vu,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(0x1230+0x4*0x6e2+-0x2db8),'srgb':!(-0x1ad6+0x224d*0x1+-0x27*0x31)}],[Hf,{'name':'R8I','size':0x1,'isInt':!(-0x2383+-0x248a+0x480d)}],[xy,{'name':'R8U','size':0x1,'isInt':!(-0x220d*0x1+-0xb*0x76+0x5*0x7d3)}],[Wf,{'name':'R16I','size':0x2,'isInt':!(0x25e6+-0x36f+0x33*-0xad)}],[$f,{'name':'R16U','size':0x2,'isInt':!(0x1a11+-0x1a63+0x52)}],[qf,{'name':'R32I','size':0x4,'isInt':!(0x5c*0x3b+0xe03+-0x2337)}],[an,{'name':'R32U','size':0x4,'isInt':!(0x9dd+-0x51a+-0x4c3)}],[Xf,{'name':'RG8I','size':0x2,'isInt':!(-0x1478*-0x1+0x2*0x7c6+-0x4*0x901)}],[Sy,{'name':'RG8U','size':0x2,'isInt':!(-0x208d+0x12c8+0x2c1*0x5)}],[jf,{'name':'RG16I','size':0x4,'isInt':!(0x631*-0x2+-0x216d+0x2dcf)}],[Yf,{'name':'RG16U','size':0x4,'isInt':!(-0x1001+-0x157*-0x11+-0x1*0x6c6)}],[Kf,{'name':'RG32I','size':0x8,'isInt':!(0x26d1+0x668+-0x2d39)}],[Zf,{'name':'RG32U','size':0x8,'isInt':!(-0x1afe*-0x1+0xbb6+-0x26b4)}],[Qf,{'name':'RGBA8I','size':0x4,'isInt':!(0xf93+-0x59*-0x1b+-0x18f6)}],[vy,{'name':'RGBA8U','size':0x4,'isInt':!(0x25dd+-0xc1a*0x1+-0x527*0x5)}],[Jf,{'name':'RGBA16I','size':0x8,'isInt':!(0x14d*0x10+0x17b9*0x1+-0x1*0x2c89)}],[Ac,{'name':'RGBA16U','size':0x8,'isInt':!(-0x151a+0x22*-0x51+-0x1fdc*-0x1)}],[ep,{'name':'RGBA32I','size':0x10,'isInt':!(-0x2*0x61+-0x1*0x9a9+0xa6b)}],[ut,{'name':'RGBA32U','size':0x10,'isInt':!(0x1c8*-0x4+-0x1ce1+-0x2c5*-0xd)}]]),OS=_0x4c50ba=>{var _0x4f6793;return((_0x4f6793=xt['get'](_0x4c50ba))==null?void(0x13e1+0xf46+-0x1*0x2327):_0x4f6793['blockSize'])!==void(-0x8c3+0x676*-0x1+0x1b1*0x9);},Mh=_0x4663e0=>{var _0x3db101;return((_0x3db101=xt['get'](_0x4663e0))==null?void(-0x262a*0x1+0x1*0x1f56+0x6d4):_0x3db101['srgb'])===!(-0x959*0x2+0x26bb+-0x1409);},ea=_0x588231=>{var _0x11d48d;return((_0x11d48d=xt['get'](_0x588231))==null?void(-0x1*-0xbe1+-0x24d6+-0x18f5*-0x1):_0x11d48d['isInt'])===!(0x23bd+-0x18*-0x4c+-0x2add);},Cc=_0x35011e=>{var _0x4deee9;return((_0x4deee9=xt['get'](_0x35011e))==null?void(-0x1*0x2563+-0x8a*-0x25+-0x5*-0x37d):_0x4deee9['srgbFormat'])||_0x35011e;},kS=_0x483b7d=>{for(const [_0x3be210,_0x410061]of xt)if(_0x410061['srgbFormat']===_0x483b7d)return _0x3be210;return _0x483b7d;},Ey=_0x4beaec=>{const _0x4ee845=xt['get'](_0x4beaec);return!!(_0x4ee845!=null&&_0x4ee845['ldr']&&!(_0x4ee845!=null&&_0x4ee845['srgb']));},Cy=_0x481af9=>{switch(_0x481af9){case Ii:case Sc:case Ke:return Float32Array;case qf:case Kf:case ep:return Int32Array;case an:case Zf:case ut:return Uint32Array;case Wf:case jf:case Jf:return Int16Array;case ip:case $f:case Yf:case Ac:case _c:case Nf:case gc:case Ec:case tp:case xc:case Je:return Uint16Array;case Hf:case Xf:case Qf:return Int8Array;default:return Uint8Array;}},Mc=0x17ea*0x1+0x1*-0x25f6+-0x1*-0xe0c,Pc=0x791*0x1+0x5e9*-0x6+-0xdf3*-0x2,My=-0xfe9+0x2673+-0x1688,Py=0x1*0x5c9+0x26bc+0xd3*-0x36,Ms=0x149c+-0x10ff+-0x399,ar=0x1bf3+-0x5ea*-0x2+-0x27c2,Yr=-0x5*0x47f+0x6fc+-0xf85*-0x1,He='POSITION',Yt='NORMAL',Zs='TANGENT',Ys='BLENDWEIGH'+'T',qt='BLENDINDIC'+'ES',At='COLOR',om='TEXCOORD',ns='TEXCOORD0',_n='TEXCOORD1',jo='TEXCOORD2',Yo='TEXCOORD3',Ko='TEXCOORD4',Zo='TEXCOORD5',Qo='TEXCOORD6',Jo='TEXCOORD7',bu='ATTR0',wu='ATTR1',Ry='ATTR2',Iy='ATTR3',Dy='ATTR4',BS='ATTR5',NS='ATTR6',zS='ATTR7',Po='ATTR8',Ro='ATTR9',US='ATTR10',VS='ATTR11',rp='ATTR12',ga='ATTR13',np='ATTR14',ya='ATTR15',Ly=-0x2c9+0x11c9*-0x1+0x1493,ha=-0x10c*0x2+0x21f1+-0x1fd9,GS=0xde7+0x1207+-0x1fec,HS=-0x5f9+-0x3d*-0x17+-0x2b*-0x3,WS=-0xb60+-0x1*0x59+0xbbe,yl=-0x1b*0x106+-0x1792+-0x71*-0x74,Fy=0x6*0x4e7+0x8*-0xe2+-0x3*0x773,rd=0xb*0x209+0x1*-0x1de4+-0x3*-0x281,Di='default',on='rgbm',ap='rgbe',Io='rgbp',op='swizzleGGG'+'R',Tu=-0x3*-0x1c1+-0x22b9+0x1d77*0x1,ur=0xb8f+-0x176c+0xbdf,Oy=-0x1165+-0xae7*0x1+0x1c4f,Us='2d',$S='2d-array',qS='cube',XS='3d',oh=-0xa6e*-0x1+0x1c58+-0x26c6,nd=-0xa1*-0x31+0x18d0+0x20*-0x1bd,jS=0x167*0x2+0x8e1+-0xbad,YS=-0x34+0x2073+-0x203c,KS=-0x433+0x4c*0x5f+0x17fd*-0x1,ZS='none',Au='cube',lm='equirect',QS='octahedral',ky='glsl',Ph='wgsl',Rc=0x2*-0xe02+-0x1*-0xa0b+0x11f9,Kr=0xb03*0x3+-0x1e6c+-0x2*0x14e,Ic=-0x2675*0x1+0x1b27+-0x1*-0xb50,el=-0x883+-0x1*0x784+-0x805*-0x2,By=0x109a+-0x219d+0x1107,Do=0x1*-0x6eb+0x3a7+0x349,Ee=-0x3*-0x165+0x653*-0x1+0x22a*0x1,ca=-0x273+-0x27c+0x4ef,ln=0x39c*-0x3+-0x13a2+-0xb*-0x2c5,$s=-0x183d+-0x1*-0x187b+0xc*-0x5,or=-0x1*-0x1b6f+0x1899+-0x3405,$t=-0x4fe*0x5+0xaae*0x3+-0x1*0x710,xa=0x1*-0x7d5+-0xb55+0x3*0x665,Zr=0x5f7*-0x3+-0xb79+0x759*0x4,Qr=-0x974+0x77a+-0x1*-0x201,Jr=-0x204a+0x1*0x821+0x1831,Lo=0x206*0x9+0x21fe+-0x342b*0x1,Fo=0x25c7*-0x1+-0x113*0x23+0x62*0xc5,Oo=-0x65*0x5+-0x21*0xcc+0x1c50,Rh=0x15f+0x1*-0x2506+0x23b3,ko=0xe52+0x730+-0x727*0x3,Sa=-0xd34+-0x62c+-0x33d*-0x6,JS=-0x8ab*0x4+-0x267f+0x5a2*0xd,ev=-0x586*0x1+-0xdc*0x23+0x23aa,Dc=0x2110+0xa23*0x3+0x4*-0xfda,tv=-0x1*0x130c+-0x21*-0xac+-0x30e,sv=-0x1bd3+-0x19f4+0x35da,iv=0x2245+0x6df+-0x2910,Lc=0xb27+-0x20f5+0x15e3,Fc=-0x240b+0x126d+0x11b4,lp=0x446*-0x4+0x255b+-0x142c,Ny=0x1*0xa67+0x81e+-0x126d,rv=-0x133f+-0x24*0xd4+-0x1a*-0x1e4,va=0x1ffe+-0x9c7*0x1+-0x161d,ba=0x945+0x21c6+0x55e*-0x8,wa=-0x2204+0x1f24+-0x2fc*-0x1,Ta=-0x1438+0x1*0x1cc7+-0x2*0x439,Aa=-0x6c4+-0x1cc8+0x1*0x23aa,Oc=0x1*0x3df+0x21bc+-0x257c,kc=0x1cc7+-0x1*-0xea7+-0x1*0x2b4e,Ea=0x1e1*-0x2+0x7d+-0x1b3*-0x2,Bc=-0xb55+-0x1d40+-0x1*-0x28b7,Nc=-0x33*0x95+0x173c+0x696,Ca=0x46c*-0x1+0x1657+-0x11c7,zc=0x262*0x10+-0xd*-0x182+0x1*-0x3995,Uc=-0x1e56+-0xa4a+-0x28c6*-0x1,Ih=-0x1878+-0x910+-0x21af*-0x1,hp=0x2bf+-0xa3*-0x13+0x2f*-0x50,cp=-0xb*-0x1c3+0x10f6+-0x242e,nv=0x6*-0x545+-0x1708+0x36d0,av=-0x2*-0x476+0x20aa+-0x296b,ov=0x1*-0x1aa3+0x1*-0x2045+-0x13*-0x31c,lv=-0x3*0x99+-0xa3a+0xc32,hv=-0x1*0x574+0x4a3*0x1+0x33*0x5,cv=-0xae*-0x17+0x10*0x6d+0x1*-0x1643,dv=0x9fa+0x88b*0x1+-0x1255,uv=0xe20+-0x182e+0xa3f,dp=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],fv=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],pv=new Map();fv['forEach']((_0x504aa3,_0x7d4d5a)=>{_0x504aa3['forEach'](_0xdc5807=>pv['set'](_0xdc5807,_0x7d4d5a));});const mv='webgl2',up=-0x141a+0x246e*-0x1+0x29*0x161,li=0x159e+0x1a76+-0x3012,_v=0x132a+-0x24f5*0x1+0x11cf,gv='ldr',zy=-0x1*0x969+-0xd6*-0x3+0x1ba*0x4,Uy=0x2358+0x2*-0x2db+-0xc*0x278,Vy=0x13*-0x185+0x87c+0x6cd*0x3,Gy=-0x83*0x35+0xfea+0xb3d*0x1,Hy=-0x1492*-0x1+0x9d2+0x3*-0xa1c,Wy=-0x1f23+-0x755*0x5+0x43ec,$y=0xb*0x76+0x22de+0xfe*-0x28,qy=0x1*-0x23de+-0x1c0*-0xa+0x12de,yv=0x9af+0xcdb+-0x158b,Dh=-0x1c26+-0xbc9*-0x2+-0x24a*-0x2,Xy=0x112d+-0x1543+0x417,Eu=-0x5ac+-0x25a2+0x2b50,xv=['view','mesh','mesh_ub'],fp='default',da=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],_o=[0x6f*-0xb+-0x87*0x30+0x2*0xf0b,0xae8+-0x1268+0x781,-0xac0+-0x9e3*0x2+0x1e88,-0xfef+-0x1f9a+-0xfd9*-0x3,-0xdd3+0x13c9+-0x5f2,0x25a6+-0x1e9f*-0x1+-0x4441,-0x31c*-0x2+0x979+-0xfad*0x1,0x7f1+-0xd7c+0x58d],Sv=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Lh=[Uint8Array,Uint16Array,Uint32Array],vv=[-0x1a85+0xe33+0xc53,-0x1884+-0x2*0x10d8+-0x1*-0x3a36,-0x1093+0x11*0x22c+-0x1455],ve={};ve[He]=0x31*-0x2f+-0x11eb*0x2+0x2cd5,ve[Yt]=0x1e8e+0x4f9+-0x2386,ve[Ys]=-0x20ab+0x247d+-0x3d0,ve[qt]=-0x2322+-0x121c+0x3541,ve[At]=0xf97+0x1*0x701+0xa*-0x242,ve[ns]=0x2ad*-0x5+-0x1599+0x1*0x22ff,ve[_n]=-0x12ec+-0x52f+-0x1821*-0x1,ve[jo]=-0x11e*-0x8+-0x70+-0x879*0x1,ve[Yo]=0x24a9*-0x1+-0x1c0c+0x40bd*0x1,ve[Ko]=0x25b2+-0x5b3*0x3+0x4*-0x524,ve[Zo]=-0x1a13*-0x1+0x6ad*0x1+-0x4f*0x6a,ve[Qo]=0x1*-0x1544+0x2*-0x4b5+0x5*0x625,ve[Jo]=-0x1d*0x41+0x1*0x20e3+-0x197a,ve[Zs]=-0x14dc+-0x202a+-0x11b1*-0x3,ve[bu]=-0x1*-0x2513+-0x1bd9+-0x93a,ve[wu]=-0x1783+0x1934+-0x1b0,ve[Ry]=0xb*0x12b+-0x2be*-0x5+0x1*-0x1a8d,ve[Iy]=-0x10fd+0x18d0+-0x7d0,ve[Dy]=-0x21d*-0xa+-0x35*0xbb+0x1*0x1199,ve[BS]=0x1337+0x1*-0x244d+0x1*0x111b,ve[NS]=0x5*-0x5a7+-0x1a2f+0x3678*0x1,ve[zS]=0x235*0x3+-0x1205+0xc3*0xf,ve[Po]=-0x1d8+-0x6*0x3b5+-0x2ae*-0x9,ve[Ro]=-0x15f9+0x6d7+0xf2b,ve[US]=0xcd6+-0x793+-0x539,ve[VS]=-0x2*0xe5d+0x33*-0x55+-0xf*-0x30c,ve[rp]=-0xe6*0x4+0x1967*0x1+-0x15c3,ve[ga]=-0x1b05+0x95e+0x11b4,ve[np]=-0x1400+-0x64+-0x2*-0xa39,ve[ya]=-0x56d+-0x3*-0x33d+-0x43b;const Ui='1.51',wi='1.55',_r='1.56',St='1.57',ad='1.60',me='1.62',hi='1.65',hm='1.70',cm='2.1',bv='2.3',wn='2.5',Ki=class Ki{static['clearGpuMa'+'rkers'](){Ki['markers']['length']=0x2619*-0x1+-0x1aa4+0x40bd;}static['pushGpuMar'+'ker'](_0xfbdc6a,_0x406f60){Ki['markers']['push'](_0x406f60),_0xfbdc6a['pushMarker'](_0x406f60);}static['popGpuMark'+'er'](_0xefe1d8){Ki['markers']['length']&&Ki['markers']['pop'](),_0xefe1d8['popMarker']();}static['toString'](){return Ki['markers']['join']('\x20|\x20');}};c(Ki,'markers',[]);let G=Ki,wv=-0x5*0xd7+0x80*0x13+-0x54d;const Tv={[Us]:'texture2D',[qS]:'textureCub'+'e',[XS]:'texture3D',[$S]:'texture2DA'+'rray'};class Vc{constructor(_0x5efd82,_0x3661a2){c(this,'slot',-(-0x1*0x1274+-0x911+0x1b86)),c(this,'scopeId',null),(this['name']=_0x5efd82,this['visibility']=_0x3661a2);}}class pp extends Vc{}class Av extends Vc{constructor(_0x4a4f19,_0x10765b,_0x3f23d2=!(-0x2445+-0x26f0+0x4b36)){super(_0x4a4f19,_0x10765b),c(this,'format',''),(this['readOnly']=_0x3f23d2,v['assert'](_0x3f23d2||!(_0x10765b&up),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class fi extends Vc{constructor(_0x2dc42d,_0x1e5601,_0xca7287=Us,_0x295240=oh,_0x1716e4=!(0xe69+-0x1*0x8b6+-0x5b3),_0x4dbacd=null){super(_0x2dc42d,_0x1e5601),this['textureDim'+'ension']=_0xca7287,this['sampleType']=_0x295240,this['hasSampler']=_0x1716e4,this['samplerNam'+'e']=_0x4dbacd??_0x2dc42d+'_sampler';}}class Ev extends Vc{constructor(_0x404621,_0x373d0b=Se,_0x3c5567=Us,_0x115f8f=!(-0xf*0x6e+0x1*0x13ed+-0xd7b),_0x10fdf7=!(0x2435+-0x1879+-0xbbb)){super(_0x404621,_v),this['format']=_0x373d0b,this['textureDim'+'ension']=_0x3c5567,this['write']=_0x115f8f,this['read']=_0x10fdf7;}}class jy{constructor(_0x314988,_0x3016d3){c(this,'uniformBuf'+'ferFormats',[]),c(this,'textureFor'+'mats',[]),c(this,'storageTex'+'tureFormat'+'s',[]),c(this,'storageBuf'+'ferFormats',[]),(this['id']=wv++,mn['setName'](this,'BindGroupF'+'ormat_'+this['id']),v['assert'](_0x3016d3));let _0x2d44f1=-0x1*0x1e64+0x83f*0x2+0xde6;_0x3016d3['forEach'](_0x523ac7=>{_0x523ac7['slot']=_0x2d44f1++,_0x523ac7 instanceof fi&&_0x523ac7['hasSampler']&&_0x2d44f1++,_0x523ac7 instanceof pp?this['uniformBuf'+'ferFormats']['push'](_0x523ac7):_0x523ac7 instanceof fi?this['textureFor'+'mats']['push'](_0x523ac7):_0x523ac7 instanceof Ev?this['storageTex'+'tureFormat'+'s']['push'](_0x523ac7):_0x523ac7 instanceof Av?this['storageBuf'+'ferFormats']['push'](_0x523ac7):v['assert']('Invalid\x20bi'+'nd\x20format',_0x523ac7);}),this['device']=_0x314988;const _0x55b6c2=_0x314988['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x24cc1d,_0x365270)=>this['bufferForm'+'atsMap']['set'](_0x24cc1d['name'],_0x365270)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x1c8d07,_0x30df25)=>{this['textureFor'+'matsMap']['set'](_0x1c8d07['name'],_0x30df25),_0x1c8d07['scopeId']=_0x55b6c2['resolve'](_0x1c8d07['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x5f03cc,_0x2acbcd)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x5f03cc['name'],_0x2acbcd),_0x5f03cc['scopeId']=_0x55b6c2['resolve'](_0x5f03cc['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x403cb7,_0x36a754)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x403cb7['name'],_0x36a754),_0x403cb7['scopeId']=_0x55b6c2['resolve'](_0x403cb7['name']);}),this['impl']=_0x314988['createBind'+'GroupForma'+'tImpl'](this),v['trace'](eS,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+G['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x537632){const _0x98e02f=this['textureFor'+'matsMap']['get'](_0x537632);return _0x98e02f!==void(-0x21ce+-0x1*0xcc7+0x2e95)?this['textureFor'+'mats'][_0x98e02f]:null;}['getStorage'+'Texture'](_0x2123c0){const _0x3ddc1f=this['storageTex'+'tureFormat'+'sMap']['get'](_0x2123c0);return _0x3ddc1f!==void(-0xde*0x25+-0x10b0+0x30c6)?this['storageTex'+'tureFormat'+'s'][_0x3ddc1f]:null;}['getShaderD'+'eclaration'+'Textures'](_0x2e9c3e){let _0x53ea7c='';return this['textureFor'+'mats']['forEach'](_0x3c076f=>{let _0x160245=Tv[_0x3c076f['textureDim'+'ension']];v['assert'](_0x160245,'Unsupporte'+'d\x20texture\x20'+'type',_0x3c076f['textureDim'+'ension']);const _0x6233f7=_0x160245==='texture2DA'+'rray',_0xc5fd=_0x3c076f['sampleType']===KS?'u':_0x3c076f['sampleType']===YS?'i':'';_0x160245=''+_0xc5fd+_0x160245;let _0x3de24b='',_0x928c69='';_0x6233f7&&(_0x3de24b='_texture',_0x928c69='#define\x20'+_0x3c076f['name']+'\x20'+_0xc5fd+('sampler2DA'+'rray(')+_0x3c076f['name']+_0x3de24b+',\x20'+_0x3c076f['name']+'_sampler)\x0a'),_0x53ea7c+='layout(set'+'\x20=\x20'+_0x2e9c3e+(',\x20binding\x20'+'=\x20')+_0x3c076f['slot']+')\x20uniform\x20'+_0x160245+'\x20'+_0x3c076f['name']+_0x3de24b+';\x0a',_0x3c076f['hasSampler']&&(_0x53ea7c+='layout(set'+'\x20=\x20'+_0x2e9c3e+(',\x20binding\x20'+'=\x20')+(_0x3c076f['slot']+(0xaf3*-0x1+-0x16b1+0x21a5))+(')\x20uniform\x20'+'sampler\x20')+_0x3c076f['name']+'_sampler;\x0a'),_0x53ea7c+=_0x928c69;}),_0x53ea7c;}['loseContex'+'t'](){}}class Ot{constructor(){c(this,'_cache',new Map());}['get'](_0x30d3c8,_0xdb91bf){return this['_cache']['has'](_0x30d3c8)||(this['_cache']['set'](_0x30d3c8,_0xdb91bf()),_0x30d3c8['on']('destroy',()=>{this['remove'](_0x30d3c8);}),_0x30d3c8['on']('devicelost',()=>{var _0xa0a8f8,_0x45c8f2;(_0x45c8f2=(_0xa0a8f8=this['_cache']['get'](_0x30d3c8))==null?void(0xe9d+-0x1022+-0x185*-0x1):_0xa0a8f8['loseContex'+'t'])==null||_0x45c8f2['call'](_0xa0a8f8,_0x30d3c8);})),this['_cache']['get'](_0x30d3c8);}['remove'](_0x42c888){var _0x4b47de,_0x4394a4;(_0x4394a4=(_0x4b47de=this['_cache']['get'](_0x42c888))==null?void(-0x2*-0x8b7+0x77b*-0x3+0x503):_0x4b47de['destroy'])==null||_0x4394a4['call'](_0x4b47de,_0x42c888),this['_cache']['delete'](_0x42c888);}}class Mi{static['calcLevelD'+'imension'](_0x8f858c,_0x49f485){return Math['max'](_0x8f858c>>_0x49f485,0x593+-0xfb8+0x513*0x2);}static['calcMipLev'+'elsCount'](_0x2534c1,_0x22a0ed,_0x212e56=-0x6a*-0x3+-0x6*0x5a4+0x209b){return 0x3*-0x2cb+-0x1*0x2655+0x1*0x2eb7+Math['floor'](Math['log2'](Math['max'](_0x2534c1,_0x22a0ed,_0x212e56)));}static['calcLevelG'+'puSize'](_0xc657b7,_0x55b578,_0x2fae8e,_0x503501){var _0x3d349f;const _0xc2deb=xt['get'](_0x503501);v['assert'](_0xc2deb!==void(0x217+-0x1c+-0x1fb),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x503501);const _0x46de2e=((_0x3d349f=xt['get'](_0x503501))==null?void(0x121c+-0x18d*0xb+-0x10d*0x1):_0x3d349f['size'])??-0x2311+-0x6de*0x2+0x30cd;if(_0x46de2e>-0x85c+0x7*-0x2a5+0x3*0x8f5)return _0xc657b7*_0x55b578*_0x2fae8e*_0x46de2e;const _0x58d557=_0xc2deb['blockSize']??0x1874+-0x9f2*-0x2+-0x2c58;let _0x2b06e3=Math['floor']((_0xc657b7+(0x1*0xc96+-0x10fb+0x468))/(-0xaf*-0xe+-0xe0b+0x47d));const _0x46da65=Math['floor']((_0x55b578+(-0xb0f*0x3+-0x1b*-0x133+0xcf))/(0x1723+0x19ea+-0x3109)),_0x588862=Math['floor']((_0x2fae8e+(0xcea+0x17*0x10b+-0x24e4*0x1))/(0x250d*-0x1+-0x20a1+0x45b2));return(_0x503501===qo||_0x503501===Xo)&&(_0x2b06e3=Math['max'](Math['floor'](_0x2b06e3/(-0x1*0x1d21+-0x117e*0x1+0x2ea1)),0x305+-0x1*0x1e62+0x1b5e)),_0x2b06e3*_0x46da65*_0x588862*_0x58d557;}static['calcGpuSiz'+'e'](_0x4a3cf5,_0x36fc99,_0x1e01fb,_0x283fb7,_0x31f818,_0x17c82f){let _0x564151=0x132*-0x1a+0x49a*0x1+0xd3d*0x2;for(;_0x564151+=Mi['calcLevelG'+'puSize'](_0x4a3cf5,_0x36fc99,_0x1e01fb,_0x283fb7),!(!_0x31f818||_0x4a3cf5===-0x1338+-0x1593+-0x2*-0x1466&&_0x36fc99===-0x4e7*-0x1+-0x25e5+0x20ff*0x1&&_0x1e01fb===-0x5*0x314+-0xe34+0x1d99);)_0x4a3cf5=Math['max'](_0x4a3cf5>>-0x766+0x476*0x8+0xd*-0x22d,-0x1ba7+-0x1a0e+0x35b6),_0x36fc99=Math['max'](_0x36fc99>>0x14*0x1bb+0x1*-0x851+0xa*-0x2a1,0x792+-0x90c+-0x1*-0x17b),_0x1e01fb=Math['max'](_0x1e01fb>>0x22f*-0x11+-0x92*0x5+0x22*0x12d,-0x2*0x698+0xec1+-0x8*0x32);return _0x564151*(_0x17c82f?0x238e+0x7ce+-0x2b56:0x25e7+0x13dc+0x1ce1*-0x2);}}let Cv=-0x1227+0x745*-0x5+0x3680;class he{constructor(_0x39aa9f,_0x18129c={}){c(this,'name'),c(this,'_gpuSize',0x2*-0x1064+-0x20b7+0x417f*0x1),c(this,'id',Cv++),c(this,'_invalid',!(-0x1f9c+-0x1218+0x31b5)),c(this,'_lockedLev'+'el',-(0x1*-0x36d+0x1936+-0x15c8)),c(this,'_lockedMod'+'e',yl),c(this,'renderVers'+'ionDirty',-0x21f5*-0x1+-0x2272*-0x1+0x543*-0xd),c(this,'_storage',!(0x5e4+0x1cfa+-0x22dd)),c(this,'_numLevels',0x9b7*-0x3+-0x22*-0xd2+0x1*0x141),c(this,'_numLevels'+'Requested');var _0x4de9b5;this['device']=_0x39aa9f,v['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),v['assert'](!_0x18129c['width']||Number['isInteger'](_0x18129c['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x18129c),v['assert'](!_0x18129c['height']||Number['isInteger'](_0x18129c['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x18129c),v['assert'](!_0x18129c['depth']||Number['isInteger'](_0x18129c['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x18129c),this['name']=_0x18129c['name']??'',this['_width']=Math['floor'](_0x18129c['width']??0x515*-0x7+0x8*0x251+0x110f),this['_height']=Math['floor'](_0x18129c['height']??0x1*-0x2ce+0x25e5+-0x2313),this['_format']=_0x18129c['format']??Se,this['_compresse'+'d']=OS(this['_format']),this['_integerFo'+'rmat']=ea(this['_format']),this['_integerFo'+'rmat']&&(_0x18129c['minFilter']=de,_0x18129c['magFilter']=de),this['_volume']=_0x18129c['volume']??!(0x2597+-0x15*-0xdb+-0x378d),this['_depth']=Math['floor'](_0x18129c['depth']??0x25d5+0x1*-0x581+-0x2053),this['_arrayLeng'+'th']=Math['floor'](_0x18129c['arrayLengt'+'h']??-0xa86+0x1e62+-0x13dc),this['_storage']=_0x18129c['storage']??!(0x2b*0x2f+-0x25ab+0x1dc7),this['_cubemap']=_0x18129c['cubemap']??!(0x97b+-0x2f*-0x4f+-0x7*0x36d),this['_flipY']=_0x18129c['flipY']??!(0x1*-0xa49+-0xf93+0x1*0x19dd),this['_premultip'+'lyAlpha']=_0x18129c['premultipl'+'yAlpha']??!(0x24c8+-0x146*0xd+-0x1439*0x1),this['_mipmaps']=_0x18129c['mipmaps']??!(-0x1bd9+0x1d2a+-0x151*0x1),this['_numLevels'+'Requested']=_0x18129c['numLevels'],_0x18129c['numLevels']!==void(0x145c+-0x2691+0x1235)&&(this['_numLevels']=_0x18129c['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x18129c['minFilter']??nn,this['_magFilter']=_0x18129c['magFilter']??st,this['_anisotrop'+'y']=_0x18129c['anisotropy']??-0x158e*0x1+0x17*-0xa1+0x2406,this['_addressU']=_0x18129c['addressU']??tt,this['_addressV']=_0x18129c['addressV']??tt,this['_addressW']=_0x18129c['addressW']??tt,this['_compareOn'+'Read']=_0x18129c['compareOnR'+'ead']??!(0x265*0x3+-0x105+0x629*-0x1),this['_compareFu'+'nc']=_0x18129c['compareFun'+'c']??Eh,this['type']=_0x18129c['hasOwnProp'+'erty']('type')?_0x18129c['type']:Di,v['assert'](!_0x18129c['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),v['assert'](!_0x18129c['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=ZS,this['_cubemap']?this['projection']=Au:_0x18129c['projection']&&_0x18129c['projection']!==Au&&(this['projection']=_0x18129c['projection']),this['profilerHi'+'nt']=_0x18129c['profilerHi'+'nt']??-0x90b+0x6fa+0x17*0x17,this['_levels']=_0x18129c['levels'];const _0x2db86d=!!_0x18129c['levels'];this['_levels']||(this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null]),this['recreateIm'+'pl'](_0x2db86d),_0x39aa9f['textures']['push'](this),v['trace'](Kp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x4de9b5=xt['get'](this['format']))==null?void(0x207e*0x1+0x1e12+0xe*-0x478):_0x4de9b5['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){v['trace'](Kp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x3357a4=this['device'];if(_0x3357a4){const _0x70df6c=_0x3357a4['textures']['indexOf'](this);_0x70df6c!==-(-0x2179+0x50*0x13+0x1b8a)&&_0x3357a4['textures']['splice'](_0x70df6c,-0x1*-0x291+0x1d2e+-0x1fbe),_0x3357a4['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x3357a4),this['adjustVram'+'SizeTracki'+'ng'](_0x3357a4['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x274b96=!(-0x9e0+-0x1d7a+0x92*0x45)){var _0x18c822;const {device:_0x10bab0}=this;(_0x18c822=this['impl'])==null||_0x18c822['destroy'](_0x10bab0),this['impl']=null,this['impl']=_0x10bab0['createText'+'ureImpl'](this),this['dirtyAll'](),_0x274b96&&this['upload']();}['resize'](_0x1631cf,_0x40af9e,_0x64b716=-0x297*-0x9+0x27*0x8f+-0x2d17){const _0x125d98=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x125d98['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x125d98),this['_width']=Math['floor'](_0x1631cf),this['_height']=Math['floor'](_0x40af9e),this['_depth']=Math['floor'](_0x64b716),this['_updateNum'+'Level'](),this['impl']=_0x125d98['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x156af3,_0x26303f){v['trace'](Kx,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x26303f+('\x20vram.text'+'ure:\x20')+_0x156af3['tex']+'\x20=>\x20'+(_0x156af3['tex']+_0x26303f)),_0x156af3['tex']+=_0x26303f,this['profilerHi'+'nt']===Tu?_0x156af3['texShadow']+=_0x26303f:this['profilerHi'+'nt']===ur?_0x156af3['texAsset']+=_0x26303f:this['profilerHi'+'nt']===Oy&&(_0x156af3['texLightma'+'p']+=_0x26303f);}['propertyCh'+'anged'](_0x424028){this['impl']['propertyCh'+'anged'](_0x424028),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x5b0a82=this['mipmaps']?Mi['calcMipLev'+'elsCount'](this['width'],this['height']):0x161*-0x1a+0xbd2+0x1809*0x1,_0x5465a0=this['_numLevels'+'Requested'];_0x5465a0!==void(-0x100d+-0x89*0x5+-0x33*-0x5e)&&_0x5465a0>_0x5b0a82&&v['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x5b0a82,this),this['_numLevels']=Math['min'](_0x5465a0??_0x5b0a82,_0x5b0a82),this['_mipmaps']=this['_numLevels']>0x798+0x1cd3+-0x246a;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x5c3bc1){this['_minFilter']!==_0x5c3bc1&&(ea(this['_format'])?v['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x5c3bc1,this['propertyCh'+'anged'](zy)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x5dead2){this['_magFilter']!==_0x5dead2&&(ea(this['_format'])?v['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x5dead2,this['propertyCh'+'anged'](Uy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x3d24d1){this['_addressU']!==_0x3d24d1&&(this['_addressU']=_0x3d24d1,this['propertyCh'+'anged'](Vy));}get['addressU'](){return this['_addressU'];}set['addressV'](_0xd4bfc7){this['_addressV']!==_0xd4bfc7&&(this['_addressV']=_0xd4bfc7,this['propertyCh'+'anged'](Gy));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x5df701){if(!this['_volume']){v['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x5df701!==this['_addressW']&&(this['_addressW']=_0x5df701,this['propertyCh'+'anged'](Hy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x41dbf2){this['_compareOn'+'Read']!==_0x41dbf2&&(this['_compareOn'+'Read']=_0x41dbf2,this['propertyCh'+'anged'](Wy));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x588687){this['_compareFu'+'nc']!==_0x588687&&(this['_compareFu'+'nc']=_0x588687,this['propertyCh'+'anged']($y));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x29dffb){this['_anisotrop'+'y']!==_0x29dffb&&(this['_anisotrop'+'y']=_0x29dffb,this['propertyCh'+'anged'](qy));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x2dd121){this['_mipmaps']!==_0x2dd121&&(this['device']['isWebGPU']?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):ea(this['_format'])?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x2dd121,_0x2dd121&&(this['_needsMipm'+'apsUpload']=!(-0x333+0x1bd0+-0x189d)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x180dbd=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===-0x1545+-0x10a*-0x1a+0xf5*-0x6);return Mi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x180dbd,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>-0x2*0x11ef+-0x75c+0x2b3a;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['srgb'](_0x5aa3a0){var _0x2b64d8,_0x1ea678,_0x536dd1,_0x4b8120;const _0x1f2a2a=Mh(this['format']);if(_0x5aa3a0!==_0x1f2a2a){if(_0x5aa3a0){const _0x24bda7=Cc(this['format']);this['_format']!==_0x24bda7&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x2b64d8=xt['get'](this['format']))==null?void(-0xd*0xef+-0x1*0x9f+0xcc2):_0x2b64d8['name'])+'\x20->\x20'+((_0x1ea678=xt['get'](_0x24bda7))==null?void(-0x16f0+-0x277+0x1967):_0x1ea678['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x24bda7,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x4cd*-0x4+-0x1a97+0x763));}else{const _0x28defe=kS(this['format']);this['_format']!==_0x28defe&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x536dd1=xt['get'](this['format']))==null?void(0x2d4+-0xad4+-0x8*-0x100):_0x536dd1['name'])+'\x20->\x20'+((_0x4b8120=xt['get'](_0x28defe))==null?void(0x1abb+0x62f*-0x1+-0x148c):_0x4b8120['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x28defe,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x931*0x1+0xf49+-0x187a));}}}get['srgb'](){return Mh(this['format']);}set['flipY'](_0x3b6114){this['_flipY']!==_0x3b6114&&(this['_flipY']=_0x3b6114,this['_needsUplo'+'ad']=!(-0x21dd+0x200+0x1fdd));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0xb8f05){this['_premultip'+'lyAlpha']!==_0xb8f05&&(this['_premultip'+'lyAlpha']=_0xb8f05,this['_needsUplo'+'ad']=!(0x6a6+-0x40d*0x1+-0x299));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return N['powerOfTwo'](this['_width'])&&N['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case on:return'rgbm';case ap:return'rgbe';case Io:return'rgbp';}return Ey(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(0x1*0x24ee+0xf*-0xcb+-0x1909),!(0x11df+0x1e82+-0x3061),!(0xb9d+-0x5*0x4ee+0xd09),!(0x1bb*-0x1+-0x5*-0x49c+0x11*-0x141),!(-0x1*0x1e6b+-0x72b+-0x11*-0x236),!(-0x2a4+-0xd01*-0x1+-0xa5d)]]:[!(-0x17*-0x121+0x1d23+-0x92f*0x6)],this['_needsUplo'+'ad']=!(0x591+0x16d4+-0x1c65),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(-0x33*-0x1+0x3e2+0x2*-0x20a),this['propertyCh'+'anged'](yv);}['lock'](_0x137bf4={}){_0x137bf4['level']??(_0x137bf4['level']=0x9c4+-0x1*-0x1ebd+-0x2881),_0x137bf4['face']??(_0x137bf4['face']=0x26+-0x1d9d+0x1d77),_0x137bf4['mode']??(_0x137bf4['mode']=rd),v['assert'](this['_lockedMod'+'e']===yl,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),v['assert'](_0x137bf4['mode']===Fy||_0x137bf4['mode']===rd,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x137bf4['mode'],this['_lockedLev'+'el']=_0x137bf4['level'];const _0x43c274=this['cubemap']?this['_levels'][_0x137bf4['face']]:this['_levels'];if(_0x43c274[_0x137bf4['level']]===null){const _0x27ae25=Math['max'](-0x1b4*-0x15+0x24*0xdf+0x431f*-0x1,this['_width']>>_0x137bf4['level']),_0x57bac8=Math['max'](0x1ba8+-0x1571+-0x636,this['_height']>>_0x137bf4['level']),_0x346479=Math['max'](-0x2258*0x1+-0xab5*-0x2+0x7*0x1d9,this['_depth']>>_0x137bf4['level']),_0x1ba1d3=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0x27ae25,_0x57bac8,_0x346479,this['_format']));_0x43c274[_0x137bf4['level']]=new(Cy(this['_format']))(_0x1ba1d3);}return _0x43c274[_0x137bf4['level']];}['setSource'](_0x4d2dbd,_0x292fbb=0x1*-0x1b15+-0x116*-0x4+0x16bd){let _0x284762=!(-0x1627+-0x1*-0x656+0xfd2),_0x281870,_0x44bf74;if(this['_cubemap']){if(_0x4d2dbd[-0x1*0xa13+-0x136*-0x7+0x199]){_0x281870=_0x4d2dbd[-0x6ee+0x2ba+0x4*0x10d]['width']||0x1d4c+0x1*0x10a6+0x2df2*-0x1,_0x44bf74=_0x4d2dbd[-0x6*-0x49e+-0x595*0x5+0x1*0x35]['height']||-0x47b*-0x1+-0x1df6+0x197b;for(let _0x58e758=-0x377+-0x551+-0x8c8*-0x1;_0x58e758<-0x2035*-0x1+0x41a+-0x2449;_0x58e758++){const _0x49c9e9=_0x4d2dbd[_0x58e758];if(!_0x49c9e9||_0x49c9e9['width']!==_0x281870||_0x49c9e9['height']!==_0x44bf74||!this['device']['_isBrowser'+'Interface'](_0x49c9e9)){_0x284762=!(-0x1257*0x1+-0x58f+-0x17e6*-0x1);break;}}}else _0x284762=!(0xab5+0x70*0x40+0x16f*-0x1b);if(!_0x284762){for(let _0x1a7014=-0x1810+-0x5*0x39+0x192d;_0x1a7014<-0x9d4+-0x5*0x3d+-0xb0b*-0x1;_0x1a7014++)this['_levels'][_0x292fbb][_0x1a7014]!==_0x4d2dbd[_0x1a7014]&&(this['_levelsUpd'+'ated'][_0x292fbb][_0x1a7014]=!(0x800*-0x1+-0x2386+-0x741*-0x6));}}else this['device']['_isBrowser'+'Interface'](_0x4d2dbd)||(_0x284762=!(-0xd*0x293+0x16f0+-0x7*-0x181)),_0x284762||(_0x4d2dbd!==this['_levels'][_0x292fbb]&&(this['_levelsUpd'+'ated'][_0x292fbb]=!(-0xa44+-0x1*-0x1aa4+-0x2*0x830)),_0x4d2dbd instanceof HTMLVideoElement?(_0x281870=_0x4d2dbd['videoWidth'],_0x44bf74=_0x4d2dbd['videoHeigh'+'t']):(_0x281870=_0x4d2dbd['width'],_0x44bf74=_0x4d2dbd['height']));if(_0x284762){if(this['_width']=-0x22ea+-0x1810+0x3afe,this['_height']=0x39*-0x9f+0x32*0xb+0xa7*0x33,this['_cubemap']){for(let _0x39d2a2=-0x2e2*-0x8+0x19e7+-0x30f7*0x1;_0x39d2a2<0x63*-0x27+0x16fa+0x5*-0x193;_0x39d2a2++)this['_levels'][_0x292fbb][_0x39d2a2]=null,this['_levelsUpd'+'ated'][_0x292fbb][_0x39d2a2]=!(0x5d5*0x1+0xae6+-0x1*0x10bb);}else this['_levels'][_0x292fbb]=null,this['_levelsUpd'+'ated'][_0x292fbb]=!(0x188*-0x6+0xd79+-0x1*0x449);}else _0x292fbb===-0x1d2+0x167d+-0x14ab&&(this['_width']=_0x281870,this['_height']=_0x44bf74),this['_levels'][_0x292fbb]=_0x4d2dbd;(this['_invalid']!==_0x284762||!_0x284762)&&(this['_invalid']=_0x284762,this['upload']());}['getSource'](_0x16de5a=-0x6bb*0x3+-0x2691*0x1+0x3ac2*0x1){return this['_levels'][_0x16de5a];}['unlock'](){this['_lockedMod'+'e']===yl&&v['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===rd&&this['upload'](),this['_lockedLev'+'el']=-(0x1522*0x1+-0x111*0x19+0x588),this['_lockedMod'+'e']=yl;}['upload'](){var _0xf14dc0,_0x484678;this['_needsUplo'+'ad']=!(-0xa9e+-0x19a0+-0x121f*-0x2),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x484678=(_0xf14dc0=this['impl'])['uploadImme'+'diate'])==null||_0x484678['call'](_0xf14dc0,this['device'],this);}['read'](_0x32ad1a,_0x42a4bb,_0x57de0a,_0x47f00e,_0x169174={}){var _0x59d32a,_0x172fb4;return(_0x172fb4=(_0x59d32a=this['impl'])['read'])==null?void(0x404+0x1736+-0x22*0xcd):_0x172fb4['call'](_0x59d32a,_0x32ad1a,_0x42a4bb,_0x57de0a,_0x47f00e,_0x169174);}}const Mv={'white':[-0x21b9+-0x158f*-0x1+0xd29,-0x1b1+-0xc00*-0x1+-0x950,-0x15f3+-0x98+0x178a,-0x27*0x85+0x3*-0x634+0x27de],'gray':[-0x4f3+0xedf+-0x2*0x4b6,0x2292+0xab3*-0x1+-0x175f,0x732*-0x2+-0x543+0x1427,0x37*-0x98+-0x13*0x1c3+0x4320],'black':[-0x5b3+-0x25e8+0x2b9b*0x1,0xe01+0x1*0xbfd+-0x19fe,0x157f+-0xf3a*-0x1+-0x24b9,0x61e+0x7*0x71+-0x836],'normal':[0x107e+-0x1*-0x262e+-0x1*0x362c,-0x1*-0x11c3+0xf*0x15a+-0x2589,0x2*-0xc9b+0xc91*-0x1+0x26c6,0x1*-0x1ef7+-0xcab+-0x1c9*-0x19],'pink':[-0x26af+0xa98+0x1*0x1d16,0x5a2+0xe9e+-0x13c0,0x1bb*0xf+-0x1e43+-0x1*-0x54d,-0xcf*0x5+0x16b8+0x2*-0x8d7]};class Pv{constructor(){c(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x3ad276=>{_0x3ad276['destroy']();});}}const Rv=new Ot(),en=(_0x412e5c,_0x27e251)=>{const _0x4e4bd8=Rv['get'](_0x412e5c,()=>new Pv());if(!_0x4e4bd8['map']['has'](_0x27e251)){const _0x383244=new he(_0x412e5c,{'name':'built-in-t'+'exture-'+_0x27e251,'width':0x1,'height':0x1,'format':Se}),_0x553128=_0x383244['lock'](),_0x24d16a=Mv[_0x27e251];v['assert'](_0x24d16a,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x27e251+('\x27\x20not\x20foun'+'d')),_0x553128['set'](_0x24d16a),_0x383244['unlock'](),_0x4e4bd8['map']['set'](_0x27e251,_0x383244);}return _0x4e4bd8['map']['get'](_0x27e251);};let Iv=0x99b+-0x20ae+0x1713;class Yy{constructor(){c(this,'bindGroup'),c(this,'offsets',[]);}}class mp{constructor(_0x3d2543,_0xc9cb63,_0x3a9547){c(this,'renderVers'+'ionUpdated',-(0xfc1+-0x102c+0x6c)),c(this,'uniformBuf'+'fers'),c(this,'uniformBuf'+'ferOffsets',[]),(this['id']=Iv++,this['device']=_0x3d2543,this['format']=_0xc9cb63,this['dirty']=!(0x2*-0x6d7+-0x2*-0xfe5+-0x121c),this['impl']=_0x3d2543['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x3a9547,_0x3a9547&&this['setUniform'+'Buffer'](fp,_0x3a9547),v['trace'](Jx,'Alloc:\x20Id\x20'+this['id'],this,_0xc9cb63));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x39cd17,_0x34b21a){const _0x161831=this['format']['bufferForm'+'atsMap']['get'](_0x39cd17);v['assert'](_0x161831!==void(0x11+0x10*-0x1e5+0x1e3f),'Setting\x20a\x20'+'uniform\x20['+_0x39cd17+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['uniformBuf'+'fers'][_0x161831]!==_0x34b21a&&(this['uniformBuf'+'fers'][_0x161831]=_0x34b21a,this['dirty']=!(0x2f*0x18+0xd4*0x1e+-0x1d40));}['setStorage'+'Buffer'](_0x1c7930,_0x217bc5){const _0x3dff9c=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x1c7930);v['assert'](_0x3dff9c!==void(-0x562+0x2c*0x2e+-0x286),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x1c7930+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageBuf'+'fers'][_0x3dff9c]!==_0x217bc5&&(this['storageBuf'+'fers'][_0x3dff9c]=_0x217bc5,this['dirty']=!(-0x233c+0x3*-0xa0b+0x415d));}['setTexture'](_0x5045d8,_0x3af65d){const _0x52e7df=this['format']['textureFor'+'matsMap']['get'](_0x5045d8);v['assert'](_0x52e7df!==void(0xe2*-0x2+0x199*0xb+0x3*-0x545),'Setting\x20a\x20'+'texture\x20['+_0x5045d8+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['textures'][_0x52e7df]!==_0x3af65d?(this['textures'][_0x52e7df]=_0x3af65d,this['dirty']=!(0x78+-0xdf6+-0x16*-0x9d)):this['renderVers'+'ionUpdated']<_0x3af65d['renderVers'+'ionDirty']&&(this['dirty']=!(0x1*0x6d+-0x152d+-0x40*-0x53));}['setStorage'+'Texture'](_0x450677,_0x118b87){const _0x265344=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x450677);v['assert'](_0x265344!==void(-0x1459*-0x1+0x1b16+0x2f6f*-0x1),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x450677+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageTex'+'tures'][_0x265344]!==_0x118b87?(this['storageTex'+'tures'][_0x265344]=_0x118b87,this['dirty']=!(-0x20dd*0x1+-0xcd5+0x2*0x16d9)):this['renderVers'+'ionUpdated']<_0x118b87['renderVers'+'ionDirty']&&(this['dirty']=!(0x17b0+-0x1*-0x45f+-0x1c0f));}['updateUnif'+'ormBuffers'](){for(let _0x462c51=-0x498*-0x3+0x42c+0x4*-0x47d;_0x462c51<this['uniformBuf'+'fers']['length'];_0x462c51++)this['uniformBuf'+'fers'][_0x462c51]['update']();}['update'](){const {textureFormats:_0x1e8ebd,storageTextureFormats:_0x26efb4,storageBufferFormats:_0x4a8ab6}=this['format'];for(let _0x855ab5=0x1634+-0x1*0x2249+0xc15;_0x855ab5<_0x1e8ebd['length'];_0x855ab5++){const _0x4d59e5=_0x1e8ebd[_0x855ab5];let _0x48bd17=_0x4d59e5['scopeId']['value'];_0x48bd17||(_0x4d59e5['name']==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x48bd17=en(this['device'],'white')),_0x4d59e5['name']==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x48bd17=en(this['device'],'pink')),_0x48bd17||(v['errorOnce']('Texture\x20'+_0x4d59e5['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+G['toString']()+']'),_0x48bd17=en(this['device'],'pink'))),this['setTexture'](_0x4d59e5['name'],_0x48bd17);}for(let _0x3a96c1=0x14*-0x2f+-0x263*-0x8+0x54*-0x2f;_0x3a96c1<_0x26efb4['length'];_0x3a96c1++){const _0x178fbb=_0x26efb4[_0x3a96c1],_0x24a33a=_0x178fbb['scopeId']['value'];v['assert'](_0x24a33a,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x178fbb['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Texture'](_0x178fbb['name'],_0x24a33a);}for(let _0x59891c=-0x4*0x909+0x1320*0x1+-0x18c*-0xb;_0x59891c<_0x4a8ab6['length'];_0x59891c++){const _0x264814=_0x4a8ab6[_0x59891c],_0x1873b1=_0x264814['scopeId']['value'];v['assert'](_0x1873b1,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x264814['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Buffer'](_0x264814['name'],_0x1873b1);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0xee06ad=-0x1704+-0x7*0x48b+0x36d1;_0xee06ad<this['uniformBuf'+'fers']['length'];_0xee06ad++){const _0x31bb4f=this['uniformBuf'+'fers'][_0xee06ad];this['uniformBuf'+'ferOffsets'][_0xee06ad]=_0x31bb4f['offset'],this['renderVers'+'ionUpdated']<_0x31bb4f['renderVers'+'ionDirty']&&(this['dirty']=!(0x26a+-0x2*-0xbc8+0xbe*-0x23));}this['dirty']&&(this['dirty']=!(0x5*0x125+0x1e42+-0x23fa),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const Oe={'set'(_0x20cafd,_0x1a183c,_0x4b1cce,_0x49bde3=-0x3d*0x19+-0x5d*0x5d+0x27bf){return _0x20cafd&~(_0x49bde3<<_0x4b1cce)|_0x1a183c<<_0x4b1cce;},'get'(_0x1c91a4,_0x36187a,_0x3a44c1=0xd*-0x100+-0x83*-0x4b+-0x3a*0x70){return _0x1c91a4>>_0x36187a&_0x3a44c1;},'all'(_0x14ecb9,_0x5cabd1,_0x352816=0x3*-0x86b+-0x13d7+0x1*0x2d19){const _0x32daa6=_0x352816<<_0x5cabd1;return(_0x14ecb9&_0x32daa6)===_0x32daa6;},'any'(_0x346c7f,_0x4ca06b,_0x44299f=-0x3e*-0x9a+-0xe*0x274+-0x2f3){return(_0x346c7f&_0x44299f<<_0x4ca06b)!==-0x170d+0xb25*0x3+0x376*-0x3;}},xl=0x2*0x99a+-0xd80+-0x5ad*0x1,Vi=-0x2*-0x60f+0x1*0x2063+-0x2c72,dm=-0x1c16+-0x2391+0x1*0x3fa7,um=0x1bcd*0x1+-0xefb*0x1+0xccf*-0x1,fm=-0x53*0x1e+0x192b+-0x7b5*0x2,pm=-0x1920+0x244d*-0x1+0x3d78,mm=-0x1fe9+0x1*0x35f+0x1c98,_m=0x3ef+-0x1072+-0x1*-0xc95,Cu=-0x2*-0x66b+0x12*-0x49+-0x79e,gm=0x6b*0x1a+0x12ff+-0x1dc6,ym=-0x3da+-0x2492+0x2884,xm=-0x1*0x5a2+0x1*-0x20e7+0x26a2,Sm=-0xcb8+0x1083+-0x3*0x13b,Dv=0x241b+0x2a*-0x81+-0xee2,Lv=Cu,zs=class zs{constructor(_0x2f84c8=!(0x1d*-0xbf+0x1*-0x138e+0x2932),_0x3270cf=Lt,_0x4f8aff=at,_0x5e5455=kf,_0x4fd6ce,_0x1b2c32,_0xb18314,_0x30c28a=!(-0x1e5f+0x865*0x1+0x15fa*0x1),_0x132d81=!(-0x1c06+-0x1*0x206+0x1e0c),_0x2110b5=!(0x26e5+0x4*-0x665+-0xd51),_0x3c1a34=!(0xb*-0x298+-0x1d09*0x1+0x3991)){c(this,'target0',-0x1672+0x14c5*-0x1+-0x12b*-0x25),(this['setColorBl'+'end'](_0x3270cf,_0x4f8aff,_0x5e5455),this['setAlphaBl'+'end'](_0x4fd6ce??_0x3270cf,_0x1b2c32??_0x4f8aff,_0xb18314??_0x5e5455),this['setColorWr'+'ite'](_0x30c28a,_0x132d81,_0x2110b5,_0x3c1a34),this['blend']=_0x2f84c8);}set['blend'](_0x5db4e3){this['target0']=Oe['set'](this['target0'],_0x5db4e3?-0x2264+-0x1ffa+0x425f*0x1:-0x1*-0x14ca+0x2*-0xb57+0x1e4,Sm);}get['blend'](){return Oe['all'](this['target0'],Sm);}['setColorBl'+'end'](_0x52ffc0,_0x37c2b0,_0x161ba9){this['target0']=Oe['set'](this['target0'],_0x52ffc0,dm,xl),this['target0']=Oe['set'](this['target0'],_0x37c2b0,um,Vi),this['target0']=Oe['set'](this['target0'],_0x161ba9,fm,Vi);}['setAlphaBl'+'end'](_0x207496,_0x31f670,_0x2d9be2){this['target0']=Oe['set'](this['target0'],_0x207496,pm,xl),this['target0']=Oe['set'](this['target0'],_0x31f670,mm,Vi),this['target0']=Oe['set'](this['target0'],_0x2d9be2,_m,Vi);}['setColorWr'+'ite'](_0x42caf9,_0x105b73,_0x246d56,_0x35bc29){this['redWrite']=_0x42caf9,this['greenWrite']=_0x105b73,this['blueWrite']=_0x246d56,this['alphaWrite']=_0x35bc29;}get['colorOp'](){return Oe['get'](this['target0'],dm,xl);}get['colorSrcFa'+'ctor'](){return Oe['get'](this['target0'],um,Vi);}get['colorDstFa'+'ctor'](){return Oe['get'](this['target0'],fm,Vi);}get['alphaOp'](){return Oe['get'](this['target0'],pm,xl);}get['alphaSrcFa'+'ctor'](){return Oe['get'](this['target0'],mm,Vi);}get['alphaDstFa'+'ctor'](){return Oe['get'](this['target0'],_m,Vi);}set['redWrite'](_0x19d3c0){this['target0']=Oe['set'](this['target0'],_0x19d3c0?0x1*0x1b3b+-0x3d0+0x1b*-0xde:0x791+0x55e*-0x1+-0x1*0x233,Cu);}get['redWrite'](){return Oe['all'](this['target0'],Cu);}set['greenWrite'](_0xd8ba9a){this['target0']=Oe['set'](this['target0'],_0xd8ba9a?-0x519+0x9*-0x201+0x1723*0x1:-0x834+0x249e+-0x1c6a,gm);}get['greenWrite'](){return Oe['all'](this['target0'],gm);}set['blueWrite'](_0x3c7aa0){this['target0']=Oe['set'](this['target0'],_0x3c7aa0?-0x1f6c+-0x2*-0x1142+-0x317:0x19*0x7a+0x6*-0xf9+-0x4*0x185,ym);}get['blueWrite'](){return Oe['all'](this['target0'],ym);}set['alphaWrite'](_0x4e4945){this['target0']=Oe['set'](this['target0'],_0x4e4945?0x597+0xa04+-0x7cd*0x2:-0x1d6*0xf+-0x739*0x1+0x22c3,xm);}get['alphaWrite'](){return Oe['all'](this['target0'],xm);}get['allWrite'](){return Oe['get'](this['target0'],Lv,Dv);}['copy'](_0x554bdf){return this['target0']=_0x554bdf['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x2d8cd6){return this['target0']===_0x2d8cd6['target0'];}};c(zs,'NOBLEND',Object['freeze'](new zs())),c(zs,'NOWRITE',Object['freeze'](new zs(void(-0x1ac*0xd+0x96*0x31+0x2*-0x37d),void(0x1c2*0x2+0x1e2+-0x566),void(-0x2214+-0x2320+0x4534),void(-0x6f8+-0x12a8+0x1*0x19a0),void(0x2*-0x9c3+-0x1*-0xa22+0x2*0x4b2),void(0x1722+-0x2538+0xe16),void(-0x1260+0x1266+0x3*-0x2),!(-0x18d8+0x24ba+0xbe1*-0x1),!(0x15ba+0x1ab5+0x306e*-0x1),!(0x7cc*0x1+-0x2092+0x18c7),!(-0xe38+0x5bc*-0x5+0x2ae5)))),c(zs,'ALPHABLEND',Object['freeze'](new zs(!(-0x19de+-0x1c82+-0xae*-0x50),Lt,dc,uc))),c(zs,'ADDBLEND',Object['freeze'](new zs(!(-0x116*0xb+0x1*0x11c5+-0x5d3),Lt,at,at)));let _t=zs;class _p{constructor(){c(this,'map',new Map()),c(this,'id',0x1*-0x118d+-0x1e10+-0x3*-0xfdf);}['get'](_0x42fa3e){let _0x2884ce=this['map']['get'](_0x42fa3e);return _0x2884ce===void(-0xc5f+-0x2bd+0x4*0x3c7)&&(_0x2884ce=this['id']++,this['map']['set'](_0x42fa3e,_0x2884ce)),_0x2884ce;}}const Fv=new _p(),vm=0x23bc*-0x1+-0x13*-0x7e+0x1a69,bm=0x137e+0x1a90+-0x2e0e,wm=0x229b+0x183e+0x11*-0x376,Zi=class Zi{constructor(_0x34d33c=fu,_0x365ce8=!(-0xdfe+-0x366*0xb+-0x19b*-0x20)){c(this,'data',-0xf67*0x1+0x1*0x1e03+-0xe9c),c(this,'_depthBias',-0x10d3+0x4*0x135+0xbff),c(this,'_depthBias'+'Slope',0x83*-0x25+0x1e8e+0xb9f*-0x1),c(this,'key',0x4e8*-0x1+0xc65+-0x1b*0x47),(this['func']=_0x34d33c,this['write']=_0x365ce8);}set['test'](_0x49d1af){this['func']=_0x49d1af?fu:Ai,this['updateKey']();}get['test'](){return this['func']!==Ai;}set['write'](_0x79146a){this['data']=Oe['set'](this['data'],_0x79146a?-0x1046+-0xa63+-0x2*-0xd55:0x5*0x32c+-0x1*0x224b+-0x3*-0x625,wm),this['updateKey']();}get['write'](){return Oe['all'](this['data'],wm);}set['func'](_0x124a0b){this['data']=Oe['set'](this['data'],_0x124a0b,bm,vm),this['updateKey']();}get['func'](){return Oe['get'](this['data'],bm,vm);}set['depthBias'](_0x1289d0){this['_depthBias']=_0x1289d0,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x390f38){this['_depthBias'+'Slope']=_0x390f38,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x4c589b){return this['data']=_0x4c589b['data'],this['_depthBias']=_0x4c589b['_depthBias'],this['_depthBias'+'Slope']=_0x4c589b['_depthBias'+'Slope'],this['key']=_0x4c589b['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x5cb4d0,_depthBias:_0x4ea0c7,_depthBiasSlope:_0x35aa33}=this,_0x26e942=_0x5cb4d0+'-'+_0x4ea0c7+'-'+_0x35aa33;this['key']=Fv['get'](_0x26e942);}['equals'](_0x4189f5){return this['key']===_0x4189f5['key'];}};c(Zi,'DEFAULT',Object['freeze'](new Zi())),c(Zi,'NODEPTH',Object['freeze'](new Zi(Ai,!(-0x149a+-0x1*-0x1a3f+0x2d2*-0x2)))),c(Zi,'WRITEDEPTH',Object['freeze'](new Zi(Ai,!(-0x1d41*0x1+0x2284*0x1+-0x543))));let as=Zi;class Ky{constructor(){c(this,'globalId',-0x673*0x3+0x120f+0x14a),c(this,'revision',-0xa1b*-0x2+-0x6*-0x5e9+0x1fd*-0x1c);}['equals'](_0x3c2358){return this['globalId']===_0x3c2358['globalId']&&this['revision']===_0x3c2358['revision'];}['copy'](_0x51567a){this['globalId']=_0x51567a['globalId'],this['revision']=_0x51567a['revision'];}['reset'](){this['globalId']=0x2161+0x12f6+-0x1*0x3457,this['revision']=-0xde8+0x2229+-0x11*0x131;}}let Tm=-0xd7c+0x15a5+-0x829;class Ov{constructor(){Tm++,this['version']=new Ky(),this['version']['globalId']=Tm;}['increment'](){this['version']['revision']++;}}class kv{constructor(_0x498825){this['name']=_0x498825,this['value']=null,this['versionObj'+'ect']=new Ov();}['toJSON'](_0x215a39){}['setValue'](_0x3985b6){this['value']=_0x3985b6,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class Bv{constructor(_0x8e60f6){this['name']=_0x8e60f6,this['variables']=new Map();}['resolve'](_0x524e99){return this['variables']['has'](_0x524e99)||this['variables']['set'](_0x524e99,new kv(_0x524e99)),this['variables']['get'](_0x524e99);}['removeValu'+'e'](_0x43bef2){for(const _0x541395 in this['variables']){const _0x2ea8b0=this['variables'][_0x541395];_0x2ea8b0['value']===_0x43bef2&&(_0x2ea8b0['value']=null);}}}let Nv=-0x193a*0x1+-0x6c6+0x2000;class os{constructor(_0x295c6a,_0x312636,_0x576c0f,_0x4408a7){c(this,'usage',jt),(v['assert'](arguments['length']<=0x2234+-0xdf2+-0x143e&&(!_0x4408a7||typeof _0x4408a7=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x4408a7==null?void(-0x1*-0x151d+-0x2320+0xe03):_0x4408a7['usage'])??jt,this['device']=_0x295c6a,this['format']=_0x312636,this['numVertice'+'s']=_0x576c0f,this['id']=Nv++,this['impl']=_0x295c6a['createVert'+'exBufferIm'+'pl'](this,_0x312636,_0x4408a7),this['numBytes']=_0x312636['verticesBy'+'teSize']?_0x312636['verticesBy'+'teSize']:_0x312636['size']*_0x576c0f,this['adjustVram'+'SizeTracki'+'ng'](_0x295c6a['_vram'],this['numBytes']));const _0x856037=_0x4408a7==null?void(-0x1*0x1f42+-0x3*0xac9+0x3f9d):_0x4408a7['data'];_0x856037?this['setData'](_0x856037):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x3aca81=this['device'],_0x3cef4d=_0x3aca81['buffers']['indexOf'](this);_0x3cef4d!==-(-0x9*0x1e2+-0x14d1+-0x12e2*-0x2)&&_0x3aca81['buffers']['splice'](_0x3cef4d,-0x4*0x1d7+-0x1baa*0x1+0x15*0x1ab),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x3aca81),this['adjustVram'+'SizeTracki'+'ng'](_0x3aca81['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x241a99,_0x1d5e7c){v['trace'](Zx,this['id']+'\x20size:\x20'+_0x1d5e7c+'\x20vram.vb:\x20'+_0x241a99['vb']+'\x20=>\x20'+(_0x241a99['vb']+_0x1d5e7c)),_0x241a99['vb']+=_0x1d5e7c;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0xfec97){return _0xfec97['byteLength']!==this['numBytes']?(v['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0xfec97['byteLength']),!(0x1fa3+0x521*-0x5+-0x5fd)):(this['storage']=_0xfec97,this['unlock'](),!(-0xbfb*0x2+0x1e6d+-0x5*0x14b));}}function hn(_0x54f3c2){if(_0x54f3c2==null)return 0x1ec9*-0x1+0x2b*0x25+0x1892;let _0x4b41c4=0x11de*0x2+-0x150c+-0xeb*0x10;for(let _0x140667=-0x934+-0x1*-0x2383+-0xf*0x1c1,_0x16672b=_0x54f3c2['length'];_0x140667<_0x16672b;_0x140667++)_0x4b41c4=(_0x4b41c4<<0x2*-0x1214+-0x3*0xb1e+-0x11*-0x417)-_0x4b41c4+_0x54f3c2['charCodeAt'](_0x140667),_0x4b41c4|=-0x3*0x1a+-0x26ef*0x1+0x273d;return _0x4b41c4;}function Zy(_0x2809a7){let _0x21c228=0x8db323b5+-0x2f235668+0x228cd078;for(let _0x786466=0x3d*0x1d+-0x102b*0x2+0x196d;_0x786466<_0x2809a7['length'];_0x786466++)_0x21c228^=_0x2809a7[_0x786466],_0x21c228*=0x7a8f3*0x24+0x1f3e9c3+0x4*-0x81ea97;return _0x21c228>>>-0x5*0x4de+-0x1*0x20b9+0x657*0x9;}const zv=new _p(),Uv=[0x43c+0x7*-0x2f6+-0x42*-0x40,-0x1b79+0xa6c*0x1+-0x11*-0x101,0xb0+0x1*-0xe83+0xddb,-0xb73+-0x5cc+-0xe9*-0x13,0x111b+0x9*0x9+-0x115c],Vv=new Ot();class Et{constructor(_0x483f55,_0x2bc737,_0x552325){this['device']=_0x483f55,this['_elements']=[],this['hasUv0']=!(-0x52*-0x72+-0x1e21*0x1+-0x662),this['hasUv1']=!(0x75+0x1e8a+-0x1efe*0x1),this['hasColor']=!(-0x77*-0x19+0x26ca+-0x3268),this['hasTangent'+'s']=!(-0x2f*0x29+-0x141*-0x1c+-0x1b94),this['verticesBy'+'teSize']=0x4b1+-0x1b5d+0x16ac,this['vertexCoun'+'t']=_0x552325,this['interleave'+'d']=_0x552325===void(-0xb*0xed+-0x2f2+0xd21),this['instancing']=!(-0xb2b*0x1+0x25*0x3+-0xabd*-0x1),this['size']=_0x2bc737['reduce']((_0x2ccaf1,_0x365ee2)=>_0x2ccaf1+Math['ceil'](_0x365ee2['components']*_o[_0x365ee2['type']]/(-0x125*0xd+0xf65*0x1+-0x10*0x8))*(-0xe*0x1a3+0x8*0x3e+0x14fe),0x10*-0x8+-0x126c+0xe*0x15a);let _0x1d2e7f=-0x26e*-0xd+0x2*0xffb+-0x3f8c,_0x2577ae;for(let _0x44a882=0x1efd*0x1+0xe3*-0x1d+0x1e*-0x2d,_0x4d71b2=_0x2bc737['length'];_0x44a882<_0x4d71b2;_0x44a882++){const _0x1ce22c=_0x2bc737[_0x44a882];_0x2577ae=_0x1ce22c['components']*_o[_0x1ce22c['type']],v['assert'](Et['isElementV'+'alid'](_0x483f55,_0x1ce22c),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x1ce22c['semantic']+'\x20:\x20'+Sv[_0x1ce22c['type']]+'\x20x\x20'+_0x1ce22c['components']),_0x552325&&(_0x1d2e7f=N['roundUp'](_0x1d2e7f,_0x2577ae),v['assert'](_0x2577ae%(0x10b6+-0xa1b+-0x697)===-0x1*0xab7+-0x1*0x1444+0x1efb,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x2577ae));const _0x4b53b0=_0x1ce22c['asInt']??!(-0x155*-0x16+-0xc0a*-0x1+0x2957*-0x1),_0x411f60=_0x4b53b0?!(0x1cc9*0x1+0x2d+0x3*-0x9a7):_0x1ce22c['normalize']??!(-0x6df*0x1+-0x1*-0x164d+0xb*-0x167),_0xc96058={'name':_0x1ce22c['semantic'],'offset':_0x552325?_0x1d2e7f:_0x1ce22c['hasOwnProp'+'erty']('offset')?_0x1ce22c['offset']:_0x1d2e7f,'stride':_0x552325?_0x2577ae:_0x1ce22c['hasOwnProp'+'erty']('stride')?_0x1ce22c['stride']:this['size'],'dataType':_0x1ce22c['type'],'numComponents':_0x1ce22c['components'],'normalize':_0x411f60,'size':_0x2577ae,'asInt':_0x4b53b0};this['_elements']['push'](_0xc96058),_0x552325?_0x1d2e7f+=_0x2577ae*_0x552325:_0x1d2e7f+=Math['ceil'](_0x2577ae/(-0x641*0x2+0xe2*-0x10+-0x1*-0x1aa6))*(-0x503+-0x2119*0x1+0x5*0x7a0),_0x1ce22c['semantic']===ns?this['hasUv0']=!(0x13b6+-0x1*-0xcd9+-0x208f):_0x1ce22c['semantic']===_n?this['hasUv1']=!(-0x15ef+0x2498*0x1+-0xea9):_0x1ce22c['semantic']===At?this['hasColor']=!(0x2037+-0x15ef+-0xa48):_0x1ce22c['semantic']===Zs&&(this['hasTangent'+'s']=!(-0x2214+0x1ff1+-0x1*-0x223));}_0x552325&&(this['verticesBy'+'teSize']=_0x1d2e7f),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0xf0192c){return Vv['get'](_0xf0192c,()=>new Et(_0xf0192c,[{'semantic':rp,'components':0x4,'type':Ee},{'semantic':ga,'components':0x4,'type':Ee},{'semantic':np,'components':0x4,'type':Ee},{'semantic':ya,'components':0x4,'type':Ee}]));}static['isElementV'+'alid'](_0x491e8a,_0x483541){const _0x13bc3f=_0x483541['components']*_o[_0x483541['type']];return!(_0x491e8a['isWebGPU']&&!Uv['includes'](_0x13bc3f));}['update'](){v['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0xb25891=[],_0xee407b=[],_0x170393=this['_elements']['length'];for(let _0x31f02e=0x1a6*-0x7+-0x66+-0x2fc*-0x4;_0x31f02e<_0x170393;_0x31f02e++){const {name:_0xde09ce,dataType:_0x292936,numComponents:_0x42a577,normalize:_0x575da0,offset:_0x10eb65,stride:_0x55340d,size:_0x2808a1,asInt:_0x1cffb2}=this['_elements'][_0x31f02e],_0x36c929=_0xde09ce+_0x292936+_0x42a577+_0x575da0+_0x1cffb2;_0xb25891['push'](_0x36c929);const _0x8b93db=_0x36c929+_0x10eb65+_0x55340d+_0x2808a1;_0xee407b['push'](_0x8b93db);}_0xb25891['sort']();const _0x7943a3=_0xb25891['join']();this['batchingHa'+'sh']=hn(_0x7943a3),this['shaderProc'+'essingHash'+'String']=_0x7943a3,this['renderingH'+'ashString']=_0xee407b['join']('_'),this['renderingH'+'ash']=zv['get'](this['renderingH'+'ashString']);}}const Gv=new _p(),rc=class rc{constructor(_0x4d3ae6={}){c(this,'_func'),c(this,'_ref'),c(this,'_fail'),c(this,'_zfail'),c(this,'_zpass'),c(this,'_readMask'),c(this,'_writeMask'),c(this,'_dirty',!(0x3e8+-0x2*-0x1013+-0x47*0x82)),c(this,'_key'),(this['_func']=_0x4d3ae6['func']??Ai,this['_ref']=_0x4d3ae6['ref']??-0xa9d*0x1+-0x22a7+0x2d44,this['_readMask']=_0x4d3ae6['readMask']??0x25ab*-0x1+0x1ab*-0xd+-0x1*-0x3c59,this['_writeMask']=_0x4d3ae6['writeMask']??-0x492+-0x18e4+0x1e75*0x1,this['_fail']=_0x4d3ae6['fail']??ha,this['_zfail']=_0x4d3ae6['zfail']??ha,this['_zpass']=_0x4d3ae6['zpass']??ha,this['_evalKey']());}set['func'](_0x58fe1e){this['_func']=_0x58fe1e,this['_dirty']=!(0x1*-0x12f1+-0x3e3+0x16d4);}get['func'](){return this['_func'];}set['ref'](_0x1a2ed4){this['_ref']=_0x1a2ed4,this['_dirty']=!(-0x70e+0x4*0x4cf+-0xc2e);}get['ref'](){return this['_ref'];}set['fail'](_0x5e146d){this['_fail']=_0x5e146d,this['_dirty']=!(0x13fb+-0x87*0x2d+0x3c0);}get['fail'](){return this['_fail'];}set['zfail'](_0x51039d){this['_zfail']=_0x51039d,this['_dirty']=!(-0x15cd*-0x1+0x46c+-0x1a39);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x3c6080){this['_zpass']=_0x3c6080,this['_dirty']=!(0x1e95*0x1+-0xb*-0x11+-0x7d4*0x4);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x9d3d0b){this['_readMask']=_0x9d3d0b,this['_dirty']=!(-0x832+-0x10df+-0x1f*-0xcf);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x341472){this['_writeMask']=_0x341472,this['_dirty']=!(-0x279*0x7+0xd31+0x41e);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x4aabcc,_ref:_0x7b8017,_fail:_0x3b4b9f,_zfail:_0x45a31b,_zpass:_0x85e3b3,_readMask:_0x3ee2d7,_writeMask:_0x11c61b}=this,_0x4d25a5=_0x4aabcc+','+_0x7b8017+','+_0x3b4b9f+','+_0x45a31b+','+_0x85e3b3+','+_0x3ee2d7+','+_0x11c61b;this['_key']=Gv['get'](_0x4d25a5),this['_dirty']=!(0x53*0x55+0x1f*0x3e+0x2310*-0x1);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x1eb1eb){return this['_func']=_0x1eb1eb['_func'],this['_ref']=_0x1eb1eb['_ref'],this['_readMask']=_0x1eb1eb['_readMask'],this['_writeMask']=_0x1eb1eb['_writeMask'],this['_fail']=_0x1eb1eb['_fail'],this['_zfail']=_0x1eb1eb['_zfail'],this['_zpass']=_0x1eb1eb['_zpass'],this['_dirty']=_0x1eb1eb['_dirty'],this['_key']=_0x1eb1eb['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};c(rc,'DEFAULT',Object['freeze'](new rc()));let qs=rc;const nc=class nc extends ce{constructor(_0x5c0d00,_0x6a10f5){var _0xb7c1a8,_0x3f603d,_0x306e27,_0x5f1e38,_0xffcec4,_0x23edc1;super(),c(this,'canvas'),c(this,'backBuffer',null),c(this,'backBuffer'+'Size',new W()),c(this,'backBuffer'+'Format'),c(this,'backBuffer'+'Antialias',!(0x2a*-0x48+-0x68+-0x1*-0xc39)),c(this,'isWebGPU',!(0xe*0x1b1+0x1*0x26a0+0x185*-0x29)),c(this,'isWebGL2',!(0x3*-0x862+0x8e*0x15+0xd81)),c(this,'isHdr',!(0x16d3+-0x5*-0x1af+-0x2d7*0xb)),c(this,'scope'),c(this,'maxAnisotr'+'opy'),c(this,'maxCubeMap'+'Size'),c(this,'maxTexture'+'Size'),c(this,'maxVolumeS'+'ize'),c(this,'maxColorAt'+'tachments',-0xbfa+0xc64+0x7*-0xf),c(this,'precision'),c(this,'samples'),c(this,'maxSamples',-0x1cd6+0x1783+0x2c*0x1f),c(this,'supportsSt'+'encil'),c(this,'supportsCo'+'mpute',!(0xe6+0x208*0x8+-0x7*0x273)),c(this,'supportsSt'+'orageTextu'+'reRead',!(-0x2546+-0x6d*0x1+-0x7f*-0x4c)),c(this,'renderTarg'+'et',null),c(this,'shaders',[]),c(this,'textures',[]),c(this,'targets',new Set()),c(this,'renderVers'+'ion',-0x1e9+-0xe97+0x10*0x108),c(this,'renderPass'+'Index'),c(this,'insideRend'+'erPass',!(0xb*-0x133+-0x2c0+0xff2)),c(this,'supportsUn'+'iformBuffe'+'rs',!(-0x1*0x5bf+-0x315+0x8d5)),c(this,'supportsCl'+'ipDistance'+'s',!(-0x12d0+-0x571+0x1842)),c(this,'textureFlo'+'atRenderab'+'le'),c(this,'textureHal'+'fFloatRend'+'erable'),c(this,'textureRG1'+'1B10Render'+'able',!(0x3e6*-0x4+-0x1*-0x13c4+-0x42b*0x1)),c(this,'textureFlo'+'atFilterab'+'le',!(0xd*0xc5+0x6*-0x27f+-0x2*-0x27d)),c(this,'quadVertex'+'Buffer'),c(this,'blendState',new _t()),c(this,'depthState',new as()),c(this,'stencilEna'+'bled',!(-0x1af0*0x1+-0xd38+-0x1bf*-0x17)),c(this,'stencilFro'+'nt',new qs()),c(this,'stencilBac'+'k',new qs()),c(this,'dynamicBuf'+'fers'),c(this,'gpuProfile'+'r'),c(this,'defaultCle'+'arOptions',{'color':[0x835+0xbe7+-0x141c,0x3*-0xb4e+-0x1e*-0x145+-0x42c,-0xf15+0x191b+-0xa06,-0x75*-0x46+-0x2aa*0x1+-0x1d53],'depth':0x1,'stencil':0x0,'flags':Co|Mo}),c(this,'clientRect',{'width':0x0,'height':0x0}),c(this,'_shadersDi'+'rty',!(0x1969+-0x1baf+0x247)),(this['canvas']=_0x5c0d00,this['initOption'+'s']={..._0x6a10f5},(_0xb7c1a8=this['initOption'+'s'])['alpha']??(_0xb7c1a8['alpha']=!(0x43f*-0x8+-0x860+-0x21e*-0x14)),(_0x3f603d=this['initOption'+'s'])['depth']??(_0x3f603d['depth']=!(-0x1fc3+0x3e*0x95+-0x453)),(_0x306e27=this['initOption'+'s'])['stencil']??(_0x306e27['stencil']=!(0x6ec+-0x1f69+-0x1*-0x187d)),(_0x5f1e38=this['initOption'+'s'])['antialias']??(_0x5f1e38['antialias']=!(0x1f13+0x1*0x1f5b+-0x3e6e)),(_0xffcec4=this['initOption'+'s'])['powerPrefe'+'rence']??(_0xffcec4['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x23edc1=this['initOption'+'s'])['displayFor'+'mat']??(_0x23edc1['displayFor'+'mat']=gv),this['_maxPixelR'+'atio']=ye['browser']?Math['min'](-0x3*-0x7cd+-0xb7*-0x12+-0x2444*0x1,window['devicePixe'+'lRatio']):-0xefe*0x2+-0x1cd3+0x3ad0,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=-0xc15+0x4a8*-0x8+0x1*0x3155,this['_shaderSwi'+'tchesPerFr'+'ame']=-0x17c6+-0x7*-0x305+0x2a3,this['_primsPerF'+'rame']=[]);for(let _0x1eecf1=Mc;_0x1eecf1<=Yr;_0x1eecf1++)this['_primsPerF'+'rame'][_0x1eecf1]=0xb87+0xce8+0x8b*-0x2d;this['_renderTar'+'getCreatio'+'nTime']=0x19b*-0x15+-0x85f*-0x1+-0x8*-0x32b,this['scope']=new Bv('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](-0x1*-0x26a5+0x164f+-0x3cf4);}['postInit'](){const _0xbb996f=new Et(this,[{'semantic':He,'components':0x2,'type':Ee}]),_0x41d49f=new Float32Array([-(0xd*0x32+0x1*-0x1e01+0x6*0x494),-(0x1*0xf7d+0x6d+-0xfe9),-0x1526*-0x1+0x2633+-0x3b58,-(-0xd1f*0x1+0x1*0x655+0x6cb),-(-0x22b8+0xd6e+0x154b*0x1),-0x203*-0x9+-0x1*-0x1678+0x6c3*-0x6,0x1c2b*0x1+0x2239+-0x3e63,0xc9*0x2b+-0x5*-0x2e2+0x1816*-0x2]);this['quadVertex'+'Buffer']=new os(this,_0xbb996f,0x10bb*0x1+-0x2*0x68+-0xfe7,{'data':_0x41d49f});}['destroy'](){var _0x3cb02c,_0x4a1947,_0x502725;this['fire']('destroy'),(_0x3cb02c=this['quadVertex'+'Buffer'])==null||_0x3cb02c['destroy'](),this['quadVertex'+'Buffer']=null,(_0x4a1947=this['dynamicBuf'+'fers'])==null||_0x4a1947['destroy'](),this['dynamicBuf'+'fers']=null,(_0x502725=this['gpuProfile'+'r'])==null||_0x502725['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x3a5e7c){this['fire']('destroy:sh'+'ader',_0x3a5e7c);const _0x3ec86c=this['shaders']['indexOf'](_0x3a5e7c);_0x3ec86c!==-(0x1ef6+-0x1a8d+-0x5e*0xc)&&this['shaders']['splice'](_0x3ec86c,-0x7*0x1f7+-0x2040+0x2e02);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x30e580;this['contextLos'+'t']=!(-0x1*-0x14d4+-0xb50*0x3+0x347*0x4),this['backBuffer'+'Size']['set'](-(0x3cc+0x75*0x25+-0x109*0x14),-(0xd1*-0x17+0x26e8+-0x1420));for(const _0x482ce4 of this['textures'])_0x482ce4['loseContex'+'t']();for(const _0x501303 of this['buffers'])_0x501303['loseContex'+'t']();for(const _0x45abd9 of this['targets'])_0x45abd9['loseContex'+'t']();(_0x30e580=this['gpuProfile'+'r'])==null||_0x30e580['loseContex'+'t']();}['restoreCon'+'text'](){var _0x25b93d,_0x58526c;this['contextLos'+'t']=!(-0x1471+-0x1*-0x10a2+0x3d0),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x274b0b of this['buffers'])_0x274b0b['unlock']();(_0x58526c=(_0x25b93d=this['gpuProfile'+'r'])==null?void(-0x1*0x1+0x6f7*0x5+0x22d2*-0x1):_0x25b93d['restoreCon'+'text'])==null||_0x58526c['call'](_0x25b93d);}['toJSON'](_0x2b10ea){}['initialize'+'ContextCac'+'hes'](){this['indexBuffe'+'r']=null,this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(-0x158d+-0x9*-0x1cd+0x98*0x9),this['shaderAsyn'+'cCompile']=!(0x4e1*0x2+-0x16+-0x9ab),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new _t(),this['depthState']=new as(),this['cullMode']=rn,this['vx']=this['vy']=this['vw']=this['vh']=0x21a1+-0x21a2+0x1,this['sx']=this['sy']=this['sw']=this['sh']=0x2*-0x259+-0x2054+0x2506,this['blendColor']=new Y(0x1*0x217f+0x987*0x1+-0x1*0x2b06,0x157f+0xb47+0x1063*-0x2,0x43*-0x44+-0x1cb8+0x1a*0x1ca,-0x1ef4+-0xe55+0x1*0x2d49);}['setStencil'+'State'](_0xa56e84,_0x34ae10){v['assert'](!(0xdaa+0x1*-0x14e7+-0x39f*-0x2));}['setBlendSt'+'ate'](_0x36b530){v['assert'](!(-0x22c3+0x1882+0xca*0xd));}['setBlendCo'+'lor'](_0x2ef6dd,_0x316f32,_0x5620b6,_0x551686){v['assert'](!(-0x1631+-0xe9c+-0x2a1*-0xe));}['setDepthSt'+'ate'](_0xb97965){v['assert'](!(0x19d6*-0x1+-0x3*-0x184+0x4f*0x45));}['setCullMod'+'e'](_0x1325e1){v['assert'](!(0x4*-0xc9+0x3*0x5b3+-0x5e*0x26));}['setRenderT'+'arget'](_0x5e73e9){this['renderTarg'+'et']=_0x5e73e9;}['setIndexBu'+'ffer'](_0x59f207){this['indexBuffe'+'r']=_0x59f207;}['setVertexB'+'uffer'](_0x3f5f0b){_0x3f5f0b&&this['vertexBuff'+'ers']['push'](_0x3f5f0b);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=-0x1*-0x190f+0xdec+0x11*-0x24b;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x4d1863){if(_0x4d1863['initialize'+'d'])return;const _0x35e743=ne();this['fire']('fbo:create',{'timestamp':_0x35e743,'target':this}),_0x4d1863['init'](),this['targets']['add'](_0x4d1863),this['_renderTar'+'getCreatio'+'nTime']+=ne()-_0x35e743;}['_isBrowser'+'Interface'](_0x216962){return this['_isImageBr'+'owserInter'+'face'](_0x216962)||this['_isImageCa'+'nvasInterf'+'ace'](_0x216962)||this['_isImageVi'+'deoInterfa'+'ce'](_0x216962);}['_isImageBr'+'owserInter'+'face'](_0x202fcc){return typeof ImageBitmap<'u'&&_0x202fcc instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x202fcc instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x48ca05){return typeof HTMLCanvasElement<'u'&&_0x48ca05 instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x590f92){return typeof HTMLVideoElement<'u'&&_0x590f92 instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x14023c,_0xa08a63){const _0x303ff8=Math['min'](this['_maxPixelR'+'atio'],ye['browser']?window['devicePixe'+'lRatio']:0x45b*0x7+-0x4*0x8e+-0x1c44),_0x433ab9=Math['floor'](_0x14023c*_0x303ff8),_0x4d0b30=Math['floor'](_0xa08a63*_0x303ff8);(_0x433ab9!==this['canvas']['width']||_0x4d0b30!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x433ab9,_0x4d0b30);}['setResolut'+'ion'](_0x1ccfd9,_0x10cae6){this['canvas']['width']=_0x1ccfd9,this['canvas']['height']=_0x10cae6,this['fire'](nc['EVENT_RESI'+'ZE'],_0x1ccfd9,_0x10cae6);}['updateClie'+'ntRect'](){if(ye['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x178333=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x178333['width'],this['clientRect']['height']=_0x178333['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x1be41b){v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(-0x853+-0x1*0x201d+0x2871);}set['maxPixelRa'+'tio'](_0x506abc){this['_maxPixelR'+'atio']=_0x506abc;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x2a9800){}['endRenderP'+'ass'](_0x301dd3){}['startCompu'+'tePass'](_0x1c63ec){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=-0x1*0x1f3e+0x67e*0x5+-0x8*0x27,this['renderVers'+'ion']++,v['call'](()=>{if(Xs['get'](tS)){const _0x433576=this['textures']['slice']();_0x433576['sort']((_0x523a5c,_0x155cc4)=>_0x155cc4['gpuSize']-_0x523a5c['gpuSize']),v['log']('Textures:\x20'+_0x433576['length']);let _0x2dadb9=0x1*0xf0b+-0xcdf+-0x4*0x8b;_0x433576['forEach']((_0x5daf72,_0x3c32e1)=>{const _0x2bae3c=_0x5daf72['gpuSize'];_0x2dadb9+=_0x2bae3c,v['log'](_0x3c32e1+'.\x20'+_0x5daf72['name']+'\x20'+_0x5daf72['width']+'x'+_0x5daf72['height']+'\x20VRAM:\x20'+(_0x2bae3c/(0x2654+-0x12ee+-0xf66)/(-0xe95*0x1+0x2419+-0x26*0x76))['toFixed'](0x789+-0x40*0x65+0x11b9)+'\x20MB');}),v['log']('Total:\x20'+(_0x2dadb9/(0x22cd*0x1+0x9b*-0x4+-0x1c61)/(-0x9f*-0xb+-0x3*-0xcc5+0x2*-0x1492))['toFixed'](-0x14d1+-0x1*-0x2599+0x26*-0x71)+'MB');}});}['frameEnd'](){}['computeDis'+'patch'](_0xc066c1,_0x131337='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x175a95=[_a,Je,Ke],_0x1277f9=!(-0x226+-0xfc3+-0x11e9*-0x1),_0x7933f4=0x16f*-0x9+-0x5b7+0xe3*0x15){for(let _0x287bc3=0x26a3*-0x1+-0x25d5+0x98f*0x8;_0x287bc3<_0x175a95['length'];_0x287bc3++){const _0x124f15=_0x175a95[_0x287bc3];switch(_0x124f15){case _a:{if(this['textureRG1'+'1B10Render'+'able'])return _0x124f15;break;}case Je:if(this['textureHal'+'fFloatRend'+'erable'])return _0x124f15;break;case Ke:if(this['isWebGPU']&&_0x7933f4>0x1a90+-0x20a6+0x1*0x617)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x1277f9||this['textureFlo'+'atFilterab'+'le']))return _0x124f15;break;}}}};c(nc,'EVENT_RESI'+'ZE','resizecanv'+'as');let Fh=nc,Hv=0x1065*-0x1+-0x47*0x34+0x1ed1;class pt{constructor(_0x3fc127={}){c(this,'name'),c(this,'_device'),c(this,'_colorBuff'+'er'),c(this,'_colorBuff'+'ers'),c(this,'_depthBuff'+'er'),c(this,'_depth'),c(this,'_stencil'),c(this,'_samples'),c(this,'autoResolv'+'e'),c(this,'_face'),c(this,'_mipLevel'),c(this,'_mipmaps'),c(this,'flipY');var _0x44d86d,_0x3bdf2e,_0x2c12c7,_0xa4ac9e,_0x2dda5c,_0x297e5c;v['assert'](!(_0x3fc127 instanceof Fh),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=Hv++;const _0x4e0b42=((_0x44d86d=_0x3fc127['colorBuffe'+'r'])==null?void(0x1474+0x1e8a+-0x32fe):_0x44d86d['device'])??((_0x3bdf2e=_0x3fc127['colorBuffe'+'rs'])==null?void(0x17fb+0x1e56+-0x3651):_0x3bdf2e[0x24f8+-0x117d+-0x1*0x137b]['device'])??((_0x2c12c7=_0x3fc127['depthBuffe'+'r'])==null?void(-0x2667+0x1503+0x1164):_0x2c12c7['device'])??_0x3fc127['graphicsDe'+'vice'];v['assert'](_0x4e0b42,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x4e0b42;const {maxSamples:_0x187c3d}=this['_device'];if(this['_samples']=Math['min'](_0x3fc127['samples']??-0xf2*0x8+0x20db+0xa6*-0x27,_0x187c3d),_0x4e0b42['isWebGPU']&&(this['_samples']=this['_samples']>-0x4d1*-0x7+-0x225+0x1f91*-0x1?_0x187c3d:-0x76f*0x2+0x41e+0x1*0xac1),this['_colorBuff'+'er']=_0x3fc127['colorBuffe'+'r'],_0x3fc127['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x3fc127['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x3fc127['depthBuffe'+'r'],this['_face']=_0x3fc127['face']??0x17*0xfb+-0x13c6*-0x1+-0x5*0x877,this['_depthBuff'+'er']){const _0x24f499=this['_depthBuff'+'er']['_format'];_0x24f499===Ci||_0x24f499===la?(this['_depth']=!(-0x3*0x50b+0x2547+0x1e*-0xbd),this['_stencil']=!(-0xc7a+-0x1a41+0x26bc)):_0x24f499===vc?(this['_depth']=!(0x19*-0x17b+-0x2*-0x5ed+0x1929),this['_stencil']=!(0x1*-0x249+0x7*0x21a+-0xc6d)):_0x24f499===Ii&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>-0x1*0x256d+-0x39*0x2a+0x2ec8?(this['_depth']=!(0xe3+-0xfe2+0x15d*0xb),this['_stencil']=!(-0x10*0x232+0x24e7+0xe3*-0x2)):(v['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(0x447+-0x1688+0x1242*0x1),this['_stencil']=!(-0x1166+0x2*0x8f5+-0x83));}else this['_depth']=_0x3fc127['depth']??!(-0x11c4+-0x1c0*-0x10+-0xa3c),this['_stencil']=_0x3fc127['stencil']??!(0x3*-0x77d+-0x1afc+0x3174);_0x3fc127['colorBuffe'+'rs']&&(v['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x3fc127['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x3fc127['colorBuffe'+'rs'][0x1*0xf4+0xdb2+-0x3*0x4e2])),this['autoResolv'+'e']=_0x3fc127['autoResolv'+'e']??!(-0x748*-0x1+-0x1*-0x1326+0x11*-0x18e),this['name']=_0x3fc127['name'],this['name']||(this['name']=(_0xa4ac9e=this['_colorBuff'+'er'])==null?void(0x1ace+0xb69+-0x2637):_0xa4ac9e['name']),this['name']||(this['name']=(_0x2dda5c=this['_depthBuff'+'er'])==null?void(-0x1768+-0x1*0x409+0x1b71):_0x2dda5c['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x3fc127['flipY']??!(0x629*-0x5+0x7*-0x4a3+0x3f43),this['_mipLevel']=_0x3fc127['mipLevel']??-0x17b0+-0x59*-0x1+-0xef*-0x19,this['_mipLevel']>-0x1*-0x1c79+-0x2*-0x1051+-0x3d1b&&this['_depth']&&(v['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x3fc127}),this['_mipLevel']=-0x1e05+0x1615+-0x3f8*-0x2),this['_mipmaps']=_0x3fc127['mipLevel']===void(-0x2*-0x1347+0x4*-0x572+0xe2*-0x13),this['validateMr'+'t'](),this['impl']=_0x4e0b42['createRend'+'erTargetIm'+'pl'](this),v['trace'](Yp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x297e5c=this['_colorBuff'+'ers'])!=null&&_0x297e5c['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){v['trace'](Yp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x21efd6=this['_device'];_0x21efd6&&(_0x21efd6['targets']['delete'](this),_0x21efd6['renderTarg'+'et']===this&&_0x21efd6['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x42da39=this['_device'];_0x42da39&&this['impl']['destroy'](_0x42da39);}['destroyTex'+'tureBuffer'+'s'](){var _0x217f89,_0x880561;(_0x217f89=this['_depthBuff'+'er'])==null||_0x217f89['destroy'](),this['_depthBuff'+'er']=null,(_0x880561=this['_colorBuff'+'ers'])==null||_0x880561['forEach'](_0x578c64=>{_0x578c64['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0xfe6c03,_0x2b726f){var _0x24a1f2,_0x16a6d9;if(this['width']!==_0xfe6c03||this['height']!==_0x2b726f){if(this['mipLevel']>0x45c+0x8e*-0x2b+-0x1*-0x137e){v['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x4c695d=this['_device'];this['destroyFra'+'meBuffers'](),_0x4c695d['renderTarg'+'et']===this&&_0x4c695d['setRenderT'+'arget'](null),(_0x24a1f2=this['_depthBuff'+'er'])==null||_0x24a1f2['resize'](_0xfe6c03,_0x2b726f),(_0x16a6d9=this['_colorBuff'+'ers'])==null||_0x16a6d9['forEach'](_0x314668=>{_0x314668['resize'](_0xfe6c03,_0x2b726f);}),this['validateMr'+'t'](),this['impl']=_0x4c695d['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){v['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x1da3d4,height:_0x1027d5,cubemap:_0x5a3344,volume:_0x1bf379}=this['_colorBuff'+'ers'][-0x26a3+-0x16a3+0x3d46];for(let _0x1b3cc5=-0x2570+0x89e+0x1cd3;_0x1b3cc5<this['_colorBuff'+'ers']['length'];_0x1b3cc5++){const _0x1299ff=this['_colorBuff'+'ers'][_0x1b3cc5];v['assert'](_0x1299ff['width']===_0x1da3d4,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),v['assert'](_0x1299ff['height']===_0x1027d5,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),v['assert'](_0x1299ff['cubemap']===_0x5a3344,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),v['assert'](_0x1299ff['volume']===_0x1bf379,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x146a7e=!(0x1fa2+0x13c5+0x3367*-0x1),_0x4cb8ba=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>0x331*-0xa+-0x1d45+-0x1e98*-0x2&&(G['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x146a7e?'[color]':'')+':'+(_0x4cb8ba?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x146a7e,_0x4cb8ba),G['popGpuMark'+'er'](this['_device']));}['copy'](_0x5ce7dd,_0x4d7f16,_0x15c44f){if(!this['_device']){if(_0x5ce7dd['_device'])this['_device']=_0x5ce7dd['_device'];else return v['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(0x3aa*0x1+-0x4d2+0x129);}G['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x5ce7dd['name']+'->'+this['name']);const _0x11b0c8=this['_device']['copyRender'+'Target'](_0x5ce7dd,this,_0x4d7f16,_0x15c44f);return G['popGpuMark'+'er'](this['_device']),_0x11b0c8;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x475be9){var _0x408c76;return(_0x408c76=this['_colorBuff'+'ers'])==null?void(-0x15cb+-0x1*0x19c3+0x2f8e):_0x408c76[_0x475be9];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x334414,_0x59c02d;let _0x314104=((_0x334414=this['_colorBuff'+'er'])==null?void(0x1*-0x255+-0x8b4+0xb09):_0x334414['width'])||((_0x59c02d=this['_depthBuff'+'er'])==null?void(-0x100a+0xbfb+0x40f*0x1):_0x59c02d['width'])||this['_device']['width'];return this['_mipLevel']>-0x1618+0x17ca+-0x1b2&&(_0x314104=Mi['calcLevelD'+'imension'](_0x314104,this['_mipLevel'])),_0x314104;}get['height'](){var _0x326177,_0xb6ec30;let _0x5ce48c=((_0x326177=this['_colorBuff'+'er'])==null?void(-0x269+0x202*-0x2+0x66d):_0x326177['height'])||((_0xb6ec30=this['_depthBuff'+'er'])==null?void(0xfc9*0x2+-0x16b5+-0x8dd):_0xb6ec30['height'])||this['_device']['height'];return this['_mipLevel']>0x12e*0x14+0x1a28+-0x31c0&&(_0x5ce48c=Mi['calcLevelD'+'imension'](_0x5ce48c,this['_mipLevel'])),_0x5ce48c;}['isColorBuf'+'ferSrgb'](_0x4e7e36=0x2623*-0x1+-0x1f*0xdd+0x40e6){if(this['device']['backBuffer']===this)return Mh(this['device']['backBuffer'+'Format']);const _0x685d92=this['getColorBu'+'ffer'](_0x4e7e36);return _0x685d92?Mh(_0x685d92['format']):!(-0x698+-0x14ce*-0x1+-0xe35);}}const Wv={'equals'(_0x1494c6,_0x4b5260){if(_0x1494c6['length']!==_0x4b5260['length'])return!(-0x17b+0x632+0x1*-0x4b6);for(let _0x5419f8=0x1*-0x9eb+0xbc*-0x9+0x1*0x1087;_0x5419f8<_0x1494c6['length'];_0x5419f8++)if(_0x1494c6[_0x5419f8]!==_0x4b5260[_0x5419f8])return!(0x14*-0x123+-0xfde+-0x269b*-0x1);return!(-0x8d3*0x1+-0x11b6+0x1a89);}};class Gc{constructor(){c(this,'_refCount',0x1220+0x2173*-0x1+0xf53);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class $v extends Gc{constructor(_0xe408a){super(),c(this,'object'),(this['object']=_0xe408a,this['incRefCoun'+'t']());}}class qv{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x390e2c=>{var _0x25491c;(_0x25491c=_0x390e2c['object'])==null||_0x25491c['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x4c1704){const _0x17dbee=this['cache']['get'](_0x4c1704);return _0x17dbee?(_0x17dbee['incRefCoun'+'t'](),_0x17dbee['object']):null;}['set'](_0x35d818,_0x295ff1){v['assert'](!this['cache']['has'](_0x35d818),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x35d818,'object':_0x295ff1}),this['cache']['set'](_0x35d818,new $v(_0x295ff1));}['release'](_0x19099f){var _0xd43638;const _0x177a87=this['cache']['get'](_0x19099f);_0x177a87?(_0x177a87['decRefCoun'+'t'](),_0x177a87['refCount']===-0x123a+0x2311*-0x1+0x1*0x354b&&(this['cache']['delete'](_0x19099f),(_0xd43638=_0x177a87['object'])==null||_0xd43638['destroy']())):v['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x19099f});}}class Xv extends qv{['loseContex'+'t'](_0x4af457){this['clear']();}}const jv=new Ot(),od=_0x38fe0a=>jv['get'](_0x38fe0a,()=>new Xv()),ot=[];ot[$s]=-0x1ffa+-0x127*-0x5+0x1a38,ot[or]=-0x55b+0x188a+0x1*-0x132d,ot[$t]=-0x1591*-0x1+0x1019*0x1+-0x25a7,ot[xa]=0x1bd5+-0x6c*-0x3d+-0x358d,ot[ln]=-0x5f*0x53+-0x20f*0x1+0x20dd,ot[Zr]=-0x399*0xa+0x9d*-0x1+0x2499,ot[Qr]=-0x2602+-0x3bf*-0x5+0x66e*0x3,ot[Jr]=-0x565*-0x7+0x25d5+-0x1*0x4b94,ot[ca]=0x2*-0x129a+0x1d5a+0x7db,ot[Lo]=0x2*-0x25+0x9b0+-0x964,ot[Fo]=-0xc7*0x23+-0xad*-0xe+0x11c2,ot[Oo]=-0x10d5*-0x1+-0x1*0xf10+-0x1c1,ot[Rh]=-0x256a*0x1+0xc9f*0x1+0x18d3,ot[ko]=0x1*-0x21ea+0x23*0xb9+0x13d*0x7,ot[Sa]=0xd*0x106+-0x5*0x2b3+-0x5*-0xd,ot[va]=0x583*0x4+0x48d+-0x1a98,ot[ba]=-0x224d+-0x149f+-0x4f*-0xb2,ot[wa]=-0x25b5+-0x1b27*-0x1+0xa91,ot[Ta]=-0x5*0x431+-0x2*-0xfb5+-0xa71;class gt{constructor(_0x4a955b,_0xfc1edf,_0xc8a60e=-0x84e+-0xbb*-0x1+0x793){c(this,'name'),c(this,'type'),c(this,'byteSize'),c(this,'offset'),c(this,'scopeId'),c(this,'count'),c(this,'numCompone'+'nts');if(this['shortName']=_0x4a955b,this['name']=_0xc8a60e?_0x4a955b+'[0]':_0x4a955b,this['type']=_0xfc1edf,this['numCompone'+'nts']=ot[_0xfc1edf],v['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0xfc1edf+'\x20used\x20for\x20'+_0x4a955b),this['updateType']=_0xfc1edf,_0xc8a60e>-0x262f+0x1c22+-0x1*-0xa0d)switch(_0xfc1edf){case $s:this['updateType']=Dc;break;case ln:this['updateType']=Aa;break;case va:this['updateType']=Oc;break;case ca:this['updateType']=kc;break;case or:this['updateType']=Lc;break;case Zr:this['updateType']=Ea;break;case ba:this['updateType']=Bc;break;case Lo:this['updateType']=Nc;break;case $t:this['updateType']=Fc;break;case Qr:this['updateType']=Ca;break;case wa:this['updateType']=zc;break;case Fo:this['updateType']=Uc;break;case xa:this['updateType']=lp;break;case Jr:this['updateType']=Ih;break;case Ta:this['updateType']=hp;break;case Oo:this['updateType']=cp;break;case Sa:this['updateType']=Ny;break;default:v['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+dp[_0xfc1edf]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x4a955b+'\x27.'),v['call'](()=>{this['invalid']=!(-0xc05*0x3+0x20f6+0x1*0x319);});break;}this['count']=_0xc8a60e,v['assert'](!isNaN(_0xc8a60e),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x4a955b+'['+_0xc8a60e+']'),v['call'](()=>{isNaN(_0xc8a60e)&&(this['invalid']=!(0x118d*-0x1+-0x1918+0x2aa5));});let _0x18d4e6=this['numCompone'+'nts'];_0xc8a60e&&(_0x18d4e6=N['roundUp'](_0x18d4e6,-0x181f+0x7*0xff+-0x2*-0x895)),this['byteSize']=_0x18d4e6*(-0x9a0+0x2538+-0x5*0x584),_0xc8a60e&&(this['byteSize']*=_0xc8a60e),v['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0xfc1edf+'\x20used\x20for\x20'+_0x4a955b);}get['isArrayTyp'+'e'](){return this['count']>-0x25*-0x2e+-0x85*-0x1+-0x5*0x16f;}['calculateO'+'ffset'](_0x17ceb5){let _0x17e861=this['byteSize']<=-0x185a+0xa5*0x27+-0xc1*0x1?this['byteSize']:-0x1*0x12b6+-0x2*-0x1034+-0x2ba*0x5;this['count']&&(_0x17e861=-0xe9b+-0x2*0xb32+-0xb3*-0x35),_0x17ceb5=N['roundUp'](_0x17ceb5,_0x17e861),this['offset']=_0x17ceb5/(-0x4cb*-0x2+-0x2200+0x1*0x186e);}}class Qy{constructor(_0x1db8fa,_0x380254){c(this,'byteSize',0x1b46+-0x841+-0x1305),c(this,'map',new Map()),(this['scope']=_0x1db8fa['scope'],this['uniforms']=_0x380254);let _0x7b551f=0x22be+-0x273*0x9+-0xcb3;for(let _0x4f3aae=0x555*-0x3+-0x1389+-0x2*-0x11c4;_0x4f3aae<_0x380254['length'];_0x4f3aae++){const _0x586211=_0x380254[_0x4f3aae];_0x586211['calculateO'+'ffset'](_0x7b551f),_0x7b551f=_0x586211['offset']*(0x7ae+0x4ed+-0xc97)+_0x586211['byteSize'],_0x586211['scopeId']=this['scope']['resolve'](_0x586211['name']),this['map']['set'](_0x586211['name'],_0x586211);}this['byteSize']=N['roundUp'](_0x7b551f,0x2*0x168+0x1b6d+-0x1e2d);}['get'](_0x2e79cc){return this['map']['get'](_0x2e79cc);}['getShaderD'+'eclaration'](_0x21b6a3,_0x28b4a8){const _0x520cef=xv[_0x21b6a3];let _0xb09eca='layout(set'+'\x20=\x20'+_0x21b6a3+(',\x20binding\x20'+'=\x20')+_0x28b4a8+(',\x20std140)\x20'+'uniform\x20ub'+'_')+_0x520cef+'\x20{\x0a';return this['uniforms']['forEach'](_0x521c12=>{const _0x1980f0=dp[_0x521c12['type']];v['assert'](_0x1980f0['length']>0x1ad*0x7+0x3*-0xb+-0xb9a,'Uniform\x20ty'+'pe\x20'+_0x521c12['type']+('\x20is\x20not\x20ha'+'ndled.')),_0xb09eca+='\x20\x20\x20\x20'+_0x1980f0+'\x20'+_0x521c12['shortName']+(_0x521c12['count']?'['+_0x521c12['count']+']':'')+';\x0a';}),_0xb09eca+'};\x0a';}}const gr='Preprocess'+'or',fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,ld=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,Am=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,hd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,cd=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,dd=/(endif|else|elif)([ \t][^\r\n]+)?\r?(?:\n|$)/g,Em=/([\w-]+)/,Yv=/(!|\s)?defined\(([\w-]+)\)/,Kv=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,Zv=/[|&+-]/g,ud=/include[ \t]+"([\w-]+)"\r?(?:\n|$)/g,vs=class vs{static['run'](_0x163dad,_0x18c9d0=new Map(),_0x563337={}){vs['sourceName']=_0x563337['sourceName'],_0x163dad=this['stripComme'+'nts'](_0x163dad),_0x163dad=_0x163dad['split'](/\r?\n/)['map'](_0x3512c1=>_0x3512c1['trimEnd']())['join']('\x0a');const _0x4465f3=new Map();if(_0x563337['stripUnuse'+'dColorAtta'+'chments']){const _0x4903d4=new Map(),_0x201109=/(pcFragColor[1-8])\b/g,_0x5de769=_0x163dad['match'](_0x201109);_0x5de769==null||_0x5de769['forEach'](_0x4e1364=>{const _0x12f4fb=parseInt(_0x4e1364['charAt'](_0x4e1364['length']-(0x1ca6+-0x1*0x141e+-0x887)),0x2b*0x3+0x1843+0x2*-0xc5d);_0x4903d4['set'](_0x12f4fb,(_0x4903d4['get'](_0x12f4fb)??-0x3a2+0x21f8+-0x1e56)+(-0x1348+-0x1ee3+0x322c*0x1));}),_0x4903d4['forEach']((_0x264e16,_0x4c2361)=>{_0x264e16===-0x1*0x551+0x12*0x219+-0x2070&&_0x4465f3['set']('REMOVE_COL'+'OR_ATTACHM'+'ENT_'+_0x4c2361,'');});}_0x163dad=this['_preproces'+'s'](_0x163dad,_0x4465f3,_0x18c9d0,_0x563337['stripDefin'+'es']);const _0x4a8db6=new Map();_0x4465f3['forEach']((_0x5f4940,_0xb5836d)=>{Number['isInteger'](parseFloat(_0x5f4940))&&!_0x5f4940['includes']('.')&&_0x4a8db6['set'](_0xb5836d,_0x5f4940);});const _0x2a509e=new Map();return _0x4465f3['forEach']((_0x2a354a,_0x30f96b)=>{_0x30f96b['startsWith']('__INJECT_')&&_0x2a509e['set'](_0x30f96b,_0x2a354a);}),_0x163dad=this['stripComme'+'nts'](_0x163dad),_0x163dad=this['RemoveEmpt'+'yLines'](_0x163dad),_0x163dad=this['processArr'+'aySize'](_0x163dad,_0x4a8db6),_0x163dad=this['injectDefi'+'nes'](_0x163dad,_0x2a509e),_0x163dad;}static['stripComme'+'nts'](_0x288686){return _0x288686['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x34e490,_0x8672da){return _0x34e490!==null&&_0x8672da['forEach']((_0x39f853,_0x597dc5)=>{_0x34e490=_0x34e490['replace'](new RegExp('\x5c['+_0x597dc5+'\x5c]','g'),'['+_0x39f853+']');}),_0x34e490;}static['injectDefi'+'nes'](_0x5b3c14,_0x109a66){if(_0x5b3c14!==null&&_0x109a66['size']>0xa69*0x2+-0x1741+0x7*0x59){const _0x4bd0fa=_0x5b3c14['split']('\x0a');_0x109a66['forEach']((_0x35e92f,_0x29903d)=>{const _0x303303=new RegExp('\x5cb'+_0x29903d+'\x5cb','g');for(let _0x24e881=-0x1772+0x137c+-0x1fb*-0x2;_0x24e881<_0x4bd0fa['length'];_0x24e881++)_0x4bd0fa[_0x24e881]['includes']('#')||(_0x4bd0fa[_0x24e881]=_0x4bd0fa[_0x24e881]['replace'](_0x303303,_0x35e92f));}),_0x5b3c14=_0x4bd0fa['join']('\x0a');}return _0x5b3c14;}static['RemoveEmpt'+'yLines'](_0x1213a4){return _0x1213a4!==null&&(_0x1213a4=_0x1213a4['split'](/\r?\n/)['map'](_0xcba452=>_0xcba452['trim']()===''?'':_0xcba452)['join']('\x0a'),_0x1213a4=_0x1213a4['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x1213a4;}static['_preproces'+'s'](_0x438ab3,_0x1d83f0=new Map(),_0x91f70,_0x1183a5){const _0x77df35=_0x438ab3,_0x404dde=[];let _0x115bf4=!(-0xc8+-0xdd0+0x25*0x65),_0x1842de;for(;(_0x1842de=fs['exec'](_0x438ab3))!==null;){const _0x312962=_0x1842de[0x1aff+-0x3*-0x9d9+-0x3889];switch(_0x312962){case'define':{ld['lastIndex']=_0x1842de['index'];const _0xa75247=ld['exec'](_0x438ab3);v['assert'](_0xa75247,'Invalid\x20['+_0x312962+']:\x20'+_0x438ab3['substring'](_0x1842de['index'],_0x1842de['index']+(0x266f+0x1a67+-0x4072))+'...'),_0x115bf4||(_0x115bf4=_0xa75247===null);const _0x3ec525=_0xa75247[0x11c0*-0x1+-0x619+0x2*0xbed];Em['lastIndex']=_0xa75247['index'];const _0x298c75=Em['exec'](_0x3ec525)[0x263b*-0x1+-0xc3f+0x327b];let _0x5b04e9=_0x3ec525['substring'](_0x298c75['length'])['trim']();_0x5b04e9===''&&(_0x5b04e9='true');const _0x295f23=vs['_keep'](_0x404dde);_0x295f23&&(_0x1d83f0['set'](_0x298c75,_0x5b04e9),_0x1183a5&&(_0x438ab3=_0x438ab3['substring'](-0x74+-0x15*0xe4+0x1328,_0xa75247['index']-(0x13*0x125+0x16*-0x18b+0xc34))+_0x438ab3['substring'](ld['lastIndex']),fs['lastIndex']=_0xa75247['index']-(0xa*0xae+-0xda8+0x6dd))),v['trace'](gr,_0x312962+':\x20['+_0x298c75+']\x20'+_0x5b04e9+'\x20'+(_0x295f23?'':'IGNORED')),_0x1183a5||(fs['lastIndex']=_0xa75247['index']+_0xa75247[-0xe6*-0x1d+0x9b2*0x2+-0x2d72]['length']);break;}case'undef':{hd['lastIndex']=_0x1842de['index'];const _0x949a91=hd['exec'](_0x438ab3),_0x1c2a43=_0x949a91[-0x495*-0x3+0x1d3*0xa+0x4*-0x7ff]['trim'](),_0x33c350=vs['_keep'](_0x404dde);_0x33c350&&(_0x1d83f0['delete'](_0x1c2a43),_0x1183a5&&(_0x438ab3=_0x438ab3['substring'](0x18cf+-0x184b+-0x84,_0x949a91['index']-(-0x191*0x7+-0x207a+-0x15b9*-0x2))+_0x438ab3['substring'](hd['lastIndex']),fs['lastIndex']=_0x949a91['index']-(0x14c2+0xff3*-0x1+-0x267*0x2))),v['trace'](gr,_0x312962+':\x20['+_0x1c2a43+']\x20'+(_0x33c350?'':'IGNORED')),_0x1183a5||(fs['lastIndex']=_0x949a91['index']+_0x949a91[0xb9*0x29+-0xb3*0x25+-0x3c2]['length']);break;}case'extension':{Am['lastIndex']=_0x1842de['index'];const _0x1519b6=Am['exec'](_0x438ab3);if(v['assert'](_0x1519b6,'Invalid\x20['+_0x312962+']:\x20'+_0x438ab3['substring'](_0x1842de['index'],_0x1842de['index']+(-0x697*-0x1+-0x62d+0x1*-0x6))+'...'),_0x115bf4||(_0x115bf4=_0x1519b6===null),_0x1519b6){const _0x13b274=_0x1519b6[-0x2*0x31f+0x293*-0x4+-0x37*-0x4d],_0x200847=vs['_keep'](_0x404dde);_0x200847&&_0x1d83f0['set'](_0x13b274,'true'),v['trace'](gr,_0x312962+':\x20['+_0x13b274+']\x20'+(_0x200847?'':'IGNORED'));}fs['lastIndex']=_0x1519b6['index']+_0x1519b6[-0xf61+0x225c+-0x12fb]['length'];break;}case'ifdef':case'ifndef':case'if':{cd['lastIndex']=_0x1842de['index'];const _0x552f0f=cd['exec'](_0x438ab3),_0x4646cf=_0x552f0f[0x23a*-0x1+-0x231c+0x2558],_0x409413=vs['evaluate'](_0x4646cf,_0x1d83f0);_0x115bf4||(_0x115bf4=_0x409413['error']);let _0xae9306=_0x409413['result'];_0x312962==='ifndef'&&(_0xae9306=!_0xae9306),_0x404dde['push']({'anyKeep':_0xae9306,'keep':_0xae9306,'start':_0x1842de['index'],'end':cd['lastIndex']}),v['trace'](gr,_0x312962+':\x20['+_0x4646cf+']\x20=>\x20'+_0xae9306),fs['lastIndex']=_0x552f0f['index']+_0x552f0f[-0x188f+-0x2167+0x39f6]['length'];break;}case'endif':case'else':case'elif':{dd['lastIndex']=_0x1842de['index'];const _0x2c43e7=dd['exec'](_0x438ab3),_0x5393a4=_0x404dde['pop'](),_0x27a7c6=_0x5393a4['keep']?_0x438ab3['substring'](_0x5393a4['end'],_0x1842de['index']):'';v['trace'](gr,_0x312962+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x27a7c6!=='')),_0x438ab3=_0x438ab3['substring'](-0x1b72+0x4*0x45a+0xa0a,_0x5393a4['start'])+_0x27a7c6+_0x438ab3['substring'](dd['lastIndex']),fs['lastIndex']=_0x5393a4['start']+_0x27a7c6['length'];const _0x1b1949=_0x2c43e7[-0x7cd+0x2b*-0xa0+0x1*0x22ae];if(_0x1b1949==='else'||_0x1b1949==='elif'){let _0xf9907b=!(0x1ad+-0x103e+0xe92);if(!_0x5393a4['anyKeep']){if(_0x1b1949==='else')_0xf9907b=!_0x5393a4['keep'];else{const _0x52916a=vs['evaluate'](_0x2c43e7[-0x549+-0x155+0x6a0],_0x1d83f0);_0xf9907b=_0x52916a['result'],_0x115bf4||(_0x115bf4=_0x52916a['error']);}}_0x404dde['push']({'anyKeep':_0x5393a4['anyKeep']||_0xf9907b,'keep':_0xf9907b,'start':fs['lastIndex'],'end':fs['lastIndex']}),v['trace'](gr,_0x312962+':\x20['+_0x2c43e7[0x15cb+0x7*0x133+0xf17*-0x2]+']\x20=>\x20'+_0xf9907b);}break;}case'include':{ud['lastIndex']=_0x1842de['index'];const _0x4afc45=ud['exec'](_0x438ab3);_0x115bf4||(_0x115bf4=_0x4afc45===null),v['assert'](_0x4afc45,'Invalid\x20['+_0x312962+']:\x20'+_0x438ab3['substring'](_0x1842de['index'],_0x1842de['index']+(0x233*-0x11+-0x25ff+0x1*0x4bc6))+'...');const _0x4e3db9=_0x4afc45[0x6dd+0x2c3*0xb+0x1*-0x253d]['trim'](),_0x591c67=vs['_keep'](_0x404dde);if(_0x591c67){const _0x3dab63=_0x91f70==null?void(0x1692+-0x1b3*-0x15+0x679*-0x9):_0x91f70['get'](_0x4e3db9);_0x3dab63!==void(-0x7f6+0x1*0x1291+0x389*-0x3)?(_0x438ab3=_0x438ab3['substring'](-0x1b51+-0x2*0x6de+0x290d,_0x4afc45['index']-(0x22a*-0x1+0x60b+-0x3e0))+_0x3dab63+_0x438ab3['substring'](ud['lastIndex']),fs['lastIndex']=_0x4afc45['index']-(-0x3b2+-0x35*0xa4+0x1b*0x165)):(console['error']('Include\x20\x22'+_0x4e3db9+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+vs['sourceName'],{'source':_0x77df35}),_0x115bf4=!(-0x1*-0xe15+-0x9f7*-0x1+0x3*-0x804));}v['trace'](gr,_0x312962+':\x20['+_0x4e3db9+']\x20'+(_0x591c67?'':'IGNORED'));break;}}}return _0x115bf4?(console['warn']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x77df35}),_0x77df35):_0x438ab3;}static['_keep'](_0x34c611){for(let _0x1cf5a2=0x1cd9+-0x3b7*0x8+0xdf;_0x1cf5a2<_0x34c611['length'];_0x1cf5a2++)if(!_0x34c611[_0x1cf5a2]['keep'])return!(-0x3*-0x949+0x1ba4+-0x377e);return!(0x1a5*0x2+-0x1*0xad3+0x789*0x1);}static['evaluate'](_0x26d3cd,_0x491f17){const _0x292196=Zv['exec'](_0x26d3cd)===null;v['assert'](_0x292196,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x26d3cd);let _0x50e99c=!(0x66+0x1f*-0xd5+0x1966);const _0x40c98f=Yv['exec'](_0x26d3cd);_0x40c98f&&(_0x50e99c=_0x40c98f[0x1854*0x1+-0x2*0xe9e+-0x4e9*-0x1]==='!',_0x26d3cd=_0x40c98f[-0x634*-0x6+-0x16a*0xc+-0xa1f*0x2]);const _0x95a466=Kv['exec'](_0x26d3cd);if(_0x95a466){const _0xa95751=_0x491f17['get'](_0x95a466[0xd7c+-0x25ff+0x1884])??_0x95a466[-0x6*-0x1bb+0x1781+0x10f1*-0x2],_0xbbbf41=_0x491f17['get'](_0x95a466[0xa2f+-0x189f+-0x1b*-0x89])??_0x95a466[-0x6*-0x466+0xc7*0x8+-0x5*0x685],_0x5c2c26=_0x95a466[-0x17f*-0x11+-0x4*-0x5ae+-0x3025];let _0x25afbf=!(-0x725*0x4+0x1*-0xd4d+0x14f1*0x2);switch(_0x5c2c26){case'==':_0x25afbf=_0xa95751===_0xbbbf41;break;case'!=':_0x25afbf=_0xa95751!==_0xbbbf41;break;case'<':_0x25afbf=_0xa95751<_0xbbbf41;break;case'<=':_0x25afbf=_0xa95751<=_0xbbbf41;break;case'>':_0x25afbf=_0xa95751>_0xbbbf41;break;case'>=':_0x25afbf=_0xa95751>=_0xbbbf41;break;}return{'result':_0x25afbf,'error':!_0x292196};}_0x26d3cd=_0x26d3cd['trim']();let _0x3b285b=_0x491f17['has'](_0x26d3cd);return _0x50e99c&&(_0x3b285b=!_0x3b285b),{'result':_0x3b285b,'error':!_0x292196};}};c(vs,'sourceName');let Oh=vs;const Jy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pc_fragC'+'olor;\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_1'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_1\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_2\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'2\x0alayout(l'+'ocation\x20=\x20'+'2)\x20out\x20hig'+'hp\x20outType'+'_2\x20pc_frag'+'Color2;\x0a#e'+'ndif\x0a#endi'+'f\x0a\x0a#ifndef'+'\x20REMOVE_CO'+'LOR_ATTACH'+'MENT_3\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_3\x0a'+'layout(loc'+'ation\x20=\x203)'+'\x20out\x20highp'+'\x20outType_3'+'\x20pc_fragCo'+'lor3;\x0a#end'+'if\x0a#endif\x0a'+'\x0a#ifndef\x20R'+'EMOVE_COLO'+'R_ATTACHME'+'NT_4\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'c_fragColo'+'r4;\x0a#endif'+'\x0a#endif\x0a\x0a#'+'ifndef\x20REM'+'OVE_COLOR_'+'ATTACHMENT'+'_5\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_5\x0alayo'+'ut(locatio'+'n\x20=\x205)\x20out'+'\x20highp\x20out'+'Type_5\x20pc_'+'fragColor5'+';\x0a#endif\x0a#'+'endif\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_6'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_6\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_7\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'7\x0alayout(l'+'ocation\x20=\x20'+'7)\x20out\x20hig'+'hp\x20outType'+'_7\x20pc_frag'+'Color7;\x0a#e'+'ndif\x0a#endi'+('f\x0a\x0a#define'+'\x20gl_FragCo'+'lor\x20pc_fra'+'gColor\x0a\x0a#d'+'efine\x20pcFr'+'agColor0\x20p'+'c_fragColo'+'r\x0a#define\x20'+'pcFragColo'+'r1\x20pc_frag'+'Color1\x0a#de'+'fine\x20pcFra'+'gColor2\x20pc'+'_fragColor'+'2\x0a#define\x20'+'pcFragColo'+'r3\x20pc_frag'+'Color3\x0a#de'+'fine\x20pcFra'+'gColor4\x20pc'+'_fragColor'+'4\x0a#define\x20'+'pcFragColo'+'r5\x20pc_frag'+'Color5\x0a#de'+'fine\x20pcFra'+'gColor6\x20pc'+'_fragColor'+'6\x0a#define\x20'+'pcFragColo'+'r7\x20pc_frag'+'Color7\x0a\x0a#d'+'efine\x20vary'+'ing\x20in\x0a\x0a#d'+'efine\x20text'+'ure2D\x20text'+'ure\x0a#defin'+'e\x20texture2'+'DBias\x20text'+'ure\x0a#defin'+'e\x20textureC'+'ube\x20textur'+'e\x0a#define\x20'+'texture2DP'+'roj\x20textur'+'eProj\x0a#def'+'ine\x20textur'+'e2DLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+'ure2DProjL'+'od\x20texture'+'ProjLod\x0a#d'+'efine\x20text'+'ureCubeLod'+'\x20textureLo'+'d\x0a#define\x20'+'texture2DG'+'rad\x20textur'+'eGrad\x0a#def'+'ine\x20textur'+'e2DProjGra'+'d\x20textureP'+'rojGrad\x0a#d'+'efine\x20text'+'ureCubeGra'+'d\x20textureG'+'rad\x0a#defin'+'e\x20utexture'+'2D\x20texture'+'\x0a#define\x20i'+'texture2D\x20'+'texture\x0a\x0a/'+'/\x20deprecat'+'ed\x20defines'+'\x0a#define\x20t'+'exture2DLo'+'dEXT\x20textu'+'re2DLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xture2DLod'+'_instead\x0a#'+'define\x20tex'+'ture2DProj'+'LodEXT\x20tex'+'ture2DProj'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjLod'+'\x0a#define\x20t'+'extureCube'+'LodEXT\x20tex'+'tureCubeLo'+'dEXT_is_no'+'_longer_su'+'pported_us')+('e_textureC'+'ubeLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DGradEXT\x20'+'texture2DG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DGrad_in'+'stead\x0a#def'+'ine\x20textur'+'e2DProjGra'+'dEXT\x20textu'+'re2DProjGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'2DProjGrad'+'_instead\x0a#'+'define\x20tex'+'tureCubeGr'+'adEXT\x20text'+'ureCubeGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_textureC'+'ubeGrad_in'+'stead\x0a\x0a//\x20'+'sample\x20sha'+'dows\x20using'+'\x20textureGr'+'ad\x20to\x20remo'+'ve\x20derivat'+'ives\x20in\x20th'+'e\x20dynamic\x20'+'loops\x20(whi'+'ch\x20are\x20use'+'d\x20by\x0a//\x20cl'+'ustered\x20li'+'ghting)\x20-\x20'+'as\x20DirectX'+'\x20shader\x20co'+'mpiler\x20tri'+'es\x20to\x20unro'+'ll\x20the\x20loo'+'ps\x20and\x20tak'+'es\x20long\x20ti'+'me\x0a//\x20to\x20c'+'ompile\x20the'+'\x20shader.\x20U'+'sing\x20textu'+'reLod\x20woul'+'d\x20be\x20even\x20'+'better,\x20bu'+'t\x20WebGl\x20do'+'es\x20not\x20tra'+'nslate\x20it\x20'+'to\x0a//\x20lod\x20'+'instructio'+'n\x20for\x20Dire'+'ctX\x20correc'+'tly\x20and\x20us'+'es\x20SampleC'+'mp\x20instead'+'\x20of\x20Sample'+'CmpLevelZe'+'ro\x20or\x20simi'+'lar.\x0a#defi'+'ne\x20texture'+'Shadow(res'+',\x20uv)\x20text'+'ureGrad(re'+'s,\x20uv,\x20vec'+'2(1,\x201),\x20v'+'ec2(1,\x201))'+'\x0a\x0a//\x20pass\x20'+'/\x20accept\x20s'+'hadow\x20map\x20'+'or\x20texture'+'\x20as\x20a\x20func'+'tion\x20param'+'eter,\x20on\x20w'+'ebgl\x20this\x20'+'is\x20simply\x20'+'passed\x20as\x20'+'is\x0a//\x20but\x20'+'this\x20is\x20ne'+'eded\x20for\x20W'+'ebGPU\x0a#def'+'ine\x20SHADOW'+'MAP_PASS(n'+'ame)\x20name\x0a'+'#define\x20SH'+'ADOWMAP_AC'+'CEPT(name)'+'\x20sampler2D')+('Shadow\x20nam'+'e\x0a#define\x20'+'TEXTURE_PA'+'SS(name)\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20sampler'+'2D\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'_HIGHP(nam'+'e)\x20highp\x20s'+'ampler2D\x20n'+'ame\x0a\x0a#defi'+'ne\x20GL2\x0a'),e0='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',t0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pc_fragCol'+'or;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'layout(loc'+'ation\x20=\x202)'+'\x20out\x20highp'+'\x20outType_2'+'\x20pc_fragCo'+'lor2;\x0alayo'+'ut(locatio'+'n\x20=\x203)\x20out'+'\x20highp\x20out'+'Type_3\x20pc_'+'fragColor3'+';\x0alayout(l'+'ocation\x20=\x20'+'4)\x20out\x20hig'+'hp\x20outType'+'_4\x20pc_frag'+'Color4;\x0ala'+'yout(locat'+'ion\x20=\x205)\x20o'+'ut\x20highp\x20o'+'utType_5\x20p'+'c_fragColo'+'r5;\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'layout(loc'+'ation\x20=\x207)'+'\x20out\x20highp'+'\x20outType_7'+'\x20pc_fragCo'+'lor7;\x0a\x0a#de'+'fine\x20gl_Fr'+'agColor\x20pc'+'_fragColor'+'\x0a\x0a#define\x20'+'pcFragColo'+'r0\x20pc_frag'+'Color\x0a#def'+('ine\x20pcFrag'+'Color1\x20pc_'+'fragColor1'+'\x0a#define\x20p'+'cFragColor'+'2\x20pc_fragC'+'olor2\x0a#def'+'ine\x20pcFrag'+'Color3\x20pc_'+'fragColor3'+'\x0a#define\x20p'+'cFragColor'+'4\x20pc_fragC'+'olor4\x0a#def'+'ine\x20pcFrag'+'Color5\x20pc_'+'fragColor5'+'\x0a#define\x20p'+'cFragColor'+'6\x20pc_fragC'+'olor6\x0a#def'+'ine\x20pcFrag'+'Color7\x20pc_'+'fragColor7'+'\x0a\x0a#define\x20'+'texture2D('+'res,\x20uv)\x20t'+'exture(sam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a#defin'+'e\x20texture2'+'DBias(res,'+'\x20uv,\x20bias)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20bias'+')\x0a#define\x20'+'texture2DL'+'od(res,\x20uv'+',\x20lod)\x20tex'+'tureLod(sa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv,\x20lod)\x0a'+'#define\x20te'+'xtureCube('+'res,\x20uv)\x20t'+'exture(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20textur'+'eCubeLod(r'+'es,\x20uv,\x20lo'+'d)\x20texture'+'Lod(sample'+'rCube(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x20lod)\x0a#d'+'efine\x20text'+'ureShadow('+'res,\x20uv)\x20t'+'extureLod('+'sampler2DS'+'hadow(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x200.0)\x0a#d'+'efine\x20itex'+'ture2D(res'+',\x20uv)\x20text'+'ure(isampl'+'er2D(res,\x20'+'res\x20##\x20_sa'+'mpler),\x20uv'+')\x0a#define\x20'+'utexture2D'+'(res,\x20uv)\x20'+'texture(us'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a\x0a//\x20'+'deprecated'+'\x20defines\x0a#'+'define\x20tex'+'ture2DLodE'+'XT\x20texture'+'2DLodEXT_i'+'s_no_longe'+'r_supporte'+'d_use_text'+'ure2DLod_i')+('nstead\x0a#de'+'fine\x20textu'+'re2DProjLo'+'dEXT\x20textu'+'re2DProjLo'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DProjLod\x0a#'+'define\x20tex'+'tureCubeLo'+'dEXT\x20textu'+'reCubeLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eLod_inste'+'ad\x0a#define'+'\x20texture2D'+'GradEXT\x20te'+'xture2DGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DGrad_inst'+'ead\x0a#defin'+'e\x20texture2'+'DProjGradE'+'XT\x20texture'+'2DProjGrad'+'EXT_is_no_'+'longer_sup'+'ported_use'+'_texture2D'+'ProjGrad_i'+'nstead\x0a#de'+'fine\x20textu'+'reCubeGrad'+'EXT\x20textur'+'eCubeGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eGrad_inst'+'ead\x0a\x0a//\x20TO'+'DO:\x20implem'+'ent\x20other\x20'+'texture\x20sa'+'mpling\x20mac'+'ros\x0a//\x20#de'+'fine\x20textu'+'re2DProj\x20t'+'extureProj'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a//\x20#de'+'fine\x20textu'+'re2DGrad\x20t'+'extureGrad'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjGrad\x20'+'texturePro'+'jGrad\x0a//\x20#'+'define\x20tex'+'tureCubeGr'+'ad\x20texture'+'Grad\x0a\x0a//\x20p'+'ass\x20/\x20acce'+'pt\x20shadow\x20'+'map\x20as\x20a\x20f'+'unction\x20pa'+'rameter,\x20p'+'asses\x20both'+'\x20the\x20textu'+'re\x20as\x20well'+'\x20as\x20sample'+'r\x0a//\x20as\x20th'+'e\x20combined'+'\x20sampler\x20c'+'an\x20be\x20only'+'\x20created\x20a'+'t\x20a\x20point\x20'+'of\x20use\x0a#de'+'fine\x20SHADO'+'WMAP_PASS('+'name)\x20name'+',\x20name\x20##\x20'+'_sampler\x0a#'+'define\x20SHA'+'DOWMAP_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp')+('ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_PAS'+'S(name)\x20na'+'me,\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp'+'ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT_HIGHP\x20'+'TEXTURE_AC'+'CEPT\x0a\x0a#def'+'ine\x20GL2\x0a#d'+'efine\x20WEBG'+'PU\x0a'),s0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',Cm='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',Qv={'vertex_position':He,'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_texCoord2':jo,'vertex_texCoord3':Yo,'vertex_texCoord4':Ko,'vertex_texCoord5':Zo,'vertex_texCoord6':Qo,'vertex_texCoord7':Jo,'vertex_color':At,'vertex_boneIndices':qt,'vertex_boneWeights':Ys};class Mt{static['createDefi'+'nition'](_0x4927db,_0x51b246){v['assert'](_0x51b246),v['assert'](!_0x51b246['vertexDefi'+'nes']||_0x51b246['vertexDefi'+'nes']instanceof Map),v['assert'](!_0x51b246['vertexIncl'+'udes']||_0x51b246['vertexIncl'+'udes']instanceof Map),v['assert'](!_0x51b246['fragmentDe'+'fines']||_0x51b246['fragmentDe'+'fines']instanceof Map),v['assert'](!_0x51b246['fragmentIn'+'cludes']||_0x51b246['fragmentIn'+'cludes']instanceof Map);const _0x39fecf=(_0x38a078,_0x55156a,_0x2d422a,_0x2e3b91)=>{const _0x478084=_0x4927db['isWebGPU']?_0x38a078:_0x55156a;let _0x114578='';if(!_0x2d422a){let _0x5d971e=_0x2e3b91['fragmentOu'+'tputTypes']??'vec4';Array['isArray'](_0x5d971e)||(_0x5d971e=[_0x5d971e]);for(let _0x5effec=-0x5*0x37b+-0x1*0x16d6+0x283d;_0x5effec<_0x4927db['maxColorAt'+'tachments'];_0x5effec++){_0x114578+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x5effec+'\x0a';const _0x3bd4ad=_0x5d971e[_0x5effec]??'vec4';_0x114578+='#define\x20ou'+'tType_'+_0x5effec+'\x20'+_0x3bd4ad+'\x0a';}}return _0x114578+_0x478084;},_0x2d262d=_0x51b246['name']??'Untitled';let _0x590b71,_0x444112;return _0x51b246['shaderLang'+'uage']===Ph?(_0x590b71=_0x51b246['vertexCode'],_0x444112=_0x51b246['fragmentCo'+'de']):(_0x590b71=Mt['versionCod'+'e'](_0x4927db)+_0x39fecf(s0,e0,!(0x21*0x95+0x4*0x69b+0x2da1*-0x1),_0x51b246)+Mt['getDefines'+'Code'](_0x51b246['vertexDefi'+'nes'])+Mt['precisionC'+'ode'](_0x4927db)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x2d262d)+_0x51b246['vertexCode'],_0x444112=(_0x51b246['fragmentPr'+'eamble']||'')+Mt['versionCod'+'e'](_0x4927db)+_0x39fecf(t0,Jy,!(-0x78b+-0x175*0x12+-0x1*-0x21c6),_0x51b246)+Mt['getDefines'+'Code'](_0x51b246['fragmentDe'+'fines'])+Mt['precisionC'+'ode'](_0x4927db)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x2d262d)+(_0x51b246['fragmentCo'+'de']||Mt['dummyFragm'+'entCode']())),{'name':_0x2d262d,'shaderLanguage':_0x51b246['shaderLang'+'uage']??ky,'attributes':_0x51b246['attributes'],'vshader':_0x590b71,'vincludes':_0x51b246['vertexIncl'+'udes'],'fincludes':_0x51b246['fragmentIn'+'cludes'],'fshader':_0x444112,'useTransformFeedback':_0x51b246['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x51b246['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x51b246['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0xebe783){let _0x5aeba9='';return _0xebe783==null||_0xebe783['forEach']((_0xc3c846,_0x573340)=>{_0x5aeba9+='#define\x20'+_0x573340+'\x20'+_0xc3c846+'\x0a';}),_0x5aeba9;}static['getShaderN'+'ameCode'](_0x634913){return'#define\x20SH'+'ADER_NAME\x20'+_0x634913+'\x0a';}static['dummyFragm'+'entCode'](){return'void\x20main('+'void)\x20{gl_'+'FragColor\x20'+'=\x20vec4(0.0'+');}';}static['versionCod'+'e'](_0x21f015){return _0x21f015['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x108139,_0x48120b){_0x48120b&&_0x48120b!=='highp'&&_0x48120b!=='mediump'&&_0x48120b!=='lowp'&&(_0x48120b=null),_0x48120b&&(_0x48120b==='highp'&&_0x108139['maxPrecisi'+'on']!=='highp'&&(_0x48120b='mediump'),_0x48120b==='mediump'&&_0x108139['maxPrecisi'+'on']==='lowp'&&(_0x48120b='lowp'));const _0x809c04=_0x48120b||_0x108139['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x809c04+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x809c04+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x809c04+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x809c04+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x809c04+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x809c04+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x809c04+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x805a9c){const _0x5a71e2={};let _0x39b318=-0x1a3*0x13+-0xe*0x19e+0x35bd,_0x152748=_0x805a9c['indexOf']('attribute');for(;_0x152748>=0x72a*-0x1+-0x228b+-0xde7*-0x3&&!(_0x152748>0x60d+0x6*-0xc6+0x1*-0x169&&_0x805a9c[_0x152748-(0x24cf+0x1ce4+0x3*-0x15e6)]==='/');){let _0x5178a5=!(-0x62e+-0x1a*-0x4+0x1*0x5c7);if(_0x152748>0x2*-0xd8d+0x698+0x1482){let _0x22f5fe=_0x805a9c['lastIndexO'+'f']('\x0a',_0x152748);_0x22f5fe=_0x22f5fe!==-(-0x301*-0x5+0x1*-0x1d23+-0x4b5*-0x3)?_0x22f5fe+(-0x15c8+0xfc6+0x603):0x259*-0x2+-0x1*-0x4c1+-0xf,_0x805a9c['substring'](_0x22f5fe,_0x152748)['includes']('#')&&(_0x5178a5=!(0x6*0x473+0x1d1c+-0x37ce));}if(!_0x5178a5){const _0x2ba6df=_0x805a9c['indexOf'](';',_0x152748),_0x5a2a53=_0x805a9c['lastIndexO'+'f']('\x20',_0x2ba6df),_0x3555a1=_0x805a9c['substring'](_0x5a2a53+(-0x1a*0x121+-0x1ba*0x4+0x2443),_0x2ba6df);if(_0x5a71e2[_0x3555a1])v['warn']('Attribute\x20'+'['+_0x3555a1+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x805a9c});else{const _0x1473c6=Qv[_0x3555a1];_0x1473c6!==void(0x17e5*-0x1+0x262b+-0x1d*0x7e)?_0x5a71e2[_0x3555a1]=_0x1473c6:(_0x5a71e2[_0x3555a1]='ATTR'+_0x39b318,_0x39b318++);}}_0x152748=_0x805a9c['indexOf']('attribute',_0x152748+(0x15c4+0x77*0x29+-0x13*0x226));}return _0x5a71e2;}}let Jv=-0x260b+0x2163+0x4a8;class i0{constructor(_0x557b47,_0x5c6e46){c(this,'meshUnifor'+'mBufferFor'+'mat'),c(this,'meshBindGr'+'oupFormat');if(this['id']=Jv++,this['device']=_0x557b47,this['definition']=_0x5c6e46,this['name']=_0x5c6e46['name']||'Untitled',this['init'](),_0x5c6e46['cshader'])v['assert'](_0x557b47['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),v['assert'](!_0x5c6e46['vshader']&&!_0x5c6e46['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.');else{v['assert'](_0x5c6e46['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),v['assert'](_0x5c6e46['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),_0x5c6e46['vshader']=Oh['run'](_0x5c6e46['vshader'],_0x5c6e46['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label']}),_0x5c6e46['shaderLang'+'uage']===ky&&(_0x5c6e46['attributes']??(_0x5c6e46['attributes']=Mt['collectAtt'+'ributes'](_0x5c6e46['vshader'])));const _0x7364d2=_0x557b47['isWebGL2']&&(ye['name']==='osx'||ye['name']==='ios');_0x5c6e46['fshader']=Oh['run'](_0x5c6e46['fshader'],_0x5c6e46['fincludes'],{'stripUnusedColorAttachments':_0x7364d2,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']});}this['impl']=_0x557b47['createShad'+'erImpl'](this),v['trace'](Zp,'Alloc:\x20'+this['label']+',\x20stack:\x20'+G['toString'](),{'instance':this});}['init'](){this['ready']=!(-0x197*-0x13+-0x595+0x189f*-0x1),this['failed']=!(-0x1a11*-0x1+-0xc8d+-0xd83);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20'+this['name'];}['destroy'](){v['trace'](Zp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class eb{constructor(){c(this,'storage'),c(this,'gpuBuffer'),c(this,'offset');}}const Te=[];Te[$s]=function(_0x7397ff,_0x51ff75,_0x49df21){const _0x39c0e3=_0x7397ff['storageFlo'+'at32'];_0x39c0e3[_0x49df21]=_0x51ff75;},Te[or]=(_0x5d2c40,_0x2865cb,_0x388f8d)=>{const _0x24cfff=_0x5d2c40['storageFlo'+'at32'];_0x24cfff[_0x388f8d]=_0x2865cb[0x19*-0x2+0x261b+-0x25e9],_0x24cfff[_0x388f8d+(0xfb5+-0x7ed*-0x4+0x8*-0x5ed)]=_0x2865cb[0x2225*0x1+0x6fc+-0x2920];},Te[$t]=(_0x3bba90,_0x19aacc,_0x2b40f5)=>{const _0x30b8c0=_0x3bba90['storageFlo'+'at32'];_0x30b8c0[_0x2b40f5]=_0x19aacc[-0x20e2+-0x1d20+0x1*0x3e02],_0x30b8c0[_0x2b40f5+(-0x14*-0x108+-0x17a5*-0x1+-0x2c44)]=_0x19aacc[0x1e*-0x10+0x213d+-0x1f5c],_0x30b8c0[_0x2b40f5+(0xf4f*0x1+0x1c65+-0x2bb2*0x1)]=_0x19aacc[0xd*0x199+0x1edb+-0x339e];},Te[xa]=(_0x58f11c,_0x50e5df,_0x20a127)=>{const _0x599ef8=_0x58f11c['storageFlo'+'at32'];_0x599ef8[_0x20a127]=_0x50e5df[0x15e3+-0x3*-0x8e0+-0x469*0xb],_0x599ef8[_0x20a127+(0x1fc7+-0xca6+-0x20*0x99)]=_0x50e5df[-0x4*0x4ea+-0x625+0x19ce],_0x599ef8[_0x20a127+(-0x2033+0x5af+0xe*0x1e5)]=_0x50e5df[-0xf95+0x48e*-0x8+0x3407],_0x599ef8[_0x20a127+(-0xa*0x27f+-0x1*0xb51+-0x2*-0x1225)]=_0x50e5df[0xe7b+-0x23c6+0x154e];},Te[ln]=function(_0x5865cf,_0x2e5f05,_0x300e4d){const _0x580a25=_0x5865cf['storageInt'+'32'];_0x580a25[_0x300e4d]=_0x2e5f05;},Te[Zr]=function(_0x5e33d9,_0x57abf7,_0x5a09dc){const _0x21da64=_0x5e33d9['storageInt'+'32'];_0x21da64[_0x5a09dc]=_0x57abf7[-0xb57*0x3+0x4f4+-0x427*-0x7],_0x21da64[_0x5a09dc+(0x845+-0x760+-0xc*0x13)]=_0x57abf7[-0x1fd6+0x1a37+0xb4*0x8];},Te[Qr]=function(_0x182df0,_0x16ad47,_0x1b7940){const _0x5a29cc=_0x182df0['storageInt'+'32'];_0x5a29cc[_0x1b7940]=_0x16ad47[0x345+-0x1*0x207d+0xb*0x2a8],_0x5a29cc[_0x1b7940+(0x59c+-0x445*-0x9+-0x2c08)]=_0x16ad47[-0x1480+0x1682+0x39*-0x9],_0x5a29cc[_0x1b7940+(-0x1c68+0x23b6+-0x4*0x1d3)]=_0x16ad47[0x8e4+0x16ae+-0x1f90];},Te[Jr]=function(_0x2b775f,_0x24306a,_0x5f34c9){const _0x2e0fc6=_0x2b775f['storageInt'+'32'];_0x2e0fc6[_0x5f34c9]=_0x24306a[-0xf4*-0x27+0x1a09+0x1*-0x3f35],_0x2e0fc6[_0x5f34c9+(-0x1b99+0x1000+0xb9a)]=_0x24306a[-0x133c*0x1+-0x1*-0x259d+-0x1260],_0x2e0fc6[_0x5f34c9+(0x866+-0x4*-0x1d0+0x23c*-0x7)]=_0x24306a[0x1*-0xa9+-0x937+0x37*0x2e],_0x2e0fc6[_0x5f34c9+(-0x7c*0x49+-0xce9+0x3048)]=_0x24306a[0x55*0x73+-0x5f*0x46+-0xc32];},Te[Rh]=(_0x4df9bb,_0x245a57,_0x39c582)=>{const _0x5d8403=_0x4df9bb['storageFlo'+'at32'];_0x5d8403[_0x39c582]=_0x245a57[0x8*-0x2dc+-0x2047*0x1+0x3727],_0x5d8403[_0x39c582+(0x2*0xb5a+-0x7*-0x224+-0x36d*0xb)]=_0x245a57[0x2*-0xca1+0x1487*-0x1+0x2dca],_0x5d8403[_0x39c582+(0x1951*-0x1+0x1601*0x1+0x354)]=_0x245a57[0xd*0x106+-0x2*0xf07+0x10c2],_0x5d8403[_0x39c582+(0xe4b+0x2672+-0x697*0x8)]=_0x245a57[0x328*0x1+-0x21f0+0x1ecb],_0x5d8403[_0x39c582+(0x44*0x50+-0xc1*-0x11+-0x1*0x2209)]=_0x245a57[0x16*0x17b+0x34*-0x8c+0x1*-0x41e],_0x5d8403[_0x39c582+(-0x1*0x6ad+-0x5*-0x389+0x1*-0xaf7)]=_0x245a57[0x10*0x65+0x13ae+-0x19f9];},Te[ko]=(_0x3898ce,_0x5b4ffb,_0x3f5fee)=>{const _0x3077ee=_0x3898ce['storageFlo'+'at32'];_0x3077ee[_0x3f5fee]=_0x5b4ffb[0x1*0x1de1+0x3a1+-0x2182],_0x3077ee[_0x3f5fee+(0xf9*0x24+0x4*0x6e4+-0x3e93)]=_0x5b4ffb[-0x74b*0x1+-0xe1*-0xe+-0x502],_0x3077ee[_0x3f5fee+(-0x5*0x721+-0x9ae+0x41f*0xb)]=_0x5b4ffb[-0x4eb+0x16d+-0x10*-0x38],_0x3077ee[_0x3f5fee+(-0x252d*-0x1+-0x187+-0x23a2)]=_0x5b4ffb[0x6d+0x1*0x97+-0x101],_0x3077ee[_0x3f5fee+(-0x101a+0x1*0x14e7+-0x4c8)]=_0x5b4ffb[0x11*-0x107+-0x15c1*-0x1+-0x223*0x2],_0x3077ee[_0x3f5fee+(-0x1788+0xeb1+0x8dd*0x1)]=_0x5b4ffb[0x16c3*0x1+-0x6*0x592+-0xaae*-0x1],_0x3077ee[_0x3f5fee+(0x24d4+0x2*0x5d+0x12c3*-0x2)]=_0x5b4ffb[-0x1*0x1c89+-0x2*0x829+0x2ce1],_0x3077ee[_0x3f5fee+(0x2668*-0x1+0xd1c+0x1955)]=_0x5b4ffb[0x755+-0xa*0x2a6+0x132e],_0x3077ee[_0x3f5fee+(-0x222b+0x121*0x22+-0x42d)]=_0x5b4ffb[-0x17fe+-0xeb*-0xd+0xc17];},Te[Dc]=function(_0x5ede90,_0x26a103,_0x1a2255,_0x2f18c9){const _0x138b94=_0x5ede90['storageFlo'+'at32'];for(let _0x211ffa=-0x1*0x18cb+0x68*-0x53+0x3*0x1381;_0x211ffa<_0x2f18c9;_0x211ffa++)_0x138b94[_0x1a2255+_0x211ffa*(-0x23bd+-0x387+0x2748)]=_0x26a103[_0x211ffa];},Te[Lc]=(_0x10390c,_0x3acf90,_0x197f87,_0x405cc4)=>{const _0x4911e2=_0x10390c['storageFlo'+'at32'];for(let _0x5b98b0=0x21f+0x1c05+-0x1*0x1e24;_0x5b98b0<_0x405cc4;_0x5b98b0++)_0x4911e2[_0x197f87+_0x5b98b0*(0x90b*-0x1+0x21db*-0x1+0x2aea)]=_0x3acf90[_0x5b98b0*(-0xdc7*0x1+-0x107d+0x1e46)],_0x4911e2[_0x197f87+_0x5b98b0*(0x490*0x1+-0x1021+0xb95)+(0x11c2+0x17f7+-0x29b8)]=_0x3acf90[_0x5b98b0*(-0xb9*0x16+-0x80a+0x17f2)+(-0x2*-0x626+-0x46b*-0x5+-0x6*0x5bb)];},Te[Fc]=(_0x529f8a,_0x17da60,_0x32c6a4,_0x2191b7)=>{const _0x3b9939=_0x529f8a['storageFlo'+'at32'];for(let _0x2cdbc5=-0x15b3*-0x1+0x3*0x2d8+0x47*-0x6d;_0x2cdbc5<_0x2191b7;_0x2cdbc5++)_0x3b9939[_0x32c6a4+_0x2cdbc5*(-0x126b*0x1+-0x2a*-0xa7+-0x8f7)]=_0x17da60[_0x2cdbc5*(0x424+-0x1*0x1615+0x1*0x11f4)],_0x3b9939[_0x32c6a4+_0x2cdbc5*(0x2*0x1387+0x2*0x41b+0x5e8*-0x8)+(0x13de+0x1f71+0x6*-0x88d)]=_0x17da60[_0x2cdbc5*(0x1*-0x257e+0x1476+0x110b*0x1)+(0xc53+-0x2408*0x1+-0x17b6*-0x1)],_0x3b9939[_0x32c6a4+_0x2cdbc5*(0x1*0x647+-0x1*-0xd4f+-0xa*0x1f5)+(-0x13*0x17+0xd*0x144+-0xebd)]=_0x17da60[_0x2cdbc5*(-0x151*0x3+0x13da+0x6*-0x2a6)+(-0x29f*-0xd+0x23fc+-0x460d)];},Te[va]=(_0x5461b8,_0x10bb33,_0x525b0c,_0x13ae62)=>{const _0x10586b=_0x5461b8['storageUin'+'t32'];_0x10586b[_0x525b0c]=_0x10bb33;},Te[ba]=(_0x5bccb9,_0x49a5b5,_0x3d133f,_0x1b4145)=>{const _0x3024b5=_0x5bccb9['storageUin'+'t32'];_0x3024b5[_0x3d133f]=_0x49a5b5[-0x1b1b+0xb*-0x36e+0x40d5*0x1],_0x3024b5[_0x3d133f+(-0x1*-0x1a4b+0x309+-0x1d53)]=_0x49a5b5[0x1*-0x24a3+0x22ed*0x1+0x1b7];},Te[wa]=(_0x1b426e,_0x24f84b,_0x998ba2,_0x1a2196)=>{const _0x3777f0=_0x1b426e['storageUin'+'t32'];_0x3777f0[_0x998ba2]=_0x24f84b[0xb09+0x7*0x56f+-0x23b*0x16],_0x3777f0[_0x998ba2+(0x459*-0x1+0x3e5*-0x1+0x83f)]=_0x24f84b[-0x3*0x9ff+0x14f*0x6+0x4*0x589],_0x3777f0[_0x998ba2+(-0x160f*-0x1+0x1f40+-0x354d)]=_0x24f84b[0x1249*-0x1+-0x2*-0x1106+-0xfc1];},Te[Ta]=(_0x2a8332,_0x330ee0,_0x464048,_0x10877d)=>{const _0x16100b=_0x2a8332['storageUin'+'t32'];_0x16100b[_0x464048]=_0x330ee0[-0x1edd+0x88+-0x611*-0x5],_0x16100b[_0x464048+(0x1a54+0xc4e+-0x26a1*0x1)]=_0x330ee0[-0x29b+-0xd5*-0x1f+0x4a3*-0x5],_0x16100b[_0x464048+(0xbfa+0x1b*-0x101+-0x5*-0x307)]=_0x330ee0[-0x11d9*-0x1+-0x13d9*-0x1+-0x25b0],_0x16100b[_0x464048+(0x1*0x8c6+0x252f+-0x2df2*0x1)]=_0x330ee0[-0x169*-0x2+-0x2311+-0x2042*-0x1];},Te[Aa]=function(_0x3cc99c,_0x208312,_0x31db0a,_0x54f762){const _0x113248=_0x3cc99c['storageInt'+'32'];for(let _0x515518=-0x1bc0+-0x22b8+0x8*0x7cf;_0x515518<_0x54f762;_0x515518++)_0x113248[_0x31db0a+_0x515518*(-0x7f5+0x8*0x16+0x749)]=_0x208312[_0x515518];},Te[kc]=Te[Aa],Te[Oc]=function(_0x1810f3,_0x341051,_0x1a9e1b,_0x311204){const _0x4ecafa=_0x1810f3['storageUin'+'t32'];for(let _0x101779=0x7*0x321+0x10*-0x50+0x10e7*-0x1;_0x101779<_0x311204;_0x101779++)_0x4ecafa[_0x1a9e1b+_0x101779*(-0xc00+0x33*0xd+0x1*0x96d)]=_0x341051[_0x101779];},Te[Ea]=(_0x3d8427,_0x21afda,_0x953049,_0x2f95de)=>{const _0x491f64=_0x3d8427['storageInt'+'32'];for(let _0x2313be=0x1021+0x455*-0x3+-0x322;_0x2313be<_0x2f95de;_0x2313be++)_0x491f64[_0x953049+_0x2313be*(-0x488+0x12d1+-0xe45)]=_0x21afda[_0x2313be*(-0xd*0x68+0x16d9+0x1d*-0x9b)],_0x491f64[_0x953049+_0x2313be*(-0x2397+-0x1ac5+0x3e60)+(-0x266e+0xd4b+0x1924*0x1)]=_0x21afda[_0x2313be*(0x1*0x1de7+0x2063+-0x3e48)+(-0x16fb*0x1+0x15a3*0x1+0x3*0x73)];},Te[Nc]=Te[Ea],Te[Bc]=(_0x22d555,_0x34a41c,_0x1a7790,_0x3f58af)=>{const _0x3cb36d=_0x22d555['storageUin'+'t32'];for(let _0x1f66aa=0x3*0xcec+0x1f1c+-0x45e0;_0x1f66aa<_0x3f58af;_0x1f66aa++)_0x3cb36d[_0x1a7790+_0x1f66aa*(0x3e*0x62+0xdf3*0x1+-0x25ab)]=_0x34a41c[_0x1f66aa*(-0x2623+0x2*-0xc22+0x3e69)],_0x3cb36d[_0x1a7790+_0x1f66aa*(0x1777+-0x17b3+0x40)+(-0xf70+-0x3*0x4d2+0x1de7)]=_0x34a41c[_0x1f66aa*(0x24d0+-0x88+-0x2446*0x1)+(-0x1f55+-0x1a43+0x3999)];},Te[Ca]=(_0x48bf1a,_0x227e07,_0x6a83a8,_0x3d2a76)=>{const _0x21c237=_0x48bf1a['storageInt'+'32'];for(let _0x3b086a=0x2644+0x2433+-0xb*0x6c5;_0x3b086a<_0x3d2a76;_0x3b086a++)_0x21c237[_0x6a83a8+_0x3b086a*(0x2*0x4d8+0x1989+-0x2335*0x1)]=_0x227e07[_0x3b086a*(0x1*0x18e+-0x773*-0x4+-0x1f57)],_0x21c237[_0x6a83a8+_0x3b086a*(0x1*0x17b6+-0x57*0x59+0x68d)+(0xb7+-0xb65*0x3+0x2179*0x1)]=_0x227e07[_0x3b086a*(-0x3*0x45f+0x614*0x3+-0xda*0x6)+(-0xfe*0x10+-0x1*-0x25ea+0x1*-0x1609)],_0x21c237[_0x6a83a8+_0x3b086a*(0x3be*0x9+-0x1997+-0x813)+(-0x1f88+-0x64d+0x25d7)]=_0x227e07[_0x3b086a*(0x135a+0x2cf*-0x6+-0x27d)+(-0xa7e+-0x13e6+0x1*0x1e66)];},Te[Uc]=Te[Ca],Te[zc]=(_0x9b5d3d,_0x23a1a5,_0x4db428,_0x250de2)=>{const _0x4318be=_0x9b5d3d['storageUin'+'t32'];for(let _0x2283fa=0xd4+-0x119*0x17+0x186b;_0x2283fa<_0x250de2;_0x2283fa++)_0x4318be[_0x4db428+_0x2283fa*(0x1*0x18b7+0x140a+-0x1*0x2cbd)]=_0x23a1a5[_0x2283fa*(0x4f2+-0x18d8+-0x1*-0x13e9)],_0x4318be[_0x4db428+_0x2283fa*(0x4*-0x1cc+-0x1*0x1445+0x1b79)+(0xd6+-0xeb4+0x35*0x43)]=_0x23a1a5[_0x2283fa*(0x7b*-0x51+0x18a6+0xe48)+(0x2*0xc1a+-0x759+-0x2cf*0x6)],_0x4318be[_0x4db428+_0x2283fa*(-0x1*-0x10b3+0x26ef*-0x1+0x1640)+(-0x2224+0x253a+-0x18a*0x2)]=_0x23a1a5[_0x2283fa*(0x21d9+0x1*0x1b2b+-0x3d01)+(0x44*0x24+0x11*-0x69+-0x295)];};class gp{constructor(_0x19d85b,_0x2a1593,_0x159f22=!(0x18d9*0x1+-0x1*0x12dd+-0x2*0x2fe)){c(this,'device'),c(this,'persistent'),c(this,'allocation'),c(this,'storageFlo'+'at32'),c(this,'storageInt'+'32'),c(this,'storageUin'+'t32'),c(this,'renderVers'+'ionDirty',0x11*0x86+0x1a47+-0x232d);if(this['device']=_0x19d85b,this['format']=_0x2a1593,this['persistent']=_0x159f22,v['assert'](_0x2a1593),_0x159f22){this['impl']=_0x19d85b['createUnif'+'ormBufferI'+'mpl'](this);const _0x502d03=new ArrayBuffer(_0x2a1593['byteSize']);this['assignStor'+'age'](new Int32Array(_0x502d03)),_0x19d85b['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new eb();}['destroy'](){if(this['persistent']){const _0x4460de=this['device'];this['impl']['destroy'](_0x4460de),_0x4460de['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?-0xa1b*-0x1+-0x21c4+0x2a1*0x9:this['allocation']['offset'];}['assignStor'+'age'](_0x10ca08){this['storageInt'+'32']=_0x10ca08,this['storageUin'+'t32']=new Uint32Array(_0x10ca08['buffer'],_0x10ca08['byteOffset'],_0x10ca08['byteLength']/(0x22*-0x5c+0x1c9d+-0x1061*0x1)),this['storageFlo'+'at32']=new Float32Array(_0x10ca08['buffer'],_0x10ca08['byteOffset'],_0x10ca08['byteLength']/(0x2*0x113c+0x26eb+0x1*-0x495f));}['loseContex'+'t'](){var _0x47e1a8;(_0x47e1a8=this['impl'])==null||_0x47e1a8['loseContex'+'t']();}['setUniform'](_0x33789c,_0x167d96){v['assert'](_0x33789c);const _0x4aa7aa=_0x33789c['offset'];if(_0x167d96!=null){const _0x1a30c5=Te[_0x33789c['updateType']];_0x1a30c5?_0x1a30c5(this,_0x167d96,_0x4aa7aa,_0x33789c['count']):this['storageFlo'+'at32']['set'](_0x167d96,_0x4aa7aa);}else v['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x33789c['name']+('],\x20expecte'+'d\x20type\x20')+dp[_0x33789c['type']]+('\x20while\x20ren'+'dering\x20')+G['toString']());}['set'](_0xb6247f,_0x1af5cf){const _0x191da7=this['format']['map']['get'](_0xb6247f);v['assert'](_0x191da7,'Uniform\x20na'+'me\x20['+_0xb6247f+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x191da7&&this['setUniform'](_0x191da7,_0x1af5cf);}['startUpdat'+'e'](_0x508e08){if(!this['persistent']){const _0x3a0e7e=this['allocation'],_0x57b401=_0x3a0e7e['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x3a0e7e,this['format']['byteSize']),this['assignStor'+'age'](_0x3a0e7e['storage']),_0x508e08&&(_0x508e08['bindGroup']=_0x3a0e7e['gpuBuffer']['getBindGro'+'up'](this),_0x508e08['offsets'][0x6c1*-0x1+0xc28+-0x1cd*0x3]=_0x3a0e7e['offset']),_0x57b401!==_0x3a0e7e['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x3a5f3e){this['startUpdat'+'e'](_0x3a5f3e);const _0x343dbb=this['format']['uniforms'];for(let _0x2c67f5=0x61d*0x1+0x16*-0x1aa+0x1e7f;_0x2c67f5<_0x343dbb['length'];_0x2c67f5++){const _0x335d37=_0x343dbb[_0x2c67f5]['scopeId']['value'];this['setUniform'](_0x343dbb[_0x2c67f5],_0x335d37);}this['endUpdate']();}}class tb{constructor(){c(this,'frameAlloc'+'ations',[]),c(this,'pastFrameA'+'llocations',new Map()),c(this,'_enabled',!(-0x5e*0x3d+0x1e63*-0x1+0x34ca)),c(this,'_enableReq'+'uest',!(0x42*0x19+-0xcb3*0x2+0x12f5)),c(this,'_frameTime',-0xcbd+0x2633+-0x1976);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x4b58ce){this['_enableReq'+'uest']=_0x4b58ce;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=-0x75*-0x1f+-0x255*-0x1+0x210*-0x8));}['request'](_0xfba1a2){this['pastFrameA'+'llocations']['set'](_0xfba1a2,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x1a08f5,_0x1623e1){if(_0x1623e1){const _0x3a6a91=this['pastFrameA'+'llocations']['get'](_0x1a08f5);if(v['assert'](_0x3a6a91['length']===_0x1623e1['length']),_0x1623e1['length']>0xb*0x376+0x3b*-0x21+0xb*-0x2c5&&(this['_frameTime']=_0x1623e1[0x1b6f+0x1be7+-0x3756]),Xs['get'](ml)){v['trace'](ml,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x1a08f5+'\x20--');let _0x48add8=-0x116*0x15+-0x105b+-0x2729*-0x1;for(let _0x40f4e7=0x1435+-0x1cd6+0x8a1;_0x40f4e7<_0x3a6a91['length'];++_0x40f4e7){const _0x186bd6=_0x3a6a91[_0x40f4e7];_0x48add8+=_0x1623e1[_0x40f4e7],v['trace'](ml,_0x1623e1[_0x40f4e7]['toFixed'](0x44a+-0x158e+-0x3*-0x5c2)+'\x20ms\x20'+_0x186bd6);}v['trace'](ml,_0x48add8['toFixed'](0x2de+0x19*-0xb+-0x1c9)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x1a08f5);}['getSlot'](_0x56f8bb){const _0x3d8a66=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x56f8bb),_0x3d8a66;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class r0{constructor(){c(this,'bufferId',null);}['destroy'](_0x30c90d){this['bufferId']&&(_0x30c90d['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x84f7,_0x15ef12,_0x4ce53e,_0x1daf45){const _0x3f08d6=_0x84f7['gl'];if(this['bufferId'])_0x3f08d6['bindBuffer'](_0x4ce53e,this['bufferId']),_0x3f08d6['bufferSubD'+'ata'](_0x4ce53e,0x1371+0xdc1+-0x2132,_0x1daf45);else{let _0x39b171;switch(_0x15ef12){case jt:_0x39b171=_0x3f08d6['STATIC_DRA'+'W'];break;case Th:_0x39b171=_0x3f08d6['DYNAMIC_DR'+'AW'];break;case uy:_0x39b171=_0x3f08d6['STREAM_DRA'+'W'];break;case PS:_0x39b171=_0x3f08d6['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x3f08d6['createBuff'+'er'](),_0x3f08d6['bindBuffer'](_0x4ce53e,this['bufferId']),_0x3f08d6['bufferData'](_0x4ce53e,_0x1daf45,_0x39b171);}}}class sb extends r0{constructor(){super(...arguments),c(this,'vao',null);}['destroy'](_0x48c694){super['destroy'](_0x48c694),_0x48c694['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x4fb6c2){const _0x3f3ead=_0x4fb6c2['device'];super['unlock'](_0x3f3ead,_0x4fb6c2['usage'],_0x3f3ead['gl']['ARRAY_BUFF'+'ER'],_0x4fb6c2['storage']);}}class ib extends r0{constructor(_0x20899c){super();const _0x41fbc0=_0x20899c['device']['gl'],_0x44113a=_0x20899c['format'];_0x44113a===pu?this['glFormat']=_0x41fbc0['UNSIGNED_B'+'YTE']:_0x44113a===Pi?this['glFormat']=_0x41fbc0['UNSIGNED_S'+'HORT']:_0x44113a===nr&&(this['glFormat']=_0x41fbc0['UNSIGNED_I'+'NT']);}['unlock'](_0xf917fe){const _0x3679bd=_0xf917fe['device'];super['unlock'](_0x3679bd,_0xf917fe['usage'],_0x3679bd['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0xf917fe['storage']);}}class Mm{constructor(_0x2d2a14,_0x4ebf38,_0x5b600c,_0x2534f9){if(this['locationId']=_0x2534f9,this['scopeId']=_0x2d2a14['scope']['resolve'](_0x4ebf38),this['version']=new Ky(),_0x4ebf38['substring'](_0x4ebf38['length']-(-0x476+0x94b+-0x4d2*0x1))==='[0]')switch(_0x5b600c){case $s:_0x5b600c=Dc;break;case ln:_0x5b600c=Aa;break;case va:_0x5b600c=Oc;break;case ca:_0x5b600c=kc;break;case or:_0x5b600c=Lc;break;case Zr:_0x5b600c=Ea;break;case ba:_0x5b600c=Bc;break;case Lo:_0x5b600c=Nc;break;case $t:_0x5b600c=Fc;break;case Qr:_0x5b600c=Ca;break;case wa:_0x5b600c=zc;break;case Fo:_0x5b600c=Uc;break;case xa:_0x5b600c=lp;break;case Jr:_0x5b600c=Ih;break;case Ta:_0x5b600c=hp;break;case Oo:_0x5b600c=cp;break;}this['dataType']=_0x5b600c,this['value']=[null,null,null,null],this['array']=[];}}let Pm=0x1b*-0xc+0x1193+-0x104f;const rb=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class nb{constructor(){c(this,'map',new Map());}['destroy'](_0x5adba5){this['map']['forEach'](_0x109b77=>{_0x5adba5['gl']['deleteShad'+'er'](_0x109b77);});}['loseContex'+'t'](_0x238e23){this['map']['clear']();}}const ab=new Ot(),ob=new Ot();class lb{constructor(_0x43b57c){c(this,'compileDur'+'ation',-0x18e*0x4+-0x26e1*-0x1+0x9*-0x3a1),(this['init'](),this['compile'](_0x43b57c['device'],_0x43b57c),this['link'](_0x43b57c['device'],_0x43b57c),_0x43b57c['device']['shaders']['push'](_0x43b57c));}['destroy'](_0x13bc8b){this['glProgram']&&(_0x13bc8b['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x451bae,_0x2a121f){this['compile'](_0x451bae,_0x2a121f),this['link'](_0x451bae,_0x2a121f);}['compile'](_0x464fee,_0x42d093){const _0x453d7c=_0x42d093['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x464fee,_0x453d7c['vshader'],!(0x1d*0x43+0x3b*0x2b+-0x8*0x230)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x464fee,_0x453d7c['fshader'],!(-0x10d*0xd+-0x157c+-0xb*-0x332));}['link'](_0x164657,_0x44f921){if(this['glProgram'])return;const _0x439aec=_0x164657['gl'];if(_0x439aec['isContextL'+'ost']())return;let _0x289748=-0x2*-0x101a+0x136d+-0x33a1;v['call'](()=>{this['compileDur'+'ation']=-0x1d6*0x3+0x51c+0x11*0x6,_0x289748=ne();});const _0x33ecc0=_0x439aec['createProg'+'ram']();this['glProgram']=_0x33ecc0,_0x439aec['attachShad'+'er'](_0x33ecc0,this['glVertexSh'+'ader']),_0x439aec['attachShad'+'er'](_0x33ecc0,this['glFragment'+'Shader']);const _0x10230e=_0x44f921['definition'],_0x389776=_0x10230e['attributes'];if(_0x10230e['useTransfo'+'rmFeedback']){const _0x477ebb=[];for(const _0x424496 in _0x389776)_0x389776['hasOwnProp'+'erty'](_0x424496)&&_0x477ebb['push']('out_'+_0x424496);_0x439aec['transformF'+'eedbackVar'+'yings'](_0x33ecc0,_0x477ebb,_0x439aec['INTERLEAVE'+'D_ATTRIBS']);}const _0x5b7897={};for(const _0x39e704 in _0x389776)if(_0x389776['hasOwnProp'+'erty'](_0x39e704)){const _0x24f595=_0x389776[_0x39e704],_0x1b3acf=ve[_0x24f595];v['assert'](!_0x5b7897['hasOwnProp'+'erty'](_0x1b3acf),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x5b7897[_0x1b3acf]+'\x20and\x20'+_0x39e704),_0x5b7897[_0x1b3acf]=_0x39e704,_0x439aec['bindAttrib'+'Location'](_0x33ecc0,_0x1b3acf,_0x39e704);}_0x439aec['linkProgra'+'m'](_0x33ecc0),v['call'](()=>{this['compileDur'+'ation']=ne()-_0x289748;}),_0x164657['_shaderSta'+'ts']['linked']++,_0x10230e['tag']===Ly&&_0x164657['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x5ca074,_0x311444,_0x226c50){const _0x3fc25e=_0x5ca074['gl'];if(_0x3fc25e['isContextL'+'ost']())return null;const _0x59179f=(_0x226c50?ab:ob)['get'](_0x5ca074,()=>new nb());let _0x217867=_0x59179f['map']['get'](_0x311444);if(!_0x217867){const _0x5c2b7e=ne();_0x5ca074['fire']('shader:com'+'pile:start',{'timestamp':_0x5c2b7e,'target':_0x5ca074}),_0x217867=_0x3fc25e['createShad'+'er'](_0x226c50?_0x3fc25e['VERTEX_SHA'+'DER']:_0x3fc25e['FRAGMENT_S'+'HADER']),_0x3fc25e['shaderSour'+'ce'](_0x217867,_0x311444),_0x3fc25e['compileSha'+'der'](_0x217867),_0x59179f['map']['set'](_0x311444,_0x217867);const _0x268fc4=ne();_0x5ca074['fire']('shader:com'+'pile:end',{'timestamp':_0x268fc4,'target':_0x5ca074}),_0x5ca074['_shaderSta'+'ts']['compileTim'+'e']+=_0x268fc4-_0x5c2b7e,_0x226c50?_0x5ca074['_shaderSta'+'ts']['vsCompiled']++:_0x5ca074['_shaderSta'+'ts']['fsCompiled']++;}return _0x217867;}['finalize'](_0x29b942,_0x340a06){var _0x4c32e,_0x4d6eb5;const _0x15e317=_0x29b942['gl'];if(_0x15e317['isContextL'+'ost']())return!(0x2*0x134d+0x283*0x8+-0x3ab2);const _0x3dbe98=this['glProgram'],_0x21695d=_0x340a06['definition'],_0x293ee6=ne();_0x29b942['fire']('shader:lin'+'k:start',{'timestamp':_0x293ee6,'target':_0x29b942});let _0x1013ad=-0x69*0x2+0x197b+-0x18a9;if(v['call'](()=>{_0x1013ad=ne();}),!_0x15e317['getProgram'+'Parameter'](_0x3dbe98,_0x15e317['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x29b942,_0x340a06,this['glVertexSh'+'ader'],_0x21695d['vshader'],'vertex')||!this['_isCompile'+'d'](_0x29b942,_0x340a06,this['glFragment'+'Shader'],_0x21695d['fshader'],'fragment'))return!(0x463*-0x4+-0x19*-0x62+0x7fb);const _0x16686b='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x15e317['getProgram'+'InfoLog'](_0x3dbe98);return _0x21695d['translated'+'Frag']=(_0x4c32e=_0x15e317['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x14fb+-0x660+0x1b5b):_0x4c32e['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x21695d['translated'+'Vert']=(_0x4d6eb5=_0x15e317['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x9a3+0x1ac6+0x6b*-0x29):_0x4d6eb5['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x16686b,_0x21695d),console['error'](_0x16686b),!(0x20f8+-0x1d34+0x3*-0x141);}const _0x4b8641=_0x15e317['getProgram'+'Parameter'](_0x3dbe98,_0x15e317['ACTIVE_ATT'+'RIBUTES']);for(let _0xc1a379=-0x7*0x17c+0x16d5+-0xc71;_0xc1a379<_0x4b8641;_0xc1a379++){const _0x5293ef=_0x15e317['getActiveA'+'ttrib'](_0x3dbe98,_0xc1a379),_0x252f31=_0x15e317['getAttribL'+'ocation'](_0x3dbe98,_0x5293ef['name']);if(!rb['has'](_0x5293ef['name'])){if(_0x21695d['attributes'][_0x5293ef['name']]===void(0x4fd*-0x2+0x1*0xeac+-0x4b2))console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x5293ef['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x340a06['label']+']',_0x340a06),_0x340a06['failed']=!(-0x1*0x16e6+0x1bf4+0x287*-0x2);else{const _0x15dda0=new Mm(_0x29b942,_0x21695d['attributes'][_0x5293ef['name']],_0x29b942['pcUniformT'+'ype'][_0x5293ef['type']],_0x252f31);this['attributes']['push'](_0x15dda0);}}}const _0x24e2b1=_0x29b942['_samplerTy'+'pes'],_0x4375e4=_0x15e317['getProgram'+'Parameter'](_0x3dbe98,_0x15e317['ACTIVE_UNI'+'FORMS']);for(let _0x6596b6=-0x4*-0x595+0x1a82+0x10a*-0x2f;_0x6596b6<_0x4375e4;_0x6596b6++){const _0x25b2e1=_0x15e317['getActiveU'+'niform'](_0x3dbe98,_0x6596b6),_0x2ceb22=_0x15e317['getUniform'+'Location'](_0x3dbe98,_0x25b2e1['name']),_0x51c394=new Mm(_0x29b942,_0x25b2e1['name'],_0x29b942['pcUniformT'+'ype'][_0x25b2e1['type']],_0x2ceb22);_0x24e2b1['has'](_0x25b2e1['type'])?this['samplers']['push'](_0x51c394):this['uniforms']['push'](_0x51c394);}_0x340a06['ready']=!(0xb*0x1aa+-0x1c5d+-0x19*-0x67);const _0x58a87c=ne();return _0x29b942['fire']('shader:lin'+'k:end',{'timestamp':_0x58a87c,'target':_0x29b942}),_0x29b942['_shaderSta'+'ts']['compileTim'+'e']+=_0x58a87c-_0x293ee6,v['call'](()=>{const _0xb820e3=ne()-_0x1013ad;this['compileDur'+'ation']+=_0xb820e3,Pm+=this['compileDur'+'ation'],v['trace'](Yx,'[id:\x20'+_0x340a06['id']+']\x20'+_0x340a06['name']+':\x20'+this['compileDur'+'ation']['toFixed'](-0x3*0xaff+-0xa3d+0x15*0x20f)+('ms,\x20TOTAL:'+'\x20')+Pm['toFixed'](-0x13d0+-0x31*0x4a+0x1*0x21fb)+'ms');}),!(-0x107a+0x238*-0x1+0x12b2);}['_isCompile'+'d'](_0x4db546,_0x2479c6,_0x896e00,_0x4da2bd,_0x55751d){const _0x54854f=_0x4db546['gl'];if(!_0x54854f['getShaderP'+'arameter'](_0x896e00,_0x54854f['COMPILE_ST'+'ATUS'])){const _0x442b30=_0x54854f['getShaderI'+'nfoLog'](_0x896e00),[_0x4934f9,_0x3996f7]=this['_processEr'+'ror'](_0x4da2bd,_0x442b30),_0x26a59f='Failed\x20to\x20'+'compile\x20'+_0x55751d+'\x20shader:\x0a\x0a'+_0x442b30+'\x0a'+_0x4934f9+('\x20while\x20ren'+'dering\x20')+G['toString']();return _0x3996f7['shader']=_0x2479c6,console['error'](_0x26a59f,_0x3996f7),console['error'](_0x26a59f),!(-0xc1e+0x1*0x576+0x155*0x5);}return!(0x1fb+-0x1*0x1766+0x156b);}['isLinked'](_0x38b1ab){const {extParallelShaderCompile:_0x274bd7}=_0x38b1ab;return _0x274bd7?_0x38b1ab['gl']['getProgram'+'Parameter'](this['glProgram'],_0x274bd7['COMPLETION'+'_STATUS_KH'+'R']):!(0x69d*-0x1+-0x189*0x15+0x26da*0x1);}['_processEr'+'ror'](_0x49d4dd,_0x547201){const _0x464bec={};let _0x3e6fc6='';if(_0x49d4dd){const _0x4c04bc=_0x49d4dd['split']('\x0a');let _0x381230=-0x1*-0x1435+-0xe12*0x1+-0x623,_0x453ab7=_0x4c04bc['length'];if(_0x547201&&_0x547201['startsWith']('ERROR:')){const _0xe742fc=_0x547201['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0xe742fc&&(_0x464bec['message']=_0xe742fc[0x1*0x1bc9+0x7*-0x3+-0x1bb1],_0x464bec['line']=parseInt(_0xe742fc[-0x1*-0x25aa+0x1*-0x270a+-0x162*-0x1],0x13ad+0x2104+-0x3*0x118d),_0x381230=Math['max'](0x1*-0x9ad+0x18f5+-0xf48,_0x464bec['line']-(0x879+-0x1*0xa75+-0x1*-0x202)),_0x453ab7=Math['min'](_0x4c04bc['length'],_0x464bec['line']+(-0x3*-0xafe+-0x1*-0x2480+-0x4575)));}for(let _0x61fb1f=_0x381230;_0x61fb1f<_0x453ab7;_0x61fb1f++)_0x3e6fc6+=_0x61fb1f+(-0x9d1+-0x1b01+-0x359*-0xb)+':\x09'+_0x4c04bc[_0x61fb1f]+'\x0a';_0x464bec['source']=_0x49d4dd;}return[_0x3e6fc6,_0x464bec];}}function Rm(_0x1b1204,_0x44209c){const _0x55974d=_0x1b1204['width'],_0x5a0035=_0x1b1204['height'];if(_0x55974d>_0x44209c||_0x5a0035>_0x44209c){const _0x52a497=_0x44209c/Math['max'](_0x55974d,_0x5a0035),_0x1aa387=Math['floor'](_0x55974d*_0x52a497),_0x4e8a68=Math['floor'](_0x5a0035*_0x52a497);v['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x44209c+('.\x20Resizing'+'\x20from\x20')+_0x55974d+',\x20'+_0x5a0035+'\x20to\x20'+_0x1aa387+',\x20'+_0x4e8a68+'.');const _0x4b7f01=document['createElem'+'ent']('canvas');return _0x4b7f01['width']=_0x1aa387,_0x4b7f01['height']=_0x4e8a68,_0x4b7f01['getContext']('2d')['drawImage'](_0x1b1204,-0x1e5f+0x201b*0x1+-0x4a*0x6,0x967+0x1e58*0x1+0x39d*-0xb,_0x55974d,_0x5a0035,-0x2549+-0x2101+-0x2*-0x2325,0x1a*0x8a+-0x11ab+0x37*0x11,_0x1aa387,_0x4e8a68),_0x4b7f01;}return _0x1b1204;}class hb{constructor(_0x5aedec){c(this,'_glTexture',null),c(this,'_glTarget'),c(this,'_glFormat'),c(this,'_glInterna'+'lFormat'),c(this,'_glPixelTy'+'pe'),c(this,'_glCreated'),c(this,'dirtyParam'+'eterFlags',0x28d*-0x2+0xdae+-0x894),this['texture']=_0x5aedec;}['destroy'](_0x32a795){if(this['_glTexture']){for(let _0x1be6d8=0x1*0x613+-0xfc3+-0x1*-0x9b0;_0x1be6d8<_0x32a795['textureUni'+'ts']['length'];_0x1be6d8++){const _0x16feb5=_0x32a795['textureUni'+'ts'][_0x1be6d8];for(let _0x2a3670=0x11af*-0x1+0x1899+-0x6ea;_0x2a3670<_0x16feb5['length'];_0x2a3670++)_0x16feb5[_0x2a3670]===this['_glTexture']&&(_0x16feb5[_0x2a3670]=null);}_0x32a795['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x2f5cea){this['dirtyParam'+'eterFlags']|=_0x2f5cea;}['initialize'](_0xe0aa88,_0x14d158){const _0x8fd5a7=_0xe0aa88['gl'];switch(this['_glTexture']=_0x8fd5a7['createText'+'ure'](),this['_glTarget']=_0x14d158['_cubemap']?_0x8fd5a7['TEXTURE_CU'+'BE_MAP']:_0x14d158['_volume']?_0x8fd5a7['TEXTURE_3D']:_0x14d158['array']?_0x8fd5a7['TEXTURE_2D'+'_ARRAY']:_0x8fd5a7['TEXTURE_2D'],_0x14d158['_format']){case fy:this['_glFormat']=_0x8fd5a7['ALPHA'],this['_glInterna'+'lFormat']=_0x8fd5a7['ALPHA'],this['_glPixelTy'+'pe']=_0x8fd5a7['UNSIGNED_B'+'YTE'];break;case py:this['_glFormat']=_0x8fd5a7['LUMINANCE'],this['_glInterna'+'lFormat']=_0x8fd5a7['LUMINANCE'],this['_glPixelTy'+'pe']=_0x8fd5a7['UNSIGNED_B'+'YTE'];break;case Bf:this['_glFormat']=_0x8fd5a7['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x8fd5a7['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x8fd5a7['UNSIGNED_B'+'YTE'];break;case sp:this['_glFormat']=_0x8fd5a7['RED'],this['_glInterna'+'lFormat']=_0x8fd5a7['R8'],this['_glPixelTy'+'pe']=_0x8fd5a7['UNSIGNED_B'+'YTE'];break;case ip:this['_glFormat']=_0x8fd5a7['RG'],this['_glInterna'+'lFormat']=_0x8fd5a7['RG8'],this['_glPixelTy'+'pe']=_0x8fd5a7['UNSIGNED_B'+'YTE'];break;case _c:this['_glFormat']=_0x8fd5a7['RGB'],this['_glInterna'+'lFormat']=_0x8fd5a7['RGB'],this['_glPixelTy'+'pe']=_0x8fd5a7['UNSIGNED_S'+'HORT_5_6_5'];break;case Nf:this['_glFormat']=_0x8fd5a7['RGBA'],this['_glInterna'+'lFormat']=_0x8fd5a7['RGBA'],this['_glPixelTy'+'pe']=_0x8fd5a7['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case gc:this['_glFormat']=_0x8fd5a7['RGBA'],this['_glInterna'+'lFormat']=_0x8fd5a7['RGBA'],this['_glPixelTy'+'pe']=_0x8fd5a7['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case dr:this['_glFormat']=_0x8fd5a7['RGB'],this['_glInterna'+'lFormat']=_0x8fd5a7['RGB8'],this['_glPixelTy'+'pe']=_0x8fd5a7['UNSIGNED_B'+'YTE'];break;case Se:this['_glFormat']=_0x8fd5a7['RGBA'],this['_glInterna'+'lFormat']=_0x8fd5a7['RGBA8'],this['_glPixelTy'+'pe']=_0x8fd5a7['UNSIGNED_B'+'YTE'];break;case yy:case by:v['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case yc:this['_glFormat']=_0x8fd5a7['RGB'],this['_glInterna'+'lFormat']=_0xe0aa88['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case zf:this['_glFormat']=_0x8fd5a7['RGBA'],this['_glInterna'+'lFormat']=_0xe0aa88['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case $o:this['_glFormat']=_0x8fd5a7['RGBA'],this['_glInterna'+'lFormat']=_0xe0aa88['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case bc:this['_glFormat']=_0x8fd5a7['RGB'],this['_glInterna'+'lFormat']=_0xe0aa88['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case qo:this['_glFormat']=_0x8fd5a7['RGB'],this['_glInterna'+'lFormat']=_0xe0aa88['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Xo:this['_glFormat']=_0x8fd5a7['RGBA'],this['_glInterna'+'lFormat']=_0xe0aa88['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case wc:this['_glFormat']=_0x8fd5a7['RGB'],this['_glInterna'+'lFormat']=_0xe0aa88['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case Tc:this['_glFormat']=_0x8fd5a7['RGBA'],this['_glInterna'+'lFormat']=_0xe0aa88['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case Vf:this['_glFormat']=_0x8fd5a7['RGB'],this['_glInterna'+'lFormat']=_0xe0aa88['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case Gf:this['_glFormat']=_0x8fd5a7['RGBA'],this['_glInterna'+'lFormat']=_0xe0aa88['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case my:this['_glFormat']=_0x8fd5a7['RGBA'],this['_glInterna'+'lFormat']=_0xe0aa88['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case _y:this['_glFormat']=_0x8fd5a7['RGB'],this['_glInterna'+'lFormat']=_0xe0aa88['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case gy:this['_glFormat']=_0x8fd5a7['RGBA'],this['_glInterna'+'lFormat']=_0xe0aa88['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case wy:this['_glFormat']=_0x8fd5a7['RGB'],this['_glInterna'+'lFormat']=_0xe0aa88['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case Ty:this['_glFormat']=_0x8fd5a7['RGB'],this['_glInterna'+'lFormat']=_0xe0aa88['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case Ay:this['_glFormat']=_0x8fd5a7['RGBA'],this['_glInterna'+'lFormat']=_0xe0aa88['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case mu:this['_glFormat']=_0x8fd5a7['SRGB'],this['_glInterna'+'lFormat']=_0xe0aa88['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case _u:this['_glFormat']=_0x8fd5a7['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0xe0aa88['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case gu:this['_glFormat']=_0x8fd5a7['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0xe0aa88['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case yu:this['_glFormat']=_0x8fd5a7['SRGB'],this['_glInterna'+'lFormat']=_0xe0aa88['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case xu:this['_glFormat']=_0x8fd5a7['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0xe0aa88['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Su:this['_glFormat']=_0x8fd5a7['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0xe0aa88['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case vu:this['_glFormat']=_0x8fd5a7['RGBA'],this['_glInterna'+'lFormat']=_0xe0aa88['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case Ec:this['_glFormat']=_0x8fd5a7['RED'],this['_glInterna'+'lFormat']=_0x8fd5a7['R16F'],this['_glPixelTy'+'pe']=_0x8fd5a7['HALF_FLOAT'];break;case tp:this['_glFormat']=_0x8fd5a7['RG'],this['_glInterna'+'lFormat']=_0x8fd5a7['RG16F'],this['_glPixelTy'+'pe']=_0x8fd5a7['HALF_FLOAT'];break;case xc:this['_glFormat']=_0x8fd5a7['RGB'],this['_glInterna'+'lFormat']=_0x8fd5a7['RGB16F'],this['_glPixelTy'+'pe']=_0x8fd5a7['HALF_FLOAT'];break;case Je:this['_glFormat']=_0x8fd5a7['RGBA'],this['_glInterna'+'lFormat']=_0x8fd5a7['RGBA16F'],this['_glPixelTy'+'pe']=_0x8fd5a7['HALF_FLOAT'];break;case Sc:this['_glFormat']=_0x8fd5a7['RGB'],this['_glInterna'+'lFormat']=_0x8fd5a7['RGB32F'],this['_glPixelTy'+'pe']=_0x8fd5a7['FLOAT'];break;case Ke:this['_glFormat']=_0x8fd5a7['RGBA'],this['_glInterna'+'lFormat']=_0x8fd5a7['RGBA32F'],this['_glPixelTy'+'pe']=_0x8fd5a7['FLOAT'];break;case Ii:this['_glFormat']=_0x8fd5a7['RED'],this['_glInterna'+'lFormat']=_0x8fd5a7['R32F'],this['_glPixelTy'+'pe']=_0x8fd5a7['FLOAT'];break;case Ci:this['_glFormat']=_0x8fd5a7['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x8fd5a7['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x8fd5a7['FLOAT'];break;case la:this['_glFormat']=_0x8fd5a7['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x8fd5a7['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x8fd5a7['UNSIGNED_S'+'HORT'];break;case vc:this['_glFormat']=_0x8fd5a7['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x8fd5a7['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x8fd5a7['UNSIGNED_I'+'NT_24_8'];break;case _a:this['_glFormat']=_0x8fd5a7['RGB'],this['_glInterna'+'lFormat']=_0x8fd5a7['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x8fd5a7['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case Uf:this['_glFormat']=_0x8fd5a7['RGB'],this['_glInterna'+'lFormat']=_0x8fd5a7['SRGB8'],this['_glPixelTy'+'pe']=_0x8fd5a7['UNSIGNED_B'+'YTE'];break;case rs:this['_glFormat']=_0x8fd5a7['RGBA'],this['_glInterna'+'lFormat']=_0x8fd5a7['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x8fd5a7['UNSIGNED_B'+'YTE'];break;case Hf:this['_glFormat']=_0x8fd5a7['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x8fd5a7['R8I'],this['_glPixelTy'+'pe']=_0x8fd5a7['BYTE'];break;case xy:this['_glFormat']=_0x8fd5a7['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x8fd5a7['R8UI'],this['_glPixelTy'+'pe']=_0x8fd5a7['UNSIGNED_B'+'YTE'];break;case Wf:this['_glFormat']=_0x8fd5a7['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x8fd5a7['R16I'],this['_glPixelTy'+'pe']=_0x8fd5a7['SHORT'];break;case $f:this['_glFormat']=_0x8fd5a7['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x8fd5a7['R16UI'],this['_glPixelTy'+'pe']=_0x8fd5a7['UNSIGNED_S'+'HORT'];break;case qf:this['_glFormat']=_0x8fd5a7['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x8fd5a7['R32I'],this['_glPixelTy'+'pe']=_0x8fd5a7['INT'];break;case an:this['_glFormat']=_0x8fd5a7['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x8fd5a7['R32UI'],this['_glPixelTy'+'pe']=_0x8fd5a7['UNSIGNED_I'+'NT'];break;case Xf:this['_glFormat']=_0x8fd5a7['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x8fd5a7['RG8I'],this['_glPixelTy'+'pe']=_0x8fd5a7['BYTE'];break;case Sy:this['_glFormat']=_0x8fd5a7['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x8fd5a7['RG8UI'],this['_glPixelTy'+'pe']=_0x8fd5a7['UNSIGNED_B'+'YTE'];break;case jf:this['_glFormat']=_0x8fd5a7['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x8fd5a7['RG16I'],this['_glPixelTy'+'pe']=_0x8fd5a7['SHORT'];break;case Yf:this['_glFormat']=_0x8fd5a7['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x8fd5a7['RG16UI'],this['_glPixelTy'+'pe']=_0x8fd5a7['UNSIGNED_S'+'HORT'];break;case Kf:this['_glFormat']=_0x8fd5a7['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x8fd5a7['RG32I'],this['_glPixelTy'+'pe']=_0x8fd5a7['INT'];break;case Zf:this['_glFormat']=_0x8fd5a7['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x8fd5a7['RG32UI'],this['_glPixelTy'+'pe']=_0x8fd5a7['UNSIGNED_I'+'NT'];break;case Qf:this['_glFormat']=_0x8fd5a7['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x8fd5a7['RGBA8I'],this['_glPixelTy'+'pe']=_0x8fd5a7['BYTE'];break;case vy:this['_glFormat']=_0x8fd5a7['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x8fd5a7['RGBA8UI'],this['_glPixelTy'+'pe']=_0x8fd5a7['UNSIGNED_B'+'YTE'];break;case Jf:this['_glFormat']=_0x8fd5a7['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x8fd5a7['RGBA16I'],this['_glPixelTy'+'pe']=_0x8fd5a7['SHORT'];break;case Ac:this['_glFormat']=_0x8fd5a7['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x8fd5a7['RGBA16UI'],this['_glPixelTy'+'pe']=_0x8fd5a7['UNSIGNED_S'+'HORT'];break;case ep:this['_glFormat']=_0x8fd5a7['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x8fd5a7['RGBA32I'],this['_glPixelTy'+'pe']=_0x8fd5a7['INT'];break;case ut:this['_glFormat']=_0x8fd5a7['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x8fd5a7['RGBA32UI'],this['_glPixelTy'+'pe']=_0x8fd5a7['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(0x2dd+-0x1b4b+0x186f*0x1);}['upload'](_0x4b95f6,_0x18ece9){v['assert'](_0x18ece9['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x18ece9);const _0x4df37=_0x4b95f6['gl'];if(!_0x18ece9['_needsUplo'+'ad']&&(_0x18ece9['_needsMipm'+'apsUpload']&&_0x18ece9['_mipmapsUp'+'loaded']||!_0x18ece9['pot']))return;let _0x590a66=-0x22f8+-0x139*0x19+0x4189,_0x65c75d,_0x4675fd;const _0x1743e7=_0x18ece9['numLevels'];for(_0x18ece9['array']&&_0x4df37['texStorage'+'3D'](_0x4df37['TEXTURE_2D'+'_ARRAY'],_0x1743e7,this['_glInterna'+'lFormat'],_0x18ece9['_width'],_0x18ece9['_height'],_0x18ece9['_arrayLeng'+'th']);_0x18ece9['_levels'][_0x590a66]||_0x590a66===0x742*-0x1+0x2606+0x16*-0x166;){if(!_0x18ece9['_needsUplo'+'ad']&&_0x590a66===-0x2*-0xdc4+-0xa21+0x63*-0x2d){_0x590a66++;continue;}else{if(_0x590a66&&(!_0x18ece9['_needsMipm'+'apsUpload']||!_0x18ece9['_mipmaps']))break;}if(_0x65c75d=_0x18ece9['_levels'][_0x590a66],_0x4675fd=(0x1*0x13d7+0x1*-0x4d9+-0xefd)/Math['pow'](0x11f*0x1+-0x1a56+0x1939,_0x590a66),_0x590a66===-0x1b67+-0x5af+0xc5*0x2b&&!_0x18ece9['_compresse'+'d']&&!_0x18ece9['_integerFo'+'rmat']&&_0x18ece9['_levels']['length']<_0x1743e7&&(_0x4df37['generateMi'+'pmap'](this['_glTarget']),_0x18ece9['_mipmapsUp'+'loaded']=!(-0x26c5+0x1*-0x76a+0x2e2f)),_0x18ece9['_cubemap']){let _0x5265db;if(_0x4b95f6['_isBrowser'+'Interface'](_0x65c75d[-0x26c9+0x2112+0x5b7]))for(_0x5265db=-0x1641*0x1+0x1765*-0x1+-0x2da6*-0x1;_0x5265db<0x15d*-0x11+0x3d*0x8e+-0x7*0x185;_0x5265db++){if(!_0x18ece9['_levelsUpd'+'ated'][-0xa8+-0x1*-0x1d9+0x5*-0x3d][_0x5265db])continue;let _0x1d75a0=_0x65c75d[_0x5265db];_0x4b95f6['_isImageBr'+'owserInter'+'face'](_0x1d75a0)&&(_0x1d75a0['width']>_0x4b95f6['maxCubeMap'+'Size']||_0x1d75a0['height']>_0x4b95f6['maxCubeMap'+'Size'])&&(_0x1d75a0=Rm(_0x1d75a0,_0x4b95f6['maxCubeMap'+'Size']),_0x590a66===-0xf29+0xa*-0x2f+0xe5*0x13&&(_0x18ece9['_width']=_0x1d75a0['width'],_0x18ece9['_height']=_0x1d75a0['height'])),_0x4b95f6['setUnpackF'+'lipY'](!(-0x2c5+-0x7*0x4ab+0x2373)),_0x4b95f6['setUnpackP'+'remultiply'+'Alpha'](_0x18ece9['_premultip'+'lyAlpha']),this['_glCreated']?_0x4df37['texSubImag'+'e2D'](_0x4df37['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5265db,_0x590a66,-0x666+0x1747+0x1*-0x10e1,0xf65+0x1b0*0xc+-0x23a5,this['_glFormat'],this['_glPixelTy'+'pe'],_0x1d75a0):_0x4df37['texImage2D'](_0x4df37['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5265db,_0x590a66,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x1d75a0);}else for(_0x4675fd=(0x2*0x837+0x1da0+-0x2e0d*0x1)/Math['pow'](0x8*-0x3c0+-0x16ab+0x34ad,_0x590a66),_0x5265db=0x7*-0x31d+-0x19*-0xa3+0x5e0;_0x5265db<0x18cd*-0x1+0x197*-0xf+-0x37a*-0xe;_0x5265db++){if(!_0x18ece9['_levelsUpd'+'ated'][-0x696*-0x1+-0x3a6+0x178*-0x2][_0x5265db])continue;const _0x72f4ee=_0x65c75d[_0x5265db];_0x18ece9['_compresse'+'d']?this['_glCreated']&&_0x72f4ee?_0x4df37['compressed'+'TexSubImag'+'e2D'](_0x4df37['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5265db,_0x590a66,-0x8e*0x6+0x10*-0x1cf+-0x811*-0x4,0x1d5b*-0x1+0x4e*-0x5b+0x3915,Math['max'](_0x18ece9['_width']*_0x4675fd,-0x283*0x2+-0x262*0xa+0x1cdb),Math['max'](_0x18ece9['_height']*_0x4675fd,-0x720+0xbca+0x1*-0x4a9),this['_glInterna'+'lFormat'],_0x72f4ee):_0x4df37['compressed'+'TexImage2D'](_0x4df37['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5265db,_0x590a66,this['_glInterna'+'lFormat'],Math['max'](_0x18ece9['_width']*_0x4675fd,0x3d*0x25+-0xaa1*0x1+-0x1d1*-0x1),Math['max'](_0x18ece9['_height']*_0x4675fd,-0xdbd*0x2+0x8f9*0x4+-0x869),-0x1*0x5d9+-0x192e*0x1+-0x263*-0xd,_0x72f4ee):(_0x4b95f6['setUnpackF'+'lipY'](!(0xe44+0xfae+-0x1*0x1df1)),_0x4b95f6['setUnpackP'+'remultiply'+'Alpha'](_0x18ece9['_premultip'+'lyAlpha']),this['_glCreated']&&_0x72f4ee?_0x4df37['texSubImag'+'e2D'](_0x4df37['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5265db,_0x590a66,-0x1*-0xd03+0xd65+-0x1a68,-0x23a6+0x3c3*0x3+-0xbd*-0x21,Math['max'](_0x18ece9['_width']*_0x4675fd,0x2*-0x1070+-0xc2*0x23+-0x19b*-0x25),Math['max'](_0x18ece9['_height']*_0x4675fd,0x1f4e*0x1+0x1b4+-0x4b7*0x7),this['_glFormat'],this['_glPixelTy'+'pe'],_0x72f4ee):_0x4df37['texImage2D'](_0x4df37['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5265db,_0x590a66,this['_glInterna'+'lFormat'],Math['max'](_0x18ece9['_width']*_0x4675fd,-0x993+0x1*0xc65+-0x2d1*0x1),Math['max'](_0x18ece9['_height']*_0x4675fd,-0x8*-0x5+-0x29c*0x1+-0x1*-0x275),-0x1b7d+-0xd6e+0x28eb,this['_glFormat'],this['_glPixelTy'+'pe'],_0x72f4ee));}}else{if(_0x18ece9['_volume'])_0x18ece9['_compresse'+'d']?_0x4df37['compressed'+'TexImage3D'](_0x4df37['TEXTURE_3D'],_0x590a66,this['_glInterna'+'lFormat'],Math['max'](_0x18ece9['_width']*_0x4675fd,0x1034+-0x1*0x260b+0x15d8),Math['max'](_0x18ece9['_height']*_0x4675fd,0x6c7+0x159*-0x4+0x6*-0x3b),Math['max'](_0x18ece9['_depth']*_0x4675fd,0x1*0x15ed+-0x1817+-0x3*-0xb9),0x10b4+0x94e+-0x1a02,_0x65c75d):(_0x4b95f6['setUnpackF'+'lipY'](!(-0x3*0x2fb+-0x2*-0x4fe+-0x10a)),_0x4b95f6['setUnpackP'+'remultiply'+'Alpha'](_0x18ece9['_premultip'+'lyAlpha']),_0x4df37['texImage3D'](_0x4df37['TEXTURE_3D'],_0x590a66,this['_glInterna'+'lFormat'],Math['max'](_0x18ece9['_width']*_0x4675fd,0xf81+0xf98*-0x1+0x18*0x1),Math['max'](_0x18ece9['_height']*_0x4675fd,0xfcf+0x551*0x7+-0x3505),Math['max'](_0x18ece9['_depth']*_0x4675fd,-0x16db+-0x1c31+0x330d),0x2*-0x83f+-0x25b2+0x3630,this['_glFormat'],this['_glPixelTy'+'pe'],_0x65c75d));else{if(_0x18ece9['array']&&typeof _0x65c75d=='object'){if(_0x18ece9['_arrayLeng'+'th']===_0x65c75d['length']){if(_0x18ece9['_compresse'+'d']){for(let _0x447608=0xe3*0x13+-0xfe6+0xf3*-0x1;_0x447608<_0x18ece9['_arrayLeng'+'th'];_0x447608++)_0x4df37['compressed'+'TexSubImag'+'e3D'](_0x4df37['TEXTURE_2D'+'_ARRAY'],_0x590a66,-0x5*0x5f7+-0x250+-0x2023*-0x1,-0x7*-0x5f+-0x34b+0xb2,_0x447608,Math['max'](Math['floor'](_0x18ece9['_width']*_0x4675fd),-0x150c*0x1+-0x18b+0xc*0x1e2),Math['max'](Math['floor'](_0x18ece9['_height']*_0x4675fd),-0x1e5a+0xcb*-0x2b+-0x294*-0x19),-0x1*-0x1b16+-0x1c6a+0x1*0x155,this['_glInterna'+'lFormat'],_0x65c75d[_0x447608]);}else{for(let _0xfecc5f=0x22c2+0x1*-0x1668+-0xc5a;_0xfecc5f<_0x18ece9['_arrayLeng'+'th'];_0xfecc5f++)_0x4df37['texSubImag'+'e3D'](_0x4df37['TEXTURE_2D'+'_ARRAY'],_0x590a66,0x98d+-0xc82+0x2f5,-0x12e*0x13+-0xb0e*-0x2+-0x1*-0x4e,_0xfecc5f,Math['max'](Math['floor'](_0x18ece9['_width']*_0x4675fd),-0x9d7+0x1daa+-0x13d2),Math['max'](Math['floor'](_0x18ece9['_height']*_0x4675fd),0x5d*-0x29+-0xbf7*0x3+0x32cb),-0xeb*0x19+-0x7*0x583+-0x3*-0x1483,this['_glFormat'],this['_glPixelTy'+'pe'],_0x65c75d[_0xfecc5f]);}}}else{if(_0x4b95f6['_isBrowser'+'Interface'](_0x65c75d)){_0x4b95f6['_isImageBr'+'owserInter'+'face'](_0x65c75d)&&(_0x65c75d['width']>_0x4b95f6['maxTexture'+'Size']||_0x65c75d['height']>_0x4b95f6['maxTexture'+'Size'])&&(_0x65c75d=Rm(_0x65c75d,_0x4b95f6['maxTexture'+'Size']),_0x590a66===-0xb*-0x153+0x1945+0x2*-0x13eb&&(_0x18ece9['_width']=_0x65c75d['width'],_0x18ece9['_height']=_0x65c75d['height']));const _0x1a424d=_0x65c75d['width']||_0x65c75d['videoWidth'],_0x197311=_0x65c75d['height']||_0x65c75d['videoHeigh'+'t'];_0x4b95f6['setUnpackF'+'lipY'](_0x18ece9['_flipY']),_0x4b95f6['setUnpackP'+'remultiply'+'Alpha'](_0x18ece9['_premultip'+'lyAlpha']),this['_glCreated']&&_0x18ece9['_width']===_0x1a424d&&_0x18ece9['_height']===_0x197311&&!_0x4b95f6['_isImageVi'+'deoInterfa'+'ce'](_0x65c75d)?_0x4df37['texSubImag'+'e2D'](_0x4df37['TEXTURE_2D'],_0x590a66,-0x1320+-0x8*0x3ea+-0x3*-0x10d0,0x1bb6+-0x1926+-0x1*0x290,this['_glFormat'],this['_glPixelTy'+'pe'],_0x65c75d):(_0x4df37['texImage2D'](_0x4df37['TEXTURE_2D'],_0x590a66,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x65c75d),_0x590a66===-0xf*-0x107+-0xbf7*0x3+-0x26*-0x8a&&(_0x18ece9['_width']=_0x1a424d,_0x18ece9['_height']=_0x197311));}else _0x4675fd=(0x6*0x5a+0x201e+0x2239*-0x1)/Math['pow'](0x1*-0x1bd1+0x71*-0x2b+0x2ece,_0x590a66),_0x18ece9['_compresse'+'d']?this['_glCreated']&&_0x65c75d?_0x4df37['compressed'+'TexSubImag'+'e2D'](_0x4df37['TEXTURE_2D'],_0x590a66,0x1b3c*-0x1+-0x1b10+0x364c,-0xda*-0xd+0x9e*-0x25+0xbc4,Math['max'](Math['floor'](_0x18ece9['_width']*_0x4675fd),0x10e3+0x1bb2+-0x2c94),Math['max'](Math['floor'](_0x18ece9['_height']*_0x4675fd),0x2077+0x624+0xcde*-0x3),this['_glInterna'+'lFormat'],_0x65c75d):_0x4df37['compressed'+'TexImage2D'](_0x4df37['TEXTURE_2D'],_0x590a66,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x18ece9['_width']*_0x4675fd),0x1*-0x1c28+0x2708*0x1+0x1*-0xadf),Math['max'](Math['floor'](_0x18ece9['_height']*_0x4675fd),-0x46f+0x1*0x161f+-0x11af),0x1*0x1609+-0x1845+0x23c,_0x65c75d):(_0x4b95f6['setUnpackF'+'lipY'](!(0x57*0x64+-0xca*-0x27+-0xb*0x5e3)),_0x4b95f6['setUnpackP'+'remultiply'+'Alpha'](_0x18ece9['_premultip'+'lyAlpha']),this['_glCreated']&&_0x65c75d?_0x4df37['texSubImag'+'e2D'](_0x4df37['TEXTURE_2D'],_0x590a66,0x1*0x57f+0x985*0x1+0x4*-0x3c1,-0x2*0x38c+-0x23b1+0x2ac9,Math['max'](_0x18ece9['_width']*_0x4675fd,-0x53d*-0x5+-0x84f*0x2+-0x992),Math['max'](_0x18ece9['_height']*_0x4675fd,-0x234a*0x1+0x1b95+0x7b6),this['_glFormat'],this['_glPixelTy'+'pe'],_0x65c75d):_0x4df37['texImage2D'](_0x4df37['TEXTURE_2D'],_0x590a66,this['_glInterna'+'lFormat'],Math['max'](_0x18ece9['_width']*_0x4675fd,-0x6cd+-0x1048+-0xb8b*-0x2),Math['max'](_0x18ece9['_height']*_0x4675fd,-0x18e2+-0x353+0x1c36),0x21*0x96+-0xf1e+0xb4*-0x6,this['_glFormat'],this['_glPixelTy'+'pe'],_0x65c75d));_0x590a66===-0x1*0x23f9+0x718*-0x2+-0x3229*-0x1?_0x18ece9['_mipmapsUp'+'loaded']=!(-0xcb3+-0x265*-0x9+-0x8d9):_0x18ece9['_mipmapsUp'+'loaded']=!(-0xc72+0x63f+0x633);}}}_0x590a66++;}if(_0x18ece9['_needsUplo'+'ad']){if(_0x18ece9['_cubemap']){for(let _0x455614=-0x25aa+-0x18a+0xd*0x304;_0x455614<-0x2*-0xa54+-0x1*-0x29b+-0x173d;_0x455614++)_0x18ece9['_levelsUpd'+'ated'][-0x76+0x2432+-0x23bc][_0x455614]=!(0x2*-0x868+0x5*0x5cb+0x2*-0x613);}else _0x18ece9['_levelsUpd'+'ated'][0x192*0x13+0xda3+-0x167*0x1f]=!(0xe45+-0x1591+0x74d);}!_0x18ece9['_compresse'+'d']&&!_0x18ece9['_integerFo'+'rmat']&&_0x18ece9['_mipmaps']&&_0x18ece9['_needsMipm'+'apsUpload']&&_0x18ece9['_levels']['length']===-0x27a*0xa+-0x543*-0x2+0xe3f&&(_0x4df37['generateMi'+'pmap'](this['_glTarget']),_0x18ece9['_mipmapsUp'+'loaded']=!(-0x205*-0xb+0x1*0x2465+-0x3a9c)),_0x18ece9['_gpuSize']&&_0x18ece9['adjustVram'+'SizeTracki'+'ng'](_0x4b95f6['_vram'],-_0x18ece9['_gpuSize']),_0x18ece9['_gpuSize']=_0x18ece9['gpuSize'],_0x18ece9['adjustVram'+'SizeTracki'+'ng'](_0x4b95f6['_vram'],_0x18ece9['_gpuSize']),this['_glCreated']=!(0x22cd*0x1+-0x1c2b+-0x6a2);}['read'](_0x4897d3,_0x3c8379,_0x5c5924,_0x40c9d5,_0x408335){const _0x3b988e=this['texture'];return _0x3b988e['device']['readTextur'+'eAsync'](_0x3b988e,_0x4897d3,_0x3c8379,_0x5c5924,_0x40c9d5,_0x408335);}}class cb{constructor(_0x43840d,_0x26a49d){c(this,'msaaFB'),c(this,'resolveFB'),(this['msaaFB']=_0x43840d,this['resolveFB']=_0x26a49d);}['destroy'](_0x11c555){this['msaaFB']&&(_0x11c555['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x11c555['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class db{constructor(){c(this,'_glFrameBu'+'ffer',null),c(this,'_glDepthBu'+'ffer',null),c(this,'_glResolve'+'FrameBuffe'+'r',null),c(this,'colorMrtFr'+'amebuffers',null),c(this,'_glMsaaCol'+'orBuffers',[]),c(this,'_glMsaaDep'+'thBuffer',null),c(this,'msaaDepthB'+'ufferKey'),c(this,'suppliedCo'+'lorFramebu'+'ffer'),c(this,'_isInitial'+'ized',!(0x283*-0x7+-0x18*-0x28+0xdd6));}['destroy'](_0x4c4306){var _0x2f6728;const _0x29822e=_0x4c4306['gl'];this['_isInitial'+'ized']=!(0x1*-0x1034+0x167*-0x19+0x3344),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x29822e['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x29822e['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x29822e['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x2cfb00=>{_0x29822e['deleteRend'+'erbuffer'](_0x2cfb00);}),this['_glMsaaCol'+'orBuffers']['length']=0xf9*0x11+0x8a1+-0x192a,(_0x2f6728=this['colorMrtFr'+'amebuffers'])==null||_0x2f6728['forEach'](_0x87e41=>{_0x87e41['destroy'](_0x29822e);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&od(_0x4c4306)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(0x147c+0x1*-0x1607+0x18b);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x3b7117,_0x5341ed){var _0xf744d3,_0x3a2922;const _0x30c89c=_0x3b7117['gl'];v['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(0xd4*-0x7+0x1*-0x351+0x1*0x91d);const _0x29ebb9=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0xbeb+0x2b3*0x2+-0x8f*0x1f))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{v['call'](()=>{(_0x5341ed['width']<=0x236a+0x2*0x125d+0x13*-0x3cc||_0x5341ed['height']<=0x2289+-0xab*0x18+-0x1281)&&v['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x5341ed['width']+'\x20x\x20'+_0x5341ed['height'],_0x5341ed);}),this['_glFrameBu'+'ffer']=_0x30c89c['createFram'+'ebuffer'](),_0x3b7117['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0xc9d40e=((_0xf744d3=_0x5341ed['_colorBuff'+'ers'])==null?void(-0xa02*0x1+0x116d+-0x76b):_0xf744d3['length'])??-0x2*0xc9c+-0x1efd+0x3835,_0x1ff783=_0x30c89c['COLOR_ATTA'+'CHMENT0'];for(let _0x2a75c6=-0xb*-0x2ef+-0x1688+0x9*-0x115;_0x2a75c6<_0xc9d40e;++_0x2a75c6){const _0x2e5c57=_0x5341ed['getColorBu'+'ffer'](_0x2a75c6);_0x2e5c57&&(_0x2e5c57['impl']['_glTexture']||(_0x2e5c57['_width']=Math['min'](_0x2e5c57['width'],_0x3b7117['maxRenderB'+'ufferSize']),_0x2e5c57['_height']=Math['min'](_0x2e5c57['height'],_0x3b7117['maxRenderB'+'ufferSize']),_0x3b7117['setTexture'](_0x2e5c57,-0x1*-0x168e+-0x1*0x1161+-0x52d)),_0x30c89c['framebuffe'+'rTexture2D'](_0x30c89c['FRAMEBUFFE'+'R'],_0x1ff783+_0x2a75c6,_0x2e5c57['_cubemap']?_0x30c89c['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5341ed['_face']:_0x30c89c['TEXTURE_2D'],_0x2e5c57['impl']['_glTexture'],_0x5341ed['mipLevel']),_0x29ebb9['push'](_0x1ff783+_0x2a75c6));}_0x30c89c['drawBuffer'+'s'](_0x29ebb9);const _0x1bee76=_0x5341ed['_depthBuff'+'er'];if(_0x1bee76||_0x5341ed['_depth']){const _0x36d1b3=_0x5341ed['_stencil']?_0x30c89c['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x30c89c['DEPTH_ATTA'+'CHMENT'];if(_0x1bee76)_0x1bee76['impl']['_glTexture']||(_0x1bee76['_width']=Math['min'](_0x1bee76['width'],_0x3b7117['maxRenderB'+'ufferSize']),_0x1bee76['_height']=Math['min'](_0x1bee76['height'],_0x3b7117['maxRenderB'+'ufferSize']),_0x3b7117['setTexture'](_0x1bee76,-0x3*0x50b+0xc*0x1e1+-0x76b)),_0x30c89c['framebuffe'+'rTexture2D'](_0x30c89c['FRAMEBUFFE'+'R'],_0x36d1b3,_0x1bee76['_cubemap']?_0x30c89c['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5341ed['_face']:_0x30c89c['TEXTURE_2D'],_0x5341ed['_depthBuff'+'er']['impl']['_glTexture'],_0x5341ed['mipLevel']);else{if(!(_0x5341ed['_samples']>0x10ad+0x5*-0x36a+0x66)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x30c89c['createRend'+'erbuffer']());const _0x5248ae=_0x5341ed['_stencil']?_0x30c89c['DEPTH24_ST'+'ENCIL8']:_0x30c89c['DEPTH_COMP'+'ONENT32F'];_0x30c89c['bindRender'+'buffer'](_0x30c89c['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x30c89c['renderbuff'+'erStorage'](_0x30c89c['RENDERBUFF'+'ER'],_0x5248ae,_0x5341ed['width'],_0x5341ed['height']),_0x30c89c['framebuffe'+'rRenderbuf'+'fer'](_0x30c89c['FRAMEBUFFE'+'R'],_0x36d1b3,_0x30c89c['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x30c89c['bindRender'+'buffer'](_0x30c89c['RENDERBUFF'+'ER'],null);}}}v['call'](()=>this['_checkFbo'](_0x3b7117,_0x5341ed));}if(_0x5341ed['_samples']>-0x24a9+0x12d+0x237d){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x30c89c['createFram'+'ebuffer'](),_0x3b7117['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x2d008c=((_0x3a2922=_0x5341ed['_colorBuff'+'ers'])==null?void(0x11d5+-0x547*-0x2+-0x1*0x1c63):_0x3a2922['length'])??-0x14e8+-0x25e1*0x1+0x3ac9;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x26d9+-0x1bb*0x7+0x251*0x16)){const _0x2b7dbb=_0x30c89c['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x2b7dbb);const _0x2bdd3a=_0x3b7117['backBuffer'+'Format']===Se?_0x30c89c['RGBA8']:_0x30c89c['RGB8'];_0x30c89c['bindRender'+'buffer'](_0x30c89c['RENDERBUFF'+'ER'],_0x2b7dbb),_0x30c89c['renderbuff'+'erStorageM'+'ultisample'](_0x30c89c['RENDERBUFF'+'ER'],_0x5341ed['_samples'],_0x2bdd3a,_0x5341ed['width'],_0x5341ed['height']),_0x30c89c['framebuffe'+'rRenderbuf'+'fer'](_0x30c89c['FRAMEBUFFE'+'R'],_0x30c89c['COLOR_ATTA'+'CHMENT0'],_0x30c89c['RENDERBUFF'+'ER'],_0x2b7dbb);}else for(let _0x18268c=-0x1c*0xa6+0x1040+-0x1*-0x1e8;_0x18268c<_0x2d008c;++_0x18268c){const _0x67cde9=_0x5341ed['getColorBu'+'ffer'](_0x18268c);if(_0x67cde9){const _0x12a0e2=_0x30c89c['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x12a0e2),_0x30c89c['bindRender'+'buffer'](_0x30c89c['RENDERBUFF'+'ER'],_0x12a0e2),_0x30c89c['renderbuff'+'erStorageM'+'ultisample'](_0x30c89c['RENDERBUFF'+'ER'],_0x5341ed['_samples'],_0x67cde9['impl']['_glInterna'+'lFormat'],_0x5341ed['width'],_0x5341ed['height']),_0x30c89c['framebuffe'+'rRenderbuf'+'fer'](_0x30c89c['FRAMEBUFFE'+'R'],_0x30c89c['COLOR_ATTA'+'CHMENT0']+_0x18268c,_0x30c89c['RENDERBUFF'+'ER'],_0x12a0e2);}}if(_0x5341ed['_depth']){v['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x51778a=_0x5341ed['_stencil']?_0x30c89c['DEPTH24_ST'+'ENCIL8']:_0x30c89c['DEPTH_COMP'+'ONENT32F'],_0x1fd13d=_0x5341ed['_stencil']?_0x30c89c['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x30c89c['DEPTH_ATTA'+'CHMENT'];let _0x543131;const _0x365148=_0x5341ed['_depthBuff'+'er'];_0x365148&&(_0x543131=_0x365148['id']+':'+_0x5341ed['width']+':'+_0x5341ed['height']+':'+_0x5341ed['_samples']+':'+_0x51778a+':'+_0x1fd13d,this['_glMsaaDep'+'thBuffer']=od(_0x3b7117)['get'](_0x543131)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x30c89c['createRend'+'erbuffer'](),_0x30c89c['bindRender'+'buffer'](_0x30c89c['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x30c89c['renderbuff'+'erStorageM'+'ultisample'](_0x30c89c['RENDERBUFF'+'ER'],_0x5341ed['_samples'],_0x51778a,_0x5341ed['width'],_0x5341ed['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x30c89c['deleteRend'+'erbuffer'](this);},_0x365148&&od(_0x3b7117)['set'](_0x543131,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x543131,_0x30c89c['framebuffe'+'rRenderbuf'+'fer'](_0x30c89c['FRAMEBUFFE'+'R'],_0x1fd13d,_0x30c89c['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}v['call'](()=>this['_checkFbo'](_0x3b7117,_0x5341ed,'MSAA')),_0x2d008c>-0xbde+0xc07*0x1+-0x28&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x3b7117,_0x5341ed,_0x2d008c),_0x3b7117['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x30c89c['drawBuffer'+'s'](_0x29ebb9));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x936a7a,_0x3f821a,_0xf338c4){const _0x2811d0=_0x936a7a['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x225edd=-0x17be+-0x1c2f+0x33ed;_0x225edd<_0xf338c4;++_0x225edd){const _0x3dd79a=_0x3f821a['getColorBu'+'ffer'](_0x225edd),_0x245b18=_0x2811d0['createFram'+'ebuffer']();_0x936a7a['setFramebu'+'ffer'](_0x245b18);const _0x159cfc=this['_glMsaaCol'+'orBuffers'][_0x225edd];_0x2811d0['bindRender'+'buffer'](_0x2811d0['RENDERBUFF'+'ER'],_0x159cfc),_0x2811d0['renderbuff'+'erStorageM'+'ultisample'](_0x2811d0['RENDERBUFF'+'ER'],_0x3f821a['_samples'],_0x3dd79a['impl']['_glInterna'+'lFormat'],_0x3f821a['width'],_0x3f821a['height']),_0x2811d0['framebuffe'+'rRenderbuf'+'fer'](_0x2811d0['FRAMEBUFFE'+'R'],_0x2811d0['COLOR_ATTA'+'CHMENT0'],_0x2811d0['RENDERBUFF'+'ER'],_0x159cfc),_0x2811d0['drawBuffer'+'s']([_0x2811d0['COLOR_ATTA'+'CHMENT0']]),v['call'](()=>this['_checkFbo'](_0x936a7a,_0x3f821a,'MSAA-MRT-s'+'rc'+_0x225edd));const _0x177771=_0x2811d0['createFram'+'ebuffer']();_0x936a7a['setFramebu'+'ffer'](_0x177771),_0x2811d0['framebuffe'+'rTexture2D'](_0x2811d0['FRAMEBUFFE'+'R'],_0x2811d0['COLOR_ATTA'+'CHMENT0'],_0x3dd79a['_cubemap']?_0x2811d0['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x3f821a['_face']:_0x2811d0['TEXTURE_2D'],_0x3dd79a['impl']['_glTexture'],-0x1a85+0x26*-0x84+0x939*0x5),this['colorMrtFr'+'amebuffers'][_0x225edd]=new cb(_0x245b18,_0x177771),v['call'](()=>this['_checkFbo'](_0x936a7a,_0x3f821a,'MSAA-MRT-d'+'st'+_0x225edd));}}['_checkFbo'](_0x8d16c9,_0x54b64c,_0x4be900=''){const _0x2121eb=_0x8d16c9['gl'],_0x2bee30=_0x2121eb['checkFrame'+'bufferStat'+'us'](_0x2121eb['FRAMEBUFFE'+'R']);let _0x173400;switch(_0x2bee30){case _0x2121eb['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x173400='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x2121eb['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x173400='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x2121eb['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x173400='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x2121eb['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x173400='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}v['assert'](!_0x173400,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x173400+(',\x20render\x20t'+'arget:\x20')+_0x54b64c['name']+'\x20'+_0x4be900,_0x54b64c);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=0x1bbf+-0x141b+-0x7a4,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(0x18c3+-0x218e+0x8cb*0x1),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x2ed+0x119f+0x9*-0x1a2),this['_isInitial'+'ized']=!(0x1e4e+-0x25a*0xb+0x1*-0x46f);}['internalRe'+'solve'](_0x576554,_0x180e9a,_0xc530fe,_0x49fd6c,_0x4001e6){v['assert'](_0x180e9a!==_0xc530fe,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x576554['setScissor'](0x206e+0x1b0d+0x3b7b*-0x1,0x1591+-0x1*-0x33b+-0x18cc,_0x49fd6c['width'],_0x49fd6c['height']);const _0x4b5cf9=_0x576554['gl'];_0x4b5cf9['bindFrameb'+'uffer'](_0x4b5cf9['READ_FRAME'+'BUFFER'],_0x180e9a),_0x4b5cf9['bindFrameb'+'uffer'](_0x4b5cf9['DRAW_FRAME'+'BUFFER'],_0xc530fe),_0x4b5cf9['blitFrameb'+'uffer'](0xa4c+-0x3*-0x399+-0x1517,0x2206+-0x16a9*-0x1+-0x38af,_0x49fd6c['width'],_0x49fd6c['height'],-0x1239+0x89*-0x15+0x9d2*0x3,0x6*0x574+-0x1cc3*0x1+0x3f5*-0x1,_0x49fd6c['width'],_0x49fd6c['height'],_0x4001e6,_0x4b5cf9['NEAREST']);}['resolve'](_0x2f4668,_0x47f3f1,_0x81c870,_0x47606e){const _0x257921=_0x2f4668['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x81c870)for(let _0x1eacbc=0x2d6*-0x1+-0x1d2*0x3+0x84c;_0x1eacbc<this['colorMrtFr'+'amebuffers']['length'];_0x1eacbc++){const _0xbb69e0=this['colorMrtFr'+'amebuffers'][_0x1eacbc];G['pushGpuMar'+'ker'](_0x2f4668,'RESOLVE-MR'+'T'+_0x1eacbc),this['internalRe'+'solve'](_0x2f4668,_0xbb69e0['msaaFB'],_0xbb69e0['resolveFB'],_0x47f3f1,_0x257921['COLOR_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x2f4668);}_0x47606e&&(G['pushGpuMar'+'ker'](_0x2f4668,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x2f4668,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x47f3f1,_0x257921['DEPTH_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x2f4668));}else G['pushGpuMar'+'ker'](_0x2f4668,'RESOLVE'),this['internalRe'+'solve'](_0x2f4668,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x47f3f1,(_0x81c870?_0x257921['COLOR_BUFF'+'ER_BIT']:-0x1d50+-0x19d*0x1+-0x15*-0x179)|(_0x47606e?_0x257921['DEPTH_BUFF'+'ER_BIT']:0x1ac*0x1+-0x1*0xee7+-0xd3b*-0x1)),G['popGpuMark'+'er'](_0x2f4668);_0x257921['bindFrameb'+'uffer'](_0x257921['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class ub{constructor(){c(this,'renderVers'+'ion'),c(this,'queries',[]);}['destroy'](_0x467851){this['queries']['forEach'](_0x4a9769=>_0x467851['deleteQuer'+'y'](_0x4a9769)),this['queries']=null;}}class fb extends tb{constructor(_0x3e7148){super(),c(this,'device'),c(this,'freeQuerie'+'s',[]),c(this,'frameQueri'+'es',[]),c(this,'previousFr'+'ameQueries',[]),c(this,'timings',[]),(this['device']=_0x3e7148,this['ext']=_0x3e7148['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x3ff65c=>this['device']['gl']['deleteQuer'+'y'](_0x3ff65c)),this['frameQueri'+'es']['forEach'](_0x3eeb9a=>this['device']['gl']['deleteQuer'+'y'](_0x3eeb9a)),this['previousFr'+'ameQueries']['forEach'](_0x4e7ca2=>_0x4e7ca2['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x4301a5){if(this['ext']){const _0x2dcd1d=this['getSlot'](_0x4301a5),_0x3168ff=this['getQuery']();return this['frameQueri'+'es'][_0x2dcd1d]=_0x3168ff,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x3168ff),_0x2dcd1d;}}['end'](_0x56ec75){_0x56ec75!==void(-0x17*0x1a1+-0x1443+-0x1cdd*-0x2)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x886c28=this['ext'],_0x3eef2a=this['device']['gl'],_0x3cc643=this['device']['renderVers'+'ion'],_0x25a02f=this['frameQueri'+'es'];if(_0x25a02f['length']>-0xa4a+0x651+0x153*0x3){this['frameQueri'+'es']=[];const _0x424614=new ub();_0x424614['queries']=_0x25a02f,_0x424614['renderVers'+'ion']=_0x3cc643,this['previousFr'+'ameQueries']['push'](_0x424614);}if(this['previousFr'+'ameQueries']['length']>-0xbb*-0x12+0xf33+-0x1c59){const _0x114315=this['previousFr'+'ameQueries'][0xf43*-0x1+-0x1*0x1b85+-0x2*-0x1564],_0x462fb6=_0x114315['queries'],_0x2cff5a=_0x462fb6[_0x462fb6['length']-(0x1395+-0x113e+-0x256)],_0x3ca4e0=_0x3eef2a['getQueryPa'+'rameter'](_0x2cff5a,_0x3eef2a['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x202658=_0x3eef2a['getParamet'+'er'](_0x886c28['GPU_DISJOI'+'NT_EXT']);if(_0x3ca4e0&&!_0x202658){this['previousFr'+'ameQueries']['shift']();const _0x3d79a0=this['timings'];_0x3d79a0['length']=0x38b+-0x1d*-0x25+-0x7bc;for(let _0x518018=0x8a2+0xb2c+0x5*-0x3f6;_0x518018<_0x462fb6['length'];_0x518018++){const _0x231d05=_0x462fb6[_0x518018],_0x4f5335=_0x3eef2a['getQueryPa'+'rameter'](_0x231d05,_0x3eef2a['QUERY_RESU'+'LT']);_0x3d79a0[_0x518018]=_0x4f5335*(-0xdc1+-0x1dac+-0x1*-0x2b6d+0.000001),this['freeQuerie'+'s']['push'](_0x231d05);}this['report'](_0x114315['renderVers'+'ion'],_0x3d79a0);}_0x202658&&(this['previousFr'+'ameQueries']['forEach'](_0x12e77a=>{this['report'](_0x12e77a['renderVers'+'ion'],null),_0x12e77a['destroy'](_0x3eef2a);}),this['previousFr'+'ameQueries']['length']=0x47*0x6f+-0xaee+-0x13db);}super['request'](_0x3cc643);}}}const Tn=[];class pb extends Fh{constructor(_0x27741b,_0x504216={}){super(_0x27741b,_0x504216),c(this,'gl'),c(this,'_defaultFr'+'amebuffer',null),c(this,'_defaultFr'+'amebufferC'+'hanged',!(0x2*0x5a7+-0x7c0+-0x38d)),(_0x504216=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(-0x319*0x8+-0x47*-0x8b+0xdc4*-0x1),this['_contextLo'+'stHandler']=_0x470092=>{_0x470092['preventDef'+'ault'](),this['loseContex'+'t'](),v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x2a79a3=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x2a79a3&&_0x2a79a3['includes']('AppleWebKi'+'t')&&(_0x2a79a3['includes']('15.4')||_0x2a79a3['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x504216['antialias']=!(-0x1fc2+0x2*-0x1031+-0x1*-0x4025),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),ye['browserNam'+'e']==='firefox'){const _0x5ebfb4=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x13b510=_0x5ebfb4?_0x5ebfb4[0x221*0x11+-0x151*0xd+-0x1313]:null;if(_0x13b510){const _0x3ca388=parseFloat(_0x13b510);(ye['name']==='windows'&&(_0x3ca388>=0x1889*0x1+-0xcb*0x13+0x300*-0x3||_0x3ca388===0x244d*-0x1+0x25a*0xe+-0x8c*-0x7)||ye['name']==='android'&&_0x3ca388>=0x8*-0x94+-0x361*-0x2+-0x19e)&&(_0x504216['antialias']=!(0xca5+-0x14d8+0x834),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+ye['name']+('\x20platform\x20'+'version\x20')+_0x13b510));}}this['backBuffer'+'Antialias']=_0x504216['antialias']??!(0x357*0x7+-0x2546+0xde6),_0x504216['antialias']=!(-0xb61*-0x2+-0x11f4+-0x1*0x4cd);const _0xff1830=_0x504216['gl']??_0x27741b['getContext']('webgl2',_0x504216);if(!_0xff1830)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0xff1830,this['isWebGL2']=!(0x9a3*-0x1+-0x2177+0x2b1a),this['_deviceTyp'+'e']=mv,this['updateBack'+'bufferForm'+'at'](null);const _0x3af01f=ye['browserNam'+'e']==='chrome',_0x10723a=ye['browserNam'+'e']==='safari',_0x499523=ye['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(0x17*0xd7+0x2a*0x17+0x7b2*-0x3);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x10723a,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x499523&&_0x3af01f&&!_0x504216['alpha'],_0x27741b['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0xb2c+-0x16bf+0xc*0xf7)),_0x27741b['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x15f+0x95*-0x1d+-0x1241*-0x1)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x10723a&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0xff1830['SAMPLER_2D'],_0xff1830['SAMPLER_CU'+'BE'],_0xff1830['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0xff1830['INT_SAMPLE'+'R_2D'],_0xff1830['SAMPLER_2D'+'_SHADOW'],_0xff1830['SAMPLER_CU'+'BE_SHADOW'],_0xff1830['SAMPLER_3D'],_0xff1830['INT_SAMPLE'+'R_3D'],_0xff1830['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0xff1830['SAMPLER_2D'+'_ARRAY'],_0xff1830['INT_SAMPLE'+'R_2D_ARRAY'],_0xff1830['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0xff1830['REPEAT'],_0xff1830['CLAMP_TO_E'+'DGE'],_0xff1830['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0xff1830['FUNC_ADD'],_0xff1830['FUNC_SUBTR'+'ACT'],_0xff1830['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0xff1830['MIN'],_0xff1830['MAX']],this['glBlendFun'+'ctionColor']=[_0xff1830['ZERO'],_0xff1830['ONE'],_0xff1830['SRC_COLOR'],_0xff1830['ONE_MINUS_'+'SRC_COLOR'],_0xff1830['DST_COLOR'],_0xff1830['ONE_MINUS_'+'DST_COLOR'],_0xff1830['SRC_ALPHA'],_0xff1830['SRC_ALPHA_'+'SATURATE'],_0xff1830['ONE_MINUS_'+'SRC_ALPHA'],_0xff1830['DST_ALPHA'],_0xff1830['ONE_MINUS_'+'DST_ALPHA'],_0xff1830['CONSTANT_C'+'OLOR'],_0xff1830['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0xff1830['ZERO'],_0xff1830['ONE'],_0xff1830['SRC_COLOR'],_0xff1830['ONE_MINUS_'+'SRC_COLOR'],_0xff1830['DST_COLOR'],_0xff1830['ONE_MINUS_'+'DST_COLOR'],_0xff1830['SRC_ALPHA'],_0xff1830['SRC_ALPHA_'+'SATURATE'],_0xff1830['ONE_MINUS_'+'SRC_ALPHA'],_0xff1830['DST_ALPHA'],_0xff1830['ONE_MINUS_'+'DST_ALPHA'],_0xff1830['CONSTANT_A'+'LPHA'],_0xff1830['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0xff1830['NEVER'],_0xff1830['LESS'],_0xff1830['EQUAL'],_0xff1830['LEQUAL'],_0xff1830['GREATER'],_0xff1830['NOTEQUAL'],_0xff1830['GEQUAL'],_0xff1830['ALWAYS']],this['glStencilO'+'p']=[_0xff1830['KEEP'],_0xff1830['ZERO'],_0xff1830['REPLACE'],_0xff1830['INCR'],_0xff1830['INCR_WRAP'],_0xff1830['DECR'],_0xff1830['DECR_WRAP'],_0xff1830['INVERT']],this['glClearFla'+'g']=[-0x196c+0x284+0x16e8,_0xff1830['COLOR_BUFF'+'ER_BIT'],_0xff1830['DEPTH_BUFF'+'ER_BIT'],_0xff1830['COLOR_BUFF'+'ER_BIT']|_0xff1830['DEPTH_BUFF'+'ER_BIT'],_0xff1830['STENCIL_BU'+'FFER_BIT'],_0xff1830['STENCIL_BU'+'FFER_BIT']|_0xff1830['COLOR_BUFF'+'ER_BIT'],_0xff1830['STENCIL_BU'+'FFER_BIT']|_0xff1830['DEPTH_BUFF'+'ER_BIT'],_0xff1830['STENCIL_BU'+'FFER_BIT']|_0xff1830['COLOR_BUFF'+'ER_BIT']|_0xff1830['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[-0xe8a+0xdcb+0xbf,_0xff1830['BACK'],_0xff1830['FRONT'],_0xff1830['FRONT_AND_'+'BACK']],this['glFilter']=[_0xff1830['NEAREST'],_0xff1830['LINEAR'],_0xff1830['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0xff1830['NEAREST_MI'+'PMAP_LINEA'+'R'],_0xff1830['LINEAR_MIP'+'MAP_NEARES'+'T'],_0xff1830['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0xff1830['POINTS'],_0xff1830['LINES'],_0xff1830['LINE_LOOP'],_0xff1830['LINE_STRIP'],_0xff1830['TRIANGLES'],_0xff1830['TRIANGLE_S'+'TRIP'],_0xff1830['TRIANGLE_F'+'AN']],this['glType']=[_0xff1830['BYTE'],_0xff1830['UNSIGNED_B'+'YTE'],_0xff1830['SHORT'],_0xff1830['UNSIGNED_S'+'HORT'],_0xff1830['INT'],_0xff1830['UNSIGNED_I'+'NT'],_0xff1830['FLOAT'],_0xff1830['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0xff1830['BOOL']]=ca,this['pcUniformT'+'ype'][_0xff1830['INT']]=ln,this['pcUniformT'+'ype'][_0xff1830['FLOAT']]=$s,this['pcUniformT'+'ype'][_0xff1830['FLOAT_VEC2']]=or,this['pcUniformT'+'ype'][_0xff1830['FLOAT_VEC3']]=$t,this['pcUniformT'+'ype'][_0xff1830['FLOAT_VEC4']]=xa,this['pcUniformT'+'ype'][_0xff1830['INT_VEC2']]=Zr,this['pcUniformT'+'ype'][_0xff1830['INT_VEC3']]=Qr,this['pcUniformT'+'ype'][_0xff1830['INT_VEC4']]=Jr,this['pcUniformT'+'ype'][_0xff1830['BOOL_VEC2']]=Lo,this['pcUniformT'+'ype'][_0xff1830['BOOL_VEC3']]=Fo,this['pcUniformT'+'ype'][_0xff1830['BOOL_VEC4']]=Oo,this['pcUniformT'+'ype'][_0xff1830['FLOAT_MAT2']]=Rh,this['pcUniformT'+'ype'][_0xff1830['FLOAT_MAT3']]=ko,this['pcUniformT'+'ype'][_0xff1830['FLOAT_MAT4']]=Sa,this['pcUniformT'+'ype'][_0xff1830['SAMPLER_2D']]=JS,this['pcUniformT'+'ype'][_0xff1830['SAMPLER_CU'+'BE']]=ev,this['pcUniformT'+'ype'][_0xff1830['UNSIGNED_I'+'NT']]=va,this['pcUniformT'+'ype'][_0xff1830['UNSIGNED_I'+'NT_VEC2']]=ba,this['pcUniformT'+'ype'][_0xff1830['UNSIGNED_I'+'NT_VEC3']]=wa,this['pcUniformT'+'ype'][_0xff1830['UNSIGNED_I'+'NT_VEC4']]=Ta,this['pcUniformT'+'ype'][_0xff1830['SAMPLER_2D'+'_SHADOW']]=tv,this['pcUniformT'+'ype'][_0xff1830['SAMPLER_CU'+'BE_SHADOW']]=sv,this['pcUniformT'+'ype'][_0xff1830['SAMPLER_2D'+'_ARRAY']]=rv,this['pcUniformT'+'ype'][_0xff1830['SAMPLER_3D']]=iv,this['pcUniformT'+'ype'][_0xff1830['INT_SAMPLE'+'R_2D']]=nv,this['pcUniformT'+'ype'][_0xff1830['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=av,this['pcUniformT'+'ype'][_0xff1830['INT_SAMPLE'+'R_CUBE']]=ov,this['pcUniformT'+'ype'][_0xff1830['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=lv,this['pcUniformT'+'ype'][_0xff1830['INT_SAMPLE'+'R_3D']]=hv,this['pcUniformT'+'ype'][_0xff1830['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=cv,this['pcUniformT'+'ype'][_0xff1830['INT_SAMPLE'+'R_2D_ARRAY']]=dv,this['pcUniformT'+'ype'][_0xff1830['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=uv,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0xff1830['TEXTURE_2D']]=0x1b*-0x16f+0x138f+0x662*0x3,this['targetToSl'+'ot'][_0xff1830['TEXTURE_CU'+'BE_MAP']]=-0x2129+-0x5be+-0x3c*-0xa6,this['targetToSl'+'ot'][_0xff1830['TEXTURE_3D']]=0x116c+0xb*0x185+-0x2221;let _0x59f5ab,_0x3ddba8,_0x335458,_0x256059,_0x234e4f;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][ca]=function(_0x2058ab,_0x3b5154){_0x2058ab['value']!==_0x3b5154&&(_0xff1830['uniform1i'](_0x2058ab['locationId'],_0x3b5154),_0x2058ab['value']=_0x3b5154);},this['commitFunc'+'tion'][ln]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][$s]=function(_0x518b9f,_0x37715f){_0x518b9f['value']!==_0x37715f&&(_0xff1830['uniform1f'](_0x518b9f['locationId'],_0x37715f),_0x518b9f['value']=_0x37715f);},this['commitFunc'+'tion'][or]=function(_0x21b28a,_0x54a7af){_0x234e4f=_0x21b28a['value'],_0x59f5ab=_0x54a7af[0x1*-0x1399+0x1115+0x284],_0x3ddba8=_0x54a7af[0xa60+0x2313*-0x1+0xcc*0x1f],(_0x234e4f[0x773*0x5+0x5*0x3a9+0xde3*-0x4]!==_0x59f5ab||_0x234e4f[0x4d9+0xa09*-0x3+-0x1d*-0xdf]!==_0x3ddba8)&&(_0xff1830['uniform2fv'](_0x21b28a['locationId'],_0x54a7af),_0x234e4f[0x25e4+0x1*0x1df5+-0x1*0x43d9]=_0x59f5ab,_0x234e4f[0x1*-0x18ea+-0x20ae+0x1*0x3999]=_0x3ddba8);},this['commitFunc'+'tion'][$t]=function(_0x3329cd,_0x6446ca){_0x234e4f=_0x3329cd['value'],_0x59f5ab=_0x6446ca[-0x233c+-0x222a+0x292*0x1b],_0x3ddba8=_0x6446ca[-0xff*-0x18+-0x224b+0xa64],_0x335458=_0x6446ca[-0x858+0x1b6a+-0x4*0x4c4],(_0x234e4f[0x59*0x61+-0x2*0x89c+-0x1081]!==_0x59f5ab||_0x234e4f[0x17*0x9b+0x1832+-0x261e]!==_0x3ddba8||_0x234e4f[0x1*-0x2311+0x10fd*-0x1+-0xd04*-0x4]!==_0x335458)&&(_0xff1830['uniform3fv'](_0x3329cd['locationId'],_0x6446ca),_0x234e4f[0x10*-0x220+-0x2*0xcf+-0x239e*-0x1]=_0x59f5ab,_0x234e4f[0x1*0x844+-0x11f3*0x2+-0x1*-0x1ba3]=_0x3ddba8,_0x234e4f[-0xfeb+-0x16ea+0x26d7]=_0x335458);},this['commitFunc'+'tion'][xa]=function(_0x4f27d7,_0x45a71a){_0x234e4f=_0x4f27d7['value'],_0x59f5ab=_0x45a71a[-0x1*0x61b+0x1439+0x1*-0xe1e],_0x3ddba8=_0x45a71a[-0x1560+-0x7*-0x189+0xaa2],_0x335458=_0x45a71a[-0x1af5*0x1+0xb36+-0xfc1*-0x1],_0x256059=_0x45a71a[0x530*-0x3+-0x1*0x1fe7+0x2f7a],(_0x234e4f[-0x1c0a+-0xe60*-0x2+-0xb6]!==_0x59f5ab||_0x234e4f[0xc01+-0x1cea+0x362*0x5]!==_0x3ddba8||_0x234e4f[-0x626*0x3+-0x183d+-0x1*-0x2ab1]!==_0x335458||_0x234e4f[0x17*0x13+-0x1*-0x871+-0xa23]!==_0x256059)&&(_0xff1830['uniform4fv'](_0x4f27d7['locationId'],_0x45a71a),_0x234e4f[-0x3cb*0x1+0x5c*0x59+0x1c31*-0x1]=_0x59f5ab,_0x234e4f[-0x26ca+0x20*0x28+0x21cb]=_0x3ddba8,_0x234e4f[-0x90a*0x2+-0x923+0x1b39]=_0x335458,_0x234e4f[0x1962*0x1+-0x1ea0+0x541]=_0x256059);},this['commitFunc'+'tion'][Zr]=function(_0x2fc173,_0x47de47){_0x234e4f=_0x2fc173['value'],_0x59f5ab=_0x47de47[-0x1890+0x130f+-0x1*-0x581],_0x3ddba8=_0x47de47[-0x2629+0x1a7e+0xbac],(_0x234e4f[-0x36b*-0x2+-0x210a+0x1a34]!==_0x59f5ab||_0x234e4f[0x1afc+-0x1c9*0x3+0x4*-0x568]!==_0x3ddba8)&&(_0xff1830['uniform2iv'](_0x2fc173['locationId'],_0x47de47),_0x234e4f[0x899+0x9a7+-0x1240]=_0x59f5ab,_0x234e4f[-0x12d3+0x25ee+-0x5*0x3d2]=_0x3ddba8);},this['commitFunc'+'tion'][Lo]=this['commitFunc'+'tion'][Zr],this['commitFunc'+'tion'][Qr]=function(_0x455efb,_0x435cbe){_0x234e4f=_0x455efb['value'],_0x59f5ab=_0x435cbe[-0x1ffb+-0x1*-0xa07+-0x2*-0xafa],_0x3ddba8=_0x435cbe[-0x19b4+0x7*0x16f+0xfac],_0x335458=_0x435cbe[0x1f2a+0x5f2+-0x251a],(_0x234e4f[-0x73a+0x16c5+0x17*-0xad]!==_0x59f5ab||_0x234e4f[0x980+-0x9fd*0x1+0x7e]!==_0x3ddba8||_0x234e4f[-0x92d+-0x1d40+-0x266f*-0x1]!==_0x335458)&&(_0xff1830['uniform3iv'](_0x455efb['locationId'],_0x435cbe),_0x234e4f[0x8*-0x2a1+-0x11d1*-0x2+0x10b*-0xe]=_0x59f5ab,_0x234e4f[0x13a*0x16+0x161*-0x2+-0x1839]=_0x3ddba8,_0x234e4f[-0x23d9+0x1160+0x13*0xf9]=_0x335458);},this['commitFunc'+'tion'][Fo]=this['commitFunc'+'tion'][Qr],this['commitFunc'+'tion'][Jr]=function(_0x2caaf0,_0x2f398d){_0x234e4f=_0x2caaf0['value'],_0x59f5ab=_0x2f398d[-0x1*0x118d+-0x8e3+0x1a70],_0x3ddba8=_0x2f398d[0x186c+0x4*-0x620+0x7*0x3],_0x335458=_0x2f398d[-0x220f*-0x1+-0x1780+-0xa8d],_0x256059=_0x2f398d[-0xfea+0x912+0x6db],(_0x234e4f[-0x238a+0x10e2*0x2+0x1c6]!==_0x59f5ab||_0x234e4f[0x1*-0x4a3+0x213a*0x1+-0x2*0xe4b]!==_0x3ddba8||_0x234e4f[0x3*-0x7ab+0xedd*0x1+0x826]!==_0x335458||_0x234e4f[0x1*-0x1cab+-0x1*0x6b+0x1d19]!==_0x256059)&&(_0xff1830['uniform4iv'](_0x2caaf0['locationId'],_0x2f398d),_0x234e4f[0x248d+-0x269f+0x212]=_0x59f5ab,_0x234e4f[-0x10e+-0x2*-0x1319+-0x2523]=_0x3ddba8,_0x234e4f[-0x496+-0x4*0xc4+0x7a8]=_0x335458,_0x234e4f[-0x6e3+-0x999+0x107f]=_0x256059);},this['commitFunc'+'tion'][Oo]=this['commitFunc'+'tion'][Jr],this['commitFunc'+'tion'][Rh]=function(_0x5024f8,_0x4c47c5){_0xff1830['uniformMat'+'rix2fv'](_0x5024f8['locationId'],!(0x4bb*-0x7+-0x91*0x1d+-0xb*-0x481),_0x4c47c5);},this['commitFunc'+'tion'][ko]=function(_0x30e735,_0xce1cf6){_0xff1830['uniformMat'+'rix3fv'](_0x30e735['locationId'],!(0x26e4*-0x1+0x3f2*-0x8+0x4675),_0xce1cf6);},this['commitFunc'+'tion'][Sa]=function(_0xc9f1a9,_0x5a524c){_0xff1830['uniformMat'+'rix4fv'](_0xc9f1a9['locationId'],!(-0x360+-0x1*-0xc5b+0x8fa*-0x1),_0x5a524c);},this['commitFunc'+'tion'][Dc]=function(_0x5107dd,_0x512bb5){_0xff1830['uniform1fv'](_0x5107dd['locationId'],_0x512bb5);},this['commitFunc'+'tion'][Lc]=function(_0x5ae81b,_0x15af1b){_0xff1830['uniform2fv'](_0x5ae81b['locationId'],_0x15af1b);},this['commitFunc'+'tion'][Fc]=function(_0x129938,_0x1827cf){_0xff1830['uniform3fv'](_0x129938['locationId'],_0x1827cf);},this['commitFunc'+'tion'][lp]=function(_0x5b877a,_0xb50411){_0xff1830['uniform4fv'](_0x5b877a['locationId'],_0xb50411);},this['commitFunc'+'tion'][va]=function(_0x4e0393,_0x3be5ae){_0x4e0393['value']!==_0x3be5ae&&(_0xff1830['uniform1ui'](_0x4e0393['locationId'],_0x3be5ae),_0x4e0393['value']=_0x3be5ae);},this['commitFunc'+'tion'][ba]=function(_0x14d2b1,_0x28830b){_0x234e4f=_0x14d2b1['value'],_0x59f5ab=_0x28830b[0x1b65+-0xe24+0x179*-0x9],_0x3ddba8=_0x28830b[0x1*-0x2449+-0xb*0x13+0xa1*0x3b],(_0x234e4f[-0x1*0x36b+0xd43+-0x9d8]!==_0x59f5ab||_0x234e4f[0x60d*-0x1+-0x184c*0x1+-0xde*-0x23]!==_0x3ddba8)&&(_0xff1830['uniform2ui'+'v'](_0x14d2b1['locationId'],_0x28830b),_0x234e4f[0x46*0x40+-0x1137+-0x49]=_0x59f5ab,_0x234e4f[0x2*0xbfb+0x1f3b+-0x10*0x373]=_0x3ddba8);},this['commitFunc'+'tion'][wa]=function(_0x266faa,_0xa6f7b3){_0x234e4f=_0x266faa['value'],_0x59f5ab=_0xa6f7b3[-0x1686*-0x1+0xf95+-0x1*0x261b],_0x3ddba8=_0xa6f7b3[-0x2169+0x65d+0x1b0d],_0x335458=_0xa6f7b3[-0x149b+-0x24da+0x3977],(_0x234e4f[-0xd47+0x1d52+0x3*-0x559]!==_0x59f5ab||_0x234e4f[0x47c+-0x1f36+0x1*0x1abb]!==_0x3ddba8||_0x234e4f[-0x5*-0x6b+-0x207b+0x1e66]!==_0x335458)&&(_0xff1830['uniform3ui'+'v'](_0x266faa['locationId'],_0xa6f7b3),_0x234e4f[-0x26b5+-0x25a*0xb+0x1*0x4093]=_0x59f5ab,_0x234e4f[0x6*0x51a+0x1*-0x24af+0x614]=_0x3ddba8,_0x234e4f[-0x1*-0x107f+-0x1b95+0xb18]=_0x335458);},this['commitFunc'+'tion'][Ta]=function(_0x10968c,_0x2de334){_0x234e4f=_0x10968c['value'],_0x59f5ab=_0x2de334[0x134e+-0x8c0+-0x7*0x182],_0x3ddba8=_0x2de334[0x1711+0x28a+-0x199a],_0x335458=_0x2de334[0x3*-0x983+0x615+0xa*0x23f],_0x256059=_0x2de334[0x2371+-0x1546+-0x12e*0xc],(_0x234e4f[-0xe58+0x2*0xd92+-0xccc]!==_0x59f5ab||_0x234e4f[0x23d5*-0x1+-0x23e9+0x47bf]!==_0x3ddba8||_0x234e4f[0x247c+0x1f0d*0x1+-0x125*0x3b]!==_0x335458||_0x234e4f[0x3*0x465+0xc17+-0xdf*0x1d]!==_0x256059)&&(_0xff1830['uniform4ui'+'v'](_0x10968c['locationId'],_0x2de334),_0x234e4f[-0x888+0x152*-0x12+0xc*0x2b1]=_0x59f5ab,_0x234e4f[-0xc5f+0xa93*0x2+0x463*-0x2]=_0x3ddba8,_0x234e4f[0x6a+-0x1ff2+0x16f*0x16]=_0x335458,_0x234e4f[-0x4fe+0xb*0x65+0x1*0xaa]=_0x256059);},this['commitFunc'+'tion'][Aa]=function(_0x1122e2,_0x3811b6){_0xff1830['uniform1iv'](_0x1122e2['locationId'],_0x3811b6);},this['commitFunc'+'tion'][Oc]=function(_0x4d80ad,_0x2ebcf9){_0xff1830['uniform1ui'+'v'](_0x4d80ad['locationId'],_0x2ebcf9);},this['commitFunc'+'tion'][kc]=this['commitFunc'+'tion'][Aa],this['commitFunc'+'tion'][Ea]=function(_0x54d57c,_0x29fbdb){_0xff1830['uniform2iv'](_0x54d57c['locationId'],_0x29fbdb);},this['commitFunc'+'tion'][Bc]=function(_0x213b5c,_0x242688){_0xff1830['uniform2ui'+'v'](_0x213b5c['locationId'],_0x242688);},this['commitFunc'+'tion'][Nc]=this['commitFunc'+'tion'][Ea],this['commitFunc'+'tion'][Ca]=function(_0x4de746,_0x17c279){_0xff1830['uniform3iv'](_0x4de746['locationId'],_0x17c279);},this['commitFunc'+'tion'][zc]=function(_0x3611eb,_0x14a095){_0xff1830['uniform3ui'+'v'](_0x3611eb['locationId'],_0x14a095);},this['commitFunc'+'tion'][Uc]=this['commitFunc'+'tion'][Ca],this['commitFunc'+'tion'][Ih]=function(_0x1bb52b,_0x9d39c8){_0xff1830['uniform4iv'](_0x1bb52b['locationId'],_0x9d39c8);},this['commitFunc'+'tion'][hp]=function(_0xaed7b4,_0x41c3e7){_0xff1830['uniform4ui'+'v'](_0xaed7b4['locationId'],_0x41c3e7);},this['commitFunc'+'tion'][cp]=this['commitFunc'+'tion'][Ih],this['commitFunc'+'tion'][Ny]=function(_0x2f5a44,_0x35cd3e){_0xff1830['uniformMat'+'rix4fv'](_0x2f5a44['locationId'],!(-0x1*0xcd7+-0xe*0x7d+0x13ae),_0x35cd3e);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new fb(this);}['destroy'](){super['destroy']();const _0x15316a=this['gl'];this['feedback']&&_0x15316a['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x2*0xd88+0x1e+0x1*-0x1b2d)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x1faa+-0x1*0x1647+0x35f2)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x3b3eb7){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new pt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x3b3eb7;}['updateBack'+'bufferForm'+'at'](_0x1b2ab8){const _0x552096=this['gl'];_0x552096['bindFrameb'+'uffer'](_0x552096['FRAMEBUFFE'+'R'],_0x1b2ab8);const _0x2d2857=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x2d2857?Se:dr;}['updateBack'+'buffer'](){const _0x57dab4=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x57dab4)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(-0x3df+0x1a3+0x23d),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x41ebd0,_0x4df5c4){return new sb();}['createInde'+'xBufferImp'+'l'](_0x328c1f){return new ib(_0x328c1f);}['createShad'+'erImpl'](_0x58c86d){return new lb(_0x58c86d);}['createText'+'ureImpl'](_0x2cacac){return new hb(_0x2cacac);}['createRend'+'erTargetIm'+'pl'](_0x22cbf5){return new db();}['pushMarker'](_0x4b0381){if(ye['browser']&&window['spector']){const _0x577ada=G['toString']();window['spector']['setMarker'](_0x577ada+'\x20#');}}['popMarker'](){if(ye['browser']&&window['spector']){const _0x2fcf5e=G['toString']();_0x2fcf5e['length']?window['spector']['setMarker'](_0x2fcf5e+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x3809d1=this['gl'];let _0x4e8b5a='highp';if(_0x3809d1['getShaderP'+'recisionFo'+'rmat']){const _0x5eed14=_0x3809d1['getShaderP'+'recisionFo'+'rmat'](_0x3809d1['VERTEX_SHA'+'DER'],_0x3809d1['HIGH_FLOAT']),_0x4d8ab2=_0x3809d1['getShaderP'+'recisionFo'+'rmat'](_0x3809d1['VERTEX_SHA'+'DER'],_0x3809d1['MEDIUM_FLO'+'AT']),_0x26313e=_0x3809d1['getShaderP'+'recisionFo'+'rmat'](_0x3809d1['FRAGMENT_S'+'HADER'],_0x3809d1['HIGH_FLOAT']),_0x3d25cd=_0x3809d1['getShaderP'+'recisionFo'+'rmat'](_0x3809d1['FRAGMENT_S'+'HADER'],_0x3809d1['MEDIUM_FLO'+'AT']);if(_0x5eed14&&_0x4d8ab2&&_0x26313e&&_0x3d25cd){const _0x2aaa04=_0x5eed14['precision']>0x7d5+0x894+-0x1069&&_0x26313e['precision']>0x1b29+-0x255a*0x1+-0xa31*-0x1,_0x4054d0=_0x4d8ab2['precision']>-0x141a+-0x21fe+0xd86*0x4&&_0x3d25cd['precision']>-0x2525+-0x1*-0x2558+-0x33;_0x2aaa04||(_0x4054d0?(_0x4e8b5a='mediump',v['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x4e8b5a='lowp',v['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x4e8b5a;}['getExtensi'+'on'](){for(let _0x5502f2=0x894*0x1+0x1*0x6a7+0xf3b*-0x1;_0x5502f2<arguments['length'];_0x5502f2++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x5502f2])!==-(-0x1*-0x641+-0xb1e+0x4de))return this['gl']['getExtensi'+'on'](arguments[_0x5502f2]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x29004b=this['gl'];this['supportedE'+'xtensions']=_0x29004b['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(0x24b*0xd+-0x1d7*0x2+-0x1a21),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc'),this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float');}['initialize'+'Capabiliti'+'es'](){const _0x2a0bb7=this['gl'];let _0x25667e;const _0x54a74d=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x449e2a=_0x2a0bb7['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x449e2a==null?void(0x123e+0x5eb+-0x1829*0x1):_0x449e2a['antialias'])??!(0xbb3+0x3*-0xbd+-0x97b),this['supportsSt'+'encil']=(_0x449e2a==null?void(-0x660+-0x4*-0x641+0x12a4*-0x1):_0x449e2a['stencil'])??!(0x1a67+-0x3*-0xb36+0xf02*-0x4),this['maxTexture'+'Size']=_0x2a0bb7['getParamet'+'er'](_0x2a0bb7['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x2a0bb7['getParamet'+'er'](_0x2a0bb7['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x2a0bb7['getParamet'+'er'](_0x2a0bb7['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x2a0bb7['getParamet'+'er'](_0x2a0bb7['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x2a0bb7['getParamet'+'er'](_0x2a0bb7['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x2a0bb7['getParamet'+'er'](_0x2a0bb7['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x2a0bb7['getParamet'+'er'](_0x2a0bb7['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x2a0bb7['getParamet'+'er'](_0x2a0bb7['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x2a0bb7['getParamet'+'er'](_0x2a0bb7['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x2a0bb7['getParamet'+'er'](_0x2a0bb7['MAX_3D_TEX'+'TURE_SIZE']),_0x25667e=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x25667e?_0x2a0bb7['getParamet'+'er'](_0x25667e['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x25667e?_0x2a0bb7['getParamet'+'er'](_0x25667e['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x1cc5cf=/\bMali-G52+/,_0x359a58=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x54a74d['match'](_0x359a58))&&!this['unmaskedRe'+'nderer']['match'](_0x1cc5cf),_0x25667e=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x25667e?_0x2a0bb7['getParamet'+'er'](_0x25667e['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):-0x54*0x5c+0x250f+0x24a*-0x3;const _0x5ed2bf=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x5ed2bf?_0x2a0bb7['getParamet'+'er'](_0x2a0bb7['MAX_SAMPLE'+'S']):0xad*-0x3+-0x21dd*-0x1+-0x1fd5,this['maxSamples']=Math['min'](this['maxSamples'],-0x748+0xb69+-0x41d),this['samples']=_0x5ed2bf&&this['backBuffer'+'Antialias']?this['maxSamples']:-0x1c6*0x3+0x1782+-0x85*0x23,this['supportsAr'+'eaLights']=!ye['android'],this['maxTexture'+'s']<=-0x1*0x1ca5+0xf66+-0x67*-0x21&&(this['supportsAr'+'eaLights']=!(0x4*0x147+0x2c8*-0x3+0x33d));}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x1551ea=this['gl'];_0x1551ea['disable'](_0x1551ea['BLEND']),_0x1551ea['blendFunc'](_0x1551ea['ONE'],_0x1551ea['ZERO']),_0x1551ea['blendEquat'+'ion'](_0x1551ea['FUNC_ADD']),_0x1551ea['colorMask'](!(0x2443*0x1+0x1*0x1bfe+-0x4041),!(-0x979+-0x26a0+0x3019),!(0x176*0x18+0x3*-0x96c+0xc*-0x91),!(-0x1310+0x19bb*0x1+-0x6ab)),_0x1551ea['blendColor'](-0x46d+-0x1c33*-0x1+-0xbe3*0x2,0x1c3f+0x1b*0x15+-0x22d*0xe,0xa*-0x3dd+-0x964+0x12*0x2ab,0x2*-0x42e+0x5b5*0x5+-0x142d),_0x1551ea['enable'](_0x1551ea['CULL_FACE']),this['cullFace']=_0x1551ea['BACK'],_0x1551ea['cullFace'](_0x1551ea['BACK']),_0x1551ea['enable'](_0x1551ea['DEPTH_TEST']),_0x1551ea['depthFunc'](_0x1551ea['LEQUAL']),_0x1551ea['depthMask'](!(-0x2*0xffe+-0x3*-0x76d+0x5*0x1f1)),this['stencil']=!(0xdf+0x1cbc*0x1+-0x1d9a),_0x1551ea['disable'](_0x1551ea['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Ai,this['stencilRef'+'Front']=this['stencilRef'+'Back']=-0xc5d+-0x11e5*-0x2+0x176d*-0x1,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=-0x23f*-0x8+0x239b+0x1*-0x3494,_0x1551ea['stencilFun'+'c'](_0x1551ea['ALWAYS'],-0x1a7f+-0x6db+0x215a,0x1989+0x1a5c+0x5*-0xa2e),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=ha,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=ha,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=ha,this['stencilWri'+'teMaskFron'+'t']=0x3d+-0x1ce9+-0x43d*-0x7,this['stencilWri'+'teMaskBack']=-0x5d*0x58+0xa*-0x335+0x4109,_0x1551ea['stencilOp'](_0x1551ea['KEEP'],_0x1551ea['KEEP'],_0x1551ea['KEEP']),_0x1551ea['stencilMas'+'k'](0x488+0x1*0x1a8c+-0x1e15*0x1),this['alphaToCov'+'erage']=!(-0x1*0x886+-0x413+0xc9a),this['raster']=!(-0xfe*0x11+-0x1fc6+0x46c*0xb),_0x1551ea['disable'](_0x1551ea['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x1551ea['disable'](_0x1551ea['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(-0x1282+-0xdb8+-0x203b*-0x1),_0x1551ea['disable'](_0x1551ea['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=0x12cd*0x2+0x2*-0xd65+0x1*-0xacf,_0x1551ea['clearDepth'](0xd8e+-0x131f+-0x592*-0x1),this['clearColor']=new Y(-0x1f9*0x7+0x686+0x5*0x175,0x1368+0x76e*0x2+-0x2244,0xd*-0x1c7+-0x3f*-0x31+0xb0c,-0x1*-0x41b+0x14f1+-0x2*0xc86),_0x1551ea['clearColor'](0x2*0x35b+0xdc8+0x2*-0xa3f,0x2*0x40e+-0xe89*-0x1+0xbb*-0x1f,0x23d4+-0x102b+-0x13a9*0x1,-0x191*-0xa+0x32b*0x5+0x64d*-0x5),this['clearStenc'+'il']=0x2527+0x96+-0x25bd*0x1,_0x1551ea['clearStenc'+'il'](0x10*-0xb8+-0x1e3d+0x29bd),_0x1551ea['hint'](_0x1551ea['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x1551ea['NICEST']),_0x1551ea['enable'](_0x1551ea['SCISSOR_TE'+'ST']),_0x1551ea['pixelStore'+'i'](_0x1551ea['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x1551ea['NONE']),this['unpackFlip'+'Y']=!(-0x3*0xa8b+-0x1b9c+0x1*0x3b3e),_0x1551ea['pixelStore'+'i'](_0x1551ea['UNPACK_FLI'+'P_Y_WEBGL'],!(-0x1c0f+0xd52+-0x2*-0x75f)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(-0x2*-0x6cd+-0x1c2d+-0xe94*-0x1),_0x1551ea['pixelStore'+'i'](_0x1551ea['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(0x132a+0x2378+-0x36a1)),_0x1551ea['pixelStore'+'i'](_0x1551ea['UNPACK_ALI'+'GNMENT'],-0x1eb+0x1540+0x1*-0x1354);}['initTextur'+'eUnits'](_0x7912b4=0x64d*0x3+0xed3+-0x1f*0x116){this['textureUni'+'ts']=[];for(let _0x4da87b=-0x1ff5+0x2555+0x8*-0xac;_0x4da87b<_0x7912b4;_0x4da87b++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=0x7f*0x40+0x1145*-0x1+-0xe7b*0x1,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x59f838 of this['shaders'])_0x59f838['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x17baa7 of this['shaders'])_0x17baa7['restoreCon'+'text']();}['setViewpor'+'t'](_0x5d9148,_0x53a44b,_0x48df08,_0x1b1363){(this['vx']!==_0x5d9148||this['vy']!==_0x53a44b||this['vw']!==_0x48df08||this['vh']!==_0x1b1363)&&(this['gl']['viewport'](_0x5d9148,_0x53a44b,_0x48df08,_0x1b1363),this['vx']=_0x5d9148,this['vy']=_0x53a44b,this['vw']=_0x48df08,this['vh']=_0x1b1363);}['setScissor'](_0x4883bf,_0x440258,_0x5d3c78,_0x538df2){(this['sx']!==_0x4883bf||this['sy']!==_0x440258||this['sw']!==_0x5d3c78||this['sh']!==_0x538df2)&&(this['gl']['scissor'](_0x4883bf,_0x440258,_0x5d3c78,_0x538df2),this['sx']=_0x4883bf,this['sy']=_0x440258,this['sw']=_0x5d3c78,this['sh']=_0x538df2);}['setFramebu'+'ffer'](_0x5a2d62){if(this['activeFram'+'ebuffer']!==_0x5a2d62){const _0x21dd4d=this['gl'];_0x21dd4d['bindFrameb'+'uffer'](_0x21dd4d['FRAMEBUFFE'+'R'],_0x5a2d62),this['activeFram'+'ebuffer']=_0x5a2d62;}}['copyRender'+'Target'](_0x29761e,_0x4507d7,_0x1f8b02,_0x4fecfd){var _0x46e962,_0x315abe;const _0xce041=this['gl'];if(_0x29761e===this['backBuffer']&&(_0x29761e=null),_0x1f8b02){if(_0x4507d7){if(_0x29761e){if(!_0x29761e['_colorBuff'+'er']||!_0x4507d7['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x1a*-0x107+-0xe16+-0xc9f);if(_0x29761e['_colorBuff'+'er']['_format']!==_0x4507d7['_colorBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(-0x22cf+0x176b+0x1*0xb65);}}else{if(!_0x29761e['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(-0x45+-0x139*0x1b+0x2149*0x1);}}if(_0x4fecfd&&_0x29761e&&!_0x29761e['_depth']){if(!_0x29761e['_depthBuff'+'er']||!_0x4507d7['_depthBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x236a+-0x124a+0x1e7*-0x9);if(_0x29761e['_depthBuff'+'er']['_format']!==_0x4507d7['_depthBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(0x2114+0x1*-0x1f0d+-0x206);}G['pushGpuMar'+'ker'](this,'COPY-RT');const _0x5ca994=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x4507d7,this['updateBegi'+'n']();const _0x553a04=_0x29761e?_0x29761e['impl']['_glFrameBu'+'ffer']:(_0x46e962=this['backBuffer'])==null?void(-0x1e6*-0xf+0x1*-0x10a0+-0x4a*0x29):_0x46e962['impl']['_glFrameBu'+'ffer'],_0x101b4b=_0x4507d7?_0x4507d7['impl']['_glFrameBu'+'ffer']:(_0x315abe=this['backBuffer'])==null?void(-0x3c+-0x881+0x8bd):_0x315abe['impl']['_glFrameBu'+'ffer'];v['assert'](_0x553a04!==_0x101b4b,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0xce041['bindFrameb'+'uffer'](_0xce041['READ_FRAME'+'BUFFER'],_0x553a04),_0xce041['bindFrameb'+'uffer'](_0xce041['DRAW_FRAME'+'BUFFER'],_0x101b4b);const _0x53d4f7=_0x29761e?_0x29761e['width']:_0x4507d7?_0x4507d7['width']:this['width'],_0x1ec8a1=_0x29761e?_0x29761e['height']:_0x4507d7?_0x4507d7['height']:this['height'];return _0xce041['blitFrameb'+'uffer'](-0x79*0x2c+-0x2515+0x39e1,-0x3*-0x5fb+0x2650+0x1*-0x3841,_0x53d4f7,_0x1ec8a1,-0x942+-0xa*0x12d+0x1504,-0x1*-0x586+-0x2*-0x281+-0xa88,_0x53d4f7,_0x1ec8a1,(_0x1f8b02?_0xce041['COLOR_BUFF'+'ER_BIT']:0x25*-0x64+-0x7*0x2cd+-0x220f*-0x1)|(_0x4fecfd?_0xce041['DEPTH_BUFF'+'ER_BIT']:-0x68*-0x22+-0x23a6+0x82*0x2b),_0xce041['NEAREST']),this['renderTarg'+'et']=_0x5ca994,_0xce041['bindFrameb'+'uffer'](_0xce041['FRAMEBUFFE'+'R'],_0x5ca994?_0x5ca994['impl']['_glFrameBu'+'ffer']:null),G['popGpuMark'+'er'](this),!(-0xd48+0x31c*-0x6+-0x92*-0x38);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0xe4de77){const _0x1386b0=_0xe4de77['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x1386b0,v['assert'](_0x1386b0),G['pushGpuMar'+'ker'](this,'Pass:'+_0xe4de77['name']+'\x20RT:'+_0x1386b0['name']),G['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x396558,height:_0x4c5015}=_0x1386b0;this['setViewpor'+'t'](-0x1f95+-0x1*0x1d30+0x3cc5,-0x1*0x38f+0x614+-0x285,_0x396558,_0x4c5015),this['setScissor'](0x1*0x223+-0x192b*0x1+-0x86*-0x2c,0x374+0xbc1*0x3+-0x385*0xb,_0x396558,_0x4c5015);const _0x5a3723=_0xe4de77['colorOps'],_0x137159=_0xe4de77['depthStenc'+'ilOps'];if(_0x5a3723!=null&&_0x5a3723['clear']||_0x137159['clearDepth']||_0x137159['clearStenc'+'il']){let _0x2b163c=-0x293*-0x4+-0x8a4+0x6a*-0x4;const _0x3f36c9={};_0x5a3723!=null&&_0x5a3723['clear']&&(_0x2b163c|=Co,_0x3f36c9['color']=[_0x5a3723['clearValue']['r'],_0x5a3723['clearValue']['g'],_0x5a3723['clearValue']['b'],_0x5a3723['clearValue']['a']]),_0x137159['clearDepth']&&(_0x2b163c|=Mo,_0x3f36c9['depth']=_0x137159['clearDepth'+'Value']),_0x137159['clearStenc'+'il']&&(_0x2b163c|=Ah,_0x3f36c9['stencil']=_0x137159['clearStenc'+'ilValue']),_0x3f36c9['flags']=_0x2b163c,this['clear'](_0x3f36c9);}v['call'](()=>{this['insideRend'+'erPass']&&v['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(0x1*0x653+0x3d*-0x3d+0x1*0x836),G['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x2b2997){var _0x2be8b2;G['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x49354f=this['renderTarg'+'et'],_0x4443d1=_0x2b2997['colorArray'+'Ops']['length'];if(_0x49354f){Tn['length']=-0xc36+-0x11c3+0x1df9;const _0x11df18=this['gl'];for(let _0x418000=-0x1a3*0xf+0x19e1+0x2*-0xaa;_0x418000<_0x4443d1;_0x418000++){const _0x4a1cf9=_0x2b2997['colorArray'+'Ops'][_0x418000];_0x4a1cf9['store']||_0x4a1cf9['resolve']||Tn['push'](_0x11df18['COLOR_ATTA'+'CHMENT0']+_0x418000);}_0x49354f!==this['backBuffer']&&(_0x2b2997['depthStenc'+'ilOps']['storeDepth']||Tn['push'](_0x11df18['DEPTH_ATTA'+'CHMENT']),_0x2b2997['depthStenc'+'ilOps']['storeStenc'+'il']||Tn['push'](_0x11df18['STENCIL_AT'+'TACHMENT'])),Tn['length']>0xd7*0xa+-0x20b5+0x184f&&_0x2b2997['fullSizeCl'+'earRect']&&_0x11df18['invalidate'+'Framebuffe'+'r'](_0x11df18['DRAW_FRAME'+'BUFFER'],Tn),_0x4443d1&&((_0x2be8b2=_0x2b2997['colorOps'])!=null&&_0x2be8b2['resolve'])&&_0x2b2997['samples']>0x1b53*-0x1+-0x2*0xb4d+0x31ee*0x1&&_0x49354f['autoResolv'+'e']&&_0x49354f['resolve'](!(-0x24b4+0x146+0x236e),!(0x3ea*0x4+-0x5*-0x7bd+-0x3658)),_0x49354f['depthBuffe'+'r']&&_0x2b2997['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x2b2997['samples']>-0xb5*-0x33+-0x13*0x96+-0x18ec&&_0x49354f['autoResolv'+'e']&&_0x49354f['resolve'](!(-0x1*0x13e4+-0x5*0x6b+0x15fc),!(-0x12*0xca+0x229b+0x6cd*-0x3));for(let _0x3ca575=-0x55*-0x3b+0x150d+-0x264*0x11;_0x3ca575<_0x4443d1;_0x3ca575++)if(_0x2b2997['colorArray'+'Ops'][_0x3ca575]['genMipmaps']){const _0x1f599e=_0x49354f['_colorBuff'+'ers'][_0x3ca575];_0x1f599e&&_0x1f599e['impl']['_glTexture']&&_0x1f599e['mipmaps']&&(G['pushGpuMar'+'ker'](this,'MIPS'+_0x3ca575),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x1*-0x13f3+-0x185*-0xa+-0x3a*-0x15)),this['bindTextur'+'e'](_0x1f599e),this['gl']['generateMi'+'pmap'](_0x1f599e['impl']['_glTarget']),G['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(0x1a45+-0x551*0x1+0x14f3*-0x1),G['popGpuMark'+'er'](this),G['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x2c44bd){this['_defaultFr'+'amebuffer']!==_0x2c44bd&&(this['_defaultFr'+'amebuffer']=_0x2c44bd,this['_defaultFr'+'amebufferC'+'hanged']=!(-0x4*0x677+-0x1ab5+0x1*0x3491));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(G['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x5e9775=0x3b4*0x9+0x2252*0x1+0x2*-0x21d3;_0x5e9775<this['textureUni'+'ts']['length'];++_0x5e9775)for(let _0x211326=0x1aba+-0x11e9+-0x3d*0x25;_0x211326<-0x856+0x1a*-0xd6+0x97*0x33;++_0x211326)this['textureUni'+'ts'][_0x5e9775][_0x211326]=null;}const _0xf09890=this['renderTarg'+'et']??this['backBuffer'];v['assert'](_0xf09890);const _0x15bbe0=_0xf09890['impl'];_0x15bbe0['initialize'+'d']||this['initRender'+'Target'](_0xf09890),this['setFramebu'+'ffer'](_0x15bbe0['_glFrameBu'+'ffer']),G['popGpuMark'+'er'](this);}['updateEnd'](){G['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x5b76c1=this['renderTarg'+'et'];if(_0x5b76c1&&_0x5b76c1!==this['backBuffer']){_0x5b76c1['_samples']>-0x6d*0x48+-0x998+0x2841&&_0x5b76c1['autoResolv'+'e']&&_0x5b76c1['resolve']();const _0x4304b7=_0x5b76c1['_colorBuff'+'er'];_0x4304b7&&_0x4304b7['impl']['_glTexture']&&_0x4304b7['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0x21*-0x45+-0x410+-0x4d4)),this['bindTextur'+'e'](_0x4304b7),this['gl']['generateMi'+'pmap'](_0x4304b7['impl']['_glTarget']));}G['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0xdbf66){if(this['unpackFlip'+'Y']!==_0xdbf66){this['unpackFlip'+'Y']=_0xdbf66;const _0x438f82=this['gl'];_0x438f82['pixelStore'+'i'](_0x438f82['UNPACK_FLI'+'P_Y_WEBGL'],_0xdbf66);}}['setUnpackP'+'remultiply'+'Alpha'](_0x548f41){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x548f41){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x548f41;const _0x4557ee=this['gl'];_0x4557ee['pixelStore'+'i'](_0x4557ee['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x548f41);}}['activeText'+'ure'](_0x4b656b){this['textureUni'+'t']!==_0x4b656b&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x4b656b),this['textureUni'+'t']=_0x4b656b);}['bindTextur'+'e'](_0x5b2897){const _0x59e8d7=_0x5b2897['impl'],_0x3fd11f=_0x59e8d7['_glTarget'],_0x46b5aa=_0x59e8d7['_glTexture'],_0x991756=this['textureUni'+'t'],_0x4bf26a=this['targetToSl'+'ot'][_0x3fd11f];this['textureUni'+'ts'][_0x991756][_0x4bf26a]!==_0x46b5aa&&(this['gl']['bindTextur'+'e'](_0x3fd11f,_0x46b5aa),this['textureUni'+'ts'][_0x991756][_0x4bf26a]=_0x46b5aa);}['bindTextur'+'eOnUnit'](_0x46d59d,_0x20d26a){const _0x16af0b=_0x46d59d['impl'],_0x46346b=_0x16af0b['_glTarget'],_0x302b35=_0x16af0b['_glTexture'],_0x823f25=this['targetToSl'+'ot'][_0x46346b];this['textureUni'+'ts'][_0x20d26a][_0x823f25]!==_0x302b35&&(this['activeText'+'ure'](_0x20d26a),this['gl']['bindTextur'+'e'](_0x46346b,_0x302b35),this['textureUni'+'ts'][_0x20d26a][_0x823f25]=_0x302b35);}['setTexture'+'Parameters'](_0x272b01){const _0x27c3a0=this['gl'],_0x3f8189=_0x272b01['impl']['dirtyParam'+'eterFlags'],_0x520997=_0x272b01['impl']['_glTarget'];if(_0x3f8189&zy){let _0x26a69c=_0x272b01['_minFilter'];(!_0x272b01['_mipmaps']||_0x272b01['_compresse'+'d']&&_0x272b01['_levels']['length']===-0x6f*0xc+-0x324+-0x1*-0x859)&&(_0x26a69c===fc||_0x26a69c===pc?_0x26a69c=de:(_0x26a69c===mc||_0x26a69c===nn)&&(_0x26a69c=st)),_0x27c3a0['texParamet'+'eri'](_0x520997,_0x27c3a0['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x26a69c]);}if(_0x3f8189&Uy&&_0x27c3a0['texParamet'+'eri'](_0x520997,_0x27c3a0['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x272b01['_magFilter']]),_0x3f8189&Vy&&_0x27c3a0['texParamet'+'eri'](_0x520997,_0x27c3a0['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x272b01['_addressU']]),_0x3f8189&Gy&&_0x27c3a0['texParamet'+'eri'](_0x520997,_0x27c3a0['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x272b01['_addressV']]),_0x3f8189&Hy&&_0x27c3a0['texParamet'+'eri'](_0x520997,_0x27c3a0['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x272b01['_addressW']]),_0x3f8189&Wy&&_0x27c3a0['texParamet'+'eri'](_0x520997,_0x27c3a0['TEXTURE_CO'+'MPARE_MODE'],_0x272b01['_compareOn'+'Read']?_0x27c3a0['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x27c3a0['NONE']),_0x3f8189&$y&&_0x27c3a0['texParamet'+'eri'](_0x520997,_0x27c3a0['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x272b01['_compareFu'+'nc']]),_0x3f8189&qy){const _0xb52bf4=this['extTexture'+'FilterAnis'+'otropic'];_0xb52bf4&&_0x27c3a0['texParamet'+'erf'](_0x520997,_0xb52bf4['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],N['clamp'](Math['round'](_0x272b01['_anisotrop'+'y']),-0x36d+-0xd53+-0x1*-0x10c1,this['maxAnisotr'+'opy']));}}['setTexture'](_0x50dbd3,_0x3a37f0){const _0x6b32d0=_0x50dbd3['impl'];_0x6b32d0['_glTexture']||_0x6b32d0['initialize'](this,_0x50dbd3),_0x6b32d0['dirtyParam'+'eterFlags']>-0x1ab5+-0x3b*0x2+0x1b2b||_0x50dbd3['_needsUplo'+'ad']||_0x50dbd3['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x3a37f0),this['bindTextur'+'e'](_0x50dbd3),_0x6b32d0['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x50dbd3),_0x6b32d0['dirtyParam'+'eterFlags']=0x155*-0x7+-0x5be+0x1*0xf11),(_0x50dbd3['_needsUplo'+'ad']||_0x50dbd3['_needsMipm'+'apsUpload'])&&(_0x6b32d0['upload'](this,_0x50dbd3),_0x50dbd3['_needsUplo'+'ad']=!(0x1*0x1e79+-0x1*-0x1edf+0x29*-0x17f),_0x50dbd3['_needsMipm'+'apsUpload']=!(-0x6*0x3ed+0xb9e+-0x1*-0xbf1))):this['bindTextur'+'eOnUnit'](_0x50dbd3,_0x3a37f0);}['createVert'+'exArray'](_0x38922a){let _0x16dc23,_0x597f18;const _0x303acb=_0x38922a['length']>0x20c8*-0x1+-0xfa7+0x3070;if(_0x303acb){_0x16dc23='';for(let _0x4dee0a=0xd*-0x29c+0x1db6*-0x1+-0xa*-0x65d;_0x4dee0a<_0x38922a['length'];_0x4dee0a++){const _0x562144=_0x38922a[_0x4dee0a];_0x16dc23+=_0x562144['id']+_0x562144['format']['renderingH'+'ash'];}_0x597f18=this['_vaoMap']['get'](_0x16dc23);}if(!_0x597f18){const _0x572e68=this['gl'];_0x597f18=_0x572e68['createVert'+'exArray'](),_0x572e68['bindVertex'+'Array'](_0x597f18),_0x572e68['bindBuffer'](_0x572e68['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x5747f1=!(-0x1265+-0xbfe+-0x2*-0xf32);for(let _0x12b732=-0x1f0+-0x3*-0x3b9+-0x93b;_0x12b732<_0x38922a['length'];_0x12b732++){const _0x5e6f03=_0x38922a[_0x12b732];_0x572e68['bindBuffer'](_0x572e68['ARRAY_BUFF'+'ER'],_0x5e6f03['impl']['bufferId']);const _0x3022a4=_0x5e6f03['format']['elements'];for(let _0x1d18e1=0x16a*0x9+0x120e+-0x1ec8;_0x1d18e1<_0x3022a4['length'];_0x1d18e1++){const _0x295ec6=_0x3022a4[_0x1d18e1],_0x4fa98f=ve[_0x295ec6['name']];_0x4fa98f===0x1*0x5e2+-0x403*0x1+-0x1*0x1df&&(_0x5747f1=!(-0x9f0+0x8d*-0x14+0x14f4)),_0x295ec6['asInt']?_0x572e68['vertexAttr'+'ibIPointer'](_0x4fa98f,_0x295ec6['numCompone'+'nts'],this['glType'][_0x295ec6['dataType']],_0x295ec6['stride'],_0x295ec6['offset']):_0x572e68['vertexAttr'+'ibPointer'](_0x4fa98f,_0x295ec6['numCompone'+'nts'],this['glType'][_0x295ec6['dataType']],_0x295ec6['normalize'],_0x295ec6['stride'],_0x295ec6['offset']),_0x572e68['enableVert'+'exAttribAr'+'ray'](_0x4fa98f),_0x5e6f03['format']['instancing']&&_0x572e68['vertexAttr'+'ibDivisor'](_0x4fa98f,-0xc9+-0x13c*-0x12+0x1a6*-0xd);}}_0x572e68['bindVertex'+'Array'](null),_0x572e68['bindBuffer'](_0x572e68['ARRAY_BUFF'+'ER'],null),_0x303acb&&this['_vaoMap']['set'](_0x16dc23,_0x597f18),_0x5747f1||v['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x597f18;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](){const _0x208dae=this['gl'];let _0x3bae97;if(this['vertexBuff'+'ers']['length']===0x1f9c+-0x20*-0x18+-0x3*0xb89){const _0x379d4c=this['vertexBuff'+'ers'][-0x172d+0x23*0x82+-0x1*-0x567];v['assert'](_0x379d4c['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x379d4c['impl']['vao']||(_0x379d4c['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x3bae97=_0x379d4c['impl']['vao'];}else _0x3bae97=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x3bae97&&(this['boundVao']=_0x3bae97,_0x208dae['bindVertex'+'Array'](_0x3bae97)),this['clearVerte'+'xBuffer']();const _0x5bacaf=this['indexBuffe'+'r']?this['indexBuffe'+'r']['impl']['bufferId']:null;_0x208dae['bindBuffer'](_0x208dae['ELEMENT_AR'+'RAY_BUFFER'],_0x5bacaf);}['draw'](_0x23254c,_0x4b4522,_0x5bbfca){const _0xc6013f=this['gl'];if(this['activateSh'+'ader'](this),!this['shaderVali'+'d'])return;let _0x110315,_0x39b34e,_0x45b124,_0x11e364,_0x1eb182,_0x183f03,_0x5144de,_0x5cebbe;const _0x35775a=this['shader'];if(!_0x35775a)return;const _0x44a002=_0x35775a['impl']['samplers'],_0x535d79=_0x35775a['impl']['uniforms'];_0x5bbfca||this['setBuffers']();let _0x135f04=-0x1d*0x109+-0x11*-0x61+0x1794;for(let _0x5e0d65=-0x412*-0x2+0x175*-0x3+0x1*-0x3c5,_0x239ccf=_0x44a002['length'];_0x5e0d65<_0x239ccf;_0x5e0d65++){if(_0x110315=_0x44a002[_0x5e0d65],_0x39b34e=_0x110315['scopeId']['value'],!_0x39b34e){const _0x4ced33=_0x110315['scopeId']['name'];v['assert'](_0x4ced33!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),v['assert'](_0x4ced33!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x4ced33==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x39b34e=en(this,'white')),_0x4ced33==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x39b34e=en(this,'pink')),_0x39b34e||(v['errorOnce']('Shader\x20'+_0x35775a['name']+'\x20requires\x20'+_0x4ced33+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+G['toString']()+']'),_0x39b34e=en(this,'pink'));}if(_0x39b34e instanceof he)_0x45b124=_0x39b34e,this['setTexture'](_0x45b124,_0x135f04),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<0x78d+-0x1c36+0x14ab&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x45b124?v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x45b124}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x45b124&&v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x45b124})),_0x110315['slot']!==_0x135f04&&(_0xc6013f['uniform1i'](_0x110315['locationId'],_0x135f04),_0x110315['slot']=_0x135f04),_0x135f04++;else{_0x110315['array']['length']=0xfe1*0x1+0x1fb4+-0x2f95,_0x11e364=_0x39b34e['length'];for(let _0x2d0c5c=-0xf56*0x1+0x269*0x1+0xced;_0x2d0c5c<_0x11e364;_0x2d0c5c++)_0x45b124=_0x39b34e[_0x2d0c5c],this['setTexture'](_0x45b124,_0x135f04),_0x110315['array'][_0x2d0c5c]=_0x135f04,_0x135f04++;_0xc6013f['uniform1iv'](_0x110315['locationId'],_0x110315['array']);}}for(let _0x55dae9=-0x129a+0x19a9*-0x1+0x2c43,_0x3fa19a=_0x535d79['length'];_0x55dae9<_0x3fa19a;_0x55dae9++)_0x1eb182=_0x535d79[_0x55dae9],_0x183f03=_0x1eb182['scopeId'],_0x5144de=_0x1eb182['version'],_0x5cebbe=_0x183f03['versionObj'+'ect']['version'],(_0x5144de['globalId']!==_0x5cebbe['globalId']||_0x5144de['revision']!==_0x5cebbe['revision'])&&(_0x5144de['globalId']=_0x5cebbe['globalId'],_0x5144de['revision']=_0x5cebbe['revision'],_0x183f03['value']!==null&&this['commitFunc'+'tion'][_0x1eb182['dataType']](_0x1eb182,_0x183f03['value']));this['transformF'+'eedbackBuf'+'fer']&&(_0xc6013f['bindBuffer'+'Base'](_0xc6013f['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x737*0x2+0xe35*-0x1+-0x3*0x13,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0xc6013f['beginTrans'+'formFeedba'+'ck'](_0xc6013f['POINTS']));const _0x755405=this['glPrimitiv'+'e'][_0x23254c['type']],_0x1288ad=_0x23254c['count'];if(_0x23254c['indexed']){const _0x59fd96=this['indexBuffe'+'r'];v['assert'](_0x59fd96['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x6544af=_0x59fd96['impl']['glFormat'],_0x3ce082=_0x23254c['base']*_0x59fd96['bytesPerIn'+'dex'];_0x4b4522>-0x1479+0x1*-0x89f+0x1c*0x10a?_0xc6013f['drawElemen'+'tsInstance'+'d'](_0x755405,_0x1288ad,_0x6544af,_0x3ce082,_0x4b4522):_0xc6013f['drawElemen'+'ts'](_0x755405,_0x1288ad,_0x6544af,_0x3ce082);}else{const _0x2731ef=_0x23254c['base'];_0x4b4522>-0x81b*-0x1+-0x124a+0x3*0x365?_0xc6013f['drawArrays'+'Instanced'](_0x755405,_0x2731ef,_0x1288ad,_0x4b4522):_0xc6013f['drawArrays'](_0x755405,_0x2731ef,_0x1288ad);}this['transformF'+'eedbackBuf'+'fer']&&(_0xc6013f['endTransfo'+'rmFeedback'](),_0xc6013f['bindBuffer'+'Base'](_0xc6013f['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x65*-0x27+0x6*-0x2c9+-0x1*-0x2019,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x23254c['type']]+=_0x23254c['count']*(_0x4b4522>0x548*0x5+-0x4ef+-0x1578?_0x4b4522:-0x22d2+-0x17a1+0x3a74);}['clear'](_0x3371c4){const _0x485511=this['defaultCle'+'arOptions'];_0x3371c4=_0x3371c4||_0x485511;const _0xc1faea=_0x3371c4['flags']??_0x485511['flags'];if(_0xc1faea!==-0x2376+-0x3*-0x2cc+0x1b12){const _0x5a46f8=this['gl'];if(_0xc1faea&Co){const _0x4df1cf=_0x3371c4['color']??_0x485511['color'],_0x52591f=_0x4df1cf[0xce6+-0x1bc+0x595*-0x2],_0x2d8d00=_0x4df1cf[0x647*-0x6+0x1*0x22f8+0x2b3],_0x125bf1=_0x4df1cf[0x5f6+-0x1546+0xf52],_0x3f7d8b=_0x4df1cf[0x18a2+0x1*-0x1e43+-0x5a4*-0x1],_0x27fdeb=this['clearColor'];(_0x52591f!==_0x27fdeb['r']||_0x2d8d00!==_0x27fdeb['g']||_0x125bf1!==_0x27fdeb['b']||_0x3f7d8b!==_0x27fdeb['a'])&&(this['gl']['clearColor'](_0x52591f,_0x2d8d00,_0x125bf1,_0x3f7d8b),this['clearColor']['set'](_0x52591f,_0x2d8d00,_0x125bf1,_0x3f7d8b)),this['setBlendSt'+'ate'](_t['NOBLEND']);}if(_0xc1faea&Mo){const _0xd1660a=_0x3371c4['depth']??_0x485511['depth'];_0xd1660a!==this['clearDepth']&&(this['gl']['clearDepth'](_0xd1660a),this['clearDepth']=_0xd1660a),this['setDepthSt'+'ate'](as['WRITEDEPTH']);}if(_0xc1faea&Ah){const _0x5b8f5c=_0x3371c4['stencil']??_0x485511['stencil'];_0x5b8f5c!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x5b8f5c),this['clearStenc'+'il']=_0x5b8f5c),_0x5a46f8['stencilMas'+'k'](0x71+0x6b*0x4+-0x11e),this['stencilWri'+'teMaskFron'+'t']=-0xb*-0x37b+0x78*0x4d+0x25e*-0x1f,this['stencilWri'+'teMaskBack']=-0x1c7c+-0x1*-0x2c2+0x1ab9;}_0x5a46f8['clear'](this['glClearFla'+'g'][_0xc1faea]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x41ee25,_0x26845b,_0x13021b,_0x4e912c,_0x392441){const _0x1f2c3f=this['gl'];_0x1f2c3f['readPixels'](_0x41ee25,_0x26845b,_0x13021b,_0x4e912c,_0x1f2c3f['RGBA'],_0x1f2c3f['UNSIGNED_B'+'YTE'],_0x392441);}async['readPixels'+'Async'](_0x1dbfae,_0x411522,_0x378cc5,_0x38a365,_0x164988){var _0x3b3a63;const _0x46c1a4=this['gl'],_0x482300=(_0x5aa95d,_0x112462)=>{const _0x41be67=_0x46c1a4['fenceSync'](_0x46c1a4['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],-0x597*0x2+-0x935*-0x2+-0x73c);return this['submit'](),new Promise((_0x3d6104,_0x598941)=>{function _0x3fd63f(){const _0x3036e2=_0x46c1a4['clientWait'+'Sync'](_0x41be67,_0x5aa95d,-0x134c+0x15b9+-0x9*0x45);_0x3036e2===_0x46c1a4['WAIT_FAILE'+'D']?(_0x46c1a4['deleteSync'](_0x41be67),_0x598941(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed'))):_0x3036e2===_0x46c1a4['TIMEOUT_EX'+'PIRED']?setTimeout(_0x3fd63f,_0x112462):(_0x46c1a4['deleteSync'](_0x41be67),_0x3d6104());}_0x3fd63f();});},_0x295d06=(_0x3b3a63=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(0x1*0x68+-0x2*-0x1249+-0x24fa):_0x3b3a63['impl'],_0x4af6e7=(_0x295d06==null?void(0x15b8+0x3*0x309+-0x1ed3*0x1):_0x295d06['_glFormat'])??_0x46c1a4['RGBA'],_0x7e86b8=(_0x295d06==null?void(0x6*-0x44e+-0x53*-0x65+-0x6eb):_0x295d06['_glPixelTy'+'pe'])??_0x46c1a4['UNSIGNED_B'+'YTE'],_0xdfed8f=_0x46c1a4['createBuff'+'er']();return _0x46c1a4['bindBuffer'](_0x46c1a4['PIXEL_PACK'+'_BUFFER'],_0xdfed8f),_0x46c1a4['bufferData'](_0x46c1a4['PIXEL_PACK'+'_BUFFER'],_0x164988['byteLength'],_0x46c1a4['STREAM_REA'+'D']),_0x46c1a4['readPixels'](_0x1dbfae,_0x411522,_0x378cc5,_0x38a365,_0x4af6e7,_0x7e86b8,0x2c*-0x36+-0x1*0x6d+0x9b5),_0x46c1a4['bindBuffer'](_0x46c1a4['PIXEL_PACK'+'_BUFFER'],null),await _0x482300(0x2531*0x1+0x1ddb+-0x430c,0x24a1+0x1*0x126f+-0x44*0xcf),_0x46c1a4['bindBuffer'](_0x46c1a4['PIXEL_PACK'+'_BUFFER'],_0xdfed8f),_0x46c1a4['getBufferS'+'ubData'](_0x46c1a4['PIXEL_PACK'+'_BUFFER'],0x1613*0x1+0x1*0x1174+-0x2787,_0x164988),_0x46c1a4['bindBuffer'](_0x46c1a4['PIXEL_PACK'+'_BUFFER'],null),_0x46c1a4['deleteBuff'+'er'](_0xdfed8f),_0x164988;}['readTextur'+'eAsync'](_0x7aa392,_0x3af0d9,_0x4fe304,_0x49f8aa,_0x13878d,_0x1ab48a){const _0x58cf25=_0x1ab48a['face']??-0x17e2+-0x700+0xf71*0x2,_0x3c9fec=_0x1ab48a['renderTarg'+'et']??new pt({'colorBuffer':_0x7aa392,'depth':!(-0x115+-0x217a+0x2290),'face':_0x58cf25});v['assert'](_0x3c9fec['colorBuffe'+'r']===_0x7aa392);const _0x555a33=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0x49f8aa,_0x13878d,-0xa3*-0x5+-0x1014+0xce6,_0x7aa392['_format'])),_0x1041fc=_0x1ab48a['data']??new(Cy(_0x7aa392['_format']))(_0x555a33);return this['setRenderT'+'arget'](_0x3c9fec),this['initRender'+'Target'](_0x3c9fec),new Promise((_0x364677,_0x2cec0e)=>{this['readPixels'+'Async'](_0x3af0d9,_0x4fe304,_0x49f8aa,_0x13878d,_0x1041fc)['then'](_0x1334a7=>{_0x1ab48a['renderTarg'+'et']||_0x3c9fec['destroy'](),_0x364677(_0x1334a7);})['catch'](_0x2cec0e);});}['setAlphaTo'+'Coverage'](_0x37cc44){this['alphaToCov'+'erage']!==_0x37cc44&&(this['alphaToCov'+'erage']=_0x37cc44,_0x37cc44?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x3e6750){if(this['transformF'+'eedbackBuf'+'fer']!==_0x3e6750){this['transformF'+'eedbackBuf'+'fer']=_0x3e6750;const _0x4bad1f=this['gl'];_0x3e6750?(this['feedback']||(this['feedback']=_0x4bad1f['createTran'+'sformFeedb'+'ack']()),_0x4bad1f['bindTransf'+'ormFeedbac'+'k'](_0x4bad1f['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x4bad1f['bindTransf'+'ormFeedbac'+'k'](_0x4bad1f['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x1418fa){this['raster']!==_0x1418fa&&(this['raster']=_0x1418fa,_0x1418fa?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x13770c){if(this['stencil']!==_0x13770c){const _0x4858bc=this['gl'];_0x13770c?_0x4858bc['enable'](_0x4858bc['STENCIL_TE'+'ST']):_0x4858bc['disable'](_0x4858bc['STENCIL_TE'+'ST']),this['stencil']=_0x13770c;}}['setStencil'+'Func'](_0x32a66e,_0x1aff51,_0x470a4e){(this['stencilFun'+'cFront']!==_0x32a66e||this['stencilRef'+'Front']!==_0x1aff51||this['stencilMas'+'kFront']!==_0x470a4e||this['stencilFun'+'cBack']!==_0x32a66e||this['stencilRef'+'Back']!==_0x1aff51||this['stencilMas'+'kBack']!==_0x470a4e)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x32a66e],_0x1aff51,_0x470a4e),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x32a66e,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x1aff51,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x470a4e);}['setStencil'+'FuncFront'](_0x1233bb,_0x204cfa,_0x18bca6){if(this['stencilFun'+'cFront']!==_0x1233bb||this['stencilRef'+'Front']!==_0x204cfa||this['stencilMas'+'kFront']!==_0x18bca6){const _0x2394ae=this['gl'];_0x2394ae['stencilFun'+'cSeparate'](_0x2394ae['FRONT'],this['glComparis'+'on'][_0x1233bb],_0x204cfa,_0x18bca6),this['stencilFun'+'cFront']=_0x1233bb,this['stencilRef'+'Front']=_0x204cfa,this['stencilMas'+'kFront']=_0x18bca6;}}['setStencil'+'FuncBack'](_0x3d2cdb,_0x2eb6bb,_0x525e3e){if(this['stencilFun'+'cBack']!==_0x3d2cdb||this['stencilRef'+'Back']!==_0x2eb6bb||this['stencilMas'+'kBack']!==_0x525e3e){const _0x34e231=this['gl'];_0x34e231['stencilFun'+'cSeparate'](_0x34e231['BACK'],this['glComparis'+'on'][_0x3d2cdb],_0x2eb6bb,_0x525e3e),this['stencilFun'+'cBack']=_0x3d2cdb,this['stencilRef'+'Back']=_0x2eb6bb,this['stencilMas'+'kBack']=_0x525e3e;}}['setStencil'+'Operation'](_0x553daa,_0x158df0,_0x3ff51c,_0x5e7f0e){(this['stencilFai'+'lFront']!==_0x553daa||this['stencilZfa'+'ilFront']!==_0x158df0||this['stencilZpa'+'ssFront']!==_0x3ff51c||this['stencilFai'+'lBack']!==_0x553daa||this['stencilZfa'+'ilBack']!==_0x158df0||this['stencilZpa'+'ssBack']!==_0x3ff51c)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x553daa],this['glStencilO'+'p'][_0x158df0],this['glStencilO'+'p'][_0x3ff51c]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x553daa,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x158df0,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x3ff51c),(this['stencilWri'+'teMaskFron'+'t']!==_0x5e7f0e||this['stencilWri'+'teMaskBack']!==_0x5e7f0e)&&(this['gl']['stencilMas'+'k'](_0x5e7f0e),this['stencilWri'+'teMaskFron'+'t']=_0x5e7f0e,this['stencilWri'+'teMaskBack']=_0x5e7f0e);}['setStencil'+'OperationF'+'ront'](_0x556bcd,_0x59abdd,_0x4923b6,_0x50fd5b){(this['stencilFai'+'lFront']!==_0x556bcd||this['stencilZfa'+'ilFront']!==_0x59abdd||this['stencilZpa'+'ssFront']!==_0x4923b6)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x556bcd],this['glStencilO'+'p'][_0x59abdd],this['glStencilO'+'p'][_0x4923b6]),this['stencilFai'+'lFront']=_0x556bcd,this['stencilZfa'+'ilFront']=_0x59abdd,this['stencilZpa'+'ssFront']=_0x4923b6),this['stencilWri'+'teMaskFron'+'t']!==_0x50fd5b&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x50fd5b),this['stencilWri'+'teMaskFron'+'t']=_0x50fd5b);}['setStencil'+'OperationB'+'ack'](_0x416bb7,_0x22e80c,_0x5409f6,_0x19a208){(this['stencilFai'+'lBack']!==_0x416bb7||this['stencilZfa'+'ilBack']!==_0x22e80c||this['stencilZpa'+'ssBack']!==_0x5409f6)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x416bb7],this['glStencilO'+'p'][_0x22e80c],this['glStencilO'+'p'][_0x5409f6]),this['stencilFai'+'lBack']=_0x416bb7,this['stencilZfa'+'ilBack']=_0x22e80c,this['stencilZpa'+'ssBack']=_0x5409f6),this['stencilWri'+'teMaskBack']!==_0x19a208&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x19a208),this['stencilWri'+'teMaskBack']=_0x19a208);}['setBlendSt'+'ate'](_0x389a00){const _0x19e717=this['blendState'];if(!_0x19e717['equals'](_0x389a00)){const _0x5f1df9=this['gl'],{blend:_0x35900d,colorOp:_0x487cdf,alphaOp:_0x25d821,colorSrcFactor:_0x145ceb,colorDstFactor:_0x450c11,alphaSrcFactor:_0x19b3a3,alphaDstFactor:_0x469fa2}=_0x389a00;if(_0x19e717['blend']!==_0x35900d&&(_0x35900d?_0x5f1df9['enable'](_0x5f1df9['BLEND']):_0x5f1df9['disable'](_0x5f1df9['BLEND'])),_0x19e717['colorOp']!==_0x487cdf||_0x19e717['alphaOp']!==_0x25d821){const _0x6ec871=this['glBlendEqu'+'ation'];_0x5f1df9['blendEquat'+'ionSeparat'+'e'](_0x6ec871[_0x487cdf],_0x6ec871[_0x25d821]);}(_0x19e717['colorSrcFa'+'ctor']!==_0x145ceb||_0x19e717['colorDstFa'+'ctor']!==_0x450c11||_0x19e717['alphaSrcFa'+'ctor']!==_0x19b3a3||_0x19e717['alphaDstFa'+'ctor']!==_0x469fa2)&&_0x5f1df9['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x145ceb],this['glBlendFun'+'ctionColor'][_0x450c11],this['glBlendFun'+'ctionAlpha'][_0x19b3a3],this['glBlendFun'+'ctionAlpha'][_0x469fa2]),_0x19e717['allWrite']!==_0x389a00['allWrite']&&this['gl']['colorMask'](_0x389a00['redWrite'],_0x389a00['greenWrite'],_0x389a00['blueWrite'],_0x389a00['alphaWrite']),_0x19e717['copy'](_0x389a00);}}['setBlendCo'+'lor'](_0x2d96c5,_0x437705,_0x21e1d4,_0x594c08){const _0x2dd655=this['blendColor'];(_0x2d96c5!==_0x2dd655['r']||_0x437705!==_0x2dd655['g']||_0x21e1d4!==_0x2dd655['b']||_0x594c08!==_0x2dd655['a'])&&(this['gl']['blendColor'](_0x2d96c5,_0x437705,_0x21e1d4,_0x594c08),_0x2dd655['set'](_0x2d96c5,_0x437705,_0x21e1d4,_0x594c08));}['setStencil'+'State'](_0x27ade3,_0x4de41c){_0x27ade3||_0x4de41c?(this['setStencil'+'Test'](!(0x3*-0x50e+0x1*-0xc7c+-0x1*-0x1ba6)),_0x27ade3===_0x4de41c?(this['setStencil'+'Func'](_0x27ade3['func'],_0x27ade3['ref'],_0x27ade3['readMask']),this['setStencil'+'Operation'](_0x27ade3['fail'],_0x27ade3['zfail'],_0x27ade3['zpass'],_0x27ade3['writeMask'])):(_0x27ade3??(_0x27ade3=qs['DEFAULT']),this['setStencil'+'FuncFront'](_0x27ade3['func'],_0x27ade3['ref'],_0x27ade3['readMask']),this['setStencil'+'OperationF'+'ront'](_0x27ade3['fail'],_0x27ade3['zfail'],_0x27ade3['zpass'],_0x27ade3['writeMask']),_0x4de41c??(_0x4de41c=qs['DEFAULT']),this['setStencil'+'FuncBack'](_0x4de41c['func'],_0x4de41c['ref'],_0x4de41c['readMask']),this['setStencil'+'OperationB'+'ack'](_0x4de41c['fail'],_0x4de41c['zfail'],_0x4de41c['zpass'],_0x4de41c['writeMask']))):this['setStencil'+'Test'](!(-0x654+-0xa4*-0x12+-0x533));}['setDepthSt'+'ate'](_0x298dec){const _0x28b6fc=this['depthState'];if(!_0x28b6fc['equals'](_0x298dec)){const _0x329d3d=this['gl'],_0x1c3764=_0x298dec['write'];_0x28b6fc['write']!==_0x1c3764&&_0x329d3d['depthMask'](_0x1c3764);let {func:_0x16cc17,test:_0x2fc9a0}=_0x298dec;!_0x2fc9a0&&_0x1c3764&&(_0x2fc9a0=!(-0x1296+-0x2f*-0x27+0x145*0x9),_0x16cc17=Ai),_0x28b6fc['func']!==_0x16cc17&&_0x329d3d['depthFunc'](this['glComparis'+'on'][_0x16cc17]),_0x28b6fc['test']!==_0x2fc9a0&&(_0x2fc9a0?_0x329d3d['enable'](_0x329d3d['DEPTH_TEST']):_0x329d3d['disable'](_0x329d3d['DEPTH_TEST']));const {depthBias:_0x4d7760,depthBiasSlope:_0x2a3c7d}=_0x298dec;_0x4d7760||_0x2a3c7d?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(0x4a*0x14+0x2*0xf52+0x25*-0xfc),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x329d3d['polygonOff'+'set'](_0x2a3c7d,_0x4d7760)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(0x149*0xd+-0x1ef1+-0x195*-0x9),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x28b6fc['copy'](_0x298dec);}}['setCullMod'+'e'](_0x3a2e9f){if(this['cullMode']!==_0x3a2e9f){if(_0x3a2e9f===mt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===mt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x588016=this['glCull'][_0x3a2e9f];this['cullFace']!==_0x588016&&(this['gl']['cullFace'](_0x588016),this['cullFace']=_0x588016);}this['cullMode']=_0x3a2e9f;}}['setShader'](_0x28d07a,_0x41b9ed=!(-0x176f+0x3*-0x539+0x2f*0xd5)){_0x28d07a!==this['shader']&&(this['shader']=_0x28d07a,this['shaderAsyn'+'cCompile']=_0x41b9ed,this['shaderVali'+'d']=void(0x11*-0xbf+-0x55*0x4e+0x2695),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](_0xf50c06){const {shader:_0x2976d6}=this,{impl:_0x5b028d}=_0x2976d6;this['shaderVali'+'d']===void(-0x523*0x3+0x7*0x207+0x34*0x6)&&(_0x2976d6['failed']?this['shaderVali'+'d']=!(0x1ef5+0x40*0x4+-0x1ff4):_0x2976d6['ready']||(this['shaderAsyn'+'cCompile']?_0x5b028d['isLinked'](_0xf50c06)?_0x5b028d['finalize'](this,_0x2976d6)||(_0x2976d6['failed']=!(-0x216d*-0x1+0x2ba*-0xa+0x53*-0x13),this['shaderVali'+'d']=!(0x17*-0x86+0x1b55+-0xf4a)):this['shaderVali'+'d']=!(-0x3*0x8db+0x1803+0x28f):_0x5b028d['finalize'](this,_0x2976d6)||(_0x2976d6['failed']=!(-0x1*0x2b6+0x166b+-0x13b5),this['shaderVali'+'d']=!(0x1712+-0x2a5*-0xd+-0x1cb9*0x2)))),this['shaderVali'+'d']===void(0x1*0x14b+0x3c3*-0x9+-0x209*-0x10)&&(this['gl']['useProgram'](_0x5b028d['glProgram']),this['shaderVali'+'d']=!(-0x1c9*-0x11+-0x533*0x1+-0x1926));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x6adc97=this['gl'];this['_vaoMap']['forEach']((_0xee9c37,_0x2acc5,_0x30f69f)=>{_0x6adc97['deleteVert'+'exArray'](_0xee9c37);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x3ea899){_0x3ea899?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x1c2b0e=-0x1dc9+0x22e2+-0x4b5){const _0x4ee6c5=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x4ee6c5['loseContex'+'t'](),setTimeout(()=>_0x4ee6c5['restoreCon'+'text'](),_0x1c2b0e);}}let mb=0x62d*0x1+-0x10f8+-0x9*-0x133;class lr{constructor(_0x3d505b,_0x19dd1d,_0x517bbb,_0x747cb0=jt,_0x1516f0,_0x5a4ae9){this['device']=_0x3d505b,this['format']=_0x19dd1d,this['numIndices']=_0x517bbb,this['usage']=_0x747cb0,this['id']=mb++,this['impl']=_0x3d505b['createInde'+'xBufferImp'+'l'](this,_0x5a4ae9);const _0x57ffde=vv[_0x19dd1d];this['bytesPerIn'+'dex']=_0x57ffde,this['numBytes']=this['numIndices']*_0x57ffde,_0x1516f0?this['setData'](_0x1516f0):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x3d505b['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x9543db=this['device'],_0x53e09a=_0x9543db['buffers']['indexOf'](this);_0x53e09a!==-(-0x1352+0x2343+0xf*-0x110)&&_0x9543db['buffers']['splice'](_0x53e09a,-0x1*-0x4f+0x1ab*-0x12+0x1db8),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x9543db),this['adjustVram'+'SizeTracki'+'ng'](_0x9543db['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x31f907,_0x486ea2){v['trace'](Qx,this['id']+'\x20size:\x20'+_0x486ea2+'\x20vram.ib:\x20'+_0x31f907['ib']+'\x20=>\x20'+(_0x31f907['ib']+_0x486ea2)),_0x31f907['ib']+=_0x486ea2;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x25d76b){return _0x25d76b['byteLength']!==this['numBytes']?(v['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x25d76b['byteLength']),!(-0x1*-0xaf6+0x44*-0x3c+0xff*0x5)):(this['storage']=_0x25d76b,this['unlock'](),!(-0x2329+0xa41+0x18e8));}['_lockTyped'+'Array'](){const _0x2b217c=this['lock']();return this['format']===nr?new Uint32Array(_0x2b217c):this['format']===Pi?new Uint16Array(_0x2b217c):new Uint8Array(_0x2b217c);}['writeData'](_0x1d9646,_0x134b4d){const _0x23e7df=this['_lockTyped'+'Array']();if(_0x1d9646['length']>_0x134b4d){if(ArrayBuffer['isView'](_0x1d9646))_0x1d9646=_0x1d9646['subarray'](-0x15d6+0x1a95+-0x4bf,_0x134b4d),_0x23e7df['set'](_0x1d9646);else{for(let _0x434ea4=-0xf3d+0x26f1+0x2*-0xbda;_0x434ea4<_0x134b4d;_0x434ea4++)_0x23e7df[_0x434ea4]=_0x1d9646[_0x434ea4];}}else _0x23e7df['set'](_0x1d9646);this['unlock']();}['readData'](_0x3155f6){const _0x6d325e=this['_lockTyped'+'Array'](),_0xd66af7=this['numIndices'];if(ArrayBuffer['isView'](_0x3155f6))_0x3155f6['set'](_0x6d325e);else{_0x3155f6['length']=0x1*0x111b+-0x17bb+0x6a0;for(let _0x39b23e=-0x8e*-0x17+-0x2408+-0x296*-0x9;_0x39b23e<_0xd66af7;_0x39b23e++)_0x3155f6[_0x39b23e]=_0x6d325e[_0x39b23e];}return _0xd66af7;}}class _b{constructor(){c(this,'clearValue',new Y(0x22b5+-0x2*0x12da+0x2ff,-0x215b+-0x2553+0x46ae,-0x16ba+-0x2b*-0x16+0x1308,-0x15c2*0x1+-0xa*0x164+-0x18d*-0x17)),c(this,'clearValue'+'Linear',new Y(-0x8e5+0x33*0x4d+0x6*-0x113,-0x1*0xdee+0xe86+-0x98,-0xb2*0x2c+-0x1cec+0x3b84,0xce0+0x1db6*0x1+-0x2a95)),c(this,'clear',!(0xa98+-0x1d5b+-0x12c4*-0x1)),c(this,'store',!(0x1557+0x1893+0x2de9*-0x1)),c(this,'resolve',!(0xf21+-0x2446+-0x1*-0x1525)),c(this,'genMipmaps',!(-0xb47+0x16ee*0x1+0x47*-0x2a));}}class gb{constructor(){c(this,'clearDepth'+'Value',-0x3a5*0xa+0x29e*-0x7+0x36c5),c(this,'clearStenc'+'ilValue',-0x1946+0x34a*0x1+0x1c*0xc9),c(this,'clearDepth',!(0x246a+-0x1515+-0xf54)),c(this,'clearStenc'+'il',!(-0x1*0x1c41+0xa74*0x1+-0x1*-0x11ce)),c(this,'storeDepth',!(-0x7*-0x3b5+0x13*0xc1+-0x2845)),c(this,'resolveDep'+'th',!(0x1aed*-0x1+-0xaed*-0x1+-0x11*-0xf1)),c(this,'storeStenc'+'il',!(-0x10d2+0x9*-0x31d+-0x8c*-0x52));}}class ds{constructor(_0x57b96d){c(this,'_name'),c(this,'device'),c(this,'_enabled',!(-0xe65+0x13aa+-0x545)),c(this,'_skipStart',!(-0x1212*0x2+0x5*-0x2b1+-0x7*-0x716)),c(this,'_skipEnd',!(-0x6*-0x355+-0xb8a*-0x3+0x7*-0x7cd)),c(this,'executeEna'+'bled',!(0xc52+0xc57+-0x18a9)),c(this,'renderTarg'+'et'),c(this,'_options'),c(this,'samples',-0x1857+-0x3*-0x92+0x16a1*0x1),c(this,'colorArray'+'Ops',[]),c(this,'depthStenc'+'ilOps'),c(this,'requiresCu'+'bemaps',!(0x1922+0x338+-0x1c5a)),c(this,'fullSizeCl'+'earRect',!(-0x2125*-0x1+0x1db7+-0xfb7*0x4)),c(this,'beforePass'+'es',[]),c(this,'afterPasse'+'s',[]),(v['assert'](_0x57b96d),this['device']=_0x57b96d);}get['colorOps'](){return this['colorArray'+'Ops'][0x39f+-0x2478+-0xaf3*-0x3];}set['name'](_0x493f90){this['_name']=_0x493f90;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x4cd26a){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x4cd26a;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x49f7fa){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x49f7fa;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x18c4bc){this['_options']=_0x18c4bc,_0x18c4bc&&(this['scaleX']=this['scaleX']??-0x4*-0x2dd+0x1*-0x1c71+0x10fe,this['scaleY']=this['scaleY']??0x145b+-0x4a2*-0x1+-0xc7e*0x2);}get['options'](){return this['_options'];}['init'](_0x102af7=null,_0x2170c2){this['options']=_0x2170c2,this['renderTarg'+'et']=_0x102af7,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],-0x22f7*0x1+-0x167*-0xd+-0x10bd*-0x1),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x5f2617,_0x3bf465,_0x485e2b,_0x4a385e;const _0x36b2f9=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new gb(),_0x36b2f9!=null&&_0x36b2f9['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(0x2*0x74b+-0xeb0+0xd*0x2));const _0x48bca0=_0x36b2f9?((_0x5f2617=_0x36b2f9['_colorBuff'+'ers'])==null?void(-0x1b7a*-0x1+0xe0f+-0x1f*0x157):_0x5f2617['length'])??-0x149*-0x1b+-0x255c+0x1*0x2a9:0x1b3d+-0x2c5+0x1877*-0x1;this['colorArray'+'Ops']['length']=-0x1e5e+-0x32*-0xb5+0x2c*-0x1d;for(let _0x3e55d3=-0x4*-0x23b+-0x1c8f+0x13a3;_0x3e55d3<_0x48bca0;_0x3e55d3++){const _0x10f5bb=new _b();this['colorArray'+'Ops'][_0x3e55d3]=_0x10f5bb,this['samples']===-0x2a4*0x7+0xffd+0x280&&(_0x10f5bb['store']=!(-0x66d*0x2+-0x22a9+0x2f83),_0x10f5bb['resolve']=!(-0x3c*-0x2f+0x142c+-0x3*0xa65));const _0x4688cb=(_0x485e2b=(_0x3bf465=this['renderTarg'+'et'])==null?void(0xa*-0x232+-0x1efb+0x34ef):_0x3bf465['_colorBuff'+'ers'])==null?void(-0x799+-0x36d*-0x1+0x42c):_0x485e2b[_0x3e55d3];if((_0x4a385e=this['renderTarg'+'et'])!=null&&_0x4a385e['mipmaps']&&(_0x4688cb!=null&&_0x4688cb['mipmaps'])){const _0x378b79=ea(_0x4688cb['_format']);_0x10f5bb['genMipmaps']=!_0x378b79;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x3f1d71=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x72298d=Math['floor'](_0x3f1d71['width']*this['scaleX']),_0x3514a9=Math['floor'](_0x3f1d71['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x72298d,_0x3514a9);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x9b9460){this['_enabled']!==_0x9b9460&&(this['_enabled']=_0x9b9460,_0x9b9460?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x2edb6d){const _0x21097e=this['colorArray'+'Ops']['length'];for(let _0x41965d=0x1ec2+0x147c+0x2*-0x199f;_0x41965d<_0x21097e;_0x41965d++){const _0xeb6168=this['colorArray'+'Ops'][_0x41965d];_0x2edb6d&&(_0xeb6168['clearValue']['copy'](_0x2edb6d),_0xeb6168['clearValue'+'Linear']['linear'](_0x2edb6d)),_0xeb6168['clear']=!!_0x2edb6d;}}['setClearDe'+'pth'](_0x332ac9){_0x332ac9&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x332ac9),this['depthStenc'+'ilOps']['clearDepth']=_0x332ac9!==void(0x16f1+-0xd2d+-0x9c4);}['setClearSt'+'encil'](_0x4e8d32){_0x4e8d32&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x4e8d32),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x4e8d32!==void(0x3*-0x9d+0x1977+-0x6*0x3f0);}['render'](){if(this['enabled']){const _0x436d3f=this['device'],_0x4633a0=this['renderTarg'+'et']!==void(-0xe*-0x74+0x50*-0x7c+0x2068);v['call'](()=>{this['log'](_0x436d3f,_0x436d3f['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x4633a0&&!this['_skipStart']&&_0x436d3f['startRende'+'rPass'](this),this['execute'](),_0x4633a0&&!this['_skipEnd']&&_0x436d3f['endRenderP'+'ass'](this)),this['after'](),_0x436d3f['renderPass'+'Index']++;}}['log'](_0x15cf93,_0xb65b6e=0x1*0x16bb+-0x1*-0xa7e+-0x2139){var _0x51c3c2,_0x24a2ec,_0x2805ad;if(Xs['get'](jp)||Xs['get'](Jn)){const _0x4977fe=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x15cf93['backBuffer']:null),_0x2e2674=!!(_0x4977fe!=null&&_0x4977fe['impl']['assignedCo'+'lorTexture'])||(_0x4977fe==null?void(0xb34+-0x1652+0x58f*0x2):_0x4977fe['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(-0xa76+-0x377*0x7+-0x22b7*-0x1),_0x433561=((_0x51c3c2=_0x4977fe==null?void(-0xb4d+-0x19cd+0x1*0x251a):_0x4977fe['_colorBuff'+'ers'])==null?void(0x98d+0x1*-0xa4d+0xc0):_0x51c3c2['length'])??(_0x2e2674?-0x4*-0x949+-0xde*-0x26+-0x3*0x175d:-0x2*-0x6e9+-0x1*0x12e1+0x50f),_0x3dae1a=_0x4977fe==null?void(0x1d2*-0x3+-0x73c*-0x1+-0x2*0xe3):_0x4977fe['depth'],_0x36848c=_0x4977fe==null?void(-0x19c6+-0x11e5+0x63d*0x7):_0x4977fe['stencil'],_0x1b286b=_0x4977fe==null?void(-0x1*-0xdbe+-0x1869+0xaab):_0x4977fe['mipLevel'],_0xefd44b=_0x4977fe?'\x20RT:\x20'+(_0x4977fe?_0x4977fe['name']:'NULL')+'\x20'+(_0x433561>0x6*-0x2ef+-0x1*0x12af+0x2449?'[Color'+(_0x433561>0x1f*-0x125+0x1a52+0x22*0x45?'\x20x\x20'+_0x433561:'')+']':'')+(_0x3dae1a?'[Depth]':'')+(_0x36848c?'[Stencil]':'')+'\x20'+_0x4977fe['width']+'\x20x\x20'+_0x4977fe['height']+(this['samples']>0x1*0x714+-0x231+-0x8b*0x9?'\x20samples:\x20'+this['samples']:'')+(_0x1b286b>-0x2*0x916+-0x8*0x57+0x14e4?'\x20mipLevel:'+'\x20'+_0x1b286b:''):'',_0x4aca03=this['_skipStart']?'++':_0xb65b6e['toString']()['padEnd'](0x349*0x5+-0x41d+-0xc4e,'\x20');v['trace'](jp,_0x4aca03+':\x20'+this['name']['padEnd'](0x904+0x3d1*0x3+-0x1463,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0xefd44b['padEnd'](0x4f+0x2026+-0x2057));for(let _0xc3c1d7=-0x6*-0xcb+0x1*0x1717+-0x1bd9*0x1;_0xc3c1d7<_0x433561;_0xc3c1d7++){const _0x1324b9=this['colorArray'+'Ops'][_0xc3c1d7],_0x187e1c=(_0x24a2ec=xt['get'](_0x2e2674?_0x15cf93['backBuffer'+'Format']:_0x4977fe['getColorBu'+'ffer'](_0xc3c1d7)['format']))==null?void(-0x18ff+0x1305+0x5fa):_0x24a2ec['name'];v['trace'](Jn,'\x20\x20\x20\x20color['+_0xc3c1d7+']:\x20'+(_0x1324b9['clear']?'clear':'load')+'->'+(_0x1324b9['store']?'store':'discard')+'\x20'+(_0x1324b9['resolve']?'resolve\x20':'')+(_0x1324b9['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x187e1c+']\x20'+(_0x1324b9['clear']?'[clear:\x20'+_0x1324b9['clearValue']['toString'](!(0x2527+-0x237f+0x1a8*-0x1),!(0xa*-0xb2+0x147+0x5ad))+']':''));}if(this['depthStenc'+'ilOps']){const _0x32921d=''+(_0x4977fe['depthBuffe'+'r']?'\x20[format:\x20'+((_0x2805ad=xt['get'](_0x4977fe['depthBuffe'+'r']['format']))==null?void(-0x685*0x5+-0x260f*0x1+0x46a8):_0x2805ad['name'])+']':'');_0x3dae1a&&v['trace'](Jn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x32921d+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x36848c&&v['trace'](Jn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x32921d+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function yb(_0x26df62){this['array'][this['index']]=_0x26df62;}function xb(_0x387907,_0x33733d){this['array'][this['index']]=_0x387907,this['array'][this['index']+(0xe83+0x4dc+-0x135e)]=_0x33733d;}function Sb(_0x474e63,_0x41648a,_0x46094d){this['array'][this['index']]=_0x474e63,this['array'][this['index']+(-0x1*0x605+0x671+-0x6b)]=_0x41648a,this['array'][this['index']+(-0x3d1+0x736+-0x363)]=_0x46094d;}function vb(_0x3b9d53,_0x42e0b7,_0x1d3835,_0x342ccd){this['array'][this['index']]=_0x3b9d53,this['array'][this['index']+(-0x2d4*0x6+0x277*-0x7+0x223a)]=_0x42e0b7,this['array'][this['index']+(-0x3*-0x661+0xd0+-0x3fd*0x5)]=_0x1d3835,this['array'][this['index']+(-0x202a*-0x1+0x1*-0x26b9+-0x1d*-0x3a)]=_0x342ccd;}function bb(_0x4e38a7,_0x4f8aee,_0x332358){this['array'][_0x4e38a7]=_0x4f8aee[_0x332358];}function wb(_0x52bede,_0x2d48f5,_0x4ddc30){this['array'][_0x52bede]=_0x2d48f5[_0x4ddc30],this['array'][_0x52bede+(0x521*0x7+0x199a+-0x3d80)]=_0x2d48f5[_0x4ddc30+(0x12b+0x1503+-0x162d)];}function Tb(_0x3e43f4,_0x1d0438,_0xdb4776){this['array'][_0x3e43f4]=_0x1d0438[_0xdb4776],this['array'][_0x3e43f4+(0x230b*0x1+-0x17*0x169+-0x29b)]=_0x1d0438[_0xdb4776+(0x1597+0x1*-0xe9e+-0x6f8)],this['array'][_0x3e43f4+(-0x142c+0x464+0xfca)]=_0x1d0438[_0xdb4776+(0x7e5+0x12e2*-0x1+0x233*0x5)];}function Ab(_0x13bb90,_0x1399c6,_0x451581){this['array'][_0x13bb90]=_0x1399c6[_0x451581],this['array'][_0x13bb90+(0x1a3a+-0x1990+-0xa9)]=_0x1399c6[_0x451581+(-0x3f*0x47+0x1*-0x1b47+0x2cc1)],this['array'][_0x13bb90+(-0x3*0xbbd+0x1321+0x1018)]=_0x1399c6[_0x451581+(-0xa3*-0x11+0x7a9*-0x5+-0x6df*-0x4)],this['array'][_0x13bb90+(-0x436+0x11db+-0x5*0x2ba)]=_0x1399c6[_0x451581+(0x165*-0xf+0x9b8+-0xe*-0xcd)];}function Eb(_0x1a73ee,_0x13a14c,_0x231139){_0x13a14c[_0x231139]=this['array'][_0x1a73ee];}function Cb(_0xd824f9,_0x24db3d,_0x404c23){_0x24db3d[_0x404c23]=this['array'][_0xd824f9],_0x24db3d[_0x404c23+(-0xcfa*-0x1+0x215*0x3+-0xf6*0x14)]=this['array'][_0xd824f9+(0x1*0x1f23+-0x1c27+0x6d*-0x7)];}function Mb(_0x5553da,_0x25d867,_0x9df146){_0x25d867[_0x9df146]=this['array'][_0x5553da],_0x25d867[_0x9df146+(-0x6f7+0x1*0x397+0x5*0xad)]=this['array'][_0x5553da+(-0x1*0xaff+0x2024+-0x1524)],_0x25d867[_0x9df146+(0xe6f*0x2+-0x17ad+-0x52f)]=this['array'][_0x5553da+(0x42f+-0x2d*-0x4+-0x4e1)];}function Pb(_0x31fff3,_0x5d9607,_0x378180){_0x5d9607[_0x378180]=this['array'][_0x31fff3],_0x5d9607[_0x378180+(-0x1e45+0x1552+-0xc*-0xbf)]=this['array'][_0x31fff3+(0x13c*-0x14+0x1119+0x12*0x6c)],_0x5d9607[_0x378180+(0x515*0x1+0x25*0xc1+-0x20f8)]=this['array'][_0x31fff3+(-0x9ef*0x1+0x12*-0x1d3+-0x2ac7*-0x1)],_0x5d9607[_0x378180+(0x77c+0x1514+0x1c8d*-0x1)]=this['array'][_0x31fff3+(-0x24a7+-0x1b*0x27+0x3b5*0xb)];}class Rb{constructor(_0x34494c,_0x4c1b17,_0x20746d){switch(this['index']=-0x2e8*0x4+0x2*0xc90+-0xd80,this['numCompone'+'nts']=_0x4c1b17['numCompone'+'nts'],_0x20746d['interleave'+'d']?this['array']=new da[_0x4c1b17['dataType']](_0x34494c,_0x4c1b17['offset']):this['array']=new da[_0x4c1b17['dataType']](_0x34494c,_0x4c1b17['offset'],_0x20746d['vertexCoun'+'t']*_0x4c1b17['numCompone'+'nts']),this['stride']=_0x4c1b17['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x4c1b17['numCompone'+'nts']){case 0x1*-0x1286+0x4*0x3b9+0x13*0x31:this['set']=yb,this['getToArray']=Eb,this['setFromArr'+'ay']=bb;break;case-0x25c4*-0x1+0x140+-0x1381*0x2:this['set']=xb,this['getToArray']=Cb,this['setFromArr'+'ay']=wb;break;case-0x1*0x4e9+-0x1723+0x1c0f:this['set']=Sb,this['getToArray']=Mb,this['setFromArr'+'ay']=Tb;break;case-0xc39+-0x17*-0x25+0x7*0x146:this['set']=vb,this['getToArray']=Pb,this['setFromArr'+'ay']=Ab;break;}}['get'](_0x48ac2f){return this['array'][this['index']+_0x48ac2f];}['set'](_0xb1b819,_0xa4d6a7,_0x4aa8d,_0x478edf){}['getToArray'](_0x51af03,_0x5564fe,_0x5c2313){}['setFromArr'+'ay'](_0x5cee5e,_0xfaf917,_0x10c642){}}class go{constructor(_0x26b770){this['vertexBuff'+'er']=_0x26b770,this['vertexForm'+'atSize']=_0x26b770['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x270791=this['vertexBuff'+'er']['getFormat']();for(let _0xc9d52c=-0x4*-0x9a2+-0xc8c+-0x67f*0x4;_0xc9d52c<_0x270791['elements']['length'];_0xc9d52c++){const _0x28ce68=_0x270791['elements'][_0xc9d52c];this['accessors'][_0xc9d52c]=new Rb(this['buffer'],_0x28ce68,_0x270791),this['element'][_0x28ce68['name']]=this['accessors'][_0xc9d52c];}}['next'](_0x451012=0x15a*-0x1+0x9*-0x413+0x2606){let _0x4b0a36=-0x25e*0x9+-0x6d1+0x139*0x17;const _0x231c53=this['accessors'],_0x4d40c7=this['accessors']['length'];for(;_0x4b0a36<_0x4d40c7;){const _0x3e5d1f=_0x231c53[_0x4b0a36++];_0x3e5d1f['index']+=_0x451012*_0x3e5d1f['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x3244de,_0x1547ad,_0x22aa31){const _0x42be30=this['element'][_0x3244de];if(_0x42be30){_0x22aa31>this['vertexBuff'+'er']['numVertice'+'s']&&(v['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x22aa31+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x22aa31=this['vertexBuff'+'er']['numVertice'+'s']);const _0x358724=_0x42be30['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x666607=0x1c9*-0x15+0xd4b+0x26*0xa3;for(let _0x3fac07=0x7aa*-0x1+0x1*-0x562+-0xd0c*-0x1;_0x3fac07<_0x22aa31;_0x3fac07++)_0x42be30['setFromArr'+'ay'](_0x666607,_0x1547ad,_0x3fac07*_0x358724),_0x666607+=_0x42be30['stride'];}else{if(_0x1547ad['length']>_0x22aa31*_0x358724){const _0x3dfd90=_0x22aa31*_0x358724;if(ArrayBuffer['isView'](_0x1547ad))_0x1547ad=_0x1547ad['subarray'](0x22bc+0x83*-0x1d+-0x13e5,_0x3dfd90),_0x42be30['array']['set'](_0x1547ad);else{for(let _0x2d0f7f=0x887+-0x1711*0x1+0xe8a;_0x2d0f7f<_0x3dfd90;_0x2d0f7f++)_0x42be30['array'][_0x2d0f7f]=_0x1547ad[_0x2d0f7f];}}else _0x42be30['array']['set'](_0x1547ad);}}}['readData'](_0xa4a08e,_0x348fab){const _0x59e02b=this['element'][_0xa4a08e];let _0x2a624f=0xed*0x1b+0x266*0x4+-0x23*0xfd;if(_0x59e02b){_0x2a624f=this['vertexBuff'+'er']['numVertice'+'s'];let _0x98806e;const _0x477a33=_0x59e02b['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x348fab)&&(_0x348fab['length']=-0x21cf+0xc96+0x713*0x3),_0x59e02b['index']=-0x2*0x476+0x1801*-0x1+-0x1*-0x20ed;let _0x4b62de=0x12a4+-0x1*0x47a+-0xe2a;for(_0x98806e=0x18f2+0x1*0x4e7+-0x1dd9;_0x98806e<_0x2a624f;_0x98806e++)_0x59e02b['getToArray'](_0x4b62de,_0x348fab,_0x98806e*_0x477a33),_0x4b62de+=_0x59e02b['stride'];}else{if(ArrayBuffer['isView'](_0x348fab))_0x348fab['set'](_0x59e02b['array']);else{_0x348fab['length']=0x269*-0x3+0x1e8b+-0x5d4*0x4;const _0x47047f=_0x2a624f*_0x477a33;for(_0x98806e=0xcda+0x5*0x2a4+-0x1a0e;_0x98806e<_0x47047f;_0x98806e++)_0x348fab[_0x98806e]=_0x59e02b['array'][_0x98806e];}}}return _0x2a624f;}}const Im='mousedown',Dm='mousemove',Lm='mouseup',Mu='mousewheel',Ib=-(0x7*-0x1d5+-0x1d11+0x29e5);class Db{constructor(_0x51f418,_0x3b9cbf){c(this,'key',null),c(this,'element',null),c(this,'event',null),_0x3b9cbf&&(this['key']=_0x3b9cbf['keyCode'],this['element']=_0x3b9cbf['target'],this['event']=_0x3b9cbf);}}const Sl=new Db();function fd(_0x536a3e){return Sl['key']=_0x536a3e['keyCode'],Sl['element']=_0x536a3e['target'],Sl['event']=_0x536a3e,Sl;}function vl(_0x9b3952){return typeof _0x9b3952=='string'?_0x9b3952['toUpperCas'+'e']()['charCodeAt'](-0x672+0xd*0x236+-0x593*0x4):_0x9b3952;}const Lb={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class Fm extends ce{constructor(_0x5ef7f6,_0x1e023a={}){super(),c(this,'_element',null),c(this,'_keymap',{}),c(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x5ef7f6&&this['attach'](_0x5ef7f6),this['preventDef'+'ault']=_0x1e023a['preventDef'+'ault']||!(0xb71+0x7*-0xc4+0x185*-0x4),this['stopPropag'+'ation']=_0x1e023a['stopPropag'+'ation']||!(-0x1520+0x17b7+-0x296));}['attach'](_0x2ebc6b){this['_element']&&this['detach'](),this['_element']=_0x2ebc6b,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(0x6c+0xc5b+-0xcc6)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(0x7*-0x58f+-0x15c3*0x1+0x7*0x8ab)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(0x763+0xf44*-0x1+0x7e2)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1347+0x149*-0x3+0x1723)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(0x1871+-0x29+-0x1847));}['detach'](){if(!this['_element']){v['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x2a6*0x4+0x107b*0x1+-0x5e2)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(0x1*0x60b+-0x26fb+0x20f1));}['toKeyIdent'+'ifier'](_0xcd0828){_0xcd0828=vl(_0xcd0828);const _0x2971ca=Lb[_0xcd0828['toString']()];if(_0x2971ca)return _0x2971ca;let _0x4cbb26=_0xcd0828['toString'](0x7af*-0x1+-0xa71+0x3*0x610)['toUpperCas'+'e']();const _0x5c0c12=_0x4cbb26['length'];for(let _0x143b86=-0x252+-0x161*-0x13+-0x17e1;_0x143b86<0x1a1d+0xb*-0x6d+-0x156a-_0x5c0c12;_0x143b86++)_0x4cbb26='0'+_0x4cbb26;return'U+'+_0x4cbb26;}['_handleKey'+'Down'](_0x469b1e){const _0x41dbb1=_0x469b1e['keyCode']||_0x469b1e['charCode'];if(_0x41dbb1===void(-0x10f+0xa5f+0x950*-0x1))return;const _0x3a9f1c=this['toKeyIdent'+'ifier'](_0x41dbb1);this['_keymap'][_0x3a9f1c]=!(-0x5b*0x25+-0x12f2+-0x391*-0x9),this['fire']('keydown',fd(_0x469b1e)),this['preventDef'+'ault']&&_0x469b1e['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x469b1e['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x455eff){const _0x3369d3=_0x455eff['keyCode']||_0x455eff['charCode'];if(_0x3369d3===void(0x165d+0x1*-0x16a0+0x43))return;const _0x33d5d9=this['toKeyIdent'+'ifier'](_0x3369d3);delete this['_keymap'][_0x33d5d9],this['fire']('keyup',fd(_0x455eff)),this['preventDef'+'ault']&&_0x455eff['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x455eff['stopPropag'+'ation']();}['_handleKey'+'Press'](_0xc1a736){this['fire']('keypress',fd(_0xc1a736)),this['preventDef'+'ault']&&_0xc1a736['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0xc1a736['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x4a2b33 in this['_lastmap'])delete this['_lastmap'][_0x4a2b33];for(const _0x8db08e in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x8db08e)&&(this['_lastmap'][_0x8db08e]=this['_keymap'][_0x8db08e]);}['isPressed'](_0x4e239e){const _0x623033=vl(_0x4e239e),_0x415d47=this['toKeyIdent'+'ifier'](_0x623033);return!!this['_keymap'][_0x415d47];}['wasPressed'](_0x1879ab){const _0x3ccb67=vl(_0x1879ab),_0x3b796c=this['toKeyIdent'+'ifier'](_0x3ccb67);return!!this['_keymap'][_0x3b796c]&&!this['_lastmap'][_0x3b796c];}['wasRelease'+'d'](_0x868fc5){const _0x5e8cb8=vl(_0x868fc5),_0x30b7c2=this['toKeyIdent'+'ifier'](_0x5e8cb8);return!this['_keymap'][_0x30b7c2]&&!!this['_lastmap'][_0x30b7c2];}}c(Fm,'EVENT_KEYD'+'OWN','keydown'),c(Fm,'EVENT_KEYU'+'P','keyup');function Pu(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x4ea66f,_0x261e09){c(this,'x',-0x229e+-0x16fe*-0x1+0xba0),c(this,'y',0x207e+-0xc19+0x17*-0xe3),c(this,'dx',-0xcbd+0x1a63+-0xda6),c(this,'dy',-0x5ab*0x1+0x10e0+-0xb35),c(this,'button',Ib),c(this,'wheelDelta',0x7*-0x327+0xd63+0x8ae),c(this,'element'),c(this,'ctrlKey',!(0x19e7+0xc*-0x16f+-0x8b2)),c(this,'altKey',!(-0x12ff*-0x1+0x207f+-0x7*0x75b)),c(this,'shiftKey',!(-0xd32+-0x1*-0xca9+0x6*0x17)),c(this,'metaKey',!(-0x1ccd+-0x12b5+0x2f83)),c(this,'event');let _0x5d32eb={'x':0x0,'y':0x0};if(_0x261e09){if(_0x261e09 instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x5d32eb=_0x4ea66f['_getTarget'+'Coords'](_0x261e09);}else _0x261e09={};if(_0x5d32eb)this['x']=_0x5d32eb['x'],this['y']=_0x5d32eb['y'];else{if(Pu())this['x']=0x24e+-0x130a*-0x2+-0x2862,this['y']=-0x2003+-0x1ddc+0x3ddf;else return;}_0x261e09['type']==='wheel'&&(_0x261e09['deltaY']>-0xe14+0x4*-0x69b+0x2880?this['wheelDelta']=-0x3*-0x8cb+-0xfb8+-0x58*0x1f:_0x261e09['deltaY']<-0xcf8+0xf47+0xc5*-0x3&&(this['wheelDelta']=-(-0x1d68+-0x1960+0x36c9))),Pu()?(this['dx']=_0x261e09['movementX']||_0x261e09['webkitMove'+'mentX']||_0x261e09['mozMovemen'+'tX']||-0x11*-0x1e8+-0x69*0x20+0x8*-0x269,this['dy']=_0x261e09['movementY']||_0x261e09['webkitMove'+'mentY']||_0x261e09['mozMovemen'+'tY']||0x1621+-0x247f+-0x2*-0x72f):(this['dx']=this['x']-_0x4ea66f['_lastX'],this['dy']=this['y']-_0x4ea66f['_lastY']),(_0x261e09['type']==='mousedown'||_0x261e09['type']==='mouseup')&&(this['button']=_0x261e09['button']),this['buttons']=_0x4ea66f['_buttons']['slice'](-0x13e6+-0xc92*-0x3+0x1e*-0x98),this['element']=_0x261e09['target'],this['ctrlKey']=_0x261e09['ctrlKey']??!(-0x6d6+0xc9b+0x5c4*-0x1),this['altKey']=_0x261e09['altKey']??!(-0x1*0x163d+-0x2f*0x96+0x426*0xc),this['shiftKey']=_0x261e09['shiftKey']??!(-0xa73+0x730+0x4*0xd1),this['metaKey']=_0x261e09['metaKey']??!(0xc25*0x1+0x1*0xef9+-0x1b1d),this['event']=_0x261e09;}}class bl extends ce{constructor(_0x2ac407){super(),c(this,'_lastX',-0x4a1*0x4+-0x227e+0x3502),c(this,'_lastY',-0x16ea*-0x1+0x247d+0x25*-0x19b),c(this,'_buttons',[!(-0x1*-0x21b5+-0xc2d+-0x1587),!(-0x1824+-0x49d*-0x1+-0x32*-0x64),!(0x10f*-0x20+-0x14bc*0x1+0x1*0x369d)]),c(this,'_lastbutto'+'ns',[!(-0x2385+0x209f+0x2e7),!(-0x375*-0x9+0x219f*0x1+0x1*-0x40bb),!(0xdf9+-0x1517*0x1+-0x1*-0x71f)]),c(this,'_target',null),c(this,'_attached',!(0x12c4*-0x1+-0x9*0x33d+-0x2fea*-0x1)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0xaaa05b=>{_0xaaa05b['preventDef'+'ault']();},this['attach'](_0x2ac407));}static['isPointerL'+'ocked'](){return Pu();}['attach'](_0xc99a25){if(this['_target']=_0xc99a25,this['_attached'])return;this['_attached']=!(-0x128b+0x17f*0x18+0x27b*-0x7);const _0x584c70={'passive':!(-0x578+0x5*0x47c+-0x10f3)},_0x36cdda=ye['passiveEve'+'nts']?_0x584c70:!(-0x2*-0x153+0x1187*-0x2+-0x2069*-0x1);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x36cdda),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x36cdda),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x36cdda),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x36cdda);}['detach'](){if(!this['_attached'])return;this['_attached']=!(0xc82+0x1*-0x17a3+0xb22),this['_target']=null;const _0x54a6e5={'passive':!(-0x2f5+-0x143b+-0x7bb*-0x3)},_0x2c4e7e=ye['passiveEve'+'nts']?_0x54a6e5:!(-0x763+0x88+-0x1*-0x6dc);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x2c4e7e),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x2c4e7e),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x2c4e7e),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x2c4e7e);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x4c3edb,_0x574e3a){if(!document['body']['requestPoi'+'nterLock']){_0x574e3a&&_0x574e3a();return;}const _0xb497de=()=>{_0x4c3edb(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0xb497de);},_0x182d3a=()=>{_0x574e3a(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x182d3a);};_0x4c3edb&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0xb497de,!(-0x151d+-0xa1a*0x2+0x2952)),_0x574e3a&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x182d3a,!(-0x5*0x552+-0x13d7+0x91*0x52)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x45c1c3){if(!document['exitPointe'+'rLock'])return;const _0x22c67f=()=>{_0x45c1c3(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x22c67f);};_0x45c1c3&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x22c67f,!(0xc5*-0x1f+-0x47*-0x17+0x5*0x37f)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][-0x1cf+-0x3*0x423+0xe38]=this['_buttons'][-0x1c45+-0xa9*-0xd+0x13b0],this['_lastbutto'+'ns'][0x1d*0x16+-0x1bf6*-0x1+0x1*-0x1e73]=this['_buttons'][-0x794+-0x6f*0x15+0x10b*0x10],this['_lastbutto'+'ns'][-0x1b0a+-0x1*-0x1777+0x395]=this['_buttons'][0xd*-0x12f+0x584*-0x2+0x1a6d];}['isPressed'](_0x5022fb){return this['_buttons'][_0x5022fb];}['wasPressed'](_0xda6087){return this['_buttons'][_0xda6087]&&!this['_lastbutto'+'ns'][_0xda6087];}['wasRelease'+'d'](_0x35e4cf){return!this['_buttons'][_0x35e4cf]&&this['_lastbutto'+'ns'][_0x35e4cf];}['_handleUp'](_0x47d00b){this['_buttons'][_0x47d00b['button']]=!(0x936+-0x1fb1+-0x2*-0xb3e);const _0x23a6ef=new ta(this,_0x47d00b);_0x23a6ef['event']&&this['fire'](Lm,_0x23a6ef);}['_handleDow'+'n'](_0x3bf1f4){this['_buttons'][_0x3bf1f4['button']]=!(-0x57c+0x1af0+0x1*-0x1574);const _0x42ae81=new ta(this,_0x3bf1f4);_0x42ae81['event']&&this['fire'](Im,_0x42ae81);}['_handleMov'+'e'](_0x3d426e){const _0x5e3016=new ta(this,_0x3d426e);_0x5e3016['event']&&(this['fire'](Dm,_0x5e3016),this['_lastX']=_0x5e3016['x'],this['_lastY']=_0x5e3016['y']);}['_handleWhe'+'el'](_0x1190a1){const _0x4001b6=new ta(this,_0x1190a1);_0x4001b6['event']&&this['fire'](Mu,_0x4001b6);}['_getTarget'+'Coords'](_0x68041d){const _0x5b8273=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x14ce87=Math['floor'](_0x5b8273['left']),_0x10de0d=Math['floor'](_0x5b8273['top']);return _0x68041d['clientX']<_0x14ce87||_0x68041d['clientX']>=_0x14ce87+this['_target']['clientWidt'+'h']||_0x68041d['clientY']<_0x10de0d||_0x68041d['clientY']>=_0x10de0d+this['_target']['clientHeig'+'ht']?null:{'x':_0x68041d['clientX']-_0x14ce87,'y':_0x68041d['clientY']-_0x10de0d};}}c(bl,'EVENT_MOUS'+'EMOVE',Dm),c(bl,'EVENT_MOUS'+'EDOWN',Im),c(bl,'EVENT_MOUS'+'EUP',Lm),c(bl,'EVENT_MOUS'+'EWHEEL',Mu);const be=class be{['get'](_0x360a62,_0x3c4b4a,_0x5f5487){return typeof _0x3c4b4a=='function'&&(_0x5f5487=_0x3c4b4a,_0x3c4b4a={}),this['request']('GET',_0x360a62,_0x3c4b4a,_0x5f5487);}['post'](_0xb7b54f,_0x4b6e3b,_0x2116dd,_0x43c15d){return typeof _0x2116dd=='function'&&(_0x43c15d=_0x2116dd,_0x2116dd={}),_0x2116dd['postdata']=_0x4b6e3b,this['request']('POST',_0xb7b54f,_0x2116dd,_0x43c15d);}['put'](_0x1fb406,_0x313257,_0x2c1158,_0x215ed5){return typeof _0x2c1158=='function'&&(_0x215ed5=_0x2c1158,_0x2c1158={}),_0x2c1158['postdata']=_0x313257,this['request']('PUT',_0x1fb406,_0x2c1158,_0x215ed5);}['del'](_0xaa86a2,_0x13130f,_0x49303e){return typeof _0x13130f=='function'&&(_0x49303e=_0x13130f,_0x13130f={}),this['request']('DELETE',_0xaa86a2,_0x13130f,_0x49303e);}['request'](_0x1fd912,_0xcd01d9,_0x2aa766,_0x45417d){let _0x31e01d,_0x1a79bf,_0x1e743e,_0x1d3768=!(-0x1806+0xf81+0x886);if(typeof _0x2aa766=='function'&&(_0x45417d=_0x2aa766,_0x2aa766={}),_0x2aa766['retry']&&(_0x2aa766=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x2aa766)),_0x2aa766['callback']=_0x45417d,_0x2aa766['async']==null&&(_0x2aa766['async']=!(-0x5b7*-0x1+-0x1*-0xce+0x685*-0x1)),_0x2aa766['headers']==null&&(_0x2aa766['headers']={}),_0x2aa766['postdata']!=null){if(_0x2aa766['postdata']instanceof Document)_0x1e743e=_0x2aa766['postdata'];else{if(_0x2aa766['postdata']instanceof FormData)_0x1e743e=_0x2aa766['postdata'];else{if(_0x2aa766['postdata']instanceof Object){let _0x294ee4=_0x2aa766['headers']['Content-Ty'+'pe'];switch(_0x294ee4===void(0x1*0x2698+0x7*0x2e7+0x55b*-0xb)&&(_0x2aa766['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x294ee4=_0x2aa766['headers']['Content-Ty'+'pe']),_0x294ee4){case be['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x1e743e='';let _0x552108=!(-0x1*0x26f5+-0x1af3*0x1+0x41e8);for(const _0x2f78ca in _0x2aa766['postdata'])if(_0x2aa766['postdata']['hasOwnProp'+'erty'](_0x2f78ca)){_0x552108?_0x552108=!(0x1b2c+0x8e7+-0x51*0x72):_0x1e743e+='&';const _0x422a88=encodeURIComponent(_0x2f78ca),_0xb97623=encodeURIComponent(_0x2aa766['postdata'][_0x2f78ca]);_0x1e743e+=_0x422a88+'='+_0xb97623;}break;}default:case be['ContentTyp'+'e']['JSON']:_0x294ee4==null&&(_0x2aa766['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['JSON']),_0x1e743e=JSON['stringify'](_0x2aa766['postdata']);break;}}else _0x1e743e=_0x2aa766['postdata'];}}}if(_0x2aa766['cache']===!(0xa80+-0x1237+0x2*0x3dc)){const _0x47e13d=ne();_0x31e01d=new sd(_0xcd01d9),_0x31e01d['query']?_0x31e01d['query']=_0x31e01d['query']+'&ts='+_0x47e13d:_0x31e01d['query']='ts='+_0x47e13d,_0xcd01d9=_0x31e01d['toString']();}_0x2aa766['query']&&(_0x31e01d=new sd(_0xcd01d9),_0x1a79bf=vh(_0x31e01d['getQuery'](),_0x2aa766['query']),_0x31e01d['setQuery'](_0x1a79bf),_0xcd01d9=_0x31e01d['toString']());const _0x4df348=new XMLHttpRequest();_0x4df348['open'](_0x1fd912,_0xcd01d9,_0x2aa766['async']),_0x4df348['withCreden'+'tials']=_0x2aa766['withCreden'+'tials']!==void(-0xb6d+-0x1f2f*0x1+0x2a9c)?_0x2aa766['withCreden'+'tials']:!(-0x1ce6+-0x1f70+-0x39*-0x10f),_0x4df348['responseTy'+'pe']=_0x2aa766['responseTy'+'pe']||this['_guessResp'+'onseType'](_0xcd01d9);for(const _0x53c62c in _0x2aa766['headers'])_0x2aa766['headers']['hasOwnProp'+'erty'](_0x53c62c)&&_0x4df348['setRequest'+'Header'](_0x53c62c,_0x2aa766['headers'][_0x53c62c]);_0x4df348['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x1fd912,_0xcd01d9,_0x2aa766,_0x4df348);},_0x4df348['onerror']=()=>{this['_onError'](_0x1fd912,_0xcd01d9,_0x2aa766,_0x4df348),_0x1d3768=!(-0x161c+0x21e3+0xc9*-0xf);};try{_0x4df348['send'](_0x1e743e);}catch(_0x1b0986){_0x1d3768||_0x2aa766['error'](_0x4df348['status'],_0x4df348,_0x1b0986);}return _0x4df348;}['_guessResp'+'onseType'](_0x24ca7c){const _0x48946a=new sd(_0x24ca7c),_0x4e4ab2=fe['getExtensi'+'on'](_0x48946a['path'])['toLowerCas'+'e']();return be['binaryExte'+'nsions']['indexOf'](_0x4e4ab2)>=-0x1*0x830+0xb45+-0x315?be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x4e4ab2==='.json'?be['ResponseTy'+'pe']['JSON']:_0x4e4ab2==='.xml'?be['ResponseTy'+'pe']['DOCUMENT']:be['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x217e3e){return[be['ContentTyp'+'e']['BASIS'],be['ContentTyp'+'e']['BIN'],be['ContentTyp'+'e']['DDS'],be['ContentTyp'+'e']['GLB'],be['ContentTyp'+'e']['MP3'],be['ContentTyp'+'e']['MP4'],be['ContentTyp'+'e']['OGG'],be['ContentTyp'+'e']['OPUS'],be['ContentTyp'+'e']['WAV']]['indexOf'](_0x217e3e)>=0x26fb+0x1007+-0x3702;}['_isBinaryR'+'esponseTyp'+'e'](_0x385e98){return _0x385e98===be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x385e98===be['ResponseTy'+'pe']['BLOB']||_0x385e98===be['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x5725ad,_0x469375,_0xadc30c,_0x2c1b23){if(_0x2c1b23['readyState']===0x1*-0x19b1+0x13*-0x1de+0x1*0x3d2f)switch(_0x2c1b23['status']){case 0x4*-0x87e+0x161*0x19+-0x81:{_0x2c1b23['responseUR'+'L']&&_0x2c1b23['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x5725ad,_0x469375,_0xadc30c,_0x2c1b23):this['_onError'](_0x5725ad,_0x469375,_0xadc30c,_0x2c1b23);break;}case-0x85a*-0x4+0x1d56+-0x3df6:case-0x156e+0xb32+0xb05:case-0x14f9*-0x1+-0xd6a+0x1*-0x6c1:case-0x18b4+-0x268+0x1c4c:{this['_onSuccess'](_0x5725ad,_0x469375,_0xadc30c,_0x2c1b23);break;}default:{this['_onError'](_0x5725ad,_0x469375,_0xadc30c,_0x2c1b23);break;}}}['_onSuccess'](_0x594d83,_0x3124f5,_0x4526d4,_0x3cd066){let _0x1c0f10,_0x1e92f5;const _0x349eed=_0x3cd066['getRespons'+'eHeader']('Content-Ty'+'pe');_0x349eed&&(_0x1e92f5=_0x349eed['split'](';')[0xcaa+0x6f*-0x49+-0x12fd*-0x1]['trim']());try{this['_isBinaryC'+'ontentType'](_0x1e92f5)||this['_isBinaryR'+'esponseTyp'+'e'](_0x3cd066['responseTy'+'pe'])?_0x1c0f10=_0x3cd066['response']:_0x1e92f5===be['ContentTyp'+'e']['JSON']||_0x3124f5['split']('?')[0x129e*-0x1+-0x1e79*-0x1+-0x1*0xbdb]['endsWith']('.json')?_0x1c0f10=JSON['parse'](_0x3cd066['responseTe'+'xt']):_0x3cd066['responseTy'+'pe']===be['ResponseTy'+'pe']['DOCUMENT']||_0x1e92f5===be['ContentTyp'+'e']['XML']?_0x1c0f10=_0x3cd066['responseXM'+'L']:_0x1c0f10=_0x3cd066['responseTe'+'xt'],_0x4526d4['callback'](null,_0x1c0f10);}catch(_0x469793){_0x4526d4['callback'](_0x469793);}}['_onError'](_0x3fabae,_0x6814be,_0x222736,_0x3a925c){if(!_0x222736['retrying']){if(_0x222736['retry']&&_0x222736['retries']<_0x222736['maxRetries']){_0x222736['retries']++,_0x222736['retrying']=!(-0x445*-0x9+-0x3d*-0x71+-0xef*0x46);const _0x5e2a25=N['clamp'](Math['pow'](-0x4*0x646+-0x20ff+0x3a19,_0x222736['retries'])*be['retryDelay'],0x1*0x642+-0x810+0xe*0x21,_0x222736['maxRetryDe'+'lay']||0x344*-0x9+0xd12*-0x1+0x3dfe);console['log'](_0x3fabae+':\x20'+_0x6814be+'\x20-\x20Error\x20'+_0x3a925c['status']+('.\x20Retrying'+'\x20in\x20')+_0x5e2a25+'\x20ms'),setTimeout(()=>{_0x222736['retrying']=!(-0x742*0x3+0x1bb0+-0x5e9),this['request'](_0x3fabae,_0x6814be,_0x222736,_0x222736['callback']);},_0x5e2a25);}else _0x222736['callback'](_0x3a925c['status']===-0x12ea+0x17cb*0x1+0x4e1*-0x1?'Network\x20er'+'ror':_0x3a925c['status'],null);}}};c(be,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),c(be,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),c(be,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),c(be,'retryDelay',0xb*0x373+-0x15a7+0xb*-0x172);let ls=be;const $e=new ls();function Li(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}class kh{constructor(_0x21ab79,_0x597d86,_0x158585={}){if(this['volume']=_0x158585['volume']??-0x173c+0x5*-0x59a+0x333f,this['loop']=_0x158585['loop']??!(0x1789+0x193a+-0x30c2),this['pitch']=_0x158585['pitch']??-0x1e7e+0x23e*0x9+0xa51,this['sound']=_0x597d86,this['paused']=!(0x7c3+-0x14*-0x156+-0x1*0x227a),this['suspended']=!(0x159d+-0x1fb4+-0x1*-0xa18),this['manager']=_0x21ab79,this['source']=null,Li()){this['startTime']=-0x1c1e+-0x23fd+0x401b,this['startOffse'+'t']=-0x2089+-0xf2d+0x2fb6;const _0x3916d0=_0x21ab79['context'];this['gain']=_0x3916d0['createGain']();}else _0x597d86['audio']&&(this['source']=_0x597d86['audio']['cloneNode'](!(-0x3*-0x536+-0xd*-0x24e+-0x2d97)),this['source']['pause']());}['getVolume'](){return this['volume'];}['getLoop'](){return this['loop'];}['setLoop'](_0x2c48e7){this['loop']=_0x2c48e7,this['source']&&(this['source']['loop']=_0x2c48e7);}['getPitch'](){return this['pitch'];}['onManagerV'+'olumeChang'+'e'](){this['setVolume'](this['getVolume']());}['onManagerS'+'uspend'](){this['isPlaying']()&&!this['suspended']&&(this['suspended']=!(-0x4*-0x6f7+0x205+0x1de1*-0x1),this['pause']());}['onManagerR'+'esume'](){this['suspended']&&(this['suspended']=!(0x5e*0x6+-0x1b23+-0x54*-0x4c),this['unpause']());}['play'](){if(this['source'])throw new Error('Call\x20stop('+')\x20before\x20c'+'alling\x20pla'+'y()');this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](0x131e+0xffc+-0x231a*0x1,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']());}['pause'](){this['source']&&(this['paused']=!(-0x150+0x1*-0x2105+0x2255),this['startOffse'+'t']+=this['manager']['context']['currentTim'+'e']-this['startTime'],this['source']['stop'](0x7fb*-0x2+-0x1*0x755+0x174b),this['source']=null);}['unpause'](){if(this['source']||!this['paused']){console['warn']('Call\x20pause'+'()\x20before\x20'+'unpausing.');return;}this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](0x36*-0x4a+0x1*-0x1c33+-0x5*-0x8c3,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['paused']=!(0x4e8+0x5bb+0x551*-0x2));}['stop'](){this['source']&&(this['source']['stop'](-0x148*-0x8+-0x1962+0xf22*0x1),this['source']=null),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);}['setVolume'](_0x1cb5d7){_0x1cb5d7=N['clamp'](_0x1cb5d7,-0x101a+0x1cb7+-0xc9d,-0x2351*0x1+-0x1749+0x1*0x3a9b),this['volume']=_0x1cb5d7,this['gain']&&(this['gain']['gain']['value']=_0x1cb5d7*this['manager']['volume']);}['setPitch'](_0x257ea3){this['pitch']=_0x257ea3,this['source']&&(this['source']['playbackRa'+'te']['value']=_0x257ea3);}['isPlaying'](){return!this['paused']&&this['source']['playbackSt'+'ate']===this['source']['PLAYING_ST'+'ATE'];}['getDuratio'+'n'](){return this['source']?this['source']['buffer']['duration']:-0x5dc+-0x1*-0x26d5+-0x20f9;}['_createSou'+'rce'](){const _0x5ed082=this['manager']['context'];this['sound']['buffer']&&(this['source']=_0x5ed082['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['gain']),this['gain']['connect'](_0x5ed082['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this)));}}Li()||Object['assign'](kh['prototype'],{'play':function(){this['source']&&(this['paused']=!(-0x4*0xf7+-0xb9c+0xf79*0x1),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['source']['play']()),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']();},'pause':function(){this['source']&&(this['paused']=!(-0x1bf7+0x13*-0x58+-0x227f*-0x1),this['source']['pause']());},'unpause':function(){this['source']&&(this['paused']=!(0xd3f+-0x19f8+-0x21f*-0x6),this['source']['play']());},'stop':function(){this['source']&&this['source']['pause'](),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);},'setVolume':function(_0x2aaa91){_0x2aaa91=N['clamp'](_0x2aaa91,-0x1878+-0x1de8+0x6cc*0x8,-0x6*-0x2f+0x2f6+-0x40f*0x1),this['volume']=_0x2aaa91,this['source']&&(this['source']['volume']=_0x2aaa91*this['manager']['volume']);},'setPitch':function(_0x350aa8){this['pitch']=_0x350aa8,this['source']&&(this['source']['playbackRa'+'te']=_0x350aa8);},'getDuration':function(){return this['source']&&!isNaN(this['source']['duration'])?this['source']['duration']:-0x47*-0x1+-0xbf2*0x3+0x1*0x238f;},'isPlaying':function(){return!this['source']['paused'];}});const Fb=-0x2*0x1eab+0x5*-0x1b1+0x6cdb;class Ru extends kh{constructor(_0x160bf4,_0x291cce,_0x41a8f9){super(_0x160bf4,_0x291cce,_0x41a8f9),this['position']=new T(),this['velocity']=new T(),Li()?this['panner']=_0x160bf4['context']['createPann'+'er']():(this['maxDistanc'+'e']=Fb,this['minDistanc'+'e']=-0x2543+-0x107*0x9+0x2e83*0x1,this['rollOffFac'+'tor']=0x1*-0x4e+0x50d*-0x6+0x11*0x1cd,this['distanceMo'+'del']=Ff);}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x353fb2){this['position']['copy'](_0x353fb2);const _0x577781=this['panner'];'positionX'in _0x577781?(_0x577781['positionX']['value']=_0x353fb2['x'],_0x577781['positionY']['value']=_0x353fb2['y'],_0x577781['positionZ']['value']=_0x353fb2['z']):_0x577781['setPositio'+'n']&&_0x577781['setPositio'+'n'](_0x353fb2['x'],_0x353fb2['y'],_0x353fb2['z']);}['getVelocit'+'y'](){return v['warn']('Channel3d#'+'getVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity'];}['setVelocit'+'y'](_0xc27d34){v['warn']('Channel3d#'+'setVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity']['copy'](_0xc27d34);}['getMaxDist'+'ance'](){return this['panner']['maxDistanc'+'e'];}['setMaxDist'+'ance'](_0x15924d){this['panner']['maxDistanc'+'e']=_0x15924d;}['getMinDist'+'ance'](){return this['panner']['refDistanc'+'e'];}['setMinDist'+'ance'](_0x237b7e){this['panner']['refDistanc'+'e']=_0x237b7e;}['getRollOff'+'Factor'](){return this['panner']['rolloffFac'+'tor'];}['setRollOff'+'Factor'](_0x61f41a){this['panner']['rolloffFac'+'tor']=_0x61f41a;}['getDistanc'+'eModel'](){return this['panner']['distanceMo'+'del'];}['setDistanc'+'eModel'](_0x1f091c){this['panner']['distanceMo'+'del']=_0x1f091c;}['_createSou'+'rce'](){const _0x24ae23=this['manager']['context'];this['source']=_0x24ae23['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['panner']),this['panner']['connect'](this['gain']),this['gain']['connect'](_0x24ae23['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this));}}if(!Li()){let l=new T();const t=function(_0x43412e,_0x1fa581,_0xa20e06,_0x22c0c0,_0x22b6ac,_0x388530){l=l['sub2'](_0x43412e,_0x1fa581);const _0x54646e=l['length']();if(_0x54646e<_0xa20e06)return-0x25ee+-0x1*0xd8+0x26c7;if(_0x54646e>_0x22c0c0)return-0x2*-0xac8+0x1a20*-0x1+-0x2*-0x248;let _0x2adec8=0xa83*0x3+-0x22b5+0x32c;return _0x388530===cc?_0x2adec8=0x1957+-0xb*-0xd+-0x19e5-_0x22b6ac*(_0x54646e-_0xa20e06)/(_0x22c0c0-_0xa20e06):_0x388530===Ff?_0x2adec8=_0xa20e06/(_0xa20e06+_0x22b6ac*(_0x54646e-_0xa20e06)):_0x388530===cy&&(_0x2adec8=Math['pow'](_0x54646e/_0xa20e06,-_0x22b6ac)),N['clamp'](_0x2adec8,0x355+0x1c24+-0x1f79,0xaed*-0x1+0x1564+-0xa76);};Object['assign'](Ru['prototype'],{'setPosition':function(_0x41757f){if(this['position']['copy'](_0x41757f),this['source']){const _0x818c47=this['manager']['listener']['getPositio'+'n'](),_0x5bf6fc=t(_0x818c47,this['position'],this['minDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x3f36f2=this['getVolume']();this['source']['volume']=_0x3f36f2*_0x5bf6fc;}},'getMaxDistance':function(){return this['maxDistanc'+'e'];},'setMaxDistance':function(_0x3298ac){this['maxDistanc'+'e']=_0x3298ac;},'getMinDistance':function(){return this['minDistanc'+'e'];},'setMinDistance':function(_0x2f8949){this['minDistanc'+'e']=_0x2f8949;},'getRollOffFactor':function(){return this['rollOffFac'+'tor'];},'setRollOffFactor':function(_0x5cff99){this['rollOffFac'+'tor']=_0x5cff99;},'getDistanceModel':function(){return this['distanceMo'+'del'];},'setDistanceModel':function(_0x1aac5e){this['distanceMo'+'del']=_0x1aac5e;}});}class Ob{constructor(_0x323f0e){c(this,'_manager'),c(this,'position',new T()),c(this,'orientatio'+'n',new q()),this['_manager']=_0x323f0e;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x5d6b71){this['position']['copy'](_0x5d6b71);const _0x322e82=this['listener'];_0x322e82&&('positionX'in _0x322e82?(_0x322e82['positionX']['value']=_0x5d6b71['x'],_0x322e82['positionY']['value']=_0x5d6b71['y'],_0x322e82['positionZ']['value']=_0x5d6b71['z']):_0x322e82['setPositio'+'n']&&_0x322e82['setPositio'+'n'](_0x5d6b71['x'],_0x5d6b71['y'],_0x5d6b71['z']));}['setOrienta'+'tion'](_0x581aae){this['orientatio'+'n']['copy'](_0x581aae);const _0x572084=this['listener'];if(_0x572084){const _0x1c67e0=_0x581aae['data'];'forwardX'in _0x572084?(_0x572084['forwardX']['value']=-_0x1c67e0[-0x1*-0x2149+0x2*-0xdd5+-0x9*0x9f],_0x572084['forwardY']['value']=-_0x1c67e0[0x1*0x1678+0x81b+-0x1e8a],_0x572084['forwardZ']['value']=-_0x1c67e0[0x11f7+-0x23d2+0x11e5],_0x572084['upX']['value']=_0x1c67e0[-0x2b3*-0x2+-0x6*-0x3fe+-0x1d56],_0x572084['upY']['value']=_0x1c67e0[0x25b8+-0x2*0x745+-0x1729],_0x572084['upZ']['value']=_0x1c67e0[0x1c52+-0x15fa+-0x652]):_0x572084['setOrienta'+'tion']&&_0x572084['setOrienta'+'tion'](-_0x1c67e0[-0x8ae+0x17e7+-0xf31],-_0x1c67e0[-0x146+-0x1*0x241b+0x256a],-_0x1c67e0[0x38c+0x1f8d+-0x230f],_0x1c67e0[0x227a+0x20d5+-0x99d*0x7],_0x1c67e0[0x4cd+-0x19f8+0x1530],_0x1c67e0[0x431*-0x1+0x6d*-0x53+0x278e]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x29c661=this['_manager']['context'];return _0x29c661?_0x29c661['listener']:null;}}const wl='running',Om=['click','touchstart','mousedown'];class kb extends ce{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||v['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(-0xbd2+0x18de+0x173*-0x9),this['listener']=new Ob(this),this['_volume']=0x2605+-0x2345*0x1+-0x25*0x13;}set['volume'](_0x300e30){_0x300e30=N['clamp'](_0x300e30,0x19b3+-0xbc8+0x1fd*-0x7,0x647*-0x4+0xfa1*0x2+0xd*-0x79),this['_volume']=_0x300e30,this['fire']('volumechan'+'ge',_0x300e30);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==wl&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(0x22e+0x8*-0x2eb+0x152a),this['_context']&&this['_context']['state']===wl&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(0x16e9+-0x1828*0x1+0x140),this['_context']&&this['_context']['state']!==wl&&this['_resume']());}['destroy'](){var _0x2ef314;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x2ef314=this['_context'])==null||_0x2ef314['close'](),this['_context']=null);}['playSound'](_0x24b924,_0xbe27be={}){let _0x3b951c=null;return kh&&(_0x3b951c=new kh(this,_0x24b924,_0xbe27be),_0x3b951c['play']()),_0x3b951c;}['playSound3'+'d'](_0x22a77d,_0xa3f718,_0x4fb927={}){let _0x25d758=null;return Ru&&(_0x25d758=new Ru(this,_0x22a77d,_0x4fb927),_0x25d758['setPositio'+'n'](_0xa3f718),_0x4fb927['volume']&&_0x25d758['setVolume'](_0x4fb927['volume']),_0x4fb927['loop']&&_0x25d758['setLoop'](_0x4fb927['loop']),_0x4fb927['maxDistanc'+'e']&&_0x25d758['setMaxDist'+'ance'](_0x4fb927['maxDistanc'+'e']),_0x4fb927['minDistanc'+'e']&&_0x25d758['setMinDist'+'ance'](_0x4fb927['minDistanc'+'e']),_0x4fb927['rollOffFac'+'tor']&&_0x25d758['setRollOff'+'Factor'](_0x4fb927['rollOffFac'+'tor']),_0x4fb927['distanceMo'+'del']&&_0x25d758['setDistanc'+'eModel'](_0x4fb927['distanceMo'+'del']),_0x25d758['play']()),_0x25d758;}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x284810=this['_context']['createBuff'+'erSource']();_0x284810['buffer']=this['_context']['createBuff'+'er'](0x248c+0x1a9e+-0x3f29,-0x976+-0x133e*0x2+-0x1eb*-0x19,this['_context']['sampleRate']),_0x284810['connect'](this['_context']['destinatio'+'n']),_0x284810['start'](-0x54a+-0x71a+0xc64),_0x284810['onended']=_0x5cf868=>{_0x284810['disconnect'](0x141+-0x175*0x17+0x2042),this['fire']('resume');};},_0x2d87ca=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x2d87ca);})['catch'](_0x14838e=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x14838e);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x24f3a3=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x24f3a3);})['catch'](_0x1d45be=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x1d45be);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==wl&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){Om['forEach'](_0x2dd14c=>{window['addEventLi'+'stener'](_0x2dd14c,this['_unlockHan'+'dlerFunc'],!(-0x2f*-0x8d+0x8e7*0x1+-0x22c9));});}['_removeUnl'+'ockListene'+'rs'](){Om['forEach'](_0x5d2ebb=>{window['removeEven'+'tListener'](_0x5d2ebb,this['_unlockHan'+'dlerFunc'],!(-0x2*-0xc25+0x250b+-0x622*0xa));});}}class Bb{constructor(_0x1ae420){c(this,'audio'),c(this,'buffer'),_0x1ae420 instanceof Audio?this['audio']=_0x1ae420:this['buffer']=_0x1ae420;}get['duration'](){let _0xbc0c28=0x99*-0xf+-0x125*-0x1d+-0x183a;return this['buffer']?_0xbc0c28=this['buffer']['duration']:this['audio']&&(_0xbc0c28=this['audio']['duration']),_0xbc0c28||-0x1f9f*-0x1+-0x23c7+0x1*0x428;}}const Pt=0xb87+-0x1752+0x1*0xbcb,sa=-0x22ed+0x142c+0x1*0xec2,ws=0x4e*0x4+-0xbaf*0x3+0x21d7;function Rt(_0x5847b0,_0x3c2bd4){return _0x5847b0%_0x3c2bd4||0x13c9+0x189f+0x658*-0x7;}class ss extends ce{constructor(_0x36f3aa,_0x55919e,_0x556dc7){super(),c(this,'source',null),(this['_manager']=_0x36f3aa,this['_volume']=_0x556dc7['volume']!==void(0x2298+-0xce*0x1d+0x16*-0x83)?N['clamp'](Number(_0x556dc7['volume'])||-0x25b6*-0x1+-0xe0*-0xe+-0x5*0x9fe,0x1f67+0xbd1*-0x1+0x6d*-0x2e,0x2019+-0x9*-0x86+0x1*-0x24ce):0x17f3+0x1def+-0x35e1,this['_pitch']=_0x556dc7['pitch']!==void(-0x3*0x7bd+0x410*-0x1+0x1b47)?Math['max'](0x1c4c+-0x251*0x9+-0x773+0.01,Number(_0x556dc7['pitch'])||-0x1ea7+0x47*0x5b+0x56a):-0x2627*0x1+0x7b1+0x1e77,this['_loop']=!!(_0x556dc7['loop']!==void(-0x1edf+-0x3*-0x3ef+-0x989*-0x2)&&_0x556dc7['loop']),this['_sound']=_0x55919e,this['_state']=ws,this['_suspended']=!(0x81e+0x1*0x261b+-0x22*0x15c),this['_suspendEn'+'dEvent']=-0x1*0x1969+-0x1*0x12be+-0x59*-0x7f,this['_suspendIn'+'stanceEven'+'ts']=!(0xe10+0x1d78+0x3f5*-0xb),this['_playWhenL'+'oaded']=!(0xdf9+-0x1*-0x1c03+-0x2*0x14fe),this['_startTime']=Math['max'](0x1ad7*0x1+-0x1*-0x35b+-0x1e32,Number(_0x556dc7['startTime'])||0x1042*0x2+-0xefd+-0x1187),this['_duration']=Math['max'](0x180d*-0x1+-0x1cc5+0x34d2,Number(_0x556dc7['duration'])||0x223*-0x4+-0x78b*0x5+0x1*0x2e43),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x556dc7['onPlay'],this['_onPauseCa'+'llback']=_0x556dc7['onPause'],this['_onResumeC'+'allback']=_0x556dc7['onResume'],this['_onStopCal'+'lback']=_0x556dc7['onStop'],this['_onEndCall'+'back']=_0x556dc7['onEnd'],Li()?(this['_startedAt']=-0x4*-0x415+0x47a+-0x14ce,this['_currentTi'+'me']=0x9b9+0x24c1+-0x52a*0x9,this['_currentOf'+'fset']=-0x7d3+0x6a*0x46+0x1529*-0x1,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x35*0x6e+-0x481+0x1b48),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(-0x8*0x14e+0x1fea+-0x1579),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x57d8b3){if(!(_0x57d8b3<0x1705+0x12*0x1a5+0x2c5*-0x13)){if(this['_state']===Pt){const _0x573821=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(-0xe91+-0x79+0xf0a),this['stop'](),this['_startOffs'+'et']=_0x57d8b3,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x573821;}else this['_startOffs'+'et']=_0x57d8b3,this['_currentTi'+'me']=_0x57d8b3;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===sa?this['_currentTi'+'me']:this['_state']===ws||!this['source']?-0x1ff4+0x55*0x39+0xd07:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x53eac6){this['_duration']=Math['max'](-0x1*0xf+0x20*0x88+-0x10f1,Number(_0x53eac6)||-0x1*0x112e+0xa9d*-0x1+0x1bcb);const _0x3ea2f4=this['_state']===Pt;this['stop'](),_0x3ea2f4&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?Rt(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:0x25f7*-0x1+0xccb+0x192c;}get['isPaused'](){return this['_state']===sa;}get['isPlaying'](){return this['_state']===Pt;}get['isStopped'](){return this['_state']===ws;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x11abac){this['_loop']=!!_0x11abac,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x1de1a2){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x1de1a2)||-0x1*-0x191f+0x793+-0x345*0xa,-0x2545+-0xebf+-0x1a02*-0x2+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x52f536){this['_sound']=_0x52f536,this['_state']!==ws?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x54b962){this['_startTime']=Math['max'](0x23*-0x107+-0x3*-0x76b+0xdb4,Number(_0x54b962)||-0x9*0x2ed+-0x1ae9+-0x353e*-0x1);const _0x2f6064=this['_state']===Pt;this['stop'](),_0x2f6064&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x657459){_0x657459=N['clamp'](_0x657459,0x1*-0xd53+0x1cd*-0x1+-0x10*-0xf2,-0x49*-0x71+0x1125+-0x315d*0x1),this['_volume']=_0x657459,this['gain']&&(this['gain']['gain']['value']=_0x657459*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>-0x1c5*0x14+0x1*0x923+0x1a41){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Pt&&!this['_suspended']&&(this['_suspended']=!(0x3*-0xb26+-0x11d0+0x3342),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(0x85a+0x6*-0x59e+-0x195b*-0x1),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==ws&&this['stop'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(0xe31+-0x19*-0xf1+-0x105*0x25),this['_waitingCo'+'ntextSuspe'+'nsion']?!(0x256d+-0x8*0x25f+-0x1274):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x156d+-0x741*-0x2+-0x23ef),!(0x2130+0x1*0xe6b+-0x2f9a)):(this['_playAudio'+'Immediate'](),!(0x2*0x1105+0x1*-0x112d+-0x10dd*0x1));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x9ad*-0x3+0x26cc+-0x1*0x43d2),this['_state']!==Pt)return;this['source']||this['_createSou'+'rce']();let _0x4fe9ea=Rt(this['_startOffs'+'et'],this['duration']);_0x4fe9ea=Rt(this['_startTime']+_0x4fe9ea,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](-0x2459+0x2481+-0x28,_0x4fe9ea,this['_duration']):this['source']['start'](0x1*0x1842+0x1b6*0x8+-0x25f2,_0x4fe9ea),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=0x1*-0x1ab2+-0xe78+0x292a,this['_currentOf'+'fset']=_0x4fe9ea,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(0xcdc+-0x46*-0x79+-0x26b*0x13),this['_state']!==Pt?!(-0x22ae*0x1+-0x6f4*-0x5+-0x15):(this['_state']=sa,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](-0x38*-0x8b+0x2*-0x13d+-0x1a*0x113),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(0x106+0x57*-0x5f+0x1f43*0x1));}['resume'](){if(this['_state']!==sa)return!(-0x2061+-0x2*0x5b8+0x2bd2);let _0x22cda4=this['currentTim'+'e'];return this['_state']=Pt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0x22cda4=Rt(this['_startOffs'+'et'],this['duration']),_0x22cda4=Rt(this['_startTime']+_0x22cda4,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](0xf5c+-0x3bd+-0xb9f,_0x22cda4,this['_duration']):this['source']['start'](-0x463+-0x1*-0x1e25+-0x19c2,_0x22cda4),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0x22cda4,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(-0xe91+-0x1*0x1bd3+0x2a65),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x29a+-0x4*0x26+0x332);}['stop'](){if(this['_playWhenL'+'oaded']=!(0x1cf2+-0x1*0x100f+-0xce2),this['_state']===ws)return!(-0x115e+0x69e+0xac1);const _0xa0d37a=this['_state']===Pt;return this['_state']=ws,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=-0x3ae*-0x3+-0x1*-0xb6a+-0x1674,this['_currentTi'+'me']=-0x29e+0x19c1+-0x1723,this['_currentOf'+'fset']=0x244d+-0x562*-0x7+-0x49fb,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0xa0d37a&&this['source']&&this['source']['stop'](0x1ac8+-0x125f*-0x2+0x2f*-0x15a),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(-0x42d+0x23bf+-0x1f92);}['setExterna'+'lNodes'](_0x31952a,_0x2f2f50){if(!_0x31952a){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x2f2f50||(_0x2f2f50=_0x31952a);const _0x3c4bf1=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x31952a&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x3c4bf1),this['_firstNode']=_0x31952a,this['_connector'+'Node']['connect'](_0x31952a)),this['_lastNode']!==_0x2f2f50&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x3c4bf1),this['_lastNode']=_0x2f2f50,this['_lastNode']['connect'](_0x3c4bf1));}['clearExter'+'nalNodes'](){const _0x2a26cf=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x2a26cf),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x2a26cf);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x3c5f3e=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x3c5f3e['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=Rt(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],Rt(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=Rt((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Pt&&(this['source']['stop'](0x1a*0x10f+0x14c+0xd9*-0x22),this['source']=null);}}c(ss,'EVENT_PLAY','play'),c(ss,'EVENT_PAUS'+'E','pause'),c(ss,'EVENT_RESU'+'ME','resume'),c(ss,'EVENT_STOP','stop'),c(ss,'EVENT_END','end'),Li()||(Object['assign'](ss['prototype'],{'play':function(){return this['_state']!==ws&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(0xc3+-0x7*-0x20e+-0x3*0x50c):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(-0x32*0x36+0x1738+-0xcab),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(0x3*-0x99+-0x2647+0x2812));},'pause':function(){return!this['source']||this['_state']!==Pt?!(-0x1621+-0x9fd+0x201f):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0xe52+0x26ed+-0x189a),this['_state']=sa,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(-0x1a18+-0x4d0+0x1ee8));},'resume':function(){return!this['source']||this['_state']!==sa?!(0x21*0x4f+-0x70f*-0x5+-0x2d79*0x1):(this['_state']=Pt,this['_playWhenL'+'oaded']=!(0x5b5+0x19ae*-0x1+0x13fa),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x19b7+0x5*-0xaf+-0x164c));},'stop':function(){return!this['source']||this['_state']===ws?!(-0x52*-0x49+0x1b17*0x1+-0x3278):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x16d1*0x1+0x2395*0x1+0x1c5*-0x21),this['_state']=ws,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(-0x19b2+-0x1*-0x25c0+0x607*-0x2));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(-0x1972+0xc68*-0x1+0x25da);let _0x1d84df=Rt(this['_startOffs'+'et'],this['duration']);_0x1d84df=Rt(this['_startTime']+_0x1d84df,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x1d84df;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(0x3*0x6fd+-0x7*-0x28d+-0x26d1),this['source']=this['_sound']['audio']['cloneNode'](!(-0x25f3+0x4b5*0x5+0x735*0x2)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>Rt(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=Rt(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](ss['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x3ff669){_0x3ff669=N['clamp'](_0x3ff669,-0x11ab+0x8c3+0x17c*0x6,0x2573*-0x1+-0x3cb*0x5+0x386b),this['_volume']=_0x3ff669,this['source']&&(this['source']['volume']=_0x3ff669*this['_manager']['volume']);}}),Object['defineProp'+'erty'](ss['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x5ece7b){this['_pitch']=Math['max'](Number(_0x5ece7b)||0x71d+0x1a5f+-0x1*0x217c,0xdf1+-0xed+-0xd04+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](ss['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x2c8807){this['stop'](),this['_sound']=_0x2c8807;}}),Object['defineProp'+'erty'](ss['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===ws||!this['source']?0x7e*0x1c+-0x1*-0x4d4+-0xc*0x18d:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x3422d1){_0x3422d1<0x1*-0x1db9+-0x7*-0x4f0+-0x4d7||(this['_startOffs'+'et']=_0x3422d1,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=Rt(this['_startTime']+Rt(_0x3422d1,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Nb=0x3c7d*-0x1+0x568+0x7*0xd73;class jn extends ss{constructor(_0x29d8ae,_0x3bc0cd,_0xeb4b68={}){super(_0x29d8ae,_0x3bc0cd,_0xeb4b68),c(this,'_position',new T()),c(this,'_velocity',new T()),(_0xeb4b68['position']&&(this['position']=_0xeb4b68['position']),this['maxDistanc'+'e']=_0xeb4b68['maxDistanc'+'e']!==void(-0x1ef6+0x177*-0x1+0x206d)?Number(_0xeb4b68['maxDistanc'+'e']):Nb,this['refDistanc'+'e']=_0xeb4b68['refDistanc'+'e']!==void(0x166*0x1+-0x245f*-0x1+0x1*-0x25c5)?Number(_0xeb4b68['refDistanc'+'e']):0x1dd3+-0x1eb*-0x2+-0x21a8,this['rollOffFac'+'tor']=_0xeb4b68['rollOffFac'+'tor']!==void(0x4*-0x279+0x35*-0x1+0xa19)?Number(_0xeb4b68['rollOffFac'+'tor']):0x2b7*0x4+0x26ac+-0x3187,this['distanceMo'+'del']=_0xeb4b68['distanceMo'+'del']!==void(0x1*0x191+-0x218e+0x1ffd)?_0xeb4b68['distanceMo'+'del']:cc);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0xd428ff){this['_position']['copy'](_0xd428ff);const _0x211711=this['panner'];'positionX'in _0x211711?(_0x211711['positionX']['value']=_0xd428ff['x'],_0x211711['positionY']['value']=_0xd428ff['y'],_0x211711['positionZ']['value']=_0xd428ff['z']):_0x211711['setPositio'+'n']&&_0x211711['setPositio'+'n'](_0xd428ff['x'],_0xd428ff['y'],_0xd428ff['z']);}get['position'](){return this['_position'];}set['velocity'](_0x4f2433){v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x4f2433);}get['velocity'](){return v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x4924f6){this['panner']['maxDistanc'+'e']=_0x4924f6;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x2898bb){this['panner']['refDistanc'+'e']=_0x2898bb;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x2c7193){this['panner']['rolloffFac'+'tor']=_0x2c7193;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x442794){this['panner']['distanceMo'+'del']=_0x442794;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Li()){let l=new T();const t=function(_0x4e2ca6,_0x4e21a3,_0x900c69,_0x5c190b,_0x87ef29,_0x27ad60){l=l['sub2'](_0x4e2ca6,_0x4e21a3);const _0x3cd019=l['length']();if(_0x3cd019<_0x900c69)return 0x3e*-0x5c+0x2348*0x1+-0x1*0xcff;if(_0x3cd019>_0x5c190b)return-0x66*-0x14+0xe60+-0x478*0x5;let _0x5c2829=-0x13e*-0x15+0x17cc+-0x31e2;return _0x27ad60===cc?_0x5c2829=-0xa0f+0x1*-0x1eb+-0x1*-0xbfb-_0x87ef29*(_0x3cd019-_0x900c69)/(_0x5c190b-_0x900c69):_0x27ad60===Ff?_0x5c2829=_0x900c69/(_0x900c69+_0x87ef29*(_0x3cd019-_0x900c69)):_0x27ad60===cy&&(_0x5c2829=Math['pow'](_0x3cd019/_0x900c69,-_0x87ef29)),N['clamp'](_0x5c2829,0xa3c+-0xcf4+-0xc*-0x3a,0x26bd*0x1+-0x1*-0x1107+-0xb27*0x5);};Object['defineProp'+'erty'](jn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x5558ff){if(this['_position']['copy'](_0x5558ff),this['source']){const _0x2f9688=this['_manager']['listener']['getPositio'+'n'](),_0x14086f=t(_0x2f9688,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x19a9a8=this['volume'];this['source']['volume']=_0x19a9a8*_0x14086f*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](jn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x6f452c){this['_maxDistan'+'ce']=_0x6f452c;}}),Object['defineProp'+'erty'](jn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x5dfb24){this['_refDistan'+'ce']=_0x5dfb24;}}),Object['defineProp'+'erty'](jn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x53e3c2){this['_rollOffFa'+'ctor']=_0x53e3c2;}}),Object['defineProp'+'erty'](jn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x56593a){this['_distanceM'+'odel']=_0x56593a;}});}const n0=-0xd*-0x24d+-0x1779*0x1+0x67*-0x10,yp=-0x1d06+-0xe3d+-0x15a2*-0x2,Kt=0x12b0+-0xb4f+-0x75f,is=0x9e4+-0xbbb+-0x4f*-0x6,hr=0xf59*-0x1+-0x17fe+-0x145*-0x1f,xp=-0x180e+-0x1*-0x65c+-0x11b7*-0x1,Hc=0x4ed*-0x7+0x1*-0x1681+-0x1*-0x3902,a0=-0x21d7+-0x6*0x173+0x2a90,o0=-0x1de4*-0x1+0x9df*-0x1+0x7*-0x2db,l0=0x1d1*0x11+0x2464+-0x433c,h0=0x195c+0x41*0x82+-0x3a54,Fa='none',zb='linear',Sp=0x404*-0x7+0x9*-0x2f0+-0x1b47*-0x2,Ub=0x4*-0x89e+0x98e*-0x3+0x3f22,Vb=0xac1*-0x2+-0x2*-0xd88+0x58c*-0x1,c0=0x1*0x20a4+0x17ce+-0x1*0x3863,Fi=0x2f1+-0x1cd3+0x19e2,Xt=0x1ebf+0x1306*-0x1+-0xbb8,vp=0x153*0x1d+-0x5*-0x2bb+0xd03*-0x4,bp=-0xca*0x1d+-0x195d+0x6*0x80b,tl=0x836+0x2*-0x18a+-0x51e,oe=0x1*-0xc3d+0x5*-0x179+0x139a,Pe=0x19*0x99+-0xc6a+0x22*-0x13,Re=-0x24a6+-0x1459*-0x1+0x104f,yt=0x130e+0x1*0xe8d+-0x219b,Gb=-0x1*-0x665+-0x2491+-0x67*-0x4b,Hb=0x1*-0x5be+0x1d*-0x142+0x2a3a,Wb=0x2495+0x1120+-0x35b2,wp=0x3*-0x90f+-0x33d+0x1ca*0x11,$b=-0x172c+0x59e*-0x5+0x3343,Dt=0x1e4*0x2+0x53c+0x904*-0x1,Hr=0x234d*-0x1+0x5d*0x43+0xaf8,Wr=0x20bb+-0x195*-0x5+-0x1*0x28a1,lh=0x1*-0x48b+0x9d2*-0x1+0xe61,Bh=-0x14b*-0xd+-0x4bf+-0xc0b,Ts=0x52d*0x1+-0x1cc8+0x17a1*0x1,Nh=0x93b+-0xb9c*-0x2+-0x206c,zh=-0x1cb1+-0x4b3*0x1+0x216c,Iu=-0x4*0x1+-0x1fe7+-0x7fd*-0x4,ir=new Map([[Bh,{'name':'PCF1_32F','format':Ci,'pcf':!(0x1096*0x2+0x1*0xb3+-0x21df)}],[Dt,{'name':'PCF3_32F','format':Ci,'pcf':!(0x67*-0x10+0x1994+-0x1324)}],[lh,{'name':'PCF5_32F','format':Ci,'pcf':!(0x35b+-0xed9+0xb7e)}],[Nh,{'name':'PCF1_16F','format':la,'pcf':!(0x21cc+0x186c+-0x3a38)}],[zh,{'name':'PCF3_16F','format':la,'pcf':!(-0x2579+-0xa79*0x2+0xf*0x3e5)}],[Iu,{'name':'PCF5_16F','format':la,'pcf':!(-0x1*-0x14bd+0x21f3*-0x1+-0x69b*-0x2)}],[Hr,{'name':'VSM_16F','format':Je,'vsm':!(0x4c0*-0x2+-0x1*-0x117a+0x7fa*-0x1)}],[Wr,{'name':'VSM_32F','format':Ke,'vsm':!(-0x157*0x1c+0x267b+-0xf7)}],[Ts,{'name':'PCSS_32F','format':Ii,'pcss':!(-0xf6b*-0x1+0xbdb+-0x1b46)}]]),Tp=0x196e+0x1a4e+-0x33bb,Du=-0x1f17+-0xccd*-0x2+0x57d,d0=-0x428+-0xfd*0xe+0x11fe*0x1,Vs=0xd99*0x1+-0x2*0x506+0x65*-0x9,qb=-0x83d+-0xdf+-0x1*-0x91d,Uh=0x224+0x1d7f+-0x1fa3,Xb=0x2528+0x1*0xa7b+-0x2fa2,Gs=0xb36+-0xef+-0xa47*0x1,ua=0x2091+-0x823*0x1+-0x1e1*0xd,yo=0xb65*0x1+-0x2513+0x1*0x19ae,Dr=-0x11a7*-0x1+-0xe*-0x1+-0x11b4,Tl=-0x10b*0x1a+-0xa27+-0xc6d*-0x3,u0=0x1c02+0x44b+-0x204d,jb=-0x236*-0x3+-0x2*0xcbb+0x12d5,km='mul',sl=0x263*-0x1+0x10ef+-0xc4*0x13,hh=-0x2648*0x1+-0x1713+-0x1474*-0x3,Yb={[sl]:'NONE',[hh]:'SRGB'},Ap=0xa3f+0xe1+-0x2*0x590,aF=-0xc*0x13d+-0x1d*0x65+-0x4a*-0x5b,oF=-0x210f+0x5a1*-0x2+0x2c53*0x1,lF=-0x1c2c+0x251*0xe+-0x43f,hF=0x1b6c+0xe91+0x865*-0x5,cF=-0x19a2*0x1+0x1*-0x8e2+-0x4ef*-0x7,f0=-0x1ee7+0x1*0x1ce1+0x20c,p0=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],Kb=-0x2342+0x1c82+0x6c0,Bo=-0x113*-0x14+0x1972+-0x2eed,Lu=-0x2a1*0x6+0x1640+-0x678,Ep=0x1*-0x59c+0x76*0x1+0x527*0x1,Wc=-0x68*0xd+-0x11ac+0x16f6,m0=0x1*0x12be+0xa65*-0x2+-0x4*-0x84,_0=-0x4*0x5f8+-0xa0b+0x3*0xb51,g0=0x1f07+0x157c+-0x1*0x3473,$c=0x94f*-0x3+-0x53*-0x31+0xc2a,Fu=-0x1c89+-0x1d2c+0x39f5,y0=-0x1*-0x24af+-0x1597+-0x4*0x3a6,Cp=0x251+-0x1f70+-0xb*-0x2bd,Mp=0x11b8+0x1*-0xf95+-0x7*0x5,qc=0x542*-0x5+-0x12c7+0x35*0xed,Xc=-0x167*-0xb+0x8a6+-0x1013*0x1,x0=-0x347*-0x1+-0x1fd7*-0x1+-0x131e,jc=-0x1159*0x1+-0x2*0x175f+0x6017,Ou=-0x1de*0xf+-0xb87+-0x5d*-0x11d,Ps=0xcb6+0x1027*0x2+-0x2d04,cn=0x175*0xa+-0x1658+0x7c7,Pp=0x137a+-0xeb7*0x2+0x9f6,Ei=0x2c9*-0x7+0x221f+-0xea0,ku=0x7*0xbc+0x566*-0x2+0x15*0x45,hs=0x15af+0x5b8+-0x1b66,cr=0x38b*-0x3+0x5f+0xa44,rr=-0x59*-0x18+-0x315+-0x53f,gn=0x6f*0x3+0x945+-0xa92,il=-0xbf2+0xcc1*-0x2+0x2575,rl=-0x1bcc+0x19e0+0x1ee,Oa=0x1b90+0x1e9b+-0x2*0x1d14,Rp=0x2370+-0x197e+-0x29*0x3e,Ti=0xe1*0x27+-0x239c+0x1*0x155,nt=0x2144+0x1a90+-0x3bd3,Qe=0x1bc4+-0x2c*-0x59+-0x2b0e,ch=0x1*0xb96+-0x1adc+0xf47,Al=-0x1e9a+-0x1d41+0x3bdb,dh=0x2401+0x3a5*-0x7+-0xa7e,Zb=-0x1*-0xc1+-0x9db+0x91b,Qb=-0x2*-0xd28+-0x305*-0xa+0xe20*-0x4,Bm=-0x167+-0x597+0x1*0x701,Jb=-0x7b*-0x10+-0x3ed*-0x2+-0x7c3*0x2,ew=0x2190+-0x11ad+-0x54a*0x3,Ip=-0x59*0x4c+-0xbfb*0x2+0x3262,Bu=-0x1*-0x1d21+-0x51*-0x1e+0x134f*-0x2,pe=-0x16d9*-0x1+-0x2*0x12a7+0x1*0xe75,ke=0x1a8c+-0x214c*-0x1+-0x1*0x3bd7,xo='infinite',tw='box',sw='dome',Rs='none',Nm='bayer8',iw='prerender',rw='postrender',nw='prerender:'+'layer',aw='postrender'+':layer',ow='precull',lw='postcull';class Yc{constructor(_0x52ae50,_0x530cfc,_0x3b5daf){c(this,'uniformFor'+'mats',[]),c(this,'bindGroupF'+'ormats',[]),c(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][Dh]=_0x52ae50,this['bindGroupF'+'ormats'][Dh]=_0x530cfc,this['vertexForm'+'at']=_0x3b5daf);}['hasUniform'](_0x48e0a3){for(let _0x402ee2=-0x817+0x1*-0x22c+0xa43;_0x402ee2<this['uniformFor'+'mats']['length'];_0x402ee2++){const _0x5378ab=this['uniformFor'+'mats'][_0x402ee2];if(_0x5378ab!=null&&_0x5378ab['get'](_0x48e0a3))return!(-0x17*0xfe+-0xab1*-0x3+-0x941);}return!(-0x421+0x2508+0x20e6*-0x1);}['hasTexture'](_0x492cc0){for(let _0x4d1d67=0x285*-0xe+-0x142c+0x3772;_0x4d1d67<this['bindGroupF'+'ormats']['length'];_0x4d1d67++){const _0xa92ca1=this['bindGroupF'+'ormats'][_0x4d1d67];if(_0xa92ca1!=null&&_0xa92ca1['getTexture'](_0x492cc0))return!(-0x1*0xa45+-0x148a+0x1ecf);}return!(-0x23*0x6d+0xe2b*-0x1+0x1d13);}['getVertexE'+'lement'](_0x5a00c4){var _0x2429c9;return(_0x2429c9=this['vertexForm'+'at'])==null?void(-0x1345+-0x1*0x1bdb+0x2f20):_0x2429c9['elements']['find'](_0xa5b7f3=>_0xa5b7f3['name']===_0x5a00c4);}['generateKe'+'y'](_0x50a41d){var _0x53193f;let _0x2788b0=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x50a41d['isWebGPU']&&(_0x2788b0+=(_0x53193f=this['vertexForm'+'at'])==null?void(0x1f1a+0x2ad+-0x21c7):_0x53193f['shaderProc'+'essingHash'+'String']),_0x2788b0;}}const hw='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',cw='\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20li'+'ght_global'+'Ambient;\x0a}'+'\x0a',dw='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20normaliz'+'e(cubeMapR'+'otate(worl'+'dNormal)\x20*'+'\x20vec3(-1.0'+',\x201.0,\x201.0'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+'28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20raw'+'\x20=\x20texture'+'2D(texture'+'_envAtlas,'+'\x20uv);\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'r\x20=\x20$DECOD'+'E(raw);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a}\x0a',uw='\x0auniform\x20v'+'ec3\x20ambien'+'tSH[9];\x0a\x0av'+'oid\x20addAmb'+'ient(vec3\x20'+'worldNorma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[0]\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[1]\x20*\x20'+'n.x\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[3]\x20*\x20n.'+'z\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[4]\x20*\x20n.x'+'\x20*\x20n.z\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[5]\x20'+'*\x20n.z\x20*\x20n.'+'y\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[6]\x20*\x20n.y'+'\x20*\x20n.x\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[8]\x20*'+'\x20(n.x\x20*\x20n.'+'x\x20-\x20n.y\x20*\x20'+'n.y);\x0a\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(max'+'(color,\x20ve'+'c3(0.0)));'+'\x0a}\x0a',fw='\x0a\x0a#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'AO_INTENSI'+'TY\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'aoIntensit'+'y;\x0a#endif\x0a'+'\x0avoid\x20getA'+'O()\x20{\x0a\x20\x20\x20\x20'+'dAo\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ao'+'Base\x20=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'ddAoDetail'+'(aoBase);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAo\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'$VC);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20A'+'O_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'material_a'+'oIntensity'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',pw='\x0afloat\x20add'+'AoDetail(f'+'loat\x20ao)\x20{'+'\x0a#ifdef\x20MA'+'PTEXTURE\x0a\x20'+'\x20\x20\x20float\x20a'+'oDetail\x20=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20return\x20de'+'tailMode_$'+'DETAILMODE'+'(vec3(ao),'+'\x20vec3(aoDe'+'tail)).r;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ao;'+'\x0a#endif\x0a}\x0a',mw='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',_w='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x20\x20\x20\x20spec'+'Occ\x20=\x20mix('+'1.0,\x20specO'+'cc,\x20materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20dRef'+'lection\x20*='+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x0a#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20sSpe'+'cularLight'+'\x20*=\x20specOc'+'c;\x0a\x20\x20\x20\x20sRe'+'flection\x20*'+'=\x20specOcc;'+'\x0a#endif\x0a}\x0a',gw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x0a\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20specO'+'cc;\x0a\x20\x20\x20\x20dR'+'eflection\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20\x0a#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20s'+'Reflection'+'\x20*=\x20specOc'+'c;\x0a#endif\x0a'+'}\x0a',yw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20dSpecul'+'arLight\x20*='+'\x20ao;\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20*=\x20ao;\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'sSpecularL'+'ight\x20*=\x20ao'+';\x0a\x20\x20\x20\x20sRef'+'lection\x20*='+'\x20ao;\x0a#endi'+'f\x0a}\x0a',xw='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20float\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20ao'+',\x20material'+'_occludeSp'+'ecularInte'+'nsity);\x0a\x20\x20'+'\x20\x20dSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20*=\x20sp'+'ecOcc;\x0a\x0a#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20s'+'SpecularLi'+'ght\x20*=\x20spe'+'cOcc;\x0a\x20\x20\x20\x20'+'sReflectio'+'n\x20*=\x20specO'+'cc;\x0a#endif'+'\x0a}\x0a',Sw='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',vw='\x0aattribute'+'\x20vec4\x20vert'+'ex_tangent'+';\x0aattribut'+'e\x20vec2\x20ver'+'tex_texCoo'+'rd0;\x0aattri'+'bute\x20vec2\x20'+'vertex_tex'+'Coord1;\x0aat'+'tribute\x20ve'+'c4\x20vertex_'+'color;\x0a\x0ave'+'c3\x20dPositi'+'onW;\x0amat4\x20'+'dModelMatr'+'ix;\x0a\x0a#incl'+'ude\x20\x22trans'+'formCoreVS'+'\x22\x0a',bw='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',ww='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a',Tw='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',Aw='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',Ew='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0auni'+'form\x20float'+'\x20weight[SA'+'MPLES];\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20moments'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20vU'+'v0\x20-\x20pixel'+'Offset\x20*\x20('+'float(SAMP'+'LES)\x20*\x200.5'+');\x0a\x20\x20\x20\x20for'+'\x20(int\x20i=0;'+'\x20i<SAMPLES'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20c\x20=\x20text'+'ure2D(sour'+'ce,\x20uv\x20+\x20p'+'ixelOffset'+'\x20*\x20float(i'+'));\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20+=\x20c.xyz'+'\x20*\x20weight['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20mome'+'nts\x20+=\x20c.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20GA'+'USS\x0a\x20\x20\x20\x20mo'+'ments\x20/=\x20f'+'loat(SAMPL'+'ES);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(moments.x'+',\x20moments.'+'y,\x20moments'+'.z,\x201.0);\x0a'+'}\x0a',Cw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoat;'+'\x0a#endif\x0a\x0av'+'oid\x20getCle'+'arCoat()\x20{'+'\x0a\x20\x20\x20\x20ccSpe'+'cularity\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20*=\x20ma'+'terial_cle'+'arCoat;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ccS'+'pecularity'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',Mw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoatG'+'loss;\x0a#end'+'if\x0a\x0avoid\x20g'+'etClearCoa'+'tGlossines'+'s()\x20{\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPFLOAT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20*='+'\x20material_'+'clearCoatG'+'loss;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'saturate(v'+'VertexColo'+'r.$VC);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPINVERT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20=\x20'+'1.0\x20-\x20ccGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20ccGl'+'ossiness\x20+'+'=\x200.000000'+'1;\x0a}\x0a',Pw='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_clearCoa'+'tBumpiness'+';\x0a#endif\x0a\x0a'+'void\x20getCl'+'earCoatNor'+'mal()\x20{\x0a#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20norma'+'lMap\x20=\x20unp'+'ackNormal('+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+'));\x0a\x20\x20\x20\x20no'+'rmalMap\x20=\x20'+'mix(vec3(0'+'.0,\x200.0,\x201'+'.0),\x20norma'+'lMap,\x20mate'+'rial_clear'+'CoatBumpin'+'ess);\x0a\x20\x20\x20\x20'+'ccNormalW\x20'+'=\x20normaliz'+'e(dTBN\x20*\x20n'+'ormalMap);'+'\x0a#else\x0a\x20\x20\x20'+'\x20ccNormalW'+'\x20=\x20dVertex'+'NormalW;\x0a#'+'endif\x0a}\x0a',Rw='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.z'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if(vAbs.'+'y\x20>=\x20vAbs.'+'x)\x20{\x20\x20//\x20t'+'op\x20index\x202'+',\x20bottom\x20i'+'ndex\x203\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20face'+'Index\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x203.0\x20:\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2(di'+'r.x,\x20dir.y'+'\x20<\x200.0\x20?\x20-'+'dir.z\x20:\x20di'+'r.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x20\x20\x20\x20'+'//\x20left\x20/\x20'+'right\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.x\x20<\x200.0\x20?'+'\x201.0\x20:\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.x;\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x\x20<\x200.0\x20?'+'\x20dir.z\x20:\x20-'+'dir.z,\x20-di'+'r.y);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.x\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20return'+'\x20uv\x20*\x20ma\x20+'+'\x200.5;\x0a}\x0a\x0a/'+'/\x20converts'+'\x20unnormali'+'zed\x20direct'+'ion\x20vector'+'\x20to\x20a\x20text'+'ure\x20coordi'+'nate\x20for\x20a'+'\x20cubemap\x20f'+'ace\x20stored'+'\x20within\x20te'+'xture\x20atla'+'s\x20describe'+'d\x20by\x20the\x20v'+'iewport\x0ave'+'c2\x20getCube'+'mapAtlasCo'+'ordinates('+'const\x20vec3'+'\x20omniAtlas'+'Viewport,\x20'+'float\x20shad'+'owEdgePixe'+'ls,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20const'+'\x20vec3\x20dir)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20faceIn'+'dex;\x0a\x20\x20\x20\x20v'+'ec2\x20tileOf'+'fset;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'getCubemap'+'FaceCoordi'+'nates(dir,'+'\x20faceIndex'+',\x20tileOffs'+'et);\x0a\x0a\x20\x20\x20\x20'+'//\x20move\x20uv'+'\x20coordinat'+'es\x20inwards'+'\x20inside\x20to'+'\x20compensat'+'e\x20for\x20larg'+'er\x20fov\x20whe'+'n\x20renderin'+'g\x20shadow\x20i'+'nto\x20atlas\x0a'+'\x20\x20\x20\x20float\x20'+'atlasFaceS'+'ize\x20=\x20omni'+'AtlasViewp'+'ort.z;\x0a\x20\x20\x20'+'\x20float\x20til'+'eSize\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20float\x20o'+'ffset\x20=\x20sh'+'adowEdgePi'+'xels\x20/\x20til'+'eSize;\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20vec2(1.0\x20'+'-\x20offset\x20*'+'\x202.0)\x20+\x20ve'+'c2(offset\x20'+'*\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20scal'+'e\x20uv\x20coord'+'inates\x20to\x20'+'cube\x20face\x20'+'area\x20withi'+'n\x20the\x20view'+'port\x0a\x20\x20\x20\x20u'+'v\x20*=\x20atlas'+'FaceSize;\x0a'+'\x0a\x20\x20\x20\x20//\x20of'+'fset\x20into\x20'+'face\x20of\x20th')+('e\x20atlas\x20(3'+'x3\x20grid)\x0a\x20'+'\x20\x20\x20uv\x20+=\x20t'+'ileOffset\x20'+'*\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20the'+'\x20atlas\x20vie'+'wport\x0a\x20\x20\x20\x20'+'uv\x20+=\x20omni'+'AtlasViewp'+'ort.xy;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'uv;\x0a}\x0a'),Iw='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20bool\x20is'+'Rgb,\x20vec4\x20'+'cookieChan'+'nel)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20pixe'+'l\x20=\x20mix(ve'+'c4(1.0),\x20t'+'exture2DLo'+'d(tex,\x20uv,'+'\x200.0),\x20int'+'ensity);\x0a\x20'+'\x20\x20\x20return\x20'+'isRgb\x20==\x20t'+'rue\x20?\x20pixe'+'l.rgb\x20:\x20ve'+'c3(dot(pix'+'el,\x20cookie'+'Channel));'+'\x0a}\x0a\x0a//\x20get'+'Cookie2D\x20f'+'or\x20cluster'+'ed\x20lightin'+'g\x20includin'+'g\x20channel\x20'+'selector\x0av'+'ec3\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_ACCEPT('+'tex),\x20mat4'+'\x20transform'+',\x20vec3\x20wor'+'ldPosition'+',\x20float\x20in'+'tensity,\x20b'+'ool\x20isRgb,'+'\x20vec4\x20cook'+'ieChannel)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(TEXTURE_P'+'ASS(tex),\x20'+'projPos.xy'+'\x20/\x20projPos'+'.w,\x20intens'+'ity,\x20isRgb'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20bool\x20isR'+'gb,\x20vec4\x20c'+'ookieChann'+'el,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20float'+'\x20shadowEdg'+'ePixels,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+('lution,\x20di'+'r);\x0a\x20\x20\x20\x20re'+'turn\x20_getC'+'ookieClust'+'ered(TEXTU'+'RE_PASS(te'+'x),\x20uv,\x20in'+'tensity,\x20i'+'sRgb,\x20cook'+'ieChannel)'+';\x0a}\x0a'),Dw='\x0a//\x20Cluste'+'red\x20Omni\x20S'+'ampling\x20us'+'ing\x20atlas\x0a'+'\x0avoid\x20_get'+'ShadowCoor'+'dPerspZbuf'+'fer(mat4\x20s'+'hadowMatri'+'x,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20wPo'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20projPo'+'s\x20=\x20shadow'+'Matrix\x20*\x20v'+'ec4(wPos,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'projPos.xy'+'z\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'dShadowCoo'+'rd\x20=\x20projP'+'os.xyz;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0avo'+'id\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(mat4\x20sha'+'dowMatrix,'+'\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20wPos\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y;\x0a\x20'+'\x20\x20\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20inout\x20ve'+'c3\x20lightDi'+'r,\x20vec3\x20li'+'ghtDirNorm'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20float\x20dis'+'tScale\x20=\x20l'+'ength(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20vec3\x20wPos'+'\x20=\x20vPositi'+'onW\x20+\x20norm'+'al\x20*\x20shado'+'wParams.y\x20'+'*\x20clamp(1.'+'0\x20-\x20dot(no'+'rmal,\x20-lig'+'htDirNorm)'+',\x200.0,\x201.0'+')\x20*\x20distSc'+'ale;\x20//0.0'+'2\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20wPo'+'s\x20-\x20lightP'+'os;\x0a\x20\x20\x20\x20re'+'turn\x20dir;\x0a'+'}\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x0afloat\x20ge'+'tShadowOmn'+'iClustered'+'PCF1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+('dgePixels,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'hadowTextu'+'reResoluti'+'on\x20=\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20getCu'+'bemapAtlas'+'Coordinate'+'s(omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20s'+'hadowTextu'+'reResoluti'+'on,\x20lightD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'v,\x20shadowZ'+'));\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF3(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'5)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF5(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4')+('\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a//\x20Cl'+'ustered\x20Sp'+'ot\x20Samplin'+'g\x20using\x20at'+'las\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x0afloat\x20'+'getShadowS'+'potCluster'+'edPCF1(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20text'+'ureShadow('+'shadowMap,'+'\x20shadowCoo'+'rd);\x0a}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0afloat'+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms)\x20{\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA'+'DOWMAP_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a}\x0a\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF5)'+'\x0a\x0afloat\x20ge'+'tShadowSpo'+'tClustered')+('PCF5(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a}\x0a#en'+'dif\x0a'),Lw='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20clust'+'erWorldTex'+'ture;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ure8;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ureFloat;\x0a'+'\x0a//\x20comple'+'x\x20ifdef\x20ex'+'pression\x20a'+'re\x20not\x20sup'+'ported,\x20ha'+'ndle\x20it\x20he'+'re\x0a//\x20defi'+'ned(CLUSTE'+'R_COOKIES)'+'\x20||\x20define'+'d(CLUSTER_'+'SHADOWS)\x0a#'+'if\x20defined'+'(CLUSTER_C'+'OOKIES)\x0a\x20\x20'+'\x20\x20#define\x20'+'CLUSTER_CO'+'OKIES_OR_S'+'HADOWS\x0a#en'+'dif\x0a#if\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x20\x20\x20\x20#de'+'fine\x20CLUST'+'ER_COOKIES'+'_OR_SHADOW'+'S\x0a#endif\x0a\x0a'+'#ifdef\x20CLU'+'STER_SHADO'+'WS\x0a\x20\x20\x20\x20//\x20'+'TODO:\x20when'+'\x20VSM\x20shado'+'w\x20is\x20suppo'+'rted,\x20it\x20n'+'eeds\x20to\x20us'+'e\x20sampler2'+'D\x20in\x20webgl'+'2\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2DShadow\x20'+'shadowAtla'+'sTexture;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20CLUST'+'ER_COOKIES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20cookieA'+'tlasTextur'+'e;\x0a#endif\x0a'+'\x0auniform\x20i'+'nt\x20cluster'+'MaxCells;\x0a'+'\x0a//\x201.0\x20if'+'\x20clustered'+'\x20lighting\x20'+'can\x20be\x20ski'+'pped\x20(0\x20li'+'ghts\x20in\x20th'+'e\x20clusters'+')\x0auniform\x20'+'float\x20clus'+'terSkip;\x0a\x0a'+'uniform\x20ve'+'c3\x20cluster'+'CellsCount'+'ByBoundsSi'+'ze;\x0aunifor'+'m\x20vec3\x20clu'+'sterTextur'+'eSize;\x0auni'+'form\x20vec3\x20'+'clusterBou'+'ndsMin;\x0aun'+'iform\x20vec3'+'\x20clusterBo'+'undsDelta;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsDot;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsMax;'+'\x0auniform\x20v'+'ec2\x20cluste'+'rCompressi'+'onLimit0;\x0a'+('uniform\x20ve'+'c2\x20shadowA'+'tlasParams'+';\x0a\x0a//\x20stru'+'cture\x20stor'+'ing\x20light\x20'+'properties'+'\x20of\x20a\x20clus'+'tered\x20ligh'+'t\x0a//\x20it\x27s\x20'+'sorted\x20to\x20'+'have\x20all\x20v'+'ectors\x20ali'+'gned\x20to\x204\x20'+'floats\x20to\x20'+'limit\x20padd'+'ing\x0astruct'+'\x20ClusterLi'+'ghtData\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20s'+'izes\x20/\x20ori'+'entation\x0a\x20'+'\x20\x20\x20vec3\x20ha'+'lfWidth;\x0a\x0a'+'\x20\x20\x20\x20//\x20typ'+'e\x20of\x20the\x20l'+'ight\x20(spot'+'\x20or\x20omni)\x0a'+'\x20\x20\x20\x20float\x20'+'lightType;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'sizes\x20/\x20or'+'ientation\x0a'+'\x20\x20\x20\x20vec3\x20h'+'alfHeight;'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20int\x20l'+'ightIndex;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20position\x0a'+'\x20\x20\x20\x20vec3\x20p'+'osition;\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20fl'+'oat\x20shape;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20direction'+'\x20(spot\x20lig'+'ht\x20only)\x0a\x20'+'\x20\x20\x20vec3\x20di'+'rection;\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20follow\x20'+'mode\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ffMode;\x0a\x0a\x20'+'\x20\x20\x20//\x20colo'+'r\x0a\x20\x20\x20\x20vec3'+'\x20color;\x0a\x0a\x20'+'\x20\x20\x20//\x200.0\x20'+'if\x20the\x20lig'+'ht\x20doesn\x27t'+'\x20cast\x20shad'+'ows\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'tlas\x20viewp'+'ort\x20for\x20om'+'ni\x20light\x20s'+'hadow\x20and\x20'+'cookie\x20(.x'+'y\x20is\x20offse'+'t\x20to\x20the\x20v'+'iewport\x20sl'+'ot,\x20.z\x20is\x20'+'size\x20of\x20th'+'e\x20face\x20in\x20'+'the\x20atlas)'+'\x0a\x20\x20\x20\x20vec3\x20'+'omniAtlasV'+'iewport;\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'float\x20rang'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20channel\x20m'+'ask\x20-\x20one\x20'+'of\x20the\x20cha'+'nnels\x20has\x20'+'1,\x20the\x20oth'+'ers\x20are\x200\x0a'+'\x20\x20\x20\x20vec4\x20c')+('ookieChann'+'elMask;\x0a\x0a\x20'+'\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20inner\x20'+'and\x20outer\x20'+'angle\x20cosi'+'ne\x0a\x20\x20\x20\x20flo'+'at\x20innerCo'+'neAngleCos'+';\x0a\x20\x20\x20\x20floa'+'t\x20outerCon'+'eAngleCos;'+'\x0a\x0a\x20\x20\x20\x20//\x201'+'.0\x20if\x20the\x20'+'light\x20has\x20'+'a\x20cookie\x20t'+'exture\x0a\x20\x20\x20'+'\x20float\x20coo'+'kie;\x0a\x0a\x20\x20\x20\x20'+'//\x201.0\x20if\x20'+'cookie\x20tex'+'ture\x20is\x20rg'+'b,\x20otherwi'+'se\x20it\x20is\x20u'+'sing\x20a\x20sin'+'gle\x20channe'+'l\x20selectab'+'le\x20by\x20cook'+'ieChannelM'+'ask\x0a\x20\x20\x20\x20fl'+'oat\x20cookie'+'Rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20intensi'+'ty\x20of\x20the\x20'+'cookie\x0a\x20\x20\x20'+'\x20float\x20coo'+'kieIntensi'+'ty;\x0a\x0a\x20\x20\x20\x20/'+'/\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20flo'+'at\x20mask;\x0a}'+';\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0am'+'at4\x20lightP'+'rojectionM'+'atrix;\x0a\x0a//'+'\x20macros\x20fo'+'r\x20light\x20pr'+'operties\x0a#'+'define\x20isC'+'lusteredLi'+'ghtCastSha'+'dow(light)'+'\x20(\x20light.s'+'hadowInten'+'sity\x20>\x200.0')+('\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kie(light)'+'\x20(light.co'+'okie\x20>\x200.5'+'\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kieRgb(lig'+'ht)\x20(light'+'.cookieRgb'+'\x20>\x200.5\x20)\x0a#'+'define\x20isC'+'lusteredLi'+'ghtSpot(li'+'ght)\x20(\x20lig'+'ht.lightTy'+'pe\x20>\x200.5\x20)'+'\x0a#define\x20i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight)\x20(\x20li'+'ght.fallof'+'fMode\x20<\x200.'+'5\x20)\x0a\x0a//\x20ma'+'cros\x20to\x20te'+'st\x20light\x20s'+'hape\x0a//\x20No'+'te:\x20Follow'+'ing\x20functi'+'ons\x20need\x20t'+'o\x20be\x20calle'+'d\x20serially'+'\x20in\x20listed'+'\x20order\x20as\x20'+'they\x20do\x20no'+'t\x20test\x20bot'+'h\x20\x27>\x27\x20and\x20'+'\x27<\x27\x0a#defin'+'e\x20isCluste'+'redLightAr'+'ea(light)\x20'+'(\x20light.sh'+'ape\x20>\x200.1\x20'+')\x0a#define\x20'+'isClustere'+'dLightRect'+'(light)\x20(\x20'+'light.shap'+'e\x20<\x200.3\x20)\x0a'+'#define\x20is'+'ClusteredL'+'ightDisk(l'+'ight)\x20(\x20li'+'ght.shape\x20'+'<\x200.6\x20)\x0a\x0a/'+'/\x20macro\x20to'+'\x20test\x20ligh'+'t\x20mask\x20(me'+'sh\x20accepts'+'\x20dynamic\x20v'+'s\x20lightmap'+'ped\x20lights'+')\x0a#ifdef\x20C'+'LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20//\x20accept'+'\x20lights\x20ma'+'rked\x20as\x20dy'+'namic\x20or\x20b'+'oth\x20dynami'+'c\x20and\x20ligh'+'tmapped\x0a\x20\x20'+'\x20\x20#define\x20'+'acceptLigh'+'tMask(ligh'+'t)\x20(\x20light'+'.mask\x20<\x200.'+'75)\x0a#else\x0a'+'\x20\x20\x20\x20//\x20acc'+'ept\x20lights'+'\x20marked\x20as'+'\x20lightmapp'+'ed\x20or\x20both'+'\x20dynamic\x20a'+'nd\x20lightma'+'pped\x0a\x20\x20\x20\x20#'+'define\x20acc'+'eptLightMa'+'sk(light)\x20'+'(\x20light.ma'+'sk\x20>\x200.25)'+'\x0a#endif\x0a\x0av'+'ec4\x20decode'+'ClusterLow'+'Range4Vec4'+'(vec4\x20d0,\x20')+('vec4\x20d1,\x20v'+'ec4\x20d2,\x20ve'+'c4\x20d3)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bytes2'+'floatRange'+'4(d0,\x20-2.0'+',\x202.0),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20byte'+'s2floatRan'+'ge4(d1,\x20-2'+'.0,\x202.0),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20by'+'tes2floatR'+'ange4(d2,\x20'+'-2.0,\x202.0)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'bytes2floa'+'tRange4(d3'+',\x20-2.0,\x202.'+'0)\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avec4\x20sa'+'mpleLights'+'Texture8(c'+'onst\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData,\x20'+'int\x20index)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20texelF'+'etch(light'+'sTexture8,'+'\x20ivec2(ind'+'ex,\x20cluste'+'rLightData'+'.lightInde'+'x),\x200);\x0a}\x0a'+'\x0avec4\x20samp'+'leLightTex'+'tureF(cons'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20int'+'\x20index)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20texelFetc'+'h(lightsTe'+'xtureFloat'+',\x20ivec2(in'+'dex,\x20clust'+'erLightDat'+'a.lightInd'+'ex),\x200);\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightCore('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData,'+'\x20float\x20lig'+'htIndex)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.lightInd'+'ex\x20=\x20int(l'+'ightIndex)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'shared\x20dat'+'a\x20from\x208bi'+'t\x20texture\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightInfo\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_FL'+'AGS);\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.lig'+'htType\x20=\x20l'+'ightInfo.x'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shape\x20='+'\x20lightInfo'+'.y;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.fallo'+'ffMode\x20=\x20l'+'ightInfo.z'+';\x0a\x20\x20\x20\x20clus'+'terLightDa')+('ta.shadowI'+'ntensity\x20='+'\x20lightInfo'+'.w;\x0a\x0a\x20\x20\x20\x20/'+'/\x20color\x0a\x20\x20'+'\x20\x20vec4\x20col'+'orA\x20=\x20samp'+'leLightsTe'+'xture8(clu'+'sterLightD'+'ata,\x20CLUST'+'ER_TEXTURE'+'_8_COLOR_A'+');\x0a\x20\x20\x20\x20vec'+'4\x20colorB\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_CO'+'LOR_B);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.c'+'olor\x20=\x20vec'+'3(bytes2fl'+'oat2(color'+'A.xy),\x20byt'+'es2float2('+'colorA.zw)'+',\x20bytes2fl'+'oat2(color'+'B.xy))\x20*\x20c'+'lusterComp'+'ressionLim'+'it0.y;\x0a\x0a\x20\x20'+'\x20\x20//\x20cooki'+'e\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.cookie\x20'+'=\x20colorB.z'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.mask\x20=\x20c'+'olorB.w;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightPosRan'+'ge\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_POSITION_'+'RANGE);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.p'+'osition\x20=\x20'+'lightPosRa'+'nge.xyz;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'range\x20=\x20li'+'ghtPosRang'+'e.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20ve'+'c4\x20lightDi'+'r_Unused\x20='+'\x20sampleLig'+'htTextureF'+'(clusterLi'+'ghtData,\x20C'+'LUSTER_TEX'+'TURE_F_SPO'+'T_DIRECTIO'+'N);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.direc'+'tion\x20=\x20lig'+'htDir_Unus'+'ed.xyz;\x0a}\x0a'+'\x0avoid\x20deco'+'deClusterL'+'ightSpot(i'+'nout\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20cos\x20angle'+'s\x0a\x20\x20\x20\x20vec4'+'\x20coneAngle'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste')+('rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'SPOT_ANGLE'+'S);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20bytes'+'2float2(co'+'neAngle.xy'+')\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20byte'+'s2float2(c'+'oneAngle.z'+'w)\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_F_'+'PROJ_MAT_0'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_AREA_D'+'ATA_WIDTH)'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20CL'+'USTER_TEXT'+'URE_F_AREA'+'_DATA_HEIG'+'HT).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20CLU'+'STER_TEXTU'+'RE_F_PROJ_'+'MAT_0);\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_F_PR'+'OJ_MAT_1);'+'\x0a\x20\x20\x20\x20vec4\x20')+('m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_PROJ_MAT_'+'2);\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_PROJ_M'+'AT_3);\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'4\x20biases\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_SH'+'ADOW_BIAS)'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shadowB'+'ias\x20=\x20byte'+'s2floatRan'+'ge2(biases'+'.xy,\x20-1.0,'+'\x2020.0),\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.s'+'hadowNorma'+'lBias\x20=\x20by'+'tes2float2'+'(biases.zw'+');\x0a}\x0a\x0avoid'+'\x20decodeClu'+'sterLightC'+'ookieData('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20cookieA'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'COOKIE_A);'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'cookieA.x;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieRg'+'b\x20=\x20cookie'+'A.y;\x0a\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.coo'+'kieChannel'+'Mask\x20=\x20sam'+'pleLightsT'+'exture8(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_8_COOKIE'+'_B);\x0a}\x0a\x0avo'+'id\x20evaluat'+'eLight(\x0a\x20\x20'+'\x20\x20ClusterL'+'ightData\x20l'+'ight,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v')+('iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20vec3\x20c'+'learcoatRe'+'flectionDi'+'r,\x0a#endif\x0a'+'\x20\x20\x20\x20float\x20'+'gloss,\x20\x0a\x20\x20'+'\x20\x20vec3\x20spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'geometricN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20mat3\x20tbn'+',\x20\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20vec3\x20cle'+'arcoat_wor'+'ldNormal,\x0a'+'\x20\x20\x20\x20float\x20'+'clearcoat_'+'gloss,\x0a\x20\x20\x20'+'\x20float\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20float\x20'+'iridescenc'+'e_intensit'+'y\x0a)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cook'+'ieAttenuat'+'ion\x20=\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20float\x20dif'+'fuseAttenu'+'ation\x20=\x201.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20falloff'+'Attenuatio'+'n\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20omni'+'\x20part\x20of\x20t'+'he\x20light\x0a\x20'+'\x20\x20\x20getLigh'+'tDirPoint('+'light.posi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20//\x20dist'+'ance\x20atten'+'uation\x0a\x20\x20\x20'+'\x20if\x20(isClu'+'steredLigh'+'tArea(ligh'+'t))\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20area\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20decodeCl'+'usterLight'+'AreaData(l'+'ight);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20h'+'andle\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightRect'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(light.p'+'osition,\x20l'+'ight.halfW'+'idth,\x20ligh'+'t.halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(isClus'+'teredLight'+'Disk(light'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cal'+'cDiskLight'+'Values(lig'+'ht.positio'+'n,\x20light.h')+('alfWidth,\x20'+'light.half'+'Height);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x20//\x20s'+'phere\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcSphereLi'+'ghtValues('+'light.posi'+'tion,\x20ligh'+'t.halfWidt'+'h,\x20light.h'+'alfHeight)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20falloffAt'+'tenuation\x20'+'=\x20getFallo'+'ffWindow(l'+'ight.range'+',\x20dLightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight))\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20=\x20'+'getFalloff'+'Linear(lig'+'ht.range,\x20'+'dLightDirW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffI'+'nvSquared('+'light.rang'+'e,\x20dLightD'+'irW);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightAre'+'a(light))\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtRect(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20diffus'+'eAttenuati'+'on\x20=\x20getRe'+'ctLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20dLi'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(isCl'+'usteredLig'+'htDisk(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getDis'+'kLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirW,\x20dL'+'ightDirNor'+'mW)\x20*\x2016.0')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20*='+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW);\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isCluste'+'redLightSp'+'ot(light))'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_COO'+'KIES_OR_SH'+'ADOWS)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'falloffAtt'+'enuation\x20>'+'\x200.00001)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x20/\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightCast'+'Shadow(lig'+'ht)\x20||\x20isC'+'lusteredLi'+'ghtCookie('+'light))\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'shared\x20sha'+'dow\x20/\x20cook'+'ie\x20data\x20de'+'pends\x20on\x20l'+'ight\x20type\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightSpot'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightP'+'rojectionM'+'atrixData('+'light);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tOmniAtlas'+'Viewport(l'+'ight);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adowTextur'+'eResolutio'+'n\x20=\x20shadow'+'AtlasParam'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dowEdgePix'+'els\x20=\x20shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(isClus'+'teredLight'+'Cookie(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dec'+'odeCluster'+'LightCooki'+'eData(ligh'+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightSpot('+'light))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightProjec'+'tionMatrix'+',\x20vPositio'+'nW,\x20light.'+'cookieInte'+'nsity,\x20isC'+'lusteredLi'+'ghtCookieR'+'gb(light),'+'\x20light.coo'+'kieChannel'+'Mask);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookieC'+'ubeCluster'+'ed(TEXTURE'+'_PASS(cook'+'ieAtlasTex'+'ture),\x20dLi'+'ghtDirW,\x20l'+'ight.cooki'+'eIntensity'+',\x20isCluste'+'redLightCo'+'okieRgb(li'+'ght),\x20ligh'+'t.cookieCh'+'annelMask,'+'\x20shadowTex'+'tureResolu'+'tion,\x20shad'+'owEdgePixe'+'ls,\x20light.'+'omniAtlasV'+'iewport);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_SHAD'+'OWS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightCas'+'tShadow(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightShad'+'owData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shadowPar'+'ams\x20=\x20vec4'+'(shadowTex'+'tureResolu'+'tion,\x20ligh'+'t.shadowNo'+'rmalBias,\x20'+'light.shad'+'owBias,\x201.'+'0\x20/\x20light.'+'range);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(isClust'+'eredLightS'+'pot(light)'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tShadowCoo'+'rdPerspZbu'+'fferNormal'+'Offset(lig'+'htProjecti'+'onMatrix,\x20'+'shadowPara'+'ms,\x20geomet'+'ricNormal)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF1)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wSpotClust'+'eredPCF1(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20dShad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20dShado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el')+('if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadow\x20=\x20'+'getShadowS'+'potCluster'+'edPCF5(SHA'+'DOWMAP_PAS'+'S(shadowAt'+'lasTexture'+'),\x20dShadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCSS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowSp'+'otClustere'+'dPCSS(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20dShadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20*=\x20mi'+'x(1.0,\x20sha'+'dow,\x20light'+'.shadowInt'+'ensity);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20omn'+'i\x20shadow\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'OffsetPoin'+'tShadow(sh'+'adowParams'+',\x20dLightPo'+'sW,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+',\x20geometri'+'cNormal);\x20'+'\x20//\x20normal'+'Bias\x20adjus'+'ted\x20for\x20di'+'stance\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF1)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owOmniClus'+'teredPCF1('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owParams,\x20'+'light.omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20dir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20d'+'efined(CLU')+('STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F3(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF5)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF5(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20*'+'=\x20mix(1.0,'+'\x20shadow,\x20l'+'ight.shado'+'wIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20d'+'iffuse\x20/\x20s'+'pecular\x20/\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_AREALIG'+'HTS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtArea(li'+'ght))\x20{\x20//'+'\x20area\x20ligh'+'t\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20d'+'iffuse\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20areaDiff'+'use\x20=\x20(dif'+'fuseAttenu'+'ation\x20*\x20fa'+'lloffAtten'+'uation)\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20area'+'Diffuse\x20=\x20'+'mix(areaDi'+'ffuse,\x20vec'+'3(0),\x20dLTC'+'SpecFres);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20diffu'+'se\x20-\x20it\x20do'+'es\x20not\x20mix'+'\x20diffuse\x20l'+'ighting\x20in'+'to\x20specula'+'r\x20attenuat'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20+=\x20are'+'aDiffuse;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x20a'+'nd\x20clear\x20c'+'oat\x20are\x20ma'+'terial\x20set'+'tings\x20and\x20'+'get\x20includ'+'ed\x20by\x20a\x20de'+'fine\x20based'+'\x20on\x20the\x20ma'+'terial\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20areaLight'+'Specular;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightRec'+'t(light))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getRectL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(isClust'+'eredLightD'+'isk(light)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'r\x20=\x20getDis'+'kLightSpec'+'ular(world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'\x20=\x20getSphe'+'reLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20are'+'aLightSpec'+'ular\x20*\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt')+('tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20specul'+'ar\x20clear\x20c'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'areaLightS'+'pecularCC;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isCl'+'usteredLig'+'htRect(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'SpecularCC'+'\x20=\x20getRect'+'LightSpecu'+'lar(clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(is'+'ClusteredL'+'ightDisk(l'+'ight))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'CC\x20=\x20getDi'+'skLightSpe'+'cular(clea'+'rcoat_worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x20//'+'\x20sphere\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getSph'+'ereLightSp'+'ecular(cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ar'+'eaLightSpe'+'cularCC\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x20\x20\x20\x20//\x20pu'+'nctual\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20p'+'unctual\x20li'+'ght\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20pun'+'ctualDiffu'+'se\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20')+('cookieAtte'+'nuation;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_AREA'+'LIGHTS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'punctualDi'+'ffuse\x20=\x20mi'+'x(punctual'+'Diffuse,\x20v'+'ec3(0),\x20sp'+'ecularity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20punctual'+'Diffuse;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20halfDir'+'\x20=\x20normali'+'ze(-dLight'+'DirNormW\x20+'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spe'+'cular\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpecularL'+'ight\x20+=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getLigh'+'tSpecular('+'halfDir,\x20r'+'eflectionD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirNormW,\x20'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20s'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20getLig'+'htSpecular'+'(halfDir,\x20'+'clearcoatR'+'eflectionD'+'ir,\x20clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20getFresne'+'lCC(dot(vi'+'ewDir,\x20hal'+'fDir));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'SpecularLi'+'ght\x20+=\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20clearco'+'atReflecti'+'onDir,\x20cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20clear'+'coat_gloss'+',\x20tbn)\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20')+('light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20+=\x20getL'+'ightSpecul'+'arSheen(ha'+'lfDir,\x20wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20sheen'+'_gloss)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20Write\x20to\x20'+'global\x20att'+'enuation\x20v'+'alues\x20(for'+'\x20lightmapp'+'er)\x0a\x20\x20\x20\x20dA'+'tten\x20=\x20fal'+'loffAttenu'+'ation;\x0a\x20\x20\x20'+'\x20dAttenD\x20='+'\x20diffuseAt'+'tenuation;'+'\x0a\x20\x20\x20\x20dAtte'+'n3\x20=\x20cooki'+'eAttenuati'+'on;\x0a}\x0a\x0avoi'+'d\x20evaluate'+'ClusterLig'+'ht(\x0a\x20\x20\x20\x20fl'+'oat\x20lightI'+'ndex,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x20\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr')+('om\x20texture'+'s\x0a\x20\x20\x20\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData;'+'\x0a\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCore(cl'+'usterLight'+'Data,\x20ligh'+'tIndex);\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20ligh'+'t\x20if\x20it\x20us'+'es\x20accepte'+'d\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20if\x20'+'(acceptLig'+'htMask(clu'+'sterLightD'+'ata))\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre')+('snel,\x0a#end'+'if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l')+('ightCellIn'+'dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20a'+'lpha\x20chann'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20lightInde'+'x\x20=\x20texelF'+'etch(clust'+'erWorldTex'+'ture,\x20ivec'+'2(int(clus'+'terU)\x20+\x20li'+'ghtCellInd'+'ex,\x20cluste'+'rV),\x200).x;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ghtIndex\x20<'+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndex\x20*\x202'+'55.0,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20viewDir'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cle'+'arcoatRefl'+'ectionDir,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'ometricNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),Fw='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion.rgb)\x20'+'*\x20clearcoa'+'tSpeculari'+'ty;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20ret;\x0a}\x0a',Ow='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),kw='\x0auniform\x20v'+'ec3\x20envBox'+'Min;\x0aunifo'+'rm\x20vec3\x20en'+'vBoxMax;\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x20\x20\x20\x20nr'+'dir\x20=\x20cube'+'MapRotate('+'nrdir);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20rb'+'max\x20=\x20(env'+'BoxMax\x20-\x20v'+'PositionW)'+'\x20/\x20nrdir;\x0a'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20rbminmax;'+'\x0a\x20\x20\x20\x20rbmin'+'max.x\x20=\x20nr'+'dir.x>0.0?'+'\x20rbmax.x\x20:'+'\x20rbmin.x;\x0a'+'\x20\x20\x20\x20rbminm'+'ax.y\x20=\x20nrd'+'ir.y>0.0?\x20'+'rbmax.y\x20:\x20'+'rbmin.y;\x0a\x20'+'\x20\x20\x20rbminma'+'x.z\x20=\x20nrdi'+'r.z>0.0?\x20r'+'bmax.z\x20:\x20r'+'bmin.z;\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'a\x20=\x20min(mi'+'n(rbminmax'+'.x,\x20rbminm'+'ax.y),\x20rbm'+'inmax.z);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'posonbox\x20='+'\x20vPosition'+'W\x20+\x20nrdir\x20'+'*\x20fa;\x0a\x20\x20\x20\x20'+'vec3\x20envBo'+'xPos\x20=\x20(en'+'vBoxMin\x20+\x20'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20return\x20n'+'ormalize(p'+'osonbox\x20-\x20'+'envBoxPos)'+';\x0a}\x0a',Bw='\x0avec3\x20cube'+'MapProject'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cubeMa'+'pRotate(di'+'r);\x0a}\x0a',Nw='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',zw='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',Uw='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',S0='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0a#endif\x0a',Vw='\x0avec3\x20deta'+'ilMode_mul'+'(vec3\x20c1,\x20'+'vec3\x20c2)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20c1\x20*\x20c2;'+'\x0a}\x0a\x0avec3\x20d'+'etailMode_'+'add(vec3\x20c'+'1,\x20vec3\x20c2'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20c1\x20+\x20'+'c2;\x0a}\x0a\x0a//\x20'+'https://en'+'.wikipedia'+'.org/wiki/'+'Blend_mode'+'s#Screen\x0av'+'ec3\x20detail'+'Mode_scree'+'n(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x201.0\x20-\x20('+'1.0\x20-\x20c1)*'+'(1.0\x20-\x20c2)'+';\x0a}\x0a\x0a//\x20ht'+'tps://en.w'+'ikipedia.o'+'rg/wiki/Bl'+'end_modes#'+'Overlay\x0ave'+'c3\x20detailM'+'ode_overla'+'y(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20mix(1.0'+'\x20-\x202.0*(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0*c1*c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a',Gw='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20vec3\x20albe'+'doBase\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20d'+'Albedo\x20*=\x20'+'addAlbedoD'+'etail(albe'+'doBase);\x0a#'+'endif\x0a\x0a#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dA'+'lbedo\x20*=\x20g'+'ammaCorrec'+'tInput(sat'+'urate(vVer'+'texColor.$'+'VC));\x0a#end'+'if\x0a}\x0a',Hw='\x0avec3\x20addA'+'lbedoDetai'+'l(vec3\x20alb'+'edo)\x20{\x0a#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+'Detail\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20r'+'eturn\x20deta'+'ilMode_$DE'+'TAILMODE(a'+'lbedo,\x20alb'+'edoDetail)'+';\x0a#else\x0a\x20\x20'+'\x20\x20return\x20a'+'lbedo;\x0a#en'+'dif\x0a}\x0a',Ww='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20$DECODE(t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.$VC'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',v0='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),$w='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',qw='\x0a',Xw='\x0a//\x20the\x20en'+'vAtlas\x20is\x20'+'fixed\x20at\x205'+'12\x20pixels.'+'\x20every\x20equ'+'irect\x20is\x20g'+'enerated\x20w'+'ith\x201\x20pixe'+'l\x20boundary'+'.\x0aconst\x20fl'+'oat\x20atlasS'+'ize\x20=\x20512.'+'0;\x0aconst\x20f'+'loat\x20seamS'+'ize\x20=\x201.0\x20'+'/\x20atlasSiz'+'e;\x0a\x0a//\x20map'+'\x20a\x20normali'+'zed\x20equire'+'ct\x20UV\x20to\x20t'+'he\x20given\x20r'+'ectangle\x20('+'taking\x201\x20p'+'ixel\x20seam\x20'+'into\x20accou'+'nt).\x0avec2\x20'+'mapUv(vec2'+'\x20uv,\x20vec4\x20'+'rect)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2(mix(re'+'ct.x\x20+\x20sea'+'mSize,\x20rec'+'t.x\x20+\x20rect'+'.z\x20-\x20seamS'+'ize,\x20uv.x)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'x(rect.y\x20+'+'\x20seamSize,'+'\x20rect.y\x20+\x20'+'rect.w\x20-\x20s'+'eamSize,\x20u'+'v.y));\x0a}\x0a\x0a'+'//\x20map\x20a\x20n'+'ormalized\x20'+'equirect\x20U'+'V\x20and\x20roug'+'hness\x20leve'+'l\x20to\x20the\x20c'+'orrect\x20atl'+'as\x20rect.\x0av'+'ec2\x20mapRou'+'ghnessUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0avec2\x20ma'+'pShinyUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(1.0\x20-\x20t,'+'\x201.0\x20-\x20t,\x20'+'t,\x20t\x20*\x200.5'+'));\x0a}\x0a',jw='\x0avec3\x20proc'+'essEnviron'+'ment(vec3\x20'+'color)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',Yw='\x0auniform\x20f'+'loat\x20skybo'+'xIntensity'+';\x0a\x0avec3\x20pr'+'ocessEnvir'+'onment(vec'+'3\x20color)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'skyboxInte'+'nsity;\x0a}\x0a',Kw='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(\x20satur'+'ate(\x201.0\x20-'+'\x20square(\x20s'+'qrDist\x20*\x20s'+'quare(invR'+'adius)\x20)\x20)'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getFall'+'offInvSqua'+'red(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ff\x20=\x201.0\x20/'+'\x20(sqrDist\x20'+'+\x201.0);\x0a\x20\x20'+'\x20\x20float\x20in'+'vRadius\x20=\x20'+'1.0\x20/\x20ligh'+'tRadius;\x0a\x0a'+'\x20\x20\x20\x20fallof'+'f\x20*=\x2016.0;'+'\x0a\x20\x20\x20\x20fallo'+'ff\x20*=\x20squa'+'re(\x20satura'+'te(\x201.0\x20-\x20'+'square(\x20sq'+'rDist\x20*\x20sq'+'uare(invRa'+'dius)\x20)\x20)\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20fallo'+'ff;\x0a}\x0a',Zw='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',Qw='\x0a//\x20float\x20'+'unpacking\x20'+'functional'+'ity,\x20compl'+'imentary\x20t'+'o\x20float-pa'+'cking.js\x0af'+'loat\x20bytes'+'2float2(ve'+'c2\x20data)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(data'+',\x20vec2(1.0'+',\x201.0\x20/\x2025'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2float3(v'+'ec3\x20data)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(dat'+'a,\x20vec3(1.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x2065025.0)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oat4(vec4\x20'+'data)\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'ot(data,\x20v'+'ec4(1.0,\x201'+'.0\x20/\x20255.0'+',\x201.0\x20/\x2065'+'025.0,\x201.0'+'\x20/\x201658137'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2floatRan'+'ge2(vec2\x20d'+'ata,\x20float'+'\x20min,\x20floa'+'t\x20max)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'mix(min,\x20m'+'ax,\x20bytes2'+'float2(dat'+'a));\x0a}\x0a\x0afl'+'oat\x20bytes2'+'floatRange'+'3(vec3\x20dat'+'a,\x20float\x20m'+'in,\x20float\x20'+'max)\x20{\x0a\x20\x20\x20'+'\x20return\x20mi'+'x(min,\x20max'+',\x20bytes2fl'+'oat3(data)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oatRange4('+'vec4\x20data,'+'\x20float\x20min'+',\x20float\x20ma'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'min,\x20max,\x20'+'bytes2floa'+'t4(data));'+'\x0a}\x0a\x0afloat\x20'+'mantissaEx'+'ponent2Flo'+'at(vec4\x20pa'+'ck)\x0a{\x0a\x20\x20\x20\x20'+'float\x20valu'+'e\x20=\x20bytes2'+'floatRange'+'3(pack.xyz'+',\x20-1.0,\x201.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20expone'+'nt\x20=\x20floor'+'(pack.w\x20*\x20'+'255.0\x20-\x2012'+'7.0);\x0a\x20\x20\x20\x20'+'return\x20val'+'ue\x20*\x20exp2('+'exponent);'+'\x0a}\x0a',Jw='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'#endif\x20//\x20'+'FLOAT_AS_U'+'INT\x0a',eT='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',tT='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20max(cosT'+'heta,\x200.0)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20max('+'cosTheta,\x20'+'0.0),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',sT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',iT='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy*0.5+0.5'+';\x0a}\x0a',rT='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',nT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPFLOA'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20dGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.$VC);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPINVERT\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x201.'+'0\x20-\x20dGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',aT='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20c'+'enterProj.'+'z\x20=\x20clamp('+'centerProj'+'.z,\x20-abs(c'+'enterProj.'+'w),\x20abs(ce'+'nterProj.w'+'));\x0a\x0a\x20\x20\x20\x20c'+'enter.view'+'\x20=\x20centerV'+'iew.xyz\x20/\x20'+'centerView'+'.w;\x0a\x20\x20\x20\x20ce'+'nter.proj\x20'+'=\x20centerPr'+'oj;\x0a\x20\x20\x20\x20ce'+'nter.projM'+'at00\x20=\x20mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',oT='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(splatCo'+'lor,\x20sourc'+'e.uv,\x200);\x0a'+'}\x0a\x0a',lT='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ememt\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a};\x0a\x0a#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20==\x201\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20SH_COE'+'FFS\x203\x0a\x20\x20\x20\x20'+'#elif\x20SH_B'+'ANDS\x20==\x202\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20SH_C'+'OEFFS\x208\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'_BANDS\x20==\x20'+'3\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20SH'+'_COEFFS\x2015'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+'D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+('include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latCompres'+'sedSHVS\x22\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22gspl'+'atSHVS\x22\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22gspl'+'atSourceVS'+'\x22\x0a#include'+'\x20\x22gsplatCe'+'nterVS\x22\x0a#i'+'nclude\x20\x22gs'+'platCorner'+'VS\x22\x0a#inclu'+'de\x20\x22gsplat'+'OutputVS\x22\x0a'+'\x0a//\x20modify'+'\x20the\x20gauss'+'ian\x20corner'+'\x20so\x20it\x20exc'+'ludes\x20gaus'+'sian\x20regio'+'ns\x20with\x20al'+'pha\x0a//\x20les'+'s\x20than\x201/2'+'55\x0avoid\x20cl'+'ipCorner(i'+'nout\x20Splat'+'Corner\x20cor'+'ner,\x20float'+'\x20alpha)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'clip\x20=\x20min'+'(1.0,\x20sqrt'+'(-log(1.0\x20'+'/\x20255.0\x20/\x20'+'alpha))\x20/\x20'+'2.0);\x0a\x20\x20\x20\x20'+'corner.off'+'set\x20*=\x20cli'+'p;\x0a\x20\x20\x20\x20cor'+'ner.uv\x20*=\x20'+'clip;\x0a}\x0a\x0a/'+'/\x20spherica'+'l\x20Harmonic'+'s\x0a\x0a#if\x20SH_'+'BANDS\x20>\x200\x0a'+'\x0a#define\x20S'+'H_C1\x200.488'+'6025119029'+'199f\x0a\x0a#if\x20'+'SH_BANDS\x20>'+'\x201\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_0\x201.09254'+'8430592079'+'2f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_1\x20-1.0925'+'4843059207'+'92f\x0a\x20\x20\x20\x20#d'+'efine\x20SH_C'+'2_2\x200.3153'+'9156525252'+'005f\x0a\x20\x20\x20\x20#'+'define\x20SH_'+'C2_3\x20-1.09'+'2548430592'+'0792f\x0a\x20\x20\x20\x20'+'#define\x20SH'+'_C2_4\x200.54'+'6274215296'+'0396f\x0a#end'+'if\x0a\x0a#if\x20SH'+'_BANDS\x20>\x202'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_0'+'\x20-0.590043'+'5899266435'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'1\x202.890611'+'442640554f'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_2'+'\x20-0.457045'+'7994644658'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_')+('3\x200.373176'+'3325901154'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'4\x20-0.45704'+'5799464465'+'8f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C3'+'_5\x201.44530'+'5721320277'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'6\x20-0.59004'+'3589926643'+'5f\x0a#endif\x0a'+'\x0a//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+'ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'vec3\x20evalS'+'H(in\x20Splat'+'Source\x20sou'+'rce,\x20in\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'[SH_COEFFS'+'];\x0a\x20\x20\x20\x20flo'+'at\x20scale;\x0a'+'\x20\x20\x20\x20readSH'+'Data(sourc'+'e,\x20sh,\x20sca'+'le);\x0a\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'dir.x;\x0a\x20\x20\x20'+'\x20float\x20y\x20='+'\x20dir.y;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20//\x201st'+'\x20degree\x0a\x20\x20'+'\x20\x20vec3\x20res'+'ult\x20=\x20SH_C'+'1\x20*\x20(-sh[0'+']\x20*\x20y\x20+\x20sh'+'[1]\x20*\x20z\x20-\x20'+'sh[2]\x20*\x20x)'+';\x0a\x0a#if\x20SH_'+'BANDS\x20>\x201\x0a'+'\x20\x20\x20\x20//\x202nd'+'\x20degree\x0a\x20\x20'+'\x20\x20float\x20xx'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20floa'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20fl'+'oat\x20xy\x20=\x20x'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20yz\x20='+'\x20y\x20*\x20z;\x0a\x20\x20'+'\x20\x20float\x20xz'+'\x20=\x20x\x20*\x20z;\x0a'+'\x0a\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[3]\x20*'+'\x20(SH_C2_0\x20'+'*\x20xy)\x20*\x20\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[4]\x20*\x20(SH'+'_C2_1\x20*\x20yz'+')\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[5]\x20*\x20'+'(SH_C2_2\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[6]\x20*'+'\x20(SH_C2_3\x20'+'*\x20xz)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[7'+']\x20*\x20(SH_C2'+'_4\x20*\x20(xx\x20-'+'\x20yy));\x0a#en'+'dif\x0a\x0a#if\x20S'+'H_BANDS\x20>\x20'+'2\x0a\x20\x20\x20\x20//\x203'+'rd\x20degree\x0a'+'\x20\x20\x20\x20result'+'\x20+=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20\x20*'+'\x20(SH_C3_0\x20')+('*\x20y\x20*\x20(3.0'+'\x20*\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[9]\x20\x20'+'*\x20(SH_C3_1'+'\x20*\x20xy\x20*\x20z)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[10]\x20*\x20'+'(SH_C3_2\x20*'+'\x20y\x20*\x20(4.0\x20'+'*\x20zz\x20-\x20xx\x20'+'-\x20yy))\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'11]\x20*\x20(SH_'+'C3_3\x20*\x20z\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x203.0\x20*\x20x'+'x\x20-\x203.0\x20*\x20'+'yy))\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[12'+']\x20*\x20(SH_C3'+'_4\x20*\x20x\x20*\x20('+'4.0\x20*\x20zz\x20-'+'\x20xx\x20-\x20yy))'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[13]\x20*\x20'+'(SH_C3_5\x20*'+'\x20z\x20*\x20(xx\x20-'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20*\x20(SH_C'+'3_6\x20*\x20x\x20*\x20'+'(xx\x20-\x203.0\x20'+'*\x20yy));\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20res'+'ult\x20*\x20scal'+'e;\x0a}\x0a#endi'+'f\x0a'),hT='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'mat3\x20quatT'+'oMat3(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.x;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.y;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.w'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20')+('=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec')+('3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat'+'a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex')+('ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu'+'nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),cT='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),dT='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0a\x0a//\x20calc'+'ulate\x20the\x20'+'clip-space'+'\x20offset\x20fr'+'om\x20the\x20cen'+'ter\x20for\x20th'+'is\x20gaussia'+'n\x0abool\x20ini'+'tCorner(Sp'+'latSource\x20'+'source,\x20Sp'+'latCenter\x20'+'center,\x20ou'+'t\x20SplatCor'+'ner\x20corner'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20vec'+'3\x20covA,\x20co'+'vB;\x0a\x20\x20\x20\x20re'+'adCovarian'+'ce(source,'+'\x20covA,\x20cov'+'B);\x0a\x0a\x20\x20\x20\x20m'+'at3\x20Vrk\x20=\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20covA.x'+',\x20covA.y,\x20'+'covA.z,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.y,\x20covB.x'+',\x20covB.y,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.z,\x20covB'+'.y,\x20covB.z'+'\x0a\x20\x20\x20\x20);\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ocal\x20=\x20vie'+'wport.x\x20*\x20'+'center.pro'+'jMat00;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20camera_p'+'arams.w\x20=='+'\x201.0\x20?\x20vec'+'3(0.0,\x200.0'+',\x201.0)\x20:\x20c'+'enter.view'+'.xyz;\x0a\x20\x20\x20\x20'+'float\x20J1\x20='+'\x20focal\x20/\x20v'+'.z;\x0a\x20\x20\x20\x20ve'+'c2\x20J2\x20=\x20-J'+'1\x20/\x20v.z\x20*\x20'+'v.xy;\x0a\x20\x20\x20\x20'+'mat3\x20J\x20=\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20J1,\x200.0'+',\x20J2.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x200.0,'+'\x20J1,\x20J2.y,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x200'+'.0,\x200.0,\x200'+'.0\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'W\x20=\x20transp'+'ose(mat3(c'+'enter.mode'+'lView));\x0a\x20'+'\x20\x20\x20mat3\x20T\x20'+'=\x20W\x20*\x20J;\x0a\x20'+'\x20\x20\x20mat3\x20co'+'v\x20=\x20transp'+'ose(T)\x20*\x20V'+'rk\x20*\x20T;\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'iagonal1\x20='+'\x20cov[0][0]'+'\x20+\x200.3;\x0a\x20\x20'+'\x20\x20float\x20of'+'fDiagonal\x20'+('=\x20cov[0][1'+'];\x0a\x20\x20\x20\x20flo'+'at\x20diagona'+'l2\x20=\x20cov[1'+'][1]\x20+\x200.3'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20mid\x20=\x200'+'.5\x20*\x20(diag'+'onal1\x20+\x20di'+'agonal2);\x0a'+'\x20\x20\x20\x20float\x20'+'radius\x20=\x20l'+'ength(vec2'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20float\x20lam'+'bda1\x20=\x20mid'+'\x20+\x20radius;'+'\x0a\x20\x20\x20\x20float'+'\x20lambda2\x20='+'\x20max(mid\x20-'+'\x20radius,\x200'+'.1);\x0a\x20\x20\x20\x20i'+'f\x20(pointCl'+'oudModeEna'+'bled\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20lam'+'bda1\x20=\x20lam'+'bda2\x20=\x202.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20l'+'1\x20=\x202.0\x20*\x20'+'min(sqrt(2'+'.0\x20*\x20lambd'+'a1),\x201024.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20l2\x20=\x202'+'.0\x20*\x20min(s'+'qrt(2.0\x20*\x20'+'lambda2),\x20'+'1024.0);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20'+'\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20per'+'form\x20cull\x20'+'against\x20x/'+'y\x20axes\x0a\x20\x20\x20'+'\x20if\x20(any(g'+'reaterThan'+'(abs(cente'+'r.proj.xy)'+'\x20-\x20vec2(l1'+',\x20l2)\x20/\x20vi'+'ewport\x20*\x20c'+'enter.proj'+'.w,\x20center'+'.proj.ww))'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20f'+'alse;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'2\x20diagonal'+'Vector\x20=\x20n'+'ormalize(v'+'ec2(offDia'+'gonal,\x20lam'+'bda1\x20-\x20dia'+'gonal1));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20scale\x20=\x201'+'.0;\x0a\x20\x20\x20\x20if'+'(uSplatSca'+'le\x20>\x200.0\x20&'+'&\x20uSplatSc'+'ale\x20<=\x201.2'+'){\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale\x20=\x20u'+'SplatScale'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20vec2\x20v1\x20'+'=\x20scale\x20*\x20'+'l1\x20*\x20diago'+'nalVector;'+'\x0a\x20\x20\x20\x20vec2\x20'+'v2\x20=\x20scale'+'\x20*\x20l2\x20*\x20ve'+'c2(diagona'+'lVector.y,')+('\x20-diagonal'+'Vector.x);'+'\x0a\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20(source.'+'cornerUV.x'+'\x20*\x20v1\x20+\x20so'+'urce.corne'+'rUV.y\x20*\x20v2'+')\x20/\x20viewpo'+'rt\x20*\x20cente'+'r.proj.w;\x0a'+'\x20\x20\x20\x20corner'+'.uv\x20=\x20sour'+'ce.cornerU'+'V;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a'),uT='\x0a\x0auniform\x20'+'highp\x20usam'+'pler2D\x20tra'+'nsformA;\x0au'+'niform\x20hig'+'hp\x20sampler'+'2D\x20transfo'+'rmB;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformR;'+'\x0a\x0a#ifdef\x20I'+'S_4D\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformTS'+'peed;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'transformT'+';\x0a#endif\x0a\x0a'+'//\x20work\x20va'+'lues\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(tA.xyz);'+'\x0a}\x0a\x0amat3\x20q'+'uatToMat3('+'vec4\x20R)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'x\x20=\x20R.w;\x0a\x20'+'\x20\x20\x20float\x20y'+'\x20=\x20R.x;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20R.y;\x0a\x20\x20\x20'+'\x20float\x20w\x20='+'\x20R.z;\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x202.0'+'\x20*\x20(z\x20*\x20z\x20'+'+\x20w\x20*\x20w),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20+\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x202.0\x20*\x20(y\x20'+'*\x20w\x20-\x20x\x20*\x20'+'z),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(y\x20*\x20z'+'\x20-\x20x\x20*\x20w),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x201'+'.0\x20-\x202.0\x20*'+'\x20(y\x20*\x20y\x20+\x20'+('w\x20*\x20w),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20+\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x202'+'.0\x20*\x20(y\x20*\x20'+'w\x20+\x20x\x20*\x20z)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x202.0\x20'+'*\x20(z\x20*\x20w\x20-'+'\x20x\x20*\x20y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'y\x20*\x20y\x20+\x20z\x20'+'*\x20z)\x0a\x20\x20\x20\x20)'+';\x0a}\x0a\x0avec4\x20'+'unpackRota'+'tion(vec3\x20'+'packed)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(pack'+'ed.xyz,\x20sq'+'rt(1.0\x20-\x20d'+'ot(packed,'+'\x20packed)))'+';\x0a}\x0a\x0a//\x20sa'+'mple\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadCovaria'+'nce(in\x20Spl'+'atSource\x20s'+'ource,\x20out'+'\x20vec3\x20covA'+',\x20out\x20vec3'+'\x20covB)\x20{\x0a\x20'+'\x20\x20\x20vec4\x20tB'+'\x20=\x20texelFe'+'tch(transf'+'ormB,\x20sour'+'ce.uv,\x200);'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20tR\x20=\x20texe'+'lFetch(tra'+'nsformR,\x20s'+'ource.uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20mat3\x20rot'+'\x20=\x20quatToM'+'at3(unpack'+'Rotation(t'+'R));\x0a\x20\x20\x20\x20v'+'ec3\x20scale\x20'+'=\x20tB.xyz;\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a\x0a//\x20sampl'+'e\x204D\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadFTGSCov'+'ariance(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'covA,\x20out\x20'+'vec3\x20covB,'+'out\x20vec4\x20c'+'ovariance4'+'D)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u')+('v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormT,\x20sour'+'ce.uv,\x200).'+'xy;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20muT\x20=\x20tD'+'ata.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20tScale\x20=\x20'+'tData.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20mar'+'ginal\x20=\x20co'+'mputeMargi'+'nalT(time,'+'\x20muT,\x20tSca'+'le);\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20mar'+'ginal;\x0a}\x0a\x0a'+'vec3\x20readC'+'enter4D(Sp'+'latSource\x20'+'source,\x20fl'+'oat\x20time)\x20'+'{\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20v'+'ec3\x20splatC'+'enter\x20\x20=\x20u'+'intBitsToF'+'loat(tA.xy'+'z);\x0a\x20\x20\x20\x20#i'+'fdef\x20IS_4D'+'\x0a\x20\x20\x20\x20if(mu'+'T\x20>\x20-5.0\x20&')+('&\x20muT\x20<\x2040'+'.0){\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'vingSpeed\x20'+'=\x20texelFet'+'ch(transfo'+'rmTSpeed,\x20'+'source.uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20splatOff'+'set\x20=\x20movi'+'ngSpeed\x20*\x20'+'(time\x20-\x20mu'+'T);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20splatCen'+'ter\x20+=\x20spl'+'atOffset;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'platCenter'+';\x0a}\x0a'),fT='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',pT='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20fl'+'oat\x20id;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20uni'+'form\x20vec4\x20'+'uColor;\x0a#e'+'ndif\x0a\x0avary'+'ing\x20medium'+'p\x20vec2\x20gau'+'ssianUV;\x0av'+'arying\x20med'+'iump\x20vec4\x20'+'gaussianCo'+'lor;\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20A\x20=\x20dot('+'gaussianUV'+',\x20gaussian'+'UV);\x0a\x20\x20\x20\x20i'+'f\x20(A\x20>\x201.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20alpha\x0a'+'\x20\x20\x20\x20medium'+'p\x20float\x20al'+'pha\x20=\x20exp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+'Color.a;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20PICK_PASS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(alpha\x20<'+'\x200.3)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20uColor;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(alpha\x20<\x20'+'1.0\x20/\x20255.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dis'+'card;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20opa'+'cityDither'+'(alpha,\x20id'+'\x20*\x200.013);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(gauss'+'ianColor.x'+'yz\x20*\x20alpha'+',\x20alpha);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',mT='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),_T='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',gT='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0a\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianUV;\x0ava'+'rying\x20medi'+'ump\x20vec4\x20g'+'aussianCol'+'or;\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20float\x20mar'+'ginal\x20=\x20ge'+'tMarginalT'+'(source,\x20u'+'Time);\x0a\x20\x20\x20'+'\x20if\x20(margi'+'nal\x20<\x200.05'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20disc'+'ardVec;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ve'+'c3\x20modelCe'+'nter\x20=\x20rea'+'dCenter(so'+'urce);\x0a\x20\x20\x20'+'\x20vec3\x20mode'+'lCenter\x20=\x20'+'readCenter'+'4D(source,'+'\x20uTime);\x0a\x0a'+'\x20\x20\x20\x20SplatC'+'enter\x20cent'+'er;\x0a\x20\x20\x20\x20if'+'\x20(!initCen'+'ter(modelC'+'enter,\x20cen'+'ter))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20project\x20'+'center\x20to\x20'+'screen\x20spa'+'ce\x0a\x20\x20\x20\x20Spl'+'atCorner\x20c'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(sou'+'rce,\x20cente'+'r,\x20corner,'+'\x20pointClou'+'dModeEnabl'+'ed))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20d'+'iscardVec;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20colo'+'r\x0a\x20\x20\x20\x20vec4'+'\x20clr\x20=\x20rea'+('dColor(sou'+'rce);\x0a\x0a\x20\x20\x20'+'\x20if(margin'+'al\x20>\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.w\x20*=\x20m'+'arginal;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20spherica'+'l\x20harmonic'+'s\x0a\x20\x20\x20\x20#if\x20'+'SH_BANDS\x20>'+'\x200\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20the\x20mo'+'del-space\x20'+'view\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'ize(center'+'.view\x20*\x20ma'+'t3(center.'+'modelView)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.xyz\x20+'+'=\x20evalSH(s'+'ource,\x20dir'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20c'+'lipCorner('+'corner,\x20cl'+'r.w);\x0a\x0a\x20\x20\x20'+'\x20//\x20pointC'+'loudMode\x0a\x20'+'\x20\x20\x20if\x20(poi'+'ntCloudMod'+'eEnabled\x20='+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20write\x20ou'+'tput\x0a\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20center.'+'proj\x20+\x20vec'+'4(corner.o'+'ffset,\x200,\x20'+'0);\x0a\x20\x20\x20\x20ga'+'ussianUV\x20='+'\x20corner.uv'+';\x0a\x20\x20\x20\x20gaus'+'sianColor\x20'+'=\x20vec4(pre'+'pareOutput'+'FromGamma('+'max(clr.xy'+'z,\x200.0)),\x20'+'clr.w);\x0a\x20\x20'+'\x20\x20gaussian'+'Color\x20=\x20cl'+'amp(gaussi'+'anColor,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20id\x20=\x20fl'+'oat(source'+'.id);\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a'),yT='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0a#ifndef'+'\x20PI\x0a#defin'+'e\x20PI\x203.141'+'59265\x0a#end'+'if\x0a\x0afloat\x20'+'iridescenc'+'e_iorToFre'+'snel(float'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20incidentI'+'or)\x20/\x20(tra'+'nsmittedIo'+'r\x20+\x20incide'+'ntIor),\x202.'+'0);\x0a}\x0a\x0avec'+'3\x20iridesce'+'nce_iorToF'+'resnel(vec'+'3\x20transmit'+'tedIor,\x20fl'+'oat\x20incide'+'ntIor)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow((trans'+'mittedIor\x20'+'-\x20vec3(inc'+'identIor))'+'\x20/\x20(transm'+'ittedIor\x20+'+'\x20vec3(inci'+'dentIor)),'+'\x20vec3(2.0)'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'ToIor(vec3'+'\x20f0)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20sqrt'+'F0\x20=\x20sqrt('+'f0);\x0a\x20\x20\x20\x20r'+'eturn\x20(vec'+'3(1.0)\x20+\x20s'+'qrtF0)\x20/\x20('+'vec3(1.0)\x20'+'-\x20sqrtF0);'+'\x0a}\x0a\x0avec3\x20i'+'ridescence'+'_sensitivi'+'ty(float\x20o'+'pd,\x20vec3\x20s'+'hift)\x20{\x0a\x20\x20'+'\x20\x20float\x20ph'+'ase\x20=\x202.0\x20'+'*\x20PI\x20*\x20opd'+'\x20*\x201.0e-9;'+'\x0a\x20\x20\x20\x20const'+'\x20vec3\x20val\x20'+'=\x20vec3(5.4'+'856e-13,\x204'+'.4201e-13,'+'\x205.2481e-1'+'3);\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20p'+'os\x20=\x20vec3('+'1.6810e+06'+',\x201.7953e+'+'06,\x202.2084'+'e+06);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20var\x20=\x20ve'+'c3(4.3278e'+'+09,\x209.304'+'6e+09,\x206.6'+'121e+09);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'xyz\x20=\x20val\x20'+'*\x20sqrt(2.0'+'\x20*\x20PI\x20*\x20va'+'r)\x20*\x20cos(p'+'os\x20*\x20phase'+'\x20+\x20shift)\x20'+'*\x20exp(-pow'+'(phase,\x202.'+'0)\x20*\x20var);'+'\x0a\x20\x20\x20\x20xyz.x'+'\x20+=\x209.7470'+'e-14\x20*\x20sqr'+'t(2.0\x20*\x20PI'+'\x20*\x204.5282e'+('+09)\x20*\x20cos'+'(2.2399e+0'+'6\x20*\x20phase\x20'+'+\x20shift[0]'+')\x20*\x20exp(-4'+'.5282e+09\x20'+'*\x20pow(phas'+'e,\x202.0));\x0a'+'\x20\x20\x20\x20xyz\x20/='+'\x20vec3(1.06'+'85e-07);\x0a\x0a'+'\x20\x20\x20\x20const\x20'+'mat3\x20XYZ_T'+'O_REC709\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x203.240'+'4542,\x20-0.9'+'692660,\x20\x200'+'.0556434,\x0a'+'\x20\x20\x20\x20\x20\x20\x20-1.'+'5371385,\x20\x20'+'1.8760108,'+'\x20-0.204025'+'9,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-0.4985314'+',\x20\x200.04155'+'60,\x20\x201.057'+'2252\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20XYZ_TO'+'_REC709\x20*\x20'+'xyz;\x0a}\x0a\x0afl'+'oat\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'float\x20f0)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20clam'+'p(1.0\x20-\x20co'+'sTheta,\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20float\x20x'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20float'+'\x20x5\x20=\x20x\x20*\x20'+'x2\x20*\x20x2;\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(1.0\x20'+'-\x20f0)\x20*\x20x5'+';\x0a}\x20\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'(float\x20cos'+'Theta,\x20vec'+'3\x20f0)\x20{\x0a\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20clamp(1.'+'0\x20-\x20cosThe'+'ta,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20x2\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20float\x20x5\x20'+'=\x20x\x20*\x20x2\x20*'+'\x20x2;\x20\x0a\x20\x20\x20\x20'+'return\x20f0\x20'+'+\x20(vec3(1.'+'0)\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0ave'+'c3\x20calcIri'+'descence(f'+'loat\x20outsi'+'deIor,\x20flo'+'at\x20cosThet'+'a,\x20vec3\x20ba'+'se_f0,\x20flo'+'at\x20iridesc'+'enceThickn'+'ess)\x20{\x0a\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'or\x20=\x20mix(o'+'utsideIor,'+'\x20material_'+'iridescenc'+'eRefractio'+'nIndex,\x20sm'+'oothstep(0'+'.0,\x200.03,\x20'+'iridescenc'+'eThickness'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20sinThe'+'ta2Sq\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c')+('osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'float\x20cosT'+'heta2Sq\x20=\x20'+'1.0\x20-\x20sinT'+'heta2Sq;\x0a\x0a'+'\x20\x20\x20\x20if\x20(co'+'sTheta2Sq\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20vec3(1'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20cosTheta'+'2\x20=\x20sqrt(c'+'osTheta2Sq'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20r0\x20=\x20i'+'ridescence'+'_iorToFres'+'nel(irides'+'cenceIor,\x20'+'outsideIor'+');\x0a\x20\x20\x20\x20flo'+'at\x20r12\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta,\x20r'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20r21\x20=\x20'+'r12;\x0a\x20\x20\x20\x20f'+'loat\x20t121\x20'+'=\x201.0\x20-\x20r1'+'2;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20phi12\x20'+'=\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor\x20'+'?\x20PI\x20:\x200.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20phi21\x20=\x20'+'PI\x20-\x20phi12'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20baseIor\x20'+'=\x20iridesce'+'nce_fresne'+'lToIor(bas'+'e_f0\x20+\x20vec'+'3(0.0001))'+';\x0a\x20\x20\x20\x20vec3'+'\x20r1\x20=\x20irid'+'escence_io'+'rToFresnel'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20vec3\x20r23\x20'+'=\x20iridesce'+'nce_fresne'+'l(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ph'+'i23\x20=\x20vec3'+'(0.0);\x0a\x20\x20\x20'+'\x20if\x20(baseI'+'or[0]\x20<\x20ir'+'idescenceI'+'or)\x20phi23['+'0]\x20=\x20PI;\x0a\x20'+'\x20\x20\x20if\x20(bas'+'eIor[1]\x20<\x20'+'iridescenc'+'eIor)\x20phi2'+'3[1]\x20=\x20PI;'+'\x0a\x20\x20\x20\x20if\x20(b'+'aseIor[2]\x20'+'<\x20iridesce'+'nceIor)\x20ph'+'i23[2]\x20=\x20P'+'I;\x0a\x20\x20\x20\x20flo'+'at\x20opd\x20=\x202'+'.0\x20*\x20iride'+'scenceIor\x20'+'*\x20iridesce'+'nceThickne'+'ss\x20*\x20cosTh'+'eta2;\x0a\x20\x20\x20\x20'+'vec3\x20phi\x20='+'\x20vec3(phi2'+'1)\x20+\x20phi23'+';\x20\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20r123Sq\x20'+'=\x20clamp(r1'+'2\x20*\x20r23,\x201'+'e-5,\x200.999'+'9);\x0a\x20\x20\x20\x20ve'+'c3\x20r123\x20=\x20'+'sqrt(r123S'+'q);\x0a\x20\x20\x20\x20ve'+'c3\x20rs\x20=\x20po')+('w(t121,\x202.'+'0)\x20*\x20r23\x20/'+'\x20(1.0\x20-\x20r1'+'23Sq);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20c0\x20'+'=\x20r12\x20+\x20rs'+';\x0a\x20\x20\x20\x20vec3'+'\x20i\x20=\x20c0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20c'+'m\x20=\x20rs\x20-\x20t'+'121;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20m\x20'+'=\x201;\x20m\x20<=\x20'+'2;\x20m++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cm'+'\x20*=\x20r123;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20sm\x20=\x202.'+'0\x20*\x20irides'+'cence_sens'+'itivity(fl'+'oat(m)\x20*\x20o'+'pd,\x20float('+'m)\x20*\x20phi);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'\x20+=\x20cm\x20*\x20s'+'m;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'max(i,\x20vec'+'3(0.0));\x0a}'+'\x0a\x0avec3\x20get'+'Iridescenc'+'e(float\x20co'+'sTheta,\x20ve'+'c3\x20specula'+'rity,\x20floa'+'t\x20iridesce'+'nceThickne'+'ss)\x20{\x0a\x20\x20\x20\x20'+'return\x20cal'+'cIridescen'+'ce(1.0,\x20co'+'sTheta,\x20sp'+'ecularity,'+'\x20iridescen'+'ceThicknes'+'s);\x0a}\x0a'),xT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'iridescenc'+'e;\x0a#endif\x0a'+'\x0avoid\x20getI'+'ridescence'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPF'+'LOAT\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20materi'+'al_iridesc'+'ence;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20irides'+'cence\x20*=\x20t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+'.$CH;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dIridesc'+'ence\x20=\x20iri'+'descence;\x20'+'\x0a}\x0a',ST='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0aun'+'iform\x20floa'+'t\x20material'+'_iridescen'+'ceThicknes'+'sMin;\x0a#end'+'if\x0a\x0avoid\x20g'+'etIridesce'+'nceThickne'+'ss()\x20{\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20float\x20'+'blend\x20=\x20te'+'xture2DBia'+'s($SAMPLER'+',\x20$UV,\x20tex'+'tureBias).'+'$CH;\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceThic'+'kness\x20=\x20mi'+'x(material'+'_iridescen'+'ceThicknes'+'sMin,\x20mate'+'rial_iride'+'scenceThic'+'knessMax,\x20'+'blend);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',vT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'refraction'+'Index;\x0a#en'+'dif\x0a\x0avoid\x20'+'getIor()\x20{'+'\x0a#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20dIor\x20=\x20ma'+'terial_ref'+'ractionInd'+'ex;\x0a#else\x0a'+'\x20\x20\x20\x20dIor\x20='+'\x201.0\x20/\x201.5'+';\x0a#endif\x0a}'+'\x0a',bT='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDir,\x20'+'vec3\x20light'+'DirNorm)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20max(dot('+'worldNorma'+'l,\x20-lightD'+'irNorm),\x200'+'.0);\x0a}\x0a',wT='\x0avoid\x20getL'+'ightDirPoi'+'nt(vec3\x20li'+'ghtPosW)\x20{'+'\x0a\x20\x20\x20\x20dLigh'+'tDirW\x20=\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20normali'+'ze(dLightD'+'irW);\x0a\x20\x20\x20\x20'+'dLightPosW'+'\x20=\x20lightPo'+'sW;\x0a}\x0a',TT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20lightmap;'+'\x0a}\x0a',AT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20if\x20(do'+'t(dir,\x20dir'+')\x20<\x200.0001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20l'+'ightmap;\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20vlig'+'ht\x20=\x20satur'+'ate(dot(di'+'r,\x20-vertex'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20flight'+'\x20=\x20saturat'+'e(dot(dir,'+'\x20-worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20nlight\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20lightmap'+'\x20*\x20nlight\x20'+'*\x202.0;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20halfDir\x20='+'\x20normalize'+'(-dir\x20+\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20specularL'+'ight\x20=\x20lig'+'htmap\x20*\x20ge'+'tLightSpec'+'ular(halfD'+'ir,\x20reflec'+'tionDir,\x20w'+'orldNormal'+',\x20viewDir,'+'\x20dir,\x20glos'+'s,\x20tbn);\x0a\x0a'+'#ifdef\x20LIT'+'_SPECULAR_'+'FRESNEL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(dot'+'(viewDir,\x20'+'halfDir),\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20specula'+'rity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20);\x0a#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),ET='\x0auniform\x20s'+'ampler2D\x20t'+'exture_lig'+'htMap;\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_dirLigh'+'tMap;\x0a\x0avoi'+'d\x20getLight'+'Map()\x20{\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20=\x20$DECOD'+'E(texture2'+'DBias(text'+'ure_lightM'+'ap,\x20$UV,\x20t'+'extureBias'+')).$CH;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20textur'+'e2DBias(te'+'xture_dirL'+'ightMap,\x20$'+'UV,\x20textur'+'eBias).xyz'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20dirDot'+'\x20=\x20dot(dir'+',\x20dir);\x0a\x20\x20'+'\x20\x20dLightma'+'pDir\x20=\x20(di'+'rDot\x20>\x200.0'+'01)\x20?\x20dir\x20'+'/\x20sqrt(dir'+'Dot)\x20:\x20vec'+'3(0.0);\x0a}\x0a',CT='\x0avoid\x20getL'+'ightMap()\x20'+'{\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20dLig'+'htmap\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.$VC'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',MT='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'material_a'+'nisotropy\x20'+'*\x20roughnes'+'s;\x0a\x20\x0a\x20\x20\x20\x20f'+'loat\x20at\x20=\x20'+'max((rough'+'ness\x20+\x20ani'+'sotropy),\x20'+'roughness\x20'+'/\x204.0);\x0a\x20\x20'+'\x20\x20float\x20ab'+'\x20=\x20max((ro'+'ughness\x20-\x20'+'anisotropy'+'),\x20roughne'+'ss\x20/\x204.0);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20NoH\x20=\x20do'+'t(worldNor'+'mal,\x20h);\x0a\x20'+'\x20\x20\x20float\x20T'+'oH\x20=\x20dot(t'+'bn[0],\x20h);'+'\x0a\x20\x20\x20\x20float'+'\x20BoH\x20=\x20dot'+'(tbn[1],\x20h'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20a2\x20=\x20a'+'t\x20*\x20ab;\x0a\x20\x20'+'\x20\x20vec3\x20v\x20='+'\x20vec3(ab\x20*'+'\x20ToH,\x20at\x20*'+'\x20BoH,\x20a2\x20*'+'\x20NoH);\x0a\x20\x20\x20'+'\x20float\x20v2\x20'+'=\x20dot(v,\x20v'+');\x0a\x20\x20\x20\x20flo'+'at\x20w2\x20=\x20a2'+'\x20/\x20v2;\x0a\x20\x20\x20'+'\x20float\x20D\x20='+'\x20a2\x20*\x20w2\x20*'+'\x20w2\x20*\x20(1.0'+'\x20/\x20PI);\x0a\x0a\x20'+'\x20\x20\x20float\x20T'+'oV\x20=\x20dot(t'+'bn[0],\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20float\x20BoV'+'\x20=\x20dot(tbn'+'[1],\x20viewD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20ToL\x20='+'\x20dot(tbn[0'+'],\x20-lightD'+'irNorm);\x0a\x20'+'\x20\x20\x20float\x20B'+'oL\x20=\x20dot(t'+'bn[1],\x20-li'+'ghtDirNorm'+');\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20NoL\x20'+'=\x20dot(worl'+'dNormal,\x20-'+'lightDirNo'+'rm);\x0a\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daV\x20=\x20NoL\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oV,\x20ab\x20*\x20B'+'oV,\x20NoV));'+('\x0a\x20\x20\x20\x20float'+'\x20lambdaL\x20='+'\x20NoV\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToL,\x20a'+'b\x20*\x20BoL,\x20N'+'oL));\x0a\x20\x20\x20\x20'+'float\x20G\x20=\x20'+'0.5\x20/\x20(lam'+'bdaV\x20+\x20lam'+'bdaL);\x0a\x0a\x20\x20'+'\x20\x20return\x20D'+'\x20*\x20G;\x0a}\x0a\x0af'+'loat\x20getLi'+'ghtSpecula'+'r(vec3\x20h,\x20'+'vec3\x20reflD'+'ir,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDirN'+'orm,\x20float'+'\x20gloss,\x20ma'+'t3\x20tbn)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20calcLight'+'Specular(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir,\x20h,'+'\x20lightDirN'+'orm,\x20tbn);'+'\x0a}\x0a'),PT='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',RT='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',IT='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'h(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a#def'+'ine\x20CAMERA'+'PLANES\x0auni'+'form\x20vec4\x20'+'camera_par'+'ams;\x20//\x20x:'+'\x201\x20/\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20\x20y:\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20z:\x20camera'+'_near,\x20\x20\x20\x20'+'\x20\x20\x20\x20w:\x20is_'+'ortho\x0a#end'+'if\x0a\x0afloat\x20'+'linearizeD'+'epth(float'+'\x20z)\x20{\x0a\x20\x20\x20\x20'+'return\x20lin'+'earizeDept'+'h(z,\x20camer'+'a_params);'+'\x0a}\x0a#endif\x0a',DT='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LT='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avec2\x20ccL'+'TCUV;\x0a#end'+'if\x0avec2\x20ge'+'tLTCLightU'+'V(float\x20gl'+'oss,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x0a{\x0a\x20'+'\x20\x20\x20float\x20r'+'oughness\x20='+'\x20max((1.0\x20'+'-\x20gloss)\x20*'+'\x20(1.0\x20-\x20gl'+'oss),\x200.00'+'1);\x0a\x20\x20\x20\x20re'+'turn\x20LTC_U'+'v(\x20worldNo'+'rmal,\x20view'+'Dir,\x20rough'+'ness\x20);\x0a}\x0a'+'\x0a//used\x20fo'+'r\x20energy\x20c'+'onservatio'+'n\x20and\x20to\x20m'+'odulate\x20sp'+'ecular\x0avec'+'3\x20dLTCSpec'+'Fres;\x0a#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0avec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0avec3\x20g'+'etLTCLight'+'SpecFres(v')+('ec2\x20uv,\x20ve'+'c3\x20specula'+'rity)\x0a{\x0a\x20\x20'+'\x20\x20vec4\x20t2\x20'+'=\x20texture2'+'DLod(areaL'+'ightsLutTe'+'x2,\x20uv,\x200.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20specu'+'larity\x20*\x20t'+'2.x\x20+\x20(\x20ve'+'c3(\x201.0\x20)\x20'+'-\x20specular'+'ity)\x20*\x20t2.'+'y;\x0a}\x0a\x0avoid'+'\x20calcLTCLi'+'ghtValues('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'specularit'+'y,\x20float\x20c'+'learcoatGl'+'oss,\x20vec3\x20'+'clearcoatW'+'orldNormal'+',\x20float\x20cl'+'earcoatSpe'+'cularity)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'UV\x20=\x20getLT'+'CLightUV(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20dLTCSpe'+'cFres\x20=\x20ge'+'tLTCLightS'+'pecFres(dL'+'TCUV,\x20spec'+'ularity);\x20'+'\x0a\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20ccL'+'TCUV\x20=\x20get'+'LTCLightUV'+'(clearcoat'+'Gloss,\x20cle'+'arcoatWorl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20ccLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(c'+'cLTCUV,\x20ve'+'c3(clearco'+'atSpecular'+'ity));\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20calcRect'+'LightValue'+'s(vec3\x20lig'+'htPos,\x20vec'+'3\x20halfWidt'+'h,\x20vec3\x20ha'+'lfHeight)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'Coords\x20=\x20g'+'etLTCLight'+'Coords(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0avoid\x20ca'+'lcDiskLigh'+'tValues(ve'+'c3\x20lightPo'+'s,\x20vec3\x20ha'+'lfWidth,\x20v'+'ec3\x20halfHe'+'ight)\x0a{\x0a\x20\x20'+'\x20\x20calcRect'+'LightValue'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0avo'+'id\x20calcSph'+'ereLightVa'+'lues(vec3\x20'+'lightPos,\x20'+'vec3\x20halfW'+'idth,\x20vec3'+'\x20halfHeigh'+'t)\x0a{\x0a\x20\x20\x20\x20d'+'LTCCoords\x20')+('=\x20getSpher'+'eLightCoor'+'ds(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0a\x0a'+'//\x20An\x20exte'+'nded\x20versi'+'on\x20of\x20the\x20'+'implementa'+'tion\x20from\x0a'+'//\x20\x22How\x20to'+'\x20solve\x20a\x20c'+'ubic\x20equat'+'ion,\x20revis'+'ited\x22\x0a//\x20h'+'ttp://mome'+'ntsingraph'+'ics.de/?p='+'105\x0avec3\x20S'+'olveCubic('+'vec4\x20Coeff'+'icient)\x0a{\x0a'+'\x20\x20\x20\x20float\x20'+'pi\x20=\x203.141'+'59;\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t.xyz\x20/=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20//'+'\x20Divide\x20mi'+'ddle\x20coeff'+'icients\x20by'+'\x20three\x0a\x20\x20\x20'+'\x20Coefficie'+'nt.yz\x20/=\x203'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20A\x20=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20fl'+'oat\x20B\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20C\x20=\x20Coe'+'fficient.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20D\x20=\x20Coef'+'ficient.x;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20Hessian\x20a'+'nd\x20the\x20dis'+'criminant\x0a'+'\x20\x20\x20\x20vec3\x20D'+'elta\x20=\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-Coeffici'+'ent.z\x20*\x20Co'+'efficient.'+'z\x20+\x20Coeffi'+'cient.y,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-Co'+'efficient.'+'y\x20*\x20Coeffi'+'cient.z\x20+\x20'+'Coefficien'+'t.x,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dot(vec'+'2(Coeffici'+'ent.z,\x20-Co'+'efficient.'+'y),\x20Coeffi'+'cient.xy)\x0a'+'\x20\x20\x20\x20);\x0a\x0a\x20\x20'+'\x20\x20float\x20Di'+'scriminant'+'\x20=\x20dot(vec'+'2(4.0\x20*\x20De'+'lta.x,\x20-De'+'lta.y),\x20De'+'lta.zy);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20R'+'ootsA,\x20Roo'+'tsD;\x0a\x0a\x20\x20\x20\x20'+'vec2\x20xlc,\x20'+'xsc;\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20A\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_a\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_a\x20=\x20Delt'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_a\x20=\x20-2.0\x20'+'*\x20B\x20*\x20Delt')+('a.x\x20+\x20Delt'+'a.y;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Tak'+'e\x20the\x20cubi'+'c\x20root\x20of\x20'+'a\x20normaliz'+'ed\x20complex'+'\x20number\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20Theta\x20=\x20'+'atan(sqrt('+'Discrimina'+'nt),\x20-D_a)'+'\x20/\x203.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_1a\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_a)\x20*\x20c'+'os(Theta);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_3a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20xl;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20((x_1a\x20+'+'\x20x_3a)\x20>\x202'+'.0\x20*\x20B)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xl\x20=\x20x_1a;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xl\x20='+'\x20x_3a;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xlc\x20'+'=\x20vec2(xl\x20'+'-\x20B,\x20A);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20D\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_d\x20='+'\x20D;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20C_'+'d\x20=\x20Delta.'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20D_d'+'\x20=\x20-D\x20*\x20De'+'lta.y\x20+\x202.'+'0\x20*\x20C\x20*\x20De'+'lta.z;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(D\x20*'+'\x20sqrt(Disc'+'riminant),'+'\x20-D_d)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'_1d\x20=\x202.0\x20'+'*\x20sqrt(-C_'+'d)\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_3d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta\x20+\x20('+'2.0\x20/\x203.0)'+'\x20*\x20pi);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20xs;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(x'+'_1d\x20+\x20x_3d'+'\x20<\x202.0\x20*\x20C'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20xs\x20=\x20x'+'_1d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xs\x20=\x20x_3d;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xsc\x20=\x20vec2'+'(-D,\x20xs\x20+\x20'+'C);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20E\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20float'+'\x20F\x20=\x20-xlc.')+('x\x20*\x20xsc.y\x20'+'-\x20xlc.y\x20*\x20'+'xsc.x;\x0a\x20\x20\x20'+'\x20float\x20G\x20='+'\x20\x20xlc.x\x20*\x20'+'xsc.x;\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xmc'+'\x20=\x20vec2(C\x20'+'*\x20F\x20-\x20B\x20*\x20'+'G,\x20-B\x20*\x20F\x20'+'+\x20C\x20*\x20E);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'Root\x20=\x20vec'+'3(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.yxz'+';\x0a\x20\x20\x20\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20R'+'oot.xyz\x20=\x20'+'Root.xzy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20Root;\x0a}\x0a'+'\x0afloat\x20LTC'+'_EvaluateD'+'isk(vec3\x20N'+',\x20vec3\x20V,\x20'+'vec3\x20P,\x20ma'+'t3\x20Minv,\x20C'+'oords\x20poin'+'ts)\x0a{\x0a\x20\x20\x20\x20'+'//\x20constru'+'ct\x20orthono'+'rmal\x20basis'+'\x20around\x20N\x0a'+'\x20\x20\x20\x20vec3\x20T'+'1,\x20T2;\x0a\x20\x20\x20'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'T2\x20=\x20cross'+'(N,\x20T1);\x0a\x0a'+'\x20\x20\x20\x20//\x20rot'+'ate\x20area\x20l'+'ight\x20in\x20(T'+'1,\x20T2,\x20N)\x20'+'basis\x0a\x20\x20\x20\x20'+'//mat3\x20R\x20='+'\x20transpose'+'(mat3(T1,\x20'+'T2,\x20N));\x0a\x20'+'\x20\x20\x20mat3\x20R\x20'+'=\x20transpos'+'eMat3(\x20mat'+'3(\x20T1,\x20T2,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20//\x20polyg'+'on\x20(alloca'+'te\x205\x20verti'+'ces\x20for\x20cl'+'ipping)\x0a\x20\x20'+'\x20\x20vec3\x20L_['+'\x203\x20];\x0a\x20\x20\x20\x20'+'L_[\x200\x20]\x20=\x20'+'R\x20*\x20(\x20poin'+'ts.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20L_[\x201\x20]\x20='+'\x20R\x20*\x20(\x20poi'+'nts.coord1'+'\x20-\x20P\x20);\x0a\x20\x20'+'\x20\x20L_[\x202\x20]\x20'+'=\x20R\x20*\x20(\x20po'+'ints.coord'+'2\x20-\x20P\x20);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20L'+'o_i\x20=\x20vec3'+'(0);\x0a\x0a\x20\x20\x20\x20'+'//\x20init\x20el'+'lipse\x0a\x20\x20\x20\x20'+'vec3\x20C\x20\x20=\x20'+'0.5\x20*\x20(L_['+'0]\x20+\x20L_[2]'+');\x0a\x20\x20\x20\x20vec'+'3\x20V1\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[2]);\x0a')+('\x20\x20\x20\x20vec3\x20V'+'2\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[0]);\x0a\x0a\x20\x20'+'\x20\x20C\x20\x20=\x20Min'+'v\x20*\x20C;\x0a\x20\x20\x20'+'\x20V1\x20=\x20Minv'+'\x20*\x20V1;\x0a\x20\x20\x20'+'\x20V2\x20=\x20Minv'+'\x20*\x20V2;\x0a\x0a\x20\x20'+'\x20\x20//if(dot'+'(cross(V1,'+'\x20V2),\x20C)\x20>'+'\x200.0)\x0a\x20\x20\x20\x20'+'//\x20\x20\x20\x20retu'+'rn\x200.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20float\x20a,'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20d11\x20=\x20'+'dot(V1,\x20V1'+');\x0a\x20\x20\x20\x20flo'+'at\x20d22\x20=\x20d'+'ot(V2,\x20V2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d12\x20=\x20do'+'t(V1,\x20V2);'+'\x0a\x20\x20\x20\x20if\x20(a'+'bs(d12)\x20/\x20'+'sqrt(d11\x20*'+'\x20d22)\x20>\x200.'+'0001)\x0a\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20tr\x20='+'\x20d11\x20+\x20d22'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20det\x20'+'=\x20-d12\x20*\x20d'+'12\x20+\x20d11\x20*'+'\x20d22;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20us'+'e\x20sqrt\x20mat'+'rix\x20to\x20sol'+'ve\x20for\x20eig'+'envalues\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20det'+'\x20=\x20sqrt(de'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x200.5\x20*\x20sq'+'rt(tr\x20-\x202.'+'0\x20*\x20det);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x200.'+'5\x20*\x20sqrt(t'+'r\x20+\x202.0\x20*\x20'+'det);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_max\x20=\x20(u'+'\x20+\x20v)\x20*\x20(u'+'\x20+\x20v);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20e_min\x20=\x20('+'u\x20-\x20v)\x20*\x20('+'u\x20-\x20v);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20V1_,\x20V2_'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(d11\x20>'+'\x20d22)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12\x20*\x20'+'V1\x20+\x20(e_ma'+'x\x20-\x20d11)\x20*'+'\x20V2;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V2_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_min'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20V'+'1_\x20=\x20d12*V'+'2\x20+\x20(e_max'+'\x20-\x20d22)*V1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20V2_\x20=\x20'+'d12*V2\x20+\x20('+'e_min\x20-\x20d2'+'2)*V1;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20a\x20=\x20'+'1.0\x20/\x20e_ma'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20b\x20=\x201.0\x20/'+'\x20e_min;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20='+'\x20normalize'+'(V1_);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V2\x20=\x20'+'normalize('+'V2_);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1,\x20V1);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2,\x20V2);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'*=\x20sqrt(a)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'V2\x20*=\x20sqrt'+'(b);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20V3\x20=\x20norm'+'alize(cros'+'s(V1,\x20V2))'+';\x0a\x20\x20\x20\x20if\x20('+'dot(C,\x20V3)'+'\x20<\x200.0)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V3\x20*'+'=\x20-1.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20L'+'\x20\x20=\x20dot(V3'+',\x20C);\x0a\x20\x20\x20\x20'+'float\x20x0\x20='+'\x20dot(V1,\x20C'+')\x20/\x20L;\x0a\x20\x20\x20'+'\x20float\x20y0\x20'+'=\x20dot(V2,\x20'+'C)\x20/\x20L;\x0a\x0a\x20'+'\x20\x20\x20float\x20E'+'1\x20=\x20invers'+'esqrt(a);\x0a'+'\x20\x20\x20\x20float\x20'+'E2\x20=\x20inver'+'sesqrt(b);'+'\x0a\x0a\x20\x20\x20\x20a\x20*='+'\x20L\x20*\x20L;\x0a\x20\x20'+'\x20\x20b\x20*=\x20L\x20*'+'\x20L;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x0a\x20\x20\x20'+'\x20float\x20c1\x20'+'=\x20a\x20*\x20b\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0\x20+\x20y0\x20'+'*\x20y0)\x20-\x20a\x20'+'-\x20b;\x0a\x20\x20\x20\x20f'+'loat\x20c2\x20=\x20'+'1.0\x20-\x20a\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0)\x20-\x20b\x20'+'*\x20(1.0\x20+\x20y'+'0\x20*\x20y0);\x0a\x20'+'\x20\x20\x20float\x20c'+'3\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oots\x20=\x20Sol'+'veCubic(ve'+'c4(c0,\x20c1,'+'\x20c2,\x20c3));'+'\x0a\x20\x20\x20\x20float'+'\x20e1\x20=\x20root'+'s.x;\x0a\x20\x20\x20\x20f'+'loat\x20e2\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20float\x20e'+'3\x20=\x20roots.'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20avgDir\x20'+'=\x20vec3(a\x20*'+'\x20x0\x20/\x20(a\x20-'+'\x20e2),\x20b\x20*\x20'+'y0\x20/\x20(b\x20-\x20'+'e2),\x201.0);'+'\x0a\x0a\x20\x20\x20\x20mat3'+'\x20rotate\x20=\x20'+'mat3(V1,\x20V'+'2,\x20V3);\x0a\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20rotate\x20*'+'\x20avgDir;\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20normaliz'+'e(avgDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20L1\x20=\x20sqr'+'t(-e2\x20/\x20e3'+');\x0a\x20\x20\x20\x20flo'+'at\x20L2\x20=\x20sq'+'rt(-e2\x20/\x20e')+('1);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20formF'+'actor\x20=\x20ma'+'x(0.0,\x20L1\x20'+'*\x20L2\x20*\x20inv'+'ersesqrt(('+'1.0\x20+\x20L1\x20*'+'\x20L1)\x20*\x20(1.'+'0\x20+\x20L2\x20*\x20L'+'2)));\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20const'+'\x20float\x20LUT'+'_SIZE\x20=\x2064'+'.0;\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'LUT_SCALE\x20'+'=\x20(\x20LUT_SI'+'ZE\x20-\x201.0\x20)'+'\x20/\x20LUT_SIZ'+'E;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_BIAS\x20=\x20'+'0.5\x20/\x20LUT_'+'SIZE;\x0a\x0a\x20\x20\x20'+'\x20//\x20use\x20ta'+'bulated\x20ho'+'rizon-clip'+'ped\x20sphere'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20vec2('+'avgDir.z\x20*'+'\x200.5\x20+\x200.5'+',\x20formFact'+'or);\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv*LUT'+'_SCALE\x20+\x20L'+'UT_BIAS;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'scale\x20=\x20te'+'xture2DLod'+'(areaLight'+'sLutTex2,\x20'+'uv,\x200.0).w'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20formFa'+'ctor*scale'+';\x0a}\x0a\x0afloat'+'\x20getRectLi'+'ghtDiffuse'+'(vec3\x20worl'+'dNormal,\x20v'+'ec3\x20viewDi'+'r,\x20vec3\x20li'+'ghtDir,\x20ve'+'c3\x20lightDi'+'rNorm)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Evalua'+'teRect(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'vPositionW'+',\x20mat3(\x201.'+'0\x20),\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Diffuse(ve'+'c3\x20worldNo'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'at3(\x201.0\x20)'+',\x20dLTCCoor'+'ds\x20);\x0a}\x0a\x0af'+'loat\x20getSp'+'hereLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20/'+'/\x20NB:\x20this'+'\x20could\x20be\x20'+'improved\x20f'+'urther\x20wit'+'h\x20distance'+'\x20based\x20wra')+('p\x20lighting'+'\x0a\x20\x20\x20\x20float'+'\x20falloff\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20l'+'ightDir,\x20l'+'ightDirNor'+'m)\x20*\x20fallo'+'ff;\x0a}\x0a\x0amat'+'3\x20getLTCLi'+'ghtInvMat('+'vec2\x20uv)\x0a{'+'\x0a\x20\x20\x20\x20vec4\x20'+'t1\x20=\x20textu'+'re2DLod(ar'+'eaLightsLu'+'tTex1,\x20uv,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3(\x20t'+'1.x,\x200,\x20t1'+'.y\x20),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3(\x20'+'\x20\x20\x200,\x201,\x20\x20'+'\x20\x200\x20),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3('+'\x20t1.z,\x200,\x20'+'t1.w\x20)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0aflo'+'at\x20calcRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir,\x20vec'+'2\x20uv)\x20{\x0a\x20\x20'+'\x20\x20mat3\x20mIn'+'v\x20=\x20getLTC'+'LightInvMa'+'t(uv);\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'mInv,\x20dLTC'+'Coords\x20);\x0a'+'}\x0a\x0afloat\x20g'+'etRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20calcR'+'ectLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LTCUV);\x0a}\x0a'+'\x0afloat\x20cal'+'cDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec2\x20uv)\x20'+'{\x0a\x20\x20\x20\x20mat3'+'\x20mInv\x20=\x20ge'+'tLTCLightI'+'nvMat(uv);'+'\x0a\x20\x20\x20\x20retur'+'n\x20LTC_Eval'+'uateDisk(\x20'+'worldNorma'+'l,\x20viewDir'+',\x20vPositio'+'nW,\x20mInv,\x20'+'dLTCCoords'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular')+('(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a\x0afloat'+'\x20getSphere'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular'+'(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a'),FT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'metalness;'+'\x0a#endif\x0a\x0av'+'oid\x20getMet'+'alness()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20metalness'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPFLOAT\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20mate'+'rial_metal'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20metaln'+'ess\x20*=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'VERTEX\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dM'+'etalness\x20='+'\x20metalness'+';\x0a}\x0a',OT='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifdef\x20'+'UNIFORM_TE'+'XT_PARAMET'+'ERS\x0aunifor'+'m\x20vec4\x20out'+'line_color'+';\x0auniform\x20'+'float\x20outl'+'ine_thickn'+'ess;\x0aunifo'+'rm\x20vec4\x20sh'+'adow_color'+';\x0auniform\x20'+'vec2\x20shado'+'w_offset;\x0a'+'#else\x0avary'+'ing\x20vec4\x20o'+'utline_col'+'or;\x0avaryin'+'g\x20float\x20ou'+'tline_thic'+'kness;\x0avar'+'ying\x20vec4\x20'+'shadow_col'+'or;\x0avaryin'+'g\x20vec2\x20sha'+'dow_offset'+';\x0a#endif\x0a\x0a'+'vec4\x20apply'+'Msdf(vec4\x20'+'color)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20Con'+'vert\x20to\x20li'+'near\x20space'+'\x20before\x20pr'+'ocessing\x0a\x20'+'\x20\x20\x20//\x20TODO'+':\x20ideally\x20'+'this\x20would'+'\x20receive\x20t'+'he\x20color\x20i'+'n\x20linear\x20s'+'pace,\x20but\x20'+'that\x20would'+'\x20require\x20l'+'arger\x20chan'+'ges\x0a\x20\x20\x20\x20//'+'\x20on\x20the\x20en'+'gine\x20side,'+'\x20with\x20the\x20'+('way\x20premul'+'tiplied\x20al'+'pha\x20is\x20han'+'dled\x20as\x20we'+'ll.\x0a\x20\x20\x20\x20co'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctInput(co'+'lor.rgb);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20the\x20f'+'ield\x0a\x20\x20\x20\x20v'+'ec3\x20tsampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20vUv0).rgb'+';\x0a\x20\x20\x20\x20vec2'+'\x20uvShdw\x20=\x20'+'vUv0\x20-\x20sha'+'dow_offset'+';\x0a\x20\x20\x20\x20vec3'+'\x20ssample\x20='+'\x20texture2D'+'(texture_m'+'sdfMap,\x20uv'+'Shdw).rgb;'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20the\x20sign'+'ed\x20distanc'+'e\x20value\x0a\x20\x20'+'\x20\x20float\x20si'+'gDist\x20=\x20me'+'dian(tsamp'+'le.r,\x20tsam'+'ple.g,\x20tsa'+'mple.b);\x0a\x20'+'\x20\x20\x20float\x20s'+'igDistShdw'+'\x20=\x20median('+'ssample.r,'+'\x20ssample.g'+',\x20ssample.'+'b);\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20limit\x20-\x20'+'smaller\x20va'+'lue\x20makes\x20'+'for\x20sharpe'+'r\x20but\x20more'+'\x20aliased\x20t'+'ext,\x20espec'+'ially\x20on\x20a'+'ngles\x0a\x20\x20\x20\x20'+'//\x20too\x20lar'+'ge\x20value\x20('+'0.5)\x20creat'+'es\x20a\x20dark\x20'+'glow\x20aroun'+'d\x20the\x20lett'+'ers\x0a\x20\x20\x20\x20fl'+'oat\x20smooth'+'ingMax\x20=\x200'+'.2;\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20depends\x20'+'on\x20size\x20of'+'\x20texture\x20o'+'n\x20screen\x0a\x20'+'\x20\x20\x20vec2\x20w\x20'+'=\x20fwidth(v'+'Uv0);\x0a\x20\x20\x20\x20'+'float\x20smoo'+'thing\x20=\x20cl'+'amp(w.x\x20*\x20'+'font_textu'+'reWidth\x20/\x20'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mapMi'+'n\x20=\x200.05;\x0a'+'\x20\x20\x20\x20float\x20'+'mapMax\x20=\x20c'+'lamp(1.0\x20-'+'\x20font_sdfI'+'ntensity,\x20'+'mapMin,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20remap\x20to'+'\x20a\x20smaller'+'\x20range\x20(us'+'ed\x20on\x20smal'+'ler\x20font\x20s'+'izes)\x0a\x20\x20\x20\x20'+'float\x20sigD'+'istInner\x20='+'\x20map(mapMi'+'n,\x20mapMax,')+('\x20sigDist);'+'\x0a\x20\x20\x20\x20float'+'\x20sigDistOu'+'tline\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'kness);\x0a\x20\x20'+'\x20\x20sigDistS'+'hdw\x20=\x20map('+'mapMin,\x20ma'+'pMax,\x20sigD'+'istShdw\x20+\x20'+'outline_th'+'ickness);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20center\x20=\x20'+'0.5;\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20smoothin'+'g\x20and\x20use\x20'+'to\x20generat'+'e\x20opacity\x0a'+'\x20\x20\x20\x20float\x20'+'inside\x20=\x20s'+'moothstep('+'center-smo'+'othing,\x20ce'+'nter+smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20float'+'\x20outline\x20='+'\x20smoothste'+'p(center-s'+'moothing,\x20'+'center+smo'+'othing,\x20si'+'gDistOutli'+'ne);\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'w\x20=\x20smooth'+'step(cente'+'r-smoothin'+'g,\x20center+'+'smoothing,'+'\x20sigDistSh'+'dw);\x0a\x0a\x20\x20\x20\x20'+'vec4\x20tcolo'+'r\x20=\x20(outli'+'ne\x20>\x20insid'+'e)\x20?\x20outli'+'ne\x20*\x20vec4('+'outline_co'+'lor.a\x20*\x20ou'+'tline_colo'+'r.rgb,\x20out'+'line_color'+'.a)\x20:\x20vec4'+'(0.0);\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(tcolor'+',\x20color,\x20i'+'nside);\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'olor\x20=\x20(sh'+'adow\x20>\x20out'+'line)\x20?\x20sh'+'adow\x20*\x20vec'+'4(shadow_c'+'olor.a\x20*\x20s'+'hadow_colo'+'r.rgb,\x20sha'+'dow_color.'+'a)\x20:\x20tcolo'+'r;\x0a\x20\x20\x20\x20tco'+'lor\x20=\x20mix('+'scolor,\x20tc'+'olor,\x20outl'+'ine);\x0a\x0a\x20\x20\x20'+'\x20//\x20Conver'+'t\x20back\x20to\x20'+'gamma\x20spac'+'e\x20before\x20r'+'eturning\x0a\x20'+'\x20\x20\x20tcolor.'+'rgb\x20=\x20gamm'+'aCorrectOu'+'tput(tcolo'+'r.rgb);\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),kT='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',BT='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',NT='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',zT='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0a#ifdef\x20'+'MORPHING_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_INT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20morphNo'+'rmalTex;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20morphNorm'+'alTex;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0avec3'+'\x20getLocalN'+'ormal(vec3'+'\x20vertexNor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20loc'+'alNormal\x20='+'\x20vertex_no'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20m'+'orphUV\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'MORPHING_I'+'NT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'morphNorma'+'l\x20=\x20vec3(t'+'exelFetch('+'morphNorma'+'lTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20morphN'+'ormal\x20=\x20te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localNo'+'rmal\x20+=\x20mo'+'rphNormal;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Normal;\x0a}\x0a'+'\x0a#ifdef\x20SK'+'IN\x0a\x20\x20\x20\x20mat'+'3\x20getNorma'+'lMatrix(ma'+'t4\x20modelMa'+'trix)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3(mo'+'delMatrix['+'0].xyz,\x20mo'+'delMatrix['+'1].xyz,\x20mo'+'delMatrix['+'2].xyz);\x0a\x20'+'\x20\x20\x20}\x0a#elif'+'\x20defined(I'+'NSTANCING)'+'\x0a\x20\x20\x20\x20mat3\x20'+'getNormalM'+'atrix(mat4'+'\x20modelMatr'+'ix)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20mat3(mode'+'lMatrix[0]'+'.xyz,\x20mode'+'lMatrix[1]'+'.xyz,\x20mode'+'lMatrix[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20}\x0a#else\x0a\x20'+('\x20\x20\x20mat3\x20ge'+'tNormalMat'+'rix(mat4\x20m'+'odelMatrix'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),UT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0av'+'ec3\x20blendN'+'ormals(vec'+'3\x20n1,\x20vec3'+'\x20n2)\x20{\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20n1\x20+='+'\x20vec3(0,\x200'+',\x201);\x0a\x20\x20\x20\x20'+'n2\x20*=\x20vec3'+'(-1,\x20-1,\x201'+');\x0a\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a}\x0a#end'+'if\x0a\x0avec3\x20a'+'ddNormalDe'+'tail(vec3\x20'+'normalMap)'+'\x20{\x0a#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20vec3\x20'+'normalDeta'+'ilMap\x20=\x20un'+'packNormal'+'(texture2D'+'Bias($SAMP'+'LER,\x20$UV,\x20'+'textureBia'+'s));\x0a\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20r'+'eturn\x20blen'+'dNormals(n'+'ormalMap,\x20'+'normalDeta'+'ilMap);\x0a#e'+'lse\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lMap;\x0a#end'+'if\x0a}\x0a',VT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_bumpines'+'s;\x0a#endif\x0a'+'\x0avoid\x20getN'+'ormal()\x20{\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20vec3\x20nor'+'malMap\x20=\x20u'+'npackNorma'+'l(texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as));\x0a\x20\x20\x20\x20'+'normalMap\x20'+'=\x20mix(vec3'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malMap,\x20ma'+'terial_bum'+'piness);\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20addNormal'+'Detail(nor'+'malMap));\x0a'+'#else\x0a\x20\x20\x20\x20'+'dNormalW\x20='+'\x20dVertexNo'+'rmalW;\x0a#en'+'dif\x0a}\x0a',GT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20normal;\x0a\x20'+'\x20\x20\x20normal.'+'xy\x20=\x20nmap.'+'wy\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'normal.z\x20='+'\x20sqrt(1.0\x20'+'-\x20saturate'+'(dot(norma'+'l.xy,\x20norm'+'al.xy)));\x0a'+'\x20\x20\x20\x20return'+'\x20normal;\x0a}'+'\x0a',HT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20nmap.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a}\x0a',WT='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20dAlpha\x20*'+'=\x20texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as).$CH;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPVERTE'+'X\x0a\x20\x20\x20\x20dAlp'+'ha\x20*=\x20clam'+'p(vVertexC'+'olor.$VC,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',$T='\x0a\x0auniform\x20'+'vec4\x20blueN'+'oiseJitter'+';\x0a\x0a#ifdef\x20'+'DITHER_BLU'+'ENOISE\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20b'+'lueNoiseTe'+'x32;\x0a#endi'+'f\x0a\x0avoid\x20op'+'acityDithe'+'r(float\x20al'+'pha,\x20float'+'\x20id)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20DI'+'THER_BAYER'+'8\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20bayer'+'8(floor(mo'+'d(gl_FragC'+'oord.xy\x20+\x20'+'blueNoiseJ'+'itter.xy\x20+'+'\x20id,\x208.0))'+')\x20/\x2064.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20DIT'+'HER_BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20DITHER_IG'+'NNOISE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20https://w'+'ww.iryoku.'+'com/next-g'+'eneration-'+'post-proce'+'ssing-in-c'+'all-of-dut'+'y-advanced'+'-warfare/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20mag'+'ic\x20=\x20vec3('+'0.06711056'+',\x200.005837'+'15,\x2052.982'+'9189);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20fract(m'+'agic.z\x20*\x20f'+'ract(dot(g'+'l_FragCoor'+'d.xy\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+',\x20magic.xy'+')));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'convert\x20th'+'e\x20noise\x20to'+'\x20linear\x20sp'+'ace,\x20as\x20th'+'at\x20is\x20spec'+'ified\x20in\x20s'+'RGB\x20space\x20'+'(stores\x20pe'+'rceptual\x20v'+'alues)\x0a\x20\x20\x20'+'\x20noise\x20=\x20p'+'ow(noise,\x20'+'2.2);\x0a\x0a\x20\x20\x20'+'\x20if\x20(alpha'+'\x20<\x20noise)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a}\x0a',qT='\x0a',XT='\x0agl_FragCo'+'lor.a\x20=\x20li'+'tArgs_opac'+'ity;\x0a',jT='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x201.0;\x0a',YT='\x0agl_FragCo'+'lor.rgb\x20*='+'\x20litArgs_o'+'pacity;\x0agl'+'_FragColor'+'.a\x20=\x20litAr'+'gs_opacity'+';\x0a',KT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',ZT='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20sheen'+'Color\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sSpeculari'+'ty\x20=\x20sheen'+'Color;\x0a}\x0a',QT='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20sheenGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20sheenG'+'lossiness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.$VC);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPINV'+'ERT\x0a\x20\x20\x20\x20sh'+'eenGlossin'+'ess\x20=\x201.0\x20'+'-\x20sheenGlo'+'ssiness;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sheen'+'Glossiness'+'\x20+=\x200.0000'+'001;\x0a\x20\x20\x20\x20s'+'Glossiness'+'\x20=\x20sheenGl'+'ossiness;\x0a'+'}\x0a',JT='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias($'+'SAMPLER,\x20$'+'UV,\x20textur'+'eBias).$CH'+';\x0a\x20\x20\x20\x20heig'+'ht\x20=\x20heigh'+'t\x20*\x20parall'+'axScale\x20-\x20'+'parallaxSc'+'ale*0.5;\x0a\x20'+'\x20\x20\x20vec3\x20vi'+'ewDirT\x20=\x20d'+'ViewDirW\x20*'+'\x20dTBN;\x0a\x0a\x20\x20'+'\x20\x20viewDirT'+'.z\x20+=\x200.42'+';\x0a\x20\x20\x20\x20dUvO'+'ffset\x20=\x20he'+'ight\x20*\x20(vi'+'ewDirT.xy\x20'+'/\x20viewDirT'+'.z);\x0a}\x0a',eA='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a#de'+'fine\x20CAMER'+'APLANES\x0aun'+'iform\x20vec4'+'\x20camera_pa'+'rams;\x0a#end'+'if\x0a\x0aunifor'+'m\x20float\x20so'+'ftening;\x0au'+'niform\x20flo'+'at\x20colorMu'+'lt;\x0a\x0afloat'+'\x20saturate('+'float\x20x)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tex\x20\x20=\x20t'+'exture2D(c'+'olorMap,\x20v'+'ec2(texCoo'+'rdsAlphaLi'+'fe.x,\x201.0\x20'+'-\x20texCoord'+'sAlphaLife'+'.y));\x0a\x20\x20\x20\x20'+'vec4\x20ramp\x20'+'=\x20texture2'+'D(colorPar'+'am,\x20vec2(t'+'exCoordsAl'+'phaLife.w,'+'\x200.0));\x0a\x20\x20'+'\x20\x20ramp.rgb'+'\x20*=\x20colorM'+'ult;\x0a\x0a\x20\x20\x20\x20'+'ramp.a\x20+=\x20'+'texCoordsA'+'lphaLife.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20rgb\x20=\x20te'+'x.rgb\x20*\x20ra'+'mp.rgb;\x0a\x20\x20'+'\x20\x20float\x20a\x20'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',tA='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x20meshLo'+'calPos\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20q'+'uadXY\x20=\x20me'+'shLocalPos'+'.xy;\x0a\x20\x20\x20\x20f'+'loat\x20nlife'+'\x20=\x20clamp(i'+'nLife\x20/\x20pa'+'rticleLife'+'time,\x200.0,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'amDiv;\x0a\x20\x20\x20'+'\x20vec4\x20para'+'ms\x20=\x20tex1D'+'lod_lerp(T'+'EXTURE_PAS'+'S(internal'+'Tex2),\x20vec'+'2(nlife,\x200'+'),\x20paramDi'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x20params.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20scaleDiv'+'\x20=\x20paramDi'+'v.x;\x0a\x20\x20\x20\x20f'+'loat\x20alpha'+'Div\x20=\x20para'+'mDiv.z;\x0a\x0a\x20'+'\x20\x20\x20scale\x20+'+'=\x20(scaleDi'+'v\x20*\x202.0\x20-\x20'+'1.0)\x20*\x20sca'+'leDivMult\x20'+'*\x20fract(rn'+'dFactor*10'+'000.0);\x0a\x0a#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(quad'+'XY\x20*\x20-0.5\x20'+'+\x200.5,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#else\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(part'+'icle_uv,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20alphaD'+'ivMult\x20*\x20f'+'ract(rndFa'+'ctor*1000.'+'0),\x20nlife)'+';\x0a#endif\x0a\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'\x20=\x20inPos;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x0a'+'\x20\x20\x20\x20mat2\x20r'+'otMatrix;\x0a'),sA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',iA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',rA='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',nA='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',aA='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y*(1.'+'0/255.0)\x20+'+'\x20rg.x;\x0a}\x0a\x0a'+'float\x20deco'+'deFloatRGB'+'A(\x20vec4\x20rg'+'ba\x20)\x20{\x0a\x20\x20r'+'eturn\x20dot('+'\x20rgba,\x20vec'+'4(1.0,\x201.0'+'/255.0,\x201.'+'0/65025.0,'+'\x201.0/16058'+'1375.0)\x20);'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+'rticles\x20-\x20'+('1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),oA='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',lA='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),hA='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',cA='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',dA='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',uA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',fA='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',pA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',mA='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',_A='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),gA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',yA='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',xA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',SA='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',vA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0aa'+'ttribute\x20v'+'ec2\x20partic'+'le_vertexD'+'ata5;\x0a#els'+'e\x0aattribut'+'e\x20vec4\x20par'+'ticle_vert'+'exData5;\x0a#'+'endif\x0a\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wProjectio'+'n;\x0auniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0auniform\x20m'+'at4\x20matrix'+'_viewInver'+'se;\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20lif'+'etime;\x0auni'+'form\x20float'+'\x20stretch;\x0a'+'uniform\x20fl'+'oat\x20seed;\x0a'+'uniform\x20ve'+'c3\x20wrapBou'+'nds;\x0aunifo'+'rm\x20vec3\x20em'+'itterScale'+';\x0auniform\x20'+'vec3\x20faceT'+('angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0a\x0a#ifdef'+'\x20PARTICLE_'+'GPU\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex1;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+'rnalTex2;\x0a'+'#endif\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0a\x0avarying'+'\x20vec4\x20texC'+'oordsAlpha'+'Life;\x0a\x0avec'+'2\x20rotate(v'+'ec2\x20quadXY'+',\x20float\x20pR'+'otation,\x20o'+'ut\x20mat2\x20ro'+'tMatrix)\x0a{'+'\x0a\x20\x20\x20\x20float'+'\x20c\x20=\x20cos(p'+'Rotation);'+'\x0a\x20\x20\x20\x20float'+'\x20s\x20=\x20sin(p'+'Rotation);'+'\x0a\x20\x20\x20\x20//vec'+'4\x20rotation'+'Matrix\x20=\x20v'+'ec4(c,\x20-s,'+'\x20s,\x20c);\x0a\x0a\x20'+'\x20\x20\x20mat2\x20m\x20'+'=\x20mat2(c,\x20'+'-s,\x20s,\x20c);'+'\x0a\x20\x20\x20\x20rotMa'+'trix\x20=\x20m;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20m\x20*\x20quad'+'XY;\x0a}\x0a\x0avec'+'3\x20billboar'+'d(vec3\x20Ins'+'tanceCoord'+'s,\x20vec2\x20qu'+'adXY)\x0a{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20-matrix'+'_viewInver'+'se[0].xyz\x20'+'*\x20quadXY.x'+'\x20+\x20-matrix'+'_viewInver'+'se[1].xyz\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avec3\x20cust'+'omFace(vec'+'3\x20Instance'+'Coords,\x20ve'+'c2\x20quadXY)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20pos\x20=\x20fa'+'ceTangent\x20'+'*\x20quadXY.x'+'\x20+\x20faceBin'+'orm\x20*\x20quad'+'XY.y;\x0a\x20\x20\x20\x20'+'return\x20pos'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20particle'+'Pos\x20=\x20part'+'icle_verte'+'xData.xyz;'+'\x0a\x20\x20\x20\x20vec3\x20'+'inPos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20vec3\x20'+'vertPos\x20=\x20'+'particle_v'+'ertexData3'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20inVel'+'\x20=\x20vec3(pa'+'rticle_ver'+'texData2.w'+',\x20particle'+'_vertexDat')+('a3.w,\x20part'+'icle_verte'+'xData5.x);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20id\x20=\x20flo'+'or(particl'+'e_vertexDa'+'ta4);\x0a\x20\x20\x20\x20'+'float\x20rndF'+'actor\x20=\x20fr'+'act(sin(id'+'\x20+\x201.0\x20+\x20s'+'eed));\x0a\x20\x20\x20'+'\x20vec3\x20rndF'+'actor3\x20=\x20v'+'ec3(rndFac'+'tor,\x20fract'+'(rndFactor'+'*10.0),\x20fr'+'act(rndFac'+'tor*100.0)'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20normalize'+'((mat3(mat'+'rix_view)\x20'+'*\x20inVel).x'+'y);\x20//\x20sho'+'uld\x20be\x20rem'+'oved\x20by\x20co'+'mpiler\x20if\x20'+'align/stre'+'tch\x20is\x20not'+'\x20used\x0a\x0a\x20\x20\x20'+'\x20vec2\x20quad'+'XY\x20=\x20vertP'+'os.xy;\x0a\x0a#i'+'fdef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_vertexD'+'ata5.zw,\x20p'+'article_ve'+'rtexData2.'+'z,\x20particl'+'e_vertexDa'+'ta.w);\x0a#el'+'se\x0a\x20\x20\x20\x20tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4(quadXY\x20'+'*\x20-0.5\x20+\x200'+'.5,\x20partic'+'le_vertexD'+'ata2.z,\x20pa'+'rticle_ver'+'texData.w)'+';\x0a#endif\x0a\x20'+'\x20\x20\x20mat2\x20ro'+'tMatrix;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'inAngle\x20=\x20'+'particle_v'+'ertexData2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20particl'+'ePosMoved\x20'+'=\x20vec3(0.0'+');\x0a\x20\x20\x20\x20vec'+'3\x20meshLoca'+'lPos\x20=\x20par'+'ticle_vert'+'exData3.xy'+'z;\x0a'),bA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',wA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',TA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',AA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',EA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal*0'+'.5+0.5;\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'Normal\x20=\x20-'+'normal*0.5'+'+0.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'*=\x20negNorm'+'al;\x0a\x20\x20\x20\x20po'+'sNormal\x20*='+'\x20posNormal'+';\x0a',CA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a#if'+'def\x20USE_ME'+'SH\x0aattribu'+'te\x20vec2\x20pa'+'rticle_uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20mesh\x20UV\x0a'+'#endif\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ewProjecti'+'on;\x0aunifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0auniform\x20m'+'at3\x20matrix'+'_normal;\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iewInverse'+';\x0a\x0a#ifndef'+'\x20VIEWMATRI'+'X\x0a#define\x20'+'VIEWMATRIX'+'\x0auniform\x20m'+'at4\x20matrix'+'_view;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20num'+'ParticlesP'+'ot;\x0aunifor'+'m\x20float\x20gr'+'aphSampleS'+'ize;\x0aunifo'+'rm\x20float\x20g'+'raphNumSam'+'ples;\x0aunif'+'orm\x20float\x20'+'stretch;\x0au'+'niform\x20vec'+'3\x20wrapBoun'+'ds;\x0aunifor'+'m\x20vec3\x20emi'+'tterScale;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rPos;\x0aunif'+'orm\x20vec3\x20f'+'aceTangent'+';\x0auniform\x20'+'vec3\x20faceB'+'inorm;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20de'+'ltaRandomn'+'essStatic;'+'\x0auniform\x20f'+'loat\x20scale'+'DivMult;\x0au'+'niform\x20flo'+'at\x20alphaDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20delta;\x0aun'+'iform\x20samp'+'ler2D\x20part'+'icleTexOUT'+';\x0auniform\x20'+'sampler2D\x20'+'particleTe'+'xIN;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+('rnalTex1;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex2'+';\x0a#endif\x0a\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x0a'+'#endif\x0a\x0ava'+'rying\x20vec4'+'\x20texCoords'+'AlphaLife;'+'\x0a\x0avec3\x20inP'+'os;\x0avec3\x20i'+'nVel;\x0afloa'+'t\x20inAngle;'+'\x0abool\x20inSh'+'ow;\x0afloat\x20'+'inLife;\x0a'),MA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',PA='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',RA='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',IA='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',DA='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',LA='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',FA='\x0a\x20\x20\x20\x20inAng'+'le\x20=\x20atan('+'velocityV.'+'x,\x20velocit'+'yV.y);\x20//\x20'+'not\x20the\x20fa'+'stest\x20way,'+'\x20but\x20easie'+'r\x20to\x20plug\x20'+'in;\x20TODO:\x20'+'create\x20rot'+'\x20matrix\x20ri'+'ght\x20from\x20v'+'ectors\x0a\x0a',OA='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',kA='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',BA='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',NA='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',zA='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',UA='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x20255.0,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20con'+'st\x20uvec4\x20s'+'hifts\x20=\x20uv'+'ec4(16,\x208,'+'\x200,\x2024);\x0a\x20'+'\x20\x20\x20uvec4\x20c'+'ol\x20=\x20(uvec'+'4(meshInst'+'anceId)\x20>>'+'\x20shifts)\x20&'+'\x20uvec4(0xf'+'f);\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'col)\x20*\x20inv'+';\x0a}\x0a',VA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',GA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x20\x20\x20\x20f'+'loat\x20aniso'+'tropy\x20=\x20ma'+'terial_ani'+'sotropy\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cDirection'+'\x20=\x20anisotr'+'opy\x20>=\x200.0'+'\x20?\x20tbn[1]\x20'+':\x20tbn[0];\x0a'+'\x20\x20\x20\x20vec3\x20a'+'nisotropic'+'Tangent\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicNo'+'rmal\x20=\x20cro'+'ss(anisotr'+'opicTangen'+'t,\x20anisotr'+'opicDirect'+'ion);\x0a\x20\x20\x20\x20'+'vec3\x20bentN'+'ormal\x20=\x20no'+'rmalize(mi'+'x(normaliz'+'e(worldNor'+'mal),\x20norm'+'alize(anis'+'otropicNor'+'mal),\x20anis'+'otropy));\x0a'+'\x20\x20\x20\x20dReflD'+'irW\x20=\x20refl'+'ect(-viewD'+'ir,\x20bentNo'+'rmal);\x0a}\x0a',HA='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',WA='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20$DE'+'CODE(textu'+'reCube(tex'+'ture_cubeM'+'ap,\x20lookup'+'Vec));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',$A='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20sa'+'mplerCube\x20'+'texture_cu'+'beMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20dir\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r)\x20*\x20vec3('+'-1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20f'+'loat\x20level'+'\x20=\x20saturat'+'e(1.0\x20-\x20gl'+'oss)\x20*\x205.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20ilevel\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20f'+'loat\x20fleve'+'l\x20=\x20level\x20'+'-\x20ilevel;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'sharp\x20=\x20$D'+'ECODE_CUBE'+'MAP(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oughA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20mapRou'+'ghnessUv(u'+'v,\x20ilevel)'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20roughB\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',qA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_reflect'+'ivity;\x0a\x0a//'+'\x20calculate'+'\x20mip\x20level'+'\x20for\x20shiny'+'\x20reflectio'+'n\x20given\x20eq'+'uirect\x20coo'+'rds\x20uv.\x0afl'+'oat\x20shinyM'+'ipLevel(ve'+'c2\x20uv)\x20{\x0a\x20'+'\x20\x20\x20vec2\x20dx'+'\x20=\x20dFdx(uv'+');\x0a\x20\x20\x20\x20vec'+'2\x20dy\x20=\x20dFd'+'y(uv);\x0a\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20secon'+'d\x20dF\x20at\x2018'+'0\x20degrees\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v2\x20=\x20vec2('+'fract(uv.x'+'\x20+\x200.5),\x20u'+'v.y);\x0a\x20\x20\x20\x20'+'vec2\x20dx2\x20='+'\x20dFdx(uv2)'+';\x0a\x20\x20\x20\x20vec2'+'\x20dy2\x20=\x20dFd'+'y(uv2);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20min\x20'+'of\x20both\x20se'+'ts\x20of\x20dF\x20t'+'o\x20handle\x20d'+'iscontinui'+'ty\x20at\x20the\x20'+'azim\x20edge\x0a'+'\x20\x20\x20\x20float\x20'+'maxd\x20=\x20min'+'(max(dot(d'+'x,\x20dx),\x20do'+'t(dy,\x20dy))'+',\x20max(dot('+'dx2,\x20dx2),'+'\x20dot(dy2,\x20'+'dy2)));\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(0.5\x20'+'*\x20log2(max'+'d)\x20-\x201.0\x20+'+'\x20textureBi'+'as,\x200.0,\x205'+'.0);\x0a}\x0a\x0ave'+'c3\x20calcRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3(-1.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20toSphe'+'ricalUv(di'+'r);\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20roughnes'+'s\x20level\x0a\x20\x20'+'\x20\x20float\x20le'+'vel\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20f'+'loat\x20ileve'+'l\x20=\x20floor('+'level);\x0a\x0a\x20'+'\x20\x20\x20//\x20acce'+'ssing\x20the\x20'+'shiny\x20(top'+'\x20level)\x20re'+'flection\x20-'+'\x20perform\x20m'+'anual\x20mipm'+'ap\x20lookup\x0a'+'\x20\x20\x20\x20float\x20'+('level2\x20=\x20s'+'hinyMipLev'+'el(uv\x20*\x20at'+'lasSize);\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel2\x20=\x20'+'floor(leve'+'l2);\x0a\x0a\x20\x20\x20\x20'+'vec2\x20uv0,\x20'+'uv1;\x0a\x20\x20\x20\x20f'+'loat\x20weigh'+'t;\x0a\x20\x20\x20\x20if\x20'+'(ilevel\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20mapShiny'+'Uv(uv,\x20ile'+'vel2);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20mapShinyU'+'v(uv,\x20ilev'+'el2\x20+\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'weight\x20=\x20l'+'evel2\x20-\x20il'+'evel2;\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20accessing'+'\x20rough\x20ref'+'lection\x20-\x20'+'just\x20sampl'+'e\x20the\x20same'+'\x20part\x20twic'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20uv1\x20'+'=\x20mapRough'+'nessUv(uv,'+'\x20ilevel);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20we'+'ight\x20=\x200.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20li'+'nearA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20uv0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'linearB\x20=\x20'+'$DECODE(te'+'xture2D(te'+'xture_envA'+'tlas,\x20uv1)'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear0\x20'+'=\x20mix(line'+'arA,\x20linea'+'rB,\x20weight'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear1\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0avo'+'id\x20addRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x20\x20\x20\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20+=\x20ve'+'c4(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20mater'+'ial_reflec'+'tivity);\x0a}'+'\x0a'),XA='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0auniform\x20'+'sampler2D\x20'+'texture_sp'+'hereMap;\x0au'+'niform\x20flo'+'at\x20materia'+'l_reflecti'+'vity;\x0a\x0avec'+'3\x20calcRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20reflD'+'irV\x20=\x20(mat'+'3(matrix_v'+'iew)\x20*\x20ref'+'lDir).xyz;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x202.0\x20'+'*\x20sqrt(\x20do'+'t(reflDirV'+'.xy,\x20reflD'+'irV.xy)\x20+\x20'+'(reflDirV.'+'z+1.0)*(re'+'flDirV.z+1'+'.0)\x20);\x0a\x20\x20\x20'+'\x20vec2\x20sphe'+'reMapUv\x20=\x20'+'reflDirV.x'+'y\x20/\x20m\x20+\x200.'+'5;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20$DECO'+'DE(texture'+'2D(texture'+'_sphereMap'+',\x20sphereMa'+'pUv));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',jA='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',YA='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',KA='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20DISPERSIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20based\x20o'+'n\x20the\x20disp'+'ersion\x20mat'+'erial\x20prop'+'erty,\x20calc'+'ulate\x20modi'+'fied\x20refra'+'ction\x20inde'+'x\x20values\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'for\x20R\x20and\x20'+'B\x20channels'+'\x20and\x20evalu'+'ate\x20the\x20re'+'fraction\x20c'+'olor\x20for\x20t'+'hem.\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20h'+'alfSpread\x20'+'=\x20(1.0\x20/\x20r'+'efractionI'+'ndex\x20-\x201.0')+(')\x20*\x200.025\x20'+'*\x20dispersi'+'on;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20r'+'efractionI'+'ndexR\x20=\x20re'+'fractionIn'+'dex\x20-\x20half'+'Spread;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'actionVect'+'or\x20=\x20norma'+'lize(refra'+'ct(-viewDi'+'r,\x20worldNo'+'rmal,\x20refr'+'actionInde'+'xR))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20refracti'+'on.r\x20=\x20eva'+'lRefractio'+'nColor(ref'+'ractionVec'+'tor,\x20gloss'+',\x20refracti'+'onIndexR).'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dexB\x20=\x20ref'+'ractionInd'+'ex\x20+\x20halfS'+'pread;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ctionVecto'+'r\x20=\x20normal'+'ize(refrac'+'t(-viewDir'+',\x20worldNor'+'mal,\x20refra'+'ctionIndex'+'B))\x20*\x20scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'n.b\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndexB).b'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20Transmitt'+'ance\x20is\x20ou'+'r\x20final\x20re'+'fraction\x20c'+'olor\x0a\x20\x20\x20\x20v'+'ec3\x20transm'+'ittance;\x0a\x20'+'\x20\x20\x20if\x20(mat'+'erial_invA'+'ttenuation'+'Distance\x20!'+'=\x200.0)\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20atte'+'nuation\x20=\x20'+'-log(mater'+'ial_attenu'+'ation)\x20*\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'transmitta'+'nce\x20=\x20exp('+'-attenuati'+'on\x20*\x20lengt'+'h(refracti'+'onVector))'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20transmitt'+'ance\x20=\x20ref'+'raction;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20f'+'resnel\x20eff'+'ect\x20on\x20ref'+'raction\x0a\x20\x20'+'\x20\x20vec3\x20fre'+'snel\x20=\x20vec'+'3(1.0)\x20-\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view')+('Dir,\x20world'+'Normal),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20specular'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20,\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceIn'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20mix(dD'+'iffuseLigh'+'t,\x20refract'+'ion\x20*\x20tran'+'smittance\x20'+'*\x20fresnel,'+'\x20transmiss'+'ion);\x0a}\x0a'),ZA='\x0a//\x20This\x20s'+'hader\x20requ'+'ires\x20the\x20f'+'ollowing\x20#'+'DEFINEs:\x0a/'+'/\x0a//\x20PROCE'+'SS_FUNC\x20-\x20'+'must\x20be\x20on'+'e\x20of\x20repro'+'ject,\x20pref'+'ilter\x0a//\x20D'+'ECODE_FUNC'+'\x20-\x20must\x20be'+'\x20one\x20of\x20de'+'codeRGBM,\x20'+'decodeRGBE'+',\x20decodeGa'+'mma\x20or\x20dec'+'odeLinear\x0a'+'//\x20ENCODE_'+'FUNC\x20-\x20mus'+'t\x20be\x20one\x20o'+'f\x20encodeRG'+'BM,\x20encode'+'RGBE,\x20enci'+'deGamma\x20or'+'\x20encodeLin'+'ear\x0a//\x20SOU'+'RCE_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20samp'+'leCubemap,'+'\x20sampleEqu'+'irect,\x20sam'+'pleOctahed'+'ral\x0a//\x20TAR'+'GET_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20getD'+'irectionCu'+'bemap,\x20get'+'DirectionE'+'quirect,\x20g'+'etDirectio'+'nOctahedra'+'l\x0a//\x0a//\x20Wh'+'en\x20filteri'+'ng:\x0a//\x20NUM'+'_SAMPLES\x20-'+'\x20number\x20of'+'\x20samples\x0a/'+'/\x20NUM_SAMP'+'LES_SQRT\x20-'+'\x20sqrt\x20of\x20n'+'umber\x20of\x20s'+'amples\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0a\x0a//'+'\x20source\x0a#i'+'fdef\x20CUBEM'+'AP_SOURCE\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplerC'+'ube\x20source'+'Cube;\x0a#els'+'e\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20source'+'Tex;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'//\x20samples'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20samples'+'Tex;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20samplesT'+'exInverseS'+'ize;\x0a#endi'+'f\x0a\x0a//\x20para'+'ms:\x0a//\x20x\x20-'+'\x20target\x20cu'+'bemap\x20face'+'\x200..6\x0a//\x20y'+'\x20-\x20target\x20'+'image\x20tota'+'l\x20pixels\x0a/'+'/\x20z\x20-\x20sour'+'ce\x20cubemap'+'\x20size\x0aunif'+'orm\x20vec3\x20p'+'arams;\x0a\x0afl'+'oat\x20target'+'Face()\x20{\x20r'+'eturn\x20para'+'ms.x;\x20}\x0afl'+'oat\x20target'+'TotalPixel'+('s()\x20{\x20retu'+'rn\x20params.'+'y;\x20}\x0afloat'+'\x20sourceTot'+'alPixels()'+'\x20{\x20return\x20'+'params.z;\x20'+'}\x0a\x0afloat\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afloat\x20'+'saturate(f'+'loat\x20x)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0a')+S0+'\x0a'+v0+('\x0a\x0a//--\x20sup'+'ported\x20pro'+'jections\x0a\x0a'+'vec3\x20modif'+'ySeams(vec'+'3\x20dir,\x20flo'+'at\x20scale)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20adir\x20=\x20ab'+'s(dir);\x0a\x20\x20'+'\x20\x20float\x20M\x20'+'=\x20max(max('+'adir.x,\x20ad'+'ir.y),\x20adi'+'r.z);\x0a\x20\x20\x20\x20'+'return\x20dir'+'\x20/\x20M\x20*\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.x\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20adir'+'.y\x20==\x20M\x20?\x20'+'1.0\x20:\x20scal'+'e,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.z\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'3\x20fromSphe'+'rical(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(cos(uv.'+'y)\x20*\x20sin(u'+'v.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sin(uv.y'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'os(uv.y)\x20*'+'\x20cos(uv.x)'+');\x0a}\x0a\x0avec3'+'\x20getDirect'+'ionEquirec'+'t()\x20{\x0a\x20\x20\x20\x20'+'return\x20fro'+'mSpherical'+'((vec2(vUv'+'0.x,\x201.0\x20-'+'\x20vUv0.y)\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20vec2(P'+'I,\x20PI\x20*\x200.'+'5));\x0a}\x0a\x0a//'+'\x20octahedra'+'l\x20code,\x20ba'+'sed\x20on\x20htt'+'ps://jcgt.'+'org/publis'+'hed/0003/0'+'2/01/\x0a//\x20\x22'+'Survey\x20of\x20'+'Efficient\x20'+'Representa'+'tions\x20for\x20'+'Independen'+'t\x20Unit\x20Vec'+'tors\x22\x20by\x20C'+'igolle,\x20Do'+'now,\x20Evang'+'elakos,\x20Ma'+'ra,\x20McGuir'+'e,\x20Meyer\x0a\x0a'+'float\x20sign'+'NotZero(fl'+'oat\x20k){\x0a\x20\x20'+'\x20\x20return(k'+'\x20>=\x200.0)\x20?'+'\x201.0\x20:\x20-1.'+'0;\x0a}\x0a\x0avec2'+'\x20signNotZe'+'ro(vec2\x20v)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(s'+'ignNotZero'+'(v.x),\x20sig'+'nNotZero(v'+'.y));\x0a}\x0a\x0a/'+('/\x20Returns\x20'+'a\x20unit\x20vec'+'tor.\x20Argum'+'ent\x20o\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'packed\x20via'+'\x20octEncode'+',\x20on\x20the\x20['+'-1,\x20+1]\x20sq'+'uare\x0avec3\x20'+'octDecode('+'vec2\x20o)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'\x20=\x20vec3(o.'+'x,\x201.0\x20-\x20a'+'bs(o.x)\x20-\x20'+'abs(o.y),\x20'+'o.y);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v.xz\x20'+'=\x20(1.0\x20-\x20a'+'bs(v.zx))\x20'+'*\x20signNotZ'+'ero(v.xz);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0avec3\x20'+'getDirecti'+'onOctahedr'+'al()\x20{\x0a\x20\x20\x20'+'\x20return\x20oc'+'tDecode(ve'+'c2(vUv0.x,'+'\x201.0\x20-\x20vUv'+'0.y)\x20*\x202.0'+'\x20-\x201.0);\x0a}'+'\x0a\x0a//\x20Assum'+'es\x20that\x20v\x20'+'is\x20a\x20unit\x20'+'vector.\x20Th'+'e\x20result\x20i'+'s\x20an\x20octah'+'edral\x20vect'+'or\x20on\x20the\x20'+'[-1,\x20+1]\x20s'+'quare\x0avec2'+'\x20octEncode'+'(in\x20vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20l1norm'+'\x20=\x20abs(v.x'+')\x20+\x20abs(v.'+'y)\x20+\x20abs(v'+'.z);\x0a\x20\x20\x20\x20v'+'ec2\x20result'+'\x20=\x20v.xz\x20*\x20'+'(1.0\x20/\x20l1n'+'orm);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20=\x20(1.0\x20-'+'\x20abs(resul'+'t.yx))\x20*\x20s'+'ignNotZero'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20ve'+'c4\x20sampleC'+'ubemap(vec'+'3\x20dir)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCube(sour'+'ceCube,\x20mo'+'difySeams('+'dir,\x201.0))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleCubema'+'p(vec2\x20sph'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20sampl'+'eCubemap(f'+'romSpheric'+'al(sph));\x0a')+('}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleCu'+'bemap(vec3'+'\x20dir,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureCube'+'Lod(source'+'Cube,\x20modi'+'fySeams(di'+'r,\x201.0),\x20m'+'ipLevel);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leCubemap('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleC'+'ubemap(fro'+'mSpherical'+'(sph),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a#else\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleEqui'+'rect(vec2\x20'+'sph)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20sph\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'(toSpheric'+'al(dir));\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leEquirect'+'(vec2\x20sph,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sph'+'\x20/\x20vec2(PI'+'\x20*\x202.0,\x20PI'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'e2DLod(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sam'+'pleEquirec'+'t(toSpheri'+'cal(dir),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleOctah'+'edral(vec2'+'\x20sph)\x20{\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'octEncode('+'dir)\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20texture'+'2DLod(sour'+'ceTex,\x20vec'+'2(uv.x,\x201.'+'0\x20-\x20uv.y),'+'\x20mipLevel)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleOctahe'+'dral(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getD'+'irectionCu'+'bemap()\x20{\x0a'+'\x20\x20\x20\x20vec2\x20s'+'t\x20=\x20vUv0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20vec;\x0a\x20\x20'+'\x20\x20if\x20(face'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'1,\x20-st.y,\x20'+'-st.x);\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(face\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec\x20'+'=\x20vec3(-1,'+'\x20-st.y,\x20st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'1,\x20st.y);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x203.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3(st.x'+',\x20-st.y,\x201'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(-st.x'+',\x20-st.y,\x20-'+'1);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(modifySe'+'ams(vec,\x201'+'.0));\x0a}\x0a\x0am'+'at3\x20matrix'+'FromVector'+'(vec3\x20n)\x20{'+'\x20//\x20frisva'+'d\x0a\x20\x20\x20\x20floa'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20f'+'loat\x20b\x20=\x20-')+('n.x\x20*\x20n.y\x20'+'*\x20a;\x0a\x20\x20\x20\x20v'+'ec3\x20b1\x20=\x20v'+'ec3(1.0\x20-\x20'+'n.x\x20*\x20n.x\x20'+'*\x20a,\x20b,\x20-n'+'.x);\x0a\x20\x20\x20\x20v'+'ec3\x20b2\x20=\x20v'+'ec3(b,\x201.0'+'\x20-\x20n.y\x20*\x20n'+'.y\x20*\x20a,\x20-n'+'.y);\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'(b1,\x20b2,\x20n'+');\x0a}\x0a\x0amat3'+'\x20matrixFro'+'mVectorSlo'+'w(vec3\x20n)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20up\x20=\x20(1.0'+'\x20-\x20abs(n.y'+')\x20<=\x200.000'+'0001)\x20?\x20ve'+'c3(0.0,\x200.'+'0,\x20n.y\x20>\x200'+'.0\x20?\x201.0\x20:'+'\x20-1.0)\x20:\x20v'+'ec3(0.0,\x201'+'.0,\x200.0);\x0a'+'\x20\x20\x20\x20vec3\x20x'+'\x20=\x20normali'+'ze(cross(u'+'p,\x20n));\x0a\x20\x20'+'\x20\x20vec3\x20y\x20='+'\x20cross(n,\x20'+'x);\x0a\x20\x20\x20\x20re'+'turn\x20mat3('+'x,\x20y,\x20n);\x0a'+'}\x0a\x0avec4\x20re'+'project()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'NUM_SAMPLE'+'S\x20<=\x201)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20single\x20sa'+'mple\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(DECODE_F'+'UNC(SOURCE'+'_FUNC(TARG'+'ET_FUNC())'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'lti\x20sample'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20t\x20=\x20TA'+'RGET_FUNC('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20tu\x20='+'\x20dFdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tv\x20=\x20dF'+'dy(t);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'u\x20=\x200.0;\x20u'+'\x20<\x20NUM_SAM'+'PLES_SQRT;'+'\x20++u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(float'+'\x20v\x20=\x200.0;\x20'+'v\x20<\x20NUM_SA'+'MPLES_SQRT'+';\x20++v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20DECOD'+'E_FUNC(SOU'+'RCE_FUNC(n'+'ormalize(t'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20tu\x20*\x20(u'+'\x20/\x20NUM_SAM'+'PLES_SQRT\x20'+'-\x200.5)\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'v\x20*\x20(v\x20/\x20N'+'UM_SAMPLES'+'_SQRT\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ENCO'+'DE_FUNC(re'+'sult\x20/\x20(NU'+'M_SAMPLES_'+'SQRT\x20*\x20NUM'+'_SAMPLES_S'+'QRT));\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0avec4'+'\x20unpackFlo'+'at\x20=\x20vec4('+'1.0,\x201.0\x20/'+'\x20255.0,\x201.'+'0\x20/\x2065025.'+'0,\x201.0\x20/\x201'+'6581375.0)'+';\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'void\x20unpac'+'kSample(in'+'t\x20i,\x20out\x20v'+'ec3\x20L,\x20out'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20u\x20=\x20(fl'+'oat(i\x20*\x204)'+'\x20+\x200.5)\x20*\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20v'+'\x20=\x20(floor('+'u)\x20+\x200.5)\x20'+'*\x20samplesT'+'exInverseS'+'ize.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20raw.x\x20'+'=\x20dot(text'+'ure2D(samp'+'lesTex,\x20ve'+'c2(u,\x20v)),'+'\x20unpackFlo'+'at);\x20u\x20+=\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20raw.y\x20='+'\x20dot(textu'+'re2D(sampl'+'esTex,\x20vec'+'2(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20s'+'amplesTexI'+'nverseSize'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20raw.z\x20=\x20'+'dot(textur'+'e2D(sample'+'sTex,\x20vec2'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20sa'+'mplesTexIn'+'verseSize.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20raw.w\x20=\x20d'+'ot(texture'+'2D(samples'+'Tex,\x20vec2('+'u,\x20v)),\x20un'+'packFloat)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20L.xyz\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'pLevel\x20=\x20r'+'aw.w\x20*\x208.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20conv'+'olve\x20an\x20en'+'vironment\x20'+'given\x20pre-'+'generated\x20'+'samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp')+('les()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el))\x20*\x20L.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20totalW'+'eight\x20+=\x20L'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(result\x20/'+'\x20totalWeig'+'ht);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'nweighted\x20'+'version\x20of'+'\x20prefilter'+'Samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp'+'lesUnweigh'+'ted()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20ENCODE_F'+'UNC(result'+'\x20/\x20float(N'+'UM_SAMPLES'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20PROCE'+'SS_FUNC();'+'\x0a}\x0a')),QA='\x0a\x0avec4\x20Sam'+'pleTexture'+'CatmullRom'+'(TEXTURE_A'+'CCEPT(tex)'+',\x20vec2\x20uv,'+'\x20vec2\x20texS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20//\x20We\x27re\x20'+'going\x20to\x20s'+'ample\x20a\x20a\x20'+'4x4\x20grid\x20o'+'f\x20texels\x20s'+'urrounding'+'\x20the\x20targe'+'t\x20UV\x20coord'+'inate.\x20We\x27'+'ll\x20do\x20this'+'\x20by\x20roundi'+'ng\x0a\x20\x20\x20\x20//\x20'+'down\x20the\x20s'+'ample\x20loca'+'tion\x20to\x20ge'+'t\x20the\x20exac'+'t\x20center\x20o'+'f\x20our\x20\x22sta'+'rting\x22\x20tex'+'el.\x20The\x20st'+'arting\x20tex'+'el\x20will\x20be'+'\x20at\x0a\x20\x20\x20\x20//'+'\x20location\x20'+'[1,\x201]\x20in\x20'+'the\x20grid,\x20'+'where\x20[0,\x20'+'0]\x20is\x20the\x20'+'top\x20left\x20c'+'orner.\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePos\x20=\x20uv'+'\x20*\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos1\x20='+'\x20floor(sam'+'plePos\x20-\x200'+'.5)\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20fractiona'+'l\x20offset\x20f'+'rom\x20our\x20st'+'arting\x20tex'+'el\x20to\x20our\x20'+'original\x20s'+'ample\x20loca'+'tion,\x20whic'+'h\x20we\x27ll\x0a\x20\x20'+'\x20\x20//\x20feed\x20'+'into\x20the\x20C'+'atmull-Rom'+'\x20spline\x20fu'+'nction\x20to\x20'+'get\x20our\x20fi'+'lter\x20weigh'+'ts.\x0a\x20\x20\x20\x20ve'+'c2\x20f\x20=\x20sam'+'plePos\x20-\x20t'+'exPos1;\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20the\x20Ca'+'tmull-Rom\x20'+'weights\x20us'+'ing\x20the\x20fr'+'actional\x20o'+'ffset\x20that'+'\x20we\x20calcul'+'ated\x20earli'+'er.\x0a\x20\x20\x20\x20//'+'\x20These\x20equ'+'ations\x20are'+'\x20pre-expan'+'ded\x20based\x20'+'on\x20our\x20kno'+'wledge\x20of\x20'+'where\x20the\x20'+'texels\x20wil'+'l\x20be\x20locat'+'ed,\x0a\x20\x20\x20\x20//'+'\x20which\x20let'+'s\x20us\x20avoid'+'\x20having\x20to'+'\x20evaluate\x20'+'a\x20piece-wi'+'se\x20functio'+'n.\x0a\x20\x20\x20\x20vec'+'2\x20w0\x20=\x20f\x20*'+'\x20(-0.5\x20+\x20f'+'\x20*\x20(1.0\x20-\x20'+'0.5\x20*\x20f));'+'\x0a\x20\x20\x20\x20vec2\x20'+('w1\x20=\x201.0\x20+'+'\x20f\x20*\x20f\x20*\x20('+'-2.5\x20+\x201.5'+'\x20*\x20f);\x0a\x20\x20\x20'+'\x20vec2\x20w2\x20='+'\x20f\x20*\x20(0.5\x20'+'+\x20f\x20*\x20(2.0'+'\x20-\x201.5\x20*\x20f'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20w3\x20=\x20f\x20'+'*\x20f\x20*\x20(-0.'+'5\x20+\x200.5\x20*\x20'+'f);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Work\x20out'+'\x20weighting'+'\x20factors\x20a'+'nd\x20samplin'+'g\x20offsets\x20'+'that\x20will\x20'+'let\x20us\x20use'+'\x20bilinear\x20'+'filtering\x20'+'to\x0a\x20\x20\x20\x20//\x20'+'simultaneo'+'usly\x20evalu'+'ate\x20the\x20mi'+'ddle\x202\x20sam'+'ples\x20from\x20'+'the\x204x4\x20gr'+'id.\x0a\x20\x20\x20\x20ve'+'c2\x20w12\x20=\x20w'+'1\x20+\x20w2;\x0a\x20\x20'+'\x20\x20vec2\x20off'+'set12\x20=\x20w2'+'\x20/\x20(w1\x20+\x20w'+'2);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'the\x20final\x20'+'UV\x20coordin'+'ates\x20we\x27ll'+'\x20use\x20for\x20s'+'ampling\x20th'+'e\x20texture\x0a'+'\x20\x20\x20\x20vec2\x20t'+'exPos0\x20=\x20('+'texPos1\x20-\x20'+'1.0)\x20/\x20tex'+'Size;\x0a\x20\x20\x20\x20'+'vec2\x20texPo'+'s3\x20=\x20(texP'+'os1\x20+\x202.0)'+'\x20/\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos12\x20'+'=\x20(texPos1'+'\x20+\x20offset1'+'2)\x20/\x20texSi'+'ze;\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20result'+'\x20=\x20vec4(0.'+'0);\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos0.x'+',\x20texPos0.'+'y),\x200.0)\x20*'+'\x20w0.x\x20*\x20w0'+'.y;\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos12.'+'x,\x20texPos0'+'.y),\x200.0)\x20'+'*\x20w12.x\x20*\x20'+'w0.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos3'+'.x,\x20texPos'+'0.y),\x200.0)'+'\x20*\x20w3.x\x20*\x20'+'w0.y;\x0a\x0a\x20\x20\x20'+'\x20result\x20+='+'\x20texture2D'+'Lod(tex,\x20v'+'ec2(texPos'+'0.x,\x20texPo'+'s12.y),\x200.'+'0)\x20*\x20w0.x\x20'+'*\x20w12.y;\x0a\x20'+'\x20\x20\x20result\x20'+'+=\x20texture'+'2DLod(tex,'+'\x20vec2(texP'+'os12.x,\x20te'+'xPos12.y),'+'\x200.0)\x20*\x20w1')+('2.x\x20*\x20w12.'+'y;\x0a\x20\x20\x20\x20res'+'ult\x20+=\x20tex'+'ture2DLod('+'tex,\x20vec2('+'texPos3.x,'+'\x20texPos12.'+'y),\x200.0)\x20*'+'\x20w3.x\x20*\x20w1'+'2.y;\x0a\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos0'+'.x,\x20texPos'+'3.y),\x200.0)'+'\x20*\x20w0.x\x20*\x20'+'w3.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos1'+'2.x,\x20texPo'+'s3.y),\x200.0'+')\x20*\x20w12.x\x20'+'*\x20w3.y;\x0a\x20\x20'+'\x20\x20result\x20+'+'=\x20texture2'+'DLod(tex,\x20'+'vec2(texPo'+'s3.x,\x20texP'+'os3.y),\x200.'+'0)\x20*\x20w3.x\x20'+'*\x20w3.y;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'),JA='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a#define\x20S'+'CREENSIZE\x0a'+'uniform\x20ve'+'c4\x20uScreen'+'Size;\x0a#end'+'if\x0a\x0a#ifnde'+'f\x20VIEWMATR'+'IX\x0a#define'+'\x20VIEWMATRI'+'X\x0auniform\x20'+'mat4\x20matri'+'x_view;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20LINEAR'+'IZE_DEPTH\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x20'+'//\x20x:\x201\x20/\x20'+'camera_far'+',\x20\x20\x20\x20\x20\x20y:\x20'+'camera_far'+',\x20\x20\x20\x20\x20z:\x20c'+'amera_near'+',\x20\x20\x20\x20\x20\x20\x20\x20w'+':\x20is_ortho'+'\x0a#endif\x0a\x0a#'+'define\x20LIN'+'EARIZE_DEP'+'TH\x0afloat\x20l'+'inearizeDe'+'pth(float\x20'+'z)\x20{\x0a\x20\x20\x20\x20i'+'f\x20(camera_'+'params.w\x20='+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(camera_'+'params.z\x20*'+'\x20camera_pa'+'rams.y)\x20/\x20'+'(camera_pa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'_params.z\x20'+'-\x20camera_p'+'arams.y));'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20camer'+'a_params.z'+'\x20+\x20z\x20*\x20(ca'+'mera_param'+'s.y\x20-\x20came'+'ra_params.'+'z);\x0a}\x0a#end'+'if\x20//\x20LINE'+'ARIZE_DEPT'+'H\x0a\x0afloat\x20d'+'elinearize'+'Depth(floa'+'t\x20linearDe'+'pth)\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'a_params.w'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20(cam'+'era_params'+'.y\x20*\x20(came'+'ra_params.'+'z\x20-\x20linear'+'Depth))\x20/\x20'+'(linearDep'+'th\x20*\x20(came'+'ra_params.'+'z\x20-\x20camera'+'_params.y)'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20(linearDe'+'pth\x20-\x20came'+'ra_params.'+'z)\x20/\x20(came'+'ra_params.'+'y\x20-\x20camera'+'_params.z)'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0a//\x20Retrie'+('ves\x20render'+'ed\x20linear\x20'+'camera\x20dep'+'th\x20by\x20UV\x0af'+'loat\x20getLi'+'nearScreen'+'Depth(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'ENE_DEPTHM'+'AP_LINEAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SCENE'+'_DEPTHMAP_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20textu'+'re2D(uScen'+'eDepthMap,'+'\x20uv).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ivec2'+'\x20textureSi'+'ze\x20=\x20textu'+'reSize(uSc'+'eneDepthMa'+'p,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20texel'+'\x20=\x20ivec2(u'+'v\x20*\x20vec2(t'+'extureSize'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20data\x20=\x20te'+'xelFetch(u'+'SceneDepth'+'Map,\x20texel'+',\x200);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20intBit'+'s\x20=\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.r\x20*\x20255.'+'0)\x20<<\x2024u)'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'uint(data.'+'g\x20*\x20255.0)'+'\x20<<\x2016u)\x20|'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(ui'+'nt(data.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20uint(d'+'ata.a\x20*\x2025'+'5.0);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(intBits)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20lineariz'+'eDepth(tex'+'ture2D(uSc'+'eneDepthMa'+'p,\x20uv).r);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#ifnd'+'ef\x20VERTEXS'+'HADER\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20un'+'der\x20the\x20cu'+'rrent\x20pixe'+'l\x0afloat\x20ge'+'tLinearScr'+'eenDepth()'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20gl_'+'FragCoord.'+'xy\x20*\x20uScre'+'enSize.zw;'+'\x0a\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a}\x0a'+'#endif\x0a\x0a//'+'\x20Generates'+'\x20linear\x20ca'+'mera\x20depth')+('\x20for\x20the\x20g'+'iven\x20world'+'\x20position\x0a'+'float\x20getL'+'inearDepth'+'(vec3\x20pos)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(matr'+'ix_view\x20*\x20'+'vec4(pos,\x20'+'1.0)).z;\x0a}'+'\x0a'),eE='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avoid\x20'+'fadeShadow'+'(vec4\x20shad'+'owCascadeD'+'istances)\x20'+'{\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20//\x20if\x20'+'the\x20pixel\x20'+'is\x20past\x20th'+'e\x20shadow\x20d'+'istance,\x20r'+'emove\x20shad'+'ow\x0a\x20\x20\x20\x20//\x20'+'this\x20enfor'+'ces\x20straig'+'ht\x20line\x20in'+'stead\x20of\x20c'+'orner\x20of\x20s'+'hadow\x20whic'+'h\x20moves\x20wh'+'en\x20camera\x20'+'rotates\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x201.'+'0\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20if\x20(de'+'pth\x20>\x20shad'+'owCascadeD'+'istances.w'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dShadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a}\x0a'),tE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20s'+'hadowCoord'+'.z,\x20shadow'+'Params.y,\x20'+'exponent);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potVSM$(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec4\x20sh'+'adowParams'+',\x20float\x20ex'+'ponent,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20VSM$'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord.xy'+',\x20shadowPa'+'rams.x,\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a',sE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20float\x20p'+'ixelSize\x20='+'\x201.0\x20/\x20res'+'olution;\x0a\x20'+'\x20\x20\x20texCoor'+'ds\x20-=\x20vec2'+'(pixelSize'+');\x0a\x20\x20\x20\x20vec'+'3\x20s00\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20s1'+'0\x20=\x20textur'+'e2D(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize,\x200))'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20s01\x20='+'\x20texture2D'+'(tex,\x20texC'+'oords\x20+\x20ve'+'c2(0,\x20pixe'+'lSize)).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20s11\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds\x20+\x20vec2('+'pixelSize)'+').xyz;\x0a\x20\x20\x20'+'\x20vec2\x20fr\x20='+'\x20fract(tex'+'Coords\x20*\x20r'+'esolution)'+';\x0a\x20\x20\x20\x20vec3'+'\x20h0\x20=\x20mix('+'s00,\x20s10,\x20'+'fr.x);\x0a\x20\x20\x20'+'\x20vec3\x20h1\x20='+'\x20mix(s01,\x20'+'s11,\x20fr.x)'+';\x0a\x20\x20\x20\x20vec3'+'\x20moments\x20='+'\x20mix(h0,\x20h'+'1,\x20fr.y);\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'float\x20getS'+'hadowVSM$('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M$(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Params.x,\x20'+'shadowCoor'+'d.z,\x20shado'+'wParams.y,'+'\x20exponent)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'SpotVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+('return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20l'+'ength(ligh'+'tDir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'),iE='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epth(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa'+'dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam')+('pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light')+('Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow')+('Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowPo'+'intPCSS(sa'+'mplerCube\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SSCube(sha'+'dowMap,\x20sh'+'adowParams'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'hadowSearc'+'hArea.x,\x20l'+'ightDir);\x0a'+'}\x0a\x0a#endif\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c2\x20shadowS'+'earchArea,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSS(TEXTUR'+'E_PASS(sha'+'dowMap),\x20s'+'hadowCoord'+',\x20cameraPa'+'rams,\x20shad'+'owSearchAr'+'ea);\x0a}\x0a\x0a'),rE='\x0a\x0avec3\x20get'+'ShadowSamp'+'leCoord$LI'+'GHT(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'vec3\x20surfa'+'cePosition'+'\x20=\x20worldPo'+'sition;\x0a\x0a#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'POINT\x0a\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20d'+'istScale\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sur'+'facePositi'+'on\x20=\x20surfa'+'cePosition'+'\x20+\x20normal\x20'+'*\x20shadowPa'+'rams.y\x20*\x20c'+'lamp(1.0\x20-'+'\x20dot(norma'+'l,\x20-lightD'+'irNorm),\x200'+'.0,\x201.0)\x20*'+'\x20distScale'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'lightDir\x20='+'\x20surfacePo'+'sition\x20-\x20l'+'ightPos;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20#e'+'ndif\x0a#else'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dist'+'Scale\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20distSca'+'le\x20=\x20abs(d'+'ot(vPositi'+'onW\x20-\x20ligh'+'tPos,\x20ligh'+'tDirNorm))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20surface'+'Position\x20='+'\x20surfacePo'+('sition\x20+\x20n'+'ormal\x20*\x20sh'+'adowParams'+'.y\x20*\x20clamp'+'(1.0\x20-\x20dot'+'(normal,\x20-'+'lightDirNo'+'rm),\x200.0,\x20'+'1.0)\x20*\x20dis'+'tScale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20positi'+'onInShadow'+'Space\x20=\x20sh'+'adowTransf'+'orm\x20*\x20vec4'+'(surfacePo'+'sition,\x201.'+'0);\x0a\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_O'+'RTHO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20positio'+'nInShadowS'+'pace.z\x20=\x20s'+'aturate(po'+'sitionInSh'+'adowSpace.'+'z)\x20-\x200.000'+'1;\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/=\x20pos'+'itionInSha'+'dowSpace.w'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20positi'+'onInShadow'+'Space.z\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SHADOW_'+'SAMPLE_Z_B'+'IAS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.z\x20+=\x20g'+'etShadowBi'+'as(shadowP'+'arams.x,\x20s'+'hadowParam'+'s.z);\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20surfa'+'cePosition'+';\x0a}\x0a'),nE='\x0a\x0a/**\x0a\x20*\x20S'+'oft\x20direct'+'ional\x20shad'+'ows\x20PCSS\x20-'+'\x20with\x20and\x20'+'without\x20bl'+'ocker\x20sear'+'ch.\x0a\x20*/\x0a\x0ah'+'ighp\x20float'+'\x20fractSinR'+'and(\x20const'+'\x20in\x20vec2\x20u'+'v\x20)\x20{\x0a\x20\x20\x20\x20'+'const\x20high'+'p\x20float\x20a\x20'+'=\x2012.9898,'+'\x20b\x20=\x2078.23'+'3,\x20c\x20=\x20437'+'58.5453;\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20dt\x20=\x20'+'dot(uv.xy,'+'\x20vec2(a,\x20b'+')),\x20sn\x20=\x20m'+'od(dt,\x20PI)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20fract(s'+'in(sn)\x20*\x20c'+');\x0a}\x0a\x0a//\x20s'+'truct\x20to\x20h'+'old\x20precom'+'puted\x20cons'+'tants\x20and\x20'+'current\x20st'+'ate\x0astruct'+'\x20PoissonDi'+'skData\x20{\x0a\x20'+'\x20\x20\x20float\x20i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20fl'+'oat\x20angleS'+'tep;\x0a\x20\x20\x20\x20f'+'loat\x20initi'+'alAngle;\x0a\x20'+'\x20\x20\x20float\x20c'+'urrentRadi'+'us;\x0a\x20\x20\x20\x20fl'+'oat\x20curren'+'tAngle;\x0a};'+'\x0a\x0a//\x20prepa'+'re\x20the\x20Poi'+'sson\x20disk\x20'+'constants\x20'+'and\x20initia'+'lize\x20the\x20c'+'urrent\x20sta'+'te\x20in\x20the\x20'+'struct\x0avoi'+'d\x20prepareP'+'oissonCons'+'tants(out\x20'+'PoissonDis'+'kData\x20data'+',\x20int\x20samp'+'leCount,\x20i'+'nt\x20numRing'+'s,\x20float\x20r'+'andomSeed)'+'\x20{\x0a\x20\x20\x20\x20con'+'st\x20float\x20p'+'i2\x20=\x206.283'+'18530718;\x0a'+'\x20\x20\x20\x20data.i'+'nvNumSampl'+'es\x20=\x201.0\x20/'+'\x20float(sam'+'pleCount);'+'\x0a\x20\x20\x20\x20data.'+'angleStep\x20'+'=\x20pi2\x20*\x20fl'+'oat(numRin'+'gs)\x20*\x20data'+'.invNumSam'+'ples;\x0a\x20\x20\x20\x20'+'data.initi'+'alAngle\x20=\x20'+'randomSeed'+'\x20*\x20pi2;\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20=\x20data.in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20dat'+'a.currentA'+'ngle\x20=\x20dat'+'a.initialA'+'ngle;\x0a}\x0a\x0a/'+'/\x20generate'+'\x20a\x20Poisson'+'\x20sample\x20us'+('ing\x20the\x20pr'+'ecomputed\x20'+'struct\x0avec'+'2\x20generate'+'PoissonSam'+'ple(inout\x20'+'PoissonDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20offset\x20'+'=\x20vec2(cos'+'(data.curr'+'entAngle),'+'\x20sin(data.'+'currentAng'+'le))\x20*\x20pow'+'(data.curr'+'entRadius,'+'\x200.75);\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20+=\x20data.i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20da'+'ta.current'+'Angle\x20+=\x20d'+'ata.angleS'+'tep;\x0a\x20\x20\x20\x20r'+'eturn\x20offs'+'et;\x0a}\x0a\x0avoi'+'d\x20PCSSFind'+'Blocker(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20out\x20f'+'loat\x20avgBl'+'ockerDepth'+',\x20out\x20int\x20'+'numBlocker'+'s,\x0a\x20\x20\x20\x20vec'+'2\x20shadowCo'+'ords,\x20floa'+'t\x20z,\x20int\x20s'+'hadowBlock'+'erSamples,'+'\x20float\x20pen'+'umbraSize,'+'\x20float\x20inv'+'ShadowMapS'+'ize,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'PoissonDis'+'kData\x20pois'+'sonData;\x0a\x20'+'\x20\x20\x20prepare'+'PoissonCon'+'stants(poi'+'ssonData,\x20'+'shadowBloc'+'kerSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'searchWidt'+'h\x20=\x20penumb'+'raSize\x20*\x20i'+'nvShadowMa'+'pSize;\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckerSum\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20n'+'umBlockers'+'\x20=\x200;\x0a\x0a\x20\x20\x20'+'\x20for(\x20int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20shadowBlo'+'ckerSample'+'s;\x20++i\x20)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20poisso'+'nUV\x20=\x20gene'+'ratePoisso'+'nSample(po'+'issonData)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20sampl'+'eUV\x20=\x20shad'+'owCoords\x20+'+'\x20poissonUV'+'\x20*\x20searchW'+'idth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowMapD'+'epth\x20=\x20tex'+'ture2DLod('+'shadowMap,'+'\x20sampleUV,'+'\x200.0).r;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20')+('(\x20shadowMa'+'pDepth\x20<\x20z'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20blo'+'ckerSum\x20+='+'\x20shadowMap'+'Depth;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20n'+'umBlockers'+'++;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20avgBlo'+'ckerDepth\x20'+'=\x20blockerS'+'um\x20/\x20float'+'(numBlocke'+'rs);\x0a}\x0a\x0afl'+'oat\x20PCSSFi'+'lter(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec2\x20uv,'+'\x20float\x20rec'+'eiverDepth'+',\x20int\x20shad'+'owSamples,'+'\x20float\x20fil'+'terRadius,'+'\x20float\x20ran'+'domSeed)\x20{'+'\x0a\x20\x0a\x20\x20\x20\x20Poi'+'ssonDiskDa'+'ta\x20poisson'+'Data;\x0a\x20\x20\x20\x20'+'preparePoi'+'ssonConsta'+'nts(poisso'+'nData,\x20sha'+'dowSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'sum\x20=\x200.0f'+';\x0a\x20\x20\x20\x20for\x20'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowSamples'+';\x20++i\x20)\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20poi'+'ssonUV\x20=\x20g'+'eneratePoi'+'ssonSample'+'(poissonDa'+'ta);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sa'+'mpleUV\x20=\x20u'+'v\x20+\x20poisso'+'nUV\x20*\x20filt'+'erRadius;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20depth\x20'+'=\x20texture2'+'DLod(shado'+'wMap,\x20samp'+'leUV,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sum\x20+=\x20s'+'tep(receiv'+'erDepth,\x20d'+'epth);\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20ret'+'urn\x20sum\x20/\x20'+'float(shad'+'owSamples)'+';\x0a}\x20\x0a\x0afloa'+'t\x20getPenum'+'bra(float\x20'+'dblocker,\x20'+'float\x20drec'+'eiver,\x20flo'+'at\x20penumbr'+'aSize,\x20flo'+'at\x20penumbr'+'aFalloff)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20dist\x20=\x20d'+'receiver\x20-'+'\x20dblocker;'+'\x0a\x20\x20\x20\x20float'+'\x20penumbra\x20'+'=\x201.0\x20-\x20po'+'w(1.0\x20-\x20di'+'st,\x20penumb'+'raFalloff)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20penumbr'+'a\x20*\x20penumb'+'raSize;\x0a}\x0a'+'\x0afloat\x20PCS')+('SDirection'+'al(TEXTURE'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoords,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'shadowCoor'+'ds.z;\x0a\x20\x20\x20\x20'+'float\x20rand'+'omSeed\x20=\x20f'+'ractSinRan'+'d(gl_FragC'+'oord.xy);\x0a'+'\x20\x20\x20\x20int\x20sh'+'adowSample'+'s\x20=\x20int(so'+'ftShadowPa'+'rams.x);\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowBlocker'+'Samples\x20=\x20'+'int(softSh'+'adowParams'+'.y);\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'braSize\x20=\x20'+'softShadow'+'Params.z;\x0a'+'\x20\x20\x20\x20float\x20'+'penumbraFa'+'lloff\x20=\x20so'+'ftShadowPa'+'rams.w;\x0a\x0a\x20'+'\x20\x20\x20//\x20norm'+'alized\x20inv'+'erse\x20shado'+'w\x20map\x20size'+'\x20to\x20preser'+'ve\x20the\x20sha'+'dow\x20softne'+'ss\x20regardl'+'ess\x20of\x20the'+'\x20shadow\x20re'+'solution\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowMapSize'+'\x20=\x20texture'+'Size(shado'+'wMap,\x200).x'+';\x0a\x20\x20\x20\x20floa'+'t\x20invShado'+'wMapSize\x20='+'\x201.0\x20/\x20flo'+'at(shadowM'+'apSize);\x0a\x20'+'\x20\x20\x20invShad'+'owMapSize\x20'+'*=\x20float(s'+'hadowMapSi'+'ze)\x20/\x202048'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'bra;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20avgBl'+'ockerDepth'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'numBlocker'+'s\x20=\x200;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20PCSSF'+'indBlocker'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20avgB'+'lockerDept'+'h,\x20numBloc'+'kers,\x20shad'+'owCoords.x'+'y,\x20receive'+'rDepth,\x20sh'+'adowBlocke'+'rSamples,\x20')+('penumbraSi'+'ze,\x20invSha'+'dowMapSize'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ear'+'ly\x20out\x20whe'+'n\x20no\x20block'+'ers\x20are\x20pr'+'esent\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(nu'+'mBlockers\x20'+'<\x201)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x201.0f;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20penumbra'+'\x20size\x20is\x20b'+'ased\x20on\x20th'+'e\x20blocker\x20'+'depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20getPe'+'numbra(avg'+'BlockerDep'+'th,\x20shadow'+'Coords.z,\x20'+'penumbraSi'+'ze,\x20penumb'+'raFalloff)'+';\x0a\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nstant\x20fil'+'ter\x20size,\x20'+'no\x20contact'+'\x20hardening'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'penumbraSi'+'ze;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20filterRad'+'ius\x20=\x20penu'+'mbra\x20*\x20inv'+'ShadowMapS'+'ize;\x0a\x0a\x20\x20\x20\x20'+'//\x20filteri'+'ng\x0a\x20\x20\x20\x20ret'+'urn\x20PCSSFi'+'lter(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowSa'+'mples,\x20fil'+'terRadius,'+'\x20randomSee'+'d);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCSS(TEX'+'TURE_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec4\x20came'+'raParams,\x20'+'vec4\x20softS'+'hadowParam'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20PCSSDirec'+'tional(TEX'+'TURE_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP'+'arams);\x0a}\x0a'+'\x0a'),aE='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x0a\x20\x20\x20'+'\x20base_uv\x20-'+'=\x20vec2(0.5'+');\x0a\x20\x20\x20\x20bas'+'e_uv\x20*=\x20sh'+'adowMapSiz'+'eInv;\x0a\x0a\x20\x20\x20'+'\x20float\x20sum'+'\x20=\x200.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'w0\x20=\x20(3.0\x20'+'-\x202.0\x20*\x20s)'+';\x0a\x20\x20\x20\x20floa'+'t\x20uw1\x20=\x20(1'+'.0\x20+\x202.0\x20*'+'\x20s);\x0a\x0a\x20\x20\x20\x20'+'float\x20u0\x20='+'\x20(2.0\x20-\x20s)'+'\x20/\x20uw0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20u1\x20=\x20s'+'\x20/\x20uw1\x20+\x201'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20vw0\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20float\x20vw'+'1\x20=\x20(1.0\x20+'+'\x202.0\x20*\x20t);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20v0\x20=\x20(2.'+'0\x20-\x20t)\x20/\x20v'+'w0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20float\x20'+'v1\x20=\x20t\x20/\x20v'+'w1\x20+\x201.0;\x0a'+'\x0a\x20\x20\x20\x20u0\x20=\x20'+'u0\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'0\x20=\x20v0\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20u1\x20=\x20u'+'1\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20v1'+'\x20=\x20v1\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw0\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v0,\x20'+'z));\x0a\x20\x20\x20\x20s'+('um\x20+=\x20uw1\x20'+'*\x20vw0\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v0,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw0\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u0,\x20v1'+',\x20z));\x0a\x20\x20\x20'+'\x20sum\x20+=\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSha'+'dow(shadow'+'Map,\x20vec3('+'u1,\x20v1,\x20z)'+');\x0a\x0a\x20\x20\x20\x20su'+'m\x20*=\x201.0f\x20'+'/\x2016.0;\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF3x3(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F3x3(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado'+'wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF3'+'x3(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowPCF1'+'x1(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20textureS'+'hadow(shad'+'owMap,\x20sha'+'dowCoord);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20shadow'+'Coord);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a#ifndef\x20W'+'EBGPU\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh')+('adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict'+'\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wPointPCF1'+'x1(sampler'+'CubeShadow'+'\x20shadowMap'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(lightDi'+'r,\x20shadowZ'+'));\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec3\x20sh'+'adowCoord,')+('\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPoi'+'ntPCF3x3(s'+'hadowMap,\x20'+'shadowPara'+'ms,\x20lightD'+'ir);\x0a}\x0a\x0a#e'+'ndif\x0a'),oE='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF5x5(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad')+('owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a'),lE='\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+'\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+('01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a'),hE='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0au'+'niform\x20vec'+'4\x20texture_'+'poseMapSiz'+'e;\x0a\x0amat4\x20g'+'etBoneMatr'+'ix(const\x20i'+'n\x20float\x20i)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20j\x20=\x20i\x20*'+'\x203.0;\x0a\x20\x20\x20\x20'+'float\x20dx\x20='+'\x20texture_p'+'oseMapSize'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20dy\x20=\x20t'+'exture_pos'+'eMapSize.w'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20y\x20=\x20flo'+'or(j\x20*\x20dx)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20j\x20-\x20'+'(y\x20*\x20textu'+'re_poseMap'+'Size.x);\x0a\x20'+'\x20\x20\x20y\x20=\x20dy\x20'+'*\x20(y\x20+\x200.5'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20elem'+'ents\x20of\x204x'+'3\x20matrix\x0a\x20'+'\x20\x20\x20vec4\x20v1'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x200.5),'+'\x20y));\x0a\x20\x20\x20\x20'+'vec4\x20v2\x20=\x20'+'texture2D('+'texture_po'+'seMap,\x20vec'+'2(dx\x20*\x20(x\x20'+'+\x201.5),\x20y)'+');\x0a\x20\x20\x20\x20vec'+'4\x20v3\x20=\x20tex'+'ture2D(tex'+'ture_poseM'+'ap,\x20vec2(d'+'x\x20*\x20(x\x20+\x202'+'.5),\x20y));\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',cE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0aunifor'+'m\x20vec4\x20tex'+'ture_poseM'+'apSize;\x0a\x0av'+'oid\x20getBon'+'eMatrix(co'+'nst\x20in\x20flo'+'at\x20index,\x20'+'out\x20vec4\x20v'+'1,\x20out\x20vec'+'4\x20v2,\x20out\x20'+'vec4\x20v3)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20i\x20=\x20floa'+'t(index);\x0a'+'\x20\x20\x20\x20float\x20'+'j\x20=\x20i\x20*\x203.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20dx\x20=\x20te'+'xture_pose'+'MapSize.z;'+'\x0a\x20\x20\x20\x20float'+'\x20dy\x20=\x20text'+'ure_poseMa'+'pSize.w;\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20fl'+'oat\x20y\x20=\x20fl'+'oor(j\x20*\x20dx'+');\x0a\x20\x20\x20\x20flo'+'at\x20x\x20=\x20j\x20-'+'\x20(y\x20*\x20text'+'ure_poseMa'+'pSize.x);\x0a'+'\x20\x20\x20\x20y\x20=\x20dy'+'\x20*\x20(y\x20+\x200.'+'5);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20ele'+'ments\x20of\x204'+'x3\x20matrix\x0a'+'\x20\x20\x20\x20v1\x20=\x20t'+'exture2D(t'+'exture_pos'+'eMap,\x20vec2'+'(dx\x20*\x20(x\x20+'+'\x200.5),\x20y))'+';\x0a\x20\x20\x20\x20v2\x20='+'\x20texture2D'+'(texture_p'+'oseMap,\x20ve'+'c2(dx\x20*\x20(x'+'\x20+\x201.5),\x20y'+'));\x0a\x20\x20\x20\x20v3'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x202.5),'+'\x20y));\x0a}\x0a\x0am'+'at4\x20getSki'+'nMatrix(co'+'nst\x20in\x20vec'+'4\x20indices,'+'\x20const\x20in\x20'+'vec4\x20weigh'+'ts)\x20{\x0a\x20\x20\x20\x20'+'//\x20get\x204\x20b'+'one\x20matric'+'es\x0a\x20\x20\x20\x20vec'+'4\x20a1,\x20a2,\x20'+'a3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(indices.'+'x,\x20a1,\x20a2,'+'\x20a3);\x0a\x0a\x20\x20\x20'+'\x20vec4\x20b1,\x20'+'b2,\x20b3;\x0a\x20\x20'+'\x20\x20getBoneM'+'atrix(indi'+'ces.y,\x20b1,'+'\x20b2,\x20b3);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'c1,\x20c2,\x20c3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'indices.z,'+'\x20c1,\x20c2,\x20c'+'3);\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20d1,\x20d2'+',\x20d3;\x0a\x20\x20\x20\x20'+('getBoneMat'+'rix(indice'+'s.w,\x20d1,\x20d'+'2,\x20d3);\x0a\x0a\x20'+'\x20\x20\x20//\x20mult'+'iply\x20them\x20'+'by\x20weights'+'\x20and\x20add\x20u'+'p\x20to\x20get\x20f'+'inal\x204x3\x20m'+'atrix\x0a\x20\x20\x20\x20'+'vec4\x20v1\x20=\x20'+'a1\x20*\x20weigh'+'ts.x\x20+\x20b1\x20'+'*\x20weights.'+'y\x20+\x20c1\x20*\x20w'+'eights.z\x20+'+'\x20d1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20vec4\x20v2\x20='+'\x20a2\x20*\x20weig'+'hts.x\x20+\x20b2'+'\x20*\x20weights'+'.y\x20+\x20c2\x20*\x20'+'weights.z\x20'+'+\x20d2\x20*\x20wei'+'ghts.w;\x0a\x20\x20'+'\x20\x20vec4\x20v3\x20'+'=\x20a3\x20*\x20wei'+'ghts.x\x20+\x20b'+'3\x20*\x20weight'+'s.y\x20+\x20c3\x20*'+'\x20weights.z'+'\x20+\x20d3\x20*\x20we'+'ights.w;\x0a\x0a'+'\x20\x20\x20\x20//\x20add'+'\x20up\x20weight'+'s\x0a\x20\x20\x20\x20floa'+'t\x20one\x20=\x20do'+'t(weights,'+'\x20vec4(1.0)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20transpose'+'\x20to\x204x4\x20ma'+'trix\x0a\x20\x20\x20\x20r'+'eturn\x20mat4'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.x,\x20v2.x'+',\x20v3.x,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.y,\x20v2.y,'+'\x20v3.y,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.z,\x20v2.z,\x20'+'v3.z,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'w,\x20v2.w,\x20v'+'3.w,\x20one\x0a\x20'+'\x20\x20\x20);\x0a}\x0a'),dE='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22envMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20var'+'ying\x20vec3\x20'+'vViewDir;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20float\x20sk'+'yboxHighli'+'ghtMultipl'+'ier;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'_CUBEMAP\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20vWorld'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat3\x20'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20pr'+'ojectedSky'+'domeCenter'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20env-atlas'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_en'+'vAtlas;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'mipLevel;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKY_CUBEM'+'AP\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SKYMESH'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20get\x20vecto'+'r\x20from\x20wor'+'ld\x20space\x20p'+'os\x20to\x20trip'+'od\x20origin\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20envDir\x20=\x20'+'normalize('+'vWorldPos\x20'+'-\x20projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20envDir'+'\x20*\x20cubeMap'+'RotationMa'+'trix;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dir'+'\x20=\x20vViewDi'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dir.'+'x\x20*=\x20-1.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20__I'+'NJECT_SKYB'+('OX_DECODE_'+'FNC(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20vViewDir'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20toS'+'phericalUv'+'(normalize'+'(dir));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20line'+'ar\x20=\x20__INJ'+'ECT_SKYBOX'+'_DECODE_FN'+'C(texture2'+'D(texture_'+'envAtlas,\x20'+'mapRoughne'+'ssUv(uv,\x20m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'our\x20HDR\x20en'+'codes\x20valu'+'es\x20up\x20to\x206'+'4,\x20so\x20allo'+'w\x20extra\x20br'+'ightness\x20f'+'or\x20the\x20cli'+'pped\x20value'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(any(gr'+'eaterThanE'+'qual(linea'+'r,\x20vec3(64'+'.0))))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20linear\x20*='+'\x20skyboxHig'+'hlightMult'+'iplier;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x20\x20\x20\x20}\x0a'),uE='\x0aattribute'+'\x20vec3\x20aPos'+'ition;\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a#de'+'fine\x20VIEWM'+'ATRIX\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'t4\x20matrix_'+'projection'+'Skybox;\x0aun'+'iform\x20mat3'+'\x20cubeMapRo'+'tationMatr'+'ix;\x0a\x0avaryi'+'ng\x20vec3\x20vV'+'iewDir;\x0a\x0a#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_mo'+'del;\x0a\x20\x20\x20\x20v'+'arying\x20vec'+'3\x20vWorldPo'+'s;\x0a#endif\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x0a'+'\x20\x20\x20\x20mat4\x20v'+'iew\x20=\x20matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4\x20worldPo'+'s\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'WorldPos\x20='+'\x20worldPos.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20mat'+'rix_projec'+'tionSkybox'+'\x20*\x20view\x20*\x20'+'worldPos;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20view\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ViewDir\x20=\x20'+'aPosition\x20'+'*\x20cubeMapR'+'otationMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Force'+'\x20skybox\x20to'+'\x20far\x20Z,\x20re'+'gardless\x20o'+'f\x20the\x20clip'+'\x20planes\x20on'+'\x20the\x20camer'+'a\x0a\x20\x20\x20\x20//\x20S'+'ubtract\x20a\x20'+'tiny\x20fudge'+'\x20factor\x20to'+'\x20ensure\x20fl'+'oating\x20poi'+'nt\x20errors\x20'+'don\x27t\x0a\x20\x20\x20\x20'+'//\x20still\x20p'+'ush\x20pixels'+'\x20beyond\x20fa'+'r\x20Z.\x20See:\x0a'+'\x20\x20\x20\x20//\x20htt'+'ps://commu'+'nity.khron'+'os.org/t/s'+'kybox-prob'+'lem/61857\x0a'+'\x0a\x20\x20\x20\x20gl_Po'+'sition.z\x20='+'\x20gl_Positi'+('on.w\x20-\x201.0'+'e-7;\x0a}\x0a'),fE='\x0a\x0a#ifdef\x20M'+'APCOLOR\x0aun'+'iform\x20vec3'+'\x20material_'+'specular;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularity()\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20specularC'+'olor\x20=\x20vec'+'3(1,1,1);\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPCOLOR'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20material'+'_specular;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20$DEC'+'ODE(textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias)).$CH'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPVE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20specu'+'larColor;\x0a'+'}\x0a',pE='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0acon'+'st\x20float\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+'\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'Uv(vec3\x20di'+'r)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'(dir)\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20re'+'turn\x20vec2('+'uv.x,\x201.0\x20'+'-\x20uv.y);\x0a}'+'\x0a',mE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_speculari'+'tyFactor;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularityFac'+'tor()\x20{\x0a\x20\x20'+'\x20\x20float\x20sp'+'ecularityF'+'actor\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larityFact'+'or\x20*=\x20text'+'ure2DBias('+'$SAMPLER,\x20'+'$UV,\x20textu'+'reBias).$C'+'H;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPV'+'ERTEX\x0a\x20\x20\x20\x20'+'specularit'+'yFactor\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularityFac'+'tor\x20=\x20spec'+'ularityFac'+'tor;\x0a}\x0a',_E='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',gE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4(0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20vec3(0'+');\x0a\x20\x20\x20\x20ccR'+'eflection\x20'+'=\x20vec3(0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a',yE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20get'+'Position()'+';\x0a',xE='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vUv0;\x0a\x20\x20\x20\x20'+'nineSliced'+'Uv.y\x20=\x201.0'+'\x20-\x20nineSli'+'cedUv.y;\x0a\x0a',SE='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',vE='\x0afloat\x20exp'+'onent\x20=\x20VS'+'M_EXPONENT'+';\x0a\x0adepth\x20='+'\x202.0\x20*\x20dep'+'th\x20-\x201.0;\x0a'+'depth\x20=\x20\x20e'+'xp(exponen'+'t\x20*\x20depth)'+';\x0agl_FragC'+'olor\x20=\x20vec'+'4(depth,\x20d'+'epth*depth'+',\x201.0,\x201.0'+');\x0a',bE='\x0avec3\x20getT'+'angent()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a}'+'\x0a\x0avec3\x20get'+'Binormal()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'vNormalW,\x20'+'vTangentW)'+'\x20*\x20vertex_'+'tangent.w;'+'\x0a}\x0a',wE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dTBN\x20=\x20ma'+'t3(normali'+'ze(tangent'+'),\x20normali'+'ze(binorma'+'l),\x20normal'+'ize(normal'+'));\x0a}\x0a',TE='\x0auniform\x20f'+'loat\x20tbnBa'+'sis;\x0a\x0a//\x20h'+'ttp://www.'+'thetenthpl'+'anet.de/ar'+'chives/118'+'0\x0avoid\x20get'+'TBN(vec3\x20t'+'angent,\x20ve'+'c3\x20binorma'+'l,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20$UV;\x0a\x0a\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20ve'+'c3\x20dp1\x20=\x20d'+'Fdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20vec3\x20dp'+'2\x20=\x20dFdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20vec2'+'\x20duv2\x20=\x20dF'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20so'+'lve\x20the\x20li'+'near\x20syste'+'m\x0a\x20\x20\x20\x20vec3'+'\x20dp2perp\x20='+'\x20cross(\x20dp'+'2,\x20normal\x20'+');\x0a\x20\x20\x20\x20vec'+'3\x20dp1perp\x20'+'=\x20cross(\x20n'+'ormal,\x20dp1'+'\x20);\x0a\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20B\x20=\x20dp2'+'perp\x20*\x20duv'+'1.y\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.y;\x0a\x0a\x20\x20\x20\x20/'+'/\x20construc'+'t\x20a\x20scale-'+'invariant\x20'+'frame\x0a\x20\x20\x20\x20'+'float\x20deno'+'m\x20=\x20max(\x20d'+'ot(T,T),\x20d'+'ot(B,B)\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20invmax\x20=\x20'+'(denom\x20==\x20'+'0.0)\x20?\x200.0'+'\x20:\x20tbnBasi'+'s\x20/\x20sqrt(\x20'+'denom\x20);\x0a\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'}\x0a',AE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20cross(nor'+'mal,\x20vObje'+'ctSpaceUpW'+');\x0a\x20\x20\x20\x20vec'+'3\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(dot(B,B'+')==0.0)\x20//'+'\x20deal\x20with'+'\x20case\x20when'+'\x20vObjectSp'+'aceUpW\x20nor'+'mal\x20are\x20pa'+'rallel\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20maj'+'or=max(max'+'(normal.x,'+'\x20normal.y)'+',\x20normal.z'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'1,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.y\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'0,1));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.z\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(1,'+'0,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'dTBN\x20=\x20mat'+'3(normaliz'+'e(T),\x20norm'+'alize(B),\x20'+'normalize('+'normal));\x0a'+'}\x0a',EE='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'thickness;'+'\x0a#endif\x0a\x0av'+'oid\x20getThi'+'ckness()\x20{'+'\x0a\x20\x20\x20\x20dThic'+'kness\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20material'+'_thickness'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'dThickness'+'\x20*=\x20textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias).$CH;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.$VC);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',CE='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',ME='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',PE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',RE='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',IE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',DE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',LE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',FE='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',OE='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20vec4'+'(vertex_te'+'xCoord1.xy'+'\x20*\x202.0\x20-\x201'+'.0,\x200.5,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.y\x20*=\x20-1'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20sc'+'reenPos.y\x20'+'*=\x20project'+'ionFlipY;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'IXELSNAP\x0a\x20'+'\x20\x20\x20//\x20snap'+'\x20vertex\x20to'+'\x20a\x20pixel\x20b'+'oundary\x0a\x20\x20'+'\x20\x20screenPo'+'s.xy\x20=\x20(sc'+'reenPos.xy'+'\x20*\x200.5)\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20s'+'creenPos.x'+'y\x20*=\x20uScre'+'enSize.xy;'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20*='+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20screenPos'+'.xy\x20=\x20(scr'+'eenPos.xy\x20'+'*\x202.0)\x20-\x201'+'.0;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}'+'\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),kE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat3'+'\x20matrix_no'+'rmal;\x0a\x0a#if'+'def\x20MORPHI'+'NG\x0a\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'morph_tex_'+'params;\x0a\x20\x20'+'\x20\x20attribut'+'e\x20uint\x20mor'+'ph_vertex_'+'id;\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20getTe'+'xtureMorph'+'Coords()\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20turn\x20mo'+'rph_vertex'+'_id\x20into\x20i'+'nt\x20grid\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20iv'+'ec2\x20textur'+'eSize\x20=\x20iv'+'ec2(morph_'+'tex_params'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20int\x20morph'+'GridV\x20=\x20in'+'t(morph_ve'+'rtex_id)\x20/'+'\x20textureSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20mo'+'rphGridU\x20='+'\x20int(morph'+'_vertex_id'+')\x20-\x20(morph'+'GridV\x20*\x20te'+'xtureSize.'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20W'+'EBGPU\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20flipY\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20m'+'orphGridV\x20'+'=\x20textureS'+'ize.y\x20-\x20mo'+'rphGridV\x20-'+'\x201;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20ivec2('+'morphGridU'+',\x20morphGri'+'dV);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MORPHIN'+'G_POSITION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec3\x20aabbSi'+'ze;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20us'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20mor'+'phPosition'+'Tex;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20defi'+'ned(BATCH)'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22skinB'+'atchVS\x22\x0a\x0a\x20'+('\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#elif\x20'+'defined(SK'+'IN)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inVS\x22\x0a\x0a\x20\x20\x20'+'\x20mat4\x20getM'+'odelMatrix'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'matrix_mod'+'el\x20*\x20getSk'+'inMatrix(v'+'ertex_bone'+'Indices,\x20v'+'ertex_bone'+'Weights);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#el'+'if\x20defined'+'(INSTANCIN'+'G)\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22tr'+'ansformIns'+'tancingVS\x22'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel;\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getL'+'ocalPositi'+'on(vec3\x20ve'+'rtexPositi'+'on)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lPos\x20=\x20ver'+'texPositio'+'n;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphPos\x20=\x20'+'vec3(texel'+'Fetch(morp'+'hPositionT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz)\x20/\x20'+'65535.0\x20*\x20'+'aabbSize\x20+'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20texelFet'+'ch(morphPo'+'sitionTex,'+'\x20ivec2(mor'+'phUV),\x200).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos\x20+='+'\x20morphPos;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Pos;\x0a}\x0a\x0a'),BE='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',NE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_refractio'+'n;\x0a#endif\x0a'+'\x0avoid\x20getR'+'efraction('+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20refrac'+'tion\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPFLO'+'AT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20r'+'efraction\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ref'+'raction\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dTran'+'smission\x20='+'\x20refractio'+'n;\x0a}\x0a',zE='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',UE='\x0a#ifdef\x20NI'+'NESLICED\x0av'+'ec2\x20getUv0'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20v'+'ertex_posi'+'tion.xz;\x0a\x0a'+'\x20\x20\x20\x20//\x20off'+'set\x20inner\x20'+'vertices\x20i'+'nside\x0a\x20\x20\x20\x20'+'//\x20(origin'+'al\x20vertice'+'s\x20must\x20be\x20'+'in\x20[-1;1]\x20'+'range)\x0a\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'vec2\x20negat'+'iveUnitOff'+'set\x20=\x20clam'+'p(-vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'uv\x20+=\x20(-po'+'sitiveUnit'+'Offset\x20*\x20i'+'nnerOffset'+'.xy\x20+\x20nega'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.z'+'w)\x20*\x20verte'+'x_texCoord'+'0.xy;\x0a\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x0a\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20uv;\x0a}\x0a#e'+'lse\x0avec2\x20g'+'etUv0()\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vertex_te'+'xCoord0;\x0a}'+'\x0a#endif\x0a',VE='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',GE='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',HE='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tViewNorma'+'l()\x20{\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(matrix_v'+'iew)\x20*\x20vNo'+'rmalW;\x0a}\x0a',X={'alphaTestPS':hw,'ambientConstantPS':cw,'ambientEnvPS':dw,'ambientSHPS':uw,'aoPS':fw,'aoDetailMapPS':pw,'aoDiffuseOccPS':mw,'aoSpecOccPS':_w,'aoSpecOccConstPS':gw,'aoSpecOccConstSimplePS':yw,'aoSpecOccSimplePS':xw,'basePS':Sw,'baseVS':vw,'baseNineSlicedPS':bw,'baseNineSlicedVS':ww,'baseNineSlicedTiledPS':Tw,'bayerPS':Aw,'blurVSMPS':Ew,'clearCoatPS':Cw,'clearCoatGlossPS':Mw,'clearCoatNormalPS':Pw,'clusteredLightCookiesPS':Iw,'clusteredLightShadowsPS':Dw,'clusteredLightUtilsPS':Rw,'clusteredLightPS':Lw,'combinePS':Fw,'cookiePS':Ow,'cubeMapProjectBoxPS':kw,'cubeMapProjectNonePS':Bw,'cubeMapRotatePS':Nw,'debugOutputPS':zw,'debugProcessFrontendPS':Uw,'detailModesPS':Vw,'diffusePS':Gw,'diffuseDetailMapPS':Hw,'decodePS':S0,'emissivePS':Ww,'encodePS':v0,'endPS':$w,'endVS':qw,'envAtlasPS':Xw,'envConstPS':jw,'envMultiplyPS':Yw,'falloffInvSquaredPS':Kw,'falloffLinearPS':Zw,'floatUnpackingPS':Qw,'floatAsUintPS':Jw,'fogPS':eT,'fresnelSchlickPS':tT,'fullscreenQuadPS':sT,'fullscreenQuadVS':iT,'gammaPS':rT,'gles3PS':Jy,'gles3VS':e0,'glossPS':nT,'gsplatCenterVS':aT,'gsplatCornerVS':dT,'gsplatColorVS':oT,'gsplatCommonVS':lT,'gsplatCompressedDataVS':hT,'gsplatCompressedSHVS':cT,'gsplatDataVS':uT,'gsplatOutputVS':fT,'gsplatPS':pT,'gsplatSHVS':mT,'gsplatSourceVS':_T,'gsplatVS':gT,'iridescenceDiffractionPS':yT,'iridescencePS':xT,'iridescenceThicknessPS':ST,'iorPS':vT,'lightDiffuseLambertPS':bT,'lightDirPointPS':wT,'lightmapAddPS':TT,'lightmapDirAddPS':AT,'lightmapDirPS':ET,'lightmapSinglePS':CT,'lightSpecularAnisoGGXPS':MT,'lightSpecularBlinnPS':PT,'lightSheenPS':RT,'linearizeDepthPS':IT,'litShaderArgsPS':DT,'ltcPS':LT,'metalnessPS':FT,'metalnessModulatePS':kT,'msdfPS':OT,'msdfVS':BT,'normalVS':NT,'normalCoreVS':zT,'normalDetailMapPS':UT,'normalMapPS':VT,'normalXYPS':GT,'normalXYZPS':HT,'opacityPS':WT,'opacityDitherPS':$T,'outputPS':qT,'outputAlphaPS':XT,'outputAlphaOpaquePS':jT,'outputAlphaPremulPS':YT,'outputTex2DPS':KT,'sheenPS':ZT,'sheenGlossPS':QT,'parallaxPS':JT,'particlePS':eA,'particleVS':tA,'particleAnimFrameClampVS':sA,'particleAnimFrameLoopVS':iA,'particleAnimTexVS':rA,'particleInputFloatPS':nA,'particleInputRgba8PS':aA,'particleOutputFloatPS':oA,'particleOutputRgba8PS':lA,'particleUpdaterAABBPS':hA,'particleUpdaterEndPS':cA,'particleUpdaterInitPS':dA,'particleUpdaterNoRespawnPS':uA,'particleUpdaterOnStopPS':fA,'particleUpdaterRespawnPS':pA,'particleUpdaterSpherePS':mA,'particleUpdaterStartPS':_A,'particle_billboardVS':gA,'particle_blendAddPS':yA,'particle_blendMultiplyPS':xA,'particle_blendNormalPS':SA,'particle_cpuVS':vA,'particle_cpu_endVS':bA,'particle_customFaceVS':wA,'particle_endPS':TA,'particle_endVS':AA,'particle_halflambertPS':EA,'particle_initVS':CA,'particle_lambertPS':MA,'particle_lightingPS':PA,'particle_localShiftVS':RA,'particle_meshVS':IA,'particle_normalVS':DA,'particle_normalMapPS':LA,'particle_pointAlongVS':FA,'particle_softPS':OA,'particle_softVS':kA,'particle_stretchVS':BA,'particle_TBNVS':NA,'particle_wrapVS':zA,'pickPS':UA,'reflDirPS':VA,'reflDirAnisoPS':GA,'reflectionCCPS':HA,'reflectionCubePS':WA,'reflectionEnvHQPS':$A,'reflectionEnvPS':qA,'reflectionSpherePS':XA,'reflectionSheenPS':jA,'refractionCubePS':YA,'refractionDynamicPS':KA,'reprojectPS':ZA,'sampleCatmullRomPS':QA,'screenDepthPS':JA,'shadowCascadesPS':eE,'shadowEVSMPS':tE,'shadowEVSMnPS':sE,'shadowPCSSPS':iE,'shadowSampleCoordPS':rE,'shadowSoftPS':nE,'shadowStandardPS':aE,'shadowStandardGL2PS':oE,'shadowVSM_commonPS':lE,'skinBatchVS':hE,'skinVS':cE,'skyboxPS':dE,'skyboxVS':uE,'specularPS':fE,'sphericalPS':pE,'specularityFactorPS':mE,'spotPS':_E,'startPS':gE,'startVS':yE,'startNineSlicedPS':xE,'startNineSlicedTiledPS':SE,'storeEVSMPS':vE,'tangentBinormalVS':bE,'TBNPS':wE,'TBNderivativePS':TE,'TBNObjectSpacePS':AE,'thicknessPS':EE,'tonemappingPS':CE,'tonemappingAcesPS':ME,'tonemappingAces2PS':PE,'tonemappingFilmicPS':RE,'tonemappingHejlPS':IE,'tonemappingLinearPS':DE,'tonemappingNeutralPS':LE,'tonemappingNonePS':FE,'transformVS':OE,'transformCoreVS':kE,'transformInstancingVS':BE,'transmissionPS':NE,'twoSidedLightingPS':zE,'uv0VS':UE,'uv1VS':VE,'viewDirPS':GE,'viewNormalVS':HE,'webgpuPS':t0,'webgpuVS':s0},b0=new Ot();function ka(_0x34a97f){const _0x34b690=b0['get'](_0x34a97f);return v['assert'](_0x34b690),_0x34b690;}function WE(_0x30c86e,_0xb35d3a){v['assert'](_0xb35d3a),b0['get'](_0x30c86e,()=>_0xb35d3a);}class It{static['begin'](){return'void\x20main('+'void)\x0a{\x0a';}static['end'](){return'}\x0a';}static['definesHas'+'h'](_0x5a2d6f){const _0x3ea629=Array['from'](_0x5a2d6f)['sort']((_0x8f9a82,_0x3053b9)=>_0x8f9a82[-0x2294+0x221*-0x8+0x339c]>_0x3053b9[-0x2c2*0xb+0x1ba2+-0x4*-0xad]?0x1*-0x1733+0x3b*-0xb+-0x1*-0x19bd:-(0x99a+-0x2de*0x4+0x1df));return hn(JSON['stringify'](_0x3ea629));}}const $E=new Ot();class qE{constructor(_0x28fb8e,_0x1b1d03,_0x5deae7={}){c(this,'index'),c(this,'name'),c(this,'defines',new Map()),(v['assert'](/^[a-z]\w*$/i['test'](_0x28fb8e),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x28fb8e),this['name']=_0x28fb8e,this['index']=_0x1b1d03,Object['assign'](this,_0x5deae7),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x2218f9;this['isShadow']?_0x2218f9='SHADOW':this['isForward']?_0x2218f9='FORWARD':this['index']===rl?_0x2218f9='DEPTH':this['index']===Oa&&(_0x2218f9='PICK'),this['defines']['set'](_0x2218f9+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Ks{constructor(){c(this,'passesName'+'d',new Map()),c(this,'passesInde'+'xed',[]),c(this,'nextIndex',-0x1c31*0x1+0x2178+-0x547);const _0x4416f3=(_0x573be5,_0x1901a0,_0x3e506d)=>{const _0x409276=this['allocate'](_0x573be5,_0x3e506d);v['assert'](_0x409276['index']===_0x1901a0);};_0x4416f3('forward',gn,{'isForward':!(0xbcd+-0x6d*0xe+-0x5d7)}),_0x4416f3('prepass',il),_0x4416f3('depth',rl),_0x4416f3('pick',Oa),_0x4416f3('shadow',Rp);}static['get'](_0x1ef7a2){return v['assert'](_0x1ef7a2),$E['get'](_0x1ef7a2,()=>new Ks());}['allocate'](_0x2ba9b3,_0x276d91){let _0x4c8494=this['passesName'+'d']['get'](_0x2ba9b3);return _0x4c8494===void(-0x147c+0x416*-0x7+0x3116)&&(_0x4c8494=new qE(_0x2ba9b3,this['nextIndex'],_0x276d91),this['passesName'+'d']['set'](_0x4c8494['name'],_0x4c8494),this['passesInde'+'xed'][_0x4c8494['index']]=_0x4c8494,this['nextIndex']++),_0x4c8494;}['getByIndex'](_0x5b0c18){const _0x2f4c30=this['passesInde'+'xed'][_0x5b0c18];return v['assert'](_0x2f4c30),_0x2f4c30;}['getByName'](_0x22c7d5){return this['passesName'+'d']['get'](_0x22c7d5);}}function Is(_0x5f0d2e,_0x1d4cdf,_0x4ee731,_0xd0fdc8,_0x19d99e,_0x44bec9=!(0x68*0x3a+-0x10b6*-0x1+-0xa9*0x3d),_0x347129={}){v['assert'](!(-0x181e+-0xa*-0xf9+0xe64*0x1)),typeof _0x44bec9=='boolean'?_0x347129['useTransfo'+'rmFeedback']=_0x44bec9:typeof _0x44bec9=='object'&&(_0x347129={..._0x347129,..._0x44bec9});const _0x50659c=ka(_0x5f0d2e);let _0x4c6f5f=_0x50659c['getCachedS'+'hader'](_0xd0fdc8);return _0x4c6f5f||(_0x4c6f5f=new i0(_0x5f0d2e,Mt['createDefi'+'nition'](_0x5f0d2e,{..._0x347129,'name':_0xd0fdc8,'vertexCode':_0x1d4cdf,'fragmentCode':_0x4ee731,'attributes':_0x19d99e})),_0x50659c['setCachedS'+'hader'](_0xd0fdc8,_0x4c6f5f)),_0x4c6f5f;}class XE extends It{constructor(_0x419e2f,_0x1ee1a9){super(),this['key']=_0x419e2f,this['shaderDefi'+'nition']=_0x1ee1a9;}['generateKe'+'y'](_0x4acec7){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x171803,_0x4bb945){return this['shaderDefi'+'nition'];}}function jE(_0x1b8902,_0x4a939e){v['assert'](_0x1b8902);const _0x43ebc6=_0x1b8902['definition'],_0x351a5d=(_0x43ebc6['name']??'shader')+'-id-'+_0x1b8902['id'],_0x1765f9=new XE(_0x351a5d,_0x43ebc6),_0x1d03db='shader',_0x57b194=ka(_0x1b8902['device']);v['assert'](!_0x57b194['isRegister'+'ed'](_0x1d03db)),_0x57b194['register'](_0x1d03db,_0x1765f9);const _0x5b9d91=_0x57b194['getProgram'](_0x1d03db,{},_0x4a939e);return _0x1b8902['definition']['shaderLang'+'uage']===Ph&&(_0x5b9d91['meshUnifor'+'mBufferFor'+'mat']=_0x43ebc6['meshUnifor'+'mBufferFor'+'mat'],_0x5b9d91['meshBindGr'+'oupFormat']=_0x43ebc6['meshBindGr'+'oupFormat']),_0x57b194['unregister'](_0x1d03db),_0x5b9d91;}const Dp=(_0x23e49a,_0x2c12a7)=>{const _0x2bf4c2=new Map(_0x23e49a['defines']);return _0x2c12a7['cameraShad'+'erParams']['defines']['forEach']((_0x420f17,_0x4a51b8)=>_0x2bf4c2['set'](_0x4a51b8,_0x420f17)),Ks['get'](_0x2c12a7['device'])['getByIndex'](_0x2c12a7['pass'])['defines']['forEach']((_0x4db98e,_0x3107d5)=>_0x2bf4c2['set'](_0x3107d5,_0x4db98e)),_0x2bf4c2;},YE={'type':ar,'base':0x0,'count':0x4,'indexed':!(-0x26bf+0x1cf3+-0x9cd*-0x1)},Va=new Q(),Ga=new Q(),pd=new Yy();class Nu{constructor(_0x163dce){c(this,'uniformBuf'+'fer'),c(this,'bindGroup');const _0xf6090d=_0x163dce['device'];if(this['shader']=_0x163dce,v['assert'](_0x163dce),_0xf6090d['supportsUn'+'iformBuffe'+'rs']){const _0x2f5f56=new Yc();this['shader']=jE(_0x163dce,_0x2f5f56);const _0x3479a8=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x3479a8&&(this['uniformBuf'+'fer']=new gp(_0xf6090d,_0x3479a8,!(-0x14a*-0x15+-0xdb3+-0x76*0x1d)));const _0x4e7a33=this['shader']['meshBindGr'+'oupFormat'];v['assert'](_0x4e7a33),this['bindGroup']=new mp(_0xf6090d,_0x4e7a33),mn['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x59784c,_0x27d6df;(_0x59784c=this['uniformBuf'+'fer'])==null||_0x59784c['destroy'](),this['uniformBuf'+'fer']=null,(_0x27d6df=this['bindGroup'])==null||_0x27d6df['destroy'](),this['bindGroup']=null;}['render'](_0x43ecd7,_0x1536f0){const _0x3ceea8=this['shader']['device'];G['pushGpuMar'+'ker'](_0x3ceea8,'QuadRender'),_0x43ecd7&&(Va['set'](_0x3ceea8['vx'],_0x3ceea8['vy'],_0x3ceea8['vw'],_0x3ceea8['vh']),Ga['set'](_0x3ceea8['sx'],_0x3ceea8['sy'],_0x3ceea8['sw'],_0x3ceea8['sh']),_0x1536f0=_0x1536f0??_0x43ecd7,_0x3ceea8['setViewpor'+'t'](_0x43ecd7['x'],_0x43ecd7['y'],_0x43ecd7['z'],_0x43ecd7['w']),_0x3ceea8['setScissor'](_0x1536f0['x'],_0x1536f0['y'],_0x1536f0['z'],_0x1536f0['w'])),_0x3ceea8['setVertexB'+'uffer'](_0x3ceea8['quadVertex'+'Buffer'],-0xcc3+-0xc*-0xe+0x3*0x409);const _0xbbf9ef=this['shader'];if(_0x3ceea8['setShader'](_0xbbf9ef),_0x3ceea8['supportsUn'+'iformBuffe'+'rs']){_0x3ceea8['setBindGro'+'up'](Dh,_0x3ceea8['emptyBindG'+'roup']);const _0x124f01=this['bindGroup'];_0x124f01['update'](),_0x3ceea8['setBindGro'+'up'](Xy,_0x124f01);const _0x4b3523=this['uniformBuf'+'fer'];_0x4b3523?(_0x4b3523['update'](pd),_0x3ceea8['setBindGro'+'up'](Eu,pd['bindGroup'],pd['offsets'])):_0x3ceea8['setBindGro'+'up'](Eu,_0x3ceea8['emptyBindG'+'roup']);}_0x3ceea8['draw'](YE),_0x43ecd7&&(_0x3ceea8['setViewpor'+'t'](Va['x'],Va['y'],Va['z'],Va['w']),_0x3ceea8['setScissor'](Ga['x'],Ga['y'],Ga['z'],Ga['w'])),G['popGpuMark'+'er'](_0x3ceea8);}}class KE extends ds{constructor(_0x318cd9,_0x29a230,_0x400a23,_0xf5da71){super(_0x318cd9),this['quad']=_0x29a230,this['rect']=_0x400a23,this['scissorRec'+'t']=_0xf5da71;}['execute'](){const {device:_0x1de0b0}=this;G['pushGpuMar'+'ker'](_0x1de0b0,this['name']+':'+this['quad']['shader']['name']),_0x1de0b0['setCullMod'+'e'](mt),_0x1de0b0['setDepthSt'+'ate'](as['NODEPTH']),_0x1de0b0['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),G['popGpuMark'+'er'](_0x1de0b0);}}const ZE=new Q();function dn(_0x10e020,_0x22ebe6,_0x46cdf7,_0x2182b2,_0x17a858){v['assert'](_0x22ebe6!==void(0xb*0x317+-0xa0b*0x3+-0x1a*0x26));const _0xe5073b=arguments[0x1*0x1a2+0x1*0x110c+-0x12a9];v['call'](()=>{_0xe5073b!==void(-0x1258+-0x62d+0x1*0x1885)&&v['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0xca136f=new Nu(_0x46cdf7);_0x2182b2||(_0x2182b2=ZE,_0x2182b2['x']=-0x10a7+-0x2684+-0x1d*-0x1e7,_0x2182b2['y']=-0x1bd4+0x219e+-0x5ca,_0x2182b2['z']=_0x22ebe6?_0x22ebe6['width']:_0x10e020['width'],_0x2182b2['w']=_0x22ebe6?_0x22ebe6['height']:_0x10e020['height']);const _0x4ed954=new KE(_0x10e020,_0xca136f,_0x2182b2,_0x17a858);_0x4ed954['init'](_0x22ebe6),_0x4ed954['colorOps']['clear']=!(-0x196*0x2+0x1*0xc93+-0x1*0x966),_0x4ed954['depthStenc'+'ilOps']['clearDepth']=!(0xc75*0x1+0x27b*-0x7+0x4e9),_0x10e020['isWebGPU']&&_0x22ebe6===null&&_0x10e020['samples']>-0x70f*0x2+-0x25de+0x33fd&&(_0x4ed954['colorOps']['store']=!(0x10b*0x17+-0xa8a+-0xd73)),_0x4ed954['render'](),_0xca136f['destroy']();}class zm{constructor(_0x5175b,_0x494c68,_0xa628f6){c(this,'_aabb',new _e()),c(this,'origMeshIn'+'stances'),c(this,'meshInstan'+'ce',null),c(this,'dynamic'),c(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x5175b,this['dynamic']=_0x494c68,this['batchGroup'+'Id']=_0xa628f6);}['destroy'](_0xa6a24c,_0x35b01b){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0xa6a24c,_0x35b01b),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x3c3098,_0x12e4cb){for(let _0x2acdf6=-0x13af*0x1+-0x1cf*0x5+0xe5d*0x2;_0x2acdf6<_0x12e4cb['length'];_0x2acdf6++){const _0x216e07=_0x3c3098['layers']['getLayerBy'+'Id'](_0x12e4cb[_0x2acdf6]);_0x216e07&&_0x216e07['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x42942e,_0x8d3061){for(let _0x21ffd9=-0x1d29+0x25ea+-0x8c1;_0x21ffd9<_0x8d3061['length'];_0x21ffd9++){const _0x277e0c=_0x42942e['layers']['getLayerBy'+'Id'](_0x8d3061[_0x21ffd9]);_0x277e0c&&_0x277e0c['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][0x202b+0x6be*-0x2+0x1*-0x12af]['aabb']);for(let _0x40eb33=-0x23df+0xb56+0x188a;_0x40eb33<this['origMeshIn'+'stances']['length'];_0x40eb33++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x40eb33]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=-0x1cf*0x3+-0x2ba+0x827;}get['model'](){v['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class et{constructor(_0x3d1f73,_0x20f512,_0x1af1bd,_0x20970d,_0x8b84d2=[Fi]){c(this,'_ui',!(0xccc+-0x3*-0x33d+-0x1682)),c(this,'_sprite',!(-0x2*0x8ed+0x125a+0x1*-0x7f)),c(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),c(this,'id'),c(this,'name'),c(this,'dynamic'),c(this,'maxAabbSiz'+'e'),c(this,'layers'),(this['id']=_0x3d1f73,this['name']=_0x20f512,this['dynamic']=_0x1af1bd,this['maxAabbSiz'+'e']=_0x20970d,this['layers']=_0x8b84d2);}}c(et,'MODEL','model'),c(et,'ELEMENT','element'),c(et,'SPRITE','sprite'),c(et,'RENDER','render');const Um=new q();class nl{constructor(_0x2f2dd8){c(this,'bones'),c(this,'boneTextur'+'eSize'),(this['_dirty']=!(0x2*0x11c5+-0x2*-0x11dd+-0x4744),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(-0x1*0x8db+0xc10+-0x334),this['_updateBef'+'oreCull']=!(-0x1*-0xe24+0x83e+-0x3bb*0x6),_0x2f2dd8&&this['initSkin'](_0x2f2dd8));}set['rootBone'](_0x29e4f8){this['_rootBone']=_0x29e4f8;}get['rootBone'](){return this['_rootBone'];}['init'](_0x531d57,_0x4844d5){const _0x293033=_0x4844d5*(-0x21b9+-0x11cf+0x5b*0x91);let _0x47f476=Math['ceil'](Math['sqrt'](_0x293033));_0x47f476=N['roundUp'](_0x47f476,0x5ed+-0x1254*-0x2+-0x2a92);const _0x3e912d=Math['ceil'](_0x293033/_0x47f476);this['boneTextur'+'e']=new he(_0x531d57,{'width':_0x47f476,'height':_0x3e912d,'format':Ke,'mipmaps':!(-0x1fd9*0x1+0x1833*0x1+0x7a7),'minFilter':de,'magFilter':de,'name':'skin'}),this['boneTextur'+'eSize']=[_0x47f476,_0x3e912d,(-0x2008+0x1*0x1735+-0x5*-0x1c4)/_0x47f476,(-0x284+-0xa70+0x1*0xcf5)/_0x3e912d],this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':Fy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x40a413,_0x9a6ee5){this['rootBone']=_0x40a413;const _0x1bbef2=this['skin'],_0x40b0a8=[];for(let _0xc8877d=0x2274+-0x6*-0x37f+-0x376e;_0xc8877d<_0x1bbef2['boneNames']['length'];_0xc8877d++){const _0x29f8d6=_0x1bbef2['boneNames'][_0xc8877d];let _0x18384e=_0x40a413['findByName'](_0x29f8d6);_0x18384e||(v['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x29f8d6+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x9a6ee5['name']+(',\x20rootBone'+':\x20')+_0x40a413['name']),_0x18384e=_0x9a6ee5),_0x40b0a8['push'](_0x18384e);}this['bones']=_0x40b0a8;}['initSkin'](_0x15b7a6){this['skin']=_0x15b7a6,this['bones']=[];const _0x4af400=_0x15b7a6['inverseBin'+'dPose']['length'];this['init'](_0x15b7a6['device'],_0x4af400),this['matrices']=[];for(let _0x119a07=0x1926+-0x549*-0x1+-0x1e6f;_0x119a07<_0x4af400;_0x119a07++)this['matrices'][_0x119a07]=new q();}['uploadBone'+'s'](_0x45589c){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x51b634,_0x171da5){if(this['_skinUpdat'+'eIndex']!==_0x171da5){this['_skinUpdat'+'eIndex']=_0x171da5,Um['copy'](_0x51b634['getWorldTr'+'ansform']())['invert']();for(let _0x2a8ca3=this['bones']['length']-(0xfc5+0x1b7*-0x11+0xd63);_0x2a8ca3>=-0x1f9c+0x882+-0x1*-0x171a;_0x2a8ca3--)this['matrices'][_0x2a8ca3]['mulAffine2'](Um,this['bones'][_0x2a8ca3]['getWorldTr'+'ansform']()),this['matrices'][_0x2a8ca3]['mulAffine2'](this['matrices'][_0x2a8ca3],this['skin']['inverseBin'+'dPose'][_0x2a8ca3]);}}['updateMatr'+'ices'](_0x464fed,_0x73a1bd){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x464fed,_0x73a1bd);}['updateMatr'+'ixPalette'](_0x16ccd5,_0x2a598b){this['_updateMat'+'rices'](_0x16ccd5,_0x2a598b);const _0xddd62f=this['matrixPale'+'tte'],_0xdf5e90=this['bones']['length'];for(let _0x3eee48=-0x1cd7+0x1*-0x4f1+-0xbc*-0x2e;_0x3eee48<_0xdf5e90;_0x3eee48++){const _0x1552b1=this['matrices'][_0x3eee48]['data'],_0x1c00ab=_0x3eee48*(0x5*-0x22d+0x102b+-0x53e);_0xddd62f[_0x1c00ab]=_0x1552b1[-0x1f36*-0x1+0x7*-0x277+-0xdf5],_0xddd62f[_0x1c00ab+(0x1*0x539+-0x1315+0x1fb*0x7)]=_0x1552b1[0x4*-0x7e1+0x25*0x9e+0x8b2],_0xddd62f[_0x1c00ab+(0x1*0x1af9+0x1*-0x20e9+0x5f2)]=_0x1552b1[0x39d*0x5+-0x111d+-0xec],_0xddd62f[_0x1c00ab+(-0x24bd+0x243+0x227d)]=_0x1552b1[0x1*0xf8e+-0x4b8+-0xaca],_0xddd62f[_0x1c00ab+(0x6e4+-0x26ed+0x200d)]=_0x1552b1[0x10cd+0x1890+0xa57*-0x4],_0xddd62f[_0x1c00ab+(0x13*0x5+-0x680+0x626)]=_0x1552b1[0x13*-0x1bd+-0x1962+0x3a6e],_0xddd62f[_0x1c00ab+(0x9fd+0x1dd7*0x1+-0x27ce)]=_0x1552b1[-0x6b*0x41+0xdf*-0x11+0x1*0x2a03],_0xddd62f[_0x1c00ab+(-0x7*-0x1b1+-0x7*-0x43f+-0x2989)]=_0x1552b1[0x1*-0x62b+0xa1*-0x1c+0x17d4*0x1],_0xddd62f[_0x1c00ab+(-0x1*0x48f+0x22e1+-0x1e4a)]=_0x1552b1[0x1b1a*0x1+-0x1b5*0xa+-0xa06],_0xddd62f[_0x1c00ab+(-0x10bf+0x1a55+-0x98d)]=_0x1552b1[0x1b7*0xb+0x1b79+-0x2e50],_0xddd62f[_0x1c00ab+(0xef9+0x3b*0x86+-0x1*0x2dd1)]=_0x1552b1[-0x2563+0x3e1+-0x10c6*-0x2],_0xddd62f[_0x1c00ab+(0x179e*-0x1+0xb37+0xc72)]=_0x1552b1[0x1*0x1b0b+-0xb8d+0x4c*-0x34];}this['uploadBone'+'s'](this['skin']['device']);}}class Vm extends nl{constructor(_0x1c9959,_0x50b97b,_0x8136af){super();const _0x46e87b=_0x50b97b['length'];this['init'](_0x1c9959,_0x46e87b),this['device']=_0x1c9959,this['rootNode']=_0x8136af,this['bones']=_0x50b97b;}['updateMatr'+'ices'](_0x25f866,_0x11b5a0){}['updateMatr'+'ixPalette'](_0x14f590,_0x1b4e36){const _0x321910=this['matrixPale'+'tte'],_0x2699b5=this['bones']['length'];for(let _0x5b5a00=-0x51b*0x3+-0x3*-0x7f7+-0x2dc*0x3;_0x5b5a00<_0x2699b5;_0x5b5a00++){const _0x10a93e=this['bones'][_0x5b5a00]['getWorldTr'+'ansform']()['data'],_0x43d861=_0x5b5a00*(0x1*-0x41c+0x1351+0x1*-0xf29);_0x321910[_0x43d861]=_0x10a93e[0x2b*-0x94+0x1928+0x1*-0x4c],_0x321910[_0x43d861+(0xf7f*0x2+0x1946*-0x1+-0x5b7*0x1)]=_0x10a93e[-0x1ad*-0x11+0x16c3*0x1+-0x333c],_0x321910[_0x43d861+(-0x158d+-0x1d2e+-0x1f*-0x1a3)]=_0x10a93e[0x8aa+-0x1dd3+0x1531],_0x321910[_0x43d861+(-0xdc9+-0x1e23*-0x1+0x1*-0x1057)]=_0x10a93e[-0xf1c+-0xeff+0x1e27],_0x321910[_0x43d861+(0x2262+0xb3f*-0x1+-0x171f*0x1)]=_0x10a93e[-0x1765*0x1+-0xf6d+-0x3*-0xcf1],_0x321910[_0x43d861+(0x10*-0xca+-0x34+-0x8f*-0x17)]=_0x10a93e[0x15a*-0x1+-0x14a8+0x1607],_0x321910[_0x43d861+(0x1bd7+0x2020+0xb*-0x573)]=_0x10a93e[0x1145+-0x1fe9+0x1*0xead],_0x321910[_0x43d861+(0x1*-0x1e99+0x7*-0x33b+0x353d)]=_0x10a93e[0x1122+-0x27*0x7a+0x181*0x1],_0x321910[_0x43d861+(-0x1*-0x1511+-0x1fb6+0x1*0xaad)]=_0x10a93e[-0x3*-0x2af+-0x1577+0x6b6*0x2],_0x321910[_0x43d861+(0x1c7b+-0x16fc+-0x576)]=_0x10a93e[-0x1d82+-0x52a+0x1*0x22b2],_0x321910[_0x43d861+(-0x22cb*-0x1+0x1bec+-0x3ead)]=_0x10a93e[0x8f4+0x1*-0x1f73+0x1689],_0x321910[_0x43d861+(-0x1*0x1d8c+-0x16c*-0x15+-0x1*0x45)]=_0x10a93e[-0x671+-0x337*-0x6+-0xccb];}this['uploadBone'+'s'](this['device']);}}let QE=0x16d5+0xb14+0x21e9*-0x1;class Hs{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(0x1a23+-0x5*0x31a+0x22*-0x50),this['verticesUs'+'age']=jt,this['indicesUsa'+'ge']=jt,this['maxVertice'+'s']=0x1cb7+-0x1*0x9b3+-0x1304*0x1,this['maxIndices']=0x1db9+-0xabf+-0x12fa,this['vertexCoun'+'t']=0x2079*0x1+0x1d*-0xb8+-0xba1*0x1,this['indexCount']=0xf31+-0x143+-0xdee,this['vertexStre'+'amsUpdated']=!(-0xf*-0x16d+0x145f+-0x29c1),this['indexStrea'+'mUpdated']=!(0x24*-0x4+-0xfe*-0x23+-0x2229),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x53bdad,_0x4e0d72){this['vertexCoun'+'t']?v['assert'](this['vertexCoun'+'t']===_0x53bdad,'Vertex\x20str'+'eam\x20'+_0x4e0d72+'\x20has\x20'+_0x53bdad+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x53bdad;}}c(Hs,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',-0x1a68+0x1*-0xe7f+0x28ea),c(Hs,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',-0x3*0x5e7+0x21f*-0x1+0x13d7),c(Hs,'DEFAULT_CO'+'MPONENTS_U'+'V',0x1cbf+0xd21*0x1+-0x29de),c(Hs,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',-0x10*0x220+-0x2*0x7c3+0x318a);class JE{constructor(_0xfae4b,_0xcf2ed5,_0x594cd1,_0x190703,_0x4e24a9){this['data']=_0xfae4b,this['componentC'+'ount']=_0xcf2ed5,this['dataType']=_0x594cd1,this['dataTypeNo'+'rmalize']=_0x190703,this['asInt']=_0x4e24a9;}}class Ie extends Gc{constructor(_0x27fcb1,_0x5124d6){super(),c(this,'indexBuffe'+'r',[null]),c(this,'vertexBuff'+'er',null),c(this,'primitive',[{'type':0x0,'base':0x0,'count':0x0}]),c(this,'skin',null),c(this,'boneAabb',null),c(this,'_aabbVer',0xdf*0x3+-0xd1*0x2d+0x2220),c(this,'_aabb',new _e()),c(this,'_geometryD'+'ata',null),c(this,'_morph',null),c(this,'_storageIn'+'dex',!(-0xf37+-0x11*0xc2+-0x95e*-0x3)),c(this,'_storageVe'+'rtex',!(0xecc+-0xe1e*-0x2+-0x2b07)),(this['id']=QE++,v['assert'](_0x27fcb1,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x27fcb1,this['_storageIn'+'dex']=(_0x5124d6==null?void(0x203*0x7+-0xf9d+0x188):_0x5124d6['storageInd'+'ex'])||!(0x34*0x16+-0xbbf*-0x1+-0x1036),this['_storageVe'+'rtex']=(_0x5124d6==null?void(-0x1090*-0x2+0x1280+-0x33a0):_0x5124d6['storageVer'+'tex'])||!(-0x248d+0x112c+-0x2*-0x9b1));}static['fromGeomet'+'ry'](_0x263a5f,_0x583d54,_0x573589={}){const _0x35330a=new Ie(_0x263a5f,_0x573589),{positions:_0xfc31e7,normals:_0x5779f5,tangents:_0x542588,colors:_0x212b64,uvs:_0x1b4811,uvs1:_0x4516e6,blendIndices:_0x20b8f2,blendWeights:_0x2e1992,indices:_0x5ed307}=_0x583d54;return _0xfc31e7&&_0x35330a['setPositio'+'ns'](_0xfc31e7),_0x5779f5&&_0x35330a['setNormals'](_0x5779f5),_0x542588&&_0x35330a['setVertexS'+'tream'](Zs,_0x542588,-0xb10+0xd55*-0x1+0x1869*0x1),_0x212b64&&_0x35330a['setColors3'+'2'](_0x212b64),_0x1b4811&&_0x35330a['setUvs'](-0x43*0x92+-0x1*-0x20ed+0x21*0x29,_0x1b4811),_0x4516e6&&_0x35330a['setUvs'](-0x56*-0x5b+-0x3ee*0x4+-0x15*0xb5,_0x4516e6),_0x20b8f2&&_0x35330a['setVertexS'+'tream'](qt,_0x20b8f2,-0x22b0+-0x15ea+0x1c4f*0x2,_0x20b8f2['length']/(-0x3*-0xa2d+0xc79+0xe54*-0x3),Kr),_0x2e1992&&_0x35330a['setVertexS'+'tream'](Ys,_0x2e1992,0x5*-0x4bf+0x1045+-0x16*-0x57),_0x5ed307&&_0x35330a['setIndices'](_0x5ed307),_0x35330a['update'](),_0x35330a;}set['morph'](_0x32c4a8){_0x32c4a8!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x32c4a8,_0x32c4a8&&_0x32c4a8['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x712bfa){this['_aabb']=_0x712bfa,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x40fcea=this['morph'];_0x40fcea&&(this['morph']=null,_0x40fcea['refCount']<-0xc6d+-0x1201+-0x459*-0x7&&_0x40fcea['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x519cce=0x2376+0x89b+-0x2c11;_0x519cce<this['indexBuffe'+'r']['length'];_0x519cce++)this['_destroyIn'+'dexBuffer'](_0x519cce);this['indexBuffe'+'r']['length']=0x1683+-0x840+-0x4c1*0x3,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x1aa9c5){this['indexBuffe'+'r'][_0x1aa9c5]&&(this['indexBuffe'+'r'][_0x1aa9c5]['destroy'](),this['indexBuffe'+'r'][_0x1aa9c5]=null);}['_initBoneA'+'abbs'](_0x1b71ea){this['boneAabb']=[],this['boneUsed']=[];let _0x4d8085,_0x11abd2,_0x4035bf,_0x4dbbc3,_0x5b8461;const _0x3c7a29=[],_0x39aca3=[],_0x4eca41=this['boneUsed'],_0x988417=this['skin']['boneNames']['length'];let _0x442060,_0x1eff5e,_0xe01865;for(let _0xba1bff=-0x1db0+-0xdbe+0x2b6e;_0xba1bff<_0x988417;_0xba1bff++)_0x3c7a29[_0xba1bff]=new T(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x39aca3[_0xba1bff]=new T(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x2a241f=new go(this['vertexBuff'+'er']),_0x34f37c=_0x2a241f['element'][He],_0x30989c=_0x2a241f['element'][Ys],_0x5592a0=_0x2a241f['element'][qt],_0xed4c4e=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x21cd4e=0x3*-0x69d+-0x11e*-0x3+-0x57f*-0x3;_0x21cd4e<_0xed4c4e;_0x21cd4e++){for(let _0x23020b=-0x4ab*0x1+0x1d7b*0x1+-0xc68*0x2;_0x23020b<-0x149*0xe+0x5*0x5f+0x5*0x33b;_0x23020b++)if(_0x30989c['array'][_0x30989c['index']+_0x23020b]>-0x26dc+-0x14b*-0x7+0x1dcf){const _0x314152=_0x5592a0['array'][_0x5592a0['index']+_0x23020b];if(_0x4eca41[_0x314152]=!(0x2f6*0x1+-0x939*-0x3+-0x1ea1),_0x4d8085=_0x34f37c['array'][_0x34f37c['index']],_0x11abd2=_0x34f37c['array'][_0x34f37c['index']+(-0x200d+-0x244+-0x2*-0x1129)],_0x4035bf=_0x34f37c['array'][_0x34f37c['index']+(-0x4*-0x107+-0x157b+-0x1*-0x1161)],_0x4dbbc3=_0x39aca3[_0x314152],_0x5b8461=_0x3c7a29[_0x314152],_0x5b8461['x']>_0x4d8085&&(_0x5b8461['x']=_0x4d8085),_0x5b8461['y']>_0x11abd2&&(_0x5b8461['y']=_0x11abd2),_0x5b8461['z']>_0x4035bf&&(_0x5b8461['z']=_0x4035bf),_0x4dbbc3['x']<_0x4d8085&&(_0x4dbbc3['x']=_0x4d8085),_0x4dbbc3['y']<_0x11abd2&&(_0x4dbbc3['y']=_0x11abd2),_0x4dbbc3['z']<_0x4035bf&&(_0x4dbbc3['z']=_0x4035bf),_0x1b71ea){let _0x58d8f7=_0x442060=_0x4d8085,_0x31a28d=_0x1eff5e=_0x11abd2,_0x501a45=_0xe01865=_0x4035bf;for(let _0xe5f545=0x1*-0x832+0x239a+-0x1b68;_0xe5f545<_0x1b71ea['length'];_0xe5f545++){const _0x12418d=_0x1b71ea[_0xe5f545],_0x4e6979=_0x12418d['deltaPosit'+'ions'][_0x21cd4e*(-0x110*-0x17+0x3*-0x5b6+-0x74b)],_0xecb505=_0x12418d['deltaPosit'+'ions'][_0x21cd4e*(-0x4*0x61c+0x210d+-0x89a)+(-0x177a+0x1d80+-0x605)],_0xc3ef8a=_0x12418d['deltaPosit'+'ions'][_0x21cd4e*(0x1cb8+0x109+-0x1dbe)+(0x5*0x677+-0x1*-0x18ac+-0x38fd*0x1)];_0x4e6979<-0x2d2+-0x18a8+0x1*0x1b7a?_0x58d8f7+=_0x4e6979:_0x442060+=_0x4e6979,_0xecb505<0x3*-0xb65+-0x1*0x268e+0x48bd?_0x31a28d+=_0xecb505:_0x1eff5e+=_0xecb505,_0xc3ef8a<-0xc73+-0x1163*-0x1+-0x2*0x278?_0x501a45+=_0xc3ef8a:_0xe01865+=_0xc3ef8a;}_0x5b8461['x']>_0x58d8f7&&(_0x5b8461['x']=_0x58d8f7),_0x5b8461['y']>_0x31a28d&&(_0x5b8461['y']=_0x31a28d),_0x5b8461['z']>_0x501a45&&(_0x5b8461['z']=_0x501a45),_0x4dbbc3['x']<_0x442060&&(_0x4dbbc3['x']=_0x442060),_0x4dbbc3['y']<_0x1eff5e&&(_0x4dbbc3['y']=_0x1eff5e),_0x4dbbc3['z']<_0xe01865&&(_0x4dbbc3['z']=_0xe01865);}}_0x2a241f['next']();}const _0x192d74=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x5aa014=>_0x5aa014['name']===He);if(_0x192d74&&_0x192d74['normalize']){const _0xe8b1ea=((()=>{switch(_0x192d74['dataType']){case Rc:return _0x2d0e03=>Math['max'](_0x2d0e03/(-0x18d+0x13*-0x1be+0x16*0x199),-(-0x103f*-0x1+-0x1*0x2a2+0x1a*-0x86));case Kr:return _0x422454=>_0x422454/(-0x661+-0x270+0x9d0);case Ic:return _0x4e62d5=>Math['max'](_0x4e62d5/(0x3d*-0x25+-0xf9c6+0x18296),-(-0x849*0x2+-0x1995+0x238*0x13));case el:return _0x1e7051=>_0x1e7051/(-0x1be55*-0x1+-0x1ecc5+-0x22d*-0x8b);default:return _0xad8699=>_0xad8699;}})());for(let _0x244075=0x5*-0x61f+-0x1*-0x2148+-0x2ad;_0x244075<_0x988417;_0x244075++)if(_0x4eca41[_0x244075]){const _0xd4e4b6=_0x3c7a29[_0x244075],_0x166357=_0x39aca3[_0x244075];_0xd4e4b6['set'](_0xe8b1ea(_0xd4e4b6['x']),_0xe8b1ea(_0xd4e4b6['y']),_0xe8b1ea(_0xd4e4b6['z'])),_0x166357['set'](_0xe8b1ea(_0x166357['x']),_0xe8b1ea(_0x166357['y']),_0xe8b1ea(_0x166357['z']));}}for(let _0x1f3cc1=-0x9e6+-0x2461+0x2e47;_0x1f3cc1<_0x988417;_0x1f3cc1++){const _0x57173a=new _e();_0x57173a['setMinMax'](_0x3c7a29[_0x1f3cc1],_0x39aca3[_0x1f3cc1]),this['boneAabb']['push'](_0x57173a);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new Hs(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>-0x1798+0xb4+0x16e4&&this['indexBuffe'+'r'][-0x525*-0x5+-0x7b9+-0x1200]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][-0x829+-0x975+-0x5*-0x386]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][0x220e*0x1+-0x219e*0x1+-0x70]['numIndices']));}['clear'](_0x52b282,_0x62330f,_0x412864=-0x12e1+0xf*-0x1ed+0x2fc4,_0x1838ac=0x284+0x244d+-0x26d1){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(0x1f9e+-0x1*0x1d61+-0x23d),this['_geometryD'+'ata']['maxVertice'+'s']=_0x412864,this['_geometryD'+'ata']['maxIndices']=_0x1838ac,this['_geometryD'+'ata']['verticesUs'+'age']=_0x52b282?jt:Th,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x62330f?jt:Th;}['setVertexS'+'tream'](_0x529f9a,_0x32658c,_0x38b205,_0x589776,_0x2431cb=Ee,_0xbb827=!(0x1*-0x421+0x4*-0x3a+0x81*0xa),_0x51e349=!(-0x1d2+0x1*-0x246a+0x263d)){this['_initGeome'+'tryData']();const _0x2ad11a=_0x589776||_0x32658c['length']/_0x38b205;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x2ad11a,_0x529f9a),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x74e+-0x1f78+-0x2*-0x1363),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x529f9a]=new JE(_0x32658c,_0x38b205,_0x2431cb,_0xbb827,_0x51e349);}['getVertexS'+'tream'](_0x30b701,_0x1d1aac){let _0x482f22=-0xd0f+-0x6d0+0x13df,_0x4fd8d5=!(0xbb6*-0x1+0x517+-0x2*-0x350);if(this['_geometryD'+'ata']){const _0x39e9ea=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x30b701];_0x39e9ea&&(_0x4fd8d5=!(-0x39*-0x1+-0x1*-0x2416+-0x244f),_0x482f22=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x1d1aac)?_0x1d1aac['set'](_0x39e9ea['data']):(_0x1d1aac['length']=0x1a01+0x1343+-0xb51*0x4,_0x1d1aac['push'](_0x39e9ea['data'])));}return _0x4fd8d5||this['vertexBuff'+'er']&&(_0x482f22=new go(this['vertexBuff'+'er'])['readData'](_0x30b701,_0x1d1aac)),_0x482f22;}['setPositio'+'ns'](_0x3c6a06,_0x4e36aa=Hs['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x43ffc9){this['setVertexS'+'tream'](He,_0x3c6a06,_0x4e36aa,_0x43ffc9,Ee,!(-0x3ad+-0xa69*-0x3+-0x1b8d));}['setNormals'](_0x2a05a5,_0x9ec1f0=Hs['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x1ee866){this['setVertexS'+'tream'](Yt,_0x2a05a5,_0x9ec1f0,_0x1ee866,Ee,!(0x1*-0x2007+-0xb9*-0xd+0x131*0x13));}['setUvs'](_0x5df332,_0x5b2741,_0x45719c=Hs['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x54a411){this['setVertexS'+'tream'](om+_0x5df332,_0x5b2741,_0x45719c,_0x54a411,Ee,!(0x17*-0x160+0xe2e+0x1*0x1173));}['setColors'](_0x5780fd,_0x151ed9=Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x7055da){this['setVertexS'+'tream'](At,_0x5780fd,_0x151ed9,_0x7055da,Ee,!(0x1107+-0x33*-0x2+0x14*-0xdf));}['setColors3'+'2'](_0xa754c,_0x44d453){this['setVertexS'+'tream'](At,_0xa754c,Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x44d453,Kr,!(-0x660+0x18d*-0x3+-0x3ad*-0x3));}['setIndices'](_0x3f7f2f,_0x31a4dd){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x2443+0x5*0x533+0x1a*-0x265),this['_geometryD'+'ata']['indices']=_0x3f7f2f,this['_geometryD'+'ata']['indexCount']=_0x31a4dd||_0x3f7f2f['length'];}['getPositio'+'ns'](_0x278670){return this['getVertexS'+'tream'](He,_0x278670);}['getNormals'](_0x5c53f3){return this['getVertexS'+'tream'](Yt,_0x5c53f3);}['getUvs'](_0x27d68e,_0x3d5b69){return this['getVertexS'+'tream'](om+_0x27d68e,_0x3d5b69);}['getColors'](_0x1753f5){return this['getVertexS'+'tream'](At,_0x1753f5);}['getIndices'](_0x17869c){let _0x42066f=0x1*-0x179b+0x14e4+0x2b7;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x277740=this['_geometryD'+'ata']['indices'];if(_0x42066f=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x17869c))_0x17869c['set'](_0x277740);else{_0x17869c['length']=0x35*-0x70+-0x6d*0x16+0x208e;for(let _0xe8ce12=0x1a8e+-0x1555+-0x1*0x539,_0xfccc3b=_0x277740['length'];_0xe8ce12<_0xfccc3b;_0xe8ce12++)_0x17869c['push'](_0x277740[_0xe8ce12]);}}else this['indexBuffe'+'r']['length']>-0x499+0x9b3*0x1+-0x51a&&this['indexBuffe'+'r'][-0x30b+-0x143f+0x174a]&&(_0x42066f=this['indexBuffe'+'r'][-0x101*-0x1e+0x17*0x19b+-0x3*0x1659]['readData'](_0x17869c));return _0x42066f;}['update'](_0x309115=Ms,_0x2f1d15=!(-0x1f70+-0x2126+0x4096)){if(this['_geometryD'+'ata']){if(_0x2f1d15){const _0x40a982=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][He];_0x40a982&&_0x40a982['componentC'+'ount']===0xc1+0x12*0x6f+-0x88c&&(this['_aabb']['compute'](_0x40a982['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x2ce656=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x2ce656=!(-0x25*0xd8+-0x2*0xb29+0x358a),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x2ce656&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x54d69f=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x54d69f=!(0x14ef+0xb*-0x1+-0x14e4),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x54d69f&&this['indexBuffe'+'r']['length']>0x288+0x3*-0x9f+-0xab&&this['indexBuffe'+'r'][0x167e+0x4*0x971+-0x3c42]&&(this['indexBuffe'+'r'][0x1d*0x106+0x14b*-0x11+-0x7b3]['destroy'](),this['indexBuffe'+'r'][-0xeee+-0xd*-0x179+-0x437]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][-0xb8*0x2b+-0x1*-0x2600+-0x2*0x38c]['type']=_0x309115,this['indexBuffe'+'r']['length']>-0x1*0x1c61+-0x75c+0x23bd&&this['indexBuffe'+'r'][0x1043*0x1+-0x2241+0x11fe]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][0x21e*-0x9+0x47a*-0x1+0x18*0xfb]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][-0x1bc4+0x2321+-0x75d]['indexed']=!(-0x1ba2+0x8e0+0x62*0x31)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][-0x131a+0xb91+0x789]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][0x202*0x1+0x1*-0x494+0x292]['indexed']=!(-0x1*-0x198f+-0x1*-0x1747+-0x30d5)),this['_geometryD'+'ata']['vertexCoun'+'t']=0x9e3*-0x3+0x1065+0x6*0x236,this['_geometryD'+'ata']['indexCount']=-0x1*-0x18ca+-0x8f5*0x1+0x7*-0x243,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x2581+-0x7a2*0x2+-0x2*0xb1e),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(-0x927+-0x3*0x371+0x137b),this['_geometryD'+'ata']['recreate']=!(0x1*0x11cc+0x2207+0xc9*-0x42),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x5ebd20){const _0x4fc9a7=[];for(const _0x3f67d4 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x3f7367=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x3f67d4];_0x4fc9a7['push']({'semantic':_0x3f67d4,'components':_0x3f7367['componentC'+'ount'],'type':_0x3f7367['dataType'],'normalize':_0x3f7367['dataTypeNo'+'rmalize'],'asInt':_0x3f7367['asInt']});}return new Et(this['device'],_0x4fc9a7,_0x5ebd20);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x258f62=this['_geometryD'+'ata']['maxVertice'+'s'],_0x57ead7=this['_buildVert'+'exFormat'](_0x258f62);this['vertexBuff'+'er']=new os(this['device'],_0x57ead7,_0x258f62,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x31fcfb=new go(this['vertexBuff'+'er']),_0x3e7779=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x17ca5b in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x3da113=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x17ca5b];_0x31fcfb['writeData'](_0x17ca5b,_0x3da113['data'],_0x3e7779),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x17ca5b];}_0x31fcfb['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=-0x30b*0xc+-0xed*0x6+-0xf*-0x2ce||!this['indexBuffe'+'r'][-0x1883+-0x1be3+0x3466]){const _0x4adfe2=this['_geometryD'+'ata']['maxVertice'+'s'],_0x562408=_0x4adfe2>0x347*0x47+0x1e728+-0x19c5*0x12||_0x4adfe2===-0x3*-0x2f3+-0x5f*-0x42+0xf*-0x239?nr:Pi,_0x1c2119=this['_storageIn'+'dex']?{'storage':!(0x663+0x11c9+-0xe*0x1ba)}:void(-0x19*-0xce+0x1270+-0x2a*0xeb);this['indexBuffe'+'r'][-0x1*-0x1bd9+-0x358+-0x1*0x1881]=new lr(this['device'],_0x562408,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(-0xdf*-0x11+0x1713+-0x25e2*0x1),_0x1c2119);}const _0x31f7b7=this['_geometryD'+'ata']['indices'];_0x31f7b7&&(this['indexBuffe'+'r'][-0x241*0x4+0x10fa+-0x7f6]['writeData'](_0x31f7b7,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x1c11af){_0x1c11af===Dr?this['generateWi'+'reframe']():_0x1c11af===Tl&&(this['primitive'][Tl]={'type':Mc,'base':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:0x1185+-0xcf*0x17+0x114*0x1,'indexed':!(0xeee+0x157a+-0x2467)});}['updateRend'+'erStates'](){this['primitive'][Tl]&&this['prepareRen'+'derState'](Tl),this['primitive'][Dr]&&this['prepareRen'+'derState'](Dr);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer'](Dr);const _0x2526f5=this['vertexBuff'+'er']['numVertice'+'s'],_0x2eaaa7=[];let _0x165787;if(this['indexBuffe'+'r']['length']>-0x1*0x16a6+0x1c88+0x6*-0xfb&&this['indexBuffe'+'r'][0x26a3+-0x23ce+-0x2d5]){const _0x49b222=[[-0x89*-0x3+0xdbd*0x2+-0x1d15,0x1*-0x197b+-0x2299+0x1*0x3c15],[0x7b5*0x1+0x1ebb*0x1+-0x266f,-0x1c77+0x54b+0x172e],[0x2*-0xaba+-0x134b*0x1+0x28c1,0x2*-0xaf9+0x2*0x1a2+0x957*0x2]],_0x183b71=this['primitive'][yo]['base'],_0x4123e0=this['primitive'][yo]['count'],_0x1f2238=this['indexBuffe'+'r'][yo],_0x31e82e=new Lh[_0x1f2238['format']](_0x1f2238['storage']),_0x402126=new Set();for(let _0x3dfa7e=_0x183b71;_0x3dfa7e<_0x183b71+_0x4123e0;_0x3dfa7e+=0x141a+-0xe9*0x5+0x75*-0x22)for(let _0x5b1833=-0x1*0x1281+-0xd9*0x1d+0x2b16;_0x5b1833<-0x1210*-0x1+-0xd*0x2e7+0x13ae;_0x5b1833++){const _0x16fb2a=_0x31e82e[_0x3dfa7e+_0x49b222[_0x5b1833][0x1*0xbe3+-0x1499*-0x1+0x103e*-0x2]],_0x1eaf4f=_0x31e82e[_0x3dfa7e+_0x49b222[_0x5b1833][-0x205*-0x11+-0xd42+-0x1512]],_0x1e292f=_0x16fb2a>_0x1eaf4f?_0x1eaf4f*_0x2526f5+_0x16fb2a:_0x16fb2a*_0x2526f5+_0x1eaf4f;_0x402126['has'](_0x1e292f)||(_0x402126['add'](_0x1e292f),_0x2eaaa7['push'](_0x16fb2a,_0x1eaf4f));}_0x165787=_0x1f2238['format'];}else{for(let _0x327c95=-0x7c1+0x28*0x1f+-0x95*-0x5;_0x327c95<_0x2526f5;_0x327c95+=-0x66*0x12+0x1ae3+-0x4*0x4ed)_0x2eaaa7['push'](_0x327c95,_0x327c95+(-0x199c+0x1*-0x1cd1+0x2*0x1b37),_0x327c95+(-0x4*-0x265+-0x8c*0x7+-0x5bf*0x1),_0x327c95+(-0xec4+-0x1989+0x284f),_0x327c95+(-0x1662+-0x1aee+0x3152),_0x327c95);_0x165787=_0x2eaaa7['length']>0x1*-0x19306+-0x3fe9*0x4+0x392a9?nr:Pi;}const _0x14494e=new lr(this['vertexBuff'+'er']['device'],_0x165787,_0x2eaaa7['length']);new Lh[_0x14494e['format']](_0x14494e['storage'])['set'](_0x2eaaa7),_0x14494e['unlock'](),this['primitive'][Dr]={'type':Pc,'base':0x0,'count':_0x2eaaa7['length'],'indexed':!(-0x2*0x9fe+-0x10b0+0x2*0x1256)},this['indexBuffe'+'r'][Dr]=_0x14494e;}}const Gm=new q(),md=new T(),Hm=new se(),_d=new se(),Wm=new T(),$m=new T(),eC=new q(),tC=new se(),kt=new T(),Ha=new q(),Bt=new se(),An=new se(),qm=new q(),gd=new T(),El=new T();function Xm(_0x44225f,_0x1965cf){return _0x44225f instanceof Function?_0x44225f:_0x3f7c4a=>{let _0x52f287=_0x3f7c4a[_0x44225f];return _0x52f287 instanceof Function&&(_0x52f287=_0x52f287()),_0x52f287===_0x1965cf;};}function w0(_0x3fecb0,_0x375b12){if(_0x375b12(_0x3fecb0))return _0x3fecb0;const _0x40d73e=_0x3fecb0['_children'],_0x2e5bfb=_0x40d73e['length'];for(let _0x56ec05=0x106*-0x1a+-0x1*-0x1780+0x31c;_0x56ec05<_0x2e5bfb;++_0x56ec05){const _0x2500f6=w0(_0x40d73e[_0x56ec05],_0x375b12);if(_0x2500f6)return _0x2500f6;}return null;}class De extends ce{constructor(_0x1a3931='Untitled'){super(),c(this,'name'),c(this,'tags',new po(this)),c(this,'localPosit'+'ion',new T()),c(this,'localRotat'+'ion',new se()),c(this,'localScale',new T(0x1e13+-0x814+-0x2*0xaff,-0xa96+-0x208+0xc9f,-0xde4+0x25c*-0x5+0x19b1)),c(this,'localEuler'+'Angles',new T()),c(this,'position',new T()),c(this,'rotation',new se()),c(this,'eulerAngle'+'s',new T()),c(this,'_scale',null),c(this,'localTrans'+'form',new q()),c(this,'_dirtyLoca'+'l',!(-0x5*-0x1e9+-0x16f1+-0x1b*-0x7f)),c(this,'_aabbVer',-0xa8*0x4+0xa*0x39a+-0x4*0x859),c(this,'_frozen',!(-0x157f+-0x17b7+0x2d37)),c(this,'worldTrans'+'form',new q()),c(this,'_dirtyWorl'+'d',!(-0x2599+-0x1bf2+0x4*0x1063)),c(this,'_worldScal'+'eSign',-0xcce+-0x253d+0x320b),c(this,'_normalMat'+'rix',new js()),c(this,'_dirtyNorm'+'al',!(-0x1f35+-0x2fd+0x2232)),c(this,'_right',null),c(this,'_up',null),c(this,'_forward',null),c(this,'_parent',null),c(this,'_children',[]),c(this,'_graphDept'+'h',0x1141+0x859*0x4+-0x32a5),c(this,'_enabled',!(0x12b*-0xb+0x1002+0x329*-0x1)),c(this,'_enabledIn'+'Hierarchy',!(-0xe35+0x1650+-0x2*0x40d)),c(this,'scaleCompe'+'nsation',!(0x575+-0x124d*0x1+0xcd9)),this['name']=_0x1a3931;}get['right'](){return this['_right']||(this['_right']=new T()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new T()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new T()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(0x1*-0x133f+0xd*0x2b1+-0xfbd));}get['normalMatr'+'ix'](){const _0x2e89fc=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x2e89fc['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(0xd1*0x19+-0x1*0x4f6+-0xf72*0x1)),_0x2e89fc;}set['enabled'](_0x445876){var _0x2289c1;this['_enabled']!==_0x445876&&(this['_enabled']=_0x445876,(_0x445876&&((_0x2289c1=this['_parent'])!=null&&_0x2289c1['enabled'])||!_0x445876)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x445876));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x2744d6=this['_parent'];if(!_0x2744d6)return'';let _0x18c369=this['name'];for(;_0x2744d6&&_0x2744d6['_parent'];)_0x18c369=_0x2744d6['name']+'/'+_0x18c369,_0x2744d6=_0x2744d6['_parent'];return _0x18c369;}get['root'](){let _0x18aaa8=this;for(;_0x18aaa8['_parent'];)_0x18aaa8=_0x18aaa8['_parent'];return _0x18aaa8;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x16539a,_0xce743c){_0x16539a['_onHierarc'+'hyStateCha'+'nged'](_0xce743c);const _0xe59afc=_0x16539a['_children'];for(let _0x2a02e6=0x2193+0x4*-0x2b7+0x16b7*-0x1,_0x45efd1=_0xe59afc['length'];_0x2a02e6<_0x45efd1;_0x2a02e6++)_0xe59afc[_0x2a02e6]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0xe59afc[_0x2a02e6],_0xce743c);}['_onHierarc'+'hyStateCha'+'nged'](_0x246b1e){this['_enabledIn'+'Hierarchy']=_0x246b1e,_0x246b1e&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x279974){_0x279974['name']=this['name'];const _0x54a786=this['tags']['_list'];_0x279974['tags']['clear']();for(let _0x84a681=0xaf0+-0x7d4+-0x31c;_0x84a681<_0x54a786['length'];_0x84a681++)_0x279974['tags']['add'](_0x54a786[_0x84a681]);_0x279974['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x279974['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x279974['localScale']['copy'](this['localScale']),_0x279974['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x279974['position']['copy'](this['position']),_0x279974['rotation']['copy'](this['rotation']),_0x279974['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x279974['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x279974['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x279974['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x279974['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x279974['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x279974['_aabbVer']=this['_aabbVer']+(0x1*-0xf87+-0x88c+0x1814),_0x279974['_enabled']=this['_enabled'],_0x279974['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x279974['_enabledIn'+'Hierarchy']=!(-0x1c05+0x1fed+-0x3*0x14d);}['clone'](){const _0x31c09e=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x31c09e),_0x31c09e;}['copy'](_0x4d885d){return _0x4d885d['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x54277f=this['_children'];for(;_0x54277f['length'];){const _0x1239e2=_0x54277f['pop']();_0x1239e2['_parent']=null,_0x1239e2['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x1b3eac,_0x2a474c){const _0x221984=[],_0x46c52c=Xm(_0x1b3eac,_0x2a474c);return this['forEach'](_0x2371fc=>{_0x46c52c(_0x2371fc)&&_0x221984['push'](_0x2371fc);}),_0x221984;}['findOne'](_0x481a19,_0x8fe7a4){const _0x387b89=Xm(_0x481a19,_0x8fe7a4);return w0(this,_0x387b89);}['findByTag'](){const _0x5245fa=arguments,_0x22dccb=[],_0x19e387=(_0x41c0f8,_0x4053da)=>{_0x4053da&&_0x41c0f8['tags']['has'](..._0x5245fa)&&_0x22dccb['push'](_0x41c0f8);for(let _0x140b33=-0x25c9*0x1+-0x2247+0x2*0x2408;_0x140b33<_0x41c0f8['_children']['length'];_0x140b33++)_0x19e387(_0x41c0f8['_children'][_0x140b33],!(-0x1*-0x267b+-0xa93*0x3+-0xa*0xad));};return _0x19e387(this,!(-0x2a7+0x5*-0x511+0x1bfd*0x1)),_0x22dccb;}['findByName'](_0x56cc1c){return this['findOne']('name',_0x56cc1c);}['findByPath'](_0x3a7202){const _0x2d63bf=Array['isArray'](_0x3a7202)?_0x3a7202:_0x3a7202['split']('/');let _0x1813ba=this;for(let _0x23cd89=0x1219+-0x7da+-0x3d*0x2b,_0x2e0e83=_0x2d63bf['length'];_0x23cd89<_0x2e0e83;++_0x23cd89)if(_0x1813ba=_0x1813ba['children']['find'](_0x4eb845=>_0x4eb845['name']===_0x2d63bf[_0x23cd89]),!_0x1813ba)return null;return _0x1813ba;}['forEach'](_0x5f067c,_0x5acb3c){_0x5f067c['call'](_0x5acb3c,this);const _0xc66372=this['_children'],_0x5584ba=_0xc66372['length'];for(let _0x778feb=-0x19*0xf7+-0x5*0x39e+0x1*0x2a35;_0x778feb<_0x5584ba;++_0x778feb)_0xc66372[_0x778feb]['forEach'](_0x5f067c,_0x5acb3c);}['isDescenda'+'ntOf'](_0x4a0f05){let _0x4406f7=this['_parent'];for(;_0x4406f7;){if(_0x4406f7===_0x4a0f05)return!(0x1210+-0x7*0x566+-0x1f9*-0xa);_0x4406f7=_0x4406f7['_parent'];}return!(0x1fd2+0x7b*0x21+-0x2fac);}['isAncestor'+'Of'](_0x12be80){return _0x12be80['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0x12f5+-0x2de*-0x1+-0x338*-0x5)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new T()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===-0x785+0x213f*0x1+-0x4a*0x59&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x4d2cd7;(_0x4d2cd7=this['_parent'])==null||_0x4d2cd7['removeChil'+'d'](this);}['reparent'](_0xaacbd4,_0x44972b){this['remove'](),_0xaacbd4&&(_0x44972b>=0x1b41*0x1+-0x298+-0x18a9?_0xaacbd4['insertChil'+'d'](this,_0x44972b):_0xaacbd4['addChild'](this));}['setLocalEu'+'lerAngles'](_0x3f1b10,_0x3dd12e,_0x339d35){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x3f1b10,_0x3dd12e,_0x339d35),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x46c288,_0x6d87cf,_0x59d922){_0x46c288 instanceof T?this['localPosit'+'ion']['copy'](_0x46c288):this['localPosit'+'ion']['set'](_0x46c288,_0x6d87cf,_0x59d922),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x346ef3,_0x54723f,_0x108573,_0x1fe6db){_0x346ef3 instanceof se?this['localRotat'+'ion']['copy'](_0x346ef3):this['localRotat'+'ion']['set'](_0x346ef3,_0x54723f,_0x108573,_0x1fe6db),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x274bcb,_0x146f1f,_0x1b10ed){_0x274bcb instanceof T?this['localScale']['copy'](_0x274bcb):this['localScale']['set'](_0x274bcb,_0x146f1f,_0x1b10ed),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(0xc1a+-0x101b+0x401),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x3b4702=this['_parent'];for(;_0x3b4702;)_0x3b4702['_frozen']=!(-0x13d*-0xb+-0x233d+-0x5*-0x453),_0x3b4702=_0x3b4702['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(0x71c*-0x4+-0x56*-0x59+-0x175),this['_dirtyWorl'+'d']=!(-0xa7*-0x30+-0x2341+0x1*0x3f1);for(let _0x528085=0x5*-0x5eb+-0x1527+0x32be;_0x528085<this['_children']['length'];_0x528085++)this['_children'][_0x528085]['_dirtyWorl'+'d']||this['_children'][_0x528085]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(-0x1f51+0x2118+0x5b*-0x5),this['_worldScal'+'eSign']=-0x2151+0x252d+-0x3dc,this['_aabbVer']++;}['setPositio'+'n'](_0x174a28,_0x385fd5,_0x740f88){_0x174a28 instanceof T?kt['copy'](_0x174a28):kt['set'](_0x174a28,_0x385fd5,_0x740f88),this['_parent']===null?this['localPosit'+'ion']['copy'](kt):(Ha['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),Ha['transformP'+'oint'](kt,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x29a903,_0x2daafd,_0x6947f7,_0x590f21){if(_0x29a903 instanceof se?Bt['copy'](_0x29a903):Bt['set'](_0x29a903,_0x2daafd,_0x6947f7,_0x590f21),this['_parent']===null)this['localRotat'+'ion']['copy'](Bt);else{const _0xb19e8c=this['_parent']['getRotatio'+'n']();An['copy'](_0xb19e8c)['invert'](),this['localRotat'+'ion']['copy'](An)['mul'](Bt);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x450488,_0x1f72c1){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x450488),this['localRotat'+'ion']['copy'](_0x1f72c1);else{const _0x2c1362=this['_parent']['getWorldTr'+'ansform']();Ha['copy'](_0x2c1362)['invert'](),Ha['transformP'+'oint'](_0x450488,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](Ha)['mul'](_0x1f72c1);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x100b58,_0x15f65b,_0x2e1101){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x100b58,_0x15f65b,_0x2e1101),this['_parent']!==null){const _0x11c1b9=this['_parent']['getRotatio'+'n']();An['copy'](_0x11c1b9)['invert'](),this['localRotat'+'ion']['mul2'](An,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x14a2da){this['_prepareIn'+'sertChild'](_0x14a2da),this['_children']['push'](_0x14a2da),this['_onInsertC'+'hild'](_0x14a2da);}['addChildAn'+'dSaveTrans'+'form'](_0x5b2657){const _0x4f88c5=_0x5b2657['getPositio'+'n'](),_0x54e613=_0x5b2657['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x5b2657),_0x5b2657['setPositio'+'n'](eC['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x4f88c5)),_0x5b2657['setRotatio'+'n'](tC['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x54e613)),this['_children']['push'](_0x5b2657),this['_onInsertC'+'hild'](_0x5b2657);}['insertChil'+'d'](_0x3e3690,_0x33e940){this['_prepareIn'+'sertChild'](_0x3e3690),this['_children']['splice'](_0x33e940,-0x83*-0xb+0x607*-0x1+0x66,_0x3e3690),this['_onInsertC'+'hild'](_0x3e3690);}['_prepareIn'+'sertChild'](_0x3088c4){_0x3088c4['remove'](),v['assert'](_0x3088c4!==this,'GraphNode\x20'+(_0x3088c4==null?void(-0x2629+0x1*-0xfc5+-0x162*-0x27):_0x3088c4['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),v['assert'](!this['isDescenda'+'ntOf'](_0x3088c4),'GraphNode\x20'+(_0x3088c4==null?void(-0x2c+0x2166+-0x213a):_0x3088c4['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x171b4c,_0x3e574f,_0x137635){this['fire'](_0x171b4c,_0x137635);for(let _0x22892c=0x1044+-0x21d5+-0x1191*-0x1;_0x22892c<this['_children']['length'];_0x22892c++)this['_children'][_0x22892c]['_fireOnHie'+'rarchy'](_0x3e574f,_0x3e574f,_0x137635);}['_onInsertC'+'hild'](_0x45834c){_0x45834c['_parent']=this;const _0x15f30b=_0x45834c['_enabled']&&this['enabled'];_0x45834c['_enabledIn'+'Hierarchy']!==_0x15f30b&&(_0x45834c['_enabledIn'+'Hierarchy']=_0x15f30b,_0x45834c['_notifyHie'+'rarchyStat'+'eChanged'](_0x45834c,_0x15f30b)),_0x45834c['_updateGra'+'phDepth'](),_0x45834c['_dirtifyWo'+'rld'](),this['_frozen']&&_0x45834c['_unfreezeP'+'arentToRoo'+'t'](),_0x45834c['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x45834c);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(0x21a+0x1e18+0x7b*-0x43):-0x180*0x16+-0x79e+0x289e;for(let _0x1d38f2=0x1087+0x1fb3+-0x303a,_0x277ca2=this['_children']['length'];_0x1d38f2<_0x277ca2;_0x1d38f2++)this['_children'][_0x1d38f2]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x49da8b){const _0x1ab4e6=this['_children']['indexOf'](_0x49da8b);_0x1ab4e6!==-(0x1973*-0x1+0x230e+-0x99a)&&(this['_children']['splice'](_0x1ab4e6,-0x13*0x182+0x1*0x897+-0x6b0*-0x3),_0x49da8b['_parent']=null,_0x49da8b['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x49da8b));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0x248e+0x2609+-0x17a)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x5d14e3;const _0x42a47c=this['_parent'];let _0x265e16=this['localScale'],_0x54aa2a=_0x42a47c;if(_0x54aa2a){for(;_0x54aa2a&&_0x54aa2a['scaleCompe'+'nsation'];)_0x54aa2a=_0x54aa2a['_parent'];_0x54aa2a&&(_0x54aa2a=_0x54aa2a['_parent'],_0x54aa2a&&(_0x5d14e3=_0x54aa2a['worldTrans'+'form']['getScale'](),Wm['mul2'](_0x5d14e3,this['localScale']),_0x265e16=Wm));}_d['setFromMat'+'4'](_0x42a47c['worldTrans'+'form']),Hm['mul2'](_d,this['localRotat'+'ion']);let _0x3664f7=_0x42a47c['worldTrans'+'form'];_0x42a47c['scaleCompe'+'nsation']&&($m['mul2'](_0x5d14e3,_0x42a47c['getLocalSc'+'ale']()),Gm['setTRS'](_0x42a47c['worldTrans'+'form']['getTransla'+'tion'](md),_d,$m),_0x3664f7=Gm),_0x3664f7['transformP'+'oint'](this['localPosit'+'ion'],md),this['worldTrans'+'form']['setTRS'](md,Hm,_0x265e16);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(-0x1ddc+-0xe3*-0x16+-0xf1*-0xb);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(0x1eb+0x26fd+-0x28e8),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x473e70=this['_children'];for(let _0x2145bc=-0x7*0x333+-0x3*-0x617+-0x21*-0x20,_0x5c04cc=_0x473e70['length'];_0x2145bc<_0x5c04cc;_0x2145bc++)_0x473e70[_0x2145bc]['syncHierar'+'chy']();}['lookAt'](_0x1e9eb1,_0x54ff5c,_0x51c2e0,_0x7a44b5=-0xc20+-0x1903+0x2523*0x1,_0x15a3de=-0x8f1+0x29*-0x9b+0x21c5,_0x45b28e=0x30*0x4d+0x215d+-0x2fcd){if(_0x1e9eb1 instanceof T)gd['copy'](_0x1e9eb1),_0x54ff5c instanceof T?El['copy'](_0x54ff5c):El['copy'](T['UP']);else{if(_0x51c2e0===void(-0x19c9+0x963+0x1066*0x1))return;gd['set'](_0x1e9eb1,_0x54ff5c,_0x51c2e0),El['set'](_0x7a44b5,_0x15a3de,_0x45b28e);}qm['setLookAt'](this['getPositio'+'n'](),gd,El),Bt['setFromMat'+'4'](qm),this['setRotatio'+'n'](Bt);}['translate'](_0x5aedee,_0x3e0499,_0x48935a){_0x5aedee instanceof T?kt['copy'](_0x5aedee):kt['set'](_0x5aedee,_0x3e0499,_0x48935a),kt['add'](this['getPositio'+'n']()),this['setPositio'+'n'](kt);}['translateL'+'ocal'](_0x5ab4a6,_0x259acb,_0x202390){_0x5ab4a6 instanceof T?kt['copy'](_0x5ab4a6):kt['set'](_0x5ab4a6,_0x259acb,_0x202390),this['localRotat'+'ion']['transformV'+'ector'](kt,kt),this['localPosit'+'ion']['add'](kt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x595b00,_0x46ba73,_0x106d7b){if(Bt['setFromEul'+'erAngles'](_0x595b00,_0x46ba73,_0x106d7b),this['_parent']===null)this['localRotat'+'ion']['mul2'](Bt,this['localRotat'+'ion']);else{const _0x3df407=this['getRotatio'+'n'](),_0x46a453=this['_parent']['getRotatio'+'n']();An['copy'](_0x46a453)['invert'](),Bt['mul2'](An,Bt),this['localRotat'+'ion']['mul2'](Bt,_0x3df407);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x239de6,_0x30b7b1,_0x584fdd){Bt['setFromEul'+'erAngles'](_0x239de6,_0x30b7b1,_0x584fdd),this['localRotat'+'ion']['mul'](Bt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const T0=new Ot();function al(_0x5b0ab7){const _0x2a27d4=T0['get'](_0x5b0ab7);return v['assert'](_0x2a27d4),_0x2a27d4;}function sC(_0x558e7,_0x1c9439){v['assert'](_0x1c9439),T0['get'](_0x558e7,()=>_0x1c9439);}class iC{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x1b21ed,_0x3c9c79)=>{_0x3c9c79['destroy']();}),this['cache']['clear']();}['incRef'](_0x140e49){const _0x31ec4d=(this['cache']['get'](_0x140e49)||0xdcd+-0x1044*0x1+-0x1*-0x277)+(0x3cc+0x1048+-0x1413);this['cache']['set'](_0x140e49,_0x31ec4d);}['decRef'](_0x458bd0){if(_0x458bd0){let _0xd2517=this['cache']['get'](_0x458bd0);_0xd2517&&(_0xd2517--,_0xd2517===0x115f*0x1+-0xb1*-0xd+0x7*-0x3c4?(this['cache']['delete'](_0x458bd0),_0x458bd0['destroy']()):this['cache']['set'](_0x458bd0,_0xd2517));}}}class Si{static['incRef'](_0x1a8158){this['cache']['incRef'](_0x1a8158);}static['decRef'](_0x5944e8){this['cache']['decRef'](_0x5944e8);}static['destroy'](){this['cache']['destroy']();}}c(Si,'cache',new iC());let rC=-0x16f9+-0x1f4d+-0x1b23*-0x2;const nC=new _e(),Cl=new _e(),yd=new Lf(),xd=new Set(),yr=new Uint32Array(0x1207+0x19f*-0xd+0x310);class aC{constructor(_0x4fcd68){c(this,'vertexBuff'+'er',null),c(this,'_destroyVe'+'rtexBuffer',!(-0x1*-0x18a6+-0x256e+0xcc9)),this['count']=_0x4fcd68;}['destroy'](){var _0x46ea0e;this['_destroyVe'+'rtexBuffer']&&((_0x46ea0e=this['vertexBuff'+'er'])==null||_0x46ea0e['destroy']()),this['vertexBuff'+'er']=null;}}class oC{constructor(){c(this,'shader'),c(this,'bindGroup',null),c(this,'uniformBuf'+'fer',null),c(this,'hashes');}['getBindGro'+'up'](_0x3dfed4){if(!this['bindGroup']){const _0x358c4e=this['shader'];v['assert'](_0x358c4e);const _0x58935f=_0x358c4e['meshBindGr'+'oupFormat'];v['assert'](_0x58935f),this['bindGroup']=new mp(_0x3dfed4,_0x58935f),mn['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x598e98){if(!this['uniformBuf'+'fer']){const _0xfb5b35=this['shader'];v['assert'](_0xfb5b35);const _0x4bc98d=_0xfb5b35['meshUnifor'+'mBufferFor'+'mat'];v['assert'](_0x4bc98d),this['uniformBuf'+'fer']=new gp(_0x598e98,_0x4bc98d,!(-0x98e*0x2+-0x42*0x11+0x177f));}return this['uniformBuf'+'fer'];}['destroy'](){var _0xe3c7e1,_0x1e771a;(_0xe3c7e1=this['bindGroup'])==null||_0xe3c7e1['destroy'](),this['bindGroup']=null,(_0x1e771a=this['uniformBuf'+'fer'])==null||_0x1e771a['destroy'](),this['uniformBuf'+'fer']=null;}}const Vr=class Vr{constructor(_0x59e3f6,_0xa874b4,_0x4b0310=null){c(this,'castShadow',!(0x105d+0x1378+-0x23d4)),c(this,'cull',!(-0x429*0x7+-0x1*0x1049+0x2d68)),c(this,'drawOrder',0xe9*0x1+0x1*0x1d97+-0x80*0x3d),c(this,'node'),c(this,'visible',!(-0x2255+0x2534+-0x2df)),c(this,'visibleThi'+'sFrame',!(0x2385+0xbd*-0xb+-0x1b65)),c(this,'flipFacesF'+'actor',-0x7*0x251+0x8*0x1b6+0x288),c(this,'gsplatInst'+'ance',null),c(this,'id',rC++),c(this,'isVisibleF'+'unc',null),c(this,'instancing'+'Data',null),c(this,'parameters',{}),c(this,'pick',!(0x1b16+0x2*-0x8f4+-0x92e)),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'transparen'+'t',!(0xe36+-0x29*-0xe9+-0x3386)),c(this,'_aabb',new _e()),c(this,'_aabbVer',-(0x198d*-0x1+-0x9ce+0x235c)),c(this,'_aabbMeshV'+'er',-(0x20b6+0xe17+0x2ecc*-0x1)),c(this,'_customAab'+'b',null),c(this,'_updateAab'+'b',!(0x2310+-0x376*-0x4+-0x30e8)),c(this,'_updateAab'+'bFunc',null),c(this,'_key',[0x357+0x1*0x169+-0x4c0,-0xac7*0x2+-0x1bd3+0x3161]),c(this,'_layer',c0),c(this,'_material',null),c(this,'_skinInsta'+'nce',null),c(this,'_morphInst'+'ance',null),c(this,'_receiveSh'+'adow',!(0x420+-0x1ba6*-0x1+-0x1fc6)),c(this,'_renderSty'+'le',yo),c(this,'_screenSpa'+'ce',!(-0xbd6+-0x4*-0x16f+0x1*0x61b)),c(this,'_shaderCac'+'he',new Map()),c(this,'_shaderDef'+'s',hs<<0xba9+0x243e*0x1+0x25*-0x14b),c(this,'_calculate'+'SortDistan'+'ce',null);if(v['assert'](!(_0x59e3f6 instanceof De),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x4b0310,this['_mesh']=_0x59e3f6,_0x59e3f6['incRefCoun'+'t'](),this['material']=_0xa874b4,_0x59e3f6['vertexBuff'+'er']){const _0x379285=_0x59e3f6['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x379285['hasUv0']?m0:0x2342*0x1+0x17f7+-0x3b39,this['_shaderDef'+'s']|=_0x379285['hasUv1']?_0:-0x1*0x2322+0x283*-0x4+-0x2d2e*-0x1,this['_shaderDef'+'s']|=_0x379285['hasColor']?g0:0xb*-0xda+-0x2*0x1a5+0xca8,this['_shaderDef'+'s']|=_0x379285['hasTangent'+'s']?Mp:-0x1*0x26ad+0x1ed*0xd+0x246*0x6;}this['updateKey']();}set['renderStyl'+'e'](_0x43b9b5){this['_renderSty'+'le']=_0x43b9b5,this['mesh']['prepareRen'+'derState'](_0x43b9b5);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x46e50d){_0x46e50d!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x46e50d,_0x46e50d&&_0x46e50d['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x4bc841){this['_aabb']=_0x4bc841;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x23f6f0=this['_customAab'+'b'],_0x39a361=!!_0x23f6f0;if(!_0x23f6f0){if(_0x23f6f0=nC,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x30e9d2=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x30e9d2);}const _0x46ed7f=this['mesh']['boneUsed'];let _0x49ba80=!(0x1*-0x409+0x20ed+0x56*-0x56);for(let _0xc4bb9e=-0x2f*-0xbf+0x137f+0x918*-0x6;_0xc4bb9e<this['mesh']['boneAabb']['length'];_0xc4bb9e++)_0x46ed7f[_0xc4bb9e]&&(Cl['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0xc4bb9e],this['skinInstan'+'ce']['matrices'][_0xc4bb9e]),_0x49ba80?(_0x49ba80=!(0x1005+-0x43*-0x39+0x1eef*-0x1),_0x23f6f0['center']['copy'](Cl['center']),_0x23f6f0['halfExtent'+'s']['copy'](Cl['halfExtent'+'s'])):_0x23f6f0['add'](Cl));_0x39a361=!(-0x6a8+-0x3*-0x593+-0xa11);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x23f6f0['center']['copy'](this['mesh']['aabb']['center']),_0x23f6f0['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x23f6f0['center']['set'](-0x2259+0x2528+-0x2cf,0x1cc7+-0x1*0x10d9+-0x2*0x5f7,-0x6b*-0x1+-0x21f9+-0x10c7*-0x2),_0x23f6f0['halfExtent'+'s']['set'](0x23*-0xfd+-0x222f+0x44c6,0x1f32+-0xb9*0x1d+-0xa3d,0x2*-0x6ee+-0x2*0x347+0x146a)),this['mesh']&&this['mesh']['morph']){const _0x12f60d=this['mesh']['morph']['aabb'];_0x23f6f0['_expand'](_0x12f60d['getMin'](),_0x12f60d['getMax']());}_0x39a361=!(0x667*0x3+-0x3bc*-0x7+-0x2d59),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x39a361&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x23f6f0,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x259a95=>{_0x259a95['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x52460a,_0x25b95d,_0x2af252,_0x32ba83,_0x41f147,_0x46195b,_0x32af36){var _0x389f3d;const _0x589f41=this['_shaderDef'+'s'];yr[0x1779+-0x761+0x67*-0x28]=_0x52460a,yr[-0x1543+0x211a+-0xbd6]=_0x25b95d,yr[-0x7d8+0x1f3d+-0x1763]=_0x589f41,yr[-0x1d99+-0x2025+0x3dc1]=_0x32ba83['hash'];const _0x35f81e=Zy(yr);let _0x5b9457=this['_shaderCac'+'he']['get'](_0x35f81e);if(!_0x5b9457){const _0x3dfeb2=this['_material'];if(_0x5b9457=new oC(),_0x5b9457['shader']=_0x3dfeb2['variants']['get'](_0x35f81e),_0x5b9457['hashes']=new Uint32Array(yr),!_0x5b9457['shader']){G['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x5917a7=_0x3dfeb2['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x2af252,'objDefs':_0x589f41,'cameraShaderParams':_0x32ba83,'pass':_0x52460a,'sortedLights':_0x32af36,'viewUniformFormat':_0x41f147,'viewBindGroupFormat':_0x46195b,'vertexFormat':(_0x389f3d=this['mesh']['vertexBuff'+'er'])==null?void(-0x7*-0x4a9+-0x6*0x199+0x1709*-0x1):_0x389f3d['format']});G['popGpuMark'+'er'](this['mesh']['device']),_0x3dfeb2['variants']['set'](_0x35f81e,_0x5917a7),_0x5b9457['shader']=_0x5917a7;}this['_shaderCac'+'he']['set'](_0x35f81e,_0x5b9457);}return v['call'](()=>{Wv['equals'](_0x5b9457['hashes'],yr)||v['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x5b9457;}set['material'](_0x2bf65b){this['clearShade'+'rs']();const _0x5bcd47=this['_material'];_0x5bcd47&&_0x5bcd47['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x2bf65b,_0x2bf65b&&(_0x2bf65b['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x2bf65b['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}set['layer'](_0x1d3cd4){this['_layer']=_0x1d3cd4,this['updateKey']();}get['layer'](){return this['_layer'];}['_updateSha'+'derDefs'](_0x42ff60){_0x42ff60!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x42ff60,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x4f257e){this['_calculate'+'SortDistan'+'ce']=_0x4f257e;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x58a15b){this['_receiveSh'+'adow']!==_0x58a15b&&(this['_receiveSh'+'adow']=_0x58a15b,this['_updateSha'+'derDefs'](_0x58a15b?this['_shaderDef'+'s']&-(0x3*0x46f+-0x4f*-0xb+-0x10b0*0x1):this['_shaderDef'+'s']|Ep));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x57c1a0){this['_updateSha'+'derDefs'](_0x57c1a0?this['_shaderDef'+'s']|Ou:this['_shaderDef'+'s']&-(-0x12bc+0x3950+-0x17*-0x11b));}get['batching'](){return(this['_shaderDef'+'s']&Ou)!==0x1d7f+0x3*0xb3f+-0x3f3c;}set['skinInstan'+'ce'](_0x435dd8){this['_skinInsta'+'nce']=_0x435dd8,this['_updateSha'+'derDefs'](_0x435dd8?this['_shaderDef'+'s']|Wc:this['_shaderDef'+'s']&-(-0x599*0x4+-0x1*-0xca9+-0x1d*-0x56)),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x55a0a8){var _0x20a01d;(_0x20a01d=this['_morphInst'+'ance'])==null||_0x20a01d['destroy'](),this['_morphInst'+'ance']=_0x55a0a8;let _0x531fcc=this['_shaderDef'+'s'];_0x531fcc=_0x55a0a8&&_0x55a0a8['morph']['morphPosit'+'ions']?_0x531fcc|qc:_0x531fcc&-(-0x4cc+0x4*0x256+-0x1*0x8b),_0x531fcc=_0x55a0a8&&_0x55a0a8['morph']['morphNorma'+'ls']?_0x531fcc|Xc:_0x531fcc&-(-0x8*-0x241+-0xbf*-0x21+-0x22a6),_0x531fcc=_0x55a0a8&&_0x55a0a8['morph']['intRenderF'+'ormat']?_0x531fcc|jc:_0x531fcc&-(-0x18*0xfb+-0xf1*0x29+0x5e22),this['_updateSha'+'derDefs'](_0x531fcc);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0xe864ab){this['_screenSpa'+'ce']!==_0xe864ab&&(this['_screenSpa'+'ce']=_0xe864ab,this['_updateSha'+'derDefs'](_0xe864ab?this['_shaderDef'+'s']|Cp:this['_shaderDef'+'s']&-(0x4fd*-0x5+-0x15ab+0x2f9d)));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x299fec){this['_key'][Ei]=_0x299fec;}get['key'](){return this['_key'][Ei];}set['mask'](_0x2dadbc){const _0x48b296=this['_shaderDef'+'s']&-0xd08c+0x29c*0x9+0x3*0x9305;this['_updateSha'+'derDefs'](_0x48b296|_0x2dadbc<<0x2040+-0x2207+0x1d7);}get['mask'](){return this['_shaderDef'+'s']>>0x116*-0x12+0x155+0x1247*0x1;}set['instancing'+'Count'](_0x4d37b2){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x4d37b2);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:0x1f84*-0x1+-0x847+0x27cb;}['destroy'](){var _0x3d55e8,_0x382320,_0x1def7c;const _0x1dac45=this['mesh'];_0x1dac45&&(this['mesh']=null,_0x1dac45['refCount']<0x699*0x3+-0x1c6c+0x8a2&&_0x1dac45['destroy']()),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0x8b3+0x2292+-0x19df],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0x407+-0x342+0x31*-0x4],null),(_0x3d55e8=this['_skinInsta'+'nce'])==null||_0x3d55e8['destroy'](),this['_skinInsta'+'nce']=null,(_0x382320=this['morphInsta'+'nce'])==null||_0x382320['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x1def7c=this['instancing'+'Data'])==null||_0x1def7c['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x527922,_0x3c6f19){if(_0x527922){for(let _0x3bd9ae=-0x1e49*-0x1+-0x1*-0x2604+-0x444d;_0x3bd9ae<_0x527922['length'];_0x3bd9ae++){_0x527922[_0x3bd9ae]['_renderSty'+'le']=_0x3c6f19;const _0x287115=_0x527922[_0x3bd9ae]['mesh'];xd['has'](_0x287115)||(xd['add'](_0x287115),_0x287115['prepareRen'+'derState'](_0x3c6f19));}xd['clear']();}}['_isVisible'](_0x97cea4){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x97cea4):(yd['center']=this['aabb']['center'],yd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x97cea4['frustum']['containsSp'+'here'](yd)>0x14d4+0x187d*-0x1+0x1*0x3a9):!(-0x17d1+-0x6bb*0x1+0x1e8d);}['updateKey'](){const _0x131de2=this['material'],_0x48b08b=_0x131de2['alphaToCov'+'erage']||_0x131de2['alphaTest']?Kt:_0x131de2['blendType'];this['_key'][Ei]=(this['layer']&-0x3*-0x70a+-0x1781*-0x1+0x1f*-0x170)<<0x4a6+-0x16d7+-0x2*-0x926|(_0x48b08b===is?-0x2446+0x2bd*-0x7+0x1*0x3772:-0x8*-0x22+-0x18b3+0x1*0x17a3)<<-0xa*-0x1b0+0x228f+0x305*-0x11|(_0x131de2['id']&-0x1d7*-0x168cb+-0x1*-0x2fdaafe+-0x395787c)<<-0x100+0x123b*0x1+-0x113b;}['setInstanc'+'ing'](_0x5e501b,_0x408f03=!(-0x1a99+0x2*0x1118+0x1*-0x796)){_0x5e501b?(this['instancing'+'Data']=new aC(_0x5e501b['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x5e501b,_0x5e501b['format']['instancing']=!(-0x18e3+0x1304+-0x1*-0x5df),this['cull']=_0x408f03):(this['instancing'+'Data']=null,this['cull']=!(0x301+-0x2422+0x2121)),this['_updateSha'+'derDefs'](_0x5e501b?this['_shaderDef'+'s']|$c:this['_shaderDef'+'s']&-(-0x287*-0x1+-0x1*-0x883+-0xae9));}['ensureMate'+'rial'](_0x39a753){this['material']||(v['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=al(_0x39a753));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x4de221){return this['parameters'][_0x4de221];}['setParamet'+'er'](_0x244719,_0x3bb609,_0x2e01e2=-0x4*-0x44cd180+0xd213008f+0x1cb9b970){const _0x353b88=this['parameters'][_0x244719];_0x353b88?(_0x353b88['data']=_0x3bb609,_0x353b88['passFlags']=_0x2e01e2):this['parameters'][_0x244719]={'scopeId':null,'data':_0x3bb609,'passFlags':_0x2e01e2};}['setRealtim'+'eLightmap'](_0x3e4a89,_0x5bda6f){const _0x3867cd=this['getParamet'+'er'](_0x3e4a89);_0x3867cd!==_0x5bda6f&&(_0x3867cd&&Si['decRef'](_0x3867cd['data']),_0x5bda6f?(Si['incRef'](_0x5bda6f),this['setParamet'+'er'](_0x3e4a89,_0x5bda6f)):this['deletePara'+'meter'](_0x3e4a89));}['deletePara'+'meter'](_0x581b88){this['parameters'][_0x581b88]&&delete this['parameters'][_0x581b88];}['setParamet'+'ers'](_0x578bca,_0x36fe52){const _0x963dad=this['parameters'];for(const _0x25ae7b in _0x963dad){const _0x1c39e4=_0x963dad[_0x25ae7b];_0x1c39e4['passFlags']&_0x36fe52&&(_0x1c39e4['scopeId']||(_0x1c39e4['scopeId']=_0x578bca['scope']['resolve'](_0x25ae7b)),_0x1c39e4['scopeId']['setValue'](_0x1c39e4['data']));}}['setLightma'+'pped'](_0x3e4d37){_0x3e4d37?this['mask']=(this['mask']|cr)&-(0x1a00+0x1*0xe7b+-0x2875):(this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0x9*0x16d+-0x62a*-0x1+0x3*0x239],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0x1*-0xc2c+-0x24ef+0x14*0x13d],null),this['_shaderDef'+'s']&=-(0x517*-0x7+-0x58*0x1c+0x3e02),this['mask']=(this['mask']|hs)&-(0x19*-0x12d+-0x1aad+0x3819));}['setCustomA'+'abb'](_0x20efcd){_0x20efcd?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x20efcd):this['_customAab'+'b']=_0x20efcd['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(0x13ef+0x3a5+-0x11*0x163)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};c(Vr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let Le=Vr;const lC=[0x21a+0xe1e+-0x1038,-0x1b5c+0x23e0+-0x883,-0x25b2+-0x14f9+0x3aae,-0xf9*-0x11+-0x623+0x8c*-0x13,0x1a8a+0x679*-0x2+0xd95*-0x1,-0x1428+-0x18e6+0x2d0f],hC=[-0xd6d+-0x2129+0x2e96,0x8b0+0xfd3+-0x1882,0x835+0x8*-0x26+-0x702,0x25*-0x1+0x1*-0x15d7+0x15fc,0x25*-0x43+-0x1*-0x158f+0xbdd*-0x1,0x2372+0x2cf*0x5+-0x317b],jm=new js();function Ym(_0x28c99a,_0x12ef0e){if(_0x28c99a&&!_0x12ef0e||!_0x28c99a&&_0x12ef0e)return!(-0x19e2+0x14ff+0x2*0x272);if(_0x28c99a=_0x28c99a['data'],_0x12ef0e=_0x12ef0e['data'],_0x28c99a===_0x12ef0e)return!(0xb*-0x13d+0x5f8*0x6+-0x1631);if(_0x28c99a instanceof Float32Array&&_0x12ef0e instanceof Float32Array){if(_0x28c99a['length']!==_0x12ef0e['length'])return!(-0x1*-0x1ea1+-0x1ca7+0x1*-0x1f9);for(let _0x4b06cb=0xb0+-0x4*-0x7d3+-0x1ffc;_0x4b06cb<_0x28c99a['length'];_0x4b06cb++)if(_0x28c99a[_0x4b06cb]!==_0x12ef0e[_0x4b06cb])return!(0x18a1+0xf75+-0x2815);return!(0x116*0x21+0x13*0x125+-0x3995);}return!(-0x1*0x2121+-0x10c1*0x1+0x1b*0x1d9);}function cC(_0x53f9b4,_0x38b2ce){for(const _0x2807f5 in _0x53f9b4)if(_0x53f9b4['hasOwnProp'+'erty'](_0x2807f5)&&!Ym(_0x53f9b4[_0x2807f5],_0x38b2ce[_0x2807f5]))return!(0x2*0x467+-0x6a1+-0x22c);for(const _0x4819cd in _0x38b2ce)if(_0x38b2ce['hasOwnProp'+'erty'](_0x4819cd)&&!Ym(_0x38b2ce[_0x4819cd],_0x53f9b4[_0x4819cd]))return!(-0x54*0x10+0x1*0x77b+-0x2*0x11d);return!(0x29*-0x87+-0x276+0x1815);}function Sd(_0x5d2c3c){return _0x5d2c3c['node']['worldTrans'+'form']['scaleSign'];}class dC{constructor(_0x2619ed,_0x4d6a35,_0x2ae401){this['device']=_0x2619ed,this['rootNode']=_0x4d6a35,this['scene']=_0x2ae401,this['_init']=!(-0xb*-0xe3+-0x140*-0x3+-0x1b0*0x8),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=0x2*-0x12b1+-0x4*-0x40d+0x152e,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0xbd370b,_0x3163f0,_0x1a3fd0,_0x4538d5,_0x1de8ea){if(_0x4538d5===void(-0x22*-0x3b+0x15*0x93+-0xb*0x1cf)&&(_0x4538d5=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0x4538d5]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x4538d5+('\x20already\x20e'+'xists.'));return;}const _0x24fe91=new et(_0x4538d5,_0xbd370b,_0x3163f0,_0x1a3fd0,_0x1de8ea);return this['_batchGrou'+'ps'][_0x4538d5]=_0x24fe91,_0x24fe91;}['removeGrou'+'p'](_0x37bdec){if(!this['_batchGrou'+'ps'][_0x37bdec]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x37bdec+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x42bffb=[];for(let _0x50206f=-0x1cf0+0x59*-0x61+0x14e3*0x3;_0x50206f<this['_batchList']['length'];_0x50206f++)this['_batchList'][_0x50206f]['batchGroup'+'Id']===_0x37bdec?this['destroyBat'+'ch'](this['_batchList'][_0x50206f]):_0x42bffb['push'](this['_batchList'][_0x50206f]);this['_batchList']=_0x42bffb,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x37bdec),delete this['_batchGrou'+'ps'][_0x37bdec];}['markGroupD'+'irty'](_0x7b4074){this['_dirtyGrou'+'ps']['indexOf'](_0x7b4074)<0x65*0x3f+0x1cf0+-0x35cb&&this['_dirtyGrou'+'ps']['push'](_0x7b4074);}['getGroupBy'+'Name'](_0x30ea62){const _0x12bbbd=this['_batchGrou'+'ps'];for(const _0x2eb9fe in _0x12bbbd)if(_0x12bbbd['hasOwnProp'+'erty'](_0x2eb9fe)&&_0x12bbbd[_0x2eb9fe]['name']===_0x30ea62)return _0x12bbbd[_0x2eb9fe];return null;}['getBatches'](_0x4f9430){const _0x43f665=[],_0x33ecc8=this['_batchList']['length'];for(let _0x210146=-0x468+-0x16cd+0x5*0x571;_0x210146<_0x33ecc8;_0x210146++){const _0x11864f=this['_batchList'][_0x210146];_0x11864f['batchGroup'+'Id']===_0x4f9430&&_0x43f665['push'](_0x11864f);}return _0x43f665;}['_removeMod'+'elsFromBat'+'chGroup'](_0x2a3e46,_0x172b76){if(_0x2a3e46['enabled']){_0x2a3e46['model']&&_0x2a3e46['model']['batchGroup'+'Id']===_0x172b76&&(_0x2a3e46['model']['batchGroup'+'Id']=-(0xe*0x10b+0xba0+0x7*-0x3bf)),_0x2a3e46['render']&&_0x2a3e46['render']['batchGroup'+'Id']===_0x172b76&&(_0x2a3e46['render']['batchGroup'+'Id']=-(-0x43e+-0x11*-0x4+0x3fb)),_0x2a3e46['element']&&_0x2a3e46['element']['batchGroup'+'Id']===_0x172b76&&(_0x2a3e46['element']['batchGroup'+'Id']=-(0x26de+0xcef+-0x33cc)),_0x2a3e46['sprite']&&_0x2a3e46['sprite']['batchGroup'+'Id']===_0x172b76&&(_0x2a3e46['sprite']['batchGroup'+'Id']=-(0xf0e+-0x18eb+0x9de));for(let _0x4bd53f=-0x1e*-0x8+0x246*-0x7+0xefa;_0x4bd53f<_0x2a3e46['_children']['length'];_0x4bd53f++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x2a3e46['_children'][_0x4bd53f],_0x172b76);}}['insert'](_0x57c813,_0x570d6c,_0x162145){const _0xe1d52a=this['_batchGrou'+'ps'][_0x570d6c];v['assert'](_0xe1d52a,'Invalid\x20ba'+'tch\x20'+_0x570d6c+'\x20insertion'),_0xe1d52a&&_0xe1d52a['_obj'][_0x57c813]['indexOf'](_0x162145)<-0x1fdc+0x20b0+-0x4*0x35&&(_0xe1d52a['_obj'][_0x57c813]['push'](_0x162145),this['markGroupD'+'irty'](_0x570d6c));}['remove'](_0x394600,_0x19989a,_0xb9eaaf){const _0x54a2a9=this['_batchGrou'+'ps'][_0x19989a];if(v['assert'](_0x54a2a9,'Invalid\x20ba'+'tch\x20'+_0x19989a+'\x20insertion'),_0x54a2a9){const _0x5e0ffd=_0x54a2a9['_obj'][_0x394600]['indexOf'](_0xb9eaaf);_0x5e0ffd>=-0xff9+-0x2*-0x1163+-0x12cd&&(_0x54a2a9['_obj'][_0x394600]['splice'](_0x5e0ffd,0x24ce+0x194b+0x7c3*-0x8),this['markGroupD'+'irty'](_0x19989a));}}['_extractRe'+'nder'](_0x9c9baa,_0xf38b0e,_0x1f4d5b,_0x404a2c){return _0x9c9baa['render']&&(_0xf38b0e=_0x404a2c[_0x9c9baa['render']['batchGroup'+'Id']]=_0xf38b0e['concat'](_0x9c9baa['render']['meshInstan'+'ces']),_0x9c9baa['render']['removeFrom'+'Layers']()),_0xf38b0e;}['_extractMo'+'del'](_0x3ab181,_0x2c5028,_0x218259,_0x46ff58){return _0x3ab181['model']&&_0x3ab181['model']['model']&&(_0x2c5028=_0x46ff58[_0x3ab181['model']['batchGroup'+'Id']]=_0x2c5028['concat'](_0x3ab181['model']['meshInstan'+'ces']),_0x3ab181['model']['removeMode'+'lFromLayer'+'s'](),_0x3ab181['model']['_batchGrou'+'p']=_0x218259),_0x2c5028;}['_extractEl'+'ement'](_0x4b6bb1,_0x357910,_0x4c6cc7){if(!_0x4b6bb1['element'])return;let _0x106736=!(0x427+0x10e9+-0x1*0x150f);_0x4b6bb1['element']['_text']&&_0x4b6bb1['element']['_text']['_model']['meshInstan'+'ces']['length']>0x1bf7+0x10*0xe8+-0x2a77?(_0x357910['push'](_0x4b6bb1['element']['_text']['_model']['meshInstan'+'ces'][-0x1d*-0xeb+-0x4a2*-0x6+-0x366b]),_0x4b6bb1['element']['removeMode'+'lFromLayer'+'s'](_0x4b6bb1['element']['_text']['_model']),_0x106736=!(-0x1f98+-0x1ca*-0x10+-0x4*-0xbe)):_0x4b6bb1['element']['_image']&&(_0x357910['push'](_0x4b6bb1['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x4b6bb1['element']['removeMode'+'lFromLayer'+'s'](_0x4b6bb1['element']['_image']['_renderabl'+'e']['model']),_0x4b6bb1['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x357910['push'](_0x4b6bb1['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x4b6bb1['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x4b6bb1['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x4b6bb1['element']['_dirtifyMa'+'sk'](),_0x4b6bb1['element']['_onPrerend'+'er']())),_0x106736=!(-0x12b*-0xe+0x1cd7+0x17*-0x1f7)),_0x106736&&(_0x4c6cc7['_ui']=!(0x1e88+-0xc7*0x14+-0x1c*0x89),_0x4b6bb1['element']['_batchGrou'+'p']=_0x4c6cc7);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x5b5ab0,_0x2b9c20){for(let _0x4a0794=0x189*-0x19+-0xc7a*0x3+0x1945*0x3;_0x4a0794<_0x2b9c20['length'];_0x4a0794++){const _0x35b286=_0x2b9c20[_0x4a0794],_0x1ebc67=this['_batchGrou'+'ps'][_0x35b286];if(!_0x1ebc67)continue;let _0x304e39=_0x5b5ab0[_0x35b286];_0x304e39||(_0x304e39=_0x5b5ab0[_0x35b286]=[]);for(let _0x82693e=0x278*-0xd+-0x73c*-0x2+0x11a0;_0x82693e<_0x1ebc67['_obj']['model']['length'];_0x82693e++)_0x304e39=this['_extractMo'+'del'](_0x1ebc67['_obj']['model'][_0x82693e],_0x304e39,_0x1ebc67,_0x5b5ab0);for(let _0x5dabac=0x67f+-0x4*-0x931+-0x2b43;_0x5dabac<_0x1ebc67['_obj']['render']['length'];_0x5dabac++)_0x304e39=this['_extractRe'+'nder'](_0x1ebc67['_obj']['render'][_0x5dabac],_0x304e39,_0x1ebc67,_0x5b5ab0);for(let _0x25c299=0x222a+-0x1*-0x2449+-0x1*0x4673;_0x25c299<_0x1ebc67['_obj']['element']['length'];_0x25c299++)this['_extractEl'+'ement'](_0x1ebc67['_obj']['element'][_0x25c299],_0x304e39,_0x1ebc67);for(let _0x11e968=-0x2173+0x1110+0x347*0x5;_0x11e968<_0x1ebc67['_obj']['sprite']['length'];_0x11e968++){const _0x1f0cc2=_0x1ebc67['_obj']['sprite'][_0x11e968];_0x1f0cc2['sprite']&&_0x1f0cc2['sprite']['_meshInsta'+'nce']&&(_0x1ebc67['dynamic']||_0x1f0cc2['sprite']['sprite']['_renderMod'+'e']===Ti)&&(_0x304e39['push'](_0x1f0cc2['sprite']['_meshInsta'+'nce']),_0x1f0cc2['sprite']['removeMode'+'lFromLayer'+'s'](),_0x1ebc67['_sprite']=!(0x7*-0x530+-0xd0+0x2520),_0x1f0cc2['sprite']['_batchGrou'+'p']=_0x1ebc67);}}}['generate'](_0x3ade7d){const _0x23df03={};_0x3ade7d||(_0x3ade7d=Object['keys'](this['_batchGrou'+'ps']));const _0x19c3b8=[];for(let _0x539550=-0x1777+-0x8b*-0x13+0xd26;_0x539550<this['_batchList']['length'];_0x539550++){if(_0x3ade7d['indexOf'](this['_batchList'][_0x539550]['batchGroup'+'Id'])<0x71a+0xa70+-0x118a){_0x19c3b8['push'](this['_batchList'][_0x539550]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x539550]);}if(this['_batchList']=_0x19c3b8,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x23df03,_0x3ade7d),_0x3ade7d===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=0x1d25+-0x128b+0xa9a*-0x1;else{const _0x376fba=[];for(let _0x2fb02c=0x1*-0x15b+0x23c9+-0x226e;_0x2fb02c<this['_dirtyGrou'+'ps']['length'];_0x2fb02c++)_0x3ade7d['indexOf'](this['_dirtyGrou'+'ps'][_0x2fb02c])<-0xacf+0x107*0x5+0x5ac&&_0x376fba['push'](this['_dirtyGrou'+'ps'][_0x2fb02c]);this['_dirtyGrou'+'ps']=_0x376fba;}let _0x51712a,_0x595196,_0x19ac43,_0x2ee102;for(const _0x2281f7 in _0x23df03)if(_0x23df03['hasOwnProp'+'erty'](_0x2281f7)){if(_0x51712a=_0x23df03[_0x2281f7],_0x19ac43=this['_batchGrou'+'ps'][_0x2281f7],!_0x19ac43){v['error']('batch\x20grou'+'p\x20'+_0x2281f7+'\x20not\x20found');continue;}_0x595196=this['prepare'](_0x51712a,_0x19ac43['dynamic'],_0x19ac43['maxAabbSiz'+'e'],_0x19ac43['_ui']||_0x19ac43['_sprite']);for(let _0x16dacd=0x6aa+-0x84c+-0xd1*-0x2;_0x16dacd<_0x595196['length'];_0x16dacd++)_0x2ee102=this['create'](_0x595196[_0x16dacd],_0x19ac43['dynamic'],parseInt(_0x2281f7,0x1d3*-0x13+-0x1c79+0x3f2c)),_0x2ee102&&_0x2ee102['addToLayer'+'s'](this['scene'],_0x19ac43['layers']);}}['prepare'](_0x37254e,_0x257249,_0x3e3b0b=Number['POSITIVE_I'+'NFINITY'],_0x9f3dd7){if(_0x37254e['length']===-0x7*-0x2b3+-0x1*0x1bd2+0x1c9*0x5)return[];const _0x1621fe=_0x3e3b0b*(-0x3b3+0x19f3+0x59*-0x40+0.5),_0x5444d9=-0x32c+-0x3*-0x74f+-0xec1,_0x1f640e=-0x1841342b7+0x1af3510af+-0x2b1ccc9*-0x4f,_0x47e845=new _e(),_0x249c0c=new _e();let _0x1f4bd7=null,_0xd97326;const _0x1acd1f=[];let _0x27a769=0xd*-0x1b1+0x1f*0x4b+0xce8;_0x9f3dd7&&_0x37254e['sort']((_0x5c9c68,_0x4c7282)=>_0x5c9c68['drawOrder']-_0x4c7282['drawOrder']);let _0x4c9b35=_0x37254e,_0x8c1aed;const _0x5a9282=_0x9f3dd7?function(_0x5aa96c){_0x1f4bd7?_0x1f4bd7['add'](_0x5aa96c['aabb']):_0x1f4bd7=_0x5aa96c['aabb']['clone'](),_0x8c1aed['push'](_0x5aa96c);}:function(_0x9cadb2){_0x8c1aed['push'](_0x9cadb2);};for(;_0x4c9b35['length']>0x20ea+-0x1096+-0x1054;){_0x1acd1f[_0x27a769]=[_0x4c9b35[0x16*-0xc7+-0x887+0x2d9*0x9]],_0x8c1aed=[];const _0x4afe2f=_0x4c9b35[-0x673+0x2650+0xa9f*-0x3]['material'],_0x1ce628=_0x4c9b35[0x2221*0x1+-0x2240+0x1f*0x1]['layer'],_0x20b51b=_0x4c9b35[0x1849+-0x1237*0x1+-0x612]['_shaderDef'+'s'],_0x1b43f1=_0x4c9b35[-0x20a7+-0x160c+-0x43*-0xd1]['parameters'],_0x4a9bfe=_0x4c9b35[-0x2*0xcce+-0x922*-0x2+-0x178*-0x5]['stencilFro'+'nt'];let _0x1a235f=_0x4c9b35[-0x10b8+0x13f5+-0x33d]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0xfd373=_0x4c9b35[0x49*-0x37+0x178b+-0x1f7*0x4]['drawOrder'];_0x47e845['copy'](_0x4c9b35[0x72d+0x11*-0xfb+-0x6*-0x195]['aabb']);const _0xb0e3a3=Sd(_0x4c9b35[0x4*0x60+0x7*-0x4a3+-0x1*-0x1ef5]),_0x3e73a4=_0x4c9b35[-0x256c+-0xaf1+-0x3*-0x101f]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x41a7d7=_0x4c9b35[0x1*0x3a5+0xc2f*0x2+-0x65*0x47]['mesh']['primitive'][-0x1ccd+0x4b6+0x1817]['indexed'];_0x1f4bd7=null;for(let _0x5d5b7f=0x82f+0xb7+-0x17*0x63;_0x5d5b7f<_0x4c9b35['length'];_0x5d5b7f++){const _0xebd67d=_0x4c9b35[_0x5d5b7f];if(_0x257249&&_0x1acd1f[_0x27a769]['length']>=_0x5444d9){_0x8c1aed=_0x8c1aed['concat'](_0x4c9b35['slice'](_0x5d5b7f));break;}if(_0x4afe2f!==_0xebd67d['material']||_0x1ce628!==_0xebd67d['layer']||_0x3e73a4!==_0xebd67d['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x41a7d7!==_0xebd67d['mesh']['primitive'][0x1*-0x26ae+0x13d6+0x12d8]['indexed']||_0x20b51b!==_0xebd67d['_shaderDef'+'s']||_0x1a235f+_0xebd67d['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x1f640e){_0x5a9282(_0xebd67d);continue;}if(_0x249c0c['copy'](_0x47e845),_0x249c0c['add'](_0xebd67d['aabb']),_0x249c0c['halfExtent'+'s']['x']>_0x1621fe||_0x249c0c['halfExtent'+'s']['y']>_0x1621fe||_0x249c0c['halfExtent'+'s']['z']>_0x1621fe){_0x5a9282(_0xebd67d);continue;}if(_0x4a9bfe&&(!(_0xd97326=_0xebd67d['stencilFro'+'nt'])||_0x4a9bfe['func']!==_0xd97326['func']||_0x4a9bfe['zpass']!==_0xd97326['zpass'])){_0x5a9282(_0xebd67d);continue;}if(_0xb0e3a3!==Sd(_0xebd67d)){_0x5a9282(_0xebd67d);continue;}if(!cC(_0x1b43f1,_0xebd67d['parameters'])){_0x5a9282(_0xebd67d);continue;}if(_0x9f3dd7&&_0x1f4bd7&&_0x1f4bd7['intersects'](_0xebd67d['aabb'])&&_0xebd67d['drawOrder']!==_0xfd373){_0x5a9282(_0xebd67d);continue;}_0x47e845['add'](_0xebd67d['aabb']),_0x1a235f+=_0xebd67d['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x1acd1f[_0x27a769]['push'](_0xebd67d);}_0x27a769++,_0x4c9b35=_0x8c1aed;}return _0x1acd1f;}['collectBat'+'chedMeshDa'+'ta'](_0x2d4ad4,_0x213e44){let _0x38707f=null,_0x42ee6e=-0x1e62+-0x5ec+0x244e,_0x3d2c12=0xcad+0x5b7+0x2c*-0x6b,_0x3e08a5=null;for(let _0x388f5c=0x1536*-0x1+-0x864+0x1d9a;_0x388f5c<_0x2d4ad4['length'];_0x388f5c++)if(_0x2d4ad4[_0x388f5c]['visible']){const _0x735527=_0x2d4ad4[_0x388f5c]['mesh'],_0x18f04c=_0x735527['vertexBuff'+'er']['numVertice'+'s'];if(_0x42ee6e+=_0x18f04c,_0x735527['primitive'][-0x8*0x397+-0xc07+0x28bf]['indexed'])_0x3d2c12+=_0x735527['primitive'][0x6*0x2ed+-0x1*-0x8c3+-0x1a51]['count'];else{const _0x14b4d2=_0x735527['primitive'][0xada+-0x1c05+0x36f*0x5]['type'];(_0x14b4d2===Yr||_0x14b4d2===ar)&&_0x735527['primitive'][0x1fc9+-0x1772+0x131*-0x7]['count']===-0x1*0xe55+0xf9+0xd60&&(_0x3d2c12+=0x26c5+0x3*-0x2f9+-0x775*0x4);}if(!_0x38707f){_0x3e08a5=_0x2d4ad4[_0x388f5c]['material'],_0x38707f={};const _0x53db5d=_0x735527['vertexBuff'+'er']['format']['elements'];for(let _0x1e0b0d=0xbec*0x3+-0x982+-0xd21*0x2;_0x1e0b0d<_0x53db5d['length'];_0x1e0b0d++){const _0x401df4=_0x53db5d[_0x1e0b0d]['name'];_0x38707f[_0x401df4]={'numComponents':_0x53db5d[_0x1e0b0d]['numCompone'+'nts'],'dataType':_0x53db5d[_0x1e0b0d]['dataType'],'normalize':_0x53db5d[_0x1e0b0d]['normalize'],'count':0x0};}_0x213e44&&(_0x38707f[qt]={'numComponents':0x1,'dataType':Ee,'normalize':!(0x1*-0x1979+-0x8c*-0x24+-0xf7*-0x6),'count':0x0});}}return{'streams':_0x38707f,'batchNumVerts':_0x42ee6e,'batchNumIndices':_0x3d2c12,'material':_0x3e08a5};}['create'](_0x5423c2,_0x1bf4e3,_0x4013ab){const _0x553358=ne();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(0x2*-0x709+0xb09+0x309));let _0x2b02c2=null,_0x13cc87,_0x212397,_0x4ad087,_0x28b80c=null;const _0x5820ae=this['collectBat'+'chedMeshDa'+'ta'](_0x5423c2,_0x1bf4e3);if(_0x5820ae['streams']){const _0xa9d6bd=_0x5820ae['streams'];let _0x53da7f=_0x5820ae['material'];const _0x96adc=_0x5820ae['batchNumVe'+'rts'],_0x4f4c9f=_0x5820ae['batchNumIn'+'dices'];_0x28b80c=new zm(_0x5423c2,_0x1bf4e3,_0x4013ab),this['_batchList']['push'](_0x28b80c);let _0x4894c8,_0xf4628c,_0x433ea8,_0x18eaac=-0x1*-0x9c7+-0x242+0x37*-0x23,_0x2c02ee=-0x1b63+-0x8b1*-0x1+0x12b2,_0x43ae6b;const _0x3e9e92=_0x96adc<=0x161d*0x9+-0xf0a+0x4804?Uint16Array:Uint32Array,_0x20c3ec=new _0x3e9e92(_0x4f4c9f);for(_0x13cc87 in _0xa9d6bd)_0x2b02c2=_0xa9d6bd[_0x13cc87],_0x2b02c2['typeArrayT'+'ype']=da[_0x2b02c2['dataType']],_0x2b02c2['elementByt'+'eSize']=_o[_0x2b02c2['dataType']],_0x2b02c2['buffer']=new _0x2b02c2['typeArrayT'+'ype'](_0x96adc*_0x2b02c2['numCompone'+'nts']);for(let _0x5d4150=0xcb*-0x26+-0x3*-0xb26+-0x350;_0x5d4150<_0x5423c2['length'];_0x5d4150++)if(_0x5423c2[_0x5d4150]['visible']){_0x212397=_0x5423c2[_0x5d4150]['mesh'],_0x4ad087=_0x212397['vertexBuff'+'er']['numVertice'+'s'],_0x1bf4e3||(_0x43ae6b=_0x5423c2[_0x5d4150]['node']['getWorldTr'+'ansform']());for(_0x13cc87 in _0xa9d6bd)if(_0x13cc87!==qt){_0x2b02c2=_0xa9d6bd[_0x13cc87];const _0x95fb6c=new _0x2b02c2['typeArrayT'+'ype'](_0x2b02c2['buffer']['buffer'],_0x2b02c2['elementByt'+'eSize']*_0x2b02c2['count']),_0x28f95f=_0x212397['getVertexS'+'tream'](_0x13cc87,_0x95fb6c)*_0x2b02c2['numCompone'+'nts'];if(_0x2b02c2['count']+=_0x28f95f,!_0x1bf4e3&&_0x2b02c2['numCompone'+'nts']>=-0x87*0x21+-0x66*-0x55+-0x1074){if(_0x13cc87===He){const _0x3fa0f4=_0x43ae6b['data'],_0x315d30=_0x3fa0f4[-0x29b*-0x3+-0x1*0x177b+0xfaa],_0x1fd4cc=_0x3fa0f4[0x2002+0xe7f+-0x5d*0x80],_0x327ff8=_0x3fa0f4[0x43*-0x6f+-0x4*-0x9ab+-0x99d*0x1],_0x4a1581=_0x3fa0f4[0xc74+0x4*0x526+0x8*-0x421],_0x2c400e=_0x3fa0f4[0x6d*-0x45+0x25e9+-0x883],_0x24f04e=_0x3fa0f4[0x2152+-0xe22+-0xdf*0x16],_0x21201c=_0x3fa0f4[0x756+-0x2b*0x3+-0x6cd],_0x74df73=_0x3fa0f4[-0x53*-0x7+-0x4fd*-0x2+-0x61b*0x2],_0x34c586=_0x3fa0f4[0x1*-0x1d3b+-0x6*0x486+-0x3869*-0x1],_0x2cb1c4=_0x3fa0f4[0x4fc+-0x5ba+0xca],_0x1da509=_0x3fa0f4[-0x78e*-0x4+-0xb1e*-0x1+-0x2949],_0x2eb5d6=_0x3fa0f4[0x7c1+0x1196+-0x1949];let _0x5c0c43,_0xd6a40c,_0x54c1af;for(let _0x442208=0x1de1*-0x1+-0x1670+0x3451*0x1;_0x442208<_0x28f95f;_0x442208+=_0x2b02c2['numCompone'+'nts'])_0x5c0c43=_0x95fb6c[_0x442208],_0xd6a40c=_0x95fb6c[_0x442208+(0x1*-0x88d+-0x2*-0x3b5+0x124)],_0x54c1af=_0x95fb6c[_0x442208+(-0x1*-0xc89+-0x207*-0x13+-0x330c)],_0x95fb6c[_0x442208]=_0x5c0c43*_0x315d30+_0xd6a40c*_0x4a1581+_0x54c1af*_0x21201c+_0x2cb1c4,_0x95fb6c[_0x442208+(0xc31+-0xc*-0x1e1+-0x22bc)]=_0x5c0c43*_0x1fd4cc+_0xd6a40c*_0x2c400e+_0x54c1af*_0x74df73+_0x1da509,_0x95fb6c[_0x442208+(0x2*0x9b5+-0x1dd9+-0xb*-0xf3)]=_0x5c0c43*_0x327ff8+_0xd6a40c*_0x24f04e+_0x54c1af*_0x34c586+_0x2eb5d6;}else{if(_0x13cc87===Yt||_0x13cc87===Zs){jm['invertMat4'](_0x43ae6b)['transpose']();const [_0x185bc1,_0x245fb4,_0x1a0644,_0x3eb2b4,_0x31569c,_0x224d43,_0x2b8d1f,_0x125d9e,_0x309ef3]=jm['data'];let _0x34d1f2,_0xc6249f,_0x26d514;for(let _0x37de92=-0xb29*0x1+0xb0d*0x1+-0x1*-0x1c;_0x37de92<_0x28f95f;_0x37de92+=_0x2b02c2['numCompone'+'nts'])_0x34d1f2=_0x95fb6c[_0x37de92],_0xc6249f=_0x95fb6c[_0x37de92+(-0xc92+-0xae+-0xd41*-0x1)],_0x26d514=_0x95fb6c[_0x37de92+(0x8f8+-0x2*-0x745+-0x1780)],_0x95fb6c[_0x37de92]=_0x34d1f2*_0x185bc1+_0xc6249f*_0x3eb2b4+_0x26d514*_0x2b8d1f,_0x95fb6c[_0x37de92+(-0x1160+0xa65*-0x3+0x3090)]=_0x34d1f2*_0x245fb4+_0xc6249f*_0x31569c+_0x26d514*_0x125d9e,_0x95fb6c[_0x37de92+(-0x1*0x17e9+0xb1f+0x2*0x666)]=_0x34d1f2*_0x1a0644+_0xc6249f*_0x224d43+_0x26d514*_0x309ef3;}}}}if(_0x1bf4e3){_0x2b02c2=_0xa9d6bd[qt];for(let _0x3205ea=-0x1*0x12c3+-0x24c2+0x3785;_0x3205ea<_0x4ad087;_0x3205ea++)_0x2b02c2['buffer'][_0x2b02c2['count']++]=_0x5d4150;}if(_0x212397['primitive'][-0xe*-0x1b+-0x447+0x2cd]['indexed']){_0x4894c8=_0x212397['primitive'][0xed5+-0xd3e+0x25*-0xb]['base'],_0xf4628c=_0x212397['primitive'][0x2334+-0xe08+-0x152c]['count'];const _0x1e13df=_0x212397['indexBuffe'+'r'][-0x70a*0x3+-0x2681*0x1+0x3b9f*0x1]['getFormat']();_0x433ea8=new Lh[_0x1e13df](_0x212397['indexBuffe'+'r'][0x9f0+0x149*0x13+-0x5*0x6df]['storage']);}else{const _0x590102=_0x212397['primitive'][0x72d+-0x1d*0x5b+-0x2*-0x191]['type'];if(_0x590102===Yr||_0x590102===ar){if(_0x212397['primitive'][-0x1a*0x50+-0x1ba+-0x9da*-0x1]['count']===-0xa98+-0x1a61+0x24fd)_0x4894c8=-0x2144+0x574+-0x8*-0x37a,_0xf4628c=0x3*0x7bb+-0x30a+-0x1421*0x1,_0x433ea8=_0x590102===Yr?lC:hC;else{_0xf4628c=0x1fb3+-0x377*0x9+-0x84;continue;}}}for(let _0x567af2=0x1e9*-0x13+-0x57*-0x1a+-0x21*-0xd5;_0x567af2<_0xf4628c;_0x567af2++)_0x20c3ec[_0x567af2+_0x2c02ee]=_0x433ea8[_0x4894c8+_0x567af2]+_0x18eaac;_0x2c02ee+=_0xf4628c,_0x18eaac+=_0x4ad087;}_0x212397=new Ie(this['device']);for(_0x13cc87 in _0xa9d6bd)_0x2b02c2=_0xa9d6bd[_0x13cc87],_0x212397['setVertexS'+'tream'](_0x13cc87,_0x2b02c2['buffer'],_0x2b02c2['numCompone'+'nts'],void(-0x1*0x17fb+-0x33b*-0xb+-0x57*0x22),_0x2b02c2['dataType'],_0x2b02c2['normalize']);_0x20c3ec['length']>-0x2*-0xe41+-0x1*-0x17ec+-0x346e&&_0x212397['setIndices'](_0x20c3ec),_0x212397['update'](Ms,!(0x1881+0x5*0x550+0x662*-0x8)),_0x1bf4e3&&(_0x53da7f=_0x53da7f['clone'](),_0x53da7f['update']());const _0x4b7920=new Le(_0x212397,_0x53da7f,this['rootNode']);_0x4b7920['castShadow']=_0x28b80c['origMeshIn'+'stances'][-0x22aa+0x3*-0x85d+-0x3*-0x13eb]['castShadow'],_0x4b7920['parameters']=_0x28b80c['origMeshIn'+'stances'][-0x1*-0x1b51+-0x1553*0x1+-0x1*0x5fe]['parameters'],_0x4b7920['layer']=_0x28b80c['origMeshIn'+'stances'][0x123*-0x9+0x774*0x3+-0x5*0x26d]['layer'],_0x4b7920['_shaderDef'+'s']=_0x28b80c['origMeshIn'+'stances'][0x1a9f+-0x1eec+0x1*0x44d]['_shaderDef'+'s'],_0x4b7920['batching']=!(0x10d8+-0x1*0x1d92+0x6*0x21f),_0x4b7920['cull']=_0x28b80c['origMeshIn'+'stances'][0x17*0x135+0x1*0x289+-0x2*0xf26]['cull'];const _0x78bfd1=this['_batchGrou'+'ps'][_0x4013ab];if(_0x78bfd1&&_0x78bfd1['_ui']&&(_0x4b7920['cull']=!(0x3*0xa99+-0x109d*0x2+0x170)),_0x1bf4e3){const _0x5adb5d=[];for(let _0x596e46=-0xa72+-0x1b19+-0x55d*-0x7;_0x596e46<_0x28b80c['origMeshIn'+'stances']['length'];_0x596e46++)_0x5adb5d['push'](_0x28b80c['origMeshIn'+'stances'][_0x596e46]['node']);_0x4b7920['skinInstan'+'ce']=new Vm(this['device'],_0x5adb5d,this['rootNode']);}_0x4b7920['_updateAab'+'b']=!(-0x1a41+-0x1*0x15fc+0x303e),_0x4b7920['drawOrder']=_0x28b80c['origMeshIn'+'stances'][0x1db+0x928+0x1*-0xb03]['drawOrder'],_0x4b7920['stencilFro'+'nt']=_0x28b80c['origMeshIn'+'stances'][0x143*-0x19+0x43d+-0xf*-0x1d2]['stencilFro'+'nt'],_0x4b7920['stencilBac'+'k']=_0x28b80c['origMeshIn'+'stances'][0x7*0x3e5+0x7*-0x75+-0x1810]['stencilBac'+'k'],_0x4b7920['flipFacesF'+'actor']=Sd(_0x28b80c['origMeshIn'+'stances'][0x206c+0x2b*-0xc+-0x8b*0x38]),_0x4b7920['castShadow']=_0x28b80c['origMeshIn'+'stances'][0x1cd*0xc+0x1201+0x279d*-0x1]['castShadow'],_0x28b80c['meshInstan'+'ce']=_0x4b7920,_0x28b80c['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=ne()-_0x553358,_0x28b80c;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>-0x94*0x2a+-0x2168+0x39b0&&this['generate'](this['_dirtyGrou'+'ps']);const _0x564595=ne();for(let _0x1ce01f=0xfc5*-0x1+-0x886*0x4+-0x17*-0x22b;_0x1ce01f<this['_batchList']['length'];_0x1ce01f++)this['_batchList'][_0x1ce01f]['dynamic']&&this['_batchList'][_0x1ce01f]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=ne()-_0x564595;}['clone'](_0x463b06,_0x48acb3){const _0x3fb5a0=new zm(_0x48acb3,_0x463b06['dynamic'],_0x463b06['batchGroup'+'Id']);this['_batchList']['push'](_0x3fb5a0);const _0x439453=[];for(let _0x388215=-0x16f7+-0x5*-0x46e+-0x13*-0xb;_0x388215<_0x48acb3['length'];_0x388215++)_0x439453['push'](_0x48acb3[_0x388215]['node']);return _0x3fb5a0['meshInstan'+'ce']=new Le(_0x463b06['meshInstan'+'ce']['mesh'],_0x463b06['meshInstan'+'ce']['material'],_0x463b06['meshInstan'+'ce']['node']),_0x3fb5a0['meshInstan'+'ce']['_updateAab'+'b']=!(-0x1f14+0x926+0x15ef),_0x3fb5a0['meshInstan'+'ce']['parameters']=_0x48acb3[0x12c9*-0x1+0x1*0x14ad+-0x79*0x4]['parameters'],_0x3fb5a0['meshInstan'+'ce']['cull']=_0x48acb3[-0x116f+-0xe*0x6e+0x1773]['cull'],_0x3fb5a0['meshInstan'+'ce']['layer']=_0x48acb3[0x138e+-0x1267+-0x127]['layer'],_0x463b06['dynamic']&&(_0x3fb5a0['meshInstan'+'ce']['skinInstan'+'ce']=new Vm(this['device'],_0x439453,this['rootNode'])),_0x3fb5a0['meshInstan'+'ce']['castShadow']=_0x463b06['meshInstan'+'ce']['castShadow'],_0x3fb5a0;}['destroyBat'+'ch'](_0x3f4cf1){_0x3f4cf1['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x3f4cf1['batchGroup'+'Id']]['layers']);}}const Km='uSceneColo'+'rMap';class uC extends ds{constructor(){super(...arguments),c(this,'colorRende'+'rTarget',null),c(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0xfa030,_0x28ea22,_0x41bb48){if((_0xfa030==null?void(0x1203+-0x1fc+0xb*-0x175):_0xfa030['colorBuffe'+'r']['format'])!==_0x41bb48)return!(0xa93*-0x3+0xbf1*0x1+0x13c8);const _0x5b6ef2=(_0x28ea22==null?void(0x39*0x2f+-0xe*-0x2bb+-0x5*0x9bd):_0x28ea22['width'])||this['device']['width'],_0x5822ad=(_0x28ea22==null?void(0xb*-0x273+-0x19c9+0x34ba):_0x28ea22['height'])||this['device']['height'];return!_0xfa030||_0x5b6ef2!==_0xfa030['width']||_0x5822ad!==_0xfa030['height'];}['allocateRe'+'nderTarget'](_0x23e894,_0x43dde7,_0x403f1c,_0x10563c){const _0x329214=new he(_0x403f1c,{'name':Km,'format':_0x10563c,'width':_0x43dde7?_0x43dde7['colorBuffe'+'r']['width']:_0x403f1c['width'],'height':_0x43dde7?_0x43dde7['colorBuffe'+'r']['height']:_0x403f1c['height'],'mipmaps':!(-0x3*-0x462+-0x1afb*0x1+-0xdd5*-0x1),'minFilter':nn,'magFilter':st,'addressU':ae,'addressV':ae});return _0x23e894?(_0x23e894['destroyFra'+'meBuffers'](),_0x23e894['_colorBuff'+'er']=_0x329214,_0x23e894['_colorBuff'+'ers']=[_0x329214]):_0x23e894=new pt({'name':'ColorGrabR'+'T','colorBuffer':_0x329214,'depth':!(-0x1*0x2197+0x261f+-0x487),'stencil':!(0x20a9+0x1d4d+-0x3df5),'autoResolve':!(0x1609+-0x1adc+0x135*0x4)}),_0x23e894;}['releaseRen'+'derTarget'](_0x30264a){_0x30264a&&(_0x30264a['destroyTex'+'tureBuffer'+'s'](),_0x30264a['destroy']());}['frameUpdat'+'e'](){const _0x32c8f6=this['device'],_0x2b82aa=this['source'],_0x45e28d=(_0x2b82aa==null?void(-0x187c+-0x1*0x260d+0x3e89):_0x2b82aa['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x2b82aa==null?void(0x258b+0x1ed4+-0x1*0x445f):_0x2b82aa['colorBuffe'+'r'],_0x45e28d)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x2b82aa,_0x32c8f6,_0x45e28d));const _0x3476d8=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x32c8f6['scope']['resolve'](Km)['setValue'](_0x3476d8);}['execute'](){const _0x392186=this['device'];G['pushGpuMar'+'ker'](_0x392186,'GRAB-COLOR');const _0x371832=this['source'],_0x114059=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x392186['isWebGPU']?(_0x392186['copyRender'+'Target'](_0x371832,this['colorRende'+'rTarget'],!(0x106*0x9+0x7ba*-0x4+-0x1*-0x15b2),!(0x192a+-0x603+-0x1326)),_0x392186['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x392186['copyRender'+'Target'](_0x371832,this['colorRende'+'rTarget'],!(-0x1*0x25cf+0x1*0x1ced+-0x6*-0x17b),!(-0x3b7*0x3+0xe59*-0x1+0x1*0x197f)),_0x392186['activeText'+'ure'](_0x392186['maxCombine'+'dTextures']-(0xd7*-0x5+0x1d1e*0x1+0x6*-0x427)),_0x392186['bindTextur'+'e'](_0x114059),_0x392186['gl']['generateMi'+'pmap'](_0x114059['impl']['_glTarget'])),G['popGpuMark'+'er'](_0x392186);}}const Zm='uSceneDept'+'hMap';class fC extends ds{constructor(_0x4b8d9a,_0xe2a0f){super(_0x4b8d9a),c(this,'depthRende'+'rTarget',null),c(this,'camera',null),this['camera']=_0xe2a0f;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x221b2a,_0x512562){const _0x2dbd9d=(_0x512562==null?void(0x22*-0xb2+-0x151b+0x2cbf):_0x512562['width'])||this['device']['width'],_0x3031c7=(_0x512562==null?void(0x8f6+0xfe*0x4+-0x1*0xcee):_0x512562['height'])||this['device']['height'];return!_0x221b2a||_0x2dbd9d!==_0x221b2a['width']||_0x3031c7!==_0x221b2a['height'];}['allocateRe'+'nderTarget'](_0x1e51f9,_0x38f1bb,_0x1d45cc,_0x5bfbe4,_0x5e4869){const _0x4104a4=new he(_0x1d45cc,{'name':Zm,'format':_0x5bfbe4,'width':_0x38f1bb?_0x38f1bb['colorBuffe'+'r']['width']:_0x1d45cc['width'],'height':_0x38f1bb?_0x38f1bb['colorBuffe'+'r']['height']:_0x1d45cc['height'],'mipmaps':!(-0x52*0x54+-0xae0*-0x2+0x529),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});return _0x1e51f9?(_0x1e51f9['destroyFra'+'meBuffers'](),_0x5e4869?_0x1e51f9['_depthBuff'+'er']=_0x4104a4:(_0x1e51f9['_colorBuff'+'er']=_0x4104a4,_0x1e51f9['_colorBuff'+'ers']=[_0x4104a4])):_0x1e51f9=new pt({'name':'DepthGrabR'+'T','colorBuffer':_0x5e4869?null:_0x4104a4,'depthBuffer':_0x5e4869?_0x4104a4:null,'depth':!_0x5e4869,'stencil':_0x1d45cc['supportsSt'+'encil'],'autoResolve':!(0x212b+0x210*-0x3+-0x1afa)}),_0x1e51f9;}['releaseRen'+'derTarget'](_0x12bcca){_0x12bcca&&(_0x12bcca['destroyTex'+'tureBuffer'+'s'](),_0x12bcca['destroy']());}['before'](){var _0x39b133,_0x1cbbff;const _0xd54bff=this['camera'],_0x1eb206=this['device'],_0x228a04=(_0xd54bff==null?void(0x8d+-0x3e7+-0xd*-0x42):_0xd54bff['renderTarg'+'et'])??_0x1eb206['backBuffer'];let _0x5ec65f=!(-0xd9*0x2b+-0x1200+-0x35*-0x107),_0x49759a=_0x228a04['stencil']?vc:Ci;_0x1eb206['isWebGPU']&&_0x228a04['samples']>-0x8*0x445+0x1979*-0x1+0x3ba2&&(_0x49759a=Ii,_0x5ec65f=!(0x116*0x12+0x795*0x5+0x4*-0xe5d));const _0x447f75=((_0x39b133=_0xd54bff['renderTarg'+'et'])==null?void(0xca6*0x2+-0x1e6*-0xd+-0x31fa):_0x39b133['depthBuffe'+'r'])??((_0x1cbbff=_0xd54bff['renderTarg'+'et'])==null?void(0x23ce+0x2436+-0xb*0x68c):_0x1cbbff['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x447f75)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0xd54bff['renderTarg'+'et'],_0x1eb206,_0x49759a,_0x5ec65f));const _0x271508=_0x5ec65f?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x1eb206['scope']['resolve'](Zm)['setValue'](_0x271508);}['execute'](){const _0x4eafc4=this['device'];if(G['pushGpuMar'+'ker'](_0x4eafc4,'GRAB-DEPTH'),_0x4eafc4['isWebGL2']&&_0x4eafc4['renderTarg'+'et']['samples']>-0x4*0x34a+0x2616+0x3*-0x84f){const _0x29028c=_0x4eafc4['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x53dfed=this['depthRende'+'rTarget'];_0x4eafc4['renderTarg'+'et']=_0x53dfed,_0x4eafc4['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x4eafc4,_0x29028c,_0x53dfed['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x4eafc4['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x4eafc4['copyRender'+'Target'](_0x4eafc4['renderTarg'+'et'],this['depthRende'+'rTarget'],!(0x25*-0x3a+-0x266e+0x2ed1*0x1),!(0x1592+0x1ec7*-0x1+0x935));G['popGpuMark'+'er'](_0x4eafc4);}}class A0{constructor(){c(this,'_gammaCorr'+'ection',hh),c(this,'_toneMappi'+'ng',Ap),c(this,'_srgbRende'+'rTarget',!(0x117a*0x2+0xb*-0x2a5+-0x5dc)),c(this,'_ssaoEnabl'+'ed',!(-0x170f+0x6f*0xd+-0x1*-0x116d)),c(this,'_fog',Fa),c(this,'_sceneDept'+'hMapLinear',!(-0x228a+0x8dd+-0x2*-0xcd7)),c(this,'_hash'),c(this,'_defines',new Map()),c(this,'_definesDi'+'rty',!(0x17a+0x1*-0x22db+0x2161));}get['hash'](){if(this['_hash']===void(0x48+-0x1*-0x20b7+-0x1*0x20ff)){const _0x1d2ad4=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hn(_0x1d2ad4);}return this['_hash'];}get['defines'](){const _0x3a17d0=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(-0x19*-0xd2+0x1d82+-0x3203),_0x3a17d0['clear'](),this['_sceneDept'+'hMapLinear']&&_0x3a17d0['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(0xccc+-0x41*0x1e+-0x52e)),_0x3a17d0['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x3a17d0['set']('TONEMAP',p0[this['_toneMappi'+'ng']]),_0x3a17d0['set']('GAMMA',Yb[this['shaderOutp'+'utGamma']])),_0x3a17d0;}['markDirty'](){this['_hash']=void(0x18d6+0x133*-0x14+-0xda),this['_definesDi'+'rty']=!(0xcff*-0x2+0x1b7c*0x1+-0x17e);}set['fog'](_0x582e34){this['_fog']!==_0x582e34&&(this['_fog']=_0x582e34,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x479ac4){this['_ssaoEnabl'+'ed']!==_0x479ac4&&(this['_ssaoEnabl'+'ed']=_0x479ac4,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x4e1bd4){this['_gammaCorr'+'ectionAssi'+'gned']=!(-0x460*-0x1+0x1*-0x31d+0x1*-0x143),this['_gammaCorr'+'ection']!==_0x4e1bd4&&(this['_gammaCorr'+'ection']=_0x4e1bd4,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x15a46d){this['_toneMappi'+'ng']!==_0x15a46d&&(this['_toneMappi'+'ng']=_0x15a46d,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x438f65){this['_srgbRende'+'rTarget']!==_0x438f65&&(this['_srgbRende'+'rTarget']=_0x438f65,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x306238){this['_sceneDept'+'hMapLinear']!==_0x306238&&(this['_sceneDept'+'hMapLinear']=_0x306238,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===hh&&!this['_srgbRende'+'rTarget']?hh:sl;}}const En=new T(),Wa=new T(),Qm=new T(),Jm=new q(),pC=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()];class ol{constructor(){c(this,'shaderPass'+'Info',null),c(this,'renderPass'+'ColorGrab',null),c(this,'renderPass'+'DepthGrab',null),c(this,'fogParams',null),c(this,'shaderPara'+'ms',new A0()),c(this,'renderPass'+'es',[]),c(this,'jitter',0x1*0xca3+-0xb6b*-0x2+-0x2379),(this['_aspectRat'+'io']=(-0x6*-0x322+0x1bc+-0x1478*0x1)/(-0x33b*0x2+0x1a9+0x4d6),this['_aspectRat'+'ioMode']=Ip,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new Y(0x3d+0x1e49+-0x1e86+0.75,0xb68+0xecc+-0x27*0xac+0.75,-0x5e*-0x2f+-0x35b+-0xde7+0.75,-0x2*-0x631+0xbd9+-0x1bb*0xe),this['_clearColo'+'rBuffer']=!(0x3*-0xbdd+-0xd61*-0x2+0x8d5),this['_clearDept'+'h']=-0x4a*-0x2b+-0x1f5d+0x12f0,this['_clearDept'+'hBuffer']=!(0x204+-0xeb*-0x13+-0x1375),this['_clearSten'+'cil']=0x9*0x12f+-0x511+-0x596,this['_clearSten'+'cilBuffer']=!(0x10d2+0x1d8d+-0x2e5f),this['_cullFaces']=!(-0x2003+-0x20c8+-0x61*-0xab),this['_farClip']=-0xdf+-0x11f2*0x2+-0x1*-0x28ab,this['_flipFaces']=!(0x3f*-0x1b+-0x1*-0x1a1e+-0x164*0xe),this['_fov']=0x7b*-0x1d+-0xa1d+0x1839,this['_frustumCu'+'lling']=!(0x4b5*-0x1+0x17*0x14c+-0x3b*0x6d),this['_horizonta'+'lFov']=!(0x5c4+-0xda*0x10+0x1*0x7dd),this['_layers']=[Fi,Xt,vp,tl,bp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=0x26e*-0x2+-0x1b2c+-0x19*-0x148+0.1,this['_node']=null,this['_orthoHeig'+'ht']=0x1*-0x1522+0xc51+0x8db,this['_projectio'+'n']=Gs,this['_rect']=new Q(-0x1702+-0x91f+0x2021,-0x209f*0x1+0xa7c+-0x3*-0x761,0x83*-0x3b+-0xae7+0x1*0x2919,0x169a+-0x5*-0x14b+-0x1d10),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new Q(-0x2291*0x1+-0x2606+0x4897,-0x14a2+0x3a5*0x3+0x9b3,0x1*0x174+0x79e+-0x911,-0x1*0xea2+0xbe3+0x20*0x16),this['_scissorRe'+'ctClear']=!(-0x1f8a+-0x8*0x235+-0x479*-0xb),this['_aperture']=-0x259*-0x10+-0x9f3+0x1*-0x1b8d,this['_shutter']=(0x269d+-0x1681+-0x101b*0x1)/(0xb4e+-0x39b+-0x3cb*0x1),this['_sensitivi'+'ty']=0x263*0xf+0x1943+0x4*-0xe4a,this['_projMat']=new q(),this['_projMatDi'+'rty']=!(0x710*0x1+0x208e+-0x279e),this['_projMatSk'+'ybox']=new q(),this['_viewMat']=new q(),this['_viewMatDi'+'rty']=!(0x2*-0x9d7+-0x92b*0x1+0x1cd9),this['_viewProjM'+'at']=new q(),this['_viewProjM'+'atDirty']=!(0xb*0x2b3+-0x14b+-0xe33*0x2),this['_shaderMat'+'ricesVersi'+'on']=0x2213+0x37*0x19+-0x2772,this['_viewProjI'+'nverse']=new q(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new q(),this['_jitters']=[0x1a47+0x2*-0x4e7+0x1*-0x1079,-0x1*0x1694+0x23ef+-0xd*0x107,0x16ee+0x994+-0x2082,-0x1eeb+0xde9+0x1102],this['frustum']=new wS(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x3ccd9f,_0x525d98;(_0x3ccd9f=this['renderPass'+'ColorGrab'])==null||_0x3ccd9f['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x525d98=this['renderPass'+'DepthGrab'])==null||_0x525d98['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=-0xd7f+-0x48b*-0x6+-0x10f*0xd;}['_storeShad'+'erMatrices'](_0x483bea,_0x3189d2,_0x20778d,_0x5cdcfd){this['_shaderMat'+'ricesVersi'+'on']!==_0x5cdcfd&&(this['_shaderMat'+'ricesVersi'+'on']=_0x5cdcfd,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x483bea),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new q()),this['_viewProjC'+'urrent']['copy'](_0x483bea),this['_viewProjI'+'nverse']['invert'](_0x483bea),this['_jitters'][0x26aa+-0x46*-0x83+-0x1*0x4a7a]=this['_jitters'][-0x1e60+-0x1*0x2261+0x40c1],this['_jitters'][-0x3*-0x10+-0x16d4*0x1+-0x1*-0x16a7]=this['_jitters'][0x393+0x1eff+-0x2291],this['_jitters'][-0x15a7*0x1+0x2442+-0x1*0xe9b]=_0x3189d2,this['_jitters'][0x21d8+-0x19a3+-0x2bc*0x3]=_0x20778d);}get['fullSizeCl'+'earRect'](){const _0x483b6b=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x483b6b['x']===0x2393+-0x19ee+-0x9a5*0x1&&_0x483b6b['y']===-0x832+0xcd1+-0xa9*0x7&&_0x483b6b['z']===0x1f33+0x8dc+-0xd5a*0x3&&_0x483b6b['w']===-0x1499*0x1+0x1aae*-0x1+0x2f48;}set['aspectRati'+'o'](_0x444e82){this['_aspectRat'+'io']!==_0x444e82&&(this['_aspectRat'+'io']=_0x444e82,this['_projMatDi'+'rty']=!(-0x1*-0x12b1+0x2055+-0x3306*0x1));}get['aspectRati'+'o'](){var _0x242bd8;return(_0x242bd8=this['xr'])!=null&&_0x242bd8['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x584edd){this['_aspectRat'+'ioMode']!==_0x584edd&&(this['_aspectRat'+'ioMode']=_0x584edd,this['_projMatDi'+'rty']=!(-0x1d7*0xe+-0x26c7+0x4089));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x45915d){this['_calculate'+'Projection']=_0x45915d,this['_projMatDi'+'rty']=!(0x50*0x1f+0x1a25+-0x23d5);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x53887b){this['_calculate'+'Transform']=_0x53887b;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x134a0c){this['_clearColo'+'r']['copy'](_0x134a0c);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x165c8f){this['_clearColo'+'rBuffer']=_0x165c8f;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x357bf5){this['_clearDept'+'h']=_0x357bf5;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x402380){this['_clearDept'+'hBuffer']=_0x402380;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x29aff3){this['_clearSten'+'cil']=_0x29aff3;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x4eb465){this['_clearSten'+'cilBuffer']=_0x4eb465;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x59ee7c){this['_cullFaces']=_0x59ee7c;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0xb87b81){this['_farClip']!==_0xb87b81&&(this['_farClip']=_0xb87b81,this['_projMatDi'+'rty']=!(0x16*0x182+-0x1*0x1215+-0xf17));}get['farClip'](){var _0x741979;return(_0x741979=this['xr'])!=null&&_0x741979['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x23c440){this['_flipFaces']=_0x23c440;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x1206b7){this['_fov']!==_0x1206b7&&(this['_fov']=_0x1206b7,this['_projMatDi'+'rty']=!(0x1*-0x13ed+0xadb+0x912));}get['fov'](){var _0x245c27;return(_0x245c27=this['xr'])!=null&&_0x245c27['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x140443){this['_frustumCu'+'lling']=_0x140443;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x1e5fe8){this['_horizonta'+'lFov']!==_0x1e5fe8&&(this['_horizonta'+'lFov']=_0x1e5fe8,this['_projMatDi'+'rty']=!(-0x1cce+-0x15b*0x6+0x24f0));}get['horizontal'+'Fov'](){var _0x386ed4;return(_0x386ed4=this['xr'])!=null&&_0x386ed4['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x307e72){this['_layers']=_0x307e72['slice'](-0x1*0x1b37+0xa59+0x10de),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x2957d1){this['_nearClip']!==_0x2957d1&&(this['_nearClip']=_0x2957d1,this['_projMatDi'+'rty']=!(0x29*0x97+-0x28*-0x77+-0x2ac7*0x1));}get['nearClip'](){var _0xe4a148;return(_0xe4a148=this['xr'])!=null&&_0xe4a148['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x4e4eb7){this['_node']=_0x4e4eb7;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x1417ec){this['_orthoHeig'+'ht']!==_0x1417ec&&(this['_orthoHeig'+'ht']=_0x1417ec,this['_projMatDi'+'rty']=!(-0xeeb+-0x1*-0xa99+0x1*0x452));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x50a6d1){this['_projectio'+'n']!==_0x50a6d1&&(this['_projectio'+'n']=_0x50a6d1,this['_projMatDi'+'rty']=!(-0x2b*-0x76+0x1b08+0xf9e*-0x3));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x207b16){this['_rect']['copy'](_0x207b16);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x54d310){this['_renderTar'+'get']=_0x54d310;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x1154e9){this['_scissorRe'+'ct']['copy'](_0x1154e9);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x26f9aa=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x26f9aa)['invert'](),this['_viewMatDi'+'rty']=!(-0x1c3*-0x16+-0x2251+0x470*-0x1);}return this['_viewMat'];}set['aperture'](_0xfc0a7f){this['_aperture']=_0xfc0a7f;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x467378){this['_sensitivi'+'ty']=_0x467378;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x197aa6){this['_shutter']=_0x197aa6;}get['shutter'](){return this['_shutter'];}set['xr'](_0x239a3d){this['_xr']!==_0x239a3d&&(this['_xr']=_0x239a3d,this['_projMatDi'+'rty']=!(-0x218b+0x125c+0xf2f));}get['xr'](){return this['_xr'];}['clone'](){return new ol()['copy'](this);}['copy'](_0x3a0238){return this['_aspectRat'+'io']=_0x3a0238['_aspectRat'+'io'],this['_farClip']=_0x3a0238['_farClip'],this['_fov']=_0x3a0238['_fov'],this['_horizonta'+'lFov']=_0x3a0238['_horizonta'+'lFov'],this['_nearClip']=_0x3a0238['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x3a0238['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x3a0238['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x3a0238['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x3a0238['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x3a0238['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x3a0238['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x3a0238['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x3a0238['calculateT'+'ransform'],this['clearColor']=_0x3a0238['clearColor'],this['clearColor'+'Buffer']=_0x3a0238['clearColor'+'Buffer'],this['clearDepth']=_0x3a0238['clearDepth'],this['clearDepth'+'Buffer']=_0x3a0238['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x3a0238['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x3a0238['clearStenc'+'ilBuffer'],this['cullFaces']=_0x3a0238['cullFaces'],this['flipFaces']=_0x3a0238['flipFaces'],this['frustumCul'+'ling']=_0x3a0238['frustumCul'+'ling'],this['layers']=_0x3a0238['layers'],this['orthoHeigh'+'t']=_0x3a0238['orthoHeigh'+'t'],this['projection']=_0x3a0238['projection'],this['rect']=_0x3a0238['rect'],this['renderTarg'+'et']=_0x3a0238['renderTarg'+'et'],this['scissorRec'+'t']=_0x3a0238['scissorRec'+'t'],this['aperture']=_0x3a0238['aperture'],this['shutter']=_0x3a0238['shutter'],this['sensitivit'+'y']=_0x3a0238['sensitivit'+'y'],this['shaderPass'+'Info']=_0x3a0238['shaderPass'+'Info'],this['jitter']=_0x3a0238['jitter'],this['_projMatDi'+'rty']=!(-0x2c3*-0x9+0x2238+-0x3b13),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x5d03fa,_0x52a81e){var _0x2863d4;_0x52a81e?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new uC(_0x5d03fa)):((_0x2863d4=this['renderPass'+'ColorGrab'])==null||_0x2863d4['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x255b8e,_0x40859a,_0xbe3057){var _0x2b9db9;_0xbe3057?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new fC(_0x255b8e,this)):((_0x2b9db9=this['renderPass'+'DepthGrab'])==null||_0x2b9db9['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(0x3*0x55d+-0x250b+0x14f5));}['worldToScr'+'een'](_0x5e1d8a,_0x2d9ba2,_0x2eb9bd,_0x53031d=new T()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x5e1d8a,_0x53031d);const _0x23af95=this['_viewProjM'+'at']['data'],_0x1168b9=_0x5e1d8a['x']*_0x23af95[-0xbbb*-0x3+0x1e10+-0x1*0x413e]+_0x5e1d8a['y']*_0x23af95[-0x150f+-0x43f*-0x2+-0x2*-0x64c]+_0x5e1d8a['z']*_0x23af95[0x4*-0x18e+-0x217+0x85a]+(0x4*-0x49d+0x71b+0x1*0xb5a)*_0x23af95[0x78d+-0x591+-0x1d*0x11];return _0x53031d['x']=(_0x53031d['x']/_0x1168b9+(-0x25f7*0x1+-0x544*0x1+-0x2*-0x159e))*(-0x97+-0xeb8+-0xf4f*-0x1+0.5)*_0x2d9ba2,_0x53031d['y']=(-0x1a0b+-0x1203*-0x1+0x809-_0x53031d['y']/_0x1168b9)*(-0x4*0x9bc+0x5*-0x60c+0x4*0x114b+0.5)*_0x2eb9bd,_0x53031d;}['screenToWo'+'rld'](_0x1b20a1,_0x3c7e61,_0x4b7c6f,_0x449031,_0x13e898,_0x531831=new T()){const _0x238d45=this['farClip']-this['nearClip'];if(En['set'](_0x1b20a1/_0x449031,(_0x13e898-_0x3c7e61)/_0x13e898,_0x4b7c6f/_0x238d45),En['mulScalar'](0x1093*0x2+0x1*-0x132d+-0x113*0xd),En['sub'](T['ONE']),this['_projectio'+'n']===Gs){q['_getPerspe'+'ctiveHalfS'+'ize'](Wa,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),Wa['x']*=En['x'],Wa['y']*=En['y'];const _0x8bb99e=this['_node']['getWorldTr'+'ansform']();Wa['z']=-this['nearClip'],_0x8bb99e['transformP'+'oint'](Wa,Qm);const _0x4109ea=this['_node']['getPositio'+'n']();_0x531831['sub2'](Qm,_0x4109ea),_0x531831['normalize'](),_0x531831['mulScalar'](_0x4b7c6f),_0x531831['add'](_0x4109ea);}else this['_updateVie'+'wProjMat'](),Jm['copy'](this['_viewProjM'+'at'])['invert'](),Jm['transformP'+'oint'](En,_0x531831);return _0x531831;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===Gs)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x503612=this['_orthoHeig'+'ht'],_0x3d655e=_0x503612*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x3d655e,_0x3d655e,-_0x503612,_0x503612,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(0xf94*-0x2+0xc2+0x1e67);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x1e7ac2=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(0x1126*-0x1+-0x5f2+0x177c)/this['_sensitivi'+'ty']);return(0x5d*-0x54+0x114e+0xd37)/(Math['pow'](0x135+-0xa1b*0x1+-0x1e*-0x4c,_0x1e7ac2)*(0xd00+-0x610+-0x6ef+0.19999999999999996));}['getScreenS'+'ize'](_0x787099){if(this['_projectio'+'n']===Gs){const _0x56fe58=this['_node']['getPositio'+'n']()['distance'](_0x787099['center']);if(_0x56fe58<_0x787099['radius'])return-0x48d+0x4*0xe2+0x1*0x106;const _0x2b4cc0=Math['asin'](_0x787099['radius']/_0x56fe58),_0xdca342=Math['tan'](_0x2b4cc0),_0x4150b1=Math['tan'](this['fov']/(-0x1*0x251+-0x18ec+0x1b3f)*N['DEG_TO_RAD']);return Math['min'](_0xdca342/_0x4150b1,0x3*-0xaed+0x44c+0xe3e*0x2);}return N['clamp'](_0x787099['radius']/this['_orthoHeig'+'ht'],-0x3*0x755+-0x10e5*-0x1+0x51a,0x12*0x1b1+0x1*-0x1dd2+-0x9f);}['getFrustum'+'Corners'](_0x17025f=this['nearClip'],_0x3cca8e=this['farClip']){const _0x542a2f=this['fov']*Math['PI']/(0x535*-0x6+0x1*-0x24cd+-0x44bf*-0x1);let _0x3ba96f,_0x2a9184;this['projection']===Gs?this['horizontal'+'Fov']?(_0x3ba96f=_0x17025f*Math['tan'](_0x542a2f/(0x1*0xad+-0x7*-0x41f+-0x1d84)),_0x2a9184=_0x3ba96f/this['aspectRati'+'o']):(_0x2a9184=_0x17025f*Math['tan'](_0x542a2f/(-0x934+-0xa*-0x101+-0xd4*0x1)),_0x3ba96f=_0x2a9184*this['aspectRati'+'o']):(_0x2a9184=this['_orthoHeig'+'ht'],_0x3ba96f=_0x2a9184*this['aspectRati'+'o']);const _0x5b4063=pC;return _0x5b4063[-0x3b7+-0x1f07+0x22be*0x1]['x']=_0x3ba96f,_0x5b4063[-0x1*-0x1654+-0x4*-0x100+-0x1a54]['y']=-_0x2a9184,_0x5b4063[0x1*0x2259+-0xa20+-0x1839]['z']=-_0x17025f,_0x5b4063[0x1b28+-0x10e*-0x1d+-0x39bd]['x']=_0x3ba96f,_0x5b4063[-0x1d68+0x16f*0x5+-0x3b5*-0x6]['y']=_0x2a9184,_0x5b4063[0x16c2+0x2527+-0x3be8]['z']=-_0x17025f,_0x5b4063[0x1*-0x162+0x159c*-0x1+0x1700]['x']=-_0x3ba96f,_0x5b4063[-0x1dc5*0x1+-0x1bbb+0x3982]['y']=_0x2a9184,_0x5b4063[-0xab6+-0x1d66*0x1+0x281e]['z']=-_0x17025f,_0x5b4063[-0x7ee*0x3+-0x477*0x2+0x20bb]['x']=-_0x3ba96f,_0x5b4063[0x139*0x18+-0x8b3+-0x14a2]['y']=-_0x2a9184,_0x5b4063[0x1*-0xa1d+-0x104e+0x1a6e]['z']=-_0x17025f,this['_projectio'+'n']===Gs&&(this['horizontal'+'Fov']?(_0x3ba96f=_0x3cca8e*Math['tan'](_0x542a2f/(-0x1ad8+-0x1b53+-0xcf*-0x43)),_0x2a9184=_0x3ba96f/this['aspectRati'+'o']):(_0x2a9184=_0x3cca8e*Math['tan'](_0x542a2f/(-0x257f+0x1*0xd5f+-0x2*-0xc11)),_0x3ba96f=_0x2a9184*this['aspectRati'+'o'])),_0x5b4063[0x2335+-0x5*0x184+-0x1b9d]['x']=_0x3ba96f,_0x5b4063[-0x16de+-0xb0*0x19+-0x1*-0x2812]['y']=-_0x2a9184,_0x5b4063[-0x11*0x19b+-0x9*-0x2dc+0x193*0x1]['z']=-_0x3cca8e,_0x5b4063[-0x14*0x1e4+-0x4d2*0x4+-0x391d*-0x1]['x']=_0x3ba96f,_0x5b4063[0x1a7b+0x13a*0x8+-0x2446]['y']=_0x2a9184,_0x5b4063[-0x24*0xc7+0x1177+-0x26*-0x47]['z']=-_0x3cca8e,_0x5b4063[0x12fc+-0x3*0x397+-0x1*0x831]['x']=-_0x3ba96f,_0x5b4063[-0x976+0xc*0x274+-0x13f4]['y']=_0x2a9184,_0x5b4063[-0x225a+0x1425*-0x1+0x3685]['z']=-_0x3cca8e,_0x5b4063[-0x3b*0x9f+0x2296+0x216]['x']=-_0x3ba96f,_0x5b4063[-0x4fe+-0x35*0x1b+-0x1*-0xa9c]['y']=-_0x2a9184,_0x5b4063[-0x1*-0x1f03+0x7c*0x17+0x2a20*-0x1]['z']=-_0x3cca8e,_0x5b4063;}['setXrPrope'+'rties'](_0x301bc9){Object['assign'](this['_xrPropert'+'ies'],_0x301bc9),this['_projMatDi'+'rty']=!(-0x949*-0x2+-0x25e0+0x134e);}}const e_=new q(),t_=new q(),s_=new q(),Qi=class Qi{static['create'](_0x273aff,_0x3b40e0,_0x17006e){const _0x1ed966=new ol();switch(_0x1ed966['node']=new De(_0x273aff),_0x1ed966['aspectRati'+'o']=-0x53*0x8+-0x2*0x936+0x1*0x1505,_0x1ed966['aspectRati'+'oMode']=Bu,_0x1ed966['_scissorRe'+'ctClear']=!(-0x3d3*0x7+-0x3a*-0x7+0x192f),_0x3b40e0){case Pe:_0x1ed966['node']['setRotatio'+'n'](Qi['pointLight'+'Rotations'][_0x17006e]),_0x1ed966['fov']=0xc71+0x162+-0x1*0xd79,_0x1ed966['projection']=Gs;break;case Re:_0x1ed966['projection']=Gs;break;case oe:_0x1ed966['projection']=ua;break;}return _0x1ed966;}static['evalSpotCo'+'okieMatrix'](_0x5989eb){let _0x13bb71=Qi['_spotCooki'+'eCamera'];_0x13bb71||(_0x13bb71=Qi['create']('SpotCookie'+'Camera',Re),Qi['_spotCooki'+'eCamera']=_0x13bb71),_0x13bb71['fov']=_0x5989eb['_outerCone'+'Angle']*(0x246f+0x15ed+-0x16*0x2a7);const _0x2473d=_0x13bb71['_node'];_0x2473d['setPositio'+'n'](_0x5989eb['_node']['getPositio'+'n']()),_0x2473d['setRotatio'+'n'](_0x5989eb['_node']['getRotatio'+'n']()),_0x2473d['rotateLoca'+'l'](-(-0xf13*0x1+-0xff5+-0xce*-0x27),-0xe3a+-0xa92+-0x6*-0x422,-0x1*0x539+-0x3d*0x73+0x48*0x74),e_['setTRS'](_0x2473d['getPositio'+'n'](),_0x2473d['getRotatio'+'n'](),T['ONE'])['invert'](),t_['mul2'](_0x13bb71['projection'+'Matrix'],e_);const _0x1b227c=_0x5989eb['cookieMatr'+'ix'],_0x275348=_0x5989eb['atlasViewp'+'ort'];return s_['setViewpor'+'t'](_0x275348['x'],_0x275348['y'],_0x275348['z'],_0x275348['w']),_0x1b227c['mul2'](s_,t_),_0x1b227c;}};c(Qi,'pointLight'+'Rotations',[new se()['setFromEul'+'erAngles'](0x4d*0x47+-0x1*0x1327+-0x234,0xe6*0x26+0x534+-0xa1*0x3e,0xc04*-0x1+-0x1fb7+-0x2c6f*-0x1),new se()['setFromEul'+'erAngles'](-0x1145+0x1*-0x2176+0x25*0x15f,-(0x11*0x51+-0x1*0x1faf+0x2*0xd54),0x200a+0x74f*0x1+0x26a5*-0x1),new se()['setFromEul'+'erAngles'](0x17*-0x37+-0x1f36+0x59*0x69,0x229e+0xab0+0x1*-0x2d4e,-0x1ddc+-0x14dd+0x32b9),new se()['setFromEul'+'erAngles'](-(-0x3*-0x79b+0x4d7+-0x576*0x5),-0x13a3+-0x1752+0x2af5,0xf2c+0x6e*-0xf+-0x2*0x45d),new se()['setFromEul'+'erAngles'](0x1922+0x206c+-0x398e,0x3*0x767+0x427*-0x5+-0xbe,-0x221d+0x373*-0x1+0x2644),new se()['setFromEul'+'erAngles'](-0x1bc3+-0x18d1+0x3494,-0x1a64+-0x1114+0x6b*0x68,-0x1d3b+0x18e*-0x7+0x51*0x81)]),c(Qi,'_spotCooki'+'eCamera',null);let Ma=Qi;const i_=-0x658*0x4+-0x434*-0x5+0x45c+0.000001,Zt=new T(),xr=new Float32Array(-0xb37+-0x22d*0x1+-0x65*-0x22),mC=new T(-(0x2*-0xf7c+-0x1*-0xaf9+0x13ff*0x1+0.5),-0x2308+-0x223*0x1+-0x1*-0x252b,-0x189d+-0x64f+-0xf76*-0x2),_C=new T(-0x20ed*0x1+-0x1*0x264f+0x184*0x2f,0x20fe+0x2b3*-0x8+0x2*-0x5b3,-0xa9*-0x14+-0x20f+-0xb25+0.5),Sr={'FLAGS':0x0,'COLOR_A':0x1,'COLOR_B':0x2,'SPOT_ANGLES':0x3,'SHADOW_BIAS':0x4,'COOKIE_A':0x5,'COOKIE_B':0x6,'COUNT':0x7},lt={'POSITION_RANGE':0x0,'SPOT_DIRECTION':0x1,'PROJ_MAT_0':0x2,'ATLAS_VIEWPORT':0x2,'PROJ_MAT_1':0x3,'PROJ_MAT_2':0x4,'PROJ_MAT_3':0x5,'AREA_DATA_WIDTH':0x6,'AREA_DATA_HEIGHT':0x7,'COUNT':0x8};let vd;class E0{constructor(_0x2c1c4b){c(this,'areaLights'+'Enabled',!(-0x10c5+0x272*0xb+0x3*-0x360)),(this['device']=_0x2c1c4b,this['cookiesEna'+'bled']=!(0x2*-0x59+0xe2*-0xf+0xdf1),this['shadowsEna'+'bled']=!(-0x62f*0x1+0xec1*-0x1+0x14f1),this['areaLights'+'Enabled']=!(-0x24ea*-0x1+0x1894+0x9*-0x6d5),this['maxLights']=0xe60+0x4*0x46+-0xe79);const _0x46c6a7=Sr['COUNT'];this['lights8']=new Uint8ClampedArray((0x1374+0xbb7+-0x1f27)*_0x46c6a7*this['maxLights']),this['lightsText'+'ure8']=this['createText'+'ure'](this['device'],_0x46c6a7,this['maxLights'],Se,'LightsText'+'ure8'),this['_lightsTex'+'ture8Id']=this['device']['scope']['resolve']('lightsText'+'ure8');const _0xa6c5a6=lt['COUNT'];this['lightsFloa'+'t']=new Float32Array((-0x1*-0x141b+-0x19d+-0x2*0x93d)*_0xa6c5a6*this['maxLights']),this['lightsText'+'ureFloat']=this['createText'+'ure'](this['device'],_0xa6c5a6,this['maxLights'],Ke,'LightsText'+'ureFloat'),this['_lightsTex'+'tureFloatI'+'d']=this['device']['scope']['resolve']('lightsText'+'ureFloat'),this['invMaxColo'+'rValue']=0x1dc8+-0x26b1+-0x8e9*-0x1,this['invMaxAtte'+'nuation']=0x211c*0x1+-0x368*0x1+-0x1db4,this['boundsMin']=new T(),this['boundsDelt'+'a']=new T();}static['getShaderD'+'efines'](){const _0x10d6ad=(_0x5c8a3a,_0x507fa8)=>Object['keys'](_0x5c8a3a)['map'](_0x55fac6=>'#define\x20'+_0x507fa8+_0x55fac6+'\x20'+_0x5c8a3a[_0x55fac6])['join']('\x0a');return vd||(vd='\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10d6ad(Sr,'CLUSTER_TE'+'XTURE_8_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x10d6ad(lt,'CLUSTER_TE'+'XTURE_F_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')),vd;}['destroy'](){var _0xa71027,_0x33ca14;(_0xa71027=this['lightsText'+'ure8'])==null||_0xa71027['destroy'](),this['lightsText'+'ure8']=null,(_0x33ca14=this['lightsText'+'ureFloat'])==null||_0x33ca14['destroy'](),this['lightsText'+'ureFloat']=null;}['createText'+'ure'](_0x36b1ac,_0x487a5d,_0x162ef0,_0x15ae6d,_0x44c80a){return new he(_0x36b1ac,{'name':_0x44c80a,'width':_0x487a5d,'height':_0x162ef0,'mipmaps':!(-0x7*-0x56a+0xd*0x1c1+-0x3cb2),'format':_0x15ae6d,'addressU':ae,'addressV':ae,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1});}['setCompres'+'sionRanges'](_0x2d4ac8,_0x44ab55){this['invMaxColo'+'rValue']=(-0x3ec+-0xc13*-0x3+-0x204c)/_0x44ab55,this['invMaxAtte'+'nuation']=(-0x1e5*0x1+-0xbb3*0x2+0xca6*0x2)/_0x2d4ac8;}['setBounds'](_0x28e305,_0x259bd0){this['boundsMin']['copy'](_0x28e305),this['boundsDelt'+'a']['copy'](_0x259bd0);}['uploadText'+'ures'](){this['lightsText'+'ureFloat']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ureFloat']['unlock'](),this['lightsText'+'ure8']['lock']()['set'](this['lights8']),this['lightsText'+'ure8']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'ture8Id']['setValue'](this['lightsText'+'ure8']),this['_lightsTex'+'tureFloatI'+'d']['setValue'](this['lightsText'+'ureFloat']);}['getSpotDir'+'ection'](_0x1c165d,_0x546eca){_0x546eca['_node']['getWorldTr'+'ansform']()['getY'](_0x1c165d)['mulScalar'](-(-0x14e0+-0x13*0x11b+0x29e2)),_0x1c165d['normalize']();}['getLightAr'+'eaSizes'](_0x333456){const _0x18bcef=_0x333456['_node']['getWorldTr'+'ansform']();return _0x18bcef['transformV'+'ector'](mC,Zt),xr[0x3b6+0x134+-0x4ea]=Zt['x'],xr[-0x223*0x6+0x24ee+0x21*-0xbb]=Zt['y'],xr[0x1*-0x1feb+-0x2559*0x1+0x4546]=Zt['z'],_0x18bcef['transformV'+'ector'](_C,Zt),xr[0x1862+0x16*-0x1ac+-0x161*-0x9]=Zt['x'],xr[-0x1746+0x25cf+0x3*-0x4d7]=Zt['y'],xr[0x2635+-0xe44+-0x5fb*0x4]=Zt['z'],xr;}['addLightDa'+'taFlags'](_0x51534f,_0x338999,_0x244e60,_0x346870,_0x1c6535,_0x20556e){_0x51534f[_0x338999+(0x17*0x117+0x2*-0x11af+0xa4d)]=_0x346870?0x2*0x5a1+0x7*-0x21e+0x48f:0x179d+-0x1*0xb03+0x64d*-0x2,_0x51534f[_0x338999+(0x11f*0x9+0x1a73*0x1+-0xc7*0x2f)]=this['areaLights'+'Enabled']?_0x244e60['_shape']*(-0xb67+-0xb2b+0x2*0xb69):-0x3*-0xcfe+0x9f*0x25+-0x3df5,_0x51534f[_0x338999+(-0x27f+0x3a8+-0x127)]=_0x244e60['_falloffMo'+'de']*(0x26ec+0x559*0x5+-0x40aa),_0x51534f[_0x338999+(0x5+-0x81*0x3e+0x4*0x7cf)]=_0x1c6535?_0x20556e*(-0x10b5+0x784+0xa30):-0x1e60*-0x1+0x9bf+-0x281f;}['addLightDa'+'taColor'](_0xc55133,_0x208c50,_0x132814,_0x555f95){const _0x1e8e45=this['invMaxColo'+'rValue'],_0x385f5c=_0x132814['_colorLine'+'ar'];Wt['float2Byte'+'s'](_0x385f5c[-0x5*-0x43+0x1*-0xd9d+0x3f*0x32]*_0x1e8e45,_0xc55133,_0x208c50+(-0x155d+0x1*-0x6f5+0xa*0x2d5),-0x1*0x57a+-0x4be+0x1*0xa3a),Wt['float2Byte'+'s'](_0x385f5c[0x172d+0x65d+-0x1d89]*_0x1e8e45,_0xc55133,_0x208c50+(-0x331+0x222a+-0x1ef7*0x1),0x1892+0x736+-0x1*0x1fc6),Wt['float2Byte'+'s'](_0x385f5c[-0x6d*0xd+0x1a74+-0x14e9]*_0x1e8e45,_0xc55133,_0x208c50+(0x760+-0x2*-0x9bb+-0x1*0x1ad2),0x19bf+-0x498*0x3+0xbf5*-0x1),_0xc55133[_0x208c50+(-0x11f1+0x30d*0xb+-0x3e6*0x4)]=_0x555f95?0xaf7+0x1f45+-0x17*0x1cb:-0x2*0xfd+0x3c7*-0x5+-0x31*-0x6d;const _0x3b5796=!!(_0x132814['mask']&hs),_0x4173e5=!!(_0x132814['mask']&cr);_0xc55133[_0x208c50+(0xcb5+-0xe79+0x1cb)]=_0x3b5796&&_0x4173e5?-0x1e9f+-0x9*-0x3ab+-0x61*0x5:_0x4173e5?0x9ce+0x1559+-0x3c5*0x8:-0x3e*0x74+0x4d5*-0x3+-0x2a97*-0x1;}['addLightDa'+'taSpotAngl'+'es'](_0xaca982,_0x2a2b85,_0x2103c4){Wt['float2Byte'+'s'](_0x2103c4['_innerCone'+'AngleCos']*(-0x2684+0x5d+0x2627+0.5-i_)+(0x1941+-0xc*0xc1+-0x567*0x3+0.5),_0xaca982,_0x2a2b85+(-0x1*-0x461+0x1e73+-0x116a*0x2),-0x1c45+0x269a+0x3*-0x371),Wt['float2Byte'+'s'](_0x2103c4['_outerCone'+'AngleCos']*(0x13+0x1c5*-0x7+0xc50+0.5-i_)+(0xbe4+-0x293+0xf*-0x9f+0.5),_0xaca982,_0x2a2b85+(0x5*-0x22d+-0x1abc+0x259f*0x1),0x1f*-0x77+-0x23b2*0x1+0x1*0x321d);}['addLightDa'+'taShadowBi'+'as'](_0x5e44ba,_0x48b672,_0x59ffda){const _0x3c7172=_0x59ffda['getRenderD'+'ata'](null,0x41b*0x3+0x1c12+-0xd3*0x31),_0x1ed7b7=_0x59ffda['_getUnifor'+'mBiasValue'+'s'](_0x3c7172);Wt['float2Byte'+'sRange'](_0x1ed7b7['bias'],_0x5e44ba,_0x48b672,-(0x13*0x1fd+-0x1eda+-0x6ec),0x156c+0x5*-0x97+-0x1*0x1265,-0x141d+-0x17d5*0x1+-0x3a*-0xc2),Wt['float2Byte'+'s'](_0x1ed7b7['normalBias'],_0x5e44ba,_0x48b672+(-0x6ee*0x4+-0x11f1+0x2dab),0x1c01+0x2*0xc73+-0x4cf*0xb);}['addLightDa'+'taCookies'](_0x7f515a,_0x2eb163,_0x326bfa){const _0x4f496f=_0x326bfa['_cookieCha'+'nnel']==='rgb';if(_0x7f515a[_0x2eb163+(-0xd*0x143+0x16fc*-0x1+0xd21*0x3)]=Math['floor'](_0x326bfa['cookieInte'+'nsity']*(0x1*0x2353+0x5d6+0xc2*-0x35)),_0x7f515a[_0x2eb163+(-0x1fd2+-0x80b+-0x1*-0x27de)]=_0x4f496f?0x1dd6+-0x1ebc*0x1+0x1e5:-0x1810+-0xc65+0xc27*0x3,!_0x4f496f){const _0x36aa35=_0x326bfa['_cookieCha'+'nnel'];_0x7f515a[_0x2eb163+(-0x1c26*0x1+-0x1*0x56d+0x1*0x2197)]=_0x36aa35==='rrr'?0x19ff+-0x115c+0x146*-0x6:-0xf22+-0x236a+0x328c,_0x7f515a[_0x2eb163+(-0xa69+0x120c+0x6*-0x145)]=_0x36aa35==='ggg'?-0xeaa+-0x15e4+0x258d:-0xcf2+0x203e+-0x134c,_0x7f515a[_0x2eb163+(0x1*0x227a+-0x15*0x117+-0xb91)]=_0x36aa35==='bbb'?-0x1*0x244e+-0x1b8f+0x40dc:0xb29+0xcb7+0x4*-0x5f8,_0x7f515a[_0x2eb163+(-0x1f7*-0x1+-0x20*-0x8b+-0xc*0x19c)]=_0x36aa35==='aaa'?-0x2*0xf17+-0x20cd+0x3ffa*0x1:0xa4f+-0x2256+0x1807;}}['addLightDa'+'ta'](_0x12ecd1,_0xcd7359){const _0x1e4f44=_0x12ecd1['_type']===Re,_0x21f8fb=_0x12ecd1['atlasViewp'+'ortAllocat'+'ed'],_0x22bbaa=this['cookiesEna'+'bled']&&!!_0x12ecd1['_cookie']&&_0x21f8fb,_0x1ff300=this['areaLights'+'Enabled']&&_0x12ecd1['shape']!==yt,_0x2a1373=this['shadowsEna'+'bled']&&_0x12ecd1['castShadow'+'s']&&_0x21f8fb,_0x5c4835=_0x12ecd1['_node']['getPositio'+'n']();let _0x29a1c9=null,_0x180ef9=null;_0x1e4f44?_0x2a1373?_0x29a1c9=_0x12ecd1['getRenderD'+'ata'](null,0x261+-0x15a6+0x1*0x1345)['shadowMatr'+'ix']:_0x22bbaa&&(_0x29a1c9=Ma['evalSpotCo'+'okieMatrix'](_0x12ecd1)):(_0x2a1373||_0x22bbaa)&&(_0x180ef9=_0x12ecd1['atlasViewp'+'ort']);const _0x4e717c=this['lights8'],_0x14f606=_0xcd7359*this['lightsText'+'ure8']['width']*(-0x2*-0x109e+-0x1d89+-0x3af*0x1);this['addLightDa'+'taFlags'](_0x4e717c,_0x14f606+(-0xe70+0x1*-0x62+0xed6)*Sr['FLAGS'],_0x12ecd1,_0x1e4f44,_0x2a1373,_0x12ecd1['shadowInte'+'nsity']),this['addLightDa'+'taColor'](_0x4e717c,_0x14f606+(-0x8*0x243+0x210d+-0xef1)*Sr['COLOR_A'],_0x12ecd1,_0x22bbaa),_0x1e4f44&&this['addLightDa'+'taSpotAngl'+'es'](_0x4e717c,_0x14f606+(-0x40*-0x8f+-0x963+-0x5*0x545)*Sr['SPOT_ANGLE'+'S'],_0x12ecd1),_0x12ecd1['castShadow'+'s']&&this['addLightDa'+'taShadowBi'+'as'](_0x4e717c,_0x14f606+(-0x5*0x7a8+0x127+0x2525*0x1)*Sr['SHADOW_BIA'+'S'],_0x12ecd1),_0x22bbaa&&this['addLightDa'+'taCookies'](_0x4e717c,_0x14f606+(0x1638+-0x1*0xe11+0x1*-0x823)*Sr['COOKIE_A'],_0x12ecd1);const _0x2e93bf=this['lightsFloa'+'t'],_0x26f983=_0xcd7359*this['lightsText'+'ureFloat']['width']*(0x194a+-0x9f5+-0xf51);if(_0x2e93bf[_0x26f983+(-0x1a5e+0x14*0x125+0x37e)*lt['POSITION_R'+'ANGE']+(-0x146f+-0xbab+0x1*0x201a)]=_0x5c4835['x'],_0x2e93bf[_0x26f983+(0xa4*-0x1a+-0x2474+0x3520)*lt['POSITION_R'+'ANGE']+(-0xfc2+-0x1*-0x263f+-0x167c)]=_0x5c4835['y'],_0x2e93bf[_0x26f983+(-0x173a+-0x4d*-0x4a+0xfc)*lt['POSITION_R'+'ANGE']+(-0x11fc+0x2462+-0x4*0x499)]=_0x5c4835['z'],_0x2e93bf[_0x26f983+(0x4a7+0x2*0x1018+-0x24d3)*lt['POSITION_R'+'ANGE']+(-0xd*-0x13f+0x6a3*0x5+-0xb*0x47d)]=_0x12ecd1['attenuatio'+'nEnd'],_0x1e4f44&&(this['getSpotDir'+'ection'](Zt,_0x12ecd1),_0x2e93bf[_0x26f983+(0x139a+-0x3d*-0x43+-0x1df*0x13)*lt['SPOT_DIREC'+'TION']+(0x480+0x880+-0xd00)]=Zt['x'],_0x2e93bf[_0x26f983+(0x8d9+0x2*-0xba5+0xe75)*lt['SPOT_DIREC'+'TION']+(-0x115f*-0x1+0x108f+-0x21ed)]=Zt['y'],_0x2e93bf[_0x26f983+(-0x1079+0x3*0x13b+-0xd*-0xfc)*lt['SPOT_DIREC'+'TION']+(0xebc+-0x2ca*0xa+0x2a2*0x5)]=Zt['z']),_0x29a1c9){const _0x383ac0=_0x29a1c9['data'];for(let _0x3dcd82=-0x3e*-0x22+-0x1051*0x2+-0x2*-0xc33;_0x3dcd82<0xc1d+-0x332*0x5+0x14f*0x3;_0x3dcd82++)_0x2e93bf[_0x26f983+(0x1f1*0xd+0x54e+-0x1e87)*lt['PROJ_MAT_0']+_0x3dcd82]=_0x383ac0[_0x3dcd82];}if(_0x180ef9&&(_0x2e93bf[_0x26f983+(-0x24f8+-0x49*-0x5f+0x9e5)*lt['ATLAS_VIEW'+'PORT']+(0x1d2f+-0xbb*0x17+-0x2*0x631)]=_0x180ef9['x'],_0x2e93bf[_0x26f983+(0x6a0*-0x1+-0x520+0xbc4)*lt['ATLAS_VIEW'+'PORT']+(0x8ad*0x1+-0x2*-0x1d2+-0xc50)]=_0x180ef9['y'],_0x2e93bf[_0x26f983+(0xc4c+-0x6fb+-0x17*0x3b)*lt['ATLAS_VIEW'+'PORT']+(-0x1a11*0x1+0x1a2*0xb+0x81d)]=_0x180ef9['z']/(-0x2248+-0x4f*-0xb+-0x1*-0x1ee6)),_0x1ff300){const _0x34f0b6=this['getLightAr'+'eaSizes'](_0x12ecd1);_0x2e93bf[_0x26f983+(-0x22ff+-0x7d*-0x2b+0xe04*0x1)*lt['AREA_DATA_'+'WIDTH']+(-0x1924+-0x1a4e+0x893*0x6)]=_0x34f0b6[-0x226b+-0x1*0x208d+0x42f8],_0x2e93bf[_0x26f983+(0x7d8+0x9b3+-0x1187)*lt['AREA_DATA_'+'WIDTH']+(-0x925+0xd70+0x44a*-0x1)]=_0x34f0b6[0x7ee+-0xc22*0x1+0x435],_0x2e93bf[_0x26f983+(0x10ce+0x16d5+0x3*-0xd35)*lt['AREA_DATA_'+'WIDTH']+(-0x1*0x5cf+-0x47*-0x2c+-0x221*0x3)]=_0x34f0b6[-0x2356+-0x1*0x19ef+0x3d47],_0x2e93bf[_0x26f983+(-0x24fc+0x17b1+-0xd4f*-0x1)*lt['AREA_DATA_'+'HEIGHT']+(-0x1c2c+-0x1c2+-0x6*-0x4fd)]=_0x34f0b6[0x1*0x1742+-0x67d+0x6*-0x2cb],_0x2e93bf[_0x26f983+(0x8a9*0x1+0x1*0x2341+0x6*-0x751)*lt['AREA_DATA_'+'HEIGHT']+(-0x2*0x1105+-0xa81+0x2c8c)]=_0x34f0b6[0x19d5+0xbc*0x1b+0x267*-0x13],_0x2e93bf[_0x26f983+(-0x2*0xb47+0x1e46+0x3a*-0x22)*lt['AREA_DATA_'+'HEIGHT']+(0x6*0x250+0x18ae+-0x268c)]=_0x34f0b6[-0xad2*0x2+0x1468+-0x3*-0x6b];}}}const Ml=new T(),Pl=new T(),Rl=new T(),bd=new _e(),r_=-0x1c53*0x1+0x21d7*0x1+-0x584+0.000001,n_=0x32*0xc1+-0x2d*-0x4c+0x502*-0x7;class a_{constructor(){this['light']=null,this['min']=new T(),this['max']=new T();}}class zu{constructor(_0x3e2a43){c(this,'clusterTex'+'ture'),(this['device']=_0x3e2a43,this['name']='Untitled',this['reportCoun'+'t']=0x1d8b+0x23a8+-0x4133*0x1,this['boundsMin']=new T(),this['boundsMax']=new T(),this['boundsDelt'+'a']=new T(),this['_cells']=new T(-0xf38+-0x5*-0x194+-0x755*-0x1,-0x9d9+-0x7e7+0x11c1,0x41c*-0x1+-0x1fe7+0x39a*0xa),this['_cellsLimi'+'t']=new T(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=0x2*0x1a5+0x1c2c+-0x1f72,this['_maxAttenu'+'ation']=0x2575*0x1+-0x56*0x8+-0x22c5,this['_maxColorV'+'alue']=-0x15de+0x1*-0xec5+0x24a3,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new a_()),this['lightsBuff'+'er']=new E0(_0x3e2a43),this['registerUn'+'iforms'](_0x3e2a43));}set['maxCellLig'+'htCount'](_0x5d9c78){_0x5d9c78!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x5d9c78,this['_cellsDirt'+'y']=!(0x8ec+-0x79*-0x4f+-0x38f*0xd));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x32e70c){Ml['copy'](_0x32e70c)['floor'](),this['_cells']['equals'](Ml)||(this['_cells']['copy'](Ml),this['_cellsLimi'+'t']['copy'](Ml)['sub'](T['ONE']),this['_cellsDirt'+'y']=!(-0x31d*0x8+0xdcc+0x2c7*0x4));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x184dd6){this['_clusterSk'+'ipId']=_0x184dd6['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x184dd6['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x184dd6['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x184dd6['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(0x8*0x184+0x1c93+-0xf8*0x2a),this['_clusterBo'+'undsMinId']=_0x184dd6['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(0xc5*-0xd+0x3*-0x11e+0x1*0xd5e),this['_clusterBo'+'undsDeltaI'+'d']=_0x184dd6['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(0x197*-0x1+-0x2*0x1051+0x223c),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x184dd6['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(0x1f44+0x470*0x4+-0x9cd*0x5),this['_clusterCe'+'llsDotId']=_0x184dd6['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(-0x429+0xf38+0x1*-0xb0c),this['_clusterCe'+'llsMaxId']=_0x184dd6['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(-0x587+-0x17c5*0x1+0x1d4f),this['_clusterCo'+'mpressionL'+'imit0Id']=_0x184dd6['scope']['resolve']('clusterCom'+'pressionLi'+'mit0'),this['_clusterCo'+'mpressionL'+'imit0Data']=new Float32Array(0x7f5+-0x8c8+-0x1*-0xd5);}['updatePara'+'ms'](_0x53de84){_0x53de84&&(this['cells']=_0x53de84['cells'],this['maxCellLig'+'htCount']=_0x53de84['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x53de84['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x53de84['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x53de84['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(0x63a+-0x2*0x26b+0x1*-0x163);const _0x17f727=this['_cells']['x'],_0x359c09=this['_cells']['y'],_0x2f3671=this['_cells']['z'],_0x5f535d=_0x17f727*_0x359c09*_0x2f3671,_0x107a1c=this['maxCellLig'+'htCount']*_0x5f535d;let _0x541d3c=Math['ceil'](Math['sqrt'](_0x107a1c));_0x541d3c=N['roundUp'](_0x541d3c,this['maxCellLig'+'htCount']);const _0x4a38dd=Math['ceil'](_0x107a1c/_0x541d3c);v['assert'](_0x541d3c<=n_&&_0x4a38dd<=n_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][0xfc4+-0x367+-0xc5d]=_0x17f727,this['_clusterCe'+'llsMaxData'][0x1806+-0x3*0xa35+-0x2*-0x34d]=_0x359c09,this['_clusterCe'+'llsMaxData'][-0x41a+0x10a0+-0xc84]=_0x2f3671,this['_clusterCe'+'llsDotData'][0xef5+0x1e71+-0x2d66]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x1*-0x2358+-0xc95+0x1*0x2fee]=_0x17f727*_0x2f3671*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x157*-0x3+-0xe0*-0x28+-0x1ef9]=_0x17f727*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x107a1c),this['counts']=new Int32Array(_0x5f535d),this['_clusterTe'+'xtureSizeD'+'ata'][-0x9*0x221+0x7ae*0x4+-0xb8f]=_0x541d3c,this['_clusterTe'+'xtureSizeD'+'ata'][-0xc8b*-0x3+-0x35*0xa8+-0x1a*0x1c]=(-0x1105+-0x151*-0x5+-0x51*-0x21)/_0x541d3c,this['_clusterTe'+'xtureSizeD'+'ata'][0x108+-0xb7*0x6+0x344]=(-0x2*0x96a+0xd70+0x565)/_0x4a38dd,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x541d3c,_0x4a38dd,sp,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>-0x1*-0x179f+0x385+-0x1b23?0x1e26+-0xc89+-0x5df*0x3:-0xa0*0x33+0x10cb+0xf16),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0xdbf84b=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x547+0x10*-0x236+0x28a7*0x1]=this['_cells']['x']/_0xdbf84b['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0xc*-0x137+0xedf+0x2*-0xeb9]=this['_cells']['y']/_0xdbf84b['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0xe*0x269+0x235*0x7+-0x124d*-0x1]=this['_cells']['z']/_0xdbf84b['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][0x2*0xc23+0x2*-0x1036+0x826]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][0x2e*0x47+0x1c9d+0xa*-0x423]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][0x48a*0x3+0xb57+-0x18f3]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][0xa57+-0x36*-0x7a+-0x2413]=_0xdbf84b['x'],this['_clusterBo'+'undsDeltaD'+'ata'][0x1*-0xb99+-0x1eb1+0x1*0x2a4b]=_0xdbf84b['y'],this['_clusterBo'+'undsDeltaD'+'ata'][0x1eea+-0x113b+-0xdad]=_0xdbf84b['z'],this['_clusterCo'+'mpressionL'+'imit0Data'][-0x3f4+0x1636+-0x3*0x616]=this['_maxAttenu'+'ation'],this['_clusterCo'+'mpressionL'+'imit0Data'][-0x1628+0x2551+-0x5*0x308]=this['_maxColorV'+'alue'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']),this['_clusterCo'+'mpressionL'+'imit0Id']['setValue'](this['_clusterCo'+'mpressionL'+'imit0Data']);}['evalLightC'+'ellMinMax'](_0x2fa5bb,_0x5a827c,_0x5168c3){_0x5a827c['copy'](_0x2fa5bb['min']),_0x5a827c['sub'](this['boundsMin']),_0x5a827c['div'](this['boundsDelt'+'a']),_0x5a827c['mul2'](_0x5a827c,this['cells']),_0x5a827c['floor'](),_0x5168c3['copy'](_0x2fa5bb['max']),_0x5168c3['sub'](this['boundsMin']),_0x5168c3['div'](this['boundsDelt'+'a']),_0x5168c3['mul2'](_0x5168c3,this['cells']),_0x5168c3['ceil'](),_0x5a827c['max'](T['ZERO']),_0x5168c3['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x31bee4){const _0x3d2363=this['lightsBuff'+'er']['maxLights'],_0x257359=this['_usedLight'+'s'];let _0x2dc22f=-0x1196+0xa3*0xd+0x950;_0x31bee4['forEach'](_0x41ae8a=>{const _0x27f5aa=!!(_0x41ae8a['mask']&(hs|cr)),_0x5556ee=_0x41ae8a['type']===Re&&_0x41ae8a['_outerCone'+'Angle']===-0x95*-0x37+0x1f88+-0x1*0x3f8b;if(_0x41ae8a['enabled']&&_0x41ae8a['type']!==oe&&_0x41ae8a['visibleThi'+'sFrame']&&_0x41ae8a['intensity']>0x2b*0x4+0x1f+0x1*-0xcb&&_0x27f5aa&&!_0x5556ee){if(_0x2dc22f<_0x3d2363){let _0x112623;_0x2dc22f<_0x257359['length']?_0x112623=_0x257359[_0x2dc22f]:(_0x112623=new a_(),_0x257359['push'](_0x112623)),_0x112623['light']=_0x41ae8a,_0x41ae8a['getBoundin'+'gBox'](bd),_0x112623['min']['copy'](bd['getMin']()),_0x112623['max']['copy'](bd['getMax']()),_0x2dc22f++;}else v['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x3d2363-(-0x4*0x7e5+0x16d3+0x8c2*0x1))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x257359['length']=_0x2dc22f;}['evaluateBo'+'unds'](){const _0x54240b=this['_usedLight'+'s'],_0x10c243=this['boundsMin'],_0x29fbfb=this['boundsMax'];if(_0x54240b['length']>-0x15*-0xa3+-0x901*-0x2+-0x20*0xfb){_0x10c243['copy'](_0x54240b[-0xdeb+0x1ac8+0x4*-0x337]['min']),_0x29fbfb['copy'](_0x54240b[-0x5*0x21a+0x267b*-0x1+0x2*0x187f]['max']);for(let _0x4c574e=-0x21+-0x6a7*-0x1+-0x2*0x342;_0x4c574e<_0x54240b['length'];_0x4c574e++)_0x10c243['min'](_0x54240b[_0x4c574e]['min']),_0x29fbfb['max'](_0x54240b[_0x4c574e]['max']);}else _0x10c243['set'](0x26f5*0x1+-0x230*-0x2+0x1*-0x2b55,-0x247f+-0x2391+-0x10*-0x481,0x97*0x9+-0xac3+0x2*0x2ba),_0x29fbfb['set'](-0x56e*0x1+-0x1e65+0x23d4,-0x1acd*0x1+-0x196d+0x343b,0x77c*0x3+0x873*-0x1+-0x7*0x200);this['boundsDelt'+'a']['sub2'](_0x29fbfb,_0x10c243),this['lightsBuff'+'er']['setBounds'](_0x10c243,this['boundsDelt'+'a']);}['evaluateCo'+'mpressionL'+'imits'](){let _0x38f328=-0x2370+-0x1*0x1d95+0x4105,_0x4b1c6d=-0x8c2*-0x3+-0x235b+0x915;const _0x1ac9b4=this['_usedLight'+'s'];for(let _0x4cc7d9=-0x93*-0x23+-0x2a6+-0x1172;_0x4cc7d9<_0x1ac9b4['length'];_0x4cc7d9++){const _0x41e00c=_0x1ac9b4[_0x4cc7d9]['light'];_0x38f328=Math['max'](_0x41e00c['attenuatio'+'nEnd'],_0x38f328);const _0x1d22b9=_0x41e00c['_colorLine'+'ar'];_0x4b1c6d=Math['max'](_0x1d22b9[-0x1f8*0xa+0xdb8*-0x1+-0x42d*-0x8],_0x4b1c6d),_0x4b1c6d=Math['max'](_0x1d22b9[-0x2275+0x154+0x1*0x2122],_0x4b1c6d),_0x4b1c6d=Math['max'](_0x1d22b9[0x21a3+0x157+-0x22f8],_0x4b1c6d);}this['_maxAttenu'+'ation']=_0x38f328+r_,this['_maxColorV'+'alue']=_0x4b1c6d+r_,this['lightsBuff'+'er']['setCompres'+'sionRanges'](this['_maxAttenu'+'ation'],this['_maxColorV'+'alue']);}['updateClus'+'ters'](_0x434b75){this['counts']['fill'](-0x14d6+0x76*0x3d+-0x748),this['clusters']['fill'](-0x20d3*-0x1+-0xc20+-0x14b3),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x434b75?_0x434b75['areaLights'+'Enabled']:!(0x22c4+-0x2*0x32d+0x7*-0x40f);const _0x97eaea=this['_cells']['x'],_0x42cb1e=this['_cells']['z'],_0x141e95=this['counts'],_0x30ae7c=this['_maxCellLi'+'ghtCount'],_0x24f9c8=this['clusters'],_0x1f165e=this['maxCellLig'+'htCount'];let _0x37bb7b=!(-0x1da*0x6+-0x1b55+0x2672);const _0x33db6d=this['_usedLight'+'s'];for(let _0x2762ce=-0x1*-0x59c+0x140c+0x1*-0x19a7;_0x2762ce<_0x33db6d['length'];_0x2762ce++){const _0x129541=_0x33db6d[_0x2762ce],_0x26b3b4=_0x129541['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x26b3b4,_0x2762ce),this['evalLightC'+'ellMinMax'](_0x129541,Pl,Rl);const _0x41c9db=Pl['x'],_0x1726aa=Rl['x'],_0xeb996a=Pl['y'],_0x53c60d=Rl['y'],_0x39eb77=Pl['z'],_0x4f07f7=Rl['z'];for(let _0x337712=_0x41c9db;_0x337712<=_0x1726aa;_0x337712++)for(let _0x44238b=_0x39eb77;_0x44238b<=_0x4f07f7;_0x44238b++)for(let _0x550914=_0xeb996a;_0x550914<=_0x53c60d;_0x550914++){const _0x3ab5e8=_0x337712+_0x97eaea*(_0x44238b+_0x550914*_0x42cb1e),_0x57a777=_0x141e95[_0x3ab5e8];_0x57a777<_0x30ae7c?(_0x24f9c8[_0x1f165e*_0x3ab5e8+_0x57a777]=_0x2762ce,_0x141e95[_0x3ab5e8]=_0x57a777+(0x7*0x12d+-0x10e3+-0x8a9*-0x1)):_0x37bb7b=!(-0x12f1+-0x6*0x634+0x3829);}}_0x37bb7b&&this['reportCoun'+'t']<-0x3*0xc55+0x77+0x248d&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===-0x12ef+0x1*-0x1ee3+0x31d6?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x7572d7,_0x3c6d8a=null){this['updatePara'+'ms'](_0x3c6d8a),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x7572d7),this['evaluateBo'+'unds'](),this['evaluateCo'+'mpressionL'+'imits'](),this['updateClus'+'ters'](_0x3c6d8a),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const o_=0x3*-0x355+0x17af+-0xdae+0.39996322972865306,ll={'circlePoint'(_0x1dcccf){const _0x56c209=Math['sqrt'](Math['random']()),_0x2bec92=Math['random']()*(-0x22d4+0x3*-0x4d2+0x314c)*Math['PI'];_0x1dcccf['x']=_0x56c209*Math['cos'](_0x2bec92),_0x1dcccf['y']=_0x56c209*Math['sin'](_0x2bec92);},'circlePointDeterministic'(_0x2445a1,_0x487b0b,_0x49b555){const _0x1eac38=_0x487b0b*o_,_0x13f9a9=Math['sqrt'](_0x487b0b)/Math['sqrt'](_0x49b555);_0x2445a1['x']=_0x13f9a9*Math['cos'](_0x1eac38),_0x2445a1['y']=_0x13f9a9*Math['sin'](_0x1eac38);},'spherePointDeterministic'(_0x1de53d,_0x52735d,_0xc68858,_0x1d9624=-0x1*-0xf62+0x2*0xb03+-0xab*0x38,_0x12584f=-0x2*0x1032+-0x6fb+0x2760){_0x1d9624=0x23ed+0x7*-0x8+-0x2*0x11da-(-0x1583*-0x1+0x35*-0x28+0x5*-0x2a5)*_0x1d9624,_0x12584f=0x11c*0x14+0x13*0x189+-0x335a-(0x1ea3+-0x1518+0x989*-0x1)*_0x12584f;const _0x419c6b=N['lerp'](_0x1d9624,_0x12584f,_0x52735d/_0xc68858),_0x3b9e5b=Math['sqrt'](0x930+0x167c*0x1+0x43*-0x79-_0x419c6b*_0x419c6b),_0x2033b6=o_*_0x52735d;_0x1de53d['x']=Math['cos'](_0x2033b6)*_0x3b9e5b,_0x1de53d['y']=_0x419c6b,_0x1de53d['z']=Math['sin'](_0x2033b6)*_0x3b9e5b;},'radicalInverse'(_0x17d69b){let _0x2e8072=(_0x17d69b<<0x1fd1+0x1*-0x2363+-0x3e*-0xf|_0x17d69b>>>-0x1*0x11c3+0x196d+0x8b*-0xe)>>>-0x1fc*-0x13+0x2300+-0x48b4;return _0x2e8072=((_0x2e8072&-0x6b3f814d+0x86e0e3c9*0x1+-0x3b3*-0xf9943)<<-0x682+0x420+0x263|(_0x2e8072&0xf99e9852+0x19e4*0x5a770+-0xe156fd68)>>>-0x9c8*-0x1+0xae4+-0x14ab)>>>-0x49*0x4f+-0x337*0x7+0x2d08,_0x2e8072=((_0x2e8072&0x47*-0x1046df0+0x167cb56e+-0xb*-0x92d2e1f)<<-0x67*0x2+0x219d+-0x20cd|(_0x2e8072&0x17f4c1ea+0x9*-0x1cd7dcdb+0x1b86ece95)>>>-0x1ff*0x9+0x23*0x106+-0x11d9)>>>-0x3*-0x79a+0x19bb+-0x3089,_0x2e8072=((_0x2e8072&0x49*0x4409ff+-0xb4f5c50+0x155c3*0x538)<<-0x1c8e+0xc12*0x2+0x46e|(_0x2e8072&0x10d2bbfd2+-0x9a34a5*0x259+0x3*0x6f439829)>>>0x1759*0x1+0x1b77+-0x2*0x1966)>>>-0x1326+0x1e47+-0xb21,_0x2e8072=((_0x2e8072&0x11*-0x2cc2e+0x1a4b3a2*-0x1+0x2d343af)<<-0x1e99+-0x1*0x2399+0x423a|(_0x2e8072&-0x115dd340f+0x1d832d4fa*-0x1+-0x34e5f2f3*-0x13)>>>0x1de6+-0xb95+-0x1249*0x1)>>>0x1a0*0x11+0x17e*0xa+-0x2a8c,_0x2e8072*(0x16a7+0x15b7+0x6*-0x765+2.3283064365386963e-10);}},gC={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP'},yC={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Es{static['decodeFunc'](_0x465da3){return gC[_0x465da3]||'decodeGamm'+'a';}static['encodeFunc'](_0xc1f66a){return yC[_0xc1f66a]||'encodeGamm'+'a';}static['getScreenD'+'epthChunk'](_0x14d6cc,_0x1e12a0){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+(_0x1e12a0['sceneDepth'+'MapLinear']?'#define\x20SC'+'ENE_DEPTHM'+'AP_LINEAR':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x14d6cc['textureFlo'+'atRenderab'+'le']?'#define\x20SC'+'ENE_DEPTHM'+'AP_FLOAT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+X['screenDept'+'hPS']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}const l_=_0x1e4694=>{switch(_0x1e4694){case Au:return'Cubemap';case QS:return'Octahedral';default:return'Equirect';}},Il=(_0x4f0ddb,_0x17798a,_0x373d90)=>{if(_0x4f0ddb<=0x130e+-0x7da+-0x4*0x2cd)_0x17798a[_0x373d90+(-0x6e9+0x2e*0xb+0x4ef)]=-0x1d52+0x324+0x1a2e,_0x17798a[_0x373d90+(0x22ee+-0x1*-0x2e7+0x9*-0x434)]=-0x10d+-0x1d4f+-0x43*-0x74,_0x17798a[_0x373d90+(0x25*-0x3+0x221c+0xb39*-0x3)]=0xd84+-0x90+-0x2*0x67a,_0x17798a[_0x373d90+(0x1*0x11ba+0xd99*-0x2+0x97b)]=-0xb41+-0xa6f*0x3+0x2a8e;else{if(_0x4f0ddb>=-0xf*-0x17c+-0x6c6+-0xf7d)_0x17798a[_0x373d90+(-0x1899+0x473*-0x1+0x1d0c)]=0x194e+-0x131e*0x2+0xded,_0x17798a[_0x373d90+(0x227*0xb+0x2421+-0x3bcd)]=-0xe45+0xaea+0x35b,_0x17798a[_0x373d90+(0x1319+-0x2032+0x29f*0x5)]=0x1c57+-0xf1*0x17+-0x6b0,_0x17798a[_0x373d90+(0x1*-0x1f39+0x19b3+0x589)]=-0x1*0x183b+0x2a3*-0x4+-0x1*-0x22c7;else{let _0x33e52a=(-0x1*-0xd45+-0x2683+0x193f)*_0x4f0ddb%(0x6ab*0x3+0x10*0xb3+-0x2*0xf98),_0x2cefa2=(-0xb0f+-0x1*-0xd8a+-0x17c)*_0x4f0ddb%(0x359*-0x5+0x137b*0x1+-0x1*0x2bd),_0x284abd=(0x147c7+-0x3fb8+-0xa0e)*_0x4f0ddb%(0x347*-0x1+-0x1*-0x4e1+-0x199*0x1);const _0x5e19f5=(-0x1308b2b+0x118935f+0x3*0x5c5399)*_0x4f0ddb%(0xba+0x1*-0x1d55+0x1c9c);_0x33e52a-=_0x2cefa2/(-0x2*-0x504+-0x267*0xb+0x1164),_0x2cefa2-=_0x284abd/(0xeb3+0xd34+-0x1ae8),_0x284abd-=_0x5e19f5/(0x1d44+-0x15e3+0x2*-0x331),_0x17798a[_0x373d90+(-0x1*-0x16c3+0x2573*-0x1+0xeb0)]=Math['min'](-0x7a*-0x26+0x1*0x20fd+-0x321a,Math['floor'](_0x33e52a*(-0x1*0x1aab+0x6b0*0x4+0x2f*0x5))),_0x17798a[_0x373d90+(-0x14a2+0x6ef*-0x1+0x1b92)]=Math['min'](0x7*0x175+0x99a+-0x12ce,Math['floor'](_0x2cefa2*(0x428+-0x1*-0x1c6f+-0x1f97))),_0x17798a[_0x373d90+(0x24a7*-0x1+-0x2*-0x135d+0x17*-0x17)]=Math['min'](0x36*-0xa2+0x2257+0xd4,Math['floor'](_0x284abd*(-0x106+0x4*-0x213+0xa52))),_0x17798a[_0x373d90+(0x8b+-0x105a+0x51*0x32)]=Math['min'](0x16f3+0x832+-0x2*0xf13,Math['floor'](_0x5e19f5*(-0x5*-0x383+0x1e7a+0x2f09*-0x1)));}}},xC=_0x534990=>{const _0x483a7b=_0x534990['length'],_0x38e338=Math['min'](_0x483a7b,0x2160+-0x3*-0x8e5+-0x3a0f),_0x5ceddf=Math['ceil'](_0x483a7b/_0x38e338),_0x5502fc=new Uint8Array(_0x38e338*_0x5ceddf*(-0x2462+-0xe7*-0xd+0x18ab));let _0x13bff0=0x1bf1*-0x1+0x11ea+0xa07;for(let _0x14402c=0x8*0x495+-0xb36+-0x2*0xcb9;_0x14402c<_0x483a7b;_0x14402c+=0x1d*0x105+0x8f*0x25+-0x3238)Il(_0x534990[_0x14402c+(0x1cc+-0x1*0x446+-0x1*-0x27a)]*(0xd13+0x22cc+-0x2fdf+0.5)+(0x1d*-0x76+0x2074+-0x1316+0.5),_0x5502fc,_0x13bff0+(0xa*0x23c+0x1aa3*-0x1+0x44b)),Il(_0x534990[_0x14402c+(0x17*0xcb+0x12d3+-0x250f)]*(-0x16d6+0x1*0x11de+0x4f8+0.5)+(-0x617+0x11c0+-0xba9+0.5),_0x5502fc,_0x13bff0+(-0x101*-0x7+0x4dd+-0xbe0)),Il(_0x534990[_0x14402c+(0x1306+-0x15b*-0x13+-0x2cc5*0x1)]*(0x24b3+0x1*0xba2+-0x3055+0.5)+(0x1cc4+0x1521+0xf1*-0x35+0.5),_0x5502fc,_0x13bff0+(-0x15*-0x1bb+0x25f6+-0x4a45)),Il(_0x534990[_0x14402c+(0x3*-0xb53+0x250+0x1fac)]/(0xb7a+0x1e57*-0x1+0x12e5),_0x5502fc,_0x13bff0+(-0xacf+0x1*0x2333+-0xc2c*0x2)),_0x13bff0+=0x200d+0xa*0x383+0x1a3*-0x29;return{'width':_0x38e338,'height':_0x5ceddf,'data':_0x5502fc};},SC=(_0x37390c,_0x5a85bf,_0x20568b,_0x524592)=>{const _0x31547b=_0x20568b*(-0x1b4*-0x8+0x7f8+-0x1596)*Math['PI'],_0x17a819=Math['pow'](-0x1*-0x15af+0x18e9+-0x2e97-_0x5a85bf,(0xc85+0x13d6+0x102d*-0x2)/(_0x524592+(-0x25cd+-0x1190+0x375e))),_0x15ba23=Math['sqrt'](0x1ab*-0xb+-0x1*-0x127f+0x1*-0x25-_0x17a819*_0x17a819);_0x37390c['set'](Math['cos'](_0x31547b)*_0x15ba23,Math['sin'](_0x31547b)*_0x15ba23,_0x17a819)['normalize']();},vC=(_0x1cf4d0,_0x3f2424,_0x402019)=>{const _0x162c31=_0x402019*(-0x1*0x1265+-0x94*-0x2+0x113f*0x1)*Math['PI'],_0x3ed5dd=Math['sqrt'](-0x3*0x92c+-0x21c4+-0x21d*-0x1d-_0x3f2424),_0x136eca=Math['sqrt'](_0x3f2424);_0x1cf4d0['set'](Math['cos'](_0x162c31)*_0x136eca,Math['sin'](_0x162c31)*_0x136eca,_0x3ed5dd)['normalize']();},bC=(_0x2f2927,_0x5d6193,_0x117681,_0x6dcd75)=>{const _0x5b9e30=_0x117681*(-0x252b+-0x61*0x11+0x2b9e)*Math['PI'],_0x114af6=Math['sqrt']((-0x1d14*-0x1+-0x2*0x329+0x5*-0x48d-_0x5d6193)/(0x2*-0xb01+-0x2*0x250+0x8e1*0x3+(_0x6dcd75*_0x6dcd75-(0x1d87+-0xa3d+0x1349*-0x1))*_0x5d6193)),_0x4df3a9=Math['sqrt'](-0x18da+-0x317+0x1bf2-_0x114af6*_0x114af6);_0x2f2927['set'](Math['cos'](_0x5b9e30)*_0x4df3a9,Math['sin'](_0x5b9e30)*_0x4df3a9,_0x114af6)['normalize']();},wC=(_0x86dc65,_0x523a3a)=>{const _0x14f4d7=_0x86dc65*_0x523a3a,_0x176e00=_0x523a3a/(-0x1*-0x1f75+-0x4*0x92a+0x534-_0x86dc65*_0x86dc65+_0x14f4d7*_0x14f4d7);return _0x176e00*_0x176e00*((0xe*0x1d+-0x4*-0x8d9+-0x24f9)/Math['PI']);},TC=(_0x18ffd7,_0x351cef)=>{const _0x35548a=new T(),_0x5f5d45=[];for(let _0x5d858b=-0x1165+-0xc9d*-0x2+0x5*-0x191;_0x5d858b<_0x18ffd7;++_0x5d858b)SC(_0x35548a,_0x5d858b/_0x18ffd7,ll['radicalInv'+'erse'](_0x5d858b),_0x351cef),_0x5f5d45['push'](_0x35548a['x'],_0x35548a['y'],_0x35548a['z'],0x98c+0x1e1c+-0x1a7*0x18);return _0x5f5d45;},AC=(_0x14074e,_0x541e4a)=>{const _0x4a5c84=_0x541e4a/_0x14074e,_0x3183a5=new T(),_0x2e8ea0=[];for(let _0x24149f=0x65b+0xf2*-0x16+0xe71;_0x24149f<_0x14074e;++_0x24149f){vC(_0x3183a5,_0x24149f/_0x14074e,ll['radicalInv'+'erse'](_0x24149f));const _0x254c69=_0x3183a5['z']/Math['PI'],_0x259e37=(0x1*-0x21fe+-0x3aa*0x8+0xdb*0x4a+0.5)*Math['log2'](_0x4a5c84/_0x254c69);_0x2e8ea0['push'](_0x3183a5['x'],_0x3183a5['y'],_0x3183a5['z'],_0x259e37);}return _0x2e8ea0;},EC={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},CC=(_0x4f0f56,_0x4da561)=>{const _0x266426=EC[_0x4f0f56];return _0x266426&&_0x266426[_0x4da561]||_0x4f0f56;},MC=(_0x16c14e,_0x388bf2,_0x1d550d)=>{const _0x269dff=_0x1d550d/_0x16c14e,_0x4a1d0c=-0x1297+-0x4*-0x7dc+-0x18*0x89-Math['log2'](_0x388bf2)/(-0x87b*0x1+-0x255a+0x16f*0x20),_0xf23033=_0x4a1d0c*_0x4a1d0c,_0x39cfbe=new T(),_0x316cdb=new T(),_0x369397=new T(0x5*0x34+0x3e*-0x2d+-0x2e*-0x37,-0x1c4c+0x1*0x1fd0+-0x2d*0x14,-0x4*0xfb+-0xea0+0x128d),_0x1f8824=[],_0x5d834=CC(_0x16c14e,_0x388bf2);for(let _0x209b16=0x1*-0x10f3+-0x17bc+-0x1*-0x28af;_0x209b16<_0x5d834;++_0x209b16){bC(_0x39cfbe,_0x209b16/_0x5d834,ll['radicalInv'+'erse'](_0x209b16),_0xf23033);const _0x108103=_0x39cfbe['z'];if(_0x316cdb['set'](_0x39cfbe['x'],_0x39cfbe['y'],_0x39cfbe['z'])['mulScalar']((-0x1ace+-0x2*-0x311+0x14ae)*_0x108103)['sub'](_0x369397),_0x316cdb['z']>-0x1*0xa9c+-0xc85*-0x3+-0x1af3*0x1){const _0x1d9b2e=wC(Math['min'](0x21f5*-0x1+-0xbec+0x347*0xe,_0x108103),_0xf23033)/(0x11eb+0x230f+-0x34f6*0x1)+(0x161b+0x67*0x2c+0x27cf*-0x1+0.001),_0x4d9b99=(0x188d*-0x1+0xd76*-0x1+0x2603+0.5)*Math['log2'](_0x269dff/_0x1d9b2e);_0x1f8824['push'](_0x316cdb['x'],_0x316cdb['y'],_0x316cdb['z'],_0x4d9b99);}}for(;_0x1f8824['length']<_0x16c14e*(-0x22e4+0xc49+0x169f);)_0x1f8824['push'](0x122b+-0x1a91+0x2b*0x32,0x1b5*-0x5+-0x1*-0xf17+0x347*-0x2,-0x1*0x22e7+-0x1*0x2680+0x13*0x3dd,0x1046+0x42a+-0x1470);return _0x1f8824;},PC=(_0x1d81b4,_0x329cb0,_0x454b03)=>{const _0xb9c14a=xC(_0x454b03);return new he(_0x1d81b4,{'name':_0x329cb0,'width':_0xb9c14a['width'],'height':_0xb9c14a['height'],'mipmaps':!(-0x5ad*0x1+-0x18fd+0x1eab),'minFilter':de,'magFilter':de,'levels':[_0xb9c14a['data']]});};class C0{constructor(_0x153057=!(-0x2*-0xc88+0xcc2*-0x3+0xd36)){c(this,'map',new Map()),this['destroyCon'+'tent']=_0x153057;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x475686,_0x2fbc7f)=>{_0x475686['destroy']();});}['get'](_0x4041a8,_0x4c9b6a){if(!this['map']['has'](_0x4041a8)){const _0x10051c=_0x4c9b6a();return this['map']['set'](_0x4041a8,_0x10051c),_0x10051c;}return this['map']['get'](_0x4041a8);}}const RC=new C0(!(-0x2065*0x1+0x1011+0x1055)),IC=new Ot(),Lp=(_0x3dd1a5,_0x599f9a,_0x505ba7)=>IC['get'](_0x3dd1a5,()=>new C0())['get'](_0x599f9a,()=>PC(_0x3dd1a5,_0x599f9a,RC['get'](_0x599f9a,_0x505ba7))),DC=(_0x3a4f8b,_0x4ffbb3,_0xef670f)=>{const _0x4769fb='lambert-sa'+'mples-'+_0x4ffbb3+'-'+_0xef670f;return Lp(_0x3a4f8b,_0x4769fb,()=>AC(_0x4ffbb3,_0xef670f));},LC=(_0x4ddc1c,_0x4cd1b8,_0x37402b)=>{const _0x36fbfb='phong-samp'+'les-'+_0x4cd1b8+'-'+_0x37402b;return Lp(_0x4ddc1c,_0x36fbfb,()=>TC(_0x4cd1b8,_0x37402b));},FC=(_0x200fcb,_0x15356c,_0x50d097,_0x235f2b)=>{const _0x9c0830='ggx-sample'+'s-'+_0x15356c+'-'+_0x50d097+'-'+_0x235f2b;return Lp(_0x200fcb,_0x9c0830,()=>MC(_0x15356c,_0x50d097,_0x235f2b));},OC='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0aunifor'+'m\x20vec4\x20uvM'+'od;\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20vU'+'v0\x20=\x20getIm'+'ageEffectU'+'V((vertex_'+'position.x'+'y\x20*\x200.5\x20+\x20'+'0.5)\x20*\x20uvM'+'od.xy\x20+\x20uv'+'Mod.zw);\x0a}'+'\x0a';function Qs(_0x59008b,_0x1e48c2,_0x2e1d20={}){var _0x1337f0,_0x811e7f;v['assert'](_0x59008b instanceof he&&_0x1e48c2 instanceof he,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x350fc6=_0x2e1d20['seamPixels']??0x1d39+0xcdc+0x201*-0x15,_0x19359e=(((_0x1337f0=_0x2e1d20['rect'])==null?void(0x26c9+-0x13aa+-0x131f):_0x1337f0['z'])??_0x1e48c2['width'])-_0x350fc6*(0x1e08+0x7*-0x457+-0x7*-0xd),_0x15d842=(((_0x811e7f=_0x2e1d20['rect'])==null?void(0xf1*-0x23+-0x59b*-0x4+0xa87):_0x811e7f['w'])??_0x1e48c2['height'])-_0x350fc6*(0x287*0xd+-0x1388+0x1*-0xd51);if(_0x19359e<0x2*-0xef7+-0x212a+-0x1*-0x3f19||_0x15d842<-0xd61+0x1641+0x2f5*-0x3)return!(-0xdfa+-0x17d9+0x2*0x12ea);const _0x3d8e1b={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x481de7=_0x2e1d20['hasOwnProp'+'erty']('specularPo'+'wer')?_0x2e1d20['specularPo'+'wer']:-0x1*0x169f+0x11e9+0x11*0x47,_0x1f644a=_0x2e1d20['hasOwnProp'+'erty']('face')?_0x2e1d20['face']:null,_0x8efe35=_0x2e1d20['hasOwnProp'+'erty']('distributi'+'on')?_0x2e1d20['distributi'+'on']:_0x481de7===-0x1a9+0x16d1+0x1527*-0x1?'none':'phong',_0x2de563=_0x3d8e1b[_0x8efe35]||'reproject',_0x5475e5=_0x2de563['startsWith']('prefilterS'+'amples'),_0x3786d5=Es['decodeFunc'](_0x59008b['encoding']),_0x9ffa6b=Es['encodeFunc'](_0x1e48c2['encoding']),_0x5ddb12='sample'+l_(_0x59008b['projection']),_0x285d29='getDirecti'+'on'+l_(_0x1e48c2['projection']),_0x1a8841=_0x2e1d20['hasOwnProp'+'erty']('numSamples')?_0x2e1d20['numSamples']:0x2631+0x3*-0xbab+-0x34*-0x4,_0x414aff=_0x2de563+'_'+_0x3786d5+'_'+_0x9ffa6b+'_'+_0x5ddb12+'_'+_0x285d29+'_'+_0x1a8841,_0x269c3f=_0x59008b['device'];let _0x26182d=ka(_0x269c3f)['getCachedS'+'hader'](_0x414aff);if(!_0x26182d){const _0x229fa7='#define\x20PR'+'OCESS_FUNC'+'\x20'+_0x2de563+'\x0a'+(_0x5475e5?'#define\x20US'+'E_SAMPLES_'+'TEX\x0a':'')+(_0x59008b['cubemap']?'#define\x20CU'+'BEMAP_SOUR'+'CE\x0a':'')+('#define\x20DE'+'CODE_FUNC\x20')+_0x3786d5+('\x0a#define\x20E'+'NCODE_FUNC'+'\x20')+_0x9ffa6b+('\x0a#define\x20S'+'OURCE_FUNC'+'\x20')+_0x5ddb12+('\x0a#define\x20T'+'ARGET_FUNC'+'\x20')+_0x285d29+('\x0a#define\x20N'+'UM_SAMPLES'+'\x20')+_0x1a8841+('\x0a#define\x20N'+'UM_SAMPLES'+'_SQRT\x20')+Math['round'](Math['sqrt'](_0x1a8841))['toFixed'](-0x17e*0x11+0x7*-0x427+0x3670)+'\x0a';_0x26182d=Is(_0x269c3f,OC,_0x229fa7+'\x0a'+X['reprojectP'+'S'],_0x414aff);}G['pushGpuMar'+'ker'](_0x269c3f,'ReprojectT'+'exture'),_0x269c3f['setBlendSt'+'ate'](_t['NOBLEND']);const _0x409946=_0x269c3f['scope']['resolve'](_0x59008b['cubemap']?'sourceCube':'sourceTex');v['assert'](_0x409946),_0x409946['setValue'](_0x59008b);const _0x24878a=_0x269c3f['scope']['resolve']('params'),_0x34ed73=_0x269c3f['scope']['resolve']('uvMod');_0x350fc6>0x5bf*-0x1+0x986+-0x3c7?_0x34ed73['setValue']([(_0x19359e+_0x350fc6*(0x19a+0xfe*-0x27+0x128d*0x2))/_0x19359e,(_0x15d842+_0x350fc6*(-0x2*0x399+-0x1825*0x1+0x141*0x19))/_0x15d842,-_0x350fc6/_0x19359e,-_0x350fc6/_0x15d842]):_0x34ed73['setValue']([-0xa*0xca+0xe*0x2ba+-0x1e47,-0x1858+-0x2*0xce+-0x8a7*-0x3,0x116*0x1a+-0x775*0x5+0x90d,0x6*-0x38d+-0x1c3c+0x22*0x175]);const _0x1a8421=[-0x1f0b+0xad3+-0x1438*-0x1,_0x1e48c2['width']*_0x1e48c2['height']*(_0x1e48c2['cubemap']?-0x2*0x12b+-0x4ef*0x6+-0x1*-0x1ff6:0x8e4*-0x2+-0x1de0+0x2fa9),_0x59008b['width']*_0x59008b['height']*(_0x59008b['cubemap']?0x1f*0x57+0x17*-0x158+0x1465*0x1:-0x1458+-0x491+0x18ea)];if(_0x5475e5){const _0x5f6801=_0x59008b['width']*_0x59008b['height']*(_0x59008b['cubemap']?0x1c7f+0x1*0xad9+-0x2752:-0x142a+0x1107*0x1+-0xc9*-0x4),_0xd8cf09=_0x8efe35==='ggx'?FC(_0x269c3f,_0x1a8841,_0x481de7,_0x5f6801):_0x8efe35==='lambert'?DC(_0x269c3f,_0x1a8841,_0x5f6801):LC(_0x269c3f,_0x1a8841,_0x481de7);_0x269c3f['scope']['resolve']('samplesTex')['setValue'](_0xd8cf09),_0x269c3f['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(-0xac7+-0x11*0x103+0x1*0x1bfb)/_0xd8cf09['width'],(-0x883+0xa9e+-0x10d*0x2)/_0xd8cf09['height']]);}for(let _0x3a14e3=-0x1*0xa52+-0x1*-0x11a5+0x1*-0x753;_0x3a14e3<(_0x1e48c2['cubemap']?0xb06+-0xd*-0x35+-0x5*0x2bd:0x208b+-0x1*0x78b+-0x2c7*0x9);_0x3a14e3++)if(_0x1f644a===null||_0x3a14e3===_0x1f644a){const _0x1d6676=new pt({'colorBuffer':_0x1e48c2,'face':_0x3a14e3,'depth':!(-0xe8c+-0x1b18+-0x1*-0x29a5),'flipY':_0x269c3f['isWebGPU']});_0x1a8421[-0x1012+-0x19b2+0x2c*0xf3]=_0x3a14e3,_0x24878a['setValue'](_0x1a8421),dn(_0x269c3f,_0x1d6676,_0x26182d,_0x2e1d20==null?void(-0xb41+-0x1a06*-0x1+0x13*-0xc7):_0x2e1d20['rect']),_0x1d6676['destroy']();}return G['popGpuMark'+'er'](_0x269c3f),!(0xb65*0x2+-0x1b2*0x5+-0xe50);}const wd=(_0x1c1e1e,_0x133d63=-0x2475+0x263*0x2+0x1*0x1faf)=>0x1bf4+-0x19bd+-0x2*0x11b+Math['floor'](Math['log2'](Math['max'](_0x1c1e1e,_0x133d63))),kC=_0xc05e68=>_0xc05e68['textureHal'+'fFloatRend'+'erable'],BC=_0x6927f3=>_0x6927f3['textureFlo'+'atRenderab'+'le'],NC=_0x3306d4=>kC(_0x3306d4)?Je:BC(_0x3306d4)?Ke:Se,zC=_0x395f6c=>Se,UC=(_0x3a7a09,_0x54ed45,_0x49b0ec,_0x5b7c50)=>new he(_0x3a7a09,{'name':'lighting-'+_0x54ed45,'cubemap':!(0x1229+-0x196e+0x745),'width':_0x54ed45,'height':_0x54ed45,'format':_0x49b0ec,'type':Io,'addressU':ae,'addressV':ae,'mipmaps':!(0xd4*-0x1f+0x359+-0x4*-0x595)});class M0{static['generateSk'+'yboxCubema'+'p'](_0x5c7bfe,_0x467508){const _0x5b8090=_0x5c7bfe['device'];G['pushGpuMar'+'ker'](_0x5b8090,'genSkyboxC'+'ubemap');const _0x203fb0=UC(_0x5b8090,_0x467508||(_0x5c7bfe['cubemap']?_0x5c7bfe['width']:_0x5c7bfe['width']/(-0x653*0x6+0x4*0x23d+0x2f*0x9e)),Se);return Qs(_0x5c7bfe,_0x203fb0,{'numSamples':0x400}),G['popGpuMark'+'er'](_0x5b8090),_0x203fb0;}static['generateLi'+'ghtingSour'+'ce'](_0x15c5b8,_0x520959){const _0x520994=_0x15c5b8['device'];G['pushGpuMar'+'ker'](_0x520994,'genLightin'+'gSource');const _0x453b18=NC(_0x520994),_0x54a169=(_0x520959==null?void(0x1*-0xf13+0x10*-0x1ee+0xf51*0x3):_0x520959['target'])||new he(_0x520994,{'name':'lighting-s'+'ource','cubemap':!(0x354+0x190f+-0x1c63*0x1),'width':(_0x520959==null?void(-0x1*0xaf3+0x9*0xb+-0x2a4*-0x4):_0x520959['size'])||-0x1*0x2165+0xd6*0x11+0x13af,'height':(_0x520959==null?void(0x76*-0x46+-0x45*-0x3a+0x10a2):_0x520959['size'])||0x1*-0xfdb+-0x20c*0xb+0x26df,'format':_0x453b18,'type':_0x453b18===Se?Io:Di,'addressU':ae,'addressV':ae,'mipmaps':!(0xbb6+-0x525*0x3+0x3b9)});return Qs(_0x15c5b8,_0x54a169,{'numSamples':_0x15c5b8['mipmaps']?0x3c0*0x1+0xd*0x1f5+-0x1d30:0x1d28+-0x190f+0x1*-0x19}),G['popGpuMark'+'er'](_0x520994),_0x54a169;}static['generateAt'+'las'](_0x383a9e,_0x3baaaa){const _0x3d93bf=_0x383a9e['device'],_0x193390=zC();G['pushGpuMar'+'ker'](_0x3d93bf,'genAtlas');const _0x2475ce=(_0x3baaaa==null?void(0xf*-0xf6+-0x1*-0xa91+-0x3d9*-0x1):_0x3baaaa['target'])||new he(_0x3d93bf,{'name':'envAtlas','width':(_0x3baaaa==null?void(-0x1fda+0xf2b+0x10af):_0x3baaaa['size'])||0xcb9+-0x751*0x5+0x14b*0x14,'height':(_0x3baaaa==null?void(-0x2a1+0x1c93+-0x19f2):_0x3baaaa['size'])||-0x7ce+0x3cf+0x1*0x5ff,'format':_0x193390,'type':Io,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(0x1a*-0x77+0x1*-0x379+0x30*0x53)});G['pushGpuMar'+'ker'](_0x3d93bf,'mipmaps');const _0x51adb9=_0x2475ce['width']/(0x1a8f+0xac5*-0x1+0xdca*-0x1),_0x136fef=new Q(0x10fa+-0xae1+-0x619*0x1,-0x1926+0x996+0xf90,(0x18f9+0x1*-0xf0c+-0x7ed)*_0x51adb9,(-0x1ce8+0xb27+0x12c1)*_0x51adb9),_0x38149f=wd(-0x1*-0x19db+0x18d2+-0x31ad)-wd(-0x1237+0x53*-0x13+0x1864);for(let _0x1decb4=0x20c0+-0x2b*0x7d+0xbc1*-0x1;_0x1decb4<_0x38149f;++_0x1decb4)Qs(_0x383a9e,_0x2475ce,{'numSamples':0x1,'rect':_0x136fef,'seamPixels':_0x51adb9}),_0x136fef['x']+=_0x136fef['w'],_0x136fef['y']+=_0x136fef['w'],_0x136fef['z']=Math['max'](0x1*0x164f+0x5*0x321+-0x25f3*0x1,Math['floor'](_0x136fef['z']*(-0x1124+0x1*0x132d+-0x209+0.5))),_0x136fef['w']=Math['max'](0x1ec1*0x1+-0x172d+-0x7*0x115,Math['floor'](_0x136fef['w']*(-0x13e8+0x1f*0x12b+-0x104d+0.5)));G['popGpuMark'+'er'](_0x3d93bf),G['pushGpuMar'+'ker'](_0x3d93bf,'reflection'+'s'),_0x136fef['set'](0x1788*0x1+0x1f85+0x370d*-0x1,(-0x5*0x37f+-0x1229*0x1+0x5*0x754)*_0x51adb9,(-0x4a9*0x7+-0x215c+0xd*0x527)*_0x51adb9,(-0xcb5+0x409*0x9+-0x171c)*_0x51adb9);for(let _0x570c31=0x13a*-0x1d+-0x14b9+-0x6*-0x962;_0x570c31<-0x2694+0x13e3*-0x1+0x3a7e;++_0x570c31)Qs(_0x383a9e,_0x2475ce,{'numSamples':(_0x3baaaa==null?void(-0x1*0x18bb+-0x375+0x2*0xe18):_0x3baaaa['numReflect'+'ionSamples'])||-0x39*-0x3c+0x164*0x19+-0x2c20,'distribution':(_0x3baaaa==null?void(-0x5cd*0x1+0x10f*-0x1+0x6dc):_0x3baaaa['distributi'+'on'])||'ggx','specularPower':Math['max'](0x23*-0x29+-0x4b*-0x39+-0xb17,-0x1c68+-0xa8*-0x2f+0x590>>_0x570c31*(0x1*0x169e+-0x2239+0xb9d*0x1)),'rect':_0x136fef,'seamPixels':_0x51adb9}),_0x136fef['y']+=_0x136fef['w'],_0x136fef['z']=Math['max'](-0x232d+-0x12a+-0x916*-0x4,Math['floor'](_0x136fef['z']*(0x114f+-0xc45+0x5*-0x102+0.5))),_0x136fef['w']=Math['max'](0xb3*-0x3+-0x1e07+-0x23*-0xeb,Math['floor'](_0x136fef['w']*(-0x6f7*0x3+-0x1429+-0x1487*-0x2+0.5)));return G['popGpuMark'+'er'](_0x3d93bf),G['pushGpuMar'+'ker'](_0x3d93bf,'ambient'),_0x136fef['set']((-0x3*0x195+-0xbf5+0x89a*0x2)*_0x51adb9,(-0x1ef+0xe2f+-0xac0)*_0x51adb9,(0xedb*-0x1+-0x3*-0x17c+0xaa7*0x1)*_0x51adb9,(0x690+0x2*-0x6ff+0x3c7*0x2)*_0x51adb9),Qs(_0x383a9e,_0x2475ce,{'numSamples':(_0x3baaaa==null?void(-0x1b83+-0x1cea+0x386d):_0x3baaaa['numAmbient'+'Samples'])||-0x3*-0xbde+-0x3*0xb1c+0x5ba,'distribution':'lambert','rect':_0x136fef,'seamPixels':_0x51adb9}),G['popGpuMark'+'er'](_0x3d93bf),G['popGpuMark'+'er'](_0x3d93bf),_0x2475ce;}static['generatePr'+'efilteredA'+'tlas'](_0xd00580,_0x58a220){const _0x135a91=_0xd00580[0x1318+0x1d*-0x16+-0x109a]['device'],_0x9fee39=_0xd00580[-0x611+0xcec+-0x2d*0x27]['format'],_0x40ac0c=_0xd00580[-0x257e*0x1+0xb*0x200+0xf7e*0x1]['type'];G['pushGpuMar'+'ker'](_0x135a91,'genPrefilt'+'eredAtlas');const _0x1b2a11=(_0x58a220==null?void(-0x4cc+0x19*0x185+-0x2131):_0x58a220['target'])||new he(_0x135a91,{'name':'envPrefilt'+'eredAtlas','width':(_0x58a220==null?void(-0x10f*-0x5+-0x2*-0x1216+-0x2977):_0x58a220['size'])||-0x1f3c+-0xfae+0x3*0x104e,'height':(_0x58a220==null?void(0x1719*0x1+0x148e+0x1*-0x2ba7):_0x58a220['size'])||0xb3*0x2+-0x17d7+0x1871*0x1,'format':_0x9fee39,'type':_0x40ac0c,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(-0xcbe+-0x65*-0xd+0x6*0x145)});G['pushGpuMar'+'ker'](_0x135a91,'mipmaps');const _0xec53a=_0x1b2a11['width']/(0xa*0x4b+-0xe*-0x7+0x54*-0x4),_0x40756a=new Q(-0x84a+0x1697*0x1+0x1*-0xe4d,-0x10*0x80+0x15c5+0x4b*-0x2f,(-0xea4+-0x1*-0x44f+0xc55)*_0xec53a,(0x98f*-0x3+-0x2*-0x443+0x1527)*_0xec53a),_0x278f96=wd(0x4*0x81+0xa*0x167+-0xe0a);for(let _0x1a2d4c=-0x602*0x2+-0x24d+0xe51;_0x1a2d4c<_0x278f96;++_0x1a2d4c)Qs(_0xd00580[0x87*-0x2e+0x1d11+-0x1*0x4cf],_0x1b2a11,{'numSamples':0x1,'rect':_0x40756a,'seamPixels':_0xec53a}),_0x40756a['x']+=_0x40756a['w'],_0x40756a['y']+=_0x40756a['w'],_0x40756a['z']=Math['max'](0x253b+0x1f36+-0xdb0*0x5,Math['floor'](_0x40756a['z']*(0x1c8c+-0x11d4+-0x2*0x55c+0.5))),_0x40756a['w']=Math['max'](-0x1*-0x1d23+0x1b59*-0x1+-0x1c9,Math['floor'](_0x40756a['w']*(0x1f6f+-0x2426+0x4b7+0.5)));G['popGpuMark'+'er'](_0x135a91),G['pushGpuMar'+'ker'](_0x135a91,'reflection'+'s'),_0x40756a['set'](0x1774+-0x1213*0x2+0xcb2,(-0x2385+-0x1709+-0x3f*-0xf2)*_0xec53a,(0x4*-0x78a+-0x1a3*0x13+0x3e41)*_0xec53a,(0x28c*0x8+-0x1*-0x301+-0x16e1*0x1)*_0xec53a);for(let _0x301502=-0x5c3+-0x13ff*0x1+-0x5*-0x527;_0x301502<_0xd00580['length'];++_0x301502)Qs(_0xd00580[_0x301502],_0x1b2a11,{'numSamples':0x1,'rect':_0x40756a,'seamPixels':_0xec53a}),_0x40756a['y']+=_0x40756a['w'],_0x40756a['z']=Math['max'](0x576+0x18*0xee+-0x1bc5,Math['floor'](_0x40756a['z']*(0xe*-0x3a+0x6b8+0x38c*-0x1+0.5))),_0x40756a['w']=Math['max'](-0x16f0+-0x673+0x1d64,Math['floor'](_0x40756a['w']*(0x1*-0xfd3+-0xc19*-0x1+0x3ba+0.5)));return G['popGpuMark'+'er'](_0x135a91),G['pushGpuMar'+'ker'](_0x135a91,'ambient'),_0x40756a['set']((-0xb9*0x25+0x1*-0x393+0xf68*0x2)*_0xec53a,(0x7*-0x255+-0x154f+0x2722)*_0xec53a,(0x21c3+0x24e9+0x119b*-0x4)*_0xec53a,(0x1e0d+0x5*0x351+-0x1741*0x2)*_0xec53a),_0x58a220!=null&&_0x58a220['legacyAmbi'+'ent']?Qs(_0xd00580[-0x1*-0x1ed3+-0x125e*-0x2+-0x438a],_0x1b2a11,{'numSamples':0x1,'rect':_0x40756a,'seamPixels':_0xec53a}):Qs(_0xd00580[0x831+0x2b6+0xae7*-0x1],_0x1b2a11,{'numSamples':(_0x58a220==null?void(0x2130+0xc2*0x5+-0x24fa):_0x58a220['numSamples'])||-0x2027+0x1eaa+-0x7*-0x15b,'distribution':'lambert','rect':_0x40756a,'seamPixels':_0xec53a}),G['popGpuMark'+'er'](_0x135a91),G['popGpuMark'+'er'](_0x135a91),_0x1b2a11;}}const VC={'aoPS':St,'clearCoatPS':St,'clearCoatGlossPS':ad,'clearCoatNormalPS':St,'diffusePS':St,'diffuseDetailMapPS':St,'emissivePS':St,'glossPS':ad,'lightmapDirPS':wi,'lightmapSinglePS':wi,'metalnessPS':St,'normalMapPS':St,'normalDetailMapPS':St,'opacityPS':St,'parallaxPS':St,'sheenPS':St,'sheenGlossPS':ad,'specularPS':St,'specularityFactorPS':St,'thicknessPS':St,'transmissionPS':St,'normalVertexPS':wi,'startPS':wi,'ambientConstantPS':me,'ambientEnvPS':me,'ambientSHPS':me,'aoDiffuseOccPS':me,'aoSpecOccPS':me,'aoSpecOccConstPS':me,'aoSpecOccConstSimplePS':me,'aoSpecOccSimplePS':me,'clusteredLightPS':me,'clusteredLightShadowPS':me,'combinePS':me,'falloffInvSquaredPS':me,'falloffLinearPS':me,'lightDiffuseLambertPS':me,'lightSheenPS':me,'lightSpecularAnisoGGXPS':me,'lightSpecularBlinnPS':me,'ltcPS':me,'reflDirPS':me,'reflDirAnisoPS':me,'reflectionCCPS':me,'reflectionCubePS':me,'reflectionEnvPS':me,'reflectionEnvHQPS':me,'reflectionSheenPS':me,'reflectionSpherePS':me,'shadowCommonPS':me,'shadowCoordPS':me,'shadowCoordPerspZBufferPS':me,'shadowEVSMPS':me,'shadowEVSMnPS':me,'shadowStandardPS':me,'shadowStandardGL2PS':me,'spotPS':me,'TBNPS':me,'TBNObjectSpacePS':me,'TBNderivativePS':me,'endPS':hi,'metalnessModulatePS':hi,'outputAlphaPS':hi,'outputAlphaPremulPS':hi,'fresnelSchlickPS':hi,'iridescenceDiffractionPS':hi,'lightmapAddPS':hi,'lightmapDirAddPS':hi,'refractionCubePS':hm,'refractionDynamicPS':hm},GC={'ambientPrefilteredCubePS':Ui,'ambientPrefilteredCubeLodPS':Ui,'dpAtlasQuadPS':Ui,'genParaboloidPS':Ui,'prefilterCubemapPS':Ui,'reflectionDpAtlasPS':Ui,'reflectionPrefilteredCubePS':Ui,'reflectionPrefilteredCubeLodPS':Ui,'refractionPS':_r,'combineClearCoatPS':_r,'combineDiffusePS':_r,'combineDiffuseSpecularPS':_r,'combineDiffuseSpecularNoReflPS':_r,'combineDiffuseSpecularNoReflSeparateAmbientPS':_r,'combineDiffuseSpecularOldPS':_r,'lightmapSingleVertPS':wi,'normalMapFastPS':wi,'specularAaNonePS':wi,'specularAaToksvigPS':wi,'specularAaToksvigFastPS':wi,'skyboxEnvPS':cm,'skyboxHDRPS':cm,'shadowVSM8PS':bv,'fogExpPS':wn,'fogExp2PS':wn,'fogLinearPS':wn,'fogNonePS':wn,'gamma1_0PS':wn,'gamma2_2PS':wn},HC=(_0x2ac914,_0x2ef26b)=>{const _0x371386=_0x2ac914['split']('.')['map'](_0x4f1e0b=>parseInt(_0x4f1e0b,-0xe5*-0xb+-0x11*-0xd1+-0x17ae)),_0x270354=_0x2ef26b['split']('.')['map'](_0x4c59df=>parseInt(_0x4c59df,0x6e2*0x1+0x49*-0x1d+0x16d));return _0x371386[-0x26c4+0x1996+0xd2e]<_0x270354[-0xed5+-0x1707+0x25dc]||_0x371386[0x1fd7*0x1+0x23c8+-0x439f]===_0x270354[0x977*-0x3+-0x1529+0x318e]&&_0x371386[0x2401+-0x3*-0x54f+0x5c5*-0x9]<_0x270354[0x1b77+0xc91*-0x1+0x1*-0xee5];},WC=_0x222c18=>{const _0x1b13ed=_0x222c18['APIVersion'];for(const _0x138d1e in _0x222c18)if(_0x138d1e!=='APIVersion'){if(X['hasOwnProp'+'erty'](_0x138d1e)){const _0x2d99dc=VC[_0x138d1e];_0x2d99dc&&(!_0x1b13ed||HC(_0x1b13ed,_0x2d99dc))&&v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x138d1e+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x2d99dc+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x1b13ed||'-')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}else{const _0x5dc412=GC[_0x138d1e];_0x5dc412?v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x138d1e+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x5dc412+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.')):v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x138d1e+('\x27\x20is\x20not\x20s'+'upported.'));}}};class sr{constructor(){c(this,'code','');}['append'](..._0x4281d2){_0x4281d2['forEach'](_0x364adf=>{_0x364adf['endsWith']('\x0a')?this['code']+=_0x364adf:this['code']+=_0x364adf+'\x0a';});}['prepend'](..._0x11416a){_0x11416a['forEach'](_0x5715ee=>{_0x5715ee['endsWith']('\x0a')?this['code']=_0x5715ee+this['code']:this['code']=_0x5715ee+'\x0a'+this['code'];});}}const Td={'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_color':At,'vertex_boneWeights':Ys,'vertex_boneIndices':qt},h_={'vVertexColor':'vec4','vPositionW':'vec3','vNormalV':'vec3','vNormalW':'vec3','vTangentW':'vec3','vBinormalW':'vec3','vObjectSpaceUpW':'vec3','vUv0':'vec2','vUv1':'vec2','vLinearDepth':'float'};class $C{constructor(_0x1900a6,_0x5f31c3){if(this['device']=_0x1900a6,this['options']=_0x5f31c3,this['attributes']={'vertex_position':He},_0x5f31c3['userAttrib'+'utes']){for(const [_0x101cb3,_0x2fd163]of Object['entries'](_0x5f31c3['userAttrib'+'utes']))this['attributes'][_0x2fd163]=_0x101cb3;}if(_0x5f31c3['chunks']){const _0xed24f7=_0x5f31c3['chunks'];WC(_0xed24f7),this['chunks']=Object['create'](X);for(const _0x2de7be in X)if(_0xed24f7['hasOwnProp'+'erty'](_0x2de7be)){const _0x170fad=_0xed24f7[_0x2de7be];for(const _0x19289e in Td)Td['hasOwnProp'+'erty'](_0x19289e)&&_0x170fad['indexOf'](_0x19289e)>=0x16*0x9c+0x5*-0x167+-0x665&&(this['attributes'][_0x19289e]=Td[_0x19289e]);this['chunks'][_0x2de7be]=_0x170fad;}}else this['chunks']=X;this['shaderPass'+'Info']=Ks['get'](this['device'])['getByIndex'](_0x5f31c3['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x5f31c3['lights']['length']>-0xa26+-0xae+0xad4||_0x5f31c3['dirLightMa'+'pEnabled']||_0x5f31c3['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=!!_0x5f31c3['reflection'+'Source'],this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x5f31c3['useSpecula'+'r']||_0x5f31c3['ambientSH']||_0x5f31c3['useHeights']||_0x5f31c3['enableGGXS'+'pecular']||_0x5f31c3['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x5f31c3['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x5f31c3['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x5f31c3['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x5f31c3['useDynamic'+'Refraction'],this['varyings']='',this['varyingDef'+'ines']='',this['vshader']=null,this['frontendDe'+'cl']=null,this['frontendCo'+'de']=null,this['frontendFu'+'nc']=null,this['lightingUv']=null,this['defines']=[],this['fshader']=null;}['_vsAddBase'+'Code'](_0x441264,_0x180901,_0x497796){return _0x441264+=_0x180901['baseVS'],(_0x497796['nineSliced'+'Mode']===nt||_0x497796['nineSliced'+'Mode']===Qe)&&(_0x441264+=_0x180901['baseNineSl'+'icedVS']),_0x441264;}['_setMapTra'+'nsform'](_0x54ee51,_0x2fcabe,_0x129baf,_0x234086){const _0x147111=_0x129baf+_0x234086*(0x1982+-0x1*0x1aab+0x18d);if(!_0x54ee51[-0x1*-0x70b+0xf02+-0x160a][_0x147111]){const _0x9d634f='texture_'+_0x2fcabe+('MapTransfo'+'rm');_0x54ee51[0x22b+-0x1*0xafb+-0x30*-0x2f]+='uniform\x20ve'+'c3\x20'+_0x9d634f+'0;\x0a',_0x54ee51[0x1c4c*0x1+-0x9*-0x1f1+-0x2dc5]+='uniform\x20ve'+'c3\x20'+_0x9d634f+'1;\x0a',_0x54ee51[0x126f+0x2*0x745+-0x8*0x41f]+='varying\x20ve'+'c2\x20vUV'+_0x234086+'_'+_0x129baf+';\x0a',_0x54ee51[-0x2*0x559+0x9*-0x11a+0x149e]+='\x20\x20\x20vUV'+_0x234086+'_'+_0x129baf+('\x20=\x20vec2(do'+'t(vec3(uv')+_0x234086+',\x201),\x20'+_0x9d634f+('0),\x20dot(ve'+'c3(uv')+_0x234086+',\x201),\x20'+_0x9d634f+'1));\x0a',_0x54ee51[0x31*-0x3f+-0xc4b*-0x2+-0xc84][_0x147111]=!(-0x31*0x3b+-0x1f*-0x106+-0x1*0x146f);}return _0x54ee51;}['_fsGetBase'+'Code'](){const _0x12c0f1=this['options'],_0x257057=this['chunks'];let _0x2fa1f4=this['chunks']['basePS'];return _0x12c0f1['nineSliced'+'Mode']===nt?_0x2fa1f4+=_0x257057['baseNineSl'+'icedPS']:_0x12c0f1['nineSliced'+'Mode']===Qe&&(_0x2fa1f4+=_0x257057['baseNineSl'+'icedTiledP'+'S']),_0x2fa1f4;}['_fsGetStar'+'tCode'](_0x4d4d9d,_0x15f258,_0x50f901,_0xff14ec){let _0x90ff30=_0x50f901['startPS'];return _0xff14ec['nineSliced'+'Mode']===nt?_0x90ff30+=_0x50f901['startNineS'+'licedPS']:_0xff14ec['nineSliced'+'Mode']===Qe&&(_0x90ff30+=_0x50f901['startNineS'+'licedTiled'+'PS']),_0x90ff30;}['_getLightS'+'ourceShape'+'String'](_0x1ad3e9){switch(_0x1ad3e9){case Gb:return'Rect';case Hb:return'Disk';case Wb:return'Sphere';default:return'';}}['generateVe'+'rtexShader'](_0x58a319,_0x1640b6,_0x411c0b){const _0x26b6ad=this['device'],_0x24b156=this['options'],_0x511ddb=this['chunks'];let _0x5c2206='',_0x1a0707='',_0x25c8c3='';_0x5c2206=this['_vsAddBase'+'Code'](_0x5c2206,_0x511ddb,_0x24b156),_0x1a0707+='\x20\x20\x20vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a',this['options']['linearDept'+'h']&&(_0x25c8c3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_view;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x1a0707+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'linear\x20dep'+'th\x20from\x20th'+'e\x20worldPos'+'ition,\x20see'+'\x20getLinear'+'Depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vLinearD'+'epth\x20=\x20-(m'+'atrix_view'+'\x20*\x20vec4(vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),this['options']['useInstanc'+'ing']&&this['chunks']['transformI'+'nstancingV'+'S']===X['transformI'+'nstancingV'+'S']&&(this['attributes']['instance_l'+'ine1']=rp,this['attributes']['instance_l'+'ine2']=ga,this['attributes']['instance_l'+'ine3']=np,this['attributes']['instance_l'+'ine4']=ya),_0x5c2206+=_0x511ddb['transformV'+'S'],this['needsNorma'+'l']&&(_0x5c2206+=_0x511ddb['normalCore'+'VS'],_0x5c2206+=_0x511ddb['normalVS']),this['needsNorma'+'l']&&(this['attributes']['vertex_nor'+'mal']=Yt,_0x1a0707+='\x20\x20\x20vNormal'+'W\x20=\x20getNor'+'mal();\x0a',_0x24b156['reflection'+'Source']==='sphereMap'&&_0x26b6ad['fragmentUn'+'iformsCoun'+'t']<=0x34*0xbd+0x257b+0x4bcf*-0x1&&(_0x5c2206+=_0x511ddb['viewNormal'+'VS'],_0x1a0707+='\x20\x20\x20vNormal'+'V\x20\x20\x20\x20=\x20get'+'ViewNormal'+'();\x0a'),_0x24b156['hasTangent'+'s']&&(_0x24b156['useHeights']||_0x24b156['useNormals']||_0x24b156['enableGGXS'+'pecular'])?(this['attributes']['vertex_tan'+'gent']=Zs,_0x5c2206+=_0x511ddb['tangentBin'+'ormalVS'],_0x1a0707+='\x20\x20\x20vTangen'+'tW\x20\x20\x20=\x20get'+'Tangent();'+'\x0a',_0x1a0707+='\x20\x20\x20vBinorm'+'alW\x20\x20=\x20get'+'Binormal()'+';\x0a'):_0x24b156['enableGGXS'+'pecular']&&(_0x1a0707+='\x20\x20\x20vObject'+'SpaceUpW\x20='+'\x20normalize'+'(dNormalMa'+'trix\x20*\x20vec'+'3(0,\x201,\x200)'+');\x0a'));const _0x18a9bd=-0x2277+-0x3d*-0x66+0x89*0x13;for(let _0x4c8054=-0x25*0x38+-0xa2b+-0x19*-0xbb;_0x4c8054<_0x18a9bd;_0x4c8054++)_0x58a319[_0x4c8054]&&(this['attributes']['vertex_tex'+'Coord'+_0x4c8054]='TEXCOORD'+_0x4c8054,_0x5c2206+=_0x511ddb['uv'+_0x4c8054+'VS'],_0x1a0707+='\x20\x20\x20vec2\x20uv'+_0x4c8054+'\x20=\x20getUv'+_0x4c8054+'();\x0a'),_0x1640b6[_0x4c8054]&&(_0x1a0707+='\x20\x20\x20vUv'+_0x4c8054+'\x20=\x20uv'+_0x4c8054+';\x0a');const _0x24fbf2=[_0x5c2206,this['varyings'],_0x1a0707,[]];_0x411c0b['forEach'](_0x2cfd36=>{this['_setMapTra'+'nsform'](_0x24fbf2,_0x2cfd36['name'],_0x2cfd36['id'],_0x2cfd36['uv']);}),_0x5c2206=_0x24fbf2[-0xe2d*-0x1+-0x33f+-0xaee],this['varyings']=_0x24fbf2[0x2d2+-0x1*0x1317+0x823*0x2],_0x1a0707=_0x24fbf2[0x1150*0x1+-0x97*0x10+-0x7de],_0x24b156['vertexColo'+'rs']&&(this['attributes']['vertex_col'+'or']=At,_0x1a0707+='\x20\x20\x20vVertex'+'Color\x20=\x20ve'+'rtex_color'+';\x0a'),_0x24b156['useMsdf']&&_0x24b156['msdfTextAt'+'tribute']&&(this['attributes']['vertex_out'+'lineParame'+'ters']=Po,this['attributes']['vertex_sha'+'dowParamet'+'ers']=Ro,_0x1a0707+='\x20\x20\x20\x20unpack'+'MsdfParams'+'();\x0a',_0x5c2206+=_0x511ddb['msdfVS']),(_0x24b156['useMorphPo'+'sition']||_0x24b156['useMorphNo'+'rmal'])&&(_0x25c8c3+='#define\x20MO'+'RPHING\x0a',_0x24b156['useMorphTe'+'xtureBased'+'Int']&&(_0x25c8c3+='#define\x20MO'+'RPHING_INT'+'\x0a'),_0x24b156['useMorphPo'+'sition']&&(_0x25c8c3+='#define\x20MO'+'RPHING_POS'+'ITION\x0a'),_0x24b156['useMorphNo'+'rmal']&&(_0x25c8c3+='#define\x20MO'+'RPHING_NOR'+'MAL\x0a'),this['attributes']['morph_vert'+'ex_id']=ya),_0x24b156['skin']?(this['attributes']['vertex_bon'+'eIndices']=qt,_0x24b156['batch']?_0x25c8c3+='#define\x20BA'+'TCH\x0a':(this['attributes']['vertex_bon'+'eWeights']=Ys,_0x25c8c3+='#define\x20SK'+'IN\x0a')):_0x24b156['useInstanc'+'ing']&&(_0x25c8c3+='#define\x20IN'+'STANCING\x0a'),_0x24b156['screenSpac'+'e']&&(_0x25c8c3+='#define\x20SC'+'REENSPACE\x0a'),_0x24b156['pixelSnap']&&(_0x25c8c3+='#define\x20PI'+'XELSNAP\x0a'),_0x5c2206+='\x0a',_0x5c2206+=_0x511ddb['startVS'],_0x5c2206+=_0x1a0707,_0x5c2206+=_0x511ddb['endVS'],_0x5c2206+='}',Object['keys'](h_)['forEach'](_0x29b2d6=>{_0x5c2206['indexOf'](_0x29b2d6)>=-0x44e*-0x3+-0x4a4+-0x846&&(this['varyings']+='varying\x20'+h_[_0x29b2d6]+'\x20'+_0x29b2d6+';\x0a',this['varyingDef'+'ines']+='#define\x20VA'+'RYING_'+_0x29b2d6['toUpperCas'+'e']()+'\x0a');}),this['vshader']=_0x25c8c3+this['varyings']+_0x5c2206;}['_fsGetBegi'+'nCode'](){let _0x3f9bfe='';for(let _0x2e2131=0x1*0x1eb7+0x824+0x1*-0x26db;_0x2e2131<this['defines']['length'];_0x2e2131++)_0x3f9bfe+='#define\x20'+this['defines'][_0x2e2131]+'\x0a';return _0x3f9bfe;}['_fsGetPick'+'PassCode'](){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+this['_fsGetBegi'+'nCode']()+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyings']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyingDef'+'ines']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendDe'+'cl']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['chunks']['pickPS']+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')+this['frontendFu'+'nc']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20getPickO'+'utput();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20');}['_fsGetDept'+'hPassCode'](){let _0x185b4f=this['_fsGetBegi'+'nCode']();return _0x185b4f+=this['varyings'],_0x185b4f+=this['varyingDef'+'ines'],_0x185b4f+=this['frontendDe'+'cl'],_0x185b4f+=this['frontendCo'+'de'],_0x185b4f+=It['begin'](),_0x185b4f+=this['frontendFu'+'nc'],_0x185b4f+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0,\x201'+'.0,\x201.0,\x201'+'.0);\x0a',_0x185b4f+=It['end'](),_0x185b4f;}['_fsGetPreP'+'assCode'](){let _0x4a8f6c=this['_fsGetBegi'+'nCode']();return _0x4a8f6c+=this['varyings'],_0x4a8f6c+=this['varyingDef'+'ines'],_0x4a8f6c+=this['chunks']['floatAsUin'+'tPS'],_0x4a8f6c+=this['frontendDe'+'cl'],_0x4a8f6c+=this['frontendCo'+'de'],_0x4a8f6c+=It['begin'](),_0x4a8f6c+=this['frontendFu'+'nc'],_0x4a8f6c+=this['device']['textureFlo'+'atRenderab'+'le']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(vLinear'+'Depth,\x201.0'+',\x201.0,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2uint(v'+'LinearDept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x4a8f6c+=It['end'](),_0x4a8f6c;}['_fsGetShad'+'owPassCode'](){const _0x47e036=this['options'],_0x269150=this['chunks'],_0x5b9fab=this['varyings'],_0x4c2a0e=this['shaderPass'+'Info']['lightType'];let _0x548ac4=this['shaderPass'+'Info']['shadowType'];_0x4c2a0e!==oe&&_0x47e036['clusteredL'+'ightingEna'+'bled']&&(_0x548ac4===Hr||_0x548ac4===Wr||_0x548ac4===Ts)&&(_0x548ac4=Dt);const _0x432b79=ir['get'](_0x548ac4);v['assert'](_0x432b79);const _0x2cc9f6=(_0x432b79==null?void(0x1*0x269+0x61f+-0x888):_0x432b79['vsm'])??!(-0x12c1+0x23ae+-0x10ec),_0x353a09=(_0x432b79==null?void(0x789+0xb59+-0x971*0x2):_0x432b79['pcss'])??!(0x5db+0x1*-0x1de6+0x180c);let _0x173d7=this['_fsGetBegi'+'nCode']();_0x548ac4===Wr?_0x173d7+='#define\x20VS'+'M_EXPONENT'+'\x2015.0\x0a\x0a':_0x548ac4===Hr&&(_0x173d7+='#define\x20VS'+'M_EXPONENT'+'\x205.54\x0a\x0a'),_0x4c2a0e!==oe&&(_0x173d7+='uniform\x20ve'+'c3\x20view_po'+'sition;\x0a',_0x173d7+='uniform\x20fl'+'oat\x20light_'+'radius;\x0a'),_0x173d7+=_0x5b9fab,_0x173d7+=this['varyingDef'+'ines'],_0x173d7+=this['frontendDe'+'cl'],_0x173d7+=this['frontendCo'+'de'],_0x548ac4===Ts&&(_0x173d7+=X['linearizeD'+'epthPS']),_0x173d7+=It['begin'](),_0x173d7+=this['frontendFu'+'nc'];const _0x2b9243=_0x4c2a0e===oe||!_0x2cc9f6&&_0x4c2a0e===Re;let _0x1b31ac=!(-0x26ae+0x5e7+-0x20c8*-0x1);return _0x2b9243?(_0x173d7+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20gl'+'_FragCoord'+'.z;\x0a',_0x353a09&&_0x4c2a0e!==oe&&(_0x173d7+='\x20\x20\x20\x20depth\x20'+'=\x20lineariz'+'eDepth(dep'+'th,\x20camera'+'_params);\x0a')):(_0x173d7+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20mi'+'n(distance'+'(view_posi'+'tion,\x20vPos'+'itionW)\x20/\x20'+'light_radi'+'us,\x200.9999'+'9);\x0a',_0x1b31ac=!(-0x917+-0xc*0x2aa+0x290f)),_0x2cc9f6?_0x173d7+=_0x269150['storeEVSMP'+'S']:_0x353a09?_0x173d7+='\x20\x20\x20\x20gl_Fra'+'gColor.r\x20='+'\x20depth;\x0a':(_0x1b31ac&&(_0x173d7+='\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a'),_0x173d7+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0);\x0a'),_0x173d7+=It['end'](),_0x173d7;}['_fsGetLitP'+'assCode'](){var _0x48ffa3;const _0x1d0ce3=this['device'],_0x47414b=this['options'],_0x6fb465=this['chunks'],_0x4e2e1f=new sr(),_0x1a859b=new sr(),_0x41d74a=new sr(),_0x6d3373=new sr();_0x47414b['opacityFad'+'esSpecular']===!(0x1e16+0xdaa+-0x2bbf*0x1)&&_0x4e2e1f['append']('uniform\x20fl'+'oat\x20materi'+'al_alphaFa'+'de;'),_0x47414b['useSpecula'+'r']&&(this['defines']['push']('LIT_SPECUL'+'AR'),this['reflection'+'s']&&this['defines']['push']('LIT_REFLEC'+'TIONS'),_0x47414b['useClearCo'+'at']&&this['defines']['push']('LIT_CLEARC'+'OAT'),_0x47414b['fresnelMod'+'el']>-0x3*-0x96a+-0xfe9+0xb*-0x11f&&this['defines']['push']('LIT_SPECUL'+'AR_FRESNEL'),_0x47414b['useSheen']&&this['defines']['push']('LIT_SHEEN'),_0x47414b['useIridesc'+'ence']&&this['defines']['push']('LIT_IRIDES'+'CENCE'));const _0x5586ab=[];let _0x5404cc=-0x705+-0x1ff7+0x26fc,_0x3e25ef=!(0x1*-0x116d+0x7cc*0x4+0xdc2*-0x1),_0x5929f2=!(0xab0+0x4*-0x136+-0x5d7),_0x5dda8b=!(-0x20fc+0x30e+0x1def),_0xa7e361=_0x47414b['lights']['some'](_0x1da123=>_0x1da123['_shape']&&_0x1da123['_shape']!==yt);_0x47414b['clusteredL'+'ightingEna'+'bled']&&_0x47414b['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&(_0xa7e361=!(-0x1c30+0x1f78+-0x348)),(_0xa7e361||_0x47414b['clusteredL'+'ightingEna'+'bled'])&&(_0x4e2e1f['append']('#define\x20AR'+'EA_LIGHTS'),_0x4e2e1f['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;'),_0x4e2e1f['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'2;'));for(let _0x892380=-0x12b*-0xc+-0x633+-0x7d1;_0x892380<_0x47414b['lights']['length'];_0x892380++){const _0x74d630=_0x47414b['lights'][_0x892380],_0x12f46c=_0x74d630['_type'];if(_0x47414b['clusteredL'+'ightingEna'+'bled']&&_0x12f46c!==oe)continue;const _0x577053=_0xa7e361&&_0x74d630['_shape']?_0x74d630['_shape']:yt;_0x4e2e1f['append']('uniform\x20ve'+'c3\x20light'+_0x892380+'_color;'),_0x74d630['_shadowTyp'+'e']===Ts&&_0x74d630['castShadow'+'s']&&!_0x47414b['noShadow']&&(_0x4e2e1f['append']('uniform\x20fl'+'oat\x20light'+_0x892380+('_shadowSea'+'rchArea;')),_0x4e2e1f['append']('uniform\x20ve'+'c4\x20light'+_0x892380+('_cameraPar'+'ams;')),_0x12f46c===oe&&_0x4e2e1f['append']('uniform\x20ve'+'c4\x20light'+_0x892380+('_softShado'+'wParams;'))),_0x12f46c===oe?_0x4e2e1f['append']('uniform\x20ve'+'c3\x20light'+_0x892380+('_direction'+';')):(_0x4e2e1f['append']('uniform\x20ve'+'c3\x20light'+_0x892380+'_position;'),_0x4e2e1f['append']('uniform\x20fl'+'oat\x20light'+_0x892380+'_radius;'),_0x12f46c===Re&&(_0x4e2e1f['append']('uniform\x20ve'+'c3\x20light'+_0x892380+('_direction'+';')),_0x4e2e1f['append']('uniform\x20fl'+'oat\x20light'+_0x892380+('_innerCone'+'Angle;')),_0x4e2e1f['append']('uniform\x20fl'+'oat\x20light'+_0x892380+('_outerCone'+'Angle;')))),_0x577053!==yt&&(_0x12f46c===oe&&_0x4e2e1f['append']('uniform\x20ve'+'c3\x20light'+_0x892380+'_position;'),_0x4e2e1f['append']('uniform\x20ve'+'c3\x20light'+_0x892380+('_halfWidth'+';')),_0x4e2e1f['append']('uniform\x20ve'+'c3\x20light'+_0x892380+('_halfHeigh'+'t;'))),_0x74d630['castShadow'+'s']&&!_0x47414b['noShadow']&&(_0x4e2e1f['append']('uniform\x20ma'+'t4\x20light'+_0x892380+('_shadowMat'+'rix;')),_0x4e2e1f['append']('uniform\x20fl'+'oat\x20light'+_0x892380+('_shadowInt'+'ensity;')),_0x12f46c===oe&&(_0x4e2e1f['append']('uniform\x20ma'+'t4\x20light'+_0x892380+('_shadowMat'+'rixPalette'+'[4];')),_0x4e2e1f['append']('uniform\x20ve'+'c4\x20light'+_0x892380+('_shadowCas'+'cadeDistan'+'ces;')),_0x4e2e1f['append']('uniform\x20in'+'t\x20light'+_0x892380+('_shadowCas'+'cadeCount;')),_0x4e2e1f['append']('uniform\x20fl'+'oat\x20light'+_0x892380+('_shadowCas'+'cadeBlend;'))),_0x4e2e1f['append']('uniform\x20ve'+'c4\x20light'+_0x892380+('_shadowPar'+'ams;')),_0x12f46c===oe&&(_0x3e25ef=!(-0x10f6*0x1+-0x1003+-0x17*-0x16f)),_0x12f46c===Pe?_0x4e2e1f['append']('uniform\x20'+(_0x74d630['_isPcf']?'samplerCub'+'eShadow':'samplerCub'+'e')+'\x20light'+_0x892380+('_shadowMap'+';')):_0x4e2e1f['append']('uniform\x20'+(_0x74d630['_isPcf']?'sampler2DS'+'hadow':'sampler2D')+'\x20light'+_0x892380+('_shadowMap'+';')),_0x5404cc++,_0x5586ab[_0x74d630['_shadowTyp'+'e']]=!(-0x340+0x117c+-0xe3c),_0x74d630['_isVsm']&&(_0x5929f2=!(0x655+0x1*-0x1c0c+-0x1*-0x15b7)),_0x74d630['_shadowTyp'+'e']===Ts&&(_0x5dda8b=!(-0x248e+0xa6*-0x3b+-0x1*-0x4ad0))),_0x74d630['_cookie']&&(_0x74d630['_cookie']['_cubemap']?_0x12f46c===Pe&&(_0x4e2e1f['append']('uniform\x20sa'+'mplerCube\x20'+'light'+_0x892380+'_cookie;'),_0x4e2e1f['append']('uniform\x20fl'+'oat\x20light'+_0x892380+('_cookieInt'+'ensity;')),(!_0x74d630['castShadow'+'s']||_0x47414b['noShadow'])&&_0x4e2e1f['append']('uniform\x20ma'+'t4\x20light'+_0x892380+('_shadowMat'+'rix;'))):_0x12f46c===Re&&(_0x4e2e1f['append']('uniform\x20sa'+'mpler2D\x20li'+'ght'+_0x892380+'_cookie;'),_0x4e2e1f['append']('uniform\x20fl'+'oat\x20light'+_0x892380+('_cookieInt'+'ensity;')),(!_0x74d630['castShadow'+'s']||_0x47414b['noShadow'])&&_0x4e2e1f['append']('uniform\x20ma'+'t4\x20light'+_0x892380+('_shadowMat'+'rix;')),_0x74d630['_cookieTra'+'nsform']&&(_0x4e2e1f['append']('uniform\x20ve'+'c4\x20light'+_0x892380+('_cookieMat'+'rix;')),_0x4e2e1f['append']('uniform\x20ve'+'c2\x20light'+_0x892380+('_cookieOff'+'set;')))));}const _0x15f4d1=this['needsNorma'+'l']&&(_0x47414b['useNormals']||_0x47414b['useClearCo'+'atNormals']||_0x47414b['enableGGXS'+'pecular']&&!_0x47414b['useHeights']);if(_0x15f4d1&&(_0x47414b['hasTangent'+'s']?_0x1a859b['append'](_0x6fb465['TBNPS']):_0x47414b['useNormals']||_0x47414b['useClearCo'+'atNormals']?_0x1a859b['append'](_0x6fb465['TBNderivat'+'ivePS']['replace'](/\$UV/g,this['lightingUv'])):_0x1a859b['append'](_0x6fb465['TBNObjectS'+'pacePS']),_0x47414b['twoSidedLi'+'ghting']&&_0x1a859b['append'](_0x6fb465['twoSidedLi'+'ghtingPS'])),_0x1a859b['append'](_0x6fb465['sphericalP'+'S']),_0x1a859b['append'](_0x6fb465['decodePS']),_0x1a859b['append'](_0x6fb465['gammaPS']),_0x1a859b['append'](_0x6fb465['tonemappin'+'gPS']),_0x1a859b['append'](_0x6fb465['fogPS']),_0x1a859b['append'](this['frontendCo'+'de']),_0x47414b['useCubeMap'+'Rotation']&&_0x4e2e1f['append']('#define\x20CU'+'BEMAP_ROTA'+'TION'),this['needsNorma'+'l']&&(_0x1a859b['append'](_0x6fb465['cubeMapRot'+'atePS']),_0x1a859b['append'](_0x47414b['cubeMapPro'+'jection']>-0x1a3d+0x3d*0x73+-0x12a?_0x6fb465['cubeMapPro'+'jectBoxPS']:_0x6fb465['cubeMapPro'+'jectNonePS']),_0x1a859b['append'](_0x47414b['skyboxInte'+'nsity']?_0x6fb465['envMultipl'+'yPS']:_0x6fb465['envConstPS'])),(this['lighting']&&_0x47414b['useSpecula'+'r']||this['reflection'+'s'])&&(_0x47414b['useMetalne'+'ss']&&_0x1a859b['append'](_0x6fb465['metalnessM'+'odulatePS']),_0x47414b['fresnelMod'+'el']===Sp&&_0x1a859b['append'](_0x6fb465['fresnelSch'+'lickPS']),_0x47414b['useIridesc'+'ence']&&_0x1a859b['append'](_0x6fb465['iridescenc'+'eDiffracti'+'onPS'])),_0x47414b['useAo'])switch(_0x1a859b['append'](_0x6fb465['aoDiffuseO'+'ccPS']),_0x47414b['occludeSpe'+'cular']){case Bo:_0x1a859b['append'](_0x47414b['occludeSpe'+'cularFloat']?_0x6fb465['aoSpecOccS'+'implePS']:_0x6fb465['aoSpecOccC'+'onstSimple'+'PS']);break;case Lu:_0x1a859b['append'](_0x47414b['occludeSpe'+'cularFloat']?_0x6fb465['aoSpecOccP'+'S']:_0x6fb465['aoSpecOccC'+'onstPS']);break;}_0x47414b['reflection'+'Source']==='envAtlasHQ'?(_0x1a859b['append'](_0x6fb465['envAtlasPS']),_0x1a859b['append'](_0x6fb465['reflection'+'EnvHQPS']['replace'](/\$DECODE_CUBEMAP/g,Es['decodeFunc'](_0x47414b['reflection'+'CubemapEnc'+'oding']))['replace'](/\$DECODE/g,Es['decodeFunc'](_0x47414b['reflection'+'Encoding'])))):_0x47414b['reflection'+'Source']==='envAtlas'?(_0x1a859b['append'](_0x6fb465['envAtlasPS']),_0x1a859b['append'](_0x6fb465['reflection'+'EnvPS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x47414b['reflection'+'Encoding'])))):_0x47414b['reflection'+'Source']==='cubeMap'?_0x1a859b['append'](_0x6fb465['reflection'+'CubePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x47414b['reflection'+'Encoding']))):_0x47414b['reflection'+'Source']==='sphereMap'&&_0x1a859b['append'](_0x6fb465['reflection'+'SpherePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x47414b['reflection'+'Encoding']))),this['reflection'+'s']&&(_0x47414b['useClearCo'+'at']&&_0x1a859b['append'](_0x6fb465['reflection'+'CCPS']),_0x47414b['useSheen']&&_0x1a859b['append'](_0x6fb465['reflection'+'SheenPS'])),_0x47414b['useRefract'+'ion']&&(_0x47414b['useDynamic'+'Refraction']?(_0x47414b['dispersion']&&(_0x4e2e1f['append']('uniform\x20fl'+'oat\x20materi'+'al_dispers'+'ion;'),_0x4e2e1f['append']('#define\x20DI'+'SPERSION\x0a')),_0x1a859b['append'](_0x6fb465['refraction'+'DynamicPS'])):this['reflection'+'s']&&_0x1a859b['append'](_0x6fb465['refraction'+'CubePS'])),_0x47414b['useSheen']&&_0x1a859b['append'](_0x6fb465['lightSheen'+'PS']),_0x47414b['clusteredL'+'ightingEna'+'bled']&&(_0x1a859b['append'](_0x6fb465['clusteredL'+'ightUtilsP'+'S']),_0x47414b['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x1a859b['append'](_0x6fb465['clusteredL'+'ightCookie'+'sPS']),_0x47414b['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x47414b['noShadow']&&(_0x5586ab[Dt]=!(0x1b00+-0x1*0x2099+0x599),_0x5586ab[lh]=!(-0x1327+0x3*0x4e4+0x47b),_0x5586ab[Ts]=!(0x21c3+-0x3*-0x30f+-0x2af0))),(_0x5404cc>0x1*0x179f+-0x1*0x109c+-0x703||_0x47414b['clusteredL'+'ightingEna'+'bled'])&&(_0x3e25ef&&_0x1a859b['append'](_0x6fb465['shadowCasc'+'adesPS']),(_0x5586ab[Bh]||_0x5586ab[Dt]||_0x5586ab[Nh]||_0x5586ab[zh])&&_0x1a859b['append'](_0x6fb465['shadowStan'+'dardPS']),(_0x5586ab[lh]||_0x5586ab[Iu])&&_0x1a859b['append'](_0x6fb465['shadowStan'+'dardGL2PS']),_0x5929f2&&(_0x1a859b['append'](_0x6fb465['shadowVSM_'+'commonPS']),_0x5586ab[Hr]&&_0x1a859b['append'](_0x6fb465['shadowEVSM'+'PS']['replace'](/\$/g,'16')),_0x5586ab[Wr]&&_0x1a859b['append'](_0x1d0ce3['extTexture'+'FloatLinea'+'r']?_0x6fb465['shadowEVSM'+'PS']['replace'](/\$/g,'32'):_0x6fb465['shadowEVSM'+'nPS']['replace'](/\$/g,'32'))),_0x5dda8b&&(_0x1a859b['append'](_0x6fb465['linearizeD'+'epthPS']),_0x1a859b['append'](_0x6fb465['shadowPCSS'+'PS']),_0x1a859b['append'](_0x6fb465['shadowSoft'+'PS']))),_0x47414b['enableGGXS'+'pecular']&&_0x1a859b['append']('uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opy;'),this['lighting']&&(_0x1a859b['append'](_0x6fb465['lightDiffu'+'seLambertP'+'S']),(_0xa7e361||_0x47414b['clusteredL'+'ightingAre'+'aLightsEna'+'bled'])&&_0x1a859b['append'](_0x6fb465['ltcPS']));let _0x36ae3b=!(-0xf80+0x243a+-0x14b9);_0x47414b['useSpecula'+'r']&&(this['lighting']&&_0x1a859b['append'](_0x47414b['enableGGXS'+'pecular']?_0x6fb465['lightSpecu'+'larAnisoGG'+'XPS']:_0x6fb465['lightSpecu'+'larBlinnPS']),!_0x47414b['fresnelMod'+'el']&&!this['reflection'+'s']&&!_0x47414b['diffuseMap'+'Enabled']&&(_0x4e2e1f['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x4e2e1f['append']('#define\x20LI'+'T_OLD_AMBI'+'ENT'),_0x36ae3b=!(0x1ec0+-0xc4c+0x2*-0x93a))),_0x1a859b['append'](_0x6fb465['combinePS']),_0x47414b['lightMapEn'+'abled']&&_0x1a859b['append'](_0x47414b['useSpecula'+'r']&&_0x47414b['dirLightMa'+'pEnabled']?_0x6fb465['lightmapDi'+'rAddPS']:_0x6fb465['lightmapAd'+'dPS']);const _0x576e20=!_0x47414b['lightMapEn'+'abled']||_0x47414b['lightMapWi'+'thoutAmbie'+'nt'];_0x576e20&&(_0x47414b['ambientSou'+'rce']==='ambientSH'?_0x1a859b['append'](_0x6fb465['ambientSHP'+'S']):_0x47414b['ambientSou'+'rce']==='envAtlas'?(_0x47414b['reflection'+'Source']!=='envAtlas'&&_0x47414b['reflection'+'Source']!=='envAtlasHQ'&&_0x1a859b['append'](_0x6fb465['envAtlasPS']),_0x1a859b['append'](_0x6fb465['ambientEnv'+'PS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x47414b['ambientEnc'+'oding'])))):_0x1a859b['append'](_0x6fb465['ambientCon'+'stantPS'])),_0x36ae3b||_0x4e2e1f['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x47414b['useMsdf']&&(_0x47414b['msdfTextAt'+'tribute']||_0x4e2e1f['append']('#define\x20UN'+'IFORM_TEXT'+'_PARAMETER'+'S'),_0x1a859b['append'](_0x6fb465['msdfPS'])),this['needsNorma'+'l']&&(_0x1a859b['append'](_0x6fb465['viewDirPS']),_0x47414b['useSpecula'+'r']&&_0x1a859b['append'](_0x47414b['enableGGXS'+'pecular']?_0x6fb465['reflDirAni'+'soPS']:_0x6fb465['reflDirPS']));let _0x247553=!(-0x100e+0x147b*-0x1+-0x617*-0x6),_0x5a78de=!(0x410+-0x7b4+0x3a5),_0x27f14b=!(0x24dd+0x1787*-0x1+-0xd55),_0xf440c0=!(0x5c5+-0x20ff+0x1b3b),_0x5bae5e=!(-0xf0c+-0x191*0x12+0x2b3f),_0x47a101;if(_0x47414b['clusteredL'+'ightingEna'+'bled']&&this['lighting']){if(_0xf440c0=!(-0x1008+0x10bc+0x6*-0x1e),_0x247553=!(-0x139f*0x1+-0x47*-0x5e+0x673*-0x1),_0x5a78de=!(0x23c0+-0x9fb+-0x19c5),_0x5bae5e=!(0x2008+0xee*0x14+-0x32a0),_0x1a859b['append'](_0x6fb465['floatUnpac'+'kingPS']),_0x47414b['lightMaskD'+'ynamic']&&_0x4e2e1f['append']('#define\x20CL'+'USTER_MESH'+'_DYNAMIC_L'+'IGHTS'),_0x47414b['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x4e2e1f['append']('#define\x20CL'+'USTER_COOK'+'IES'),_0x47414b['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x47414b['noShadow']){const _0x4e81ed=(_0x48ffa3=ir['get'](_0x47414b['clusteredL'+'ightingSha'+'dowType']))==null?void(-0x6*0x493+0x1*0x136e+0x804):_0x48ffa3['name'];v['assert'](_0x4e81ed);const _0x4f9dc9=_0x4e81ed['substring'](-0x886+0x2704+0x1*-0x1e7e,-0x2d6+0x1216+0x6*-0x28a);_0x4e2e1f['append']('#define\x20CL'+'USTER_SHAD'+'OWS'),_0x4e2e1f['append']('#define\x20CL'+'USTER_SHAD'+'OW_TYPE_'+_0x4f9dc9);}_0x47414b['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x4e2e1f['append']('#define\x20CL'+'USTER_AREA'+'LIGHTS'),_0x4e2e1f['append'](E0['getShaderD'+'efines']()),_0x47414b['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x47414b['noShadow']&&_0x1a859b['append'](_0x6fb465['clusteredL'+'ightShadow'+'sPS']),_0x1a859b['append'](_0x6fb465['clusteredL'+'ightPS']);}if(_0x6d3373['append'](this['_fsGetStar'+'tCode'](_0x6d3373,_0x1d0ce3,_0x6fb465,_0x47414b)),this['needsNorma'+'l']&&(_0x6d3373['append']('\x20\x20\x20\x20dVerte'+'xNormalW\x20='+'\x20normalize'+'(vNormalW)'+';'),(_0x47414b['useHeights']||_0x47414b['useNormals'])&&_0x47414b['hasTangent'+'s']&&(_0x6d3373['append']('\x20\x20\x20\x20dTange'+'ntW\x20=\x20vTan'+'gentW;'),_0x6d3373['append']('\x20\x20\x20\x20dBinor'+'malW\x20=\x20vBi'+'normalW;')),_0x6d3373['append']('\x20\x20\x20\x20getVie'+'wDir();'),_0x15f4d1&&(_0x6d3373['append']('\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'),_0x47414b['twoSidedLi'+'ghting']&&_0x6d3373['append']('\x20\x20\x20\x20handle'+'TwoSidedLi'+'ghting();'))),_0x6d3373['append'](this['frontendFu'+'nc']),_0x47414b['ssao']&&(_0x1a859b['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec2\x20ssaoT'+'extureSize'+'Inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),_0x41d74a['append']('litArgs_ao'+'\x20*=\x20textur'+'e2DLod(ssa'+'oTexture,\x20'+'gl_FragCoo'+'rd.xy\x20*\x20ss'+'aoTextureS'+'izeInv,\x200.'+'0).r;')),this['needsNorma'+'l']&&(_0x47414b['useSpecula'+'r']&&_0x41d74a['append']('\x20\x20\x20\x20getRef'+'lDir(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_gloss'+',\x20dTBN);'),_0x47414b['useClearCo'+'at']&&_0x41d74a['append']('\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));')),(this['lighting']&&_0x47414b['useSpecula'+'r']||this['reflection'+'s'])&&(_0x47414b['useMetalne'+'ss']&&(_0x41d74a['append']('\x20\x20\x20\x20float\x20'+'f0\x20=\x201.0\x20/'+'\x20litArgs_i'+'or;\x20f0\x20=\x20('+'f0\x20-\x201.0)\x20'+'/\x20(f0\x20+\x201.'+'0);\x20f0\x20*=\x20'+'f0;'),_0x41d74a['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20getS'+'pecularMod'+'ulate(litA'+'rgs_specul'+'arity,\x20lit'+'Args_albed'+'o,\x20litArgs'+'_metalness'+',\x20f0);'),_0x41d74a['append']('\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);')),_0x47414b['useIridesc'+'ence']&&_0x41d74a['append']('\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+'ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);')),_0x576e20&&(_0x41d74a['append']('\x20\x20\x20\x20addAmb'+'ient(litAr'+'gs_worldNo'+'rmal);'),_0x47414b['useSpecula'+'r']&&_0x41d74a['append']('\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);'),_0x47414b['separateAm'+'bient']&&_0x41d74a['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dAmb'+'ientLight\x20'+'=\x20dDiffuse'+'Light;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20vec3(0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')),_0x36ae3b||_0x41d74a['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20material_'+'ambient;'),_0x47414b['useAo']&&!_0x47414b['occludeDir'+'ect']&&_0x41d74a['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),_0x47414b['lightMapEn'+'abled']&&_0x41d74a['append']('\x20\x20\x20\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ligh'+'tmapDir,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dReflDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dTBN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);'),this['lighting']||this['reflection'+'s']){this['reflection'+'s']&&(_0x47414b['useClearCo'+'at']&&(_0x41d74a['append']('\x20\x20\x20\x20addRef'+'lectionCC('+'ccReflDirW'+',\x20litArgs_'+'clearcoat_'+'gloss);'),_0x47414b['fresnelMod'+'el']>0x43*0x4+0x17ab+-0x18b7?(_0x41d74a['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));'),_0x41d74a['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20ccFres'+'nel;')):_0x41d74a['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;')),_0x47414b['useSpecula'+'rityFactor']&&_0x41d74a['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20litArg'+'s_specular'+'ityFactor;'),_0x47414b['useSheen']&&_0x41d74a['append']('\x20\x20\x20\x20addRef'+'lectionShe'+'en(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_sheen_g'+'loss);'),_0x41d74a['append']('\x20\x20\x20\x20addRef'+'lection(dR'+'eflDirW,\x20l'+'itArgs_glo'+'ss);'),_0x47414b['fresnelMod'+'el']>0x1*-0x169b+-0x1060+0x1*0x26fb?_0x41d74a['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'):_0x41d74a['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'ty;'),_0x47414b['useSpecula'+'rityFactor']&&_0x41d74a['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'tyFactor;')),_0xa7e361&&(_0x41d74a['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'y;'),_0x47414b['useSpecula'+'r']&&_0x41d74a['append']('\x20\x20\x20\x20calcLT'+'CLightValu'+'es(litArgs'+'_gloss,\x20li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW,\x20'+'litArgs_sp'+'ecularity,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20lit'+'Args_clear'+'coat_specu'+'larity);'));for(let _0x5e0c0a=-0xa83+0x2248*0x1+-0x17c5;_0x5e0c0a<_0x47414b['lights']['length'];_0x5e0c0a++){const _0x5dab53=_0x47414b['lights'][_0x5e0c0a],_0x4e6c0b=_0x5dab53['_type'];if(_0x47414b['clusteredL'+'ightingEna'+'bled']&&_0x4e6c0b!==oe)continue;_0x47a101=!(-0x11fc+0x1721+0x292*-0x2);const _0x596573=_0xa7e361&&_0x5dab53['_shape']?_0x5dab53['shape']:yt,_0x504580=_0xa7e361&&_0x5dab53['_shape']?this['_getLightS'+'ourceShape'+'String'](_0x596573):'';if(_0x596573!==yt&&_0x41d74a['append']('\x20\x20\x20\x20calc'+_0x504580+('LightValue'+'s(light')+_0x5e0c0a+('_position,'+'\x20light')+_0x5e0c0a+('_halfWidth'+',\x20light')+_0x5e0c0a+('_halfHeigh'+'t);')),_0x4e6c0b===oe?(_0x41d74a['append']('\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light'+_0x5e0c0a+('_direction'+';')),_0x41d74a['append']('\x20\x20\x20\x20dAtten'+'\x20=\x201.0;')):(_0x5dab53['_cookie']&&(_0x4e6c0b===Re&&!_0x5dab53['_cookie']['_cubemap']||_0x4e6c0b===Pe&&_0x5dab53['_cookie']['_cubemap'])&&(_0x5bae5e=!(0x65*0x25+0x1c*-0x10b+0xe9b),_0x47a101=!(0x2*0x6f5+-0x2*0x2fe+-0x7ee)),_0x41d74a['append']('\x20\x20\x20\x20getLig'+'htDirPoint'+'(light'+_0x5e0c0a+('_position)'+';')),_0x247553=!(-0x15e9+-0x1539+0x2b22),_0x47a101&&(_0x4e6c0b===Re?_0x41d74a['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kie2D'+(_0x5dab53['_cookieFal'+'loff']?'':'Clip')+(_0x5dab53['_cookieTra'+'nsform']?'Xform':'')+'(light'+_0x5e0c0a+('_cookie,\x20l'+'ight')+_0x5e0c0a+('_shadowMat'+'rix,\x20light')+_0x5e0c0a+('_cookieInt'+'ensity')+(_0x5dab53['_cookieTra'+'nsform']?',\x20light'+_0x5e0c0a+('_cookieMat'+'rix,\x20light')+_0x5e0c0a+('_cookieOff'+'set'):'')+').'+_0x5dab53['_cookieCha'+'nnel']+';'):_0x41d74a['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kieCube(li'+'ght'+_0x5e0c0a+('_cookie,\x20l'+'ight')+_0x5e0c0a+('_shadowMat'+'rix,\x20light')+_0x5e0c0a+('_cookieInt'+'ensity).')+_0x5dab53['_cookieCha'+'nnel']+';')),_0x596573===yt?_0x5dab53['_falloffMo'+'de']===wp?(_0x41d74a['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offLinear('+'light'+_0x5e0c0a+('_radius,\x20d'+'LightDirW)'+';')),_0x5a78de=!(-0xb08+0x60d+0x4fb)):(_0x41d74a['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offInvSqua'+'red(light'+_0x5e0c0a+('_radius,\x20d'+'LightDirW)'+';')),_0x27f14b=!(-0x12*-0x24+0x1790+-0x14e*0x14)):(_0x41d74a['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'light'+_0x5e0c0a+('_radius,\x20d'+'LightDirW)'+';')),_0x27f14b=!(0x42b+0x2e7+-0x16a*0x5)),_0x41d74a['append']('\x20\x20\x20\x20if\x20(dA'+'tten\x20>\x200.0'+'0001)\x20{'),_0x4e6c0b===Re&&(_0x47a101&&!_0x5dab53['_cookieFal'+'loff']||(_0x41d74a['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getSpo'+'tEffect(li'+'ght'+_0x5e0c0a+('_direction'+',\x20light')+_0x5e0c0a+('_innerCone'+'Angle,\x20lig'+'ht')+_0x5e0c0a+('_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);')),_0xf440c0=!(-0x179b+0xda*0x16+-0x1*-0x4df)))),_0x596573!==yt?_0x4e6c0b===oe?_0x41d74a['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'):_0x41d74a['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20get'+_0x504580+('LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;')):_0x41d74a['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'),_0x5dab53['castShadow'+'s']&&!_0x47414b['noShadow']){const _0x5d4d50=ir['get'](_0x5dab53['_shadowTyp'+'e']);v['assert'](_0x5d4d50);const _0x21b482=_0x5dab53['_shadowTyp'+'e']===Ts,_0x1c62e0=_0x5d4d50==null?void(-0x243*-0xa+0x208*-0x5+-0xc76):_0x5d4d50['vsm'],_0x346da8=_0x5d4d50==null?void(-0xddb+0xa70+-0x7*-0x7d):_0x5d4d50['pcf'];let _0x55853f=null,_0x3ae143;switch(_0x5dab53['_shadowTyp'+'e']){case Hr:_0x55853f='VSM16',_0x3ae143='5.54';break;case Wr:_0x55853f='VSM32',_0x3ae143='15.0';break;case Bh:case Nh:_0x55853f='PCF1x1';break;case lh:case Iu:_0x55853f='PCF5x5';break;case Ts:_0x55853f='PCSS';break;case Dt:case zh:default:_0x55853f='PCF3x3';break;}if(_0x55853f!==null){_0x5dab53['_normalOff'+'setBias']&&!_0x5dab53['_isVsm']&&_0x1a859b['append']('#define\x20SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET'),_0x4e6c0b===oe&&_0x1a859b['append']('#define\x20SH'+'ADOW_SAMPL'+'E_ORTHO'),(_0x346da8||_0x21b482||_0x1d0ce3['isWebGPU'])&&_0x1a859b['append']('#define\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER'),_0x4e6c0b===Pe&&_0x1a859b['append']('#define\x20SH'+'ADOW_SAMPL'+'E_POINT');const _0x82253e=_0x6fb465['shadowSamp'+'leCoordPS'];_0x1a859b['append'](_0x82253e['replace']('$LIGHT',_0x5e0c0a)),_0x1a859b['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET'),_0x1a859b['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_ORTHO'),_0x1a859b['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_SOURCE_ZB'+'UFFER'),_0x1a859b['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_POINT');let _0x4fb519='light'+_0x5e0c0a+('_shadowMat'+'rix');_0x4e6c0b===oe&&_0x5dab53['numCascade'+'s']>-0x48b*0x1+0x38f+0x1*0xfd&&(_0x41d74a['append']('int\x20cascad'+'eIndex'+_0x5e0c0a+('\x20=\x20getShad'+'owCascadeI'+'ndex(light')+_0x5e0c0a+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x5e0c0a+('_shadowCas'+'cadeCount)'+';')),_0x5dab53['cascadeBle'+'nd']>-0x2221+0x26c4+0x1*-0x4a3&&_0x41d74a['append']('cascadeInd'+'ex'+_0x5e0c0a+('\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex')+_0x5e0c0a+',\x20light'+_0x5e0c0a+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x5e0c0a+('_shadowCas'+'cadeCount,'+'\x20light')+_0x5e0c0a+('_shadowCas'+'cadeBlend)'+';')),_0x41d74a['append']('mat4\x20casca'+'deShadowMa'+'t'+_0x5e0c0a+'\x20=\x20light'+_0x5e0c0a+('_shadowMat'+'rixPalette'+'[cascadeIn'+'dex')+_0x5e0c0a+'];'),_0x4fb519='cascadeSha'+'dowMat'+_0x5e0c0a),_0x41d74a['append']('\x20\x20\x20\x20dShado'+'wCoord\x20=\x20g'+'etShadowSa'+'mpleCoord'+_0x5e0c0a+'('+_0x4fb519+',\x20light'+_0x5e0c0a+('_shadowPar'+'ams,\x20vPosi'+'tionW,\x20dLi'+'ghtPosW,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW,\x20dVe'+'rtexNormal'+'W);')),_0x4e6c0b===oe&&_0x41d74a['append']('\x20\x20\x20\x20fadeSh'+'adow(light'+_0x5e0c0a+('_shadowCas'+'cadeDistan'+'ces);'));let _0x4aef58='SHADOWMAP_'+'PASS(light'+_0x5e0c0a+('_shadowMap'+'),\x20dShadow'+'Coord,\x20lig'+'ht')+_0x5e0c0a+('_shadowPar'+'ams');if(_0x1c62e0)_0x4aef58=_0x4aef58+',\x20'+_0x3ae143+(',\x20dLightDi'+'rW');else{if(_0x21b482){let _0x404005=_0x4e6c0b===oe?'light'+_0x5e0c0a+('_softShado'+'wParams'):'vec2(light'+_0x5e0c0a+('_shadowSea'+'rchArea)');_0x596573!==yt&&(_0x404005='vec2(lengt'+'h(light'+_0x5e0c0a+('_halfWidth'+'),\x20length('+'light')+_0x5e0c0a+('_halfHeigh'+'t))\x20*\x20ligh'+'t')+_0x5e0c0a+('_shadowSea'+'rchArea')),_0x4aef58=_0x4aef58+',\x20light'+_0x5e0c0a+('_cameraPar'+'ams,\x20')+_0x404005+(',\x20dLightDi'+'rW');}}_0x4e6c0b===Pe?(_0x55853f='Point'+_0x55853f,_0x21b482||(_0x4aef58=_0x4aef58+(',\x20dLightDi'+'rW'))):_0x4e6c0b===Re&&(_0x55853f='Spot'+_0x55853f),_0x41d74a['append']('\x20\x20\x20\x20float\x20'+'shadow'+_0x5e0c0a+('\x20=\x20getShad'+'ow')+_0x55853f+'('+_0x4aef58+');'),_0x41d74a['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20mix(1.'+'0,\x20shadow'+_0x5e0c0a+',\x20light'+_0x5e0c0a+('_shadowInt'+'ensity);'));}}if(_0x596573!==yt?_0x47414b['useSpecula'+'r']?_0x41d74a['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20((dAttenD'+'\x20*\x20dAtten)'+'\x20*\x20light'+_0x5e0c0a+'_color'+(_0x47a101?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20dLTCSpecF'+'res);')):_0x41d74a['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAttenD\x20'+'*\x20dAtten)\x20'+'*\x20light'+_0x5e0c0a+'_color'+(_0x47a101?'\x20*\x20dAtten3':'')+';'):_0xa7e361&&_0x47414b['useSpecula'+'r']?_0x41d74a['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAtten\x20*'+'\x20light'+_0x5e0c0a+'_color'+(_0x47a101?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20litArgs_s'+'pecularity'+');')):_0x41d74a['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'light'+_0x5e0c0a+'_color'+(_0x47a101?'\x20*\x20dAtten3':'')+';'),_0x47414b['useSpecula'+'r']&&_0x41d74a['append']('\x20\x20\x20\x20dHalfD'+'irW\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);'),_0x5dab53['affectSpec'+'ularity']){if(_0x596573!==yt)_0x47414b['useClearCo'+'at']&&_0x41d74a['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20ccLTCSp'+'ecFres\x20*\x20g'+'et'+_0x504580+('LightSpecu'+'lar(litArg'+'s_clearcoa'+'t_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x5e0c0a+'_color'+(_0x47a101?'\x20*\x20dAtten3':'')+';'),_0x47414b['useSpecula'+'r']&&_0x41d74a['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20get'+_0x504580+('LightSpecu'+'lar(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x5e0c0a+'_color'+(_0x47a101?'\x20*\x20dAtten3':'')+';');else{let _0x3c78d2=!(-0x1b5c+-0x195*0x9+0x299a);_0x4e6c0b===oe&&_0x47414b['fresnelMod'+'el']>0x1561*0x1+0x1c2b+0x54*-0x97&&(_0x3c78d2=!(0x23fe+0xcd+-0x24cb*0x1)),_0x47414b['useClearCo'+'at']&&_0x41d74a['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'dHalfDirW,'+'\x20ccReflDir'+'W,\x20litArgs'+'_clearcoat'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirNormW,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20dTBN'+')\x20*\x20dAtten'+'\x20*\x20light'+_0x5e0c0a+'_color'+(_0x47a101?'\x20*\x20dAtten3':'')+(_0x3c78d2?'\x20*\x20getFres'+'nelCC(dot('+'dViewDirW,'+'\x20dHalfDirW'+'));':';')),_0x47414b['useSheen']&&_0x41d74a['append']('\x20\x20\x20\x20sSpecu'+'larLight\x20+'+'=\x20getLight'+'SpecularSh'+'een(dHalfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+_0x5e0c0a+'_color'+(_0x47a101?'\x20*\x20dAtten3'+';':';')),_0x47414b['useSpecula'+'r']&&_0x41d74a['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20getLight'+'Specular(d'+'HalfDirW,\x20'+'dReflDirW,'+'\x20litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dLightD'+'irNormW,\x20l'+'itArgs_glo'+'ss,\x20dTBN)\x20'+'*\x20dAtten\x20*'+'\x20light'+_0x5e0c0a+'_color'+(_0x47a101?'\x20*\x20dAtten3':'')+(_0x3c78d2?'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20*\x20'+'getFresnel'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(dVie'+'wDirW,\x20dHa'+'lfDirW),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_iridesce'+'nce_intens'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20);':'*\x20litArgs_'+'specularit'+'y;'));}}_0x4e6c0b!==oe&&_0x41d74a['append']('\x20\x20\x20\x20}');}_0x47414b['clusteredL'+'ightingEna'+'bled']&&this['lighting']&&(_0x5a78de=!(-0x9a4+0x1*-0x40d+0x5*0x2bd),_0x27f14b=!(-0x88d+0x2*0xd5d+-0x9*0x205),_0x247553=!(0x3d*-0x4a+-0x1*-0x687+0xb1b),_0x41d74a['append']('\x20\x20\x20\x20addClu'+'steredLigh'+'ts(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dVie'+'wDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'ReflDirW,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dVe'+'rtexNormal'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_shee'+'n_gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);'))),_0xa7e361&&(_0x47414b['useClearCo'+'at']&&_0x41d74a['append']('\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_specular'+'ity\x20=\x201.0;'),_0x47414b['useSpecula'+'r']&&_0x41d74a['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20vec3'+'(1);')),_0x47414b['useRefract'+'ion']&&_0x41d74a['append']('\x20\x20\x20\x20addRef'+'raction(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ViewDirW,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_thickne'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_transm'+'ission,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_dis'+'persion\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);');}_0x47414b['useAo']&&(_0x47414b['occludeDir'+'ect']&&_0x41d74a['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),(_0x47414b['occludeSpe'+'cular']===Bo||_0x47414b['occludeSpe'+'cular']===Lu)&&_0x41d74a['append']('\x20\x20\x20\x20occlud'+'eSpecular('+'litArgs_gl'+'oss,\x20litAr'+'gs_ao,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW);')),_0x47414b['useSpecula'+'rityFactor']&&_0x41d74a['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'yFactor;'),_0x47414b['opacityFad'+'esSpecular']===!(0xe13*-0x2+0x925+0x1302)&&((_0x47414b['blendType']===Kt||_0x47414b['blendType']===hr)&&(_0x41d74a['append']('float\x20spec'+'Lum\x20=\x20dot('+'(dSpecular'+'Light\x20+\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a)'+',\x20vec3(\x200.'+'2126,\x200.71'+'52,\x200.0722'+'\x20));'),_0x41d74a['append']('#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20specLum\x20'+'+=\x20dot(ccS'+'pecularLig'+'ht\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20+\x20ccR'+'eflection.'+'rgb\x20*\x20litA'+'rgs_clearc'+'oat_specul'+'arity,\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'#endif'),_0x41d74a['append']('litArgs_op'+'acity\x20=\x20cl'+'amp(litArg'+'s_opacity\x20'+'+\x20gammaCor'+'rectInput('+'specLum),\x20'+'0.0,\x201.0);')),_0x41d74a['append']('litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;')),_0x41d74a['append'](_0x6fb465['endPS']),_0x47414b['blendType']===Kt||_0x47414b['blendType']===Hc||_0x47414b['alphaToCov'+'erage']?_0x41d74a['append'](_0x6fb465['outputAlph'+'aPS']):_0x47414b['blendType']===hr?_0x41d74a['append'](_0x6fb465['outputAlph'+'aPremulPS']):_0x41d74a['append'](_0x6fb465['outputAlph'+'aOpaquePS']),_0x47414b['useMsdf']&&_0x41d74a['append']('\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20a'+'pplyMsdf(g'+'l_FragColo'+'r);'),_0x41d74a['append'](_0x6fb465['outputPS']),_0x41d74a['append'](_0x6fb465['debugOutpu'+'tPS']),_0x247553&&_0x1a859b['prepend'](_0x6fb465['lightDirPo'+'intPS']),_0x5a78de&&_0x1a859b['prepend'](_0x6fb465['falloffLin'+'earPS']),_0x27f14b&&_0x1a859b['prepend'](_0x6fb465['falloffInv'+'SquaredPS']),_0xf440c0&&_0x1a859b['prepend'](_0x6fb465['spotPS']),_0x5bae5e&&!_0x47414b['clusteredL'+'ightingEna'+'bled']&&_0x1a859b['prepend'](_0x6fb465['cookiePS']);let _0x175d7e='';const _0x148bca='void\x20evalu'+'ateBackend'+'()\x20{\x0a'+_0x41d74a['code']+'\x0a}';_0x1a859b['append'](_0x148bca),_0x6d3373['append'](_0x6fb465['debugProce'+'ssFrontend'+'PS']),_0x6d3373['append']('\x20\x20\x20\x20evalua'+'teBackend('+');'),_0x6d3373['append'](It['end']());const _0x1c4bbb=_0x4e2e1f['code']+_0x1a859b['code']+_0x6d3373['code'];return _0x1c4bbb['includes']('dTBN')&&(_0x175d7e+='mat3\x20dTBN;'+'\x0a'),_0x1c4bbb['includes']('dVertexNor'+'malW')&&(_0x175d7e+='vec3\x20dVert'+'exNormalW;'+'\x0a'),_0x1c4bbb['includes']('dTangentW')&&(_0x175d7e+='vec3\x20dTang'+'entW;\x0a'),_0x1c4bbb['includes']('dBinormalW')&&(_0x175d7e+='vec3\x20dBino'+'rmalW;\x0a'),_0x1c4bbb['includes']('dViewDirW')&&(_0x175d7e+='vec3\x20dView'+'DirW;\x0a'),_0x1c4bbb['includes']('dReflDirW')&&(_0x175d7e+='vec3\x20dRefl'+'DirW;\x0a'),_0x1c4bbb['includes']('dHalfDirW')&&(_0x175d7e+='vec3\x20dHalf'+'DirW;\x0a'),_0x1c4bbb['includes']('ccReflDirW')&&(_0x175d7e+='vec3\x20ccRef'+'lDirW;\x0a'),_0x1c4bbb['includes']('dLightDirN'+'ormW')&&(_0x175d7e+='vec3\x20dLigh'+'tDirNormW;'+'\x0a'),_0x1c4bbb['includes']('dLightDirW')&&(_0x175d7e+='vec3\x20dLigh'+'tDirW;\x0a'),_0x1c4bbb['includes']('dLightPosW')&&(_0x175d7e+='vec3\x20dLigh'+'tPosW;\x0a'),_0x1c4bbb['includes']('dShadowCoo'+'rd')&&(_0x175d7e+='vec3\x20dShad'+'owCoord;\x0a'),_0x1c4bbb['includes']('dReflectio'+'n')&&(_0x175d7e+='vec4\x20dRefl'+'ection;\x0a'),_0x1c4bbb['includes']('dDiffuseLi'+'ght')&&(_0x175d7e+='vec3\x20dDiff'+'useLight;\x0a'),_0x1c4bbb['includes']('dSpecularL'+'ight')&&(_0x175d7e+='vec3\x20dSpec'+'ularLight;'+'\x0a'),_0x1c4bbb['includes']('dAtten')&&(_0x175d7e+='float\x20dAtt'+'en;\x0a'),_0x1c4bbb['includes']('dAttenD')&&(_0x175d7e+='float\x20dAtt'+'enD;\x0a'),_0x1c4bbb['includes']('dAtten3')&&(_0x175d7e+='vec3\x20dAtte'+'n3;\x0a'),_0x1c4bbb['includes']('dMsdf')&&(_0x175d7e+='vec4\x20dMsdf'+';\x0a'),_0x1c4bbb['includes']('ccFresnel')&&(_0x175d7e+='float\x20ccFr'+'esnel;\x0a'),_0x1c4bbb['includes']('ccReflecti'+'on')&&(_0x175d7e+='vec3\x20ccRef'+'lection;\x0a'),_0x1c4bbb['includes']('ccSpecular'+'Light')&&(_0x175d7e+='vec3\x20ccSpe'+'cularLight'+';\x0a'),_0x1c4bbb['includes']('ccSpecular'+'ityNoFres')&&(_0x175d7e+='float\x20ccSp'+'ecularityN'+'oFres;\x0a'),_0x1c4bbb['includes']('sSpecularL'+'ight')&&(_0x175d7e+='vec3\x20sSpec'+'ularLight;'+'\x0a'),_0x1c4bbb['includes']('sReflectio'+'n')&&(_0x175d7e+='vec3\x20sRefl'+'ection;\x0a'),this['_fsGetBegi'+'nCode']()+this['varyings']+this['varyingDef'+'ines']+this['_fsGetBase'+'Code']()+_0x175d7e+this['frontendDe'+'cl']+_0x1c4bbb;}['generateFr'+'agmentShad'+'er'](_0x4ba901,_0x184901,_0x3dcd05,_0x1ac963){const _0x2ce3bf=this['options'];this['frontendDe'+'cl']=_0x4ba901,this['frontendCo'+'de']=_0x184901,this['frontendFu'+'nc']=_0x3dcd05,this['lightingUv']=_0x1ac963,_0x2ce3bf['pass']===Oa?this['fshader']=this['_fsGetPick'+'PassCode']():_0x2ce3bf['pass']===rl?this['fshader']=this['_fsGetDept'+'hPassCode']():_0x2ce3bf['pass']===il?this['fshader']=this['_fsGetPreP'+'assCode']():this['shadowPass']?this['fshader']=this['_fsGetShad'+'owPassCode']():_0x2ce3bf['customFrag'+'mentShader']?this['fshader']=this['_fsGetBegi'+'nCode']()+_0x2ce3bf['customFrag'+'mentShader']:this['fshader']=this['_fsGetLitP'+'assCode'](),v['assert'](!this['fshader']['includes']('litShaderA'+'rgs'),'Automatic\x20'+'compatibil'+'ity\x20with\x20s'+'haders\x20usi'+'ng\x20litShad'+'erArgs\x20has'+'\x20been\x20remo'+'ved.\x20Pleas'+'e\x20update\x20t'+'he\x20shader\x20'+'to\x20use\x20the'+'\x20new\x20syste'+'m.');}}class qC{constructor(){c(this,'hasTangent'+'s',!(0x1913*-0x1+0x18*-0x9c+0x27b4)),c(this,'chunks',{}),c(this,'pass',0x25b7+0x2117+-0x46ce),c(this,'alphaTest',!(0x4fe+-0x22d*-0x3+-0xb84*0x1)),c(this,'blendType',is),c(this,'separateAm'+'bient',!(-0x1447+-0x334*-0x2+0xde0)),c(this,'screenSpac'+'e',!(-0x2*0xcf7+0x9ee+0xf1*0x11)),c(this,'skin',!(0x54c*0x1+0xaf5+-0x340*0x5)),c(this,'batch',!(0x9b1*0x2+0x1ef3+-0x3254)),c(this,'useInstanc'+'ing',!(0xd07+-0x1*0x997+-0x36f)),c(this,'useMorphPo'+'sition',!(-0x7*-0x347+-0x1983+0x293)),c(this,'useMorphNo'+'rmal',!(-0x1*-0x87e+-0x94f+-0x1e*-0x7)),c(this,'useMorphTe'+'xtureBased'+'Int',!(0x1120+-0x9ab+-0x774)),c(this,'nineSliced'+'Mode',0x26b6+0xae4*0x2+-0x1*0x3c7e),c(this,'clusteredL'+'ightingEna'+'bled',!(0x21*0x94+-0x1*0x1af3+0x7df)),c(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(0x4*0x8fa+0x11a+-0x2501)),c(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(0x54*-0x27+-0xe2f+0x1afc)),c(this,'clusteredL'+'ightingSha'+'dowType',-0x4*0x801+-0x49*-0x9+-0x15*-0x167),c(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(-0x1a28+-0xca5+0x26ce)),c(this,'vertexColo'+'rs',!(-0x1f56+-0x5*-0xe6+0x1ad9)),c(this,'lightMapEn'+'abled',!(-0x1838+-0xb7a*-0x3+-0xa35*0x1)),c(this,'dirLightMa'+'pEnabled',!(0x1efa+-0x1112*-0x1+-0x300b)),c(this,'useHeights',!(0x2045+0xbcd+-0x2c11)),c(this,'useNormals',!(-0x65*0xe+0xa7e+-0x1f*0x29)),c(this,'useClearCo'+'atNormals',!(0x319*-0xb+-0x1cd4+0x3ee8)),c(this,'useAo',!(-0x1bb0+-0x1a3*-0x7+0x103c)),c(this,'diffuseMap'+'Enabled',!(0xc3d*0x1+-0xb2c+-0x110)),c(this,'customFrag'+'mentShader',null),c(this,'pixelSnap',!(-0x49*0x29+-0x13bd+0x26b*0xd)),c(this,'ambientSH',!(0x92d*-0x1+-0x101e*-0x2+-0x170e)),c(this,'ssao',!(-0x4*0x835+-0x867*-0x1+-0x2*-0xc37)),c(this,'twoSidedLi'+'ghting',!(-0x9*-0x19c+-0x14*0x37+-0x365*0x3)),c(this,'occludeDir'+'ect',!(-0x145c+0xc88+-0x5*-0x191)),c(this,'occludeSpe'+'cular',-0xf21+0x19d+0xd84),c(this,'occludeSpe'+'cularFloat',!(-0x7c3+-0x1a63+0x1*0x2227)),c(this,'useMsdf',!(0x164c+0x5b*0x2f+-0x340*0xc)),c(this,'msdfTextAt'+'tribute',!(0x1290+-0x223b+0xfac)),c(this,'alphaToCov'+'erage',!(-0x52*-0x23+0x1*0x6+0x5*-0x23f)),c(this,'opacityFad'+'esSpecular',!(-0x1*-0x1232+0x1214+0x3*-0xc17)),c(this,'opacityDit'+'her',Rs),c(this,'opacitySha'+'dowDither',Rs),c(this,'cubeMapPro'+'jection',0xc96+0x6e5+-0x137b),c(this,'useSpecula'+'r',!(0x1247+0x2429+-0x366f)),c(this,'useSpecula'+'rityFactor',!(0x134f+0x1a27+-0x2d75)),c(this,'enableGGXS'+'pecular',!(-0x1*-0xe21+-0x513*-0x7+0x1*-0x31a5)),c(this,'fresnelMod'+'el',0x1*0x1958+-0x8b*-0x31+-0x33f3),c(this,'useRefract'+'ion',!(0xcd+0x16c9+0x1795*-0x1)),c(this,'useClearCo'+'at',!(-0x1175+-0x1bf4+0x2d6a)),c(this,'useSheen',!(-0x151e+0x1d94+-0x875)),c(this,'useIridesc'+'ence',!(-0xd07+0x3*-0x523+0x9*0x329)),c(this,'useMetalne'+'ss',!(0x4*-0x99b+0x2276+-0x1d*-0x23)),c(this,'useDynamic'+'Refraction',!(-0x1*-0x6b2+-0xbf6*0x2+0xb*0x191)),c(this,'dispersion',!(0x15e4+-0x253+0x4*-0x4e4)),c(this,'fog',Fa),c(this,'gamma',sl),c(this,'toneMap',-(-0x105a+0x142e+-0x3d3)),c(this,'reflection'+'Source',null),c(this,'reflection'+'Encoding',null),c(this,'reflection'+'CubemapEnc'+'oding',null),c(this,'ambientSou'+'rce','constant'),c(this,'ambientEnc'+'oding',null),c(this,'skyboxInte'+'nsity',0x787*0x5+0x44b+-0x1*0x29ed),c(this,'useCubeMap'+'Rotation',!(0xc9*-0x9+0x2*-0xaab+-0x9*-0x328)),c(this,'lightMapWi'+'thoutAmbie'+'nt',!(0xaef+0x1*-0x43+-0xaab)),c(this,'lights',[]),c(this,'noShadow',!(0x117*-0x1d+0x1931+0x66b)),c(this,'lightMaskD'+'ynamic',0x24*0xb+-0x918+0x2e*0x2a),c(this,'userAttrib'+'utes',{}),c(this,'linearDept'+'h',!(-0xa*-0x257+0x161f+-0x2d84));}}class Vh{constructor(){c(this,'defines',new Map()),c(this,'forceUv1',!(0x17c2+-0x614+-0x11ad)),c(this,'specularTi'+'nt',!(-0x136b*0x2+0x45d*0x7+-0xec*-0x9)),c(this,'metalnessT'+'int',!(-0xa*-0x265+-0x802+0x1*-0xfef)),c(this,'glossTint',!(-0x17a1*-0x1+0xd93*-0x1+-0xa0d)),c(this,'emissiveEn'+'coding','linear'),c(this,'lightMapEn'+'coding','linear'),c(this,'packedNorm'+'al',!(-0x2410+-0xa4c+0xb*0x437)),c(this,'glossInver'+'t',!(0x8ad+0x1*0x1c3+0xa6f*-0x1)),c(this,'sheenGloss'+'Invert',!(0x2d8*0x5+-0x5*-0x3df+-0x10c9*0x2)),c(this,'clearCoatG'+'lossInvert',!(-0xee3*-0x1+-0x41a+-0xac8)),c(this,'useAO',!(-0x13e9+-0x1ee0+0x10ee*0x3)),c(this,'litOptions',new qC());}get['pass'](){return this['litOptions']['pass'];}}const Uu={'generateKey'(_0x343752){return'lit'+Object['keys'](_0x343752)['sort']()['map'](_0x479300=>_0x479300==='chunks'?Uu['generateCh'+'unksKey'](_0x343752):_0x479300==='lights'?Uu['generateLi'+'ghtsKey'](_0x343752):_0x479300+_0x343752[_0x479300])['join']('\x0a');},'generateLightsKey'(_0xf2a597){return'lights:'+_0xf2a597['lights']['map'](_0x465123=>!_0xf2a597['clusteredL'+'ightingEna'+'bled']||_0x465123['_type']===oe?_0x465123['key']+',':'')['join']('');},'generateChunksKey'(_0x209a72){return'chunks:\x0a'+Object['keys'](_0x209a72['chunks']??{})['sort']()['map'](_0x118369=>_0x118369+_0x209a72['chunks'][_0x118369])['join']('');}},fa=[],Ad=_0x17a875=>Object['keys'](_0x17a875)['filter'](_0x5884f2=>_0x5884f2!=='litOptions')['sort']();class XC extends It{constructor(){super(...arguments),c(this,'optionsCon'+'text',new Vh()),c(this,'optionsCon'+'textMin',new Vh());}['generateKe'+'y'](_0xa1664d){let _0x106092;return _0xa1664d===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Ad(_0xa1664d)),_0x106092=this['propsMin']):_0xa1664d===this['optionsCon'+'text']?(this['props']||(this['props']=Ad(_0xa1664d)),_0x106092=this['props']):_0x106092=Ad(_0xa1664d),'standard:\x0a'+It['definesHas'+'h'](_0xa1664d['defines'])+'\x0a'+_0x106092['map'](_0x4cc25a=>_0x4cc25a+_0xa1664d[_0x4cc25a])['join']('\x0a')+Uu['generateKe'+'y'](_0xa1664d['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x35a956,_0x5b0007,_0x13c1ec){const _0x57cad8=_0x13c1ec[_0x35a956],_0x20bc37=_0x13c1ec[_0x5b0007],_0x32c361=_0x13c1ec['litOptions']['pass']===gn;let _0x4184f8;return _0x32c361&&_0x13c1ec['litOptions']['nineSliced'+'Mode']===nt||_0x32c361&&_0x13c1ec['litOptions']['nineSliced'+'Mode']===Qe?_0x4184f8='nineSliced'+'Uv':(_0x57cad8===0x5*-0x8+0x3a0+-0x3*0x128?_0x4184f8='vUv'+_0x20bc37:_0x4184f8='vUV'+_0x20bc37+'_'+_0x57cad8,_0x13c1ec['heightMap']&&_0x35a956!=='heightMapT'+'ransform'&&(_0x4184f8+='\x20+\x20dUvOffs'+'et')),_0x4184f8;}['_addMapDef'](_0x3521ad,_0x175e9c){return _0x175e9c?'#define\x20'+_0x3521ad+'\x0a':'#undef\x20'+_0x3521ad+'\x0a';}['_addMapDef'+'s'](_0x333bae,_0x250342,_0x16e7f6,_0x24fddc,_0x58978f){return this['_addMapDef']('MAPFLOAT',_0x333bae)+this['_addMapDef']('MAPCOLOR',_0x250342)+this['_addMapDef']('MAPVERTEX',_0x16e7f6)+this['_addMapDef']('MAPTEXTURE',_0x24fddc)+this['_addMapDef']('MAPINVERT',_0x58978f);}['_addMap'](_0x4d6abe,_0x373485,_0x1ca310,_0x194c36,_0x49738b,_0x39ec9c=null){const _0x117463=_0x4d6abe+'Map',_0x21916c=_0x117463+'Uv',_0x20e569=_0x117463+'Identifier',_0x88ebf9=_0x117463+'Transform',_0x53ee91=_0x117463+'Channel',_0x58d9f7=_0x4d6abe+('VertexColo'+'rChannel'),_0x3804e6=_0x4d6abe+'Tint',_0x2c9653=_0x4d6abe+('VertexColo'+'r'),_0x491ed4=_0x4d6abe+'Mode',_0x4e493b=_0x4d6abe+'Invert',_0x33530d=_0x1ca310[_0x3804e6],_0x2b9725=_0x1ca310[_0x2c9653],_0x9913e9=_0x1ca310[_0x117463],_0x5a6a63=_0x1ca310[_0x20e569],_0x2d5676=_0x1ca310[_0x491ed4];let _0x277e3d=_0x194c36[_0x373485];if(_0x9913e9){const _0x201bc1=this['_getUvSour'+'ceExpressi'+'on'](_0x88ebf9,_0x21916c,_0x1ca310);if(_0x277e3d=_0x277e3d['replace'](/\$UV/g,_0x201bc1)['replace'](/\$CH/g,_0x1ca310[_0x53ee91]),_0x49738b&&_0x277e3d['search'](/\$SAMPLER/g)!==-(0x1*-0x157d+0x1315*0x1+0x269)){let _0x49e22a='texture_'+_0x117463;const _0x540594=_0x49738b[_0x5a6a63];_0x540594?_0x49e22a=_0x540594:_0x49738b[_0x5a6a63]=_0x49e22a,_0x277e3d=_0x277e3d['replace'](/\$SAMPLER/g,_0x49e22a);}if(_0x39ec9c&&(_0x1ca310[_0x53ee91]==='aaa'?_0x277e3d=_0x277e3d['replace'](/\$DECODE/g,'passThroug'+'h'):_0x277e3d=_0x277e3d['replace'](/\$DECODE/g,Es['decodeFunc'](_0x39ec9c)),_0x277e3d['indexOf']('$texture2D'+'SAMPLE'))){const _0x43676d={'linear':'texture2D','srgb':'texture2DS'+'RGB','rgbm':'texture2DR'+'GBM','rgbe':'texture2DR'+'GBE'};_0x277e3d=_0x277e3d['replace'](/\$texture2DSAMPLE/g,_0x43676d[_0x39ec9c]||'texture2D');}}_0x2b9725&&(_0x277e3d=_0x277e3d['replace'](/\$VC/g,_0x1ca310[_0x58d9f7])),_0x2d5676&&(_0x277e3d=_0x277e3d['replace'](/\$DETAILMODE/g,_0x2d5676));const _0x1f5965=!!(_0x33530d&0xded+-0x5*0x4e3+-0x45*-0x27),_0x5f14d5=!!(_0x33530d&0x1*0x87d+-0x2492+0x31f*0x9),_0x4e6a81=!!_0x1ca310[_0x4e493b];return _0x277e3d=this['_addMapDef'+'s'](_0x1f5965,_0x5f14d5,_0x2b9725,_0x9913e9,_0x4e6a81)+_0x277e3d,_0x277e3d['replace'](/\$/g,'');}['_correctCh'+'annel'](_0x4229a1,_0x4413db,_0x2b5751){if(_0x2b5751[_0x4229a1]>-0x26e6+-0x151f*0x1+0x3c05){if(_0x2b5751[_0x4229a1]<_0x4413db['length'])return _0x4413db['substring'](-0x1d*-0x5f+0x16*-0xdb+0x80f,_0x2b5751[_0x4229a1]);if(_0x2b5751[_0x4229a1]>_0x4413db['length']){let _0x56a437=_0x4413db;const _0xa08ed7=_0x56a437['charAt'](_0x56a437['length']-(-0x1*0x8b3+-0x7*0xa6+0xd3e)),_0x10d901=_0x2b5751[_0x4229a1]-_0x56a437['length'];for(let _0x7560f4=-0x865*0x1+-0xa*-0x197+-0x781;_0x7560f4<_0x10d901;_0x7560f4++)_0x56a437+=_0xa08ed7;return _0x56a437;}return _0x4413db;}}['createShad'+'erDefiniti'+'on'](_0x5469c8,_0x4674d6){const _0x1098bb=Ks['get'](_0x5469c8)['getByIndex'](_0x4674d6['litOptions']['pass'])['isForward'],_0x44ab9d=new $C(_0x5469c8,_0x4674d6['litOptions']),_0x34a845=[],_0x423cef=[],_0x1df677=[],_0x3d2dd2=0x18*0x74+0x4*0x17b+0x865*-0x2,_0x578f05={};for(const _0x51e143 in fa){const _0x31cb2e=_0x51e143+'Map';if(_0x4674d6[_0x51e143+('VertexColo'+'r')]){const _0x515932=_0x51e143+('VertexColo'+'rChannel');_0x4674d6[_0x515932]=this['_correctCh'+'annel'](_0x51e143,_0x4674d6[_0x515932],fa);}if(_0x4674d6[_0x31cb2e]){const _0x3aa765=_0x31cb2e+'Channel',_0x46d5f8=_0x31cb2e+'Transform',_0x1897c5=_0x31cb2e+'Uv';_0x4674d6[_0x1897c5]=Math['min'](_0x4674d6[_0x1897c5],_0x3d2dd2-(0x10cf+0x7*-0x43+0xef9*-0x1)),_0x4674d6[_0x3aa765]=this['_correctCh'+'annel'](_0x51e143,_0x4674d6[_0x3aa765],fa);const _0x4af82c=_0x4674d6[_0x1897c5];_0x34a845[_0x4af82c]=!(-0x1*-0xa0f+-0x7*-0x33d+0x1*-0x20ba),_0x423cef[_0x4af82c]=_0x423cef[_0x4af82c]||_0x4674d6[_0x31cb2e]&&!_0x4674d6[_0x46d5f8],_0x4674d6[_0x46d5f8]&&_0x1df677['push']({'name':_0x51e143,'id':_0x4674d6[_0x46d5f8],'uv':_0x4674d6[_0x1897c5]});}}_0x4674d6['forceUv1']&&(_0x34a845[-0x844+0x1a44+-0x11ff]=!(-0x107b+-0x1*-0x1e4c+-0x9*0x189),_0x423cef[-0x603+0x1f8f+-0x1f7*0xd]=_0x423cef[-0x18d4+-0xc30+0x2505]!==void(-0xac0*0x1+0x2*-0x577+-0x172*-0xf)?_0x423cef[-0x1ff*0x7+-0x792+0xac6*0x2]:!(-0x2a8+0x4b9*-0x5+-0x541*-0x5)),_0x44ab9d['generateVe'+'rtexShader'](_0x34a845,_0x423cef,_0x1df677),_0x4674d6['litOptions']['fresnelMod'+'el']=_0x4674d6['litOptions']['fresnelMod'+'el']===0x5*0x749+-0x32*0x14+0x9*-0x39d?Sp:_0x4674d6['litOptions']['fresnelMod'+'el'];const _0x55165a=new sr(),_0x1f409f=new sr(),_0x4c04e3=new sr(),_0x158b29=new sr();let _0x230848='';if(_0x4674d6['litOptions']['nineSliced'+'Mode']===Qe?_0x55165a['append']('const\x20floa'+'t\x20textureB'+'ias\x20=\x20-100'+'0.0;'):_0x55165a['append']('uniform\x20fl'+'oat\x20textur'+'eBias;'),_0x1098bb){if(_0x4674d6['heightMap']&&(_0x55165a['append']('vec2\x20dUvOf'+'fset;'),_0x1f409f['append'](this['_addMap']('height','parallaxPS',_0x4674d6,_0x44ab9d['chunks'],_0x578f05)),_0x4c04e3['append']('getParalla'+'x();')),_0x4674d6['litOptions']['blendType']!==is||_0x4674d6['litOptions']['alphaTest']||_0x4674d6['litOptions']['alphaToCov'+'erage']||_0x4674d6['litOptions']['opacityDit'+'her']!==Rs){_0x55165a['append']('float\x20dAlp'+'ha;'),_0x1f409f['append'](this['_addMap']('opacity','opacityPS',_0x4674d6,_0x44ab9d['chunks'],_0x578f05)),_0x4c04e3['append']('getOpacity'+'();'),_0x158b29['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x4674d6['litOptions']['alphaTest']&&(_0x1f409f['append'](_0x44ab9d['chunks']['alphaTestP'+'S']),_0x4c04e3['append']('alphaTest('+'dAlpha);'));const _0xaf1c33=_0x4674d6['litOptions']['opacityDit'+'her'];_0xaf1c33!==Rs&&(_0xaf1c33===Nm&&_0x55165a['append'](_0x44ab9d['chunks']['bayerPS']),_0x55165a['append']('#define\x20DI'+'THER_'+_0xaf1c33['toUpperCas'+'e']()+'\x0a'),_0x55165a['append'](_0x44ab9d['chunks']['opacityDit'+'herPS']),_0x4c04e3['append']('opacityDit'+'her(dAlpha'+',\x200.0);'));}else _0x55165a['append']('float\x20dAlp'+'ha\x20=\x201.0;');if(_0x44ab9d['needsNorma'+'l']){if((_0x4674d6['normalMap']||_0x4674d6['clearCoatN'+'ormalMap'])&&(_0x1f409f['append'](_0x4674d6['packedNorm'+'al']?_0x44ab9d['chunks']['normalXYPS']:_0x44ab9d['chunks']['normalXYZP'+'S']),!_0x4674d6['litOptions']['hasTangent'+'s'])){const _0x1b6756=_0x4674d6['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x230848=this['_getUvSour'+'ceExpressi'+'on'](_0x1b6756+'Transform',_0x1b6756+'Uv',_0x4674d6);}_0x55165a['append']('vec3\x20dNorm'+'alW;'),_0x1f409f['append'](this['_addMap']('normalDeta'+'il','normalDeta'+'ilMapPS',_0x4674d6,_0x44ab9d['chunks'],_0x578f05)),_0x1f409f['append'](this['_addMap']('normal','normalMapP'+'S',_0x4674d6,_0x44ab9d['chunks'],_0x578f05)),_0x4c04e3['append']('getNormal('+');'),_0x158b29['append']('litArgs_wo'+'rldNormal\x20'+'=\x20dNormalW'+';');}if(_0x44ab9d['needsScene'+'Color']&&_0x55165a['append']('uniform\x20sa'+'mpler2D\x20uS'+'ceneColorM'+'ap;'),_0x44ab9d['needsScree'+'nSize']&&_0x55165a['append']('uniform\x20ve'+'c4\x20uScreen'+'Size;'),_0x44ab9d['needsTrans'+'forms']&&(_0x55165a['append']('uniform\x20ma'+'t4\x20matrix_'+'viewProjec'+'tion;'),_0x55165a['append']('uniform\x20ma'+'t4\x20matrix_'+'model;')),(_0x4674d6['diffuseDet'+'ail']||_0x4674d6['aoDetail'])&&_0x1f409f['append'](_0x44ab9d['chunks']['detailMode'+'sPS']),_0x55165a['append']('vec3\x20dAlbe'+'do;'),_0x4674d6['diffuseDet'+'ail']&&_0x1f409f['append'](this['_addMap']('diffuseDet'+'ail','diffuseDet'+'ailMapPS',_0x4674d6,_0x44ab9d['chunks'],_0x578f05,_0x4674d6['diffuseDet'+'ailEncodin'+'g'])),_0x1f409f['append'](this['_addMap']('diffuse','diffusePS',_0x4674d6,_0x44ab9d['chunks'],_0x578f05,_0x4674d6['diffuseEnc'+'oding'])),_0x4c04e3['append']('getAlbedo('+');'),_0x158b29['append']('litArgs_al'+'bedo\x20=\x20dAl'+'bedo;'),_0x4674d6['litOptions']['useRefract'+'ion']&&(_0x55165a['append']('float\x20dTra'+'nsmission;'),_0x1f409f['append'](this['_addMap']('refraction','transmissi'+'onPS',_0x4674d6,_0x44ab9d['chunks'],_0x578f05)),_0x4c04e3['append']('getRefract'+'ion();'),_0x158b29['append']('litArgs_tr'+'ansmission'+'\x20=\x20dTransm'+'ission;'),_0x55165a['append']('float\x20dThi'+'ckness;'),_0x1f409f['append'](this['_addMap']('thickness','thicknessP'+'S',_0x4674d6,_0x44ab9d['chunks'],_0x578f05)),_0x4c04e3['append']('getThickne'+'ss();'),_0x158b29['append']('litArgs_th'+'ickness\x20=\x20'+'dThickness'+';'),_0x4674d6['litOptions']['dispersion']&&_0x158b29['append']('litArgs_di'+'spersion\x20='+'\x20material_'+'dispersion'+';')),_0x4674d6['litOptions']['useIridesc'+'ence']&&(_0x55165a['append']('float\x20dIri'+'descence;'),_0x1f409f['append'](this['_addMap']('iridescenc'+'e','iridescenc'+'ePS',_0x4674d6,_0x44ab9d['chunks'],_0x578f05)),_0x4c04e3['append']('getIridesc'+'ence();'),_0x158b29['append']('litArgs_ir'+'idescence_'+'intensity\x20'+'=\x20dIridesc'+'ence;'),_0x55165a['append']('float\x20dIri'+'descenceTh'+'ickness;'),_0x1f409f['append'](this['_addMap']('iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x4674d6,_0x44ab9d['chunks'],_0x578f05)),_0x4c04e3['append']('getIridesc'+'enceThickn'+'ess();'),_0x158b29['append']('litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;')),_0x44ab9d['lighting']&&_0x4674d6['litOptions']['useSpecula'+'r']||_0x44ab9d['reflection'+'s']?(_0x55165a['append']('vec3\x20dSpec'+'ularity;'),_0x55165a['append']('float\x20dGlo'+'ssiness;'),_0x4674d6['litOptions']['useSheen']&&(_0x55165a['append']('vec3\x20sSpec'+'ularity;'),_0x1f409f['append'](this['_addMap']('sheen','sheenPS',_0x4674d6,_0x44ab9d['chunks'],_0x578f05,_0x4674d6['sheenEncod'+'ing'])),_0x4c04e3['append']('getSheen()'+';'),_0x158b29['append']('litArgs_sh'+'een_specul'+'arity\x20=\x20sS'+'pecularity'+';'),_0x55165a['append']('float\x20sGlo'+'ssiness;'),_0x1f409f['append'](this['_addMap']('sheenGloss','sheenGloss'+'PS',_0x4674d6,_0x44ab9d['chunks'],_0x578f05)),_0x4c04e3['append']('getSheenGl'+'ossiness()'+';'),_0x158b29['append']('litArgs_sh'+'een_gloss\x20'+'=\x20sGlossin'+'ess;')),_0x4674d6['litOptions']['useMetalne'+'ss']&&(_0x55165a['append']('float\x20dMet'+'alness;'),_0x1f409f['append'](this['_addMap']('metalness','metalnessP'+'S',_0x4674d6,_0x44ab9d['chunks'],_0x578f05)),_0x4c04e3['append']('getMetalne'+'ss();'),_0x158b29['append']('litArgs_me'+'talness\x20=\x20'+'dMetalness'+';'),_0x55165a['append']('float\x20dIor'+';'),_0x1f409f['append'](this['_addMap']('ior','iorPS',_0x4674d6,_0x44ab9d['chunks'],_0x578f05)),_0x4c04e3['append']('getIor();'),_0x158b29['append']('litArgs_io'+'r\x20=\x20dIor;')),_0x4674d6['litOptions']['useSpecula'+'rityFactor']&&(_0x55165a['append']('float\x20dSpe'+'cularityFa'+'ctor;'),_0x1f409f['append'](this['_addMap']('specularit'+'yFactor','specularit'+'yFactorPS',_0x4674d6,_0x44ab9d['chunks'],_0x578f05)),_0x4c04e3['append']('getSpecula'+'rityFactor'+'();'),_0x158b29['append']('litArgs_sp'+'ecularityF'+'actor\x20=\x20dS'+'pecularity'+'Factor;')),_0x4674d6['useSpecula'+'rColor']?_0x1f409f['append'](this['_addMap']('specular','specularPS',_0x4674d6,_0x44ab9d['chunks'],_0x578f05,_0x4674d6['specularEn'+'coding'])):_0x1f409f['append']('void\x20getSp'+'ecularity('+')\x20{\x20dSpecu'+'larity\x20=\x20v'+'ec3(1);\x20}'),_0x1f409f['append'](this['_addMap']('gloss','glossPS',_0x4674d6,_0x44ab9d['chunks'],_0x578f05)),_0x4c04e3['append']('getGlossin'+'ess();'),_0x4c04e3['append']('getSpecula'+'rity();'),_0x158b29['append']('litArgs_sp'+'ecularity\x20'+'=\x20dSpecula'+'rity;'),_0x158b29['append']('litArgs_gl'+'oss\x20=\x20dGlo'+'ssiness;')):(_0x55165a['append']('vec3\x20dSpec'+'ularity\x20=\x20'+'vec3(0.0);'),_0x55165a['append']('float\x20dGlo'+'ssiness\x20=\x20'+'0.0;')),_0x4674d6['aoDetail']&&_0x1f409f['append'](this['_addMap']('aoDetail','aoDetailMa'+'pPS',_0x4674d6,_0x44ab9d['chunks'],_0x578f05)),(_0x4674d6['aoMap']||_0x4674d6['aoVertexCo'+'lor']||_0x4674d6['useAO'])&&(_0x55165a['append']('float\x20dAo;'),_0x1f409f['append'](this['_addMap']('ao','aoPS',_0x4674d6,_0x44ab9d['chunks'],_0x578f05)),_0x4c04e3['append']('getAO();'),_0x158b29['append']('litArgs_ao'+'\x20=\x20dAo;')),_0x55165a['append']('vec3\x20dEmis'+'sion;'),_0x1f409f['append'](this['_addMap']('emissive','emissivePS',_0x4674d6,_0x44ab9d['chunks'],_0x578f05,_0x4674d6['emissiveEn'+'coding'])),_0x4c04e3['append']('getEmissio'+'n();'),_0x158b29['append']('litArgs_em'+'ission\x20=\x20d'+'Emission;'),_0x4674d6['litOptions']['useClearCo'+'at']&&(_0x55165a['append']('float\x20ccSp'+'ecularity;'),_0x55165a['append']('float\x20ccGl'+'ossiness;'),_0x55165a['append']('vec3\x20ccNor'+'malW;'),_0x1f409f['append'](this['_addMap']('clearCoat','clearCoatP'+'S',_0x4674d6,_0x44ab9d['chunks'],_0x578f05)),_0x1f409f['append'](this['_addMap']('clearCoatG'+'loss','clearCoatG'+'lossPS',_0x4674d6,_0x44ab9d['chunks'],_0x578f05)),_0x1f409f['append'](this['_addMap']('clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x4674d6,_0x44ab9d['chunks'],_0x578f05)),_0x4c04e3['append']('getClearCo'+'at();'),_0x4c04e3['append']('getClearCo'+'atGlossine'+'ss();'),_0x4c04e3['append']('getClearCo'+'atNormal()'+';'),_0x158b29['append']('litArgs_cl'+'earcoat_sp'+'ecularity\x20'+'=\x20ccSpecul'+'arity;'),_0x158b29['append']('litArgs_cl'+'earcoat_gl'+'oss\x20=\x20ccGl'+'ossiness;'),_0x158b29['append']('litArgs_cl'+'earcoat_wo'+'rldNormal\x20'+'=\x20ccNormal'+'W;')),_0x4674d6['lightMap']||_0x4674d6['lightVerte'+'xColor']){const _0x55a84=_0x4674d6['dirLightMa'+'p']&&_0x4674d6['litOptions']['useSpecula'+'r'],_0x40bdec=_0x55a84?'lightmapDi'+'rPS':'lightmapSi'+'nglePS';_0x55165a['append']('vec3\x20dLigh'+'tmap;'),_0x55a84&&_0x55165a['append']('vec3\x20dLigh'+'tmapDir;'),_0x1f409f['append'](this['_addMap']('light',_0x40bdec,_0x4674d6,_0x44ab9d['chunks'],_0x578f05,_0x4674d6['lightMapEn'+'coding'])),_0x4c04e3['append']('getLightMa'+'p();'),_0x158b29['append']('litArgs_li'+'ghtmap\x20=\x20d'+'Lightmap;'),_0x55a84&&_0x158b29['append']('litArgs_li'+'ghtmapDir\x20'+'=\x20dLightma'+'pDir;');}v['assert'](_0x1f409f['code']['indexOf']('texture2DS'+'RGB')===-(0x20e2+-0x1*-0x12b9+-0x339a*0x1)&&_0x1f409f['code']['indexOf']('texture2DR'+'GBM')===-(-0x41*0x89+-0x1ab+0x2475)&&_0x1f409f['code']['indexOf']('texture2DR'+'GBE')===-(-0x59*-0xa+0x6f7*-0x1+0x37e),'Shader\x20chu'+'nk\x20macro\x20$'+'texture2DS'+'AMPLE(XXX)'+'\x20is\x20deprec'+'ated.\x20Plea'+'se\x20use\x20$DE'+'CODE(textu'+'re2D(XXX))'+'\x20instead.');}else{const _0x123e65=_0x4674d6['litOptions']['opacitySha'+'dowDither'];(_0x4674d6['litOptions']['alphaTest']||_0x123e65)&&(_0x55165a['append']('float\x20dAlp'+'ha;'),_0x1f409f['append'](this['_addMap']('opacity','opacityPS',_0x4674d6,_0x44ab9d['chunks'],_0x578f05)),_0x4c04e3['append']('getOpacity'+'();'),_0x158b29['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x4674d6['litOptions']['alphaTest']&&(_0x1f409f['append'](_0x44ab9d['chunks']['alphaTestP'+'S']),_0x4c04e3['append']('alphaTest('+'dAlpha);')),_0x123e65!==Rs&&(_0x123e65===Nm&&_0x55165a['append'](_0x44ab9d['chunks']['bayerPS']),_0x55165a['append']('#define\x20DI'+'THER_'+_0x123e65['toUpperCas'+'e']()+'\x0a'),_0x55165a['append'](_0x44ab9d['chunks']['opacityDit'+'herPS']),_0x4c04e3['append']('opacityDit'+'her(dAlpha'+',\x200.0);')));}_0x55165a['append'](_0x44ab9d['chunks']['litShaderA'+'rgsPS']),_0x1f409f['append']('void\x20evalu'+'ateFronten'+'d()\x20{\x20\x0a'+_0x4c04e3['code']+'\x0a'+_0x158b29['code']+'\x0a\x20}\x0a'),_0x4c04e3['code']='evaluateFr'+'ontend();';for(const _0xf8a22a in _0x578f05)_0x55165a['append']('uniform\x20sa'+'mpler2D\x20'+_0x578f05[_0xf8a22a]+';');_0x4c04e3['code']='\x0a'+_0x4c04e3['code']['split']('\x0a')['map'](_0xdb1724=>'\x20\x20\x20\x20'+_0xdb1724)['join']('\x0a')+'\x0a\x0a',_0x44ab9d['generateFr'+'agmentShad'+'er'](_0x55165a['code'],_0x1f409f['code'],_0x4c04e3['code'],_0x230848);const _0x47a807=new Map(Object['entries']({...Object['getPrototy'+'peOf'](_0x44ab9d['chunks']),..._0x44ab9d['chunks'],..._0x4674d6['litOptions']['chunks']})),_0x1164da=new Map(_0x4674d6['defines']),_0x4e5524=Mt['createDefi'+'nition'](_0x5469c8,{'name':'StandardSh'+'ader','attributes':_0x44ab9d['attributes'],'vertexCode':_0x44ab9d['vshader'],'fragmentCode':_0x44ab9d['fshader'],'vertexIncludes':_0x47a807,'fragmentIncludes':_0x47a807,'fragmentDefines':_0x1164da,'vertexDefines':_0x1164da});return _0x44ab9d['shaderPass'+'Info']['isForward']&&(_0x4e5524['tag']=Ly),_0x4e5524;}}const Ed=new XC(),Ft=[];Ft[n0]={'src':at,'dst':at,'op':ES},Ft[is]={'src':at,'dst':kf,'op':Lt},Ft[Kt]={'src':dc,'dst':uc,'op':Lt,'alphaSrc':at},Ft[hr]={'src':at,'dst':uc,'op':Lt},Ft[yp]={'src':at,'dst':at,'op':Lt},Ft[Hc]={'src':dc,'dst':at,'op':Lt},Ft[a0]={'src':dy,'dst':TS,'op':Lt},Ft[o0]={'src':AS,'dst':at,'op':Lt},Ft[xp]={'src':dy,'dst':kf,'op':Lt},Ft[l0]={'src':at,'dst':at,'op':CS},Ft[h0]={'src':at,'dst':at,'op':MS};let jC=0x1150*-0x1+-0x2f8+-0xa24*-0x2;class yn{constructor(){c(this,'meshInstan'+'ces',[]),c(this,'name','Untitled'),c(this,'userId',''),c(this,'id',jC++),c(this,'variants',new Map()),c(this,'defines',new Map()),c(this,'_definesDi'+'rty',!(0x5*0x3fd+0x1624+-0x1*0x2a14)),c(this,'parameters',{}),c(this,'alphaTest',-0x4af+0x1779+-0x12ca),c(this,'alphaToCov'+'erage',!(0x1bd1+-0x91c+-0x12b4)),c(this,'_blendStat'+'e',new _t()),c(this,'_depthStat'+'e',new as()),c(this,'cull',rn),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'_chunks',{}),c(this,'_dirtyShad'+'er',!(-0x714*0x5+0x31e*-0x4+0x2fdc)),c(this,'_shaderVer'+'sion',-0x2*0x72f+-0x88*-0x26+0x5d2*-0x1),c(this,'_scene',null),c(this,'dirty',!(0x1d*-0x60+-0xd6c+0x184c)),new.target===yn&&v['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}set['chunks'](_0x3001b3){this['_dirtyShad'+'er']=!(-0xb28+0x2*-0x11dd+-0x2*-0x1771),this['_chunks']=_0x3001b3;}get['chunks'](){return this['_dirtyShad'+'er']=!(0x1c6d*-0x1+-0xe77+-0x12*-0x262),this['_chunks'];}set['depthBias'](_0x1ca312){this['_depthStat'+'e']['depthBias']=_0x1ca312;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x2a2aaf){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x2a2aaf;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x334731){this['_blendStat'+'e']['redWrite']=_0x334731;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x294082){this['_blendStat'+'e']['greenWrite']=_0x294082;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x591db0){this['_blendStat'+'e']['blueWrite']=_0x591db0;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x5a1e11){this['_blendStat'+'e']['alphaWrite']=_0x5a1e11;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x42a05c=this['transparen'+'t'],_0x32f6b2=this['meshInstan'+'ces'];for(let _0x117276=0x1*0x25a9+0x39*-0x91+-0x560;_0x117276<_0x32f6b2['length'];_0x117276++)_0x32f6b2[_0x117276]['transparen'+'t']=_0x42a05c;}set['blendState'](_0x3d6857){this['_blendStat'+'e']['copy'](_0x3d6857),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x34c0a6){const _0x42d6c3=Ft[_0x34c0a6];v['assert'](_0x42d6c3,'Unknown\x20bl'+'end\x20mode\x20'+_0x34c0a6),this['_blendStat'+'e']['setColorBl'+'end'](_0x42d6c3['op'],_0x42d6c3['src'],_0x42d6c3['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x42d6c3['alphaOp']??_0x42d6c3['op'],_0x42d6c3['alphaSrc']??_0x42d6c3['src'],_0x42d6c3['alphaDst']??_0x42d6c3['dst']);const _0x5eba9e=_0x34c0a6!==is;this['_blendStat'+'e']['blend']!==_0x5eba9e&&(this['_blendStat'+'e']['blend']=_0x5eba9e,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return is;const {colorOp:_0x7b1a0d,colorSrcFactor:_0x338784,colorDstFactor:_0x4bae87,alphaOp:_0x21ace8,alphaSrcFactor:_0x4cbe4d,alphaDstFactor:_0x68e564}=this['_blendStat'+'e'];for(let _0x3b0be4=0x1ded+0x1b39+-0x3926;_0x3b0be4<Ft['length'];_0x3b0be4++){const _0x30c24f=Ft[_0x3b0be4];if(_0x30c24f['src']===_0x338784&&_0x30c24f['dst']===_0x4bae87&&_0x30c24f['op']===_0x7b1a0d&&_0x30c24f['src']===_0x4cbe4d&&_0x30c24f['dst']===_0x68e564&&_0x30c24f['op']===_0x21ace8)return _0x3b0be4;}return Kt;}set['depthState'](_0x5dae65){this['_depthStat'+'e']['copy'](_0x5dae65);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x43088e){this['_depthStat'+'e']['test']=_0x43088e;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x65856b){this['_depthStat'+'e']['func']=_0x65856b;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x3a3d00){this['_depthStat'+'e']['write']=_0x3a3d00;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x3c09e7){var _0x1432c6;this['name']=_0x3c09e7['name'],this['alphaTest']=_0x3c09e7['alphaTest'],this['alphaToCov'+'erage']=_0x3c09e7['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x3c09e7['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x3c09e7['_depthStat'+'e']),this['cull']=_0x3c09e7['cull'],this['stencilFro'+'nt']=(_0x1432c6=_0x3c09e7['stencilFro'+'nt'])==null?void(0x2f9*-0x7+-0x419*-0x9+-0x1012):_0x1432c6['clone'](),_0x3c09e7['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x3c09e7['stencilFro'+'nt']===_0x3c09e7['stencilBac'+'k']?this['stencilFro'+'nt']:_0x3c09e7['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x1b64ea in _0x3c09e7['parameters'])_0x3c09e7['parameters']['hasOwnProp'+'erty'](_0x1b64ea)&&this['_setParame'+'terSimple'](_0x1b64ea,_0x3c09e7['parameters'][_0x1b64ea]['data']);this['defines']['clear'](),_0x3c09e7['defines']['forEach']((_0x50523e,_0x2bb7a3)=>this['defines']['set'](_0x2bb7a3,_0x50523e));const _0x1a4fa1=_0x3c09e7['_chunks'];for(const _0x627e4a in _0x1a4fa1)_0x1a4fa1['hasOwnProp'+'erty'](_0x627e4a)&&(this['_chunks'][_0x627e4a]=_0x1a4fa1[_0x627e4a]);return this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0xd971b8=this['meshInstan'+'ces'];for(let _0x38fb73=-0x1acd+0x1f97*0x1+-0x4ca;_0x38fb73<_0xd971b8['length'];_0x38fb73++)_0xd971b8[_0x38fb73]['updateKey']();}['updateUnif'+'orms'](_0x5ae230,_0x41fb9a){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x8ce276){v['assert'](!(-0x1492+0x1afe+-0x66b),'Not\x20implem'+'ented');}['update'](){this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0x1*-0x1456+-0x1a*-0x2a+-0x1*-0x1013),this['clearVaria'+'nts']()),this['dirty']=!(-0x24d8+0x257e*0x1+0x2*-0x53);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x400a04=this['meshInstan'+'ces'],_0x33f8d4=_0x400a04['length'];for(let _0x3765eb=0x1a8a+-0xb1b*-0x1+-0x1a3*0x17;_0x3765eb<_0x33f8d4;_0x3765eb++)_0x400a04[_0x3765eb]['clearShade'+'rs']();}['getParamet'+'er'](_0x294c68){return this['parameters'][_0x294c68];}['_setParame'+'terSimple'](_0x3c4a94,_0x1cb0aa){v['call'](()=>{_0x1cb0aa===void(-0x70+0xcec+0x22*-0x5e)&&v['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x3c4a94+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'));});const _0x5a1951=this['parameters'][_0x3c4a94];_0x5a1951?_0x5a1951['data']=_0x1cb0aa:this['parameters'][_0x3c4a94]={'scopeId':null,'data':_0x1cb0aa};}['setParamet'+'er'](_0x2151ac,_0x1403a6){if(_0x1403a6===void(-0x15ab+-0xc38+0x15b*0x19)&&typeof _0x2151ac=='object'){const _0x14d305=_0x2151ac;if(_0x14d305['length']){for(let _0x3f42ae=0x79f+0x2bf+-0xa5e;_0x3f42ae<_0x14d305['length'];_0x3f42ae++)this['setParamet'+'er'](_0x14d305[_0x3f42ae]);return;}_0x2151ac=_0x14d305['name'],_0x1403a6=_0x14d305['value'];}this['_setParame'+'terSimple'](_0x2151ac,_0x1403a6);}['deletePara'+'meter'](_0x468b90){this['parameters'][_0x468b90]&&delete this['parameters'][_0x468b90];}['setParamet'+'ers'](_0x26e5f7,_0x59b902){const _0x56ac71=this['parameters'];_0x59b902===void(-0x2*-0xb2b+0x1e94+0x1a*-0x209)&&(_0x59b902=_0x56ac71);for(const _0x12d57e in _0x59b902){const _0x842e34=_0x56ac71[_0x12d57e];_0x842e34&&(_0x842e34['scopeId']||(_0x842e34['scopeId']=_0x26e5f7['scope']['resolve'](_0x12d57e)),_0x842e34['scopeId']['setValue'](_0x842e34['data']));}}['setDefine'](_0x4c1a3c,_0x457d3a){let _0x118ce9=!(-0x1*0x1dec+0x1169+-0x642*-0x2);const {defines:_0x5a26d8}=this;_0x457d3a!==void(0x1d32+0xfde*0x1+0x4*-0xb44)&&_0x457d3a!==!(-0x1*0x7bb+-0x1*-0x10f5+-0x313*0x3)?(_0x118ce9=!_0x5a26d8['has'](_0x4c1a3c)||_0x5a26d8['get'](_0x4c1a3c)!==_0x457d3a,_0x5a26d8['set'](_0x4c1a3c,_0x457d3a)):(_0x118ce9=_0x5a26d8['has'](_0x4c1a3c),_0x5a26d8['delete'](_0x4c1a3c)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x118ce9);}['getDefine'](_0x3ce705){return this['defines']['has'](_0x3ce705);}['destroy'](){this['variants']['clear']();for(let _0x4dd11f=0x15b3*-0x1+0xbe9+0x2*0x4e5;_0x4dd11f<this['meshInstan'+'ces']['length'];_0x4dd11f++){const _0x4424a7=this['meshInstan'+'ces'][_0x4dd11f];if(_0x4424a7['clearShade'+'rs'](),_0x4424a7['_material']=null,_0x4424a7['mesh']){const _0x18e90a=al(_0x4424a7['mesh']['device']);this!==_0x18e90a&&(_0x4424a7['material']=_0x18e90a);}else v['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=0x2165+0xf16+0x15*-0x24f;}['addMeshIns'+'tanceRef'](_0x32c07b){this['meshInstan'+'ces']['push'](_0x32c07b);}['removeMesh'+'InstanceRe'+'f'](_0x4f5a06){const _0x2f6482=this['meshInstan'+'ces'],_0x5ac19b=_0x2f6482['indexOf'](_0x4f5a06);_0x5ac19b!==-(-0x460+0x6*0x26b+-0x1*0xa21)&&_0x2f6482['splice'](_0x5ac19b,-0x89*0x3b+0x1*0x1e97+0xb*0x17);}}class As{static['update'](_0x4a8c63,_0x2d90a1,_0x1444a7,_0x49410d,_0x51cc04,_0xd69d06,_0x28c423){As['updateShar'+'edOptions'](_0x4a8c63,_0x2d90a1,_0x1444a7,_0x51cc04,_0xd69d06),As['updateMate'+'rialOption'+'s'](_0x4a8c63,_0x2d90a1),As['updateEnvO'+'ptions'](_0x4a8c63,_0x2d90a1,_0x1444a7,_0x49410d),As['updateLigh'+'tingOption'+'s'](_0x4a8c63,_0x2d90a1,_0x51cc04,_0x28c423);}static['updateShar'+'edOptions'](_0x5a5ae1,_0x555809,_0x1115be,_0x4b45e2,_0x28e57f){_0x5a5ae1['chunks']=_0x555809['chunks'],_0x5a5ae1['pass']=_0x28e57f,_0x5a5ae1['alphaTest']=_0x555809['alphaTest']>-0x762+0x7b*-0x20+0x16c2,_0x5a5ae1['blendType']=_0x555809['blendType'],_0x5a5ae1['screenSpac'+'e']=_0x4b45e2&&(_0x4b45e2&Cp)!==-0x1cd*0x4+-0x15da+0x1d0e,_0x5a5ae1['skin']=_0x4b45e2&&(_0x4b45e2&Wc)!==-0x7f*0x35+0x195a+-0xf1*-0x1,_0x5a5ae1['useInstanc'+'ing']=_0x4b45e2&&(_0x4b45e2&$c)!==-0x1d47+-0x2f6+-0x203d*-0x1,_0x5a5ae1['useMorphPo'+'sition']=_0x4b45e2&&(_0x4b45e2&qc)!==-0x1*-0x521+0x19fb+-0x7c7*0x4,_0x5a5ae1['useMorphNo'+'rmal']=_0x4b45e2&&(_0x4b45e2&Xc)!==0xbac+-0x502+-0x1*0x6aa,_0x5a5ae1['useMorphTe'+'xtureBased'+'Int']=_0x4b45e2&&(_0x4b45e2&jc)!==0x19b*-0x13+0x19a6+0x4db,_0x5a5ae1['hasTangent'+'s']=_0x4b45e2&&(_0x4b45e2&Mp)!==0x1f88+-0x1fa0+0x18,_0x5a5ae1['nineSliced'+'Mode']=_0x555809['nineSliced'+'Mode']||Ti,_0x555809['useLightin'+'g']&&_0x1115be['clusteredL'+'ightingEna'+'bled']?(_0x5a5ae1['clusteredL'+'ightingEna'+'bled']=!(-0x670+0x2*-0xc2f+-0x1*-0x1ece),_0x5a5ae1['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x1115be['lighting']['cookiesEna'+'bled'],_0x5a5ae1['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x1115be['lighting']['shadowsEna'+'bled'],_0x5a5ae1['clusteredL'+'ightingSha'+'dowType']=_0x1115be['lighting']['shadowType'],_0x5a5ae1['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x1115be['lighting']['areaLights'+'Enabled']):(_0x5a5ae1['clusteredL'+'ightingEna'+'bled']=!(0x1fc1+-0x197f+-0x1*0x641),_0x5a5ae1['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x1c1*-0x6+-0x524+-0x561),_0x5a5ae1['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x1*-0x1885+-0x17b9*-0x1+-0xe9*0x35),_0x5a5ae1['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(-0xec9+0x209*0x4+0x6a6));}static['updateMate'+'rialOption'+'s'](_0x1bc92d,_0x38bf6e){_0x1bc92d['separateAm'+'bient']=!(0x18f*0xe+0x1f9*0xb+0x5*-0x8b4),_0x1bc92d['customFrag'+'mentShader']=null,_0x1bc92d['pixelSnap']=_0x38bf6e['pixelSnap'],_0x1bc92d['ambientSH']=_0x38bf6e['ambientSH'],_0x1bc92d['twoSidedLi'+'ghting']=_0x38bf6e['twoSidedLi'+'ghting'],_0x1bc92d['occludeDir'+'ect']=_0x38bf6e['occludeDir'+'ect'],_0x1bc92d['occludeSpe'+'cular']=_0x38bf6e['occludeSpe'+'cular'],_0x1bc92d['occludeSpe'+'cularFloat']=_0x38bf6e['occludeSpe'+'cularInten'+'sity']!==0x20cd+-0x55c+-0x1b70,_0x1bc92d['useMsdf']=!(0x20ea+-0x4b*0x17+-0x1a2c),_0x1bc92d['msdfTextAt'+'tribute']=!(0x21c5+0x62c+-0x27f0),_0x1bc92d['alphaToCov'+'erage']=_0x38bf6e['alphaToCov'+'erage'],_0x1bc92d['opacityFad'+'esSpecular']=_0x38bf6e['opacityFad'+'esSpecular'],_0x1bc92d['opacityDit'+'her']=_0x38bf6e['opacityDit'+'her'],_0x1bc92d['cubeMapPro'+'jection']=u0,_0x1bc92d['useSpecula'+'r']=_0x38bf6e['hasSpecula'+'r'],_0x1bc92d['useSpecula'+'rityFactor']=_0x38bf6e['hasSpecula'+'rityFactor'],_0x1bc92d['enableGGXS'+'pecular']=_0x38bf6e['ggxSpecula'+'r'],_0x1bc92d['fresnelMod'+'el']=_0x38bf6e['fresnelMod'+'el'],_0x1bc92d['useRefract'+'ion']=_0x38bf6e['hasRefract'+'ion'],_0x1bc92d['useClearCo'+'at']=_0x38bf6e['hasClearCo'+'at'],_0x1bc92d['useSheen']=_0x38bf6e['hasSheen'],_0x1bc92d['useIridesc'+'ence']=_0x38bf6e['hasIrrides'+'cence'],_0x1bc92d['useMetalne'+'ss']=_0x38bf6e['hasMetalne'+'ss'],_0x1bc92d['useDynamic'+'Refraction']=_0x38bf6e['dynamicRef'+'raction'],_0x1bc92d['dispersion']=_0x38bf6e['dispersion']>0x1f5d+-0x292*-0x7+0x13*-0x299,_0x1bc92d['vertexColo'+'rs']=!(0x1e*0x10f+0xcd2+-0x2c93),_0x1bc92d['lightMapEn'+'abled']=_0x38bf6e['hasLightin'+'g'],_0x1bc92d['dirLightMa'+'pEnabled']=_0x38bf6e['dirLightMa'+'p'],_0x1bc92d['useHeights']=_0x38bf6e['hasHeights'],_0x1bc92d['useNormals']=_0x38bf6e['hasNormals'],_0x1bc92d['useClearCo'+'atNormals']=_0x38bf6e['hasClearCo'+'atNormals'],_0x1bc92d['useAo']=_0x38bf6e['hasAo'],_0x1bc92d['diffuseMap'+'Enabled']=_0x38bf6e['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x6368c5,_0x11cf5a,_0xb46684,_0x37941c){_0x6368c5['fog']=_0x11cf5a['useFog']?_0x37941c['fog']:Fa,_0x6368c5['gamma']=_0x37941c['shaderOutp'+'utGamma'],_0x6368c5['toneMap']=_0x11cf5a['useTonemap']?_0x37941c['toneMappin'+'g']:f0,_0x11cf5a['useSkybox']&&_0xb46684['envAtlas']&&_0xb46684['skybox']?(_0x6368c5['reflection'+'Source']='envAtlasHQ',_0x6368c5['reflection'+'Encoding']=_0xb46684['envAtlas']['encoding'],_0x6368c5['reflection'+'CubemapEnc'+'oding']=_0xb46684['skybox']['encoding']):_0x11cf5a['useSkybox']&&_0xb46684['envAtlas']?(_0x6368c5['reflection'+'Source']='envAtlas',_0x6368c5['reflection'+'Encoding']=_0xb46684['envAtlas']['encoding']):_0x11cf5a['useSkybox']&&_0xb46684['skybox']?(_0x6368c5['reflection'+'Source']='cubeMap',_0x6368c5['reflection'+'Encoding']=_0xb46684['skybox']['encoding']):(_0x6368c5['reflection'+'Source']=null,_0x6368c5['reflection'+'Encoding']=null),_0x11cf5a['ambientSH']?(_0x6368c5['ambientSou'+'rce']='ambientSH',_0x6368c5['ambientEnc'+'oding']=null):_0x6368c5['reflection'+'Source']&&_0xb46684['envAtlas']?(_0x6368c5['ambientSou'+'rce']='envAtlas',_0x6368c5['ambientEnc'+'oding']=_0xb46684['envAtlas']['encoding']):(_0x6368c5['ambientSou'+'rce']='constant',_0x6368c5['ambientEnc'+'oding']=null);const _0x1bc5c1=!!_0x6368c5['reflection'+'Source'];_0x6368c5['skyboxInte'+'nsity']=_0x1bc5c1,_0x6368c5['useCubeMap'+'Rotation']=_0x1bc5c1&&_0xb46684['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x4fa8a7,_0x113d4f,_0x1e9822,_0x4b40b2){if(_0x4fa8a7['lightMapWi'+'thoutAmbie'+'nt']=!(0x11*-0x67+-0x8e1*0x4+0x2a5c),_0x113d4f['useLightin'+'g']){const _0x149e02=[],_0xf4d50a=_0x1e9822?_0x1e9822>>-0x590*-0x3+-0x43*-0x19+-0x172b:hs;_0x4fa8a7['lightMaskD'+'ynamic']=!!(_0xf4d50a&hs),_0x4fa8a7['lightMapWi'+'thoutAmbie'+'nt']=!(0x1abd+-0x1*0x16a9+-0x413),_0x4b40b2&&(As['collectLig'+'hts'](oe,_0x4b40b2[oe],_0x149e02,_0xf4d50a),As['collectLig'+'hts'](Pe,_0x4b40b2[Pe],_0x149e02,_0xf4d50a),As['collectLig'+'hts'](Re,_0x4b40b2[Re],_0x149e02,_0xf4d50a)),_0x4fa8a7['lights']=_0x149e02;}else _0x4fa8a7['lights']=[];(_0x4fa8a7['lights']['length']===-0x1686+-0x176e+0x2df4||(_0x1e9822&Ep)!==0x1*0x24a1+-0x19e6+0x29*-0x43)&&(_0x4fa8a7['noShadow']=!(0x1da4+0x2486+0x2*-0x2115));}static['collectLig'+'hts'](_0xa0a9db,_0x57d2db,_0x4dc0a8,_0xa3dd9b){for(let _0x1765a0=0x12*0x15b+-0xb*0x1ca+0x1*-0x4b8;_0x1765a0<_0x57d2db['length'];_0x1765a0++){const _0x50d26c=_0x57d2db[_0x1765a0];_0x50d26c['enabled']&&_0x50d26c['mask']&_0xa3dd9b&&_0x4dc0a8['push'](_0x50d26c);}}}const c_=(_0x48f162,_0x11b11d)=>{if(_0x48f162['length']!==_0x11b11d['length'])return!(-0xb*0x236+-0x1772+0x2fc5);for(let _0xd06a37=0x71*0x28+0x95d+-0x1b05;_0xd06a37<_0x48f162['length'];++_0xd06a37)if(_0x48f162[_0xd06a37]!==_0x11b11d[_0xd06a37])return!(0x1a0e+0x16a+0x1b77*-0x1);return!(0xb9c+-0x1*-0xfd6+-0x1b72*0x1);},YC=_0x44688a=>_0x44688a['r']!==-0x185*-0xa+0x4*0xef+-0x12ed||_0x44688a['g']!==-0x1*0x16ee+-0xf1*0x20+0x11*0x31f||_0x44688a['b']!==-0xfd6+-0x8ca+0x18a1,KC=_0x2c9c0d=>_0x2c9c0d['r']!==-0xfd7+-0x1adb+0x1*0x2ab2||_0x2c9c0d['g']!==0x5*-0x4f6+0x2eb*0x1+0x15e3||_0x2c9c0d['b']!==-0xea5*-0x1+-0x1*-0x14bd+0x7*-0x50e;class ZC{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x34652f,_0x5c0033,_0x2e4913,_0x361361,_0x107dab,_0x220e42){this['_updateSha'+'redOptions'](_0x34652f,_0x5c0033,_0x2e4913,_0x361361,_0x107dab),this['_updateMin'+'Options'](_0x34652f,_0x2e4913,_0x107dab),this['_updateUVO'+'ptions'](_0x34652f,_0x2e4913,_0x361361,!(0x53d+0x1bd*0xd+-0x1bd6));}['updateRef'](_0x4b2d16,_0x14cb8c,_0x196dc6,_0x14f171,_0x409990,_0x51dcf1,_0x194a12){this['_updateSha'+'redOptions'](_0x4b2d16,_0x14cb8c,_0x14f171,_0x409990,_0x51dcf1),this['_updateEnv'+'Options'](_0x4b2d16,_0x14f171,_0x14cb8c,_0x196dc6),this['_updateMat'+'erialOptio'+'ns'](_0x4b2d16,_0x14f171),_0x4b2d16['litOptions']['hasTangent'+'s']=_0x409990&&(_0x409990&Mp)!==0x7c0+-0x1*-0x2073+-0x2833,this['_updateLig'+'htOptions'](_0x4b2d16,_0x14cb8c,_0x14f171,_0x409990,_0x194a12),this['_updateUVO'+'ptions'](_0x4b2d16,_0x14f171,_0x409990,!(0x1*-0xecf+0x1b60+0x86*-0x18),_0x196dc6);}['_updateSha'+'redOptions'](_0xc60c9f,_0x3b97bb,_0xbb5097,_0x3ca88e,_0xab58c3){_0xc60c9f['forceUv1']=_0xbb5097['forceUv1'],_0xbb5097['userAttrib'+'utes']&&(_0xc60c9f['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0xbb5097['userAttrib'+'utes']['entries']())),_0xc60c9f['litOptions']['chunks']=_0xbb5097['chunks']||{},_0xc60c9f['litOptions']['pass']=_0xab58c3,_0xc60c9f['litOptions']['alphaTest']=_0xbb5097['alphaTest']>-0x1c1*-0xb+0x235*-0x7+-0x3d8,_0xc60c9f['litOptions']['blendType']=_0xbb5097['blendType'],_0xc60c9f['litOptions']['screenSpac'+'e']=_0x3ca88e&&(_0x3ca88e&Cp)!==0x220e*-0x1+-0x1*0x739+0x2947,_0xc60c9f['litOptions']['skin']=_0x3ca88e&&(_0x3ca88e&Wc)!==-0x1a86+-0x91*-0x1+0x19f5,_0xc60c9f['litOptions']['batch']=_0x3ca88e&&(_0x3ca88e&Ou)!==-0x1f*0x122+0x1*-0x16f6+0x3a14,_0xc60c9f['litOptions']['useInstanc'+'ing']=_0x3ca88e&&(_0x3ca88e&$c)!==-0x25af*-0x1+0x1be*-0x10+0x3*-0x345,_0xc60c9f['litOptions']['useMorphPo'+'sition']=_0x3ca88e&&(_0x3ca88e&qc)!==0x1d90+0x55*0x2c+0x2c*-0x101,_0xc60c9f['litOptions']['useMorphNo'+'rmal']=_0x3ca88e&&(_0x3ca88e&Xc)!==-0x42e*-0x9+-0x22c+-0x2372,_0xc60c9f['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x3ca88e&&(_0x3ca88e&jc)!==-0x48f+0xf8a+-0xafb,_0xc60c9f['litOptions']['nineSliced'+'Mode']=_0xbb5097['nineSliced'+'Mode']||-0x14aa*0x1+-0xb*0x38+0x1712,_0x3b97bb['clusteredL'+'ightingEna'+'bled']&&_0xbb5097['useLightin'+'g']?(_0xc60c9f['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x1cd5+-0x26ea+0x43bf),_0xc60c9f['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x3b97bb['lighting']['cookiesEna'+'bled'],_0xc60c9f['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x3b97bb['lighting']['shadowsEna'+'bled'],_0xc60c9f['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x3b97bb['lighting']['shadowType'],_0xc60c9f['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x3b97bb['lighting']['areaLights'+'Enabled']):(_0xc60c9f['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x22cb+-0x15*0x189+0x4309*0x1),_0xc60c9f['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0x1f3d+-0x338+0x1*-0x1c04),_0xc60c9f['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x1*-0x207d+-0xa*0x3b9+0x1*0x4be),_0xc60c9f['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x3*0x5b5+0xbf7+-0x1d15));}['_updateUVO'+'ptions'](_0x2754ee,_0x31d6ab,_0x4b48e2,_0x3a60fc,_0x3f2a1d){let _0x46edb4=!(0x1635+-0x5*0x41b+-0x3*0x8f),_0x13b340=!(0xba1+-0x27a+-0x926),_0x433e27=!(0x2585+-0x1c75+-0x90f);_0x4b48e2&&(_0x46edb4=(_0x4b48e2&m0)!==0xa*-0x2ea+-0x20a+0x1f2e,_0x13b340=(_0x4b48e2&_0)!==-0x51*0x1b+-0x139+0x19*0x64,_0x433e27=(_0x4b48e2&g0)!==0x1*0x157f+0x1*-0x1abf+-0x40*-0x15),_0x2754ee['litOptions']['vertexColo'+'rs']=!(0xf73+-0xca4+0x1*-0x2ce),this['_mapXForms']=[];const _0x3430d5={};for(const _0x2bc489 in fa)this['_updateTex'+'Options'](_0x2754ee,_0x31d6ab,_0x2bc489,_0x46edb4,_0x13b340,_0x433e27,_0x3a60fc,_0x3430d5);this['_mapXForms']=null,_0x2754ee['litOptions']['ssao']=_0x3f2a1d==null?void(-0x572+-0x93d*-0x1+-0x3cb):_0x3f2a1d['ssaoEnable'+'d'],_0x2754ee['useAO']=_0x2754ee['litOptions']['ssao'],_0x2754ee['litOptions']['lightMapEn'+'abled']=_0x2754ee['lightMap'],_0x2754ee['litOptions']['dirLightMa'+'pEnabled']=_0x2754ee['dirLightMa'+'p'],_0x2754ee['litOptions']['useHeights']=_0x2754ee['heightMap'],_0x2754ee['litOptions']['useNormals']=_0x2754ee['normalMap'],_0x2754ee['litOptions']['useClearCo'+'atNormals']=_0x2754ee['clearCoatN'+'ormalMap'],_0x2754ee['litOptions']['useAo']=_0x2754ee['aoMap']||_0x2754ee['aoVertexCo'+'lor']||_0x2754ee['litOptions']['ssao'],_0x2754ee['litOptions']['diffuseMap'+'Enabled']=_0x2754ee['diffuseMap'];}['_updateTex'+'Options'](_0x1d23ea,_0x529446,_0x592987,_0x5a2294,_0x4407eb,_0x441986,_0x4eae40,_0x43cdd5){const _0x2efc62=_0x592987==='opacity';if(!_0x4eae40||_0x2efc62){const _0x596e74=_0x592987+'Map',_0x147016=_0x592987+('VertexColo'+'r'),_0x294696=_0x592987+('VertexColo'+'rChannel'),_0x18787f=_0x596e74+'Channel',_0x1e4b0c=_0x596e74+'Transform',_0x51c522=_0x596e74+'Uv',_0x11a51a=_0x596e74+'Identifier';if(_0x592987!=='light'&&(_0x1d23ea[_0x596e74]=!(0x4*0x70a+-0x1*0x2647+0xa20),_0x1d23ea[_0x11a51a]=void(-0x6b7*-0x1+0x34f+-0xa06),_0x1d23ea[_0x18787f]='',_0x1d23ea[_0x1e4b0c]=0x1393*0x1+-0x88b+-0xb08,_0x1d23ea[_0x51c522]=0x5e*0x17+0x231*-0xa+0xd78),_0x1d23ea[_0x147016]=!(-0x2*-0x9c4+-0x1c19+0x892),_0x1d23ea[_0x294696]='',_0x2efc62&&_0x529446['blendType']===is&&_0x529446['alphaTest']===0x4*-0xfb+0x2379+0x1*-0x1f8d&&!_0x529446['alphaToCov'+'erage']&&_0x529446['opacityDit'+'her']===Rs)return;if(_0x592987!=='height'&&_0x529446[_0x147016]&&_0x441986&&(_0x1d23ea[_0x147016]=_0x529446[_0x147016],_0x1d23ea[_0x294696]=_0x529446[_0x294696],_0x1d23ea['litOptions']['vertexColo'+'rs']=!(0x6e*-0x25+-0x1d5c+-0x2*-0x16a1)),_0x529446[_0x596e74]){let _0x404bc8=!(-0xae9+0x3*0x25d+-0x146*-0x3);if(_0x529446[_0x51c522]===-0x1548+0x98e+0x5dd*0x2&&!_0x5a2294&&(_0x404bc8=!(0x11fc+0xf4*0x1d+-0xf35*0x3)),_0x529446[_0x51c522]===0xf06+-0x1*-0x1024+-0x1f29*0x1&&!_0x4407eb&&(_0x404bc8=!(-0xb*-0x53+-0x4*-0x766+-0x1*0x2128)),_0x404bc8){const _0x4f6774=_0x529446[_0x596e74]['id'];let _0xde8d9f=_0x43cdd5[_0x4f6774];_0xde8d9f===void(0x1d56*0x1+0x9f1+-0x1*0x2747)&&(_0x43cdd5[_0x4f6774]=_0x592987,_0xde8d9f=_0x592987),_0x1d23ea[_0x596e74]=!!_0x529446[_0x596e74],_0x1d23ea[_0x11a51a]=_0xde8d9f,_0x1d23ea[_0x1e4b0c]=this['_getMapTra'+'nsformID'](_0x529446['getUniform'](_0x1e4b0c),_0x529446[_0x51c522]),_0x1d23ea[_0x18787f]=_0x529446[_0x18787f],_0x1d23ea[_0x51c522]=_0x529446[_0x51c522];}}}}['_updateMin'+'Options'](_0x5dc2f6,_0x4fd307,_0x567136){const _0x167cb5=_0x567136===il;_0x5dc2f6['litOptions']['opacitySha'+'dowDither']=_0x167cb5?_0x4fd307['opacityDit'+'her']:_0x4fd307['opacitySha'+'dowDither'],_0x5dc2f6['litOptions']['linearDept'+'h']=_0x167cb5,_0x5dc2f6['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x21a476,_0x1a0d0e){var _0x14560a,_0x1ead7f,_0x131f13,_0x2a9098;const _0x1b42bd=!!(_0x1a0d0e['useMetalne'+'ss']||_0x1a0d0e['specularMa'+'p']||_0x1a0d0e['sphereMap']||_0x1a0d0e['cubeMap']||KC(_0x1a0d0e['specular'])||_0x1a0d0e['specularit'+'yFactor']>0x148f+0x21*0x53+0x2*-0xfa1&&_0x1a0d0e['useMetalne'+'ss']||_0x1a0d0e['enableGGXS'+'pecular']||_0x1a0d0e['clearCoat']>-0x1*-0x159+0x45d+-0x5b6),_0x100a8b=!_0x1a0d0e['useMetalne'+'ss']||_0x1a0d0e['useMetalne'+'ssSpecular'+'Color'],_0x31c7fb=_0x1b42bd&&(_0x1a0d0e['specularTi'+'nt']||!_0x1a0d0e['specularMa'+'p']&&!_0x1a0d0e['specularVe'+'rtexColor'])&&YC(_0x1a0d0e['specular']),_0x3d9c6a=_0x1b42bd&&_0x1a0d0e['useMetalne'+'ssSpecular'+'Color']&&(_0x1a0d0e['specularit'+'yFactorTin'+'t']||_0x1a0d0e['specularit'+'yFactor']<0x170c+-0x73c+-0x545*0x3&&!_0x1a0d0e['specularit'+'yFactorMap']),_0x655b23=_0x1a0d0e['normalMap']?_0x1a0d0e['normalMap']['format']===$o||_0x1a0d0e['normalMap']['type']===op:!(-0x1040+0x4*-0x125+0x14d5),_0x5c91c2=(_0x59db04,_0x494029)=>Math['abs'](_0x59db04-_0x494029)<-0xa3*0x33+0x1e36+0x243+0.0001;_0x21a476['specularTi'+'nt']=_0x31c7fb?-0x14cd+0xa4d*0x1+0xa82:-0x1501+-0x1b0a+0x300b,_0x21a476['specularit'+'yFactorTin'+'t']=_0x3d9c6a?-0x97c+0x1c4*0x1+0x7b9:-0x890+-0x245e+-0x4fe*-0x9,_0x21a476['metalnessT'+'int']=_0x1a0d0e['useMetalne'+'ss']&&_0x1a0d0e['metalness']<0x1063+0x1f5e+0x4*-0xbf0?0x1696+0x10b+-0xbd0*0x2:0x621+0x1e86+-0x24a7,_0x21a476['glossTint']=-0x98f*-0x3+-0xae+-0x1bfe,_0x21a476['diffuseEnc'+'oding']=(_0x14560a=_0x1a0d0e['diffuseMap'])==null?void(-0x175*0x9+-0x156a+0x2287):_0x14560a['encoding'],_0x21a476['diffuseDet'+'ailEncodin'+'g']=(_0x1ead7f=_0x1a0d0e['diffuseDet'+'ailMap'])==null?void(-0x1*0xfbb+-0x20e5+0x30a*0x10):_0x1ead7f['encoding'],_0x21a476['emissiveEn'+'coding']=(_0x131f13=_0x1a0d0e['emissiveMa'+'p'])==null?void(0xec7+0x1d4b*-0x1+-0x1*-0xe84):_0x131f13['encoding'],_0x21a476['lightMapEn'+'coding']=(_0x2a9098=_0x1a0d0e['lightMap'])==null?void(-0xa9d+-0x1*0x357+0xdf4):_0x2a9098['encoding'],_0x21a476['packedNorm'+'al']=_0x655b23,_0x21a476['refraction'+'Tint']=_0x5c91c2(_0x1a0d0e['refraction'],0x345+0x1*-0x22ed+-0x5*-0x655)?-0x3a7*0x7+0x3*0x2bb+0x1160:0xc61+0x8e*0x2e+0x1e5*-0x14,_0x21a476['refraction'+'IndexTint']=_0x5c91c2(_0x1a0d0e['refraction'+'Index'],(0x6b*-0x4f+0x1*0x12cd+-0xb*-0x14b)/(-0x3d*-0x51+0x10b*-0xd+-0x5bd+0.5))?-0x1*0x4ee+0x1cc9+0x1f*-0xc5:-0x23f1+-0x1ba4+0x3*0x1532,_0x21a476['thicknessT'+'int']=_0x1a0d0e['useDynamic'+'Refraction']&&_0x1a0d0e['thickness']!==-0x24ee+0x999*0x1+0x2*0xdab?-0xe20+-0xac7+-0xc74*-0x2:0x2227+0x1a94+-0x3cbb,_0x21a476['specularEn'+'coding']=_0x1a0d0e['specularEn'+'coding']||'linear',_0x21a476['sheenEncod'+'ing']=_0x1a0d0e['sheenEncod'+'ing']||'linear',_0x21a476['aoMapUv']=_0x1a0d0e['aoUvSet'],_0x21a476['aoDetail']=!!_0x1a0d0e['aoMap'],_0x21a476['diffuseDet'+'ail']=!!_0x1a0d0e['diffuseMap'],_0x21a476['normalDeta'+'il']=!!_0x1a0d0e['normalMap'],_0x21a476['diffuseDet'+'ailMode']=_0x1a0d0e['diffuseDet'+'ailMode'],_0x21a476['aoDetailMo'+'de']=_0x1a0d0e['aoDetailMo'+'de'],_0x21a476['clearCoatT'+'int']=_0x5c91c2(_0x1a0d0e['clearCoat'],-0x4af*0x7+-0x1d0f+0x3dd9)?-0x3*0xcb5+-0x35b*-0x2+0x1*0x1f69:0x19a3+-0xe19+0x1*-0xb89,_0x21a476['clearCoatG'+'loss']=!!_0x1a0d0e['clearCoatG'+'loss'],_0x21a476['clearCoatG'+'lossTint']=_0x1a0d0e['clearCoatG'+'loss']!==-0x149f+0x1908+-0x8d*0x8?-0x1*0xabb+0x1a8c+0x5c*-0x2c:0xf83*-0x1+-0x1cce+0x2c51,_0x21a476['iorTint']=_0x5c91c2(_0x1a0d0e['refraction'+'Index'],(0x4e7*0x2+0x10ff+0x157*-0x14)/(-0xc62*0x2+-0x1998+-0x325d*-0x1+0.5))?-0x275*-0x7+0x15*-0x1b9+0x12fa:0x12ee*-0x2+-0xc*-0x32f+-0x57,_0x21a476['iridescenc'+'eTint']=_0x1a0d0e['iridescenc'+'e']!==-0x141a+0xd*-0x2bd+0x37b4?0x1c4c+-0xa3*0x38+0x1*0x75d:-0x1aff+0x1d47+-0x1*0x248,_0x21a476['glossInver'+'t']=_0x1a0d0e['glossInver'+'t'],_0x21a476['sheenGloss'+'Invert']=_0x1a0d0e['sheenGloss'+'Invert'],_0x21a476['clearCoatG'+'lossInvert']=_0x1a0d0e['clearCoatG'+'lossInvert'],_0x21a476['useSpecula'+'rColor']=_0x100a8b,_0x21a476['litOptions']['separateAm'+'bient']=!(0xb0c*-0x2+0x892+0x1*0xd87),_0x21a476['litOptions']['customFrag'+'mentShader']=_0x1a0d0e['customFrag'+'mentShader'],_0x21a476['litOptions']['pixelSnap']=_0x1a0d0e['pixelSnap'],_0x21a476['litOptions']['ambientSH']=!!_0x1a0d0e['ambientSH'],_0x21a476['litOptions']['twoSidedLi'+'ghting']=_0x1a0d0e['twoSidedLi'+'ghting'],_0x21a476['litOptions']['occludeSpe'+'cular']=_0x1a0d0e['occludeSpe'+'cular'],_0x21a476['litOptions']['occludeSpe'+'cularFloat']=_0x1a0d0e['occludeSpe'+'cularInten'+'sity']!==0x1063+-0x6de+0x74*-0x15,_0x21a476['litOptions']['useMsdf']=!!_0x1a0d0e['msdfMap'],_0x21a476['litOptions']['msdfTextAt'+'tribute']=!!_0x1a0d0e['msdfTextAt'+'tribute'],_0x21a476['litOptions']['alphaToCov'+'erage']=_0x1a0d0e['alphaToCov'+'erage'],_0x21a476['litOptions']['opacityFad'+'esSpecular']=_0x1a0d0e['opacityFad'+'esSpecular'],_0x21a476['litOptions']['opacityDit'+'her']=_0x1a0d0e['opacityDit'+'her'],_0x21a476['litOptions']['cubeMapPro'+'jection']=_0x1a0d0e['cubeMapPro'+'jection'],_0x21a476['litOptions']['occludeDir'+'ect']=_0x1a0d0e['occludeDir'+'ect'],_0x21a476['litOptions']['useSpecula'+'r']=_0x1b42bd,_0x21a476['litOptions']['useSpecula'+'rityFactor']=(_0x3d9c6a||!!_0x1a0d0e['specularit'+'yFactorMap'])&&_0x1a0d0e['useMetalne'+'ssSpecular'+'Color'],_0x21a476['litOptions']['enableGGXS'+'pecular']=_0x1a0d0e['enableGGXS'+'pecular'],_0x21a476['litOptions']['fresnelMod'+'el']=_0x1a0d0e['fresnelMod'+'el'],_0x21a476['litOptions']['useRefract'+'ion']=(_0x1a0d0e['refraction']||!!_0x1a0d0e['refraction'+'Map'])&&(_0x1a0d0e['useDynamic'+'Refraction']||!!_0x21a476['litOptions']['reflection'+'Source']),_0x21a476['litOptions']['useClearCo'+'at']=!!_0x1a0d0e['clearCoat'],_0x21a476['litOptions']['useSheen']=_0x1a0d0e['useSheen'],_0x21a476['litOptions']['useIridesc'+'ence']=_0x1a0d0e['useIridesc'+'ence']&&_0x1a0d0e['iridescenc'+'e']!==-0x5ca*-0x1+0x1ca*-0x13+-0x14*-0x169,_0x21a476['litOptions']['useMetalne'+'ss']=_0x1a0d0e['useMetalne'+'ss'],_0x21a476['litOptions']['useDynamic'+'Refraction']=_0x1a0d0e['useDynamic'+'Refraction'],_0x21a476['litOptions']['dispersion']=_0x1a0d0e['dispersion']>-0x23be+0x471*0x5+0xd89;}['_updateEnv'+'Options'](_0x9534ef,_0x22f468,_0x41abae,_0xb975dc){_0x9534ef['litOptions']['fog']=_0x22f468['useFog']?_0xb975dc['fog']:Fa,_0x9534ef['litOptions']['gamma']=_0xb975dc['shaderOutp'+'utGamma'],_0x9534ef['litOptions']['toneMap']=_0x22f468['useTonemap']?_0xb975dc['toneMappin'+'g']:f0;let _0x5185e5=!(0x26d2+0x1740+0x1*-0x3e11);if(_0x22f468['envAtlas']&&_0x22f468['cubeMap']?(_0x9534ef['litOptions']['reflection'+'Source']='envAtlasHQ',_0x9534ef['litOptions']['reflection'+'Encoding']=_0x22f468['envAtlas']['encoding'],_0x9534ef['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x22f468['cubeMap']['encoding']):_0x22f468['envAtlas']?(_0x9534ef['litOptions']['reflection'+'Source']='envAtlas',_0x9534ef['litOptions']['reflection'+'Encoding']=_0x22f468['envAtlas']['encoding']):_0x22f468['cubeMap']?(_0x9534ef['litOptions']['reflection'+'Source']='cubeMap',_0x9534ef['litOptions']['reflection'+'Encoding']=_0x22f468['cubeMap']['encoding']):_0x22f468['sphereMap']?(_0x9534ef['litOptions']['reflection'+'Source']='sphereMap',_0x9534ef['litOptions']['reflection'+'Encoding']=_0x22f468['sphereMap']['encoding']):_0x22f468['useSkybox']&&_0x41abae['envAtlas']&&_0x41abae['skybox']?(_0x9534ef['litOptions']['reflection'+'Source']='envAtlasHQ',_0x9534ef['litOptions']['reflection'+'Encoding']=_0x41abae['envAtlas']['encoding'],_0x9534ef['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x41abae['skybox']['encoding'],_0x5185e5=!(-0xf9+0x65*-0x52+0x2153)):_0x22f468['useSkybox']&&_0x41abae['envAtlas']?(_0x9534ef['litOptions']['reflection'+'Source']='envAtlas',_0x9534ef['litOptions']['reflection'+'Encoding']=_0x41abae['envAtlas']['encoding'],_0x5185e5=!(-0x6*0x17f+0x1*-0x773+-0x1*-0x106d)):_0x22f468['useSkybox']&&_0x41abae['skybox']?(_0x9534ef['litOptions']['reflection'+'Source']='cubeMap',_0x9534ef['litOptions']['reflection'+'Encoding']=_0x41abae['skybox']['encoding'],_0x5185e5=!(0x3b3+-0x18a1+-0x72*-0x2f)):(_0x9534ef['litOptions']['reflection'+'Source']=null,_0x9534ef['litOptions']['reflection'+'Encoding']=null),_0x22f468['ambientSH'])_0x9534ef['litOptions']['ambientSou'+'rce']='ambientSH',_0x9534ef['litOptions']['ambientEnc'+'oding']=null;else{const _0x2ef771=_0x22f468['envAtlas']||(_0x22f468['useSkybox']&&_0x41abae['envAtlas']?_0x41abae['envAtlas']:null);_0x2ef771&&!_0x22f468['sphereMap']?(_0x9534ef['litOptions']['ambientSou'+'rce']='envAtlas',_0x9534ef['litOptions']['ambientEnc'+'oding']=_0x2ef771['encoding']):(_0x9534ef['litOptions']['ambientSou'+'rce']='constant',_0x9534ef['litOptions']['ambientEnc'+'oding']=null);}_0x9534ef['litOptions']['skyboxInte'+'nsity']=_0x5185e5,_0x9534ef['litOptions']['useCubeMap'+'Rotation']=_0x5185e5&&_0x41abae['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x565e1d,_0x574023,_0x445a28,_0x2a673c,_0x2453ce){if(_0x565e1d['lightMap']=!(-0x1*0x1e16+0x14b1+0x966),_0x565e1d['lightMapCh'+'annel']='',_0x565e1d['lightMapUv']=0xcd8*-0x2+0xc61*-0x3+0x3ed3,_0x565e1d['lightMapTr'+'ansform']=-0xd15+0x1fc+0xb19,_0x565e1d['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x19e2+-0x542*-0x1+0xa61*-0x3),_0x565e1d['dirLightMa'+'p']=!(-0x9e*0x11+-0x12df*0x2+-0x303d*-0x1),_0x2a673c&&(_0x565e1d['litOptions']['noShadow']=(_0x2a673c&Ep)!==-0xce9*0x3+-0x8*0x4d+0x2923,(_0x2a673c&Fu)!==-0x6*0x511+0x622*0x3+0x2*0x600&&(_0x565e1d['lightMapEn'+'coding']=_0x574023['lightmapPi'+'xelFormat']===Se?'rgbm':'linear',_0x565e1d['lightMap']=!(0x183f+-0xd5*0x9+-0x10c2),_0x565e1d['lightMapCh'+'annel']='rgb',_0x565e1d['lightMapUv']=0x14*0xcd+-0xd20*-0x2+0x1*-0x2a43,_0x565e1d['lightMapTr'+'ansform']=-0x153*0x1a+-0x1ca5+0x3f13,_0x565e1d['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x445a28['lightMap'],(_0x2a673c&y0)!==0x3*0x5b3+-0x1712+0x5f9&&(_0x565e1d['dirLightMa'+'p']=!(0x2517+0xb*0x161+0x2*-0x1a21)),(_0x2a673c&x0)!==-0x7*-0x38f+-0x237d+0xa94&&(_0x565e1d['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x1092*0x1+0x4*0x3fa+0xad3*-0x3)))),_0x445a28['useLightin'+'g']){const _0x1e95e3=[],_0x5ba4ee=_0x2a673c?_0x2a673c>>-0x1*-0xe2a+0xbfd+-0x1a17:hs;_0x565e1d['litOptions']['lightMaskD'+'ynamic']=!!(_0x5ba4ee&hs),_0x2453ce&&(As['collectLig'+'hts'](oe,_0x2453ce[oe],_0x1e95e3,_0x5ba4ee),As['collectLig'+'hts'](Pe,_0x2453ce[Pe],_0x1e95e3,_0x5ba4ee),As['collectLig'+'hts'](Re,_0x2453ce[Re],_0x1e95e3,_0x5ba4ee)),_0x565e1d['litOptions']['lights']=_0x1e95e3;}else _0x565e1d['litOptions']['lights']=[];_0x565e1d['litOptions']['lights']['length']===-0x8*-0x3b5+0x5*-0x755+0x701&&(_0x565e1d['litOptions']['noShadow']=!(0x1bbf+0xf*-0x29+-0x32b*0x8));}['_getMapTra'+'nsformID'](_0x5ad2e3,_0x5e5331){if(!_0x5ad2e3)return-0x4e1*-0x5+0x176f*-0x1+-0xf6;let _0xab69c0=this['_mapXForms'][_0x5e5331];_0xab69c0||(_0xab69c0=[],this['_mapXForms'][_0x5e5331]=_0xab69c0);for(let _0x2d48ec=0x1eaa+-0x2*0x7be+-0xf2e;_0x2d48ec<_0xab69c0['length'];_0x2d48ec++)if(c_(_0xab69c0[_0x2d48ec][-0x1fcd+-0x11*-0x1a1+0x41c]['value'],_0x5ad2e3[-0x150c+0x3b*-0x49+-0x23*-0x115]['value'])&&c_(_0xab69c0[_0x2d48ec][0x218*0x9+0xa44*0x3+-0x31a3]['value'],_0x5ad2e3[-0xa78*-0x2+0x1217*-0x2+0xf3f]['value']))return _0x2d48ec+(-0x4*0x43f+0x2*0xa37+0x371*-0x1);return _0xab69c0['push'](_0x5ad2e3);}}function qe(_0x5efb2f,_0xe54c13=!(-0x206b+-0xce+0x2139),_0x4523aa=!(0x45b*-0x1+-0x1486+0x18e1)){const _0x16918a={};return _0x16918a[_0x5efb2f+'Map']='texture',_0x16918a[_0x5efb2f+'MapTiling']='vec2',_0x16918a[_0x5efb2f+'MapOffset']='vec2',_0x16918a[_0x5efb2f+('MapRotatio'+'n')]='number',_0x16918a[_0x5efb2f+'MapUv']='number',_0xe54c13&&(_0x16918a[_0x5efb2f+'MapChannel']='string',_0x4523aa&&(_0x16918a[_0x5efb2f+('VertexColo'+'r')]='boolean',_0x16918a[_0x5efb2f+('VertexColo'+'rChannel')]='string')),_0x16918a;}const Pa={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...qe('ao'),...qe('aoDetail',!(-0x1f8b+0x9*0x2e5+0x13*0x4a),!(0x5b*-0x24+-0x176c+0xc13*0x3)),'aoDetailMode':'string','diffuse':'rgb',...qe('diffuse'),...qe('diffuseDet'+'ail',!(0xd37+0xc83+-0x19ba),!(0x1*0x16db+-0x1*-0xb3e+-0x1*0x2218)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...qe('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...qe('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','anisotropy':'number','metalnessTint':'boolean',...qe('metalness'),'useMetalnessSpecularColor':'boolean','shininess':'number','gloss':'number','glossInvert':'boolean',...qe('gloss'),'clearCoat':'number',...qe('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...qe('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...qe('clearCoatN'+'ormal',!(-0x5b5*-0x5+-0x1f8d*-0x1+0x6ad*-0x9)),'useSheen':'boolean','sheen':'rgb',...qe('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...qe('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...qe('emissive'),'emissiveIntensity':'number',...qe('normal',!(0x1445+-0x5b8*-0x5+-0xc37*0x4)),'bumpiness':'number',...qe('normalDeta'+'il',!(0x721*0x1+0x1*0x1dc5+-0x1*0x24e5)),'normalDetailMapBumpiness':'number',...qe('height',!(-0x1d1e+0x8c7+-0x29*-0x7f),!(0x8*-0x1c3+-0x1*0x15cd+0x23e6)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...qe('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...qe('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...qe('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...qe('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...qe('iridescenc'+'eThickness'),...qe('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean'},Kc=[];for(const l in Pa)Pa[l]==='texture'&&Kc['push'](l);const Fp=[];for(const l in Pa)Pa[l]==='cubemap'&&Fp['push'](l);const QC={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean'},uh={},P0={};let $a=new Set();const Dl=new Y();class cs extends yn{constructor(){super(),c(this,'userAttrib'+'utes',new Map()),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new ZC(),this['reset']());}['reset'](){Object['keys'](uh)['forEach'](_0x181d9e=>{this['_'+_0x181d9e]=uh[_0x181d9e]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0xa5862a){return super['copy'](_0xa5862a),Object['keys'](uh)['forEach'](_0x755245=>{this[_0x755245]=_0xa5862a[_0x755245];}),this['userAttrib'+'utes']=new Map(_0xa5862a['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x344169,_0x15cc28){this['userAttrib'+'utes']['set'](_0x15cc28,_0x344169);}['_setParame'+'ter'](_0x2c990c,_0x5c2a0d){$a['add'](_0x2c990c),this['setParamet'+'er'](_0x2c990c,_0x5c2a0d);}['_setParame'+'ters'](_0x3e4d2b){_0x3e4d2b['forEach'](_0x20930f=>{this['_setParame'+'ter'](_0x20930f['name'],_0x20930f['value']);});}['_processPa'+'rameters'](_0x42d5f0){const _0x57c9a6=this[_0x42d5f0];_0x57c9a6['forEach'](_0x102033=>{$a['has'](_0x102033)||delete this['parameters'][_0x102033];}),this[_0x42d5f0]=$a,$a=_0x57c9a6,$a['clear']();}['_updateMap'](_0x2909a3){const _0x1d698c=_0x2909a3+'Map',_0x40f991=this[_0x1d698c];if(_0x40f991){this['_setParame'+'ter']('texture_'+_0x1d698c,_0x40f991);const _0x455329=_0x1d698c+'Transform',_0x178e70=this['getUniform'](_0x455329);_0x178e70&&this['_setParame'+'ters'](_0x178e70);}}['_allocUnif'+'orm'](_0x5882b1,_0xda6ae7){let _0x49173e=this['_uniformCa'+'che'][_0x5882b1];return _0x49173e||(_0x49173e=_0xda6ae7(),this['_uniformCa'+'che'][_0x5882b1]=_0x49173e),_0x49173e;}['getUniform'](_0x5349e9,_0x4bc666,_0x47c3b3){return P0[_0x5349e9](this,_0x4bc666,_0x47c3b3);}['updateUnif'+'orms'](_0x4cd331,_0x3c5921){const _0x5ec415=_0x783dc6=>this['getUniform'](_0x783dc6,_0x4cd331,_0x3c5921);this['_setParame'+'ter']('material_a'+'mbient',_0x5ec415('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x5ec415('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<0x6ed*-0x3+-0xd27+0x21ef)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x5ec415('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x5ec415('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x5ec415('specular')),this['enableGGXS'+'pecular']&&this['_setParame'+'ter']('material_a'+'nisotropy',this['anisotropy']),this['clearCoat']>0x2*0x8a7+0x19c5+-0x2b13&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),v['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===0xf*0x8a+0x53*0x61+0x1*-0x2789&&this['emissive']['g']===-0x847+-0x13*0x47+0xc*0x121&&this['emissive']['b']===-0x11a7*0x2+0x403+0x1f4b&&v['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+G['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x5ec415('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>-0x65+-0x1*0x577+0x5dc&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>0x6*-0x100+-0xca9+0x12a9&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x5ec415('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===-0x25ba+-0xc25*-0x1+0x1995?-0x215d+-0x265*0xc+-0x15*-0x2f5:(-0x251d+0x2*-0x55+-0xd*-0x2e8)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(0xc57+0x1*0x10c2+-0x428*0x7)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===jb&&this['_setParame'+'ter'](_0x5ec415('cubeMapPro'+'jectionBox'));for(const _0x362456 in fa)this['_updateMap'](_0x362456);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x5ec415('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x4cd331,_0x3c5921);}['updateEnvU'+'niforms'](_0x5f414d,_0x2593fb){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x2593fb['envAtlas']&&_0x2593fb['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x2593fb['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x2593fb['skybox'])):_0x2593fb['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x2593fb['envAtlas']):_0x2593fb['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x2593fb['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x10e95f){const {device:_0x4dda62,scene:_0x1abe87,pass:_0x10763b,objDefs:_0x3d5d6f,sortedLights:_0x3e9849,cameraShaderParams:_0x1faeaa}=_0x10e95f;this['updateEnvU'+'niforms'](_0x4dda62,_0x1abe87);const _0x3b0d94=Ks['get'](_0x4dda62)['getByIndex'](_0x10763b),_0x3f5f58=_0x10763b===rl||_0x10763b===Oa||_0x10763b===il||_0x3b0d94['isShadow'];let _0x23a9e2=_0x3f5f58?Ed['optionsCon'+'textMin']:Ed['optionsCon'+'text'];_0x23a9e2['defines']=Dp(this,_0x10e95f),_0x3f5f58?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x23a9e2,_0x1abe87,this,_0x3d5d6f,_0x10763b,_0x3e9849):this['shaderOptB'+'uilder']['updateRef'](_0x23a9e2,_0x1abe87,_0x1faeaa,this,_0x3d5d6f,_0x10763b,_0x3e9849),_0x23a9e2['defines']['set']('TONEMAP',p0[_0x23a9e2['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x23a9e2=this['onUpdateSh'+'ader'](_0x23a9e2));const _0x3a931e=new Yc(_0x10e95f['viewUnifor'+'mFormat'],_0x10e95f['viewBindGr'+'oupFormat'],_0x10e95f['vertexForm'+'at']),_0x12ad7b=ka(_0x4dda62);_0x12ad7b['register']('standard',Ed);const _0x38c9ea=_0x12ad7b['getProgram']('standard',_0x23a9e2,_0x3a931e,this['userId']);return this['_dirtyShad'+'er']=!(0x136a+-0xf6+-0x1273),_0x38c9ea;}['destroy'](){for(const _0x1c9faa in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x1c9faa]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}c(cs,'TEXTURE_PA'+'RAMETERS',Kc),c(cs,'CUBEMAP_PA'+'RAMETERS',Fp);const Zc=(_0x95f768,_0x3e695d)=>{P0[_0x95f768]=_0x3e695d;},Op=(_0xcbfb67,_0x27b973,_0x3c9b87,_0x15fd52)=>{Object['defineProp'+'erty'](cs['prototype'],_0xcbfb67,{'get':_0x15fd52||function(){return this['_'+_0xcbfb67];},'set':_0x3c9b87}),uh[_0xcbfb67]={'value':_0x27b973};},JC=_0x402622=>{const _0x1f14fb='_'+_0x402622['name'],_0x3b0109=_0x402622['dirtyShade'+'rFunc']||(()=>!(0x17d*0x14+-0x14b*0x15+-0x1*0x29d)),_0x1635c1=function(_0xf64a){const _0x527c64=this[_0x1f14fb];_0x527c64!==_0xf64a&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x3b0109(_0x527c64,_0xf64a),this[_0x1f14fb]=_0xf64a);};Op(_0x402622['name'],()=>_0x402622['defaultVal'+'ue'],_0x1635c1,_0x402622['getterFunc']);},eM=_0x1e94ae=>{const _0x295670='_'+_0x1e94ae['name'],_0x22c20f=_0x1e94ae['dirtyShade'+'rFunc']||(()=>!(0x1*0x1ca5+-0xdce+-0xed7)),_0x13da09=function(_0x596546){const _0x3a3281=this[_0x295670];_0x3a3281['equals'](_0x596546)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x22c20f(_0x3a3281,_0x596546),this[_0x295670]=_0x3a3281['copy'](_0x596546));};Op(_0x1e94ae['name'],()=>_0x1e94ae['defaultVal'+'ue']['clone'](),_0x13da09,_0x1e94ae['getterFunc']);},ts=_0x5f2aea=>_0x5f2aea['defaultVal'+'ue']&&_0x5f2aea['defaultVal'+'ue']['clone']?eM(_0x5f2aea):JC(_0x5f2aea);function Ge(_0x5d8a09,_0x39e56a='rgb',_0x56eda4=!(-0xb*0xa7+0x19bc+0x128f*-0x1),_0x1c92b6=0x1c72+0x2189+-0x3dfb){fa[_0x5d8a09]=_0x39e56a['length']||-(0x3f*0x26+-0x23aa+0x1a51),ts({'name':_0x5d8a09+'Map','defaultValue':null,'dirtyShaderFunc':(_0x2df7b7,_0x25b513)=>!!_0x2df7b7!=!!_0x25b513||_0x2df7b7&&(_0x2df7b7['type']!==_0x25b513['type']||_0x2df7b7['format']!==_0x25b513['format'])}),ts({'name':_0x5d8a09+'MapTiling','defaultValue':new W(0x1*-0xee6+0x2*-0x1341+0x3569,-0x9d*0x26+-0x1*0x25bd+0x3d0c)}),ts({'name':_0x5d8a09+'MapOffset','defaultValue':new W(0x15ab+-0xac8+-0xae3,-0x1134*0x1+-0x1f*-0x13d+0x13f*-0x11)}),ts({'name':_0x5d8a09+('MapRotatio'+'n'),'defaultValue':0x0}),ts({'name':_0x5d8a09+'MapUv','defaultValue':_0x1c92b6}),_0x39e56a&&(ts({'name':_0x5d8a09+'MapChannel','defaultValue':_0x39e56a}),_0x56eda4&&(ts({'name':_0x5d8a09+('VertexColo'+'r'),'defaultValue':!(0x600+0xee6+-0x14e5)}),ts({'name':_0x5d8a09+('VertexColo'+'rChannel'),'defaultValue':_0x39e56a})));const _0x39193b=_0x5d8a09+'MapTiling',_0x476829=_0x5d8a09+'MapOffset',_0x596c12=_0x5d8a09+('MapRotatio'+'n'),_0x4e2dda=_0x5d8a09+('MapTransfo'+'rm');Zc(_0x4e2dda,(_0x535a84,_0x492972,_0x4f487e)=>{const _0x114df9=_0x535a84[_0x39193b],_0x35b8a0=_0x535a84[_0x476829],_0x3c79ad=_0x535a84[_0x596c12];if(_0x114df9['x']===-0x13a5+-0x1d25+0x30cb&&_0x114df9['y']===0xfb5*0x1+-0x19ab+0x9f7*0x1&&_0x35b8a0['x']===-0x2*-0xf76+-0x193c+-0x5b0&&_0x35b8a0['y']===0x179e+-0xd*0x2a1+0xa8f&&_0x3c79ad===0xebf+-0x34d+-0x125*0xa)return null;const _0x34759c=_0x535a84['_allocUnif'+'orm'](_0x4e2dda,()=>[{'name':'texture_'+_0x4e2dda+'0','value':new Float32Array(-0x374+0xb2e+-0x7b7)},{'name':'texture_'+_0x4e2dda+'1','value':new Float32Array(0x20*-0x37+-0x11fc+-0x1*-0x18df)}]),_0x13a055=Math['cos'](_0x3c79ad*N['DEG_TO_RAD']),_0x47c22a=Math['sin'](_0x3c79ad*N['DEG_TO_RAD']),_0x5e7181=_0x34759c[0x4bf+0x4a*0x20+-0xdff]['value'];_0x5e7181[-0x127a+0xdcc+-0x1*-0x4ae]=_0x13a055*_0x114df9['x'],_0x5e7181[-0x2057+0xc47+0x1411*0x1]=-_0x47c22a*_0x114df9['y'],_0x5e7181[0x14c9+0x4c3+-0x198a]=_0x35b8a0['x'];const _0x3a79a3=_0x34759c[0x1344+0x732+-0x1a75]['value'];return _0x3a79a3[0xa65+-0x11fb*0x2+-0xb*-0x253]=_0x47c22a*_0x114df9['x'],_0x3a79a3[-0x4*-0x5b+0x1a72*-0x1+0x1907]=_0x13a055*_0x114df9['y'],_0x3a79a3[0xea7+-0x22fa+0x1455]=0x1c2d+-0x1042*-0x2+-0x3cb0-_0x114df9['y']-_0x35b8a0['y'],_0x34759c;});}function Cn(_0x57daf1,_0x716935){ts({'name':_0x57daf1,'defaultValue':_0x716935,'getterFunc':function(){return this['_dirtyShad'+'er']=!(0x1f53+0x2*-0x705+-0x5*0x375),this['_'+_0x57daf1];}}),Zc(_0x57daf1,(_0x483749,_0x468db0,_0x2b6149)=>{const _0x31323c=_0x483749['_allocUnif'+'orm'](_0x57daf1,()=>new Float32Array(-0x1405+0x1e6b*-0x1+0x3273)),_0x43c928=_0x483749[_0x57daf1];return Dl['linear'](_0x43c928),_0x31323c[-0x26ee+0xa7*0x1b+0x1551]=Dl['r'],_0x31323c[-0xd84+-0x9b+0x2*0x710]=Dl['g'],_0x31323c[0x7cc*-0x1+0x1*0x42d+-0x3a1*-0x1]=Dl['b'],_0x31323c;});}function Ce(_0x413d33,_0x1331b9,_0x5abf13){ts({'name':_0x413d33,'defaultValue':_0x1331b9,'dirtyShaderFunc':(_0x1f80cc,_0xb17a25)=>(_0x1f80cc===0x62a*-0x4+0x1*-0x223+0x1acb||_0x1f80cc===-0x10c7+0x2655+0x9*-0x265)!=(_0xb17a25===0x23ec+-0x2341*0x1+-0xab||_0xb17a25===-0x2a1+-0x1aae+-0x218*-0xe)}),Zc(_0x413d33,_0x5abf13);}function qa(_0x3f9ea9,_0x461a51){ts({'name':_0x3f9ea9,'defaultValue':null,'dirtyShaderFunc':(_0x4a7ef7,_0x4cfb02)=>!!_0x4a7ef7==!!_0x4cfb02}),Zc(_0x3f9ea9,_0x461a51);}function we(_0x3a3004,_0x58afba){ts({'name':_0x3a3004,'defaultValue':_0x58afba});}function tM(){Cn('ambient',new Y(-0x171*0x2+0xd83+-0xaa0,0x9b6+0x10db+-0x1a90,0x8b3*-0x3+0x10b1*-0x2+0x9*0x69c)),Cn('diffuse',new Y(0x1e07*0x1+-0x3f0*0x8+-0x7*-0x36,0x143*-0x3+0x2258*0x1+0x1e8e*-0x1,0x261f+0x184b+-0x3e69)),Cn('specular',new Y(-0x3a2+-0x108f+0x1431,-0x50+0x1*-0x159e+0xe*0x191,-0x4e9+-0xb*-0x30f+-0x1cbc)),Cn('emissive',new Y(-0x9a9*0x1+-0x21e4+0x2b8d,0x55*0x13+0x20b5*0x1+-0x2704,-0x1*0xb58+0x259a+-0x1*0x1a42)),Cn('sheen',new Y(0x15b+-0x1bb5*0x1+0xd*0x207,-0x17*-0x195+-0x8*-0xfd+-0x2c4a,0x1*0xf91+0x12bd+-0x224d)),Cn('attenuatio'+'n',new Y(0x2f3+-0x9*-0x269+-0x18a3,0x1a7f+-0x11*-0x209+0x3*-0x145d,-0x8f5*0x2+0x7f*-0x43+0x3328*0x1)),Ce('emissiveIn'+'tensity',0x1988+-0x497*-0x8+-0x3e3f),Ce('specularit'+'yFactor',0x1c86+-0x772*-0x1+-0x23f7),Ce('sheenGloss',-0xe38+0x570+0x8c8),Ce('gloss',0x1*-0x2c8+0x1a3+-0x125*-0x1+0.25),Ce('aoIntensit'+'y',0x1*0x262a+-0x19df+-0xc4a),Ce('heightMapF'+'actor',-0xf3b*0x1+-0x4a*-0x5b+-0xd*0xda,(_0x4e6703,_0x4a4f8a,_0xa24562)=>_0x4e6703['heightMapF'+'actor']*(0x226f+-0x14a9+-0x2b*0x52+0.025)),Ce('opacity',0x14e1*-0x1+0x32*-0x45+0x225c),Ce('alphaFade',-0xed1*0x1+0x1726+-0x29*0x34),Ce('alphaTest',0x1d23*-0x1+-0xc40+-0x1*-0x2963),Ce('bumpiness',-0x30a*-0x5+0x22*-0x4d+0x4f7*-0x1),Ce('normalDeta'+'ilMapBumpi'+'ness',0x1aee+0x2471+-0x3f5e),Ce('reflectivi'+'ty',-0x1d25+-0x23ef+0x4115),Ce('occludeSpe'+'cularInten'+'sity',0x1928+0x1335+0x4*-0xb17),Ce('refraction',-0x8f*-0x1d+0x2a7+-0x1*0x12da),Ce('refraction'+'Index',(0x2*0x7e5+0x1189+-0x2152)/(0x15*-0xdf+0x1ab3+0x867*-0x1+0.5)),Ce('dispersion',0xf*-0x175+-0x1b0f+0x30ea),Ce('thickness',0x17b+0x1329+-0x4*0x529),Ce('attenuatio'+'nDistance',0x9c6*-0x1+0x269a+-0x1cd4),Ce('metalness',0x1f39+-0x98b*-0x1+-0x28c3),Ce('anisotropy',0x1*-0x10fd+0xf6+0x1007),Ce('clearCoat',-0x5c+0xaf1*0x1+-0xa95),Ce('clearCoatG'+'loss',0xa3d*0x2+-0x12a2+-0x1d7),Ce('clearCoatB'+'umpiness',0x1ab4+-0x216b+0x35c*0x2),Ce('aoUvSet',-0x1759+-0x241+0xccd*0x2,null),Ce('iridescenc'+'e',-0xff6+0x1b03+0x17*-0x7b),Ce('iridescenc'+'eRefractio'+'nIndex',(0xbb*0x2c+0x65c+-0x267f)/(-0x127c+-0x1938+-0xa7*-0x43+0.5)),Ce('iridescenc'+'eThickness'+'Min',-0x41b*0x1+0xd53+-0x938),Ce('iridescenc'+'eThickness'+'Max',-0x1b7f+0x1d0d+0x18e*-0x1),qa('ambientSH'),qa('cubeMapPro'+'jectionBox',(_0x10b72f,_0x343c33,_0x28deb1)=>{const _0x194278=_0x10b72f['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(-0x1*0xd4b+0x154*0x19+-0x6a2*0x3)},{'name':'envBoxMax','value':new Float32Array(-0x1*-0x198f+0x1ef+-0x23*0xc9)}]),_0x4f17af=_0x10b72f['cubeMapPro'+'jectionBox']['getMin'](),_0x364c89=_0x194278[-0x10e3+0x206*-0xd+-0x2b31*-0x1]['value'];_0x364c89[-0x2269+-0x1*-0x1d95+0x2*0x26a]=_0x4f17af['x'],_0x364c89[0xf*0x133+-0x1*0x56d+0xc8f*-0x1]=_0x4f17af['y'],_0x364c89[-0x13f0+0x17*-0x9b+-0x12b*-0x1d]=_0x4f17af['z'];const _0x249340=_0x10b72f['cubeMapPro'+'jectionBox']['getMax'](),_0x2aa431=_0x194278[-0x1*-0x23b+-0x1281+-0x1*-0x1047]['value'];return _0x2aa431[-0x15d2+0xd4d+0x885]=_0x249340['x'],_0x2aa431[-0x186+-0x8b3+-0x4d*-0x22]=_0x249340['y'],_0x2aa431[-0xa37+0xa67*0x2+-0xa95]=_0x249340['z'],_0x194278;}),we('specularTi'+'nt',!(0x303*0x9+-0x3df*0x7+0x1*-0x1)),we('specularit'+'yFactorTin'+'t',!(0xe4c+-0x412+-0xa39)),we('useMetalne'+'ss',!(0x806+0x7b*-0x1b+0x4f4)),we('useMetalne'+'ssSpecular'+'Color',!(0xdc*-0x1c+0x1*0x25a6+-0x39*0x3d)),we('useSheen',!(0x8c6*0x1+-0x1*0x152+-0x773*0x1)),we('enableGGXS'+'pecular',!(0x1e01*0x1+-0x741+-0x16bf)),we('occludeDir'+'ect',!(-0x185e+-0x1906+-0x5*-0x9e1)),we('opacityFad'+'esSpecular',!(-0x2573+-0x1971+0xa*0x64a)),we('occludeSpe'+'cular',Bo),we('fresnelMod'+'el',Sp),we('useDynamic'+'Refraction',!(-0x33f*0x2+-0x2f9*0xb+0x2732)),we('cubeMapPro'+'jection',u0),we('customFrag'+'mentShader',null),we('useFog',!(-0x2162+0x4*-0x4de+0xa*0x549)),we('useLightin'+'g',!(-0x1*-0xba8+0x1e5d+0x1*-0x2a05)),we('useTonemap',!(0x2e7+0x1c1f+-0x1f06)),we('useSkybox',!(-0x1c22+-0x1bfa+0x381c)),we('forceUv1',!(0x3e1+-0x8f*-0xb+-0x201*0x5)),we('pixelSnap',!(0x592+-0x4d8*-0x4+0x18f1*-0x1)),we('twoSidedLi'+'ghting',!(0x1ef2+-0xe*-0x1fd+0x16f*-0x29)),we('nineSliced'+'Mode',void(-0x1120+0x16*-0xf1+0x25d6)),we('msdfTextAt'+'tribute',!(0x222e+0xf8c+0x1093*-0x3)),we('useIridesc'+'ence',!(-0x3a6*-0x6+0xc1d*0x1+0x8*-0x440)),we('glossInver'+'t',!(0x2109+-0x1a6a+0x4d*-0x16)),we('sheenGloss'+'Invert',!(0xf7b+-0x1063+0xe9)),we('clearCoatG'+'lossInvert',!(-0x25b6+-0x1*0x15aa+-0x3*-0x13cb)),we('opacityDit'+'her',Rs),we('opacitySha'+'dowDither',Rs),Ge('diffuse'),Ge('specular'),Ge('emissive'),Ge('thickness','g'),Ge('specularit'+'yFactor','g'),Ge('normal',''),Ge('metalness','g'),Ge('gloss','g'),Ge('opacity','a'),Ge('refraction','g'),Ge('height','g',!(-0x1*0x7f+-0x16b0+-0x2*-0xb98)),Ge('ao','g'),Ge('light','rgb',!(0x1503+0x26ef*0x1+-0x3bf2),0x2347+0x33*-0x5+-0x2a3*0xd),Ge('msdf',''),Ge('diffuseDet'+'ail','rgb',!(0x2*0x4b1+-0x1ccd+0x136c)),Ge('normalDeta'+'il',''),Ge('aoDetail','g',!(0x1cfd*-0x1+0x13a*0x6+0x15a2)),Ge('clearCoat','g'),Ge('clearCoatG'+'loss','g'),Ge('clearCoatN'+'ormal',''),Ge('sheen','rgb'),Ge('sheenGloss','g'),Ge('iridescenc'+'e','g'),Ge('iridescenc'+'eThickness','g'),we('diffuseDet'+'ailMode',km),we('aoDetailMo'+'de',km),qa('cubeMap'),qa('sphereMap'),qa('envAtlas');const _0x51fa88=function(){return this['_prefilter'+'edCubemaps'];},_0x63aed7=function(_0x5547f7){const _0x4eb5e3=this['_prefilter'+'edCubemaps'];_0x5547f7=_0x5547f7||[];let _0x520a0c=!(0x3ba+-0x10c4+-0x35*-0x3f),_0x5059dd=!(-0x2*0x5d4+0x1349*0x2+-0x562*0x5);for(let _0x6ada8d=0x12e5*-0x2+0x80*-0x25+-0x106*-0x37;_0x6ada8d<0x156+-0x2*-0x398+-0x880;++_0x6ada8d){const _0x3df411=_0x5547f7[_0x6ada8d]||null;_0x4eb5e3[_0x6ada8d]!==_0x3df411&&(_0x4eb5e3[_0x6ada8d]=_0x3df411,_0x520a0c=!(-0x2a3+-0x1*-0x13c5+-0x5b6*0x3)),_0x5059dd=_0x5059dd&&!!_0x4eb5e3[_0x6ada8d];}_0x520a0c&&(_0x5059dd?this['envAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x4eb5e3,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(0x4a*-0x1+0xa*-0x353+-0x1d*-0x128));},_0x37bfb9=[null,null,null,null,null,null];Op('prefiltere'+'dCubemaps',()=>_0x37bfb9['slice'](),_0x63aed7,_0x51fa88);}tM();const dt=class dt{static['render'](_0x4ac122,_0x241ef8){const _0x543649=_0x241ef8['device'],_0x2f0534=_0x4ac122['cells'],_0x14ba69=_0x4ac122['lightsBuff'+'er'],_0x318b62=_0x14ba69['boundsMin'],_0x1d0524=_0x14ba69['boundsDelt'+'a'],_0x377dfd=_0x318b62['clone']()['add'](_0x1d0524),_0x2ea19a=_0x14ba69['boundsDelt'+'a']['clone']()['div'](_0x2f0534),_0x1fc29b=dt['gridPositi'+'ons'],_0x507835=dt['gridColors'],_0x14a807=new Y(-0x2*-0xa7b+0x16bf+0xa7*-0x43+0.3,0xe96+-0x1*-0x1efe+-0x2d94+0.3,-0x2204+-0x1*-0x243a+-0x236+0.3),_0x198f14=(_0x1d2292,_0x2ece48,_0x5a083a,_0x4d158b,_0x16bc33,_0x1eccb7,_0x3136f4,_0x3e5831,_0x47e90e)=>{for(let _0x300a87=0x12*0x10+0x12d3+-0x13f3;_0x300a87<=_0x1d2292;_0x300a87++)for(let _0x2dab2e=0x4*0x335+0x5*-0xa+-0xca2;_0x2dab2e<=_0x2ece48;_0x2dab2e++){const _0x33782f=_0x5a083a+_0x300a87*_0x4d158b,_0x35fc3e=_0x16bc33+_0x2dab2e*_0x1eccb7;_0x47e90e===-0x4ea+-0x263e+0x2b28?_0x1fc29b['push'](_0x33782f,_0x3136f4,_0x35fc3e,_0x33782f,_0x3e5831,_0x35fc3e):_0x47e90e===-0x2425+0x13*0x12d+0x65*0x23?_0x1fc29b['push'](_0x33782f,_0x35fc3e,_0x3136f4,_0x33782f,_0x35fc3e,_0x3e5831):_0x47e90e===0x35b*-0x1+-0x2214+0x2571&&_0x1fc29b['push'](_0x3136f4,_0x33782f,_0x35fc3e,_0x3e5831,_0x33782f,_0x35fc3e);}};if(_0x198f14(_0x2f0534['x'],_0x2f0534['z'],_0x318b62['x'],_0x2ea19a['x'],_0x318b62['z'],_0x2ea19a['z'],_0x318b62['y'],_0x377dfd['y'],0x26*-0x26+-0x10a*0x25+0x156*0x21),_0x198f14(_0x2f0534['x'],_0x2f0534['y'],_0x318b62['x'],_0x2ea19a['x'],_0x318b62['y'],_0x2ea19a['y'],_0x318b62['z'],_0x377dfd['z'],-0x12*0x24+0x5c7+-0x33e),_0x198f14(_0x2f0534['y'],_0x2f0534['z'],_0x318b62['y'],_0x2ea19a['y'],_0x318b62['z'],_0x2ea19a['z'],_0x318b62['x'],_0x377dfd['x'],-0xb57*-0x1+0x2*0x9b7+0x1ec3*-0x1),_0x1fc29b['length']){const _0x346d28=_0x1fc29b['length']/(0x1*-0x20d2+-0x1b9d+0x3c72);if(_0x346d28!==_0x507835['length']/(-0x12a5+-0x2e7*-0x1+0xfc2)){_0x507835['length']=-0x159d+-0x2*-0x2bd+0x1023;for(let _0x1903c5=0x1d48+0x1272+-0x2fba;_0x1903c5<_0x346d28;_0x1903c5++)_0x507835['push'](_0x14a807['r'],_0x14a807['g'],_0x14a807['b'],_0x14a807['a']);}_0x241ef8['drawLineAr'+'rays'](_0x1fc29b,_0x507835),_0x1fc29b['length']=0x1943+0x11a1*0x1+-0x2ae4;}let _0x1c8eb2=dt['mesh'];_0x1c8eb2||(_0x1c8eb2=new Ie(_0x543649),_0x1c8eb2['clear'](!(0xf92+-0x874+-0x71e),!(0xb42+0xdcd*-0x1+0x1*0x28b)),dt['mesh']=_0x1c8eb2);const _0x1307fb=[],_0x322abd=[],_0x35d217=[],_0x21b6a8=_0x4ac122['_cells']['x'],_0x23d6a4=_0x4ac122['_cells']['z'],_0x3eef14=_0x4ac122['counts'],_0x1026d3=_0x4ac122['_maxCellLi'+'ghtCount'],_0x56b2f5=new T(),_0x487c2d=new T(),_0x98660e=new T(),_0x44c6cb=_0x1d0524['clone']()['div'](_0x2f0534);let _0x513c78=0x1c39+0x1376+-0xfe5*0x3;for(let _0x5f40cf=-0x124c*-0x2+0x23*-0x71+0x1*-0x1525;_0x5f40cf<_0x2f0534['x'];_0x5f40cf++)for(let _0x2d24b1=0x2*-0x541+0x4*-0x8fe+0x2e7a;_0x2d24b1<_0x2f0534['z'];_0x2d24b1++)for(let _0x443e52=0x3b5*0x5+-0xc9+-0x11c0;_0x443e52<_0x2f0534['y'];_0x443e52++){const _0x4ad001=_0x5f40cf+_0x21b6a8*(_0x2d24b1+_0x443e52*_0x23d6a4),_0x258512=_0x3eef14[_0x4ad001];if(_0x258512>0xcbb+-0x234a+0x168f){_0x56b2f5['x']=_0x318b62['x']+_0x44c6cb['x']*_0x5f40cf,_0x56b2f5['y']=_0x318b62['y']+_0x44c6cb['y']*_0x443e52,_0x56b2f5['z']=_0x318b62['z']+_0x44c6cb['z']*_0x2d24b1,_0x487c2d['add2'](_0x56b2f5,_0x44c6cb),_0x1307fb['push'](_0x56b2f5['x'],_0x56b2f5['y'],_0x487c2d['z']),_0x1307fb['push'](_0x487c2d['x'],_0x56b2f5['y'],_0x487c2d['z']),_0x1307fb['push'](_0x487c2d['x'],_0x487c2d['y'],_0x487c2d['z']),_0x1307fb['push'](_0x56b2f5['x'],_0x487c2d['y'],_0x487c2d['z']),_0x1307fb['push'](_0x487c2d['x'],_0x56b2f5['y'],_0x56b2f5['z']),_0x1307fb['push'](_0x56b2f5['x'],_0x56b2f5['y'],_0x56b2f5['z']),_0x1307fb['push'](_0x56b2f5['x'],_0x487c2d['y'],_0x56b2f5['z']),_0x1307fb['push'](_0x487c2d['x'],_0x487c2d['y'],_0x56b2f5['z']),_0x98660e['lerp'](dt['colorLow'],dt['colorHigh'],_0x258512/_0x1026d3)['round']();for(let _0x455128=-0x1604*0x1+-0x11b7+-0x7*-0x5ad;_0x455128<-0x223*0x6+0xb7*-0x3+0xeff;_0x455128++)_0x322abd['push'](_0x98660e['x'],_0x98660e['y'],_0x98660e['z'],0x1137+-0x127b*0x1+0x145);_0x35d217['push'](_0x513c78*(-0x8ef+-0x175*-0x5+0x1ae)+(-0x58c*-0x4+-0x20ff+-0xacf*-0x1),_0x513c78*(0x6be+-0x5*0xd9+-0x279)+(0x1a93*-0x1+0x1496+0x1a*0x3b),_0x513c78*(-0x218*0xb+-0x1*0x1a69+0x3179)+(-0xd83+0x1909+-0x7*0x1a5)),_0x35d217['push'](_0x513c78*(0xb1b+0x189d*-0x1+0xd8a)+(0x45*0x1+-0xaa3+-0x1*-0xa61),_0x513c78*(0xe49*-0x1+-0x1922*-0x1+-0xad1)+(0x7b9*0x1+0x8c8+-0x1080),_0x513c78*(0x1dd+-0x24dd+0x2308)+(0x1*-0x18e5+0x3b2+0x1535)),_0x35d217['push'](_0x513c78*(-0x484+0xc56+-0x7ca*0x1)+(-0x1618+0xead+0x76f),_0x513c78*(-0x1650+-0x104*0x15+0x2bac)+(-0x1b4f*-0x1+0x1583+-0x30cd),_0x513c78*(0x59e*0x1+-0x1*0x2ea+-0x2ac)+(0x814+-0x1*0x1d77+0x2*0xab5)),_0x35d217['push'](_0x513c78*(0x175d+0xcdd*-0x1+-0xa78)+(-0xd4*-0x11+0x1c63+0x610*-0x7),_0x513c78*(0xb05+0x24d7+0x17ea*-0x2)+(-0x1f*-0x1+0x13a8+0x696*-0x3),_0x513c78*(-0x1*-0x18af+-0x1474+-0x19*0x2b)+(-0x19e+0x23*0x51+0x1*-0x96f)),_0x35d217['push'](_0x513c78*(0x215c+-0x22c+-0x1f28)+(-0x21cd+0x1f71+0x1*0x25f),_0x513c78*(0x176+0xcb8+-0xe26*0x1)+(0x515*-0x1+-0x1423+0x193a),_0x513c78*(0xeca*-0x1+-0x1*0xa7b+0x3*0x86f)+(0x7*-0x480+-0x2f+0x1fb5)),_0x35d217['push'](_0x513c78*(-0x1501*0x1+-0x1231+-0x139d*-0x2)+(0xb18+-0x117*-0x1+-0x40f*0x3),_0x513c78*(-0x1e9f+0x120b+0x3*0x434)+(-0x1f9c+-0x664*0x3+0x32cf),_0x513c78*(-0x17*-0x8e+-0x27d+-0xa3d)+(-0x1496+0x1b*0x1a+-0x1*-0x11de)),_0x35d217['push'](_0x513c78*(0x154+0xea4*0x1+-0x154*0xc)+(-0x14fa+0x13*-0x1a3+-0x1*-0x3414),_0x513c78*(-0x10f*0x1d+-0xdc7+0x2c82)+(0x18ec+0x17*0x65+0x1*-0x21ff),_0x513c78*(0x1*-0x32e+0x7*0x487+-0x1c7b)+(-0x44*0x59+-0x693*0x1+0x6d*0x47)),_0x35d217['push'](_0x513c78*(0xb57*-0x2+-0xf31+0x25e7)+(0x2063+0x4*-0x8df+0x319),_0x513c78*(-0x719+-0x569*-0x3+0xa*-0xe9)+(-0x83*-0x31+-0x13f9+0x1*-0x515),_0x513c78*(0x789*-0x5+-0x782+0x2d37*0x1)+(0x19*0x185+0x6e3*-0x3+0x8*-0x22a)),_0x35d217['push'](_0x513c78*(0x1a39+-0x230e+0x8dd)+(-0x6*-0x36d+0x9*-0xd+-0x1418),_0x513c78*(-0x4fd*0x3+0x176e+-0x86f)+(0x14f*-0x3+0x234e+0x103*-0x1f),_0x513c78*(0x1e2a+-0x26e6+0x8c4)+(0x2*0x931+-0x25*-0x6b+-0x21d7)),_0x35d217['push'](_0x513c78*(0xb0a+-0x2506+0x1a04)+(0x2197*0x1+0x1a07+0x3*-0x13de),_0x513c78*(0x128f+-0xf31+0x1ab*-0x2)+(-0x1da+-0x24c0+0x26a1),_0x513c78*(-0xb33*-0x1+-0x8*0x109+0x1*-0x2e3)+(0x102*0x1a+0x12db+-0x2d0d)),_0x35d217['push'](_0x513c78*(0x24f+-0x26+-0x221)+(-0x10f*0xd+-0x558+0x1320),_0x513c78*(0x1da9+0x24d7*-0x1+0x736)+(-0xd*-0x1be+-0x1165+-0x541),_0x513c78*(-0x508+0x9*0x306+-0x46*0x51)+(-0x14*-0x153+0x8aa*0x3+0x3*-0x117c)),_0x35d217['push'](_0x513c78*(-0x21b9*-0x1+0xb*0x62+-0x25e7)+(-0x16d9+-0x10f*0x1+-0x5fa*-0x4),_0x513c78*(0x3c1*0x1+0x7*0x4cb+-0x2546)+(-0x1*-0x60a+-0x1664+-0x105d*-0x1),_0x513c78*(-0x2343+-0xb47+-0x6*-0x7c3)+(0x57*-0x13+-0x74a+-0x4b*-0x2f)),_0x513c78++;}}if(_0x513c78){if(_0x1c8eb2['setPositio'+'ns'](_0x1307fb),_0x1c8eb2['setColors3'+'2'](_0x322abd),_0x1c8eb2['setIndices'](_0x35d217),_0x1c8eb2['update'](Ms,!(0xd*0x2d5+-0x31*0xad+-0x3b3)),!dt['meshInstan'+'ce']){const _0x55fce7=new cs();_0x55fce7['useLightin'+'g']=!(0x1*0x18c5+-0xd19*0x1+-0xbab),_0x55fce7['emissive']=new Y(-0x1*0xeed+-0x7f*0x48+0x32a6,0x13fe*-0x1+0x26a5+-0x12a6,0x4d7*-0x7+-0x1f94+0x4176),_0x55fce7['emissiveVe'+'rtexColor']=!(0x2613+0x17e1*-0x1+-0x4f*0x2e),_0x55fce7['blendType']=Hc,_0x55fce7['depthWrite']=!(0xb*-0x24b+-0x55*-0x1d+-0x21*-0x79),_0x55fce7['update']();const _0x520efc=new De('WorldClust'+'ersDebug');_0x520efc['worldTrans'+'form']=q['IDENTITY'],_0x520efc['_dirtyWorl'+'d']=_0x520efc['_dirtyNorm'+'al']=!(-0x61*-0x50+-0x1134+-0xd1b),dt['meshInstan'+'ce']=new Le(_0x1c8eb2,_0x55fce7,_0x520efc),dt['meshInstan'+'ce']['cull']=!(-0x8f5+-0x10fc+0x6*0x453);}const _0x82abac=dt['meshInstan'+'ce'];_0x241ef8['immediate']['drawMesh'](_0x82abac['material'],_0x82abac['node']['worldTrans'+'form'],null,_0x82abac,_0x241ef8['defaultDra'+'wLayer']);}}};c(dt,'gridPositi'+'ons',[]),c(dt,'gridColors',[]),c(dt,'mesh',null),c(dt,'meshInstan'+'ce',null),c(dt,'colorLow',new T(0x2257+-0x1*-0x503+-0x2759,-0x1903+0x9*0x2d4+-0x4*0x1c,0x5*-0x491+-0x11d1+0x28a7)),c(dt,'colorHigh',new T(0x124*-0x18+-0x3*-0x1df+-0x1f*-0xb5,-0x67*-0x37+0x2262+-0x11*0x353,-0x1*-0x13de+0x1383+-0x2761));let Vu=dt;const sM='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let vi=null;const R0=()=>{if(!vi){const _0x390d6a=atob(sM);vi=Uint8Array['from'](_0x390d6a,_0x5a7a48=>_0x5a7a48['charCodeAt'](-0x1995+-0x15c+0x1af1));}},iM=()=>(R0(),vi);class rM{constructor(_0xcb8bab=-0x1475+0x4*-0x57a+0x879*0x5){c(this,'seed',0x56b+-0x2ad*0xa+0x1557),(this['seed']=_0xcb8bab*(-0x48*-0x8a+0x1*-0x229f+-0x1*0x42d),R0());}['_next'](){this['seed']=(this['seed']+(0x17*-0xc1+0x1ef2+0x1f1*-0x7))%vi['length'];}['value'](){return this['_next'](),vi[this['seed']]/(0x12b3*-0x1+-0x11e9+-0x259b*-0x1);}['vec4'](_0x182fad=new Q()){return this['_next'](),_0x182fad['set'](vi[this['seed']],vi[this['seed']+(0x2366+-0x17*0x17c+0x6b*-0x3)],vi[this['seed']+(-0x1a17+0xd59+-0x2*-0x660)],vi[this['seed']+(-0x23*-0xe3+0x2*-0x105b+0x1b0)])['mulScalar']((-0x1*-0x577+-0x5*-0x155+0x1d*-0x6b)/(0x133c+-0x1057*-0x2+-0x32eb));}}const nM=[new T(-(0xb*-0x37d+-0x26c4+0x4d24),0x1c79+-0xd62+-0x1*0xf17,0x32b+-0x206f+0x1d44),new T(-0x2*-0x1372+0x20e*0xc+-0x3f8b,-0x1*-0x90c+0x2ab+-0xbb7,-0xb32+-0x17*0x53+0x12a7),new T(-0x245f+0x22cf+0x190,-(0x78+0x14c2+0x1*-0x1539),0x5fb*0x2+-0x25ea+0x19f4),new T(0xd81+0x1*-0x1ca7+-0xf26*-0x1,-0x10bb+0x14d6+0x5*-0xd2,0x25fc+0x1*0x1b2d+-0x7*0x94f),new T(-0x44c+0x463+-0x1*0x17,-0xf*-0xe9+-0x177a+0x9d3,-(-0xe26*-0x1+-0xb0c+-0x319)),new T(0x14b6+-0x1*0x1043+-0x1*0x473,0x25f8+0x1938*0x1+-0x3f30,-0x525*-0x2+0x3*-0x307+-0x4*0x4d)];class aM{constructor(){c(this,'colors',new Float32Array((-0x152a+0x1bc4*0x1+-0x694)*(0x101e*0x1+0x1df8+-0x2e13)));}['update'](_0x301630,_0x45ddbf){const _0x24b559=this['colors'],{r:_0x1e8e7d,g:_0xcfb0e4,b:_0x12e2e9}=_0x301630;for(let _0x8cc941=0x6*-0x2a2+0x44e+0xb7e;_0x8cc941<0xc48*0x1+0x3d*-0xa3+0x1a95;_0x8cc941++)_0x24b559[_0x8cc941*(0x1*-0x14a3+-0x703+0x1ba9)]=_0x1e8e7d,_0x24b559[_0x8cc941*(0xc97+-0x1398+-0x382*-0x2)+(0x263*0x5+0x1e*0x7f+0x8f0*-0x3)]=_0xcfb0e4,_0x24b559[_0x8cc941*(0x156d*-0x1+-0x3*0xb1a+0x36be)+(0x1839+-0x90*0xc+-0x1177*0x1)]=_0x12e2e9;for(let _0x3ccc4a=0x246*0xd+0x183e+-0x1*0x35cc;_0x3ccc4a<_0x45ddbf['length'];_0x3ccc4a++){const _0x21f6dc=_0x45ddbf[_0x3ccc4a];if(_0x21f6dc['_type']===oe)for(let _0x30cc80=-0x5e5+0x1*0x202+0x3e3;_0x30cc80<0x2ca*0xb+0x1*0xc7+-0x1f6f;_0x30cc80++){const _0x436789=Math['max'](nM[_0x30cc80]['dot'](_0x21f6dc['_direction']),0x1*-0x1dc5+0x2ae+0x1*0x1b17)*_0x21f6dc['_intensity'],_0x27dc20=_0x21f6dc['_color'];_0x24b559[_0x30cc80*(0xf4*-0x10+0xdf7+-0x2*-0xa6)]+=_0x27dc20['r']*_0x436789,_0x24b559[_0x30cc80*(-0x1424+-0x14*-0x91+-0x1*-0x8d3)+(-0x1a6f+0x13d0+0x6a0)]+=_0x27dc20['g']*_0x436789,_0x24b559[_0x30cc80*(-0x269*-0x9+0x3d7*0x8+-0x3466)+(-0x8bb+-0x131+-0x29*-0x3e)]+=_0x27dc20['b']*_0x436789;}}}}const oM=(_0x56c791,_0x4b1403,_0x2394b1,_0x502065)=>{const _0x100499=new he(_0x56c791,{'name':''+_0x4b1403+_0x2394b1,'width':_0x2394b1,'height':_0x2394b1,'format':Se,'addressU':tt,'addressV':tt,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1,'mipmaps':!(-0x40*-0x60+0x1df9+-0x35f8)});return _0x100499['lock']()['set'](_0x502065),_0x100499['unlock'](),_0x100499;},lM=new Ot(),hM=_0x2b9ffa=>lM['get'](_0x2b9ffa,()=>{const _0x25016e=iM(),_0x4b0826=Math['sqrt'](_0x25016e['length']/(-0xdfc+-0x1de4+0x2be4));return oM(_0x2b9ffa,'BlueNoise',_0x4b0826,_0x25016e);});class un{constructor(_0x534f16,_0x269884){this['texture']=_0x534f16,this['cached']=!(-0x2c1+-0x6b3+0x1*0x975),this['renderTarg'+'ets']=_0x269884;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x34861b=this['renderTarg'+'ets'];for(let _0x2d04d6=-0xbb2+0x24*0x3b+0x366;_0x2d04d6<_0x34861b['length'];_0x2d04d6++)_0x34861b[_0x2d04d6]['destroy']();this['renderTarg'+'ets']['length']=0x1c61*-0x1+0x1*-0x20d+0x616*0x5;}static['getShadowF'+'iltering'](_0x2415a6,_0x2484d4){return _0x2484d4===Wr?_0x2415a6['extTexture'+'FloatLinea'+'r']?st:de:st;}static['create'](_0x53b998,_0x93c8b5){let _0x56ec01=null;return _0x93c8b5['_type']===Pe?_0x56ec01=this['createCube'+'map'](_0x53b998,_0x93c8b5['_shadowRes'+'olution'],_0x93c8b5['_shadowTyp'+'e']):_0x56ec01=this['create2dMa'+'p'](_0x53b998,_0x93c8b5['_shadowRes'+'olution'],_0x93c8b5['_shadowTyp'+'e']),_0x56ec01;}static['createAtla'+'s'](_0x533a8,_0x4f8789,_0x1d355f){const _0x241c70=this['create2dMa'+'p'](_0x533a8,_0x4f8789,_0x1d355f),_0x137ce3=_0x241c70['renderTarg'+'ets'],_0x2c7412=_0x137ce3[0x6*-0x435+-0x1ad9+0x115d*0x3];for(let _0x4ea1b6=-0x73*-0x1d+0x262e+-0x3335;_0x4ea1b6<-0x1*0xcf0+-0x5*0x75d+0x31c6;_0x4ea1b6++)_0x137ce3['push'](_0x2c7412);return _0x241c70;}static['create2dMa'+'p'](_0x50d1a5,_0x3eeef8,_0x525570){var _0x2d4e7a;const _0x4bf7ab=ir['get'](_0x525570);v['assert'](_0x4bf7ab);let _0x542a82=_0x4bf7ab['format'];_0x542a82===Ii&&!_0x50d1a5['textureFlo'+'atRenderab'+'le']&&_0x50d1a5['textureHal'+'fFloatRend'+'erable']&&(_0x542a82=Ec);const _0x287c0c=(_0x2d4e7a=xt['get'](_0x542a82))==null?void(0x7*-0x1a+0x1626+0x1c*-0xc4):_0x2d4e7a['name'],_0x27b85f=this['getShadowF'+'iltering'](_0x50d1a5,_0x525570),_0x75d1e=new he(_0x50d1a5,{'profilerHint':Tu,'format':_0x542a82,'width':_0x3eeef8,'height':_0x3eeef8,'mipmaps':!(-0xc*0x88+-0x12e+0x78f),'minFilter':_0x27b85f,'magFilter':_0x27b85f,'addressU':ae,'addressV':ae,'name':'ShadowMap2'+'D_'+_0x287c0c});let _0x5f8544=null;return _0x4bf7ab!=null&&_0x4bf7ab['pcf']?(_0x75d1e['compareOnR'+'ead']=!(0x133*0x1d+0x7b5+-0xa9f*0x4),_0x75d1e['compareFun'+'c']=Eh,_0x5f8544=new pt({'depthBuffer':_0x75d1e})):_0x5f8544=new pt({'colorBuffer':_0x75d1e,'depth':!(-0x1074+0x648*0x2+-0x14c*-0x3)}),_0x50d1a5['isWebGPU']&&(_0x5f8544['flipY']=!(0x196f+0x2648+-0x3fb7)),new un(_0x75d1e,[_0x5f8544]);}static['createCube'+'map'](_0x202c5a,_0x5deefe,_0x252be1){var _0xe3f288;const _0x1b6ed2=ir['get'](_0x252be1);v['assert'](_0x1b6ed2);const _0x120b41=(_0xe3f288=xt['get'](_0x1b6ed2['format']))==null?void(0x1*0x25b1+-0x2338+-0x279):_0xe3f288['name'],_0x4e34c2=_0x252be1===Ts,_0x3a886d=_0x4e34c2?de:st,_0x3ece65=new he(_0x202c5a,{'profilerHint':Tu,'format':_0x1b6ed2==null?void(0x15a5+-0x7*-0x65+0x1*-0x1868):_0x1b6ed2['format'],'width':_0x5deefe,'height':_0x5deefe,'cubemap':!(0x1fca+0x215c+-0x4126),'mipmaps':!(-0x45*0x14+0x6f8+-0x193),'minFilter':_0x3a886d,'magFilter':_0x3a886d,'addressU':ae,'addressV':ae,'name':'ShadowMapC'+'ube_'+_0x120b41});_0x4e34c2||(_0x3ece65['compareOnR'+'ead']=!(-0xe6c+-0x1327+0x3*0xb31),_0x3ece65['compareFun'+'c']=Eh);const _0x4abe9a=[];for(let _0x5f9f80=-0x17aa+-0xd*0x52+0x1bd4;_0x5f9f80<0x1e2e+0xae5+-0x5d*0x71;_0x5f9f80++)_0x4e34c2?_0x4abe9a['push'](new pt({'colorBuffer':_0x3ece65,'face':_0x5f9f80,'depth':!(-0x2*-0x92f+0x1567+-0x27c5*0x1)})):_0x4abe9a['push'](new pt({'depthBuffer':_0x3ece65,'face':_0x5f9f80}));return new un(_0x3ece65,_0x4abe9a);}}const cM=[],dM=[],Js=new Q(),Cd=new Q();class Md{constructor(_0x17d7b6){this['size']=Math['floor'](_0x17d7b6['w']*(-0xbb6*0x3+0x20c6*0x1+0x16*0x4a)),this['used']=!(0x1ee8+0x120e+-0x30f5),this['lightId']=-(-0x8*0x2bd+-0x9d7+0x1fc0),this['rect']=_0x17d7b6;}}class uM{constructor(_0x13ff69){this['device']=_0x13ff69,this['version']=-0x16f8+-0x1*0x15ec+0x2ce5,this['shadowAtla'+'sResolutio'+'n']=-0x216b+-0xc62*-0x1+-0x1d09*-0x1,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=0xf2b+-0x174b+0x823,this['cookieAtla'+'sResolutio'+'n']=0x1c2*0x13+-0x11*0x44+-0x1cde,this['cookieAtla'+'s']=new he(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':rs,'cubemap':!(-0x1578+0x4*-0x371+0x233d),'mipmaps':!(0x943*0x3+0x1f1d+-0x3ae5),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae}),this['cookieRend'+'erTarget']=new pt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(-0x2*-0x12e2+0x1891+0xf95*-0x4),'flipY':!(-0x22db*-0x1+-0xd*-0x25a+-0x416d*0x1)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new W(0x343*0x2+-0xad7+0xd*0x55,0x1*0x1d9f+0x77*0x39+-0x2*0x1c0f),new W(0x2*0x85f+0x117*-0x10+-0x59*-0x2,0x18eb+0x12c4+-0x2bae),new W(-0x9*-0x5a+-0x2522+0x21f9,-0x8b*-0x1f+-0x266c+0x1*0x1597),new W(0x7*0x2e5+-0x4b*0x15+-0x1*0xe1b,-0x7e9+-0x252+0xa3c),new W(-0x3ca*-0x7+0x4*0x486+-0x2c9c,0x1*0x1f74+0x10*-0xc3+-0x1344),new W(-0x2*-0x84f+0x31*-0xc1+0x1455,-0x1b47+0x2158+0x61*-0x10)],this['scissorVec']=new Q(),this['allocateSh'+'adowAtlas'](0x1*-0x27d+0x1*0x26d7+0x5*-0x745),this['allocateCo'+'okieAtlas'](-0x29*-0x37+-0x47d+-0x451),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x3fc3e3;(_0x3fc3e3=this['shadowAtla'+'s'])==null||_0x3fc3e3['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x1ba4c5,_0x319641;(_0x1ba4c5=this['cookieAtla'+'s'])==null||_0x1ba4c5['destroy'](),this['cookieAtla'+'s']=null,(_0x319641=this['cookieRend'+'erTarget'])==null||_0x319641['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x5928d2,_0x3ebf50=Dt){var _0x3be5ce;const _0x1aeab8=(_0x3be5ce=this['shadowAtla'+'s'])==null?void(-0x1*-0xcb3+-0x24d8+-0x7*-0x373):_0x3be5ce['texture']['format'],_0x3d4196=ir['get'](_0x3ebf50)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x5928d2||_0x1aeab8!==_0x3d4196){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=un['createAtla'+'s'](this['device'],_0x5928d2,_0x3ebf50),this['shadowAtla'+'s']['cached']=!(0xf51*0x1+-0xe*0x23c+0xff7);const _0x19bf1f=(0x99a*0x4+-0x1424+0x920*-0x2)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x19bf1f,_0x19bf1f,-(-0x1ed5+0x1da3+0x134)*_0x19bf1f,-(0x129b+-0xb5*-0x2b+-0x3100)*_0x19bf1f);}}['allocateCo'+'okieAtlas'](_0x1224aa){this['cookieAtla'+'s']['width']!==_0x1224aa&&(this['cookieRend'+'erTarget']['resize'](_0x1224aa,_0x1224aa),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(0x19*0x17e+0x6db+0x1*-0x2c27),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x19b1b8=this['shadowAtla'+'s']['renderTarg'+'ets'][-0x52*0x6b+0x108c+0x11ba]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x19b1b8),this['_shadowAtl'+'asParams'][0x7b5*0x3+-0x19*0x10f+0x358]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][-0xa36+0x2*0x52a+0x1d*-0x1]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x151ef4,_0x1f94f3){let _0x1871b6=_0x1f94f3['atlasSplit'];if(!_0x1871b6){const _0x369339=Math['ceil'](Math['sqrt'](_0x151ef4));_0x1871b6=dM,_0x1871b6[0xd3*-0x8+-0x2039+0x26d1]=_0x369339,_0x1871b6['length']=0x1afd+-0x11e6+0x48b*-0x2;}if(!((_0x42a80f,_0x4d720c)=>_0x42a80f['length']===_0x4d720c['length']&&_0x42a80f['every']((_0x1b6d1b,_0x39a5d0)=>_0x1b6d1b===_0x4d720c[_0x39a5d0]))(_0x1871b6,this['atlasSplit'])){this['version']++,this['slots']['length']=0x1*0x1333+0x2479*0x1+-0x1fd*0x1c,this['atlasSplit']['length']=-0xd*0xc8+0x2028+0x58*-0x40,this['atlasSplit']['push'](..._0x1871b6);const _0x3c2de8=this['atlasSplit'][-0x8*0x467+0x243e+-0x1*0x106];if(_0x3c2de8>-0x4bb+0x195*0x3+-0x3){const _0x28bd4d=(-0x1*0x453+-0x2684+0x2ad8)/_0x3c2de8;for(let _0x2f4b96=-0x20*0x123+-0x4*0x8e0+0x47e0;_0x2f4b96<_0x3c2de8;_0x2f4b96++)for(let _0x305309=0x2519+0x1b91*0x1+-0x40aa;_0x305309<_0x3c2de8;_0x305309++){const _0x3aa0bd=new Q(_0x2f4b96*_0x28bd4d,_0x305309*_0x28bd4d,_0x28bd4d,_0x28bd4d),_0x208870=this['atlasSplit'][-0x1*0x1644+0x1924*0x1+-0x2df+_0x2f4b96*_0x3c2de8+_0x305309];if(_0x208870>0x1fd2+-0x95*0x19+-0x1144){for(let _0x1d2262=0x14f1+-0x1*0x1fa5+-0xa*-0x112;_0x1d2262<_0x208870;_0x1d2262++)for(let _0x42bb53=-0x1*0x9bf+0x10*-0x123+0x1bef;_0x42bb53<_0x208870;_0x42bb53++){const _0x3f7c78=_0x28bd4d/_0x208870,_0x206934=new Q(_0x3aa0bd['x']+_0x1d2262*_0x3f7c78,_0x3aa0bd['y']+_0x42bb53*_0x3f7c78,_0x3f7c78,_0x3f7c78);this['slots']['push'](new Md(_0x206934));}}else this['slots']['push'](new Md(_0x3aa0bd));}}else this['slots']['push'](new Md(new Q(0x1*0xc1f+-0x189*0x1+-0xa96,0x6e7+0x1381+-0x1a68,0x3d5+-0x21a8+0x1dd4,-0x2e9*0x9+0x25d9*0x1+-0xba7)));this['slots']['sort']((_0x454e91,_0x379cf0)=>_0x379cf0['size']-_0x454e91['size']);}}['collectLig'+'hts'](_0x1ad41e,_0x3eda07){const _0x30c054=_0x3eda07['cookiesEna'+'bled'],_0x47e8f0=_0x3eda07['shadowsEna'+'bled'];let _0x81ca7b=!(-0x403*0x1+-0x1889+0x1c8d),_0x2183aa=!(-0x544*-0x6+0x29*0xa9+-0x3aa8);const _0x119b58=cM;return _0x119b58['length']=0x10e1+0x17*0x15d+-0x303c,(_0x30c054||_0x47e8f0)&&(_0x30038f=>{for(let _0x29ea9b=0x2584+-0x1ea1+-0x6e3;_0x29ea9b<_0x30038f['length'];_0x29ea9b++){const _0xcbbd64=_0x30038f[_0x29ea9b];if(_0xcbbd64['visibleThi'+'sFrame']){const _0x3e3fcd=_0x47e8f0&&_0xcbbd64['castShadow'+'s'],_0x22e02a=_0x30c054&&!!_0xcbbd64['cookie'];_0x81ca7b||(_0x81ca7b=_0x3e3fcd),_0x2183aa||(_0x2183aa=_0x22e02a),(_0x3e3fcd||_0x22e02a)&&_0x119b58['push'](_0xcbbd64);}}})(_0x1ad41e),_0x119b58['sort']((_0x2ac999,_0x1a0553)=>_0x1a0553['maxScreenS'+'ize']-_0x2ac999['maxScreenS'+'ize']),_0x81ca7b&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x3eda07['shadowType']),_0x2183aa&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x81ca7b||_0x2183aa)&&this['subdivide'](_0x119b58['length'],_0x3eda07),_0x119b58;}['setupSlot'](_0x2e4269,_0x54ccd4){_0x2e4269['atlasViewp'+'ort']['copy'](_0x54ccd4);const _0x110e5e=_0x2e4269['numShadowF'+'aces'];for(let _0x73c661=-0x2489+-0x13f3*-0x1+0x1096;_0x73c661<_0x110e5e;_0x73c661++)if(_0x2e4269['castShadow'+'s']||_0x2e4269['_cookie']){if(Js['copy'](_0x54ccd4),Cd['copy'](_0x54ccd4),_0x2e4269['_type']===Re&&Js['add'](this['scissorVec']),_0x2e4269['_type']===Pe){const _0x5b4451=Js['z']/(-0x8c3*-0x3+-0x1*0x1920+0x7*-0x2a),_0x13123e=this['cubeSlotsO'+'ffsets'][_0x73c661];Js['x']+=_0x5b4451*_0x13123e['x'],Js['y']+=_0x5b4451*_0x13123e['y'],Js['z']=_0x5b4451,Js['w']=_0x5b4451,Cd['copy'](Js);}if(_0x2e4269['castShadow'+'s']){const _0x30b9a2=_0x2e4269['getRenderD'+'ata'](null,_0x73c661);_0x30b9a2['shadowView'+'port']['copy'](Js),_0x30b9a2['shadowScis'+'sor']['copy'](Cd);}}}['assignSlot'](_0x2fe704,_0x9b8f2f,_0x2ad6be){_0x2fe704['atlasViewp'+'ortAllocat'+'ed']=!(-0x1893+0x1a1c*0x1+-0x189*0x1);const _0x5bd702=this['slots'][_0x9b8f2f];_0x5bd702['lightId']=_0x2fe704['id'],_0x5bd702['used']=!(0xe6a+0xd50+-0x1bba),_0x2ad6be&&(_0x2fe704['atlasSlotU'+'pdated']=!(-0x11ab*-0x1+0xf9a*0x1+-0xb17*0x3),_0x2fe704['atlasVersi'+'on']=this['version'],_0x2fe704['atlasSlotI'+'ndex']=_0x9b8f2f);}['update'](_0xcb1403,_0x143219){this['shadowAtla'+'sResolutio'+'n']=_0x143219['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x143219['cookieAtla'+'sResolutio'+'n'];const _0xed75f8=this['collectLig'+'hts'](_0xcb1403,_0x143219);if(_0xed75f8['length']>0x1*0xe3c+-0x32+-0x3*0x4ae){const _0x5abe88=this['slots'];for(let _0x107cfe=-0xb3*-0x22+0x7d*0x2c+-0x2d42;_0x107cfe<_0x5abe88['length'];_0x107cfe++)_0x5abe88[_0x107cfe]['used']=!(0xc41+0x1*-0xe83+-0x243*-0x1);const _0x2e3821=Math['min'](_0xed75f8['length'],_0x5abe88['length']);for(let _0xf83c49=0x1778+-0x2610+-0x74c*-0x2;_0xf83c49<_0x2e3821;_0xf83c49++){const _0xd8b535=_0xed75f8[_0xf83c49];_0xd8b535['castShadow'+'s']&&(_0xd8b535['_shadowMap']=this['shadowAtla'+'s']);const _0x1f57dc=_0x5abe88[_0xd8b535['atlasSlotI'+'ndex']];if(_0xd8b535['atlasVersi'+'on']===this['version']&&_0xd8b535['id']===(_0x1f57dc==null?void(-0xafe+-0x1606+-0x1082*-0x2):_0x1f57dc['lightId'])){const _0x58c171=_0x5abe88[_0xd8b535['atlasSlotI'+'ndex']];_0x58c171['size']===_0x5abe88[_0xf83c49]['size']&&!_0x58c171['used']&&this['assignSlot'](_0xd8b535,_0xd8b535['atlasSlotI'+'ndex'],!(0x1*0x1c51+0x8b+-0x1cdb));}}let _0x6c7ddc=-0xce*0x11+0x53*-0x1d+0x1715;for(let _0x528ba0=0xa7d+0x1ca8+-0x1*0x2725;_0x528ba0<_0x2e3821;_0x528ba0++){for(;_0x6c7ddc<_0x5abe88['length']&&_0x5abe88[_0x6c7ddc]['used'];)_0x6c7ddc++;const _0x594dab=_0xed75f8[_0x528ba0];_0x594dab['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x594dab,_0x6c7ddc,!(0x1256+-0xcf4*-0x2+-0x2c3e));const _0x46cea4=_0x5abe88[_0x594dab['atlasSlotI'+'ndex']];this['setupSlot'](_0x594dab,_0x46cea4['rect']);}}this['updateUnif'+'orms']();}}class fM{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x53da1b=>{_0x53da1b['forEach'](_0xb3e33b=>{_0xb3e33b['destroy']();});}),this['cache']['clear']();}['getKey'](_0x1f36fc){const _0x135fd6=_0x1f36fc['_type']===Pe,_0x1d9411=_0x1f36fc['_shadowTyp'+'e'],_0x1b7047=_0x1f36fc['_shadowRes'+'olution'];return _0x135fd6+'-'+_0x1d9411+'-'+_0x1b7047;}['get'](_0x5ab187,_0x570bd3){const _0x2f280f=this['getKey'](_0x570bd3),_0x5d3714=this['cache']['get'](_0x2f280f);if(_0x5d3714&&_0x5d3714['length'])return _0x5d3714['pop']();const _0x1af306=un['create'](_0x5ab187,_0x570bd3);return _0x1af306['cached']=!(0x7*-0x37+0x6*0x271+-0xd25*0x1),_0x1af306;}['add'](_0x50f8de,_0x325718){const _0x4e6859=this['getKey'](_0x50f8de),_0x25feb5=this['cache']['get'](_0x4e6859);_0x25feb5?_0x25feb5['push'](_0x325718):this['cache']['set'](_0x4e6859,[_0x325718]);}}class pM extends ds{constructor(_0x18ebfd,_0x42821e,_0x4e6b73,_0x261fbb,_0x43c49d){super(_0x18ebfd),mn['setName'](this,this['name']+'-'+_0x4e6b73['_node']['name']),this['requiresCu'+'bemaps']=!(-0x1*0x62f+0x1*-0x1aa6+-0x1*-0x20d6),this['shadowRend'+'erer']=_0x42821e,this['light']=_0x4e6b73,this['face']=_0x261fbb,this['applyVsm']=_0x43c49d,this['shadowCame'+'ra']=_0x42821e['prepareFac'+'e'](_0x4e6b73,null,_0x261fbb),_0x42821e['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(-0x14e3+-0xa73+0x1f56));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(0x3*0x480+-0x2024*0x1+0x1*0x12a5));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class mM{constructor(_0x3a5ae2,_0x2da27b){c(this,'shadowLigh'+'ts',[]),c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x3a5ae2,this['shadowRend'+'erer']=_0x2da27b,this['device']=_0x3a5ae2['device']);}['cull'](_0x255854,_0x303949,_0x61f85e=null){const _0x258244=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x255854['visibleThi'+'sFrame']=!(-0x3*0xa57+-0xca*0x1d+0x35e7*0x1),_0x258244||_0x255854['_shadowMap']||(_0x255854['_shadowMap']=un['create'](this['device'],_0x255854));const _0x2a6fe6=_0x255854['_type'],_0xff1220=_0x2a6fe6===Re?-0x847*0x1+0x17e*0x17+-0x1a0a:0xb98+-0x14ef+0x95d;for(let _0x2248ee=-0x5*-0x47a+-0x1714+0x1*0xb2;_0x2248ee<_0xff1220;_0x2248ee++){const _0x51e013=_0x255854['getRenderD'+'ata'](null,_0x2248ee),_0x5c5dec=_0x51e013['shadowCame'+'ra'];_0x5c5dec['nearClip']=_0x255854['attenuatio'+'nEnd']/(0x3e*0x37+-0x209b*0x1+0x7bb*0x3),_0x5c5dec['farClip']=_0x255854['attenuatio'+'nEnd'];const _0x1b9f3f=_0x5c5dec['_node'],_0x12f2ef=_0x255854['_node'];if(_0x1b9f3f['setPositio'+'n'](_0x12f2ef['getPositio'+'n']()),_0x2a6fe6===Re)_0x5c5dec['fov']=_0x255854['_outerCone'+'Angle']*(-0x1c6b+0x70f*-0x2+0x2a8b),_0x1b9f3f['setRotatio'+'n'](_0x12f2ef['getRotatio'+'n']()),_0x1b9f3f['rotateLoca'+'l'](-(0xae0+0x195f+-0x23e5),-0xc5*-0x9+-0xe53+0x766,0x4b9+0x18*-0xd0+0xec7);else{if(_0x2a6fe6===Pe){if(_0x258244){const _0x175852=(-0x22aa+-0x2*0x742+0x1*0x3130)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x255854['atlasViewp'+'ort']['z']/(-0x1009+-0x1*-0x1994+-0x988))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x5c5dec['fov']=Math['atan'](0xc9a+0x146f+0x1*-0x2108+_0x175852)*N['RAD_TO_DEG']*(-0x1e9+-0x461*-0x6+0x1*-0x185b);}else _0x5c5dec['fov']=0x24a0+0x3e0+-0x12*0x23b;}}this['renderer']['updateCame'+'raFrustum'](_0x5c5dec),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x303949,_0x255854,_0x51e013['visibleCas'+'ters'],_0x5c5dec,_0x61f85e);}}['prepareLig'+'hts'](_0x4bf9e9,_0x389a31){let _0x54dbdb;for(let _0x29b771=0x3c3+-0x1058*-0x1+-0x141b;_0x29b771<_0x389a31['length'];_0x29b771++){const _0xda043d=_0x389a31[_0x29b771];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0xda043d)&&_0xda043d['atlasViewp'+'ortAllocat'+'ed']){_0x4bf9e9['push'](_0xda043d);for(let _0xcb1dce=-0x7*-0x331+0xc1b+-0x2272;_0xcb1dce<_0xda043d['numShadowF'+'aces'];_0xcb1dce++)_0x54dbdb=this['shadowRend'+'erer']['prepareFac'+'e'](_0xda043d,null,_0xcb1dce);}}return _0x54dbdb;}['buildNonCl'+'usteredRen'+'derPasses'](_0x34d735,_0x5c1d05){for(let _0x4295a8=0x25bb+0xb63+-0x311e;_0x4295a8<_0x5c1d05['length'];_0x4295a8++){const _0x339f09=_0x5c1d05[_0x4295a8];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x339f09)){const _0x594cf1=_0x339f09['_type']===Re,_0x5619d9=_0x339f09['numShadowF'+'aces'];for(let _0x597e32=-0x3*0xb85+-0x1*0x1ec1+-0x1a2*-0x28;_0x597e32<_0x5619d9;_0x597e32++){const _0x10d509=new pM(this['device'],this['shadowRend'+'erer'],_0x339f09,_0x597e32,_0x594cf1);_0x34d735['addRenderP'+'ass'](_0x10d509);}}}}}class _M extends ds{constructor(_0x1404be,_0x523987,_0x34ef6e,_0x27b71b,_0x5c3510){super(_0x1404be),mn['setName'](this,this['name']+'-'+_0x34ef6e['_node']['name']),this['shadowRend'+'erer']=_0x523987,this['light']=_0x34ef6e,this['camera']=_0x27b71b,this['allCascade'+'sRendering']=_0x5c3510;}['execute'](){const {light:_0x2e58cc,camera:_0x236cb2,shadowRenderer:_0xfae723,allCascadesRendering:_0x5dba15}=this,_0xad7958=_0x2e58cc['numShadowF'+'aces'],_0x58422c=_0x2e58cc['shadowUpda'+'teOverride'+'s'];for(let _0x4af707=0x125*0x1d+-0x13b7+-0xd7a;_0x4af707<_0xad7958;_0x4af707++)(_0x58422c==null?void(0x17f+0x1*-0x207e+0x1eff*0x1):_0x58422c[_0x4af707])!==Ps&&_0xfae723['renderFace'](_0x2e58cc,_0x236cb2,_0x4af707,!_0x5dba15),(_0x58422c==null?void(0x1773+-0x12*-0x27+-0x1a31):_0x58422c[_0x4af707])===cn&&(_0x58422c[_0x4af707]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const Ll=new _e(),ei=new T(),d_=new q(),Fe=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()],Pd={'min':0x0,'max':0x0};function gM(_0x5f0321,_0x25d80,_0x4b0019){Fe[0x807+-0x1122*-0x1+-0x1929]['x']=Fe[0x13ee+0x1*0xf07+-0x2*0x117a]['x']=Fe[-0x52*-0x47+-0x1a14+0x358]['x']=Fe[-0x11*0x104+0x2551+-0x140a]['x']=_0x25d80['x'],Fe[-0x1b37+0x2447+-0x90f*0x1]['y']=Fe[-0x11c2+0xf87+0x23e]['y']=Fe[-0xc2e+0xc99+-0x64]['y']=Fe[-0xb82+0x246d+-0x18e6]['y']=_0x25d80['y'],Fe[0x3*0x5c6+0x89c*0x1+-0x19ec]['z']=Fe[-0x22a7+0x2581*0x1+-0x1*0x2d7]['z']=Fe[-0x2618+0x434*0x3+0x1*0x1982]['z']=Fe[-0x17*-0x59+0x9fa+0x2*-0x8f9]['z']=_0x25d80['z'],Fe[0x1974+0x130f+-0x2c7f]['x']=Fe[0x1315+-0x1ab8+0x7a8]['x']=Fe[-0x336+-0x1be5+0x1f21]['x']=Fe[0x2*0xf95+-0x329*0xb+0x3a0]['x']=_0x4b0019['x'],Fe[0x1c+0x1a5d*0x1+-0x1b*0xfb]['y']=Fe[0x1*-0xdd5+-0x2b*0xa6+-0x3cb*-0xb]['y']=Fe[-0x12c3+0x184b+-0x1*0x584]['y']=Fe[0x1294+0x3*-0xaf9+0xe5d]['y']=_0x4b0019['y'],Fe[-0x33*-0x46+-0x18e1+0x3*0x3a5]['z']=Fe[0x3bc+0x5*0x185+-0x4*0x2d5]['z']=Fe[-0x3*0x181+0x2480+-0x1ff9]['z']=Fe[0x2*-0x8f1+0x2c*-0xa8+0x2ec7]['z']=_0x4b0019['z'];let _0x18b9c8=-0x1fb729e07+-0x3f9b2b6f2+0x8493138f8,_0x401835=-(0x2d878a5*0x13a+-0xc927c4e2+0x7fc0c1*-0xc1);for(let _0x14a204=-0x1bbe+0x1*-0x1eb3+-0x137b*-0x3;_0x14a204<0x2c*-0x11+0x429+-0x135*0x1;++_0x14a204){_0x5f0321['transformP'+'oint'](Fe[_0x14a204],Fe[_0x14a204]);const _0x48a22b=Fe[_0x14a204]['z'];_0x48a22b<_0x18b9c8&&(_0x18b9c8=_0x48a22b),_0x48a22b>_0x401835&&(_0x401835=_0x48a22b);}return Pd['min']=_0x18b9c8,Pd['max']=_0x401835,Pd;}class yM{constructor(_0x410bf3,_0x1af04f){c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x410bf3,this['shadowRend'+'erer']=_0x1af04f,this['device']=_0x410bf3['device']);}['cull'](_0x11abda,_0x3168e5,_0x34e5b9,_0x243af6=null){_0x11abda['visibleThi'+'sFrame']=!(0x2149*-0x1+-0x2412+0x109*0x43),_0x11abda['_shadowMap']||(_0x11abda['_shadowMap']=un['create'](this['device'],_0x11abda));const _0x4d0e55=_0x34e5b9['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x11abda,_0x4d0e55,Math['min'](_0x34e5b9['_farClip'],_0x11abda['shadowDist'+'ance']));const _0x553333=_0x11abda['shadowUpda'+'teOverride'+'s'];for(let _0x2a5408=-0x3d*-0x7+-0x975*0x3+0x1ab4;_0x2a5408<_0x11abda['numCascade'+'s']&&(_0x553333==null?void(0x9b6+0x1*-0x24b9+0x1b03):_0x553333[_0x2a5408])!==Ps;_0x2a5408++){const _0x9c5926=_0x11abda['getRenderD'+'ata'](_0x34e5b9,_0x2a5408),_0x5e2771=_0x9c5926['shadowCame'+'ra'];_0x5e2771['renderTarg'+'et']=_0x11abda['_shadowMap']['renderTarg'+'ets'][0x13b*0x9+-0x3*-0x383+-0x159c],_0x9c5926['shadowView'+'port']['copy'](_0x11abda['cascades'][_0x2a5408]),_0x9c5926['shadowScis'+'sor']['copy'](_0x11abda['cascades'][_0x2a5408]);const _0x56b2d9=_0x5e2771['_node'],_0x3397da=_0x11abda['_node'];_0x56b2d9['setPositio'+'n'](_0x3397da['getPositio'+'n']()),_0x56b2d9['setRotatio'+'n'](_0x3397da['getRotatio'+'n']()),_0x56b2d9['rotateLoca'+'l'](-(0x1f6e+0x99+-0x1fad),0x95d+0x1056+-0x19b3,-0x2459+-0x215c+-0x19f*-0x2b);const _0x2d273d=_0x2a5408===-0x25db+-0x32*-0xc7+-0x103?_0x4d0e55:_0x11abda['_shadowCas'+'cadeDistan'+'ces'][_0x2a5408-(0x1*-0x166d+0x35*-0xb1+-0x1*-0x3b13)],_0xa00c01=_0x11abda['_shadowCas'+'cadeDistan'+'ces'][_0x2a5408],_0x1f9ffe=_0x34e5b9['getFrustum'+'Corners'](_0x2d273d,_0xa00c01);ei['set'](-0x110*-0x1a+0x9*0x185+0x1*-0x294d,0x15b1+-0x1*0x189e+-0x7*-0x6b,0x2*-0x17b+-0x189c+0x2*0xdc9);const _0x582853=_0x34e5b9['node']['getWorldTr'+'ansform']();for(let _0x264d79=-0x12c8+-0x1904+0x1*0x2bcc;_0x264d79<-0x8c2*0x1+-0x149c+0x1d66;_0x264d79++)_0x582853['transformP'+'oint'](_0x1f9ffe[_0x264d79],_0x1f9ffe[_0x264d79]),ei['add'](_0x1f9ffe[_0x264d79]);ei['mulScalar']((0x34c+-0x3*0x747+0x317*0x6)/(0x1*0x447+-0x1f52+0x1b13*0x1));let _0x58d0a3=-0x4e2*-0x8+0x1cac+-0x55*0xcc;for(let _0x29e188=0x2*0x425+-0x202*-0x3+-0xe50;_0x29e188<-0x233f+-0x114a+0x3491;_0x29e188++){const _0x1d16da=_0x1f9ffe[_0x29e188]['sub'](ei)['length']();_0x1d16da>_0x58d0a3&&(_0x58d0a3=_0x1d16da);}const _0x44eabf=_0x56b2d9['right'],_0x1ab0aa=_0x56b2d9['up'],_0xcdb51=_0x56b2d9['forward'],_0x1d58b1=(0x3*-0xc31+-0x43*0x42+0x35d9+0.25)*_0x11abda['_shadowRes'+'olution']/_0x58d0a3,_0x482ab4=Math['ceil'](ei['dot'](_0x1ab0aa)*_0x1d58b1)/_0x1d58b1,_0x1d0cdd=Math['ceil'](ei['dot'](_0x44eabf)*_0x1d58b1)/_0x1d58b1,_0x504cbd=_0x1ab0aa['mulScalar'](_0x482ab4),_0x465f9c=_0x44eabf['mulScalar'](_0x1d0cdd),_0x4f6a12=ei['dot'](_0xcdb51),_0x22d9de=_0xcdb51['mulScalar'](_0x4f6a12);ei['add2'](_0x504cbd,_0x465f9c)['add'](_0x22d9de),_0x56b2d9['setPositio'+'n'](ei),_0x56b2d9['translateL'+'ocal'](0x23a3+-0x533*-0x2+0x2e09*-0x1,0x4ab+0x1ad7*0x1+-0x1f82,-0x8a5c3+0x6921*-0x2a+0x29276d),_0x5e2771['nearClip']=-0xf23+0x1*-0xe77+-0x1a5*-0x12+0.01,_0x5e2771['farClip']=-0x170e64+-0x24b*0x124a+0x5f8292,_0x5e2771['orthoHeigh'+'t']=_0x58d0a3,this['renderer']['updateCame'+'raFrustum'](_0x5e2771),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x3168e5,_0x11abda,_0x9c5926['visibleCas'+'ters'],_0x5e2771,_0x243af6);let _0x4444f5=!(-0x1*-0x1a75+-0x22a7+0x2*0x419);const _0x2c7743=_0x9c5926['visibleCas'+'ters'];for(let _0x1c6ea8=-0x61f*-0x3+0x141*-0x1+-0x111c*0x1;_0x1c6ea8<_0x2c7743['length'];_0x1c6ea8++){const _0x495548=_0x2c7743[_0x1c6ea8];_0x4444f5?(_0x4444f5=!(-0x1629+-0x19ed+-0x1*-0x3017),Ll['copy'](_0x495548['aabb'])):Ll['add'](_0x495548['aabb']);}d_['copy'](_0x56b2d9['getWorldTr'+'ansform']())['invert']();const _0x5ef801=gM(d_,Ll['getMin'](),Ll['getMax']());_0x56b2d9['translateL'+'ocal'](-0xd5*0x13+-0x1*-0x14ff+-0x530,-0x1b90+0x7*0x190+0x26*0x70,_0x5ef801['max']+(-0x111*0x11+-0x101d+0x2*0x111f+0.1)),_0x5e2771['farClip']=_0x5ef801['max']-_0x5ef801['min']+(0xd43+-0x23ce+-0x1*-0x168b+0.2),_0x9c5926['projection'+'Compensati'+'on']=_0x58d0a3;}}['generateSp'+'litDistanc'+'es'](_0x1cc9f5,_0x2a026b,_0x533918){_0x1cc9f5['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x533918);for(let _0x3cc722=-0x14*0x107+-0x2*-0x125+-0x1*-0x1243;_0x3cc722<_0x1cc9f5['numCascade'+'s'];_0x3cc722++){const _0xd864f9=_0x3cc722/_0x1cc9f5['numCascade'+'s'],_0x40b8f8=_0x2a026b+(_0x533918-_0x2a026b)*_0xd864f9,_0x2edb9c=_0x2a026b*(_0x533918/_0x2a026b)**_0xd864f9,_0x24230f=N['lerp'](_0x40b8f8,_0x2edb9c,_0x1cc9f5['cascadeDis'+'tribution']);_0x1cc9f5['_shadowCas'+'cadeDistan'+'ces'][_0x3cc722-(0xbbe+-0x13*-0x7+-0x20b*0x6)]=_0x24230f;}}['getLightRe'+'nderPass'](_0xb29c0d,_0x236f4b){v['assert'](_0xb29c0d&&_0xb29c0d['_type']===oe);let _0xb01374=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0xb29c0d)){const _0x5e93d1=_0xb29c0d['numShadowF'+'aces'],_0x1d5347=_0xb29c0d['shadowUpda'+'teOverride'+'s'];let _0x278603=!(-0x1*0x7d+0x1d98*-0x1+0x3*0xa07),_0x23744b;for(let _0x2f7f06=-0x12fe+-0x17e8+-0x22*-0x143;_0x2f7f06<_0x5e93d1;_0x2f7f06++)(_0x1d5347==null?void(-0x2616+-0x2b*0x41+0x3101):_0x1d5347[_0x2f7f06])===Ps&&(_0x278603=!(0x2191+0x11b*0xa+-0x2c9e)),_0x23744b=this['shadowRend'+'erer']['prepareFac'+'e'](_0xb29c0d,_0x236f4b,_0x2f7f06);_0xb01374=new _M(this['device'],this['shadowRend'+'erer'],_0xb29c0d,_0x236f4b,_0x278603),this['shadowRend'+'erer']['setupRende'+'rPass'](_0xb01374,_0x23744b,_0x278603);}return _0xb01374;}}const Rd=new Set(),u_=new q(),f_=new q(),vr=new Float32Array(-0x3*-0x2f9+0x1*0x2474+-0x2d5d*0x1),Xa=new Q(0xb3+-0x122*-0xe+-0x108e,0x865*0x3+0x1*-0x12f5+-0x639,0x51f+-0x24d0+-0x1fb1*-0x1,-0x1237+0x607*0x3+0x22),p_=new q();function xM(_0x197d8e,_0x6f03c1){return Math['exp'](-(_0x197d8e*_0x197d8e)/((-0x440+-0x19a5*-0x1+-0x1563)*_0x6f03c1*_0x6f03c1));}function SM(_0x256753){const _0x453132=(_0x256753-(0x236e+0x2566+-0x48d3))/(-0xe36+0x1*-0x1edd+0x2d19),_0x2be121=(_0x256753-(0x189c+0x1a9e+-0x3339))*(-0x2*0xf5c+-0x110a+0x2fc2+0.5),_0x5c9d2f=new Array(_0x256753);let _0x26baad=0x2216+0x1321+-0x3537;for(let _0x5198a3=-0x266+0xb*0x9f+-0x1*0x46f;_0x5198a3<_0x256753;++_0x5198a3)_0x5c9d2f[_0x5198a3]=xM(_0x5198a3-_0x2be121,_0x453132),_0x26baad+=_0x5c9d2f[_0x5198a3];for(let _0x2cd0a5=-0x15a1*0x1+-0x1*-0x2047+-0xaa6;_0x2cd0a5<_0x256753;++_0x2cd0a5)_0x5c9d2f[_0x2cd0a5]/=_0x26baad;return _0x5c9d2f;}class I0{constructor(_0x3cea88,_0xacbb6){c(this,'shadowPass'+'Cache',[]),(this['device']=_0x3cea88['device'],this['renderer']=_0x3cea88,this['lightTextu'+'reAtlas']=_0xacbb6);const _0x49bd2a=this['device']['scope'];this['sourceId']=_0x49bd2a['resolve']('source'),this['pixelOffse'+'tId']=_0x49bd2a['resolve']('pixelOffse'+'t'),this['weightId']=_0x49bd2a['resolve']('weight[0]'),this['blurVsmSha'+'derCode']=[X['blurVSMPS'],'#define\x20GA'+'USS\x0a'+X['blurVSMPS']],this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x49bd2a['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new _t(),this['blendState'+'NoWrite']=new _t(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(-0x7b2+-0x1833+0x1fe6),!(-0x18ec+0x8d9+0x157*0xc),!(0xfb4+-0x158*-0xa+0x1*-0x1d23),!(-0xe7+0xc27+-0xb3f));}static['createShad'+'owCamera'](_0x5c5d5c,_0x56d929,_0x4ebb16){const _0x16afed=Ma['create']('ShadowCame'+'ra',_0x56d929,_0x4ebb16),_0x205ae4=ir['get'](_0x5c5d5c);v['assert'](_0x205ae4);const _0x2ec3f3=(_0x205ae4==null?void(0x1c8a+-0xcc7+0x541*-0x3):_0x205ae4['vsm'])??!(-0xff0+0x16fe+-0x70d),_0x2c9af1=(_0x205ae4==null?void(-0x231f+-0x9c*-0x35+0x2d3):_0x205ae4['pcf'])??!(0x6*0x57+-0xd70+0xb67);return _0x2ec3f3?_0x16afed['clearColor']=new Y(-0x2017+-0x2247+-0x425e*-0x1,-0xb*-0x2+-0x1*-0x21d7+-0x21ed,-0x1b65+0x3*0x9a8+0x193*-0x1,-0xdf8+-0xc*-0x2c5+-0x1344):_0x16afed['clearColor']=new Y(0x10d*-0x17+-0x409*-0x8+-0x81c,-0x204e*-0x1+0x1007+-0x3054,-0x23f5+0x2020+0x3d6,0x2047+0xa2d+-0x2a73),_0x16afed['clearDepth'+'Buffer']=!(0x11d5+0x1fe+-0x1d*0xaf),_0x16afed['clearStenc'+'ilBuffer']=!(0x4*-0x2bc+0x2*-0xfa9+0x2a43),_0x16afed['clearColor'+'Buffer']=!_0x2c9af1,_0x16afed;}['_cullShado'+'wCastersIn'+'ternal'](_0x280408,_0x2f443e,_0x3a9000){const _0x4e2ca4=_0x280408['length'];for(let _0x2c2c34=-0x1*0x1655+0x1004+0x651;_0x2c2c34<_0x4e2ca4;_0x2c2c34++){const _0x430e93=_0x280408[_0x2c2c34];_0x430e93['castShadow']&&(!_0x430e93['cull']||_0x430e93['_isVisible'](_0x3a9000))&&(_0x430e93['visibleThi'+'sFrame']=!(-0x777+-0x1c3e+-0xb*-0x33f),_0x2f443e['push'](_0x430e93));}}['cullShadow'+'Casters'](_0x49d3ec,_0x4c1c76,_0x1d8eb0,_0x43fd32,_0x30e036){if(_0x1d8eb0['length']=0x7fb*0x1+0xb*0x12f+-0x1500,_0x30e036)this['_cullShado'+'wCastersIn'+'ternal'](_0x30e036,_0x1d8eb0,_0x43fd32);else{const _0x3c966a=_0x49d3ec['layerList'],_0x23bb7a=_0x3c966a['length'];for(let _0x553bcf=0xd*0x133+0x81*0x31+-0x2848;_0x553bcf<_0x23bb7a;_0x553bcf++){const _0x4719ef=_0x3c966a[_0x553bcf];_0x4719ef['_lightsSet']['has'](_0x4c1c76)&&(Rd['has'](_0x4719ef)||(Rd['add'](_0x4719ef),this['_cullShado'+'wCastersIn'+'ternal'](_0x4719ef['shadowCast'+'ers'],_0x1d8eb0,_0x43fd32)));}Rd['clear']();}_0x1d8eb0['sort'](this['renderer']['sortCompar'+'eDepth']);}['setupRende'+'rState'](_0xa63a8d,_0x4957f9){const _0x377092=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x4957f9['_isPcf']:_0x4957f9['_isPcf']&&_0x4957f9['_type']!==Pe;_0xa63a8d['setBlendSt'+'ate'](_0x377092?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0xa63a8d['setDepthSt'+'ate'](_0x4957f9['shadowDept'+'hState']),_0xa63a8d['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x537fe5,_0x3994d3,_0x5d3b62,_0x3919a8){const _0x4a7204=_0x3994d3['_node'];_0x537fe5['_type']!==oe&&(this['renderer']['dispatchVi'+'ewPos'](_0x4a7204['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x537fe5['attenuatio'+'nEnd'])),u_['setTRS'](_0x4a7204['getPositio'+'n'](),_0x4a7204['getRotatio'+'n'](),T['ONE'])['invert'](),f_['mul2'](_0x3994d3['projection'+'Matrix'],u_);const _0x11922c=_0x5d3b62['shadowView'+'port'];_0x3994d3['rect']=_0x11922c,_0x3994d3['scissorRec'+'t']=_0x5d3b62['shadowScis'+'sor'],p_['setViewpor'+'t'](_0x11922c['x'],_0x11922c['y'],_0x11922c['z'],_0x11922c['w']),_0x5d3b62['shadowMatr'+'ix']['mul2'](p_,f_),_0x537fe5['_type']===oe&&_0x537fe5['_shadowMat'+'rixPalette']['set'](_0x5d3b62['shadowMatr'+'ix']['data'],_0x3919a8*(-0x160+-0x185f+0x19cf));}['getShadowP'+'ass'](_0x5a04cd){var _0x499864;const _0x5a4b16=_0x5a04cd['_type'],_0x428207=_0x5a04cd['_shadowTyp'+'e'];let _0x53eaec=(_0x499864=this['shadowPass'+'Cache'][_0x5a4b16])==null?void(0x1d6b*-0x1+-0x2068+0x3dd3):_0x499864[_0x428207];if(!_0x53eaec){const _0x229481='ShadowPass'+'_'+_0x5a4b16+'_'+_0x428207;_0x53eaec=Ks['get'](this['device'])['allocate'](_0x229481,{'isShadow':!(-0x1d8c+0x4*0x52b+0x8e0),'lightType':_0x5a4b16,'shadowType':_0x428207}),this['shadowPass'+'Cache'][_0x5a4b16]||(this['shadowPass'+'Cache'][_0x5a4b16]=[]),this['shadowPass'+'Cache'][_0x5a4b16][_0x428207]=_0x53eaec;}return _0x53eaec['index'];}['submitCast'+'ers'](_0x56e1cc,_0x11c16a,_0x1a48a){const _0x1e7439=this['device'],_0x131743=this['renderer'],_0x2e503a=_0x131743['scene'],_0x389e0e=0x20b*0x11+-0x1*0x1+0xb93*-0x3<<Rp,_0x358dde=this['getShadowP'+'ass'](_0x11c16a),_0x4303e8=_0x1a48a['shaderPara'+'ms'],_0x157803=_0x1a48a['renderTarg'+'et']['flipY']?-(-0x1*0x1679+-0x24cf+0x1*0x3b49):0x1*0xce2+0x171*0x15+-0x2b26,_0x4091c5=_0x56e1cc['length'];for(let _0xa7b3d=0x1ff*0x7+-0x19*0x145+0x11c4;_0xa7b3d<_0x4091c5;_0xa7b3d++){const _0x583cb7=_0x56e1cc[_0xa7b3d],_0x42d37b=_0x583cb7['mesh'];_0x583cb7['ensureMate'+'rial'](_0x1e7439);const _0x11773a=_0x583cb7['material'];G['pushGpuMar'+'ker'](_0x1e7439,'Node:\x20'+_0x583cb7['node']['name']+(',\x20Material'+':\x20')+_0x11773a['name']),_0x131743['setBaseCon'+'stants'](_0x1e7439,_0x11773a),_0x131743['setSkinnin'+'g'](_0x1e7439,_0x583cb7),_0x11773a['dirty']&&(_0x11773a['updateUnif'+'orms'](_0x1e7439,_0x2e503a),_0x11773a['dirty']=!(0x2*0xdd7+0x1908+-0x34b5)),_0x131743['setupCullM'+'ode'](!(0x2*-0x93c+-0x1*0x136b+-0x3*-0xca1),_0x157803,_0x583cb7),_0x11773a['setParamet'+'ers'](_0x1e7439),_0x583cb7['setParamet'+'ers'](_0x1e7439,_0x389e0e);const _0xa3d013=_0x583cb7['getShaderI'+'nstance'](_0x358dde,-0x3*0xc51+0x175f+0xd94,_0x2e503a,_0x4303e8,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x242915=_0xa3d013['shader'];v['assert'](_0x242915,'no\x20shader\x20'+'for\x20pass\x20'+_0x358dde,_0x11773a),_0x583cb7['_key'][ku]=_0x242915['id'],_0x1e7439['setShader'](_0x242915),_0x131743['setVertexB'+'uffers'](_0x1e7439,_0x42d37b),_0x131743['setMorphin'+'g'](_0x1e7439,_0x583cb7['morphInsta'+'nce']),this['renderer']['setupMeshU'+'niformBuff'+'ers'](_0xa3d013,_0x583cb7);const _0x253735=_0x583cb7['renderStyl'+'e'];_0x1e7439['setIndexBu'+'ffer'](_0x42d37b['indexBuffe'+'r'][_0x253735]),_0x131743['drawInstan'+'ce'](_0x1e7439,_0x583cb7,_0x42d37b,_0x253735),_0x131743['_shadowDra'+'wCalls']++,G['popGpuMark'+'er'](_0x1e7439);}}['needsShado'+'wRendering'](_0x5f0e61){const _0x539952=_0x5f0e61['enabled']&&_0x5f0e61['castShadow'+'s']&&_0x5f0e61['shadowUpda'+'teMode']!==Ps&&_0x5f0e61['visibleThi'+'sFrame'];return _0x5f0e61['shadowUpda'+'teMode']===cn&&(_0x5f0e61['shadowUpda'+'teMode']=Ps),_0x539952&&(this['renderer']['_shadowMap'+'Updates']+=_0x5f0e61['numShadowF'+'aces']),_0x539952;}['getLightRe'+'nderData'](_0x255606,_0x4b6de0,_0xae6ec7){return _0x255606['getRenderD'+'ata'](_0x255606['_type']===oe?_0x4b6de0:null,_0xae6ec7);}['setupRende'+'rPass'](_0x10e34d,_0x3dc6ee,_0x36e8c3){const _0xbf2dda=_0x3dc6ee['renderTarg'+'et'];_0x10e34d['init'](_0xbf2dda),_0x10e34d['depthStenc'+'ilOps']['clearDepth'+'Value']=0xc85+0x1*0x12a7+-0x65*0x4f,_0x10e34d['depthStenc'+'ilOps']['clearDepth']=_0x36e8c3,_0xbf2dda['depthBuffe'+'r']?_0x10e34d['depthStenc'+'ilOps']['storeDepth']=!(-0x212*0x6+-0x1d3d+0x29a9):(_0x10e34d['colorOps']['clearValue']['copy'](_0x3dc6ee['clearColor']),_0x10e34d['colorOps']['clear']=_0x36e8c3,_0x10e34d['depthStenc'+'ilOps']['storeDepth']=!(-0x2*0x10d7+0x213c+0x73)),_0x10e34d['requiresCu'+'bemaps']=!(-0xa3*-0x8+-0x1a16+0x7d*0x2b);}['prepareFac'+'e'](_0x1dd8b9,_0x3f8d9a,_0x1f5198){const _0x40ca00=_0x1dd8b9['_type'],_0x371236=this['getLightRe'+'nderData'](_0x1dd8b9,_0x3f8d9a,_0x1f5198)['shadowCame'+'ra'],_0x5171f4=_0x40ca00===oe?-0x35c*-0x3+0xc29+-0x163d:_0x1f5198;return _0x371236['renderTarg'+'et']=_0x1dd8b9['_shadowMap']['renderTarg'+'ets'][_0x5171f4],_0x371236;}['renderFace'](_0x2035a0,_0x22cb20,_0x4f85ed,_0x4d2812,_0x449b62=!(0x6c2+0x1e7b+-0x253d)){const _0x46e512=this['device'],_0x580c40=ne();G['pushGpuMar'+'ker'](_0x46e512,'SHADOW\x20'+_0x2035a0['_node']['name']+'\x20FACE\x20'+_0x4f85ed);const _0x294fd9=this['getLightRe'+'nderData'](_0x2035a0,_0x22cb20,_0x4f85ed),_0x2f9cc9=_0x294fd9['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x2035a0,_0x2f9cc9,_0x294fd9,_0x4f85ed);const _0x424d62=_0x2f9cc9['renderTarg'+'et'],_0x5a9d17=this['renderer'];_0x5a9d17['setCameraU'+'niforms'](_0x2f9cc9,_0x424d62),_0x46e512['supportsUn'+'iformBuffe'+'rs']&&_0x5a9d17['setupViewU'+'niformBuff'+'ers'](_0x294fd9['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],0x1940+-0xe14+-0xb2b),_0x449b62?(_0x5a9d17['setupViewp'+'ort'](_0x2f9cc9,_0x424d62),_0x4d2812&&_0x5a9d17['clear'](_0x2f9cc9)):_0x5a9d17['clearView'](_0x2f9cc9,_0x424d62,!(-0x25b4+0x83*-0x2f+0x3dc1),!(0x1*0x22e6+0xa13+-0x2cf8)),this['setupRende'+'rState'](_0x46e512,_0x2035a0),this['submitCast'+'ers'](_0x294fd9['visibleCas'+'ters'],_0x2035a0,_0x2f9cc9),G['popGpuMark'+'er'](_0x46e512),_0x5a9d17['_shadowMap'+'Time']+=ne()-_0x580c40;}['render'](_0x307ac7,_0x1ee518,_0x229085=!(-0xc85+0x155a+0x1*-0x8d5)){if(this['needsShado'+'wRendering'](_0x307ac7)){const _0x5ecdf4=_0x307ac7['numShadowF'+'aces'];for(let _0x1a3628=-0x478+0x4*-0x291+0x5c*0x29;_0x1a3628<_0x5ecdf4;_0x1a3628++)this['prepareFac'+'e'](_0x307ac7,_0x1ee518,_0x1a3628),this['renderFace'](_0x307ac7,_0x1ee518,_0x1a3628,!(0x2*-0x718+-0x45f*-0x1+0x9d1),_0x229085);this['renderVsm'](_0x307ac7,_0x1ee518);}}['renderVsm'](_0x477948,_0x3032b7){_0x477948['_isVsm']&&_0x477948['_vsmBlurSi'+'ze']>-0xa4f+0x39*0x7+0x3*0x2eb&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x477948['_type']===oe)&&this['applyVsmBl'+'ur'](_0x477948,_0x3032b7);}['getVsmBlur'+'Shader'](_0x144a05,_0x58fdfd){const _0x158c42=this['blurVsmSha'+'der'];let _0x107398=_0x158c42[_0x144a05][_0x58fdfd];if(!_0x107398){this['blurVsmWei'+'ghts'][_0x58fdfd]=SM(_0x58fdfd);const _0x5c0372=X['fullscreen'+'QuadVS'];let _0x853392='#define\x20SA'+'MPLES\x20'+_0x58fdfd+'\x0a';_0x853392+=this['blurVsmSha'+'derCode'][_0x144a05];const _0x269cfa='blurVsm'+_0x144a05+_0x58fdfd;_0x107398=Is(this['device'],_0x5c0372,_0x853392,_0x269cfa),_0x158c42[_0x144a05][_0x58fdfd]=_0x107398;}return _0x107398;}['applyVsmBl'+'ur'](_0x20a638,_0x2c6854){const _0x1b0d4d=this['device'];G['pushGpuMar'+'ker'](_0x1b0d4d,'VSM\x20'+_0x20a638['_node']['name']),_0x1b0d4d['setBlendSt'+'ate'](_t['NOBLEND']);const _0x5e2e4b=_0x20a638['getRenderD'+'ata'](_0x20a638['_type']===oe?_0x2c6854:null,-0x1813+0x3f1*-0x5+0x4*0xaf2)['shadowCame'+'ra']['renderTarg'+'et'],_0x4f6532=this['renderer']['shadowMapC'+'ache']['get'](_0x1b0d4d,_0x20a638),_0x44b1ae=_0x4f6532['renderTarg'+'ets'][-0x2045+-0x2667+0x46ac],_0x2d8d52=_0x20a638['vsmBlurMod'+'e'],_0x2a0b31=_0x20a638['_vsmBlurSi'+'ze'],_0x8556de=this['getVsmBlur'+'Shader'](_0x2d8d52,_0x2a0b31);Xa['z']=_0x20a638['_shadowRes'+'olution']-(0x2424*-0x1+0x1f37+0x4ef),Xa['w']=Xa['z'],this['sourceId']['setValue'](_0x5e2e4b['colorBuffe'+'r']),vr[0x1*0x122c+-0x12*-0x1d5+0x1993*-0x2]=(0x1513+-0x10b*-0xf+-0x24b7)/_0x20a638['_shadowRes'+'olution'],vr[0xa2+-0x1839+0x12e*0x14]=0x1f84+0x1*-0xc07+-0x137d,this['pixelOffse'+'tId']['setValue'](vr),_0x2d8d52===Tp&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x2a0b31]),dn(_0x1b0d4d,_0x44b1ae,_0x8556de,null,Xa),this['sourceId']['setValue'](_0x44b1ae['colorBuffe'+'r']),vr[0x1a5c*0x1+0x258c+0x3*-0x154d]=vr[0x218f+-0xe44+-0x134b],vr[0x19*-0x14b+0x24b7+-0x464]=-0x1*0x20d7+0x13*-0xf6+-0x67*-0x7f,this['pixelOffse'+'tId']['setValue'](vr),dn(_0x1b0d4d,_0x5e2e4b,_0x8556de,null,Xa),this['renderer']['shadowMapC'+'ache']['add'](_0x20a638,_0x4f6532),G['popGpuMark'+'er'](_0x1b0d4d);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new Qy(this['device'],[new gt('matrix_vie'+'wProjectio'+'n',Sa)]),this['viewBindGr'+'oupFormat']=new jy(this['device'],[new pp(fp,up|li)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const Fl=[];class vM{constructor(_0x7865c4){c(this,'_empty',null),c(this,'_allocated',[]),c(this,'_clusters',new Map()),this['device']=_0x7865c4;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x54e96f=>{_0x54e96f['destroy']();}),this['_allocated']['length']=0x2*-0xe17+0x134*0x9+0x115a;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x226509=new zu(this['device']);_0x226509['name']='ClusterEmp'+'ty',_0x226509['update']([]),this['_empty']=_0x226509;}return this['_empty'];}['assign'](_0x443f9c){const _0x113821=this['empty'];Fl['push'](...this['_allocated']),this['_allocated']['length']=-0x1f*0x3f+0x123*-0xb+0x6*0x35b,this['_clusters']['clear']();const _0x39c573=_0x443f9c['length'];for(let _0x34eb47=-0x8*-0x1a9+0x1b21+-0x2869;_0x34eb47<_0x39c573;_0x34eb47++){const _0x32a833=_0x443f9c[_0x34eb47]['renderActi'+'ons'];if(_0x32a833){const _0x2ced4a=_0x32a833['length'];for(let _0x408227=-0x1*-0x2499+0x11f*0x1+-0x1*0x25b8;_0x408227<_0x2ced4a;_0x408227++){const _0x16d61c=_0x32a833[_0x408227];_0x16d61c['lightClust'+'ers']=null;const _0x5883e8=_0x16d61c['layer'];if(_0x5883e8['hasCluster'+'edLights']&&_0x5883e8['meshInstan'+'ces']['length']){const _0xa946c9=_0x5883e8['getLightId'+'Hash'](),_0x3ccc2e=this['_clusters']['get'](_0xa946c9);let _0x1ec6cb=_0x3ccc2e==null?void(0x1d23+0x2*0x129b+-0x4259):_0x3ccc2e['lightClust'+'ers'];_0x1ec6cb||(_0x1ec6cb=Fl['pop']()??new zu(this['device']),mn['setName'](_0x1ec6cb,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x1ec6cb),this['_clusters']['set'](_0xa946c9,_0x16d61c)),_0x16d61c['lightClust'+'ers']=_0x1ec6cb;}_0x16d61c['lightClust'+'ers']||(_0x16d61c['lightClust'+'ers']=_0x113821);}}}Fl['forEach'](_0x1cd703=>_0x1cd703['destroy']()),Fl['length']=-0x9f*-0x9+0x223b+-0x27d2;}['update'](_0x4bf69c,_0xd4d558){this['assign'](_0x4bf69c),this['_clusters']['forEach'](_0x179e3d=>{const _0x166164=_0x179e3d['layer'];_0x179e3d['lightClust'+'ers']['update'](_0x166164['clusteredL'+'ightsSet'],_0xd4d558);});}}const m_='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}',bM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}',wM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}',Gi=new Q(),Id=[];class kp extends ds{constructor(_0x4cda2a,_0xa257c8){super(_0x4cda2a),c(this,'_quadRende'+'rer2D',null),c(this,'_quadRende'+'rerCube',null),c(this,'_filteredL'+'ights',[]),(this['_cubeSlots'+'Offsets']=_0xa257c8,this['requiresCu'+'bemaps']=!(-0x2*-0x7ff+-0x854+0x1*-0x7a9),this['blitTextur'+'eId']=_0x4cda2a['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x4cda2a['scope']['resolve']('invViewPro'+'j'));}['destroy'](){var _0x190995,_0x58c8e3;(_0x190995=this['_quadRende'+'rer2D'])==null||_0x190995['destroy'](),this['_quadRende'+'rer2D']=null,(_0x58c8e3=this['_quadRende'+'rerCube'])==null||_0x58c8e3['destroy'](),this['_quadRende'+'rerCube']=null;}static['create'](_0xed9dce,_0x213fca){v['assert'](_0xed9dce);const _0x55ce7c=new kp(_0xed9dce['device'],_0x213fca);return _0x55ce7c['init'](_0xed9dce),_0x55ce7c['colorOps']['clear']=!(-0x1612+-0x8*-0x45a+-0xcbd),_0x55ce7c['depthStenc'+'ilOps']['clearDepth']=!(0xeb*-0x13+-0x72e+-0x20*-0xc5),_0x55ce7c;}['update'](_0x190de7){const _0x2babc1=this['_filteredL'+'ights'];this['filter'](_0x190de7,_0x2babc1),this['executeEna'+'bled']=_0x2babc1['length']>-0x20*0x12f+-0x2*-0x26c+-0x2108*-0x1;}['filter'](_0x57108c,_0x23837e){for(let _0x29595a=-0x1e81+0x2*0x8f3+-0x1*-0xc9b;_0x29595a<_0x57108c['length'];_0x29595a++){const _0x3d371b=_0x57108c[_0x29595a];_0x3d371b['_type']!==oe&&_0x3d371b['atlasViewp'+'ortAllocat'+'ed']&&_0x3d371b['atlasSlotU'+'pdated']&&_0x3d371b['enabled']&&_0x3d371b['cookie']&&_0x3d371b['visibleThi'+'sFrame']&&_0x23837e['push'](_0x3d371b);}}['initInvVie'+'wProjMatri'+'ces'](){if(!Id['length'])for(let _0x13344b=0xb8+0x9b8+-0xa70;_0x13344b<0x14c3+-0x1*0x3+-0x14ba;_0x13344b++){const _0x19c6f9=Ma['create'](null,Pe,_0x13344b),_0x301fae=_0x19c6f9['projection'+'Matrix'],_0x5005c5=_0x19c6f9['node']['getLocalTr'+'ansform']()['clone']()['invert']();Id[_0x13344b]=new q()['mul2'](_0x301fae,_0x5005c5)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x539774=Is(this['device'],m_,bM,'cookieRend'+'erer2d');this['_quadRende'+'rer2D']=new Nu(_0x539774);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x167c62=Is(this['device'],m_,wM,'cookieRend'+'ererCube');this['_quadRende'+'rerCube']=new Nu(_0x167c62);}return this['_quadRende'+'rerCube'];}['execute'](){const _0xe532fb=this['device'];_0xe532fb['setBlendSt'+'ate'](_t['NOBLEND']),_0xe532fb['setCullMod'+'e'](mt),_0xe532fb['setDepthSt'+'ate'](as['NODEPTH']),_0xe532fb['setStencil'+'State']();const _0x3d7737=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x3bf692=this['_cubeSlots'+'Offsets'],_0x4a3f3=this['_filteredL'+'ights'];for(let _0x46a583=0xc72+-0x101a+0x3a8;_0x46a583<_0x4a3f3['length'];_0x46a583++){const _0x1e6e5a=_0x4a3f3[_0x46a583];G['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x1e6e5a['_node']['name']);const _0x4a658d=_0x1e6e5a['numShadowF'+'aces'],_0x310936=_0x4a658d>0x17*0x61+0x1*-0xc5b+-0x137*-0x3?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x4a658d>-0x264c+0x1*0x8cf+0x1d7e&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x1e6e5a['cookie']);for(let _0x1c1a77=-0x203*0x3+0x28*0x59+-0x41*0x1f;_0x1c1a77<_0x4a658d;_0x1c1a77++){if(Gi['copy'](_0x1e6e5a['atlasViewp'+'ort']),_0x4a658d>-0x8a*-0x1+-0x2fc+-0x21*-0x13){const _0x32cb71=Gi['z']/(-0x55a*0x6+0x1b42+0x4dd),_0x40c217=_0x3bf692[_0x1c1a77];Gi['x']+=_0x32cb71*_0x40c217['x'],Gi['y']+=_0x32cb71*_0x40c217['y'],Gi['z']=_0x32cb71,Gi['w']=_0x32cb71,this['invViewPro'+'jId']['setValue'](Id[_0x1c1a77]['data']);}Gi['mulScalar'](_0x3d7737),_0x310936['render'](Gi);}G['popGpuMark'+'er'](_0xe532fb);}_0x4a3f3['length']=-0x1*-0x71f+0x967*-0x4+-0x45b*-0x7;}}class TM extends ds{constructor(_0x5b34fd,_0x34ae7e,_0x5a1896){super(_0x5b34fd),this['requiresCu'+'bemaps']=!(-0x1ee3+0xb29*-0x1+0x2a0d),this['shadowRend'+'erer']=_0x34ae7e,this['shadowRend'+'ererLocal']=_0x5a1896;}['update'](_0x261677){const _0x4a04f5=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x55a93b=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x4a04f5,_0x261677),_0x2deaae=_0x4a04f5['length'];this['enabled']=_0x2deaae>0x1f52+-0xdbe*-0x1+0xe*-0x338,_0x2deaae&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x55a93b,!(-0xb5a*0x1+0x45*0x5f+-0xe40));}['execute'](){const _0x6f0e78=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x59abfb=_0x6f0e78['length'];for(let _0x283699=-0xbc6*0x1+0x26fb+-0x1*0x1b35;_0x283699<_0x59abfb;_0x283699++){const _0xa16fee=_0x6f0e78[_0x283699];for(let _0x1c488c=0x16*-0xb6+-0x3*-0xb29+-0x11d7*0x1;_0x1c488c<_0xa16fee['numShadowF'+'aces'];_0x1c488c++)this['shadowRend'+'erer']['renderFace'](_0xa16fee,null,_0x1c488c,!(0x21e0+-0x8b5*-0x2+-0x334a));}_0x6f0e78['length']=0x1c*-0x5f+-0x4b5+0x1*0xf19;}}class AM extends ds{constructor(_0x562e8b,_0x271b54,_0x596502,_0x38ccea,_0x339833){super(_0x562e8b),this['renderer']=_0x271b54,this['frameGraph']=null,this['cookiesRen'+'derPass']=kp['create'](_0x339833['cookieRend'+'erTarget'],_0x339833['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new TM(_0x562e8b,_0x596502,_0x38ccea),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x40effa,_0xa725ef,_0x1bbae7,_0x37a5ae,_0x4d7f14){this['frameGraph']=_0x40effa,this['cookiesRen'+'derPass']['enabled']=_0x1bbae7,_0x1bbae7&&this['cookiesRen'+'derPass']['update'](_0x37a5ae),this['shadowRend'+'erPass']['enabled']=_0xa725ef,_0xa725ef&&this['shadowRend'+'erPass']['update'](_0x4d7f14);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x51b35c=ne(),{renderer:_0x25eccc}=this,{scene:_0x4d64a4}=_0x25eccc;_0x25eccc['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x4d64a4['lighting']),_0x25eccc['_lightClus'+'tersTime']+=ne()-_0x51b35c,_0x25eccc['_lightClus'+'ters']=_0x25eccc['worldClust'+'ersAllocat'+'or']['count'];}}let Dd=-0xa0+-0x1e0b+0x1eab;const Hi=new q(),Wi=new q(),Mn=new q(),__=new js(),Ld=new Lf(),g_=new q()['setScale'](-0x17ec+0x1130+0x6bd,-(0x9*0x389+0x1875+-0x14f*0x2b),-0x16cf+0x18b6+0x2*-0xf3),Fd=new Set(),Od=new Set(),kd=new Yy(),y_=new q()['set']([0x14bc+-0xf2b*0x1+-0x8*0xb2,-0x30b+-0x1*-0x1169+-0xe5e,0x2a*0x18+0xebb+-0x1*0x12ab,0x24e5+0xa35*-0x3+-0x646,0xdf*0x1+-0x9*0x3bf+0x20d8,-0x29*0x1+-0x64e+-0x8a*-0xc,-0xb*-0x1c5+-0xb0*0x8+-0xb*0x145,0x1406+0x1698+0x154f*-0x2,0x1*0x21e2+0x1*0x18e3+-0x3b*0xff,-0x2df+-0x2*-0x10ca+-0x1eb5,0x706+-0x1be1+0x14db+0.5,0x2d+-0xa08+0x3*0x349,0x25ac+-0x16a7+-0xf05,-0x119c+0x133*-0x1+0x12cf,-0xb20+0x43*0x13+0x627+0.5,0x201+-0x141f*-0x1+-0x7*0x329]),x_=[new W(-0x1d1c+0x1ca0*0x1+-0x1*-0x7c+0.5,-0x1*-0x229f+-0x488*0x3+-0x1*0x1507+0.333333),new W(0x82a+-0x20b*-0x11+-0x2ae5+0.25,-0x149e+-0x821+0x1cbf+0.666667),new W(-0x21e0+-0x4b*-0x53+0x98f+0.75,-0x1d*-0x2b+-0xc5e+-0x1*-0x77f+0.111111),new W(0x505+-0x19a7+0x14a2+0.125,0x25b9+0x21e6+-0x479f+0.444444),new W(-0x463*-0x4+-0xb5a*-0x1+-0x1ce6+0.625,0xcbb*0x2+-0xaca*0x1+-0x6*0x272+0.777778),new W(0xa*-0x2e7+-0x2018+0x3d1e+0.375,-0x1222+-0x86a+0x1a8c+0.222222),new W(-0x13*-0x13+-0x246+0xdd+0.875,0x93b+0x1*0x1a73+-0x23ae*0x1+0.555556),new W(-0x6*-0x281+0x3ad*0x6+-0x2a6*0xe+0.0625,-0x3b0+0x2f*-0x33+-0x101*-0xd+0.888889),new W(0xc3d+-0x194*-0x14+-0x2bcd+0.5625,0x1413+-0x2ea*-0x8+-0x2b63+0.037037),new W(0x15*-0x180+-0x7eb+-0x276b*-0x1+0.3125,-0x2279+-0x11f3+0x262*0x16+0.37037),new W(-0x1fc*-0x2+0x1*0x1b7+-0x1*0x5af+0.8125,-0x1b38+-0x24dc+-0x3*-0x155c+0.703704),new W(-0xd9e+-0x13dd+0x217b+0.1875,-0x1a4d+-0x6*-0x4d0+-0x1*0x293+0.148148),new W(-0x1cff+0x1bf6+0x5*0x35+0.6875,-0x11*0x18e+-0xb2*0x29+0x36f*0x10+0.481481),new W(0x2*-0x91e+0x1*0x14f2+-0x15b*0x2+0.4375,-0x1f83+-0xf70+0x2ef3+0.814815),new W(-0xf5*-0x25+0x2704+-0x4a6d+0.9375,-0x11*-0xfb+0xdc3+0xf37*-0x2+0.259259),new W(0x1a39+-0x11fd+-0x83c*0x1+0.03125,0xb*-0x26b+-0x8f3*-0x1+0x6*0x2f1+0.592593)],EM=new q(),CM=new q(),MM=new q(),PM=new q(),RM=new q(),IM=new q(),Pn=new Set(),Bd=[],Nd=[];class DM{constructor(_0x48398d){c(this,'clustersDe'+'bugRendere'+'d',!(-0x1*-0xa41+0x196d+-0x1*0x23ad)),c(this,'processing'+'MeshInstan'+'ces',new Set()),c(this,'worldClust'+'ersAllocat'+'or'),c(this,'lights',[]),c(this,'localLight'+'s',[]),c(this,'cameraDirS'+'hadowLight'+'s',new Map()),c(this,'dirLightSh'+'adows',new Map()),c(this,'blueNoise',new rM(-0x1e4f+-0xdc4*0x1+0x2c8e)),(this['device']=_0x48398d,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new vM(_0x48398d),this['lightTextu'+'reAtlas']=new uM(_0x48398d),this['shadowMapC'+'ache']=new fM(),this['shadowRend'+'erer']=new I0(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new mM(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new yM(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new AM(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=0x105d+-0x902*-0x1+0x1b1*-0xf,this['_morphTime']=-0x1271+0x1897+-0x626,this['_cullTime']=0x72*-0x56+0x20ae+0x59e,this['_shadowMap'+'Time']=0x2e3*0x8+0x49a+-0x1bb2,this['_lightClus'+'tersTime']=0x1c1d+-0x8a1*0x2+-0xadb,this['_layerComp'+'ositionUpd'+'ateTime']=-0x2556+-0x213d+0x4693,this['_shadowDra'+'wCalls']=-0x1*-0x1d73+0x402*-0x2+0x3b*-0x5d,this['_skinDrawC'+'alls']=-0x1f45+-0x12ac+-0x1*-0x31f1,this['_instanced'+'DrawCalls']=0x3*0x482+0x192*-0x8+-0x1*0xf6,this['_shadowMap'+'Updates']=-0xeb9*0x1+0x1691*-0x1+0x254a,this['_numDrawCa'+'llsCulled']=-0x1*0xc83+-0x357+0xfda,this['_camerasRe'+'ndered']=0x1945+-0x6*-0x5e8+0x3cb5*-0x1,this['_lightClus'+'ters']=0x1eb5+0x1384+-0x3239);const _0x4986cd=_0x48398d['scope'];this['boneTextur'+'eId']=_0x4986cd['resolve']('texture_po'+'seMap'),this['boneTextur'+'eSizeId']=_0x4986cd['resolve']('texture_po'+'seMapSize'),this['modelMatri'+'xId']=_0x4986cd['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x4986cd['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x4986cd['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(-0x1d12*0x1+-0x131+-0x32*-0x9b),this['viewPosId']=_0x4986cd['resolve']('view_posit'+'ion'),this['projId']=_0x4986cd['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x4986cd['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x4986cd['resolve']('matrix_vie'+'w'),this['viewId3']=_0x4986cd['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x4986cd['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x4986cd['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x4986cd['resolve']('tbnBasis'),this['nearClipId']=_0x4986cd['resolve']('camera_nea'+'r'),this['farClipId']=_0x4986cd['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(0x1477+-0x8*0x2f5+0x335),this['cameraPara'+'msId']=_0x4986cd['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x4986cd['resolve']('view_index'),this['blueNoiseJ'+'itterVersi'+'on']=0x199a+-0x585*-0x1+-0x1f1f,this['blueNoiseJ'+'itterVec']=new Q(),this['blueNoiseJ'+'itterData']=new Float32Array(-0x231d+-0x5*-0x574+0x7dd),this['blueNoiseJ'+'itterId']=_0x4986cd['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x4986cd['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x4986cd['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x4986cd['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x4986cd['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x4986cd['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](-0x1114+0x150b+0xcb*-0x5),this['morphPosit'+'ionTex']=_0x4986cd['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x4986cd['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x4986cd['resolve']('morph_tex_'+'params'),this['lightCube']=new aM(),this['constantLi'+'ghtCube']=_0x4986cd['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['sortCompar'+'e'](_0x42276e,_0x3a6e82){if(_0x42276e['layer']===_0x3a6e82['layer']){if(_0x42276e['drawOrder']&&_0x3a6e82['drawOrder'])return _0x42276e['drawOrder']-_0x3a6e82['drawOrder'];if(_0x42276e['zdist']&&_0x3a6e82['zdist'])return _0x3a6e82['zdist']-_0x42276e['zdist'];if(_0x42276e['zdist2']&&_0x3a6e82['zdist2'])return _0x42276e['zdist2']-_0x3a6e82['zdist2'];}return _0x3a6e82['_key'][Ei]-_0x42276e['_key'][Ei];}['sortCompar'+'eMesh'](_0x5c7114,_0x35c172){if(_0x5c7114['layer']===_0x35c172['layer']){if(_0x5c7114['drawOrder']&&_0x35c172['drawOrder'])return _0x5c7114['drawOrder']-_0x35c172['drawOrder'];if(_0x5c7114['zdist']&&_0x35c172['zdist'])return _0x35c172['zdist']-_0x5c7114['zdist'];}const _0x4e0aaa=_0x5c7114['_key'][Ei],_0xbddcad=_0x35c172['_key'][Ei];return _0x4e0aaa===_0xbddcad&&_0x5c7114['mesh']&&_0x35c172['mesh']?_0x35c172['mesh']['id']-_0x5c7114['mesh']['id']:_0xbddcad-_0x4e0aaa;}['sortCompar'+'eDepth'](_0x25f9bf,_0x1de13d){const _0x2fab19=_0x25f9bf['_key'][ku],_0x14e1f8=_0x1de13d['_key'][ku];return _0x2fab19===_0x14e1f8&&_0x25f9bf['mesh']&&_0x1de13d['mesh']?_0x1de13d['mesh']['id']-_0x25f9bf['mesh']['id']:_0x14e1f8-_0x2fab19;}['setupViewp'+'ort'](_0x5216e8,_0x28237a){const _0x1440c1=this['device'],_0x3f979e=_0x28237a?_0x28237a['width']:_0x1440c1['width'],_0x32a576=_0x28237a?_0x28237a['height']:_0x1440c1['height'],_0x2ee8c4=_0x5216e8['rect'];let _0x34e651=Math['floor'](_0x2ee8c4['x']*_0x3f979e),_0x3f02d6=Math['floor'](_0x2ee8c4['y']*_0x32a576),_0x3de812=Math['floor'](_0x2ee8c4['z']*_0x3f979e),_0x4c5ac1=Math['floor'](_0x2ee8c4['w']*_0x32a576);if(_0x1440c1['setViewpor'+'t'](_0x34e651,_0x3f02d6,_0x3de812,_0x4c5ac1),_0x5216e8['_scissorRe'+'ctClear']){const _0x354d29=_0x5216e8['scissorRec'+'t'];_0x34e651=Math['floor'](_0x354d29['x']*_0x3f979e),_0x3f02d6=Math['floor'](_0x354d29['y']*_0x32a576),_0x3de812=Math['floor'](_0x354d29['z']*_0x3f979e),_0x4c5ac1=Math['floor'](_0x354d29['w']*_0x32a576);}_0x1440c1['setScissor'](_0x34e651,_0x3f02d6,_0x3de812,_0x4c5ac1);}['setCameraU'+'niforms'](_0x1a3139,_0x109359){var _0x20fcc3,_0x311ee1;const _0x3a8288=_0x109359==null?void(-0xeea+0x125f+-0x375):_0x109359['flipY'];let _0x396c2a=0xfb5+0x1ab0+-0x2a64;if(_0x1a3139['xr']&&_0x1a3139['xr']['session']){const _0x319843=((_0x311ee1=(_0x20fcc3=_0x1a3139['_node'])==null?void(-0x595*0x1+-0x1*0x1d92+0x2327):_0x20fcc3['parent'])==null?void(0x2a8*-0x8+0x47*-0x31+0x22d7):_0x311ee1['getWorldTr'+'ansform']())||null,_0x1d86b7=_0x1a3139['xr']['views'];_0x396c2a=_0x1d86b7['list']['length'];for(let _0x56ddee=0xdbd*-0x1+-0xf01+0x1cbe;_0x56ddee<_0x396c2a;_0x56ddee++){const _0xf08102=_0x1d86b7['list'][_0x56ddee];_0xf08102['updateTran'+'sforms'](_0x319843),_0x1a3139['frustum']['setFromMat'+'4'](_0xf08102['projViewOf'+'fMat']);}}else{let _0x3079d2=_0x1a3139['projection'+'Matrix'];_0x1a3139['calculateP'+'rojection']&&_0x1a3139['calculateP'+'rojection'](_0x3079d2,Al);let _0x37f170=_0x1a3139['getProject'+'ionMatrixS'+'kybox']();_0x3a8288&&(_0x3079d2=EM['mul2'](g_,_0x3079d2),_0x37f170=CM['mul2'](g_,_0x37f170)),this['device']['isWebGPU']&&(_0x3079d2=MM['mul2'](y_,_0x3079d2),_0x37f170=PM['mul2'](y_,_0x37f170));const {jitter:_0x3f0963}=_0x1a3139;let _0x2b625a=-0x218f+-0x393*-0x1+0x4*0x77f,_0x2725e3=-0x5d7+0x1274+-0xc9d;if(_0x3f0963>0x2594+-0x1b65+-0xa2f){const _0x4345dc=_0x109359?_0x109359['width']:this['device']['width'],_0x253150=_0x109359?_0x109359['height']:this['device']['height'],_0x4efaa1=x_[this['device']['renderVers'+'ion']%x_['length']];_0x2b625a=_0x3f0963*(_0x4efaa1['x']*(-0x1*-0x18a7+-0x815+-0x1090)-(0xb14+-0x3b*0x31+0x38))/_0x4345dc,_0x2725e3=_0x3f0963*(_0x4efaa1['y']*(0xcaa+-0x6*0x2c5+-0x3f6*-0x1)-(-0xd6f+-0x306+0x1076))/_0x253150,_0x3079d2=RM['copy'](_0x3079d2),_0x3079d2['data'][-0xbc7+-0x17e4+0x13*0x1e1]=_0x2b625a,_0x3079d2['data'][-0x189c+-0x2*-0x526+0xe59]=_0x2725e3,_0x37f170=IM['copy'](_0x37f170),_0x37f170['data'][-0x38a*0x1+-0x401+-0x7*-0x115]=_0x2b625a,_0x37f170['data'][-0x738+-0x1*-0x2063+-0x1922]=_0x2725e3,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x39bf5=_0x3f0963>-0x1*0x1966+0x22e0+0x1*-0x97a?this['blueNoiseJ'+'itterVec']:Q['ZERO'];if(this['blueNoiseJ'+'itterData'][0xc46*-0x2+-0x12ef*-0x2+-0xd52]=_0x39bf5['x'],this['blueNoiseJ'+'itterData'][-0x776+0xe*0x185+-0x1*0xdcf]=_0x39bf5['y'],this['blueNoiseJ'+'itterData'][0xbdc+-0x1d48+0x116e]=_0x39bf5['z'],this['blueNoiseJ'+'itterData'][0x1*-0x935+-0x1*0xa6+0x6*0x1a5]=_0x39bf5['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x3079d2['data']),this['projSkybox'+'Id']['setValue'](_0x37f170['data']),_0x1a3139['calculateT'+'ransform'])_0x1a3139['calculateT'+'ransform'](Wi,Al);else{const _0x9de63=_0x1a3139['_node']['getPositio'+'n'](),_0x54de53=_0x1a3139['_node']['getRotatio'+'n']();Wi['setTRS'](_0x9de63,_0x54de53,T['ONE']);}this['viewInvId']['setValue'](Wi['data']),Mn['copy'](Wi)['invert'](),this['viewId']['setValue'](Mn['data']),__['setFromMat'+'4'](Mn),this['viewId3']['setValue'](__['data']),Hi['mul2'](_0x3079d2,Mn),this['viewProjId']['setValue'](Hi['data']),_0x1a3139['_storeShad'+'erMatrices'](Hi,_0x2b625a,_0x2725e3,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x3a8288?-(-0x713+0x2*-0xfa7+-0x121*-0x22):0xfe5*0x1+-0x27*-0x81+-0x238b),this['dispatchVi'+'ewPos'](_0x1a3139['_node']['getPositio'+'n']()),_0x1a3139['frustum']['setFromMat'+'4'](Hi);}this['tbnBasis']['setValue'](_0x3a8288?-(-0x1e60+0x15cd+0x2*0x44a):-0x1a15*-0x1+0xaae*0x1+0x24c2*-0x1);const _0x4fbc7b=_0x1a3139['_nearClip'],_0x4c7975=_0x1a3139['_farClip'];return this['nearClipId']['setValue'](_0x4fbc7b),this['farClipId']['setValue'](_0x4c7975),this['cameraPara'+'ms'][0x4af*-0x1+-0x1054+0x1503]=(0x6*0x1e2+0x8*0x4d6+-0x9ff*0x5)/_0x4c7975,this['cameraPara'+'ms'][-0x26b3+0x8c8+0x1dec]=_0x4c7975,this['cameraPara'+'ms'][-0x147*-0x1e+-0x1*-0x31d+-0x296d]=_0x4fbc7b,this['cameraPara'+'ms'][-0x2*-0xf9a+-0x13*-0x53+-0x255a]=_0x1a3139['projection']===ua?0x5*0x152+-0x16*-0x19b+0x3*-0xdf9:-0x18f1+0x1e8+-0x1*-0x1709,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x1a3139['getExposur'+'e']():this['scene']['exposure']),_0x396c2a;}['clear'](_0x5aaa0e,_0x577913,_0x49d45c,_0x17b2c5){const _0x24544c=(_0x577913??_0x5aaa0e['_clearColo'+'rBuffer']?Co:-0x1*-0x2688+0x146*-0x10+-0x1228)|(_0x49d45c??_0x5aaa0e['_clearDept'+'hBuffer']?Mo:-0xfe0+-0xc5e*-0x1+0x382)|(_0x17b2c5??_0x5aaa0e['_clearSten'+'cilBuffer']?Ah:-0xeac+0x232c+-0x1480);if(_0x24544c){const _0xfa0ec7=this['device'];G['pushGpuMar'+'ker'](_0xfa0ec7,'CLEAR'),_0xfa0ec7['clear']({'color':[_0x5aaa0e['_clearColo'+'r']['r'],_0x5aaa0e['_clearColo'+'r']['g'],_0x5aaa0e['_clearColo'+'r']['b'],_0x5aaa0e['_clearColo'+'r']['a']],'depth':_0x5aaa0e['_clearDept'+'h'],'stencil':_0x5aaa0e['_clearSten'+'cil'],'flags':_0x24544c}),G['popGpuMark'+'er'](_0xfa0ec7);}}['setCamera'](_0x297f34,_0x2762cd,_0x12cdd1,_0x1c4fac=null){this['setCameraU'+'niforms'](_0x297f34,_0x2762cd),this['clearView'](_0x297f34,_0x2762cd,_0x12cdd1,!(0x11b*0x11+-0x1*-0xad9+-0x1*0x1da3));}['clearView'](_0x30b480,_0x4122ac,_0x297de5,_0x2bab13){const _0x144e21=this['device'];if(G['pushGpuMar'+'ker'](_0x144e21,'CLEAR-VIEW'),_0x144e21['setRenderT'+'arget'](_0x4122ac),_0x144e21['updateBegi'+'n'](),_0x2bab13&&(_0x144e21['setColorWr'+'ite'](!(-0xedd+-0x21b*-0xa+-0x1*0x631),!(0x139d+-0x88c+-0x1*0xb11),!(-0x25f2*0x1+0x4b*-0x56+0xc*0x543),!(-0x21c7+-0x1*0xdee+-0x17*-0x213)),_0x144e21['setDepthWr'+'ite'](!(0x1*-0x18cb+-0x17de+0x30a9))),this['setupViewp'+'ort'](_0x30b480,_0x4122ac),_0x297de5){const _0x2b9d31=_0x30b480['_clearOpti'+'ons'];_0x144e21['clear'](_0x2b9d31||{'color':[_0x30b480['_clearColo'+'r']['r'],_0x30b480['_clearColo'+'r']['g'],_0x30b480['_clearColo'+'r']['b'],_0x30b480['_clearColo'+'r']['a']],'depth':_0x30b480['_clearDept'+'h'],'flags':(_0x30b480['_clearColo'+'rBuffer']?Co:-0x13*-0x13a+-0x38b*0x3+0x3b*-0x37)|(_0x30b480['_clearDept'+'hBuffer']?Mo:-0x16cb+-0x1*-0x43b+-0x9*-0x210)|(_0x30b480['_clearSten'+'cilBuffer']?Ah:0x16*-0x11f+0x22bf*-0x1+0x1*0x3b69),'stencil':_0x30b480['_clearSten'+'cil']});}G['popGpuMark'+'er'](_0x144e21);}['setupCullM'+'ode'](_0x2d0c82,_0x2d9fd3,_0x5daf36){const _0x924f08=_0x5daf36['material'];let _0x170701=mt;if(_0x2d0c82){let _0x38c2d8=-0x1daf+-0x5fc+0x5f2*0x6;(_0x924f08['cull']===mo||_0x924f08['cull']===rn)&&(_0x38c2d8=_0x2d9fd3*_0x5daf36['flipFacesF'+'actor']*_0x5daf36['node']['worldScale'+'Sign']),_0x38c2d8<0x17a7+0x4dc*-0x7+0xa5d?_0x170701=_0x924f08['cull']===mo?rn:mo:_0x170701=_0x924f08['cull'];}this['device']['setCullMod'+'e'](_0x170701),_0x170701===mt&&_0x924f08['cull']===mt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x5daf36['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x406dba){if(_0x406dba['xr']&&_0x406dba['xr']['views']['list']['length']){const _0x445492=_0x406dba['xr']['views']['list'][-0xa39+-0x6f6+0x112f];Hi['mul2'](_0x445492['projMat'],_0x445492['viewOffMat']),_0x406dba['frustum']['setFromMat'+'4'](Hi);return;}const _0x41e31b=_0x406dba['projection'+'Matrix'];if(_0x406dba['calculateP'+'rojection']&&_0x406dba['calculateP'+'rojection'](_0x41e31b,Al),_0x406dba['calculateT'+'ransform'])_0x406dba['calculateT'+'ransform'](Wi,Al);else{const _0x51b693=_0x406dba['_node']['getPositio'+'n'](),_0x3ad37e=_0x406dba['_node']['getRotatio'+'n']();Wi['setTRS'](_0x51b693,_0x3ad37e,T['ONE']),this['viewInvId']['setValue'](Wi['data']);}Mn['copy'](Wi)['invert'](),Hi['mul2'](_0x41e31b,Mn),_0x406dba['frustum']['setFromMat'+'4'](Hi);}['setBaseCon'+'stants'](_0x2cce88,_0x4f0f8f){_0x2cce88['setCullMod'+'e'](_0x4f0f8f['cull']),_0x4f0f8f['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x4f0f8f['opacityMap']),(_0x4f0f8f['opacityMap']||_0x4f0f8f['alphaTest']>0x5d9*-0x2+-0xf*0x119+0x1c29)&&this['alphaTestI'+'d']['setValue'](_0x4f0f8f['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x56843d){Dd++;const _0x524c6d=_0x56843d['length'];if(_0x524c6d===0x186d+0x2c1*-0x9+0x5c)return;const _0x54c3f1=ne();for(let _0x107783=-0x20+0x2585+0xc77*-0x3;_0x107783<_0x524c6d;_0x107783++){const _0x57cc17=_0x56843d[_0x107783]['skinInstan'+'ce'];_0x57cc17&&(_0x57cc17['updateMatr'+'ices'](_0x56843d[_0x107783]['node'],Dd),_0x57cc17['_dirty']=!(0xe*-0x221+-0x1*0x112f+0x2efd));}this['_skinTime']+=ne()-_0x54c3f1;}['updateGpuS'+'kinMatrice'+'s'](_0x4961c6){const _0x356c9e=ne();for(const _0x23a82b of _0x4961c6){const _0x46f074=_0x23a82b['skinInstan'+'ce'];_0x46f074&&_0x46f074['_dirty']&&(_0x46f074['updateMatr'+'ixPalette'](_0x23a82b['node'],Dd),_0x46f074['_dirty']=!(-0x237c+0x1aaa+-0x8d3*-0x1));}this['_skinTime']+=ne()-_0x356c9e;}['updateMorp'+'hing'](_0x3dc3bc){const _0x47df75=ne();for(const _0x31866d of _0x3dc3bc){const _0x200d73=_0x31866d['morphInsta'+'nce'];_0x200d73&&_0x200d73['_dirty']&&_0x200d73['update']();}this['_morphTime']+=ne()-_0x47df75;}['updateGSpl'+'ats'](_0x1eb3d4){var _0x2cae56;for(const _0x37ec30 of _0x1eb3d4)(_0x2cae56=_0x37ec30['gsplatInst'+'ance'])==null||_0x2cae56['update']();}['gpuUpdate'](_0x2c0af4){this['updateGpuS'+'kinMatrice'+'s'](_0x2c0af4),this['updateMorp'+'hing'](_0x2c0af4),this['updateGSpl'+'ats'](_0x2c0af4);}['setVertexB'+'uffers'](_0x5c31f0,_0x1c5b83){_0x5c31f0['setVertexB'+'uffer'](_0x1c5b83['vertexBuff'+'er']);}['setMorphin'+'g'](_0x40031d,_0x22f44e){_0x22f44e&&(_0x22f44e['prepareRen'+'dering'](_0x40031d),_0x40031d['setVertexB'+'uffer'](_0x22f44e['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x22f44e['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x22f44e['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x22f44e['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x346d75,_0x32d264){const _0x5a5375=_0x32d264['skinInstan'+'ce'];if(_0x5a5375){this['_skinDrawC'+'alls']++;const _0x576491=_0x5a5375['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x576491),this['boneTextur'+'eSizeId']['setValue'](_0x5a5375['boneTextur'+'eSize']);}}['dispatchVi'+'ewPos'](_0x4ed48e){const _0x22125c=this['viewPos'];_0x22125c[-0x1*0x1333+0xc83+-0x1ac*-0x4]=_0x4ed48e['x'],_0x22125c[-0xa*0x86+0x22c+0x1*0x311]=_0x4ed48e['y'],_0x22125c[0x3b*-0x5f+0x579+-0x6*-0x2bd]=_0x4ed48e['z'],this['viewPosId']['setValue'](_0x22125c);}['initViewBi'+'ndGroupFor'+'mat'](_0x445fda){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x45b33f=[new gt('matrix_vie'+'wProjectio'+'n',Sa),new gt('cubeMapRot'+'ationMatri'+'x',ko),new gt('view_posit'+'ion',$t),new gt('skyboxInte'+'nsity',$s),new gt('exposure',$s),new gt('textureBia'+'s',$s)];_0x445fda&&_0x45b33f['push'](new gt('clusterCel'+'lsCountByB'+'oundsSize',$t),new gt('clusterTex'+'tureSize',$t),new gt('clusterBou'+'ndsMin',$t),new gt('clusterBou'+'ndsDelta',$t),new gt('clusterCel'+'lsDot',$t),new gt('clusterCel'+'lsMax',$t),new gt('clusterCom'+'pressionLi'+'mit0',or),new gt('shadowAtla'+'sParams',or),new gt('clusterMax'+'Cells',ln),new gt('clusterSki'+'p',$s)),this['viewUnifor'+'mFormat']=new Qy(this['device'],_0x45b33f);const _0xf03c38=[new pp(fp,up|li),new fi('lightsText'+'ureFloat',li,Us,nd),new fi('lightsText'+'ure8',li,Us,nd),new fi('shadowAtla'+'sTexture',li,Us,jS),new fi('cookieAtla'+'sTexture',li,Us,oh),new fi('areaLights'+'LutTex1',li,Us,oh),new fi('areaLights'+'LutTex2',li,Us,oh)];_0x445fda&&_0xf03c38['push'](new fi('clusterWor'+'ldTexture',li,Us,nd)),this['viewBindGr'+'oupFormat']=new jy(this['device'],_0xf03c38);}}['setupViewU'+'niformBuff'+'ers'](_0x40542b,_0xffa463,_0x53407f,_0x4e14fe){v['assert'](Array['isArray'](_0x40542b),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const _0x134875=this['device'];for(v['assert'](_0x4e14fe===-0x15b9+-0x481+-0x18b*-0x11,'This\x20code\x20'+'does\x20not\x20h'+'andle\x20the\x20'+'viewCount\x20'+'yet');_0x40542b['length']<_0x4e14fe;){const _0x1ee6b6=new gp(_0x134875,_0xffa463,!(0x1297*-0x2+0xad*-0x1b+-0x3*-0x127a)),_0x315987=new mp(_0x134875,_0x53407f,_0x1ee6b6);mn['setName'](_0x315987,'ViewBindGr'+'oup_'+_0x315987['id']),_0x40542b['push'](_0x315987);}const _0x5b6ff6=_0x40542b[0xcdc+-0x1b0a*0x1+-0x4ba*-0x3];_0x5b6ff6['defaultUni'+'formBuffer']['update'](),_0x5b6ff6['update'](),_0x134875['setBindGro'+'up'](Dh,_0x5b6ff6);}['setupMeshU'+'niformBuff'+'ers'](_0x299967,_0x5dfbdb){const _0x3bcaff=this['device'];if(_0x3bcaff['supportsUn'+'iformBuffe'+'rs']){this['modelMatri'+'xId']['setValue'](_0x5dfbdb['node']['worldTrans'+'form']['data']),this['normalMatr'+'ixId']['setValue'](_0x5dfbdb['node']['normalMatr'+'ix']['data']);const _0x42169f=_0x299967['getBindGro'+'up'](_0x3bcaff);_0x42169f['update'](),_0x3bcaff['setBindGro'+'up'](Xy,_0x42169f),_0x299967['getUniform'+'Buffer'](_0x3bcaff)['update'](kd),_0x3bcaff['setBindGro'+'up'](Eu,kd['bindGroup'],kd['offsets']);}}['drawInstan'+'ce'](_0x46f7cd,_0x58c67e,_0xfa6bda,_0x2a5670,_0x336286){const _0x4d25ce=_0x58c67e['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x4d25ce['data']),_0x336286&&this['normalMatr'+'ixId']['setValue'](_0x58c67e['node']['normalMatr'+'ix']['data']);const _0x35bad3=_0x58c67e['instancing'+'Data'];_0x35bad3?_0x35bad3['count']>-0x182+0xf5d+-0xddb?(this['_instanced'+'DrawCalls']++,_0x46f7cd['setVertexB'+'uffer'](_0x35bad3['vertexBuff'+'er']),_0x46f7cd['draw'](_0xfa6bda['primitive'][_0x2a5670],_0x35bad3['count'])):_0x46f7cd['clearVerte'+'xBuffer']():_0x46f7cd['draw'](_0xfa6bda['primitive'][_0x2a5670]);}['drawInstan'+'ce2'](_0x511aee,_0x170d5b,_0x55b227,_0x56fa1b){const _0x451114=_0x170d5b['instancing'+'Data'];_0x451114?_0x451114['count']>0x21ef+-0x1caf+0x1c*-0x30?(this['_instanced'+'DrawCalls']++,_0x511aee['draw'](_0x55b227['primitive'][_0x56fa1b],_0x451114['count'],!(0x2383+-0x10*-0x67+-0x29f3))):_0x511aee['clearVerte'+'xBuffer']():_0x511aee['draw'](_0x55b227['primitive'][_0x56fa1b],void(-0x119e+-0x7a*-0x3+-0x25*-0x70),!(0x15ae+-0x73e+-0xe70));}['cull'](_0x1824c0,_0x4a2309,_0x1d9c8f){const _0x29e7e9=ne(),_0x4180c9=_0x1d9c8f['opaque'];_0x4180c9['length']=0x26a2+-0x5b2+-0x20f0;const _0x2df722=_0x1d9c8f['transparen'+'t'];_0x2df722['length']=-0xfa5*0x1+0x1*-0x1d0e+-0x1*-0x2cb3;const _0x4f684b=_0x1824c0['frustumCul'+'ling'],_0xb49457=_0x4a2309['length'];for(let _0x1fcd3b=0x1*-0x985+0xc50+-0x2cb;_0x1fcd3b<_0xb49457;_0x1fcd3b++){const _0x48f4e6=_0x4a2309[_0x1fcd3b];_0x48f4e6['visible']&&(!_0x4f684b||!_0x48f4e6['cull']||_0x48f4e6['_isVisible'](_0x1824c0))&&(_0x48f4e6['visibleThi'+'sFrame']=!(0x313*0x7+-0x2392+0xe0d),(_0x48f4e6['transparen'+'t']?_0x2df722:_0x4180c9)['push'](_0x48f4e6),(_0x48f4e6['skinInstan'+'ce']||_0x48f4e6['morphInsta'+'nce']||_0x48f4e6['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x48f4e6),_0x48f4e6['gsplatInst'+'ance']&&_0x48f4e6['gsplatInst'+'ance']['cameras']['push'](_0x1824c0)));}this['_cullTime']+=ne()-_0x29e7e9,this['_numDrawCa'+'llsCulled']+=_0x4f684b?_0xb49457:0x1f30*0x1+-0x9*0x2e7+-0x511;}['collectLig'+'hts'](_0x43f30b){this['lights']['length']=-0x235+0x8f*-0x5+0xa*0x80,this['localLight'+'s']['length']=-0x1*0x19ab+-0x5*0x66a+0x3*0x133f;const _0x33177c=this['scene']['_stats'];_0x33177c['dynamicLig'+'hts']=0x26fa+0x95*-0xc+0xaaa*-0x3,_0x33177c['bakedLight'+'s']=-0x1*0x1743+-0x20f5+-0x2*-0x1c1c;const _0x1f2932=_0x43f30b['layerList']['length'];for(let _0x2c946d=-0x1e70+0xf84+0xeec;_0x2c946d<_0x1f2932;_0x2c946d++){const _0x5f37ce=_0x43f30b['layerList'][_0x2c946d];if(!Od['has'](_0x5f37ce)){Od['add'](_0x5f37ce);const _0x1c95d5=_0x5f37ce['_lights'];for(let _0x2d547f=-0x1e8f+0x329*0x1+-0x3*-0x922;_0x2d547f<_0x1c95d5['length'];_0x2d547f++){const _0x407c88=_0x1c95d5[_0x2d547f];Fd['has'](_0x407c88)||(Fd['add'](_0x407c88),this['lights']['push'](_0x407c88),_0x407c88['_type']!==oe&&this['localLight'+'s']['push'](_0x407c88),(_0x407c88['mask']&hs||_0x407c88['mask']&cr)&&_0x33177c['dynamicLig'+'hts']++,_0x407c88['mask']&rr&&_0x33177c['bakedLight'+'s']++);}}}_0x33177c['lights']=this['lights']['length'],Fd['clear'](),Od['clear']();}['cullLights'](_0x1ed21d,_0x17fc63){const _0x3769c2=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x11846f=this['scene']['physicalUn'+'its'];for(let _0x1a6c45=-0x4f*-0x31+-0x1*0x195e+0x3d*0x2b;_0x1a6c45<_0x17fc63['length'];_0x1a6c45++){const _0x5664c5=_0x17fc63[_0x1a6c45];if(_0x5664c5['enabled']){if(_0x5664c5['_type']!==oe){if(_0x5664c5['getBoundin'+'gSphere'](Ld),_0x1ed21d['frustum']['containsSp'+'here'](Ld)){_0x5664c5['visibleThi'+'sFrame']=!(0x19ef+-0x212d+0x73e),_0x5664c5['usePhysica'+'lUnits']=_0x11846f;const _0x2a57fe=_0x1ed21d['getScreenS'+'ize'](Ld);_0x5664c5['maxScreenS'+'ize']=Math['max'](_0x5664c5['maxScreenS'+'ize'],_0x2a57fe);}else _0x3769c2||_0x5664c5['castShadow'+'s']&&!_0x5664c5['shadowMap']&&(_0x5664c5['visibleThi'+'sFrame']=!(-0x487*-0x1+0x12e2+-0x1cd*0xd));}else _0x5664c5['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x1f81f5){const _0x1493bf=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x2f6423=-0x19b*-0x2+0x299+0x1*-0x5cf;_0x2f6423<this['localLight'+'s']['length'];_0x2f6423++){const _0x50a6ee=this['localLight'+'s'][_0x2f6423];_0x50a6ee['_type']!==oe&&(_0x1493bf?_0x50a6ee['atlasSlotU'+'pdated']&&_0x50a6ee['shadowUpda'+'teMode']===Ps&&(_0x50a6ee['shadowUpda'+'teMode']=cn):_0x50a6ee['shadowUpda'+'teMode']===Ps&&_0x50a6ee['castShadow'+'s']&&(_0x50a6ee['getRenderD'+'ata'](null,-0x262b+-0x17e+-0x8f*-0x47)['shadowCame'+'ra']['renderTarg'+'et']||(_0x50a6ee['shadowUpda'+'teMode']=cn)),_0x50a6ee['visibleThi'+'sFrame']&&_0x50a6ee['castShadow'+'s']&&_0x50a6ee['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x50a6ee,_0x1f81f5));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0xe1a067=_0x1f81f5['cameras'];for(let _0x58b486=-0x160*0x8+-0xc*-0x334+-0x1b70;_0x58b486<_0xe1a067['length'];_0x58b486++){const _0x1876b5=_0xe1a067[_0x58b486];if(_0x1876b5['enabled']){const _0x511036=_0x1876b5['camera'];let _0x4b8f99;const _0x1aeef2=_0x511036['layers'];for(let _0x1f625a=-0xea2+-0x26aa+0x4*0xd53;_0x1f625a<_0x1aeef2['length'];_0x1f625a++){const _0x537242=_0x1f81f5['getLayerBy'+'Id'](_0x1aeef2[_0x1f625a]);if(_0x537242){const _0x34a1d4=_0x537242['splitLight'+'s'][oe];for(let _0x50303c=0x10e1+-0x2e9*0xa+0xc39;_0x50303c<_0x34a1d4['length'];_0x50303c++){const _0xc31f0a=_0x34a1d4[_0x50303c];_0xc31f0a['castShadow'+'s']&&!Pn['has'](_0xc31f0a)&&(Pn['add'](_0xc31f0a),_0x4b8f99=_0x4b8f99??[],_0x4b8f99['push'](_0xc31f0a),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0xc31f0a,_0x1f81f5,_0x511036));}}}_0x4b8f99&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x511036,_0x4b8f99),Pn['clear']();}}}['cullCompos'+'ition'](_0xa250b8){const _0x4bcf1f=ne(),{scene:_0x2a3f79}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0x234c04=_0xa250b8['cameras']['length'];this['_camerasRe'+'ndered']+=_0x234c04;for(let _0x5ce808=0x1a2e+-0xa34+0x1*-0xffa;_0x5ce808<_0x234c04;_0x5ce808++){const _0x388c3c=_0xa250b8['cameras'][_0x5ce808];_0x2a3f79==null||_0x2a3f79['fire'](ow,_0x388c3c);const _0x1e905e=_0x388c3c['renderTarg'+'et'];_0x388c3c['frameUpdat'+'e'](_0x1e905e),this['updateCame'+'raFrustum'](_0x388c3c['camera']);const _0x47952f=_0x388c3c['layers'];for(let _0x42c87d=-0x47b*0x7+0xc2e*-0x3+0x43e7;_0x42c87d<_0x47952f['length'];_0x42c87d++){const _0x1ee993=_0xa250b8['getLayerBy'+'Id'](_0x47952f[_0x42c87d]);if(_0x1ee993&&_0x1ee993['enabled']){this['cullLights'](_0x388c3c['camera'],_0x1ee993['_lights']);const _0x1c6ab=_0x1ee993['getCulledI'+'nstances'](_0x388c3c['camera']);this['cull'](_0x388c3c['camera'],_0x1ee993['meshInstan'+'ces'],_0x1c6ab);}}_0x2a3f79==null||_0x2a3f79['fire'](lw,_0x388c3c);}_0x2a3f79['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0xa250b8),this['_cullTime']+=ne()-_0x4bcf1f;}['updateShad'+'ers'](_0x4ed77e,_0x1aa895){const _0x5ae778=_0x4ed77e['length'];for(let _0x1b65f7=-0x25f7*-0x1+-0x468+-0x1*0x218f;_0x1b65f7<_0x5ae778;_0x1b65f7++){const _0xecad9d=_0x4ed77e[_0x1b65f7]['material'];if(_0xecad9d&&!Pn['has'](_0xecad9d)&&(Pn['add'](_0xecad9d),_0xecad9d['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant'])){if(_0x1aa895&&(!_0xecad9d['useLightin'+'g']||_0xecad9d['emitter']&&!_0xecad9d['emitter']['lighting']))continue;_0xecad9d['clearVaria'+'nts']();}}Pn['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](hM(this['device']));}['beginFrame'](_0xbbc288){const _0x1255e2=this['scene'],_0x22446c=_0x1255e2['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x24f700=0x7ec+0x2*-0x701+0x616;const _0x14e1a3=_0xbbc288['layerList'],_0x5db531=_0x14e1a3['length'];for(let _0x3473fe=-0x2a+0x7*0x4c+-0x1ea;_0x3473fe<_0x5db531;_0x3473fe++){const _0x486e02=_0x14e1a3[_0x3473fe]['meshInstan'+'ces'],_0x325419=_0x486e02['length'];_0x24f700+=_0x325419;for(let _0x28332f=-0x2*0xf4c+0x1973+0x525;_0x28332f<_0x325419;_0x28332f++){const _0x28e0c5=_0x486e02[_0x28332f];_0x28e0c5['visibleThi'+'sFrame']=!(0x231a+0x1f7d+-0x1*0x4296),_0x22446c&&Bd['push'](_0x28e0c5),_0x28e0c5['skinInstan'+'ce']&&Nd['push'](_0x28e0c5);}}if(_0x1255e2['_stats']['meshInstan'+'ces']=_0x24f700,_0x22446c){const _0x553ff0=!_0x1255e2['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](Bd,_0x553ff0),_0x1255e2['updateShad'+'ers']=!(0x1*0x21d7+0x3*-0x981+-0x2f*0x1d),this['device']['_shadersDi'+'rty']=!(-0xe4*0x1c+0x1*0xceb+0xc06),_0x1255e2['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](Nd),Bd['length']=0x1113+0x1c4+-0x173*0xd,Nd['length']=-0x29*-0xa9+0x80*0x11+-0x25f*0xf;const _0x592314=this['lights'],_0x58ac7b=_0x592314['length'];for(let _0x20beca=0x254f*-0x1+0x53c*0x1+-0x3*-0xab1;_0x20beca<_0x58ac7b;_0x20beca++)_0x592314[_0x20beca]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x396e3b){const _0x1602e8=ne(),_0x465f53=_0x396e3b['layerList']['length'],_0x33ecb7=this['scene']['_shaderVer'+'sion'];for(let _0x763517=0x1b3*-0x3+0x1*-0xca9+0x11c2;_0x763517<_0x465f53;_0x763517++){const _0x4cd8d6=_0x396e3b['layerList'][_0x763517];_0x4cd8d6['_shaderVer'+'sion']=_0x33ecb7,_0x4cd8d6['_skipRende'+'rCounter']=0x20*0x49+-0x1da9+0x7*0x2ef,_0x4cd8d6['_forwardDr'+'awCalls']=-0x1*-0xe80+0x763+-0x15e3,_0x4cd8d6['_shadowDra'+'wCalls']=-0x1bdf+-0x1*0x10d2+0x2cb1*0x1,_0x4cd8d6['_renderTim'+'e']=-0xd*0x299+-0x190c+0x3ad1*0x1;}_0x396e3b['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=ne()-_0x1602e8;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(0x1558+-0xc61+-0x3e*0x25),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class D0{constructor(){c(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(-0x1dc6*-0x1+0x3a*0x8f+0xc6f*-0x5),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(0x1b63+-0x1016+-0xb4c),this['clearDepth']=!(-0x219f+0x36*-0x97+0x417a),this['clearStenc'+'il']=!(-0x1*-0x180e+0x13bd+-0x2bca),this['triggerPos'+'tprocess']=!(-0x142b+-0x7d6+0x1c02),this['firstCamer'+'aUse']=!(-0x1313+0x681+-0x6f*-0x1d),this['lastCamera'+'Use']=!(-0x918+-0x2*-0x5b3+-0x24d),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(0x88*0x16+-0x11a4*0x1+-0x5f5*-0x1));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x339b84=>{_0x339b84['defaultUni'+'formBuffer']['destroy'](),_0x339b84['destroy']();}),this['viewBindGr'+'oups']['length']=0x8*0xe5+-0x1c*0x57+0x25c;}['setupClear'+'s'](_0x11c73e,_0x5cc503){this['clearColor']=(_0x11c73e==null?void(-0x29*0x5+-0x12d7+0x13a4):_0x11c73e['clearColor'+'Buffer'])||_0x5cc503['clearColor'+'Buffer'],this['clearDepth']=(_0x11c73e==null?void(0x3*0x29b+0x16eb+-0x1ebc):_0x11c73e['clearDepth'+'Buffer'])||_0x5cc503['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x11c73e==null?void(-0x1*0x2707+0x64b+0x20bc):_0x11c73e['clearStenc'+'ilBuffer'])||_0x5cc503['clearStenc'+'ilBuffer'];}}class LM extends ds{constructor(_0x519205,_0x31e926,_0x173bf8,_0x2d2ff3){super(_0x519205),c(this,'layerCompo'+'sition'),c(this,'scene'),c(this,'renderer'),c(this,'renderActi'+'ons',[]),c(this,'gammaCorre'+'ction'),c(this,'toneMappin'+'g'),c(this,'noDepthCle'+'ar',!(-0x86f*0x2+0x1139+-0x5a)),(this['layerCompo'+'sition']=_0x31e926,this['scene']=_0x173bf8,this['renderer']=_0x2d2ff3);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>0xe23+-0x925*0x3+-0x5c*-0x25;}['addRenderA'+'ction'](_0x5cd000){this['renderActi'+'ons']['push'](_0x5cd000);}['addLayer'](_0x14b2a5,_0x10083e,_0x2fe35e,_0x5eb95e=!(0x1497+-0x1*0x5e6+-0xeb1*0x1)){v['assert'](_0x14b2a5),v['assert'](this['renderTarg'+'et']!==void(-0x185d+-0xa29+-0xb82*-0x3),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),v['assert'](_0x14b2a5['camera']['layersSet']['has'](_0x10083e['id']),'Camera\x20'+_0x14b2a5['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x10083e['name']+'.');const _0xe0cc7=new D0();if(_0xe0cc7['renderTarg'+'et']=this['renderTarg'+'et'],_0xe0cc7['camera']=_0x14b2a5,_0xe0cc7['layer']=_0x10083e,_0xe0cc7['transparen'+'t']=_0x2fe35e,_0x5eb95e){const _0x203e4b=this['renderActi'+'ons']['length']===0x55*-0x56+0x2*0x14d+0x19f4;_0xe0cc7['setupClear'+'s'](_0x203e4b?_0x14b2a5:void(-0x17de+0xd*0x104+0xaaa),_0x10083e);}this['addRenderA'+'ction'](_0xe0cc7);}['addLayers'](_0x302a61,_0x3e0c74,_0x1496c8,_0x29e8fb,_0xf241da,_0xd85cd9=!(-0x52*0x2e+-0x7d3*-0x2+-0x6*0x27)){const {layerList:_0x588478,subLayerList:_0x3817be}=_0x302a61;let _0x60cfbc=_0x29e8fb,_0x31dadc=_0x1496c8;for(;_0x31dadc<_0x588478['length'];){const _0x401d88=_0x588478[_0x31dadc],_0x355d98=_0x3817be[_0x31dadc];if(_0x3e0c74['camera']['layersSet']['has'](_0x401d88['id'])&&(this['addLayer'](_0x3e0c74,_0x401d88,_0x355d98,_0x60cfbc),_0x60cfbc=!(0x1f7*-0x10+-0xa7*0x4+-0x17b*-0x17)),_0x31dadc++,_0x401d88['id']===_0xf241da&&_0x355d98===_0xd85cd9)break;}return _0x31dadc;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x423122,renderActions:_0x53d93f}=this;for(let _0x18b917=0x3*0x1e1+-0x284+-0x31f*0x1;_0x18b917<_0x53d93f['length'];_0x18b917++){const _0x2e8aca=_0x53d93f[_0x18b917]['camera']['camera'],_0x47005b=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x2e8aca);if(_0x47005b)for(let _0x4f0fec=-0x1d3f+-0xf*0x1d1+0x387e;_0x4f0fec<_0x47005b['length'];_0x4f0fec++){const _0x1a5c87=_0x47005b[_0x4f0fec];if(_0x423122['dirLightSh'+'adows']['get'](_0x1a5c87)!==_0x2e8aca){_0x423122['dirLightSh'+'adows']['set'](_0x1a5c87,_0x2e8aca);const _0x4721c6=_0x423122['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x1a5c87,_0x2e8aca);_0x4721c6&&this['beforePass'+'es']['push'](_0x4721c6);}}}}['updateClea'+'rs'](){const _0x598d26=this['renderActi'+'ons'][0x2454+0x1*-0x191f+0xb35*-0x1];if(_0x598d26){const _0x1d1a5e=_0x598d26['camera']['camera'],_0x548ed7=_0x1d1a5e['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x548ed7&&_0x598d26['clearColor']?_0x1d1a5e['clearColor']:void(0x6d*-0x53+0x6d7*0x4+0x2a9*0x3)),this['setClearDe'+'pth'](_0x548ed7&&_0x598d26['clearDepth']&&!this['noDepthCle'+'ar']?_0x1d1a5e['clearDepth']:void(0x2563+0xaa3*0x3+-0x454c)),this['setClearSt'+'encil'](_0x548ed7&&_0x598d26['clearStenc'+'il']?_0x1d1a5e['clearStenc'+'il']:void(0xbe1*0x1+-0x21cc+0xb5*0x1f));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x428251}=this;for(let _0x4e612b=-0x2*-0x763+0x13bc+-0x2282;_0x4e612b<_0x428251['length'];_0x4e612b++){const _0x181882=_0x428251[_0x4e612b];_0x181882['firstCamer'+'aUse']&&this['scene']['fire'](iw,_0x181882['camera']);}}['execute'](){const {layerComposition:_0x1448f4,renderActions:_0x7b6008}=this;for(let _0x203092=0x21*-0x52+0x1e93*-0x1+0x2925;_0x203092<_0x7b6008['length'];_0x203092++){const _0x2acdcd=_0x7b6008[_0x203092],_0x22c9be=_0x2acdcd['layer'];v['call'](()=>{_0x1448f4['getLayerBy'+'Name'](_0x22c9be['name'])||v['warnOnce']('Layer\x20'+_0x22c9be['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x1448f4['isEnabled'](_0x22c9be,_0x2acdcd['transparen'+'t'])&&this['renderRend'+'erAction'](_0x2acdcd,_0x203092===-0x11*0xe3+-0x14*-0x1d3+0x30f*-0x7);}}['after'](){for(let _0x3433fc=0x1dcb+0x12c9+-0x1*0x3094;_0x3433fc<this['renderActi'+'ons']['length'];_0x3433fc++){const _0x47c06a=this['renderActi'+'ons'][_0x3433fc];_0x47c06a['lastCamera'+'Use']&&this['scene']['fire'](rw,_0x47c06a['camera']);}this['beforePass'+'es']['length']=0x7*-0x359+-0x177b+0x2*0x1775;}['renderRend'+'erAction'](_0x124ac1,_0x27968b){var _0x2da041;const {renderer:_0x524b8c,scene:_0x405176}=this,_0x2e5512=_0x524b8c['device'],{layer:_0x310776,transparent:_0x580894,camera:_0x143f93}=_0x124ac1;G['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x143f93?_0x143f93['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x310776['name']+'('+(_0x580894?'TRANSP':'OPAQUE')+')');const _0x393d08=ne();if(_0x143f93){const _0x50c758=_0x143f93['gammaCorre'+'ction'],_0x4b8547=_0x143f93['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(0x2*-0x346+-0x1b6b*-0x1+-0x14df)&&(_0x143f93['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(0x1390+0x503+-0x1893)&&(_0x143f93['toneMappin'+'g']=this['toneMappin'+'g']),_0x405176['fire'](nw,_0x143f93,_0x310776,_0x580894);const _0x42ca9e={'lightClusters':_0x124ac1['lightClust'+'ers']},_0x32e343=((_0x2da041=_0x143f93['camera']['shaderPass'+'Info'])==null?void(0x1312*0x2+0x18aa+-0x3ece*0x1):_0x2da041['index'])??gn;(!_0x27968b||!_0x143f93['camera']['fullSizeCl'+'earRect'])&&(_0x42ca9e['clearColor']=_0x124ac1['clearColor'],_0x42ca9e['clearDepth']=_0x124ac1['clearDepth'],_0x42ca9e['clearStenc'+'il']=_0x124ac1['clearStenc'+'il']);const _0xd8a03b=_0x124ac1['renderTarg'+'et']??_0x2e5512['backBuffer'];_0x524b8c['renderForw'+'ardLayer'](_0x143f93['camera'],_0xd8a03b,_0x310776,_0x580894,_0x32e343,_0x124ac1['viewBindGr'+'oups'],_0x42ca9e),_0x2e5512['setBlendSt'+'ate'](_t['NOBLEND']),_0x2e5512['setStencil'+'State'](null,null),_0x2e5512['setAlphaTo'+'Coverage'](!(0x85d+-0x17*-0x27+-0xbdd)),_0x405176['fire'](aw,_0x143f93,_0x310776,_0x580894),this['gammaCorre'+'ction']!==void(-0x5e3*0x4+-0x1b*-0x15e+-0xd5e)&&(_0x143f93['gammaCorre'+'ction']=_0x50c758),this['toneMappin'+'g']!==void(-0x3fe*-0x1+-0xe2c*-0x2+-0x2*0x102b)&&(_0x143f93['toneMappin'+'g']=_0x4b8547);}G['popGpuMark'+'er'](this['device']),_0x310776['_renderTim'+'e']+=ne()-_0x393d08;}['log'](_0x4cd376,_0xa9299b){if(super['log'](_0x4cd376,_0xa9299b),Xs['get'](Jn)){const {layerComposition:_0x110931}=this;this['renderActi'+'ons']['forEach']((_0x25d171,_0x2efcc2)=>{const _0x37d418=_0x25d171['layer'],_0x4674c2=_0x37d418['enabled']&&_0x110931['isEnabled'](_0x37d418,_0x25d171['transparen'+'t']),_0x540ae0=_0x25d171['camera'];v['trace'](Jn,'\x20\x20\x20\x20'+_0x2efcc2+':'+('\x20Cam:\x20'+(_0x540ae0?_0x540ae0['entity']['name']:'-'))['padEnd'](0x9d+-0xf67+0x22*0x70,'\x20')+('\x20Lay:\x20'+_0x37d418['name'])['padEnd'](-0x14b7*0x1+0x1*0x6+-0x3*-0x6ed,'\x20')+(_0x25d171['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x4674c2?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x37d418['meshInstan'+'ces']['length'])['padEnd'](0x1*-0x2a5+0x1443+-0x5*0x385,'\x20'));});}}}class FM extends ds{constructor(_0x17079e,_0x5ab85d,_0x27fc00){super(_0x17079e),this['renderer']=_0x5ab85d,this['renderActi'+'on']=_0x27fc00,this['requiresCu'+'bemaps']=!(0x1a*0x119+-0x85*0x29+-0x4*0x1cf);}['execute'](){const _0x8aafce=this['renderActi'+'on'],_0x51aa7d=_0x8aafce['camera'];v['assert'](_0x8aafce['triggerPos'+'tprocess']&&_0x51aa7d['onPostproc'+'essing']),_0x51aa7d['onPostproc'+'essing']();}}const OM=[[],[],[]],$i=new Y(),br={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=0x8*0x7f+-0x116f+0xd77,this['shaderInst'+'ances']['length']=-0x1b76+0x1fd6+0x118*-0x4,this['isNewMater'+'ial']['length']=-0x114c+-0x135*-0x2+0xee2,this['lightMaskC'+'hanged']['length']=0x1b56+0x37*-0x9+-0x1967;}};function kM(_0x2a1d94){const _0x4929c8=[];for(let _0x18e2e5=-0x1d87+-0x5*-0x6b6+0x1*-0x407;_0x18e2e5<_0x2a1d94;++_0x18e2e5){const _0x2033be=Math['sqrt'](_0x18e2e5+(0x55*-0x2d+0x2e7*-0x9+0x3*0xdb0+0.5))/Math['sqrt'](_0x2a1d94);_0x4929c8['push'](_0x2033be);}return _0x4929c8;}function BM(_0x38e962){const _0x3ae024=[];for(let _0x1faffc=0x158a+0x26c*-0x8+-0x115*0x2;_0x1faffc<_0x38e962;_0x1faffc++){const _0x1fb141=_0x1faffc/_0x38e962,_0x1c955a=Math['sqrt'](_0x1fb141*_0x1fb141);_0x3ae024['push'](_0x1c955a);}return _0x3ae024;}const _i=class _i extends DM{constructor(_0x2aedc1){super(_0x2aedc1);const _0xd1b023=this['device'];this['_forwardDr'+'awCalls']=0x8*-0x259+0x13*-0x13d+0x2a4f,this['_materialS'+'witches']=-0x1848+0x515+-0x1*-0x1333,this['_depthMapT'+'ime']=-0xdfc+0x2568+-0x1*0x176c,this['_forwardTi'+'me']=0x1*-0x159b+-0x32a*0x5+0x256d,this['_sortTime']=0x1f7e+0x1*-0x1bff+-0x37f;const _0x14e2d0=_0xd1b023['scope'];this['fogColorId']=_0x14e2d0['resolve']('fog_color'),this['fogStartId']=_0x14e2d0['resolve']('fog_start'),this['fogEndId']=_0x14e2d0['resolve']('fog_end'),this['fogDensity'+'Id']=_0x14e2d0['resolve']('fog_densit'+'y'),this['ambientId']=_0x14e2d0['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x14e2d0['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x14e2d0['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x14e2d0['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x14e2d0['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x14e2d0['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(-0x1cf1+-0x4db+-0x1*-0x21d0),this['fogColor']=new Float32Array(-0x2f*0xbc+0xc9f+-0x1*-0x15e8),this['ambientCol'+'or']=new Float32Array(-0x9a9*-0x3+-0x112*-0x1+-0x1e0a),this['pcssDiskSa'+'mples']=kM(-0xae7+-0xf98+0x1a8f),this['pcssSphere'+'Samples']=BM(-0x33*-0x5d+0x1701+-0x2*0x14bc);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x141667){const _0x239014=this['ambientCol'+'or'];if($i['linear'](_0x141667['ambientLig'+'ht']),_0x239014[0x1ee0+-0x1ca+-0x1d16]=$i['r'],_0x239014[-0x2473+0xc84+0x17f0]=$i['g'],_0x239014[0xeb9+0x3*-0x4ff+0x46*0x1]=$i['b'],_0x141667['physicalUn'+'its']){for(let _0x17751e=0x1e28+0x1e24+-0x3c4c;_0x17751e<0x9b5*-0x4+-0x38e*0x2+-0x51b*-0x9;_0x17751e++)_0x239014[_0x17751e]*=_0x141667['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x239014),this['skyboxInte'+'nsityId']['setValue'](_0x141667['physicalUn'+'its']?_0x141667['skyboxLumi'+'nance']:_0x141667['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x141667['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x4a3ff8,_0x9a1a56){const _0x59f825='light'+_0x9a1a56;this['lightColor'+'Id'][_0x9a1a56]=_0x4a3ff8['resolve'](_0x59f825+'_color'),this['lightDir'][_0x9a1a56]=new Float32Array(0x1*-0x20a1+0x73*-0x6+0x2356),this['lightDirId'][_0x9a1a56]=_0x4a3ff8['resolve'](_0x59f825+'_direction'),this['lightShado'+'wMapId'][_0x9a1a56]=_0x4a3ff8['resolve'](_0x59f825+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x9a1a56]=_0x4a3ff8['resolve'](_0x59f825+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x9a1a56]=_0x4a3ff8['resolve'](_0x59f825+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x9a1a56]=_0x4a3ff8['resolve'](_0x59f825+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x9a1a56]=_0x4a3ff8['resolve'](_0x59f825+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x9a1a56]=_0x4a3ff8['resolve'](_0x59f825+'_radius'),this['lightPos'][_0x9a1a56]=new Float32Array(0x19dc*0x1+0x11*-0x1f0+0x717),this['lightPosId'][_0x9a1a56]=_0x4a3ff8['resolve'](_0x59f825+'_position'),this['lightWidth'][_0x9a1a56]=new Float32Array(0x8b5*0x2+0x1d7*0x6+-0x1c71),this['lightWidth'+'Id'][_0x9a1a56]=_0x4a3ff8['resolve'](_0x59f825+'_halfWidth'),this['lightHeigh'+'t'][_0x9a1a56]=new Float32Array(0x1*-0x2683+0x4*-0x9b+0x28f2),this['lightHeigh'+'tId'][_0x9a1a56]=_0x4a3ff8['resolve'](_0x59f825+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x9a1a56]=_0x4a3ff8['resolve'](_0x59f825+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x9a1a56]=_0x4a3ff8['resolve'](_0x59f825+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x9a1a56]=_0x4a3ff8['resolve'](_0x59f825+'_cookie'),this['lightCooki'+'eIntId'][_0x9a1a56]=_0x4a3ff8['resolve'](_0x59f825+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x9a1a56]=_0x4a3ff8['resolve'](_0x59f825+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x9a1a56]=_0x4a3ff8['resolve'](_0x59f825+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x9a1a56]=_0x4a3ff8['resolve'](_0x59f825+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x9a1a56]=_0x4a3ff8['resolve'](_0x59f825+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x9a1a56]=_0x4a3ff8['resolve'](_0x59f825+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x9a1a56]=_0x4a3ff8['resolve'](_0x59f825+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x9a1a56]=_0x4a3ff8['resolve'](_0x59f825+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x9a1a56]=_0x4a3ff8['resolve'](_0x59f825+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x5a652b,_0xb5c986,_0x298d67,_0x28518d,_0x2dbd5d){this['lightPos'][_0xb5c986][-0x5*0x235+0x24c6+-0x19bd]=_0x28518d['x']-_0x298d67['x']*_0x2dbd5d,this['lightPos'][_0xb5c986][-0x2375*-0x1+0x3*-0x6f+-0x2227]=_0x28518d['y']-_0x298d67['y']*_0x2dbd5d,this['lightPos'][_0xb5c986][0x5*-0x3f5+0x8a4+0x23b*0x5]=_0x28518d['z']-_0x298d67['z']*_0x2dbd5d,this['lightPosId'][_0xb5c986]['setValue'](this['lightPos'][_0xb5c986]);const _0x5f65b1=_0x5a652b['transformV'+'ector'](new T(-(-0xce2+0x49*0x4d+-0x913+0.5),0x3*-0xa1+0x3*0x6b1+-0xc*0x184,-0x605*-0x6+0x1*-0x1fda+0x16c*-0x3));this['lightWidth'][_0xb5c986][-0x2*-0x2ad+-0x4*0x647+0x13c2]=_0x5f65b1['x']*_0x2dbd5d,this['lightWidth'][_0xb5c986][-0x1f9d*0x1+-0x180d+0x37ab*0x1]=_0x5f65b1['y']*_0x2dbd5d,this['lightWidth'][_0xb5c986][0x1dfa+-0x229+0x7*-0x3f9]=_0x5f65b1['z']*_0x2dbd5d,this['lightWidth'+'Id'][_0xb5c986]['setValue'](this['lightWidth'][_0xb5c986]);const _0x27fe8e=_0x5a652b['transformV'+'ector'](new T(0x275*0x1+0x365*0x6+-0x16d3,-0xa31*0x1+0x96d+-0x1*-0xc4,-0x1349*-0x1+0xda3*-0x2+-0x199*-0x5+0.5));this['lightHeigh'+'t'][_0xb5c986][-0x25*-0x25+0xe7+0x19*-0x40]=_0x27fe8e['x']*_0x2dbd5d,this['lightHeigh'+'t'][_0xb5c986][-0x626*-0x1+-0xcf+-0x2ab*0x2]=_0x27fe8e['y']*_0x2dbd5d,this['lightHeigh'+'t'][_0xb5c986][-0x2*0x7+0x3d*-0x55+-0x7*-0x2e7]=_0x27fe8e['z']*_0x2dbd5d,this['lightHeigh'+'tId'][_0xb5c986]['setValue'](this['lightHeigh'+'t'][_0xb5c986]);}['dispatchDi'+'rectLights'](_0x226c41,_0x42f152,_0x1b7c5d){let _0x486a99=-0x186a+0x3*0xa81+0x17*-0x4f;const _0x7c60f7=this['device']['scope'];for(let _0x46b166=0x5*0x73b+0x59*0x65+-0x4744;_0x46b166<_0x226c41['length'];_0x46b166++){if(!(_0x226c41[_0x46b166]['mask']&_0x42f152))continue;const _0x5c1a69=_0x226c41[_0x46b166],_0x394e79=_0x5c1a69['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x486a99]||this['_resolveLi'+'ght'](_0x7c60f7,_0x486a99),this['lightColor'+'Id'][_0x486a99]['setValue'](_0x5c1a69['_colorLine'+'ar']),_0x394e79['getY'](_0x5c1a69['_direction'])['mulScalar'](-(0x1*0xdd+-0x3b9+0x1*0x2dd)),_0x5c1a69['_direction']['normalize'](),this['lightDir'][_0x486a99][-0x1*-0x1e3d+0x2*-0x902+-0x3*0x413]=_0x5c1a69['_direction']['x'],this['lightDir'][_0x486a99][0x1*0x2207+-0x1*0xd55+-0x14b1]=_0x5c1a69['_direction']['y'],this['lightDir'][_0x486a99][0xd*0x1c9+-0x2557+0xe24]=_0x5c1a69['_direction']['z'],this['lightDirId'][_0x486a99]['setValue'](this['lightDir'][_0x486a99]),_0x5c1a69['shape']!==yt&&this['setLTCDire'+'ctionalLig'+'ht'](_0x394e79,_0x486a99,_0x5c1a69['_direction'],_0x1b7c5d['_node']['getPositio'+'n'](),_0x1b7c5d['farClip']),_0x5c1a69['castShadow'+'s']){const _0x578542=_0x5c1a69['getRenderD'+'ata'](_0x1b7c5d,0xf9d+0xe47+-0x1*0x1de4),_0x4fc7ae=_0x5c1a69['_getUnifor'+'mBiasValue'+'s'](_0x578542);this['lightShado'+'wMapId'][_0x486a99]['setValue'](_0x578542['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x486a99]['setValue'](_0x578542['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x486a99]['setValue'](_0x5c1a69['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x486a99]['setValue'](_0x5c1a69['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x486a99]['setValue'](_0x5c1a69['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x486a99]['setValue'](0x1*0x815+-0x31b+0x4f9*-0x1-_0x5c1a69['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x486a99]['setValue'](_0x5c1a69['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x486a99]['setValue'](_0x5c1a69['_softShado'+'wParams']),_0x578542['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x486a99]['setValue'](_0x5c1a69['penumbraSi'+'ze']/_0x578542['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x578542['projection'+'Compensati'+'on']);const _0x3df3ed=_0x5c1a69['_shadowCam'+'eraParams'];_0x3df3ed['length']=0x347*0x7+-0x1*-0x25d3+-0x3cc0,_0x3df3ed[0x3*-0x2a7+0x74c+0xa9*0x1]=-0x117b*-0x2+0x2d5*0x7+0xa5*-0x55,_0x3df3ed[0x1725+0x121e+-0x2942]=_0x578542['shadowCame'+'ra']['_farClip'],_0x3df3ed[0xc82+0x2338+-0x6*0x7f4]=_0x578542['shadowCame'+'ra']['_nearClip'],_0x3df3ed[-0x1*-0x12df+0xf6b+-0x2247]=0xb7*-0x25+-0x3c9+-0x1*-0x1e3d,this['lightCamer'+'aParamsId'][_0x486a99]['setValue'](_0x3df3ed);const _0x2adb57=_0x5c1a69['_shadowRen'+'derParams'];_0x2adb57['length']=0xe*-0x18d+0x2647+-0xdf*0x13,_0x2adb57[-0x1*-0x24fc+0x20ea+0x2*-0x22f3]=_0x5c1a69['_shadowRes'+'olution'],_0x2adb57[0x1*0x1a81+-0x206+-0x1a*0xf1]=_0x4fc7ae['normalBias'],_0x2adb57[-0x1d09+0x2a9+0x1a62]=_0x4fc7ae['bias'],_0x2adb57[-0x21e9+0x17ea+0xa02]=0x186d+0x1c67+0xe*-0x3c6,this['lightShado'+'wParamsId'][_0x486a99]['setValue'](_0x2adb57);}_0x486a99++;}return _0x486a99;}['setLTCPosi'+'tionalLigh'+'t'](_0x532228,_0x133e56){const _0xf043a4=_0x532228['transformV'+'ector'](new T(-(0x5*-0xcd+0x7*0x25+0x2fe+0.5),0x6f1+-0x17c2+0x5*0x35d,0x1fcd+-0x1279*-0x1+0x596*-0x9));this['lightWidth'][_0x133e56][0x146*-0x19+0x6a6*0x2+0x1*0x128a]=_0xf043a4['x'],this['lightWidth'][_0x133e56][0x1cf5+0xe0f+-0x1*0x2b03]=_0xf043a4['y'],this['lightWidth'][_0x133e56][-0x262c+-0xf7b+0x35a9]=_0xf043a4['z'],this['lightWidth'+'Id'][_0x133e56]['setValue'](this['lightWidth'][_0x133e56]);const _0x277cac=_0x532228['transformV'+'ector'](new T(-0xcf5+-0x4a5*0x1+-0x6*-0x2ef,-0x3*0x7f3+-0x76*0x22+0x2785,-0x8*-0x26e+-0xc*-0xf5+-0x1eec+0.5));this['lightHeigh'+'t'][_0x133e56][-0x3*0x911+-0x20*0xb3+0x3193]=_0x277cac['x'],this['lightHeigh'+'t'][_0x133e56][-0x1*-0x25ab+-0x1*0x132b+-0x127f]=_0x277cac['y'],this['lightHeigh'+'t'][_0x133e56][0x1*0x1e71+0x11cf+0x5*-0x9a6]=_0x277cac['z'],this['lightHeigh'+'tId'][_0x133e56]['setValue'](this['lightHeigh'+'t'][_0x133e56]);}['dispatchOm'+'niLight'](_0x200e8c,_0x432674,_0x2824bc){const _0x349736=_0x432674['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x2824bc]||this['_resolveLi'+'ght'](_0x200e8c,_0x2824bc),this['lightRadiu'+'sId'][_0x2824bc]['setValue'](_0x432674['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x2824bc]['setValue'](_0x432674['_colorLine'+'ar']),_0x349736['getTransla'+'tion'](_0x432674['_position']),this['lightPos'][_0x2824bc][0x423*-0x7+-0x255b+0x4250]=_0x432674['_position']['x'],this['lightPos'][_0x2824bc][-0x1a3+-0x2667*-0x1+-0x24c3]=_0x432674['_position']['y'],this['lightPos'][_0x2824bc][-0x19c0+0x1c97+-0x2d5]=_0x432674['_position']['z'],this['lightPosId'][_0x2824bc]['setValue'](this['lightPos'][_0x2824bc]),_0x432674['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x349736,_0x2824bc),_0x432674['castShadow'+'s']){const _0x137335=_0x432674['getRenderD'+'ata'](null,-0x98*0x3b+-0x2327+0x462f);this['lightShado'+'wMapId'][_0x2824bc]['setValue'](_0x137335['shadowBuff'+'er']);const _0x546f15=_0x432674['_getUnifor'+'mBiasValue'+'s'](_0x137335),_0x12e063=_0x432674['_shadowRen'+'derParams'];_0x12e063['length']=0x11fa+0x65*0xb+-0x164d*0x1,_0x12e063[-0x17a4*0x1+0x7*0x37+0x761*0x3]=_0x432674['_shadowRes'+'olution'],_0x12e063[0xff5*-0x1+-0x8*-0x144+0x5d6]=_0x546f15['normalBias'],_0x12e063[0x1d7b*0x1+0x148*-0x19+-0x1*-0x28f]=_0x546f15['bias'],_0x12e063[0x28*0x8+0x5e8+-0x725]=(-0x1665+-0xe28+0x248e*0x1)/_0x432674['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x2824bc]['setValue'](_0x12e063),this['lightShado'+'wIntensity'][_0x2824bc]['setValue'](_0x432674['shadowInte'+'nsity']);const _0x328777=_0x432674['penumbraSi'+'ze']/_0x137335['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x2824bc]['setValue'](_0x328777);const _0x3d92d6=_0x432674['_shadowCam'+'eraParams'];_0x3d92d6['length']=0x948+0x1*0x25de+-0x2f22,_0x3d92d6[-0x1*0x1435+-0x2*-0xa02+0x31]=0x1fd9+-0xc4+-0x1f15,_0x3d92d6[-0x1d7*0x12+-0xa4b+0x15b5*0x2]=_0x137335['shadowCame'+'ra']['_farClip'],_0x3d92d6[-0x1*0x407+0x1f2+0x217]=_0x137335['shadowCame'+'ra']['_nearClip'],_0x3d92d6[0x1cc*-0xd+-0xb2b+-0x228a*-0x1]=0x1277+0x4*-0x3fa+-0x83*0x5,this['lightCamer'+'aParamsId'][_0x2824bc]['setValue'](_0x3d92d6);}_0x432674['_cookie']&&(this['lightCooki'+'eId'][_0x2824bc]['setValue'](_0x432674['_cookie']),this['lightShado'+'wMatrixId'][_0x2824bc]['setValue'](_0x349736['data']),this['lightCooki'+'eIntId'][_0x2824bc]['setValue'](_0x432674['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x82dee7,_0x55eed7,_0x563314){const _0x354d3e=_0x55eed7['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x563314]||this['_resolveLi'+'ght'](_0x82dee7,_0x563314),this['lightInAng'+'leId'][_0x563314]['setValue'](_0x55eed7['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x563314]['setValue'](_0x55eed7['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x563314]['setValue'](_0x55eed7['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x563314]['setValue'](_0x55eed7['_colorLine'+'ar']),_0x354d3e['getTransla'+'tion'](_0x55eed7['_position']),this['lightPos'][_0x563314][-0x1382*0x1+-0x3*-0x2d+-0x12fb*-0x1]=_0x55eed7['_position']['x'],this['lightPos'][_0x563314][0x23b*0x11+0x1ea6+-0x4490]=_0x55eed7['_position']['y'],this['lightPos'][_0x563314][-0xa7*-0x11+-0x13b2+0x89d]=_0x55eed7['_position']['z'],this['lightPosId'][_0x563314]['setValue'](this['lightPos'][_0x563314]),_0x55eed7['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x354d3e,_0x563314),_0x354d3e['getY'](_0x55eed7['_direction'])['mulScalar'](-(-0x353*-0x2+-0x14ac*0x1+0xe07)),_0x55eed7['_direction']['normalize'](),this['lightDir'][_0x563314][0x26ea+0x10e7*-0x1+-0x1603]=_0x55eed7['_direction']['x'],this['lightDir'][_0x563314][-0x2411+0x1*0xcf7+0x171b]=_0x55eed7['_direction']['y'],this['lightDir'][_0x563314][0x4ca+0x2*0x3ce+-0xc64]=_0x55eed7['_direction']['z'],this['lightDirId'][_0x563314]['setValue'](this['lightDir'][_0x563314]),_0x55eed7['castShadow'+'s']){const _0xb877c3=_0x55eed7['getRenderD'+'ata'](null,-0x52*0x5e+-0x1*0x94a+-0x29*-0xf6);this['lightShado'+'wMapId'][_0x563314]['setValue'](_0xb877c3['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x563314]['setValue'](_0xb877c3['shadowMatr'+'ix']['data']);const _0x2f15d5=_0x55eed7['_getUnifor'+'mBiasValue'+'s'](_0xb877c3),_0x4c142e=_0x55eed7['_shadowRen'+'derParams'];_0x4c142e['length']=-0x26*-0xdf+0x97a*0x4+-0x46fe,_0x4c142e[-0xdb*-0xb+0x1b58+0x24c1*-0x1]=_0x55eed7['_shadowRes'+'olution'],_0x4c142e[-0x92+-0x1980+0x1a13]=_0x2f15d5['normalBias'],_0x4c142e[0x1c3+-0x7e9+-0x1*-0x628]=_0x2f15d5['bias'],_0x4c142e[-0x1c4*0xa+0xb*-0x256+0x2b5d]=(0x1fe7*-0x1+-0x1*-0x96e+0x167a)/_0x55eed7['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x563314]['setValue'](_0x4c142e),this['lightShado'+'wIntensity'][_0x563314]['setValue'](_0x55eed7['shadowInte'+'nsity']);const _0x5d19a3=_0x55eed7['penumbraSi'+'ze']/_0xb877c3['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x4ebb5f=_0xb877c3['shadowCame'+'ra']['_fov']*Math['PI']/(0xc2f*-0x1+-0x2172+0x2e55),_0x352d7f=(0xe74+0x10*-0x63+0xf*-0x8d)/Math['tan'](_0x4ebb5f/(0x23e2+0x4*-0xf1+-0xa*0x336));this['lightShado'+'wSearchAre'+'aId'][_0x563314]['setValue'](_0x5d19a3*_0x352d7f);const _0x539a39=_0x55eed7['_shadowCam'+'eraParams'];_0x539a39['length']=0x100c+-0xc19+-0x3ef*0x1,_0x539a39[0x23e3+-0x9dd+-0x1*0x1a06]=-0x71*0x52+0x18e*-0xb+-0x471*-0xc,_0x539a39[-0x209a+-0x8c4+0x295f]=_0xb877c3['shadowCame'+'ra']['_farClip'],_0x539a39[0x16f7+-0x119a+-0x55b]=_0xb877c3['shadowCame'+'ra']['_nearClip'],_0x539a39[-0x1224+-0x1a9e+0x2cc5]=0x1*-0x5db+0xbc+0x51f,this['lightCamer'+'aParamsId'][_0x563314]['setValue'](_0x539a39);}if(_0x55eed7['_cookie']){if(!_0x55eed7['castShadow'+'s']){const _0xa80a5f=Ma['evalSpotCo'+'okieMatrix'](_0x55eed7);this['lightShado'+'wMatrixId'][_0x563314]['setValue'](_0xa80a5f['data']);}this['lightCooki'+'eId'][_0x563314]['setValue'](_0x55eed7['_cookie']),this['lightCooki'+'eIntId'][_0x563314]['setValue'](_0x55eed7['cookieInte'+'nsity']),_0x55eed7['_cookieTra'+'nsform']&&(_0x55eed7['_cookieTra'+'nsformUnif'+'orm'][0x11*0x89+0xd46+-0x165f]=_0x55eed7['_cookieTra'+'nsform']['x'],_0x55eed7['_cookieTra'+'nsformUnif'+'orm'][-0x79*-0x28+0x52b+-0x1812]=_0x55eed7['_cookieTra'+'nsform']['y'],_0x55eed7['_cookieTra'+'nsformUnif'+'orm'][0x986+-0x22d6+0x1cf*0xe]=_0x55eed7['_cookieTra'+'nsform']['z'],_0x55eed7['_cookieTra'+'nsformUnif'+'orm'][-0x1041+0x1977+0x3*-0x311]=_0x55eed7['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x563314]['setValue'](_0x55eed7['_cookieTra'+'nsformUnif'+'orm']),_0x55eed7['_cookieOff'+'setUniform'][-0x342+0x545+-0x5*0x67]=_0x55eed7['_cookieOff'+'set']['x'],_0x55eed7['_cookieOff'+'setUniform'][-0x2470+0x1*0x157+-0x118d*-0x2]=_0x55eed7['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x563314]['setValue'](_0x55eed7['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0xde2eb,_0x2772a1,_0x509bd2){let _0x5e7478=_0x509bd2;const _0x2b23c8=this['device']['scope'],_0x55b3df=_0xde2eb[Pe],_0x56eabf=_0x55b3df['length'];for(let _0x2ebe9c=-0x28*-0x81+-0x1a03*0x1+0x5db;_0x2ebe9c<_0x56eabf;_0x2ebe9c++){const _0x5b3d0f=_0x55b3df[_0x2ebe9c];_0x5b3d0f['mask']&_0x2772a1&&(this['dispatchOm'+'niLight'](_0x2b23c8,_0x5b3d0f,_0x5e7478),_0x5e7478++);}const _0x2423fd=_0xde2eb[Re],_0x282ff7=_0x2423fd['length'];for(let _0x21ec9e=-0x4*0x54f+-0xe8e+0x5f7*0x6;_0x21ec9e<_0x282ff7;_0x21ec9e++){const _0x2cd611=_0x2423fd[_0x21ec9e];_0x2cd611['mask']&_0x2772a1&&(this['dispatchSp'+'otLight'](_0x2b23c8,_0x2cd611,_0x5e7478),_0x5e7478++);}}['renderForw'+'ardPrepare'+'Materials'](_0x25566f,_0x3b188b,_0x559aad,_0x4a75ef,_0x5a0295,_0x515712){const _0x5ceccd=_0x25566f['fog']??this['scene']['fog'],_0x2049f5=_0x25566f['shaderPara'+'ms'];_0x2049f5['fog']=_0x5ceccd['type'],_0x2049f5['srgbRender'+'Target']=(_0x3b188b==null?void(0x1*0x101f+-0x1fae+0xf8f):_0x3b188b['isColorBuf'+'ferSrgb'](-0x136*-0x1b+-0xfb3*-0x1+-0x3065))??!(-0x926+0x21dd+-0x18b6);const _0x31b590=(_0x3cab11,_0x3b093d,_0x3f1a14,_0x5a4628)=>{br['drawCalls']['push'](_0x3cab11),br['shaderInst'+'ances']['push'](_0x3b093d),br['isNewMater'+'ial']['push'](_0x3f1a14),br['lightMaskC'+'hanged']['push'](_0x5a4628);};br['clear']();const _0x88d198=this['device'],_0x5d62ee=this['scene'],_0x4e70b4=_0x5d62ee['clusteredL'+'ightingEna'+'bled'],_0x40b1d6=(_0x5a0295==null?void(0x48f*-0x8+-0x5ad+0x2a25):_0x5a0295['getLightHa'+'sh'](_0x4e70b4))??-0xb3d*0x2+0x19*-0x35+0x1ba7;let _0x17e1b4=null,_0x137e23,_0xed30de;const _0x36a9fa=_0x559aad['length'];for(let _0x2af930=-0x1728*-0x1+-0x97f+0x10d*-0xd;_0x2af930<_0x36a9fa;_0x2af930++){const _0x3e66b2=_0x559aad[_0x2af930];if(_0x25566f===_i['skipRender'+'Camera']){if(_i['_skipRende'+'rCounter']>=_i['skipRender'+'After'])continue;_i['_skipRende'+'rCounter']++;}if(_0x5a0295){if(_0x5a0295['_skipRende'+'rCounter']>=_0x5a0295['skipRender'+'After'])continue;_0x5a0295['_skipRende'+'rCounter']++;}_0x3e66b2['ensureMate'+'rial'](_0x88d198);const _0x4e341b=_0x3e66b2['material'],_0xfe0381=_0x3e66b2['_shaderDef'+'s'],_0x1831f4=_0x3e66b2['mask'];_0x4e341b&&_0x4e341b===_0x17e1b4&&_0xfe0381!==_0x137e23&&(_0x17e1b4=null),_0x4e341b!==_0x17e1b4&&(this['_materialS'+'witches']++,_0x4e341b['_scene']=_0x5d62ee,_0x4e341b['dirty']&&(G['pushGpuMar'+'ker'](_0x88d198,'Node:\x20'+_0x3e66b2['node']['name']+(',\x20Material'+':\x20')+_0x4e341b['name']),_0x4e341b['updateUnif'+'orms'](_0x88d198,_0x5d62ee),_0x4e341b['dirty']=!(-0x2*-0x322+-0x79*0xb+-0x2*0x88),G['popGpuMark'+'er'](_0x88d198)));const _0x157254=_0x3e66b2['getShaderI'+'nstance'](_0x515712,_0x40b1d6,_0x5d62ee,_0x2049f5,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x4a75ef);_0x31b590(_0x3e66b2,_0x157254,_0x4e341b!==_0x17e1b4,!_0x17e1b4||_0x1831f4!==_0xed30de),_0x17e1b4=_0x4e341b,_0x137e23=_0xfe0381,_0xed30de=_0x1831f4;}return br;}['renderForw'+'ardInterna'+'l'](_0x4261c0,_0x540edc,_0xb5b51,_0x898493,_0x19336e,_0x15bd06){const _0x30221c=this['device'],_0x3edbce=this['scene'],_0x2f913a=-0x21be+0x19bf+0x800<<_0x898493,_0x177d3c=_0x15bd06?-(0x51b*0x7+0x2037+-0x9b5*0x7):-0x38d*-0x7+-0xf03+-0x9d7,_0x4157fe=_0x3edbce['clusteredL'+'ightingEna'+'bled'],_0x5c5b03=_0x540edc['drawCalls']['length'];for(let _0xba3d55=-0x258d+0x14*0x2+-0xc77*-0x3;_0xba3d55<_0x5c5b03;_0xba3d55++){const _0x274493=_0x540edc['drawCalls'][_0xba3d55],_0x547736=_0x540edc['isNewMater'+'ial'][_0xba3d55],_0x10298b=_0x540edc['lightMaskC'+'hanged'][_0xba3d55],_0x356b4f=_0x540edc['shaderInst'+'ances'][_0xba3d55],_0x564ba5=_0x274493['material'],_0x45dbec=_0x274493['mask'];if(_0x547736){if(_0x30221c['setShader'](_0x356b4f['shader'],!(-0x287*0x3+0x1bcf+-0x1f*0xa7)),_0x564ba5['setParamet'+'ers'](_0x30221c),_0x10298b){const _0x52d4d2=this['dispatchDi'+'rectLights'](_0xb5b51[oe],_0x45dbec,_0x4261c0);_0x4157fe||this['dispatchLo'+'calLights'](_0xb5b51,_0x45dbec,_0x52d4d2);}this['alphaTestI'+'d']['setValue'](_0x564ba5['alphaTest']),_0x30221c['setBlendSt'+'ate'](_0x564ba5['blendState']),_0x30221c['setDepthSt'+'ate'](_0x564ba5['depthState']),_0x30221c['setAlphaTo'+'Coverage'](_0x564ba5['alphaToCov'+'erage']);}G['pushGpuMar'+'ker'](_0x30221c,'Node:\x20'+_0x274493['node']['name']+(',\x20Material'+':\x20')+_0x564ba5['name']),this['setupCullM'+'ode'](_0x4261c0['_cullFaces'],_0x177d3c,_0x274493);const _0x479de1=_0x274493['stencilFro'+'nt']??_0x564ba5['stencilFro'+'nt'],_0x4da1f5=_0x274493['stencilBac'+'k']??_0x564ba5['stencilBac'+'k'];_0x30221c['setStencil'+'State'](_0x479de1,_0x4da1f5),_0x274493['setParamet'+'ers'](_0x30221c,_0x2f913a),_0x30221c['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x274493['id']);const _0x3e2683=_0x274493['mesh'];this['setVertexB'+'uffers'](_0x30221c,_0x3e2683),this['setMorphin'+'g'](_0x30221c,_0x274493['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x30221c,_0x274493),this['setupMeshU'+'niformBuff'+'ers'](_0x356b4f,_0x274493);const _0x724d37=_0x274493['renderStyl'+'e'];if(_0x30221c['setIndexBu'+'ffer'](_0x3e2683['indexBuffe'+'r'][_0x724d37]),_0x19336e==null||_0x19336e(_0x274493,_0xba3d55),_0x4261c0['xr']&&_0x4261c0['xr']['session']&&_0x4261c0['xr']['views']['list']['length']){const _0x12e71f=_0x4261c0['xr']['views'];for(let _0x480262=0x12c3+0xa60*-0x1+0x863*-0x1;_0x480262<_0x12e71f['list']['length'];_0x480262++){const _0x408d2b=_0x12e71f['list'][_0x480262];_0x30221c['setViewpor'+'t'](_0x408d2b['viewport']['x'],_0x408d2b['viewport']['y'],_0x408d2b['viewport']['z'],_0x408d2b['viewport']['w']),this['projId']['setValue'](_0x408d2b['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x408d2b['projMat']['data']),this['viewId']['setValue'](_0x408d2b['viewOffMat']['data']),this['viewInvId']['setValue'](_0x408d2b['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x408d2b['viewMat3']['data']),this['viewProjId']['setValue'](_0x408d2b['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x408d2b['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x480262),_0x480262===0x1f6a+-0x24+-0x1f46?this['drawInstan'+'ce'](_0x30221c,_0x274493,_0x3e2683,_0x724d37,!(0x6*0x49e+0x67*-0x5+-0x19b1*0x1)):this['drawInstan'+'ce2'](_0x30221c,_0x274493,_0x3e2683,_0x724d37),this['_forwardDr'+'awCalls']++;}}else this['drawInstan'+'ce'](_0x30221c,_0x274493,_0x3e2683,_0x724d37,!(-0x2588+-0x2c1*0x1+0x2849)),this['_forwardDr'+'awCalls']++;_0xba3d55<_0x5c5b03-(0x305+0x155c+-0x820*0x3)&&!_0x540edc['isNewMater'+'ial'][_0xba3d55+(-0x1e8e+-0xe*0x2e+0x2113)]&&_0x564ba5['setParamet'+'ers'](_0x30221c,_0x274493['parameters']),G['popGpuMark'+'er'](_0x30221c);}}['renderForw'+'ard'](_0x4d6fb4,_0x5868c0,_0x3dba47,_0x56fe3c,_0x5beb95,_0x305068,_0x4918af,_0x4e1b28){const _0x120f34=ne(),_0x419422=this['renderForw'+'ardPrepare'+'Materials'](_0x4d6fb4,_0x5868c0,_0x3dba47,_0x56fe3c,_0x4918af,_0x5beb95);this['renderForw'+'ardInterna'+'l'](_0x4d6fb4,_0x419422,_0x56fe3c,_0x5beb95,_0x305068,_0x4e1b28),br['clear'](),this['_forwardTi'+'me']+=ne()-_0x120f34;}['renderForw'+'ardLayer'](_0x36fb5a,_0x22216b,_0x1b31ef,_0x1cd4eb,_0x5b58d2,_0x45f484,_0x349aa0={}){const {scene:_0x29c813,device:_0x1197a4}=this,_0x18ab96=_0x29c813['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x36fb5a,_0x22216b);let _0x4c9c07,_0x5ef2db;if(_0x1b31ef){const _0x2e47f4=ne();_0x1b31ef['sortVisibl'+'e'](_0x36fb5a,_0x1cd4eb),this['_sortTime']+=ne()-_0x2e47f4;const _0x3a9d31=_0x1b31ef['getCulledI'+'nstances'](_0x36fb5a);_0x4c9c07=_0x1cd4eb?_0x3a9d31['transparen'+'t']:_0x3a9d31['opaque'],_0x29c813['immediate']['onPreRende'+'rLayer'](_0x1b31ef,_0x4c9c07,_0x1cd4eb),_0x1b31ef['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x29c813['ambientLig'+'ht'],_0x1b31ef['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x5ef2db=_0x1b31ef['splitLight'+'s'];}else _0x4c9c07=_0x349aa0['meshInstan'+'ces'],_0x5ef2db=_0x349aa0['splitLight'+'s']??OM;if(v['assert'](_0x4c9c07,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x18ab96){const _0x65d1b6=_0x349aa0['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x65d1b6['activate'](),_0x1b31ef&&!this['clustersDe'+'bugRendere'+'d']&&_0x29c813['lighting']['debugLayer']===_0x1b31ef['id']&&(this['clustersDe'+'bugRendere'+'d']=!(0xd23*0x1+0x1a6+0xec9*-0x1),Vu['render'](_0x65d1b6,this['scene']));}_0x29c813['_activeCam'+'era']=_0x36fb5a;const _0x4581d0=_0x36fb5a['fog']??this['scene']['fog'];this['setFogCons'+'tants'](_0x4581d0);const _0x253115=this['setCameraU'+'niforms'](_0x36fb5a,_0x22216b);_0x1197a4['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x45f484,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x253115);const _0x4c6f9f=_0x349aa0['clearColor']??!(0xdd8*-0x1+0xbcf+0x20a),_0x384692=_0x349aa0['clearDepth']??!(-0x1651*-0x1+0x128b+0x1*-0x28db),_0x2840a1=_0x349aa0['clearStenc'+'il']??!(-0x29*-0x3e+-0x4ae*-0x5+-0x2153);(_0x4c6f9f||_0x384692||_0x2840a1)&&this['clear'](_0x36fb5a,_0x4c6f9f,_0x384692,_0x2840a1);const _0x3d48aa=!!(_0x36fb5a['_flipFaces']^(_0x22216b==null?void(0xe*-0x182+-0x19a9+0x399*0xd):_0x22216b['flipY'])),_0x5e3ad9=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x36fb5a,_0x22216b,_0x4c9c07,_0x5ef2db,_0x5b58d2,null,_0x1b31ef,_0x3d48aa),_0x1b31ef&&(_0x1b31ef['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x5e3ad9);}['setFogCons'+'tants'](_0x4df802){if(_0x4df802['type']!==Fa){$i['linear'](_0x4df802['color']);const _0x261ac1=this['fogColor'];_0x261ac1[0x1cde+0xf76+-0x2c54]=$i['r'],_0x261ac1[0x802+-0x4bd*-0x1+0x65f*-0x2]=$i['g'],_0x261ac1[0x1*0x1dfa+-0x1*0xd11+-0x10e7]=$i['b'],this['fogColorId']['setValue'](_0x261ac1),_0x4df802['type']===zb?(this['fogStartId']['setValue'](_0x4df802['start']),this['fogEndId']['setValue'](_0x4df802['end'])):this['fogDensity'+'Id']['setValue'](_0x4df802['density']);}}['setSceneCo'+'nstants'](){const _0x213737=this['scene'];this['dispatchGl'+'obalLights'](_0x213737);const _0x1f7133=this['device'];this['_screenSiz'+'e'][-0xb65*0x2+-0x1*0x240c+-0x1bb*-0x22]=_0x1f7133['width'],this['_screenSiz'+'e'][-0x4c*-0x5c+0x6c3+0x62*-0x59]=_0x1f7133['height'],this['_screenSiz'+'e'][0x246a+0x1*0x20ef+0x3*-0x171d]=(0x3*-0x98+0xd81+-0xbb8)/_0x1f7133['width'],this['_screenSiz'+'e'][-0x1850+0x40d*-0x3+0x247a]=(-0xba5+0x1e86+-0x12e0)/_0x1f7133['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x131a2b,_0xc0943f){const _0x4cd14c=this['scene'];if(_0x131a2b['reset'](),_0x4cd14c['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x415c81,cookiesEnabled:_0x28a2fd}=_0x4cd14c['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x131a2b,_0x415c81,_0x28a2fd,this['lights'],this['localLight'+'s']),_0x131a2b['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x131a2b,this['localLight'+'s']);let _0x39a2c1=0xc95+0xbf2+0x17*-0x111,_0x5e6be0=!(0x26e4+0x1159*-0x2+-0x3*0x166),_0xb064bd=null;const _0x3cd8ab=_0xc0943f['_renderAct'+'ions'];for(let _0x2c2112=_0x39a2c1;_0x2c2112<_0x3cd8ab['length'];_0x2c2112++){const _0x1f1906=_0x3cd8ab[_0x2c2112],{layer:_0x51958e,camera:_0x3d2c50}=_0x1f1906;if(_0x1f1906['useCameraP'+'asses'])v['call'](()=>{_0x3d2c50['postEffect'+'s']['effects']['length']>0x1a6c*-0x1+0x1*0x1407+0x665&&v['warnOnce']('Camera\x20\x27'+_0x3d2c50['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x3d2c50['camera']['renderPass'+'es']['forEach'](_0x3f08e6=>{_0x131a2b['addRenderP'+'ass'](_0x3f08e6);});else{const _0x1f256e=_0x51958e['id']===Xt,_0x5afee2=_0x1f256e&&(_0x3d2c50['renderScen'+'eColorMap']||_0x3d2c50['renderScen'+'eDepthMap']);_0x5e6be0&&(_0x5e6be0=!(-0x127*-0xd+0xb03*0x2+-0x2500),_0x39a2c1=_0x2c2112,_0xb064bd=_0x1f1906['renderTarg'+'et']);const _0x133727=_0x3cd8ab[_0x2c2112+(-0xcef+-0xedb+0x1bcb)],_0x127050=(_0x133727?!_0x133727['useCameraP'+'asses']&&_0x133727['layer']['id']===Xt:!(0xb3f+0x25f0*0x1+-0x312e))&&(_0x3d2c50['renderScen'+'eColorMap']||_0x3d2c50['renderScen'+'eDepthMap']),_0x4a712b=_0x133727?_0x133727['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x133727['camera']['camera']):!(0x181e+0x122*0x20+-0x38d*0x11);if(!_0x133727||_0x133727['renderTarg'+'et']!==_0xb064bd||_0x4a712b||_0x127050||_0x5afee2){if(_0x1f256e&&_0x39a2c1===_0x2c2112||this['addMainRen'+'derPass'](_0x131a2b,_0xc0943f,_0xb064bd,_0x39a2c1,_0x2c2112),_0x1f256e){if(_0x3d2c50['renderScen'+'eColorMap']){const _0x4de880=_0x3d2c50['camera']['renderPass'+'ColorGrab'];_0x4de880['source']=_0x3d2c50['renderTarg'+'et'],_0x131a2b['addRenderP'+'ass'](_0x4de880);}_0x3d2c50['renderScen'+'eDepthMap']&&_0x131a2b['addRenderP'+'ass'](_0x3d2c50['camera']['renderPass'+'DepthGrab']);}if(_0x1f1906['triggerPos'+'tprocess']&&(_0x3d2c50!=null&&_0x3d2c50['onPostproc'+'essing'])){const _0x282f37=new FM(this['device'],this,_0x1f1906);_0x131a2b['addRenderP'+'ass'](_0x282f37);}_0x5e6be0=!(-0x11b7*0x1+0xd12+0x4a5);}}}}['addMainRen'+'derPass'](_0x410199,_0x4963f4,_0x5d8713,_0x5e4e87,_0x32a8e9){const _0x21bf12=new LM(this['device'],_0x4963f4,this['scene'],this);_0x21bf12['init'](_0x5d8713);const _0x33b524=_0x4963f4['_renderAct'+'ions'];for(let _0x5a56f1=_0x5e4e87;_0x5a56f1<=_0x32a8e9;_0x5a56f1++)_0x21bf12['addRenderA'+'ction'](_0x33b524[_0x5a56f1]);_0x410199['addRenderP'+'ass'](_0x21bf12);}['update'](_0x2ca75b){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x2ca75b),this['collectLig'+'hts'](_0x2ca75b),this['beginFrame'](_0x2ca75b),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x2ca75b),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};c(_i,'skipRender'+'Camera',null),c(_i,'_skipRende'+'rCounter',0x950*0x2+-0x496*-0x3+-0x2062),c(_i,'skipRender'+'After',-0x625+-0x8*0x17c+0x1205);let Gh=_i,zd=0x11*0x1f3+-0x1344+-0x43*0x35;const ja=[],Ol=new Set();function NM(_0x8c6ae6,_0x17ede3){return _0x8c6ae6['drawOrder']-_0x17ede3['drawOrder'];}function zM(_0xf0febb,_0xe29341){const _0x243c3c=_0xf0febb['_key'][Ei],_0x591a7f=_0xe29341['_key'][Ei];return _0x243c3c===_0x591a7f&&_0xf0febb['mesh']&&_0xe29341['mesh']?_0xe29341['mesh']['id']-_0xf0febb['mesh']['id']:_0x591a7f-_0x243c3c;}function UM(_0x4c9b1c,_0x5b086a){return _0x5b086a['zdist']-_0x4c9b1c['zdist'];}function VM(_0x4ad24e,_0x21650c){return _0x4ad24e['zdist']-_0x21650c['zdist'];}const GM=[null,NM,zM,UM,VM];class HM{constructor(){c(this,'opaque',[]),c(this,'transparen'+'t',[]);}}class Lr{constructor(_0x2d6dfc={}){c(this,'meshInstan'+'ces',[]),c(this,'meshInstan'+'cesSet',new Set()),c(this,'shadowCast'+'ers',[]),c(this,'shadowCast'+'ersSet',new Set()),c(this,'_visibleIn'+'stances',new WeakMap()),c(this,'_lights',[]),c(this,'_lightsSet',new Set()),c(this,'_clustered'+'LightsSet',new Set()),c(this,'_splitLigh'+'ts',[[],[],[]]),c(this,'_splitLigh'+'tsDirty',!(0x1707+0x6*-0x5c1+-0xb7f*-0x1)),c(this,'requiresLi'+'ghtCube',!(0x2ab*-0x5+-0x367*-0x5+-0x3ab)),c(this,'cameras',[]),c(this,'camerasSet',new Set()),c(this,'_dirtyComp'+'osition',!(-0x107+0x1c03+-0x1afb)),(_0x2d6dfc['id']!==void(0x221b+0x16a3*0x1+-0x38be)?(this['id']=_0x2d6dfc['id'],zd=Math['max'](this['id']+(-0x83*-0x35+-0x26*0x5d+0x8*-0x1aa),zd)):this['id']=zd++,this['name']=_0x2d6dfc['name'],this['_enabled']=_0x2d6dfc['enabled']??!(-0x22*-0xd1+-0x4a3*-0x1+-0x2065),this['_refCounte'+'r']=this['_enabled']?-0x4*-0x556+-0x26*-0x83+-0x1*0x28c9:0x1ae9+-0x1a45+-0xa4,this['opaqueSort'+'Mode']=_0x2d6dfc['opaqueSort'+'Mode']??Qb,this['transparen'+'tSortMode']=_0x2d6dfc['transparen'+'tSortMode']??Bm,_0x2d6dfc['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x2d6dfc['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x2d6dfc['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x2d6dfc['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x2d6dfc['clearStenc'+'ilBuffer'],this['onEnable']=_0x2d6dfc['onEnable'],this['onDisable']=_0x2d6dfc['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=-0x7*-0x2fe+-0x1ec0+0x1*0x9ce,this['_lightHash'+'Dirty']=!(0x2*-0xbbc+0x1954+0x5*-0x5f),this['_lightIdHa'+'sh']=0x234f+0x20a2+-0x43f1,this['_lightIdHa'+'shDirty']=!(-0x262d*0x1+0x16f*0x13+-0x1*-0xaf1),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=0xae8+-0x11*0xfb+0x5c3,this['_renderTim'+'e']=-0x45f*0x8+-0x7b*0x1+-0xb*-0x339,this['_forwardDr'+'awCalls']=-0x1*-0x1c4c+-0xee4*-0x2+-0x3a14,this['_shadowDra'+'wCalls']=-0x1ae6+0x220d+-0x727,this['_shaderVer'+'sion']=-(0x3c9*0x3+-0x3e3*0x1+-0x777));}set['enabled'](_0x1aef6c){_0x1aef6c!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(0xb5e+0x76a+-0x12c8),this['_enabled']=_0x1aef6c,_0x1aef6c?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x1a117d){this['_clearColo'+'rBuffer']=_0x1a117d,this['_dirtyComp'+'osition']=!(-0x1e42+-0x1201*0x1+0x3043);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x3921f6){this['_clearDept'+'hBuffer']=_0x3921f6,this['_dirtyComp'+'osition']=!(-0x163+-0x692+0x7f5);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x54d2c0){this['_clearSten'+'cilBuffer']=_0x54d2c0,this['_dirtyComp'+'osition']=!(0x7c2+-0x631+-0x191*0x1);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>0x70c+0x1607+-0x33b*0x9;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===0x9*0x3e3+-0x180f*0x1+-0xaec&&(this['_enabled']=!(0x143*-0x8+0xb46+0x12e*-0x1),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===-0x253*-0x8+-0x14d6+0x23f)this['_enabled']=!(0x1369+-0x61*-0x2+-0x142a),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===0x807*-0x1+0x2c8+0x53f){v['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x424a9f,_0x5c4e90){const _0x127025=this['meshInstan'+'ces'],_0x48d503=this['meshInstan'+'cesSet'];for(let _0x46f288=-0x1013*-0x1+0x208d+-0x30a0;_0x46f288<_0x424a9f['length'];_0x46f288++){const _0x1f9b38=_0x424a9f[_0x46f288];_0x48d503['has'](_0x1f9b38)||(_0x127025['push'](_0x1f9b38),_0x48d503['add'](_0x1f9b38),Ol['add'](_0x1f9b38['material']));}if(_0x5c4e90||this['addShadowC'+'asters'](_0x424a9f),Ol['size']>-0x9*0x344+0xdf3+0xf71){const _0x2848c1=this['_shaderVer'+'sion'];Ol['forEach'](_0x55e782=>{_0x2848c1>=0x888+0x26bd*-0x1+0x1e35&&_0x55e782['_shaderVer'+'sion']!==_0x2848c1&&(_0x55e782['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant']&&_0x55e782['clearVaria'+'nts'](),_0x55e782['_shaderVer'+'sion']=_0x2848c1);}),Ol['clear']();}}['removeMesh'+'Instances'](_0x20f58e,_0x13aad4){const _0x354f89=this['meshInstan'+'ces'],_0xb05876=this['meshInstan'+'cesSet'];for(let _0x3ddfd7=-0x945+-0x2483+0x2dc8;_0x3ddfd7<_0x20f58e['length'];_0x3ddfd7++){const _0x1738fb=_0x20f58e[_0x3ddfd7];if(_0xb05876['has'](_0x1738fb)){_0xb05876['delete'](_0x1738fb);const _0x3e3647=_0x354f89['indexOf'](_0x1738fb);_0x3e3647>=0x1a4+-0x96c+0x7c8&&_0x354f89['splice'](_0x3e3647,0x19f0+-0x513+-0x14dc);}}_0x13aad4||this['removeShad'+'owCasters'](_0x20f58e);}['addShadowC'+'asters'](_0x4ad33f){const _0x471599=this['shadowCast'+'ers'],_0x4dbc17=this['shadowCast'+'ersSet'];for(let _0x454a5b=-0x1f*-0x6+0x1218+-0x12d2;_0x454a5b<_0x4ad33f['length'];_0x454a5b++){const _0x3573c0=_0x4ad33f[_0x454a5b];_0x3573c0['castShadow']&&!_0x4dbc17['has'](_0x3573c0)&&(_0x4dbc17['add'](_0x3573c0),_0x471599['push'](_0x3573c0));}}['removeShad'+'owCasters'](_0x573ddf){const _0x19042d=this['shadowCast'+'ers'],_0x2240fc=this['shadowCast'+'ersSet'];for(let _0x3955ec=-0x65*-0x1c+0x29*0x94+-0x22c0;_0x3955ec<_0x573ddf['length'];_0x3955ec++){const _0x245ee2=_0x573ddf[_0x3955ec];if(_0x2240fc['has'](_0x245ee2)){_0x2240fc['delete'](_0x245ee2);const _0x1bd834=_0x19042d['indexOf'](_0x245ee2);_0x1bd834>=-0x22ea*-0x1+0x4*-0x902+-0xd*-0x16&&_0x19042d['splice'](_0x1bd834,0x2*-0x29+-0x34a*-0xa+-0x3*0xadb);}}}['clearMeshI'+'nstances'](_0x647753=!(0x2*-0x9d5+0x1*0x1beb+-0x840)){this['meshInstan'+'ces']['length']=-0xe27+-0x1e20+0x2c47,this['meshInstan'+'cesSet']['clear'](),_0x647753||(this['shadowCast'+'ers']['length']=-0x2*-0x535+-0x1eb2+0x1448,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(-0x152*-0xa+-0x5b8*0x4+-0x26b*-0x4),this['_lightIdHa'+'shDirty']=!(-0x1*-0x1141+-0x1*0x25f7+-0x2*-0xa5b),this['_splitLigh'+'tsDirty']=!(0x40d+-0x2f1+0x47*-0x4);}['hasLight'](_0x4b133e){return this['_lightsSet']['has'](_0x4b133e);}['addLight'](_0x23ae19){const _0x559712=_0x23ae19['light'];this['_lightsSet']['has'](_0x559712)||(this['_lightsSet']['add'](_0x559712),this['_lights']['push'](_0x559712),this['markLights'+'Dirty']()),_0x559712['type']!==oe&&this['_clustered'+'LightsSet']['add'](_0x559712);}['removeLigh'+'t'](_0xeefa9a){const _0x340b76=_0xeefa9a['light'];this['_lightsSet']['has'](_0x340b76)&&(this['_lightsSet']['delete'](_0x340b76),this['_lights']['splice'](this['_lights']['indexOf'](_0x340b76),-0x1517+0x124+0x1*0x13f4),this['markLights'+'Dirty']()),_0x340b76['type']!==oe&&this['_clustered'+'LightsSet']['delete'](_0x340b76);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x249994=>_0x249994['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=0x2*-0xfc5+0x2199+-0x20f,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(-0x1e87+0x583*0x3+-0xdff*-0x1);const _0x3facdc=this['_splitLigh'+'ts'];for(let _0x187053=-0x7b*-0x9+0x1f*-0xa6+0xfc7;_0x187053<_0x3facdc['length'];_0x187053++)_0x3facdc[_0x187053]['length']=0x1*-0x14c4+-0x20a7+0x356b;const _0x29298c=this['_lights'];for(let _0x2f98df=-0x2610+0x219e*-0x1+0x47ae;_0x2f98df<_0x29298c['length'];_0x2f98df++){const _0x4f2633=_0x29298c[_0x2f98df];_0x4f2633['enabled']&&_0x3facdc[_0x4f2633['_type']]['push'](_0x4f2633);}for(let _0x3cd0d6=0x2*0x460+-0x4a5*0x3+-0x1*-0x52f;_0x3cd0d6<_0x3facdc['length'];_0x3cd0d6++)_0x3facdc[_0x3cd0d6]['sort']((_0x269e19,_0x52092d)=>_0x269e19['key']-_0x52092d['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x3b0c9b,_0x28902a,_0x603079){let _0x6adfea=0x18d+-0x118a+0xffd;const _0x305b1f=this['_lights'];for(let _0x3a1789=-0x1*-0xfed+0x1*-0x229b+0x12ae;_0x3a1789<_0x305b1f['length'];_0x3a1789++){const _0x55a04c=_0x305b1f[_0x3a1789]['type']!==oe;(_0x3b0c9b&&_0x55a04c||_0x28902a&&!_0x55a04c)&&ja['push'](_0x603079?_0x305b1f[_0x3a1789]['id']:_0x305b1f[_0x3a1789]['key']);}return ja['length']>0x237e+-0x3e1+0x1*-0x1f9d&&(ja['sort'](),_0x6adfea=Zy(ja),ja['length']=-0x129d*0x2+-0x16f7*0x1+0x3c31),_0x6adfea;}['getLightHa'+'sh'](_0x286879){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(0x2424+0x110d+-0x353*0x10),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x286879,!(-0x799+-0x10c1+-0x3*-0x81e),!(-0x1cb9+-0x18fd*0x1+0x1*0x35b7))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(-0x2458+-0x83e*-0x2+-0x69f*-0x3),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(-0x1*-0x55d+-0x2*-0x435+0x1*-0xdc7),!(0x1*-0x1b85+-0x1f81+0x3b07),!(-0x214f+-0xd*0x1e2+0x39c9))),this['_lightIdHa'+'sh'];}['addCamera'](_0x5a3758){this['camerasSet']['has'](_0x5a3758['camera'])||(this['camerasSet']['add'](_0x5a3758['camera']),this['cameras']['push'](_0x5a3758),this['_dirtyComp'+'osition']=!(-0x2*-0xeda+-0x169c+-0x718*0x1));}['removeCame'+'ra'](_0x5bac0c){if(this['camerasSet']['has'](_0x5bac0c['camera'])){this['camerasSet']['delete'](_0x5bac0c['camera']);const _0x1649da=this['cameras']['indexOf'](_0x5bac0c);this['cameras']['splice'](_0x1649da,0x133b*0x1+0x1465+-0x1b9*0x17),this['_dirtyComp'+'osition']=!(0x1*-0x576+-0xb*-0x359+-0x1f5d);}}['clearCamer'+'as'](){this['cameras']['length']=-0x2633+-0x2527*-0x1+0x10c,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(0x3*-0x807+-0x19c5*0x1+0x31da);}['_calculate'+'SortDistan'+'ces'](_0x4fcc78,_0x45b078,_0x3b0fec,_0x39a44d){for(let _0x21ae2c=0x8c9*-0x3+-0x1c26+-0x1*-0x3681;_0x21ae2c<_0x45b078;_0x21ae2c++){const _0x29efdc=_0x4fcc78[_0x21ae2c];if(_0x29efdc['layer']<=Vb)continue;if(_0x29efdc['calculateS'+'ortDistanc'+'e']){_0x29efdc['zdist']=_0x29efdc['calculateS'+'ortDistanc'+'e'](_0x29efdc,_0x3b0fec,_0x39a44d);continue;}const _0xfd0009=_0x29efdc['aabb']['center'],_0x209bf9=_0xfd0009['x']-_0x3b0fec['x'],_0x3e4ebc=_0xfd0009['y']-_0x3b0fec['y'],_0x4b47f8=_0xfd0009['z']-_0x3b0fec['z'];_0x29efdc['zdist']=_0x209bf9*_0x39a44d['x']+_0x3e4ebc*_0x39a44d['y']+_0x4b47f8*_0x39a44d['z'];}}['getCulledI'+'nstances'](_0x3e20a8){let _0x4988bd=this['_visibleIn'+'stances']['get'](_0x3e20a8);return _0x4988bd||(_0x4988bd=new HM(),this['_visibleIn'+'stances']['set'](_0x3e20a8,_0x4988bd)),_0x4988bd;}['sortVisibl'+'e'](_0x4e6902,_0x4599e4){const _0x1cb75d=_0x4599e4?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x1cb75d===dh)return;const _0x4ab82f=this['getCulledI'+'nstances'](_0x4e6902),_0x20e276=_0x4599e4?_0x4ab82f['transparen'+'t']:_0x4ab82f['opaque'],_0x5cd912=_0x4e6902['node'];if(_0x1cb75d===ew){const _0x5b260d=_0x5cd912['getPositio'+'n'](),_0x5acbe3=_0x5cd912['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x20e276,_0x20e276['length'],_0x5b260d,_0x5acbe3),this['customSort'+'Callback']&&_0x20e276['sort'](this['customSort'+'Callback']);}else{if(_0x1cb75d===Bm||_0x1cb75d===Jb){const _0x472855=_0x5cd912['getPositio'+'n'](),_0x2d0cbd=_0x5cd912['forward'];this['_calculate'+'SortDistan'+'ces'](_0x20e276,_0x20e276['length'],_0x472855,_0x2d0cbd);}_0x20e276['sort'](GM[_0x1cb75d]);}}}const WM=(_0x6af120,_0xe355c9)=>_0x6af120['priority']-_0xe355c9['priority'],No=_0x11e432=>_0x11e432['sort'](WM);class S_ extends ce{constructor(_0x864549='Untitled'){super(),c(this,'layerList',[]),c(this,'layerIdMap',new Map()),c(this,'layerNameM'+'ap',new Map()),c(this,'layerOpaqu'+'eIndexMap',new Map()),c(this,'layerTrans'+'parentInde'+'xMap',new Map()),c(this,'subLayerLi'+'st',[]),c(this,'subLayerEn'+'abled',[]),c(this,'cameras',[]),c(this,'_renderAct'+'ions',[]),c(this,'_dirty',!(0x19*0x115+-0x1f10+0x404)),(this['name']=_0x864549,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x5d2b59=>_0x5d2b59['destroy']()),this['_renderAct'+'ions']['length']=0x1a6f+-0xc38+-0x3*0x4bd;}['_update'](){const _0x28cc52=this['layerList']['length'];if(!this['_dirty']){for(let _0x27413c=-0x1786+0x5fe+-0x231*-0x8;_0x27413c<_0x28cc52;_0x27413c++)if(this['layerList'][_0x27413c]['_dirtyComp'+'osition']){this['_dirty']=!(-0xdcb+-0x14aa+0x2275);break;}}if(this['_dirty']){this['_dirty']=!(0x2*-0x2c0+0x1c73+-0x16f2),this['cameras']['length']=-0x17*0x9+0x1d72+-0x1*0x1ca3;for(let _0x1372d1=0x1*-0x23f9+0x169e*-0x1+-0x11b*-0x35;_0x1372d1<_0x28cc52;_0x1372d1++){const _0x40fcb2=this['layerList'][_0x1372d1];_0x40fcb2['_dirtyComp'+'osition']=!(0x17f0+0x4*0x91d+0x1421*-0x3);for(let _0x3f9790=0x15b5*-0x1+0x4c4+0x1*0x10f1;_0x3f9790<_0x40fcb2['cameras']['length'];_0x3f9790++){const _0x2b7a42=_0x40fcb2['cameras'][_0x3f9790];this['cameras']['indexOf'](_0x2b7a42)<0x4*0x273+0x1d6f+-0x273b*0x1&&this['cameras']['push'](_0x2b7a42);}}this['cameras']['length']>-0x183f*-0x1+0xe9+-0x1927&&No(this['cameras']);let _0x35db92=-0x21c9+-0xea7+0x3070;this['destroyRen'+'derActions']();for(let _0x32b604=-0x58*0x35+-0x1c*0xd7+0x4*0xa6f;_0x32b604<this['cameras']['length'];_0x32b604++){const _0x49d62c=this['cameras'][_0x32b604];if(_0x49d62c['camera']['renderPass'+'es']['length']>-0x255e+0x63d*-0x4+-0x1f29*-0x2){this['addDummyRe'+'nderAction'](_0x35db92,_0x49d62c),_0x35db92++;continue;}let _0x3bb4ad=!(0x8e*-0x8+0x130c+0x11*-0xdc);const _0x3536b0=_0x35db92;let _0x4f285b=null,_0x426024=!(-0xdb3+-0x1cae+-0xaf*-0x3e);for(let _0x2eae59=-0x1*-0x77e+0x3da+0x16*-0x84;_0x2eae59<_0x28cc52;_0x2eae59++){const _0x216607=this['layerList'][_0x2eae59];if(_0x216607['enabled']&&this['subLayerEn'+'abled'][_0x2eae59]&&_0x216607['cameras']['length']>0x7e3*0x3+0x20d+-0x19b6&&_0x49d62c['layers']['indexOf'](_0x216607['id'])>=-0x14e2+-0x804+0x19b*0x12){!_0x426024&&_0x216607['id']===_0x49d62c['disablePos'+'tEffectsLa'+'yer']&&(_0x426024=!(0x1e71+0x19ef+-0x3860),_0x4f285b&&(_0x4f285b['triggerPos'+'tprocess']=!(0x2025*-0x1+-0x1*0x1eb3+0xfb6*0x4)));const _0xb150ba=this['subLayerLi'+'st'][_0x2eae59];_0x4f285b=this['addRenderA'+'ction'](_0x35db92,_0x216607,_0xb150ba,_0x49d62c,_0x3bb4ad,_0x426024),_0x35db92++,_0x3bb4ad=!(0x18ac*-0x1+-0x21ae+0x3a5b*0x1);}}_0x3536b0<_0x35db92&&(_0x4f285b['lastCamera'+'Use']=!(0x20f8+0xe5d+-0x2f55)),!_0x426024&&_0x4f285b&&(_0x4f285b['triggerPos'+'tprocess']=!(-0x183e+0x43a*0x1+0x1404)),_0x49d62c['renderTarg'+'et']&&_0x49d62c['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x3536b0-(0x25*-0xf7+-0x233e+0x46f2),_0x49d62c);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x1be045){v['assert'](this['_renderAct'+'ions']['length']===_0x1be045);const _0x46b139=new D0();return this['_renderAct'+'ions']['push'](_0x46b139),_0x46b139;}['addDummyRe'+'nderAction'](_0x428c2b,_0x53d9de){const _0x16b456=this['getNextRen'+'derAction'](_0x428c2b);_0x16b456['camera']=_0x53d9de,_0x16b456['useCameraP'+'asses']=!(-0x135d+0x1cdf+-0x982);}['addRenderA'+'ction'](_0x5e3d4f,_0x156e28,_0x574f13,_0x30eb6d,_0x5d0bf3,_0x3cc68e){let _0x53a3cb=_0x156e28['id']!==Xt?_0x30eb6d['renderTarg'+'et']:null,_0x55c228=!(0xb82+0x94*-0x1f+-0x1*-0x66b);const _0x23ce93=this['_renderAct'+'ions'];for(let _0x2e18e1=_0x5e3d4f-(0x1*0x2009+-0x17ad+-0x85b);_0x2e18e1>=0x1*-0x116+-0x253d+0x1*0x2653;_0x2e18e1--)if(_0x23ce93[_0x2e18e1]['camera']===_0x30eb6d&&_0x23ce93[_0x2e18e1]['renderTarg'+'et']===_0x53a3cb){_0x55c228=!(-0x581*0x1+0x167c+-0x10fb);break;}_0x3cc68e&&_0x30eb6d['postEffect'+'sEnabled']&&(_0x53a3cb=null);const _0x4c7b75=this['getNextRen'+'derAction'](_0x5e3d4f);_0x4c7b75['triggerPos'+'tprocess']=!(0x1b0b+0x268+0x1*-0x1d72),_0x4c7b75['layer']=_0x156e28,_0x4c7b75['transparen'+'t']=_0x574f13,_0x4c7b75['camera']=_0x30eb6d,_0x4c7b75['renderTarg'+'et']=_0x53a3cb,_0x4c7b75['firstCamer'+'aUse']=_0x5d0bf3,_0x4c7b75['lastCamera'+'Use']=!(0x2*-0x8f3+0x1*0x24cb+-0x12e4);const _0x4e7847=_0x5d0bf3||!_0x55c228,_0x588b5c=_0x156e28['clearColor'+'Buffer']||_0x156e28['clearDepth'+'Buffer']||_0x156e28['clearStenc'+'ilBuffer'];return(_0x4e7847||_0x588b5c)&&_0x4c7b75['setupClear'+'s'](_0x4e7847?_0x30eb6d:void(0x1251*-0x1+-0x509*-0x1+0xd48),_0x156e28),_0x4c7b75;}['propagateR'+'enderTarge'+'t'](_0x3ca51e,_0x52e677){for(let _0x353665=_0x3ca51e;_0x353665>=-0x36f*0x4+-0x1ede+0x2c9a;_0x353665--){const _0x8b3276=this['_renderAct'+'ions'][_0x353665],_0x562db7=_0x8b3276['layer'];if(_0x8b3276['renderTarg'+'et']&&_0x562db7['id']!==Xt)break;if(_0x562db7['id']===Xt)continue;if(_0x8b3276['useCameraP'+'asses'])break;const _0x5810d9=_0x8b3276==null?void(0x14f8+-0x21be+0xcc6):_0x8b3276['camera']['camera'];if(_0x5810d9&&(!_0x52e677['camera']['rect']['equals'](_0x5810d9['rect'])||!_0x52e677['camera']['scissorRec'+'t']['equals'](_0x5810d9['scissorRec'+'t'])))break;_0x8b3276['renderTarg'+'et']=_0x52e677['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(Xs['get'](pl)){v['trace'](pl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x39554f=0x835*-0x2+0x86c+0x7fe;_0x39554f<this['_renderAct'+'ions']['length'];_0x39554f++){const _0x209dbf=this['_renderAct'+'ions'][_0x39554f],_0x123d4d=_0x209dbf['camera'];if(_0x209dbf['useCameraP'+'asses'])v['trace'](pl,_0x39554f+('CustomPass'+'es\x20Cam:\x20')+(_0x123d4d?_0x123d4d['entity']['name']:'-'));else{const _0x1199af=_0x209dbf['layer'],_0x37c15a=_0x1199af['enabled']&&this['isEnabled'](_0x1199af,_0x209dbf['transparen'+'t']),_0x2f84ab=(_0x209dbf['clearColor']?'Color\x20':'.....\x20')+(_0x209dbf['clearDepth']?'Depth\x20':'.....\x20')+(_0x209dbf['clearStenc'+'il']?'Stencil':'.......');v['trace'](pl,_0x39554f+('\x20Cam:\x20'+(_0x123d4d?_0x123d4d['entity']['name']:'-'))['padEnd'](-0x469+-0x4*0x1c+0x3*0x1a5,'\x20')+('\x20Lay:\x20'+_0x1199af['name'])['padEnd'](-0x73a*0x3+-0x1*0xedc+0x24a0,'\x20')+(_0x209dbf['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x37c15a?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x209dbf['renderTarg'+'et']?_0x209dbf['renderTarg'+'et']['name']:'-'))['padEnd'](-0x1d92+0x1146+0xe*0xe3,'\x20')+'\x20Clear:\x20'+_0x2f84ab+(_0x209dbf['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x209dbf['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x209dbf['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x39bf4c){const _0x48e655=this['layerIdMap']['get'](_0x39bf4c['id'])===_0x39bf4c;return v['assert'](!_0x48e655,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x39bf4c['name']),_0x48e655;}['_isSublaye'+'rAdded'](_0x561d23,_0x1cc6bd){return(_0x1cc6bd?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x561d23)!==void(0x1cbd+-0x24f*-0xd+-0x3ac0)?(v['error']('Sublayer\x20'+_0x561d23['name']+(',\x20transpar'+'ent:\x20')+_0x1cc6bd+('\x20is\x20alread'+'y\x20added.')),!(-0xf47*0x1+0x153d+-0x5f6*0x1)):!(-0x2057*0x1+0x1*-0x2011+-0x5db*-0xb);}['push'](_0x52698a){this['_isLayerAd'+'ded'](_0x52698a)||(this['layerList']['push'](_0x52698a),this['layerList']['push'](_0x52698a),this['_opaqueOrd'+'er'][_0x52698a['id']]=this['subLayerLi'+'st']['push'](!(0x14f6+-0x1d*-0x97+-0x2610))-(0xa74+0x7d5+0x1248*-0x1),this['_transpare'+'ntOrder'][_0x52698a['id']]=this['subLayerLi'+'st']['push'](!(0x1*0x24af+-0x24f3+0x22*0x2))-(-0x1*-0x140d+0x1*0x1b0d+-0x2f19),this['subLayerEn'+'abled']['push'](!(0xc2c+-0x2ad*0xa+0xe96)),this['subLayerEn'+'abled']['push'](!(0x3d1*-0x8+0x56*-0x47+0x3662)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x1*0x1e9+0xce*-0x1b+0x13d1),this['fire']('add',_0x52698a));}['insert'](_0x55e881,_0x1e9a22){if(this['_isLayerAd'+'ded'](_0x55e881))return;this['layerList']['splice'](_0x1e9a22,-0x2106+-0x2*-0x117e+-0x1*0x1f6,_0x55e881,_0x55e881),this['subLayerLi'+'st']['splice'](_0x1e9a22,-0x135*0x1f+0x917+0x1c54,!(-0x1*0x1be+0x234c+0x7*-0x4cb),!(0x931+0x11f9+-0x16e*0x13));const _0x2b9411=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x1e9a22,_0x2b9411-(0x222a+0x466+-0x268f)),this['_updateTra'+'nsparentOr'+'der'](_0x1e9a22,_0x2b9411-(-0x88*-0x26+0x1*-0xc1+-0x1*0x136e)),this['subLayerEn'+'abled']['splice'](_0x1e9a22,-0x1*0xc56+0x12e8+-0x349*0x2,!(-0xb02+-0x59*0x17+0x1301),!(0x25*-0xec+-0x1c56*-0x1+0x5c6)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x5b4+0x14b4+0x28*-0x60),this['fire']('add',_0x55e881);}['remove'](_0x5b301b){let _0x86441e=this['layerList']['indexOf'](_0x5b301b);for(delete this['_opaqueOrd'+'er'][_0x86441e],delete this['_transpare'+'ntOrder'][_0x86441e];_0x86441e>=-0x136d+-0x265f+0x39cc;)this['layerList']['splice'](_0x86441e,0x2ae+0x634*0x5+0x159*-0x19),this['subLayerLi'+'st']['splice'](_0x86441e,0x180a+-0x1dd9+0x5d0),this['subLayerEn'+'abled']['splice'](_0x86441e,-0x3*-0x4bd+0x137*-0x13+0x8df),_0x86441e=this['layerList']['indexOf'](_0x5b301b),this['_dirty']=!(-0x3d*-0x11+0x53*-0x26+0x845),this['fire']('remove',_0x5b301b);const _0x151d9e=this['layerList']['length'];this['_updateOpa'+'queOrder'](0x1342+0xce1+0x13*-0x1b1,_0x151d9e-(-0x14d4+-0x142f+-0x19*-0x1a4)),this['_updateTra'+'nsparentOr'+'der'](-0x24*0xce+-0x5a8+-0x10*-0x22a,_0x151d9e-(0xc32*-0x2+-0xf85+0x27ea)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x19402e){this['_isSublaye'+'rAdded'](_0x19402e,!(-0x71b+-0x1902+-0x100f*-0x2))||(this['layerList']['push'](_0x19402e),this['_opaqueOrd'+'er'][_0x19402e['id']]=this['subLayerLi'+'st']['push'](!(0x1f8d+0x1*-0x1609+0x983*-0x1))-(-0x1c1a+0x128c+0x1*0x98f),this['subLayerEn'+'abled']['push'](!(-0x1a87+0x1609+-0x1*-0x47e)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1*-0x1c4d+-0x2614+0x9c7),this['fire']('add',_0x19402e));}['insertOpaq'+'ue'](_0x4cac1f,_0x479abe){if(this['_isSublaye'+'rAdded'](_0x4cac1f,!(-0xae0+0x1777*-0x1+0x2258)))return;this['layerList']['splice'](_0x479abe,-0x3*0xac5+0x1*0x5f7+0x1a58,_0x4cac1f),this['subLayerLi'+'st']['splice'](_0x479abe,-0x3f0+0x6c1+-0x2d1,!(-0xdb*0x1d+0x1001+0x8cf));const _0x3b1be2=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x479abe,_0x3b1be2-(0xf4d*0x2+0x140*-0xe+-0xd19)),this['subLayerEn'+'abled']['splice'](_0x479abe,-0x156d+0x11d4+0x399,!(-0x4d3+-0x1cf0+-0x1*-0x21c3)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x100a*0x1+0x81b*0x4+-0x2*0x183b),this['fire']('add',_0x4cac1f);}['removeOpaq'+'ue'](_0x586812){for(let _0x2277ac=-0x7*0x33f+-0x42c+0x1ae5,_0x50afe4=this['layerList']['length'];_0x2277ac<_0x50afe4;_0x2277ac++)if(this['layerList'][_0x2277ac]===_0x586812&&!this['subLayerLi'+'st'][_0x2277ac]){this['layerList']['splice'](_0x2277ac,0x1df4+0xe3e+-0x2c31),this['subLayerLi'+'st']['splice'](_0x2277ac,-0x2e+0xb*0x207+-0x161e),_0x50afe4--,this['_updateOpa'+'queOrder'](_0x2277ac,_0x50afe4-(0x6b*0x17+-0x1a*-0x129+-0x6*0x6a1)),this['subLayerEn'+'abled']['splice'](_0x2277ac,-0x241a+-0x9b1+0x2dcc),this['_dirty']=!(0x66*0x5b+-0x130d+-0x1135*0x1),this['layerList']['indexOf'](_0x586812)<-0x2129+0x1478+-0x9*-0x169&&this['fire']('remove',_0x586812);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x2e3add){this['_isSublaye'+'rAdded'](_0x2e3add,!(-0x5b5+0x26*0x89+0x2ed*-0x5))||(this['layerList']['push'](_0x2e3add),this['_transpare'+'ntOrder'][_0x2e3add['id']]=this['subLayerLi'+'st']['push'](!(0x1df3+-0x1f18+0x125))-(0x2*-0x9f5+-0x15ea+0x29d5),this['subLayerEn'+'abled']['push'](!(-0x493*-0x5+-0x6*-0x22d+-0x1*0x23ed)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x2196+-0x329*0x1+0x24bf),this['fire']('add',_0x2e3add));}['insertTran'+'sparent'](_0x27bc1b,_0x1fd60f){if(this['_isSublaye'+'rAdded'](_0x27bc1b,!(-0x51*0x55+0x8d*-0x36+0x38a3)))return;this['layerList']['splice'](_0x1fd60f,-0x1625*0x1+0x1413+-0x5*-0x6a,_0x27bc1b),this['subLayerLi'+'st']['splice'](_0x1fd60f,0x14fb+-0x415*0x2+0xcd1*-0x1,!(-0xee5+-0x1*0x1f8b+0x8*0x5ce));const _0x5ddb9c=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x1fd60f,_0x5ddb9c-(-0x1ab9+-0xda*-0x25+-0x99*0x8)),this['subLayerEn'+'abled']['splice'](_0x1fd60f,0x211*0x1+-0x7e*0x31+0x160d,!(0xbd1*0x1+-0x7*-0x583+0x1*-0x3266)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x1ff5*-0x1+0x1*-0x1f3f+0x3f34),this['fire']('add',_0x27bc1b);}['removeTran'+'sparent'](_0x55f4be){for(let _0x446975=0x441+0x578+-0x9b9,_0x71982b=this['layerList']['length'];_0x446975<_0x71982b;_0x446975++)if(this['layerList'][_0x446975]===_0x55f4be&&this['subLayerLi'+'st'][_0x446975]){this['layerList']['splice'](_0x446975,0xa6d*0x3+-0x3e*-0x89+-0x4074),this['subLayerLi'+'st']['splice'](_0x446975,-0x3d*-0x3+-0x814+-0x52*-0x17),_0x71982b--,this['_updateTra'+'nsparentOr'+'der'](_0x446975,_0x71982b-(0x1938+0x124e+-0x2b85)),this['subLayerEn'+'abled']['splice'](_0x446975,0x5a6+-0xeb1*-0x1+-0x1456*0x1),this['_dirty']=!(-0x1*0x6f+0x3af+-0x340),this['layerList']['indexOf'](_0x55f4be)<-0x1*0x321+0x228+0xf9&&this['fire']('remove',_0x55f4be);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x222916){return this['layerOpaqu'+'eIndexMap']['get'](_0x222916)??-(0x1a14+0x239c+-0x1*0x3daf);}['getTranspa'+'rentIndex'](_0x548a96){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x548a96)??-(0x7*-0x4fc+0x2*0xc6d+0xa0b);}['isEnabled'](_0x379479,_0x552632){if(_0x379479['enabled']){const _0x4e8412=_0x552632?this['getTranspa'+'rentIndex'](_0x379479):this['getOpaqueI'+'ndex'](_0x379479);if(_0x4e8412>=-0xc1*0x13+-0x1*0xef7+0x1d4a)return this['subLayerEn'+'abled'][_0x4e8412];}return!(-0x9*0x34f+0x201c+-0x254);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x109f17=-0x13d*0x1f+0x72*-0x4d+-0x3d*-0x131;_0x109f17<this['layerList']['length'];_0x109f17++){const _0x1025ac=this['layerList'][_0x109f17];this['layerIdMap']['set'](_0x1025ac['id'],_0x1025ac),this['layerNameM'+'ap']['set'](_0x1025ac['name'],_0x1025ac),(this['subLayerLi'+'st'][_0x109f17]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x1025ac,_0x109f17);}}['getLayerBy'+'Id'](_0x46a8d1){return this['layerIdMap']['get'](_0x46a8d1)??null;}['getLayerBy'+'Name'](_0x5e0bd3){return this['layerNameM'+'ap']['get'](_0x5e0bd3)??null;}['_updateOpa'+'queOrder'](_0x41bbef,_0x598e68){for(let _0x2c97f=_0x41bbef;_0x2c97f<=_0x598e68;_0x2c97f++)this['subLayerLi'+'st'][_0x2c97f]===!(-0x19bd+0x1096*0x1+0x2*0x494)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x2c97f]['id']]=_0x2c97f);}['_updateTra'+'nsparentOr'+'der'](_0x45c1a6,_0x1c91a3){for(let _0xee5ab8=_0x45c1a6;_0xee5ab8<=_0x1c91a3;_0xee5ab8++)this['subLayerLi'+'st'][_0xee5ab8]===!(0x47*0x5f+-0x2*-0x1087+-0x3b67)&&(this['_transpare'+'ntOrder'][this['layerList'][_0xee5ab8]['id']]=_0xee5ab8);}['_sortLayer'+'sDescendin'+'g'](_0x40ad53,_0xca0575,_0x141fd8){let _0x4153b0=-(0x1*0xc2f+0x22*-0xdf+0x1170),_0x134a6e=-(-0x18da+-0x68d+0x3ed*0x8);for(let _0x843196=0x1*-0x469+0xa07+-0x59e,_0x5c9f2c=_0x40ad53['length'];_0x843196<_0x5c9f2c;_0x843196++){const _0x5ac495=_0x40ad53[_0x843196];_0x141fd8['hasOwnProp'+'erty'](_0x5ac495)&&(_0x4153b0=Math['max'](_0x4153b0,_0x141fd8[_0x5ac495]));}for(let _0x3d933a=0xd3a*-0x2+-0x4b5*0x7+0x3b67*0x1,_0x173cc7=_0xca0575['length'];_0x3d933a<_0x173cc7;_0x3d933a++){const _0x573492=_0xca0575[_0x3d933a];_0x141fd8['hasOwnProp'+'erty'](_0x573492)&&(_0x134a6e=Math['max'](_0x134a6e,_0x141fd8[_0x573492]));}return _0x4153b0===-(-0x14db+-0x14da+0x1*0x29b6)&&_0x134a6e!==-(0x1791+0x7*0x3b3+0x47f*-0xb)?0x1bed+-0x1b0a+-0xe2:_0x134a6e===-(-0xf70+0x1f61*0x1+-0xff0)&&_0x4153b0!==-(-0x1521+0x3e*-0x72+0x11*0x2de)?-(0x1d46+-0x25ea+0x8a5):_0x134a6e-_0x4153b0;}['sortTransp'+'arentLayer'+'s'](_0x2b43fd,_0x36e3f8){return this['_sortLayer'+'sDescendin'+'g'](_0x2b43fd,_0x36e3f8,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x4ddce6,_0x135467){return this['_sortLayer'+'sDescendin'+'g'](_0x4ddce6,_0x135467,this['_opaqueOrd'+'er']);}}const kl=new T(),ti={'bias':0x0,'normalBias':0x0},Ya=new Y(),Ud={'r':0x0,'g':0x1,'b':0x2,'a':0x3},Gu={'directional':oe,'omni':Pe,'point':Pe,'spot':Re},$M=[[new Q(-0x6d3*-0x1+-0x115*0xd+0x6*0x135,0x2*0x460+-0xdaf+0x4ef,0x1*0x19d+-0x2*-0xc92+-0x1ac0,0x9*0x32d+-0x191b+-0x7*0x7f)],[new Q(0x2352*-0x1+0xfb2+0x13a0,0x1aa5+-0x1790+-0x315,0x21*-0x8f+0x1*-0x1be6+0x2e55+0.5,0x8ce+0x104b+-0x1919+0.5),new Q(0x4ca*0x6+0x1e13+-0x3acf,-0xaed*-0x3+0x1040+0x475*-0xb+0.5,0x35c+-0xf9+0xd*-0x2f+0.5,0x1*-0xe0f+-0x1*-0x16eb+-0x54*0x1b+0.5)],[new Q(0x1*0xb77+0x11*-0x21a+0x1843,-0x7b1+-0x56e*-0x5+-0x1375,0x5b8+-0x1*0xf02+0x94a+0.5,-0x126c+0x1c7d+-0xa11+0.5),new Q(-0x3*-0x175+-0x1ee4+0x1a85,-0x2526+-0x1e1e+0x4344+0.5,-0x1*-0x24fd+0x1e1*-0x4+0x9d3*-0x3+0.5,-0x586*-0x1+-0x23aa+0x1e24+0.5),new Q(0xc1*-0x2+0x18dd+-0x175b+0.5,-0x2b*-0x56+-0xc31+-0x241,-0xbe0+0x146+-0x76*-0x17+0.5,0x1e70+-0x1eff+0x8f+0.5)],[new Q(0x107*-0x1f+-0x1*0x70f+0x26e8,-0x11d3*-0x2+-0x2608+-0x131*-0x2,0x1*0x1099+0x6*-0x3f1+0x70d+0.5,-0x5*0x43f+-0xb4b*-0x1+0x9f0+0.5),new Q(0x421*-0x2+-0x1*-0x1fde+-0x179c,-0x1a6b+-0x6f7*-0x3+0xe*0x65+0.5,-0x2b*0x8e+0xf80+-0x42d*-0x2+0.5,-0x1708+0x11af*-0x2+0xa*0x5d7+0.5),new Q(-0x1*0xc37+-0x7*-0x4ac+-0x147d*0x1+0.5,-0x92e+-0x405+-0x6d*-0x1f,0x8a4+-0xc9c+0x3f8+0.5,0x5b3*0x5+0x2133+-0x3db2+0.5),new Q(-0xc47*0x2+-0x1692+0x5e4*0x8+0.5,0x950+-0x23bd+0x1*0x1a6d+0.5,0x1f*-0x13+-0x12*0xd+-0x1*-0x337+0.5,-0x1f67*-0x1+0x1*-0x1276+0xcf1*-0x1+0.5)]];let qM=0x15bc+0xd8+0x2*-0xb4a;class XM{constructor(_0x387db0,_0x539ace,_0x28445a){this['light']=_0x28445a,this['camera']=_0x387db0,this['shadowCame'+'ra']=I0['createShad'+'owCamera'](_0x28445a['_shadowTyp'+'e'],_0x28445a['_type'],_0x539ace),this['shadowMatr'+'ix']=new q(),this['shadowView'+'port']=new Q(-0x90b*-0x1+0x33c*0x6+-0x1c73,0x7*0x139+0x1*-0xe1f+0x590,-0x4*-0x1d0+0x13*-0x1e7+-0x6*-0x4d1,0xa*-0x2a8+0xcd3*-0x3+-0xde*-0x4b),this['shadowScis'+'sor']=new Q(-0xf2c+-0x1aec+0x2a18,0x4*0x2b+-0x505*-0x4+-0x53*0x40,0x20bd+0x1db9+-0x3e75*0x1,-0x21a*-0x4+-0x7e*0x30+0x513*0x3),this['projection'+'Compensati'+'on']=-0x14*-0x17c+0x29+-0x11b*0x1b,this['face']=_0x539ace,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x357de8=>{_0x357de8['defaultUni'+'formBuffer']['destroy'](),_0x357de8['destroy']();}),this['viewBindGr'+'oups']['length']=-0x65*0x3d+-0x1*-0xcc7+0xb4a;}get['shadowBuff'+'er'](){const _0x53bfb9=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x53bfb9?this['light']['_isPcf']?_0x53bfb9['depthBuffe'+'r']:_0x53bfb9['colorBuffe'+'r']:null;}}class zo{constructor(_0x39f629,_0x55c450){c(this,'layers',new Set()),c(this,'clusteredL'+'ighting'),c(this,'shadowDept'+'hState',as['DEFAULT']['clone']()),(this['device']=_0x39f629,this['clusteredL'+'ighting']=_0x55c450,this['id']=qM++,this['_type']=oe,this['_color']=new Y(-0x9*0x217+-0x3b*0x2f+-0x10f*-0x1c+0.8,0x11a1+-0xb*-0x1d3+-0x25b2+0.8,0x20a+-0x16d0+-0x2*-0xa63+0.8),this['_intensity']=0x1183+-0xac8*0x1+-0x6*0x11f,this['_affectSpe'+'cularity']=!(0x248c+0x1*0x1ac4+-0x3f50),this['_luminance']=0x2159*-0x1+-0xab2*0x2+0x207*0x1b,this['_castShado'+'ws']=!(-0x3*-0xb19+-0x246b+0x321),this['_enabled']=!(0x62d+-0x2ff*0x3+0x7*0x67),this['_mask']=hs,this['isStatic']=!(-0x1d1c+-0x1e3c+0x1*0x3b59),this['key']=0x25fe+-0x61c+0x48e*-0x7,this['bakeDir']=!(-0x8*-0x3ca+0x1b*-0x2a+-0xcf1*0x2),this['bakeNumSam'+'ples']=-0x22f7+-0x3b3*0x5+0x3577,this['bakeArea']=-0x21a*0x11+0x15*-0x6+0x4c*0x7a,this['attenuatio'+'nStart']=-0x19*0xf7+0x2221+-0xe8*0xb,this['attenuatio'+'nEnd']=0x2b*-0x9f+-0x1*0x2474+0x3f33,this['_falloffMo'+'de']=wp,this['_shadowTyp'+'e']=Dt,this['_vsmBlurSi'+'ze']=-0xb*0x1a7+0x1*-0x2381+0x35b9,this['vsmBlurMod'+'e']=Tp,this['vsmBias']=(0x68a*-0x3+-0x5*-0x677+-0x1*0xcb5+0.01)*(-0x1563+-0x1378+0x28db+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=-0x3f1*0x7+0x710*-0x4+0x37d8,this['_cookieFal'+'loff']=!(-0x162e+-0x5f*0xb+0x1a43),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(0x704+0x1551+0x293*-0xb),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(-0xa8a+0xc11*0x1+-0x185),this['_cookieTra'+'nsformSet']=!(0x1f84*0x1+0x17e1+0x4*-0xdd9),this['_cookieOff'+'setSet']=!(0x201a+-0x13*0x9c+-0x1485),this['_innerCone'+'Angle']=-0xbd+-0x1c15+0xe7d*0x2,this['_outerCone'+'Angle']=-0x8ca+0x2106+-0x1*0x180f,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=-0x1d2+-0x4a*-0x28+-0x9bd,this['_cascadeBl'+'end']=-0x1d8b+0x26c2*0x1+-0x937,this['cascadeDis'+'tribution']=-0x1*0x1b56+0x223d+-0x6e7+0.5,this['_shape']=yt,this['_colorLine'+'ar']=new Float32Array(-0x10f2+0x1c67*-0x1+-0xb57*-0x4),this['_updateLin'+'earColor'](),this['_position']=new T(0x1*-0xf4c+-0xe9*0x1d+0x29b1*0x1,0x3*-0x11f+0x1*-0x6bb+0xa18,0x13f9+0x25*0xc+-0x15b5),this['_direction']=new T(0x592*-0x7+0x6b6*0x1+0x2048,-0x1f7d+0x1*-0x1613+0x3590,-0x2351+-0xac5+0x2e16),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(0x23c5*-0x1+-0x4*-0x85a+-0x311*-0x1)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(-0xb5a+0x1*0x1a71+-0x1*0xf17),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=0x1fb7+0x22e2+-0x4271*0x1,this['_shadowRes'+'olution']=0x2c9*0xd+-0x138b+-0xcaa,this['_shadowBia'+'s']=-(-0x252f+0xc8b+0x18a4+0.0005),this['shadowInte'+'nsity']=-0x6*-0xa6+-0x1*0x6d3+0x2f0,this['_normalOff'+'setBias']=0x29f*-0xa+-0x121*-0x1b+-0x445*0x1,this['shadowUpda'+'teMode']=Pp,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(0x7c1+-0x7*0x44f+0x1669),this['_isPcf']=!(-0x4bb*-0x1+0x29*0x51+-0x11b4),this['_softShado'+'wParams']=new Float32Array(0x151c+0x1d68+-0x3280),this['shadowSamp'+'les']=0xfbe+-0x503+-0x1*0xaab,this['shadowBloc'+'kerSamples']=-0xd10+-0x518+0x1238,this['penumbraSi'+'ze']=-0x1365+-0x3*0x6b2+0x277c,this['penumbraFa'+'lloff']=0xd9c+0x1f46+-0x2ce1,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(0x5*0x509+-0x1236+0x252*-0x3),this['atlasVersi'+'on']=0x19fa+0x5c9+0x1*-0x1fc3,this['atlasSlotI'+'ndex']=-0x1919*0x1+-0x22c1*0x1+0x3bda,this['atlasSlotU'+'pdated']=!(-0x1c36+-0x124a+0x2e81),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(-0x157f*0x1+0x62*0x52+-0x3*0x34c),this['maxScreenS'+'ize']=0xb5*-0x11+0x7*-0x10d+0x1*0x1360,this['_updateSha'+'dowBias']());}['destroy'](){this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x5bf6a5=0x1d9+-0x1ce0+0x1b07;_0x5bf6a5<this['_renderDat'+'a']['length'];_0x5bf6a5++)this['_renderDat'+'a'][_0x5bf6a5]['destroy']();this['_renderDat'+'a']['length']=-0x12be+-0x155f+-0xa3*-0x3f;}}['addLayer'](_0x293a4b){this['layers']['add'](_0x293a4b);}['removeLaye'+'r'](_0x578f92){this['layers']['delete'](_0x578f92);}set['shadowSamp'+'les'](_0x3627d7){this['_softShado'+'wParams'][-0x5*0x29b+0x26cf+0x16*-0x12c]=_0x3627d7;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][-0x193e*0x1+-0x251d+0x3e5b];}set['shadowBloc'+'kerSamples'](_0x31e6da){this['_softShado'+'wParams'][0xc6c+0x5c8+-0x1233*0x1]=_0x31e6da;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][-0x1513*0x1+0x853*-0x3+-0x1*-0x2e0d];}set['shadowBias'](_0x2b578f){this['_shadowBia'+'s']!==_0x2b578f&&(this['_shadowBia'+'s']=_0x2b578f,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x278806){(!this['cascades']||this['numCascade'+'s']!==_0x278806)&&(this['cascades']=$M[_0x278806-(0x1f1*-0x5+-0xc7*-0xb+-0xb*-0x1b)],this['_shadowMat'+'rixPalette']=new Float32Array((-0x1695+-0xfc1*0x1+0x265a)*(-0x746*0x2+0x12cb+-0x3f*0x11)),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(0x1*0x7ad+-0x1*0x1b3d+0x1394),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x383875){this['_cascadeBl'+'end']!==_0x383875&&(this['_cascadeBl'+'end']=_0x383875,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x18f1ca){this['_shadowMap']!==_0x18f1ca&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x18f1ca);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x6f2a24){this['_mask']!==_0x6f2a24&&(this['_mask']=_0x6f2a24,this['updateKey']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x1a5baa=this['_type'];return _0x1a5baa===oe?this['numCascade'+'s']:_0x1a5baa===Pe?0x244a+-0x18*0x14+-0x2264:-0xbf+0xdce+0x22d*-0x6;}set['type'](_0x3ddb67){if(this['_type']===_0x3ddb67)return;this['_type']=_0x3ddb67,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey']();const _0x22e16f=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x22e16f;}get['type'](){return this['_type'];}set['shape'](_0x8ee556){if(this['_shape']===_0x8ee556)return;this['_shape']=_0x8ee556,this['_destroySh'+'adowMap'](),this['updateKey']();const _0x3e0084=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x3e0084;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x43559d){this['_usePhysic'+'alUnits']!==_0x43559d&&(this['_usePhysic'+'alUnits']=_0x43559d,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x3f7d3a){if(this['_shadowTyp'+'e']===_0x3f7d3a)return;const _0x2c899d=this['device'];_0x3f7d3a===Ts&&!_0x2c899d['textureFlo'+'atRenderab'+'le']&&!_0x2c899d['textureHal'+'fFloatRend'+'erable']&&(_0x3f7d3a=Dt),this['_type']===Pe&&_0x3f7d3a!==Bh&&_0x3f7d3a!==Dt&&_0x3f7d3a!==Nh&&_0x3f7d3a!==zh&&_0x3f7d3a!==Ts&&(_0x3f7d3a=Dt),_0x3f7d3a===Wr&&(!_0x2c899d['textureFlo'+'atRenderab'+'le']||!_0x2c899d['textureFlo'+'atFilterab'+'le'])&&(_0x3f7d3a=Hr),_0x3f7d3a===Hr&&!_0x2c899d['textureHal'+'fFloatRend'+'erable']&&(_0x3f7d3a=Dt);const _0x4abfe6=ir['get'](_0x3f7d3a);this['_isVsm']=(_0x4abfe6==null?void(0xb51*0x2+0x9ca+0x19f*-0x14):_0x4abfe6['vsm'])??!(-0x121e*0x1+0x629+0xbf6),this['_isPcf']=(_0x4abfe6==null?void(0x1994*-0x1+0x16b+0x1*0x1829):_0x4abfe6['pcf'])??!(-0x228b+0x1b3e+-0x2*-0x3a7),this['_shadowTyp'+'e']=_0x3f7d3a,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x2ace08){this['_enabled']!==_0x2ace08&&(this['_enabled']=_0x2ace08,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x1c3cc0){this['_castShado'+'ws']!==_0x1c3cc0&&(this['_castShado'+'ws']=_0x1c3cc0,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==rr&&this['_mask']!==0x24aa+-0x1cd7+-0x7d3*0x1;}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===rr;}set['shadowReso'+'lution'](_0x1742c5){this['_shadowRes'+'olution']!==_0x1742c5&&(this['_type']===Pe?_0x1742c5=Math['min'](_0x1742c5,this['device']['maxCubeMap'+'Size']):_0x1742c5=Math['min'](_0x1742c5,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x1742c5,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x152dc8){this['_vsmBlurSi'+'ze']!==_0x152dc8&&(_0x152dc8%(-0x4f5+-0x22a6+-0x279d*-0x1)===0x1f55*0x1+0x2215+-0x416a&&_0x152dc8++,this['_vsmBlurSi'+'ze']=_0x152dc8);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x32698b){if(this['_normalOff'+'setBias']!==_0x32698b){const _0xda1799=!this['_normalOff'+'setBias']&&_0x32698b||this['_normalOff'+'setBias']&&!_0x32698b;this['_normalOff'+'setBias']=_0x32698b,_0xda1799&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x14e902){this['_falloffMo'+'de']!==_0x14e902&&(this['_falloffMo'+'de']=_0x14e902,this['updateKey']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0xa782f7){this['_innerCone'+'Angle']!==_0xa782f7&&(this['_innerCone'+'Angle']=_0xa782f7,this['_innerCone'+'AngleCos']=Math['cos'](_0xa782f7*Math['PI']/(-0x1*0x25fe+0x10b1*0x2+0x550)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0xb2619c){this['_outerCone'+'Angle']!==_0xb2619c&&(this['_outerCone'+'Angle']=_0xb2619c,this['_updateOut'+'erAngle'](_0xb2619c),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x552eba){this['_penumbraS'+'ize']=_0x552eba,this['_softShado'+'wParams'][0x24ec+-0x1db3*-0x1+0x1*-0x429d]=_0x552eba;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x30e2a0){this['_softShado'+'wParams'][-0x92d+-0x868+0x8cc*0x2]=_0x30e2a0;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][0x2fa*-0x1+0x18d*-0xc+-0x61*-0x39];}['_updateOut'+'erAngle'](_0x383c5d){const _0x48dec2=_0x383c5d*Math['PI']/(0x2173*0x1+0x1b32+-0x3bf1);this['_outerCone'+'AngleCos']=Math['cos'](_0x48dec2),this['_outerCone'+'AngleSin']=Math['sin'](_0x48dec2);}set['intensity'](_0x451779){this['_intensity']!==_0x451779&&(this['_intensity']=_0x451779,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x2e8e93){this['_type']===oe&&(this['_affectSpe'+'cularity']=_0x2e8e93,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x19f515){this['_luminance']!==_0x19f515&&(this['_luminance']=_0x19f515,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new q()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new Q(0x6f1+0x1414+-0x1b05,0x1756+0xa1d+-0x2173*0x1,0x79*-0x3b+0xd23+-0x4eb*-0x3,-0xf*0x235+0x1*-0x12b3+0x1145*0x3)),this['_atlasView'+'port'];}set['cookie'](_0x29fc7b){this['_cookie']!==_0x29fc7b&&(this['_cookie']=_0x29fc7b,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x3b43d0){this['_cookieFal'+'loff']!==_0x3b43d0&&(this['_cookieFal'+'loff']=_0x3b43d0,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x4a72a0){if(this['_cookieCha'+'nnel']!==_0x4a72a0){if(_0x4a72a0['length']<0x1c83+0x2468+0x81d*-0x8){const _0x55afbb=_0x4a72a0['charAt'](_0x4a72a0['length']-(-0x602+0x11*-0x29+0x2*0x45e)),_0x499f5c=0x376+0x3fa+-0x76d-_0x4a72a0['length'];for(let _0x5c330b=0x5ec+-0x409*-0x3+-0x1207;_0x5c330b<_0x499f5c;_0x5c330b++)_0x4a72a0+=_0x55afbb;}this['_cookieCha'+'nnel']=_0x4a72a0,this['updateKey']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x255350){this['_cookieTra'+'nsform']!==_0x255350&&(this['_cookieTra'+'nsform']=_0x255350,this['_cookieTra'+'nsformSet']=!!_0x255350,_0x255350&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new W(),this['_cookieOff'+'setSet']=!(0x2*-0x733+0xdf5+0x72)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x5636e0){if(this['_cookieOff'+'set']===_0x5636e0)return;!!(this['_cookieTra'+'nsformSet']||_0x5636e0)&&!_0x5636e0&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](-0x6a*-0x3d+-0x1de9+0x4a7,-0x1b8a+0x3*-0x182+-0x18*-0x156):this['_cookieOff'+'set']=_0x5636e0,this['_cookieOff'+'setSet']=!!_0x5636e0,_0x5636e0&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new Q(0x138f*-0x1+-0x985*-0x2+0x2*0x43,-0x10*-0xb7+-0xd7a+-0x1*-0x20b,-0x1038+0x17*0x4+0xfdc,0x9ef*-0x3+-0x2bd*-0x1+0x1b10),this['_cookieTra'+'nsformSet']=!(-0x15d0+0x8dd*0x2+0x417)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===oe&&this['_enabled'],this['maxScreenS'+'ize']=-0x1ad5*-0x1+0x13*0x3f+0x4a*-0x6d,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x7c4+0xa64+-0x29f),this['atlasSlotU'+'pdated']=!(0x1501+0x1bcd+0xd*-0x3c1);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=cn),this['shadowUpda'+'teOverride'+'s']){for(let _0x33b296=0xd*0x15d+-0x5*0x7ab+0x149e;_0x33b296<this['shadowUpda'+'teOverride'+'s']['length'];_0x33b296++)this['shadowUpda'+'teOverride'+'s'][_0x33b296]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x33b296]=cn);}}['getRenderD'+'ata'](_0x424c7e,_0x4981ce){for(let _0x57fd68=-0x26e7+0xbb*-0xb+0x2ef*0x10;_0x57fd68<this['_renderDat'+'a']['length'];_0x57fd68++){const _0x257df0=this['_renderDat'+'a'][_0x57fd68];if(_0x257df0['camera']===_0x424c7e&&_0x257df0['face']===_0x4981ce)return _0x257df0;}const _0x26a0fe=new XM(_0x424c7e,_0x4981ce,this);return this['_renderDat'+'a']['push'](_0x26a0fe),_0x26a0fe;}['clone'](){const _0x268c94=new zo(this['device'],this['clusteredL'+'ighting']);return _0x268c94['type']=this['_type'],_0x268c94['setColor'](this['_color']),_0x268c94['intensity']=this['_intensity'],_0x268c94['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x268c94['luminance']=this['_luminance'],_0x268c94['castShadow'+'s']=this['castShadow'+'s'],_0x268c94['_enabled']=this['_enabled'],_0x268c94['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x268c94['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x268c94['falloffMod'+'e']=this['_falloffMo'+'de'],_0x268c94['shadowType']=this['_shadowTyp'+'e'],_0x268c94['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x268c94['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x268c94['vsmBias']=this['vsmBias'],_0x268c94['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x268c94['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x268c94['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x268c94['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x268c94['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x268c94['numCascade'+'s']=this['numCascade'+'s'],_0x268c94['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x268c94['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x268c94['shape']=this['_shape'],_0x268c94['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x268c94['shadowBias']=this['shadowBias'],_0x268c94['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x268c94['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x268c94['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x268c94['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x268c94['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x268c94['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x268c94['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x268c94['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x268c94;}static['getLightUn'+'itConversi'+'on'](_0x109dfc,_0x541955=Math['PI']/(-0x267b+-0x246a+0x97*0x7f),_0x5c82c4=-0x65b+-0xb45+0x8d0*0x2){switch(_0x109dfc){case Re:{const _0x5b5845=Math['cos'](_0x541955),_0x4e0a1e=Math['cos'](_0x5c82c4);return(0x4*-0x493+0x6c5*0x3+0x1b*-0x13)*Math['PI']*(0x1*0xee6+-0x8c7+-0x6*0x105-_0x4e0a1e+(_0x4e0a1e-_0x5b5845)/(0x172c+0x863*0x1+0x1*-0x1f8d));}case Pe:return(-0x2274+-0x7d3+0x2a4b)*Math['PI'];case oe:return 0x713+0x1a7a+-0x218c;}}['_getUnifor'+'mBiasValue'+'s'](_0x43a0a6){const _0x2e5207=_0x43a0a6['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Pe:ti['bias']=this['shadowBias'],ti['normalBias']=this['_normalOff'+'setBias'];break;case Re:this['_isVsm']?ti['bias']=-(-0x1*0x1dcc+0xb91+-0xd*-0x167+0.00001)*(0x7d*-0x1d+0x2329*0x1+-0x14ec):ti['bias']=this['shadowBias']*(0xe5*-0x7+-0x632*-0x4+0x1271*-0x1),ti['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(0x2*0xef9+-0x257*-0x2+-0x2299*0x1)):this['_normalOff'+'setBias'];break;case oe:this['_isVsm']?ti['bias']=-(-0x1a8+-0xe86*-0x2+-0x1b64+0.00001)*(-0x135b*0x1+0x123c*-0x2+0x37e7):ti['bias']=this['shadowBias']/_0x2e5207*(-0x20f5+0xfd1+-0x66*-0x2c),ti['normalBias']=this['_isVsm']?this['vsmBias']/(_0x2e5207/(-0xf7d*-0x1+-0x679*-0x5+0x3*-0xff1)):this['_normalOff'+'setBias'];break;}return ti;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x32cbf7){if(this['_type']===Re){const _0x218706=this['attenuatio'+'nEnd'],_0x55844b=this['_outerCone'+'Angle'],_0x1b916a=this['_outerCone'+'AngleCos'],_0x364a27=this['_node'];kl['copy'](_0x364a27['up']),_0x55844b>-0x17ee+-0x14b1*0x1+0x2ccc?(_0x32cbf7['radius']=_0x218706*this['_outerCone'+'AngleSin'],kl['mulScalar'](-_0x218706*_0x1b916a)):(_0x32cbf7['radius']=_0x218706/((-0x3e5*-0x4+0x3*0x4d7+-0x1e17)*_0x1b916a),kl['mulScalar'](-_0x32cbf7['radius'])),_0x32cbf7['center']['add2'](_0x364a27['getPositio'+'n'](),kl);}else this['_type']===Pe&&(_0x32cbf7['center']=this['_node']['getPositio'+'n'](),_0x32cbf7['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x45080d){if(this['_type']===Re){const _0x33cf3e=this['attenuatio'+'nEnd'],_0xa232a6=this['_outerCone'+'Angle'],_0x5e0742=this['_node'],_0x190ef2=Math['abs'](Math['sin'](_0xa232a6*N['DEG_TO_RAD'])*_0x33cf3e);_0x45080d['center']['set'](-0x27f*-0x5+-0x20d8+0x145d,-_0x33cf3e*(0x1*0x997+-0xe71*-0x1+-0x1808+0.5),0x1fc6+0x1*0x1796+-0x375c),_0x45080d['halfExtent'+'s']['set'](_0x190ef2,_0x33cf3e*(0x1*0x184d+0x25a9+-0x3df6+0.5),_0x190ef2),_0x45080d['setFromTra'+'nsformedAa'+'bb'](_0x45080d,_0x5e0742['getWorldTr'+'ansform'](),!(0xeb*-0x19+-0x1b4a+0x323d));}else this['_type']===Pe&&(_0x45080d['center']['copy'](this['_node']['getPositio'+'n']()),_0x45080d['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Pe&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=0x1d9a+0x2217+-0x3fb1,this['shadowDept'+'hState']['depthBiasS'+'lope']=0x8e+0x174+-0x202;else{const _0x39bde6=this['shadowBias']*-(-0x2*0x4dd+0x7b8+0x2*0x2f5);this['shadowDept'+'hState']['depthBias']=_0x39bde6,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x39bde6;}}['_updateLin'+'earColor'](){let _0x429eeb=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x429eeb=this['_luminance']/zo['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*N['DEG_TO_RAD'],this['_innerCone'+'Angle']*N['DEG_TO_RAD']));const _0x16de60=this['_color'],_0x4c7382=this['_colorLine'+'ar'];_0x429eeb>=-0x607*-0x1+-0x4e*0x3e+0x36*0x3d?Ya['linear'](_0x16de60)['mulScalar'](_0x429eeb):Ya['copy'](_0x16de60)['mulScalar'](_0x429eeb)['linear'](),_0x4c7382[-0x1*0x234e+0x12*0xeb+-0x1*-0x12c8]=Ya['r'],_0x4c7382[-0x837+0x133*-0xa+0x1436*0x1]=Ya['g'],_0x4c7382[0x1229*0x1+0x335+-0x4*0x557]=Ya['b'];}['setColor'](){arguments['length']===-0x1*0x802+-0x233*-0x7+-0x762?this['_color']['set'](arguments[-0x22a0*-0x1+0x1bd4+0x7*-0x8ec]['r'],arguments[-0x7f2+0x1597+0xda5*-0x1]['g'],arguments[-0x1*-0x16a3+-0x21df+0xb3c]['b']):arguments['length']===0xad*0x20+-0x8b*-0x10+-0x1e4d&&this['_color']['set'](arguments[-0x54d*0x5+-0x1bec*0x1+-0x366d*-0x1],arguments[-0x1d7c+0x1*-0xe12+0x2b8f],arguments[-0x1b67+-0x6+-0x925*-0x3]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x22165c=>{_0x22165c['hasLight'](this)&&_0x22165c['markLights'+'Dirty']();});}['updateKey'](){let _0x1ce7b4=this['_type']<<0x5f7+0xa9f+-0x1*0x1079|this['_shadowTyp'+'e']<<-0x1477*-0x1+-0x18f3+-0x11*-0x45|this['_falloffMo'+'de']<<0x7c3*-0x5+-0x66c*0x3+0x3a2a|(this['_normalOff'+'setBias']!==0x19a+-0xc7*-0x2c+-0x23ce?0x26ef+-0x164*0x1+-0x258a:-0x4*-0x403+-0x19a9+0x99d)<<0x1b1*0x5+-0x1*0x25+-0x83a|(this['_cookie']?0x22ab+0x9ac+-0x162b*0x2:-0xee7+-0xb*-0x278+-0x1*0xc41)<<-0x1417*-0x1+0x1605*-0x1+0x203|(this['_cookieFal'+'loff']?-0x1a8d*-0x1+0x16e1+0x1*-0x316d:0x13f7+0x141*0xf+-0x26c6)<<0x1411+0x25fe+-0x39fb|Ud[this['_cookieCha'+'nnel']['charAt'](-0x2593+-0x8*-0x7+0x255b*0x1)]<<-0x1*-0xa57+-0x1fa6+-0x1561*-0x1|(this['_cookieTra'+'nsform']?-0x16c*-0x13+-0x737*-0x1+-0x223a:0xa3d*-0x1+0x17b0+-0xd73)<<0x17e2+-0x1376+-0x460|this['_shape']<<-0x108b+-0x1*-0xa8e+-0x607*-0x1|(this['numCascade'+'s']>0x1de3+0x178b+-0x356e?0xae*0x20+0x1186+-0x9*0x45d:-0xebb+0x1*0x14e6+-0x1*0x62b)<<0x210+0x97*0x3a+-0x1*0x243d|(this['_cascadeBl'+'end']>-0x110c+-0x556*-0x1+-0x2*-0x5db?0x389*-0x2+0x85d*-0x1+0xf70:0x1*0x1a63+0x1ada+-0x79b*0x7)<<-0x252d+-0x2347+0x487c|(this['affectSpec'+'ularity']?-0x24a2+0x7*-0x3d3+0x3f68:0x33+-0x110a+0x10d7)<<-0x10b*-0x1f+-0x5*-0x158+0x14d*-0x1e|this['mask']<<-0x126b+-0x5d*0x46+0x1*0x2bdf|(this['_castShado'+'ws']?0x1*0x166+0xfab+-0x1110:0x58b+0x19b*0x13+-0x602*0x6)<<-0x5d*-0x10+0x4*-0x5eb+0x11df;this['_cookieCha'+'nnel']['length']===0x3*-0x15e+-0x1*0x9ee+0xe0b&&(_0x1ce7b4|=Ud[this['_cookieCha'+'nnel']['charAt'](-0x797+0x1*0x404+0x394)]<<-0x4a9*0x4+0x2e*-0xb5+0x333a,_0x1ce7b4|=Ud[this['_cookieCha'+'nnel']['charAt'](0x6f*0x3c+0x1*-0xb02+-0xf00)]<<0x1131+-0x179e*-0x1+-0x28c1),_0x1ce7b4!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x1ce7b4;}}class L0{constructor(_0x13bc20,_0x2ee08e,_0x8c0757){c(this,'_areaLight'+'sEnabled',!(-0x7*-0x52a+0x2153+-0x4578)),c(this,'_cells',new T(-0x1e5d+0x1ece*0x1+-0x67,0x10e9+-0xc95*0x1+0x41*-0x11,-0x99e+0x1234+-0x88c)),c(this,'_maxLights'+'PerCell',-0x1439+0x12b2*0x1+-0x286*-0x1),c(this,'_shadowsEn'+'abled',!(-0x16f6+0x1582+0x174)),c(this,'_shadowTyp'+'e',Dt),c(this,'_shadowAtl'+'asResoluti'+'on',0x119*0x23+-0xd*-0x1f+-0x1ffe),c(this,'_cookiesEn'+'abled',!(0x4a*-0x26+0x2*-0x2b4+0x1065)),c(this,'_cookieAtl'+'asResoluti'+'on',0x1f79+0x1*-0x1e01+0x688),c(this,'debugLayer'),c(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x13bc20,this['_maxTextur'+'eSize']=_0x2ee08e,this['_dirtyLigh'+'tsFnc']=_0x8c0757);}['applySetti'+'ngs'](_0xad6a3e){this['shadowsEna'+'bled']=_0xad6a3e['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0xad6a3e['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0xad6a3e['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0xad6a3e['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0xad6a3e['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0xad6a3e['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0xad6a3e['lightingSh'+'adowType']??this['shadowType'],_0xad6a3e['lightingCe'+'lls']&&(this['cell']=new T(_0xad6a3e['lightingCe'+'lls']));}set['cells'](_0x210918){this['_cells']['copy'](_0x210918);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x2be43b){this['_maxLights'+'PerCell']=N['clamp'](_0x2be43b,0x108d*0x2+0x1*0x3e5+-0x24fe,0x230d+-0x6a3+-0x1b6b);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x46ade6){this['_cookieAtl'+'asResoluti'+'on']=N['clamp'](_0x46ade6,0x25c4+-0x1487+-0x111d,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x27725c){this['_shadowAtl'+'asResoluti'+'on']=N['clamp'](_0x27725c,-0xad*0x1+0x22*0xbc+-0x182b,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0xf782b6){this['_shadowTyp'+'e']!==_0xf782b6&&(this['_shadowTyp'+'e']=_0xf782b6,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x3b15de){this['_cookiesEn'+'abled']!==_0x3b15de&&(this['_cookiesEn'+'abled']=_0x3b15de,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x241730){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x241730&&(this['_areaLight'+'sEnabled']=_0x241730,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x5f20a4){this['_shadowsEn'+'abled']!==_0x5f20a4&&(this['_shadowsEn'+'abled']=_0x5f20a4,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}const jM='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20',YM=new _t(!(0x5a0+0x1114+-0x5ad*0x4),Lt,at,at);class fn{constructor(_0x4072ee){c(this,'shaderCach'+'e',[]),(this['morph']=_0x4072ee,_0x4072ee['incRefCoun'+'t'](),this['device']=_0x4072ee['device'],this['_weights']=[],this['_weightMap']=new Map());for(let _0x50677b=0x6*-0x187+-0x1*-0x1c7e+-0x2*0x9aa;_0x50677b<_0x4072ee['_targets']['length'];_0x50677b++){const _0x27927d=_0x4072ee['_targets'][_0x50677b];_0x27927d['name']&&this['_weightMap']['set'](_0x27927d['name'],_0x50677b),this['setWeight'](_0x50677b,_0x27927d['defaultWei'+'ght']);}this['_activeTar'+'gets']=[],this['maxSubmitC'+'ount']=this['device']['maxTexture'+'s'],this['_shaderMor'+'phWeights']=new Float32Array(this['maxSubmitC'+'ount']);const _0xddd4f0=(_0x4eccd4,_0x4cff1b)=>(this[_0x4cff1b]=_0x4072ee['_createTex'+'ture'](_0x4eccd4,_0x4072ee['_renderTex'+'tureFormat']),new pt({'colorBuffer':this[_0x4cff1b],'depth':!(0x2064+-0xa*0x16f+-0x120d*0x1)}));_0x4072ee['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0xddd4f0('MorphRTPos','texturePos'+'itions')),_0x4072ee['morphNorma'+'ls']&&(this['rtNormals']=_0xddd4f0('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x4072ee['morphTextu'+'reWidth'],_0x4072ee['morphTextu'+'reHeight']]);const _0xfff983=_0x4072ee['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0xfff983['x']*(0x136e+-0xc30+-0x73a),_0xfff983['y']*(-0x567+-0x19ee+0x1f59),_0xfff983['z']*(0x1574+-0x69*-0x2e+-0x284e)]);const _0x2fc7ed=_0x4072ee['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x2fc7ed['x']*(-0x1*0x1c10+-0xcc2+0x28d4),_0x2fc7ed['y']*(0x2*0x1209+-0x43*-0x5f+0x3*-0x144f),_0x2fc7ed['z']*(0xf+0x1*0xfc8+-0xfd5)]),this['_aabbNrmSi'+'ze']=new Float32Array([0x1*-0x1a49+-0xda0*0x2+0x358b,-0x4*0x789+0x133f+-0x1*-0xae7,0x1*-0x496+-0x2*-0xd2b+0xf2*-0x17]),this['_aabbNrmMi'+'n']=new Float32Array([-(0x224a+-0x2539+0x2f0),-(-0x614+-0x18de+-0x3*-0xa51),-(-0x1a95+0x5*0x4ab+0x33f)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin');for(let _0x57727b=0x1cad+0x2673+0xc*-0x598;_0x57727b<this['maxSubmitC'+'ount'];_0x57727b++)this['morphBlend'+'Tex'+_0x57727b]=this['device']['scope']['resolve']('morphBlend'+'Tex'+_0x57727b);this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['zeroTextur'+'es']=!(-0x9*0x53+-0xb*-0x2f7+-0xb*0x2b3);}['destroy'](){this['shader']=null;const _0x8dd828=this['morph'];_0x8dd828&&(this['morph']=null,_0x8dd828['decRefCoun'+'t'](),_0x8dd828['refCount']<-0xa2f+-0x233c*-0x1+-0x4*0x643&&_0x8dd828['destroy']()),this['rtPosition'+'s']&&(this['rtPosition'+'s']['destroy'](),this['rtPosition'+'s']=null),this['texturePos'+'itions']&&(this['texturePos'+'itions']['destroy'](),this['texturePos'+'itions']=null),this['rtNormals']&&(this['rtNormals']['destroy'](),this['rtNormals']=null),this['textureNor'+'mals']&&(this['textureNor'+'mals']['destroy'](),this['textureNor'+'mals']=null);}['clone'](){return new fn(this['morph']);}['_getWeight'+'Index'](_0x223644){if(typeof _0x223644=='string'){const _0x44ea09=this['_weightMap']['get'](_0x223644);return _0x44ea09===void(0xcd7*-0x3+-0xb*0x112+0x324b)&&v['error']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x223644+'.'),_0x44ea09;}return _0x223644;}['getWeight'](_0x16db9d){const _0x252227=this['_getWeight'+'Index'](_0x16db9d);return this['_weights'][_0x252227];}['setWeight'](_0x27ce81,_0x5c3c5a){const _0x567b97=this['_getWeight'+'Index'](_0x27ce81);v['assert'](_0x567b97>=0x1847+-0x6b*-0x19+0x6f2*-0x5&&_0x567b97<this['morph']['_targets']['length']),this['_weights'][_0x567b97]=_0x5c3c5a,this['_dirty']=!(0x75*0x42+-0x626*0x5+0x94);}['_getFragme'+'ntShader'](_0x3caa54){let _0x5f4d9d='',_0x13800e='';for(let _0x5dde28=-0x5*-0x6a3+-0x2700+0x5d1*0x1;_0x5dde28<_0x3caa54;_0x5dde28++)_0x5f4d9d+='uniform\x20hi'+'ghp\x20sample'+'r2D\x20morphB'+'lendTex'+_0x5dde28+';',_0x13800e+='color.xyz\x20'+'+=\x20morphFa'+'ctor['+_0x5dde28+(']\x20*\x20textur'+'e2D(morphB'+'lendTex')+_0x5dde28+(',\x20uv0).xyz'+';');return'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20'+(this['morph']['intRenderF'+'ormat']?'#define\x20MO'+'RPH_INT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x3caa54>-0x1b1f*-0x1+0x80*0x2b+0x1*-0x309f?'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r['+_0x3caa54+'];':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+_0x5f4d9d+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPH_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec3\x20'+'aabbSize;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'void\x20main\x20'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20highp'+'\x20vec4\x20colo'+'r\x20=\x20vec4(0'+',\x200,\x200,\x201)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x13800e+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'.xyz\x20=\x20(co'+'lor.xyz\x20-\x20'+'aabbMin)\x20/'+'\x20aabbSize\x20'+'*\x2065535.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20uvec'+'4(color);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20col'+'or;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['_getShader'](_0x4f5bd7){let _0x496afe=this['shaderCach'+'e'][_0x4f5bd7];if(!_0x496afe){const _0x51ce15=this['_getFragme'+'ntShader'](_0x4f5bd7),_0x4e3606=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';_0x496afe=Is(this['device'],jM,_0x51ce15,'textureMor'+'ph'+_0x4f5bd7,void(-0x17cf+0xa5a*0x3+-0x73f),{'fragmentOutputTypes':[_0x4e3606]}),this['shaderCach'+'e'][_0x4f5bd7]=_0x496afe;}return _0x496afe;}['_updateTex'+'tureRender'+'Target'](_0x161e9b,_0x4ae2a9,_0x3dee36){const _0x34b12c=this['device'],_0x344dea=(_0x566663,_0x10d915)=>{this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),_0x34b12c['setBlendSt'+'ate'](_0x10d915?YM:_t['NOBLEND']);const _0x49995f=this['_getShader'](_0x566663);dn(_0x34b12c,_0x161e9b,_0x49995f);};this['setAabbUni'+'forms'](_0x3dee36);let _0x42119c=0x59e*0x6+-0x1051*-0x1+0x3205*-0x1,_0x100aed=!(-0x224f*0x1+0x4a*-0x71+0x42fa);const _0x5e31fc=this['_activeTar'+'gets']['length'];for(let _0x103ad3=0xb98+-0x239a+0x1802;_0x103ad3<_0x5e31fc;_0x103ad3++){const _0x546bbb=this['_activeTar'+'gets'][_0x103ad3],_0x1b82a4=_0x546bbb['target'][_0x4ae2a9];_0x1b82a4&&(this['morphBlend'+'Tex'+_0x42119c]['setValue'](_0x1b82a4),this['_shaderMor'+'phWeights'][_0x42119c]=_0x546bbb['weight'],_0x42119c++,_0x42119c>=this['maxSubmitC'+'ount']&&(_0x344dea(_0x42119c,_0x100aed),_0x42119c=0x22d0*0x1+0x2415+-0x1*0x46e5,_0x100aed=!(-0x28c+0x264+0x28)));}(_0x42119c>-0x173c*-0x1+0x1f6+-0x1932||_0x5e31fc===-0x1c36+-0x14c+0x1*0x1d82&&!this['zeroTextur'+'es'])&&_0x344dea(_0x42119c,_0x100aed);}['_updateTex'+'tureMorph'](){const _0x1216a6=this['device'];G['pushGpuMar'+'ker'](_0x1216a6,'MorphUpdat'+'e'),(this['_activeTar'+'gets']['length']>0x1e27*0x1+-0x17e+-0x1ca9||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],'texturePos'+'itions',!(0x1b47*0x1+-0x1652*0x1+0x8d*-0x9)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],'textureNor'+'mals',!(0x116e*0x1+0x1*-0x2293+0x1126)),this['zeroTextur'+'es']=this['_activeTar'+'gets']['length']===-0xe27*-0x2+-0x147*-0x1b+-0xc8f*0x5),G['popGpuMark'+'er'](_0x1216a6);}['setAabbUni'+'forms'](_0x2a858a=!(0x1*-0x327+0x9*-0x45+0x594)){this['aabbSizeId']['setValue'](_0x2a858a?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x2a858a?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x114e3b){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(-0x126a+-0x30*0x35+0x1ab*0x11);const _0x3096a8=this['morph']['_targets'];let _0xaee7e0=-0x263c+-0x20c8+0x4704;const _0x222d61=0x21*-0x9d+-0x112*-0x4+0x2b*0x5f+0.00001;for(let _0x5c0bef=-0x4c*-0x6a+0x2282+-0x41fa;_0x5c0bef<_0x3096a8['length'];_0x5c0bef++){const _0x2aa42f=Math['abs'](this['getWeight'](_0x5c0bef));if(_0x2aa42f>_0x222d61){this['_activeTar'+'gets']['length']<=_0xaee7e0&&(this['_activeTar'+'gets'][_0xaee7e0]={});const _0x537b68=this['_activeTar'+'gets'][_0xaee7e0++];_0x537b68['absWeight']=_0x2aa42f,_0x537b68['weight']=this['getWeight'](_0x5c0bef),_0x537b68['target']=_0x3096a8[_0x5c0bef];}}this['_activeTar'+'gets']['length']=_0xaee7e0,this['morph']['intRenderF'+'ormat']&&this['_activeTar'+'gets']['length']>this['maxSubmitC'+'ount']&&(this['_activeTar'+'gets']['sort']((_0x116e28,_0x26d163)=>_0x116e28['absWeight']<_0x26d163['absWeight']?0x2*0x7ca+-0x130*-0x15+-0x2883:_0x26d163['absWeight']<_0x116e28['absWeight']?-(0x119*0x5+-0x231a+0xecf*0x2):-0x8fc+-0x207f+0x5ed*0x7),this['_activeTar'+'gets']['length']=this['maxSubmitC'+'ount']),this['_updateTex'+'tureMorph']();}}class Oi{constructor(){c(this,'graph',null),c(this,'meshInstan'+'ces',[]),c(this,'skinInstan'+'ces',[]),c(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=0x10*-0x4e+-0x911+0x2b*0x53,this['_immutable']=!(-0x14*-0xac+-0x213f*0x1+-0x10*-0x13d));}['getGraph'](){return this['graph'];}['setGraph'](_0x5dadbe){this['graph']=_0x5dadbe;}['getCameras'](){return this['cameras'];}['setCameras'](_0x257754){this['cameras']=_0x257754;}['getLights'](){return this['lights'];}['setLights'](_0x1693eb){this['lights']=_0x1693eb;}['getMateria'+'ls'](){const _0x18ba91=[];for(let _0x3b6d08=0xc*0x275+-0x2244+0x4c8;_0x3b6d08<this['meshInstan'+'ces']['length'];_0x3b6d08++){const _0x217e18=this['meshInstan'+'ces'][_0x3b6d08];_0x18ba91['indexOf'](_0x217e18['material'])===-(-0x1fe8+0x354*0x9+0x1f5)&&_0x18ba91['push'](_0x217e18['material']);}return _0x18ba91;}['clone'](){const _0x18954b=[],_0x3be525=[],_0x576975=function(_0x9b5937){const _0x479cf8=_0x9b5937['clone']();_0x18954b['push'](_0x9b5937),_0x3be525['push'](_0x479cf8);for(let _0x5b0ebe=0x105a+-0x38f*0x1+-0x1*0xccb;_0x5b0ebe<_0x9b5937['_children']['length'];_0x5b0ebe++)_0x479cf8['addChild'](_0x576975(_0x9b5937['_children'][_0x5b0ebe]));return _0x479cf8;},_0x4877a9=_0x576975(this['graph']),_0x4d4e77=[],_0x2f7a9a=[],_0x37a330=[];for(let _0x23e905=0xd83+-0x170f+0x98c;_0x23e905<this['skinInstan'+'ces']['length'];_0x23e905++){const _0x4da568=this['skinInstan'+'ces'][_0x23e905]['skin'],_0x285976=new nl(_0x4da568),_0x2330ee=[];for(let _0x17aca9=-0x1f*0x5e+0xf23*0x1+-0x3c1;_0x17aca9<_0x4da568['boneNames']['length'];_0x17aca9++){const _0x34998d=_0x4da568['boneNames'][_0x17aca9],_0x3d879c=_0x4877a9['findByName'](_0x34998d);_0x2330ee['push'](_0x3d879c);}_0x285976['bones']=_0x2330ee,_0x2f7a9a['push'](_0x285976);}for(let _0x5d40fa=0x1709+-0x1da*0x3+-0x37f*0x5;_0x5d40fa<this['morphInsta'+'nces']['length'];_0x5d40fa++){const _0x2983ad=this['morphInsta'+'nces'][_0x5d40fa]['morph'],_0x2bc34e=new fn(_0x2983ad);_0x37a330['push'](_0x2bc34e);}for(let _0x3475ca=0x77*-0x11+0x2b*-0x5c+-0x3*-0x7c9;_0x3475ca<this['meshInstan'+'ces']['length'];_0x3475ca++){const _0x453e45=this['meshInstan'+'ces'][_0x3475ca],_0x5b4b56=_0x18954b['indexOf'](_0x453e45['node']),_0x1811b3=new Le(_0x453e45['mesh'],_0x453e45['material'],_0x3be525[_0x5b4b56]);if(_0x453e45['skinInstan'+'ce']){const _0x5d77fd=this['skinInstan'+'ces']['indexOf'](_0x453e45['skinInstan'+'ce']);_0x1811b3['skinInstan'+'ce']=_0x2f7a9a[_0x5d77fd];}if(_0x453e45['morphInsta'+'nce']){const _0x15245b=this['morphInsta'+'nces']['indexOf'](_0x453e45['morphInsta'+'nce']);_0x1811b3['morphInsta'+'nce']=_0x37a330[_0x15245b];}_0x4d4e77['push'](_0x1811b3);}const _0x7132d9=new Oi();return _0x7132d9['graph']=_0x4877a9,_0x7132d9['meshInstan'+'ces']=_0x4d4e77,_0x7132d9['skinInstan'+'ces']=_0x2f7a9a,_0x7132d9['morphInsta'+'nces']=_0x37a330,_0x7132d9['getGraph']()['syncHierar'+'chy'](),_0x7132d9;}['destroy'](){const _0x44cbd7=this['meshInstan'+'ces'];for(let _0xb890e0=0x68+0x2*-0x553+-0x8a*-0x13;_0xb890e0<_0x44cbd7['length'];_0xb890e0++)_0x44cbd7[_0xb890e0]['destroy']();this['meshInstan'+'ces']['length']=0x1aff+-0x2270+-0x17d*-0x5;}['generateWi'+'reframe'](){Le['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],Dr);}}class F0 extends Gc{constructor(_0x5117ac,_0x543308,{preferHighPrecision:_0x52d047=!(-0x5a*0x34+-0x4e5+0x172e)}={}){super(),c(this,'_aabb'),c(this,'preferHigh'+'Precision'),(v['assert'](_0x543308,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x543308,this['preferHigh'+'Precision']=_0x52d047,v['assert'](_0x5117ac['every'](_0x3af3ff=>!_0x3af3ff['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x5117ac['slice']());const _0x536ea3=this['device'],_0x1bb7e6=_0x536ea3['textureHal'+'fFloatRend'+'erable']?Je:void(-0x81*-0x2e+0x81a+-0x1f48),_0x512c1a=_0x536ea3['textureFlo'+'atRenderab'+'le']?Ke:void(-0x8*0x1b6+-0x18a3*-0x1+-0x1*0xaf3);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x512c1a??_0x1bb7e6:_0x1bb7e6??_0x512c1a,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??Ac,this['intRenderF'+'ormat']=ea(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Sc:Je,this['_init'](),this['_updateMor'+'phFlags']();}get['aabb'](){if(!this['_aabb']){const _0x418224=new T(),_0x4dadfc=new T();for(let _0x5da05e=0x5*-0x19f+0x11cc*0x2+-0x1f*0xe3;_0x5da05e<this['_targets']['length'];_0x5da05e++){const _0x48f91f=this['_targets'][_0x5da05e]['aabb'];_0x418224['min'](_0x48f91f['getMin']()),_0x4dadfc['max'](_0x48f91f['getMax']());}this['_aabb']=new _e(),this['_aabb']['setMinMax'](_0x418224,_0x4dadfc);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x4e7aab=0x794+0x7aa+-0x1*0xf3e;_0x4e7aab<this['_targets']['length'];_0x4e7aab++)this['_targets'][_0x4e7aab]['_postInit']();}['_findSpars'+'eSet'](_0x4269df,_0x367227,_0x55b7f7){let _0x6b6b39=-0x10*-0x1c6+-0xbf3+-0x106c;const _0x185764=_0x4269df[0x222d+0x1219+-0x3446*0x1]['length'];for(let _0x1510ec=0x215f*-0x1+0x1*0xd46+-0x93*-0x23;_0x1510ec<_0x185764;_0x1510ec+=0x5f*-0x26+0x2*-0x197+0x114b){let _0xa116f7=!(-0x1809*0x1+-0x156*0x1+0x1960);for(let _0x3d18e7=0x329*-0x6+-0x13ec+-0xcf6*-0x3;_0x3d18e7<_0x4269df['length'];_0x3d18e7++){const _0x2b56d1=_0x4269df[_0x3d18e7];if(_0x2b56d1[_0x1510ec]!==-0x373*0x7+-0xd*0x67+0x1d60||_0x2b56d1[_0x1510ec+(-0x1889+-0x139a+0x2c24)]!==-0x2465+0x59*0x47+0xbb6||_0x2b56d1[_0x1510ec+(-0x7a0+0xee*-0x1a+0x1fce)]!==0x93+0x3*0x27d+-0x80a){_0xa116f7=!(0x1b79+-0xac5*-0x1+-0x263e);break;}}_0xa116f7?(_0x367227['push'](_0x6b6b39),_0x55b7f7['push'](_0x1510ec/(0x32c+0x18e*0x12+-0x1f25)),_0x6b6b39++):_0x367227['push'](-0x383*-0x3+-0x40a+-0x67f);}return _0x6b6b39;}['_initTextu'+'reBased'](){const _0x4da455=[],_0x1020cd=[];for(let _0x39e79e=0xd*-0xc5+0xab7+-0xb6;_0x39e79e<this['_targets']['length'];_0x39e79e++){const _0x21a393=this['_targets'][_0x39e79e];_0x21a393['options']['deltaPosit'+'ions']&&(_0x4da455['push'](_0x21a393['options']['deltaPosit'+'ions']),_0x1020cd['push']({'target':_0x21a393,'name':'texturePos'+'itions'})),_0x21a393['options']['deltaNorma'+'ls']&&(_0x4da455['push'](_0x21a393['options']['deltaNorma'+'ls']),_0x1020cd['push']({'target':_0x21a393,'name':'textureNor'+'mals'}));}const _0x490430=[],_0x4bdaa7=[],_0x9062de=this['_findSpars'+'eSet'](_0x4da455,_0x490430,_0x4bdaa7),_0x27d7a8=this['device']['maxTexture'+'Size'];let _0x459df8=Math['ceil'](Math['sqrt'](_0x9062de));_0x459df8=Math['min'](_0x459df8,_0x27d7a8);const _0x563f19=Math['ceil'](_0x9062de/_0x459df8);if(_0x563f19>_0x27d7a8)return!(0x3d*0x83+-0x2*0xc27+0x11*-0x68);this['morphTextu'+'reWidth']=_0x459df8,this['morphTextu'+'reHeight']=_0x563f19;let _0xe02973=!(0x1443+-0x1*-0x10fd+-0x253f),_0x13ece8=-0x1ac7+0x1295+0x835;const _0x9bbe8e=Wt['float2Half'];this['_textureFo'+'rmat']===Je&&(_0xe02973=!(0xdb*0x26+-0x8*-0x2f+-0x21fa),_0x13ece8=-0x21d*-0xe+-0x203+-0x1b8f);const _0x193a06=[];for(let _0x2aab9d=0x1893+-0x18d0+0x3d;_0x2aab9d<_0x4da455['length'];_0x2aab9d++)_0x193a06['push'](this['_createTex'+'ture']('MorphTarge'+'t',this['_textureFo'+'rmat']));for(let _0xd3de89=-0x8*0x4+-0x1035+-0x25*-0x71;_0xd3de89<_0x4da455['length'];_0xd3de89++){const _0x3951f0=_0x4da455[_0xd3de89],_0x390f43=_0x193a06[_0xd3de89],_0x4a47ed=_0x390f43['lock']();if(_0xe02973)for(let _0x2560bc=0x2535+0x1c18+0x414d*-0x1;_0x2560bc<_0x4bdaa7['length'];_0x2560bc++){const _0x3b3112=_0x4bdaa7[_0x2560bc]*(0xb48+0x1*0x260b+0x1*-0x3150),_0x1d988d=_0x2560bc*_0x13ece8+_0x13ece8;_0x4a47ed[_0x1d988d]=_0x9bbe8e(_0x3951f0[_0x3b3112]),_0x4a47ed[_0x1d988d+(0x1a04+0x802+0x2205*-0x1)]=_0x9bbe8e(_0x3951f0[_0x3b3112+(0x1*0xc4+-0x41*-0x93+-0x145*0x1e)]),_0x4a47ed[_0x1d988d+(0x1b83*0x1+-0x2334+0x291*0x3)]=_0x9bbe8e(_0x3951f0[_0x3b3112+(0x32*-0x92+0x1fb3+-0x32d)]);}else for(let _0x21df81=0x20*-0xa9+0x3*0xb2f+-0xc6d;_0x21df81<_0x4bdaa7['length'];_0x21df81++){const _0x4b2348=_0x4bdaa7[_0x21df81]*(0x4da+-0x71+-0x233*0x2),_0x42c735=_0x21df81*_0x13ece8+_0x13ece8;_0x4a47ed[_0x42c735]=_0x3951f0[_0x4b2348],_0x4a47ed[_0x42c735+(-0x618+0x30b+0x30e)]=_0x3951f0[_0x4b2348+(0xd*-0xef+-0x21*-0x112+-0x2e*0x81)],_0x4a47ed[_0x42c735+(-0xed4+0x81*0x2b+-0x1*0x6d5)]=_0x3951f0[_0x4b2348+(0x2a*0x1+-0x1420+0x13f8)];}_0x390f43['unlock'](),_0x1020cd[_0xd3de89]['target']['_setTextur'+'e'](_0x1020cd[_0xd3de89]['name'],_0x390f43);}const _0x54e927=[{'semantic':ya,'components':0x1,'type':Do,'asInt':!(0x3*-0x8b+-0x1342+-0x14e3*-0x1)}];return this['vertexBuff'+'erIds']=new os(this['device'],new Et(this['device'],_0x54e927,_0x490430['length']),_0x490430['length'],{'data':new Uint32Array(_0x490430)}),!(0x15c3+-0x1922+0x35f);}['destroy'](){var _0x1fd24c;(_0x1fd24c=this['vertexBuff'+'erIds'])==null||_0x1fd24c['destroy'](),this['vertexBuff'+'erIds']=null;for(let _0x50d16f=-0x6d8*-0x2+-0xa6a*0x3+0x2a*0x6b;_0x50d16f<this['_targets']['length'];_0x50d16f++)this['_targets'][_0x50d16f]['destroy']();this['_targets']['length']=0x192*0x10+-0x1da*0x5+-0x2a5*0x6;}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(-0x1d38+-0x1ffa+0x3d33),this['_morphNorm'+'als']=!(0x653*0x3+0xe6b*-0x2+0x9de);for(let _0x2c0516=-0xfa6+0xb94+0x412;_0x2c0516<this['_targets']['length'];_0x2c0516++){const _0x32fb5b=this['_targets'][_0x2c0516];_0x32fb5b['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(0xfb7+0x554+0x150b*-0x1)),_0x32fb5b['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(-0x15e6*-0x1+-0x14*-0x18c+-0x34d6));}}['_createTex'+'ture'](_0x4f2169,_0xe51999){return new he(this['device'],{'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0xe51999,'cubemap':!(-0x3*-0x4bf+0x2659+-0x3495),'mipmaps':!(0x1c*-0x13e+-0x181*-0x17+-0x32*-0x1),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x4f2169});}}class Qc{constructor(_0x4ee6a8){c(this,'used',!(-0x24e7+-0x12af*-0x1+0x1239)),(v['assert'](arguments['length']===0x54*-0x2+-0x84f+-0x47c*-0x2),this['options']=_0x4ee6a8,this['_name']=_0x4ee6a8['name'],this['_defaultWe'+'ight']=_0x4ee6a8['defaultWei'+'ght']||0x641+-0x1154+0xb13,this['_aabb']=_0x4ee6a8['aabb'],this['deltaPosit'+'ions']=_0x4ee6a8['deltaPosit'+'ions']);}['destroy'](){var _0x47e5fe,_0x17d9a2;(_0x47e5fe=this['texturePos'+'itions'])==null||_0x47e5fe['destroy'](),this['texturePos'+'itions']=null,(_0x17d9a2=this['textureNor'+'mals'])==null||_0x17d9a2['destroy'](),this['textureNor'+'mals']=null;}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new _e(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}get['morphPosit'+'ions'](){return!!this['texturePos'+'itions'];}get['morphNorma'+'ls'](){return!!this['textureNor'+'mals'];}['clone'](){return v['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Qc(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(-0xe10*-0x2+0x84*0x11+0x3*-0xc4c);}['_setTextur'+'e'](_0x13ed75,_0x54aa3d){this[_0x13ed75]=_0x54aa3d;}}let si,v_=-0x212b+-0x2497*0x1+0x45c3;const ie=0x27*0x8f+-0x10b4*-0x1+0x2679*-0x1,Vd=new q(),Gd=new q(),ks=new T(),ze=new T(),ps=new T(),Rn=new T(),Nt=new T(),Ze=new T(),In=new T(),Dn=new T(),Ka=new T(),b_=new T(),vt=new T(),Bl=new T(),wr=new T();function ia(_0x287e7c){return _0x287e7c-Math['floor'](_0x287e7c);}function KM(_0x4d8064){return Math['max'](Math['min'](_0x4d8064,0x26ee+0x256*-0x1+-0x2497),-0x440*0x7+0xb0*0x34+-0x600);}function Hd(_0x4c3dbd,_0x3d5de0){return _0x4c3dbd-_0x3d5de0*Math['floor'](_0x4c3dbd/_0x3d5de0);}function ZM(_0x5c3245){let _0x3aab88=ia(_0x5c3245),_0x1cc274=ia((0xb18+-0x1e90+0x1477)*_0x5c3245),_0x1ce5a4=ia((-0x15e8f+-0x3a*-0x227+0x1dfba)*_0x5c3245),_0x5c55e7=ia((-0x3b*0x4a92c7+0x45dab69+0x16646f73)*_0x5c3245);return _0x3aab88-=_0x1cc274/(0x192*0x13+-0x3*-0xd03+-0x10*0x43e),_0x1cc274-=_0x1ce5a4/(-0x139b*0x1+-0xbc5+0x205f),_0x1ce5a4-=_0x5c55e7/(0x8*0xf7+-0x70c+0x53),_0x5c55e7-=_0x5c55e7/(-0x21f+0x3*-0xb15+0x245d),[_0x3aab88,_0x1cc274,_0x1ce5a4,_0x5c55e7];}function Nl(_0x5cc5de){let _0x4e41c4=ia(_0x5cc5de),_0x17c255=ia((-0x92*-0x3d+-0x5ea+-0x319*0x9)*_0x5cc5de);return _0x4e41c4-=_0x17c255/(-0x1244+-0x44a+-0x1*-0x178d),_0x17c255-=_0x17c255/(-0x2*0x11ea+0xb62*0x2+0xe0f),[_0x4e41c4,_0x17c255];}class QM{constructor(_0x1747ea){this['_emitter']=_0x1747ea;}['calcSpawnP'+'osition'](_0x4c773c,_0x5d325e,_0x320076,_0x289595,_0x21f254){const _0x59e4a0=this['_emitter'],_0xd41d5b=Math['random'](),_0x4bbd8e=Math['random'](),_0x5c48fb=Math['random'](),_0x210176=Math['random']();if(_0x59e4a0['useCpu']&&(_0x4c773c[_0x21f254*ie+(0x17bb+0x1437+-0x271*0x12)+_0x59e4a0['numParticl'+'esPot']*(0x1fb6+-0x2098+0xe4)*ie]=_0xd41d5b,_0x4c773c[_0x21f254*ie+(0xcfb*0x3+0x641*0x3+-0x39b3*0x1)+_0x59e4a0['numParticl'+'esPot']*(-0x1950+-0xd*-0x257+-0x2d*0x1d)*ie]=_0x4bbd8e,_0x4c773c[_0x21f254*ie+(0xb55*0x1+0x12c*-0x19+-0x2b*-0x6b)+_0x59e4a0['numParticl'+'esPot']*(-0x1ea2+0x1694+0x810)*ie]=_0x5c48fb),ze['x']=_0xd41d5b-(0x2032+-0xd87+-0x12ab+0.5),ze['y']=_0x4bbd8e-(-0xe9d+-0x25f+0x10fc+0.5),ze['z']=_0x5c48fb-(0xea2*0x2+-0x14b0*0x1+-0x225*0x4+0.5),_0x59e4a0['emitterSha'+'pe']===Vs){const _0x102007=Math['max'](Math['abs'](ze['x']),Math['max'](Math['abs'](ze['y']),Math['abs'](ze['z']))),_0x3de3eb=_0x102007+(-0x1c3+0x2056+-0x1e93+0.5-_0x102007)*_0x320076[0x1b07+0x15*0x1bf+-0x2*0x1fd9],_0x23f1ae=_0x102007+(-0x1c0f*0x1+0x2153+-0x544+0.5-_0x102007)*_0x320076[0x4*0x62c+-0xb30+0xd7f*-0x1],_0x58941f=_0x102007+(0x2*-0x476+-0x5fc+0xee8+0.5-_0x102007)*_0x320076[-0x400+-0x1e49+0x224b];ze['x']=_0x3de3eb*(_0x102007===Math['abs'](ze['x'])?Math['sign'](ze['x']):(0x1331+-0x1*-0x24fd+-0xb3c*0x5)*ze['x']),ze['y']=_0x23f1ae*(_0x102007===Math['abs'](ze['y'])?Math['sign'](ze['y']):(-0x3e*0x1b+0x2*0x7b1+-0x8d6)*ze['y']),ze['z']=_0x58941f*(_0x102007===Math['abs'](ze['z'])?Math['sign'](ze['z']):(-0xbe9*-0x3+-0x1af*0x7+0x2fe*-0x8)*ze['z']),_0x59e4a0['localSpace']?ks['copy'](_0x5d325e['transformP'+'oint'](ze)):ks['copy'](_0x289595)['add'](_0x5d325e['transformP'+'oint'](ze));}else{ze['normalize']();const _0x2f4190=_0x59e4a0['emitterRad'+'ius']===0x887*-0x1+0xce*0x6+0x1*0x3b3?0x1234+0x9*-0x30+-0x1084:_0x59e4a0['emitterRad'+'iusInner']/_0x59e4a0['emitterRad'+'ius'],_0xe516d7=_0x210176*(-0xb4b+0x44*-0x2e+0x1784-_0x2f4190)+_0x2f4190;_0x59e4a0['localSpace']?ks['copy'](ze['mulScalar'](_0xe516d7*_0x59e4a0['emitterRad'+'ius'])):ks['copy'](_0x289595)['add'](ze['mulScalar'](_0xe516d7*_0x59e4a0['emitterRad'+'ius']));}let _0x121e4a=-N['lerp'](_0x59e4a0['rate'],_0x59e4a0['rate2'],_0xd41d5b)*_0x21f254;if(_0x59e4a0['pack8']){const _0x53a11d=(ks['x']-_0x59e4a0['worldBound'+'s']['center']['x'])/_0x59e4a0['worldBound'+'sSize']['x']+(0x19bf+-0x448*0x5+-0x457+0.5),_0x5e3370=(ks['y']-_0x59e4a0['worldBound'+'s']['center']['y'])/_0x59e4a0['worldBound'+'sSize']['y']+(-0x2*0x31c+-0x1ea+0x3*0x2b6+0.5),_0x34ab88=(ks['z']-_0x59e4a0['worldBound'+'s']['center']['z'])/_0x59e4a0['worldBound'+'sSize']['z']+(0x9bb+0x6b3+0x57a*-0x3+0.5);let _0x5496f1=N['lerp'](_0x59e4a0['startAngle']*N['DEG_TO_RAD'],_0x59e4a0['startAngle'+'2']*N['DEG_TO_RAD'],_0xd41d5b);_0x5496f1=_0x5496f1%(Math['PI']*(0x24d+0x20f9+-0x2344))/(Math['PI']*(0x8a*-0xb+-0x12fd+0x18ed));const _0x28ddfe=Nl(_0x53a11d);_0x4c773c[_0x21f254*ie]=_0x28ddfe[0xf74+-0x2161+0x1*0x11ed],_0x4c773c[_0x21f254*ie+(0x2326+0x5d7*0x1+0xa3f*-0x4)]=_0x28ddfe[-0xbfa+-0x2*0x7ad+0x1b55];const _0x32077a=Nl(_0x5e3370);_0x4c773c[_0x21f254*ie+(0x7d*0x20+0x2678+0x1b0b*-0x2)]=_0x32077a[-0x5e9+-0x69d+0xc86],_0x4c773c[_0x21f254*ie+(-0x2bd*-0x1+-0x4*-0x227+-0xb56)]=_0x32077a[-0x1*-0x22f+-0x133b*0x1+0x110d];const _0x90ca4c=Nl(_0x34ab88);_0x4c773c[_0x21f254*ie+(0x1aad+0x254f+0x666*-0xa)+_0x59e4a0['numParticl'+'esPot']*ie]=_0x90ca4c[-0x962*0x2+0x6*0xa3+0xef2*0x1],_0x4c773c[_0x21f254*ie+(-0xe70+-0x8c1+0x1732*0x1)+_0x59e4a0['numParticl'+'esPot']*ie]=_0x90ca4c[0x23d3+-0x121b+-0x11b7];const _0x9220a1=Nl(_0x5496f1);_0x4c773c[_0x21f254*ie+(0x11*0xb4+-0x1b*-0x17+-0xe5f)+_0x59e4a0['numParticl'+'esPot']*ie]=_0x9220a1[-0x1e01+-0x18*0xbf+0xb*0x45b],_0x4c773c[_0x21f254*ie+(0x8b9+-0x58f*-0x1+-0xe45)+_0x59e4a0['numParticl'+'esPot']*ie]=_0x9220a1[-0x1d3d+0x1db8+-0x7a];const _0x40b9e3=-0x1*0x13af+0x1f7d+-0xbcd;_0x4c773c[_0x21f254*ie+(0xe*0x9d+-0x106*-0x8+0x1*-0x10c3)+_0x59e4a0['numParticl'+'esPot']*ie*(0x1fbc+0x53+-0x200d)]=_0x40b9e3;const _0x240d70=Math['max'](_0x59e4a0['lifetime'],(_0x59e4a0['numParticl'+'es']-(0x1c15+-0x1fe2+0x3ce))*Math['max'](_0x59e4a0['rate'],_0x59e4a0['rate2'])),_0x772aad=_0x59e4a0['lifetime']+(0x619*0x2+-0x687+-0x1*0x5aa);_0x121e4a=(_0x121e4a+_0x240d70)/(_0x240d70+_0x772aad);const _0xb07baf=ZM(_0x121e4a);_0x4c773c[_0x21f254*ie+(0x1cd5*-0x1+-0x1a*-0x10d+0x81*0x3)+_0x59e4a0['numParticl'+'esPot']*ie*(0x2*0x912+-0x1bd*0x9+0x3*-0xd4)]=_0xb07baf[-0x2*0x72d+0x589*-0x4+0x247e],_0x4c773c[_0x21f254*ie+(-0x2*0x25c+-0x2*-0x10b7+-0x1cb5)+_0x59e4a0['numParticl'+'esPot']*ie*(-0x1b27+-0x1*0x160e+0x578*0x9)]=_0xb07baf[-0x8fb*-0x3+-0x17d5+-0x31b],_0x4c773c[_0x21f254*ie+(-0x30c*0x5+0x1*-0x12ad+0x21eb)+_0x59e4a0['numParticl'+'esPot']*ie*(-0xa36+0x1c33+-0x11fa)]=_0xb07baf[-0x1*0x1a2d+0xd34+0xcfb],_0x4c773c[_0x21f254*ie+(0x1146+-0x278+-0xecb*0x1)+_0x59e4a0['numParticl'+'esPot']*ie*(0x2*-0x659+0x1931+-0x5e*0x22)]=_0xb07baf[-0x1601+-0x18c2+0x1*0x2ec6];}else _0x4c773c[_0x21f254*ie]=ks['x'],_0x4c773c[_0x21f254*ie+(-0xd*0x29+-0x2374*-0x1+-0x215e)]=ks['y'],_0x4c773c[_0x21f254*ie+(0x866+0xc97+-0x14fb)]=ks['z'],_0x4c773c[_0x21f254*ie+(-0xc*-0x18a+0x23e5+-0x90f*0x6)]=N['lerp'](_0x59e4a0['startAngle']*N['DEG_TO_RAD'],_0x59e4a0['startAngle'+'2']*N['DEG_TO_RAD'],_0xd41d5b),_0x4c773c[_0x21f254*ie+(-0x11b2+-0x3e*-0xd+-0x1*-0xe8f)+_0x59e4a0['numParticl'+'esPot']*ie]=_0x121e4a;}['update'](_0x378f1f,_0x23b522,_0x2d3675,_0x26c6ff,_0x3822a2,_0x9f96fa,_0x584393,_0x2e017d){let _0x48ce6a,_0x501f3b,_0x18b688;const _0x21bd63=this['_emitter'];if(_0x21bd63['meshInstan'+'ce']['node']){const _0x1750b2=_0x21bd63['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x2d4814=0x1dd9+0x2ae*-0x1+-0x217*0xd;_0x2d4814<-0x1122+-0x235a+0x3488;_0x2d4814++)Vd['data'][_0x2d4814]=_0x1750b2['data'][_0x2d4814];Gd['copy'](Vd),Gd['invert'](),si=_0x21bd63['meshInstan'+'ce']['node']['localScale'],v_=Math['max'](Math['max'](si['x'],si['y']),si['z']);}_0x9f96fa=_0x21bd63['meshInstan'+'ce']['node']===null||_0x21bd63['localSpace']?T['ZERO']:_0x21bd63['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x318d2d=_0x21bd63['camera']?_0x21bd63['camera']['_node']['getPositio'+'n']():T['ZERO'],_0x4bc757=_0x21bd63['useMesh']?-0x7b*0x9+0x5e8*0x3+-0xd54:0x6fc+0x11*0x246+-0x2d93;let _0x660feb,_0x24e5c2,_0xf57f83,_0x56c6ab,_0x6ce2b8,_0x25b15e,_0x58b211,_0x2e68bb,_0x3eb054;const _0x506487=_0x21bd63['precision']-(-0xffd*-0x1+0x26e*0xf+0x1a37*-0x2);for(let _0x111146=0x163e+-0x18c1+0x283;_0x111146<_0x21bd63['numParticl'+'es'];_0x111146++){const _0x37559e=Math['floor'](_0x21bd63['vbCPU'][_0x111146*_0x21bd63['numParticl'+'eVerts']*(_0x21bd63['useMesh']?0xaac+-0xc75*-0x1+-0x171b:0x1*-0xb14+0x2f*0xac+-0xc*0x1b5)+(-0x3c6+0x4e*-0x1+-0x3*-0x15d)]),_0x3f60ca=_0x2d3675[_0x37559e*ie+(0x11d7+-0x119+-0x85f*0x2)+_0x21bd63['numParticl'+'esPot']*(-0x1*0x446+-0x2563*-0x1+0x5*-0x69f)*ie];ps['x']=_0x3f60ca,ps['y']=_0x2d3675[_0x37559e*ie+(-0x7d*-0xd+-0x1942+0x975*0x2)+_0x21bd63['numParticl'+'esPot']*(0x15e0+-0x1*-0x13a3+0x1a9*-0x19)*ie],ps['z']=_0x2d3675[_0x37559e*ie+(-0x1f41+0x469+0x1ada)+_0x21bd63['numParticl'+'esPot']*(0x211f+0x24c3+-0x45e0)*ie];const _0x59f9e2=_0x21bd63['rate']+(_0x21bd63['rate2']-_0x21bd63['rate'])*_0x3f60ca,_0x5bfc82=_0x21bd63['lifetime'];let _0x1f0724=_0x2d3675[_0x37559e*ie+(-0x1bc1+-0x5b*-0x7+0x3*0x86d)+_0x21bd63['numParticl'+'esPot']*ie]+_0x584393;const _0x319dfa=KM(_0x1f0724/_0x5bfc82);let _0x1746c8=-0x1a51*0x1+-0x9e*-0x1+0x19b3,_0x23c4db=-0x20cc+0x1da+0x1ef2*0x1;const _0xb3f110=-0x7d0+-0x215a+0x292a;(_0x1f0724-_0x584393<=-0x1b51+-0x1ae4*0x1+0x1*0x3635||_0x1f0724>=_0x5bfc82)&&this['calcSpawnP'+'osition'](_0x2d3675,_0x26c6ff,_0x3822a2,_0x9f96fa,_0x37559e);let _0x4e47f5=_0x1f0724>-0x13*-0xbb+-0x2560+0x4b3*0x5&&_0x1f0724<_0x5bfc82;_0x4e47f5&&(_0x18b688=_0x319dfa*_0x506487,_0x660feb=Math['floor'](_0x18b688),_0x24e5c2=Math['ceil'](_0x18b688),_0x18b688%=-0x46f*0x1+0x1a94+0x1*-0x1624,_0x48ce6a=_0x21bd63['qRotSpeed'][_0x660feb],_0x501f3b=_0x21bd63['qRotSpeed'][_0x24e5c2],_0xf57f83=_0x48ce6a+(_0x501f3b-_0x48ce6a)*_0x18b688,_0x48ce6a=_0x21bd63['qRotSpeed2'][_0x660feb],_0x501f3b=_0x21bd63['qRotSpeed2'][_0x24e5c2],_0x56c6ab=_0x48ce6a+(_0x501f3b-_0x48ce6a)*_0x18b688,_0x48ce6a=_0x21bd63['qScale'][_0x660feb],_0x501f3b=_0x21bd63['qScale'][_0x24e5c2],_0x1746c8=_0x48ce6a+(_0x501f3b-_0x48ce6a)*_0x18b688,_0x48ce6a=_0x21bd63['qScale2'][_0x660feb],_0x501f3b=_0x21bd63['qScale2'][_0x24e5c2],_0x6ce2b8=_0x48ce6a+(_0x501f3b-_0x48ce6a)*_0x18b688,_0x48ce6a=_0x21bd63['qAlpha'][_0x660feb],_0x501f3b=_0x21bd63['qAlpha'][_0x24e5c2],_0x25b15e=_0x48ce6a+(_0x501f3b-_0x48ce6a)*_0x18b688,_0x48ce6a=_0x21bd63['qAlpha2'][_0x660feb],_0x501f3b=_0x21bd63['qAlpha2'][_0x24e5c2],_0x58b211=_0x48ce6a+(_0x501f3b-_0x48ce6a)*_0x18b688,_0x48ce6a=_0x21bd63['qRadialSpe'+'ed'][_0x660feb],_0x501f3b=_0x21bd63['qRadialSpe'+'ed'][_0x24e5c2],_0x2e68bb=_0x48ce6a+(_0x501f3b-_0x48ce6a)*_0x18b688,_0x48ce6a=_0x21bd63['qRadialSpe'+'ed2'][_0x660feb],_0x501f3b=_0x21bd63['qRadialSpe'+'ed2'][_0x24e5c2],_0x3eb054=_0x48ce6a+(_0x501f3b-_0x48ce6a)*_0x18b688,_0x2e68bb+=(_0x3eb054-_0x2e68bb)*(_0x3f60ca*(-0x5*0x74+0x11b*0x16+-0x15aa)%(-0x4f*-0x71+-0x253d+0x25f)),Rn['x']=_0x2d3675[_0x37559e*ie],Rn['y']=_0x2d3675[_0x37559e*ie+(-0x1d96+0x1a*-0xcd+0x59*0x91)],Rn['z']=_0x2d3675[_0x37559e*ie+(-0x4*0x98c+0x2*-0x4c1+0x2fb4)],_0x21bd63['localSpace']?Ka['copy'](Rn):Ka['copy'](Rn)['sub'](_0x9f96fa),Ka['normalize']()['mulScalar'](_0x2e68bb),_0x660feb*=0x1108+0x344+-0x1449,_0x24e5c2*=-0x1*0x2630+0x12fe+-0xb*-0x1bf,_0x48ce6a=_0x21bd63['qLocalVelo'+'city'][_0x660feb],_0x501f3b=_0x21bd63['qLocalVelo'+'city'][_0x24e5c2],Ze['x']=_0x48ce6a+(_0x501f3b-_0x48ce6a)*_0x18b688,_0x48ce6a=_0x21bd63['qLocalVelo'+'city'][_0x660feb+(0x3*-0x371+0x1*-0x24d4+0x1f7*0x18)],_0x501f3b=_0x21bd63['qLocalVelo'+'city'][_0x24e5c2+(0x142a+0x2703+0x1d96*-0x2)],Ze['y']=_0x48ce6a+(_0x501f3b-_0x48ce6a)*_0x18b688,_0x48ce6a=_0x21bd63['qLocalVelo'+'city'][_0x660feb+(0x130f+-0x100e+-0x2ff*0x1)],_0x501f3b=_0x21bd63['qLocalVelo'+'city'][_0x24e5c2+(-0x953+0x7*0xad+0x49a)],Ze['z']=_0x48ce6a+(_0x501f3b-_0x48ce6a)*_0x18b688,_0x48ce6a=_0x21bd63['qLocalVelo'+'city2'][_0x660feb],_0x501f3b=_0x21bd63['qLocalVelo'+'city2'][_0x24e5c2],Dn['x']=_0x48ce6a+(_0x501f3b-_0x48ce6a)*_0x18b688,_0x48ce6a=_0x21bd63['qLocalVelo'+'city2'][_0x660feb+(-0x1aa8+0x13a*0xf+0x843)],_0x501f3b=_0x21bd63['qLocalVelo'+'city2'][_0x24e5c2+(-0xad2+0x7*0xbd+0x4*0x16a)],Dn['y']=_0x48ce6a+(_0x501f3b-_0x48ce6a)*_0x18b688,_0x48ce6a=_0x21bd63['qLocalVelo'+'city2'][_0x660feb+(-0xcd1+-0x2114+0x2de7)],_0x501f3b=_0x21bd63['qLocalVelo'+'city2'][_0x24e5c2+(-0x67c+-0xbf2+-0x28*-0x76)],Dn['z']=_0x48ce6a+(_0x501f3b-_0x48ce6a)*_0x18b688,_0x48ce6a=_0x21bd63['qVelocity'][_0x660feb],_0x501f3b=_0x21bd63['qVelocity'][_0x24e5c2],Nt['x']=_0x48ce6a+(_0x501f3b-_0x48ce6a)*_0x18b688,_0x48ce6a=_0x21bd63['qVelocity'][_0x660feb+(-0x899+0x33f+0x55b)],_0x501f3b=_0x21bd63['qVelocity'][_0x24e5c2+(-0x1246+-0x1*0x1201+0x2448)],Nt['y']=_0x48ce6a+(_0x501f3b-_0x48ce6a)*_0x18b688,_0x48ce6a=_0x21bd63['qVelocity'][_0x660feb+(-0x1*-0xd28+-0xd3f*-0x2+-0x27a4)],_0x501f3b=_0x21bd63['qVelocity'][_0x24e5c2+(-0x1f39+-0x2*-0x12f9+-0x6b7)],Nt['z']=_0x48ce6a+(_0x501f3b-_0x48ce6a)*_0x18b688,_0x48ce6a=_0x21bd63['qVelocity2'][_0x660feb],_0x501f3b=_0x21bd63['qVelocity2'][_0x24e5c2],In['x']=_0x48ce6a+(_0x501f3b-_0x48ce6a)*_0x18b688,_0x48ce6a=_0x21bd63['qVelocity2'][_0x660feb+(-0x2*0xec3+0xa68+0xb*0x1bd)],_0x501f3b=_0x21bd63['qVelocity2'][_0x24e5c2+(-0x997+-0x1103+0x1a9b)],In['y']=_0x48ce6a+(_0x501f3b-_0x48ce6a)*_0x18b688,_0x48ce6a=_0x21bd63['qVelocity2'][_0x660feb+(0x182c+-0x65c+-0x11ce)],_0x501f3b=_0x21bd63['qVelocity2'][_0x24e5c2+(0x25af+0x2628+-0x2cf*0x1b)],In['z']=_0x48ce6a+(_0x501f3b-_0x48ce6a)*_0x18b688,Ze['x']+=(Dn['x']-Ze['x'])*ps['x'],Ze['y']+=(Dn['y']-Ze['y'])*ps['y'],Ze['z']+=(Dn['z']-Ze['z'])*ps['z'],_0x21bd63['initialVel'+'ocity']>0x9f*0xb+-0x6*0x37f+0xe25&&(_0x21bd63['emitterSha'+'pe']===qb?(ze['copy'](ps)['mulScalar'](-0x7*-0x178+0x1801+0x2d*-0xc3)['sub'](T['ONE'])['normalize'](),Ze['add'](ze['mulScalar'](_0x21bd63['initialVel'+'ocity']))):Ze['add'](T['FORWARD']['mulScalar'](_0x21bd63['initialVel'+'ocity']))),Nt['x']+=(In['x']-Nt['x'])*ps['x'],Nt['y']+=(In['y']-Nt['y'])*ps['y'],Nt['z']+=(In['z']-Nt['z'])*ps['z'],_0xf57f83+=(_0x56c6ab-_0xf57f83)*ps['y'],_0x1746c8=(_0x1746c8+(_0x6ce2b8-_0x1746c8)*(_0x3f60ca*(-0x4*-0x71a+-0x4cf*-0x6+-0x22*0x89)%(-0x1f06+0xf9*-0x28+0x45ef*0x1)))*v_,_0x23c4db=(_0x58b211-_0x25b15e)*(_0x3f60ca*(-0x1*0x1c0d+0x270+0x1d85)%(-0x1*-0x485+0x1*-0x229f+0x1e1b)),_0x21bd63['meshInstan'+'ce']['node']&&(_0x21bd63['localSpace']?(Ze['x']/=si['x'],Ze['y']/=si['y'],Ze['z']/=si['z']):Vd['transformP'+'oint'](Ze,Ze)),_0x21bd63['localSpace']?(Gd['transformP'+'oint'](Nt,Nt),Ze['add'](Nt)['add'](Ka)):(Ze['add'](Nt['mul'](si)),Ze['add'](Ka['mul'](si))),Bl['copy'](Ze),b_['copy'](Rn)['add'](Ze['mulScalar'](_0x584393)),vt['copy'](b_),_0x2d3675[_0x37559e*ie]=vt['x'],_0x2d3675[_0x37559e*ie+(-0x32b+-0xd2*0x1b+0x1952)]=vt['y'],_0x2d3675[_0x37559e*ie+(0x11e*-0x1f+0x165*0x3+0x1e75)]=vt['z'],_0x2d3675[_0x37559e*ie+(-0xb53*0x2+-0x3*0x557+0x26ae)]+=_0xf57f83*_0x584393,_0x21bd63['wrap']&&_0x21bd63['wrapBounds']&&(_0x21bd63['localSpace']||vt['sub'](_0x9f96fa),vt['x']=Hd(vt['x'],_0x21bd63['wrapBounds']['x'])-_0x21bd63['wrapBounds']['x']*(0x140*0x1a+0x241*0xb+-0x394b+0.5),vt['y']=Hd(vt['y'],_0x21bd63['wrapBounds']['y'])-_0x21bd63['wrapBounds']['y']*(0x1*-0xc92+-0x65c+-0x1*-0x12ee+0.5),vt['z']=Hd(vt['z'],_0x21bd63['wrapBounds']['z'])-_0x21bd63['wrapBounds']['z']*(-0x53*0x57+-0x96b+-0x158*-0x1c+0.5),_0x21bd63['localSpace']||vt['add'](_0x9f96fa)),_0x21bd63['sort']>-0x377*-0x5+-0x3*0x2b3+-0x93a&&(_0x21bd63['sort']===0xee5*-0x1+0x140*-0x6+-0x1*-0x1666?(wr['copy'](vt)['sub'](_0x318d2d),_0x21bd63['particleDi'+'stance'][_0x37559e]=-(wr['x']*wr['x']+wr['y']*wr['y']+wr['z']*wr['z'])):_0x21bd63['sort']===-0x117d+-0x1a9+0x1328?_0x21bd63['particleDi'+'stance'][_0x37559e]=_0x1f0724:_0x21bd63['sort']===0x14ac+-0x1cd+-0x12dc&&(_0x21bd63['particleDi'+'stance'][_0x37559e]=-_0x1f0724))),_0x2e017d?_0x1f0724<0xb27+0x1872+0xd*-0x2bd&&(_0x2d3675[_0x37559e*ie+(-0x94a+0xe*-0x1c9+0x224b*0x1)+_0x21bd63['numParticl'+'esPot']*(0x5e0+0x185c+-0x1*0x1e3a)*ie]=-(-0x1*0x21d5+0x14af+0xd27)):(_0x1f0724>=_0x5bfc82&&(_0x1f0724-=Math['max'](_0x5bfc82,(_0x21bd63['numParticl'+'es']-(0x1dfd+0x1f92+0x3d8e*-0x1))*_0x59f9e2),_0x2d3675[_0x37559e*ie+(-0x11c+-0x1e71+0x1f90)+_0x21bd63['numParticl'+'esPot']*(-0x224e+0x982+0x18ce)*ie]=_0x21bd63['loop']?-0x31c+-0x4e8+0x1*0x805:-(0x1*-0x617+0x7d2+0x1ba*-0x1)),_0x1f0724<-0xb82+-0x294*-0x7+-0x68a&&_0x21bd63['loop']&&(_0x2d3675[_0x37559e*ie+(-0x1e2c+-0x30f+0x213e)+_0x21bd63['numParticl'+'esPot']*(-0x4ff*-0x5+-0x1*0xbd9+-0x50*0x2a)*ie]=-0x235a+-0x22cd*-0x1+0x8e)),_0x2d3675[_0x37559e*ie+(0x38*-0x20+-0x135b+-0xfa*-0x1b)+_0x21bd63['numParticl'+'esPot']*(-0x1d*0x5d+-0x4*-0x5b1+-0xc39*0x1)*ie]<-0x1d8*-0x9+-0x735+0x963*-0x1&&(_0x4e47f5=!(0x228c+0xa4e+-0x2cd9)),_0x2d3675[_0x37559e*ie+(0x34*-0x18+-0xdf4+0x12d7)+_0x21bd63['numParticl'+'esPot']*ie]=_0x1f0724;for(let _0x199f7c=0x11d*-0x1e+0x4b9+-0x1*-0x1cad;_0x199f7c<_0x21bd63['numParticl'+'eVerts'];_0x199f7c++){const _0x50a9ee=(_0x111146*_0x21bd63['numParticl'+'eVerts']+_0x199f7c)*(_0x21bd63['useMesh']?-0x20e9+-0x4d8+0x25c7:-0x3e*0x50+-0x4*-0x513+-0xe8);let _0x5854ff=_0x21bd63['vbCPU'][_0x50a9ee],_0x584015=_0x21bd63['vbCPU'][_0x50a9ee+(0x2327+-0x38b*0x2+-0x1c10)],_0x5e474e=_0x21bd63['vbCPU'][_0x50a9ee+(-0x1d1b*0x1+-0x968+0x2685)];_0x4e47f5||(_0x5854ff=_0x584015=_0x5e474e=0x13d8+0x2*0xbdb+-0x2b8e);const _0x7bec27=_0x111146*_0x21bd63['numParticl'+'eVerts']*_0x4bc757+_0x199f7c*_0x4bc757;_0x378f1f[_0x7bec27]=vt['x'],_0x378f1f[_0x7bec27+(0x880+-0x25a*0x7+0x7f7)]=vt['y'],_0x378f1f[_0x7bec27+(0x12e*-0x19+-0x16bb*0x1+0x343b)]=vt['z'],_0x378f1f[_0x7bec27+(0x7fa+0xfe*0x16+0x1*-0x1dcb)]=_0x319dfa,_0x378f1f[_0x7bec27+(0xab1+-0x1*-0x279+-0xd26)]=_0x21bd63['alignToMot'+'ion']?_0xb3f110:_0x2d3675[_0x37559e*ie+(-0x1788+-0x2307+-0x66*-0x93)],_0x378f1f[_0x7bec27+(-0xdf7+-0xa1f+0x181b)]=_0x1746c8,_0x378f1f[_0x7bec27+(0x3*0x1ea+0x98*0x2+-0x6e8)]=_0x23c4db,_0x378f1f[_0x7bec27+(0x2*-0xbb9+0x1cbd+0x4*-0x151)]=Bl['x'],_0x378f1f[_0x7bec27+(-0x1896+-0xb29+0x2b*0xd5)]=_0x5854ff,_0x378f1f[_0x7bec27+(-0x2*0x1285+-0x1eea+0x43fd)]=_0x584015,_0x378f1f[_0x7bec27+(0x1*-0x19+-0x15c3+0x2*0xaf3)]=_0x5e474e,_0x378f1f[_0x7bec27+(-0x21e8+0x1adf+-0x25c*-0x3)]=Bl['y'],_0x378f1f[_0x7bec27+(0x1463+0x8c5*0x3+0x355*-0xe)]=_0x37559e,_0x378f1f[_0x7bec27+(-0x2048+0x107a+0xfdb)]=Bl['z'],_0x378f1f[_0x7bec27+(-0x1*-0x1fb5+0x2ca+-0x2271*0x1)]=_0x21bd63['vbCPU'][_0x50a9ee+(0x2005*-0x1+-0x1abf+-0x3ac7*-0x1)],_0x21bd63['useMesh']&&(_0x378f1f[_0x7bec27+(0x2*-0x3af+-0x1*0x254b+0x2cb8)]=_0x21bd63['vbCPU'][_0x50a9ee+(0x1*0x1ead+-0x1f56+0xad)],_0x378f1f[_0x7bec27+(-0xb11*0x1+-0x15b*-0x8+0x1*0x49)]=_0x21bd63['vbCPU'][_0x50a9ee+(-0x51f*0x1+0x16*0x2f+0x11a)]);}}if(_0x21bd63['sort']>Du&&_0x21bd63['camera']){const _0x9f66a=_0x21bd63['useMesh']?-0x199*0x5+0xd*0xf1+0x43a*-0x1:0x2*-0x128+0x19b8*-0x1+0x1c0c,_0x5b0e9c=_0x21bd63['particleDi'+'stance'];for(let _0x15ccec=0x1384+0x182e+0x2f*-0xee;_0x15ccec<_0x21bd63['numParticl'+'es'];_0x15ccec++)_0x23b522[_0x15ccec][0x35f*0x3+-0x6d*0x11+0x4*-0xb8]=_0x15ccec,_0x23b522[_0x15ccec][-0xa45+0x1*0x13f+-0x907*-0x1]=_0x5b0e9c[Math['floor'](_0x21bd63['vbCPU'][_0x15ccec*_0x21bd63['numParticl'+'eVerts']*_0x9f66a+(0x2*0xa39+0x22df+0x2*-0x1ba7)])];_0x21bd63['vbOld']['set'](_0x21bd63['vbCPU']),_0x23b522['sort']((_0x3a7dbc,_0xad9d79)=>_0x3a7dbc[0x1e*-0x102+-0xd*-0x18e+0x11*0x97]-_0xad9d79[-0xeee+-0xaf1*0x1+0x10*0x19e]);for(let _0x11d003=0x2673+-0xbd*-0x9+0x1*-0x2d18;_0x11d003<_0x21bd63['numParticl'+'es'];_0x11d003++){const _0x4641a7=_0x23b522[_0x11d003][-0x82e+-0x222a+0x2a58]*_0x21bd63['numParticl'+'eVerts']*_0x9f66a,_0x30c135=_0x11d003*_0x21bd63['numParticl'+'eVerts']*_0x9f66a;for(let _0x3a0b39=0xd*-0xef+-0x1626+0x2249;_0x3a0b39<_0x21bd63['numParticl'+'eVerts']*_0x9f66a;_0x3a0b39++)_0x21bd63['vbCPU'][_0x30c135+_0x3a0b39]=_0x21bd63['vbOld'][_0x4641a7+_0x3a0b39];}}}}const w_=new js(),T_=new js(),A_=new js();class JM{constructor(_0x31255f,_0x47cf95){this['_emitter']=_0x31255f,this['frameRando'+'mUniform']=new Float32Array(-0x2e*-0xc7+-0x844+-0x1b7b),this['emitterPos'+'Uniform']=new Float32Array(0x550+0xd*-0x241+-0x2*-0xc00),this['emitterSca'+'leUniform']=new Float32Array([0x1f0d+0x2059+-0x1*0x3f65,0x23f3*-0x1+0xe3e+0x15b6,0xe73+-0x4*0x709+0xdb2*0x1]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(0x150e+0x1883+-0x2d8e),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(0x16ee*-0x1+0x2*-0x34a+0x2af*0xb),this['inBoundsSi'+'zeUniform']=new Float32Array(0x1ee0+-0x5dc+-0x1901),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(0x4d*0x1c+-0x1f29+0x16c0),this['constantPa'+'rticleTexI'+'N']=_0x47cf95['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x47cf95['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x47cf95['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x47cf95['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x47cf95['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x47cf95['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x47cf95['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x47cf95['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x47cf95['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x47cf95['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x47cf95['scope']['resolve']('delta'),this['constantRa'+'te']=_0x47cf95['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x47cf95['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x47cf95['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x47cf95['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x47cf95['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x47cf95['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x47cf95['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x47cf95['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x47cf95['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x47cf95['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x47cf95['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x47cf95['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x47cf95['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x47cf95['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x47cf95['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x47cf95['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x47cf95['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x47cf95['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x47cf95['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x47cf95['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x47cf95['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x47cf95['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x47cf95['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x47cf95['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x47cf95['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x47cf95['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][0x1a9e+-0x688+0x1416*-0x1]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][-0x55d*0x3+0x11b*0x3+0xcc7]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][-0x89e*-0x1+0xd90+0x56*-0x42]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][-0x1e10+-0x29*0x15+0x216d]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][-0x11c7+0x15*0x10c+-0x4*0x10d]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][0x153b+0xd6a+0x1*-0x22a3]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][-0x3*0xc3f+-0x1*0x183a+0x3cf7*0x1]=Math['random'](),this['frameRando'+'mUniform'][-0x2*-0xfe3+0x1192+-0x3157*0x1]=Math['random'](),this['frameRando'+'mUniform'][-0xdad+-0x653*0x1+0x1402]=Math['random']();}['update'](_0x45464d,_0x1adc43,_0x364544,_0x5a67b0,_0x10f38b){G['pushGpuMar'+'ker'](_0x45464d,'ParticleGP'+'U');const _0x443674=this['_emitter'];_0x45464d['setBlendSt'+'ate'](_t['NOBLEND']),_0x45464d['setDepthSt'+'ate'](as['NODEPTH']),_0x45464d['setCullMod'+'e'](mt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((-0xead+0x1e75+0xfc7*-0x1)/_0x443674['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x443674['precision']),this['constantNu'+'mParticles']['setValue'](_0x443674['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x443674['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x443674['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x443674['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x443674['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x443674['internalTe'+'x3']);const _0x52640d=_0x443674['meshInstan'+'ce']['node'],_0x2fb75b=_0x52640d===null?T['ONE']:_0x52640d['localScale'];if(_0x443674['pack8']){this['worldBound'+'sMulUnifor'+'m'][0x13e*0x1+-0x2503+0x1*0x23c5]=_0x443674['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][-0x1119+-0x26ad+0x37c7]=_0x443674['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][-0x136d+0x1913+-0x5a4*0x1]=_0x443674['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][-0xf5b*0x1+0x16e8*0x1+0x1*-0x78d]=_0x443674['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][-0x4c*-0xe+-0x1e32+0x1a0b]=_0x443674['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][0xb*0x20f+-0xcb5*0x1+0x1f*-0x52]=_0x443674['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x1d6c46=_0x443674['maxVel']*Math['max'](Math['max'](_0x2fb75b['x'],_0x2fb75b['y']),_0x2fb75b['z']);_0x1d6c46=Math['max'](_0x1d6c46,0x11*0x4d+0xd62+-0x127e),this['constantMa'+'xVel']['setValue'](_0x1d6c46);}const _0x46bec0=_0x52640d===null||_0x443674['localSpace']?T['ZERO']:_0x52640d['getPositio'+'n'](),_0x1e0e6f=_0x52640d===null?q['IDENTITY']:_0x52640d['getWorldTr'+'ansform']();_0x443674['emitterSha'+'pe']===Vs?(w_['setFromMat'+'4'](_0x1adc43),this['constantSp'+'awnBounds']['setValue'](w_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x364544)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x443674['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x443674['emitterRad'+'ius']===0x1935+0x223*-0x11+0xb1e?-0x1*-0x1007+-0x5*-0x3f3+0x2*-0x11e3:_0x443674['emitterRad'+'iusInner']/_0x443674['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x443674['initialVel'+'ocity']),T_['setFromMat'+'4'](_0x1e0e6f),A_['invertMat4'](_0x1e0e6f),this['emitterPos'+'Uniform'][-0x1*0x1cf+0x11db*0x1+-0x100c]=_0x46bec0['x'],this['emitterPos'+'Uniform'][-0x377*-0x7+0x184*0x11+-0x3204]=_0x46bec0['y'],this['emitterPos'+'Uniform'][-0x99c*0x1+-0x6da*0x3+-0xf16*-0x2]=_0x46bec0['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x5a67b0),this['constantRa'+'te']['setValue'](_0x443674['rate']),this['constantRa'+'teDiv']['setValue'](_0x443674['rate2']-_0x443674['rate']),this['constantSt'+'artAngle']['setValue'](_0x443674['startAngle']*N['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x443674['startAngle'+'2']*N['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x443674['seed']),this['constantLi'+'fetime']['setValue'](_0x443674['lifetime']),this['emitterSca'+'leUniform'][0x1618+-0xf17+-0x701]=_0x2fb75b['x'],this['emitterSca'+'leUniform'][-0x2597+-0x1*0x53f+0x2ad7]=_0x2fb75b['y'],this['emitterSca'+'leUniform'][-0x16a+-0x2361+0x24cd*0x1]=_0x2fb75b['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](T_['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](A_['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x443674['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x443674['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x443674['rotSpeedUM'+'ax'][0x183*-0xa+-0x2*-0xa21+-0x524]);let _0x48c90a=_0x443674['swapTex']?_0x443674['particleTe'+'xOUT']:_0x443674['particleTe'+'xIN'];_0x48c90a=_0x443674['beenReset']?_0x443674['particleTe'+'xStart']:_0x48c90a;const _0x2b9e80=_0x443674['swapTex']?_0x443674['particleTe'+'xIN']:_0x443674['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x48c90a),dn(_0x45464d,_0x443674['swapTex']?_0x443674['rtParticle'+'TexIN']:_0x443674['rtParticle'+'TexOUT'],_0x10f38b?_0x443674['shaderPart'+'icleUpdate'+'OnStop']:_0x443674['loop']?_0x443674['shaderPart'+'icleUpdate'+'Respawn']:_0x443674['shaderPart'+'icleUpdate'+'NoRespawn']),_0x443674['material']['setParamet'+'er']('particleTe'+'xOUT',_0x48c90a),_0x443674['material']['setParamet'+'er']('particleTe'+'xIN',_0x2b9e80),_0x443674['beenReset']=!(0x62*0x34+-0x1c8b+0x2*0x452),_0x443674['swapTex']=!_0x443674['swapTex'],_0x443674['prevWorldB'+'oundsSize']['copy'](_0x443674['worldBound'+'sSize']),_0x443674['prevWorldB'+'oundsCente'+'r']['copy'](_0x443674['worldBound'+'s']['center']),_0x443674['pack8']&&this['_setInputB'+'ounds'](),G['popGpuMark'+'er'](_0x45464d);}}class e1 extends It{['generateKe'+'y'](_0x43885f){let _0x598949='particle_'+It['definesHas'+'h'](_0x43885f['defines'])+'_';for(const _0x366e46 in _0x43885f)_0x43885f['hasOwnProp'+'erty'](_0x366e46)&&(_0x598949+=_0x43885f[_0x366e46]);return _0x598949;}['_animTex'](_0x507ada){let _0x3566d5='';return _0x3566d5+=_0x507ada['animTexLoo'+'p']?X['particleAn'+'imFrameLoo'+'pVS']:X['particleAn'+'imFrameCla'+'mpVS'],_0x3566d5+=X['particleAn'+'imTexVS'],_0x3566d5;}['createShad'+'erDefiniti'+'on'](_0x19453d,_0x3c2ff4){const _0x203c0b='#define\x20PA'+'RTICLE_'+(_0x3c2ff4['useCpu']?'CPU':'GPU')+'\x0a';let _0x12a043='#define\x20PA'+'RTICLE\x0a'+_0x203c0b,_0x4480cd='#define\x20VE'+'RTEXSHADER'+'\x0a'+_0x203c0b;_0x3c2ff4['mesh']&&(_0x4480cd+='#define\x20US'+'E_MESH\x0a'),_0x3c2ff4['localSpace']&&(_0x4480cd+='#define\x20LO'+'CAL_SPACE\x0a'),_0x3c2ff4['screenSpac'+'e']&&(_0x4480cd+='#define\x20SC'+'REEN_SPACE'+'\x0a'),_0x3c2ff4['animTex']&&(_0x4480cd+='\x0auniform\x20v'+'ec2\x20animTe'+'xTilesPara'+'ms;\x0a'),_0x3c2ff4['animTex']&&(_0x4480cd+='\x0auniform\x20v'+'ec4\x20animTe'+'xParams;\x0a'),_0x3c2ff4['animTex']&&(_0x4480cd+='\x0auniform\x20v'+'ec2\x20animTe'+'xIndexPara'+'ms;\x0a'),_0x3c2ff4['normal']===-0x891+-0x261+0xaf4&&(_0x4480cd+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x3c2ff4['normal']===0x2593+0x1*-0x2239+-0x359*0x1&&(_0x4480cd+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a'),_0x3c2ff4['soft']&&(_0x4480cd+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a');const _0xa8ef10=_0x3c2ff4['customFace']?X['particle_c'+'ustomFaceV'+'S']:X['particle_b'+'illboardVS'];_0x3c2ff4['useCpu']?(_0x3c2ff4['soft']>-0x347+-0x1af*0xd+0x192a&&(_0x4480cd+=X['screenDept'+'hPS']),_0x4480cd+=X['particle_c'+'puVS'],_0x3c2ff4['localSpace']&&(_0x4480cd+=X['particle_l'+'ocalShiftV'+'S']),_0x3c2ff4['animTex']&&(_0x4480cd+=this['_animTex'](_0x3c2ff4)),_0x3c2ff4['alignToMot'+'ion']&&(_0x4480cd+=X['particle_p'+'ointAlongV'+'S']),_0x4480cd+=_0x3c2ff4['mesh']?X['particle_m'+'eshVS']:_0xa8ef10,_0x3c2ff4['normal']===0x1c67+-0x1ceb*-0x1+-0xdb*0x43&&(_0x4480cd+=X['particle_n'+'ormalVS']),_0x3c2ff4['normal']===0x1b9f+-0x6*0x5bf+-0x6dd*-0x1&&(_0x4480cd+=X['particle_T'+'BNVS']),_0x3c2ff4['stretch']>-0x4f*-0x2f+-0x14ee*-0x1+-0x1*0x236f&&(_0x4480cd+=X['particle_s'+'tretchVS']),_0x4480cd+=X['particle_c'+'pu_endVS'],_0x3c2ff4['soft']>0x1ecb+0xb8c+0x1*-0x2a57&&(_0x4480cd+=X['particle_s'+'oftVS'])):(_0x4480cd+=X['particle_i'+'nitVS'],_0x4480cd+=_0x3c2ff4['pack8']?X['particleIn'+'putRgba8PS']:X['particleIn'+'putFloatPS'],_0x3c2ff4['soft']>-0x1c84+-0x2529+0x41ad&&(_0x4480cd+=X['screenDept'+'hPS']),_0x4480cd+=X['particleVS'],_0x3c2ff4['localSpace']&&(_0x4480cd+=X['particle_l'+'ocalShiftV'+'S']),_0x3c2ff4['animTex']&&(_0x4480cd+=this['_animTex'](_0x3c2ff4)),_0x3c2ff4['wrap']&&(_0x4480cd+=X['particle_w'+'rapVS']),_0x3c2ff4['alignToMot'+'ion']&&(_0x4480cd+=X['particle_p'+'ointAlongV'+'S']),_0x4480cd+=_0x3c2ff4['mesh']?X['particle_m'+'eshVS']:_0xa8ef10,_0x3c2ff4['normal']===-0xeb2+0x238+0xc7b&&(_0x4480cd+=X['particle_n'+'ormalVS']),_0x3c2ff4['normal']===-0x788*0x2+-0x399+0x3b*0x51&&(_0x4480cd+=X['particle_T'+'BNVS']),_0x3c2ff4['stretch']>-0x2*-0x40d+0x29*0x55+-0x15b7&&(_0x4480cd+=X['particle_s'+'tretchVS']),_0x4480cd+=X['particle_e'+'ndVS'],_0x3c2ff4['soft']>-0xe*-0x285+0xfe0+-0x1993*0x2&&(_0x4480cd+=X['particle_s'+'oftVS'])),_0x4480cd+='}\x0a',_0x3c2ff4['normal']>-0x9d5*-0x3+-0xea7+-0xed8&&(_0x3c2ff4['normal']===0x101*0x15+0x1*0x460+-0x1974?_0x12a043+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a':_0x3c2ff4['normal']===0x5af+0x1df*-0xa+0x47*0x2f&&(_0x12a043+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x12a043+='\x0auniform\x20v'+'ec3\x20lightC'+'ube[6];\x0a'),_0x3c2ff4['soft']&&(_0x12a043+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a'),_0x12a043+=X['decodePS'],_0x12a043+='#include\x20\x22'+'gammaPS\x22\x0a',_0x12a043+='#include\x20\x22'+'tonemappin'+'gPS\x22\x0a',_0x12a043+='#include\x20\x22'+'fogPS\x22\x0a',_0x3c2ff4['normal']===0x129b+0x1*-0x1547+0xe*0x31&&(_0x12a043+='\x0auniform\x20s'+'ampler2D\x20n'+'ormalMap;\x0a'),_0x3c2ff4['soft']>0x5fd+0x2*0x1d+0x25*-0x2b&&(_0x12a043+=X['screenDept'+'hPS']),_0x12a043+=X['particlePS'],_0x3c2ff4['soft']>-0x16*0x4e+-0x42*-0x79+-0x187e&&(_0x12a043+=X['particle_s'+'oftPS']),_0x3c2ff4['normal']===0x1c99+0x14df+-0x57f*0x9&&(_0x12a043+='\x0avec3\x20norm'+'al\x20=\x20Norma'+'l;\x0a'),_0x3c2ff4['normal']===-0x1*0x14b7+-0x2274+0x372d&&(_0x12a043+=X['particle_n'+'ormalMapPS']),_0x3c2ff4['normal']>-0x20ed+0xa3*0x8+-0x39*-0x7d&&(_0x12a043+=_0x3c2ff4['halflamber'+'t']?X['particle_h'+'alflambert'+'PS']:X['particle_l'+'ambertPS']),_0x3c2ff4['normal']>0xe*-0x25+-0x13ba+0x15c0&&(_0x12a043+=X['particle_l'+'ightingPS']),_0x3c2ff4['blend']===Kt?_0x12a043+=X['particle_b'+'lendNormal'+'PS']:_0x3c2ff4['blend']===yp?_0x12a043+=X['particle_b'+'lendAddPS']:_0x3c2ff4['blend']===xp&&(_0x12a043+=X['particle_b'+'lendMultip'+'lyPS']),_0x12a043+=X['particle_e'+'ndPS'];const _0xacf039=new Map(Object['entries']({...X,..._0x3c2ff4['chunks']}));return Mt['createDefi'+'nition'](_0x19453d,{'name':'ParticleSh'+'ader','vertexCode':_0x4480cd,'fragmentCode':_0x12a043,'fragmentDefines':_0x3c2ff4['defines'],'fragmentIncludes':_0xacf039,'vertexDefines':_0x3c2ff4['defines']});}}const t1=new e1();class s1 extends yn{constructor(_0x4c9297){super(),c(this,'emitter',null),(this['emitter']=_0x4c9297,v['assert'](_0x4c9297));}['getShaderV'+'ariant'](_0x5dbb8b){const {device:_0x1570d8,scene:_0x2e20d6,cameraShaderParams:_0xcc4900}=_0x5dbb8b,{emitter:_0x27b27f}=this,_0x12a04b={'defines':Dp(this,_0x5dbb8b),'pass':gn,'useCpu':this['emitter']['useCpu'],'normal':_0x27b27f['lighting']?_0x27b27f['normalMap']!==null?0x1286*-0x1+0x2549+-0x1*0x12c1:-0x2*0x1df+-0x1516+0x1e9*0xd:0x2*0x1306+0x1448+-0x3a54*0x1,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'gamma':(_0xcc4900==null?void(0x51*-0x23+0x4c3+0x650):_0xcc4900['shaderOutp'+'utGamma'])??sl,'toneMap':(_0xcc4900==null?void(0x1f64+0x5*0x472+-0x359e):_0xcc4900['toneMappin'+'g'])??Ap,'fog':_0x2e20d6&&!this['emitter']['noFog']?_0x2e20d6['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x27b27f['inTools']?!(-0x1b71*-0x1+-0x1*-0x21ca+-0x3d3a):this['emitter']['screenSpac'+'e'],'blend':this['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==Uh},_0xb889b=new Yc(_0x5dbb8b['viewUnifor'+'mFormat'],_0x5dbb8b['viewBindGr'+'oupFormat'],_0x5dbb8b['vertexForm'+'at']),_0x373219=ka(_0x1570d8);return _0x373219['register']('particle',t1),_0x373219['getProgram']('particle',_0x12a04b,_0xb889b,this['userId']);}}const E_=[[-(0x1735+0x3fd*0x1+-0x1b31*0x1),-(-0xb*0x1b7+-0x161d+0xd*0x327)],[-0x24e2+0x256*-0xc+0x1*0x40eb,-(-0x238f+-0x18e6+0x3c76*0x1)],[-0x12f8+-0x5c6+0x5*0x4f3,0x276*-0x7+0x647*-0x1+0x1782],[-(-0xa1b+-0x1d63+0x277f*0x1),-0x9bf*0x3+0x974+0x13ca]];function Qt(_0x271454,_0x42ce57,_0x3ceaaa,_0x599bf6,_0x85077e=Ke,_0xa8a7ff,_0x43b730){let _0xc0a09b=de;_0x43b730&&(_0x85077e===Se||_0x85077e===rs)&&(_0xc0a09b=st);const _0x13af9b=new he(_0x271454,{'width':_0x42ce57,'height':_0x3ceaaa,'format':_0x85077e,'cubemap':!(0xd43+-0x1*-0x1cf0+0x1519*-0x2),'mipmaps':!(0x5f*0x44+-0x1780+0x1*-0x1bb),'minFilter':_0xc0a09b,'magFilter':_0xc0a09b,'addressU':ae,'addressV':ae,'name':'ParticleSy'+'stemTextur'+'e'}),_0x194452=_0x13af9b['lock']();if(_0x85077e===Se||_0x85077e===rs){const _0x3c17bc=new Uint8Array(_0x599bf6['length']);for(let _0x16e858=0xd3c+0x21ee+-0x2f2a;_0x16e858<_0x599bf6['length'];_0x16e858++)_0x3c17bc[_0x16e858]=_0x599bf6[_0x16e858]*_0xa8a7ff*(0x1e4+0x9*0xdc+-0x8a1);_0x599bf6=_0x3c17bc;}return _0x194452['set'](_0x599bf6),_0x13af9b['unlock'](),_0x13af9b;}function C_(_0xef7357){return Math['max'](Math['min'](_0xef7357,-0x172*-0x1+-0x1a44+0x18d3),0x38b*-0x1+0x1*0x1867+0x59*-0x3c);}const M_=new Cs([0xe35*-0x2+0x262c+-0x9c2*0x1,-0x1a56+0x213*0x9+0x7ab,0xe5*-0x7+0xc11*-0x1+0x1255,-0x21c2+0x1d66+0x45c]),P_=new Cs([0xc*-0x20b+-0x1377*0x1+0x2bfb,0x1277+-0x6be*0x1+0x8*-0x177,-0x115e+-0x63+0x8e1*0x2,0x2*-0xada+0x14*0x179+-0x7bf]),R_=new jr([-0xbf*0x1f+-0x15d7+0x167c*0x2,-0x893+-0x7d1*-0x3+-0xee0,-0x1dd4+0x1*-0x2287+-0x1*-0x405c,0x15ce+0x1f9d+-0x356b],[0x8dd+-0x7b8+-0x125,0x4f*0x63+-0xfb*0x1c+-0x319,-0x14c8+0x1024+-0x4a5*-0x1,-0x12bb+0x1bc4+-0x9*0x101],[-0x1f9c+0x745*0x3+0xc1*0xd,0x72f+0x1cdc+-0x240b,-0x4eb+0x26b1+-0x21c5,0x4*-0x118+-0xf6e+-0x1fb*-0xa]),i1=new jr([0x18fe+0x727*-0x5+-0x3*-0x397,0x56d+-0x2*-0x53+0x1*-0x612,-0x3*-0x3e7+0x159e+0xa*-0x355,0x204+0x3*0x3b1+0x5*-0x29e],[-0x593*0x1+0x1f9*-0xa+0x86f*0x3,0x12f*0x12+0xf76+-0xc41*0x3,-0x2669+-0x1*-0x305+0x2365,-0x1383+-0x13d*0x1+0x14c1],[-0x6db+-0x358+-0xa33*-0x1,-0x6b*-0x2+0x2703*0x1+-0x27d8,-0x1cad+0x158*0x1+-0xdab*-0x2,0x252d+0xd*0x1eb+-0x3e1b]);let ii=-0x262b+-0x7fb+0x2e28;const zl=0x1c4b+-0xd7a+-0xecd,ri=new Float32Array(-0x32f+-0x2c4*-0xa+-0xc3b*0x2),Tr=new q(),I_=new T(),Ul=new T(),Vl=new T();let Hu,fh;function re(_0x50b938,_0x115086){fh[_0x50b938]!==void(0x267d+-0x1bf2+-0xa8b*0x1)&&fh[_0x50b938]!==null?Hu[_0x50b938]=fh[_0x50b938]:Hu[_0x50b938]=_0x115086;}function O0(_0x292985,_0x2f558e,_0x304b7a){return(_0x292985*(0xd34+-0x12fc+-0x6c7*-0x1)<<-0x1*-0x210f+0x39*0x5b+-0x322*0x11|_0x2f558e*(-0x6*0x51a+-0x33e*-0x3+-0x74b*-0x3)<<-0xad9*0x1+-0x1ded+0x28ce|_0x304b7a*(0x1283+0x19f6+0x2e6*-0xf))/(0x3*-0xbb9+0x1b41+0x7eb<<0x15e4+0x181e+0x12*-0x28d);}function D_(_0x10dcad,_0x1ce10f){const _0x216fd8=_0x10dcad['length']/(-0xf32+-0x62f*-0x1+0x906),_0x5f439b=new Array(_0x216fd8*(0x2*-0x2ec+0x18d7*0x1+-0x12fb));for(let _0x1d6ac4=-0x6b6*0x2+0x1*-0x1d41+-0x23f*-0x13;_0x1d6ac4<_0x216fd8;_0x1d6ac4++)_0x5f439b[_0x1d6ac4*(-0xaff+0x355*-0x3+-0x1*-0x1502)]=_0x10dcad[_0x1d6ac4*(-0xf6d+-0x10d*0x25+0x39f*0xf)],_0x5f439b[_0x1d6ac4*(-0x10be+0x203*-0x2+0x14c8)+(0x6*-0x613+0x10*0x255+-0xdd)]=_0x10dcad[_0x1d6ac4*(0xb*-0x109+-0x1f5+-0x1*-0xd5b)+(0x200c+-0x1*0x1187+0x1*-0xe84)],_0x5f439b[_0x1d6ac4*(0x25d9+-0x1a51+0x10c*-0xb)+(0x146c+0x1b95+0x1*-0x2fff)]=_0x10dcad[_0x1d6ac4*(-0x8d1+0xc5a+0x1*-0x386)+(0x733+-0x33b+-0x3f6)],_0x5f439b[_0x1d6ac4*(0x34*0x92+-0x74a+-0x165a)+(0x1648+-0x22ee+0xca9)]=O0(_0x1ce10f[_0x1d6ac4*(-0x184e+-0x2f*0x27+0x1f7a)],_0x1ce10f[_0x1d6ac4*(0x272*-0x7+0x25c7+-0x14a6)+(0x4dc*0x7+0x245f+-0x4662)],_0x1ce10f[_0x1d6ac4*(-0x1abc+-0x13a3+-0x6*-0x7bb)+(-0x61*-0x65+-0x2d0+0xb*-0x339)]);return _0x5f439b;}function r1(_0x532fef,_0x42d796){const _0x140de8=new Array(_0x42d796['length']*(-0x1*-0xf07+-0x265f+0x104*0x17));for(let _0x3c44f0=0x2442+-0x7f*0x3d+-0x1*0x5ff;_0x3c44f0<_0x42d796['length'];_0x3c44f0++)_0x140de8[_0x3c44f0*(0x53*-0x16+-0x49c*0x1+-0x1ae*-0x7)]=_0x532fef[_0x3c44f0*(0x115a+0x123c+-0x7*0x515)],_0x140de8[_0x3c44f0*(-0x73+-0x12*0xa7+0x5*0x271)+(0x14e7+0x133d+-0x2823)]=_0x532fef[_0x3c44f0*(-0x4*0x12a+0x1181+-0xcd6*0x1)+(-0x1eeb+-0x1*-0x7c+0x1e70)],_0x140de8[_0x3c44f0*(-0x1*-0x1aeb+-0x182*-0x1+-0x1c69)+(0x6db+0x11ca+0x7*-0x385)]=_0x532fef[_0x3c44f0*(-0x1cd5+0xd6c*-0x2+-0x90*-0x63)+(0x752+0xeb7*-0x1+-0x767*-0x1)],_0x140de8[_0x3c44f0*(0xd93*-0x2+0x302+0x1828)+(-0x23ca+0x16*0x6d+-0x43*-0x65)]=_0x42d796[_0x3c44f0];return _0x140de8;}function n1(_0x49cfd0,_0x38b4a4,_0x216719,_0x262051,_0x38f907){const _0x1ac484=new Array(_0x49cfd0['length']*(0xcd1+-0x56*0x17+-0x3*0x1b1));for(let _0x18c6b7=0x109c+-0x1509+0x1*0x46d;_0x18c6b7<_0x49cfd0['length'];_0x18c6b7++)_0x1ac484[_0x18c6b7*(-0x1fd1+-0x3*-0xcd0+0x69b*-0x1)]=_0x49cfd0[_0x18c6b7],_0x1ac484[_0x18c6b7*(0x1671+0x626*-0x4+0x22b)+(0x1f79*-0x1+-0x21d3+0x414d)]=_0x38b4a4[_0x18c6b7],_0x1ac484[_0x18c6b7*(0x1dca+-0x2*-0x6d2+0x2*-0x15b5)+(-0x94*0x1+0x9b7+-0x921)]=-0x79*-0x29+0x1353*-0x1+-0xe,_0x1ac484[_0x18c6b7*(-0xcc0+-0x1bf0+0x412*0xa)+(-0x23c*0x7+-0x761*0x2+0x1e69)]=O0(_0x216719[_0x18c6b7],_0x262051[_0x18c6b7],_0x38f907[_0x18c6b7]);return _0x1ac484;}function a1(_0x424518,_0x33a718){const _0x3cf18d=new Array(_0x424518['length']*(-0x2668+-0x9e5+0x3051));for(let _0x197837=0xe*-0x291+-0x1f2e+0x431c;_0x197837<_0x424518['length'];_0x197837++)_0x3cf18d[_0x197837*(-0x20d5+-0x158*-0x2+0x1e29)]=_0x424518[_0x197837],_0x3cf18d[_0x197837*(-0x1940+-0x1f27+0x386b)+(0x494*-0x6+-0x1bbc+0x3*0x1267)]=_0x33a718[_0x197837],_0x3cf18d[_0x197837*(-0x230b*-0x1+0x1ebd+0x16e*-0x2e)+(0x125d+0x122b+-0x2486)]=0x2*0x5e5+0x90f*0x1+-0x14d9,_0x3cf18d[_0x197837*(-0x28*0x72+-0x1*0x548+0x171c)+(0xbaf*-0x2+-0x59c*0x4+0x2dd1)]=0xb*-0x2dd+-0x1de0*-0x1+0x19f;return _0x3cf18d;}function o1(_0x3fd674){const _0x2ef9b5=Math['max'](_0x3fd674['rate'],_0x3fd674['rate2'])*_0x3fd674['numParticl'+'es']+_0x3fd674['lifetime'];return Date['now']()+_0x2ef9b5*(0x918+-0x2*0xff8+0x1ac0);}function l1(_0x5f3aae,_0x3b4d75){const _0x375b63=new Float32Array(_0x5f3aae['length']);for(let _0x272fea=-0x1*0x9fd+-0x16c5+0x2*0x1061;_0x272fea<_0x5f3aae['length'];_0x272fea++)_0x375b63[_0x272fea]=_0x5f3aae[_0x272fea]-_0x3b4d75[_0x272fea];return _0x375b63;}function Fr(_0x5a4e7b,_0x328529){const _0x2ac0b1=_0x328529['length'],_0x2cb64d=_0x5a4e7b['length']/_0x2ac0b1;for(let _0x5e40ec=-0x1536+0x2*-0xd3c+-0x11*-0x2ce;_0x5e40ec<_0x2cb64d;_0x5e40ec++)for(let _0x597423=-0xda5+-0x65*-0x12+0x68b;_0x597423<_0x2ac0b1;_0x597423++){const _0x1077e8=Math['abs'](_0x5a4e7b[_0x5e40ec*_0x2ac0b1+_0x597423]);_0x328529[_0x597423]=Math['max'](_0x328529[_0x597423],_0x1077e8);}}function h1(_0x3cfc1a,_0x2586b3){const _0x58dc91=_0x2586b3['length'],_0x4be51d=_0x3cfc1a['length']/_0x58dc91;for(let _0x9f6c0=-0x1e95+0x1c9*0x2+0x1b03;_0x9f6c0<_0x4be51d;_0x9f6c0++)for(let _0x45cadc=0x1ece+-0x9fa*0x1+0xa6a*-0x2;_0x45cadc<_0x58dc91;_0x45cadc++)_0x3cfc1a[_0x9f6c0*_0x58dc91+_0x45cadc]/=_0x2586b3[_0x45cadc]===-0x2634+0x4f*0x26+0x1a7a?-0xa55+-0x1946+-0x35*-0xac:_0x2586b3[_0x45cadc],_0x3cfc1a[_0x9f6c0*_0x58dc91+_0x45cadc]*=0x1a*0x1f+0x253*0x8+-0x1fa*0xb+0.5,_0x3cfc1a[_0x9f6c0*_0x58dc91+_0x45cadc]+=0x141f+0x6d*0x5b+0x5*-0xbc6+0.5;}function Ar(_0x4a902b,_0x163aab,_0xf2aa34){const _0x386c9c=l1(_0x163aab,_0x4a902b);return Fr(_0x386c9c,_0xf2aa34),h1(_0x386c9c,_0xf2aa34),_0x386c9c;}const c1=new Ot();class d1{constructor(_0x23907d,_0x38371b){c(this,'material',null),c(this,'internalTe'+'x0',null),c(this,'internalTe'+'x1',null),c(this,'internalTe'+'x2',null),c(this,'colorParam',null),this['graphicsDe'+'vice']=_0x23907d;const _0x9c08e3=_0x23907d,_0x3ea2b0=0x16ad+-0xd*0xeb+-0xa9e;this['precision']=_0x3ea2b0,this['_addTimeTi'+'me']=0x4*-0x737+0x1c99*-0x1+0x3975,Hu=this,fh=_0x38371b,re('numParticl'+'es',-0x223+0x3*-0x5ef+-0x13f1*-0x1),this['numParticl'+'es']>_0x23907d['maxTexture'+'Size']&&(v['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x23907d['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x23907d['maxTexture'+'Size']),re('rate',0x1b*0xe+0xb7a+-0xcf3),re('rate2',this['rate']),re('lifetime',0x1*-0x16c9+-0xc20*-0x1+0x1*0xadb),re('emitterExt'+'ents',new T(0x4*0x8e5+-0x2510+0x17c*0x1,0x544*0x6+-0x1*0x808+0x5e4*-0x4,0x4*-0x27e+0x12c2+0x177*-0x6)),re('emitterExt'+'entsInner',new T(-0xde5*0x2+0x95c*-0x3+-0x37de*-0x1,-0x2065*-0x1+-0x8fb+-0x176a,0x23ba+0xb*0x1e6+0xe27*-0x4)),re('emitterRad'+'ius',-0x1df8+0xb0a+0x12ee),re('emitterRad'+'iusInner',0x15ed*-0x1+-0x1fdb+0x35c8),re('emitterSha'+'pe',Vs),re('initialVel'+'ocity',0xc7*-0x2b+-0x17cd*0x1+0x467*0xd),re('wrap',!(-0x1bf5+0x1*-0x1999+0x358f)),re('localSpace',!(0x12ed+0x1799+-0x2a85)),re('screenSpac'+'e',!(-0x15b9+-0xb55+-0x5d*-0x5b)),re('wrapBounds',null),re('colorMap',this['defaultPar'+'amTexture']),re('normalMap',null),re('loop',!(0x9ec+-0x19*0x67+0x23)),re('preWarm',!(-0x7*0xca+-0x42c+0x9b3)),re('sort',Du),re('mode',d0),re('scene',null),re('lighting',!(0xed3+0x221a*-0x1+0x1348)),re('halfLamber'+'t',!(0x1*0x1ba3+-0x1a*-0xc0+0xfb6*-0x3)),re('intensity',-0x4c*0x5+0xf7f*-0x1+0x4*0x43f),re('stretch',-0x10f2*-0x2+0x2545+-0x4729),re('alignToMot'+'ion',!(0x1c9b*0x1+0x1c38+-0x38d2)),re('depthSofte'+'ning',-0x196b*-0x1+0x1*-0xf7e+-0x9ed),re('mesh',null),re('particleNo'+'rmal',new T(-0x20b*0x1+-0x20d0+0x22db,0x1*0x1b3+-0x17ae*-0x1+-0x1960,0x2*-0x1245+-0x1*0x17de+0x3c68)),re('orientatio'+'n',Uh),re('depthWrite',!(-0x14c3+0x2*0xacf+-0xda)),re('noFog',!(-0x76d+0x1*0x665+0x109)),re('blendType',Kt),re('node',null),re('startAngle',0x886*-0x2+-0x1d65+-0xf7b*-0x3),re('startAngle'+'2',this['startAngle']),re('animTilesX',-0x15e2*-0x1+0xf7f+-0x2560),re('animTilesY',0x1be2+0x72b+-0x230c),re('animStartF'+'rame',0x1142+0x2*0x12f9+-0x3734),re('animNumFra'+'mes',0x333*-0x6+0x4*0x97c+0x12bd*-0x1),re('animNumAni'+'mations',0x169*-0x19+-0x144f*-0x1+0xef3),re('animIndex',-0x483+0x835+-0x3b2),re('randomizeA'+'nimIndex',!(-0x2016+0x7cb+0x4*0x613)),re('animSpeed',0x278*0xb+0x1*-0x1e2e+-0x19*-0x1f),re('animLoop',!(-0x25*-0xcc+-0x75c*0x2+-0x2d*0x54)),this['_gpuUpdate'+'r']=new JM(this,_0x9c08e3),this['_cpuUpdate'+'r']=new QM(this),this['emitterPos'+'Uniform']=new Float32Array(-0x452+-0x15e8+0x1a3d),this['wrapBounds'+'Uniform']=new Float32Array(-0x1604+-0x1574+-0x1*-0x2b7b),this['emitterSca'+'leUniform']=new Float32Array([0x6*0x5aa+-0x5f*-0x29+-0x3132,0x33*0x49+0xb9b+-0x1a25,-0x71*-0x16+0x1926+-0x22db]),re('colorGraph',i1),re('colorGraph'+'2',this['colorGraph']),re('scaleGraph',P_),re('scaleGraph'+'2',this['scaleGraph']),re('alphaGraph',P_),re('alphaGraph'+'2',this['alphaGraph']),re('localVeloc'+'ityGraph',R_),re('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),re('velocityGr'+'aph',R_),re('velocityGr'+'aph2',this['velocityGr'+'aph']),re('rotationSp'+'eedGraph',M_),re('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),re('radialSpee'+'dGraph',M_),re('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(0xb*0x358+0x8d9+-0x2d9f),this['animParams']=new Float32Array(0x101f*-0x2+-0x137b+-0x113f*-0x3),this['animIndexP'+'arams']=new Float32Array(-0x25dd+-0x1a49*0x1+-0x2014*-0x2),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(-0xd8+0x5*0x10f+-0x472),this['useMesh']=!(0x3*-0x1df+-0x215d+0x26fa),this['useCpu']=!_0x23907d['supportsGp'+'uParticles'],this['pack8']=!(-0x118f*-0x1+0x1ca3+0xf66*-0x3),this['localBound'+'s']=new _e(),this['worldBound'+'sNoTrail']=new _e(),this['worldBound'+'sTrail']=[new _e(),new _e()],this['worldBound'+'s']=new _e(),this['worldBound'+'sSize']=new T(),this['prevWorldB'+'oundsSize']=new T(),this['prevWorldB'+'oundsCente'+'r']=new T(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new T(),this['worldBound'+'sAdd']=new T(),this['timeToSwit'+'chBounds']=0x1a37+-0x194c+-0xeb*0x1,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=-0x9*-0x313+-0x7f*-0x26+-0x2e85,this['numParticl'+'eIndices']=0x4e0*0x3+0x1bf1+-0x2a91,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=-0x2cf*0x5+-0x1*0x1bbf+-0x29ca*-0x1,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(-0x23dd+0x12d5*0x2+-0x1*0x1cc)/(0x532+-0x1a0*0x8+0x157*0x6),this['maxSubStep'+'s']=-0x2115*-0x1+-0x1b*0x105+0x1*-0x584,this['simTime']=-0xf*-0x239+0x7*0x1eb+0x124*-0x29,this['simTimeTot'+'al']=0x2*0xdb+0x1*0x1bb3+-0x1d69,this['beenReset']=!(-0x1bd9+-0x19f6+0x7b0*0x7),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return v['assert'](this['graphicsDe'+'vice']),c1['get'](this['graphicsDe'+'vice'],()=>{const _0x374c6f=new Float32Array(0x1*0x99a+0x12*-0x212+0x1faa);for(let _0x2f3f8f=0x7a1+-0x2653*-0x1+0x2b4*-0x11;_0x2f3f8f<-0x1574+0x5*-0x271+0x1*0x21b9;_0x2f3f8f++)for(let _0x1db417=0x22c4+0x1a10+-0x11*0x394;_0x1db417<0x41c*-0x4+0x1085+0x1*-0x5;_0x1db417++){const _0x202a7c=_0x1db417+(-0xea8+-0xd41+-0x2*-0xdf5)-(-0x2343+-0x1fb4+0x42ff+0.5),_0x115206=_0x2f3f8f+(0x4*0x1f1+-0x1785+0xfc2)-(-0x32b*-0x5+-0x33a+-0xc95+0.5),_0x2dc349=C_(0x207b+0x1e5e*-0x1+-0x21c-C_(Math['sqrt'](_0x202a7c*_0x202a7c+_0x115206*_0x115206)/(0x1*0x2272+0x4fd*0x3+-0x3*0x1073))-(-0x6a*0x43+0x1456+0x768+0.5)),_0x463473=_0x2f3f8f*(-0x1b4b+0x183c+0x31f)+_0x1db417;_0x374c6f[_0x463473*(-0x2*0x6e5+-0x1*-0x797+0x637)]=-0x22cc+-0x1577*0x1+-0x22a*-0x1a,_0x374c6f[_0x463473*(0x18e5+0x3*-0x7f6+-0xff)+(-0x2437+0x1be*-0x11+0x9f*0x6a)]=0x6b0+-0x3b*-0x15+0x5*-0x24e,_0x374c6f[_0x463473*(-0x1cce+-0xc*-0x1b7+-0x1*-0x83e)+(-0xbd9+-0x1886+0x1*0x2461)]=-0xa1*-0x6+-0x24d9*-0x1+-0x289e,_0x374c6f[_0x463473*(0xf*-0xb5+-0x1578+0x2017)+(-0x218c*-0x1+0x4e*-0x29+-0x150b)]=_0x2dc349;}const _0x220618=Qt(this['graphicsDe'+'vice'],-0x4*0x9a9+0x56*0x1e+0xe5*0x20,-0x15*-0x161+0x4ef*-0x6+-0x1*-0xb5,_0x374c6f,rs,-0xe92+0x1a5*0x4+0x7ff,!(0x1874+0x1ab4+-0x3328));return _0x220618['minFilter']=st,_0x220618['magFilter']=st,_0x220618;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(0xf59+0x2063+-0x2fbb*0x1)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(0x1b1c+0x1*0x973+0x2*-0x1247)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(-0x26*-0xc9+-0x143c+-0x999)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(-0xf07+-0x22e9+-0x1*-0x31f1)),this['worldBound'+'sAdd']['x']+=0x1b87+0x1edf+0x1*-0x3a66+0.5,this['worldBound'+'sAdd']['y']+=0x1*-0x25c3+0x9*-0x3fb+0x4996+0.5,this['worldBound'+'sAdd']['z']+=0x34*0x38+0x3*-0xa49+0x1*0x137b+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x2b7c39=!(0x1*-0x11ce+-0x1*-0x1f0a+0x1*-0xd3b);this['emitterSha'+'pe']===Vs?_0x2b7c39=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x2b7c39=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x2b7c39&&this['calculateL'+'ocalBounds']();}const _0xac3371=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0xac3371),this['worldBound'+'sTrail'][-0xe4a+0x25dc+-0x1792]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x74+-0x7f*0x17+-0xaf6*-0x1]['add'](this['worldBound'+'sNoTrail']);const _0xece997=this['simTimeTot'+'al'];_0xece997>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][0xb0*0x1f+0x1*-0x2668+0x88c*0x2]['copy'](this['worldBound'+'sTrail'][-0x5c1*0x1+-0x2023+-0x25e5*-0x1]),this['worldBound'+'sTrail'][0x8d7+0x4*-0x2ab+0x5e*0x5]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0xece997+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0x2*-0x499+0x15*-0x7b+-0x1349*-0x1]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x2*0x137a+0x1421*-0x1+0x1*-0x12d1),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0xac3371),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0xac3371)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=0x2085+0x1*-0x242f+0x3ab-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0xc49*-0x3+-0x6d9*-0x1+0x2bb4*-0x1]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x1118+-0x23da+0x12c3]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0x15d*-0x15+-0x1ecb*-0x1+-0x1*0x22a]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x1c16*-0x1+-0x2525*0x1+-0x125*-0x39),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=0x41f*-0x6+-0x216b+0x3a25*0x1,this['timeToSwit'+'chBounds']=0x1d8f+0x1*0x215b+-0x3eea*0x1);}['calculateL'+'ocalBounds'](){let _0x2217b7=Number['MAX_VALUE'],_0xe4db22=Number['MAX_VALUE'],_0x4c8b1f=Number['MAX_VALUE'],_0xa3fae3=-Number['MAX_VALUE'],_0x10e189=-Number['MAX_VALUE'],_0x3706f4=-Number['MAX_VALUE'],_0xce21a=0x4f7+0x1a4e+-0x1f45,_0x129202=-0x2705+0x28a+0x247b;const _0x4cdb46=this['lifetime']/this['precision'],_0x5c7302=[this['qVelocity'],this['qVelocity2']],_0x1a1736=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x3f61e2=[0x14b6+0x11*-0x101+-0x3*0x137,-0x14f6+0x5*0x275+-0x8ad*-0x1],_0x546793=[-0x2cf*-0xb+0x239b+-0x4280,0x1de3*0x1+0x79a+-0x1c9*0x15],_0x2d5744=[-0x59f+-0x7*-0x27a+-0x1*0xbb7,-0x1ef6+0x5*-0x51+0x1*0x208b],_0x46b30a=[0x49d*-0x7+0x6f6+0x1955,0x2252+0x33*0x26+-0x29e4],_0x147ca7=[-0x2a*0x68+-0x3*0x8f9+-0x51*-0x8b,0x1*0x13ff+-0x3*0xf9+-0x2*0x88a];let _0x4f8964,_0x1ffb59,_0x4c1474;for(let _0x3b409e=-0xede+0x1ead+-0xfcf;_0x3b409e<this['precision']+(0x25*0x5d+-0x138b+-0x209*-0x3);_0x3b409e++){const _0x428d34=Math['min'](_0x3b409e,this['precision']-(0x1066+-0x2fa+-0xd6b));for(let _0x110d59=-0xad0+0x1*0x1f4e+-0x56*0x3d;_0x110d59<-0x1f16+-0x1*-0x1b9+0x1d5f;_0x110d59++)_0x4f8964=_0x1a1736[_0x110d59][_0x428d34*(0x1*-0x2615+0x1*0xd44+-0x1*-0x18d4)+(-0x5*0x3d8+0x437*0x5+-0x1db)]*_0x4cdb46+_0x3f61e2[_0x110d59],_0x1ffb59=_0x1a1736[_0x110d59][_0x428d34*(-0xbbf+0xa3*0x20+-0x89e*0x1)+(0xc7+0x2*0xbe1+0x622*-0x4)]*_0x4cdb46+_0x546793[_0x110d59],_0x4c1474=_0x1a1736[_0x110d59][_0x428d34*(-0x10d*-0x21+0x4c0*0x8+-0x48aa*0x1)+(-0x1*-0x26dd+-0x1103+-0x15d8)]*_0x4cdb46+_0x2d5744[_0x110d59],_0x2217b7=Math['min'](_0x4f8964,_0x2217b7),_0xe4db22=Math['min'](_0x1ffb59,_0xe4db22),_0x4c8b1f=Math['min'](_0x4c1474,_0x4c8b1f),_0xa3fae3=Math['max'](_0x4f8964,_0xa3fae3),_0x10e189=Math['max'](_0x1ffb59,_0x10e189),_0x3706f4=Math['max'](_0x4c1474,_0x3706f4),_0x3f61e2[_0x110d59]=_0x4f8964,_0x546793[_0x110d59]=_0x1ffb59,_0x2d5744[_0x110d59]=_0x4c1474;for(let _0x1c4b5b=0x146*-0x15+-0x9d7+-0x2495*-0x1;_0x1c4b5b<0xa14+-0x848+0xe5*-0x2;_0x1c4b5b++)_0x147ca7[_0x1c4b5b]+=_0x4cdb46*Math['sqrt'](_0x5c7302[_0x1c4b5b][_0x428d34*(-0x1793+0x22ea+-0xb54)+(-0x7*-0xe3+-0x1*-0x2420+-0x2a55)]*_0x5c7302[_0x1c4b5b][_0x428d34*(-0x5*-0xd+0x1*-0x200e+0x1fd0)+(-0x1f7*0x1+-0x2d+0x224)]+_0x5c7302[_0x1c4b5b][_0x428d34*(-0x21a+-0x1f04+0x101*0x21)+(-0x17a0+0x1b7a+-0xc5*0x5)]*_0x5c7302[_0x1c4b5b][_0x428d34*(0xf5b+0x16ff+-0x41*0x97)+(-0x1015+0x8c0+0x6*0x139)]+_0x5c7302[_0x1c4b5b][_0x428d34*(0x1d1d+-0x1e8f+-0x175*-0x1)+(0x215f+0x7*-0x11f+-0x1984)]*_0x5c7302[_0x1c4b5b][_0x428d34*(0x1a9f+-0x1*-0x7a+-0x1b16)+(0x175*-0x13+0xd*0x257+-0x2ba)]);_0x46b30a[-0x61*-0x20+0xb7*0xd+-0x156b*0x1]+=this['qRadialSpe'+'ed'][_0x428d34]*_0x4cdb46,_0x46b30a[-0x23bf*-0x1+-0x313*-0x5+-0x331d]+=this['qRadialSpe'+'ed2'][_0x428d34]*_0x4cdb46,_0xce21a=Math['max'](_0xce21a,Math['max'](Math['abs'](_0x46b30a[-0x52+0x8*0xb+-0x6]),Math['abs'](_0x46b30a[0xf1*-0x1+-0x424+0x516]))),_0x129202=Math['max'](_0x129202,this['qScale'][_0x428d34]);}this['emitterSha'+'pe']===Vs?(_0x4f8964=this['emitterExt'+'ents']['x']*(-0x10a*0x1+0x26d+-0x1*0x163+0.5),_0x1ffb59=this['emitterExt'+'ents']['y']*(0x6af+0xb*0x2e7+-0x269c+0.5),_0x4c1474=this['emitterExt'+'ents']['z']*(0x1fed+0x2bf*0x4+-0x2ae9+0.5)):(_0x4f8964=this['emitterRad'+'ius'],_0x1ffb59=this['emitterRad'+'ius'],_0x4c1474=this['emitterRad'+'ius']);const _0x57db04=Math['max'](_0x147ca7[0x9f7+-0x1*-0x79c+-0x1193],_0x147ca7[0x6*-0x139+-0xb8f*0x2+0x1e75]);Ul['x']=_0x2217b7-_0x129202-_0x4f8964-_0xce21a-_0x57db04,Ul['y']=_0xe4db22-_0x129202-_0x1ffb59-_0xce21a-_0x57db04,Ul['z']=_0x4c8b1f-_0x129202-_0x4c1474-_0xce21a-_0x57db04,Vl['x']=_0xa3fae3+_0x129202+_0x4f8964+_0xce21a+_0x57db04,Vl['y']=_0x10e189+_0x129202+_0x1ffb59+_0xce21a+_0x57db04,Vl['z']=_0x3706f4+_0x129202+_0x4c1474+_0xce21a+_0x57db04,this['localBound'+'s']['setMinMax'](Ul,Vl);}['rebuild'](){const _0x48ecb5=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===Vs?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>Du||_0x48ecb5['maxVertexT'+'extures']<=-0x2a5+0x1*-0x110+0x3b6||_0x48ecb5['fragmentUn'+'iformsCoun'+'t']<0x168b+-0x23ad+0xd62||_0x48ecb5['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x48ecb5['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],ii=this['useCpu']||this['pack8']?-0x21cb+-0xa7*0x15+0x2f82:0x725*0x4+0x20ed+-0x3d7f,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=N['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0xb78+-0x40*-0x71+-0xb3*0x18]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][-0x109b+0x1f63+-0xec7]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x1*-0x7e8+-0x5f4+-0xa6*0x3),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0xd63fd2=-0x2e*-0x32+-0x7*0x41c+0x13c8;_0xd63fd2<this['numParticl'+'es'];_0xd63fd2++)this['vbToSort'][_0xd63fd2]=[-0x1c1*-0x1+-0x427*0x7+0x130*0x17,0x1fde*0x1+-0x2505+0x527];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*ii*zl);const _0x20b2ae=this['node']===null||this['localSpace']?T['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===Vs&&(this['node']===null||this['localSpace']?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['spawnBound'+'s']):Tr['setTRS'](T['ZERO'],this['node']['getRotatio'+'n'](),I_['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),ri[0xb*0x2de+0x1*-0x143b+-0xb4f]=this['emitterExt'+'ents']['x']!==0xc2c+0x33*0xb4+-0x3008?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x472+0x2054+-0x53*0x56,ri[-0x1d03+0x1*-0xf1+0x1df5]=this['emitterExt'+'ents']['y']!==-0x1508+0x7a7+0x89*0x19?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0x16a4+-0x89c+-0xe08,ri[0x1df*0x2+-0x4a5*0x5+0x137d]=this['emitterExt'+'ents']['z']!==-0x189c+0x1bab+-0x1b*0x1d?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x131a+-0x126b+-0x23*0x5);for(let _0x168539=0x27*-0x80+0x1b0e+-0x1*0x78e;_0x168539<this['numParticl'+'es'];_0x168539++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Tr,ri,_0x20b2ae,_0x168539),this['useCpu']&&(this['particleTe'+'x'][_0x168539*zl+(0xb*-0x6c+-0x175*0x13+0x2056)+this['numParticl'+'esPot']*(0x2531+0x1133+-0x1b31*0x2)*zl]=-0x2*0xe5d+0xb6f*0x1+0xf6*0x12);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*ii*zl);for(let _0x183fc6=0x83*0x29+0x296+-0x1791;_0x183fc6<this['particleTe'+'xStart']['length'];_0x183fc6++)this['particleTe'+'xStart'][_0x183fc6]=this['particleTe'+'x'][_0x183fc6];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=Qt(_0x48ecb5,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,-0x161c+-0x1*-0x1d4c+-0x72f,!(0x11*-0xef+-0x268e+-0x1*-0x366e)),this['particleTe'+'xOUT']=Qt(_0x48ecb5,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,0x13d1*0x1+0x1*0x1f7b+0x5b3*-0x9,!(-0x108a+0xa15+-0x1*-0x676)),this['particleTe'+'xStart']=Qt(_0x48ecb5,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'],Se,0x1d99*0x1+-0x136c+-0x2a*0x3e,!(-0x2*0xffb+0x1d6+0x1e21))):(this['particleTe'+'xIN']=Qt(_0x48ecb5,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xOUT']=Qt(_0x48ecb5,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xStart']=Qt(_0x48ecb5,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new pt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(-0x1d99*-0x1+0xd6b+-0x2b03)}),this['rtParticle'+'TexOUT']=new pt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(0x7c*0x3+0x2a5+-0x418)}),this['swapTex']=!(-0x1*0x1f1+-0xb1d+0x1*0xd0f));const _0x598e54=(this['localSpace']?'#define\x20LO'+'CAL_SPACE\x0a':'')+X['particleUp'+'daterInitP'+'S']+(this['pack8']?X['particleIn'+'putRgba8PS']+X['particleOu'+'tputRgba8P'+'S']:X['particleIn'+'putFloatPS']+X['particleOu'+'tputFloatP'+'S'])+(this['emitterSha'+'pe']===Vs?X['particleUp'+'daterAABBP'+'S']:X['particleUp'+'daterSpher'+'ePS'])+X['particleUp'+'daterStart'+'PS'],_0x3fc7f3=_0x598e54+X['particleUp'+'daterRespa'+'wnPS']+X['particleUp'+'daterEndPS'],_0x1a18c2=_0x598e54+X['particleUp'+'daterNoRes'+'pawnPS']+X['particleUp'+'daterEndPS'],_0x54f96d=_0x598e54+X['particleUp'+'daterOnSto'+'pPS']+X['particleUp'+'daterEndPS'],_0x18767b='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'];this['shaderPart'+'icleUpdate'+'Respawn']=Is(_0x48ecb5,X['fullscreen'+'QuadVS'],_0x3fc7f3,'ParticleUp'+'dateRespaw'+'n-'+_0x18767b),this['shaderPart'+'icleUpdate'+'NoRespawn']=Is(_0x48ecb5,X['fullscreen'+'QuadVS'],_0x1a18c2,'ParticleUp'+'dateNoResp'+'awn-'+_0x18767b),this['shaderPart'+'icleUpdate'+'OnStop']=Is(_0x48ecb5,X['fullscreen'+'QuadVS'],_0x54f96d,'ParticleUp'+'dateStop-'+_0x18767b),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:0x159+0x80c+-0x961*0x1,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][-0x16*0x173+-0xc*0x25c+0x2e*0x14f]['numIndices']:-0x1d+0x12c2+-0x129f,this['_allocate'](this['numParticl'+'es']);const _0x48ad93=new Ie(_0x48ecb5);_0x48ad93['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x48ad93['indexBuffe'+'r'][-0x662+0x1f38+-0x18d6]=this['indexBuffe'+'r'],_0x48ad93['primitive'][0x1*0x138e+-0x19d7+0x649]['type']=Ms,_0x48ad93['primitive'][-0xe3*0x28+0x116b+0x1*0x120d]['base']=-0x1*-0x21d5+0xd*0x280+-0x4255,_0x48ad93['primitive'][0x1049+0x1*-0xb99+-0x4b0]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x48ad93['primitive'][0x63a+-0x2580+-0xfa3*-0x2]['indexed']=!(-0x825+-0x199d+0x3a*0x95),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x507de9=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(0x2*-0xdd5+0xa41+0x1169);this['meshInstan'+'ce']=new Le(_0x48ad93,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(-0x1b6f+-0x83c+0x6*0x5f2),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(0x657*0x1+-0x1bf3+0x159c),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(-0x1ceb+-0x1499+0x3185),this['meshInstan'+'ce']['visible']=_0x507de9,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](0x1690+0x123a+-0x28ca,!(0x2551*0x1+-0x1cfb*0x1+-0x855*0x1)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=-0x1327+-0x1aac+0x2dd4&&(this['animTilesX']>0x142e+0x209*-0x8+-0x3e5||this['animTilesY']>-0x3ee*0x6+0x34*0x99+-0x77f)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x34ba3f=this['precision'],_0x1142e3=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x34ba3f),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x34ba3f),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x34ba3f,-0x1*0x2333+0x11*0xe3+0x38*0x5c,-0x908+-0xf8f+0x1898),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x34ba3f),this['qScale']=this['scaleGraph']['quantize'](_0x34ba3f),this['qAlpha']=this['alphaGraph']['quantize'](_0x34ba3f),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x34ba3f),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x34ba3f),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x34ba3f),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x34ba3f,-0x1*0x20e7+0x1439+0x1*0xcae,0x170d+0x4*0x4+-0x171c),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x34ba3f),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x34ba3f),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x34ba3f),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x34ba3f);for(let _0x14393f=0x22a6+0x141c+0x1b61*-0x2;_0x14393f<_0x34ba3f;_0x14393f++)this['qRotSpeed'][_0x14393f]*=N['DEG_TO_RAD'],this['qRotSpeed2'][_0x14393f]*=N['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(-0xb52+0x8*-0x20+0xc55),this['velocityUM'+'ax']=new Float32Array(0x31*-0x4a+-0xeeb+0x8*0x3a3),this['colorUMax']=new Float32Array(0x43d*-0x1+-0x16b2+0x1af2),this['rotSpeedUM'+'ax']=[0x35b*0x5+-0x410+0x3*-0x43d],this['scaleUMax']=[-0x6c4+0x110f*0x1+-0x9b*0x11],this['alphaUMax']=[0xd5e+0x1664+-0x23c2],this['radialSpee'+'dUMax']=[-0x1a2c+-0x142f*0x1+0x2e5b],this['qLocalVelo'+'cityDiv']=Ar(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Ar(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Ar(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Ar(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Ar(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Ar(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Ar(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x2aeeff=[-0x17*-0x180+-0x24c7+0x247*0x1,0x5f6+0x14b3+-0x1aa9,0x5de*-0x2+0x1*0x98e+0x22e];Fr(this['qVelocity'],_0x2aeeff);const _0xebca44=[-0x2*-0xc1e+-0x337*0x1+-0x1505,-0x130b+0x1cb5*0x1+-0x9aa,-0xe70+0xa06+0x46a];Fr(this['qVelocity2'],_0xebca44);const _0x441187=[0x111d+-0x1*0x1c66+0xb49,0x1292+-0x1ea1*0x1+-0x93*-0x15,0x388*-0x2+-0x5*-0x5e7+-0x1673];Fr(this['qLocalVelo'+'city'],_0x441187);const _0x57a5c0=[-0xa46+0x135a+0x53*-0x1c,-0xb*0x2b6+0x43b+0x1997,-0x10f3*-0x2+0x63*0x19+-0x2b91];Fr(this['qLocalVelo'+'city2'],_0x57a5c0);const _0xfc5d4c=[-0x571*0x1+-0x124f*0x1+0x17c0];Fr(this['qRadialSpe'+'ed'],_0xfc5d4c);const _0x8c3899=[-0x9e1*0x2+0x2588+-0x32*0x5b];Fr(this['qRadialSpe'+'ed2'],_0x8c3899);let _0x28c4bc=Math['max'](_0x2aeeff[-0x1*0x18da+-0xcac*0x2+0xa0a*0x5],_0xebca44[0x2db+-0x368*-0x9+-0x2183]);_0x28c4bc=Math['max'](_0x28c4bc,_0x2aeeff[-0x8*-0x1+-0x590+0x6d*0xd]),_0x28c4bc=Math['max'](_0x28c4bc,_0xebca44[-0x21dc+0x21d+0x8*0x3f8]),_0x28c4bc=Math['max'](_0x28c4bc,_0x2aeeff[-0x423+-0x2210+0x2635]),_0x28c4bc=Math['max'](_0x28c4bc,_0xebca44[-0xb*0x127+-0x218+0xec7]);let _0xeeb645=Math['max'](_0x441187[-0x13c0+-0x2*0xd99+0x2ef2],_0x57a5c0[-0x1*0xba1+0x20dc+-0x153b]);_0xeeb645=Math['max'](_0xeeb645,_0x441187[0xb38+0xeac+-0x19e3]),_0xeeb645=Math['max'](_0xeeb645,_0x57a5c0[-0x1dfd+0x686*-0x5+0x2*0x1f4e]),_0xeeb645=Math['max'](_0xeeb645,_0x441187[0x1*0x22f7+0xeb+-0x23e0]),_0xeeb645=Math['max'](_0xeeb645,_0x57a5c0[0xf9a+-0x46c*-0x5+0x25b4*-0x1]);const _0x3051e6=Math['max'](_0xfc5d4c[-0xfe8+0x154d+0x1*-0x565],_0x8c3899[0x2*0xfca+0x805*0x3+-0x1*0x37a3]);this['maxVel']=_0x28c4bc+_0xeeb645+_0x3051e6;}this['useCpu']||(this['internalTe'+'x0']=Qt(_0x1142e3,_0x34ba3f,0x434+-0x3b6+-0x7d,D_(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=Qt(_0x1142e3,_0x34ba3f,-0xde2+0x1708+-0x1*0x925,D_(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=Qt(_0x1142e3,_0x34ba3f,-0x1d2a*-0x1+0x17b*-0x5+-0xae1*0x2,n1(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=Qt(_0x1142e3,_0x34ba3f,-0x15ad*-0x1+-0x6*0x89+-0x1276,a1(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=Qt(_0x1142e3,_0x34ba3f,-0x2426+0x6f*-0x53+-0x6*-0xc06,r1(this['qColor'],this['qAlpha']),rs,-0x2544+-0x351*0x7+0x3c7c,!(0x23c*-0xf+0x7*-0x427+0x3e95));}['_setMateri'+'alTextures'](){this['colorMap']&&(v['call'](()=>{Ey(this['colorMap']['format'])&&v['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x556721=new s1(this);return _0x556721['name']='EmitterMat'+'erial:'+this['node']['name'],_0x556721['cull']=mt,_0x556721['alphaWrite']=!(0x1852+-0x9*-0x154+-0xc17*0x3),_0x556721['blendType']=this['blendType'],_0x556721['depthWrite']=this['depthWrite'],_0x556721;}['resetMater'+'ial'](){const _0x29c735=this['material'];_0x29c735['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x29c735['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x29c735['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x29c735['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x29c735['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x29c735['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x29c735['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x29c735['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x29c735['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x29c735['setParamet'+'er']('colorParam',this['colorParam']),_0x29c735['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x29c735['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x29c735['setParamet'+'er']('lifetime',this['lifetime']),_0x29c735['setParamet'+'er']('rate',this['rate']),_0x29c735['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x29c735['setParamet'+'er']('seed',this['seed']),_0x29c735['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][-0x24f0+0x1a8c+0xa64]),_0x29c735['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][0x24aa+-0x1625*-0x1+0x3acf*-0x1]),_0x29c735['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][0x25e5+0xe6*0x23+-0x4557]),_0x29c735['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x29c735['setParamet'+'er']('graphSampl'+'eSize',(0xfdd+-0x71*0x50+-0xa*-0x1f2)/this['precision']),_0x29c735['setParamet'+'er']('emitterSca'+'le',new Float32Array([0x2537+-0x1212+0x62*-0x32,0x1e8*-0x13+-0x2427+-0x60*-0xc1,-0x3a8+0x1132+-0xd89])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x29c735['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x29c735['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x29c735['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][0x33*0xc+0xc7b+-0xedf]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][-0x10f7+-0x4ef*-0x1+0x27*0x4f]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][-0x253e+-0x473*-0x5+-0x17*-0xa7]=this['wrapBounds']['z'],_0x29c735['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>0x786+0x377+-0xafd&&_0x29c735['setParamet'+'er']('softening',(0x1*-0x14a4+-0xe14+0x22b9*0x1)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(-0x15eb*-0x1+0x3*-0xa85+0xa08))),this['stretch']>-0x3*0x14+-0x1d*-0x13c+-0x2390&&(_0x29c735['cull']=mt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x51e3c6,_0x339208;if(this['orientatio'+'n']===Uh)_0x51e3c6=new Float32Array([0xb7b+-0xc64+0xea,-0x169+0x18b+-0x22,-0x2467*0x1+-0x505*0x7+-0x478a*-0x1]),_0x339208=new Float32Array([-0x1b38+0x2427+-0x8ef,0x20a3+0x13e1+-0x3484,-0x2*-0x9ee+0x51*-0x1b+-0x8*0x16a]);else{let _0x2b89c5;this['orientatio'+'n']===Xb?_0x2b89c5=this['particleNo'+'rmal']['normalize']():_0x2b89c5=(this['node']===null?q['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x3c5419=new T(0x1e83+-0x1*-0x18e5+0x443*-0xd,0x1291+0x1183*0x1+-0x2414*0x1,-0x6*-0x2c+0x47*0x6b+0x1eb5*-0x1);Math['abs'](_0x3c5419['dot'](_0x2b89c5))===0x11c*0x20+0x21d*-0xa+-0xe5d&&_0x3c5419['set'](-0x1*-0x258b+0x1*-0x1cd0+-0x5*0x1bf,-0x63a+-0x3ac+-0x16a*-0x7,0xf0c+-0x84d+-0x6be);const _0x2a16e5=new T()['cross'](_0x2b89c5,_0x3c5419)['normalize']();_0x3c5419['cross'](_0x2a16e5,_0x2b89c5)['normalize'](),_0x51e3c6=new Float32Array([_0x3c5419['x'],_0x3c5419['y'],_0x3c5419['z']]),_0x339208=new Float32Array([_0x2a16e5['x'],_0x2a16e5['y'],_0x2a16e5['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x51e3c6),this['material']['setParamet'+'er']('faceBinorm',_0x339208);}['_allocate'](_0x3d68bb){const _0x1ce53f=_0x3d68bb*this['numParticl'+'eVerts'],_0x53b9cb=_0x3d68bb*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(0x2*0xccb+-0x19db*0x1+0x45)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x1ce53f){const _0xf51cfa=[];this['useCpu']?_0xf51cfa['push']({'semantic':bu,'components':0x4,'type':Ee},{'semantic':wu,'components':0x4,'type':Ee},{'semantic':Ry,'components':0x4,'type':Ee},{'semantic':Iy,'components':0x1,'type':Ee},{'semantic':Dy,'components':this['useMesh']?-0x3*0x691+-0x1*-0x2441+-0x108a:0x1*-0x25fe+-0xd34+0x3334*0x1,'type':Ee}):(_0xf51cfa['push']({'semantic':bu,'components':0x4,'type':Ee}),this['useMesh']&&_0xf51cfa['push']({'semantic':wu,'components':0x2,'type':Ee}));const _0x483c82=new Et(this['graphicsDe'+'vice'],_0xf51cfa);this['vertexBuff'+'er']=new os(this['graphicsDe'+'vice'],_0x483c82,_0x1ce53f,{'usage':Th}),this['indexBuffe'+'r']=new lr(this['graphicsDe'+'vice'],nr,_0x53b9cb);const _0x7e0a97=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x19f968,_0x250143,_0x1e50bc;if(this['useMesh']){_0x19f968=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x250143=_0x19f968['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x1cccd1=0x1*0x107e+0x5*-0x2dd+0x1*-0x22d;_0x1cccd1<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x1cccd1++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x1cccd1]['name']===ns){_0x1e50bc=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x1cccd1]['offset']/(-0x1e40*-0x1+-0x2684+0x848);break;}}for(let _0x1bd146=0x87*-0x5+-0x8a*-0xf+-0x573;_0x1bd146<_0x1ce53f;_0x1bd146++){const _0x4c6b2a=Math['floor'](_0x1bd146/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x58cb8d=_0x1bd146%this['numParticl'+'eVerts'];_0x7e0a97[_0x1bd146*(-0x599*-0x5+0x5c*-0x20+-0x1077*0x1)]=_0x19f968[_0x58cb8d*_0x250143],_0x7e0a97[_0x1bd146*(0x1e2d+-0x2*-0xbc+-0x1f9f)+(0xe37+0x3*0x14e+-0x8*0x244)]=_0x19f968[_0x58cb8d*_0x250143+(-0x617*0x1+0x209f+-0x1a87)],_0x7e0a97[_0x1bd146*(-0x35c+0x13*-0xef+-0x151f*-0x1)+(-0x71*-0x17+0x15d*0x8+-0x150d)]=_0x19f968[_0x58cb8d*_0x250143+(0x830+0x21ce+0x1*-0x29fc)],_0x7e0a97[_0x1bd146*(-0x16d*0x2+-0xbed*-0x3+-0x20e7)+(-0x26d5*0x1+-0x16*0xe6+0xf2*0x3e)]=_0x4c6b2a,_0x7e0a97[_0x1bd146*(0x17d8+0x31*0x6e+0x2*-0x1670)+(0x1ace+0x1ad*-0x3+-0x15c3)]=_0x19f968[_0x58cb8d*_0x250143+_0x1e50bc+(0x23b+0x2597*-0x1+0x3e*0x92)],_0x7e0a97[_0x1bd146*(0x10a+-0xc46+0xb42)+(0x260+-0x352+0xf7)]=0x1628+-0x21e6+-0x1*-0xbbf-_0x19f968[_0x58cb8d*_0x250143+_0x1e50bc+(0x8af+-0x2384*0x1+0xe5*0x1e)];}else{const _0x37fbd6=_0x1bd146%(-0x1*-0x13ee+-0x1145*0x1+0x1*-0x2a5);_0x7e0a97[_0x1bd146*(0xb08*-0x2+0xe91+0x783)]=E_[_0x37fbd6][-0x1*0xaba+0x2419+-0x1b1*0xf],_0x7e0a97[_0x1bd146*(-0x3*0x846+-0x1981+0x3257)+(0x2c+0xeab*0x2+-0x1d81)]=E_[_0x37fbd6][-0x1*-0x254d+0x1f*0x10b+-0x45a1],_0x7e0a97[_0x1bd146*(-0x1d10+0x5*-0x713+0x4073)+(0x21*0x7+-0x97*-0xd+0x890*-0x1)]=0x29*0x73+0x6cd*-0x5+0x23a*0x7,_0x7e0a97[_0x1bd146*(-0x1c1e+0x56d+0x16b5)+(0x8b4*0x2+-0x1778*-0x1+-0x28dd)]=_0x4c6b2a;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x7e0a97),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0xbf5ccf=-0x3e*-0x41+0x164f+0x11*-0x23d;const _0x323fd3=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x4363ed=this['mesh']['indexBuffe'+'r'][-0x14a6+0x23d2+-0xf2c];_0x19f968=new Lh[_0x4363ed['format']](_0x4363ed['lock']());}for(let _0x219333=-0xa0+0x1*-0x44d+0x4ed;_0x219333<_0x3d68bb;_0x219333++)if(this['useMesh']){for(let _0x3f1f8a=0xac4+-0x11*-0xae+-0x1652;_0x3f1f8a<this['numParticl'+'eIndices'];_0x3f1f8a++)_0x323fd3[_0x219333*this['numParticl'+'eIndices']+_0x3f1f8a]=_0x19f968[_0x3f1f8a]+_0x219333*this['numParticl'+'eVerts'];}else{const _0x1f1060=_0x219333*(-0x17*0x169+-0x1a*-0x11+0x1eb9);_0x323fd3[_0xbf5ccf++]=_0x1f1060,_0x323fd3[_0xbf5ccf++]=_0x1f1060+(-0x1849+-0x24b2+0x3cfc),_0x323fd3[_0xbf5ccf++]=_0x1f1060+(-0xa64+0x15e9+-0xb83*0x1),_0x323fd3[_0xbf5ccf++]=_0x1f1060,_0x323fd3[_0xbf5ccf++]=_0x1f1060+(0x1*-0xbb6+0x47*-0x19+-0x3bb*-0x5),_0x323fd3[_0xbf5ccf++]=_0x1f1060+(0x6df+-0x1946*0x1+0x126a);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][0x1*0x2228+-0x2*-0x8ef+-0x3406]['unlock']();}}['reset'](){if(this['beenReset']=!(-0x1b05*0x1+-0x1c2b+0x3730),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x4c7b1e=0x2*-0x8e+0xaa2+-0x986;_0x4c7b1e<this['particleTe'+'xStart']['length'];_0x4c7b1e++)this['particleTe'+'x'][_0x4c7b1e]=this['particleTe'+'xStart'][_0x4c7b1e];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x5086fe=this['loop'];this['loop']=!(-0x37e+-0x1f77+-0x39*-0x9d),this['addTime'](0xc*0x14e+-0x1d90+-0x14*-0xb2,!(0x263c+-0xe87+0x25*-0xa4)),this['loop']=_0x5086fe,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x3e4ae3){const _0x3acff4=_0x3e4ae3/this['lifetime'],_0x55752d=Math['min'](Math['floor'](_0x3acff4*this['precision']),this['precision']),_0x525113=_0x3e4ae3/_0x55752d;for(let _0x4aafe4=0x19*-0xd1+0x1*0x1133+0x336;_0x4aafe4<_0x55752d;_0x4aafe4++)this['addTime'](_0x525113,!(-0xf8c+-0x2443*0x1+0x33d0));}['resetTime'](){this['endTime']=o1(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x13895b,_0xab5cfb){const _0x56c3d6=this['graphicsDe'+'vice'],_0x366d29=ne();if(this['simTimeTot'+'al']+=_0x13895b,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x1c5426=this['animTilesP'+'arams'];_0x1c5426[0x1476+-0x134b+-0x17*0xd]=(0x77*-0x3b+0x258e+-0x6*0x1b0)/this['animTilesX'],_0x1c5426[-0x3b*-0x7+-0x2485+0x14b*0x1b]=(0x2562+0x51*0x11+-0x2ac2)/this['animTilesY'];const _0x55db01=this['animParams'];_0x55db01[0xd20+-0x1*0x1ddf+0x10bf]=this['animStartF'+'rame'],_0x55db01[0x12f*0xd+-0x1*0x16d3+0x771]=this['animNumFra'+'mes']*this['animSpeed'],_0x55db01[-0x188f+-0xea9+0x273a]=this['animNumFra'+'mes']-(0x6f*-0x5+-0xe53+-0x107f*-0x1),_0x55db01[0xcb0+-0xd12+-0x1*-0x65]=this['animNumAni'+'mations']-(0x208a+-0xf7*0xa+-0x16e3);const _0x2e1f23=this['animIndexP'+'arams'];_0x2e1f23[-0x75c*0x1+-0x1*0x23f6+0x455*0xa]=this['animIndex'],_0x2e1f23[0x2408+-0x1705+-0xd02]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===Vs&&(ri[0x26a6+-0x1145+0x1561*-0x1]=this['emitterExt'+'ents']['x']!==-0xb16+0x1f*0x5b+0x11?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x17*-0x12f+0x5*0x6a9+-0x614,ri[-0x1c6c+-0x1484+-0x30f1*-0x1]=this['emitterExt'+'ents']['y']!==0xd1f*0x2+0x1c*-0x38+0x2*-0xa0f?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x92e+-0x36b+0xc99,ri[0x209*0x4+0x2*-0xec3+0x1564]=this['emitterExt'+'ents']['z']!==0xf12+0x22ff*-0x1+0x13ed?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x20b*-0x2+0x29*0x49+-0x1*0xfc7,this['meshInstan'+'ce']['node']===null?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['emitterExt'+'ents']):Tr['setTRS'](T['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),I_['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x4e3dff;const _0x169cec=this['meshInstan'+'ce']['node']===null?T['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][0x14bf*0x1+-0x151b+-0x1*-0x5c]=_0x169cec['x'],this['emitterSca'+'leUniform'][0x242b+0x1267+-0x3691*0x1]=_0x169cec['y'],this['emitterSca'+'leUniform'][0x2ee*-0xa+-0x1a2c+0x377a]=_0x169cec['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x4e3dff=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][-0x1222*0x1+-0xede+0x2100*0x1]=_0x4e3dff['x'],this['emitterPos'+'Uniform'][0x12b0+-0xccd*-0x1+-0x14*0x193]=_0x4e3dff['y'],this['emitterPos'+'Uniform'][0xf3e+-0xe01+-0x13b]=_0x4e3dff['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x56c3d6,Tr,ri,_0x13895b,_0xab5cfb);else{const _0x56c5e4=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x56c5e4,this['vbToSort'],this['particleTe'+'x'],Tr,ri,_0x4e3dff,_0x13895b,_0xab5cfb);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(-0x1*0x21af+-0x1999*-0x1+0x817)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=ne()-_0x366d29;}['_destroyRe'+'sources'](){var _0x4cc8dd,_0x44a623,_0x2b5295,_0x2ba717,_0x3aed59,_0x5983aa,_0xb4a657,_0x18dd51,_0x2b699a,_0x3d42f4,_0x4d802d,_0x5721d1;(_0x4cc8dd=this['particleTe'+'xIN'])==null||_0x4cc8dd['destroy'](),this['particleTe'+'xIN']=null,(_0x44a623=this['particleTe'+'xOUT'])==null||_0x44a623['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x2b5295=this['rtParticle'+'TexIN'])==null||_0x2b5295['destroy'](),this['rtParticle'+'TexIN']=null,(_0x2ba717=this['rtParticle'+'TexOUT'])==null||_0x2ba717['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x3aed59=this['internalTe'+'x0'])==null||_0x3aed59['destroy'](),this['internalTe'+'x0']=null,(_0x5983aa=this['internalTe'+'x1'])==null||_0x5983aa['destroy'](),this['internalTe'+'x1']=null,(_0xb4a657=this['internalTe'+'x2'])==null||_0xb4a657['destroy'](),this['internalTe'+'x2']=null,(_0x18dd51=this['internalTe'+'x3'])==null||_0x18dd51['destroy'](),this['internalTe'+'x3']=null,(_0x2b699a=this['colorParam'])==null||_0x2b699a['destroy'](),this['colorParam']=null,(_0x3d42f4=this['vertexBuff'+'er'])==null||_0x3d42f4['destroy'](),this['vertexBuff'+'er']=void(0x7*-0x45+0x49*0x7a+-0x1*0x20e7),(_0x4d802d=this['indexBuffe'+'r'])==null||_0x4d802d['destroy'](),this['indexBuffe'+'r']=void(-0x18f+0x803+-0x674),(_0x5721d1=this['material'])==null||_0x5721d1['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class u1 extends It{['generateKe'+'y'](_0x249015){const _0x2deb3e=_0x249015['shaderDesc'],_0x4afbbb=_0x2deb3e['vertexCode']?hn(_0x2deb3e['vertexCode']):0x7a*-0x10+0x18*-0x8e+0x14f0,_0x3e4795=_0x2deb3e['fragmentCo'+'de']?hn(_0x2deb3e['fragmentCo'+'de']):0x17c4+-0x204d*-0x1+0x3811*-0x1,_0x25c66b=It['definesHas'+'h'](_0x249015['defines']);let _0x2d76a9=_0x2deb3e['uniqueName']+'_'+_0x4afbbb+'_'+_0x3e4795+'_'+_0x25c66b;return _0x249015['skin']&&(_0x2d76a9+='_skin'),_0x249015['useInstanc'+'ing']&&(_0x2d76a9+='_inst'),_0x249015['useMorphPo'+'sition']&&(_0x2d76a9+='_morphp'),_0x249015['useMorphNo'+'rmal']&&(_0x2d76a9+='_morphn'),_0x249015['useMorphTe'+'xtureBased'+'Int']&&(_0x2d76a9+='_morphi'),_0x2d76a9;}['createAttr'+'ibutesDefi'+'nition'](_0x65590c,_0x139829){const _0x1c7a38=_0x139829['shaderDesc']['attributes'],_0x3108b5=_0x1c7a38?{..._0x1c7a38}:void(-0x3c2+0xe33*-0x1+0x11f5);_0x139829['skin']&&(_0x3108b5['vertex_bon'+'eWeights']=Ys,_0x3108b5['vertex_bon'+'eIndices']=qt),(_0x139829['useMorphPo'+'sition']||_0x139829['useMorphNo'+'rmal'])&&(_0x3108b5['morph_vert'+'ex_id']=ya),_0x65590c['attributes']=_0x3108b5;}['createVert'+'exDefiniti'+'on'](_0x3a6948,_0x5816f6,_0x348957){const _0x3b7c55=_0x5816f6['shaderDesc'];if(_0x3a6948['shaderLang'+'uage']===Ph)_0x3a6948['vertexCode']=_0x3b7c55['vertexCode'];else{const _0x4d8b18=new Map(_0x348957),_0x521fd7=new Map(_0x5816f6['defines']);_0x4d8b18['set']('transformI'+'nstancingV'+'S',''),_0x5816f6['skin']&&_0x521fd7['set']('SKIN',!(0x1fed+-0x264*-0x8+-0x7*0x74b)),_0x5816f6['useInstanc'+'ing']&&_0x521fd7['set']('INSTANCING',!(-0x2*0xb5a+-0x16f*0xc+-0x1*-0x27e8)),(_0x5816f6['useMorphPo'+'sition']||_0x5816f6['useMorphNo'+'rmal'])&&(_0x521fd7['set']('MORPHING',!(0x12ad*-0x1+-0x1a2d*0x1+0x2cda)),_0x5816f6['useMorphTe'+'xtureBased'+'Int']&&_0x521fd7['set']('MORPHING_I'+'NT',!(-0x5db+0x12d7+-0xcfc)),_0x5816f6['useMorphPo'+'sition']&&_0x521fd7['set']('MORPHING_P'+'OSITION',!(-0x1676+-0x1e53+0x34c9)),_0x5816f6['useMorphNo'+'rmal']&&_0x521fd7['set']('MORPHING_N'+'ORMAL',!(-0x1*0xe8f+-0x178c+0x261b))),_0x3a6948['vertexCode']=_0x3b7c55['vertexCode'],_0x3a6948['vertexIncl'+'udes']=_0x4d8b18,_0x3a6948['vertexDefi'+'nes']=_0x521fd7;}}['createFrag'+'mentDefini'+'tion'](_0x308013,_0x42f61f,_0x423e38){const _0x440ceb=_0x42f61f['shaderDesc'];if(_0x308013['shaderLang'+'uage']===Ph)_0x308013['fragmentCo'+'de']=_0x440ceb['fragmentCo'+'de'];else{const _0x5939e2=new Map(_0x423e38),_0x6e3e68=new Map(_0x42f61f['defines']);_0x308013['fragmentCo'+'de']=_0x440ceb['fragmentCo'+'de'],_0x308013['fragmentIn'+'cludes']=_0x5939e2,_0x308013['fragmentDe'+'fines']=_0x6e3e68;}}['createShad'+'erDefiniti'+'on'](_0x5148ef,_0x3e6475){const _0xc44b5f=_0x3e6475['shaderDesc'],_0x341279={'name':'ShaderMate'+'rial-'+_0xc44b5f['uniqueName'],'shaderLanguage':_0xc44b5f['shaderLang'+'uage'],'fragmentOutputTypes':_0xc44b5f['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0xc44b5f['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0xc44b5f['meshBindGr'+'oupFormat']},_0x14d84a=new Map(Object['entries']({...X,..._0x3e6475['chunks']}));return this['createAttr'+'ibutesDefi'+'nition'](_0x341279,_0x3e6475),this['createVert'+'exDefiniti'+'on'](_0x341279,_0x3e6475,_0x14d84a),this['createFrag'+'mentDefini'+'tion'](_0x341279,_0x3e6475,_0x14d84a),Mt['createDefi'+'nition'](_0x5148ef,_0x341279);}}const f1=new u1();class Ra extends yn{constructor(_0x27f1e9){super(),c(this,'_shaderDes'+'c'),this['shaderDesc']=_0x27f1e9;}set['shaderDesc'](_0x2634fc){_0x2634fc&&(v['assert'](_0x2634fc['vertexCode'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'vertexCode'),v['assert'](_0x2634fc['fragmentCo'+'de'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'fragmentCo'+'de')),this['_shaderDes'+'c']=_0x2634fc?{..._0x2634fc}:void(0x345*-0x2+-0x2*0xb41+0x34*0x8f),this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0xf415b9){return super['copy'](_0xf415b9),this['shaderDesc']=_0xf415b9['shaderDesc'],this;}['getShaderV'+'ariant'](_0x69d1cf){const {objDefs:_0x285c1b}=_0x69d1cf,_0xfcdc54={'defines':Dp(this,_0x69d1cf),'skin':(_0x285c1b&Wc)!==0x26a8+0x2*0xa06+-0x3ab4,'useInstancing':(_0x285c1b&$c)!==-0x497+-0x1*-0x2023+0xdc6*-0x2,'useMorphPosition':(_0x285c1b&qc)!==-0xe52+-0x5*-0x6c5+-0x1387,'useMorphNormal':(_0x285c1b&Xc)!==0x9c+-0x1*0x2504+-0x4*-0x91a,'useMorphTextureBasedInt':(_0x285c1b&jc)!==0x1d47+-0x23f4+0x6ad,'pass':_0x69d1cf['pass'],'gamma':_0x69d1cf['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x69d1cf['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x69d1cf['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'chunks':this['chunks']??{}},_0x4162c4=new Yc(_0x69d1cf['viewUnifor'+'mFormat'],_0x69d1cf['viewBindGr'+'oupFormat'],_0x69d1cf['vertexForm'+'at']),_0x15680f=ka(_0x69d1cf['device']);return _0x15680f['register']('shader-mat'+'erial',f1),_0x15680f['getProgram']('shader-mat'+'erial',_0xfcdc54,_0x4162c4,this['userId']);}}const k0=(_0x3a57ce,_0x6f46f6)=>{const _0x65822f=_0x6f46f6['length']/(0x1*-0x8c5+0x10be*-0x1+0x1986),_0x160a6f=_0x3a57ce['length']/(-0x1*0x1a79+-0x5*-0x5cb+-0x27b),_0x51c85c=new T(),_0x549815=new T(),_0x36e99c=new T(),_0x4358d4=new T(),_0x149f47=new T(),_0xf705fe=new T(),_0x491ed6=[];for(let _0x43317b=0x196a+-0x15d*0x18+0x74e;_0x43317b<_0x3a57ce['length'];_0x43317b++)_0x491ed6[_0x43317b]=0x42*-0x17+0x65b+-0x6d;for(let _0x487eed=0x1*0x1346+0x8da+0x1e*-0xf0;_0x487eed<_0x65822f;_0x487eed++){const _0x215e3e=_0x6f46f6[_0x487eed*(0x162e+0xe16+-0x2441)],_0x4f2120=_0x6f46f6[_0x487eed*(0x4*0x233+0x1435+-0x1cfe)+(0x135+0x23fa+-0x1297*0x2)],_0x3b6477=_0x6f46f6[_0x487eed*(0x203c+0x1213+0x1d*-0x1bc)+(-0x2*0x25b+0x266f+0x3f*-0x89)];_0x51c85c['set'](_0x3a57ce[_0x215e3e*(0x9c9+-0x1e48+0x1482)],_0x3a57ce[_0x215e3e*(0x401*-0x9+-0x1a7*-0x17+-0x1f5*0x1)+(0x22f7+-0x42e*-0x3+0x8*-0x5f0)],_0x3a57ce[_0x215e3e*(0xa1*-0x34+-0x1*0x521+-0x38*-0xad)+(0x19*0x11+0x1e0f+0x1*-0x1fb6)]),_0x549815['set'](_0x3a57ce[_0x4f2120*(-0x1f1a*0x1+-0x94*0x31+0x3b71)],_0x3a57ce[_0x4f2120*(-0xb*0x2c6+0x39*0x73+0x22*0x25)+(-0x2419+0x1*0x11c5+0x1255)],_0x3a57ce[_0x4f2120*(-0x5fc*0x1+-0x1796+0x1d95)+(-0x820+-0x3*0x4db+0x16b3)]),_0x36e99c['set'](_0x3a57ce[_0x3b6477*(-0x137*0x15+0x1*0x14b0+0x4d6)],_0x3a57ce[_0x3b6477*(-0x1df4+-0xced+-0x3d*-0xb4)+(0x1*-0x1601+-0x2539+0x3b3b)],_0x3a57ce[_0x3b6477*(0x1f66*0x1+0x5*0x148+-0x3*0xc99)+(-0x1a92+-0xbff*0x2+0x3292)]),_0x4358d4['sub2'](_0x549815,_0x51c85c),_0x149f47['sub2'](_0x36e99c,_0x51c85c),_0xf705fe['cross'](_0x4358d4,_0x149f47)['normalize'](),_0x491ed6[_0x215e3e*(-0x1dd*0xe+-0x4a2*0x8+0x1*0x3f29)]+=_0xf705fe['x'],_0x491ed6[_0x215e3e*(0x46*0x61+0x1*0x82f+-0x22b2)+(-0x1c83+0x26f9+-0xa75)]+=_0xf705fe['y'],_0x491ed6[_0x215e3e*(-0x12a3+0x23e0+-0x3*0x5be)+(-0xc5*0xb+-0x8*-0x92+-0x5b*-0xb)]+=_0xf705fe['z'],_0x491ed6[_0x4f2120*(0x450+-0x1164+0xd17)]+=_0xf705fe['x'],_0x491ed6[_0x4f2120*(-0x18e*-0xb+0x1*-0x1c27+0xb10)+(-0x1*0x757+0xe2c+0x2e*-0x26)]+=_0xf705fe['y'],_0x491ed6[_0x4f2120*(-0x1*0x1271+-0x1c+0x63*0x30)+(-0x3ad+-0x25e*-0xb+-0x165b*0x1)]+=_0xf705fe['z'],_0x491ed6[_0x3b6477*(-0x1*-0x236b+-0x1e06+0x35*-0x1a)]+=_0xf705fe['x'],_0x491ed6[_0x3b6477*(-0x2237+-0x1d33+0x3f6d*0x1)+(-0x14+0xb*0x2dc+0x3*-0xa75)]+=_0xf705fe['y'],_0x491ed6[_0x3b6477*(0x9d*-0x15+0x9*-0x2ac+0x24f0)+(-0x730+0x1*-0x162e+0x1d60)]+=_0xf705fe['z'];}for(let _0x478243=0x449*0x4+0x1637+-0x275b;_0x478243<_0x160a6f;_0x478243++){const _0x731035=_0x491ed6[_0x478243*(0xb*-0xd5+-0xd*0x7b+-0x5*-0x315)],_0x270b17=_0x491ed6[_0x478243*(0x7f+0x44d*0x3+-0xd63)+(0x1*0x192a+0x17c*-0x5+-0x11bd)],_0x505f14=_0x491ed6[_0x478243*(-0x1eec+0xdd+0x1e12)+(-0x182*0x13+0x26*-0xce+0x3b3c)],_0x1a334f=(-0x6de+0x4*-0x89b+0x294b)/Math['sqrt'](_0x731035*_0x731035+_0x270b17*_0x270b17+_0x505f14*_0x505f14);_0x491ed6[_0x478243*(-0x1*0x62+-0xd*0x216+0x1b83)]*=_0x1a334f,_0x491ed6[_0x478243*(0x2ea+-0x2319+0x2032)+(0x25d7+-0x1803+-0xdd3)]*=_0x1a334f,_0x491ed6[_0x478243*(0x4*0x987+-0x1*-0x1727+-0x3d40)+(-0x220a+0x9*-0x73+0x2617)]*=_0x1a334f;}return _0x491ed6;},fr=(_0x23a340,_0x244620,_0x208fbe,_0x5ebcf6)=>{const _0x108474=_0x5ebcf6['length']/(0x22e+0xb1d*-0x1+0x8f2),_0x275472=_0x23a340['length']/(-0x44f*-0x7+-0x235c+-0x29b*-0x2),_0x7ee50f=new T(),_0x49a0fc=new T(),_0x2c73f2=new T(),_0x412b46=new W(),_0x38fe87=new W(),_0x512f5b=new W(),_0x49a83d=new T(),_0x2ddbce=new T(),_0x1b520a=new Float32Array(_0x275472*(-0x770+0x1b47+-0x8d*0x24)),_0x1806ae=new Float32Array(_0x275472*(-0x228d+0x19ce+0x2*0x461)),_0x4bac21=[];for(let _0x15fd1b=-0x5*-0x565+-0x22*-0x31+0x1*-0x217b;_0x15fd1b<_0x108474;_0x15fd1b++){const _0x4ce963=_0x5ebcf6[_0x15fd1b*(0x3d*0x37+0x1f04+0xc*-0x3ad)],_0xb115ce=_0x5ebcf6[_0x15fd1b*(0x2407+0xce*0x2+-0x25a0)+(0x2f5*0x1+0x1843*0x1+-0x1b37)],_0x4da1d2=_0x5ebcf6[_0x15fd1b*(-0xe8d+0x243c+0x1*-0x15ac)+(-0x5c7+-0x203e+0x5*0x79b)];_0x7ee50f['set'](_0x23a340[_0x4ce963*(0x17*-0x6f+-0xb*0x5d+-0x3*-0x4a9)],_0x23a340[_0x4ce963*(0x218+0xdce*-0x1+0x1*0xbb9)+(0xc9c+0xd8e+-0x1a29)],_0x23a340[_0x4ce963*(0xa12+0x1*-0x1922+0xf13)+(-0x1dd7*-0x1+-0x1*0x1d36+0x35*-0x3)]),_0x49a0fc['set'](_0x23a340[_0xb115ce*(-0xd9d+0xf8f*0x1+0x1ef*-0x1)],_0x23a340[_0xb115ce*(-0x3d*-0x18+0x7c7*-0x5+-0x112*-0x1f)+(0xa*0x25c+0x295*-0x1+-0x1502)],_0x23a340[_0xb115ce*(0x2521*0x1+0x1*-0xba8+0xcbb*-0x2)+(-0x11c0+-0x1653+0x14b*0x1f)]),_0x2c73f2['set'](_0x23a340[_0x4da1d2*(-0x1*0x2684+0x16dc+0xfab)],_0x23a340[_0x4da1d2*(-0xe9b*0x1+-0x90*0x29+-0x12d7*-0x2)+(0x415+-0x1a1+-0x273)],_0x23a340[_0x4da1d2*(0x1*-0x11d8+-0x173*0x13+0x2d64)+(-0xf16+-0xef3+0x1e0b)]),_0x412b46['set'](_0x208fbe[_0x4ce963*(0x23af+0x1b44+-0x3ef1)],_0x208fbe[_0x4ce963*(-0x9f9+-0x1ad0*-0x1+0x10d5*-0x1)+(-0x1*-0x12eb+0xc27+-0xa5b*0x3)]),_0x38fe87['set'](_0x208fbe[_0xb115ce*(-0x1*0x1e3d+0x1*-0x7c9+0x2*0x1304)],_0x208fbe[_0xb115ce*(0x13e*0x10+0x11f2*-0x1+-0x1ec)+(0xa18*-0x1+-0x232c+0x2d45)]),_0x512f5b['set'](_0x208fbe[_0x4da1d2*(-0x2cd+-0x49*0x79+0xc7*0x30)],_0x208fbe[_0x4da1d2*(-0x1*-0x1687+0x4c7+-0x1b4c)+(0x3*-0x66b+-0x1*-0x499+-0x3*-0x4e3)]);const _0x4915bd=_0x49a0fc['x']-_0x7ee50f['x'],_0x144848=_0x2c73f2['x']-_0x7ee50f['x'],_0x20e756=_0x49a0fc['y']-_0x7ee50f['y'],_0x561989=_0x2c73f2['y']-_0x7ee50f['y'],_0x11454b=_0x49a0fc['z']-_0x7ee50f['z'],_0x324f01=_0x2c73f2['z']-_0x7ee50f['z'],_0xb7fc53=_0x38fe87['x']-_0x412b46['x'],_0x106f9e=_0x512f5b['x']-_0x412b46['x'],_0x2709c5=_0x38fe87['y']-_0x412b46['y'],_0x4923eb=_0x512f5b['y']-_0x412b46['y'],_0x84cf25=_0xb7fc53*_0x4923eb-_0x106f9e*_0x2709c5;if(_0x84cf25===-0x1ad0+-0xe2*0x2c+-0x4*-0x106a)_0x49a83d['set'](-0x269b*0x1+-0x2a*0x52+-0x1*-0x340f,0xd9c+0x1914+0x3*-0xce5,0x3*0x94b+-0x2*0x1231+0x881),_0x2ddbce['set'](0x790+-0x100c+0x87d,0x1171+0x2481+-0x35f2,-0x8cc*-0x4+-0x149+0x315*-0xb);else{const _0x34a070=(0x1584+-0x19bf+-0x4*-0x10f)/_0x84cf25;_0x49a83d['set']((_0x4923eb*_0x4915bd-_0x2709c5*_0x144848)*_0x34a070,(_0x4923eb*_0x20e756-_0x2709c5*_0x561989)*_0x34a070,(_0x4923eb*_0x11454b-_0x2709c5*_0x324f01)*_0x34a070),_0x2ddbce['set']((_0xb7fc53*_0x144848-_0x106f9e*_0x4915bd)*_0x34a070,(_0xb7fc53*_0x561989-_0x106f9e*_0x20e756)*_0x34a070,(_0xb7fc53*_0x324f01-_0x106f9e*_0x11454b)*_0x34a070);}_0x1b520a[_0x4ce963*(-0x9bb*-0x1+-0xb7*-0x29+-0x2707*0x1)+(0x135d+-0x1*0x1387+-0x3*-0xe)]+=_0x49a83d['x'],_0x1b520a[_0x4ce963*(-0x88+-0x1a43*0x1+0x1ace)+(0x1856+-0x28b+0x1*-0x15ca)]+=_0x49a83d['y'],_0x1b520a[_0x4ce963*(0x22e7+-0xac3+-0xd5*0x1d)+(0x12d0+0x1787*-0x1+0x1f*0x27)]+=_0x49a83d['z'],_0x1b520a[_0xb115ce*(0x13*-0xd5+-0xd88+0x1d5a)+(0x2*0xdd7+-0xd*-0x191+-0xfb*0x31)]+=_0x49a83d['x'],_0x1b520a[_0xb115ce*(0x117c+-0x10d4+0xb*-0xf)+(-0x902+0xfcb+0x7c*-0xe)]+=_0x49a83d['y'],_0x1b520a[_0xb115ce*(0x1595+-0xc47+-0x94b)+(-0xa*-0x38+0xab3*0x3+-0x41*0x87)]+=_0x49a83d['z'],_0x1b520a[_0x4da1d2*(0x4*0x5e7+-0xb*-0x1c4+-0x2b05)+(0x2574+-0x44+-0x2530)]+=_0x49a83d['x'],_0x1b520a[_0x4da1d2*(0x124b+-0xd1b*-0x1+0x5*-0x647)+(-0x1*0x177b+-0x1d83+0x34ff)]+=_0x49a83d['y'],_0x1b520a[_0x4da1d2*(0x236f+-0x1*0x4c1+-0x1eab)+(-0x10ef+0x80+0x1071)]+=_0x49a83d['z'],_0x1806ae[_0x4ce963*(0xcfb+-0x18b4+-0x2ef*-0x4)+(0xb20+0xd9*0x19+-0x2051)]+=_0x2ddbce['x'],_0x1806ae[_0x4ce963*(0xc8*0x6+-0x2ff*0x8+0x134b)+(-0xc39+-0x1a22+0x14*0x1eb)]+=_0x2ddbce['y'],_0x1806ae[_0x4ce963*(0x1479+-0x238d+0xf17)+(-0x1c30+0x187+-0x1*-0x1aab)]+=_0x2ddbce['z'],_0x1806ae[_0xb115ce*(0x179*0xf+0x1158+-0x1d*0x15c)+(-0x1*0xf29+-0x1ca1+0x2bca)]+=_0x2ddbce['x'],_0x1806ae[_0xb115ce*(-0x1*-0x2162+-0x2e9+-0x1e76*0x1)+(0x107*-0x7+0xa08+0x16*-0x21)]+=_0x2ddbce['y'],_0x1806ae[_0xb115ce*(-0x25b+0x3*0x6a7+-0x1197)+(-0x96b*0x4+-0x2085+-0x4633*-0x1)]+=_0x2ddbce['z'],_0x1806ae[_0x4da1d2*(-0x1555+-0xb*0x289+0x1*0x313b)+(-0x1087*-0x2+-0x2406+0x2f8)]+=_0x2ddbce['x'],_0x1806ae[_0x4da1d2*(0x1358+0x17f*0x15+0xcb0*-0x4)+(-0x4*0x5c7+-0x1*0x16f3+-0x430*-0xb)]+=_0x2ddbce['y'],_0x1806ae[_0x4da1d2*(-0x84*-0x42+-0x83f*-0x2+0x43*-0xc1)+(-0x1*0x258d+0xfa+0x2495)]+=_0x2ddbce['z'];}const _0x1a7ba7=new T(),_0x1b1f9f=new T(),_0xb7a1c6=new T(),_0x33eb99=new T();for(let _0x5b650a=0x1e27+-0x38b*-0x5+-0x2fde;_0x5b650a<_0x275472;_0x5b650a++){_0xb7a1c6['set'](_0x244620[_0x5b650a*(0x1*0x6e6+0x2529+-0x4*0xb03)],_0x244620[_0x5b650a*(0x1fb*0x3+0x2fa*0x6+-0x17ca)+(-0x270+0x267c+-0x240b*0x1)],_0x244620[_0x5b650a*(-0x56f+-0x1*0x1d8c+0x22fe)+(-0x19aa+-0x1ffc+0x39a8)]),_0x1a7ba7['set'](_0x1b520a[_0x5b650a*(-0x3*-0x7e+-0x1fc0+0x1e49)],_0x1b520a[_0x5b650a*(0x17e6+0x2673+-0x65*0x9e)+(0x1564+0x3*-0x9e5+-0xc*-0xb1)],_0x1b520a[_0x5b650a*(-0x601*0x3+-0x1dd*-0x3+0xc6f)+(0x46b+-0xb*-0xe2+-0x5*0x2d3)]),_0x1b1f9f['set'](_0x1806ae[_0x5b650a*(-0x3da+-0x1003+-0x8*-0x27c)],_0x1806ae[_0x5b650a*(0x1f61+0xb6+0x2*-0x100a)+(0x26a+0x10d*-0x6+0x3e5)],_0x1806ae[_0x5b650a*(-0x24fd+0xb*-0x371+0x4adb*0x1)+(-0x273+0x2252+0xa9f*-0x3)]);const _0x4c5bb2=_0xb7a1c6['dot'](_0x1a7ba7);_0x33eb99['copy'](_0xb7a1c6)['mulScalar'](_0x4c5bb2),_0x33eb99['sub2'](_0x1a7ba7,_0x33eb99)['normalize'](),_0x4bac21[_0x5b650a*(-0x2*-0x851+0x3e*0x95+0x34b4*-0x1)]=_0x33eb99['x'],_0x4bac21[_0x5b650a*(-0x1c9*0xb+0x11*0x11+0x1286)+(0x6*0x5ab+-0x121b+-0xfe6)]=_0x33eb99['y'],_0x4bac21[_0x5b650a*(0x3f*0x75+0xe*-0x77+0x1*-0x1645)+(0x182c+0x1*0x16cf+-0x41*0xb9)]=_0x33eb99['z'],_0x33eb99['cross'](_0xb7a1c6,_0x1a7ba7),_0x4bac21[_0x5b650a*(-0x1faf*0x1+-0x1b06+-0x1393*-0x3)+(-0x1b5a+0x60c+0x1551)]=_0x33eb99['dot'](_0x1b1f9f)<-0x19de+-0x8*0x2fe+0x31ce?-(0x972+0x2592+-0x1*0x2f03):0xbf+0xe6f+0x5*-0x309;}return _0x4bac21;};class pn{constructor(){c(this,'positions'),c(this,'normals'),c(this,'colors'),c(this,'uvs'),c(this,'uvs1'),c(this,'blendIndic'+'es'),c(this,'blendWeigh'+'ts'),c(this,'tangents'),c(this,'indices');}['calculateN'+'ormals'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=k0(this['positions'],this['indices']);}['calculateT'+'angents'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),v['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const Wu=(-0xd56+-0x2068+0x2dc2)/(-0x1ba5+-0x61d+0x2202),L_=-0x23bc+0x757+0x1c66-Wu*(0x305*-0x1+-0x1*0x2bd+0x5c4);class $u extends pn{constructor(_0x2d3bc9={}){super();const _0x21a915=_0x2d3bc9['halfExtent'+'s']??new T(-0x504*-0x1+0x4*-0x38d+0x930+0.5,0xf86*-0x2+0xf4c+0xfc0+0.5,-0x1284+0x2322+-0x109e+0.5),_0x2c1806=_0x2d3bc9['widthSegme'+'nts']??-0xc04*-0x2+-0xc*0x257+0x3d*0x11,_0x275018=_0x2d3bc9['lengthSegm'+'ents']??0xb5*-0x1f+-0x1043+0x262f,_0x267815=_0x2d3bc9['heightSegm'+'ents']??-0x1529+-0x26e5+-0x3c0f*-0x1,_0x4dcad7=_0x2d3bc9['yOffset']??-0x1e8b+0x713*0x1+0x2*0xbbc,_0xe87385=-_0x21a915['y']+_0x4dcad7,_0x33723a=_0x21a915['y']+_0x4dcad7,_0x3d765f=[new T(-_0x21a915['x'],_0xe87385,_0x21a915['z']),new T(_0x21a915['x'],_0xe87385,_0x21a915['z']),new T(_0x21a915['x'],_0x33723a,_0x21a915['z']),new T(-_0x21a915['x'],_0x33723a,_0x21a915['z']),new T(_0x21a915['x'],_0xe87385,-_0x21a915['z']),new T(-_0x21a915['x'],_0xe87385,-_0x21a915['z']),new T(-_0x21a915['x'],_0x33723a,-_0x21a915['z']),new T(_0x21a915['x'],_0x33723a,-_0x21a915['z'])],_0x134feb=[[-0x1*-0x41+-0x11b1+0x1170,0x126b+0x9*0x2a5+-0x2a37,0x70*-0x1+0x4*-0x571+0x1637],[-0x1a*-0x27+-0x49d+-0x13*-0x9,-0x1135+-0x174d*0x1+0x53*0x7d,0x18a4+0x1*0x17cb+-0x1834*0x2],[0x1386+-0x2*0xee4+0xa45,0x415+-0x20ae+0x1c9b,-0x1be1+0x1cc0+-0xd9],[0xe9f+-0xc1*-0xb+-0x73*0x33,0x3*-0x408+-0x469+0x1081,0x2*-0x2ed+-0xe*0x223+-0xa*-0x394],[0x21ae+-0x4*-0x74f+-0x3ee9,-0x106d*0x1+-0x219c+0x320d*0x1,-0x693*0x2+-0x2322+-0x373*-0xe],[0x15b9+-0x4ee+-0x10c6,-0x4*0x12b+-0x35b*-0x1+0x1*0x151,-0x4*-0x9+0x1f6+-0xe*0x26]],_0x25563c=[[0x1079+-0x12b7+-0x23e*-0x1,0x35*-0x19+-0x17d9+0xa*0x2e7,0xc97*0x2+0x65*0x33+-0xd*0x37c],[0x244a+0x27*-0x3f+-0x1ab1,-0x1057+0xd29*-0x1+0x1d80*0x1,-(-0x2366*0x1+-0x17b9+-0x56*-0xb0)],[0x16e6*0x1+0x14ed+-0x2bd3,-0x15d0+0x23ff+0xf2*-0xf,-0x1775*-0x1+0xcb9*0x3+-0x3da0],[-0x482+0x3*0x463+0x5*-0x1bb,-(0x6*0x4d6+-0x5f*0x21+-0x10c4),0xc*0xca+-0xbcc+0x254],[-0x261b+-0x1*0x36c+0x531*0x8,-0x243b*-0x1+-0x2156+-0x2e5,-0x1c0f+0x3d*0x8e+-0x5c7],[-(-0x9d*-0x16+-0x19ae+-0x1*-0xc31),-0xb83+0x11b7+-0x1*0x634,0x10f7*0x2+0x1557+-0x3745]],_0x1cd313={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x5285fe=[],_0x1b6ab1=[],_0x65fbb4=[],_0x29cbde=[];let _0x352e71=0x17b4+-0xdfe+-0x9b6*0x1;const _0x492a82=(_0x4fbf96,_0x30bab5,_0xa39d29)=>{const _0x3609cb=new T(),_0x1a1b1c=new T(),_0x2fd963=new T(),_0x54fe98=new T();for(let _0x4c2e7e=-0x2107*0x1+0x1d3c+-0x3cb*-0x1;_0x4c2e7e<=_0x30bab5;_0x4c2e7e++)for(let _0x41ab13=-0x1*0x2257+-0x2223+0x1*0x447a;_0x41ab13<=_0xa39d29;_0x41ab13++){_0x3609cb['lerp'](_0x3d765f[_0x134feb[_0x4fbf96][0x208d*-0x1+-0x138b*-0x1+-0xb9*-0x12]],_0x3d765f[_0x134feb[_0x4fbf96][0x68+0x147b*0x1+-0x14e2]],_0x4c2e7e/_0x30bab5),_0x1a1b1c['lerp'](_0x3d765f[_0x134feb[_0x4fbf96][0x1b0a*0x1+0xa44+0xa*-0x3bb]],_0x3d765f[_0x134feb[_0x4fbf96][-0x4be*0x6+-0x186+0xca*0x26]],_0x41ab13/_0xa39d29),_0x2fd963['sub2'](_0x1a1b1c,_0x3d765f[_0x134feb[_0x4fbf96][-0x16*0x117+0x409+-0x1*-0x13f1]]),_0x54fe98['add2'](_0x3609cb,_0x2fd963);let _0x358c52=_0x4c2e7e/_0x30bab5,_0x5dbfcc=_0x41ab13/_0xa39d29;_0x5285fe['push'](_0x54fe98['x'],_0x54fe98['y'],_0x54fe98['z']),_0x1b6ab1['push'](_0x25563c[_0x4fbf96][-0x36c+-0x9f5+0xd61],_0x25563c[_0x4fbf96][0x1*-0x721+0x1*-0x1525+0x3*0x96d],_0x25563c[_0x4fbf96][-0xc7*-0x1+0xc9*0x18+0x1*-0x139d]),_0x65fbb4['push'](_0x358c52,-0x25d*-0x6+-0x633+0x1*-0x7fa-_0x5dbfcc),_0x358c52=_0x358c52*L_+Wu,_0x5dbfcc=_0x5dbfcc*L_+Wu,_0x358c52/=0x3*0x1a1+-0x2517+-0x1*-0x2037,_0x5dbfcc/=-0x1f43+0x14c2+-0x4*-0x2a1,_0x358c52+=_0x4fbf96%(0x9c+0x697+-0x730)/(-0x850+-0xfbd+-0x46*-0x58),_0x5dbfcc+=Math['floor'](_0x4fbf96/(-0xd52+0xd00+0x55*0x1))/(-0x1431+0x169e+-0xce*0x3),_0x4c2e7e<_0x30bab5&&_0x41ab13<_0xa39d29&&(_0x29cbde['push'](_0x352e71+_0xa39d29+(0x1383*-0x2+0x243*-0x4+0x3013),_0x352e71+(-0x1*-0x10cc+0x1579*0x1+-0x2644),_0x352e71),_0x29cbde['push'](_0x352e71+_0xa39d29+(0xbdf+-0x1c50+0x1072),_0x352e71+_0xa39d29+(-0xb9d*0x2+0xe3e+0x8fe),_0x352e71+(-0x9*-0x1a7+-0x37a+-0xb64))),_0x352e71++;}};_0x492a82(_0x1cd313['FRONT'],_0x2c1806,_0x267815),_0x492a82(_0x1cd313['BACK'],_0x2c1806,_0x267815),_0x492a82(_0x1cd313['TOP'],_0x2c1806,_0x275018),_0x492a82(_0x1cd313['BOTTOM'],_0x2c1806,_0x275018),_0x492a82(_0x1cd313['RIGHT'],_0x275018,_0x267815),_0x492a82(_0x1cd313['LEFT'],_0x275018,_0x267815),this['positions']=_0x5285fe,this['normals']=_0x1b6ab1,this['uvs']=_0x65fbb4,this['uvs1']=_0x65fbb4,this['indices']=_0x29cbde,_0x2d3bc9['calculateT'+'angents']&&(this['tangents']=fr(_0x5285fe,_0x1b6ab1,_0x65fbb4,_0x29cbde));}}class B0 extends pn{constructor(_0xbd2ff4={}){super();const _0x2a0038=_0xbd2ff4['radius']??-0xde3+-0x1ab0+-0x1*-0x2893+0.5,_0x577a36=_0xbd2ff4['latitudeBa'+'nds']??0x1eac+0xf81+0x2e1d*-0x1,_0x4890f3=_0xbd2ff4['longitudeB'+'ands']??0x2018+0x1*0x1f+0x1*-0x2027,_0x4c72f8=[],_0x562fe9=[],_0x16e334=[],_0x4d8876=[];for(let _0x3ef073=0xa*-0x275+-0x5*-0x51d+-0xff;_0x3ef073<=_0x577a36;_0x3ef073++){const _0x4d723c=_0x3ef073*Math['PI']/_0x577a36,_0x33ad56=Math['sin'](_0x4d723c),_0x412762=Math['cos'](_0x4d723c);for(let _0x46d020=-0x6aa+-0x2*0x686+0x13b6;_0x46d020<=_0x4890f3;_0x46d020++){const _0x56cb98=_0x46d020*(0x1f1+0x511*-0x4+0x1255)*Math['PI']/_0x4890f3-Math['PI']/(-0x7e*-0x25+-0x1*-0xc2f+-0x1e63),_0xb70ac8=Math['sin'](_0x56cb98),_0x47ed00=Math['cos'](_0x56cb98)*_0x33ad56,_0x30a838=_0x412762,_0x4cf488=_0xb70ac8*_0x33ad56,_0x54a0fc=-0x17c1*0x1+0x1803+-0x41-_0x46d020/_0x4890f3,_0x4f7de8=0xc9f+0x14c*0xd+-0x1d7a-_0x3ef073/_0x577a36;_0x4c72f8['push'](_0x47ed00*_0x2a0038,_0x30a838*_0x2a0038,_0x4cf488*_0x2a0038),_0x562fe9['push'](_0x47ed00,_0x30a838,_0x4cf488),_0x16e334['push'](_0x54a0fc,0x1a2b+-0x10*-0x22c+-0x3cea-_0x4f7de8);}}for(let _0x57278d=0x405+-0x22fd*0x1+0x1ef8;_0x57278d<_0x577a36;++_0x57278d)for(let _0x2fc4f2=-0x18e9+0x3f1*-0x6+-0x191*-0x1f;_0x2fc4f2<_0x4890f3;++_0x2fc4f2){const _0x59cbdb=_0x57278d*(_0x4890f3+(0x2071+-0x25ef+0x57f))+_0x2fc4f2,_0xc1df64=_0x59cbdb+_0x4890f3+(0xd4f+0x1b2f+0x1*-0x287d);_0x4d8876['push'](_0x59cbdb+(0x1*0x36e+-0x8e1*-0x4+-0x26f1),_0xc1df64,_0x59cbdb),_0x4d8876['push'](_0x59cbdb+(-0x4*0xa7+0x2*-0x836+0xb*0x1bb),_0xc1df64+(0x13fb+-0xaab*-0x1+-0x1ea5),_0xc1df64);}this['positions']=_0x4c72f8,this['normals']=_0x562fe9,this['uvs']=_0x16e334,this['uvs1']=_0x16e334,this['indices']=_0x4d8876,_0xbd2ff4['calculateT'+'angents']&&(this['tangents']=fr(_0x4c72f8,_0x562fe9,_0x16e334,_0x4d8876));}}class p1 extends B0{constructor(_0x82d2b6={}){const _0x4ec7aa=_0x82d2b6['latitudeBa'+'nds']??0x449*-0x7+0x1*-0x7c3+0x25d2,_0x166b7a=_0x82d2b6['longitudeB'+'ands']??0x1ae2+0x232f+-0x3e01;super({'radius':0.5,'latitudeBands':_0x4ec7aa,'longitudeBands':_0x166b7a});const _0x33c2bb=0x25da+0x1*0x120f+0x3*-0x12a3+0.1,_0x1bbc96=-0x1861+0x3fe+0x1463+0.95,_0x50796b=_0x1bbc96*_0x1bbc96,_0x19dee8=this['positions'];for(let _0x55cbf3=0x23c+0x7*-0xf1+-0xdf*-0x5;_0x55cbf3<_0x19dee8['length'];_0x55cbf3+=0x177+-0x1352+0x11de*0x1){const _0x114025=_0x19dee8[_0x55cbf3]/(-0x1df6*-0x1+0x2560+-0x4356+0.5);let _0x362952=_0x19dee8[_0x55cbf3+(-0x13*-0x83+0x3df*-0x1+-0x5d9)]/(0x26eb+0x1e19+-0x1c*0x277+0.5);const _0x20d73b=_0x19dee8[_0x55cbf3+(-0x2023+0x2*0xfc1+-0x1*-0xa3)]/(-0x5dd+0xb60+-0x583+0.5);_0x362952<0x339+0x279+-0x5b2&&(_0x362952*=0x19ea+0x1226*0x2+0x1f1b*-0x2+0.3,_0x114025*_0x114025+_0x20d73b*_0x20d73b<_0x50796b&&(_0x362952=-(0x3*0x207+-0x3*-0x195+0x4*-0x2b5+0.1))),_0x362952+=_0x33c2bb,_0x362952*=0x1f6c+-0x9b2+-0x15ba+0.5,_0x19dee8[_0x55cbf3+(-0x1*0x1ab3+-0x1afe+0x35b2)]=_0x362952;}}}class So{static['create'](_0x3a2014,_0x3392ab){switch(_0x3392ab){case tw:return So['box'](_0x3a2014);case sw:return So['dome'](_0x3a2014);}return v['assert'](_0x3392ab===xo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x3392ab),So['infinite'](_0x3a2014);}static['infinite'](_0x51ddf8){return Ie['fromGeomet'+'ry'](_0x51ddf8,new $u(_0x51ddf8));}static['box'](_0x4c9f1e){return Ie['fromGeomet'+'ry'](_0x4c9f1e,new $u({'yOffset':0.5}));}static['dome'](_0x315471){const _0x29b3b6=new p1({'latitudeBands':0x32,'longitudeBands':0x32});return _0x29b3b6['normals']=void(0x180b+0x20b3+-0x327*0x12),_0x29b3b6['uvs']=void(-0x214c+0x8a9+0x7*0x385),Ie['fromGeomet'+'ry'](_0x315471,_0x29b3b6);}}class m1{constructor(_0x2ab144,_0x2c9eb7,_0x292398,_0x3a937e,_0x22532b){c(this,'meshInstan'+'ce',null);const _0x33c040=new Ra({'uniqueName':'SkyMateria'+'l','vertexCode':X['skyboxVS'],'fragmentCode':X['skyboxPS'],'attributes':{'aPosition':He}});_0x33c040['setDefine']('__INJECT_S'+'KYBOX_DECO'+'DE_FNC',Es['decodeFunc'](_0x3a937e['encoding'])),_0x22532b!==xo&&_0x33c040['setDefine']('SKYMESH',''),_0x3a937e['cubemap']&&_0x33c040['setDefine']('SKY_CUBEMA'+'P',''),_0x33c040['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x2c9eb7['skyboxHigh'+'lightMulti'+'plier']),_0x3a937e['cubemap']?_0x33c040['setParamet'+'er']('texture_cu'+'beMap',_0x3a937e):(_0x33c040['setParamet'+'er']('texture_en'+'vAtlas',_0x3a937e),_0x33c040['setParamet'+'er']('mipLevel',_0x2c9eb7['skyboxMip'])),_0x33c040['cull']=mo,_0x33c040['depthWrite']=!(-0x108*-0x2+0x970+-0xb7f);const _0x3fb15c=_0x2c9eb7['layers']['getLayerBy'+'Id'](vp);if(_0x3fb15c){const _0x2e41da=So['create'](_0x2ab144,_0x22532b),_0x1b2ec9=new Le(_0x2e41da,_0x33c040,_0x292398);this['meshInstan'+'ce']=_0x1b2ec9,_0x1b2ec9['cull']=!(-0x97*-0x9+0x121b*-0x2+0x1ee8),_0x1b2ec9['pick']=!(-0x21fb*-0x1+0x181a+0x9*-0x674),_0x3fb15c['addMeshIns'+'tances']([_0x1b2ec9]),this['skyLayer']=_0x3fb15c;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}}class _1{constructor(_0x2435d8){c(this,'_type',xo),c(this,'_center',new T(-0x2*-0x132b+0x1505+0x13c9*-0x3,-0x10ae+-0x1736*0x1+0x5b3*0x7,-0x96*0x37+-0x20e1+0x411b)),c(this,'skyMesh',null),c(this,'node',new De('SkyMeshNod'+'e')),(this['device']=_0x2435d8['device'],this['scene']=_0x2435d8,this['center']=new T(0x21f7+-0x180c+-0x9eb,-0x25c1+0x157+0x246b,-0x568+-0xa5a+0xfc2),this['centerArra'+'y']=new Float32Array(-0x13b9+-0x2307+0x36c3),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0xc256ee){this['type']=_0xc256ee['skyType']??xo,this['node']['setLocalPo'+'sition'](new T(_0xc256ee['skyMeshPos'+'ition']??[-0x1c30+-0x2e+-0x1c5e*-0x1,-0xe2+-0x11b3+0x47*0x43,-0xae1+-0xa1*0x1+0xb82])),this['node']['setLocalEu'+'lerAngles'](new T(_0xc256ee['skyMeshRot'+'ation']??[-0x18de+0x18b5+0x29,-0x17*0x13f+-0x1d3+0x1e7c,-0x1*-0x224e+-0x1f83+-0x2cb])),this['node']['setLocalSc'+'ale'](new T(_0xc256ee['skyMeshSca'+'le']??[-0xf86+-0xf39+0x1ec0,0xca0+-0x2688+-0x25b*-0xb,-0x22f7+-0x200d+-0x331*-0x15])),_0xc256ee['skyCenter']&&(this['_center']=new T(_0xc256ee['skyCenter']));}set['type'](_0x331e30){this['_type']!==_0x331e30&&(this['_type']=_0x331e30,this['scene']['updateShad'+'ers']=!(0x1*0x1e55+-0x38c*-0x5+-0x3011),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x3e6f18){this['_center']['copy'](_0x3e6f18);}get['center'](){return this['_center'];}['updateSkyM'+'esh'](){const _0xc02074=this['scene']['_getSkybox'+'Tex']();_0xc02074&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new m1(this['device'],this['scene'],this['node'],_0xc02074,this['type']),this['scene']['fire']('set:skybox',_0xc02074));}['resetSkyMe'+'sh'](){var _0x1d44a0;(_0x1d44a0=this['skyMesh'])==null||_0x1d44a0['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==xo){const {center:_0x8e13a9,centerArray:_0x4978e4}=this,_0x1a4d92=new T();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x8e13a9,_0x1a4d92),_0x4978e4[-0x1366+0x20b*0x1+0x115b]=_0x1a4d92['x'],_0x4978e4[0x247c+-0xb00+-0x197b]=_0x1a4d92['y'],_0x4978e4[0x2*-0x113a+-0x331+-0xbd*-0x33]=_0x1a4d92['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x4978e4);}}}const Hh=new De();Hh['worldTrans'+'form']=q['IDENTITY'],Hh['_dirtyWorl'+'d']=Hh['_dirtyNorm'+'al']=!(0x168*-0xe+-0x186b+0x2c1c);class g1{constructor(_0x3da861,_0x478cdf,_0x111ce5){this['material']=_0x478cdf,this['layer']=_0x111ce5,this['positions']=[],this['colors']=[],this['mesh']=new Ie(_0x3da861),this['meshInstan'+'ce']=null;}['addLines'](_0x28d08e,_0x4746b0){const _0x17dc0d=this['positions'],_0x31cd7b=_0x28d08e['length'];for(let _0x5c3230=0x2ba*0xb+-0x6*0x43c+-0x496;_0x5c3230<_0x31cd7b;_0x5c3230++){const _0x284320=_0x28d08e[_0x5c3230];_0x17dc0d['push'](_0x284320['x'],_0x284320['y'],_0x284320['z']);}const _0x29a8c4=this['colors'];if(_0x4746b0['length'])for(let _0x5e85af=0x86b+0x466*0x4+-0x1a03;_0x5e85af<_0x31cd7b;_0x5e85af++){const _0x5e0ba9=_0x4746b0[_0x5e85af];_0x29a8c4['push'](_0x5e0ba9['r'],_0x5e0ba9['g'],_0x5e0ba9['b'],_0x5e0ba9['a']);}else{for(let _0xbfffac=-0x7*-0x371+-0xcc1+-0xb56*0x1;_0xbfffac<_0x31cd7b;_0xbfffac++)_0x29a8c4['push'](_0x4746b0['r'],_0x4746b0['g'],_0x4746b0['b'],_0x4746b0['a']);}}['addLinesAr'+'rays'](_0x31f677,_0x3b8d1f){const _0x3e1751=this['positions'];for(let _0x2a5628=-0x16fa+-0x1978+0x3072;_0x2a5628<_0x31f677['length'];_0x2a5628+=0x962+0x2ab*0x9+-0x10b1*0x2)_0x3e1751['push'](_0x31f677[_0x2a5628],_0x31f677[_0x2a5628+(-0x1d07+0x230b+0x3*-0x201)],_0x31f677[_0x2a5628+(-0xf80+0x208b*0x1+-0x26f*0x7)]);const _0x204f29=this['colors'];if(_0x3b8d1f['length']){for(let _0x305825=0x826+-0x1e11+0x15eb;_0x305825<_0x3b8d1f['length'];_0x305825+=-0xf76+-0x226b+0x31e5)_0x204f29['push'](_0x3b8d1f[_0x305825],_0x3b8d1f[_0x305825+(-0x1d69*0x1+0x1373+0x9f7)],_0x3b8d1f[_0x305825+(0x24d1+-0x1*0x101f+0x10*-0x14b)],_0x3b8d1f[_0x305825+(-0x1*0x1b9b+0x22c4+-0x726)]);}else{const _0xdcc0e0=_0x31f677['length']/(0x2*0xbda+-0x18c0+0x10f*0x1);for(let _0x5206d1=-0x2516+0x3f*0x98+-0x52;_0x5206d1<_0xdcc0e0;_0x5206d1++)_0x204f29['push'](_0x3b8d1f['r'],_0x3b8d1f['g'],_0x3b8d1f['b'],_0x3b8d1f['a']);}}['onPreRende'+'r'](_0x34a4cd,_0x561d50){this['positions']['length']>-0x3f9+0x937*-0x1+-0x1*-0xd30&&this['material']['transparen'+'t']===_0x561d50&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](Pc,!(-0xac8+-0x1683+0x4*0x853)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new Le(this['mesh'],this['material'],Hh)),_0x34a4cd['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=0x2200+0x2*0x1186+0xb82*-0x6,this['colors']['length']=-0x17*0x17b+0x21ca+0x43;}}class y1{constructor(_0x5f52cb){this['device']=_0x5f52cb,this['map']=new Map();}['getBatch'](_0x22ad84,_0x4c8f8d){let _0x4afff4=this['map']['get'](_0x22ad84);return _0x4afff4||(_0x4afff4=new g1(this['device'],_0x22ad84,_0x4c8f8d),this['map']['set'](_0x22ad84,_0x4afff4)),_0x4afff4;}['onPreRende'+'r'](_0x4f7ed0,_0x3e3a3a){this['map']['forEach'](_0x450746=>{_0x450746['onPreRende'+'r'](_0x4f7ed0,_0x3e3a3a);});}['clear'](){this['map']['forEach'](_0x3b3faa=>_0x3b3faa['clear']());}}const Jt=[],Ln=new T(),x1={'uniqueName':'ImmediateL'+'ine','vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec3\x20vertex'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20mat4\x20m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_viewProje'+'ction;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20='+'\x20vertex_co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20matrix_vi'+'ewProjecti'+'on\x20*\x20matri'+'x_model\x20*\x20'+'vec4(verte'+'x_position'+',\x201);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','fragmentCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20','attributes':{'vertex_position':He,'vertex_color':At}};class S1{constructor(_0x17de1b){c(this,'shaderDesc'+'s',new Map()),(this['device']=_0x17de1b,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x37298e){const _0x51aa66=new Ra(x1);return _0x51aa66['blendType']=Kt,_0x51aa66['depthTest']=_0x37298e,_0x51aa66['update'](),_0x51aa66;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(-0x912+-0x19be+0x22d0))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(0x29*-0x8b+-0x23d6+-0x192*-0x25))),this['_materialN'+'oDepth'];}['getBatch'](_0x4b41e8,_0x37141c){let _0x331838=this['batchesMap']['get'](_0x4b41e8);_0x331838||(_0x331838=new y1(this['device']),this['batchesMap']['set'](_0x4b41e8,_0x331838)),this['allBatches']['add'](_0x331838);const _0x22c244=_0x37141c?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x331838['getBatch'](_0x22c244,_0x4b41e8);}['getShaderD'+'esc'](_0x364d5e,_0x488de4){return this['shaderDesc'+'s']['has'](_0x364d5e)||this['shaderDesc'+'s']['set'](_0x364d5e,{'uniqueName':'DebugShade'+'r:'+_0x364d5e,'vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20vertex_p'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20vec2'+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'0\x20=\x20vertex'+'_position.'+'xy\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentCode':_0x488de4,'attributes':{'vertex_position':He}}),this['shaderDesc'+'s']['get'](_0x364d5e);}['getTexture'+'ShaderDesc'](_0xbd3deb){const _0x253d35=Es['decodeFunc'](_0xbd3deb);return this['getShaderD'+'esc']('textureSha'+'der-'+_0xbd3deb,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x253d35+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+X['screenDept'+'hPS']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(uv0)'+')\x20*\x20camera'+'_params.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(vec3'+'(depth)),\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20'));}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ie(this['device']),this['quadMesh']['setPositio'+'ns']([-(-0x1680+-0x18e0+-0x1*-0x2f60+0.5),-(0x121f+0x2549+0x6ed*-0x8+0.5),-0x153c+-0x15b8+0x2af4,0xf2f+-0x93e*0x3+-0x1*-0xc8b+0.5,-(0x195f+0x1*0x1f9d+-0x38fc+0.5),-0xf3*0xb+0x1231*0x1+-0x7c0,-(0xdb*-0x22+0xc02+-0x2*-0x88a+0.5),-0x175*-0x9+0x11d1*-0x2+-0x1*-0x1685+0.5,0x1184+-0xfd7+-0x1ad*0x1,-0x15ff*-0x1+0x1*0x332+0x1931*-0x1+0.5,0x15ee+-0x17f8+0x20a+0.5,0x313*-0x3+0x2318+-0x19df]),this['quadMesh']['update'](ar)),this['quadMesh'];}['drawMesh'](_0x31ad93,_0x115ff3,_0x5a5610,_0x4b03f8,_0x5310ee){if(!_0x4b03f8){const _0x3acc6f=this['getGraphNo'+'de'](_0x115ff3);_0x4b03f8=new Le(_0x5a5610,_0x31ad93,_0x3acc6f);}let _0x4a7fbf=this['layerMeshI'+'nstances']['get'](_0x5310ee);_0x4a7fbf||(_0x4a7fbf=[],this['layerMeshI'+'nstances']['set'](_0x5310ee,_0x4a7fbf)),_0x4a7fbf['push'](_0x4b03f8);}['drawWireAl'+'ignedBox'](_0xf7017f,_0x55ecda,_0x152927,_0x3559c1,_0x5ba998,_0x24cbb9){if(_0x24cbb9){const _0x10fb86=(_0x28aea2,_0x22d4fa,_0x44d636)=>{Ln['set'](_0x28aea2,_0x22d4fa,_0x44d636),_0x24cbb9['transformP'+'oint'](Ln,Ln),Jt['push'](Ln['x'],Ln['y'],Ln['z']);};_0x10fb86(_0xf7017f['x'],_0xf7017f['y'],_0xf7017f['z']),_0x10fb86(_0xf7017f['x'],_0x55ecda['y'],_0xf7017f['z']),_0x10fb86(_0xf7017f['x'],_0x55ecda['y'],_0xf7017f['z']),_0x10fb86(_0x55ecda['x'],_0x55ecda['y'],_0xf7017f['z']),_0x10fb86(_0x55ecda['x'],_0x55ecda['y'],_0xf7017f['z']),_0x10fb86(_0x55ecda['x'],_0xf7017f['y'],_0xf7017f['z']),_0x10fb86(_0x55ecda['x'],_0xf7017f['y'],_0xf7017f['z']),_0x10fb86(_0xf7017f['x'],_0xf7017f['y'],_0xf7017f['z']),_0x10fb86(_0xf7017f['x'],_0xf7017f['y'],_0x55ecda['z']),_0x10fb86(_0xf7017f['x'],_0x55ecda['y'],_0x55ecda['z']),_0x10fb86(_0xf7017f['x'],_0x55ecda['y'],_0x55ecda['z']),_0x10fb86(_0x55ecda['x'],_0x55ecda['y'],_0x55ecda['z']),_0x10fb86(_0x55ecda['x'],_0x55ecda['y'],_0x55ecda['z']),_0x10fb86(_0x55ecda['x'],_0xf7017f['y'],_0x55ecda['z']),_0x10fb86(_0x55ecda['x'],_0xf7017f['y'],_0x55ecda['z']),_0x10fb86(_0xf7017f['x'],_0xf7017f['y'],_0x55ecda['z']),_0x10fb86(_0xf7017f['x'],_0xf7017f['y'],_0xf7017f['z']),_0x10fb86(_0xf7017f['x'],_0xf7017f['y'],_0x55ecda['z']),_0x10fb86(_0xf7017f['x'],_0x55ecda['y'],_0xf7017f['z']),_0x10fb86(_0xf7017f['x'],_0x55ecda['y'],_0x55ecda['z']),_0x10fb86(_0x55ecda['x'],_0x55ecda['y'],_0xf7017f['z']),_0x10fb86(_0x55ecda['x'],_0x55ecda['y'],_0x55ecda['z']),_0x10fb86(_0x55ecda['x'],_0xf7017f['y'],_0xf7017f['z']),_0x10fb86(_0x55ecda['x'],_0xf7017f['y'],_0x55ecda['z']);}else Jt['push'](_0xf7017f['x'],_0xf7017f['y'],_0xf7017f['z'],_0xf7017f['x'],_0x55ecda['y'],_0xf7017f['z'],_0xf7017f['x'],_0x55ecda['y'],_0xf7017f['z'],_0x55ecda['x'],_0x55ecda['y'],_0xf7017f['z'],_0x55ecda['x'],_0x55ecda['y'],_0xf7017f['z'],_0x55ecda['x'],_0xf7017f['y'],_0xf7017f['z'],_0x55ecda['x'],_0xf7017f['y'],_0xf7017f['z'],_0xf7017f['x'],_0xf7017f['y'],_0xf7017f['z'],_0xf7017f['x'],_0xf7017f['y'],_0x55ecda['z'],_0xf7017f['x'],_0x55ecda['y'],_0x55ecda['z'],_0xf7017f['x'],_0x55ecda['y'],_0x55ecda['z'],_0x55ecda['x'],_0x55ecda['y'],_0x55ecda['z'],_0x55ecda['x'],_0x55ecda['y'],_0x55ecda['z'],_0x55ecda['x'],_0xf7017f['y'],_0x55ecda['z'],_0x55ecda['x'],_0xf7017f['y'],_0x55ecda['z'],_0xf7017f['x'],_0xf7017f['y'],_0x55ecda['z'],_0xf7017f['x'],_0xf7017f['y'],_0xf7017f['z'],_0xf7017f['x'],_0xf7017f['y'],_0x55ecda['z'],_0xf7017f['x'],_0x55ecda['y'],_0xf7017f['z'],_0xf7017f['x'],_0x55ecda['y'],_0x55ecda['z'],_0x55ecda['x'],_0x55ecda['y'],_0xf7017f['z'],_0x55ecda['x'],_0x55ecda['y'],_0x55ecda['z'],_0x55ecda['x'],_0xf7017f['y'],_0xf7017f['z'],_0x55ecda['x'],_0xf7017f['y'],_0x55ecda['z']);this['getBatch'](_0x5ba998,_0x3559c1)['addLinesAr'+'rays'](Jt,_0x152927),Jt['length']=0x1*0xe77+0x1415+0x5c2*-0x6;}['drawWireSp'+'here'](_0x193bb9,_0x1dc8fb,_0x51a409,_0x1dc39d,_0x37a95b,_0x2089b9){const _0x500931=(-0x2*0x768+-0x5ed*0x1+0x14bf*0x1)*Math['PI']/_0x1dc39d;let _0xab5447=0x193*-0x11+0x1*-0x53a+0x1ffd;for(let _0x7581b0=0xfed+-0x822+-0x7cb*0x1;_0x7581b0<_0x1dc39d;_0x7581b0++){const _0x4c4520=Math['sin'](_0xab5447),_0x50e561=Math['cos'](_0xab5447);_0xab5447+=_0x500931;const _0x29cc68=Math['sin'](_0xab5447),_0x5b9de9=Math['cos'](_0xab5447);Jt['push'](_0x193bb9['x']+_0x1dc8fb*_0x4c4520,_0x193bb9['y'],_0x193bb9['z']+_0x1dc8fb*_0x50e561),Jt['push'](_0x193bb9['x']+_0x1dc8fb*_0x29cc68,_0x193bb9['y'],_0x193bb9['z']+_0x1dc8fb*_0x5b9de9),Jt['push'](_0x193bb9['x']+_0x1dc8fb*_0x4c4520,_0x193bb9['y']+_0x1dc8fb*_0x50e561,_0x193bb9['z']),Jt['push'](_0x193bb9['x']+_0x1dc8fb*_0x29cc68,_0x193bb9['y']+_0x1dc8fb*_0x5b9de9,_0x193bb9['z']),Jt['push'](_0x193bb9['x'],_0x193bb9['y']+_0x1dc8fb*_0x4c4520,_0x193bb9['z']+_0x1dc8fb*_0x50e561),Jt['push'](_0x193bb9['x'],_0x193bb9['y']+_0x1dc8fb*_0x29cc68,_0x193bb9['z']+_0x1dc8fb*_0x5b9de9);}this['getBatch'](_0x2089b9,_0x37a95b)['addLinesAr'+'rays'](Jt,_0x51a409),Jt['length']=-0x1*0x24b3+0x1632+-0x2f*-0x4f;}['getGraphNo'+'de'](_0x282d04){const _0x545307=new De('ImmediateD'+'ebug');return _0x545307['worldTrans'+'form']=_0x282d04,_0x545307['_dirtyWorl'+'d']=_0x545307['_dirtyNorm'+'al']=!(-0x423+-0x1df6+0x221a),_0x545307;}['onPreRende'+'rLayer'](_0x19ea8d,_0x4d732f,_0x2a219b){if(this['batchesMap']['forEach']((_0x34c97b,_0x5c9c46)=>{_0x5c9c46===_0x19ea8d&&_0x34c97b['onPreRende'+'r'](_0x4d732f,_0x2a219b);}),!this['updatedLay'+'ers']['has'](_0x19ea8d)){this['updatedLay'+'ers']['add'](_0x19ea8d);const _0x38d8d1=this['layerMeshI'+'nstances']['get'](_0x19ea8d);if(_0x38d8d1){for(let _0x11cb34=-0xd46+0xb*0x113+0x175;_0x11cb34<_0x38d8d1['length'];_0x11cb34++)_0x4d732f['push'](_0x38d8d1[_0x11cb34]);_0x38d8d1['length']=0x2*-0xf97+0x22e+0x1d00;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x38df06=>_0x38df06['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class v1{constructor(){c(this,'type',Fa),c(this,'color',new Y(0x8*0x4dc+0x5bc*0x1+-0x23b*0x14,0xed3+-0xbd*0x31+0x155a*0x1,-0x123f+-0x1*0xe4b+0x208a)),c(this,'density',0x19b*-0x15+-0x1*0x20dd+0x4*0x10a5),c(this,'start',-0x87e+0x1*0xe81+-0x301*0x2),c(this,'end',0x8ba*0x3+0x3e*0x7a+-0x8a3*0x6);}}class ci extends ce{constructor(_0x12e18f){super(),c(this,'ambientBak'+'e',!(-0x11*-0x1db+-0x4fd+-0x1a8d)),c(this,'ambientBak'+'eOcclusion'+'Brightness',0x64*0x5b+0x42d*-0x1+-0x1f5f),c(this,'ambientBak'+'eOcclusion'+'Contrast',0x2*-0x1048+0x9ef+-0x1*-0x16a1),c(this,'ambientLig'+'ht',new Y(0x1*0x205a+-0x917+0x4a7*-0x5,-0x1096+0x1*0x2069+-0x1*0xfd3,-0x1*0x5d4+-0x2413+-0x1*-0x29e7)),c(this,'ambientLum'+'inance',-0x17aa+0x401*0x9+-0xc5f),c(this,'exposure',0x53*-0x9+-0x2694+0x2980),c(this,'lightmapSi'+'zeMultipli'+'er',-0xaf1*-0x1+0x2ed*0x7+-0x7*0x47d),c(this,'lightmapMa'+'xResolutio'+'n',0x159b*0x1+-0xaf0*0x3+0x1335),c(this,'lightmapMo'+'de',ch),c(this,'lightmapFi'+'lterEnable'+'d',!(-0x1*-0x19a9+0xa06+-0x23ae*0x1)),c(this,'lightmapHD'+'R',!(0x21b1+-0xcd2*-0x3+-0x4826)),c(this,'root',null),c(this,'physicalUn'+'its',!(0x1a7e+-0x1*-0x2485+-0x3f02)),c(this,'_envAtlas',null),c(this,'_skyboxCub'+'eMap',null),c(this,'_fogParams',new v1()),(v['assert'](_0x12e18f,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x12e18f,this['_gravity']=new T(0x1*0x1cc4+0x22*-0x10+-0x1aa4,-(0x211d+0x26da*0x1+0x36*-0x155+0.8000000000000007),-0x142c*-0x1+-0x24e5+-0x1*-0x10b9),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=-0x1b*-0x122+0x1*0x1a02+-0x12dd*0x3,this['_skyboxLum'+'inance']=-0x6d*-0x2f+0xce7+-0x1075*0x2,this['_skyboxMip']=-0x1284+0xecb+0x3b9*0x1,this['_skyboxHig'+'hlightMult'+'iplier']=0x460+-0x118e+0xd2f,this['_skyboxRot'+'ationShade'+'rInclude']=!(0x209c+-0x2e*-0xd6+0x1*-0x470f),this['_skyboxRot'+'ation']=new se(),this['_skyboxRot'+'ationMat3']=new js(),this['_skyboxRot'+'ationMat4']=new q(),this['_ambientBa'+'keNumSampl'+'es']=0x1*-0x5b5+-0x42d+0x9e3,this['_ambientBa'+'keSpherePa'+'rt']=0x1663+0xfe3+0x8a*-0x47+0.4,this['_lightmapF'+'ilterRange']=0x1*0x4f6+0x1*0x437+-0x1*0x923,this['_lightmapF'+'ilterSmoot'+'hness']=0x100f*0x2+-0x941+-0x1*0x16dd+0.2,this['_clustered'+'LightingEn'+'abled']=!(-0x1b59+0x9b*-0x9+0x20cc),this['_lightingP'+'arams']=new L0(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(-0x23*-0x17+0x196b+-0x1c90);}),this['_sky']=new _1(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(-0xee0+-0x5bc+0x149c),this['_shaderVer'+'sion']=-0x2138+0x2668+-0x530,this['immediate']=new S1(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](bp);}set['ambientBak'+'eNumSample'+'s'](_0x492c0a){this['_ambientBa'+'keNumSampl'+'es']=N['clamp'](Math['floor'](_0x492c0a),-0x14fc+-0x16*-0xd0+-0x1*-0x31d,0xc82+0xf31*-0x2+-0x12df*-0x1);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x19303a){this['_ambientBa'+'keSpherePa'+'rt']=N['clamp'](_0x19303a,-0xc08+-0x649+0x1251+0.001,0x246b*0x1+-0x1eab+-0x1*0x5bf);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x4ca4fd){if(this['device']['isWebGPU']&&!_0x4ca4fd){v['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x4ca4fd){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x4ca4fd;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x2da7c7){_0x2da7c7!==this['_envAtlas']&&(this['_envAtlas']=_0x2da7c7,_0x2da7c7&&(_0x2da7c7['addressU']=ae,_0x2da7c7['addressV']=ae,_0x2da7c7['minFilter']=st,_0x2da7c7['magFilter']=st,_0x2da7c7['mipmaps']=!(-0xec9+-0x182f+0x26f9)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x49be45){const _0x6c7470=this['_layers'];this['_layers']=_0x49be45,this['fire']('set:layers',_0x6c7470,_0x49be45);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x1bbd86){this['_lightmapF'+'ilterRange']=Math['max'](_0x1bbd86,0x17f4+-0x4c3+-0x11*0x121+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x1ec2a9){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x1ec2a9,0x23*-0x112+-0x179f+-0x1*-0x3d15+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x1d802d){_0x1d802d=_0x1d802d||[];const _0x35d8e5=this['_prefilter'+'edCubemaps'];(_0x35d8e5['length']!==_0x1d802d['length']||_0x35d8e5['some']((_0x5af790,_0x39a2bb)=>_0x5af790!==_0x1d802d[_0x39a2bb]))&&(_0x1d802d['length']===-0x223b+-0x23db*0x1+0x461c&&_0x1d802d['every'](_0x507745=>!!_0x507745)?(this['_internalE'+'nvAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x1d802d,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x1d802d['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x5265e2){_0x5265e2!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x5265e2,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x497293){_0x497293!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x497293,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x29557b){_0x29557b!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x29557b,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x595802){_0x595802!==this['_skyboxMip']&&(this['_skyboxMip']=_0x595802,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x1f3287){_0x1f3287!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x1f3287,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x2d6b69){if(!this['_skyboxRot'+'ation']['equals'](_0x2d6b69)){const _0x8b8b4d=_0x2d6b69['equals'](se['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x2d6b69),_0x8b8b4d?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](T['ZERO'],_0x2d6b69,T['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x8b8b4d&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(0x695*0x4+0xea4*-0x2+0x4*0xbd),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x1f6564,_0x5606f1,_0x5711e2=Y['WHITE'],_0x3c499c=!(0x1*-0x12c1+-0x8e1*-0x3+-0x2*0x3f1),_0x13dbba=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x13dbba,_0x3c499c)['addLines']([_0x1f6564,_0x5606f1],[_0x5711e2,_0x5711e2]);}['drawLines'](_0x2cf966,_0x3f8b24,_0x2a8bcb=!(0x9a6+0xef4+-0x189a),_0x19e6a7=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x19e6a7,_0x2a8bcb)['addLines'](_0x2cf966,_0x3f8b24);}['drawLineAr'+'rays'](_0x194c84,_0xf2722b,_0xf9be91=!(0x248a+-0xb*-0x27a+-0x3fc8),_0x153a3f=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x153a3f,_0xf9be91)['addLinesAr'+'rays'](_0x194c84,_0xf2722b);}['applySetti'+'ngs'](_0x333521){const _0x218ba1=_0x333521['physics'],_0x220460=_0x333521['render'];this['_gravity']['set'](_0x218ba1['gravity'][-0x3d*-0x53+0x1cfa+-0x30c1],_0x218ba1['gravity'][0x5*-0x721+-0xa0*-0x25+0xc86],_0x218ba1['gravity'][-0x1993+0x2e7+0x16ae]),this['ambientLig'+'ht']['set'](_0x220460['global_amb'+'ient'][0xdd2+-0xce1+-0xf1*0x1],_0x220460['global_amb'+'ient'][-0x2333+-0x1938+0x3c6c],_0x220460['global_amb'+'ient'][0x77*-0x11+-0x1b23+0x230c]),this['ambientLum'+'inance']=_0x220460['ambientLum'+'inance'],this['fog']['type']=_0x220460['fog'],this['fog']['color']['set'](_0x220460['fog_color'][-0xa97*-0x1+-0xa73+-0x1*0x24],_0x220460['fog_color'][0x2bb*-0x5+0x88c+0x51c],_0x220460['fog_color'][0xeed+-0xb3f*-0x1+0xd15*-0x2]),this['fog']['start']=_0x220460['fog_start'],this['fog']['end']=_0x220460['fog_end'],this['fog']['density']=_0x220460['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x220460['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x220460['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x220460['lightmapMo'+'de'],this['exposure']=_0x220460['exposure'],this['_skyboxInt'+'ensity']=_0x220460['skyboxInte'+'nsity']??-0x657+0xc89*0x3+-0x1f43,this['_skyboxLum'+'inance']=_0x220460['skyboxLumi'+'nance']??0xd*-0xa03+0x1*-0x68d+0xd6d4,this['_skyboxMip']=_0x220460['skyboxMip']??-0x1cdb+0x43*0x21+0x1438,_0x220460['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new se()['setFromEul'+'erAngles'](_0x220460['skyboxRota'+'tion'][-0x1e88+0x1216+0x213*0x6],_0x220460['skyboxRota'+'tion'][0x18c5+-0x8d*-0x11+0x1*-0x2221],_0x220460['skyboxRota'+'tion'][-0xa28+-0x2226+0x2c50])),this['sky']['applySetti'+'ngs'](_0x220460),this['clusteredL'+'ightingEna'+'bled']=_0x220460['clusteredL'+'ightingEna'+'bled']??!(0x248c+-0x35*0x2d+-0x1b3a),this['lighting']['applySetti'+'ngs'](_0x220460),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x1d3259=>{_0x220460['hasOwnProp'+'erty'](_0x1d3259)&&(this[_0x1d3259]=_0x220460[_0x1d3259]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x3efe87=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x3efe87[[0xe*-0xd+-0x2*0xd91+0x1bd8,-0x2384+0x12b3*-0x2+0xb*0x6a1,0x1fdf+0x15d3+-0x1b*0x1fd,0xff2*-0x2+-0x23e6+0x43ce,0x1fda+-0xc51+0x9c2*-0x2,0x3e1+-0x2593*-0x1+-0x296e][this['_skyboxMip']]]||this['_envAtlas']||_0x3efe87[-0xb94+0x2467+0x1f*-0xcd]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x3efe87[-0x2470+-0x1d0c+0x417c]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(-0x4c1*-0x5+0x8ad*0x2+-0x291f);}['setSkybox'](_0x1dc50c){_0x1dc50c?(this['skybox']=_0x1dc50c[0x148*-0x10+-0x2261+-0x619*-0x9]||null,_0x1dc50c[0x2665+0xb1a*0x2+0x22a*-0x1c]&&!_0x1dc50c[0x16d0+-0x1*-0x1f49+-0x3618]['cubemap']?this['envAtlas']=_0x1dc50c[-0x1*0x2491+0x1a+0x2478]:this['prefiltere'+'dCubemaps']=_0x1dc50c['slice'](0xa7*0x1+-0x377*-0x9+-0x1fd5)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Se;}}c(ci,'EVENT_SETL'+'AYERS','set:layers'),c(ci,'EVENT_SETS'+'KYBOX','set:skybox'),c(ci,'EVENT_PRER'+'ENDER','prerender'),c(ci,'EVENT_POST'+'RENDER','postrender'),c(ci,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),c(ci,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),c(ci,'EVENT_PREC'+'ULL','precull'),c(ci,'EVENT_POST'+'CULL','postcull');class N0{constructor(_0x3102b5,_0x4bce73,_0x4c5d67){this['device']=_0x3102b5,this['inverseBin'+'dPose']=_0x4bce73,this['boneNames']=_0x4c5d67;}}const b1=[-0x24*0x49+-0x253d*0x1+0x2f81,-0xb*-0xc7+0x85d*-0x1+-0x30*0x1,-0x1332+0x1*0x24+0x130f,0x16ad+-0x1077+0x212*-0x3,-0x8a1+-0x6*0x5ce+0x2b75,0x5de+-0x1e88+0x5*0x4ef,0x2666*0x1+-0x6f+-0x25f7,-0x17ea+0xf7c*0x2+-0x70e,0x761*-0x3+-0x21ef+-0x3*-0x12b1,0x7f*-0x11+-0x149d+-0x34*-0x8f,0x127d*0x1+0x36d+-0x15ea,-0x8df*0x2+-0xc2a*0x1+-0xf7*-0x1f],w1=[0xe81*0x1+0xd1e+-0x1b9f,0x9e7*-0x1+-0xc1*-0x1+0x3*0x30d,-0x1006+0x7*0x402+-0xc05*0x1,-0x38e+-0x219d*-0x1+0x1*-0x1e0d,0x23*0x46+0x69a+-0x24f*0x7,0x283*0x7+-0x9fe+-0x796];class T1 extends ce{constructor(_0x4f502b,_0x4ff3c9){super(),this['_device']=_0x4f502b,this['_pixelsPer'+'Unit']=_0x4ff3c9&&_0x4ff3c9['pixelsPerU'+'nit']!==void(-0x598*-0x2+0x7c*0x20+-0x1ab0)?_0x4ff3c9['pixelsPerU'+'nit']:0x147*-0x5+-0x1aa5+0x2109,this['_renderMod'+'e']=_0x4ff3c9&&_0x4ff3c9['renderMode']!==void(-0x35*-0x3+-0x970+0x25*0x3d)?_0x4ff3c9['renderMode']:Ti,this['_atlas']=_0x4ff3c9&&_0x4ff3c9['atlas']!==void(-0x11f*0x1d+0xa2a*-0x1+0x2aad)?_0x4ff3c9['atlas']:null,this['_frameKeys']=_0x4ff3c9&&_0x4ff3c9['frameKeys']!==void(-0x1ab*0x1+0x3*0x811+-0x1c*0xce)?_0x4ff3c9['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(-0x4*0x75e+0x7c3+0x15b6),this['_meshesDir'+'ty']=!(-0x2*0x7c1+0x2302*0x1+-0x137f),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x1d007e){this['_frameKeys']=_0x1d007e,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x2e1*-0x8+-0xb93*-0x1+-0x229b*0x1):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x1d007e);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x27755d){_0x27755d!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x27755d,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x159e+-0x1429*-0x1+-0x1*-0x175):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x27755d));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x137e44){this['_pixelsPer'+'Unit']!==_0x137e44&&(this['_pixelsPer'+'Unit']=_0x137e44,this['fire']('set:pixels'+'PerUnit',_0x137e44),this['_atlas']&&this['_frameKeys']&&this['renderMode']===Ti&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x1*-0x1acd+-0x1*0x13d5+-0x5e*-0x7f):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x464f85){if(this['_renderMod'+'e']===_0x464f85)return;const _0x83131f=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x464f85,this['fire']('set:render'+'Mode',_0x464f85),(_0x83131f===Ti||_0x464f85===Ti)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1e64+0x269f+-0x2b*0x31):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x31b7a7=this['_meshes']['length'];for(let _0x1715e4=0xad8*0x1+0x1799+-0x2271;_0x1715e4<_0x31b7a7;_0x1715e4++){const _0x57c435=this['_meshes'][_0x1715e4];_0x57c435&&_0x57c435['destroy']();}const _0x3d3025=this['_frameKeys']['length'];this['_meshes']=new Array(_0x3d3025);const _0x3b5a06=this['renderMode']===nt||this['_renderMod'+'e']===Qe?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x4eb0f7=-0xb77+-0x1*-0x1657+-0xae0;_0x4eb0f7<_0x3d3025;_0x4eb0f7++){const _0x2cc068=this['_atlas']['frames'][this['_frameKeys'][_0x4eb0f7]];this['_meshes'][_0x4eb0f7]=_0x2cc068?_0x3b5a06['call'](this,_0x2cc068):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x43b6da){const _0x45de7e=_0x43b6da['rect'],_0x3688be=this['_atlas']['texture']['width'],_0x303d4e=this['_atlas']['texture']['height'],_0x5dda08=_0x45de7e['z']/this['_pixelsPer'+'Unit'],_0x24b5f8=_0x45de7e['w']/this['_pixelsPer'+'Unit'],_0x34ec32=_0x43b6da['pivot']['x'],_0x7bdb3d=_0x43b6da['pivot']['y'],_0x1888ac=[-_0x34ec32*_0x5dda08,-_0x7bdb3d*_0x24b5f8,-0x1*-0x1b55+0x13c8+-0x2f1d,(0xa0d+0xcd7*0x2+-0x23ba-_0x34ec32)*_0x5dda08,-_0x7bdb3d*_0x24b5f8,0xd46+-0x1e9+-0xb5d,(-0x12a3+0xa90+0x1*0x814-_0x34ec32)*_0x5dda08,(0xa0*-0x1c+0x2605+-0x1484-_0x7bdb3d)*_0x24b5f8,0x1513+-0x15ff*-0x1+-0x2b12,-_0x34ec32*_0x5dda08,(-0xfa6+-0x5d2+0x17*0xef-_0x7bdb3d)*_0x24b5f8,0x8*0x194+0x1a36+-0x3*0xcf2],_0x5f8860=_0x45de7e['x']/_0x3688be,_0x1af4a2=-0x4*0x85+-0x1*-0x1f19+-0x1d04-_0x45de7e['y']/_0x303d4e,_0x51e83a=(_0x45de7e['x']+_0x45de7e['z'])/_0x3688be,_0x1b471e=-0x67*-0x11+0x16a7+-0x1*0x1d7d-(_0x45de7e['y']+_0x45de7e['w'])/_0x303d4e,_0xfba6c6=[_0x5f8860,_0x1af4a2,_0x51e83a,_0x1af4a2,_0x51e83a,_0x1b471e,_0x5f8860,_0x1b471e],_0x2f56bf=new pn();return _0x2f56bf['positions']=_0x1888ac,_0x2f56bf['normals']=b1,_0x2f56bf['uvs']=_0xfba6c6,_0x2f56bf['indices']=w1,Ie['fromGeomet'+'ry'](this['_device'],_0x2f56bf);}['_create9Sl'+'iceMesh'](){const _0x3612ad=W['ONE'],_0xadfaf7=-0x17*-0x8+0xca+-0x17f*0x1,_0x2d5909=0x2*0x4a2+0x1*0x1e79+-0x27ba,_0x2c9a9b=[],_0x2b4387=[],_0x58f89a=[],_0x1be2b3=[];let _0x266d97=0x1383+-0x1344+-0x3f;for(let _0x55e715=0x2503*-0x1+0xa*0x85+0x1fd1;_0x55e715<=_0xadfaf7;_0x55e715++){const _0x13d04a=_0x55e715===-0x2174+-0x35*-0x97+-0x21*-0x11||_0x55e715===_0xadfaf7?-0x535*0x1+-0x2026+0x255b:-0x1679+-0x168b*0x1+0x5*0x901;for(let _0x1dfc0d=0x144f+-0xfd*0xf+-0x57c;_0x1dfc0d<=_0x2d5909;_0x1dfc0d++){const _0x56d6b4=-_0x3612ad['x']+(0x1b88*-0x1+-0x24f*0x2+0x2028)*_0x3612ad['x']*(_0x55e715<=-0x1ce*0x5+-0x1083+-0x198a*-0x1?0xdb7*-0x1+0x1*0x3b6+-0xa01*-0x1:0xf*-0x1af+-0x1223+-0x2b67*-0x1)/_0xadfaf7,_0x19d010=-0x135d*0x1+0xfb6+0x3a7,_0x46f21e=-(-_0x3612ad['y']+(-0x1*0x2381+0x315*-0x3+0x151*0x22)*_0x3612ad['y']*(_0x1dfc0d<=0x2157*0x1+0x9db+0x1*-0x2b31?0x16*-0xb1+-0x26d6+0x360c:-0x16bc+-0x1a03+-0x1*-0x30c2)/_0x2d5909),_0x4d8795=_0x1dfc0d===0x21c0+-0x11*0x92+-0x180e*0x1||_0x1dfc0d===_0x2d5909?-0x1048+0x9bb+0x68d:0x11*0x1f2+0x31*-0x35+-0xa3*0x24;_0x2c9a9b['push'](-_0x56d6b4,_0x19d010,_0x46f21e),_0x2b4387['push'](-0x1cbc*-0x1+-0x224f*0x1+-0x1*-0x593,0x10*0xcf+-0x6d5+-0x61a,-0x11f2+0x5b5*0x1+0xc3d),_0x58f89a['push'](_0x13d04a,_0x4d8795),_0x55e715<_0xadfaf7&&_0x1dfc0d<_0x2d5909&&(_0x1be2b3['push'](_0x266d97+_0x2d5909+(-0xddd+-0x2*-0xcef+-0xc00),_0x266d97+(0x10ad+0x59*0x3d+0x1*-0x25e1),_0x266d97),_0x1be2b3['push'](_0x266d97+_0x2d5909+(-0x3ce*-0x5+-0xe5c+-0x4a9*0x1),_0x266d97+_0x2d5909+(0x59*0x2e+0x1497+-0x2493*0x1),_0x266d97+(-0xca9*0x1+0xb*-0x3+0x5*0x28f))),_0x266d97++;}}const _0x4ec541=new pn();return _0x4ec541['positions']=_0x2c9a9b,_0x4ec541['normals']=_0x2b4387,_0x4ec541['uvs']=_0x58f89a,_0x4ec541['indices']=_0x1be2b3,Ie['fromGeomet'+'ry'](this['_device'],_0x4ec541);}['_onSetFram'+'es'](_0x31ab37){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x2586+-0x255b+0x4ae1):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x49d8ee,_0x3d77b8){const _0x3bcada=this['_frameKeys']['indexOf'](_0x49d8ee);_0x3bcada<0x1ad0+0x2f5+-0x1*0x1dc5||(_0x3d77b8?this['renderMode']===Ti&&(this['_meshes'][_0x3bcada]=this['_createSim'+'pleMesh'](_0x3d77b8)):this['_meshes'][_0x3bcada]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x1c4417){const _0x56acc0=this['_frameKeys']['indexOf'](_0x1c4417);_0x56acc0<0xc5*-0x29+-0x3*-0xc6f+0x20*-0x2e||(this['_meshes'][_0x56acc0]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(-0x29b*-0x3+-0xffd+0x1*0x82c),this['_meshesDir'+'ty']=!(0x17d*-0x15+-0xf26+0x2e68);}['endUpdate'](){this['_updatingP'+'roperties']=!(0x144a+-0xdea+-0x65f),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(0x19eb*-0x1+0x1c1f+-0x233);}['destroy'](){for(const _0x26e333 of this['_meshes'])_0x26e333&&_0x26e333['destroy']();this['_meshes']['length']=0xc1d*-0x1+-0x251a+0x3137;}}class A1 extends ce{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x37fa49){this['_texture']=_0x37fa49,this['fire']('set:textur'+'e',_0x37fa49);}get['texture'](){return this['_texture'];}set['frames'](_0x5c7aab){this['_frames']=_0x5c7aab,this['fire']('set:frames',_0x5c7aab);}get['frames'](){return this['_frames'];}['setFrame'](_0x4aa279,_0x3a4ae3){let _0x4931aa=this['_frames'][_0x4aa279];_0x4931aa?(_0x4931aa['rect']['copy'](_0x3a4ae3['rect']),_0x4931aa['pivot']['copy'](_0x3a4ae3['pivot']),_0x4931aa['border']['copy'](_0x3a4ae3['border'])):(_0x4931aa={'rect':_0x3a4ae3['rect']['clone'](),'pivot':_0x3a4ae3['pivot']['clone'](),'border':_0x3a4ae3['border']['clone']()},this['_frames'][_0x4aa279]=_0x4931aa),this['fire']('set:frame',_0x4aa279['toString'](),_0x4931aa);}['removeFram'+'e'](_0xc286d9){const _0x39ca75=this['_frames'][_0xc286d9];_0x39ca75&&(delete this['_frames'][_0xc286d9],this['fire']('remove:fra'+'me',_0xc286d9['toString'](),_0x39ca75));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class F_{constructor(_0x1aea65,_0x58391b,_0x325c05,_0x5b75cd){this['time']=_0x1aea65,this['position']=_0x58391b,this['rotation']=_0x325c05,this['scale']=_0x5b75cd;}}class O_{constructor(){this['_name']='',this['_keys']=[];}}class k_{constructor(){c(this,'name',''),c(this,'duration',-0x516+0x18e9+-0x13d3),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x45267d){return this['_nodeDict'][_0x45267d];}['addNode'](_0x302f34){this['_nodes']['push'](_0x302f34),this['_nodeDict'][_0x302f34['_name']]=_0x302f34;}get['nodes'](){return this['_nodes'];}}class E1{constructor(){this['_written']=!(0xeaa+0x3b*0x4c+-0x202d),this['_name']='',this['_keyFrames']=[],this['_quat']=new se(),this['_pos']=new T(),this['_scale']=new T(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x3f6897){this['_targetNod'+'e']=_0x3f6897;}}class Wd{constructor(_0x11563d){c(this,'looping',!(0xbb+-0x2697+0x25dc)),(this['_animation']=null,this['_time']=0x2000+0x1b4c+-0x3b4c,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x307073=_0x2c6c8e=>{const _0x37075e=new E1();_0x37075e['_name']=_0x2c6c8e['name'],this['_interpola'+'tedKeys']['push'](_0x37075e),this['_interpola'+'tedKeyDict'][_0x2c6c8e['name']]=_0x37075e,this['_currKeyIn'+'dices'][_0x2c6c8e['name']]=0x1*0x156b+-0xb79+-0x9f2;for(let _0x30b3ab=-0x1bfa+-0x1*-0xe6d+0xd8d;_0x30b3ab<_0x2c6c8e['_children']['length'];_0x30b3ab++)_0x307073(_0x2c6c8e['_children'][_0x30b3ab]);};_0x307073(_0x11563d);}set['animation'](_0x1d17f4){this['_animation']=_0x1d17f4,this['currentTim'+'e']=0x46c*0x1+-0x2*-0xe5+-0x1*0x636;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x4b696f){this['_time']=_0x4b696f;const _0x21141d=this['_interpola'+'tedKeys']['length'];for(let _0x583511=0x4eb*-0x3+0x11*-0x18a+0x28eb;_0x583511<_0x21141d;_0x583511++){const _0x2a892b=this['_interpola'+'tedKeys'][_0x583511]['_name'];this['_currKeyIn'+'dices'][_0x2a892b]=0x1a95+0x45a*-0x3+-0xd87;}this['addTime'](0x27f*0x9+-0xfa1*0x2+-0x8cb*-0x1),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x447615){if(this['_animation']!==null){const _0x552bac=this['_animation']['_nodes'],_0x433c87=this['_animation']['duration'];if(this['_time']===_0x433c87&&!this['looping'])return;if(this['_time']+=_0x447615,this['_time']>_0x433c87){this['_time']=this['looping']?0x161*-0x15+-0xfb3*-0x1+0xd42:_0x433c87;for(let _0x9313b=0x1626+-0x1b95+-0x6b*-0xd;_0x9313b<_0x552bac['length'];_0x9313b++){const _0x1f5593=_0x552bac[_0x9313b]['_name'];this['_currKeyIn'+'dices'][_0x1f5593]=0x3*0x751+0xc73*0x1+-0x2266;}}else{if(this['_time']<0x20eb+-0xc4b+-0x14a0){this['_time']=this['looping']?_0x433c87:-0x2218+0x1443*0x1+0xdd5;for(let _0xab22b8=0x17*-0x135+-0x1a6d+0x3630;_0xab22b8<_0x552bac['length'];_0xab22b8++){const _0x7aa800=_0x552bac[_0xab22b8],_0x497b0b=_0x7aa800['_name'];this['_currKeyIn'+'dices'][_0x497b0b]=_0x7aa800['_keys']['length']-(0xf*0x15b+-0x1af+-0x12a4);}}}const _0x522c9d=_0x447615>=0x1f4d*0x1+0x16b5*0x1+-0x3602?-0x1*-0x1d67+-0x1*-0x1615+-0x337b:-(-0x479+-0x19ca*0x1+0x1e44);for(let _0x28f795=-0x233e+-0x2509+0x4847;_0x28f795<_0x552bac['length'];_0x28f795++){const _0x2bf6d6=_0x552bac[_0x28f795],_0x1b16e7=_0x2bf6d6['_name'],_0x33fcd1=_0x2bf6d6['_keys'],_0x52d47e=this['_interpola'+'tedKeyDict'][_0x1b16e7];if(_0x52d47e===void(-0x468+0xdd3+-0x96b)){v['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x1b16e7);continue;}let _0x387861=!(-0x73*-0x56+-0x22ee*0x1+-0x3b3);if(_0x33fcd1['length']!==-0x1b5c+0x122b+0x6b*0x16)for(let _0x411701=this['_currKeyIn'+'dices'][_0x1b16e7];_0x411701<_0x33fcd1['length']-(-0x846+0x9cf+-0x188*0x1)&&_0x411701>=-0x117*0x3+0x95c*-0x2+0x1b1*0xd;_0x411701+=_0x522c9d){const _0xeb4ec1=_0x33fcd1[_0x411701],_0x265124=_0x33fcd1[_0x411701+(-0x16+-0x3f0+0x407)];if(_0xeb4ec1['time']<=this['_time']&&_0x265124['time']>=this['_time']){const _0x4efe4d=(this['_time']-_0xeb4ec1['time'])/(_0x265124['time']-_0xeb4ec1['time']);_0x52d47e['_pos']['lerp'](_0xeb4ec1['position'],_0x265124['position'],_0x4efe4d),_0x52d47e['_quat']['slerp'](_0xeb4ec1['rotation'],_0x265124['rotation'],_0x4efe4d),_0x52d47e['_scale']['lerp'](_0xeb4ec1['scale'],_0x265124['scale'],_0x4efe4d),_0x52d47e['_written']=!(-0x1*0xdde+-0xf*-0x1+0x5*0x2c3),this['_currKeyIn'+'dices'][_0x1b16e7]=_0x411701,_0x387861=!(-0x4*-0x14+0xb*-0x1cd+0x137f);break;}}(_0x33fcd1['length']===-0x21*0xe3+-0x1079+0x2dbd||!_0x387861&&this['_time']===-0x2a*-0x83+-0xb9d+-0x9e1&&this['looping'])&&(_0x52d47e['_pos']['copy'](_0x33fcd1[0x1cd5+-0xcfc+-0x1*0xfd9]['position']),_0x52d47e['_quat']['copy'](_0x33fcd1[0x198+0xfb4+0x453*-0x4]['rotation']),_0x52d47e['_scale']['copy'](_0x33fcd1[-0x2*-0xeb7+-0x377*-0x9+-0x1*0x3c9d]['scale']),_0x52d47e['_written']=!(0x7*0xc5+-0x1*-0x1c9+-0x9*0xcc));}}}['blend'](_0x391e86,_0x428bf9,_0x3156a9){const _0x22f6a4=this['_interpola'+'tedKeys']['length'];for(let _0x2e6b28=-0x1fa0+0x146c*-0x1+-0x1*-0x340c;_0x2e6b28<_0x22f6a4;_0x2e6b28++){const _0x5de787=_0x391e86['_interpola'+'tedKeys'][_0x2e6b28],_0x5313cf=_0x428bf9['_interpola'+'tedKeys'][_0x2e6b28],_0x4f9454=this['_interpola'+'tedKeys'][_0x2e6b28];_0x5de787['_written']&&_0x5313cf['_written']?(_0x4f9454['_quat']['slerp'](_0x5de787['_quat'],_0x428bf9['_interpola'+'tedKeys'][_0x2e6b28]['_quat'],_0x3156a9),_0x4f9454['_pos']['lerp'](_0x5de787['_pos'],_0x428bf9['_interpola'+'tedKeys'][_0x2e6b28]['_pos'],_0x3156a9),_0x4f9454['_scale']['lerp'](_0x5de787['_scale'],_0x5313cf['_scale'],_0x3156a9),_0x4f9454['_written']=!(-0x6df+0x14c7+0x59*-0x28)):_0x5de787['_written']?(_0x4f9454['_quat']['copy'](_0x5de787['_quat']),_0x4f9454['_pos']['copy'](_0x5de787['_pos']),_0x4f9454['_scale']['copy'](_0x5de787['_scale']),_0x4f9454['_written']=!(-0x201f+0x139d*-0x1+0x33bc)):_0x5313cf['_written']&&(_0x4f9454['_quat']['copy'](_0x5313cf['_quat']),_0x4f9454['_pos']['copy'](_0x5313cf['_pos']),_0x4f9454['_scale']['copy'](_0x5313cf['_scale']),_0x4f9454['_written']=!(0xc00+0x54a*-0x1+-0x6b6));}}['setGraph'](_0x3fe25d){if(this['graph']=_0x3fe25d,_0x3fe25d)for(let _0x43f310=0x18c8+0xe*0xe+-0x1e*0xda;_0x43f310<this['_interpola'+'tedKeys']['length'];_0x43f310++){const _0x25b544=this['_interpola'+'tedKeys'][_0x43f310],_0x275f73=_0x3fe25d['findByName'](_0x25b544['_name']);this['_interpola'+'tedKeys'][_0x43f310]['setTarget'](_0x275f73);}else{for(let _0x172a7a=-0x6b*0x3b+-0x41+0x18ea;_0x172a7a<this['_interpola'+'tedKeys']['length'];_0x172a7a++)this['_interpola'+'tedKeys'][_0x172a7a]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x158170=-0x31a*-0x3+0x15e0+-0x1f2e;_0x158170<this['_interpola'+'tedKeys']['length'];_0x158170++){const _0xebd99e=this['_interpola'+'tedKeys'][_0x158170];if(_0xebd99e['_written']){const _0x53addd=_0xebd99e['getTarget']();_0x53addd['localPosit'+'ion']['copy'](_0xebd99e['_pos']),_0x53addd['localRotat'+'ion']['copy'](_0xebd99e['_quat']),_0x53addd['localScale']['copy'](_0xebd99e['_scale']),_0x53addd['_dirtyLoca'+'l']||_0x53addd['_dirtifyLo'+'cal'](),_0xebd99e['_written']=!(0x201a+0x8*0xe9+0x1*-0x2761);}}}}const ys=(0x1*-0x266e+0x319+0x2359*0x1)/(0x1*-0xd2b+0x84+0xce7),Bs=0x1091*-0x1+0xcb8+0x3da-ys*(0x25ac+0x1*0x7ab+-0x2d55);class Bp extends pn{constructor(_0x26afc0,_0x5dc2c9,_0x381496,_0x3e1d8b,_0x31a86a,_0xaad2dd){super();const _0x1b8550=new T(),_0x85ce8b=new T(),_0x5ecd77=new T(),_0x28d48d=new T(),_0x1f4cb4=new T(),_0x2c2c88=new T(),_0x46dc28=[],_0x8ec9c9=[],_0x1dd845=[],_0xd36b03=[],_0x50a77c=[];let _0x1a6ea4;if(_0x381496>-0x15f2+-0xce3+0x22d5*0x1){for(let _0x3c78b7=-0x1ca4+-0x71*-0x47+-0x2b3;_0x3c78b7<=_0x3e1d8b;_0x3c78b7++)for(let _0x20d964=-0x41*-0x29+0x1bef+-0x2658*0x1;_0x20d964<=_0x31a86a;_0x20d964++){const _0x2c17d5=_0x20d964/_0x31a86a*(0x4*0x6e9+0x1bd3*-0x1+0x31)*Math['PI']-Math['PI'],_0x3eae03=Math['sin'](_0x2c17d5),_0x945ba=Math['cos'](_0x2c17d5);_0x1f4cb4['set'](_0x3eae03*_0x26afc0,-_0x381496/(-0x53*-0x53+-0x1*-0x1737+-0x321e),_0x945ba*_0x26afc0),_0x28d48d['set'](_0x3eae03*_0x5dc2c9,_0x381496/(0x1ce3+-0x1*0xaf7+-0x11ea),_0x945ba*_0x5dc2c9),_0x1b8550['lerp'](_0x1f4cb4,_0x28d48d,_0x3c78b7/_0x3e1d8b),_0x85ce8b['sub2'](_0x28d48d,_0x1f4cb4)['normalize'](),_0x2c2c88['set'](_0x945ba,-0x12*-0x9b+0x17*-0x5+-0x6b*0x19,-_0x3eae03),_0x5ecd77['cross'](_0x2c2c88,_0x85ce8b)['normalize'](),_0x46dc28['push'](_0x1b8550['x'],_0x1b8550['y'],_0x1b8550['z']),_0x8ec9c9['push'](_0x5ecd77['x'],_0x5ecd77['y'],_0x5ecd77['z']);let _0x2f4588=_0x20d964/_0x31a86a,_0xdb5c8b=_0x3c78b7/_0x3e1d8b;_0x1dd845['push'](_0x2f4588,-0x13d2+0x1ff6*-0x1+-0x3*-0x1143-_0xdb5c8b);const _0x1eaaf4=_0xdb5c8b;if(_0xdb5c8b=_0x2f4588,_0x2f4588=_0x1eaaf4,_0x2f4588=_0x2f4588*Bs+ys,_0xdb5c8b=_0xdb5c8b*Bs+ys,_0x2f4588/=-0x80d+0x23c9+-0x1bb9,_0xd36b03['push'](_0x2f4588,-0xee7*-0x2+-0x2cf*-0x1+-0x4*0x827-_0xdb5c8b),_0x3c78b7<_0x3e1d8b&&_0x20d964<_0x31a86a){const _0x280b0f=_0x3c78b7*(_0x31a86a+(0x3d*-0x53+0x21a+0x49*0x3e))+_0x20d964,_0x51439d=_0x3c78b7*(_0x31a86a+(0xf35+-0x1+-0xf33))+(_0x20d964+(0x26ab+-0x1*-0x1465+0x1*-0x3b0f)),_0x26ade2=(_0x3c78b7+(0xe96+-0x1*-0xa5e+-0x3*0x851))*(_0x31a86a+(0x94*-0x1+-0x5da+0x66f))+_0x20d964,_0x269fed=(_0x3c78b7+(0x51b*0x2+-0x1*0x21bf+-0x17*-0x106))*(_0x31a86a+(0x1127+-0x2427+0x1301))+(_0x20d964+(-0x20*-0x7c+-0x8af*0x2+0x1df));_0x50a77c['push'](_0x280b0f,_0x51439d,_0x26ade2),_0x50a77c['push'](_0x51439d,_0x269fed,_0x26ade2);}}}if(_0xaad2dd){const _0x1901e8=Math['floor'](_0x31a86a/(-0x5*-0x175+-0x1ccf+0x1588)),_0x35b47c=_0x31a86a,_0x111e56=_0x381496/(0x4*0x915+0x1*0xb17+0x35*-0xe5);for(let _0x57430b=0x2371+-0x1140+-0x1*0x1231;_0x57430b<=_0x1901e8;_0x57430b++){const _0x310aad=_0x57430b*Math['PI']*(0x16b5+-0x181a+-0x165*-0x1+0.5)/_0x1901e8,_0x474e2f=Math['sin'](_0x310aad),_0x41ad3e=Math['cos'](_0x310aad);for(let _0xfa33f8=-0x8e*0x20+-0xab7*-0x2+0x2*-0x1d7;_0xfa33f8<=_0x35b47c;_0xfa33f8++){const _0x149d83=_0xfa33f8*(-0x56d*0x1+0x3*0x57f+-0xb0e*0x1)*Math['PI']/_0x35b47c-Math['PI']/(-0x1*0x1765+0xc1b*0x1+0xb4c),_0xce0225=Math['sin'](_0x149d83),_0x1f03af=Math['cos'](_0x149d83)*_0x474e2f,_0x1f5c0b=_0x41ad3e,_0x5f42fb=_0xce0225*_0x474e2f;let _0x152eda=-0x122+0x1f31*0x1+-0x2*0xf07-_0xfa33f8/_0x35b47c,_0x5cff6c=0x3*-0xa0f+-0x2523+0x4351-_0x57430b/_0x1901e8;_0x46dc28['push'](_0x1f03af*_0x5dc2c9,_0x1f5c0b*_0x5dc2c9+_0x111e56,_0x5f42fb*_0x5dc2c9),_0x8ec9c9['push'](_0x1f03af,_0x1f5c0b,_0x5f42fb),_0x1dd845['push'](_0x152eda,-0xb1f+-0x2*0x11b6+0x12*0x296-_0x5cff6c),_0x152eda=_0x152eda*Bs+ys,_0x5cff6c=_0x5cff6c*Bs+ys,_0x152eda/=0x16e6+-0xfb*-0x16+-0x2c75,_0x5cff6c/=-0x198f*-0x1+0x12bd+-0x2c49,_0x152eda+=(-0x16a7+0x33*0x38+0x4*0x2e0)/(0x17bf*-0x1+0x1f66*-0x1+-0xdca*-0x4),_0xd36b03['push'](_0x152eda,-0x137*-0x13+0x515*0x5+-0x1*0x307d-_0x5cff6c);}}_0x1a6ea4=(_0x3e1d8b+(-0x4d0+-0x2c5+0x2*0x3cb))*(_0x31a86a+(0x1*0x21a1+0x83*0x38+-0x3e48));for(let _0x3b3436=-0xf96+0x299*-0x1+0x122f;_0x3b3436<_0x1901e8;++_0x3b3436)for(let _0x5ae282=-0xed*0x1+0x1*-0x1675+0x1762;_0x5ae282<_0x35b47c;++_0x5ae282){const _0x243c30=_0x3b3436*(_0x35b47c+(0xcdc*-0x2+-0x80d+0x21c6))+_0x5ae282,_0x44c726=_0x243c30+_0x35b47c+(0x165b+0x14c*0x8+-0x20ba);_0x50a77c['push'](_0x1a6ea4+_0x243c30+(0xb03+-0x14da+0x1c*0x5a),_0x1a6ea4+_0x44c726,_0x1a6ea4+_0x243c30),_0x50a77c['push'](_0x1a6ea4+_0x243c30+(0x10cb+0x26*0xed+-0x33f8),_0x1a6ea4+_0x44c726+(-0x22fb*0x1+0xdca+0x1*0x1532),_0x1a6ea4+_0x44c726);}for(let _0x3d1ff5=-0x1a5e+0xa31*0x1+0x102d;_0x3d1ff5<=_0x1901e8;_0x3d1ff5++){const _0x183a7f=Math['PI']*(0x40d*-0x1+0x1*-0x4a5+-0x3*-0x2e6+0.5)+_0x3d1ff5*Math['PI']*(-0x1*0x1c24+-0x244f+0x4073+0.5)/_0x1901e8,_0x357d07=Math['sin'](_0x183a7f),_0x1d08ef=Math['cos'](_0x183a7f);for(let _0x3decfe=-0xd69+0x4a2+0x1*0x8c7;_0x3decfe<=_0x35b47c;_0x3decfe++){const _0x55e2a3=_0x3decfe*(0x2b+-0x2*-0x893+-0x3*0x5c5)*Math['PI']/_0x35b47c-Math['PI']/(-0x980+0x7*0x43d+0x1429*-0x1),_0x1d3470=Math['sin'](_0x55e2a3),_0x260f73=Math['cos'](_0x55e2a3)*_0x357d07,_0x4b9803=_0x1d08ef,_0x378abc=_0x1d3470*_0x357d07;let _0x3baaef=-0x1c41+-0x1*-0x25eb+-0x9a9-_0x3decfe/_0x35b47c,_0xd40792=0x23a8+-0x6*0x413+-0xb35-_0x3d1ff5/_0x1901e8;_0x46dc28['push'](_0x260f73*_0x5dc2c9,_0x4b9803*_0x5dc2c9-_0x111e56,_0x378abc*_0x5dc2c9),_0x8ec9c9['push'](_0x260f73,_0x4b9803,_0x378abc),_0x1dd845['push'](_0x3baaef,0xa+0x1*0x19e5+-0x19ee-_0xd40792),_0x3baaef=_0x3baaef*Bs+ys,_0xd40792=_0xd40792*Bs+ys,_0x3baaef/=-0x53*-0x1d+-0x1*0x1b4a+-0x4f*-0x3a,_0xd40792/=0x706+-0x2cc+-0x437,_0x3baaef+=(-0x1bd*-0x13+-0x1ec0+-0x245)/(0xc90+0x2*-0x2af+-0x72f),_0xd36b03['push'](_0x3baaef,-0x1bf7*-0x1+0x8e*0x1+-0x1c84-_0xd40792);}}_0x1a6ea4=(_0x3e1d8b+(0x1768+-0x79c*-0x5+-0x3d73))*(_0x31a86a+(-0x3a*0x95+-0xa*-0x167+0x13bd*0x1))+(_0x35b47c+(-0x25e1+0x94c+-0x1c96*-0x1))*(_0x1901e8+(-0x37e+0x1*0x14b7+-0x1138));for(let _0x22d33b=-0x135*-0x1d+-0x3*-0x1a7+0x6*-0x6a9;_0x22d33b<_0x1901e8;++_0x22d33b)for(let _0x103b14=0x25b9+0x1e1e+0x169d*-0x3;_0x103b14<_0x35b47c;++_0x103b14){const _0x1ffc5c=_0x22d33b*(_0x35b47c+(-0x56d*0x1+-0x10ba+0x1628))+_0x103b14,_0x3545c8=_0x1ffc5c+_0x35b47c+(0x147b+-0x9d5+-0xaa5);_0x50a77c['push'](_0x1a6ea4+_0x1ffc5c+(0xb2f*0x1+-0x13e7+0x8b9),_0x1a6ea4+_0x3545c8,_0x1a6ea4+_0x1ffc5c),_0x50a77c['push'](_0x1a6ea4+_0x1ffc5c+(0x1b5c+0x1793+-0x32ee),_0x1a6ea4+_0x3545c8+(0x1*-0x154a+-0xa58*0x2+0x29fb),_0x1a6ea4+_0x3545c8);}}else{if(_0x1a6ea4=(_0x3e1d8b+(0x7*-0x3bc+0x6c9*0x2+-0x25*-0x57))*(_0x31a86a+(0x76+-0x2489+0x2414)),_0x26afc0>-0x20a1+0x24aa+-0x409)for(let _0x1f5ee8=0x759+-0x6a*0x38+-0xfd7*-0x1;_0x1f5ee8<_0x31a86a;_0x1f5ee8++){const _0x642719=_0x1f5ee8/_0x31a86a*(-0x4*0x358+0x636*0x1+0x72c)*Math['PI'],_0xc4821b=Math['sin'](_0x642719),_0x125d87=-_0x381496/(-0x2*0xbe6+0x74b+0x1*0x1083),_0x590c35=Math['cos'](_0x642719);let _0x50af67=0x44*0x6e+0x1028+0x913*-0x5-(_0xc4821b+(-0x1255*-0x1+0x236f+-0x1*0x35c3))/(0x574+0x2647+-0x29*0x111),_0x5b65ea=(_0x590c35+(-0x55*0x1+0x13ac+-0x1356))/(0x1*-0x1c9+-0x345+0x51*0x10);_0x46dc28['push'](_0xc4821b*_0x26afc0,_0x125d87,_0x590c35*_0x26afc0),_0x8ec9c9['push'](0x1295+-0x349*-0x5+-0x2302,-(0x4e*0x60+-0x1ad1+-0x2*0x137),-0x1ac3+-0x89c+0x235f),_0x1dd845['push'](_0x50af67,0x1*-0xb3d+-0x3*0xb79+-0x1*-0x2da9-_0x5b65ea),_0x50af67=_0x50af67*Bs+ys,_0x5b65ea=_0x5b65ea*Bs+ys,_0x50af67/=-0x15*0x1b9+0x1*0x1ead+-0x583*-0x1,_0x5b65ea/=-0x1*-0x128+0xe45+-0xf6a,_0x50af67+=(0x241b+-0x8a1*-0x1+0x2cbb*-0x1)/(0x10*-0x1a6+-0xcf8*0x1+0x275b),_0xd36b03['push'](_0x50af67,-0x14e9+-0x6b*0x2+0x15c*0x10-_0x5b65ea),_0x1f5ee8>0x24c7+0x968*0x3+-0x5e*0xb1&&_0x50a77c['push'](_0x1a6ea4,_0x1a6ea4+_0x1f5ee8,_0x1a6ea4+_0x1f5ee8-(-0x283+-0xf9a*0x1+-0x60a*-0x3));}if(_0x1a6ea4+=_0x31a86a,_0x5dc2c9>-0x7*-0x19b+0x26a6*-0x1+0x1b69)for(let _0x1f54d2=-0xbec+0x52b+-0xd*-0x85;_0x1f54d2<_0x31a86a;_0x1f54d2++){const _0x4219c8=_0x1f54d2/_0x31a86a*(0x14a*-0x7+0xb0c+0x2b*-0xc)*Math['PI'],_0x46ee02=Math['sin'](_0x4219c8),_0x346640=_0x381496/(-0x85d+0x95*0x26+-0xdbf),_0xf02afe=Math['cos'](_0x4219c8);let _0x3f7a37=-0x333+0x439+-0x105-(_0x46ee02+(-0x549+-0x1*-0xa58+0x50e*-0x1))/(-0x124*0x11+0x1b0f*-0x1+0x2e75),_0x154d0c=(_0xf02afe+(-0x1a10+0x391+0x1680))/(0x9*0x203+-0x20db+0xec2);_0x46dc28['push'](_0x46ee02*_0x5dc2c9,_0x346640,_0xf02afe*_0x5dc2c9),_0x8ec9c9['push'](0x1c*0x1d+-0x11c+-0x210,-0x89*-0x15+-0x1*0xb3e+0x2,0x2638+0x1ef+-0x2827),_0x1dd845['push'](_0x3f7a37,-0x9f+-0x1*-0x7bb+-0x71b-_0x154d0c),_0x3f7a37=_0x3f7a37*Bs+ys,_0x154d0c=_0x154d0c*Bs+ys,_0x3f7a37/=0x1*0x1523+0xc01+-0x2121,_0x154d0c/=-0x1*-0x23bb+-0x1*-0x536+0xd*-0x326,_0x3f7a37+=(0x2077+-0x37*-0xac+-0x4569)/(0xdc8+0x5d4*-0x2+0x1*-0x21d),_0xd36b03['push'](_0x3f7a37,0x1b59+-0x1680+-0x4d8-_0x154d0c),_0x1f54d2>0x19d0+0x2*-0x824+-0x987&&_0x50a77c['push'](_0x1a6ea4,_0x1a6ea4+_0x1f54d2-(0x1be5+-0x9dd+0x39b*-0x5),_0x1a6ea4+_0x1f54d2);}}this['positions']=_0x46dc28,this['normals']=_0x8ec9c9,this['uvs']=_0x1dd845,this['uvs1']=_0xd36b03,this['indices']=_0x50a77c;}}class C1 extends Bp{constructor(_0x2155b0={}){const _0xa41a90=_0x2155b0['radius']??-0x232+0x44*-0x88+0x221*0x12+0.3,_0x59f5c8=_0x2155b0['height']??-0x40*-0xd+0x35b*0x3+-0x354*0x4,_0xe7c8f9=_0x2155b0['heightSegm'+'ents']??0x1bff+0x5bd*0x2+-0x2778,_0x2cf142=_0x2155b0['sides']??-0x1*-0x1a0f+-0x4c2+0x3*-0x713;super(_0xa41a90,_0xa41a90,_0x59f5c8-(-0x991+-0x544+0xed7)*_0xa41a90,_0xe7c8f9,_0x2cf142,!(0x243a+0x4*-0x511+0xe3*-0x12)),_0x2155b0['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class M1 extends Bp{constructor(_0x5b133d={}){const _0x44c52a=_0x5b133d['baseRadius']??0xea2+-0x1d3e+-0xb*-0x154+0.5,_0x2d1b97=_0x5b133d['peakRadius']??-0x225*0x1+-0xa7*-0x11+-0x8f2,_0xed14e1=_0x5b133d['height']??0x18c5*-0x1+0x1ace+-0x208,_0x5704b2=_0x5b133d['heightSegm'+'ents']??-0x5*0x83+0x262c+-0x2398,_0x5d8838=_0x5b133d['capSegment'+'s']??-0x2339+-0x4e5*0x4+0x36df;super(_0x44c52a,_0x2d1b97,_0xed14e1,_0x5704b2,_0x5d8838,!(-0x192b*-0x1+-0x1e0f*0x1+0x4e5)),_0x5b133d['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class P1 extends Bp{constructor(_0xb06888={}){const _0x11b122=_0xb06888['radius']??-0xc43+-0x55f+-0x25*-0x7a+0.5,_0xccafd5=_0xb06888['height']??-0x156f+0x1426+-0x3*-0x6e,_0x2322e7=_0xb06888['heightSegm'+'ents']??0x2164+-0x17*-0x6+0x1*-0x21e9,_0x1a2a76=_0xb06888['capSegment'+'s']??-0x7*0x3+-0x162*-0x17+-0x1fa5;super(_0x11b122,_0x11b122,_0xccafd5,_0x2322e7,_0x1a2a76,!(-0xdd*-0x1d+0x1a98+0x38*-0xec)),_0xb06888['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class R1 extends pn{constructor(_0x3fd2aa={}){super();const _0x3d89b3=_0x3fd2aa['halfExtent'+'s']??new W(-0xec6+-0x9f9+0x18bf+0.5,0xb3*0x37+0x213f+-0x47b4+0.5),_0x3c5e77=_0x3fd2aa['widthSegme'+'nts']??0x7*-0x1cd+0x591*0x1+0xd*0x8b,_0x58bd08=_0x3fd2aa['lengthSegm'+'ents']??0x219+0x25f*0x1+-0x473,_0x3a4e8d=[],_0x4d6163=[],_0x34bd4b=[],_0x4a97f0=[];let _0x5f0540=-0x22b4+0xd5b+-0x1559*-0x1;for(let _0x1a00e7=-0x1c89+-0x3*-0x269+0x154e;_0x1a00e7<=_0x3c5e77;_0x1a00e7++)for(let _0x391856=0x6*-0x634+-0x131a+0x3852;_0x391856<=_0x58bd08;_0x391856++){const _0x3de369=-_0x3d89b3['x']+(0xed+0x645+-0x730)*_0x3d89b3['x']*_0x1a00e7/_0x3c5e77,_0x35c1ea=-0x232b*-0x1+0xba*-0x1+-0x3*0xb7b,_0x5d5c62=-(-_0x3d89b3['y']+(-0x1161+-0x6a8+0x5*0x4cf)*_0x3d89b3['y']*_0x391856/_0x58bd08),_0x387c76=_0x1a00e7/_0x3c5e77,_0x319cca=_0x391856/_0x58bd08;_0x3a4e8d['push'](_0x3de369,_0x35c1ea,_0x5d5c62),_0x4d6163['push'](-0x5*-0x7c7+0x2*-0x104e+-0x647,0xc93+-0x3a*0x8e+0x1*0x139a,-0x170f+-0xc25*0x3+0x3b7e),_0x34bd4b['push'](_0x387c76,-0x9de+0xf7f*-0x2+0xd9f*0x3-_0x319cca),_0x1a00e7<_0x3c5e77&&_0x391856<_0x58bd08&&(_0x4a97f0['push'](_0x5f0540+_0x58bd08+(-0x1*-0x10b+-0x1*-0x7a5+-0x8af),_0x5f0540+(0x1e49+-0x265c+0x814),_0x5f0540),_0x4a97f0['push'](_0x5f0540+_0x58bd08+(0x2*-0x39b+-0x1*-0xe3d+0x1*-0x706),_0x5f0540+_0x58bd08+(0x18b8+0x905+-0x21bb),_0x5f0540+(-0x21c1+0x864+0x195e))),_0x5f0540++;}this['positions']=_0x3a4e8d,this['normals']=_0x4d6163,this['uvs']=_0x34bd4b,this['uvs1']=_0x34bd4b,this['indices']=_0x4a97f0,_0x3fd2aa['calculateT'+'angents']&&(this['tangents']=fr(_0x3a4e8d,_0x4d6163,_0x34bd4b,_0x4a97f0));}}class I1 extends pn{constructor(_0x84c66f={}){super();const _0x2e3e0b=_0x84c66f['tubeRadius']??0x24f*-0xb+-0x25f3+0x8*0x7eb+0.2,_0x3a5acf=_0x84c66f['ringRadius']??-0xd65+0x1*0x7e6+0x57f+0.3,_0x48b545=(_0x84c66f['sectorAngl'+'e']??-0x25c0+-0x16b*0x16+-0x2*-0x232d)*N['DEG_TO_RAD'],_0xa7d370=_0x84c66f['segments']??-0x1b7c+-0x1*0x5f7+-0x295*-0xd,_0x3929f0=_0x84c66f['sides']??-0x57*0x3b+0x589*0x2+-0x3*-0x305,_0x5d2e89=[],_0xd6754e=[],_0x30dc44=[],_0x59d447=[];for(let _0x48db69=-0x110*0x19+-0xa35+0x24c5;_0x48db69<=_0x3929f0;_0x48db69++)for(let _0x53bde7=0x1ec4+-0x53*-0x59+-0x3b9f;_0x53bde7<=_0xa7d370;_0x53bde7++){const _0x156075=Math['cos'](_0x48b545*_0x53bde7/_0xa7d370)*(_0x3a5acf+_0x2e3e0b*Math['cos']((0x1c60+-0x472+-0x1*0x17ec)*Math['PI']*_0x48db69/_0x3929f0)),_0xb98426=Math['sin']((-0x5ac+-0x1bed+0x219b)*Math['PI']*_0x48db69/_0x3929f0)*_0x2e3e0b,_0x5e8f07=Math['sin'](_0x48b545*_0x53bde7/_0xa7d370)*(_0x3a5acf+_0x2e3e0b*Math['cos']((0x2d*-0xba+0x17*-0x154+-0x40*-0xfd)*Math['PI']*_0x48db69/_0x3929f0)),_0x641c18=Math['cos'](_0x48b545*_0x53bde7/_0xa7d370)*Math['cos']((-0x700+0x1*-0x1451+0x5*0x577)*Math['PI']*_0x48db69/_0x3929f0),_0x404587=Math['sin']((-0x412*0x1+0x3*0x295+0x3ab*-0x1)*Math['PI']*_0x48db69/_0x3929f0),_0x256ca7=Math['sin'](_0x48b545*_0x53bde7/_0xa7d370)*Math['cos']((-0x65*0x20+-0x1c8f+-0x11d*-0x25)*Math['PI']*_0x48db69/_0x3929f0),_0x2b8021=_0x48db69/_0x3929f0,_0x527326=-0x3*-0x346+0x19e+-0xb6f-_0x53bde7/_0xa7d370;if(_0x5d2e89['push'](_0x156075,_0xb98426,_0x5e8f07),_0xd6754e['push'](_0x641c18,_0x404587,_0x256ca7),_0x30dc44['push'](_0x2b8021,-0x1f67+0x217*0xa+-0x2*-0x541-_0x527326),_0x48db69<_0x3929f0&&_0x53bde7<_0xa7d370){const _0xe19e31=_0x48db69*(_0xa7d370+(0x3*0x1a5+0x4fd+0x9eb*-0x1))+_0x53bde7,_0x5b2a53=(_0x48db69+(-0x23ab+-0x487*0x1+0x2833))*(_0xa7d370+(0x1ef+0x1d54+-0x1f42*0x1))+_0x53bde7,_0x2bb702=_0x48db69*(_0xa7d370+(0x267d+-0x62f+-0x204d))+(_0x53bde7+(-0x9*-0x1eb+0x54*-0x4d+0x19*0x52)),_0x420974=(_0x48db69+(-0x129+-0x18d+0x2b7))*(_0xa7d370+(-0x1a2f+0x7*-0x4fa+-0x3d06*-0x1))+(_0x53bde7+(0x1*0x1994+0x10fb+-0x2a8e));_0x59d447['push'](_0xe19e31,_0x5b2a53,_0x2bb702),_0x59d447['push'](_0x5b2a53,_0x420974,_0x2bb702);}}this['positions']=_0x5d2e89,this['normals']=_0xd6754e,this['uvs']=_0x30dc44,this['uvs1']=_0x30dc44,this['indices']=_0x59d447,_0x84c66f['calculateT'+'angents']&&(this['tangents']=fr(_0x5d2e89,_0xd6754e,_0x30dc44,_0x59d447));}}class D1{constructor(_0x1f0650,_0x2ce712){c(this,'processedC'+'ache',new Map()),c(this,'definition'+'sCache',new Map()),c(this,'_generator'+'s',new Map()),(this['_device']=_0x1f0650,this['_isClearin'+'gCache']=!(0x1a5+-0x11e+-0x86),this['_precached']=!(0xd13*-0x1+0xc9a+0x1*0x7a),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new Vh(),this['_defaultSt'+'dMatOption'+'Min']=new Vh());const _0x2cc419=new A0();_0x2ce712['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x2cc419,_0x2ce712,null,[],gn,null),_0x2ce712['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x2ce712,null,Rp,null),_0x1f0650['on']('destroy:sh'+'ader',_0x5fee43=>{this['removeFrom'+'Cache'](_0x5fee43);});}['destroy'](){this['clearCache']();}['register'](_0x5ba8e1,_0x45412c){this['_generator'+'s']['has'](_0x5ba8e1)||this['_generator'+'s']['set'](_0x5ba8e1,_0x45412c);}['unregister'](_0x1520bb){this['_generator'+'s']['has'](_0x1520bb)&&this['_generator'+'s']['delete'](_0x1520bb);}['isRegister'+'ed'](_0x383bcd){return this['_generator'+'s']['has'](_0x383bcd);}['generateSh'+'aderDefini'+'tion'](_0x181077,_0xaea073,_0x9292d0,_0x3f5bf9){var _0x45fb3f,_0x5d63aa;let _0x5bdc4a=this['definition'+'sCache']['get'](_0x9292d0);if(!_0x5bdc4a){let _0x441581;(_0x45fb3f=_0x3f5bf9['litOptions'])!=null&&_0x45fb3f['lights']&&(_0x441581=_0x3f5bf9['litOptions']['lights'],_0x3f5bf9['litOptions']['lights']=_0x441581['map'](_0x5ed3e2=>{const _0x2a7035=_0x5ed3e2['clone']?_0x5ed3e2['clone']():_0x5ed3e2;return _0x2a7035['key']=_0x5ed3e2['key'],_0x2a7035;})),this['storeNewPr'+'ogram'](_0xaea073,_0x3f5bf9),(_0x5d63aa=_0x3f5bf9['litOptions'])!=null&&_0x5d63aa['lights']&&(_0x3f5bf9['litOptions']['lights']=_0x441581),this['_precached']&&v['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0xaea073+'\x20key\x20'+_0x9292d0+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x4fcaab=this['_device'];_0x5bdc4a=_0x181077['createShad'+'erDefiniti'+'on'](_0x4fcaab,_0x3f5bf9),_0x5bdc4a['name']=_0x5bdc4a['name']??(_0x3f5bf9['pass']?_0xaea073+'-pass:'+_0x3f5bf9['pass']:_0xaea073),this['definition'+'sCache']['set'](_0x9292d0,_0x5bdc4a);}return _0x5bdc4a;}['getCachedS'+'hader'](_0x45e9b1){return this['processedC'+'ache']['get'](_0x45e9b1);}['setCachedS'+'hader'](_0x4b6195,_0x5bcb62){this['processedC'+'ache']['set'](_0x4b6195,_0x5bcb62);}['getProgram'](_0x5664ab,_0x4149dc,_0x5ec5a6,_0x36b61e){const _0x187d49=this['_generator'+'s']['get'](_0x5664ab);if(!_0x187d49)return v['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x5664ab),null;const _0x1cf629=_0x187d49['generateKe'+'y'](_0x4149dc),_0x1f47cd=hn(_0x1cf629),_0x17e2cc=_0x5ec5a6['generateKe'+'y'](this['_device']),_0x390ed4=hn(_0x17e2cc),_0x5b3a51=_0x1f47cd+'#'+_0x390ed4;let _0x22bc7b=this['getCachedS'+'hader'](_0x5b3a51);if(!_0x22bc7b){const _0x16f047=this['generateSh'+'aderDefini'+'tion'](_0x187d49,_0x5664ab,_0x1f47cd,_0x4149dc);v['assert'](_0x16f047);let _0x2c7d51='',_0x35b39e;_0x4149dc['pass']!==void(-0x17e*-0xc+0x5e6+-0x17ce)&&(_0x35b39e=Ks['get'](this['_device'])['getByIndex'](_0x4149dc['pass']),_0x2c7d51='-'+_0x35b39e['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x36b61e,'shaderPassInfo':_0x35b39e,'definition':_0x16f047});const _0x2194e9={'name':''+_0x16f047['name']+_0x2c7d51+'-proc','attributes':_0x16f047['attributes'],'vshader':_0x16f047['vshader'],'vincludes':_0x16f047['vincludes'],'fincludes':_0x16f047['fincludes'],'fshader':_0x16f047['fshader'],'processingOptions':_0x5ec5a6,'shaderLanguage':_0x16f047['shaderLang'+'uage'],'meshUniformBufferFormat':_0x16f047['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x16f047['meshBindGr'+'oupFormat']};_0x22bc7b=new i0(this['_device'],_0x2194e9),v['call'](()=>{_0x22bc7b['_generatio'+'nKey']=_0x1cf629,_0x22bc7b['_processin'+'gKey']=_0x17e2cc;}),this['setCachedS'+'hader'](_0x5b3a51,_0x22bc7b);}return _0x22bc7b;}['storeNewPr'+'ogram'](_0x1163bd,_0x44eb44){let _0x249d16={};if(_0x1163bd==='standard'){const _0x47417d=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x44eb44['pass']);for(const _0x2cb616 in _0x44eb44)(_0x44eb44['hasOwnProp'+'erty'](_0x2cb616)&&_0x47417d[_0x2cb616]!==_0x44eb44[_0x2cb616]||_0x2cb616==='pass')&&(_0x249d16[_0x2cb616]=_0x44eb44[_0x2cb616]);for(const _0x13bb62 in _0x44eb44['litOptions'])_0x249d16[_0x13bb62]=_0x44eb44['litOptions'][_0x13bb62];}else _0x249d16=_0x44eb44;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x1163bd,'options':_0x249d16}));}['dumpProgra'+'ms'](){let _0x317f9a='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x317f9a+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][-0x1340+-0x691+0x19d1]&&(_0x317f9a+='\x0a\x09'+this['_programsC'+'ollection'][0x536+-0x2560+0x166*0x17]);for(let _0x16f3bc=0x1f*-0xe5+-0xb8d+0x71*0x59;_0x16f3bc<this['_programsC'+'ollection']['length'];++_0x16f3bc)_0x317f9a+=',\x0a\x09'+this['_programsC'+'ollection'][_0x16f3bc];_0x317f9a+='\x0a];\x0a',_0x317f9a+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x317f9a+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+no+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+sy+'\x22)\x0a',_0x317f9a+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0xa51ead=document['createElem'+'ent']('a');_0xa51ead['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x317f9a)),_0xa51ead['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0xa51ead['style']['display']='none',document['body']['appendChil'+'d'](_0xa51ead),_0xa51ead['click'](),document['body']['removeChil'+'d'](_0xa51ead);}['clearCache'](){this['_isClearin'+'gCache']=!(-0x8*-0x394+0x20cd+-0x3d6d),this['processedC'+'ache']['forEach'](_0x19bcd1=>{_0x19bcd1['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(0x1*0xe1f+0x7*-0x410+-0x4c6*-0x3);}['removeFrom'+'Cache'](_0x38d6db){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x2d0c0c,_0x5b513b)=>{_0x38d6db===_0x2d0c0c&&this['processedC'+'ache']['delete'](_0x5b513b);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x6d0ef0){const _0x1a8ddf=Ks['get'](this['_device'])['getByIndex'](_0x6d0ef0);return _0x6d0ef0===rl||_0x6d0ef0===Oa||_0x6d0ef0===il||_0x1a8ddf['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x487bef){if(_0x487bef){const _0x368800=new Array(_0x487bef['length']);for(let _0x2fe9e8=0xd58*0x1+-0x1*0x1bae+-0xe56*-0x1;_0x2fe9e8<_0x487bef['length'];_0x2fe9e8++){if(_0x487bef[_0x2fe9e8]['name']==='standard'){const _0x5c7a07=_0x487bef[_0x2fe9e8]['options'],_0x5e10f5=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x5c7a07['pass']);for(const _0x138459 in _0x5e10f5)_0x5e10f5['hasOwnProp'+'erty'](_0x138459)&&_0x5c7a07[_0x138459]===void(-0xd96*0x1+-0x1*-0x4cd+0x1*0x8c9)&&(_0x5c7a07[_0x138459]=_0x5e10f5[_0x138459]);}_0x368800[_0x2fe9e8]=this['getProgram'](_0x487bef[_0x2fe9e8]['name'],_0x487bef[_0x2fe9e8]['options']);}}this['_precached']=!(-0x657+-0x8bd+0x182*0xa);}}const L1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001?'+'\x20(1.0/255.'+'0)\x20:\x200.0);'+'\x0a\x20\x20\x20\x20}\x0a',F1='\x0a#ifdef\x20LI'+'GHTMAP_RGB'+'M\x0a\x20\x20\x20\x20gl_F'+'ragColor.r'+'gb\x20=\x20dDiff'+'useLight;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20pow(gl_'+'FragColor.'+'rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.rgb\x20/='+'\x208.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x20cla'+'mp(\x20max(\x20m'+'ax(\x20gl_Fra'+'gColor.r,\x20'+'gl_FragCol'+'or.g\x20),\x20ma'+'x(\x20gl_Frag'+'Color.b,\x201'+'.0\x20/\x20255.0'+'\x20)\x20),\x200.0,'+'1.0\x20);\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.a\x20=\x20ce'+'il(gl_Frag'+'Color.a\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.rgb\x20/=\x20'+'gl_FragCol'+'or.a;\x0a#els'+'e\x0a\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(dDif'+'fuseLight,'+'\x201.0);\x0a#en'+'dif\x0a',O1='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',k1='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a//\x20fi'+'lter\x20size\x0a'+'#define\x20MS'+'IZE\x2015\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0auni'+'form\x20sampl'+'er2D\x20sourc'+'e;\x0auniform'+'\x20vec2\x20pixe'+'lOffset;\x0au'+'niform\x20vec'+'2\x20sigmas;\x0a'+'uniform\x20fl'+'oat\x20bZnorm'+';\x0auniform\x20'+'float\x20kern'+'el[MSIZE];'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20texture2'+'DLod(sourc'+'e,\x20vUv0,\x200'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20lightma'+'p\x20specific'+'\x20optimizat'+'ion\x20-\x20skip'+'\x20pixels\x20th'+'at\x20were\x20no'+'t\x20baked\x0a\x20\x20'+'\x20\x20//\x20this\x20'+'also\x20allow'+'s\x20dilate\x20f'+'ilter\x20that'+'\x20work\x20on\x20t'+'he\x20output\x20'+'of\x20this\x20to'+'\x20work\x20corr'+'ectly,\x20as\x20'+'it\x20depends'+'\x20on\x20.a\x20bei'+'ng\x20zero\x0a\x20\x20'+'\x20\x20//\x20to\x20di'+'late,\x20whic'+'h\x20the\x20foll'+'owing\x20blur')+('\x20filter\x20wo'+'uld\x20otherw'+'ise\x20modify'+'\x0a\x20\x20\x20\x20if\x20(!'+'isUsed(pix'+'el))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'pixel;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ra'+'nge\x20sigma\x20'+'-\x20controls'+'\x20blurrines'+'s\x20based\x20on'+'\x20a\x20pixel\x20d'+'istance\x0a\x20\x20'+'\x20\x20float\x20si'+'gma\x20=\x20sigm'+'as.x;\x0a\x0a\x20\x20\x20'+'\x20//\x20domain'+'\x20sigma\x20-\x20c'+'ontrols\x20bl'+'urriness\x20b'+'ased\x20on\x20a\x20'+'pixel\x20simi'+'larity\x20(to'+'\x20preserve\x20'+'edges)\x0a\x20\x20\x20'+'\x20float\x20bSi'+'gma\x20=\x20sigm'+'as.y;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20pixe'+'lHdr\x20=\x20dec'+'ode(pixel)'+';\x0a\x20\x20\x20\x20vec3'+'\x20accumulat'+'edHdr\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20float\x20a'+'ccumulated'+'Factor\x20=\x200'+'.000001;\x20\x20'+'//\x20avoid\x20d'+'ivision\x20by'+'\x20zero\x0a\x0a\x20\x20\x20'+'\x20//\x20read\x20o'+'ut\x20the\x20tex'+'els\x0a\x20\x20\x20\x20co'+'nst\x20int\x20kS'+'ize\x20=\x20(MSI'+'ZE-1)/2;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x20-kSi'+'ze;\x20i\x20<=\x20k'+'Size;\x20++i)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'j\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20++j)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'ample\x20the\x20'+'pixel\x20with'+'\x20offset\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20coord'+'\x20=\x20vUv0\x20+\x20'+'vec2(float'+'(i),\x20float'+'(j))\x20*\x20pix'+'elOffset;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec4\x20pix'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20coord,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x20-\x20only\x20u'+'se\x20baked\x20p'+'ixels\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isUsed(p'+'ix))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20hd'+'r\x20=\x20decode'+'(pix);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bil'+'ateral\x20fac'+'tors\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fac'+'tor\x20=\x20kern')+('el[kSize\x20+'+'\x20j]\x20*\x20kern'+'el[kSize\x20+'+'\x20i];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20factor\x20*='+'\x20normpdf3('+'hdr\x20-\x20pixe'+'lHdr,\x20bSig'+'ma)\x20*\x20bZno'+'rm;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20accumu'+'late\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20accumulat'+'edHdr\x20+=\x20f'+'actor\x20*\x20hd'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ccumulated'+'Factor\x20+=\x20'+'factor;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20fi'+'nalHDR\x20=\x20a'+'ccumulated'+'Hdr\x20/\x20accu'+'mulatedFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20HDR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(fina'+'lHDR,\x201.0)'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20encod'+'eRGBM(fina'+'lHDR);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),vo={'bakeDirLmEndPS':L1,'bakeLmEndPS':F1,'dilatePS':O1,'bilateralDeNoisePS':k1},Fn=new q(),B_=new se(),$d=new _e(),N_=new _e(),B1=new Y(-0x13*-0x1a8+0x2196+-0x410d,0xa27+0x181c+-0x1121*0x2,-0x2113+-0x18e+0x22a1,0x6b*0x3+0x1ff7+-0x2138+0.4),qd=-0x105e+0x1a1+0xebd+0.28209479177387814;class N1{constructor(_0x582e9a,_0x3be948,_0x450593,_0x5a0249,_0x101437,_0x1ba436){const _0xa284a0=_0x582e9a['getProp']('x'),_0x2c4f6a=_0x582e9a['getProp']('y'),_0x259cf7=_0x582e9a['getProp']('z'),_0xf7ed73=_0x582e9a['getProp']('rot_1'),_0x143215=_0x582e9a['getProp']('rot_2'),_0x341be8=_0x582e9a['getProp']('rot_3'),_0x4ae13c=_0x582e9a['getProp']('rot_0'),_0x5eeec=_0x582e9a['getProp']('motion_0'),_0x3d8713=_0x582e9a['getProp']('motion_1'),_0x5f4a13=_0x582e9a['getProp']('motion_2'),_0x33d6fe=_0x582e9a['getProp']('scale_0'),_0x5446ee=_0x582e9a['getProp']('scale_1'),_0x4bb674=_0x582e9a['getProp']('scale_2'),_0x1cdb37=_0x582e9a['getProp']('f_dc_0'),_0x5132e0=_0x582e9a['getProp']('f_dc_1'),_0x391ae2=_0x582e9a['getProp']('f_dc_2'),_0x5c0e0c=_0x582e9a['getProp']('opacity'),_0x1d1a55=_0x46c073=>{if(_0x46c073>0x3*-0x2b4+0x134+0x6e8)return(0x4*0x41d+-0x55*-0x13+0xb61*-0x2)/(-0x223*0x6+0x14a2+-0x7cf+Math['exp'](-_0x46c073));const _0x113627=Math['exp'](_0x46c073);return _0x113627/(-0x141*-0xb+0x509*-0x1+-0x1*0x8c1+_0x113627);};this['read']=_0xaeb6c8=>{_0x3be948&&(_0x3be948['x']=_0xa284a0[_0xaeb6c8],_0x3be948['y']=_0x2c4f6a[_0xaeb6c8],_0x3be948['z']=_0x259cf7[_0xaeb6c8]),_0x450593&&_0x450593['set'](_0xf7ed73[_0xaeb6c8],_0x143215[_0xaeb6c8],_0x341be8[_0xaeb6c8],_0x4ae13c[_0xaeb6c8]),_0x5a0249&&_0x5a0249['set'](Math['exp'](_0x33d6fe[_0xaeb6c8]),Math['exp'](_0x5446ee[_0xaeb6c8]),Math['exp'](_0x4bb674[_0xaeb6c8])),_0x1ba436&&_0x5eeec&&_0x1ba436['set'](_0x5eeec[_0xaeb6c8],_0x3d8713[_0xaeb6c8],_0x5f4a13[_0xaeb6c8]),_0x101437&&_0x101437['set'](0x1f1b*-0x1+0x16ed+0x82e+0.5+_0x1cdb37[_0xaeb6c8]*qd,-0x2207+0x229e+0x1*-0x97+0.5+_0x5132e0[_0xaeb6c8]*qd,0x3*-0x233+0xc13+-0x2bd*0x2+0.5+_0x391ae2[_0xaeb6c8]*qd,_0x1d1a55(_0x5c0e0c[_0xaeb6c8]));};}}const z_=(_0x66cc68,_0xe86df4,_0x294899)=>{B_['set'](_0x294899['x'],_0x294899['y'],_0x294899['z'],_0x294899['w'])['normalize'](),_0x66cc68['setTRS'](_0xe86df4,B_,T['ONE']);};class Ia{constructor(_0x2d435c){c(this,'elements'),c(this,'numSplats'),c(this,'is4D');var _0x200f17,_0x294434,_0x355e9e;this['elements']=_0x2d435c,this['numSplats']=(_0x200f17=this['getElement']('vertex'))==null?void(-0xa*0xa6+-0x8*-0x340+-0x1384):_0x200f17['count'],this['is4D']=!!((_0x355e9e=(_0x294434=this['getElement']('vertex'))==null?void(-0x1be0+0x2103+-0x523):_0x294434['properties']['find'](_0x5db234=>_0x5db234['name']==='t'))!=null&&_0x355e9e['storage']);}['appendGSpl'+'atData'](_0x2be3ca,_0x1f5140,_0x36a040){const _0x23aa9c=this['getElement']('vertex')['properties'];_0x23aa9c['find'](_0x5dafc6=>_0x5dafc6['name']==='time_index')||_0x23aa9c['push']({'type':'float','name':'time_index','storage':new Float32Array(this['numSplats']),'byteSize':0x4}),this['numSplats']+=_0x2be3ca['numSplats'];for(let _0x21b08d=0x260*0xf+-0x207+0x8d*-0x3d;_0x21b08d<_0x23aa9c['length'];_0x21b08d++){const _0xbee8dd=_0x23aa9c[_0x21b08d],_0x55d3d9=_0x2be3ca['getElement']('vertex')['properties']['find'](_0x32239d=>_0x32239d['name']===_0xbee8dd['name']);if(_0xbee8dd['name']==='time_index'){const _0xc811eb=new Float32Array(this['numSplats']);_0xc811eb['fill'](_0x1f5140),_0xc811eb['set'](_0xbee8dd['storage'],0x17*-0xbf+-0x1133+-0xb74*-0x3),_0xbee8dd['storage']=_0xc811eb;}else{if(_0x55d3d9&&_0xbee8dd['name']==='t'){const _0xce572a=new Float32Array(this['numSplats']);if(_0xce572a['set'](_0xbee8dd['storage'],0x19*-0x53+0x963+-0x148),_0x36a040){for(let _0x354bec=_0xbee8dd['storage']['length'];_0x354bec<this['numSplats'];_0x354bec++)_0xce572a[_0x354bec]=_0x55d3d9['storage'][_0x354bec-_0xbee8dd['storage']['length']]+_0x36a040[(0x5*-0x70b+-0x16d9*0x1+0x3a12)*_0x1f5140];}else _0xce572a['set'](_0x55d3d9['storage'],_0xbee8dd['storage']['length']);_0xbee8dd['storage']=_0xce572a;}else{if(_0x55d3d9){const _0x5ae605=new Float32Array(this['numSplats']);_0x5ae605['set'](_0xbee8dd['storage'],0x35e*-0xb+0x3*-0x423+-0x3173*-0x1),_0x5ae605['set'](_0x55d3d9['storage'],_0xbee8dd['storage']['length']),_0xbee8dd['storage']=_0x5ae605;}}}}}static['calcSplatA'+'abb'](_0x3b465e,_0xc4eeef,_0x49934e,_0x43d693){z_(Fn,_0xc4eeef,_0x49934e),$d['center']['set'](0x5*0x151+0x2606+-0x2c9b*0x1,-0x157f+0x56f+0x1010,-0x1c41+0x306+0x193b),$d['halfExtent'+'s']['set'](_0x43d693['x']*(-0xd3*-0x2d+0x47b+-0xa64*0x4),_0x43d693['y']*(-0x2*0xb97+-0xfc+0x4*0x60b),_0x43d693['z']*(0x25cc*0x1+-0x612+-0x1fb8)),_0x3b465e['setFromTra'+'nsformedAa'+'bb']($d,Fn);}['getProp'](_0x23a3cb,_0x25ec45='vertex'){var _0x37fa0f,_0x24d8dd;return(_0x24d8dd=(_0x37fa0f=this['getElement'](_0x25ec45))==null?void(-0x1*0x21ce+-0x1c+0x21ea):_0x37fa0f['properties']['find'](_0x198365=>_0x198365['name']===_0x23a3cb))==null?void(-0xf2d+0xb*0x257+-0x1a*0x68):_0x24d8dd['storage'];}['getElement'](_0x225602){return this['elements']['find'](_0x4c9d77=>_0x4c9d77['name']===_0x225602);}['addProp'](_0x316324,_0x253438){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x316324,'storage':_0x253438,'byteSize':0x4});}['createIter'](_0x23ee6f,_0x1b7120,_0x27fc1c,_0x4fdbe9,_0x2a992b){return new N1(this,_0x23ee6f,_0x1b7120,_0x27fc1c,_0x4fdbe9,_0x2a992b);}['calcAabb'](_0xda171,_0x3313d3){let _0x39c154,_0x300e42,_0x35c66f,_0x430485,_0x31faf4,_0x240a63,_0x1fcaf8=!(-0x15bf+0x1*-0xf1+0x21*0xb0);const _0x31080d=this['getProp']('x'),_0x21a758=this['getProp']('y'),_0x306c52=this['getProp']('z'),_0x386663=this['getProp']('scale_0'),_0x4c601c=this['getProp']('scale_1'),_0x2fcf8=this['getProp']('scale_2');for(let _0x2535fc=-0x1*0x1c1e+0x25e0+0x1*-0x9c2;_0x2535fc<this['numSplats'];++_0x2535fc){if(_0x3313d3&&!_0x3313d3(_0x2535fc))continue;const _0x773adf=(0xe6d*-0x2+0x11cb+-0xb11*-0x1)*Math['exp'](Math['max'](_0x386663[_0x2535fc],_0x4c601c[_0x2535fc],_0x2fcf8[_0x2535fc])),_0x2a06f4=_0x31080d[_0x2535fc],_0x1870fc=_0x21a758[_0x2535fc],_0x15a579=_0x306c52[_0x2535fc];_0x1fcaf8?(_0x1fcaf8=!(0xe*-0x4+0x26*-0xf7+0x24e3),_0x39c154=_0x2a06f4-_0x773adf,_0x300e42=_0x1870fc-_0x773adf,_0x35c66f=_0x15a579-_0x773adf,_0x430485=_0x2a06f4+_0x773adf,_0x31faf4=_0x1870fc+_0x773adf,_0x240a63=_0x15a579+_0x773adf):(_0x39c154=Math['min'](_0x39c154,_0x2a06f4-_0x773adf),_0x300e42=Math['min'](_0x300e42,_0x1870fc-_0x773adf),_0x35c66f=Math['min'](_0x35c66f,_0x15a579-_0x773adf),_0x430485=Math['max'](_0x430485,_0x2a06f4+_0x773adf),_0x31faf4=Math['max'](_0x31faf4,_0x1870fc+_0x773adf),_0x240a63=Math['max'](_0x240a63,_0x15a579+_0x773adf));}return _0x1fcaf8||(_0xda171['center']['set']((_0x39c154+_0x430485)*(0x1*0x19f0+-0x1a3*0x13+0x529+0.5),(_0x300e42+_0x31faf4)*(0x4*-0x254+0x6a6+0x2aa+0.5),(_0x35c66f+_0x240a63)*(-0x1aa1+0xa67*-0x2+-0x2f6f*-0x1+0.5)),_0xda171['halfExtent'+'s']['set']((_0x430485-_0x39c154)*(0x16a3+-0x224c*-0x1+-0x38ef+0.5),(_0x31faf4-_0x300e42)*(0x5c*0xe+-0x17a4+0x129c+0.5),(_0x240a63-_0x35c66f)*(-0x9a9*-0x1+0x607*0x1+-0xfb0+0.5))),!_0x1fcaf8;}['calcAabbEx'+'act'](_0x2f9970,_0xdf77f7){const _0x25e350=new T(),_0x2d79ad=new se(),_0x305d09=new T(),_0x491707=this['createIter'](_0x25e350,_0x2d79ad,_0x305d09);let _0x2099b9=!(0x56a+0x113d+0x1*-0x16a7);for(let _0x178aa0=0xa4*0x9+-0x169f+-0x35f*-0x5;_0x178aa0<this['numSplats'];++_0x178aa0)_0xdf77f7&&!_0xdf77f7(_0x178aa0)||(_0x491707['read'](_0x178aa0),_0x2099b9?(_0x2099b9=!(0x78b*0x4+-0x24a2+-0x1*-0x677),Ia['calcSplatA'+'abb'](_0x2f9970,_0x25e350,_0x2d79ad,_0x305d09)):(Ia['calcSplatA'+'abb'](N_,_0x25e350,_0x2d79ad,_0x305d09),_0x2f9970['add'](N_)));return!_0x2099b9;}['getCenters'](_0x4a66de){const _0x26c732=this['getProp']('x'),_0x2a9a70=this['getProp']('y'),_0x4de5bf=this['getProp']('z');for(let _0x4446a5=0x1412+-0x23d4+0xfc2;_0x4446a5<this['numSplats'];++_0x4446a5)_0x4a66de[_0x4446a5*(-0x1b85+-0x6b8+0x2240)+(0x439*-0x1+-0x892*-0x1+-0x459)]=_0x26c732[_0x4446a5],_0x4a66de[_0x4446a5*(-0x3*0xbb7+-0x1dcd+0x40f5)+(-0x10b6+0x5fb*-0x5+-0x132*-0x27)]=_0x2a9a70[_0x4446a5],_0x4a66de[_0x4446a5*(-0xcb8*0x2+0x191d+-0x2*-0x2b)+(0x29*0xaf+0x1*0xc85+-0x288a)]=_0x4de5bf[_0x4446a5];}['getMuT'](){const _0x536f35=this['getProp']('t');if(!_0x536f35)return;const _0x4b6a3e=new Float32Array(this['numSplats']);for(let _0x2dc730=-0x2509+-0x1f82+0x448b;_0x2dc730<this['numSplats'];++_0x2dc730)_0x4b6a3e[_0x2dc730]=_0x536f35[_0x2dc730];return _0x4b6a3e;}['getTScale'](){const _0x23e344=this['getProp']('t_scale');if(!_0x23e344)return;const _0x1dbe65=new Float32Array(this['numSplats']);for(let _0xbcd37f=0x1264+0x25bb+-0x1*0x381f;_0xbcd37f<this['numSplats'];++_0xbcd37f)_0x1dbe65[_0xbcd37f]=Math['exp'](_0x23e344[_0xbcd37f]);return _0x1dbe65;}['getMotion'](_0x3ec228){const _0xaae65a=this['getProp']('motion_0'),_0x38286e=this['getProp']('motion_1'),_0x413c44=this['getProp']('motion_2');if(!(!_0xaae65a||!_0x38286e||!_0x413c44)){for(let _0x227a71=0x7*0x2c1+0x54d+-0x1894;_0x227a71<this['numSplats'];++_0x227a71)_0x3ec228[_0x227a71*(0x208d+-0x3*-0x655+-0x4f*0xa7)+(0x1ffa*0x1+-0x8c6+-0x1734)]=_0xaae65a[_0x227a71],_0x3ec228[_0x227a71*(-0x13*-0x1be+0x1d6*0x14+0x6f*-0xa1)+(-0x490+-0x2ed*-0xb+0x2*-0xdcf)]=_0x38286e[_0x227a71],_0x3ec228[_0x227a71*(0x1cd6+-0x4f0+-0x5*0x4c7)+(-0x7e2+0x1*-0xd5d+0x1541)]=_0x413c44[_0x227a71];}}['getTimeInd'+'ex'](_0x1fb251){const _0x4adf30=this['getProp']('time_index');_0x4adf30&&_0x1fb251['set'](_0x4adf30,-0x23c1+-0x124a+0x360b*0x1);}['calcFocalP'+'oint'](_0x352eaa,_0x1b10a6){const _0x4144c8=this['getProp']('x'),_0x2bb6ca=this['getProp']('y'),_0x41fc95=this['getProp']('z'),_0x256536=this['getProp']('scale_0'),_0x561df4=this['getProp']('scale_1'),_0x28e045=this['getProp']('scale_2');_0x352eaa['x']=0xb51*0x1+0x1d91*0x1+0x1471*-0x2,_0x352eaa['y']=0x1*-0x2394+0x1983*-0x1+0x3*0x145d,_0x352eaa['z']=0x106a*-0x1+-0x13f*0x16+0x2bd4;let _0x339878=0x1e83+0x190*-0x2+-0x1b63;for(let _0x197041=-0x155f*-0x1+-0x13ee*-0x1+0x1*-0x294d;_0x197041<this['numSplats'];++_0x197041){if(_0x1b10a6&&!_0x1b10a6(_0x197041))continue;const _0x46b7a6=(0x1f16+0x2*-0xbf0+0x267*-0x3)/(0x1d*-0xcf+0x69e+-0x5*-0x35e+Math['exp'](Math['max'](_0x256536[_0x197041],_0x561df4[_0x197041],_0x28e045[_0x197041])));_0x352eaa['x']+=_0x4144c8[_0x197041]*_0x46b7a6,_0x352eaa['y']+=_0x2bb6ca[_0x197041]*_0x46b7a6,_0x352eaa['z']+=_0x41fc95[_0x197041]*_0x46b7a6,_0x339878+=_0x46b7a6;}_0x352eaa['mulScalar']((0x8f6+0xc30+-0x1525*0x1)/_0x339878);}['renderWire'+'frameBound'+'s'](_0x3b97f9,_0x1ce3c4){const _0xd59c70=new T(),_0x4b5a63=new se(),_0x398b88=new T(),_0x89cafc=new T(),_0x2374cf=new T(),_0x434b84=this['createIter'](_0xd59c70,_0x4b5a63,_0x398b88);for(let _0x16e67e=-0x53*0x30+-0x1e4f+0x2ddf;_0x16e67e<this['numSplats'];++_0x16e67e)_0x434b84['read'](_0x16e67e),z_(Fn,_0xd59c70,_0x4b5a63),Fn['mul2'](_0x1ce3c4,Fn),_0x89cafc['set'](_0x398b88['x']*-(-0x2552+-0x1918+0x3e6c),_0x398b88['y']*-(0x137*-0x13+0x3*0xa66+0x5*-0x19f),_0x398b88['z']*-(0x1*-0x243b+0x1*-0x23ae+0x47eb)),_0x2374cf['set'](_0x398b88['x']*(0x1*-0x1f7b+0x129c+0x44b*0x3),_0x398b88['y']*(0x2709+0x25b1+-0x2*0x265c),_0x398b88['z']*(-0x4d8*0x4+0x1005+0x1*0x35d)),_0x3b97f9['immediate']['drawWireAl'+'ignedBox'](_0x89cafc,_0x2374cf,B1,!(-0x23bd+0x7b*0x8+0x1fe5),_0x3b97f9['defaultDra'+'wLayer'],Fn);}get['isCompress'+'ed'](){return!(0x1*-0x20bf+-0x2df+-0x239f*-0x1);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x394e4f=-0x15b0+0x1585+0x2b;_0x394e4f<-0xa0*-0x35+-0xf07+-0x11ec;++_0x394e4f)if(!this['getProp']('f_rest_'+_0x394e4f))return _0x394e4f;return-0x16f8+-0x737*-0x5+-0xcee;})())]??0x536*-0x1+-0x1*-0xfe3+-0x1*0xaad;}['calcMorton'+'Order'](){const _0x16ab6d=_0x5e5844=>{let _0x3bfc80=_0x5e5844[-0x1d29+0x1ae5+-0x2*-0x122],_0x4e0712=_0x5e5844[-0x1*0x157d+-0x16a7+0x2c24];for(let _0x5c7821=-0x1*0x1083+-0x1069+0x20ed;_0x5c7821<_0x5e5844['length'];_0x5c7821++)_0x5e5844[_0x5c7821]<_0x3bfc80&&(_0x3bfc80=_0x5e5844[_0x5c7821]),_0x5e5844[_0x5c7821]>_0x4e0712&&(_0x4e0712=_0x5e5844[_0x5c7821]);return{'min':_0x3bfc80,'max':_0x4e0712};},_0x2029cd=(_0x3bcab3,_0x1e8bfe,_0x1eff2e)=>{const _0x211bf3=_0x1792b4=>(_0x1792b4&=0x25f9+0x8a*0x3a+-0x413e,_0x1792b4=(_0x1792b4^_0x1792b4<<0x1612+-0x1*-0xd30+-0x2332)&0x1*0xdcfb23e9+-0xef58be5*0x5+0x3829991*0x1f,_0x1792b4=(_0x1792b4^_0x1792b4<<-0xaab*-0x3+-0x247d+0x484)&-0x2b4d5b6*0x1+-0x33d8*0x89c+0x7741d65*0x1,_0x1792b4=(_0x1792b4^_0x1792b4<<0x1*-0x5a7+0x59*-0x4f+0x2122)&0x50e6460+-0x260a15+-0x22b8*0xdb7,_0x1792b4=(_0x1792b4^_0x1792b4<<0x2*-0xa27+-0xf47*-0x1+0x509*0x1)&0x846de7*0x23+-0xc6389*0x64+-0x41f92c8,_0x1792b4);return(_0x211bf3(_0x1eff2e)<<0x692+-0xb*0x367+0x1edd*0x1)+(_0x211bf3(_0x1e8bfe)<<0xde2+0x3*-0x73c+0x7d3)+_0x211bf3(_0x3bcab3);},_0x41f0ba=this['getProp']('x'),_0x32dd1b=this['getProp']('y'),_0x173350=this['getProp']('z'),{min:_0x3548c2,max:_0x39a0c0}=_0x16ab6d(_0x41f0ba),{min:_0xb40cf5,max:_0x1fe921}=_0x16ab6d(_0x32dd1b),{min:_0x1ba608,max:_0x70a2}=_0x16ab6d(_0x173350),_0x4b45d4=_0x3548c2===_0x39a0c0?-0x281+0x2109+0x3d1*-0x8:(-0x3*0x123+-0xdca+0x1533)/(_0x39a0c0-_0x3548c2),_0x237f25=_0xb40cf5===_0x1fe921?0x266f+0x1669+-0x3cd8:(0x17b5+0x2629+-0x39de)/(_0x1fe921-_0xb40cf5),_0xcd4a6f=_0x1ba608===_0x70a2?0x1064+-0xb*-0x42+-0x133a:(0xa24+0x37d*0x1+0x9a1*-0x1)/(_0x70a2-_0x1ba608),_0x1921af=new Map();for(let _0x30bc3f=0x202f+-0x16a1+-0x1*0x98e;_0x30bc3f<this['numSplats'];_0x30bc3f++){const _0x36d63d=Math['floor']((_0x41f0ba[_0x30bc3f]-_0x3548c2)*_0x4b45d4),_0xf6f9c6=Math['floor']((_0x32dd1b[_0x30bc3f]-_0xb40cf5)*_0x237f25),_0x7b6a1a=Math['floor']((_0x173350[_0x30bc3f]-_0x1ba608)*_0xcd4a6f),_0x48ad98=_0x2029cd(_0x36d63d,_0xf6f9c6,_0x7b6a1a),_0xdff211=_0x1921af['get'](_0x48ad98);_0xdff211?_0xdff211['push'](_0x30bc3f):_0x1921af['set'](_0x48ad98,[_0x30bc3f]);}const _0x4ca8c0=Array['from'](_0x1921af['keys']())['sort']((_0x3b15d7,_0x276764)=>_0x3b15d7-_0x276764),_0x1097eb=new Uint32Array(this['numSplats']);let _0x5e6e44=0x1*0x252e+-0xe2c+0x24d*-0xa;for(let _0x251c00=0x3*-0x6be+0x2541+-0x5ad*0x3;_0x251c00<_0x4ca8c0['length'];++_0x251c00){const _0x5ae58b=_0x1921af['get'](_0x4ca8c0[_0x251c00]);for(let _0x4a2896=-0x241d+-0x1d3d+0x415a;_0x4a2896<_0x5ae58b['length'];++_0x4a2896)_0x1097eb[_0x5e6e44++]=_0x5ae58b[_0x4a2896];}return _0x1097eb;}['reorder'](_0x25c70c){const _0x3b9413=new Map(),_0x4463cd=_0x38ed02=>{if(_0x3b9413['has'](_0x38ed02)){const _0x1f7a82=_0x3b9413['get'](_0x38ed02);return _0x3b9413['delete'](_0x38ed02),_0x1f7a82;}return new ArrayBuffer(_0x38ed02);},_0x309bd1=_0x3db3c8=>{_0x3b9413['set'](_0x3db3c8['byteLength'],_0x3db3c8);},_0x1c4a0f=_0x192899=>{const _0x5dd421=new _0x192899['constructo'+'r'](_0x4463cd(_0x192899['byteLength']));for(let _0x5ad6e0=-0x1c1*0x6+0x1f31*-0x1+0x29b7*0x1;_0x5ad6e0<_0x25c70c['length'];_0x5ad6e0++)_0x5dd421[_0x5ad6e0]=_0x192899[_0x25c70c[_0x5ad6e0]];return _0x309bd1(_0x192899['buffer']),_0x5dd421;};this['elements']['forEach'](_0x5010ef=>{_0x5010ef['properties']['forEach'](_0x4fbc3d=>{_0x4fbc3d['storage']&&(_0x4fbc3d['storage']=_0x1c4a0f(_0x4fbc3d['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const z0=(_0x132214={})=>{console['log']('____\x20ENGIN'+'E\x20IVAN','gsplat-mat'+'erial\x20crea'+'teGSplatMa'+'terial');const _0x3a344b=_0x132214['dither']??Rs,_0x567b4f=_0x3a344b!==Rs,_0x4e08ea=new Ra({'uniqueName':'SplatMater'+'ial','vertexCode':_0x132214['vertex']??X['gsplatVS'],'fragmentCode':_0x132214['fragment']??X['gsplatPS'],'attributes':{'vertex_position':He,'vertex_id_attrib':ga}});return _0x4e08ea['setDefine']('DITHER_'+_0x3a344b['toUpperCas'+'e'](),''),_0x4e08ea['cull']=mt,_0x4e08ea['blendType']=_0x567b4f?is:hr,_0x4e08ea['depthWrite']=_0x567b4f,_0x4e08ea['update'](),_0x4e08ea;};async function z1(){self['onmessage']=async _0xf400e4=>{const {data:_0xe0206d}=_0xf400e4;switch(_0xe0206d['type']){case'initWorker':break;case'updateSHDa'+'ta':_0x31aa3d(_0xe0206d['numSplats'],_0xe0206d['shBands'],_0xe0206d['SHData']);break;}};const _0x31aa3d=(_0x517c58,_0x38100b,_0x44ff7d)=>{const _0x219133=new Uint32Array(_0x517c58*(0x9c9*-0x3+0x8*0x217+-0xca7*-0x1)),_0x45dda0=new Uint32Array(_0x517c58*(-0x1919*0x1+-0x421+-0xe9f*-0x2)),_0x1a7857=new Uint32Array(_0x517c58*(-0x1906+0x1*-0x1b4f+-0x1*-0x3459)),_0xdd4c86=new Uint32Array(_0x517c58*(0x1*0x1c01+-0x1803*-0x1+0xd0*-0x40)),_0x1ce796={0x1:0x3,0x2:0x8,0x3:0xf}[_0x38100b],_0x9a8658=_0x44ff7d,_0x2aad3a=0xfe+-0x46a*0x8+0x2a51,_0x5dfc7e=-0x6a5+-0x30*-0x94+-0x16d*0xc,_0x3e938e=new Float32Array(0xa68+0x18bc+-0x2323),_0x591c98=new Uint32Array(_0x3e938e['buffer']),_0x2817ac=new Array(_0x1ce796*(0xc2+-0x5*-0x42a+-0x1591))['fill'](-0x4*-0x4ae+-0x3a6*-0x5+0x6*-0x629);for(let _0x341963=0x20c*0x3+-0x1f0c*0x1+-0x8*-0x31d;_0x341963<_0x517c58;++_0x341963){for(let _0x25feb1=0xd8b+-0x1f19*-0x1+-0x2ca4;_0x25feb1<_0x1ce796;++_0x25feb1)_0x2817ac[_0x25feb1*(0x706+-0x11*-0x77+-0x1*0xeea)]=_0x9a8658[_0x25feb1][_0x341963],_0x2817ac[_0x25feb1*(-0xa3e+0x4*0x810+0x3*-0x755)+(-0x15eb+0x70d+0xedf)]=_0x9a8658[_0x25feb1+_0x1ce796][_0x341963],_0x2817ac[_0x25feb1*(-0x165*-0x17+0x26e8+0x8*-0x8df)+(0x1514+0x1d2c+-0x323e)]=_0x9a8658[_0x25feb1+_0x1ce796*(0x7*0x574+-0x2ac*0x4+-0x1b7a)][_0x341963];let _0x40133d=_0x2817ac[-0xc*-0x27b+-0x1921*0x1+-0x4a3];for(let _0x4c740b=-0xeac+-0x95a+-0x1*-0x1807;_0x4c740b<_0x1ce796*(-0x1c3a+-0x24aa+-0x1*-0x40e7);++_0x4c740b)_0x40133d=Math['max'](_0x40133d,Math['abs'](_0x2817ac[_0x4c740b]));if(_0x40133d!==0x22f7*0x1+-0x1*-0xcaa+-0x59*0x89){for(let _0x580da8=0x5*-0x4f2+-0x1*-0x673+-0x1247*-0x1;_0x580da8<_0x1ce796;++_0x580da8)_0x2817ac[_0x580da8*(-0x397*-0x2+0x2032+-0x275d)+(0xde4+-0x2f*0x5+0x7b*-0x1b)]=Math['max'](0x16*0x26+-0x1241*-0x2+0x1*-0x27c6,Math['min'](_0x2aad3a,Math['floor']((_0x2817ac[_0x580da8*(-0x1*0x1f26+-0xc07+0x1*0x2b30)+(-0x24f5+-0x1*0x1519+0x3a0e)]/_0x40133d*(0x1652*-0x1+-0x1*0x1395+0x29e7+0.5)+(-0x194c+0xfe7+0x965+0.5))*_0x2aad3a+(0x1*-0x1cc2+0xea2+0xe20+0.5)))),_0x2817ac[_0x580da8*(0x5ae*0x5+0x80d+-0x2470)+(0x980+0xcc9*-0x2+0x1013)]=Math['max'](-0x202*0xa+-0x1dee+-0x15a*-0x25,Math['min'](_0x5dfc7e,Math['floor']((_0x2817ac[_0x580da8*(-0x15*-0x1cb+0x15ee+-0x3b92)+(0x234c+0xe*-0x1cc+0x3*-0x361)]/_0x40133d*(-0x56e*-0x1+0x1*-0x1e2f+0x18c1+0.5)+(-0x4cf*-0x1+-0x3e6*-0xa+-0x2bcb+0.5))*_0x5dfc7e+(-0x2*-0x98f+-0x157c+-0x3*-0xca+0.5)))),_0x2817ac[_0x580da8*(0x333+-0x17e*-0x12+-0x1*0x1e0c)+(-0xf07+0x1bec+-0xce3)]=Math['max'](0x1ec1*0x1+-0x13fa+-0xac7,Math['min'](_0x2aad3a,Math['floor']((_0x2817ac[_0x580da8*(-0x3*-0x647+-0x2457+0x381*0x5)+(-0x6aa*-0x2+-0x2248+0x14f6)]/_0x40133d*(0xb1c+0x87c+0x273*-0x8+0.5)+(-0xdd1+0x2228+-0x1457+0.5))*_0x2aad3a+(-0x2176*0x1+-0x119*-0x3+-0x1*-0x1e2b+0.5))));_0x3e938e[0x1cc9+-0x89d+-0x142c]=_0x40133d,_0x219133[_0x341963*(0x1260+-0xcce+0x2*-0x2c7)+(-0x6aa+-0x74e+0xdf8)]=_0x591c98[0x22fa+0x1*0x679+-0xdd1*0x3],_0x219133[_0x341963*(-0x531*-0x5+0x949*-0x2+-0x75f)+(0x152b+-0x31*0x28+-0xd82)]=_0x2817ac[-0x144f+-0x641*0x3+0x3*0xd06]<<0x234*0x8+-0x24b2+0x1327|_0x2817ac[-0x10f*0x15+0x21*-0x4f+0x206b]<<0x18bd+0x643+-0x1ef5|_0x2817ac[-0x1ad8+-0x19f3+0x34cd],_0x219133[_0x341963*(0x283*-0xa+-0x1981+0x1*0x32a3)+(0x1a7d+-0xc7*-0x17+-0x11*0x29c)]=_0x2817ac[0x260b*0x1+0x29*-0x3b+-0x1c95]<<-0xdb9+-0x1e8*0x14+0x33ee|_0x2817ac[0x3b9*-0x9+-0x80f*0x1+-0xddc*-0x3]<<-0x1*0x70a+-0x2*0x1121+0x2957|_0x2817ac[-0x1900+0x140c+0x1*0x4f9],_0x219133[_0x341963*(-0x6*-0x595+-0x1cc9+-0x4b1)+(-0x1*-0x2217+0x7c*0x2b+0xfb*-0x38)]=_0x2817ac[0x1*-0x2146+0x9bc+-0x68*-0x3a]<<-0x138b*-0x1+0x253f+-0x38b5|_0x2817ac[0x1abc+-0x11bf*-0x1+-0x2c74]<<0x2*0x40+0x12d8*0x2+-0x2625|_0x2817ac[0x19d+-0xd05+0xb70],_0x38100b>-0x1a*0x41+-0x623*0x6+0x2b6d&&(_0x45dda0[_0x341963*(0x3ab*-0x1+-0x19f*0x17+0x28f8)+(0x3*0x883+0xe0a+-0x2793)]=_0x2817ac[0x1a6c+0x6d*-0x23+-0xb7c]<<-0x4a2*0x2+0x1c63+-0x985*0x2|_0x2817ac[0x2fa*0xb+0xc*0x2b4+-0x4124]<<0x1899+0x3f6+0xe42*-0x2|_0x2817ac[0x81f+0x5*0x151+0x1b*-0x8b],_0x45dda0[_0x341963*(0x25*0x85+0x1363*-0x1+0x1*0x2e)+(0x48b+0x14b+-0x1*0x5d5)]=_0x2817ac[-0x395+0x408+0x1*-0x67]<<-0xa2b+-0x22bb+0x2cfb*0x1|_0x2817ac[0x29*0x79+0x3d*-0xf+-0xfc1]<<0x9ce+-0xf30+0x56d|_0x2817ac[0x5e7+-0x16f*-0x3+-0xa26],_0x45dda0[_0x341963*(-0xd7b+-0x2*-0x9cd+0x209*-0x3)+(0xcd2+0x599+-0x1269)]=_0x2817ac[-0x1d3b+-0x1861+0x35ab]<<-0x886*-0x4+-0x2a4+-0x3*0xa75|_0x2817ac[-0x1d98+-0x3*-0x131+0x1a15]<<0x1*0x8a5+0x26de+-0x8*0x5ef|_0x2817ac[-0xdbb+0xf*-0xf6+0x9d*0x2e],_0x45dda0[_0x341963*(-0x6*0x44f+0x107*-0x26+0x4*0x103a)+(0x100*-0x1b+0x22b1*-0x1+-0x2ce*-0x16)]=_0x2817ac[-0x1448*0x1+0x239+0x1221]<<-0x15*0x151+-0x3*0xcb+0x1e1b*0x1|_0x2817ac[0x1ab6+-0xefc+-0xba7]<<0x1*-0x121f+-0x79b+-0x897*-0x3|_0x2817ac[0x1d3e+-0x14*0x27+-0x1*0x1a1e],_0x38100b>0x1155+-0xd2d*-0x1+-0x1e80?(_0x1a7857[_0x341963*(0x2139+0x3ee+-0x2523)+(-0x1b+-0x87*0x42+-0x14b*-0x1b)]=_0x2817ac[0xfc1+0x14c1+-0x246d]<<-0xa3c+0x161f+0xbce*-0x1|_0x2817ac[-0x3ab+0x23d4+-0x2013]<<0x3*0x382+0x522*0x3+-0x19e1|_0x2817ac[0x157f*-0x1+0x1e1b+0x885*-0x1],_0x1a7857[_0x341963*(-0xcf6+0xae+0xc4c)+(-0x607+0xf05+-0x8fd*0x1)]=_0x2817ac[-0x1058+-0xa77+-0x61*-0x47]<<-0x534+0x4*-0xbb+0x1*0x835|_0x2817ac[-0xc10*-0x2+-0xf0f+-0x8f8]<<-0xe*0x1ff+0x81*-0x34+0x3631*0x1|_0x2817ac[0x3fd*0x1+-0xc2c+-0x65*-0x15],_0x1a7857[_0x341963*(0x1b90+0x1ee*0xd+0x1a51*-0x2)+(0x1*-0xce0+0x298*0xb+-0x1*0xfa6)]=_0x2817ac[0xd2c+0x7c9+-0x1*0x14da]<<-0x2e*-0xaa+0x133*0x15+0x1*-0x37a6|_0x2817ac[0xdd5*0x1+0x1d0f+-0x2ac8]<<0x12ae+-0xd2b*-0x1+-0x17*0x162|_0x2817ac[-0xe4b*0x2+-0x2*0xe33+0x3919],_0x1a7857[_0x341963*(0x132e+0x14a3+-0x17*0x1bb)+(0xce1+-0x1*0x1a97+0xdb9)]=_0x2817ac[0x144c+-0xa81+-0x9ad*0x1]<<-0x2*0x35+-0x32*-0x48+-0xd91|_0x2817ac[0x26a2+0x8*0x3e3+-0x1*0x459b]<<0x1796+0xf*0x1a4+-0x3027|_0x2817ac[-0x1e14+-0x172*-0x19+-0x5ee],_0xdd4c86[_0x341963*(-0x1d2+0x26e8+0x1a*-0x16d)+(-0xa66+0x2f+0x5*0x20b)]=_0x2817ac[-0xd4+-0xe6+0x5f*0x5]<<0x24*0xa7+0x21de+0x3*-0x1317|_0x2817ac[-0xe9*0x11+-0xc2f*0x2+0x27f9]<<-0x1*0xc15+-0x1*0x195c+0x2*0x12be|_0x2817ac[-0x51b+-0xeff*-0x2+-0x18c0],_0xdd4c86[_0x341963*(0x20c4+0x1838+0x2*-0x1c7c)+(-0xd*0x1eb+-0x1*0x94a+0x223a)]=_0x2817ac[0x1d*-0xb+0x1087+0xe4*-0x11]<<-0x1d99+-0x637*-0x6+-0x79c|_0x2817ac[0x1*-0x1103+-0x1*-0x7f1+0x937*0x1]<<0x2a*-0x56+-0x1*-0x33b+0xaec|_0x2817ac[0x1*-0x394+-0x1*-0x11fe+-0x4*0x391],_0xdd4c86[_0x341963*(-0x15f+-0x16d3*0x1+-0xc1b*-0x2)+(-0x1*0x14ea+-0x23b9+-0x38a5*-0x1)]=_0x2817ac[0x305*-0x4+0x21*-0x19+-0x17*-0xac]<<0x144*0x14+0x2653+-0x1*0x3f8e|_0x2817ac[0x1d09*-0x1+0x120b*0x1+-0x2*-0x593]<<0x3bf*-0x5+-0x208a+0x3350|_0x2817ac[-0x1b*0xc7+-0x12aa+-0x38*-0xb6],_0xdd4c86[_0x341963*(0x2195+0x21*0x99+0x1*-0x354a)+(-0x3*-0x7ac+0xa57+-0x58*0x61)]=_0x2817ac[0x109e+0x1183+0x21f7*-0x1]<<-0x205c+-0x1704+0x3775|_0x2817ac[0x676+-0x1*-0x12be+-0x1909*0x1]<<-0xe0f+-0x15*0x105+0x2383|_0x2817ac[0x3*-0x644+0x84+0x2*0x93a]):_0x1a7857[_0x341963]=_0x2817ac[-0x1*0x12f1+-0x196a+-0x8*-0x58e]<<0x1d63+0x237f+-0x40cd|_0x2817ac[-0x1daa+0x260d+-0x84d]<<0xd0b+0x1*0x263+-0x521*0x3|_0x2817ac[0x1373+0x9ef+-0x1d4b]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata','sh1to3Data':_0x219133,'sh4to7Data':_0x45dda0,'sh8to11Data':_0x1a7857,'sh12to15Data':_0xdd4c86},[_0x219133['buffer'],_0x45dda0['buffer'],_0x1a7857['buffer'],_0xdd4c86['buffer']]);};}class U1 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+z1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x4fbb11=>{if(!this['worker'])return;const {data:_0x36a8be}=_0x4fbb11;switch(_0x36a8be['type']){case'updatedSHD'+'ata':this['fire']('updatedSHD'+'ata',_0x36a8be['sh1to3Data'],_0x36a8be['sh4to7Data'],_0x36a8be['sh8to11Dat'+'a'],_0x36a8be['sh12to15Da'+'ta']);break;}};}['updateSHDa'+'ta'](_0x246786,_0xa7465f,_0x3ef850){var _0x515c4a;(_0x515c4a=this['worker'])==null||_0x515c4a['postMessag'+'e']({'type':'updateSHDa'+'ta','numSplats':_0x246786,'shBands':_0xa7465f,'SHData':_0x3ef850});}['destroy'](){var _0xe28290;this['worker']&&((_0xe28290=this['worker'])==null||_0xe28290['terminate'](),this['worker']=null);}}const U_=(_0x358341,_0x3952da)=>{const _0x15366b=[];for(let _0x228056=0x147b*0x1+0x949+0xfe*-0x1e;_0x228056<_0x3952da;++_0x228056)_0x15366b['push'](_0x358341['getProp']('f_rest_'+_0x228056));return _0x15366b;};class V1{constructor(_0x3d16cf,_0x155ea8){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'timeOption'),c(this,'centers'),c(this,'muT'),c(this,'tScale'),c(this,'motion'),c(this,'timeIndex'),c(this,'aabb'),c(this,'colorTextu'+'re'),c(this,'transformA'+'Texture'),c(this,'transformB'+'Texture'),c(this,'transformR'+'Texture'),c(this,'transformT'+'SpeedTextu'+'re'),c(this,'transformT'+'Texture'),c(this,'is4D'),c(this,'shBands'),c(this,'sh1to3Text'+'ure'),c(this,'sh4to7Text'+'ure'),c(this,'sh8to11Tex'+'ture'),c(this,'sh12to15Te'+'xture'),c(this,'updateData'+'Worker'),console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat');const _0x49646f=_0x155ea8['numSplats'];this['device']=_0x3d16cf,this['numSplats']=_0x49646f,this['numSplatsV'+'isible']=_0x49646f,this['updateData'+'Worker']=new U1(),this['centers']=new Float32Array(_0x155ea8['numSplats']*(-0xa86*0x2+0x39*0x65+-0x16e*0x1)),this['motion']=new Float32Array(_0x155ea8['numSplats']*(-0x123c+0x1*0x22bd+-0x107e)),this['timeIndex']=new Float32Array(_0x155ea8['numSplats']),_0x155ea8['getCenters'](this['centers']),_0x155ea8['getMotion'](this['motion']),_0x155ea8['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x155ea8['getMuT'](this['timeOption']),this['tScale']=_0x155ea8['getTScale'](),this['is4D']=_0x155ea8['is4D'],this['aabb']=new _e(),_0x155ea8['calcAabb'](this['aabb']);const _0x430d07=this['evalTextur'+'eSize'](_0x49646f);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x430d07),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x430d07),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x430d07),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x430d07),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x430d07),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x430d07)),this['updateColo'+'rData'](_0x155ea8),this['updateTran'+'sformData'](_0x155ea8),this['shBands']=_0x155ea8['shBands'],this['shBands']>0x1819+-0x11d0*0x2+0xe3*0xd&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x430d07),this['shBands']>0x87c+0x1*0xc92+-0x150d&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x430d07),this['shBands']>0x5fa*-0x2+0x1*0x745+0x4b1?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x430d07),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x430d07)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x430d07)),this['updateSHDa'+'ta'](_0x155ea8));}['updateData'](_0x363a37){console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplat');const _0x5b7f40=_0x363a37['numSplats'];this['numSplats']=_0x5b7f40,this['numSplatsV'+'isible']=_0x5b7f40,this['centers']=new Float32Array(_0x363a37['numSplats']*(-0x2500+-0x25e5*0x1+0x4ae8)),this['motion']=new Float32Array(_0x363a37['numSplats']*(-0x4*0x68+0x1*-0x1ac9+0x1c6c)),this['timeIndex']=new Float32Array(_0x363a37['numSplats']),_0x363a37['getCenters'](this['centers']),_0x363a37['getMotion'](this['motion']),_0x363a37['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x363a37['getMuT'](this['timeOption']),this['tScale']=_0x363a37['getTScale'](),this['is4D']=_0x363a37['is4D'],this['aabb']=new _e(),_0x363a37['calcAabb'](this['aabb']);const _0x3e0eb7=this['evalTextur'+'eSize'](_0x5b7f40);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x3e0eb7),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x3e0eb7),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x3e0eb7),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x3e0eb7),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x3e0eb7),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x3e0eb7)),this['updateColo'+'rData'](_0x363a37),this['updateTran'+'sformData'](_0x363a37),this['shBands']=_0x363a37['shBands'],this['shBands']>0x21a9+0x1218+-0x33c1&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x3e0eb7),this['shBands']>-0xb*-0xd5+0x1acf+-0x23f5&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x3e0eb7),this['shBands']>-0x22d6+0x205d+0x27b?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x3e0eb7),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x3e0eb7)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x3e0eb7)),this['updateSHDa'+'ta'](_0x363a37));}['destroy'](){var _0x395015,_0x450e40,_0x5cdc4c,_0x348680,_0x319a9d,_0x4235bf,_0x268bb4,_0x1ebe26,_0x2da520,_0x30a231;(_0x395015=this['colorTextu'+'re'])==null||_0x395015['destroy'](),(_0x450e40=this['transformA'+'Texture'])==null||_0x450e40['destroy'](),(_0x5cdc4c=this['transformB'+'Texture'])==null||_0x5cdc4c['destroy'](),(_0x348680=this['transformR'+'Texture'])==null||_0x348680['destroy'](),(_0x319a9d=this['transformT'+'SpeedTextu'+'re'])==null||_0x319a9d['destroy'](),(_0x4235bf=this['transformT'+'Texture'])==null||_0x4235bf['destroy'](),(_0x268bb4=this['sh1to3Text'+'ure'])==null||_0x268bb4['destroy'](),(_0x1ebe26=this['sh4to7Text'+'ure'])==null||_0x1ebe26['destroy'](),(_0x2da520=this['sh8to11Tex'+'ture'])==null||_0x2da520['destroy'](),(_0x30a231=this['sh12to15Te'+'xture'])==null||_0x30a231['destroy']();}['createMate'+'rial'](_0x84d135){console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.cre'+'ateMateria'+'l');const _0x46486a=z0(_0x84d135);return _0x46486a['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x46486a['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x46486a['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x46486a['setParamet'+'er']('transformR',this['transformR'+'Texture']),this['transformT'+'SpeedTextu'+'re']&&_0x46486a['setParamet'+'er']('transformT'+'Speed',this['transformT'+'SpeedTextu'+'re']),this['transformT'+'Texture']&&_0x46486a['setParamet'+'er']('transformT',this['transformT'+'Texture']),_0x46486a['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x46486a['setDefine']('SH_BANDS',this['shBands']),_0x46486a['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x46486a['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x46486a['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x46486a['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x46486a['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']),_0x46486a;}['evalTextur'+'eSize'](_0x1504e6){const _0x5105c3=Math['ceil'](Math['sqrt'](_0x1504e6)),_0x26a9f1=Math['ceil'](_0x1504e6/_0x5105c3);return new W(_0x5105c3,_0x26a9f1);}['createText'+'ure'](_0x26e8eb,_0x5d94dc,_0x5ae9a6){return new he(this['device'],{'name':_0x26e8eb,'width':_0x5ae9a6['x'],'height':_0x5ae9a6['y'],'format':_0x5d94dc,'cubemap':!(0x15*-0x17+0x81*0x13+-0x7af),'mipmaps':!(-0x1e27+0xf3d+0x1*0xeeb),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['updateColo'+'rData'](_0x942d89){console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x49d905=this['colorTextu'+'re'];if(!_0x49d905)return;const _0x17a1f3=Wt['float2Half'],_0xd05ce=_0x49d905['lock'](),_0x41b51d=_0x942d89['getProp']('f_dc_0'),_0x25c558=_0x942d89['getProp']('f_dc_1'),_0x4fcf59=_0x942d89['getProp']('f_dc_2'),_0x355106=_0x942d89['getProp']('opacity'),_0x1a2a3d=0x5*-0x685+0x263b*-0x1+-0x1*-0x46d4+0.28209479177387814;for(let _0x158d4d=0x1*0x2268+0x24bd+0x4725*-0x1;_0x158d4d<this['numSplats'];++_0x158d4d){const _0x3484a3=_0x41b51d[_0x158d4d]*_0x1a2a3d+(0x2*-0x11ea+-0x13*-0x66+0x1c42+0.5),_0x13a080=_0x25c558[_0x158d4d]*_0x1a2a3d+(0xcb7+0xfb5*0x1+-0x1c6c+0.5),_0x3b4b91=_0x4fcf59[_0x158d4d]*_0x1a2a3d+(0x1*0x25f+0x2*-0xc52+0x1645+0.5),_0x422a97=(0x125b+0x2250+-0x34aa)/(-0xa*-0x175+-0x11*-0x45+-0x1326+Math['exp'](-_0x355106[_0x158d4d]));_0xd05ce[_0x158d4d*(0x65b+-0x7b0+0x159)+(0x1*0x84a+-0x1a5*0x9+0x1*0x683)]=_0x17a1f3(_0x3484a3),_0xd05ce[_0x158d4d*(0x6ef*-0x5+0x1949+0x966)+(0x1119*-0x2+-0x15af+0x37e2)]=_0x17a1f3(_0x13a080),_0xd05ce[_0x158d4d*(0xece*0x1+0x21bf+0x5*-0x9b5)+(0x19ba+-0x270+-0x1748)]=_0x17a1f3(_0x3b4b91),_0xd05ce[_0x158d4d*(0x1*0x1d3+0x11*-0x98+0x849)+(-0x802+0x1*0x1c73+0x20b*-0xa)]=_0x17a1f3(_0x422a97);}_0x49d905['unlock']();}['updateTran'+'sformData'](_0x4af64c){var _0x2dd43a,_0x476970,_0x47dab2,_0x45d444;console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData');const _0x1d0fbf=Wt['float2Half'];if(!this['transformA'+'Texture'])return;const _0xbf873c=this['transformA'+'Texture']['lock'](),_0x17587c=new Float32Array(_0xbf873c['buffer']),_0x1386b1=this['transformR'+'Texture']['lock'](),_0x33f0b5=new Float32Array(_0x1386b1['buffer']),_0x3effc7=this['transformB'+'Texture']['lock'](),_0x29dfc9=(_0x2dd43a=this['transformT'+'SpeedTextu'+'re'])==null?void(-0x10*-0x1e+0x57*0x1d+-0xbbb):_0x2dd43a['lock']();let _0x12b5aa;_0x29dfc9&&(_0x12b5aa=new Float32Array(_0x29dfc9['buffer']));const _0x555a84=(_0x476970=this['transformT'+'Texture'])==null?void(0x64*0x5f+0xe94*0x2+-0x4244):_0x476970['lock']();let _0x23aae5;_0x555a84&&(_0x23aae5=new Float32Array(_0x555a84['buffer']));const _0x183aa8=new T(),_0x4fef9f=new se(),_0x59af9f=new T(),_0x7b741b=new T(),_0x2a9856=_0x4af64c['createIter'](_0x183aa8,_0x4fef9f,_0x59af9f,null,_0x7b741b),_0x4e0ec6=_0x4af64c['getProp']('t'),_0x411080=_0x4af64c['getProp']('t_scale');for(let _0x5d7d89=-0x1671+-0xa20+0x2091;_0x5d7d89<this['numSplats'];_0x5d7d89++)_0x2a9856['read'](_0x5d7d89),_0x4fef9f['normalize'](),_0x4fef9f['w']<-0x3*0x1ca+-0x2bc*0x2+-0x26*-0x49&&_0x4fef9f['mulScalar'](-(-0x8*0x419+-0x1*0x765+0x282e)),_0x17587c[_0x5d7d89*(0x10*0x30+0x26fe+-0x255*0x12)+(-0x22c6+0x22b*-0xd+0x3ef5)]=_0x183aa8['x'],_0x17587c[_0x5d7d89*(-0xa4*-0x8+-0x1333+0xe17*0x1)+(-0x76b+0x1*-0x26de+-0xf6e*-0x3)]=_0x183aa8['y'],_0x17587c[_0x5d7d89*(0x4*-0x9b8+0x62*-0x1+-0x1*-0x2746)+(0x25e9*-0x1+-0x1*0xe51+0x1*0x343c)]=_0x183aa8['z'],_0x3effc7[_0x5d7d89*(0x8*0x275+-0x2481+-0x59f*-0x3)+(-0x1bcd*0x1+-0x114a*-0x2+-0x6c7)]=_0x1d0fbf(_0x59af9f['x']),_0x3effc7[_0x5d7d89*(-0x1c4*-0x4+0xd8c+0x1*-0x1498)+(-0x27*0x36+-0x1f69+0x27a4)]=_0x1d0fbf(_0x59af9f['y']),_0x3effc7[_0x5d7d89*(-0x229f*-0x1+-0x171a+0x24d*-0x5)+(0x1c6b+0x2a9*0xd+-0x3efe)]=_0x1d0fbf(_0x59af9f['z']),_0x33f0b5[_0x5d7d89*(0x179d+0xd*0x2bd+-0x3b32)+(-0x200*-0xf+-0x1397+0x29*-0x41)]=_0x4fef9f['x'],_0x33f0b5[_0x5d7d89*(0xe*-0xe9+-0x1310*0x2+0x32e2)+(0x3*-0x709+-0x220d+0x3729)]=_0x4fef9f['y'],_0x33f0b5[_0x5d7d89*(0x2475+-0x8b*0x1e+-0x7*0x2e1)+(0x113b*0x1+0xf75+-0x20ae)]=_0x4fef9f['z'],this['is4D']&&_0x12b5aa&&_0x23aae5&&(_0x12b5aa[_0x5d7d89*(-0x1894+-0x5*0x111+0x1ded)+(-0x1f37+-0x6f4+-0x1*-0x262b)]=_0x7b741b['x'],_0x12b5aa[_0x5d7d89*(-0xd1+0xa35*-0x1+0x1*0xb0a)+(-0x1f49+-0x1*-0x1e5c+0x2*0x77)]=_0x7b741b['y'],_0x12b5aa[_0x5d7d89*(0x1*-0x228+0x7*0x17+-0x5*-0x4f)+(0x287*0x2+-0x2695+0x5*0x6b5)]=_0x7b741b['z'],_0x23aae5[_0x5d7d89*(0x16ea+-0x6ca*0x2+-0x952)+(0x1a6b*-0x1+0x189b*0x1+-0x3a*-0x8)]=_0x4e0ec6?_0x4e0ec6[_0x5d7d89]:-0x15cd*-0x1+-0x1ecb+-0x1*-0x8fe,_0x23aae5[_0x5d7d89*(-0x2*0x668+-0x1056+0x1d2a)+(0x601+-0x1ac1+0x14c1)]=_0x411080?Math['exp'](_0x411080[_0x5d7d89]):-0x13ec+0xb*0x8d+-0x49f*-0x3);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x47dab2=this['transformT'+'SpeedTextu'+'re'])==null||_0x47dab2['unlock'](),(_0x45d444=this['transformT'+'Texture'])==null||_0x45d444['unlock']();}['updateSHDa'+'ta'](_0x30a652){var _0x35029d,_0x16a724,_0x2950a4,_0x48d856,_0x10ce6f,_0x3ccf9a,_0x4d82d1;console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta');const _0x3bbd41=(_0x35029d=this['sh1to3Text'+'ure'])==null?void(-0x1933+-0xe9c+-0x81*-0x4f):_0x35029d['lock'](),_0x2c5442=(_0x16a724=this['sh4to7Text'+'ure'])==null?void(0x9*0xef+0x922+0x43*-0x43):_0x16a724['lock'](),_0x52807f=(_0x2950a4=this['sh8to11Tex'+'ture'])==null?void(-0x48*0x81+-0x1753*-0x1+0xcf5):_0x2950a4['lock'](),_0x5971b3=(_0x48d856=this['sh12to15Te'+'xture'])==null?void(0x1a*0xe9+0x21a8+-0x3952):_0x48d856['lock'](),_0xb613f2={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x351df0=U_(_0x30a652,_0xb613f2*(0x1423*-0x1+-0x2*0xcd6+0x2dd2)),_0x35b7c2=-0xf14+-0xcbe*0x1+0x1*0x23d1,_0x17fdc5=-0x1*0xb90+0x343*-0x1+-0x12d2*-0x1,_0x4d5fc6=new Float32Array(0x12*0x168+0xc61*0x3+-0x2*0x1f39),_0x4f17ea=new Uint32Array(_0x4d5fc6['buffer']),_0xd7282=new Array(_0xb613f2*(-0x25*-0xf7+0x1*0x1225+-0x1*0x35d5))['fill'](0x329*0x2+-0x1b9e+0x154c);for(let _0x69369=0x9a4+0x4a*0x81+-0x2eee;_0x69369<_0x30a652['numSplats'];++_0x69369){for(let _0x2b16d1=0x1e16+0x26af+-0x44c5;_0x2b16d1<_0xb613f2;++_0x2b16d1)_0xd7282[_0x2b16d1*(0xb1b*0x1+-0x11e+-0x4fd*0x2)]=_0x351df0[_0x2b16d1][_0x69369],_0xd7282[_0x2b16d1*(0xccb*0x1+0x3*0x63a+-0x1f76)+(0x24*0x107+0x2*-0xd9c+0x31*-0x33)]=_0x351df0[_0x2b16d1+_0xb613f2][_0x69369],_0xd7282[_0x2b16d1*(0x1a6b+-0x1eaf+0xdb*0x5)+(0x1b*-0x67+0x272+0x86d)]=_0x351df0[_0x2b16d1+_0xb613f2*(-0x2e3*-0xb+-0x1*-0x1139+-0x30f8)][_0x69369];let _0x56a239=_0xd7282[0x11b*-0x5+-0x127+0x6ae];for(let _0x14c980=-0x3*-0x555+-0x2*0xd0d+0x4*0x287;_0x14c980<_0xb613f2*(0xb01+-0x20c3+0x15c5);++_0x14c980)_0x56a239=Math['max'](_0x56a239,Math['abs'](_0xd7282[_0x14c980]));if(_0x56a239!==0x206a+-0x181*0x18+-0x3*-0x13a){for(let _0x19fb11=-0x3cf+0x1*0x486+-0xb7;_0x19fb11<_0xb613f2;++_0x19fb11)_0xd7282[_0x19fb11*(0x1c78+-0x1dd7+-0x76*-0x3)+(-0x1303+0x1*0xa9f+0x864)]=Math['max'](0x9c2*-0x3+-0x133*-0xb+0xb3*0x17,Math['min'](_0x35b7c2,Math['floor']((_0xd7282[_0x19fb11*(-0x24f0+0x1*-0x120e+0x3701)+(0x12*0x212+-0x2423*0x1+0x11*-0x11)]/_0x56a239*(0x11a1+0x2*0x9ff+-0x1*0x259f+0.5)+(-0xed5*-0x1+0x2533+-0x3408+0.5))*_0x35b7c2+(-0x2499+0x172+-0x2327*-0x1+0.5)))),_0xd7282[_0x19fb11*(0xe5b+0x1792*0x1+-0x2*0x12f5)+(-0x1*-0x1861+0x1505+-0x2d65)]=Math['max'](0x28d*0x2+-0x14d*-0x1+0x667*-0x1,Math['min'](_0x17fdc5,Math['floor']((_0xd7282[_0x19fb11*(-0x1*0x20ff+0x1127+0xfdb)+(-0x1024+-0x24b1+0x34d6)]/_0x56a239*(-0x5*0x445+-0x1e1f+0x3378+0.5)+(0x1837+0x26*0x4a+-0x2333+0.5))*_0x17fdc5+(-0xb*0x2d6+-0x265c+0x458e+0.5)))),_0xd7282[_0x19fb11*(0x1a1+0x1d7f+-0x1f1d)+(-0x1*0x239b+0x14bc+0xee1)]=Math['max'](-0x59d+-0x165b+-0x2cc*-0xa,Math['min'](_0x35b7c2,Math['floor']((_0xd7282[_0x19fb11*(0x1cd*0x11+0x7fa+-0xcdc*0x3)+(-0x110a+0x3*-0x6f1+0x25df*0x1)]/_0x56a239*(0x1cc6+-0x68*-0xa+0x1d3*-0x12+0.5)+(0x4f*-0x53+-0x3*0x81b+0x31ee+0.5))*_0x35b7c2+(0x10d7*-0x1+-0x419*0x3+0x1d22+0.5))));_0x4d5fc6[-0x1*-0x1015+0x34*0x1a+-0x1*0x155d]=_0x56a239,_0x3bbd41[_0x69369*(0xb2d*-0x1+-0xcf9*0x3+0x321c)+(0x1c77+-0x2313+-0x2*-0x34e)]=_0x4f17ea[0x1972+0x167b+-0x1*0x2fed],_0x3bbd41[_0x69369*(-0xd4e+0xda*-0x26+0x2dae)+(0x1c6+0x2bd*0x1+-0x482)]=_0xd7282[0x6f*-0x27+-0x1da5+0x2e8e]<<0x18f8*0x1+-0x34e+-0x1595|_0xd7282[-0xa*0x23c+0x61+-0x98*-0x25]<<0x1*-0x1412+0x2679+0x125c*-0x1|_0xd7282[0xe73+0x252e+-0x339f],_0x3bbd41[_0x69369*(-0x12a*-0x2+0xaaa+0xb*-0x12e)+(0x94d+-0xfcf+0x684)]=_0xd7282[0x1ee+0x21ba+-0x16d*0x19]<<0x1d3d+-0x2b9+-0x1a6f|_0xd7282[-0x12a3+-0xeb*-0x5+-0x2d0*-0x5]<<-0x8c7+-0x1*0x220a+-0x1*-0x2adc|_0xd7282[0x21a+0x1*0x1d89+-0x13*0x1aa],_0x3bbd41[_0x69369*(0x1*0x201f+-0x24b2+0x497)+(0x18d2+-0xc9b+-0xc34)]=_0xd7282[-0x25e2+-0x4*-0x408+0x44*0x52]<<-0xa9*0x11+-0x18a3+0xbfb*0x3|_0xd7282[-0x1*0xdab+-0x1e5d+0x1*0x2c0f]<<-0x244+-0x8*-0x88+-0x1f1|_0xd7282[0xc66+0xe39+-0x1a97],this['shBands']>-0x2602+-0x1*0x365+0x109*0x28&&(_0x2c5442[_0x69369*(0xe75+0xe*0x26b+0x1019*-0x3)+(-0xb*-0x351+-0xc1*0x29+-0x592)]=_0xd7282[0x1e8b+0x12*-0x13d+-0x838]<<-0xaeb+-0x18fa+0x23fa|_0xd7282[0x1209+0x1bdc+-0x2ddb]<<0x6*0x214+-0x1*-0x385+0x1*-0xff2|_0xd7282[-0x1193+0xa8e*0x2+-0x95*0x6],_0x2c5442[_0x69369*(-0xfa2+0x3a5+0xc01)+(0x197b+0x1493+-0x2e0d)]=_0xd7282[-0xb2b+-0xd1f*-0x2+0x1*-0xf07]<<0x11ba+-0x1537+-0x2*-0x1c9|_0xd7282[-0x2*-0x1361+0x1992+-0x4047]<<0x20a9+-0x1*0x1610+0x1*-0xa8e|_0xd7282[0x3a4+-0x1*-0x2579+-0x290f],_0x2c5442[_0x69369*(-0x170+-0x1*0x1423+0x1597)+(0x17*0x5b+-0x1d0e+0x1*0x14e3)]=_0xd7282[-0xa55*0x1+0x16b1+-0x43*0x2f]<<-0x22b+-0x116c+-0x4*-0x4eb|_0xd7282[-0x102d*0x1+0x685*0x1+0x9b8]<<0x1*-0xa02+0x266a+-0x1c5d|_0xd7282[0x1903+0x257+0x7f*-0x37],_0x2c5442[_0x69369*(-0xa7c+-0x1*0x24e3+-0x6c5*-0x7)+(-0xb11+-0x1553*-0x1+-0xa3f)]=_0xd7282[0x68b+0x186a+-0x1ee3]<<-0x1ec6+0xe*0x26e+-0x329|_0xd7282[0x2*0xaab+-0x1227+-0x31c]<<-0xb8a+0xb*0xd+0x11*0xa6|_0xd7282[-0x1b2b+0x1f93+-0x454],this['shBands']>0x891+0x1db1*0x1+-0x60*0x66?(_0x52807f[_0x69369*(0x203d+0x16e4+-0x125f*0x3)+(-0xc91*0x1+0x23b5+-0x1724)]=_0xd7282[0x1872+0x2b*0x64+-0x2929]<<0x1cb*-0x15+-0x4c*0x25+-0xc2e*-0x4|_0xd7282[0x84*0x2f+-0x9e6*0x1+-0xe40]<<-0x2*0xa57+0xf*0x133+-0x5*-0x8c|_0xd7282[-0x1a25+0x1687+0x3b5*0x1],_0x52807f[_0x69369*(0x1463+0x1b3f+-0x2e*0x109)+(0x11*-0x1e+0xb15+-0x916*0x1)]=_0xd7282[0x1035+-0x26b6+-0x1bd*-0xd]<<-0x49f+-0x1c+0x2*0x268|_0xd7282[0x29*0xd3+-0x1582*-0x1+-0x2*0x1b9a]<<0x1af*-0x7+0x1*0x943+0x291|_0xd7282[-0x1bab+0x5*0x72b+0x409*-0x2],_0x52807f[_0x69369*(0x36b*0x2+0x75*0x11+-0x3*0x4dd)+(-0x79f*0x5+0x2072*0x1+0x5ab)]=_0xd7282[-0x24e9+-0x107*-0xd+-0x3*-0x7e3]<<0x1237+-0x929*-0x2+-0x123a*0x2|_0xd7282[0x2090+0x11*0x35+-0x23f9]<<0x2240+-0x26c+-0x1fc9|_0xd7282[-0x2*-0xc3e+0x2392+-0x3bf1],_0x52807f[_0x69369*(-0x9*-0x380+-0x2*0x506+-0x2ae*0x8)+(-0x33*0x47+0x39a*0x8+-0xea8)]=_0xd7282[0x1490+-0x244f+0x83*0x1f]<<-0x3*-0x24d+-0x9a3+-0x7*-0x67|_0xd7282[-0x51*-0x33+0xd*-0x279+-0x1*-0x1021]<<0x196d+0x4*-0x2ad+-0x2*0x757|_0xd7282[0x19a8+0xb6a+-0x24f2],_0x5971b3[_0x69369*(0xcdd*0x3+0xb0*0xb+-0x17d*0x1f)+(0x1c79+-0x17da+-0x49f)]=_0xd7282[0x44c*0x2+-0x1749+0xed2]<<0x82*0xd+-0x19db+0x1e*0xa5|_0xd7282[0xfb9+-0x2eb+-0x2*0x656]<<-0x315*-0x4+0x83d+-0x1486|_0xd7282[-0xb83+-0x3*-0x21a+0x558],_0x5971b3[_0x69369*(-0x991+0xa54*0x2+-0xb13)+(0x1*-0x261f+0x73*0x1+-0x25ad*-0x1)]=_0xd7282[0x232+-0x3b*-0x22+-0x9e4]<<0x140d+0x3fb*0x1+-0x17f3|_0xd7282[0x1*-0x59a+-0x6ed+0xcac]<<0x1a90+-0x139*0x19+0x40c|_0xd7282[0x5*0x32d+0x1*-0xe13+0xd4*-0x2],_0x5971b3[_0x69369*(0x14b0+-0x6*0x3df+0x3*0xda)+(0xb*-0x315+0x2297+-0xae)]=_0xd7282[-0x2*-0x43e+0xa6*-0x1f+0x1*0xbc5]<<0x12c+-0xe97+0xd80|_0xd7282[-0x84d*0x1+-0x1051*0x2+0x43*0x9d]<<0x1*0x17d6+-0x86*-0xb+-0x1d8d|_0xd7282[0x2*-0x79d+-0x4*-0x8c3+-0x1*0x13a9],_0x5971b3[_0x69369*(0x15ad+-0x11b5+-0xb*0x5c)+(-0x198d+0x2027+-0x7*0xf1)]=_0xd7282[0x1e01+-0x22aa*-0x1+-0x4081*0x1]<<0xbd4+0xa80+-0x43*0x55|_0xd7282[0x3fa+-0x6f*-0x2b+-0xc*0x1df]<<0x4b1*-0x8+-0x1*0x1003+-0x1acb*-0x2|_0xd7282[0x12e6+0x1*0x1a03+-0x2cbd*0x1]):_0x52807f[_0x69369]=_0xd7282[0x982*-0x1+-0x1aa0+0x1*0x2437]<<-0x1dcb+-0x1*0x138b+0x3*0x1079|_0xd7282[0x5e4+-0xe51*-0x1+-0x141f]<<0x539+0xe7a+-0x13a8|_0xd7282[0x1*0x18e1+-0x1a85+0x1*0x1bb]);}}this['sh1to3Text'+'ure']['unlock'](),(_0x10ce6f=this['sh4to7Text'+'ure'])==null||_0x10ce6f['unlock'](),(_0x3ccf9a=this['sh8to11Tex'+'ture'])==null||_0x3ccf9a['unlock'](),(_0x4d82d1=this['sh12to15Te'+'xture'])==null||_0x4d82d1['unlock']();}['updateSHDa'+'taByWorker'](_0x18d549){const _0x1715c0={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x7274b0=U_(_0x18d549,_0x1715c0*(-0x2*0x202+0x2*0xced+0x97*-0x25));this['updateData'+'Worker']['updateSHDa'+'ta'](_0x18d549['numSplats'],this['shBands'],_0x7274b0),this['updateData'+'Worker']['on']('updatedSHD'+'ata',(_0x273084,_0x1518bc,_0x1d04d9,_0x14f006)=>{var _0x4597ec,_0x35aee2,_0x3ebb1e,_0x33bcf1,_0x54a028,_0x35d03f,_0x1d0465,_0x439652,_0x46be13,_0x4190b8;const _0x57c63e=(_0x4597ec=this['sh1to3Text'+'ure'])==null?void(-0xb*0x35e+0x32e*0x3+0x1b80):_0x4597ec['lock']();if(new Uint32Array(_0x57c63e['buffer'])['set'](_0x273084),(_0x35aee2=this['sh1to3Text'+'ure'])==null||_0x35aee2['unlock'](),this['shBands']>-0x737+0x1*-0xf9b+0x16d3){const _0x461f42=(_0x3ebb1e=this['sh4to7Text'+'ure'])==null?void(0xb38*-0x3+0x2417*-0x1+0x45bf):_0x3ebb1e['lock']();if(new Uint32Array(_0x461f42['buffer'])['set'](_0x1518bc),(_0x33bcf1=this['sh4to7Text'+'ure'])==null||_0x33bcf1['unlock'](),this['shBands']>0x2*0xe49+0x1*-0xcc1+-0xfcf){const _0x415a1e=(_0x54a028=this['sh8to11Tex'+'ture'])==null?void(0xffd+-0x25a*-0xa+-0x2781):_0x54a028['lock']();new Uint32Array(_0x415a1e['buffer'])['set'](_0x1d04d9),(_0x35d03f=this['sh8to11Tex'+'ture'])==null||_0x35d03f['unlock']();const _0x2579de=(_0x1d0465=this['sh12to15Te'+'xture'])==null?void(-0x2ac*0x2+0x19f7+-0x149f):_0x1d0465['lock']();new Uint32Array(_0x2579de['buffer'])['set'](_0x14f006),(_0x439652=this['sh12to15Te'+'xture'])==null||_0x439652['unlock']();}else{const _0x52147f=(_0x46be13=this['sh8to11Tex'+'ture'])==null?void(0x1*-0x237+-0x1688+0x18bf):_0x46be13['lock']();new Uint32Array(_0x52147f['buffer'])['set'](_0x1d04d9),(_0x4190b8=this['sh8to11Tex'+'ture'])==null||_0x4190b8['unlock']();}}});}}async function G1(){let _0x1a8e39=null,_0x4ab583=null,_0x323936=null,_0x37025a=null,_0x37a717=null,_0x100503=null,_0x3487d1=null,_0x115355=null,_0x58968e=null,_0x27ac64=null,_0x1dc573=null,_0x11eb93=null,_0x306e21=null,_0x2b3b4d=null,_0x106fdc=null,_0x4f58ae=null,_0x4555f8=null,_0x459c2b=null,_0x57533f=null,_0x2c5e75=null,_0x29a875=null,_0x4cefcb=null,_0x4dc2b9=null,_0x2f6a9f=null,_0x50d49e=null,_0x3a7be1=Float32Array['BYTES_PER_'+'ELEMENT'],_0x2a7008=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x271e81=0x2*-0xb47+-0x12b9+-0x2947*-0x1,_0x45c710=!(-0x2cf*0x1+-0x1bff+0x1ece*0x1),_0x48c54b,_0x363545,_0x4b9675={'x':0x0,'y':0x0,'z':0x0},_0x1c8899={'x':0x0,'y':0x0,'z':0x0},_0xc645bb=!(0x26b1+-0x1*0x102f+-0x1682),_0x742199=!(0x2*-0xc60+0x97b*-0x3+-0x26b*-0x16),_0x524874=!(-0xc9d+-0x1*-0x256a+0x17*-0x114),_0xf16aa1=0xc93+-0xef3+0x260,_0x205a87=-0xee1+0x26a9*0x1+-0xbe4*0x2,_0x891739=!(0x177f*0x1+0x539+-0x1*0x1cb7),_0x2f7629=null;self['onmessage']=async _0x3c0a88=>{const {data:_0x18b5ce}=_0x3c0a88;switch(_0x18b5ce['type']){case'initWorker':_0x271e81=_0x18b5ce['numSplats'],_0x9b1d09(),_0x45c710=_0x18b5ce['is4d'],await _0x229b2a(_0x18b5ce['sortWasmUr'+'l']),_0x10277b(),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x18b5ce['dataReady']){if(_0x100503&&_0x18b5ce['centers']&&_0x100503['length']===_0x18b5ce['centers']['length']){const _0x362aae=new Float32Array(_0x18b5ce['centers']);_0x100503['set'](_0x362aae);}if(_0x58968e&&_0x18b5ce['timeIndex']&&_0x58968e['length']===_0x18b5ce['timeIndex']['length']){const _0x507402=new Uint32Array(_0x18b5ce['timeIndex']);_0x58968e['set'](_0x507402);}if(_0x11eb93&&_0x18b5ce['motion']&&_0x11eb93['length']===_0x18b5ce['motion']['length']){const _0x31677d=new Float32Array(_0x18b5ce['motion']);_0x11eb93['set'](_0x31677d);}if(_0x45c710&&_0x27ac64&&_0x1dc573&&_0x18b5ce['muT']&&_0x18b5ce['tScale']&&_0x27ac64['length']===_0x18b5ce['muT']['length']&&_0x1dc573['length']===_0x18b5ce['tScale']['length']&&(_0x27ac64['set'](_0x18b5ce['muT']),_0x1dc573['set'](_0x18b5ce['tScale'])),_0x3487d1){for(let _0x39bd54=0x1*0xc3d+0xfb9+-0x3*0x952;_0x39bd54<_0x3487d1['length'];++_0x39bd54)_0x3487d1[_0x39bd54]=_0x39bd54;}_0x37a717&&_0x18b5ce['timeOption']&&_0x37a717['set'](_0x18b5ce['timeOption']),setTimeout(()=>{_0x164a9b();},-0x246b+0x1e5d+0x60e);}break;case'setTime':_0x48c54b=_0x18b5ce['time'],_0xf895f4();break;case'setUseTemp'+'oralSort':_0xc645bb=_0x18b5ce['useTempora'+'lSort'];break;case'sort':if(!_0x323936)return;_0x323936[0x245c+-0x1*-0x36b+-0x27c7]=_0x18b5ce['cameraPosi'+'tion']['x'],_0x323936[0x24c6+0x1dd7+-0xe*0x4c2]=_0x18b5ce['cameraPosi'+'tion']['y'],_0x323936[-0x1*0x10fc+-0x1*0x21b2+0x32b0]=_0x18b5ce['cameraPosi'+'tion']['z'],_0x37025a[0x1201+0x67d+-0x187e]=_0x18b5ce['cameraDire'+'ction']['x'],_0x37025a[-0x9*0xa3+-0xcc7*-0x2+-0x1*0x13d2]=_0x18b5ce['cameraDire'+'ction']['y'],_0x37025a[0x164f*-0x1+-0x2504+0x3b55]=_0x18b5ce['cameraDire'+'ction']['z'],_0xf895f4();break;}};const _0xf895f4=()=>{_0x2f7629&&clearTimeout(_0x2f7629),_0x2f7629=setTimeout(()=>{_0x2f7629=null,_0xadd9ee();},-0x18c0+0x2442+-0xb82);},_0x9b1d09=()=>{_0x205a87=Math['max'](-0x250d+-0x6*0x5a6+-0x1b*-0x2a1,Math['min'](-0xf84+-0x2286+-0x2*-0x190f,Math['round'](Math['log2'](_0x271e81/(-0xc1*0x23+0x155f*-0x1+0x2fc6))))),_0xf16aa1=(-0x4*-0x50e+0xeb6+-0x22ec)**_0x205a87+(0x2063+-0x823+-0x183f);},_0x10277b=()=>(_0x306e21=0x1a8e+0x1d87+-0x3815,_0x2b3b4d=_0x306e21+_0x271e81*_0x3a7be1*(-0xad3+-0x3*-0x627+-0x79f*0x1),_0x57533f=_0x2b3b4d+(-0xb*0x119+0x50*0xe+-0x817*-0x1)*_0x3a7be1*(-0x3*0xb59+-0x1*0xbb6+0x2dc3),_0x2c5e75=_0x57533f+_0x271e81*_0x2a7008,_0x29a875=_0x2c5e75+(-0x2f0*-0xd+0x4ad+0x5*-0x892)*_0x3a7be1,_0x4cefcb=_0x29a875+(-0xe56+0x3ce+0xa8b*0x1)*_0x3a7be1,_0x4dc2b9=_0x4cefcb+(-0x21a7+-0x24e5+0x468f)*_0x3a7be1,_0x2f6a9f=_0x4dc2b9+(0x1*-0x1b29+-0x1f*-0xc1+-0x7*-0x8b)*_0x3a7be1,_0x50d49e=_0x2f6a9f+_0x271e81*_0x2a7008,_0x100503=new Float32Array(_0x4ab583,_0x306e21,_0x271e81*(-0x91*0xe+-0x29*0x31+0x2b*0x5e)),_0x37a717=new Float32Array(_0x4ab583,_0x2b3b4d,(-0x22ba+-0x1*0x44d+0x276b)*(-0x1873*-0x1+-0x1*-0x72b+0x1*-0x1f9c)),_0x3487d1=new Uint32Array(_0x4ab583,_0x57533f,_0x271e81),_0x115355=new Uint32Array(_0x3487d1),_0x323936=new Float32Array(_0x4ab583,_0x2c5e75,-0xd81*0x1+-0x1c80+0x2a04),_0x37025a=new Float32Array(_0x4ab583,_0x29a875,0x1108+0x337*0x4+-0x1de1),_0x45c710&&(_0x4555f8=_0x50d49e+_0xf16aa1*_0x2a7008,_0x459c2b=_0x4555f8+_0x271e81*_0x3a7be1,_0x4f58ae=_0x459c2b+_0x271e81*_0x3a7be1,_0x106fdc=_0x4f58ae+_0x271e81*(-0x12f*-0xe+-0x45*-0x9+-0x12fc)*_0x3a7be1,_0x27ac64=new Float32Array(_0x4ab583,_0x4555f8,_0x271e81),_0x1dc573=new Float32Array(_0x4ab583,_0x459c2b,_0x271e81),_0x11eb93=new Float32Array(_0x4ab583,_0x4f58ae,_0x271e81*(0x1a88+-0x82f*-0x1+-0x22b4)),_0x58968e=new Uint32Array(_0x4ab583,_0x106fdc,_0x271e81)),{'sharedMemory':_0x4ab583,'layout':{'timeOptionPtr':_0x2b3b4d,'timeIndexPtr':_0x106fdc,'centersPtr':_0x306e21,'motionPtr':_0x4f58ae,'muTPtr':_0x4555f8,'tScalePtr':_0x459c2b,'orderPtr':_0x57533f,'cameraPositionPtr':_0x2c5e75,'cameraDirectionPtr':_0x29a875,'boundMinPtr':_0x4cefcb,'boundMaxPtr':_0x4dc2b9,'distancesPtr':_0x2f6a9f,'countBufferPtr':_0x50d49e}}),_0x229b2a=async _0x23ce28=>{let _0x16db17=_0x271e81*_0x3a7be1*(-0x1f61*-0x1+-0x1e32+-0x12c);_0x16db17+=_0x271e81*_0x2a7008,_0x16db17+=(0x1f1f*-0x1+0x6f6+0x182c)*_0x3a7be1,_0x16db17+=(0x1*-0x2132+0xd87*-0x1+0x2ebc)*_0x3a7be1,_0x16db17+=(-0x25*-0x10b+-0x1a28+-0xc6c)*_0x3a7be1,_0x16db17+=(0x29*-0x48+-0xb*0x2dd+0x2b0a)*_0x3a7be1,_0x16db17+=_0x271e81*_0x3a7be1,_0x16db17+=_0xf16aa1*_0x2a7008,_0x16db17+=(-0x5a1*0x3+-0x195e+0x2aa5)*_0x3a7be1*(-0x2*-0xe84+-0x279+-0x1a8d*0x1),_0x16db17+=_0x271e81*_0x2a7008,_0x45c710&&(_0x16db17+=_0x271e81*_0x3a7be1,_0x16db17+=_0x271e81*_0x3a7be1,_0x16db17+=_0x271e81*_0x3a7be1*(0x12f1*0x1+-0xf9*0x9+-0xa2d));const _0x3cfc5a=(-0x3*-0x2af+-0x6*-0x323+-0x1a9f)*(-0x16ac+-0x249a+0x3f46),_0xd86460=Math['ceil'](_0x16db17/_0x3cfc5a),_0x367c08={'env':{'memory':new WebAssembly['Memory']({'initial':_0xd86460,'maximum':_0xd86460,'shared':!(-0x1dd4+0x148c+0xd8*0xb)}),'pthread_self':function(){return 0xd07*-0x1+-0x125*-0x1b+-0x11e0;},'emscripten_builtin_memalign':function(){return 0x265+-0x1818+0x15b3;},'loggerVec3':(_0x21f6b1,_0x2f1573,_0x9a1f29,_0x3dbfdd)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x21f6b1+']\x200:'+_0x2f1573+'\x201:'+_0x9a1f29+'\x202:'+_0x3dbfdd);},'loggerFloat':(_0x18427d,_0x2e88a4)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x18427d+']\x20a:'+_0x2e88a4);},'loggerValue':(_0x13dfe7,_0x5d0bd4,_0x35aefe,_0x20d949,_0x4203b0)=>{console['log']('C++\x20logger'+'Value\x20['+_0x13dfe7+']\x20minDist:'+_0x5d0bd4+'\x20maxDist:'+_0x35aefe+'\x20range:'+_0x20d949+'\x20divider:'+_0x4203b0);},'loggerCamera':(_0xf6f5b6,_0x57d526,_0x1f69cd,_0x328eb9,_0x4a7ea3,_0x19a265,_0x5a1614)=>{console['log']('C++\x20logger'+'Camera\x20['+_0xf6f5b6+']\x20x:'+_0x57d526+'\x20y:'+_0x1f69cd+'\x20z:'+_0x328eb9+'\x20dx:'+_0x4a7ea3+'\x20dy:'+_0x19a265+'\x20dz:'+_0x5a1614);},'loggerBound':(_0x571754,_0x4313b4,_0x5b3963,_0xfda90e,_0x148d77,_0x52a344)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x571754+'\x20minY:'+_0x4313b4+'\x20minZ:'+_0x5b3963+'\x20maxX:'+_0xfda90e+'\x20maxY:'+_0x148d77+'\x20maxZ:'+_0x52a344);},'loggerDebug':_0x2c6de3=>{console['log']('C++\x20logger'+'Debug\x20['+_0x2c6de3+']');}}};try{const _0x4ea460=await(await fetch(_0x23ce28))['arrayBuffe'+'r']();return _0x1a8e39=(await WebAssembly['instantiat'+'e'](_0x4ea460,_0x367c08))['instance'],_0x4ab583=_0x367c08['env']['memory']['buffer'],_0x1a8e39;}catch(_0x4611fd){throw console['error']('WASM'+':',_0x4611fd),_0x4611fd;}},_0x164a9b=()=>{if(!_0x1a8e39)return;const {calcAABB:_0x5d0316}=_0x1a8e39['exports'];_0x5d0316(_0x306e21,_0x4cefcb,_0x4dc2b9,_0x271e81);},_0xadd9ee=()=>{if(!_0x1a8e39||_0x57533f===null||_0x306e21===null||_0x2c5e75===null||_0x29a875===null||_0x4cefcb===null||_0x4dc2b9===null)return;const _0x91cb21=_0x323936[0xb12+0x1093+-0x937*0x3],_0x3b74fd=_0x323936[0x28*-0xd7+-0x110a+0x95*0x57],_0x67146d=_0x323936[0x62d+0x1*-0x1032+-0xa07*-0x1],_0x5855d4=_0x37025a[0x181a*-0x1+-0x49f+-0x3*-0x993],_0x57ded9=_0x37025a[-0x39f+0x1fd8+0x387*-0x8],_0x4e9c5e=_0x37025a[0x1f75+-0x1981+-0x2*0x2f9],_0x40cd6f=-0x231f+0x5ab*0x5+-0x4*-0x1b2+0.001;if(!_0x742199&&Math['abs'](_0x91cb21-_0x4b9675['x'])<_0x40cd6f&&Math['abs'](_0x3b74fd-_0x4b9675['y'])<_0x40cd6f&&Math['abs'](_0x67146d-_0x4b9675['z'])<_0x40cd6f&&Math['abs'](_0x5855d4-_0x1c8899['x'])<_0x40cd6f&&Math['abs'](_0x57ded9-_0x1c8899['y'])<_0x40cd6f&&Math['abs'](_0x4e9c5e-_0x1c8899['z'])<_0x40cd6f&&Math['abs'](_0x48c54b-_0x363545)<0xbfe+0x1*0xd9a+-0x7*0x3a8+0.01)return;if(_0x524874){_0x891739=!(0x1e66+0x2*-0x1b2+-0x1b02*0x1);return;}_0x524874=!(0x181+-0xb56+-0x9d5*-0x1),_0x742199=!(0x1233+-0x1*-0x1359+-0x258b),_0x363545=_0x48c54b,_0x4b9675['x']=_0x91cb21,_0x4b9675['y']=_0x3b74fd,_0x4b9675['z']=_0x67146d,_0x1c8899['x']=_0x5855d4,_0x1c8899['y']=_0x57ded9,_0x1c8899['z']=_0x4e9c5e,_0x891739=!(0xa19+-0x36a*-0xa+-0xb0f*0x4);const {sortIndexes:_0x243839}=_0x1a8e39['exports'];try{const _0x13c7d0=_0x243839(_0x57533f,_0x306e21,_0x4f58ae,_0x4555f8,_0x459c2b,_0x2c5e75,_0x29a875,_0x4cefcb,_0x4dc2b9,_0x2f6a9f,_0x50d49e,_0x48c54b,_0xc645bb,_0x45c710,_0x271e81,_0xf16aa1,_0x205a87,_0x2b3b4d,_0x106fdc);_0x115355['set'](_0x3487d1),self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x13c7d0,'order':_0x115355});}catch(_0x128612){console['error'](':',_0x128612),self['postMessag'+'e']({'type':'error','error':_0x128612['message']});}_0x524874=!(-0x2f*-0x8a+-0x576+-0x13df),_0x891739&&_0xf895f4();};}class H1 extends ce{constructor(_0x54495d,_0x2570c8=!(0x7*0xc0+0x3*0xb07+-0x2655)){super(),c(this,'worker',null),c(this,'numSplats',0x6d0+0x981+0x1051*-0x1),c(this,'is4d',!(0x5*0x77d+-0x17a8+-0xdc9)),c(this,'sortStartT'+'ime',-0x2*-0xc9d+-0x9*0x1f5+0x1*-0x79d),c(this,'orderTextu'+'re'),(this['numSplats']=_0x54495d,this['is4d']=_0x2570c8,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+G1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x425091=>{if(!this['worker'])return;const {data:_0x37dea2}=_0x425091;switch(_0x37dea2['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':if(_0x37dea2['order']){const _0xb5aa98=this['orderTextu'+'re']['lock']();new Uint32Array(_0xb5aa98['buffer'])['set'](_0x37dea2['order']),this['orderTextu'+'re']['unlock']();}let _0x5d3f1f=-0x252c+0x1587+0xfa5;this['sortStartT'+'ime']!==0x2181+0x50*0x6f+-0x4431&&(_0x5d3f1f=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x425091['data']['count'],_0x5d3f1f),this['sortStartT'+'ime']=-0xb43+0x224e+-0x1*0x170b;break;case'error':console['error']('Worker:',_0x37dea2['error']),this['fire']('error',_0x37dea2['error']);break;}};const _0x4eea00=('https://4dv-frontend.oss-cn-hangzhou.aliyuncs.com/dist/viewer/1748318561813/sorter.wasm');this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':_0x4eea00,'numSplats':this['numSplats'],'is4d':this['is4d']});}['initData'](_0x5d4a5b,_0x28b8fd,_0x443955,_0x4f4370,_0x378f86,_0x257904,_0x4b2bc7){var _0x2fc655;(!_0x4b2bc7||_0x4b2bc7['length']===0xc9b+0x52c+-0x11c7)&&(_0x4b2bc7=[-0x49*-0x47+-0x2*0xdf6+0x7ad*0x1,-0x839+0x199*-0x1+0xa0e]),this['orderTextu'+'re']=_0x5d4a5b,(_0x2fc655=this['worker'])==null||_0x2fc655['postMessag'+'e']({'type':'initData','centers':_0x28b8fd,'muT':_0x443955,'tScale':_0x4f4370,'motion':_0x378f86,'timeIndex':_0x257904,'timeOption':_0x4b2bc7,'dataReady':!(-0x1538+0x1*-0x1c33+0x316b)});}['resize'](_0x5d38bf){this['destroy'](),this['numSplats']=_0x5d38bf,this['_initWorke'+'r']();}['setCamera'](_0x1f7852,_0x5b7db9){this['worker']&&(this['sortStartT'+'ime']===0x20e*0x1+0x15be+-0x17cc&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x1f7852['x'],'y':_0x1f7852['y'],'z':_0x1f7852['z']},'cameraDirection':{'x':_0x5b7db9['x'],'y':_0x5b7db9['y'],'z':_0x5b7db9['z']}}));}['setCurrent'+'Time'](_0x5b22dd){this['worker']&&(this['sortStartT'+'ime']===0x1969+-0x2355+0x9ec&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x5b22dd}));}['setUseTemp'+'oralSort'](_0x5377e6){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x5377e6});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const W1=new q(),On=new T(),kn=new T(),Gl=[0x1*-0x1e02+-0x1*-0x17cd+0x7*0xe3,-0x8d7+-0x28c*-0xa+-0x10a1];class Np{constructor(_0x2cb862,_0x189070){c(this,'splat'),c(this,'mesh'),c(this,'meshInstan'+'ce'),c(this,'material'),c(this,'orderTextu'+'re'),c(this,'options',{}),c(this,'sorter',null),c(this,'time',0x10b2+-0x9*0xbb+-0xa1f),c(this,'lastCamera'+'Position',new T()),c(this,'lastCamera'+'Direction',new T()),c(this,'cameras',[]),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x2cb862['numSplats']),this['splat']=_0x2cb862,this['options']=Object['assign'](this['options'],_0x189070));const _0x186f84=_0x2cb862['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x2b609d=0xfd1*-0x1+0x6*0x2fc+-0x197,_0x18d6b5=Math['ceil'](_0x2cb862['numSplats']/_0x2b609d)*_0x2b609d/_0x2b609d,_0x20c168=new Uint32Array(_0x18d6b5);for(let _0x27199d=-0x6*0x203+0x1d82+-0x1170;_0x27199d<_0x18d6b5;++_0x27199d)_0x20c168[_0x27199d]=_0x27199d*_0x2b609d;const _0x5e37cb=new Et(_0x186f84,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(0x1289+-0x1*0x1223+0x1*-0x66)}]),_0x14051f=new os(_0x186f84,_0x5e37cb,_0x18d6b5,{'usage':jt,'data':_0x20c168['buffer']}),_0x27215a=new Float32Array((-0x691+0x1af+-0x1*-0x4ee)*_0x2b609d),_0x4ccfa1=new Uint32Array((-0x62*-0x23+0x1*0x22+-0xd82)*_0x2b609d);for(let _0x45c858=-0x3d1*0x3+-0x637+0x11aa;_0x45c858<_0x2b609d;++_0x45c858){_0x27215a['set']([-(-0xcf1+0x484+-0xa6*-0xd),-(-0x1b*0x132+-0x124f*0x1+0x3296),_0x45c858,-0x1457+-0x2*-0x114a+-0xe3c,-(0x22de+0x1a5c+-0x3d39),_0x45c858,0x694+0x2496+0x57*-0x7f,-0x8b6+-0x769+-0xc*-0x158,_0x45c858,-(0x8e*-0x30+0xef*-0x5+0x1*0x1f4c),-0x17fd+-0x417*0x1+0x229*0xd,_0x45c858],_0x45c858*(-0x1*0x195e+-0x119+0x1a83));const _0x22ff49=_0x45c858*(0x196d+-0x2196+-0x17*-0x5b);_0x4ccfa1['set']([-0x8e1+0xf23+0x12*-0x59+_0x22ff49,-0x6a1*0x5+-0x2521+0x176d*0x3+_0x22ff49,0x3*-0x2e3+-0x24a9*0x1+0x2d54+_0x22ff49,0x196c+-0x65c+-0x131*0x10+_0x22ff49,0x1*-0x337+-0x110c+0x1445+_0x22ff49,0x1ad*0x7+0x9f*0x37+-0x2de1+_0x22ff49],_0x45c858*(0x2a*0x6c+0xaf*-0x35+0x1289));}const _0x5acea4=new Ie(_0x186f84);_0x5acea4['setPositio'+'ns'](_0x27215a,0x1*0xe11+0x1993+-0x27a1),_0x5acea4['setIndices'](_0x4ccfa1),_0x5acea4['update'](),this['mesh']=_0x5acea4,this['mesh']['aabb']['copy'](_0x2cb862['aabb']),this['meshInstan'+'ce']=new Le(this['mesh'],this['material']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x14051f,!(-0x2b*-0x84+-0x26ce+0x2*0x851)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=0x1fe1*-0x1+-0x4b2*-0x2+0x3*0x77f,(!_0x189070['dither']||_0x189070['dither']===Rs)&&(this['sorter']=new H1(this['splat']['numSplats'],this['splat']['is4D']),this['sorter']['on']('initialize'+'d',()=>{var _0x3361f6;(_0x3361f6=this['sorter'])==null||_0x3361f6['initData'](this['orderTextu'+'re'],_0x2cb862['centers'],_0x2cb862['muT'],_0x2cb862['tScale'],_0x2cb862['motion'],_0x2cb862['timeIndex'],_0x2cb862['timeOption']);}),this['sorter']['on']('updated',_0x420869=>{this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x420869/_0x2b609d),this['material']['setParamet'+'er']('numSplats',_0x420869);}));}['updateData'](_0xccae3e){var _0x32cae8;console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplatIns'+'tance',_0xccae3e['numSplats']),this['splat']=_0xccae3e;const _0x241b74=_0xccae3e['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x36f554=0x22*0xe+-0x24*-0x61+-0xf00,_0x1d08b2=Math['ceil'](_0xccae3e['numSplats']/_0x36f554)*_0x36f554/_0x36f554,_0x1afdb0=new Uint32Array(_0x1d08b2);for(let _0x68a4aa=-0xa31+0x11d+0x7*0x14c;_0x68a4aa<_0x1d08b2;++_0x68a4aa)_0x1afdb0[_0x68a4aa]=_0x68a4aa*_0x36f554;const _0x4b4da0=new Et(_0x241b74,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(0x14f+0x24c9+-0x2618)}]),_0x538504=new os(_0x241b74,_0x4b4da0,_0x1d08b2,{'usage':jt,'data':_0x1afdb0['buffer']});this['mesh']['aabb']['copy'](_0xccae3e['aabb']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x538504,!(-0xdbb+0x1151+-0x396)),this['meshInstan'+'ce']['instancing'+'Count']=0x1f*0x119+-0x21b5*0x1+-0x52,(_0x32cae8=this['sorter'])==null||_0x32cae8['resize'](_0xccae3e['numSplats']);}['releaseSeq'](_0x44d306){console['log']('____\x20ENGIN'+'E\x20IVAN','releaseSeq',_0x44d306);}['destroy'](){var _0x3c1293,_0x33766d,_0x5649e4;(_0x3c1293=this['material'])==null||_0x3c1293['destroy'](),(_0x33766d=this['meshInstan'+'ce'])==null||_0x33766d['destroy'](),(_0x5649e4=this['sorter'])==null||_0x5649e4['destroy']();}['clone'](){return new Np(this['splat'],this['options']);}['createMate'+'rial'](_0x3c08c2){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.crea'+'teMaterial'),this['material']=this['splat']['createMate'+'rial'](_0x3c08c2),this['material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=this['material']);}['updateView'+'port'](){const _0x3fe265=this['splat']['device'];if(Gl[0xb72+0xb*0x29+-0xd35]=_0x3fe265['width'],Gl[-0x1422+-0x3*0x8ff+0x2f20]=_0x3fe265['height'],this['cameras']['length']>0x4df*0x1+-0x60c+0x12d){const _0x1558d4=this['cameras'][-0x1*0x1f3+-0x4d8+0x6cb]['xr'];_0x1558d4&&_0x1558d4['active']&&_0x1558d4['views']['list']['length']===-0x15f1+-0x251*-0xd+-0x82a&&(Gl[0xe3c+0x935*-0x3+0xd63]/=-0x442+-0x1*0xb84+0xfc8);}this['material']['setParamet'+'er']('viewport',Gl);}['sort'](_0x188137){if(this['sorter']){this['sorter']['setCurrent'+'Time'](this['time']);const _0x53b424=_0x188137['getWorldTr'+'ansform']();_0x53b424['getTransla'+'tion'](On),_0x53b424['getZ'](kn);const _0x40ad3c=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0xeb2624=W1['invert'](_0x40ad3c);_0xeb2624['transformP'+'oint'](On,On),_0xeb2624['transformV'+'ector'](kn,kn),(!On['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!kn['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](On),this['lastCamera'+'Direction']['copy'](kn),this['sorter']['setCamera'](On,kn));}this['updateView'+'port']();}['update'](){if(this['cameras']['length']>0x1*-0x5db+-0x59*0x1f+-0x2*-0x851){const _0xc7c86f=this['cameras'][-0x1f4f+-0x211e+-0x1*-0x406d];this['sort'](_0xc7c86f['_node']),this['cameras']['length']=-0x163e+-0x8*0x358+0x30fe;}}['updateTime'](_0x368355){this['time']=_0x368355;}}const $1='FILL_WINDO'+'W',V_='KEEP_ASPEC'+'T',G_='AUTO',q1='FIXED';let U0;function tn(){return U0;}function qu(_0x411d4e){U0=_0x411d4e;}class X1{constructor(){c(this,'renderPass'+'es',[]),c(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x4638da){v['assert'](_0x4638da),_0x4638da['frameUpdat'+'e']();const _0x7fa200=_0x4638da['beforePass'+'es'];for(let _0x4e5e3b=-0xf74+-0x8da*0x1+0x184e;_0x4e5e3b<_0x7fa200['length'];_0x4e5e3b++){const _0x45913d=_0x7fa200[_0x4e5e3b];_0x45913d['enabled']&&this['addRenderP'+'ass'](_0x45913d);}_0x4638da['enabled']&&this['renderPass'+'es']['push'](_0x4638da);const _0x1704ee=_0x4638da['afterPasse'+'s'];for(let _0x1d71d2=0x740+0x507*-0x4+0xcdc;_0x1d71d2<_0x1704ee['length'];_0x1d71d2++){const _0x410c7a=_0x1704ee[_0x1d71d2];_0x410c7a['enabled']&&this['addRenderP'+'ass'](_0x410c7a);}}['reset'](){this['renderPass'+'es']['length']=0x1*-0xca7+-0x2332+0x2fd9;}['compile'](){const _0x1fa83f=this['renderTarg'+'etMap'],_0x7f69af=this['renderPass'+'es'];for(let _0x5059ae=-0x31+-0x1f*-0x3+0x2c*-0x1;_0x5059ae<_0x7f69af['length'];_0x5059ae++){const _0x586965=_0x7f69af[_0x5059ae],_0x3afd4c=_0x586965['renderTarg'+'et'];if(_0x3afd4c!==void(-0x2460+0x1a2d+0x1*0xa33)){const _0x2d3b50=_0x1fa83f['get'](_0x3afd4c);if(_0x2d3b50){const _0x2ff312=_0x586965['colorArray'+'Ops']['length'];for(let _0xeb393b=-0x2*0x4ef+-0x1*0xfed+0x19cb;_0xeb393b<_0x2ff312;_0xeb393b++)_0x586965['colorArray'+'Ops'][_0xeb393b]['clear']||(_0x2d3b50['colorArray'+'Ops'][_0xeb393b]['store']=!(-0x1*0x16a4+0x640+0x1064));_0x586965['depthStenc'+'ilOps']['clearDepth']||(_0x2d3b50['depthStenc'+'ilOps']['storeDepth']=!(-0x1a2d+-0x242+-0x1c6f*-0x1)),_0x586965['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x2d3b50['depthStenc'+'ilOps']['storeStenc'+'il']=!(0x2*0xee6+-0x1*0x821+-0x15ab));}_0x1fa83f['set'](_0x3afd4c,_0x586965);}}for(let _0x134743=-0x4*0x4b7+0x35e+0xf7e;_0x134743<_0x7f69af['length']-(-0x1345*-0x2+0x5b*-0x65+0x2*-0x151);_0x134743++){const _0x3750cd=_0x7f69af[_0x134743],_0x73833b=_0x3750cd['renderTarg'+'et'],_0x38739d=_0x7f69af[_0x134743+(0x2709+0xc7b*-0x3+-0x1*0x197)],_0x541029=_0x38739d['renderTarg'+'et'];_0x73833b!==_0x541029||_0x73833b===void(-0x1*0xc0b+-0x7*-0x356+-0x3*0x3c5)||_0x38739d['depthStenc'+'ilOps']['clearDepth']||_0x38739d['depthStenc'+'ilOps']['clearStenc'+'il']||_0x38739d['colorArray'+'Ops']['some'](_0xd93c0d=>_0xd93c0d['clear'])||_0x3750cd['afterPasse'+'s']['length']>-0x1139*-0x2+0x8d2+-0x2b44||_0x38739d['beforePass'+'es']['length']>0x1*0x26c5+-0x1*-0x1323+-0x39e8||(_0x3750cd['_skipEnd']=!(-0x1cc+0x17*0x4e+-0x536),_0x38739d['_skipStart']=!(-0x8f5+-0x4b*-0x15+-0x2ce*-0x1));}let _0x24726c=null,_0x44e785=null;for(let _0x5558df=-0x4d*-0x65+-0x1360+-0xb01*0x1;_0x5558df<_0x7f69af['length'];_0x5558df++){const _0x3312f7=_0x7f69af[_0x5558df],_0x249071=_0x3312f7['renderTarg'+'et'],_0x278947=_0x249071==null?void(-0xd*0x1aa+-0x1*0x161+-0x1703*-0x1):_0x249071['colorBuffe'+'r'];if(_0x278947!=null&&_0x278947['cubemap']){if(_0x24726c===_0x278947){const _0x47e705=_0x44e785['colorArray'+'Ops']['length'];for(let _0x3c78c7=0x172*0x1b+0x2b8+-0x4e*0x89;_0x3c78c7<_0x47e705;_0x3c78c7++)_0x44e785['colorArray'+'Ops'][_0x3c78c7]['mipmaps']=!(-0x2450+0x1228+0x1*0x1229);}_0x24726c=_0x249071['colorBuffe'+'r'],_0x44e785=_0x3312f7;}else _0x3312f7['requiresCu'+'bemaps']&&(_0x24726c=null,_0x44e785=null);}_0x1fa83f['clear']();}['render'](_0xe32fff){this['compile']();const _0x563a22=this['renderPass'+'es'];for(let _0x9e7e65=0x6d*-0x7+0x513+0x10c*-0x2;_0x9e7e65<_0x563a22['length'];_0x9e7e65++)_0x563a22[_0x9e7e65]['render']();}}class j1{constructor(_0x3fc4a4,_0x56a561){this['texture0']=_0x3fc4a4,this['texture1']=_0x56a561;}['destroy'](){var _0x43f27f,_0x15b607;(_0x43f27f=this['texture0'])==null||_0x43f27f['destroy'](),(_0x15b607=this['texture1'])==null||_0x15b607['destroy']();}}const H_=new Ot();class $r{static['createText'+'ure'](_0x53d326,_0x4f32ac,_0x7c586e,_0x150418=''){return new he(_0x53d326,{'name':'AreaLightL'+'UT'+_0x150418,'width':_0x7c586e,'height':_0x7c586e,'format':_0x4f32ac,'addressU':ae,'addressV':ae,'type':Di,'magFilter':st,'minFilter':de,'anisotropy':0x1,'mipmaps':!(-0x3*-0xc5f+-0x1a8+-0x2374)});}static['applyTextu'+'res'](_0x452d89,_0x473def,_0x44279f){H_['remove'](_0x452d89),H_['get'](_0x452d89,()=>new j1(_0x473def,_0x473def===_0x44279f?null:_0x44279f)),_0x452d89['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x473def),_0x452d89['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x44279f);}static['createPlac'+'eholder'](_0x23dc95){const _0x5ee94c=$r['createText'+'ure'](_0x23dc95,Je,-0x33d*0x5+-0x6*0x68+0x12a3*0x1,'placeholde'+'r');_0x5ee94c['lock']()['fill'](-0x2*-0xb91+-0x2*-0x1115+-0x394c),_0x5ee94c['unlock'](),$r['applyTextu'+'res'](_0x23dc95,_0x5ee94c,_0x5ee94c);}static['set'](_0x6743bd,_0x535815,_0x1bee2d){function _0x4400af(_0x1131a5,_0x543fab,_0x15152d){const _0x335a46=$r['createText'+'ure'](_0x1131a5,_0x15152d,-0xe5f+0x53f+-0xa*-0xf0);return _0x335a46['lock']()['set'](_0x543fab),_0x335a46['unlock'](),_0x335a46;}function _0x103701(_0x46c07f){const _0x13d0da=_0x46c07f['length'],_0x22e32e=new Uint16Array(_0x13d0da),_0x595f71=Wt['float2Half'];for(let _0x39fbc4=-0x7*0x351+0x1*-0x1963+-0x184d*-0x2;_0x39fbc4<_0x13d0da;_0x39fbc4++)_0x22e32e[_0x39fbc4]=_0x595f71(_0x46c07f[_0x39fbc4]);return _0x22e32e;}const _0x2093ac=_0x535815,_0x17879d=_0x1bee2d,_0x2e4805=_0x103701(_0x2093ac),_0x12cfc1=_0x103701(_0x17879d),_0x3357a9=_0x4400af(_0x6743bd,_0x2e4805,Je),_0x140754=_0x4400af(_0x6743bd,_0x12cfc1,Je);$r['applyTextu'+'res'](_0x6743bd,_0x3357a9,_0x140754);}}const Wh='en-US',$h={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},zp={};function pr(_0x2590df,_0x195573){for(let _0xc594a3=-0x3*-0x503+0x18f3+-0xd54*0x3,_0x1a9738=_0x2590df['length'];_0xc594a3<_0x1a9738;_0xc594a3++)zp[_0x2590df[_0xc594a3]]=_0x195573;}function pi(_0x1583d1){const _0x52f4bb=_0x1583d1['indexOf']('-');return _0x52f4bb!==-(-0x536*-0x2+0x1df6+0x1*-0x2861)?_0x1583d1['substring'](0x20f4+-0x26ce*0x1+0x5da,_0x52f4bb):_0x1583d1;}function Y1(_0x1c3fe9,_0x430713){const _0x5240f7=_0x1c3fe9['indexOf']('-');return _0x5240f7!==-(-0x237e+-0xaa7+0x2e26)?_0x430713+_0x1c3fe9['substring'](_0x5240f7):_0x430713;}function V0(_0x4ac2ac,_0x36eea3){if(_0x36eea3[_0x4ac2ac])return _0x4ac2ac;let _0x53ce41=$h[_0x4ac2ac];if(_0x53ce41&&_0x36eea3[_0x53ce41])return _0x53ce41;const _0x2ba2fb=pi(_0x4ac2ac);return _0x53ce41=$h[_0x2ba2fb],_0x36eea3[_0x53ce41]?_0x53ce41:_0x36eea3[_0x2ba2fb]?_0x2ba2fb:Wh;}pr(['ja','ko','th','vi','zh','id'],_0x1483b5=>0x2015*-0x1+0x2483+-0x46e),pr(['fa','hi'],_0x5ca921=>_0x5ca921>=-0x6c2+-0x115f+0x1821&&_0x5ca921<=0x1df5+0x23c7+0x1*-0x41bb?0xbd+0x9ec+-0xaa9*0x1:0x1*0x1138+0x1751*0x1+-0x2888),pr(['fr','pt'],_0x4f2c74=>_0x4f2c74>=-0xbc8+0x9*0x15+-0x1*-0xb0b&&_0x4f2c74<0x1*-0x29+-0x1*-0x6f5+-0x6ca?0x2313*-0x1+0x113f*0x1+0x11d4:-0x1d95+0x2*0xd0e+0xb2*0x5),pr(['da'],_0x5029a0=>_0x5029a0===-0x187*0x1+-0x11bc+0x112*0x12||!Number['isInteger'](_0x5029a0)&&_0x5029a0>=0x7*-0x12a+0x1f*0x80+-0x75a&&_0x5029a0<=0xc8e*-0x3+0x1198+-0x23b*-0x9?-0x8d4*-0x3+-0x1bb1+0x135:0x1ae5+-0x2282+0x79e),pr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0xea3222=>_0xea3222===-0x1c64+0xae3+0x1182?-0x689*-0x1+-0x1613+-0x27*-0x66:0x2*-0x97c+0x1*0x1d45+0x293*-0x4),(function(){let _0x32b5b6;try{const _0x10d6e3=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x32b5b6=_0x10d6e3();}catch(_0x8b2d92){_0x32b5b6=window;}_0x32b5b6['setInterva'+'l'](_0x13baa8,0x147e+-0x1*-0x8ad+0xb*-0x1f1);}()),pr(['ru','uk'],_0x4c8ab2=>{if(Number['isInteger'](_0x4c8ab2)){const _0x499b85=_0x4c8ab2%(-0x1146+-0x9c0+-0x10*-0x1b1),_0x16a411=_0x4c8ab2%(0x1ef6+-0x1b6f+0x323*-0x1);if(_0x499b85===-0x1*0x23e3+0x377*-0x4+-0x40*-0xc7&&_0x16a411!==0x2*-0xdd8+-0x95*0x1d+0x23b*0x14)return 0x17c3+0x315+-0x35b*0x8;if(_0x499b85>=-0x1ca6+0x60a+0x1*0x169e&&_0x499b85<=-0x1*-0x707+-0xbae+0x4ab&&(_0x16a411<-0x20a7+-0x1f8f*-0x1+-0x2*-0x92||_0x16a411>0x6ad+-0x746+0xa7))return-0x2*0x4eb+-0x1457+-0x1e2e*-0x1;if(_0x499b85===-0x240d+0x2*-0xb6+-0x1*-0x2579||_0x499b85>=-0x1b9e+0x1764+0x43f&&_0x499b85<=-0x3f*0x63+0x1*-0x1c63+0x1*0x34c9||_0x16a411>=0x10bc+-0x22db+0x3a2*0x5&&_0x16a411<=0x33b+0x1*0x17b8+-0x55*0x51)return-0x10bb+0x23bf+-0x1302;}return 0x1*0x2271+-0xc57+-0x91*0x27;}),pr(['pl'],_0x1e8b0c=>{if(Number['isInteger'](_0x1e8b0c)){if(_0x1e8b0c===0x1634*0x1+-0x181c+0x1e9)return 0x2*0xe3e+-0x1*-0x1570+-0x31ec;const _0x4753bf=_0x1e8b0c%(-0x205b*-0x1+0x1fb9+-0xe*0x493),_0x362f29=_0x1e8b0c%(0x1*0x2422+0x7*0xbf+-0x1*0x28f7);if(_0x4753bf>=-0x25a9*0x1+0x3a+0x2571&&_0x4753bf<=-0xa65+-0x2073+0x1a*0x1a6&&(_0x362f29<0x8*0xf+-0x78d*0x5+0x13*0x1f7||_0x362f29>-0x778+0x10*-0x1f+0x7*0x15a))return-0x255*0x10+0x174f+0xe02;if(_0x4753bf>=-0x111+-0x509+0x61a&&_0x4753bf<=-0xf*-0x25d+0x9*-0x61+-0x1*0x2009||_0x4753bf>=-0x9fe*0x1+-0x5*0x33e+0x1a39&&_0x4753bf<=-0xa9*-0xf+0x1b9*0x5+0xf9*-0x13||_0x362f29>=0x51b*0x7+-0x84*0x13+-0x19e5&&_0x362f29<=-0xac5*-0x2+0x1ead+-0x3429)return-0x1ad5+0x242e+-0x1*0x957;}return-0x174f+0x1972*0x1+-0x220;}),pr(['ar'],_0x5f3004=>{if(_0x5f3004===0x1*-0x12ee+-0x622+0x1910)return 0x29*0x7d+-0xd49+0x6bc*-0x1;if(_0x5f3004===-0x1a9+-0x2709+0xd91*0x3)return-0x80*-0x4+-0xec+-0x113;if(_0x5f3004===-0x42*-0x31+-0x19cb+0x1*0xd2b)return-0x39*-0x3e+0x1*0x1449+-0x5*0x6d1;if(Number['isInteger'](_0x5f3004)){const _0x4409a9=_0x5f3004%(0x1a21*-0x1+-0xcbf+0x2744);if(_0x4409a9>=0x198b*-0x1+0x64+0x192a&&_0x4409a9<=-0xea7+0x211*0x5+-0x5d*-0xc)return 0xb*0x1fd+-0x1*-0x2113+0x11f*-0x31;if(_0x4409a9>=-0x203d+-0x85*-0x39+-0x1*-0x2ab&&_0x4409a9<=-0x162f+0xce3*-0x1+0x2375)return 0xd87+0x17cd+-0x2550;}return 0x8*0x3e0+-0xe39*-0x1+-0x2d34;});const K1=zp[pi(Wh)];function Xd(_0x45cc63){return zp[_0x45cc63]||K1;}const Da=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class Z1{constructor(_0x10e0f7='',_0x407481='',_0x3a0dc2=null,_0x5471a8=null,_0x16db2a=null,_0x101f71=null){this['url']=_0x10e0f7,this['filename']=_0x407481,this['hash']=_0x3a0dc2,this['size']=_0x5471a8,this['opt']=_0x16db2a,this['contents']=_0x101f71;}['equals'](_0x24a63f){return this['url']===_0x24a63f['url']&&this['filename']===_0x24a63f['filename']&&this['hash']===_0x24a63f['hash']&&this['size']===_0x24a63f['size']&&this['opt']===_0x24a63f['opt']&&this['contents']===_0x24a63f['contents'];}}let Q1=-(0x8d2*-0x2+0x3*-0x239+-0x10*-0x185);const J1={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},W_=['pvr','dxt','etc2','etc1','basis'];class le extends ce{constructor(_0x104a19,_0x366081,_0x15528b,_0x3c85e7,_0x39e568){super(),this['_id']=Q1--,this['_name']=_0x104a19||'',this['type']=_0x366081,this['tags']=new po(this),this['_preload']=!(0xdfb*0x1+0x9*-0x331+0x1*0xebf),this['_file']=null,this['_data']=_0x3c85e7||{},this['options']=_0x39e568||{},this['_resources']=[],this['urlObject']=null,this['_i18n']={},this['loaded']=!(0x1*0x101+-0x400+0x300*0x1),this['loading']=!(0x17e3+-0x2645+0xe63),this['registry']=null,_0x15528b&&(this['file']=_0x15528b);}set['id'](_0x26b071){this['_id']=_0x26b071;}get['id'](){return this['_id'];}set['name'](_0x525bb8){if(this['_name']===_0x525bb8)return;const _0x4660a3=this['_name'];this['_name']=_0x525bb8,this['fire']('name',this,this['_name'],_0x4660a3);}get['name'](){return this['_name'];}set['file'](_0x2afc63){var _0x4ff529,_0x5732ef;if(_0x2afc63&&_0x2afc63['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(-0x1be4+-0x1046+0x2c2b)){const _0x465a2d=((_0x5732ef=(_0x4ff529=this['registry'])==null?void(-0xbcc+-0x1458+-0x79*-0x44):_0x4ff529['_loader'])==null?void(-0xc1*-0x2e+0x31b+-0x25c9):_0x5732ef['_app'])||tn(),_0x416982=_0x465a2d==null?void(-0x16b3+0x1*0x6a7+-0xd*-0x13c):_0x465a2d['graphicsDe'+'vice'];if(_0x416982)for(let _0xa4a5ff=-0x9*0x19a+-0x2151+0x2fbb,_0x3ec65d=W_['length'];_0xa4a5ff<_0x3ec65d;_0xa4a5ff++){const _0x28e093=W_[_0xa4a5ff];if(_0x2afc63['variants'][_0x28e093]&&_0x416982[J1[_0x28e093]]){_0x2afc63=_0x2afc63['variants'][_0x28e093];break;}if(_0x465a2d['enableBund'+'les']){const _0x346fe8=_0x465a2d['bundles']['listBundle'+'sForAsset'](this);if(_0x346fe8&&_0x346fe8['find'](_0x499e6d=>{var _0x235195;return(_0x235195=_0x499e6d==null?void(-0x240c+-0x14c*-0x13+0x16d*0x8):_0x499e6d['file'])==null?void(0x115f+-0x772+-0x16b*0x7):_0x235195['variants'][_0x28e093];}))break;}}}const _0x23b512=this['_file'],_0x4630ba=_0x2afc63?new Z1(_0x2afc63['url'],_0x2afc63['filename'],_0x2afc63['hash'],_0x2afc63['size'],_0x2afc63['opt'],_0x2afc63['contents']):null;(!!_0x4630ba!=!!_0x23b512||_0x4630ba&&!_0x4630ba['equals'](_0x23b512))&&(this['_file']=_0x4630ba,this['fire']('change',this,'file',_0x4630ba,_0x23b512),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x5a6f54){const _0x5ba97e=this['_data'];this['_data']=_0x5a6f54,_0x5a6f54!==_0x5ba97e&&(this['fire']('change',this,'data',_0x5a6f54,_0x5ba97e),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x555394){const _0x26c4c8=this['_resources'][-0x138e+0x3*0xc48+-0x114a];this['_resources'][0x1c6e+-0x668+-0x1606]=_0x555394,this['fire']('change',this,'resource',_0x555394,_0x26c4c8);}get['resource'](){return this['_resources'][0x13d+-0x9*-0x3a8+0x1*-0x2225];}set['resources'](_0x316861){const _0x25e7f7=this['_resources'];this['_resources']=_0x316861,this['fire']('change',this,'resources',_0x316861,_0x25e7f7);}get['resources'](){return this['_resources'];}set['preload'](_0x5c3eed){_0x5c3eed=!!_0x5c3eed,this['_preload']!==_0x5c3eed&&(this['_preload']=_0x5c3eed,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x57b223){_0x57b223=!!_0x57b223,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x57b223!==this['_loadFaces'])&&(this['_loadFaces']=_0x57b223,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x533b77=this['file'];if(!_0x533b77||!_0x533b77['url'])return null;let _0x19c183=_0x533b77['url'];if(this['registry']&&this['registry']['prefix']&&!Da['test'](_0x19c183)&&(_0x19c183=this['registry']['prefix']+_0x19c183),this['type']!=='script'&&_0x533b77['hash']){const _0x5ad57d=_0x19c183['indexOf']('?')!==-(0x74*-0x1a+0x5e*0x3b+-0x9e1)?'&':'?';_0x19c183+=_0x5ad57d+'t='+_0x533b77['hash'];}return _0x19c183;}['getAbsolut'+'eUrl'](_0x3187c3){if(_0x3187c3['startsWith']('blob:')||_0x3187c3['startsWith']('data:'))return _0x3187c3;const _0x452a44=fe['getDirecto'+'ry'](this['file']['url']);return fe['join'](_0x452a44,_0x3187c3);}['getLocaliz'+'edAssetId'](_0x214d40){return _0x214d40=V0(_0x214d40,this['_i18n']),this['_i18n'][_0x214d40]||null;}['addLocaliz'+'edAssetId'](_0x290fd7,_0x59dae9){this['_i18n'][_0x290fd7]=_0x59dae9,this['fire']('add:locali'+'zed',_0x290fd7,_0x59dae9);}['removeLoca'+'lizedAsset'+'Id'](_0xe2b909){const _0x55e999=this['_i18n'][_0xe2b909];_0x55e999&&(delete this['_i18n'][_0xe2b909],this['fire']('remove:loc'+'alized',_0xe2b909,_0x55e999));}['ready'](_0x56aefe,_0x3dbd74){_0x3dbd74=_0x3dbd74||this,this['loaded']?_0x56aefe['call'](_0x3dbd74,this):this['once']('load',_0x5529f2=>{_0x56aefe['call'](_0x3dbd74,_0x5529f2);});}['reload'](){this['loaded']&&(this['loaded']=!(-0x11*0x118+-0x21f*0x3+0x9*0x2c6),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===-0x189*-0x6+0x574+-0xeaa)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x4bbc4a=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(-0x12df*-0x1+0x37d*0x4+-0x20d2),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x90e11f=-0x1f1e+0x2613+-0xd*0x89;_0x90e11f<_0x4bbc4a['length'];++_0x90e11f){const _0x477822=_0x4bbc4a[_0x90e11f];_0x477822&&_0x477822['destroy']&&_0x477822['destroy']();}}static['fetchArray'+'Buffer'](_0x5eb45f,_0x4052f7,_0x2b3298,_0x12032e=-0xdc3+0x1489*0x1+-0x6c6){var _0x5ed5cb;(_0x5ed5cb=_0x2b3298==null?void(-0xb*0x385+0x1243+0x1474):_0x2b3298['file'])!=null&&_0x5ed5cb['contents']?setTimeout(()=>{_0x4052f7(null,_0x2b3298['file']['contents']);}):$e['get'](_0x5eb45f,{'cache':!(-0x1b1*0x9+0xc5f+0x2*0x16d),'responseType':'arraybuffe'+'r','retry':_0x12032e>0x219*-0xb+0x2*-0xfb8+0x3683,'maxRetries':_0x12032e},_0x4052f7);}}c(le,'EVENT_LOAD','load'),c(le,'EVENT_UNLO'+'AD','unload'),c(le,'EVENT_REMO'+'VE','remove'),c(le,'EVENT_ERRO'+'R','error'),c(le,'EVENT_CHAN'+'GE','change'),c(le,'EVENT_PROG'+'RESS','progress'),c(le,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),c(le,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class eP{constructor(_0x9d0ff9=null){c(this,'_index',{}),c(this,'_key'),this['_key']=_0x9d0ff9;}['addItem'](_0x1103c0){const _0x3c095f=_0x1103c0['tags']['_list'];for(const _0x33ab6b of _0x3c095f)this['add'](_0x33ab6b,_0x1103c0);}['removeItem'](_0x4bb144){const _0x4d3325=_0x4bb144['tags']['_list'];for(const _0x4c0318 of _0x4d3325)this['remove'](_0x4c0318,_0x4bb144);}['add'](_0x266712,_0x96a6ed){this['_index'][_0x266712]&&this['_index'][_0x266712]['list']['indexOf'](_0x96a6ed)!==-(0xb48+0x1284+0x107*-0x1d)||(this['_index'][_0x266712]||(this['_index'][_0x266712]={'list':[]},this['_key']&&(this['_index'][_0x266712]['keys']={})),this['_index'][_0x266712]['list']['push'](_0x96a6ed),this['_key']&&(this['_index'][_0x266712]['keys'][_0x96a6ed[this['_key']]]=_0x96a6ed));}['remove'](_0x425ba4,_0x8f132a){if(!this['_index'][_0x425ba4]||this['_key']&&!this['_index'][_0x425ba4]['keys'][_0x8f132a[this['_key']]])return;const _0x3b72b3=this['_index'][_0x425ba4]['list']['indexOf'](_0x8f132a);_0x3b72b3!==-(-0x1297*-0x1+0x15b7+-0x284d)&&(this['_index'][_0x425ba4]['list']['splice'](_0x3b72b3,0x191*0xc+-0x6c+-0x125f*0x1),this['_key']&&delete this['_index'][_0x425ba4]['keys'][_0x8f132a[this['_key']]],this['_index'][_0x425ba4]['list']['length']===0x5ab+0x168+-0x713*0x1&&delete this['_index'][_0x425ba4]);}['find'](_0x465844){const _0x39a6c2={},_0x1c459a=[];let _0x44f3d8,_0x4952c0,_0x29ee5e,_0x3decb2,_0xe4d431;const _0x10fbbb=(_0x291589,_0x530b24)=>this['_index'][_0x291589]['list']['length']-this['_index'][_0x530b24]['list']['length'];for(let _0x2e7820=0x228c+0xb*-0x164+-0x1340;_0x2e7820<_0x465844['length'];_0x2e7820++){if(_0x4952c0=_0x465844[_0x2e7820],_0x4952c0 instanceof Array){if(_0x4952c0['length']===0xe58*-0x1+0x5*0x3e6+-0x526)continue;if(_0x4952c0['length']===0x3c7*0x4+-0x1ac4*-0x1+-0x4a7*0x9)_0x4952c0=_0x4952c0[0x1f94+-0x3e3+-0x1bb1];else{_0xe4d431=!(0x258a+0x8*-0x427+-0x451);for(let _0x362819=0x5ad*0x3+-0x3a5+-0x6*0x23b;_0x362819<_0x4952c0['length'];_0x362819++)if(!this['_index'][_0x4952c0[_0x362819]]){_0xe4d431=!(-0x1a8+0x153*0x19+-0x1f73);break;}if(_0xe4d431)continue;_0x29ee5e=_0x4952c0['slice'](-0x1*0xda2+0x59*-0x49+-0x1*-0x2703)['sort'](_0x10fbbb),_0x3decb2=_0x29ee5e['slice'](-0x1a28+-0x17*0x15a+0x393f),_0x3decb2['length']===-0x2113+0x11c6+0xf4e&&(_0x3decb2=_0x3decb2[0x1f9d+-0x2365+0x3c8]);for(let _0x5a0517=-0x18a*-0xb+0x247f*-0x1+0x1391;_0x5a0517<this['_index'][_0x29ee5e[-0xfbb*-0x1+0x6*-0x41b+0x8e7]]['list']['length'];_0x5a0517++)_0x44f3d8=this['_index'][_0x29ee5e[0xa04*0x3+0x1874+0x40*-0xda]]['list'][_0x5a0517],(this['_key']?!_0x39a6c2[_0x44f3d8[this['_key']]]:_0x1c459a['indexOf'](_0x44f3d8)===-(-0x1223*0x1+0x3*0x85a+-0x6ea))&&_0x44f3d8['tags']['has'](_0x3decb2)&&(this['_key']&&(_0x39a6c2[_0x44f3d8[this['_key']]]=!(-0xd4a+0x2052+-0x1308)),_0x1c459a['push'](_0x44f3d8));continue;}}if(_0x4952c0&&typeof _0x4952c0=='string'&&this['_index'][_0x4952c0]){for(let _0x5e0518=-0x5*-0x739+-0x353*0x2+0x1*-0x1d77;_0x5e0518<this['_index'][_0x4952c0]['list']['length'];_0x5e0518++)_0x44f3d8=this['_index'][_0x4952c0]['list'][_0x5e0518],this['_key']?_0x39a6c2[_0x44f3d8[this['_key']]]||(_0x39a6c2[_0x44f3d8[this['_key']]]=!(-0x21b6+0x258e+0x1ec*-0x2),_0x1c459a['push'](_0x44f3d8)):_0x1c459a['indexOf'](_0x44f3d8)===-(0x1*-0x14a6+0x1*-0x22ca+-0x53*-0xab)&&_0x1c459a['push'](_0x44f3d8);}}return _0x1c459a;}}class ao extends ce{constructor(_0x374b58){super(),c(this,'_assets',new Set()),c(this,'_loader'),c(this,'_idToAsset',new Map()),c(this,'_urlToAsse'+'t',new Map()),c(this,'_nameToAss'+'et',new Map()),c(this,'_tags',new eP('_id')),c(this,'prefix',null),c(this,'bundles',null),this['_loader']=_0x374b58;}['list'](_0x1959b9={}){const _0x11f04a=Array['from'](this['_assets']);return _0x1959b9['preload']!==void(0xec0+-0x1*-0x15f7+-0x24b7)?_0x11f04a['filter'](_0x3873fa=>_0x3873fa['preload']===_0x1959b9['preload']):_0x11f04a;}['add'](_0x39c6c1){var _0x4e02c8,_0xef544;this['_assets']['has'](_0x39c6c1)||(this['_assets']['add'](_0x39c6c1),this['_idToAsset']['set'](_0x39c6c1['id'],_0x39c6c1),(_0x4e02c8=_0x39c6c1['file'])!=null&&_0x4e02c8['url']&&this['_urlToAsse'+'t']['set'](_0x39c6c1['file']['url'],_0x39c6c1),this['_nameToAss'+'et']['has'](_0x39c6c1['name'])||this['_nameToAss'+'et']['set'](_0x39c6c1['name'],new Set()),this['_nameToAss'+'et']['get'](_0x39c6c1['name'])['add'](_0x39c6c1),_0x39c6c1['on']('name',this['_onNameCha'+'nge'],this),_0x39c6c1['registry']=this,this['_tags']['addItem'](_0x39c6c1),_0x39c6c1['tags']['on']('add',this['_onTagAdd'],this),_0x39c6c1['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x39c6c1),this['fire']('add:'+_0x39c6c1['id'],_0x39c6c1),(_0xef544=_0x39c6c1['file'])!=null&&_0xef544['url']&&this['fire']('add:url:'+_0x39c6c1['file']['url'],_0x39c6c1),_0x39c6c1['preload']&&this['load'](_0x39c6c1));}['remove'](_0x2d0084){var _0x468529,_0x37681f;if(!this['_assets']['has'](_0x2d0084))return!(-0x67b*0x6+-0x2605+0x5c*0xd6);if(this['_assets']['delete'](_0x2d0084),this['_idToAsset']['delete'](_0x2d0084['id']),(_0x468529=_0x2d0084['file'])!=null&&_0x468529['url']&&this['_urlToAsse'+'t']['delete'](_0x2d0084['file']['url']),_0x2d0084['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x2d0084['name'])){const _0x1fcc09=this['_nameToAss'+'et']['get'](_0x2d0084['name']);_0x1fcc09['delete'](_0x2d0084),_0x1fcc09['size']===0xb74+0x12b5+-0x1e29&&this['_nameToAss'+'et']['delete'](_0x2d0084['name']);}return this['_tags']['removeItem'](_0x2d0084),_0x2d0084['tags']['off']('add',this['_onTagAdd'],this),_0x2d0084['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x2d0084['fire']('remove',_0x2d0084),this['fire']('remove',_0x2d0084),this['fire']('remove:'+_0x2d0084['id'],_0x2d0084),(_0x37681f=_0x2d0084['file'])!=null&&_0x37681f['url']&&this['fire']('remove:url'+':'+_0x2d0084['file']['url'],_0x2d0084),!(0x1*-0x198b+-0x447+0x1dd2);}['get'](_0x5621aa){return this['_idToAsset']['get'](Number(_0x5621aa));}['getByUrl'](_0x449193){return this['_urlToAsse'+'t']['get'](_0x449193);}['load'](_0x46ccea,_0x396deb){if((_0x46ccea['loading']||_0x46ccea['loaded'])&&!(_0x396deb!=null&&_0x396deb['force']))return;const _0x563f35=_0x46ccea['file'],_0xcea311=()=>{this['fire']('load',_0x46ccea),this['fire']('load:'+_0x46ccea['id'],_0x46ccea),_0x563f35&&_0x563f35['url']&&this['fire']('load:url:'+_0x563f35['url'],_0x46ccea),_0x46ccea['fire']('load',_0x46ccea);},_0x5849ad=_0x31466e=>{if(_0x31466e instanceof Array?_0x46ccea['resources']=_0x31466e:_0x46ccea['resource']=_0x31466e,this['_loader']['patch'](_0x46ccea,this),_0x46ccea['type']==='bundle'){const _0x304f7a=_0x46ccea['data']['assets'];for(let _0x1c841f=0x22*-0x23+-0x6b*-0x4+-0x6*-0x7f;_0x1c841f<_0x304f7a['length'];_0x1c841f++){const _0x338e5c=this['_idToAsset']['get'](_0x304f7a[_0x1c841f]);_0x338e5c&&!_0x338e5c['loaded']&&this['load'](_0x338e5c,{'force':!(-0x1*0x10e2+0x55*-0x16+0x1830)});}_0x46ccea['resource']['loaded']?_0xcea311():(this['fire']('load:start',_0x46ccea),this['fire']('load:start'+':'+_0x46ccea['id'],_0x46ccea),_0x563f35&&_0x563f35['url']&&this['fire']('load:start'+':url:'+_0x563f35['url'],_0x46ccea),_0x46ccea['fire']('load:start',_0x46ccea),_0x46ccea['resource']['on']('load',_0xcea311));}else _0xcea311();},_0x25c1e6=(_0x3b4389,_0x32123b,_0xbb5270)=>{if(_0x46ccea['loaded']=!(-0x363+0x97b*0x2+-0xf93),_0x46ccea['loading']=!(-0x1*0x7b+0x16d*0x1+0x1*-0xf1),_0x3b4389)this['fire']('error',_0x3b4389,_0x46ccea),this['fire']('error:'+_0x46ccea['id'],_0x3b4389,_0x46ccea),_0x46ccea['fire']('error',_0x3b4389,_0x46ccea);else{if(_0x46ccea['type']==='script'){const _0x546544=this['_loader']['getHandler']('script');_0x546544['_cache'][_0x46ccea['id']]&&_0x546544['_cache'][_0x46ccea['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x546544['_cache'][_0x46ccea['id']]),_0x546544['_cache'][_0x46ccea['id']]=_0xbb5270;}_0x5849ad(_0x32123b);}};if(_0x563f35||_0x46ccea['type']==='cubemap'){this['fire']('load:start',_0x46ccea),this['fire']('load:'+_0x46ccea['id']+':start',_0x46ccea),_0x46ccea['loading']=!(-0x29*-0x53+-0x641*0x3+-0xc8*-0x7);const _0x17d3a3=_0x46ccea['getFileUrl']();if(_0x46ccea['type']==='bundle'){const _0x4dcc0a=_0x46ccea['data']['assets'];for(let _0x11af52=0x3d+0xb6a*0x3+-0x1*0x227b;_0x11af52<_0x4dcc0a['length'];_0x11af52++){const _0x22736e=this['_idToAsset']['get'](_0x4dcc0a[_0x11af52]);_0x22736e&&(_0x22736e['loaded']||_0x22736e['resource']||_0x22736e['loading']||(_0x22736e['loading']=!(-0x13e5+-0x2fd+0x16e2)));}}this['_loader']['load'](_0x17d3a3,_0x46ccea['type'],_0x25c1e6,_0x46ccea,_0x396deb);}else{const _0x43874a=this['_loader']['open'](_0x46ccea['type'],_0x46ccea['data']);_0x46ccea['loaded']=!(0x1255+0x1*-0x119b+-0xba),_0x5849ad(_0x43874a);}}['loadFromUr'+'l'](_0x2f6172,_0x21be9f,_0x276bee){this['loadFromUr'+'lAndFilena'+'me'](_0x2f6172,null,_0x21be9f,_0x276bee);}['loadFromUr'+'lAndFilena'+'me'](_0x18cf17,_0xbe4158,_0x169ffc,_0xaeaa99){const _0x59b8b1=fe['getBasenam'+'e'](_0xbe4158||_0x18cf17),_0x29803f={'filename':_0xbe4158||_0x59b8b1,'url':_0x18cf17};let _0x5aa53a=this['getByUrl'](_0x18cf17);if(!_0x5aa53a)_0x5aa53a=new le(_0x59b8b1,_0x169ffc,_0x29803f),this['add'](_0x5aa53a);else{if(_0x5aa53a['loaded']){_0xaeaa99(_0x5aa53a['loadFromUr'+'lError']||null,_0x5aa53a);return;}}const _0x3aa2b0=_0x1387a6=>{_0x1387a6['once']('load',_0x5e25af=>{_0x169ffc==='material'?this['_loadTextu'+'res'](_0x5e25af,(_0x2d791c,_0x42757b)=>{_0xaeaa99(_0x2d791c,_0x5e25af);}):_0xaeaa99(null,_0x5e25af);}),_0x1387a6['once']('error',_0x16cd31=>{_0x16cd31&&(this['loadFromUr'+'lError']=_0x16cd31),_0xaeaa99(_0x16cd31,_0x1387a6);}),this['load'](_0x1387a6);};_0x5aa53a['resource']?_0xaeaa99(null,_0x5aa53a):_0x169ffc==='model'?this['_loadModel'](_0x5aa53a,_0x3aa2b0):_0x3aa2b0(_0x5aa53a);}['_loadModel'](_0x5de18c,_0x154e4c){const _0x5a99ba=_0x5de18c['getFileUrl'](),_0x8bae58=fe['getExtensi'+'on'](_0x5a99ba);if(_0x8bae58==='.json'||_0x8bae58==='.glb'){const _0xee719d=fe['getDirecto'+'ry'](_0x5a99ba),_0x63b359=fe['getBasenam'+'e'](_0x5a99ba),_0x130e37=fe['join'](_0xee719d,_0x63b359['replace'](_0x8bae58,'.mapping.j'+'son'));this['_loader']['load'](_0x130e37,'json',(_0x13ee37,_0x4a69d7)=>{_0x13ee37?(_0x5de18c['data']={'mapping':[]},_0x154e4c(_0x5de18c)):this['_loadMater'+'ials'](_0x5de18c,_0x4a69d7,(_0x5c98aa,_0x3c6cd1)=>{_0x5de18c['data']=_0x4a69d7,_0x154e4c(_0x5de18c);});});}else _0x154e4c(_0x5de18c);}['_loadMater'+'ials'](_0x23be42,_0x5188d0,_0xd30b1d){const _0x23eb36=[];let _0x1d73bb=0x16f9+0x1c52+-0x334b;const _0x593f0b=(_0x140d9e,_0x19b2bb)=>{this['_loadTextu'+'res'](_0x19b2bb,(_0x18db74,_0x114664)=>{_0x23eb36['push'](_0x19b2bb),_0x23eb36['length']===_0x1d73bb&&_0xd30b1d(null,_0x23eb36);});};for(let _0x5363d7=-0x2e*-0x27+0xae4+0x11e6*-0x1;_0x5363d7<_0x5188d0['mapping']['length'];_0x5363d7++){const _0x119ba6=_0x5188d0['mapping'][_0x5363d7]['path'];if(_0x119ba6){_0x1d73bb++;const _0x5e60a7=_0x23be42['getAbsolut'+'eUrl'](_0x119ba6);this['loadFromUr'+'l'](_0x5e60a7,'material',_0x593f0b);}}_0x1d73bb===-0x1*-0x1791+-0x1031+-0x760&&_0xd30b1d(null,_0x23eb36);}['_loadTextu'+'res'](_0x31e0e5,_0x3e439b){const _0x1b383c=[];let _0x3e60a0=0xba1+0x139*-0x19+0x12f0;const _0x164ab0=_0x31e0e5['data'];if(_0x164ab0['mappingFor'+'mat']!=='path'){v['warn']('Skipping:\x20'+_0x31e0e5['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x3e439b(null,_0x1b383c);return;}const _0x20c89c=(_0x4c2e9d,_0x2e37ce)=>{_0x4c2e9d&&console['error'](_0x4c2e9d),_0x1b383c['push'](_0x2e37ce),_0x1b383c['length']===_0x3e60a0&&_0x3e439b(null,_0x1b383c);},_0x167ba2=Kc;for(let _0x13b030=-0x1c2b*0x1+0x23f5+-0x7ca;_0x13b030<_0x167ba2['length'];_0x13b030++){const _0x39c013=_0x164ab0[_0x167ba2[_0x13b030]];if(_0x39c013&&typeof _0x39c013=='string'){_0x3e60a0++;const _0x926d6c=_0x31e0e5['getAbsolut'+'eUrl'](_0x39c013);this['loadFromUr'+'l'](_0x926d6c,'texture',_0x20c89c);}}_0x3e60a0===0xcd9+-0x1c82+-0xfa9*-0x1&&_0x3e439b(null,_0x1b383c);}['_onTagAdd'](_0x30c754,_0x584d6b){this['_tags']['add'](_0x30c754,_0x584d6b);}['_onTagRemo'+'ve'](_0x2ceaa7,_0x44f57a){this['_tags']['remove'](_0x2ceaa7,_0x44f57a);}['_onNameCha'+'nge'](_0xbbd4fa,_0x28a26e,_0x5cfea3){if(this['_nameToAss'+'et']['has'](_0x5cfea3)){const _0x5ce1a7=this['_nameToAss'+'et']['get'](_0x5cfea3);_0x5ce1a7['delete'](_0xbbd4fa),_0x5ce1a7['size']===0x6*0x14d+0x1*-0xf25+0x757*0x1&&this['_nameToAss'+'et']['delete'](_0x5cfea3);}this['_nameToAss'+'et']['has'](_0xbbd4fa['name'])||this['_nameToAss'+'et']['set'](_0xbbd4fa['name'],new Set()),this['_nameToAss'+'et']['get'](_0xbbd4fa['name'])['add'](_0xbbd4fa);}['findByTag'](..._0xbde21b){return this['_tags']['find'](_0xbde21b);}['filter'](_0x492e87){return Array['from'](this['_assets'])['filter'](_0x57e81a=>_0x492e87(_0x57e81a));}['find'](_0x2e82e1,_0x1be58d){const _0x3aceb5=this['_nameToAss'+'et']['get'](_0x2e82e1);if(!_0x3aceb5)return null;for(const _0x176ab3 of _0x3aceb5)if(!_0x1be58d||_0x176ab3['type']===_0x1be58d)return _0x176ab3;return null;}['findAll'](_0x220808,_0x3d1514){const _0x3c154e=this['_nameToAss'+'et']['get'](_0x220808);if(!_0x3c154e)return[];const _0x466744=Array['from'](_0x3c154e);return _0x3d1514?_0x466744['filter'](_0xbbb75e=>_0xbbb75e['type']===_0x3d1514):_0x466744;}}c(ao,'EVENT_LOAD','load'),c(ao,'EVENT_ADD','add'),c(ao,'EVENT_REMO'+'VE','remove'),c(ao,'EVENT_ERRO'+'R','error');class tP{constructor(_0x31f846){c(this,'_idToBundl'+'e',new Map()),c(this,'_assetToBu'+'ndles',new Map()),c(this,'_urlsToBun'+'dles',new Map()),c(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x31f846,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x80af8a){if(_0x80af8a['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x80af8a['id'],_0x80af8a),this['_assets']['on']('load:start'+':'+_0x80af8a['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x80af8a['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x80af8a['id'],this['_onBundleE'+'rror'],this);const _0x1849dc=_0x80af8a['data']['assets'];for(let _0x37013c=0x1a48+-0x24bc+0xa74;_0x37013c<_0x1849dc['length'];_0x37013c++)this['_indexAsse'+'tInBundle'](_0x1849dc[_0x37013c],_0x80af8a);}else this['_assetToBu'+'ndles']['has'](_0x80af8a['id'])&&this['_indexAsse'+'tFileUrls'](_0x80af8a);}['_unbindAss'+'etEvents'](_0x4407e6){this['_assets']['off']('load:start'+':'+_0x4407e6,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x4407e6,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x4407e6,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x40f43a,_0x587b6d){let _0x3dbe51=this['_assetToBu'+'ndles']['get'](_0x40f43a);_0x3dbe51||(_0x3dbe51=new Set(),this['_assetToBu'+'ndles']['set'](_0x40f43a,_0x3dbe51)),_0x3dbe51['add'](_0x587b6d);const _0x104cbe=this['_assets']['get'](_0x40f43a);_0x104cbe&&this['_indexAsse'+'tFileUrls'](_0x104cbe);}['_indexAsse'+'tFileUrls'](_0x10f0a6){const _0x3597e6=this['_getAssetF'+'ileUrls'](_0x10f0a6);if(_0x3597e6)for(let _0x20ca29=0x9d*0x16+0x1b3c+-0x28ba;_0x20ca29<_0x3597e6['length'];_0x20ca29++){const _0x1df6c6=this['_assetToBu'+'ndles']['get'](_0x10f0a6['id']);_0x1df6c6&&this['_urlsToBun'+'dles']['set'](_0x3597e6[_0x20ca29],_0x1df6c6);}}['_getAssetF'+'ileUrls'](_0x3041a7){let _0x36c466=_0x3041a7['getFileUrl']();if(!_0x36c466)return null;_0x36c466=_0x36c466['split']('?')[-0xf09+-0x166d*0x1+0xa*0x3bf];const _0x4bb371=[_0x36c466];if(_0x3041a7['type']==='font'){const _0x2b774a=_0x3041a7['data']['info']['maps']['length'];for(let _0x36c944=-0x1*0x1f67+0x129f+0xcc9;_0x36c944<_0x2b774a;_0x36c944++)_0x4bb371['push'](_0x36c466['replace']('.png',_0x36c944+'.png'));}return _0x4bb371;}['_onAssetRe'+'move'](_0x1583d3){if(_0x1583d3['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x1583d3['id']),this['_unbindAss'+'etEvents'](_0x1583d3['id']);const _0x1f9e2e=_0x1583d3['data']['assets'];for(let _0x2c12f3=-0x4cb*0x1+0x12*-0xd+0x5b5;_0x2c12f3<_0x1f9e2e['length'];_0x2c12f3++){const _0x538168=this['_assetToBu'+'ndles']['get'](_0x1f9e2e[_0x2c12f3]);if(_0x538168&&(_0x538168['delete'](_0x1583d3),_0x538168['size']===-0x2486+-0x155+0xb*0x371)){this['_assetToBu'+'ndles']['delete'](_0x1f9e2e[_0x2c12f3]);for(const [_0x58412e,_0xdde39c]of this['_urlsToBun'+'dles'])_0xdde39c===_0x538168&&this['_urlsToBun'+'dles']['delete'](_0x58412e);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x1583d3['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x1583d3['id']))return;this['_assetToBu'+'ndles']['delete'](_0x1583d3['id']);const _0x59e94d=this['_getAssetF'+'ileUrls'](_0x1583d3);if(!_0x59e94d)return;for(let _0x14c84b=-0xd80+0x137*0xf+0x1*-0x4b9;_0x14c84b<_0x59e94d['length'];_0x14c84b++)this['_urlsToBun'+'dles']['delete'](_0x59e94d[_0x14c84b]);}}['_onBundleL'+'oadStart'](_0x338261){_0x338261['resource']['on']('add',(_0x2a741d,_0x394af5)=>{const _0x500ef4=this['_fileReque'+'sts']['get'](_0x2a741d);if(_0x500ef4){for(let _0x53700f=0x910+-0x48b+-0x59*0xd;_0x53700f<_0x500ef4['length'];_0x53700f++)_0x500ef4[_0x53700f](null,_0x394af5);this['_fileReque'+'sts']['delete'](_0x2a741d);}});}['_onBundleL'+'oad'](_0x1aebe4){if(!_0x1aebe4['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x1aebe4['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x15677b,_0x30218e]of this['_fileReque'+'sts']){const _0x580287=this['_urlsToBun'+'dles']['get'](_0x15677b);if(!_0x580287||!_0x580287['has'](_0x1aebe4))continue;const _0x4f0386=decodeURIComponent(_0x15677b);let _0x44063e,_0x39586f;if(_0x1aebe4['resource']['has'](_0x4f0386))_0x39586f=_0x1aebe4['resource']['get'](_0x4f0386);else{if(_0x1aebe4['resource']['loaded'])_0x44063e='Bundle\x20'+_0x1aebe4['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x15677b;else continue;}for(let _0x31c484=0xb*-0x47+0x220d+-0x1f00;_0x31c484<_0x30218e['length'];_0x31c484++)_0x30218e[_0x31c484](_0x44063e,_0x44063e||_0x39586f);this['_fileReque'+'sts']['delete'](_0x15677b);}}['_onBundleE'+'rror'](_0x4efc87){for(const [_0x2757fd,_0x32167f]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x2757fd)){for(let _0x34ae87=-0x1*0x1dc5+-0xbc7*-0x1+0x11fe;_0x34ae87<_0x32167f['length'];_0x34ae87++)_0x32167f[_0x34ae87](_0x4efc87);this['_fileReque'+'sts']['delete'](_0x2757fd);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x2d7d81){const _0x5a8c51=this['_urlsToBun'+'dles']['get'](_0x2d7d81);if(!_0x5a8c51)return null;let _0x828893=null;for(const _0x1988ba of _0x5a8c51){if(_0x1988ba['loaded']&&_0x1988ba['resource'])return _0x1988ba;_0x1988ba['loading']&&(_0x828893=_0x1988ba);}return _0x828893;}['listBundle'+'sForAsset'](_0x30fbef){const _0x1ff5b6=this['_assetToBu'+'ndles']['get'](_0x30fbef['id']);return _0x1ff5b6?Array['from'](_0x1ff5b6):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x46ed87){return this['_urlsToBun'+'dles']['has'](_0x46ed87);}['urlIsLoade'+'dOrLoading'](_0x10ffad){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x10ffad);}['loadUrl'](_0x4b03f5,_0x2c0079){const _0x543538=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x4b03f5);if(!_0x543538){_0x2c0079('URL\x20'+_0x4b03f5+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x543538['loaded']){const _0x3e2697=decodeURIComponent(_0x4b03f5);if(_0x543538['resource']['has'](_0x3e2697)){_0x2c0079(null,_0x543538['resource']['get'](_0x3e2697));return;}else{if(_0x543538['resource']['loaded']){_0x2c0079('Bundle\x20'+_0x543538['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x4b03f5);return;}}}let _0x1b5faa=this['_fileReque'+'sts']['get'](_0x4b03f5);_0x1b5faa||(_0x1b5faa=[],this['_fileReque'+'sts']['set'](_0x4b03f5,_0x1b5faa)),_0x1b5faa['push'](_0x2c0079);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x9a8008 of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x9a8008);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class sP extends ce{constructor(){super(),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'joint'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'zone'),this['list']=[];}['add'](_0x477866){const _0x38bb68=_0x477866['id'];if(this[_0x38bb68])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x38bb68+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x38bb68]=_0x477866,this['list']['push'](_0x477866);}['remove'](_0x212e57){const _0x1def53=_0x212e57['id'];if(!this[_0x1def53])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x1def53+('\x27\x20register'+'ed'));delete this[_0x1def53];const _0x30344f=this['list']['indexOf'](this[_0x1def53]);_0x30344f!==-(0x1c68+0x1631+-0x3298)&&this['list']['splice'](_0x30344f,0x157e+-0x109e*-0x1+0x79f*-0x5);}['destroy'](){this['off']();for(let _0x170540=0x8ec*-0x3+-0x52*0x29+0x27e6;_0x170540<this['list']['length'];_0x170540++)this['list'][_0x170540]['destroy']();}}class Xu extends ce{constructor(){super(...arguments),c(this,'_index',new Map()),c(this,'_loaded',!(0x245f+0x26*-0x3d+0x10*-0x1b5));}['addFile'](_0x4ec99b,_0x1e91b1){this['_index']['has'](_0x4ec99b)||(this['_index']['set'](_0x4ec99b,_0x1e91b1),this['fire']('add',_0x4ec99b,_0x1e91b1));}['has'](_0x5d874f){return this['_index']['has'](_0x5d874f);}['get'](_0x48b72f){return this['_index']['get'](_0x48b72f)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x105f88){!_0x105f88||this['_loaded']||(this['_loaded']=!(-0x8c+0x195c+-0x18d0),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}c(Xu,'EVENT_ADD','add'),c(Xu,'EVENT_LOAD','load');class iP extends ce{constructor(_0x1da38b,_0x4187e8=''){super(),c(this,'headerSize',-0x2c0+0x808+0x7*-0x78),c(this,'paddingSiz'+'e',0x7f*0x9+-0x19c2+0x174b),c(this,'bytesRead',-0x2d2+-0x574*-0x3+-0x1*0xd8a),c(this,'bytesRecei'+'ved',-0x20c9+0x19d3+-0x252*-0x3),c(this,'headerRead',!(-0x2375+0x205a+0x31c)),c(this,'reader',null),c(this,'data',new Uint8Array(0xc06+0x2138+-0x2d3e)),c(this,'decoder',null),c(this,'prefix',''),c(this,'fileName',''),c(this,'fileSize',-0x2422+0xe*0x292+-0x1*-0x26),c(this,'fileType',''),c(this,'ustarForma'+'t',''),(this['prefix']=_0x4187e8||'',this['reader']=_0x1da38b['body']['getReader'](),this['reader']['read']()['then'](_0x31e7fd=>{this['pump'](_0x31e7fd['done'],_0x31e7fd['value']);})['catch'](_0x310ce9=>{this['fire']('error',_0x310ce9);}));}['pump'](_0x337f2b,_0x4a18d6){if(_0x337f2b)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x4a18d6['byteLength'];const _0x10bcc8=new Uint8Array(this['data']['length']+_0x4a18d6['length']);for(_0x10bcc8['set'](this['data']),_0x10bcc8['set'](_0x4a18d6,this['data']['length']),this['data']=_0x10bcc8;this['readFile'](););return this['reader']['read']()['then'](_0x45a76e=>{this['pump'](_0x45a76e['done'],_0x45a76e['value']);})['catch'](_0x4ba107=>{this['fire']('error',_0x4ba107);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(0x13a6+-0x7db+-0xbcb);const _0x300d20=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x1e60e5=this['decoder']['decode'](_0x300d20);if(this['fileName']=_0x1e60e5['substring'](-0x18b2+-0x1ec4+0x1ca*0x1f,0x1a3c+0x1*-0x14ca+-0x50e)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x1e60e5['substring'](-0x1035+0x1f*0x102+-0xe8d,0x24f0+-0x205+-0x2263),-0x16a8+0x4f*0xd+0x12ad),this['fileType']=_0x1e60e5['substring'](-0x1*0x7b9+-0xd*-0xe1+-0x318,0x452*-0x5+0xb0e+0xb29),this['ustarForma'+'t']=_0x1e60e5['substring'](-0x17e5+0x143f+0x4a7,0x112e*-0x1+0x1*0x1615+-0x3e0),this['ustarForma'+'t']['indexOf']('ustar')!==-(0x1*-0x1079+-0x1*-0x1e7c+-0x1*0xe02)){const _0x38ba07=_0x1e60e5['substring'](-0x1*-0x16e5+-0x1694+0x108,-0x2d*-0x93+-0x183*-0x18+0xd3*-0x49)['replace'](/\0/g,'');_0x38ba07['length']>-0x1432+-0x69a*-0x3+0x64&&(this['fileName']=_0x38ba07['trim']()+this['fileName']['trim']());}this['bytesRead']+=0x1d41+-0xd31*0x2+-0xdf*0x1;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(0x7*-0x2cf+0x1*0x7cd+-0xbdd*-0x1);if(this['fileType']===''||this['fileType']==='0'){const _0x1a1f82=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x2af02d={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x1a1f82};this['fire']('file',_0x2af02d);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(0x10*0xc7+-0x10e*0x22+0x176d);const _0x3c9357=this['bytesRead']%this['paddingSiz'+'e'];return _0x3c9357!==-0x15de+0x24a5*-0x1+0x3a83&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x3c9357),!(0x1b91+-0x2166+0x5d5);}return!(-0x3*0x45c+0xfd7+0x161*-0x2);}}class Ne{constructor(_0x3c84f5,_0x4f4da1){c(this,'handlerTyp'+'e',''),c(this,'_app'),c(this,'_maxRetrie'+'s',-0x5f+0x8*0x2c3+-0x15b9),(this['_app']=_0x3c84f5,this['handlerTyp'+'e']=_0x4f4da1);}set['maxRetries'](_0x484308){this['_maxRetrie'+'s']=_0x484308;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x629bc3,_0x286f1b,_0x3a8ab9){}['open'](_0x1fac6e,_0x27ec19,_0x8a1536){return _0x27ec19;}['patch'](_0x4b9d9a,_0x248288){}}class rP extends Ne{constructor(_0x3d2571){super(_0x3d2571,'bundle'),this['_assets']=_0x3d2571['assets'];}['_fetchRetr'+'ies'](_0x28207d,_0x4d7d9f,_0x4523a4=-0x1*-0x5ab+-0x20f9+0x1b4e){return new Promise((_0x5345c5,_0x1572c2)=>{const _0x443b00=()=>{fetch(_0x28207d,_0x4d7d9f)['then'](_0x5345c5)['catch'](_0x589d4=>{_0x4523a4++,_0x4523a4<this['maxRetries']?(v['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x4523a4),_0x443b00()):_0x1572c2(_0x589d4);});};_0x443b00();});}['load'](_0x4a5fad,_0x40eefb){typeof _0x4a5fad=='string'&&(_0x4a5fad={'load':_0x4a5fad,'original':_0x4a5fad}),this['_fetchRetr'+'ies'](_0x4a5fad['load'],{'mode':'cors','credentials':'include'},this['maxRetries'])['then'](_0x5fe20c=>{const _0x323d5b=new Xu();_0x40eefb(null,_0x323d5b);const _0x8b3a22=new iP(_0x5fe20c,this['_assets']['prefix']);_0x8b3a22['on']('file',_0x456bfe=>{_0x323d5b['addFile'](_0x456bfe['name'],_0x456bfe['data']);}),_0x8b3a22['on']('done',()=>{_0x323d5b['loaded']=!(-0x295*-0xd+-0x3*-0xa33+-0x1*0x402a);}),_0x8b3a22['on']('error',_0x4b3b1f=>{v['error'](_0x4b3b1f),_0x40eefb(_0x4b3b1f);});})['catch'](_0x2ecf29=>{v['error'](_0x2ecf29),_0x40eefb(_0x2ecf29);});}['open'](_0x344faf,_0x36d4ea){return _0x36d4ea;}}class pa{constructor(_0xa35085){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0xa35085;}['addHandler'](_0xc78e69,_0x185650){this['_handlers'][_0xc78e69]=_0x185650,_0x185650['_loader']=this;}['removeHand'+'ler'](_0x4e42d4){delete this['_handlers'][_0x4e42d4];}['getHandler'](_0x2421d0){return this['_handlers'][_0x2421d0];}static['makeKey'](_0x4d9829,_0x333020){return _0x4d9829+'-'+_0x333020;}['load'](_0x3ed316,_0x41b62d,_0x3001c4,_0x14ace9,_0x5d7373){var _0x2e272a;const _0x243aeb=this['_handlers'][_0x41b62d];if(!_0x243aeb){const _0x205de8='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x41b62d+('\x27\x20when\x20loa'+'ding\x20[')+_0x3ed316+']';v['errorOnce'](_0x205de8),_0x3001c4(_0x205de8);return;}if(!_0x3ed316){this['_loadNull'](_0x243aeb,_0x3001c4,_0x14ace9);return;}const _0x2d3c53=pa['makeKey'](_0x3ed316,_0x41b62d);if(this['_cache'][_0x2d3c53]!==void(-0xf70+-0x1a72+-0x6fb*-0x6))_0x3001c4(null,this['_cache'][_0x2d3c53]);else{if(this['_requests'][_0x2d3c53])this['_requests'][_0x2d3c53]['push'](_0x3001c4);else{this['_requests'][_0x2d3c53]=[_0x3001c4];const _0x295763=this,_0x4fbe86=function(_0x1956c0,_0x51b1de){if(_0x1956c0){_0x295763['_onFailure'](_0x2d3c53,_0x1956c0);return;}if(_0x51b1de['load']instanceof DataView){if(_0x243aeb['openBinary']){if(!_0x295763['_requests'][_0x2d3c53])return;try{const _0x16c7b0=_0x243aeb['openBinary'](_0x51b1de['load']);_0x295763['_onSuccess'](_0x2d3c53,_0x16c7b0);}catch(_0x23cc69){_0x295763['_onFailure'](_0x2d3c53,_0x23cc69);}return;}_0x51b1de['load']=URL['createObje'+'ctURL'](new Blob([_0x51b1de['load']])),_0x14ace9&&(_0x14ace9['urlObject']&&URL['revokeObje'+'ctURL'](_0x14ace9['urlObject']),_0x14ace9['urlObject']=_0x51b1de['load']);}_0x243aeb['load'](_0x51b1de,(_0x4d8bd2,_0xc0edec,_0x149bd9)=>{if(_0x295763['_requests'][_0x2d3c53]){if(_0x4d8bd2){_0x295763['_onFailure'](_0x2d3c53,_0x4d8bd2);return;}try{_0x295763['_onSuccess'](_0x2d3c53,_0x243aeb['open'](_0x51b1de['original'],_0xc0edec,_0x14ace9),_0x149bd9);}catch(_0xcb811f){_0x295763['_onFailure'](_0x2d3c53,_0xcb811f);}}},_0x14ace9);},_0xfef4b7=_0x3ed316['split']('?')[-0x1*0x331+-0x1ff7+0x2328];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0xfef4b7)&&!(_0x5d7373&&_0x5d7373['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0xfef4b7)){const _0x1ac574=this['_app']['bundles']['listBundle'+'sForAsset'](_0x14ace9);let _0x9a7f51;_0x5d7373&&_0x5d7373['bundlesFil'+'ter']&&(_0x9a7f51=_0x5d7373['bundlesFil'+'ter'](_0x1ac574)),_0x9a7f51||(_0x1ac574==null||_0x1ac574['sort']((_0x585957,_0xd57dac)=>_0x585957['file']['size']-_0xd57dac['file']['size']),_0x9a7f51=_0x1ac574==null?void(0x5b3+-0x313*-0x1+-0x8c6):_0x1ac574[0x1717+0x21d7+-0x38ee]),_0x9a7f51&&((_0x2e272a=this['_app']['assets'])==null||_0x2e272a['load'](_0x9a7f51));}this['_app']['bundles']['loadUrl'](_0xfef4b7,(_0x38a4ce,_0x392ce3)=>{_0x4fbe86(_0x38a4ce,{'load':_0x392ce3,'original':_0xfef4b7});});}else _0x4fbe86(null,{'load':_0x3ed316,'original':_0x14ace9&&_0x14ace9['file']['filename']||_0x3ed316});}}}['_loadNull'](_0x4c4802,_0x55f4a0,_0xa111f3){const _0x23dfe4=function(_0x287155,_0x30d300,_0x5b12c9){if(_0x287155)_0x55f4a0(_0x287155);else try{_0x55f4a0(null,_0x4c4802['open'](null,_0x30d300,_0xa111f3),_0x5b12c9);}catch(_0x19bceb){_0x55f4a0(_0x19bceb);}};_0x4c4802['load'](null,_0x23dfe4,_0xa111f3);}['_onSuccess'](_0x4302e5,_0x66f8d7,_0x3a3c1e){_0x66f8d7!==null?this['_cache'][_0x4302e5]=_0x66f8d7:delete this['_cache'][_0x4302e5];for(let _0xd752f8=0x1add*0x1+-0x1b47+0x6a*0x1;_0xd752f8<this['_requests'][_0x4302e5]['length'];_0xd752f8++)this['_requests'][_0x4302e5][_0xd752f8](null,_0x66f8d7,_0x3a3c1e);delete this['_requests'][_0x4302e5];}['_onFailure'](_0x4afb56,_0x303881){if(console['error'](_0x303881),this['_requests'][_0x4afb56]){for(let _0x47b7b9=-0x1c6b+0xc*-0x79+0xb5d*0x3;_0x47b7b9<this['_requests'][_0x4afb56]['length'];_0x47b7b9++)this['_requests'][_0x4afb56][_0x47b7b9](_0x303881);delete this['_requests'][_0x4afb56];}}['open'](_0x9f9507,_0x358a3f){const _0x56ded1=this['_handlers'][_0x9f9507];return _0x56ded1?_0x56ded1['open'](null,_0x358a3f):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x9f9507),_0x358a3f);}['patch'](_0x15162a,_0x2dea8d){const _0x2d324f=this['_handlers'][_0x15162a['type']];if(!_0x2d324f){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x15162a['type']);return;}_0x2d324f['patch']&&_0x2d324f['patch'](_0x15162a,_0x2dea8d);}['clearCache'](_0x35c298,_0x959b6d){const _0x18950d=pa['makeKey'](_0x35c298,_0x959b6d);delete this['_cache'][_0x18950d];}['getFromCac'+'he'](_0x319379,_0xa57fb2){const _0x6df464=pa['makeKey'](_0x319379,_0xa57fb2);if(this['_cache'][_0x6df464])return this['_cache'][_0x6df464];}['enableRetr'+'y'](_0x221e90=0xd9d+-0x2003*-0x1+-0x2d9b){_0x221e90=Math['max'](0x1cf6*-0x1+-0xd*0x1+0x425*0x7,_0x221e90)||0x1867+0x1135+-0x1*0x299c;for(const _0x4a8ee2 in this['_handlers'])this['_handlers'][_0x4a8ee2]['maxRetries']=_0x221e90;}['disableRet'+'ry'](){for(const _0x442a90 in this['_handlers'])this['_handlers'][_0x442a90]['maxRetries']=-0x555+0x1a9b+-0x30a*0x7;}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class nP{['_validate'](_0x236125){if(!_0x236125['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x236125['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x236125['header']['version']!==-0x22c0+0x1*0x15cf+-0x1*-0xcf2)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x236125['data']){if(!Array['isArray'](_0x236125['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x13236f=-0x1728+-0x1009+-0x2731*-0x1,_0x4b8227=_0x236125['data']['length'];_0x13236f<_0x4b8227;_0x13236f++){const _0x1d1a19=_0x236125['data'][_0x13236f];if(!_0x1d1a19['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x13236f+('].info\x22\x20fi'+'eld'));if(!_0x1d1a19['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x13236f+('].info.loc'+'ale\x22\x20field'));if(typeof _0x1d1a19['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x13236f+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x1d1a19['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x13236f+('].messages'+'\x22\x20field'));}}['parse'](_0x35a69a){return this['_validate'](_0x35a69a),_0x35a69a['data'];}}class aP extends ce{constructor(_0x1c80ad){super(),this['locale']=Wh,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x1c80ad,this['_assets']=[],this['_parser']=new nP();}set['assets'](_0x46dde1){const _0xff5a9b={};for(let _0x46e86c=-0xe17*-0x1+-0x1107+0x2*0x178,_0x4e2493=_0x46dde1['length'];_0x46e86c<_0x4e2493;_0x46e86c++){const _0x8b596f=_0x46dde1[_0x46e86c]instanceof le?_0x46dde1[_0x46e86c]['id']:_0x46dde1[_0x46e86c];_0xff5a9b[_0x8b596f]=!(0x1a6c+0x1e08+-0x3874);}let _0x44be76=this['_assets']['length'];for(;_0x44be76--;){const _0x174c03=this['_assets'][_0x44be76];if(!_0xff5a9b[_0x174c03]){this['_app']['assets']['off']('add:'+_0x174c03,this['_onAssetAd'+'d'],this);const _0x48773a=this['_app']['assets']['get'](_0x174c03);_0x48773a&&this['_onAssetRe'+'move'](_0x48773a),this['_assets']['splice'](_0x44be76,0x1*0x2689+-0x7fd+0x1e8b*-0x1);}}for(const _0x518434 in _0xff5a9b){const _0x533f02=parseInt(_0x518434,-0x31*-0xc5+-0x1*0x5b2+-0x1ff9);if(this['_assets']['indexOf'](_0x533f02)!==-(-0x13f6+-0x1d3b+-0x2*-0x1899))continue;this['_assets']['push'](_0x533f02);const _0x31fd82=this['_app']['assets']['get'](_0x533f02);_0x31fd82?this['_onAssetAd'+'d'](_0x31fd82):this['_app']['assets']['once']('add:'+_0x533f02,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x2c87b9){if(this['_locale']===_0x2c87b9)return;let _0x9cc91f=pi(_0x2c87b9);if(_0x9cc91f==='in'&&(_0x9cc91f='id',_0x2c87b9=Y1(_0x2c87b9,_0x9cc91f),this['_locale']===_0x2c87b9))return;const _0x370c20=this['_locale'];this['_locale']=_0x2c87b9,this['_lang']=_0x9cc91f,this['_pluralFn']=Xd(this['_lang']),this['fire']('set:locale',_0x2c87b9,_0x370c20);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x4bf99f,_0x50968c){return V0(_0x4bf99f,_0x50968c);}['findAvaila'+'bleLocale'](_0x473a13){if(this['_translati'+'ons'][_0x473a13])return _0x473a13;const _0x1e65df=pi(_0x473a13);return this['_findFallb'+'ackLocale'](_0x473a13,_0x1e65df);}['getText'](_0x42cde5,_0x4d35d1){let _0x397b79=_0x42cde5,_0x1b4d62;_0x4d35d1||(_0x4d35d1=this['_locale'],_0x1b4d62=this['_lang']);let _0x342ee9=this['_translati'+'ons'][_0x4d35d1];return _0x342ee9||(_0x1b4d62||(_0x1b4d62=pi(_0x4d35d1)),_0x4d35d1=this['_findFallb'+'ackLocale'](_0x4d35d1,_0x1b4d62),_0x342ee9=this['_translati'+'ons'][_0x4d35d1]),_0x342ee9&&_0x342ee9['hasOwnProp'+'erty'](_0x42cde5)&&(_0x397b79=_0x342ee9[_0x42cde5],Array['isArray'](_0x397b79)&&(_0x397b79=_0x397b79[-0x2023+-0xff4+-0xd*-0x3b3]),_0x397b79==null&&(_0x397b79=_0x42cde5)),_0x397b79;}['getPluralT'+'ext'](_0x439363,_0x5ada08,_0x57f77a){let _0x3e41fa=_0x439363,_0x3c16a3,_0x419c1b;_0x57f77a?(_0x3c16a3=pi(_0x57f77a),_0x419c1b=Xd(_0x3c16a3)):(_0x57f77a=this['_locale'],_0x3c16a3=this['_lang'],_0x419c1b=this['_pluralFn']);let _0x3705cf=this['_translati'+'ons'][_0x57f77a];if(_0x3705cf||(_0x57f77a=this['_findFallb'+'ackLocale'](_0x57f77a,_0x3c16a3),_0x3c16a3=pi(_0x57f77a),_0x419c1b=Xd(_0x3c16a3),_0x3705cf=this['_translati'+'ons'][_0x57f77a]),_0x3705cf&&_0x3705cf[_0x439363]&&_0x419c1b){const _0x5559d4=_0x419c1b(_0x5ada08);_0x3e41fa=_0x3705cf[_0x439363][_0x5559d4],_0x3e41fa==null&&(_0x3e41fa=_0x439363);}return _0x3e41fa;}['addData'](_0x4cf7a3){let _0x9ba216;try{_0x9ba216=this['_parser']['parse'](_0x4cf7a3);}catch(_0x1437ae){console['error'](_0x1437ae);return;}for(let _0xa732b=0x12aa+-0x2637+0x138d,_0xe218f=_0x9ba216['length'];_0xa732b<_0xe218f;_0xa732b++){const _0x3e169a=_0x9ba216[_0xa732b],_0xa743b4=_0x3e169a['info']['locale'],_0x59c032=_0x3e169a['messages'];if(!this['_translati'+'ons'][_0xa743b4]){this['_translati'+'ons'][_0xa743b4]={};const _0x985a35=pi(_0xa743b4);this['_available'+'Langs'][_0x985a35]||(this['_available'+'Langs'][_0x985a35]=_0xa743b4);}Object['assign'](this['_translati'+'ons'][_0xa743b4],_0x59c032),this['fire']('data:add',_0xa743b4,_0x59c032);}}['removeData'](_0x2ce1d2){let _0x365b1e;try{_0x365b1e=this['_parser']['parse'](_0x2ce1d2);}catch(_0x4e31e5){console['error'](_0x4e31e5);return;}for(let _0x39d0b2=0xa3*-0xb+-0xa*0x362+0x28d5,_0x4d4045=_0x365b1e['length'];_0x39d0b2<_0x4d4045;_0x39d0b2++){const _0x36d0f1=_0x365b1e[_0x39d0b2],_0x16ef5d=_0x36d0f1['info']['locale'],_0x521e5f=this['_translati'+'ons'][_0x16ef5d];if(!_0x521e5f)continue;const _0x1d17ef=_0x36d0f1['messages'];for(const _0xb9849 in _0x1d17ef)delete _0x521e5f[_0xb9849];Object['keys'](_0x521e5f)['length']===0xf2d+-0x1*-0x57e+-0x14ab*0x1&&(delete this['_translati'+'ons'][_0x16ef5d],delete this['_available'+'Langs'][pi(_0x16ef5d)]),this['fire']('data:remov'+'e',_0x16ef5d,_0x1d17ef);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x4ab72b,_0x29daa2){let _0x48c635=$h[_0x4ab72b];return _0x48c635&&this['_translati'+'ons'][_0x48c635]||(_0x48c635=$h[_0x29daa2],_0x48c635&&this['_translati'+'ons'][_0x48c635])||(_0x48c635=this['_available'+'Langs'][_0x29daa2],_0x48c635&&this['_translati'+'ons'][_0x48c635])?_0x48c635:Wh;}['_onAssetAd'+'d'](_0x29a392){_0x29a392['on']('load',this['_onAssetLo'+'ad'],this),_0x29a392['on']('change',this['_onAssetCh'+'ange'],this),_0x29a392['on']('remove',this['_onAssetRe'+'move'],this),_0x29a392['on']('unload',this['_onAssetUn'+'load'],this),_0x29a392['resource']&&this['_onAssetLo'+'ad'](_0x29a392);}['_onAssetLo'+'ad'](_0x43289f){this['addData'](_0x43289f['resource']);}['_onAssetCh'+'ange'](_0x26e5f9){_0x26e5f9['resource']&&this['addData'](_0x26e5f9['resource']);}['_onAssetRe'+'move'](_0x27da33){_0x27da33['off']('load',this['_onAssetLo'+'ad'],this),_0x27da33['off']('change',this['_onAssetCh'+'ange'],this),_0x27da33['off']('remove',this['_onAssetRe'+'move'],this),_0x27da33['off']('unload',this['_onAssetUn'+'load'],this),_0x27da33['resource']&&this['removeData'](_0x27da33['resource']),this['_app']['assets']['once']('add:'+_0x27da33['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x2e3f15){_0x2e3f15['resource']&&this['removeData'](_0x2e3f15['resource']);}}class oP extends ce{constructor(_0x312950){super(),c(this,'_scripts',{}),c(this,'_list',[]),c(this,'_scriptSch'+'emas',new Map()),this['app']=_0x312950;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x17b9c0,_0x192933){_0x192933&&this['_scriptSch'+'emas']['set'](_0x17b9c0,_0x192933);}['getSchema'](_0x3ba172){return this['_scriptSch'+'emas']['get'](_0x3ba172);}['add'](_0xd99d8d){const _0x19e11d=_0xd99d8d['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x19e11d)?(setTimeout(()=>{if(_0xd99d8d['prototype']['swap']){const _0x404108=this['_scripts'][_0x19e11d],_0x13e22e=this['_list']['indexOf'](_0x404108);this['_list'][_0x13e22e]=_0xd99d8d,this['_scripts'][_0x19e11d]=_0xd99d8d,this['fire']('swap',_0x19e11d,_0xd99d8d),this['fire']('swap:'+_0x19e11d,_0xd99d8d);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x19e11d+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(-0x26de+-0xc25*0x1+0x14*0x28d)):(this['_scripts'][_0x19e11d]=_0xd99d8d,this['_list']['push'](_0xd99d8d),this['fire']('add',_0x19e11d,_0xd99d8d),this['fire']('add:'+_0x19e11d,_0xd99d8d),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x19e11d)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x10209f=this['app']['systems']['script']['_component'+'s'];let _0x53aac3;const _0x28cda2=[],_0x1a8b46=[];for(_0x10209f['loopIndex']=0x2*0xf2f+-0x1e54+-0xa;_0x10209f['loopIndex']<_0x10209f['length'];_0x10209f['loopIndex']++){const _0x11cc4b=_0x10209f['items'][_0x10209f['loopIndex']];if(_0x11cc4b['_scriptsIn'+'dex'][_0x19e11d]&&_0x11cc4b['_scriptsIn'+'dex'][_0x19e11d]['awaiting']){_0x11cc4b['_scriptsDa'+'ta']&&_0x11cc4b['_scriptsDa'+'ta'][_0x19e11d]&&(_0x53aac3=_0x11cc4b['_scriptsDa'+'ta'][_0x19e11d]['attributes']);const _0x1a0faf=_0x11cc4b['create'](_0x19e11d,{'preloading':!(0x13b7+-0x192*0xd+0xb3*0x1),'ind':_0x11cc4b['_scriptsIn'+'dex'][_0x19e11d]['ind'],'attributes':_0x53aac3});_0x1a0faf&&_0x28cda2['push'](_0x1a0faf);for(const _0x32178f of _0x11cc4b['scripts'])_0x11cc4b['initialize'+'Attributes'](_0x32178f);}}for(let _0xd0e095=0xf95+-0x1158+0x1c3;_0xd0e095<_0x28cda2['length'];_0xd0e095++)_0x28cda2[_0xd0e095]['enabled']&&(_0x28cda2[_0xd0e095]['_initializ'+'ed']=!(0x2*0x127+-0x1*0x7f1+0x5a3),_0x1a8b46['push'](_0x28cda2[_0xd0e095]),_0x28cda2[_0xd0e095]['initialize']&&_0x28cda2[_0xd0e095]['initialize']());for(let _0x62fb15=-0x9*0x59+-0x1304+0x1625;_0x62fb15<_0x1a8b46['length'];_0x62fb15++)!_0x1a8b46[_0x62fb15]['enabled']||_0x1a8b46[_0x62fb15]['_postIniti'+'alized']||(_0x1a8b46[_0x62fb15]['_postIniti'+'alized']=!(-0x8e*0x36+0x1247*0x2+0x5*-0x152),_0x1a8b46[_0x62fb15]['postInitia'+'lize']&&_0x1a8b46[_0x62fb15]['postInitia'+'lize']());}),!(0x5*-0x3d7+0x1b87+-0x854));}['remove'](_0x23ba2e){let _0xf67480=_0x23ba2e,_0x2599d5=_0x23ba2e;if(typeof _0x2599d5!='string'?_0x2599d5=_0xf67480['__name']:_0xf67480=this['get'](_0x2599d5),this['get'](_0x2599d5)!==_0xf67480)return!(-0x4d6*0x5+0x22da+-0xaab);delete this['_scripts'][_0x2599d5];const _0x5939b2=this['_list']['indexOf'](_0xf67480);return this['_list']['splice'](_0x5939b2,-0xe*0x283+0xeaa+0x1481),this['fire']('remove',_0x2599d5,_0xf67480),this['fire']('remove:'+_0x2599d5,_0xf67480),!(0x210*0x7+0x78e*0x2+-0x1d8c);}['get'](_0x4c6624){return this['_scripts'][_0x4c6624]||null;}['has'](_0x3c3f1c){if(typeof _0x3c3f1c=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x3c3f1c);if(!_0x3c3f1c)return!(0x1af3+-0x9fd+-0x5a7*0x3);const _0x216b2d=_0x3c3f1c['__name'];return this['_scripts'][_0x216b2d]===_0x3c3f1c;}['list'](){return this['_list'];}}const lP=(_0x12864d,_0x31f921)=>_0x12864d['constructo'+'r']['order']-_0x31f921['constructo'+'r']['order'],hP=_0x1b54b7=>_0x1b54b7['sort'](lP),Za=[],G0=[],cP=()=>G0['pop']()??[],$_=_0x58d5c2=>{_0x58d5c2['length']=-0x2*0xd2d+0xb15*0x3+-0x6e5*0x1,G0['push'](_0x58d5c2);},ac=class ac extends De{constructor(_0x3a0133,_0x10f8af=tn()){super(_0x3a0133),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'gsplat'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'c',{}),c(this,'_app'),c(this,'_destroyin'+'g',!(-0x1*0x18cd+-0x97d+0x224b)),c(this,'_guid',null),c(this,'_template',!(0x1acf*-0x1+-0x24e6+0x3fb6)),(v['assert'](_0x10f8af,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x10f8af);}['addCompone'+'nt'](_0x39686a,_0x3f3836){const _0x56e59=this['_app']['systems'][_0x39686a];return _0x56e59?this['c'][_0x39686a]?(v['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x39686a+('\x27\x20componen'+'t')),null):_0x56e59['addCompone'+'nt'](this,_0x3f3836):(v['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x39686a+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x225cfe){const _0x2c03cd=this['_app']['systems'][_0x225cfe];if(!_0x2c03cd){v['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x225cfe+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x225cfe]){v['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x225cfe+('\x27\x20componen'+'t'));return;}_0x2c03cd['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x3a1bc4){const _0xfacc32=this['findOne'](_0x520566=>{var _0x25ce2b;return(_0x25ce2b=_0x520566['c'])==null?void(-0x742*0x1+0x5*0x6eb+0x1*-0x1b55):_0x25ce2b[_0x3a1bc4];});return _0xfacc32&&_0xfacc32['c'][_0x3a1bc4];}['findCompon'+'ents'](_0x530de9){return this['find'](_0x4dba00=>{var _0x5362d5;return(_0x5362d5=_0x4dba00['c'])==null?void(-0x22e5+0x122f*0x1+0x10b6):_0x5362d5[_0x530de9];})['map'](_0x330af7=>_0x330af7['c'][_0x530de9]);}['findScript'](_0x5c7283){const _0x15301c=this['findOne'](_0x1b700b=>{var _0x78577a,_0x24ed7f;return(_0x24ed7f=(_0x78577a=_0x1b700b['c'])==null?void(0x8da+0x16af+-0x1f89):_0x78577a['script'])==null?void(-0x2693+0x2*-0x2c4+0x7*0x64d):_0x24ed7f['has'](_0x5c7283);});return _0x15301c==null?void(0xb*0x2f5+0x21f1+-0x4278):_0x15301c['c']['script']['get'](_0x5c7283);}['findScript'+'s'](_0x27eaba){return this['find'](_0x16d28b=>{var _0x18a65d,_0x27c161;return(_0x27c161=(_0x18a65d=_0x16d28b['c'])==null?void(0x26e5+0x15f2*0x1+-0x3cd7):_0x18a65d['script'])==null?void(0x63d+0x1*-0x2485+0x1e48):_0x27c161['has'](_0x27eaba);})['map'](_0x43c2fe=>_0x43c2fe['c']['script']['get'](_0x27eaba));}['getGuid'](){return this['_guid']||this['setGuid'](sS['create']()),this['_guid'];}['setGuid'](_0x51ea97){const _0x4c1a6a=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x4c1a6a[this['_guid']],this['_guid']=_0x51ea97,_0x4c1a6a[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x56e72d,_0x3a7ff6){let _0x4fadb7=!(-0x263d+-0xf58+0x2d2*0x13);_0x56e72d===this&&Za['length']===-0x1*0x85c+-0x17ad+0x2009&&(_0x4fadb7=!(-0xb9d+-0x7f9+-0x17*-0xda)),_0x56e72d['_beingEnab'+'led']=!(-0xf3f+-0x1*-0x316+0xc29),_0x56e72d['_onHierarc'+'hyStateCha'+'nged'](_0x3a7ff6),_0x56e72d['_onHierarc'+'hyStatePos'+'tChanged']&&Za['push'](_0x56e72d);const _0x3b5e40=_0x56e72d['_children'];for(let _0x82d5e4=-0x89+-0x41*0x97+0x26e0,_0x1bdd75=_0x3b5e40['length'];_0x82d5e4<_0x1bdd75;_0x82d5e4++)_0x3b5e40[_0x82d5e4]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x3b5e40[_0x82d5e4],_0x3a7ff6);if(_0x56e72d['_beingEnab'+'led']=!(-0x12bb+-0x1*-0x12a+0x1192),_0x4fadb7){for(let _0x2ef2b5=0x18a*0x7+0xb2c+-0x15f2;_0x2ef2b5<Za['length'];_0x2ef2b5++)Za[_0x2ef2b5]['_onHierarc'+'hyStatePos'+'tChanged']();Za['length']=0x1*-0x24d5+-0x1af5*-0x1+0x9e0;}}['_onHierarc'+'hyStateCha'+'nged'](_0x4cd07b){super['_onHierarc'+'hyStateCha'+'nged'](_0x4cd07b);const _0x60358d=this['_getSorted'+'Components']();for(let _0xc7dce=-0x64f+0x49*0x34+-0x885;_0xc7dce<_0x60358d['length'];_0xc7dce++){const _0x3550ad=_0x60358d[_0xc7dce];_0x3550ad['enabled']&&(_0x4cd07b?_0x3550ad['onEnable']():_0x3550ad['onDisable']());}$_(_0x60358d);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x27f888=this['_getSorted'+'Components']();for(let _0x281f5e=-0xffd+-0x37d+0x137a;_0x281f5e<_0x27f888['length'];_0x281f5e++)_0x27f888[_0x281f5e]['onPostStat'+'eChange']();$_(_0x27f888);}['findByGuid'](_0x18ed72){if(this['_guid']===_0x18ed72)return this;const _0x237065=this['_app']['_entityInd'+'ex'][_0x18ed72];return _0x237065&&(_0x237065===this||_0x237065['isDescenda'+'ntOf'](this))?_0x237065:null;}['destroy'](){this['_destroyin'+'g']=!(-0x5c*0x18+0x8d*-0x24+0x1c74);for(const _0x5d5b1f in this['c'])this['c'][_0x5d5b1f]['enabled']=!(-0x1e5*-0x11+-0xfbe*0x2+-0xb8);for(const _0x53d0dd in this['c'])this['c'][_0x53d0dd]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(0x60d*-0x1+0xd*0x2f9+-0x2097);}['clone'](){const _0x3090ee={},_0x597877=this['_cloneRecu'+'rsively'](_0x3090ee);return _0x3090ee[this['getGuid']()]=_0x597877,H0(this,this,_0x597877,_0x3090ee),_0x597877;}['_getSorted'+'Components'](){const _0x3eba7d=this['c'],_0x5791de=cP();let _0x47019f=0x1353*0x2+0x897+-0x2f3d;for(const _0x5d5e37 in _0x3eba7d)if(_0x3eba7d['hasOwnProp'+'erty'](_0x5d5e37)){const _0x3160aa=_0x3eba7d[_0x5d5e37];_0x47019f|=_0x3160aa['constructo'+'r']['order']!==-0xc8f*-0x1+-0x1b60+0xed1,_0x5791de['push'](_0x3160aa);}return _0x47019f&&_0x5791de['length']>0x937*-0x1+0x1e94+-0x155c&&hP(_0x5791de),_0x5791de;}['_cloneRecu'+'rsively'](_0x42121a){const _0x5b78e9=new this['constructo'+'r'](void(0x4*-0x67a+-0x5*0x25b+0x25af*0x1),this['_app']);super['_cloneInte'+'rnal'](_0x5b78e9);for(const _0x53f4f9 in this['c'])this['c'][_0x53f4f9]['system']['cloneCompo'+'nent'](this,_0x5b78e9);for(let _0x2f1cdf=-0x3*-0x260+0x1b*0x35+-0xcb7;_0x2f1cdf<this['_children']['length'];_0x2f1cdf++){const _0x3a6bc0=this['_children'][_0x2f1cdf];if(_0x3a6bc0 instanceof ac){const _0x5f1996=_0x3a6bc0['_cloneRecu'+'rsively'](_0x42121a);_0x5b78e9['addChild'](_0x5f1996),_0x42121a[_0x3a6bc0['getGuid']()]=_0x5f1996;}}return _0x5b78e9;}};c(ac,'EVENT_DEST'+'ROY','destroy');let We=ac;function H0(_0x534188,_0x4691a4,_0x71ca9c,_0x58700b){if(_0x4691a4 instanceof We){const _0x35242a=_0x4691a4['c'];for(const _0x3c403a in _0x35242a){const _0x4f469f=_0x35242a[_0x3c403a],_0x451a3e=_0x4f469f['system']['getPropert'+'iesOfType']('entity');for(let _0x435618=0x2159+-0x1780+-0x9d9,_0x285515=_0x451a3e['length'];_0x435618<_0x285515;_0x435618++){const _0x57d10a=_0x451a3e[_0x435618]['name'],_0x4b613d=_0x4f469f[_0x57d10a];if(!!_0x534188['findByGuid'](_0x4b613d)){const _0xdab779=_0x58700b[_0x4b613d]['getGuid']();_0xdab779?_0x71ca9c['c'][_0x3c403a][_0x57d10a]=_0xdab779:v['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x35242a['script']&&_0x71ca9c['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x35242a['script'],_0x58700b),_0x35242a['render']&&_0x71ca9c['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x35242a['render'],_0x58700b),_0x35242a['button']&&_0x71ca9c['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x35242a['button'],_0x58700b),_0x35242a['scrollview']&&_0x71ca9c['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x35242a['scrollview'],_0x58700b),_0x35242a['scrollbar']&&_0x71ca9c['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x35242a['scrollbar'],_0x58700b),_0x35242a['anim']&&_0x71ca9c['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x35242a['anim'],_0x58700b);const _0x1848ed=_0x4691a4['children']['filter'](_0x4305ff=>_0x4305ff instanceof We),_0x10846d=_0x71ca9c['children']['filter'](_0x4c9eeb=>_0x4c9eeb instanceof We);for(let _0x22f20e=-0xb*0x1b3+0x1f45+-0x5*0x284,_0x114d5e=_0x1848ed['length'];_0x22f20e<_0x114d5e;_0x22f20e++)H0(_0x534188,_0x1848ed[_0x22f20e],_0x10846d[_0x22f20e],_0x58700b);}}class q_{constructor(_0x4a2501,_0xd80f43){c(this,'name'),c(this,'url'),c(this,'data',null),c(this,'_loading',!(-0x24bb*-0x1+-0x4*-0x274+-0x25*0x142)),c(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x4a2501,this['url']=_0xd80f43);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class dP{constructor(_0x3e0a6f){c(this,'_app'),c(this,'_list',[]),c(this,'_index',{}),c(this,'_urlIndex',{}),this['_app']=_0x3e0a6f;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x74ea2c,_0x3ff5bf){if(this['_index']['hasOwnProp'+'erty'](_0x74ea2c))return v['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x74ea2c),!(0x19c3*0x1+0x1ea4+-0x3866);const _0x32aaab=new q_(_0x74ea2c,_0x3ff5bf),_0x4bae97=this['_list']['push'](_0x32aaab);return this['_index'][_0x32aaab['name']]=_0x4bae97-(-0x2dd+0x1*-0x14b6+0x1794*0x1),this['_urlIndex'][_0x32aaab['url']]=_0x4bae97-(0x1*0x141b+0x122+-0x153c),!(-0x17*0x127+0x1dd9*-0x1+-0x1c2d*-0x2);}['find'](_0x22053c){return this['_index']['hasOwnProp'+'erty'](_0x22053c)?this['_list'][this['_index'][_0x22053c]]:null;}['findByUrl'](_0x176cbe){return this['_urlIndex']['hasOwnProp'+'erty'](_0x176cbe)?this['_list'][this['_urlIndex'][_0x176cbe]]:null;}['remove'](_0x462be6){if(this['_index']['hasOwnProp'+'erty'](_0x462be6)){const _0x1069c9=this['_index'][_0x462be6];let _0x72cf68=this['_list'][_0x1069c9];delete this['_urlIndex'][_0x72cf68['url']],delete this['_index'][_0x462be6],this['_list']['splice'](_0x1069c9,-0x1a48+-0x18d5+0x331e);for(let _0x1d6de5=-0x156d+0x123b*-0x1+0x1*0x27a8;_0x1d6de5<this['_list']['length'];_0x1d6de5++)_0x72cf68=this['_list'][_0x1d6de5],this['_index'][_0x72cf68['name']]=_0x1d6de5,this['_urlIndex'][_0x72cf68['url']]=_0x1d6de5;}}['_loadScene'+'Data'](_0x5d99b7,_0x485b29,_0x1ad024){const _0x50583f=this['_app'];let _0x595296=_0x5d99b7;if(typeof _0x5d99b7=='string'&&(_0x5d99b7=this['findByUrl'](_0x595296)||this['find'](_0x595296)||new q_('Untitled',_0x595296)),_0x595296=_0x5d99b7['url'],!_0x595296){_0x1ad024('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x5d99b7['loaded']){_0x1ad024(null,_0x5d99b7);return;}_0x50583f['assets']&&_0x50583f['assets']['prefix']&&!Da['test'](_0x595296)&&(_0x595296=fe['join'](_0x50583f['assets']['prefix'],_0x595296)),_0x5d99b7['_onLoadedC'+'allbacks']['push'](_0x1ad024),_0x5d99b7['_loading']||_0x50583f['loader']['getHandler']('hierarchy')['load'](_0x595296,(_0x269648,_0x48fd73)=>{_0x5d99b7['data']=_0x48fd73,_0x5d99b7['_loading']=!(-0x1a3*-0x1+0x4*-0x115+0x2b2);for(let _0x210d65=-0x19c7*-0x1+-0x261+-0x1766;_0x210d65<_0x5d99b7['_onLoadedC'+'allbacks']['length'];_0x210d65++)_0x5d99b7['_onLoadedC'+'allbacks'][_0x210d65](_0x269648,_0x5d99b7);_0x485b29||(_0x5d99b7['data']=null),_0x5d99b7['_onLoadedC'+'allbacks']['length']=-0x1d5*0xa+-0x1*0xc5f+-0x3*-0xa3b;}),_0x5d99b7['_loading']=!(0x2234+-0x2c2*-0x2+-0x27b8);}['loadSceneD'+'ata'](_0x5b4a1b,_0x4abcb0){this['_loadScene'+'Data'](_0x5b4a1b,!(0x59*-0x18+0x2*0xef+0x67a),_0x4abcb0);}['unloadScen'+'eData'](_0x29118c){typeof _0x29118c=='string'&&(_0x29118c=this['findByUrl'](_0x29118c)),_0x29118c&&(_0x29118c['data']=null);}['_loadScene'+'Hierarchy'](_0x185086,_0x2c6ecd,_0x9e45e3){this['_loadScene'+'Data'](_0x185086,!(0x18d1*0x1+-0x1*-0x4b4+-0x1d84),(_0x4ad95c,_0x142096)=>{if(_0x4ad95c){_0x9e45e3&&_0x9e45e3(_0x4ad95c);return;}_0x2c6ecd&&_0x2c6ecd(_0x142096);const _0xaab334=this['_app'],_0x201d61=()=>{const _0x52ce09=_0xaab334['loader']['getHandler']('hierarchy');_0xaab334['systems']['script']['preloading']=!(-0x1a*-0x12a+-0x1507*0x1+-0x93d*0x1);const _0x1b843e=_0x52ce09['open'](_0x142096['url'],_0x142096['data']);_0xaab334['systems']['script']['preloading']=!(0x1154+0x1d26+-0x2e79*0x1),_0xaab334['loader']['clearCache'](_0x142096['url'],'hierarchy'),_0xaab334['root']['addChild'](_0x1b843e),_0xaab334['systems']['fire']('initialize',_0x1b843e),_0xaab334['systems']['fire']('postInitia'+'lize',_0x1b843e),_0xaab334['systems']['fire']('postPostIn'+'itialize',_0x1b843e),_0x9e45e3&&_0x9e45e3(null,_0x1b843e);};_0xaab334['_preloadSc'+'ripts'](_0x142096['data'],_0x201d61);});}['loadSceneH'+'ierarchy'](_0x2c2712,_0x522977){this['_loadScene'+'Hierarchy'](_0x2c2712,null,_0x522977);}['loadSceneS'+'ettings'](_0x548622,_0xc383bc){this['_loadScene'+'Data'](_0x548622,!(-0x24cf+-0x1*0x16b8+-0x1fc*-0x1e),(_0xe0a64d,_0x163c8e)=>{_0xe0a64d?_0xc383bc&&_0xc383bc(_0xe0a64d):(this['_app']['applyScene'+'Settings'](_0x163c8e['data']['settings']),_0xc383bc&&_0xc383bc(null));});}['changeScen'+'e'](_0x2eb330,_0x1c3413){const _0x8994f5=this['_app'],_0x4e7698=_0xe716da=>{const {children:_0x312ea7}=_0x8994f5['root'];for(;_0x312ea7['length'];)_0x312ea7[0x2542+0x165*0x17+-0x4555]['destroy']();_0x8994f5['applyScene'+'Settings'](_0xe716da['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x2eb330,_0x4e7698,_0x1c3413);}['loadScene'](_0x2d1576,_0x4b243f){const _0x2d5602=this['_app'],_0x43d625=_0x2d5602['loader']['getHandler']('scene');_0x2d5602['assets']&&_0x2d5602['assets']['prefix']&&!Da['test'](_0x2d1576)&&(_0x2d1576=fe['join'](_0x2d5602['assets']['prefix'],_0x2d1576)),_0x43d625['load'](_0x2d1576,(_0x589939,_0x15d3e6)=>{if(_0x589939)_0x4b243f&&_0x4b243f(_0x589939);else{const _0x36e421=()=>{_0x2d5602['systems']['script']['preloading']=!(-0x21ec+0x161*-0xd+-0xd*-0x3fd);const _0x4520c5=_0x43d625['open'](_0x2d1576,_0x15d3e6),_0x3f537e=this['findByUrl'](_0x2d1576);_0x3f537e&&!_0x3f537e['loaded']&&(_0x3f537e['data']=_0x15d3e6),_0x2d5602['systems']['script']['preloading']=!(-0x2697*0x1+0x1*-0x12ef+-0x1*-0x3987),_0x2d5602['loader']['clearCache'](_0x2d1576,'scene'),_0x2d5602['loader']['patch']({'resource':_0x4520c5,'type':'scene'},_0x2d5602['assets']),_0x2d5602['root']['addChild'](_0x4520c5['root']),_0x2d5602['systems']['rigidbody']&&typeof Ammo<'u'&&_0x2d5602['systems']['rigidbody']['gravity']['set'](_0x4520c5['_gravity']['x'],_0x4520c5['_gravity']['y'],_0x4520c5['_gravity']['z']),_0x4b243f&&_0x4b243f(null,_0x4520c5);};_0x2d5602['_preloadSc'+'ripts'](_0x15d3e6,_0x36e421);}});}}class uP{constructor(_0x461c5f){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x461c5f['_shaderSta'+'ts'],this['vram']=_0x461c5f['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return tn()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x334733;return(_0x334733=tn()['lightmappe'+'r'])==null?void(-0x989*0x1+0x22f6+-0x196d):_0x334733['stats'];}get['batcher'](){const _0x4205e8=tn()['_batcher'];return _0x4205e8?_0x4205e8['_stats']:null;}}const Gr=class Gr extends ce{constructor(_0x11b758){super(),c(this,'_batcher',null),c(this,'_destroyRe'+'quested',!(-0x18c9*0x1+0x6*-0x544+-0x80e*-0x7)),c(this,'_inFrameUp'+'date',!(-0x1707+0xa0b+0x1db*0x7)),c(this,'_libraries'+'Loaded',!(-0xd2c+0x39*-0x67+0x120e*0x2)),c(this,'_fillMode',V_),c(this,'_resolutio'+'nMode',q1),c(this,'_allowResi'+'ze',!(-0x1*0x18d2+0x1e77+0x11*-0x55)),c(this,'_skyboxAss'+'et',null),c(this,'_soundMana'+'ger'),c(this,'_visibilit'+'yChangeHan'+'dler'),c(this,'_entityInd'+'ex',{}),c(this,'_inTools',!(0x1*-0xa7c+0x1b74+0x1*-0x10f7)),c(this,'_scriptPre'+'fix',''),c(this,'_time',0x1331+-0x1d3+-0x115e),c(this,'enableBund'+'les',typeof TextDecoder<'u'),c(this,'frameReque'+'stId'),c(this,'timeScale',0x2cd*-0x1+-0x20be+0x238c),c(this,'maxDeltaTi'+'me',-0x26c9+-0x46*-0x6e+0x2e7*0x3+0.1),c(this,'frame',-0x11c9+-0x910*0x3+0x2cf9),c(this,'frameGraph',new X1()),c(this,'renderer'),c(this,'scriptsOrd'+'er',[]),c(this,'stats'),c(this,'autoRender',!(-0x1*0x32f+0x26*0x80+-0xfd1*0x1)),c(this,'renderNext'+'Frame',!(-0x39*-0xe+-0x247*0x11+0x239a)),c(this,'graphicsDe'+'vice'),c(this,'root'),c(this,'scene'),c(this,'lightmappe'+'r',null),c(this,'loader',new pa(this)),c(this,'assets'),c(this,'bundles'),c(this,'scenes',new dP(this)),c(this,'scripts',new oP(this)),c(this,'systems',new sP()),c(this,'i18n',new aP(this)),c(this,'keyboard',null),c(this,'mouse',null),c(this,'touch',null),c(this,'gamepads',null),c(this,'elementInp'+'ut',null),c(this,'xr',null),((no==null?void(-0x4*0x65f+0x13ae+0x5ce):no['indexOf']('$'))<-0x12c6+0x119+0x11ad&&v['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+no+'\x20'+sy),Gr['_applicati'+'ons'][_0x11b758['id']]=this,qu(this),this['root']=new We(),this['root']['_enabledIn'+'Hierarchy']=!(0x1803+0x19f*0x9+-0x269a));}['init'](_0x45ee97){const {assetPrefix:_0x527d63,batchManager:_0x2f7349,componentSystems:_0x26b2bd,elementInput:_0x704b50,gamepads:_0x131d47,graphicsDevice:_0x390f09,keyboard:_0x4988b3,lightmapper:_0x3f9866,mouse:_0x2d130a,resourceHandlers:_0xbcd0e0,scriptsOrder:_0x31bf2f,scriptPrefix:_0x569739,soundManager:_0x41b446,touch:_0x5416d4,xr:_0x49629b}=_0x45ee97;v['assert'](_0x390f09,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x390f09,this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new uP(_0x390f09),this['_soundMana'+'ger']=_0x41b446,this['scene']=new ci(_0x390f09),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new ao(this['loader']),_0x527d63&&(this['assets']['prefix']=_0x527d63),this['bundles']=new tP(this['assets']),this['scriptsOrd'+'er']=_0x31bf2f||[],this['defaultLay'+'erWorld']=new Lr({'name':'World','id':Fi}),this['defaultLay'+'erDepth']=new Lr({'name':'Depth','id':Xt,'enabled':!(-0x2*0x30e+-0x9eb*0x3+0x23de),'opaqueSortMode':dh}),this['defaultLay'+'erSkybox']=new Lr({'name':'Skybox','id':vp,'opaqueSortMode':dh}),this['defaultLay'+'erUi']=new Lr({'name':'UI','id':tl,'transparentSortMode':Zb}),this['defaultLay'+'erImmediat'+'e']=new Lr({'name':'Immediate','id':bp,'opaqueSortMode':dh});const _0xf0a397=new S_('default');_0xf0a397['pushOpaque'](this['defaultLay'+'erWorld']),_0xf0a397['pushOpaque'](this['defaultLay'+'erDepth']),_0xf0a397['pushOpaque'](this['defaultLay'+'erSkybox']),_0xf0a397['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0xf0a397['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0xf0a397['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0xf0a397['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0xf0a397,$r['createPlac'+'eholder'](_0x390f09),this['renderer']=new Gh(_0x390f09),this['renderer']['scene']=this['scene'],_0x3f9866&&(this['lightmappe'+'r']=new _0x3f9866(_0x390f09,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x2f7349&&(this['_batcher']=new _0x2f7349(_0x390f09,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x4988b3||null,this['mouse']=_0x2d130a||null,this['touch']=_0x5416d4||null,this['gamepads']=_0x131d47||null,_0x704b50&&(this['elementInp'+'ut']=_0x704b50,this['elementInp'+'ut']['app']=this),this['xr']=_0x49629b?new _0x49629b(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x569739||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new rP(this)),_0xbcd0e0['forEach'](_0x3c9cec=>{const _0x58d51d=new _0x3c9cec(this);this['loader']['addHandler'](_0x58d51d['handlerTyp'+'e'],_0x58d51d);}),_0x26b2bd['forEach'](_0x2c76c1=>{this['systems']['add'](new _0x2c76c1(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(-0x22cd+-0x1*-0x24f2+-0x225)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x1fde+0xa2e+-0x2a0b))):document['mozHidden']!==void(-0x8*-0xf1+0x12f2+-0x1a7a)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1*-0x595+0x110b+-0x169f))):document['msHidden']!==void(-0x2f*-0xc5+-0x293+0x19*-0x158)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1f7*0x2+0xc0e*-0x3+-0x2819*-0x1))):document['webkitHidd'+'en']!==void(-0x218+0xce9+-0x3*0x39b)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x65b*0x4+0x19cf+-0x333a)))),this['tick']=fP(this);}static['getApplica'+'tion'](_0x123851){return _0x123851?Gr['_applicati'+'ons'][_0x123851]:tn();}['_initDefau'+'ltMaterial'](){const _0x5c1767=new cs();_0x5c1767['name']='Default\x20Ma'+'terial',sC(this['graphicsDe'+'vice'],_0x5c1767);}['_initProgr'+'amLibrary'](){const _0x3763e7=new D1(this['graphicsDe'+'vice'],new cs());WE(this['graphicsDe'+'vice'],_0x3763e7);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return v['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x3806a2,_0x333d84){$e['get'](_0x3806a2,(_0x3f8866,_0x59c151)=>{if(_0x3f8866){_0x333d84(_0x3f8866);return;}const _0x49e77f=_0x59c151['applicatio'+'n_properti'+'es'],_0x607045=_0x59c151['scenes'],_0x52e621=_0x59c151['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x49e77f,_0x3924b7=>{this['_parseScen'+'es'](_0x607045),this['_parseAsse'+'ts'](_0x52e621),_0x333d84(_0x3924b7||null);});});}['preload'](_0x7fab67){this['fire']('preload:st'+'art');const _0x407309=this['assets']['list']({'preload':!(-0x651+-0x117b+0x17cc)});if(_0x407309['length']===-0x18b3+-0x1935+0xc7a*0x4){this['fire']('preload:en'+'d'),_0x7fab67();return;}let _0x291908=0x3ca+-0x20b9+0x1cef;const _0x3fc703=()=>{_0x291908++,this['fire']('preload:pr'+'ogress',_0x291908/_0x407309['length']),_0x291908===_0x407309['length']&&(this['fire']('preload:en'+'d'),_0x7fab67());};_0x407309['forEach'](_0x149053=>{_0x149053['loaded']?_0x3fc703():(_0x149053['once']('load',_0x3fc703),_0x149053['once']('error',_0x3fc703),this['assets']['load'](_0x149053));});}['_preloadSc'+'ripts'](_0x52a2e2,_0xc551a1){_0xc551a1();}['_parseAppl'+'icationPro'+'perties'](_0x299c86,_0x15763c){if(typeof _0x299c86['maxAssetRe'+'tries']=='number'&&_0x299c86['maxAssetRe'+'tries']>0x231*0x3+0x35b*0x8+-0x216b&&this['loader']['enableRetr'+'y'](_0x299c86['maxAssetRe'+'tries']),_0x299c86['useDeviceP'+'ixelRatio']||(_0x299c86['useDeviceP'+'ixelRatio']=_0x299c86['use_device'+'_pixel_rat'+'io']),_0x299c86['resolution'+'Mode']||(_0x299c86['resolution'+'Mode']=_0x299c86['resolution'+'_mode']),_0x299c86['fillMode']||(_0x299c86['fillMode']=_0x299c86['fill_mode']),this['_width']=_0x299c86['width'],this['_height']=_0x299c86['height'],_0x299c86['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x299c86['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x299c86['fillMode'],this['_width'],this['_height']),_0x299c86['layers']&&_0x299c86['layerOrder']){const _0x32b26e=new S_('applicatio'+'n'),_0x4f1c41={};for(const _0x3822f8 in _0x299c86['layers']){const _0x5829af=_0x299c86['layers'][_0x3822f8];_0x5829af['id']=parseInt(_0x3822f8,0x138b+0x1e9a+-0x1*0x321b),_0x5829af['enabled']=_0x5829af['id']!==Xt,_0x4f1c41[_0x3822f8]=new Lr(_0x5829af);}for(let _0x45ff32=-0xbfb+0x1910+0x11*-0xc5,_0x37a71c=_0x299c86['layerOrder']['length'];_0x45ff32<_0x37a71c;_0x45ff32++){const _0x3763a0=_0x299c86['layerOrder'][_0x45ff32],_0x2ef7b5=_0x4f1c41[_0x3763a0['layer']];_0x2ef7b5&&(_0x3763a0['transparen'+'t']?_0x32b26e['pushTransp'+'arent'](_0x2ef7b5):_0x32b26e['pushOpaque'](_0x2ef7b5),_0x32b26e['subLayerEn'+'abled'][_0x45ff32]=_0x3763a0['enabled']);}this['scene']['layers']=_0x32b26e;}if(_0x299c86['batchGroup'+'s']){const _0x5affdc=this['batcher'];if(_0x5affdc)for(let _0x1cf498=0x77b*0x1+0x449*0x2+-0x100d,_0x2ae36b=_0x299c86['batchGroup'+'s']['length'];_0x1cf498<_0x2ae36b;_0x1cf498++){const _0x78b664=_0x299c86['batchGroup'+'s'][_0x1cf498];_0x5affdc['addGroup'](_0x78b664['name'],_0x78b664['dynamic'],_0x78b664['maxAabbSiz'+'e'],_0x78b664['id'],_0x78b664['layers']);}}_0x299c86['i18nAssets']&&(this['i18n']['assets']=_0x299c86['i18nAssets']),this['_loadLibra'+'ries'](_0x299c86['libraries'],_0x15763c);}['_loadLibra'+'ries'](_0x4d0df1,_0x1c3486){const _0x1f5cd3=_0x4d0df1['length'];let _0x227693=_0x1f5cd3;const _0x58b347=/^https?:\/\//;if(_0x1f5cd3){const _0x4e93c1=(_0x332804,_0xc43a70)=>{_0x227693--,_0x332804?_0x1c3486(_0x332804):_0x227693===0x1071+-0x139*0xe+0xad&&(this['onLibrarie'+'sLoaded'](),_0x1c3486(null));};for(let _0xbc21a0=0x5*-0x467+0x4de+0x1125;_0xbc21a0<_0x1f5cd3;++_0xbc21a0){let _0x1a9f9e=_0x4d0df1[_0xbc21a0];!_0x58b347['test'](_0x1a9f9e['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x1a9f9e=fe['join'](this['_scriptPre'+'fix'],_0x1a9f9e)),this['loader']['load'](_0x1a9f9e,'script',_0x4e93c1);}}else this['onLibrarie'+'sLoaded'](),_0x1c3486(null);}['_parseScen'+'es'](_0x18ad0c){if(_0x18ad0c){for(let _0x350544=-0xbd8*-0x1+0xb84+-0x41*0x5c;_0x350544<_0x18ad0c['length'];_0x350544++)this['scenes']['add'](_0x18ad0c[_0x350544]['name'],_0x18ad0c[_0x350544]['url']);}}['_parseAsse'+'ts'](_0x3e2702){const _0x1479c7=[],_0x4f69bd={},_0xd1a6da={};for(let _0x197560=-0x2b*0x66+-0xe1b+0x1f3d;_0x197560<this['scriptsOrd'+'er']['length'];_0x197560++){const _0x6c26ef=this['scriptsOrd'+'er'][_0x197560];_0x3e2702[_0x6c26ef]&&(_0x4f69bd[_0x6c26ef]=!(0x2*0xb56+-0x56*0xf+0x4a*-0x3d),_0x1479c7['push'](_0x3e2702[_0x6c26ef]));}if(this['enableBund'+'les']){for(const _0x2046ef in _0x3e2702)_0x3e2702[_0x2046ef]['type']==='bundle'&&(_0xd1a6da[_0x2046ef]=!(-0xb2a+0x1b02+0x1*-0xfd8),_0x1479c7['push'](_0x3e2702[_0x2046ef]));}for(const _0x290445 in _0x3e2702)_0x4f69bd[_0x290445]||_0xd1a6da[_0x290445]||_0x1479c7['push'](_0x3e2702[_0x290445]);for(let _0x344a20=-0x21b3+-0x2*0x4aa+0x2b07;_0x344a20<_0x1479c7['length'];_0x344a20++){const _0x56b1cc=_0x1479c7[_0x344a20],_0x5a7f57=new le(_0x56b1cc['name'],_0x56b1cc['type'],_0x56b1cc['file'],_0x56b1cc['data']);if(_0x5a7f57['id']=parseInt(_0x56b1cc['id'],-0x736+0x1138*-0x2+0x4*0xa6c),_0x5a7f57['preload']=_0x56b1cc['preload']?_0x56b1cc['preload']:!(-0x1*0x379+-0x24b5*0x1+0x282f),_0x5a7f57['loaded']=_0x56b1cc['type']==='script'&&_0x56b1cc['data']&&_0x56b1cc['data']['loadingTyp'+'e']>0x162*-0x13+0x1*-0xa87+-0x24cd*-0x1,_0x5a7f57['tags']['add'](_0x56b1cc['tags']),_0x56b1cc['i18n']){for(const _0x426b5f in _0x56b1cc['i18n'])_0x5a7f57['addLocaliz'+'edAssetId'](_0x426b5f,_0x56b1cc['i18n'][_0x426b5f]);}this['assets']['add'](_0x5a7f57);}}['start'](){v['call'](()=>{v['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(-0x2b*-0x34+-0x18a+-0x3*0x266);}),this['frame']=0x1*0x119f+-0x10ab*0x1+-0xf4,this['fire']('start',{'timestamp':ne(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x483e22){this['controller']&&this['controller']['update'](_0x483e22),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x4a4971){this['frame']++,this['graphicsDe'+'vice']['updateClie'+'ntRect'](),this['stats']['frame']['updateStar'+'t']=ne(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x4a4971),this['systems']['fire']('animationU'+'pdate',_0x4a4971),this['systems']['fire']('postUpdate',_0x4a4971),this['fire']('update',_0x4a4971),this['inputUpdat'+'e'](_0x4a4971),this['stats']['frame']['updateTime']=ne()-this['stats']['frame']['updateStar'+'t'];}['frameStart'](){this['graphicsDe'+'vice']['frameStart']();}['frameEnd'](){this['graphicsDe'+'vice']['frameEnd']();}['render'](){this['stats']['frame']['renderStar'+'t']=ne(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),Gh['_skipRende'+'rCounter']=0x2142+-0x1d5c+-0x1f3*0x2,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=ne()-this['stats']['frame']['renderStar'+'t'];}['renderComp'+'osition'](_0x5dd52d){G['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x5dd52d),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x5dd52d),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x4ec05c,_0x17b422,_0xbdc686){const _0x20da95=this['stats']['frame'];_0x20da95['dt']=_0x17b422,_0x20da95['ms']=_0xbdc686,_0x4ec05c>_0x20da95['_timeToCou'+'ntFrames']?(_0x20da95['fps']=_0x20da95['_fpsAccum'],_0x20da95['_fpsAccum']=-0xb98+-0x1*0xa70+0x1608,_0x20da95['_timeToCou'+'ntFrames']=_0x4ec05c+(0x919*0x1+0x249b+0x1*-0x29cc)):_0x20da95['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=0x167d+0x12cf+-0x294c;}['_fillFrame'+'Stats'](){let _0x251449=this['stats']['frame'];_0x251449['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x251449['materials']=this['renderer']['_materialS'+'witches'],_0x251449['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x251449['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x251449['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x251449['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x251449['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x99518a=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x251449['triangles']=_0x99518a[Ms]/(0x1624+-0x1a11*-0x1+-0x3032)+Math['max'](_0x99518a[ar]-(0x1*-0x1cd5+0xda*-0xa+0x255b),-0xe68+0x1*-0x164f+0x24b7)+Math['max'](_0x99518a[Yr]-(0xde9*-0x2+-0x2327*0x1+0x3efb),-0x1*-0x4b2+-0x1*0x2665+0x1*0x21b3),_0x251449['cullTime']=this['renderer']['_cullTime'],_0x251449['sortTime']=this['renderer']['_sortTime'],_0x251449['skinTime']=this['renderer']['_skinTime'],_0x251449['morphTime']=this['renderer']['_morphTime'],_0x251449['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x251449['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x251449['otherPrimi'+'tives']=-0x1b09+-0x1*-0x2629+-0xb20;for(let _0x353660=0x4*0x8cd+-0x1efd+-0x437;_0x353660<_0x99518a['length'];_0x353660++)_0x353660<Ms&&(_0x251449['otherPrimi'+'tives']+=_0x99518a[_0x353660]),_0x99518a[_0x353660]=-0x7*0x37c+-0x51*0x4a+-0x1*-0x2fce;this['renderer']['_camerasRe'+'ndered']=0x10c9+0x80e+-0x18d7,this['renderer']['_materialS'+'witches']=0x237d+-0x8*-0x13f+-0x9*0x50d,this['renderer']['_shadowMap'+'Updates']=-0x1*-0x1d99+0x26d+-0x2006,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=-0x718+0x40a*0x8+0x8*-0x327,this['renderer']['_cullTime']=-0x244b+0x1*0x142c+0x1*0x101f,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=-0x1*0x971+0x2575+0xa3*-0x2c,this['renderer']['_lightClus'+'tersTime']=0x1*-0x20e7+0x1*0x1f51+0x196,this['renderer']['_sortTime']=-0x174d+-0xbc0+0x230d,this['renderer']['_skinTime']=-0x1955+-0x235*0x7+0x28c8,this['renderer']['_morphTime']=-0x2060+-0x25c5+0x4625,this['renderer']['_shadowMap'+'Time']=-0x209*-0x13+0x226*0x1+-0x3*0xd9b,this['renderer']['_depthMapT'+'ime']=-0x514+-0xd60+0x1274,this['renderer']['_forwardTi'+'me']=-0x1c06+-0x19c6+0x35cc,_0x251449=this['stats']['drawCalls'],_0x251449['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x251449['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x251449['depth']=0x956+-0x1d07*-0x1+0x265d*-0x1,_0x251449['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x251449['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x251449['immediate']=-0x2b*0x8f+0xdeb+-0xa1a*-0x1,_0x251449['instanced']=-0x7*0x45+-0x1*-0x1f4c+0x1d69*-0x1,_0x251449['removedByI'+'nstancing']=-0x4*0x4a9+0x62f*0x1+-0x427*-0x3,_0x251449['misc']=_0x251449['total']-(_0x251449['forward']+_0x251449['shadow']),this['renderer']['_depthDraw'+'Calls']=0x1646+0x22b5+-0x38fb,this['renderer']['_shadowDra'+'wCalls']=-0xd*0x4a+-0xd*0x2bf+-0x309*-0xd,this['renderer']['_forwardDr'+'awCalls']=0x136b+0x240+-0x15ab,this['renderer']['_numDrawCa'+'llsCulled']=-0x116b+-0x1190+0xc7*0x2d,this['renderer']['_skinDrawC'+'alls']=-0x2293+-0x3*0x527+0x8*0x641,this['renderer']['_immediate'+'Rendered']=0x25c5+0x2617+-0x4bdc,this['renderer']['_instanced'+'DrawCalls']=-0x3*-0xb4b+-0x1623+-0x2*0x5df,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x251449=this['stats']['particles'],_0x251449['updatesPer'+'Frame']=_0x251449['_updatesPe'+'rFrame'],_0x251449['frameTime']=_0x251449['_frameTime'],_0x251449['_updatesPe'+'rFrame']=-0x1870+-0x4ce+0x1d3e,_0x251449['_frameTime']=0x8*-0x2d1+0x1*-0x257c+-0x29c*-0x17;}['setCanvasF'+'illMode'](_0x1e7858,_0xef84e2,_0x57f5c7){this['_fillMode']=_0x1e7858,this['resizeCanv'+'as'](_0xef84e2,_0x57f5c7);}['setCanvasR'+'esolution'](_0x4a8fce,_0x50f29c,_0x1fd395){this['_resolutio'+'nMode']=_0x4a8fce,_0x4a8fce===G_&&_0x50f29c===void(-0x4*0x12b+0x3*-0x504+0x4*0x4ee)&&(_0x50f29c=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x1fd395=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x50f29c,_0x1fd395);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x53b450,_0x1227a9){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x49d994=window['innerWidth'],_0x107c72=window['innerHeigh'+'t'];if(this['_fillMode']===V_){const _0x1168f9=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x306dbf=_0x49d994/_0x107c72;_0x1168f9>_0x306dbf?(_0x53b450=_0x49d994,_0x1227a9=_0x53b450/_0x1168f9):(_0x1227a9=_0x107c72,_0x53b450=_0x1227a9*_0x1168f9);}else this['_fillMode']===$1&&(_0x53b450=_0x49d994,_0x1227a9=_0x107c72);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x53b450+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x1227a9+'px',this['updateCanv'+'asSize'](),{'width':_0x53b450,'height':_0x1227a9};}['updateCanv'+'asSize'](){var _0x4123a8;if(!(!this['_allowResi'+'ze']||(_0x4123a8=this['xr'])!=null&&_0x4123a8['active'])&&this['_resolutio'+'nMode']===G_){const _0x2bc782=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x2bc782['clientWidt'+'h'],_0x2bc782['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(-0x1b5a+-0x49c+0x1ff6),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x3ce2e5){let _0x42fb87;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x3d296d,_0x41afc2,_0x55ed9d]=_0x3ce2e5['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x3d296d,_0x41afc2,_0x55ed9d);}this['scene']['applySetti'+'ngs'](_0x3ce2e5),_0x3ce2e5['render']['hasOwnProp'+'erty']('skybox')&&(_0x3ce2e5['render']['skybox']?(_0x42fb87=this['assets']['get'](_0x3ce2e5['render']['skybox']),_0x42fb87?this['setSkybox'](_0x42fb87):this['assets']['once']('add:'+_0x3ce2e5['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x57b2fd,_0x5e40ea){_0x57b2fd&&_0x5e40ea?$r['set'](this['graphicsDe'+'vice'],_0x57b2fd,_0x5e40ea):v['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x112707){if(_0x112707!==this['_skyboxAss'+'et']){const _0x621298=()=>{this['setSkybox'](null);},_0x459728=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x459728,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x621298,this),this['_skyboxAss'+'et']['off']('change',_0x459728,this)),this['_skyboxAss'+'et']=_0x112707,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x459728,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x621298,this),this['_skyboxAss'+'et']['on']('change',_0x459728,this),this['scene']['skyboxMip']===0x1a1*-0x1+-0x197*-0xf+0x9*-0x278&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(0x122b+0x2da*0x8+0xd*-0x327)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x459728();}}['_firstBake'](){var _0x4c1b7b;(_0x4c1b7b=this['lightmappe'+'r'])==null||_0x4c1b7b['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x2d8eea;(_0x2d8eea=this['batcher'])==null||_0x2d8eea['generate']();}['_processTi'+'mestamp'](_0x39c966){return _0x39c966;}['drawLine'](_0x41a471,_0x255d41,_0x5f554f,_0x4166b6,_0x157205){this['scene']['drawLine'](_0x41a471,_0x255d41,_0x5f554f,_0x4166b6,_0x157205);}['drawLines'](_0x1475d6,_0x2a7d6e,_0x195b03=!(0x29*-0xa4+-0x22c+0x41*0x70),_0x121ae5=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x1475d6,_0x2a7d6e,_0x195b03,_0x121ae5);}['drawLineAr'+'rays'](_0x231cd8,_0x412c28,_0x2dab06=!(-0x9da*-0x1+-0x1e81+0x14a7),_0x3f9f68=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x231cd8,_0x412c28,_0x2dab06,_0x3f9f68);}['drawWireSp'+'here'](_0x531183,_0x12cbce,_0x1124c6=Y['WHITE'],_0x4d569f=0x23ad+0xce8*-0x3+0x31f,_0x4a09be=!(0xb4*-0x18+0xe6d+0x3*0xd1),_0x1fa7d0=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x531183,_0x12cbce,_0x1124c6,_0x4d569f,_0x4a09be,_0x1fa7d0);}['drawWireAl'+'ignedBox'](_0x86b51f,_0x372d77,_0x10aff9=Y['WHITE'],_0x34d3f1=!(-0x1a09+-0x1e14+0x41*0xdd),_0x105b65=this['scene']['defaultDra'+'wLayer'],_0x4fce7a){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x86b51f,_0x372d77,_0x10aff9,_0x34d3f1,_0x105b65,_0x4fce7a);}['drawMeshIn'+'stance'](_0x5fdfb9,_0x350fe5=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x5fdfb9,_0x350fe5);}['drawMesh'](_0x184e53,_0xa53f42,_0x31caf7,_0xb66c0c=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0xa53f42,_0x31caf7,_0x184e53,null,_0xb66c0c);}['drawQuad'](_0x15d42c,_0x304275,_0x399cb6=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x304275,_0x15d42c,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x399cb6);}['drawTextur'+'e'](_0x1ef9fe,_0x5d1573,_0x171cb1,_0x506d54,_0xef0ef8,_0x14040c,_0x57b5cb=this['scene']['defaultDra'+'wLayer'],_0xa61e17=!(0x3*0xcb5+0x83*-0x14+-0x1be3)){if(_0xa61e17===!(0x71*0xc+-0xb*-0x2cf+-0x2430)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x2ee335=new q();_0x2ee335['setTRS'](new T(_0x1ef9fe,_0x5d1573,-0x1094+0x9db+0x6b9),se['IDENTITY'],new T(_0x171cb1,-_0x506d54,0x1*0x1d96+-0x24b+-0x19b*0x11)),_0x14040c||(_0x14040c=new Ra(),_0x14040c['cull']=mt,_0x14040c['setParamet'+'er']('colorMap',_0xef0ef8),_0x14040c['shaderDesc']=_0xa61e17?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0xef0ef8['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x14040c['update']()),this['drawQuad'](_0x2ee335,_0x14040c,_0x57b5cb);}['drawDepthT'+'exture'](_0x4e44e4,_0x4b70c9,_0x59491a,_0x560faa,_0x1b99bd=this['scene']['defaultDra'+'wLayer']){const _0x46c259=new Ra();_0x46c259['cull']=mt,_0x46c259['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x46c259['update'](),this['drawTextur'+'e'](_0x4e44e4,_0x4b70c9,_0x59491a,_0x560faa,null,_0x46c259,_0x1b99bd);}['destroy'](){var _0x516981,_0x14f172,_0x1b7bee,_0x1a84d4;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(0xa1*0x4+-0x76*0x28+0xfec);return;}const _0x3e46e0=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1560+-0x51e*0x5+0x2ef7)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0xc42+0x25*-0xd3+-0x123e*-0x1)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1475*-0x1+0x2*-0xa21+-0x32)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1b88+-0x7b7*0x1+0x2340))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x5c3c70=this['assets']['list']();for(let _0x405339=-0x1*0x1c1f+-0x1*0x207b+0x3c9a;_0x405339<_0x5c3c70['length'];_0x405339++)_0x5c3c70[_0x405339]['unload'](),_0x5c3c70[_0x405339]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x5dfcdf=this['loader']['getHandler']('script');_0x5dfcdf==null||_0x5dfcdf['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x516981=this['lightmappe'+'r'])==null||_0x516981['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x14f172=this['xr'])==null||_0x14f172['end'](),(_0x1b7bee=this['xr'])==null||_0x1b7bee['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x1a84d4=this['_soundMana'+'ger'])==null||_0x1a84d4['destroy'](),this['_soundMana'+'ger']=null,Gr['_applicati'+'ons'][_0x3e46e0]=null,tn()===this&&qu(null),Gr['cancelTick'](this);}static['cancelTick'](_0x415d32){_0x415d32['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x415d32['frameReque'+'stId']),_0x415d32['frameReque'+'stId']=void(0x3d*0xf+0xc01*0x2+-0x1b95));}['getEntityF'+'romIndex'](_0x5831ef){return this['_entityInd'+'ex'][_0x5831ef];}['_registerS'+'ceneImmedi'+'ate'](_0x3b94af){this['on']('postrender',_0x3b94af['immediate']['onPostRend'+'er'],_0x3b94af['immediate']);}};c(Gr,'_applicati'+'ons',{});let qh=Gr;const jd={},fP=function(_0x3e65d3){const _0x38134e=_0x3e65d3;return function(_0x1bad5d,_0x36c3d7){var _0x460369,_0x5a8262,_0x209004,_0x235637;if(!_0x38134e['graphicsDe'+'vice'])return;_0x38134e['frameReque'+'stId']&&((_0x5a8262=(_0x460369=_0x38134e['xr'])==null?void(-0x20b*0x6+-0xb3*0x1d+0x1*0x2089):_0x460369['session'])==null||_0x5a8262['cancelAnim'+'ationFrame'](_0x38134e['frameReque'+'stId']),cancelAnimationFrame(_0x38134e['frameReque'+'stId']),_0x38134e['frameReque'+'stId']=null),_0x38134e['_inFrameUp'+'date']=!(0x229a+-0x1489+-0xe11*0x1),qu(_0x38134e);const _0x39aef7=_0x38134e['_processTi'+'mestamp'](_0x1bad5d)||ne(),_0x5697e2=_0x39aef7-(_0x38134e['_time']||_0x39aef7);let _0x1253f1=_0x5697e2/(0x366+-0x96*0x1d+-0x10*-0x118);if(_0x1253f1=N['clamp'](_0x1253f1,-0x2071+-0x1*-0x109f+0x3*0x546,_0x38134e['maxDeltaTi'+'me']),_0x1253f1*=_0x38134e['timeScale'],_0x38134e['_time']=_0x39aef7,(_0x209004=_0x38134e['xr'])!=null&&_0x209004['session']?_0x38134e['frameReque'+'stId']=_0x38134e['xr']['session']['requestAni'+'mationFram'+'e'](_0x38134e['tick']):_0x38134e['frameReque'+'stId']=ye['browser']||ye['worker']?requestAnimationFrame(_0x38134e['tick']):null,_0x38134e['graphicsDe'+'vice']['contextLos'+'t'])return;_0x38134e['_fillFrame'+'StatsBasic'](_0x39aef7,_0x1253f1,_0x5697e2),_0x38134e['_fillFrame'+'Stats'](),_0x38134e['fire']('frameupdat'+'e',_0x5697e2);let _0x37891d=!(0x1021*0x2+0x1e10+0x6*-0xa63);_0x36c3d7?(_0x37891d=(_0x235637=_0x38134e['xr'])==null?void(-0x156d*-0x1+0xad+-0x75e*0x3):_0x235637['update'](_0x36c3d7),_0x38134e['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x36c3d7['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x38134e['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,_0x37891d&&(v['trace'](jx,'----\x20Frame'+'\x20'+_0x38134e['frame']),v['trace'](td,'--\x20UpdateS'+'tart\x20'+ne()['toFixed'](0x2069+-0x7cf*-0x5+0x76*-0x9b)+'ms'),_0x38134e['update'](_0x1253f1),_0x38134e['fire']('framerende'+'r'),(_0x38134e['autoRender']||_0x38134e['renderNext'+'Frame'])&&(v['trace'](td,'--\x20RenderS'+'tart\x20'+ne()['toFixed'](-0x3dd*0x1+-0x12ad+0x168c)+'ms'),_0x38134e['updateCanv'+'asSize'](),_0x38134e['frameStart'](),_0x38134e['render'](),_0x38134e['frameEnd'](),_0x38134e['renderNext'+'Frame']=!(-0x1e37+0x2*-0x127d+0x4332),v['trace'](td,'--\x20RenderE'+'nd\x20'+ne()['toFixed'](0x7*0x133+0x106*-0x1f+0x1757)+'ms')),jd['timestamp']=ne(),jd['target']=_0x38134e,_0x38134e['fire']('frameend',jd)),_0x38134e['_inFrameUp'+'date']=!(0x2013+0x1b7f*-0x1+0x493*-0x1),_0x38134e['_destroyRe'+'quested']&&_0x38134e['destroy']();};};class pP{constructor(){c(this,'elementInp'+'ut'),c(this,'keyboard'),c(this,'mouse'),c(this,'touch'),c(this,'gamepads'),c(this,'scriptPref'+'ix'),c(this,'assetPrefi'+'x'),c(this,'scriptsOrd'+'er'),c(this,'soundManag'+'er'),c(this,'graphicsDe'+'vice'),c(this,'lightmappe'+'r'),c(this,'batchManag'+'er'),c(this,'xr'),c(this,'componentS'+'ystems',[]),c(this,'resourceHa'+'ndlers',[]);}}const Qa=new Lf();class W0{constructor(_0x1ed20e,_0x431edc,_0x44fb37){this['scene']=_0x1ed20e,this['light']=_0x431edc,this['store'](),_0x431edc['numCascade'+'s']=-0x1560+0x1372*0x2+-0x1183*0x1,this['scene']['clusteredL'+'ightingEna'+'bled']&&(_0x431edc['castShadow'+'s']=_0x431edc['bakeShadow'+'s']&&_0x44fb37['shadowsEna'+'bled']),_0x431edc['type']!==oe&&(_0x431edc['_node']['getWorldTr'+'ansform'](),_0x431edc['getBoundin'+'gSphere'](Qa),this['lightBound'+'s']=new _e(),this['lightBound'+'s']['center']['copy'](Qa['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](Qa['radius'],Qa['radius'],Qa['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x1a9bab=this['light'];_0x1a9bab['mask']=this['mask'],_0x1a9bab['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x1a9bab['enabled']=this['enabled'],_0x1a9bab['intensity']=this['intensity'],_0x1a9bab['_node']['setLocalRo'+'tation'](this['rotation']),_0x1a9bab['numCascade'+'s']=this['numCascade'+'s'],_0x1a9bab['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(-0x41b*0x7+0xa0d+0x12b0),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x9cd4ff){const _0x284812=this['light'];_0x284812['enabled']=!(0x661*-0x2+-0x1369*0x2+0x3395),_0x284812['shadowMap']&&(_0x284812['shadowMap']['cached']&&_0x9cd4ff['add'](_0x284812,_0x284812['shadowMap']),_0x284812['shadowMap']=null);}}const Hl=new W();class mP extends W0{constructor(_0x471230,_0x1c1f5a){super(_0x471230['scene'],_0x1c1f5a,_0x471230['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===oe?this['light']['bakeNumSam'+'ples']:-0x568+0x49*0x52+0x6b*-0x2b;}['prepareVir'+'tualLight'](_0x48e606,_0x11728c){const _0x324697=this['light'];if(_0x324697['_node']['setLocalRo'+'tation'](this['rotation']),_0x48e606>0x21c1+0x25f9+-0x47ba){const _0x181c8d=_0x324697['bakeArea'];ll['circlePoin'+'tDetermini'+'stic'](Hl,_0x48e606,_0x11728c),Hl['mulScalar'](_0x181c8d*(0x1*-0x253a+0x1*-0x1a25+0x1*0x3f5f+0.5)),_0x324697['_node']['rotateLoca'+'l'](Hl['x'],-0x1854+-0x9fb+0x224f,Hl['y']);}_0x324697['_node']['getWorldTr'+'ansform']();const _0x5ee473=0x2*-0x542+0x11*0x53+0x503+0.20000000000000018,_0xeb6b24=Math['pow'](this['intensity'],_0x5ee473);_0x324697['intensity']=Math['pow'](_0xeb6b24/_0x11728c,(-0x2*0x797+-0x26e5*-0x1+-0x17b6)/_0x5ee473);}}const X_=new T();class j_ extends W0{constructor(_0x16f053){const _0x2cd38c=_0x16f053['scene'],_0x46935b=new We('AmbientLig'+'ht');_0x46935b['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(0x1dd6+-0x1*0x773+0x1663*-0x1),'affectLightmapped':!(-0x71e+0x2492+-0x1d73),'bake':!(0x116f*-0x1+-0x2*-0x2c9+0x1*0xbdd),'bakeNumSamples':_0x2cd38c['ambientBak'+'eNumSample'+'s'],'castShadows':!(0x119*-0x8+0x1*-0x24d7+0x2d9f),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':Dt,'color':Y['WHITE'],'intensity':0x1,'bakeDir':!(0xe0*0xc+-0x13a+-0x945)}),super(_0x2cd38c,_0x46935b['light']['light'],_0x16f053['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x566af9,_0x4f04cb){ll['spherePoin'+'tDetermini'+'stic'](X_,_0x566af9,_0x4f04cb,-0x19de+0x191b+0xc3,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](X_['mulScalar'](-(-0x6d3*0x1+-0x683*-0x3+-0xcb5*0x1))),this['light']['_node']['rotateLoca'+'l'](-0x1*0x27c+0x34+-0x2*-0x151,-0x2612+-0x1e36+0x4448,-0x95b+-0x3*-0x5bb+-0x7d6);const _0xdc8731=0x6f6*-0x1+0x7ab*-0x3+0x1df9*0x1+0.20000000000000018,_0x5de4be=(0xef7*0x2+0x1fcd+-0xe5*0x45)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x21ae8c=Math['pow'](_0x5de4be,_0xdc8731);this['light']['intensity']=Math['pow'](_0x21ae8c/_0x4f04cb,(-0x11*0x102+0x1*0xc05+-0x51e*-0x1)/_0xdc8731);}}class Wl{constructor(_0x420e7a,_0x8bec46=null){this['node']=_0x420e7a,this['component']=_0x420e7a['render']||_0x420e7a['model'],_0x8bec46=_0x8bec46||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x8bec46,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const Y_=-0x288*0x8+-0xf5d+-0x3*-0xbe4;class _P{constructor(_0xfc9a24){this['device']=_0xfc9a24,this['shaderDila'+'te']=Is(_0xfc9a24,X['fullscreen'+'QuadVS'],vo['dilatePS'],'lmDilate'),this['constantTe'+'xSource']=_0xfc9a24['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0xfc9a24['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(-0x89*-0x1c+-0x59c+-0x95e*0x1),this['shaderDeno'+'ise']=[],this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null;}['setSourceT'+'exture'](_0xbe788b){this['constantTe'+'xSource']['setValue'](_0xbe788b);}['prepare'](_0x140449,_0x1aa60e){this['pixelOffse'+'t'][0x73+0x1*0x199f+-0x8e*0x2f]=(-0x9d9+0x1*0x1d9+0x801)/_0x140449,this['pixelOffse'+'t'][-0x57a+-0x208*-0x3+-0x9d]=(0x118*0x20+0xd83+-0x7*0x6ee)/_0x1aa60e,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x1fd0c5,_0x3c6a8a,_0x3c64e0){const _0x533533=_0x3c64e0?-0x6ca+-0x2268+0x2932:0x3*0xa9c+0x8e8+0x28bb*-0x1;if(!this['shaderDeno'+'ise'][_0x533533]){const _0x2fca12='lmBilatera'+'lDeNoise-'+(_0x3c64e0?'hdr':'rgbm'),_0x1a0907=_0x3c64e0?'#define\x20HD'+'R\x0a':'';this['shaderDeno'+'ise'][_0x533533]=Is(this['device'],X['fullscreen'+'QuadVS'],_0x1a0907+vo['bilateralD'+'eNoisePS'],_0x2fca12),this['sigmas']=new Float32Array(-0x17ed+-0x197*0xb+0xb*0x3c4),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][-0x1*-0x1a87+0x2023+-0x6*0x9c7]=_0x1fd0c5,this['sigmas'][-0x163c+-0x234+0x1871]=_0x3c6a8a,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x1fd0c5,_0x3c6a8a);}['getDenoise'](_0x5a4e1d){const _0xfbb66a=_0x5a4e1d?0xc39+-0xc*-0x239+-0xcf7*0x3:0x2d*0x5+0x2112+-0x21f2;return this['shaderDeno'+'ise'][_0xfbb66a];}['getDilate'](_0x31ae09,_0x2ee9d1){const _0x39c865=_0x2ee9d1?0x1d5a+0x223a*0x1+0x3f94*-0x1:0x7b8*0x1+0x2653+-0x2e0a;if(!this['shaderDila'+'te'][_0x39c865]){const _0xe83882='lmDilate-'+(_0x2ee9d1?'hdr':'rgbm'),_0xa6308c=_0x2ee9d1?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x39c865]=Is(_0x31ae09,X['fullscreen'+'QuadVS'],_0xa6308c+vo['dilatePS'],_0xe83882);}return this['shaderDila'+'te'][_0x39c865];}['evaluateDe'+'noiseUnifo'+'rms'](_0x5b43d1,_0x5df719){function _0x4932cd(_0x1e12d1,_0x676050){return(0xad7*0x3+0x2546+-0x45cb+0.39894)*Math['exp'](-(0x714+0x2094+-0x6*0x69c+0.5)*_0x1e12d1*_0x1e12d1/(_0x676050*_0x676050))/_0x676050;}this['kernel']=this['kernel']||new Float32Array(Y_);const _0xb5bf8=this['kernel'],_0x148819=Math['floor']((Y_-(0x1c*0x86+0x1cde+0xd*-0x359))/(0x4*0x2f+-0x1*-0x23f3+-0x1*0x24ad));for(let _0x3b2ddc=-0x35f+0x19be+-0xf9*0x17;_0x3b2ddc<=_0x148819;++_0x3b2ddc){const _0x3b5e2d=_0x4932cd(_0x3b2ddc,_0x5b43d1);_0xb5bf8[_0x148819+_0x3b2ddc]=_0x3b5e2d,_0xb5bf8[_0x148819-_0x3b2ddc]=_0x3b5e2d;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x2aa228=(0xe2f+-0x5f8*-0x3+0x1*-0x2016)/_0x4932cd(-0x1*-0xc8+0x65b*-0x5+0x633*0x5,_0x5df719);this['bZnorm']['setValue'](_0x2aa228);}}class gP extends ds{constructor(_0x1f8627,_0x40c07d,_0x1f502e,_0x5bc60d,_0xdc26e3,_0x1b614e){super(_0x1f8627),c(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x40c07d,this['camera']=_0x1f502e,this['worldClust'+'ers']=_0x5bc60d,this['receivers']=_0xdc26e3,this['lightArray']=_0x1b614e);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0xa3e7e8=>{_0xa3e7e8['defaultUni'+'formBuffer']['destroy'](),_0xa3e7e8['destroy']();}),this['viewBindGr'+'oups']['length']=0x1eae+0x119*0x7+-0x17*0x1ab;}['execute'](){const _0x5e4344=this['device'];G['pushGpuMar'+'ker'](_0x5e4344,'Lightmappe'+'r');const {renderer:_0x4ad267,camera:_0x50aaf8,receivers:_0x2b67a6,renderTarget:_0x21bdc4,worldClusters:_0xe2f611,lightArray:_0x1159e3}=this;_0x4ad267['renderForw'+'ardLayer'](_0x50aaf8,_0x21bdc4,null,void(0xa*-0x37+-0x1654*-0x1+-0x142e),gn,this['viewBindGr'+'oups'],{'meshInstances':_0x2b67a6,'splitLights':_0x1159e3,'lightClusters':_0xe2f611}),G['popGpuMark'+'er'](_0x5e4344);}}const yP=-0x1a69*0x1+0x8*0x32f+-0x147*-0x7,xP=-0x1fcb+-0x6fc*-0x2+0x11d3,SP=-0xc6*0x21+0x20*-0xb5+0x3027,$l=new T();class vP{constructor(_0x465b59,_0x6fadf2,_0x45f421,_0x5ac95d,_0x12c004){this['device']=_0x465b59,this['root']=_0x6fadf2,this['scene']=_0x45f421,this['renderer']=_0x5ac95d,this['assets']=_0x12c004,this['shadowMapC'+'ache']=_0x5ac95d['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(0x301*0x7+-0x15f8+0xf2),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new Y(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x3a8ff2;Si['decRef'](this['blackTex']),this['blackTex']=null,Si['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x3a8ff2=this['camera'])==null||_0x3a8ff2['destroy'](),this['camera']=null;}['initBake'](_0x4acadd){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Se,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(0xb6a+-0x11fb+-0x1*-0x691),this['lightmapFi'+'lters']=new _P(_0x4acadd),this['constantBa'+'keDir']=_0x4acadd['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new he(this['device'],{'width':0x4,'height':0x4,'format':Se,'type':on,'name':'lightmapBl'+'ack'}),Si['incRef'](this['blackTex']);const _0x16fdf0=new ol();_0x16fdf0['clearColor']['set'](0x184b+-0x1*0x257+0x464*-0x5,-0x23b6+-0x3*0x2ea+-0x4*-0xb1d,-0x151+0x176a+-0x1619,0x2572+-0x1*-0x1b17+-0x4089),_0x16fdf0['clearColor'+'Buffer']=!(0x251d+0x4f*-0x25+-0x19b2),_0x16fdf0['clearDepth'+'Buffer']=!(-0xe57+-0xda9+-0x43*-0x6b),_0x16fdf0['clearStenc'+'ilBuffer']=!(0x15*0x57+0x21d1+-0x3b9*0xb),_0x16fdf0['frustumCul'+'ling']=!(0xc7*-0x2b+0x4ce+0x1ca0),_0x16fdf0['projection']=ua,_0x16fdf0['aspectRati'+'o']=-0x1bb4+0x881*-0x4+0x3db9,_0x16fdf0['node']=new De(),this['camera']=_0x16fdf0,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=sl,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=Ap;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x42a665=new L0(_0x4acadd['supportsAr'+'eaLights'],_0x4acadd['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x42a665;const _0x3f18cb=this['scene']['lighting'];_0x42a665['shadowsEna'+'bled']=_0x3f18cb['shadowsEna'+'bled'],_0x42a665['shadowAtla'+'sResolutio'+'n']=_0x3f18cb['shadowAtla'+'sResolutio'+'n'],_0x42a665['cookiesEna'+'bled']=_0x3f18cb['cookiesEna'+'bled'],_0x42a665['cookieAtla'+'sResolutio'+'n']=_0x3f18cb['cookieAtla'+'sResolutio'+'n'],_0x42a665['areaLights'+'Enabled']=_0x3f18cb['areaLights'+'Enabled'],_0x42a665['cells']=new T(0xc7a*-0x2+0x79e+0x1*0x1159,-0x1f4c+-0x2d*0x6b+0x321e,-0x7*0x356+0xa5e+-0x1*-0xcff),_0x42a665['maxLightsP'+'erCell']=-0x3a*-0x60+0xd3*0x6+-0x1aae,this['worldClust'+'ers']=new zu(_0x4acadd),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x4d50c5){this['materials']=[];function _0x1e0c95(_0x1ec21b){Si['decRef'](_0x1ec21b['colorBuffe'+'r']),_0x1ec21b['destroy']();}this['renderTarg'+'ets']['forEach'](_0x3c028f=>{_0x1e0c95(_0x3c028f);}),this['renderTarg'+'ets']['clear'](),_0x4d50c5['forEach'](_0x415cd6=>{_0x415cd6['renderTarg'+'ets']['forEach'](_0x438976=>{_0x1e0c95(_0x438976);}),_0x415cd6['renderTarg'+'ets']['length']=0x1204*-0x2+0x1*0x11eb+-0x121d*-0x1;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x4d975e,_0x4cbfad,_0x5b0d19,_0x625150){const _0xe4f15=new cs();_0xe4f15['name']='lmMaterial'+'-pass:'+_0x5b0d19+'-ambient:'+_0x625150,_0xe4f15['chunks']['APIVersion']=hi;const _0x160e89='#define\x20UV'+'1LAYOUT\x0a';if(_0xe4f15['chunks']['transformV'+'S']=_0x160e89+X['transformV'+'S'],_0x5b0d19===xP){let _0x5af1d6=vo['bakeLmEndP'+'S'];_0x625150?_0x5af1d6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20((d'+'DiffuseLig'+'ht\x20-\x200.5)\x20'+'*\x20max('+_0x4cbfad['ambientBak'+'eOcclusion'+'Contrast']['toFixed'](-0x1143+-0x1382+0x24c6)+('\x20+\x201.0,\x200.'+'0))\x20+\x200.5;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20ve'+'c3(')+_0x4cbfad['ambientBak'+'eOcclusion'+'Brightness']['toFixed'](0x868*0x3+0x46d+0xed2*-0x2)+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20s'+'aturate(dD'+'iffuseLigh'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20dAmbientL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20')+_0x5af1d6:_0xe4f15['ambient']=new Y(0x1222+-0x12a7*0x1+-0x85*-0x1,0x5a0+0x87e+-0xe1e,0x50b+0x253d*-0x1+0x2032),_0xe4f15['chunks']['basePS']=X['basePS']+(this['bakeHDR']?'':'\x0a#define\x20L'+'IGHTMAP_RG'+'BM\x0a'),_0xe4f15['chunks']['endPS']=_0x5af1d6,_0xe4f15['lightMap']=this['blackTex'];}else _0xe4f15['chunks']['basePS']=X['basePS']+('\x0auniform\x20s'+'ampler2D\x20t'+'exture_dir'+'LightMap;\x0a'+'uniform\x20fl'+'oat\x20bakeDi'+'r;\x0a'),_0xe4f15['chunks']['endPS']=vo['bakeDirLmE'+'ndPS'];return _0xe4f15['chunks']['outputAlph'+'aPS']='\x0a',_0xe4f15['chunks']['outputAlph'+'aOpaquePS']='\x0a',_0xe4f15['chunks']['outputAlph'+'aPremulPS']='\x0a',_0xe4f15['cull']=mt,_0xe4f15['forceUv1']=!(0x16b4+-0x171+-0x1543),_0xe4f15['update'](),_0xe4f15;}['createMate'+'rials'](_0x584cef,_0x2e844d,_0x51231f){for(let _0x4ece75=0x1*-0xe1e+-0x1374+-0x1*-0x2192;_0x4ece75<_0x51231f;_0x4ece75++)this['passMateri'+'als'][_0x4ece75]||(this['passMateri'+'als'][_0x4ece75]=this['createMate'+'rialForPas'+'s'](_0x584cef,_0x2e844d,_0x4ece75,!(-0x6d5+0x1*0xccf+0xb*-0x8b)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x584cef,_0x2e844d,0x1*0x1f35+-0x21c4+-0x83*-0x5,!(0x229d*0x1+-0x1d19+-0x584)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x3f4c2b){return _0x3f4c2b['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0xf*0x5d+-0x10f4+0xb81),_0x3f4c2b['litOptions']['separateAm'+'bient']=!(0x1*-0x1615+0x2275+-0xc60),_0x3f4c2b;});}['createText'+'ure'](_0x1ce3c6,_0x451c0e){return new he(this['device'],{'profilerHint':Oy,'width':_0x1ce3c6,'height':_0x1ce3c6,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(0x9*0x229+-0x5*-0x3fa+-0x2752),'type':this['bakeHDR']?Di:on,'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x451c0e});}['collectMod'+'els'](_0xc70478,_0x5266c4,_0x59238a){var _0x3871f7,_0x3da3f,_0x20ec9b;if(!_0xc70478['enabled'])return;let _0x5515f3;if((_0x3871f7=_0xc70478['model'])!=null&&_0x3871f7['model']&&((_0x3da3f=_0xc70478['model'])!=null&&_0x3da3f['enabled'])&&(_0x59238a&&_0x59238a['push'](new Wl(_0xc70478)),_0xc70478['model']['lightmappe'+'d']&&_0x5266c4&&(_0x5515f3=_0xc70478['model']['model']['meshInstan'+'ces'])),(_0x20ec9b=_0xc70478['render'])!=null&&_0x20ec9b['enabled']&&(_0x59238a&&_0x59238a['push'](new Wl(_0xc70478)),_0xc70478['render']['lightmappe'+'d']&&_0x5266c4&&(_0x5515f3=_0xc70478['render']['meshInstan'+'ces'])),_0x5515f3){let _0x52071b=!(-0x1e53+-0x989+-0x13ee*-0x2);for(let _0x426d8e=0x1*0x132b+-0x29*0x4e+-0x6ad;_0x426d8e<_0x5515f3['length'];_0x426d8e++)if(!_0x5515f3[_0x426d8e]['mesh']['vertexBuff'+'er']['format']['hasUv1']){v['log']('Lightmappe'+'r\x20-\x20node\x20['+_0xc70478['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x52071b=!(0x5cc+-0x2438+0x1e6d);break;}if(_0x52071b){const _0x1b340d=[];for(let _0x48accb=0x955+-0x204a+0x16f5;_0x48accb<_0x5515f3['length'];_0x48accb++){const _0x3fd9fa=_0x5515f3[_0x48accb]['mesh'];this['_tempSet']['has'](_0x3fd9fa)?_0x5266c4['push'](new Wl(_0xc70478,[_0x5515f3[_0x48accb]])):_0x1b340d['push'](_0x5515f3[_0x48accb]),this['_tempSet']['add'](_0x3fd9fa);}this['_tempSet']['clear'](),_0x1b340d['length']>0x21aa+0x5c*0x34+0x345a*-0x1&&_0x5266c4['push'](new Wl(_0xc70478,_0x1b340d));}}for(let _0x47fead=-0xf10*0x1+0xf40+0x18*-0x2;_0x47fead<_0xc70478['_children']['length'];_0x47fead++)this['collectMod'+'els'](_0xc70478['_children'][_0x47fead],_0x5266c4,_0x59238a);}['prepareSha'+'dowCasters'](_0x20685c){const _0x18ab41=[];for(let _0x5883c0=0x2085+0x221b*0x1+-0x520*0xd;_0x5883c0<_0x20685c['length'];_0x5883c0++){const _0x26e79f=_0x20685c[_0x5883c0]['component'];if(_0x26e79f['castShadow'+'s']=_0x26e79f['castShadow'+'sLightmap'],_0x26e79f['castShadow'+'sLightmap']){const _0x552e9e=_0x20685c[_0x5883c0]['meshInstan'+'ces'];for(let _0x565f02=0x1c+0x25*-0xc1+0x943*0x3;_0x565f02<_0x552e9e['length'];_0x565f02++)_0x552e9e[_0x565f02]['visibleThi'+'sFrame']=!(-0x1*-0xd83+0x1*-0x1511+0x3c7*0x2),_0x18ab41['push'](_0x552e9e[_0x565f02]);}}return _0x18ab41;}['updateTran'+'sforms'](_0xdef81c){for(let _0x2dde57=0x1cc3*-0x1+0x1*0x18e5+0x3de;_0x2dde57<_0xdef81c['length'];_0x2dde57++){const _0x5d01a8=_0xdef81c[_0x2dde57]['meshInstan'+'ces'];for(let _0x30086b=0x1*0x1b73+-0x292+-0x18e1;_0x30086b<_0x5d01a8['length'];_0x30086b++)_0x5d01a8[_0x30086b]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x2696a0){let _0x180da7;const _0x2d7344=this['scene']['lightmapSi'+'zeMultipli'+'er']||-0x1cdf+-0x266a+0x7*0x99f,_0x449d74=$l;let _0xf864c9,_0xfa58db;_0x2696a0['model']?(_0xfa58db=_0x2696a0['model']['lightmapSi'+'zeMultipli'+'er'],_0x2696a0['model']['asset']?(_0x180da7=this['assets']['get'](_0x2696a0['model']['asset'])['data'],_0x180da7['area']&&(_0xf864c9=_0x180da7['area'])):_0x2696a0['model']['_area']&&(_0x180da7=_0x2696a0['model'],_0x180da7['_area']&&(_0xf864c9=_0x180da7['_area']))):_0x2696a0['render']&&(_0xfa58db=_0x2696a0['render']['lightmapSi'+'zeMultipli'+'er'],_0x2696a0['render']['type']!=='asset'&&_0x2696a0['render']['_area']&&(_0x180da7=_0x2696a0['render'],_0x180da7['_area']&&(_0xf864c9=_0x180da7['_area'])));const _0x575c75={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0xf864c9&&(_0x575c75['x']=_0xf864c9['x'],_0x575c75['y']=_0xf864c9['y'],_0x575c75['z']=_0xf864c9['z'],_0x575c75['uv']=_0xf864c9['uv']);const _0x58e41a=_0xfa58db||0x198b*0x1+0x21b1+0x101*-0x3b;_0x575c75['x']*=_0x58e41a,_0x575c75['y']*=_0x58e41a,_0x575c75['z']*=_0x58e41a;const _0x3661c2=_0x2696a0['render']||_0x2696a0['model'],_0x54dd8a=this['computeNod'+'eBounds'](_0x3661c2['meshInstan'+'ces']);_0x449d74['copy'](_0x54dd8a['halfExtent'+'s']);let _0x34eebf=_0x575c75['x']*_0x449d74['y']*_0x449d74['z']+_0x575c75['y']*_0x449d74['x']*_0x449d74['z']+_0x575c75['z']*_0x449d74['x']*_0x449d74['y'];return _0x34eebf/=_0x575c75['uv'],_0x34eebf=Math['sqrt'](_0x34eebf),Math['min'](N['nextPowerO'+'fTwo'](_0x34eebf*_0x2d7344),this['scene']['lightmapMa'+'xResolutio'+'n']||yP);}['setLightma'+'pping'](_0x3bf98a,_0xf7934c,_0x386d43,_0x291486){for(let _0x3ae8f4=-0x2685*0x1+0xf6a+-0x1c7*-0xd;_0x3ae8f4<_0x3bf98a['length'];_0x3ae8f4++){const _0x535038=_0x3bf98a[_0x3ae8f4],_0x105df3=_0x535038['meshInstan'+'ces'];for(let _0x144fde=-0xaf2+-0x1b*-0x29+0x5*0x153;_0x144fde<_0x105df3['length'];_0x144fde++){const _0x1155bb=_0x105df3[_0x144fde];if(_0x1155bb['setLightma'+'pped'](_0xf7934c),_0xf7934c){_0x291486&&(_0x1155bb['_shaderDef'+'s']|=_0x291486),_0x1155bb['mask']=cr;for(let _0x2f3d58=-0x1a31+0x8d*0x43+0x392*-0x3;_0x2f3d58<_0x386d43;_0x2f3d58++){const _0x485ff8=_0x535038['renderTarg'+'ets'][_0x2f3d58]['colorBuffe'+'r'];_0x485ff8['minFilter']=st,_0x485ff8['magFilter']=st,_0x1155bb['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x2f3d58],_0x485ff8);}}}}}['bake'](_0x523a06,_0x46533e=ch){const _0x16f344=this['device'],_0x3f67e8=ne();this['scene']['_updateSky'+'Mesh'](),_0x16f344['fire']('lightmappe'+'r:start',{'timestamp':_0x3f67e8,'target':this}),this['stats']['renderPass'+'es']=-0x1*-0x1cfd+0x19a9+-0x36a6,this['stats']['shadowMapT'+'ime']=0x3c9+-0x2028+-0x1c5f*-0x1,this['stats']['forwardTim'+'e']=0x22c2+0x1*-0x11c8+-0x87d*0x2;const _0xfe095f=_0x16f344['_shaderSta'+'ts']['linked'],_0x1259fd=_0x16f344['_renderTar'+'getCreatio'+'nTime'],_0x1312ca=_0x16f344['_shaderSta'+'ts']['compileTim'+'e'],_0x15ffb6=[],_0x102b75=[];if(_0x523a06){for(let _0x748057=-0x2702+0x1fb+0x2507;_0x748057<_0x523a06['length'];_0x748057++)this['collectMod'+'els'](_0x523a06[_0x748057],_0x15ffb6,null);this['collectMod'+'els'](this['root'],null,_0x102b75);}else this['collectMod'+'els'](this['root'],_0x15ffb6,_0x102b75);if(G['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x15ffb6['length']>0x2577+-0x29*-0x89+-0x3b68){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0xfba1b1=_0x46533e===ch?-0x185*0x11+-0x92*-0x2e+-0x65:-0x20da+0x12e3*-0x2+-0x7*-0xa17;this['setLightma'+'pping'](_0x15ffb6,!(0x1dd5*-0x1+0x19cc+0x16*0x2f),_0xfba1b1),this['initBake'](_0x16f344),this['bakeIntern'+'al'](_0xfba1b1,_0x15ffb6,_0x102b75);let _0x4d8cf2=Fu;_0x46533e===ch&&(_0x4d8cf2|=y0),this['scene']['ambientBak'+'e']&&(_0x4d8cf2|=x0),this['setLightma'+'pping'](_0x15ffb6,!(-0x1b35*-0x1+0x205*0x5+-0xa*0x3bb),_0xfba1b1,_0x4d8cf2),this['finishBake'](_0x15ffb6);}G['popGpuMark'+'er'](this['device']);const _0x13b04a=ne();this['stats']['totalRende'+'rTime']=_0x13b04a-_0x3f67e8,this['stats']['shadersLin'+'ked']=_0x16f344['_shaderSta'+'ts']['linked']-_0xfe095f,this['stats']['compileTim'+'e']=_0x16f344['_shaderSta'+'ts']['compileTim'+'e']-_0x1312ca,this['stats']['fboTime']=_0x16f344['_renderTar'+'getCreatio'+'nTime']-_0x1259fd,this['stats']['lightmapCo'+'unt']=_0x15ffb6['length'],_0x16f344['fire']('lightmappe'+'r:end',{'timestamp':_0x13b04a,'target':this});}['allocateTe'+'xtures'](_0x528823,_0x38c19e){for(let _0x1b6cd9=-0x30d+0x1*-0x17eb+0x1af8;_0x1b6cd9<_0x528823['length'];_0x1b6cd9++){const _0x5c3fff=_0x528823[_0x1b6cd9],_0x2a8461=this['calculateL'+'ightmapSiz'+'e'](_0x5c3fff['node']);for(let _0x4e019b=0x6e0+0xe8f+-0x156f;_0x4e019b<_0x38c19e;_0x4e019b++){const _0x491ac3=this['createText'+'ure'](_0x2a8461,'lightmappe'+'r_lightmap'+'_'+_0x1b6cd9);Si['incRef'](_0x491ac3),_0x5c3fff['renderTarg'+'ets'][_0x4e019b]=new pt({'colorBuffer':_0x491ac3,'depth':!(0x1636+0x16f*0x4+-0x1bf1*0x1)});}if(!this['renderTarg'+'ets']['has'](_0x2a8461)){const _0x3f8205=this['createText'+'ure'](_0x2a8461,'lightmappe'+'r_temp_lig'+'htmap_'+_0x2a8461);Si['incRef'](_0x3f8205),this['renderTarg'+'ets']['set'](_0x2a8461,new pt({'colorBuffer':_0x3f8205,'depth':!(0x1205+-0x1067+-0x19d)}));}}}['prepareLig'+'htsToBake'](_0x685497,_0x5477b6){if(this['scene']['ambientBak'+'e']){const _0x408be4=new j_(this);_0x5477b6['push'](_0x408be4);}const _0x2ea62e=this['renderer']['lights'];for(let _0x5cdf4b=-0x1a8*-0x13+-0x1218+-0xd60*0x1;_0x5cdf4b<_0x2ea62e['length'];_0x5cdf4b++){const _0x518f51=_0x2ea62e[_0x5cdf4b],_0x2410c=new mP(this,_0x518f51);_0x685497['push'](_0x2410c),_0x518f51['enabled']&&(_0x518f51['mask']&rr)!==0x13a8+0x24fa+-0x38a2&&(_0x518f51['mask']=rr|cr|hs,_0x518f51['shadowUpda'+'teMode']=_0x518f51['type']===oe?Pp:cn,_0x5477b6['push'](_0x2410c));}_0x5477b6['sort']();}['restoreLig'+'hts'](_0x54baca){for(let _0x34b3cb=-0x56e+0x8cb*0x1+0x11f*-0x3;_0x34b3cb<_0x54baca['length'];_0x34b3cb++)_0x54baca[_0x34b3cb]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](-0xae7*-0x2+0x2*-0xb38+0xa2,-0x3*0xc70+-0x11b1+0x1*0x3701,-0x293*0x1+0x15ab+-0x1318),this['renderer']['setSceneCo'+'nstants']();}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x264b48){const _0x2d5193=new _e();if(_0x264b48['length']>0x11fc+0x13c6+-0x25c2){_0x2d5193['copy'](_0x264b48[-0x232+0x191*-0x11+-0x1*-0x1cd3]['aabb']);for(let _0x4e50bd=-0x14a1*0x1+-0x7*-0x1f+0x13c9;_0x4e50bd<_0x264b48['length'];_0x4e50bd++)_0x2d5193['add'](_0x264b48[_0x4e50bd]['aabb']);}return _0x2d5193;}['computeNod'+'esBounds'](_0x30848c){for(let _0x57478e=0x5d5+0x2*0x298+-0xb05;_0x57478e<_0x30848c['length'];_0x57478e++){const _0x1489c3=_0x30848c[_0x57478e]['meshInstan'+'ces'];_0x30848c[_0x57478e]['bounds']=this['computeNod'+'eBounds'](_0x1489c3);}}['computeBou'+'nds'](_0x426a5e){const _0x3ee82a=new _e();for(let _0x37d976=0x1925+0x18e+0x1ab3*-0x1;_0x37d976<_0x426a5e['length'];_0x37d976++){_0x3ee82a['copy'](_0x426a5e[-0x23d3+0x8*0x431+-0x1*-0x24b]['aabb']);for(let _0x2bc9df=0x3*-0xe4+-0x2293+-0x2540*-0x1;_0x2bc9df<_0x426a5e['length'];_0x2bc9df++)_0x3ee82a['add'](_0x426a5e[_0x2bc9df]['aabb']);}return _0x3ee82a;}['backupMate'+'rials'](_0x501cf9){for(let _0x304029=0xce4+-0x3dd+0x907*-0x1;_0x304029<_0x501cf9['length'];_0x304029++)this['materials'][_0x304029]=_0x501cf9[_0x304029]['material'];}['restoreMat'+'erials'](_0x5ee8dc){for(let _0x23779f=0x1*-0x1a71+0x961+0x1110;_0x23779f<_0x5ee8dc['length'];_0x23779f++)_0x5ee8dc[_0x23779f]['material']=this['materials'][_0x23779f];}['lightCamer'+'aPrepare'](_0x109048,_0x28b9d5){const _0x37dfc3=_0x28b9d5['light'];let _0x4ee1d9;return _0x37dfc3['type']===Re&&(_0x4ee1d9=_0x37dfc3['getRenderD'+'ata'](null,0x260a+-0x5*-0x6a5+-0x17c1*0x3)['shadowCame'+'ra'],_0x4ee1d9['_node']['setPositio'+'n'](_0x37dfc3['_node']['getPositio'+'n']()),_0x4ee1d9['_node']['setRotatio'+'n'](_0x37dfc3['_node']['getRotatio'+'n']()),_0x4ee1d9['_node']['rotateLoca'+'l'](-(0x1422*0x1+-0x2467+-0x25*-0x73),0x13a4+-0x1*0x1394+0x8*-0x2,-0x9*-0x1fc+-0x16*-0xef+0x1*-0x2666),_0x4ee1d9['projection']=Gs,_0x4ee1d9['nearClip']=_0x37dfc3['attenuatio'+'nEnd']/(0x12da+-0x9e6+-0x50c),_0x4ee1d9['farClip']=_0x37dfc3['attenuatio'+'nEnd'],_0x4ee1d9['aspectRati'+'o']=0x6c1*-0x1+0x17d6+-0x1*0x1114,_0x4ee1d9['fov']=_0x37dfc3['_outerCone'+'Angle']*(-0x4d*0x31+0x22d7+0x1*-0x1418),this['renderer']['updateCame'+'raFrustum'](_0x4ee1d9)),_0x4ee1d9;}['lightCamer'+'aPrepareAn'+'dCull'](_0x5a1733,_0x18d43f,_0x4671fe,_0x14c283){const _0x5dc4d8=_0x5a1733['light'];let _0x4ca694=!(-0x7*0x174+-0x1a49*-0x1+-0x101d);if(_0x5dc4d8['type']===oe){$l['copy'](_0x14c283['center']),$l['y']+=_0x14c283['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n']($l),this['camera']['node']['setEulerAn'+'gles'](-(-0x1fdf+0x1abf+0x57a),0x2*-0x655+0xd20+-0x76,0x6ea*0x2+-0x67b*-0x3+-0x2145),this['camera']['nearClip']=-0x1b*0x3e+-0x1e99+0x2523,this['camera']['farClip']=_0x14c283['halfExtent'+'s']['y']*(-0xcbe+-0x21d4+0x2e94);const _0xb4b452=Math['max'](_0x14c283['halfExtent'+'s']['x'],_0x14c283['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0xb4b452;}else _0x5a1733['lightBound'+'s']['intersects'](_0x18d43f['bounds'])||(_0x4ca694=!(0x167e+-0x533+0x8a5*-0x2));if(_0x5dc4d8['type']===Re){let _0x13986f=!(0x9b9+0x2632+-0x2fea);const _0xabbbc1=_0x18d43f['meshInstan'+'ces'];for(let _0x2f196b=0x1f93+0x5f2+0x11*-0x235;_0x2f196b<_0xabbbc1['length'];_0x2f196b++)if(_0xabbbc1[_0x2f196b]['_isVisible'](_0x4671fe)){_0x13986f=!(0x829*-0x1+0x7f*0x39+-0xa0f*0x2);break;}_0x13986f||(_0x4ca694=!(0x55c+-0x4ed*-0x2+-0x1*0xf35));}return _0x4ca694;}['setupLight'+'Array'](_0x335c77,_0x46fd7e){_0x335c77[oe]['length']=-0x3*0x1c1+0xb4e*-0x1+-0x1*-0x1091,_0x335c77[Pe]['length']=-0x876+-0x23*0x61+0x15b9*0x1,_0x335c77[Re]['length']=0x1de5+-0x763*-0x1+-0x2548,_0x335c77[_0x46fd7e['type']][0xda2*0x2+-0x14*-0xb2+-0xa4b*0x4]=_0x46fd7e,_0x46fd7e['visibleThi'+'sFrame']=!(0x20bd+-0x1a8d+-0x48*0x16);}['renderShad'+'owMap'](_0x52a4ec,_0x27fa10,_0x3bf7d4,_0x56577e){const _0xd80a36=_0x56577e['light'],_0x5db917=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x4870a6=_0xd80a36['castShadow'+'s']&&(!_0x5db917||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x27fa10&&_0x4870a6){if(!_0xd80a36['shadowMap']&&!_0x5db917&&(_0xd80a36['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0xd80a36)),_0xd80a36['type']===oe){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0xd80a36,_0x52a4ec,this['camera'],_0x3bf7d4);const _0x3b4a1f=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0xd80a36,this['camera']);_0x3b4a1f==null||_0x3b4a1f['render']();}else{if(this['device']['isWebGPU'])return v['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(0x1270*0x2+0x1fd9+-0x44b9);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0xd80a36,_0x52a4ec,_0x3bf7d4),this['renderer']['shadowRend'+'erer']['render'](_0xd80a36,this['camera'],!(0x1d27+-0x1*0x18d9+-0x44d));}}return!(-0xd0f+0x1202+-0x7*0xb5);}['postproces'+'sTextures'](_0x5146a4,_0x1fa462,_0x5a891d){const _0xe8451e=this['lightmapFi'+'lters']['getDilate'](_0x5146a4,this['bakeHDR']);let _0x4ec7a5;const _0x1691de=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x1691de&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x4ec7a5=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x5146a4['setBlendSt'+'ate'](_t['NOBLEND']),_0x5146a4['setDepthSt'+'ate'](as['NODEPTH']),_0x5146a4['setStencil'+'State'](null,null);for(let _0x462a17=0x1318+0x1e96+-0x31ae;_0x462a17<_0x1fa462['length'];_0x462a17++){const _0x2ce4a7=_0x1fa462[_0x462a17];G['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x462a17);for(let _0x4496b9=-0x13*-0x1fe+-0x1*0x20a1+-0x1*0x539;_0x4496b9<_0x5a891d;_0x4496b9++){const _0x4058d6=_0x2ce4a7['renderTarg'+'ets'][_0x4496b9],_0x14153f=_0x4058d6['colorBuffe'+'r'],_0x119e12=this['renderTarg'+'ets']['get'](_0x14153f['width']),_0x330dd0=_0x119e12['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x14153f['width'],_0x14153f['height']);for(let _0x45a381=0xfa*0xb+-0x4d+-0xa71;_0x45a381<0xf6*0x10+-0x5*-0x49f+-0x267a;_0x45a381++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x14153f),dn(_0x5146a4,_0x119e12,_0x1691de&&_0x4496b9===-0x610*0x4+-0x153b+0x3*0xf29&&_0x45a381===0x1f9d+0x26ec+-0x4689?_0x4ec7a5:_0xe8451e),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x330dd0),dn(_0x5146a4,_0x4058d6,_0xe8451e);}G['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x281e98,_0x34cd74,_0x2f3266){const _0x2049f8=this['scene'],_0x987e55=_0x2049f8['layers'],_0x436b63=this['device'],_0x27d742=_0x2049f8['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x436b63,_0x2049f8,_0x281e98),this['setupScene'](),_0x987e55['_update'](),this['computeNod'+'esBounds'](_0x34cd74),this['allocateTe'+'xtures'](_0x34cd74,_0x281e98),this['renderer']['collectLig'+'hts'](_0x987e55);const _0x1a6b8d=[],_0x366e15=[];this['prepareLig'+'htsToBake'](_0x1a6b8d,_0x366e15),this['updateTran'+'sforms'](_0x2f3266);const _0x47f939=this['prepareSha'+'dowCasters'](_0x2f3266);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x47f939),this['renderer']['gpuUpdate'](_0x47f939);const _0x5e18f5=this['computeBou'+'nds'](_0x47f939);let _0x17fabc,_0x3906da,_0x26891c,_0x1b8c67;for(_0x17fabc=-0x19b3+0x5*0x63f+-0x588;_0x17fabc<_0x34cd74['length'];_0x17fabc++)for(_0x26891c=_0x34cd74[_0x17fabc]['meshInstan'+'ces'],_0x3906da=0x2196+0x1baf+-0x3d45;_0x3906da<_0x26891c['length'];_0x3906da++)_0x1b8c67=_0x26891c[_0x3906da],_0x1b8c67['setLightma'+'pped'](!(0x21d*0x5+-0x1b34+0x5*0x354)),_0x1b8c67['mask']=rr,_0x1b8c67['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][-0x241*-0xd+-0x4*-0x7e3+0x25*-0x1a5],this['blackTex']),_0x1b8c67['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][-0xdea+-0x631*-0x2+-0x3*-0x83],this['blackTex']);for(_0x3906da=0x6ac+-0x7b+0x1*-0x631;_0x3906da<_0x366e15['length'];_0x3906da++)_0x366e15[_0x3906da]['light']['enabled']=!(0x13*0x47+0x21d*-0x7+-0x1*-0x987);const _0x28045b=[[],[],[]];let _0x57bc75,_0x220250,_0x195df6=!(0x14ba+0x1500+-0x29b9*0x1);for(_0x17fabc=0x1b48+-0xf95+-0xbb3;_0x17fabc<_0x366e15['length'];_0x17fabc++){const _0x24b368=_0x366e15[_0x17fabc],_0x4dc92c=_0x24b368 instanceof j_,_0x1b0042=_0x24b368['light']['type']===oe;let _0x51e7c4=_0x24b368['numVirtual'+'Lights'];_0x281e98>0x23bc+0xee4+0x329f*-0x1&&_0x51e7c4>0x1*0x20f9+0x21a8+-0x42a0&&_0x24b368['light']['bakeDir']&&(_0x51e7c4=0x10a9+0x2*0xfa6+-0x2ff4,v['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x3ad023=-0x16ff+-0x354+0x1*0x1a53;_0x3ad023<_0x51e7c4;_0x3ad023++){G['pushGpuMar'+'ker'](_0x436b63,'Light:'+_0x24b368['light']['_node']['name']+':'+_0x3ad023),_0x51e7c4>-0x22c3+0xa86+0x2*0xc1f&&_0x24b368['prepareVir'+'tualLight'](_0x3ad023,_0x51e7c4),_0x24b368['startBake']();let _0x2d6439=!(0x1184+-0x1ed3+-0x6a8*-0x2);const _0x12f765=this['lightCamer'+'aPrepare'](_0x436b63,_0x24b368);for(_0x220250=-0x2507+-0x14d0+0xd*0x473;_0x220250<_0x34cd74['length'];_0x220250++){const _0x24664b=_0x34cd74[_0x220250];if(_0x26891c=_0x24664b['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x24b368,_0x24664b,_0x12f765,_0x5e18f5))continue;this['setupLight'+'Array'](_0x28045b,_0x24b368['light']);const _0x2b3ab8=_0x1b0042?[]:[_0x24b368['light']];for(_0x27d742&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x2b3ab8,this['lightingPa'+'rams']),_0x2d6439=this['renderShad'+'owMap'](_0x987e55,_0x2d6439,_0x47f939,_0x24b368),_0x27d742&&this['worldClust'+'ers']['update'](_0x2b3ab8,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x26891c),_0x57bc75=0x4*-0x124+-0x6b9+0xb49;_0x57bc75<_0x281e98&&!(_0x57bc75>-0x26c9+-0x1347+-0x2*-0x1d08&&_0x3ad023>0x1*0x171c+-0x23b1*-0x1+-0x3acd||_0x4dc92c&&_0x57bc75>0x8ba+-0xe7b+0x5c1);_0x57bc75++){G['pushGpuMar'+'ker'](_0x436b63,'LMPass:'+_0x57bc75);const _0x2a6c7b=_0x24664b['renderTarg'+'ets'][_0x57bc75],_0x40ab4c=_0x24664b['renderTarg'+'ets'][_0x57bc75]['colorBuffe'+'r']['width'],_0xa868c1=this['renderTarg'+'ets']['get'](_0x40ab4c),_0x168e95=_0xa868c1['colorBuffe'+'r'];_0x57bc75===0x22f5+-0x154f+-0xda6?_0x195df6=_0x2049f8['updateShad'+'ers']:_0x195df6&&(_0x2049f8['updateShad'+'ers']=!(0x400+0xbc1+-0xfc1));let _0x2159ff=this['passMateri'+'als'][_0x57bc75];for(_0x4dc92c&&_0x3ad023+(0x71b+0xd*-0x235+0x1597*0x1)===_0x51e7c4&&_0x57bc75===0x150d+-0x16a5+0x198&&(_0x2159ff=this['ambientAOM'+'aterial']),_0x3906da=-0x24cd*0x1+0x1d*-0x62+-0x2fe7*-0x1;_0x3906da<_0x26891c['length'];_0x3906da++)_0x26891c[_0x3906da]['material']=_0x2159ff;if(this['renderer']['updateShad'+'ers'](_0x26891c),_0x57bc75===SP&&this['constantBa'+'keDir']['setValue'](_0x24b368['light']['bakeDir']?0x5d5*-0x4+0x5b7*-0x5+-0x67d*-0x8:0x37d*-0x3+-0x1306+0x1d7d),_0x436b63['isWebGPU']){const _0x4369e1=new gP(_0x436b63,this['renderer'],this['camera'],_0x27d742?this['worldClust'+'ers']:null,_0x26891c,_0x28045b);_0x4369e1['init'](_0xa868c1),_0x4369e1['render'](),_0x4369e1['destroy']();}else this['renderer']['setCamera'](this['camera'],_0xa868c1,!(-0x4f*-0x3+0x984+-0xa71)),_0x27d742&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=0xa68+-0x802+-0x266,this['renderer']['_shadowMap'+'Time']=0x7b1+-0x3*-0xe+0x7db*-0x1,this['renderer']['renderForw'+'ard'](this['camera'],_0xa868c1,_0x26891c,_0x28045b,gn),_0x436b63['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x24664b['renderTarg'+'ets'][_0x57bc75]=_0xa868c1,this['renderTarg'+'ets']['set'](_0x40ab4c,_0x2a6c7b),_0x3906da=0x1549+-0x116*-0x1+-0x165f;_0x3906da<_0x26891c['length'];_0x3906da++)_0x1b8c67=_0x26891c[_0x3906da],_0x1b8c67['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x57bc75],_0x168e95),_0x1b8c67['_shaderDef'+'s']|=Fu;G['popGpuMark'+'er'](_0x436b63);}this['restoreMat'+'erials'](_0x26891c);}_0x24b368['endBake'](this['shadowMapC'+'ache']),G['popGpuMark'+'er'](_0x436b63);}}for(this['postproces'+'sTextures'](_0x436b63,_0x34cd74,_0x281e98),_0x220250=0x1b0e+-0x1ee3+0x3d5;_0x220250<_0x2f3266['length'];_0x220250++)_0x2f3266[_0x220250]['restore']();this['restoreLig'+'hts'](_0x1a6b8d),this['restoreSce'+'ne'](),_0x27d742||this['shadowMapC'+'ache']['clear']();}}const oc=class oc extends ce{constructor(_0x29d870,_0x27e7e6){super(),c(this,'system'),c(this,'entity'),(this['system']=_0x29d870,this['entity']=_0x27e7e6,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x3df373,_0xa2a8ff,_0x47ffee){this['fire']('set_'+_0x3df373,_0x3df373,_0xa2a8ff,_0x47ffee);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x3316eb,_0xbd311e){_0xbd311e['forEach'](_0x99164=>{const _0x488d51=typeof _0x99164=='object'?_0x99164['name']:_0x99164;Object['defineProp'+'erty'](_0x3316eb,_0x488d51,{'get':function(){return this['data'][_0x488d51];},'set':function(_0xfd2e1b){const _0x5c84f5=this['data'],_0x3cf2d6=_0x5c84f5[_0x488d51];_0x5c84f5[_0x488d51]=_0xfd2e1b,this['fire']('set',_0x488d51,_0x3cf2d6,_0xfd2e1b);},'configurable':!(0x13d6*0x1+-0x2*0x1269+0x10fc)});}),_0x3316eb['_accessors'+'Built']=!(-0x4*-0x662+-0x1889+-0xff);}['buildAcces'+'sors'](_0x52d6f8){oc['_buildAcce'+'ssors'](this,_0x52d6f8);}['onSetEnabl'+'ed'](_0x578a70,_0x8b32b3,_0x3029e8){_0x8b32b3!==_0x3029e8&&this['entity']['enabled']&&(_0x3029e8?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x5e2cae=this['system']['store'][this['entity']['getGuid']()];return _0x5e2cae?_0x5e2cae['data']:null;}set['enabled'](_0x35e113){}get['enabled'](){return!(-0x3*-0x5c3+-0x1*0x1285+0x2*0x9e);}};c(oc,'order',0xfd6*0x2+-0x22b1+0x1*0x305);let ue=oc;class Xe extends ce{constructor(_0xa36a89){super(),this['app']=_0xa36a89,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x150879,_0x5d8e69={}){const _0xbd953c=new this['ComponentT'+'ype'](this,_0x150879),_0x5c7589=new this['DataType']();return this['store'][_0x150879['getGuid']()]={'entity':_0x150879,'data':_0x5c7589},_0x150879[this['id']]=_0xbd953c,_0x150879['c'][this['id']]=_0xbd953c,this['initialize'+'ComponentD'+'ata'](_0xbd953c,_0x5d8e69,[]),this['fire']('add',_0x150879,_0xbd953c),_0xbd953c;}['removeComp'+'onent'](_0x3150ab){const _0x17893f=this['id'],_0x3e8f47=this['store'][_0x3150ab['getGuid']()],_0x279509=_0x3150ab['c'][_0x17893f];_0x279509['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x3150ab,_0x279509),delete this['store'][_0x3150ab['getGuid']()],_0x3150ab[_0x17893f]=void(-0x368+-0x154*0x13+0x4c6*0x6),delete _0x3150ab['c'][_0x17893f],this['fire']('remove',_0x3150ab,_0x3e8f47['data']);}['cloneCompo'+'nent'](_0x1cc147,_0x61c957){const _0x362985=this['store'][_0x1cc147['getGuid']()];return this['addCompone'+'nt'](_0x61c957,_0x362985['data']);}['initialize'+'ComponentD'+'ata'](_0x1523e3,_0x3a9f7a={},_0x3d5355){for(let _0x31941e=0x94+-0x7*-0x4cd+-0x222f,_0x494fc0=_0x3d5355['length'];_0x31941e<_0x494fc0;_0x31941e++){const _0x3cb39a=_0x3d5355[_0x31941e];let _0x5f3497,_0xd163fc;typeof _0x3cb39a=='object'?(_0x5f3497=_0x3cb39a['name'],_0xd163fc=_0x3cb39a['type']):(_0x5f3497=_0x3cb39a,_0xd163fc=void(0x66f*-0x1+-0xb*0x23e+0x1*0x1f19));let _0x20bc57=_0x3a9f7a[_0x5f3497];_0x20bc57!==void(-0x1*0x1cc4+0x620+0x5c*0x3f)?(_0xd163fc!==void(-0x1456+0x41*-0x35+-0x21cb*-0x1)&&(_0x20bc57=bP(_0x20bc57,_0xd163fc)),_0x1523e3[_0x5f3497]=_0x20bc57):_0x1523e3[_0x5f3497]=_0x1523e3['data'][_0x5f3497];}_0x1523e3['enabled']&&_0x1523e3['entity']['enabled']&&_0x1523e3['onEnable']();}['getPropert'+'iesOfType'](_0x280a18){const _0x1b0465=[];return(this['schema']||[])['forEach'](_0x3133f7=>{_0x3133f7&&typeof _0x3133f7=='object'&&_0x3133f7['type']===_0x280a18&&_0x1b0465['push'](_0x3133f7);}),_0x1b0465;}['destroy'](){this['off']();}}function bP(_0x130bc8,_0x4ed59e){if(!_0x130bc8)return _0x130bc8;switch(_0x4ed59e){case'rgb':return _0x130bc8 instanceof Y?_0x130bc8['clone']():new Y(_0x130bc8[-0x15ee+-0xb*-0x23+0x7*0x2eb],_0x130bc8[-0x21b*0xa+0x1*0x185+0x138a],_0x130bc8[-0x2f*0x8d+-0x1*0x1910+0x32f5]);case'rgba':return _0x130bc8 instanceof Y?_0x130bc8['clone']():new Y(_0x130bc8[0x325+-0x1900+0x15db],_0x130bc8[0x5*0x522+0xbad*-0x1+0x1*-0xdfc],_0x130bc8[-0x24a0+0x926+-0x2*-0xdbe],_0x130bc8[0x1343+-0x1bc5+0x885]);case'vec2':return _0x130bc8 instanceof W?_0x130bc8['clone']():new W(_0x130bc8[0x2*0xfb5+0xa3*0x35+-0x7*0x94f],_0x130bc8[-0x2547+-0x173*-0x17+0x3f3]);case'vec3':return _0x130bc8 instanceof T?_0x130bc8['clone']():new T(_0x130bc8[0x15eb+-0x2*0x914+0x3c3*-0x1],_0x130bc8[-0x2*0x12c9+0x2405*-0x1+0xa*0x75c],_0x130bc8[0x97b*-0x1+0x22*0x7e+-0x73f]);case'vec4':return _0x130bc8 instanceof Q?_0x130bc8['clone']():new Q(_0x130bc8[0x1690+0x615*-0x4+-0x1*-0x1c4],_0x130bc8[0x1*-0xae3+-0x371*-0x3+0x1*0x91],_0x130bc8[0x1*-0x85d+-0x17ca+0x2029],_0x130bc8[0xcfb*0x1+-0x1*-0x20e1+-0x2dd9]);case'boolean':case'number':case'string':return _0x130bc8;case'entity':return _0x130bc8;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x4ed59e);}}const $0=0xda5+-0xdc9*0x2+0xded,ju=-0x1d*0x146+0x104*-0x23+0x1829*0x3,Yu=0x1*0x99d+-0xc57+0x2bc;class wP{constructor(){this['_left']=(0xf38+-0x1a55+-0x1*-0xb1e)/(-0x2174+0x3*0x786+0x1*0xae2),this['_right']=-(0x885+-0xf61+0x1*0x6dd)/(-0xa58+0xd38+-0x2e0),this['_len']=-0xd1d+-0x23d6+0x30f3,this['_recip']=-0xf83+0x2e*-0x52+-0x1*-0x1e3f,this['_p0']=0x2551+0x1*-0x136b+-0x11e6,this['_p1']=0x1083+-0x2a4*-0xb+-0x2d8f,this['_t']=-0x9e*0xd+0x2a5+0x561,this['_hermite']={'valid':!(0x18c5+0x303+-0xd*0x223),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x4a8034,_0x32e8fa){if(_0x4a8034<this['_left']||_0x4a8034>=this['_right']){const _0x3f61ad=_0x32e8fa['length'];if(!_0x3f61ad)this['_left']=-(0x4f*-0x45+0x2b*0x99+-0x467)/(0x115+0x256c+-0x2681),this['_right']=(0xf67+0xa41+0xb*-0x255)/(-0x2*-0x5ae+-0x3*-0xca1+-0x313f*0x1),this['_len']=0x1b*-0xf4+0x1135+-0x887*-0x1,this['_recip']=0x1a01+0x14d5*0x1+0x6e*-0x6d,this['_p0']=this['_p1']=-0x12a3+0x1990+-0xc5*0x9;else{if(_0x4a8034<_0x32e8fa[0x1*0x191e+0x1*-0x1433+-0x4eb])this['_left']=-(0x6a8*0x2+-0x19ea*-0x1+-0x2739*0x1)/(-0x1*0xf6b+-0x19e3+0x2*0x14a7),this['_right']=_0x32e8fa[0x1898+0xe*0x1f+0x2a1*-0xa],this['_len']=0x1680+0x389+0x1f*-0xd7,this['_recip']=0x10b5+0xad7+0xa4*-0x2b,this['_p0']=this['_p1']=0x1ebd+0x21d*0x7+-0x2d88;else{if(_0x4a8034>=_0x32e8fa[_0x3f61ad-(-0x2400+-0xe8*-0xd+0x27*0x9f)])this['_left']=_0x32e8fa[_0x3f61ad-(0x3c6+-0x1*-0x1f87+-0x234c)],this['_right']=(0x25*0x2b+-0x3*-0x5fc+-0x182a)/(-0xa56+0x1*-0x1451+0x3b*0x85),this['_len']=0x31c+0x3b2+-0x6ce,this['_recip']=-0x1*0x8f5+0x2636+-0x1d41,this['_p0']=this['_p1']=_0x3f61ad-(0x37*-0xd+0x90*-0x14+0xe0c);else{const _0x5afb63=this['_findKey'](_0x4a8034,_0x32e8fa);this['_left']=_0x32e8fa[_0x5afb63],this['_right']=_0x32e8fa[_0x5afb63+(0x11*0x73+-0xaec+-0x2*-0x1a5)],this['_len']=this['_right']-this['_left'];const _0x263362=(0x42+0x25d3+-0x2614)/this['_len'];this['_recip']=isFinite(_0x263362)?_0x263362:-0x1f30+-0x1f*0xfb+0x1487*0x3,this['_p0']=_0x5afb63,this['_p1']=_0x5afb63+(-0x153*0x9+0x5a7+0x5*0x141);}}}}this['_t']=this['_recip']===0xb05+-0x2d7*0x7+-0x1b*-0x54?0x18e+0x1340+0xa67*-0x2:(_0x4a8034-this['_left'])*this['_recip'],this['_hermite']['valid']=!(-0xca8+0x20*0x109+-0x1*0x1477);}['_findKey'](_0x4a2bd4,_0x50a644){let _0x488160=-0x14e7+0x1*-0xd4d+0x2234;for(;_0x4a2bd4>=_0x50a644[_0x488160+(0x2333+-0x254f+0x21d)];)_0x488160++;return _0x488160;}['eval'](_0x115c1d,_0x5cd557,_0x476b3c){const _0x2ec3d2=_0x476b3c['_data'],_0x618c9a=_0x476b3c['_component'+'s'],_0x21bf46=this['_p0']*_0x618c9a;if(_0x5cd557===$0){for(let _0x400a1a=0x209+-0x11*0x165+-0xad6*-0x2;_0x400a1a<_0x618c9a;++_0x400a1a)_0x115c1d[_0x400a1a]=_0x2ec3d2[_0x21bf46+_0x400a1a];}else{const _0x2fea1c=this['_t'],_0x565a49=this['_p1']*_0x618c9a;switch(_0x5cd557){case ju:for(let _0x496e45=-0x979*-0x2+-0x1c9c+0x9aa;_0x496e45<_0x618c9a;++_0x496e45)_0x115c1d[_0x496e45]=N['lerp'](_0x2ec3d2[_0x21bf46+_0x496e45],_0x2ec3d2[_0x565a49+_0x496e45],_0x2fea1c);break;case Yu:{const _0xba352a=this['_hermite'];if(!_0xba352a['valid']){const _0xed4896=_0x2fea1c*_0x2fea1c,_0x3ebb9e=_0x2fea1c+_0x2fea1c,_0x311f48=-0x1047+-0x19*0xc1+-0x2321*-0x1-_0x2fea1c,_0xea00ca=_0x311f48*_0x311f48;_0xba352a['valid']=!(-0x1271+-0x17*0x9b+0x205e*0x1),_0xba352a['p0']=(0x36*0x1a+0x1250*-0x2+0x1f25+_0x3ebb9e)*_0xea00ca,_0xba352a['m0']=_0x2fea1c*_0xea00ca,_0xba352a['p1']=_0xed4896*(-0xa52+0x4d0*-0x7+0x1*0x2c05-_0x3ebb9e),_0xba352a['m1']=_0xed4896*(_0x2fea1c-(-0x1175*0x2+-0x2051+-0x2*-0x219e));}const _0x36e572=(this['_p0']*(0x6f1+-0xee*0x1e+-0x14f6*-0x1)+(-0x12db*-0x1+0xdc5+-0x209f))*_0x618c9a,_0x71ba6=(this['_p0']*(0xfb3*0x1+-0x2b0*0x8+0x5d*0x10)+(0x847*0x1+0x4d9*-0x4+0xb1f))*_0x618c9a,_0x2c7cf0=(this['_p1']*(-0xb*0x1c9+0x494+0xf12)+(0x2055+-0x11*0x25+-0x1*0x1ddf))*_0x618c9a,_0x48c407=(this['_p1']*(-0x25cf*0x1+-0x1*-0x1c0f+0x33*0x31)+(0x1*0x862+-0x3e5*0x4+0x399*0x2))*_0x618c9a;for(let _0x3fc581=-0x2*-0xe27+-0x18*-0xcb+-0x2f56;_0x3fc581<_0x618c9a;++_0x3fc581)_0x115c1d[_0x3fc581]=_0xba352a['p0']*_0x2ec3d2[_0x36e572+_0x3fc581]+_0xba352a['m0']*_0x2ec3d2[_0x71ba6+_0x3fc581]*this['_len']+_0xba352a['p1']*_0x2ec3d2[_0x2c7cf0+_0x3fc581]+_0xba352a['m1']*_0x2ec3d2[_0x48c407+_0x3fc581]*this['_len'];break;}}}}}class K_{constructor(_0xf68644){this['_name']=_0xf68644['name']+'Snapshot',this['_time']=-(0x5ff*-0x2+-0x1b11+-0x28*-0xfa),this['_cache']=[],this['_results']=[];for(let _0x36fbe5=-0x31a+0x7df+0x3*-0x197;_0x36fbe5<_0xf68644['_inputs']['length'];++_0x36fbe5)this['_cache'][_0x36fbe5]=new wP();const _0x38c055=_0xf68644['_curves'],_0x398fb8=_0xf68644['_outputs'];for(let _0x3ecb4e=-0x12a*-0x11+0xb*-0x272+0x71c;_0x3ecb4e<_0x38c055['length'];++_0x3ecb4e){const _0x204e2e=_0x38c055[_0x3ecb4e],_0x1af221=_0x398fb8[_0x204e2e['_output']],_0x448af2=[];for(let _0x24a38d=-0x2*-0x7d3+0xb9e*0x1+-0x1b44;_0x24a38d<_0x1af221['_component'+'s'];++_0x24a38d)_0x448af2[_0x24a38d]=0x23f8+0x960+-0x2d58;this['_results'][_0x3ecb4e]=_0x448af2;}}}const Eo=class Eo{constructor(_0x488ea3,_0x2b2f3e,_0x267e7d,_0xd3ddd2,_0x22e155,_0x3d40a0){this['_name']=_0x488ea3['name'],this['_track']=_0x488ea3,this['_snapshot']=new K_(_0x488ea3),this['_playing']=_0xd3ddd2,this['_time']=_0x2b2f3e,this['_speed']=_0x267e7d,this['_loop']=_0x22e155,this['_blendWeig'+'ht']=0x3*0x991+0x2*-0x11+-0x1c90,this['_blendOrde'+'r']=0x1*-0x14b1+0xef1+-0xb8*-0x8,this['_eventHand'+'ler']=_0x3d40a0,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x74c010){this['_name']=_0x74c010;}get['name'](){return this['_name'];}set['track'](_0x3f9ee8){this['_track']=_0x3f9ee8,this['_snapshot']=new K_(_0x3f9ee8);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x35ac09){this['_time']=_0x35ac09,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x490c3b){const _0x3ec7f5=Math['sign'](_0x490c3b)!==Math['sign'](this['_speed']);this['_speed']=_0x490c3b,_0x3ec7f5&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x3a96bb){this['_loop']=_0x3a96bb;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x4dac47){this['_blendWeig'+'ht']=_0x4dac47;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x2c75e6){this['_blendOrde'+'r']=_0x2c75e6;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x2411d0){this['_eventCurs'+'or']=_0x2411d0;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?0x9b*0x16+-0x2*0x112+0x9f*-0x12:this['_track']['events']['length']-(0x15d8+0xa9*0x1a+-0x5*0x7cd);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<-0x1acf+-0x21f9+0x3cc8;}['nextEventA'+'headOfTime'](_0x21ae4b){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x21ae4b:this['nextEvent']['time']>=_0x21ae4b:!(-0x1*-0xa39+0x139+0xb71*-0x1);}['nextEventB'+'ehindTime'](_0x444f90){return this['nextEvent']?_0x444f90===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x444f90:this['nextEvent']['time']<=_0x444f90:this['isReverse']?this['nextEvent']['time']>_0x444f90:this['nextEvent']['time']<_0x444f90:!(-0xc8f*0x3+0x2595+0x19*0x1);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(0x70b+0x46+0x3a8*-0x2):0x14d1*-0x1+-0x621+0x2*0xd79;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(-0x2018+-0x1697+0x36b0):-0x1b76+-0x4cf+0x2046,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=-0x2326+-0x1a68+-0x2*-0x1ec7:this['_eventCurs'+'or']<-0x5d*-0x2d+-0x10d2+0x79&&(this['_eventCurs'+'or']=this['track']['events']['length']-(0x2143+-0x6a*0x3f+-0x72c));}['clipFrameT'+'ime'](_0x4abc58){const _0x7d6069=Eo['eventFrame'];_0x7d6069['start']=-0x659+-0xdc*0x18+0x1af9,_0x7d6069['end']=_0x4abc58,_0x7d6069['residual']=0x12ae+0x1*0x21cf+0x9*-0x5d5,this['isReverse']?_0x4abc58<-0x1bef*0x1+0x19d+0x1a52&&(_0x7d6069['start']=this['track']['duration'],_0x7d6069['end']=-0x5*0x523+0x16e7+-0x164*-0x2,_0x7d6069['residual']=_0x4abc58+this['track']['duration']):_0x4abc58>this['track']['duration']&&(_0x7d6069['start']=0x1ae5+-0x1*-0x1908+-0x33ed*0x1,_0x7d6069['end']=this['track']['duration'],_0x7d6069['residual']=_0x4abc58-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x4f1233,_0x4930c1){return this['nextEventA'+'headOfTime'](_0x4f1233)&&this['nextEventB'+'ehindTime'](_0x4930c1)?(this['fireNextEv'+'ent'](),!(0x1*0xd23+-0xd1*-0x25+-0x2b58)):!(-0xfe9+-0x36*-0xa3+-0x1*0x1278);}['activeEven'+'tsForFrame'](_0x2c0e51,_0x4d629c){const _0x31ef2b=Eo['eventFrame'];this['clipFrameT'+'ime'](_0x4d629c);const _0x1abac4=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x2c0e51,_0x31ef2b['end'])&&_0x1abac4!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x31ef2b['residual'])>0x1*-0x3a1+0x12b2*0x2+-0x21c3&&this['activeEven'+'tsForFrame'](_0x31ef2b['start'],_0x31ef2b['residual']);}['progressFo'+'rTime'](_0x521473){return _0x521473*this['_speed']/this['_track']['duration'];}['_update'](_0x54b3ad){if(this['_playing']){let _0x1d7ae9=this['_time'];const _0x4d6630=this['_track']['duration'],_0x4f3226=this['_speed'],_0x6fb286=this['_loop'];this['_track']['events']['length']>0xc18+-0x2401+0x1*0x17e9&&_0x4d6630>-0x35*-0x61+0xfde+-0x23f3&&this['activeEven'+'tsForFrame'](_0x1d7ae9,_0x1d7ae9+_0x4f3226*_0x54b3ad),_0x1d7ae9+=_0x4f3226*_0x54b3ad,_0x4f3226>=0xd25+0x2*-0x3b6+-0x5b9?_0x1d7ae9>_0x4d6630&&(_0x6fb286?_0x1d7ae9=_0x1d7ae9%_0x4d6630||-0x1ce7+-0x980+0x1*0x2667:(_0x1d7ae9=this['_track']['duration'],this['pause']())):_0x1d7ae9<-0x13*0x61+0x16b9+-0xf86*0x1&&(_0x6fb286?_0x1d7ae9=_0x4d6630+(_0x1d7ae9%_0x4d6630||0x22e6+0x1*0x83+0x103*-0x23):(_0x1d7ae9=0x1d4f+-0x7*-0x11+-0x1dc6,this['pause']())),this['_time']=_0x1d7ae9;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(-0x18f4+0x1db2+0x25f*-0x2),this['_time']=-0x1d13+-0x1bb8+0x38cb;}['stop'](){this['_playing']=!(-0x5ff*0x1+-0x3*-0xba7+-0x1cf5),this['_time']=-0x107d+0x19a6+-0x5*0x1d5;}['pause'](){this['_playing']=!(0x1*-0x5f3+-0xd10+0x1304);}['resume'](){this['_playing']=!(0x1*0x237c+-0xbaf*0x1+-0x17cd);}['reset'](){this['_time']=0x37e+0x1*0x1376+-0x1a*0xe2;}};c(Eo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Xh=Eo;const q0='NONE',TP='PREV_STATE',AP='NEXT_STATE',EP='PREV_STATE'+'_NEXT_STAT'+'E',CP='NEXT_STATE'+'_PREV_STAT'+'E',MP='GREATER_TH'+'AN',PP='LESS_THAN',RP='GREATER_TH'+'AN_EQUAL_T'+'O',IP='LESS_THAN_'+'EQUAL_TO',DP='EQUAL_TO',LP='NOT_EQUAL_'+'TO',Z_='INTEGER',Q_='FLOAT',J_='BOOLEAN',ph='TRIGGER',FP='1D',OP='2D_DIRECTI'+'ONAL',kP='2D_CARTESI'+'AN',BP='DIRECT',oo='START',Ku='END',Or='ANY',jh=[oo,Ku,Or],X0='OVERWRITE',NP='ADDITIVE';class Tt{static['dot'](_0x16dfaf,_0xcd2f47){const _0xf3545e=_0x16dfaf['length'];let _0x232aec=-0x7*0xd+-0x1bd+0x2*0x10c;for(let _0x3524c3=0xac4+-0x2*0xdee+0x1118;_0x3524c3<_0xf3545e;++_0x3524c3)_0x232aec+=_0x16dfaf[_0x3524c3]*_0xcd2f47[_0x3524c3];return _0x232aec;}static['normalize'](_0x1fea6d){let _0x11d97e=Tt['dot'](_0x1fea6d,_0x1fea6d);if(_0x11d97e>-0x425+-0x719+-0x1*-0xb3e){_0x11d97e=(0x1f9b+-0x66e*0x1+0x3*-0x864)/Math['sqrt'](_0x11d97e);const _0x136dfa=_0x1fea6d['length'];for(let _0x35182e=-0x122b+0x1d0b+-0xae0;_0x35182e<_0x136dfa;++_0x35182e)_0x1fea6d[_0x35182e]*=_0x11d97e;}}static['set'](_0x2c5308,_0x48ed78,_0x2ab1ae){const _0x3e2a5c=_0x2c5308['length'];if(_0x2ab1ae==='quaternion'){let _0x4b2926=Tt['dot'](_0x48ed78,_0x48ed78);_0x4b2926>0x1*0x1df9+-0x2*-0x97+-0x113*0x1d&&(_0x4b2926=(0x1a9+-0x1c22+0x2*0xd3d)/Math['sqrt'](_0x4b2926));for(let _0x5cd61f=0x15*0xd9+0x1*-0x3a9+-0xe24;_0x5cd61f<_0x3e2a5c;++_0x5cd61f)_0x2c5308[_0x5cd61f]=_0x48ed78[_0x5cd61f]*_0x4b2926;}else{for(let _0x2b35c5=0xbc9+0x72e*0x2+-0x1a25;_0x2b35c5<_0x3e2a5c;++_0x2b35c5)_0x2c5308[_0x2b35c5]=_0x48ed78[_0x2b35c5];}}static['blendVec'](_0x2f3d7c,_0x42a839,_0x42dd73,_0x2a431f){const _0x5c7e0e=_0x2a431f?0x215a+-0xc5*-0x5+-0x2532:0x1117+0x1ff*0xe+-0x2d08-_0x42dd73,_0x1ffc23=_0x2f3d7c['length'];for(let _0x1f91bf=-0x9*0x219+-0x1*0x18ee+0x5*0x8c3;_0x1f91bf<_0x1ffc23;++_0x1f91bf)_0x2f3d7c[_0x1f91bf]=_0x2f3d7c[_0x1f91bf]*_0x5c7e0e+_0x42a839[_0x1f91bf]*_0x42dd73;}static['blendQuat'](_0x21578a,_0x139a06,_0x3ee413,_0x2f430d){const _0x504b4d=_0x21578a['length'],_0x2d4d2f=_0x2f430d?-0x2*-0x2fb+0x1a2d+-0x392*0x9:0x5*0x2d7+-0x1c8*-0x11+0x2c7a*-0x1-_0x3ee413;Tt['dot'](_0x21578a,_0x139a06)<-0x1e85+0x1e44+0x41&&(_0x3ee413=-_0x3ee413);for(let _0x19a8f1=0x1*-0x2429+0x872+0x1bb7;_0x19a8f1<_0x504b4d;++_0x19a8f1)_0x21578a[_0x19a8f1]=_0x21578a[_0x19a8f1]*_0x2d4d2f+_0x139a06[_0x19a8f1]*_0x3ee413;_0x2f430d||Tt['normalize'](_0x21578a);}static['blend'](_0x12fe86,_0x140b5e,_0xff1158,_0x40f1b3,_0x2afe12){_0x40f1b3==='quaternion'?Tt['blendQuat'](_0x12fe86,_0x140b5e,_0xff1158,_0x2afe12):Tt['blendVec'](_0x12fe86,_0x140b5e,_0xff1158,_0x2afe12);}static['stableSort'](_0x4a4da0,_0x59e2a5){const _0x4c9a40=_0x4a4da0['length'];for(let _0x5e9455=0x1771+-0x2*-0xbc+-0x18e9;_0x5e9455<_0x4c9a40-(0x454+-0xe*0x57+0x6f);++_0x5e9455)for(let _0x3106df=_0x5e9455+(-0x417+-0x1020+0x4*0x50e);_0x3106df<_0x4c9a40;++_0x3106df)if(_0x59e2a5(_0x4a4da0[_0x3106df],_0x4a4da0[_0x5e9455])){const _0x754c94=_0x4a4da0[_0x5e9455];_0x4a4da0[_0x5e9455]=_0x4a4da0[_0x3106df],_0x4a4da0[_0x3106df]=_0x754c94;}}}const Ue=class Ue{constructor(_0x2c76ad,_0x1902da){this['_component']=_0x2c76ad,this['mask']=new Int8Array(_0x2c76ad['layers']['length']),this['weights']=new Float32Array(_0x2c76ad['layers']['length']),this['totalWeigh'+'t']=-0x11cd+-0x444+0x1611,this['counter']=-0x19d8+0x4f6+0x14e2,this['layerCount'+'er']=0x67c+0x47*0x1c+0x26*-0x60,this['valueType']=_0x1902da,this['dirty']=!(-0x3f5+0x41*-0x35+0x116a),this['value']=_0x1902da===Ue['TYPE_QUAT']?[-0x1786+-0x1cf*-0x1+0x15b7,-0x4*-0x8d4+0x192d+-0x3c7d,-0x559+0x26e2+-0x2189*0x1,0x4c2+0x1*0xb61+-0x1022]:[-0x1*0x19fd+0xf92+-0x379*-0x3,-0x348+-0x22*-0xe5+-0x1b22,-0x1e95+-0x600+0x2495],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x3e1d76){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===0x2184*-0x1+-0x86c+-0x7a*-0x58||!this['mask'][_0x3e1d76]?0x25c9+-0x3ad*-0x7+-0x3f84:this['_normalize'+'Weights']?this['weights'][_0x3e1d76]/this['totalWeigh'+'t']:N['clamp'](this['weights'][_0x3e1d76],-0x65*0x2b+0x1a0c+-0x915,0x98*0x36+0x14*-0x11a+-0xa07);}['_layerBlen'+'dType'](_0x348a63){return this['_component']['layers'][_0x348a63]['blendType'];}['setMask'](_0x58304e,_0x2bb6f4){this['mask'][_0x58304e]=_0x2bb6f4,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x58304e]['blendType']===X0&&(this['mask']=this['mask']['fill'](-0x74b*0x5+0x657*0x3+0x1172,0x218+0xa46*0x2+-0x16a4,_0x58304e)),this['dirty']=!(0x82e+0x38+-0xa*0xd7));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=-0x36*-0xb2+0xfeb+-0x1*0x3577;for(let _0x2322e0=-0xabc+0x135f+0x8a3*-0x1;_0x2322e0<this['weights']['length'];_0x2322e0++)this['weights'][_0x2322e0]=this['_component']['layers'][_0x2322e0]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x2322e0]*this['weights'][_0x2322e0];this['dirty']=!(0x7*-0xef+-0x4d*0x2a+0x132c);}['updateValu'+'e'](_0x2f014d,_0xb654cc){if(this['counter']===0x1e2f*0x1+0x1110+-0x2f3f&&(Tt['set'](this['value'],Ue['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Tt['blend'](this['value'],this['baseValue'],0xb54+0xb*-0x283+0x104e,this['valueType'])),!(!this['mask'][_0x2f014d]||this['getWeight'](_0x2f014d)===0x12cd+0xb9*-0x1b+0xb6)){if(this['_layerBlen'+'dType'](_0x2f014d)===NP&&!this['_normalize'+'Weights']){if(this['valueType']===Ue['TYPE_QUAT']){const _0x3d37d8=Ue['q1']['set'](this['value'][-0x4f*0x3f+-0xd*0x142+0x23cb],this['value'][0x2*-0x841+-0xc09*-0x2+-0x78f],this['value'][-0x7a9+0xe*-0x2c8+0x2e9b*0x1],this['value'][0x3*-0xbc3+0x190b+0xa41]),_0x2ed13b=Ue['q2']['set'](this['baseValue'][0x2322+-0x6*0x28e+-0x27*0x82],this['baseValue'][-0x34f+-0x1*0x464+0x7b4],this['baseValue'][0x10e1+-0x1*0x1185+-0xa6*-0x1],this['baseValue'][0x85*-0x4a+0x1dfb+0x87a]),_0xe3810c=Ue['q3']['set'](_0xb654cc[0x1853*0x1+-0x241d+0xbca],_0xb654cc[-0xd38+-0x80*0x3b+-0x2ab9*-0x1],_0xb654cc[-0x1390+0x1049*0x1+0x349],_0xb654cc[0x21a7+-0x1*-0x7b1+-0x2955]),_0x18b3d0=_0x2ed13b['invert']()['mul'](_0xe3810c);_0x18b3d0['slerp'](se['IDENTITY'],_0x18b3d0,this['getWeight'](_0x2f014d)),_0x3d37d8['mul'](_0x18b3d0),Ue['quatArr'][-0x1*-0x200b+-0x201f*0x1+-0x2*-0xa]=_0x3d37d8['x'],Ue['quatArr'][0x18a+-0x2248+-0x53*-0x65]=_0x3d37d8['y'],Ue['quatArr'][0x65*-0x57+0x1cf3*0x1+0x562]=_0x3d37d8['z'],Ue['quatArr'][-0x3*-0x452+-0x1e2d*-0x1+0x1*-0x2b20]=_0x3d37d8['w'],Tt['set'](this['value'],Ue['quatArr'],this['valueType']);}else Ue['vecArr'][0x254*-0x1+-0x34*0xa7+0x50*0x74]=_0xb654cc[0x1*0x1f2f+-0xf4e+0x1*-0xfe1]-this['baseValue'][-0x415*-0x5+0xe*0x226+-0x327d],Ue['vecArr'][0x11*0x195+-0x707+-0x3f9*0x5]=_0xb654cc[-0x4e1+-0xdf*0x13+0x156f]-this['baseValue'][-0x57*-0x3e+0x117f+-0x2690],Ue['vecArr'][0x1776+0x1*0x1bb5+-0x7*0x74f]=_0xb654cc[0x2*-0x43a+0xc1*0x1+0x1*0x7b5]-this['baseValue'][0x24d2+0x656+-0x6*0x731],Tt['blend'](this['value'],Ue['vecArr'],this['getWeight'](_0x2f014d),this['valueType'],!(-0xa*-0x91+-0x2689+0x231*0xf));}else Tt['blend'](this['value'],_0xb654cc,this['getWeight'](_0x2f014d),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};c(Ue,'TYPE_QUAT','quaternion'),c(Ue,'TYPE_VEC3','vector3'),c(Ue,'q1',new se()),c(Ue,'q2',new se()),c(Ue,'q3',new se()),c(Ue,'quatArr',[-0x25a5*0x1+0x1*-0x10c5+0x366a,0x1*-0x18e5+-0x7*-0x5d+0x165a,-0x4c1+-0xe0c+-0x1*-0x12cd,-0x1a8a+-0x1517*-0x1+0x574]),c(Ue,'vecArr',[-0x105+0x2122+0x201d*-0x1,0x1052+0x1*-0x481+-0xbd1,-0x1a90+-0xb0a+0x2*0x12cd]),c(Ue,'IDENTITY_Q'+'UAT_ARR',[0x21a*0x5+-0x1a89+0x1007,0x1*0x24a6+0x2215+0x1*-0x46bb,-0x313*-0x3+-0x5*0x34e+0x3*0x26f,-0x11*0x14+-0x6f1*0x1+-0x6*-0x161]);let bo=Ue;class j0{constructor(_0x3152dc){this['_binder']=_0x3152dc,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x51e64f){const _0x3cc60c=this['_targets'],_0x9f73ab=this['_binder'],_0x19472d=_0x51e64f['track']['curves'],_0x886a1a=_0x51e64f['snapshot'],_0x9720ee=[],_0x5c33e6=[];for(let _0x6bcfe1=0x5*0x799+-0x1ad7+-0x1*0xb26;_0x6bcfe1<_0x19472d['length'];++_0x6bcfe1){const _0x3d6078=_0x19472d[_0x6bcfe1]['paths'];for(let _0x3007c3=-0x1b*0xf+-0x2c*-0xe3+-0x256f;_0x3007c3<_0x3d6078['length'];++_0x3007c3){const _0x4887c5=_0x3d6078[_0x3007c3],_0x16a8a9=_0x9f73ab['resolve'](_0x4887c5);let _0x1d87be=_0x3cc60c[_0x16a8a9&&_0x16a8a9['targetPath']||null];if(!_0x1d87be&&_0x16a8a9){_0x1d87be={'target':_0x16a8a9,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x34df3c=0x2*-0xf16+-0x1c3f+0x5*0xbaf;_0x34df3c<_0x1d87be['target']['components'];++_0x34df3c)_0x1d87be['value']['push'](0x5*-0x17b+-0x6a1*-0x5+0x293*-0xa);if(_0x3cc60c[_0x16a8a9['targetPath']]=_0x1d87be,_0x9f73ab['animCompon'+'ent']){if(!_0x9f73ab['animCompon'+'ent']['targets'][_0x16a8a9['targetPath']]){let _0x415ef3;_0x16a8a9['targetPath']['substring'](_0x16a8a9['targetPath']['length']-(0x6fa+-0x15da+0xeed))==='localRotat'+'ion'?_0x415ef3=bo['TYPE_QUAT']:_0x415ef3=bo['TYPE_VEC3'],_0x9f73ab['animCompon'+'ent']['targets'][_0x16a8a9['targetPath']]=new bo(_0x9f73ab['animCompon'+'ent'],_0x415ef3);}_0x9f73ab['animCompon'+'ent']['targets'][_0x16a8a9['targetPath']]['layerCount'+'er']++,_0x9f73ab['animCompon'+'ent']['targets'][_0x16a8a9['targetPath']]['setMask'](_0x9f73ab['layerIndex'],0x1125+-0xa9*-0x21+-0x26ed);}}_0x1d87be&&(_0x1d87be['curves']++,_0x9720ee['push'](_0x886a1a['_results'][_0x6bcfe1]),_0x5c33e6['push'](_0x1d87be));}}this['_clips']['push'](_0x51e64f),this['_inputs']['push'](_0x9720ee),this['_outputs']['push'](_0x5c33e6);}['removeClip'](_0x2a9ebc){const _0x2d6c4e=this['_targets'],_0x1e6787=this['_binder'],_0x49dff3=this['_clips'],_0x482686=_0x49dff3[_0x2a9ebc]['track']['curves'];for(let _0xf07350=0x263*-0x9+0x24e0+-0xf65;_0xf07350<_0x482686['length'];++_0xf07350){const _0x18c1d3=_0x482686[_0xf07350]['paths'];for(let _0x371d55=0x2b*0x44+-0xe*0x4f+-0x71a;_0x371d55<_0x18c1d3['length'];++_0x371d55){const _0x19835b=_0x18c1d3[_0x371d55],_0x186dfd=this['_binder']['resolve'](_0x19835b);_0x186dfd&&(_0x186dfd['curves']--,_0x186dfd['curves']===-0x337*-0x1+-0x1*-0x3e7+-0x71e&&(_0x1e6787['unresolve'](_0x19835b),delete _0x2d6c4e[_0x186dfd['targetPath']],_0x1e6787['animCompon'+'ent']&&_0x1e6787['animCompon'+'ent']['targets'][_0x186dfd['targetPath']]['layerCount'+'er']--));}}_0x49dff3['splice'](_0x2a9ebc,-0x1468+-0x148c+-0x28f5*-0x1),this['_inputs']['splice'](_0x2a9ebc,0x430+-0x1de4+0x19b5),this['_outputs']['splice'](_0x2a9ebc,-0x7c*-0x1f+0xdf*-0x25+0x4*0x44e);}['removeClip'+'s'](){for(;this['_clips']['length']>0x1166+-0x6ec+-0xa7a;)this['removeClip'](-0x26b0+-0x215d+0x480d);}['updateClip'+'Track'](_0x49fe3c,_0x55205d){this['_clips']['forEach'](_0x40ab33=>{_0x40ab33['name']['includes'](_0x49fe3c)&&(_0x40ab33['track']=_0x55205d);}),this['rebind']();}['findClip'](_0x35c0f3){const _0x4c3a42=this['_clips'];for(let _0x2fa1ed=-0x1186+-0x219*0x9+-0x2467*-0x1;_0x2fa1ed<_0x4c3a42['length'];++_0x2fa1ed){const _0x384b72=_0x4c3a42[_0x2fa1ed];if(_0x384b72['name']===_0x35c0f3)return _0x384b72;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x2626de=[...this['clips']];this['removeClip'+'s'](),_0x2626de['forEach'](_0x5a4334=>{this['addClip'](_0x5a4334);});}['assignMask'](_0x1a20ae){return this['_binder']['assignMask'](_0x1a20ae);}['update'](_0x4f1bf6,_0x47a638=!(-0x2151+-0x70f+0x4c*0x88)){const _0x5c5190=this['_clips'],_0x452682=_0x5c5190['map']((_0x4bf6dd,_0x37376e)=>_0x37376e);Tt['stableSort'](_0x452682,(_0x56ff88,_0x30219d)=>_0x5c5190[_0x56ff88]['blendOrder']<_0x5c5190[_0x30219d]['blendOrder']);for(let _0x34817f=0x1b*-0x13d+-0x337*-0x5+-0x1*-0x115c;_0x34817f<_0x452682['length'];++_0x34817f){const _0x4bec0e=_0x452682[_0x34817f],_0x11e7b4=_0x5c5190[_0x4bec0e],_0x53825b=this['_inputs'][_0x4bec0e],_0x564096=this['_outputs'][_0x4bec0e],_0x2d0164=_0x11e7b4['blendWeigh'+'t'];if(_0x2d0164>-0x2672+-0x674*-0x2+0x198a&&_0x11e7b4['_update'](_0x4f1bf6),!_0x47a638)break;let _0x25e2f8,_0x36e75e,_0x3950c5;if(_0x2d0164>=-0x6d*0x3a+0x1*0x22fc+0x1*-0xa49){for(let _0x4233f7=0x1c7f+-0x1678+-0x607;_0x4233f7<_0x53825b['length'];++_0x4233f7)_0x25e2f8=_0x53825b[_0x4233f7],_0x36e75e=_0x564096[_0x4233f7],_0x3950c5=_0x36e75e['value'],Tt['set'](_0x3950c5,_0x25e2f8,_0x36e75e['target']['type']),_0x36e75e['blendCount'+'er']++;}else{if(_0x2d0164>0x940+-0x1b3e*0x1+-0x1*-0x11fe){for(let _0xf97c34=0x1*-0x1cf7+-0x95d*-0x2+0xa3d*0x1;_0xf97c34<_0x53825b['length'];++_0xf97c34)_0x25e2f8=_0x53825b[_0xf97c34],_0x36e75e=_0x564096[_0xf97c34],_0x3950c5=_0x36e75e['value'],_0x36e75e['blendCount'+'er']===-0x215e+0x253e+-0x3e0?Tt['set'](_0x3950c5,_0x25e2f8,_0x36e75e['target']['type']):Tt['blend'](_0x3950c5,_0x25e2f8,_0x2d0164,_0x36e75e['target']['type']),_0x36e75e['blendCount'+'er']++;}}}const _0x57eacc=this['_targets'],_0x51738b=this['_binder'];for(const _0x43ef26 in _0x57eacc)if(_0x57eacc['hasOwnProp'+'erty'](_0x43ef26)){const _0x34af3d=_0x57eacc[_0x43ef26];if(_0x51738b['animCompon'+'ent']&&_0x34af3d['target']['isTransfor'+'m']){const _0x4de66f=_0x51738b['animCompon'+'ent']['targets'][_0x43ef26];_0x4de66f['counter']===_0x4de66f['layerCount'+'er']&&(_0x4de66f['counter']=-0xbca*0x2+0x17b*-0x5+-0x7*-0x46d),_0x4de66f['path']||(_0x4de66f['path']=_0x43ef26,_0x4de66f['baseValue']=_0x34af3d['target']['get'](),_0x4de66f['setter']=_0x34af3d['target']['set']),_0x4de66f['updateValu'+'e'](_0x51738b['layerIndex'],_0x34af3d['value']),_0x4de66f['counter']++;}else _0x34af3d['target']['set'](_0x34af3d['value']);_0x34af3d['blendCount'+'er']=-0x1d30+-0x1*0x1825+0x3555;}this['_binder']['update'](_0x4f1bf6);}}class Y0{constructor(_0x15fbb3){this['_events']=[..._0x15fbb3],this['_events']['sort']((_0x1d242b,_0x4b03cc)=>_0x1d242b['time']-_0x4b03cc['time']);}get['events'](){return this['_events'];}}const lc=class lc{constructor(_0x36c3b4,_0x4be4af,_0x25c9fe,_0x5f1918,_0x49a7ff,_0x529651=new Y0([])){this['_name']=_0x36c3b4,this['_duration']=_0x4be4af,this['_inputs']=_0x25c9fe,this['_outputs']=_0x5f1918,this['_curves']=_0x49a7ff,this['_animEvent'+'s']=_0x529651;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x6a8842){this['_animEvent'+'s']=_0x6a8842;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x3c30ac,_0x6066df){_0x6066df['_time']=_0x3c30ac;const _0x544e87=this['_inputs'],_0x2c5d84=this['_outputs'],_0x59e608=this['_curves'],_0x14bd0f=_0x6066df['_cache'],_0x4d1276=_0x6066df['_results'];for(let _0x4dfa38=-0x831+-0x1a45+0xb*0x322;_0x4dfa38<_0x544e87['length'];++_0x4dfa38)_0x14bd0f[_0x4dfa38]['update'](_0x3c30ac,_0x544e87[_0x4dfa38]['_data']);for(let _0x41f6b8=0x4a1+-0x1*-0x34d+-0x7ee;_0x41f6b8<_0x59e608['length'];++_0x41f6b8){const _0x9eb81d=_0x59e608[_0x41f6b8],_0x26451d=_0x2c5d84[_0x9eb81d['_output']],_0x4d79f4=_0x4d1276[_0x41f6b8];_0x14bd0f[_0x9eb81d['_input']]['eval'](_0x4d79f4,_0x9eb81d['_interpola'+'tion'],_0x26451d);}}};c(lc,'EMPTY',Object['freeze'](new lc('empty',Number['MAX_VALUE'],[],[],[])));let Ri=lc;class qr{static['joinPath'](_0x6399f7,_0xd93478){_0xd93478=_0xd93478||'.';const _0x9efa25=function(_0x90c4a1){return _0x90c4a1['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0xd93478,'g'),'\x5c'+_0xd93478);};return _0x6399f7['map'](_0x9efa25)['join'](_0xd93478);}static['splitPath'](_0x55a382,_0x3879ff){_0x3879ff=_0x3879ff||'.';const _0x88b895=[];let _0x2dbb56='',_0x1f1269=-0xed3+0x7*0x39b+-0xa6a;for(;_0x1f1269<_0x55a382['length'];){let _0x4a0d55=_0x55a382[_0x1f1269++];_0x4a0d55==='\x5c'&&_0x1f1269<_0x55a382['length']?(_0x4a0d55=_0x55a382[_0x1f1269++],_0x4a0d55==='\x5c'||_0x4a0d55===_0x3879ff?_0x2dbb56+=_0x4a0d55:_0x2dbb56+='\x5c'+_0x4a0d55):_0x4a0d55===_0x3879ff?(_0x88b895['push'](_0x2dbb56),_0x2dbb56=''):_0x2dbb56+=_0x4a0d55;}return _0x2dbb56['length']>0x9e7+-0x2d8+-0x70f&&_0x88b895['push'](_0x2dbb56),_0x88b895;}static['encode'](_0x27bc34,_0x15695f,_0x3a167e){return(Array['isArray'](_0x27bc34)?_0x27bc34['join']('/'):_0x27bc34)+'/'+_0x15695f+'/'+(Array['isArray'](_0x3a167e)?_0x3a167e['join']('/'):_0x3a167e);}['resolve'](_0x42d3d0){return null;}['unresolve'](_0x384a37){}['update'](_0x2af3a5){}}class Zu{constructor(_0x1e4dea,_0x38a4ef,_0x386a04,_0x4f382c){_0x1e4dea['set']?(this['_set']=_0x1e4dea['set'],this['_get']=_0x1e4dea['get']):this['_set']=_0x1e4dea,this['_type']=_0x38a4ef,this['_component'+'s']=_0x386a04,this['_targetPat'+'h']=_0x4f382c,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x178c+0x1*0x23fe+-0xc65))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0xad9+0x941+-0x140d*0x1))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x25d9*-0x1+-0x4c4+-0x3d*-0xb3))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Ji{constructor(_0x54c255){c(this,'_isPathInM'+'ask',(_0x2d99d2,_0x21af79)=>{const _0x66c87a=this['_mask'][_0x2d99d2];if(_0x66c87a){if(_0x66c87a['children']||_0x21af79&&_0x66c87a['value']!==!(0x1*-0x1a97+-0x307*-0x5+0xb75))return!(0x2648+0x5ae*0x3+0x61*-0x92);}else return!(0x1b38+0x1a83+-0x35ba);return!(0x152*0xb+-0x7*0x275+-0x1*-0x2ae);});if(this['graph']=_0x54c255,!_0x54c255)return;this['_mask']=null;const _0x5a6fe7={},_0x3e532e=function(_0x3cc506){_0x5a6fe7[_0x3cc506['name']]=_0x3cc506;for(let _0x1fb9e9=-0x124*0x16+-0x2316+0x2*0x1e17;_0x1fb9e9<_0x3cc506['children']['length'];++_0x1fb9e9)_0x3e532e(_0x3cc506['children'][_0x1fb9e9]);};_0x3e532e(_0x54c255),this['nodes']=_0x5a6fe7,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x46b26a=function(_0x4da15f){let _0x1adccc=_0x4da15f;for(;_0x1adccc&&!(_0x1adccc instanceof We);)_0x1adccc=_0x1adccc['parent'];let _0x3a7041;return _0x1adccc&&(_0x1adccc['render']?_0x3a7041=_0x1adccc['render']['meshInstan'+'ces']:_0x1adccc['model']&&(_0x3a7041=_0x1adccc['model']['meshInstan'+'ces'])),_0x3a7041;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x464eb9){const _0x4e6eaa=_0x464eb9['localPosit'+'ion'],_0xd7b717=function(_0x4e58c6){_0x4e6eaa['set'](..._0x4e58c6);};return Ji['createAnim'+'Target'](_0xd7b717,'vector',-0x38d+-0x1e9*0x1+0x579,_0x464eb9,'localPosit'+'ion');},'localRotation':function(_0xeee254){const _0x2e57e8=_0xeee254['localRotat'+'ion'],_0x12bcbf=function(_0x41bb02){_0x2e57e8['set'](..._0x41bb02);};return Ji['createAnim'+'Target'](_0x12bcbf,'quaternion',0x2*0x153+0x21e4+0x55*-0x6e,_0xeee254,'localRotat'+'ion');},'localScale':function(_0x504851){const _0x2a2831=_0x504851['localScale'],_0x82e2b2=function(_0x59b36d){_0x2a2831['set'](..._0x59b36d);};return Ji['createAnim'+'Target'](_0x82e2b2,'vector',0x1da9*-0x1+0x1f2d+-0x181,_0x504851,'localScale');},'weight':function(_0x342721,_0x2e657f){_0x2e657f['indexOf']('name.')===-0x15b+0x91c+-0x7c1*0x1?_0x2e657f=_0x2e657f['replace']('name.',''):_0x2e657f=Number(_0x2e657f);const _0x2073f5=_0x46b26a(_0x342721);let _0x1afaed;if(_0x2073f5){for(let _0x316b12=0xd27+0x166a+-0x2391;_0x316b12<_0x2073f5['length'];++_0x316b12)if(_0x2073f5[_0x316b12]['node']['name']===_0x342721['name']&&_0x2073f5[_0x316b12]['morphInsta'+'nce']){const _0x49085d=_0x2073f5[_0x316b12]['morphInsta'+'nce'],_0x7a64f0=_0x56573f=>{_0x49085d['setWeight'](_0x2e657f,_0x56573f[-0x1b39+-0x935+0x1*0x246e]);};_0x1afaed||(_0x1afaed=[]),_0x1afaed['push'](_0x7a64f0);}}if(_0x1afaed){const _0x4f6750=_0x46f493=>{for(let _0x350f47=0x62*0x2e+-0xa7c+-0x30*0x26;_0x350f47<_0x1afaed['length'];++_0x350f47)_0x1afaed[_0x350f47](_0x46f493);};return Ji['createAnim'+'Target'](_0x4f6750,'number',0xa98*-0x1+-0x1*-0x11f1+-0x758,_0x342721,'weight.'+_0x2e657f);}return null;},'materialTexture':(_0x419c8f,_0x5086e0)=>{const _0x1dccdd=_0x46b26a(_0x419c8f);if(_0x1dccdd){let _0x106d3a;for(let _0x37a5ff=0x1*-0xf10+0x1acf*0x1+0xbbf*-0x1;_0x37a5ff<_0x1dccdd['length'];++_0x37a5ff)if(_0x1dccdd[_0x37a5ff]['node']['name']===_0x419c8f['name']){_0x106d3a=_0x1dccdd[_0x37a5ff];break;}if(_0x106d3a){const _0x342021=_0x4147fd=>{const _0x56cb54=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x4147fd[-0x809+-0x11b5*0x1+0x293*0xa]);_0x56cb54&&_0x56cb54['resource']&&_0x56cb54['type']==='texture'&&(_0x106d3a['material'][_0x5086e0]=_0x56cb54['resource'],_0x106d3a['material']['update']());};return Ji['createAnim'+'Target'](_0x342021,'vector',-0x21c0+-0x4*-0x780+0x3c1,_0x419c8f,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x22fa47){if(!this['_mask'])return!(-0x279+-0x1052+-0x1*-0x12cb);const _0x32919e=[_0x22fa47['entityPath'][-0x196b+-0x1*0xf0d+0x2878],this['graph']['name']];for(let _0x126688=-0x76d+-0x1238+0x19a5;_0x126688<_0x32919e['length'];++_0x126688){let _0x276fa9=_0x32919e[_0x126688];if(this['_isPathInM'+'ask'](_0x276fa9,_0x22fa47['entityPath']['length']===-0x1f9a+-0x1d6+-0x4c7*-0x7))return!(0x7*0x3a+-0x5*-0x89+0x1*-0x443);for(let _0xdef0be=-0xc4a+-0x1*0xd0f+0x195a;_0xdef0be<_0x22fa47['entityPath']['length'];_0xdef0be++)if(_0x276fa9+='/'+_0x22fa47['entityPath'][_0xdef0be],this['_isPathInM'+'ask'](_0x276fa9,_0xdef0be===_0x22fa47['entityPath']['length']-(-0x1c6e+-0x16ea+-0x37*-0xef)))return!(-0x209*-0x7+0x1a7b+-0x28ba);}return!(-0x12a*0x21+0xc24*-0x2+0x3eb3);}['findNode'](_0x5e686d){if(!this['_isPathAct'+'ive'](_0x5e686d))return null;let _0x33fa9a;if(this['graph']&&(_0x33fa9a=this['graph']['findByPath'](_0x5e686d['entityPath']),_0x33fa9a||(_0x33fa9a=this['graph']['findByPath'](_0x5e686d['entityPath']['slice'](0x779*0x4+0x1ded+-0x58*0xae)))),!_0x33fa9a){_0x33fa9a=this['nodes'][_0x5e686d['entityPath'][_0x5e686d['entityPath']['length']-(-0x11b*0x7+0x212+0x5ac*0x1)]||''];const _0xc93bd3=qr['encode'](_0x5e686d['entityPath'][_0x5e686d['entityPath']['length']-(-0x1a*-0xf+-0x128e+0x1109)]||'','graph',_0x5e686d['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0xc93bd3]===0x5*-0x1ed+0x2*-0x822+0x19e6&&v['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0xc93bd3+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0xc93bd3])?this['visitedFal'+'lbackGraph'+'Paths'][_0xc93bd3]++:this['visitedFal'+'lbackGraph'+'Paths'][_0xc93bd3]=0x1642+0x42*-0x88+0xcce;}return _0x33fa9a;}static['createAnim'+'Target'](_0x1a0620,_0xae4f4d,_0xc02bbc,_0x134bfb,_0x52905f,_0x3f8e36){const _0x4b1da6=qr['encode'](_0x134bfb['path'],_0x3f8e36||'entity',_0x52905f);return new Zu(_0x1a0620,_0xae4f4d,_0xc02bbc,_0x4b1da6);}['resolve'](_0x480c24){const _0x415acf=qr['encode'](_0x480c24['entityPath'],_0x480c24['component'],_0x480c24['propertyPa'+'th']);let _0x429a58=this['targetCach'+'e'][_0x415acf];if(_0x429a58)return _0x429a58;const _0x551506=this['findNode'](_0x480c24);if(!_0x551506)return null;const _0x1c5aa2=this['handlers'][_0x480c24['propertyPa'+'th']];return!_0x1c5aa2||(_0x429a58=_0x1c5aa2(_0x551506),!_0x429a58)?null:(this['targetCach'+'e'][_0x415acf]=_0x429a58,this['nodeCounts'][_0x551506['path']]?this['nodeCounts'][_0x551506['path']]++:(this['activeNode'+'s']['push'](_0x551506),this['nodeCounts'][_0x551506['path']]=0x2b6*-0x5+0x1*-0xa39+0x17c8),_0x429a58);}['unresolve'](_0x3e7296){if(_0x3e7296['component']!=='graph')return;const _0x24b071=this['nodes'][_0x3e7296['entityPath'][_0x3e7296['entityPath']['length']-(0x67*0x56+-0x2*0xb15+-0xc6f)]||''];if(this['nodeCounts'][_0x24b071['path']]--,this['nodeCounts'][_0x24b071['path']]===-0x1*0x1eeb+-0x1*-0x2275+-0x38a){const _0x5ca6c=this['activeNode'+'s'],_0x10183a=_0x5ca6c['indexOf'](_0x24b071['node']),_0x1b7e3d=_0x5ca6c['length'];_0x10183a<_0x1b7e3d-(0xc*-0xfe+0x7e8+0x401)&&(_0x5ca6c[_0x10183a]=_0x5ca6c[_0x1b7e3d-(-0x65*0x46+0x3a5+0x17fa)]),_0x5ca6c['pop']();}}['update'](_0x1857d7){const _0x1c460c=this['activeNode'+'s'];for(let _0x4abacd=-0x3ab*0x8+-0xb*-0x13+0x1c87;_0x4abacd<_0x1c460c['length'];++_0x4abacd)_0x1c460c[_0x4abacd]['_dirtifyLo'+'cal']();}['assignMask'](_0x4d0601){return _0x4d0601!==this['_mask']?(this['_mask']=_0x4d0601,!(-0x21df+-0x1*-0x24e5+-0x306)):!(0x1*0x1edf+-0x1d58+-0x186);}}class K0 extends ue{constructor(){super(...arguments),c(this,'_animation'+'s',{}),c(this,'_assets',[]),c(this,'_loop',!(0x29b*0x4+-0x1b20+-0x10b4*-0x1)),c(this,'animEvalua'+'tor',null),c(this,'model',null),c(this,'skeleton',null),c(this,'fromSkel',null),c(this,'toSkel',null),c(this,'animations'+'Index',{}),c(this,'prevAnim',null),c(this,'currAnim',null),c(this,'blend',-0x1c97+-0x1cdd+0x2*0x1cba),c(this,'blending',!(-0x1867*-0x1+0x10b7*-0x1+-0x7af)),c(this,'blendSpeed',0x8fa+0x2703+0xfff*-0x3),c(this,'activate',!(0x6b6+0xc73+-0x1329)),c(this,'speed',-0x1*-0x54a+0xe*0xaf+-0xedb);}set['animations'](_0xfd9438){this['_animation'+'s']=_0xfd9438,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x25739a){const _0xf6b47d=this['_assets'];if(_0xf6b47d&&_0xf6b47d['length']){for(let _0x14d734=0x19c5+-0xfed+0x38*-0x2d;_0x14d734<_0xf6b47d['length'];_0x14d734++)if(_0xf6b47d[_0x14d734]){const _0x18248a=this['system']['app']['assets']['get'](_0xf6b47d[_0x14d734]);if(_0x18248a){_0x18248a['off']('change',this['onAssetCha'+'nged'],this),_0x18248a['off']('remove',this['onAssetRem'+'oved'],this);const _0x209d64=this['animations'+'Index'][_0x18248a['id']];this['currAnim']===_0x209d64&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x209d64],delete this['animations'+'Index'][_0x18248a['id']];}}}this['_assets']=_0x25739a;const _0x3b0d0b=_0x25739a['map'](_0x14ba0a=>_0x14ba0a instanceof le?_0x14ba0a['id']:_0x14ba0a);this['loadAnimat'+'ionAssets'](_0x3b0d0b);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x17e45b){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x17e45b,this['skeleton']['addTime'](0x12+0x344+0x1ab*-0x2),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x419ca0=this['animEvalua'+'tor']['clips'];for(let _0x7bde54=0x47*0x30+0xe43+-0x931*0x3;_0x7bde54<_0x419ca0['length'];++_0x7bde54)_0x419ca0[_0x7bde54]['time']=_0x17e45b;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0xd8dee0=this['animEvalua'+'tor']['clips'];if(_0xd8dee0['length']>-0x786+-0x2317+0x1*0x2a9d)return _0xd8dee0[_0xd8dee0['length']-(0x1856+-0x1*0xb1d+-0xbc*0x12)]['time'];}return 0x3*0x2da+-0x4*-0x928+-0x1697*0x2;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(v['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),-0x1847+-0x1725+0x2f6c);}set['loop'](_0x25ba2c){if(this['_loop']=_0x25ba2c,this['skeleton']&&(this['skeleton']['looping']=_0x25ba2c),this['animEvalua'+'tor']){for(let _0x188884=0x6*0x463+-0x2*0xe9b+0x2e4;_0x188884<this['animEvalua'+'tor']['clips']['length'];++_0x188884)this['animEvalua'+'tor']['clips'][_0x188884]['loop']=_0x25ba2c;}}get['loop'](){return this['_loop'];}['play'](_0x9498d,_0x5b7577=-0x2548+0x1c0b+0x93d){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x9498d]){v['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x9498d+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x9498d,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x2f8c6c=this['animations'][this['prevAnim']],_0x463d10=this['animations'][this['currAnim']];if(this['blending']=_0x5b7577>0x1461+-0xe*-0x266+-0x35f5&&!!this['prevAnim'],this['blending']&&(this['blend']=0x179f+0x1630+0x9*-0x517,this['blendSpeed']=(0x1771+0x24a+-0x19ba*0x1)/_0x5b7577),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x2f8c6c,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x463d10):this['skeleton']['animation']=_0x463d10),this['animEvalua'+'tor']){const _0x415a5e=this['animEvalua'+'tor'];if(this['blending']){for(;_0x415a5e['clips']['length']>-0x5*0x2f2+0x1dbc+0xa7*-0x17;)_0x415a5e['removeClip'](0x1d*0x10+-0x1d3c+-0x36*-0x82);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x4bdfc7=new Xh(this['animations'][this['currAnim']],-0x15d1*-0x1+-0xaac+0x1*-0xb25,-0x265*-0x7+-0x1*-0x709+-0x17cb,!(-0x19a*-0x17+-0x11ec+0x975*-0x2),this['loop']);_0x4bdfc7['name']=this['currAnim'],_0x4bdfc7['blendWeigh'+'t']=this['blending']?-0x17b+0xc3a*-0x1+0xdb5:-0xf4*0x5+-0x2*-0x2be+-0x3*0x3d,_0x4bdfc7['reset'](),this['animEvalua'+'tor']['addClip'](_0x4bdfc7);}}this['playing']=!(0x1*0x25f8+0x745*-0x2+0x2*-0xbb7);}}['getAnimati'+'on'](_0x7b0d68){return this['animations'][_0x7b0d68];}['setModel'](_0x28a70a){_0x28a70a!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x28a70a,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x1376a4=this['entity']['model'];if(_0x1376a4){const _0x31c139=_0x1376a4['model'];_0x31c139&&_0x31c139!==this['model']&&this['setModel'](_0x31c139);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x47c4ac=Object['keys'](this['_animation'+'s']);_0x47c4ac['length']>-0x1402+-0x1*0x18d+0x158f&&this['play'](_0x47c4ac[0x26f5*0x1+-0x70e+-0x1fe7]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x3b93c4=this['model'],_0x3cb172=this['animations'];let _0x45945f=!(-0xa3*-0x6+0x9d*-0x2b+0x168e),_0x3474fa=!(0x35*0x26+0x2420+-0x2bfd*0x1);for(const _0x523944 in _0x3cb172)_0x3cb172['hasOwnProp'+'erty'](_0x523944)&&(_0x3cb172[_0x523944]['constructo'+'r']===Ri?_0x3474fa=!(0x149+-0x3*-0x65b+-0x145a):_0x45945f=!(0x228c+0x3a*-0x5+-0x5b*0x5e));const _0x4454c5=_0x3b93c4['getGraph']();_0x45945f?(this['fromSkel']=new Wd(_0x4454c5),this['toSkel']=new Wd(_0x4454c5),this['skeleton']=new Wd(_0x4454c5),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x4454c5)):_0x3474fa&&(this['animEvalua'+'tor']=new j0(new Ji(this['entity'])));}['loadAnimat'+'ionAssets'](_0x5b4fec){if(!_0x5b4fec||!_0x5b4fec['length'])return;const _0x2f12a4=this['system']['app']['assets'],_0x317b16=_0x1fedb3=>{if(_0x1fedb3['resources']['length']>0x62*0x59+-0x2020+0x1f1*-0x1){for(let _0xb69b57=0x837*0x3+-0x22e+-0x1677;_0xb69b57<_0x1fedb3['resources']['length'];_0xb69b57++)this['animations'][_0x1fedb3['resources'][_0xb69b57]['name']]=_0x1fedb3['resources'][_0xb69b57],this['animations'+'Index'][_0x1fedb3['id']]=_0x1fedb3['resources'][_0xb69b57]['name'];}else this['animations'][_0x1fedb3['name']]=_0x1fedb3['resource'],this['animations'+'Index'][_0x1fedb3['id']]=_0x1fedb3['name'];this['animations']=this['animations'];},_0x1f6423=_0x1bdc36=>{_0x1bdc36['off']('change',this['onAssetCha'+'nged'],this),_0x1bdc36['on']('change',this['onAssetCha'+'nged'],this),_0x1bdc36['off']('remove',this['onAssetRem'+'oved'],this),_0x1bdc36['on']('remove',this['onAssetRem'+'oved'],this),_0x1bdc36['resource']?_0x317b16(_0x1bdc36):(_0x1bdc36['once']('load',_0x317b16,this),this['enabled']&&this['entity']['enabled']&&_0x2f12a4['load'](_0x1bdc36));};for(let _0xa4070c=-0x5*0x42+0x1253+-0x26f*0x7,_0x5c9d37=_0x5b4fec['length'];_0xa4070c<_0x5c9d37;_0xa4070c++){const _0x5857ea=_0x2f12a4['get'](_0x5b4fec[_0xa4070c]);_0x5857ea?_0x1f6423(_0x5857ea):_0x2f12a4['on']('add:'+_0x5b4fec[_0xa4070c],_0x1f6423);}}['onAssetCha'+'nged'](_0x319c92,_0x228698,_0x2ad4e0,_0x2179e5){if(_0x228698==='resource'||_0x228698==='resources'){if(_0x228698==='resources'&&_0x2ad4e0&&_0x2ad4e0['length']===-0x17f6+0x952+0x1*0xea4&&(_0x2ad4e0=null),_0x2ad4e0){let _0xf3524=!(-0xc0d+-0x1d57+0x2965);if(_0x2ad4e0['length']>-0x3b8*-0x2+-0x1*-0x46c+-0x1*0xbdb){if(_0x2179e5&&_0x2179e5['length']>0x21f1+-0xd1*-0x25+-0x4025){for(let _0x15f3e8=0x21f1+-0x1210+-0xfe1;_0x15f3e8<_0x2179e5['length'];_0x15f3e8++)delete this['animations'][_0x2179e5[_0x15f3e8]['name']];}else delete this['animations'][_0x319c92['name']];_0xf3524=!(0x2f*-0x5b+-0x1f6+0xef*0x14);for(let _0x3fa461=-0x19d9+-0x97*-0x3d+0x1*-0xa22;_0x3fa461<_0x2ad4e0['length'];_0x3fa461++)this['animations'][_0x2ad4e0[_0x3fa461]['name']]=_0x2ad4e0[_0x3fa461],!_0xf3524&&this['currAnim']===_0x2ad4e0[_0x3fa461]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0xf3524=!(0x6bf+0xb2c+-0x11eb),this['play'](_0x2ad4e0[_0x3fa461]['name']));_0xf3524||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x2179e5&&_0x2179e5['length']>0xc*-0x2b3+0xddb+-0x317*-0x6){for(let _0x4b004d=0x1*-0x190+-0x1*-0x2009+-0x1e79;_0x4b004d<_0x2179e5['length'];_0x4b004d++)delete this['animations'][_0x2179e5[_0x4b004d]['name']];}this['animations'][_0x319c92['name']]=_0x2ad4e0[-0xad3+-0x170b*-0x1+-0xc38]||_0x2ad4e0,_0xf3524=!(0xcf+-0x10f9*0x2+0x2124),this['currAnim']===_0x319c92['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0xf3524=!(-0x227f+-0x1286+0x3505),this['play'](_0x319c92['name'])),_0xf3524||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x319c92['id']]=_0x319c92['name'];}else{if(_0x2179e5['length']>-0x18ce+-0x1857+-0x12*-0x2bb){for(let _0x20b119=0x6b7+-0x24d*0xe+0x197f;_0x20b119<_0x2179e5['length'];_0x20b119++)delete this['animations'][_0x2179e5[_0x20b119]['name']],this['currAnim']===_0x2179e5[_0x20b119]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x319c92['name']],this['currAnim']===_0x319c92['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x319c92['id']];}}}['onAssetRem'+'oved'](_0x73e637){if(_0x73e637['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x73e637['resources']['length']>-0x721+0xa5+-0x97*-0xb){for(let _0x16162d=0x5e+-0x515*0x7+0x2335;_0x16162d<_0x73e637['resources']['length'];_0x16162d++)delete this['animations'][_0x73e637['resources'][_0x16162d]['name']],this['currAnim']===_0x73e637['resources'][_0x16162d]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x73e637['name']],this['currAnim']===_0x73e637['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x73e637['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(-0x13*0xb1+-0x7*-0x313+-0x41*0x21),this['skeleton']&&(this['skeleton']['currentTim'+'e']=0x7b5*0x2+-0x1*-0x65d+-0x15c7,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x130b4b=0x824+0x8*0x4d5+-0x2ecc;_0x130b4b<this['animEvalua'+'tor']['clips']['length'];++_0x130b4b)this['animEvalua'+'tor']['clips'][_0x130b4b]['stop']();this['animEvalua'+'tor']['update'](-0x2*0xf91+-0x12a4+0x31c6),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x1d0d35=this['assets'],_0x467d38=this['system']['app']['assets'];if(_0x1d0d35)for(let _0x4c5b2c=-0x181e+0x230e+-0xaf0,_0x281f48=_0x1d0d35['length'];_0x4c5b2c<_0x281f48;_0x4c5b2c++){let _0xa296c6=_0x1d0d35[_0x4c5b2c];_0xa296c6 instanceof le||(_0xa296c6=_0x467d38['get'](_0xa296c6)),_0xa296c6&&!_0xa296c6['resource']&&_0x467d38['load'](_0xa296c6);}if(this['activate']&&!this['currAnim']){const _0x1f3292=Object['keys'](this['animations']);_0x1f3292['length']>0x3e*0x78+-0x11*-0x139+-0x31d9*0x1&&this['play'](_0x1f3292[0x3*0x53+0x35b*0x9+-0x39*0x8c]);}}['onBeforeRe'+'move'](){for(let _0xa5ff1f=-0x61e+-0x24c1+0x2adf;_0xa5ff1f<this['assets']['length'];_0xa5ff1f++){let _0x205813=this['assets'][_0xa5ff1f];typeof _0x205813=='number'&&(_0x205813=this['system']['app']['assets']['get'](_0x205813)),_0x205813&&(_0x205813['off']('change',this['onAssetCha'+'nged'],this),_0x205813['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x40b2c2){if(this['blending']&&(this['blend']+=_0x40b2c2*this['blendSpeed'],this['blend']>=-0x194*0x14+-0x2*-0x49b+0x1*0x165b&&(this['blend']=0x1cc3+0x25d4+-0x4296)),this['playing']){const _0x3830cf=this['skeleton'];if(_0x3830cf!==null&&this['model']!==null){if(this['blending'])_0x3830cf['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x516c10=_0x40b2c2*this['speed'];_0x3830cf['addTime'](_0x516c10),this['speed']>0x10ac+-0x1863+0x7b7&&_0x3830cf['_time']===_0x3830cf['animation']['duration']&&!this['loop']?this['playing']=!(-0x469*0x1+0x174c+-0x12e2):this['speed']<-0xfb+0x104e+-0x1*0xf53&&_0x3830cf['_time']===0x9b9*0x1+-0x1792+-0x2c5*-0x5&&!this['loop']&&(this['playing']=!(-0x8f9*0x1+-0x2678+0x2f72));}this['blending']&&this['blend']===0xdcc+0x9*0x3db+-0x307e*0x1&&(_0x3830cf['animation']=this['toSkel']['animation']),_0x3830cf['updateGrap'+'h']();}}const _0x4274fe=this['animEvalua'+'tor'];if(_0x4274fe){for(let _0x1d806a=0xb*-0x2c+0x131f+-0x113b;_0x1d806a<_0x4274fe['clips']['length'];++_0x1d806a){const _0x489ab7=_0x4274fe['clips'][_0x1d806a];_0x489ab7['speed']=this['speed'],this['playing']?_0x489ab7['resume']():_0x489ab7['pause']();}this['blending']&&_0x4274fe['clips']['length']>-0xc2e+-0x3*0x2f5+0xf5*0x16&&(_0x4274fe['clips'][-0x1935+-0x28*-0xb+0x177e]['blendWeigh'+'t']=this['blend']),_0x4274fe['update'](_0x40b2c2);}this['blending']&&this['blend']===-0x1a2f+0x1c97+-0x267&&(this['blending']=!(-0xc0f+-0xa93+-0x3d*-0x5f));}}class zP{constructor(){this['enabled']=!(-0xb1b+0x22b*0xe+-0x133f);}}const Qu=['enabled'];class UP extends Xe{constructor(_0x38f73f){super(_0x38f73f),this['id']='animation',this['ComponentT'+'ype']=K0,this['DataType']=zP,this['schema']=Qu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x49f465,_0x2b8298,_0x36de11){_0x36de11=['activate','enabled','loop','speed','assets'];for(const _0x108055 of _0x36de11)_0x2b8298['hasOwnProp'+'erty'](_0x108055)&&(_0x49f465[_0x108055]=_0x2b8298[_0x108055]);super['initialize'+'ComponentD'+'ata'](_0x49f465,_0x2b8298,Qu);}['cloneCompo'+'nent'](_0x177202,_0x2e0b6b){this['addCompone'+'nt'](_0x2e0b6b,{}),_0x2e0b6b['animation']['assets']=_0x177202['animation']['assets']['slice'](),_0x2e0b6b['animation']['speed']=_0x177202['animation']['speed'],_0x2e0b6b['animation']['loop']=_0x177202['animation']['loop'],_0x2e0b6b['animation']['activate']=_0x177202['animation']['activate'],_0x2e0b6b['animation']['enabled']=_0x177202['animation']['enabled'];const _0x929ef={},_0x26f8d2=_0x177202['animation']['animations'];for(const _0x52e90f in _0x26f8d2)_0x26f8d2['hasOwnProp'+'erty'](_0x52e90f)&&(_0x929ef[_0x52e90f]=_0x26f8d2[_0x52e90f]);_0x2e0b6b['animation']['animations']=_0x929ef;const _0x581d10={},_0x95e649=_0x177202['animation']['animations'+'Index'];for(const _0x4aac86 in _0x95e649)_0x95e649['hasOwnProp'+'erty'](_0x4aac86)&&(_0x581d10[_0x4aac86]=_0x95e649[_0x4aac86]);return _0x2e0b6b['animation']['animations'+'Index']=_0x581d10,_0x2e0b6b['animation'];}['onBeforeRe'+'move'](_0x51952a,_0x38cc65){_0x38cc65['onBeforeRe'+'move']();}['onUpdate'](_0x5b98d1){const _0x34490b=this['store'];for(const _0x5af1e4 in _0x34490b)if(_0x34490b['hasOwnProp'+'erty'](_0x5af1e4)){const _0x47c6dc=_0x34490b[_0x5af1e4];_0x47c6dc['data']['enabled']&&_0x47c6dc['entity']['enabled']&&_0x47c6dc['entity']['animation']['update'](_0x5b98d1);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](K0['prototype'],Qu);class Uo{constructor(_0xfc0ef5,_0x1c67f0,_0x461d30,_0xfed383,_0x5d3523=0xc7d+0x43*0x17+-0x62b*0x3){this['_state']=_0xfc0ef5,this['_parent']=_0x1c67f0,this['_name']=_0x461d30,Array['isArray'](_0xfed383)?(this['_point']=new W(_0xfed383[-0x18f2+0x1e5d+-0x56b],_0xfed383[0x1587+0x1d*0x10d+0x1b*-0x1ed]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0xfed383,this['_pointLeng'+'th']=_0xfed383),this['_speed']=_0x5d3523,this['_weightedS'+'peed']=-0x8bd*0x4+0x9*-0x16b+0x4*0xbee,this['_weight']=0x1*-0x1fcd+-0x79*0x47+0x1d*0x241,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x3f60e9){this['_weight']=_0x3f60e9;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x7223a1=this['_state']['totalWeigh'+'t'];return _0x7223a1===0x1024*0x2+0x19f6+-0x47*0xd2?-0x1cd1*0x1+-0x2071*-0x1+0x74*-0x8:this['weight']/_0x7223a1;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x419bdd){this['_weightedS'+'peed']=_0x419bdd;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x4a64c6){this['_animTrack']=_0x4a64c6;}get['animTrack'](){return this['_animTrack'];}}class Ba extends Uo{constructor(_0x157969,_0x3ffe01,_0x48f1c2,_0x44c7d7,_0x4d59a0,_0x12841f,_0x37240a,_0x23c42b,_0x2ff669){super(_0x157969,_0x3ffe01,_0x48f1c2,_0x44c7d7),this['_parameter'+'s']=_0x4d59a0,this['_parameter'+'Values']=new Array(_0x4d59a0['length']),this['_children']=[],this['_findParam'+'eter']=_0x2ff669,this['_syncAnima'+'tions']=_0x37240a!==!(-0x641*0x6+0x1d96+-0x7f1*-0x1),this['_pointCach'+'e']={};for(let _0x374c86=0x7*0x4d2+-0x2700+0x542;_0x374c86<_0x12841f['length'];_0x374c86++){const _0x2070f6=_0x12841f[_0x374c86];_0x2070f6['children']?this['_children']['push'](_0x23c42b(_0x2070f6['type'],_0x157969,this,_0x2070f6['name'],-0x60*0x3e+-0x22d*-0x11+-0xdbc,_0x2070f6['parameter']?[_0x2070f6['parameter']]:_0x2070f6['parameters'],_0x2070f6['children'],_0x2070f6['syncAnimat'+'ions'],_0x23c42b,_0x2ff669)):this['_children']['push'](new Uo(_0x157969,this,_0x2070f6['name'],_0x2070f6['point'],_0x2070f6['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x552796){for(let _0x517930=-0x21a7+0x724+0x1a83;_0x517930<this['_children']['length'];_0x517930++)if(this['_children'][_0x517930]['name']===_0x552796)return this['_children'][_0x517930];return null;}['updatePara'+'meterValue'+'s'](){let _0x5055a0=!(-0x1584+-0x64b*0x1+-0x317*-0x9);for(let _0x3b43aa=-0xd4b*-0x1+0x1*-0x213b+0x13f0;_0x3b43aa<this['_parameter'+'Values']['length'];_0x3b43aa++){const _0x7c6a5b=this['_findParam'+'eter'](this['_parameter'+'s'][_0x3b43aa])['value'];this['_parameter'+'Values'][_0x3b43aa]!==_0x7c6a5b&&(this['_parameter'+'Values'][_0x3b43aa]=_0x7c6a5b,_0x5055a0=!(-0xeb7+0x1b62+-0x1*0xcaa));}return _0x5055a0;}['getNodeWei'+'ghtedDurat'+'ion'](_0x339255){return this['_children'][_0x339255]['animTrack']['duration']/this['_children'][_0x339255]['speedMulti'+'plier']*this['_children'][_0x339255]['weight'];}['getNodeCou'+'nt'](){let _0x30d14b=0x1a22+0x2b4*0x4+-0x24f2*0x1;for(let _0x202372=0x2ad+0x1c03*-0x1+0x45*0x5e;_0x202372<this['_children']['length'];_0x202372++)this['_children'][_0x202372]['constructo'+'r']===Ba?_0x30d14b+=this['_children'][_0x202372]['getNodeCou'+'nt']():_0x30d14b++;return _0x30d14b;}}class VP extends Ba{constructor(_0x1b9b7c,_0x33043c,_0xcc4755,_0xd94e64,_0x54fd57,_0x454902,_0x199de3,_0x3928e6,_0x3a19ba){_0x454902['sort']((_0x190473,_0x1713e8)=>_0x190473['point']-_0x1713e8['point']),super(_0x1b9b7c,_0x33043c,_0xcc4755,_0xd94e64,_0x54fd57,_0x454902,_0x199de3,_0x3928e6,_0x3a19ba);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x414308=0x6e2+-0x20b5+-0x19d3*-0x1;this['_children'][0xd*-0x1a5+-0xf9*0x13+0x2*0x13ee]['weight']=-0x53c+-0x4*-0x516+-0xf1c;for(let _0x3cc721=-0x57d*0x4+0x6d6+-0x102*-0xf;_0x3cc721<this['_children']['length'];_0x3cc721++){const _0x4bed6f=this['_children'][_0x3cc721];if(_0x3cc721!==this['_children']['length']-(-0x21e3+0x1b6e+-0x676*-0x1)){const _0x31a0ba=this['_children'][_0x3cc721+(0x1*0xdf1+0x1*-0x580+-0x870)];if(_0x4bed6f['point']===_0x31a0ba['point'])_0x4bed6f['weight']=-0x2*0x37+0x472*-0x7+-0x7e3*-0x4+0.5,_0x31a0ba['weight']=-0xb*0x71+0x1fb8+0x17*-0x12b+0.5;else{if(N['between'](this['_parameter'+'Values'][-0xba7+-0xa01*0x1+0xc*0x1ce],_0x4bed6f['point'],_0x31a0ba['point'],!(-0xa86+0x103c+-0x5b6))){const _0xca7050=Math['abs'](_0x4bed6f['point']-_0x31a0ba['point']),_0x452ead=Math['abs'](_0x4bed6f['point']-this['_parameter'+'Values'][-0x5*0x3a7+-0x142e+0x2f5*0xd]),_0x1096d3=(_0xca7050-_0x452ead)/_0xca7050;_0x4bed6f['weight']=_0x1096d3,_0x31a0ba['weight']=-0xb75*0x3+0xa*0x34+-0x5c*-0x5a-_0x1096d3;}else _0x31a0ba['weight']=-0x527*-0x6+-0x1*0x1cbb+-0x22f;}}this['_syncAnima'+'tions']&&(_0x414308+=_0x4bed6f['animTrack']['duration']/_0x4bed6f['absoluteSp'+'eed']*_0x4bed6f['weight']);}if(this['_syncAnima'+'tions'])for(let _0x25aab3=0x2459+-0x1fc6+-0x493*0x1;_0x25aab3<this['_children']['length'];_0x25aab3++){const _0x3f6312=this['_children'][_0x25aab3];_0x3f6312['weightedSp'+'eed']=_0x3f6312['animTrack']['duration']/_0x3f6312['absoluteSp'+'eed']/_0x414308;}}}const gi=class gi extends Ba{['pointDista'+'nceCache'](_0x27a46a,_0xdf2d9e){const _0x522b5e=''+_0x27a46a+_0xdf2d9e;return this['_pointCach'+'e'][_0x522b5e]||(this['_pointCach'+'e'][_0x522b5e]=this['_children'][_0xdf2d9e]['point']['clone']()['sub'](this['_children'][_0x27a46a]['point'])),this['_pointCach'+'e'][_0x522b5e];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0xcede0c,_0x11798e;gi['_p']['set'](...this['_parameter'+'Values']),_0xcede0c=0x230+0x22*0xbc+-0x1b28,_0x11798e=-0xf3a+-0x2645+0x3*0x11d5;for(let _0x5dbc57=0x1d1a+0x143d+0x2e7*-0x11;_0x5dbc57<this['_children']['length'];_0x5dbc57++){const _0x5c6811=this['_children'][_0x5dbc57],_0x8fa64a=_0x5c6811['point'];gi['_pip']['set'](gi['_p']['x'],gi['_p']['y'])['sub'](_0x8fa64a);let _0x2fcb42=Number['MAX_VALUE'];for(let _0x580fcf=-0x19*-0x15e+-0x1d04+-0x52a;_0x580fcf<this['_children']['length'];_0x580fcf++){if(_0x5dbc57===_0x580fcf)continue;const _0x125cc8=this['pointDista'+'nceCache'](_0x5dbc57,_0x580fcf),_0x4fd520=N['clamp'](-0x1c+-0x16fc+-0x1b*-0xdb-gi['_pip']['dot'](_0x125cc8)/_0x125cc8['lengthSq'](),0x19ae+0x661+-0x200f,-0x64*0x5a+-0x2*-0xa6f+0xe4b);_0x4fd520<_0x2fcb42&&(_0x2fcb42=_0x4fd520);}_0x5c6811['weight']=_0x2fcb42,_0xcede0c+=_0x2fcb42,this['_syncAnima'+'tions']&&(_0x11798e+=_0x5c6811['animTrack']['duration']/_0x5c6811['absoluteSp'+'eed']*_0x5c6811['weight']);}for(let _0x218ed4=0x1b23*-0x1+0xca*-0x19+-0x81*-0x5d;_0x218ed4<this['_children']['length'];_0x218ed4++){const _0x59828d=this['_children'][_0x218ed4];_0x59828d['weight']=_0x59828d['_weight']/_0xcede0c,this['_syncAnima'+'tions']&&(_0x59828d['weightedSp'+'eed']=_0x59828d['animTrack']['duration']/_0x59828d['absoluteSp'+'eed']/_0x11798e);}}};c(gi,'_p',new W()),c(gi,'_pip',new W());let Ju=gi;const yi=class yi extends Ba{['pointCache'](_0x28b155,_0x20938e){const _0xbeb3a5=''+_0x28b155+_0x20938e;return this['_pointCach'+'e'][_0xbeb3a5]||(this['_pointCach'+'e'][_0xbeb3a5]=new W((this['_children'][_0x20938e]['pointLengt'+'h']-this['_children'][_0x28b155]['pointLengt'+'h'])/((this['_children'][_0x20938e]['pointLengt'+'h']+this['_children'][_0x28b155]['pointLengt'+'h'])/(0xc18+-0x16c1+0xaab)),W['angleRad'](this['_children'][_0x28b155]['point'],this['_children'][_0x20938e]['point'])*(-0x2042+-0xf7a*0x2+0x2*0x1f9c))),this['_pointCach'+'e'][_0xbeb3a5];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x295213,_0x20f66d;yi['_p']['set'](...this['_parameter'+'Values']);const _0x32108f=yi['_p']['length']();_0x295213=0xdc6*0x1+0x224f*0x1+-0x3015,_0x20f66d=0x1*0x1415+0x162d+-0x2a42;for(let _0x3e8772=-0x1905+0x5*-0x25d+-0x73*-0x52;_0x3e8772<this['_children']['length'];_0x3e8772++){const _0x3824fc=this['_children'][_0x3e8772],_0x112372=_0x3824fc['point'],_0x13aab6=_0x3824fc['pointLengt'+'h'];let _0x9c7e05=Number['MAX_VALUE'];for(let _0x4abfc1=0x47*0x1f+0x104a+-0x18e3;_0x4abfc1<this['_children']['length'];_0x4abfc1++){if(_0x3e8772===_0x4abfc1)continue;const _0x3ce24f=this['pointCache'](_0x3e8772,_0x4abfc1),_0x28840f=this['_children'][_0x4abfc1]['pointLengt'+'h'];yi['_pip']['set']((_0x32108f-_0x13aab6)/((_0x28840f+_0x13aab6)/(0x1a26*0x1+-0x1*0xc01+0x205*-0x7)),W['angleRad'](_0x112372,yi['_p'])*(-0x59*0x12+0x2f*-0x53+0x1581));const _0x19c744=N['clamp'](-0x4*0x556+-0xcd3+-0xf3*-0x24-Math['abs'](yi['_pip']['dot'](_0x3ce24f)/_0x3ce24f['lengthSq']()),-0x1ef9+0x1*0x1cd+-0x1*-0x1d2c,0x83*0x9+0x1e13+-0x22ad);_0x19c744<_0x9c7e05&&(_0x9c7e05=_0x19c744);}_0x3824fc['weight']=_0x9c7e05,_0x295213+=_0x9c7e05,this['_syncAnima'+'tions']&&(_0x20f66d+=_0x3824fc['animTrack']['duration']/_0x3824fc['absoluteSp'+'eed']*_0x3824fc['weight']);}for(let _0x1e8cc7=-0x15d*0x12+0x1e*0x78+-0x9*-0x12a;_0x1e8cc7<this['_children']['length'];_0x1e8cc7++){const _0x341198=this['_children'][_0x1e8cc7];if(_0x341198['weight']=_0x341198['_weight']/_0x295213,this['_syncAnima'+'tions']){const _0x5ca70c=_0x341198['animTrack']['duration']/_0x20f66d*_0x295213;_0x341198['weightedSp'+'eed']=_0x341198['absoluteSp'+'eed']*_0x5ca70c;}}}};c(yi,'_p',new W()),c(yi,'_pip',new W());let ef=yi;class GP extends Ba{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x1bcfb4=-0x1d9d+-0x1*0x1e7b+0x1*0x3c18,_0x26ec6e=-0x1*-0xff7+0x1db8+-0x5*0x923;for(let _0x4db0a5=0x2596+0x1*-0xab5+0x1*-0x1ae1;_0x4db0a5<this['_children']['length'];_0x4db0a5++)if(_0x1bcfb4+=Math['max'](this['_parameter'+'Values'][_0x4db0a5],-0xd3*-0x13+-0x46*-0x49+-0x239f),this['_syncAnima'+'tions']){const _0x521e70=this['_children'][_0x4db0a5];_0x26ec6e+=_0x521e70['animTrack']['duration']/_0x521e70['absoluteSp'+'eed']*_0x521e70['weight'];}for(let _0x34b8dd=0x20d9*-0x1+-0x314*0x2+0x5*0x7cd;_0x34b8dd<this['_children']['length'];_0x34b8dd++){const _0x469a4=this['_children'][_0x34b8dd],_0x1b1afc=Math['max'](this['_parameter'+'Values'][_0x34b8dd],-0x1638+-0x783*0x4+0x3444*0x1);_0x1bcfb4?(_0x469a4['weight']=_0x1b1afc/_0x1bcfb4,this['_syncAnima'+'tions']&&(_0x469a4['weightedSp'+'eed']=_0x469a4['animTrack']['duration']/_0x469a4['absoluteSp'+'eed']/_0x26ec6e)):(_0x469a4['weight']=-0x1fc*-0x7+0x1a9b+0x287f*-0x1,this['_syncAnima'+'tions']&&(_0x469a4['weightedSp'+'eed']=-0x251f+-0x1*0x1e91+0x1690*0x3));}}}class eg{constructor(_0x28e387,_0x5e0686,_0x965e09=0x12f1*-0x2+-0x24ec+-0x4acf*-0x1,_0x4f7e5c=!(-0x14ea+0x2700+-0x1216),_0x54b8fa){c(this,'_animation'+'s',{}),c(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x28e387,this['_name']=_0x5e0686,this['_speed']=_0x965e09,this['_loop']=_0x4f7e5c,this['_hasAnimat'+'ions']=!(-0xf*0xb9+0x101*0x5+0x5d3),_0x54b8fa?this['_blendTree']=this['_createTre'+'e'](_0x54b8fa['type'],this,null,_0x5e0686,0x17fc+0x71f+-0x1f1a,_0x54b8fa['parameter']?[_0x54b8fa['parameter']]:_0x54b8fa['parameters'],_0x54b8fa['children'],_0x54b8fa['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new Uo(this,null,_0x5e0686,-0x6cb+0x456*-0x5+-0x97e*-0x3,_0x965e09));}['_createTre'+'e'](_0x34b31e,_0x481654,_0x507fcb,_0x4ac2ba,_0x59d60f,_0x57da8f,_0xd0a7f3,_0x4d2381,_0x38d3f5,_0x1de081){switch(_0x34b31e){case FP:return new VP(_0x481654,_0x507fcb,_0x4ac2ba,_0x59d60f,_0x57da8f,_0xd0a7f3,_0x4d2381,_0x38d3f5,_0x1de081);case kP:return new Ju(_0x481654,_0x507fcb,_0x4ac2ba,_0x59d60f,_0x57da8f,_0xd0a7f3,_0x4d2381,_0x38d3f5,_0x1de081);case OP:return new ef(_0x481654,_0x507fcb,_0x4ac2ba,_0x59d60f,_0x57da8f,_0xd0a7f3,_0x4d2381,_0x38d3f5,_0x1de081);case BP:return new GP(_0x481654,_0x507fcb,_0x4ac2ba,_0x59d60f,_0x57da8f,_0xd0a7f3,_0x4d2381,_0x38d3f5,_0x1de081);}v['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x34b31e);}['_getNodeFr'+'omPath'](_0x1edc53){let _0x9ff83=this['_blendTree'];for(let _0xc63778=-0x1e2c+-0x17*-0x37+-0x143*-0x14;_0xc63778<_0x1edc53['length'];_0xc63778++)_0x9ff83=_0x9ff83['getChild'](_0x1edc53[_0xc63778]);return _0x9ff83;}['addAnimati'+'on'](_0x35eb19,_0x2253d0){const _0x2e2568=_0x35eb19['join']('.'),_0xf7e826=this['_animation'+'List']['findIndex'](_0x1479b8=>_0x1479b8['path']===_0x2e2568);if(_0xf7e826>=-0x22e8*0x1+0x6d*0x4a+0x366)this['_animation'+'List'][_0xf7e826]['animTrack']=_0x2253d0;else{const _0x25487e=this['_getNodeFr'+'omPath'](_0x35eb19);_0x25487e['animTrack']=_0x2253d0,this['_animation'+'List']['push'](_0x25487e);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>-0x13*0x73+0x1237*0x1+-0x162*0x7&&this['_animation'+'List']['every'](_0x27feb3=>_0x27feb3['animTrack']&&_0x27feb3['animTrack']!==Ri['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x2b2f18){this['_animation'+'List']=_0x2b2f18,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x25a9ad){this['_speed']=_0x25a9ad;}get['speed'](){return this['_speed'];}set['loop'](_0xd4273){this['_loop']=_0xd4273;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===Uo?0x20b4+0x8a0+-0x2953:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return jh['indexOf'](this['name'])!==-(-0x9*0x166+0x2127+-0x38*0x5e)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>-0x4da+0x15aa*-0x1+-0x2*-0xd42){const _0x17a556=this['name']+'.'+this['animations'][0x1*0x15fd+-0xdf0+-0x80d]['animTrack']['name'],_0x3de377=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x17a556);if(_0x3de377)return _0x3de377['loop'];}return!(0x407*0x3+0x1f16*0x1+-0x2b2a);}get['totalWeigh'+'t'](){let _0x51a50c=-0x174d+-0x77*0x44+0x36e9;for(let _0x27b471=0x1349+0x1*0x1451+-0x279a;_0x27b471<this['animations']['length'];_0x27b471++)_0x51a50c+=this['animations'][_0x27b471]['weight'];return _0x51a50c;}get['timelineDu'+'ration'](){let _0xb5c029=-0xdd5*0x1+-0xe53+0x1*0x1c28;for(let _0x26f325=-0x315+0x22af*0x1+-0x1f9a*0x1;_0x26f325<this['animations']['length'];_0x26f325++){const _0x3591e3=this['animations'][_0x26f325];_0x3591e3['animTrack']['duration']>_0xb5c029&&(_0xb5c029=_0x3591e3['animTrack']['duration']);}return _0xb5c029;}}class Yh{constructor({from:_0x25b687,to:_0x3dea3c,time:_0x4eeac1=0xc57+0x17*0x22+-0xf65,priority:_0x5436a8=-0x1*0x47+0x1*-0x1e85+0x1ecc,conditions:_0x5af9fb=[],exitTime:_0x128abc=null,transitionOffset:_0x313602=null,interruptionSource:_0x36e1fa=q0}){this['_from']=_0x25b687,this['_to']=_0x3dea3c,this['_time']=_0x4eeac1,this['_priority']=_0x5436a8,this['_condition'+'s']=_0x5af9fb,this['_exitTime']=_0x128abc,this['_transitio'+'nOffset']=_0x313602,this['_interrupt'+'ionSource']=_0x36e1fa;}get['from'](){return this['_from'];}set['to'](_0xbd0377){this['_to']=_0xbd0377;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class HP{constructor(_0x2f630b,_0x112133,_0x44ae96,_0x304c5b,_0x56f149,_0x4d2819,_0x238da7){c(this,'_states',{}),c(this,'_stateName'+'s',[]),c(this,'_findTrans'+'itionsFrom'+'StateCache',{}),c(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),c(this,'_previousS'+'tateName',null),c(this,'_activeSta'+'teName',oo),c(this,'_activeSta'+'teDuration',-0x1*-0xe5f+-0xb*0x165+0xf8),c(this,'_activeSta'+'teDuration'+'Dirty',!(0x13bf+0x1a6*0x10+-0x2e1f)),c(this,'_playing',!(-0xeac+-0x3d*0x5f+0x2550)),c(this,'_activate'),c(this,'_transitio'+'ns'),c(this,'_currTrans'+'itionTime',-0x1*0xfe+0x469+-0x36a),c(this,'_totalTran'+'sitionTime',-0x1*-0x2573+-0x88*0x4+-0x2352),c(this,'_isTransit'+'ioning',!(0x1371*0x1+-0x243f+0x1*0x10cf)),c(this,'_transitio'+'nInterrupt'+'ionSource',q0),c(this,'_transitio'+'nPreviousS'+'tates',[]),c(this,'_timeInSta'+'te',0x2528+0x20b*0x1+-0x2733),c(this,'_timeInSta'+'teBefore',-0x2*0xc67+-0x17*-0x137+-0x323),c(this,'findParame'+'ter',_0xa890b5=>this['_findParam'+'eter'](_0xa890b5)),(this['_animEvalu'+'ator']=_0x2f630b,this['_eventHand'+'ler']=_0x56f149,this['_findParam'+'eter']=_0x4d2819,this['_consumeTr'+'igger']=_0x238da7);for(let _0x483f24=0x17d9+0x1*0x1d39+-0x2*0x1a89;_0x483f24<_0x112133['length'];_0x483f24++)this['_states'][_0x112133[_0x483f24]['name']]=new eg(this,_0x112133[_0x483f24]['name'],_0x112133[_0x483f24]['speed'],_0x112133[_0x483f24]['loop'],_0x112133[_0x483f24]['blendTree']),this['_stateName'+'s']['push'](_0x112133[_0x483f24]['name']);this['_transitio'+'ns']=_0x44ae96['map'](_0x266383=>new Yh({..._0x266383})),this['_activate']=_0x304c5b;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x3ccfbc){this['_activeSta'+'teName']=_0x3ccfbc;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x4f1e8d){this['_previousS'+'tateName']=_0x4f1e8d;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x379905=!(-0x5ba*-0x2+-0x30+-0xb44);for(let _0xb83790=0x164e+0xd16+-0x2364;_0xb83790<this['_stateName'+'s']['length'];_0xb83790++)this['_states'][this['_stateName'+'s'][_0xb83790]]['playable']||(_0x379905=!(-0xe31+0x1ef4+-0xa5*0x1a));return _0x379905;}set['playing'](_0x14e700){this['_playing']=_0x14e700;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x254d42=-0x24ba*-0x1+0x1eb1+-0x436b;for(let _0x23286a=-0x1*-0x1a2b+-0x1*-0xb17+-0x2542;_0x23286a<this['activeStat'+'eAnimation'+'s']['length'];_0x23286a++){const _0xbfc0b=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x23286a]['name']);_0xbfc0b&&(_0x254d42=Math['max'](_0x254d42,_0xbfc0b['track']['duration']));}this['_activeSta'+'teDuration']=_0x254d42,this['_activeSta'+'teDuration'+'Dirty']=!(0xbf*0x1a+-0x3*0x9a+-0x1197);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x3c330c){this['_timeInSta'+'teBefore']=_0x3c330c,this['_timeInSta'+'te']=_0x3c330c;for(let _0x1c7fba=0x18d7+-0xc78+-0x1*0xc5f;_0x1c7fba<this['activeStat'+'eAnimation'+'s']['length'];_0x1c7fba++){const _0x412258=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x1c7fba]['name']);_0x412258&&(_0x412258['time']=_0x3c330c);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0xe86099){return this['_animEvalu'+'ator']['assignMask'](_0xe86099);}['_findState'](_0xf7e8e2){return this['_states'][_0xf7e8e2];}['_getActive'+'StateProgr'+'essForTime'](_0x2b908c){if(this['activeStat'+'eName']===oo||this['activeStat'+'eName']===Ku||this['activeStat'+'eName']===Or)return-0x25dd*-0x1+0x1*0x1f4f+-0x452b;const _0x2d17c6=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][-0x6*-0x435+0x2663+-0x7*0x917]['name']);return _0x2d17c6?_0x2d17c6['progressFo'+'rTime'](_0x2b908c):null;}['_findTrans'+'itionsFrom'+'State'](_0x3e25ab){let _0x1d9c8d=this['_findTrans'+'itionsFrom'+'StateCache'][_0x3e25ab];return _0x1d9c8d||(_0x1d9c8d=this['_transitio'+'ns']['filter'](_0x12f6ea=>_0x12f6ea['from']===_0x3e25ab),No(_0x1d9c8d),this['_findTrans'+'itionsFrom'+'StateCache'][_0x3e25ab]=_0x1d9c8d),_0x1d9c8d;}['_findTrans'+'itionsBetw'+'eenStates'](_0x1d087b,_0xab20a2){let _0x478a3b=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x1d087b+'->'+_0xab20a2];return _0x478a3b||(_0x478a3b=this['_transitio'+'ns']['filter'](_0xce39d7=>_0xce39d7['from']===_0x1d087b&&_0xce39d7['to']===_0xab20a2),No(_0x478a3b),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x1d087b+'->'+_0xab20a2]=_0x478a3b),_0x478a3b;}['_transitio'+'nHasCondit'+'ionsMet'](_0x850fbf){const _0x486e45=_0x850fbf['conditions'];for(let _0xc5ef20=0x821+-0x6*-0x2d7+0x192b*-0x1;_0xc5ef20<_0x486e45['length'];_0xc5ef20++){const _0x3264a6=_0x486e45[_0xc5ef20],_0x207994=this['_findParam'+'eter'](_0x3264a6['parameterN'+'ame']);switch(_0x3264a6['predicate']){case MP:if(!(_0x207994['value']>_0x3264a6['value']))return!(0x20d2+-0x2*0x1cc+-0x1d39);break;case PP:if(!(_0x207994['value']<_0x3264a6['value']))return!(-0x1951+0x1*-0x22e7+0x3c39);break;case RP:if(!(_0x207994['value']>=_0x3264a6['value']))return!(0x1ca+-0x2226+-0x1*-0x205d);break;case IP:if(!(_0x207994['value']<=_0x3264a6['value']))return!(0x196*0xb+-0x1*-0x19ae+-0x2b1f);break;case DP:if(_0x207994['value']!==_0x3264a6['value'])return!(0x16f5+-0x20ab+0x33d*0x3);break;case LP:if(_0x207994['value']===_0x3264a6['value'])return!(-0x2*0xec2+0x1771+-0x1*-0x614);break;}}return!(-0x358*0x2+0x8*-0x376+0x2260);}['_findTrans'+'ition'](_0x3761d4,_0x3b67e7){let _0x2c1ccc=[];if(_0x3761d4&&_0x3b67e7)_0x2c1ccc=_0x2c1ccc['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x3761d4,_0x3b67e7));else{if(!this['_isTransit'+'ioning'])_0x2c1ccc=_0x2c1ccc['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x2c1ccc=_0x2c1ccc['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case TP:_0x2c1ccc=_0x2c1ccc['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x2c1ccc=_0x2c1ccc['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case AP:_0x2c1ccc=_0x2c1ccc['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x2c1ccc=_0x2c1ccc['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case EP:_0x2c1ccc=_0x2c1ccc['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x2c1ccc=_0x2c1ccc['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x2c1ccc=_0x2c1ccc['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case CP:_0x2c1ccc=_0x2c1ccc['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x2c1ccc=_0x2c1ccc['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x2c1ccc=_0x2c1ccc['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;}}if(_0x2c1ccc=_0x2c1ccc['filter'](_0x390b6b=>{if(_0x390b6b['to']===this['activeStat'+'eName'])return!(-0x182*0xb+0x17a2+-0x70b);if(_0x390b6b['hasExitTim'+'e']){let _0x3d5174=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x3cd398=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x390b6b['exitTime']<-0xc07+0x1d8c+-0x1184&&this['activeStat'+'e']['loop']&&(_0x3d5174-=Math['floor'](_0x3d5174),_0x3cd398-=Math['floor'](_0x3cd398)),_0x3cd398===_0x3d5174){if(_0x3cd398!==_0x390b6b['exitTime'])return null;}else{if(!(_0x390b6b['exitTime']>_0x3d5174&&_0x390b6b['exitTime']<=_0x3cd398))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x390b6b);}),_0x2c1ccc['length']>-0x11ce+0xe60+0x36e*0x1){const _0x5e2c9c=_0x2c1ccc[-0x23e4+0x45c+-0x7e2*-0x4];if(_0x5e2c9c['to']===Ku){const _0x54cb0f=this['_findTrans'+'itionsFrom'+'State'](oo)[0xd39+0x1b02*0x1+-0x283b];_0x5e2c9c['to']=_0x54cb0f['to'];}return _0x5e2c9c;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x434937){let _0x21fbd3,_0x5e124b,_0x5a6dbf;this['previousSt'+'ate']=_0x434937['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x434937['to'],this['_activeSta'+'teDuration'+'Dirty']=!(-0x2*-0x33b+-0x4a4*-0x1+-0xb1a);for(let _0x5add0e=0x16c5+0x2227*0x1+-0x38ec;_0x5add0e<_0x434937['conditions']['length'];_0x5add0e++){const _0x458e8a=_0x434937['conditions'][_0x5add0e];this['_findParam'+'eter'](_0x458e8a['parameterN'+'ame'])['type']===ph&&this['_consumeTr'+'igger'](_0x458e8a['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x127699=Math['min'](this['_totalTran'+'sitionTime']!==-0x241e+0x124d*-0x2+0x48b8?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0x22ca+-0x1e33+0x40fe,0x2*0x547+-0x645+-0x448);for(let _0x48d0d8=-0x533*0x3+-0x1119+0x20b2;_0x48d0d8<this['_transitio'+'nPreviousS'+'tates']['length'];_0x48d0d8++){this['_isTransit'+'ioning']?_0x48d0d8!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0xf*-0x292+0x1bd+-0x284a)?this['_transitio'+'nPreviousS'+'tates'][_0x48d0d8]['weight']*=0x19a+0x9*0x1f4+-0x132d-_0x127699:this['_transitio'+'nPreviousS'+'tates'][_0x48d0d8]['weight']=_0x127699:this['_transitio'+'nPreviousS'+'tates'][_0x48d0d8]['weight']=-0xc31*-0x1+-0x25+-0x1*0xc0b,_0x21fbd3=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x48d0d8]['name']);for(let _0x5429af=0x47*0x58+0x74c+0x2*-0xfda;_0x5429af<_0x21fbd3['animations']['length'];_0x5429af++)_0x5e124b=_0x21fbd3['animations'][_0x5429af],_0x5a6dbf=this['_animEvalu'+'ator']['findClip'](_0x5e124b['name']+'.previous.'+_0x48d0d8),_0x5a6dbf||(_0x5a6dbf=this['_animEvalu'+'ator']['findClip'](_0x5e124b['name']),_0x5a6dbf['name']=_0x5e124b['name']+'.previous.'+_0x48d0d8),_0x48d0d8!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x3a4+0x204*-0x7+0x65*0x2d)&&_0x5a6dbf['pause']();}}this['_isTransit'+'ioning']=!(-0x6a2+0x2432+-0x1d90),this['_totalTran'+'sitionTime']=_0x434937['time'],this['_currTrans'+'itionTime']=0x13*-0x123+0xb6b+0xa2e*0x1,this['_transitio'+'nInterrupt'+'ionSource']=_0x434937['interrupti'+'onSource'];const _0x1027ae=this['activeStat'+'e'],_0x5e81fb=_0x434937['transition'+'Offset']&&_0x434937['transition'+'Offset']>0x1*0x21c2+-0x2d*-0xa9+0x3f77*-0x1&&_0x434937['transition'+'Offset']<-0xd41+0x6*0x3a1+0x2*-0x442;let _0x35f96a=-0x1*0x181d+-0x1f4a+0x3767,_0x438cfa=0xcd*-0x5+0xda9+-0xc*0xce;if(_0x5e81fb){const _0x198720=_0x1027ae['timelineDu'+'ration']*_0x434937['transition'+'Offset'];_0x35f96a=_0x198720,_0x438cfa=_0x198720;}this['_timeInSta'+'te']=_0x35f96a,this['_timeInSta'+'teBefore']=_0x438cfa;for(let _0x45d20a=-0x2094+-0x1d00+-0x233*-0x1c;_0x45d20a<_0x1027ae['animations']['length'];_0x45d20a++){if(_0x5a6dbf=this['_animEvalu'+'ator']['findClip'](_0x1027ae['animations'][_0x45d20a]['name']),_0x5a6dbf)_0x5a6dbf['reset']();else{const _0xdf31ad=Number['isFinite'](_0x1027ae['animations'][_0x45d20a]['speed'])?_0x1027ae['animations'][_0x45d20a]['speed']:_0x1027ae['speed'];_0x5a6dbf=new Xh(_0x1027ae['animations'][_0x45d20a]['animTrack'],this['_timeInSta'+'te'],_0xdf31ad,!(-0x4ed*0x2+0x7a2*0x1+0x238*0x1),_0x1027ae['loop'],this['_eventHand'+'ler']),_0x5a6dbf['name']=_0x1027ae['animations'][_0x45d20a]['name'],this['_animEvalu'+'ator']['addClip'](_0x5a6dbf);}if(_0x434937['time']>-0x1*-0xbca+-0x18ab+0x15*0x9d?_0x5a6dbf['blendWeigh'+'t']=0x48+-0x355+0x47*0xb:_0x5a6dbf['blendWeigh'+'t']=_0x1027ae['animations'][_0x45d20a]['normalized'+'Weight'],_0x5a6dbf['play'](),_0x5e81fb)_0x5a6dbf['time']=_0x1027ae['timelineDu'+'ration']*_0x434937['transition'+'Offset'];else{const _0x5ea59b=_0x1027ae['speed']>=-0x2f*-0xd1+0x1a*-0x4f+0x1e59*-0x1?-0xd10+0x105b+-0x34b:this['activeStat'+'eDuration'];_0x5a6dbf['time']=_0x5ea59b;}}}['_transitio'+'nToState'](_0x20549e){if(!this['_findState'](_0x20549e))return;let _0x48c7ea=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x20549e);_0x48c7ea||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x48c7ea=new Yh({'from':null,'to':_0x20549e})),this['updateStat'+'eFromTrans'+'ition'](_0x48c7ea);}['assignAnim'+'ation'](_0x1e9cd5,_0x315041,_0x52c7f0,_0x1c0536){const _0x2e8af9=_0x1e9cd5['split']('.');let _0x4bb77f=this['_findState'](_0x2e8af9[-0xfeb+0x17f*-0x13+-0x204*-0x16]);_0x4bb77f||(_0x4bb77f=new eg(this,_0x2e8af9[-0x1*0x287+-0x1*0x1c82+0x46f*0x7],_0x52c7f0),this['_states'][_0x2e8af9[-0x65*0x4b+-0x1*-0x1e7+0x1bb0*0x1]]=_0x4bb77f,this['_stateName'+'s']['push'](_0x2e8af9[0x2345*-0x1+0x35*-0x5c+0xf*0x39f])),_0x4bb77f['addAnimati'+'on'](_0x2e8af9,_0x315041),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x4bb77f['name'],_0x315041),_0x52c7f0!==void(-0x1*-0x195e+-0x39*-0x4b+0x79*-0x59)&&(_0x4bb77f['speed']=_0x52c7f0),_0x1c0536!==void(0x472*-0x3+0x20a9+-0x1353)&&(_0x4bb77f['loop']=_0x1c0536),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(-0xa1*0x8+-0x16b3+0x1*0x1bbb);}['removeNode'+'Animations'](_0x17478c){if(jh['indexOf'](_0x17478c)!==-(0x10bf+0x541+-0x15ff))return!(-0x63*-0x2f+0x1*0x4b5+-0x16e1);const _0x2d0b0c=this['_findState'](_0x17478c);return _0x2d0b0c?(_0x2d0b0c['animations']=[],!(-0x1*-0xcea+0xa*0x10+-0xd8a*0x1)):(v['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x17478c),!(-0x9af+0x27*-0xb+0xb5d));}['play'](_0x34dcbb){_0x34dcbb&&this['_transitio'+'nToState'](_0x34dcbb),this['_playing']=!(0x530*0x1+-0x1cc4+-0x6*-0x3ee);}['pause'](){this['_playing']=!(-0x533*0x6+-0x736+0x2669);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=oo,this['_playing']=!(0x1*0x1273+0x12e0+-0x1*0x2552),this['_currTrans'+'itionTime']=0x1*0x16db+-0x138f*0x1+-0x34b,this['_totalTran'+'sitionTime']=-0x1f*-0x115+0x121f*0x1+-0x33a9,this['_isTransit'+'ioning']=!(0x1d*0x4+-0xba2+0xb2f),this['_timeInSta'+'te']=0x25*-0x4f+-0x1667+0x29a*0xd,this['_timeInSta'+'teBefore']=0x19*0x125+0xd6a+-0x2a07,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x10f6dc){if(!this['_playing'])return;let _0x29b24b,_0x44bcac,_0x116230;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x10f6dc*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x10f6dc=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x55a64e=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x55a64e&&this['updateStat'+'eFromTrans'+'ition'](_0x55a64e),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x10f6dc,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x162faf=this['_totalTran'+'sitionTime']!==-0x1*0x1505+0x47*-0x16+-0x1b1f*-0x1?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x8f+-0x2519+0x248b*0x1;for(let _0x1fdcf7=-0x16f*0x1+0x24e2+0x79*-0x4b;_0x1fdcf7<this['_transitio'+'nPreviousS'+'tates']['length'];_0x1fdcf7++){_0x29b24b=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x1fdcf7]['name']);const _0xb77f1=this['_transitio'+'nPreviousS'+'tates'][_0x1fdcf7]['weight'];for(let _0xf5bf8f=0x9*0xbd+-0x11*0x1d+-0x4b8;_0xf5bf8f<_0x29b24b['animations']['length'];_0xf5bf8f++)_0x44bcac=_0x29b24b['animations'][_0xf5bf8f],_0x116230=this['_animEvalu'+'ator']['findClip'](_0x44bcac['name']+'.previous.'+_0x1fdcf7),_0x116230&&(_0x116230['blendWeigh'+'t']=(-0x21e2+-0x2590*0x1+-0x27*-0x1d5-_0x162faf)*_0x44bcac['normalized'+'Weight']*_0xb77f1);}_0x29b24b=this['activeStat'+'e'];for(let _0x26f33f=0x20e+0x608+0x8a*-0xf;_0x26f33f<_0x29b24b['animations']['length'];_0x26f33f++)_0x44bcac=_0x29b24b['animations'][_0x26f33f],this['_animEvalu'+'ator']['findClip'](_0x44bcac['name'])['blendWeigh'+'t']=_0x162faf*_0x44bcac['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(0x24a3+-0x1*0x1cea+-0x98*0xd);const _0x2fa6dc=this['activeStat'+'eAnimation'+'s']['length'],_0x16c054=this['_animEvalu'+'ator']['clips']['length'];for(let _0x284d80=0x2*0xfdf+-0x83f+-0x177f;_0x284d80<_0x16c054-_0x2fa6dc;_0x284d80++)this['_animEvalu'+'ator']['removeClip'](0x754+0x13b0+-0x34*0x85);this['_transitio'+'nPreviousS'+'tates']=[],_0x29b24b=this['activeStat'+'e'];for(let _0x4a6681=-0x10c1*-0x1+-0x4*0x4f+0x1d*-0x89;_0x4a6681<_0x29b24b['animations']['length'];_0x4a6681++)_0x44bcac=_0x29b24b['animations'][_0x4a6681],_0x116230=this['_animEvalu'+'ator']['findClip'](_0x44bcac['name']),_0x116230&&(_0x116230['blendWeigh'+'t']=_0x44bcac['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==Uo){_0x29b24b=this['activeStat'+'e'];for(let _0x5b4472=-0xd70+-0x1a02+0x2772;_0x5b4472<_0x29b24b['animations']['length'];_0x5b4472++)_0x44bcac=_0x29b24b['animations'][_0x5b4472],_0x116230=this['_animEvalu'+'ator']['findClip'](_0x44bcac['name']),_0x116230&&(_0x116230['blendWeigh'+'t']=_0x44bcac['normalized'+'Weight'],_0x44bcac['parent']['syncAnimat'+'ions']&&(_0x116230['speed']=_0x44bcac['speed']));}}this['_animEvalu'+'ator']['update'](_0x10f6dc,this['activeStat'+'e']['hasAnimati'+'ons']);}}const Yd=new W(),ql=new T(),Ja=new Q(),eo=new Y(),to=new se();class mi extends Ji{constructor(_0x3de16c,_0x2c4a30,_0x314893,_0x598367,_0x25ef55){super(_0x2c4a30),this['animCompon'+'ent']=_0x3de16c,this['_mask']=_0x598367,this['layerName']=_0x314893,this['layerIndex']=_0x25ef55;}static['_packFloat'](_0x4d32d4){return _0x4d32d4[0x3bb*0x5+-0x2356+0x10af*0x1];}static['_packBoole'+'an'](_0x5a6361){return!!_0x5a6361[-0x1a45+-0x1*0xb5d+0x25a2];}static['_packVec2'](_0x2f94fc){return Yd['x']=_0x2f94fc[0x12da+-0x244e*0x1+0x1174],Yd['y']=_0x2f94fc[-0xf*-0x8e+0x1*-0xbf3+0x3a2],Yd;}static['_packVec3'](_0x15ec5d){return ql['x']=_0x15ec5d[0x14a7*-0x1+-0x7*-0x4+-0x148b*-0x1],ql['y']=_0x15ec5d[-0x1*0x1a5d+-0x33a*-0x4+0x6bb*0x2],ql['z']=_0x15ec5d[-0x176+-0x1004+0x117c],ql;}static['_packVec4'](_0xc6e435){return Ja['x']=_0xc6e435[0xcc*0x18+-0xbe7+-0x739*0x1],Ja['y']=_0xc6e435[0x3*-0x556+-0x7*0x8f+-0x9f6*-0x2],Ja['z']=_0xc6e435[0x8e*0x13+-0x1250+0x7c8],Ja['w']=_0xc6e435[0x1034+0x584+-0x15b5],Ja;}static['_packColor'](_0x377520){return eo['r']=_0x377520[-0x326+0x433+-0x10d],eo['g']=_0x377520[0x11*-0xca+0x14*-0x19c+0x2d9b*0x1],eo['b']=_0x377520[-0x1796+-0x5b*0xb+0x1*0x1b81],eo['a']=_0x377520[-0x2*0xf95+-0xf89+0x2eb6],eo;}static['_packQuat'](_0x2549b6){return to['x']=_0x2549b6[-0x10d*0x17+0x1e4a+-0x61f],to['y']=_0x2549b6[-0x8bb+0x1*0x1dd2+-0x1516],to['z']=_0x2549b6[-0x103*-0x17+-0x12d9+-0x46a],to['w']=_0x2549b6[-0x35*0x58+0xaf4+0x747],to;}['resolve'](_0x20604e){const _0x558aae=qr['encode'](_0x20604e['entityPath'],_0x20604e['component'],_0x20604e['propertyPa'+'th']);let _0x24e382=this['targetCach'+'e'][_0x558aae];if(_0x24e382)return _0x24e382;let _0x1be926,_0x4a5773,_0x171992;switch(_0x20604e['component']){case'entity':_0x1be926=this['_getEntity'+'FromHierar'+'chy'](_0x20604e['entityPath']),_0x171992=qr['encode'](_0x1be926['path'],'entity',_0x20604e['propertyPa'+'th']),_0x4a5773=_0x1be926;break;case'graph':if(_0x4a5773=this['findNode'](_0x20604e),!_0x4a5773)return null;_0x171992=qr['encode'](_0x4a5773['path'],'graph',_0x20604e['propertyPa'+'th']);break;default:if(_0x1be926=this['_getEntity'+'FromHierar'+'chy'](_0x20604e['entityPath']),_0x4a5773=_0x1be926['findCompon'+'ent'](_0x20604e['component']),!_0x4a5773)return null;_0x171992=qr['encode'](_0x1be926['path'],_0x20604e['component'],_0x20604e['propertyPa'+'th']);break;}return _0x24e382=this['_createAni'+'mTargetFor'+'Property'](_0x4a5773,_0x20604e['propertyPa'+'th'],_0x171992),this['targetCach'+'e'][_0x558aae]=_0x24e382,_0x24e382;}['update'](_0x5cbc77){const _0x884c29=this['activeNode'+'s'];if(_0x884c29){for(let _0x311398=-0x159c+-0x30b+0x18a7;_0x311398<_0x884c29['length'];_0x311398++)_0x884c29[_0x311398]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x1f990f){if(!this['animCompon'+'ent']['entity']['name']===_0x1f990f[0x2*0x649+-0x118b+0x4f9])return null;const _0x42888c=this['animCompon'+'ent']['entity'];return _0x1f990f['length']===0x15ff+-0x1b93+-0x595*-0x1?_0x42888c:_0x42888c['_parent']['findByPath'](_0x1f990f);}['_resolvePa'+'th'](_0x50b9e5,_0x44e1e1,_0x1fea81){const _0x29b581=_0x44e1e1['length']-(_0x1fea81?-0x4*-0x1e3+-0x21f6+0x1a6a:-0x2629+-0x1*0xc2+0x26ec);for(let _0x55bd67=-0x2*0x12f9+-0x17ad+0x277*0x19;_0x55bd67<_0x29b581;_0x55bd67++)_0x50b9e5=_0x50b9e5[_0x44e1e1[_0x55bd67]];return _0x50b9e5;}['_setter'](_0x55be4c,_0x163432,_0x353346){const _0x4008fb=this['_resolvePa'+'th'](_0x55be4c,_0x163432),_0xc197ce=_0x163432[_0x163432['length']-(0x1a30*-0x1+0x1b18*0x1+-0xe7)],_0x51dd19='set'+_0xc197ce['substring'](-0xa37+0x977*-0x1+-0x9d7*-0x2,0x20c4+0x1*0x343+-0x3a*0x9f)['toUpperCas'+'e']()+_0xc197ce['substring'](-0x88a+-0x2228+0x2ab3);if(_0x4008fb[_0x51dd19]){let _0x30c963=_0x4008fb['get'+_0xc197ce['substring'](0x1*-0x25d9+-0x237d+0x4956,-0x279+-0x1*0x563+-0x29f*-0x3)['toUpperCas'+'e']()+_0xc197ce['substring'](-0x2*-0x539+0x184c+-0x22bd)]['bind'](_0x4008fb)();_0x30c963=[_0x30c963['x'],_0x30c963['y'],_0x30c963['z'],_0x30c963['w']];const _0x3e15c3=_0x4008fb[_0x51dd19]['bind'](_0x4008fb);return{'set':_0x48178c=>{_0x3e15c3(_0x353346(_0x48178c));},'get':()=>_0x30c963};}const _0x4b22e4=_0x4008fb[_0xc197ce];if(typeof _0x4b22e4=='object'&&_0x4b22e4['hasOwnProp'+'erty']('copy'))return function(_0x456320){_0x4b22e4['copy'](_0x353346(_0x456320));};if([W,T,Q,Y,se]['indexOf'](_0x4008fb['constructo'+'r'])!==-(-0x1247*-0x1+-0x148b+0x245)&&_0x163432['length']>-0xcd6+0x53*-0x34+-0x1*-0x1db3){const _0x5d2c1d=_0x163432['length']>0x182*-0xa+0x10*0x20f+-0x11da?this['_resolvePa'+'th'](_0x55be4c,_0x163432['slice'](-0x1*0x232f+0xaca+0x1865,-(0xcc*-0x10+0xf*-0x25+-0x4*-0x3bb))):_0x55be4c,_0x1ac37e=_0x163432[_0x163432['length']-(0x88*-0x1+0x1126+-0x109c)];return function(_0x33bcba){_0x4008fb[_0xc197ce]=_0x353346(_0x33bcba),_0x5d2c1d[_0x1ac37e]=_0x4008fb;};}return function(_0x29da1e){_0x4008fb[_0xc197ce]=_0x353346(_0x29da1e);};}['_createAni'+'mTargetFor'+'Property'](_0x4f4e78,_0x176aa0,_0x19b116){if(this['handlers']&&_0x176aa0[-0x129c+-0x668+-0x2*-0xc82]['startsWith']('weight.'))return this['handlers']['weight'](_0x4f4e78,_0x176aa0[0x21fd+-0x11e6+-0x1017]['replace']('weight.',''));if(this['handlers']&&_0x176aa0[-0x1667+0x860+0xe07]==='material'&&_0x176aa0['length']===0xce0+-0x1*-0x200b+-0x2ce9*0x1){const _0x4b6333=_0x176aa0[-0x855+0x1d49+-0xad*0x1f];if(_0x4b6333['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x4f4e78,_0x4b6333);}const _0x3bcb27=this['_resolvePa'+'th'](_0x4f4e78,_0x176aa0,!(-0x35f*0x1+0x713*0x4+-0x1*0x18ed));if(typeof _0x3bcb27>'u')return null;let _0x495072,_0x51d114,_0x3d846d;if(typeof _0x3bcb27=='number')_0x495072=this['_setter'](_0x4f4e78,_0x176aa0,mi['_packFloat']),_0x51d114='vector',_0x3d846d=0x3e6*0x3+-0xa*-0x346+-0x2c6d;else{if(typeof _0x3bcb27=='boolean')_0x495072=this['_setter'](_0x4f4e78,_0x176aa0,mi['_packBoole'+'an']),_0x51d114='vector',_0x3d846d=-0x10b*-0x10+-0xb27+-0x3*0x1d8;else{if(typeof _0x3bcb27=='object')switch(_0x3bcb27['constructo'+'r']){case W:_0x495072=this['_setter'](_0x4f4e78,_0x176aa0,mi['_packVec2']),_0x51d114='vector',_0x3d846d=-0x26c9+0x3*-0x267+-0x100*-0x2e;break;case T:_0x495072=this['_setter'](_0x4f4e78,_0x176aa0,mi['_packVec3']),_0x51d114='vector',_0x3d846d=-0x268d+0x1ec0+0x7d0;break;case Q:_0x495072=this['_setter'](_0x4f4e78,_0x176aa0,mi['_packVec4']),_0x51d114='vector',_0x3d846d=-0x2*-0x10ef+0x8d3*-0x1+-0x1907;break;case Y:_0x495072=this['_setter'](_0x4f4e78,_0x176aa0,mi['_packColor']),_0x51d114='vector',_0x3d846d=0x303*-0x3+-0x1*0x13e5+-0xa*-0x2e5;break;case se:_0x495072=this['_setter'](_0x4f4e78,_0x176aa0,mi['_packQuat']),_0x51d114='quaternion',_0x3d846d=0x12*-0x21d+0x99a+0x1c74;break;default:return null;}}}return _0x176aa0['indexOf']('material')!==-(0x456*-0x1+-0x1bb1+0xcd*0x28)?new Zu(_0x5aca56=>{_0x495072(_0x5aca56),_0x4f4e78['material']['update']();},_0x51d114,_0x3d846d,_0x19b116):new Zu(_0x495072,_0x51d114,_0x3d846d,_0x19b116);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x4ac85c={},_0x568130=function(_0x20d592){_0x4ac85c[_0x20d592['name']]=_0x20d592;for(let _0x152887=0x1*-0x25d5+-0x24*-0x31+-0x59*-0x59;_0x152887<_0x20d592['children']['length'];++_0x152887)_0x568130(_0x20d592['children'][_0x152887]);};_0x568130(this['graph']),this['nodes']=_0x4ac85c;}}class WP{constructor(_0x312e65,_0x149886,_0x124de1,_0x8ee0cc=0x6a8+-0x1a56+-0x1*-0x13af,_0x5e2671=X0){c(this,'_name'),c(this,'_controlle'+'r'),c(this,'_component'),c(this,'_weight'),c(this,'_blendType'),c(this,'_mask',null),c(this,'_blendTime',-0x1d0+-0x11*-0x142+-0x1392),c(this,'_blendTime'+'Elapsed',-0x1*-0xa58+-0x11*0x223+0x19fb),c(this,'_startingW'+'eight',-0xe*-0x1cd+-0x240c+0xad6*0x1),c(this,'_targetWei'+'ght',-0x90f+-0x6d*-0x17+-0xbc),(this['_name']=_0x312e65,this['_controlle'+'r']=_0x149886,this['_component']=_0x124de1,this['_weight']=_0x8ee0cc,this['_blendType']=_0x5e2671);}get['name'](){return this['_name'];}set['playing'](_0x178b00){this['_controlle'+'r']['playing']=_0x178b00;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x278b8b){const _0x9b494c=this['_controlle'+'r'],_0x488d40=_0x9b494c['playing'];_0x9b494c['playing']=!(-0x663+0xbf9+0x5*-0x11e),_0x9b494c['activeStat'+'eCurrentTi'+'me']=_0x278b8b,_0x488d40||_0x9b494c['update'](-0x3*0x1a3+0x9a0+0x4b7*-0x1),_0x9b494c['playing']=_0x488d40;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x4d0f83){this['_weight']=_0x4d0f83,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x2c569e){_0x2c569e!==this['_blendType']&&(this['_blendType']=_0x2c569e,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x470331){this['_controlle'+'r']['assignMask'](_0x470331)&&this['_component']['rebind'](),this['_mask']=_0x470331;}get['mask'](){return this['_mask'];}['play'](_0x1f5fb1){this['_controlle'+'r']['play'](_0x1f5fb1);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x1f6cb2){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=N['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x1f6cb2):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=-0x59f*-0x4+0x1f39+-0x35b5,this['_blendTime'+'Elapsed']=0xd22+-0x5*-0x5e9+0x7*-0x619,this['_startingW'+'eight']=0x24*-0x54+-0xb24*0x2+-0x4*-0x886,this['_targetWei'+'ght']=0x1*-0x9f+-0xad0+0xb6f)),this['_controlle'+'r']['update'](_0x1f6cb2);}['blendToWei'+'ght'](_0x48aee8,_0x5e3fdc){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x48aee8,this['_blendTime']=Math['max'](0x4*-0x567+0x17*0xc1+0x1*0x445,_0x5e3fdc),this['_blendTime'+'Elapsed']=-0x18ef+0xc2e+0x1*0xcc1;}['assignAnim'+'ation'](_0x2cc284,_0x4d248d,_0x126952,_0x395b43){if(!(_0x4d248d instanceof Ri)){v['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x2cc284,_0x4d248d,_0x126952,_0x395b43),this['_controlle'+'r']['_transitio'+'ns']['length']===-0x2207*0x1+-0x1032+-0x3239*-0x1&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Yh({'from':'START','to':_0x2cc284})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(-0x198c+-0x521*0x4+0xb84*0x4));}['removeNode'+'Animations'](_0xde9f10){this['_controlle'+'r']['removeNode'+'Animations'](_0xde9f10)&&(this['_component']['playing']=!(0x9f2+-0x2b0+-0x741));}['getAnimati'+'onAsset'](_0x36cb51){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x36cb51];}['transition'](_0x4febb2,_0x544a39=-0x7f*0x11+0x48*-0x4c+0x1dcf,_0x2736a5=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Yh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x4febb2,'time':_0x544a39,'transitionOffset':_0x2736a5}));}}class mh{constructor(_0x376c6a){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x376c6a['layers']))this['_layers']=_0x376c6a['layers'];else for(const _0x6d66fc in _0x376c6a['layers']){const _0x3f37ed=_0x376c6a['layers'][_0x6d66fc],_0x3fcd78={'name':_0x3f37ed['name'],'blendType':_0x3f37ed['blendType'],'weight':_0x3f37ed['weight'],'states':[],'transitions':[]};for(let _0x2f7a33=-0x2463+0xbf6*-0x2+0x3c4f;_0x2f7a33<_0x3f37ed['states']['length'];_0x2f7a33++)_0x3fcd78['states']['push'](_0x376c6a['states'][_0x3f37ed['states'][_0x2f7a33]]);for(let _0x115ec7=-0x24e9+0x2231+0x74*0x6;_0x115ec7<_0x3f37ed['transition'+'s']['length'];_0x115ec7++){const _0x2fe5b5=_0x376c6a['transition'+'s'][_0x3f37ed['transition'+'s'][_0x115ec7]];if(_0x2fe5b5['conditions']&&!Array['isArray'](_0x2fe5b5['conditions'])){const _0x1fd6c3=Object['keys'](_0x2fe5b5['conditions']),_0x5714eb=[];for(let _0x4a3b9e=0x14*-0x1f3+-0x1*0x199+0x2895*0x1;_0x4a3b9e<_0x1fd6c3['length'];_0x4a3b9e++){const _0x151232=_0x2fe5b5['conditions'][_0x1fd6c3[_0x4a3b9e]];_0x151232['parameterN'+'ame']&&_0x5714eb['push'](_0x151232);}_0x2fe5b5['conditions']=_0x5714eb;}Number['isInteger'](_0x2fe5b5['from'])&&(_0x2fe5b5['from']=_0x376c6a['states'][_0x2fe5b5['from']]['name']),Number['isInteger'](_0x2fe5b5['to'])&&(_0x2fe5b5['to']=_0x376c6a['states'][_0x2fe5b5['to']]['name']),_0x3fcd78['transition'+'s']['push'](_0x2fe5b5);}this['_layers']['push'](_0x3fcd78);}for(const _0x45091c in _0x376c6a['parameters']){const _0x12bb8b=_0x376c6a['parameters'][_0x45091c];this['_parameter'+'s'][_0x12bb8b['name']]={'type':_0x12bb8b['type'],'value':_0x12bb8b['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class Z0 extends ue{constructor(){super(...arguments),c(this,'_stateGrap'+'hAsset',null),c(this,'_animation'+'Assets',{}),c(this,'_speed',0x1*-0x16a1+0x1*0x1af8+0x1*-0x456),c(this,'_activate',!(0x97b+0x5e+-0x9d9)),c(this,'_playing',!(0x105e+0x8e5+-0x1942)),c(this,'_rootBone',null),c(this,'_stateGrap'+'h',null),c(this,'_layers',[]),c(this,'_layerIndi'+'ces',{}),c(this,'_parameter'+'s',{}),c(this,'_targets',{}),c(this,'_consumedT'+'riggers',new Set()),c(this,'_normalize'+'Weights',!(-0x1*0x8df+0x3*-0x23f+-0x7*-0x23b)),c(this,'findParame'+'ter',_0x5cfdb1=>this['_parameter'+'s'][_0x5cfdb1]),c(this,'consumeTri'+'gger',_0x340fa0=>{this['_consumedT'+'riggers']['add'](_0x340fa0);});}set['stateGraph'+'Asset'](_0x3ac556){if(_0x3ac556===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x39dd55,_0xf46868;_0x3ac556 instanceof le?(_0x39dd55=_0x3ac556['id'],_0xf46868=this['system']['app']['assets']['get'](_0x39dd55),_0xf46868||(this['system']['app']['assets']['add'](_0x3ac556),_0xf46868=this['system']['app']['assets']['get'](_0x39dd55))):(_0x39dd55=_0x3ac556,_0xf46868=this['system']['app']['assets']['get'](_0x39dd55)),!(!_0xf46868||this['_stateGrap'+'hAsset']===_0x39dd55)&&(_0xf46868['resource']?(this['_stateGrap'+'h']=_0xf46868['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0xf46868['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0xf46868['once']('load',_0x12f780=>{this['_stateGrap'+'h']=_0x12f780['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0xf46868['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0xf46868)),this['_stateGrap'+'hAsset']=_0x39dd55);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x3bf338){this['_normalize'+'Weights']=_0x3bf338,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0xa3c9bb){this['_animation'+'Assets']=_0xa3c9bb,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x1522da){this['_speed']=_0x1522da;}get['speed'](){return this['_speed'];}set['activate'](_0xdd511){this['_activate']=_0xdd511;}get['activate'](){return this['_activate'];}set['playing'](_0x1d987c){this['_playing']=_0x1d987c;}get['playing'](){return this['_playing'];}set['rootBone'](_0x30e7e6){if(typeof _0x30e7e6=='string'){const _0x1a7946=this['entity']['root']['findByGuid'](_0x30e7e6);v['assert'](_0x1a7946,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x30e7e6+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x1a7946;}else _0x30e7e6 instanceof We?this['_rootBone']=_0x30e7e6:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x1fdd00){this['_stateGrap'+'h']=_0x1fdd00;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x46f65f){this['_layerIndi'+'ces']=_0x46f65f;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0xcefb7a){this['_parameter'+'s']=_0xcefb7a;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x140b93){this['_targets']=_0x140b93;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x1d3e8a=-0x2*0x942+-0x1ffd*-0x1+-0x1*0xd79;_0x1d3e8a<this['_layers']['length'];_0x1d3e8a++)if(!this['_layers'][_0x1d3e8a]['playable'])return!(0x26d3*-0x1+0x9d9+0x1cfb);return!(-0xa03*-0x1+-0x2*-0xb7b+-0x20f9*0x1);}get['baseLayer'](){return this['_layers']['length']>0xb32+-0x1456*0x1+0x924?this['_layers'][0x8ba+0xb53+-0x140d]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x5c6249){const _0x3ff810=this['animationA'+'ssets'],_0x31be7b=this['layers']['map'](_0x4c38ad=>_0x4c38ad['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new mh(_0x5c6249['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x3ff810,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x3f7d8c,_0x14f734)=>{_0x3f7d8c['mask']=_0x31be7b[_0x14f734];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x523e16=Object['values'](this['_targets']);for(let _0xa8b447=-0x3*0x977+0x9fd+-0x4c*-0x3e;_0xa8b447<_0x523e16['length'];_0xa8b447++)_0x523e16[_0xa8b447]['dirty']=!(0x1c*-0x10a+-0x1ba*-0x8+0xf48);}['_addLayer']({name:_0x39b55b,states:_0x1d294c,transitions:_0x24b740,weight:_0x138cc2,mask:_0x13e3a2,blendType:_0x29c3f8}){let _0x403542;this['rootBone']?_0x403542=this['rootBone']:_0x403542=this['entity'];const _0x41f93b=this['_layers']['length'],_0x4fb5b8=new mi(this,_0x403542,_0x39b55b,_0x13e3a2,_0x41f93b),_0x1655d9=new j0(_0x4fb5b8),_0x339da8=new HP(_0x1655d9,_0x1d294c,_0x24b740,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new WP(_0x39b55b,_0x339da8,this,_0x138cc2,_0x29c3f8)),this['_layerIndi'+'ces'][_0x39b55b]=_0x41f93b,this['_layers'][_0x41f93b];}['addLayer'](_0x5d2963,_0x430ae9,_0x58c8c7,_0x6709e1){const _0x5c86df=this['findAnimat'+'ionLayer'](_0x5d2963);if(_0x5c86df)return _0x5c86df;const _0x3637c3=[{'name':'START','speed':0x1}],_0x45f320=[];return this['_addLayer']({'name':_0x5d2963,'states':_0x3637c3,'transitions':_0x45f320,'weight':_0x430ae9,'mask':_0x58c8c7,'blendType':_0x6709e1});}['_assignPar'+'ameters'](_0x302cbe){this['_parameter'+'s']={};const _0x6fa373=Object['keys'](_0x302cbe['parameters']);for(let _0x3bab04=0x2660+-0x177e+-0xee2;_0x3bab04<_0x6fa373['length'];_0x3bab04++){const _0x2e7bd0=_0x6fa373[_0x3bab04];this['_parameter'+'s'][_0x2e7bd0]={'type':_0x302cbe['parameters'][_0x2e7bd0]['type'],'value':_0x302cbe['parameters'][_0x2e7bd0]['value']};}}['loadStateG'+'raph'](_0x52656a){this['_stateGrap'+'h']=_0x52656a,this['_assignPar'+'ameters'](_0x52656a),this['_layers']=[];let _0x4ea4a9=!(0x20d0+-0x1*0x147a+0x11f*-0xb);for(let _0x2d1c4d=-0x15e1*-0x1+0x125c+-0x283d;_0x2d1c4d<_0x52656a['layers']['length'];_0x2d1c4d++){const _0xd7d58e=_0x52656a['layers'][_0x2d1c4d];this['_addLayer']({..._0xd7d58e}),_0xd7d58e['states']['some'](_0x3ae4e6=>_0x3ae4e6['blendTree'])&&(_0x4ea4a9=!(-0x2*-0x811+-0xdab+-0x277));}_0x4ea4a9||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x30e8f8=-0xcdb*-0x3+-0x3ff*0x5+0x319*-0x6;_0x30e8f8<this['_layers']['length'];_0x30e8f8++){const _0x5c4f98=this['_layers'][_0x30e8f8],_0x41f21a=_0x5c4f98['name'];for(let _0x36e3d3=0x7*0x589+0x1*0xac+0x1*-0x276b;_0x36e3d3<_0x5c4f98['states']['length'];_0x36e3d3++){const _0x11ec68=_0x5c4f98['states'][_0x36e3d3];if(jh['indexOf'](_0x11ec68)===-(0xc52+0x80+0xc1*-0x11)){const _0x4eeaca=_0x41f21a+':'+_0x11ec68;this['_animation'+'Assets'][_0x4eeaca]||(this['_animation'+'Assets'][_0x4eeaca]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x248e2a=0x30*0x2a+-0x94*0x17+0x56c;_0x248e2a<this['_layers']['length'];_0x248e2a++){const _0x3847dd=this['_layers'][_0x248e2a];for(let _0xa1546b=0x1*0xe95+-0x1*0x263b+-0x7e2*-0x3;_0xa1546b<_0x3847dd['states']['length'];_0xa1546b++){const _0x26fd78=_0x3847dd['states'][_0xa1546b];if(jh['indexOf'](_0x26fd78)!==-(0x3*-0x2d7+-0x1c5+0x11*0x9b))continue;const _0x3dad4e=this['_animation'+'Assets'][_0x3847dd['name']+':'+_0x26fd78];if(!_0x3dad4e||!_0x3dad4e['asset']){this['findAnimat'+'ionLayer'](_0x3847dd['name'])['assignAnim'+'ation'](_0x26fd78,Ri['EMPTY']);continue;}const _0xc8c481=_0x3dad4e['asset'],_0x1513da=this['system']['app']['assets']['get'](_0xc8c481);_0x1513da&&(_0x1513da['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x3847dd['name'],_0x26fd78,_0x1513da):(_0x1513da['once']('load',function(_0x47e42c,_0x105f76){return function(_0x35c214){this['onAnimatio'+'nAssetLoad'+'ed'](_0x47e42c,_0x105f76,_0x35c214);}['bind'](this);}['bind'](this)(_0x3847dd['name'],_0x26fd78)),this['system']['app']['assets']['load'](_0x1513da)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x36c9bc,_0x128630,_0xe99078){this['findAnimat'+'ionLayer'](_0x36c9bc)['assignAnim'+'ation'](_0x128630,_0xe99078['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(0x134f+0x2d*0xc5+0x1*-0x35ef),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x563a5f=-0x1a12+0x1ef*-0xd+0x3335;_0x563a5f<this['_layers']['length'];_0x563a5f++){const _0x3da0b0=this['_layers'][_0x563a5f]['playing'];this['_layers'][_0x563a5f]['reset'](),this['_layers'][_0x563a5f]['playing']=_0x3da0b0;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x125e7c=>{this['_targets'][_0x125e7c]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x4a802b=-0xd24*-0x2+0x2*0x310+0x22*-0xf4;_0x4a802b<this['_layers']['length'];_0x4a802b++)this['_layers'][_0x4a802b]['rebind']();}['findAnimat'+'ionLayer'](_0x2d088e){const _0x23ea1c=this['_layerIndi'+'ces'][_0x2d088e];return this['_layers'][_0x23ea1c]||null;}['addAnimati'+'onState'](_0x3bc88b,_0x12716f,_0x34dc0b=-0x2486+-0xcd2+0x3159,_0x3db329=!(-0x3*0x101+-0xc2a+0xf2d),_0x27c4fc='Base'){var _0x4a6a7c;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new mh({'layers':[{'name':_0x27c4fc,'states':[{'name':'START','speed':0x1},{'name':_0x3bc88b,'speed':_0x34dc0b,'loop':_0x3db329,'defaultState':!(0x1*0x21e9+0xec6+-0x30af)}],'transitions':[{'from':'START','to':_0x3bc88b}]}],'parameters':{}}));const _0x5dd783=this['findAnimat'+'ionLayer'](_0x27c4fc);_0x5dd783?_0x5dd783['assignAnim'+'ation'](_0x3bc88b,_0x12716f,_0x34dc0b,_0x3db329):(_0x4a6a7c=this['addLayer'](_0x27c4fc))==null||_0x4a6a7c['assignAnim'+'ation'](_0x3bc88b,_0x12716f,_0x34dc0b,_0x3db329);}['assignAnim'+'ation'](_0x2ea150,_0x40ac48,_0x1e03ee,_0x4231b5=-0x4d*-0x49+0x115e+-0x2752,_0x3ff3c9=!(0x1*-0x5d5+0x1938*-0x1+0x1f0d)){if(!this['_stateGrap'+'h']&&_0x2ea150['indexOf']('.')===-(0x258*0x9+0xa7*0x3b+-0x3b94)){this['loadStateG'+'raph'](new mh({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x2ea150,'speed':_0x4231b5,'loop':_0x3ff3c9,'defaultState':!(0x1087+0x4*-0x3df+-0x59*0x3)}],'transitions':[{'from':'START','to':_0x2ea150}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x2ea150,_0x40ac48);return;}const _0x17f481=_0x1e03ee?this['findAnimat'+'ionLayer'](_0x1e03ee):this['baseLayer'];if(!_0x17f481){v['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x17f481['assignAnim'+'ation'](_0x2ea150,_0x40ac48,_0x4231b5,_0x3ff3c9);}['removeNode'+'Animations'](_0x1d20c0,_0x13e337){const _0x2f58f4=_0x13e337?this['findAnimat'+'ionLayer'](_0x13e337):this['baseLayer'];if(!_0x2f58f4){v['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x2f58f4['removeNode'+'Animations'](_0x1d20c0);}['getParamet'+'erValue'](_0x3f15db,_0x565f95){const _0xddf1d=this['_parameter'+'s'][_0x3f15db];if(_0xddf1d&&_0xddf1d['type']===_0x565f95)return _0xddf1d['value'];v['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x3f15db+('\x22\x20of\x20type\x20'+'\x22')+_0x565f95+'\x22');}['setParamet'+'erValue'](_0x1ec9c4,_0x5a4776,_0x1f9d04){const _0x22b6dd=this['_parameter'+'s'][_0x1ec9c4];if(_0x22b6dd&&_0x22b6dd['type']===_0x5a4776){_0x22b6dd['value']=_0x1f9d04;return;}v['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x1ec9c4+('\x22\x20of\x20type\x20'+'\x22')+_0x5a4776+'\x22');}['getFloat'](_0x594717){return this['getParamet'+'erValue'](_0x594717,Q_);}['setFloat'](_0x46810c,_0xb687c5){this['setParamet'+'erValue'](_0x46810c,Q_,_0xb687c5);}['getInteger'](_0x42faf7){return this['getParamet'+'erValue'](_0x42faf7,Z_);}['setInteger'](_0x45a2ff,_0x2e9f54){typeof _0x2e9f54=='number'&&_0x2e9f54%(0xcbe+-0x22c1+-0x2*-0xb02)===-0x1a9c+-0x21*-0x25+0x15d7*0x1?this['setParamet'+'erValue'](_0x45a2ff,Z_,_0x2e9f54):v['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x45a2ff,_0x2e9f54);}['getBoolean'](_0x4ca04b){return this['getParamet'+'erValue'](_0x4ca04b,J_);}['setBoolean'](_0x1b0563,_0xe43ec9){this['setParamet'+'erValue'](_0x1b0563,J_,!!_0xe43ec9);}['getTrigger'](_0x9019b5){return this['getParamet'+'erValue'](_0x9019b5,ph);}['setTrigger'](_0x36b160,_0x43b848=!(-0xb94*-0x2+0x2*0xb44+0x5*-0x923)){this['setParamet'+'erValue'](_0x36b160,ph,!(-0xa*0x175+0x10a1+-0x20f)),_0x43b848&&this['_consumedT'+'riggers']['add'](_0x36b160);}['resetTrigg'+'er'](_0x2e8749){this['setParamet'+'erValue'](_0x2e8749,ph,!(0x13b5+0xb40*-0x1+0x874*-0x1));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x2c0494){for(let _0xa6ab9d=0x668+0x13*0x15+-0x7f7;_0xa6ab9d<this['layers']['length'];_0xa6ab9d++)this['layers'][_0xa6ab9d]['update'](_0x2c0494*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x226de6=>{this['parameters'][_0x226de6]['value']=!(-0x7*-0x2ab+0x2*0x64c+0xae*-0x2e);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xe27cd5,_0x69a626){_0xe27cd5['rootBone']&&_0x69a626[_0xe27cd5['rootBone']['getGuid']()]?this['rootBone']=_0x69a626[_0xe27cd5['rootBone']['getGuid']()]:this['rebind']();}}class $P{constructor(){this['enabled']=!(0x151*-0xd+-0x47e*0x4+0x2315);}}const tf=['enabled'];class qP extends Xe{constructor(_0x19bcca){super(_0x19bcca),this['id']='anim',this['ComponentT'+'ype']=Z0,this['DataType']=$P,this['schema']=tf,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x2472a2,_0x4a6010,_0x71f442){super['initialize'+'ComponentD'+'ata'](_0x2472a2,_0x4a6010,tf);const _0x28a797=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x4a6010)['forEach'](_0x372b3b=>{_0x28a797['includes'](_0x372b3b)||(_0x2472a2[_0x372b3b]=_0x4a6010[_0x372b3b]);}),_0x4a6010['stateGraph']&&(_0x2472a2['stateGraph']=_0x4a6010['stateGraph'],_0x2472a2['loadStateG'+'raph'](_0x2472a2['stateGraph'])),_0x4a6010['layers']&&_0x4a6010['layers']['forEach']((_0x1ead33,_0x5d4ffd)=>{_0x1ead33['_controlle'+'r']['states']['forEach'](_0x1d2b27=>{_0x1ead33['_controlle'+'r']['_states'][_0x1d2b27]['_animation'+'List']['forEach'](_0x46cc54=>{if(!_0x46cc54['animTrack']||_0x46cc54['animTrack']===Ri['EMPTY']){const _0x1cf27d=this['app']['assets']['get'](_0x1ead33['_component']['_animation'+'Assets'][_0x1ead33['name']+':'+_0x46cc54['name']]['asset']);_0x1cf27d&&!_0x1cf27d['loaded']&&_0x1cf27d['once']('load',()=>{_0x2472a2['layers'][_0x5d4ffd]['assignAnim'+'ation'](_0x46cc54['name'],_0x1cf27d['resource']);});}else _0x2472a2['layers'][_0x5d4ffd]['assignAnim'+'ation'](_0x46cc54['name'],_0x46cc54['animTrack']);});});}),_0x4a6010['animationA'+'ssets']&&(_0x2472a2['animationA'+'ssets']=Object['assign'](_0x2472a2['animationA'+'ssets'],_0x4a6010['animationA'+'ssets'])),_0x4a6010['masks']&&Object['keys'](_0x4a6010['masks'])['forEach'](_0xf3ad5b=>{if(_0x2472a2['layers'][_0xf3ad5b]){const _0x431576=_0x4a6010['masks'][_0xf3ad5b]['mask'],_0x457876={};Object['keys'](_0x431576)['forEach'](_0x507dd9=>{_0x457876[decodeURI(_0x507dd9)]=_0x431576[_0x507dd9];}),_0x2472a2['layers'][_0xf3ad5b]['mask']=_0x457876;}});}['onAnimatio'+'nUpdate'](_0x5baebe){const _0x30956b=this['store'];for(const _0x1f91bd in _0x30956b)if(_0x30956b['hasOwnProp'+'erty'](_0x1f91bd)){const _0x429650=_0x30956b[_0x1f91bd]['entity']['anim'];_0x429650['data']['enabled']&&_0x429650['entity']['enabled']&&_0x429650['playing']&&_0x429650['update'](_0x5baebe);}}['cloneCompo'+'nent'](_0x404f9c,_0x35ba15){let _0xfe0499;(!_0x404f9c['anim']['rootBone']||_0x404f9c['anim']['rootBone']===_0x404f9c)&&(_0xfe0499={},_0x404f9c['anim']['layers']['forEach']((_0x5a718f,_0x30efc4)=>{if(_0x5a718f['mask']){const _0x35b627={};Object['keys'](_0x5a718f['mask'])['forEach'](_0x56be33=>{const _0x3fbdac=_0x56be33['split']('/');_0x3fbdac['shift']();const _0x3c0098=[_0x35ba15['name'],..._0x3fbdac]['join']('/');_0x35b627[_0x3c0098]=_0x5a718f['mask'][_0x56be33];}),_0xfe0499[_0x30efc4]={'mask':_0x35b627};}}));const _0x509eed={'enabled':_0x404f9c['anim']['enabled'],'stateGraphAsset':_0x404f9c['anim']['stateGraph'+'Asset'],'animationAssets':_0x404f9c['anim']['animationA'+'ssets'],'speed':_0x404f9c['anim']['speed'],'activate':_0x404f9c['anim']['activate'],'playing':_0x404f9c['anim']['playing'],'rootBone':_0x404f9c['anim']['rootBone'],'stateGraph':_0x404f9c['anim']['stateGraph'],'layers':_0x404f9c['anim']['layers'],'layerIndices':_0x404f9c['anim']['layerIndic'+'es'],'parameters':_0x404f9c['anim']['parameters'],'normalizeWeights':_0x404f9c['anim']['normalizeW'+'eights'],'masks':_0xfe0499};return this['addCompone'+'nt'](_0x35ba15,_0x509eed);}['onBeforeRe'+'move'](_0x4e0542,_0x1a207f){_0x1a207f['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}ue['_buildAcce'+'ssors'](Z0['prototype'],tf);class Q0 extends ue{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x5f580d=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x5f580d);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class XP{constructor(){this['enabled']=!(0xc*0xd1+0x17*0x112+-0x226a);}}const J0=['enabled'];class jP extends Xe{constructor(_0x49437f){super(_0x49437f),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Q0,this['DataType']=XP,this['schema']=J0,this['manager']=_0x49437f['soundManag'+'er'],v['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x216731,_0xf44e1c,_0x56f959){_0x56f959=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x216731,_0xf44e1c,_0x56f959);}['onUpdate'](_0x1fcb48){if(this['current']){const _0x3d9de6=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x3d9de6);const _0x192a0f=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x192a0f);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Q0['prototype'],J0);const sf=-0x2*0xa8d+0x1d93*-0x1+0x32ad,tg=0x16fa*0x1+0x2166+-0x385f,_h='group',rf='image',ex='text',gh='stretch',YP='contain',KP='cover',Ye={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},hl={};hl[Ye['DEFAULT']]='_defaultTi'+'nt',hl[Ye['HOVER']]='hoverTint',hl[Ye['PRESSED']]='pressedTin'+'t',hl[Ye['INACTIVE']]='inactiveTi'+'nt';const cl={};cl[Ye['DEFAULT']]='_defaultSp'+'riteAsset',cl[Ye['HOVER']]='hoverSprit'+'eAsset',cl[Ye['PRESSED']]='pressedSpr'+'iteAsset',cl[Ye['INACTIVE']]='inactiveSp'+'riteAsset';const dl={};dl[Ye['DEFAULT']]='_defaultSp'+'riteFrame',dl[Ye['HOVER']]='hoverSprit'+'eFrame',dl[Ye['PRESSED']]='pressedSpr'+'iteFrame',dl[Ye['INACTIVE']]='inactiveSp'+'riteFrame';class ct extends ue{constructor(_0x2b2d71,_0x2c3881){super(_0x2b2d71,_0x2c3881),c(this,'_visualSta'+'te',Ye['DEFAULT']),c(this,'_isHoverin'+'g',!(-0x1167+0x1685+-0x51d)),c(this,'_hoveringC'+'ounter',-0x1*0x104c+0x146b+-0x41f),c(this,'_isPressed',!(0x1250*-0x2+-0x3*0x1cf+0x602*0x7)),c(this,'_defaultTi'+'nt',new Y(-0x9a4+-0xe97+0x183c,-0x3*-0x829+0xe53+-0x2b*0xe7,0x2411+-0x1*0x1bef+0x1*-0x821,-0x1*0x1a03+-0x2*0x17+0x1a32)),c(this,'_defaultSp'+'riteAsset',null),c(this,'_defaultSp'+'riteFrame',0xe11+0x1f4f+-0x2d60),c(this,'_imageEnti'+'ty',null),c(this,'_evtElemen'+'tAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),c(this,'_evtImageE'+'ntityEleme'+'ntColor',null),c(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=Ye['DEFAULT'],this['_isHoverin'+'g']=!(0xbb6*-0x3+0x2d*-0x9b+0x3e62),this['_hoveringC'+'ounter']=-0xc*0xde+-0x1055+0x1*0x1abd,this['_isPressed']=!(0x3*-0x724+-0x1335*-0x2+-0x10fd),this['_defaultTi'+'nt']=new Y(0x2686+0x1878+0xd7*-0x4b,-0x2*-0x1be+-0x1*0x23a1+0x2026,-0xf5a+-0x1*0x1945+0x28a0,0x1*-0x12a+-0x5a*-0x1+0xd1),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=-0x625+-0x1fae+-0x25d3*-0x1,this['_toggleLif'+'ecycleList'+'eners']('on',_0x2b2d71));}get['data'](){const _0x2785a4=this['system']['store'][this['entity']['getGuid']()];return _0x2785a4?_0x2785a4['data']:null;}set['enabled'](_0x253643){this['_setValue']('enabled',_0x253643);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x440c55){this['_setValue']('active',_0x440c55);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x25836d){if(this['_imageEnti'+'ty']!==_0x25836d){const _0x339b5a=typeof _0x25836d=='string';if(this['_imageEnti'+'ty']&&_0x339b5a&&this['_imageEnti'+'ty']['getGuid']()===_0x25836d)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x25836d instanceof De?this['_imageEnti'+'ty']=_0x25836d:_0x339b5a?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x25836d)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x339b5a&&_0x25836d&&(this['data']['imageEntit'+'y']=_0x25836d);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x3baf11){this['_setValue']('hitPadding',_0x3baf11);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0xcbeaed){this['_setValue']('transition'+'Mode',_0xcbeaed);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x70fa8){this['_setValue']('hoverTint',_0x70fa8);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x572e08){this['_setValue']('pressedTin'+'t',_0x572e08);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x1bc608){this['_setValue']('inactiveTi'+'nt',_0x1bc608);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x288c15){this['_setValue']('fadeDurati'+'on',_0x288c15);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x36fbfa){this['_setValue']('hoverSprit'+'eAsset',_0x36fbfa);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x65352e){this['_setValue']('hoverSprit'+'eFrame',_0x65352e);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x3cb266){this['_setValue']('pressedSpr'+'iteAsset',_0x3cb266);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x292714){this['_setValue']('pressedSpr'+'iteFrame',_0x292714);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x22264c){this['_setValue']('inactiveSp'+'riteAsset',_0x22264c);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x4dc509){this['_setValue']('inactiveSp'+'riteFrame',_0x4dc509);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0xbb072c,_0x60208e){const _0x239b7c=this['data'],_0x2010fd=_0x239b7c[_0xbb072c];_0x239b7c[_0xbb072c]=_0x60208e,this['fire']('set',_0xbb072c,_0x2010fd,_0x60208e);}['_toggleLif'+'ecycleList'+'eners'](_0xbd2351,_0x1881da){var _0x1780a1;this[_0xbd2351]('set_active',this['_onSetActi'+'ve'],this),this[_0xbd2351]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0xbd2351]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0xbd2351]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0xbd2351]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0xbd2351]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0xbd2351]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0xbd2351]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0xbd2351]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0xbd2351]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0xbd2351]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0xbd2351==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x1780a1=this['_evtElemen'+'tAdd'])==null||_0x1780a1['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x4e5360,_0x2dac89,_0x753fbc){_0x2dac89!==_0x753fbc&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x3470d1,_0x4498f8,_0x5072be){_0x4498f8!==_0x5072be&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x4498f8),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x456164,_0x5e6a36,_0x8b1cd3){_0x5e6a36!==_0x8b1cd3&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x101265,_0x2aad21;(_0x101265=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x101265['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x2aad21=this['_imageEnti'+'ty'])!=null&&_0x2aad21['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x5d84d2=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x5d84d2['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x5d84d2['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x5d84d2['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x5d84d2['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x5d84d2['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x4513dd,_0x5884d4,_0x279640,_0x26325d,_0x29ae48;(_0x4513dd=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x4513dd['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x5884d4=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x5884d4['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x279640=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x279640['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x26325d=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x26325d['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x29ae48=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x29ae48['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x58e208){if(this['entity']['element']){const _0x4b4842=_0x58e208==='on';if(_0x4b4842&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x58e208]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x58e208]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x58e208]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x58e208]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x58e208]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x58e208]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x58e208]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x58e208]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x58e208]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x58e208]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x58e208]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x58e208]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x58e208]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x58e208]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x4b4842;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x2423a0;const _0xac246b=(_0x2423a0=this['_imageEnti'+'ty'])==null?void(-0x1064*-0x2+0x2*0x62c+-0x2d20):_0x2423a0['element'];!_0xac246b||_0xac246b['type']===_h||(this['_storeDefa'+'ultColor'](_0xac246b['color']),this['_storeDefa'+'ultOpacity'](_0xac246b['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0xac246b['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0xac246b['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x16895b){this['_defaultTi'+'nt']['r']=_0x16895b['r'],this['_defaultTi'+'nt']['g']=_0x16895b['g'],this['_defaultTi'+'nt']['b']=_0x16895b['b'];}['_storeDefa'+'ultOpacity'](_0x53a73f){this['_defaultTi'+'nt']['a']=_0x53a73f;}['_storeDefa'+'ultSpriteA'+'sset'](_0xe3573e){this['_defaultSp'+'riteAsset']=_0xe3573e;}['_storeDefa'+'ultSpriteF'+'rame'](_0x211061){this['_defaultSp'+'riteFrame']=_0x211061;}['_onSetColo'+'r'](_0x3c7715){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x3c7715),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x27706b){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x27706b),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x32651c){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x32651c),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x38aba6){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x38aba6),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x4e71ba){this['_isHoverin'+'g']=!(0x65*0x39+-0x1a4+-0x6f3*0x3),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x4e71ba);}['_onMouseLe'+'ave'](_0x12285e){this['_isHoverin'+'g']=!(-0xe66*0x1+-0xe40+-0x2d*-0xa3),this['_isPressed']=!(-0x5aa+-0x2a2+0x84d),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x12285e);}['_onMouseDo'+'wn'](_0x2bc8f3){this['_isPressed']=!(-0x20d3*0x1+0x130d*0x2+0xc1*-0x7),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x2bc8f3);}['_onMouseUp'](_0x46a89c){this['_isPressed']=!(0x11d0+-0x1*-0xd55+-0x1*0x1f24),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x46a89c);}['_onTouchSt'+'art'](_0xe110c){this['_isPressed']=!(0x1048+0x1*0x1fd5+0x71*-0x6d),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0xe110c);}['_onTouchEn'+'d'](_0x3a36bd){_0x3a36bd['event']['preventDef'+'ault'](),this['_isPressed']=!(-0xb*-0xc8+0x2066+-0x28fd),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x3a36bd);}['_onTouchLe'+'ave'](_0x4f68a8){this['_isPressed']=!(0x15*0x1cb+0x120+-0x58a*0x7),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x4f68a8);}['_onTouchCa'+'ncel'](_0x324490){this['_isPressed']=!(0x1a11+0x1*0x517+-0x1f27*0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x324490);}['_onSelectS'+'tart'](_0x54ac78){this['_isPressed']=!(0x2bc+-0x262d*-0x1+-0x1*0x28e9),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x54ac78);}['_onSelectE'+'nd'](_0x2ee6ec){this['_isPressed']=!(-0x192b+0x20e*0xe+-0x73*0x8),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x2ee6ec);}['_onSelectE'+'nter'](_0x51b690){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===-0x45d*-0x5+-0x2302+0xd32&&(this['_isHoverin'+'g']=!(-0x1*-0x12db+-0x213d+0xe62),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x51b690);}['_onSelectL'+'eave'](_0x513f8e){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===-0x1*-0x12a5+-0x1*0x1eb7+-0xa*-0x135&&(this['_isHoverin'+'g']=!(-0x4e8+0x1*0x75f+-0x69*0x6),this['_isPressed']=!(-0x1*0x875+0x1040+-0x7ca),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x513f8e);}['_onClick'](_0x48f3a9){this['_fireIfAct'+'ive']('click',_0x48f3a9);}['_fireIfAct'+'ive'](_0x1f3fd9,_0x34b696){this['data']['active']&&this['fire'](_0x1f3fd9,_0x34b696);}['_updateVis'+'ualState'](_0x6d5eb8){const _0x12ba0b=this['_visualSta'+'te'],_0x3c115c=this['_determine'+'VisualStat'+'e']();if((_0x12ba0b!==_0x3c115c||_0x6d5eb8)&&this['enabled'])switch(this['_visualSta'+'te']=_0x3c115c,_0x12ba0b===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x12ba0b===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x3c115c===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x3c115c===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case sf:{const _0x4c28f5=hl[this['_visualSta'+'te']],_0x4679fe=this[_0x4c28f5];this['_applyTint'](_0x4679fe);break;}case tg:{const _0xddbeb=cl[this['_visualSta'+'te']],_0x7ef04=dl[this['_visualSta'+'te']],_0x1b381a=this[_0xddbeb],_0xf62c6a=this[_0x7ef04];this['_applySpri'+'te'](_0x1b381a,_0xf62c6a);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(0x1ca*0x11+0x1bb7+0x287*-0x17));}['_resetToDe'+'faultVisua'+'lState'](_0x1bc6da){var _0x54ca7e;if((_0x54ca7e=this['_imageEnti'+'ty'])!=null&&_0x54ca7e['element'])switch(_0x1bc6da){case sf:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case tg:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return Ye['PRESSED'];if(this['_isHoverin'+'g'])return Ye['HOVER'];}else return Ye['INACTIVE'];return Ye['DEFAULT'];}['_applySpri'+'te'](_0x13ec61,_0x39ee5f){var _0x2ac600;const _0xf9c115=(_0x2ac600=this['_imageEnti'+'ty'])==null?void(0x899+-0xf52+-0x6b9*-0x1):_0x2ac600['element'];_0xf9c115&&(_0x39ee5f=_0x39ee5f||0x1d51+0x3fd*0x6+-0x353f,this['_isApplyin'+'gSprite']=!(0x36f+-0x1bfb+-0x1*-0x188c),_0xf9c115['spriteAsse'+'t']!==_0x13ec61&&(_0xf9c115['spriteAsse'+'t']=_0x13ec61),_0xf9c115['spriteFram'+'e']!==_0x39ee5f&&(_0xf9c115['spriteFram'+'e']=_0x39ee5f),this['_isApplyin'+'gSprite']=!(0x43b+0x67c*-0x6+-0x1*-0x22ae));}['_applyTint'](_0x10526e){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===0x1*-0xef9+-0x56*-0x67+-0x43*0x4b?this['_applyTint'+'Immediatel'+'y'](_0x10526e):this['_applyTint'+'WithTween'](_0x10526e);}['_applyTint'+'Immediatel'+'y'](_0x32501c){var _0x2d2d2b;const _0x55cb37=(_0x2d2d2b=this['_imageEnti'+'ty'])==null?void(-0x28f+-0x6f6+0x985):_0x2d2d2b['element'];if(!_0x32501c||!_0x55cb37||_0x55cb37['type']===_h)return;const _0x1ed0a5=sg(_0x32501c);this['_isApplyin'+'gTint']=!(0xc77*0x3+0x4b1*0x1+-0x2a16),_0x1ed0a5['equals'](_0x55cb37['color'])||(_0x55cb37['color']=_0x1ed0a5),_0x55cb37['opacity']!==_0x32501c['a']&&(_0x55cb37['opacity']=_0x32501c['a']),this['_isApplyin'+'gTint']=!(0x1*-0x11ef+0x1d15+0x9*-0x13d);}['_applyTint'+'WithTween'](_0x30c35c){var _0x5698bd;const _0x5aafac=(_0x5698bd=this['_imageEnti'+'ty'])==null?void(-0x7cd+0xfab*-0x1+0x1778):_0x5698bd['element'];if(!_0x30c35c||!_0x5aafac||_0x5aafac['type']===_h)return;const _0x6b55b7=sg(_0x30c35c),_0x15fbfa=_0x5aafac['color'],_0x18ae75=_0x5aafac['opacity'];_0x6b55b7['equals'](_0x15fbfa)&&_0x30c35c['a']===_0x18ae75||(this['_tweenInfo']={'startTime':ne(),'from':new Y(_0x15fbfa['r'],_0x15fbfa['g'],_0x15fbfa['b'],_0x18ae75),'to':_0x30c35c['clone'](),'lerpColor':new Y()});}['_updateTin'+'tTween'](){const _0x3aae12=ne()-this['_tweenInfo']['startTime'];let _0x54e0f6=this['fadeDurati'+'on']===-0x9d8+-0xf06+0x18de?-0x688+0x670+-0x19*-0x1:_0x3aae12/this['fadeDurati'+'on'];if(_0x54e0f6=N['clamp'](_0x54e0f6,0x1964+-0x18b3+-0xb1,-0x21e4+-0x9cb+0x2bb0),Math['abs'](_0x54e0f6-(0x21ab+0x25f*0x5+-0x2d85))>-0x6f*-0x3d+0x234b+0x8d2*-0x7+0.00001){const _0x25aae2=this['_tweenInfo']['lerpColor'];_0x25aae2['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x54e0f6),this['_applyTint'+'Immediatel'+'y'](new Y(_0x25aae2['r'],_0x25aae2['g'],_0x25aae2['b'],_0x25aae2['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(0x1048+0x738+-0x177f),this['_hoveringC'+'ounter']=0x7*-0x163+-0x2*0xd7f+0x24b3,this['_isPressed']=!(-0x15*-0x17b+0x1*-0x1eab+-0x6b),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2d35ef,_0x5796b1){_0x2d35ef['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x5796b1[_0x2d35ef['imageEntit'+'y']['getGuid']()]);}}c(ct,'EVENT_MOUS'+'EDOWN','mousedown'),c(ct,'EVENT_MOUS'+'EUP','mouseup'),c(ct,'EVENT_MOUS'+'EENTER','mouseenter'),c(ct,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(ct,'EVENT_CLIC'+'K','click'),c(ct,'EVENT_TOUC'+'HSTART','touchstart'),c(ct,'EVENT_TOUC'+'HEND','touchend'),c(ct,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),c(ct,'EVENT_TOUC'+'HLEAVE','touchleave'),c(ct,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ct,'EVENT_SELE'+'CTEND','selectend'),c(ct,'EVENT_SELE'+'CTENTER','selectente'+'r'),c(ct,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),c(ct,'EVENT_HOVE'+'RSTART','hoverstart'),c(ct,'EVENT_HOVE'+'REND','hoverend'),c(ct,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),c(ct,'EVENT_PRES'+'SEDEND','pressedend');function sg(_0x43abc3){return new Y(_0x43abc3['r'],_0x43abc3['g'],_0x43abc3['b']);}class ZP{constructor(){this['enabled']=!(-0x1*-0x1c13+-0x1*0x3ce+-0x1845),this['active']=!(-0x80e*-0x1+-0x1542*-0x1+-0x1d50),this['imageEntit'+'y']=null,this['hitPadding']=new Q(),this['transition'+'Mode']=sf,this['hoverTint']=new Y(0x18fe+0x2*0x12c4+-0x3e86+0.75,-0x13f1+0x1eb4+-0xac3+0.75,0x73d+0x1969+0xe*-0x255+0.75),this['pressedTin'+'t']=new Y(0x1*-0xb29+-0xafa+0x1623+0.5,-0x94c+-0x1*-0x1c7e+-0x1332+0.5,0xaec+0x2a6*-0xa+-0x6*-0x298+0.5),this['inactiveTi'+'nt']=new Y(0x16c1+0x1c14+0x8f*-0x5b+0.25,-0x7*0x2db+0x59+-0x13a4*-0x1+0.25,0x1d13+-0x1559+0x56*-0x17+0.25),this['fadeDurati'+'on']=0x22*-0x10d+-0x1178+-0x3532*-0x1,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=0x101f+-0x1d2c+-0xd0d*-0x1,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=-0x1948+0x1*0x1f49+-0x601,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=-0x2ce*0x1+-0x4*-0x12c+-0x1e2;}}const ig=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class QP extends Xe{constructor(_0x1bc3c5){super(_0x1bc3c5),this['id']='button',this['ComponentT'+'ype']=ct,this['DataType']=ZP,this['schema']=ig,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0xfafd6f,_0x5b2286,_0x2a2167){_0xfafd6f['imageEntit'+'y']=_0x5b2286['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0xfafd6f,_0x5b2286,ig);}['onUpdate'](_0x1b0006){const _0x11d319=this['store'];for(const _0x34f2d8 in _0x11d319){const _0x5380f5=_0x11d319[_0x34f2d8]['entity'],_0x5472cd=_0x5380f5['button'];_0x5472cd['enabled']&&_0x5380f5['enabled']&&_0x5472cd['onUpdate']();}}['_onRemoveC'+'omponent'](_0x3af8d4,_0x25c706){_0x25c706['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const rg=new T(),ng=new se();class Yn extends ue{constructor(_0xea767c,_0x5495e1){super(_0xea767c,_0x5495e1),c(this,'_compoundP'+'arent',null),c(this,'_hasOffset',!(0x1d46+0x7af+-0x24f4)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x5253b6=this['system']['store'][this['entity']['getGuid']()];return _0x5253b6?_0x5253b6['data']:null;}set['enabled'](_0x7d2ef){this['_setValue']('enabled',_0x7d2ef);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x5abd13){this['_setValue']('type',_0x5abd13);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x255b75){this['_setValue']('halfExtent'+'s',_0x255b75);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x177ef7){this['_setValue']('linearOffs'+'et',_0x177ef7);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x4c090a){this['_setValue']('angularOff'+'set',_0x4c090a);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x572dad){this['_setValue']('radius',_0x572dad);}get['radius'](){return this['data']['radius'];}set['axis'](_0x299cdb){this['_setValue']('axis',_0x299cdb);}get['axis'](){return this['data']['axis'];}set['height'](_0x155f89){this['_setValue']('height',_0x155f89);}get['height'](){return this['data']['height'];}set['asset'](_0x4a6b1b){this['_setValue']('asset',_0x4a6b1b);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x30d217){this['_setValue']('renderAsse'+'t',_0x30d217);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x582d92){this['_setValue']('convexHull',_0x582d92);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x5e1011){this['_setValue']('shape',_0x5e1011);}get['shape'](){return this['data']['shape'];}set['model'](_0x1ee4aa){this['_setValue']('model',_0x1ee4aa);}get['model'](){return this['data']['model'];}set['render'](_0x4348f1){this['_setValue']('render',_0x4348f1);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x30256b){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x30256b);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x58df03,_0x2edc94){const _0xa0e184=this['data'],_0x341674=_0xa0e184[_0x58df03];_0xa0e184[_0x58df03]=_0x2edc94,this['fire']('set',_0x58df03,_0x341674,_0x2edc94);}['onSetType'](_0xa244c8,_0x13f85f,_0x184987){_0x13f85f!==_0x184987&&this['system']['changeType'](this,_0x13f85f,_0x184987);}['onSetHalfE'+'xtents'](_0x576334,_0x1b4c34,_0x194d5c){const _0x516834=this['data']['type'];this['data']['initialize'+'d']&&_0x516834==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x2d169d,_0x422808,_0x11ed01){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](T['ZERO'])||!this['data']['angularOff'+'set']['equals'](se['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x2b9140,_0x2fbdd4,_0x34bb3c){const _0x1de872=this['data']['type'];this['data']['initialize'+'d']&&(_0x1de872==='sphere'||_0x1de872==='capsule'||_0x1de872==='cylinder'||_0x1de872==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x3c8ce6,_0x3c9ed5,_0x2ffb48){const _0x4f4ec4=this['data']['type'];this['data']['initialize'+'d']&&(_0x4f4ec4==='capsule'||_0x4f4ec4==='cylinder'||_0x4f4ec4==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x438c65,_0xa18668,_0x3f867e){const _0x2c3662=this['data']['type'];this['data']['initialize'+'d']&&(_0x2c3662==='capsule'||_0x2c3662==='cylinder'||_0x2c3662==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x194775,_0x3aea04,_0x2228a7){const _0x403362=this['system']['app']['assets'];if(_0x3aea04){const _0x413f98=_0x403362['get'](_0x3aea04);_0x413f98&&_0x413f98['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x2228a7){_0x2228a7 instanceof le&&(this['data']['asset']=_0x2228a7['id']);const _0x2ce0be=_0x403362['get'](this['data']['asset']);_0x2ce0be&&(_0x2ce0be['off']('remove',this['onAssetRem'+'oved'],this),_0x2ce0be['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x2228a7||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x149592,_0x32a165,_0x2ff382){const _0x486c7b=this['system']['app']['assets'];if(_0x32a165){const _0x100f49=_0x486c7b['get'](_0x32a165);_0x100f49&&_0x100f49['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x2ff382){_0x2ff382 instanceof le&&(this['data']['renderAsse'+'t']=_0x2ff382['id']);const _0x5e4124=_0x486c7b['get'](this['data']['renderAsse'+'t']);_0x5e4124&&(_0x5e4124['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x5e4124['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x2ff382||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x2e66f9,_0xb11427,_0x5bc8fc){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x5949c9,_0x585e9a,_0x49fd44){this['onSetModel'](_0x5949c9,_0x585e9a,_0x49fd44);}['onAssetRem'+'oved'](_0x592efa){_0x592efa['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x592efa['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x19748f){_0x19748f['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x19748f['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x5d03e0){const _0x3275e2=this['data']['shape'],_0x4acdf3=_0x3275e2['getNumChil'+'dShapes']();for(let _0x25d6bc=-0x240b+0x1c0b+0x1*0x800;_0x25d6bc<_0x4acdf3;_0x25d6bc++){const _0xaf7023=_0x3275e2['getChildSh'+'ape'](_0x25d6bc);if(Ammo['getPointer'](_0xaf7023)===Ammo['getPointer'](_0x5d03e0))return _0x25d6bc;}return null;}['_onInsert'](_0x54d44b){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x160fec=this['entity']['parent'];for(;_0x160fec;){if(_0x160fec['collision']&&_0x160fec['collision']['type']==='compound'){_0x160fec['collision']['shape']['getNumChil'+'dShapes']()===-0xa75*0x1+-0x16*-0x71+0xbf?this['system']['recreatePh'+'ysicalShap'+'es'](_0x160fec['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x160fec=_0x160fec['parent'];}}}}}['_updateCom'+'pound'](){const _0x15d676=this['entity'];if(_0x15d676['_dirtyWorl'+'d']){let _0x4db6ca=_0x15d676['_dirtyLoca'+'l'],_0x255211=_0x15d676;for(;_0x255211&&!_0x4db6ca&&!(_0x255211['collision']&&_0x255211['collision']===this['_compoundP'+'arent']);)_0x255211['_dirtyLoca'+'l']&&(_0x4db6ca=!(0x848+0x1a7c+-0x22c4)),_0x255211=_0x255211['parent'];if(_0x4db6ca){_0x15d676['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x15d676);const _0xe6da33=this['_compoundP'+'arent']['entity']['rigidbody'];_0xe6da33&&_0xe6da33['activate']();}}}['getShapePo'+'sition'](){const _0x284865=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x7361ab=this['entity']['getRotatio'+'n'](),_0x1efbdd=this['data']['linearOffs'+'et'];return ng['copy'](_0x7361ab)['transformV'+'ector'](_0x1efbdd,rg),rg['add'](_0x284865);}return _0x284865;}['getShapeRo'+'tation'](){const _0x17fe5b=this['entity']['getRotatio'+'n']();return this['_hasOffset']?ng['copy'](_0x17fe5b)['mul'](this['data']['angularOff'+'set']):_0x17fe5b;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x2cbac7=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x2cbac7&&(!_0x2cbac7['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x6ad*-0x1+-0x3*-0x7a2+-0x1039*0x1)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0xf24e3b=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0xf24e3b,this['data']['shape']),Ammo['destroy'](_0xf24e3b),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}c(Yn,'EVENT_CONT'+'ACT','contact'),c(Yn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Yn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Yn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Yn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class JP{constructor(){this['enabled']=!(-0x1326+0x25*0x50+0x796*0x1),this['type']='box',this['halfExtent'+'s']=new T(0x12e7*0x1+0x27b*-0x9+0x124*0x3+0.5,-0x25fe*-0x1+-0x2c*-0x3a+0x17fb*-0x2+0.5,0x1842+0x2e3*0x9+-0x323d+0.5),this['linearOffs'+'et']=new T(),this['angularOff'+'set']=new se(),this['radius']=-0xf31+0x626*0x2+0x3*0xf7+0.5,this['axis']=-0x693+-0x1672+0x1d06,this['height']=-0x11d6+0x21d7*0x1+0x111*-0xf,this['convexHull']=!(0x223e+0x16*-0x57+-0x11*0x193),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(-0x30d+-0x1fbb*0x1+0x22c8),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(-0x1*0xa2a+-0x59a+0x1*0xfc5);}}const so='static',ms='dynamic',Bn='kinematic',eR=0xd1d+-0xb75*0x3+0x1544,lo=0x17ac+-0x5ce+-0x2*0x8ed,nf=-0x8*0x11c+-0xcdc*0x3+0x2f75,ag=-0x2193+0x7*0x4cd+-0x4,tx=0x1df5+0xa86*-0x1+-0x136a,tR=-0x1514+-0xb79+0x1*0x208e,og=-0x1*0x1e4f+0xa8*-0x19+0x1bb*0x1b,sR=-0x2158+-0x655*0x5+0x1*0x4105,lg=-0x24e5+0x20d*-0x1+0x1381*0x2,hg=0x15d48+0x1a0d2+-0x1fe1b,af=-0x7703*-0x3+0x97*-0x97+-0xbfb;let _s,Er,Nn;class sx{constructor(_0x90ba35,_0x561cc8,_0x114131){this['entity']=_0x561cc8['entity'],this['component']=_0x561cc8,this['app']=_0x90ba35,typeof Ammo<'u'&&!_s&&(_s=new Ammo['btVector3'](),Er=new Ammo['btQuaterni'+'on'](),Nn=new Ammo['btTransfor'+'m']()),this['initialize'](_0x114131);}['initialize'](_0x23ff05){const _0x504543=this['entity'],_0x1ae7cf=_0x23ff05['shape'];if(_0x1ae7cf&&typeof Ammo<'u'){_0x504543['trigger']&&_0x504543['trigger']['destroy']();const _0x5cf2d5=0x266a+0x1*0x1e6d+0x1*-0x44d6,_0x4f290a=this['component'];if(_0x4f290a){const _0x51c28f=_0x4f290a['getShapePo'+'sition'](),_0x5c2815=_0x4f290a['getShapeRo'+'tation']();_s['setValue'](_0x51c28f['x'],_0x51c28f['y'],_0x51c28f['z']),Er['setValue'](_0x5c2815['x'],_0x5c2815['y'],_0x5c2815['z'],_0x5c2815['w']);}else{const _0x443ccc=_0x504543['getPositio'+'n'](),_0x5cf1d0=_0x504543['getRotatio'+'n']();_s['setValue'](_0x443ccc['x'],_0x443ccc['y'],_0x443ccc['z']),Er['setValue'](_0x5cf1d0['x'],_0x5cf1d0['y'],_0x5cf1d0['z'],_0x5cf1d0['w']);}Nn['setOrigin'](_s),Nn['setRotatio'+'n'](Er);const _0x332fb8=this['app']['systems']['rigidbody']['createBody'](_0x5cf2d5,_0x1ae7cf,Nn);_0x332fb8['setRestitu'+'tion'](0x20ac+0x1*0x1139+-0x31e5),_0x332fb8['setFrictio'+'n'](0x302+0x1c2a+-0x69*0x4c),_0x332fb8['setDamping'](-0x161*-0x1+0x22f*-0x6+-0xbb9*-0x1,-0x1*0x1247+0x1f*0x137+-0x1362),_s['setValue'](0x21f1*-0x1+0x1f*0x101+0x2d2,-0x9af*0x1+0x272*-0x4+0xb*0x1c5,-0x2d7*0xd+0xf95+0x1556),_0x332fb8['setLinearF'+'actor'](_s),_0x332fb8['setAngular'+'Factor'](_s),_0x332fb8['setCollisi'+'onFlags'](_0x332fb8['getCollisi'+'onFlags']()|lo),_0x332fb8['entity']=_0x504543,this['body']=_0x332fb8,this['component']['enabled']&&_0x504543['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x276813){const _0x1713e1=this['component'];if(_0x1713e1){const _0x32217b=_0x1713e1['getShapePo'+'sition'](),_0x4a47cf=_0x1713e1['getShapeRo'+'tation']();_s['setValue'](_0x32217b['x'],_0x32217b['y'],_0x32217b['z']),Er['setValue'](_0x4a47cf['x'],_0x4a47cf['y'],_0x4a47cf['z'],_0x4a47cf['w']);}else{const _0x6498fa=this['entity']['getPositio'+'n'](),_0x4e4788=this['entity']['getRotatio'+'n']();_s['setValue'](_0x6498fa['x'],_0x6498fa['y'],_0x6498fa['z']),Er['setValue'](_0x4e4788['x'],_0x4e4788['y'],_0x4e4788['z'],_0x4e4788['w']);}_0x276813['setOrigin'](_s),_0x276813['setRotatio'+'n'](Er);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Nn);const _0x584af7=this['body'];_0x584af7['setWorldTr'+'ansform'](Nn),_0x584af7['activate']();}['enable'](){const _0x2db99f=this['body'];if(!_0x2db99f)return;const _0x571186=this['app']['systems']['rigidbody'];_0x571186['_triggers']['indexOf'](this)<-0x809+-0x1e71+0x267a&&(_0x571186['addBody'](_0x2db99f,lg,af^lg),_0x571186['_triggers']['push'](this)),_0x2db99f['forceActiv'+'ationState'](nf),this['updateTran'+'sform']();}['disable'](){const _0x6675e9=this['body'];if(!_0x6675e9)return;const _0x47eda5=this['app']['systems']['rigidbody'],_0x16b9b8=_0x47eda5['_triggers']['indexOf'](this);_0x16b9b8>-(0x5*0x1cf+0x266a+-0x2f74)&&(_0x47eda5['removeBody'](_0x6675e9),_0x47eda5['_triggers']['splice'](_0x16b9b8,0xe53*0x1+0x17e1*-0x1+-0x1*-0x98f)),_0x6675e9['forceActiv'+'ationState'](tx);}}const Xl=new q(),iR=new T(),rR=new T(),Cr=new se(),cg=new De(),nR=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class xn{constructor(_0xa609b1){this['system']=_0xa609b1;}['beforeInit'+'ialize'](_0x4f0a17,_0x29def3){_0x29def3['shape']=null,_0x29def3['model']=new Oi(),_0x29def3['model']['graph']=new De();}['afterIniti'+'alize'](_0x51d095,_0x36a7bf){this['recreatePh'+'ysicalShap'+'es'](_0x51d095),_0x51d095['data']['initialize'+'d']=!(0x265f+0x22a+0x9*-0x481);}['reset'](_0xadf22,_0x139b5d){this['beforeInit'+'ialize'](_0xadf22,_0x139b5d),this['afterIniti'+'alize'](_0xadf22,_0x139b5d);}['recreatePh'+'ysicalShap'+'es'](_0x5503ce){const _0x429e99=_0x5503ce['entity'],_0x1abc94=_0x5503ce['data'];if(typeof Ammo<'u'){_0x429e99['trigger']&&(_0x429e99['trigger']['destroy'](),delete _0x429e99['trigger']),_0x1abc94['shape']&&(_0x5503ce['_compoundP'+'arent']&&(_0x5503ce!==_0x5503ce['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x5503ce['_compoundP'+'arent'],_0x1abc94['shape']),_0x5503ce['_compoundP'+'arent']['entity']['rigidbody']&&_0x5503ce['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x1abc94)),_0x1abc94['shape']=this['createPhys'+'icalShape'](_0x5503ce['entity'],_0x1abc94);const _0x539574=!_0x5503ce['_compoundP'+'arent'];if(_0x1abc94['type']==='compound'&&(!_0x5503ce['_compoundP'+'arent']||_0x5503ce===_0x5503ce['_compoundP'+'arent']))_0x5503ce['_compoundP'+'arent']=_0x5503ce,_0x429e99['forEach'](this['_addEachDe'+'scendant'],_0x5503ce);else{if(_0x1abc94['type']!=='compound'&&!_0x5503ce['rigidbody']){_0x5503ce['_compoundP'+'arent']=null;let _0xdaa7af=_0x429e99['parent'];for(;_0xdaa7af;){if(_0xdaa7af['collision']&&_0xdaa7af['collision']['type']==='compound'){_0x5503ce['_compoundP'+'arent']=_0xdaa7af['collision'];break;}_0xdaa7af=_0xdaa7af['parent'];}}}_0x5503ce['_compoundP'+'arent']&&_0x5503ce!==_0x5503ce['_compoundP'+'arent']&&(_0x539574&&_0x5503ce['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x1b8e+0x1*-0x249b+-0x1*-0x90d?this['system']['recreatePh'+'ysicalShap'+'es'](_0x5503ce['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x429e99,!(0x2f*-0x7+0x99*-0x3b+0x248c)),_0x5503ce['_compoundP'+'arent']['entity']['rigidbody']&&_0x5503ce['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x429e99['rigidbody']?(_0x429e99['rigidbody']['disableSim'+'ulation'](),_0x429e99['rigidbody']['createBody'](),_0x429e99['enabled']&&_0x429e99['rigidbody']['enabled']&&_0x429e99['rigidbody']['enableSimu'+'lation']()):_0x5503ce['_compoundP'+'arent']||(_0x429e99['trigger']?_0x429e99['trigger']['initialize'](_0x1abc94):_0x429e99['trigger']=new sx(this['system']['app'],_0x5503ce,_0x1abc94));}}['createPhys'+'icalShape'](_0xf6af3a,_0xc1af97){}['updateTran'+'sform'](_0x5f5c8e,_0x8a0268,_0x14ed91,_0x545140){_0x5f5c8e['entity']['trigger']&&_0x5f5c8e['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x35d93f){_0x35d93f['shape']&&(Ammo['destroy'](_0x35d93f['shape']),_0x35d93f['shape']=null);}['beforeRemo'+'ve'](_0x3b1da7,_0x2b4d1c){_0x2b4d1c['data']['shape']&&(_0x2b4d1c['_compoundP'+'arent']&&!_0x2b4d1c['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x2b4d1c['_compoundP'+'arent'],_0x2b4d1c['data']['shape']),_0x2b4d1c['_compoundP'+'arent']['entity']['rigidbody']&&_0x2b4d1c['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x2b4d1c['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x2b4d1c['data']));}['remove'](_0x849b38,_0x2a909d){_0x849b38['rigidbody']&&_0x849b38['rigidbody']['body']&&_0x849b38['rigidbody']['disableSim'+'ulation'](),_0x849b38['trigger']&&(_0x849b38['trigger']['destroy'](),delete _0x849b38['trigger']);}['clone'](_0x4f2a92,_0x2b0913){const _0x457bc7=this['system']['store'][_0x4f2a92['getGuid']()],_0x483ba6={'enabled':_0x457bc7['data']['enabled'],'type':_0x457bc7['data']['type'],'halfExtents':[_0x457bc7['data']['halfExtent'+'s']['x'],_0x457bc7['data']['halfExtent'+'s']['y'],_0x457bc7['data']['halfExtent'+'s']['z']],'linearOffset':[_0x457bc7['data']['linearOffs'+'et']['x'],_0x457bc7['data']['linearOffs'+'et']['y'],_0x457bc7['data']['linearOffs'+'et']['z']],'angularOffset':[_0x457bc7['data']['angularOff'+'set']['x'],_0x457bc7['data']['angularOff'+'set']['y'],_0x457bc7['data']['angularOff'+'set']['z'],_0x457bc7['data']['angularOff'+'set']['w']],'radius':_0x457bc7['data']['radius'],'axis':_0x457bc7['data']['axis'],'height':_0x457bc7['data']['height'],'convexHull':_0x457bc7['data']['convexHull'],'asset':_0x457bc7['data']['asset'],'renderAsset':_0x457bc7['data']['renderAsse'+'t'],'model':_0x457bc7['data']['model'],'render':_0x457bc7['data']['render'],'checkVertexDuplicates':_0x457bc7['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x2b0913,_0x483ba6);}}class aR extends xn{['createPhys'+'icalShape'](_0x23f4eb,_0x211b80){if(typeof Ammo<'u'){const _0x5e84ce=_0x211b80['halfExtent'+'s'],_0x1ed4b9=new Ammo['btVector3'](_0x5e84ce?_0x5e84ce['x']:-0x1d56+-0x17e5+-0x1*-0x353b+0.5,_0x5e84ce?_0x5e84ce['y']:0x215+-0x24bc*0x1+0x22a7+0.5,_0x5e84ce?_0x5e84ce['z']:0x35*-0x89+-0xf22*-0x2+-0x1e7+0.5),_0x28963a=new Ammo['btBoxShape'](_0x1ed4b9);return Ammo['destroy'](_0x1ed4b9),_0x28963a;}}}class oR extends xn{['createPhys'+'icalShape'](_0xa29ce8,_0x1a2b75){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x1a2b75['radius']);}}class lR extends xn{['createPhys'+'icalShape'](_0x5bd1b7,_0x4c503e){const _0x5a1fd2=_0x4c503e['axis']??0x11d3*-0x1+0xfdf+-0xa7*-0x3,_0x4f2cd3=_0x4c503e['radius']??0xf*0x10+-0x26de+0x12f7*0x2+0.5,_0x56345b=Math['max']((_0x4c503e['height']??0x1ff*-0x9+-0x22c6+-0x3*-0x1195)-(0x14eb+-0x10*-0x59+-0x1a79)*_0x4f2cd3,0x13*-0x161+-0x1007*-0x1+-0x5d*-0x1c);let _0xfb8286=null;if(typeof Ammo<'u')switch(_0x5a1fd2){case 0x2d7*0x4+-0x1dd1*-0x1+-0x53*0x7f:_0xfb8286=new Ammo['btCapsuleS'+'hapeX'](_0x4f2cd3,_0x56345b);break;case 0x225b*-0x1+-0x1de2+0x403e:_0xfb8286=new Ammo['btCapsuleS'+'hape'](_0x4f2cd3,_0x56345b);break;case 0xc13*0x1+-0x99a+-0x277*0x1:_0xfb8286=new Ammo['btCapsuleS'+'hapeZ'](_0x4f2cd3,_0x56345b);break;}return _0xfb8286;}}class hR extends xn{['createPhys'+'icalShape'](_0x109593,_0x306256){const _0x2224fb=_0x306256['axis']??0x4f3+-0x4ff+0xd,_0x201511=_0x306256['radius']??-0x3a9+0x11d5*0x1+-0xe2c+0.5,_0x3fa52f=_0x306256['height']??0x1e04+-0x2*-0x26+-0x1e4f;let _0x5ec73d=null,_0x4639f5=null;if(typeof Ammo<'u')switch(_0x2224fb){case 0x1f17*-0x1+-0x20*-0x12a+0x13*-0x53:_0x5ec73d=new Ammo['btVector3'](_0x3fa52f*(0x2db+-0xb1+-0x22a*0x1+0.5),_0x201511,_0x201511),_0x4639f5=new Ammo['btCylinder'+'ShapeX'](_0x5ec73d);break;case 0xd78+0x1ddc+-0x2b53:_0x5ec73d=new Ammo['btVector3'](_0x201511,_0x3fa52f*(0x178b+0x13b5+0xad0*-0x4+0.5),_0x201511),_0x4639f5=new Ammo['btCylinder'+'Shape'](_0x5ec73d);break;case-0x1849+0x2382+0x1d*-0x63:_0x5ec73d=new Ammo['btVector3'](_0x201511,_0x201511,_0x3fa52f*(-0x3*-0x329+-0x13f0+0xa75+0.5)),_0x4639f5=new Ammo['btCylinder'+'ShapeZ'](_0x5ec73d);break;}return _0x5ec73d&&Ammo['destroy'](_0x5ec73d),_0x4639f5;}}class cR extends xn{['createPhys'+'icalShape'](_0x264379,_0xd1ef1f){const _0x2a05fd=_0xd1ef1f['axis']??0x15d4+-0x1080*0x1+-0x553,_0x5c7b8d=_0xd1ef1f['radius']??0x1fe5+0x2*0xb12+-0x3609+0.5,_0x4310b3=_0xd1ef1f['height']??0x1*0x2103+0x229f*0x1+-0x43a1;let _0x152fbb=null;if(typeof Ammo<'u')switch(_0x2a05fd){case-0x943*-0x1+-0x9c0+-0x7d*-0x1:_0x152fbb=new Ammo['btConeShap'+'eX'](_0x5c7b8d,_0x4310b3);break;case 0xfe3+-0x171+0xe71*-0x1:_0x152fbb=new Ammo['btConeShap'+'e'](_0x5c7b8d,_0x4310b3);break;case 0x1bc1+0x1*0x17c3+0x2b6*-0x13:_0x152fbb=new Ammo['btConeShap'+'eZ'](_0x5c7b8d,_0x4310b3);break;}return _0x152fbb;}}class dR extends xn{['beforeInit'+'ialize'](_0x51c45a,_0x3656d4){}['createAmmo'+'Hull'](_0x1810d7,_0x53cedd,_0x8d87a4,_0x493b2c){const _0x687683=new Ammo['btConvexHu'+'llShape'](),_0xc3bde4=new Ammo['btVector3'](),_0xe00d87=[];_0x1810d7['getPositio'+'ns'](_0xe00d87);for(let _0x5f5b1e=-0x675*0x5+0x1cd2+0x377*0x1;_0x5f5b1e<_0xe00d87['length'];_0x5f5b1e+=0x894*0x1+-0x51*0x28+-0x15d*-0x3)_0xc3bde4['setValue'](_0xe00d87[_0x5f5b1e]*_0x493b2c['x'],_0xe00d87[_0x5f5b1e+(-0x179b+0x1*0x1637+-0x7*-0x33)]*_0x493b2c['y'],_0xe00d87[_0x5f5b1e+(-0xfd*0x18+0x5*-0x4ff+0x30b5)]*_0x493b2c['z']),_0x687683['addPoint'](_0xc3bde4,!(-0x3ef*-0x2+0x1ccc+0x755*-0x5));Ammo['destroy'](_0xc3bde4),_0x687683['recalcLoca'+'lAabb'](),_0x687683['setMargin'](-0x2*-0xfef+-0xaa4+-0x153a+0.01);const _0x2898b5=this['system']['_getNodeTr'+'ansform'](_0x53cedd);_0x8d87a4['addChildSh'+'ape'](_0x2898b5,_0x687683),Ammo['destroy'](_0x2898b5);}['createAmmo'+'Mesh'](_0x16fbbb,_0x216145,_0x3945de,_0x566f16,_0x42738d=!(0x1*0x37d+-0x1643+0x12c6)){const _0x4dba8f=this['system'];let _0x48f084;if(_0x4dba8f['_triMeshCa'+'che'][_0x16fbbb['id']])_0x48f084=_0x4dba8f['_triMeshCa'+'che'][_0x16fbbb['id']];else{const _0x1dbbcc=_0x16fbbb['vertexBuff'+'er'],_0x5ae3ec=_0x1dbbcc['getFormat']();let _0x526fae,_0x36b749;for(let _0x4ff1a3=0x310*0xc+0x1931*0x1+-0x3df1;_0x4ff1a3<_0x5ae3ec['elements']['length'];_0x4ff1a3++){const _0xe40ac6=_0x5ae3ec['elements'][_0x4ff1a3];if(_0xe40ac6['name']===He){_0x36b749=new Float32Array(_0x1dbbcc['lock'](),_0xe40ac6['offset']),_0x526fae=_0xe40ac6['stride']/(-0x1*0x21a1+0x1f19+0x28c);break;}}const _0x2ddc91=[];_0x16fbbb['getIndices'](_0x2ddc91);const _0xea35c7=_0x16fbbb['primitive'][-0x57a*0x4+0x3*-0x59d+0x26bf]['count']/(-0xe9+-0x26ba+0x7*0x5aa),_0x29c82a=new Ammo['btVector3']();let _0x2a6b97,_0x187ec2,_0x21b49a;const _0x42f131=_0x16fbbb['primitive'][0xcde+-0x1a*-0x3b+-0x12dc]['base'];_0x48f084=new Ammo['btTriangle'+'Mesh'](),_0x4dba8f['_triMeshCa'+'che'][_0x16fbbb['id']]=_0x48f084;const _0x4fbbea=new Map();v['assert'](typeof _0x48f084['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x55ccbf=_0x48f084['getIndexed'+'MeshArray']();_0x55ccbf['at'](-0x19f+-0x1a57*-0x1+-0x18b8)['m_numTrian'+'gles']=_0xea35c7;const _0x11710f=_0x566f16?_0x566f16['x']:0x10e4+-0x368+0x11*-0xcb,_0x44a749=_0x566f16?_0x566f16['y']:-0xbf5*0x1+-0x9a7+0x159d,_0xf57392=_0x566f16?_0x566f16['z']:-0x1dde*0x1+0xba9+0x3*0x612,_0x38cb0e=_0x30f5be=>{const _0x4793fa=_0x36b749[_0x30f5be*_0x526fae]*_0x11710f,_0x89ceb9=_0x36b749[_0x30f5be*_0x526fae+(0x233*-0x1+0x1977+-0x1743)]*_0x44a749,_0xcba8f3=_0x36b749[_0x30f5be*_0x526fae+(-0x1d7c+-0x493*0x3+0x2b37)]*_0xf57392;let _0x5e4c5e;if(_0x42738d){const _0x51fc57=_0x4793fa+':'+_0x89ceb9+':'+_0xcba8f3;if(_0x5e4c5e=_0x4fbbea['get'](_0x51fc57),_0x5e4c5e!==void(0x1e6b+0x1*0x263c+0xb9*-0x5f))return _0x5e4c5e;_0x29c82a['setValue'](_0x4793fa,_0x89ceb9,_0xcba8f3),_0x5e4c5e=_0x48f084['findOrAddV'+'ertex'](_0x29c82a,!(0x163e+-0x1*-0x550+0x1*-0x1b8d)),_0x4fbbea['set'](_0x51fc57,_0x5e4c5e);}else _0x29c82a['setValue'](_0x4793fa,_0x89ceb9,_0xcba8f3),_0x5e4c5e=_0x48f084['findOrAddV'+'ertex'](_0x29c82a,!(-0x30e+0x2425*0x1+0x34f*-0xa));return _0x5e4c5e;};for(let _0x27e540=-0xd62+0x24cb+-0x1769;_0x27e540<_0xea35c7;_0x27e540++)_0x2a6b97=_0x38cb0e(_0x2ddc91[_0x42f131+_0x27e540*(0x2*0x94f+0x2b*0x74+0xc7*-0x31)]),_0x187ec2=_0x38cb0e(_0x2ddc91[_0x42f131+_0x27e540*(-0xa+0x24ae+-0x24a1)+(-0x1bd1+0x2205+0x211*-0x3)]),_0x21b49a=_0x38cb0e(_0x2ddc91[_0x42f131+_0x27e540*(-0x180c+0xd97+-0x14*-0x86)+(-0x1a7e+0x1e32+0x1*-0x3b2)]),_0x48f084['addIndex'](_0x2a6b97),_0x48f084['addIndex'](_0x187ec2),_0x48f084['addIndex'](_0x21b49a);Ammo['destroy'](_0x29c82a);}const _0x175e8a=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x48f084,!(-0x16f7+-0x1*-0x1ae7+-0x3f0));if(!_0x566f16){const _0x5f0af2=_0x4dba8f['_getNodeSc'+'aling'](_0x216145);_0x175e8a['setLocalSc'+'aling'](_0x5f0af2),Ammo['destroy'](_0x5f0af2);}const _0x3e1cf=_0x4dba8f['_getNodeTr'+'ansform'](_0x216145);_0x3945de['addChildSh'+'ape'](_0x3e1cf,_0x175e8a),Ammo['destroy'](_0x3e1cf);}['createPhys'+'icalShape'](_0x18e7c1,_0x3cb71d){if(!(typeof Ammo>'u')&&(_0x3cb71d['model']||_0x3cb71d['render'])){const _0x5dd52e=new Ammo['btCompound'+'Shape'](),_0x4b7c87=_0x18e7c1['getWorldTr'+'ansform']()['getScale']();if(_0x3cb71d['render']){const _0x4019e4=_0x3cb71d['render']['meshes'];for(let _0x225e72=-0x1b92+-0x9d6+0x2568*0x1;_0x225e72<_0x4019e4['length'];_0x225e72++)_0x3cb71d['convexHull']?this['createAmmo'+'Hull'](_0x4019e4[_0x225e72],cg,_0x5dd52e,_0x4b7c87):this['createAmmo'+'Mesh'](_0x4019e4[_0x225e72],cg,_0x5dd52e,_0x4b7c87,_0x3cb71d['checkVerte'+'xDuplicate'+'s']);}else{if(_0x3cb71d['model']){const _0x225c37=_0x3cb71d['model']['meshInstan'+'ces'];for(let _0x47cb9b=0x7*-0x40b+0x1f7c*-0x1+0x3bc9;_0x47cb9b<_0x225c37['length'];_0x47cb9b++)this['createAmmo'+'Mesh'](_0x225c37[_0x47cb9b]['mesh'],_0x225c37[_0x47cb9b]['node'],_0x5dd52e,null,_0x3cb71d['checkVerte'+'xDuplicate'+'s']);const _0x48015e=new Ammo['btVector3'](_0x4b7c87['x'],_0x4b7c87['y'],_0x4b7c87['z']);_0x5dd52e['setLocalSc'+'aling'](_0x48015e),Ammo['destroy'](_0x48015e);}}return _0x5dd52e;}}['recreatePh'+'ysicalShap'+'es'](_0x3b48cd){const _0x524107=_0x3b48cd['data'];if((_0x524107['renderAsse'+'t']||_0x524107['asset'])&&_0x3b48cd['enabled']&&_0x3b48cd['entity']['enabled']){this['loadAsset'](_0x3b48cd,_0x524107['renderAsse'+'t']||_0x524107['asset'],_0x524107['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x3b48cd);}['loadAsset'](_0x235389,_0x549101,_0x404bdb){const _0x467c2e=_0x235389['data'],_0x332da6=this['system']['app']['assets'],_0x5688bd=_0x467c2e[_0x404bdb],_0x30716b=_0x4e8257=>{_0x467c2e[_0x404bdb]===_0x5688bd&&(_0x467c2e[_0x404bdb]=_0x4e8257['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x235389));},_0x1836fc=_0x137ba5=>{_0x137ba5['ready'](_0x43d3d8=>{if(_0x43d3d8['data']['containerA'+'sset']){const _0xf200a3=_0x332da6['get'](_0x43d3d8['data']['containerA'+'sset']);_0xf200a3['loaded']?_0x30716b(_0x43d3d8):(_0xf200a3['ready'](()=>{_0x30716b(_0x43d3d8);}),_0x332da6['load'](_0xf200a3));}else _0x30716b(_0x43d3d8);}),_0x332da6['load'](_0x137ba5);},_0xc5c411=_0x332da6['get'](_0x549101);_0xc5c411?_0x1836fc(_0xc5c411):_0x332da6['once']('add:'+_0x549101,_0x1836fc);}['doRecreate'+'PhysicalSh'+'ape'](_0x147690){const _0x573ff3=_0x147690['entity'],_0x5bb7d9=_0x147690['data'];_0x5bb7d9['model']||_0x5bb7d9['render']?(this['destroySha'+'pe'](_0x5bb7d9),_0x5bb7d9['shape']=this['createPhys'+'icalShape'](_0x573ff3,_0x5bb7d9),_0x573ff3['rigidbody']?(_0x573ff3['rigidbody']['disableSim'+'ulation'](),_0x573ff3['rigidbody']['createBody'](),_0x573ff3['enabled']&&_0x573ff3['rigidbody']['enabled']&&_0x573ff3['rigidbody']['enableSimu'+'lation']()):_0x573ff3['trigger']?_0x573ff3['trigger']['initialize'](_0x5bb7d9):_0x573ff3['trigger']=new sx(this['system']['app'],_0x147690,_0x5bb7d9)):(this['beforeRemo'+'ve'](_0x573ff3,_0x147690),this['remove'](_0x573ff3,_0x5bb7d9));}['updateTran'+'sform'](_0x4ccf86,_0x1a7b6c,_0x4e640a,_0x183688){if(_0x4ccf86['shape']){const _0x1052a2=_0x4ccf86['entity']['getWorldTr'+'ansform']()['getScale'](),_0x5e08ef=_0x4ccf86['shape']['getLocalSc'+'aling']();(_0x1052a2['x']!==_0x5e08ef['x']()||_0x1052a2['y']!==_0x5e08ef['y']()||_0x1052a2['z']!==_0x5e08ef['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x4ccf86);}super['updateTran'+'sform'](_0x4ccf86,_0x1a7b6c,_0x4e640a,_0x183688);}['destroySha'+'pe'](_0x316799){if(!_0x316799['shape'])return;const _0x3e882d=_0x316799['shape']['getNumChil'+'dShapes']();for(let _0x34207f=0x54e+-0x1526+-0xd*-0x138;_0x34207f<_0x3e882d;_0x34207f++){const _0x154e3c=_0x316799['shape']['getChildSh'+'ape'](_0x34207f);Ammo['destroy'](_0x154e3c);}Ammo['destroy'](_0x316799['shape']),_0x316799['shape']=null;}}class uR extends xn{['createPhys'+'icalShape'](_0x25e5a7,_0x24013a){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x59fd23){!_0x59fd23['collision']||_0x59fd23['rigidbody']||(_0x59fd23['collision']['_compoundP'+'arent']=this,_0x59fd23!==this['entity']&&_0x59fd23['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x59fd23['collision']));}['_updateEac'+'hDescendan'+'t'](_0x185bb5){_0x185bb5['collision']&&_0x185bb5['collision']['_compoundP'+'arent']===this&&(_0x185bb5['collision']['_compoundP'+'arent']=null,_0x185bb5!==this['entity']&&!_0x185bb5['rigidbody']&&_0x185bb5['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x185bb5['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x2005ee){!_0x2005ee['collision']||_0x2005ee['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x2005ee,!(0xcb4*-0x2+0x250b+0x5d1*-0x2));}}class fR extends Xe{constructor(_0x2279c5){super(_0x2279c5),this['id']='collision',this['ComponentT'+'ype']=Yn,this['DataType']=JP,this['schema']=nR,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0xd7a425,_0x4099fb,_0x1ec838){_0x1ec838=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x598e71={};for(let _0xe6e3b0=-0x24f5+-0x3bb+-0x364*-0xc,_0x47cdbf=_0x1ec838['length'];_0xe6e3b0<_0x47cdbf;_0xe6e3b0++){const _0x354c0c=_0x1ec838[_0xe6e3b0];_0x598e71[_0x354c0c]=_0x4099fb[_0x354c0c];}let _0x1551ac;if(_0x4099fb['hasOwnProp'+'erty']('asset')?(_0x1551ac=_0x1ec838['indexOf']('model'),_0x1551ac!==-(0x31b+0xa85*0x1+-0xd9f*0x1)&&_0x1ec838['splice'](_0x1551ac,0x1*0x729+0x1832+0xfad*-0x2),_0x1551ac=_0x1ec838['indexOf']('render'),_0x1551ac!==-(-0x2493*0x1+0x2fa*-0xb+-0x2*-0x22a9)&&_0x1ec838['splice'](_0x1551ac,0x1*-0x2696+0xb*-0xc7+-0x1792*-0x2)):_0x4099fb['hasOwnProp'+'erty']('model')&&(_0x1551ac=_0x1ec838['indexOf']('asset'),_0x1551ac!==-(0x5ac+0x251*-0x4+0x399)&&_0x1ec838['splice'](_0x1551ac,-0x95*-0x3d+-0xfa4+-0x13dc)),_0x598e71['type']||(_0x598e71['type']=_0xd7a425['data']['type']),_0xd7a425['data']['type']=_0x598e71['type'],Array['isArray'](_0x598e71['halfExtent'+'s'])&&(_0x598e71['halfExtent'+'s']=new T(_0x598e71['halfExtent'+'s'])),Array['isArray'](_0x598e71['linearOffs'+'et'])&&(_0x598e71['linearOffs'+'et']=new T(_0x598e71['linearOffs'+'et'])),Array['isArray'](_0x598e71['angularOff'+'set'])){const _0x206142=_0x598e71['angularOff'+'set'];_0x206142['length']===0x2*0xd70+-0x1*-0x25bd+-0x409a?_0x598e71['angularOff'+'set']=new se()['setFromEul'+'erAngles'](_0x206142[-0x7*-0x455+0x21d5*0x1+-0x4*0x100a],_0x206142[0xe*-0xe+0x1*-0xb61+-0x1*-0xc26],_0x206142[0x1830+-0x1074+-0x7ba]):_0x598e71['angularOff'+'set']=new se(_0x598e71['angularOff'+'set']);}const _0x509f38=this['_createImp'+'lementatio'+'n'](_0x598e71['type']);_0x509f38['beforeInit'+'ialize'](_0xd7a425,_0x598e71),super['initialize'+'ComponentD'+'ata'](_0xd7a425,_0x598e71,_0x1ec838),_0x509f38['afterIniti'+'alize'](_0xd7a425,_0x598e71);}['_createImp'+'lementatio'+'n'](_0x2ce7c4){if(this['implementa'+'tions'][_0x2ce7c4]===void(0x1*0x1174+-0x1*0x18e3+0x76f)){let _0x28b60a;switch(_0x2ce7c4){case'box':_0x28b60a=new aR(this);break;case'sphere':_0x28b60a=new oR(this);break;case'capsule':_0x28b60a=new lR(this);break;case'cylinder':_0x28b60a=new hR(this);break;case'cone':_0x28b60a=new cR(this);break;case'mesh':_0x28b60a=new dR(this);break;case'compound':_0x28b60a=new uR(this);break;default:v['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x2ce7c4);}this['implementa'+'tions'][_0x2ce7c4]=_0x28b60a;}return this['implementa'+'tions'][_0x2ce7c4];}['_getImplem'+'entation'](_0xe04986){return this['implementa'+'tions'][_0xe04986['collision']['data']['type']];}['cloneCompo'+'nent'](_0x406ac1,_0x4f5e32){return this['_getImplem'+'entation'](_0x406ac1)['clone'](_0x406ac1,_0x4f5e32);}['onBeforeRe'+'move'](_0x130c74,_0x29827e){this['implementa'+'tions'][_0x29827e['data']['type']]['beforeRemo'+'ve'](_0x130c74,_0x29827e),_0x29827e['onBeforeRe'+'move']();}['onRemove'](_0x50a676,_0xd0bf7a){this['implementa'+'tions'][_0xd0bf7a['type']]['remove'](_0x50a676,_0xd0bf7a);}['updateComp'+'oundChildT'+'ransform'](_0x5784b8,_0x1730d2){const _0x460151=_0x5784b8['collision']['_compoundP'+'arent'];if(_0x460151!==_0x5784b8['collision']&&_0x5784b8['enabled']&&_0x5784b8['collision']['enabled']&&(_0x5784b8['_dirtyLoca'+'l']||_0x1730d2)){const _0x33f7ea=this['_getNodeTr'+'ansform'](_0x5784b8,_0x460151['entity']),_0x418a5d=_0x460151['getCompoun'+'dChildShap'+'eIndex'](_0x5784b8['collision']['shape']);_0x418a5d===null?_0x460151['shape']['addChildSh'+'ape'](_0x33f7ea,_0x5784b8['collision']['data']['shape']):_0x460151['shape']['updateChil'+'dTransform'](_0x418a5d,_0x33f7ea,!(-0x2368+0xc0a*-0x1+0x2*0x17b9)),Ammo['destroy'](_0x33f7ea);}}['_removeCom'+'poundChild'](_0x3eb602,_0x3debde){if(_0x3eb602['shape']['getNumChil'+'dShapes']()!==0x8fb*-0x4+-0x1*0x376+0x2762){if(_0x3eb602['shape']['removeChil'+'dShape'])_0x3eb602['shape']['removeChil'+'dShape'](_0x3debde);else{const _0x215ca1=_0x3eb602['getCompoun'+'dChildShap'+'eIndex'](_0x3debde);_0x215ca1!==null&&_0x3eb602['shape']['removeChil'+'dShapeByIn'+'dex'](_0x215ca1);}}}['onTransfor'+'mChanged'](_0x131dfa,_0x2d023a,_0x2fe66e,_0x51fe11){this['implementa'+'tions'][_0x131dfa['data']['type']]['updateTran'+'sform'](_0x131dfa,_0x2d023a,_0x2fe66e,_0x51fe11);}['changeType'](_0x5484fc,_0x116443,_0x3797b7){this['implementa'+'tions'][_0x116443]['beforeRemo'+'ve'](_0x5484fc['entity'],_0x5484fc),this['implementa'+'tions'][_0x116443]['remove'](_0x5484fc['entity'],_0x5484fc['data']),this['_createImp'+'lementatio'+'n'](_0x3797b7)['reset'](_0x5484fc,_0x5484fc['data']);}['recreatePh'+'ysicalShap'+'es'](_0x484048){this['implementa'+'tions'][_0x484048['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x484048);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x254b4e,_0x8a6eb9){if(_0x254b4e===_0x8a6eb9){const _0x50089d=_0x254b4e['getWorldTr'+'ansform']()['getScale']();Xl['setScale'](_0x50089d['x'],_0x50089d['y'],_0x50089d['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x254b4e['parent'],_0x8a6eb9),Xl['mul'](_0x254b4e['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x2dfd98){const _0x586735=_0x2dfd98['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x586735['x'],_0x586735['y'],_0x586735['z']);}['_getNodeTr'+'ansform'](_0x1b0529,_0x5b3808){let _0x27508c,_0x537ab9;_0x5b3808?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x1b0529,_0x5b3808),_0x27508c=iR,_0x537ab9=Cr,Xl['getTransla'+'tion'](_0x27508c),_0x537ab9['setFromMat'+'4'](Xl)):(_0x27508c=_0x1b0529['getPositio'+'n'](),_0x537ab9=_0x1b0529['getRotatio'+'n']());const _0x304f8d=new Ammo['btQuaterni'+'on'](),_0x3dbb2c=new Ammo['btTransfor'+'m']();_0x3dbb2c['setIdentit'+'y']();const _0x32cc79=_0x3dbb2c['getOrigin'](),_0x3fc500=_0x1b0529['collision'];if(_0x3fc500&&_0x3fc500['_hasOffset']){const _0x5c3a47=_0x3fc500['data']['linearOffs'+'et'],_0x4e83ba=_0x3fc500['data']['angularOff'+'set'],_0x236b7c=rR;Cr['copy'](_0x537ab9)['transformV'+'ector'](_0x5c3a47,_0x236b7c),_0x236b7c['add'](_0x27508c),Cr['copy'](_0x537ab9)['mul'](_0x4e83ba),_0x32cc79['setValue'](_0x236b7c['x'],_0x236b7c['y'],_0x236b7c['z']),_0x304f8d['setValue'](Cr['x'],Cr['y'],Cr['z'],Cr['w']);}else _0x32cc79['setValue'](_0x27508c['x'],_0x27508c['y'],_0x27508c['z']),_0x304f8d['setValue'](_0x537ab9['x'],_0x537ab9['y'],_0x537ab9['z'],_0x537ab9['w']);return _0x3dbb2c['setRotatio'+'n'](_0x304f8d),Ammo['destroy'](_0x304f8d),_0x3dbb2c;}['destroy'](){for(const _0x1eada4 in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x1eada4]);this['_triMeshCa'+'che']=null,super['destroy']();}}const jl=new Y(),pR=new Ot();class mR{constructor(_0x784e71,_0x4e3ac5,_0x294343){this['_entity']=_0x784e71,this['_element']=_0x784e71['element'],this['model']=new Oi(),this['node']=new De(),this['model']['graph']=this['node'],this['mesh']=_0x4e3ac5,this['meshInstan'+'ce']=new Le(this['mesh'],_0x294343,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x784e71['name'],this['meshInstan'+'ce']['castShadow']=!(0x2e2*0xb+0x1dcf+-0x3d84),this['meshInstan'+'ce']['receiveSha'+'dow']=!(0x8cf+-0x2+-0x8cc),this['_meshDirty']=!(-0x658+0x2467*0x1+-0x1e0e),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x4523cb,_0x2d14c2;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x4523cb=this['meshInstan'+'ce'])==null||_0x4523cb['destroy'](),this['meshInstan'+'ce']=null,(_0x2d14c2=this['unmaskMesh'+'Instance'])==null||_0x2d14c2['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x3aa373){this['meshInstan'+'ce']&&(this['mesh']=_0x3aa373,this['meshInstan'+'ce']['mesh']=_0x3aa373,this['meshInstan'+'ce']['visible']=!!_0x3aa373,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x3aa373),this['forceUpdat'+'eAabb']());}['setMask'](_0x232bca){var _0x195cdf;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x232bca){this['unmaskMesh'+'Instance']=new Le(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(0x566*0x3+-0x2*-0x1d8+-0x13e1*0x1),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(0x309*0x1+-0x1bc1+0x18b9*0x1),this['unmaskMesh'+'Instance']['pick']=!(-0x1d86+-0x5*-0x19c+0x1*0x157b),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x2e575e in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x2e575e,this['meshInstan'+'ce']['parameters'][_0x2e575e]['data']);}else{const _0x4b31d4=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x4b31d4>=0x16f9+0x1893+-0x11*0x2cc&&this['model']['meshInstan'+'ces']['splice'](_0x4b31d4,0x1d9b+0x19f0+-0x378a);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x232bca||((_0x195cdf=this['unmaskMesh'+'Instance'])==null||_0x195cdf['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x246617){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x246617,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x246617));}['setParamet'+'er'](_0x1410fb,_0x4b2c7f){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x1410fb,_0x4b2c7f),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x1410fb,_0x4b2c7f));}['deletePara'+'meter'](_0x4d128d){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x4d128d),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x4d128d));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x4244e3=function(_0x2e140c){let _0x82436a;const _0x36eb1d=_0x2e140c['children'],_0x488a53=_0x36eb1d['length'];if(_0x488a53){for(let _0x5c4338=-0x2e*-0xbb+0x665*-0x4+-0x806;_0x5c4338<_0x488a53;_0x5c4338++)_0x36eb1d[_0x5c4338]['element']&&(_0x82436a=_0x36eb1d[_0x5c4338]);if(!_0x82436a)return null;const _0x1cf31a=_0x4244e3(_0x82436a);return _0x1cf31a||_0x82436a;}return null;};if(this['unmaskMesh'+'Instance']){const _0x378982=_0x4244e3(this['_entity']);_0x378982&&_0x378982['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x378982['element']['drawOrder']+_0x378982['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),v['trace'](Ss,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x397bd4){this['meshInstan'+'ce']&&(v['trace'](Ss,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x397bd4),this['meshInstan'+'ce']['drawOrder']=_0x397bd4);}['setCull'](_0x30c1da){if(!this['meshInstan'+'ce'])return;const _0x971581=this['_element'];let _0x59f735=null;_0x30c1da&&_0x971581['_isScreenS'+'pace']()&&(_0x59f735=function(_0x4ef805){return _0x971581['isVisibleF'+'orCamera'](_0x4ef805);}),this['meshInstan'+'ce']['cull']=_0x30c1da,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x59f735,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x30c1da,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x59f735);}['setScreenS'+'pace'](_0x524b07){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x524b07,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x524b07));}['setLayer'](_0x20f116){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x20f116,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x20f116));}['forceUpdat'+'eAabb'](_0x3166d0){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(-0xc2d*0x3+0x4*0x13d+-0x2*-0xfca),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(-0x1bda+0x1ed4+-0x2f9)));}['setAabbFun'+'c'](_0x47c99d){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x47c99d,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x47c99d));}}class _R{constructor(_0x5b3834){c(this,'_evtSetMes'+'hes',null),(this['_element']=_0x5b3834,this['_entity']=_0x5b3834['entity'],this['_system']=_0x5b3834['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=-0x8b*-0x13+-0x3f8*0x9+-0x7*-0x3a1,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(-0x8f*-0x9+-0x13*-0x11d+0x1*-0x1a2d),this['_rect']=new Q(-0xde4*-0x1+0x1df8+-0xaf7*0x4,-0x9ff+0x545*-0x7+0x2ee2,-0x24a4+-0x1ad4+0x3f79*0x1,-0x731+0x223*-0x3+0x2b*0x51),this['_mask']=!(-0x163*0x15+0x778+0x15a8*0x1),this['_maskRef']=-0x18d*-0xd+-0x16ab+0x3*0xd6,this['_outerScal'+'e']=new W(),this['_outerScal'+'eUniform']=new Float32Array(0x17f8+-0xcb+0x1*-0x172b),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(-0x150a+-0x2*0x1291+0x3a30),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(0x39c+0x1cd*-0x3+0x1cf*0x1),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new mR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new Y(0x588+-0x1*0x129d+-0x5*-0x29e,0x11ed*0x2+0x2437+0x8*-0x902,-0xb29+-0x181f+0x2349,-0x1881+0x1549+0x339),this['_colorUnif'+'orm']=new Float32Array([-0x7a1+-0x602+-0x24*-0x61,-0xef*-0x6+-0x14fe+-0x1*-0xf65,0xd27+0x28*0x8d+0x6*-0x5dd]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',-0x1b9e+-0x1f*-0x49+-0x4*-0x4b2),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x220f07){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x5e8c9b){this['_updateMat'+'erial'](_0x5e8c9b);}['_onScreenC'+'hange'](_0x315f6f,_0x44d7f9){_0x315f6f?this['_updateMat'+'erial'](_0x315f6f['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x2*-0xb2f+-0x242f*-0x1+-0xdd0));}['_onDrawOrd'+'erChange'](_0x2c3257){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x2c3257),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(-0x1*0x10af+-0x31e+0x13ce);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe);}['_updateMat'+'erial'](_0x38678b){const _0x430266=!!this['_mask'],_0x152572=!!(this['sprite']&&this['sprite']['renderMode']===nt),_0x8881fb=!!(this['sprite']&&this['sprite']['renderMode']===Qe);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x38678b,_0x430266,_0x152572,_0x8881fb)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x38678b),this['_renderabl'+'e']['setLayer'](_0x38678b?Ub:c0));}['_createMes'+'h'](){const _0x3911bd=this['_element'],_0x50db58=_0x3911bd['calculated'+'Width'],_0x592344=_0x3911bd['calculated'+'Height'],_0x1ef6b2=this['_rect'],_0x26c772=this['_system']['app']['graphicsDe'+'vice'],_0xe54a6a=new Float32Array([_0x50db58,0x7e9+0x2*-0x805+0x821,-0x1d7e+-0x21ad+0x3f2b,-0x544*-0x5+0x2d1+-0x1*0x1d25,0x4c8+0x1523+0x5*-0x52f,0x1c*0x53+0x213+-0x593*0x2,_0x1ef6b2['x']+_0x1ef6b2['z'],-0x24*0xa9+0x1*0xee2+0x8e3-_0x1ef6b2['y'],_0x50db58,_0x592344,-0x20b7+0x219c+-0xe5,-0xa06*-0x1+0x687+-0x108d,0x1691+0x1e2d+-0x34be,-0x16*0x166+-0x1*0x1c02+-0x1*-0x3ac7,_0x1ef6b2['x']+_0x1ef6b2['z'],0x1260+0x610+-0x186f-(_0x1ef6b2['y']+_0x1ef6b2['w']),-0x932+0x1805*0x1+-0xfd*0xf,-0x12fe+0x2*0x389+0x1b4*0x7,0x98e*-0x2+-0x1*0x10a6+0x23c2,-0x1d16+-0x1*-0x1d59+-0x43*0x1,0x4d1+0x9d2+0xea3*-0x1,0x1*-0x236a+-0x2*-0xc83+0xa65,_0x1ef6b2['x'],0x17*0x192+-0x1d43+0x1*-0x6da-_0x1ef6b2['y'],-0x136c+0x121b+0x1*0x151,_0x592344,0x32b*-0x1+0x92*-0x38+0x231b,0x15b0+-0x172a+0x17a,0x586*-0x7+-0xda1+-0xb*-0x4c1,-0x20f9+-0x3*-0x402+0x95*0x24,_0x1ef6b2['x'],0x734+0x51*-0x2d+0x6a*0x11-(_0x1ef6b2['y']+_0x1ef6b2['w'])]),_0x40a719=pR['get'](_0x26c772,()=>new Et(_0x26c772,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':Yt,'components':0x3,'type':Ee},{'semantic':ns,'components':0x2,'type':Ee}])),_0x5ca4c4=new os(_0x26c772,_0x40a719,-0x100c+0x10cf+0x1*-0xbf,{'data':_0xe54a6a['buffer']}),_0x2906df=new Ie(_0x26c772);return _0x2906df['vertexBuff'+'er']=_0x5ca4c4,_0x2906df['primitive'][0x532+0x160+-0x692]['type']=ar,_0x2906df['primitive'][-0x2635*-0x1+0x1*0x1197+0x1be6*-0x2]['base']=0x1*-0x1f45+-0x15b3+0x34f8,_0x2906df['primitive'][-0x1*0xf10+-0x1a*0xa+0x1014]['count']=0x1bbd+-0x5*-0x143+0x6*-0x5ac,_0x2906df['primitive'][0x1ceb+0x7*-0x21e+0xe19*-0x1]['indexed']=!(0x1c63*0x1+-0x7*0x305+-0x109*0x7),_0x2906df['aabb']['setMinMax'](T['ZERO'],new T(_0x50db58,_0x592344,0x382*-0x7+0x1646*0x1+0x248)),this['_updateMes'+'h'](_0x2906df),_0x2906df;}['_updateMes'+'h'](_0x108fc1){const _0x2970fb=this['_element'];let _0x608a44=_0x2970fb['calculated'+'Width'],_0x502d07=_0x2970fb['calculated'+'Height'];if(_0x2970fb['fitMode']!==gh&&this['_targetAsp'+'ectRatio']>0x3*0xcf8+0x1*-0x37f+-0x2369){const _0x182798=_0x2970fb['calculated'+'Width']/_0x2970fb['calculated'+'Height'];_0x2970fb['fitMode']===YP&&_0x182798>this['_targetAsp'+'ectRatio']||_0x2970fb['fitMode']===KP&&_0x182798<this['_targetAsp'+'ectRatio']?_0x608a44=_0x2970fb['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x502d07=_0x2970fb['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x40bf01=_0x2970fb['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x40bf01),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){const _0x3a458b=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0xc10fe1=(-0x7*0x576+0x1607+0x1035)/_0x3a458b['rect']['z'],_0x17f0d3=(-0x5*0xd6+-0x1*0x44c+0x87c)/_0x3a458b['rect']['w'];this['_innerOffs'+'et']['set'](_0x3a458b['border']['x']*_0xc10fe1,_0x3a458b['border']['y']*_0x17f0d3,_0x3a458b['border']['z']*_0xc10fe1,_0x3a458b['border']['w']*_0x17f0d3);const _0x2a628a=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x3a458b['rect']['x']/_0x2a628a['width'],_0x3a458b['rect']['y']/_0x2a628a['height'],_0x3a458b['rect']['z']/_0x2a628a['width'],_0x3a458b['rect']['w']/_0x2a628a['height']);const _0x5b4478=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x33e216=_0x3a458b['rect']['z']/_0x5b4478,_0x4368c6=_0x3a458b['rect']['w']/_0x5b4478;this['_outerScal'+'e']['set'](Math['max'](_0x608a44,this['_innerOffs'+'et']['x']*_0x33e216),Math['max'](_0x502d07,this['_innerOffs'+'et']['y']*_0x4368c6));let _0x449d26=_0x33e216,_0x3b4f48=_0x4368c6;this['_outerScal'+'e']['x']/=_0x33e216,this['_outerScal'+'e']['y']/=_0x4368c6,_0x449d26*=N['clamp'](_0x608a44/(this['_innerOffs'+'et']['x']*_0x33e216),0x2261+0x914+-0x19*0x1bd+0.0001,-0x3*0x425+-0x25c7+-0xf*-0x359),_0x3b4f48*=N['clamp'](_0x502d07/(this['_innerOffs'+'et']['y']*_0x4368c6),-0x19*0xd3+0x3*-0x5b1+0x25ae+0.0001,0x16fe+0x10*-0x235+0xc53*0x1),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][0x72a+-0x1*-0xd2b+-0x6c7*0x3]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x1b15+-0x5d5*0x3+0x2c95*0x1]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x167+-0xd*-0x2b9+0xc*-0x2d5]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x13f+-0x4cd+-0xb*-0x53]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x441*-0x1+-0x2678+0x2ab9]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x5*0x338+-0x1ec5*0x1+-0x757*-0x2]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x517*0x7+-0x512*0x1+0x28b5]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x3*0x91+0x1*0xbe8+-0xa32]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][-0x554*0x3+-0x79*0x2e+0x25ba]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0xd46+0x14ce+-0x8f*0x3d]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x449d26,_0x3b4f48,-0xed7+0x57*0x17+-0x1*-0x707),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((-0x10*0x24a+-0x7c*0x33+0x3d54+0.5-_0x2970fb['pivot']['x'])*_0x608a44,(0x2f4+-0xa1*0x3b+-0x2227*-0x1+0.5-_0x2970fb['pivot']['y'])*_0x502d07,-0x1937+-0xf72+0x28a9));}else{const _0x2ae206=_0x108fc1['vertexBuff'+'er'],_0x46e824=new Float32Array(_0x2ae206['lock']()),_0x344493=_0x2970fb['pivot']['x'],_0x3982cb=_0x2970fb['pivot']['y'];_0x46e824[0xff2+0x3*-0x826+0x880]=_0x608a44-_0x344493*_0x608a44,_0x46e824[0x1109+0x9*-0x445+0x1565]=0x2*0x129a+-0x5*0x265+-0x193b-_0x3982cb*_0x502d07,_0x46e824[0x2*0x122b+0x94*0x12+-0x2eb6]=_0x608a44-_0x344493*_0x608a44,_0x46e824[-0x1bf1+-0x24f*-0x2+-0x175c*-0x1]=_0x502d07-_0x3982cb*_0x502d07,_0x46e824[0x1327+0x15b*0x16+0x30e9*-0x1]=0x4*0x1f6+0x8*-0x400+-0x2*-0xc14-_0x344493*_0x608a44,_0x46e824[-0xa0d*-0x3+-0x85d+0x53*-0x43]=-0x1*0x21cb+-0x182f+0x39fa*0x1-_0x3982cb*_0x502d07,_0x46e824[0x1cf3+0x9f4+0x26cf*-0x1]=0x2*-0xde4+0xd44+0x1*0xe84-_0x344493*_0x608a44,_0x46e824[-0x1*-0x14c7+-0x5*-0x6e1+-0x3713]=_0x502d07-_0x3982cb*_0x502d07;let _0x28215f=0x1bbd+-0x1169+0x371*-0x3,_0x28f030=0x1*0x107b+-0xf74*-0x1+-0x1fee,_0xc05077=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x242bd1=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x242bd1&&(_0xc05077=_0x242bd1['rect'],_0x28215f=this['_sprite']['atlas']['texture']['width'],_0x28f030=this['_sprite']['atlas']['texture']['height']);}_0x46e824[0x1bd1+-0xb9b+-0x1030]=(_0xc05077['x']+_0xc05077['z'])/_0x28215f,_0x46e824[0x151*-0x3+0xbed+-0x7f3]=0x163c+-0x1113+-0xc*0x6e-_0xc05077['y']/_0x28f030,_0x46e824[0x18de+-0x1e41+0x571*0x1]=(_0xc05077['x']+_0xc05077['z'])/_0x28215f,_0x46e824[-0x27*-0x2e+-0x108a*-0x1+-0x177d]=-0x547+-0x1*0x1b16+-0x3*-0xaca-(_0xc05077['y']+_0xc05077['w'])/_0x28f030,_0x46e824[0x7*0x217+-0x2*0xad+-0xd31]=_0xc05077['x']/_0x28215f,_0x46e824[-0x1c31+-0x1fdb+0x3c23]=0x5*-0x15b+-0x1d21+0x23e9-_0xc05077['y']/_0x28f030,_0x46e824[0x15e2*0x1+0x1*-0xc59+-0x96b]=_0xc05077['x']/_0x28215f,_0x46e824[-0x82+-0xb5f+-0x40*-0x30]=-0x50f+0x1*0x16c7+-0x11b7*0x1-(_0xc05077['y']+_0xc05077['w'])/_0x28f030,_0x2ae206['unlock']();const _0xaabd0e=new T(-0x1*0x21ef+-0x24d1+0x46c0-_0x344493*_0x608a44,0x1b4d+-0x111b+-0xa32-_0x3982cb*_0x502d07,0x6*-0x2e9+-0x5d5*-0x1+0xba1),_0x384c7e=new T(_0x608a44-_0x344493*_0x608a44,_0x502d07-_0x3982cb*_0x502d07,0x1a07+0x3d0+-0x1dd7);_0x108fc1['aabb']['setMinMax'](_0xaabd0e,_0x384c7e),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](0x115*0xa+0x1*-0x181+-0x950,-0xcf8+0x1361*-0x1+0x205a,-0x9e1+0xc76+0x6e*-0x6),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](0xb23+0xb*0x1a2+-0x3*0x9b3,0x8*0x17f+-0x1922+-0x5*-0x2a2,-0x1cc0+0x13a*-0x19+0x3b6a),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(-0x83*0x1+0x54*0x43+-0x1578);}['_updateSpr'+'ite'](){let _0x5444e2=!(-0x922+-0x19b*0x10+0x22d3),_0x1a6a98=null;if(this['_targetAsp'+'ectRatio']=-(0xf64+0x3*-0x411+-0x198*0x2),this['_sprite']&&this['_sprite']['atlas']){_0x1a6a98=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x5444e2=this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe;const _0x267c7e=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x267c7e==null?void(0x2b3*-0x2+-0x1cd9*0x1+0x223f):_0x267c7e['rect']['w'])>-0x1*0x1d2a+-0x1a80+0x37aa&&(this['_targetAsp'+'ectRatio']=_0x267c7e['rect']['z']/_0x267c7e['rect']['w']);}this['mesh']=_0x5444e2?_0x1a6a98:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x17d7+0x2532+0x3d09*-0x1):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x201c2f){return _0x201c2f['center']['set'](-0xc*0x1fc+0xcb4+0xed*0xc,0x21ae+-0x8dd+0x18d1*-0x1,0x5*-0x647+0x9*-0x33f+-0x2*-0x1e4d),_0x201c2f['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x1a1+0xb1a+-0x979+0.5),this['_outerScal'+'e']['y']*(-0x20b6+0x1*0x26db+-0x625+0.5),0x175f+-0x2489+-0x151*-0xa+0.001),_0x201c2f['setFromTra'+'nsformedAa'+'bb'](_0x201c2f,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x201c2f;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x3ac14a=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x3ac14a),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x2b2242){this['material']=_0x2b2242['resource'];}['_onMateria'+'lAdded'](_0x507305){this['_system']['app']['assets']['off']('add:'+_0x507305['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x507305['id']&&this['_bindMater'+'ialAsset'](_0x507305);}['_bindMater'+'ialAsset'](_0x9950cd){this['_entity']['enabled']&&(_0x9950cd['on']('load',this['_onMateria'+'lLoad'],this),_0x9950cd['on']('change',this['_onMateria'+'lChange'],this),_0x9950cd['on']('remove',this['_onMateria'+'lRemove'],this),_0x9950cd['resource']?this['_onMateria'+'lLoad'](_0x9950cd):this['_system']['app']['assets']['load'](_0x9950cd));}['_unbindMat'+'erialAsset'](_0xfbdb20){_0xfbdb20['off']('load',this['_onMateria'+'lLoad'],this),_0xfbdb20['off']('change',this['_onMateria'+'lChange'],this),_0xfbdb20['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x53d43a){this['_system']['app']['assets']['off']('add:'+_0x53d43a['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x53d43a['id']&&this['_bindTextu'+'reAsset'](_0x53d43a);}['_bindTextu'+'reAsset'](_0xbad302){this['_entity']['enabled']&&(_0xbad302['on']('load',this['_onTexture'+'Load'],this),_0xbad302['on']('change',this['_onTexture'+'Change'],this),_0xbad302['on']('remove',this['_onTexture'+'Remove'],this),_0xbad302['resource']?this['_onTexture'+'Load'](_0xbad302):this['_system']['app']['assets']['load'](_0xbad302));}['_unbindTex'+'tureAsset'](_0x68d759){_0x68d759['off']('load',this['_onTexture'+'Load'],this),_0x68d759['off']('change',this['_onTexture'+'Change'],this),_0x68d759['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x1a23f6){this['texture']=_0x1a23f6['resource'];}['_onTexture'+'Change'](_0x3dc28b){}['_onTexture'+'Remove'](_0x100aeb){}['_onSpriteA'+'ssetAdded'](_0x9c72bf){this['_system']['app']['assets']['off']('add:'+_0x9c72bf['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x9c72bf['id']&&this['_bindSprit'+'eAsset'](_0x9c72bf);}['_bindSprit'+'eAsset'](_0x163e99){this['_entity']['enabled']&&(_0x163e99['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x163e99['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x163e99['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x163e99['resource']?this['_onSpriteA'+'ssetLoad'](_0x163e99):this['_system']['app']['assets']['load'](_0x163e99));}['_unbindSpr'+'iteAsset'](_0x4c88da){_0x4c88da['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x4c88da['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x4c88da['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x4c88da['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x4c88da['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x56b57e){if(!_0x56b57e||!_0x56b57e['resource'])this['sprite']=null;else{if(_0x56b57e['resource']['atlas'])this['sprite']=_0x56b57e['resource'];else{const _0x5ac684=_0x56b57e['data']['textureAtl'+'asAsset'];if(_0x5ac684){const _0x13639d=this['_system']['app']['assets'];_0x13639d['off']('load:'+_0x5ac684,this['_onTexture'+'AtlasLoad'],this),_0x13639d['once']('load:'+_0x5ac684,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x23e105){this['_onSpriteA'+'ssetLoad'](_0x23e105);}['_onSpriteA'+'ssetRemove'](_0x396e9f){}['_bindSprit'+'e'](_0x445bfe){this['_evtSetMes'+'hes']=_0x445bfe['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x445bfe['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x445bfe['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x445bfe['atlas']&&_0x445bfe['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x3e66ed){var _0x1b9db1;(_0x1b9db1=this['_evtSetMes'+'hes'])==null||_0x1b9db1['off'](),this['_evtSetMes'+'hes']=null,_0x3e66ed['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x3e66ed['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x3e66ed['atlas']&&_0x3e66ed['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],0x12c1+-0x4bd*0x7+0xe6a,this['_sprite']['frameKeys']['length']-(-0x230d+-0x1415+0x3723))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==Ti&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x256a7a){const _0x497125=this['_spriteAss'+'et'];_0x497125 instanceof le?this['_onSpriteA'+'ssetLoad'](_0x497125):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x497125));}['onEnable'](){if(this['_materialA'+'sset']){const _0x23cb75=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x23cb75&&_0x23cb75['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x23cb75);}if(this['_textureAs'+'set']){const _0x5b47c3=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x5b47c3&&_0x5b47c3['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x5b47c3);}if(this['_spriteAss'+'et']){const _0x5792f6=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x5792f6&&_0x5792f6['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x5792f6);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x5b62d0){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x5b62d0,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x5b62d0;let _0x4839cf=-0x6*0x40c+-0x807+0x204f;if(this['_element']['maskedBy']&&(_0x4839cf=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x2e7838=new qs({'ref':_0x4839cf+(-0x1032+0x2*0x1273+-0x2f5*0x7),'func':Ch,'zpass':WS});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x2e7838,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x2e7838;}}['_updateRen'+'derableEmi'+'ssive'](){jl['linear'](this['_color']),this['_colorUnif'+'orm'][-0x344+-0x89a+0x1f*0x62]=jl['r'],this['_colorUnif'+'orm'][-0x177+0xda2+-0xc2a]=jl['g'],this['_colorUnif'+'orm'][0x25f*0x6+-0x1*0x6c9+0xb*-0xad]=jl['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x12a499){this['_color']===_0x12a499&&v['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x16eb74,g:_0x561640,b:_0x2910fd}=_0x12a499;(this['_color']['r']!==_0x16eb74||this['_color']['g']!==_0x561640||this['_color']['b']!==_0x2910fd)&&(this['_color']['r']=_0x16eb74,this['_color']['g']=_0x561640,this['_color']['b']=_0x2910fd,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x153d57){_0x153d57!==this['_color']['a']&&(this['_color']['a']=_0x153d57,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x153d57)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x153d57);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x2b9225){this['_rect']===_0x2b9225&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x2a1d91,_0x52cf9d,_0x1105f5,_0x58cd3f;_0x2b9225 instanceof Q?(_0x2a1d91=_0x2b9225['x'],_0x52cf9d=_0x2b9225['y'],_0x1105f5=_0x2b9225['z'],_0x58cd3f=_0x2b9225['w']):(_0x2a1d91=_0x2b9225[0x30a+-0x51d*-0x4+-0x177e],_0x52cf9d=_0x2b9225[0x3*0xb18+0xa6f*0x2+-0xa7*0x53],_0x1105f5=_0x2b9225[0x1d33+-0x85b+-0x14d6],_0x58cd3f=_0x2b9225[0xed7+-0x1c0d+0xd39]),!(_0x2a1d91===this['_rect']['x']&&_0x52cf9d===this['_rect']['y']&&_0x1105f5===this['_rect']['z']&&_0x58cd3f===this['_rect']['w'])&&(this['_rect']['set'](_0x2a1d91,_0x52cf9d,_0x1105f5,_0x58cd3f),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x9d8+-0x7e+-0x95a):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x6246f8=this['_system']['app']['assets'];_0x6246f8['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x24d306=_0x6246f8['get'](this['_materialA'+'sset']);_0x24d306&&(_0x24d306['off']('load',this['_onMateria'+'lLoad'],this),_0x24d306['off']('change',this['_onMateria'+'lChange'],this),_0x24d306['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x38d9a9){if(this['_material']!==_0x38d9a9){if(!_0x38d9a9){const _0x19de1e=this['_element']['_isScreenS'+'pace']();this['mask']?_0x38d9a9=_0x19de1e?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x38d9a9=_0x19de1e?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x38d9a9,this['_materialA'+'sset']){const _0x62756e=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x62756e||_0x62756e['resource']!==_0x38d9a9)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x38d9a9&&(this['_renderabl'+'e']['setMateria'+'l'](_0x38d9a9),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x5bee91){const _0xeb8982=this['_system']['app']['assets'];let _0x3de343=_0x5bee91;if(_0x5bee91 instanceof le&&(_0x3de343=_0x5bee91['id']),this['_materialA'+'sset']!==_0x3de343){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x3de343,this['_materialA'+'sset']){const _0x2852dd=_0xeb8982['get'](this['_materialA'+'sset']);_0x2852dd?this['_bindMater'+'ialAsset'](_0x2852dd):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x3de343,_0xeb8982['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x3de343;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x437f0f){if(this['_texture']!==_0x437f0f){if(this['_textureAs'+'set']){const _0x1ebf15=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x1ebf15&&_0x1ebf15['resource']!==_0x437f0f&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x437f0f,_0x437f0f){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x3b3574=this['_texture']['width']/this['_texture']['height'];_0x3b3574!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x3b3574,this['_element']['fitMode']!==gh&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(0x1453*0x1+-0x1*0x1283+-0x1*0x1cf),this['_element']['fitMode']!==gh&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0xc71fa5){const _0x52d9cf=this['_system']['app']['assets'];let _0x5a890c=_0xc71fa5;if(_0xc71fa5 instanceof le&&(_0x5a890c=_0xc71fa5['id']),this['_textureAs'+'set']!==_0x5a890c){if(this['_textureAs'+'set']){_0x52d9cf['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x7ac663=_0x52d9cf['get'](this['_textureAs'+'set']);_0x7ac663&&(_0x7ac663['off']('load',this['_onTexture'+'Load'],this),_0x7ac663['off']('change',this['_onTexture'+'Change'],this),_0x7ac663['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x5a890c,this['_textureAs'+'set']){const _0x24e509=_0x52d9cf['get'](this['_textureAs'+'set']);_0x24e509?this['_bindTextu'+'reAsset'](_0x24e509):(this['texture']=null,_0x52d9cf['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x3f2468){const _0x2e5310=this['_system']['app']['assets'];let _0x5cd58f=_0x3f2468;if(_0x3f2468 instanceof le&&(_0x5cd58f=_0x3f2468['id']),this['_spriteAss'+'et']!==_0x5cd58f){if(this['_spriteAss'+'et']){_0x2e5310['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x1cb13b=_0x2e5310['get'](this['_spriteAss'+'et']);_0x1cb13b&&this['_unbindSpr'+'iteAsset'](_0x1cb13b);}if(this['_spriteAss'+'et']=_0x5cd58f,this['_spriteAss'+'et']){const _0x1b0d2e=_0x2e5310['get'](this['_spriteAss'+'et']);_0x1b0d2e?this['_bindSprit'+'eAsset'](_0x1b0d2e):(this['sprite']=null,_0x2e5310['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x5cd58f);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x62506e){if(this['_sprite']!==_0x62506e){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x628966=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x628966&&_0x628966['resource']!==_0x62506e&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x62506e,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],0x4*0x422+-0x1*-0xf07+-0x1f8f,this['_sprite']['frameKeys']['length']-(0x790+-0x1ad0+0x9f*0x1f))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x37c102){const _0x5290b0=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=N['clamp'](_0x37c102,0x977*0x1+-0x2a*0xdc+0x11*0x191,this['_sprite']['frameKeys']['length']-(0x7*0x346+0xf4f*-0x1+-0x7*0x116)):this['_spriteFra'+'me']=_0x37c102,this['_spriteFra'+'me']!==_0x5290b0&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x37c102);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x2ec6b6){this['_renderabl'+'e']['setMesh'](_0x2ec6b6),this['_defaultMe'+'sh']===_0x2ec6b6?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0xc0c39f){this['_mask']!==_0xc0c39f&&(this['_mask']=_0xc0c39f,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x3e5875){this['_pixelsPer'+'Unit']!==_0x3e5875&&(this['_pixelsPer'+'Unit']=_0x3e5875,this['_sprite']&&(this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class gR extends ce{constructor(_0x234384){super(),this['_app']=_0x234384,_0x234384['i18n']['on']('set:locale',this['_onSetLoca'+'le'],this),this['_autoLoad']=!(-0x1d47+-0x1cc0+0x3a08),this['_disableLo'+'calization']=!(-0xf81+-0x1c3b+0x2bbd*0x1),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x2e93e5){const _0x55ae7d=_0x2e93e5 instanceof le?_0x2e93e5['id']:_0x2e93e5;this['_defaultAs'+'set']!==_0x55ae7d&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x55ae7d,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x569c51){const _0x13a215=_0x569c51 instanceof le?_0x569c51['id']:_0x569c51;this['_localized'+'Asset']!==_0x13a215&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x13a215,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x4b5c21){this['_autoLoad']!==_0x4b5c21&&(this['_autoLoad']=_0x4b5c21,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x7f8223){this['_disableLo'+'calization']!==_0x7f8223&&(this['_disableLo'+'calization']=_0x7f8223,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x1b465a=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x1b465a?this['_onDefault'+'AssetAdd'](_0x1b465a):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x38600c=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x38600c&&(_0x38600c['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x38600c['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x38600c['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x1e41d7){this['_defaultAs'+'set']===_0x1e41d7['id']&&(_0x1e41d7['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x1e41d7['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x1e41d7['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x490bf1){this['_defaultAs'+'set']===_0x490bf1['id']&&(_0x490bf1['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x490bf1['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x3a1cd8=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x3a1cd8&&(_0x3a1cd8['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x3a1cd8['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x3a1cd8['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x3a1cd8['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x3a1cd8):this['_app']['assets']['load'](_0x3a1cd8));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x421df3=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x421df3&&(_0x421df3['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x421df3['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x421df3['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x3ca49c){this['_localized'+'Asset']===_0x3ca49c['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x57980c){this['fire']('load',_0x57980c);}['_onLocaliz'+'edAssetCha'+'nge'](_0x19992b,_0x5a2c10,_0x561afe,_0xc8eb50){this['fire']('change',_0x19992b,_0x5a2c10,_0x561afe,_0xc8eb50);}['_onLocaliz'+'edAssetRem'+'ove'](_0x4de52d){this['_localized'+'Asset']===_0x4de52d['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x4de52d);}['_onLocaleA'+'dd'](_0x14db54,_0x55c731){this['_app']['i18n']['locale']===_0x14db54&&this['_onSetLoca'+'le'](_0x14db54);}['_onLocaleR'+'emove'](_0x1c87e4,_0x2c72c7){this['_app']['i18n']['locale']===_0x1c87e4&&this['_onSetLoca'+'le'](_0x1c87e4);}['_onSetLoca'+'le'](_0x6b5026){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x1d5012=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x1d5012||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x14475b=_0x1d5012['getLocaliz'+'edAssetId'](_0x6b5026);if(!_0x14475b){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x14475b;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off']('set:locale',this['_onSetLoca'+'le'],this),this['off']();}}const Kh='msdf',yR='bitmap',ho=-0x1*0x266f+-0xd02+0x3371,Kn=0x388*-0x2+0x11ba+-0xaa9,of=-0xa06+-0x61*0x46+0x248e,ix=0x450+0x6*0x1c9+-0xf03,lf=0x22f4+0x9*-0x2a1+-0xb47,hf=-0x35b*0x4+-0x8c*-0x3f+-0x701*0x3,cf=-0x20f1+-0x14a3+0x1*0x359a,df=0x1b0*-0x4+-0x26d8+0x2d9f,dg=0x6d*-0x1+0x1ca*-0x13+0x2273,xR='\x20\x09\x0a\x0d\x0b\x0c',SR=/[\w|/]/;class vR{constructor(_0x3588b6){this['_symbols']=_0x3588b6,this['_index']=-0xba2+-0x7df+-0x1381*-0x1,this['_last']=-0x228a*-0x1+0x123+-0x23ad,this['_cur']=this['_symbols']['length']>0x1*-0x1b47+-0x23a5+0x3eec?this['_symbols'][-0x77*-0x1c+-0xc87+0x1*-0x7d]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x1d4830=this['_read']();for(;_0x1d4830===dg;)_0x1d4830=this['_read']();return _0x1d4830!==ho&&_0x1d4830!==Kn&&(this['_last']=this['_index']),_0x1d4830;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x10738c=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x3d8127=this['read'](),_0x38075c='';for(;_0x38075c+=(_0x38075c['length']>0x23c2+-0x7d3*0x2+0xea*-0x16?'\x0a':'')+_0x10738c[_0x3d8127]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x3d8127===ho||_0x3d8127===Kn);)_0x3d8127=this['read']();return _0x38075c;}['_read'](){return this['_buf']=[],this['_eof']()?ho:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>-0x2025+-0x2f0*-0x3+0x1755?of:ho;case'[':return this['_mode']='tag',this['_buf']['length']>-0x1*0x944+-0x56e+0x3*0x4e6?of:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',Kn;case'[':return this['_store'](),ix;case']':return this['_store'](),this['_mode']='text',lf;case'=':return this['_store'](),hf;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',Kn);}}['_whitespac'+'e'](){for(this['_store']();xR['indexOf'](this['_cur'])!==-(0x1439*-0x1+-0xfbe+-0x11fc*-0x2);)this['_store']();return dg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',Kn;case'\x22':return this['_next'](),cf;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return df;}['_isIdentif'+'ierSymbol'](_0x322837){return _0x322837['length']===0x362*-0x3+0x97c+0xab&&_0x322837['match'](SR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x35824c){this['_buf']['push'](_0x35824c);}}class bR{constructor(_0x184d1e){this['_scanner']=new vR(_0x184d1e),this['_error']=null;}['parse'](_0xa22ea,_0x333593){for(;;)switch(this['_scanner']['read']()){case ho:return!(0x13*0x1fd+0x34a+-0x2911);case Kn:return!(0x36*0x3+-0x1d71*-0x1+-0x503*0x6);case of:Array['prototype']['push']['apply'](_0xa22ea,this['_scanner']['buf']());break;case ix:if(!this['_parseTag'](_0xa22ea,_0x333593))return!(-0x1*-0x1979+0xc99+-0x2611);break;default:return!(-0x1e27*0x1+0x23a3*-0x1+-0x1*-0x41cb);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x5f37f2,_0x2f7441){let _0x3a052f=this['_scanner']['read']();if(_0x3a052f!==df)return this['_error']='expected\x20i'+'dentifier',!(0x9ee+-0x42a*0x2+0x199*-0x1);const _0x4b0ec9=this['_scanner']['buf']()['join']('');if(_0x4b0ec9[-0x1b78+0x657+0x1521]==='/'){for(let _0x507c9b=_0x2f7441['length']-(-0x1d*0x12d+-0x137*0x4+0x26f6);_0x507c9b>=0x245c+0x1e02+0xa*-0x6a3;--_0x507c9b)if(_0x4b0ec9==='/'+_0x2f7441[_0x507c9b]['name']&&_0x2f7441[_0x507c9b]['end']===null)return _0x2f7441[_0x507c9b]['end']=_0x5f37f2['length'],_0x3a052f=this['_scanner']['read'](),_0x3a052f!==lf?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(-0xf2d+-0x1*-0x2095+-0x1167)):!(0x14c6+-0x1c0e+0x1d2*0x4);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(-0x10e2+-0x51*-0x17+-0x4ce*-0x2);}const _0x27b9ab={'name':_0x4b0ec9,'value':null,'attributes':{},'start':_0x5f37f2['length'],'end':null};if(_0x3a052f=this['_scanner']['read'](),_0x3a052f===hf){if(_0x3a052f=this['_scanner']['read'](),_0x3a052f!==cf)return this['_error']='expected\x20s'+'tring',!(0x19*0x10b+-0x1d0*-0x4+0x10a9*-0x2);_0x27b9ab['value']=this['_scanner']['buf']()['join'](''),_0x3a052f=this['_scanner']['read']();}for(;;){switch(_0x3a052f){case lf:return _0x2f7441['push'](_0x27b9ab),!(-0x1508+-0x101f*-0x2+-0x23*0x52);case df:{const _0x314cb0=this['_scanner']['buf']()['join']('');if(_0x3a052f=this['_scanner']['read'](),_0x3a052f!==hf)return this['_error']='expected\x20e'+'quals',!(-0xe3f+-0x1*-0x18e3+-0xaa3);if(_0x3a052f=this['_scanner']['read'](),_0x3a052f!==cf)return this['_error']='expected\x20s'+'tring',!(0x13e4+-0x5*-0x653+-0x3382);const _0x5756af=this['_scanner']['buf']()['join']('');_0x27b9ab['attributes'][_0x314cb0]=_0x5756af;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(-0x9e9+-0x1c65*0x1+0x264f*0x1);}_0x3a052f=this['_scanner']['read']();}}}function rx(_0x57aa89,_0x19f534){for(const _0x6989a8 in _0x19f534){if(!_0x19f534['hasOwnProp'+'erty'](_0x6989a8))continue;const _0x5496f4=_0x19f534[_0x6989a8];_0x5496f4 instanceof Object?(_0x57aa89['hasOwnProp'+'erty'](_0x6989a8)||(_0x57aa89[_0x6989a8]={}),rx(_0x57aa89[_0x6989a8],_0x19f534[_0x6989a8])):_0x57aa89[_0x6989a8]=_0x5496f4;}}function wR(_0x5bdd9c){if(_0x5bdd9c['length']===0x10e1+-0x4c0*-0x2+-0x1a61)return null;const _0x4ab2a9={};for(let _0x3b0625=0x2*-0xf10+-0x489*-0x1+-0x1997*-0x1;_0x3b0625<_0x5bdd9c['length'];++_0x3b0625){const _0x699d33=_0x5bdd9c[_0x3b0625],_0x4dce48={};_0x4dce48[_0x699d33['name']]={'value':_0x699d33['value'],'attributes':_0x699d33['attributes']},rx(_0x4ab2a9,_0x4dce48);}return _0x4ab2a9;}function TR(_0x3fd0bc,_0x349960){if(_0x3fd0bc['length']===0x46+0x22d*0x5+-0xb27)return null;const _0x11aa0d={};for(let _0x34a5d2=0x79f+-0x62*-0x31+-0x1a61;_0x34a5d2<_0x3fd0bc['length'];++_0x34a5d2){const _0x4f2e78=_0x3fd0bc[_0x34a5d2];_0x11aa0d['hasOwnProp'+'erty'](_0x4f2e78['start'])?_0x11aa0d[_0x4f2e78['start']]['open']===null?_0x11aa0d[_0x4f2e78['start']]['open']=[_0x4f2e78]:_0x11aa0d[_0x4f2e78['start']]['open']['push'](_0x4f2e78):_0x11aa0d[_0x4f2e78['start']]={'open':[_0x4f2e78],'close':null},_0x11aa0d['hasOwnProp'+'erty'](_0x4f2e78['end'])?_0x11aa0d[_0x4f2e78['end']]['close']===null?_0x11aa0d[_0x4f2e78['end']]['close']=[_0x4f2e78]:_0x11aa0d[_0x4f2e78['end']]['close']['push'](_0x4f2e78):_0x11aa0d[_0x4f2e78['end']]={'open':null,'close':[_0x4f2e78]};}let _0x27b404=[];function _0x328d9d(_0x2e08f9){_0x27b404=_0x27b404['filter'](_0xc8fcb3=>_0x2e08f9['find'](_0x127f8c=>_0x127f8c===_0xc8fcb3)===void(0x6*-0x3ec+-0xde5*0x1+0x256d));}function _0x25f22c(_0x2f9427){for(let _0x271a17=0x3e5+0x1662+-0x1a47;_0x271a17<_0x2f9427['length'];++_0x271a17)_0x27b404['push'](_0x2f9427[_0x271a17]);}const _0x3beb9c=Object['keys'](_0x11aa0d)['sort']((_0x489a3a,_0x551658)=>_0x489a3a-_0x551658),_0x161921=[];for(let _0x2b0667=0xe5e*0x1+-0x7d*0x3d+-0x1*-0xf6b;_0x2b0667<_0x3beb9c['length'];++_0x2b0667){const _0x426306=_0x11aa0d[_0x3beb9c[_0x2b0667]];_0x426306['close']!==null&&_0x328d9d(_0x426306['close']),_0x426306['open']!==null&&_0x25f22c(_0x426306['open']),_0x161921['push']({'start':_0x3beb9c[_0x2b0667],'tags':wR(_0x27b404)});}const _0x2d1afe=[];let _0x39bb9c=null;for(let _0x1dd3e2=0x194d+0x252c+-0x3e79;_0x1dd3e2<_0x161921['length'];++_0x1dd3e2){const _0x3664df=_0x161921[_0x1dd3e2];for(;_0x2d1afe['length']<_0x3664df['start'];)_0x2d1afe['push'](_0x39bb9c?_0x39bb9c['tags']:null);_0x39bb9c=_0x3664df;}for(;_0x2d1afe['length']<_0x349960;)_0x2d1afe['push'](null);return _0x2d1afe;}function AR(_0x10d922){const _0x162d49=new bR(_0x10d922),_0xd7136c=[],_0x87a755=[];if(!_0x162d49['parse'](_0xd7136c,_0x87a755))return console['warn'](_0x162d49['error']()),{'symbols':_0x10d922,'tags':null};const _0x2123aa=_0x87a755['find'](_0x45afb8=>_0x45afb8['end']===null);if(_0x2123aa)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x2123aa['name']+'\x27'),{'symbols':_0x10d922,'tags':null};const _0x1f17a1=TR(_0x87a755,_0xd7136c['length']);return{'symbols':_0xd7136c,'tags':_0x1f17a1};}class ER{static['evaluate'](_0x5cd6b4){return AR(_0x5cd6b4);}}class CR{constructor(){this['count']=-0x1*0x686+0x1fd7+-0x1951*0x1,this['quad']=0xe93+-0x1b7+-0xcdc*0x1,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function MR(_0x2d20ad,_0x488106){const _0xdbb00e=new Ie(_0x2d20ad);return _0xdbb00e['setPositio'+'ns'](_0x488106['positions']),_0xdbb00e['setNormals'](_0x488106['normals']),_0xdbb00e['setColors3'+'2'](_0x488106['colors']),_0xdbb00e['setUvs'](0x332*0xc+0x26*-0x19+-0x22a2,_0x488106['uvs']),_0xdbb00e['setIndices'](_0x488106['indices']),_0xdbb00e['setVertexS'+'tream'](Po,_0x488106['outlines'],0xaf4+0x21a8+-0x2c99,void(0x1a39+0x44d+0x1e86*-0x1),Ee,!(0xd55+0x2*-0x1044+0x4cd*0x4)),_0xdbb00e['setVertexS'+'tream'](Ro,_0x488106['shadows'],0x13*0x12b+0x1*-0x161b+-0x13,void(0x694+0x1e97+-0x252b),Ee,!(-0x313*0x7+-0xd8*-0x1+0x14ae*0x1)),_0xdbb00e['update'](),_0xdbb00e;}const ug=/^[\r\n]$/,PR=/^[ \t]$/,fg=/^[ \t\-]|\u200b$/,RR=/^[a-z0-9]$/i,pg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,IR=/^[]$/,DR=['','','','','','','','','','','','',''],LR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},mg=new Y(),FR=new W(),Me=new Y();class OR{constructor(_0x4f93ab){this['_element']=_0x4f93ab,this['_system']=_0x4f93ab['system'],this['_entity']=_0x4f93ab['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new gR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(-0xf13+0x8+0xf0b),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new Y(-0x104*0x25+0x313*-0x6+0x7*0x801,-0x3*0x821+-0x3d5*-0x9+0x2f*-0x37,-0x3*0x3d9+0x2156+-0x15ca,0x1403+0x1a9e+-0x4*0xba8),this['_colorUnif'+'orm']=new Float32Array(0x5*-0x55+-0x1*-0x19a9+-0x17fd),this['_spacing']=0x1091*0x1+-0xa3d*0x3+-0x1*-0xe27,this['_fontSize']=0x19ea+0x7c6+-0x2190,this['_fontMinY']=0x9*0x3f3+0x565*0x1+0x8*-0x51e,this['_fontMaxY']=0x252f+0x17cc+0x1*-0x3cfb,this['_originalF'+'ontSize']=0x2cb*0x1+0x7*-0x350+0x33*0x67,this['_maxFontSi'+'ze']=-0x1*-0x1701+-0x5f5*-0x3+-0x8*0x518,this['_minFontSi'+'ze']=0x3*0x6f5+0xfe6+0x39*-0xa5,this['_autoFitWi'+'dth']=!(0x124e+0x1*0x893+-0x1ae0),this['_autoFitHe'+'ight']=!(0xa1*0x25+0x1*0xf7b+-0x26bf),this['_maxLines']=-(0x2f7*-0xa+0xa25*0x1+-0x9c1*-0x2),this['_lineHeigh'+'t']=0xcad+-0x182a+0xb9d,this['_scaledLin'+'eHeight']=0x25cf+-0x1e15+-0x1*0x79a,this['_wrapLines']=!(0xfbb+0x26*-0x81+0x1b6*0x2),this['_drawOrder']=0x2*-0x11fc+0x65*-0x1+0x245d,this['_alignment']=new W(0x202c+-0x4c2+0xdb5*-0x2+0.5,0x1937+-0x1*0x1faf+-0x114*-0x6+0.5),this['_autoWidth']=!(0xfbb*-0x2+-0x2*-0x550+-0xa6b*-0x2),this['_autoHeigh'+'t']=!(0x155d+-0x237f+0xe22),this['width']=0x1b9c+0x1340+-0xbb7*0x4,this['height']=0x19f5+-0x13f3+-0x602,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(0x9e*0x2+-0xec*0x22+0x1e1c),this['_aabb']=new _e(),this['_noResize']=!(0x12a+-0x1db2+0x5b5*0x5),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(0x1274*-0x1+-0xe5*0x19+0x1469*0x2),this['_unicodeCo'+'nverter']=!(0x1cb9+-0x5*-0x6eb+-0x3f4f),this['_rtl']=!(-0x779+-0xdc4+0x153e),this['_outlineCo'+'lor']=new Y(-0x1*-0x46f+0xae4+0x1*-0xf53,-0x159*0x1+0x1acd+-0x1974,-0x4*-0x2c3+0x1*0x1cbe+-0x27ca,-0x1*-0x26f+0x255f*0x1+0x27cd*-0x1),this['_outlineCo'+'lorUniform']=new Float32Array(0x10db+0x1abd*-0x1+0x9e6),this['_outlineTh'+'icknessSca'+'le']=0xce+-0x16*-0x14b+0xd0*-0x24+0.2,this['_outlineTh'+'ickness']=-0x2272+0xf4+-0x217e*-0x1,this['_shadowCol'+'or']=new Y(0x2a*-0x3+-0x3bf*-0x6+-0x15fc,0x16ed+-0x2*0xb11+0x7*-0x1d,-0x15cf+-0x1*0x1b6f+0x313e,-0xf84+-0x11d6+0x215b),this['_shadowCol'+'orUniform']=new Float32Array(0x20b*-0xe+0x22*0x77+0xcd0),this['_shadowOff'+'setScale']=-0x49d*-0x5+-0xd81*-0x1+0x2492*-0x1+0.005,this['_shadowOff'+'set']=new W(0x1e67*0x1+0x6c*-0x19+-0x11*0x12b,0x997*0x1+0xab2+-0x1449),this['_shadowOff'+'setUniform']=new Float32Array(-0x1199*0x2+0xc02*0x3+-0xd2),this['_enableMar'+'kup']=!(-0xd27+0x1b1*-0x1+0xed9),this['_onScreenC'+'hange'](this['_element']['screen']),_0x4f93ab['on']('resize',this['_onParentR'+'esize'],this),_0x4f93ab['on']('set:screen',this['_onScreenC'+'hange'],this),_0x4f93ab['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x4f93ab['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x4f93ab['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=-0x5a6+-0x89*0x15+0x10e3,this['_rangeEnd']=-0x1*0xe51+0x38*0x53+-0x3d7;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x4446ac,_0x39d368){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x5d6d17){_0x5d6d17?this['_updateMat'+'erial'](_0x5d6d17['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x52*0x53+-0x1*0x84d+-0x13f*-0x1c));}['_onScreenS'+'paceChange'](_0x426cf4){this['_updateMat'+'erial'](_0x426cf4);}['_onDrawOrd'+'erChange'](_0xae3b79){if(this['_drawOrder']=_0xae3b79,this['_model']){for(let _0x2aaeb5=-0xce7+-0x210d*-0x1+-0x1426,_0xd79f68=this['_model']['meshInstan'+'ces']['length'];_0x2aaeb5<_0xd79f68;_0x2aaeb5++)this['_model']['meshInstan'+'ces'][_0x2aaeb5]['drawOrder']=_0xae3b79;}}['_onPivotCh'+'ange'](_0x244efd){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x23fa54){if(this['_i18nKey']){if(this['fontAsset']){const _0x3b2289=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x3b2289||!_0x3b2289['resource']||_0x3b2289['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x3dad84,_0x2f29ff){this['_i18nKey']&&_0x2f29ff[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x390266){if(this['unicodeCon'+'verter']){const _0x240ba8=this['_system']['getUnicode'+'Converter']();_0x240ba8?_0x390266=_0x240ba8(_0x390266):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x390266&&(this['_font']&&this['_updateTex'+'t'](_0x390266),this['_text']=_0x390266);}['_updateTex'+'t'](_0x271b7d){let _0xf07434;if(_0x271b7d===void(-0x5*0x1c1+0x1435+-0xb70)&&(_0x271b7d=this['_text']),this['_symbols']=ah['getSymbols'](_0x271b7d['normalize']?_0x271b7d['normalize']('NFC'):_0x271b7d),this['_symbols']['length']===-0x86*-0x1f+-0xcf*0x25+-0x5*-0x2bd&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x1bee42=ER['evaluate'](this['_symbols']);this['_symbols']=_0x1bee42['symbols'],_0xf07434=_0x1bee42['tags']||[];}if(this['_rtlReorde'+'r']){const _0x1e9f18=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x1e9f18){const _0x4f49e9=_0x1e9f18(this['_symbols']);this['_rtl']=_0x4f49e9['rtl'],this['_symbols']=_0x4f49e9['mapping']['map'](function(_0x3f93b9){return this['_symbols'][_0x3f93b9];},this),_0xf07434&&(_0xf07434=_0x4f49e9['mapping']['map'](_0x104cc7=>_0xf07434[_0x104cc7]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(0x13af*0x1+-0x1c07+0x859);const _0x414bfd=(_0x155a55,_0x5c381a)=>_0x155a55['toString'](!(0x2*-0x132d+0x163f+0x101b))['toLowerCas'+'e']()+':'+_0x5c381a['toFixed'](0xaf3*0x1+0x17a8+0x209*-0x11),_0x51a010=(_0x4c34e2,_0x267b08)=>_0x4c34e2['toString'](!(0x6a2+0x60c+-0xcae))['toLowerCas'+'e']()+':'+_0x267b08['x']['toFixed'](-0x1*-0x238d+0x2359+-0x46e4)+':'+_0x267b08['y']['toFixed'](-0x3d*-0x2b+-0x7*-0x1f5+-0x5fc*0x4);if(_0xf07434){const _0x2df5b5={},_0x1ee386={},_0x2eb8ba={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(0x1c1b+0x1fe2+-0x6*0x9d5)),Math['round'](this['_color']['g']*(0x1a7e+-0x52a*-0x3+-0x28fd)),Math['round'](this['_color']['b']*(-0x10a0+-0x26*-0x6a+-0x3*-0xa1))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(-0x669*-0x3+-0x2b*0x4+-0x1190)),Math['round'](this['_outlineCo'+'lor']['g']*(0x1e4+-0x20c1+0x1fdc)),Math['round'](this['_outlineCo'+'lor']['b']*(0xa7f*-0x1+0x12e2+-0xac*0xb)),Math['round'](this['_outlineCo'+'lor']['a']*(0x1*-0xbf2+-0xc7*-0x2b+-0x8a*0x26)),Math['round'](this['_outlineTh'+'ickness']*(-0x1689+0x1*-0x114+0x12c*0x15))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(-0x758+-0xaad+-0x4c1*-0x4)),Math['round'](this['_shadowCol'+'or']['g']*(0x2*0xbb9+-0x1*0x99a+-0xb*0x12b)),Math['round'](this['_shadowCol'+'or']['b']*(-0x1*-0xcd7+0x8b0+0x24*-0x92)),Math['round'](this['_shadowCol'+'or']['a']*(0x1b1*0x7+0x12ae+-0x1d86)),Math['round'](this['_shadowOff'+'set']['x']*(0x25*-0xfd+-0x1279+0x3789)),Math['round'](this['_shadowOff'+'set']['y']*(-0x2475+-0xabc+0x2fb0))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x2df5b5[this['_color']['toString'](!(-0x5d*-0x8+-0x1f23*-0x1+-0x2*0x1105))['toLowerCas'+'e']()]=0x1de2+-0x1*-0x193e+0x30*-0x126,_0x1ee386[_0x414bfd(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=-0x17*0x17+-0x1*0x143+-0x2*-0x1aa,_0x2eb8ba[_0x51a010(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=-0x132b*0x1+0x6d0*0x1+0xc5b;for(let _0x1dbbc7=-0x10a0+-0x1463+0x2503,_0x512074=this['_symbols']['length'];_0x1dbbc7<_0x512074;++_0x1dbbc7){const _0x5e6ceb=_0xf07434[_0x1dbbc7];let _0xfccd8=0x1d25*0x1+0x25a5+-0x53*0xce;if(_0x5e6ceb&&_0x5e6ceb['color']&&_0x5e6ceb['color']['value']){const _0x3953ff=_0x5e6ceb['color']['value'];if(_0x3953ff['length']===0x1578+-0x1696+-0x125*-0x1&&_0x3953ff[0x72e+0x1153*-0x1+0xa25]==='#'){const _0x553935=_0x3953ff['substring'](0x168e+0x1eb0+-0x353d)['toLowerCas'+'e']();_0x2df5b5['hasOwnProp'+'erty'](_0x553935)?_0xfccd8=_0x2df5b5[_0x553935]:/^[0-9a-f]{6}$/['test'](_0x553935)&&(_0xfccd8=this['_colorPale'+'tte']['length']/(-0x1*0x107f+-0x2*-0x18b+0x6b6*0x2),_0x2df5b5[_0x553935]=_0xfccd8,this['_colorPale'+'tte']['push'](parseInt(_0x553935['substring'](-0x17*-0x11f+-0xcf*-0x17+-0x2c62,-0x3*-0x8de+-0x1a34+0x2*-0x32),0x1*-0x423+0x1077+-0x2*0x622)),this['_colorPale'+'tte']['push'](parseInt(_0x553935['substring'](0xa8f*-0x1+0x1934+-0xea3,0xdf7+-0xf2e+0x13b),-0x1599*-0x1+0x1eab+-0x3434*0x1)),this['_colorPale'+'tte']['push'](parseInt(_0x553935['substring'](-0x23df+-0x1*-0xe17+0x15cc,0xef*-0x20+-0xd22+-0x144*-0x22),0x114*0xd+-0x101*0xb+0x2e9*-0x1)));}}this['_symbolCol'+'ors']['push'](_0xfccd8);let _0x4489e7=0x3c*0x10+0x1*-0x16ee+0x132e;if(_0x5e6ceb&&_0x5e6ceb['outline']&&(_0x5e6ceb['outline']['attributes']['color']||_0x5e6ceb['outline']['attributes']['thickness'])){let _0x6ab62e=_0x5e6ceb['outline']['attributes']['color']?mg['fromString'](_0x5e6ceb['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x590eed=Number(_0x5e6ceb['outline']['attributes']['thickness']);(Number['isNaN'](_0x6ab62e['r'])||Number['isNaN'](_0x6ab62e['g'])||Number['isNaN'](_0x6ab62e['b'])||Number['isNaN'](_0x6ab62e['a']))&&(_0x6ab62e=this['_outlineCo'+'lor']),Number['isNaN'](_0x590eed)&&(_0x590eed=this['_outlineTh'+'ickness']);const _0x198be9=_0x414bfd(_0x6ab62e,_0x590eed);_0x1ee386['hasOwnProp'+'erty'](_0x198be9)?_0x4489e7=_0x1ee386[_0x198be9]:(_0x4489e7=this['_outlinePa'+'lette']['length']/(0x9e8*0x1+0xb1+-0xa94),_0x1ee386[_0x198be9]=_0x4489e7,this['_outlinePa'+'lette']['push'](Math['round'](_0x6ab62e['r']*(0xb3f+0x14b8+-0x1ef8)),Math['round'](_0x6ab62e['g']*(0x14bd+0x10*-0xe2+0x1*-0x59e)),Math['round'](_0x6ab62e['b']*(0x1245*-0x2+0x15bc+0xfcd)),Math['round'](_0x6ab62e['a']*(0x23fd+-0x7*-0x365+-0x59*0xa9)),Math['round'](_0x590eed*(0x14eb+0xbc2+-0x2*0xfd7))));}this['_symbolOut'+'lineParams']['push'](_0x4489e7);let _0x5e3b37=-0x2*-0xaca+-0xaae*-0x1+-0x2042;if(_0x5e6ceb&&_0x5e6ceb['shadow']&&(_0x5e6ceb['shadow']['attributes']['color']||_0x5e6ceb['shadow']['attributes']['offset']||_0x5e6ceb['shadow']['attributes']['offsetX']||_0x5e6ceb['shadow']['attributes']['offsetY'])){let _0x2f7fe8=_0x5e6ceb['shadow']['attributes']['color']?mg['fromString'](_0x5e6ceb['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x2479e1=Number(_0x5e6ceb['shadow']['attributes']['offset']),_0xaa2f46=Number(_0x5e6ceb['shadow']['attributes']['offsetX']),_0x48f3db=Number(_0x5e6ceb['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x2f7fe8['r'])||Number['isNaN'](_0x2f7fe8['g'])||Number['isNaN'](_0x2f7fe8['b'])||Number['isNaN'](_0x2f7fe8['a']))&&(_0x2f7fe8=this['_shadowCol'+'or']);const _0x1aea94=FR['set'](Number['isNaN'](_0xaa2f46)?Number['isNaN'](_0x2479e1)?this['_shadowOff'+'set']['x']:_0x2479e1:_0xaa2f46,Number['isNaN'](_0x48f3db)?Number['isNaN'](_0x2479e1)?this['_shadowOff'+'set']['y']:_0x2479e1:_0x48f3db),_0x520a4c=_0x51a010(_0x2f7fe8,_0x1aea94);_0x2eb8ba['hasOwnProp'+'erty'](_0x520a4c)?_0x5e3b37=_0x2eb8ba[_0x520a4c]:(_0x5e3b37=this['_shadowPal'+'ette']['length']/(0x35*-0x12+-0xb*0x159+0x1293),_0x2eb8ba[_0x520a4c]=_0x5e3b37,this['_shadowPal'+'ette']['push'](Math['round'](_0x2f7fe8['r']*(0x1*0x7e1+0x17f6+-0x7b6*0x4)),Math['round'](_0x2f7fe8['g']*(0x173d+0xc3c+-0x2*0x113d)),Math['round'](_0x2f7fe8['b']*(-0xb3*0x29+-0x1f5c+0x49*0xd6)),Math['round'](_0x2f7fe8['a']*(0x1c83+-0x379*0x3+-0x1119)),Math['round'](_0x1aea94['x']*(-0x5a*-0x21+0x2359+-0x2e74)),Math['round'](_0x1aea94['y']*(-0xb88+-0x25af+0x31b6))));}this['_symbolSha'+'dowParams']['push'](_0x5e3b37);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x200b08=this['_calculate'+'CharsPerTe'+'xture']();let _0x5b3fd2=!(0x2093+0x14d7+-0x3569);const _0x2e5afe=this['_element'],_0x2035d8=_0x2e5afe['_isScreenS'+'pace'](),_0x1909f0=_0x2e5afe['_isScreenC'+'ulled'](),_0x244030=function(_0x3e2858){return _0x2e5afe['isVisibleF'+'orCamera'](_0x3e2858);};for(let _0x2ca96d=0x4d6*0x5+-0xa43*-0x2+0x4*-0xb2d,_0x579624=this['_meshInfo']['length'];_0x2ca96d<_0x579624;_0x2ca96d++){const _0x34c892=_0x200b08[_0x2ca96d]||0x1*-0x1b9d+-0x1*0x2249+0x3de6,_0xd7bb3e=this['_meshInfo'][_0x2ca96d];if(_0xd7bb3e['count']!==_0x34c892){if(_0x5b3fd2||(_0x2e5afe['removeMode'+'lFromLayer'+'s'](this['_model']),_0x5b3fd2=!(-0x45*-0x63+0x9*-0xf1+-0x1236)),_0xd7bb3e['count']=_0x34c892,_0xd7bb3e['positions']['length']=_0xd7bb3e['normals']['length']=_0x34c892*(0x16ba+0x21d0+0x3887*-0x1)*(0x41b*0x1+-0x1eeb*-0x1+0x2302*-0x1),_0xd7bb3e['indices']['length']=_0x34c892*(0x21bb+-0x2507+0x34f*0x1)*(0x1*0x88b+0xa2f*-0x2+0xbd5),_0xd7bb3e['uvs']['length']=_0x34c892*(0x1*0x1d7d+-0x12db*0x1+0x55*-0x20)*(-0x1*0x71b+-0x1aa*-0x12+-0x16d5),_0xd7bb3e['colors']['length']=_0x34c892*(-0x1440+0x11c5+0x47*0x9)*(0x281*0xa+0x15e8+-0x2eee*0x1),_0xd7bb3e['outlines']['length']=_0x34c892*(-0x2*-0x954+-0x4*-0x38f+-0x20*0x107)*(-0xd2*-0x25+-0x1b4+-0x1ca3),_0xd7bb3e['shadows']['length']=_0x34c892*(0x15a7+-0x1*-0x26b3+-0x2*0x1e2b)*(-0xcee+-0x1d8a+0x87f*0x5),_0xd7bb3e['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0xd7bb3e['meshInstan'+'ce']),_0x34c892===-0x47*0x47+-0xb3*-0xb+0xc00){_0xd7bb3e['meshInstan'+'ce']=null;continue;}for(let _0x170ad9=0xb1b+-0x22*-0x107+0x935*-0x5;_0x170ad9<_0x34c892;_0x170ad9++)_0xd7bb3e['indices'][_0x170ad9*(0x29+-0x94e+0x928)*(-0x6a*0xb+-0x3*-0xbcb+-0x1ed1*0x1)+(0x1*0x2479+0x356+0xd45*-0x3)]=_0x170ad9*(0x7*0x484+-0x3*0xc70+-0x2dc*-0x2),_0xd7bb3e['indices'][_0x170ad9*(0x981*-0x2+0x130a+0x1*-0x5)*(0x2*0x135d+-0xcd7*0x3+-0x33)+(-0x523+-0x1d21*-0x1+-0x17fd)]=_0x170ad9*(0x3ed*-0x1+-0x1fc3*0x1+0x724*0x5)+(0x97*-0x29+0x4*0x6d9+-0x52*0xa),_0xd7bb3e['indices'][_0x170ad9*(0xf75+-0x1ef+0x481*-0x3)*(-0x1c90+-0x22*-0x109+-0x6a0)+(0x1208+0x1a51+0x2c57*-0x1)]=_0x170ad9*(-0x2a2*-0x5+0xe7c+-0x49b*0x6)+(-0x1*-0x1a7e+0x26af*-0x1+0xc34),_0xd7bb3e['indices'][_0x170ad9*(-0x223f+0x4b*-0x85+0x4939)*(0xd78+-0x128a+0x514)+(0xf69+-0x76*0x5+-0x68c*0x2)]=_0x170ad9*(-0x2*0x109d+-0x85c+0x19*0x1aa)+(-0x235e*0x1+0x397+-0x4f*-0x67),_0xd7bb3e['indices'][_0x170ad9*(0x15d1+0xb84+-0x2152)*(0x837+0x1a*-0x16+0x8b*-0xb)+(0x24b3+0x1*0x23db+-0x488a)]=_0x170ad9*(-0x1*0x149b+-0x1775+0xe*0x326)+(0x1*0x2683+-0x1781+-0xeff),_0xd7bb3e['indices'][_0x170ad9*(0x877+-0x3*0x79d+-0xe63*-0x1)*(-0x5a2+0x1941+-0x139d)+(0x2*-0x54+-0x5c5+0x672)]=_0x170ad9*(-0x7bf*-0x5+-0x1*0x207d+-0x31d*0x2)+(-0x764+0x1063+-0x2*0x47f),_0xd7bb3e['normals'][_0x170ad9*(-0x1de*-0x12+-0x26af+0x517)*(0x1*-0xfaf+0xa5e*-0x1+0xc*0x22c)+(0x613*-0x2+-0x1eab+0x2ad1)]=-0x17a4*0x1+-0x791*-0x1+0x1013,_0xd7bb3e['normals'][_0x170ad9*(0x15a5+-0x8e*-0x43+0x207*-0x1d)*(0xa*-0x3e+0x146e+-0x11ff)+(0x12a+0x1*-0x19a3+-0x1*-0x187a)]=0x10b1+0x1a3f*0x1+-0x2af0,_0xd7bb3e['normals'][_0x170ad9*(-0x1ebe+0x3*-0x5f8+-0x1855*-0x2)*(-0x2471+0x1f2+0x7*0x4ee)+(-0x830+0x68+-0x3e5*-0x2)]=-(0xfd4+-0x132*-0x1f+0x1*-0x34e1),_0xd7bb3e['normals'][_0x170ad9*(-0x53b+0x1*0xbf+-0x48*-0x10)*(-0x1d39*0x1+-0x2*-0x31a+-0x218*-0xb)+(-0x5*-0x2c2+-0x18*0x156+0x1249)]=-0x6e*0x4a+0x17a8+0x824,_0xd7bb3e['normals'][_0x170ad9*(0x1a4d+-0xf97*-0x1+-0x50*0x86)*(0xdf*-0x1d+0x10e3+-0x71*-0x13)+(0x7*0x3fd+-0x703*0x5+0x394*0x2)]=0x157c+-0x1847+0x2cb,_0xd7bb3e['normals'][_0x170ad9*(0x1*-0x1cf7+-0x16*0x44+0x5*0x6f7)*(-0x1765+0x4cb+0x1*0x129d)+(0x1362+-0x121+-0x1*0x123c)]=-(0x11e9+0x1*-0xb8a+-0x65e),_0xd7bb3e['normals'][_0x170ad9*(0x1*0x173e+-0x1*-0x11fb+0x5e3*-0x7)*(0x1*0x1aba+0x74*0x32+-0x315f)+(0x6be*-0x3+-0xc12+0x2052)]=-0x1c5c+0x325+0x50b*0x5,_0xd7bb3e['normals'][_0x170ad9*(-0x7d3+-0x1b5c+0x2333)*(0x1f1e+0x7ec+0x67*-0x61)+(-0x20ba+0x20b6+-0x1*-0xb)]=-0x4b*-0x7a+-0x16dd+-0xce1,_0xd7bb3e['normals'][_0x170ad9*(0x6*0x413+0xd12*-0x1+-0x1*0xb5c)*(0x9d*0x3+0x49*0x19+-0x8f5*0x1)+(-0x4fe+0x259a+0x2094*-0x1)]=-(0x227a*0x1+-0x1d99+-0x4e0),_0xd7bb3e['normals'][_0x170ad9*(-0x163d+0x584+-0x359*-0x5)*(-0x18ac*-0x1+-0x1*-0x15e6+-0x2e8f)+(0xd*0x28d+0xfc+-0x221c)]=0x930+0xd*-0x2ea+0x1cb2,_0xd7bb3e['normals'][_0x170ad9*(-0xf1d*-0x1+-0x967+-0x5b2)*(-0xa7*-0x1+-0x238d+0x22e9)+(-0x7*0x301+0x1*0x1517+-0x3*0x2)]=0x19*0x11e+0x2164+0x1*-0x3d52,_0xd7bb3e['normals'][_0x170ad9*(0xb1d+0x976+-0x148f)*(-0x1fb5+-0xe45+0x2dfd)+(-0x14c1+-0x14b2+-0x2*-0x14bf)]=-(-0x1263+0x1*0x136d+-0x109);const _0x15d5f8=MR(this['_system']['app']['graphicsDe'+'vice'],_0xd7bb3e),_0x369613=new Le(_0x15d5f8,this['_material'],this['_node']);if(_0x369613['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x369613['castShadow']=!(0x113*-0x1+-0xa*-0x16f+-0xd42),_0x369613['receiveSha'+'dow']=!(0x4b*-0x1b+-0x524+-0x6*-0x22d),_0x369613['cull']=!_0x2035d8,_0x369613['screenSpac'+'e']=_0x2035d8,_0x369613['drawOrder']=this['_drawOrder'],_0x1909f0&&(_0x369613['cull']=!(-0x1516+-0x6a8*0x5+-0x1*-0x365e),_0x369613['isVisibleF'+'unc']=_0x244030),this['_setTextur'+'eParams'](_0x369613,this['_font']['textures'][_0x2ca96d]),_0x369613['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x369613['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x369613['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x369613['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x369613['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x2ca96d]['width']),_0x369613['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x369613['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x369613['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][0x215+0x1f1a+0x1*-0x212f]=-0x9*-0x263+-0x22c6+0x1*0xd4b,this['_shadowOff'+'setUniform'][0x698+0x18dd+0x16*-0x16e]=0x2*-0x4cb+0x1*-0x6c7+-0x1*-0x105d;else{const _0x2712e7=-this['_font']['data']['info']['maps'][_0x2ca96d]['width']/this['_font']['data']['info']['maps'][_0x2ca96d]['height'];this['_shadowOff'+'setUniform'][-0x1001+0x22d9+-0x12d8]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x18f*0x3+0x715+-0xbc1]=_0x2712e7*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x369613['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0xd7bb3e['meshInstan'+'ce']=_0x369613,this['_model']['meshInstan'+'ces']['push'](_0x369613);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x5b3fd2&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=-0xce*0x22+0x19a6+-0x92*-0x3,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x27ee75){_0x27ee75['destroy']();const _0x4d4010=this['_model']['meshInstan'+'ces']['indexOf'](_0x27ee75);_0x4d4010!==-(0xaa3*-0x1+-0x13a+0x5ef*0x2)&&this['_model']['meshInstan'+'ces']['splice'](_0x4d4010,0x1*-0xfbf+-0x1799*0x1+0x59f*0x7);}['_setMateri'+'al'](_0x4f66c5){if(this['_material']=_0x4f66c5,this['_model'])for(let _0x222ef7=-0x167*0x14+-0x23ed+0x3ff9,_0x2fec45=this['_model']['meshInstan'+'ces']['length'];_0x222ef7<_0x2fec45;_0x222ef7++){const _0xc9179a=this['_model']['meshInstan'+'ces'][_0x222ef7];_0xc9179a['material']=_0x4f66c5;}}['_updateMat'+'erial'](_0x39cf5d){const _0xe40540=this['_element'],_0x163329=_0xe40540['_isScreenC'+'ulled'](),_0x5ef3ed=function(_0x2c8480){return _0xe40540['isVisibleF'+'orCamera'](_0x2c8480);},_0x2bec10=this['_font']&&this['_font']['type']===Kh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x39cf5d,_0x2bec10,this['_enableMar'+'kup']),this['_model'])for(let _0x2eeb40=-0x137*0x3+0x8a9+-0x504,_0x92f991=this['_model']['meshInstan'+'ces']['length'];_0x2eeb40<_0x92f991;_0x2eeb40++){const _0x683b33=this['_model']['meshInstan'+'ces'][_0x2eeb40];_0x683b33['cull']=!_0x39cf5d,_0x683b33['material']=this['_material'],_0x683b33['screenSpac'+'e']=_0x39cf5d,_0x163329?(_0x683b33['cull']=!(-0x2267+-0x69b+0x2902),_0x683b33['isVisibleF'+'unc']=_0x5ef3ed):_0x683b33['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][0xd6*0x1+0x4*0x8ec+0x19*-0x176]=-0x77e+0x1e99+-0x1*0x171a,this['_colorUnif'+'orm'][0x2023+-0x560+-0x1ac2]=0x528+0x14*-0x1e3+0x13*0x1b7,this['_colorUnif'+'orm'][-0xece+-0x2*0xbf5+0x26ba]=0x3*0x355+-0x5*-0x6c3+0x1*-0x2bcd):(Me['linear'](this['_color']),this['_colorUnif'+'orm'][0x13a3+-0xa*0x2d2+0x11*0x81]=Me['r'],this['_colorUnif'+'orm'][-0x1fea+-0x393+-0x33a*-0xb]=Me['g'],this['_colorUnif'+'orm'][-0x232a+-0x2708+0x4a34]=Me['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][-0x2*-0x624+0x1*-0x473+-0x7d5]=-0x15e6+-0x2e8+0xa*0x27b,this['_outlineCo'+'lorUniform'][-0x477+0xbd4*0x1+-0x75c]=-0x27*-0x12+0x1*-0x18b4+0x2*0xafb,this['_outlineCo'+'lorUniform'][0x38f*-0x1+-0xf88+-0x1*-0x1319]=0x12af*0x1+0x2327*-0x1+0x1078,this['_outlineCo'+'lorUniform'][-0x1d5d+-0x7*0x49d+0x3dab]=0x6a1*-0x3+-0x16f*0x8+0x1f5c):(Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x48b*0x1+0x5*-0x281+0x7fa]=Me['r'],this['_outlineCo'+'lorUniform'][0x4*-0x2ec+-0x1*-0x152b+-0x97a]=Me['g'],this['_outlineCo'+'lorUniform'][-0x3*-0x46d+-0x19f6*-0x1+-0xb*0x391]=Me['b'],this['_outlineCo'+'lorUniform'][0x1359+-0x43*0x29+0x1*-0x89b]=Me['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][-0x5fc+-0x835+-0x1*-0xe31]=-0x23*-0xcd+-0x2*0xcc6+-0x1*0x27b,this['_shadowCol'+'orUniform'][0xce3*-0x3+-0x12d9+0x3983]=0xe93+0x88*-0x25+0x515,this['_shadowCol'+'orUniform'][-0x25cf+-0x11d9+-0x32*-0x11d]=-0x1d39*0x1+0x1*0x1fcf+-0x296,this['_shadowCol'+'orUniform'][0xd4*-0xd+0x1*0x37+0xa90]=-0x167c+-0xa62+-0x7*-0x4b2):(Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0x1479+-0x6*0x469+0x2eef]=Me['r'],this['_shadowCol'+'orUniform'][0xe13+0x13de+-0x21f0]=Me['g'],this['_shadowCol'+'orUniform'][0x23b9+0x1*-0x23fe+0x47*0x1]=Me['b'],this['_shadowCol'+'orUniform'][0xfb8+-0x123*-0xc+-0x1d59]=Me['a']);}['_isWordBou'+'ndary'](_0x26b92b){return fg['test'](_0x26b92b);}['_isValidNe'+'xtChar'](_0x46be0b){return _0x46be0b!==null&&!IR['test'](_0x46be0b);}['_isNextCJK'+'Boundary'](_0x8787bc,_0x12a137){return pg['test'](_0x8787bc)&&(fg['test'](_0x12a137)||RR['test'](_0x12a137));}['_isNextCJK'+'WholeWord'](_0x58e446){return pg['test'](_0x58e446);}['_updateMes'+'hes'](){const _0x30c0bf=this['_font']['data'],_0x4d3c30=this,_0x32cbfb=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x4a6b56=this['_maxFontSi'+'ze'],_0x46793a=this['_shouldAut'+'oFit']();_0x46793a&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x178e38=-0x1*0x1859+-0x178*-0x1+-0x7ab*-0x3,_0x50f7e8=this['_symbols']['length'];let _0x4a2088=-0x1655*0x1+-0x2*0xfb3+0x35bb,_0x2ee83f=0xb4f+-0xcd*0x11+0x24e,_0x425c66=0x1*-0x2065+0xcd7+0x138e,_0x10f3c0=-0x2*-0x95b+-0xe41+-0x475,_0x472ef5=-0x3*-0x82a+0x1382+-0x2bff,_0x31a272=-0x1d54+0xb28+0x122c,_0x520f2e=0x7d1+-0x4*-0x75a+-0xd*0x2dd,_0x4aade7=0x497+-0xbf*0x33+0x2176,_0x1a8931=-0x2468+-0xa80+-0x2ee8*-0x1,_0x30d1aa=0xe65+0x46+-0xeab,_0x5c6b5d=-0x1*-0x2086+0x1dc7+-0x3e4d;const _0x364d16=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=0x4e*0x6+0x22ed+0x61*-0x61+0.0001;let _0x37c767=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x364d16||!this['_wrapLines'])&&(_0x37c767=Number['POSITIVE_I'+'NFINITY']);let _0x307ad1=-0x1c07+-0x1157+0x2d5e,_0xbabf0d=-0x25aa+0x112a*-0x2+-0xc2*-0x5f,_0x1fd807,_0x248cef,_0x2d4282,_0x1b089b;function _0x1ab9fc(_0x5e856b,_0x1705ac,_0x267618){_0x4d3c30['_lineWidth'+'s']['push'](Math['abs'](_0x267618));const _0x54af02=_0x4aade7>_0x1705ac?_0x1705ac+(0x136f+0x2*-0xa46+0x11e):_0x4aade7,_0x224c49=_0x4aade7>_0x1705ac?_0x4aade7+(0x179e*-0x1+0x58*-0x68+0x3b5f):_0x1705ac,_0xe45f4a=_0x5e856b['slice'](_0x54af02,_0x224c49);if(_0x5c6b5d){let _0x5186dc=_0xe45f4a['length'];for(;_0x5186dc--&&_0x5c6b5d>0x3a+0x2444+-0x247e;)ug['test'](_0xe45f4a[_0x5186dc])&&(_0xe45f4a['splice'](_0x5186dc,0x1475*-0x1+-0x2*0xe9b+0x2*0x18d6),_0x5c6b5d--);}_0x4d3c30['_lineConte'+'nts']['push'](_0xe45f4a['join']('')),_0x4a2088=-0x1dc8+-0x2*-0xc92+0x4a4,_0x2ee83f-=_0x4d3c30['_scaledLin'+'eHeight'],_0x472ef5++,_0x1a8931=0x18fe*-0x1+-0x1*-0x1531+0x3cd*0x1,_0x30d1aa=-0x4be+-0x10*0x9d+0x17*0xa2,_0x5c6b5d=0x26*-0x58+-0x1*-0xdf3+-0x1*0xe3,_0x31a272=0xab0+-0x2ad*-0x7+-0x1d6b,_0x4aade7=_0x1705ac;}let _0x7327e1=!(-0xfd3*0x1+0x4*-0x763+-0x73*-0x65);for(;_0x7327e1;){_0x7327e1=!(0xd55*-0x2+-0x82f+0x22da),_0x46793a?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||-0x59*-0x6e+-0x2393+-0x2ab+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=0x1d7*0x4+0x2*-0xaa2+0xde8,this['height']=-0xaa2+0x7*-0x1e6+-0x5fb*-0x4,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x4a2088=0x4f9*0x6+-0x177+-0x1c5f,_0x2ee83f=0x1292+-0x1*-0xb3+-0x1345,_0x425c66=-0xcf*-0x3+0x1*-0x2e3+0x76,_0x10f3c0=0x24c0+0x1*-0x261d+0x15d,_0x472ef5=0x1561+-0x16d3+0x7*0x35,_0x31a272=0x22d4+-0x9*0xe9+0x3*-0x8e1,_0x520f2e=-0x93*0x41+0x17*-0xfb+0x3be0,_0x4aade7=0x1cb9+-0x1*0x65+-0x1c54,_0x1a8931=0x191f*-0x1+-0xbc*-0x5+0x13*0x121,_0x30d1aa=0x1*-0xcec+0xd1b+-0x1*0x2f,_0x5c6b5d=-0x5*-0x3d+0x3eb+0x1*-0x51c;const _0x4360f9=this['_fontSize']/_0x178e38;_0x307ad1=this['_fontMinY']*_0x4360f9,_0xbabf0d=this['_fontMaxY']*_0x4360f9;for(let _0xda2a8c=-0x20*0x12d+0x2537+0x7*0xf;_0xda2a8c<this['_meshInfo']['length'];_0xda2a8c++)this['_meshInfo'][_0xda2a8c]['quad']=-0x1ceb+-0x1a0f*0x1+-0xe3*-0x3e,this['_meshInfo'][_0xda2a8c]['lines']={};let _0x2d8c66=0xc*0x146+0x801*0x2+-0x3*0xa19,_0x58fa1a=-0x1c59+0x9b2+0x13a6,_0x118a88=0x24be*0x1+-0xfd4+0x1*-0x13eb,_0x30bae1=0x3*-0xcfa+-0x13c6+-0x20f*-0x1d+(-0x12a+0x16ab+-0x1482)*(-0x1*-0x23ef+-0xb*0x1d2+0xee9*-0x1),_0x21fb44=-0x1767+-0xef3*-0x1+-0x1*-0x973+(-0x1517*0x1+0x1270+0x3a6)*(-0x11*0x179+0x18d3+0x136),_0x3a3b2c=0x14ca+-0xdf3+-0x6d7,_0x3d56cc=-0x19fc+0x2046+-0x54b*0x1+(0x1e6c+-0x14d4+-0x899*0x1)*(-0xbbd*-0x1+-0x1ad5*0x1+0x1018),_0x44c214=-0x1afc+-0x29*0xd3+0x1ee3*0x2+(-0x105d*-0x1+-0x23a0+0xa21*0x2)*(0x10b2+0x6*-0x5d6+-0x1*-0x1352),_0x224458=-0x128d+0x1d78+-0xa6c+(0x21*-0x2f+-0x17*0x8e+0x1350)*(-0xcec*-0x1+-0x105d+0x3*0x17b);for(let _0x2c12ce=-0x7c5+0x2428+-0x1c63;_0x2c12ce<_0x50f7e8;_0x2c12ce++){if(_0x1fd807=this['_symbols'][_0x2c12ce],_0x1b089b=_0x2c12ce+(0xae5*-0x2+-0x4a9*-0x2+0x1f*0x67)>=_0x50f7e8?null:this['_symbols'][_0x2c12ce+(0x1601*-0x1+-0x23*0x1+0x1625)],ug['test'](_0x1fd807)){_0x5c6b5d++,(!this['_wrapLines']||this['_maxLines']<0x383*0x1+0xf7b*0x2+0x5*-0x6e5||_0x472ef5<this['_maxLines'])&&(_0x1ab9fc(this['_symbols'],_0x2c12ce,_0x10f3c0),_0x520f2e=_0x2c12ce+(0x148d+-0xe1a+-0xa5*0xa),_0x4aade7=_0x2c12ce+(0x248a+0xa1d+0xe*-0x355));continue;}let _0x1e4243=-0x20*-0x10+0x79*-0xb+0x333,_0x565101=0x15f4+-0x6*-0x321+-0x28ba,_0x1606ed=0x24df+-0x2118+-0x1*0x3c7,_0x33f4f1=0x15*0xc7+0x1614+-0x2666,_0x24c91a,_0x3fe118;if(_0x248cef=_0x30c0bf['chars'][_0x1fd807],!_0x248cef){if(DR['indexOf'](_0x1fd807)!==-(-0x1f0+-0x494+-0x1*-0x685))_0x248cef=LR;else{if(_0x30c0bf['chars']['\x20'])_0x248cef=_0x30c0bf['chars']['\x20'];else for(const _0x51ef26 in _0x30c0bf['chars']){_0x248cef=_0x30c0bf['chars'][_0x51ef26];break;}_0x30c0bf['missingCha'+'rs']||(_0x30c0bf['missingCha'+'rs']=new Set()),_0x30c0bf['missingCha'+'rs']['has'](_0x1fd807)||(console['warn']('Character\x20'+'\x27'+_0x1fd807+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x30c0bf['info']['face']),_0x30c0bf['missingCha'+'rs']['add'](_0x1fd807));}}if(_0x248cef){let _0x1822d8=-0xe0*0x9+-0x1*-0x868+-0x88;if(_0x30d1aa>-0x140d+-0xa41+0x1e4e){const _0x597a07=this['_font']['data']['kerning'];if(_0x597a07){const _0x570413=_0x597a07[ah['getCodePoi'+'nt'](this['_symbols'][_0x2c12ce-(0x23ce+0xbd*0x10+-0x2f9d)])||-0xc12+0x2b4*-0x8+0x21b2];_0x570413&&(_0x1822d8=_0x570413[ah['getCodePoi'+'nt'](this['_symbols'][_0x2c12ce])||0x167f+0x1acb+-0x314a*0x1]||-0xe07+0x1d7b*-0x1+0x1*0x2b82);}}_0x24c91a=_0x248cef['scale']||-0x2*0x11a7+0x1195+0x2*0x8dd,_0x3fe118=(_0x248cef['width']+_0x248cef['height'])/(0x1832+0x2434+0x4*-0xf19),_0x33f4f1=_0x4360f9*_0x3fe118/_0x24c91a,_0x1606ed=(_0x248cef['xadvance']+_0x1822d8)*_0x4360f9,_0x1e4243=(_0x248cef['xoffset']-_0x1822d8)*_0x4360f9,_0x565101=_0x248cef['yoffset']*_0x4360f9;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x1fd807+'\x27');const _0x58fe18=PR['test'](_0x1fd807),_0x41670b=_0x248cef&&_0x248cef['map']||-0x25*0x9b+0x2d7*-0x3+-0x1eec*-0x1,_0x496ee5=-this['_font']['data']['info']['maps'][_0x41670b]['width']/this['_font']['data']['info']['maps'][_0x41670b]['height'],_0x4f8a2f=this['_meshInfo'][_0x41670b],_0x57c986=_0x4a2088+this['_spacing']*_0x1606ed;if(_0x57c986>_0x37c767&&_0x30d1aa>-0x2213+-0x9*0x319+0xa*0x632&&!_0x58fe18&&(this['_maxLines']<-0xe01+0xf17*0x1+-0x116||_0x472ef5<this['_maxLines'])){if(_0x1a8931===-0xb2a*-0x3+-0x3*0x2b6+-0x6*0x43a)_0x520f2e=_0x2c12ce,_0x1ab9fc(this['_symbols'],_0x2c12ce,_0x10f3c0);else{const _0x1741fd=Math['max'](_0x2c12ce-_0x520f2e,0x3*0x95b+0x15ca*0x1+-0x31db);if(this['_meshInfo']['length']<=0x1*-0x142b+-0x95*0x30+0x301c)_0x4f8a2f['lines'][_0x472ef5-(0x3fa*-0x1+-0x9ea+-0xde5*-0x1)]-=_0x1741fd,_0x4f8a2f['quad']-=_0x1741fd;else{const _0x16be05=_0x520f2e,_0x44da15=_0x2c12ce;for(let _0x25e3c9=_0x16be05;_0x25e3c9<_0x44da15;_0x25e3c9++){const _0x456bad=this['_symbols'][_0x25e3c9],_0x3a8821=_0x30c0bf['chars'][_0x456bad],_0x48b8b3=this['_meshInfo'][_0x3a8821&&_0x3a8821['map']||0x1*-0xe7e+-0x1*-0x1f06+-0x1088];_0x48b8b3['lines'][_0x472ef5-(0x2116+0x4d5*0x1+-0x25ea)]-=-0x1*0x3a0+-0xbbc+0xf5d,_0x48b8b3['quad']-=0x3d*-0x4+0x40c*0x3+-0xb2f;}}_0x2c12ce-=_0x1741fd+(-0x1e1b+-0x3*-0x4ab+-0x1f*-0x85),_0x1ab9fc(this['_symbols'],_0x520f2e,_0x31a272);continue;}}_0x2d4282=_0x4f8a2f['quad'],_0x4f8a2f['lines'][_0x472ef5-(-0xeed+0x19a6+-0x4*0x2ae)]=_0x2d4282;let _0x1abd6d=_0x4a2088-_0x1e4243,_0x1a6645=_0x1abd6d+_0x33f4f1;const _0x3d6d30=_0x2ee83f-_0x565101,_0x2d781b=_0x3d6d30+_0x33f4f1;if(this['_rtl']){const _0x4a7c3e=_0x33f4f1-_0x1e4243-this['_spacing']*_0x1606ed-_0x1e4243;_0x1abd6d-=_0x4a7c3e,_0x1a6645-=_0x4a7c3e;}_0x4f8a2f['positions'][_0x2d4282*(0x34+-0x1133+0x1103)*(-0x4*-0x165+0x125+-0x6b6)+(0x191b*0x1+-0x2012+0x1*0x6f7)]=_0x1abd6d,_0x4f8a2f['positions'][_0x2d4282*(0x7a*-0x39+0x1*0xb51+-0x1*-0xfdd)*(0x1f29+0x1*-0x13a5+-0xb81)+(-0xb8*-0xb+-0xdc3+-0x7d*-0xc)]=_0x3d6d30,_0x4f8a2f['positions'][_0x2d4282*(-0x635+0x4b5*0x4+-0xc9b)*(-0xd*-0x53+-0x921+-0xd*-0x61)+(0x22e0+0x1f83+0x4261*-0x1)]=_0x425c66,_0x4f8a2f['positions'][_0x2d4282*(0x1b8a+0x876+-0x23fc)*(0x171c+-0x1d3c*0x1+0x623)+(-0x1ce1*0x1+0x2f*-0x57+-0x5*-0x8f9)]=_0x1a6645,_0x4f8a2f['positions'][_0x2d4282*(-0x1*-0x1222+0x22cc+-0x34ea)*(0x1*0x12b8+-0x14dc+0x227)+(0x932+-0x4f*0x39+0x869)]=_0x3d6d30,_0x4f8a2f['positions'][_0x2d4282*(-0x589+0x47*-0x1+0x5d4)*(-0x34*-0x13+0xc23+-0xffc)+(-0x1d1a+0x2*0xe03+0x119)]=_0x425c66,_0x4f8a2f['positions'][_0x2d4282*(-0x15f3*0x1+-0x544*0x5+-0x3b7*-0xd)*(0x54f*-0x3+0x256d+-0x157d)+(0x2339+0xa60+0x2d93*-0x1)]=_0x1a6645,_0x4f8a2f['positions'][_0x2d4282*(0xf7b+0x28*-0x6b+0x141)*(0x1*0x94d+-0x18e*-0xf+0x4*-0x827)+(0x258c+-0x5fb*0x3+-0x1394)]=_0x2d781b,_0x4f8a2f['positions'][_0x2d4282*(-0x18d6+-0x429+0x1d03)*(0x72*0x1f+-0x1bf6+0x1*0xe2b)+(-0x1b38+0x18e*0x7+-0x5*-0x346)]=_0x425c66,_0x4f8a2f['positions'][_0x2d4282*(-0x1*0xf4d+-0x679+0x15ca*0x1)*(0x1*-0x1feb+0xe49+-0x1*-0x11a5)+(0xd4f+-0xb7*-0x27+-0xd7*0x31)]=_0x1abd6d,_0x4f8a2f['positions'][_0x2d4282*(-0x10d*0x9+-0x4*0x298+0x13d9*0x1)*(0x1e65*-0x1+0x55*0x2c+0xfcc)+(-0xf24+0x1*-0x1a93+-0x7*-0x5f7)]=_0x2d781b,_0x4f8a2f['positions'][_0x2d4282*(-0x159+0x2411+-0x8ad*0x4)*(0x9*0x26f+-0x2da*-0x2+-0x8*0x373)+(0x4*-0x52+-0x1d*0xc+-0x3*-0xe5)]=_0x425c66,this['width']=Math['max'](this['width'],_0x57c986);let _0x18dda1;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x18dda1=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||0xd4b*0x2+-0x1*-0x1ff3+-0x3a89+0.0001)),_0x18dda1=N['clamp'](_0x18dda1,_0x32cbfb,_0x4a6b56),_0x18dda1!==this['_element']['fontSize'])){this['_fontSize']=_0x18dda1,_0x7327e1=!(0x72e+0x1f0*0x3+0x67f*-0x2);break;}if(this['height']=Math['max'](this['height'],_0xbabf0d-(_0x2ee83f+_0x307ad1)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x18dda1=N['clamp'](this['_fontSize']-(0x1*0x158f+-0x6b0*-0x4+-0x304e),_0x32cbfb,_0x4a6b56),_0x18dda1!==this['_element']['fontSize'])){this['_fontSize']=_0x18dda1,_0x7327e1=!(-0xf67*-0x2+0x1*0x1d50+-0x3c1e);break;}_0x4a2088+=this['_spacing']*_0x1606ed,_0x58fe18||(_0x10f3c0=_0x4a2088),(this['_isWordBou'+'ndary'](_0x1fd807)||this['_isValidNe'+'xtChar'](_0x1b089b)&&(this['_isNextCJK'+'Boundary'](_0x1fd807,_0x1b089b)||this['_isNextCJK'+'WholeWord'](_0x1b089b)))&&(_0x1a8931++,_0x31a272=_0x10f3c0,_0x520f2e=_0x2c12ce+(0x22cc+0xffb*0x2+-0x42c1)),_0x30d1aa++;const _0x49e449=this['_getUv'](_0x1fd807);if(_0x4f8a2f['uvs'][_0x2d4282*(-0x4*-0x3b3+-0x419*-0x5+0x2345*-0x1)*(0x1888+-0xd99*-0x2+0x28*-0x14b)+(0x2*0x9cd+-0x6f*0x30+0x136)]=_0x49e449[0x1*-0x14b1+-0x3*0xbc3+0x37fa],_0x4f8a2f['uvs'][_0x2d4282*(0x1900+-0x18cb+0x7*-0x7)*(-0x3a4*-0x7+-0x207d+0x703)+(0x768+0x216+0x1*-0x97d)]=-0x15eb+-0xfa6*-0x2+0x1*-0x960-_0x49e449[-0x190*0xc+0x1d13+-0x2*0x529],_0x4f8a2f['uvs'][_0x2d4282*(-0x7ed*-0x1+-0x1*0xe75+0x4*0x1a3)*(0x16d9*-0x1+0x2*-0x161+0x199d)+(0x1*0x1bdf+0x162a+0x3*-0x10ad)]=_0x49e449[0x1047+-0x1e83+-0x2*-0x71f],_0x4f8a2f['uvs'][_0x2d4282*(0xdf*-0x16+0x218*-0x6+0x1fbe)*(0x1*0x2df+-0x1*0x21f1+0x1f14)+(-0x13b3+-0x1271+-0x1*-0x2627)]=0x42*-0x4+0xd54+-0xc4b-_0x49e449[-0x2*-0x437+0x33e+-0x1d*0x67],_0x4f8a2f['uvs'][_0x2d4282*(-0x1*-0x2287+0x693+-0x2916)*(0x2dc+0x46a+-0x3e*0x1e)+(-0x3cb+0x4*0x3e1+-0x1b*0x6f)]=_0x49e449[-0xd49+-0x364+0x10af],_0x4f8a2f['uvs'][_0x2d4282*(0xc*-0x61+-0x1*0xb35+0xfc5)*(-0x162a+-0x636+0x1c62)+(0x1288+-0x556*0x5+-0x82b*-0x1)]=0x41*-0x95+-0xfbc*-0x1+-0x3*-0x75e-_0x49e449[0xac8+-0xfaf*0x2+0x1499],_0x4f8a2f['uvs'][_0x2d4282*(0x6b7+0x250d+-0x5*0x8c0)*(0x2*-0x81e+-0x4f*0x23+0x1b0b)+(-0x3*-0x961+0x7a5+-0x2*0x11e1)]=_0x49e449[0x4ef*-0x7+0xb9f+-0x7*-0x346],_0x4f8a2f['uvs'][_0x2d4282*(0x1f58+0x7*-0x23+-0x1e5f)*(0x1*-0xd17+0x1ca1+-0x38*0x47)+(-0x1*-0x8a7+0x20ab+0x1*-0x294b)]=0x1482+-0xc*-0xa2+-0x1*0x1c19-_0x49e449[0x3*-0x3cb+-0x24fb*0x1+0x7*0x6e9],this['_symbolCol'+'ors']){const _0x251cf1=this['_symbolCol'+'ors'][_0x2c12ce]*(0x138e+0x313*0x6+-0x25fd);_0x2d8c66=this['_colorPale'+'tte'][_0x251cf1],_0x58fa1a=this['_colorPale'+'tte'][_0x251cf1+(-0x20b4+0x4*0x9bd+-0x63f*0x1)],_0x118a88=this['_colorPale'+'tte'][_0x251cf1+(0x7*-0x30d+-0x5*0x1+0xe*0x187)];}if(_0x4f8a2f['colors'][_0x2d4282*(0x17f1+-0x1*0x22f9+0x1*0xb0c)*(0x887+0x2209*-0x1+0x2d6*0x9)+(-0x11ff+-0x22e4+-0x3*-0x11a1)]=_0x2d8c66,_0x4f8a2f['colors'][_0x2d4282*(0x1d5*-0x15+-0x1f9+0x2876)*(-0x3*-0x403+0xfb0+-0x1bb5*0x1)+(0x34*0x1a+-0x16ca+-0x1183*-0x1)]=_0x58fa1a,_0x4f8a2f['colors'][_0x2d4282*(0x2*0x5ab+-0x1396+0x4*0x211)*(-0x1f0d*0x1+0xd5c+-0x1*-0x11b5)+(-0x12fa+-0x2*0x100f+0xd3*0x3e)]=_0x118a88,_0x4f8a2f['colors'][_0x2d4282*(0xb32*0x2+0x1*0x6ad+-0x1d0d)*(0x2*0x5c6+-0xc42+0xba)+(-0x1*-0x1429+-0x11*-0x20f+-0x3725)]=0x148b+0xad4+-0x1e60,_0x4f8a2f['colors'][_0x2d4282*(0x11c6+0xb83+-0x1d45*0x1)*(-0x1f9b+0x1bd7+-0x3c8*-0x1)+(0x2*-0x1168+-0x1860+0x34a*0x12)]=_0x2d8c66,_0x4f8a2f['colors'][_0x2d4282*(0x19*0xbe+-0x2*-0xdc2+-0x2*0x1707)*(0xb74+0x1586+-0x107b*0x2)+(0x1*-0x476+0x1a0b+-0x45*0x50)]=_0x58fa1a,_0x4f8a2f['colors'][_0x2d4282*(-0x2e9*-0x4+-0x655+-0x1*0x54b)*(0x1*-0x1312+-0x74f+0x1a65)+(-0x9*-0x379+-0x1*0x1ec1+-0x2*0x3d)]=_0x118a88,_0x4f8a2f['colors'][_0x2d4282*(0x4e1*0x5+0x1b1d+-0x337e)*(0x17ec+-0x3f5+-0x13f3)+(-0x1a66+-0xd61+0x27ce)]=0xc76+0x13dd+-0x1f54,_0x4f8a2f['colors'][_0x2d4282*(0xf09+-0x1172+0x26d)*(-0x12ac+-0xc77*-0x3+-0x12b5)+(0x183+-0x2*-0x3d1+-0x91d)]=_0x2d8c66,_0x4f8a2f['colors'][_0x2d4282*(0x8b*-0x2a+0x9e*0x35+-0x9e4)*(0x1*0xb29+0x1*0xce7+-0x180c)+(0x1eef+0x1b05+-0x1*0x39eb)]=_0x58fa1a,_0x4f8a2f['colors'][_0x2d4282*(-0xa84+0x1115+0x68d*-0x1)*(0x2328+-0x18f9*0x1+-0xa2b*0x1)+(0x783+0x14*-0x12b+0x53*0x31)]=_0x118a88,_0x4f8a2f['colors'][_0x2d4282*(0x1*0x1ec1+0x2019+-0x3ed6)*(-0x1149+-0x9c5*0x1+0x1b12)+(0x1d32+-0x1f70+-0x249*-0x1)]=0x17*-0xb7+-0x20e7+-0x1*-0x3257,_0x4f8a2f['colors'][_0x2d4282*(0x27c*-0x8+0x13*-0x13d+-0x13*-0x249)*(-0x48f+-0x1*0x1d62+0x21f5)+(0x1*0x18f5+0x409+-0x1cf2)]=_0x2d8c66,_0x4f8a2f['colors'][_0x2d4282*(-0x243c+-0x1dbb*-0x1+0x685*0x1)*(0x2091+0x120e*0x1+-0x5*0xa1f)+(0x1171+0x31*0x1f+-0x1753)]=_0x58fa1a,_0x4f8a2f['colors'][_0x2d4282*(-0x266f*-0x1+-0x2fc*0x1+-0x236f)*(0x1770+0x87a+0xaa2*-0x3)+(-0x539+-0xa0a+0x3*0x51b)]=_0x118a88,_0x4f8a2f['colors'][_0x2d4282*(-0x22e2+0xf22*-0x2+-0x26*-0x1b7)*(0x3f*0x24+0x613+0xeeb*-0x1)+(-0x4d7+0x1d2c+-0x1*0x1846)]=0x882+0x47d+-0x400*0x3,this['_symbolOut'+'lineParams']){const _0x240cf1=this['_symbolOut'+'lineParams'][_0x2c12ce]*(0x1083*-0x1+-0xe45+0x1ecd);_0x30bae1=this['_outlinePa'+'lette'][_0x240cf1]+this['_outlinePa'+'lette'][_0x240cf1+(-0x238d+-0x347*0x4+-0x30aa*-0x1)]*(-0x5*-0x4be+0x1*0x9f5+-0x20ab),_0x21fb44=this['_outlinePa'+'lette'][_0x240cf1+(0x1*-0x1357+0x1ec1+-0xb68)]+this['_outlinePa'+'lette'][_0x240cf1+(-0x206e+-0x97f*0x3+0x3cee)]*(0x54*-0x17+-0x214d+0x29d9),_0x3a3b2c=this['_outlinePa'+'lette'][_0x240cf1+(-0x2258+-0x2162+0x43be)];}if(_0x4f8a2f['outlines'][_0x2d4282*(-0x17b+-0x1ebb*-0x1+0x74f*-0x4)*(-0x1*0x182f+-0x5dc*0x3+-0x1*-0x29c6)+(0xbf5*0x1+-0x17*0x10a+0xbf1)]=_0x30bae1,_0x4f8a2f['outlines'][_0x2d4282*(-0x177*0xb+-0x1*-0x255b+0x1ee*-0xb)*(-0x5f9+-0x2342+0x293e)+(0x57e+-0x7e5*0x2+0x36f*0x3)]=_0x21fb44,_0x4f8a2f['outlines'][_0x2d4282*(-0x1*0x2446+-0x198+-0x175*-0x1a)*(0xb08+0x2*0xac1+-0x2087)+(-0x1fcd+-0x23f0+-0x1*-0x43bf)]=_0x3a3b2c,_0x4f8a2f['outlines'][_0x2d4282*(0x1*0x13ac+0x17*0x7b+-0x1eb5)*(-0x1*-0x156b+-0x1044+-0x2*0x292)+(-0x1d3c+-0xdcc+0x2b0b)]=_0x30bae1,_0x4f8a2f['outlines'][_0x2d4282*(-0xb36+-0xa*0x35e+0x2ce6)*(0x19ec+0x336*-0xb+0x969)+(0x5*-0x167+-0x557*0x5+0x21ba)]=_0x21fb44,_0x4f8a2f['outlines'][_0x2d4282*(0x3cb*0x1+0x1a*0xbc+-0x16df)*(-0x625*-0x4+0x220b+-0x3a9c)+(-0x7d2+-0x4*-0x2d7+-0x385)]=_0x3a3b2c,_0x4f8a2f['outlines'][_0x2d4282*(0xabd*-0x1+0x901*0x1+0x1c0)*(-0x71*-0x17+0x40c*-0x7+0x1230)+(0x102e+-0x1347+-0x2f*-0x11)]=_0x30bae1,_0x4f8a2f['outlines'][_0x2d4282*(-0x102f+0xd63*-0x2+0x243*0x13)*(0x13*-0x4f+0x2f*-0xa5+0x242b)+(-0x1ef8+-0xe1f+0x2d1e)]=_0x21fb44,_0x4f8a2f['outlines'][_0x2d4282*(-0x1f96+-0xdf*0x19+0x3561)*(0x2bd*-0x2+-0x256d*0x1+0x2aea)+(-0xdc*0xa+0xeb*0x8+0x52*0x4)]=_0x3a3b2c,_0x4f8a2f['outlines'][_0x2d4282*(-0x35b*0x2+0x1a0f*-0x1+0x20c9)*(-0x1*-0x70b+0x1*0x68+-0x38*0x22)+(0x2da*-0x7+0x2334+-0xf35)]=_0x30bae1,_0x4f8a2f['outlines'][_0x2d4282*(0x2*0x28d+-0x810+-0x2fa*-0x1)*(0x12cc+0x3da+0x16a3*-0x1)+(-0x18a3+-0x136e*0x1+-0x7*-0x64d)]=_0x21fb44,_0x4f8a2f['outlines'][_0x2d4282*(0x1c4*0x7+-0x1*0x1c19+0x6d*0x25)*(0x1*-0x15fa+-0x1*0x485+0x105*0x1a)+(-0x1621+-0x1fbc+0xe6*0x3c)]=_0x3a3b2c,this['_symbolSha'+'dowParams']){const _0x10cb7f=this['_symbolSha'+'dowParams'][_0x2c12ce]*(0x134c+0xfb5+0x9*-0x3e3);_0x3d56cc=this['_shadowPal'+'ette'][_0x10cb7f]+this['_shadowPal'+'ette'][_0x10cb7f+(-0x1*-0x6b3+0x18*-0x115+0x1346)]*(-0x9bb+-0x2*0x11+-0x135*-0x9),_0x44c214=this['_shadowPal'+'ette'][_0x10cb7f+(-0xe2e+-0x2*0x10d7+0x2fde)]+this['_shadowPal'+'ette'][_0x10cb7f+(-0x89*0x2e+0x14bb+-0x3e6*-0x1)]*(-0x1a3*-0x7+-0x1910+0xe9b),_0x224458=this['_shadowPal'+'ette'][_0x10cb7f+(-0xced+0x7*0x2b3+-0x5f4*0x1)]+(-0x1590+0x3*0x88d+0x398*-0x1)+Math['round'](_0x496ee5*this['_shadowPal'+'ette'][_0x10cb7f+(0x695+0x1*0x23d+-0x8cd)]+(0xb5*0xb+-0xd78+0x8*0xc6))*(-0x22ed+0x503*-0x2+0x2df3*0x1);}_0x4f8a2f['shadows'][_0x2d4282*(0x2171*-0x1+-0x1*-0x1763+0xa12)*(-0x23*0x86+0x8*0x72+0xec5)+(-0x3*0x5d4+-0x4*0x506+0x2594)]=_0x3d56cc,_0x4f8a2f['shadows'][_0x2d4282*(0x13*-0x10f+-0x1f71+0x7*0x75e)*(0x66*-0x5d+-0x16b0+0x3bc1)+(0x1279+-0xd6d+-0x1*0x50b)]=_0x44c214,_0x4f8a2f['shadows'][_0x2d4282*(-0x797+-0x110c+0x18a7*0x1)*(-0x5*0x1c1+0x1073+-0x97*0xd)+(-0x1b3e+0x1*-0x1ce2+0x3822)]=_0x224458,_0x4f8a2f['shadows'][_0x2d4282*(0x28+-0xeb5+0xe91*0x1)*(0x200+0x24ec+-0x26e9)+(0xd81*-0x1+0xb*-0x2cf+0x2c69)]=_0x3d56cc,_0x4f8a2f['shadows'][_0x2d4282*(0xe6c*0x2+-0x3e6+-0x18ee)*(-0x30*-0x9+0xcf*0x13+-0x110a)+(0x20d9+-0x457*0x1+-0x7*0x412)]=_0x44c214,_0x4f8a2f['shadows'][_0x2d4282*(0x1383+-0x21a4+0xe25)*(0x1eae*0x1+-0x23a1*0x1+0x4f6)+(-0x3*-0x113+-0x26*-0xe9+-0x566*0x7)]=_0x224458,_0x4f8a2f['shadows'][_0x2d4282*(0x3*-0x239+0x14cb*-0x1+0x1b7a)*(-0x519+0x234d*-0x1+0x5*0x815)+(0x5*-0x33b+-0x6d8+0x1705*0x1)]=_0x3d56cc,_0x4f8a2f['shadows'][_0x2d4282*(0x2614+-0xcf4+-0x191c*0x1)*(0x343*-0x3+-0x270c+-0x18*-0x209)+(0x147+-0x1d75*0x1+0xf9*0x1d)]=_0x44c214,_0x4f8a2f['shadows'][_0x2d4282*(0x23f9+-0xc9d*-0x2+-0x3d2f)*(-0x24d+0x1fd9*-0x1+-0x9f*-0x37)+(-0x4f1+0x1806+-0x130d)]=_0x224458,_0x4f8a2f['shadows'][_0x2d4282*(0x85e*-0x1+-0x2231+0x3*0xe31)*(-0xdbe+0x71*0x4b+-0x1*0x135a)+(0x5e5+0x8ad+-0xe89)]=_0x3d56cc,_0x4f8a2f['shadows'][_0x2d4282*(-0x89b+-0x26e7+0x2f86)*(-0xaed*0x1+-0x67*-0x4b+-0x133d)+(0xfe+-0x199d+0x18a9)]=_0x44c214,_0x4f8a2f['shadows'][_0x2d4282*(-0x257*0x5+0x1093+-0x4dc)*(0xe10+-0x23b8+0x3*0x739)+(0x2507*-0x1+0x1b5b+0x3*0x33d)]=_0x224458,_0x4f8a2f['quad']++;}_0x7327e1||_0x4aade7<_0x50f7e8&&_0x1ab9fc(this['_symbols'],_0x50f7e8,_0x4a2088);}this['_noResize']=!(0x66d+0xef7*0x1+-0x1564),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(-0x192*-0x5+-0x8d9+0x80*0x2);const _0x4b148f=this['_element']['pivot']['x'],_0x38840b=this['_element']['pivot']['y'],_0x66ddb9=this['_alignment']['x'],_0x54ad2e=this['_alignment']['y'];for(let _0x523a60=-0x1*0x1e07+0x57*0x2+0x2ab*0xb;_0x523a60<this['_meshInfo']['length'];_0x523a60++){if(this['_meshInfo'][_0x523a60]['count']===0x2b*-0x22+0x1f60+-0x2da*0x9)continue;let _0x11fc7d=0x12d8+-0x20e6+0x202*0x7;for(const _0x278faf in this['_meshInfo'][_0x523a60]['lines']){const _0x43c2e5=this['_meshInfo'][_0x523a60]['lines'][_0x278faf],_0x134c27=this['_lineWidth'+'s'][parseInt(_0x278faf,-0x797*0x1+-0x89*0x31+0x21da)],_0x33cde6=-_0x4b148f*this['_element']['calculated'+'Width']+_0x66ddb9*(this['_element']['calculated'+'Width']-_0x134c27)*(this['_rtl']?-(0x2*-0x9e8+0x15f+0x1272):-0xfc7*-0x1+0x1a23+-0x29e9),_0x24b52e=(-0x2d*-0x9+-0x4*0x4c7+0x84*0x22-_0x38840b)*this['_element']['calculated'+'Height']-_0xbabf0d-(-0xd*0xc2+0x1bd1*-0x1+-0x4*-0x96b-_0x54ad2e)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x5d9c42=_0x11fc7d;_0x5d9c42<=_0x43c2e5;_0x5d9c42++)this['_meshInfo'][_0x523a60]['positions'][_0x5d9c42*(0x47+-0x1*0xe7d+-0x4be*-0x3)*(0x23ef*-0x1+-0x74*0x28+-0x3*-0x1206)]+=_0x33cde6,this['_meshInfo'][_0x523a60]['positions'][_0x5d9c42*(0x15f1+0xa56+-0x2043)*(0x1*0x1b2a+-0x190d+-0x2*0x10d)+(0x21b3+-0x1*-0x2c5+0xc27*-0x3)]+=_0x33cde6,this['_meshInfo'][_0x523a60]['positions'][_0x5d9c42*(0x223f+-0xa36*-0x2+0x337*-0x11)*(0x1*-0x5a5+-0x2476+0x2a1e)+(0x2334+-0x6ef+-0x1c3f)]+=_0x33cde6,this['_meshInfo'][_0x523a60]['positions'][_0x5d9c42*(-0x1*-0xfee+-0x1*0x2081+0x1097)*(0x1f32+0x19*-0xe9+0x437*-0x2)+(-0x2644+-0x24*0xe3+-0x1*-0x4639)]+=_0x33cde6,this['_meshInfo'][_0x523a60]['positions'][_0x5d9c42*(-0x1*-0x25af+-0x1bc4+0x5*-0x1fb)*(-0x11ef*-0x1+0xeba+0x15*-0x18e)+(-0x115*0x3+-0x2*0x973+0x36*0x69)]+=_0x24b52e,this['_meshInfo'][_0x523a60]['positions'][_0x5d9c42*(0x1*-0x1a93+0x1fcd+-0x2e*0x1d)*(-0x174a+-0x9d2*-0x2+0x3a9*0x1)+(-0x206b+0x5*-0xfe+0x2565)]+=_0x24b52e,this['_meshInfo'][_0x523a60]['positions'][_0x5d9c42*(-0x1af9+0x2*0x135d+0xbbd*-0x1)*(0x20f0+0xf7*-0x27+0x4b4)+(-0x12f6+0x1*0x240b+0x2*-0x887)]+=_0x24b52e,this['_meshInfo'][_0x523a60]['positions'][_0x5d9c42*(-0x6d3+-0x177a+0x1e51)*(-0x1e1a+0xf*0x203+-0x10)+(-0x19d9+0x1977+0x6c)]+=_0x24b52e;if(this['_rtl'])for(let _0x5021a7=_0x11fc7d;_0x5021a7<=_0x43c2e5;_0x5021a7++){const _0x265a4b=_0x5021a7*(0x79*-0x2f+0xc*0x2a1+-0x951)*(-0x33*0xa9+0x15b*0x4+0x2*0xe21);for(let _0x1d414b=-0x11cd+-0x1ff*0xa+0x25c3;_0x1d414b<-0x1940+-0x1590*-0x1+-0x6*-0x9e;++_0x1d414b)this['_meshInfo'][_0x523a60]['positions'][_0x265a4b+_0x1d414b*(-0xdb6+-0x57+0xe10)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x523a60]['positions'][_0x265a4b+_0x1d414b*(0x256*0xb+-0x1d00+0x351)]+_0x33cde6*(-0x1167+-0x11*0x24b+0x3864);const _0x3c35e2=this['_meshInfo'][_0x523a60]['positions'][_0x265a4b+(-0x1f4e+-0x11*-0xc1+-0x20*-0x94)],_0xc16dc8=this['_meshInfo'][_0x523a60]['positions'][_0x265a4b+(0x1040+0x20c2+-0xc3f*0x4)];this['_meshInfo'][_0x523a60]['positions'][_0x265a4b+(-0x2*-0x413+-0x2*0xc07+0xfeb)]=this['_meshInfo'][_0x523a60]['positions'][_0x265a4b+(0x46+-0x1ee3+0x1e9d)],this['_meshInfo'][_0x523a60]['positions'][_0x265a4b+(0x1bda+-0x158e+-0x646)]=this['_meshInfo'][_0x523a60]['positions'][_0x265a4b+(-0xfec+0x133a+-0x345)],this['_meshInfo'][_0x523a60]['positions'][_0x265a4b+(-0x1314+-0x8*-0x4be+0x11*-0x11c)]=_0x3c35e2,this['_meshInfo'][_0x523a60]['positions'][_0x265a4b+(-0xb95+-0x8a1*0x4+0x2e22)]=_0xc16dc8;}_0x11fc7d=_0x43c2e5+(-0xbf*-0x7+-0x1e55+-0x191d*-0x1);}const _0x1b5ab4=this['_meshInfo'][_0x523a60]['count']*(0x3*0x7d3+0x92d+-0x20a2),_0x4c9feb=this['_meshInfo'][_0x523a60]['quad']*(0x954+0x364+-0xcb4),_0x31cc2e=new go(this['_meshInfo'][_0x523a60]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x20664f=0x23da+0x1f65+-0xd73*0x5;_0x20664f<_0x1b5ab4;_0x20664f++)_0x20664f>=_0x4c9feb?(_0x31cc2e['element'][He]['set'](0x950+0x12d0+-0x1c20,0x4bb+0x38*0x77+0x7d*-0x3f,-0x156c+0x149d*0x1+0x9*0x17),_0x31cc2e['element'][ns]['set'](-0xe10+-0x239c*-0x1+-0x158c,-0x19bc+0x11*-0x1f7+0x1*0x3b23),_0x31cc2e['element'][At]['set'](-0x3d7*0x4+0x1*-0x17d5+0x2731,-0x1*0x2510+-0x5f*-0x28+-0x9e*-0x24,0x4eb*0x5+0x1c72+-0x3509,-0x18*0x164+0x1*-0x149f+0x35ff),_0x31cc2e['element'][Po]['set'](0x19c7+-0x3d5*0x4+-0xa73*0x1,-0x1d5b+0x22de+-0x583,0x1b1d*0x1+0x1*-0x1ba7+0x17*0x6,-0xf09*-0x1+0x1*-0xbf+-0xe4a),_0x31cc2e['element'][Ro]['set'](-0xafe+-0x19f6+0x24f4,-0x1a3*0x17+-0x362+-0x3*-0xdad,-0x4cf+-0x1c9f+0x216e,-0x2be*-0x9+-0x1002*0x2+0x756)):(_0x31cc2e['element'][He]['set'](this['_meshInfo'][_0x523a60]['positions'][_0x20664f*(0xbf*0xd+-0x47*0x2+-0x922)+(0x19bc+-0xa97+0x1*-0xf25)],this['_meshInfo'][_0x523a60]['positions'][_0x20664f*(0x2*-0xa3+-0x1f92+0x20db)+(-0x3a7+-0x1b05*-0x1+0x175d*-0x1)],this['_meshInfo'][_0x523a60]['positions'][_0x20664f*(0x21*-0x19+-0x652*0x6+0x2928)+(-0xbd3*0x3+0x1*0x1e38+-0x3*-0x1c1)]),_0x31cc2e['element'][ns]['set'](this['_meshInfo'][_0x523a60]['uvs'][_0x20664f*(-0x1dc6+0x2250+-0x488)+(0x14c2+0xcc2+-0x2184)],this['_meshInfo'][_0x523a60]['uvs'][_0x20664f*(0x1*0x1d09+0x2e5+-0x1fec)+(0x2*-0xfbb+-0x20dc+0x21*0x1f3)]),_0x31cc2e['element'][At]['set'](this['_meshInfo'][_0x523a60]['colors'][_0x20664f*(-0xcb9+-0x1d*0x131+0x2f4a)+(0x4*0x432+-0x1429+-0x5*-0xad)],this['_meshInfo'][_0x523a60]['colors'][_0x20664f*(-0x1ade*-0x1+0xba+-0x1b94)+(-0x1*-0x2637+-0x54e+-0x20e8)],this['_meshInfo'][_0x523a60]['colors'][_0x20664f*(-0xf53*-0x1+0x16a7+-0x25f6)+(0x61f+0x17c2+-0x1*0x1ddf)],this['_meshInfo'][_0x523a60]['colors'][_0x20664f*(0x371*0x7+-0x9c2+-0xe51)+(-0xb*0x61+-0x1c18+0x1e6*0x11)]),_0x31cc2e['element'][Po]['set'](this['_meshInfo'][_0x523a60]['outlines'][_0x20664f*(-0x21d8+-0x718+-0x28f3*-0x1)+(-0x14b1*-0x1+0x22a3+-0x3754)],this['_meshInfo'][_0x523a60]['outlines'][_0x20664f*(-0x1d9e+0x8c7+0x14da)+(0x1cd+-0x1*0x23d+-0x1*-0x71)],this['_meshInfo'][_0x523a60]['outlines'][_0x20664f*(-0x1bfc+0x13ce+0x3*0x2bb)+(0x33e*-0x8+0x1d47+-0x355)]),_0x31cc2e['element'][Ro]['set'](this['_meshInfo'][_0x523a60]['shadows'][_0x20664f*(0x17a1*0x1+-0x19f9+0x25b)+(-0x5*-0x157+-0x76d*-0x2+-0x3*0x72f)],this['_meshInfo'][_0x523a60]['shadows'][_0x20664f*(0x1*-0x1565+0x1*-0xfd1+0x2dd*0xd)+(0x7*-0x25f+-0x159d+0x2637)],this['_meshInfo'][_0x523a60]['shadows'][_0x20664f*(0x2514+-0x347*0xb+-0x104)+(-0x687+-0x10b*-0x13+-0xd48)])),_0x31cc2e['next']();_0x31cc2e['end'](),this['_meshInfo'][_0x523a60]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x523a60]['positions']),this['_meshInfo'][_0x523a60]['meshInstan'+'ce']['_aabbVer']=-(-0x13ab+-0x798+0x1b44);}this['_aabbDirty']=!(-0x1*0x19ed+0x101*0x1f+0x46*-0x13);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x373bd1){this['font']!==_0x373bd1['resource']&&(this['font']=_0x373bd1['resource']);}['_onFontCha'+'nge'](_0x59b74b,_0x4e6d47,_0x35f01d,_0x1d00a4){if(_0x4e6d47==='data'){this['_font']['data']=_0x35f01d;const _0x1fcbdb=this['_font']['data']['info']['maps']['length'];for(let _0x286e1f=0x4da+-0x1*-0xddc+-0x12b6;_0x286e1f<_0x1fcbdb;_0x286e1f++){if(!this['_meshInfo'][_0x286e1f])continue;const _0x2f01ac=this['_meshInfo'][_0x286e1f]['meshInstan'+'ce'];_0x2f01ac&&(_0x2f01ac['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x2f01ac['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x2f01ac['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x286e1f]['width']));}}}['_onFontRem'+'ove'](_0x19c6a4){}['_setTextur'+'eParams'](_0x17892a,_0x3ac0b6){this['_font']&&(this['_font']['type']===Kh?(_0x17892a['deletePara'+'meter']('texture_em'+'issiveMap'),_0x17892a['deletePara'+'meter']('texture_op'+'acityMap'),_0x17892a['setParamet'+'er']('texture_ms'+'dfMap',_0x3ac0b6)):this['_font']['type']===yR&&(_0x17892a['deletePara'+'meter']('texture_ms'+'dfMap'),_0x17892a['setParamet'+'er']('texture_em'+'issiveMap',_0x3ac0b6),_0x17892a['setParamet'+'er']('texture_op'+'acityMap',_0x3ac0b6)));}['_getPxRang'+'e'](_0xcafed){const _0xe1a58b=Object['keys'](this['_font']['data']['chars']);for(let _0x48eddb=-0x25eb+0x51a+-0x20d1*-0x1;_0x48eddb<_0xe1a58b['length'];_0x48eddb++){const _0x381d33=this['_font']['data']['chars'][_0xe1a58b[_0x48eddb]];if(_0x381d33['range'])return(_0x381d33['scale']||0x2*0x6fb+0x74*0x16+-0x5*0x4c9)*_0x381d33['range'];}return-0xbde+-0x4*-0x3c1+-0x324;}['_getUv'](_0x291593){const _0x27e04b=this['_font']['data'];if(!_0x27e04b['chars'][_0x291593]){const _0xe52c67='\x20';return _0x27e04b['chars'][_0xe52c67]?this['_getUv'](_0xe52c67):[0x136c+0xee7+0x57*-0x65,-0x10f7*-0x2+0xf1+-0x22df,-0x17*-0x24+-0x1921+-0x13*-0x127,0x1*0x7e1+-0xdc0+-0x5df*-0x1];}const _0x7d809e=_0x27e04b['chars'][_0x291593]['map'],_0x58b9bf=_0x27e04b['info']['maps'][_0x7d809e]['width'],_0x1ee6bd=_0x27e04b['info']['maps'][_0x7d809e]['height'],_0x454738=_0x27e04b['chars'][_0x291593]['x'],_0x36c267=_0x27e04b['chars'][_0x291593]['y'],_0x428643=_0x454738,_0x518092=_0x36c267,_0x3459a5=_0x454738+_0x27e04b['chars'][_0x291593]['width'],_0x2ed545=_0x36c267-_0x27e04b['chars'][_0x291593]['height'],_0x25710a=0xdf9*-0x1+0xf2b*0x1+-0x131-_0x27e04b['chars'][_0x291593]['height']/_0x1ee6bd;return[_0x428643/_0x58b9bf,_0x25710a-_0x518092/_0x1ee6bd,_0x3459a5/_0x58b9bf,_0x25710a-_0x2ed545/_0x1ee6bd];}['onEnable'](){this['_fontAsset']['autoLoad']=!(0x213b+-0x1*0x259d+0x176*0x3),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(-0x19*-0xdb+-0x2*0x3b9+-0x1be*0x8),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x2edb5e){if(this['_model']){const _0x403cb1=this['_model']['meshInstan'+'ces'];for(let _0xb79987=0x874+0x25db+-0x2e4f;_0xb79987<_0x403cb1['length'];_0xb79987++)_0x403cb1[_0xb79987]['stencilFro'+'nt']=_0x2edb5e,_0x403cb1[_0xb79987]['stencilBac'+'k']=_0x2edb5e;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x1f5f42){const _0x1b5523={};_0x1f5f42===void(0x1*-0x1f+-0xc4f*-0x3+-0x2*0x1267)&&(_0x1f5f42=this['_symbols']['length']);for(let _0x385a29=0x7*0x3d3+-0x1865+0x2*-0x130,_0x34259b=_0x1f5f42;_0x385a29<_0x34259b;_0x385a29++){const _0x44a84f=this['_symbols'][_0x385a29];let _0x314667=this['_font']['data']['chars'][_0x44a84f];_0x314667||(_0x314667=this['_font']['data']['chars']['\x20'],_0x314667||(_0x314667=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[-0x26ed+0xc8d+-0xd3*-0x20]]));const _0x38098b=_0x314667['map'];_0x1b5523[_0x38098b]?_0x1b5523[_0x38098b]++:_0x1b5523[_0x38098b]=0x39a+-0x67+-0x199*0x2;}return _0x1b5523;}['_updateRen'+'derRange'](){const _0x7029d4=this['_rangeStar'+'t']===0x750+-0x13de+-0x647*-0x2?-0x1*0x191c+0x20*-0x42+0x215c:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x3ba3ec=this['_rangeEnd']===0x133e+0x2646+-0x3984?-0xc53+0x19f3+-0xda0:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x1487c2=0x98*-0x20+-0xf1d+0x221d,_0x123fa5=this['_meshInfo']['length'];_0x1487c2<_0x123fa5;_0x1487c2++){const _0x167e2e=_0x7029d4[_0x1487c2]||0xda6+0x18d*0xb+-0x1eb5,_0xe647a0=_0x3ba3ec[_0x1487c2]||-0x657+0x329*-0x7+-0xe3b*-0x2,_0x58548e=this['_meshInfo'][_0x1487c2]['meshInstan'+'ce'];if(_0x58548e){const _0xa1b536=_0x58548e['mesh'];_0xa1b536&&(_0xa1b536['primitive'][0x26*-0x19+-0x1*0xecd+0x1283]['base']=_0x167e2e*(-0x16c9+-0x1175+0x2841)*(-0x19e5*-0x1+-0x26de+-0xcfb*-0x1),_0xa1b536['primitive'][0xfe1+-0x5de+-0xa03]['count']=(_0xe647a0-_0x167e2e)*(-0x1639+0xb3f*0x1+-0x61*-0x1d)*(0xa5*-0xb+-0x1247+0x1960));}}}set['text'](_0x54c40e){this['_i18nKey']=null;const _0x5adad5=_0x54c40e!=null&&_0x54c40e['toString']()||'';this['_setText'](_0x5adad5);}get['text'](){return this['_text'];}set['key'](_0x5ccc69){const _0xee4208=_0x5ccc69!==null?_0x5ccc69['toString']():null;this['_i18nKey']!==_0xee4208&&(this['_i18nKey']=_0xee4208,_0xee4208?(this['_fontAsset']['disableLoc'+'alization']=!(-0x3*0x85b+0x182c+0x5*0x2e),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(-0x1517*-0x1+-0x455*-0x3+-0x2*0x110b));}get['key'](){return this['_i18nKey'];}set['color'](_0x3f68e2){const _0x577a70=_0x3f68e2['r'],_0x5208b4=_0x3f68e2['g'],_0x4480b1=_0x3f68e2['b'];if(this['_color']===_0x3f68e2&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x577a70&&this['_color']['g']===_0x5208b4&&this['_color']['b']===_0x4480b1)&&(this['_color']['r']=_0x577a70,this['_color']['g']=_0x5208b4,this['_color']['b']=_0x4480b1,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_color']),this['_colorUnif'+'orm'][-0x789*-0x2+0xfb9+0x1*-0x1ecb]=Me['r'],this['_colorUnif'+'orm'][0x2e*0x1d+0x13fd+-0x1932]=Me['g'],this['_colorUnif'+'orm'][-0x1f6d+0x223e+-0x1*0x2cf]=Me['b'];for(let _0x33fcfb=-0x160*-0x2+0x1381+0x279*-0x9,_0x296389=this['_model']['meshInstan'+'ces']['length'];_0x33fcfb<_0x296389;_0x33fcfb++)this['_model']['meshInstan'+'ces'][_0x33fcfb]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x19c751){if(this['_color']['a']!==_0x19c751&&(this['_color']['a']=_0x19c751,this['_model'])){for(let _0xbd8981=-0x6*0x15a+0x2403+0x1be7*-0x1,_0x4862f2=this['_model']['meshInstan'+'ces']['length'];_0xbd8981<_0x4862f2;_0xbd8981++)this['_model']['meshInstan'+'ces'][_0xbd8981]['setParamet'+'er']('material_o'+'pacity',_0x19c751);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x19c751);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x23c1ac){const _0x3f9cbc=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x23c1ac,this['_scaledLin'+'eHeight']=_0x23c1ac,_0x3f9cbc!==_0x23c1ac&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0xe6333){const _0x41ee42=this['_wrapLines'];this['_wrapLines']=_0xe6333,_0x41ee42!==_0xe6333&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x48fe6e){const _0x1b75c6=this['_spacing'];this['_spacing']=_0x48fe6e,_0x1b75c6!==_0x48fe6e&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0xb2efa4){const _0x3c193a=this['_fontSize'];this['_fontSize']=_0xb2efa4,this['_originalF'+'ontSize']=_0xb2efa4,_0x3c193a!==_0xb2efa4&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x1096cd){this['_fontAsset']['defaultAss'+'et']=_0x1096cd;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x8ca14d){let _0xc23a7b;if(this['_font']&&(_0xc23a7b=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x8ca14d,this['_fontMinY']=-0x200f+0xa89+0x1586,this['_fontMaxY']=-0x35*0x79+-0x293*-0x5+0xc2e*0x1,!_0x8ca14d)return;const _0x501b5c=this['_font']['data'];for(const _0x1688a7 in _0x501b5c['chars']){const _0x19dca1=_0x501b5c['chars'][_0x1688a7];_0x19dca1['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x19dca1['bounds'][-0x1489+-0x1d36+-0x10*-0x31c]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x19dca1['bounds'][0x1*0x2490+0xb4+-0x2541]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x8ca14d['type']!==_0xc23a7b){const _0x2490da=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x2490da);}for(let _0x1a2fdb=-0x18a0+-0x93c+0x21dc,_0x75c007=this['_font']['textures']['length'];_0x1a2fdb<_0x75c007;_0x1a2fdb++)if(!this['_meshInfo'][_0x1a2fdb])this['_meshInfo'][_0x1a2fdb]=new CR();else{const _0x4234e1=this['_meshInfo'][_0x1a2fdb]['meshInstan'+'ce'];_0x4234e1&&(_0x4234e1['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x4234e1['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x4234e1['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x1a2fdb]['width']),this['_setTextur'+'eParams'](_0x4234e1,this['_font']['textures'][_0x1a2fdb]));}let _0x54b20f=!(-0x2*0x6d7+0xd52+0x1f*0x3);for(let _0x44cea8=this['_font']['textures']['length'];_0x44cea8<this['_meshInfo']['length'];_0x44cea8++)this['_meshInfo'][_0x44cea8]['meshInstan'+'ce']&&(_0x54b20f||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x54b20f=!(-0x6bd+0x1e54*0x1+-0x1797)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x44cea8]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x170d88){_0x170d88 instanceof W?this['_alignment']['set'](_0x170d88['x'],_0x170d88['y']):this['_alignment']['set'](_0x170d88[0xa47+-0x14ff+-0x8*-0x157],_0x170d88[-0x1*-0xbd+0x568+-0x624]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x2ebeaf){const _0x53c58e=this['_autoWidth'];if(this['_autoWidth']=_0x2ebeaf,_0x2ebeaf&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<-0x680+0x921+0x2a1*-0x1+0.0001&&(this['_element']['width']=this['width']),_0x53c58e!==_0x2ebeaf){const _0x5c7f80=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x5c7f80!==this['_fontSize']&&(this['_fontSize']=_0x5c7f80,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x429257){const _0xa8c234=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x429257,_0x429257&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<0x1*0x1c2d+0x60b+0x78*-0x49+0.0001&&(this['_element']['height']=this['height']),_0xa8c234!==_0x429257){const _0x51cbe5=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x51cbe5!==this['_fontSize']&&(this['_fontSize']=_0x51cbe5,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x5101d0){this['_rtlReorde'+'r']!==_0x5101d0&&(this['_rtlReorde'+'r']=_0x5101d0,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x2b3e5a){this['_unicodeCo'+'nverter']!==_0x2b3e5a&&(this['_unicodeCo'+'nverter']=_0x2b3e5a,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x2d77e3=!(0x3c7*-0x5+0x23b9+-0x10d5);for(let _0x50b231=-0x5bf*-0x1+-0x26*0xa1+0x1227;_0x50b231<this['_meshInfo']['length'];_0x50b231++)this['_meshInfo'][_0x50b231]['meshInstan'+'ce']&&(_0x2d77e3?this['_aabb']['add'](this['_meshInfo'][_0x50b231]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x50b231]['meshInstan'+'ce']['aabb']),_0x2d77e3=!(0x140a+0xaf2+-0x6*0x52a)));this['_aabbDirty']=!(-0xfb5+-0x3*0x74f+0x25a3);}return this['_aabb'];}set['outlineCol'+'or'](_0x139866){const _0x72498d=_0x139866 instanceof Y?_0x139866['r']:_0x139866[-0x213b+-0x1291*0x1+0x33cc],_0x426ac=_0x139866 instanceof Y?_0x139866['g']:_0x139866[-0x86*-0xb+-0x220+-0x3a1],_0x374b44=_0x139866 instanceof Y?_0x139866['b']:_0x139866[-0x1*0x1a16+-0x64e+0x2066*0x1],_0x1a5c84=_0x139866 instanceof Y?_0x139866['a']:_0x139866[0x53*-0x10+0x5e3*-0x6+0x2885];if(this['_outlineCo'+'lor']===_0x139866&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x72498d&&this['_outlineCo'+'lor']['g']===_0x426ac&&this['_outlineCo'+'lor']['b']===_0x374b44&&this['_outlineCo'+'lor']['a']===_0x1a5c84)&&(this['_outlineCo'+'lor']['r']=_0x72498d,this['_outlineCo'+'lor']['g']=_0x426ac,this['_outlineCo'+'lor']['b']=_0x374b44,this['_outlineCo'+'lor']['a']=_0x1a5c84,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x266e*0x1+0x6*0x3cb+-0x10*0x3d3]=Me['r'],this['_outlineCo'+'lorUniform'][-0xe*-0x33+-0x1*-0x2000+-0x22c9]=Me['g'],this['_outlineCo'+'lorUniform'][0x1*-0xf4f+-0x344+0x1295]=Me['b'],this['_outlineCo'+'lorUniform'][-0x1f17+0x1016+0x3e*0x3e]=Me['a'];for(let _0xb859a0=-0x53e*-0x2+-0x1*0x1c31+-0x1*-0x11b5,_0x30151e=this['_model']['meshInstan'+'ces']['length'];_0xb859a0<_0x30151e;_0xb859a0++)this['_model']['meshInstan'+'ces'][_0xb859a0]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x595483){const _0x13f8aa=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x595483,_0x13f8aa!==_0x595483&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x49f8dc=-0xa5a+0xf04*0x2+-0x13ae,_0xc59fc9=this['_model']['meshInstan'+'ces']['length'];_0x49f8dc<_0xc59fc9;_0x49f8dc++)this['_model']['meshInstan'+'ces'][_0x49f8dc]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x117fd4){const _0x208176=_0x117fd4 instanceof Y?_0x117fd4['r']:_0x117fd4[0x3*-0x1d7+-0x1249+0x17ce],_0x5ded77=_0x117fd4 instanceof Y?_0x117fd4['g']:_0x117fd4[-0xea4+-0x6dd*-0x3+-0x5f2],_0xba0f5f=_0x117fd4 instanceof Y?_0x117fd4['b']:_0x117fd4[0x15e1+-0x32e+-0x12b1],_0x177dd7=_0x117fd4 instanceof Y?_0x117fd4['a']:_0x117fd4[-0x4e4+-0xa4+-0xb*-0x81];if(this['_shadowCol'+'or']===_0x117fd4&&v['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x208176&&this['_shadowCol'+'or']['g']===_0x5ded77&&this['_shadowCol'+'or']['b']===_0xba0f5f&&this['_shadowCol'+'or']['a']===_0x177dd7)&&(this['_shadowCol'+'or']['r']=_0x208176,this['_shadowCol'+'or']['g']=_0x5ded77,this['_shadowCol'+'or']['b']=_0xba0f5f,this['_shadowCol'+'or']['a']=_0x177dd7,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x9*0x249+0x14e*0xd+-0x2587]=Me['r'],this['_shadowCol'+'orUniform'][-0xf89+0x1316+-0xe3*0x4]=Me['g'],this['_shadowCol'+'orUniform'][-0x2326+-0x1f83+-0x42ab*-0x1]=Me['b'],this['_shadowCol'+'orUniform'][-0x1463*-0x1+-0x3*0x403+-0x857]=Me['a'];for(let _0x5feacc=-0x1da*0x11+0x3d4+-0xdd3*-0x2,_0x41aba0=this['_model']['meshInstan'+'ces']['length'];_0x5feacc<_0x41aba0;_0x5feacc++)this['_model']['meshInstan'+'ces'][_0x5feacc]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x2d0632){const _0x4d9d2a=_0x2d0632 instanceof W?_0x2d0632['x']:_0x2d0632[0x2443*0x1+0x32b*-0x3+-0x1ac2],_0x5819fa=_0x2d0632 instanceof W?_0x2d0632['y']:_0x2d0632[0xdd6*-0x1+0x9b1*0x1+0x76*0x9];if(!(this['_shadowOff'+'set']['x']===_0x4d9d2a&&this['_shadowOff'+'set']['y']===_0x5819fa)&&(this['_shadowOff'+'set']['set'](_0x4d9d2a,_0x5819fa),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x2a2569=-0x182a+-0x260a+-0xc*-0x52f,_0x35e023=this['_model']['meshInstan'+'ces']['length'];_0x2a2569<_0x35e023;_0x2a2569++){const _0x1cceac=-this['_font']['data']['info']['maps'][_0x2a2569]['width']/this['_font']['data']['info']['maps'][_0x2a2569]['height'];this['_shadowOff'+'setUniform'][0x1fc2+-0x1e9b+-0x1*0x127]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x1*-0x215b+0x1b3b+0x621]=_0x1cceac*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x2a2569]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x3a441a){this['_minFontSi'+'ze']!==_0x3a441a&&(this['_minFontSi'+'ze']=_0x3a441a,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x76e890){this['_maxFontSi'+'ze']!==_0x76e890&&(this['_maxFontSi'+'ze']=_0x76e890,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x3bf4c1){this['_autoFitWi'+'dth']!==_0x3bf4c1&&(this['_autoFitWi'+'dth']=_0x3bf4c1,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x5f3c0a){this['_autoFitHe'+'ight']!==_0x5f3c0a&&(this['_autoFitHe'+'ight']=_0x5f3c0a,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x284a67){this['_maxLines']!==_0x284a67&&(_0x284a67===null&&this['_maxLines']===-(-0x19*-0x35+0x1*-0x1e8+-0x344)||(this['_maxLines']=_0x284a67===null?-(0xa6c*-0x1+-0x1cc7+-0x4*-0x9cd):_0x284a67,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x566db1){if(_0x566db1=!!_0x566db1,this['_enableMar'+'kup']===_0x566db1)return;this['_enableMar'+'kup']=_0x566db1,this['font']&&this['_updateTex'+'t']();const _0x11d51f=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x11d51f);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x1b0f0f){return this['_colorPale'+'tte']['slice'](_0x1b0f0f*(0x1286+0xa62+-0x1ce5),_0x1b0f0f*(0x667+-0x1f51+-0x2c5*-0x9)+(0x152a+0x438+-0x195f));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x3c798c){return this['_outlinePa'+'lette']['slice'](_0x3c798c*(-0x1*0xb59+-0x1587+0x191*0x15),_0x3c798c*(-0x1aab+-0x72+0x97*0x2e)+(0x64e+-0x248c+0x7f*0x3d));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x2ce195){return this['_shadowPal'+'ette']['slice'](_0x2ce195*(-0x1f3b*0x1+0x1*0x215e+-0x21d),_0x2ce195*(-0x22*0xd7+-0x4d*0x2+0x1d2e)+(-0xd7+0x1e36+-0x1d59));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x17cc28){_0x17cc28=Math['max'](-0x1*0x6d9+0x36e+-0xaf*-0x5,Math['min'](_0x17cc28,this['_symbols']['length'])),_0x17cc28!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x17cc28,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x27cbe6){_0x27cbe6=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x27cbe6,this['_symbols']['length'])),_0x27cbe6!==this['_rangeEnd']&&(this['_rangeEnd']=_0x27cbe6,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Kd=new T(),_g=new q(),ni=new T(),kR=new T(),es=new q(),Yl=new q(),Kl=new q(),zn=new q();class Gt extends ue{constructor(_0xf6d912,_0x3caec0){super(_0xf6d912,_0x3caec0),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(-0xb*-0x290+-0x5*0x33d+-0xbfe),this['_anchor']=new Q(),this['_localAnch'+'or']=new Q(),this['_pivot']=new W(),this['_width']=this['_calculate'+'dWidth']=-0x15cd+-0x27*0x16+0x1947,this['_height']=this['_calculate'+'dHeight']=-0x1d3+-0x2599+-0x9e3*-0x4,this['_margin']=new Q(-0x1*-0x279+0x6cd+-0x946,-0xc*-0xf7+-0x1887+-0x1*-0xcf3,-(0x1614*-0x1+-0x874+0x1ea8),-(0x217*-0xe+0x189a+0x4*0x132)),this['_modelTran'+'sform']=new q(),this['_screenToW'+'orld']=new q(),this['_anchorTra'+'nsform']=new q(),this['_anchorDir'+'ty']=!(-0x2543*-0x1+-0x4*0xee+-0x218b*0x1),this['_parentWor'+'ldTransfor'+'m']=new q(),this['_screenTra'+'nsform']=new q(),this['_screenCor'+'ners']=[new T(),new T(),new T(),new T()],this['_canvasCor'+'ners']=[new W(),new W(),new W(),new W()],this['_worldCorn'+'ers']=[new T(),new T(),new T(),new T()],this['_cornersDi'+'rty']=!(-0xe78*-0x2+0x3*0x59f+-0x2dcd),this['_canvasCor'+'nersDirty']=!(-0xaa8*-0x2+0x1*0x172c+-0x2c7c),this['_worldCorn'+'ersDirty']=!(-0x1*0x2c1+0x7*0x26d+-0x6*0x25f),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=_h,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=0x40*0x86+0x3*-0x825+0xb*-0xd3,this['_fitMode']=gh,this['_useInput']=!(-0x7*-0x194+0x2*0x289+-0x101d),this['_layers']=[tl],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(0x20e*-0x7+-0x5*-0x67f+-0x1218),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=-0x2*-0x1279+0x580+0x2a72*-0x1,this['_maskOffse'+'t']=0x6a*0x1c+-0x1610+-0x4*-0x29e+0.5,this['_maskedBy']=null);}get['data'](){const _0x25f9ea=this['system']['store'][this['entity']['getGuid']()];return _0x25f9ea?_0x25f9ea['data']:null;}set['enabled'](_0xefa5cc){const _0x232e3e=this['data'],_0x4e48f6=_0x232e3e['enabled'];_0x232e3e['enabled']=_0xefa5cc,this['fire']('set','enabled',_0x4e48f6,_0xefa5cc);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>-0x16a5+0xa09+0xc9c+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>0x1*0xa7b+0x1*0x1ae3+-0x255e+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x5d9cd2){_0x5d9cd2 instanceof Q?this['_anchor']['copy'](_0x5d9cd2):this['_anchor']['set'](..._0x5d9cd2),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(-0x286+-0x1693+0x1919),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x1d72aa){var _0x3fc074,_0x4faf4d;this['_batchGrou'+'pId']!==_0x1d72aa&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x16*0xc5+0x14d*0x16+0xa*-0x48e&&((_0x3fc074=this['system']['app']['batcher'])==null||_0x3fc074['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x1d72aa>=-0xfe*-0x7+0x1*-0x1a80+0x9c7*0x2&&((_0x4faf4d=this['system']['app']['batcher'])==null||_0x4faf4d['insert'](et['ELEMENT'],_0x1d72aa,this['entity'])),_0x1d72aa<0x1*0x1733+-0x19*-0x93+-0x258e&&this['_batchGrou'+'pId']>=-0x119b*0x1+0x23e5+-0x124a&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x1d72aa);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x5e188b){this['_margin']['y']=_0x5e188b;const _0x23e7e7=this['entity']['getLocalPo'+'sition'](),_0x28b8b9=this['_absTop'],_0x679a31=this['_localAnch'+'or']['y']+_0x5e188b;this['_setHeight'](_0x28b8b9-_0x679a31),_0x23e7e7['y']=_0x5e188b+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x23e7e7);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0xd73836){this['_setCalcul'+'atedWidth'](_0xd73836,!(0x1154+-0x1*0x10e7+-0x6d));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x4b9269){this['_setCalcul'+'atedHeight'](_0x4b9269,!(0x239d+-0xc46+-0x1757));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0xa9bf25=this['system']['app']['graphicsDe'+'vice'],_0x364aa9=this['screenCorn'+'ers'],_0x4fb4c1=_0xa9bf25['canvas']['clientWidt'+'h']/_0xa9bf25['width'],_0x73cf62=_0xa9bf25['canvas']['clientHeig'+'ht']/_0xa9bf25['height'];for(let _0x7f1b51=-0x9cb+-0x7ae*0x3+0x20d5;_0x7f1b51<-0x71*-0xd+0xa59*0x1+-0x809*0x2;_0x7f1b51++)this['_canvasCor'+'ners'][_0x7f1b51]['set'](_0x364aa9[_0x7f1b51]['x']*_0x4fb4c1,(_0xa9bf25['height']-_0x364aa9[_0x7f1b51]['y'])*_0x73cf62);return this['_canvasCor'+'nersDirty']=!(-0x1666+-0x167*0x11+0x2e3e),this['_canvasCor'+'ners'];}set['drawOrder'](_0x474eb5){let _0x11c696=-0x272+0x11b*-0x1a+0x1f30;this['screen']&&(_0x11c696=this['screen']['screen']['priority']),_0x474eb5>0x9151*0xbc+-0x153*-0x157b6+0x71*-0x2b4ef&&(v['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x474eb5=0x1edd2*-0xbf+-0x12d7c4e+0x11*0x36774b),this['_drawOrder']=(_0x11c696<<-0x99e+-0xd*-0x1c9+-0xd7f)+_0x474eb5,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x3c32af){this['_height']=_0x3c32af,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x3c32af,!(-0xec8+0x1084*0x2+0x1240*-0x1)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x4b3637){if(this['_addedMode'+'ls']['length'])for(let _0xa554a3=-0xa3c+0x4e2*-0x5+0x22a6;_0xa554a3<this['_layers']['length'];_0xa554a3++){const _0x4a9798=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0xa554a3]);if(_0x4a9798){for(let _0x138bb3=0x1*-0x121+-0x14ec+0x5*0x469;_0x138bb3<this['_addedMode'+'ls']['length'];_0x138bb3++)_0x4a9798['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x138bb3]['meshInstan'+'ces']);}}if(this['_layers']=_0x4b3637,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x46a20f=-0x4*-0x3c9+-0xae7+-0x5*0xd9;_0x46a20f<this['_layers']['length'];_0x46a20f++){const _0x36c016=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x46a20f]);if(_0x36c016){for(let _0x4a720a=-0x1d63*0x1+-0xe*0x257+0x3*0x14b7;_0x4a720a<this['_addedMode'+'ls']['length'];_0x4a720a++)_0x36c016['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x4a720a]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x4d740f){this['_margin']['x']=_0x4d740f;const _0x5f1d4b=this['entity']['getLocalPo'+'sition'](),_0x4c5bfa=this['_absRight'],_0x47f382=this['_localAnch'+'or']['x']+_0x4d740f;this['_setWidth'](_0x4c5bfa-_0x47f382),_0x5f1d4b['x']=_0x4d740f+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x5f1d4b);}get['left'](){return this['_margin']['x'];}set['margin'](_0x555728){this['_margin']['copy'](_0x555728),this['_calculate'+'Size'](!(-0x7*-0x3bf+-0x9*-0x22b+-0x2*0x16de),!(0x1e6f+0x5b*-0xd+-0x19d0)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x2cbf6f){const {pivot:_0x39bb31,margin:_0x530cac}=this,_0xb73027=_0x39bb31['x'],_0x4a5e2c=_0x39bb31['y'];_0x2cbf6f instanceof W?_0x39bb31['copy'](_0x2cbf6f):_0x39bb31['set'](..._0x2cbf6f);const _0x350059=_0x530cac['x']+_0x530cac['z'],_0x5044bd=_0x39bb31['x']-_0xb73027;_0x530cac['x']+=_0x350059*_0x5044bd,_0x530cac['z']-=_0x350059*_0x5044bd;const _0x20fbf5=_0x530cac['y']+_0x530cac['w'],_0x27c8e3=_0x39bb31['y']-_0x4a5e2c;_0x530cac['y']+=_0x20fbf5*_0x27c8e3,_0x530cac['w']-=_0x20fbf5*_0x27c8e3,this['_anchorDir'+'ty']=!(-0x1b0e+-0x1663+0x3171),this['_cornersDi'+'rty']=!(0x14ec+0xd*-0x88+0x2*-0x702),this['_worldCorn'+'ersDirty']=!(-0xe5a+-0x100e+0xf34*0x2),this['_calculate'+'Size'](!(0x14e8+0x1*0x2bf+-0x17a6),!(-0x1447+0x13d*0x1+0x659*0x3)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x39bb31);}get['pivot'](){return this['_pivot'];}set['right'](_0x6538ab){this['_margin']['z']=_0x6538ab;const _0x2da3b7=this['entity']['getLocalPo'+'sition'](),_0x528d80=this['_absLeft'],_0x4cb487=this['_localAnch'+'or']['z']-_0x6538ab;this['_setWidth'](_0x4cb487-_0x528d80),_0x2da3b7['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x6538ab-this['_calculate'+'dWidth']*(-0x40*0x71+0xb*0x15d+0xd42-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x2da3b7);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x149f8b=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][-0x1*0x1e36+-0x1d3+0x2009];this['_screenCor'+'ners'][-0x16a+0xf29*-0x2+0x1fbc]['set'](this['_absLeft'],this['_absBottom'],-0x1809+-0x14ad+0x3b*0xc2),this['_screenCor'+'ners'][-0x5*-0x5a1+0x1eb3*0x1+0x3*-0x139d]['set'](this['_absRight'],this['_absBottom'],0xa71+-0x23ef*0x1+0x197e),this['_screenCor'+'ners'][0x43c*0x1+-0x188c+0x1452]['set'](this['_absRight'],this['_absTop'],0x515*0x1+0x147+0x65c*-0x1),this['_screenCor'+'ners'][0x1505*-0x1+-0x2146+0x121a*0x3]['set'](this['_absLeft'],this['_absTop'],0x1deb+-0xd3+-0x1d18);const _0x34165e=this['screen']['screen']['screenSpac'+'e'];for(let _0x4620b6=-0x1403+0x20c8+-0xcc5;_0x4620b6<0x691+0x1*-0x264b+0x1fbe;_0x4620b6++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x4620b6],this['_screenCor'+'ners'][_0x4620b6]),_0x34165e&&this['_screenCor'+'ners'][_0x4620b6]['mulScalar'](this['screen']['screen']['scale']),_0x149f8b&&this['_screenCor'+'ners'][_0x4620b6]['add'](_0x149f8b);return this['_cornersDi'+'rty']=!(0xc89+0x108b*-0x1+0xd*0x4f),this['_canvasCor'+'nersDirty']=!(0x17*0x79+-0x19*0x175+-0x1*-0x198e),this['_worldCorn'+'ersDirty']=!(-0x2*-0xd6d+-0x1799*-0x1+-0x3273),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:0x53*0x1d+0x435+0x2*-0x6ce;}get['textHeight'](){return this['_text']?this['_text']['height']:0x11*-0x191+-0x1d*-0x145+-0x1*0xa30;}set['top'](_0x1c40da){this['_margin']['w']=_0x1c40da;const _0x3da99f=this['entity']['getLocalPo'+'sition'](),_0x520359=this['_absBottom'],_0x2dacf3=this['_localAnch'+'or']['w']-_0x1c40da;this['_setHeight'](_0x2dacf3-_0x520359),_0x3da99f['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x1c40da-this['_calculate'+'dHeight']*(-0x1d2*0x2+-0x1*-0x1681+0x22*-0x8e-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x3da99f);}get['top'](){return this['_margin']['w'];}set['type'](_0xd0bf0c){_0xd0bf0c!==this['_type']&&(this['_type']=_0xd0bf0c,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0xd0bf0c===rf?this['_image']=new _R(this):_0xd0bf0c===ex&&(this['_text']=new OR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x153aff){this['_useInput']!==_0x153aff&&(this['_useInput']=_0x153aff,this['system']['app']['elementInp'+'ut']?_0x153aff?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(-0x1c*0x43+-0x93*-0x2f+0x7*-0x2cf)&&v['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x153aff));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0xe5813){this['_fitMode']=_0xe5813,this['_calculate'+'Size'](!(-0x1a11+-0x8f+-0x18*-0x11c),!(-0x12f0+-0x22de+-0x47*-0xc2)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x205847){this['_width']=_0x205847,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x205847,!(0x1*0x1e9d+0xf42+0x1*-0x2ddf)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x10e25f=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){es['copy'](this['screen']['screen']['_screenMat'+'rix']),es['data'][0x23fa+0xd6a+0x11*-0x2e7]=-es['data'][0xbbc+-0x13c8*0x1+0x819],es['mul2'](this['screen']['getWorldTr'+'ansform'](),es);for(let _0x1c67a4=0x1f71+-0xe5c+0x1*-0x1115;_0x1c67a4<0xe92+0x1*0x394+-0x911*0x2;_0x1c67a4++)es['transformP'+'oint'](_0x10e25f[_0x1c67a4],this['_worldCorn'+'ers'][_0x1c67a4]);}}else{const _0x4ab9bf=this['entity']['getLocalPo'+'sition']();es['setTransla'+'te'](-_0x4ab9bf['x'],-_0x4ab9bf['y'],-_0x4ab9bf['z']),Yl['setTRS'](T['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0x4ab9bf['x'],_0x4ab9bf['y'],_0x4ab9bf['z']);const _0x2fbd54=this['entity']['parent']?this['entity']['parent']:this['entity'];zn['copy'](_0x2fbd54['getWorldTr'+'ansform']()),zn['mul'](Kl)['mul'](Yl)['mul'](es),ni['set'](_0x4ab9bf['x']-this['pivot']['x']*this['calculated'+'Width'],_0x4ab9bf['y']-this['pivot']['y']*this['calculated'+'Height'],_0x4ab9bf['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x1*-0x22ed+-0x49*0x4f+-0x1*-0x3974]),ni['set'](_0x4ab9bf['x']+(-0x1581+-0xc7*-0xf+0x9d9-this['pivot']['x'])*this['calculated'+'Width'],_0x4ab9bf['y']-this['pivot']['y']*this['calculated'+'Height'],_0x4ab9bf['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x2*-0x17e+0x55*0x23+-0xdd*0xa]),ni['set'](_0x4ab9bf['x']+(-0x1*0x1c9f+-0x1*-0x1ab9+0x1e7-this['pivot']['x'])*this['calculated'+'Width'],_0x4ab9bf['y']+(-0x203d+-0x1437+0x3475-this['pivot']['y'])*this['calculated'+'Height'],_0x4ab9bf['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x371*0xb+0x1c6+-0xd35*0x3]),ni['set'](_0x4ab9bf['x']-this['pivot']['x']*this['calculated'+'Width'],_0x4ab9bf['y']+(0x1aff*0x1+-0x6f1*0x3+-0x62b-this['pivot']['y'])*this['calculated'+'Height'],_0x4ab9bf['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x1f5*-0x4+-0x1*-0x1ab+0x62c]);}return this['_worldCorn'+'ersDirty']=!(-0x1787*0x1+0xdee+-0x2*-0x4cd),this['_worldCorn'+'ers'];}set['fontSize'](_0x2f6f14){this['_setValue']('fontSize',_0x2f6f14);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x4d3688){this['_setValue']('minFontSiz'+'e',_0x4d3688);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x363153){this['_setValue']('maxFontSiz'+'e',_0x363153);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x51c39e){this['_setValue']('maxLines',_0x51c39e);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x35e34a){this['_setValue']('autoFitWid'+'th',_0x35e34a);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x513666){this['_setValue']('autoFitHei'+'ght',_0x513666);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x449860){this['_setValue']('color',_0x449860);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x38fa27){this['_setValue']('font',_0x38fa27);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x13776a){this['_setValue']('fontAsset',_0x13776a);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x39a091){this['_setValue']('spacing',_0x39a091);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x3f77ff){this['_setValue']('lineHeight',_0x3f77ff);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x576082){this['_setValue']('wrapLines',_0x576082);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x3c9424){this['_setValue']('lines',_0x3c9424);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x4d56f9){this['_setValue']('alignment',_0x4d56f9);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0xb9aad){this['_setValue']('autoWidth',_0xb9aad);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x41138d){this['_setValue']('autoHeight',_0x41138d);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x556577){this['_setValue']('rtlReorder',_0x556577);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x365ceb){this['_setValue']('unicodeCon'+'verter',_0x365ceb);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0xa019a7){this['_setValue']('text',_0xa019a7);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x2884c8){this['_setValue']('key',_0x2884c8);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0xe80260){this['_setValue']('texture',_0xe80260);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x4ad54f){this['_setValue']('textureAss'+'et',_0x4ad54f);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x205ced){this['_setValue']('material',_0x205ced);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x2973c3){this['_setValue']('materialAs'+'set',_0x2973c3);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x1d6614){this['_setValue']('sprite',_0x1d6614);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x4b6930){this['_setValue']('spriteAsse'+'t',_0x4b6930);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x2bab0a){this['_setValue']('spriteFram'+'e',_0x2bab0a);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x548709){this['_setValue']('pixelsPerU'+'nit',_0x548709);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0xe41f6){this['_setValue']('opacity',_0xe41f6);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0xcc5131){this['_setValue']('rect',_0xcc5131);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x350583){this['_setValue']('mask',_0x350583);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x246d1c){this['_setValue']('outlineCol'+'or',_0x246d1c);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x1c3e9b){this['_setValue']('outlineThi'+'ckness',_0x1c3e9b);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x27f802){this['_setValue']('shadowColo'+'r',_0x27f802);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x263697){this['_setValue']('shadowOffs'+'et',_0x263697);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x10e6ba){this['_setValue']('enableMark'+'up',_0x10e6ba);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x2dbb74){this['_setValue']('rangeStart',_0x2dbb74);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x1f01de){this['_setValue']('rangeEnd',_0x1f01de);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x4c40fe,_0x44cdff){this['_text']?(this['_text'][_0x4c40fe]!==_0x44cdff&&this['_dirtyBatc'+'h'](),this['_text'][_0x4c40fe]=_0x44cdff):this['_image']&&(this['_image'][_0x4c40fe]!==_0x44cdff&&this['_dirtyBatc'+'h'](),this['_image'][_0x4c40fe]=_0x44cdff);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=We['prototype']['_sync'],this['entity']['setPositio'+'n']=We['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=We['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0xacf154,_0x57f7aa,_0x362efe){if(!this['element']['screen']){We['prototype']['setPositio'+'n']['call'](this,_0xacf154,_0x57f7aa,_0x362efe);return;}_0xacf154 instanceof T?Kd['copy'](_0xacf154):Kd['set'](_0xacf154,_0x57f7aa,_0x362efe),this['getWorldTr'+'ansform'](),_g['copy'](this['element']['_screenToW'+'orld'])['invert'](),_g['transformP'+'oint'](Kd,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x6235c1,_0x1249ad,_0x3e9906){_0x6235c1 instanceof T?this['localPosit'+'ion']['copy'](_0x6235c1):this['localPosit'+'ion']['set'](_0x6235c1,_0x1249ad,_0x3e9906);const _0x51d11f=this['element'],_0x2a3989=this['localPosit'+'ion'],_0x32e045=_0x51d11f['_pivot'];_0x51d11f['_margin']['x']=_0x2a3989['x']-_0x51d11f['_calculate'+'dWidth']*_0x32e045['x'],_0x51d11f['_margin']['z']=_0x51d11f['_localAnch'+'or']['z']-_0x51d11f['_localAnch'+'or']['x']-_0x51d11f['_calculate'+'dWidth']-_0x51d11f['_margin']['x'],_0x51d11f['_margin']['y']=_0x2a3989['y']-_0x51d11f['_calculate'+'dHeight']*_0x32e045['y'],_0x51d11f['_margin']['w']=_0x51d11f['_localAnch'+'or']['w']-_0x51d11f['_localAnch'+'or']['y']-_0x51d11f['_calculate'+'dHeight']-_0x51d11f['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x5da8ef=this['element'],_0xea5d06=_0x5da8ef['screen'];if(_0xea5d06){if(_0x5da8ef['_anchorDir'+'ty']){let _0x283ad6=0xf57+-0x4b3*-0x5+-0x26d6,_0x541eeb=0x1e65+0xa99*-0x1+0x2*-0x9e6,_0x4b8a04=0xec*-0xd+-0x2*-0x121f+-0x1842,_0xe4f3d1=0x557*-0x5+0x4ad+-0x1607*-0x1;if(this['_parent']&&this['_parent']['element'])_0x283ad6=this['_parent']['element']['calculated'+'Width'],_0x541eeb=this['_parent']['element']['calculated'+'Height'],_0x4b8a04=this['_parent']['element']['pivot']['x'],_0xe4f3d1=this['_parent']['element']['pivot']['y'];else{const _0x3d5b89=_0xea5d06['screen']['resolution'];_0x283ad6=_0x3d5b89['x']/_0xea5d06['screen']['scale'],_0x541eeb=_0x3d5b89['y']/_0xea5d06['screen']['scale'];}_0x5da8ef['_anchorTra'+'nsform']['setTransla'+'te'](_0x283ad6*(_0x5da8ef['anchor']['x']-_0x4b8a04),-(_0x541eeb*(_0xe4f3d1-_0x5da8ef['anchor']['y'])),0x3cf+0x18b+0xa*-0x89),_0x5da8ef['_anchorDir'+'ty']=!(0x1*0x5ad+-0x25a0+0xa*0x332),_0x5da8ef['_calculate'+'LocalAncho'+'rs']();}_0x5da8ef['_sizeDirty']&&_0x5da8ef['_calculate'+'Size'](!(-0x1*0x1b0d+0x7*0x9d+0x16c3),!(0x232b+0x10ba*0x2+-0x449e));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x3f7fee=this['localPosit'+'ion'],_0x31c649=_0x5da8ef['_pivot'];_0x5da8ef['_margin']['x']=_0x3f7fee['x']-_0x5da8ef['_calculate'+'dWidth']*_0x31c649['x'],_0x5da8ef['_margin']['z']=_0x5da8ef['_localAnch'+'or']['z']-_0x5da8ef['_localAnch'+'or']['x']-_0x5da8ef['_calculate'+'dWidth']-_0x5da8ef['_margin']['x'],_0x5da8ef['_margin']['y']=_0x3f7fee['y']-_0x5da8ef['_calculate'+'dHeight']*_0x31c649['y'],_0x5da8ef['_margin']['w']=_0x5da8ef['_localAnch'+'or']['w']-_0x5da8ef['_localAnch'+'or']['y']-_0x5da8ef['_calculate'+'dHeight']-_0x5da8ef['_margin']['y'],this['_dirtyLoca'+'l']=!(-0x33*-0xbf+0xcbf*0x2+0x3f8a*-0x1);}if(!_0xea5d06){this['_dirtyWorl'+'d']&&(_0x5da8ef['_cornersDi'+'rty']=!(-0x2*0x301+-0x22*-0xcd+-0x1538),_0x5da8ef['_canvasCor'+'nersDirty']=!(-0x1*-0x1a21+-0x406+-0x1*0x161b),_0x5da8ef['_worldCorn'+'ersDirty']=!(-0x20b4+-0x4ff+-0xc91*-0x3)),We['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x5da8ef['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x5da8ef['_anchorTra'+'nsform']):_0x5da8ef['_screenToW'+'orld']['copy'](_0x5da8ef['_anchorTra'+'nsform']),_0x5da8ef['_modelTran'+'sform']['mul2'](_0x5da8ef['_screenToW'+'orld'],this['localTrans'+'form']),_0xea5d06){_0x5da8ef['_screenToW'+'orld']['mul2'](_0xea5d06['screen']['_screenMat'+'rix'],_0x5da8ef['_screenToW'+'orld']),_0xea5d06['screen']['screenSpac'+'e']||_0x5da8ef['_screenToW'+'orld']['mul2'](_0xea5d06['worldTrans'+'form'],_0x5da8ef['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x5da8ef['_screenToW'+'orld'],this['localTrans'+'form']);const _0x42bc63=_0x5da8ef['_parentWor'+'ldTransfor'+'m'];_0x42bc63['setIdentit'+'y']();const _0x43c5d5=this['_parent'];_0x43c5d5&&_0x43c5d5['element']&&_0x43c5d5!==_0xea5d06&&(es['setTRS'](T['ZERO'],_0x43c5d5['getLocalRo'+'tation'](),_0x43c5d5['getLocalSc'+'ale']()),_0x42bc63['mul2'](_0x43c5d5['element']['_parentWor'+'ldTransfor'+'m'],es));const _0x427d53=ni;_0x427d53['set'](-0x8*0x439+0x1c8b+0x53d,0x1*-0x1473+-0x23ad+-0x4*-0xe08,this['localPosit'+'ion']['z']);const _0x965f92=kR;_0x965f92['set'](_0x5da8ef['_absLeft']+_0x5da8ef['_pivot']['x']*_0x5da8ef['calculated'+'Width'],_0x5da8ef['_absBottom']+_0x5da8ef['_pivot']['y']*_0x5da8ef['calculated'+'Height'],-0x10b*0x4+0x14*0x111+0xf4*-0x12),es['setTransla'+'te'](-_0x965f92['x'],-_0x965f92['y'],-_0x965f92['z']),Yl['setTRS'](_0x427d53,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0x965f92['x'],_0x965f92['y'],_0x965f92['z']),_0x5da8ef['_screenTra'+'nsform']['mul2'](_0x5da8ef['_parentWor'+'ldTransfor'+'m'],Kl)['mul'](Yl)['mul'](es),_0x5da8ef['_cornersDi'+'rty']=!(0x207a+0x2*0x9a4+-0x19e1*0x2),_0x5da8ef['_canvasCor'+'nersDirty']=!(0x8*-0x296+0x1819*-0x1+-0x5*-0x8f5),_0x5da8ef['_worldCorn'+'ersDirty']=!(-0xf*-0x6+0xeed+-0xf47);}else this['worldTrans'+'form']['copy'](_0x5da8ef['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(0x152a+0x7*0x51b+0x1*-0x38e6);}}['_onInsert'](_0x1ecbf3){const _0x329457=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x329457['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x283269=this['entity'];for(;_0x283269;){const _0x200e9b=_0x283269['parent'];if((_0x200e9b===null||_0x200e9b['screen'])&&_0x283269['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),v['trace'](Ss,'register\x20p'+'rerender'));const _0x10f476=this['system']['_prerender']['indexOf'](this['entity']);_0x10f476>=-0xa7c+-0x1680+-0x107e*-0x2&&this['system']['_prerender']['splice'](_0x10f476,0x1c1*0x14+0xd*0x26+-0x2501),this['system']['_prerender']['indexOf'](_0x283269)<-0x471*0x2+0x6b*-0x49+-0x2765*-0x1&&this['system']['_prerender']['push'](_0x283269),v['trace'](Ss,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x283269['name']);}_0x283269=_0x200e9b;}}['_onPrerend'+'er'](){for(let _0xf160e4=0x1ca5*0x1+0x9*-0x225+-0x1*0x958;_0xf160e4<this['system']['_prerender']['length'];_0xf160e4++){const _0x402083=this['system']['_prerender'][_0xf160e4];v['trace'](Ss,'prerender\x20'+'from:\x20'+_0x402083['name']),_0x402083['element']&&_0x402083['element']['syncMask'](-0x25df*-0x1+-0xae9+-0x1af5);}this['system']['_prerender']['length']=0x7cd*0x2+-0x1*-0x1ce1+-0x1*0x2c7b;}['_bindScree'+'n'](_0x4fe17b){_0x4fe17b['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x2dfcec){_0x2dfcec['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x2381fd){this['screen']&&this['screen']!==_0x2381fd&&this['_unbindScr'+'een'](this['screen']['screen']);const _0xda5f5b=this['screen'];this['screen']=_0x2381fd,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0xda5f5b),this['_anchorDir'+'ty']=!(-0x224*0x5+0x14b*-0x1a+0x2c52);const _0x599af9=this['entity']['children'];for(let _0x344ab4=0x35*-0xd+-0x19d4+0x1c85,_0x2d8631=_0x599af9['length'];_0x344ab4<_0x2d8631;_0x344ab4++)_0x599af9[_0x344ab4]['element']&&_0x599af9[_0x344ab4]['element']['_updateScr'+'een'](_0x2381fd);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x31ee33){const _0x5b8ae3=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x5b8ae3['mask'],_0x31ee33);}['_setMasked'+'By'](_0x24dab0){const _0x5aac55=this['_image']||this['_text'];if(_0x24dab0){const _0x2a8e5c=_0x24dab0['element']['_image']['_maskRef'];v['trace'](Ss,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x2a8e5c),_0x5aac55==null||_0x5aac55['_setStenci'+'l'](new qs({'ref':_0x2a8e5c,'func':Ch})),this['_maskedBy']=_0x24dab0;}else v['trace'](Ss,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x5aac55==null||_0x5aac55['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x414747,_0x592151){var _0x4d6d00,_0x756ba9;if(_0x414747){if(this['_setMasked'+'By'](_0x414747),this['mask']){const _0x4edb75=_0x414747['element']['_image']['_maskRef'],_0x257e74=new qs({'ref':_0x4edb75,'func':Ch,'zpass':HS});this['_image']['_setStenci'+'l'](_0x257e74),this['_image']['_maskRef']=_0x592151,_0x592151++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x257e74['ref']+(0x202f+0x1ff+-0x222d*0x1))),v['trace'](Ss,'depth++\x20to'+':\x20',_0x592151),_0x414747=this['entity'];}const _0x70449b=this['entity']['children'];for(let _0x3ef5d0=0x1099+0x1f2f+-0x2fc8,_0x1e1dff=_0x70449b['length'];_0x3ef5d0<_0x1e1dff;_0x3ef5d0++)(_0x4d6d00=_0x70449b[_0x3ef5d0]['element'])==null||_0x4d6d00['_updateMas'+'k'](_0x414747,_0x592151);this['mask']&&_0x592151--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x4e35ad=new qs({'ref':_0x592151,'func':Ai,'zpass':GS});this['_image']['_setStenci'+'l'](_0x4e35ad),this['_image']['_maskRef']=_0x592151,_0x592151++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x4e35ad['ref']),v['trace'](Ss,'depth++\x20to'+':\x20',_0x592151),_0x414747=this['entity'];}const _0x3c861f=this['entity']['children'];for(let _0x208c3b=0x2*-0x269+0x1fff+-0x1b2d*0x1,_0xfb136a=_0x3c861f['length'];_0x208c3b<_0xfb136a;_0x208c3b++)(_0x756ba9=_0x3c861f[_0x208c3b]['element'])==null||_0x756ba9['_updateMas'+'k'](_0x414747,_0x592151);this['mask']&&_0x592151--;}}['_parseUpTo'+'Screen'](){const _0x223dd5={'screen':null,'mask':null};let _0x2772d8=this['entity']['_parent'];for(;_0x2772d8&&!_0x2772d8['screen'];)_0x2772d8['element']&&_0x2772d8['element']['mask']&&(_0x223dd5['mask']||(_0x223dd5['mask']=_0x2772d8)),_0x2772d8=_0x2772d8['parent'];return _0x2772d8&&_0x2772d8['screen']&&(_0x223dd5['screen']=_0x2772d8),_0x223dd5;}['_onScreenR'+'esize'](_0x443227){this['_anchorDir'+'ty']=!(-0xbd7+-0xfbf+-0x932*-0x3),this['_cornersDi'+'rty']=!(0x13ed+0x26f*-0x1+-0x117e),this['_worldCorn'+'ersDirty']=!(0x4*-0x9f+0xf2*0x19+-0x1526*0x1),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x443227);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x3e7a90=0x1*0x12d0+-0x2*0x751+-0x46,_0x45f489=0x1f76+0x55+0xb*-0x289;const _0x47a8d2=this['entity']['_parent'];if(_0x47a8d2&&_0x47a8d2['element'])_0x3e7a90=_0x47a8d2['element']['calculated'+'Width'],_0x45f489=_0x47a8d2['element']['calculated'+'Height'];else{if(this['screen']){const _0x3392a0=this['screen']['screen']['resolution'],_0x23d294=this['screen']['screen']['scale'];_0x3e7a90=_0x3392a0['x']/_0x23d294,_0x45f489=_0x3392a0['y']/_0x23d294;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x3e7a90,this['_anchor']['y']*_0x45f489,this['_anchor']['z']*_0x3e7a90,this['_anchor']['w']*_0x45f489);}['getOffsetP'+'osition'](_0x32250a,_0xa2698e){const _0x4b06a7=this['entity']['getLocalPo'+'sition']()['clone']();return _0x4b06a7['x']+=_0x32250a,_0x4b06a7['y']+=_0xa2698e,this['_screenToW'+'orld']['transformP'+'oint'](_0x4b06a7,_0x4b06a7),_0x4b06a7;}['onLayersCh'+'anged'](_0x10acdf,_0x581e37){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x10acdf['off']('add',this['onLayerAdd'+'ed'],this),_0x10acdf['off']('remove',this['onLayerRem'+'oved'],this),_0x581e37['on']('add',this['onLayerAdd'+'ed'],this),_0x581e37['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x1a6b6a){this['layers']['indexOf'](_0x1a6b6a['id'])<0x37c*0x1+-0x607*0x6+0x20ae*0x1||(this['_image']?_0x1a6b6a['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x1a6b6a['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x3d5c5c){this['layers']['indexOf'](_0x3d5c5c['id'])<-0x6e6*-0x1+0x1*0xbc3+0x11*-0x119||(this['_image']?_0x3d5c5c['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x3d5c5c['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x273622;const _0x1269af=this['system']['app']['scene'],_0x40d52b=_0x1269af['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x1269af['on']('set:layers',this['onLayersCh'+'anged'],this),_0x40d52b&&(this['_evtLayerA'+'dded']=_0x40d52b['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x40d52b['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=-0xadd*-0x3+-0x1*0x497+-0x1c00&&((_0x273622=this['system']['app']['batcher'])==null||_0x273622['insert'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x49f14c,_0x159b50,_0x4db2eb,_0x159568;const _0x3ad470=this['system']['app']['scene']['layers'];(_0x49f14c=this['_evtLayers'+'Changed'])==null||_0x49f14c['off'](),this['_evtLayers'+'Changed']=null,_0x3ad470&&((_0x159b50=this['_evtLayerA'+'dded'])==null||_0x159b50['off'](),this['_evtLayerA'+'dded']=null,(_0x4db2eb=this['_evtLayerR'+'emoved'])==null||_0x4db2eb['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=-0x26*0x2d+0x153*-0x1b+0x33*0xd5&&((_0x159568=this['system']['app']['batcher'])==null||_0x159568['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x65594,_0x4ed0d7){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x3d8b4f=this['_absRight']-this['_absLeft'],_0x140860=this['_absTop']-this['_absBottom'];_0x65594?this['_setWidth'](_0x3d8b4f):this['_setCalcul'+'atedWidth'](_0x3d8b4f,!(-0x1*0x1a21+-0x6c*0x26+0x2a2a)),_0x4ed0d7?this['_setHeight'](_0x140860):this['_setCalcul'+'atedHeight'](_0x140860,!(-0x2*0xf94+-0x1ff9*0x1+0x3f22));const _0x43d56f=this['entity']['getLocalPo'+'sition']();_0x43d56f['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x43d56f['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x43d56f),this['_sizeDirty']=!(0xc58+0x156*-0xa+0x105);}['_setWidth'](_0x233844){this['_width']=_0x233844,this['_setCalcul'+'atedWidth'](_0x233844,!(-0x3f2*-0x1+0x2*0x1091+-0x2513)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x5b0aad){this['_height']=_0x5b0aad,this['_setCalcul'+'atedHeight'](_0x5b0aad,!(0x11*0x56+-0x9d1+0x41c)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0xe633aa,_0x188865){if(!(Math['abs'](_0xe633aa-this['_calculate'+'dWidth'])<=-0x950+0x248e+0x1*-0x1b3e+0.0001)){if(this['_calculate'+'dWidth']=_0xe633aa,this['entity']['_dirtifyLo'+'cal'](),_0x188865){const _0x5d3b19=this['entity']['getLocalPo'+'sition'](),_0x8e64df=this['_pivot'];this['_margin']['x']=_0x5d3b19['x']-this['_calculate'+'dWidth']*_0x8e64df['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x2478f5,_0x577284){if(!(Math['abs'](_0x2478f5-this['_calculate'+'dHeight'])<=-0xbee+0xd*-0x8f+-0x1*-0x1331+0.0001)){if(this['_calculate'+'dHeight']=_0x2478f5,this['entity']['_dirtifyLo'+'cal'](),_0x577284){const _0x46f5c0=this['entity']['getLocalPo'+'sition'](),_0x18b0f0=this['_pivot'];this['_margin']['y']=_0x46f5c0['y']-this['_calculate'+'dHeight']*_0x18b0f0['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x123dc0=this['entity']['_children'];for(let _0x25cd6f=-0x1*-0xd69+0x101*0x11+-0x53*0x5e,_0x3dfd15=_0x123dc0['length'];_0x25cd6f<_0x3dfd15;_0x25cd6f++)_0x123dc0[_0x25cd6f]['element']&&(_0x123dc0[_0x25cd6f]['element']['_anchorDir'+'ty']=!(0x5c*-0x26+0xf*0x9+0xd21),_0x123dc0[_0x25cd6f]['element']['_sizeDirty']=!(-0x1111+0x1899*0x1+-0x2*0x3c4));}['addModelTo'+'Layers'](_0x1f9f9f){this['_addedMode'+'ls']['push'](_0x1f9f9f);for(let _0x218195=-0x68c+0xf6d+-0x8e1;_0x218195<this['layers']['length'];_0x218195++){const _0x367596=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x218195]);_0x367596&&_0x367596['addMeshIns'+'tances'](_0x1f9f9f['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x47dcd6){const _0x59ce47=this['_addedMode'+'ls']['indexOf'](_0x47dcd6);_0x59ce47>=0x248c+-0x1*-0x3f5+0x1*-0x2881&&this['_addedMode'+'ls']['splice'](_0x59ce47,-0x398+0x22ee+-0x1f55);for(let _0x1eedbf=-0x9ce*0x2+0x13b5+-0x19;_0x1eedbf<this['layers']['length'];_0x1eedbf++){const _0xef93e2=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x1eedbf]);_0xef93e2&&_0xef93e2['removeMesh'+'Instances'](_0x47dcd6['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x4f5b40=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x4f5b40&&(this['_maskOffse'+'t']=0x1*-0x115f+-0x1ccf+0x2e2e+0.5,this['_offsetRea'+'dAt']=_0x4f5b40);const _0x4dc438=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=0xa8e*0x1+0x13a5+-0x1e33+0.001,_0x4dc438;}['isVisibleF'+'orCamera'](_0x314cbd){let _0x2795fd,_0x12ee60,_0x53eb37,_0x261d3e;if(this['maskedBy']){const _0x35dafa=this['maskedBy']['element']['screenCorn'+'ers'];_0x2795fd=Math['min'](Math['min'](_0x35dafa[-0x47*-0x7f+0x17*-0x105+-0x1*0xbc6]['x'],_0x35dafa[0x14ed+-0xfa8+-0x544*0x1]['x']),Math['min'](_0x35dafa[-0xdf*0x11+0x1b98+0x1*-0xcc7]['x'],_0x35dafa[-0x1106+0x1*-0x1d69+0x2e72]['x'])),_0x12ee60=Math['max'](Math['max'](_0x35dafa[0x84e+0x1f36+-0x2784]['x'],_0x35dafa[-0x1d12*-0x1+-0xbc4*-0x1+-0x28d5]['x']),Math['max'](_0x35dafa[-0x120f+0xbf5*-0x3+0x35f0]['x'],_0x35dafa[-0x94*0x1+0x111d*-0x2+0x22d1]['x'])),_0x261d3e=Math['min'](Math['min'](_0x35dafa[0x747+0x244c+-0x2b93]['y'],_0x35dafa[0x1bdd+-0x3e5+0x7fd*-0x3]['y']),Math['min'](_0x35dafa[0x108f+-0x1*0x1730+0x6a3]['y'],_0x35dafa[0x10b0+-0x1082*0x2+0x1057]['y'])),_0x53eb37=Math['max'](Math['max'](_0x35dafa[0x8a1*-0x1+0xa37*-0x2+0x1d0f*0x1]['y'],_0x35dafa[-0x49d+-0x8ff*-0x1+-0x1*0x461]['y']),Math['max'](_0x35dafa[0x67b+0x72*-0x29+0x1af*0x7]['y'],_0x35dafa[-0x205*0x1+-0xf5e+0x1*0x1166]['y']));}else{const _0xc2d205=this['system']['app']['graphicsDe'+'vice']['width'],_0x353043=this['system']['app']['graphicsDe'+'vice']['height'],_0x2010e5=_0x314cbd['_rect']['z']*_0xc2d205,_0x4b5f85=_0x314cbd['_rect']['w']*_0x353043;_0x2795fd=_0x314cbd['_rect']['x']*_0xc2d205,_0x12ee60=_0x2795fd+_0x2010e5,_0x53eb37=(0x805*0x1+-0x59*-0x2+-0x8b6-_0x314cbd['_rect']['y'])*_0x353043,_0x261d3e=_0x53eb37-_0x4b5f85;}const _0x2e6a8d=this['screenCorn'+'ers'],_0x408329=Math['min'](Math['min'](_0x2e6a8d[-0x1*-0x677+-0x1*0x25f5+0x116*0x1d]['x'],_0x2e6a8d[-0x97*0x1+0x25f*-0x5+0x1*0xc73]['x']),Math['min'](_0x2e6a8d[0x28a+0x1968+0xc*-0x254]['x'],_0x2e6a8d[0x241+0x7f6+-0xa34]['x'])),_0x18557b=Math['max'](Math['max'](_0x2e6a8d[0x469+-0x26b8+0x224f*0x1]['x'],_0x2e6a8d[0x19b5*-0x1+0x21f5+-0x83f]['x']),Math['max'](_0x2e6a8d[-0x2*0xa3d+0x26a0+-0x306*0x6]['x'],_0x2e6a8d[0x1e17+0x7*0x45a+0x453*-0xe]['x'])),_0x748ccd=Math['min'](Math['min'](_0x2e6a8d[-0x11f8+-0x180b+0x2a03]['y'],_0x2e6a8d[0x13f1+0x17ba*-0x1+0x3ca]['y']),Math['min'](_0x2e6a8d[-0xa57+0xc31*0x1+-0x1d8]['y'],_0x2e6a8d[0xc3*-0x29+-0x1151*0x1+0x308f]['y'])),_0x384047=Math['max'](Math['max'](_0x2e6a8d[-0xd0*-0x14+0x17ff+-0x283f]['y'],_0x2e6a8d[0x8b*-0x2e+-0x552*0x2+0x239f*0x1]['y']),Math['max'](_0x2e6a8d[0x1833+-0xf47+0x2*-0x475]['y'],_0x2e6a8d[-0x15f3+-0x1a10*-0x1+0x96*-0x7]['y']));return!(_0x18557b<_0x2795fd||_0x408329>_0x12ee60||_0x748ccd>_0x53eb37||_0x384047<_0x261d3e);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(-0x24dd+0x178+0x2366);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(-0xfaa+0x1*-0x14e3+0x248e);}['_dirtyBatc'+'h'](){var _0x57f615;this['batchGroup'+'Id']!==-(-0x25ee+-0x2365*0x1+0x2*0x24aa)&&((_0x57f615=this['system']['app']['batcher'])==null||_0x57f615['markGroupD'+'irty'](this['batchGroup'+'Id']));}}c(Gt,'EVENT_MOUS'+'EDOWN','mousedown'),c(Gt,'EVENT_MOUS'+'EUP','mouseup'),c(Gt,'EVENT_MOUS'+'EENTER','mouseenter'),c(Gt,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(Gt,'EVENT_MOUS'+'EMOVE','mousemove'),c(Gt,'EVENT_MOUS'+'EWHEEL','mousewheel'),c(Gt,'EVENT_CLIC'+'K','click'),c(Gt,'EVENT_TOUC'+'HSTART','touchstart'),c(Gt,'EVENT_TOUC'+'HEND','touchend'),c(Gt,'EVENT_TOUC'+'HMOVE','touchmove'),c(Gt,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class BR{constructor(){this['enabled']=!(0xa*-0x31+-0xe15+0xfff);}}const NR=['enabled'];class zR extends Xe{constructor(_0x175b48){super(_0x175b48),this['id']='element',this['ComponentT'+'ype']=Gt,this['DataType']=BR,this['schema']=NR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new he(_0x175b48['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':rs,'name':'element-sy'+'stem'});const _0x11918e=this['_defaultTe'+'xture']['lock'](),_0x455a4f=new Uint8Array(0x1142+-0x8bd*-0x1+-0x19fb);_0x455a4f[-0xf*0x91+0xcf7+-0x478]=-0x21dc+0x1*0x6fc+0x1bdf,_0x455a4f[0x4*-0x6a+-0x770*0x4+0x1f69]=-0x2b*-0xb5+-0x37c*-0x6+-0x3250,_0x455a4f[0x1*0x1381+0x284+-0x1603]=-0x134a+-0x83b+0x1c84,_0x455a4f[0xd02+0x12b*0x1+0xe*-0x103]=-0x12b7*0x1+0x1e42+-0x9*0x12c,_0x11918e['set'](_0x455a4f),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x1ed666,_0x2508e5,_0x1c487b){_0x1ed666['_beingInit'+'ialized']=!(-0x850+-0x11*-0x9b+-0x1fb),_0x2508e5['anchor']!==void(-0x1f89+-0x3f*-0x21+0x2*0xbb5)&&(_0x2508e5['anchor']instanceof Q?_0x1ed666['anchor']['copy'](_0x2508e5['anchor']):_0x1ed666['anchor']['set'](_0x2508e5['anchor'][-0x13c4*0x1+-0x18d8+-0x164e*-0x2],_0x2508e5['anchor'][-0x3ad*0x7+-0x1087*0x1+0x1*0x2a43],_0x2508e5['anchor'][0x1aff*-0x1+-0xa13+0x2514],_0x2508e5['anchor'][0x18c9+-0x1875+-0x51])),_0x2508e5['pivot']!==void(0x2*0xb5b+-0x1043*-0x1+-0x26f9)&&(_0x2508e5['pivot']instanceof W?_0x1ed666['pivot']['copy'](_0x2508e5['pivot']):_0x1ed666['pivot']['set'](_0x2508e5['pivot'][-0x18d*-0x9+-0x1*0x24f7+0x1702],_0x2508e5['pivot'][0x5ff*-0x3+-0xc12+0x1e10]));const _0x1c826f=Math['abs'](_0x1ed666['anchor']['x']-_0x1ed666['anchor']['z'])>0x24f*0x7+-0x7*-0x3df+-0x2b42+0.001,_0x367e70=Math['abs'](_0x1ed666['anchor']['y']-_0x1ed666['anchor']['w'])>-0x112*0x9+0x164f*0x1+0x3b*-0x37+0.001;let _0x281fbe=!(-0x19b0*0x1+-0x1*-0x224f+-0x89e),_0x4fc59e;_0x2508e5['margin']!==void(-0x1ddb+0x1*-0xaa9+0x2884)&&(_0x2508e5['margin']instanceof Q?_0x1ed666['margin']['copy'](_0x2508e5['margin']):_0x1ed666['_margin']['set'](_0x2508e5['margin'][-0x1bb*-0x2+0x7*0x3e5+-0xb*0x2cb],_0x2508e5['margin'][0x12f6+-0x36*-0x78+-0x2c45],_0x2508e5['margin'][-0x1c84+0x9da+0x12ac],_0x2508e5['margin'][0xe74+-0x5*-0xbf+-0x916*0x2]),_0x281fbe=!(-0x2c4*0xb+-0x1*-0x34b+0x1b21)),_0x2508e5['left']!==void(0x1843+-0x283*-0xd+-0x9b*0x5e)&&(_0x1ed666['_margin']['x']=_0x2508e5['left'],_0x281fbe=!(0x2245+0x3*0x5dd+-0x33dc)),_0x2508e5['bottom']!==void(0x1*0x3cd+0x125*-0x1e+0x1e89*0x1)&&(_0x1ed666['_margin']['y']=_0x2508e5['bottom'],_0x281fbe=!(0x6d*-0x51+0x5*0x65f+0x2a2)),_0x2508e5['right']!==void(0x1460+0x19+0x1*-0x1479)&&(_0x1ed666['_margin']['z']=_0x2508e5['right'],_0x281fbe=!(0x55f+-0xc7d+0x71e)),_0x2508e5['top']!==void(0x25*0x103+-0x1*0x7ed+-0x1d82)&&(_0x1ed666['_margin']['w']=_0x2508e5['top'],_0x281fbe=!(-0xb05+-0x24c4+0x2fc9)),_0x281fbe&&(_0x1ed666['margin']=_0x1ed666['_margin']);let _0x459095=!(-0x1c5c+-0x17e5+0x3442);_0x2508e5['width']!==void(-0x985*-0x1+0xb*0x304+-0x2ab1)&&!_0x1c826f?_0x1ed666['width']=_0x2508e5['width']:_0x1c826f&&(_0x459095=!(0x1*0x14ef+0x2304+-0x37f3)),_0x2508e5['height']!==void(0x13e1+0x2ea*-0x2+0x6d*-0x21)&&!_0x367e70?_0x1ed666['height']=_0x2508e5['height']:_0x367e70&&(_0x459095=!(0x2c8+-0x223b+0x1f73)),_0x459095&&(_0x1ed666['anchor']=_0x1ed666['anchor']),_0x2508e5['enabled']!==void(-0x22df+-0x7ea*-0x1+-0x1af5*-0x1)&&(_0x1ed666['enabled']=_0x2508e5['enabled']),_0x2508e5['useInput']!==void(0x3b9*0x7+-0x17c7*-0x1+-0x18eb*0x2)&&(_0x1ed666['useInput']=_0x2508e5['useInput']),_0x2508e5['fitMode']!==void(0x16c8+-0x15*-0x1b6+0x3*-0x1392)&&(_0x1ed666['fitMode']=_0x2508e5['fitMode']),_0x1ed666['batchGroup'+'Id']=_0x2508e5['batchGroup'+'Id']===void(-0x3b*0x5e+-0x25a5*-0x1+-0x1*0xffb)||_0x2508e5['batchGroup'+'Id']===null?-(-0x1*-0x197f+0x1614+0x2f92*-0x1):_0x2508e5['batchGroup'+'Id'],_0x2508e5['layers']&&Array['isArray'](_0x2508e5['layers'])&&(_0x1ed666['layers']=_0x2508e5['layers']['slice'](0x147*0x15+0x6*-0x55f+0x567)),_0x2508e5['type']!==void(0x1d5*0xb+0x1b5*-0x2+-0x10bd)&&(_0x1ed666['type']=_0x2508e5['type']),_0x1ed666['type']===rf?(_0x2508e5['rect']!==void(0x1*-0x190d+-0x5c+-0x5*-0x515)&&(_0x1ed666['rect']=_0x2508e5['rect']),_0x2508e5['color']!==void(0x199*-0xd+0x8d4+0xbf1)&&(_0x4fc59e=_0x2508e5['color'],_0x4fc59e instanceof Y||(_0x4fc59e=new Y(_0x2508e5['color'][-0x21e9*-0x1+-0x27a*-0x2+0x1*-0x26dd],_0x2508e5['color'][-0x2*0x12bc+-0x1ea0+-0x4419*-0x1],_0x2508e5['color'][0x1*-0x1b84+0x14c6+0x6c0])),_0x1ed666['color']=_0x4fc59e),_0x2508e5['opacity']!==void(0x4f9+0x5b5+-0xaae*0x1)&&(_0x1ed666['opacity']=_0x2508e5['opacity']),_0x2508e5['textureAss'+'et']!==void(0x37c*-0x8+-0x22a2+0x7e*0x7f)&&(_0x1ed666['textureAss'+'et']=_0x2508e5['textureAss'+'et']),_0x2508e5['texture']&&(_0x1ed666['texture']=_0x2508e5['texture']),_0x2508e5['spriteAsse'+'t']!==void(0xd*0x39+0x212+-0x4f7)&&(_0x1ed666['spriteAsse'+'t']=_0x2508e5['spriteAsse'+'t']),_0x2508e5['sprite']&&(_0x1ed666['sprite']=_0x2508e5['sprite']),_0x2508e5['spriteFram'+'e']!==void(0x2093*0x1+0xff+-0x2192)&&(_0x1ed666['spriteFram'+'e']=_0x2508e5['spriteFram'+'e']),_0x2508e5['pixelsPerU'+'nit']!==void(-0x1*0x124f+-0xbc4+0x1e13)&&_0x2508e5['pixelsPerU'+'nit']!==null&&(_0x1ed666['pixelsPerU'+'nit']=_0x2508e5['pixelsPerU'+'nit']),_0x2508e5['materialAs'+'set']!==void(-0x8f1+0x19*0xba+-0x939)&&(_0x1ed666['materialAs'+'set']=_0x2508e5['materialAs'+'set']),_0x2508e5['material']&&(_0x1ed666['material']=_0x2508e5['material']),_0x2508e5['mask']!==void(-0x34f+-0xdff*0x2+0x1f4d)&&(_0x1ed666['mask']=_0x2508e5['mask'])):_0x1ed666['type']===ex&&(_0x2508e5['autoWidth']!==void(-0x195d*-0x1+-0x104c+0x911*-0x1)&&(_0x1ed666['autoWidth']=_0x2508e5['autoWidth']),_0x2508e5['autoHeight']!==void(0x1*0x175+0x3*-0xa7+0x1*0x80)&&(_0x1ed666['autoHeight']=_0x2508e5['autoHeight']),_0x2508e5['rtlReorder']!==void(-0x1ac2+-0x16f+0x1c31)&&(_0x1ed666['rtlReorder']=_0x2508e5['rtlReorder']),_0x2508e5['unicodeCon'+'verter']!==void(0xf6d+-0x13b5+0x448)&&(_0x1ed666['unicodeCon'+'verter']=_0x2508e5['unicodeCon'+'verter']),_0x2508e5['text']!==null&&_0x2508e5['text']!==void(0xc9e+0x18d0+-0x256e)?_0x1ed666['text']=_0x2508e5['text']:_0x2508e5['key']!==null&&_0x2508e5['key']!==void(-0x5b*-0x4c+0xe2f+-0x2933)&&(_0x1ed666['key']=_0x2508e5['key']),_0x2508e5['color']!==void(-0x186a+0x17e0+0x8a)&&(_0x4fc59e=_0x2508e5['color'],_0x4fc59e instanceof Y||(_0x4fc59e=new Y(_0x4fc59e[0x45*0x31+-0xe81+0x14c*0x1],_0x4fc59e[0x2710+0x1*-0x1be2+-0xb2d*0x1],_0x4fc59e[-0x283*0xb+0x59c*-0x2+0x157*0x1d])),_0x1ed666['color']=_0x4fc59e),_0x2508e5['opacity']!==void(0xb91+0x10e4+-0x1c75)&&(_0x1ed666['opacity']=_0x2508e5['opacity']),_0x2508e5['spacing']!==void(-0x1*-0x203c+-0x22a1+-0x265*-0x1)&&(_0x1ed666['spacing']=_0x2508e5['spacing']),_0x2508e5['fontSize']!==void(0xfd*-0x1a+0xac*0xa+0x97d*0x2)&&(_0x1ed666['fontSize']=_0x2508e5['fontSize'],_0x2508e5['lineHeight']||(_0x1ed666['lineHeight']=_0x2508e5['fontSize'])),_0x2508e5['lineHeight']!==void(0xf38+-0x1*0xd5b+-0x1*0x1dd)&&(_0x1ed666['lineHeight']=_0x2508e5['lineHeight']),_0x2508e5['maxLines']!==void(-0x1*0x1c3+0x15ea+-0x1427)&&(_0x1ed666['maxLines']=_0x2508e5['maxLines']),_0x2508e5['wrapLines']!==void(0x2526+0x2b*-0x9e+0xc2*-0xe)&&(_0x1ed666['wrapLines']=_0x2508e5['wrapLines']),_0x2508e5['minFontSiz'+'e']!==void(-0x1*0x1d6+-0x24cd+-0x7*-0x585)&&(_0x1ed666['minFontSiz'+'e']=_0x2508e5['minFontSiz'+'e']),_0x2508e5['maxFontSiz'+'e']!==void(0x48b*0x1+0x3b1+-0x83c)&&(_0x1ed666['maxFontSiz'+'e']=_0x2508e5['maxFontSiz'+'e']),_0x2508e5['autoFitWid'+'th']&&(_0x1ed666['autoFitWid'+'th']=_0x2508e5['autoFitWid'+'th']),_0x2508e5['autoFitHei'+'ght']&&(_0x1ed666['autoFitHei'+'ght']=_0x2508e5['autoFitHei'+'ght']),_0x2508e5['fontAsset']!==void(0x240+-0x2f*-0x7f+-0x1991)&&(_0x1ed666['fontAsset']=_0x2508e5['fontAsset']),_0x2508e5['font']!==void(0x234c+-0x1a8+-0x10d2*0x2)&&(_0x1ed666['font']=_0x2508e5['font']),_0x2508e5['alignment']!==void(-0x83d+0x1f41+-0x1704)&&(_0x1ed666['alignment']=_0x2508e5['alignment']),_0x2508e5['outlineCol'+'or']!==void(-0x21b7+-0x195f+0x13b2*0x3)&&(_0x1ed666['outlineCol'+'or']=_0x2508e5['outlineCol'+'or']),_0x2508e5['outlineThi'+'ckness']!==void(0x3*-0x4d7+-0x2013+0x2e98)&&(_0x1ed666['outlineThi'+'ckness']=_0x2508e5['outlineThi'+'ckness']),_0x2508e5['shadowColo'+'r']!==void(0x40*-0x25+0x5*-0x62f+0x282b)&&(_0x1ed666['shadowColo'+'r']=_0x2508e5['shadowColo'+'r']),_0x2508e5['shadowOffs'+'et']!==void(-0x1d40+0xf11+0x1*0xe2f)&&(_0x1ed666['shadowOffs'+'et']=_0x2508e5['shadowOffs'+'et']),_0x2508e5['enableMark'+'up']!==void(-0x1*0x1c3d+0xfc4*0x2+-0x34b)&&(_0x1ed666['enableMark'+'up']=_0x2508e5['enableMark'+'up']));const _0x322562=_0x1ed666['_parseUpTo'+'Screen']();_0x322562['screen']&&_0x1ed666['_updateScr'+'een'](_0x322562['screen']),super['initialize'+'ComponentD'+'ata'](_0x1ed666,_0x2508e5,_0x1c487b),_0x1ed666['_beingInit'+'ialized']=!(0x3*-0xa66+0x14e1+0xa52),_0x1ed666['type']===rf&&_0x1ed666['_image']['_meshDirty']&&_0x1ed666['_image']['_updateMes'+'h'](_0x1ed666['_image']['mesh']);}['onAddCompo'+'nent'](_0x25727e,_0x4d257a){_0x25727e['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x1a7db1,_0x5af1fb){_0x5af1fb['onRemove']();}['cloneCompo'+'nent'](_0x567ca9,_0x296f09){const _0x4e69ad=_0x567ca9['element'],_0x9ee0b5={'enabled':_0x4e69ad['enabled'],'width':_0x4e69ad['width'],'height':_0x4e69ad['height'],'anchor':_0x4e69ad['anchor']['clone'](),'pivot':_0x4e69ad['pivot']['clone'](),'margin':_0x4e69ad['margin']['clone'](),'alignment':_0x4e69ad['alignment']&&_0x4e69ad['alignment']['clone']()||_0x4e69ad['alignment'],'autoWidth':_0x4e69ad['autoWidth'],'autoHeight':_0x4e69ad['autoHeight'],'type':_0x4e69ad['type'],'rect':_0x4e69ad['rect']&&_0x4e69ad['rect']['clone']()||_0x4e69ad['rect'],'rtlReorder':_0x4e69ad['rtlReorder'],'unicodeConverter':_0x4e69ad['unicodeCon'+'verter'],'materialAsset':_0x4e69ad['materialAs'+'set'],'material':_0x4e69ad['material'],'color':_0x4e69ad['color']&&_0x4e69ad['color']['clone']()||_0x4e69ad['color'],'opacity':_0x4e69ad['opacity'],'textureAsset':_0x4e69ad['textureAss'+'et'],'texture':_0x4e69ad['texture'],'spriteAsset':_0x4e69ad['spriteAsse'+'t'],'sprite':_0x4e69ad['sprite'],'spriteFrame':_0x4e69ad['spriteFram'+'e'],'pixelsPerUnit':_0x4e69ad['pixelsPerU'+'nit'],'spacing':_0x4e69ad['spacing'],'lineHeight':_0x4e69ad['lineHeight'],'wrapLines':_0x4e69ad['wrapLines'],'layers':_0x4e69ad['layers'],'fontSize':_0x4e69ad['fontSize'],'minFontSize':_0x4e69ad['minFontSiz'+'e'],'maxFontSize':_0x4e69ad['maxFontSiz'+'e'],'autoFitWidth':_0x4e69ad['autoFitWid'+'th'],'autoFitHeight':_0x4e69ad['autoFitHei'+'ght'],'maxLines':_0x4e69ad['maxLines'],'fontAsset':_0x4e69ad['fontAsset'],'font':_0x4e69ad['font'],'useInput':_0x4e69ad['useInput'],'fitMode':_0x4e69ad['fitMode'],'batchGroupId':_0x4e69ad['batchGroup'+'Id'],'mask':_0x4e69ad['mask'],'outlineColor':_0x4e69ad['outlineCol'+'or']&&_0x4e69ad['outlineCol'+'or']['clone']()||_0x4e69ad['outlineCol'+'or'],'outlineThickness':_0x4e69ad['outlineThi'+'ckness'],'shadowColor':_0x4e69ad['shadowColo'+'r']&&_0x4e69ad['shadowColo'+'r']['clone']()||_0x4e69ad['shadowColo'+'r'],'shadowOffset':_0x4e69ad['shadowOffs'+'et']&&_0x4e69ad['shadowOffs'+'et']['clone']()||_0x4e69ad['shadowOffs'+'et'],'enableMarkup':_0x4e69ad['enableMark'+'up']};return _0x4e69ad['key']!==void(-0xea+0x26a*-0x3+0x828)&&_0x4e69ad['key']!==null?_0x9ee0b5['key']=_0x4e69ad['key']:_0x9ee0b5['text']=_0x4e69ad['text'],this['addCompone'+'nt'](_0x296f09,_0x9ee0b5);}['getTextEle'+'mentMateri'+'al'](_0x3ea98b,_0x484773,_0x47b87e){const _0x1bb9db=(_0x3ea98b&&-0xa60+-0x57b+-0x32c*-0x5)|(_0x484773&&-0x222a+-0xfcd*0x1+-0xb*-0x48b)|(_0x47b87e&&0x1*0x16cf+0x2*0xd5a+-0x1*0x317f);let _0x5c70ed=this['_defaultTe'+'xtMaterial'+'s'][_0x1bb9db];if(_0x5c70ed)return _0x5c70ed;let _0x4fb096='TextMateri'+'al';return _0x5c70ed=new cs(),_0x484773?(_0x5c70ed['msdfMap']=this['_defaultTe'+'xture'],_0x5c70ed['msdfTextAt'+'tribute']=_0x47b87e,_0x5c70ed['emissive']['set'](0x1*-0x188c+-0x6e6+0x1f73,-0x1b99+0x8*0x101+0x1392,-0x711*-0x5+0x1457+-0x37ab)):(_0x4fb096='Bitmap'+_0x4fb096,_0x5c70ed['emissive']['set'](-0x1d97*-0x1+0xee2+-0x2c78,0xe71+0x84f*0x4+-0x2*0x17d6,-0x587+0x2*-0xd79+0x207a),_0x5c70ed['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x5c70ed['opacityMap']=this['_defaultTe'+'xture'],_0x5c70ed['opacityMap'+'Channel']='a'),_0x3ea98b&&(_0x4fb096='ScreenSpac'+'e'+_0x4fb096,_0x5c70ed['depthTest']=!(-0x23cf+0x1a6*0x5+0x1b92)),_0x5c70ed['name']='default'+_0x4fb096,_0x5c70ed['useLightin'+'g']=!(0x32e+0x2233+-0x2560),_0x5c70ed['useTonemap']=!(-0x1b4e+0x1a4e+0x101*0x1),_0x5c70ed['useFog']=!(-0x10a7+-0x22ee+-0x1*-0x3396),_0x5c70ed['useSkybox']=!(-0x11e2*0x2+0x8*0x80+0x1fc5*0x1),_0x5c70ed['diffuse']['set'](-0x1*-0x1cdf+0x269d+-0x437c,-0x14*-0x134+-0x17c*0x5+-0x10a4,0x9*0x26+0xd7f+-0x1*0xed5),_0x5c70ed['opacity']=-0xa3a+-0x23d3+0x2e0d+0.5,_0x5c70ed['blendType']=hr,_0x5c70ed['depthWrite']=!(-0x3be+0xef7*0x1+-0x8*0x167),_0x5c70ed['emissiveVe'+'rtexColor']=!(0x1502+0x1b51+-0x3053),_0x5c70ed['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x1bb9db]=_0x5c70ed,_0x5c70ed;}['_createBas'+'eImageMate'+'rial'](){const _0x292c92=new cs();return _0x292c92['diffuse']['set'](0x25f0*0x1+0x511*0x3+-0x3523,-0x786*-0x1+0x1faf+-0x2735,0x14cb+0x1*-0x12b+-0x13a0),_0x292c92['emissive']['set'](-0xbcb*0x1+-0x15d4+-0x1*-0x21a0,-0x74*0x47+-0x8c8+-0x48d*-0x9,-0xb*0xdf+0x7*0x29+0x1*0x877),_0x292c92['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x292c92['opacityMap']=this['_defaultTe'+'xture'],_0x292c92['opacityMap'+'Channel']='a',_0x292c92['useLightin'+'g']=!(-0xa4b+0x43*0x45+-0x7c3),_0x292c92['useTonemap']=!(0x14be+-0x1f1*-0x13+0x39a*-0x10),_0x292c92['useFog']=!(-0x27*0xf7+-0xa88+-0x1e*-0x19b),_0x292c92['useSkybox']=!(0x1cdc+-0x633+0xe8*-0x19),_0x292c92['blendType']=hr,_0x292c92['depthWrite']=!(0x1d*-0x10f+-0x1*0x198f+-0x12c1*-0x3),_0x292c92;}['getImageEl'+'ementMater'+'ial'](_0x3c16c7,_0x2346ff,_0xf406f3,_0x2c2d46){return _0x3c16c7?_0x2346ff?_0xf406f3?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(0x23f6+0x1110+-0x3505),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=-0x6*0x25+0x1*0x9a9+-0x8ca,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(0x4a+0xc82+-0xccb),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(-0x23df+0x1d2e+-0x1*-0x6b2),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(-0x119d+-0x1475*0x1+0x13*0x201),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(-0xd15*-0x1+0x44e+-0x37a*0x5),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x2c2d46?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(-0xc*-0x257+0x1*0x1c3f+-0x3852),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=0xfb+-0x4c*-0x3e+0x2*-0x9b1,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(0x2*-0x3fd+0x13b5+-0xbba),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(0x118b+-0xfdd+-0x1*0x1ad),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(0x1e48+-0x22ff+-0x4b8*-0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(0x22e6+0x1362+0x7*-0x7c1),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(0x1039+0x1e*0x85+-0x1fce),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=-0x1a*0xdd+0x1*0x20ef+-0x1*0xa7c,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(0x1d*-0x97+0x211b+-0xfff),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(-0xf8d+-0x5*-0x571+-0xba7),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(-0x177+-0x22f6+0x246e),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(-0x2407+-0x136a+0x2*0x1bb9),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0xf406f3?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(0x2178+0x173e+-0x38b5),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x2c2d46?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(-0xce*-0x22+0x3*0x16b+-0x1f9c),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(0x1*-0x151f+-0x2f3+0x1813),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x2346ff?_0xf406f3?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=-0x6ef+0x7*-0x329+-0x1*-0x1d0f,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(-0xe*-0xeb+-0x98*0x8+-0x819),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(0x56a+-0x249a+0x1f31*0x1),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(0x207d+-0x9ab+0x21*-0xb1),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(-0xbe0+0xb0b+0xd6),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x2c2d46?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=-0x72b+-0x13d6+-0x1*-0x1b02,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(0x25b7+-0x116b+0x1*-0x144b),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(0x887*0x2+0xb14+0x1*-0x1c21),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(0x41*-0x93+0x422*-0x6+0x3e20),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(-0x1cf6+-0x2358+0x404f),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=-0x1953+-0x150a+0x2e5e,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(0x1*-0x1c89+0xb*0x20e+0x5f0),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(0x101*-0xe+-0x26d7+0x1a73*0x2),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(0x16f*-0x7+-0x24a*-0x9+0xd0*-0xd),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(-0x265*0x7+-0x31*-0x69+-0x355),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0xf406f3?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x2c2d46?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x1e1278){this['_unicodeCo'+'nverter']=_0x1e1278;}['registerRt'+'lReorder'](_0x29eb56){this['_rtlReorde'+'r']=_0x29eb56;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Un='free',Vn='limited',Gn='locked',UR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class Up extends ue{constructor(_0x3f23b6,_0xa420f2){super(_0x3f23b6,_0xa420f2),v['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(0x104c+-0xf41+-0x3*0x59),this['_linearMot'+'ionX']=Gn,this['_linearLim'+'itsX']=new W(-0x22c*0x7+0x2*0x729+-0x71*-0x2,-0x1*-0xc5c+-0x2*0xc5d+0xc5e),this['_linearSpr'+'ingX']=!(0x1159+-0x1e4a+0x679*0x2),this['_linearSti'+'ffnessX']=-0x101*0x1a+0x1f77+-0x55d*0x1,this['_linearDam'+'pingX']=0x1ed3+0x4*0x6d0+-0x3a12,this['_linearEqu'+'ilibriumX']=0x1893+-0xf1*0x25+0xa42,this['_linearMot'+'ionY']=Gn,this['_linearLim'+'itsY']=new W(-0x7*0x287+-0xa*-0x3ce+-0x1*0x145b,0x41b*-0x2+0x1*0x1231+-0x9fb),this['_linearSpr'+'ingY']=!(-0x223d+0x22ec+-0xae),this['_linearSti'+'ffnessY']=-0xbfa+-0x7*0x8c+-0x7*-0x242,this['_linearDam'+'pingY']=-0x106c+-0xcfd+0x1d6a,this['_linearEqu'+'ilibriumY']=-0x113*-0x1d+-0x4f*-0x43+0x33d4*-0x1,this['_linearMot'+'ionZ']=Gn,this['_linearLim'+'itsZ']=new W(0x2ed+0xb*0x2a1+0x3fb*-0x8,0x3c8+0x19ee+0x1db6*-0x1),this['_linearSpr'+'ingZ']=!(0x2*-0x7c8+-0x6d9*0x1+0x12e*0x13),this['_linearSti'+'ffnessZ']=-0x1*-0x1115+0x15df*0x1+0x12*-0x22a,this['_linearDam'+'pingZ']=0x1abe+0x115*0xe+-0x29e3,this['_linearEqu'+'ilibriumZ']=0x1*0x1354+-0x74a+0x1*-0xc0a,this['_angularMo'+'tionX']=Gn,this['_angularLi'+'mitsX']=new W(-0x161c+-0x10fc*0x1+0x2718,-0x1*0x20f1+0x163b+0xab6),this['_angularSp'+'ringX']=!(0xd*0x16c+-0xb53+0x728*-0x1),this['_angularSt'+'iffnessX']=0x13ef+0x147d+-0x286c,this['_angularDa'+'mpingX']=0x6ca*-0x4+0x1066+0xac3,this['_angularEq'+'uilibriumX']=-0xc*-0x23b+-0x1*0x218d+-0x6c9*-0x1,this['_angularMo'+'tionY']=Gn,this['_angularLi'+'mitsY']=new W(-0x2*-0x70a+-0x154b+0x737,0x1bd1+0xf*0x233+-0x2b*0x16a),this['_angularSp'+'ringY']=!(0x9fa+0x53*0x6b+0x2caa*-0x1),this['_angularSt'+'iffnessY']=-0x2*0x12a4+-0x419*-0x1+-0x1*-0x212f,this['_angularDa'+'mpingY']=0x1d7*0x3+-0x5b*-0x7+-0x801,this['_angularEq'+'uilibriumY']=-0x10b6+0xf8c+0x12a,this['_angularMo'+'tionZ']=Gn,this['_angularLi'+'mitsZ']=new W(-0x3*0x379+0x12*0x151+-0xd47,-0x10b2+0x1105*-0x2+-0x44*-0xbf),this['_angularSp'+'ringZ']=!(0x218+-0x47*0x3a+-0xdff*-0x1),this['_angularEq'+'uilibriumZ']=0x108*-0x6+-0x150c+0x1b3c,this['_angularDa'+'mpingZ']=-0x1ffb+-0x1800*-0x1+0x7fc,this['_angularSt'+'iffnessZ']=0x7*0x559+0x814+-0x2d83,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x8063c7){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x8063c7,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x3b8c4b){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x3b8c4b,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x491b7c){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x491b7c&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x491b7c),this['_breakForc'+'e']=_0x491b7c);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x488d0f){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x488d0f,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x4d8ace){this['_angularLi'+'mitsX']['equals'](_0x4d8ace)||(this['_angularLi'+'mitsX']['copy'](_0x4d8ace),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x6d7b6e){this['_angularMo'+'tionX']!==_0x6d7b6e&&(this['_angularMo'+'tionX']=_0x6d7b6e,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x34cf21){this['_angularLi'+'mitsY']['equals'](_0x34cf21)||(this['_angularLi'+'mitsY']['copy'](_0x34cf21),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x3a3f6d){this['_angularMo'+'tionY']!==_0x3a3f6d&&(this['_angularMo'+'tionY']=_0x3a3f6d,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x311346){this['_angularLi'+'mitsZ']['equals'](_0x311346)||(this['_angularLi'+'mitsZ']['copy'](_0x311346),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x2c78d9){this['_angularMo'+'tionZ']!==_0x2c78d9&&(this['_angularMo'+'tionZ']=_0x2c78d9,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x11c86c){this['_linearLim'+'itsX']['equals'](_0x11c86c)||(this['_linearLim'+'itsX']['copy'](_0x11c86c),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x1df4c6){this['_linearMot'+'ionX']!==_0x1df4c6&&(this['_linearMot'+'ionX']=_0x1df4c6,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x3d4fa9){this['_linearLim'+'itsY']['equals'](_0x3d4fa9)||(this['_linearLim'+'itsY']['copy'](_0x3d4fa9),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x123839){this['_linearMot'+'ionY']!==_0x123839&&(this['_linearMot'+'ionY']=_0x123839,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x4c2151){this['_linearLim'+'itsZ']['equals'](_0x4c2151)||(this['_linearLim'+'itsZ']['copy'](_0x4c2151),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x41679c){this['_linearMot'+'ionZ']!==_0x41679c&&(this['_linearMot'+'ionZ']=_0x41679c,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0xb7f056,_0x6b993f){const _0x2eab59=_0xb7f056['getTransla'+'tion'](),_0x29a444=new se();_0x29a444['setFromMat'+'4'](_0xb7f056);const _0x29d5b4=new Ammo['btVector3'](_0x2eab59['x'],_0x2eab59['y'],_0x2eab59['z']),_0x35dbe7=new Ammo['btQuaterni'+'on'](_0x29a444['x'],_0x29a444['y'],_0x29a444['z'],_0x29a444['w']);_0x6b993f['setOrigin'](_0x29d5b4),_0x6b993f['setRotatio'+'n'](_0x35dbe7),Ammo['destroy'](_0x29d5b4),Ammo['destroy'](_0x35dbe7);}['_updateAng'+'ularLimits'](){const _0x2db69f=this['_constrain'+'t'];if(_0x2db69f){let _0x448577,_0x5a9682,_0x3a33a5,_0x3d8877,_0x1b7b3c,_0x58602a;this['_angularMo'+'tionX']===Vn?(_0x448577=this['_angularLi'+'mitsX']['x']*N['DEG_TO_RAD'],_0x3d8877=this['_angularLi'+'mitsX']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionX']===Un?(_0x448577=0x5de*-0x1+0xa21*-0x1+0x400*0x4,_0x3d8877=0x2b*-0xc4+0x2f8+0x1df4):_0x448577=_0x3d8877=0x1*0x1d43+-0x2400+0x6bd,this['_angularMo'+'tionY']===Vn?(_0x5a9682=this['_angularLi'+'mitsY']['x']*N['DEG_TO_RAD'],_0x1b7b3c=this['_angularLi'+'mitsY']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionY']===Un?(_0x5a9682=0x2*-0x5b3+-0x2f*0xe+0x31*0x49,_0x1b7b3c=-0x17e7+-0x1c3*0x13+-0x11*-0x360):_0x5a9682=_0x1b7b3c=0x14*-0xcd+-0x8*-0x460+-0xf*0x144,this['_angularMo'+'tionZ']===Vn?(_0x3a33a5=this['_angularLi'+'mitsZ']['x']*N['DEG_TO_RAD'],_0x58602a=this['_angularLi'+'mitsZ']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Un?(_0x3a33a5=-0x7e7+0x14*0x1c1+0x2f*-0x94,_0x58602a=-0x853*0x4+0x11f+-0x1*-0x202d):_0x3a33a5=_0x58602a=-0x71*0xf+-0x1*-0xd81+-0x1*0x6e2;const _0x2dc4e4=new Ammo['btVector3'](_0x448577,_0x5a9682,_0x3a33a5);_0x2db69f['setAngular'+'LowerLimit'](_0x2dc4e4),_0x2dc4e4['setValue'](_0x3d8877,_0x1b7b3c,_0x58602a),_0x2db69f['setAngular'+'UpperLimit'](_0x2dc4e4),Ammo['destroy'](_0x2dc4e4);}}['_updateLin'+'earLimits'](){const _0x22a9eb=this['_constrain'+'t'];if(_0x22a9eb){let _0x582b48,_0x58a6ce,_0x4ac91d,_0x193614,_0x4af978,_0x1d8541;this['_linearMot'+'ionX']===Vn?(_0x582b48=this['_linearLim'+'itsX']['x'],_0x193614=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Un?(_0x582b48=-0x1eb8*0x1+0x67a+-0x3*-0x815,_0x193614=-0x18c7*-0x1+-0x7*-0x467+-0x3798):_0x582b48=_0x193614=-0x1aa8+0x2053*-0x1+0x3afb,this['_linearMot'+'ionY']===Vn?(_0x58a6ce=this['_linearLim'+'itsY']['x'],_0x4af978=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Un?(_0x58a6ce=0x92*0xa+0x1b80+-0x2133,_0x4af978=0x1cbc+0x48b*0x3+-0x2a5d):_0x58a6ce=_0x4af978=-0x1136*0x1+-0x20fa+-0x646*-0x8,this['_linearMot'+'ionZ']===Vn?(_0x4ac91d=this['_linearLim'+'itsZ']['x'],_0x1d8541=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Un?(_0x4ac91d=-0xcdb+0x1cb0+-0x7ea*0x2,_0x1d8541=-0xd38+-0x1984*-0x1+-0xc4c):_0x4ac91d=_0x1d8541=-0x1*-0x1a80+0x1*-0xa57+-0x1029;const _0x570e72=new Ammo['btVector3'](_0x582b48,_0x58a6ce,_0x4ac91d);_0x22a9eb['setLinearL'+'owerLimit'](_0x570e72),_0x570e72['setValue'](_0x193614,_0x4af978,_0x1d8541),_0x22a9eb['setLinearU'+'pperLimit'](_0x570e72),Ammo['destroy'](_0x570e72);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x949f82=new q(),_0x251687=this['_entityA']['rigidbody']['body'];_0x251687['activate']();const _0x1f8248=this['entity']['getWorldTr'+'ansform'](),_0x222219=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x949f82['mul2'](_0x222219,_0x1f8248);const _0x23737a=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x949f82,_0x23737a),this['_entityB']&&this['_entityB']['rigidbody']){const _0x206bc5=this['_entityB']['rigidbody']['body'];_0x206bc5['activate']();const _0x3519b4=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x949f82['mul2'](_0x3519b4,_0x1f8248);const _0x123f86=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x949f82,_0x123f86),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x251687,_0x206bc5,_0x23737a,_0x123f86,!this['_enableCol'+'lision']),Ammo['destroy'](_0x123f86);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x251687,_0x23737a,!this['_enableCol'+'lision']);Ammo['destroy'](_0x23737a);const _0x410894=['X','Y','Z','X','Y','Z'];for(let _0x5c30c9=0x37f+-0x17d1+-0x12*-0x121;_0x5c30c9<0x110b+0x1*-0x359+0x23*-0x64;_0x5c30c9++){const _0x470691=_0x5c30c9<0x1d5b+-0x652*-0x6+0xd74*-0x5?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x5c30c9,this[_0x470691+'Spring'+_0x410894[_0x5c30c9]]),this['_constrain'+'t']['setDamping'](_0x5c30c9,this[_0x470691+'Damping'+_0x410894[_0x5c30c9]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x5c30c9,this[_0x470691+('Equilibriu'+'m')+_0x410894[_0x5c30c9]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x5c30c9,this[_0x470691+'Stiffness'+_0x410894[_0x5c30c9]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x27382c){for(const _0x5620ad of UR)_0x27382c['hasOwnProp'+'erty'](_0x5620ad)&&(_0x27382c[_0x5620ad]instanceof W?this['_'+_0x5620ad]['copy'](_0x27382c[_0x5620ad]):this['_'+_0x5620ad]=_0x27382c[_0x5620ad]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x12e6b2,_0x41aa07,_0x2bbd2f){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const VR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x1e2afc=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x5f366c=>{['X','Y','Z']['forEach'](_0x45396c=>{const _0x54389e=_0x1e2afc+_0x5f366c+_0x45396c,_0x5a9c7b='_'+_0x54389e;let _0x3f52ba=_0x1e2afc==='linear'?-0x214b+-0x1*-0x1336+0xe15:0x2010+0x6c5*0x3+-0x345c;_0x45396c==='Y'&&(_0x3f52ba+=0x7db+-0x2411+0x1c37),_0x45396c==='Z'&&(_0x3f52ba+=-0x21*-0x8b+-0x750+-0xa99*0x1),Object['defineProp'+'erty'](Up['prototype'],_0x54389e,{'get':function(){return this[_0x5a9c7b];},'set':function(_0x1799eb){this[_0x5a9c7b]!==_0x1799eb&&(this[_0x5a9c7b]=_0x1799eb,this['_constrain'+'t'][VR[_0x5f366c]](_0x3f52ba,_0x1799eb));}});});});});class GR{constructor(){this['enabled']=!(0x2*0x1326+0x2*0xb3a+0x20*-0x1e6);}}const uf=['enabled'];class HR extends Xe{constructor(_0x4ccd5e){super(_0x4ccd5e),this['id']='joint',this['app']=_0x4ccd5e,this['ComponentT'+'ype']=Up,this['DataType']=GR,this['schema']=uf;}['initialize'+'ComponentD'+'ata'](_0x136480,_0x1a7d1f,_0x1c689f){_0x136480['initFromDa'+'ta'](_0x1a7d1f),super['initialize'+'ComponentD'+'ata'](_0x136480,_0x1a7d1f,uf);}}ue['_buildAcce'+'ssors'](Up['prototype'],uf);class nx extends ue{constructor(){super(...arguments),c(this,'_minWidth',-0x1*-0x1fe5+0x11b2+-0x3197),c(this,'_minHeight',-0x255a+0x2*0x1145+0x2d0),c(this,'_maxWidth',null),c(this,'_maxHeight',null),c(this,'_fitWidthP'+'roportion',-0x3*0xaa7+-0x2377+0x436c),c(this,'_fitHeight'+'Proportion',-0x113+0x14e5*-0x1+0x15f8),c(this,'_excludeFr'+'omLayout',!(-0x161e+-0x449+0x1a68));}set['minWidth'](_0x6b14b){_0x6b14b!==this['_minWidth']&&(this['_minWidth']=_0x6b14b,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x1853e3){_0x1853e3!==this['_minHeight']&&(this['_minHeight']=_0x1853e3,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x569cea){_0x569cea!==this['_maxWidth']&&(this['_maxWidth']=_0x569cea,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x292cbf){_0x292cbf!==this['_maxHeight']&&(this['_maxHeight']=_0x292cbf,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x35a66c){_0x35a66c!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x35a66c,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x2e170e){_0x2e170e!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x2e170e,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x4f2757){_0x4f2757!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x4f2757,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class WR{constructor(){this['enabled']=!(0x8*-0xb0+0xc5e+0x3*-0x24a);}}const ax=['enabled'];class $R extends Xe{constructor(_0x482446){super(_0x482446),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=nx,this['DataType']=WR,this['schema']=ax;}['initialize'+'ComponentD'+'ata'](_0x1f74a6,_0x5a8977,_0x411966){_0x5a8977['enabled']!==void(0x7*-0x448+-0x2576+0x3*0x167a)&&(_0x1f74a6['enabled']=_0x5a8977['enabled']),_0x5a8977['minWidth']!==void(-0x1*0x1f1b+0x1b*-0x2+0x1*0x1f51)&&(_0x1f74a6['minWidth']=_0x5a8977['minWidth']),_0x5a8977['minHeight']!==void(0x8*0x37a+0xd9*0x1b+-0x32b3*0x1)&&(_0x1f74a6['minHeight']=_0x5a8977['minHeight']),_0x5a8977['maxWidth']!==void(0x1618+0x1f*0x65+-0x2253*0x1)&&(_0x1f74a6['maxWidth']=_0x5a8977['maxWidth']),_0x5a8977['maxHeight']!==void(-0x4c6+0x1*0x727+-0x1d*0x15)&&(_0x1f74a6['maxHeight']=_0x5a8977['maxHeight']),_0x5a8977['fitWidthPr'+'oportion']!==void(0x4*-0x578+-0x756+0x1d36)&&(_0x1f74a6['fitWidthPr'+'oportion']=_0x5a8977['fitWidthPr'+'oportion']),_0x5a8977['fitHeightP'+'roportion']!==void(-0x18ae+-0x16a1+-0x3*-0xfc5)&&(_0x1f74a6['fitHeightP'+'roportion']=_0x5a8977['fitHeightP'+'roportion']),_0x5a8977['excludeFro'+'mLayout']!==void(0x80*-0x13+-0x1d30+0x26b0)&&(_0x1f74a6['excludeFro'+'mLayout']=_0x5a8977['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x1f74a6,_0x5a8977,_0x411966);}['cloneCompo'+'nent'](_0x52b260,_0x1fa276){const _0x38502f=_0x52b260['layoutchil'+'d'];return this['addCompone'+'nt'](_0x1fa276,{'enabled':_0x38502f['enabled'],'minWidth':_0x38502f['minWidth'],'minHeight':_0x38502f['minHeight'],'maxWidth':_0x38502f['maxWidth'],'maxHeight':_0x38502f['maxHeight'],'fitWidthProportion':_0x38502f['fitWidthPr'+'oportion'],'fitHeightProportion':_0x38502f['fitHeightP'+'roportion'],'excludeFromLayout':_0x38502f['excludeFro'+'mLayout']});}}ue['_buildAcce'+'ssors'](nx['prototype'],ax);const ff=0x76+-0x2156+0x20e0,qR=0x2245+-0x2*0x8bf+-0x10c6,gg=0x25*-0x56+0x21ac+-0xc*0x1c5,XR=-0x8c*0x11+0x1*0xc5d+0x30e*-0x1,Zh={};Zh[pe]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Zh[ke]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const Vp={};Vp[pe]=ke,Vp[ke]=pe;const jR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},zt={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},Ut=new W();function ox(_0x1889e5){let _0x391a8e;const _0x366a25=Zh[_0x1889e5],_0x59e05e=Zh[Vp[_0x1889e5]];function _0x27ad95(_0x2ca054,_0x16b512){return-_0x16b512[_0x366a25['size']]*_0x2ca054['pivot'][_0x366a25['axis']];}function _0x439234(_0x28e8a6,_0x38dbc9){return-_0x38dbc9[_0x59e05e['size']]*_0x28e8a6['pivot'][_0x59e05e['axis']];}function _0x32b401(_0x3e8daa,_0x3917a6){return _0x3917a6[_0x366a25['size']]*(0xaae+0x1083*-0x1+-0x1*-0x5d6-_0x3e8daa['pivot'][_0x366a25['axis']]);}function _0x4436e2(_0x177a76,_0x1e6f58){_0x177a76=_0x177a76['filter'](_0x42f109),_0x391a8e=_0x1e6f58,Ut['x']=_0x391a8e['containerS'+'ize']['x']-_0x391a8e['padding']['x']-_0x391a8e['padding']['z'],Ut['y']=_0x391a8e['containerS'+'ize']['y']-_0x391a8e['padding']['y']-_0x391a8e['padding']['w'],_0x433f73(_0x177a76);const _0x141f51=_0x5ed78c(_0x2fcd4a(_0x177a76)),_0x1fdfc7=_0x5de629(_0x141f51,_0x3618bf(_0x141f51)),_0x3c584d=_0x42b6c8(_0x141f51,_0x1fdfc7);return _0x195dc5(_0x141f51,_0x1fdfc7,_0x3c584d),_0x49737c(_0x141f51,_0x1fdfc7,_0x3c584d),_0x2b095f(_0x141f51);}function _0x42f109(_0x13188a){const _0x16b2a3=_0x13188a['entity']['layoutchil'+'d'];return!_0x16b2a3||!_0x16b2a3['enabled']||!_0x16b2a3['excludeFro'+'mLayout'];}function _0x433f73(_0x170a8d){for(let _0x446fcb=-0x2010+-0x11*0x81+0x28a1;_0x446fcb<_0x170a8d['length'];++_0x446fcb){const _0x14f7a5=_0x170a8d[_0x446fcb],_0x208323=_0x14f7a5['anchor'];(_0x208323['x']!==-0x7*-0xbe+0x1*-0x8e9+0x3b7||_0x208323['y']!==0x277+-0x1a10+0x1799||_0x208323['z']!==0xd84+0x1acb+-0x284f||_0x208323['w']!==-0x1066+-0x1bab*0x1+0x2c11)&&(_0x14f7a5['anchor']=Q['ZERO']);}}function _0x2fcd4a(_0x5e2114){if(!_0x391a8e['wrap'])return[_0x5e2114];const _0x302786=[[]],_0x1e51f4=_0xab3d89(_0x5e2114);let _0x34041c=-0x78b*-0x4+-0xc94+0x8cc*-0x2;const _0x3f93d2=_0x391a8e[_0x366a25['fitting']]===gg;for(let _0x378dba=-0x569*-0x6+-0x2a5+-0x1*0x1dd1;_0x378dba<_0x5e2114['length'];++_0x378dba){_0x302786[_0x302786['length']-(0x2*-0xf67+-0x1*-0x1e77+-0x4*-0x16)]['length']>-0x11b8+0x1a8d+0x7*-0x143&&(_0x34041c+=_0x391a8e['spacing'][_0x366a25['axis']]);const _0x447868=_0x1e51f4[_0x378dba][_0x366a25['size']];_0x34041c+=_0x447868,!_0x3f93d2&&_0x34041c>Ut[_0x366a25['axis']]&&_0x302786[_0x302786['length']-(0x2681+0x2c3*-0x9+-0x7*0x1f3)]['length']!==0x73*-0x16+-0x3*0x88d+0x2389&&(_0x34041c=_0x447868,_0x302786['push']([])),_0x302786[_0x302786['length']-(0x24d4+-0x29*-0x9a+-0x3d7d)]['push'](_0x5e2114[_0x378dba]),_0x3f93d2&&_0x34041c>Ut[_0x366a25['axis']]&&_0x378dba!==_0x5e2114['length']-(-0x7cc+0xd*0x22f+-0x41e*0x5)&&(_0x34041c=-0x1b22+0x2*-0x21e+-0x49*-0x6e,_0x302786['push']([]));}return _0x302786;}function _0x5ed78c(_0x33e0c6){const _0x36b578=_0x391a8e['orientatio'+'n']===pe&&_0x391a8e['reverseX']||_0x391a8e['orientatio'+'n']===ke&&_0x391a8e['reverseY'],_0x336f37=_0x391a8e['orientatio'+'n']===pe&&_0x391a8e['reverseY']||_0x391a8e['orientatio'+'n']===ke&&_0x391a8e['reverseX'];if(_0x36b578){for(let _0x8a3580=0x28f+-0xe43+0x1*0xbb4;_0x8a3580<_0x33e0c6['length'];++_0x8a3580)_0x36b578&&_0x33e0c6[_0x8a3580]['reverse']();}return _0x336f37&&_0x33e0c6['reverse'](),_0x33e0c6;}function _0x3618bf(_0x3091bb){const _0xa33575=[];for(let _0x2d9f4a=0x13e7+0xc56+-0x203d;_0x2d9f4a<_0x3091bb['length'];++_0x2d9f4a){const _0x157d21=_0x3091bb[_0x2d9f4a],_0x115e12=_0xab3d89(_0x157d21),_0x3cfaa2=_0x300049(_0x115e12,_0x366a25),_0x2d651a=_0x2508a8(_0x391a8e[_0x366a25['fitting']],_0x3cfaa2,Ut[_0x366a25['axis']]);_0x2d651a===zt['APPLY_STRE'+'TCHING']?_0x354505(_0x115e12,_0x3cfaa2,_0x366a25):_0x2d651a===zt['APPLY_SHRI'+'NKING']&&_0x53232d(_0x115e12,_0x3cfaa2,_0x366a25),_0xa33575['push'](_0x115e12);}return _0xa33575;}function _0x5de629(_0x4ccea6,_0x4cfa58){const _0x78277f=[],_0x20dba2=[];for(let _0x1c30e3=0x6f7*-0x4+0xa4e*0x3+-0x30e;_0x1c30e3<_0x4ccea6['length'];++_0x1c30e3){const _0x3ed13c=_0x4ccea6[_0x1c30e3];_0x3ed13c['largestEle'+'ment']=null,_0x3ed13c['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x46ac7f=-0x1520+0x4*-0x31c+0x2190;_0x46ac7f<_0x3ed13c['length'];++_0x46ac7f){const _0x1ed031=_0x4cfa58[_0x1c30e3][_0x46ac7f];_0x1ed031[_0x59e05e['size']]>_0x3ed13c['largestSiz'+'e'][_0x59e05e['size']]&&(_0x3ed13c['largestEle'+'ment']=_0x3ed13c[_0x46ac7f],_0x3ed13c['largestSiz'+'e']=_0x1ed031);}_0x78277f['push'](_0x3ed13c['largestEle'+'ment']),_0x20dba2['push'](_0x3ed13c['largestSiz'+'e']);}const _0x2a39f5=_0x300049(_0x20dba2,_0x59e05e),_0x4f5c35=_0x2508a8(_0x391a8e[_0x59e05e['fitting']],_0x2a39f5,Ut[_0x59e05e['axis']]);_0x4f5c35===zt['APPLY_STRE'+'TCHING']?_0x354505(_0x20dba2,_0x2a39f5,_0x59e05e):_0x4f5c35===zt['APPLY_SHRI'+'NKING']&&_0x53232d(_0x20dba2,_0x2a39f5,_0x59e05e);for(let _0x27f7e9=-0x1cda+0x1676+-0x4*-0x199;_0x27f7e9<_0x4ccea6['length'];++_0x27f7e9){const _0x581ed7=_0x4ccea6[_0x27f7e9];for(let _0x293271=0x1b1d+0x3*-0x3f1+-0xf4a;_0x293271<_0x581ed7['length'];++_0x293271){const _0x1d0e27=_0x4cfa58[_0x27f7e9][_0x293271],_0x122111=_0x1d0e27[_0x59e05e['size']],_0x398d02=_0x4ccea6['length']===-0x1441+-0xd2b+0xc7*0x2b?Ut[_0x59e05e['axis']]:_0x581ed7['largestSiz'+'e'][_0x59e05e['size']],_0x2e4191=_0x2508a8(_0x391a8e[_0x59e05e['fitting']],_0x122111,_0x398d02);_0x2e4191===zt['APPLY_STRE'+'TCHING']?_0x1d0e27[_0x59e05e['size']]=Math['min'](_0x398d02,_0x1d0e27[_0x59e05e['maxSize']]):_0x2e4191===zt['APPLY_SHRI'+'NKING']&&(_0x1d0e27[_0x59e05e['size']]=Math['max'](_0x398d02,_0x1d0e27[_0x59e05e['minSize']]));}}return _0x4cfa58;}function _0x2508a8(_0x24afb2,_0x487dc7,_0x424321){switch(_0x24afb2){case ff:return zt['NONE'];case qR:return _0x487dc7<_0x424321?zt['APPLY_STRE'+'TCHING']:zt['NONE'];case gg:return _0x487dc7>=_0x424321?zt['APPLY_SHRI'+'NKING']:zt['NONE'];case XR:return _0x487dc7<_0x424321?zt['APPLY_STRE'+'TCHING']:zt['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x24afb2);}}function _0x300049(_0x4c4513,_0x5d0cfb){const _0x4467c1=_0x270501(_0x4c4513,_0x5d0cfb['size']),_0x3b2c6d=(_0x4c4513['length']-(0x1*0xcd2+-0x1481+-0x10*-0x7b))*_0x391a8e['spacing'][_0x5d0cfb['axis']];return _0x4467c1+_0x3b2c6d;}function _0x354505(_0x236e5f,_0x73c902,_0x9aa75f){const _0x5a0059=_0x1e70e4(_0x236e5f,_0x9aa75f['maxSize']),_0x270af0=_0x2585ad(_0x236e5f,_0x9aa75f['fittingPro'+'portion']),_0x1b511a=_0x370d3d(_0x270af0,_0x5a0059);let _0xea9136=Ut[_0x9aa75f['axis']]-_0x73c902;for(let _0x196644=-0x1c17+0x2*0xba0+-0x3b*-0x15;_0x196644<_0x236e5f['length'];++_0x196644){const _0x1f7f7f=_0x5a0059[_0x196644],_0x2afbde=_0x1769fe(_0x1f7f7f,_0xea9136,_0x270af0,_0x1b511a),_0x55dff1=_0x236e5f[_0x1f7f7f][_0x9aa75f['size']]+_0x2afbde,_0x46df01=_0x236e5f[_0x1f7f7f][_0x9aa75f['maxSize']],_0x582c9a=Math['min'](_0x55dff1,_0x46df01);_0x236e5f[_0x1f7f7f][_0x9aa75f['size']]=_0x582c9a;const _0x5554ca=Math['max'](_0x55dff1-_0x582c9a,-0x16*-0x8f+-0x256*-0x4+-0x15a2),_0x28cecf=_0x2afbde-_0x5554ca;_0xea9136-=_0x28cecf;}}function _0x53232d(_0x5ecf82,_0x5c5c69,_0x5946ce){const _0x1532d9=_0x1e70e4(_0x5ecf82,_0x5946ce['minSize'],!(0x1fc9+-0x1*0x21ac+-0x45*-0x7)),_0x35ac7d=_0x2585ad(_0x5ecf82,_0x5946ce['fittingPro'+'portion']),_0x421855=_0x3644c7(_0x35ac7d),_0x2990de=_0x370d3d(_0x421855,_0x1532d9);let _0x177035=_0x5c5c69-Ut[_0x5946ce['axis']];for(let _0x3050f1=0x11*-0xb7+-0x3*-0x99a+-0x3*0x58d;_0x3050f1<_0x5ecf82['length'];++_0x3050f1){const _0x122a97=_0x1532d9[_0x3050f1],_0xf7ff76=_0x1769fe(_0x122a97,_0x177035,_0x421855,_0x2990de),_0x33b9f2=_0x5ecf82[_0x122a97][_0x5946ce['size']]-_0xf7ff76,_0x3b99a9=_0x5ecf82[_0x122a97][_0x5946ce['minSize']],_0x33301c=Math['max'](_0x33b9f2,_0x3b99a9);_0x5ecf82[_0x122a97][_0x5946ce['size']]=_0x33301c;const _0x53b4eb=Math['max'](_0x33301c-_0x33b9f2,-0xdbc+-0xb1f+0x18db),_0x4c0632=_0xf7ff76-_0x53b4eb;_0x177035-=_0x4c0632;}}function _0x1769fe(_0x21c140,_0x14727f,_0x144395,_0x23522e){const _0x2170ba=_0x144395[_0x21c140],_0x2282f7=_0x23522e[_0x21c140];return Math['abs'](_0x2170ba)<0x1397+0xed*0x24+-0x34eb+0.00001&&Math['abs'](_0x2282f7)<-0x2587+0x21b3+-0xa*-0x62+0.00001?_0x14727f:_0x14727f*_0x2170ba/_0x2282f7;}function _0x42b6c8(_0x6a0322,_0x3886ec){const _0x1f5f81={};_0x1f5f81[_0x366a25['axis']]=-0x1*0x263c+-0x1c6f*-0x1+0x9cd,_0x1f5f81[_0x59e05e['axis']]=0x162f+0x1b7f+-0x31ae,_0x6a0322[_0x366a25['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0xc700e0=[];for(let _0x150943=-0x63a+0x43c+0x1fe;_0x150943<_0x6a0322['length'];++_0x150943){const _0x27a652=_0x6a0322[_0x150943];if(_0x27a652['length']===-0x101*-0x3+0x1*0x2039+-0x233c){_0xc700e0['push']([]);continue;}const _0x20edc2=[],_0x270b23=_0x3886ec[_0x150943];for(let _0xd6ec2a=-0x213d+0x1d*0x97+-0xa*-0x19d;_0xd6ec2a<_0x27a652['length'];++_0xd6ec2a){const _0x52ea16=_0x27a652[_0xd6ec2a],_0x40ffbb=_0x270b23[_0xd6ec2a];_0x1f5f81[_0x59e05e['axis']]-=_0x439234(_0x52ea16,_0x40ffbb),_0x1f5f81[_0x366a25['axis']]-=_0x27ad95(_0x52ea16,_0x40ffbb),_0x20edc2[_0xd6ec2a]={},_0x20edc2[_0xd6ec2a][_0x366a25['axis']]=_0x1f5f81[_0x366a25['axis']],_0x20edc2[_0xd6ec2a][_0x59e05e['axis']]=_0x1f5f81[_0x59e05e['axis']],_0x1f5f81[_0x59e05e['axis']]+=_0x439234(_0x52ea16,_0x40ffbb),_0x1f5f81[_0x366a25['axis']]+=_0x32b401(_0x52ea16,_0x40ffbb)+_0x391a8e['spacing'][_0x366a25['axis']];}_0x27a652[_0x366a25['size']]=_0x1f5f81[_0x366a25['axis']]-_0x391a8e['spacing'][_0x366a25['axis']],_0x27a652[_0x59e05e['size']]=_0x27a652['largestSiz'+'e'][_0x59e05e['size']],_0x6a0322[_0x366a25['size']]=Math['max'](_0x6a0322[_0x366a25['size']],_0x27a652[_0x366a25['size']]),_0x1f5f81[_0x366a25['axis']]=0x1*0x1a01+0x665*-0x1+-0x9ce*0x2,_0x1f5f81[_0x59e05e['axis']]+=_0x27a652[_0x59e05e['size']]+_0x391a8e['spacing'][_0x59e05e['axis']],_0xc700e0['push'](_0x20edc2);}return _0x6a0322[_0x59e05e['size']]=_0x1f5f81[_0x59e05e['axis']]-_0x391a8e['spacing'][_0x59e05e['axis']],_0xc700e0;}function _0x195dc5(_0x2065da,_0xbfe542,_0x38ef61){const _0x149e1a=_0x391a8e['alignment'][_0x366a25['axis']],_0x4817f7=_0x391a8e['alignment'][_0x59e05e['axis']],_0x2213f1=_0x391a8e['padding'][_0x366a25['axis']],_0x3eec7b=_0x391a8e['padding'][_0x59e05e['axis']];for(let _0x5123cc=0x10da*0x2+0x1f0*-0x1+-0x13*0x1ac;_0x5123cc<_0x2065da['length'];++_0x5123cc){const _0x44979d=_0x2065da[_0x5123cc],_0x5126f5=_0xbfe542[_0x5123cc],_0x20c4d0=_0x38ef61[_0x5123cc],_0x298d58=(Ut[_0x366a25['axis']]-_0x44979d[_0x366a25['size']])*_0x149e1a+_0x2213f1,_0x39c256=(Ut[_0x59e05e['axis']]-_0x2065da[_0x59e05e['size']])*_0x4817f7+_0x3eec7b;for(let _0x185c7c=-0x2*0x9bb+0x34e+0x1028;_0x185c7c<_0x44979d['length'];++_0x185c7c){const _0x99c44e=(_0x44979d[_0x59e05e['size']]-_0x5126f5[_0x185c7c][_0x59e05e['size']])*_0x391a8e['alignment'][_0x59e05e['axis']];_0x20c4d0[_0x185c7c][_0x366a25['axis']]+=_0x298d58,_0x20c4d0[_0x185c7c][_0x59e05e['axis']]+=_0x39c256+_0x99c44e;}}}function _0x49737c(_0x8dccd7,_0x2eb806,_0x2cc4d3){for(let _0x51b151=-0x148a+0x3e4*0x4+-0x7*-0xb6;_0x51b151<_0x8dccd7['length'];++_0x51b151){const _0x46f071=_0x8dccd7[_0x51b151],_0x5eb49d=_0x2eb806[_0x51b151],_0x5654e3=_0x2cc4d3[_0x51b151];for(let _0x355642=0x7d*-0x2+-0xdba*-0x1+-0xcc0;_0x355642<_0x46f071['length'];++_0x355642){const _0x59d0b2=_0x46f071[_0x355642];_0x59d0b2[_0x366a25['calculated'+'Size']]=_0x5eb49d[_0x355642][_0x366a25['size']],_0x59d0b2[_0x59e05e['calculated'+'Size']]=_0x5eb49d[_0x355642][_0x59e05e['size']],_0x391a8e['orientatio'+'n']===pe?_0x59d0b2['entity']['setLocalPo'+'sition'](_0x5654e3[_0x355642][_0x366a25['axis']],_0x5654e3[_0x355642][_0x59e05e['axis']],_0x59d0b2['entity']['getLocalPo'+'sition']()['z']):_0x59d0b2['entity']['setLocalPo'+'sition'](_0x5654e3[_0x355642][_0x59e05e['axis']],_0x5654e3[_0x355642][_0x366a25['axis']],_0x59d0b2['entity']['getLocalPo'+'sition']()['z']);}}}function _0x2b095f(_0xc7b444){const _0x4d0005=_0xc7b444['width'],_0x50556e=_0xc7b444['height'],_0x34aa33=(Ut['x']-_0x4d0005)*_0x391a8e['alignment']['x']+_0x391a8e['padding']['x'],_0x3e3729=(Ut['y']-_0x50556e)*_0x391a8e['alignment']['y']+_0x391a8e['padding']['y'];return{'bounds':new Q(_0x34aa33,_0x3e3729,_0x4d0005,_0x50556e)};}function _0xab3d89(_0x35f6f5){const _0x113743=[];for(let _0x2b1d09=-0xbd7*-0x2+0x247c+-0x38a*0x11;_0x2b1d09<_0x35f6f5['length'];++_0x2b1d09){const _0x5ad69c=_0x35f6f5[_0x2b1d09],_0x2287d6=Math['max'](_0x42137f(_0x5ad69c,'minWidth'),0xb5*-0x5+-0x1a6c*0x1+-0x1df5*-0x1),_0x35d160=Math['max'](_0x42137f(_0x5ad69c,'minHeight'),0x24de+0x1*-0xdfd+0x1*-0x16e1),_0x31a3ef=Math['max'](_0x42137f(_0x5ad69c,'maxWidth'),_0x2287d6),_0x5043e9=Math['max'](_0x42137f(_0x5ad69c,'maxHeight'),_0x35d160),_0x4fda0f=_0x5cc44e(_0x42137f(_0x5ad69c,'width'),_0x2287d6,_0x31a3ef),_0x1ae309=_0x5cc44e(_0x42137f(_0x5ad69c,'height'),_0x35d160,_0x5043e9),_0x39f007=_0x42137f(_0x5ad69c,'fitWidthPr'+'oportion'),_0xcc98d6=_0x42137f(_0x5ad69c,'fitHeightP'+'roportion');_0x113743['push']({'minWidth':_0x2287d6,'minHeight':_0x35d160,'maxWidth':_0x31a3ef,'maxHeight':_0x5043e9,'width':_0x4fda0f,'height':_0x1ae309,'fitWidthProportion':_0x39f007,'fitHeightProportion':_0xcc98d6});}return _0x113743;}function _0x42137f(_0xd1e169,_0x6c01e9){const _0x10427f=_0xd1e169['entity']['layoutchil'+'d'];return _0x10427f&&_0x10427f['enabled']&&_0x10427f[_0x6c01e9]!==void(0x214d+0x25*0xad+0x36e*-0x11)&&_0x10427f[_0x6c01e9]!==null?_0x10427f[_0x6c01e9]:_0xd1e169[_0x6c01e9]!==void(0x14*-0x1b9+-0x49f+-0x2713*-0x1)?_0xd1e169[_0x6c01e9]:jR[_0x6c01e9];}function _0x5cc44e(_0x5dc670,_0x56e68b,_0x2ac5e8){return Math['min'](Math['max'](_0x5dc670,_0x56e68b),_0x2ac5e8);}function _0x270501(_0x4cac17,_0x4f506c){return _0x4cac17['reduce']((_0x2b5f10,_0x49db09)=>_0x2b5f10+_0x49db09[_0x4f506c],0x18d0+0x49c+0x4*-0x75b);}function _0x2585ad(_0x21b883,_0x5ed576){const _0x4a9021=_0x270501(_0x21b883,_0x5ed576),_0x8ab98=[],_0x78364e=_0x21b883['length'];if(_0x4a9021===0xfcc+-0x2f*-0xce+-0x359e){for(let _0x180499=-0x2dd+-0x124a+0x1527;_0x180499<_0x78364e;++_0x180499)_0x8ab98['push']((0xfb*-0x6+-0x1*-0x216d+-0x1b8a)/_0x78364e);}else{for(let _0x25f0d8=-0x22cf+-0x7*-0x3e9+0x770;_0x25f0d8<_0x78364e;++_0x25f0d8)_0x8ab98['push'](_0x21b883[_0x25f0d8][_0x5ed576]/_0x4a9021);}return _0x8ab98;}function _0x3644c7(_0x58cb48){if(_0x58cb48['length']===-0x4f6*-0x4+-0x1c5e+0x887)return[-0xa*0x2de+-0x17b6+-0x1*-0x3463];const _0x3709af=[],_0x275326=_0x58cb48['length'];for(let _0x55227a=0xd*0x10b+0x1*-0xc93+0x2*-0x7e;_0x55227a<_0x275326;++_0x55227a)_0x3709af['push']((-0xde6+0x57e+-0x869*-0x1-_0x58cb48[_0x55227a])/(_0x275326-(-0x1c51+-0x99d+0xf9*0x27)));return _0x3709af;}function _0x1e70e4(_0x2db442,_0x96b57e,_0x2e7d4b){return _0x2db442['forEach'](_0x1218cf),_0x2db442['slice']()['sort']((_0x2ba651,_0x31fc06)=>_0x2e7d4b?_0x31fc06[_0x96b57e]-_0x2ba651[_0x96b57e]:_0x2ba651[_0x96b57e]-_0x31fc06[_0x96b57e])['map'](_0x52239c);}function _0x1218cf(_0x60782b,_0x575571){_0x60782b['index']=_0x575571;}function _0x52239c(_0x5ac66a){return _0x5ac66a['index'];}function _0x370d3d(_0x5b93ec,_0x32ad4f){const _0x26e88d=[];_0x26e88d[_0x32ad4f[_0x5b93ec['length']-(0xc27+0x1*0x3ad+-0xfd3*0x1)]]=_0x5b93ec[_0x32ad4f[_0x5b93ec['length']-(-0x259b+-0x949*-0x2+-0x1*-0x130a)]];for(let _0x4419ac=_0x5b93ec['length']-(0x2596+0x31a+0x1457*-0x2);_0x4419ac>=0x1*-0x1e19+0x10f4+0xd25;--_0x4419ac)_0x26e88d[_0x32ad4f[_0x4419ac]]=_0x26e88d[_0x32ad4f[_0x4419ac+(0xacb*0x3+-0x1893+-0x7cd)]]+_0x5b93ec[_0x32ad4f[_0x4419ac]];return _0x26e88d;}return _0x4436e2;}const Gp={};Gp[pe]=ox(pe),Gp[ke]=ox(ke);class YR{['calculateL'+'ayout'](_0x38b889,_0x2a7f48){const _0x5229ab=Gp[_0x2a7f48['orientatio'+'n']];if(_0x5229ab)return _0x5229ab(_0x38b889,_0x2a7f48);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x2a7f48['orientatio'+'n']);}}function yg(_0x49d98f){return _0x49d98f['element'];}function KR(_0xce1875){return _0xce1875['enabled']&&_0xce1875['element']&&_0xce1875['element']['enabled'];}class lx extends ue{constructor(_0x2aa277,_0x319bc9){super(_0x2aa277,_0x319bc9),c(this,'_orientati'+'on',pe),c(this,'_reverseX',!(0x3*-0xbc8+-0x16b3+0x14*0x2e7)),c(this,'_reverseY',!(0x20c+-0x4aa*-0x1+0x35b*-0x2)),c(this,'_alignment',new W(-0x1*0x1b37+-0x132f+-0x2e66*-0x1,0x1393+-0x250d+0x117b)),c(this,'_padding',new Q()),c(this,'_spacing',new W()),c(this,'_widthFitt'+'ing',ff),c(this,'_heightFit'+'ting',ff),c(this,'_wrap',!(0x11*0xfd+0xc93+-0x1d5f)),c(this,'_layoutCal'+'culator',new YR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x3b3791=>{this['_listenFor'+'ReflowEven'+'ts'](_0x3b3791,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),v['assert'](_0x2aa277['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x2aa277['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x2aa277['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),v['assert'](_0x2aa277['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x2aa277['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x2aa277['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x38505a){_0x38505a!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x38505a,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x2d2ce2){_0x2d2ce2!==this['_reverseX']&&(this['_reverseX']=_0x2d2ce2,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x48af2d){_0x48af2d!==this['_reverseY']&&(this['_reverseY']=_0x48af2d,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x4576e3){_0x4576e3['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x4576e3),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x5f281b){_0x5f281b['equals'](this['_padding'])||(this['_padding']['copy'](_0x5f281b),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x46c7ed){_0x46c7ed['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x46c7ed),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x3c23aa){_0x3c23aa!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x3c23aa,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x401c2c){_0x401c2c!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x401c2c,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x5cac7b){_0x5cac7b!==this['_wrap']&&(this['_wrap']=_0x5cac7b,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x75a8){return _0x75a8===this['entity']||this['entity']['children']['indexOf'](_0x75a8)!==-(-0xdc2+-0x68f+0x1452);}['_listenFor'+'ReflowEven'+'ts'](_0x30ebaf,_0x398023){_0x30ebaf['element']&&(_0x30ebaf['element'][_0x398023]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x30ebaf['element'][_0x398023]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x30ebaf['element'][_0x398023]('resize',this['_scheduleR'+'eflow'],this),_0x30ebaf['element'][_0x398023]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x30ebaf['layoutchil'+'d']&&(_0x30ebaf['layoutchil'+'d'][_0x398023]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x30ebaf['layoutchil'+'d'][_0x398023]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x2a0b34){this['_isSelfOrC'+'hild'](_0x2a0b34)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x2a0b34,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x1d2913){this['_isSelfOrC'+'hild'](_0x1d2913)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x1d2913,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x2ec13a){this['_listenFor'+'ReflowEven'+'ts'](_0x2ec13a,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x337575){this['_listenFor'+'ReflowEven'+'ts'](_0x337575,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x48a7c1=yg(this['entity']),_0x17fd56=this['entity']['children']['filter'](KR)['map'](yg);if(!_0x48a7c1||_0x17fd56['length']===-0x1701+0x2364+-0x421*0x3)return;const _0x4e9329=Math['max'](_0x48a7c1['calculated'+'Width'],0x11f+0x71*-0x31+-0x20d*-0xa),_0x3cee51=Math['max'](_0x48a7c1['calculated'+'Height'],0x1fae+-0xc99*-0x1+-0x2c47),_0x555b93={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new W(_0x4e9329,_0x3cee51)};this['_isPerform'+'ingReflow']=!(-0x1905+0x1bb8+-0x2b3);const _0x165f53=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x17fd56,_0x555b93);this['_isPerform'+'ingReflow']=!(-0x1*0x23dd+-0x1276+0x72*0x7a),this['fire']('reflow',_0x165f53);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x57597c=>{this['_listenFor'+'ReflowEven'+'ts'](_0x57597c,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class ZR{constructor(){this['enabled']=!(0x2d*-0xad+0x955+0x1514);}}const hx=['enabled'],QR=0xe03+-0x395+0x1*-0xa0a;class JR extends Xe{constructor(_0x5b05f0){super(_0x5b05f0),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=lx,this['DataType']=ZR,this['schema']=hx,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x269706,_0x5c925f,_0x183efb){_0x5c925f['enabled']!==void(-0x21fa+0x5cc*0x2+0x1662)&&(_0x269706['enabled']=_0x5c925f['enabled']),_0x5c925f['orientatio'+'n']!==void(0x994+-0x1d92+0x13fe)&&(_0x269706['orientatio'+'n']=_0x5c925f['orientatio'+'n']),_0x5c925f['reverseX']!==void(0xb*0x2e7+0x1087+0xe*-0x376)&&(_0x269706['reverseX']=_0x5c925f['reverseX']),_0x5c925f['reverseY']!==void(0x4fc+-0x921+0x425)&&(_0x269706['reverseY']=_0x5c925f['reverseY']),_0x5c925f['alignment']!==void(0x26*0x11+-0x1c8*-0xb+-0x161e*0x1)&&(_0x269706['alignment']=Array['isArray'](_0x5c925f['alignment'])?new W(_0x5c925f['alignment']):_0x5c925f['alignment']),_0x5c925f['padding']!==void(0x130a+0x1126+0x6*-0x608)&&(_0x269706['padding']=Array['isArray'](_0x5c925f['padding'])?new Q(_0x5c925f['padding']):_0x5c925f['padding']),_0x5c925f['spacing']!==void(-0x100a*-0x1+-0x1c4c+0x6*0x20b)&&(_0x269706['spacing']=Array['isArray'](_0x5c925f['spacing'])?new W(_0x5c925f['spacing']):_0x5c925f['spacing']),_0x5c925f['widthFitti'+'ng']!==void(-0x1390+0x1*0x42f+0xf61)&&(_0x269706['widthFitti'+'ng']=_0x5c925f['widthFitti'+'ng']),_0x5c925f['heightFitt'+'ing']!==void(0xc86*-0x1+0x1*0x1661+-0x9db)&&(_0x269706['heightFitt'+'ing']=_0x5c925f['heightFitt'+'ing']),_0x5c925f['wrap']!==void(0x1*0xd6d+0x1cc0+-0x2a2d)&&(_0x269706['wrap']=_0x5c925f['wrap']),super['initialize'+'ComponentD'+'ata'](_0x269706,_0x5c925f,_0x183efb);}['cloneCompo'+'nent'](_0x396183,_0x4466fe){const _0x36f2e0=_0x396183['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x4466fe,{'enabled':_0x36f2e0['enabled'],'orientation':_0x36f2e0['orientatio'+'n'],'reverseX':_0x36f2e0['reverseX'],'reverseY':_0x36f2e0['reverseY'],'alignment':_0x36f2e0['alignment'],'padding':_0x36f2e0['padding'],'spacing':_0x36f2e0['spacing'],'widthFitting':_0x36f2e0['widthFitti'+'ng'],'heightFitting':_0x36f2e0['heightFitt'+'ing'],'wrap':_0x36f2e0['wrap']});}['scheduleRe'+'flow'](_0x1474f3){this['_reflowQue'+'ue']['indexOf'](_0x1474f3)===-(-0x2351+-0x3*-0x30+0xb96*0x3)&&this['_reflowQue'+'ue']['push'](_0x1474f3);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===-0x1f6f+0x9d*-0x11+0xe4*0x2f)return;let _0x14cedf=0x1b80+0x95*0x1+-0x7*0x403;for(;this['_reflowQue'+'ue']['length']>-0x16a7+0x305+-0x2ce*-0x7;){const _0xe90cf1=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=0x512*-0x4+-0x696+0x1ade,_0xe90cf1['sort']((_0x27031f,_0x24dae4)=>_0x27031f['entity']['graphDepth']-_0x24dae4['entity']['graphDepth']);for(let _0x28d61c=0x1481+-0x1568+-0x1*-0xe7;_0x28d61c<_0xe90cf1['length'];++_0x28d61c)_0xe90cf1[_0x28d61c]['reflow']();if(++_0x14cedf>=QR){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x55aeda,_0x505536){_0x505536['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}ue['_buildAcce'+'ssors'](lx['prototype'],hx);class eI{constructor(){c(this,'map',new Map());}['destroy'](_0xf60872){this['map']['forEach'](_0x6b3cc=>_0x6b3cc['mesh']['destroy']());}}const tI=new Ot(),cx=(_0x7301bb,_0x5b75a7)=>{const _0x560516=tI['get'](_0x7301bb,()=>new eI());let _0x98f14c=_0x560516['map']['get'](_0x5b75a7);if(!_0x98f14c){let _0x9073a8,_0xebb2df;switch(_0x5b75a7){case'box':_0x9073a8=Ie['fromGeomet'+'ry'](_0x7301bb,new $u()),_0xebb2df={'x':0x2,'y':0x2,'z':0x2,'uv':(0x21c0+0x38f*-0x8+-0x10e*0x5)/(-0x8b2+-0x23a2+-0x1*-0x2c57)};break;case'capsule':_0x9073a8=Ie['fromGeomet'+'ry'](_0x7301bb,new C1({'radius':0.5,'height':0x2})),_0xebb2df={'x':Math['PI']*(-0x1d31+-0xe9+-0xa4*-0x2f),'y':Math['PI'],'z':Math['PI']*(-0x13+-0x16ed*0x1+0x1702),'uv':(0x232f*0x1+0x6e*0x14+0x35e*-0xd)/(0x4*0x226+0xb*-0x369+0x211*0xe)+(0xb04*-0x2+0x1a*-0x63+-0x5*-0x66b)/(-0x2*-0x853+0x1122+-0x21c5)/(0x1a1e+-0x1fa3+0x588)*(-0x2*0x7c5+0xf*0x95+-0x1*-0x6d1)};break;case'cone':_0x9073a8=Ie['fromGeomet'+'ry'](_0x7301bb,new M1({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0xebb2df={'x':2.54,'y':2.54,'z':2.54,'uv':(0xdd*-0x19+0x5dd*-0x1+0x1b73)/(-0x159a+0x15c9*-0x1+0xa*0x457)+(-0x1*-0x2061+0x19b*0x11+-0x3bab*0x1)/(-0xce0+0x1a*0xf4+-0xbe5)/(0x1*-0xdc7+0x137c+-0x5b2)};break;case'cylinder':_0x9073a8=Ie['fromGeomet'+'ry'](_0x7301bb,new P1({'radius':0.5,'height':0x1})),_0xebb2df={'x':Math['PI'],'y':(-0x42b*-0x8+0x56b+0x1*-0x26c3+0.79)*(0x200b+-0xb3*0x2+-0x1*0x1ea3),'z':Math['PI'],'uv':(-0x96b+-0x246e*-0x1+0x1b02*-0x1)/(-0x1fa5+-0x993+0x293b)+(0x18*0x12e+-0x16a*0xd+0xe7*-0xb)/(-0x178+-0x305*0x8+0x19a3*0x1)/(-0x279*-0x7+-0x191*-0x6+-0x22*0xc9)*(0x1af*0x6+-0x15c4+-0x12*-0xa6)};break;case'plane':_0x9073a8=Ie['fromGeomet'+'ry'](_0x7301bb,new R1({'halfExtents':new W(-0x6cc+-0x1613+0x1cdf+0.5,0x16*0x19f+-0xc1*0x1+-0x22e9+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0xebb2df={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x9073a8=Ie['fromGeomet'+'ry'](_0x7301bb,new B0({'radius':0.5})),_0xebb2df={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x9073a8=Ie['fromGeomet'+'ry'](_0x7301bb,new I1({'tubeRadius':0.2,'ringRadius':0.3})),_0xebb2df={'x':Math['PI']*(0x75e+0x5*0x5cf+0x2cd*-0xd+0.5)*(0x2*-0x6ad+0x1239+-0x4df+0.5)-Math['PI']*(0xd8f+0x956+-0x16e5+0.1)*(0x6b0*-0x1+-0x8a7*-0x4+0xdf6*-0x2+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x5b75a7);}_0x9073a8['incRefCoun'+'t'](),_0x98f14c={'mesh':_0x9073a8,'area':_0xebb2df},_0x560516['map']['set'](_0x5b75a7,_0x98f14c);}return _0x98f14c;};class dx extends ue{constructor(_0x3a4263,_0x4af0fc){super(_0x3a4263,_0x4af0fc),c(this,'_type','asset'),c(this,'_asset',null),c(this,'_model',null),c(this,'_mapping',{}),c(this,'_castShado'+'ws',!(0x863*0x3+0x20e0+0x3a09*-0x1)),c(this,'_receiveSh'+'adows',!(-0x19d6+-0xd*-0x199+-0x511*-0x1)),c(this,'_materialA'+'sset',null),c(this,'_material'),c(this,'_castShado'+'wsLightmap',!(0x77c+0x2408+-0x2b84)),c(this,'_lightmapp'+'ed',!(0xf7b+0x2*0xe2+-0x113e)),c(this,'_lightmapS'+'izeMultipl'+'ier',0x1a*-0x42+0xc63*0x1+-0x5ae),c(this,'isStatic',!(0x1*-0x5+-0x16d*0x13+-0x277*-0xb)),c(this,'_layers',[Fi]),c(this,'_batchGrou'+'pId',-(-0xdd9+0x83*-0x3f+-0x51f*-0x9)),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_materialE'+'vents',null),c(this,'_clonedMod'+'el',!(-0xffa+-0x3e8+0x13e3*0x1)),c(this,'_batchGrou'+'p',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x3a4263['defaultMat'+'erial'],_0x4af0fc['on']('remove',this['onRemoveCh'+'ild'],this),_0x4af0fc['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x4af0fc['on']('insert',this['onInsertCh'+'ild'],this),_0x4af0fc['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x44a29e){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x44a29e);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x497611){if(this['_customAab'+'b']=_0x497611,this['_model']){const _0x1dc474=this['_model']['meshInstan'+'ces'];if(_0x1dc474){for(let _0x3c8b86=0x76*0xa+0x23bc+-0x2858;_0x3c8b86<_0x1dc474['length'];_0x3c8b86++)_0x1dc474[_0x3c8b86]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x231ee2){if(this['_type']!==_0x231ee2){if(this['_area']=null,this['_type']=_0x231ee2,_0x231ee2==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x78a3a4=cx(this['system']['app']['graphicsDe'+'vice'],_0x231ee2);this['_area']=_0x78a3a4['area'];const _0x965af5=_0x78a3a4['mesh'],_0x4952fa=new De(),_0x2ec644=new Oi();_0x2ec644['graph']=_0x4952fa,_0x2ec644['meshInstan'+'ces']=[new Le(_0x965af5,this['_material'],_0x4952fa)],this['model']=_0x2ec644,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x5a6bfd){const _0x3b2ea9=this['system']['app']['assets'];let _0x1e1233=_0x5a6bfd;if(_0x5a6bfd instanceof le&&(_0x1e1233=_0x5a6bfd['id']),this['_asset']!==_0x1e1233){if(this['_asset']){_0x3b2ea9['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x59337c=_0x3b2ea9['get'](this['_asset']);_0x59337c&&this['_unbindMod'+'elAsset'](_0x59337c);}if(this['_asset']=_0x1e1233,this['_asset']){const _0x3b2283=_0x3b2ea9['get'](this['_asset']);_0x3b2283?this['_bindModel'+'Asset'](_0x3b2283):(this['model']=null,_0x3b2ea9['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x277888){if(this['_model']!==_0x277888){if(_0x277888&&_0x277888['_immutable']){v['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(0x36*0x91+-0xe3+-0x1db2),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(-0x9be*0x2+-0xe65*-0x1+0x518))),this['_model']=_0x277888,this['_model']){this['_model']['_immutable']=!(-0x7*-0x50f+-0xbe8+0x1781*-0x1);const _0x71f1ce=this['_model']['meshInstan'+'ces'];for(let _0x4cda29=-0x5b8+-0x64a*-0x6+-0x2004;_0x4cda29<_0x71f1ce['length'];_0x4cda29++)_0x71f1ce[_0x4cda29]['castShadow']=this['_castShado'+'ws'],_0x71f1ce[_0x4cda29]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x71f1ce[_0x4cda29]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x485c9c){if(_0x485c9c!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x485c9c,this['_model'])){const _0x8155cd=this['_model']['meshInstan'+'ces'];for(let _0x56c1eb=0x1bfb+0x2504+-0x949*0x7;_0x56c1eb<_0x8155cd['length'];_0x56c1eb++)_0x8155cd[_0x56c1eb]['setLightma'+'pped'](_0x485c9c);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x455cd6){if(this['_castShado'+'ws']===_0x455cd6)return;const _0x252f63=this['_model'];if(_0x252f63){const _0x4fbb65=this['layers'],_0x5d1d20=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x455cd6)for(let _0x202ac4=-0x1*0xe8f+0x8d*0x29+-0x806;_0x202ac4<_0x4fbb65['length'];_0x202ac4++){const _0x256cad=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x202ac4]);_0x256cad&&_0x256cad['removeShad'+'owCasters'](_0x252f63['meshInstan'+'ces']);}const _0xdb0b6f=_0x252f63['meshInstan'+'ces'];for(let _0x12041e=-0x296*-0x2+0x21f*0xe+0x116f*-0x2;_0x12041e<_0xdb0b6f['length'];_0x12041e++)_0xdb0b6f[_0x12041e]['castShadow']=_0x455cd6;if(!this['_castShado'+'ws']&&_0x455cd6)for(let _0x58855c=-0x3*0x55c+0x320*-0x2+0x595*0x4;_0x58855c<_0x4fbb65['length'];_0x58855c++){const _0x17ebae=_0x5d1d20['layers']['getLayerBy'+'Id'](_0x4fbb65[_0x58855c]);_0x17ebae&&_0x17ebae['addShadowC'+'asters'](_0x252f63['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x455cd6;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x19bd7c){if(this['_receiveSh'+'adows']!==_0x19bd7c&&(this['_receiveSh'+'adows']=_0x19bd7c,this['_model'])){const _0x46773b=this['_model']['meshInstan'+'ces'];for(let _0x585ee0=-0x12a5+-0xaba+-0x67*-0x49,_0x2e1333=_0x46773b['length'];_0x585ee0<_0x2e1333;_0x585ee0++)_0x46773b[_0x585ee0]['receiveSha'+'dow']=_0x19bd7c;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x4f8f1f){this['_castShado'+'wsLightmap']=_0x4f8f1f;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x3dc024){this['_lightmapS'+'izeMultipl'+'ier']=_0x3dc024;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x2e4025){const _0x47a7b0=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x35ca22=0x1f*0x48+0xc4a*-0x1+0x1*0x392;_0x35ca22<this['_layers']['length'];_0x35ca22++){const _0x5e5a58=_0x47a7b0['getLayerBy'+'Id'](this['_layers'][_0x35ca22]);_0x5e5a58&&_0x5e5a58['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=0x50*0x60+-0x1cc6+0x1*-0x13a;for(let _0x1d8b2a=-0x7cd*0x1+0x17*-0x48+0xe45;_0x1d8b2a<_0x2e4025['length'];_0x1d8b2a++)this['_layers'][_0x1d8b2a]=_0x2e4025[_0x1d8b2a];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x1b48f0=-0x103*0x3+-0x17b5+0xe*0x1e9;_0x1b48f0<this['_layers']['length'];_0x1b48f0++){const _0x343b8f=_0x47a7b0['getLayerBy'+'Id'](this['_layers'][_0x1b48f0]);_0x343b8f&&_0x343b8f['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x3372ca){var _0x573e59,_0x59f7df;this['_batchGrou'+'pId']!==_0x3372ca&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0xa*0x49+-0x1a46+0x1d20&&((_0x573e59=this['system']['app']['batcher'])==null||_0x573e59['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x3372ca>=0x7a3*-0x5+0x2606+0x1*0x29&&((_0x59f7df=this['system']['app']['batcher'])==null||_0x59f7df['insert'](et['MODEL'],_0x3372ca,this['entity'])),_0x3372ca<-0x2b2+0x58b+-0x1b*0x1b&&this['_batchGrou'+'pId']>=-0x9c*0xb+-0x1922+-0x65e*-0x5&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x3372ca);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x2088e8){let _0x547c19=_0x2088e8;_0x2088e8 instanceof le&&(_0x547c19=_0x2088e8['id']);const _0xd078a3=this['system']['app']['assets'];if(_0x547c19!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0xd078a3['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x311274=_0xd078a3['get'](this['_materialA'+'sset']);_0x311274&&this['_unbindMat'+'erialAsset'](_0x311274);}if(this['_materialA'+'sset']=_0x547c19,this['_materialA'+'sset']){const _0x29d14d=_0xd078a3['get'](this['_materialA'+'sset']);_0x29d14d?this['_bindMater'+'ialAsset'](_0x29d14d):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0xd078a3['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x2b44a1){this['_material']!==_0x2b44a1&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x2b44a1));}get['material'](){return this['_material'];}set['mapping'](_0x3a7128){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x3a7128||(_0x3a7128={}),this['_mapping']=_0x3a7128,!this['_model']))return;const _0x57cabb=this['_model']['meshInstan'+'ces'],_0x4ee95a=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x5ce6be=_0x4ee95a?_0x4ee95a['data']['mapping']:null;let _0xbfc817=null;for(let _0x589e9a=-0x173f*-0x1+-0x4f6+-0x97*0x1f,_0x80cd5d=_0x57cabb['length'];_0x589e9a<_0x80cd5d;_0x589e9a++)if(_0x3a7128[_0x589e9a]!==void(0x267e+-0x46a*-0x5+0x1430*-0x3))_0x3a7128[_0x589e9a]?(_0xbfc817=this['system']['app']['assets']['get'](_0x3a7128[_0x589e9a]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0xbfc817,_0x57cabb[_0x589e9a],_0x589e9a)):_0x57cabb[_0x589e9a]['material']=this['system']['defaultMat'+'erial'];else{if(_0x5ce6be){if(_0x5ce6be[_0x589e9a]&&(_0x5ce6be[_0x589e9a]['material']||_0x5ce6be[_0x589e9a]['path'])){if(_0x5ce6be[_0x589e9a]['material']!==void(-0x13*-0x1c9+-0x317*0xb+-0x2*-0x9))_0xbfc817=this['system']['app']['assets']['get'](_0x5ce6be[_0x589e9a]['material']);else{if(_0x5ce6be[_0x589e9a]['path']!==void(0x23a3*0x1+0x1adf+-0x1*0x3e82)){const _0x275fa7=this['_getMateri'+'alAssetUrl'](_0x5ce6be[_0x589e9a]['path']);_0x275fa7&&(_0xbfc817=this['system']['app']['assets']['getByUrl'](_0x275fa7));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0xbfc817,_0x57cabb[_0x589e9a],_0x589e9a);}else _0x57cabb[_0x589e9a]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x459a07=this['system']['app']['scene']['layers'];for(let _0x4caf85=-0x592*0x1+-0x80*0x1+0x612;_0x4caf85<this['_layers']['length'];_0x4caf85++){const _0x241ff3=_0x459a07['getLayerBy'+'Id'](this['_layers'][_0x4caf85]);_0x241ff3&&_0x241ff3['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x403293=this['system']['app']['scene']['layers'];for(let _0x14d21b=0x780+-0x2*0x847+0x90e;_0x14d21b<this['_layers']['length'];_0x14d21b++){const _0x850368=_0x403293['getLayerBy'+'Id'](this['_layers'][_0x14d21b]);_0x850368&&_0x850368['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x2b8687,_0x445180){this['addModelTo'+'Layers'](),_0x2b8687['off']('add',this['onLayerAdd'+'ed'],this),_0x2b8687['off']('remove',this['onLayerRem'+'oved'],this),_0x445180['on']('add',this['onLayerAdd'+'ed'],this),_0x445180['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x53279a){this['layers']['indexOf'](_0x53279a['id'])<0x2aa*0x2+-0x1*-0xd28+-0x127c||_0x53279a['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x5a5016){this['layers']['indexOf'](_0x5a5016['id'])<-0xfe9+-0x1*-0x16b7+0x1a*-0x43||_0x5a5016['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x31b398,_0x33ba96,_0x4c3073,_0x27f29b){const _0x3aa473=_0x33ba96+':'+_0x4c3073;this['system']['app']['assets']['on'](_0x3aa473,_0x27f29b,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x31b398]||(this['_materialE'+'vents'][_0x31b398]={}),this['_materialE'+'vents'][_0x31b398][_0x3aa473]={'id':_0x4c3073,'handler':_0x27f29b};}['_unsetMate'+'rialEvents'](){const _0x5c97c8=this['system']['app']['assets'],_0x3a08bb=this['_materialE'+'vents'];if(_0x3a08bb){for(let _0x3eb2f9=-0x49*0x48+-0x641+0x1ac9,_0x5650ef=_0x3a08bb['length'];_0x3eb2f9<_0x5650ef;_0x3eb2f9++){if(!_0x3a08bb[_0x3eb2f9])continue;const _0x3e155a=_0x3a08bb[_0x3eb2f9];for(const _0x2375ee in _0x3e155a)_0x5c97c8['off'](_0x2375ee,_0x3e155a[_0x2375ee]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x491d1c){let _0x57bc48=null;if(!isNaN(parseInt(_0x491d1c,0x3*0x1de+0x377*0x1+0x907*-0x1)))_0x57bc48=this['system']['app']['assets']['get'](_0x491d1c);else{if(this['asset']){const _0x583252=this['_getMateri'+'alAssetUrl'](_0x491d1c);_0x583252&&(_0x57bc48=this['system']['app']['assets']['getByUrl'](_0x583252));}}return _0x57bc48;}['_getMateri'+'alAssetUrl'](_0x3abb6c){if(!this['asset'])return null;const _0x2a676d=this['system']['app']['assets']['get'](this['asset']);return _0x2a676d?_0x2a676d['getAbsolut'+'eUrl'](_0x3abb6c):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x1dbd33,_0x3e4b74,_0x3f0944){const _0x387833=this['system']['app']['assets'];_0x1dbd33&&(_0x1dbd33['resource']?(_0x3e4b74['material']=_0x1dbd33['resource'],this['_setMateri'+'alEvent'](_0x3f0944,'remove',_0x1dbd33['id'],function(){_0x3e4b74['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x3f0944,'load',_0x1dbd33['id'],function(_0x392b04){_0x3e4b74['material']=_0x392b04['resource'],this['_setMateri'+'alEvent'](_0x3f0944,'remove',_0x1dbd33['id'],function(){_0x3e4b74['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x387833['load'](_0x1dbd33)));}['onEnable'](){var _0x33ac0d;const _0x1746fe=this['system']['app'],_0x3bea07=_0x1746fe['scene'],_0xec97fd=_0x3bea07==null?void(0x1969*-0x1+0x2*0xf0b+-0x4ad):_0x3bea07['layers'];this['_evtLayers'+'Changed']=_0x3bea07['on']('set:layers',this['onLayersCh'+'anged'],this),_0xec97fd&&(this['_evtLayerA'+'dded']=_0xec97fd['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0xec97fd['on']('remove',this['onLayerRem'+'oved'],this));const _0x2ae0bb=this['_type']==='asset';let _0x10b7b9;if(this['_model']?this['addModelTo'+'Layers']():_0x2ae0bb&&this['_asset']&&(_0x10b7b9=_0x1746fe['assets']['get'](this['_asset']),_0x10b7b9&&_0x10b7b9['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x10b7b9)),this['_materialA'+'sset']&&(_0x10b7b9=_0x1746fe['assets']['get'](this['_materialA'+'sset']),_0x10b7b9&&_0x10b7b9['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x10b7b9)),_0x2ae0bb&&this['_mapping']){for(const _0x117834 in this['_mapping'])this['_mapping'][_0x117834]&&(_0x10b7b9=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x117834]),_0x10b7b9&&!_0x10b7b9['resource']&&_0x1746fe['assets']['load'](_0x10b7b9));}this['_batchGrou'+'pId']>=0x1*0x2311+0xc2*-0x2d+-0xf7&&((_0x33ac0d=_0x1746fe['batcher'])==null||_0x33ac0d['insert'](et['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x22ecb5,_0x1ec900,_0x2868af,_0x1fb774;const _0x6c1fed=this['system']['app'],_0x5d03eb=_0x6c1fed['scene']['layers'];(_0x22ecb5=this['_evtLayers'+'Changed'])==null||_0x22ecb5['off'](),this['_evtLayers'+'Changed']=null,_0x5d03eb&&((_0x1ec900=this['_evtLayerA'+'dded'])==null||_0x1ec900['off'](),this['_evtLayerA'+'dded']=null,(_0x2868af=this['_evtLayerR'+'emoved'])==null||_0x2868af['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0xaa4*-0x2+0x119a+0x3ae&&((_0x1fb774=_0x6c1fed['batcher'])==null||_0x1fb774['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x5407df=this['_model']['meshInstan'+'ces'];for(let _0x5a4290=-0x2554*-0x1+-0x1534+-0x1020,_0x3291a4=_0x5407df['length'];_0x5a4290<_0x3291a4;_0x5a4290++)_0x5407df[_0x5a4290]['visible']=!(0x735+0x1e8d+-0x25c1);}}['show'](){if(this['_model']){const _0x365a39=this['_model']['meshInstan'+'ces'];for(let _0x1930c9=0x1500+-0x9e+0x1*-0x1462,_0x2fae27=_0x365a39['length'];_0x1930c9<_0x2fae27;_0x1930c9++)_0x365a39[_0x1930c9]['visible']=!(-0x2123+0x954+-0x5*-0x4c3);}}['_bindMater'+'ialAsset'](_0xbb6fac){if(_0xbb6fac['on']('load',this['_onMateria'+'lAssetLoad'],this),_0xbb6fac['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0xbb6fac['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0xbb6fac['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0xbb6fac['resource'])this['_onMateria'+'lAssetLoad'](_0xbb6fac);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0xbb6fac);}}['_unbindMat'+'erialAsset'](_0x485550){_0x485550['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x485550['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x485550['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x485550['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x5a79c2){this['system']['app']['assets']['off']('add:'+_0x5a79c2['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x5a79c2['id']&&this['_bindMater'+'ialAsset'](_0x5a79c2);}['_onMateria'+'lAssetLoad'](_0x29c4eb){this['_setMateri'+'al'](_0x29c4eb['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x295fc4){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x964f70){this['_onMateria'+'lAssetUnlo'+'ad'](_0x964f70);}['_onMateria'+'lAssetChan'+'ge'](_0x5e82c7){}['_bindModel'+'Asset'](_0x5da099){if(this['_unbindMod'+'elAsset'](_0x5da099),_0x5da099['on']('load',this['_onModelAs'+'setLoad'],this),_0x5da099['on']('unload',this['_onModelAs'+'setUnload'],this),_0x5da099['on']('change',this['_onModelAs'+'setChange'],this),_0x5da099['on']('remove',this['_onModelAs'+'setRemove'],this),_0x5da099['resource'])this['_onModelAs'+'setLoad'](_0x5da099);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x5da099);}}['_unbindMod'+'elAsset'](_0x2aa2cc){_0x2aa2cc['off']('load',this['_onModelAs'+'setLoad'],this),_0x2aa2cc['off']('unload',this['_onModelAs'+'setUnload'],this),_0x2aa2cc['off']('change',this['_onModelAs'+'setChange'],this),_0x2aa2cc['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x26634d){this['system']['app']['assets']['off']('add:'+_0x26634d['id'],this['_onModelAs'+'setAdded'],this),_0x26634d['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x26634d);}['_onModelAs'+'setLoad'](_0x62a7b2){this['model']=_0x62a7b2['resource']['clone'](),this['_clonedMod'+'el']=!(0x1*0x27a+0x5*0x369+0x1*-0x1387);}['_onModelAs'+'setUnload'](_0x3034f1){this['model']=null;}['_onModelAs'+'setChange'](_0x491082,_0x2fe625,_0x40d849,_0x433993){_0x2fe625==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x37f7ea){this['model']=null;}['_setMateri'+'al'](_0x31dceb){if(this['_material']===_0x31dceb)return;this['_material']=_0x31dceb;const _0x3a3924=this['_model'];if(_0x3a3924&&this['_type']!=='asset'){const _0x288ef9=_0x3a3924['meshInstan'+'ces'];for(let _0x462478=0x20de+-0x2035+-0xa9*0x1,_0x195ffc=_0x288ef9['length'];_0x462478<_0x195ffc;_0x462478++)_0x288ef9[_0x462478]['material']=_0x31dceb;}}}class sI{constructor(){this['enabled']=!(0x5a0*0x5+-0x1945+-0x1*0x2db);}}const ux=['enabled'];class iI extends Xe{constructor(_0x1e5d17){super(_0x1e5d17),this['id']='model',this['ComponentT'+'ype']=dx,this['DataType']=sI,this['schema']=ux,this['defaultMat'+'erial']=al(_0x1e5d17['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x2b847c,_0x6c7bb9,_0xa27fe2){_0xa27fe2=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x6c7bb9['batchGroup'+'Id']===null||_0x6c7bb9['batchGroup'+'Id']===void(-0x244c+0xae7+0x1965))&&(_0x6c7bb9['batchGroup'+'Id']=-(0x1e29+-0x1735+-0x251*0x3)),_0x6c7bb9['layers']&&_0x6c7bb9['layers']['length']&&(_0x6c7bb9['layers']=_0x6c7bb9['layers']['slice'](-0x19bd*0x1+-0x1*0x812+0x21cf));for(let _0x5b6f02=0x1bcf+-0x1*-0x93f+-0x250e;_0x5b6f02<_0xa27fe2['length'];_0x5b6f02++)_0x6c7bb9['hasOwnProp'+'erty'](_0xa27fe2[_0x5b6f02])&&(_0x2b847c[_0xa27fe2[_0x5b6f02]]=_0x6c7bb9[_0xa27fe2[_0x5b6f02]]);_0x6c7bb9['aabbCenter']&&_0x6c7bb9['aabbHalfEx'+'tents']&&(_0x2b847c['customAabb']=new _e(new T(_0x6c7bb9['aabbCenter']),new T(_0x6c7bb9['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x2b847c,_0x6c7bb9,['enabled']);}['cloneCompo'+'nent'](_0x111aa8,_0x3501d1){const _0x34adaf={'type':_0x111aa8['model']['type'],'asset':_0x111aa8['model']['asset'],'castShadows':_0x111aa8['model']['castShadow'+'s'],'receiveShadows':_0x111aa8['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x111aa8['model']['castShadow'+'sLightmap'],'lightmapped':_0x111aa8['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x111aa8['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x111aa8['model']['isStatic'],'enabled':_0x111aa8['model']['enabled'],'layers':_0x111aa8['model']['layers'],'batchGroupId':_0x111aa8['model']['batchGroup'+'Id'],'mapping':vh({},_0x111aa8['model']['mapping'])};let _0x43942d=_0x111aa8['model']['materialAs'+'set'];!(_0x43942d instanceof le)&&_0x43942d!=null&&(_0x43942d=this['app']['assets']['get'](_0x43942d));const _0x80ad2=_0x111aa8['model']['material'];(!_0x80ad2||_0x80ad2===this['defaultMat'+'erial']||!_0x43942d||_0x80ad2===_0x43942d['resource'])&&(_0x34adaf['materialAs'+'set']=_0x43942d);const _0x4c5de1=this['addCompone'+'nt'](_0x3501d1,_0x34adaf);if(_0x111aa8['model']['model']&&_0x111aa8['model']['type']==='asset'&&!_0x111aa8['model']['asset']&&(_0x4c5de1['model']=_0x111aa8['model']['model']['clone'](),_0x4c5de1['_clonedMod'+'el']=!(0xb9b*0x2+0x2*0x20b+0x1b4c*-0x1)),_0x34adaf['materialAs'+'set']||(_0x4c5de1['material']=_0x80ad2),_0x111aa8['model']['model']){const _0x3d950c=_0x111aa8['model']['model']['meshInstan'+'ces'],_0x222b4f=_0x4c5de1['model']['meshInstan'+'ces'];for(let _0x5dd826=0x1ad0+0x1f23+-0x39f3;_0x5dd826<_0x3d950c['length'];_0x5dd826++)_0x222b4f[_0x5dd826]['mask']=_0x3d950c[_0x5dd826]['mask'],_0x222b4f[_0x5dd826]['material']=_0x3d950c[_0x5dd826]['material'],_0x222b4f[_0x5dd826]['layer']=_0x3d950c[_0x5dd826]['layer'],_0x222b4f[_0x5dd826]['receiveSha'+'dow']=_0x3d950c[_0x5dd826]['receiveSha'+'dow'];}return _0x111aa8['model']['customAabb']&&(_0x4c5de1['customAabb']=_0x111aa8['model']['customAabb']['clone']()),_0x4c5de1;}['onRemove'](_0x35834a,_0x51dfc3){_0x51dfc3['onRemove']();}}ue['_buildAcce'+'ssors'](dx['prototype'],ux);const rI=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],nI=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],aI=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Zl=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Hn;class oI extends ue{constructor(_0x188860,_0xf9ce80){super(_0x188860,_0xf9ce80),c(this,'_requested'+'Depth',!(0x34*0x95+-0x4f1+-0x1952)),c(this,'_drawOrder',0xc09+0x21a6+0x5*-0x923),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),rI['forEach'](_0xffe61b=>{this['on']('set_'+_0xffe61b,this['onSetSimpl'+'eProperty'],this);}),nI['forEach'](_0x1cdc04=>{this['on']('set_'+_0x1cdc04,this['onSetCompl'+'exProperty'],this);}),aI['forEach'](_0x13abde=>{this['on']('set_'+_0x13abde,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x1d3556=this['system']['store'][this['entity']['getGuid']()];return _0x1d3556?_0x1d3556['data']:null;}set['enabled'](_0xfdc511){this['_setValue']('enabled',_0xfdc511);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x2658b9){this['_setValue']('autoPlay',_0x2658b9);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x1fa9b5){this['_setValue']('numParticl'+'es',_0x1fa9b5);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x2c7475){this['_setValue']('lifetime',_0x2c7475);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x3d4fa1){this['_setValue']('rate',_0x3d4fa1);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x27b34a){this['_setValue']('rate2',_0x27b34a);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x7ce75f){this['_setValue']('startAngle',_0x7ce75f);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x529259){this['_setValue']('startAngle'+'2',_0x529259);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x258583){this['_setValue']('loop',_0x258583);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x39e08c){this['_setValue']('preWarm',_0x39e08c);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x27d087){this['_setValue']('lighting',_0x27d087);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x6a4c12){this['_setValue']('halfLamber'+'t',_0x6a4c12);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x5d2b33){this['_setValue']('intensity',_0x5d2b33);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x20e713){this['_setValue']('depthWrite',_0x20e713);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x58cfcf){this['_setValue']('noFog',_0x58cfcf);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x11cf3d){this['_setValue']('depthSofte'+'ning',_0x11cf3d);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x1e13e4){this['_setValue']('sort',_0x1e13e4);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x41f5e8){this['_setValue']('blendType',_0x41f5e8);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x452876){this['_setValue']('stretch',_0x452876);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x25cfec){this['_setValue']('alignToMot'+'ion',_0x25cfec);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x3f8057){this['_setValue']('emitterSha'+'pe',_0x3f8057);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x320f5f){this['_setValue']('emitterExt'+'ents',_0x320f5f);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x392e70){this['_setValue']('emitterExt'+'entsInner',_0x392e70);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x15ef25){this['_setValue']('emitterRad'+'ius',_0x15ef25);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x559cb6){this['_setValue']('emitterRad'+'iusInner',_0x559cb6);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x37917e){this['_setValue']('initialVel'+'ocity',_0x37917e);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x80f40e){this['_setValue']('wrap',_0x80f40e);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x225528){this['_setValue']('wrapBounds',_0x225528);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x49a18a){this['_setValue']('localSpace',_0x49a18a);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0xca9740){this['_setValue']('screenSpac'+'e',_0xca9740);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0xbb5df7){this['_setValue']('colorMapAs'+'set',_0xbb5df7);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x2aa8f5){this['_setValue']('normalMapA'+'sset',_0x2aa8f5);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x26fee5){this['_setValue']('mesh',_0x26fee5);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x17c2dc){this['_setValue']('meshAsset',_0x17c2dc);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x19ef0c){this['_setValue']('renderAsse'+'t',_0x19ef0c);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x3f2027){this['_setValue']('orientatio'+'n',_0x3f2027);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x4c56ff){this['_setValue']('particleNo'+'rmal',_0x4c56ff);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x33c679){this['_setValue']('localVeloc'+'ityGraph',_0x33c679);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x2a1ee5){this['_setValue']('localVeloc'+'ityGraph2',_0x2a1ee5);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x39acd1){this['_setValue']('velocityGr'+'aph',_0x39acd1);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x84ddb5){this['_setValue']('velocityGr'+'aph2',_0x84ddb5);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x757f2c){this['_setValue']('rotationSp'+'eedGraph',_0x757f2c);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x2515f5){this['_setValue']('rotationSp'+'eedGraph2',_0x2515f5);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x4a945b){this['_setValue']('radialSpee'+'dGraph',_0x4a945b);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x17128f){this['_setValue']('radialSpee'+'dGraph2',_0x17128f);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x341497){this['_setValue']('scaleGraph',_0x341497);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x1a976c){this['_setValue']('scaleGraph'+'2',_0x1a976c);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x313dcd){this['_setValue']('colorGraph',_0x313dcd);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x390296){this['_setValue']('colorGraph'+'2',_0x390296);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0xc22137){this['_setValue']('alphaGraph',_0xc22137);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x27aded){this['_setValue']('alphaGraph'+'2',_0x27aded);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x1f0664){this['_setValue']('colorMap',_0x1f0664);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x9faa3d){this['_setValue']('normalMap',_0x9faa3d);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x4ee99b){this['_setValue']('animTilesX',_0x4ee99b);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x24d299){this['_setValue']('animTilesY',_0x24d299);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x410db5){this['_setValue']('animStartF'+'rame',_0x410db5);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x440d2e){this['_setValue']('animNumFra'+'mes',_0x440d2e);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x5e5d72){this['_setValue']('animNumAni'+'mations',_0x5e5d72);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x32f6d3){this['_setValue']('animIndex',_0x32f6d3);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x51cb57){this['_setValue']('randomizeA'+'nimIndex',_0x51cb57);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x2b84e6){this['_setValue']('animSpeed',_0x2b84e6);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x452cba){this['_setValue']('animLoop',_0x452cba);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x55f1a7){this['_setValue']('layers',_0x55f1a7);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x5009a2){this['_drawOrder']=_0x5009a2,this['emitter']&&(this['emitter']['drawOrder']=_0x5009a2);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0xf004bd,_0x3adb7a){const _0x14ac85=this['data'],_0x387edc=_0x14ac85[_0xf004bd];_0x14ac85[_0xf004bd]=_0x3adb7a,this['fire']('set',_0xf004bd,_0x387edc,_0x3adb7a);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x46b973=-0x86e+0x5*-0x24b+0x13e5;_0x46b973<this['layers']['length'];_0x46b973++){const _0x1254a4=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x46b973]);_0x1254a4&&(_0x1254a4['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x1254a4);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x31e2b8=-0xad2+0x1*0x10d9+-0x607*0x1;_0x31e2b8<this['layers']['length'];_0x31e2b8++){const _0xdd9cf6=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x31e2b8]);_0xdd9cf6&&_0xdd9cf6['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x37d415,_0x5d7048,_0x84c35d){if(this['emitter']){for(let _0x43dd14=-0x253e+-0x2c*-0x6b+0x1*0x12da;_0x43dd14<_0x5d7048['length'];_0x43dd14++){const _0x4b1409=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x5d7048[_0x43dd14]);_0x4b1409&&_0x4b1409['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x266b8c=-0x11*0x198+0x14*0x135+0x2f4;_0x266b8c<_0x84c35d['length'];_0x266b8c++){const _0x5da586=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x84c35d[_0x266b8c]);_0x5da586&&_0x5da586['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x16d036,_0x56c2bb){this['addMeshIns'+'tanceToLay'+'ers'](),_0x16d036['off']('add',this['onLayerAdd'+'ed'],this),_0x16d036['off']('remove',this['onLayerRem'+'oved'],this),_0x56c2bb['on']('add',this['onLayerAdd'+'ed'],this),_0x56c2bb['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x3a04e9){!this['emitter']||this['layers']['indexOf'](_0x3a04e9['id'])<-0x151*0x4+-0x1a10+0x1f54||_0x3a04e9['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x5defe2){!this['emitter']||this['layers']['indexOf'](_0x5defe2['id'])<0x1107+-0x1*-0x5ae+-0x16b5*0x1||_0x5defe2['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x41f345){if(_0x41f345['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x41f345['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x41f345['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x41f345['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x41f345['resource'])this['_onColorMa'+'pAssetLoad'](_0x41f345);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x41f345);}}['_unbindCol'+'orMapAsset'](_0x142442){_0x142442['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x142442['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x142442['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x142442['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x537120){this['colorMap']=_0x537120['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x2efcf0){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x2c5c16){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x2c5c16);}['_onColorMa'+'pAssetChan'+'ge'](_0x5446cd){}['onSetColor'+'MapAsset'](_0x4d6ba8,_0x1abaa7,_0x39f33b){const _0x48bdc0=this['system']['app']['assets'];if(_0x1abaa7){const _0x1a1994=_0x48bdc0['get'](_0x1abaa7);_0x1a1994&&this['_unbindCol'+'orMapAsset'](_0x1a1994);}if(_0x39f33b){_0x39f33b instanceof le&&(this['data']['colorMapAs'+'set']=_0x39f33b['id'],_0x39f33b=_0x39f33b['id']);const _0x20c55b=_0x48bdc0['get'](_0x39f33b);_0x20c55b?this['_bindColor'+'MapAsset'](_0x20c55b):_0x48bdc0['once']('add:'+_0x39f33b,_0x53dfac=>{this['_bindColor'+'MapAsset'](_0x53dfac);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x3b9930){if(_0x3b9930['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x3b9930['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x3b9930['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x3b9930['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x3b9930['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x3b9930);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x3b9930);}}['_unbindNor'+'malMapAsse'+'t'](_0xedea7e){_0xedea7e['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0xedea7e['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0xedea7e['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0xedea7e['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x164309){this['normalMap']=_0x164309['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x42e510){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x29f1eb){this['_onNormalM'+'apAssetUnl'+'oad'](_0x29f1eb);}['_onNormalM'+'apAssetCha'+'nge'](_0x1707dc){}['onSetNorma'+'lMapAsset'](_0x126c55,_0x5593b8,_0x29c680){const _0x4483c0=this['system']['app']['assets'];if(_0x5593b8){const _0x382474=_0x4483c0['get'](_0x5593b8);_0x382474&&this['_unbindNor'+'malMapAsse'+'t'](_0x382474);}if(_0x29c680){_0x29c680 instanceof le&&(this['data']['normalMapA'+'sset']=_0x29c680['id'],_0x29c680=_0x29c680['id']);const _0x1734b2=_0x4483c0['get'](_0x29c680);_0x1734b2?this['_bindNorma'+'lMapAsset'](_0x1734b2):_0x4483c0['once']('add:'+_0x29c680,_0x1c6d78=>{this['_bindNorma'+'lMapAsset'](_0x1c6d78);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x25ed4c){if(_0x25ed4c['on']('load',this['_onMeshAss'+'etLoad'],this),_0x25ed4c['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x25ed4c['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x25ed4c['on']('change',this['_onMeshAss'+'etChange'],this),_0x25ed4c['resource'])this['_onMeshAss'+'etLoad'](_0x25ed4c);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x25ed4c);}}['_unbindMes'+'hAsset'](_0x3c75c8){_0x3c75c8['off']('load',this['_onMeshAss'+'etLoad'],this),_0x3c75c8['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x3c75c8['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x3c75c8['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x4b2307){this['_onMeshCha'+'nged'](_0x4b2307['resource']);}['_onMeshAss'+'etUnload'](_0x532c08){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x799800){this['_onMeshAss'+'etUnload'](_0x799800);}['_onMeshAss'+'etChange'](_0x801d5){}['onSetMeshA'+'sset'](_0x3d92d9,_0x8a302e,_0x4eba37){const _0x5dc632=this['system']['app']['assets'];if(_0x8a302e){const _0x2fcf73=_0x5dc632['get'](_0x8a302e);_0x2fcf73&&this['_unbindMes'+'hAsset'](_0x2fcf73);}if(_0x4eba37){_0x4eba37 instanceof le&&(this['data']['meshAsset']=_0x4eba37['id'],_0x4eba37=_0x4eba37['id']);const _0x518ca0=_0x5dc632['get'](_0x4eba37);_0x518ca0&&this['_bindMeshA'+'sset'](_0x518ca0);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x17e9f5,_0x183c44,_0x35ffa2){!_0x35ffa2||_0x35ffa2 instanceof le||typeof _0x35ffa2=='number'?this['meshAsset']=_0x35ffa2:this['_onMeshCha'+'nged'](_0x35ffa2);}['_onMeshCha'+'nged'](_0x209e45){_0x209e45&&!(_0x209e45 instanceof Ie)&&(_0x209e45['meshInstan'+'ces'][-0xbb3+-0x5bc+0x116f]?_0x209e45=_0x209e45['meshInstan'+'ces'][0x5*-0x3ed+-0x9a8+0x1d49*0x1]['mesh']:_0x209e45=null),this['data']['mesh']=_0x209e45,this['emitter']&&(this['emitter']['mesh']=_0x209e45,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x400930,_0x3c1a8c,_0x421500){const _0xa8a487=this['system']['app']['assets'];if(_0x3c1a8c){const _0x207aa2=_0xa8a487['get'](_0x3c1a8c);_0x207aa2&&this['_unbindRen'+'derAsset'](_0x207aa2);}if(_0x421500){_0x421500 instanceof le&&(this['data']['renderAsse'+'t']=_0x421500['id'],_0x421500=_0x421500['id']);const _0x27b11a=_0xa8a487['get'](_0x421500);_0x27b11a&&this['_bindRende'+'rAsset'](_0x27b11a);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x4fdce2){if(_0x4fdce2['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x4fdce2['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x4fdce2['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x4fdce2['resource'])this['_onRenderA'+'ssetLoad'](_0x4fdce2);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x4fdce2);}}['_unbindRen'+'derAsset'](_0x3da82c){var _0x544f02;_0x3da82c['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x3da82c['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x3da82c['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x544f02=this['_evtSetMes'+'hes'])==null||_0x544f02['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x17653f){this['_onRenderC'+'hanged'](_0x17653f['resource']);}['_onRenderA'+'ssetUnload'](_0x23456d){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x34ff64){this['_onRenderA'+'ssetUnload'](_0x34ff64);}['_onRenderC'+'hanged'](_0x507d5c){var _0x5d9fad;if(!_0x507d5c){this['_onMeshCha'+'nged'](null);return;}(_0x5d9fad=this['_evtSetMes'+'hes'])==null||_0x5d9fad['off'](),this['_evtSetMes'+'hes']=_0x507d5c['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x507d5c['meshes']&&this['_onRenderS'+'etMeshes'](_0x507d5c['meshes']);}['_onRenderS'+'etMeshes'](_0x39efd0){this['_onMeshCha'+'nged'](_0x39efd0&&_0x39efd0[-0x11c*0x20+0x71e+0x4bb*0x6]);}['onSetLoop'](_0x50f803,_0x14eec1,_0x460e17){this['emitter']&&(this['emitter'][_0x50f803]=_0x460e17,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x28a0d2,_0x356275,_0x400bf3){this['emitter']&&(this['emitter'][_0x28a0d2]=_0x400bf3,this['emitter']['material']['blendType']=_0x400bf3,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Hn||(Hn=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt)),Hn&&(Hn['incrementC'+'ounter'](),this['_requested'+'Depth']=!(-0x4*-0x209+-0x1665+0xe41)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Hn&&(Hn['decrementC'+'ounter'](),this['_requested'+'Depth']=!(0xb*-0x11+-0x6bb+-0x5b*-0x15));}['onSetDepth'+'Softening'](_0x27f1d7,_0x1c2dfc,_0x231f57){_0x1c2dfc!==_0x231f57&&(_0x231f57?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x27f1d7]=_0x231f57)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x27f1d7]=_0x231f57)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x352169,_0x1d6854,_0x5139a9){this['emitter']&&(this['emitter'][_0x352169]=_0x5139a9,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x5cc3d9,_0x20663c,_0x93954f){this['emitter']&&(this['emitter'][_0x5cc3d9]=_0x93954f,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x2f2e01,_0x5331ef,_0x4468b6){this['emitter']&&(this['emitter'][_0x2f2e01]=_0x4468b6,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x273113=this['system']['app']['scene'],_0x3c0fd9=_0x273113['layers'],_0x520b9f=this['data'];for(let _0x3ea6b7=0x2063+0x1937*0x1+-0x399a,_0x502b7d=Zl['length'];_0x3ea6b7<_0x502b7d;_0x3ea6b7++){let _0x40973f=_0x520b9f[Zl[_0x3ea6b7]];if(_0x40973f){if(!(_0x40973f instanceof le)){if(parseInt(_0x40973f,-0x1*-0x2c5+0xf5b+0x1*-0x1216)>=0x3*-0xa55+0x1a5a*-0x1+0x3959)_0x40973f=this['system']['app']['assets']['get'](_0x40973f);else continue;}_0x40973f&&!_0x40973f['resource']&&this['system']['app']['assets']['load'](_0x40973f);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x33d385=_0x520b9f['mesh'];_0x33d385 instanceof Ie||(_0x33d385=null),this['emitter']=new d1(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x520b9f['numParticl'+'es'],'emitterExtents':_0x520b9f['emitterExt'+'ents'],'emitterExtentsInner':_0x520b9f['emitterExt'+'entsInner'],'emitterRadius':_0x520b9f['emitterRad'+'ius'],'emitterRadiusInner':_0x520b9f['emitterRad'+'iusInner'],'emitterShape':_0x520b9f['emitterSha'+'pe'],'initialVelocity':_0x520b9f['initialVel'+'ocity'],'wrap':_0x520b9f['wrap'],'localSpace':_0x520b9f['localSpace'],'screenSpace':_0x520b9f['screenSpac'+'e'],'wrapBounds':_0x520b9f['wrapBounds'],'lifetime':_0x520b9f['lifetime'],'rate':_0x520b9f['rate'],'rate2':_0x520b9f['rate2'],'orientation':_0x520b9f['orientatio'+'n'],'particleNormal':_0x520b9f['particleNo'+'rmal'],'animTilesX':_0x520b9f['animTilesX'],'animTilesY':_0x520b9f['animTilesY'],'animStartFrame':_0x520b9f['animStartF'+'rame'],'animNumFrames':_0x520b9f['animNumFra'+'mes'],'animNumAnimations':_0x520b9f['animNumAni'+'mations'],'animIndex':_0x520b9f['animIndex'],'randomizeAnimIndex':_0x520b9f['randomizeA'+'nimIndex'],'animSpeed':_0x520b9f['animSpeed'],'animLoop':_0x520b9f['animLoop'],'startAngle':_0x520b9f['startAngle'],'startAngle2':_0x520b9f['startAngle'+'2'],'scaleGraph':_0x520b9f['scaleGraph'],'scaleGraph2':_0x520b9f['scaleGraph'+'2'],'colorGraph':_0x520b9f['colorGraph'],'colorGraph2':_0x520b9f['colorGraph'+'2'],'alphaGraph':_0x520b9f['alphaGraph'],'alphaGraph2':_0x520b9f['alphaGraph'+'2'],'localVelocityGraph':_0x520b9f['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x520b9f['localVeloc'+'ityGraph2'],'velocityGraph':_0x520b9f['velocityGr'+'aph'],'velocityGraph2':_0x520b9f['velocityGr'+'aph2'],'rotationSpeedGraph':_0x520b9f['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x520b9f['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x520b9f['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x520b9f['radialSpee'+'dGraph2'],'colorMap':_0x520b9f['colorMap'],'normalMap':_0x520b9f['normalMap'],'loop':_0x520b9f['loop'],'preWarm':_0x520b9f['preWarm'],'sort':_0x520b9f['sort'],'stretch':_0x520b9f['stretch'],'alignToMotion':_0x520b9f['alignToMot'+'ion'],'lighting':_0x520b9f['lighting'],'halfLambert':_0x520b9f['halfLamber'+'t'],'intensity':_0x520b9f['intensity'],'depthSoftening':_0x520b9f['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x33d385,'depthWrite':_0x520b9f['depthWrite'],'noFog':_0x520b9f['noFog'],'node':this['entity'],'blendType':_0x520b9f['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x520b9f['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(-0x17a7+-0x1*-0x14d5+0x2d3));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x273113['on']('set:layers',this['onLayersCh'+'anged'],this),_0x3c0fd9&&(this['_evtLayerA'+'dded']=_0x3c0fd9['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x3c0fd9['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x520b9f['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x22e1dd,_0x80f0e9,_0x1929a4;const _0x53c282=this['system']['app']['scene']['layers'];(_0x22e1dd=this['_evtLayers'+'Changed'])==null||_0x22e1dd['off'](),this['_evtLayers'+'Changed']=null,_0x53c282&&((_0x80f0e9=this['_evtLayerA'+'dded'])==null||_0x80f0e9['off'](),this['_evtLayerA'+'dded']=null,(_0x1929a4=this['_evtLayerR'+'emoved'])==null||_0x1929a4['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(0x2*-0x120+0x87e+-0x1*0x63d)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x2aa52a=0x5*-0x2bd+-0x4e2+0xf*0x13d;_0x2aa52a<Zl['length'];_0x2aa52a++){const _0x14d85f=Zl[_0x2aa52a];this['data'][_0x14d85f]&&(this[_0x14d85f]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(0xb4+0xfaf+0x9*-0x1d2),this['emitter']['resetTime'](),this['emitter']['addTime'](0x1154+-0x26d6+0x2*0xac1,!(0x224d+0x8a2+-0x2aef)));}['pause'](){this['data']['paused']=!(-0xcc0+-0x1ca2+0x2962);}['unpause'](){this['data']['paused']=!(0x1615+0x15c1*-0x1+0x1*-0x53);}['play'](){this['data']['paused']=!(0x237f+0xac4*-0x1+-0x18ba),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(-0x29c*0xa+-0x1*0x18b3+0x32cb),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(-0x14e*-0x1b+0x577+-0x28b0):this['emitter']&&this['emitter']['loop']?!(-0xf75*-0x1+0xcf1*-0x1+-0x2e*0xe):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x36fe22}=this;_0x36fe22&&!_0x36fe22['inTools']&&(_0x36fe22['inTools']=!(0x6a0*0x2+-0x10d5+0x395),this['rebuild']());}['rebuild'](){const _0x54f404=this['enabled'];this['enabled']=!(0x1f*0x11b+-0xc9c+0x3*-0x738),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x54f404;}}class lI{constructor(){this['numParticl'+'es']=-0x3ae+-0x202*-0x7+-0xa5f,this['rate']=0x3*-0xc83+-0x53*-0x1+-0x551*-0x7,this['rate2']=null,this['startAngle']=0x1884+0x1e39*0x1+0x615*-0x9,this['startAngle'+'2']=null,this['lifetime']=-0x2a1*-0x7+0xbec+-0x1e21,this['emitterExt'+'ents']=new T(),this['emitterExt'+'entsInner']=new T(),this['emitterRad'+'ius']=0x1*-0x136e+0x14bb+-0x14d,this['emitterRad'+'iusInner']=0x1*-0x1366+-0x1a0d+0x1*0x2d73,this['emitterSha'+'pe']=Vs,this['initialVel'+'ocity']=-0x19e2+0x9*0x6a+0x4*0x58a,this['wrap']=!(-0x10*-0x199+0x5*0xfe+-0x1e85),this['wrapBounds']=new T(),this['localSpace']=!(0x112e*0x1+-0x2203*-0x1+-0x8*0x666),this['screenSpac'+'e']=!(0x1*0x1742+0xe19+-0x255a),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(0x1b38+0x2011+-0x13c3*0x3),this['preWarm']=!(0x59*-0x41+0x1*-0x37e+0x1a18),this['sort']=0x8d2+-0x21*0x1d+-0x515,this['mode']=d0,this['scene']=null,this['lighting']=!(-0x23dd*-0x1+-0x2*-0x6cd+0x3176*-0x1),this['halfLamber'+'t']=!(0x22bf+0x362*-0x3+-0x1898),this['intensity']=0xdd7*-0x2+-0x93a*0x4+0x4097,this['stretch']=-0x2404+0xdc6+0x2*0xb1f,this['alignToMot'+'ion']=!(-0x1*0x150b+-0x1327*-0x2+-0x1142*0x1),this['depthSofte'+'ning']=-0x1*-0x9dc+-0x91*-0x5+-0x9*0x169,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(-0xd*0x2f+-0x47*-0x7c+0x10*-0x200),this['noFog']=!(-0x32*0x1d+0x8*-0x3ba+0x1*0x237b),this['orientatio'+'n']=Uh,this['particleNo'+'rmal']=new T(0x20b3+-0x89*-0x1+0x3*-0xb14,-0x6ac*-0x2+0x7*-0x593+0x26*0xad,-0x1*-0x19e5+0x1b75+-0x1aad*0x2),this['animTilesX']=0x169e+-0x2*0xf89+-0x875*-0x1,this['animTilesY']=-0x233a+0x1240+0x10fb,this['animStartF'+'rame']=0x1d*0x6f+0x2*0xb4e+-0x232f,this['animNumFra'+'mes']=0x36f+-0x242*-0x9+-0x17c0,this['animNumAni'+'mations']=-0xb0a+0x22*0xe8+-0xf1*0x15,this['animIndex']=-0x1bfc+0x4dc*-0x4+0x14*0x25f,this['randomizeA'+'nimIndex']=!(-0x232*0x4+-0x170+0xa39),this['animSpeed']=-0x6a*-0x29+-0xea2*-0x2+-0x2e3d,this['animLoop']=!(-0x166e+0x1015+0x659),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Kt,this['enabled']=!(-0xb61+0x17ee+-0xc8d),this['paused']=!(0xfa6+-0x24ab+0x1506),this['autoPlay']=!(0x26f8+-0x1*0x1327+-0x3*0x69b),this['layers']=[Fi];}}const hI=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class cI extends Xe{constructor(_0x38cb13){super(_0x38cb13),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=oI,this['DataType']=lI,this['schema']=hI,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x24c3b0,_0x36f434,_0x296b33){const _0x28e3d6={};_0x296b33=[];const _0x4ddb74=this['propertyTy'+'pes'];(_0x36f434['mesh']instanceof le||typeof _0x36f434['mesh']=='number')&&(_0x36f434['meshAsset']=_0x36f434['mesh'],delete _0x36f434['mesh']);for(const _0x5c2b0c in _0x36f434){if(_0x36f434['hasOwnProp'+'erty'](_0x5c2b0c)&&(_0x296b33['push'](_0x5c2b0c),_0x28e3d6[_0x5c2b0c]=_0x36f434[_0x5c2b0c]),_0x4ddb74[_0x5c2b0c]==='vec3')Array['isArray'](_0x28e3d6[_0x5c2b0c])&&(_0x28e3d6[_0x5c2b0c]=new T(_0x28e3d6[_0x5c2b0c][-0x38f*0x3+0x1701+-0x4*0x315],_0x28e3d6[_0x5c2b0c][-0x1*0x1db6+-0x202*0x4+-0x3*-0xc95],_0x28e3d6[_0x5c2b0c][0x1555*-0x1+0x1d8e+0x837*-0x1]));else{if(_0x4ddb74[_0x5c2b0c]==='curve'){if(!(_0x28e3d6[_0x5c2b0c]instanceof Cs)){const _0x85c325=_0x28e3d6[_0x5c2b0c]['type'];_0x28e3d6[_0x5c2b0c]=new Cs(_0x28e3d6[_0x5c2b0c]['keys']),_0x28e3d6[_0x5c2b0c]['type']=_0x85c325;}}else{if(_0x4ddb74[_0x5c2b0c]==='curveset'&&!(_0x28e3d6[_0x5c2b0c]instanceof jr)){const _0x78e732=_0x28e3d6[_0x5c2b0c]['type'];_0x28e3d6[_0x5c2b0c]=new jr(_0x28e3d6[_0x5c2b0c]['keys']),_0x28e3d6[_0x5c2b0c]['type']=_0x78e732;}}}_0x28e3d6['layers']&&Array['isArray'](_0x28e3d6['layers'])&&(_0x28e3d6['layers']=_0x28e3d6['layers']['slice'](-0x122b*0x1+0x1de*-0x12+0x33c7));}super['initialize'+'ComponentD'+'ata'](_0x24c3b0,_0x28e3d6,_0x296b33);}['cloneCompo'+'nent'](_0x2d36cd,_0x57c903){const _0x3114d2=_0x2d36cd['particlesy'+'stem']['data'],_0x198f3b=this['schema'],_0x43f3b5={};for(let _0x30612a=-0x315+0x1*-0x1eef+0x2204,_0x9736de=_0x198f3b['length'];_0x30612a<_0x9736de;_0x30612a++){const _0x3adaf2=_0x198f3b[_0x30612a];let _0xb3be1d=_0x3114d2[_0x3adaf2];_0xb3be1d instanceof T||_0xb3be1d instanceof Cs||_0xb3be1d instanceof jr?(_0xb3be1d=_0xb3be1d['clone'](),_0x43f3b5[_0x3adaf2]=_0xb3be1d):_0x3adaf2==='layers'?_0x43f3b5['layers']=_0x3114d2['layers']['slice'](0x214f*0x1+-0x1a2d+-0x722):_0xb3be1d!=null&&(_0x43f3b5[_0x3adaf2]=_0xb3be1d);}return this['addCompone'+'nt'](_0x57c903,_0x43f3b5);}['onUpdate'](_0xb5e662){const _0x590969=this['store'];let _0x502258;const _0x51d89a=this['app']['stats']['particles'],_0xf42e76=this['app']['scene']['layers'];for(let _0x4c1612=-0x2322+-0xce4+0x3006;_0x4c1612<_0xf42e76['layerList']['length'];_0x4c1612++)_0xf42e76['layerList'][_0x4c1612]['requiresLi'+'ghtCube']=!(0x81a+0xcda+-0x14f3);for(const _0x582264 in _0x590969)if(_0x590969['hasOwnProp'+'erty'](_0x582264)){const _0x56e218=_0x590969[_0x582264],_0x5318a1=_0x56e218['entity'],_0x319002=_0x56e218['data'];if(_0x319002['enabled']&&_0x5318a1['enabled']){const _0x23a6b9=_0x5318a1['particlesy'+'stem']['emitter'];if(!(_0x23a6b9!=null&&_0x23a6b9['meshInstan'+'ce']['visible']))continue;if(_0x23a6b9['lighting']){const _0x17f4ab=_0x319002['layers'];for(let _0x845e89=0x7*-0x281+0x1b35+-0x9ae;_0x845e89<_0x17f4ab['length'];_0x845e89++){const _0x314ee3=_0xf42e76['getLayerBy'+'Id'](_0x17f4ab[_0x845e89]);_0x314ee3&&(_0x314ee3['requiresLi'+'ghtCube']=!(0x201*-0x13+-0x5e*0x3f+0x6cd*0x9));}}if(!_0x319002['paused']){if(_0x23a6b9['simTime']+=_0xb5e662,_0x23a6b9['simTime']>_0x23a6b9['fixedTimeS'+'tep']&&(_0x502258=Math['floor'](_0x23a6b9['simTime']/_0x23a6b9['fixedTimeS'+'tep']),_0x23a6b9['simTime']-=_0x502258*_0x23a6b9['fixedTimeS'+'tep']),_0x502258){_0x502258=Math['min'](_0x502258,_0x23a6b9['maxSubStep'+'s']);for(let _0x2ed707=0x7ff+0x89b*0x4+0x2a6b*-0x1;_0x2ed707<_0x502258;_0x2ed707++)_0x23a6b9['addTime'](_0x23a6b9['fixedTimeS'+'tep'],!(0x1f*-0x4+-0x86*0x49+0x26b3));_0x51d89a['_updatesPe'+'rFrame']+=_0x502258,_0x51d89a['_frameTime']+=_0x23a6b9['_addTimeTi'+'me'],_0x23a6b9['_addTimeTi'+'me']=0x3*-0x6fd+-0xd49+-0x89*-0x40;}_0x23a6b9['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x48abd8,_0x24cc98){_0x24cc98['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class dI extends Gc{constructor(_0x17d5ac,_0x121acf){super(),this['skin']=_0x17d5ac,this['skinInstan'+'ce']=_0x121acf;}}const bs=class bs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),bs['_skinInsta'+'nceCache']['forEach']((_0x28fbfb,_0x2ef4c5)=>{console['log'](_0x2ef4c5['name']+':\x20Array('+_0x28fbfb['length']+')');for(let _0x19f187=-0x32a*-0x7+0x1*-0x21f1+0xbcb*0x1;_0x19f187<_0x28fbfb['length'];_0x19f187++)console['log']('\x20\x20'+_0x19f187+(':\x20RefCount'+'\x20')+_0x28fbfb[_0x19f187]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x4c11fe,_0x310376,_0x586cf5){let _0x2e0744=bs['getCachedS'+'kinInstanc'+'e'](_0x4c11fe,_0x310376);return _0x2e0744||(_0x2e0744=new nl(_0x4c11fe),_0x2e0744['resolve'](_0x310376,_0x586cf5),bs['addCachedS'+'kinInstanc'+'e'](_0x4c11fe,_0x310376,_0x2e0744)),_0x2e0744;}static['getCachedS'+'kinInstanc'+'e'](_0x342a3c,_0x15f26f){let _0x347801=null;const _0x5e9596=bs['_skinInsta'+'nceCache']['get'](_0x15f26f);if(_0x5e9596){const _0x1d1848=_0x5e9596['find'](_0x26c3e9=>_0x26c3e9['skin']===_0x342a3c);_0x1d1848&&(_0x1d1848['incRefCoun'+'t'](),_0x347801=_0x1d1848['skinInstan'+'ce']);}return _0x347801;}static['addCachedS'+'kinInstanc'+'e'](_0x5c9903,_0x5af246,_0x1bfa0b){let _0x1b2b01=bs['_skinInsta'+'nceCache']['get'](_0x5af246);_0x1b2b01||(_0x1b2b01=[],bs['_skinInsta'+'nceCache']['set'](_0x5af246,_0x1b2b01));let _0xb1793c=_0x1b2b01['find'](_0x2b33d9=>_0x2b33d9['skin']===_0x5c9903);_0xb1793c||(_0xb1793c=new dI(_0x5c9903,_0x1bfa0b),_0x1b2b01['push'](_0xb1793c)),_0xb1793c['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x546251){if(_0x546251){const _0x4fbece=_0x546251['rootBone'];if(_0x4fbece){const _0x4ff6b0=bs['_skinInsta'+'nceCache']['get'](_0x4fbece);if(_0x4ff6b0){const _0x5ce085=_0x4ff6b0['findIndex'](_0x417628=>_0x417628['skinInstan'+'ce']===_0x546251);if(_0x5ce085>=0xf71+-0x6ea+-0x3b*0x25){const _0x187f35=_0x4ff6b0[_0x5ce085];_0x187f35['decRefCoun'+'t'](),_0x187f35['refCount']===-0x162a+0x3*0x69d+0x253&&(_0x4ff6b0['splice'](_0x5ce085,0x1*0xae5+0xebf+0x1*-0x19a3),_0x4ff6b0['length']||bs['_skinInsta'+'nceCache']['delete'](_0x4fbece),_0x546251&&(_0x546251['destroy'](),_0x187f35['skinInstan'+'ce']=null));}}}}}};c(bs,'_skinInsta'+'nceCache',new Map());let Vo=bs;class Go{constructor(_0x3b19d6,_0x4197fa,_0x2ba1d7,_0x579b0e,_0x4cc829){c(this,'_evtLoadBy'+'Id',null),c(this,'_evtUnload'+'ById',null),c(this,'_evtAddByI'+'d',null),c(this,'_evtRemove'+'ById',null),c(this,'_evtLoadBy'+'Url',null),c(this,'_evtAddByU'+'rl',null),c(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x3b19d6,this['parent']=_0x4197fa,this['_scope']=_0x4cc829,this['_registry']=_0x2ba1d7,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x579b0e['load'],this['_onAssetAd'+'d']=_0x579b0e['add'],this['_onAssetRe'+'move']=_0x579b0e['remove'],this['_onAssetUn'+'load']=_0x579b0e['unload']);}set['id'](_0x7c41d8){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x7c41d8,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x3c632a){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x3c632a,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x5701dc,_0x1d7be1,_0x582822,_0x9ad798,_0xa91d8c,_0x1c5662,_0x298f07;this['id']&&((_0x5701dc=this['_evtLoadBy'+'Id'])==null||_0x5701dc['off'](),this['_evtLoadBy'+'Id']=null,(_0x1d7be1=this['_evtAddByI'+'d'])==null||_0x1d7be1['off'](),this['_evtAddByI'+'d']=null,(_0x582822=this['_evtRemove'+'ById'])==null||_0x582822['off'](),this['_evtRemove'+'ById']=null,(_0x9ad798=this['_evtUnload'+'ById'])==null||_0x9ad798['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0xa91d8c=this['_evtLoadBy'+'Url'])==null||_0xa91d8c['off'](),this['_evtLoadBy'+'Url']=null,(_0x1c5662=this['_evtAddByU'+'rl'])==null||_0x1c5662['off'](),this['_evtAddByU'+'rl']=null,(_0x298f07=this['_evtRemove'+'ByUrl'])==null||_0x298f07['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x3685c5){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x3685c5);}['_onAdd'](_0x3156e5){this['asset']=_0x3156e5,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x3156e5);}['_onRemove'](_0x4df032){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x4df032),this['asset']=null;}['_onUnload'](_0x283bc3){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x283bc3);}}class fx extends ue{constructor(_0x2618d4,_0x411f59){super(_0x2618d4,_0x411f59),c(this,'_type','asset'),c(this,'_castShado'+'ws',!(0x24db+0x101e+-0x34f9)),c(this,'_receiveSh'+'adows',!(0x4e3+-0x216f+-0x32c*-0x9)),c(this,'_castShado'+'wsLightmap',!(-0x44*0x29+-0x88f+0x1373)),c(this,'_lightmapp'+'ed',!(0x813+0x1f5a+-0x276c)),c(this,'_lightmapS'+'izeMultipl'+'ier',-0xcc*-0x19+0x1*0x765+-0x1b50),c(this,'isStatic',!(0x40*0x6a+0x7fd+-0x227c)),c(this,'_batchGrou'+'pId',-(-0x13*0x1b6+0x24ad+-0x42a)),c(this,'_layers',[Fi]),c(this,'_renderSty'+'le',yo),c(this,'_meshInsta'+'nces',[]),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_assetRefe'+'rence'),c(this,'_materialR'+'eferences',[]),c(this,'_material'),c(this,'_rootBone',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x2618d4['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x2618d4['defaultMat'+'erial'],_0x411f59['on']('remove',this['onRemoveCh'+'ild'],this),_0x411f59['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x411f59['on']('insert',this['onInsertCh'+'ild'],this),_0x411f59['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x189578){this['_renderSty'+'le']!==_0x189578&&(this['_renderSty'+'le']=_0x189578,Le['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x189578));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0xb3aaa1){this['_customAab'+'b']=_0xb3aaa1;const _0x475efe=this['_meshInsta'+'nces'];if(_0x475efe){for(let _0x2f7ce6=-0xef2+0xb23*0x3+-0x1277;_0x2f7ce6<_0x475efe['length'];_0x2f7ce6++)_0x475efe[_0x2f7ce6]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x210324){if(this['_type']!==_0x210324&&(this['_area']=null,this['_type']=_0x210324,this['destroyMes'+'hInstances'](),_0x210324!=='asset')){let _0x17979d=this['_material'];(!_0x17979d||_0x17979d===this['system']['defaultMat'+'erial'])&&(_0x17979d=this['_materialR'+'eferences'][0x20c8+0x15b*0x2+-0x237e]&&this['_materialR'+'eferences'][-0xef*-0x23+0x1f5c+-0x61*0xa9]['asset']&&this['_materialR'+'eferences'][-0x122*0x16+0x1f57+-0x1*0x66b]['asset']['resource']);const _0x275291=cx(this['system']['app']['graphicsDe'+'vice'],_0x210324);this['_area']=_0x275291['area'],this['meshInstan'+'ces']=[new Le(_0x275291['mesh'],_0x17979d||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x4de295){if(v['assert'](Array['isArray'](_0x4de295),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x4de295,this['_meshInsta'+'nces']){const _0x348336=this['_meshInsta'+'nces'];for(let _0x5ec48f=0x1c57+-0x9d*-0xa+-0x2279*0x1;_0x5ec48f<_0x348336['length'];_0x5ec48f++)_0x348336[_0x5ec48f]['node']||(_0x348336[_0x5ec48f]['node']=this['entity']),_0x348336[_0x5ec48f]['castShadow']=this['_castShado'+'ws'],_0x348336[_0x5ec48f]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x348336[_0x5ec48f]['renderStyl'+'e']=this['_renderSty'+'le'],_0x348336[_0x5ec48f]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x348336[_0x5ec48f]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x116a1e){if(_0x116a1e!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x116a1e;const _0x5df943=this['_meshInsta'+'nces'];if(_0x5df943){for(let _0x110306=0x1fe4+0x2081+0x1d7*-0x23;_0x110306<_0x5df943['length'];_0x110306++)_0x5df943[_0x110306]['setLightma'+'pped'](_0x116a1e);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x35d02a){if(this['_castShado'+'ws']!==_0x35d02a){const _0x258d74=this['_meshInsta'+'nces'];if(_0x258d74){const _0x2b767c=this['layers'],_0x10700f=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x35d02a)for(let _0x243532=-0x1eb0+-0x1726+0x6*0x8f9;_0x243532<_0x2b767c['length'];_0x243532++){const _0x930b7b=_0x10700f['layers']['getLayerBy'+'Id'](this['layers'][_0x243532]);_0x930b7b&&_0x930b7b['removeShad'+'owCasters'](_0x258d74);}for(let _0x59718d=-0x1ec3+-0x5*-0x2e9+0x1036;_0x59718d<_0x258d74['length'];_0x59718d++)_0x258d74[_0x59718d]['castShadow']=_0x35d02a;if(!this['_castShado'+'ws']&&_0x35d02a)for(let _0x332f9e=0x5d+0x7a6+-0x803;_0x332f9e<_0x2b767c['length'];_0x332f9e++){const _0xad3400=_0x10700f['layers']['getLayerBy'+'Id'](_0x2b767c[_0x332f9e]);_0xad3400&&_0xad3400['addShadowC'+'asters'](_0x258d74);}}this['_castShado'+'ws']=_0x35d02a;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x43be6e){if(this['_receiveSh'+'adows']!==_0x43be6e){this['_receiveSh'+'adows']=_0x43be6e;const _0x292d75=this['_meshInsta'+'nces'];if(_0x292d75){for(let _0x584811=-0x22d*-0x1+0x10b*-0x1d+0x1c12;_0x584811<_0x292d75['length'];_0x584811++)_0x292d75[_0x584811]['receiveSha'+'dow']=_0x43be6e;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x31ef4a){this['_castShado'+'wsLightmap']=_0x31ef4a;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x5d946f){this['_lightmapS'+'izeMultipl'+'ier']=_0x5d946f;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x123218){const _0x417293=this['system']['app']['scene']['layers'];let _0x26a16a;if(this['_meshInsta'+'nces']){for(let _0xfad96f=-0x8*0xd+0xf8a+-0xf22;_0xfad96f<this['_layers']['length'];_0xfad96f++)_0x26a16a=_0x417293['getLayerBy'+'Id'](this['_layers'][_0xfad96f]),_0x26a16a&&_0x26a16a['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=-0x1594+-0x4cf+0x1a63;for(let _0x2e18d0=0x1fa8+0x13*0x108+-0x3340;_0x2e18d0<_0x123218['length'];_0x2e18d0++)this['_layers'][_0x2e18d0]=_0x123218[_0x2e18d0];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x5dc8dd=-0x4f*0x12+0x1758+-0x11ca;_0x5dc8dd<this['_layers']['length'];_0x5dc8dd++)_0x26a16a=_0x417293['getLayerBy'+'Id'](this['_layers'][_0x5dc8dd]),_0x26a16a&&_0x26a16a['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x2d5edd){var _0x474a1a,_0x916bf8;this['_batchGrou'+'pId']!==_0x2d5edd&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x4*0x755+0x1673+-0x1*0x33c7&&((_0x474a1a=this['system']['app']['batcher'])==null||_0x474a1a['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x2d5edd>=-0x191a+-0x259+0x1b73&&((_0x916bf8=this['system']['app']['batcher'])==null||_0x916bf8['insert'](et['RENDER'],_0x2d5edd,this['entity'])),_0x2d5edd<0x19f6*-0x1+0x1c40+-0x24a*0x1&&this['_batchGrou'+'pId']>=0x20d9+0x139*0x1b+-0x1e*0x232&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x2d5edd);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0xb47d22){if(this['_material']!==_0xb47d22&&(this['_material']=_0xb47d22,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x726b20=0x4e9*-0x1+0x177b+-0x1292;_0x726b20<this['_meshInsta'+'nces']['length'];_0x726b20++)this['_meshInsta'+'nces'][_0x726b20]['material']=_0xb47d22;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x11fd4d=[]){if(this['_materialR'+'eferences']['length']>_0x11fd4d['length']){for(let _0x53ccd0=_0x11fd4d['length'];_0x53ccd0<this['_materialR'+'eferences']['length'];_0x53ccd0++)this['_materialR'+'eferences'][_0x53ccd0]['id']=null;this['_materialR'+'eferences']['length']=_0x11fd4d['length'];}for(let _0xec0f2c=0x26da+-0x221f+0xad*-0x7;_0xec0f2c<_0x11fd4d['length'];_0xec0f2c++)if(this['_materialR'+'eferences'][_0xec0f2c]||this['_materialR'+'eferences']['push'](new Go(_0xec0f2c,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x11fd4d[_0xec0f2c]){const _0x423ade=_0x11fd4d[_0xec0f2c]instanceof le?_0x11fd4d[_0xec0f2c]['id']:_0x11fd4d[_0xec0f2c];this['_materialR'+'eferences'][_0xec0f2c]['id']!==_0x423ade&&(this['_materialR'+'eferences'][_0xec0f2c]['id']=_0x423ade),this['_materialR'+'eferences'][_0xec0f2c]['asset']&&this['_onMateria'+'lAdded'](_0xec0f2c,this,this['_materialR'+'eferences'][_0xec0f2c]['asset']);}else this['_materialR'+'eferences'][_0xec0f2c]['id']=null,this['_meshInsta'+'nces'][_0xec0f2c]&&(this['_meshInsta'+'nces'][_0xec0f2c]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x407dd9=>_0x407dd9['id']);}set['asset'](_0x3694ac){const _0x15ca9b=_0x3694ac instanceof le?_0x3694ac['id']:_0x3694ac;this['_assetRefe'+'rence']['id']!==_0x15ca9b&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x15ca9b,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x50e5bd){const _0x3f6f5b=_0x50e5bd instanceof le?_0x50e5bd['id']:_0x50e5bd;this['_assetRefe'+'rence']['id']=_0x3f6f5b;}set['rootBone'](_0x1d3900){if(this['_rootBone']!==_0x1d3900){const _0x55b246=typeof _0x1d3900=='string';if(this['_rootBone']&&_0x55b246&&this['_rootBone']['getGuid']()===_0x1d3900)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x1d3900 instanceof De?this['_rootBone']=_0x1d3900:_0x55b246?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x1d3900)||null,this['_rootBone']||v['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x3bae36=this['_meshInsta'+'nces'];if(_0x3bae36){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x1c46ec=0x1dd4+-0x371*0x3+-0x1*0x1381;_0x1c46ec<_0x3bae36['length'];_0x1c46ec++)_0x3bae36[_0x1c46ec]['destroy']();this['_meshInsta'+'nces']['length']=0x8a5*0x4+-0x232*-0x1+0x3*-0xc42;}}['addToLayer'+'s'](){const _0x3b8b86=this['system']['app']['scene']['layers'];for(let _0x71630b=0x2519*-0x1+0xd*-0x6a+0x91*0x4b;_0x71630b<this['_layers']['length'];_0x71630b++){const _0x2cfa95=_0x3b8b86['getLayerBy'+'Id'](this['_layers'][_0x71630b]);_0x2cfa95&&_0x2cfa95['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x41561b=this['system']['app']['scene']['layers'];for(let _0x273bc8=0x1*0xd21+0x176c+-0x248d;_0x273bc8<this['_layers']['length'];_0x273bc8++){const _0x4e1f48=_0x41561b['getLayerBy'+'Id'](this['_layers'][_0x273bc8]);_0x4e1f48&&_0x4e1f48['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x26b234=0x1ec2+0x208f+-0x151b*0x3;_0x26b234<this['_materialR'+'eferences']['length'];_0x26b234++)this['_materialR'+'eferences'][_0x26b234]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x25c254,_0x294b49){this['addToLayer'+'s'](),_0x25c254['off']('add',this['onLayerAdd'+'ed'],this),_0x25c254['off']('remove',this['onLayerRem'+'oved'],this),_0x294b49['on']('add',this['onLayerAdd'+'ed'],this),_0x294b49['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x3d6c8b){this['layers']['indexOf'](_0x3d6c8b['id'])<0x13f*0xb+-0x32*-0xc2+-0x3399||_0x3d6c8b['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x391b5e){this['layers']['indexOf'](_0x391b5e['id'])<0x14f8+-0xb*-0x2dd+0xb*-0x4c5||_0x391b5e['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x46c17a;const _0x388504=this['system']['app'],_0x592388=_0x388504['scene'],_0x1d157b=_0x592388['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x592388['on']('set:layers',this['onLayersCh'+'anged'],this),_0x1d157b&&(this['_evtLayerA'+'dded']=_0x1d157b['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x1d157b['on']('remove',this['onLayerRem'+'oved'],this));const _0x5db94b=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x5db94b&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x5aa274=-0x16e4+0x453+0x1291;_0x5aa274<this['_materialR'+'eferences']['length'];_0x5aa274++)this['_materialR'+'eferences'][_0x5aa274]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x5aa274]['asset']);this['_batchGrou'+'pId']>=0x1f1b+-0x7*0x1e3+-0x1d*0x9e&&((_0x46c17a=_0x388504['batcher'])==null||_0x46c17a['insert'](et['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x323c54,_0x2772f7,_0x3191ca,_0x1fd0c1;const _0x55b8b2=this['system']['app'],_0x58770a=_0x55b8b2['scene']['layers'];(_0x323c54=this['_evtLayers'+'Changed'])==null||_0x323c54['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x58770a&&((_0x2772f7=this['_evtLayerA'+'dded'])==null||_0x2772f7['off'](),this['_evtLayerA'+'dded']=null,(_0x3191ca=this['_evtLayerR'+'emoved'])==null||_0x3191ca['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x2*0xd77+0x231d*0x1+0x1*-0x3e0b&&((_0x1fd0c1=_0x55b8b2['batcher'])==null||_0x1fd0c1['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x5b3c38=-0x20ca*-0x1+-0x67d+-0x1*0x1a4d;_0x5b3c38<this['_meshInsta'+'nces']['length'];_0x5b3c38++)this['_meshInsta'+'nces'][_0x5b3c38]['visible']=!(-0x2377+-0x1*0x83f+0x2bb7);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x139f88=-0x237c+-0x48b+0x1*0x2807;_0x139f88<this['_meshInsta'+'nces']['length'];_0x139f88++)this['_meshInsta'+'nces'][_0x139f88]['visible']=!(0x23*0x9f+0x1*0x2652+0x29*-0x177);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x241531;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x3a77c8=this['_assetRefe'+'rence']['asset']['resource'];(_0x241531=this['_evtSetMes'+'hes'])==null||_0x241531['off'](),this['_evtSetMes'+'hes']=_0x3a77c8['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x3a77c8['meshes']&&this['_onSetMesh'+'es'](_0x3a77c8['meshes']);}}['_onSetMesh'+'es'](_0x21f26e){this['_cloneMesh'+'es'](_0x21f26e);}['_clearSkin'+'Instances'](){for(let _0x933cf=0x3d7*0x7+-0x3e*0x10+-0x1701*0x1;_0x933cf<this['_meshInsta'+'nces']['length'];_0x933cf++){const _0x4ac19c=this['_meshInsta'+'nces'][_0x933cf];Vo['removeCach'+'edSkinInst'+'ance'](_0x4ac19c['skinInstan'+'ce']),_0x4ac19c['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof De)for(let _0x3aaada=-0x115*-0x23+-0xc2c*0x3+-0x15b*0x1;_0x3aaada<this['_meshInsta'+'nces']['length'];_0x3aaada++){const _0x4c25a1=this['_meshInsta'+'nces'][_0x3aaada],_0x973d61=_0x4c25a1['mesh'];_0x973d61['skin']&&!_0x4c25a1['skinInstan'+'ce']&&(_0x4c25a1['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x973d61['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x3d0bfb){if(_0x3d0bfb&&_0x3d0bfb['length']){const _0x417adb=[];for(let _0x5eb609=-0xe7e+0x23a6+-0x1528;_0x5eb609<_0x3d0bfb['length'];_0x5eb609++){const _0x1b25c9=_0x3d0bfb[_0x5eb609],_0x1d33b0=this['_materialR'+'eferences'][_0x5eb609]&&this['_materialR'+'eferences'][_0x5eb609]['asset']&&this['_materialR'+'eferences'][_0x5eb609]['asset']['resource'],_0xa1d7b2=new Le(_0x1b25c9,_0x1d33b0||this['system']['defaultMat'+'erial'],this['entity']);_0x417adb['push'](_0xa1d7b2),_0x1b25c9['morph']&&(_0xa1d7b2['morphInsta'+'nce']=new fn(_0x1b25c9['morph']));}this['meshInstan'+'ces']=_0x417adb,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x59437e;(_0x59437e=this['_evtSetMes'+'hes'])==null||_0x59437e['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0xa8047a,_0x36db19,_0xdec694){_0xdec694['resource']?this['_onMateria'+'lLoad'](_0xa8047a,_0x36db19,_0xdec694):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0xdec694);}['_updateMai'+'nMaterial'](_0x4ed6c0,_0x1548b9){_0x4ed6c0===0xb8c+-0x1069*0x1+0x4dd&&(this['material']=_0x1548b9);}['_onMateria'+'lLoad'](_0x5d76e5,_0x3cf5a3,_0x1ef96b){this['_meshInsta'+'nces'][_0x5d76e5]&&(this['_meshInsta'+'nces'][_0x5d76e5]['material']=_0x1ef96b['resource']),this['_updateMai'+'nMaterial'](_0x5d76e5,_0x1ef96b['resource']);}['_onMateria'+'lRemove'](_0xa396e1,_0x2cca79,_0x3a8bb2){this['_meshInsta'+'nces'][_0xa396e1]&&(this['_meshInsta'+'nces'][_0xa396e1]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0xa396e1,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x4fbc83,_0x19d68f,_0x186d42){this['_meshInsta'+'nces'][_0x4fbc83]&&(this['_meshInsta'+'nces'][_0x4fbc83]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x4fbc83,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x50d2bc,_0x50daff){_0x50d2bc['rootBone']&&(this['rootBone']=_0x50daff[_0x50d2bc['rootBone']['getGuid']()]);}}class uI{constructor(){this['enabled']=!(0x6be+-0x94a+0x28c);}}const pf=['enabled'],Mr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class fI extends Xe{constructor(_0x32aca9){super(_0x32aca9),this['id']='render',this['ComponentT'+'ype']=fx,this['DataType']=uI,this['schema']=pf,this['defaultMat'+'erial']=al(_0x32aca9['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x41096e,_0x4d493d,_0x28507d){(_0x4d493d['batchGroup'+'Id']===null||_0x4d493d['batchGroup'+'Id']===void(0x1e4c+0x21df+-0x402b))&&(_0x4d493d['batchGroup'+'Id']=-(0x41d*0x3+-0x23eb+0x1795*0x1)),_0x4d493d['layers']&&_0x4d493d['layers']['length']&&(_0x4d493d['layers']=_0x4d493d['layers']['slice'](-0x46b+-0x1*-0x114a+-0xcdf));for(let _0x6743ec=0xadd+0xb72+-0x164f;_0x6743ec<Mr['length'];_0x6743ec++)_0x4d493d['hasOwnProp'+'erty'](Mr[_0x6743ec])&&(_0x41096e[Mr[_0x6743ec]]=_0x4d493d[Mr[_0x6743ec]]);_0x4d493d['aabbCenter']&&_0x4d493d['aabbHalfEx'+'tents']&&(_0x41096e['customAabb']=new _e(new T(_0x4d493d['aabbCenter']),new T(_0x4d493d['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x41096e,_0x4d493d,pf);}['cloneCompo'+'nent'](_0x2c4c34,_0x4406ce){const _0x34ca8f={};for(let _0x117bb8=0x868*-0x3+0x131*0x7+0x10e1;_0x117bb8<Mr['length'];_0x117bb8++)_0x34ca8f[Mr[_0x117bb8]]=_0x2c4c34['render'][Mr[_0x117bb8]];_0x34ca8f['enabled']=_0x2c4c34['render']['enabled'],delete _0x34ca8f['meshInstan'+'ces'];const _0x2092e9=this['addCompone'+'nt'](_0x4406ce,_0x34ca8f),_0x342f61=_0x2c4c34['render']['meshInstan'+'ces'],_0x542d40=_0x342f61['map'](_0x2c6257=>_0x2c6257['mesh']);_0x2092e9['_onSetMesh'+'es'](_0x542d40);for(let _0x24de2d=-0x25d+-0x141b+0x1678;_0x24de2d<_0x342f61['length'];_0x24de2d++)_0x2092e9['meshInstan'+'ces'][_0x24de2d]['material']=_0x342f61[_0x24de2d]['material'];return _0x2c4c34['render']['customAabb']&&(_0x2092e9['customAabb']=_0x2c4c34['render']['customAabb']['clone']()),_0x2092e9;}['onRemove'](_0x11d478,_0x179483){_0x179483['onRemove']();}}ue['_buildAcce'+'ssors'](fx['prototype'],pf);class Zd{constructor(_0x319b8d,_0xd722f1){c(this,'_construct'+'or'),c(this,'_pool',[]),c(this,'_count',0x9*-0x251+0x16c+0x136d*0x1),(this['_construct'+'or']=_0x319b8d,this['_resize'](_0xd722f1));}['_resize'](_0x3a9d71){if(_0x3a9d71>this['_pool']['length']){for(let _0x47022e=this['_pool']['length'];_0x47022e<_0x3a9d71;_0x47022e++)this['_pool'][_0x47022e]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(-0x2236+-0xd*-0x129+0x1323)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=-0x4*0x303+-0x1685+0x2291*0x1;}}let Vt,xe,gs,Wn;const pI=new se(),mI=new se(),Ql=new T();class Ws extends ue{constructor(){super(...arguments),c(this,'_angularDa'+'mping',0x130d+0xb*0x32+-0x1533),c(this,'_angularFa'+'ctor',new T(0xd3b+-0x1dd*-0x8+-0xd*0x22a,0x1*-0xb65+0xd9a+-0x234,0x2*-0x6e0+-0x83b+-0x54*-0x43)),c(this,'_angularVe'+'locity',new T()),c(this,'_body',null),c(this,'_friction',0x11f8+0x1a13+-0xb*0x401+0.5),c(this,'_group',og),c(this,'_linearDam'+'ping',0x2573+-0x1dad*-0x1+-0x4320),c(this,'_linearFac'+'tor',new T(0x34*-0xa3+-0x1da5+0x3a*0x115,0x3f8*-0x1+-0xb*-0x176+-0xc19,-0x5cb*-0x6+-0x73f*-0x5+-0x46fc)),c(this,'_linearVel'+'ocity',new T()),c(this,'_mask',af),c(this,'_mass',-0xd78+-0x1795*-0x1+-0xa1c),c(this,'_restituti'+'on',-0x9b*-0x29+-0x114d+-0x786),c(this,'_rollingFr'+'iction',-0x4*0x8dc+0x1b9f+0x45*0x1d),c(this,'_simulatio'+'nEnabled',!(-0xd78+0xb67*-0x3+-0x17d7*-0x2)),c(this,'_type',so);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(Vt=new Ammo['btTransfor'+'m'](),xe=new Ammo['btVector3'](),gs=new Ammo['btVector3'](),Wn=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](Vt),Ammo['destroy'](xe),Ammo['destroy'](gs),Ammo['destroy'](Wn),Vt=null,xe=null,gs=null,Wn=null;}set['angularDam'+'ping'](_0x18717f){this['_angularDa'+'mping']!==_0x18717f&&(this['_angularDa'+'mping']=_0x18717f,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x18717f));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x2c1030){this['_angularFa'+'ctor']['equals'](_0x2c1030)||(this['_angularFa'+'ctor']['copy'](_0x2c1030),this['_body']&&this['_type']===ms&&(xe['setValue'](_0x2c1030['x'],_0x2c1030['y'],_0x2c1030['z']),this['_body']['setAngular'+'Factor'](xe)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x213f40){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x213f40['x'],_0x213f40['y'],_0x213f40['z']),this['_body']['setAngular'+'Velocity'](xe),this['_angularVe'+'locity']['copy'](_0x213f40));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ms){const _0x3f5678=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x3f5678['x'](),_0x3f5678['y'](),_0x3f5678['z']());}return this['_angularVe'+'locity'];}set['body'](_0x11a93d){this['_body']!==_0x11a93d&&(this['_body']=_0x11a93d,_0x11a93d&&this['_simulatio'+'nEnabled']&&_0x11a93d['activate']());}get['body'](){return this['_body'];}set['friction'](_0x4c5af8){this['_friction']!==_0x4c5af8&&(this['_friction']=_0x4c5af8,this['_body']&&this['_body']['setFrictio'+'n'](_0x4c5af8));}get['friction'](){return this['_friction'];}set['group'](_0x495ecb){this['_group']!==_0x495ecb&&(this['_group']=_0x495ecb,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x1153f8){this['_linearDam'+'ping']!==_0x1153f8&&(this['_linearDam'+'ping']=_0x1153f8,this['_body']&&this['_body']['setDamping'](_0x1153f8,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x2a416a){this['_linearFac'+'tor']['equals'](_0x2a416a)||(this['_linearFac'+'tor']['copy'](_0x2a416a),this['_body']&&this['_type']===ms&&(xe['setValue'](_0x2a416a['x'],_0x2a416a['y'],_0x2a416a['z']),this['_body']['setLinearF'+'actor'](xe)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x1a93b5){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x1a93b5['x'],_0x1a93b5['y'],_0x1a93b5['z']),this['_body']['setLinearV'+'elocity'](xe),this['_linearVel'+'ocity']['copy'](_0x1a93b5));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ms){const _0x5b88d9=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x5b88d9['x'](),_0x5b88d9['y'](),_0x5b88d9['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x1239bf){this['_mask']!==_0x1239bf&&(this['_mask']=_0x1239bf,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x3ea47f){if(this['_mass']!==_0x3ea47f&&(this['_mass']=_0x3ea47f,this['_body']&&this['_type']===ms)){const _0x5e089b=this['enabled']&&this['entity']['enabled'];_0x5e089b&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x3ea47f,xe),this['_body']['setMassPro'+'ps'](_0x3ea47f,xe),this['_body']['updateIner'+'tiaTensor'](),_0x5e089b&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x3b202b){this['_restituti'+'on']!==_0x3b202b&&(this['_restituti'+'on']=_0x3b202b,this['_body']&&this['_body']['setRestitu'+'tion'](_0x3b202b));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x5d38d1){this['_rollingFr'+'iction']!==_0x5d38d1&&(this['_rollingFr'+'iction']=_0x5d38d1,this['_body']&&this['_body']['setRolling'+'Friction'](_0x5d38d1));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x1a39bd){if(this['_type']!==_0x1a39bd){switch(this['_type']=_0x1a39bd,this['disableSim'+'ulation'](),_0x1a39bd){case ms:this['_group']=tR,this['_mask']=hg;break;case Bn:this['_group']=sR,this['_mask']=hg;break;case so:default:this['_group']=og,this['_mask']=af;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x5a45b6=this['entity'];let _0x1d99c6;if(_0x5a45b6['collision']&&(_0x1d99c6=_0x5a45b6['collision']['shape'],_0x5a45b6['trigger']&&(_0x5a45b6['trigger']['destroy'](),delete _0x5a45b6['trigger'])),_0x1d99c6){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x4e7562=this['_type']===ms?this['_mass']:0x67f*0x5+-0x248e+0x413;this['_getEntity'+'Transform'](Vt);const _0x28d495=this['system']['createBody'](_0x4e7562,_0x1d99c6,Vt);if(_0x28d495['setRestitu'+'tion'](this['_restituti'+'on']),_0x28d495['setFrictio'+'n'](this['_friction']),_0x28d495['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x28d495['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ms){const _0xe978a2=this['_linearFac'+'tor'];xe['setValue'](_0xe978a2['x'],_0xe978a2['y'],_0xe978a2['z']),_0x28d495['setLinearF'+'actor'](xe);const _0x50c469=this['_angularFa'+'ctor'];xe['setValue'](_0x50c469['x'],_0x50c469['y'],_0x50c469['z']),_0x28d495['setAngular'+'Factor'](xe);}else this['_type']===Bn&&(_0x28d495['setCollisi'+'onFlags'](_0x28d495['getCollisi'+'onFlags']()|eR),_0x28d495['setActivat'+'ionState'](ag));_0x28d495['entity']=_0x5a45b6,this['body']=_0x28d495,this['enabled']&&_0x5a45b6['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(0x2476+0xaf5+-0x2f6a);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x21d8bd=this['entity'];if(_0x21d8bd['collision']&&_0x21d8bd['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x334735=this['_body'];if(_0x334735){switch(this['system']['addBody'](_0x334735,this['_group'],this['_mask']),this['_type']){case ms:this['system']['_dynamic']['push'](this),_0x334735['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;case Bn:this['system']['_kinematic']['push'](this),_0x334735['forceActiv'+'ationState'](ag);break;case so:_0x334735['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;}_0x21d8bd['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x21d8bd['collision']),_0x334735['activate'](),this['_simulatio'+'nEnabled']=!(-0x20cd+-0x1877+0x1*0x3944);}}}['disableSim'+'ulation'](){const _0x35a403=this['_body'];if(_0x35a403&&this['_simulatio'+'nEnabled']){const _0x137a51=this['system'];let _0xfc8cdd=_0x137a51['_compounds']['indexOf'](this['entity']['collision']);_0xfc8cdd>-(0xa*0x12d+0xc93*-0x1+0xd2)&&_0x137a51['_compounds']['splice'](_0xfc8cdd,-0x1a51+-0x2528+0x3f7a),_0xfc8cdd=_0x137a51['_dynamic']['indexOf'](this),_0xfc8cdd>-(-0x1803+-0xa*0xd2+-0x80e*-0x4)&&_0x137a51['_dynamic']['splice'](_0xfc8cdd,-0x339+0x5*-0x116+0x8a8),_0xfc8cdd=_0x137a51['_kinematic']['indexOf'](this),_0xfc8cdd>-(-0x3b*-0x70+0x107*0x19+-0x3*0x112a)&&_0x137a51['_kinematic']['splice'](_0xfc8cdd,-0x3*0x3db+-0x2bb*-0x9+-0xd01),_0x137a51['removeBody'](_0x35a403),_0x35a403['forceActiv'+'ationState'](tx),this['_simulatio'+'nEnabled']=!(-0x15cf+-0x28+-0x1*-0x15f8);}}['applyForce'](_0x56824d,_0x15a474,_0x50e79b,_0x3349a4,_0x230147,_0x140975){const _0x249944=this['_body'];_0x249944&&(_0x249944['activate'](),_0x56824d instanceof T?xe['setValue'](_0x56824d['x'],_0x56824d['y'],_0x56824d['z']):xe['setValue'](_0x56824d,_0x15a474,_0x50e79b),_0x15a474 instanceof T?gs['setValue'](_0x15a474['x'],_0x15a474['y'],_0x15a474['z']):_0x3349a4!==void(0xca2+0x3*-0x615+-0x1*-0x59d)?gs['setValue'](_0x3349a4,_0x230147,_0x140975):gs['setValue'](-0x1416+0x6*0xef+0xce*0x12,0x36+0x453+-0x2b*0x1b,0x1*-0x1471+-0x2cd*-0x9+0xf4*-0x5),_0x249944['applyForce'](xe,gs));}['applyTorqu'+'e'](_0x4c8de6,_0x5b08c0,_0x1a197e){const _0xb711a5=this['_body'];_0xb711a5&&(_0xb711a5['activate'](),_0x4c8de6 instanceof T?xe['setValue'](_0x4c8de6['x'],_0x4c8de6['y'],_0x4c8de6['z']):xe['setValue'](_0x4c8de6,_0x5b08c0,_0x1a197e),_0xb711a5['applyTorqu'+'e'](xe));}['applyImpul'+'se'](_0x276252,_0x371725,_0xd2764f,_0x4c9b34,_0x5b9ca4,_0x29e47c){const _0x1e5421=this['_body'];_0x1e5421&&(_0x1e5421['activate'](),_0x276252 instanceof T?xe['setValue'](_0x276252['x'],_0x276252['y'],_0x276252['z']):xe['setValue'](_0x276252,_0x371725,_0xd2764f),_0x371725 instanceof T?gs['setValue'](_0x371725['x'],_0x371725['y'],_0x371725['z']):_0x4c9b34!==void(0x482*0x4+-0x1d*0x79+0x453*-0x1)?gs['setValue'](_0x4c9b34,_0x5b9ca4,_0x29e47c):gs['setValue'](-0x306*0x8+-0x930+-0x1*-0x2160,-0x1*-0xab5+-0x1cc8+-0x295*-0x7,0x2666+0x1*-0x1b91+-0xad5),_0x1e5421['applyImpul'+'se'](xe,gs));}['applyTorqu'+'eImpulse'](_0x827960,_0x533738,_0x22e93d){const _0x46220e=this['_body'];_0x46220e&&(_0x46220e['activate'](),_0x827960 instanceof T?xe['setValue'](_0x827960['x'],_0x827960['y'],_0x827960['z']):xe['setValue'](_0x827960,_0x533738,_0x22e93d),_0x46220e['applyTorqu'+'eImpulse'](xe));}['isStatic'](){return this['_type']===so;}['isStaticOr'+'Kinematic'](){return this['_type']===so||this['_type']===Bn;}['isKinemati'+'c'](){return this['_type']===Bn;}['_getEntity'+'Transform'](_0x3874fb){const _0x24f898=this['entity'],_0x1bc720=_0x24f898['collision'];if(_0x1bc720){const _0xb95979=_0x1bc720['getShapePo'+'sition'](),_0x3b14ae=_0x1bc720['getShapeRo'+'tation']();xe['setValue'](_0xb95979['x'],_0xb95979['y'],_0xb95979['z']),Wn['setValue'](_0x3b14ae['x'],_0x3b14ae['y'],_0x3b14ae['z'],_0x3b14ae['w']);}else{const _0x259b08=_0x24f898['getPositio'+'n'](),_0x5cfb4d=_0x24f898['getRotatio'+'n']();xe['setValue'](_0x259b08['x'],_0x259b08['y'],_0x259b08['z']),Wn['setValue'](_0x5cfb4d['x'],_0x5cfb4d['y'],_0x5cfb4d['z'],_0x5cfb4d['w']);}_0x3874fb['setOrigin'](xe),_0x3874fb['setRotatio'+'n'](Wn);}['syncEntity'+'ToBody'](){const _0x5ba24a=this['_body'];if(_0x5ba24a){if(this['_getEntity'+'Transform'](Vt),_0x5ba24a['setWorldTr'+'ansform'](Vt),this['_type']===Bn){const _0x2d9b8d=_0x5ba24a['getMotionS'+'tate']();_0x2d9b8d&&_0x2d9b8d['setWorldTr'+'ansform'](Vt);}_0x5ba24a['activate']();}}['_updateDyn'+'amic'](){const _0x23d62f=this['_body'];if(_0x23d62f['isActive']()){const _0x8ddc90=_0x23d62f['getMotionS'+'tate']();if(_0x8ddc90){const _0x5ef536=this['entity'];_0x8ddc90['getWorldTr'+'ansform'](Vt);const _0x3c323a=Vt['getOrigin'](),_0x162eaa=Vt['getRotatio'+'n'](),_0x23147c=_0x5ef536['collision'];if(_0x23147c&&_0x23147c['_hasOffset']){const _0x3a74d8=_0x23147c['data']['linearOffs'+'et'],_0x1ef422=_0x23147c['data']['angularOff'+'set'],_0x314fdd=mI['copy'](_0x1ef422)['invert'](),_0x418e3b=pI['set'](_0x162eaa['x'](),_0x162eaa['y'](),_0x162eaa['z'](),_0x162eaa['w']())['mul'](_0x314fdd);_0x418e3b['transformV'+'ector'](_0x3a74d8,Ql),_0x5ef536['setPositio'+'n'](_0x3c323a['x']()-Ql['x'],_0x3c323a['y']()-Ql['y'],_0x3c323a['z']()-Ql['z']),_0x5ef536['setRotatio'+'n'](_0x418e3b);}else _0x5ef536['setPositio'+'n'](_0x3c323a['x'](),_0x3c323a['y'](),_0x3c323a['z']()),_0x5ef536['setRotatio'+'n'](_0x162eaa['x'](),_0x162eaa['y'](),_0x162eaa['z'](),_0x162eaa['w']());}}}['_updateKin'+'ematic'](){const _0x33f343=this['_body']['getMotionS'+'tate']();_0x33f343&&(this['_getEntity'+'Transform'](Vt),_0x33f343['setWorldTr'+'ansform'](Vt));}['teleport'](_0x1b9f5d,_0x39447b,_0x56d255,_0x8e5301,_0x3c2088,_0x295604){_0x1b9f5d instanceof T?this['entity']['setPositio'+'n'](_0x1b9f5d):this['entity']['setPositio'+'n'](_0x1b9f5d,_0x39447b,_0x56d255),_0x39447b instanceof se?this['entity']['setRotatio'+'n'](_0x39447b):_0x39447b instanceof T?this['entity']['setEulerAn'+'gles'](_0x39447b):_0x8e5301!==void(-0x2539+0xd05*0x2+0x7*0x199)&&this['entity']['setEulerAn'+'gles'](_0x8e5301,_0x3c2088,_0x295604),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}c(Ws,'EVENT_CONT'+'ACT','contact'),c(Ws,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Ws,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Ws,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Ws,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),c(Ws,'order',-(0x18f5*-0x1+-0x123c+0x2b32));class _I{constructor(){this['enabled']=!(-0xf5*-0x25+0x238d+-0x46f6);}}let ai,oi;class xg{constructor(_0x1b4ca8,_0x2e5771,_0x2a8f6e,_0x3dc081){c(this,'entity'),c(this,'point'),c(this,'normal'),c(this,'hitFractio'+'n'),(this['entity']=_0x1b4ca8,this['point']=_0x2e5771,this['normal']=_0x2a8f6e,this['hitFractio'+'n']=_0x3dc081);}}class gI{constructor(_0x562980,_0x50f1b6,_0x4b21c3){c(this,'a'),c(this,'b'),c(this,'impulse'),c(this,'localPoint'+'A'),c(this,'localPoint'+'B'),c(this,'pointA'),c(this,'pointB'),c(this,'normal'),arguments['length']!==-0x1fbc+0x9*0x293+0x891?(this['a']=_0x562980,this['b']=_0x50f1b6,this['impulse']=_0x4b21c3['impulse'],this['localPoint'+'A']=_0x4b21c3['localPoint'],this['localPoint'+'B']=_0x4b21c3['localPoint'+'Other'],this['pointA']=_0x4b21c3['point'],this['pointB']=_0x4b21c3['pointOther'],this['normal']=_0x4b21c3['normal']):(this['a']=null,this['b']=null,this['impulse']=0xcfe+-0x6b9*0x5+0x149f*0x1,this['localPoint'+'A']=new T(),this['localPoint'+'B']=new T(),this['pointA']=new T(),this['pointB']=new T(),this['normal']=new T());}}class yI{constructor(_0x4e569f=new T(),_0x3c1663=new T(),_0x39c4f1=new T(),_0x1ed1b5=new T(),_0x3d7fc4=new T(),_0xdb431c=-0xc5b+0x67*-0x10+0x12cb){c(this,'localPoint'),c(this,'localPoint'+'Other'),c(this,'point'),c(this,'pointOther'),c(this,'normal'),c(this,'impulse'),(this['localPoint']=_0x4e569f,this['localPoint'+'Other']=_0x3c1663,this['point']=_0x39c4f1,this['pointOther']=_0x1ed1b5,this['normal']=_0x3d7fc4,this['impulse']=_0xdb431c);}}class xI{constructor(_0x3cd153,_0x4937cf){c(this,'other'),c(this,'contacts'),(this['other']=_0x3cd153,this['contacts']=_0x4937cf);}}const px=['enabled'];class mx extends Xe{constructor(_0x5169ea){super(_0x5169ea),c(this,'maxSubStep'+'s',-0x1d7e+-0x3*0x10b+0x20a9*0x1),c(this,'fixedTimeS'+'tep',(0x23ca+0x2a4*0x1+-0x266d)/(-0x8a4+0x841+0x1*0x9f)),c(this,'gravity',new T(0x177b+-0x19*0x2e+-0x12fd,-(-0xd4f*-0x1+-0x144d*0x1+-0x707*-0x1+0.8100000000000005),-0x2d0+-0x814+-0x1*-0xae4)),c(this,'_gravityFl'+'oat32',new Float32Array(0x1a39+0x109*0x9+-0x2387)),c(this,'_dynamic',[]),c(this,'_kinematic',[]),c(this,'_triggers',[]),c(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x5169ea['stats']['frame'],this['ComponentT'+'ype']=Ws,this['DataType']=_I,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=px,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x4cb0f2=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x4cb0f2);}else v['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');ai=new Ammo['btVector3'](),oi=new Ammo['btVector3'](),Ws['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new Zd(yI,-0x97d+-0x45a+-0x1bb*-0x8),this['contactRes'+'ultPool']=new Zd(xI,-0x2*0xe0e+-0xd7*-0x1+0x2*0xda3),this['singleCont'+'actResultP'+'ool']=new Zd(gI,0xdc*0x27+0x416+0x1*-0x2599),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x429379,_0x10be10,_0xbb02a1){const _0x8870c9=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x23b628 of _0x8870c9)if(_0x10be10['hasOwnProp'+'erty'](_0x23b628)){const _0x4ea812=_0x10be10[_0x23b628];Array['isArray'](_0x4ea812)?_0x429379[_0x23b628]=new T(_0x4ea812[0x2*0xc6d+0x991*0x3+0x1*-0x358d],_0x4ea812[0x1b*0x6b+-0x1*-0xc88+-0x4*0x5f4],_0x4ea812[0x4a*0x77+0x1873+-0x3*0x139d]):_0x429379[_0x23b628]=_0x4ea812;}super['initialize'+'ComponentD'+'ata'](_0x429379,_0x10be10,['enabled']);}['cloneCompo'+'nent'](_0x23992e,_0x249ee0){const _0x260171=_0x23992e['rigidbody'],_0x39fee1={'enabled':_0x260171['enabled'],'mass':_0x260171['mass'],'linearDamping':_0x260171['linearDamp'+'ing'],'angularDamping':_0x260171['angularDam'+'ping'],'linearFactor':[_0x260171['linearFact'+'or']['x'],_0x260171['linearFact'+'or']['y'],_0x260171['linearFact'+'or']['z']],'angularFactor':[_0x260171['angularFac'+'tor']['x'],_0x260171['angularFac'+'tor']['y'],_0x260171['angularFac'+'tor']['z']],'friction':_0x260171['friction'],'rollingFriction':_0x260171['rollingFri'+'ction'],'restitution':_0x260171['restitutio'+'n'],'type':_0x260171['type'],'group':_0x260171['group'],'mask':_0x260171['mask']};return this['addCompone'+'nt'](_0x249ee0,_0x39fee1);}['onBeforeRe'+'move'](_0xf0a7d7,_0x4db40f){_0x4db40f['enabled']&&(_0x4db40f['enabled']=!(0xa62*-0x2+-0x20d8+0x359d)),_0x4db40f['body']&&(this['destroyBod'+'y'](_0x4db40f['body']),_0x4db40f['body']=null);}['addBody'](_0x48ec46,_0x5a0bbf,_0x17ed4b){_0x5a0bbf!==void(0x5*0x58a+-0x1ba*0xa+-0x5*0x216)&&_0x17ed4b!==void(-0xd37+-0x4*0xe+0xd6f)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x48ec46,_0x5a0bbf,_0x17ed4b):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x48ec46);}['removeBody'](_0x2d9c69){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x2d9c69);}['createBody'](_0x14c05b,_0x17212c,_0x19e385){const _0x3b5e3a=new Ammo['btVector3'](-0x1*-0x834+-0x1a65+0x1*0x1231,-0xbda*-0x1+0x1483+-0x205d*0x1,-0x5*-0x34a+0x13c*-0x2+-0xdfa);_0x14c05b!==-0x1*-0x2446+-0x1f6+-0x2250&&_0x17212c['calculateL'+'ocalInerti'+'a'](_0x14c05b,_0x3b5e3a);const _0x473022=new Ammo['btDefaultM'+'otionState'](_0x19e385),_0x389c32=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x14c05b,_0x473022,_0x17212c,_0x3b5e3a),_0x3dbb87=new Ammo['btRigidBod'+'y'](_0x389c32);return Ammo['destroy'](_0x389c32),Ammo['destroy'](_0x3b5e3a),_0x3dbb87;}['destroyBod'+'y'](_0x387be1){const _0x282579=_0x387be1['getMotionS'+'tate']();_0x282579&&Ammo['destroy'](_0x282579),Ammo['destroy'](_0x387be1);}['raycastFir'+'st'](_0x250b39,_0x182014,_0x50108d={}){if(_0x50108d['filterTags']||_0x50108d['filterCall'+'back'])return _0x50108d['sort']=!(-0x1*0x1b0f+0x1*-0x60d+-0x4*-0x847),this['raycastAll'](_0x250b39,_0x182014,_0x50108d)[-0x22e6+0x259b*-0x1+0x45*0x10d]||null;let _0xa1d7a6=null;ai['setValue'](_0x250b39['x'],_0x250b39['y'],_0x250b39['z']),oi['setValue'](_0x182014['x'],_0x182014['y'],_0x182014['z']);const _0x10a5a2=new Ammo['ClosestRay'+'ResultCall'+'back'](ai,oi);if(typeof _0x50108d['filterColl'+'isionGroup']=='number'&&_0x10a5a2['set_m_coll'+'isionFilte'+'rGroup'](_0x50108d['filterColl'+'isionGroup']),typeof _0x50108d['filterColl'+'isionMask']=='number'&&_0x10a5a2['set_m_coll'+'isionFilte'+'rMask'](_0x50108d['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x10a5a2),_0x10a5a2['hasHit']()){const _0x365dbb=_0x10a5a2['get_m_coll'+'isionObjec'+'t'](),_0x1f1b81=Ammo['castObject'](_0x365dbb,Ammo['btRigidBod'+'y']);if(_0x1f1b81){const _0x5aecb6=_0x10a5a2['get_m_hitP'+'ointWorld'](),_0x49804f=_0x10a5a2['get_m_hitN'+'ormalWorld']();_0xa1d7a6=new xg(_0x1f1b81['entity'],new T(_0x5aecb6['x'](),_0x5aecb6['y'](),_0x5aecb6['z']()),new T(_0x49804f['x'](),_0x49804f['y'](),_0x49804f['z']()),_0x10a5a2['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x10a5a2),_0xa1d7a6;}['raycastAll'](_0x484e82,_0x3ca265,_0x1293ce={}){v['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x3b782e=[];ai['setValue'](_0x484e82['x'],_0x484e82['y'],_0x484e82['z']),oi['setValue'](_0x3ca265['x'],_0x3ca265['y'],_0x3ca265['z']);const _0x4f1f13=new Ammo['AllHitsRay'+'ResultCall'+'back'](ai,oi);if(typeof _0x1293ce['filterColl'+'isionGroup']=='number'&&_0x4f1f13['set_m_coll'+'isionFilte'+'rGroup'](_0x1293ce['filterColl'+'isionGroup']),typeof _0x1293ce['filterColl'+'isionMask']=='number'&&_0x4f1f13['set_m_coll'+'isionFilte'+'rMask'](_0x1293ce['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x4f1f13),_0x4f1f13['hasHit']()){const _0x106238=_0x4f1f13['get_m_coll'+'isionObjec'+'ts'](),_0x2b03f4=_0x4f1f13['get_m_hitP'+'ointWorld'](),_0x441cbe=_0x4f1f13['get_m_hitN'+'ormalWorld'](),_0x5121f8=_0x4f1f13['get_m_hitF'+'ractions'](),_0x32e735=_0x106238['size']();for(let _0x10bed9=0xce8+-0x22b8+0x15d0;_0x10bed9<_0x32e735;_0x10bed9++){const _0x2191bc=Ammo['castObject'](_0x106238['at'](_0x10bed9),Ammo['btRigidBod'+'y']);if(_0x2191bc&&_0x2191bc['entity']){if(_0x1293ce['filterTags']&&!_0x2191bc['entity']['tags']['has'](..._0x1293ce['filterTags'])||_0x1293ce['filterCall'+'back']&&!_0x1293ce['filterCall'+'back'](_0x2191bc['entity']))continue;const _0x4b54c9=_0x2b03f4['at'](_0x10bed9),_0x3f5cb5=_0x441cbe['at'](_0x10bed9),_0x4d7157=new xg(_0x2191bc['entity'],new T(_0x4b54c9['x'](),_0x4b54c9['y'](),_0x4b54c9['z']()),new T(_0x3f5cb5['x'](),_0x3f5cb5['y'](),_0x3f5cb5['z']()),_0x5121f8['at'](_0x10bed9));_0x3b782e['push'](_0x4d7157);}}_0x1293ce['sort']&&_0x3b782e['sort']((_0x2b25e6,_0x2778c9)=>_0x2b25e6['hitFractio'+'n']-_0x2778c9['hitFractio'+'n']);}return Ammo['destroy'](_0x4f1f13),_0x3b782e;}['_storeColl'+'ision'](_0x23d1bd,_0x2a7ad0){let _0x428f96=!(0xf30+0x391+-0x12c0);const _0x4c8327=_0x23d1bd['getGuid']();return this['collisions'][_0x4c8327]=this['collisions'][_0x4c8327]||{'others':[],'entity':_0x23d1bd},this['collisions'][_0x4c8327]['others']['indexOf'](_0x2a7ad0)<-0x1*-0x11ce+-0x6a0*-0x4+0xd6*-0x35&&(this['collisions'][_0x4c8327]['others']['push'](_0x2a7ad0),_0x428f96=!(-0x1de7+-0x1*-0x2225+-0x43e)),this['frameColli'+'sions'][_0x4c8327]=this['frameColli'+'sions'][_0x4c8327]||{'others':[],'entity':_0x23d1bd},this['frameColli'+'sions'][_0x4c8327]['others']['push'](_0x2a7ad0),_0x428f96;}['_createCon'+'tactPointF'+'romAmmo'](_0x2acb2b){const _0x179cb2=_0x2acb2b['get_m_loca'+'lPointA'](),_0x101a77=_0x2acb2b['get_m_loca'+'lPointB'](),_0x4bb71a=_0x2acb2b['getPositio'+'nWorldOnA'](),_0x9f5571=_0x2acb2b['getPositio'+'nWorldOnB'](),_0x4cbb67=_0x2acb2b['get_m_norm'+'alWorldOnB'](),_0x439bf1=this['contactPoi'+'ntPool']['allocate']();return _0x439bf1['localPoint']['set'](_0x179cb2['x'](),_0x179cb2['y'](),_0x179cb2['z']()),_0x439bf1['localPoint'+'Other']['set'](_0x101a77['x'](),_0x101a77['y'](),_0x101a77['z']()),_0x439bf1['point']['set'](_0x4bb71a['x'](),_0x4bb71a['y'](),_0x4bb71a['z']()),_0x439bf1['pointOther']['set'](_0x9f5571['x'](),_0x9f5571['y'](),_0x9f5571['z']()),_0x439bf1['normal']['set'](_0x4cbb67['x'](),_0x4cbb67['y'](),_0x4cbb67['z']()),_0x439bf1['impulse']=_0x2acb2b['getApplied'+'Impulse'](),_0x439bf1;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0xee97f9){const _0x3c03f6=_0xee97f9['get_m_loca'+'lPointA'](),_0x15b5d2=_0xee97f9['get_m_loca'+'lPointB'](),_0x14eed4=_0xee97f9['getPositio'+'nWorldOnA'](),_0x5489f1=_0xee97f9['getPositio'+'nWorldOnB'](),_0x2e8019=_0xee97f9['get_m_norm'+'alWorldOnB'](),_0x982b69=this['contactPoi'+'ntPool']['allocate']();return _0x982b69['localPoint'+'Other']['set'](_0x3c03f6['x'](),_0x3c03f6['y'](),_0x3c03f6['z']()),_0x982b69['localPoint']['set'](_0x15b5d2['x'](),_0x15b5d2['y'](),_0x15b5d2['z']()),_0x982b69['pointOther']['set'](_0x14eed4['x'](),_0x14eed4['y'](),_0x14eed4['z']()),_0x982b69['point']['set'](_0x5489f1['x'](),_0x5489f1['y'](),_0x5489f1['z']()),_0x982b69['normal']['set'](_0x2e8019['x'](),_0x2e8019['y'](),_0x2e8019['z']()),_0x982b69['impulse']=_0xee97f9['getApplied'+'Impulse'](),_0x982b69;}['_createSin'+'gleContact'+'Result'](_0x517391,_0x59cd23,_0x58eef7){const _0x48f484=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x48f484['a']=_0x517391,_0x48f484['b']=_0x59cd23,_0x48f484['localPoint'+'A']=_0x58eef7['localPoint'],_0x48f484['localPoint'+'B']=_0x58eef7['localPoint'+'Other'],_0x48f484['pointA']=_0x58eef7['point'],_0x48f484['pointB']=_0x58eef7['pointOther'],_0x48f484['normal']=_0x58eef7['normal'],_0x48f484['impulse']=_0x58eef7['impulse'],_0x48f484;}['_createCon'+'tactResult'](_0x2f6459,_0xeb31b9){const _0x4fa835=this['contactRes'+'ultPool']['allocate']();return _0x4fa835['other']=_0x2f6459,_0x4fa835['contacts']=_0xeb31b9,_0x4fa835;}['_cleanOldC'+'ollisions'](){for(const _0x54f9e3 in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x54f9e3)){const _0x16be27=this['frameColli'+'sions'][_0x54f9e3],_0x4eb1ad=this['collisions'][_0x54f9e3],_0x8988b7=_0x4eb1ad['entity'],_0x1032d8=_0x8988b7['collision'],_0xfe6fd=_0x8988b7['rigidbody'],_0x4f1882=_0x4eb1ad['others'];let _0x14d862=_0x4f1882['length'];for(;_0x14d862--;){const _0x13a4ca=_0x4f1882[_0x14d862];(!_0x16be27||_0x16be27['others']['indexOf'](_0x13a4ca)<0x1dcd+-0x1ed1+-0x4*-0x41)&&(_0x4f1882['splice'](_0x14d862,-0xa*-0x2dd+0x1*-0xf3b+0x5*-0x2ae),_0x8988b7['trigger']?(_0x1032d8&&_0x1032d8['fire']('triggerlea'+'ve',_0x13a4ca),_0x13a4ca['rigidbody']&&_0x13a4ca['rigidbody']['fire']('triggerlea'+'ve',_0x8988b7)):_0x13a4ca['trigger']||(_0xfe6fd&&_0xfe6fd['fire']('collisione'+'nd',_0x13a4ca),_0x1032d8&&_0x1032d8['fire']('collisione'+'nd',_0x13a4ca)));}_0x4f1882['length']===0x1*0x1ab7+-0x10*0x12f+0xb*-0xb5&&delete this['collisions'][_0x54f9e3];}}['_hasContac'+'tEvent'](_0x8e743){const _0x47eef6=_0x8e743['collision'];if(_0x47eef6&&(_0x47eef6['hasEvent']('collisions'+'tart')||_0x47eef6['hasEvent']('collisione'+'nd')||_0x47eef6['hasEvent']('contact')))return!(-0x9*0x31b+-0xc52+-0x2845*-0x1);const _0x58282b=_0x8e743['rigidbody'];return _0x58282b&&(_0x58282b['hasEvent']('collisions'+'tart')||_0x58282b['hasEvent']('collisione'+'nd')||_0x58282b['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x542d22,_0x530d8d){const _0xe2f4b=Ammo['wrapPointe'+'r'](_0x542d22,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x328551=_0xe2f4b['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x273d58=0x6da*0x1+0xcfd+-0x69d*0x3;_0x273d58<_0x328551;_0x273d58++){const _0x478fc7=_0xe2f4b['getManifol'+'dByIndexIn'+'ternal'](_0x273d58),_0x3dc0f7=_0x478fc7['getBody0'](),_0x54102b=_0x478fc7['getBody1'](),_0x3e2eaa=Ammo['castObject'](_0x3dc0f7,Ammo['btRigidBod'+'y']),_0x3f5614=Ammo['castObject'](_0x54102b,Ammo['btRigidBod'+'y']),_0x1a61f3=_0x3e2eaa['entity'],_0x186628=_0x3f5614['entity'];if(!_0x1a61f3||!_0x186628)continue;const _0x3005c8=_0x3e2eaa['getCollisi'+'onFlags'](),_0x37d6e5=_0x3f5614['getCollisi'+'onFlags'](),_0x53c00f=_0x478fc7['getNumCont'+'acts'](),_0x11e7e5=[],_0x1a94e7=[];let _0x36d656;if(_0x53c00f>0x1*-0x24c5+-0xab0+0x2f75){if(_0x3005c8&lo||_0x37d6e5&lo){const _0x559fa2=_0x1a61f3['collision']&&(_0x1a61f3['collision']['hasEvent']('triggerent'+'er')||_0x1a61f3['collision']['hasEvent']('triggerlea'+'ve')),_0x5c67da=_0x186628['collision']&&(_0x186628['collision']['hasEvent']('triggerent'+'er')||_0x186628['collision']['hasEvent']('triggerlea'+'ve')),_0x585fd4=_0x1a61f3['rigidbody']&&(_0x1a61f3['rigidbody']['hasEvent']('triggerent'+'er')||_0x1a61f3['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x1a219b=_0x186628['rigidbody']&&(_0x186628['rigidbody']['hasEvent']('triggerent'+'er')||_0x186628['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x559fa2&&(_0x36d656=this['_storeColl'+'ision'](_0x1a61f3,_0x186628),_0x36d656&&!(_0x37d6e5&lo)&&_0x1a61f3['collision']['fire']('triggerent'+'er',_0x186628)),_0x5c67da&&(_0x36d656=this['_storeColl'+'ision'](_0x186628,_0x1a61f3),_0x36d656&&!(_0x3005c8&lo)&&_0x186628['collision']['fire']('triggerent'+'er',_0x1a61f3)),_0x585fd4&&(_0x36d656||(_0x36d656=this['_storeColl'+'ision'](_0x186628,_0x1a61f3)),_0x36d656&&_0x1a61f3['rigidbody']['fire']('triggerent'+'er',_0x186628)),_0x1a219b&&(_0x36d656||(_0x36d656=this['_storeColl'+'ision'](_0x1a61f3,_0x186628)),_0x36d656&&_0x186628['rigidbody']['fire']('triggerent'+'er',_0x1a61f3));}else{const _0x368b05=this['_hasContac'+'tEvent'](_0x1a61f3),_0x373887=this['_hasContac'+'tEvent'](_0x186628),_0xe65909=this['hasEvent']('contact');if(_0xe65909||_0x368b05||_0x373887){for(let _0x495bbd=0x13b8+-0x94*0xe+0x3e0*-0x3;_0x495bbd<_0x53c00f;_0x495bbd++){const _0x5600de=_0x478fc7['getContact'+'Point'](_0x495bbd),_0x3a5af4=this['_createCon'+'tactPointF'+'romAmmo'](_0x5600de);if(_0x368b05||_0x373887){_0x11e7e5['push'](_0x3a5af4);const _0x595e37=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x5600de);_0x1a94e7['push'](_0x595e37);}if(_0xe65909){const _0x3baf04=this['_createSin'+'gleContact'+'Result'](_0x1a61f3,_0x186628,_0x3a5af4);this['fire']('contact',_0x3baf04);}}if(_0x368b05){const _0x329faa=this['_createCon'+'tactResult'](_0x186628,_0x11e7e5);_0x36d656=this['_storeColl'+'ision'](_0x1a61f3,_0x186628),_0x1a61f3['collision']&&(_0x1a61f3['collision']['fire']('contact',_0x329faa),_0x36d656&&_0x1a61f3['collision']['fire']('collisions'+'tart',_0x329faa)),_0x1a61f3['rigidbody']&&(_0x1a61f3['rigidbody']['fire']('contact',_0x329faa),_0x36d656&&_0x1a61f3['rigidbody']['fire']('collisions'+'tart',_0x329faa));}if(_0x373887){const _0x2cbc4e=this['_createCon'+'tactResult'](_0x1a61f3,_0x1a94e7);_0x36d656=this['_storeColl'+'ision'](_0x186628,_0x1a61f3),_0x186628['collision']&&(_0x186628['collision']['fire']('contact',_0x2cbc4e),_0x36d656&&_0x186628['collision']['fire']('collisions'+'tart',_0x2cbc4e)),_0x186628['rigidbody']&&(_0x186628['rigidbody']['fire']('contact',_0x2cbc4e),_0x36d656&&_0x186628['rigidbody']['fire']('collisions'+'tart',_0x2cbc4e));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x58c5f1){let _0x4f8ac3,_0x106da7;this['_stats']['physicsSta'+'rt']=ne(),this['_gravityFl'+'oat32'][0x1*-0x11d5+0x1851+-0x67c]=this['gravity']['x'],this['_gravityFl'+'oat32'][0x5*0x1b4+-0x14c2+0xc3f]=this['gravity']['y'],this['_gravityFl'+'oat32'][-0x2d*-0x7d+0x1922+-0x2f19]=this['gravity']['z'];const _0x346d45=this['dynamicsWo'+'rld']['getGravity']();(_0x346d45['x']()!==this['_gravityFl'+'oat32'][-0x88b+-0x1943+0x21ce]||_0x346d45['y']()!==this['_gravityFl'+'oat32'][-0x17e7+-0x1*-0x11f3+0x5f5]||_0x346d45['z']()!==this['_gravityFl'+'oat32'][-0x27+-0x201d+0x2046])&&(_0x346d45['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x346d45));const _0x15920d=this['_triggers'];for(_0x4f8ac3=-0xafb*-0x2+0x1*0xc97+-0x1*0x228d,_0x106da7=_0x15920d['length'];_0x4f8ac3<_0x106da7;_0x4f8ac3++)_0x15920d[_0x4f8ac3]['updateTran'+'sform']();const _0x24663f=this['_compounds'];for(_0x4f8ac3=0x251f+0x384+-0x28a3,_0x106da7=_0x24663f['length'];_0x4f8ac3<_0x106da7;_0x4f8ac3++)_0x24663f[_0x4f8ac3]['_updateCom'+'pound']();const _0x2729c7=this['_kinematic'];for(_0x4f8ac3=-0x353*0x2+-0x15b1+0x1c57,_0x106da7=_0x2729c7['length'];_0x4f8ac3<_0x106da7;_0x4f8ac3++)_0x2729c7[_0x4f8ac3]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x58c5f1,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x43f764=this['_dynamic'];for(_0x4f8ac3=0x1*-0x1b4c+0xe9d+0xcaf,_0x106da7=_0x43f764['length'];_0x4f8ac3<_0x106da7;_0x4f8ac3++)_0x43f764[_0x4f8ac3]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x58c5f1),this['_stats']['physicsTim'+'e']=ne()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](ai),Ammo['destroy'](oi),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,ai=null,oi=null,Ws['onAppDestr'+'oy']());}}c(mx,'EVENT_CONT'+'ACT','contact'),ue['_buildAcce'+'ssors'](Ws['prototype'],px);const $n='none',SI='blend',Sg=new q();class _x extends ue{constructor(_0x581969,_0x2878d2){super(_0x581969,_0x2878d2),this['_resolutio'+'n']=new W(0x88c*-0x2+0x1ab*0xd+0x217*-0x1,-0x533+0x6f*0x10+-0x7d),this['_reference'+'Resolution']=new W(-0xd69*0x1+0x1*-0x1d3b+-0x6c*-0x6b,-0x240f+-0x1*-0x167b+0xed4),this['_scaleMode']=$n,this['scale']=-0x1*0x2110+0x331+0x1de0,this['_scaleBlen'+'d']=-0x15*-0x2+0x172*-0x19+0x23f8+0.5,this['_priority']=-0xe05*0x1+0xeca+-0xc5,this['_screenSpa'+'ce']=!(-0x1*-0x12f1+-0x22c8+-0x548*-0x3),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new q(),this['_elements']=new Set(),_0x581969['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x59130f,_0x2c9efb){var _0xdbaef5;if(!(_0x59130f instanceof We))return _0x2c9efb;if(_0x59130f['element']){const _0x4178d8=_0x59130f['element']['drawOrder'];_0x59130f['element']['drawOrder']=_0x2c9efb++,_0x59130f['element']['_batchGrou'+'pId']>=-0x1d51+0x2031+0x170*-0x2&&_0x4178d8!==_0x59130f['element']['drawOrder']&&((_0xdbaef5=this['system']['app']['batcher'])==null||_0xdbaef5['markGroupD'+'irty'](_0x59130f['element']['_batchGrou'+'pId']));}_0x59130f['particlesy'+'stem']&&(_0x59130f['particlesy'+'stem']['drawOrder']=_0x2c9efb++);const _0x5ad8d9=_0x59130f['children'];for(let _0x368b2f=0x192f+-0xe8c+-0xaa3;_0x368b2f<_0x5ad8d9['length'];_0x368b2f++)_0x2c9efb=this['_recurseDr'+'awOrderSyn'+'c'](_0x5ad8d9[_0x368b2f],_0x2c9efb);return _0x2c9efb;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],0xf88+0xe53*-0x1+-0x134),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x32bb26=this['_resolutio'+'n']['x']/this['scale'],_0x3361bc=this['_resolutio'+'n']['y']/this['scale'],_0x4b0547=0xb*-0x2ea+0x468+0x1ba6,_0x160286=_0x32bb26,_0x2b5139=-_0x3361bc;this['_screenMat'+'rix']['setOrtho'](_0x4b0547,_0x160286,_0x2b5139,-0x857+0x262e+0x1*-0x1dd7,-0x723+-0x4f3*0x7+0x29c9,-(-0x8f*-0x34+-0xf*-0x122+-0x2e09)),this['_screenSpa'+'ce']||(Sg['setScale']((-0x882+-0x7ae+-0x1030*-0x1+0.5)*_0x32bb26,(-0xf88+-0x5*-0x271+0x353+0.5)*_0x3361bc,-0x112+-0x1*-0x1e9c+-0x1d89),this['_screenMat'+'rix']['mul2'](Sg,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x5c7c35,_0x2ac90c){const _0x40f08e=Math['log2']((_0x5c7c35['x']||-0x93*0x3f+0x1*-0x98d+-0x1fd*-0x17)/_0x2ac90c['x']),_0x2903e8=Math['log2']((_0x5c7c35['y']||0x2e9*-0x9+-0x1c*-0xe+0x18aa)/_0x2ac90c['y']);return Math['pow'](0x1947+-0x132b+-0x61a,_0x40f08e*(0x1955+-0x1e4*0x2+-0x158c-this['_scaleBlen'+'d'])+_0x2903e8*this['_scaleBlen'+'d']);}['_onResize'](_0x176491,_0x2c97cb){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x176491,_0x2c97cb),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0xa78311){this['_elements']['add'](_0xa78311);}['_unbindEle'+'ment'](_0x343e58){this['_elements']['delete'](_0x343e58);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x28cb97=>_0x28cb97['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x12751b){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x12751b['x'],_0x12751b['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x2d3c39=>_0x2d3c39['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x19310e){this['_reference'+'Resolution']['set'](_0x19310e['x'],_0x19310e['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x33876c=>_0x33876c['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===$n?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x4aa46f){this['_screenSpa'+'ce']=_0x4aa46f,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x54da8b=>_0x54da8b['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x2b7a7a){_0x2b7a7a!==$n&&_0x2b7a7a!==SI&&(_0x2b7a7a=$n),!this['_screenSpa'+'ce']&&_0x2b7a7a!==$n&&(_0x2b7a7a=$n),this['_scaleMode']=_0x2b7a7a,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x1a75d3){this['_scaleBlen'+'d']=_0x1a75d3,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0xdf0ca5=>_0xdf0ca5['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x272e0e){_0x272e0e>0x611+0x29b*-0x9+0x1261&&(v['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x272e0e+'\x20to\x20255'),_0x272e0e=0xc7*-0xd+0x1*-0x175e+0x2278),this['_priority']!==_0x272e0e&&(this['_priority']=_0x272e0e,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class vI{constructor(){this['enabled']=!(-0x7*-0x19+-0x8*-0x183+-0xcc7);}}const mf=['enabled'];class bI extends Xe{constructor(_0x28dd78){super(_0x28dd78),this['id']='screen',this['ComponentT'+'ype']=_x,this['DataType']=vI,this['schema']=mf,this['windowReso'+'lution']=new W(),this['_drawOrder'+'SyncQueue']=new _S(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x3330bc,_0x98138b,_0x3c290b){_0x98138b['priority']!==void(0x236b+-0x1af5*0x1+-0x43b*0x2)&&(_0x3330bc['priority']=_0x98138b['priority']),_0x98138b['screenSpac'+'e']!==void(-0x14d5*0x1+-0x15d*0xe+-0x3a1*-0xb)&&(_0x3330bc['screenSpac'+'e']=_0x98138b['screenSpac'+'e']),_0x3330bc['cull']=_0x3330bc['screenSpac'+'e'],_0x98138b['scaleMode']!==void(-0x1a2b+-0x1*-0x1442+0x5e9)&&(_0x3330bc['scaleMode']=_0x98138b['scaleMode']),_0x98138b['scaleBlend']!==void(-0xb8c+-0x1c0d+-0x5d*-0x6d)&&(_0x3330bc['scaleBlend']=_0x98138b['scaleBlend']),_0x98138b['resolution']!==void(-0x1009+-0x8*0x187+0x1c41)&&(_0x98138b['resolution']instanceof W?_0x3330bc['_resolutio'+'n']['copy'](_0x98138b['resolution']):_0x3330bc['_resolutio'+'n']['set'](_0x98138b['resolution'][0x2224+0xa6*0x5+-0x2562],_0x98138b['resolution'][-0x2*-0x1271+-0x5*0x2ef+-0x1636]),_0x3330bc['resolution']=_0x3330bc['_resolutio'+'n']),_0x98138b['referenceR'+'esolution']!==void(-0x9f7+0x61f*0x1+0x3d8)&&(_0x98138b['referenceR'+'esolution']instanceof W?_0x3330bc['_reference'+'Resolution']['copy'](_0x98138b['referenceR'+'esolution']):_0x3330bc['_reference'+'Resolution']['set'](_0x98138b['referenceR'+'esolution'][-0x133*0x9+-0x131*-0x1+0x99a],_0x98138b['referenceR'+'esolution'][0x238c+-0x53*-0x5e+-0x4205]),_0x3330bc['referenceR'+'esolution']=_0x3330bc['_reference'+'Resolution']),_0x3330bc['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x3330bc,_0x98138b,mf);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x12e3e2){const _0x3969dc=this['store'];for(const _0x22b984 in _0x3969dc)_0x3969dc[_0x22b984]['entity']['screen']['update']&&_0x3969dc[_0x22b984]['entity']['screen']['update'](_0x12e3e2);}['_onResize'](_0x238433,_0x57f502){this['windowReso'+'lution']['x']=_0x238433,this['windowReso'+'lution']['y']=_0x57f502;}['cloneCompo'+'nent'](_0xd52146,_0x5cc975){const _0xd6b4a2=_0xd52146['screen'];return this['addCompone'+'nt'](_0x5cc975,{'enabled':_0xd6b4a2['enabled'],'screenSpace':_0xd6b4a2['screenSpac'+'e'],'scaleMode':_0xd6b4a2['scaleMode'],'resolution':_0xd6b4a2['resolution']['clone'](),'referenceResolution':_0xd6b4a2['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x21d983,_0x417841){_0x417841['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x3a87c1=this['_drawOrder'+'SyncQueue']['list']();for(let _0x2f9ee6=0x1c4c+-0xd86+-0x1*0xec6;_0x2f9ee6<_0x3a87c1['length'];_0x2f9ee6++){const _0x26c8aa=_0x3a87c1[_0x2f9ee6];_0x26c8aa['callback']['call'](_0x26c8aa['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x2dd1dc,_0x1807cc,_0x184ef4){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x2dd1dc)||this['_drawOrder'+'SyncQueue']['push'](_0x2dd1dc,{'callback':_0x1807cc,'scope':_0x184ef4});}}ue['_buildAcce'+'ssors'](_x['prototype'],mf);const qi=new W(),vg=new T(),Pr=new uu(),bg=new hy(),wg=new T(),io=new T(),wI=new se(),TI={'x':'y','y':'x'};class wo extends ce{constructor(_0x258683,_0x292e75){if(super(),!_0x258683||!(_0x258683 instanceof Gt))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x292e75&&_0x292e75!=='x'&&_0x292e75!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x292e75);this['_element']=_0x258683,this['_app']=_0x258683['system']['app'],this['_axis']=_0x292e75||null,this['_enabled']=!(0x2bd*-0xd+-0x317*-0x1+0x49*0x72),this['_dragScale']=new T(),this['_dragStart'+'MousePosit'+'ion']=new T(),this['_dragStart'+'HandlePosi'+'tion']=new T(),this['_deltaMous'+'ePosition']=new T(),this['_deltaHand'+'lePosition']=new T(),this['_isDraggin'+'g']=!(0x81*-0x49+-0x18b2+-0x1*-0x3d7c),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x5d9297){this['_element'][_0x5d9297]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x5d9297]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x5d9297]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x3a8d66){const _0x272e9e=_0x3a8d66==='on';this['_hasDragLi'+'steners']&&_0x272e9e||(this['_app']['mouse']&&(this['_element'][_0x3a8d66]('mousemove',this['_onMove'],this),this['_element'][_0x3a8d66]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),ye['touch']&&(this['_element'][_0x3a8d66]('touchmove',this['_onMove'],this),this['_element'][_0x3a8d66]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x3a8d66]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x3a8d66]('selectmove',this['_onMove'],this),this['_element'][_0x3a8d66]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x272e9e);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x500971){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x500971['camera'],this['_calculate'+'DragScale']();const _0x45ed25=this['_screenToL'+'ocal'](_0x500971);_0x45ed25&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(-0x28e+-0x1*-0x27b+-0x1*-0x13),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x45ed25),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(0x111d+-0x105d*-0x1+-0x29*0xd1),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x5b7607){return _0x5b7607['inputSourc'+'e']?Pr['set'](_0x5b7607['inputSourc'+'e']['getOrigin'](),_0x5b7607['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x5b7607),this['_chooseRay'+'OriginAndD'+'irection']()),wg['copy'](this['_element']['entity']['forward'])['mulScalar'](-(0x2684+0x10*-0x126+0x1*-0x1423)),bg['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),wg),bg['intersects'+'Ray'](Pr,io)?(wI['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](io,io),io['mul'](this['_dragScale']),io):null;}['_determine'+'InputPosit'+'ion'](_0x4faae7){const _0x18435a=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x4faae7['x']<'u'&&typeof _0x4faae7['y']<'u'?(qi['x']=_0x4faae7['x']*_0x18435a,qi['y']=_0x4faae7['y']*_0x18435a):_0x4faae7['changedTou'+'ches']?(qi['x']=_0x4faae7['changedTou'+'ches'][0x13cd+0x32c+-0x16f9]['x']*_0x18435a,qi['y']=_0x4faae7['changedTou'+'ches'][0xd0e+0x178*-0x11+0xbea]['y']*_0x18435a):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Pr['origin']['set'](qi['x'],-qi['y'],-0x17ce+0x139*0x1+0x1695),Pr['direction']['copy'](T['FORWARD'])):(vg['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](qi['x'],qi['y'],0x2c9*-0x2+-0x5d*0x65+0x2a44)),Pr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Pr['direction']['copy'](vg)['sub'](Pr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x1413b4=this['_element']['entity']['parent'];const _0x12e8c3=this['_element']['screen']&&this['_element']['screen']['screen'],_0x3c89ae=_0x12e8c3&&_0x12e8c3['screenSpac'+'e'],_0x56d0a5=_0x3c89ae?_0x12e8c3['scale']:0xf32*0x1+-0x24e9+0x15b8,_0x3527a1=this['_dragScale'];for(_0x3527a1['set'](_0x56d0a5,_0x56d0a5,_0x56d0a5);_0x1413b4&&(_0x3527a1['mul'](_0x1413b4['getLocalSc'+'ale']()),_0x1413b4=_0x1413b4['parent'],!(_0x3c89ae&&_0x1413b4['screen'])););_0x3527a1['x']=(-0x1*-0x1656+-0x94c+-0xd09)/_0x3527a1['x'],_0x3527a1['y']=(0xbd5*-0x2+-0x2*0x4be+-0xb0d*-0x3)/_0x3527a1['y'],_0x3527a1['z']=-0xe8b*-0x1+0x1112+-0x1f9d;}['_onMove'](_0x2460bb){const {_element:_0x30f633,_deltaMousePosition:_0x5a7b7d,_deltaHandlePosition:_0x3db8ef,_axis:_0x2df66f}=this;if(_0x30f633&&this['_isDraggin'+'g']&&this['enabled']&&_0x30f633['enabled']&&_0x30f633['entity']['enabled']){const _0x30b839=this['_screenToL'+'ocal'](_0x2460bb);if(_0x30b839){if(_0x5a7b7d['sub2'](_0x30b839,this['_dragStart'+'MousePosit'+'ion']),_0x3db8ef['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x5a7b7d),_0x2df66f){const _0x439b97=_0x30f633['entity']['getLocalPo'+'sition'](),_0x4ab5cf=TI[_0x2df66f];_0x3db8ef[_0x4ab5cf]=_0x439b97[_0x4ab5cf];}_0x30f633['entity']['setLocalPo'+'sition'](_0x3db8ef),this['fire']('drag:move',_0x3db8ef);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x136f5f){this['_enabled']=_0x136f5f;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}c(wo,'EVENT_DRAG'+'START','drag:start'),c(wo,'EVENT_DRAG'+'END','drag:end'),c(wo,'EVENT_DRAG'+'MOVE','drag:move');const AI=-0x41e+-0x146c+0x9*0x2ba,Tg=-0x1e5a+-0x199+0x1ff4*0x1,EI=-0xa9c*0x2+0x90+0x14aa,CI=-0x19ab+0x471*0x2+0x10c9,MI=0x1b*-0x91+0x26ae+-0x1762,ro=new W();class gx extends ue{constructor(_0x4e04ad,_0x2ed6c3){super(_0x4e04ad,_0x2ed6c3),c(this,'_viewportE'+'ntity',null),c(this,'_contentEn'+'tity',null),c(this,'_horizonta'+'lScrollbar'+'Entity',null),c(this,'_verticalS'+'crollbarEn'+'tity',null),c(this,'_evtElemen'+'tRemove',null),c(this,'_evtViewpo'+'rtElementR'+'emove',null),c(this,'_evtViewpo'+'rtResize',null),c(this,'_evtConten'+'tEntityEle'+'mentAdd',null),c(this,'_evtConten'+'tElementRe'+'move',null),c(this,'_evtConten'+'tResize',null),c(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),c(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),c(this,'_evtHorizo'+'ntalScroll'+'barValue',null),c(this,'_evtVertic'+'alScrollba'+'rAdd',null),c(this,'_evtVertic'+'alScrollba'+'rRemove',null),c(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_scroll']=new W(),this['_velocity']=new T(),this['_dragStart'+'Position']=new T(),this['_disabledC'+'ontentInpu'+'t']=!(0x16*-0xb+0x2145+0x1*-0x2052),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x591c24=this['system']['store'][this['entity']['getGuid']()];return _0x591c24?_0x591c24['data']:null;}set['enabled'](_0x319e19){this['_setValue']('enabled',_0x319e19);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x2ad0f3){this['_setValue']('horizontal',_0x2ad0f3);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x1584b0){this['_setValue']('vertical',_0x1584b0);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x47f521){this['_setValue']('scrollMode',_0x47f521);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x3f70a2){this['_setValue']('bounceAmou'+'nt',_0x3f70a2);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x58ff3b){this['_setValue']('friction',_0x58ff3b);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x58772b){this['_setValue']('dragThresh'+'old',_0x58772b);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x450818){this['_setValue']('useMouseWh'+'eel',_0x450818);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x18febc){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x18febc);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x1b2a5e){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x1b2a5e);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0xf12705){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0xf12705);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0xaf0237){if(this['_viewportE'+'ntity']===_0xaf0237)return;const _0x243dd1=typeof _0xaf0237=='string';this['_viewportE'+'ntity']&&_0x243dd1&&this['_viewportE'+'ntity']['getGuid']()===_0xaf0237||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0xaf0237 instanceof De?this['_viewportE'+'ntity']=_0xaf0237:_0x243dd1?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0xaf0237)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x243dd1&&_0xaf0237&&(this['data']['viewportEn'+'tity']=_0xaf0237));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x820cb9){if(this['_contentEn'+'tity']===_0x820cb9)return;const _0x34a54c=typeof _0x820cb9=='string';this['_contentEn'+'tity']&&_0x34a54c&&this['_contentEn'+'tity']['getGuid']()===_0x820cb9||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x820cb9 instanceof De?this['_contentEn'+'tity']=_0x820cb9:_0x34a54c?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x820cb9)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x34a54c&&_0x820cb9&&(this['data']['contentEnt'+'ity']=_0x820cb9));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x38c23a){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x38c23a)return;const _0x5e49ee=typeof _0x38c23a=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x5e49ee&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x38c23a||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x38c23a instanceof De?this['_horizonta'+'lScrollbar'+'Entity']=_0x38c23a:_0x5e49ee?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x38c23a)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][pe]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x5e49ee&&_0x38c23a&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x38c23a));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x473a72){if(this['_verticalS'+'crollbarEn'+'tity']===_0x473a72)return;const _0x38f0d3=typeof _0x473a72=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x38f0d3&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x473a72||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x473a72 instanceof De?this['_verticalS'+'crollbarEn'+'tity']=_0x473a72:_0x38f0d3?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x473a72)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][ke]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x38f0d3&&_0x473a72&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x473a72));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0x182a3b){this['_onSetScro'+'ll'](_0x182a3b['x'],_0x182a3b['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x1d6e6c,_0x2d671d){const _0x105e9f=this['data'],_0x719710=_0x105e9f[_0x1d6e6c];_0x105e9f[_0x1d6e6c]=_0x2d671d,this['fire']('set',_0x1d6e6c,_0x719710,_0x2d671d);}['_toggleLif'+'ecycleList'+'eners'](_0x4e597d){this[_0x4e597d]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x4e597d]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x4e597d]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x5c5748){if(this['entity']['element']){if(_0x5c5748==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x5c5748]('resize',this['_syncAll'],this),this['entity']['element'][_0x5c5748](Mu,this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x5c5748==='on';}}['_onElement'+'ComponentA'+'dd'](_0x497323){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x4af220){var _0x467492;(_0x467492=this['_evtElemen'+'tRemove'])==null||_0x467492['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x5e7174,_0x460717;(_0x5e7174=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x5e7174['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x460717=this['_viewportE'+'ntity'])!=null&&_0x460717['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x704cfa=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x704cfa['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x704cfa['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x559d90,_0xb65ba6;(_0x559d90=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x559d90['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0xb65ba6=this['_evtViewpo'+'rtResize'])==null||_0xb65ba6['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x26dd9b,_0x2c7e80;(_0x26dd9b=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x26dd9b['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x2c7e80=this['_contentEn'+'tity'])!=null&&_0x2c7e80['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x4116e7=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x4116e7['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x4116e7['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x4de663,_0x4d85cc;(_0x4de663=this['_evtConten'+'tElementRe'+'move'])==null||_0x4de663['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x4d85cc=this['_evtConten'+'tResize'])==null||_0x4d85cc['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new wo(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x1b12a0){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(0x2457+-0x3b*-0x13+0xa2e*-0x4),this['_setScroll'+'FromConten'+'tPosition'](_0x1b12a0),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x1b12a0),!this['_disabledC'+'ontentInpu'+'t'])){const _0xbcf344=_0x1b12a0['x']-this['_dragStart'+'Position']['x'],_0x2b5bb9=_0x1b12a0['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0xbcf344)>this['dragThresh'+'old']||Math['abs'](_0x2b5bb9)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x2dc864;(_0x2dc864=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x2dc864['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x2ecd84;(_0x2ecd84=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x2ecd84['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x533010){!this['_scrollbar'+'UpdateFlag'+'s'][pe]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x533010,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x3b442d){!this['_scrollbar'+'UpdateFlag'+'s'][ke]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x3b442d);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x21679d;const _0x5e0870=(_0x21679d=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(0x1315+0x24d4*-0x1+-0x11bf*-0x1):_0x21679d['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x5e0870['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x5e0870['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarPositi'+'on'](pe);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x1b1a40;const _0x51c0d1=(_0x1b1a40=this['_verticalS'+'crollbarEn'+'tity'])==null?void(0x14b*-0x18+0xe5*-0x1b+0x372f):_0x1b1a40['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x51c0d1['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x51c0d1['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](ke),this['_syncScrol'+'lbarPositi'+'on'](ke);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x49b2e6,_0x69bb55;(_0x49b2e6=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x49b2e6['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x69bb55=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x69bb55['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x47e16d,_0x4bceb5;(_0x47e16d=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x47e16d['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x4bceb5=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x4bceb5['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](pe);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_onSetScro'+'ll'](_0x10e388,_0x51e3b5,_0x3b9a6f){_0x3b9a6f!==!(0xf5f+-0x2228+0x172*0xd)&&this['_velocity']['set'](0x6c7+-0x7fd+0x136,-0x13ac+-0x252f+0x29*0x163,0x1*0x175+-0xf57+0xde2);const _0x3bea64=this['_updateAxi'+'s'](_0x10e388,'x',pe),_0x5c8cd0=this['_updateAxi'+'s'](_0x51e3b5,'y',ke);(_0x3bea64||_0x5c8cd0)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x1485a9,_0x22321c,_0x200b5a){const _0x332df4=_0x1485a9!==null&&Math['abs'](_0x1485a9-this['_scroll'][_0x22321c])>-0xa4*0x1+-0x1*-0x24b+0x2f*-0x9+0.00001;return(_0x332df4||this['_isDraggin'+'g']()||_0x1485a9===-0xf47+0x4fd+0x36e*0x3)&&(this['_scroll'][_0x22321c]=this['_determine'+'NewScrollV'+'alue'](_0x1485a9,_0x22321c,_0x200b5a),this['_syncConte'+'ntPosition'](_0x200b5a),this['_syncScrol'+'lbarPositi'+'on'](_0x200b5a)),_0x332df4;}['_determine'+'NewScrollV'+'alue'](_0x2cb9da,_0x4de99a,_0x120c61){if(!this['_getScroll'+'ingEnabled'](_0x120c61))return this['_scroll'][_0x4de99a];switch(this['scrollMode']){case AI:return N['clamp'](_0x2cb9da,0x155+0x1*0x14b+-0x2a0,this['_getMaxScr'+'ollValue'](_0x120c61));case Tg:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x2cb9da,_0x4de99a,_0x120c61),_0x2cb9da;case EI:return _0x2cb9da;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x2cb9da;}}['_syncAll'](){this['_syncConte'+'ntPosition'](pe),this['_syncConte'+'ntPosition'](ke),this['_syncScrol'+'lbarPositi'+'on'](pe),this['_syncScrol'+'lbarPositi'+'on'](ke),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_syncConte'+'ntPosition'](_0x3363bf){if(!this['_contentEn'+'tity'])return;const _0x2be90e=this['_getAxis'](_0x3363bf),_0x57a044=this['_getSign'](_0x3363bf),_0xa952e0=this['_prevConte'+'ntSizes'][_0x3363bf],_0x31b98d=this['_getConten'+'tSize'](_0x3363bf);if(_0xa952e0!==null&&Math['abs'](_0xa952e0-_0x31b98d)>0xe5d+0x16f6+-0x2553+0.0001){const _0x864682=this['_getMaxOff'+'set'](_0x3363bf,_0xa952e0),_0x5c015f=this['_getMaxOff'+'set'](_0x3363bf,_0x31b98d);_0x5c015f===0x5c+-0x1bcd*0x1+0x1b71?this['_scroll'][_0x2be90e]=-0x759+0x29f+0x4bb:this['_scroll'][_0x2be90e]=N['clamp'](this['_scroll'][_0x2be90e]*_0x864682/_0x5c015f,-0x2*0x2b+0xc0d+-0xbb7,-0x1*-0x11f6+-0x1*0x2225+0x1030);}const _0x30f384=this['_scroll'][_0x2be90e]*this['_getMaxOff'+'set'](_0x3363bf),_0x23868c=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x23868c[_0x2be90e]=_0x30f384*_0x57a044,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x23868c),this['_prevConte'+'ntSizes'][_0x3363bf]=_0x31b98d;}['_syncScrol'+'lbarPositi'+'on'](_0x340306){const _0x5a874a=this['_scrollbar'+'Entities'][_0x340306];if(!(_0x5a874a!=null&&_0x5a874a['scrollbar']))return;const _0x3c41f8=this['_getAxis'](_0x340306);this['_scrollbar'+'UpdateFlag'+'s'][_0x340306]=!(0x137*-0x11+0x409*0x5+-0x3d*-0x2),_0x5a874a['scrollbar']['value']=this['_scroll'][_0x3c41f8],_0x5a874a['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x3c41f8,_0x340306),this['_scrollbar'+'UpdateFlag'+'s'][_0x340306]=!(0xd6+0x1f74+-0x2049);}['_syncScrol'+'lbarEnable'+'dState'](_0x2f9f30){const _0x42faa2=this['_scrollbar'+'Entities'][_0x2f9f30];if(!_0x42faa2)return;const _0x1c2f84=this['_getScroll'+'ingEnabled'](_0x2f9f30),_0x3375fa=this['_getScroll'+'barVisibil'+'ity'](_0x2f9f30);switch(_0x3375fa){case CI:_0x42faa2['enabled']=_0x1c2f84;return;case MI:_0x42faa2['enabled']=_0x1c2f84&&this['_contentIs'+'LargerThan'+'Viewport'](_0x2f9f30);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x3375fa),_0x42faa2['enabled']=_0x1c2f84;}}['_contentIs'+'LargerThan'+'Viewport'](_0x4311bd){return this['_getConten'+'tSize'](_0x4311bd)>this['_getViewpo'+'rtSize'](_0x4311bd);}['_contentPo'+'sitionToSc'+'rollValue'](_0x44dbf3){const _0x53779d=this['_getMaxOff'+'set'](pe),_0x5284ff=this['_getMaxOff'+'set'](ke);return _0x53779d===-0x2f*-0x1+-0xb5*-0x21+-0x1c*0xd7?ro['x']=0xe34+0x9f7*0x1+-0x182b*0x1:ro['x']=_0x44dbf3['x']/_0x53779d,_0x5284ff===-0xa36*0x2+-0x2227+0x1*0x3693?ro['y']=0x1ee8+0x2180+-0x394*0x12:ro['y']=_0x44dbf3['y']/-_0x5284ff,ro;}['_getMaxOff'+'set'](_0x2f0335,_0x3e98d9){_0x3e98d9=_0x3e98d9===void(-0x2644+0x262d+0x17)?this['_getConten'+'tSize'](_0x2f0335):_0x3e98d9;const _0x346041=this['_getViewpo'+'rtSize'](_0x2f0335);return _0x3e98d9<_0x346041?-this['_getViewpo'+'rtSize'](_0x2f0335):_0x346041-_0x3e98d9;}['_getMaxScr'+'ollValue'](_0x50d311){return this['_contentIs'+'LargerThan'+'Viewport'](_0x50d311)?-0x2ea+-0x137*-0x17+-0x1906:-0xfd1*0x1+-0x105*0x1b+0x2b58;}['_getScroll'+'barHandleS'+'ize'](_0x424c31,_0x2f9637){const _0x45cb7d=this['_getViewpo'+'rtSize'](_0x2f9637),_0x200f65=this['_getConten'+'tSize'](_0x2f9637);if(Math['abs'](_0x200f65)<0x1634+0x9b1+-0x661*0x5+0.001)return 0xf5d+-0x2*0x11c+0x74*-0x1d;const _0x5a111b=Math['min'](_0x45cb7d/_0x200f65,0x1dd2+0x2b8*0x7+-0x30d9),_0x5d5f6c=this['_toOversho'+'ot'](this['_scroll'][_0x424c31],_0x2f9637);return _0x5d5f6c===-0x1715+0x2092*-0x1+0x37a7*0x1?_0x5a111b:_0x5a111b/(0x1981+-0x713*0x3+-0x447+Math['abs'](_0x5d5f6c));}['_getViewpo'+'rtSize'](_0x4c17f3){return this['_getSize'](_0x4c17f3,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x2a3f8e){return this['_getSize'](_0x2a3f8e,this['_contentEn'+'tity']);}['_getSize'](_0x75f410,_0x5af5fc){return _0x5af5fc!=null&&_0x5af5fc['element']?_0x5af5fc['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x75f410)]:-0x2ab*-0x4+-0xb5c+0xb0;}['_getScroll'+'ingEnabled'](_0x1144b0){if(_0x1144b0===pe)return this['horizontal'];if(_0x1144b0===ke)return this['vertical'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x1144b0);}['_getScroll'+'barVisibil'+'ity'](_0x3cede2){if(_0x3cede2===pe)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x3cede2===ke)return this['verticalSc'+'rollbarVis'+'ibility'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x3cede2);}['_getSign'](_0x26a061){return _0x26a061===pe?-0x97*-0x3a+0x1169+0x1*-0x339e:-(0x1989+-0x1*-0x5dd+0x13*-0x1a7);}['_getAxis'](_0x35f691){return _0x35f691===pe?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x18788e){return _0x18788e===pe?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===Tg&&(this['_hasOversh'+'oot']('x',pe)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',pe),this['_hasOversh'+'oot']('y',ke)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',ke)),Math['abs'](this['_velocity']['x'])>0x270a*0x1+-0x5*-0x361+-0x183*0x25+0.0001||Math['abs'](this['_velocity']['y'])>0x1d7c+-0x9*0x3c4+0x468+0.0001){const _0x2b8e0c=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x2b8e0c['x']+=this['_velocity']['x'],_0x2b8e0c['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x2b8e0c),this['_setScroll'+'FromConten'+'tPosition'](_0x2b8e0c);}this['_velocity']['x']*=-0x1649+-0x109e+0x18*0x19f-this['friction'],this['_velocity']['y']*=-0x1709*-0x1+0x35*0xd+-0x19b9-this['friction'];}}['_hasOversh'+'oot'](_0x1919d3,_0x584885){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x1919d3],_0x584885))>0x21d5+0x3*-0xbe6+0x1dd+0.001;}['_toOversho'+'ot'](_0x3ff129,_0x86c879){const _0x412509=this['_getMaxScr'+'ollValue'](_0x86c879);return _0x3ff129<-0x1f91+-0x2b1*-0xd+-0x36c?_0x3ff129:_0x3ff129>_0x412509?_0x3ff129-_0x412509:-0x1c7+-0xdf5+0xfbc;}['_setVeloci'+'tyFromOver'+'shoot'](_0x109570,_0xbcb331,_0x3d2ac5){const _0x35bd78=this['_toOversho'+'ot'](_0x109570,_0x3d2ac5)*this['_getMaxOff'+'set'](_0x3d2ac5)*this['_getSign'](_0x3d2ac5);Math['abs'](_0x35bd78)>-0x23ad*0x1+-0x14c9+0x3876&&(this['_velocity'][_0xbcb331]=-_0x35bd78/(this['bounceAmou'+'nt']*(0x37*-0xa1+0x1*-0x1ee3+0x579*0xc)+(-0x384*-0x3+-0x1ff0+-0x1565*-0x1)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x9d0aad){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x9d0aad,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x9d0aad)):(this['_velocity']['set'](-0x173b+-0x13cf+-0x7*-0x626,0x1e73+-0x1808+-0x66b,0x7af+-0x4b7+-0x2f8),this['_prevConte'+'ntDragPosi'+'tion']=_0x9d0aad['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x380bca){let _0x2d966e=this['_contentPo'+'sitionToSc'+'rollValue'](_0x380bca);this['_isDraggin'+'g']()&&(_0x2d966e=this['_applyScro'+'llValueTen'+'sion'](_0x2d966e)),this['_onSetScro'+'ll'](_0x2d966e['x'],_0x2d966e['y'],!(0x22db+0x1505+-0x37df));}['_applyScro'+'llValueTen'+'sion'](_0x5ef1dc){let _0x13a0b4=this['_getMaxScr'+'ollValue'](pe),_0x5e49a4=this['_toOversho'+'ot'](_0x5ef1dc['x'],pe);return _0x5e49a4>0x1*-0x107+-0x9*0x322+-0x1d39*-0x1?_0x5ef1dc['x']=_0x13a0b4+(0x21d7+0x2*-0x11a7+-0x5e*-0x4)*Math['log10'](-0x3*0x91a+-0x9a9*0x1+0x7*0x548+_0x5e49a4):_0x5e49a4<-0x1b79+-0x67*-0x4f+-0x450&&(_0x5ef1dc['x']=-(-0x1561*0x1+-0x4*0x4b3+0x282e*0x1)*Math['log10'](-0x2*-0xfcd+0x4*-0x1a1+-0x1915*0x1-_0x5e49a4)),_0x13a0b4=this['_getMaxScr'+'ollValue'](ke),_0x5e49a4=this['_toOversho'+'ot'](_0x5ef1dc['y'],ke),_0x5e49a4>0x21e2+0x1*-0x20cd+-0x1*0x115?_0x5ef1dc['y']=_0x13a0b4+(-0x16d*-0x10+0x160d+-0x6*0x77a)*Math['log10'](0x1501+-0x3*-0xc9d+-0x3ad7+_0x5e49a4):_0x5e49a4<-0x15d2+-0x1f81+0x3553&&(_0x5ef1dc['y']=-(-0x1d7e+0x1235+-0x5*-0x242)*Math['log10'](-0x2515+-0x20da+-0x4*-0x117c-_0x5e49a4)),_0x5ef1dc;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0xf6da2a){var _0x51301f,_0x467d5c;(_0x51301f=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x51301f['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0xf6da2a),(_0x467d5c=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x467d5c['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0xf6da2a);}['_setConten'+'tDraggingE'+'nabled'](_0x440219){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x440219);}['_onMouseWh'+'eel'](_0x45c386){var _0x230b0d;if(!this['useMouseWh'+'eel']||!((_0x230b0d=this['_contentEn'+'tity'])!=null&&_0x230b0d['element']))return;const _0x317700=_0x45c386['event'],_0x49dbd5=_0x317700['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x5ae98c=_0x317700['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x13db49=N['clamp'](this['_scroll']['x']+_0x49dbd5,0x108d+-0x183*0x13+-0x4c*-0x29,this['_getMaxScr'+'ollValue'](pe)),_0x2813ce=N['clamp'](this['_scroll']['y']+_0x5ae98c,0x29*-0x20+0x22a7*0x1+-0x1*0x1d87,this['_getMaxScr'+'ollValue'](ke));this['scroll']=new W(_0x13db49,_0x2813ce);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x47da80=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x47da80['element']&&(_0x47da80['element']['useInput']=!(-0x3d*-0x7f+-0x2fe*-0x4+-0x2a3b*0x1));}this['_disabledC'+'ontentInpu'+'t']=!(-0x80f+-0x11*0x4a+0xcfa);}['_disableCo'+'ntentInput'](){const _0x19954c=_0x2b7dab=>{_0x2b7dab['element']&&_0x2b7dab['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x2b7dab),_0x2b7dab['element']['useInput']=!(0x2*0x126b+0xdd4*-0x1+-0x1701));const _0x180996=_0x2b7dab['children'];for(let _0x21fb48=0x1cf5*-0x1+-0x89*0x2e+0x3593,_0x1f719c=_0x180996['length'];_0x21fb48<_0x1f719c;_0x21fb48++)_0x19954c(_0x180996[_0x21fb48]);};if(this['_contentEn'+'tity']){const _0x4787be=this['_contentEn'+'tity']['children'];for(let _0x5a797e=-0xdb1+-0x1a35+0x13f3*0x2,_0x54ba5b=_0x4787be['length'];_0x5a797e<_0x54ba5b;_0x5a797e++)_0x19954c(_0x4787be[_0x5a797e]);}this['_disabledC'+'ontentInpu'+'t']=!(0x15d1+0x4ac+0x1*-0x1a7d);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0xd*-0x11c+-0x1292*0x2+0x32*0x108)),this['_setConten'+'tDraggingE'+'nabled'](!(0xa*0x1b3+-0x12ae+0x1b0)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x2275*0x1+-0x2cc*0x2+-0x2*0xe6e)),this['_setConten'+'tDraggingE'+'nabled'](!(0x18f8+-0xf09*-0x1+-0x2800));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5dc1e2,_0x4f5fb8){_0x5dc1e2['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x4f5fb8[_0x5dc1e2['viewportEn'+'tity']['getGuid']()]),_0x5dc1e2['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x4f5fb8[_0x5dc1e2['contentEnt'+'ity']['getGuid']()]),_0x5dc1e2['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x4f5fb8[_0x5dc1e2['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x5dc1e2['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x4f5fb8[_0x5dc1e2['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}c(gx,'EVENT_SETS'+'CROLL','set:scroll');const PI=-0x1230+-0x98b*-0x1+0x2e5*0x3;class RI{constructor(){c(this,'enabled',!(-0x8de*0x2+-0x1*-0x24af+-0x3*0x651)),c(this,'horizontal'),c(this,'vertical'),c(this,'scrollMode'),c(this,'bounceAmou'+'nt'),c(this,'friction'),c(this,'dragThresh'+'old',PI),c(this,'useMouseWh'+'eel',!(0x21ff+0x1249*-0x1+-0x7db*0x2)),c(this,'mouseWheel'+'Sensitivit'+'y',new W(-0xf45*-0x1+0x186+-0x10ca,-0xca6*0x1+-0x1*0x6ef+0x1*0x1396)),c(this,'horizontal'+'ScrollbarV'+'isibility',0x3*0x373+-0x17ec+0x5*0x2b7),c(this,'verticalSc'+'rollbarVis'+'ibility',-0x2*-0xa69+-0x1faa+-0x15b*-0x8),c(this,'viewportEn'+'tity',null),c(this,'contentEnt'+'ity',null),c(this,'horizontal'+'ScrollbarE'+'ntity',null),c(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const Ag=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],II=-0x1*-0x1f16+0x1639*-0x1+0x2f1*-0x3;class DI extends Xe{constructor(_0x4c899e){super(_0x4c899e),this['id']='scrollview',this['ComponentT'+'ype']=gx,this['DataType']=RI,this['schema']=Ag,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x50e544,_0x1733f1,_0x57dbe2){_0x1733f1['dragThresh'+'old']===void(-0x10cb+-0x337*0x4+0x1da7)&&(_0x1733f1['dragThresh'+'old']=II),_0x1733f1['useMouseWh'+'eel']===void(0x1*-0x10ba+0x1236+-0x17c)&&(_0x1733f1['useMouseWh'+'eel']=!(0x26d+0x14*-0xa+-0x1a5)),_0x1733f1['mouseWheel'+'Sensitivit'+'y']===void(-0x17cb+0x56*0x49+-0xbb)&&(_0x1733f1['mouseWheel'+'Sensitivit'+'y']=new W(-0xdf+-0x103f+-0x9*-0x1e7,-0x6e*0x35+0x2*-0x192+0x19eb)),super['initialize'+'ComponentD'+'ata'](_0x50e544,_0x1733f1,Ag),_0x50e544['viewportEn'+'tity']=_0x1733f1['viewportEn'+'tity'],_0x50e544['contentEnt'+'ity']=_0x1733f1['contentEnt'+'ity'],_0x50e544['horizontal'+'ScrollbarE'+'ntity']=_0x1733f1['horizontal'+'ScrollbarE'+'ntity'],_0x50e544['verticalSc'+'rollbarEnt'+'ity']=_0x1733f1['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x2cea61){const _0xbe49b4=this['store'];for(const _0x36d94f in _0xbe49b4){const _0x154ce7=_0xbe49b4[_0x36d94f]['entity'],_0x46901f=_0x154ce7['scrollview'];_0x46901f['enabled']&&_0x154ce7['enabled']&&_0x46901f['onUpdate']();}}['_onRemoveC'+'omponent'](_0x42da12,_0x69e99c){_0x69e99c['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class yx extends ue{constructor(_0x4a1c29,_0x28451f){super(_0x4a1c29,_0x28451f),c(this,'_handleEnt'+'ity',null),c(this,'_evtHandle'+'EntityElem'+'entAdd',null),c(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x4bd987=this['system']['store'][this['entity']['getGuid']()];return _0x4bd987?_0x4bd987['data']:null;}set['enabled'](_0x1a31da){this['_setValue']('enabled',_0x1a31da);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x29bb83){this['_setValue']('orientatio'+'n',_0x29bb83);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x3b755){this['_setValue']('value',_0x3b755);}get['value'](){return this['data']['value'];}set['handleSize'](_0x1c8daa){this['_setValue']('handleSize',_0x1c8daa);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x1ca815){if(this['_handleEnt'+'ity']===_0x1ca815)return;const _0x4f217c=typeof _0x1ca815=='string';this['_handleEnt'+'ity']&&_0x4f217c&&this['_handleEnt'+'ity']['getGuid']()===_0x1ca815||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x1ca815 instanceof De?this['_handleEnt'+'ity']=_0x1ca815:_0x4f217c?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x1ca815)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x4f217c&&_0x1ca815&&(this['data']['handleEnti'+'ty']=_0x1ca815));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x5104b4,_0x323b33){const _0x526059=this['data'],_0x50ce5c=_0x526059[_0x5104b4];_0x526059[_0x5104b4]=_0x323b33,this['fire']('set',_0x5104b4,_0x50ce5c,_0x323b33);}['_toggleLif'+'ecycleList'+'eners'](_0x5d789d){this[_0x5d789d]('set_value',this['_onSetValu'+'e'],this),this[_0x5d789d]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x5d789d]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x4b3848,_0x401f8d;(_0x4b3848=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x4b3848['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x401f8d=this['_handleEnt'+'ity'])!=null&&_0x401f8d['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x37a4af=this['_handleEnt'+'ity']['element'],_0x5e74e8=this['_evtHandle'+'EntityChan'+'ges'];_0x5e74e8['push'](_0x37a4af['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x5e74e8['push'](_0x37a4af['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x5e74e8['push'](_0x37a4af['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x5e74e8['push'](_0x37a4af['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x32c12c=-0x1*0x13d9+-0x1*0x533+0x190c;_0x32c12c<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x32c12c++)this['_evtHandle'+'EntityChan'+'ges'][_0x32c12c]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=0x3e1+0x1f57+-0x2338;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new wo(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x1647be){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x1647be[this['_getAxis']()]));}['_onSetValu'+'e'](_0x274ded,_0x182562,_0x718490){Math['abs'](_0x718490-_0x182562)>-0x1eab*0x1+-0x2055+0x3f00+0.00001&&(this['data']['value']=N['clamp'](_0x718490,-0x1695+0x668+-0x65*-0x29,-0x350+0xc1+0x290),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x236446,_0x3c46c5,_0x3cd071){Math['abs'](_0x3cd071-_0x3c46c5)>-0x1e22+-0x788*0x3+0x34ba+0.00001&&(this['data']['handleSize']=N['clamp'](_0x3cd071,-0x409*0x2+-0xf68+-0x177a*-0x1,0x1397+-0x1*-0x15a3+-0x1*0x2939),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x271ab1,_0x26c510,_0x39cdec){var _0xaf290c;_0x39cdec!==_0x26c510&&((_0xaf290c=this['_handleEnt'+'ity'])!=null&&_0xaf290c['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=0xb9*-0x23+0xc9b+0xcb0);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x370e8f=this['_handleEnt'+'ity'],_0xc9b93b=_0x370e8f==null?void(0x1*0x13c9+0x156c+-0x2935):_0x370e8f['element'];if(_0x370e8f){const _0x572d9c=_0x370e8f['getLocalPo'+'sition']();_0x572d9c[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x370e8f['setLocalPo'+'sition'](_0x572d9c);}_0xc9b93b&&(_0xc9b93b[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x4369d9){return _0x4369d9*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x235038){return _0x235038*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),0x1226+-0x223d+0x3*0x55d+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===pe?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:-0x1*-0x162c+-0x1a7a+0x1d*0x26;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===pe?0x4*0x508+0x200b+-0x342a:-(0x2565+-0x32a+-0x223a);}['_getAxis'](){return this['orientatio'+'n']===pe?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===pe?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===pe?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x1f4b3b){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x1f4b3b);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0x2c5*0x8+-0xb9c+-0x64*0x1b));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0x10bb+-0x1b73*0x1+0xab9));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x14a60b,_0x1feca2){_0x14a60b['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x1feca2[_0x14a60b['handleEnti'+'ty']['getGuid']()]);}}c(yx,'EVENT_SETV'+'ALUE','set:value');class LI{constructor(){c(this,'enabled',!(0x610+-0x275+0x1*-0x39b)),c(this,'orientatio'+'n',pe),c(this,'value',-0x1*0x299+0x1*0x25b+0x3e),c(this,'handleSize',-0x2359+-0xa39+0x13*0x266),c(this,'handleEnti'+'ty',null);}}const Eg=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class FI extends Xe{constructor(_0x3ade10){super(_0x3ade10),this['id']='scrollbar',this['ComponentT'+'ype']=yx,this['DataType']=LI,this['schema']=Eg,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x33b59c,_0x2e7348,_0x5eded9){super['initialize'+'ComponentD'+'ata'](_0x33b59c,_0x2e7348,Eg),_0x33b59c['handleEnti'+'ty']=_0x2e7348['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x349a7a){_0x349a7a['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x17419a,_0x1cbc40){_0x1cbc40['onRemove']();}}const OI={'volume':0x0,'pitch':0x0,'loop':!(0x1*0x12cd+-0xc9*0x1d+0x3f9),'startTime':0x0,'duration':0x0,'position':new T(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class er extends ce{constructor(_0x5e690b,_0x57fc1c='Untitled',_0xa161ec={}){super(),c(this,'name'),c(this,'instances',[]),(this['_component']=_0x5e690b,this['_assets']=_0x5e690b['system']['app']['assets'],this['_manager']=_0x5e690b['system']['manager'],this['name']=_0x57fc1c,this['_volume']=_0xa161ec['volume']!==void(-0xe57*0x1+0x3b*-0xa5+-0x1a2f*-0x2)?N['clamp'](Number(_0xa161ec['volume'])||-0x31*-0x83+-0x2*0x5de+-0x2ab*0x5,-0xb*-0x1+-0xf*0x14b+-0x2*-0x9ad,-0x245a+0xc*-0x1dc+0x3aab):0x2230+-0x115*-0x18+-0x3c27,this['_pitch']=_0xa161ec['pitch']!==void(0xbc3+-0x1*0x14b+0x1*-0xa78)?Math['max'](0xd9a+-0x16be+0x924+0.01,Number(_0xa161ec['pitch'])||-0x24ae+-0x26cc+0x25bd*0x2):0x1e7c+-0x4a9+-0x52a*0x5,this['_loop']=!!(_0xa161ec['loop']!==void(-0x1105*0x1+-0x228*0xd+-0x13*-0x25f)&&_0xa161ec['loop']),this['_duration']=_0xa161ec['duration']>-0x1*-0xa8d+-0x11b4+0x727?_0xa161ec['duration']:null,this['_startTime']=Math['max'](-0x13*-0x106+0x1cd1+0x5*-0x9a7,Number(_0xa161ec['startTime'])||0x258+-0x4*-0x50c+-0x1688),this['_overlap']=!!_0xa161ec['overlap'],this['_autoPlay']=!!_0xa161ec['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0xa161ec['asset'],this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x1bf9d8){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){v['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x11a9da=_0x1bf9d8;if(_0x11a9da||(_0x11a9da=this['_createIns'+'tance'](),this['instances']['push'](_0x11a9da)),this['isLoaded'])_0x11a9da['play']();else{const _0xd58736=function(_0x3241e2){const _0x11a563=_0x11a9da['_playWhenL'+'oaded'];_0x11a9da['sound']=_0x3241e2,_0x11a563&&_0x11a9da['play']();};this['off']('load',_0xd58736),this['once']('load',_0xd58736),this['load']();}return _0x11a9da;}['pause'](){let _0x20304f=!(0x80c+-0x1f11+0x1706);const _0x3622c7=this['instances'];for(let _0x28e3ca=0x1289+0x2347+-0x35d0,_0x48a8f7=_0x3622c7['length'];_0x28e3ca<_0x48a8f7;_0x28e3ca++)_0x3622c7[_0x28e3ca]['pause']()&&(_0x20304f=!(0xfa+0xf0c+0x2*-0x803));return _0x20304f;}['resume'](){let _0x294f5a=!(0x17b*-0x5+0x20e9+-0x1981);const _0x301fd1=this['instances'];for(let _0xf267d3=0xfb*0xd+-0x1df9+0x113a,_0x2e5628=_0x301fd1['length'];_0xf267d3<_0x2e5628;_0xf267d3++)_0x301fd1[_0xf267d3]['resume']()&&(_0x294f5a=!(-0x2*0x2c5+-0x24c6+0x2a5*0x10));return _0x294f5a;}['stop'](){let _0x2c7b5f=!(-0x24d7*-0x1+-0x1*0x1141+-0x3*0x687);const _0xb809a=this['instances'];let _0x29a039=_0xb809a['length'];for(;_0x29a039--;)_0xb809a[_0x29a039]['stop'](),_0x2c7b5f=!(-0x5ca+-0xea3+0x146d);return _0xb809a['length']=-0x1*0x22d+0x16c5+-0x1498,_0x2c7b5f;}['load'](){if(!this['_hasAsset']())return;const _0x4a0e7f=this['_assets']['get'](this['_asset']);if(!_0x4a0e7f){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x4a0e7f['off']('remove',this['_onAssetRe'+'moved'],this),_0x4a0e7f['on']('remove',this['_onAssetRe'+'moved'],this),!_0x4a0e7f['resource']){_0x4a0e7f['off']('load',this['_onAssetLo'+'ad'],this),_0x4a0e7f['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x4a0e7f);return;}this['fire']('load',_0x4a0e7f['resource']);}['setExterna'+'lNodes'](_0x53519a,_0x55220b){if(!_0x53519a){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x55220b||(_0x55220b=_0x53519a),this['_firstNode']=_0x53519a,this['_lastNode']=_0x55220b,!this['_overlap']){const _0x2ed3bc=this['instances'];for(let _0x315c8b=0x2484+0x188+0x983*-0x4,_0x5732e2=_0x2ed3bc['length'];_0x315c8b<_0x5732e2;_0x315c8b++)_0x2ed3bc[_0x315c8b]['setExterna'+'lNodes'](_0x53519a,_0x55220b);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x44dae3=this['instances'];for(let _0x1a836f=0x9*-0x135+0x11bb+-0x1*0x6de,_0x50c12b=_0x44dae3['length'];_0x1a836f<_0x50c12b;_0x1a836f++)_0x44dae3[_0x1a836f]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x4cf36e=null;const _0x6842c7=this['_component'];let _0x48d4c8=null;if(this['_hasAsset']()){const _0x4c0e2d=this['_assets']['get'](this['_asset']);_0x4c0e2d&&(_0x48d4c8=_0x4c0e2d['resource']);}const _0x1542c5=OI;return _0x1542c5['volume']=this['_volume']*_0x6842c7['volume'],_0x1542c5['pitch']=this['_pitch']*_0x6842c7['pitch'],_0x1542c5['loop']=this['_loop'],_0x1542c5['startTime']=this['_startTime'],_0x1542c5['duration']=this['_duration'],_0x1542c5['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x1542c5['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x1542c5['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x1542c5['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x1542c5['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x6842c7['positional']?(_0x1542c5['position']['copy'](_0x6842c7['entity']['getPositio'+'n']()),_0x1542c5['maxDistanc'+'e']=_0x6842c7['maxDistanc'+'e'],_0x1542c5['refDistanc'+'e']=_0x6842c7['refDistanc'+'e'],_0x1542c5['rollOffFac'+'tor']=_0x6842c7['rollOffFac'+'tor'],_0x1542c5['distanceMo'+'del']=_0x6842c7['distanceMo'+'del'],_0x4cf36e=new jn(this['_manager'],_0x48d4c8,_0x1542c5)):_0x4cf36e=new ss(this['_manager'],_0x48d4c8,_0x1542c5),this['_firstNode']&&_0x4cf36e['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x4cf36e;}['_onInstanc'+'ePlay'](_0x4c7f59){this['fire']('play',_0x4c7f59),this['_component']['fire']('play',this,_0x4c7f59);}['_onInstanc'+'ePause'](_0xc31f6b){this['fire']('pause',_0xc31f6b),this['_component']['fire']('pause',this,_0xc31f6b);}['_onInstanc'+'eResume'](_0x163385){this['fire']('resume',_0x163385),this['_component']['fire']('resume',this,_0x163385);}['_onInstanc'+'eStop'](_0x43f89d){const _0x4e71be=this['instances']['indexOf'](_0x43f89d);_0x4e71be!==-(-0x82c+-0x65*-0x13+0xae)&&this['instances']['splice'](_0x4e71be,-0x17e+0x86*-0xa+-0x6bb*-0x1),this['fire']('stop',_0x43f89d),this['_component']['fire']('stop',this,_0x43f89d);}['_onInstanc'+'eEnd'](_0x1d5fa2){const _0x3a6e7e=this['instances']['indexOf'](_0x1d5fa2);_0x3a6e7e!==-(0xf83+-0x4*0x5a5+0x712)&&this['instances']['splice'](_0x3a6e7e,-0xff1+0x2052+-0x83*0x20),this['fire']('end',_0x1d5fa2),this['_component']['fire']('end',this,_0x1d5fa2);}['_onAssetAd'+'d'](_0x3102f4){this['load']();}['_onAssetLo'+'ad'](_0x1c4479){this['load']();}['_onAssetRe'+'moved'](_0x48c8c2){_0x48c8c2['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x48c8c2['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0xe37342){const _0x38556f=this['instances'];for(let _0x25c98b=-0x4e3+-0xa9*0x35+0x16*0x1d0,_0x4ab61a=_0x38556f['length'];_0x25c98b<_0x4ab61a;_0x25c98b++)_0x38556f[_0x25c98b]['position']=_0xe37342;}set['asset'](_0x23307f){const _0x2d7d5a=this['_asset'];if(_0x2d7d5a){this['_assets']['off']('add:'+_0x2d7d5a,this['_onAssetAd'+'d'],this);const _0x7936d=this['_assets']['get'](_0x2d7d5a);_0x7936d&&_0x7936d['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x23307f,this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x3eb3ad){this['_autoPlay']=!!_0x3eb3ad;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x427091){if(this['_duration']=Math['max'](-0x1354+0x1b98+-0x1*0x844,Number(_0x427091)||0xd4d+0x1882+-0x25cf)||null,!this['_overlap']){const _0x243613=this['instances'];for(let _0x388d16=-0xbda+-0x5*0x268+-0x6*-0x3fb,_0xf0b139=_0x243613['length'];_0x388d16<_0xf0b139;_0x388d16++)_0x243613[_0x388d16]['duration']=this['_duration'];}}get['duration'](){let _0x1e3968=0x5b*0x11+-0x1ce8+0x16dd;if(this['_hasAsset']()){const _0x538fb2=this['_assets']['get'](this['_asset']);_0x1e3968=_0x538fb2!=null&&_0x538fb2['resource']?_0x538fb2['resource']['duration']:0x6d*-0x6+0xb0+-0xef*-0x2;}return this['_duration']!=null?this['_duration']%(_0x1e3968||-0x1407*0x1+0x15d1+0x1c9*-0x1):_0x1e3968;}get['isLoaded'](){if(this['_hasAsset']()){const _0x1213ad=this['_assets']['get'](this['_asset']);if(_0x1213ad)return!!_0x1213ad['resource'];}return!(-0x24b7*0x1+0x1*0x126d+0x1*0x124b);}get['isPaused'](){const _0x5e4402=this['instances'],_0x583388=_0x5e4402['length'];if(_0x583388===0x1151+0x3*0x3df+-0x1cee)return!(-0xf4*-0x1a+0xa1*-0x5+-0x15a2);for(let _0x3508e1=0x2195+0x26c1+0x1*-0x4856;_0x3508e1<_0x583388;_0x3508e1++)if(!_0x5e4402[_0x3508e1]['isPaused'])return!(0xd32*-0x1+0xc5*-0x25+0x29ac);return!(-0x1*-0x217b+-0x160b+-0xb70);}get['isPlaying'](){const _0x3e9aa9=this['instances'];for(let _0x21d446=-0x169*-0x11+-0x2f*-0xb2+-0x38a7,_0x125974=_0x3e9aa9['length'];_0x21d446<_0x125974;_0x21d446++)if(_0x3e9aa9[_0x21d446]['isPlaying'])return!(0x2*-0x463+-0x17ed+-0x1*-0x20b3);return!(0x8b6+0x2077+0x292c*-0x1);}get['isStopped'](){const _0x35587c=this['instances'];for(let _0x4d247d=-0x656*-0x1+-0x1eb7*-0x1+-0x250d,_0x34a71d=_0x35587c['length'];_0x4d247d<_0x34a71d;_0x4d247d++)if(!_0x35587c[_0x4d247d]['isStopped'])return!(0x240e+-0x981+-0x1a8c);return!(-0x8*-0x2fc+0xf49+-0x2729);}set['loop'](_0x51f1fe){this['_loop']=!!_0x51f1fe;const _0x26e76c=this['instances'];for(let _0x43d395=-0x3b4*0xa+-0x1a35*0x1+0x1*0x3f3d,_0x2473ed=_0x26e76c['length'];_0x43d395<_0x2473ed;_0x43d395++)_0x26e76c[_0x43d395]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x478587){this['_overlap']=!!_0x478587;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x1d366e){if(this['_pitch']=Math['max'](Number(_0x1d366e)||-0x24d*0xf+-0x9*0x112+-0x1*-0x2c25,-0x1548+0x8a8*-0x2+-0x17c*-0x1a+0.01),!this['_overlap']){const _0x558f7c=this['instances'];for(let _0xbb085=0xe*-0x26e+0xcad*0x2+0x8aa,_0x48e24f=_0x558f7c['length'];_0xbb085<_0x48e24f;_0xbb085++)_0x558f7c[_0xbb085]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x3e3091){if(this['_startTime']=Math['max'](0x100f+0x6*-0x649+-0x1*-0x15a7,Number(_0x3e3091)||0xc*-0x109+-0x87*0xe+0x2*0x9e7),!this['_overlap']){const _0x210e69=this['instances'];for(let _0x5964c2=0x2157+0x238+0x238f*-0x1,_0x5871be=_0x210e69['length'];_0x5964c2<_0x5871be;_0x5964c2++)_0x210e69[_0x5964c2]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x533ab4){if(this['_volume']=N['clamp'](Number(_0x533ab4)||0x1553+0x812+-0x12d*0x19,0x213*0x2+0x726+-0xb4c,-0x169+-0x14d6+0x8*0x2c8),!this['_overlap']){const _0x3b118c=this['instances'];for(let _0x447b3e=-0x7bb*-0x1+-0xf63+0x8*0xf5,_0x4133a2=_0x3b118c['length'];_0x447b3e<_0x4133a2;_0x447b3e++)_0x3b118c[_0x447b3e]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}c(er,'EVENT_PLAY','play'),c(er,'EVENT_PAUS'+'E','pause'),c(er,'EVENT_RESU'+'ME','resume'),c(er,'EVENT_STOP','stop'),c(er,'EVENT_LOAD','load');class Nr extends ue{constructor(){super(...arguments),c(this,'_volume',0xda3+-0x1c73*0x1+-0x1*-0xed1),c(this,'_pitch',0xb*0xf7+0x119*0xa+-0x9*0x266),c(this,'_positiona'+'l',!(-0xf79+-0x9*0x376+0x2e9f)),c(this,'_refDistan'+'ce',-0x4*-0x26e+-0x7*0x137+0x1f*-0xa),c(this,'_maxDistan'+'ce',0x314+0x2669*0x1+0x26d*-0x1),c(this,'_rollOffFa'+'ctor',-0x1e61+-0x1da6+-0x22*-0x1c4),c(this,'_distanceM'+'odel',cc),c(this,'_slots',{}),c(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x50e6ce,_0x524916,_0x579e16){const _0x482416=this['_slots'];for(const _0x1a347a in _0x482416){const _0x3985f9=_0x482416[_0x1a347a];if(!_0x3985f9['overlap']){const _0x415c56=_0x3985f9['instances'];for(let _0x1dd20f=-0xd70+-0x7*0xd+0xdcb*0x1,_0x57b6c9=_0x415c56['length'];_0x1dd20f<_0x57b6c9;_0x1dd20f++)_0x415c56[_0x1dd20f][_0x50e6ce]=_0x579e16?_0x3985f9[_0x50e6ce]*_0x524916:_0x524916;}}}set['distanceMo'+'del'](_0x18487d){this['_distanceM'+'odel']=_0x18487d,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x18487d,!(-0x839+-0xf8*-0x15+-0x1*0xc1e));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x236e0d){this['_maxDistan'+'ce']=_0x236e0d,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x236e0d,!(-0x3*0x63e+0xfc9+0x2f2));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x2d69e6){this['_refDistan'+'ce']=_0x2d69e6,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x2d69e6,!(-0x2*-0x69d+-0x1*0x1e82+0x1149));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x4267fa){this['_rollOffFa'+'ctor']=_0x4267fa,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x4267fa,!(0x20ff+-0x2035+-0xc9));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x3fd4d8){this['_pitch']=_0x3fd4d8,this['_updateSou'+'ndInstance'+'s']('pitch',_0x3fd4d8,!(0x546+-0x1f9a+0x1a54));}get['pitch'](){return this['_pitch'];}set['volume'](_0x2b0ad2){this['_volume']=_0x2b0ad2,this['_updateSou'+'ndInstance'+'s']('volume',_0x2b0ad2,!(0x227b+0x18d0+-0x2b*0x161));}get['volume'](){return this['_volume'];}set['positional'](_0x3c2542){this['_positiona'+'l']=_0x3c2542;const _0x359679=this['_slots'];for(const _0x455906 in _0x359679){const _0x361175=_0x359679[_0x455906];if(!_0x361175['overlap']){const _0x2b1a73=_0x361175['instances'],_0x9a5bf9=_0x2b1a73['length'];for(let _0x45d827=_0x9a5bf9-(0x1f60+0x153d*-0x1+0x2*-0x511);_0x45d827>=-0x2cf*-0x5+-0x63*-0x43+-0x2*0x13fa;_0x45d827--){const _0x1aa646=_0x2b1a73[_0x45d827]['isPlaying']||_0x2b1a73[_0x45d827]['isSuspende'+'d'],_0x399d89=_0x2b1a73[_0x45d827]['currentTim'+'e'];_0x1aa646&&_0x2b1a73[_0x45d827]['stop']();const _0xf6cb7f=_0x361175['_createIns'+'tance']();_0x1aa646&&(_0xf6cb7f['play'](),_0xf6cb7f['currentTim'+'e']=_0x399d89),_0x2b1a73['push'](_0xf6cb7f);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x5e77b6){const _0x4baa41=this['_slots'];if(_0x4baa41){for(const _0x5c6f41 in _0x4baa41)_0x4baa41[_0x5c6f41]['stop']();}const _0x1cf6c9={};for(const _0x3485f7 in _0x5e77b6)_0x5e77b6[_0x3485f7]instanceof er?_0x1cf6c9[_0x5e77b6[_0x3485f7]['name']]=_0x5e77b6[_0x3485f7]:_0x5e77b6[_0x3485f7]['name']&&(_0x1cf6c9[_0x5e77b6[_0x3485f7]['name']]=new er(this,_0x5e77b6[_0x3485f7]['name'],_0x5e77b6[_0x3485f7]));this['_slots']=_0x1cf6c9,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x1d2bb9=this['_slots'],_0x1d5a68=this['_playingBe'+'foreDisabl'+'e'];for(const _0x2fa70a in _0x1d2bb9){const _0xd3210f=_0x1d2bb9[_0x2fa70a];_0xd3210f['autoPlay']&&_0xd3210f['isStopped']?_0xd3210f['play']():_0x1d5a68[_0x2fa70a]?_0xd3210f['resume']():_0xd3210f['isLoaded']||_0xd3210f['load']();}}['onDisable'](){const _0x118aab=this['_slots'],_0x4169a4={};for(const _0x1e222c in _0x118aab)_0x118aab[_0x1e222c]['overlap']||_0x118aab[_0x1e222c]['isPlaying']&&(_0x118aab[_0x1e222c]['pause'](),_0x4169a4[_0x1e222c]=!(-0x1*-0x19fd+0x18eb*0x1+-0x32e8));this['_playingBe'+'foreDisabl'+'e']=_0x4169a4;}['onRemove'](){this['off']();}['addSlot'](_0xb46324,_0x45b322){const _0x47f0e5=this['_slots'];if(_0x47f0e5[_0xb46324])return v['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0xb46324+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0xc09230=new er(this,_0xb46324,_0x45b322);return _0x47f0e5[_0xb46324]=_0xc09230,_0xc09230['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0xc09230['play'](),_0xc09230;}['removeSlot'](_0x422394){const _0x56c6f4=this['_slots'];_0x56c6f4[_0x422394]&&(_0x56c6f4[_0x422394]['stop'](),delete _0x56c6f4[_0x422394]);}['slot'](_0x53290e){return this['_slots'][_0x53290e];}['_getSlotPr'+'operty'](_0xf8562b,_0x2543ce){if(!this['enabled']||!this['entity']['enabled'])return;const _0x4dc7f4=this['_slots'][_0xf8562b];if(!_0x4dc7f4){v['warn']('Trying\x20to\x20'+'get\x20'+_0x2543ce+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0xf8562b+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x4dc7f4[_0x2543ce];}['isPlaying'](_0x3fe153){return this['_getSlotPr'+'operty'](_0x3fe153,'isPlaying')||!(0x7c3+-0x42b*-0x9+0xf17*-0x3);}['isLoaded'](_0x339267){return this['_getSlotPr'+'operty'](_0x339267,'isLoaded')||!(-0x1f7*0x12+-0x2362+-0x3b*-0x133);}['isPaused'](_0x37d1ac){return this['_getSlotPr'+'operty'](_0x37d1ac,'isPaused')||!(0x13a*0x13+0x9e4+-0x2131);}['isStopped'](_0x2bc337){return this['_getSlotPr'+'operty'](_0x2bc337,'isStopped')||!(-0x1*0x2357+-0xab0+0x2e08);}['play'](_0x39c3ef){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x3ea785=this['_slots'][_0x39c3ef];return _0x3ea785?_0x3ea785['play']():(v['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x39c3ef+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x27ce54){const _0x1a07f0=this['_slots'];if(_0x27ce54){const _0x5a78e4=_0x1a07f0[_0x27ce54];if(!_0x5a78e4){v['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x27ce54+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x5a78e4['pause']();}else{for(const _0x5147dc in _0x1a07f0)_0x1a07f0[_0x5147dc]['pause']();}}['resume'](_0x2df8b2){const _0x478700=this['_slots'];if(_0x2df8b2){const _0x1c84e3=_0x478700[_0x2df8b2];if(!_0x1c84e3){v['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x2df8b2+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x1c84e3['isPaused']&&_0x1c84e3['resume']();}else{for(const _0x50a696 in _0x478700)_0x478700[_0x50a696]['resume']();}}['stop'](_0x1c4340){const _0x1b5996=this['_slots'];if(_0x1c4340){const _0x40bc8c=_0x1b5996[_0x1c4340];if(!_0x40bc8c){v['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x1c4340+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x40bc8c['stop']();}else{for(const _0x4017fc in _0x1b5996)_0x1b5996[_0x4017fc]['stop']();}}}c(Nr,'EVENT_PLAY','play'),c(Nr,'EVENT_PAUS'+'E','pause'),c(Nr,'EVENT_RESU'+'ME','resume'),c(Nr,'EVENT_STOP','stop'),c(Nr,'EVENT_END','end');class kI{constructor(){this['enabled']=!(0x5*-0x2c2+-0x2229+0x997*0x5);}}const xx=['enabled'];class BI extends Xe{constructor(_0xe9ba12){super(_0xe9ba12),this['id']='sound',this['ComponentT'+'ype']=Nr,this['DataType']=kI,this['schema']=xx,this['manager']=_0xe9ba12['soundManag'+'er'],v['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x42ef45){this['manager']['volume']=_0x42ef45;}get['volume'](){return this['manager']['volume'];}get['context'](){return Li()?this['manager']['context']:(v['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x59b913,_0x1d2721,_0x52a10c){_0x52a10c=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x5efaf7=-0x7*-0x4bb+-0x1341+-0xddc;_0x5efaf7<_0x52a10c['length'];_0x5efaf7++)_0x1d2721['hasOwnProp'+'erty'](_0x52a10c[_0x5efaf7])&&(_0x59b913[_0x52a10c[_0x5efaf7]]=_0x1d2721[_0x52a10c[_0x5efaf7]]);super['initialize'+'ComponentD'+'ata'](_0x59b913,_0x1d2721,['enabled']);}['cloneCompo'+'nent'](_0x165b5a,_0x5e56c0){const _0x401630=_0x165b5a['sound'],_0x1e6278=_0x401630['slots'],_0x5bf762={};for(const _0x4e2cf4 in _0x1e6278){const _0x302c6a=_0x1e6278[_0x4e2cf4];_0x5bf762[_0x4e2cf4]={'name':_0x302c6a['name'],'volume':_0x302c6a['volume'],'pitch':_0x302c6a['pitch'],'loop':_0x302c6a['loop'],'duration':_0x302c6a['duration'],'startTime':_0x302c6a['startTime'],'overlap':_0x302c6a['overlap'],'autoPlay':_0x302c6a['autoPlay'],'asset':_0x302c6a['asset']};}const _0x3cc950={'distanceModel':_0x401630['distanceMo'+'del'],'enabled':_0x401630['enabled'],'maxDistance':_0x401630['maxDistanc'+'e'],'pitch':_0x401630['pitch'],'positional':_0x401630['positional'],'refDistance':_0x401630['refDistanc'+'e'],'rollOffFactor':_0x401630['rollOffFac'+'tor'],'slots':_0x5bf762,'volume':_0x401630['volume']};return this['addCompone'+'nt'](_0x5e56c0,_0x3cc950);}['onUpdate'](_0x3804a2){const _0x51b51b=this['store'];for(const _0x2b2628 in _0x51b51b)if(_0x51b51b['hasOwnProp'+'erty'](_0x2b2628)){const _0x57d4ae=_0x51b51b[_0x2b2628]['entity'];if(_0x57d4ae['enabled']){const _0x41deaa=_0x57d4ae['sound'];if(_0x41deaa['enabled']&&_0x41deaa['positional']){const _0x4cfec7=_0x57d4ae['getPositio'+'n'](),_0x534606=_0x41deaa['slots'];for(const _0x4ca245 in _0x534606)_0x534606[_0x4ca245]['updatePosi'+'tion'](_0x4cfec7);}}}}['onBeforeRe'+'move'](_0x105a53,_0x8e6701){const _0x47aa69=_0x8e6701['slots'];for(const _0x5c8059 in _0x47aa69)_0x47aa69[_0x5c8059]['overlap']||_0x47aa69[_0x5c8059]['stop']();_0x8e6701['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Nr['prototype'],xx);const Cg='simple',Mg='animated';class bi extends ce{constructor(_0x5c706f,_0xcbf15a){super(),c(this,'_evtSetMes'+'hes',null),(this['_component']=_0x5c706f,this['_frame']=-0x7*-0xef+-0x1f6b+-0xb6*-0x23,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0xcbf15a['spriteAsse'+'t'],this['name']=_0xcbf15a['name'],this['fps']=_0xcbf15a['fps']||-0x13f*0x9+-0x489*-0x3+0x11*-0x24,this['loop']=_0xcbf15a['loop']||!(-0x2b*0xcc+0x883+0x19c2),this['_playing']=!(0x7*-0x47a+0x11c*0x17+0x15*0x47),this['_paused']=!(0x2307+-0x1f7*0x1+0x193*-0x15),this['_time']=0x21ec*-0x1+0x27b+0x1f71);}get['duration'](){if(this['_sprite']){const _0x4c39b7=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x4c39b7);}return 0x1ade+0xa5c+-0x253a;}set['frame'](_0x53e9d0){this['_setFrame'](_0x53e9d0);const _0x3f8a68=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x3f8a68);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x2dce24){var _0x390cc8;if(this['_sprite']&&((_0x390cc8=this['_evtSetMes'+'hes'])==null||_0x390cc8['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x2dce24,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x29c0d1;!_0x2dce24||!_0x2dce24['atlas']?(_0x29c0d1=this['_component']['_meshInsta'+'nce'],_0x29c0d1&&(_0x29c0d1['deletePara'+'meter']('texture_em'+'issiveMap'),_0x29c0d1['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x2dce24['atlas']['texture']&&(_0x29c0d1=this['_component']['_meshInsta'+'nce'],_0x29c0d1&&(_0x29c0d1['setParamet'+'er']('texture_em'+'issiveMap',_0x2dce24['atlas']['texture']),_0x29c0d1['setParamet'+'er']('texture_op'+'acityMap',_0x2dce24['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x1c7066){const _0x5548a1=this['_component']['system']['app']['assets'];let _0x5ce0dd=_0x1c7066;if(_0x1c7066 instanceof le&&(_0x5ce0dd=_0x1c7066['id']),this['_spriteAss'+'et']!==_0x5ce0dd){if(this['_spriteAss'+'et']){const _0x42aca1=_0x5548a1['get'](this['_spriteAss'+'et']);_0x42aca1&&this['_unbindSpr'+'iteAsset'](_0x42aca1);}if(this['_spriteAss'+'et']=_0x5ce0dd,this['_spriteAss'+'et']){const _0x5d4448=_0x5548a1['get'](this['_spriteAss'+'et']);_0x5d4448?this['_bindSprit'+'eAsset'](_0x5d4448):(this['sprite']=null,_0x5548a1['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x2ecea4){this['_setTime'](_0x2ecea4),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(-0x45*-0x39+0x1ef0+-0x2e4c),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=0xe*0x1e6+0x15c9+-0x305d;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x39bc6c){this['_component']['system']['app']['assets']['off']('add:'+_0x39bc6c['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x39bc6c['id']&&this['_bindSprit'+'eAsset'](_0x39bc6c);}['_bindSprit'+'eAsset'](_0x541d15){_0x541d15['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x541d15['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x541d15['resource']?this['_onSpriteA'+'ssetLoad'](_0x541d15):this['_component']['system']['app']['assets']['load'](_0x541d15);}['_unbindSpr'+'iteAsset'](_0x2316c3){_0x2316c3&&(_0x2316c3['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x2316c3['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x2316c3['resource']&&!_0x2316c3['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x2316c3['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x12b3b9){if(!_0x12b3b9['resource'])this['sprite']=null;else{if(_0x12b3b9['resource']['atlas'])this['sprite']=_0x12b3b9['resource'];else{const _0x40f1a6=_0x12b3b9['data']['textureAtl'+'asAsset'],_0x209719=this['_component']['system']['app']['assets'];_0x209719['off']('load:'+_0x40f1a6,this['_onTexture'+'AtlasLoad'],this),_0x209719['once']('load:'+_0x40f1a6,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x2de1bb){const _0x17064e=this['_spriteAss'+'et'];_0x17064e instanceof le?this['_onSpriteA'+'ssetLoad'](_0x17064e):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x17064e));}['_onSpriteA'+'ssetRemove'](_0x32fa85){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==Ti&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x1a9f4f){if(this['fps']===-0x13f8+0x8ef+-0x235*-0x5||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x1daa09=this['fps']<0x1944+-0x18fd+-0x47?-(0x666+-0x14bf*-0x1+-0xc1*0x24):-0x1956+0x1f*-0x7d+0x21*0x13a,_0x12b70d=this['_time']+_0x1a9f4f*this['_component']['speed']*_0x1daa09,_0xebe3a6=this['duration'],_0x3a2be9=_0x12b70d>_0xebe3a6||_0x12b70d<-0x1024+0xa53+0x5d1;this['_setTime'](_0x12b70d);let _0x3ed726=this['frame'];this['_sprite']?_0x3ed726=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0xebe3a6):_0x3ed726=-0xed0+-0x131*0x2+-0x3e*-0x47,_0x3ed726!==this['_frame']&&this['_setFrame'](_0x3ed726),_0x3a2be9&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(0x11dc*-0x1+0x25+0x11b8),this['_paused']=!(0x152*0x1c+0x1*-0x1391+-0x1166),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x3ab883){this['_time']=_0x3ab883;const _0xfe2d35=this['duration'];this['_time']<-0x2329*-0x1+-0x955+0x227*-0xc?this['loop']?this['_time']=this['_time']%_0xfe2d35+_0xfe2d35:this['_time']=-0x1988+0x16ac+0x7a*0x6:this['_time']>_0xfe2d35&&(this['loop']?this['_time']%=_0xfe2d35:this['_time']=_0xfe2d35);}['_setFrame'](_0x5e3f5a){this['_sprite']?this['_frame']=N['clamp'](_0x5e3f5a,-0x1ba6+-0xa7b*0x1+0x2621*0x1,this['_sprite']['frameKeys']['length']-(0x1ebf+0x1569+0x3427*-0x1)):this['_frame']=_0x5e3f5a,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x2c4748=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x2c4748['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(-0x1*-0x224f+0x1f*0x4e+-0x2bc1),this['_paused']=!(0x1725+0x1153*-0x1+-0x1*0x5d1),this['frame']=-0xdd4+0x1*-0x1479+-0xb6f*-0x3,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(0x6*-0x277+-0x1819*0x1+0x26e3),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(0x2401*-0x1+-0x1d7e+0x4180),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(-0x1ff7+0x1325*0x1+0xcd3),this['_paused']=!(-0x1d6a+-0x6*-0x220+0x10ab*0x1),this['_time']=0x18cb+0x12be+0x5*-0x8b5,this['frame']=0x1341+-0x2023+0xce2,this['fire']('stop'),this['_component']['fire']('stop',this));}}c(bi,'EVENT_PLAY','play'),c(bi,'EVENT_PAUS'+'E','pause'),c(bi,'EVENT_RESU'+'ME','resume'),c(bi,'EVENT_STOP','stop'),c(bi,'EVENT_END','end'),c(bi,'EVENT_LOOP','loop');const Pg='texture_em'+'issiveMap',Rg='texture_op'+'acityMap',Ig='material_e'+'missive',Dg='material_o'+'pacity',NI='innerOffse'+'t',zI='outerScale',UI='atlasRect';class ji extends ue{constructor(_0x276745,_0x47e4e3){super(_0x276745,_0x47e4e3),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_type']=Cg,this['_material']=_0x276745['defaultMat'+'erial'],this['_color']=new Y(0x14d*-0x11+0x1fd1+-0xbf*0xd,0x725+0x1bd8+-0x22fc,0x11a5+-0x947+-0x1*0x85d,-0xd*0xc3+0x26eb+-0x1d03),this['_colorUnif'+'orm']=new Float32Array(-0x2109+0x1e2d+-0x1*-0x2df),this['_speed']=-0x19a4*0x1+0x3*0x779+0x2*0x19d,this['_flipX']=!(-0x1c57+0x7c2+0x1496),this['_flipY']=!(0x2b6+-0x12*0x8d+-0x5*-0x171),this['_width']=-0x1b4d+-0xc16+0x2764,this['_height']=-0x11a7*-0x2+0x346*-0x2+-0x1cc1,this['_drawOrder']=0x865*0x1+-0x4ce+0x397*-0x1,this['_layers']=[Fi],this['_outerScal'+'e']=new W(0x1c13*-0x1+-0x1da3+0x39b7,-0x1884*0x1+0x419*-0x9+0x3d66),this['_outerScal'+'eUniform']=new Float32Array(-0x17ec+-0x1*-0x11df+0x60f),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(-0x1c06+-0x6d*0x38+-0x1d*-0x1ca),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(0x1*-0x1f19+0x950+0x15cd*0x1),this['_batchGrou'+'pId']=-(-0x1959+-0x7a*-0x23+0x8ac),this['_batchGrou'+'p']=null,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x47e4e3['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x47e4e3,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(-0x1411*0x1+0x1*0x9ef+0xa23),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new bi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(-0x1*0xf85+-0x1*0xf74+0x1efa),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x26471f){this['_type']!==_0x26471f&&(this['_type']=_0x26471f,this['_type']===Cg?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===Mg&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x4c06f2){this['_currentCl'+'ip']['frame']=_0x4c06f2;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x41bf72){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x41bf72;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0xaa710c){this['_currentCl'+'ip']['sprite']=_0xaa710c;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x30f598){this['_material']=_0x30f598,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x30f598);}get['material'](){return this['_material'];}set['color'](_0x92189){this['_color']['r']=_0x92189['r'],this['_color']['g']=_0x92189['g'],this['_color']['b']=_0x92189['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][-0x5*-0x47+0x2523+-0x1343*0x2]=this['_color']['r'],this['_colorUnif'+'orm'][-0x5d5*0x3+0x267b+-0x83*0x29]=this['_color']['g'],this['_colorUnif'+'orm'][-0x243a+-0xc59*-0x1+0x17e3]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x2075b6){this['_color']['a']=_0x2075b6,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](Dg,_0x2075b6);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x46c8e7){if(!_0x46c8e7){for(const _0x43714e in this['_clips'])this['removeClip'](_0x43714e);return;}for(const _0x18f0d5 in this['_clips']){let _0x50e030=!(0x25c*-0x10+-0x861+0x2e22);for(const _0xd5dd46 in _0x46c8e7)if(_0x46c8e7[_0xd5dd46]['name']===_0x18f0d5){_0x50e030=!(-0x16b8+0x1*0x1071+0x647*0x1),this['_clips'][_0x18f0d5]['fps']=_0x46c8e7[_0xd5dd46]['fps'],this['_clips'][_0x18f0d5]['loop']=_0x46c8e7[_0xd5dd46]['loop'],_0x46c8e7[_0xd5dd46]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x18f0d5]['sprite']=_0x46c8e7[_0xd5dd46]['sprite']:_0x46c8e7[_0xd5dd46]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x18f0d5]['spriteAsse'+'t']=_0x46c8e7[_0xd5dd46]['spriteAsse'+'t']);break;}_0x50e030||this['removeClip'](_0x18f0d5);}for(const _0x422eb3 in _0x46c8e7)this['_clips'][_0x46c8e7[_0x422eb3]['name']]||this['addClip'](_0x46c8e7[_0x422eb3]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x2bdc76){this['_speed']=_0x2bdc76;}get['speed'](){return this['_speed'];}set['flipX'](_0x4181c8){this['_flipX']!==_0x4181c8&&(this['_flipX']=_0x4181c8,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x38c9bd){this['_flipY']!==_0x38c9bd&&(this['_flipY']=_0x38c9bd,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x508fe7){_0x508fe7!==this['_width']&&(this['_width']=_0x508fe7,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x5c2e1e){_0x5c2e1e!==this['_height']&&(this['_height']=_0x5c2e1e,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0xc8a8e1){var _0x20053a,_0x5f212b;if(this['_batchGrou'+'pId']===_0xc8a8e1)return;const _0x4a43c4=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0xc8a8e1,this['entity']['enabled']&&_0x4a43c4>=-0x1422+0x233f*-0x1+0x3761&&((_0x20053a=this['system']['app']['batcher'])==null||_0x20053a['remove'](et['SPRITE'],_0x4a43c4,this['entity'])),this['entity']['enabled']&&_0xc8a8e1>=-0x18e7+-0x2032+-0x2f*-0x137?(_0x5f212b=this['system']['app']['batcher'])==null||_0x5f212b['insert'](et['SPRITE'],_0xc8a8e1,this['entity']):_0x4a43c4>=-0xe17*-0x2+0x47*0x7c+-0x3e92&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x5dcd10){this['_autoPlayC'+'lip']=_0x5dcd10 instanceof bi?_0x5dcd10['name']:_0x5dcd10,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x55f4b9){this['_drawOrder']=_0x55f4b9,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x55f4b9);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x41f1e7){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x41f1e7,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x35a91d;const _0x2b8ea8=this['system']['app'],_0x3d2a98=_0x2b8ea8['scene'],_0x12fe00=_0x3d2a98['layers'];this['_evtLayers'+'Changed']=_0x3d2a98['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x12fe00&&(this['_evtLayerA'+'dded']=_0x12fe00['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x12fe00['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=-0x1*-0x25c+0x9e5*-0x3+-0x5*-0x577&&((_0x35a91d=_0x2b8ea8['batcher'])==null||_0x35a91d['insert'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x126377,_0x4e4fc8,_0x650df8,_0x12656c;const _0x50d132=this['system']['app'],_0x550629=_0x50d132['scene']['layers'];(_0x126377=this['_evtLayers'+'Changed'])==null||_0x126377['off'](),this['_evtLayers'+'Changed']=null,_0x550629&&((_0x4e4fc8=this['_evtLayerA'+'dded'])==null||_0x4e4fc8['off'](),this['_evtLayerA'+'dded']=null,(_0x650df8=this['_evtLayerR'+'emoved'])==null||_0x650df8['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=-0x6b2*0x1+-0x18e1+0x1f93&&((_0x12656c=_0x50d132['batcher'])==null||_0x12656c['remove'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x57b1a2;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x365bb5 in this['_clips'])this['_clips'][_0x365bb5]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x57b1a2=this['_node'])==null||_0x57b1a2['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x155d9b=[this['_meshInsta'+'nce']];for(let _0x4cbacf=0x56*0x65+-0x1*-0x10a5+-0x3293,_0x5d8e0a=this['_layers']['length'];_0x4cbacf<_0x5d8e0a;_0x4cbacf++){const _0x2dac80=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x4cbacf]);_0x2dac80&&_0x2dac80['addMeshIns'+'tances'](_0x155d9b);}this['_addedMode'+'l']=!(0x10d2+-0x462+-0xc70);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x730074=[this['_meshInsta'+'nce']];for(let _0x282111=-0x4*0x4b5+-0x16a+0x143e,_0x4ee1dd=this['_layers']['length'];_0x282111<_0x4ee1dd;_0x282111++){const _0x4b373c=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x282111]);_0x4b373c&&_0x4b373c['removeMesh'+'Instances'](_0x730074);}this['_addedMode'+'l']=!(0x2462+0x21*-0xa1+-0xfa0);}['_showFrame'](_0x5bcbfb){if(!this['sprite'])return;const _0x1968ae=this['sprite']['meshes'][_0x5bcbfb];if(!_0x1968ae){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(-0x16*-0xe5+-0x76a+-0xc43*0x1));return;}let _0x5cad78;if(this['sprite']['renderMode']===nt?_0x5cad78=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Qe?_0x5cad78=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x5cad78=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new Le(_0x1968ae,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(0x2cc+0x774+-0x2b*0x3d),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(0x1d8*0x2+0x219b*-0x1+0x1dec),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][-0x2b*0xbb+-0x57*0x1b+0x2896]=this['_color']['r'],this['_colorUnif'+'orm'][-0x8f8+0x6ff*-0x2+0x16f7]=this['_color']['g'],this['_colorUnif'+'orm'][-0x43*-0x2c+0xb0b+0x168d*-0x1]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](Dg,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x5cad78&&(this['_meshInsta'+'nce']['material']=_0x5cad78),this['_meshInsta'+'nce']['mesh']!==_0x1968ae&&(this['_meshInsta'+'nce']['mesh']=_0x1968ae,this['_meshInsta'+'nce']['visible']=!(-0xa*0x2b3+0x1577*0x1+0x587),this['_meshInsta'+'nce']['_aabbVer']=-(0xbf1+0x10e8*-0x2+-0x19*-0xe0)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](Pg,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](Rg,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](Pg),this['_meshInsta'+'nce']['deletePara'+'meter'](Rg)),this['sprite']['atlas']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x246971=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x5bcbfb]];if(_0x246971){const _0x2da2bb=(0x6*0x49e+0x20e7+0x1433*-0x3)/_0x246971['rect']['z'],_0x578364=(-0x1490+0x1*-0x1183+0x2615)/_0x246971['rect']['w'];this['_innerOffs'+'et']['set'](_0x246971['border']['x']*_0x2da2bb,_0x246971['border']['y']*_0x578364,_0x246971['border']['z']*_0x2da2bb,_0x246971['border']['w']*_0x578364);const _0x294759=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x246971['rect']['x']/_0x294759['width'],_0x246971['rect']['y']/_0x294759['height'],_0x246971['rect']['z']/_0x294759['width'],_0x246971['rect']['w']/_0x294759['height']);}else this['_innerOffs'+'et']['set'](0x4*-0xdf+-0x4b*0x7f+0x3b3*0xb,0x178a+-0x7*0xbb+-0x126d,0x1a72+-0x11b2+-0x8c0,0x1884+-0x258f+0xd0b);this['_innerOffs'+'etUniform'][-0x7d0+0x1*-0x13df+0x1baf]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x8f*0x2+0x29c*0x4+-0x951]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x550+-0x2478+0x29ca]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x1aa1+-0x3*0x3f5+-0x19*0x97]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](NI,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x1*0x20ca+-0x4*0x84c+0x22*0x3]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x7*0x4c0+0x1dc6+0x37b]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x265d+-0x24cb+-0x64*0x4]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0x3*0xc47+0x2f3*-0xd+0x185]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](UI,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x100e1c=this['flipX']?-(-0x1c63+-0x1f34+0x3b98):0x2*0x57b+0x1de2+-0x2b9*0xf,_0x1dac11=this['flipY']?-(-0x8c2*-0x1+0x1cb+-0x3*0x384):0x4*-0x940+0x110f+0x6f*0x2e,_0x3fa6fd=-0xa7*0x2+0x2ce+-0x18*0x10,_0x37c5f9=0x1*0x24bc+0xfab+-0x5*0xa7b;if(this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){let _0x461ae3=-0x1da+0xb89+-0x9ae,_0x250057=-0x349+0xe3c*-0x2+0x1fc2;if(this['sprite']['atlas']){const _0x553d12=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x553d12&&(_0x461ae3=_0x553d12['rect']['z'],_0x250057=_0x553d12['rect']['w'],_0x3fa6fd=(-0x1*0x25e+0x15f0+-0x1392+0.5-_0x553d12['pivot']['x'])*this['_width'],_0x37c5f9=(0x1498+-0x803+0xc95*-0x1+0.5-_0x553d12['pivot']['y'])*this['_height']);}const _0x524710=_0x461ae3/this['sprite']['pixelsPerU'+'nit'],_0x92315b=_0x250057/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x524710),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x92315b)),_0x100e1c*=_0x524710,_0x1dac11*=_0x92315b,this['_outerScal'+'e']['x']/=_0x524710,this['_outerScal'+'e']['y']/=_0x92315b,_0x100e1c*=N['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x524710),-0xf3a+-0x26d8+0x9*0x602+0.0001,0x101*-0x1d+-0x41c*0x4+0x77*0x62),_0x1dac11*=N['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x92315b),0xf1*0x12+-0x5e*-0x26+0x1ee6*-0x1+0.0001,-0x7*-0x44f+-0xf50+-0xed8),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][-0x16e7+-0xadd*0x3+0x377e]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x2196+-0x1*0x3d9+-0x1dbc]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](zI,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x100e1c,_0x1dac11,0x1*0x157f+-0x171c+0x19e),this['_node']['setLocalPo'+'sition'](_0x3fa6fd,_0x37c5f9,0x4*-0x823+-0x2058+0x40e4);}['_updateAab'+'b'](_0x588721){return _0x588721['center']['set'](-0x2c*-0x20+-0x28*0x15+0x1*-0x238,-0x5*-0x567+0x24b*-0x7+-0x57b*0x2,0x4*-0x76+-0x193b+-0xef*-0x1d),_0x588721['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x2581+0x235*0x9+-0x395e+0.5),this['_outerScal'+'e']['y']*(-0x269f+0xa*0x353+0x561+0.5),0x17b*0x11+0xe49+-0x2*0x13ba+0.001),_0x588721['setFromTra'+'nsformedAa'+'bb'](_0x588721,this['_node']['getWorldTr'+'ansform']()),_0x588721;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==Mg)return;const _0x5cccc6=this['_clips'][this['_autoPlayC'+'lip']];_0x5cccc6&&!_0x5cccc6['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x5cccc6['name']);}['_onLayersC'+'hanged'](_0x54a9f9,_0x2db85c){_0x54a9f9['off']('add',this['onLayerAdd'+'ed'],this),_0x54a9f9['off']('remove',this['onLayerRem'+'oved'],this),_0x2db85c['on']('add',this['onLayerAdd'+'ed'],this),_0x2db85c['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x7c81f0){this['layers']['indexOf'](_0x7c81f0['id'])<-0x4*-0x3be+0x1129+-0x2021||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x7c81f0['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x583c52){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x583c52['id'])<-0x9b*-0x21+-0x1*-0x21bd+-0xbf*0x48||_0x583c52['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x4da2e9=0x227+-0x111+0x2*-0x8b;_0x4da2e9<this['layers']['length'];_0x4da2e9++){const _0x35cdb4=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x4da2e9]);_0x35cdb4&&_0x35cdb4['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x213cde){const _0x2296d2=new bi(this,{'name':_0x213cde['name'],'fps':_0x213cde['fps'],'loop':_0x213cde['loop'],'spriteAsset':_0x213cde['spriteAsse'+'t']});return this['_clips'][_0x213cde['name']]=_0x2296d2,_0x2296d2['name']&&_0x2296d2['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x2296d2;}['removeClip'](_0x39f10c){delete this['_clips'][_0x39f10c];}['clip'](_0x4762b0){return this['_clips'][_0x4762b0];}['play'](_0x37a397){const _0x41c79b=this['_clips'][_0x37a397],_0x58f5a6=this['_currentCl'+'ip'];return _0x58f5a6&&_0x58f5a6!==_0x41c79b&&(_0x58f5a6['_playing']=!(-0x6b6+0x699+0xf*0x2)),this['_currentCl'+'ip']=_0x41c79b,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x41c79b,this['_currentCl'+'ip']['play']()):v['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x37a397+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x41c79b;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}c(ji,'EVENT_PLAY','play'),c(ji,'EVENT_PAUS'+'E','pause'),c(ji,'EVENT_RESU'+'ME','resume'),c(ji,'EVENT_STOP','stop'),c(ji,'EVENT_END','end'),c(ji,'EVENT_LOOP','loop');class VI{constructor(){this['enabled']=!(0x1ff8+0x1*-0x2205+0x20d);}}const Sx=['enabled'];class GI extends Xe{constructor(_0x307ba7){super(_0x307ba7),this['id']='sprite',this['ComponentT'+'ype']=ji,this['DataType']=VI,this['schema']=Sx,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x4498ce){this['_defaultMa'+'terial']=_0x4498ce;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x481efd=new he(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':Se,'name':'sprite'}),_0xb0b636=new Uint8Array(_0x481efd['lock']());_0xb0b636[0x3*-0xf1+0x47*0x25+0x44*-0x1c]=_0xb0b636[0x115*-0x11+-0xb*0x361+0x3791*0x1]=_0xb0b636[0xec*0x10+-0x1*-0x238d+-0x7d*0x67]=_0xb0b636[0x5d8+0x255e*-0x1+-0xa83*-0x3]=-0x17*0x185+-0x1*-0x2009+0x5b*0xb,_0x481efd['unlock']();const _0x491195=new cs();_0x491195['diffuse']['set'](0x1*-0x1d3a+-0x3*0xf+-0xd*-0x243,0x13b2+0xd61+0x1*-0x2113,-0xe7*0x18+0x1*0x17a8+-0x200),_0x491195['emissive']['set'](0x20aa+-0x1685*0x1+-0xa24,-0x84+0xf30+0xeab*-0x1,-0xce+0x2243*-0x1+0x2312),_0x491195['emissiveMa'+'p']=_0x481efd,_0x491195['opacityMap']=_0x481efd,_0x491195['opacityMap'+'Channel']='a',_0x491195['useLightin'+'g']=!(0x2124+-0x2ad+-0xe*0x22d),_0x491195['useTonemap']=!(-0x1739+-0xec2+0xbb*0x34),_0x491195['useFog']=!(0x283*-0x9+-0x11f7+0x2893),_0x491195['useSkybox']=!(0x461*-0x7+-0x10f*-0x1f+-0x229),_0x491195['blendType']=hr,_0x491195['depthWrite']=!(-0x1424+0x3c3+0x831*0x2),_0x491195['pixelSnap']=!(-0x12a3+-0x178c+0xb4*0x3c),_0x491195['cull']=mt,_0x491195['update'](),this['_defaultTe'+'xture']=_0x481efd,this['_defaultMa'+'terial']=_0x491195;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x2d26ef){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x2d26ef;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x5d5971=this['defaultMat'+'erial']['clone']();_0x5d5971['nineSliced'+'Mode']=nt,_0x5d5971['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x5d5971;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x3de141){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x3de141;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x35b449=this['defaultMat'+'erial']['clone']();_0x35b449['nineSliced'+'Mode']=Qe,_0x35b449['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x35b449;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x23e275,_0x1d5237,_0x228f56){if(_0x1d5237['enabled']!==void(0x135f+-0x4*-0x5c1+-0x2a63)&&(_0x23e275['enabled']=_0x1d5237['enabled']),_0x23e275['type']=_0x1d5237['type'],_0x1d5237['layers']&&Array['isArray'](_0x1d5237['layers'])&&(_0x23e275['layers']=_0x1d5237['layers']['slice'](-0x95e+0x4a5*0x3+-0x491*0x1)),_0x1d5237['drawOrder']!==void(-0x23c1+-0x77*-0x4b+0xe4)&&(_0x23e275['drawOrder']=_0x1d5237['drawOrder']),_0x1d5237['color']!==void(0x406*-0x2+0x111+0x6fb)&&(_0x1d5237['color']instanceof Y?_0x23e275['color']['set'](_0x1d5237['color']['r'],_0x1d5237['color']['g'],_0x1d5237['color']['b'],_0x1d5237['opacity']??0x477+-0x1*0x21ea+-0x179*-0x14):_0x23e275['color']['set'](_0x1d5237['color'][-0x127+-0x15ea+0x1711],_0x1d5237['color'][-0x2372*0x1+0x1ee9+-0x2*-0x245],_0x1d5237['color'][-0x10d*0x3+-0xe3*-0x1e+-0x161*0x11],_0x1d5237['opacity']??0xdd4+-0x8a6*0x3+0x1d*0x6b),_0x23e275['color']=_0x23e275['color']),_0x1d5237['opacity']!==void(0x2*0xd7+-0x121f+0x1071)&&(_0x23e275['opacity']=_0x1d5237['opacity']),_0x1d5237['flipX']!==void(0x1*0x152+-0x3a0+-0x24e*-0x1)&&(_0x23e275['flipX']=_0x1d5237['flipX']),_0x1d5237['flipY']!==void(0x1*0x14b1+0x25e6+-0x35*0x11b)&&(_0x23e275['flipY']=_0x1d5237['flipY']),_0x1d5237['width']!==void(0x2230+0xe3b*0x2+-0x3ea6)&&(_0x23e275['width']=_0x1d5237['width']),_0x1d5237['height']!==void(-0x2672+-0x637+-0x2ca9*-0x1)&&(_0x23e275['height']=_0x1d5237['height']),_0x1d5237['spriteAsse'+'t']!==void(0x1*-0x201d+-0xa9e+0x2abb)&&(_0x23e275['spriteAsse'+'t']=_0x1d5237['spriteAsse'+'t']),_0x1d5237['sprite']&&(_0x23e275['sprite']=_0x1d5237['sprite']),_0x1d5237['frame']!==void(0x6a4+-0x997+0x2f3)&&(_0x23e275['frame']=_0x1d5237['frame']),_0x1d5237['clips']){for(const _0x33d9d9 in _0x1d5237['clips'])_0x23e275['addClip'](_0x1d5237['clips'][_0x33d9d9]);}_0x1d5237['speed']!==void(0x41b*0x9+0xe*-0x179+-0x1055)&&(_0x23e275['speed']=_0x1d5237['speed']),_0x1d5237['autoPlayCl'+'ip']&&(_0x23e275['autoPlayCl'+'ip']=_0x1d5237['autoPlayCl'+'ip']),_0x23e275['batchGroup'+'Id']=_0x1d5237['batchGroup'+'Id']===void(-0x25b7+-0x88+0x263f)||_0x1d5237['batchGroup'+'Id']===null?-(-0x2*0x5d5+-0x1*-0x1783+-0xbd8):_0x1d5237['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x23e275,_0x1d5237,_0x228f56);}['cloneCompo'+'nent'](_0x671835,_0x515325){const _0x4aa25a=_0x671835['sprite'];return this['addCompone'+'nt'](_0x515325,{'enabled':_0x4aa25a['enabled'],'type':_0x4aa25a['type'],'spriteAsset':_0x4aa25a['spriteAsse'+'t'],'sprite':_0x4aa25a['sprite'],'width':_0x4aa25a['width'],'height':_0x4aa25a['height'],'frame':_0x4aa25a['frame'],'color':_0x4aa25a['color']['clone'](),'opacity':_0x4aa25a['opacity'],'flipX':_0x4aa25a['flipX'],'flipY':_0x4aa25a['flipY'],'speed':_0x4aa25a['speed'],'clips':_0x4aa25a['clips'],'autoPlayClip':_0x4aa25a['autoPlayCl'+'ip'],'batchGroupId':_0x4aa25a['batchGroup'+'Id'],'drawOrder':_0x4aa25a['drawOrder'],'layers':_0x4aa25a['layers']['slice'](-0x1741*0x1+0x1*-0x2dd+0x1a1e)});}['onUpdate'](_0x366c4a){const _0x461b3a=this['store'];for(const _0x38cfb1 in _0x461b3a)if(_0x461b3a['hasOwnProp'+'erty'](_0x38cfb1)){const _0x10fd91=_0x461b3a[_0x38cfb1];if(_0x10fd91['data']['enabled']&&_0x10fd91['entity']['enabled']){const _0x59a848=_0x10fd91['entity']['sprite'];_0x59a848['_currentCl'+'ip']&&_0x59a848['_currentCl'+'ip']['_update'](_0x366c4a);}}}['onBeforeRe'+'move'](_0x20fb7c,_0x489329){_0x489329['onDestroy']();}}ue['_buildAcce'+'ssors'](ji['prototype'],Sx);class ra extends ue{constructor(_0x31ddd3,_0x4477b9){super(_0x31ddd3,_0x4477b9),this['_oldState']=!(-0x13a7+-0x1f84+0x332b),this['_size']=new T(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x4b2a3f){_0x4b2a3f instanceof T?this['_size']['copy'](_0x4b2a3f):_0x4b2a3f instanceof Array&&_0x4b2a3f['length']>=-0x2259+-0x1601+0x385d&&this['size']['set'](_0x4b2a3f[-0x2017+-0x56*0x4f+0x3aa1],_0x4b2a3f[0x27e+0x11*0x31+-0x5be],_0x4b2a3f[-0x5*0x2d4+0x14c*0xc+-0xb5*0x2]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x526b06,_0x419485,_0x36c5a1){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x5e763b=this['enabled']&&this['entity']['enabled'];_0x5e763b!==this['_oldState']&&(this['_oldState']=_0x5e763b,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}c(ra,'EVENT_ENAB'+'LE','enable'),c(ra,'EVENT_DISA'+'BLE','disable'),c(ra,'EVENT_STAT'+'E','state'),c(ra,'EVENT_REMO'+'VE','remove');class HI{constructor(){this['enabled']=!(-0x197*0x17+0x1b61*0x1+-0x24c*-0x4);}}const vx=['enabled'];class WI extends Xe{constructor(_0x1c7e49){super(_0x1c7e49),this['id']='zone',this['ComponentT'+'ype']=ra,this['DataType']=HI,this['schema']=vx,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x127b7f,_0x17e2de,_0xd62973){_0x127b7f['enabled']=_0x17e2de['hasOwnProp'+'erty']('enabled')?!!_0x17e2de['enabled']:!(-0x1f2e+-0x3df*0x1+0x3e5*0x9),_0x17e2de['size']&&(_0x17e2de['size']instanceof T?_0x127b7f['size']['copy'](_0x17e2de['size']):_0x17e2de['size']instanceof Array&&_0x17e2de['size']['length']>=0x235f*-0x1+-0xd*-0x70+-0xb5*-0x2a&&_0x127b7f['size']['set'](_0x17e2de['size'][-0x2076+0x704+0x1972],_0x17e2de['size'][-0xc91*-0x2+-0xa9*0x36+0x1*0xa85],_0x17e2de['size'][-0x1769+0x13c9+0x3a2]));}['cloneCompo'+'nent'](_0xbcbd42,_0x17dc6a){const _0x39b646={'enabled':_0xbcbd42['zone']['enabled'],'size':_0xbcbd42['zone']['size']};return this['addCompone'+'nt'](_0x17dc6a,_0x39b646);}['_onBeforeR'+'emove'](_0x37b831,_0x2e3fa5){_0x2e3fa5['_onBeforeR'+'emove']();}}ue['_buildAcce'+'ssors'](ra['prototype'],vx);class $I{constructor(_0x3801c9,_0x5f1fc0){this['effect']=_0x3801c9,this['inputTarge'+'t']=_0x5f1fc0,this['outputTarg'+'et']=null,this['name']=_0x3801c9['constructo'+'r']['name'];}}class qI{constructor(_0x40ecba,_0x1b32e8){this['app']=_0x40ecba,this['camera']=_0x1b32e8,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(-0x55+-0x10*0x12+0x176),this['depthTarge'+'t']=null,_0x1b32e8['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x4c7cfd,_0x48356f){const _0x16986b=this['camera']['rect'],_0x4ba79e=this['destinatio'+'nRenderTar'+'get'],_0x1369b5=this['app']['graphicsDe'+'vice'],_0x591c3f=Math['floor'](_0x16986b['z']*((_0x4ba79e==null?void(0x4*-0x4a9+0x2682*-0x1+-0x5*-0xb6e):_0x4ba79e['width'])??_0x1369b5['width'])),_0x25fe81=Math['floor'](_0x16986b['w']*((_0x4ba79e==null?void(-0x1cc9+0x11a1*-0x2+0xf*0x445):_0x4ba79e['height'])??_0x1369b5['height']));return new he(_0x1369b5,{'name':_0x48356f,'format':_0x4c7cfd,'width':_0x591c3f,'height':_0x25fe81,'mipmaps':!(-0x1*0x1a05+0xe07+0x25*0x53),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['_createOff'+'screenTarg'+'et'](_0xc1f03b,_0x3e9e38){const _0x43d8f9=this['app']['graphicsDe'+'vice'],_0x2e7a32=(this['destinatio'+'nRenderTar'+'get']??_0x43d8f9['backBuffer'])['isColorBuf'+'ferSrgb'](-0xf31+-0x2*0xb51+0x25d3),_0x23811c=(_0x3e9e38&&_0x43d8f9['getRendera'+'bleHdrForm'+'at']([Je,Ke],!(0x1b7e+-0x551*0x2+-0x10dc)))??(_0x2e7a32?rs:Se),_0x2447d6=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x395899=this['_allocateC'+'olorBuffer'](_0x23811c,_0x2447d6);return new pt({'colorBuffer':_0x395899,'depth':_0xc1f03b,'stencil':_0xc1f03b&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0xc1f03b?_0x43d8f9['samples']:0x952+0x1e79+-0x27ca});}['_resizeOff'+'screenTarg'+'et'](_0x3eff79){const _0x18b761=_0x3eff79['colorBuffe'+'r']['format'],_0x56143f=_0x3eff79['colorBuffe'+'r']['name'];_0x3eff79['destroyFra'+'meBuffers'](),_0x3eff79['destroyTex'+'tureBuffer'+'s'](),_0x3eff79['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x18b761,_0x56143f),_0x3eff79['_colorBuff'+'ers']=[_0x3eff79['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x1ccabc){_0x1ccabc['destroyTex'+'tureBuffer'+'s'](),_0x1ccabc['destroy']();}['addEffect'](_0x33f46a){const _0x543525=this['effects'],_0x1d7f8=_0x543525['length']===0xb*0x28f+-0x1235+0x8*-0x13e,_0x187d44=this['_createOff'+'screenTarg'+'et'](_0x1d7f8,_0x33f46a['hdr']),_0x178be3=new $I(_0x33f46a,_0x187d44);_0x543525['push'](_0x178be3),this['_sourceTar'+'get']=_0x178be3['inputTarge'+'t'],_0x543525['length']>-0xcfa+0xd8b*0x1+-0x90&&(_0x543525[_0x543525['length']-(-0x1319*0x1+0x3d9*-0x5+0x2658)]['outputTarg'+'et']=_0x178be3['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x33f46a,_0x33f46a['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(-0x1401+-0x23f4+0x37f5);}['removeEffe'+'ct'](_0x110f12){let _0x53a72e=-(0x1824+-0xf*-0x241+-0x39f2);for(let _0x356319=0x4e1+0x4*0x31a+-0xb1*0x19,_0x3a3fac=this['effects']['length'];_0x356319<_0x3a3fac;_0x356319++)if(this['effects'][_0x356319]['effect']===_0x110f12){_0x53a72e=_0x356319;break;}_0x53a72e>=0xf3e+0x15df*0x1+-0x251d&&(_0x53a72e>0x116b+0x17a*0x3+0x77*-0x2f?this['effects'][_0x53a72e-(-0x158a+-0x1c99*-0x1+-0x6*0x12d)]['outputTarg'+'et']=_0x53a72e+(0x13f2+-0x47*0x20+0xb11*-0x1)<this['effects']['length']?this['effects'][_0x53a72e+(0x7+-0x1*-0x1606+-0x53*0x44)]['inputTarge'+'t']:null:this['effects']['length']>-0x62*-0x1d+-0x1620+-0x1*-0xb07&&(this['effects'][-0x1*-0x29+-0x9c7+-0x3*-0x335]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][0x1cb5*-0x1+0xe92+0xe24]['inputTarge'+'t']),this['effects'][0x12c4+0x1*0x9bb+-0x412*0x7]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(-0x4ae+0x4d9*-0x2+-0x1*-0xe60),this['effects'][0x489+0xd80+-0x2*0x904]['hdr']),this['_sourceTar'+'get']=this['effects'][0xa91+0x973*0x1+-0x1403*0x1]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][0xc46*-0x1+0x1f*-0x15+0x10f*0xe]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x53a72e]['inputTarge'+'t']),this['effects']['splice'](_0x53a72e,0x2f*-0x2c+-0x127b+-0x19*-0x110)),this['enabled']&&_0x110f12['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===-0x4f*-0x1e+-0x1c4+0x3bf*-0x2&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0xdfdac6=-0x15*-0x16c+-0xb5*-0x3+-0x1ffb,_0x3a502a=this['effects']['length'];_0xdfdac6<_0x3a502a;_0xdfdac6++){const _0x52d9b2=this['effects'][_0xdfdac6]['effect'];this['_newPostEf'+'fect']!==_0x52d9b2&&_0x52d9b2['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x498388=-0x6f*-0xc+-0x267e+-0x1*-0x214a,_0x3ba30a=this['effects']['length'];_0x498388<_0x3ba30a;_0x498388++)this['effects'][_0x498388]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x55289d=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x55289d&&(_0x55289d['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0x3*-0x819+-0x1*-0x21d5+-0x3a20)));}['_releaseDe'+'pthMap'](){const _0x3df81d=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x3df81d&&(_0x3df81d['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x151*0xb+-0x7*-0x2af+-0x2143)));}['destroy'](){for(let _0x417faf=-0x1a7d+0x2553+-0xad6,_0x5ade80=this['effects']['length'];_0x417faf<_0x5ade80;_0x417faf++)this['effects'][_0x417faf]['inputTarge'+'t']['destroy']();this['effects']['length']=0x1572+0x3fe*0x6+-0x2d66,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(-0x5c+0xec5+-0x77*0x1f),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][-0x22*-0xb2+-0x34*0x2+0x4*-0x5cf]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x4c3728=null;const _0x2ee69c=this['effects']['length'];if(_0x2ee69c)for(let _0x465c95=-0xbdc+0x1*0x26d9+0x15*-0x149;_0x465c95<_0x2ee69c;_0x465c95++){const _0x5aca50=this['effects'][_0x465c95];let _0x48dbf7=_0x5aca50['outputTarg'+'et'];_0x465c95===_0x2ee69c-(-0x15*-0x17+0x2*-0x73e+0xc9a)&&(_0x4c3728=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x48dbf7=this['destinatio'+'nRenderTar'+'get'])),G['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x5aca50['name']),_0x5aca50['effect']['render'](_0x5aca50['inputTarge'+'t'],_0x48dbf7,_0x4c3728),G['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(-0x1*-0x173d+-0x2f1*-0x6+-0x1471*0x2),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x3d7b84,_0x149255){const _0x38cb71=this['camera']['rect'],_0x59a26b=this['destinatio'+'nRenderTar'+'get'];_0x3d7b84=(_0x59a26b==null?void(0x6b*0x2f+0x8dd*0x2+0x9*-0x427):_0x59a26b['width'])??_0x3d7b84,_0x149255=(_0x59a26b==null?void(0x997+0x16*0x1a3+-0x511*0x9):_0x59a26b['height'])??_0x149255,this['camera']['camera']['aspectRati'+'o']=_0x3d7b84*_0x38cb71['z']/(_0x149255*_0x38cb71['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x219056=this['app']['graphicsDe'+'vice'],_0x40451a=this['destinatio'+'nRenderTar'+'get'],_0x5cc696=(_0x40451a==null?void(-0x765+-0x2471+0x15eb*0x2):_0x40451a['width'])??_0x219056['width'],_0x2d2878=(_0x40451a==null?void(-0xa4b+0x721+-0x195*-0x2):_0x40451a['height'])??_0x219056['height'],_0xb1b617=this['camera']['rect'],_0x340353=Math['floor'](_0xb1b617['z']*_0x5cc696),_0x2f0f61=Math['floor'](_0xb1b617['w']*_0x2d2878),_0x286656=this['effects'];for(let _0x1df981=-0x1911+0x121+0xbf8*0x2,_0x16d682=_0x286656['length'];_0x1df981<_0x16d682;_0x1df981++){const _0x5f39f6=_0x286656[_0x1df981];(_0x5f39f6['inputTarge'+'t']['width']!==_0x340353||_0x5f39f6['inputTarge'+'t']['height']!==_0x2f0f61)&&this['_resizeOff'+'screenTarg'+'et'](_0x5f39f6['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x5eb1e1,_0x45f3a4,_0x14c933){this['enabled']&&this['resizeRend'+'erTargets']();}}class bx extends ue{constructor(_0x59f947,_0x4b8da2){super(_0x59f947,_0x4b8da2),c(this,'onPostproc'+'essing',null),c(this,'_renderSce'+'neDepthMap',0x125d+0x9ad*-0x2+0xfd),c(this,'_renderSce'+'neColorMap',0x8*0x1cc+-0x245+-0xc1b),c(this,'_sceneDept'+'hMapReques'+'ted',!(0x13*0x5f+-0x23c2+-0xaf*-0x2a)),c(this,'_sceneColo'+'rMapReques'+'ted',!(0x1*0x245d+0xe*-0x2a1+0x72)),c(this,'_priority',0x1d77+-0x1e8b+0x5c*0x3),c(this,'_disablePo'+'stEffectsL'+'ayer',tl),c(this,'_camera',new ol()),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x4b8da2,this['_postEffec'+'ts']=new qI(_0x59f947['app'],this));}['setShaderP'+'ass'](_0x13574e){const _0x4cdf81=Ks['get'](this['system']['app']['graphicsDe'+'vice']),_0xc26aca=_0x13574e?_0x4cdf81['allocate'](_0x13574e,{'isForward':!(-0xf8a+0x1*-0x18df+0x2869)}):null;return this['_camera']['shaderPass'+'Info']=_0xc26aca,_0xc26aca['index'];}['getShaderP'+'ass'](){var _0x576f62;return(_0x576f62=this['_camera']['shaderPass'+'Info'])==null?void(-0x1*-0x22a7+0x1eb*-0x1+0x1a3*-0x14):_0x576f62['name'];}set['renderPass'+'es'](_0x25c6cd){this['_camera']['renderPass'+'es']=_0x25c6cd||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(-0x2de+0xed1+-0xbf3);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x474130){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x474130;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x3afdfb){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x3afdfb;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x2cf128){this['_camera']['fogParams']=_0x2cf128;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x57aabd){this['_camera']['aperture']=_0x57aabd;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x2cae30){this['_camera']['aspectRati'+'o']=_0x2cae30;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x162cb8){this['_camera']['aspectRati'+'oMode']=_0x162cb8;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x533c4e){this['_camera']['calculateP'+'rojection']=_0x533c4e;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x29de2c){this['_camera']['calculateT'+'ransform']=_0x29de2c;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x2cb9ff){this['_camera']['clearColor']=_0x2cb9ff;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x575f59){this['_camera']['clearColor'+'Buffer']=_0x575f59,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x5a11d6){this['_camera']['clearDepth'+'Buffer']=_0x5a11d6,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x1a2bb6){this['_camera']['clearStenc'+'ilBuffer']=_0x1a2bb6,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x285f3b){this['_camera']['cullFaces']=_0x285f3b;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x3ab206){this['_disablePo'+'stEffectsL'+'ayer']=_0x3ab206,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x45e3ca){this['_camera']['farClip']=_0x45e3ca;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x431da9){this['_camera']['flipFaces']=_0x431da9;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x205530){this['_camera']['fov']=_0x205530;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x384614){this['_camera']['frustumCul'+'ling']=_0x384614;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0xcb7290){this['_camera']['horizontal'+'Fov']=_0xcb7290;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x3216c8){const _0x3dc919=this['_camera']['layers'],_0x5e576c=this['system']['app']['scene'];_0x3dc919['forEach'](_0x426ff4=>{const _0x2a8fb5=_0x5e576c['layers']['getLayerBy'+'Id'](_0x426ff4);_0x2a8fb5==null||_0x2a8fb5['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x3216c8,this['enabled']&&this['entity']['enabled']&&_0x3216c8['forEach'](_0x155d85=>{const _0x342949=_0x5e576c['layers']['getLayerBy'+'Id'](_0x155d85);_0x342949==null||_0x342949['addCamera'](this);});}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x53cf89){this['_camera']['jitter']=_0x53cf89;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x320c08){this['_camera']['nearClip']=_0x320c08;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x517d6a){this['_camera']['orthoHeigh'+'t']=_0x517d6a;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x5d2ff3){this['_priority']=_0x5d2ff3,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x9813de){this['_camera']['projection']=_0x9813de;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0xe6020b){this['_camera']['rect']=_0xe6020b,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0xd2ae97){_0xd2ae97&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(-0x27*0xa1+0x2*0xe57+-0x427)),this['_sceneColo'+'rMapReques'+'ted']=!(-0x15*0x119+-0x1*0x18dc+0x2fe9)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(0x11ed+-0xd4a+-0x1*0x4a2)),this['_sceneColo'+'rMapReques'+'ted']=!(0x49*0xe+-0x1*-0xad5+-0xed2));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>-0x5e3+0x4a1*0x1+-0x142*-0x1;}set['renderScen'+'eDepthMap'](_0x169094){_0x169094&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(0x602+-0x2272+0x5*0x5b0)),this['_sceneDept'+'hMapReques'+'ted']=!(-0xa0*0x25+0x18d*0x4+0x10ec)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(-0x1c*0x4c+-0x552+0x1*0xda3)),this['_sceneDept'+'hMapReques'+'ted']=!(-0x1d*0xd3+-0x2637+0x3e1f));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0x1*0x105b+0x110d+-0x85a*0x4;}set['renderTarg'+'et'](_0x40c016){v['call'](()=>{this['_camera']['renderPass'+'es']['length']>-0xa*0x165+-0xc61*-0x1+-0x191*-0x1&&v['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x40c016,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x49e9c0){this['_camera']['scissorRec'+'t']=_0x49e9c0;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x5c252c){this['_camera']['sensitivit'+'y']=_0x5c252c;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x426f43){this['_camera']['shutter']=_0x426f43;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x3ec32b){if(this['layers']['find'](_0x342edf=>_0x342edf===Xt)){const _0x45310a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x3ec32b?_0x45310a==null||_0x45310a['incrementC'+'ounter']():_0x45310a==null||_0x45310a['decrementC'+'ounter']();}else{if(_0x3ec32b)return!(0xe9c+-0x33b*0xa+0x11b3);}return!(-0x1faf*0x1+-0x59d*0x6+0x415d);}['requestSce'+'neColorMap'](_0x1117e8){this['_renderSce'+'neColorMap']+=_0x1117e8?-0x86*-0x3d+-0xf2b+-0x41*0x42:-(-0xb45*-0x2+0x23c9*0x1+-0x3a52),v['assert'](this['_renderSce'+'neColorMap']>=-0x73f+-0x1*-0x1f83+-0x4*0x611),this['_enableDep'+'thLayer'](_0x1117e8)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']);}['requestSce'+'neDepthMap'](_0x35615a){this['_renderSce'+'neDepthMap']+=_0x35615a?0x2*-0xf43+0x1780+-0x1*-0x707:-(-0x98c+-0x154b+0x1ed8),v['assert'](this['_renderSce'+'neDepthMap']>=-0x7f*-0xa+0x1*-0x7ef+-0x1*-0x2f9),this['_enableDep'+'thLayer'](_0x35615a)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']);}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x40bc08=this['system']['app']['scene']['layers'];_0x40bc08['_dirty']=!(0x95*-0x1+-0x563+0x5f8);}['screenToWo'+'rld'](_0x1e0300,_0x1abf2e,_0x422d30,_0x3877e9){const _0x2c1ab0=this['system']['app']['graphicsDe'+'vice'],{width:_0xf56ce0,height:_0x14c0af}=_0x2c1ab0['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x1e0300,_0x1abf2e,_0x422d30,_0xf56ce0,_0x14c0af,_0x3877e9);}['worldToScr'+'een'](_0x3121fc,_0x8fe39d){const _0x350e54=this['system']['app']['graphicsDe'+'vice'],{width:_0xb693e3,height:_0x44a283}=_0x350e54['clientRect'];return this['_camera']['worldToScr'+'een'](_0x3121fc,_0xb693e3,_0x44a283,_0x8fe39d);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(-0x15*0x9f+0x1*0x557+0x7b4),this['_camera']['_viewProjM'+'atDirty']=!(0x15*-0x4f+0x3*-0x1d6+0xbfd);}['addCameraT'+'oLayers'](){const _0x4e871f=this['layers'];for(let _0x3d474f=-0x1f55*-0x1+0x201+-0x10ab*0x2;_0x3d474f<_0x4e871f['length'];_0x3d474f++){const _0x2d72f5=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x4e871f[_0x3d474f]);_0x2d72f5&&_0x2d72f5['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x40d44a=this['layers'];for(let _0x1a808e=0x35*-0x6b+-0x1478+0x2a9f;_0x1a808e<_0x40d44a['length'];_0x1a808e++){const _0x1369d1=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x40d44a[_0x1a808e]);_0x1369d1&&_0x1369d1['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x3ce990,_0x5b4ac7){this['addCameraT'+'oLayers'](),_0x3ce990['off']('add',this['onLayerAdd'+'ed'],this),_0x3ce990['off']('remove',this['onLayerRem'+'oved'],this),_0x5b4ac7['on']('add',this['onLayerAdd'+'ed'],this),_0x5b4ac7['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0xb0a841){this['layers']['indexOf'](_0xb0a841['id'])<0x26c2+-0x191*0xe+0x59c*-0x3||_0xb0a841['addCamera'](this);}['onLayerRem'+'oved'](_0x390f06){this['layers']['indexOf'](_0x390f06['id'])<-0xb4a*0x1+-0x195b+0x24a5||_0x390f06['removeCame'+'ra'](this);}['onEnable'](){var _0x27e2ea,_0x4a4f7a,_0x476467;const _0xc554fd=this['system']['app']['scene'],_0x3524f2=_0xc554fd['layers'];this['system']['addCamera'](this),(_0x27e2ea=this['_evtLayers'+'Changed'])==null||_0x27e2ea['off'](),this['_evtLayers'+'Changed']=_0xc554fd['on']('set:layers',this['onLayersCh'+'anged'],this),_0x3524f2&&((_0x4a4f7a=this['_evtLayerA'+'dded'])==null||_0x4a4f7a['off'](),this['_evtLayerA'+'dded']=_0x3524f2['on']('add',this['onLayerAdd'+'ed'],this),(_0x476467=this['_evtLayerR'+'emoved'])==null||_0x476467['off'](),this['_evtLayerR'+'emoved']=_0x3524f2['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x3da112,_0x63a70c,_0x31f114;const _0x25fa47=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x3da112=this['_evtLayers'+'Changed'])==null||_0x3da112['off'](),this['_evtLayers'+'Changed']=null,_0x25fa47&&((_0x63a70c=this['_evtLayerA'+'dded'])==null||_0x63a70c['off'](),this['_evtLayerA'+'dded']=null,(_0x31f114=this['_evtLayerR'+'emoved'])==null||_0x31f114['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x2f4aea){const _0x15a86c=this['system']['app']['graphicsDe'+'vice'],_0x275fec=_0x2f4aea?_0x2f4aea['width']:_0x15a86c['width'],_0x2e8773=_0x2f4aea?_0x2f4aea['height']:_0x15a86c['height'];return _0x275fec*this['rect']['z']/(_0x2e8773*this['rect']['w']);}['frameUpdat'+'e'](_0x2a5f4d){this['aspectRati'+'oMode']===Ip&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x2a5f4d));}['startXr'](_0x2c9f33,_0x4dd0ac,_0x54c01c){this['system']['app']['xr']['start'](this,_0x2c9f33,_0x4dd0ac,_0x54c01c);}['endXr'](_0x400d82){if(!this['_camera']['xr']){_0x400d82&&_0x400d82(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x400d82);}['copy'](_0x422614){this['aperture']=_0x422614['aperture'],this['aspectRati'+'o']=_0x422614['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x422614['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x422614['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x422614['calculateT'+'ransform'],this['clearColor']=_0x422614['clearColor'],this['clearColor'+'Buffer']=_0x422614['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x422614['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x422614['clearStenc'+'ilBuffer'],this['cullFaces']=_0x422614['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x422614['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x422614['farClip'],this['flipFaces']=_0x422614['flipFaces'],this['fov']=_0x422614['fov'],this['frustumCul'+'ling']=_0x422614['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x422614['horizontal'+'Fov'],this['layers']=_0x422614['layers'],this['nearClip']=_0x422614['nearClip'],this['orthoHeigh'+'t']=_0x422614['orthoHeigh'+'t'],this['priority']=_0x422614['priority'],this['projection']=_0x422614['projection'],this['rect']=_0x422614['rect'],this['renderTarg'+'et']=_0x422614['renderTarg'+'et'],this['scissorRec'+'t']=_0x422614['scissorRec'+'t'],this['sensitivit'+'y']=_0x422614['sensitivit'+'y'],this['shutter']=_0x422614['shutter'];}}class XI{constructor(){this['enabled']=!(0x50f+0x24c3+-0x29d2*0x1);}}const wx=['enabled'];class jI extends Xe{constructor(_0x19bb48){super(_0x19bb48),c(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=bx,this['DataType']=XI,this['schema']=wx,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x52d6f2,_0xb0c6cc,_0x46035e){_0x46035e=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x220cc8=-0x244a+0x13*-0x1e7+-0x7*-0xa59;_0x220cc8<_0x46035e['length'];_0x220cc8++){const _0x31c4e5=_0x46035e[_0x220cc8];if(_0xb0c6cc['hasOwnProp'+'erty'](_0x31c4e5)){const _0x3738b8=_0xb0c6cc[_0x31c4e5];switch(_0x31c4e5){case'rect':case'scissorRec'+'t':Array['isArray'](_0x3738b8)?_0x52d6f2[_0x31c4e5]=new Q(_0x3738b8[-0x6f5*-0x4+0x2375+-0x11*0x3b9],_0x3738b8[0x35*-0x2+-0xd01*-0x2+-0x1997],_0x3738b8[0x892*0x3+0xf5*0x23+-0x1b1*0x23],_0x3738b8[0x8*-0x48f+0xf*0x1d1+-0x1*-0x93c]):_0x52d6f2[_0x31c4e5]=_0x3738b8;break;case'clearColor':Array['isArray'](_0x3738b8)?_0x52d6f2[_0x31c4e5]=new Y(_0x3738b8[-0x1f0e+-0x8df+0x27ed*0x1],_0x3738b8[0x6bc*-0x4+-0x378*0x2+0x93*0x3b],_0x3738b8[0x547+0x5*-0x24d+0x63c],_0x3738b8[0x104e+-0x2652+0x1607]):_0x52d6f2[_0x31c4e5]=_0x3738b8;break;default:_0x52d6f2[_0x31c4e5]=_0x3738b8;break;}}}super['initialize'+'ComponentD'+'ata'](_0x52d6f2,_0xb0c6cc,['enabled']);}['cloneCompo'+'nent'](_0x9dfafb,_0x3b7e55){const _0x521db7=_0x9dfafb['camera'];return this['addCompone'+'nt'](_0x3b7e55,{'aspectRatio':_0x521db7['aspectRati'+'o'],'aspectRatioMode':_0x521db7['aspectRati'+'oMode'],'calculateProjection':_0x521db7['calculateP'+'rojection'],'calculateTransform':_0x521db7['calculateT'+'ransform'],'clearColor':_0x521db7['clearColor'],'clearColorBuffer':_0x521db7['clearColor'+'Buffer'],'clearDepthBuffer':_0x521db7['clearDepth'+'Buffer'],'clearStencilBuffer':_0x521db7['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x521db7['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x521db7['renderScen'+'eColorMap'],'cullFaces':_0x521db7['cullFaces'],'enabled':_0x521db7['enabled'],'farClip':_0x521db7['farClip'],'flipFaces':_0x521db7['flipFaces'],'fov':_0x521db7['fov'],'frustumCulling':_0x521db7['frustumCul'+'ling'],'horizontalFov':_0x521db7['horizontal'+'Fov'],'layers':_0x521db7['layers'],'renderTarget':_0x521db7['renderTarg'+'et'],'nearClip':_0x521db7['nearClip'],'orthoHeight':_0x521db7['orthoHeigh'+'t'],'projection':_0x521db7['projection'],'priority':_0x521db7['priority'],'rect':_0x521db7['rect'],'scissorRect':_0x521db7['scissorRec'+'t'],'aperture':_0x521db7['aperture'],'sensitivity':_0x521db7['sensitivit'+'y'],'shutter':_0x521db7['shutter'],'gammaCorrection':_0x521db7['gammaCorre'+'ction'],'toneMapping':_0x521db7['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x3999f3,_0x1fb3c3){this['removeCame'+'ra'](_0x1fb3c3),_0x1fb3c3['onRemove']();}['onAppPrere'+'nder'](){for(let _0x9acbb1=0x2535+-0x125*-0x2+-0x277f,_0x2108ac=this['cameras']['length'];_0x9acbb1<_0x2108ac;_0x9acbb1++)this['cameras'][_0x9acbb1]['onAppPrere'+'nder']();}['addCamera'](_0x445454){this['cameras']['push'](_0x445454),No(this['cameras']);}['removeCame'+'ra'](_0x71d466){const _0x239c71=this['cameras']['indexOf'](_0x71d466);_0x239c71>=-0x3*0x2a1+0x19fc+-0x1219&&(this['cameras']['splice'](_0x239c71,0x22d6+0x1f7c+0x161b*-0x3),No(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}ue['_buildAcce'+'ssors'](bx['prototype'],wx);class Tx{constructor(){c(this,'enabled',!(0xf93+-0x103*-0x3+0x4*-0x4a7)),c(this,'light'),c(this,'type','directiona'+'l'),c(this,'color',new Y(0x121e*0x1+-0x1*-0x4e4+-0x1701,-0xd84+-0x59c+0x1321,-0x7a1+-0x24ae+0x2c50)),c(this,'intensity',-0x1765*0x1+0xa64+0xd02),c(this,'luminance',-0x181c+0x47*-0x44+-0x2af8*-0x1),c(this,'shape',yt),c(this,'affectSpec'+'ularity',!(0x3*-0x55d+-0x2*-0xc1+-0xe95*-0x1)),c(this,'castShadow'+'s',!(-0x25d6+-0xb9f+0x3176)),c(this,'shadowDist'+'ance',0x1f75+-0x14b9+-0xa94),c(this,'shadowInte'+'nsity',-0x44d*0x8+-0x9*-0x372+0x367),c(this,'shadowReso'+'lution',0x2*-0xd98+-0x1599+0x34c9),c(this,'shadowBias',0x3*0x6a1+-0x2b9+-0x112a+0.05),c(this,'numCascade'+'s',0x40+-0x1edf+0x1ea0),c(this,'cascadeBle'+'nd',0x22eb+-0x1999+0x952*-0x1),c(this,'bakeNumSam'+'ples',0x23c9*0x1+-0xb*-0x2ba+-0x41c6),c(this,'bakeArea',-0xa4*-0x31+0x841*-0x4+0x10*0x1a),c(this,'cascadeDis'+'tribution',-0x17c7*0x1+-0x21c1+0x3988+0.5),c(this,'normalOffs'+'etBias',0x2199+0x7*0x559+-0x4708),c(this,'range',0x1cbd+0x3*0x7b9+-0x8a5*0x6),c(this,'innerConeA'+'ngle',-0x195a+-0x1996+-0x78*-0x6d),c(this,'outerConeA'+'ngle',0xaed*-0x1+0x1*-0x1cda+0x9fd*0x4),c(this,'falloffMod'+'e',wp),c(this,'shadowType',Dt),c(this,'vsmBlurSiz'+'e',0x112f+-0x19a9+0x3*0x2d7),c(this,'vsmBlurMod'+'e',Tp),c(this,'vsmBias',(0x6c7*-0x2+0x7c3*0x1+0x5cb*0x1+0.01)*(-0x4f3*-0x6+0xf3a+-0x2cec+0.25)),c(this,'cookieAsse'+'t',null),c(this,'cookie',null),c(this,'cookieInte'+'nsity',-0x9d*-0x27+-0x19ca+0x1e0),c(this,'cookieFall'+'off',!(-0x239*0x2+-0x2029+0x249b)),c(this,'cookieChan'+'nel','rgb'),c(this,'cookieAngl'+'e',0xf27+-0x1e3c+0xf15),c(this,'cookieScal'+'e',null),c(this,'cookieOffs'+'et',null),c(this,'shadowUpda'+'teMode',Pp),c(this,'mask',-0x22ab+0x7c3*-0x1+-0x2a6f*-0x1),c(this,'affectDyna'+'mic',!(0x1*0x3fc+-0x371*0x8+0xb*0x224)),c(this,'affectLigh'+'tmapped',!(-0x103+0x5a1+0x49d*-0x1)),c(this,'bake',!(0x7e9+-0x1683*-0x1+-0x1e6b)),c(this,'bakeDir',!(0x9*0x2fb+0x1164+-0x2c37)),c(this,'isStatic',!(-0x2047+-0x1a6c+0x3ab4)),c(this,'layers',[Fi]),c(this,'penumbraSi'+'ze',0xdd3+0x1613+0xbf7*-0x3),c(this,'penumbraFa'+'lloff',-0xd5*0x2a+0x126d*-0x1+-0x8*-0x6ac),c(this,'shadowSamp'+'les',-0x1*-0xed5+0x3*-0xf6+-0xbe3),c(this,'shadowBloc'+'kerSamples',-0x1*0x18dd+0x125a*-0x1+0x1*0x2b47);}}const To=Object['keys'](new Tx());class YI extends ue{constructor(){super(...arguments),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_cookieAss'+'et',null),c(this,'_cookieAss'+'etId',null),c(this,'_cookieAss'+'etAdd',!(-0x1c5*-0x1+-0xbf6*-0x1+-0xdba)),c(this,'_cookieMat'+'rix',null);}get['data'](){const _0x55c2c7=this['system']['store'][this['entity']['getGuid']()];return _0x55c2c7?_0x55c2c7['data']:null;}set['enabled'](_0x25d9d0){this['_setValue']('enabled',_0x25d9d0,function(_0x563e1d,_0x4ba3ac){this['onSetEnabl'+'ed'](null,_0x4ba3ac,_0x563e1d);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x371309){this['_setValue']('light',_0x371309);}get['light'](){return this['data']['light'];}set['type'](_0x11b397){this['_setValue']('type',_0x11b397,function(_0x42124b,_0xc991a5){this['system']['changeType'](this,_0xc991a5,_0x42124b),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x2a704f){this['_setValue']('color',_0x2a704f,function(_0x2eef33,_0x31dcb3){this['light']['setColor'](_0x2eef33);},!(0x53*0x3a+0x7bb*-0x4+0xc1e));}get['color'](){return this['data']['color'];}set['intensity'](_0x1ff6f2){this['_setValue']('intensity',_0x1ff6f2,function(_0x3c473b,_0x12bd24){this['light']['intensity']=_0x3c473b;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x23f518){this['_setValue']('luminance',_0x23f518,function(_0x135b6b,_0x227b5c){this['light']['luminance']=_0x135b6b;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x415df2){this['_setValue']('shape',_0x415df2,function(_0x513528,_0x4dc38c){this['light']['shape']=_0x513528;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x5ea122){this['_setValue']('affectSpec'+'ularity',_0x5ea122,function(_0x6e9933,_0x319866){this['light']['affectSpec'+'ularity']=_0x6e9933;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x32ea5b){this['_setValue']('castShadow'+'s',_0x32ea5b,function(_0x46dd8a,_0x2ed8fc){this['light']['castShadow'+'s']=_0x46dd8a;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x52dc15){this['_setValue']('shadowDist'+'ance',_0x52dc15,function(_0xebd0fe,_0x420de6){this['light']['shadowDist'+'ance']=_0xebd0fe;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x285d65){this['_setValue']('shadowInte'+'nsity',_0x285d65,function(_0x3b62d5,_0x1f2099){this['light']['shadowInte'+'nsity']=_0x3b62d5;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x4ef2e6){this['_setValue']('shadowReso'+'lution',_0x4ef2e6,function(_0x129975,_0x2fd5b4){this['light']['shadowReso'+'lution']=_0x129975;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x208a79){this['_setValue']('shadowBias',_0x208a79,function(_0xe67472,_0x45f2f1){this['light']['shadowBias']=-(0x598*0x1+0x6ad*-0x3+0x1*0xe6f+0.01)*N['clamp'](_0xe67472,0x25c1+0x4b9+-0x2a7a,-0x15af+-0x2027+-0x4e5*-0xb);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x38964b){this['_setValue']('numCascade'+'s',_0x38964b,function(_0x272b6b,_0x420e00){this['light']['numCascade'+'s']=N['clamp'](Math['floor'](_0x272b6b),-0x1574+-0x17f0+0x2d65,-0x1*-0x1934+-0x12ed+-0x643);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0xd126c8){this['_setValue']('cascadeBle'+'nd',_0xd126c8,function(_0x2fe339,_0x405157){this['light']['cascadeBle'+'nd']=N['clamp'](_0x2fe339,0x23c1+-0x1ccd+0x4*-0x1bd,-0x15f6+0x755+0xea2);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x3543fd){this['_setValue']('bakeNumSam'+'ples',_0x3543fd,function(_0x34e2eb,_0x5353f1){this['light']['bakeNumSam'+'ples']=N['clamp'](Math['floor'](_0x34e2eb),0x24cd+0x123d+0x49*-0xc1,0xbd9+0x1b3c+0x145*-0x1e);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x13abcb){this['_setValue']('bakeArea',_0x13abcb,function(_0x449f47,_0x4ad740){this['light']['bakeArea']=N['clamp'](_0x449f47,0x1f66+-0xcde+0x4a2*-0x4,-0x16*-0x8+-0x154*-0x19+0x1d8*-0x12);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x3be4a4){this['_setValue']('cascadeDis'+'tribution',_0x3be4a4,function(_0x571eff,_0x418434){this['light']['cascadeDis'+'tribution']=N['clamp'](_0x571eff,0x15*0x18b+-0x7f5*-0x3+-0x3846,-0x1f60*-0x1+-0xd5+-0x1*0x1e8a);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x40813e){this['_setValue']('normalOffs'+'etBias',_0x40813e,function(_0x37a81d,_0x3702a2){this['light']['normalOffs'+'etBias']=N['clamp'](_0x37a81d,0x3*0x139+0x1*0x26db+0x2*-0x1543,-0x2c5*-0x2+-0x1*-0x221f+-0x27a8);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x4e2dac){this['_setValue']('range',_0x4e2dac,function(_0xca3483,_0x2a2d20){this['light']['attenuatio'+'nEnd']=_0xca3483;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x2cd4c5){this['_setValue']('innerConeA'+'ngle',_0x2cd4c5,function(_0x45bbee,_0x3b3e8a){this['light']['innerConeA'+'ngle']=_0x45bbee;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x1761f0){this['_setValue']('outerConeA'+'ngle',_0x1761f0,function(_0x4fcd23,_0x38986f){this['light']['outerConeA'+'ngle']=_0x4fcd23;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x3c25aa){this['_setValue']('falloffMod'+'e',_0x3c25aa,function(_0x573eae,_0x120122){this['light']['falloffMod'+'e']=_0x573eae;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x598cd6){this['_setValue']('shadowType',_0x598cd6,function(_0x277f13,_0x1a9aa3){this['light']['shadowType']=_0x277f13;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x4e01d8){this['_setValue']('vsmBlurSiz'+'e',_0x4e01d8,function(_0x3c4a85,_0x3e1594){this['light']['vsmBlurSiz'+'e']=_0x3c4a85;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x55e473){this['_setValue']('vsmBlurMod'+'e',_0x55e473,function(_0x3bbd8c,_0x2638c0){this['light']['vsmBlurMod'+'e']=_0x3bbd8c;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x9c97cd){this['_setValue']('vsmBias',_0x9c97cd,function(_0x4ba7e3,_0x19cf4a){this['light']['vsmBias']=N['clamp'](_0x4ba7e3,-0x2066+0x1e5b+-0x1*-0x20b,-0xed1+0x1e21+-0xf4f);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x2e6404){this['_setValue']('cookieAsse'+'t',_0x2e6404,function(_0x26dd5a,_0x276c1d){if(!(this['_cookieAss'+'etId']&&(_0x26dd5a instanceof le&&_0x26dd5a['id']===this['_cookieAss'+'etId']||_0x26dd5a===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x26dd5a instanceof le)this['data']['cookieAsse'+'t']=_0x26dd5a['id'],this['_cookieAss'+'etId']=_0x26dd5a['id'],this['onCookieAs'+'setAdd'](_0x26dd5a);else{if(typeof _0x26dd5a=='number'){this['_cookieAss'+'etId']=_0x26dd5a;const _0x8870e=this['system']['app']['assets']['get'](_0x26dd5a);_0x8870e?this['onCookieAs'+'setAdd'](_0x8870e):(this['_cookieAss'+'etAdd']=!(0x1777+-0x24e4+-0xd6d*-0x1),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x29f079){this['_setValue']('cookie',_0x29f079,function(_0x1bc414,_0x1e866b){this['light']['cookie']=_0x1bc414;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x2d42e9){this['_setValue']('cookieInte'+'nsity',_0x2d42e9,function(_0x4838cd,_0x4f2aa5){this['light']['cookieInte'+'nsity']=N['clamp'](_0x4838cd,-0x158f*0x1+-0x5*0x192+0x1*0x1d69,0x1c87+-0xae9+-0x1*0x119d);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x1ee9c3){this['_setValue']('cookieFall'+'off',_0x1ee9c3,function(_0x3dcb6f,_0x41e094){this['light']['cookieFall'+'off']=_0x3dcb6f;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x20d96b){this['_setValue']('cookieChan'+'nel',_0x20d96b,function(_0x1d4b2a,_0x1ff124){this['light']['cookieChan'+'nel']=_0x1d4b2a;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x59dd66){this['_setValue']('cookieAngl'+'e',_0x59dd66,function(_0x20177e,_0x50521c){if(_0x20177e!==0x1*-0xfc9+-0x4*0x758+-0xb*-0x41b||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());let _0x34e993=-0xa4e*0x1+-0xe*-0x8b+0x2b5,_0x15dbae=0x4*0x302+-0x1d*0x53+-0x2a0;this['cookieScal'+'e']&&(_0x34e993=this['cookieScal'+'e']['x'],_0x15dbae=this['cookieScal'+'e']['y']);const _0x471401=Math['cos'](_0x20177e*N['DEG_TO_RAD']),_0x568da6=Math['sin'](_0x20177e*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x471401/_0x34e993,-_0x568da6/_0x34e993,_0x568da6/_0x15dbae,_0x471401/_0x15dbae),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x2bed12){this['_setValue']('cookieScal'+'e',_0x2bed12,function(_0x269a7c,_0x286ff6){if(_0x269a7c!==null||this['cookieAngl'+'e']!==0x2c4*0x5+-0x344+-0x34*0x34){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());const _0x2c6b13=_0x269a7c['x'],_0x1b62d3=_0x269a7c['y'],_0x30b83c=Math['cos'](this['cookieAngl'+'e']*N['DEG_TO_RAD']),_0x31595f=Math['sin'](this['cookieAngl'+'e']*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x30b83c/_0x2c6b13,-_0x31595f/_0x2c6b13,_0x31595f/_0x1b62d3,_0x30b83c/_0x1b62d3),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(0x11*0x13+-0x8*-0x111+0x17*-0x6d));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x4d3c89){this['_setValue']('cookieOffs'+'et',_0x4d3c89,function(_0x13e521,_0x20bf13){this['light']['cookieOffs'+'et']=_0x13e521;},!(-0x5*0x51e+0x1435+0x99*0x9));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x57ce45){this['_setValue']('shadowUpda'+'teMode',_0x57ce45,function(_0x206160,_0x3f49cc){this['light']['shadowUpda'+'teMode']=_0x206160;},!(0x3*-0x4a9+0x17a0+-0x9a5));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x2cf8f6){this['_setValue']('mask',_0x2cf8f6,function(_0x5b47f8,_0x556e11){this['light']['mask']=_0x5b47f8;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x3afd0a){this['_setValue']('affectDyna'+'mic',_0x3afd0a,function(_0x43aa76,_0x3cdc7f){_0x43aa76?this['light']['mask']|=hs:this['light']['mask']&=-(-0x891*0x3+0x225d*-0x1+-0xe9*-0x42),this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x2630b4){this['_setValue']('affectLigh'+'tmapped',_0x2630b4,function(_0x2011ea,_0x3fa073){_0x2011ea?(this['light']['mask']|=cr,this['bake']&&(this['light']['mask']&=-(0x1567*0x1+0x222b+0x1*-0x378d))):(this['light']['mask']&=-(-0x11*-0x6+0x1dcb+-0x1e2e),this['bake']&&(this['light']['mask']|=rr));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x4501e1){this['_setValue']('bake',_0x4501e1,function(_0x5e4649,_0x3d9b70){_0x5e4649?(this['light']['mask']|=rr,this['affectLigh'+'tmapped']&&(this['light']['mask']&=-(-0x205c+-0xa90+-0x1d*-0x17b))):(this['light']['mask']&=-(-0x171f+-0x1*0x102a+0x274e),this['affectLigh'+'tmapped']&&(this['light']['mask']|=cr)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0xe1b611){this['_setValue']('bakeDir',_0xe1b611,function(_0x3a590b,_0x4040d7){this['light']['bakeDir']=_0x3a590b;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x4f7c46){this['_setValue']('isStatic',_0x4f7c46,function(_0x190465,_0x201788){this['light']['isStatic']=_0x190465;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x17894e){this['_setValue']('layers',_0x17894e,function(_0x56e11c,_0x330f93){for(let _0x40d058=0x2141+-0x1*0x4bd+-0x92*0x32;_0x40d058<_0x330f93['length'];_0x40d058++){const _0x2121b3=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x330f93[_0x40d058]);_0x2121b3&&(_0x2121b3['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x2121b3));}for(let _0x4f921b=-0x2a5*0x1+-0xf1b+0x11c0;_0x4f921b<_0x56e11c['length'];_0x4f921b++){const _0x560ed6=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x56e11c[_0x4f921b]);_0x560ed6&&this['enabled']&&this['entity']['enabled']&&(_0x560ed6['addLight'](this),this['light']['addLayer'](_0x560ed6));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x3bb866){this['light']['shadowUpda'+'teOverride'+'s']=_0x3bb866;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x11b255){this['light']['shadowSamp'+'les']=_0x11b255;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x4593c8){this['light']['shadowBloc'+'kerSamples']=_0x4593c8;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x266e38){this['light']['penumbraSi'+'ze']=_0x266e38;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x5504e9){this['light']['penumbraFa'+'lloff']=_0x5504e9;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x3558d2,_0x4b6060,_0x59c5fd,_0x268bf5){const _0x235420=this['data'],_0x26022f=_0x235420[_0x3558d2];!_0x268bf5&&_0x26022f===_0x4b6060||(_0x235420[_0x3558d2]=_0x4b6060,_0x59c5fd&&_0x59c5fd['call'](this,_0x4b6060,_0x26022f));}['addLightTo'+'Layers'](){for(let _0x3a25c1=-0x124f+0x633+0xc1c;_0x3a25c1<this['layers']['length'];_0x3a25c1++){const _0x3a160e=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x3a25c1]);_0x3a160e&&(_0x3a160e['addLight'](this),this['light']['addLayer'](_0x3a160e));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x17cbde=0x6*0x499+-0xace*0x3+0x4d4;_0x17cbde<this['layers']['length'];_0x17cbde++){const _0x4c77ee=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x17cbde]);_0x4c77ee&&(_0x4c77ee['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x4c77ee));}}['onLayersCh'+'anged'](_0xbf7a50,_0x597617){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0xbf7a50['off']('add',this['onLayerAdd'+'ed'],this),_0xbf7a50['off']('remove',this['onLayerRem'+'oved'],this),_0x597617['on']('add',this['onLayerAdd'+'ed'],this),_0x597617['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x2b7225){this['layers']['indexOf'](_0x2b7225['id'])>=0x2*0x4dc+0x1071+-0x1a29&&this['enabled']&&this['entity']['enabled']&&(_0x2b7225['addLight'](this),this['light']['addLayer'](_0x2b7225));}['onLayerRem'+'oved'](_0x397281){this['layers']['indexOf'](_0x397281['id'])>=-0x13*-0x33+0x2f0+-0x1*0x6b9&&(_0x397281['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x397281));}['refreshPro'+'perties'](){for(let _0x5acbb6=0x1eb5+0x8*-0x19c+-0x11d5;_0x5acbb6<To['length'];_0x5acbb6++){const _0x1dd067=To[_0x5acbb6];this[_0x1dd067]=this[_0x1dd067];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x59dd10=!(-0x1*0x1709+-0xe2*0x1a+0x2dfe);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(-0x1302+-0x986+0x1c88),_0x59dd10=!(0x24b1+0x2572+-0x4a23)),(!this['_cookieAss'+'et']['resource']||_0x59dd10)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x3995b4){this['_cookieAss'+'etId']===_0x3995b4['id']&&(this['_cookieAss'+'et']=_0x3995b4,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(0x162+-0xbc3+0xa62)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x2366c0=this['system']['app']['scene'],_0x577f42=_0x2366c0['layers'];this['light']['enabled']=!(0x237*-0x5+0x184a+-0xd37),this['_evtLayers'+'Changed']=_0x2366c0['on']('set:layers',this['onLayersCh'+'anged'],this),_0x577f42&&(this['_evtLayerA'+'dded']=_0x577f42['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x577f42['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x5b121a,_0x45ba2e,_0x3d2b3e;const _0x25cbb8=this['system']['app']['scene']['layers'];this['light']['enabled']=!(-0x1b87+0x11*0x175+0x2c3),(_0x5b121a=this['_evtLayers'+'Changed'])==null||_0x5b121a['off'](),this['_evtLayers'+'Changed']=null,_0x25cbb8&&((_0x45ba2e=this['_evtLayerA'+'dded'])==null||_0x45ba2e['off'](),this['_evtLayerA'+'dded']=null,(_0x3d2b3e=this['_evtLayerR'+'emoved'])==null||_0x3d2b3e['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class KI extends Xe{constructor(_0x4a1e09){super(_0x4a1e09),this['id']='light',this['ComponentT'+'ype']=YI,this['DataType']=Tx,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x2afca2,_0x473783){const _0x554584={..._0x473783};_0x554584['type']||(_0x554584['type']=_0x2afca2['data']['type']),_0x2afca2['data']['type']=_0x554584['type'],_0x554584['layers']&&Array['isArray'](_0x554584['layers'])&&(_0x554584['layers']=_0x554584['layers']['slice'](-0x56*0x37+-0xd85*0x1+0x1fff)),_0x554584['color']&&Array['isArray'](_0x554584['color'])&&(_0x554584['color']=new Y(_0x554584['color'][0x1*0xfbd+0x3*-0x36c+0x3*-0x1d3],_0x554584['color'][0x1c16+0x195+0x1*-0x1daa],_0x554584['color'][-0x19*-0x19+-0xb*-0x23+-0x3f0])),_0x554584['cookieOffs'+'et']&&_0x554584['cookieOffs'+'et']instanceof Array&&(_0x554584['cookieOffs'+'et']=new W(_0x554584['cookieOffs'+'et'][0x3ed+0x6*0x34c+-0x17b5],_0x554584['cookieOffs'+'et'][-0xfc4+-0x569*0x1+0x152e*0x1])),_0x554584['cookieScal'+'e']&&_0x554584['cookieScal'+'e']instanceof Array&&(_0x554584['cookieScal'+'e']=new W(_0x554584['cookieScal'+'e'][0x30*0x99+0x9a6*-0x4+0x9e8],_0x554584['cookieScal'+'e'][0x1*0x115+0xc*0x127+-0xee8])),_0x554584['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x554584['enabled']=_0x554584['enable']),_0x554584['shape']||(_0x554584['shape']=yt);const _0x4179c2=new zo(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x4179c2['type']=Gu[_0x554584['type']],_0x4179c2['_node']=_0x2afca2['entity'],_0x2afca2['data']['light']=_0x4179c2,super['initialize'+'ComponentD'+'ata'](_0x2afca2,_0x554584,To);}['_onRemoveC'+'omponent'](_0x2781b5,_0x10d259){_0x10d259['onRemove']();}['cloneCompo'+'nent'](_0x2b3ff5,_0x4d3a95){const _0x173962=_0x2b3ff5['light'],_0x44be34=[];let _0x4526c0;for(let _0x17c25c=-0xddb*-0x2+0x1180+-0x12*0x283;_0x17c25c<To['length'];_0x17c25c++)_0x4526c0=To[_0x17c25c],_0x4526c0!=='light'&&(_0x173962[_0x4526c0]&&_0x173962[_0x4526c0]['clone']?_0x44be34[_0x4526c0]=_0x173962[_0x4526c0]['clone']():_0x44be34[_0x4526c0]=_0x173962[_0x4526c0]);return this['addCompone'+'nt'](_0x4d3a95,_0x44be34);}['changeType'](_0x2d341e,_0x3a34f7,_0x4d9120){_0x3a34f7!==_0x4d9120&&(_0x2d341e['light']['type']=Gu[_0x4d9120]);}}const ZI=['x','y','z','w'],QI=[void(0x1004+0x14f1+-0x24f5),void(-0x2116*0x1+-0x1866+0x397c),W,T,Q];function La(_0x2f7031,_0x5849d1,_0x42953c,_0x1b9474){switch(_0x5849d1['type']){case'boolean':return!!_0x42953c;case'number':if(typeof _0x42953c=='number')return _0x42953c;if(typeof _0x42953c=='string'){const _0x38f637=parseInt(_0x42953c,0xa2+-0x6d+0x1*-0x2b);return isNaN(_0x38f637)?null:_0x38f637;}else{if(typeof _0x42953c=='boolean')return-0x1*-0x1303+0xaaf*0x1+0x15*-0x16a+_0x42953c;}return null;case'json':{const _0x273288={};if(Array['isArray'](_0x5849d1['schema'])){(!_0x42953c||typeof _0x42953c!='object')&&(_0x42953c={});for(let _0x11c64a=-0x14c*0x1c+0x2324+0x12c;_0x11c64a<_0x5849d1['schema']['length'];_0x11c64a++){const _0xe62d92=_0x5849d1['schema'][_0x11c64a];if(_0xe62d92['name']){if(_0xe62d92['array']){_0x273288[_0xe62d92['name']]=[];const _0x3ecf25=Array['isArray'](_0x42953c[_0xe62d92['name']])?_0x42953c[_0xe62d92['name']]:[];for(let _0x14b296=0xf2c+-0x923+-0x609;_0x14b296<_0x3ecf25['length'];_0x14b296++)_0x273288[_0xe62d92['name']]['push'](La(_0x2f7031,_0xe62d92,_0x3ecf25[_0x14b296]));}else{const _0x4c8454=_0x42953c['hasOwnProp'+'erty'](_0xe62d92['name'])?_0x42953c[_0xe62d92['name']]:_0xe62d92['default'];_0x273288[_0xe62d92['name']]=La(_0x2f7031,_0xe62d92,_0x4c8454);}}}}return _0x273288;}case'asset':return _0x42953c instanceof le?_0x42953c:typeof _0x42953c=='number'?_0x2f7031['assets']['get'](_0x42953c)||null:typeof _0x42953c=='string'&&_0x2f7031['assets']['get'](parseInt(_0x42953c,0x2*0x59e+-0xf32+0x2*0x200))||null;case'entity':return _0x42953c instanceof De?_0x42953c:typeof _0x42953c=='string'?_0x2f7031['getEntityF'+'romIndex'](_0x42953c):null;case'rgb':case'rgba':if(_0x42953c instanceof Y)return _0x1b9474 instanceof Y?(_0x1b9474['copy'](_0x42953c),_0x1b9474):_0x42953c['clone']();if(_0x42953c instanceof Array&&_0x42953c['length']>=0x2540+-0x10e0+-0x145d*0x1&&_0x42953c['length']<=0x21f*0x2+0x1b23*0x1+0xd9*-0x25){for(let _0x351983=-0x554+0x2*-0xd72+0x101c*0x2;_0x351983<_0x42953c['length'];_0x351983++)if(typeof _0x42953c[_0x351983]!='number')return null;return _0x1b9474||(_0x1b9474=new Y()),_0x1b9474['r']=_0x42953c[-0x4*-0x83a+0x717+-0x27ff],_0x1b9474['g']=_0x42953c[0x2*0x57b+0x218f+-0x103*0x2c],_0x1b9474['b']=_0x42953c[0xd*-0x3d+-0x1c48+0x1f63],_0x1b9474['a']=_0x42953c['length']===-0x1745+0xfb5+0x793?-0xe1+0x2b*-0xd3+0x2453:_0x42953c[0x54b+-0xc68*0x3+0x1ff0],_0x1b9474;}else{if(typeof _0x42953c=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x42953c))return _0x1b9474||(_0x1b9474=new Y()),_0x1b9474['fromString'](_0x42953c),_0x1b9474;}return null;case'vec2':case'vec3':case'vec4':{const _0x434a00=parseInt(_0x5849d1['type']['slice'](-0x1*0x3cb+0x1c1e*0x1+-0x1850),-0x8*-0x5f+0x2578+0x2*-0x1433),_0x2f3fd9=QI[_0x434a00];if(_0x42953c instanceof _0x2f3fd9)return _0x1b9474 instanceof _0x2f3fd9?(_0x1b9474['copy'](_0x42953c),_0x1b9474):_0x42953c['clone']();if(_0x42953c instanceof Array&&_0x42953c['length']===_0x434a00){for(let _0x22a776=0x1ac9+0x10d4+0xb*-0x3f7;_0x22a776<_0x42953c['length'];_0x22a776++)if(typeof _0x42953c[_0x22a776]!='number')return null;_0x1b9474||(_0x1b9474=new _0x2f3fd9());for(let _0x3fb4b2=0x6ba+0x32*0x1+-0x6ec;_0x3fb4b2<_0x434a00;_0x3fb4b2++)_0x1b9474[ZI[_0x3fb4b2]]=_0x42953c[_0x3fb4b2];return _0x1b9474;}return null;}case'curve':if(_0x42953c){let _0x4e6f1f;if(_0x42953c instanceof Cs||_0x42953c instanceof jr)_0x4e6f1f=_0x42953c['clone']();else{const _0x46d382=_0x42953c['keys'][-0x52*0x25+0x847*-0x1+0x1421*0x1]instanceof Array?jr:Cs;_0x4e6f1f=new _0x46d382(_0x42953c['keys']),_0x4e6f1f['type']=_0x42953c['type'];}return _0x4e6f1f;}break;}return _0x42953c;}function Ax(_0x52df54,_0x14c73d,_0x399e87,_0x165a3d){return _0x14c73d['array']?_0x399e87['map']((_0x2ccb65,_0x42de0c)=>La(_0x52df54,_0x14c73d,_0x2ccb65,_0x165a3d?_0x165a3d[_0x42de0c]:null)):La(_0x52df54,_0x14c73d,_0x399e87,_0x165a3d);}function Ex(_0x2d845b,_0x2a83d9,_0xd95d42,_0x5edcd9){if(_0xd95d42)for(const _0x475428 in _0x2a83d9){const _0x56fa13=_0x2a83d9[_0x475428],_0x394f4c=_0xd95d42[_0x475428];_0x394f4c!==void(-0x57f*0x1+-0x5ab*0x1+0xb2a)&&(_0x5edcd9[_0x475428]=Ax(_0x2d845b,_0x56fa13,_0x394f4c,_0x5edcd9[_0x475428]));}}const oa=class oa{constructor(_0x11e526){this['scriptType']=_0x11e526,this['index']={};}['add'](_0x20345b,_0x91aca0){if(this['index'][_0x20345b]){v['warn']('attribute\x20'+'\x27'+_0x20345b+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(oa['reservedNa'+'mes']['has'](_0x20345b)){v['warn']('attribute\x20'+'\x27'+_0x20345b+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x20345b]=_0x91aca0,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x20345b,{'get':function(){return this['__attribut'+'es'][_0x20345b];},'set':function(_0x1cd08c){const _0x4160ab='attr',_0x12848a='attr:'+_0x20345b,_0x6348a6=this['__attribut'+'es'][_0x20345b];let _0x48f9e8=_0x6348a6;if(_0x6348a6&&_0x91aca0['type']!=='json'&&_0x91aca0['type']!=='entity'&&_0x6348a6['clone']&&(this['hasEvent'](_0x4160ab)||this['hasEvent'](_0x12848a))&&(_0x48f9e8=_0x6348a6['clone']()),_0x91aca0['array']){if(this['__attribut'+'es'][_0x20345b]=[],_0x1cd08c){for(let _0x25139e=-0x174c+-0x6+0x7c6*0x3,_0x2387ca=_0x1cd08c['length'];_0x25139e<_0x2387ca;_0x25139e++)this['__attribut'+'es'][_0x20345b]['push'](La(this['app'],_0x91aca0,_0x1cd08c[_0x25139e],_0x6348a6?_0x6348a6[_0x25139e]:null));}}else this['__attribut'+'es'][_0x20345b]=La(this['app'],_0x91aca0,_0x1cd08c,_0x6348a6);this['fire'](_0x4160ab,_0x20345b,this['__attribut'+'es'][_0x20345b],_0x48f9e8),this['fire'](_0x12848a,this['__attribut'+'es'][_0x20345b],_0x48f9e8);}});}['remove'](_0x2bffce){return this['index'][_0x2bffce]?(delete this['index'][_0x2bffce],delete this['scriptType']['prototype'][_0x2bffce],!(-0x35*0x6a+-0x1281*0x1+0x5f*0x6d)):!(-0x9b9+-0x14*-0xf0+-0x906);}['has'](_0x184534){return!!this['index'][_0x184534];}['get'](_0x41cb00){return this['index'][_0x41cb00]||null;}};c(oa,'assignAttr'+'ibutesToSc'+'ript',Ex),c(oa,'attributeT'+'oValue',Ax),c(oa,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Ho=oa;const _f='initialize',gf='postInitia'+'lize',JI='update',eD='postUpdate',tD='swap';class Ht extends ce{constructor(_0x76b5a6){super(),c(this,'app'),c(this,'entity'),c(this,'_enabled'),c(this,'_enabledOl'+'d'),c(this,'_initializ'+'ed'),c(this,'_postIniti'+'alized'),c(this,'__destroye'+'d'),c(this,'__scriptTy'+'pe'),c(this,'__executio'+'nOrder'),this['initScript'](_0x76b5a6);}set['enabled'](_0x4251e7){this['_enabled']=!!_0x4251e7,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(-0x1cd*0x13+-0x5*-0x2cf+0x50b*0x4),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,_f)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(-0x1ac4+0x189f+-0x9*-0x3d),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,gf)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x511e12){const _0x5f52c2=this['constructo'+'r'];v['assert'](_0x511e12&&_0x511e12['app']&&_0x511e12['entity'],'script\x20['+_0x5f52c2['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x511e12['app'],this['entity']=_0x511e12['entity'],this['_enabled']=typeof _0x511e12['enabled']=='boolean'?_0x511e12['enabled']:!(-0x361+-0x641*0x5+-0x6ee*-0x5),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(0x11*0x95+0x2a*0x22+-0xf78),this['__scriptTy'+'pe']=_0x5f52c2,this['__executio'+'nOrder']=-(-0x999+0x5c6*-0x1+0xa4*0x18);}static get['scriptName'](){return this['__name'];}}c(Ht,'EVENT_ENAB'+'LE','enable'),c(Ht,'EVENT_DISA'+'BLE','disable'),c(Ht,'EVENT_STAT'+'E','state'),c(Ht,'EVENT_DEST'+'ROY','destroy'),c(Ht,'EVENT_ATTR','attr'),c(Ht,'EVENT_ERRO'+'R','error'),c(Ht,'__name',null),c(Ht,'__getScrip'+'tName',Cx);const sD=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function Cx(_0xe2cdb2){if(typeof _0xe2cdb2!='function')return;if('name'in Function['prototype'])return _0xe2cdb2['name'];if(_0xe2cdb2===Function||_0xe2cdb2===Function['prototype']['constructo'+'r'])return'Function';const _0x4bfc20=(''+_0xe2cdb2)['match'](sD);return _0x4bfc20?_0x4bfc20[-0x979+0x1*-0x16b9+0x2033]:void(0x2fd*0x3+0x222d*0x1+-0x16*0x1f6);}class Qh extends Ht{constructor(_0xdfb7d1){super(_0xdfb7d1),c(this,'__attribut'+'es'),c(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0xdfb7d1);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Ho(this)),this['__attribut'+'es'];}['initScript'](_0x323006){Ht['prototype']['initScript']['call'](this,_0x323006),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x323006['attributes']||{};}['initScript'+'Type'](_0x34e87c){this['initScript'](_0x34e87c);}['__initiali'+'zeAttribut'+'es'](_0x1e827b){if(!(!_0x1e827b&&!this['__attribut'+'esRaw'])){for(const _0x364c3d in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x364c3d)?this[_0x364c3d]=this['__attribut'+'esRaw'][_0x364c3d]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x364c3d)||(this['__scriptTy'+'pe']['attributes']['index'][_0x364c3d]['hasOwnProp'+'erty']('default')?this[_0x364c3d]=this['__scriptTy'+'pe']['attributes']['index'][_0x364c3d]['default']:this[_0x364c3d]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0xa55b69){for(const _0x41732e in _0xa55b69)_0xa55b69['hasOwnProp'+'erty'](_0x41732e)&&(this['prototype'][_0x41732e]=_0xa55b69[_0x41732e]);}}const iD=_0x4ddf6d=>_0x4ddf6d[-0x244c+-0x1*-0x6f6+0x1d56]['toLowerCas'+'e']()+_0x4ddf6d['substring'](0xe9*-0x5+-0x18*0x96+0x129e);class di extends ue{constructor(_0x1308ff,_0x2c8d09){super(_0x1308ff,_0x2c8d09),c(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new wh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new wh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(0x83*-0x4a+0x215b+0x484),this['_scriptsDa'+'ta']=null,this['_oldState']=!(0x1458+-0x9f5+-0xa63),this['_enabled']=!(-0x1184*-0x2+-0x233a+-0x1*-0x32),this['_beingEnab'+'led']=!(0x11*-0x1d3+0x629+-0x65*-0x3f),this['_isLooping'+'ThroughScr'+'ipts']=!(0x1456+0x382*-0x2+-0xd51),this['_execution'+'Order']=-(0x718+-0x1d8b*-0x1+-0x24a2),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x21859a){this['_scriptsDa'+'ta']=_0x21859a;for(const _0x56d1b1 in _0x21859a){if(!_0x21859a['hasOwnProp'+'erty'](_0x56d1b1))continue;const _0x588e76=this['_scriptsIn'+'dex'][_0x56d1b1];if(_0x588e76){if(typeof _0x21859a[_0x56d1b1]['enabled']=='boolean'&&(_0x588e76['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x588e76);}),_0x588e76['enabled']=!!_0x21859a[_0x56d1b1]['enabled']),typeof _0x21859a[_0x56d1b1]['attributes']=='object'){for(const _0xbfb840 in _0x21859a[_0x56d1b1]['attributes'])if(!Ho['reservedNa'+'mes']['has'](_0xbfb840)){if(!_0x588e76['__attribut'+'es']['hasOwnProp'+'erty'](_0xbfb840)){const _0x4a1ca2=this['system']['app']['scripts']['get'](_0x56d1b1);_0x4a1ca2&&_0x4a1ca2['attributes']['add'](_0xbfb840,{});}_0x588e76[_0xbfb840]=_0x21859a[_0x56d1b1]['attributes'][_0xbfb840];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x5afb56){const _0x169cbb=this['_enabled'];this['_enabled']=_0x5afb56,this['fire']('set','enabled',_0x169cbb,_0x5afb56);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(0x211c+0xb9a+-0x2*0x165b),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(-0xfc+0x15f8+-0x83*0x29);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x166b64=this['_beginLoop'+'ing']();for(let _0xf4973c=0x3*-0x5bf+0x2359+0x90e*-0x2,_0x50e1a3=this['scripts']['length'];_0xf4973c<_0x50e1a3;_0xf4973c++){const _0x404a55=this['scripts'][_0xf4973c];_0x404a55['_initializ'+'ed']&&!_0x404a55['_postIniti'+'alized']&&_0x404a55['enabled']&&(_0x404a55['_postIniti'+'alized']=!(0x9b+0xf46+-0xfe1),_0x404a55['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x404a55,gf));}this['_endLoopin'+'g'](_0x166b64);}['_beginLoop'+'ing'](){const _0x20b5eb=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(-0x7*0x29b+0x267d*-0x1+0x38ba),_0x20b5eb;}['_endLoopin'+'g'](_0x434aac){this['_isLooping'+'ThroughScr'+'ipts']=_0x434aac,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x2e168b,_0xaa1e68,_0x3caabb){this['_beingEnab'+'led']=!(0xbd3*0x2+-0x468+-0x133e),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(-0x1e0d+0x9fb+-0x9*-0x23b);}['_checkStat'+'e'](){const _0x264989=this['enabled']&&this['entity']['enabled'];if(_0x264989===this['_oldState'])return;this['_oldState']=_0x264989,this['fire'](_0x264989?'enable':'disable'),this['fire']('state',_0x264989),_0x264989?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x529027=this['_beginLoop'+'ing']();for(let _0x9ea2ff=-0x18d*-0x5+0x1*-0x8ad+-0xec*-0x1,_0x27a9f3=this['scripts']['length'];_0x9ea2ff<_0x27a9f3;_0x9ea2ff++){const _0x19f27e=this['scripts'][_0x9ea2ff];_0x19f27e['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x19f27e);}),_0x19f27e['enabled']=_0x19f27e['_enabled'];}this['_endLoopin'+'g'](_0x529027);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x3f70c1=this['_beginLoop'+'ing']();for(let _0x27168b=0x47*-0x24+-0xd*0x26c+-0x52f*-0x8;_0x27168b<this['scripts']['length'];_0x27168b++){const _0x5a25a5=this['scripts'][_0x27168b];_0x5a25a5&&this['destroy'](_0x5a25a5['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x3f70c1);}['_removeDes'+'troyedScri'+'pts'](){const _0x250078=this['_destroyed'+'Scripts']['length'];if(_0x250078){for(let _0x3fd5bd=-0x18da+-0x1*0x167+0x1a41;_0x3fd5bd<_0x250078;_0x3fd5bd++){const _0x5a97e9=this['_destroyed'+'Scripts'][_0x3fd5bd];this['_removeScr'+'iptInstanc'+'e'](_0x5a97e9);}this['_destroyed'+'Scripts']['length']=-0x199*-0x1+0x4d8+-0x61*0x11,this['_resetExec'+'utionOrder'](0x9f9+-0x4d*-0x1+-0x5*0x20e,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x32619a=0x21e2+-0x9d1*-0x1+-0x21*0x153,_0xed4aaa=this['scripts']['length'];_0x32619a<_0xed4aaa;_0x32619a++){const _0x163acc=this['scripts'][_0x32619a];this['initialize'+'Attributes'](_0x163acc);}}['initialize'+'Attributes'](_0x5c7a6b){var _0x1d5bae;if(_0x5c7a6b instanceof Qh)_0x5c7a6b['__initiali'+'zeAttribut'+'es']();else{const _0x56c329=_0x5c7a6b['__scriptTy'+'pe']['__name'],_0x11742a=this['_attribute'+'DataMap']['get'](_0x56c329);if(!_0x11742a)return;const _0x59f705=(_0x1d5bae=this['system']['app']['scripts'])==null?void(-0x1*0x2593+0xba3*0x1+0x19f0):_0x1d5bae['getSchema'](_0x56c329);_0x59f705||v['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x56c329+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),Ex(this['system']['app'],_0x59f705['attributes'],_0x11742a,_0x5c7a6b);}}['_scriptMet'+'hod'](_0x2e3b45,_0x35ac44,_0x2948b3){try{_0x2e3b45[_0x35ac44](_0x2948b3);}catch(_0x5dbef8){_0x2e3b45['enabled']=!(-0x4c*-0x78+0x108*-0x1b+0xb5*-0xb),_0x2e3b45['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x35ac44+'\x22\x20for\x20\x22'+_0x2e3b45['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x5dbef8),console['error'](_0x5dbef8)),_0x2e3b45['fire']('error',_0x5dbef8,_0x35ac44),this['fire']('error',_0x2e3b45,_0x5dbef8,_0x35ac44);}}['_onInitial'+'ize'](){const _0x4aa1d7=this['_scripts'],_0x2376ec=this['_beginLoop'+'ing']();for(let _0xad882=-0x115*-0x17+0x1*-0xf6a+-0x979,_0x5c33fb=_0x4aa1d7['length'];_0xad882<_0x5c33fb;_0xad882++){const _0x31251a=_0x4aa1d7[_0xad882];!_0x31251a['_initializ'+'ed']&&_0x31251a['enabled']&&(_0x31251a['_initializ'+'ed']=!(-0xca0*0x3+0x17*0xcd+0x1375*0x1),_0x31251a['initialize']&&this['_scriptMet'+'hod'](_0x31251a,_f));}this['_endLoopin'+'g'](_0x2376ec);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x1dd1b4){const _0x1973c4=this['_updateLis'+'t'];if(!_0x1973c4['length'])return;const _0x2c092a=this['_beginLoop'+'ing']();for(_0x1973c4['loopIndex']=0x1*0x2115+-0x166+-0x1faf;_0x1973c4['loopIndex']<_0x1973c4['length'];_0x1973c4['loopIndex']++){const _0x4a1a7c=_0x1973c4['items'][_0x1973c4['loopIndex']];_0x4a1a7c['enabled']&&this['_scriptMet'+'hod'](_0x4a1a7c,JI,_0x1dd1b4);}this['_endLoopin'+'g'](_0x2c092a);}['_onPostUpd'+'ate'](_0x3587c8){const _0x484ac0=this['_postUpdat'+'eList'];if(!_0x484ac0['length'])return;const _0x2abbfe=this['_beginLoop'+'ing']();for(_0x484ac0['loopIndex']=0xd59+-0x1*0x10ed+0x394;_0x484ac0['loopIndex']<_0x484ac0['length'];_0x484ac0['loopIndex']++){const _0x271977=_0x484ac0['items'][_0x484ac0['loopIndex']];_0x271977['enabled']&&this['_scriptMet'+'hod'](_0x271977,eD,_0x3587c8);}this['_endLoopin'+'g'](_0x2abbfe);}['_insertScr'+'iptInstanc'+'e'](_0x465eef,_0x5a6989,_0x1ad779){_0x5a6989===-(-0x67f*-0x1+0xc07*-0x2+0x1190)?(this['_scripts']['push'](_0x465eef),_0x465eef['__executio'+'nOrder']=_0x1ad779,_0x465eef['update']&&this['_updateLis'+'t']['append'](_0x465eef),_0x465eef['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x465eef)):(this['_scripts']['splice'](_0x5a6989,0x12*-0x11+0x2101+-0x1fcf,_0x465eef),_0x465eef['__executio'+'nOrder']=_0x5a6989,this['_resetExec'+'utionOrder'](_0x5a6989+(-0x1499*-0x1+0x1778+-0x30*0xeb),_0x1ad779+(0x10cf*-0x1+0x1*0x1827+0x1*-0x757)),_0x465eef['update']&&this['_updateLis'+'t']['insert'](_0x465eef),_0x465eef['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x465eef));}['_removeScr'+'iptInstanc'+'e'](_0x45d3ba){const _0x2a9a30=this['_scripts']['indexOf'](_0x45d3ba);return _0x2a9a30===-(0x232*-0xb+0x1*0x577+0x12b0)||(this['_scripts']['splice'](_0x2a9a30,0x1a48+0x856+-0x229d),_0x45d3ba['update']&&this['_updateLis'+'t']['remove'](_0x45d3ba),_0x45d3ba['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x45d3ba)),_0x2a9a30;}['_resetExec'+'utionOrder'](_0x5f2e0f,_0x2a9a94){for(let _0x57465f=_0x5f2e0f;_0x57465f<_0x2a9a94;_0x57465f++)this['_scripts'][_0x57465f]['__executio'+'nOrder']=_0x57465f;}['_resolveEn'+'tityScript'+'Attribute'](_0x1a9d58,_0xf5627e,_0x1fca98,_0x33bef7,_0x1f5293,_0x2af848){if(_0x1a9d58['array']){const _0x1057ad=_0x1fca98['length'];if(!_0x1057ad)return;const _0x2dbf62=_0x1fca98['slice']();for(let _0x3eb0db=0x1606+-0x1352*-0x2+-0x3caa;_0x3eb0db<_0x1057ad;_0x3eb0db++){const _0x48f417=_0x2dbf62[_0x3eb0db]instanceof We?_0x2dbf62[_0x3eb0db]['getGuid']():_0x2dbf62[_0x3eb0db];_0x2af848[_0x48f417]&&(_0x2dbf62[_0x3eb0db]=_0x33bef7?_0x2af848[_0x48f417]['getGuid']():_0x2af848[_0x48f417]);}_0x1f5293[_0xf5627e]=_0x2dbf62;}else{if(_0x1fca98 instanceof We)_0x1fca98=_0x1fca98['getGuid']();else{if(typeof _0x1fca98!='string')return;}_0x2af848[_0x1fca98]&&(_0x1f5293[_0xf5627e]=_0x2af848[_0x1fca98]);}}['has'](_0x44b004){if(typeof _0x44b004=='string')return!!this['_scriptsIn'+'dex'][_0x44b004];if(!_0x44b004)return!(0x1881+-0x649*-0x4+-0x31a4);const _0x21f906=_0x44b004,_0x1d97ba=_0x21f906['__name'],_0x294ed8=this['_scriptsIn'+'dex'][_0x1d97ba];return(_0x294ed8&&_0x294ed8['instance'])instanceof _0x21f906;}['get'](_0x590bc9){if(typeof _0x590bc9=='string'){const _0x130648=this['_scriptsIn'+'dex'][_0x590bc9];return _0x130648?_0x130648['instance']:null;}if(!_0x590bc9)return null;const _0x471b5e=_0x590bc9,_0x2d1e9e=_0x471b5e['__name'],_0x4a70c3=this['_scriptsIn'+'dex'][_0x2d1e9e],_0x223573=_0x4a70c3&&_0x4a70c3['instance'];return _0x223573 instanceof _0x471b5e?_0x223573:null;}['create'](_0x393458,_0x1dd305={}){const _0x3bbcd1=this;let _0x248b10=_0x393458,_0x4a1748=_0x393458;if(typeof _0x248b10=='string'?_0x248b10=this['system']['app']['scripts']['get'](_0x248b10):_0x248b10&&(_0x4a1748=_0x248b10['__name']??(_0x248b10['__name']=iD(Cx(_0x248b10)))),_0x248b10){if(!this['_scriptsIn'+'dex'][_0x4a1748]||!this['_scriptsIn'+'dex'][_0x4a1748]['instance']){const _0x215e0a=new _0x248b10({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x1dd305['hasOwnProp'+'erty']('enabled')?_0x1dd305['enabled']:!(0xc2*0x12+-0x622*-0x2+0xcf4*-0x2),'attributes':_0x1dd305['attributes']||{}});_0x1dd305['properties']&&typeof _0x1dd305['properties']=='object'&&Object['assign'](_0x215e0a,_0x1dd305['properties']),_0x215e0a instanceof Qh||this['_attribute'+'DataMap']['set'](_0x4a1748,_0x1dd305['attributes']);const _0x9ad2b0=this['_scripts']['length'];let _0x2d887f=-(0x1b1*-0x12+0x1*-0x1e07+0x1e3d*0x2);return typeof _0x1dd305['ind']=='number'&&_0x1dd305['ind']!==-(-0x24fb*0x1+0x2e0+-0x3b*-0x94)&&_0x9ad2b0>_0x1dd305['ind']&&(_0x2d887f=_0x1dd305['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x215e0a,_0x2d887f,_0x9ad2b0),this['_scriptsIn'+'dex'][_0x4a1748]={'instance':_0x215e0a,'onSwap':function(){_0x3bbcd1['swap'](_0x4a1748);}},this[_0x4a1748]=_0x215e0a,_0x1dd305['preloading']||this['initialize'+'Attributes'](_0x215e0a),this['fire']('create',_0x4a1748,_0x215e0a),this['fire']('create:'+_0x4a1748,_0x215e0a),this['system']['app']['scripts']['on']('swap:'+_0x4a1748,this['_scriptsIn'+'dex'][_0x4a1748]['onSwap']),_0x1dd305['preloading']||(_0x215e0a['enabled']&&!_0x215e0a['_initializ'+'ed']&&(_0x215e0a['_initializ'+'ed']=!(-0x443*-0x1+-0x2*0x63+0x37d*-0x1),_0x215e0a['initialize']&&this['_scriptMet'+'hod'](_0x215e0a,_f)),_0x215e0a['enabled']&&!_0x215e0a['_postIniti'+'alized']&&(_0x215e0a['_postIniti'+'alized']=!(-0x7*-0x1c0+0x23bb+-0x2ffb),_0x215e0a['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x215e0a,gf))),_0x215e0a;}v['warn']('script\x20\x27'+_0x4a1748+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x4a1748]={'awaiting':!(-0x25af+0x766*-0x5+-0x7*-0xaab),'ind':this['_scripts']['length']},v['warn']('script\x20\x27'+_0x4a1748+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x38296d){let _0x194889=_0x38296d,_0x4d511d=_0x38296d;typeof _0x4d511d=='string'?_0x4d511d=this['system']['app']['scripts']['get'](_0x4d511d):_0x4d511d&&(_0x194889=_0x4d511d['__name']);const _0x1a6448=this['_scriptsIn'+'dex'][_0x194889];if(delete this['_scriptsIn'+'dex'][_0x194889],!_0x1a6448)return!(-0x4*0x3f1+-0x313*-0x6+0x1*-0x2ad);this['_attribute'+'DataMap']['delete'](_0x194889);const _0x1ca603=_0x1a6448['instance'];if(_0x1ca603&&!_0x1ca603['_destroyed']){if(_0x1ca603['enabled']=!(0xaac+0x17*0x13d+-0x2726),_0x1ca603['_destroyed']=!(0x1b55+-0x1ef3+0x1*0x39e),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x1ca603);else{const _0x5e39e5=this['_removeScr'+'iptInstanc'+'e'](_0x1ca603);_0x5e39e5>=0x65*-0x52+0x1059+0x1001&&this['_resetExec'+'utionOrder'](_0x5e39e5,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x194889,_0x1a6448['onSwap']),delete this[_0x194889],this['fire']('destroy',_0x194889,_0x1ca603||null),this['fire']('destroy:'+_0x194889,_0x1ca603||null),_0x1ca603&&_0x1ca603['fire']('destroy'),!(0x3*-0x43b+-0x1*-0xb1e+0x193);}['swap'](_0x404aa){let _0x20421d=_0x404aa,_0xfa43=_0x404aa;typeof _0xfa43=='string'?_0xfa43=this['system']['app']['scripts']['get'](_0xfa43):_0xfa43&&(_0x20421d=_0xfa43['__name']);const _0x25a1b3=this['_scriptsIn'+'dex'][_0x20421d];if(!_0x25a1b3||!_0x25a1b3['instance'])return!(-0x97e+-0x77*-0x11+-0x18*-0x11);const _0x1b5ffa=_0x25a1b3['instance'],_0x566f30=this['_scripts']['indexOf'](_0x1b5ffa),_0x18f993=new _0xfa43({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x1b5ffa['enabled'],'attributes':_0x1b5ffa['__attribut'+'es']});return _0x18f993['swap']?(this['initialize'+'Attributes'](_0x18f993),this['_scripts'][_0x566f30]=_0x18f993,this['_scriptsIn'+'dex'][_0x20421d]['instance']=_0x18f993,this[_0x20421d]=_0x18f993,_0x18f993['__executio'+'nOrder']=_0x566f30,_0x1b5ffa['update']&&this['_updateLis'+'t']['remove'](_0x1b5ffa),_0x1b5ffa['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x1b5ffa),_0x18f993['update']&&this['_updateLis'+'t']['insert'](_0x18f993),_0x18f993['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x18f993),this['_scriptMet'+'hod'](_0x18f993,tD,_0x1b5ffa),this['fire']('swap',_0x20421d,_0x18f993),this['fire']('swap:'+_0x20421d,_0x18f993),!(0xb93+-0x1cbe+-0x5b9*-0x3)):!(-0x17f9+0x189b+-0xa1);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x314b45,_0x4cb1cc){const _0x27ae2b=this['entity']['script'];for(const _0x507edf in _0x314b45['_scriptsIn'+'dex']){const _0x51b81b=this['system']['app']['scripts']['get'](_0x507edf);if(!_0x51b81b)continue;const _0x49e87e=_0x314b45['_scriptsIn'+'dex'][_0x507edf];if(!_0x49e87e||!_0x49e87e['instance'])continue;const _0x16e30c=_0x27ae2b[_0x507edf]['__attribut'+'esRaw'],_0x1006ce=_0x27ae2b[_0x507edf]['__attribut'+'es'];if(!_0x16e30c&&!_0x1006ce)continue;const _0x14d23b=!!_0x16e30c,_0x501e50=_0x49e87e['instance']['__attribut'+'es'];for(const _0x19d052 in _0x501e50){if(!_0x501e50[_0x19d052])continue;const _0x309780=_0x51b81b['attributes']['get'](_0x19d052);if(_0x309780){if(_0x309780['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x309780,_0x19d052,_0x501e50[_0x19d052],_0x14d23b,_0x16e30c||_0x1006ce,_0x4cb1cc);else{if(_0x309780['type']==='json'&&Array['isArray'](_0x309780['schema'])){const _0x4e897f=_0x501e50[_0x19d052],_0x9cc385=_0x16e30c?_0x16e30c[_0x19d052]:_0x1006ce[_0x19d052];for(let _0x4bc519=-0x1856+0xd78+0xade;_0x4bc519<_0x309780['schema']['length'];_0x4bc519++){const _0x326216=_0x309780['schema'][_0x4bc519];if(_0x326216['type']==='entity'){if(_0x309780['array']){for(let _0x10647c=-0x7cb+0xb1c+0x3*-0x11b;_0x10647c<_0x4e897f['length'];_0x10647c++)this['_resolveEn'+'tityScript'+'Attribute'](_0x326216,_0x326216['name'],_0x4e897f[_0x10647c][_0x326216['name']],_0x14d23b,_0x9cc385[_0x10647c],_0x4cb1cc);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x326216,_0x326216['name'],_0x4e897f[_0x326216['name']],_0x14d23b,_0x9cc385,_0x4cb1cc);}}}}}}}}['move'](_0x5504bf,_0x258b7){const _0x1a8872=this['_scripts']['length'];if(_0x258b7>=_0x1a8872||_0x258b7<0x2397*0x1+-0x2*0x99d+0x47*-0x3b)return!(-0x8c*0x39+-0x2e*0x7d+-0x45*-0xc7);let _0x54b60e=_0x5504bf,_0x2796b9=_0x5504bf;typeof _0x2796b9!='string'?_0x2796b9=_0x5504bf['__name']:_0x54b60e=null;const _0x2975ee=this['_scriptsIn'+'dex'][_0x2796b9];if(!_0x2975ee||!_0x2975ee['instance'])return!(-0x3*-0x17+-0xe9*-0x1+-0x12d);const _0x3cbe70=_0x2975ee['instance'];if(_0x54b60e&&!(_0x3cbe70 instanceof _0x54b60e))return!(-0x4*-0x150+-0x17ad+0x937*0x2);const _0x40a553=this['_scripts']['indexOf'](_0x3cbe70);return _0x40a553===-(0x1b5d*0x1+0xe3*0x1d+-0x3*0x11b1)||_0x40a553===_0x258b7?!(0x23b6+-0xac1*-0x1+0x1*-0x2e76):(this['_scripts']['splice'](_0x258b7,-0x11*0x3+-0x17+0x4a,this['_scripts']['splice'](_0x40a553,0x2188+0x1d*0x49+-0xa*0x42e)[-0x751+-0xb29+0x16*0xd7]),this['_resetExec'+'utionOrder'](-0x2*0xa1f+-0x5*0x3e9+0x27cb,_0x1a8872),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x2796b9,_0x3cbe70,_0x258b7,_0x40a553),this['fire']('move:'+_0x2796b9,_0x3cbe70,_0x258b7,_0x40a553),!(-0x12*-0x160+0x2177*0x1+0x7*-0x851));}}c(di,'EVENT_CREA'+'TE','create'),c(di,'EVENT_DEST'+'ROY','destroy'),c(di,'EVENT_ENAB'+'LE','enable'),c(di,'EVENT_DISA'+'BLE','disable'),c(di,'EVENT_REMO'+'VE','remove'),c(di,'EVENT_STAT'+'E','state'),c(di,'EVENT_MOVE','move'),c(di,'EVENT_ERRO'+'R','error');class rD{constructor(){this['enabled']=!(0x5*-0x749+0xe70+0xd*0x1b1);}}const nD='_onInitial'+'izeAttribu'+'tes',aD='_onInitial'+'ize',oD='_onPostIni'+'tialize',lD='_onUpdate',hD='_onPostUpd'+'ate';let Jl=-0x154f+0x242c+-0xedd;class cD extends Xe{constructor(_0x1183ea){super(_0x1183ea),this['id']='script',this['ComponentT'+'ype']=di,this['DataType']=rD,this['_component'+'s']=new wh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new wh({'sortBy':'_execution'+'Order'}),this['preloading']=!(-0x3*0x4f+0xa46+-0x959),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x52a59e,_0x4a9cb8){if(_0x52a59e['_execution'+'Order']=Jl++,this['_component'+'s']['append'](_0x52a59e),Jl>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x52a59e['enabled']=_0x4a9cb8['hasOwnProp'+'erty']('enabled')?!!_0x4a9cb8['enabled']:!(0x1*0x1029+-0xe21*-0x2+0x1*-0x2c6b),_0x52a59e['enabled']&&_0x52a59e['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x52a59e),_0x4a9cb8['hasOwnProp'+'erty']('order')&&_0x4a9cb8['hasOwnProp'+'erty']('scripts')){_0x52a59e['_scriptsDa'+'ta']=_0x4a9cb8['scripts'];for(let _0xd61a90=0x2554+-0x7ad+0x1*-0x1da7;_0xd61a90<_0x4a9cb8['order']['length'];_0xd61a90++)_0x52a59e['create'](_0x4a9cb8['order'][_0xd61a90],{'enabled':_0x4a9cb8['scripts'][_0x4a9cb8['order'][_0xd61a90]]['enabled'],'attributes':_0x4a9cb8['scripts'][_0x4a9cb8['order'][_0xd61a90]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x51aa1d,_0x400a85){var _0x4ef4a7;const _0x3b8a0a=[],_0x482f32={};for(let _0x159b88=0x26e+-0x2*-0x704+-0x1076;_0x159b88<_0x51aa1d['script']['_scripts']['length'];_0x159b88++){const _0x3c4e68=_0x51aa1d['script']['_scripts'][_0x159b88],_0x162d68=_0x3c4e68['__scriptTy'+'pe']['__name'];_0x3b8a0a['push'](_0x162d68);const _0xfb20a4=((_0x4ef4a7=_0x51aa1d['script']['_attribute'+'DataMap'])==null?void(-0x1779+-0x384+0x3*0x8ff):_0x4ef4a7['get'](_0x162d68))||{};for(const _0x58c8f5 in _0x3c4e68['__attribut'+'es'])_0xfb20a4[_0x58c8f5]=_0x3c4e68['__attribut'+'es'][_0x58c8f5];_0x482f32[_0x162d68]={'enabled':_0x3c4e68['_enabled'],'attributes':_0xfb20a4};}for(const _0xe1ac38 in _0x51aa1d['script']['_scriptsIn'+'dex'])_0xe1ac38['awaiting']&&_0x3b8a0a['splice'](_0xe1ac38['ind'],-0xa58+-0x1665+0x1*0x20bd,_0xe1ac38);const _0xab969a={'enabled':_0x51aa1d['script']['enabled'],'order':_0x3b8a0a,'scripts':_0x482f32};return this['addCompone'+'nt'](_0x400a85,_0xab969a);}['_resetExec'+'utionOrder'](){Jl=-0x1d32+-0xc75*0x2+-0x1*-0x361c;for(let _0x381611=0x83*-0x31+-0x602+0x1f15,_0x2209fc=this['_component'+'s']['length'];_0x381611<_0x2209fc;_0x381611++)this['_component'+'s']['items'][_0x381611]['_execution'+'Order']=Jl++;}['_callCompo'+'nentMethod'](_0x45d2fa,_0xa117ee,_0x1e5fd1){for(_0x45d2fa['loopIndex']=0x2436+-0xca5+-0x1791;_0x45d2fa['loopIndex']<_0x45d2fa['length'];_0x45d2fa['loopIndex']++)_0x45d2fa['items'][_0x45d2fa['loopIndex']][_0xa117ee](_0x1e5fd1);}['_onInitial'+'ize'](){this['preloading']=!(-0x219+-0x11da*0x1+0x13f4),this['_callCompo'+'nentMethod'](this['_component'+'s'],nD),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],aD);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],oD);}['_onUpdate'](_0x935b4e){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],lD,_0x935b4e);}['_onPostUpd'+'ate'](_0x1ad826){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],hD,_0x1ad826);}['_addCompon'+'entToEnabl'+'ed'](_0x5c6abc){this['_enabledCo'+'mponents']['insert'](_0x5c6abc);}['_removeCom'+'ponentFrom'+'Enabled'](_0x5b64bc){this['_enabledCo'+'mponents']['remove'](_0x5b64bc);}['_onBeforeR'+'emove'](_0x45d02e,_0x443412){this['_component'+'s']['items']['indexOf'](_0x443412)>=-0x1*-0x17d7+-0x27*0x7b+0x51a*-0x1&&_0x443412['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x443412),this['_component'+'s']['remove'](_0x443412);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class Mx extends ue{constructor(_0x5d5b42,_0x2cd0db){super(_0x5d5b42,_0x2cd0db),c(this,'_layers',[Fi]),c(this,'_instance',null),c(this,'_customAab'+'b',null),c(this,'_assetRefe'+'rence'),c(this,'_materialO'+'ptions',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x5d5b42['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x2cd0db['on']('remove',this['onRemoveCh'+'ild'],this),_0x2cd0db['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x2cd0db['on']('insert',this['onInsertCh'+'ild'],this),_0x2cd0db['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x93c4e4){var _0x10faa8,_0x3f418e;this['_customAab'+'b']=_0x93c4e4,(_0x3f418e=(_0x10faa8=this['_instance'])==null?void(-0x240d+0x779+-0x76*-0x3e):_0x10faa8['meshInstan'+'ce'])==null||_0x3f418e['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x349e76){var _0x483714;if(this['destroyIns'+'tance'](),this['_instance']=_0x349e76,(_0x483714=this['_instance'])!=null&&_0x483714['meshInstan'+'ce']){const _0xc948e7=this['_instance']['meshInstan'+'ce'];_0xc948e7['node']||(_0xc948e7['node']=this['entity']),_0xc948e7['setCustomA'+'abb'](this['_customAab'+'b']),this['_materialO'+'ptions']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['materialOp'+'tions'](_0x4c915f){this['_materialO'+'ptions']=Object['assign']({},_0x4c915f),this['_instance']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']);}get['materialOp'+'tions'](){return this['_materialO'+'ptions'];}get['material'](){var _0x2dfdbd;return(_0x2dfdbd=this['_instance'])==null?void(0x3d*0x9d+0x1a9f+0x2004*-0x2):_0x2dfdbd['material'];}set['layers'](_0xec5aa2){this['removeFrom'+'Layers'](),this['_layers']['length']=0x1*0x25d+-0x4ae*0x5+0x1509;for(let _0x56ce22=0x53+0x2379+-0x23cc;_0x56ce22<_0xec5aa2['length'];_0x56ce22++)this['_layers'][_0x56ce22]=_0xec5aa2[_0x56ce22];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x397d82){const _0x52dde2=_0x397d82 instanceof le?_0x397d82['id']:_0x397d82;this['_assetRefe'+'rence']['id']!==_0x52dde2&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x52dde2,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x26422a){const _0x42db5a=_0x26422a instanceof le?_0x26422a['id']:_0x26422a;this['_assetRefe'+'rence']['id']=_0x42db5a;}['destroyIns'+'tance'](){var _0x3c7b52;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x3c7b52=this['_instance'])==null||_0x3c7b52['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0xb321ca,_0x23ce7e;const _0x2fbc9b=(_0xb321ca=this['instance'])==null?void(-0x25e3+0x19a3+-0xc4*-0x10):_0xb321ca['meshInstan'+'ce'];if(_0x2fbc9b){const _0x46fc88=this['system']['app']['scene']['layers'];for(let _0x22548b=0x1*-0xc20+0x110f*0x1+-0x4ef;_0x22548b<this['_layers']['length'];_0x22548b++)(_0x23ce7e=_0x46fc88['getLayerBy'+'Id'](this['_layers'][_0x22548b]))==null||_0x23ce7e['addMeshIns'+'tances']([_0x2fbc9b]);}}['removeFrom'+'Layers'](){var _0x11fc5e,_0x14f37f;const _0x347239=(_0x11fc5e=this['instance'])==null?void(-0xa69+-0x183c+0x31*0xb5):_0x11fc5e['meshInstan'+'ce'];if(_0x347239){const _0x34ea51=this['system']['app']['scene']['layers'];for(let _0x336ae0=-0x4*0x7e6+-0x9ec+0x1*0x2984;_0x336ae0<this['_layers']['length'];_0x336ae0++)(_0x14f37f=_0x34ea51['getLayerBy'+'Id'](this['_layers'][_0x336ae0]))==null||_0x14f37f['removeMesh'+'Instances']([_0x347239]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x22636f,_0x16cf9e){this['addToLayer'+'s'](),_0x22636f['off']('add',this['onLayerAdd'+'ed'],this),_0x22636f['off']('remove',this['onLayerRem'+'oved'],this),_0x16cf9e['on']('add',this['onLayerAdd'+'ed'],this),_0x16cf9e['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x27fd81){this['layers']['indexOf'](_0x27fd81['id'])<-0x20c5*-0x1+0x3*0xc37+-0xa*0x6f1||this['_instance']&&_0x27fd81['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x15b1c8){this['layers']['indexOf'](_0x15b1c8['id'])<-0x80*0x14+0x145*0xa+-0x2b2||this['_instance']&&_0x15b1c8['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x2b7ab9=this['system']['app']['scene'],_0x43e85c=_0x2b7ab9['layers'];this['_evtLayers'+'Changed']=_0x2b7ab9['on']('set:layers',this['onLayersCh'+'anged'],this),_0x43e85c&&(this['_evtLayerA'+'dded']=_0x43e85c['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x43e85c['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x2d0443,_0xa5391b,_0x58aec5;const _0x5da975=this['system']['app']['scene']['layers'];(_0x2d0443=this['_evtLayers'+'Changed'])==null||_0x2d0443['off'](),this['_evtLayers'+'Changed']=null,_0x5da975&&((_0xa5391b=this['_evtLayerA'+'dded'])==null||_0xa5391b['off'](),this['_evtLayerA'+'dded']=null,(_0x58aec5=this['_evtLayerR'+'emoved'])==null||_0x58aec5['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0x1*-0x1c2d+-0x244f+-0x823*-0x1));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0x238f+0x1132+0x1*0x125d));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x50da20=this['_assetRefe'+'rence']['asset'];_0x50da20&&(this['instance']=_0x50da20['resource']['createInst'+'ance']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class dD{constructor(){this['enabled']=!(0x19*-0x101+-0x19*0x109+-0x12*-0x2d5);}}const yf=['enabled'],Rr=['instance','asset','layers'];class uD extends Xe{constructor(_0x360733){super(_0x360733),this['id']='gsplat',this['ComponentT'+'ype']=Mx,this['DataType']=dD,this['schema']=yf,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x2004c5,_0x1b35b8,_0x166817){_0x1b35b8['layers']&&_0x1b35b8['layers']['length']&&(_0x1b35b8['layers']=_0x1b35b8['layers']['slice'](-0x111b+0xb*-0x315+-0x1*-0x3302));for(let _0x1307b5=0x12cd*0x2+0x5*0x336+-0x35a8;_0x1307b5<Rr['length'];_0x1307b5++)_0x1b35b8['hasOwnProp'+'erty'](Rr[_0x1307b5])&&(_0x2004c5[Rr[_0x1307b5]]=_0x1b35b8[Rr[_0x1307b5]]);_0x1b35b8['aabbCenter']&&_0x1b35b8['aabbHalfEx'+'tents']&&(_0x2004c5['customAabb']=new _e(new T(_0x1b35b8['aabbCenter']),new T(_0x1b35b8['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x2004c5,_0x1b35b8,yf);}['cloneCompo'+'nent'](_0x13badf,_0x1c25a9){const _0x4de04b=_0x13badf['gsplat'],_0x3b49f7={};for(let _0x422968=0x127b+0x359*-0x5+0x1be*-0x1;_0x422968<Rr['length'];_0x422968++)_0x3b49f7[Rr[_0x422968]]=_0x4de04b[Rr[_0x422968]];_0x3b49f7['enabled']=_0x4de04b['enabled'],delete _0x3b49f7['instance'];const _0x110cc8=this['addCompone'+'nt'](_0x1c25a9,_0x3b49f7);return _0x110cc8['instance']=_0x4de04b['instance']['clone'](),_0x4de04b['customAabb']&&(_0x110cc8['customAabb']=_0x4de04b['customAabb']['clone']()),_0x110cc8;}['onRemove'](_0x318b57,_0x4bff55){_0x4bff55['onRemove']();}}ue['_buildAcce'+'ssors'](Mx['prototype'],yf);class Hp extends ce{constructor(){super(...arguments),c(this,'_meshes',null);}set['meshes'](_0xfbd34e){this['decRefMesh'+'es'](),this['_meshes']=_0xfbd34e,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0xfbd34e);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x192985;(_0x192985=this['_meshes'])==null||_0x192985['forEach']((_0x30668f,_0x1e19b6)=>{_0x30668f&&(_0x30668f['decRefCoun'+'t'](),_0x30668f['refCount']<-0x184a+0x4a0+0x1*0x13ab&&(_0x30668f['destroy'](),this['_meshes'][_0x1e19b6]=null));});}['incRefMesh'+'es'](){var _0x2dfd1c;(_0x2dfd1c=this['_meshes'])==null||_0x2dfd1c['forEach'](_0x51ea36=>{_0x51ea36==null||_0x51ea36['incRefCoun'+'t']();});}}c(Hp,'EVENT_SETM'+'ESHES','set:meshes');function yh(_0x40bd8b){const _0xec72a8=this;if(!_0xec72a8['resource'])return;const _0x4083f5=_0x40bd8b['resource'],_0x3fda41=_0x4083f5['renders']&&_0x4083f5['renders'][_0xec72a8['data']['renderInde'+'x']];_0x3fda41&&(_0xec72a8['resource']['meshes']=_0x3fda41['resource']['meshes']);}function Lg(_0x1045b7){const _0x2fd1a3=this;_0x2fd1a3['registry']['off']('load:'+_0x1045b7['id'],yh,_0x2fd1a3),_0x2fd1a3['registry']['on']('load:'+_0x1045b7['id'],yh,_0x2fd1a3),_0x2fd1a3['registry']['off']('remove:'+_0x1045b7['id'],Fg,_0x2fd1a3),_0x2fd1a3['registry']['once']('remove:'+_0x1045b7['id'],Fg,_0x2fd1a3),_0x1045b7['resource']?yh['call'](_0x2fd1a3,_0x1045b7):_0x2fd1a3['registry']['load'](_0x1045b7);}function Fg(_0x5daf59){const _0x26fcbe=this;_0x26fcbe['registry']['off']('load:'+_0x5daf59['id'],yh,_0x26fcbe),_0x26fcbe['resource']&&_0x26fcbe['resource']['destroy']();}class fD extends Ne{constructor(_0x3a5a7a){super(_0x3a5a7a,'render'),this['_registry']=_0x3a5a7a['assets'];}['open'](_0xb0efe4,_0x38e91b){return new Hp();}['patch'](_0x40b1a7,_0x7a56f2){if(!_0x40b1a7['data']['containerA'+'sset'])return;const _0x4b4aee=_0x7a56f2['get'](_0x40b1a7['data']['containerA'+'sset']);if(!_0x4b4aee){_0x7a56f2['once']('add:'+_0x40b1a7['data']['containerA'+'sset'],Lg,_0x40b1a7);return;}Lg['call'](_0x40b1a7,_0x4b4aee);}}class Px{constructor(_0x5afbc3,_0x33cd8a,_0x896a4e,_0x398e5d){this['_paths']=_0x5afbc3,this['_input']=_0x33cd8a,this['_output']=_0x896a4e,this['_interpola'+'tion']=_0x398e5d;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Jh{constructor(_0x83d41d,_0x206e5c){this['_component'+'s']=_0x83d41d,this['_data']=_0x206e5c;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function pD(_0x4d9d0a,_0x998c4f){let _0x1aaa07;const _0x15fe6e=(_0x5920b0,_0x20a52a)=>{switch(_0x20a52a){case _0x1aaa07['DT_INT8']:return new Int8Array(_0x5920b0['buffer'],_0x5920b0['byteOffset'],_0x5920b0['byteLength']);case _0x1aaa07['DT_INT16']:return new Int16Array(_0x5920b0['buffer'],_0x5920b0['byteOffset'],_0x5920b0['byteLength']/(0x769*0x5+0x12cc+0x37d7*-0x1));case _0x1aaa07['DT_INT32']:return new Int32Array(_0x5920b0['buffer'],_0x5920b0['byteOffset'],_0x5920b0['byteLength']/(-0xc6d*0x3+0x26c8+-0x7f*0x3));case _0x1aaa07['DT_UINT8']:return new Uint8Array(_0x5920b0['buffer'],_0x5920b0['byteOffset'],_0x5920b0['byteLength']);case _0x1aaa07['DT_UINT16']:return new Uint16Array(_0x5920b0['buffer'],_0x5920b0['byteOffset'],_0x5920b0['byteLength']/(-0x322*0x2+-0x4f0+-0x19a*-0x7));case _0x1aaa07['DT_UINT32']:return new Uint32Array(_0x5920b0['buffer'],_0x5920b0['byteOffset'],_0x5920b0['byteLength']/(0x151c+0x1*-0x1766+0x1*0x24e));case _0x1aaa07['DT_FLOAT32']:return new Float32Array(_0x5920b0['buffer'],_0x5920b0['byteOffset'],_0x5920b0['byteLength']/(-0x21*0x4+-0x260e+-0xb*-0x382));}return null;},_0x257692=_0x14f0ee=>{switch(_0x14f0ee){case _0x1aaa07['DT_INT8']:return-0x202a+0x2083+-0x58*0x1;case _0x1aaa07['DT_INT16']:return-0x1b1d+0x1fbf+0x4*-0x128;case _0x1aaa07['DT_INT32']:return 0x1000+0xd82+-0x1d7e;case _0x1aaa07['DT_UINT8']:return-0x2492+0x232c+0x167;case _0x1aaa07['DT_UINT16']:return 0x2d6*0x4+0x1*0xbd5+-0x3*0x7b9;case _0x1aaa07['DT_UINT32']:return-0x49*0x30+0x2*0x8f8+-0x43c;case _0x1aaa07['DT_FLOAT32']:return-0x1f8a+-0x551+0x1*0x24df;}return 0x1b69+-0x1f44+0x26*0x1a;},_0xa99e68=_0x293e07=>_0x293e07['num_compon'+'ents']()*_0x257692(_0x293e07['data_type']()),_0x110eb2={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x1f3f92=(_0x16e9f8,_0x24a11b)=>{const _0x3651ca=(_0x214db9,_0x1dca5f,_0x54d968)=>{_0x214db9[0x3e*-0x8e+0x4*-0x26c+0x2c14]=_0x1dca5f[0x19b3+-0x63f+-0x1*0x1374]-_0x54d968[-0x262b+0x5fa+0x2031],_0x214db9[-0x26f*0x9+-0x14e6+0x2ace]=_0x1dca5f[-0x132a+-0x4f7*0x2+0x9b3*0x3]-_0x54d968[-0x858+-0x97a+0x11d3],_0x214db9[0x2*0x2e7+0x2bc+-0x3*0x2d8]=_0x1dca5f[-0x1447+0x13f*-0x13+0x2bf6]-_0x54d968[0x3*-0x98e+-0x82d+0x24d9];},_0x5ad7b1=(_0xea5df2,_0xe6ef24,_0x3b8bbf)=>{_0xea5df2[0x4c+0x5e2*-0x5+-0x1d1e*-0x1]=_0xe6ef24[0xeb*-0x2a+0xc7*-0x25+0x4352]*_0x3b8bbf[-0x3*0x7be+0x147b+0x2c1]-_0x3b8bbf[0x1e5*-0xf+-0x2176+0x2*0x1ef1]*_0xe6ef24[-0x2e*-0x13+-0x33+-0x1*0x335],_0xea5df2[0x8d0+-0x1d0+-0x9*0xc7]=_0xe6ef24[0x410*-0x9+-0x83*-0x21+-0x13af*-0x1]*_0x3b8bbf[-0x116b+0x1*-0x8e7+0x1a52]-_0x3b8bbf[0x1*-0x1369+0x1991+0x626*-0x1]*_0xe6ef24[-0x1f4*0x11+0x435*0x6+0x3fb*0x2],_0xea5df2[-0x3cc+-0x65c*0x1+0xa2a]=_0xe6ef24[-0x2518+0x1ac*0x9+0x160c]*_0x3b8bbf[0x108c+-0x208a+0xfff]-_0x3b8bbf[-0x28*-0xa+-0x1*0x11dd+0x104d]*_0xe6ef24[0x882+-0x12a1*0x1+0xa20];},_0x1f8bbc=(_0x323e93,_0x1622d6)=>{const _0x561f07=_0x323e93[_0x1622d6+(-0x1*0x26ad+0xbf*0x15+-0x49a*-0x5)],_0x1e9ecd=_0x323e93[_0x1622d6+(0x91*0x25+-0xc96+-0x85e)],_0xa32eda=_0x323e93[_0x1622d6+(-0x1*0xf8f+-0x35f+-0x978*-0x2)],_0x2ffe5c=(-0x23dc+-0x2165+0x24f*0x1e)/Math['sqrt'](_0x561f07*_0x561f07+_0x1e9ecd*_0x1e9ecd+_0xa32eda*_0xa32eda);_0x323e93[_0x1622d6+(-0x7e*-0x40+0x75b*0x2+-0x5b*0x82)]*=_0x2ffe5c,_0x323e93[_0x1622d6+(-0x1e0d+-0x1b4*-0x2+-0x12*-0x17b)]*=_0x2ffe5c,_0x323e93[_0x1622d6+(-0xb94+-0x83*-0x13+0x1dd*0x1)]*=_0x2ffe5c;},_0x161dce=(_0x944b27,_0x32e16c,_0x5e6e55)=>{for(let _0x1e4ca1=-0x2*0xd4f+-0xd8a*-0x2+-0x3b*0x2;_0x1e4ca1<-0x1*0x1516+-0x45d*-0x7+0x1f*-0x4e;++_0x1e4ca1)_0x944b27[_0x1e4ca1]=_0x32e16c[_0x5e6e55+_0x1e4ca1];},_0x3b4934=_0x24a11b['length']/(0x7*0x3d5+0x1d11+0x37e1*-0x1),_0x312355=_0x16e9f8['length']/(0x1*0x596+0x1da+-0x76d),_0x6d3c8d=new Float32Array(_0x16e9f8['length']),_0x19e44e=[0x13f5+0x2*0x1313+0x3a1b*-0x1,-0xb*0x26b+-0x1*-0x1565+0x534,-0x1*0xa37+-0x1169+0x1ba0],_0x532037=[-0x7c7*-0x4+-0x805*-0x2+0xaa*-0x47,0x4f9*0x1+0x293*0x1+0x2a*-0x2e,0xb8f+-0x1*0x1691+0xb02],_0x30fdd1=[-0x892+-0xdde+-0x10*-0x167,-0x8ea*0x4+-0x8cb+0x2c73,0x6*0x611+-0x2*0x656+-0xbdd*0x2],_0xd0bfd3=[-0x538*0x2+0x2322+-0x2*0xc59,0xe0*-0xd+0x610*-0x4+0x23a0,0x16b1+-0xdaa+-0x907],_0x5ec639=[0x709+-0x1697*0x1+0xf8e,0x7b6+0x96f*0x4+0x7*-0x67e,0x112d*-0x1+0xb25+0x608],_0x31bbd5=[0x21d1+0x1*0xd06+-0x2ed7,-0x1*0x252d+0x4a5+0x2088,0x7ec+-0x2*0x261+-0x1e*0x1b];for(let _0x21d7f0=0x1*-0x21d+0xd87*0x2+0x1*-0x18f1;_0x21d7f0<_0x3b4934;++_0x21d7f0){const _0x22ccae=_0x24a11b[_0x21d7f0*(0x1ad3+-0x21b9+0x6e9)+(0xec6+-0x21c8+0x1302)]*(0x1*-0x551+0x233b+-0x1de7),_0x1bd8cc=_0x24a11b[_0x21d7f0*(-0xeb*0x18+0x7b9+0xe52)+(0x2097+0x1*0x1265+-0x1a5*0x1f)]*(-0x25df+-0x6*-0x1e0+0x1aa2),_0x5e6a3d=_0x24a11b[_0x21d7f0*(-0x1241*-0x1+-0x181f+0x5e1)+(-0x206f+0x11*0x139+0x2*0x5d4)]*(0x22ae+0x14a0+-0x374b);_0x161dce(_0x19e44e,_0x16e9f8,_0x22ccae),_0x161dce(_0x532037,_0x16e9f8,_0x1bd8cc),_0x161dce(_0x30fdd1,_0x16e9f8,_0x5e6a3d),_0x3651ca(_0xd0bfd3,_0x532037,_0x19e44e),_0x3651ca(_0x5ec639,_0x30fdd1,_0x19e44e),_0x5ad7b1(_0x31bbd5,_0xd0bfd3,_0x5ec639),_0x1f8bbc(_0x31bbd5,0x7bc+-0x1d4b*-0x1+-0x1*0x2507);for(let _0x301bd5=-0x55c+-0x1b51+-0x20ad*-0x1;_0x301bd5<-0x261e+-0x10*0x251+0x4b31;++_0x301bd5)_0x6d3c8d[_0x22ccae+_0x301bd5]+=_0x31bbd5[_0x301bd5],_0x6d3c8d[_0x1bd8cc+_0x301bd5]+=_0x31bbd5[_0x301bd5],_0x6d3c8d[_0x5e6a3d+_0x301bd5]+=_0x31bbd5[_0x301bd5];}for(let _0x16584f=-0x1*0x54f+-0x5a7+0xaf6;_0x16584f<_0x312355;++_0x16584f)_0x1f8bbc(_0x6d3c8d,_0x16584f*(-0x237+-0xd+0x247));return new Uint8Array(_0x6d3c8d['buffer']);},_0x366b88=_0x37496b=>{const _0x2de1e9={},_0x180d23=new _0x1aaa07['DecoderBuf'+'fer']();_0x180d23['Init'](_0x37496b,_0x37496b['length']);const _0x5173bf=new _0x1aaa07['Decoder']();if(_0x5173bf['GetEncoded'+'GeometryTy'+'pe'](_0x180d23)!==_0x1aaa07['TRIANGULAR'+'_MESH'])return _0x2de1e9['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x2de1e9;const _0x2cce11=new _0x1aaa07['Mesh'](),_0x3a3cee=_0x5173bf['DecodeBuff'+'erToMesh'](_0x180d23,_0x2cce11);if(!_0x3a3cee||!_0x3a3cee['ok']()||_0x1aaa07['getPointer'](_0x2cce11)===-0xda*-0x25+-0x20d+0x1d75*-0x1)return _0x2de1e9['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x2de1e9;const _0x2ae99b=_0x2cce11['num_faces']()*(-0x35*0x9f+0x2*0x239+-0x1c7c*-0x1),_0x2da8a2=_0x2cce11['num_points']()<=0x529*0x1e+0xd9c3+-0x3a49*0x2,_0x3cdd24=_0x2ae99b*(_0x2da8a2?-0x175*-0x13+-0x16af*0x1+-0x1*0x4fe:0x435*0x1+0x10f5+-0x1526),_0x2b1241=_0x1aaa07['_malloc'](_0x3cdd24);_0x2da8a2?(_0x5173bf['GetTriangl'+'esUInt16Ar'+'ray'](_0x2cce11,_0x3cdd24,_0x2b1241),_0x2de1e9['indices']=new Uint16Array(_0x1aaa07['HEAPU16']['buffer'],_0x2b1241,_0x2ae99b)['slice']()['buffer']):(_0x5173bf['GetTriangl'+'esUInt32Ar'+'ray'](_0x2cce11,_0x3cdd24,_0x2b1241),_0x2de1e9['indices']=new Uint32Array(_0x1aaa07['HEAPU32']['buffer'],_0x2b1241,_0x2ae99b)['slice']()['buffer']),_0x1aaa07['_free'](_0x2b1241);const _0x44f68a=[];for(let _0x3912a7=-0x1*0x5de+0x1bb2+-0xfe*0x16;_0x3912a7<_0x2cce11['num_attrib'+'utes']();++_0x3912a7)_0x44f68a['push'](_0x5173bf['GetAttribu'+'te'](_0x2cce11,_0x3912a7));_0x44f68a['sort']((_0x507cc7,_0x4e0cc1)=>(_0x110eb2[_0x507cc7['attribute_'+'type']()]??_0x110eb2['length'])-(_0x110eb2[_0x4e0cc1['attribute_'+'type']()]??_0x110eb2['length'])),_0x2de1e9['attributes']=_0x44f68a['map'](_0x34ab8f=>_0x34ab8f['unique_id']());let _0x1a3f3a=-0xdfd*0x2+-0x1a9*0xf+0x34e1;const _0x13a3f3=_0x44f68a['map'](_0x496671=>{const _0x35e71a=_0x1a3f3a;return _0x1a3f3a+=Math['ceil'](_0xa99e68(_0x496671)/(0x242b*0x1+-0x431+0x2*-0xffb))*(-0x2634+0x10f1*0x1+-0x1a3*-0xd),_0x35e71a;}),_0x581d3a=_0x44f68a['some'](_0x4aff47=>_0x4aff47['attribute_'+'type']()===-0x9*-0x2ac+0x1089+-0x31*0xd4),_0x22fcd7=_0x13a3f3[0xbf9*-0x3+-0x1ad2+0x3ebe];if(!_0x581d3a){for(let _0x2d202b=-0x1*-0x373+-0x3*-0xb4d+-0x2559;_0x2d202b<_0x13a3f3['length'];++_0x2d202b)_0x13a3f3[_0x2d202b]+=0x1e2c+-0x2*-0xe5+-0x1fea;_0x1a3f3a+=0x1db0+0x1e89+0xd*-0x4a1;}_0x2de1e9['vertices']=new ArrayBuffer(_0x2cce11['num_points']()*_0x1a3f3a);const _0x4ff999=new Uint8Array(_0x2de1e9['vertices']);for(let _0x5b569b=-0x2110*0x1+-0x25*0x9d+-0x7*-0x7f7;_0x5b569b<_0x2cce11['num_attrib'+'utes']();++_0x5b569b){const _0x2c658a=_0x44f68a[_0x5b569b],_0x296b6c=_0xa99e68(_0x2c658a),_0x222dd1=_0x2cce11['num_points']()*_0x296b6c,_0x1b600d=_0x1aaa07['_malloc'](_0x222dd1);_0x5173bf['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x2cce11,_0x2c658a,_0x2c658a['data_type'](),_0x222dd1,_0x1b600d);const _0x52150d=new Uint8Array(_0x1aaa07['HEAPU8']['buffer'],_0x1b600d,_0x222dd1);for(let _0x64beaf=0x2191+-0x679*-0x2+-0x2e83;_0x64beaf<_0x2cce11['num_points']();++_0x64beaf)for(let _0x2a7867=-0x29*-0xf+0x252a+-0x2791;_0x2a7867<_0x296b6c;++_0x2a7867)_0x4ff999[_0x64beaf*_0x1a3f3a+_0x13a3f3[_0x5b569b]+_0x2a7867]=_0x52150d[_0x64beaf*_0x296b6c+_0x2a7867];if(!_0x581d3a&&_0x2c658a['attribute_'+'type']()===-0x5*-0x13a+0x1c8f+-0x6b*0x53){const _0x239b9c=_0x1f3f92(_0x15fe6e(_0x52150d,_0x2c658a['data_type']()),_0x2da8a2?new Uint16Array(_0x2de1e9['indices']):new Uint32Array(_0x2de1e9['indices']));for(let _0x55e0c1=0xd36+0x1c65+-0x299b*0x1;_0x55e0c1<_0x2cce11['num_points']();++_0x55e0c1)for(let _0x114f53=0x2cd*-0x5+0x1f1b+-0x111a*0x1;_0x114f53<-0x1*0x1561+0x1*0xc89+0x2*0x472;++_0x114f53)_0x4ff999[_0x55e0c1*_0x1a3f3a+_0x22fcd7+_0x114f53]=_0x239b9c[_0x55e0c1*(0x2499+-0x25c7+0x13a)+_0x114f53];}_0x1aaa07['_free'](_0x1b600d);}return _0x1aaa07['destroy'](_0x2cce11),_0x1aaa07['destroy'](_0x5173bf),_0x1aaa07['destroy'](_0x180d23),_0x2de1e9;},_0x1a3765=_0x24ca6c=>{const _0x89e379=_0x366b88(new Uint8Array(_0x24ca6c['buffer']));self['postMessag'+'e']({'jobId':_0x24ca6c['jobId'],'error':_0x89e379['error'],'indices':_0x89e379['indices'],'vertices':_0x89e379['vertices'],'attributes':_0x89e379['attributes']},[_0x89e379['indices'],_0x89e379['vertices']]['filter'](_0x9a817c=>_0x9a817c!=null));},_0x264f38=[];self['onmessage']=_0x370016=>{const _0x3d3373=_0x370016['data'];switch(_0x3d3373['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x16f1b5,_0x2c5640)=>(WebAssembly['instantiat'+'e'](_0x3d3373['module'],_0x16f1b5)['then'](_0x22cc2a=>_0x2c5640(_0x22cc2a))['catch'](_0x48f1b1=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x48f1b1)),{})})['then'](_0x3e06cc=>{_0x1aaa07=_0x3e06cc,_0x264f38['forEach'](_0x306d21=>_0x1a3765(_0x306d21));});break;case'decodeMesh':_0x1aaa07?_0x1a3765(_0x3d3373):_0x264f38['push'](_0x3d3373);break;}};}const Og=0x7ef*-0x2+0x22b1+-0x12d*0x10;class mD{constructor(){this['workers']=[[],[],[]],this['jobId']=0x1*0x1aea+0x4c4*0x2+0xf*-0x26e,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0xb74b2c,_0x107161)=>{_0xb74b2c['postMessag'+'e']({'type':'decodeMesh','jobId':_0x107161['jobId'],'buffer':_0x107161['buffer']},[_0x107161['buffer']]);};}['init'](_0x2136ba){for(_0x2136ba['forEach'](_0x349c2f=>{_0x349c2f['addEventLi'+'stener']('message',_0x43ce50=>{const _0x24db14=_0x43ce50['data'],_0x29d799=this['jobCallbac'+'ks']['get'](_0x24db14['jobId']);if(_0x29d799&&_0x29d799(_0x24db14['error'],{'indices':_0x24db14['indices'],'vertices':_0x24db14['vertices'],'attributes':_0x24db14['attributes']}),this['jobCallbac'+'ks']['delete'](_0x24db14['jobId']),this['jobQueue']['length']>-0x1a79+0x88e+0x1a1*0xb){const _0x1eb034=this['jobQueue']['shift']();this['run'](_0x349c2f,_0x1eb034);}else{const _0x26287b=this['workers'][0x1e7+0x26ed*-0x1+0x768*0x5]['indexOf'](_0x349c2f);if(_0x26287b!==-(-0x1b2b+0x35f*0x5+0xa51))this['workers'][-0x2499+0x19ce+0xacd]['splice'](_0x26287b,0x91b+0x23d3+-0x2ced),this['workers'][0x4f*0x25+0x1642+-0x21ac]['push'](_0x349c2f);else{const _0x330f66=this['workers'][-0xbc9+0x5*0x602+-0x1240]['indexOf'](_0x349c2f);_0x330f66!==-(0x25ef+0xf44+-0x1*0x3532)?(this['workers'][-0x11dd*0x1+-0xb28+0x1d06]['splice'](_0x330f66,0xd6a+0x6*0x216+0x1*-0x19ed),this['workers'][0x1*0x188e+0x6*0x316+0x1589*-0x2]['push'](_0x349c2f)):v['error']('logical\x20er'+'ror');}}});}),this['workers'][0x577*-0x2+-0x69+0xb57*0x1]=_0x2136ba;this['jobQueue']['length']&&(this['workers'][0x1a26+0x29*-0x67+-0x9a7]['length']||this['workers'][-0x2302+-0x1*-0x2245+0xbe]['length']);){const _0x34c6c2=this['jobQueue']['shift']();if(this['workers'][0x2e*0x1+-0x29*0x89+0x9*0x26b]['length']>0x3*0xc14+-0xb*-0x1cf+-0x3821){const _0x446f93=this['workers'][0x2389*0x1+-0x1*0x2069+-0x19*0x20]['shift']();this['workers'][0x192a+-0x22fe+0x1*0x9d5]['push'](_0x446f93),this['run'](_0x446f93,_0x34c6c2);}else{const _0x43f6db=this['workers'][0xa8f+-0x1783*-0x1+-0x9*0x3c9]['shift']();this['workers'][-0x21ee+0x204c+0x23*0xc]['push'](_0x43f6db),this['run'](_0x43f6db,_0x34c6c2);}}}['enqueueJob'](_0x230c5f,_0x3a182b){const _0x4a9a81={'jobId':this['jobId']++,'buffer':_0x230c5f};if(this['jobCallbac'+'ks']['set'](_0x4a9a81['jobId'],_0x3a182b),this['workers'][-0x914+-0x23e0+0xe*0x336]['length']>-0x3d2*-0x2+-0xa*0x262+0x1030){const _0x388e95=this['workers'][0x8b6+0x19f8+-0x17*0x182]['shift']();this['workers'][-0x1c43+-0x8bb+0x24ff]['push'](_0x388e95),this['run'](_0x388e95,_0x4a9a81);}else{if(this['workers'][-0x2562+-0x1*0xd81+0x32e4]['length']>0x1d05+0x221a+-0x3f1f){const _0x16d5d6=this['workers'][-0x6*-0x461+0x23c9+-0x3e0e]['shift']();this['workers'][-0x130d*-0x1+-0x1c45+0x93a]['push'](_0x16d5d6),this['run'](_0x16d5d6,_0x4a9a81);}else this['jobQueue']['push'](_0x4a9a81);}}}const _D=_0x1d706e=>new Promise((_0x265dc5,_0x8bba27)=>{const _0x1b37ac={'cache':!(0x3*-0x6ec+0x1884+0x5*-0xc0),'responseType':'text','retry':Og>-0x1407+-0x1*-0x24af+0x1a*-0xa4,'maxRetries':Og};$e['get'](_0x1d706e,_0x1b37ac,(_0x588fd8,_0x29c491)=>{_0x588fd8?_0x8bba27(_0x588fd8):_0x265dc5(_0x29c491);});}),gD=_0x159ca3=>{const _0x104321=()=>fetch(_0x159ca3)['then'](_0x473c41=>_0x473c41['arrayBuffe'+'r']())['then'](_0x2ba7d3=>WebAssembly['compile'](_0x2ba7d3)),_0x100cee=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x159ca3))['catch'](_0x5ec7c5=>(v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x159ca3+'\x20('+_0x5ec7c5+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x104321()));return WebAssembly['compileStr'+'eaming']?_0x100cee():_0x104321();},kg=0xa0d+0x81e*-0x4+-0x11f*-0x14;let xh;const yD=_0x5b6244=>{if(xh)return!(-0x44*0x7f+-0x4*-0x864+0x4*0xb);if(!_0x5b6244){const _0x33858b=ay['getConfig']('DracoDecod'+'erModule');_0x33858b?_0x5b6244={'jsUrl':_0x33858b['glueUrl'],'wasmUrl':_0x33858b['wasmUrl'],'numWorkers':_0x33858b['numWorkers']}:_0x5b6244={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':kg};}return!_0x5b6244['jsUrl']||!_0x5b6244['wasmUrl']?!(-0x10*0x26a+0x1*-0x265a+-0x4cfb*-0x1):(xh=new mD(),Promise['all']([_D(_0x5b6244['jsUrl']),gD(_0x5b6244['wasmUrl'])])['then'](([_0x3cf516,_0x1672e7])=>{const _0x4b583e=['/*\x20draco\x20*'+'/',_0x3cf516,'/*\x20worker\x20'+'*/','(\x0a'+pD['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x37b000=new Blob([_0x4b583e],{'type':'applicatio'+'n/javascri'+'pt'}),_0x150f2a=URL['createObje'+'ctURL'](_0x37b000),_0x193bf3=Math['max'](0x1b9+0x16e9+-0x18a1,Math['min'](0x1*0x1519+-0x23d6+0xecd,_0x5b6244['numWorkers']||kg)),_0x10a3ee=[];for(let _0x356d15=-0x1de0+-0x1*-0x1d29+0xb7;_0x356d15<_0x193bf3;++_0x356d15){const _0x263756=new Worker(_0x150f2a);_0x263756['postMessag'+'e']({'type':'init','module':_0x1672e7}),_0x10a3ee['push'](_0x263756);}xh['init'](_0x10a3ee);}),!(0xd3d*0x1+-0x1297+0x55a*0x1));},xD=(_0x348ee0,_0x176a3e)=>yD()?(xh['enqueueJob'](_0x348ee0,_0x176a3e),!(0xc4+-0x131c+0x1258)):!(0x1af2*-0x1+-0xec8+0x3*0xde9);class SD{constructor(){c(this,'gltf'),c(this,'nodes'),c(this,'scenes'),c(this,'animations'),c(this,'textures'),c(this,'materials'),c(this,'variants'),c(this,'meshVarian'+'ts'),c(this,'meshDefaul'+'tMaterials'),c(this,'renders'),c(this,'skins'),c(this,'lights'),c(this,'cameras'),c(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x56facb=>{_0x56facb['meshes']=null;});}}const Rx=_0x267f40=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x267f40),vD=_0x49a33b=>_0x49a33b['substring'](_0x49a33b['indexOf'](':')+(-0x31b*0x1+0x4f8+-0x1dc),_0x49a33b['indexOf'](';')),Wo=_0x405e78=>{switch(_0x405e78){case'SCALAR':return 0x127*0x1e+0xed0+-0x3161;case'VEC2':return-0x2*0x174+-0x1cfc+0x1fe6;case'VEC3':return 0x1591+-0x58a*-0x2+0x2*-0x1051;case'VEC4':return 0x2d8+-0xecf+0xbfb;case'MAT2':return 0x535+-0x29c*0x3+-0x9*-0x4b;case'MAT3':return-0x898+0x2*0x581+-0x261;case'MAT4':return 0x25ec+0x54a*0x1+0xe62*-0x3;default:return-0xf8a+-0xf2c+0x1eb9;}},Jc=_0x40e406=>{switch(_0x40e406){case 0xa38*0x2+0x1*-0x190f+0x189f:return Rc;case 0x27c8+-0xc4f+-0x1de*0x4:return Kr;case 0x13df*-0x2+0x8ac+0x3314:return Ic;case 0xc*-0x346+-0xc2e+0x4779:return el;case-0x146*0x8+-0x89*-0x2a+0x7ba:return By;case 0xd78+0x1*-0x1f45+0x12e9*0x2:return Do;case 0x1a5b+-0x2712+0x20bd:return Ee;default:return 0x1288+0x5*0x34a+-0x4a*0x79;}},bD=_0x55fac1=>{switch(_0x55fac1){case-0x1766+-0x1a39+0x459f:return 0xc09+0x469*-0x4+0x59c;case-0xc0e*0x3+-0x161*-0xf+0x237c:return 0x201*-0x2+0x1afe*0x1+-0x16fb;case-0x2402+0xd*-0x155+0x1*0x4955:return 0x4f*-0x5e+0x1645+-0x6bf*-0x1;case-0x1*-0x26b3+-0x1dda+0xb2a:return 0x3*0xb2d+-0xe3*-0x3+-0x242e;case-0x7*0x1c5+-0x160c*0x1+-0x3673*-0x1:return 0x23c7+-0x7*-0x553+-0x30b*0x18;case-0x795*0x1+-0x1b3*-0x2+-0x4*-0x60d:return-0x3b*0x33+-0x17*-0x157+-0x130c;case 0x66*0x1+-0x1a75+0x2e15:return 0xef2+-0xc02+-0x176*0x2;default:return 0x113f+0x220c+-0x3*0x1119;}},wD=_0xd6990d=>{switch(_0xd6990d){case-0x1ce2+0xf45+0x5*0x6b9:return Int8Array;case 0x1cf3+0xb86+-0x1478:return Uint8Array;case 0x1fc0+0x2015+-0x2bd3:return Int16Array;case 0x3*0xb59+-0x1eb7+0x10af:return Uint16Array;case-0x217+0x1*0x15c5+0x56:return Int32Array;case-0x11c3*-0x2+-0x2d6*-0xa+0x13*-0x24f:return Uint32Array;case 0x3*0x608+0x1368+0x8bd*-0x2:return Float32Array;default:return null;}},ec={'POSITION':He,'NORMAL':Yt,'TANGENT':Zs,'COLOR_0':At,'JOINTS_0':qt,'WEIGHTS_0':Ys,'TEXCOORD_0':ns,'TEXCOORD_1':_n,'TEXCOORD_2':jo,'TEXCOORD_3':Yo,'TEXCOORD_4':Ko,'TEXCOORD_5':Zo,'TEXCOORD_6':Qo,'TEXCOORD_7':Jo},Bg={[He]:0x147*-0x1+-0x7c6+0x14b*0x7,[Yt]:0xeb1+-0x1*0x18b4+0xa04,[Zs]:-0xb3*0x2e+0x1*0x18a9+0x783,[At]:-0x2010+-0x1b22+0x3b35,[qt]:-0xf15+0xc3c+-0x1*-0x2dd,[Ys]:-0x6*0x369+0x2*0x6ea+0x6a7,[ns]:0x4*-0x8e1+0x159+0x2231,[_n]:-0x7*0xa9+-0x17*0x3b+0x9f3*0x1,[jo]:0x1*-0x1cf+0x1938+0x357*-0x7,[Yo]:0x1101+-0x124d*-0x1+-0x2345,[Ko]:0x5*-0x126+0x47*0x82+-0x1e46,[Zo]:-0x1*-0x1ec3+-0x15d7+-0x8e1*0x1,[Qo]:-0x2348+-0x20a8+0x43fc,[Jo]:0xa*0x2e7+-0x1e3b*0x1+-0x1*-0x142},TD=_0x433e32=>{switch(_0x433e32){case Rc:return _0x44c81b=>Math['max'](_0x44c81b/(-0x9ba+-0x2252+0x2c8b),-(-0x610+0x18ef+-0x7*0x2b2));case Kr:return _0x2efc42=>_0x2efc42/(-0x11f*-0x16+-0xb88+0x1*-0xc23);case Ic:return _0x36d3dc=>Math['max'](_0x36d3dc/(-0x3eb7*-0x1+-0x56*0x279+0x115ee),-(0x17*-0x1a3+0x5*-0x4ee+0x3e4c));case el:return _0x2bff84=>_0x2bff84/(-0x9*-0x21d+-0x2ffb+0x11cf5);default:return _0x3ad303=>_0x3ad303;}},xf=(_0x58003e,_0x44dd49,_0x4c1d93)=>{const _0x5cccf5=TD(_0x4c1d93),_0x26031a=_0x44dd49['length'];for(let _0x21b05d=-0x540+0x1d74+-0xc1a*0x2;_0x21b05d<_0x26031a;++_0x21b05d)_0x58003e[_0x21b05d]=_0x5cccf5(_0x44dd49[_0x21b05d]);return _0x58003e;},sn=(_0xf050ba,_0x495b7f,_0x13a32d=!(-0x161*-0x9+-0xbf7+-0x1*0x71))=>{const _0x36ecf9=Wo(_0xf050ba['type']),_0x1c6c2a=wD(_0xf050ba['componentT'+'ype']);if(!_0x1c6c2a)return null;let _0x41e570;if(_0xf050ba['sparse']){const _0x4a473f=_0xf050ba['sparse'],_0x128013={'count':_0x4a473f['count'],'type':'SCALAR'},_0x26980d=sn(Object['assign'](_0x128013,_0x4a473f['indices']),_0x495b7f,!(0x271+-0xa31*-0x3+0x2*-0x1082)),_0x403af2={'count':_0x4a473f['count'],'type':_0xf050ba['type'],'componentType':_0xf050ba['componentT'+'ype']},_0x5ab78f=sn(Object['assign'](_0x403af2,_0x4a473f['values']),_0x495b7f,!(0x5*-0x6f+0x143d+-0x1212));if(_0xf050ba['hasOwnProp'+'erty']('bufferView')){const _0x3be508={'bufferView':_0xf050ba['bufferView'],'byteOffset':_0xf050ba['byteOffset'],'componentType':_0xf050ba['componentT'+'ype'],'count':_0xf050ba['count'],'type':_0xf050ba['type']};_0x41e570=sn(_0x3be508,_0x495b7f,!(-0x26c3+0x330+-0x515*-0x7))['slice']();}else _0x41e570=new _0x1c6c2a(_0xf050ba['count']*_0x36ecf9);for(let _0x2a441c=0x1*-0x13b+-0xf91+0x14*0xd7;_0x2a441c<_0x4a473f['count'];++_0x2a441c){const _0x225605=_0x26980d[_0x2a441c];for(let _0x30d40d=-0x308+-0x1*0x2075+-0x1*-0x237d;_0x30d40d<_0x36ecf9;++_0x30d40d)_0x41e570[_0x225605*_0x36ecf9+_0x30d40d]=_0x5ab78f[_0x2a441c*_0x36ecf9+_0x30d40d];}}else{if(_0xf050ba['hasOwnProp'+'erty']('bufferView')){const _0x503aec=_0x495b7f[_0xf050ba['bufferView']];if(_0x13a32d&&_0x503aec['hasOwnProp'+'erty']('byteStride')){const _0x281a1a=_0x36ecf9*_0x1c6c2a['BYTES_PER_'+'ELEMENT'],_0x5e345b=new ArrayBuffer(_0xf050ba['count']*_0x281a1a),_0x2c5243=new Uint8Array(_0x5e345b);let _0x43ddc5=0x1*-0x17b6+-0x1b36+0x2*0x1976;for(let _0x170def=-0x3*-0x7ef+-0x1d11+0x4*0x151;_0x170def<_0xf050ba['count'];++_0x170def){let _0x5ea29a=(_0xf050ba['byteOffset']||0x9c1*-0x3+-0x14*0xa3+0x29ff)+_0x170def*_0x503aec['byteStride'];for(let _0x46d2db=0x1ea9*-0x1+0x13*0xdf+0xe1c;_0x46d2db<_0x281a1a;++_0x46d2db)_0x2c5243[_0x43ddc5++]=_0x503aec[_0x5ea29a++];}_0x41e570=new _0x1c6c2a(_0x5e345b);}else _0x41e570=new _0x1c6c2a(_0x503aec['buffer'],_0x503aec['byteOffset']+(_0xf050ba['byteOffset']||0x13f2+-0x2288+0xe96),_0xf050ba['count']*_0x36ecf9);}else _0x41e570=new _0x1c6c2a(_0xf050ba['count']*_0x36ecf9);}return _0x41e570;},ma=(_0x23bc0f,_0x16e79b)=>{const _0xcd163e=sn(_0x23bc0f,_0x16e79b,!(-0x1dd9+-0x3*0xa37+0x3c7e));if(_0xcd163e instanceof Float32Array||!_0x23bc0f['normalized'])return _0xcd163e;const _0x295ff6=new Float32Array(_0xcd163e['length']);return xf(_0x295ff6,_0xcd163e,Jc(_0x23bc0f['componentT'+'ype'])),_0x295ff6;},Sf=_0x232a3e=>{let _0x35fcca=_0x232a3e['min'],_0x24f75c=_0x232a3e['max'];if(!_0x35fcca||!_0x24f75c)return null;if(_0x232a3e['normalized']){const _0x279c78=Jc(_0x232a3e['componentT'+'ype']);_0x35fcca=xf([],_0x35fcca,_0x279c78),_0x24f75c=xf([],_0x24f75c,_0x279c78);}return new _e(new T((_0x24f75c[0x23a6+-0xd*-0x181+-0x3733]+_0x35fcca[0x17ff*0x1+0x9*-0x21f+-0x4e8*0x1])*(-0x12da*-0x2+-0x13f6+-0x11be+0.5),(_0x24f75c[-0x67*-0x3d+0xd*0x29d+-0x3a83]+_0x35fcca[-0xd90+0x1*-0x31a+-0x10ab*-0x1])*(-0x2321+0xa19+0xb2*0x24+0.5),(_0x24f75c[0x1df7+0x133*-0x5+-0x1*0x17f6]+_0x35fcca[-0x1b52+-0x22c5+0x3e19])*(-0x47*-0xd+-0x1369+0xfce+0.5)),new T((_0x24f75c[0x1916+0x1450+0x6*-0x791]-_0x35fcca[0x2*0x63c+0x137d*0x2+-0x3372])*(-0x9*0x86+0x12d5+-0xe1f+0.5),(_0x24f75c[-0x931*-0x2+-0xc8d+-0x5d4]-_0x35fcca[-0x25*-0x5+-0x377*0x1+0x2bf*0x1])*(-0x191a+0x1829+0xf1*0x1+0.5),(_0x24f75c[-0x1747+-0x3*-0x5e+0x162f]-_0x35fcca[0x206d+0x1e95+-0x120*0x38])*(0x11*0x7+0xb*-0x25+-0x30*-0x6+0.5)));},Ix=_0x16e9de=>{if(!_0x16e9de['hasOwnProp'+'erty']('mode'))return Ms;switch(_0x16e9de['mode']){case-0x7ef+0x2566+-0x1d77:return Mc;case 0x596+-0x1ff*0x9+0xc62*0x1:return Pc;case-0x2652+0x6a5+-0x1*-0x1faf:return My;case 0x20c7+-0x1b79+0x10f*-0x5:return Py;case 0x1*0x1a15+0x1*-0x41+-0x19d0:return Ms;case-0x609+-0x2255+0xd3*0x31:return ar;case 0x4*0x58b+-0x23d1+0xdab:return Yr;default:return Ms;}},AD=_0x2476af=>{const _0x403c26=new Uint16Array(_0x2476af);for(let _0x4345dd=0x1*0x794+-0xf7a+0x7e6;_0x4345dd<_0x2476af;_0x4345dd++)_0x403c26[_0x4345dd]=_0x4345dd;return _0x403c26;},ED=(_0x413051,_0x2e7be0)=>{const _0x46c797=_0x413051[He];if(!_0x46c797||_0x46c797['components']!==0x16c6+0xa0b+-0x20ce)return;let _0x30a7ed;if(_0x46c797['size']!==_0x46c797['stride']){const _0x1ec780=_0x46c797['stride']/_o[_0x46c797['type']],_0xd15cc=new da[_0x46c797['type']](_0x46c797['buffer'],_0x46c797['offset'],_0x46c797['count']*_0x1ec780);_0x30a7ed=new da[_0x46c797['type']](_0x46c797['count']*(0x3*-0x2a7+0x2c4+0x534));for(let _0x36b572=-0x270+-0xad*0x7+0x72b;_0x36b572<_0x46c797['count'];++_0x36b572)_0x30a7ed[_0x36b572*(-0x1c7f+-0x1d6a+0x39ec)+(0x1*-0x446+0xe*-0x39+0x2*0x3b2)]=_0xd15cc[_0x36b572*_0x1ec780+(0x208a+-0x1788+-0x1*0x902)],_0x30a7ed[_0x36b572*(-0x2239+-0x3f4+0x2630)+(0x1d94+-0x2325+0x592)]=_0xd15cc[_0x36b572*_0x1ec780+(-0x4*-0x77c+0x2232+-0x4021)],_0x30a7ed[_0x36b572*(0x2*0x101c+-0x2423+0x3ee*0x1)+(-0x2182*-0x1+0x1f3a+-0x40ba)]=_0xd15cc[_0x36b572*_0x1ec780+(-0x1*0x1491+0x3*0x64b+-0x7*-0x3e)];}else _0x30a7ed=new da[_0x46c797['type']](_0x46c797['buffer'],_0x46c797['offset'],_0x46c797['count']*(-0x23*0x5f+-0x79+0xd79));const _0x2f71f3=_0x46c797['count'];_0x2e7be0||(_0x2e7be0=AD(_0x2f71f3));const _0x27605c=k0(_0x30a7ed,_0x2e7be0),_0x5b0bb0=new Float32Array(_0x27605c['length']);_0x5b0bb0['set'](_0x27605c),_0x413051[Yt]={'buffer':_0x5b0bb0['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x2f71f3,'components':0x3,'type':Ee};},CD=_0x49e701=>{const _0x378f43=_0x2b1601=>{const _0x32d66d=[];for(let _0x1f4e30=-0x34*-0x32+0x1a61+-0x2489*0x1;_0x1f4e30<_0x2b1601['_levels']['length'];++_0x1f4e30){let _0x588745=[];if(_0x2b1601['cubemap']){for(let _0x482bb0=-0x6ce+-0x1f4b+-0x3*-0xcb3;_0x482bb0<0x59e*-0x5+-0x1*-0x1b61+0xbb;++_0x482bb0)_0x588745['push'](_0x2b1601['_levels'][_0x1f4e30][_0x482bb0]);}else _0x588745=_0x2b1601['_levels'][_0x1f4e30];_0x32d66d['push'](_0x588745);}return _0x32d66d;},_0x4092f4=new he(_0x49e701['device'],_0x49e701);return _0x4092f4['_levels']=_0x378f43(_0x49e701),_0x4092f4;},MD=_0x5d46a8=>{const _0x190e5b=new le(_0x5d46a8['name']+'_clone',_0x5d46a8['type'],_0x5d46a8['file'],_0x5d46a8['data'],_0x5d46a8['options']);return _0x190e5b['loaded']=!(0x8b3+-0x26e7+0x1e34),_0x190e5b['resource']=CD(_0x5d46a8['resource']),_0x5d46a8['registry']['add'](_0x190e5b),_0x190e5b;},PD=(_0x1c6e9a,_0x19a57)=>{const _0x103412=_0x19a57[He];if(!_0x103412)return null;const _0x42576c=_0x103412['count'],_0x93c43e=[];for(const _0x452bc5 in _0x19a57)if(_0x19a57['hasOwnProp'+'erty'](_0x452bc5)){const _0x4521fb={'semantic':_0x452bc5,'components':_0x19a57[_0x452bc5]['components'],'type':_0x19a57[_0x452bc5]['type'],'normalize':!!_0x19a57[_0x452bc5]['normalize']};Et['isElementV'+'alid'](_0x1c6e9a,_0x4521fb)||_0x4521fb['components']++,_0x93c43e['push'](_0x4521fb);}_0x93c43e['sort']((_0x29baf,_0x55b37b)=>Bg[_0x29baf['semantic']]-Bg[_0x55b37b['semantic']]);let _0x19e84b,_0x38f0f2,_0x52d108,_0x2a7c97,_0x5970a5,_0x266404;const _0x5db041=new Et(_0x1c6e9a,_0x93c43e);let _0x47a5a3=!(0x1e0b*-0x1+-0x9c+0x13*0x19d);for(_0x19e84b=-0xb*-0x207+-0x1a78+-0x42b*-0x1;_0x19e84b<_0x5db041['elements']['length'];++_0x19e84b)if(_0x5970a5=_0x5db041['elements'][_0x19e84b],_0x2a7c97=_0x19a57[_0x5970a5['name']],_0x266404=_0x2a7c97['offset']-_0x103412['offset'],_0x2a7c97['buffer']!==_0x103412['buffer']||_0x2a7c97['stride']!==_0x5970a5['stride']||_0x2a7c97['size']!==_0x5970a5['size']||_0x266404!==_0x5970a5['offset']){_0x47a5a3=!(-0x13*0x1b7+0xc91+0x5*0x401);break;}const _0x4ead5f=new os(_0x1c6e9a,_0x5db041,_0x42576c),_0x135365=_0x4ead5f['lock'](),_0x2e9f39=new Uint32Array(_0x135365);let _0x118bc6;if(_0x47a5a3)_0x118bc6=new Uint32Array(_0x103412['buffer'],_0x103412['offset'],_0x42576c*_0x4ead5f['format']['size']/(-0x1f16+0xd9*-0x3+0x21a5)),_0x2e9f39['set'](_0x118bc6);else{let _0x2b0b28,_0x2d0793;for(_0x19e84b=-0x1c45+-0x4e3*-0x7+0x10*-0x5f;_0x19e84b<_0x4ead5f['format']['elements']['length'];++_0x19e84b){_0x5970a5=_0x4ead5f['format']['elements'][_0x19e84b],_0x2b0b28=_0x5970a5['stride']/(0x283*-0x9+-0x6f7+0xecb*0x2),_0x2a7c97=_0x19a57[_0x5970a5['name']],_0x2d0793=_0x2a7c97['stride']/(0x1843+-0x1395+-0x6*0xc7),_0x118bc6=new Uint32Array(_0x2a7c97['buffer'],_0x2a7c97['offset'],(_0x2a7c97['count']-(0x4c*0x7f+-0x2*0x291+-0x2091))*_0x2d0793+(_0x2a7c97['size']+(0x1bb*-0x1+-0x2555+0x2713))/(0x1*0x24b1+-0x179e+-0xd0f));let _0x33b702=-0x7*-0x447+-0xc45+-0x11ac,_0x707130=_0x5970a5['offset']/(-0x801+-0x22e+0xa33);const _0x21c84e=Math['floor']((_0x2a7c97['size']+(0x1db+0x1*-0x110f+-0x30b*-0x5))/(-0x10b2*-0x1+-0x1187*-0x2+-0x33bc*0x1));for(_0x38f0f2=-0x1*0x82d+0x370+0x4bd;_0x38f0f2<_0x42576c;++_0x38f0f2){for(_0x52d108=-0x35*0x8f+0xad6+0x12c5;_0x52d108<_0x21c84e;++_0x52d108)_0x2e9f39[_0x707130+_0x52d108]=_0x118bc6[_0x33b702+_0x52d108];_0x33b702+=_0x2d0793,_0x707130+=_0x2b0b28;}}}return _0x4ead5f['unlock'](),_0x4ead5f;},RD=(_0x3b2726,_0x1c9d78,_0x27e723,_0x39aa37,_0x2f77da,_0x4efc84)=>{const _0x11d5fb={},_0x5bd05=[];for(const _0x58d252 in _0x1c9d78)_0x1c9d78['hasOwnProp'+'erty'](_0x58d252)&&ec['hasOwnProp'+'erty'](_0x58d252)&&(_0x11d5fb[_0x58d252]=_0x1c9d78[_0x58d252],_0x5bd05['push'](_0x58d252+':'+_0x1c9d78[_0x58d252]));_0x5bd05['sort']();const _0x56531e=_0x5bd05['join']();let _0x5628c5=_0x4efc84[_0x56531e];if(!_0x5628c5){const _0x5b20a9={};for(const _0x2ccb33 in _0x11d5fb){const _0x18a35f=_0x39aa37[_0x1c9d78[_0x2ccb33]],_0xd41e03=sn(_0x18a35f,_0x2f77da),_0x542fc0=_0x2f77da[_0x18a35f['bufferView']],_0x44226b=ec[_0x2ccb33],_0xca13e9=Wo(_0x18a35f['type'])*bD(_0x18a35f['componentT'+'ype']),_0x1c7674=_0x542fc0&&_0x542fc0['hasOwnProp'+'erty']('byteStride')?_0x542fc0['byteStride']:_0xca13e9;_0x5b20a9[_0x44226b]={'buffer':_0xd41e03['buffer'],'size':_0xca13e9,'offset':_0xd41e03['byteOffset'],'stride':_0x1c7674,'count':_0x18a35f['count'],'components':Wo(_0x18a35f['type']),'type':Jc(_0x18a35f['componentT'+'ype']),'normalize':_0x18a35f['normalized']};}_0x5b20a9['hasOwnProp'+'erty'](Yt)||ED(_0x5b20a9,_0x27e723),_0x5628c5=PD(_0x3b2726,_0x5b20a9),_0x4efc84[_0x56531e]=_0x5628c5;}return _0x5628c5;},ID=(_0x308078,_0x44207a,_0x4eb002,_0x3caa90,_0x37163c,_0x11b223)=>{let _0x18be16,_0x1c4859,_0x13dfd1;const _0x479422=_0x44207a['joints'],_0x38a788=_0x479422['length'],_0x1d02ba=[];if(_0x44207a['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x54d7a3=_0x44207a['inverseBin'+'dMatrices'],_0x3c71f8=sn(_0x4eb002[_0x54d7a3],_0x3caa90,!(-0xc6b+0x93c+0x32f)),_0x598424=[];for(_0x18be16=0x604+-0x551+-0xb3*0x1;_0x18be16<_0x38a788;_0x18be16++){for(_0x1c4859=0xd8*-0x9+0x234b*0x1+-0x1*0x1bb3;_0x1c4859<-0x97*0x1d+-0x109+-0x4*-0x48d;_0x1c4859++)_0x598424[_0x1c4859]=_0x3c71f8[_0x18be16*(-0x17c4+-0x248a+-0x2*-0x1e2f)+_0x1c4859];_0x13dfd1=new q(),_0x13dfd1['set'](_0x598424),_0x1d02ba['push'](_0x13dfd1);}}else{for(_0x18be16=0x1*-0x2171+0x2f1*-0x8+-0x5*-0xb65;_0x18be16<_0x38a788;_0x18be16++)_0x13dfd1=new q(),_0x1d02ba['push'](_0x13dfd1);}const _0x48b478=[];for(_0x18be16=0xf1e*-0x1+-0x59*0x61+-0x1*-0x30d7;_0x18be16<_0x38a788;_0x18be16++)_0x48b478[_0x18be16]=_0x37163c[_0x479422[_0x18be16]]['name'];const _0x3b0f17=_0x48b478['join']('#');let _0x4eca1c=_0x11b223['get'](_0x3b0f17);return _0x4eca1c||(_0x4eca1c=new N0(_0x308078,_0x1d02ba,_0x48b478),_0x11b223['set'](_0x3b0f17,_0x4eca1c)),_0x4eca1c;},DD=(_0x55722e,_0x5433bf,_0x21afed,_0x44f78e,_0x974698,_0x2ef3d1,_0x5db2c1)=>{var _0x6cde34;const _0x31b447=new Ie(_0x55722e);_0x31b447['aabb']=Sf(_0x21afed[_0x5433bf['attributes']['POSITION']]);const _0x5b5462=[];for(const [_0x419761,_0x2c14d3]of Object['entries'](_0x5433bf['attributes'])){const _0x2a51b0=_0x21afed[_0x2c14d3],_0x59de87=ec[_0x419761],_0x3d5d6c=Jc(_0x2a51b0['componentT'+'ype']);_0x5b5462['push']({'semantic':_0x59de87,'components':Wo(_0x2a51b0['type']),'type':_0x3d5d6c,'normalize':_0x2a51b0['normalized']??(_0x59de87===At&&(_0x3d5d6c===Kr||_0x3d5d6c===el))});}if(_0x5db2c1['push'](new Promise((_0x588e51,_0x4af09c)=>{const _0x38a54f=_0x5433bf['extensions']['KHR_draco_'+'mesh_compr'+'ession'];xD(_0x44f78e[_0x38a54f['bufferView']]['slice']()['buffer'],(_0x5e00e8,_0x53dd5c)=>{var _0x25b950;if(_0x5e00e8)console['log'](_0x5e00e8),_0x4af09c(_0x5e00e8);else{const _0x79e6c5={};for(const [_0x5024b3,_0x3d1d5d]of Object['entries'](_0x38a54f['attributes']))_0x79e6c5[ec[_0x5024b3]]=_0x53dd5c['attributes']['indexOf'](_0x3d1d5d);_0x5b5462['sort']((_0x8a6c13,_0x4324a0)=>_0x79e6c5[_0x8a6c13['semantic']]-_0x79e6c5[_0x4324a0['semantic']]),(_0x25b950=_0x5433bf['attributes'])!=null&&_0x25b950['NORMAL']||_0x5b5462['splice'](0xfac+-0x2393*0x1+0x13e8,0x984+-0x1e62+0x14de,{'semantic':'NORMAL','components':0x3,'type':Ee});const _0x2cc888=new Et(_0x55722e,_0x5b5462),_0x56c8a8=_0x53dd5c['vertices']['byteLength']/_0x2cc888['size'],_0x1c61ba=_0x56c8a8<=0x33e*0x6e+-0x1aaba+-0x1*-0x14615?Pi:nr,_0x4b7486=_0x53dd5c['indices']['byteLength']/(_0x56c8a8<=-0x1849*0x1+0xc7f*-0x2+0x13146?-0x1e41+-0x338*0x2+0x24b3:-0x2f*0x7+0x2039*0x1+-0x7bb*0x4);v['call'](()=>{_0x56c8a8!==_0x21afed[_0x5433bf['attributes']['POSITION']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x4b7486!==_0x21afed[_0x5433bf['indices']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x4088e3=new os(_0x55722e,_0x2cc888,_0x56c8a8,{'data':_0x53dd5c['vertices']}),_0x4baa09=new lr(_0x55722e,_0x1c61ba,_0x4b7486,jt,_0x53dd5c['indices']);_0x31b447['vertexBuff'+'er']=_0x4088e3,_0x31b447['indexBuffe'+'r'][0x1a06+-0x11e5+-0x821]=_0x4baa09,_0x31b447['primitive'][-0x182f*-0x1+0x1*-0xcfb+-0xb34]['type']=Ix(_0x5433bf),_0x31b447['primitive'][-0x256f+0x83*-0xe+0x65f*0x7]['base']=-0x312*0x1+-0x91+0x3a3,_0x31b447['primitive'][-0x1fcd*0x1+0x1f3d*0x1+0x90]['count']=_0x4baa09?_0x4b7486:_0x56c8a8,_0x31b447['primitive'][-0x2510+0x104+-0x903*-0x4]['indexed']=!!_0x4baa09,_0x588e51();}});})),(_0x6cde34=_0x5433bf==null?void(-0x245c+-0x2569+0x49c5):_0x5433bf['extensions'])!=null&&_0x6cde34['KHR_materi'+'als_varian'+'ts']){const _0xb42d72=_0x5433bf['extensions']['KHR_materi'+'als_varian'+'ts'],_0x3f46f1={};_0xb42d72['mappings']['forEach'](_0x1cda8b=>{_0x1cda8b['variants']['forEach'](_0x2284f8=>{_0x3f46f1[_0x2284f8]=_0x1cda8b['material'];});}),_0x974698[_0x31b447['id']]=_0x3f46f1;}return _0x2ef3d1[_0x31b447['id']]=_0x5433bf['material'],_0x31b447;},LD=(_0x53ad1c,_0x1eeeab,_0x4cce7b,_0x6f33cc,_0x816223,_0x2a2256,_0x42aa58,_0x3ee877,_0x5d6a35)=>{const _0x4bd7e2=[];return _0x1eeeab['primitives']['forEach'](_0x22b48a=>{var _0x191def;if((_0x191def=_0x22b48a['extensions'])!=null&&_0x191def['KHR_draco_'+'mesh_compr'+'ession'])_0x4bd7e2['push'](DD(_0x53ad1c,_0x22b48a,_0x4cce7b,_0x6f33cc,_0x2a2256,_0x42aa58,_0x5d6a35));else{let _0x286e53=_0x22b48a['hasOwnProp'+'erty']('indices')?sn(_0x4cce7b[_0x22b48a['indices']],_0x6f33cc,!(0x193+0xd61*-0x2+0x192f)):null;const _0x204ce7=RD(_0x53ad1c,_0x22b48a['attributes'],_0x286e53,_0x4cce7b,_0x6f33cc,_0x816223),_0x333d38=Ix(_0x22b48a),_0x294734=new Ie(_0x53ad1c);if(_0x294734['vertexBuff'+'er']=_0x204ce7,_0x294734['primitive'][0xded+0x17*0x15d+-0x2d48]['type']=_0x333d38,_0x294734['primitive'][-0x83*0x1f+-0x7d*0x2+0x9*0x1df]['base']=0x391*0x7+-0x51e+0x1*-0x13d9,_0x294734['primitive'][-0x12b9+-0x463*0x8+0x35d1*0x1]['indexed']=_0x286e53!==null,_0x286e53!==null){let _0x939b50;_0x286e53 instanceof Uint8Array?_0x939b50=pu:_0x286e53 instanceof Uint16Array?_0x939b50=Pi:_0x939b50=nr,_0x939b50===pu&&_0x53ad1c['isWebGPU']&&(_0x939b50=Pi,_0x286e53=new Uint16Array(_0x286e53));const _0x2702fa=new lr(_0x53ad1c,_0x939b50,_0x286e53['length'],jt,_0x286e53);_0x294734['indexBuffe'+'r'][-0x51d*0x1+-0x2*-0xd13+-0x1509]=_0x2702fa,_0x294734['primitive'][-0x3*-0x98b+0x1*-0x21d+-0x1a84]['count']=_0x286e53['length'];}else _0x294734['primitive'][-0x1af*0xd+-0x45+0x8*0x2c5]['count']=_0x204ce7['numVertice'+'s'];if(_0x22b48a['hasOwnProp'+'erty']('extensions')&&_0x22b48a['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x246e76=_0x22b48a['extensions']['KHR_materi'+'als_varian'+'ts'],_0xf465ea={};_0x246e76['mappings']['forEach'](_0x16cd13=>{_0x16cd13['variants']['forEach'](_0x4329bd=>{_0xf465ea[_0x4329bd]=_0x16cd13['material'];});}),_0x2a2256[_0x294734['id']]=_0xf465ea;}_0x42aa58[_0x294734['id']]=_0x22b48a['material'];let _0x1f8496=_0x4cce7b[_0x22b48a['attributes']['POSITION']];if(_0x294734['aabb']=Sf(_0x1f8496),_0x22b48a['hasOwnProp'+'erty']('targets')){const _0x20f22a=[];_0x22b48a['targets']['forEach']((_0x2fdacf,_0x3d9842)=>{const _0x5b8127={};_0x2fdacf['hasOwnProp'+'erty']('POSITION')&&(_0x1f8496=_0x4cce7b[_0x2fdacf['POSITION']],_0x5b8127['deltaPosit'+'ions']=ma(_0x1f8496,_0x6f33cc),_0x5b8127['aabb']=Sf(_0x1f8496)),_0x2fdacf['hasOwnProp'+'erty']('NORMAL')&&(_0x1f8496=_0x4cce7b[_0x2fdacf['NORMAL']],_0x5b8127['deltaNorma'+'ls']=ma(_0x1f8496,_0x6f33cc)),_0x1eeeab['hasOwnProp'+'erty']('extras')&&_0x1eeeab['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x5b8127['name']=_0x1eeeab['extras']['targetName'+'s'][_0x3d9842]:_0x5b8127['name']=_0x3d9842['toString'](-0xe3*0x1f+-0x114*0xa+0x1d3*0x15),_0x1eeeab['hasOwnProp'+'erty']('weights')&&(_0x5b8127['defaultWei'+'ght']=_0x1eeeab['weights'][_0x3d9842]),_0x5b8127['preserveDa'+'ta']=_0x3ee877['morphPrese'+'rveData'],_0x20f22a['push'](new Qc(_0x5b8127));}),_0x294734['morph']=new F0(_0x20f22a,_0x53ad1c,{'preferHighPrecision':_0x3ee877['morphPrefe'+'rHighPreci'+'sion']});}_0x4bd7e2['push'](_0x294734);}}),_0x4bd7e2;},ft=(_0x281919,_0x54e46b,_0x592a90)=>{var _0x3d51b9;let _0x44fb34;const _0x12336c=_0x281919['texCoord'];if(_0x12336c){for(_0x44fb34=0x3e0*0x1+-0x2*-0xf38+0x10*-0x225;_0x44fb34<_0x592a90['length'];++_0x44fb34)_0x54e46b[_0x592a90[_0x44fb34]+'MapUv']=_0x12336c;}const _0x43eedd=[-0x2*-0x256+-0x1*0x2441+-0x7*-0x483,-0x1c6d+-0x1af8+-0x1*-0x3765],_0x2849e7=[0x22b7+0x793*-0x2+-0x1*0x1390,0x26a9+0x1d*-0xb2+-0x9*0x20e],_0x4b2e0c=(_0x3d51b9=_0x281919['extensions'])==null?void(0xaf2+0xb5a+-0x164c):_0x3d51b9['KHR_textur'+'e_transfor'+'m'];if(_0x4b2e0c){const _0x29b0f7=_0x4b2e0c['offset']||_0x43eedd,_0x46a7a9=_0x4b2e0c['scale']||_0x2849e7,_0x3b3446=_0x4b2e0c['rotation']?-_0x4b2e0c['rotation']*N['RAD_TO_DEG']:0x772*-0x1+-0x9a9+-0x111b*-0x1,_0x2b82f1=new W(_0x46a7a9[-0x4*-0x4ae+-0x126c+-0x4c],_0x46a7a9[0xe6c+-0x197e+0x7*0x195]),_0x47f031=new W(_0x29b0f7[0x19+-0x19ab+0x1992],0x481*-0x5+-0x2b9*0x5+0x2423-_0x46a7a9[-0x1afb+-0x16d4+0x31d0]-_0x29b0f7[0x906+0x116*0x5+0x4d1*-0x3]);for(_0x44fb34=0x2c8+-0x1*0xd3f+-0x2f*-0x39;_0x44fb34<_0x592a90['length'];++_0x44fb34)_0x54e46b[_0x592a90[_0x44fb34]+'MapTiling']=_0x2b82f1,_0x54e46b[_0x592a90[_0x44fb34]+'MapOffset']=_0x47f031,_0x54e46b[_0x592a90[_0x44fb34]+('MapRotatio'+'n')]=_0x3b3446;}},FD=(_0x3264a4,_0x406b49,_0x3fbe2c)=>{let _0x287c38,_0x5c4b24;if(_0x3264a4['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x287c38=_0x3264a4['diffuseFac'+'tor'],_0x406b49['diffuse']['set'](Math['pow'](_0x287c38[0x61*-0x2+-0xf*-0x143+-0x122b],(-0x2*-0xfa6+-0x4*0x45b+-0xddf)/(0x33f*-0x9+0x2*-0xdc7+0x38c7+0.20000000000000018)),Math['pow'](_0x287c38[0x878+0x1*0xd3f+-0x15b6],(-0x21e5+0x18b3+0x5*0x1d7)/(0x1985+-0xf1f+0x4*-0x299+0.20000000000000018)),Math['pow'](_0x287c38[-0x2642+0x1e53*0x1+-0x13*-0x6b],(-0xd*-0x199+0x6b*0x49+-0x3347)/(-0x2f*-0x3d+-0x14d0+-0x3*-0x335+0.20000000000000018))),_0x406b49['opacity']=_0x287c38[0x717+-0x1a4a+0x1336]):(_0x406b49['diffuse']['set'](-0x82f+-0x1ad7+0x2307,-0x119*-0xb+0x236d+-0xfd5*0x3,0x1643+-0x6ed*0x1+-0x19*0x9d),_0x406b49['opacity']=-0x6*-0x62b+-0x1*0x28c+-0x2275),_0x3264a4['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x41f4e2=_0x3264a4['diffuseTex'+'ture'];_0x5c4b24=_0x3fbe2c[_0x41f4e2['index']],_0x406b49['diffuseMap']=_0x5c4b24,_0x406b49['diffuseMap'+'Channel']='rgb',_0x406b49['opacityMap']=_0x5c4b24,_0x406b49['opacityMap'+'Channel']='a',ft(_0x41f4e2,_0x406b49,['diffuse','opacity']);}if(_0x406b49['useMetalne'+'ss']=!(-0x22*0x5+-0xe7*0x15+0x139e),_0x3264a4['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x287c38=_0x3264a4['specularFa'+'ctor'],_0x406b49['specular']['set'](Math['pow'](_0x287c38[0x18c*-0x4+-0x2057*-0x1+-0x1a27],(-0x64*-0x20+0xc4*-0x25+-0x243*-0x7)/(-0x5*0x60a+-0xd55*0x2+0x1f6*0x1d+0.20000000000000018)),Math['pow'](_0x287c38[0x1938+0x1*0x8c5+-0x21fc],(-0x17bd+-0x1e*0x71+0x24fc)/(0x1*0xb11+0xca3+-0x17b2+0.20000000000000018)),Math['pow'](_0x287c38[0xb97+-0x3fd*-0x3+0x16*-0x112],(-0x9*0x1fd+0x1*-0x26ae+-0x1aa*-0x22)/(0x1a88+-0x1081*-0x1+-0x2b07+0.20000000000000018)))):_0x406b49['specular']['set'](-0xc56+0x1f5e+0x1307*-0x1,-0x1f36+0x3c*0x43+0xd1*0x13,0xeb1*0x1+0x25b8+-0x45e*0xc),_0x3264a4['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x406b49['gloss']=_0x3264a4['glossiness'+'Factor']:_0x406b49['gloss']=0x22fe+0xbc*-0x1f+-0xc39,_0x3264a4['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x1888f2=_0x3264a4['specularGl'+'ossinessTe'+'xture'];_0x406b49['specularEn'+'coding']='srgb',_0x406b49['specularMa'+'p']=_0x406b49['glossMap']=_0x3fbe2c[_0x1888f2['index']],_0x406b49['specularMa'+'pChannel']='rgb',_0x406b49['glossMapCh'+'annel']='a',ft(_0x1888f2,_0x406b49,['gloss','metalness']);}},OD=(_0x583e43,_0x283c76,_0x164985)=>{if(_0x583e43['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x283c76['clearCoat']=_0x583e43['clearcoatF'+'actor']*(-0x243b+-0x1345*0x1+0x20*0x1bc+0.25):_0x283c76['clearCoat']=-0x16a4+-0x1cbe+0x1*0x3362,_0x583e43['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x1a8ae7=_0x583e43['clearcoatT'+'exture'];_0x283c76['clearCoatM'+'ap']=_0x164985[_0x1a8ae7['index']],_0x283c76['clearCoatM'+'apChannel']='r',ft(_0x1a8ae7,_0x283c76,['clearCoat']);}if(_0x583e43['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x283c76['clearCoatG'+'loss']=_0x583e43['clearcoatR'+'oughnessFa'+'ctor']:_0x283c76['clearCoatG'+'loss']=0xd9*0x19+-0xa06*-0x2+0xdbf*-0x3,_0x583e43['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x35edde=_0x583e43['clearcoatR'+'oughnessTe'+'xture'];_0x283c76['clearCoatG'+'lossMap']=_0x164985[_0x35edde['index']],_0x283c76['clearCoatG'+'lossMapCha'+'nnel']='g',ft(_0x35edde,_0x283c76,['clearCoatG'+'loss']);}if(_0x583e43['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x56e8a1=_0x583e43['clearcoatN'+'ormalTextu'+'re'];_0x283c76['clearCoatN'+'ormalMap']=_0x164985[_0x56e8a1['index']],ft(_0x56e8a1,_0x283c76,['clearCoatN'+'ormal']),_0x56e8a1['hasOwnProp'+'erty']('scale')&&(_0x283c76['clearCoatB'+'umpiness']=_0x56e8a1['scale']);}_0x283c76['clearCoatG'+'lossInvert']=!(-0x128d+-0xe*0x1a5+0x2993);},kD=(_0x1a8429,_0x22d301,_0x43b265)=>{_0x22d301['useLightin'+'g']=!(0xfa0*0x1+-0x6fe+-0x8a1),_0x22d301['emissive']['copy'](_0x22d301['diffuse']),_0x22d301['emissiveMa'+'p']=_0x22d301['diffuseMap'],_0x22d301['emissiveMa'+'pUv']=_0x22d301['diffuseMap'+'Uv'],_0x22d301['emissiveMa'+'pTiling']['copy'](_0x22d301['diffuseMap'+'Tiling']),_0x22d301['emissiveMa'+'pOffset']['copy'](_0x22d301['diffuseMap'+'Offset']),_0x22d301['emissiveMa'+'pRotation']=_0x22d301['diffuseMap'+'Rotation'],_0x22d301['emissiveMa'+'pChannel']=_0x22d301['diffuseMap'+'Channel'],_0x22d301['emissiveVe'+'rtexColor']=_0x22d301['diffuseVer'+'texColor'],_0x22d301['emissiveVe'+'rtexColorC'+'hannel']=_0x22d301['diffuseVer'+'texColorCh'+'annel'],_0x22d301['useLightin'+'g']=!(-0x8*0x319+-0x280+0x1b49),_0x22d301['useSkybox']=!(0x11*0x15b+-0x19b4+0x155*0x2),_0x22d301['diffuse']['set'](0x1*0x1021+-0x2250+0x1230,0x1*-0x1e1+-0x1695+0x1877,0x12f4+-0x2f3*-0xa+-0x3071),_0x22d301['diffuseMap']=null,_0x22d301['diffuseVer'+'texColor']=!(0x220d+-0x1af9+-0x713);},BD=(_0x54f811,_0x2f60d2,_0x2ac716)=>{if(_0x2f60d2['useMetalne'+'ssSpecular'+'Color']=!(0x71*-0x3+0x1c26+-0x147*0x15),_0x54f811['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x2f60d2['specularEn'+'coding']='srgb',_0x2f60d2['specularMa'+'p']=_0x2ac716[_0x54f811['specularCo'+'lorTexture']['index']],_0x2f60d2['specularMa'+'pChannel']='rgb',ft(_0x54f811['specularCo'+'lorTexture'],_0x2f60d2,['specular'])),_0x54f811['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x57ef5b=_0x54f811['specularCo'+'lorFactor'];_0x2f60d2['specular']['set'](Math['pow'](_0x57ef5b[0xe00+0x8*-0x5c+-0xb20],(-0x13fc+0x1083*-0x2+-0x3503*-0x1)/(-0x2bb*0x1+0x23f+-0x2a*-0x3+0.20000000000000018)),Math['pow'](_0x57ef5b[0x22*-0x32+-0x373*0x3+-0x1b3*-0xa],(-0xb01+0x52f+0x5d3)/(0x2556+0xb8*0x15+-0x346c+0.20000000000000018)),Math['pow'](_0x57ef5b[-0x1*-0x175d+-0x9*-0x34b+-0x34fe],(0x25ac+0xf42+0x11*-0x31d)/(0x2266+0x2c*0x2f+0x18*-0x1c5+0.20000000000000018)));}else _0x2f60d2['specular']['set'](0x2*0xbc+0x1442*-0x1+0x12cb,-0xb*-0x2a1+-0x4b*0x4e+-0x610,-0x25b1+0x9*-0x49+-0x1*-0x2843);_0x54f811['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x2f60d2['specularit'+'yFactor']=_0x54f811['specularFa'+'ctor']:_0x2f60d2['specularit'+'yFactor']=-0x275*0xd+-0x18f+-0x3*-0xb2b,_0x54f811['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x2f60d2['specularit'+'yFactorMap'+'Channel']='a',_0x2f60d2['specularit'+'yFactorMap']=_0x2ac716[_0x54f811['specularTe'+'xture']['index']],ft(_0x54f811['specularTe'+'xture'],_0x2f60d2,['specularit'+'yFactor']));},ND=(_0xa623af,_0x2196b4,_0x3d0a8b)=>{_0xa623af['hasOwnProp'+'erty']('ior')&&(_0x2196b4['refraction'+'Index']=(0x339*0x5+-0x3*-0x6b6+0x121f*-0x2)/_0xa623af['ior']);},zD=(_0x5ad79b,_0x587c61,_0x5a107a)=>{_0x5ad79b['hasOwnProp'+'erty']('dispersion')&&(_0x587c61['dispersion']=_0x5ad79b['dispersion']);},UD=(_0x47566e,_0x9a5cc2,_0x351917)=>{_0x9a5cc2['blendType']=Kt,_0x9a5cc2['useDynamic'+'Refraction']=!(-0xc00*-0x3+0x26fe+-0x4afe),_0x47566e['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x9a5cc2['refraction']=_0x47566e['transmissi'+'onFactor']),_0x47566e['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x9a5cc2['refraction'+'MapChannel']='r',_0x9a5cc2['refraction'+'Map']=_0x351917[_0x47566e['transmissi'+'onTexture']['index']],ft(_0x47566e['transmissi'+'onTexture'],_0x9a5cc2,['refraction']));},VD=(_0x1b56b9,_0x33823b,_0x1f707b)=>{if(_0x33823b['useSheen']=!(-0x8d1*-0x3+-0x2fd*-0xb+0x1da9*-0x2),_0x1b56b9['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0xad8bd2=_0x1b56b9['sheenColor'+'Factor'];_0x33823b['sheen']['set'](Math['pow'](_0xad8bd2[-0x1db5+-0x336*-0x8+0x405*0x1],(0x1426+-0xdb5*-0x1+-0x1*0x21da)/(-0x6dd*0x5+0x24fd*-0x1+0x4750+0.20000000000000018)),Math['pow'](_0xad8bd2[-0x17b*-0x1a+0x1e53*0x1+-0x44d0],(-0x456+0x23a7*-0x1+0x27fe)/(-0x2*-0x971+0x1619*0x1+0x11*-0x269+0.20000000000000018)),Math['pow'](_0xad8bd2[-0x1452+0x88*-0x31+0x81*0x5c],(-0x58d+-0x10d*0x1d+0x2407)/(-0x20*0x125+-0x1a3*0x1+-0x1*-0x2645+0.20000000000000018)));}else _0x33823b['sheen']['set'](0x4c8+0x1c*0xe9+0x3d*-0x7f,-0x5*0x37+0xb*0x129+-0xbaf*0x1,0x1*0xda1+0x2326+-0x30c6);_0x1b56b9['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x33823b['sheenMap']=_0x1f707b[_0x1b56b9['sheenColor'+'Texture']['index']],_0x33823b['sheenEncod'+'ing']='srgb',ft(_0x1b56b9['sheenColor'+'Texture'],_0x33823b,['sheen'])),_0x33823b['sheenGloss']=_0x1b56b9['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x1b56b9['sheenRough'+'nessFactor']:0x2*-0xca7+0x1*-0x88a+0x21d8,_0x1b56b9['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x33823b['sheenGloss'+'Map']=_0x1f707b[_0x1b56b9['sheenRough'+'nessTextur'+'e']['index']],_0x33823b['sheenGloss'+'MapChannel']='a',ft(_0x1b56b9['sheenRough'+'nessTextur'+'e'],_0x33823b,['sheenGloss'])),_0x33823b['sheenGloss'+'Invert']=!(-0xb*0x22+-0x8*0x133+0xb0e);},GD=(_0xe1d966,_0x59f372,_0x554ad2)=>{if(_0x59f372['blendType']=Kt,_0x59f372['useDynamic'+'Refraction']=!(0x1f41+-0x1f4e+-0x1*-0xd),_0xe1d966['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x59f372['thickness']=_0xe1d966['thicknessF'+'actor']),_0xe1d966['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x59f372['thicknessM'+'ap']=_0x554ad2[_0xe1d966['thicknessT'+'exture']['index']],_0x59f372['thicknessM'+'apChannel']='g',ft(_0xe1d966['thicknessT'+'exture'],_0x59f372,['thickness'])),_0xe1d966['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x59f372['attenuatio'+'nDistance']=_0xe1d966['attenuatio'+'nDistance']),_0xe1d966['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0xaa0a69=_0xe1d966['attenuatio'+'nColor'];_0x59f372['attenuatio'+'n']['set'](Math['pow'](_0xaa0a69[0x1415+0x19dc+-0x2df1],(-0x4b+0xfd0+-0x4*0x3e1)/(-0x121b+-0x1e17+0x3034+0.20000000000000018)),Math['pow'](_0xaa0a69[-0x22fb+-0x563+0x109*0x27],(0x27b+-0x1c*-0x13+-0x48e)/(0x226f+0x13f8*0x1+0x3665*-0x1+0.20000000000000018)),Math['pow'](_0xaa0a69[-0x25b8+0x1*0xf0d+0x16ad],(0x1c5e+0x11*-0x20f+0x6a2)/(-0x1641+-0x2100+0x1*0x3743+0.20000000000000018)));}},HD=(_0x34ad20,_0x366e43,_0x1fb02d)=>{_0x34ad20['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x366e43['emissiveIn'+'tensity']=_0x34ad20['emissiveSt'+'rength']);},WD=(_0x5a9b2e,_0x32d221,_0x224442)=>{_0x32d221['useIridesc'+'ence']=!(-0x1df7+-0x186d*0x1+0xd99*0x4),_0x5a9b2e['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x32d221['iridescenc'+'e']=_0x5a9b2e['iridescenc'+'eFactor']),_0x5a9b2e['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x32d221['iridescenc'+'eMapChanne'+'l']='r',_0x32d221['iridescenc'+'eMap']=_0x224442[_0x5a9b2e['iridescenc'+'eTexture']['index']],ft(_0x5a9b2e['iridescenc'+'eTexture'],_0x32d221,['iridescenc'+'e'])),_0x5a9b2e['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x32d221['iridescenc'+'eRefractio'+'nIndex']=_0x5a9b2e['iridescenc'+'eIor']),_0x5a9b2e['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x32d221['iridescenc'+'eThickness'+'Min']=_0x5a9b2e['iridescenc'+'eThickness'+'Minimum']),_0x5a9b2e['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x32d221['iridescenc'+'eThickness'+'Max']=_0x5a9b2e['iridescenc'+'eThickness'+'Maximum']),_0x5a9b2e['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x32d221['iridescenc'+'eThickness'+'MapChannel']='g',_0x32d221['iridescenc'+'eThickness'+'Map']=_0x224442[_0x5a9b2e['iridescenc'+'eThickness'+'Texture']['index']],ft(_0x5a9b2e['iridescenc'+'eThickness'+'Texture'],_0x32d221,['iridescenc'+'eThickness']));},Dx=(_0x4e02d4,_0x4f8d64)=>{const _0x4f3476=new cs();_0x4e02d4['hasOwnProp'+'erty']('name')&&(_0x4f3476['name']=_0x4e02d4['name']),_0x4f3476['occludeSpe'+'cular']=Bo,_0x4f3476['diffuseVer'+'texColor']=!(-0x43*-0x1d+0x10e1+-0x1878),_0x4f3476['specularTi'+'nt']=!(-0x2218+0x24d1+-0x2b9),_0x4f3476['specularVe'+'rtexColor']=!(-0x85c+0x4ca*-0x7+-0x3*-0xdf6),_0x4f3476['specular']['set'](-0xc44+0x6cb+0x57a,-0x9a9*-0x3+0x5d*0x16+-0x24f8,-0x13da+-0x5*-0x2e6+0x55d),_0x4f3476['gloss']=-0xcd0*0x3+0x1432+-0x1b*-0xad,_0x4f3476['glossInver'+'t']=!(-0x5bd+-0x18f5+0x1eb2),_0x4f3476['useMetalne'+'ss']=!(0x6c1*0x2+0x215b+-0x2edd);let _0x3018bd,_0x34ba1d;if(_0x4e02d4['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x99c1dc=_0x4e02d4['pbrMetalli'+'cRoughness'];if(_0x99c1dc['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x3018bd=_0x99c1dc['baseColorF'+'actor'],_0x4f3476['diffuse']['set'](Math['pow'](_0x3018bd[0x19b5+0xf2a+-0x28df*0x1],(-0x41e*-0x1+-0x211+0x83*-0x4)/(-0x1*0x259d+0x303*0x5+0x1690+0.20000000000000018)),Math['pow'](_0x3018bd[-0x5f*-0x12+-0x1af7+0xe*0x173],(0x106d+-0x24ea+-0x7a*-0x2b)/(0xc68+-0x1f86+-0x1320*-0x1+0.20000000000000018)),Math['pow'](_0x3018bd[-0x4*0x719+0x1*-0x25d7+0x423d],(-0x7*0x173+-0x207*-0x5+0x3)/(-0x9b9*0x2+-0x159+0x14cd+0.20000000000000018))),_0x4f3476['opacity']=_0x3018bd[-0xe5*0x2b+-0x8b2+0x2*0x1796]),_0x99c1dc['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x2148bd=_0x99c1dc['baseColorT'+'exture'];_0x34ba1d=_0x4f8d64[_0x2148bd['index']],_0x4f3476['diffuseMap']=_0x34ba1d,_0x4f3476['diffuseMap'+'Channel']='rgb',_0x4f3476['opacityMap']=_0x34ba1d,_0x4f3476['opacityMap'+'Channel']='a',ft(_0x2148bd,_0x4f3476,['diffuse','opacity']);}if(_0x99c1dc['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x4f3476['metalness']=_0x99c1dc['metallicFa'+'ctor']),_0x99c1dc['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x4f3476['gloss']=_0x99c1dc['roughnessF'+'actor']),_0x99c1dc['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x232a81=_0x99c1dc['metallicRo'+'ughnessTex'+'ture'];_0x4f3476['metalnessM'+'ap']=_0x4f3476['glossMap']=_0x4f8d64[_0x232a81['index']],_0x4f3476['metalnessM'+'apChannel']='b',_0x4f3476['glossMapCh'+'annel']='g',ft(_0x232a81,_0x4f3476,['gloss','metalness']);}}if(_0x4e02d4['hasOwnProp'+'erty']('normalText'+'ure')){const _0x32379d=_0x4e02d4['normalText'+'ure'];_0x4f3476['normalMap']=_0x4f8d64[_0x32379d['index']],ft(_0x32379d,_0x4f3476,['normal']),_0x32379d['hasOwnProp'+'erty']('scale')&&(_0x4f3476['bumpiness']=_0x32379d['scale']);}if(_0x4e02d4['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x3a9437=_0x4e02d4['occlusionT'+'exture'];_0x4f3476['aoMap']=_0x4f8d64[_0x3a9437['index']],_0x4f3476['aoMapChann'+'el']='r',ft(_0x3a9437,_0x4f3476,['ao']);}if(_0x4e02d4['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x3018bd=_0x4e02d4['emissiveFa'+'ctor'],_0x4f3476['emissive']['set'](Math['pow'](_0x3018bd[0x93*-0x2b+0x665*-0x3+-0x30*-0xea],(0x2341+-0x7*-0x473+-0x17*0x2e3)/(-0x4bd+-0xf5f+0x141e+0.20000000000000018)),Math['pow'](_0x3018bd[-0x141*0x1a+-0x287*-0xe+-0x2c7],(-0x651*0x1+-0x19e7+-0x2039*-0x1)/(-0x18b*0x15+0x1937+0x732+0.20000000000000018)),Math['pow'](_0x3018bd[0x207b*-0x1+-0x519+-0x1*-0x2596],(-0x45*0x49+0x2d+-0x1*-0x1381)/(-0x207d+-0xa7*-0x3a+0x557*-0x1+0.20000000000000018)))),_0x4e02d4['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x1263e8=_0x4e02d4['emissiveTe'+'xture'];_0x4f3476['emissiveMa'+'p']=_0x4f8d64[_0x1263e8['index']],ft(_0x1263e8,_0x4f3476,['emissive']);}if(_0x4e02d4['hasOwnProp'+'erty']('alphaMode'))switch(_0x4e02d4['alphaMode']){case'MASK':_0x4f3476['blendType']=is,_0x4e02d4['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x4f3476['alphaTest']=_0x4e02d4['alphaCutof'+'f']:_0x4f3476['alphaTest']=-0xc3b*0x2+-0x59*-0x67+-0xb59+0.5;break;case'BLEND':_0x4f3476['blendType']=Kt,_0x4f3476['depthWrite']=!(-0x170c+0x903+0x4ae*0x3);break;default:case'OPAQUE':_0x4f3476['blendType']=is;break;}else _0x4f3476['blendType']=is;_0x4e02d4['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x4f3476['twoSidedLi'+'ghting']=_0x4e02d4['doubleSide'+'d'],_0x4f3476['cull']=_0x4e02d4['doubleSide'+'d']?mt:rn):(_0x4f3476['twoSidedLi'+'ghting']=!(0x24e0+-0x15de*-0x1+-0x557*0xb),_0x4f3476['cull']=rn);const _0x18ccf8={'KHR_materials_clearcoat':OD,'KHR_materials_emissive_strength':HD,'KHR_materials_ior':ND,'KHR_materials_dispersion':zD,'KHR_materials_iridescence':WD,'KHR_materials_pbrSpecularGlossiness':FD,'KHR_materials_sheen':VD,'KHR_materials_specular':BD,'KHR_materials_transmission':UD,'KHR_materials_unlit':kD,'KHR_materials_volume':GD};if(_0x4e02d4['hasOwnProp'+'erty']('extensions'))for(const _0x29eeb0 in _0x4e02d4['extensions']){const _0x1ffb0f=_0x18ccf8[_0x29eeb0];_0x1ffb0f!==void(-0x1*0x1281+-0xc*0x2f1+-0x3*-0x11ef)&&_0x1ffb0f(_0x4e02d4['extensions'][_0x29eeb0],_0x4f3476,_0x4f8d64);}return _0x4f3476['update'](),_0x4f3476;},$D=(_0x3bf76b,_0x3d1d73,_0x3ad076,_0x51b267,_0x5698a3,_0x2f82ff,_0x3870fa)=>{const _0x169589=_0x46d86d=>new Jh(Wo(_0x46d86d['type']),ma(_0x46d86d,_0x51b267)),_0x17699b={'STEP':$0,'LINEAR':ju,'CUBICSPLINE':Yu},_0x222a39={},_0xb73929={},_0x16587c={};let _0xc463e=-0x1871*0x1+-0x1*0x481+0x1cf3,_0x378036;for(_0x378036=-0x485*-0x7+-0x21*-0xdd+-0x3c20;_0x378036<_0x3bf76b['samplers']['length'];++_0x378036){const _0x2e489f=_0x3bf76b['samplers'][_0x378036];_0x222a39['hasOwnProp'+'erty'](_0x2e489f['input'])||(_0x222a39[_0x2e489f['input']]=_0x169589(_0x3ad076[_0x2e489f['input']])),_0xb73929['hasOwnProp'+'erty'](_0x2e489f['output'])||(_0xb73929[_0x2e489f['output']]=_0x169589(_0x3ad076[_0x2e489f['output']]));const _0xc692e=_0x2e489f['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x17699b['hasOwnProp'+'erty'](_0x2e489f['interpolat'+'ion'])?_0x17699b[_0x2e489f['interpolat'+'ion']]:ju,_0x5869eb={'paths':[],'input':_0x2e489f['input'],'output':_0x2e489f['output'],'interpolation':_0xc692e};_0x16587c[_0x378036]=_0x5869eb;}const _0x5f2a7f=[],_0x94a1fb={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x559eba=_0x458feb=>{const _0x29907c=[];for(;_0x458feb;)_0x29907c['unshift'](_0x458feb['name']),_0x458feb=_0x458feb['parent'];return _0x29907c;},_0x324bc5=(_0x1a1b8f,_0x58158b,_0x43bc75)=>{const _0x5b37d0=_0xb73929[_0x1a1b8f['output']];if(!_0x5b37d0){v['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x43bc75+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0xfced27;if(_0x2f82ff&&_0x2f82ff[_0x58158b['mesh']]){const _0x16c1b4=_0x2f82ff[_0x58158b['mesh']];_0x16c1b4['hasOwnProp'+'erty']('extras')&&_0x16c1b4['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0xfced27=_0x16c1b4['extras']['targetName'+'s']);}const _0x5a6cac=_0x5b37d0['data'],_0x35963a=_0x5a6cac['length']/_0x222a39[_0x1a1b8f['input']]['data']['length'],_0x19fb6d=_0x5a6cac['length']/_0x35963a,_0x8440c=_0x19fb6d*(-0x26e3+-0xb66+0x324d),_0x55c376=new ArrayBuffer(_0x8440c*_0x35963a);for(let _0x3fd4f2=-0x10f*-0x1f+-0x4a*0x20+0x7db*-0x3;_0x3fd4f2<_0x35963a;_0x3fd4f2++){const _0x5758a9=new Float32Array(_0x55c376,_0x8440c*_0x3fd4f2,_0x19fb6d);for(let _0xbf630f=-0x1704+0x2471*0x1+0xd6d*-0x1;_0xbf630f<_0x19fb6d;_0xbf630f++)_0x5758a9[_0xbf630f]=_0x5a6cac[_0xbf630f*_0x35963a+_0x3fd4f2];const _0x423062=new Jh(-0x591+0x8e*-0x3b+0x264c,_0x5758a9),_0x28c0dc=_0xfced27!=null&&_0xfced27[_0x3fd4f2]?'name.'+_0xfced27[_0x3fd4f2]:_0x3fd4f2;_0xb73929[-_0xc463e]=_0x423062;const _0x268902={'paths':[{'entityPath':_0x43bc75,'component':'graph','propertyPath':['weight.'+_0x28c0dc]}],'input':_0x1a1b8f['input'],'output':-_0xc463e,'interpolation':_0x1a1b8f['interpolat'+'ion']};_0xc463e++,_0x16587c['morphCurve'+'-'+_0x378036+'-'+_0x3fd4f2]=_0x268902;}};for(_0x378036=0x2089*-0x1+0x1ea5+0xb*0x2c;_0x378036<_0x3bf76b['channels']['length'];++_0x378036){const _0x3ea8a6=_0x3bf76b['channels'][_0x378036],_0x376f25=_0x3ea8a6['target'],_0x5c8b68=_0x16587c[_0x3ea8a6['sampler']],_0x159d0d=_0x5698a3[_0x376f25['node']],_0x49aa2f=_0x3870fa[_0x376f25['node']],_0x10cbe6=_0x559eba(_0x159d0d);_0x376f25['path']['startsWith']('weights')?(_0x324bc5(_0x5c8b68,_0x49aa2f,_0x10cbe6),_0x16587c[_0x3ea8a6['sampler']]['morphCurve']=!(-0x1*0x1237+-0xbe5+0x1e1c)):_0x5c8b68['paths']['push']({'entityPath':_0x10cbe6,'component':'graph','propertyPath':[_0x94a1fb[_0x376f25['path']]]});}const _0x1957b1=[],_0x1f0e69=[],_0x4f4f75=[];for(const _0x162413 in _0x222a39)_0x1957b1['push'](_0x222a39[_0x162413]),_0x222a39[_0x162413]=_0x1957b1['length']-(-0x1*0x254e+0x1df+0x2370);for(const _0x441c5c in _0xb73929)_0x1f0e69['push'](_0xb73929[_0x441c5c]),_0xb73929[_0x441c5c]=_0x1f0e69['length']-(-0x79c+0xf*-0xd3+0x13fa);for(const _0x5c0fdb in _0x16587c){const _0x4b7127=_0x16587c[_0x5c0fdb];_0x4b7127['morphCurve']||(_0x4f4f75['push'](new Px(_0x4b7127['paths'],_0x222a39[_0x4b7127['input']],_0xb73929[_0x4b7127['output']],_0x4b7127['interpolat'+'ion'])),_0x4b7127['paths']['length']>-0x13c+0x23b+-0x3*0x55&&_0x4b7127['paths'][-0x2*-0xf61+-0x3*-0x7cf+-0x362f]['propertyPa'+'th'][0x3*-0x2c5+-0x686+0xed5]==='localRotat'+'ion'&&_0x4b7127['interpolat'+'ion']!==Yu&&_0x5f2a7f['push'](_0x4f4f75[_0x4f4f75['length']-(0x657+-0x43*-0x93+-0x2ccf)]['output']));}_0x5f2a7f['sort']();let _0x2a0db1=null,_0x370996;for(_0x378036=0x99e+0x116b+0x3*-0x903;_0x378036<_0x5f2a7f['length'];++_0x378036){const _0x531a64=_0x5f2a7f[_0x378036];if(_0x378036===0x2*-0x9c7+0x1be8+-0x85a||_0x531a64!==_0x2a0db1){if(_0x370996=_0x1f0e69[_0x531a64],_0x370996['components']===0x2113+-0x2251+0x142){const _0xbbd31a=_0x370996['data'],_0x59b438=_0xbbd31a['length']-(-0x200a+0x89*0x1+0x1*0x1f85);for(let _0x5afec5=0x1888+-0xa8f+-0xdf9;_0x5afec5<_0x59b438;_0x5afec5+=0x1846+-0x193e+0xfc)_0xbbd31a[_0x5afec5+(-0x1fda+0x2eb+0x1cef)]*_0xbbd31a[_0x5afec5+(-0x19dd+-0x1f89*0x1+0x2*0x1cb5)]+_0xbbd31a[_0x5afec5+(0x1a2f+-0x1*-0x18f5+-0x3323)]*_0xbbd31a[_0x5afec5+(0xadb*-0x1+0x1*0x138d+0x1*-0x8ad)]+_0xbbd31a[_0x5afec5+(0x2185*-0x1+-0xa*0x1a5+0x1*0x31f9)]*_0xbbd31a[_0x5afec5+(-0xa89+0x224e+-0x17bf*0x1)]+_0xbbd31a[_0x5afec5+(0xc22*-0x1+0x223*-0xb+0x23a6)]*_0xbbd31a[_0x5afec5+(0x146a+0x1*-0x6e6+-0xd7d)]<-0x1589+-0xb8*0x2f+0x1*0x3751&&(_0xbbd31a[_0x5afec5+(0x12d+-0xa3*-0x3+-0x312)]*=-(-0x47*-0x31+0xf17+-0x1cad),_0xbbd31a[_0x5afec5+(-0x15b6+0x17*0x157+-0x1*0x916)]*=-(0x24e6*-0x1+0xc31+0x18b6),_0xbbd31a[_0x5afec5+(0x16ee+-0x533+0x5e7*-0x3)]*=-(0xddc*-0x1+-0xa*0x34d+0x2edf),_0xbbd31a[_0x5afec5+(-0x65b*0x4+-0x88d+0x2200)]*=-(0x1*-0x1cd3+0xb65+0x116f));}_0x2a0db1=_0x531a64;}}let _0x635414=0x1594+-0x1*-0x1b1f+-0x7*0x6f5;for(_0x378036=-0x13cd*0x1+-0xe2f+-0x1e*-0x122;_0x378036<_0x1957b1['length'];_0x378036++)_0x370996=_0x1957b1[_0x378036]['_data'],_0x635414=Math['max'](_0x635414,_0x370996['length']===-0x203f+-0x23c7+0x4406?-0xb*-0x107+0x1219+-0x1d66:_0x370996[_0x370996['length']-(-0x1*-0xa3c+-0x2240+-0xb*-0x22f)]);return new Ri(_0x3bf76b['hasOwnProp'+'erty']('name')?_0x3bf76b['name']:'animation_'+_0x3d1d73,_0x635414,_0x1957b1,_0x1f0e69,_0x4f4f75);},eh=new q(),qn=new T(),qD=(_0x4565a2,_0x26a8ec,_0x54c298)=>{const _0x39813e=new De();if(_0x4565a2['hasOwnProp'+'erty']('name')&&_0x4565a2['name']['length']>0x44a+-0x6e*-0xa+-0x9d*0xe?_0x39813e['name']=_0x4565a2['name']:_0x39813e['name']='node_'+_0x26a8ec,_0x4565a2['hasOwnProp'+'erty']('matrix')&&(eh['data']['set'](_0x4565a2['matrix']),eh['getTransla'+'tion'](qn),_0x39813e['setLocalPo'+'sition'](qn),eh['getEulerAn'+'gles'](qn),_0x39813e['setLocalEu'+'lerAngles'](qn),eh['getScale'](qn),_0x39813e['setLocalSc'+'ale'](qn)),_0x4565a2['hasOwnProp'+'erty']('rotation')){const _0x13a7bd=_0x4565a2['rotation'];_0x39813e['setLocalRo'+'tation'](_0x13a7bd[0x1f2c+-0x11f+0x7*-0x44b],_0x13a7bd[-0xfc3+-0x26cc+0x90*0x61],_0x13a7bd[0xbff*0x3+0x42*0x54+-0x39a3],_0x13a7bd[0x56d*0x1+-0xf0a+0x9a0]);}if(_0x4565a2['hasOwnProp'+'erty']('translatio'+'n')){const _0x50e24e=_0x4565a2['translatio'+'n'];_0x39813e['setLocalPo'+'sition'](_0x50e24e[-0x3*-0x871+-0x788+-0x11cb],_0x50e24e[0x10b0+-0x1*-0xcf+-0x117e],_0x50e24e[-0x1e2a+-0x278+0x20a4]);}if(_0x4565a2['hasOwnProp'+'erty']('scale')){const _0x5ce4f4=_0x4565a2['scale'];_0x39813e['setLocalSc'+'ale'](_0x5ce4f4[-0x5*-0x49+-0x3*-0xcc7+-0x1*0x27c2],_0x5ce4f4[0x7d*-0x25+-0x99b*-0x1+0x877],_0x5ce4f4[0xebb+0x1*-0x2123+0x126a]);}return _0x4565a2['hasOwnProp'+'erty']('extensions')&&_0x4565a2['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x54c298['set'](_0x4565a2,{'ext':_0x4565a2['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x39813e;},XD=(_0x1366b6,_0x2a9e8c)=>{const _0x5f127a=_0x1366b6['type']==='orthograph'+'ic'?ua:Gs,_0x3e70e1=_0x5f127a===ua?_0x1366b6['orthograph'+'ic']:_0x1366b6['perspectiv'+'e'],_0x587304={'enabled':!(-0x9*0x301+-0x9b*-0x18+0x641*0x2),'projection':_0x5f127a,'nearClip':_0x3e70e1['znear'],'aspectRatioMode':Ip};_0x3e70e1['zfar']&&(_0x587304['farClip']=_0x3e70e1['zfar']),_0x5f127a===ua?(_0x587304['orthoHeigh'+'t']=(-0x11f*0x8+-0x8a1+0x1199+0.5)*_0x3e70e1['ymag'],_0x3e70e1['ymag']&&(_0x587304['aspectRati'+'oMode']=Bu,_0x587304['aspectRati'+'o']=_0x3e70e1['xmag']/_0x3e70e1['ymag'])):(_0x587304['fov']=_0x3e70e1['yfov']*N['RAD_TO_DEG'],_0x3e70e1['aspectRati'+'o']&&(_0x587304['aspectRati'+'oMode']=Bu,_0x587304['aspectRati'+'o']=_0x3e70e1['aspectRati'+'o']));const _0x4e5f67=new We(_0x1366b6['name']);return _0x4e5f67['addCompone'+'nt']('camera',_0x587304),_0x4e5f67;},jD=(_0x5e919e,_0x1df34f)=>{const _0x189488={'enabled':!(-0x15b7+0x7fa*0x1+0xdbe),'type':_0x5e919e['type']==='point'?'omni':_0x5e919e['type'],'color':_0x5e919e['hasOwnProp'+'erty']('color')?new Y(_0x5e919e['color']):Y['WHITE'],'range':_0x5e919e['hasOwnProp'+'erty']('range')?_0x5e919e['range']:0x18ea+0x3bf5+-0x2dd0,'falloffMode':$b,'intensity':_0x5e919e['hasOwnProp'+'erty']('intensity')?N['clamp'](_0x5e919e['intensity'],-0x5*-0x3de+0x13f4+0x6b*-0x5e,0x1953+-0x89a+0x185*-0xb):-0xa2+-0x1705*-0x1+-0x1662};_0x5e919e['hasOwnProp'+'erty']('spot')&&(_0x189488['innerConeA'+'ngle']=_0x5e919e['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x5e919e['spot']['innerConeA'+'ngle']*N['RAD_TO_DEG']:0xf1*-0x1d+-0x4fd*0x7+-0x16*-0x2d4,_0x189488['outerConeA'+'ngle']=_0x5e919e['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x5e919e['spot']['outerConeA'+'ngle']*N['RAD_TO_DEG']:Math['PI']/(-0x12a*0xa+0x2130+0x2b1*-0x8)),_0x5e919e['hasOwnProp'+'erty']('intensity')&&(_0x189488['luminance']=_0x5e919e['intensity']*zo['getLightUn'+'itConversi'+'on'](Gu[_0x189488['type']],_0x189488['outerConeA'+'ngle'],_0x189488['innerConeA'+'ngle']));const _0x338543=new We(_0x1df34f['name']);return _0x338543['rotateLoca'+'l'](-0x1*-0x1361+-0x195f+0x658,-0x9a1+0x1df5+-0x1454,0x1163+-0x12d9+0x11*0x16),_0x338543['addCompone'+'nt']('light',_0x189488),_0x338543;},YD=(_0xd2692b,_0x2e7db3,_0x276d75,_0x3405cf)=>{if(!_0x2e7db3['hasOwnProp'+'erty']('skins')||_0x2e7db3['skins']['length']===-0xa*0x1f6+0x165*-0xa+-0x2*-0x10c7)return[];const _0x599e88=new Map();return _0x2e7db3['skins']['map'](_0x1439a2=>ID(_0xd2692b,_0x1439a2,_0x2e7db3['accessors'],_0x3405cf,_0x276d75,_0x599e88));},KD=(_0x5023d3,_0x10c487,_0xa84ff4,_0x20dec6)=>{var _0xe6226a,_0x751332,_0x1d70f9;const _0x51123f={},_0x596766={},_0x51e0a4={},_0x18f666=[];return{'meshes':!_0x20dec6['skipMeshes']&&((_0xe6226a=_0x10c487==null?void(0x1*0xa03+-0xcd2*-0x3+-0x3079):_0x10c487['meshes'])==null?void(-0x56c+-0x55c+0xac8):_0xe6226a['length'])&&((_0x751332=_0x10c487==null?void(-0x1*0xacf+0x213a*-0x1+0x2c09*0x1):_0x10c487['accessors'])==null?void(-0xfc0+-0x1f75*-0x1+-0xfb5):_0x751332['length'])&&((_0x1d70f9=_0x10c487==null?void(0x1*0x7c+-0x6*-0x293+-0xfee):_0x10c487['bufferView'+'s'])==null?void(0x1*0x1bca+-0xfa8+-0xc22):_0x1d70f9['length'])?_0x10c487['meshes']['map'](_0x3709a9=>LD(_0x5023d3,_0x3709a9,_0x10c487['accessors'],_0xa84ff4,_0x51123f,_0x596766,_0x51e0a4,_0x20dec6,_0x18f666)):[],'meshVariants':_0x596766,'meshDefaultMaterials':_0x51e0a4,'promises':_0x18f666};},ZD=(_0x2b4bc6,_0x359787,_0x400fb1)=>{var _0x3e4b73,_0x513da6,_0x52a9a1;if(!_0x2b4bc6['hasOwnProp'+'erty']('materials')||_0x2b4bc6['materials']['length']===0x1*-0x1407+0x72+0x1395)return[];const _0x1e4bfc=(_0x3e4b73=_0x400fb1==null?void(-0x8*-0x197+0x1caf+0x2967*-0x1):_0x400fb1['material'])==null?void(0x2278+-0x1*-0x1143+-0x33bb):_0x3e4b73['preprocess'],_0x5de64c=((_0x513da6=_0x400fb1==null?void(0x250c+0x1049+0x6f*-0x7b):_0x400fb1['material'])==null?void(-0x1d*-0x66+-0x9*0x3b3+0x15bd):_0x513da6['process'])??Dx,_0x1f82bd=(_0x52a9a1=_0x400fb1==null?void(-0x21f4+-0x55+0x1*0x2249):_0x400fb1['material'])==null?void(-0x1*-0x1d29+0x1fe3+-0x3d0c):_0x52a9a1['postproces'+'s'];return _0x2b4bc6['materials']['map'](_0x168e30=>{_0x1e4bfc&&_0x1e4bfc(_0x168e30);const _0x23448b=_0x5de64c(_0x168e30,_0x359787);return _0x1f82bd&&_0x1f82bd(_0x168e30,_0x23448b),_0x23448b;});},QD=_0x3c7575=>{if(!_0x3c7575['hasOwnProp'+'erty']('extensions')||!_0x3c7575['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x5ae4b5=_0x3c7575['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x20cf7e={};for(let _0x40eca2=0x17*0x163+-0x5f5*0x5+-0x21c;_0x40eca2<_0x5ae4b5['length'];_0x40eca2++)_0x20cf7e[_0x5ae4b5[_0x40eca2]['name']]=_0x40eca2;return _0x20cf7e;},JD=(_0x22777f,_0x3d6701,_0x4c5c8e,_0x3b2ac7)=>{var _0x15d052,_0x3b2c72;if(!_0x22777f['hasOwnProp'+'erty']('animations')||_0x22777f['animations']['length']===0x1*-0x14b3+-0x261c*-0x1+0x1169*-0x1)return[];const _0x18b338=(_0x15d052=_0x3b2ac7==null?void(-0x1feb+0x1*0xdfd+-0x1fe*-0x9):_0x3b2ac7['animation'])==null?void(-0x5c*0x57+0xfc0+0xf84):_0x15d052['preprocess'],_0x3d8dfc=(_0x3b2c72=_0x3b2ac7==null?void(0x1*-0xb5+0x1*0x24d9+-0x2424):_0x3b2ac7['animation'])==null?void(-0x1163*-0x2+0x1472+-0x3738):_0x3b2c72['postproces'+'s'];return _0x22777f['animations']['map']((_0x3a23c0,_0x4d8a7d)=>{_0x18b338&&_0x18b338(_0x3a23c0);const _0x351aff=$D(_0x3a23c0,_0x4d8a7d,_0x22777f['accessors'],_0x4c5c8e,_0x3d6701,_0x22777f['meshes'],_0x22777f['nodes']);return _0x3d8dfc&&_0x3d8dfc(_0x3a23c0,_0x351aff),_0x351aff;});},e2=(_0x27b3dc,_0x326694,_0x5dcabe,_0x45ba3d)=>{const _0xa45fe1=_0x326694['accessors'];_0x5dcabe['forEach']((_0x51d626,_0x334dc1)=>{const _0x284095=_0x51d626['ext']['attributes'];let _0x1f8100;if(_0x284095['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x42de1b=_0xa45fe1[_0x284095['TRANSLATIO'+'N']];_0x1f8100=ma(_0x42de1b,_0x45ba3d);}let _0x1e48fa;if(_0x284095['hasOwnProp'+'erty']('ROTATION')){const _0x2cac53=_0xa45fe1[_0x284095['ROTATION']];_0x1e48fa=ma(_0x2cac53,_0x45ba3d);}let _0x244463;if(_0x284095['hasOwnProp'+'erty']('SCALE')){const _0x3df256=_0xa45fe1[_0x284095['SCALE']];_0x244463=ma(_0x3df256,_0x45ba3d);}const _0x38ec97=(_0x1f8100?_0x1f8100['length']/(-0x21*0x85+0x9e1+-0x45*-0x1b):-0x16ed+0x468+0x1285)||(_0x1e48fa?_0x1e48fa['length']/(-0x98e*-0x3+0x887+-0x1f*0x133):0x7*0x2f5+-0x1277+-0x23c)||(_0x244463?_0x244463['length']/(0x1442*-0x1+-0x45*0x2+0x14cf*0x1):-0x31*0x27+-0x1a73+-0x6*-0x5a7);if(_0x38ec97){const _0x50a50c=new Float32Array(_0x38ec97*(0x35*-0x46+-0xdab+0x1c39)),_0x40b0e4=new T(),_0x12f0f6=new se(),_0x2ef8f9=new T(0x1*0xdc1+-0x246b+-0x33d*-0x7,-0x25b8+0x6*0x241+0x1833,0x24a*-0x1+0x17*-0x9d+0x2*0x833),_0x1c24dd=new q();let _0x439740=-0x143e+-0x877*-0x4+-0xa6*0x15;for(let _0x273e3e=-0xf33+0x2dc+0xc57;_0x273e3e<_0x38ec97;_0x273e3e++){const _0x3af5ed=_0x273e3e*(-0x121e+0x1777*-0x1+0x2998);if(_0x1f8100&&_0x40b0e4['set'](_0x1f8100[_0x3af5ed],_0x1f8100[_0x3af5ed+(-0x1d53+0x2534+-0x7e0)],_0x1f8100[_0x3af5ed+(-0x1d40+0x6ae+0xaa*0x22)]),_0x1e48fa){const _0x46783b=_0x273e3e*(-0xa01+-0x19*-0x7a+-0x1e5);_0x12f0f6['set'](_0x1e48fa[_0x46783b],_0x1e48fa[_0x46783b+(-0x1203+-0x2*0x3a1+0x1946)],_0x1e48fa[_0x46783b+(0x2553+-0x1135+-0x23c*0x9)],_0x1e48fa[_0x46783b+(-0x214a+-0x235f+0x44ac)]);}_0x244463&&_0x2ef8f9['set'](_0x244463[_0x3af5ed],_0x244463[_0x3af5ed+(0x1*0x11e3+-0x14b7*0x1+0x1d*0x19)],_0x244463[_0x3af5ed+(-0xce*-0x3+-0x23a7+0x213f)]),_0x1c24dd['setTRS'](_0x40b0e4,_0x12f0f6,_0x2ef8f9);for(let _0x76093d=0x1e18+0xb1a+-0x2932;_0x76093d<-0x100c+-0x1d*-0x143+-0x7*0x2ed;_0x76093d++)_0x50a50c[_0x439740++]=_0x1c24dd['data'][_0x76093d];}_0x51d626['matrices']=_0x50a50c;}});},t2=(_0x2e0256,_0x41aeb9,_0x13c701)=>{var _0x2623ec,_0x80bfbf,_0x3cfd94;if(!_0x2e0256['hasOwnProp'+'erty']('nodes')||_0x2e0256['nodes']['length']===-0x5c5+0x2596+-0x1fd1)return[];const _0x5acd99=(_0x2623ec=_0x41aeb9==null?void(0x12a1+-0x1345+0xa4):_0x41aeb9['node'])==null?void(0xee4+-0x58*0xd+-0x74*0x17):_0x2623ec['preprocess'],_0x25409d=((_0x80bfbf=_0x41aeb9==null?void(-0x64*-0xf+-0x5*-0x44b+-0x1b53):_0x41aeb9['node'])==null?void(0x2*-0xb9e+-0x1cff+0x343b):_0x80bfbf['process'])??qD,_0x161344=(_0x3cfd94=_0x41aeb9==null?void(0x1fed+-0x116a+-0xe83):_0x41aeb9['node'])==null?void(0x53*0x2+0x1b22+-0x1bc8):_0x3cfd94['postproces'+'s'],_0x2a28f5=_0x2e0256['nodes']['map']((_0x10bce9,_0x20fb7f)=>{_0x5acd99&&_0x5acd99(_0x10bce9);const _0x21a4a4=_0x25409d(_0x10bce9,_0x20fb7f,_0x13c701);return _0x161344&&_0x161344(_0x10bce9,_0x21a4a4),_0x21a4a4;});for(let _0x43897d=0xb27+0x21a4+0x1*-0x2ccb;_0x43897d<_0x2e0256['nodes']['length'];++_0x43897d){const _0x3b84a5=_0x2e0256['nodes'][_0x43897d];if(_0x3b84a5['hasOwnProp'+'erty']('children')){const _0x426d96=_0x2a28f5[_0x43897d],_0x247a22={};for(let _0x57113e=-0x14c9+-0xc6*0x6+0x196d*0x1;_0x57113e<_0x3b84a5['children']['length'];++_0x57113e){const _0x43bb71=_0x2a28f5[_0x3b84a5['children'][_0x57113e]];_0x43bb71['parent']||(_0x247a22['hasOwnProp'+'erty'](_0x43bb71['name'])?_0x43bb71['name']+=_0x247a22[_0x43bb71['name']]++:_0x247a22[_0x43bb71['name']]=0x2178+0x2*-0x28c+0x1b*-0x10d,_0x426d96['addChild'](_0x43bb71));}}}return _0x2a28f5;},s2=(_0xcfc2df,_0x1d3410)=>{var _0x27d12d;const _0x425924=[],_0x160bd3=_0xcfc2df['scenes']['length'];if(_0x160bd3===0x884*-0x1+0x1f12+-0x168d&&((_0x27d12d=_0xcfc2df['scenes'][0x4*0x3b5+0x7c0*-0x2+0xac]['nodes'])==null?void(0x1*0xb0b+0x1*-0x2527+0x687*0x4):_0x27d12d['length'])===0x2*0x3e5+0x2015*0x1+-0x27de){const _0x157a17=_0xcfc2df['scenes'][-0xbeb+0xa9+-0xb*-0x106]['nodes'][-0xcfc+-0x1a19+-0x57*-0x73];_0x425924['push'](_0x1d3410[_0x157a17]);}else for(let _0x4d1efc=0x2400+-0x1843*-0x1+-0x3c43;_0x4d1efc<_0x160bd3;_0x4d1efc++){const _0x3282e2=_0xcfc2df['scenes'][_0x4d1efc];if(_0x3282e2['nodes']){const _0x469f33=new De(_0x3282e2['name']);for(let _0x361f52=-0x1b+-0x1cb8+0x1cd3;_0x361f52<_0x3282e2['nodes']['length'];_0x361f52++){const _0x5c7e73=_0x1d3410[_0x3282e2['nodes'][_0x361f52]];_0x469f33['addChild'](_0x5c7e73);}_0x425924['push'](_0x469f33);}}return _0x425924;},i2=(_0x13ea10,_0x538539,_0x5aff0b)=>{var _0x170f24,_0x11183e,_0x114376;let _0x2faf6c=null;if(_0x13ea10['hasOwnProp'+'erty']('nodes')&&_0x13ea10['hasOwnProp'+'erty']('cameras')&&_0x13ea10['cameras']['length']>0x9*0x3d1+0xe70+-0x30c9){const _0x4b199f=(_0x170f24=_0x5aff0b==null?void(0x1f0f+0x1d3c+-0x3c4b):_0x5aff0b['camera'])==null?void(0x14dc+0x1bf*0x13+0x57*-0x9f):_0x170f24['preprocess'],_0x5df352=((_0x11183e=_0x5aff0b==null?void(0xd*0x4d+-0x26cc+0x22e3*0x1):_0x5aff0b['camera'])==null?void(0x257c+0x2268+-0x47e4):_0x11183e['process'])??XD,_0x59b670=(_0x114376=_0x5aff0b==null?void(0x1ee9+-0xb*0x6e+-0x1a2f):_0x5aff0b['camera'])==null?void(0x2353+-0x6*0x169+-0x1add):_0x114376['postproces'+'s'];_0x13ea10['nodes']['forEach']((_0x5ace0c,_0x56be26)=>{if(_0x5ace0c['hasOwnProp'+'erty']('camera')){const _0x5f5752=_0x13ea10['cameras'][_0x5ace0c['camera']];if(_0x5f5752){_0x4b199f&&_0x4b199f(_0x5f5752);const _0x1f6b8a=_0x5df352(_0x5f5752,_0x538539[_0x56be26]);_0x59b670&&_0x59b670(_0x5f5752,_0x1f6b8a),_0x1f6b8a&&(_0x2faf6c||(_0x2faf6c=new Map()),_0x2faf6c['set'](_0x5ace0c,_0x1f6b8a));}}});}return _0x2faf6c;},r2=(_0x270f5c,_0x3d4a30,_0x198d47)=>{var _0x48fdd8,_0x56eb12,_0xf78a9a;let _0x572048=null;if(_0x270f5c['hasOwnProp'+'erty']('nodes')&&_0x270f5c['hasOwnProp'+'erty']('extensions')&&_0x270f5c['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x270f5c['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x2e4f27=_0x270f5c['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x2e4f27['length']){const _0x3ea7fc=(_0x48fdd8=_0x198d47==null?void(0x4d3*-0x5+-0x17b0+0x2fcf):_0x198d47['light'])==null?void(0x2*0x4ab+0x9d*0x9+-0xedb):_0x48fdd8['preprocess'],_0x24db13=((_0x56eb12=_0x198d47==null?void(-0x123b+-0x1*-0x13d+0x10fe):_0x198d47['light'])==null?void(0x1d1+0x16c8+-0x1899):_0x56eb12['process'])??jD,_0x3a1885=(_0xf78a9a=_0x198d47==null?void(-0x1*-0x21b3+-0x23f9+-0x3*-0xc2):_0x198d47['light'])==null?void(-0xbe2+-0x16fa+0x22dc):_0xf78a9a['postproces'+'s'];_0x270f5c['nodes']['forEach']((_0x2e9e2a,_0x42e9d9)=>{if(_0x2e9e2a['hasOwnProp'+'erty']('extensions')&&_0x2e9e2a['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x2e9e2a['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x55ad2b=_0x2e9e2a['extensions']['KHR_lights'+'_punctual']['light'],_0x4b9641=_0x2e4f27[_0x55ad2b];if(_0x4b9641){_0x3ea7fc&&_0x3ea7fc(_0x4b9641);const _0x2bdd54=_0x24db13(_0x4b9641,_0x3d4a30[_0x42e9d9]);_0x3a1885&&_0x3a1885(_0x4b9641,_0x2bdd54),_0x2bdd54&&(_0x572048||(_0x572048=new Map()),_0x572048['set'](_0x2e9e2a,_0x2bdd54));}}});}}return _0x572048;},n2=(_0x2455ae,_0x1bac5c,_0x3d016f)=>{_0x2455ae['nodes']['forEach'](_0x34c7b8=>{_0x34c7b8['hasOwnProp'+'erty']('mesh')&&_0x34c7b8['hasOwnProp'+'erty']('skin')&&_0x1bac5c[_0x34c7b8['mesh']]['meshes']['forEach'](_0x206b17=>{_0x206b17['skin']=_0x3d016f[_0x34c7b8['skin']];});});},a2=async(_0x249554,_0x375cc9,_0x238cbd,_0x293adf,_0x27c671)=>{var _0x548c37,_0x4f01b4;const _0x16eaff=(_0x548c37=_0x27c671==null?void(0x16ca+-0x31f*-0x4+-0x2346):_0x27c671['global'])==null?void(-0x1c95+0x1a3+0x1af2):_0x548c37['preprocess'],_0x48833c=(_0x4f01b4=_0x27c671==null?void(0x1fa8+0x1a60+-0x3a08):_0x27c671['global'])==null?void(-0x23d3+-0x1c06+0x3fd9):_0x4f01b4['postproces'+'s'];_0x16eaff&&_0x16eaff(_0x375cc9),_0x375cc9['asset']&&_0x375cc9['asset']['generator']==='PlayCanvas'&&v['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x342d6d=new Map(),_0x26cc86=t2(_0x375cc9,_0x27c671,_0x342d6d),_0x46b9a2=s2(_0x375cc9,_0x26cc86),_0x4de6a4=r2(_0x375cc9,_0x26cc86,_0x27c671),_0x3c712e=i2(_0x375cc9,_0x26cc86,_0x27c671),_0x1b0723=QD(_0x375cc9),_0x224b5d=await Promise['all'](_0x238cbd),{meshes:_0x31f1f6,meshVariants:_0x2dca4c,meshDefaultMaterials:_0x260e82,promises:_0x2b0b6a}=KD(_0x249554,_0x375cc9,_0x224b5d,_0x27c671),_0x158071=JD(_0x375cc9,_0x26cc86,_0x224b5d,_0x27c671);e2(_0x249554,_0x375cc9,_0x342d6d,_0x224b5d);const _0x39561a=await Promise['all'](_0x293adf),_0x5318b1=_0x39561a['map'](_0x1d57a4=>_0x1d57a4['resource']),_0x3db7b7=ZD(_0x375cc9,_0x5318b1,_0x27c671),_0x438974=YD(_0x249554,_0x375cc9,_0x26cc86,_0x224b5d),_0x373884=[];for(let _0x420d58=-0x11da+0x2486+-0x1de*0xa;_0x420d58<_0x31f1f6['length'];_0x420d58++)_0x373884[_0x420d58]=new Hp(),_0x373884[_0x420d58]['meshes']=_0x31f1f6[_0x420d58];n2(_0x375cc9,_0x373884,_0x438974);const _0xddf1c3=new SD();return _0xddf1c3['gltf']=_0x375cc9,_0xddf1c3['nodes']=_0x26cc86,_0xddf1c3['scenes']=_0x46b9a2,_0xddf1c3['animations']=_0x158071,_0xddf1c3['textures']=_0x39561a,_0xddf1c3['materials']=_0x3db7b7,_0xddf1c3['variants']=_0x1b0723,_0xddf1c3['meshVarian'+'ts']=_0x2dca4c,_0xddf1c3['meshDefaul'+'tMaterials']=_0x260e82,_0xddf1c3['renders']=_0x373884,_0xddf1c3['skins']=_0x438974,_0xddf1c3['lights']=_0x4de6a4,_0xddf1c3['cameras']=_0x3c712e,_0xddf1c3['nodeInstan'+'cingMap']=_0x342d6d,_0x48833c&&_0x48833c(_0x375cc9,_0xddf1c3),await Promise['all'](_0x2b0b6a),_0xddf1c3;},o2=(_0x2300f9,_0x86e72a)=>{const _0x535f56=(_0x458867,_0x3a58bc)=>{switch(_0x458867){case-0x27de+0x755*-0x6+0x79dc:return de;case-0x4643+0x50*0x34+0x4*0x1701:return st;case 0x4574+-0x303*-0x15+0x53*-0x121:return fc;case-0xec1*-0x1+-0x270c+0x1fa6*0x2:return mc;case 0x354d+0x4*-0x1010+0x31f5:return pc;case 0x4c55+-0x22c3*0x1+0x1*-0x28f:return nn;default:return _0x3a58bc;}},_0x2209c7=(_0x2c7c6f,_0x448a71)=>{switch(_0x2c7c6f){case-0x759d+0x77b8*0x1+0x7f14:return ae;case 0x10c0+0x3*0x355d+-0xc5*0x3b:return Of;case 0x65*-0x21+0x30ec+-0x2*-0x28d:return tt;default:return _0x448a71;}};_0x2300f9&&(_0x86e72a=_0x86e72a??{},_0x2300f9['minFilter']=_0x535f56(_0x86e72a['minFilter'],nn),_0x2300f9['magFilter']=_0x535f56(_0x86e72a['magFilter'],st),_0x2300f9['addressU']=_0x2209c7(_0x86e72a['wrapS'],tt),_0x2300f9['addressV']=_0x2209c7(_0x86e72a['wrapT'],tt));};let l2=0x142e+0xec9+-0x1*0x22f7;const vf=_0xafcb28=>{var _0x2916df,_0x10c1db,_0x3b1c34,_0x3ba90d;return((_0x10c1db=(_0x2916df=_0xafcb28['extensions'])==null?void(-0xd1+0x6bf*0x1+-0xb*0x8a):_0x2916df['KHR_textur'+'e_basisu'])==null?void(0x2691+0x1240+-0x38d1):_0x10c1db['source'])??((_0x3ba90d=(_0x3b1c34=_0xafcb28['extensions'])==null?void(0x184b*0x1+0x1*-0x1f99+0x1*0x74e):_0x3b1c34['EXT_textur'+'e_webp'])==null?void(0x29*0x77+-0xf7a+-0x395):_0x3ba90d['source'])??_0xafcb28['source'];},h2=(_0x1530af,_0x3ba12d,_0x30cbbd,_0x189b3a,_0x985a5e)=>{var _0x13f1f3,_0x5c070d,_0x174f72;if(!_0x1530af['images']||_0x1530af['images']['length']===0x23d9+-0x17c+-0x225d)return[];const _0x1c6563=(_0x13f1f3=_0x985a5e==null?void(-0x3b9+0x1afa+-0x1741):_0x985a5e['image'])==null?void(0x649+0x1aab+-0x20f4):_0x13f1f3['preprocess'],_0x16edb8=(_0x5c070d=_0x985a5e==null?void(0x1126+-0x2b6+-0x54*0x2c):_0x985a5e['image'])==null?void(0xfe4+0x2*0x10bc+-0x315c):_0x5c070d['processAsy'+'nc'],_0x44f612=(_0x174f72=_0x985a5e==null?void(0x1*0x250f+0x24c9+-0x49d8):_0x985a5e['image'])==null?void(0x2582+0x1567*-0x1+0x1*-0x101b):_0x174f72['postproces'+'s'],_0x3a98d4={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x34dc3d=_0x47b8c7=>{const _0x4b3ee1=new Set();return _0x47b8c7['hasOwnProp'+'erty']('materials')&&_0x47b8c7['materials']['forEach'](_0x50a0f1=>{if(_0x50a0f1['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x24a4d5=_0x50a0f1['pbrMetalli'+'cRoughness'];if(_0x24a4d5['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x23cf04=_0x47b8c7['textures'][_0x24a4d5['baseColorT'+'exture']['index']];_0x4b3ee1['add'](vf(_0x23cf04));}}if(_0x50a0f1['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x58d04c=_0x47b8c7['textures'][_0x50a0f1['emissiveTe'+'xture']['index']];_0x4b3ee1['add'](vf(_0x58d04c));}}),_0x4b3ee1;},_0x484f0f=(_0x184ef5,_0x5eebcb,_0x3d8d55,_0x4f03f2,_0x305278,_0x5e3657)=>new Promise((_0x2e1cca,_0x5a0349)=>{const _0xa39dbc=_0x34e347=>{const _0x4bf468=(_0x184ef5['name']||'gltf-textu'+'re')+'-'+l2++,_0x49a45c={'url':_0x5eebcb||_0x4bf468};if(_0x34e347&&(_0x49a45c['contents']=_0x34e347['slice'](0x1c6e+-0x17*-0x7f+-0xd9*0x2f)['buffer']),_0x4f03f2){const _0x5366bd=_0x3a98d4[_0x4f03f2];_0x5366bd&&(_0x49a45c['filename']=_0x49a45c['url']+'.'+_0x5366bd);}const _0x2661cc={'srgb':_0x5e3657},_0x900175=new le(_0x4bf468,'texture',_0x49a45c,_0x2661cc,_0x305278);_0x900175['on']('load',_0x24e617=>_0x2e1cca(_0x24e617)),_0x900175['on']('error',_0x883159=>_0x5a0349(_0x883159)),_0x189b3a['add'](_0x900175),_0x189b3a['load'](_0x900175);};_0x3d8d55?_0x3d8d55['then'](_0x150702=>_0xa39dbc(_0x150702)):_0xa39dbc(null);}),_0x2c26f9=_0x34dc3d(_0x1530af);return _0x1530af['images']['map']((_0xeb9a61,_0x2643f2)=>{_0x1c6563&&_0x1c6563(_0xeb9a61);let _0x30b7c7;return _0x16edb8?_0x30b7c7=new Promise((_0x2c0343,_0x4d9f05)=>{_0x16edb8(_0xeb9a61,(_0x22dda6,_0x14e529)=>{_0x22dda6?_0x4d9f05(_0x22dda6):_0x2c0343(_0x14e529);});}):_0x30b7c7=new Promise(_0x504853=>{_0x504853(null);}),_0x30b7c7=_0x30b7c7['then'](_0x53e40a=>{const _0x37fb50=_0x2c26f9['has'](_0x2643f2);return _0x53e40a||(_0xeb9a61['hasOwnProp'+'erty']('uri')?Rx(_0xeb9a61['uri'])?_0x484f0f(_0xeb9a61,_0xeb9a61['uri'],null,vD(_0xeb9a61['uri']),null,_0x37fb50):_0x484f0f(_0xeb9a61,Da['test'](_0xeb9a61['uri'])?_0xeb9a61['uri']:fe['join'](_0x30cbbd,_0xeb9a61['uri']),null,null,{'crossOrigin':'anonymous'},_0x37fb50):_0xeb9a61['hasOwnProp'+'erty']('bufferView')&&_0xeb9a61['hasOwnProp'+'erty']('mimeType')?_0x484f0f(_0xeb9a61,null,_0x3ba12d[_0xeb9a61['bufferView']],_0xeb9a61['mimeType'],null,_0x37fb50):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x2643f2)));}),_0x44f612&&(_0x30b7c7=_0x30b7c7['then'](_0x719fb8=>(_0x44f612(_0xeb9a61,_0x719fb8),_0x719fb8))),_0x30b7c7;});},c2=(_0x3d871d,_0x434390,_0x40b38d)=>{var _0x70d7ce,_0x31e2bb,_0x293b69,_0x3e4685,_0x13956b;if(!((_0x70d7ce=_0x3d871d==null?void(-0x1802+0xcc3+0x1*0xb3f):_0x3d871d['images'])!=null&&_0x70d7ce['length'])||!((_0x31e2bb=_0x3d871d==null?void(-0xf3a+0xd4*-0x1b+-0x22*-0x11b):_0x3d871d['textures'])!=null&&_0x31e2bb['length']))return[];const _0x2b37ba=(_0x293b69=_0x40b38d==null?void(-0x1a6c+-0x68a+0x20f6):_0x40b38d['texture'])==null?void(-0x1dcb+-0x1147+0x2f12):_0x293b69['preprocess'],_0x1b5d36=(_0x3e4685=_0x40b38d==null?void(-0x241*-0xd+-0xcf7*-0x1+-0x2a44):_0x40b38d['texture'])==null?void(0x56f*-0x5+-0x3*0x405+-0x139d*-0x2):_0x3e4685['processAsy'+'nc'],_0x342b05=(_0x13956b=_0x40b38d==null?void(0x1046*-0x1+0x1b1*-0x13+-0x3069*-0x1):_0x40b38d['texture'])==null?void(-0x1507+-0x385*-0x5+0x36e):_0x13956b['postproces'+'s'],_0x4001d9=new Set();return _0x3d871d['textures']['map'](_0x3a62dd=>{_0x2b37ba&&_0x2b37ba(_0x3a62dd);let _0x1e7a28;return _0x1b5d36?_0x1e7a28=new Promise((_0x5094f4,_0x10126d)=>{_0x1b5d36(_0x3a62dd,_0x3d871d['images'],(_0xc249ca,_0x43e406)=>{_0xc249ca?_0x10126d(_0xc249ca):_0x5094f4(_0x43e406);});}):_0x1e7a28=new Promise(_0x5230fd=>{_0x5230fd(null);}),_0x1e7a28=_0x1e7a28['then'](_0x57b478=>{_0x57b478=_0x57b478??vf(_0x3a62dd);const _0x1eff7a=_0x4001d9['has'](_0x57b478);return _0x4001d9['add'](_0x57b478),_0x434390[_0x57b478]['then'](_0x197603=>{const _0x1497fd=_0x1eff7a?MD(_0x197603):_0x197603;return o2(_0x1497fd['resource'],(_0x3d871d['samplers']??[])[_0x3a62dd['sampler']]),_0x1497fd;});}),_0x342b05&&(_0x1e7a28=_0x1e7a28['then'](_0x4903c9=>(_0x342b05(_0x3a62dd,_0x4903c9),_0x4903c9))),_0x1e7a28;});},d2=(_0x2cef13,_0x50acd3,_0x286ed0,_0x4b39db)=>{var _0x420c12,_0x109c91,_0x6a12f8;if(!_0x2cef13['buffers']||_0x2cef13['buffers']['length']===-0x2271*0x1+0xa40*-0x1+0x2cb1)return[];const _0xdd34bf=(_0x420c12=_0x4b39db==null?void(0x4*0x2dc+-0x1*-0x229d+-0x2e0d):_0x4b39db['buffer'])==null?void(-0x74d+0x1846*-0x1+0x1*0x1f93):_0x420c12['preprocess'],_0x46b350=(_0x109c91=_0x4b39db==null?void(0xfd*0x17+0x181b+-0x2ed6):_0x4b39db['buffer'])==null?void(0xbf6+0x1e55*0x1+0xe19*-0x3):_0x109c91['processAsy'+'nc'],_0x5ce2c1=(_0x6a12f8=_0x4b39db==null?void(0x2095+0x164e+0x36e3*-0x1):_0x4b39db['buffer'])==null?void(-0x1e26+0x49*0x6f+-0xb*0x23):_0x6a12f8['postproces'+'s'];return _0x2cef13['buffers']['map']((_0x1162fa,_0x43924a)=>{_0xdd34bf&&_0xdd34bf(_0x1162fa);let _0x126e67;return _0x46b350?_0x126e67=new Promise((_0x4320b3,_0x46f2ac)=>{_0x46b350(_0x1162fa,(_0xfd47aa,_0x2d9c92)=>{_0xfd47aa?_0x46f2ac(_0xfd47aa):_0x4320b3(_0x2d9c92);});}):_0x126e67=new Promise(_0x287e9e=>{_0x287e9e(null);}),_0x126e67=_0x126e67['then'](_0x414e97=>{if(_0x414e97)return _0x414e97;if(_0x1162fa['hasOwnProp'+'erty']('uri')){if(Rx(_0x1162fa['uri'])){const _0x50d23e=atob(_0x1162fa['uri']['split'](',')[0x24ad+0x23*-0x7a+-0x1*0x13fe]),_0xfb2e4d=new Uint8Array(_0x50d23e['length']);for(let _0x2f4dae=0xdbe+-0x13ed*-0x1+0x3*-0xb39;_0x2f4dae<_0x50d23e['length'];_0x2f4dae++)_0xfb2e4d[_0x2f4dae]=_0x50d23e['charCodeAt'](_0x2f4dae);return _0xfb2e4d;}return new Promise((_0x2b5b5f,_0x545127)=>{$e['get'](Da['test'](_0x1162fa['uri'])?_0x1162fa['uri']:fe['join'](_0x286ed0,_0x1162fa['uri']),{'cache':!(0x184b+-0x1389+-0x4c2),'responseType':'arraybuffe'+'r','retry':!(0x4d*-0x47+-0x281*-0xf+-0x1033*0x1)},(_0x557763,_0x123af2)=>{_0x557763?_0x545127(_0x557763):_0x2b5b5f(new Uint8Array(_0x123af2));});});}return _0x50acd3;}),_0x5ce2c1&&(_0x126e67=_0x126e67['then'](_0x3145ee=>(_0x5ce2c1(_0x2cef13['buffers'][_0x43924a],_0x3145ee),_0x3145ee))),_0x126e67;});},u2=(_0x3d841c,_0x24143f)=>{const _0x597161=JSON['parse']((_0x5b2229=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x5b2229);let _0x46900b='';for(let _0x3e13a1=0xb49+-0x14b*-0x13+-0x23da;_0x3e13a1<_0x5b2229['length'];_0x3e13a1++)_0x46900b+=String['fromCharCo'+'de'](_0x5b2229[_0x3e13a1]);return decodeURIComponent(escape(_0x46900b));})(_0x3d841c));if(_0x597161['asset']&&_0x597161['asset']['version']&&parseFloat(_0x597161['asset']['version'])<0x22d1+-0x1937+-0x998){_0x24143f('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x597161['asset']['version']+'\x27.');return;}_0x24143f(null,_0x597161);},f2=(_0x2284cb,_0x489d67)=>{const _0x2f47ff=_0x2284cb instanceof ArrayBuffer?new DataView(_0x2284cb):new DataView(_0x2284cb['buffer'],_0x2284cb['byteOffset'],_0x2284cb['byteLength']),_0x3e5d8b=_0x2f47ff['getUint32'](-0x7bd+0x10d9+-0xb*0xd4,!(0x735+-0x771+0x1e*0x2)),_0x2f3c61=_0x2f47ff['getUint32'](-0x11*-0x1e4+0x1715+-0x3735*0x1,!(0xe5e*-0x1+0x287*-0xd+0x2f39)),_0x219e0a=_0x2f47ff['getUint32'](-0x1819+-0x43b+0x2c*0xa5,!(0x920+-0x15e9+0xcc9));if(_0x3e5d8b!==0x3c6bc8f+-0x368adec3+0x79188e9b){_0x489d67('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x3e5d8b['toString'](0x11*-0x1+-0x107f+0x26*0x70));return;}if(_0x2f3c61!==0x50a+0x19fe+-0x1f06){_0x489d67('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x2f3c61);return;}if(_0x219e0a<=-0xfd5*-0x1+-0x5*0x789+0x15d8||_0x219e0a>_0x2f47ff['byteLength']){_0x489d67('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x219e0a);return;}const _0x1abeab=[];let _0x2ac7e7=0x1*-0x133f+0x1818+-0x4cd;for(;_0x2ac7e7<_0x219e0a;){const _0x3a1c93=_0x2f47ff['getUint32'](_0x2ac7e7,!(-0x26fa+0xce2+0x1a18));_0x2ac7e7+_0x3a1c93+(0x1*-0x199c+0x1*0x1bbf+-0xb*0x31)>_0x2f47ff['byteLength']&&_0x489d67('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x3a1c93);const _0x2bb10e=_0x2f47ff['getUint32'](_0x2ac7e7+(-0x1f7*0x5+-0x3*0x50d+0x18fe),!(-0x6a1+-0x16cb+0x1d6c)),_0x1aff41=new Uint8Array(_0x2f47ff['buffer'],_0x2f47ff['byteOffset']+_0x2ac7e7+(-0x1*0x57a+0x1126+-0xba4),_0x3a1c93);_0x1abeab['push']({'length':_0x3a1c93,'type':_0x2bb10e,'data':_0x1aff41}),_0x2ac7e7+=_0x3a1c93+(0xadb+0xc*-0xef+0x61);}if(_0x1abeab['length']!==-0x1*0x1bb0+-0x505+0x20b6&&_0x1abeab['length']!==0x4a+0xb9*-0x2f+0x21af){_0x489d67('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x1abeab[0x3d*0x95+0xaac*-0x2+-0xe29]['type']!==-0x1f4e1*0x3551+0x1*0x51c91284+0x219d1afd*0x3){_0x489d67('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x1abeab[0xcb*0x12+0x1*-0x7c9+-0x97*0xb]['type']['toString'](-0x1*0x2263+-0xbc5+-0xf68*-0x3));return;}if(_0x1abeab['length']>0x229f*0x1+0x173f+-0x39dd&&_0x1abeab[-0x49*0x12+0x33*-0x65+-0x1942*-0x1]['type']!==-0xf8ff1+-0x1*0x5388bd+-0xb161f0*-0x1){_0x489d67('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x1abeab[-0x1*0x7a6+0xa5d*-0x2+0x1c61*0x1]['type']['toString'](-0x492+-0x2*-0x341+-0xa*0x30));return;}_0x489d67(null,{'gltfChunk':_0x1abeab[0x2*0x481+-0x2f3*-0x5+-0x7eb*0x3]['data'],'binaryChunk':_0x1abeab['length']===0x3*-0x3c7+0x1d47+0x7*-0x290?_0x1abeab[0x653*0x5+-0x26cb+0x72d]['data']:null});},p2=(_0x33b83e,_0x35cdcd,_0x249958)=>{const _0x3eda1e=()=>{const _0x1b242a=new Uint8Array(_0x35cdcd);return _0x1b242a[0x1ca7*0x1+-0xee7+-0xb*0x140]===-0xd*0x2fb+-0x1017*0x2+0x4754&&_0x1b242a[0x1203*0x2+-0x1f35+-0x4d0]===-0x1034+-0xf59+0x1ff9&&_0x1b242a[0x20a2+-0x1*0x419+-0x1c87]===-0x3e6+-0x4*0x3e6+0x3b*0x56&&_0x1b242a[0x9*-0x5b+0x1*-0x910+0x1*0xc46]===0x1870+-0x41*-0x7b+-0x3765;};_0x33b83e&&_0x33b83e['toLowerCas'+'e']()['endsWith']('.glb')||_0x3eda1e()?f2(_0x35cdcd,_0x249958):_0x249958(null,{'gltfChunk':_0x35cdcd,'binaryChunk':null});},m2=(_0x4057cd,_0x27295b,_0x36617e)=>{var _0x15ff1a,_0x3bd159,_0x47b3c9,_0x27713a;const _0x4d2f13=[],_0x2a824f=(_0x15ff1a=_0x36617e==null?void(0x5d5+0x207*0x9+-0x1814):_0x36617e['bufferView'])==null?void(0x89b+-0x138+-0x1f*0x3d):_0x15ff1a['preprocess'],_0x1967c6=(_0x3bd159=_0x36617e==null?void(-0xf6e+-0x1*0xb8d+-0x1afb*-0x1):_0x36617e['bufferView'])==null?void(-0x9cd+0x8d*-0x24+-0x1*-0x1da1):_0x3bd159['processAsy'+'nc'],_0x3d836a=(_0x47b3c9=_0x36617e==null?void(-0x6*0x3d5+-0x1c91+0x338f):_0x36617e['bufferView'])==null?void(-0x1*0x679+-0x1abd+0x2136):_0x47b3c9['postproces'+'s'];if(!((_0x27713a=_0x4057cd['bufferView'+'s'])!=null&&_0x27713a['length']))return _0x4d2f13;for(let _0x56f325=0x4b9+-0x3*-0x45d+0x11d0*-0x1;_0x56f325<_0x4057cd['bufferView'+'s']['length'];++_0x56f325){const _0x2edcbf=_0x4057cd['bufferView'+'s'][_0x56f325];_0x2a824f&&_0x2a824f(_0x2edcbf);let _0x256b5d;_0x1967c6?_0x256b5d=new Promise((_0x20bde1,_0x595ebf)=>{_0x1967c6(_0x2edcbf,_0x27295b,(_0x531edc,_0x554836)=>{_0x531edc?_0x595ebf(_0x531edc):_0x20bde1(_0x554836);});}):_0x256b5d=new Promise(_0x3d6f8d=>{_0x3d6f8d(null);}),_0x256b5d=_0x256b5d['then'](_0x284477=>_0x284477||_0x27295b[_0x2edcbf['buffer']]['then'](_0xf43394=>new Uint8Array(_0xf43394['buffer'],_0xf43394['byteOffset']+(_0x2edcbf['byteOffset']||0x2ea*0x5+0x19fa+0x3*-0xd84),_0x2edcbf['byteLength']))),_0x2edcbf['hasOwnProp'+'erty']('byteStride')&&(_0x256b5d=_0x256b5d['then'](_0x2328f8=>(_0x2328f8['byteStride']=_0x2edcbf['byteStride'],_0x2328f8))),_0x3d836a&&(_0x256b5d=_0x256b5d['then'](_0x546f0e=>(_0x3d836a(_0x2edcbf,_0x546f0e),_0x546f0e))),_0x4d2f13['push'](_0x256b5d);}return _0x4d2f13;};class tc{static['parse'](_0x11df62,_0x377fd0,_0x3fc960,_0x7a14a5,_0x11ec79,_0x57ff6b,_0x44fab0){p2(_0x11df62,_0x3fc960,(_0x47e7e6,_0x1e5d02)=>{if(_0x47e7e6){_0x44fab0(_0x47e7e6);return;}u2(_0x1e5d02['gltfChunk'],(_0x5791ae,_0x33ab13)=>{if(_0x5791ae){_0x44fab0(_0x5791ae);return;}const _0x2e3eae=d2(_0x33ab13,_0x1e5d02['binaryChun'+'k'],_0x377fd0,_0x57ff6b),_0x4d4f93=m2(_0x33ab13,_0x2e3eae,_0x57ff6b),_0x42d2c3=h2(_0x33ab13,_0x4d4f93,_0x377fd0,_0x11ec79,_0x57ff6b),_0x5b9f38=c2(_0x33ab13,_0x42d2c3,_0x57ff6b);a2(_0x7a14a5,_0x33ab13,_0x4d4f93,_0x5b9f38,_0x57ff6b)['then'](_0x3d49e4=>_0x44fab0(null,_0x3d49e4))['catch'](_0x50b2da=>_0x44fab0(_0x50b2da));});});}static['createDefa'+'ultMateria'+'l'](){return Dx({'name':'defaultGlb'+'Material'},[]);}}class _2 extends Ne{constructor(_0x551c86){super(_0x551c86,'animation'),this['device']=_0x551c86['graphicsDe'+'vice'],this['assets']=_0x551c86['assets'];}['load'](_0x177f06,_0x436ec9,_0x91b3e2){typeof _0x177f06=='string'&&(_0x177f06={'load':_0x177f06,'original':_0x177f06});const _0x59f749={'retry':this['maxRetries']>0x494+-0x2134+0x1ca0,'maxRetries':this['maxRetries']};(_0x177f06['load']['startsWith']('blob:')||_0x177f06['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0x177f06['original'])['toLowerCas'+'e']()==='.glb'?_0x59f749['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x59f749['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x177f06['load'],_0x59f749,(_0xc9cffd,_0x448672)=>{_0xc9cffd?_0x436ec9('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x177f06['original']+'\x20['+_0xc9cffd+']'):fe['getExtensi'+'on'](_0x177f06['original'])['toLowerCas'+'e']()==='.glb'?tc['parse']('filename.g'+'lb','',_0x448672,this['device'],this['assets'],(_0x91b3e2==null?void(-0x19*-0x177+-0x1*0x9bf+-0x1ae0):_0x91b3e2['options'])??{},(_0x3d2da6,_0x53564b)=>{var _0x5e2a62;if(_0x3d2da6)_0x436ec9(_0x3d2da6);else{const _0x5b34f2=_0x53564b['animations'];if((_0x5e2a62=_0x91b3e2==null?void(0xbf9+-0x15e9+-0x35*-0x30):_0x91b3e2['data'])!=null&&_0x5e2a62['events']){for(let _0x4d1c40=-0xd5e+-0x1bbc+0x291a;_0x4d1c40<_0x5b34f2['length'];_0x4d1c40++)_0x5b34f2[_0x4d1c40]['events']=new Y0(Object['values'](_0x91b3e2['data']['events']));}_0x53564b['destroy'](),_0x436ec9(null,_0x5b34f2);}}):_0x436ec9(null,this['_parseAnim'+'ationV'+_0x448672['animation']['version']](_0x448672));});}['open'](_0x403c91,_0x2df3ab,_0x3a00d2){return _0x2df3ab;}['_parseAnim'+'ationV3'](_0x29d585){const _0x2f1ca3=_0x29d585['animation'],_0x4f70c9=new k_();_0x4f70c9['name']=_0x2f1ca3['name'],_0x4f70c9['duration']=_0x2f1ca3['duration'];for(let _0x3224af=-0x146f+0x1c7b+-0x80c;_0x3224af<_0x2f1ca3['nodes']['length'];_0x3224af++){const _0xe38ee0=new O_(),_0x451d25=_0x2f1ca3['nodes'][_0x3224af];_0xe38ee0['_name']=_0x451d25['name'];for(let _0x4484ca=-0x277*0x5+0x1063*-0x1+0x1cb6;_0x4484ca<_0x451d25['keys']['length'];_0x4484ca++){const _0x5ab318=_0x451d25['keys'][_0x4484ca],_0x2923e7=_0x5ab318['time'],_0x2261fd=_0x5ab318['pos'],_0x2d8559=_0x5ab318['rot'],_0x1758d1=_0x5ab318['scale'],_0xd0f9ec=new T(_0x2261fd[0x1*0xb0f+0x14*0x99+-0x1703],_0x2261fd[0x1*0x1b2d+0xef*0x1d+-0x363f],_0x2261fd[0x21aa+-0x14*-0x15+-0x5e2*0x6]),_0xb823e5=new se()['setFromEul'+'erAngles'](_0x2d8559[-0x1ae9+0x13da+0x70f],_0x2d8559[-0x26a0+-0xcf0+-0x1*-0x3391],_0x2d8559[0x36f*0x8+0x7da+-0x2350]),_0x1fe70a=new T(_0x1758d1[0x1d*-0x12d+-0x1*-0x164c+0xbcd],_0x1758d1[0xc5b*-0x1+0xdc+0x4*0x2e0],_0x1758d1[-0x2347+0x728+0x1c21]),_0x9c1434=new F_(_0x2923e7,_0xd0f9ec,_0xb823e5,_0x1fe70a);_0xe38ee0['_keys']['push'](_0x9c1434);}_0x4f70c9['addNode'](_0xe38ee0);}return _0x4f70c9;}['_parseAnim'+'ationV4'](_0x2f7653){const _0x44033c=_0x2f7653['animation'],_0x3930c3=new k_();_0x3930c3['name']=_0x44033c['name'],_0x3930c3['duration']=_0x44033c['duration'];for(let _0x11f700=0x49a*0x2+0x1b7f+0x24b3*-0x1;_0x11f700<_0x44033c['nodes']['length'];_0x11f700++){const _0x239ce9=new O_(),_0x263c82=_0x44033c['nodes'][_0x11f700];_0x239ce9['_name']=_0x263c82['name'];const _0x2b3b22=_0x263c82['defaults']['p'],_0x525159=_0x263c82['defaults']['r'],_0x42462c=_0x263c82['defaults']['s'];for(let _0x1c83ef=-0x11*-0x16+-0x11fa+-0x1c*-0x97;_0x1c83ef<_0x263c82['keys']['length'];_0x1c83ef++){const _0xaa8892=_0x263c82['keys'][_0x1c83ef],_0x463436=_0xaa8892['t'],_0x66e26=_0x2b3b22||_0xaa8892['p'],_0x1c185a=_0x525159||_0xaa8892['r'],_0x2f5f5a=_0x42462c||_0xaa8892['s'],_0x4b75a4=new T(_0x66e26[-0x1f*-0x49+-0x1c45+0x136e],_0x66e26[0x8*0x419+-0x3b8*0x7+-0x6bf],_0x66e26[0xd*-0x2a0+-0x1025+0x3247]),_0x349611=new se()['setFromEul'+'erAngles'](_0x1c185a[-0x17c5*0x1+0x2f*-0x1+0x17f4],_0x1c185a[-0x24ca+-0x1*-0x1f84+-0x7*-0xc1],_0x1c185a[-0x4*0xe+-0x1401+0x1*0x143b]),_0x10d8f9=new T(_0x2f5f5a[-0xe8a+0x13*0xf1+0x1*-0x359],_0x2f5f5a[0x1*-0x6fb+0x2*-0x8aa+0x1850],_0x2f5f5a[-0x11c3*0x2+0x15*-0x162+-0x39*-0x122]),_0x285453=new F_(_0x463436,_0x4b75a4,_0x349611,_0x10d8f9);_0x239ce9['_keys']['push'](_0x285453);}_0x3930c3['addNode'](_0x239ce9);}return _0x3930c3;}}class g2 extends Ne{constructor(_0x3303c1){super(_0x3303c1,'animclip');}['load'](_0x3ae622,_0x3e6abb){typeof _0x3ae622=='string'&&(_0x3ae622={'load':_0x3ae622,'original':_0x3ae622});const _0xc1c853={'retry':this['maxRetries']>0x1e9e+0x4cf+-0x236d,'maxRetries':this['maxRetries']};_0x3ae622['load']['startsWith']('blob:')&&(_0xc1c853['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x3ae622['load'],_0xc1c853,(_0x46b1ef,_0x2705c3)=>{_0x46b1ef?_0x3e6abb('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x3ae622['original']+'\x20['+_0x46b1ef+']'):_0x3e6abb(null,_0x2705c3);});}['open'](_0x550b78,_0x461a25){const _0x370574=_0x461a25['name'],_0x5ce09c=_0x461a25['duration'],_0x53f637=_0x461a25['inputs']['map'](_0x1589bd=>new Jh(-0x3*-0xceb+0x1b*-0x15c+-0x20c,_0x1589bd)),_0x843447=_0x461a25['outputs']['map'](_0xcc8848=>new Jh(_0xcc8848['components'],_0xcc8848['data'])),_0x3231c6=_0x461a25['curves']['map'](_0x41b0da=>new Px([_0x41b0da['path']],_0x41b0da['inputIndex'],_0x41b0da['outputInde'+'x'],_0x41b0da['interpolat'+'ion']));return new Ri(_0x370574,_0x5ce09c,_0x53f637,_0x843447,_0x3231c6);}}class y2 extends Ne{constructor(_0x204bdc){super(_0x204bdc,'animstateg'+'raph');}['load'](_0x56c3a6,_0x33b2a8){typeof _0x56c3a6=='string'&&(_0x56c3a6={'load':_0x56c3a6,'original':_0x56c3a6});const _0x2c072e={'retry':this['maxRetries']>0x22*0x10d+-0x6eb+-0x1ccf,'maxRetries':this['maxRetries']};_0x56c3a6['load']['startsWith']('blob:')&&(_0x2c072e['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x56c3a6['load'],_0x2c072e,(_0x3a1658,_0x258bc8)=>{_0x3a1658?_0x33b2a8('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x56c3a6['original']+'\x20['+_0x3a1658+']'):_0x33b2a8(null,_0x258bc8);});}['open'](_0x21bd80,_0x358046){return new mh(_0x358046);}}const Qd=(function(){if(typeof window>'u')return!(-0x14e2+0x234f+-0x736*0x2);const _0x4d3824=window['navigator']['userAgent'],_0x478958=_0x4d3824['indexOf']('MSIE\x20');if(_0x478958>0xc13*0x2+-0x5*-0xd1+-0x1c3b)return parseInt(_0x4d3824['substring'](_0x478958+(0x125e+-0x1*-0x2225+0x1*-0x347e),_0x4d3824['indexOf']('.',_0x478958)),-0x328+-0x72*-0xe+0x185*-0x2);if(_0x4d3824['indexOf']('Trident/')>0x1d5f+-0x95d+0x1a*-0xc5){const _0x8972b9=_0x4d3824['indexOf']('rv:');return parseInt(_0x4d3824['substring'](_0x8972b9+(0x1e2f+0x11ed+-0x3019),_0x4d3824['indexOf']('.',_0x8972b9)),0xe35+0x2651+-0x347c);}return!(-0x65b+-0x162f+0x1c8b);}()),x2=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class S2 extends Ne{constructor(_0x42bc3b){super(_0x42bc3b,'audio'),this['manager']=_0x42bc3b['soundManag'+'er'],v['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x3bdec6){const _0x49bd19=fe['getExtensi'+'on'](_0x3bdec6);return x2['indexOf'](_0x49bd19)>-(0x339*0xc+0xb83+0x322e*-0x1)||_0x3bdec6['startsWith']('blob:');}['load'](_0x503d1b,_0x532a67){typeof _0x503d1b=='string'&&(_0x503d1b={'load':_0x503d1b,'original':_0x503d1b});const _0x5f3144=function(_0x4be9dc){_0x532a67(null,new Bb(_0x4be9dc));},_0x36435c=function(_0x54383b){let _0x232491='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x503d1b['original'];_0x54383b&&(_0x232491+=':\x20'+(_0x54383b['message']||_0x54383b)),console['warn'](_0x232491),_0x532a67(_0x232491);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x503d1b['original'])){_0x36435c('Audio\x20form'+'at\x20for\x20'+_0x503d1b['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x503d1b['load'],_0x5f3144,_0x36435c);}else _0x36435c(null);}['_createSou'+'nd'](_0x9d0886,_0x441b4e,_0x63c46d){if(Li()){const _0x41dc2c=this['manager'];if(!_0x41dc2c['context']){_0x63c46d('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0xb0e1={'retry':this['maxRetries']>0x26db+-0xcf4*-0x2+-0x3b*0x119,'maxRetries':this['maxRetries']};(_0x9d0886['startsWith']('blob:')||_0x9d0886['startsWith']('data:'))&&(_0xb0e1['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),$e['get'](_0x9d0886,_0xb0e1,(_0x574c31,_0x1ac793)=>{if(_0x574c31){_0x63c46d(_0x574c31);return;}_0x41dc2c['context']['decodeAudi'+'oData'](_0x1ac793,_0x441b4e,_0x63c46d);});}else{let _0xc5eb6e=null;try{_0xc5eb6e=new Audio();}catch{_0x63c46d('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Qd&&document['body']['appendChil'+'d'](_0xc5eb6e);const _0x439c27=function(){_0xc5eb6e['removeEven'+'tListener']('canplaythr'+'ough',_0x439c27),Qd&&document['body']['removeChil'+'d'](_0xc5eb6e),_0x441b4e(_0xc5eb6e);};_0xc5eb6e['onerror']=function(){_0xc5eb6e['onerror']=null,Qd&&document['body']['removeChil'+'d'](_0xc5eb6e),_0x63c46d();},_0xc5eb6e['addEventLi'+'stener']('canplaythr'+'ough',_0x439c27),_0xc5eb6e['src']=_0x9d0886;}}}class v2 extends Ne{constructor(_0x2430ea){super(_0x2430ea,'binary');}['load'](_0x117c35,_0x2eb235){typeof _0x117c35=='string'&&(_0x117c35={'load':_0x117c35,'original':_0x117c35}),$e['get'](_0x117c35['load'],{'responseType':ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>0x37a*0x6+0x1*0xe0f+0x7*-0x4fd,'maxRetries':this['maxRetries']},(_0x3b4c95,_0x145f92)=>{_0x3b4c95?_0x2eb235('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x117c35['original']+'\x20['+_0x3b4c95+']'):_0x2eb235(null,_0x145f92);});}['openBinary'](_0x4408db){return _0x4408db['buffer'];}}class tr{constructor(_0x4759b5,_0x2e5a34,_0x5028df,_0x3c4f1c){const _0x388403=function(_0x49f250,_0xce9ee7,_0x4858cd){const _0x5ee43e=tr['createAsse'+'t'](_0x2e5a34['name'],_0x49f250,_0xce9ee7,_0x4858cd);return _0x5028df['add'](_0x5ee43e),_0x5ee43e;},_0x25ac7b=[];for(let _0x598739=0x3*0x10+0xd*0x2d7+-0x251b;_0x598739<_0x4759b5['renders']['length'];++_0x598739)_0x25ac7b['push'](_0x388403('render',_0x4759b5['renders'][_0x598739],_0x598739));const _0x246225=[];for(let _0x5dcc8e=0x26cc+0x950+0x301c*-0x1;_0x5dcc8e<_0x4759b5['materials']['length'];++_0x5dcc8e)_0x246225['push'](_0x388403('material',_0x4759b5['materials'][_0x5dcc8e],_0x5dcc8e));const _0x3cd800=[];for(let _0x195c25=0xeda*0x2+0x92d+-0x26e1*0x1;_0x195c25<_0x4759b5['animations']['length'];++_0x195c25)_0x3cd800['push'](_0x388403('animation',_0x4759b5['animations'][_0x195c25],_0x195c25));this['data']=_0x4759b5,this['_model']=null,this['_assetName']=_0x2e5a34['name'],this['_assets']=_0x5028df,this['_defaultMa'+'terial']=_0x3c4f1c,this['renders']=_0x25ac7b,this['materials']=_0x246225,this['textures']=_0x4759b5['textures'],this['animations']=_0x3cd800;}get['model'](){if(!this['_model']){const _0x5b13d6=tr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x28ecf9=tr['createAsse'+'t'](this['_assetName'],'model',_0x5b13d6,-0x5*0x644+-0x2021+0x3f75*0x1);this['_assets']['add'](_0x28ecf9),this['_model']=_0x28ecf9;}return this['_model'];}static['createAsse'+'t'](_0x190d38,_0x57a160,_0x3d491a,_0x2da8c9){const _0x14b9ef=new le(_0x190d38+'/'+_0x57a160+'/'+_0x2da8c9,_0x57a160,{'url':''});return _0x14b9ef['resource']=_0x3d491a,_0x14b9ef['loaded']=!(0x2475+0x5*0x4f0+-0x3d25),_0x14b9ef;}['instantiat'+'eModelEnti'+'ty'](_0xd5374b){const _0x1b2a2b=new We();return _0x1b2a2b['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0xd5374b)),_0x1b2a2b;}['instantiat'+'eRenderEnt'+'ity'](_0x43cbb3){const _0x3ff909=this['_defaultMa'+'terial'],_0x45593f=[],_0x41f8ef=function(_0x4e226e,_0x102a8c,_0x111c6e,_0x4da8eb,_0x44943d,_0x557f70,_0x102331,_0x8e3716){const _0x35134d=_0x44943d[_0x111c6e['id']],_0x32816d=_0x35134d===void(-0x1ec+-0x1a42+0x1c2e)?_0x3ff909:_0x4da8eb[_0x35134d],_0x4228d8=new Le(_0x111c6e,_0x32816d);_0x111c6e['morph']&&(_0x4228d8['morphInsta'+'nce']=new fn(_0x111c6e['morph'])),_0x102331['hasOwnProp'+'erty']('skin')&&_0x45593f['push']({'meshInstance':_0x4228d8,'rootBone':_0x4e226e,'entity':_0x102a8c});const _0x54b434=_0x8e3716['get'](_0x102331);if(_0x54b434){const _0x4f1ac5=_0x54b434['matrices'],_0x71cd42=Et['getDefault'+'Instancing'+'Format'](_0x111c6e['device']),_0x330646=new os(_0x111c6e['device'],_0x71cd42,_0x4f1ac5['length']/(-0x629+0x238e+-0x1d55),{'data':_0x4f1ac5});_0x4228d8['setInstanc'+'ing'](_0x330646),_0x4228d8['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(0x2552+0x5*-0x312+-0x15f8);}return _0x4228d8;},_0x51bb18=(_0x5528b0,_0x499515,_0x5573a1)=>{const _0x3e70cd=new We();_0x499515['_cloneInte'+'rnal'](_0x3e70cd),_0x5528b0||(_0x5528b0=_0x3e70cd);let _0x344404=null,_0xc2e6b0=null;for(let _0x3047e1=-0x1*-0xe6b+0x25e4+-0x1*0x344f;_0x3047e1<_0x5573a1['nodes']['length'];_0x3047e1++)if(_0x5573a1['nodes'][_0x3047e1]===_0x499515){const _0x5298d8=_0x5573a1['gltf']['nodes'][_0x3047e1];if(_0x5298d8['hasOwnProp'+'erty']('mesh')){const _0x32c34d=_0x5573a1['renders'][_0x5298d8['mesh']]['meshes'];_0xc2e6b0=this['renders'][_0x5298d8['mesh']];for(let _0x5ae999=0x1a4b+0x2022+0x1*-0x3a6d;_0x5ae999<_0x32c34d['length'];_0x5ae999++){const _0x4da267=_0x32c34d[_0x5ae999];if(_0x4da267){const _0x3ee38d=_0x41f8ef(_0x5528b0,_0x3e70cd,_0x4da267,_0x5573a1['materials'],_0x5573a1['meshDefaul'+'tMaterials'],_0x5573a1['skins'],_0x5298d8,_0x5573a1['nodeInstan'+'cingMap']);_0x344404||(_0x344404=[]),_0x344404['push'](_0x3ee38d);}}}if(_0x5573a1['lights']){const _0x5479ea=_0x5573a1['lights']['get'](_0x5298d8);_0x5479ea&&_0x3e70cd['addChild'](_0x5479ea['clone']());}if(_0x5573a1['cameras']){const _0xee49e6=_0x5573a1['cameras']['get'](_0x5298d8);_0xee49e6&&_0xee49e6['camera']['system']['cloneCompo'+'nent'](_0xee49e6,_0x3e70cd);}}_0x344404&&(_0x3e70cd['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x344404},_0x43cbb3)),_0x3e70cd['render']['assignAsse'+'t'](_0xc2e6b0));const _0x1864cd=_0x499515['children'];for(let _0x243d30=0x38a*0x4+-0x5*-0x3ec+-0x21c4;_0x243d30<_0x1864cd['length'];_0x243d30++){const _0x4250d6=_0x51bb18(_0x5528b0,_0x1864cd[_0x243d30],_0x5573a1);_0x3e70cd['addChild'](_0x4250d6);}return _0x3e70cd;},_0x3bbf2c=[];for(const _0x337961 of this['data']['scenes'])_0x3bbf2c['push'](_0x51bb18(null,_0x337961,this['data']));return _0x45593f['forEach'](_0x4b0104=>{_0x4b0104['meshInstan'+'ce']['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x4b0104['meshInstan'+'ce']['mesh']['skin'],_0x4b0104['rootBone'],_0x4b0104['entity']),_0x4b0104['meshInstan'+'ce']['node']['render']['rootBone']=_0x4b0104['rootBone'];}),tr['createScen'+'eHierarchy'](_0x3bbf2c,We);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x457e94,_0x5f2a61){const _0x1653c5=_0x5f2a61?this['data']['variants'][_0x5f2a61]:null;if(_0x1653c5===void(-0x17*-0xfe+0x12c6+0x16*-0x1e4)){v['warn']('No\x20variant'+'\x20named\x20'+_0x5f2a61+('\x20exists\x20in'+'\x20resource'));return;}const _0x192636=_0x457e94['findCompon'+'ents']('render');for(let _0x43143b=-0x1bf2+-0x4*-0x2ff+0xff6;_0x43143b<_0x192636['length'];_0x43143b++){const _0x3c9205=_0x192636[_0x43143b];this['_applyMate'+'rialVarian'+'t'](_0x1653c5,_0x3c9205['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x33ca76,_0x1fa129){const _0x6fe562=_0x1fa129?this['data']['variants'][_0x1fa129]:null;if(_0x6fe562===void(-0x16ac+-0x102b*0x1+0x26d7)){v['warn']('No\x20variant'+'\x20named\x20'+_0x1fa129+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x6fe562,_0x33ca76);}['_applyMate'+'rialVarian'+'t'](_0x1b3c94,_0x10c5d8){_0x10c5d8['forEach'](_0x14280d=>{if(_0x1b3c94===null)_0x14280d['material']=this['_defaultMa'+'terial'];else{const _0x5a22b1=this['data']['meshVarian'+'ts'][_0x14280d['mesh']['id']];_0x5a22b1&&(_0x14280d['material']=this['data']['materials'][_0x5a22b1[_0x1b3c94]]);}v['assert'](_0x14280d['material']);});}static['createScen'+'eHierarchy'](_0x36ec59,_0x81250f){let _0x3a8296=null;if(_0x36ec59['length']===-0x1e9c+0xffd+0xea0)_0x3a8296=_0x36ec59[0x150+-0x1f6f+-0x1*-0x1e1f];else{_0x3a8296=new _0x81250f('SceneGroup');for(const _0x77261 of _0x36ec59)_0x3a8296['addChild'](_0x77261);}return _0x3a8296;}static['createMode'+'l'](_0x175782,_0x443b4a){const _0x8dab54=function(_0x46aaef,_0x3207bb,_0x4aec23,_0x44b259,_0x23b09f,_0x49046b,_0x5c9d9a){const _0x4d33cd=_0x175782['meshDefaul'+'tMaterials'][_0x3207bb['id']],_0x518fa6=_0x4d33cd===void(-0x1c65+0xc35+0x7*0x250)?_0x443b4a:_0x23b09f[_0x4d33cd],_0x2d191d=new Le(_0x3207bb,_0x518fa6,_0x49046b);if(_0x3207bb['morph']){const _0x4e6722=new fn(_0x3207bb['morph']);_0x2d191d['morphInsta'+'nce']=_0x4e6722,_0x46aaef['morphInsta'+'nces']['push'](_0x4e6722);}if(_0x5c9d9a['hasOwnProp'+'erty']('skin')){const _0x1e6b0b=_0x5c9d9a['skin'],_0x2697f1=_0x4aec23[_0x1e6b0b];_0x3207bb['skin']=_0x2697f1;const _0x3852ef=_0x44b259[_0x1e6b0b];_0x2d191d['skinInstan'+'ce']=_0x3852ef,_0x46aaef['skinInstan'+'ces']['push'](_0x3852ef);}_0x46aaef['meshInstan'+'ces']['push'](_0x2d191d);},_0x4cd30c=new Oi(),_0x55dba0=[];for(const _0x4963eb of _0x175782['skins']){const _0x8c7e7c=new nl(_0x4963eb);_0x8c7e7c['bones']=_0x4963eb['bones'],_0x55dba0['push'](_0x8c7e7c);}_0x4cd30c['graph']=tr['createScen'+'eHierarchy'](_0x175782['scenes'],De);for(let _0x41d2f9=0xba*0xd+0x1827+-0x2199;_0x41d2f9<_0x175782['nodes']['length'];_0x41d2f9++){const _0x1bb872=_0x175782['nodes'][_0x41d2f9];if(_0x1bb872['root']===_0x4cd30c['graph']){const _0x1b773e=_0x175782['gltf']['nodes'][_0x41d2f9];if(_0x1b773e['hasOwnProp'+'erty']('mesh')){const _0x11939f=_0x175782['renders'][_0x1b773e['mesh']]['meshes'];for(let _0x1b8d00=-0x301*-0xc+-0xc7*0x1e+-0xcba;_0x1b8d00<_0x11939f['length'];_0x1b8d00++){const _0x13cced=_0x11939f[_0x1b8d00];_0x13cced&&_0x8dab54(_0x4cd30c,_0x13cced,_0x175782['skins'],_0x55dba0,_0x175782['materials'],_0x1bb872,_0x1b773e);}}}}return _0x4cd30c;}['destroy'](){const _0xf6b341=this['_assets'],_0x1618dd=function(_0x14771d){_0xf6b341['remove'](_0x14771d),_0x14771d['unload']();},_0x47ce92=function(_0xf12bef){_0xf12bef['forEach'](_0x5193bc=>{_0x1618dd(_0x5193bc);});};this['animations']&&(_0x47ce92(this['animations']),this['animations']=null),this['textures']&&(_0x47ce92(this['textures']),this['textures']=null),this['materials']&&(_0x47ce92(this['materials']),this['materials']=null),this['renders']&&(_0x47ce92(this['renders']),this['renders']=null),this['_model']&&(_0x1618dd(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class b2{constructor(_0x234f69,_0x406715,_0x3de4c3){this['_device']=_0x234f69,this['_assets']=_0x406715,this['_defaultMa'+'terial']=tc['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x3de4c3;}['_getUrlWit'+'houtParams'](_0x440897){return _0x440897['indexOf']('?')>=-0x143a+0x6a1+-0x1*-0xd99?_0x440897['split']('?')[0x8*0xfe+-0x1*-0x9da+-0x11ca]:_0x440897;}['load'](_0xefeac1,_0x14db56,_0x31dcb2){le['fetchArray'+'Buffer'](_0xefeac1['load'],(_0x52fd93,_0x118a05)=>{_0x52fd93?_0x14db56(_0x52fd93):tc['parse'](this['_getUrlWit'+'houtParams'](_0xefeac1['original']),fe['extractPat'+'h'](_0xefeac1['load']),_0x118a05,this['_device'],_0x31dcb2['registry'],_0x31dcb2['options'],(_0x378144,_0x2b3955)=>{_0x378144?_0x14db56(_0x378144):_0x14db56(null,new tr(_0x2b3955,_0x31dcb2,this['_assets'],this['_defaultMa'+'terial']));});},_0x31dcb2,this['maxRetries']);}['open'](_0x5e7279,_0x786f94,_0x484f6d){return _0x786f94;}['patch'](_0x3eae82,_0x160371){}}class w2 extends Ne{constructor(_0x3c6bb1){super(_0x3c6bb1,'container'),this['glbContain'+'erParser']=new b2(_0x3c6bb1['graphicsDe'+'vice'],_0x3c6bb1['assets'],-0x3*0x91c+0x1df0+0x1*-0x29c),this['parsers']={};}set['maxRetries'](_0x56f942){this['glbContain'+'erParser']['maxRetries']=_0x56f942;for(const _0x4a7c49 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x4a7c49)&&(this['parsers'][_0x4a7c49]['maxRetries']=_0x56f942);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x233694){return _0x233694['indexOf']('?')>=-0x1598+0x114f+0x449?_0x233694['split']('?')[0x2*0x20f+0x17c4+-0x1be2]:_0x233694;}['_getParser'](_0x321947){const _0x2d6967=_0x321947?fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x321947))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x2d6967]||this['glbContain'+'erParser'];}['load'](_0x3b3d7f,_0x1c406b,_0x123b2e){typeof _0x3b3d7f=='string'&&(_0x3b3d7f={'load':_0x3b3d7f,'original':_0x3b3d7f}),this['_getParser'](_0x3b3d7f['original'])['load'](_0x3b3d7f,_0x1c406b,_0x123b2e);}['open'](_0x4a4fa4,_0x17847e,_0x279bc8){return this['_getParser'](_0x4a4fa4)['open'](_0x4a4fa4,_0x17847e,_0x279bc8);}}class T2 extends Ne{constructor(_0x150411){super(_0x150411,'css'),c(this,'decoder',null);}['load'](_0x3311c9,_0x3cf031){typeof _0x3311c9=='string'&&(_0x3311c9={'load':_0x3311c9,'original':_0x3311c9}),$e['get'](_0x3311c9['load'],{'retry':this['maxRetries']>-0xbb8+-0x1*0x1c25+0x7f9*0x5,'maxRetries':this['maxRetries']},(_0xf90049,_0x33cbf5)=>{_0xf90049?_0x3cf031('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0x3311c9['original']+'\x20['+_0xf90049+']'):_0x3cf031(null,_0x33cbf5);});}['openBinary'](_0x215dfb){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x215dfb);}}class A2 extends Ne{constructor(_0x9346c2){super(_0x9346c2,'cubemap'),this['_device']=_0x9346c2['graphicsDe'+'vice'],this['_registry']=_0x9346c2['assets'],this['_loader']=_0x9346c2['loader'];}['load'](_0x250188,_0x59c129,_0x56a888){this['loadAssets'](_0x56a888,_0x59c129);}['open'](_0x13ada1,_0x20df4c,_0x4f6e8b){return _0x4f6e8b?_0x4f6e8b['resource']:null;}['patch'](_0x51bf30,_0x2d88f2){this['loadAssets'](_0x51bf30,(_0x524adb,_0x401ce0)=>{_0x524adb&&(_0x2d88f2['fire']('error',_0x51bf30),_0x2d88f2['fire']('error:'+_0x51bf30['id'],_0x524adb,_0x51bf30),_0x51bf30['fire']('error',_0x51bf30));});}['getAssetId'+'s'](_0x407995){const _0x2ca9e3=[];if(_0x2ca9e3[0x957+-0xcea+0x393]=_0x407995['file'],(_0x407995['loadFaces']||!_0x407995['file'])&&_0x407995['data']&&_0x407995['data']['textures']){for(let _0x49535a=0x2*0x161+0x9fb*-0x3+0x1b2f;_0x49535a<-0x1dc3*0x1+0x1fa3+-0x4f*0x6;++_0x49535a)_0x2ca9e3[_0x49535a+(-0x15cb*0x1+0x1b1*0x5+-0x2ab*-0x5)]=_0x407995['data']['textures'][_0x49535a];}else _0x2ca9e3[-0x347+0x1e8a+-0x3*0x916]=_0x2ca9e3[-0x131d+0x199c+0x1*-0x67d]=_0x2ca9e3[-0xe6*0x1a+-0x3*0xbce+0x3ac9]=_0x2ca9e3[-0x1c9d*-0x1+-0x810+-0x7*0x2ef]=_0x2ca9e3[-0x1eb*0x5+-0x182b+0x21c7]=_0x2ca9e3[0xe*0x271+0x8b*-0xf+-0x1a03*0x1]=null;return _0x2ca9e3;}['compareAss'+'etIds'](_0x4a23b7,_0x4e02bb){return _0x4a23b7&&_0x4e02bb?parseInt(_0x4a23b7,0x12*-0xbf+0xe59+0xe1*-0x1)===_0x4a23b7||typeof _0x4a23b7=='string'?_0x4a23b7===_0x4e02bb:_0x4a23b7['url']===_0x4e02bb['url']:_0x4a23b7!==null==(_0x4e02bb!==null);}['update'](_0x24fe5b,_0x1800d9,_0x2451d7){const _0x420ddd=_0x24fe5b['data']||{},_0x367af3=_0x24fe5b['_handlerSt'+'ate']['assets'],_0x27cf32=_0x24fe5b['_resources'];let _0x8c7632,_0x156046,_0x3016bc;const _0x4aba30=[null,null,null,null,null,null,null],_0x2c7164=function(){return _0x420ddd['hasOwnProp'+'erty']('type')?_0x420ddd['type']:_0x420ddd['hasOwnProp'+'erty']('rgbm')?_0x420ddd['rgbm']?on:Di:null;};if(!_0x24fe5b['loaded']||_0x2451d7[-0x1580+0xa0*-0x3b+0x20*0x1d3]!==_0x367af3[-0x11*0x1b7+0x1438+0x1*0x8ef]){if(_0x2451d7[0x1e1d+0x3d7*-0x1+-0x1a46]){if(_0x8c7632=_0x2451d7[0xa+0x4*-0x496+0x124e]['resource'],_0x8c7632['cubemap']){for(_0x3016bc=-0x1*-0x1ee9+-0x2b3*-0x7+0xa*-0x4fb;_0x3016bc<-0x257*-0xe+-0xa*-0x191+-0x23*0x162;++_0x3016bc)_0x4aba30[_0x3016bc+(-0x15ed+-0x1*-0x23cb+-0xddd)]=new he(this['_device'],{'name':_0x24fe5b['name']+('_prelitCub'+'emap')+(_0x8c7632['width']>>_0x3016bc),'cubemap':!(-0x1b62+0x1aca+0x98),'type':_0x2c7164()||_0x8c7632['type'],'width':_0x8c7632['width']>>_0x3016bc,'height':_0x8c7632['height']>>_0x3016bc,'format':_0x8c7632['format'],'levels':[_0x8c7632['_levels'][_0x3016bc]],'addressU':ae,'addressV':ae,'mipmaps':_0x3016bc===0x1af2+-0xb62*-0x1+-0x2654});}else _0x4aba30[0x41+-0x18ad+0x186d*0x1]=_0x8c7632;}}else _0x4aba30[0x239c+-0xadc+0xb5*-0x23]=_0x27cf32[-0xca0+0x29*-0x79+-0x1*-0x2002]||null,_0x4aba30[-0x108+-0x56e+0x2*0x33c]=_0x27cf32[0x2*0x347+-0x1af5+0x1469]||null,_0x4aba30[0xe4*0x2a+-0x1*0xe87+-0x16de]=_0x27cf32[0x1*-0x2187+0x415*0x2+0xcb*0x20]||null,_0x4aba30[-0x19b5+-0x7a9*-0x4+-0x4eb]=_0x27cf32[0x8c2+0x1ab9+0x2377*-0x1]||null,_0x4aba30[0x689*0x3+-0x551*-0x4+-0xf9*0x2a]=_0x27cf32[0x2e*-0x17+0x1*-0x15d1+0x19f8]||null,_0x4aba30[0x10cd+-0x1db6+0xcef]=_0x27cf32[-0x7*-0x575+-0x1583*-0x1+-0x17e*0x28]||null;const _0x53b0d6=_0x2451d7['slice'](-0x4b8+0x2*-0x2d4+0x1*0xa61);if(!_0x24fe5b['loaded']||!this['cmpArrays'](_0x53b0d6,_0x367af3['slice'](0x1e25*0x1+-0x14e7+0x2b*-0x37))){if(_0x53b0d6['indexOf'](null)===-(-0x709*-0x3+0x2*-0x1061+0xba8*0x1)){const _0xf6f7f7=_0x53b0d6['map'](_0x5d7fc6=>_0x5d7fc6['resource']),_0x534a74=[];for(_0x156046=-0x1*0x20e0+0x2441*-0x1+0x1*0x4521;_0x156046<_0xf6f7f7[0x18f7+0x8*-0x3c1+-0x511*-0x1]['_levels']['length'];++_0x156046)_0x534a74['push'](_0xf6f7f7['map'](_0x3993e1=>_0x3993e1['_levels'][_0x156046]));const _0x54fcfe=_0xf6f7f7[-0x458+0x262f*-0x1+0x2a87]['format'],_0x184e46=new he(this['_device'],{'name':_0x24fe5b['name']+'_faces','cubemap':!(0x20c3*-0x1+-0x68c+0x274f),'type':_0x2c7164()||_0xf6f7f7[-0x1*-0x122e+-0x133c+0x10e]['type'],'width':_0xf6f7f7[-0xd6d+0x135*-0x4+0x1241]['width'],'height':_0xf6f7f7[-0x5b5+0x939+0x19*-0x24]['height'],'format':_0x54fcfe===dr?Se:_0x54fcfe,'mipmaps':_0x420ddd['mipmaps']??!(-0x1*-0x25d1+-0x1b97+-0x1*0xa3a),'levels':_0x534a74,'minFilter':_0x420ddd['hasOwnProp'+'erty']('minFilter')?_0x420ddd['minFilter']:_0xf6f7f7[0x29*-0xd+0x89*-0x1f+-0x4*-0x4ab]['minFilter'],'magFilter':_0x420ddd['hasOwnProp'+'erty']('magFilter')?_0x420ddd['magFilter']:_0xf6f7f7[0x26ce+0x23b0+-0x4a7e]['magFilter'],'anisotropy':_0x420ddd['hasOwnProp'+'erty']('anisotropy')?_0x420ddd['anisotropy']:-0x24d9+0x5da*0x2+0x1926,'addressU':ae,'addressV':ae});_0x4aba30[-0x2*0x69b+0x4*-0x8ae+0x2fee]=_0x184e46;}}else _0x4aba30[-0x2433+-0x1879*-0x1+0x4f*0x26]=_0x27cf32[0x2032+-0x61*-0x11+-0x26a3]||null;if(!this['cmpArrays'](_0x4aba30,_0x27cf32)){for(_0x24fe5b['resources']=_0x4aba30,_0x24fe5b['_handlerSt'+'ate']['assetIds']=_0x1800d9,_0x24fe5b['_handlerSt'+'ate']['assets']=_0x2451d7,_0x3016bc=0x1ef+-0xec2+0xcd3*0x1;_0x3016bc<_0x27cf32['length'];++_0x3016bc)_0x27cf32[_0x3016bc]!==null&&_0x4aba30['indexOf'](_0x27cf32[_0x3016bc])===-(0x2051+-0x9f*-0x39+-0xd8b*0x5)&&_0x27cf32[_0x3016bc]['destroy']();}for(_0x3016bc=0xb*-0x1af+0x9*-0xb9+0x1906*0x1;_0x3016bc<_0x367af3['length'];++_0x3016bc)_0x367af3[_0x3016bc]!==null&&_0x2451d7['indexOf'](_0x367af3[_0x3016bc])===-(-0x18a*0x9+-0xf7f+-0xdd*-0x22)&&_0x367af3[_0x3016bc]['unload']();}['cmpArrays'](_0x544f59,_0x2ae2de){if(_0x544f59['length']!==_0x2ae2de['length'])return!(-0x1cea*-0x1+0x1*-0x138a+-0x95f*0x1);for(let _0x584cee=-0xb99+-0x12f2+0x1e8b;_0x584cee<_0x544f59['length'];++_0x584cee)if(_0x544f59[_0x584cee]!==_0x2ae2de[_0x584cee])return!(0x888+0x242a*-0x1+0x1ba3);return!(0x918+0x56*-0x49+-0x32*-0x4f);}['resolveId'](_0x51c1c4){const _0x1b112c=parseInt(_0x51c1c4,0x1daa+0x19fe+-0x379e);return _0x1b112c===_0x51c1c4||_0x1b112c['toString']()===_0x51c1c4?_0x1b112c:_0x51c1c4;}['loadAssets'](_0x28aac1,_0x3dcf36){_0x28aac1['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x28aac1['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x5bcd45=this,_0x1d4c24=_0x5bcd45['getAssetId'+'s'](_0x28aac1),_0x2fdf5d=[null,null,null,null,null,null,null],_0x1b9a0c=_0x28aac1['_handlerSt'+'ate']['assetIds'],_0x10fdc1=_0x28aac1['_handlerSt'+'ate']['assets'],_0x25d546=_0x5bcd45['_registry'];let _0x3c9de3=-0x1222+0x3dd*0x4+0x2b5;const _0xff6818=function(_0x325708,_0x1c25d4){_0x2fdf5d[_0x325708]=_0x1c25d4,_0x3c9de3--,_0x3c9de3===0x4*-0x21e+0x91c*0x1+-0xa4&&(_0x5bcd45['update'](_0x28aac1,_0x1d4c24,_0x2fdf5d),_0x3dcf36(null,_0x28aac1['resources']));},_0x5d0d2d=function(_0x10c85e,_0x57eb36,_0x332c83){_0x3dcf36(_0x57eb36);},_0x25f559=function(_0x46c33a,_0x1ed830){_0x1ed830['loaded']?_0xff6818(_0x46c33a,_0x1ed830):(_0x25d546['once']('load:'+_0x1ed830['id'],_0xff6818['bind'](_0x5bcd45,_0x46c33a)),_0x25d546['once']('error:'+_0x1ed830['id'],_0x5d0d2d['bind'](_0x5bcd45,_0x46c33a)),_0x1ed830['loading']||_0x25d546['load'](_0x1ed830));};let _0x4c8f76;for(let _0x1cf711=-0x2*0xcb0+-0x1370+-0x8*-0x59a;_0x1cf711<0x5d3*-0x5+-0x2*0x744+-0x2*-0x15d7;++_0x1cf711){const _0x530646=this['resolveId'](_0x1d4c24[_0x1cf711]);if(!_0x530646)_0xff6818(_0x1cf711,null);else{if(_0x5bcd45['compareAss'+'etIds'](_0x530646,_0x1b9a0c[_0x1cf711]))_0x25f559(_0x1cf711,_0x10fdc1[_0x1cf711]);else{if(parseInt(_0x530646,-0x1*0x1fa3+0x412+-0x1*-0x1b9b)===_0x530646)_0x4c8f76=_0x25d546['get'](_0x530646),_0x4c8f76?_0x25f559(_0x1cf711,_0x4c8f76):setTimeout(((_0x53c615,_0x222990)=>{const _0x573b56=_0x25d546['get'](_0x222990);_0x573b56?_0x25f559(_0x53c615,_0x573b56):_0x5d0d2d(_0x53c615,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x222990);})['bind'](null,_0x1cf711,_0x530646));else{const _0x502209=typeof _0x530646=='string'?{'url':_0x530646,'filename':_0x530646}:_0x530646,_0x2868aa=_0x502209['url']['search']('.dds')===-(-0xe7a+-0x1c59+-0xab5*-0x4)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(-0x1b52+-0x62a*0x5+0xd*0x479)}:null;_0x4c8f76=new le(_0x28aac1['name']+'_part_'+_0x1cf711,'texture',_0x502209,_0x2868aa),_0x25d546['add'](_0x4c8f76),_0x25f559(_0x1cf711,_0x4c8f76);}}}}}}class E2 extends Ne{constructor(_0x45136b){super(_0x45136b,'folder');}['load'](_0x5f3c55,_0x412c0b){_0x412c0b(null,null);}}class Ng{constructor(_0x2326b5,_0x318dcf){this['type']=_0x318dcf&&_0x318dcf['type']||Kh,this['em']=-0x2199+-0xa*-0x1c3+-0xb*-0x174,this['textures']=_0x2326b5,this['intensity']=0x7*-0x43d+-0x1c6d+0x3a18,this['_data']=null,this['data']=_0x318dcf;}set['data'](_0xefc7a2){if(this['_data']=_0xefc7a2,!!_0xefc7a2&&(this['_data']['intensity']!==void(0x10b7+0x25fc+-0x36b3)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<-0x12e7+-0x9*0x336+0x2fcf)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x48d1ee in this['_data']['chars'])this['_data']['chars'][_0x48d1ee]['map']=0x237b+-0x1004+-0x1377;}}get['data'](){return this['_data'];}}function Jd(_0x39a0d9){return _0x39a0d9['version']<0x109*-0x4+-0x1*-0xb75+-0x74e&&(_0x39a0d9['version']<-0x126e*-0x1+-0x1751+-0x7*-0xb3&&(_0x39a0d9['info']['maps']=_0x39a0d9['info']['maps']||[{'width':_0x39a0d9['info']['width'],'height':_0x39a0d9['info']['height']}]),_0x39a0d9['chars']=Object['keys'](_0x39a0d9['chars']||{})['reduce']((_0x1e6f56,_0x23bf9d)=>{const _0x6e654f=_0x39a0d9['chars'][_0x23bf9d],_0x15b421=_0x6e654f['letter']!==void(0x1b97*0x1+0xfbd+0xec*-0x2f)?_0x6e654f['letter']:ah['fromCodePo'+'int'](_0x23bf9d);return _0x39a0d9['version']<-0x1*0xc07+0xad4+0x3*0x67&&(_0x6e654f['map']=_0x6e654f['map']||0xac5+0x1a26*-0x1+0xf61),_0x1e6f56[_0x15b421]=_0x6e654f,_0x1e6f56;},{}),_0x39a0d9['version']=-0x6*-0x1e2+0x1*0x149a+-0x1fe3*0x1),_0x39a0d9;}class C2 extends Ne{constructor(_0x35e857){super(_0x35e857,'font'),this['_loader']=_0x35e857['loader'],this['maxRetries']=-0xa8a*-0x1+0x9*-0xd3+-0x31f;}['load'](_0xa4bfe3,_0xf43396,_0x57b3f1){typeof _0xa4bfe3=='string'&&(_0xa4bfe3={'load':_0xa4bfe3,'original':_0xa4bfe3});const _0xbfd233=this;fe['getExtensi'+'on'](_0xa4bfe3['original'])==='.json'?$e['get'](_0xa4bfe3['load'],{'retry':this['maxRetries']>0x2*-0x12a2+0x1e0*-0x2+0x2904,'maxRetries':this['maxRetries']},(_0xf27253,_0x2e6e43)=>{if(_0xf27253)_0xf43396('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0xa4bfe3['original']+'\x20['+_0xf27253+']');else{const _0x47cd1b=Jd(_0x2e6e43);_0xbfd233['_loadTextu'+'res'](_0xa4bfe3['load']['replace']('.json','.png'),_0x47cd1b,(_0x1ad3fb,_0x593e85)=>{_0x1ad3fb?_0xf43396(_0x1ad3fb):_0xf43396(null,{'data':_0x47cd1b,'textures':_0x593e85});});}}):(_0x57b3f1&&_0x57b3f1['data']&&(_0x57b3f1['data']=Jd(_0x57b3f1['data'])),this['_loadTextu'+'res'](_0xa4bfe3['load'],_0x57b3f1&&_0x57b3f1['data'],_0xf43396));}['_loadTextu'+'res'](_0x40f8e7,_0x2fdf33,_0x20c4f0){const _0x11cb18=_0x2fdf33['info']['maps']['length'];let _0x2ed47f=-0x1e8+0x1046*0x1+-0x6*0x265,_0x1e6673=null;const _0x2efaad=new Array(_0x11cb18),_0x598a2f=this['_loader'],_0x106bba=function(_0x471ab0){const _0x40c456=function(_0x507f84,_0x5a1b8f){if(!_0x1e6673){if(_0x507f84){_0x1e6673=_0x507f84,_0x20c4f0(_0x507f84);return;}_0x5a1b8f['upload'](),_0x2efaad[_0x471ab0]=_0x5a1b8f,_0x2ed47f++,_0x2ed47f===_0x11cb18&&_0x20c4f0(null,_0x2efaad);}};_0x471ab0===-0xb03+-0x11e3+0x9a2*0x3?_0x598a2f['load'](_0x40f8e7,'texture',_0x40c456):_0x598a2f['load'](_0x40f8e7['replace']('.png',_0x471ab0+'.png'),'texture',_0x40c456);};for(let _0x48f497=0x103*-0x5+0x1b37*-0x1+0x2046;_0x48f497<_0x11cb18;_0x48f497++)_0x106bba(_0x48f497);}['open'](_0x3f090b,_0x9ad4a3,_0x1520be){let _0x342d6b;return _0x9ad4a3['textures']?_0x342d6b=new Ng(_0x9ad4a3['textures'],_0x9ad4a3['data']):_0x342d6b=new Ng(_0x9ad4a3,null),_0x342d6b;}['patch'](_0x438ee1,_0x349dfc){const _0x4c0450=_0x438ee1['resource'];!_0x4c0450['data']&&_0x438ee1['data']?_0x4c0450['data']=_0x438ee1['data']:!_0x438ee1['data']&&_0x4c0450['data']&&(_0x438ee1['data']=_0x4c0450['data']),_0x438ee1['data']&&(_0x438ee1['data']=Jd(_0x438ee1['data']));}}async function M2(){const _0x5162df=-0x1d*0xb3+-0x1a18+0x2e5f*0x1+0.28209479177387814;class _0x4a454e{constructor(_0x2fb9cb,_0x5a0ec0,_0x5dfe06){this['x']=_0x2fb9cb,this['y']=_0x5a0ec0,this['z']=_0x5dfe06;}}class _0x481b2f{constructor(_0x515605,_0x32b030,_0x50d98a,_0x6f62e0){this['x']=_0x515605,this['y']=_0x32b030,this['z']=_0x50d98a,this['w']=_0x6f62e0;}}class _0x23e7da{constructor(_0x6380ff,_0x3ef52d,_0x568d92,_0x28cf7c){this['x']=_0x6380ff,this['y']=_0x3ef52d,this['z']=_0x568d92,this['w']=_0x28cf7c;}['set'](_0x5d77c1,_0x3df275,_0x362163,_0x5028e7){this['x']=_0x5d77c1,this['y']=_0x3df275,this['z']=_0x362163,this['w']=_0x5028e7;}}class _0x4ea4fb{constructor(_0x2e6db2,_0x2ca379,_0x4e5555,_0x5a71a5,_0x1a6e30,_0x124542,_0xec66e2,_0x44392f,_0x308bc6,_0x3c2ba6,_0x2bfeeb,_0x3e7257){const _0x53dd46=(_0x1b9e05,_0x547632)=>{const _0x342e49=(0x1703+0x39e*-0x2+-0xfc6<<_0x547632)-(-0x1*-0x2581+-0x1a5*0x11+-0x98b);return(_0x1b9e05&_0x342e49)/_0x342e49;},_0x2dcaf4=(_0x422b3e,_0x16544b)=>{_0x422b3e['x']=_0x53dd46(_0x16544b>>>-0xc4c*-0x2+-0x1b00+0x27d,-0x26a6+-0xb*0x232+0x3ed7),_0x422b3e['y']=_0x53dd46(_0x16544b>>>0x847*0x1+-0x1*-0x1b4d+-0x1*0x2389,-0x1*0x31d+0x1*-0x19d9+0x1d00),_0x422b3e['z']=_0x53dd46(_0x16544b,-0x4bb*-0x7+-0x22c3+-0x1b1*-0x1);},_0x48bb91=(_0x348fd8,_0x4bcf4f)=>{_0x348fd8['x']=_0x53dd46(_0x4bcf4f>>>-0x1447*0x1+0x29b*0x2+0xf29,0xeb1*-0x2+0x161e+0x3a6*0x2),_0x348fd8['y']=_0x53dd46(_0x4bcf4f>>>0x20ba+0x3f7*-0x4+0x6*-0x2cd,-0x1814+0xe9f+-0x97d*-0x1),_0x348fd8['z']=_0x53dd46(_0x4bcf4f>>>-0x34*0x6+0x1f87*-0x1+0x20c7,-0x10d5+0xf58+0x185),_0x348fd8['w']=_0x53dd46(_0x4bcf4f,0x1*-0x16ed+-0x25fd+-0x3cf2*-0x1);},_0x4e2d27=(_0x1f6e41,_0x1a0b87)=>{const _0x4366c3=(-0x125b+0x1b3e+-0x471*0x2)/(Math['sqrt'](0x1*0x1745+-0x1*-0x955+-0x2098)*(-0x1544+0x3*-0x1cb+0x1aa5+0.5)),_0x38431d=(_0x53dd46(_0x1a0b87>>>-0x27*0x2e+-0x1236*-0x1+-0xb2*0x10,-0x5*-0x57e+0xc2*-0x4+-0x1864)-(-0x1d8e+0xbea+0x11a4+0.5))*_0x4366c3,_0x680b06=(_0x53dd46(_0x1a0b87>>>0x9da+0x819+-0x7*0x28f,-0x21c9+-0x4f*-0x75+-0x4*0x92)-(0x9fb+0x2564+-0x2f5f+0.5))*_0x4366c3,_0x14fc53=(_0x53dd46(_0x1a0b87,0xb00+0x275*0x7+-0x1c29)-(0x3e3*0x5+0x3*0xba+-0x159d+0.5))*_0x4366c3,_0x376de0=Math['sqrt'](-0x7*0x4d6+-0x22c5+0x44a0-(_0x38431d*_0x38431d+_0x680b06*_0x680b06+_0x14fc53*_0x14fc53));switch(_0x1a0b87>>>-0x22b7*-0x1+0x373*0xb+-0x488a){case-0x21*0x7+0x266*-0x6+0xf4b:_0x1f6e41['set'](_0x38431d,_0x680b06,_0x14fc53,_0x376de0);break;case-0x12ed+0x114a+0xc*0x23:_0x1f6e41['set'](_0x376de0,_0x680b06,_0x14fc53,_0x38431d);break;case-0x80f+0x768+0xa9:_0x1f6e41['set'](_0x680b06,_0x376de0,_0x14fc53,_0x38431d);break;case-0x5*0x15c+-0xc26+0xd3*0x17:_0x1f6e41['set'](_0x680b06,_0x14fc53,_0x376de0,_0x38431d);break;}},_0x148bfc=(_0x11e35b,_0xfb80e1,_0x2dfb9f)=>_0x11e35b*(-0x12ec+-0x4b7*0x7+0x2e*0x121-_0x2dfb9f)+_0xfb80e1*_0x2dfb9f,_0x1e2056=[-0x14ce+-0x1bd1+0x30a2,-0x1640+-0x250e+0x3e*0xf5,-0x10cc+0x184*-0x6+0x19f3][_0x1a6e30-(-0x3b6*0x5+-0xa*0x97+0x1875)],_0x363983=0x17c8+0x1e9f+-0x3661;this['read']=_0x21f630=>{const _0x129ddd=Math['floor'](_0x21f630/(-0x4*-0x3a1+-0xd1+-0xcb3))*_0x2ca379;if(_0x124542&&(_0x2dcaf4(_0x124542,_0x4e5555[_0x21f630*_0x363983+(-0x60*0x5e+-0x6*0x469+0x3db6)]),_0x124542['x']=_0x148bfc(_0x2e6db2[_0x129ddd+(0x3f5+0x1ce2+-0x20d7)],_0x2e6db2[_0x129ddd+(0x1d6+-0x7*0x57b+0x248a)],_0x124542['x']),_0x124542['y']=_0x148bfc(_0x2e6db2[_0x129ddd+(0x3f9+0xd3*-0x2+-0x252)],_0x2e6db2[_0x129ddd+(-0x21af+0x814+-0x199f*-0x1)],_0x124542['y']),_0x124542['z']=_0x148bfc(_0x2e6db2[_0x129ddd+(0x1af4+-0x1d*-0x141+-0x3f4f)],_0x2e6db2[_0x129ddd+(0x1e5f+0x2d4*0x1+-0x212e)],_0x124542['z'])),_0xec66e2&&_0x4e2d27(_0xec66e2,_0x4e5555[_0x21f630*_0x363983+(-0x17e5+0x4b9+-0x1*-0x132d)]),_0x44392f&&(_0x2dcaf4(_0x44392f,_0x4e5555[_0x21f630*_0x363983+(0x351*-0xb+0xa*-0xe9+0x425*0xb)]),_0x44392f['x']=_0x148bfc(_0x2e6db2[_0x129ddd+(-0x2088+-0x5*-0x3fb+0xca7)],_0x2e6db2[_0x129ddd+(0xbb6+-0x2*0x531+-0x14b*0x1)],_0x44392f['x']),_0x44392f['y']=_0x148bfc(_0x2e6db2[_0x129ddd+(0x1ba9+0x368*0x2+0x2272*-0x1)],_0x2e6db2[_0x129ddd+(0x34*0x2e+-0x1f*-0x22+0x6b6*-0x2)],_0x44392f['y']),_0x44392f['z']=_0x148bfc(_0x2e6db2[_0x129ddd+(0x21a6+-0x6b9*-0x4+-0x3c82)],_0x2e6db2[_0x129ddd+(-0x585*-0x1+-0x1*-0x164a+0x1bc4*-0x1)],_0x44392f['z'])),_0x308bc6&&(_0x48bb91(_0x308bc6,_0x4e5555[_0x21f630*_0x363983+(-0xa45*0x2+-0x15e7+0x2a74)]),_0x2ca379>-0x2346+0x18fd*0x1+-0x17*-0x73&&(_0x308bc6['x']=_0x148bfc(_0x2e6db2[_0x129ddd+(0x8*-0x1fd+-0x22d1+0x29*0x13d)],_0x2e6db2[_0x129ddd+(0x1aed+0xebc+0x47*-0x96)],_0x308bc6['x']),_0x308bc6['y']=_0x148bfc(_0x2e6db2[_0x129ddd+(-0x1*0x1d21+0x189*-0x15+0x3d6b)],_0x2e6db2[_0x129ddd+(-0x3d*-0x13+-0x2ab+0x4*-0x73)],_0x308bc6['y']),_0x308bc6['z']=_0x148bfc(_0x2e6db2[_0x129ddd+(0x1*0x358+0x1b1d+-0x1e67)],_0x2e6db2[_0x129ddd+(-0xe*-0x221+-0x1e3*-0x6+-0x1c9*0x17)],_0x308bc6['z']))),_0x3c2ba6&&(_0x2dcaf4(_0x3c2ba6,_0x4e5555[_0x21f630*_0x363983+(0x14*-0x8a+0xa05+0xc7)]),_0x3c2ba6['x']=_0x148bfc(_0x2e6db2[_0x129ddd+(0x102f*0x1+-0x17be+0x3*0x28b)],_0x2e6db2[_0x129ddd+(0x2d1*0x3+-0x24*-0xa3+0xfa5*-0x2)],_0x3c2ba6['x']),_0x3c2ba6['y']=_0x148bfc(_0x2e6db2[_0x129ddd+(0x291*-0x7+-0x213b+0xaf*0x4b)],_0x2e6db2[_0x129ddd+(-0x1f2f*-0x1+-0xe95+-0x1084)],_0x3c2ba6['y']),_0x3c2ba6['z']=_0x148bfc(_0x2e6db2[_0x129ddd+(0x3*0x5c+0x5c9*0x1+-0x6c9)],_0x2e6db2[_0x129ddd+(0x8*0x289+-0x815*0x2+-0x407)],_0x3c2ba6['z'])),_0x2bfeeb&&(_0x2dcaf4(_0x2bfeeb,_0x4e5555[_0x21f630*_0x363983+(-0x10fe+0x6c0+-0x25*-0x47)]),_0x2bfeeb['x']=_0x148bfc(_0x2e6db2[_0x129ddd+(-0x52a+0x1*-0x20a9+-0x23b*-0x11)],_0x2e6db2[_0x129ddd+(-0x7*-0x242+-0x9*0x205+0x278)],_0x2bfeeb['x']),_0x2bfeeb['y']=_0x148bfc(_0x2e6db2[_0x129ddd+(0x1679*-0x1+0x4cf*0x3+0x7*0x12a)],_0x2e6db2[_0x129ddd+(-0x452+-0x2227+0x2694)],_0x2bfeeb['y'])),_0x3e7257&&_0x1a6e30>0x156b*0x1+-0xcf7*-0x1+-0x2262){for(let _0x31e702=0xc27+-0x12b0+0x1*0x689;_0x31e702<0xe50+0x1d05+0x1*-0x2b52;++_0x31e702)for(let _0x591040=0x5bd+0x3d*-0x1+0x2*-0x2c0;_0x591040<-0x23f*-0x7+-0x1a66*-0x1+-0x1508*0x2;++_0x591040)_0x3e7257[_0x31e702*(-0xa*-0x3c+-0x1508*-0x1+-0x1751)+_0x591040]=_0x591040<_0x1e2056?_0x5a71a5[(_0x21f630*(0x1f25+0x151d+-0x7d*0x6b)+_0x31e702)*_0x1e2056+_0x591040]*((-0x2687+0x2*-0x27b+-0x1*-0x2b85)/(0x7*0xb2+0xa62+-0xe41*0x1))-(-0x10ee+-0x3*-0x4b5+-0x2d3*-0x1):-0x13*-0x2+0x1d63+0x1*-0x1d89;}};}}self['onmessage']=async _0x507ce=>{const {data:_0x1f1bf3}=_0x507ce;switch(_0x1f1bf3['type']){case'initWorker':break;case'decompress':_0x58d503(_0x1f1bf3['numSplats'],_0x1f1bf3['chunkData'],_0x1f1bf3['chunkSize'],_0x1f1bf3['vertexData'],_0x1f1bf3['shData'],_0x1f1bf3['shBands']);break;}};const _0x58d503=(_0x5708ce,_0x1f82d8,_0x132121,_0xac9000,_0x82bb14,_0x219a21)=>{const _0x164708=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x219a21>-0x501+-0x1714+-0x5b*-0x4f){const _0x5bd062=[];for(let _0x4d75d1=-0x8a8+-0xd7*-0xe+-0x31a;_0x4d75d1<-0x19eb+-0x1*0x6fb+0x1*0x2113;++_0x4d75d1)_0x5bd062['push']('f_rest_'+_0x4d75d1);_0x164708['splice'](_0x164708['indexOf']('f_dc_0')+(-0xd51+0x8e1*-0x1+-0x1633*-0x1),-0xe5*0x19+-0x9e4+0x2041,..._0x5bd062);}const _0x24ebc9={};_0x164708['forEach'](_0x48ca08=>{_0x24ebc9[_0x48ca08]=new Float32Array(_0x5708ce);}),console['log']('decompress');const _0xd42744=new _0x4a454e(),_0xa804f9=new _0x23e7da(),_0x3df243=new _0x4a454e(),_0x30f855=new _0x481b2f(),_0x128c1f=new _0x4a454e(),_0x35340d=new _0x4a454e(),_0x5c7021=_0x219a21>0x478*-0x3+0x12a2+-0x53a?new Float32Array(-0x1ced+-0xb40+0x285a):null,_0x3dae08=new _0x4ea4fb(_0x1f82d8,_0x132121,_0xac9000,_0x82bb14,_0x219a21,_0xd42744,_0xa804f9,_0x3df243,_0x30f855,_0x128c1f,_0x35340d,_0x5c7021);for(let _0x357a41=-0x1849+0x1242+0x607;_0x357a41<_0x5708ce;++_0x357a41)if(_0x3dae08['read'](_0x357a41),_0x24ebc9['x'][_0x357a41]=_0xd42744['x'],_0x24ebc9['y'][_0x357a41]=_0xd42744['y'],_0x24ebc9['z'][_0x357a41]=_0xd42744['z'],_0x24ebc9['rot_1'][_0x357a41]=_0xa804f9['x'],_0x24ebc9['rot_2'][_0x357a41]=_0xa804f9['y'],_0x24ebc9['rot_3'][_0x357a41]=_0xa804f9['z'],_0x24ebc9['rot_0'][_0x357a41]=_0xa804f9['w'],_0x24ebc9['scale_0'][_0x357a41]=_0x3df243['x'],_0x24ebc9['scale_1'][_0x357a41]=_0x3df243['y'],_0x24ebc9['scale_2'][_0x357a41]=_0x3df243['z'],_0x24ebc9['motion_0'][_0x357a41]=_0x128c1f['x'],_0x24ebc9['motion_1'][_0x357a41]=_0x128c1f['y'],_0x24ebc9['motion_2'][_0x357a41]=_0x128c1f['z'],_0x24ebc9['t_scale'][_0x357a41]=_0x35340d['x'],_0x24ebc9['t'][_0x357a41]=_0x35340d['y'],_0x24ebc9['f_dc_0'][_0x357a41]=(_0x30f855['x']-(0x258d*-0x1+-0x163b+-0x3bc8*-0x1+0.5))/_0x5162df,_0x24ebc9['f_dc_1'][_0x357a41]=(_0x30f855['y']-(0x18d9+0x571*-0x5+0x25c+0.5))/_0x5162df,_0x24ebc9['f_dc_2'][_0x357a41]=(_0x30f855['z']-(-0x2*-0x7f5+0x566*-0x6+0x107a+0.5))/_0x5162df,_0x24ebc9['opacity'][_0x357a41]=_0x30f855['w']<=0xcf7*0x1+0x259b*0x1+0x2*-0x1949?-(-0x1e9e*0x1+0xa7e+0x16*0xec):_0x30f855['w']>=-0xbd*0x23+0x1*-0x2093+0x3a6b?-0x3ef*0x5+0x1e7*-0x1+0x1b*0xce:-Math['log']((0x22a2+-0x747+0x91e*-0x3)/_0x30f855['w']-(-0x1575*0x1+0x1*-0x129b+0x2811)),_0x5c7021){for(let _0x408fff=0x1dd3+0x65*-0x19+-0x13f6;_0x408fff<0x2bb*0x2+0xb*0x32+-0x76f*0x1;++_0x408fff)_0x24ebc9['f_rest_'+_0x408fff][_0x357a41]=_0x5c7021[_0x408fff];}self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x24ebc9});};}class P2 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+M2['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x3ec510=>{if(!this['worker'])return;const {data:_0x8347f8}=_0x3ec510;switch(_0x8347f8['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x8347f8['data']);break;}};}['decompress'](_0x25a82a,_0x234853,_0x155cbd,_0x357f91,_0x495565,_0x77ad37,_0x1af6d2){this['chunkData']=new Float32Array(_0x234853)['slice'](),this['vertexData']=new Uint32Array(_0x357f91)['slice'](),this['shData']=new Uint8Array(_0x495565)['slice'](),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x25a82a,'chunkData':this['chunkData'],'chunkSize':_0x155cbd,'vertexData':this['vertexData'],'shData':this['shData'],'shBands':_0x77ad37});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class R2{constructor(_0x17bd78,_0x4474ce,_0x259b5c,_0x410f35,_0x5f2ff6,_0x190d23,_0x29836f,_0x1a0072){const _0x1e1963=(_0x13da8b,_0x36243c)=>{const _0x322d1c=(-0x8bd+-0xd9d+0x165b<<_0x36243c)-(-0x2*0x8c1+-0x1*0x4de+0x1*0x1661);return(_0x13da8b&_0x322d1c)/_0x322d1c;},_0x1bb06e=(_0x258fe4,_0x2aab89)=>{_0x258fe4['x']=_0x1e1963(_0x2aab89>>>-0x14f3*-0x1+0x202a+0x1*-0x3508,-0x14e7+0x208f+-0xb9d*0x1),_0x258fe4['y']=_0x1e1963(_0x2aab89>>>0x1*0x1072+0x195*0x4+-0x1*0x16bb,0x1*0xe9b+-0x8*0xd6+-0x7e1),_0x258fe4['z']=_0x1e1963(_0x2aab89,0x172c*-0x1+0x1c4c+-0x515);},_0x8f14aa=(_0x210427,_0x55fc74)=>{_0x210427['x']=_0x1e1963(_0x55fc74>>>-0x41e+-0x2*0x10ed+0x2610,0x266*0xa+-0x1*-0x22cb+-0x3abf),_0x210427['y']=_0x1e1963(_0x55fc74>>>-0x2e3+0xa9*-0x16+-0x9*-0x1f1,0x524+-0xe0+0x21e*-0x2),_0x210427['z']=_0x1e1963(_0x55fc74>>>0x1639+-0x1*0x2410+0xddf,0x323+0x2*-0x54d+0x65*0x13),_0x210427['w']=_0x1e1963(_0x55fc74,-0x880+0x172b*0x1+0x1*-0xea3);},_0x26f836=(_0x4044b7,_0xf109aa)=>{const _0x2cf69a=(0x52a+0x3be*-0x9+0x1c85)/(Math['sqrt'](-0x1*0x6b9+-0x1bfe+-0xb93*-0x3)*(-0x18c2*0x1+-0x158c+-0x1*-0x2e4e+0.5)),_0x273c0c=(_0x1e1963(_0xf109aa>>>0xd*0x1f9+0x866+-0x1*0x21f7,-0x1f59+0x1*0x1b0f+0x454*0x1)-(0x1ce2+-0x1957+-0x38b+0.5))*_0x2cf69a,_0x19c96f=(_0x1e1963(_0xf109aa>>>0x2*-0x8b+0x538*0x3+0x2e8*-0x5,0xa3*0x4+-0x1*-0x1017+-0x3*0x633)-(0x1*0x179+0xe5e+0xfd7*-0x1+0.5))*_0x2cf69a,_0x546930=(_0x1e1963(_0xf109aa,0x59d*-0x2+0x18*0xb5+0x2*-0x2da)-(-0x511*-0x1+-0x1fa+-0x317+0.5))*_0x2cf69a,_0xf1e52c=Math['sqrt'](-0x2235+-0x2019+0x424f-(_0x273c0c*_0x273c0c+_0x19c96f*_0x19c96f+_0x546930*_0x546930));switch(_0xf109aa>>>0x26e2+-0x199a+0x2a2*-0x5){case-0x3d*-0x71+-0x4*-0x51b+-0x2f59:_0x4044b7['set'](_0x273c0c,_0x19c96f,_0x546930,_0xf1e52c);break;case 0x110c+0x1319*-0x1+0x20e:_0x4044b7['set'](_0xf1e52c,_0x19c96f,_0x546930,_0x273c0c);break;case 0x7*0x11c+-0xa1*0x12+-0xe4*-0x4:_0x4044b7['set'](_0x19c96f,_0xf1e52c,_0x546930,_0x273c0c);break;case 0x3*-0x3ab+-0x19dc+-0x1*-0x24e0:_0x4044b7['set'](_0x19c96f,_0x546930,_0xf1e52c,_0x273c0c);break;}},_0xaa87f4=(_0x5367a9,_0x39ecaf,_0x2e73a4)=>_0x5367a9*(-0x1*0x13f1+-0xc*0x1df+0x2a66-_0x2e73a4)+_0x39ecaf*_0x2e73a4,{chunkData:_0x4cc965,chunkSize:_0x44cd10,vertexData:_0x37d9ad,shData:_0x256e99,shBands:_0x59e86b}=_0x17bd78,_0x5c5ffe=[0x3*0x1d3+0xd8b*0x1+0x1*-0x1301,0x45*-0x87+0x1ab9+-0x2*-0x4d9,-0x256c+-0xf6b+0x34e6][_0x59e86b-(-0x134e+-0x5df+0x192e)],_0x1c55b9=0x23cf+-0xef7+-0xcd*0x1a;this['read']=_0x423208=>{const _0x7d1945=Math['floor'](_0x423208/(0x95b*0x4+0x74b+-0x2bb7))*_0x44cd10;if(_0x4474ce&&(_0x1bb06e(_0x4474ce,_0x37d9ad[_0x423208*_0x1c55b9+(-0x193+0x352+-0x1bf)]),_0x4474ce['x']=_0xaa87f4(_0x4cc965[_0x7d1945+(-0x1cfc+0x7ef+0x13d*0x11)],_0x4cc965[_0x7d1945+(0x13cb+0x2686+-0x3a4e)],_0x4474ce['x']),_0x4474ce['y']=_0xaa87f4(_0x4cc965[_0x7d1945+(0x199*-0x10+0x1cd9+-0xe*0x3c)],_0x4cc965[_0x7d1945+(0x16e6*0x1+-0x1c91+-0x1*-0x5af)],_0x4474ce['y']),_0x4474ce['z']=_0xaa87f4(_0x4cc965[_0x7d1945+(-0x8*0x2f5+-0x7c5+0x1f6f)],_0x4cc965[_0x7d1945+(0x1*0x1a7d+-0x2*-0x10ad+-0x326*0x13)],_0x4474ce['z'])),_0x259b5c&&_0x26f836(_0x259b5c,_0x37d9ad[_0x423208*_0x1c55b9+(0x22be+-0x1fe3*0x1+-0x2da)]),_0x410f35&&(_0x1bb06e(_0x410f35,_0x37d9ad[_0x423208*_0x1c55b9+(-0x1*-0x18d9+-0x5e9+-0x12ee)]),_0x410f35['x']=_0xaa87f4(_0x4cc965[_0x7d1945+(0x13e+0xb47+-0xc7f)],_0x4cc965[_0x7d1945+(0x1dd9+0x97d+0x274d*-0x1)],_0x410f35['x']),_0x410f35['y']=_0xaa87f4(_0x4cc965[_0x7d1945+(0x563+0x4*0x335+0x30*-0x61)],_0x4cc965[_0x7d1945+(0x1ec0+-0x2*0xcc9+-0x524)],_0x410f35['y']),_0x410f35['z']=_0xaa87f4(_0x4cc965[_0x7d1945+(-0x86f+0x7*-0x28b+0x1a44)],_0x4cc965[_0x7d1945+(-0xe1b+0x26a4+0x16*-0x11d)],_0x410f35['z'])),_0x5f2ff6&&(_0x8f14aa(_0x5f2ff6,_0x37d9ad[_0x423208*_0x1c55b9+(0x2*-0xdd2+0x80*-0x1b+0x2927)]),_0x44cd10>0x3*0xcff+-0x1bc+-0x19*0x17d&&(_0x5f2ff6['x']=_0xaa87f4(_0x4cc965[_0x7d1945+(-0xdf8+0x17c2+-0x3a*0x2b)],_0x4cc965[_0x7d1945+(-0xd9d+0x182e+0x10d*-0xa)],_0x5f2ff6['x']),_0x5f2ff6['y']=_0xaa87f4(_0x4cc965[_0x7d1945+(-0x1763+-0xbd9*-0x1+0xb97)],_0x4cc965[_0x7d1945+(-0x1*-0xfd1+0x1*0x1387+-0x2348)],_0x5f2ff6['y']),_0x5f2ff6['z']=_0xaa87f4(_0x4cc965[_0x7d1945+(-0xdf*-0x4+-0xe85+0xb17)],_0x4cc965[_0x7d1945+(0x1d90+0x4f3+-0x2272)],_0x5f2ff6['z']))),_0x190d23&&(_0x1bb06e(_0x190d23,_0x37d9ad[_0x423208*_0x1c55b9+(-0xd4d+0x580*-0x4+-0x2351*-0x1)]),_0x190d23['x']=_0xaa87f4(_0x4cc965[_0x7d1945+(-0x2206+0x2027*-0x1+0x423f)],_0x4cc965[_0x7d1945+(0x1062+-0x14a+-0x1*0xf03)],_0x190d23['x']),_0x190d23['y']=_0xaa87f4(_0x4cc965[_0x7d1945+(0x66d+-0x240e+-0x2*-0xeda)],_0x4cc965[_0x7d1945+(-0x41*0x5e+-0xc6d*-0x1+0xb87)],_0x190d23['y']),_0x190d23['z']=_0xaa87f4(_0x4cc965[_0x7d1945+(-0x4a8+-0x2669*0x1+0x2f*0xeb)],_0x4cc965[_0x7d1945+(-0x1*-0x1f13+0x2054+-0x3f50)],_0x190d23['z'])),_0x29836f&&(_0x1bb06e(_0x29836f,_0x37d9ad[_0x423208*_0x1c55b9+(0x9bf+-0x390+-0x62a)]),_0x29836f['x']=_0xaa87f4(_0x4cc965[_0x7d1945+(-0x1d*0x8+-0x2586+0x2686)],_0x4cc965[_0x7d1945+(-0x20b2+0x895+0x812*0x3)],_0x29836f['x']),_0x29836f['y']=_0xaa87f4(_0x4cc965[_0x7d1945+(-0x226d+-0xe26+0x30ad)],_0x4cc965[_0x7d1945+(-0x67e*0x1+0x16fc+0x5*-0x347)],_0x29836f['y'])),_0x1a0072&&_0x59e86b>-0x1b41+0x1653+-0x1*-0x4ee){for(let _0x2ff41c=-0x208e+0x3e*-0x13+0x148*0x1d;_0x2ff41c<0x5c5*-0x6+0x1820+0xa81;++_0x2ff41c)for(let _0x2004f6=-0x9f7+0x2*-0xc3e+-0x2273*-0x1;_0x2004f6<-0x21a*-0xc+0x17c0+0x13*-0x293;++_0x2004f6)_0x1a0072[_0x2ff41c*(0x23ac+-0x65+-0x2338)+_0x2004f6]=_0x2004f6<_0x5c5ffe?_0x256e99[(_0x423208*(-0xac*-0x1+0x2*0x1130+-0x2309)+_0x2ff41c)*_0x5c5ffe+_0x2004f6]*((-0x3fd*0x7+-0x1cee+0x38e1*0x1)/(0x1*-0xc04+0xfc3+0x8*-0x58))-(0x388+-0x16b1*-0x1+-0x1a35):-0x15b5*0x1+-0x1be2+0x3197*0x1;}};}}class I2{constructor(){c(this,'numSplats'),c(this,'chunkData'),c(this,'vertexData'),c(this,'is4D'),c(this,'shData');}['createIter'](_0x351a88,_0x37928a,_0xdb556d,_0x22853a,_0xf0da0f,_0x4943de,_0x3f939f){return new R2(this,_0x351a88,_0x37928a,_0xdb556d,_0x22853a,_0xf0da0f,_0x4943de,_0x3f939f);}['calcAabb'](_0x3c2a52){const {chunkData:_0x2db352,numChunks:_0x4e058f,chunkSize:_0x343ad5}=this;let _0x20beb9=Math['exp'](Math['max'](_0x2db352[0xd0b+0xacf+-0x7*0x367],_0x2db352[0x10d1+0x25*-0xbd+0xa8a],_0x2db352[-0x1*-0xc82+0x2045+-0x2cbc])),_0x55de2c=_0x2db352[0x105*0x25+-0x6d*-0x47+0x43f4*-0x1]-_0x20beb9,_0x1379d7=_0x2db352[0x226f+0x2277+-0x44e5*0x1]-_0x20beb9,_0x4c44bb=_0x2db352[0x1b50+-0x1654*-0x1+-0x31a2]-_0x20beb9,_0x165c42=_0x2db352[0x56d+-0x14*0x17e+0x186e]+_0x20beb9,_0x5630cf=_0x2db352[0x144d*-0x1+0xc4+0x5b*0x37]+_0x20beb9,_0x3042eb=_0x2db352[-0x7f*0x35+0x584+0x14cc]+_0x20beb9;for(let _0x25fbc0=-0x3f8+-0x1a23+-0x1e1c*-0x1;_0x25fbc0<_0x4e058f;++_0x25fbc0){const _0x588c06=_0x25fbc0*_0x343ad5;_0x20beb9=Math['exp'](Math['max'](_0x2db352[_0x588c06+(-0x1b17+0x292*-0x3+0x22d6)],_0x2db352[_0x588c06+(-0x635+0x7f5+-0x1b6)],_0x2db352[_0x588c06+(-0xbb*-0xb+0x6b4+-0xeb2)])),_0x55de2c=Math['min'](_0x55de2c,_0x2db352[_0x588c06+(-0x1c8*-0x5+0x5*0x1a3+-0x23*0x7d)]-_0x20beb9),_0x1379d7=Math['min'](_0x1379d7,_0x2db352[_0x588c06+(0x31*-0xaf+-0x431+0x25b1)]-_0x20beb9),_0x4c44bb=Math['min'](_0x4c44bb,_0x2db352[_0x588c06+(-0x228*0x6+0xe3e+0xa6*-0x2)]-_0x20beb9),_0x165c42=Math['max'](_0x165c42,_0x2db352[_0x588c06+(0x17b0+0x13be+-0xe79*0x3)]+_0x20beb9),_0x5630cf=Math['max'](_0x5630cf,_0x2db352[_0x588c06+(0x1fc8+-0x1ee7+-0xdd)]+_0x20beb9),_0x3042eb=Math['max'](_0x3042eb,_0x2db352[_0x588c06+(0x1*-0x2006+-0x1fd6+-0x719*-0x9)]+_0x20beb9);}return _0x3c2a52['center']['set']((_0x55de2c+_0x165c42)*(-0x70a*0x4+-0x1b3d+-0x1e9*-0x1d+0.5),(_0x1379d7+_0x5630cf)*(0xe62+0x70d*-0x1+-0x755+0.5),(_0x4c44bb+_0x3042eb)*(0x3*-0x115+0x84e*-0x4+0x2477+0.5)),_0x3c2a52['halfExtent'+'s']['set']((_0x165c42-_0x55de2c)*(0x15fb+0x59*0xe+-0x1ad9+0.5),(_0x5630cf-_0x1379d7)*(0x14*0x9a+-0x1b54+0xf4c+0.5),(_0x3042eb-_0x4c44bb)*(-0xc1f+-0x47f+0x109e+0.5)),!(0x92f*0x1+0x1bf0+-0x1*0x251f);}['getCenters'](_0x1a5ec9){const {vertexData:_0x4f11d3,chunkData:_0x43785b,numChunks:_0xd0ed7e,chunkSize:_0x3dccd5}=this;let _0x4afa4b,_0x2a1fb5,_0x457296,_0x102076,_0x3c901e,_0x26127a;for(let _0x28eaa0=0x1b55*-0x1+-0x7a1+0x22f6;_0x28eaa0<_0xd0ed7e;++_0x28eaa0){const _0x363188=_0x28eaa0*_0x3dccd5;_0x4afa4b=_0x43785b[_0x363188+(0x7b5+0x15dc+-0x1d91)],_0x2a1fb5=_0x43785b[_0x363188+(0x1*-0x1837+0xcf4+0xb44)],_0x457296=_0x43785b[_0x363188+(-0x1183+0x2c8+0xebd*0x1)],_0x102076=_0x43785b[_0x363188+(0x1*-0x21f2+0x40*-0x95+0x4735)],_0x3c901e=_0x43785b[_0x363188+(-0x848+0xa8d*0x2+-0xcce)],_0x26127a=_0x43785b[_0x363188+(0x1a17*0x1+-0x74c*-0x3+-0x2ff6)];const _0x46d6d0=Math['min'](this['numSplats'],(_0x28eaa0+(-0x199e+-0x1bf1+0x8*0x6b2))*(-0x5f*0x49+-0x26bd*0x1+0x42d4));for(let _0x282fa0=_0x28eaa0*(0x658+-0xfb9+0xa61);_0x282fa0<_0x46d6d0;++_0x282fa0){const _0x7d976b=_0x4f11d3[_0x282fa0*(0x263c+-0x1456*-0x1+-0x3a8e)],_0x5c9b74=(_0x7d976b>>>0x76c*0x2+-0x5b*0x30+0x24d)/(-0x1b0a+0x40d+0x1efc),_0xa9356e=(_0x7d976b>>>-0x1563+-0x14*0xb5+0x2392&0x2*0x8b6+-0x750+-0x61d)/(-0xa*0x69+0x6*-0x51b+0x26bb),_0x5ac6ff=(_0x7d976b&0x1b36+0xe94*-0x1+-0x4a3)/(-0x1*-0xb93+0x1727+-0x1abb*0x1);_0x1a5ec9[_0x282fa0*(-0x1*0x1b2f+0x410+0x34e*0x7)+(0x1cf3*-0x1+0x1*-0x201d+0x3d10)]=(-0x190c+0x10e7+0x826-_0x5c9b74)*_0x4afa4b+_0x5c9b74*_0x102076,_0x1a5ec9[_0x282fa0*(-0x1*-0xcc7+0x389*0x7+-0x2583)+(-0x1*0xdea+-0x1*-0x162f+-0x844)]=(0xa8a+-0x9eb+-0x9e-_0xa9356e)*_0x2a1fb5+_0xa9356e*_0x3c901e,_0x1a5ec9[_0x282fa0*(0x73*0x5+0x2*-0x283+0x2ca)+(0x209*0x1+-0x2*-0x1183+0x769*-0x5)]=(-0x866+0xc*0xa6+0x9f-_0x5ac6ff)*_0x457296+_0x5ac6ff*_0x26127a;}}}['calcFocalP'+'oint'](_0x353eee){const {chunkData:_0x4519b3,numChunks:_0x2c4789,chunkSize:_0x699382}=this;_0x353eee['x']=-0x1f7*-0x13+0x9ab+-0x5e0*0x8,_0x353eee['y']=0xe28*-0x2+-0x20b3+0x3d03*0x1,_0x353eee['z']=-0x1236+-0x25*0x6b+0x21ad*0x1;for(let _0x5bd56e=0x2095+0x5d4+-0x2669;_0x5bd56e<_0x2c4789;++_0x5bd56e){const _0x3a4036=_0x5bd56e*_0x699382;_0x353eee['x']+=_0x4519b3[_0x3a4036+(-0x229*0x7+0x9e5*-0x2+0x22e9)]+_0x4519b3[_0x3a4036+(0x1b5*-0x4+0x2595+-0x1ebe)],_0x353eee['y']+=_0x4519b3[_0x3a4036+(0x1360*0x2+0x12d9+-0x3998)]+_0x4519b3[_0x3a4036+(0x14cf+0x2ab*0x2+0x1a21*-0x1)],_0x353eee['z']+=_0x4519b3[_0x3a4036+(-0x116*-0xb+-0xbde+0x2*-0x9)]+_0x4519b3[_0x3a4036+(0xfc5+0x1957+0x43*-0x9d)];}_0x353eee['mulScalar']((-0x1d3b+-0xb6e+0x28a9+0.5)/_0x2c4789);}get['isCompress'+'ed'](){return!(0x9e*0x37+-0x1961*0x1+-0x891);}get['numChunks'](){return Math['ceil'](this['numSplats']/(0x1*-0x180a+-0x56e+0x1e78));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}get['shBands'](){var _0x14fa97;return{0x3:0x1,0x8:0x2,0xf:0x3}[((_0x14fa97=this['shData'])==null?void(-0x23d*0x2+-0xdce+0x1248):_0x14fa97['length'])/this['numSplats']/(-0x287*0xf+-0x1*-0xbc5+0x1a27)]??0x2672+0x1*-0xa1d+-0x1*0x1c55;}async['decompress'](){const _0x3b0d5c=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x46c72a}=this;if(_0x46c72a>0x13af*0x1+0x1e03+-0x2*0x18d9){const _0x41d0a0=[];for(let _0x523bbe=0x2600+0x1c1c+-0x2*0x210e;_0x523bbe<-0x127f+-0x1*-0x1369+-0xbd;++_0x523bbe)_0x41d0a0['push']('f_rest_'+_0x523bbe);_0x3b0d5c['splice'](_0x3b0d5c['indexOf']('f_dc_0')+(-0x535*0x6+-0x161f+0x355e),-0x12b8+-0x1f00+-0x2b*-0x128,..._0x41d0a0);}const _0x200be6={};_0x3b0d5c['forEach'](_0x5553a3=>{_0x200be6[_0x5553a3]=new Float32Array(this['numSplats']);});const _0x426c7f=new P2();return _0x426c7f['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData'],this['shBands'],_0x200be6),new Promise((_0x1cb48e,_0x2b132c)=>{_0x426c7f['on']('decompress'+'ed',_0x41ea6d=>{_0x426c7f['destroy'](),_0x1cb48e(new Ia([{'name':'vertex','count':this['numSplats'],'properties':_0x3b0d5c['map'](_0x8ad50f=>({'name':_0x8ad50f,'type':'float','byteSize':0x4,'storage':_0x41ea6d[_0x8ad50f]}))}]));});});}}const D2=(_0x2f2839,_0x443e95,_0x3eb2af,_0x70e0c8,_0x42f592)=>{for(let _0x73ef01=-0x1*0x13b+-0x347+0x482;_0x73ef01<_0x42f592;++_0x73ef01)for(let _0x1d5a5d=-0x17f1+-0xa9*-0x1f+0x37a;_0x1d5a5d<_0x70e0c8;++_0x1d5a5d)_0x2f2839[_0x73ef01*_0x443e95+_0x1d5a5d]=_0x3eb2af[_0x73ef01*_0x70e0c8+_0x1d5a5d];},zg=(_0x1f3c86,_0x330302,_0xb8e603,_0x4324c8,_0x46f4ee,_0x55bc3f)=>{for(let _0x1fb4ad=-0x830+-0xd70+-0x4*-0x568;_0x1fb4ad<_0x46f4ee;++_0x1fb4ad)for(let _0xe659f=-0x30a*0x6+-0x1f04+0x3140;_0xe659f<_0x4324c8;++_0xe659f)_0x1f3c86[_0x1fb4ad*_0x330302+_0xe659f]=_0xb8e603[_0x1fb4ad*_0x4324c8+_0xe659f+_0x55bc3f];};class L2{constructor(_0x4f591f,_0x53ce6c){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'aabb'),c(this,'is4D'),c(this,'centers'),c(this,'packedText'+'ure'),c(this,'packedTime'+'Texture'),c(this,'chunkTextu'+'re'),c(this,'shTexture0'),c(this,'shTexture1'),c(this,'shTexture2');const {chunkData:_0x3bc8af,chunkSize:_0x5bb471,numChunks:_0x430ed8,numSplats:_0x132654,vertexData:_0x31b9a6,shBands:_0x4cddbc,is4D:_0x3e29ba}=_0x53ce6c;this['device']=_0x4f591f,this['numSplats']=_0x132654,this['numVisible'+'Splats']=_0x132654,this['is4D']=_0x3e29ba,this['aabb']=new _e(),_0x53ce6c['calcAabb'](this['aabb']),this['centers']=new Float32Array(_0x132654*(-0x1cae+-0xc*-0x303+-0x773)),_0x53ce6c['getCenters'](this['centers']),this['packedText'+'ure']=this['createText'+'ure']('packedText'+'ure',ut,this['evalTextur'+'eSize'](_0x132654));const _0xb2aba5=this['packedText'+'ure']['lock']();zg(_0xb2aba5,-0x191c+-0x107*-0x15+0x38d,_0x31b9a6,0x240d+0x1628*0x1+-0x3a2f,_0x132654,-0x2b*0x25+-0xf22+0x1559),this['packedTime'+'Texture']=this['createText'+'ure']('packedTime'+'Texture',ut,this['evalTextur'+'eSize'](_0x132654));const _0x486a5a=this['packedTime'+'Texture']['lock']();zg(_0x486a5a,0x2*0x361+-0x1b53+-0x17*-0xe5,_0x31b9a6,-0x1bd7*-0x1+-0xa0f+-0x11c2,_0x132654,0x1d21+0xc3*-0x15+0x1*-0xd1e);const _0x3d8efa=this['evalTextur'+'eSize'](_0x430ed8);_0x3d8efa['x']*=-0xe51*0x1+0x365*-0x5+0x1f51*0x1,this['chunkTextu'+'re']=this['createText'+'ure']('chunkData',Ke,_0x3d8efa);const _0x10a860=this['chunkTextu'+'re']['lock']();if(D2(_0x10a860,(-0x7*0x2d3+0x29d+0x112c*0x1)*(-0x1*-0xc2d+-0x158d*-0x1+-0x21b3),_0x3bc8af,_0x5bb471,_0x430ed8),_0x5bb471===0x24da+0x184c+-0x42*0xed){for(let _0x394bd9=0x25b7+-0x1b4b*-0x1+-0x4102;_0x394bd9<_0x430ed8;++_0x394bd9)_0x10a860[_0x394bd9*(0x269*0x3+0x2225+-0x294c)+(-0x3b*-0x1+-0x9b7+-0x15d*-0x7)]=-0x5*-0xbc+0xe4c+0x9*-0x1ff,_0x10a860[_0x394bd9*(0x1*-0x2405+-0x1*-0x995+0x1a84*0x1)+(-0x471+0x4f*-0x29+0x1128)]=0x1f2f+-0x1729+-0x805*0x1,_0x10a860[_0x394bd9*(0x1402+-0x212*-0x9+-0x2690)+(0x1f52+0x133*0x19+-0x3d3c)]=-0x72e*-0x3+-0x1d3d+0x7b4;}if(this['chunkTextu'+'re']['unlock'](),_0x4cddbc>-0x26*0xd4+-0x14*0x1e2+-0x452*-0x10){const {shData:_0x2f4f04}=_0x53ce6c,_0x31d96d=this['evalTextur'+'eSize'](_0x132654),_0x10a24c=this['createText'+'ure']('shTexture0',ut,_0x31d96d),_0x588ea1=this['createText'+'ure']('shTexture1',ut,_0x31d96d),_0x453da5=this['createText'+'ure']('shTexture2',ut,_0x31d96d),_0x31b566=_0x10a24c['lock'](),_0x52a8fc=_0x588ea1['lock'](),_0x3e46a6=_0x453da5['lock'](),_0x2b8371=new Uint8Array(_0x31b566['buffer']),_0x3af41d=new Uint8Array(_0x52a8fc['buffer']),_0x3b45ee=new Uint8Array(_0x3e46a6['buffer']),_0x3924f3=[0x47*0x5d+-0x6d1+0x12f7*-0x1,0x1*-0x2327+-0x2684+0x49b3,-0x373*-0xa+0xe67*-0x1+0x281*-0x8][_0x4cddbc-(-0x14d0+-0x152d+0x1ae*0x19)];for(let _0x503c05=-0x1b47+-0xf01+0x84*0x52;_0x503c05<_0x132654;++_0x503c05)for(let _0x17627c=-0x228*0x2+0x4*-0x182+0xa58;_0x17627c<-0xdfc+-0x2f*-0x6d+-0x2fc*0x2;++_0x17627c)_0x2b8371[_0x503c05*(0x17*0x65+-0x3*-0x9fa+0x3*-0xcfb)+_0x17627c]=_0x17627c<_0x3924f3?_0x2f4f04[(_0x503c05*(-0x1462+-0xc5f*-0x1+-0x9e*-0xd)+(-0x5e*0x44+0x11da+0x71e))*_0x3924f3+_0x17627c]:0x592+-0xa6b+-0x72*-0xc,_0x3af41d[_0x503c05*(0xfff+0xa*-0x392+0x13c5)+_0x17627c]=_0x17627c<_0x3924f3?_0x2f4f04[(_0x503c05*(0x6d8+0x1a60+-0x2135)+(-0x1d6f+0x24f7*-0x1+0x4267*0x1))*_0x3924f3+_0x17627c]:0xd4b+-0x3d3+-0x8f9,_0x3b45ee[_0x503c05*(-0x101*-0x1f+-0x775+0x9f*-0x26)+_0x17627c]=_0x17627c<_0x3924f3?_0x2f4f04[(_0x503c05*(-0x13b+-0x8e*0x34+-0xf0b*-0x2)+(0x1196*-0x1+-0x15*-0x13d+0x869*-0x1))*_0x3924f3+_0x17627c]:0x1175*-0x2+-0x393+0x14*0x1f3;_0x10a24c['unlock'](),_0x588ea1['unlock'](),_0x453da5['unlock'](),this['shTexture0']=_0x10a24c,this['shTexture1']=_0x588ea1,this['shTexture2']=_0x453da5;}else this['shTexture0']=null,this['shTexture1']=null,this['shTexture2']=null;}['destroy'](){var _0x365980,_0x3e75af,_0x27f37a,_0x41d1e4,_0x5702a2,_0x5ec097;(_0x365980=this['packedText'+'ure'])==null||_0x365980['destroy'](),(_0x3e75af=this['packedTime'+'Texture'])==null||_0x3e75af['destroy'](),(_0x27f37a=this['chunkTextu'+'re'])==null||_0x27f37a['destroy'](),(_0x41d1e4=this['shTexture0'])==null||_0x41d1e4['destroy'](),(_0x5702a2=this['shTexture1'])==null||_0x5702a2['destroy'](),(_0x5ec097=this['shTexture2'])==null||_0x5ec097['destroy']();}['createMate'+'rial'](_0x3c3859){const _0x535ecb=z0(_0x3c3859);return _0x535ecb['setDefine']('GSPLAT_COM'+'PRESSED_DA'+'TA',!(-0x2276+-0x63d*-0x1+0x1c39)),_0x535ecb['setParamet'+'er']('packedText'+'ure',this['packedText'+'ure']),_0x535ecb['setParamet'+'er']('packedTime'+'Texture',this['packedTime'+'Texture']),_0x535ecb['setParamet'+'er']('chunkTextu'+'re',this['chunkTextu'+'re']),_0x535ecb['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x535ecb['setParamet'+'er']('IS_4D',this['is4D']),this['shTexture0']?(_0x535ecb['setDefine']('SH_BANDS',0x1ba1+0xdd5*0x2+-0x3748),_0x535ecb['setParamet'+'er']('shTexture0',this['shTexture0']),_0x535ecb['setParamet'+'er']('shTexture1',this['shTexture1']),_0x535ecb['setParamet'+'er']('shTexture2',this['shTexture2'])):_0x535ecb['setDefine']('SH_BANDS',0x1013+-0x26e4+-0x1*-0x16d1),_0x535ecb;}['evalTextur'+'eSize'](_0x42ba73){const _0x363d0a=Math['ceil'](Math['sqrt'](_0x42ba73)),_0x4fcca8=Math['ceil'](_0x42ba73/_0x363d0a);return new W(_0x363d0a,_0x4fcca8);}['createText'+'ure'](_0x5805ab,_0x5c1033,_0x31a8a0,_0x4c879e){return new he(this['device'],{'name':_0x5805ab,'width':_0x31a8a0['x'],'height':_0x31a8a0['y'],'format':_0x5c1033,'cubemap':!(-0x5*0x1c3+-0xf7e+0x184e),'mipmaps':!(-0x43f*-0x7+0x13*0x1e2+-0x417e),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,..._0x4c879e?{'levels':[_0x4c879e]}:{}});}}class F2{constructor(_0x57db2f,_0x544717,_0x1cfbb9){c(this,'device'),c(this,'splatData'),c(this,'splat',null),c(this,'comments',null),c(this,'splatInsta'+'nce',null),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['device']=_0x57db2f,this['splatData']=_0x544717,this['comments']=_0x1cfbb9);}['destroy'](){var _0x533f2b;this['device']=null,this['splatData']=null,(_0x533f2b=this['splat'])==null||_0x533f2b['destroy'](),this['splat']=null,this['splatInsta'+'nce']=null;}['createSpla'+'t'](){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eSplat'),this['splat']||(this['splat']=this['splatData']['isCompress'+'ed']?new L2(this['device'],this['splatData']):new V1(this['device'],this['splatData'])),this['splat'];}['appendGSpl'+'atData'](_0x5ab021,_0x4e5ab1,_0x1e35fd){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatDat'+'a'),this['splat']['timeOption']=_0x4e5ab1,this['splatData']['appendGSpl'+'atData'](_0x5ab021,_0x1e35fd,_0x4e5ab1),this['splat']['updateData'](this['splatData']),this['splatInsta'+'nce']['updateData'](this['splat']);}['instantiat'+'e'](_0xf78588={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.insta'+'ntiate'),this['splatInsta'+'nce']=this['createInst'+'ance'](_0xf78588);const _0xef4147=new We(),_0x15772b=_0xef4147['addCompone'+'nt']('gsplat',{'instance':this['splatInsta'+'nce']});return _0xef4147['setLocalEu'+'lerAngles'](-0x17ee+-0x210+-0x6*-0x455,0x265d+0x1ee2*-0x1+-0x77b,0x2359+0x4*0x45f+-0x34d5),_0x15772b['customAabb']=this['splatInsta'+'nce']['splat']['aabb']['clone'](),_0xef4147;}['createInst'+'ance'](_0x1cb144={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eInstance');const _0x338a96=this['createSpla'+'t']();return new Np(_0x338a96,_0x1cb144);}}const Ug=new Uint8Array([0x1e1*0x1+-0x13*0x91+0x952,-0x142+-0x19b*-0xd+-0x1331,0x16a*-0xa+-0x11*-0xe5+-0x98,-0x78d*0x3+-0x7b8+0x1e69]),Vg=new Uint8Array([-0x5c3+-0x1*0x220f+-0x1*-0x27dc,0x9bb+0x15c6+-0x7c7*0x4,0x1*0x23de+-0xa5b+0x1915*-0x1,-0x1*0x2239+0x700*0x2+-0x1*-0x149d,0x1*0x1c9b+0x14f6+-0x6*0x833,0x245d+0xc1*-0x1+-0x2334,0x1a*-0x12b+-0x2*-0xef7+0x3*0x47,-0x2c*-0x1f+0x1d*0xbd+0x1e2*-0xe,-0x2c*0x20+0xe4c+0x21a*-0x4,-0x1e31+0x2387+-0x4f1,0x11c6+-0x2292+0x113e,0x3a2*-0x5+-0x1bef+-0x5d*-0x7f]),bf=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class O2{constructor(_0x36cea9,_0x58ec7e){c(this,'reader'),c(this,'progressFu'+'nc'),c(this,'data'),c(this,'view'),c(this,'head',-0xac0+-0xa49+0x1509),c(this,'tail',-0x1*0x716+-0x3d*0x4f+0x19e9*0x1),(this['reader']=_0x36cea9,this['progressFu'+'nc']=_0x58ec7e);}async['read'](){var _0x45c266;const {value:_0x2cd737,done:_0x3f40de}=await this['reader']['read']();if(_0x3f40de)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x2cd737),(_0x45c266=this['progressFu'+'nc'])==null||_0x45c266['call'](this,_0x2cd737['byteLength']);}['push'](_0x3c6a8b){if(!this['data'])this['data']=_0x3c6a8b,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x3c6a8b['length'];else{const _0x45838c=this['tail']-this['head'],_0x180050=_0x45838c+_0x3c6a8b['length'];if(this['data']['length']>=_0x180050)this['head']>0x2157+-0x2505+0x3ae*0x1?(this['data']['copyWithin'](-0x1*-0x501+0x602+0x1*-0xb03,this['head'],this['tail']),this['data']['set'](_0x3c6a8b,_0x45838c),this['head']=-0x5*0x40f+-0xa0a+-0x1e55*-0x1,this['tail']=_0x180050):(this['data']['set'](_0x3c6a8b,this['tail']),this['tail']+=_0x3c6a8b['length']);else{const _0x47dd7e=new Uint8Array(_0x180050);this['head']>-0x1*-0xdc+0x5*0x19+-0x159||this['tail']<this['data']['length']?_0x47dd7e['set'](this['data']['subarray'](this['head'],this['tail']),0x10*-0x170+-0x1be6+-0x32e6*-0x1):_0x47dd7e['set'](this['data'],-0x1*0x1cb2+-0x23e+0x2c*0xb4),_0x47dd7e['set'](_0x3c6a8b,_0x45838c),this['data']=_0x47dd7e,this['view']=new DataView(this['data']['buffer']),this['head']=-0x24af+0x1*-0x62+0x2511,this['tail']=_0x180050;}}}['compact'](){this['head']>0x2676+0xab7+-0x312d&&(this['data']['copyWithin'](-0x1b10+-0x1*0x1d51+-0x11b*-0x33,this['head'],this['tail']),this['tail']-=this['head'],this['head']=-0x1*0x863+0x11dd*-0x1+0x348*0x8);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0xfe8c5f=this['view']['getInt8'](this['head']);return this['head']++,_0xfe8c5f;}['getUint8'](){const _0x4b1d20=this['view']['getUint8'](this['head']);return this['head']++,_0x4b1d20;}['getInt16'](){const _0x110b67=this['view']['getInt16'](this['head'],!(-0x7e*0x4+0x1*0x2325+-0x3*0xb0f));return this['head']+=0x966*-0x3+0x2522+0xfe*-0x9,_0x110b67;}['getUint16'](){const _0x42ff38=this['view']['getUint16'](this['head'],!(-0xc52+0x255+0x9fd));return this['head']+=-0x3*0x4e+0x2359*-0x1+0x2445,_0x42ff38;}['getInt32'](){const _0x407b15=this['view']['getInt32'](this['head'],!(-0x1485+-0x1447+-0x28cc*-0x1));return this['head']+=0x8cc*-0x1+0x1356+-0xa86,_0x407b15;}['getUint32'](){const _0x47f25b=this['view']['getUint32'](this['head'],!(0xd27+0x1199+0x18*-0x148));return this['head']+=0x13d*-0x15+0x1c1e+-0x219*0x1,_0x47f25b;}['getFloat32'](){const _0x215d8f=this['view']['getFloat32'](this['head'],!(0xa5d*0x2+0x1950+-0x2e0a));return this['head']+=0x9a9+0x3d2+-0xd77,_0x215d8f;}['getFloat64'](){const _0x3be622=this['view']['getFloat64'](this['head'],!(-0x1397+-0x17*0xc2+0x2505));return this['head']+=-0x1*-0x1afe+0x3*0x3a+-0x1ba4,_0x3be622;}}const k2=_0x41faca=>{console['log']('____\x20ENGIN'+'E\x20IVAN','parse\x20ply\x20'+'Header');const _0x37a3f6=[],_0x56a4d8=[];let _0x24071c;for(let _0x54bcd3=-0x7*-0x5f+0x17d*-0x4+0x35c;_0x54bcd3<_0x41faca['length'];++_0x54bcd3){const _0x583a15=_0x41faca[_0x54bcd3]['split']('\x20');switch(_0x583a15[-0xb3*0x20+0xd8e*-0x1+0x23ee]){case'comment':_0x56a4d8['push'](_0x583a15['slice'](-0x1297+0x17cc+-0x534)['join']('\x20'));break;case'format':_0x24071c=_0x583a15[0xac7+0x267e+-0x3144];break;case'element':_0x37a3f6['push']({'name':_0x583a15[0x1*0x190e+-0x1bde+0x1*0x2d1],'count':parseInt(_0x583a15[0x1f59+-0x1d77*-0x1+0x2*-0x1e67],-0x167b+0x1798+-0x113),'properties':[]});break;case'property':{if(!bf['has'](_0x583a15[-0xf17*-0x1+0xf*0x18a+0x7*-0x574]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x583a15[0x1*0x12aa+0xecb+-0x2174]+('\x27\x20in\x20ply\x20h'+'eader'));_0x37a3f6[_0x37a3f6['length']-(-0x16df+0xb*-0x229+0x2ea3*0x1)]['properties']['push']({'type':_0x583a15[0x1cdb+-0x2c5*-0x1+-0x653*0x5],'name':_0x583a15[-0x2*0x89f+-0x1518+0x1*0x2658],'storage':null,'byteSize':bf['get'](_0x583a15[-0x64c+0xb5b+-0x50e])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x583a15[-0x66*-0x2+0xb15*-0x1+0xa49]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x37a3f6,'format':_0x24071c,'comments':_0x56a4d8};},B2=_0x4c4885=>{const _0x48325e=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x558bee=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x372efe=new Array(-0x14f+0x2355+-0x6c5*0x5)['fill']('')['map']((_0x1f4963,_0x55ee3c)=>'f_rest_'+_0x55ee3c),_0x333c7d=()=>_0x4c4885[0x192b+-0x301*0x2+-0x1*0x1329]['name']==='chunk'&&_0x4c4885[0x85d+0x2664+0x1*-0x2ec1]['properties']['every']((_0x35b6ab,_0x21b676)=>_0x35b6ab['name']===_0x48325e[_0x21b676]&&_0x35b6ab['type']==='float')&&_0x4c4885[-0x2e*0x7c+-0x1fdb*0x1+0x3624]['name']==='vertex'&&_0x4c4885[0x1e20+0x1a5c+-0x387b]['properties']['every']((_0x5a36b9,_0x2a9b56)=>_0x5a36b9['name']===_0x558bee[_0x2a9b56]&&_0x5a36b9['type']==='uint'),_0x5c2889=()=>_0x4c4885[-0x1f23+-0x22a8+-0x41cd*-0x1]['name']==='sh'&&[-0x1183+-0x57*0x3+-0x1291*-0x1,-0x154a+0x4*-0x18e+0x1b9a,-0x78b+0x5*-0x2a1+0x14dd]['indexOf'](_0x4c4885[-0x10fc*0x1+0x23d8*-0x1+0x34d6]['properties']['length'])!==-(-0x1deb+0x2*0x59b+-0x12b6*-0x1)&&_0x4c4885[0x25*-0x7+0x1*0x1dae+-0x1ca9]['properties']['every']((_0x1d9eb1,_0x17984a)=>_0x1d9eb1['name']===_0x372efe[_0x17984a]&&_0x1d9eb1['type']==='uchar');return _0x4c4885['length']===-0x1*0x5f7+-0x1*-0x186d+-0x1274&&_0x333c7d()||_0x4c4885['length']===-0x773+-0x4*-0x892+-0x1ad2*0x1&&_0x333c7d()&&_0x5c2889();},N2=_0x365996=>_0x365996['length']===-0x190f+0x24a0+0x4*-0x2e4&&_0x365996[0x1*-0xc7+-0x1f70+0x2037]['name']==='vertex'&&_0x365996[-0xeb+-0xd*0xaa+0x98d]['properties']['every'](_0x3bbea3=>_0x3bbea3['type']==='float'),z2=async(_0x3d3845,_0x16801e)=>{const _0x47d045=new I2(),_0x17eda0=_0x16801e[-0x205d+-0x1*0x19ed+0x3a4a]['count'],_0x1aee06=_0x16801e[0x1597+-0x46a+-0x112d]['properties']['length'],_0x16d515=_0x16801e[-0xc5*0x27+-0x56*0x2b+0x2c76]['count'],_0x420523=_0x16801e[-0x1*-0x1cc9+-0x1ef5+-0x22d*-0x1]['properties']['some'](_0x2dd0d2=>_0x2dd0d2['name']==='packed_tim'+'e'),_0x20b0a7=_0x232f10=>{const _0x3738bf=Math['ceil'](Math['sqrt'](_0x232f10)),_0x50de05=Math['ceil'](_0x232f10/_0x3738bf);return _0x3738bf*_0x50de05;};_0x47d045['numSplats']=_0x16d515,_0x47d045['is4D']=_0x420523,_0x47d045['chunkData']=new Float32Array(_0x17eda0*_0x1aee06),_0x47d045['vertexData']=new Uint32Array(_0x20b0a7(_0x16d515)*(-0x575+0xb5b+0x8*-0xbc));const _0x4f922b=async(_0x39fde6,_0x3f90c2)=>{const _0x3c6202=new Uint8Array(_0x39fde6);let _0x44725c=0x212a+0xa08+-0x26*0x123;for(;_0x44725c<_0x3f90c2;){for(;_0x3d3845['remaining']===0xb6a+0x228d+0x1*-0x2df7;)await _0x3d3845['read']();const _0xae5cf4=Math['min'](_0x3f90c2-_0x44725c,_0x3d3845['remaining']),_0xa08fd1=_0x3d3845['data'];for(let _0x4c8c40=0x16cb*-0x1+0x562*0x3+-0xbd*-0x9;_0x4c8c40<_0xae5cf4;++_0x4c8c40)_0x3c6202[_0x44725c++]=_0xa08fd1[_0x3d3845['head']++];}};return await _0x4f922b(_0x47d045['chunkData']['buffer'],_0x17eda0*_0x1aee06*(0x10b1*-0x1+-0x1fcb+0x3080)),await _0x4f922b(_0x47d045['vertexData']['buffer'],_0x16d515*(0x201f+-0x1b54+-0x4c5)*(-0x10ac+-0x6c*-0x6+-0x38a*-0x4)),_0x16801e['length']===-0x2172+-0x245f*-0x1+-0x2ea&&(_0x47d045['shData']=new Uint8Array(_0x16801e[-0x2076*0x1+0xa*0x187+0x1132]['count']*_0x16801e[-0x1*-0x1bdf+0x1*-0x838+-0x13a5]['properties']['length']),await _0x4f922b(_0x47d045['shData']['buffer'],_0x47d045['shData']['byteLength'])),_0x47d045;},U2=async(_0x273b6d,_0x257125)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readFloatP'+'ly');const _0x39b3e4=_0x257125[-0x1164+-0xabd+0x1c21],_0x3c032e=_0x39b3e4['properties'],_0x52b93f=_0x3c032e['length'],_0x2aad23=_0x3c032e['map'](_0x3a23ad=>_0x3a23ad['storage']),_0x2589da=_0x3c032e['reduce']((_0x530ce4,_0x173c24)=>_0x530ce4+_0x173c24['byteSize'],0x1aac+0x13*0x1c4+-0x3c38);let _0x1b66c3=-0x3*0xc99+0x2*-0x11+0x25ed,_0xf11ac0;const _0x23dc46=()=>{const _0x414b42=_0x273b6d['data']['buffer'];(_0xf11ac0==null?void(0x11b8+0xb*-0x2c7+0xf*0xdb):_0xf11ac0['buffer'])!==_0x414b42&&(_0xf11ac0=new Float32Array(_0x414b42,0xdea*-0x2+-0x1*-0x1fa3+-0x145*0x3,_0x414b42['byteLength']/(0x4a*-0x49+-0xf2e+0x244c)));};for(_0x23dc46();_0x1b66c3<_0x39b3e4['count'];){for(;_0x273b6d['remaining']<_0x2589da;)await _0x273b6d['read'](),_0x23dc46();const _0x5f42fc=Math['min'](_0x39b3e4['count']-_0x1b66c3,Math['floor'](_0x273b6d['remaining']/_0x2589da));for(let _0x202cfc=-0x15b*0xa+-0x8*0x91+0x1216;_0x202cfc<_0x52b93f;++_0x202cfc){const _0x48a484=_0x2aad23[_0x202cfc];for(let _0x4b0fab=-0xcf+-0x241*0x1+-0x1c*-0x1c;_0x4b0fab<_0x5f42fc;++_0x4b0fab)_0x48a484[_0x4b0fab+_0x1b66c3]=_0xf11ac0[_0x4b0fab*_0x52b93f+_0x202cfc];}_0x1b66c3+=_0x5f42fc,_0x273b6d['head']+=_0x5f42fc*_0x2589da;}return new Ia(_0x257125);},V2=async(_0x1f89a1,_0x15a724)=>{for(let _0x568fc3=0x101f*-0x1+-0x71a+-0x29*-0x91;_0x568fc3<_0x15a724['length'];++_0x568fc3){const _0x3b2945=_0x15a724[_0x568fc3],_0x2169fc=_0x3b2945['properties']['reduce']((_0x3cb89d,_0x5a2fcb)=>_0x3cb89d+_0x5a2fcb['byteSize'],0x1*0x1a6f+0x96*-0x3+0x18ad*-0x1),_0x3a3ef7=_0x3b2945['properties']['map'](_0x3b0685=>{if(_0x3b0685['storage'])switch(_0x3b0685['type']){case'char':return(_0x4c33dc,_0x34bfae)=>{_0x3b0685['storage'][_0x34bfae]=_0x4c33dc['getInt8']();};case'uchar':return(_0x41bbcc,_0x5e07d8)=>{_0x3b0685['storage'][_0x5e07d8]=_0x41bbcc['getUint8']();};case'short':return(_0x127f39,_0x29b7de)=>{_0x3b0685['storage'][_0x29b7de]=_0x127f39['getInt16']();};case'ushort':return(_0x1d298a,_0x4ec064)=>{_0x3b0685['storage'][_0x4ec064]=_0x1d298a['getUint16']();};case'int':return(_0x80cd9a,_0x1c5ecb)=>{_0x3b0685['storage'][_0x1c5ecb]=_0x80cd9a['getInt32']();};case'uint':return(_0x2bf78b,_0x571d43)=>{_0x3b0685['storage'][_0x571d43]=_0x2bf78b['getUint32']();};case'float':return(_0x36e0c9,_0x589a4c)=>{_0x3b0685['storage'][_0x589a4c]=_0x36e0c9['getFloat32']();};case'double':return(_0x4c2649,_0x280593)=>{_0x3b0685['storage'][_0x280593]=_0x4c2649['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x3b0685['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x384996=>{_0x384996['head']+=_0x3b0685['byteSize'];};});let _0x36ed80=0x4*0x54d+-0x995+-0x7*0x1a9;for(;_0x36ed80<_0x3b2945['count'];){for(;_0x1f89a1['remaining']<_0x2169fc;)await _0x1f89a1['read']();const _0x15dafd=Math['min'](_0x3b2945['count']-_0x36ed80,Math['floor'](_0x1f89a1['remaining']/_0x2169fc));for(let _0x13e53e=0x2*-0x351+-0x18d8+0x1f7a;_0x13e53e<_0x15dafd;++_0x13e53e){for(let _0x507430=0x1eca+0x33f*0x3+0x2887*-0x1;_0x507430<_0x3b2945['properties']['length'];++_0x507430)_0x3a3ef7[_0x507430](_0x1f89a1,_0x36ed80);_0x36ed80++;}}}return new Ia(_0x15a724);},G2=async(_0xe11825,_0x1dd15d=null,_0x534d72=null)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readPly');const _0x294f34=(_0x4de817,_0x57edef)=>{const _0x163264=_0x4de817['length']-_0x57edef['length'];let _0x42552e,_0x482a82;for(_0x42552e=-0x2370+-0x574*0x7+0x499c;_0x42552e<=_0x163264;++_0x42552e){for(_0x482a82=-0x1cd8+0x1*0x2fe+0xced*0x2;_0x482a82<_0x57edef['length']&&_0x4de817[_0x42552e+_0x482a82]===_0x57edef[_0x482a82];++_0x482a82);if(_0x482a82===_0x57edef['length'])return _0x42552e;}return-(-0xdd7+0x602*-0x5+0x15f1*0x2);},_0x5d4a1f=(_0xf75e51,_0x1badb0)=>{if(_0xf75e51['length']<_0x1badb0['length'])return!(-0x1*-0x14d3+0x69+-0x153b);for(let _0x4503fe=-0x22b*-0x6+-0x1e13+0x1111;_0x4503fe<_0x1badb0['length'];++_0x4503fe)if(_0xf75e51[_0x4503fe]!==_0x1badb0[_0x4503fe])return!(0xf32+-0x1edb+0xfaa);return!(0x1b91+0xd54*0x2+-0x295*0x15);},_0x57435e=new O2(_0xe11825,_0x534d72);let _0x3130cd;for(;;){if(await _0x57435e['read'](),_0x57435e['tail']>=Ug['length']&&!_0x5d4a1f(_0x57435e['data'],Ug))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x3130cd=_0x294f34(_0x57435e['data'],Vg),_0x3130cd!==-(-0x139a+0x11b*0xb+0x772))break;}const _0x51c33f=new TextDecoder('ascii')['decode'](_0x57435e['data']['subarray'](0x1*-0xf47+0x1c*0x12+0xd4f,_0x3130cd))['split']('\x0a'),{elements:_0x212e86,format:_0x5aff9b,comments:_0x1a6dbb}=k2(_0x51c33f);if(_0x5aff9b!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x57435e['head']=_0x3130cd+Vg['length'],_0x57435e['compact'](),{'data':await((async()=>B2(_0x212e86)?await z2(_0x57435e,_0x212e86):(_0x212e86['forEach'](_0x59fde9=>{_0x59fde9['properties']['forEach'](_0x3641fa=>{const _0x32ca37=bf['get'](_0x3641fa['type']);if(_0x32ca37){const _0x58b959=!_0x1dd15d||_0x1dd15d(_0x3641fa['name'])?new _0x32ca37(_0x59fde9['count']):null;_0x3641fa['storage']=_0x58b959;}});}),N2(_0x212e86)?await U2(_0x57435e,_0x212e86):await V2(_0x57435e,_0x212e86)))()),'comments':_0x1a6dbb};},H2=_0x4d951d=>!(0x153f+0x2*-0x11b7+0x1*0xe2f);class W2{constructor(_0x2a467a,_0x4bb43a,_0x9c6fbc){c(this,'urlList'),c(this,'device'),c(this,'assets'),c(this,'maxRetries'),c(this,'gsplatReso'+'urce'),(console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20P'+'lyParser.c'+'onstructor'),this['device']=_0x2a467a,this['assets']=_0x4bb43a,this['maxRetries']=_0x9c6fbc,this['urlList']=[],this['gsplatReso'+'urce']=null);}async['load'](_0x241c03,_0x5eb81b,_0x4421c7){this['urlList']=[],console['log']('____\x20ENGIN'+'E\x20IVAN','PlyParser.'+'load'),_0x241c03['load']['includes'](',')?this['urlList']=_0x241c03['load']['split'](','):this['urlList']['push'](_0x241c03['load']);const _0x5080b2=_0x4421c7['data']['loadAllSeq']?this['urlList']['length']:-0x32*-0x49+-0x170+-0x1*0xcd1,_0x50e1f2=_0x4421c7['data']['timeOption'],_0x1023f8=_0x4421c7['data']['events'];for(let _0x3efc80=-0x1be4+0x153+0x1a91*0x1;_0x3efc80<_0x5080b2;_0x3efc80++)await this['loadGsplat'+'Data'](this['urlList'][_0x3efc80]['trim'](),_0x5eb81b,_0x4421c7,_0x3efc80,_0x50e1f2,_0x1023f8);}async['loadGsplat'+'Data'](_0x1a7f62,_0x41a643,_0x58e1ea,_0x325472,_0x38f17c,_0x408c20){var _0x202801;try{const _0x358e48=await fetch(_0x1a7f62);if(!_0x358e48||!_0x358e48['body'])_0x41a643('Error\x20load'+'ing\x20resour'+'ce',null);else{const _0x4ad730=parseInt(_0x358e48['headers']['get']('content-le'+'ngth')??'0',-0x143c+0x1*0x1475+-0x2f);let _0x5e6234=0xe0d+-0x23*0xdb+0xfe4;const {data:_0x14d83c,comments:_0x41d4c6}=await G2(_0x358e48['body']['getReader'](),_0x58e1ea['data']['elementFil'+'ter']??H2,_0x17117c=>{_0x5e6234+=_0x17117c,_0x58e1ea&&_0x408c20['fire']('progress',_0x5e6234,_0x4ad730);});_0x14d83c['isCompress'+'ed']||_0x58e1ea['data']['reorder'],this['gsplatReso'+'urce']&&((_0x202801=this['gsplatReso'+'urce'])!=null&&_0x202801['splatData'])?this['gsplatReso'+'urce']['appendGSpl'+'atData'](_0x14d83c['isCompress'+'ed']&&_0x58e1ea['data']['decompress']?await _0x14d83c['decompress']():_0x14d83c,_0x38f17c,_0x325472):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new F2(this['device'],_0x14d83c['isCompress'+'ed']&&_0x58e1ea['data']['decompress']?await _0x14d83c['decompress']():_0x14d83c,_0x41d4c6),this['gsplatReso'+'urce']['timeOption']=_0x38f17c,_0x408c20['fire']('progressEn'+'d')),_0x41a643(null,this['gsplatReso'+'urce']);}}catch(_0x240fca){_0x41a643(_0x240fca,null);}}['open'](_0x5c894f,_0x3fccbf){return _0x3fccbf;}}class $2 extends Ne{constructor(_0x2b3ff9){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x2b3ff9,'gsplat'),this['parser']=new W2(_0x2b3ff9['graphicsDe'+'vice'],_0x2b3ff9['assets'],-0x1*0x95b+-0x16*-0xd3+-0x22*0x42);}['load'](_0x8a26a3,_0xfebdb0,_0x4ca702){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x8a26a3=='string'&&(_0x8a26a3={'load':_0x8a26a3,'original':_0x8a26a3}),this['parser']['load'](_0x8a26a3,_0xfebdb0,_0x4ca702);}['open'](_0x4b7e36,_0x2b73dc,_0x27c984){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),this['parser']['open'](_0x4b7e36,_0x2b73dc,_0x27c984);}}class wf{static['setCompres'+'sedPRS'](_0x336223,_0x29799e,_0x2bdb17){const _0x3fe343=_0x2bdb17['singleVecs'];let _0x557766,_0x3e54aa;const _0x386df8=_0x29799e['___1'];_0x386df8||(_0x557766=_0x2bdb17['tripleVecs'],_0x3e54aa=_0x29799e['___2']);let _0x446ca9=_0x386df8?_0x386df8[0x58b+0x8d*0x35+0x26*-0xea]:_0x557766[_0x3e54aa];_0x336223['setLocalPo'+'sition'](_0x3fe343[_0x446ca9],_0x3fe343[_0x446ca9+(-0x1c7c+0xcc+0x8b*0x33)],_0x3fe343[_0x446ca9+(-0x1618+-0x1090+0x26aa)]),_0x446ca9=_0x386df8?_0x386df8[-0x1*0x445+0x25c*0xa+-0x1352]:_0x557766[_0x3e54aa+(-0x22fa+0x11*-0x193+-0x7*-0x8d2)],_0x336223['setLocalEu'+'lerAngles'](_0x3fe343[_0x446ca9],_0x3fe343[_0x446ca9+(-0x2632*0x1+-0x64d*-0x1+0x1fe6)],_0x3fe343[_0x446ca9+(-0x2*0x658+-0x9b6+0x1668)]),_0x446ca9=_0x386df8?_0x386df8[0x20*-0x1f+-0x1489*0x1+0x37d*0x7]:_0x557766[_0x3e54aa+(0x269+0xab3*0x1+0x2*-0x68d)],_0x336223['setLocalSc'+'ale'](_0x3fe343[_0x446ca9],_0x3fe343[_0x446ca9+(0x1*-0x238f+0x5a4+-0x2*-0xef6)],_0x3fe343[_0x446ca9+(0x1d*-0xf4+-0x2338+0x3ede)]);}static['oneCharToK'+'ey'](_0x521833,_0x507d53){const _0x23a308=_0x521833['charCodeAt'](-0x3b*0x29+0x1ee*0x9+0x1*-0x7eb)-_0x507d53['fieldFirst'+'Code'];return _0x507d53['fieldArray'][_0x23a308];}static['multCharTo'+'Key'](_0x3f149b,_0x5dea0a){let _0x303d3a=0x1a19+0x1be2+0x427*-0xd;for(let _0x517483=0x3ea+0xe71*-0x1+0xa87;_0x517483<_0x3f149b['length'];_0x517483++)_0x303d3a=_0x303d3a*_0x5dea0a['fieldCodeB'+'ase']+_0x3f149b['charCodeAt'](_0x517483)-_0x5dea0a['fieldFirst'+'Code'];return _0x5dea0a['fieldArray'][_0x303d3a];}}class sc{constructor(_0x358e02,_0x4c2dbe){this['_node']=_0x358e02,this['_data']=_0x4c2dbe;}['run'](){const _0x1ee454=Object['prototype']['toString']['call'](this['_node']);return _0x1ee454==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x1ee454==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x4f79b6){let _0x51336d=_0x4f79b6;const _0x19c01b=_0x4f79b6['length'];_0x19c01b===0x3e*-0x8+0x8a*-0x16+0xdcd?_0x51336d=wf['oneCharToK'+'ey'](_0x4f79b6,this['_data']):_0x19c01b===-0x16bd+-0x3ff*-0x1+0x12c0&&(_0x51336d=wf['multCharTo'+'Key'](_0x4f79b6,this['_data'])),this['_result'][_0x51336d]=new sc(this['_node'][_0x4f79b6],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x195aa3){const _0xb0a233=new sc(_0x195aa3,this['_data'])['run']();this['_result']['push'](_0xb0a233);}}class Wp{constructor(_0x52046b,_0x37d4c3){this['_app']=_0x52046b,this['_isTemplat'+'e']=_0x37d4c3;}['parse'](_0x16b527){const _0x1664d9={};let _0x13c3b7=null;const _0x522990=_0x16b527['compressed'+'Format'];_0x522990&&!_0x16b527['entDecompr'+'essed']&&(_0x16b527['entDecompr'+'essed']=!(-0x193f+-0x4*0x22d+0x3*0xb51),_0x16b527['entities']=new sc(_0x16b527['entities'],_0x522990)['run']());for(const _0x9f4335 in _0x16b527['entities']){const _0x1bb9b3=_0x16b527['entities'][_0x9f4335],_0x5d62a4=this['_createEnt'+'ity'](_0x1bb9b3,_0x522990);_0x1664d9[_0x9f4335]=_0x5d62a4,_0x1bb9b3['parent']===null&&(_0x13c3b7=_0x5d62a4);}for(const _0x4baa0e in _0x16b527['entities']){const _0x25789a=_0x1664d9[_0x4baa0e],_0x476fab=_0x16b527['entities'][_0x4baa0e]['children'],_0x3ef6e7=_0x476fab['length'];for(let _0x467400=-0x20e3*-0x1+-0x2*-0x81+-0x1*0x21e5;_0x467400<_0x3ef6e7;_0x467400++){const _0x4622c4=_0x1664d9[_0x476fab[_0x467400]];_0x4622c4&&_0x25789a['addChild'](_0x4622c4);}}return this['_openCompo'+'nentData'](_0x13c3b7,_0x16b527['entities']),_0x13c3b7;}['_createEnt'+'ity'](_0x1787ff,_0x16c7c0){const _0x4c8855=new We(_0x1787ff['name'],this['_app']);if(_0x4c8855['setGuid'](_0x1787ff['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x4c8855,_0x1787ff,_0x16c7c0),_0x4c8855['_enabled']=_0x1787ff['enabled']??!(0x46f*-0x1+-0x1aaf+0x1f1e),this['_isTemplat'+'e']?_0x4c8855['_template']=!(-0xdc+-0x20*-0xdf+-0x1b04):_0x4c8855['_enabledIn'+'Hierarchy']=_0x4c8855['_enabled'],_0x4c8855['template']=_0x1787ff['template'],_0x1787ff['tags']){for(let _0x38f1ff=0x183c*0x1+0x9f5*-0x1+-0xd7*0x11;_0x38f1ff<_0x1787ff['tags']['length'];_0x38f1ff++)_0x4c8855['tags']['add'](_0x1787ff['tags'][_0x38f1ff]);}return _0x4c8855;}['_setPosRot'+'Scale'](_0x35613c,_0x4a4c09,_0x5714c9){if(_0x5714c9)wf['setCompres'+'sedPRS'](_0x35613c,_0x4a4c09,_0x5714c9);else{const _0xd126e=_0x4a4c09['position'],_0x3353e7=_0x4a4c09['rotation'],_0x8f69b2=_0x4a4c09['scale'];_0x35613c['setLocalPo'+'sition'](_0xd126e[0x9cc+-0x2197+-0x17cb*-0x1],_0xd126e[-0xe74+-0x1f60+0x2dd5],_0xd126e[-0x1d5f*0x1+-0x18ff+-0x6*-0x910]),_0x35613c['setLocalEu'+'lerAngles'](_0x3353e7[0x145f+0xa86+-0x1ee5],_0x3353e7[0xc46+-0x1fd*-0x3+-0x123c],_0x3353e7[-0x607*0x1+0xcf7*-0x3+0x2cee]),_0x35613c['setLocalSc'+'ale'](_0x8f69b2[-0x107*0x11+-0x4*0x2e8+0x1d17],_0x8f69b2[0x20bc+-0x1b02+0x1*-0x5b9],_0x8f69b2[-0x1865+-0x2e*-0x32+0xf6b]);}}['_openCompo'+'nentData'](_0x22998c,_0x248ab4){const _0x2a2226=this['_app']['systems']['list'];let _0x37dbef=_0x2a2226['length'];const _0x1b26c8=_0x248ab4[_0x22998c['getGuid']()];for(let _0x3238cb=-0x18cf+0x209*0x1+-0xb*-0x212;_0x3238cb<_0x37dbef;_0x3238cb++){const _0x35b777=_0x2a2226[_0x3238cb],_0x2d0e89=_0x1b26c8['components'][_0x35b777['id']];_0x2d0e89&&_0x35b777['addCompone'+'nt'](_0x22998c,_0x2d0e89);}_0x37dbef=_0x1b26c8['children']['length'];const _0x4b5be1=_0x22998c['_children'];for(let _0x83776d=-0x3b3*0x6+0x35*0x19+0x1105*0x1;_0x83776d<_0x37dbef;_0x83776d++)_0x4b5be1[_0x83776d]?_0x4b5be1[_0x83776d]=this['_openCompo'+'nentData'](_0x4b5be1[_0x83776d],_0x248ab4):v['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x22998c['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x22998c;}}class Lx{static['load'](_0x481c1c,_0x1b12cc,_0xb1b426){typeof _0x481c1c=='string'&&(_0x481c1c={'load':_0x481c1c,'original':_0x481c1c}),$e['get'](_0x481c1c['load'],{'retry':_0x1b12cc>-0x377*-0x2+0xb2e*0x1+-0x121c*0x1,'maxRetries':_0x1b12cc},(_0x13a325,_0x114d86)=>{if(!_0x13a325)_0xb1b426(_0x13a325,_0x114d86);else{let _0x62a4cd='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x481c1c['original'];_0x13a325['message']?(_0x62a4cd+=':\x20'+_0x13a325['message'],_0x13a325['stack']&&(_0x62a4cd+='\x0a'+_0x13a325['stack'])):_0x62a4cd+=':\x20'+_0x13a325,_0xb1b426(_0x62a4cd);}});}}class q2 extends Ne{constructor(_0x28eecd){super(_0x28eecd,'hierarchy');}['load'](_0xbc8e47,_0x57414d){Lx['load'](_0xbc8e47,this['maxRetries'],_0x57414d);}['open'](_0x49f24d,_0x4de2cf){this['_app']['systems']['script']['preloading']=!(-0x1*0x1587+-0x13*0x2a+0x18a5);const _0x366945=new Wp(this['_app'],!(-0x245f*-0x1+0x7+-0x2465))['parse'](_0x4de2cf);return this['_app']['systems']['script']['preloading']=!(-0x1129*0x2+-0x79e+0x29f1),_0x366945;}}class X2 extends Ne{constructor(_0x4aa021){super(_0x4aa021,'html'),c(this,'decoder',null);}['load'](_0x30dca4,_0x6b6101){typeof _0x30dca4=='string'&&(_0x30dca4={'load':_0x30dca4,'original':_0x30dca4}),$e['get'](_0x30dca4['load'],{'retry':this['maxRetries']>-0xd*0x29+-0x1*-0x16fc+-0x14e7,'maxRetries':this['maxRetries']},(_0x4a7c1a,_0x42ffd0)=>{_0x4a7c1a?_0x6b6101('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x30dca4['original']+'\x20['+_0x4a7c1a+']'):_0x6b6101(null,_0x42ffd0);});}['openBinary'](_0x576242){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x576242);}}class j2 extends Ne{constructor(_0x33cd48){super(_0x33cd48,'json'),c(this,'decoder',null);}['load'](_0x5c6131,_0x11d3c4){typeof _0x5c6131=='string'&&(_0x5c6131={'load':_0x5c6131,'original':_0x5c6131});const _0x59c036={'retry':this['maxRetries']>0x10*-0x22a+-0x3b5+-0xcc7*-0x3,'maxRetries':this['maxRetries']};_0x5c6131['load']['startsWith']('blob:')&&(_0x59c036['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x5c6131['load'],_0x59c036,(_0x178be7,_0x1a34ad)=>{_0x178be7?_0x11d3c4('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x5c6131['original']+'\x20['+_0x178be7+']'):_0x11d3c4(null,_0x1a34ad);});}['openBinary'](_0x3dc4e6){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x3dc4e6));}}class Y2{constructor(){this['removeInva'+'lid']=!(0xb3a+0x24*-0x106+0x199e),this['valid']=!(0x3*0x3+0xe7a*-0x1+0xe71),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([Kb,Bo,Lu]),'cull':this['_createEnu'+'mValidator']([mt,rn,mo,RS]),'blendType':this['_createEnu'+'mValidator']([n0,yp,Kt,is,hr,xp,Hc,a0,o0,l0,h0]),'depthFunc':this['_createEnu'+'mValidator']([IS,Eh,Ch,fu,DS,LS,FS,Ai])};}['setInvalid'](_0x4d7d2e,_0x574c75){this['valid']=!(-0x8ed*0x1+-0xa97+-0x107*-0x13),v['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x4d7d2e,_0x574c75[_0x4d7d2e]),this['removeInva'+'lid']&&delete _0x574c75[_0x4d7d2e];}['validate'](_0xf17ef4){const _0x28f6aa=Pa,_0x205598=QC,_0x3c060f=_0xf17ef4['mappingFor'+'mat']==='path';for(const _0x249fdf in _0xf17ef4){const _0x30a9da=_0x28f6aa[_0x249fdf];if(!_0x30a9da){_0x205598[_0x249fdf]?delete _0xf17ef4[_0x249fdf]:(v['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x249fdf),this['valid']=!(0x52*-0x13+-0x1c46*0x1+-0x13*-0x1cf));continue;}if(_0x30a9da['startsWith']('enum')){const _0x5aab8d=_0x30a9da['split'](':')[0x55a+-0x2*0xfac+0x79*0x37];this['enumValida'+'tors'][_0x5aab8d]&&(this['enumValida'+'tors'][_0x5aab8d](_0xf17ef4[_0x249fdf])||this['setInvalid'](_0x249fdf,_0xf17ef4));}else{if(_0x30a9da==='number')typeof _0xf17ef4[_0x249fdf]!='number'&&this['setInvalid'](_0x249fdf,_0xf17ef4);else{if(_0x30a9da==='boolean')typeof _0xf17ef4[_0x249fdf]!='boolean'&&this['setInvalid'](_0x249fdf,_0xf17ef4);else{if(_0x30a9da==='string')typeof _0xf17ef4[_0x249fdf]!='string'&&this['setInvalid'](_0x249fdf,_0xf17ef4);else{if(_0x30a9da==='vec2')_0xf17ef4[_0x249fdf]instanceof Array&&_0xf17ef4[_0x249fdf]['length']===-0x3f*-0x8b+0xe23+-0x2e*0x10d||this['setInvalid'](_0x249fdf,_0xf17ef4);else{if(_0x30a9da==='rgb')_0xf17ef4[_0x249fdf]instanceof Array&&_0xf17ef4[_0x249fdf]['length']===0x1*0x2527+0xa1b+-0x2f3f||this['setInvalid'](_0x249fdf,_0xf17ef4);else{if(_0x30a9da==='texture')_0x3c060f?typeof _0xf17ef4[_0x249fdf]=='string'||_0xf17ef4[_0x249fdf]===null||_0xf17ef4[_0x249fdf]instanceof he||this['setInvalid'](_0x249fdf,_0xf17ef4):typeof _0xf17ef4[_0x249fdf]=='number'||_0xf17ef4[_0x249fdf]===null||_0xf17ef4[_0x249fdf]instanceof he||this['setInvalid'](_0x249fdf,_0xf17ef4);else{if(_0x30a9da==='boundingbo'+'x')_0xf17ef4[_0x249fdf]['center']&&_0xf17ef4[_0x249fdf]['center']instanceof Array&&_0xf17ef4[_0x249fdf]['center']['length']===-0x979+0x1960+-0xfe4||this['setInvalid'](_0x249fdf,_0xf17ef4),_0xf17ef4[_0x249fdf]['halfExtent'+'s']&&_0xf17ef4[_0x249fdf]['halfExtent'+'s']instanceof Array&&_0xf17ef4[_0x249fdf]['halfExtent'+'s']['length']===-0x1b6a+0x76e+0x13ff||this['setInvalid'](_0x249fdf,_0xf17ef4);else{if(_0x30a9da==='cubemap')typeof _0xf17ef4[_0x249fdf]=='number'||_0xf17ef4[_0x249fdf]===null||_0xf17ef4[_0x249fdf]===void(0x11*0x19+-0xb9*0x1a+-0x36d*-0x5)||_0xf17ef4[_0x249fdf]instanceof he&&_0xf17ef4[_0x249fdf]['cubemap']||this['setInvalid'](_0x249fdf,_0xf17ef4);else{if(_0x30a9da==='chunks'){const _0x26956d=Object['keys'](_0xf17ef4[_0x249fdf]);for(let _0x4017e5=-0x207d+-0x2*-0x9d5+0x1*0xcd3;_0x4017e5<_0x26956d['length'];_0x4017e5++)typeof _0xf17ef4[_0x249fdf][_0x26956d[_0x4017e5]]!='string'&&this['setInvalid'](_0x26956d[_0x4017e5],_0xf17ef4[_0x249fdf]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x30a9da);}}}}}}}}}}return _0xf17ef4['validated']=!(-0x23e9+0x9d8+0x1*0x1a11),this['valid'];}['_createEnu'+'mValidator'](_0x5d04cb){return function(_0x11a098){return _0x5d04cb['indexOf'](_0x11a098)>=-0x10be+-0x2*0x9c9+-0x530*-0x7;};}}class K2{constructor(){this['_validator']=null;}['parse'](_0x17305a){const _0x1f47f5=this['migrate'](_0x17305a),_0x4a843a=this['_validate'](_0x1f47f5),_0x1c3ce9=new cs();return this['initialize'](_0x1c3ce9,_0x4a843a),_0x1c3ce9;}['initialize'](_0x37f694,_0x5769b0){_0x5769b0['validated']||(_0x5769b0=this['_validate'](_0x5769b0)),_0x5769b0['chunks']&&(_0x37f694['chunks']={..._0x5769b0['chunks']});for(const _0x4087c4 in _0x5769b0){const _0x36975a=Pa[_0x4087c4],_0x207d57=_0x5769b0[_0x4087c4];if(_0x36975a==='vec2')_0x37f694[_0x4087c4]=new W(_0x207d57[0x19*0x14f+0x878*-0x1+0x815*-0x3],_0x207d57[-0xfae*0x1+0x1*-0x4ff+0x14ae]);else{if(_0x36975a==='rgb')_0x37f694[_0x4087c4]=new Y(_0x207d57[0x1*-0x1a79+0x2*-0xa9f+0x23*0x15d],_0x207d57[-0x2062*-0x1+0x2*0x481+0x32f*-0xd],_0x207d57[0x1c73+0x873+-0x24e4]);else{if(_0x36975a==='texture')_0x207d57 instanceof he?_0x37f694[_0x4087c4]=_0x207d57:_0x37f694[_0x4087c4]instanceof he&&typeof _0x207d57=='number'&&_0x207d57>-0xfac+0x199+-0x1*-0xe13||(_0x37f694[_0x4087c4]=null);else{if(_0x36975a==='cubemap')_0x207d57 instanceof he?_0x37f694[_0x4087c4]=_0x207d57:_0x37f694[_0x4087c4]instanceof he&&typeof _0x207d57=='number'&&_0x207d57>0x3*0x4bb+0x1*0xd64+-0x1b95||(_0x37f694[_0x4087c4]=null),_0x4087c4==='cubeMap'&&!_0x207d57&&(_0x37f694['prefiltere'+'dCubemaps']=null);else{if(_0x36975a==='boundingbo'+'x'){const _0x907992=new T(_0x207d57['center'][0x1f*-0x133+-0x3*0x981+-0x1*-0x41b0],_0x207d57['center'][-0x2542+-0x37e*0x9+0x44b1],_0x207d57['center'][-0x4b*-0x48+0x6b4+-0xde5*0x2]),_0x1d86a6=new T(_0x207d57['halfExtent'+'s'][0x3*0xb0f+-0x2673+0x12*0x4b],_0x207d57['halfExtent'+'s'][0x14d1*-0x1+-0xa31+0x11*0x1d3],_0x207d57['halfExtent'+'s'][0x7*0xe9+0x2e*0x55+-0x1d*0xbf]);_0x37f694[_0x4087c4]=new _e(_0x907992,_0x1d86a6);}else _0x37f694[_0x4087c4]=_0x5769b0[_0x4087c4];}}}}}_0x37f694['update']();}['migrate'](_0x114dd6){_0x114dd6['shader']&&delete _0x114dd6['shader'],_0x114dd6['mapping_fo'+'rmat']&&(_0x114dd6['mappingFor'+'mat']=_0x114dd6['mapping_fo'+'rmat'],delete _0x114dd6['mapping_fo'+'rmat']);let _0x3b718e;const _0x37b33a=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x3b718e=0x2398+0x163*0x1b+-0x4909;_0x3b718e<_0x37b33a['length'];_0x3b718e++){const _0x269606=_0x37b33a[_0x3b718e][0x1e3b*0x1+-0x777+-0x16c4],_0x45339d=_0x37b33a[_0x3b718e][-0x22be*0x1+0xd*0x1cf+0x4*0x2cf];_0x114dd6[_0x269606]!==void(0x8f*0x16+-0x6c*-0x3+-0xd8e*0x1)&&(_0x114dd6[_0x45339d]===void(0xd*0x16d+0x1725+-0x29ae)&&(_0x114dd6[_0x45339d]=_0x114dd6[_0x269606]),delete _0x114dd6[_0x269606]);}const _0x2604f7=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x3b718e=-0xe*0x81+0x1ef1+-0x17e3;_0x3b718e<_0x2604f7['length'];_0x3b718e++){const _0x1a0895=_0x2604f7[_0x3b718e];_0x114dd6['hasOwnProp'+'erty'](_0x1a0895)&&delete _0x114dd6[_0x1a0895];}return _0x114dd6;}['_validate'](_0x942346){return _0x942346['validated']||(this['_validator']||(this['_validator']=new Y2()),this['_validator']['validate'](_0x942346)),_0x942346;}}const Z2={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black'};class Q2 extends Ne{constructor(_0x2c78ed){super(_0x2c78ed,'material'),this['_assets']=_0x2c78ed['assets'],this['_device']=_0x2c78ed['graphicsDe'+'vice'],this['_parser']=new K2();}['load'](_0x8afff8,_0x37e1f6){typeof _0x8afff8=='string'&&(_0x8afff8={'load':_0x8afff8,'original':_0x8afff8}),$e['get'](_0x8afff8['load'],{'retry':this['maxRetries']>0x26d7+0x2*-0x7c1+-0x3*0x7c7,'maxRetries':this['maxRetries']},(_0x349c94,_0x3e9786)=>{_0x349c94?_0x37e1f6&&_0x37e1f6('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x8afff8['original']+'\x20['+_0x349c94+']'):_0x37e1f6&&(_0x3e9786['_engine']=!(-0x3*-0x6b9+0x2f*-0x98+0x7bd),_0x37e1f6(null,_0x3e9786));});}['open'](_0x5a53de,_0x1cfda1){const _0x4a24e9=this['_parser']['parse'](_0x1cfda1);return _0x1cfda1['_engine']&&(_0x4a24e9['_data']=_0x1cfda1,delete _0x1cfda1['_engine']),_0x4a24e9;}['patch'](_0x11d352,_0x147547){_0x11d352['resource']['_data']&&(_0x11d352['_data']=_0x11d352['resource']['_data'],delete _0x11d352['resource']['_data']),_0x11d352['data']['name']=_0x11d352['name'],_0x11d352['resource']['name']=_0x11d352['name'],this['_bindAndAs'+'signAssets'](_0x11d352,_0x147547),_0x11d352['off']('unload',this['_onAssetUn'+'load'],this),_0x11d352['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0xd7601a){delete _0xd7601a['data']['parameters'],delete _0xd7601a['data']['chunks'],delete _0xd7601a['data']['name'];}['_assignTex'+'ture'](_0x33f787,_0x210c7c,_0x22dea6){_0x210c7c['resource'][_0x33f787]=_0x22dea6;}['_getPlaceh'+'olderTextu'+'re'](_0x213110){const _0x1d1526=Z2[_0x213110];return v['assert'](_0x1d1526,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x213110),en(this['_device'],_0x1d1526);}['_assignPla'+'ceholderTe'+'xture'](_0xab6121,_0x572adb){_0x572adb['resource'][_0xab6121]=this['_getPlaceh'+'olderTextu'+'re'](_0xab6121);}['_onTexture'+'Load'](_0x58cfac,_0x1b360c,_0x2aa0d0){this['_assignTex'+'ture'](_0x58cfac,_0x1b360c,_0x2aa0d0['resource']),_0x1b360c['resource']['update']();}['_onTexture'+'Add'](_0x226eeb,_0x688311,_0x4e68ed){this['_assets']['load'](_0x4e68ed);}['_onTexture'+'RemoveOrUn'+'load'](_0x5bf09a,_0x465519,_0x402546){const _0x8a263b=_0x465519['resource'];_0x8a263b&&_0x465519['resource'][_0x5bf09a]===_0x402546['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x5bf09a,_0x465519),_0x8a263b['update']());}['_assignCub'+'emap'](_0x5d3102,_0x449ba2,_0x36d256){if(_0x449ba2['resource'][_0x5d3102]=_0x36d256[0x1*0x25bd+0xc*0x21a+-0x3ef5],_0x5d3102==='cubeMap'){const _0x88f617=_0x36d256['slice'](0xe3*0xf+-0x1c04+0x1d7*0x8);_0x88f617['every'](_0x414253=>_0x414253)?_0x449ba2['resource']['prefiltere'+'dCubemaps']=_0x88f617:_0x88f617[-0x43*-0x3b+-0xaf9*-0x2+0x233*-0x11]&&(_0x449ba2['resource']['envAtlas']=_0x88f617[0xdca+-0x255d*0x1+0x1793]);}}['_onCubemap'+'Load'](_0xd99197,_0x365902,_0x14dfd0){this['_assignCub'+'emap'](_0xd99197,_0x365902,_0x14dfd0['resources']),this['_parser']['initialize'](_0x365902['resource'],_0x365902['data']);}['_onCubemap'+'Add'](_0x107a79,_0x34c7dc,_0xdd69e9){this['_assets']['load'](_0xdd69e9);}['_onCubemap'+'RemoveOrUn'+'load'](_0x3fcd1a,_0x43d050,_0x5ed93d){const _0x3b69d9=_0x43d050['resource'];_0x43d050['data']['prefiltere'+'dCubeMap12'+'8']===_0x5ed93d['resources'][-0x12c5+-0x24e6*-0x1+-0x1220]&&(this['_assignCub'+'emap'](_0x3fcd1a,_0x43d050,[null,null,null,null,null,null,null]),_0x3b69d9['update']());}['_bindAndAs'+'signAssets'](_0x976d36,_0x5ac5a9){const _0x2a059a=this['_parser']['migrate'](_0x976d36['data']),_0x53ac9d=_0x976d36['resource'],_0x1ba550=_0x2a059a['mappingFor'+'mat']==='path',_0xe7a53b=Kc;let _0x2bd140,_0x4fb2ea,_0x5bf2ee;for(_0x2bd140=-0x3*-0x3f2+0x65*0x43+0x61*-0x65;_0x2bd140<_0xe7a53b['length'];_0x2bd140++){_0x4fb2ea=_0xe7a53b[_0x2bd140],_0x5bf2ee=_0x53ac9d['_assetRefe'+'rences'][_0x4fb2ea];const _0x23fbaf=_0x2a059a[_0x4fb2ea],_0x5d6b48=_0x53ac9d[_0x4fb2ea],_0x29a3e6=_0x5d6b48===this['_getPlaceh'+'olderTextu'+'re'](_0x4fb2ea),_0x5a5953=_0x2a059a['validated'];_0x23fbaf&&(!_0x5d6b48||!_0x5a5953||_0x29a3e6)?(_0x5bf2ee||(_0x5bf2ee=new Go(_0x4fb2ea,_0x976d36,_0x5ac5a9,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x53ac9d['_assetRefe'+'rences'][_0x4fb2ea]=_0x5bf2ee),_0x1ba550?_0x5bf2ee['url']=_0x976d36['getAbsolut'+'eUrl'](_0x23fbaf):_0x5bf2ee['id']=_0x23fbaf,_0x5bf2ee['asset']&&(_0x5bf2ee['asset']['resource']?this['_assignTex'+'ture'](_0x4fb2ea,_0x976d36,_0x5bf2ee['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x4fb2ea,_0x976d36),_0x5ac5a9['load'](_0x5bf2ee['asset']))):_0x5bf2ee&&(_0x1ba550?_0x5bf2ee['url']=null:_0x5bf2ee['id']=null);}const _0x1c6197=Fp;for(_0x2bd140=0xe3d+-0x1*-0x66+-0xea3;_0x2bd140<_0x1c6197['length'];_0x2bd140++)_0x4fb2ea=_0x1c6197[_0x2bd140],_0x5bf2ee=_0x53ac9d['_assetRefe'+'rences'][_0x4fb2ea],_0x2a059a[_0x4fb2ea]&&!_0x976d36['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x5bf2ee||(_0x5bf2ee=new Go(_0x4fb2ea,_0x976d36,_0x5ac5a9,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x53ac9d['_assetRefe'+'rences'][_0x4fb2ea]=_0x5bf2ee),_0x1ba550?_0x5bf2ee['url']=_0x2a059a[_0x4fb2ea]:_0x5bf2ee['id']=_0x2a059a[_0x4fb2ea],_0x5bf2ee['asset']&&(_0x5bf2ee['asset']['loaded']&&this['_assignCub'+'emap'](_0x4fb2ea,_0x976d36,_0x5bf2ee['asset']['resources']),_0x5ac5a9['load'](_0x5bf2ee['asset'])));this['_parser']['initialize'](_0x53ac9d,_0x2a059a);}}class J2{constructor(_0x4548f8){this['_device']=_0x4548f8['device'],this['_defaultMa'+'terial']=_0x4548f8['defaultMat'+'erial'],this['_assets']=_0x4548f8['assets'];}['parse'](_0xa0091,_0x5cbe3e,_0x1e8eac){tc['parse']('filename.g'+'lb','',_0xa0091,this['_device'],this['_assets'],(_0x1e8eac==null?void(-0x6a3*-0x3+-0x1*-0x1e0c+-0x7*0x723):_0x1e8eac['options'])??{},(_0x82187b,_0x57280e)=>{if(_0x82187b)_0x5cbe3e(_0x82187b);else{const _0x3ffb7b=tr['createMode'+'l'](_0x57280e,this['_defaultMa'+'terial']);_0x57280e['destroy'](),_0x5cbe3e(null,_0x3ffb7b);}});}}const eL={'points':Mc,'lines':Pc,'lineloop':My,'linestrip':Py,'triangles':Ms,'trianglestrip':ar,'trianglefan':Yr},tL={'int8':Rc,'uint8':Kr,'int16':Ic,'uint16':el,'int32':By,'uint32':Do,'float32':Ee};class sL{constructor(_0x48bdad){this['_device']=_0x48bdad['device'],this['_defaultMa'+'terial']=_0x48bdad['defaultMat'+'erial'];}['parse'](_0x5e2920,_0xbc171){const _0x1072fb=_0x5e2920['model'];if(!_0x1072fb){_0xbc171(null,null);return;}if(_0x1072fb['version']<=-0x2b*0xc7+-0x1*-0x1fd9+0x195*0x1){_0xbc171('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x5e0294=this['_parseNode'+'s'](_0x5e2920),_0x281b53=this['_parseSkin'+'s'](_0x5e2920,_0x5e0294),_0x43406a=this['_parseVert'+'exBuffers'](_0x5e2920),_0x58e392=this['_parseInde'+'xBuffers'](_0x5e2920,_0x43406a),_0x5cf661=this['_parseMorp'+'hs'](_0x5e2920,_0x5e0294,_0x43406a),_0x1d9c56=this['_parseMesh'+'es'](_0x5e2920,_0x281b53['skins'],_0x5cf661['morphs'],_0x43406a,_0x58e392['buffer'],_0x58e392['data']),_0x2fbdf9=this['_parseMesh'+'Instances'](_0x5e2920,_0x5e0294,_0x1d9c56,_0x281b53['skins'],_0x281b53['instances'],_0x5cf661['morphs'],_0x5cf661['instances']),_0x57736e=new Oi();_0x57736e['graph']=_0x5e0294[-0x1*0x43+-0x2*-0x110e+-0x21d9],_0x57736e['meshInstan'+'ces']=_0x2fbdf9,_0x57736e['skinInstan'+'ces']=_0x281b53['instances'],_0x57736e['morphInsta'+'nces']=_0x5cf661['instances'],_0x57736e['getGraph']()['syncHierar'+'chy'](),_0xbc171(null,_0x57736e);}['_parseNode'+'s'](_0x46cdf5){const _0x47db8c=_0x46cdf5['model'],_0x1aeaef=[];let _0xd0f36d;for(_0xd0f36d=0x111d+0x4ee*0x7+-0x3*0x1135;_0xd0f36d<_0x47db8c['nodes']['length'];_0xd0f36d++){const _0x35b03c=_0x47db8c['nodes'][_0xd0f36d],_0x1952a4=new De(_0x35b03c['name']);_0x1952a4['setLocalPo'+'sition'](_0x35b03c['position'][0x5d5*-0x1+0x3*-0x7c3+-0x1d1e*-0x1],_0x35b03c['position'][-0x242e+0x226c+-0x1c3*-0x1],_0x35b03c['position'][0x49d*-0x1+-0xe3*-0x5+0x10*0x3]),_0x1952a4['setLocalEu'+'lerAngles'](_0x35b03c['rotation'][-0x8b*0x5+-0x1541*-0x1+-0x128a],_0x35b03c['rotation'][0x196a+0x1c*0xb2+-0x2ce1],_0x35b03c['rotation'][0xf*0x8b+-0x1e1f*0x1+0x15fc]),_0x1952a4['setLocalSc'+'ale'](_0x35b03c['scale'][0x89*0x15+0xf61+-0x1a9e],_0x35b03c['scale'][-0x35*0x7a+-0x53e+0x1e81],_0x35b03c['scale'][0x197*-0x13+-0x12b1+-0x2*-0x1874]),_0x1952a4['scaleCompe'+'nsation']=!!_0x35b03c['scaleCompe'+'nsation'],_0x1aeaef['push'](_0x1952a4);}for(_0xd0f36d=0x9b2+0x1fe8+-0x1cf*0x17;_0xd0f36d<_0x47db8c['parents']['length'];_0xd0f36d++)_0x1aeaef[_0x47db8c['parents'][_0xd0f36d]]['addChild'](_0x1aeaef[_0xd0f36d]);return _0x1aeaef;}['_parseSkin'+'s'](_0x4ddbe6,_0x2f2e45){const _0x45f123=_0x4ddbe6['model'],_0x440629=[],_0x55f1dd=[];let _0x496d0b,_0x4ca5ba;for(_0x496d0b=-0xee4*-0x1+-0xfa4+-0x40*-0x3;_0x496d0b<_0x45f123['skins']['length'];_0x496d0b++){const _0x5c02d2=_0x45f123['skins'][_0x496d0b],_0x4a8510=[];for(_0x4ca5ba=0x1*-0x1549+-0x1369+0x28b2;_0x4ca5ba<_0x5c02d2['inverseBin'+'dMatrices']['length'];_0x4ca5ba++){const _0x4060fe=_0x5c02d2['inverseBin'+'dMatrices'][_0x4ca5ba];_0x4a8510[_0x4ca5ba]=new q()['set'](_0x4060fe);}const _0x53bd56=new N0(this['_device'],_0x4a8510,_0x5c02d2['boneNames']);_0x440629['push'](_0x53bd56);const _0x18029e=new nl(_0x53bd56),_0x604f42=[];for(_0x4ca5ba=-0x5f9+-0xa*-0xd3+-0x245;_0x4ca5ba<_0x53bd56['boneNames']['length'];_0x4ca5ba++){const _0x1a29aa=_0x53bd56['boneNames'][_0x4ca5ba],_0x127255=_0x2f2e45[0x46e+-0xc25*-0x1+-0x1093*0x1]['findByName'](_0x1a29aa);_0x604f42['push'](_0x127255);}_0x18029e['bones']=_0x604f42,_0x55f1dd['push'](_0x18029e);}return{'skins':_0x440629,'instances':_0x55f1dd};}['_getMorphV'+'ertexCount'](_0x2e0097,_0x67f015,_0x48c75d){for(let _0x3d6678=-0x1973*-0x1+-0x1*-0x2065+-0x2*0x1cec;_0x3d6678<_0x2e0097['meshes']['length'];_0x3d6678++){const _0x1ee36c=_0x2e0097['meshes'][_0x3d6678];if(_0x1ee36c['morph']===_0x67f015)return _0x48c75d[_0x1ee36c['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x19846a,_0x4f709e,_0x1c010c){const _0x52fb08=_0x19846a['model'],_0x58599d=[],_0x18fbc0=[];let _0x55ac65,_0x237613,_0x1dbbaf,_0x31f351,_0x42fd79,_0x2185a0;if(_0x52fb08['morphs']){const _0x4af10c=function(_0x509e67,_0x20fe41,_0x138115){const _0x210bf6=new Float32Array(_0x138115*(0x1f6+0x101*-0x1f+0x1d2c));for(let _0x36d766=-0x4*-0x7f4+0x1cf0+-0x1440*0x3;_0x36d766<_0x20fe41['length'];_0x36d766++){const _0x104424=_0x20fe41[_0x36d766]*(0xf*-0x77+0xda6+0x2*-0x355);_0x210bf6[_0x104424]=_0x509e67[_0x36d766*(0x1c84+-0x1547+-0x73a)],_0x210bf6[_0x104424+(0x184a+0x18bb*-0x1+-0x6*-0x13)]=_0x509e67[_0x36d766*(-0x685*-0x1+-0xb21+0x49f)+(0x21f6+0x2d*-0x27+-0x1b1a)],_0x210bf6[_0x104424+(0x161e+0x1*-0x1691+0x75)]=_0x509e67[_0x36d766*(0x1*-0x2685+-0x1*0x185b+-0x3b3*-0x11)+(0x1184+-0x25*-0x9a+-0x1fd*0x14)];}return _0x210bf6;};for(_0x55ac65=0x4c3*-0x2+-0x701*0x3+-0x1*-0x1e89;_0x55ac65<_0x52fb08['morphs']['length'];_0x55ac65++){for(_0x31f351=_0x52fb08['morphs'][_0x55ac65]['targets'],_0x2185a0=[],_0x1dbbaf=this['_getMorphV'+'ertexCount'](_0x52fb08,_0x55ac65,_0x1c010c),_0x237613=0x27*-0x1c+-0xd9e+-0x2*-0x8f1;_0x237613<_0x31f351['length'];_0x237613++){const _0x20592a=_0x31f351[_0x237613]['aabb'],_0x305b9e=_0x20592a['min'],_0x1c8289=_0x20592a['max'],_0x2a4a97=new _e(new T((_0x1c8289[0x4eb*-0x1+0x1*0x1a25+-0x16*0xf7]+_0x305b9e[0x3*0xde+-0x269b*-0x1+-0x2935])*(0x3*-0x57a+-0x659+0x16c7+0.5),(_0x1c8289[-0x1a49+-0x5*0x22a+0x251c]+_0x305b9e[-0x5*0x1ec+-0x1158+-0x1af5*-0x1])*(0x2329+-0x2*-0xaac+0xb4d*-0x5+0.5),(_0x1c8289[0x409*-0x1+0xbf*-0x5+0x7c6]+_0x305b9e[0x17*0x25+-0x9*0x145+0x81c])*(-0x654+0x1af*0xb+-0xc31+0.5)),new T((_0x1c8289[-0x15cf*-0x1+0x4*0x106+-0x19e7]-_0x305b9e[0x1*-0x928+-0xf0c+0x4*0x60d])*(-0x6cf*0x5+0x91a+0x18f1+0.5),(_0x1c8289[-0x110b+-0x1*0x1219+0xbb7*0x3]-_0x305b9e[-0x2e3+0x502*0x5+-0x1626])*(-0x1b*-0x2b+-0xbc8+0x73f+0.5),(_0x1c8289[0x5f5+-0x9*-0x297+-0x1d42*0x1]-_0x305b9e[0x1*-0xd3f+-0x1*0x1e59+-0x15cd*-0x2])*(-0x1cd8*0x1+0x3*-0xa3+0x1ec1+0.5))),_0x59ca57=_0x31f351[_0x237613]['indices'];let _0x910929=_0x31f351[_0x237613]['deltaPosit'+'ions'],_0x5627e2=_0x31f351[_0x237613]['deltaNorma'+'ls'];_0x59ca57&&(_0x910929=_0x4af10c(_0x910929,_0x59ca57,_0x1dbbaf),_0x5627e2=_0x4af10c(_0x5627e2,_0x59ca57,_0x1dbbaf)),_0x42fd79=new Qc({'deltaPositions':_0x910929,'deltaNormals':_0x5627e2,'name':_0x31f351[_0x237613]['name'],'aabb':_0x2a4a97}),_0x2185a0['push'](_0x42fd79);}const _0x1596a5=new F0(_0x2185a0,this['_device']);_0x58599d['push'](_0x1596a5);const _0x22fb78=new fn(_0x1596a5);_0x18fbc0['push'](_0x22fb78);}}return{'morphs':_0x58599d,'instances':_0x18fbc0};}['_parseVert'+'exBuffers'](_0x58609b){const _0x5b1843=_0x58609b['model'],_0x286e31=[],_0x1bb773={'position':He,'normal':Yt,'tangent':Zs,'blendWeight':Ys,'blendIndices':qt,'color':At,'texCoord0':ns,'texCoord1':_n,'texCoord2':jo,'texCoord3':Yo,'texCoord4':Ko,'texCoord5':Zo,'texCoord6':Qo,'texCoord7':Jo};for(let _0x4a4dbe=-0x1*-0x21a4+-0x2c5*0x5+-0x1*0x13cb;_0x4a4dbe<_0x5b1843['vertices']['length'];_0x4a4dbe++){const _0x9e5640=_0x5b1843['vertices'][_0x4a4dbe],_0x42a797=[];for(const _0x4212fd in _0x9e5640){const _0xd4f638=_0x9e5640[_0x4212fd];_0x42a797['push']({'semantic':_0x1bb773[_0x4212fd],'components':_0xd4f638['components'],'type':tL[_0xd4f638['type']],'normalize':_0x1bb773[_0x4212fd]===At});}const _0x4cb10e=new Et(this['_device'],_0x42a797),_0x1324f9=_0x9e5640['position']['data']['length']/_0x9e5640['position']['components'],_0x227449=new os(this['_device'],_0x4cb10e,_0x1324f9),_0x473350=new go(_0x227449);for(let _0x5339aa=-0x19*-0x15d+-0x5*-0x574+-0xf*0x417;_0x5339aa<_0x1324f9;_0x5339aa++){for(const _0xc3d77c in _0x9e5640){const _0x1b2db2=_0x9e5640[_0xc3d77c];switch(_0x1b2db2['components']){case 0x1955+-0x42*0x9+-0x1702:_0x473350['element'][_0x1bb773[_0xc3d77c]]['set'](_0x1b2db2['data'][_0x5339aa]);break;case-0x2ec*-0xb+-0x6*-0xd7+-0xc64*0x3:_0x473350['element'][_0x1bb773[_0xc3d77c]]['set'](_0x1b2db2['data'][_0x5339aa*(-0x2*0xf61+-0x2*-0x6c4+0x89e*0x2)],0xb27+0x8af+-0x13d5*0x1-_0x1b2db2['data'][_0x5339aa*(-0x20d9+0x26*-0x47+0x1e3*0x17)+(0xd66+0x9cb+-0x6a*0x38)]);break;case 0x1f69*-0x1+0x3*-0xc66+-0x449e*-0x1:_0x473350['element'][_0x1bb773[_0xc3d77c]]['set'](_0x1b2db2['data'][_0x5339aa*(0xac9+-0xe6b+0x3*0x137)],_0x1b2db2['data'][_0x5339aa*(0x2*0x12c8+0x9dd+-0x2f6a)+(-0x539*-0x1+-0x2480+-0x268*-0xd)],_0x1b2db2['data'][_0x5339aa*(0x1bab+0xa48+-0x25f0)+(0x13d0+-0xda*0x1+0x2*-0x97a)]);break;case 0x233+-0x6*0x81+0x1*0xd7:_0x473350['element'][_0x1bb773[_0xc3d77c]]['set'](_0x1b2db2['data'][_0x5339aa*(-0x1e63+-0xab+0x1f12)],_0x1b2db2['data'][_0x5339aa*(-0x53d+0x1*0x4ab+0x96*0x1)+(0x49*-0x45+-0x1f*-0x11e+-0xef4)],_0x1b2db2['data'][_0x5339aa*(0x38c+-0x820+0x18*0x31)+(-0x56*0xa+0x99c+-0x63e)],_0x1b2db2['data'][_0x5339aa*(0x3*0x45a+-0x175e+0xa54)+(0x13f2+-0x2187+0x2b8*0x5)]);break;}}_0x473350['next']();}_0x473350['end'](),_0x286e31['push'](_0x227449);}return _0x286e31;}['_parseInde'+'xBuffers'](_0xf9b141,_0x3914ad){const _0x50a8f2=_0xf9b141['model'];let _0x12ad99=null,_0x2cf9a1=null,_0x386be4,_0x1070a7=-0xaab+-0x5*-0x2b1+-0x6*0x77;for(_0x386be4=-0x209*-0x4+0x1f*0x2+-0x862;_0x386be4<_0x50a8f2['meshes']['length'];_0x386be4++){const _0x10b2a2=_0x50a8f2['meshes'][_0x386be4];_0x10b2a2['indices']!==void(0x1dce+0x1*-0x1f7b+-0x27*-0xb)&&(_0x1070a7+=_0x10b2a2['indices']['length']);}let _0x219882=0x122a+-0x4*0x757+0xb32*0x1;for(_0x386be4=0x1f2c+-0xd81+-0x11ab;_0x386be4<_0x3914ad['length'];_0x386be4++)_0x219882=Math['max'](_0x219882,_0x3914ad[_0x386be4]['numVertice'+'s']);return _0x1070a7>0x5a*-0x46+-0x3*0x707+0x2db1&&(_0x219882>0x59*-0x443+0x1611e+-0x8d16*-0x2?(_0x12ad99=new lr(this['_device'],nr,_0x1070a7),_0x2cf9a1=new Uint32Array(_0x12ad99['lock']())):(_0x12ad99=new lr(this['_device'],Pi,_0x1070a7),_0x2cf9a1=new Uint16Array(_0x12ad99['lock']()))),{'buffer':_0x12ad99,'data':_0x2cf9a1};}['_parseMesh'+'es'](_0x1db3bf,_0xcc8304,_0x237b22,_0x45de12,_0x27252f,_0x50944e){const _0x52d7b5=_0x1db3bf['model'],_0x79174b=[];let _0x344084=0x18a+0x1104+-0x128e;for(let _0x48a279=0x1*-0x27e+0x369*0x3+-0x7bd;_0x48a279<_0x52d7b5['meshes']['length'];_0x48a279++){const _0x26da60=_0x52d7b5['meshes'][_0x48a279],_0x428fd8=_0x26da60['aabb'],_0x47f09b=_0x428fd8['min'],_0x56be93=_0x428fd8['max'],_0x4be531=new _e(new T((_0x56be93[-0x67*-0x11+0x1e39+-0x2510]+_0x47f09b[0x43*-0x5+0x2275+-0x2126])*(0x14fe+0xd1a+-0x2218+0.5),(_0x56be93[0x15c1+-0xe37*-0x1+-0x23f7]+_0x47f09b[0xba0+-0x1a*0xd+-0x125*0x9])*(-0x2*-0xd0b+-0x4c9*0x2+0x12e*-0xe+0.5),(_0x56be93[0x19a4+-0xf56+-0xa4c*0x1]+_0x47f09b[0x1de9+0x1*-0x26ed+0x906])*(-0x1854+-0x21ec+-0x8*-0x748+0.5)),new T((_0x56be93[-0x2*0xda4+-0x13*0x13+0x1cb1]-_0x47f09b[-0x377*-0xb+-0x1d20+-0x8fd])*(-0x20f2*0x1+0xe4f+0x12a3*0x1+0.5),(_0x56be93[0x2608+0xda*0x19+-0x5*0xbdd]-_0x47f09b[0xff7+-0x7ff*0x1+-0x7f7])*(0x1b04+-0x9d*0x11+-0x1097*0x1+0.5),(_0x56be93[0x5dd+-0xa2a+0x44f]-_0x47f09b[0xe*0x1d2+0x254*-0x1+-0x1726])*(0x1*0x1623+-0xf5d+-0x6c6+0.5))),_0x476d5c=_0x26da60['indices']!==void(-0x1668+-0x317+0x197f),_0x55cdb3=new Ie(this['_device']);_0x55cdb3['vertexBuff'+'er']=_0x45de12[_0x26da60['vertices']],_0x55cdb3['indexBuffe'+'r'][-0xd5*-0x20+0x5*0x2a8+-0x27e8]=_0x476d5c?_0x27252f:null,_0x55cdb3['primitive'][-0x2cc+0xfa+0x1d2]['type']=eL[_0x26da60['type']],_0x55cdb3['primitive'][-0x2f*-0xd+-0x1*-0xed1+-0x6*0x2de]['base']=_0x476d5c?_0x26da60['base']+_0x344084:_0x26da60['base'],_0x55cdb3['primitive'][0x23*0x67+0x1cae+-0x2ac3]['count']=_0x26da60['count'],_0x55cdb3['primitive'][-0x5ad*-0x2+0x2002+-0x1e*0x172]['indexed']=_0x476d5c,_0x55cdb3['skin']=_0x26da60['skin']!==void(0xe36+0x227c+-0x30b2)?_0xcc8304[_0x26da60['skin']]:null,_0x55cdb3['morph']=_0x26da60['morph']!==void(-0x1d63*0x1+0x1*0x54+0x1d0f)?_0x237b22[_0x26da60['morph']]:null,_0x55cdb3['aabb']=_0x4be531,_0x476d5c&&(_0x50944e['set'](_0x26da60['indices'],_0x344084),_0x344084+=_0x26da60['indices']['length']),_0x79174b['push'](_0x55cdb3);}return _0x27252f!==null&&_0x27252f['unlock'](),_0x79174b;}['_parseMesh'+'Instances'](_0x5590e4,_0x1118ce,_0x167264,_0x52349e,_0x4a7428,_0x30c679,_0x3ac13b){const _0x4ba30e=_0x5590e4['model'],_0x39c0fe=[];let _0x3093dd;for(_0x3093dd=-0xadd+-0x28d+0x1*0xd6a;_0x3093dd<_0x4ba30e['meshInstan'+'ces']['length'];_0x3093dd++){const _0x55de1e=_0x4ba30e['meshInstan'+'ces'][_0x3093dd],_0x45da67=_0x1118ce[_0x55de1e['node']],_0xcf8f47=_0x167264[_0x55de1e['mesh']],_0x51abed=new Le(_0xcf8f47,this['_defaultMa'+'terial'],_0x45da67);if(_0xcf8f47['skin']){const _0x12e668=_0x52349e['indexOf'](_0xcf8f47['skin']);if(_0x12e668===-(0x8ef+-0x4bb+-0x433))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x51abed['skinInstan'+'ce']=_0x4a7428[_0x12e668];}if(_0xcf8f47['morph']){const _0x436422=_0x30c679['indexOf'](_0xcf8f47['morph']);if(_0x436422===-(0xa40*0x1+0x1*0x235d+-0x2d9c))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x51abed['morphInsta'+'nce']=_0x3ac13b[_0x436422];}_0x39c0fe['push'](_0x51abed);}return _0x39c0fe;}}class iL extends Ne{constructor(_0x2ebab9){super(_0x2ebab9,'model'),this['_parsers']=[],this['device']=_0x2ebab9['graphicsDe'+'vice'],this['assets']=_0x2ebab9['assets'],this['defaultMat'+'erial']=al(this['device']),this['addParser'](new sL(this),(_0x569662,_0x2c3396)=>fe['getExtensi'+'on'](_0x569662)==='.json'),this['addParser'](new J2(this),(_0x3661d8,_0x26dfb9)=>fe['getExtensi'+'on'](_0x3661d8)==='.glb');}['load'](_0x541774,_0x3f01bb,_0x5ed878){typeof _0x541774=='string'&&(_0x541774={'load':_0x541774,'original':_0x541774});const _0x13d506={'retry':this['maxRetries']>0x242b*-0x1+0x181c*0x1+0x31*0x3f,'maxRetries':this['maxRetries']};(_0x541774['load']['startsWith']('blob:')||_0x541774['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0x541774['original'])['toLowerCas'+'e']()==='.glb'?_0x13d506['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x13d506['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x541774['load'],_0x13d506,(_0x235939,_0xbe863)=>{if(_0x3f01bb){if(_0x235939)_0x3f01bb('Error\x20load'+'ing\x20model:'+'\x20'+_0x541774['original']+'\x20['+_0x235939+']');else{for(let _0x370a8c=-0x1436+-0x3b*-0x69+-0x1*0x3fd;_0x370a8c<this['_parsers']['length'];_0x370a8c++){const _0x439e8b=this['_parsers'][_0x370a8c];if(_0x439e8b['decider'](_0x541774['original'],_0xbe863)){_0x439e8b['parser']['parse'](_0xbe863,(_0x1eefdd,_0x2d29c2)=>{_0x1eefdd?_0x3f01bb(_0x1eefdd):_0x3f01bb(null,_0x2d29c2);},_0x5ed878);return;}}_0x3f01bb('No\x20parsers'+'\x20found');}}});}['open'](_0x1ba00b,_0x2c2825){return _0x2c2825;}['patch'](_0x54b647,_0x89c965){if(!_0x54b647['resource'])return;const _0x324021=_0x54b647['data'],_0x162186=this;_0x54b647['resource']['meshInstan'+'ces']['forEach']((_0x112ca6,_0x129773)=>{if(_0x324021['mapping']){const _0x28e7f5=function(_0x5c310b){_0x5c310b['resource']?_0x112ca6['material']=_0x5c310b['resource']:(_0x5c310b['once']('load',_0x28e7f5),_0x89c965['load'](_0x5c310b)),_0x5c310b['once']('remove',_0x3cebe8=>{_0x112ca6['material']===_0x3cebe8['resource']&&(_0x112ca6['material']=_0x162186['defaultMat'+'erial']);});};if(!_0x324021['mapping'][_0x129773]){_0x112ca6['material']=_0x162186['defaultMat'+'erial'];return;}const _0x519ab9=_0x324021['mapping'][_0x129773]['material'],_0x102644=_0x324021['mapping'][_0x129773]['path'];let _0x305aaf;if(_0x519ab9!==void(-0xf76+-0x3*-0x509+0x5b))_0x519ab9?(_0x305aaf=_0x89c965['get'](_0x519ab9),_0x305aaf?_0x28e7f5(_0x305aaf):_0x89c965['once']('add:'+_0x519ab9,_0x28e7f5)):_0x112ca6['material']=_0x162186['defaultMat'+'erial'];else{if(_0x102644){const _0x374604=_0x54b647['getAbsolut'+'eUrl'](_0x324021['mapping'][_0x129773]['path']);_0x305aaf=_0x89c965['getByUrl'](_0x374604),_0x305aaf?_0x28e7f5(_0x305aaf):_0x89c965['once']('add:url:'+_0x374604,_0x28e7f5);}}}});}['addParser'](_0x503f9e,_0xad81d5){this['_parsers']['push']({'parser':_0x503f9e,'decider':_0xad81d5});}}class rL extends Ne{constructor(_0x29e1e8){super(_0x29e1e8,'scene');}['load'](_0x2b794e,_0x384c48){Lx['load'](_0x2b794e,this['maxRetries'],_0x384c48);}['open'](_0x489767,_0x30a233){this['_app']['systems']['script']['preloading']=!(-0x301*-0x1+-0x26b4+0x23b3);const _0x338058=new Wp(this['_app'],!(0x1*-0x685+0x825*0x2+-0xfa*0xa))['parse'](_0x30a233),_0x4eef5a=this['_app']['scene'];return _0x4eef5a['root']=_0x338058,this['_app']['applyScene'+'Settings'](_0x30a233['settings']),this['_app']['systems']['script']['preloading']=!(-0x2a1*0xd+0x6a*0x4+0x2086*0x1),_0x4eef5a;}}const hc=class hc{static['push'](_0x12d5ec){hc['_types']['push'](_0x12d5ec);}};c(hc,'_types',[]);let Xr=hc;const nL=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),aL={};Ho['reservedNa'+'mes']['forEach']((_0x86d1e7,_0x25f5e2,_0x1ff686)=>{aL[_0x86d1e7]=0x1488+0x1*-0x22c2+0xe3b;});function oL(_0x33caf0,_0x252f76,_0x40747b){if(typeof _0x33caf0!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x33caf0+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x33caf0['prototype']instanceof Ht))throw new Error('script\x20cla'+'ss:\x20\x27'+Qh['__getScrip'+'tName'](_0x33caf0)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x252f76=_0x252f76||_0x33caf0['__name']||Qh['__getScrip'+'tName'](_0x33caf0),nL['has'](_0x252f76))throw new Error('script\x20nam'+'e:\x20\x27'+_0x252f76+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x33caf0['__name']=_0x252f76,qh['getApplica'+'tion']()['scripts']['add'](_0x33caf0),Xr['push'](_0x33caf0);}const lL=_0x6d5478=>_0x6d5478[-0xf43+0xf39+0xa]['toLowerCas'+'e']()+_0x6d5478['substring'](-0x6*-0x28a+-0x1*-0x1063+-0x1f9e);class hL extends Ne{constructor(_0x105587){super(_0x105587,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x1f12d6 in this['_cache']){const _0x3b9370=this['_cache'][_0x1f12d6],_0x26c405=_0x3b9370['parentNode'];_0x26c405&&_0x26c405['removeChil'+'d'](_0x3b9370);}this['_cache']={};}['load'](_0x3904c2,_0x306a23){typeof _0x3904c2=='string'&&(_0x3904c2={'load':_0x3904c2,'original':_0x3904c2});const _0xebedf8=this;this['_app'];const _0x353034=(_0x3904c2['load'],(_0x4c8b55,_0x4ffa6d,_0x1c6e83)=>{if(_0x4c8b55)_0x306a23(_0x4c8b55);else{const _0x29892a={};for(let _0xbcb55a=0x50e+-0xb*0x251+0x1*0x146d;_0xbcb55a<Xr['_types']['length'];_0xbcb55a++)_0x29892a[Xr['_types'][_0xbcb55a]['name']]=Xr['_types'][_0xbcb55a];Xr['_types']['length']=0x4*0x47+0x1*-0x1ef7+0x1ddb,_0x306a23(null,_0x29892a,_0x1c6e83);const _0x44c8b2=_0x4ffa6d['split']('&hash=')[0x3*-0x798+-0x2496+-0x11*-0x37e];delete _0xebedf8['_loader']['_cache'][pa['makeKey'](_0x44c8b2,'script')];}}),[_0x21a4d3]=_0x3904c2['load']['split']('?');_0x21a4d3['endsWith']('.mjs')?this['_loadModul'+'e'](_0x21a4d3,_0x353034):this['_loadScrip'+'t'](_0x3904c2['load'],_0x353034);}['open'](_0x3c7f19,_0x2d9feb){return _0x2d9feb;}['patch'](_0x5c4606,_0x3658bf){}['_loadScrip'+'t'](_0x4f0a3c,_0x48e0de){const _0x217d2c=document['head'],_0xe93a9e=document['createElem'+'ent']('script');this['_cache'][_0x4f0a3c]=_0xe93a9e,_0xe93a9e['async']=!(0x8be+0x1*0x1b8c+-0x52f*0x7),_0xe93a9e['addEventLi'+'stener']('error',_0x14aed3=>{_0x48e0de('Script:\x20'+_0x14aed3['target']['src']+('\x20failed\x20to'+'\x20load'));},!(-0x1152*-0x1+-0x13ff*0x1+0x7*0x62));let _0x3bb5bd=!(-0x432+-0x155*-0xb+-0xa74);_0xe93a9e['onload']=_0xe93a9e['onreadysta'+'techange']=function(){!_0x3bb5bd&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x3bb5bd=!(-0x166d+0x22c5+-0xc58),_0x48e0de(null,_0x4f0a3c,_0xe93a9e));},_0xe93a9e['src']=_0x4f0a3c,_0x217d2c['appendChil'+'d'](_0xe93a9e);}['_loadModul'+'e'](_0x392547,_0x1d40e6){const _0x50c994=ye['browser']?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x371904=new URL(_0x392547,_0x50c994);import(_0x371904['toString']())['then'](_0x4de659=>{var _0x1ff190,_0x249239;const _0x24549a=_0x371904['pathname']['split']('/')['pop'](),_0x3243a1=(_0x249239=(_0x1ff190=this['_app']['assets']['find'](_0x24549a,'script'))==null?void(-0xea1+0x1be6+-0xd45):_0x1ff190['data'])==null?void(-0x13*-0x10d+0x6*0x55e+-0x342b):_0x249239['scripts'];for(const _0x5daf19 in _0x4de659){const _0x2fb81d=_0x4de659[_0x5daf19];if(_0x2fb81d['prototype']instanceof Ht){const _0x16ca0e=lL(_0x2fb81d['name']);oL(_0x2fb81d,_0x16ca0e),_0x3243a1&&this['_app']['scripts']['addSchema'](_0x16ca0e,_0x3243a1[_0x16ca0e]);}}_0x1d40e6(null,_0x392547,null);})['catch'](_0x3468bc=>{_0x1d40e6(_0x3468bc);});}}class cL extends Ne{constructor(_0x2b75cd){super(_0x2b75cd,'shader'),c(this,'decoder',null);}['load'](_0xf5d44c,_0x3a9504){typeof _0xf5d44c=='string'&&(_0xf5d44c={'load':_0xf5d44c,'original':_0xf5d44c}),$e['get'](_0xf5d44c['load'],{'retry':this['maxRetries']>0xe9c+0x2*0x5af+-0x19fa,'maxRetries':this['maxRetries']},(_0x1a5203,_0x4042ac)=>{_0x1a5203?_0x3a9504('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0xf5d44c['original']+'\x20['+_0x1a5203+']'):_0x3a9504(null,_0x4042ac);});}['openBinary'](_0x283d59){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x283d59);}}function eu(_0x4a98ec){const _0xf29476=this;_0xf29476['resource']&&(_0xf29476['resource']['atlas']=_0x4a98ec['resource']);}function tu(_0x40efcf){this['registry']['load'](_0x40efcf);}class dL extends Ne{constructor(_0x466242){super(_0x466242,'sprite'),this['_assets']=_0x466242['assets'],this['_device']=_0x466242['graphicsDe'+'vice'];}['load'](_0x231f21,_0x57a07b){typeof _0x231f21=='string'&&(_0x231f21={'load':_0x231f21,'original':_0x231f21}),fe['getExtensi'+'on'](_0x231f21['original'])==='.json'&&$e['get'](_0x231f21['load'],{'retry':this['maxRetries']>0x38*0x3e+-0xfb7+0x227,'maxRetries':this['maxRetries']},(_0x3649b5,_0x704770)=>{_0x3649b5?_0x57a07b(_0x3649b5):_0x57a07b(null,_0x704770);});}['open'](_0x23e992,_0x37c949){const _0x188928=new T1(this['_device']);return _0x23e992&&(_0x188928['__data']=_0x37c949),_0x188928;}['patch'](_0x187f68,_0x1d5f12){const _0x3018b1=_0x187f68['resource'];if(_0x3018b1['__data']&&(_0x187f68['data']['pixelsPerU'+'nit']=_0x3018b1['__data']['pixelsPerU'+'nit'],_0x187f68['data']['renderMode']=_0x3018b1['__data']['renderMode'],_0x187f68['data']['frameKeys']=_0x3018b1['__data']['frameKeys'],_0x3018b1['__data']['textureAtl'+'asAsset'])){const _0x2c62d3=_0x1d5f12['getByUrl'](_0x3018b1['__data']['textureAtl'+'asAsset']);_0x2c62d3?_0x187f68['data']['textureAtl'+'asAsset']=_0x2c62d3['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x3018b1['__data']['textureAtl'+'asAsset']);}_0x3018b1['startUpdat'+'e'](),_0x3018b1['renderMode']=_0x187f68['data']['renderMode'],_0x3018b1['pixelsPerU'+'nit']=_0x187f68['data']['pixelsPerU'+'nit'],_0x3018b1['frameKeys']=_0x187f68['data']['frameKeys'],this['_updateAtl'+'as'](_0x187f68),_0x3018b1['endUpdate'](),_0x187f68['off']('change',this['_onAssetCh'+'ange'],this),_0x187f68['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0xf1ce23){const _0x322299=_0xf1ce23['resource'];if(!_0xf1ce23['data']['textureAtl'+'asAsset']){_0x322299['atlas']=null;return;}this['_assets']['off']('load:'+_0xf1ce23['data']['textureAtl'+'asAsset'],eu,_0xf1ce23),this['_assets']['on']('load:'+_0xf1ce23['data']['textureAtl'+'asAsset'],eu,_0xf1ce23);const _0x4d0c93=this['_assets']['get'](_0xf1ce23['data']['textureAtl'+'asAsset']);_0x4d0c93&&_0x4d0c93['resource']?_0x322299['atlas']=_0x4d0c93['resource']:_0x4d0c93?this['_assets']['load'](_0x4d0c93):(this['_assets']['off']('add:'+_0xf1ce23['data']['textureAtl'+'asAsset'],tu,_0xf1ce23),this['_assets']['on']('add:'+_0xf1ce23['data']['textureAtl'+'asAsset'],tu,_0xf1ce23));}['_onAssetCh'+'ange'](_0x41e875,_0x35bb34,_0x55659d,_0x14734){_0x35bb34==='data'&&_0x55659d&&_0x55659d['textureAtl'+'asAsset']&&_0x14734&&_0x55659d['textureAtl'+'asAsset']!==_0x14734['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x14734['textureAtl'+'asAsset'],eu,_0x41e875),this['_assets']['off']('add:'+_0x14734['textureAtl'+'asAsset'],tu,_0x41e875));}}class Gg{constructor(_0x2812ca,_0x1d5823){c(this,'_app'),c(this,'_data'),c(this,'_templateR'+'oot',null),(this['_app']=_0x2812ca,this['_data']=_0x1d5823);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x508aa0=new Wp(this['_app'],!(0x2028+-0x2682+0x65a));this['_templateR'+'oot']=_0x508aa0['parse'](this['_data']);}}class uL extends Ne{constructor(_0x275478){super(_0x275478,'template'),c(this,'decoder',null);}['load'](_0x2efe48,_0x3549cc){typeof _0x2efe48=='string'&&(_0x2efe48={'load':_0x2efe48,'original':_0x2efe48});const _0x4099be={'retry':this['maxRetries']>-0xd*-0x1df+0x170a+-0x5*0x979,'maxRetries':this['maxRetries']};$e['get'](_0x2efe48['load'],_0x4099be,(_0x8873a4,_0x54280b)=>{_0x8873a4?_0x3549cc('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x2efe48['original']):_0x3549cc(_0x8873a4,_0x54280b);});}['open'](_0x4aaa03,_0x5cb6e7){return new Gg(this['_app'],_0x5cb6e7);}['openBinary'](_0xc73fe3){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new Gg(this['_app'],JSON['parse'](this['decoder']['decode'](_0xc73fe3)));}}class fL extends Ne{constructor(_0x5a2053){super(_0x5a2053,'text'),c(this,'decoder',null);}['load'](_0xd7ba6f,_0x551853){typeof _0xd7ba6f=='string'&&(_0xd7ba6f={'load':_0xd7ba6f,'original':_0xd7ba6f}),$e['get'](_0xd7ba6f['load'],{'retry':this['maxRetries']>0x3*0x72e+-0x25dc+0x1052,'maxRetries':this['maxRetries']},(_0x48a558,_0x580be9)=>{_0x48a558?_0x551853('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0xd7ba6f['original']+'\x20['+_0x48a558+']'):_0x551853(null,_0x580be9);});}['openBinary'](_0xc11cf2){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0xc11cf2);}}const th={'repeat':tt,'clamp':ae,'mirror':Of},sh={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},pL=/^data\.frames\.(\d+)$/;class mL extends Ne{constructor(_0x2e01fc){super(_0x2e01fc,'textureatl'+'as'),this['_loader']=_0x2e01fc['loader'];}['load'](_0x121664,_0x37da1e){typeof _0x121664=='string'&&(_0x121664={'load':_0x121664,'original':_0x121664});const _0x4b32e3=this,_0x193634=this['_loader']['getHandler']('texture');fe['getExtensi'+'on'](_0x121664['original'])==='.json'?$e['get'](_0x121664['load'],{'retry':this['maxRetries']>0x52e*0x4+0xaa7*-0x1+-0xa11,'maxRetries':this['maxRetries']},(_0x1284ee,_0x295850)=>{if(_0x1284ee)_0x37da1e(_0x1284ee);else{const _0x49173d=_0x121664['original']['replace']('.json','.png');_0x4b32e3['_loader']['load'](_0x49173d,'texture',(_0x3577b4,_0x586e54)=>{_0x3577b4?_0x37da1e(_0x3577b4):_0x37da1e(null,{'data':_0x295850,'texture':_0x586e54});});}}):_0x193634['load'](_0x121664,_0x37da1e);}['open'](_0x133cb3,_0x227b6e,_0x53fc4e){const _0x542f2e=new A1();if(_0x227b6e['texture']&&_0x227b6e['data'])_0x542f2e['texture']=_0x227b6e['texture'],_0x542f2e['__data']=_0x227b6e['data'];else{const _0x12ceac=this['_loader']['getHandler']('texture')['open'](_0x133cb3,_0x227b6e,_0x53fc4e);if(!_0x12ceac)return null;_0x542f2e['texture']=_0x12ceac;}return _0x542f2e;}['patch'](_0x4f0760,_0x4ebffa){if(!_0x4f0760['resource'])return;_0x4f0760['resource']['__data']&&(_0x4f0760['resource']['__data']['minfilter']!==void(0x2082+0x3bc+0x2*-0x121f)&&(_0x4f0760['data']['minfilter']=_0x4f0760['resource']['__data']['minfilter']),_0x4f0760['resource']['__data']['magfilter']!==void(-0x60*-0x47+0x5*-0x17e+-0x132a)&&(_0x4f0760['data']['magfilter']=_0x4f0760['resource']['__data']['magfilter']),_0x4f0760['resource']['__data']['addressu']!==void(-0x1a2a+0x1*0x103f+0x9eb)&&(_0x4f0760['data']['addressu']=_0x4f0760['resource']['__data']['addressu']),_0x4f0760['resource']['__data']['addressv']!==void(-0x1526+-0x1c1*-0x1+0x1365)&&(_0x4f0760['data']['addressv']=_0x4f0760['resource']['__data']['addressv']),_0x4f0760['resource']['__data']['mipmaps']!==void(0xf88+-0x18f0+0x968)&&(_0x4f0760['data']['mipmaps']=_0x4f0760['resource']['__data']['mipmaps']),_0x4f0760['resource']['__data']['anisotropy']!==void(0x148a+-0x17a2+-0x63*-0x8)&&(_0x4f0760['data']['anisotropy']=_0x4f0760['resource']['__data']['anisotropy']),_0x4f0760['resource']['__data']['rgbm']!==void(0x2*-0xcf2+0x394*0x8+-0x2bc)&&(_0x4f0760['data']['rgbm']=!!_0x4f0760['resource']['__data']['rgbm']),_0x4f0760['data']['frames']=_0x4f0760['resource']['__data']['frames'],delete _0x4f0760['resource']['__data']);const _0x573474=_0x4f0760['resource']['texture'];if(_0x573474&&(_0x573474['name']=_0x4f0760['name'],_0x4f0760['data']['hasOwnProp'+'erty']('minfilter')&&_0x573474['minFilter']!==sh[_0x4f0760['data']['minfilter']]&&(_0x573474['minFilter']=sh[_0x4f0760['data']['minfilter']]),_0x4f0760['data']['hasOwnProp'+'erty']('magfilter')&&_0x573474['magFilter']!==sh[_0x4f0760['data']['magfilter']]&&(_0x573474['magFilter']=sh[_0x4f0760['data']['magfilter']]),_0x4f0760['data']['hasOwnProp'+'erty']('addressu')&&_0x573474['addressU']!==th[_0x4f0760['data']['addressu']]&&(_0x573474['addressU']=th[_0x4f0760['data']['addressu']]),_0x4f0760['data']['hasOwnProp'+'erty']('addressv')&&_0x573474['addressV']!==th[_0x4f0760['data']['addressv']]&&(_0x573474['addressV']=th[_0x4f0760['data']['addressv']]),_0x4f0760['data']['hasOwnProp'+'erty']('mipmaps')&&_0x573474['mipmaps']!==_0x4f0760['data']['mipmaps']&&(_0x573474['mipmaps']=_0x4f0760['data']['mipmaps']),_0x4f0760['data']['hasOwnProp'+'erty']('anisotropy')&&_0x573474['anisotropy']!==_0x4f0760['data']['anisotropy']&&(_0x573474['anisotropy']=_0x4f0760['data']['anisotropy']),_0x4f0760['data']['hasOwnProp'+'erty']('rgbm'))){const _0x5bcf87=_0x4f0760['data']['rgbm']?on:Di;_0x573474['type']!==_0x5bcf87&&(_0x573474['type']=_0x5bcf87);}_0x4f0760['resource']['texture']=_0x573474;const _0x314027={};for(const _0x5c7b49 in _0x4f0760['data']['frames']){const _0x4b8001=_0x4f0760['data']['frames'][_0x5c7b49];_0x314027[_0x5c7b49]={'rect':new Q(_0x4b8001['rect']),'pivot':new W(_0x4b8001['pivot']),'border':new Q(_0x4b8001['border'])};}_0x4f0760['resource']['frames']=_0x314027,_0x4f0760['off']('change',this['_onAssetCh'+'ange'],this),_0x4f0760['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x4f8a63,_0x408cb0,_0x11df9a){let _0x5de345;if(_0x408cb0==='data'||_0x408cb0==='data.frame'+'s'){const _0x46a3a2={};for(const _0x55bdaf in _0x11df9a['frames'])_0x5de345=_0x11df9a['frames'][_0x55bdaf],_0x46a3a2[_0x55bdaf]={'rect':new Q(_0x5de345['rect']),'pivot':new W(_0x5de345['pivot']),'border':new Q(_0x5de345['border'])};_0x4f8a63['resource']['frames']=_0x46a3a2;}else{const _0x2928b3=_0x408cb0['match'](pL);if(_0x2928b3){const _0x3c6493=_0x2928b3[0x2173+0x14c2+0x2*-0x1b1a];_0x11df9a?(_0x4f8a63['resource']['frames'][_0x3c6493]?(_0x5de345=_0x4f8a63['resource']['frames'][_0x3c6493],_0x5de345['rect']['set'](_0x11df9a['rect'][0xfb1+-0xaa1*0x3+0x1*0x1032],_0x11df9a['rect'][-0x1232+0x1*-0x197+0x22*0x95],_0x11df9a['rect'][0x1*-0x1fd1+-0xc5*-0x2c+-0x209],_0x11df9a['rect'][0x61*-0x65+-0xd01*0x3+0x4d4b]),_0x5de345['pivot']['set'](_0x11df9a['pivot'][-0x58d*-0x1+-0x2104+0x1*0x1b77],_0x11df9a['pivot'][0x7cf+-0x2071+0x77*0x35]),_0x5de345['border']['set'](_0x11df9a['border'][0x342+0x23cd+-0x270f],_0x11df9a['border'][-0x1abe+0x39d*0xa+-0x963],_0x11df9a['border'][0x47*0x61+-0x1641*-0x1+-0x1062*0x3],_0x11df9a['border'][0x1d8e+0x19b6+0x29*-0x159])):_0x4f8a63['resource']['frames'][_0x3c6493]={'rect':new Q(_0x11df9a['rect']),'pivot':new W(_0x11df9a['pivot']),'border':new Q(_0x11df9a['border'])},_0x4f8a63['resource']['fire']('set:frame',_0x3c6493,_0x4f8a63['resource']['frames'][_0x3c6493])):_0x4f8a63['resource']['frames'][_0x3c6493]&&(delete _0x4f8a63['resource']['frames'][_0x3c6493],_0x4f8a63['resource']['fire']('remove:fra'+'me',_0x3c6493));}}}}function _L(){const _0x3ec81f={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x15e6c3={'astc':_0x3ec81f['cTFASTC_4x'+'4'],'dxt':_0x3ec81f['cTFBC1'],'etc1':_0x3ec81f['cTFETC1'],'etc2':_0x3ec81f['cTFETC1'],'pvr':_0x3ec81f['cTFPVRTC1_'+'4_RGB'],'atc':_0x3ec81f['cTFATC_RGB'],'none':_0x3ec81f['cTFRGB565']},_0x5adc13={'astc':_0x3ec81f['cTFASTC_4x'+'4'],'dxt':_0x3ec81f['cTFBC3'],'etc1':_0x3ec81f['cTFRGBA444'+'4'],'etc2':_0x3ec81f['cTFETC2'],'pvr':_0x3ec81f['cTFPVRTC1_'+'4_RGBA'],'atc':_0x3ec81f['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x3ec81f['cTFRGBA444'+'4']},_0x1e886a={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x5a722d=(_0x5343d5,_0x5c3ec3)=>{switch(_0x5343d5){case _0x3ec81f['cTFETC1']:return _0x5c3ec3['formats']['etc2']?_0x1e886a['ETC2_RGB']:_0x1e886a['ETC1'];case _0x3ec81f['cTFETC2']:return _0x1e886a['ETC2_RGBA'];case _0x3ec81f['cTFBC1']:return _0x1e886a['DXT1'];case _0x3ec81f['cTFBC3']:return _0x1e886a['DXT5'];case _0x3ec81f['cTFPVRTC1_'+'4_RGB']:return _0x1e886a['PVRTC_4BPP'+'_RGB_1'];case _0x3ec81f['cTFPVRTC1_'+'4_RGBA']:return _0x1e886a['PVRTC_4BPP'+'_RGBA_1'];case _0x3ec81f['cTFASTC_4x'+'4']:return _0x1e886a['ASTC_4x4'];case _0x3ec81f['cTFATC_RGB']:return _0x1e886a['ATC_RGB'];case _0x3ec81f['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x1e886a['ATC_RGBA'];case _0x3ec81f['cTFRGBA32']:return _0x1e886a['R8_G8_B8_A'+'8'];case _0x3ec81f['cTFRGB565']:return _0x1e886a['R5_G6_B5'];case _0x3ec81f['cTFRGBA444'+'4']:return _0x1e886a['R4_G4_B4_A'+'4'];}},_0x5c2a7f=_0x1a6769=>{const _0x1f5819=function(_0x2c97d5,_0x32647c){const _0x27bf66=_0x2c97d5*(-0xc5a+-0x1*0x254b+-0x1*-0x31a5+0.00784313725490196)-(-0x14b*0x17+-0xd85*-0x1+0x1039),_0x22aef7=_0x32647c*((0x162a+-0x1*-0x1d86+-0x33ae)/(-0x14d*-0x1+0x1*-0xa3d+0x9ef))-(0x173*-0x1+0x90c+-0x798),_0x4232b9=Math['sqrt'](-0x1033+-0x1a33+0x2a67-Math['min'](-0x466+0x95f*-0x1+-0x2*-0x6e3,_0x27bf66*_0x27bf66+_0x22aef7*_0x22aef7));return Math['max'](0x248*-0x1+-0x1917*-0x1+-0x16cf,Math['min'](-0x16*0x35+0x25da+-0x204d,Math['floor']((_0x4232b9+(0x2*0x287+-0x9e7+-0x3*-0x19e))*(-0x10ae+0x29d*0x2+0x2*0x5ba+0.5)*(-0x1*0x1772+0x14f2+0x1*0x37f))));};for(let _0x4936d8=0x906+0x3*-0x373+0x153;_0x4936d8<_0x1a6769['length'];_0x4936d8+=0x606+0x2298+-0x1*0x289a){const _0x5c6e6a=_0x1a6769[_0x4936d8+(-0x25*0x7+0x1102*0x2+-0x20fe)],_0xd0d0ad=_0x1a6769[_0x4936d8+(-0x159e+0x8*-0xda+0x1c6f*0x1)];_0x1a6769[_0x4936d8+(-0xa1+0x21d*-0x8+0x1189)]=_0x5c6e6a,_0x1a6769[_0x4936d8+(0xe50+0x76b+-0x1*0x15b9)]=_0x1f5819(_0x5c6e6a,_0xd0d0ad),_0x1a6769[_0x4936d8+(-0x1bfe*-0x1+-0x8ab*0x1+-0x1350)]=0x3c4*-0x8+-0x1fc8+0x3ee7;}return _0x1a6769;},_0x25ddff=_0x4aab41=>{const _0x33ddb6=new Uint16Array(_0x4aab41['length']/(-0x2e*0xd7+-0x2064+0x470a));for(let _0x863997=-0xac3+-0x6*-0x31f+0x1*-0x7f7;_0x863997<_0x4aab41['length'];_0x863997+=0x78+-0xc0*0x1c+0x523*0x4){const _0x212436=_0x4aab41[_0x863997+(0x1d7c+0xa1f+-0x279b)],_0x222c50=_0x4aab41[_0x863997+(0x11*0x22e+-0x1276+-0x1*0x1297)],_0x2db376=_0x4aab41[_0x863997+(-0x1beb+-0x1bf0+0x37dd)];_0x33ddb6[_0x863997/(0x167*-0x19+0x21fe+0x115*0x1)]=(_0x212436&0x362+0x2533+-0x279d*0x1)<<-0x73*-0x5+0x139*-0x4+0x2ad|(_0x222c50&-0x122c*0x2+0x1*0x1c25+0x1*0x92f)<<0x8a*0x35+-0x1*-0xe8f+0x2b1e*-0x1|_0x2db376>>0xf0d*0x1+-0x191*0xa+0x8*0x14;}return _0x33ddb6;},_0x26307b=(_0x50beb3,_0x28227c)=>(_0x50beb3&_0x50beb3-(-0x1d2*-0x11+0x1615*-0x1+-0x8dc))===0x4*-0xa7+0x1792+-0x14f6&&(_0x28227c&_0x28227c-(0x1221+-0x24b8+0x1298))===0x40a+-0x23c4+0x1fba,_0x26df10=()=>typeof performance<'u'?performance['now']():0x1cf0+0xd6*-0x4+-0x1998;let _0x4a0ac3,_0x2bcbc3,_0x5b6818;const _0x13cfe4=(_0xf5bea5,_0xc29e01,_0x41f722)=>{if(_0x41f722){if(_0xf5bea5['formats']['astc'])return'astc';}else{if(_0xc29e01){if(_0xf5bea5['formats']['etc2'])return'etc2';}else{if(_0xf5bea5['formats']['etc2'])return'etc2';if(_0xf5bea5['formats']['etc1'])return'etc1';}}return(_0x304f0e=>{for(let _0x856d57=0xe84+0x3*0x1d1+0x13*-0x10d;_0x856d57<_0x304f0e['length'];++_0x856d57){const _0x332406=_0x304f0e[_0x856d57];if(_0xf5bea5['formats'][_0x332406])return _0x332406;}return'none';})(_0xc29e01?_0x5b6818:_0x2bcbc3);},_0x12a9e4=(_0x125612,_0x4eb6a2,_0x210054)=>{switch(_0x210054){case _0x3ec81f['cTFETC1']:case _0x3ec81f['cTFETC2']:return!(0x19c+-0x13*-0x17d+0x445*-0x7);case _0x3ec81f['cTFBC1']:case _0x3ec81f['cTFBC3']:return(_0x125612&-0x22cc*0x1+0x1*0x1256+0x1079)===0x1cb3*-0x1+-0x40*-0x71+0x5*0x17&&(_0x4eb6a2&-0x1*-0xd52+-0x1d58+0x1009)===0x14*-0x1b1+-0x36f*-0x1+-0xfb*-0x1f;case _0x3ec81f['cTFPVRTC1_'+'4_RGB']:case _0x3ec81f['cTFPVRTC1_'+'4_RGBA']:return _0x26307b(_0x125612,_0x4eb6a2);case _0x3ec81f['cTFASTC_4x'+'4']:return!(-0x14e3+-0x1*0x2da+-0x17bd*-0x1);case _0x3ec81f['cTFATC_RGB']:case _0x3ec81f['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(-0xa32+-0x1*-0xbb3+-0x5*0x4d);}return!(-0x3*0xe+0x830*0x1+-0x805);},_0x313a15=(_0xe9b3ad,_0xf8d969,_0x2456e7)=>{if(!_0x4a0ac3['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x247be3=_0x26df10(),_0x1ed0a4=new _0x4a0ac3['KTX2File'](new Uint8Array(_0xf8d969)),_0xfa58ec=_0x1ed0a4['getWidth'](),_0x2fdd08=_0x1ed0a4['getHeight'](),_0x23d34e=_0x1ed0a4['getLevels'](),_0x27aed1=!!_0x1ed0a4['getHasAlph'+'a'](),_0x1946ba=_0x1ed0a4['isUASTC']&&_0x1ed0a4['isUASTC']();if(!_0xfa58ec||!_0x2fdd08||!_0x23d34e)throw _0x1ed0a4['close'](),_0x1ed0a4['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0xe9b3ad+'\x20width='+_0xfa58ec+'\x20height='+_0x2fdd08+'\x20levels='+_0x23d34e);const _0x214104=_0x13cfe4(_0x2456e7['deviceDeta'+'ils'],_0x27aed1,_0x1946ba),_0x253a3f=!!_0x2456e7['isGGGR']&&_0x214104==='pvr';let _0x9f24f9;if(_0x253a3f?_0x9f24f9=_0x3ec81f['cTFRGBA32']:(_0x9f24f9=_0x27aed1?_0x5adc13[_0x214104]:_0x15e6c3[_0x214104],_0x12a9e4(_0xfa58ec,_0x2fdd08,_0x9f24f9)||(_0x9f24f9=_0x27aed1?_0x3ec81f['cTFRGBA32']:_0x3ec81f['cTFRGB565'])),!_0x1ed0a4['startTrans'+'coding']())throw _0x1ed0a4['close'](),_0x1ed0a4['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0xe9b3ad);let _0x1548eb;const _0xd6fc28=[];for(let _0x5e5ec9=-0x7ed*0x1+-0x1c23+0x2*0x1208;_0x5e5ec9<_0x23d34e;++_0x5e5ec9){const _0x5e2cda=_0x1ed0a4['getImageTr'+'anscodedSi'+'zeInBytes'](_0x5e5ec9,0x1304+-0x11*-0x173+-0x2ba7,0x215c*-0x1+-0x154+0x22b0,_0x9f24f9),_0x51f0f6=new Uint8Array(_0x5e2cda);if(!_0x1ed0a4['transcodeI'+'mage'](_0x51f0f6,_0x5e5ec9,-0x2*-0x8ec+0x5*0x737+-0x11f9*0x3,0xf9d+0x23ba+-0x111d*0x3,_0x9f24f9,-0x168+0x4e9+-0x381,-(0x47d*-0x5+0x1*0x1c57+-0x5e5),-(0x1*0x78e+0x1*-0x17b7+-0x1*-0x102a)))throw _0x1ed0a4['close'](),_0x1ed0a4['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0xe9b3ad);const _0x2ca040=_0x9f24f9===_0x3ec81f['cTFRGB565']||_0x9f24f9===_0x3ec81f['cTFRGBA444'+'4'];_0xd6fc28['push'](_0x2ca040?new Uint16Array(_0x51f0f6['buffer']):_0x51f0f6);}if(_0x1ed0a4['close'](),_0x1ed0a4['delete'](),_0x253a3f){for(_0x9f24f9=_0x3ec81f['cTFRGB565'],_0x1548eb=-0x17e+0x179e+-0x1620;_0x1548eb<_0xd6fc28['length'];++_0x1548eb)_0xd6fc28[_0x1548eb]=_0x25ddff(_0x5c2a7f(_0xd6fc28[_0x1548eb]));}return{'format':_0x5a722d(_0x9f24f9,_0x2456e7['deviceDeta'+'ils']),'width':_0xfa58ec,'height':_0x2fdd08,'levels':_0xd6fc28,'cubemap':!(-0x25ab+0xc5*0x2a+0x55a),'transcodeTime':_0x26df10()-_0x247be3,'url':_0xe9b3ad,'unswizzledGGGR':_0x253a3f};},_0xb248b=(_0x260593,_0x48676d,_0x5293dc)=>{const _0x1d215c=_0x26df10(),_0x3945a2=new _0x4a0ac3['BasisFile'](new Uint8Array(_0x48676d)),_0x424b7b=_0x3945a2['getImageWi'+'dth'](0x4*0x2db+-0x14f7+-0x1*-0x98b,-0xee3*0x1+-0x541+-0x2*-0xa12),_0x3ec4fc=_0x3945a2['getImageHe'+'ight'](0x487*0x2+0xbe5+-0x14f3,-0x1*-0x449+0x8*-0xe0+0x1*0x2b7),_0x3a826d=_0x3945a2['getNumImag'+'es'](),_0x13782b=_0x3945a2['getNumLeve'+'ls'](-0x4b4*0x6+0xf21+0xd17),_0x3b5b4e=!!_0x3945a2['getHasAlph'+'a'](),_0x50310e=_0x3945a2['isUASTC']&&_0x3945a2['isUASTC']();if(!_0x424b7b||!_0x3ec4fc||!_0x3a826d||!_0x13782b)throw _0x3945a2['close'](),_0x3945a2['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x260593+'\x20width='+_0x424b7b+'\x20height='+_0x3ec4fc+'\x20images='+_0x3a826d+'\x20levels='+_0x13782b);const _0x450bd1=_0x13cfe4(_0x5293dc['deviceDeta'+'ils'],_0x3b5b4e,_0x50310e),_0x1cc488=!!_0x5293dc['isGGGR']&&_0x450bd1==='pvr';let _0x1a52bd;if(_0x1cc488?_0x1a52bd=_0x3ec81f['cTFRGBA32']:(_0x1a52bd=_0x3b5b4e?_0x5adc13[_0x450bd1]:_0x15e6c3[_0x450bd1],_0x12a9e4(_0x424b7b,_0x3ec4fc,_0x1a52bd)||(_0x1a52bd=_0x3b5b4e?_0x3ec81f['cTFRGBA32']:_0x3ec81f['cTFRGB565'])),!_0x3945a2['startTrans'+'coding']())throw _0x3945a2['close'](),_0x3945a2['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x260593);let _0x20a9d6;const _0x1acaf5=[];for(let _0xa62cc2=0x2*0x120b+0x12c+-0x2542;_0xa62cc2<_0x13782b;++_0xa62cc2){const _0xc8c74e=_0x3945a2['getImageTr'+'anscodedSi'+'zeInBytes'](-0xdfc+0xaad+0x34f,_0xa62cc2,_0x1a52bd),_0x53f4c7=new Uint8Array(_0xc8c74e);if(!_0x3945a2['transcodeI'+'mage'](_0x53f4c7,-0xe57+-0x1*-0x541+0x48b*0x2,_0xa62cc2,_0x1a52bd,0x130f+-0x1*-0x14b1+-0x27c0,0x1*-0x12f9+0x1f35+-0x24*0x57)){if(_0xa62cc2===_0x13782b-(0x4*0x29b+0x1294+-0x1cff)&&_0xc8c74e===_0x1acaf5[_0xa62cc2-(-0x620*0x1+0x25*0xaa+-0x1271)]['buffer']['byteLength'])_0x53f4c7['set'](new Uint8Array(_0x1acaf5[_0xa62cc2-(-0x213a*0x1+-0x1cc+0x2307)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x260593);else throw _0x3945a2['close'](),_0x3945a2['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x260593);}const _0x15211f=_0x1a52bd===_0x3ec81f['cTFRGB565']||_0x1a52bd===_0x3ec81f['cTFRGBA444'+'4'];_0x1acaf5['push'](_0x15211f?new Uint16Array(_0x53f4c7['buffer']):_0x53f4c7);}if(_0x3945a2['close'](),_0x3945a2['delete'](),_0x1cc488){for(_0x1a52bd=_0x3ec81f['cTFRGB565'],_0x20a9d6=0x252d+-0x1de2+-0x74b;_0x20a9d6<_0x1acaf5['length'];++_0x20a9d6)_0x1acaf5[_0x20a9d6]=_0x25ddff(_0x5c2a7f(_0x1acaf5[_0x20a9d6]));}return{'format':_0x5a722d(_0x1a52bd,_0x5293dc['deviceDeta'+'ils']),'width':_0x424b7b,'height':_0x3ec4fc,'levels':_0x1acaf5,'cubemap':!(-0x2607+0x3*-0x819+-0x3e53*-0x1),'transcodeTime':_0x26df10()-_0x1d215c,'url':_0x260593,'unswizzledGGGR':_0x1cc488};},_0x56170f=(_0x54b8b0,_0x1e5465,_0x4812a9)=>_0x4812a9['isKTX2']?_0x313a15(_0x54b8b0,_0x1e5465,_0x4812a9):_0xb248b(_0x54b8b0,_0x1e5465,_0x4812a9),_0xaf2b40=(_0x3c614d,_0x1057f9,_0x2dea52)=>{try{const _0x2f9e61=_0x56170f(_0x3c614d,_0x1057f9,_0x2dea52);_0x2f9e61['levels']=_0x2f9e61['levels']['map'](_0x4916d9=>_0x4916d9['buffer']),self['postMessag'+'e']({'url':_0x3c614d,'data':_0x2f9e61},_0x2f9e61['levels']);}catch(_0x42be5b){self['postMessag'+'e']({'url':_0x3c614d,'err':_0x42be5b},null);}},_0x59fcf=(_0x44e15c,_0x1fc1c6)=>{const _0x392d2e=(_0x403425,_0x4b4be8)=>(WebAssembly['instantiat'+'e'](_0x44e15c['module'],_0x403425)['then'](_0x6b7b9f=>{_0x4b4be8(_0x6b7b9f);})['catch'](_0x2b533e=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x2b533e);}),{});self['BASIS'](_0x44e15c['module']?{'instantiateWasm':_0x392d2e}:null)['then'](_0x588d34=>{_0x588d34['initialize'+'Basis'](),_0x4a0ac3=_0x588d34,_0x2bcbc3=_0x44e15c['rgbPriorit'+'y'],_0x5b6818=_0x44e15c['rgbaPriori'+'ty'],_0x1fc1c6(null);});},_0x3681b9=[];self['onmessage']=_0x503322=>{const _0x286c50=_0x503322['data'];switch(_0x286c50['type']){case'init':_0x59fcf(_0x286c50['config'],()=>{for(let _0x3be1e5=-0x1948+-0x1b11+-0x1173*-0x3;_0x3be1e5<_0x3681b9['length'];++_0x3be1e5)_0xaf2b40(_0x3681b9[_0x3be1e5]['url'],_0x3681b9[_0x3be1e5]['data'],_0x3681b9[_0x3be1e5]['options']);_0x3681b9['length']=-0x1a8+-0x665+-0x2af*-0x3;});break;case'transcode':_0x4a0ac3?_0xaf2b40(_0x286c50['url'],_0x286c50['data'],_0x286c50['options']):_0x3681b9['push'](_0x286c50);break;}};}const gL=_0x50632d=>({'astc':!!_0x50632d['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x50632d['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x50632d['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x50632d['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x50632d['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x50632d['extCompres'+'sedTexture'+'PVRTC']}),yL=(_0x47919d,_0x5df2c1)=>{const _0x3071e4=_0x43cdde=>{const _0xd14460=['/*\x20basis\x20*'+'/',_0x43cdde,'','('+_L['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0xd14460],{'type':'applicatio'+'n/javascri'+'pt'});},_0x1e3dcd=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x5b2a74=new WebAssembly['Module'](Uint8Array['of'](-0x1838+-0x3*-0x4a+-0x2*-0xbad,-0x168f+0x1*0x1de6+-0xc6*0x9,-0x26c0+-0x21ee+0x4921,-0x3ad*0x5+0x20d9+0x2cf*-0x5,-0x2*0x1109+-0xaed+0x2d00,0x416+0x833*0x2+-0x26*0x8a,0x6cf+0x3*-0x195+-0x210,0x1a9e+-0x149e+-0x60*0x10));if(_0x5b2a74 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x5b2a74)instanceof WebAssembly['Instance'];}}catch{}return!(-0x2269+0x1655+0xc15);},_0x21da68=(_0x4e6e8f,_0x56bcc1)=>{_0x5df2c1(null,{'workerUrl':URL['createObje'+'ctURL'](_0x3071e4(_0x4e6e8f)),'module':_0x56bcc1,'rgbPriority':_0x47919d['rgbPriorit'+'y'],'rgbaPriority':_0x47919d['rgbaPriori'+'ty']});},_0x146bfc={'cache':!(0x1905+-0x72+-0x2bb*0x9),'responseType':'text','retry':_0x47919d['maxRetries']>0x547+-0x1336+-0xdef*-0x1,'maxRetries':_0x47919d['maxRetries']};if(_0x47919d['glueUrl']&&_0x47919d['wasmUrl']&&_0x1e3dcd()){let _0x4ea53c=null,_0x1d956e=null;$e['get'](_0x47919d['glueUrl'],_0x146bfc,(_0x4a5cc6,_0x5b039c)=>{_0x4a5cc6?_0x5df2c1(_0x4a5cc6):_0x1d956e?_0x21da68(_0x5b039c,_0x1d956e):_0x4ea53c=_0x5b039c;});const _0x5a03ad=fetch(_0x47919d['wasmUrl']),_0xe84eb0=()=>{_0x5a03ad['then'](_0x2c3c8a=>_0x2c3c8a['arrayBuffe'+'r']())['then'](_0x36f49e=>WebAssembly['compile'](_0x36f49e))['then'](_0x58465e=>{_0x4ea53c?_0x21da68(_0x4ea53c,_0x58465e):_0x1d956e=_0x58465e;})['catch'](_0x3641e2=>{_0x5df2c1(_0x3641e2,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x5a03ad)['then'](_0x13dda3=>{_0x4ea53c?_0x21da68(_0x4ea53c,_0x13dda3):_0x1d956e=_0x13dda3;})['catch'](_0x481d5b=>{v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x47919d['wasmUrl']+'\x20('+_0x481d5b+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0xe84eb0();}):_0xe84eb0();}else $e['get'](_0x47919d['fallbackUr'+'l'],_0x146bfc,(_0x39c6bd,_0x54b307)=>{_0x39c6bd?_0x5df2c1(_0x39c6bd,null):_0x21da68(_0x54b307,null);});};class xL{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x388da8,_0x363641,_0x3a0d38,_0x265101){if(this['callbacks']['hasOwnProp'+'erty'](_0x388da8))this['callbacks'][_0x388da8]['push'](_0x3a0d38);else{this['callbacks'][_0x388da8]=[_0x3a0d38];const _0x3b8d93={'url':_0x388da8,'data':_0x363641,'options':_0x265101};this['clients']['length']>-0x1*0xdd5+0x1c6c+-0x4dd*0x3?this['clients']['shift']()['run'](_0x3b8d93):this['queue']['push'](_0x3b8d93);}}['enqueueCli'+'ent'](_0x13141f){this['queue']['length']>0x2014*-0x1+0x560+0x1ab4?_0x13141f['run'](this['queue']['shift']()):this['clients']['push'](_0x13141f);}['handleResp'+'onse'](_0x1b8a26,_0x31ba57,_0x1f2449){const _0x17decc=this['callbacks'][_0x1b8a26];if(_0x31ba57){for(let _0x1e3fae=-0xf0*-0x12+0x18e9+-0x29c9;_0x1e3fae<_0x17decc['length'];++_0x1e3fae)_0x17decc[_0x1e3fae](_0x31ba57);}else{_0x1f2449['format']===_c||_0x1f2449['format']===gc?_0x1f2449['levels']=_0x1f2449['levels']['map'](_0x58d33d=>new Uint16Array(_0x58d33d)):_0x1f2449['levels']=_0x1f2449['levels']['map'](_0x33d394=>new Uint8Array(_0x33d394));for(let _0x919526=0x1b94+0x73b*-0x1+-0x1459;_0x919526<_0x17decc['length'];++_0x919526)_0x17decc[_0x919526](null,_0x1f2449);}delete this['callbacks'][_0x1b8a26];}}class SL{constructor(_0x5efa8c,_0x131120,_0x54febc){this['queue']=_0x5efa8c,this['worker']=new Worker(_0x131120['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x1ed729=>{const _0x15a3dc=_0x1ed729['data'];this['queue']['handleResp'+'onse'](_0x15a3dc['url'],_0x15a3dc['err'],_0x15a3dc['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x131120}),this['eager']=_0x54febc;}['run'](_0xe50468){const _0x83f717=[];_0xe50468['data']instanceof ArrayBuffer&&_0x83f717['push'](_0xe50468['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0xe50468['url'],'format':_0xe50468['format'],'data':_0xe50468['data'],'options':_0xe50468['options']},_0x83f717),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const vL=-0x11a5+0x1940+-0x79a,bL=['etc2','etc1','astc','dxt','pvr','atc'],wL=['astc','dxt','etc2','pvr','atc'],TL=0x118e+0x1*0x83f+-0x19c8,Tf=new xL();let Hg=null,Af=!(-0x103*-0x21+-0x25e2+0x480);function AL(_0x4bb487){if(!Af){if(!_0x4bb487)_0x4bb487=Hg||{};else{if(_0x4bb487['lazyInit']){Hg=_0x4bb487;return;}}if(!_0x4bb487['glueUrl']||!_0x4bb487['wasmUrl']||!_0x4bb487['fallbackUr'+'l']){const _0x3d87a0=ay['getConfig']('BASIS');_0x3d87a0&&(_0x4bb487={'glueUrl':_0x3d87a0['glueUrl'],'wasmUrl':_0x3d87a0['wasmUrl'],'fallbackUrl':_0x3d87a0['fallbackUr'+'l'],'numWorkers':_0x3d87a0['numWorkers']});}if(_0x4bb487['glueUrl']||_0x4bb487['wasmUrl']||_0x4bb487['fallbackUr'+'l']){Af=!(-0x7c*0x3e+-0xf5d+-0x1*-0x2d65);const _0x587104=Math['max'](-0xb*-0x68+-0xe0*-0x25+0x24d7*-0x1,Math['min'](-0x32*-0x33+0x1fb7+-0x299d,_0x4bb487['numWorkers']||vL)),_0x1e618c=_0x4bb487['numWorkers']===0x1*-0x8ab+0x1ee8+-0x163c||(_0x4bb487['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x4bb487['eagerWorke'+'rs']:!(0x1d*-0xa7+0x3de+0x1*0xf0d));_0x4bb487['rgbPriorit'+'y']=_0x4bb487['rgbPriorit'+'y']||bL,_0x4bb487['rgbaPriori'+'ty']=_0x4bb487['rgbaPriori'+'ty']||wL,_0x4bb487['maxRetries']=_0x4bb487['hasOwnProp'+'erty']('maxRetries')?_0x4bb487['maxRetries']:TL,yL(_0x4bb487,(_0x296d0c,_0x4beb3d)=>{if(_0x296d0c)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x296d0c);else{for(let _0x4119fb=0x1*-0x13e5+0x5*0x5d1+-0x930;_0x4119fb<_0x587104;++_0x4119fb)Tf['enqueueCli'+'ent'](new SL(Tf,_0x4beb3d,_0x1e618c));}});}}}let su=null;function Fx(_0x557b67,_0x263c2a,_0xdcd046,_0x29b618,_0x3650cc){return AL(),su||(su={'formats':gL(_0x557b67)}),Tf['enqueueJob'](_0x263c2a,_0xdcd046,_0x29b618,{'deviceDetails':su,'isGGGR':!!(_0x3650cc!=null&&_0x3650cc['isGGGR']),'isKTX2':!!(_0x3650cc!=null&&_0x3650cc['isKTX2'])}),Af;}class Na{['load'](_0x587c52,_0x208dd0,_0x51d792){throw new Error('not\x20implem'+'ented');}['open'](_0x2dcfdb,_0xe89983,_0x46564e){throw new Error('not\x20implem'+'ented');}}class EL extends Na{constructor(_0x30f3ef,_0x497cc0){super(),this['device']=_0x497cc0,this['maxRetries']=-0x3cc*0x5+-0x1280+0x257c;}['load'](_0x1e70ad,_0x1bb73d,_0x49e752){const _0x530f79=this['device'],_0xff66d5=_0x371ff0=>{var _0x4715ff,_0x51dcc6,_0x3e1640;Fx(_0x530f79,_0x1e70ad['load'],_0x371ff0,_0x1bb73d,{'isGGGR':(((_0x3e1640=(_0x51dcc6=(_0x4715ff=_0x49e752==null?void(-0xf62+0xf8+0xe6a):_0x49e752['file'])==null?void(-0x2ac+0x1c9f*0x1+-0x19f3):_0x4715ff['variants'])==null?void(0x15c7+0x2*0x11b6+-0x1*0x3933):_0x51dcc6['basis'])==null?void(-0x22cc+0x721+0x3*0x939):_0x3e1640['opt'])&0x4e7+-0xb3*-0x1+0x17*-0x3e)!==0x422+0x1909*-0x1+0x14e7*0x1})||_0x1bb73d('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x49e752['name']+']('+_0x49e752['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};le['fetchArray'+'Buffer'](_0x1e70ad['load'],(_0x1be940,_0x4a6450)=>{_0x1be940?_0x1bb73d(_0x1be940):_0xff66d5(_0x4a6450);},_0x49e752,this['maxRetries']);}['open'](_0x3bd919,_0x35061d,_0xd1ea21,_0x4ce119={}){const _0x497bb2=_0x4ce119['srgb']?Cc(_0x35061d['format']):_0x35061d['format'],_0x26faef=new he(_0xd1ea21,{'name':_0x3bd919,'profilerHint':ur,'addressU':_0x35061d['cubemap']?ae:tt,'addressV':_0x35061d['cubemap']?ae:tt,'width':_0x35061d['width'],'height':_0x35061d['height'],'format':_0x497bb2,'cubemap':_0x35061d['cubemap'],'levels':_0x35061d['levels'],..._0x4ce119});return _0x26faef['upload'](),_0x26faef;}}const Ox=new Uint8Array([-0xc9f*0x1+0x47+0x7*0x1d7,-0xb94+0x1005+-0x421,0x1cdd+0x829+0x178*-0x19,-0xc2f+-0x2ae*0x4+0x172e,-0x95*-0x1e+0x5*-0x15d+-0x2*0x54c,0x1e38+-0x13f5+-0xa39,-0xac7*-0x3+-0xd7f+-0x12bc,-0x30*0x50+0x1*-0x19c5+0x1f*0x151,0xcbd+-0x7*-0x538+0x1*-0x3145,-0x1df*-0x1+-0x1*0x1197+0xfb8,-0x4*-0x18d+-0x1*0x11b3+0x147*0x9,-0xda2+-0x1*-0x1a51+-0xca2,-0x1845+-0x24c9+0x3d57,-0x1*-0x4f2+-0x270c+-0x6*-0x5bb,-0x8c0+-0x219+-0xb1d*-0x1,-0x2633+0xd*-0x1b+0x27e4,-0x20b1+-0x18f8+0x39a9,0x17fe*0x1+0xc78+0x2*-0x123b,-0x1e75+-0x198+-0x669*-0x5,-0x133*0x3+-0x5*-0x6af+-0x1c1*0x11,-0xd*0x2ba+-0x99d*-0x3+0x13*0x59,0x2*0xd56+0x138f*0x1+-0x2e3b,0x1383+-0x1c24+0x2f*0x2f,0x3*-0xa57+-0xe7e+0x2d84,0x1*0x1d85+0x1*0x16ba+0x3437*-0x1,-0x7fd+0x5*-0xcd+-0x2*-0x602,0x9e2*-0x2+0x4f*0x1+-0x125*-0x11,0xc2*0xf+-0x2bb+-0x8a3,-0x2060+0x230+0x54*0x5c,-0x60f+-0x12f8+0x6*0x431,0x19*-0xfa+0x1*0xd43+0xb3c,-0x207a*0x1+-0x25*0x80+0x2*0x19df,-0x128a+-0xbf0*0x3+0x36e3,-0x49b+-0x67*0x2b+0x15e8*0x1,0xd6c+0x6a2+-0x140e,-0xc2c+-0x201*-0x10+-0x4f9*0x4,0x2374+-0x2236+-0x131,-0x3*-0x397+-0x2551+0x1ad5,0xc63+0x129*0x21+0x1934*-0x2,-0x37*-0x3+-0x195d+-0x18f9*-0x1,-0x185e*-0x1+0x1c93+-0x349d,0xd*-0x61+0xe35*0x1+-0x8d0,-0x2*0x12fd+0xd*0x7d+0x207b,-0x26*0xa4+0x3a*0x43+0x98d,0x2*-0x94e+-0x7a7*0x2+0x224e,0x9d8+-0x1*0xae2+0x16e,0x4*-0x658+0x1735+0x1*0x28d,-0x43*-0x3+0xaca+-0xadd,0x6*-0x59e+-0x10e1+0x29*0x13c,-0x211+-0x4d6+-0x1*-0x6e7,0x36d*-0x9+-0x20ea+0x3fbf,-0x1fac+0xb55+0x296*0x8,0x19ec+0x1867*-0x1+0x1*-0x185,0x1850+-0x62*0x3b+0x1*-0x173,-0x191c+0x1e73+-0x514,0x2194+-0x49*0x5b+-0x71c,-0x53f*0x1+-0x4fd*0x4+0x19c7,-0x193d+-0x251*0x1+0x1*0x1c7b,-0x211d+0x10e8+-0x567*-0x3,0x1dc5+-0x193c+-0x489,0xa6b+-0x24db+0xc*0x234,-0x246*0x7+-0xae5+0x1acf,-0x16ab+0x141c+-0x38*-0xd,-0x1dbb+-0x994+-0x2*-0x13ca,-0x2a1*0xd+0x716+0x1b65*0x1,0x5eb+0x2395*-0x1+0x1dee*0x1,-0x23a5+0x1*-0xfc3+-0x2*-0x1a0b,-0x579+-0x1bb0+-0x3b*-0x91,0x3f5*-0x1+0x261+0x64*0x5,0x101a+0x163*0xf+0xb*-0x34f]),kx=(_0x16380c,_0x49cbf9)=>{const _0x7cb468=new he(_0x16380c,{'width':0x1,'height':0x1,'format':Se,'mipmaps':!(0x5*0x608+0x1*0x1d71+-0x773*0x8),'levels':[_0x49cbf9]}),_0xcea02e=new pt({'colorBuffer':_0x7cb468,'depth':!(-0x176+-0x17b*-0x7+0x86*-0x11)});_0x16380c['setFramebu'+'ffer'](_0xcea02e['impl']['_glFrameBu'+'ffer']),_0x16380c['initRender'+'Target'](_0xcea02e);const _0x546b47=new Uint8ClampedArray(-0x266f+0x1a04+0x425*0x3);return _0x16380c['gl']['readPixels'](0x2*-0x1346+-0x9fe+0x3*0x102e,-0x2318+0x7f*0xe+0x1c26,0x19f*0x1+0x1d*-0x83+0xd39,-0x1*0x857+-0x9f7+0x124f,_0x16380c['gl']['RGBA'],_0x16380c['gl']['UNSIGNED_B'+'YTE'],_0x546b47),_0xcea02e['destroy'](),_0x7cb468['destroy'](),_0x546b47[-0x1*-0x747+-0x12e2+0xb9b]===0x369*0x1+0xeb7+-0x121f&&_0x546b47[-0x2f1+0x178a+-0x1498]===-0x13ac+-0x2*0xad8+0x14af*0x2&&_0x546b47[-0x1974+0x4f*0x19+0x1*0x11bf]===0xd1b*-0x1+0xd27*-0x1+0x1a45&&_0x546b47[-0x47*-0x3+0x3*0x251+-0x7c5]===-0x5c9*0x4+-0x1dd+0x1940;},CL=_0x3d2288=>createImageBitmap(new Blob([Ox],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x41f528=>kx(_0x3d2288,_0x41f528))['catch'](_0x1b4678=>!(-0x11c*-0xb+0xe7+-0xd1a)),ML=_0x40dd29=>new Promise((_0x1e6802,_0x2b73a9)=>{const _0x578c2e=new Image();_0x578c2e['src']=URL['createObje'+'ctURL'](new Blob([Ox])),_0x578c2e['onload']=()=>{_0x1e6802(kx(_0x40dd29,_0x578c2e));};});class PL{static['run'](_0x5cb3e9){CL(_0x5cb3e9)['then'](_0x3422bc=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x3422bc);}),ML(_0x5cb3e9)['then'](_0x4fb27b=>{console['log']('imgElement'+'IsCorrect='+_0x4fb27b);});}}class RL extends Na{constructor(_0x7f5594,_0x295990){super(),this['crossOrigi'+'n']=_0x7f5594['prefix']?'anonymous':null,this['maxRetries']=0x17*0x35+-0x85*-0x1+0x548*-0x1,this['device']=_0x295990,Xs['get']('IMG_ALPHA_'+'TEST')&&PL['run'](this['device']);}['load'](_0x330a78,_0x68540b,_0xcdfab8){var _0x5a43e7;const _0x5bf88f=!!((_0x5a43e7=_0xcdfab8==null?void(0x12*0x20f+-0x1c8b+0x883*-0x1):_0xcdfab8['file'])!=null&&_0x5a43e7['contents']);if(_0x5bf88f){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0xcdfab8['file']['contents']]),_0x68540b);return;}_0x330a78={'load':URL['createObje'+'ctURL'](new Blob([_0xcdfab8['file']['contents']])),'original':_0x330a78['original']};}const _0x769f4b=(_0x1a7b6b,_0x1961e2)=>{_0x5bf88f&&URL['revokeObje'+'ctURL'](_0x330a78['load']),_0x68540b(_0x1a7b6b,_0x1961e2);};let _0x3b0e3a;_0xcdfab8&&_0xcdfab8['options']&&_0xcdfab8['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x3b0e3a=_0xcdfab8['options']['crossOrigi'+'n']:Da['test'](_0x330a78['load'])&&(_0x3b0e3a=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x330a78['load'],_0x330a78['original'],_0x3b0e3a,_0x769f4b):this['_loadImage'](_0x330a78['load'],_0x330a78['original'],_0x3b0e3a,_0x769f4b);}['open'](_0x52110d,_0x36d333,_0x13afc1,_0x46105c={}){const _0x306810=new he(_0x13afc1,{'name':_0x52110d,'profilerHint':ur,'width':_0x36d333['width'],'height':_0x36d333['height'],'format':_0x46105c['srgb']?rs:Se,..._0x46105c});return _0x306810['setSource'](_0x36d333),_0x306810;}['_loadImage'](_0x4a8bf4,_0x2df425,_0x5ca9f4,_0x29483e){const _0xab5735=new Image();_0x5ca9f4&&(_0xab5735['crossOrigi'+'n']=_0x5ca9f4);let _0x342110=-0x359+-0x4*0x41+0x45d;const _0xb93048=this['maxRetries'];let _0x4c4225;_0xab5735['onload']=function(){_0x29483e(null,_0xab5735);},_0xab5735['onerror']=function(){if(!_0x4c4225){if(_0xb93048>-0x1e1a+-0x1*0x14cc+0x32e6&&++_0x342110<=_0xb93048){const _0x415b0c=Math['pow'](-0xb9c+-0x1*0x1ddd+0x103*0x29,_0x342110)*(0x266*0xd+0x844+0x1*-0x270e);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x2df425+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x415b0c+'ms...');const _0x41f4e5=_0x4a8bf4['indexOf']('?')>=0x59*-0x37+0x1759+-0x43a*0x1?'&':'?';_0x4c4225=setTimeout(()=>{_0xab5735['src']=_0x4a8bf4+_0x41f4e5+'retry='+Date['now'](),_0x4c4225=null;},_0x415b0c);}else _0x29483e('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x2df425+'\x27');}},_0xab5735['src']=_0x4a8bf4;}['_loadImage'+'Bitmap'](_0x5259ac,_0x2ade53,_0x2c7df4,_0x5edaaf){const _0xb82ab3={'cache':!(-0xa4*0x6+-0x4a7+0x87f),'responseType':'blob','retry':this['maxRetries']>-0x1105+-0x6d*0x28+0x17*0x17b,'maxRetries':this['maxRetries']};$e['get'](_0x5259ac,_0xb82ab3,(_0x3a09d7,_0x304872)=>{_0x3a09d7?_0x5edaaf(_0x3a09d7):this['_loadImage'+'BitmapFrom'+'Blob'](_0x304872,_0x5edaaf);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x19f3c4,_0x5225e9){createImageBitmap(_0x19f3c4,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x373c09=>_0x5225e9(null,_0x373c09))['catch'](_0x12ae2c=>_0x5225e9(_0x12ae2c));}}const iu=[0x3b*0x819bc8+-0xd00887d+0x4775ed10,-0x16075862+-0xe4221b*0x56+0x3*0x5f4954dc,0xc6f059d+-0xd0f95b+-0x1dd8c9*0xd],IL={0x83f0:yc,0x83f2:zf,0x83f3:$o,0x8d64:bc,0x9274:Vf,0x9278:Gf,0x8c00:wc,0x8c01:qo,0x8c02:Tc,0x8c03:Xo,0x8051:dr,0x8058:Se,0x8c41:Uf,0x8c43:rs,0x8c3a:_a,0x881b:xc,0x881a:Je};function DL(_0x403f11,_0x4e6f08,_0x55df66,_0x46eed8){return _0x403f11===_a?new Uint32Array(_0x4e6f08,_0x55df66,_0x46eed8/(-0x1d*0xa3+0x1931+-0x6b6)):new Uint8Array(_0x4e6f08,_0x55df66,_0x46eed8);}class LL extends Na{constructor(_0x27554b){super(),this['maxRetries']=0xbe4*0x1+0x1e19+-0x1*0x29fd;}['load'](_0x3a2c1b,_0x37d80a,_0x10df23){le['fetchArray'+'Buffer'](_0x3a2c1b['load'],_0x37d80a,_0x10df23,this['maxRetries']);}['open'](_0x253423,_0x1b20c3,_0x50df71,_0x745c5f={}){const _0x45ce7c=this['parse'](_0x1b20c3);if(!_0x45ce7c)return null;const _0x36a8d1=_0x745c5f['srgb']?Cc(_0x45ce7c['format']):_0x45ce7c['format'],_0x431c7c=new he(_0x50df71,{'name':_0x253423,'profilerHint':ur,'addressU':_0x45ce7c['cubemap']?ae:tt,'addressV':_0x45ce7c['cubemap']?ae:tt,'width':_0x45ce7c['width'],'height':_0x45ce7c['height'],'format':_0x36a8d1,'cubemap':_0x45ce7c['cubemap'],'levels':_0x45ce7c['levels'],..._0x745c5f});return _0x431c7c['upload'](),_0x431c7c;}['parse'](_0xd4621e){const _0x5855ff=new Uint32Array(_0xd4621e);if(iu[0x1943+-0x470+-0x14d3]!==_0x5855ff[0x47c+0x5*0x325+0x2e3*-0x7]||iu[0x6*0x374+0x1*-0xb73+0x251*-0x4]!==_0x5855ff[0x4f*-0x7e+-0x3*-0xa1d+0x446*0x2]||iu[-0x1*0x766+-0x1*-0x2552+-0x1dea]!==_0x5855ff[0x174+0x251*0xb+-0x1aed])return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x25df2c={'endianness':_0x5855ff[0xdea+-0x24a0+0x16b9],'glType':_0x5855ff[0x1*-0x113f+-0x1e9a*0x1+0x2fdd],'glTypeSize':_0x5855ff[0x23*-0xa3+-0x2614+0x3c62],'glFormat':_0x5855ff[0x201f+-0xbbc+0xd*-0x191],'glInternalFormat':_0x5855ff[-0x16ac+0x64c*0x4+-0x5b*0x7],'glBaseInternalFormat':_0x5855ff[0x2605+0x1c9d+-0x429a],'pixelWidth':_0x5855ff[0x24ad*-0x1+-0x5*0x771+0x49eb],'pixelHeight':_0x5855ff[0x505+0x3*0x6d+0x1*-0x642],'pixelDepth':_0x5855ff[-0x1e6*0xd+-0x1fb3+-0x9d*-0x5c],'numberOfArrayElements':_0x5855ff[-0x640+-0x214f+0x279b],'numberOfFaces':_0x5855ff[-0x14b6+0x270b+-0x1248],'numberOfMipmapLevels':_0x5855ff[0x245c+0x24ff+-0x494d],'bytesOfKeyValueData':_0x5855ff[-0x1aae+-0x1*-0x17a5+-0x108*-0x3]};if(_0x25df2c['pixelDepth']>0x5f0+-0x5*-0x2bb+-0x2e*0x6d)return v['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x25df2c['numberOfAr'+'rayElement'+'s']!==0x817+0x69*0x15+0x10b4*-0x1)return v['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x2cd9b6=IL[_0x25df2c['glInternal'+'Format']];if(_0x2cd9b6===void(0x6a*0x30+-0x158d+0x21*0xd))return v['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x25df2c['glInternal'+'Format']),null;let _0x3cf1ad=-0x23e*-0x4+-0xa*-0x19a+0x91*-0x2c+_0x25df2c['bytesOfKey'+'ValueData']/(-0x1*0x22ed+-0x89*-0x31+0x8b8);const _0x3c0191=_0x25df2c['numberOfFa'+'ces']>0x184*0xe+0xa01*0x1+-0x1f38,_0x5c911d=[];for(let _0x5ac299=-0x16*-0x57+0x273+-0x9ed;_0x5ac299<(_0x25df2c['numberOfMi'+'pmapLevels']||0x1*0xada+0x17*0x196+-0x977*0x5);_0x5ac299++){const _0x4e4f76=_0x5855ff[_0x3cf1ad++];_0x3c0191&&_0x5c911d['push']([]);const _0xe41ca1=_0x3c0191?_0x5c911d[_0x5ac299]:_0x5c911d;for(let _0x278319=0x11e+0x94f*0x1+-0x1*0xa6d;_0x278319<(_0x3c0191?-0x1b2a+-0x83c+0x236c:0x1*-0x1c27+0x1*0x133d+-0x2f9*-0x3);++_0x278319)_0xe41ca1['push'](DL(_0x2cd9b6,_0xd4621e,_0x3cf1ad*(-0x2041+-0x5*-0xa9+-0x1*-0x1cf8),_0x4e4f76)),_0x3cf1ad+=_0x4e4f76+(-0x783*-0x2+0x1d09+-0x2c0c)>>-0x1*0xeb7+0xe9c+0x1d;}return{'format':_0x2cd9b6,'width':_0x25df2c['pixelWidth'],'height':_0x25df2c['pixelHeigh'+'t'],'levels':_0x5c911d,'cubemap':_0x3c0191};}}const FL={'KHR_DF_MODEL_UASTC':0xa6};class OL extends Na{constructor(_0x3f098e,_0x1929cf){super(),this['maxRetries']=-0x1973*0x1+-0x23fb+0x3d6e,this['device']=_0x1929cf;}['load'](_0x434ca1,_0xf87e25,_0x4cf41d){le['fetchArray'+'Buffer'](_0x434ca1['load'],(_0xc6b73b,_0x5466bb)=>{_0xc6b73b?_0xf87e25(_0xc6b73b,_0x5466bb):this['parse'](_0x5466bb,_0x434ca1,_0xf87e25,_0x4cf41d);},_0x4cf41d,this['maxRetries']);}['open'](_0x5e43a8,_0x24fed2,_0x1244ce,_0x492c4d={}){const _0x37da07=_0x492c4d['srgb']?Cc(_0x24fed2['format']):_0x24fed2['format'],_0x43af18=new he(_0x1244ce,{'name':_0x5e43a8,'profilerHint':ur,'addressU':_0x24fed2['cubemap']?ae:tt,'addressV':_0x24fed2['cubemap']?ae:tt,'width':_0x24fed2['width'],'height':_0x24fed2['height'],'format':_0x37da07,'cubemap':_0x24fed2['cubemap'],'levels':_0x24fed2['levels'],..._0x492c4d});return _0x43af18['upload'](),_0x43af18;}['parse'](_0x488f3f,_0x4c2d3c,_0x1e584a,_0x1bb998){var _0x4e55fe,_0x546f74,_0x119b63;const _0x22e51f=new oy(_0x488f3f),_0x3f0b9e=[_0x22e51f['readU32be'](),_0x22e51f['readU32be'](),_0x22e51f['readU32be']()];if(_0x3f0b9e[0x75*0x3d+-0x102f+0xbb2*-0x1]!==-0x7*-0x5bf9825+0x2f2*-0x6a4377+0x1bc08dfd3||_0x3f0b9e[0xa55+0x335+-0xd89]!==0x35c6d888+-0x2bdb2f2e+-0x16468761*-0x1||_0x3f0b9e[0x3*0x17e+0x1c42+-0x105d*0x2]!==0x51d6e3d+-0x5c9a19+0x84945e6)return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0xb9653f={'vkFormat':_0x22e51f['readU32'](),'typeSize':_0x22e51f['readU32'](),'pixelWidth':_0x22e51f['readU32'](),'pixelHeight':_0x22e51f['readU32'](),'pixelDepth':_0x22e51f['readU32'](),'layerCount':_0x22e51f['readU32'](),'faceCount':_0x22e51f['readU32'](),'levelCount':_0x22e51f['readU32'](),'supercompressionScheme':_0x22e51f['readU32']()},_0x713381={'dfdByteOffset':_0x22e51f['readU32'](),'dfdByteLength':_0x22e51f['readU32'](),'kvdByteOffset':_0x22e51f['readU32'](),'kvdByteLength':_0x22e51f['readU32'](),'sgdByteOffset':_0x22e51f['readU64'](),'sgdByteLength':_0x22e51f['readU64']()},_0x530d3f=[];for(let _0x2ee790=-0xa*0x387+0x809*0x2+0x1334;_0x2ee790<Math['max'](0x1*0x571+0xc76*-0x1+0x706,_0xb9653f['levelCount']);++_0x2ee790)_0x530d3f['push']({'byteOffset':_0x22e51f['readU64'](),'byteLength':_0x22e51f['readU64'](),'uncompressedByteLength':_0x22e51f['readU64']()});if(_0x22e51f['readU32']()!==_0x713381['kvdByteOff'+'set']-_0x713381['dfdByteOff'+'set'])return v['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x22e51f['skip'](0xa34+0x1ecf+-0x28fb);const _0x474828=_0x22e51f['readU8']();_0x22e51f['skip'](_0x713381['dfdByteLen'+'gth']-(-0x62e+0xdf2+-0x7bb)),_0x22e51f['skip'](_0x713381['kvdByteLen'+'gth']),_0xb9653f['supercompr'+'essionSche'+'me']===-0x5b4+-0x3b*0x8e+0x266f||_0x474828===FL['KHR_DF_MOD'+'EL_UASTC']?Fx(this['device'],_0x4c2d3c['load'],_0x488f3f,_0x1e584a,{'isGGGR':(((_0x119b63=(_0x546f74=(_0x4e55fe=_0x1bb998==null?void(-0x3*0xab6+-0xbb+0x20dd):_0x1bb998['file'])==null?void(-0x16a*-0x7+0x371*0x9+-0x28df):_0x4e55fe['variants'])==null?void(-0x44*0x77+0x11d7+0xdc5):_0x546f74['basis'])==null?void(-0x81*-0x2d+0xbdd*-0x1+-0xad0*0x1):_0x119b63['opt'])&-0x127a+-0x8b2+-0x1*-0x1b34)!==-0xb*-0x263+0x1a8b+-0x1a66*0x2,'isKTX2':!(0x9c*0x30+-0x2552+0x812)})||_0x1e584a('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x1bb998['name']+']('+_0x1bb998['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x1e584a('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class kL extends Na{constructor(_0x29aefa){super(),this['maxRetries']=0xb2+0x9a4+0x2a*-0x3f;}['load'](_0x4db4f8,_0x1736c3,_0xdbbdb1){le['fetchArray'+'Buffer'](_0x4db4f8['load'],_0x1736c3,_0xdbbdb1,this['maxRetries']);}['open'](_0x5bd2c0,_0x1ecb3c,_0x409567,_0x9ee35c={}){const _0x51f0d9=new Uint32Array(_0x1ecb3c,-0x11d7*0x1+-0x1a3+0x137a*0x1,0x21b1+0x22f+-0x23c0),_0x40b65a=_0x51f0d9[0x2*-0x8b+0x1006+-0x3bb*0x4],_0x1172f0=_0x51f0d9[-0x1*0x19f8+-0x853+-0x2*-0x1127],_0x1f23b5=Math['max'](_0x51f0d9[0x16da+0x5a8*0x5+0x3*-0x1109],-0x133*-0xa+-0xae*0x34+0x175b),_0x4b6f18=_0x51f0d9[-0xe5*-0x1b+-0xf25*-0x1+-0x7d8*0x5]===0xb*-0x2c0+0x22f1+-0x4ad,_0x1572a0=_0x51f0d9[-0x1c55*-0x1+0x1*0x2356+-0x1532*0x3],_0x3a9e7c=_0x51f0d9[0x20c*0x2+-0x20c7*-0x1+-0x2b*0xdb],_0x5ee441=_0x51f0d9[-0x936+0x2441*-0x1+0x2d93]===0x4004+-0x134a7*-0x1+-0x76ab,_0x497e90=-0x1*-0x45332b97+0x1bc328a9+-0x2a5718e*0x12,_0x39081a=-0x55f3f758+0x4a*0x77ca98+0x68a7bfac,_0x77e003=0x1ccc+0x9af+0x260a*-0x1,_0x39decf=0x80a+-0x17*0x148+0x15e2*0x1,_0x1e4033=-0x3ec54397+-0x8149b8e+-0x710c6ca*-0x11,_0x26bfa8=-0x26ce7ed3+0xab9f80e*0x6+0xac7*0x231b9,_0x59c03f=0x6b631db*-0x2+-0x2ab021cc+-0x2*-0x34a85be9,_0x544149=-0x1d1259fc+-0x124111*0x211+0x73fe026d,_0x57592d=0x25f74d7*0x2+-0x543257dc+0x1a0e822*0x4f;let _0x55f938=!(-0x9*0xed+0x2292+-0x1a3c),_0x320c1d=!(0x1*0x1afc+0x13+-0x1b0e*0x1),_0x420ffd=!(-0x4*0x18d+0x5*0x13f+-0x6),_0x59e38d=!(-0x10c*-0x1a+0xf*-0x279+0x9e0),_0x42a65d=null,_0x99d739=-0x2*0xe89+0x17*-0x146+0x3a5d*0x1,_0x125fee;if(_0x4b6f18?_0x1572a0===_0x497e90?(_0x42a65d=yc,_0x55f938=!(0x204a+-0x13*0x43+0xbd*-0x25)):_0x1572a0===_0x39081a?(_0x42a65d=$o,_0x55f938=!(0x199d+0xef3+-0x2890)):_0x1572a0===_0x77e003?(_0x42a65d=Je,_0x99d739=-0x4db+-0x1482+-0x1b1*-0xf):_0x1572a0===_0x39decf?(_0x42a65d=Ke,_0x99d739=-0x2*0x7cc+0x2*-0xe5d+0x2c56):_0x1572a0===_0x1e4033?(_0x42a65d=bc,_0x55f938=!(0x1*-0xec5+0x1063+-0x19e),_0x320c1d=!(0x229+0x177a+0x1*-0x19a3)):_0x1572a0===_0x26bfa8||_0x1572a0===_0x59c03f?(_0x42a65d=_0x1572a0===_0x26bfa8?qo:Xo,_0x55f938=!(-0xf7*0x1+0xc*0x22e+-0x1931),_0x420ffd=!(-0x2ed*-0x7+0x11c*-0x2+-0x1243)):(_0x1572a0===_0x544149||_0x1572a0===_0x57592d)&&(_0x42a65d=_0x1572a0===_0x544149?wc:Tc,_0x55f938=!(-0x18c+-0x24b5+0x2641),_0x59e38d=!(-0x17a+0x773*0x1+-0x5f9)):_0x3a9e7c===0x432+0x16*-0x132+0x163a&&(_0x42a65d=Se),!_0x42a65d)return v['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x5bd2c0+'.'),_0x125fee=new he(_0x409567,{'width':0x4,'height':0x4,'format':dr,'name':'dds-legacy'+'-empty'}),_0x125fee;_0x125fee=new he(_0x409567,{'name':_0x5bd2c0,'profilerHint':ur,'addressU':_0x5ee441?ae:tt,'addressV':_0x5ee441?ae:tt,'width':_0x40b65a,'height':_0x1172f0,'format':_0x42a65d,'cubemap':_0x5ee441,'mipmaps':_0x1f23b5>0xcb1+0x816+-0x1*0x14c6,..._0x9ee35c});let _0x417fc8=0xb*0x98+-0x1a7f+-0x1*-0x1477;const _0x2a6643=_0x5ee441?0x186c+-0x531+-0x1335:0x16a+0x3*-0x7e3+0x164*0x10;let _0x38e515;const _0x54ff5f=-0x70f+0x2*0xa79+-0xddf,_0x35f103=-0x1521+0x463+0xd*0x14a,_0x2ba4ee=_0x1572a0===_0x497e90?0x1*-0xc7f+-0x372+0xff9:-0x1*0x12ee+0x103*-0x3+-0x1607*-0x1;let _0xa51c64,_0x518170,_0x26e973;for(let _0x5b080f=0x21f*0x5+0x3d*0x47+-0x1a*0x10f;_0x5b080f<_0x2a6643;_0x5b080f++){let _0x254afa=_0x40b65a,_0x6c50e8=_0x1172f0;for(let _0xa6b409=-0x1*0x268d+-0x1cf3*0x1+0x4380;_0xa6b409<_0x1f23b5;_0xa6b409++){_0x55f938?_0x320c1d?_0x38e515=Math['floor']((_0x254afa+(-0x1*-0x691+-0x251a+0x1e8c))/(-0x16e2+-0xca8+0x238e))*Math['floor']((_0x6c50e8+(0x371+0x1*-0x10d7+-0xd69*-0x1))/(0x1c1a+0x18e7+-0xa99*0x5))*(0xe*-0x232+-0x1742+0x3606):_0x420ffd?_0x38e515=Math['max'](_0x254afa,-0x22c2*0x1+0x17+-0x22bb*-0x1)*Math['max'](_0x6c50e8,0x216b+-0x1a64+-0x6ff)/(-0x1*-0x232d+-0x39a*0xa+-0x1*-0xdb):_0x59e38d?_0x38e515=Math['max'](_0x254afa,0x19c6+-0x5*-0x6be+0x4*-0xedd)*Math['max'](_0x6c50e8,-0x13cf+0x2b*-0xa+0x1585)/(0x1*-0x10f9+-0x1*-0x25af+-0x14b4):(_0xa51c64=Math['floor']((_0x254afa+_0x54ff5f-(0x3ee*-0x1+-0x4aa*0x8+0x293f))/_0x54ff5f),_0x518170=Math['floor']((_0x6c50e8+_0x35f103-(-0x1f88+0xe11+0x1178))/_0x35f103),_0x26e973=_0xa51c64*_0x518170,_0x38e515=_0x26e973*_0x2ba4ee):_0x38e515=_0x254afa*_0x6c50e8*(-0xc4*-0x2e+0x1*0x17d1+-0x3b05);const _0xc87281=_0x42a65d===Ke?new Float32Array(_0x1ecb3c,_0x417fc8,_0x38e515):_0x42a65d===Je?new Uint16Array(_0x1ecb3c,_0x417fc8,_0x38e515):new Uint8Array(_0x1ecb3c,_0x417fc8,_0x38e515);_0x5ee441?(_0x125fee['_levels'][_0xa6b409]||(_0x125fee['_levels'][_0xa6b409]=[]),_0x125fee['_levels'][_0xa6b409][_0x5b080f]=_0xc87281):_0x125fee['_levels'][_0xa6b409]=_0xc87281,_0x417fc8+=_0x38e515*_0x99d739,_0x254afa=Math['max'](_0x254afa*(0x3*-0x862+0x2565+-0xc3f+0.5),0x920+0x32*-0x19+0x23*-0x1f),_0x6c50e8=Math['max'](_0x6c50e8*(0x2272+0x80*0x4a+0x1*-0x4772+0.5),0xd24+-0xd4a+-0x27*-0x1);}}return _0x125fee['upload'](),_0x125fee;}}class BL extends Na{constructor(_0x324d19){super(),this['maxRetries']=0x6eb+0x1*0x1015+-0xb80*0x2;}['load'](_0x35803a,_0x1b5eaa,_0x4ef9b3){le['fetchArray'+'Buffer'](_0x35803a['load'],_0x1b5eaa,_0x4ef9b3,this['maxRetries']);}['open'](_0x3e1b9c,_0x3a1a07,_0x255d63,_0x24582e={}){const _0x5241f9=this['parse'](_0x3a1a07);if(!_0x5241f9)return null;const _0x3a9a55=new he(_0x255d63,{'name':_0x3e1b9c,'profilerHint':ur,'addressU':tt,'addressV':ae,'minFilter':de,'magFilter':de,'width':_0x5241f9['width'],'height':_0x5241f9['height'],'levels':_0x5241f9['levels'],'format':Se,'type':ap,'mipmaps':!(0x3*0x257+-0x1146+0xca*0xd),..._0x24582e});return _0x3a9a55['upload'](),_0x3a9a55;}['parse'](_0x46709f){const _0x3e7ff3=new oy(_0x46709f);if(!_0x3e7ff3['readLine']()['startsWith']('#?RADIANCE'))return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x1778b3={};for(;;){const _0x30da58=_0x3e7ff3['readLine']();if(_0x30da58['length']===-0x1*-0x6a3+-0xc7*-0xf+-0x124c)break;{const _0x2a9d2f=_0x30da58['split']('=');_0x2a9d2f['length']===0x77*-0x35+-0x101f+0x1462*0x2&&(_0x1778b3[_0x2a9d2f[0xbe7*0x3+0x149f+-0xb44*0x5]]=_0x2a9d2f[-0x94c+-0x2589+0x2ed6]);}}if(!_0x1778b3['hasOwnProp'+'erty']('FORMAT'))return v['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x5c66f1=_0x3e7ff3['readLine']()['split']('\x20');if(_0x5c66f1['length']!==-0x26e4+-0x408+-0x55e*-0x8)return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x3864d9=parseInt(_0x5c66f1[-0x62a+0x1d7f+-0x1754],0x1431*0x1+0x2189+-0x4*0xd6c),_0x2f5acc=parseInt(_0x5c66f1[-0x25d3+-0x1*-0x1035+0x15a1],0x1*0x1cea+-0x5*-0x665+-0x3cd9),_0x411590=this['_readPixel'+'s'](_0x3e7ff3,_0x2f5acc,_0x3864d9,_0x5c66f1[0x1b*-0x125+-0x1027+0x2f0e]==='-Y');return _0x411590?{'width':_0x2f5acc,'height':_0x3864d9,'levels':[_0x411590]}:null;}['_readPixel'+'s'](_0x2b24ac,_0x50d0ac,_0x584ad7,_0x4519c5){if(_0x50d0ac<0x18e1+0xe05+0x18e*-0x19||_0x50d0ac>0x160f*-0x6+-0x1*0x1717+0x1*0x11b70)return this['_readPixel'+'sFlat'](_0x2b24ac,_0x50d0ac,_0x584ad7);const _0x3ee109=[-0x1948+0xf*0x119+0x3d*0x25,-0x807*0x4+0x20d7+-0xbb,0x29f*-0x6+0x36f+-0x419*-0x3,-0x1*-0x14cb+-0x1340+0x1*-0x18b];if(_0x2b24ac['readArray'](_0x3ee109),_0x3ee109[0x8d6*0x1+0xd49+0x161f*-0x1]!==-0x1bcc+0xacb+0x1103||_0x3ee109[-0x16e6+0x87*0x43+-0xc6e]!==0x167c+-0x18*0x72+0xbca*-0x1||(_0x3ee109[0xaa5*0x3+0x1c8+0x21b5*-0x1]&-0x1d49+-0x2579+0x4342*0x1)!==-0x5*-0x60+0x1a5*-0xb+-0x7*-0x251)return _0x2b24ac['skip'](-(-0x2f3*0x5+-0xcfa+0x1bbd)),this['_readPixel'+'sFlat'](_0x2b24ac,_0x50d0ac,_0x584ad7);const _0x1bd6a8=new ArrayBuffer(_0x50d0ac*_0x584ad7*(-0xf76+-0x15e8+-0x366*-0xb)),_0x24345b=new Uint8Array(_0x1bd6a8);let _0x258738=_0x4519c5?-0xb7d*-0x1+0x1389*0x1+0x169*-0x16:_0x50d0ac*(0x1f*-0xf8+0xbc0+0x493*0x4)*(_0x584ad7-(-0x1*-0x215+-0x2*-0xb92+0x21a*-0xc)),_0x466ed3,_0x295866,_0x3e69fc,_0x5e0507,_0x26ee2b,_0x3a2e4d;for(_0x295866=0x252a+0x1b8c+-0x21*0x1f6;_0x295866<_0x584ad7;++_0x295866){if(_0x295866&&_0x2b24ac['readArray'](_0x3ee109),(_0x3ee109[0x2505+-0x2ff*-0xa+-0x42f9]<<-0x2063*0x1+-0x3*0x8c3+0x3ab4)+_0x3ee109[-0x13*0x1a5+0x1756*0x1+0x7ec]!==_0x50d0ac)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x5e0507=0x1ec5*-0x1+-0x24f4+-0x1*-0x43b9;_0x5e0507<0xf46+0x6*-0xe3+0x13e*-0x8;++_0x5e0507)for(_0x466ed3=-0x3*0x420+0x2178+-0x1518;_0x466ed3<_0x50d0ac;)if(_0x26ee2b=_0x2b24ac['readU8'](),_0x26ee2b>-0x226d+0xd03*0x2+-0x1*-0x8e7){if(_0x26ee2b-=-0x1e86+0x3af*0x1+0x1b57,_0x466ed3+_0x26ee2b>_0x50d0ac)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x3a2e4d=_0x2b24ac['readU8'](),_0x3e69fc=0xd81*-0x2+-0x1*-0x2593+-0xa91;_0x3e69fc<_0x26ee2b;++_0x3e69fc)_0x24345b[_0x258738+_0x5e0507+(0x1aba+0x572+-0x2028)*_0x466ed3++]=_0x3a2e4d;}else{if(_0x26ee2b===0x7b+-0x2161+0x20e6*0x1||_0x466ed3+_0x26ee2b>_0x50d0ac)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x3e69fc=-0x4*-0x24b+-0x41b*-0x2+-0x1162;_0x3e69fc<_0x26ee2b;++_0x3e69fc)_0x24345b[_0x258738+_0x5e0507+(0x189f+0x1664+0xe3*-0x35)*_0x466ed3++]=_0x2b24ac['readU8']();}_0x258738+=_0x50d0ac*(0xc9*-0x1f+-0x49*0x5+0x19c8)*(_0x4519c5?0x1326+0x247*-0x1+-0x22*0x7f:-(0x75*0x1+0x16ab+-0x7b5*0x3));}return _0x24345b;}['_readPixel'+'sFlat'](_0x1d741d,_0x2d6eef,_0x1acf1a){return _0x1d741d['remainingB'+'ytes']===_0x2d6eef*_0x1acf1a*(0x189c+-0x12ac+-0x5ec)?new Uint8Array(_0x1d741d['arraybuffe'+'r'],_0x1d741d['offset']):null;}}const Wg={'repeat':tt,'clamp':ae,'mirror':Of},$g={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},NL={'default':Di,'rgbm':on,'rgbe':ap,'rgbp':Io,'swizzleGGGR':op},zL=function(_0x1d0695){const _0xcb6e1c=Mi['calcMipLev'+'elsCount'](_0x1d0695['_width'],_0x1d0695['_height']),_0x5a3184=function(_0x33d4da){return _0x33d4da instanceof HTMLCanvasElement||_0x33d4da instanceof HTMLImageElement||_0x33d4da instanceof HTMLVideoElement;};if(!(_0x1d0695['_format']===Se||_0x1d0695['_format']===Ke)||_0x1d0695['_volume']||_0x1d0695['_compresse'+'d']||_0x1d0695['_levels']['length']===-0x2338+-0x1bbb+0x3ef4||_0x1d0695['_levels']['length']===_0xcb6e1c||_0x5a3184(_0x1d0695['_cubemap']?_0x1d0695['_levels'][0xf63*0x2+-0x2d*0x7f+-0x873][-0x2286+0x309*-0x3+0x2ba1]:_0x1d0695['_levels'][0x23e2*-0x1+0xa*-0x2ab+0x38*0x11e]))return;const _0x21df04=function(_0x29302d,_0x7b1bdf,_0x232648){const _0xb9bcae=Math['max'](0xfdf+-0x253a+0x557*0x4,_0x29302d>>-0x1*-0x15fe+-0x16f+-0x6da*0x3),_0x1bc5b4=Math['max'](0x2*-0x10a7+-0x2d0+0x241f*0x1,_0x7b1bdf>>0x268b+-0x1084+0x1606*-0x1),_0x4e22cd=new _0x232648['constructo'+'r'](_0xb9bcae*_0x1bc5b4*(0x41b+0x268b+-0x2*0x1551)),_0x2420ce=Math['floor'](_0x29302d/_0xb9bcae),_0x39e591=Math['floor'](_0x7b1bdf/_0x1bc5b4),_0x345b64=_0x2420ce*_0x39e591;for(let _0x3562f6=-0x1d6*0x3+-0xfcf+0x6b*0x33;_0x3562f6<_0x1bc5b4;++_0x3562f6)for(let _0x187d3d=0x246f+-0xcc+-0x23a3;_0x187d3d<_0xb9bcae;++_0x187d3d)for(let _0x5f0b8a=0xabe+-0x2355+0x5*0x4eb;_0x5f0b8a<-0x295*-0xb+-0x1d*0xc4+-0x62f;++_0x5f0b8a){let _0x54b226=-0x159d+-0x17b+-0x8*-0x2e3;for(let _0x2630a1=-0xae9+0x14db+0x86*-0x13;_0x2630a1<_0x39e591;++_0x2630a1)for(let _0x27afa2=-0x1cac+0x961+0x134b;_0x27afa2<_0x2420ce;++_0x27afa2)_0x54b226+=_0x232648[(_0x187d3d*_0x2420ce+_0x27afa2+(_0x3562f6*_0x39e591+_0x2630a1)*_0x29302d)*(-0x1*-0x1690+-0x25c6+-0x1*-0xf3a)+_0x5f0b8a];_0x4e22cd[(_0x187d3d+_0x3562f6*_0xb9bcae)*(-0xb*-0x26e+-0x1a58+0x2*-0x2f)+_0x5f0b8a]=_0x54b226/_0x345b64;}return _0x4e22cd;};for(let _0x420ad9=_0x1d0695['_levels']['length'];_0x420ad9<_0xcb6e1c;++_0x420ad9){const _0x229f77=Math['max'](0x23*0x67+0x1361+0x23b*-0xf,_0x1d0695['_width']>>_0x420ad9-(0xd22+0x26e*0xb+-0x27db)),_0x19f834=Math['max'](-0x472+-0x1f91+-0x14*-0x1cd,_0x1d0695['_height']>>_0x420ad9-(0x247e+-0x13d+-0x2340));if(_0x1d0695['_cubemap']){const _0x3a93d2=[];for(let _0x5f0a2e=0x86*-0x13+-0x1*0x6d3+-0x1b*-0x9f;_0x5f0a2e<-0xcf*-0x3+0xecb*-0x1+0xc64;++_0x5f0a2e)_0x3a93d2['push'](_0x21df04(_0x229f77,_0x19f834,_0x1d0695['_levels'][_0x420ad9-(0x1668*-0x1+-0x3f*-0x99+-0xf3e)][_0x5f0a2e]));_0x1d0695['_levels']['push'](_0x3a93d2);}else _0x1d0695['_levels']['push'](_0x21df04(_0x229f77,_0x19f834,_0x1d0695['_levels'][_0x420ad9-(-0x1c47+-0x517+-0x215f*-0x1)]));}_0x1d0695['_levelsUpd'+'ated']=_0x1d0695['_cubemap']?[[!(0x17be+-0xb*0x2d4+-0x52*-0x17),!(0x8a4+0x1*0x12f+-0x9d3),!(0x323*0x8+0x2141+-0x27*0x17f),!(-0x17*0x10d+-0x229*0x7+0x274a),!(-0x145+-0x1241+0x1386),!(0x3f6+0x3d7*0x1+-0x7cd)]]:[!(-0x96c+-0x2616+0x2f82)];};class UL extends Ne{constructor(_0x1678f4){super(_0x1678f4,'texture');const _0x4905e9=_0x1678f4['assets'],_0x330ed7=_0x1678f4['graphicsDe'+'vice'];this['_device']=_0x330ed7,this['_assets']=_0x4905e9,this['imgParser']=new RL(_0x4905e9,_0x330ed7),this['parsers']={'dds':new kL(_0x4905e9),'ktx':new LL(_0x4905e9),'ktx2':new OL(_0x4905e9,_0x330ed7),'basis':new EL(_0x4905e9,_0x330ed7),'hdr':new BL(_0x4905e9)};}set['crossOrigi'+'n'](_0xdf6de4){this['imgParser']['crossOrigi'+'n']=_0xdf6de4;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x45f9ac){this['imgParser']['maxRetries']=_0x45f9ac;for(const _0x3bdaee in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x3bdaee)&&(this['parsers'][_0x3bdaee]['maxRetries']=_0x45f9ac);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x3521c2){return _0x3521c2['indexOf']('?')>=-0x26f8+-0x112a+-0x1e*-0x1df?_0x3521c2['split']('?')[-0x1eb8+0x172e+0x78a]:_0x3521c2;}['_getParser'](_0x455515){const _0x52f1dc=fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x455515))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x52f1dc]||this['imgParser'];}['_getTextur'+'eOptions'](_0x24f97d){var _0x18f6d0;const _0x37c76e={'profilerHint':ur};if(_0x24f97d){((_0x18f6d0=_0x24f97d['name'])==null?void(-0x13*0x8b+0xeb3*-0x1+0x1904):_0x18f6d0['length'])>0x3c5*0x2+0x174e+0x1ed8*-0x1&&(_0x37c76e['name']=_0x24f97d['name']);const _0x29f2b5=_0x24f97d['data'];_0x29f2b5['hasOwnProp'+'erty']('minfilter')&&(_0x37c76e['minFilter']=$g[_0x29f2b5['minfilter']]),_0x29f2b5['hasOwnProp'+'erty']('magfilter')&&(_0x37c76e['magFilter']=$g[_0x29f2b5['magfilter']]),_0x29f2b5['hasOwnProp'+'erty']('addressu')&&(_0x37c76e['addressU']=Wg[_0x29f2b5['addressu']]),_0x29f2b5['hasOwnProp'+'erty']('addressv')&&(_0x37c76e['addressV']=Wg[_0x29f2b5['addressv']]),_0x29f2b5['hasOwnProp'+'erty']('mipmaps')&&(_0x37c76e['mipmaps']=_0x29f2b5['mipmaps']),_0x29f2b5['hasOwnProp'+'erty']('anisotropy')&&(_0x37c76e['anisotropy']=_0x29f2b5['anisotropy']),_0x29f2b5['hasOwnProp'+'erty']('flipY')&&(_0x37c76e['flipY']=!!_0x29f2b5['flipY']),_0x29f2b5['hasOwnProp'+'erty']('srgb')&&(_0x37c76e['srgb']=!!_0x29f2b5['srgb']),_0x29f2b5['hasOwnProp'+'erty']('type')?_0x37c76e['type']=NL[_0x29f2b5['type']]:_0x29f2b5['hasOwnProp'+'erty']('rgbm')&&_0x29f2b5['rgbm']?_0x37c76e['type']=on:_0x24f97d['file']&&(_0x24f97d['file']['opt']&-0x22ae+0x13f8+0x11*0xde)!==0x1bed+-0x25a8+0x9bb&&(_0x37c76e['type']=op);}return _0x37c76e;}['load'](_0x3dfbed,_0x4159e7,_0x14508f){typeof _0x3dfbed=='string'&&(_0x3dfbed={'load':_0x3dfbed,'original':_0x3dfbed}),this['_getParser'](_0x3dfbed['original'])['load'](_0x3dfbed,_0x4159e7,_0x14508f);}['open'](_0x1755cd,_0x72e7b1,_0xf8926b){if(!_0x1755cd)return;const _0x2c08ab=this['_getTextur'+'eOptions'](_0xf8926b);let _0x437859=this['_getParser'](_0x1755cd)['open'](_0x1755cd,_0x72e7b1,this['_device'],_0x2c08ab);return _0x437859===null?_0x437859=new he(this['_device'],{'width':0x4,'height':0x4,'format':dr}):(zL(_0x437859),_0x72e7b1['unswizzled'+'GGGR']&&(_0xf8926b['file']['variants']['basis']['opt']&=-(-0x21f0+0x40d+0x1dec))),_0x437859;}['patch'](_0x56b37a,_0x5d47b6){const _0x776856=_0x56b37a['resource'];if(!_0x776856)return;const _0x483e83=this['_getTextur'+'eOptions'](_0x56b37a);for(const _0x1e2f1e of Object['keys'](_0x483e83))_0x776856[_0x1e2f1e]=_0x483e83[_0x1e2f1e];}}const VL='inline',GL='immersive-'+'vr',Ao='immersive-'+'ar',qg='viewer',HL='left',WL='cpu-optimi'+'zed',Bx='gpu-optimi'+'zed',Nx='luminance-'+'alpha',zx='unsigned-s'+'hort',Ux='float32';class $L{constructor(_0x5e3de9){c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRDOMOverl'+'ayState']),c(this,'_root',null),(this['_manager']=_0x5e3de9,this['init']());}async['init'](){const _0x3511b7=await navigator['xr']['isSessionS'+'upported']('immersive-'+'ar',{'features':['dom-overla'+'y']});this['_supported']=_0x3511b7;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x2813c4){!this['_supported']||this['_manager']['active']||(this['_root']=_0x2813c4);}get['root'](){return this['_root'];}}const ih=[],Xg=[];class Ef extends ce{constructor(_0x3472b3,_0x52642e,_0x21a4c1,_0x411a7e=null){super(),c(this,'manager'),c(this,'_xrHitTest'+'Source'),c(this,'_transient'),c(this,'_inputSour'+'ce'),(this['manager']=_0x3472b3,this['_xrHitTest'+'Source']=_0x52642e,this['_transient']=_0x21a4c1,this['_inputSour'+'ce']=_0x411a7e);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0xed3f47=this['manager']['hitTest']['sources'],_0x29d6bc=_0xed3f47['indexOf'](this);_0x29d6bc!==-(0x2173+-0x1*-0x25e+0x10*-0x23d)&&_0xed3f47['splice'](_0x29d6bc,0x1b91+-0x2e7*0x5+-0xd0d),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x4a5c58){if(this['_transient']){const _0x4ab16e=_0x4a5c58['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x218883=0x31*0x95+0x743+-0x23c8;_0x218883<_0x4ab16e['length'];_0x218883++){const _0x3bdf35=_0x4ab16e[_0x218883];if(!_0x3bdf35['results']['length'])continue;let _0x5646d4;_0x3bdf35['inputSourc'+'e']&&(_0x5646d4=this['manager']['input']['_getByInpu'+'tSource'](_0x3bdf35['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x3bdf35['results'],_0x5646d4);}}else{const _0xa4fab9=_0x4a5c58['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0xa4fab9['length'])return;this['updateHitR'+'esults'](_0xa4fab9);}}['updateHitR'+'esults'](_0x7b467a,_0x270401){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x270401)return;const _0x4ee924=ih['pop']()??new T();_0x270401?_0x4ee924['copy'](_0x270401['getOrigin']()):_0x4ee924['copy'](this['manager']['camera']['getPositio'+'n']());let _0x3640f0=(-0xf*0x20b+-0x130e+0x31b4)/(-0x505*0x2+-0x1038*0x2+0x2a7a),_0x4af738=null;const _0x96307b=ih['pop']()??new T(),_0x12a25c=Xg['pop']()??new se();for(let _0x5ca4f4=-0x212e*0x1+-0x4*-0x2ef+0x3*0x726;_0x5ca4f4<_0x7b467a['length'];_0x5ca4f4++){const _0x415a7f=_0x7b467a[_0x5ca4f4]['getPose'](this['manager']['_reference'+'Space']),_0x32dbb8=_0x4ee924['distance'](_0x415a7f['transform']['position']);_0x32dbb8>=_0x3640f0||(_0x3640f0=_0x32dbb8,_0x4af738=_0x7b467a[_0x5ca4f4],_0x96307b['copy'](_0x415a7f['transform']['position']),_0x12a25c['copy'](_0x415a7f['transform']['orientatio'+'n']));}this['fire']('result',_0x96307b,_0x12a25c,_0x270401||this['_inputSour'+'ce'],_0x4af738),this['manager']['hitTest']['fire']('result',this,_0x96307b,_0x12a25c,_0x270401||this['_inputSour'+'ce'],_0x4af738),ih['push'](_0x4ee924),ih['push'](_0x96307b),Xg['push'](_0x12a25c);}}c(Ef,'EVENT_REMO'+'VE','remove'),c(Ef,'EVENT_RESU'+'LT','result');class kr extends ce{constructor(_0x3e3c05){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),c(this,'_available',!(-0x6*0x30a+0x71*-0x51+-0x1*-0x35fe)),c(this,'_checkingA'+'vailabilit'+'y',!(-0x313*-0x9+-0x95*0x1+0x1*-0x1b15)),c(this,'sources',[]),(this['manager']=_0x3e3c05,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x41c007=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(-0x1e2d+0x4cc*-0x7+-0x1fe1*-0x2);if(!_0x41c007)return;this['_available']=_0x41c007,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(-0xc55*0x1+0x7aa+0x4ab*0x1),this['manager']['session']['requestRef'+'erenceSpac'+'e'](qg)['then'](_0x4beb44=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x4beb44})['then'](_0xbc5c0d=>{_0xbc5c0d['cancel'](),this['manager']['active']&&(this['_available']=!(-0xa*0x262+-0x35*0xa3+0x3993),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0xed4+-0xe*0x1c1+-0x1*-0x9bb);for(let _0x44d31a=0x5b5*0x5+0x36a+-0x1*0x1ff3;_0x44d31a<this['sources']['length'];_0x44d31a++)this['sources'][_0x44d31a]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x41eec4={}){var _0x43408c,_0x5e827f;if(!this['_supported']){(_0x43408c=_0x41eec4['callback'])==null||_0x43408c['call'](_0x41eec4,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x5e827f=_0x41eec4['callback'])==null||_0x5e827f['call'](_0x41eec4,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x41eec4['profile']&&!_0x41eec4['spaceType']&&(_0x41eec4['spaceType']=qg);let _0xd6855b;const _0xadbc8=_0x41eec4['offsetRay'];if(_0xadbc8){const _0x4dbd1d=new DOMPoint(_0xadbc8['origin']['x'],_0xadbc8['origin']['y'],_0xadbc8['origin']['z'],0x1*-0x2045+-0x1f15+-0x31*-0x14b),_0x57cef7=new DOMPoint(_0xadbc8['direction']['x'],_0xadbc8['direction']['y'],_0xadbc8['direction']['z'],0x7*-0x139+-0x6*0x4ef+-0x1*-0x2629);_0xd6855b=new XRRay(_0x4dbd1d,_0x57cef7);}const _0x5a724b=_0x41eec4['callback'];_0x41eec4['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x41eec4['spaceType'])['then'](_0x4dfaa9=>{if(!this['manager']['session']){const _0x5f2da8=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x5a724b&&_0x5a724b(_0x5f2da8),this['fire']('error',_0x5f2da8);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x4dfaa9,'entityTypes':_0x41eec4['entityType'+'s']||void(-0xf0b*0x2+-0x17a6+-0x2d4*-0x13),'offsetRay':_0xd6855b})['then'](_0x3e1cf3=>{this['_onHitTest'+'Source'](_0x3e1cf3,!(0x7*-0x7b+0x1*-0x200f+0x236d),_0x41eec4['inputSourc'+'e'],_0x5a724b);})['catch'](_0x1b822a=>{_0x5a724b&&_0x5a724b(_0x1b822a),this['fire']('error',_0x1b822a);});})['catch'](_0x15a187=>{_0x5a724b&&_0x5a724b(_0x15a187),this['fire']('error',_0x15a187);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x41eec4['profile'],'entityTypes':_0x41eec4['entityType'+'s']||void(-0x72a*0x1+-0x10a*0x9+-0x4*-0x421),'offsetRay':_0xd6855b})['then'](_0x3cb336=>{this['_onHitTest'+'Source'](_0x3cb336,!(-0x1*0x1017+-0x39c+-0x3*-0x691),_0x41eec4['inputSourc'+'e'],_0x5a724b);})['catch'](_0x610a2f=>{_0x5a724b&&_0x5a724b(_0x610a2f),this['fire']('error',_0x610a2f);});}['_onHitTest'+'Source'](_0x4585c6,_0xa9235f,_0x54a80c,_0x4d2088){if(!this['manager']['session']){_0x4585c6['cancel']();const _0x29c77a=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x4d2088&&_0x4d2088(_0x29c77a),this['fire']('error',_0x29c77a);return;}const _0x5ccc8f=new Ef(this['manager'],_0x4585c6,_0xa9235f,_0x54a80c??null);this['sources']['push'](_0x5ccc8f),_0x4d2088&&_0x4d2088(null,_0x5ccc8f),this['fire']('add',_0x5ccc8f);}['update'](_0x1510b4){if(this['_available']){for(let _0xa0f5c0=0x7*-0x4e5+-0xb*0x83+-0x3*-0xd4c;_0xa0f5c0<this['sources']['length'];_0xa0f5c0++)this['sources'][_0xa0f5c0]['update'](_0x1510b4);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}c(kr,'EVENT_AVAI'+'LABLE','available'),c(kr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(kr,'EVENT_ADD','add'),c(kr,'EVENT_REMO'+'VE','remove'),c(kr,'EVENT_RESU'+'LT','result'),c(kr,'EVENT_ERRO'+'R','error');class Cf extends ce{constructor(_0xf3f56a,_0x2b684e){super(),c(this,'_image'),c(this,'_width'),c(this,'_bitmap',null),c(this,'_measuredW'+'idth',0x2e2*0xc+-0xb*0x1d3+-0xe87*0x1),c(this,'_trackable',!(-0x848+-0x985*-0x2+-0xac1*0x1)),c(this,'_tracking',!(0x1719+-0x20e7+0x9cf)),c(this,'_emulated',!(0x1*-0x1df+0x1965+-0x1785)),c(this,'_pose',null),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_image']=_0xf3f56a,this['_width']=_0x2b684e);}get['image'](){return this['_image'];}set['width'](_0x24d18f){this['_width']=_0x24d18f;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x46cf78=>(this['_bitmap']=_0x46cf78,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}c(Cf,'EVENT_TRAC'+'KED','tracked'),c(Cf,'EVENT_UNTR'+'ACKED','untracked');class Vx extends ce{constructor(_0x50b482){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),c(this,'_available',!(0x2098+-0x13*0x1d+-0x1e70)),c(this,'_images',[]),(this['_manager']=_0x50b482,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x413c05,_0x24a4a1){if(!this['_supported']||this['_manager']['active'])return null;const _0x932031=new Cf(_0x413c05,_0x24a4a1);return this['_images']['push'](_0x932031),_0x932031;}['remove'](_0x3a3bbe){if(this['_manager']['active'])return;const _0x4d1a94=this['_images']['indexOf'](_0x3a3bbe);_0x4d1a94!==-(-0x3*0xc77+-0x1322+0x3888)&&(_0x3a3bbe['destroy'](),this['_images']['splice'](_0x4d1a94,0x2280+-0x327+-0x1f58));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x15e50f=>{this['_available']=!(0xae0+-0x7a2+-0x33e);for(let _0x48935b=0x21f8+-0x4*-0xf6+-0x25d0;_0x48935b<_0x15e50f['length'];_0x48935b++)this['_images'][_0x48935b]['_trackable']=_0x15e50f[_0x48935b]==='trackable';})['catch'](_0x2280f0=>{this['_available']=!(0x1ea0+-0x1*-0x1e2f+0x1*-0x3cce),this['fire']('error',_0x2280f0);});}['_onSession'+'End'](){this['_available']=!(-0x32a+0x1764+-0x1*0x1439);for(let _0x44af79=-0x22d*-0x7+-0x1388+0x1*0x44d;_0x44af79<this['_images']['length'];_0x44af79++){const _0x4df406=this['_images'][_0x44af79];_0x4df406['_pose']=null,_0x4df406['_measuredW'+'idth']=0x13c7*-0x1+0x3c*0xf+-0x1043*-0x1,_0x4df406['_tracking']&&(_0x4df406['_tracking']=!(0x22ee+0x1ee3+-0x41d0),_0x4df406['fire']('untracked'));}}['prepareIma'+'ges'](_0x22b4cd){this['_images']['length']?Promise['all'](this['_images']['map'](_0x15c91a=>_0x15c91a['prepare']()))['then'](_0x96fbcd=>{_0x22b4cd(null,_0x96fbcd);})['catch'](_0x53991e=>{_0x22b4cd(_0x53991e,null);}):_0x22b4cd(null,null);}['update'](_0x36f38d){if(!this['_available'])return;const _0x14f7d4=_0x36f38d['getImageTr'+'ackingResu'+'lts'](),_0x17b079={};for(let _0x31c574=-0x21ed+0xd*-0xc2+0x7*0x641;_0x31c574<_0x14f7d4['length'];_0x31c574++){_0x17b079[_0x14f7d4[_0x31c574]['index']]=_0x14f7d4[_0x31c574];const _0x4883ad=this['_images'][_0x14f7d4[_0x31c574]['index']];_0x4883ad['_emulated']=_0x14f7d4[_0x31c574]['trackingSt'+'ate']==='emulated',_0x4883ad['_measuredW'+'idth']=_0x14f7d4[_0x31c574]['measuredWi'+'dthInMeter'+'s'],_0x4883ad['_pose']=_0x36f38d['getPose'](_0x14f7d4[_0x31c574]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x51d851=-0x6cf+-0x1d3e+0x240d;_0x51d851<this['_images']['length'];_0x51d851++)this['_images'][_0x51d851]['_tracking']&&!_0x17b079[_0x51d851]?(this['_images'][_0x51d851]['_tracking']=!(0x1e7*0xf+-0xed0+-0xdb8),this['_images'][_0x51d851]['fire']('untracked')):!this['_images'][_0x51d851]['_tracking']&&_0x17b079[_0x51d851]&&(this['_images'][_0x51d851]['_tracking']=!(-0x2611*0x1+-0x18f2+0x39*0x11b),this['_images'][_0x51d851]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}c(Vx,'EVENT_ERRO'+'R','error');class qL{constructor(_0x58031d,_0x50e39e){c(this,'_index'),c(this,'_hand'),c(this,'_joints',[]),c(this,'_tip',null),(this['_index']=_0x58031d,this['_hand']=_0x50e39e,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const jg=ye['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],Gx={};for(let l=-0x1bfb+0x1869+0x392;l<jg['length'];l++)Gx[jg[l]]=!(-0x4ce+0x999+-0x4cb);class Yg{constructor(_0x25ca8c,_0x48e4d6,_0x62820d,_0x4c4aeb=null){c(this,'_index'),c(this,'_id'),c(this,'_hand'),c(this,'_finger'),c(this,'_wrist'),c(this,'_tip'),c(this,'_radius',null),c(this,'_localTran'+'sform',new q()),c(this,'_worldTran'+'sform',new q()),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_dirtyLoca'+'l',!(0x7e7+-0x4b*0x67+-0x2*-0xb23)),(this['_index']=_0x25ca8c,this['_id']=_0x48e4d6,this['_hand']=_0x62820d,this['_finger']=_0x4c4aeb,this['_wrist']=_0x48e4d6==='wrist',this['_tip']=this['_finger']&&!!Gx[_0x48e4d6]);}['update'](_0x79e087){this['_dirtyLoca'+'l']=!(-0x1c5a+0xfe9+0xc71),this['_radius']=_0x79e087['radius'],this['_localPosi'+'tion']['copy'](_0x79e087['transform']['position']),this['_localRota'+'tion']['copy'](_0x79e087['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0xc9*0x7+0x12d*-0x2+0x7da),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x48b07b=this['_hand']['_manager']['camera']['parent'];_0x48b07b?this['_worldTran'+'sform']['mul2'](_0x48b07b['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||-0x117*0x2+0x5*0x6ad+0x1*-0x1f33+0.005;}}let Sh=[];const Ir=new T(),rh=new T(),Kg=new T();ye['browser']&&window['XRHand']&&(Sh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Mf extends ce{constructor(_0x3bbcaf){super(),c(this,'_manager'),c(this,'_inputSour'+'ce'),c(this,'_tracking',!(-0x1c0f+0x1370+-0x4*-0x228)),c(this,'_fingers',[]),c(this,'_joints',[]),c(this,'_jointsByI'+'d',{}),c(this,'_tips',[]),c(this,'_wrist',null);const _0x243683=_0x3bbcaf['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x3bbcaf['_manager'],this['_inputSour'+'ce']=_0x3bbcaf,_0x243683['get']('wrist')){const _0x2afffc=new Yg(0x966+0xc85+-0x15eb,'wrist',this,null);this['_wrist']=_0x2afffc,this['_joints']['push'](_0x2afffc),this['_jointsByI'+'d']['wrist']=_0x2afffc;}for(let _0x480c26=-0x1*0x1eb+0x1de8+0x1bfd*-0x1;_0x480c26<Sh['length'];_0x480c26++){const _0x339377=new qL(_0x480c26,this);for(let _0x3556f9=-0x1*-0xb23+-0x2*-0x95+0xc4d*-0x1;_0x3556f9<Sh[_0x480c26]['length'];_0x3556f9++){const _0x29d197=Sh[_0x480c26][_0x3556f9];if(!_0x243683['get'](_0x29d197))continue;const _0x385b4a=new Yg(_0x3556f9,_0x29d197,this,_0x339377);this['_joints']['push'](_0x385b4a),this['_jointsByI'+'d'][_0x29d197]=_0x385b4a,_0x385b4a['tip']&&(this['_tips']['push'](_0x385b4a),_0x339377['_tip']=_0x385b4a),_0x339377['_joints']['push'](_0x385b4a);}}}['update'](_0x182ca2){const _0xceea50=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x5b2738=0x5b8+0x11bd*0x2+-0x2932*0x1;_0x5b2738<this['_joints']['length'];_0x5b2738++){const _0x32d3f5=this['_joints'][_0x5b2738],_0x431479=_0xceea50['hand']['get'](_0x32d3f5['_id']);if(_0x431479){let _0x36c233;if(_0x182ca2['session']['visibility'+'State']!=='hidden'&&(_0x36c233=_0x182ca2['getJointPo'+'se'](_0x431479,this['_manager']['_reference'+'Space'])),_0x36c233)_0x32d3f5['update'](_0x36c233),_0x32d3f5['wrist']&&!this['_tracking']&&(this['_tracking']=!(0x511*-0x1+0x236b+-0xa1e*0x3),this['fire']('tracking'));else{if(_0x32d3f5['wrist']){this['_tracking']&&(this['_tracking']=!(-0x2*0xf31+-0x21ef*0x1+0x4052),this['fire']('trackinglo'+'st'));break;}}}}const _0x12bb50=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0xfaeaa4=this['_jointsByI'+'d']['thumb-tip'],_0x156036=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x3556e6=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x3ae27f=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x1845d7=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x12bb50&&_0xfaeaa4&&_0x156036&&_0x3556e6&&_0x3ae27f&&_0x1845d7){this['_inputSour'+'ce']['_dirtyRay']=!(0x1cbf+0x19fd+-0x36bc),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0xfaeaa4['_localPosi'+'tion'],_0x3556e6['_localPosi'+'tion'],0xed*0x1+0x1e77+-0x1c*0x11f+0.5);let _0x55350c=_0x12bb50,_0x5c9cc3=_0x1845d7;if(this['_inputSour'+'ce']['handedness']===HL){const _0x38f37e=_0x55350c;_0x55350c=_0x5c9cc3,_0x5c9cc3=_0x38f37e;}Ir['sub2'](_0x55350c['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),rh['sub2'](_0x5c9cc3['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Kg['cross'](Ir,rh)['normalize'](),Ir['lerp'](_0x156036['_localPosi'+'tion'],_0x3ae27f['_localPosi'+'tion'],-0x15e+0x2*-0xa68+0xa7*0x22+0.5),Ir['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](Kg,Ir,0x798+0x283*0x2+0x5*-0x286+0.5)['normalize']();}const _0x1066b8=this['_fingerIsC'+'losed'](-0x1549+-0x2041+0x358c)&&this['_fingerIsC'+'losed'](-0x18bf*0x1+-0x4e1*-0x3+-0x1*-0xa1f)&&this['_fingerIsC'+'losed'](0x14*0x1f3+0x1*-0x26c2+0x36*-0x1);this['_fingersTi'+'pDistance'](0x45e+-0x1b21+0x16c3,-0x3c+-0x1f7c+0x1fb9)?this['_inputSour'+'ce']['_pinching']?(this['_inputSour'+'ce']['fire']('pinching'),this['_manager']['input']['fire']('pinching',this['_inputSour'+'ce'])):(this['_inputSour'+'ce']['fire']('pinchstart'),this['_manager']['input']['fire']('pinchstart',this['_inputSour'+'ce']),this['_inputSour'+'ce']['_pinching']=!(-0x2d6*-0x8+0x26*0x2f+0x1daa*-0x1),console['log']('===>>>xr\x20p'+'inch','pinchstart',new Date()['getTime']())):this['_inputSour'+'ce']['_pinching']&&(this['_inputSour'+'ce']['fire']('pinchend'),this['_manager']['input']['fire']('pinchend',this['_inputSour'+'ce']),this['_inputSour'+'ce']['_pinching']=!(0x1*-0x15cf+0x83*0x40+-0xaf0),console['log']('===>>>xr\x20p'+'inch','pinchend',new Date()['getTime']())),_0x1066b8?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(0x1c21+0x1*0x1849+-0x2*0x1a35),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(0xb*-0x26b+-0x237d*-0x1+-0x8e3),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingersTi'+'pDistance'](_0x35206e,_0x226c90){const _0x3a4c41=this['_fingers'][_0x35206e],_0x562488=this['_fingers'][_0x226c90];return _0x3a4c41['tip']['_localPosi'+'tion']['distance'](_0x562488['tip']['_localPosi'+'tion'])<=0x47f*-0x7+0x166c+-0x90d*-0x1+0.01;}['_fingerIsC'+'losed'](_0x64e45e){const _0x100021=this['_fingers'][_0x64e45e];return Ir['sub2'](_0x100021['joints'][-0x1a27+-0x5*-0x5c9+-0x2c6]['_localPosi'+'tion'],_0x100021['joints'][-0x2125+0x1dd9+0x34d]['_localPosi'+'tion'])['normalize'](),rh['sub2'](_0x100021['joints'][-0xbf7*0x1+0x1e6c+0x1273*-0x1]['_localPosi'+'tion'],_0x100021['joints'][-0x797*0x1+0x1824+-0x3a*0x49]['_localPosi'+'tion'])['normalize'](),Ir['dot'](rh)<-(-0x3*-0x269+0x4c7*0x8+0x5*-0x917+0.8);}['getJointBy'+'Id'](_0x30b776){return this['_jointsByI'+'d'][_0x30b776]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}c(Mf,'EVENT_TRAC'+'KING','tracking'),c(Mf,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const Zg=new T(),Qg=new se();let XL=-0x1*-0x222f+0xf36+0x3165*-0x1;class xs extends ce{constructor(_0x32e2c6,_0x14c031){super(),c(this,'_id'),c(this,'_manager'),c(this,'_xrInputSo'+'urce'),c(this,'_ray',new uu()),c(this,'_rayLocal',new uu()),c(this,'_grip',!(-0x1066+0x1*0xa25+0x6*0x10b)),c(this,'_hand',null),c(this,'_velocitie'+'sAvailable',!(-0x2c2+0xd9*0x26+-0x1d73)),c(this,'_velocitie'+'sTimestamp',ne()),c(this,'_localTran'+'sform',null),c(this,'_worldTran'+'sform',null),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_localPosi'+'tion',null),c(this,'_localPosi'+'tionLast',null),c(this,'_localRota'+'tion',null),c(this,'_linearVel'+'ocity',null),c(this,'_dirtyLoca'+'l',!(0x5*-0x789+0x26f3+-0x146)),c(this,'_dirtyRay',!(0x1158+0x5*0x1c7+-0x1a3a)),c(this,'_selecting',!(0x1fc6+-0x3*0x1fa+-0x19d7)),c(this,'_squeezing',!(-0x2*-0x1385+0xa94+-0x3d1*0xd)),c(this,'_elementIn'+'put',!(-0xceb*0x1+-0xd21+0x1a0c)),c(this,'_elementEn'+'tity',null),c(this,'_hitTestSo'+'urces',[]),(this['_id']=++XL,this['_manager']=_0x32e2c6,this['_xrInputSo'+'urce']=_0x14c031,_0x14c031['hand']&&(this['_hand']=new Mf(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x466345){this['_elementIn'+'put']!==_0x466345&&(this['_elementIn'+'put']=_0x466345,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x199b36){if(this['_hand'])this['_hand']['update'](_0x199b36);else{const _0x5e7464=this['_xrInputSo'+'urce']['gripSpace'];if(_0x5e7464){const _0x50bc2e=_0x199b36['getPose'](_0x5e7464,this['_manager']['_reference'+'Space']);if(_0x50bc2e){this['_grip']||(this['_grip']=!(0x7b1+-0xc83*-0x3+-0x2d3a),this['_localTran'+'sform']=new q(),this['_worldTran'+'sform']=new q(),this['_localPosi'+'tionLast']=new T(),this['_localPosi'+'tion']=new T(),this['_localRota'+'tion']=new se(),this['_linearVel'+'ocity']=new T());const _0x3b6e64=ne(),_0x3f6f59=(_0x3b6e64-this['_velocitie'+'sTimestamp'])/(-0x1160+0x3e3*0x3+0x99f);this['_velocitie'+'sTimestamp']=_0x3b6e64,this['_dirtyLoca'+'l']=!(0x205c+-0x116*-0x4+-0x24b4),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x50bc2e['transform']['position']),this['_localRota'+'tion']['copy'](_0x50bc2e['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(-0x10df*0x2+-0x192*-0xf+-0xa3*-0x10),this['_manager']['input']['velocities'+'Supported']&&_0x50bc2e['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x50bc2e['linearVelo'+'city']):_0x3f6f59>-0x1*0x87d+-0x2*0x113f+0x2afb&&(Zg['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x3f6f59),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],Zg,0x1585+-0x2*-0x851+-0x1*0x2627+0.15));}else this['_velocitie'+'sAvailable']=!(0x2161+0x10f9*0x1+0x3259*-0x1);}const _0x497ff0=_0x199b36['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x497ff0&&(this['_dirtyRay']=!(-0x207d+-0x7*0x10d+-0x12c*-0x22),this['_rayLocal']['origin']['copy'](_0x497ff0['transform']['position']),this['_rayLocal']['direction']['set'](0x1*0xd5d+0xa5d+-0xbdd*0x2,0x1c44+0x1*-0x873+0x1*-0x13d1,-(0x192*-0x1+0x1*-0x45a+-0x5ed*-0x1)),Qg['copy'](_0x497ff0['transform']['orientatio'+'n']),Qg['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0x578+-0x34*0xa9+0x1cdd),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x15bf0a=this['_manager']['camera']['parent'];_0x15bf0a?this['_worldTran'+'sform']['mul2'](_0x15bf0a['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x12f979=this['_dirtyRay'];if(this['_dirtyRay']=!(-0x1c*0x56+0x1cda+-0x1371),this['_manager']['camera']['parent']){const _0x38f396=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x38f396['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x38f396),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x12f979&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x1f98a5={}){_0x1f98a5['inputSourc'+'e']=this,_0x1f98a5['profile']=this['_xrInputSo'+'urce']['profiles'][0x1*-0xcb3+-0x575*-0x7+-0x22*0xc0];const _0x1a5607=_0x1f98a5['callback'];_0x1f98a5['callback']=(_0x108a08,_0x41dac7)=>{_0x41dac7&&this['onHitTestS'+'ourceAdd'](_0x41dac7),_0x1a5607&&_0x1a5607(_0x108a08,_0x41dac7);},this['_manager']['hitTest']['start'](_0x1f98a5);}['onHitTestS'+'ourceAdd'](_0x3c14ae){this['_hitTestSo'+'urces']['push'](_0x3c14ae),this['fire']('hittest:ad'+'d',_0x3c14ae),_0x3c14ae['on']('result',(_0x114e28,_0x2f144b,_0x222ba7,_0x32387b)=>{_0x222ba7===this&&this['fire']('hittest:re'+'sult',_0x3c14ae,_0x114e28,_0x2f144b,_0x32387b);}),_0x3c14ae['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x3c14ae),this['fire']('hittest:re'+'move',_0x3c14ae);});}['onHitTestS'+'ourceRemov'+'e'](_0x208398){const _0x177044=this['_hitTestSo'+'urces']['indexOf'](_0x208398);_0x177044!==-(-0xc48+0x2263+-0x161a)&&this['_hitTestSo'+'urces']['splice'](_0x177044,-0x18b*0x3+-0x1302+0x17a4);}}c(xs,'EVENT_REMO'+'VE','remove'),c(xs,'EVENT_SELE'+'CT','select'),c(xs,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(xs,'EVENT_SELE'+'CTEND','selectend'),c(xs,'EVENT_SQUE'+'EZE','squeeze'),c(xs,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(xs,'EVENT_SQUE'+'EZEEND','squeezeend'),c(xs,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),c(xs,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),c(xs,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class ui extends ce{constructor(_0x92ce4e){var _0x4812b6,_0x2fccc8;super(),c(this,'manager'),c(this,'_inputSour'+'ces',[]),c(this,'_onInputSo'+'urcesChang'+'eEvt'),c(this,'velocities'+'Supported',!(0x2000+0x2*-0x7d0+-0x105f)),(this['manager']=_0x92ce4e,this['velocities'+'Supported']=!!(ye['browser']&&((_0x2fccc8=(_0x4812b6=window['XRPose'])==null?void(-0x1*-0x1433+0x1*-0x211e+0xceb):_0x4812b6['prototype'])!=null&&_0x2fccc8['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x5e99a4=>{this['_onInputSo'+'urcesChang'+'e'](_0x5e99a4);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x22ca95=this['manager']['session'];_0x22ca95['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x22ca95['addEventLi'+'stener']('select',_0xf50d0a=>{const _0x2e5336=this['_getByInpu'+'tSource'](_0xf50d0a['inputSourc'+'e']);_0x2e5336['update'](_0xf50d0a['frame']),_0x2e5336['fire']('select',_0xf50d0a),this['fire']('select',_0x2e5336,_0xf50d0a);}),_0x22ca95['addEventLi'+'stener']('selectstar'+'t',_0x86daab=>{const _0xd22f28=this['_getByInpu'+'tSource'](_0x86daab['inputSourc'+'e']);_0xd22f28['update'](_0x86daab['frame']),_0xd22f28['_selecting']=!(0xf4c*-0x1+-0xb*0x49+0x126f),_0xd22f28['fire']('selectstar'+'t',_0x86daab),this['fire']('selectstar'+'t',_0xd22f28,_0x86daab);}),_0x22ca95['addEventLi'+'stener']('selectend',_0x13f90a=>{const _0x1ba1bc=this['_getByInpu'+'tSource'](_0x13f90a['inputSourc'+'e']);_0x1ba1bc['update'](_0x13f90a['frame']),_0x1ba1bc['_selecting']=!(0x1bf+0x18ff+0x559*-0x5),_0x1ba1bc['fire']('selectend',_0x13f90a),this['fire']('selectend',_0x1ba1bc,_0x13f90a);}),_0x22ca95['addEventLi'+'stener']('squeeze',_0x409309=>{const _0x55e223=this['_getByInpu'+'tSource'](_0x409309['inputSourc'+'e']);_0x55e223['update'](_0x409309['frame']),_0x55e223['fire']('squeeze',_0x409309),this['fire']('squeeze',_0x55e223,_0x409309);}),_0x22ca95['addEventLi'+'stener']('squeezesta'+'rt',_0x4ab706=>{const _0x50cee5=this['_getByInpu'+'tSource'](_0x4ab706['inputSourc'+'e']);_0x50cee5['update'](_0x4ab706['frame']),_0x50cee5['_squeezing']=!(-0x11c0+0xb2*0x16+-0x274*-0x1),_0x50cee5['fire']('squeezesta'+'rt',_0x4ab706),this['fire']('squeezesta'+'rt',_0x50cee5,_0x4ab706);}),_0x22ca95['addEventLi'+'stener']('squeezeend',_0x4c673a=>{const _0x3515e5=this['_getByInpu'+'tSource'](_0x4c673a['inputSourc'+'e']);_0x3515e5['update'](_0x4c673a['frame']),_0x3515e5['_squeezing']=!(0x201*-0x7+-0xa95+0x189d),_0x3515e5['fire']('squeezeend',_0x4c673a),this['fire']('squeezeend',_0x3515e5,_0x4c673a);});const _0x354767=_0x22ca95['inputSourc'+'es'];for(let _0x24003d=-0x39*0xaf+-0x629+0x1*0x2d20;_0x24003d<_0x354767['length'];_0x24003d++)this['_addInputS'+'ource'](_0x354767[_0x24003d]);}['_onSession'+'End'](){let _0x4fcafe=this['_inputSour'+'ces']['length'];for(;_0x4fcafe--;){const _0x3de85d=this['_inputSour'+'ces'][_0x4fcafe];this['_inputSour'+'ces']['splice'](_0x4fcafe,0x8d8+-0x1*-0x653+0x50e*-0x3),_0x3de85d['fire']('remove'),this['fire']('remove',_0x3de85d);}this['fire']('destroy'),this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x1e4525){for(let _0x2906c6=0xea*-0xa+0x8b*0x3f+0x17*-0x117;_0x2906c6<_0x1e4525['removed']['length'];_0x2906c6++)this['_removeInp'+'utSource'](_0x1e4525['removed'][_0x2906c6]);for(let _0x5de89c=-0x1e37+0x2527+-0x6f0;_0x5de89c<_0x1e4525['added']['length'];_0x5de89c++)this['_addInputS'+'ource'](_0x1e4525['added'][_0x5de89c]);}['_getByInpu'+'tSource'](_0x3140bf){for(let _0x245781=-0x1dec+-0x1a3f+0x382b;_0x245781<this['_inputSour'+'ces']['length'];_0x245781++)if(this['_inputSour'+'ces'][_0x245781]['inputSourc'+'e']===_0x3140bf)return this['_inputSour'+'ces'][_0x245781];return null;}['_addInputS'+'ource'](_0x3976d6){if(this['_getByInpu'+'tSource'](_0x3976d6))return;const _0x290f54=new xs(this['manager'],_0x3976d6);this['_inputSour'+'ces']['push'](_0x290f54),this['fire']('add',_0x290f54);}['_removeInp'+'utSource'](_0x45e2e5){for(let _0xa6468=0xb01+-0x1dcd+0x12cc;_0xa6468<this['_inputSour'+'ces']['length'];_0xa6468++){if(this['_inputSour'+'ces'][_0xa6468]['inputSourc'+'e']!==_0x45e2e5)continue;const _0x57c80b=this['_inputSour'+'ces'][_0xa6468];this['_inputSour'+'ces']['splice'](_0xa6468,-0x1*-0xb2a+0x810*-0x3+0xd07);let _0xb39fb8=_0x57c80b['hitTestSou'+'rces']['length'];for(;_0xb39fb8--;)_0x57c80b['hitTestSou'+'rces'][_0xb39fb8]['remove']();_0x57c80b['fire']('remove'),this['fire']('remove',_0x57c80b);return;}}['update'](_0x4f6d81){for(let _0x2a7fc7=-0xd4a+-0x25*0xa3+0x24d9;_0x2a7fc7<this['_inputSour'+'ces']['length'];_0x2a7fc7++)this['_inputSour'+'ces'][_0x2a7fc7]['update'](_0x4f6d81);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}c(ui,'EVENT_ADD','add'),c(ui,'EVENT_REMO'+'VE','remove'),c(ui,'EVENT_SELE'+'CT','select'),c(ui,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ui,'EVENT_SELE'+'CTEND','selectend'),c(ui,'EVENT_SQUE'+'EZE','squeeze'),c(ui,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(ui,'EVENT_SQUE'+'EZEEND','squeezeend');const Xn=new T(),Jg=new T(),ru=new q(),ey=new q();class Pf extends ce{constructor(_0x3365e5){super(),c(this,'_manager'),c(this,'_supported',!(-0x3*-0x1d0+0x3*-0x16f+-0x3a*0x5)),c(this,'_available',!(-0x3*0x7ef+0x22*0x14+0x1526)),c(this,'_lightProb'+'eRequested',!(-0xfe5+0x31*0x2d+0x749)),c(this,'_lightProb'+'e',null),c(this,'_intensity',-0x3*0x7b3+-0x1f26+0x363f),c(this,'_rotation',new se()),c(this,'_color',new Y()),c(this,'_spherical'+'Harmonics',new Float32Array(0x76*0x41+-0x1579+-0x862)),(this['_manager']=_0x3365e5,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(-0x9b9+0x35b*-0x2+-0x106f*-0x1));}['_onSession'+'End'](){this['_supported']=!(0x31*-0x18+-0x1fa*-0x6+0x1*-0x743),this['_available']=!(-0x2404+0x4*0x10b+-0x107*-0x1f),this['_lightProb'+'eRequested']=!(-0x2*-0x511+-0x5*-0x3da+-0x1d63),this['_lightProb'+'e']=null;}['start'](){let _0x5f6f65;if(this['_manager']['session']||(_0x5f6f65=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x5f6f65&&this['_manager']['type']!==Ao&&(_0x5f6f65=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x5f6f65&&!this['_supported']&&(_0x5f6f65=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x5f6f65&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x5f6f65=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x5f6f65){this['fire']('error',_0x5f6f65);return;}this['_lightProb'+'eRequested']=!(0xb*-0x379+0x3b*0x2e+0x933*0x3),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x48297c=>{const _0x15db27=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(-0x1c*-0x131+0xd5*-0x2b+-0xa*-0x3e),this['_manager']['active']?_0x15db27&&(this['_lightProb'+'e']=_0x48297c):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x48478f=>{this['_lightProb'+'eRequested']=!(0x26*0xc5+0x25db+0x13*-0x388),this['fire']('error',_0x48478f);});}['end'](){this['_lightProb'+'eRequested']=!(0x383+0x1*0x1069+0x13eb*-0x1),this['_lightProb'+'e']=null,this['_available']=!(0x2660+0x15*0x8d+-0x31f0);}['update'](_0x29c18e){if(!this['_lightProb'+'e'])return;const _0x321413=_0x29c18e['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x321413)return;this['_available']||(this['_available']=!(0x26bb+0x1*0x104b+-0x3706),this['fire']('available'));const _0x568f6f=_0x321413['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](-0x2171+-0x1a*0x167+0x45e8,Math['max'](_0x568f6f['x'],Math['max'](_0x568f6f['y'],_0x568f6f['z']))),Xn['copy'](_0x568f6f)['mulScalar']((0x5*-0x61d+0x14e3+0x25*0x43)/this['_intensity']),this['_color']['set'](Xn['x'],Xn['y'],Xn['z']),Xn['set'](-0xf*0x5a+0x15b*0xc+0x3aa*-0x3,0x85*-0x3c+-0x8c3+0x27ef,0x2*-0x8a5+-0x1e7*-0x1+-0xf63*-0x1),Jg['copy'](_0x321413['primaryLig'+'htDirectio'+'n']),ru['setLookAt'](Jg,Xn,T['UP']),ey['setFromAxi'+'sAngle'](T['RIGHT'],0x381*-0xb+0x1235*0x2+0x1*0x27b),ru['mul'](ey),this['_rotation']['setFromMat'+'4'](ru),this['_spherical'+'Harmonics']['set'](_0x321413['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}c(Pf,'EVENT_AVAI'+'LABLE','available'),c(Pf,'EVENT_ERRO'+'R','error');let jL=-0xf03+0x5a2*-0x4+0x258b;class Rf extends ce{constructor(_0x3f0925,_0x4c6f86){super(),c(this,'_id'),c(this,'_planeDete'+'ction'),c(this,'_xrPlane'),c(this,'_lastChang'+'edTime'),c(this,'_orientati'+'on'),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_id']=++jL,this['_planeDete'+'ction']=_0x3f0925,this['_xrPlane']=_0x4c6f86,this['_lastChang'+'edTime']=_0x4c6f86['lastChange'+'dTime'],this['_orientati'+'on']=_0x4c6f86['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x359fa6){const _0x54c32b=this['_planeDete'+'ction']['_manager'],_0x3ced97=_0x359fa6['getPose'](this['_xrPlane']['planeSpace'],_0x54c32b['_reference'+'Space']);_0x3ced97&&(this['_position']['copy'](_0x3ced97['transform']['position']),this['_rotation']['copy'](_0x3ced97['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}c(Rf,'EVENT_REMO'+'VE','remove'),c(Rf,'EVENT_CHAN'+'GE','change');class co extends ce{constructor(_0x7aa1f7){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRPlane']),c(this,'_available',!(0x67+0x3*0x9bf+-0x1da3)),c(this,'_planesInd'+'ex',new Map()),c(this,'_planes',[]),(this['_manager']=_0x7aa1f7,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(-0x1499*0x1+-0x5b1+0x1a4b)&&(this['_available']=!(0x356+-0x11*-0x1b1+-0x2017),this['fire']('available'));}['_onSession'+'End'](){for(let _0x5ce7ad=0x1046+-0x1af7+0x1*0xab1;_0x5ce7ad<this['_planes']['length'];_0x5ce7ad++)this['_planes'][_0x5ce7ad]['destroy'](),this['fire']('remove',this['_planes'][_0x5ce7ad]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=0x1*0x1f7b+0x1*-0xba+-0x1ec1,this['_available']&&(this['_available']=!(-0x1*-0x18cd+0x1bad+0x13*-0x2c3),this['fire']('unavailabl'+'e'));}['update'](_0x3ac997){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x3ac997['detectedPl'+'anes']['size'])this['_available']=!(-0x72c+0x1e*0x38+0x1*0x9c),this['fire']('available');else return;}const _0x35f6b0=_0x3ac997['detectedPl'+'anes'];for(const [_0x47489b,_0x70ffbb]of this['_planesInd'+'ex'])_0x35f6b0['has'](_0x47489b)||(this['_planesInd'+'ex']['delete'](_0x47489b),this['_planes']['splice'](this['_planes']['indexOf'](_0x70ffbb),-0x1*-0x1926+0x1506+-0x2e2b*0x1),_0x70ffbb['destroy'](),this['fire']('remove',_0x70ffbb));for(const _0x1975c1 of _0x35f6b0){let _0x519eb7=this['_planesInd'+'ex']['get'](_0x1975c1);_0x519eb7?_0x519eb7['update'](_0x3ac997):(_0x519eb7=new Rf(this,_0x1975c1),this['_planesInd'+'ex']['set'](_0x1975c1,_0x519eb7),this['_planes']['push'](_0x519eb7),_0x519eb7['update'](_0x3ac997),this['fire']('add',_0x519eb7));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}c(co,'EVENT_AVAI'+'LABLE','available'),c(co,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(co,'EVENT_ADD','add'),c(co,'EVENT_REMO'+'VE','remove');class uo extends ce{constructor(_0x253dbb,_0x4edede,_0x10248d=null){super(),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_uuid',null),c(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x253dbb,this['_xrAnchor']=_0x4edede,this['_uuid']=_0x10248d);}['destroy'](){if(!this['_xrAnchor'])return;const _0x26accb=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x26accb,this);}['update'](_0x3421d4){if(!this['_xrAnchor'])return;const _0x69f44d=_0x3421d4['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x69f44d){if(this['_position']['equals'](_0x69f44d['transform']['position'])&&this['_rotation']['equals'](_0x69f44d['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x69f44d['transform']['position']),this['_rotation']['copy'](_0x69f44d['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x5bdf16){if(!this['_anchors']['persistenc'+'e']){_0x5bdf16==null||_0x5bdf16(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x5bdf16==null||_0x5bdf16(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x5bdf16&&this['_uuidReque'+'sts']['push'](_0x5bdf16);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x39d36d=>{this['_uuid']=_0x39d36d,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x5bdf16==null||_0x5bdf16(null,_0x39d36d);for(const _0x74090b of this['_uuidReque'+'sts'])_0x74090b(null,_0x39d36d);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x39d36d);})['catch'](_0x413c1c=>{_0x5bdf16==null||_0x5bdf16(_0x413c1c,null);for(const _0x1dafa8 of this['_uuidReque'+'sts'])_0x1dafa8(_0x413c1c,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x1922f9){if(!this['_uuid']){_0x1922f9==null||_0x1922f9(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x115e0e=>{this['_uuid']=null,_0x1922f9==null||_0x1922f9(_0x115e0e),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}c(uo,'EVENT_DEST'+'ROY','destroy'),c(uo,'EVENT_CHAN'+'GE','change'),c(uo,'EVENT_PERS'+'IST','persist'),c(uo,'EVENT_FORG'+'ET','forget');var ty;class Zn extends ce{constructor(_0x3b587b){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!window['XRAnchor']),c(this,'_available',!(0x10de+0x3*-0x412+0x4a7*-0x1)),c(this,'_checkingA'+'vailabilit'+'y',!(0x129e+-0x1e2b+-0x6*-0x1ed)),c(this,'_persisten'+'ce',ye['browser']&&!!((ty=window==null?void(-0x36*-0x5c+-0xa0c+0x4*-0x257):window['XRSession'])!=null&&ty['prototype']['restorePer'+'sistentAnc'+'hor'])),c(this,'_creationQ'+'ueue',[]),c(this,'_index',new Map()),c(this,'_indexByUu'+'id',new Map()),c(this,'_list',[]),c(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x3b587b,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){const _0xf1fb2b=this['manager']['session']['enabledFea'+'tures']['indexOf']('anchors')!==-(0x1e31*0x1+-0x1f1f+0xef);_0xf1fb2b&&(this['_available']=_0xf1fb2b,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(-0x25b3+0x1667*0x1+-0xf4d*-0x1);for(let _0x41c3a9=0xe35*-0x2+0x29*0xbb+-0x189;_0x41c3a9<this['_creationQ'+'ueue']['length'];_0x41c3a9++)this['_creationQ'+'ueue'][_0x41c3a9]['callback']&&this['_creationQ'+'ueue'][_0x41c3a9]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=-0x1436+-0x25f1+-0x3a27*-0x1,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x15b1f4=this['_list']['length'];for(;_0x15b1f4--;)this['_list'][_0x15b1f4]['destroy']();this['_list']['length']=-0xd69*0x2+0x67*-0x14+-0x1*-0x22de,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x5eef88,_0x5191b7=null){const _0x221201=new uo(this,_0x5eef88,_0x5191b7);return this['_index']['set'](_0x5eef88,_0x221201),_0x5191b7&&this['_indexByUu'+'id']['set'](_0x5191b7,_0x221201),this['_list']['push'](_0x221201),_0x221201['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x221201;}['_onAnchorD'+'estroy'](_0x5b6d37,_0x501d1f){this['_index']['delete'](_0x5b6d37),_0x501d1f['uuid']&&this['_indexByUu'+'id']['delete'](_0x501d1f['uuid']);const _0x58c072=this['_list']['indexOf'](_0x501d1f);_0x58c072!==-(-0x22a3+0x2201+0xa3*0x1)&&this['_list']['splice'](_0x58c072,0xc83*0x3+0x71b*0x4+-0x1c*0x25b),this['fire']('destroy',_0x501d1f);}['create'](_0x5b70a0,_0x1a0e8b,_0x5f51af){if(!this['_available']){_0x5f51af==null||_0x5f51af(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x5b70a0 instanceof XRHitTestResult){const _0x237fd2=_0x5b70a0;if(_0x5f51af=_0x1a0e8b,!this['_supported']){_0x5f51af==null||_0x5f51af(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x237fd2['createAnch'+'or']){_0x5f51af==null||_0x5f51af(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x237fd2['createAnch'+'or']()['then'](_0x51d128=>{const _0x179475=this['_createAnc'+'hor'](_0x51d128);_0x5f51af==null||_0x5f51af(null,_0x179475),this['fire']('add',_0x179475);})['catch'](_0x1bffab=>{_0x5f51af==null||_0x5f51af(_0x1bffab,null),this['fire']('error',_0x1bffab);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x5b70a0,_0x1a0e8b),'callback':_0x5f51af});}['restore'](_0x5c89b6,_0x16f54e){if(!this['_available']){_0x16f54e==null||_0x16f54e(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x16f54e==null||_0x16f54e(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x16f54e==null||_0x16f54e(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x5c89b6)['then'](_0x81c0c4=>{const _0x35039f=this['_createAnc'+'hor'](_0x81c0c4,_0x5c89b6);_0x16f54e==null||_0x16f54e(null,_0x35039f),this['fire']('add',_0x35039f);})['catch'](_0x372d80=>{_0x16f54e==null||_0x16f54e(_0x372d80,null),this['fire']('error',_0x372d80);});}['forget'](_0x2e7914,_0x581c96){if(!this['_available']){_0x581c96==null||_0x581c96(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x581c96==null||_0x581c96(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x581c96==null||_0x581c96(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x2e7914)['then'](()=>{_0x581c96==null||_0x581c96(null);})['catch'](_0x2a8350=>{_0x581c96==null||_0x581c96(_0x2a8350),this['fire']('error',_0x2a8350);});}['update'](_0x25f755){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(-0x9d*0x3d+0x3cb+0x219e),_0x25f755['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x32f800=>{_0x32f800['delete'](),this['manager']['active']&&(this['_available']=!(0x65*-0x1a+0x24e+0x7f4),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x4341e9=-0xdd*-0x19+0x15ba+-0x2b4f;_0x4341e9<this['_creationQ'+'ueue']['length'];_0x4341e9++){const _0x58c913=this['_creationQ'+'ueue'][_0x4341e9];_0x25f755['createAnch'+'or'](_0x58c913['transform'],this['manager']['_reference'+'Space'])['then'](_0x4ee225=>{_0x58c913['callback']&&this['_callbacks'+'Anchors']['set'](_0x4ee225,_0x58c913['callback']);})['catch'](_0x1556cb=>{_0x58c913['callback']&&_0x58c913['callback'](_0x1556cb,null),this['fire']('error',_0x1556cb);});}this['_creationQ'+'ueue']['length']=0xf*0x135+-0xe2c*0x1+0x1*-0x3ef;}for(const [_0x12bc53,_0x4fcb0b]of this['_index'])_0x25f755['trackedAnc'+'hors']['has'](_0x12bc53)||(this['_index']['delete'](_0x12bc53),_0x4fcb0b['destroy']());for(let _0x28db7f=-0x22fb+-0x1c24+0x3f1f;_0x28db7f<this['_list']['length'];_0x28db7f++)this['_list'][_0x28db7f]['update'](_0x25f755);for(const _0x468159 of _0x25f755['trackedAnc'+'hors']){if(this['_index']['has'](_0x468159))continue;try{const _0x109441=_0x468159['anchorSpac'+'e'];}catch{continue;}const _0x5b9337=this['_createAnc'+'hor'](_0x468159);_0x5b9337['update'](_0x25f755);const _0x5a37a1=this['_callbacks'+'Anchors']['get'](_0x468159);_0x5a37a1&&(this['_callbacks'+'Anchors']['delete'](_0x468159),_0x5a37a1(null,_0x5b9337)),this['fire']('add',_0x5b9337);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}c(Zn,'EVENT_AVAI'+'LABLE','available'),c(Zn,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(Zn,'EVENT_ERRO'+'R','error'),c(Zn,'EVENT_ADD','add'),c(Zn,'EVENT_DEST'+'ROY','destroy');class If extends ce{constructor(_0x1f0049,_0x1dcaa0){super(),c(this,'_meshDetec'+'tion'),c(this,'_xrMesh'),c(this,'_lastChang'+'ed',-0x165d*0x1+-0x2695+0x10d*0x3a),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_meshDetec'+'tion']=_0x1f0049,this['_xrMesh']=_0x1dcaa0,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x597117){const _0x2590f6=this['_meshDetec'+'tion']['_manager'],_0x137541=_0x597117['getPose'](this['_xrMesh']['meshSpace'],_0x2590f6['_reference'+'Space']);_0x137541&&(this['_position']['copy'](_0x137541['transform']['position']),this['_rotation']['copy'](_0x137541['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}c(If,'EVENT_REMO'+'VE','remove'),c(If,'EVENT_CHAN'+'GE','change');class fo extends ce{constructor(_0x5415a3){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRMesh']),c(this,'_available',!(-0x2044+0x2198+-0x153)),c(this,'_index',new Map()),c(this,'_list',[]),(this['_manager']=_0x5415a3,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x507369){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x507369['detectedMe'+'shes']['size'])this['_available']=!(0x1c*0x20+0xdae+-0x112e),this['fire']('available');else return;}for(const _0x2a4b60 of _0x507369['detectedMe'+'shes']){let _0x2e6a55=this['_index']['get'](_0x2a4b60);_0x2e6a55?_0x2e6a55['update'](_0x507369):(_0x2e6a55=new If(this,_0x2a4b60),this['_index']['set'](_0x2a4b60,_0x2e6a55),this['_list']['push'](_0x2e6a55),_0x2e6a55['update'](_0x507369),this['fire']('add',_0x2e6a55));}for(const _0x185eac of this['_index']['values']())_0x507369['detectedMe'+'shes']['has'](_0x185eac['xrMesh'])||this['_removeMes'+'h'](_0x185eac);}['_removeMes'+'h'](_0x153d5c){this['_index']['delete'](_0x153d5c['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x153d5c),-0x1d3+0xf5e+0x2*-0x6c5),_0x153d5c['destroy'](),this['fire']('remove',_0x153d5c);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x2ee29d=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(-0x68*-0x2+-0x1*0x1c19+0x3e6*0x7);if(!_0x2ee29d)return;this['_available']=_0x2ee29d,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x2563+-0x3*0x26b+-0x1e21);for(const _0x2c2583 of this['_index']['values']())this['_removeMes'+'h'](_0x2c2583);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}c(fo,'EVENT_AVAI'+'LABLE','available'),c(fo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(fo,'EVENT_ADD','add'),c(fo,'EVENT_REMO'+'VE','remove');class Hx extends ce{constructor(_0x552be0,_0x231d6,_0x49cb67){super(),c(this,'_manager'),c(this,'_xrView'),c(this,'_positionD'+'ata',new Float32Array(-0x1912*0x1+-0x245+0x1*0x1b5a)),c(this,'_viewport',new Q()),c(this,'_projMat',new q()),c(this,'_projViewO'+'ffMat',new q()),c(this,'_viewMat',new q()),c(this,'_viewOffMa'+'t',new q()),c(this,'_viewMat3',new js()),c(this,'_viewInvMa'+'t',new q()),c(this,'_viewInvOf'+'fMat',new q()),c(this,'_xrCamera',null),c(this,'_textureCo'+'lor',null),c(this,'_textureDe'+'pth',null),c(this,'_depthInfo',null),c(this,'_emptyDept'+'hBuffer',new Uint8Array(-0x23ce+0x76f*0x1+-0x1c7f*-0x1)),c(this,'_depthMatr'+'ix',new q()),(this['_manager']=_0x552be0,this['_xrView']=_0x231d6);const _0x34eed4=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new he(_0x34eed4,{'format':dr,'mipmaps':!(0x716*-0x2+-0xaa3+0x8*0x31a),'addressU':ae,'addressV':ae,'minFilter':st,'magFilter':st,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x13414e=this['_manager']['views']['depthGpuOp'+'timized']?de:st;this['_textureDe'+'pth']=new he(_0x34eed4,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x49cb67===-0x2*-0xecf+-0x55+-0x1d48?0x111d+0x40b*0x7+-0x2d6a:_0x49cb67,'mipmaps':!(-0x1990+0x757*-0x2+0x283f),'addressU':ae,'addressV':ae,'minFilter':_0x13414e,'magFilter':_0x13414e,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x2f0ced=0xf16+0xe9+-0x5*0x333;_0x2f0ced<this['_textureDe'+'pth']['_levels']['length'];_0x2f0ced++)this['_textureDe'+'pth']['_levels'][_0x2f0ced]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x34eed4['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x5913f0;return((_0x5913f0=this['_depthInfo'])==null?void(0x7*0x4fd+-0x962+-0x1989):_0x5913f0['rawValueTo'+'Meters'])||0x97b+0xa04+-0x137f;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0xfcca69,_0x216b15){this['_xrView']=_0x216b15,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x57fbaf=_0xfcca69['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x57fbaf['x'],this['_viewport']['y']=_0x57fbaf['y'],this['_viewport']['z']=_0x57fbaf['width'],this['_viewport']['w']=_0x57fbaf['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0xfcca69);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x2b0229=this['_manager']['webglBindi'+'ng'];if(!_0x2b0229)return;const _0x5d1980=_0x2b0229['getCameraI'+'mage'](this['_xrCamera']);if(!_0x5d1980)return;const _0x296397=this['_manager']['app']['graphicsDe'+'vice'],_0x467ad9=_0x296397['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x467ad9['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x467ad9['createFram'+'ebuffer']();else{const _0xbb35=_0x467ad9['COLOR_ATTA'+'CHMENT0'],_0x3b74bd=this['_xrCamera']['width'],_0xa5f2f7=this['_xrCamera']['height'];_0x296397['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x467ad9['framebuffe'+'rTexture2D'](_0x467ad9['FRAMEBUFFE'+'R'],_0xbb35,_0x467ad9['TEXTURE_2D'],_0x5d1980,-0x124a+0x13*0x1d2+-0x104c),_0x296397['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x467ad9['framebuffe'+'rTexture2D'](_0x467ad9['FRAMEBUFFE'+'R'],_0xbb35,_0x467ad9['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],0x1*-0x1ced+0x1b0e+0x1df),_0x467ad9['bindFrameb'+'uffer'](_0x467ad9['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x467ad9['bindFrameb'+'uffer'](_0x467ad9['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x467ad9['blitFrameb'+'uffer'](0x1af1+-0x39b*-0x4+-0x295d,_0xa5f2f7,_0x3b74bd,0x2b*0x5b+-0x27*0x75+0x28a,0xc09+-0xc62+0x59,0xc3d*-0x2+0x5d9+0x12a1,_0x3b74bd,_0xa5f2f7,_0x467ad9['COLOR_BUFF'+'ER_BIT'],_0x467ad9['NEAREST']);}}['_updateDep'+'th'](_0x385f96){var _0x297254,_0x23fab9;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x41142a=this['_manager']['views']['depthGpuOp'+'timized'],_0x327c6f=_0x41142a?this['_manager']['webglBindi'+'ng']:_0x385f96;if(!_0x327c6f){this['_depthInfo']=null;return;}const _0x380f60=_0x327c6f['getDepthIn'+'formation'](this['_xrView']);if(!_0x380f60){this['_depthInfo']=null;return;}let _0x3e9a0a=!this['_depthInfo']!=!_0x380f60;this['_depthInfo']=_0x380f60;const _0x1df027=((_0x297254=this['_depthInfo'])==null?void(-0x1203+0xf4*0x19+-0x5d1*0x1):_0x297254['width'])||-0xb07*-0x1+-0x134*-0x16+-0x5f*0x65,_0x238437=((_0x23fab9=this['_depthInfo'])==null?void(-0x71*0x31+0x17fe+0x79*-0x5):_0x23fab9['height'])||0x1d1+-0x1*0xa4e+0x881*0x1;let _0x3f994b=!(0x2ad*0x5+-0x77*0x49+0x115*0x13);if((this['_textureDe'+'pth']['width']!==_0x1df027||this['_textureDe'+'pth']['height']!==_0x238437)&&(this['_textureDe'+'pth']['_width']=_0x1df027,this['_textureDe'+'pth']['_height']=_0x238437,_0x3e9a0a=!(-0x207b+0x681+-0x15e*-0x13),_0x3f994b=!(-0x1a2+0xa90+-0x8ee)),_0x3e9a0a&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x41142a){if(this['_depthInfo']['texture']){const _0x130064=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x130064['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x130064['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ii:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x130064['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x130064['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x130064['RED'];break;case Ci:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x130064['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x130064['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x130064['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(0xdc8+0x1fee*-0x1+0x2*0x913);}}else this['_textureDe'+'pth']['_levels'][0x89e+-0x141f+0xb81]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][0x2*0x651+-0x1999*0x1+-0xcf7*-0x1]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x3f994b&&this['fire']('depth:resi'+'ze',_0x1df027,_0x238437);}['updateTran'+'sforms'](_0xbbad20){_0xbbad20?(this['_viewInvOf'+'fMat']['mul2'](_0xbbad20,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][-0x2567+0x1*0x17f5+0xd72]=this['_viewInvOf'+'fMat']['data'][-0x2*-0x74b+0x8*-0x146+-0x1*0x45a],this['_positionD'+'ata'][0x1721+-0x1c54+0x4*0x14d]=this['_viewInvOf'+'fMat']['data'][-0x4*0x75c+-0x10ce+0x2e4b],this['_positionD'+'ata'][-0x221b+0x26d5*-0x1+-0x1*-0x48f2]=this['_viewInvOf'+'fMat']['data'][0x1446*-0x1+0xa2d+0x71*0x17];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x305e79,_0x53d2d8){var _0x3027ee;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x3027ee=this['_depthInfo'])==null?void(-0x248b+0x2*0xa53+0xd*0x139):_0x3027ee['getDepthIn'+'Meters'](_0x305e79,_0x53d2d8))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x3060b0=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x3060b0['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x3060b0['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}c(Hx,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class ic extends ce{constructor(_0x559d01){super(),c(this,'_manager'),c(this,'_index',new Map()),c(this,'_indexTmp',new Map()),c(this,'_list',[]),c(this,'_supported'+'Color',ye['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),c(this,'_supported'+'Depth',ye['browser']&&!!window['XRDepthInf'+'ormation']),c(this,'_available'+'Color',!(-0xfe4+-0x17d5*0x1+0x27ba)),c(this,'_available'+'Depth',!(-0x2417*0x1+0x11a4+0x1274)),c(this,'_depthUsag'+'e',''),c(this,'_depthForm'+'at',''),c(this,'_depthForm'+'ats',{[Nx]:Bf,[zx]:Ci,[Ux]:Ii}),(this['_manager']=_0x559d01,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===Bx;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x4b413d,_0x85edbe){for(let _0x25c4c8=0x1431+-0x1e4b+0xa1a*0x1;_0x25c4c8<_0x85edbe['length'];_0x25c4c8++)this['_indexTmp']['set'](_0x85edbe[_0x25c4c8]['eye'],_0x85edbe[_0x25c4c8]);for(const [_0x487075,_0x37fa3a]of this['_indexTmp']){let _0x17a9c9=this['_index']['get'](_0x487075);_0x17a9c9?_0x17a9c9['update'](_0x4b413d,_0x37fa3a):(_0x17a9c9=new Hx(this['_manager'],_0x37fa3a,_0x85edbe['length']),this['_index']['set'](_0x487075,_0x17a9c9),this['_list']['push'](_0x17a9c9),_0x17a9c9['update'](_0x4b413d,_0x37fa3a),this['fire']('add',_0x17a9c9));}for(const [_0x516947,_0x1a12fd]of this['_index']){if(this['_indexTmp']['has'](_0x516947))continue;_0x1a12fd['destroy'](),this['_index']['delete'](_0x516947);const _0x3fa4a9=this['_list']['indexOf'](_0x1a12fd);_0x3fa4a9!==-(-0xfb*0x17+0x7a*-0x27+-0x4*-0xa49)&&this['_list']['splice'](_0x3fa4a9,-0x2622+0x1*-0xa6d+0x3090),this['fire']('remove',_0x1a12fd);}this['_indexTmp']['clear']();}['get'](_0x399c18){return this['_index']['get'](_0x399c18)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===Ao&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(-0x157e+0x1b81+0x602*-0x1),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(-0x5f*-0x2f+-0x809*-0x2+-0x2182),this['_available'+'Depth'])){const _0x424f2b=this['_manager']['session'];this['_depthUsag'+'e']=_0x424f2b['depthUsage'],this['_depthForm'+'at']=_0x424f2b['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x1919fe of this['_index']['values']())_0x1919fe['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(-0x1e6b*0x1+-0x15eb+0x3457*0x1),this['_available'+'Depth']=!(-0x103b+-0x17bf+0x1bd*0x17),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=0x28*-0xa4+-0x1*0x193+0x1b33;}}c(ic,'EVENT_ADD','add'),c(ic,'EVENT_REMO'+'VE','remove');class Qn extends ce{constructor(_0x5c9bd2){super(),c(this,'app'),c(this,'_supported',ye['browser']&&!!navigator['xr']),c(this,'_available',{}),c(this,'_type',null),c(this,'_spaceType',null),c(this,'_session',null),c(this,'_baseLayer',null),c(this,'webglBindi'+'ng',null),c(this,'_reference'+'Space',null),c(this,'domOverlay'),c(this,'hitTest'),c(this,'imageTrack'+'ing'),c(this,'planeDetec'+'tion'),c(this,'meshDetect'+'ion'),c(this,'input'),c(this,'lightEstim'+'ation'),c(this,'views'),c(this,'anchors'),c(this,'_camera',null),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_depthNear',0x1291+0xfd6+-0x2267+0.1),c(this,'_depthFar',-0xed*-0x16+0x3*0x50e+-0x8*0x3f4),c(this,'_supported'+'FrameRates',null),c(this,'_width',-0x1f*0x35+0x175e+-0x10f3),c(this,'_height',0x1f92*-0x1+-0x29d*-0xd+-0x267),c(this,'_framebuff'+'erScaleFac'+'tor',-0x1ef3+0xaae+0x1446),(this['app']=_0x5c9bd2,this['_available'][VL]=!(-0x1*0x178f+0x1851+0x1*-0xc1),this['_available'][GL]=!(-0x11*0x117+0xaaf+-0x1*-0x7d9),this['_available'][Ao]=!(0xc6b*0x1+-0x4ee*-0x1+-0x1158),this['views']=new ic(this),this['domOverlay']=new $L(this),this['hitTest']=new kr(this),this['imageTrack'+'ing']=new Vx(this),this['planeDetec'+'tion']=new co(this),this['meshDetect'+'ion']=new fo(this),this['input']=new ui(this),this['lightEstim'+'ation']=new Pf(this),this['anchors']=new Zn(this),this['views']=new ic(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)));}['destroy'](){}['start'](_0xbdb118,_0xf0c362,_0x4245fb,_0x135874){var _0x420a15;let _0x404b99=_0x135874;if(typeof _0x135874=='object'&&(_0x404b99=_0x135874['callback']),!this['_available'][_0xf0c362]){_0x404b99&&_0x404b99(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x404b99&&_0x404b99(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0xbdb118,this['_camera']['camera']['xr']=this,this['_type']=_0xf0c362,this['_spaceType']=_0x4245fb,this['_framebuff'+'erScaleFac'+'tor']=(_0x135874==null?void(0x133*-0x9+0x355*0x9+-0x12*0x111):_0x135874['framebuffe'+'rScaleFact'+'or'])??0x1f42*-0x1+-0xc74*0x3+-0x1*-0x449f,this['_setClipPl'+'anes'](_0xbdb118['nearClip'],_0xbdb118['farClip']);const _0x354a3a={'requiredFeatures':[_0x4245fb],'optionalFeatures':[]},_0xf1d1f9=(_0x420a15=this['app']['graphicsDe'+'vice'])==null?void(0x75a+-0xb*0x36e+-0x288*-0xc):_0x420a15['isWebGL2'];if(_0xf0c362===Ao){if(_0x354a3a['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x354a3a['optionalFe'+'atures']['push']('hit-test'),_0x135874&&(_0x135874['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x354a3a['optionalFe'+'atures']['push']('image-trac'+'king'),_0x135874['planeDetec'+'tion']&&_0x354a3a['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x135874['meshDetect'+'ion']&&_0x354a3a['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x354a3a['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x354a3a['domOverlay']={'root':this['domOverlay']['root']}),_0x135874&&_0x135874['anchors']&&this['anchors']['supported']&&_0x354a3a['optionalFe'+'atures']['push']('anchors'),_0x135874&&_0x135874['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x354a3a['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x36b40a=[],_0xdbff49=[];if(_0x36b40a['push'](Bx,WL),_0xdbff49['push'](Ux,Nx,zx),_0x135874['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x822803=_0x36b40a['indexOf'](_0x135874['depthSensi'+'ng']['usagePrefe'+'rence']);_0x822803!==-(0xfc0+-0xf1b+-0x52*0x2)&&_0x36b40a['splice'](_0x822803,0x1*-0x1cf3+0x235*-0xd+0x1*0x39a5),_0x36b40a['unshift'](_0x135874['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x135874['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x3e54e2=_0xdbff49['indexOf'](_0x135874['depthSensi'+'ng']['dataFormat'+'Preference']);_0x3e54e2!==-(0x73*0x18+0x1cee+-0x27b5)&&_0xdbff49['splice'](_0x3e54e2,-0x1a9a+-0x75*0x9+0x1eb8),_0xdbff49['unshift'](_0x135874['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x354a3a['depthSensi'+'ng']={'usagePreference':_0x36b40a,'dataFormatPreference':_0xdbff49};}_0xf1d1f9&&_0x135874&&_0x135874['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x354a3a['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x354a3a['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x135874&&_0x135874['optionalFe'+'atures']&&(_0x354a3a['optionalFe'+'atures']=_0x354a3a['optionalFe'+'atures']['concat'](_0x135874['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x5835bc,_0x19a2f2)=>{if(_0x5835bc){_0x404b99&&_0x404b99(_0x5835bc),this['fire']('error',_0x5835bc);return;}_0x19a2f2!==null&&(_0x354a3a['trackedIma'+'ges']=_0x19a2f2),this['_onStartOp'+'tionsReady'](_0xf0c362,_0x4245fb,_0x354a3a,_0x404b99);}):this['_onStartOp'+'tionsReady'](_0xf0c362,_0x4245fb,_0x354a3a,_0x404b99);}['_onStartOp'+'tionsReady'](_0x240876,_0x2254a0,_0x277053,_0x54185c){navigator['xr']['requestSes'+'sion'](_0x240876,_0x277053)['then'](_0x2f3033=>{this['_onSession'+'Start'](_0x2f3033,_0x2254a0,_0x54185c);})['catch'](_0x2f9437=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x54185c&&_0x54185c(_0x2f9437),this['fire']('error',_0x2f9437);});}['end'](_0x2b8613){if(!this['_session']){_0x2b8613&&_0x2b8613(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x2b8613&&this['once']('end',_0x2b8613),this['_session']['end']();}['isAvailabl'+'e'](_0x3cc5bf){return this['_available'][_0x3cc5bf];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x2a42c8 in this['_available'])this['_sessionSu'+'pportCheck'](_0x2a42c8);}['initiateRo'+'omCapture'](_0x454ad7){if(!this['_session']){_0x454ad7(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x454ad7(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x454ad7&&_0x454ad7(null);})['catch'](_0x40af72=>{_0x454ad7&&_0x454ad7(_0x40af72);});}['updateTarg'+'etFrameRat'+'e'](_0x481a1a,_0x47d7fa){var _0x4f882d;if(!((_0x4f882d=this['_session'])!=null&&_0x4f882d['updateTarg'+'etFrameRat'+'e'])){_0x47d7fa==null||_0x47d7fa(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x481a1a)['then'](()=>{_0x47d7fa==null||_0x47d7fa();})['catch'](_0x677327=>{_0x47d7fa==null||_0x47d7fa(_0x677327);});}['_sessionSu'+'pportCheck'](_0x543843){navigator['xr']['isSessionS'+'upported'](_0x543843)['then'](_0x3009eb=>{this['_available'][_0x543843]!==_0x3009eb&&(this['_available'][_0x543843]=_0x3009eb,this['fire']('available',_0x543843,_0x3009eb),this['fire']('available:'+_0x543843,_0x3009eb));})['catch'](_0x1a0beb=>{this['fire']('error',_0x1a0beb);});}['_onSession'+'Start'](_0x5d81da,_0x47ffb6,_0x432934){let _0x5ee676=!(-0x2*0xd81+0x25a*-0x8+0x2dd3);this['_session']=_0x5d81da;const _0x1295f4=()=>{this['fire']('visibility'+':change',_0x5d81da['visibility'+'State']);},_0x58ed30=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x2711cd=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x58ed30),this['_camera']['off']('set_farCli'+'p',_0x58ed30),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x5d81da['removeEven'+'tListener']('end',_0x2711cd),_0x5d81da['removeEven'+'tListener']('visibility'+'change',_0x1295f4),_0x5ee676||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=0x2134+0x1*0x105d+-0x3191*0x1,this['_height']=-0x2*0xf0f+-0xf1+0x1f0f,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x5d81da['addEventLi'+'stener']('end',_0x2711cd),_0x5d81da['addEventLi'+'stener']('visibility'+'change',_0x1295f4),this['_camera']['on']('set_nearCl'+'ip',_0x58ed30),this['_camera']['on']('set_farCli'+'p',_0x58ed30),v['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x259b9e;this['fire']('frameratec'+'hange',(_0x259b9e=this['_session'])==null?void(0xb7c+0x1391*0x1+-0x1*0x1f0d):_0x259b9e['frameRate']);}),_0x5d81da['requestRef'+'erenceSpac'+'e'](_0x47ffb6)['then'](_0x15441f=>{this['_reference'+'Space']=_0x15441f,this['app']['tick'](),_0x432934&&_0x432934(null),this['fire']('start');})['catch'](_0x14c77a=>{_0x5ee676=!(-0x2*0x9d+-0x9ef+0xb29),_0x5d81da['end'](),_0x432934&&_0x432934(_0x14c77a),this['fire']('error',_0x14c77a);});}['_setClipPl'+'anes'](_0x49ccff,_0x542b4c){this['_depthNear']===_0x49ccff&&this['_depthFar']===_0x542b4c||(this['_depthNear']=_0x49ccff,this['_depthFar']=_0x542b4c,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x4498e7=this['app']['graphicsDe'+'vice'],_0x152bf3=_0x4498e7['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x4498e7['gl'],{'alpha':!(0xdce+-0x1*-0xe95+-0x2b*0xa9),'depth':!(-0x5*0x450+0x157b+0x15),'stencil':!(-0x1e58+0x25d5+-0x77d),'framebufferScaleFactor':_0x152bf3,'antialias':!(-0x5c1+0x7a0+-0x1de)}),_0x4498e7!=null&&_0x4498e7['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x4498e7['gl']);}catch(_0x133b58){this['fire']('error',_0x133b58);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x383979=>{this['fire']('error',_0x383979);});},0x23*0x71+0x1*-0xb2d+-0x446);}['update'](_0x29b832){if(!this['_session'])return!(-0x3d3+0xc*-0x2d3+-0x11*-0x238);const _0x3814f4=_0x29b832['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x52209d=_0x29b832['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x3814f4||this['_height']!==_0x52209d)&&(this['_width']=_0x3814f4,this['_height']=_0x52209d,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x3814f4,_0x52209d));const _0x124e92=_0x29b832['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x124e92)return!(0x595*-0x3+0xf49+0x4b*0x5);const _0x5a70bc=this['views']['list']['length'];this['views']['update'](_0x29b832,_0x124e92['views']);const _0x4bce4c=_0x124e92['transform']['position'],_0x36b14f=_0x124e92['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x4bce4c['x'],_0x4bce4c['y'],_0x4bce4c['z']),this['_localRota'+'tion']['set'](_0x36b14f['x'],_0x36b14f['y'],_0x36b14f['z'],_0x36b14f['w']),_0x5a70bc===-0x20b7+-0x1bd8+-0x1*-0x3c8f&&this['views']['list']['length']>-0x185*0xd+-0x3dd+0x1*0x179e){const _0x6866ba=new q(),_0xb65741=this['views']['list'][-0x1*0x9ac+-0xb4a+0x14f6];_0x6866ba['copy'](_0xb65741['projMat']);const _0x2b73f4=_0x6866ba['data'],_0xa70e75=(0x24f4+-0x1ce4+-0x80e)*Math['atan']((0x1*0x2c2+-0x2411+-0x68*-0x52)/_0x2b73f4[0x15f7+0x5*0x15a+-0x16*0x14e])*(0x1bd4+-0x2136+0x26*0x29)/Math['PI'],_0x5a7ba7=_0x2b73f4[0x3*0x2ca+0x13b3+-0x1c0c]/_0x2b73f4[-0x2014+0x118e+0xb*0x152],_0x326666=_0x2b73f4[-0x15a8+-0xf00+-0x4a*-0x7f]/(_0x2b73f4[-0x7ff+-0x21e8+0x29f1]+(0x2612+-0x3a*0x29+-0x1cc7)),_0x2c7379=_0x2b73f4[0x23c8+-0xed3+-0x14e7]/(_0x2b73f4[-0x8f5+0x1bd2+-0x12d3]-(-0x265f+-0xc*-0x59+-0x2*-0x111a));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x5a7ba7,'farClip':_0x326666,'fov':_0xa70e75,'horizontalFov':!(0x10c6+-0x729+0xa*-0xf6),'nearClip':_0x2c7379});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x29b832),this['_type']===Ao&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x29b832),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x29b832),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x29b832),this['anchors']['supported']&&this['anchors']['update'](_0x29b832),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x29b832),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x29b832)),this['fire']('update',_0x29b832),!(0x1b7*0x6+-0x6*0x13a+-0x2*0x177);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x30b433;return((_0x30b433=this['_session'])==null?void(-0xfa3+0x1ad1+-0x6a*0x1b):_0x30b433['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x166812){var _0x1db1f2;(((_0x1db1f2=this['_baseLayer'])==null?void(-0x135a+-0xc24+0x1f7e):_0x1db1f2['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>-0x2bd+0x297*0x3+-0x507&&v['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x166812);}get['fixedFovea'+'tion'](){var _0x5c42ff;return((_0x5c42ff=this['_baseLayer'])==null?void(-0x7*0x33d+-0x17f3*0x1+-0x2e9e*-0x1):_0x5c42ff['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}c(Qn,'EVENT_AVAI'+'LABLE','available'),c(Qn,'EVENT_STAR'+'T','start'),c(Qn,'EVENT_END','end'),c(Qn,'EVENT_UPDA'+'TE','update'),c(Qn,'EVENT_ERRO'+'R','error');class dF extends qh{constructor(_0x146ff2,_0x3379eb={}){super(_0x146ff2);const _0x1d6ba6=new pP();_0x1d6ba6['graphicsDe'+'vice']=_0x3379eb['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x146ff2,_0x3379eb),this['addCompone'+'ntSystems'](_0x1d6ba6),this['addResourc'+'eHandles'](_0x1d6ba6),_0x1d6ba6['elementInp'+'ut']=_0x3379eb['elementInp'+'ut'],_0x1d6ba6['keyboard']=_0x3379eb['keyboard'],_0x1d6ba6['mouse']=_0x3379eb['mouse'],_0x1d6ba6['touch']=_0x3379eb['touch'],_0x1d6ba6['gamepads']=_0x3379eb['gamepads'],_0x1d6ba6['scriptPref'+'ix']=_0x3379eb['scriptPref'+'ix'],_0x1d6ba6['assetPrefi'+'x']=_0x3379eb['assetPrefi'+'x'],_0x1d6ba6['scriptsOrd'+'er']=_0x3379eb['scriptsOrd'+'er'],_0x1d6ba6['soundManag'+'er']=new kb(),_0x1d6ba6['lightmappe'+'r']=vP,_0x1d6ba6['batchManag'+'er']=dC,_0x1d6ba6['xr']=Qn,this['init'](_0x1d6ba6);}['createDevi'+'ce'](_0x36ffc1,_0x1a8f57){return _0x1a8f57['graphicsDe'+'viceOption'+'s']||(_0x1a8f57['graphicsDe'+'viceOption'+'s']={}),ye['browser']&&navigator['xr']&&(_0x1a8f57['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(0x1efa+-0xb*-0x109+-0x2a5d)),_0x1a8f57['graphicsDe'+'viceOption'+'s']['alpha']=_0x1a8f57['graphicsDe'+'viceOption'+'s']['alpha']||!(0x1*-0x902+-0x105c+0x1*0x195f),new pb(_0x36ffc1,_0x1a8f57['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x1e2670){_0x1e2670['componentS'+'ystems']=[mx,fR,HR,UP,qP,iI,fI,jI,KI,cD,BI,jP,cI,bI,zR,QP,DI,FI,GI,JR,$R,WI,uD];}['addResourc'+'eHandles'](_0x50415a){_0x50415a['resourceHa'+'ndlers']=[fD,_2,g2,y2,iL,Q2,UL,fL,j2,S2,hL,rL,A2,X2,T2,cL,q2,E2,C2,v2,mL,dL,uL,w2,$2];}}const nh=[],YL=[[],[],[]];class KL extends ds{constructor(_0x4949ff,_0xa29456){super(_0x4949ff),c(this,'viewBindGr'+'oups',[]),this['renderer']=_0xa29456;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x1ad11c=>{_0x1ad11c['defaultUni'+'formBuffer']['destroy'](),_0x1ad11c['destroy']();}),this['viewBindGr'+'oups']['length']=-0x1e2+-0x1*-0x76d+-0x58b;}['update'](_0x50138b,_0x34a1b8,_0x40b2e5,_0x3d93fb){this['camera']=_0x50138b,this['scene']=_0x34a1b8,this['layers']=_0x40b2e5,this['mapping']=_0x3d93fb;}['execute'](){const _0x3cde31=this['device'],{renderer:_0x18bc3f,camera:_0x80e610,scene:_0x1c1569,layers:_0x26b952,mapping:_0x52b0d6,renderTarget:_0x43f76d}=this,_0x34048e=_0x1c1569['layers']['layerList'],_0x3d6208=_0x1c1569['layers']['subLayerEn'+'abled'],_0x37e050=_0x1c1569['layers']['subLayerLi'+'st'];for(let _0x347318=-0x243f+0x1d1b+0x1c9*0x4;_0x347318<_0x34048e['length'];_0x347318++){const _0x3515ee=_0x34048e[_0x347318];if(!(_0x26b952&&_0x26b952['indexOf'](_0x3515ee)<-0x13e0+-0xa28+0x1e08)&&_0x3515ee['enabled']&&_0x3d6208[_0x347318]&&_0x3515ee['camerasSet']['has'](_0x80e610['camera'])){const _0x5aecd7=_0x37e050[_0x347318];G['pushGpuMar'+'ker'](_0x3cde31,_0x3515ee['name']+'('+(_0x5aecd7?'TRANSP':'OPAQUE')+')'),_0x3515ee['_clearDept'+'hBuffer']&&_0x18bc3f['clear'](_0x80e610['camera'],!(-0x2f*-0xbf+0x1c9d*0x1+-0x3fad),!(-0xec4+-0x1f3f+0x2e03),!(-0x1*0x13bf+-0x598+0x1958));const _0x2ffc5d=_0x3515ee['meshInstan'+'ces'];for(let _0x548161=-0x1c16+-0x8f*-0x19+0xe1f;_0x548161<_0x2ffc5d['length'];_0x548161++){const _0x28408b=_0x2ffc5d[_0x548161];_0x28408b['pick']&&_0x28408b['transparen'+'t']===_0x5aecd7&&(nh['push'](_0x28408b),_0x52b0d6['set'](_0x28408b['id'],_0x28408b));}nh['length']>0x1dbb*-0x1+0xc52+0x1169*0x1&&(_0x1c1569['clusteredL'+'ightingEna'+'bled']&&_0x18bc3f['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x18bc3f['setCameraU'+'niforms'](_0x80e610['camera'],_0x43f76d),_0x3cde31['supportsUn'+'iformBuffe'+'rs']&&_0x18bc3f['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x18bc3f['viewUnifor'+'mFormat'],_0x18bc3f['viewBindGr'+'oupFormat'],-0x29*0x7a+0x1*-0x2203+-0xab6*-0x5),_0x18bc3f['renderForw'+'ard'](_0x80e610['camera'],_0x43f76d,nh,YL,Oa,_0x2e19e3=>{_0x3cde31['setBlendSt'+'ate'](_t['NOBLEND']);}),nh['length']=-0x2202+-0x620+0x2822),G['popGpuMark'+'er'](_0x3cde31);}}}}const nu=new Set(),ZL=new Q();let uF=class{constructor(_0x3996a2,_0x394149,_0x1ae6f7){c(this,'renderTarg'+'et',null),c(this,'mapping',new Map()),c(this,'deviceVali'+'d',!(-0x5*0x24d+0x16*0xb+0x3*0x385)),(v['assert'](_0x3996a2),this['renderer']=_0x3996a2['renderer'],this['device']=_0x3996a2['graphicsDe'+'vice'],this['renderPass']=new KL(this['device'],_0x3996a2['renderer']),this['width']=-0x2282*0x1+0x19fa+0x18*0x5b,this['height']=0x106f+0x23e4+-0x3453,this['resize'](_0x394149,_0x1ae6f7),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(0x456+-0x1f3e+0x1ae9);}));}['getSelecti'+'on'](_0x5996f6,_0x34fc78,_0x3cab1b=-0x1bca+-0xade*0x1+0x26a9,_0x245424=0xb6f+0x2105*0x1+0x1*-0x2c73){const _0x33fa06=this['device'];if(_0x33fa06['isWebGPU'])return v['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];v['assert'](typeof _0x5996f6!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x34fc78=this['renderTarg'+'et']['height']-(_0x34fc78+_0x245424);const _0x22b597=this['sanitizeRe'+'ct'](_0x5996f6,_0x34fc78,_0x3cab1b,_0x245424);_0x33fa06['setRenderT'+'arget'](this['renderTarg'+'et']),_0x33fa06['updateBegi'+'n']();const _0x3a8295=new Uint8Array((-0x8*-0x449+0x1a22+-0x3c66)*_0x22b597['z']*_0x22b597['w']);return _0x33fa06['readPixels'](_0x22b597['x'],_0x22b597['y'],_0x22b597['z'],_0x22b597['w'],_0x3a8295),_0x33fa06['updateEnd'](),this['decodePixe'+'ls'](_0x3a8295,this['mapping']);}['getSelecti'+'onAsync'](_0xf440e3,_0xe31c24,_0x492c73=-0x42b+0x1697*-0x1+0x1ac3,_0xae0eb9=-0x223*0x3+0x7*0x201+0x79d*-0x1){var _0x510cac;(_0x510cac=this['device'])!=null&&_0x510cac['isWebGL2']&&(_0xe31c24=this['renderTarg'+'et']['height']-(_0xe31c24+_0xae0eb9));const _0x5d305f=this['sanitizeRe'+'ct'](_0xf440e3,_0xe31c24,_0x492c73,_0xae0eb9);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x5d305f['x'],_0x5d305f['y'],_0x5d305f['z'],_0x5d305f['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(-0x1e3+-0x20b*0x12+-0xce3*-0x3)})['then'](_0x1b0154=>this['decodePixe'+'ls'](_0x1b0154,this['mapping']));}['sanitizeRe'+'ct'](_0x3ede38,_0x66e650,_0x21928d,_0x50093d){const _0x403c47=this['renderTarg'+'et']['width'],_0x168ab2=this['renderTarg'+'et']['height'];return _0x3ede38=N['clamp'](Math['floor'](_0x3ede38),0x1527+0x19cd+-0x2ef4,_0x403c47-(-0x211*0x1+-0x97*-0x7+-0x20f)),_0x66e650=N['clamp'](Math['floor'](_0x66e650),-0x1*-0x92+0x102b*0x2+-0x20e8,_0x168ab2-(-0x1442+0x1ee1+-0xa9e)),_0x21928d=Math['floor'](Math['max'](_0x21928d,-0x1*0xfc5+-0x30*-0x6a+0x15*-0x32)),_0x21928d=Math['min'](_0x21928d,_0x403c47-_0x3ede38),_0x50093d=Math['floor'](Math['max'](_0x50093d,0xd0*0x15+0x1*0xd3+-0x11e2)),_0x50093d=Math['min'](_0x50093d,_0x168ab2-_0x66e650),ZL['set'](_0x3ede38,_0x66e650,_0x21928d,_0x50093d);}['decodePixe'+'ls'](_0x583d1e,_0x390583){const _0x2bc2e3=[];if(this['deviceVali'+'d']){const _0x37fb55=_0x583d1e['length'];for(let _0xdb900=0x2214+0x4*-0x4ca+-0xeec;_0xdb900<_0x37fb55;_0xdb900+=0x2529+0xa1*0x33+-0x4538){const _0x4f6032=_0x583d1e[_0xdb900+(0x19a0+-0xeb4+-0x1*0xaec)],_0x5aad50=_0x583d1e[_0xdb900+(-0x1276+-0xf1b+0x2*0x10c9)],_0x40ca73=_0x583d1e[_0xdb900+(-0x4dd+0x1f85+0x1*-0x1aa6)],_0x3f0393=_0x583d1e[_0xdb900+(-0x19b3*0x1+-0x16e9+0x309f)]<<0x41a*-0x6+0x1ff2+-0x6*0x135|_0x4f6032<<0x72a*0x1+0x2600+0x2*-0x168d|_0x5aad50<<-0x91*-0x3a+-0x9b8+-0x2*0xb8d|_0x40ca73;_0x3f0393!==-(-0x6b*0x17+0x3a*-0xaa+0x3022)&&nu['add'](_0x390583['get'](_0x3f0393));}nu['forEach'](_0x5efb7f=>{_0x5efb7f&&_0x2bc2e3['push'](_0x5efb7f);}),nu['clear']();}return _0x2bc2e3;}['allocateRe'+'nderTarget'](){const _0x180c83=new he(this['device'],{'format':Se,'width':this['width'],'height':this['height'],'mipmaps':!(-0x35b*0x1+-0x2373+-0x26cf*-0x1),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':'pick'});this['renderTarg'+'et']=new pt({'colorBuffer':_0x180c83,'depth':!(0x50*-0x32+-0x1581*-0x1+-0x2b*0x23)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x151b32,_0x2cbc88,_0x109a13){_0x109a13 instanceof Lr&&(_0x109a13=[_0x109a13]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x370531=this['renderPass'];_0x370531['init'](this['renderTarg'+'et']),_0x370531['colorOps']['clearValue']=Y['WHITE'],_0x370531['colorOps']['clear']=!(-0x212+-0x83*-0x49+-0xbc3*0x3),_0x370531['depthStenc'+'ilOps']['clearDepth']=!(-0x39b*-0x1+-0x175*-0x7+-0x3e*0x39),_0x370531['update'](_0x151b32,_0x2cbc88,_0x109a13,this['mapping']),_0x370531['render']();}['resize'](_0x4afe9b,_0x1e5ab4){this['width']=Math['floor'](_0x4afe9b),this['height']=Math['floor'](_0x1e5ab4);}};class QL{constructor(_0x46222c){this['_frameInde'+'x']=-0x68*-0x5c+0x12eb*-0x1+-0x1275,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=0x3*-0xb5+0x2*-0x1+-0x5b*-0x6,this['enabled']=!(-0xf42+-0x209d+0x11d*0x2b),_0x46222c['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x46222c['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x46222c['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x18eb1d){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x2ded9d=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x2ded9d,this['_frameInde'+'x']=-0x130f+0x26cb*0x1+-0x2*0x9de,this['mark'](_0x18eb1d);}['mark'](_0x496b18){if(!this['enabled'])return;const _0x3f9adc=ne();if(this['_frameInde'+'x']>0x1cc2+-0x1e9f+-0x3*-0x9f){const _0x20912a=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0x1*0x1fc9+-0x2551+-0xd*-0x6d)];_0x20912a[0x2046+0x2083+-0x40c8]=_0x3f9adc-_0x20912a[-0x1*-0x1f8c+0x2504+-0x448f*0x1];}else{if(this['_timings']['length']>0x26fd+-0x11d4+-0x1529){const _0x3fdb5f=this['_timings'][this['_timings']['length']-(-0x17*0xa9+0x1799+-0x869)];_0x3fdb5f[-0x1ad*-0xc+-0xcca*-0x1+-0x3*0xaf7]=_0x3f9adc-_0x3fdb5f[-0x2454*0x1+-0x1*0x11ff+-0x3d*-0xe4];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x496b18,_0x3f9adc]);else{const _0x33736b=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x33736b[-0x1*-0x9bf+0x956+-0x1*0x1315]=_0x496b18,_0x33736b[0x1f*0x2d+0x34a*0xa+-0x2656]=_0x3f9adc;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](-0x3*0x52a+-0x184+-0x1*-0x1102,-(0x13*0x94+0x239*0xa+-0x2135))['map'](_0x55c6f0=>_0x55c6f0[-0x773+0x1837*0x1+0x10c3*-0x1]);}}class JL{constructor(_0x2b5e6f){this['device']=_0x2b5e6f,_0x2b5e6f['gpuProfile'+'r']['enabled']=!(-0xb*0x31+-0x619*0x1+0x5*0x1a4),this['enabled']=!(0x1563+0xf5*0x1d+-0x3124),this['unitsName']='ms',this['decimalPla'+'ces']=0x1*-0xea2+0x990+0x1*0x513,this['_timings']=[];}get['timings'](){return this['_timings'][0x65*-0x29+0x11c*-0x22+0x35e5]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class eF{constructor(_0x17a93c,_0x13ac47,_0x2727a1,_0x16eaf6,_0x53b642){this['app']=_0x17a93c,this['values']=[],this['statNames']=_0x13ac47,this['statNames']['length']>-0x201d+-0x3b9*0x3+0x2b4b&&(this['statNames']['length']=-0x2337+-0x11*-0x242+-0x4*0xca),this['unitsName']=_0x16eaf6,this['decimalPla'+'ces']=_0x2727a1,this['multiplier']=_0x53b642||-0x921+-0xc5*-0x6+-0x121*-0x4;const _0x13dda2=(_0x3c342d,_0x4c9b9f)=>_0x3c342d['split']('.')['reduce']((_0x171836,_0x29ea6b)=>_0x171836?_0x171836[_0x29ea6b]:null,_0x4c9b9f||this);_0x17a93c['on']('frameupdat'+'e',_0x4d9119=>{for(let _0x522696=0xd*0x4f+0x2*0x8b+0x3*-0x1b3;_0x522696<this['statNames']['length'];_0x522696++)this['values'][_0x522696]=_0x13dda2(this['statNames'][_0x522696],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class au{constructor(_0x4c7849,_0x5b675c,_0x5daa5e,_0x3f0dce,_0x591a3d){this['app']=_0x5b675c,this['name']=_0x4c7849,this['device']=_0x5b675c['graphicsDe'+'vice'],this['timer']=_0x591a3d,this['watermark']=_0x5daa5e,this['enabled']=!(0x2631+0x581+-0x5*0x8bd),this['textRefres'+'hRate']=_0x3f0dce,this['avgTotal']=-0xc76+-0x256a+0x31e0,this['avgTimer']=-0x709+-0x1dff+0x2508,this['avgCount']=-0x1b*0xd9+-0x13a2+-0x1*-0x2a85,this['timingText']='',this['texture']=null,this['yOffset']=-0x1*0xf68+-0x5ae+0x1516,this['cursor']=-0x146*0x19+-0x7*0x13+-0x3*-0xac9,this['sample']=new Uint8ClampedArray(-0x13cd*-0x1+0x131e*0x1+0x1*-0x26e7),this['sample']['set']([-0x254b+0x2482*0x1+-0xc9*-0x1,-0x182*-0xa+0x4f*-0x9+0x1*-0xc4d,0x1a9*-0xb+-0x22d5+0x3518,-0x1d95+0x1*0x94d+0x1547]),this['counter']=0x239*0x3+0x841*-0x1+0x7*0x3a,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0xd1a48b){const _0x47ffcd=this['timer']['timings'],_0x5a62d5=_0x47ffcd['reduce']((_0x112a01,_0x547a14)=>_0x112a01+_0x547a14,0x1cb5+-0xf1+-0x1bc4);if(this['avgTotal']+=_0x5a62d5,this['avgTimer']+=_0xd1a48b,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=-0x368*0x6+0x20bf+-0xc4f,this['avgTotal']=-0x31c*0x2+0x1*-0x1d+0x1*0x655,this['avgCount']=0x1492+-0x1*0x2399+0xf07),this['enabled']){let _0x7d2188=0x8cf+-0x1*0x226a+0x199b;const _0x351998=(0x12c5+-0x11cb+-0xf9+0.5)*this['watermark'];for(let _0x4312e1=-0x1a5*-0xd+-0x1883*0x1+0x322;_0x4312e1<_0x47ffcd['length'];++_0x4312e1)_0x7d2188+=Math['floor'](_0x47ffcd[_0x4312e1]/_0x351998*(0x182a+-0xc*0x53+0x5*-0x3db)),this['sample'][_0x4312e1]=_0x7d2188;this['sample'][0x677+-0x500+-0x174]=this['watermark']/_0x351998*(0x2ee+-0x1*0x1acd+0x18de),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(-0x9e*0x4+0x168d+0xb*-0x1d3)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=0x20d8+-0x13*-0xa7+-0x2d3d);}}['render'](_0x10692c,_0x57ca48,_0x9c6ce,_0x4dabf0,_0x2723de){_0x10692c['quad'](_0x57ca48+_0x4dabf0,_0x9c6ce,-_0x4dabf0,_0x2723de,this['enabled']?this['cursor']:-0x4d*-0x71+0x1e41*-0x1+-0x3bc,this['enabled']?-0x6*0xcb+0xced*-0x2+0xc*0x28d+0.5+this['yOffset']:this['texture']['height']-(-0x261b+-0x8*-0xa1+0x108a*0x2),-_0x4dabf0,-0xe0+0x12d8+-0x11f8,this['texture'],0x226e+-0x14fa+0x54*-0x29);}}class tF{constructor(_0x5a0ad5,_0x3a3f9b){const _0x327ad5=_0x2fdca2=>{_0x2fdca2['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x2fdca2['textAlign']='left',_0x2fdca2['textBaseli'+'ne']='alphabetic';},_0x37dac9=_0x1abf4d=>_0x1abf4d==='.'||_0x1abf4d['length']===-0xd*-0xf7+-0x1648+0x9be&&_0x1abf4d['charCodeAt'](-0x1e6d*-0x1+-0x12cd+0x10*-0xba)>=-0x23f1+0x2*0xa3f+0xfa3*0x1&&_0x1abf4d['charCodeAt'](-0x1f56+-0x1213+0x5b*0x8b)<=0x7*0x3a+0x637+-0x794,_0x5594b2=document['createElem'+'ent']('canvas'),_0xa3abbc=_0x5594b2['getContext']('2d',{'alpha':!(-0xfc6+0x9ac+-0x8e*-0xb)});_0x327ad5(_0xa3abbc);const _0x2c836c=new Map(),_0x5ee9a7=-0x5d*-0x2c+-0x2626+0x162f,_0x2bb77a=-0x185+0x138e+-0x1009*0x1;let _0x3ff996=_0x5ee9a7,_0x2735db=_0x5ee9a7;_0x3a3f9b['forEach'](_0x5eb20b=>{const _0xb0452f=_0xa3abbc['measureTex'+'t'](_0x5eb20b),_0x4a9e21=Math['ceil'](-_0xb0452f['actualBoun'+'dingBoxLef'+'t']),_0x41653e=Math['ceil'](_0xb0452f['actualBoun'+'dingBoxRig'+'ht']),_0x57b250=Math['ceil'](_0xb0452f['actualBoun'+'dingBoxAsc'+'ent']),_0x5eaf5e=Math['ceil'](_0xb0452f['actualBoun'+'dingBoxDes'+'cent']),_0x50a3df=_0x4a9e21+_0x41653e,_0x305510=_0x57b250+_0x5eaf5e;_0x3ff996+_0x50a3df+_0x5ee9a7>=_0x2bb77a&&(_0x3ff996=_0x5ee9a7,_0x2735db+=-0x996+0x3*-0xadd+-0x1*-0x2a3d),_0x2c836c['set'](_0x5eb20b,{'l':_0x4a9e21,'r':_0x41653e,'a':_0x57b250,'d':_0x5eaf5e,'w':_0x50a3df,'h':_0x305510,'x':_0x3ff996,'y':_0x2735db}),_0x3ff996+=_0x50a3df+_0x5ee9a7;}),_0x5594b2['width']=0x1c82+0xdc7+-0x2849,_0x5594b2['height']=N['nextPowerO'+'fTwo'](_0x2735db+(0x849+0x143b+-0x4*0x71d)+_0x5ee9a7),_0x327ad5(_0xa3abbc),_0xa3abbc['fillStyle']='rgb(0,\x200,\x20'+'0)',_0xa3abbc['fillRect'](0x119*-0xc+0x7a3*0x3+-0x33f*0x3,-0x1bb*-0xe+-0x2690+0x2*0x72b,_0x5594b2['width'],_0x5594b2['height']),_0x2c836c['forEach']((_0x280fea,_0x5800b9)=>{_0xa3abbc['fillStyle']=_0x37dac9(_0x5800b9)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0xa3abbc['fillText'](_0x5800b9,_0x280fea['x']-_0x280fea['l'],_0x280fea['y']+_0x280fea['a']);}),this['placements']=_0x2c836c;const _0xd4683b=_0xa3abbc['getImageDa'+'ta'](-0x25fe+-0x2b*-0x9e+0xb74,-0x8b5+-0x1a6c*-0x1+0x11b7*-0x1,_0x5594b2['width'],_0x5594b2['height'])['data'];for(let _0x239058=-0x7f*-0x3+0xf04+-0x1081;_0x239058<_0xd4683b['length'];_0x239058+=-0x112b+0xd*0x287+-0xfac)_0xd4683b[_0x239058+(0x4*-0x730+-0x4*0x446+0x2ddb)]=_0xd4683b[_0x239058+(-0x621+-0x472+0xa93)],_0xd4683b[_0x239058+(-0x1373+0x11b1+0x1c2)]=-0x224e+0x116c*-0x1+-0x199*-0x21,_0xd4683b[_0x239058+(-0x1e68+-0x166f+0x34d8)]=-0x2*0x7cf+0x7*-0x2e6+0x24e7,_0xd4683b[_0x239058+(-0x137e+-0x1*0xca3+0x2023)]=-0x799+-0x17bb+0x2053;this['texture']=new he(_0x5a0ad5,{'name':'mini-stats'+'-word-atla'+'s','width':_0x5594b2['width'],'height':_0x5594b2['height'],'mipmaps':!(-0x1d01+0xaf1+0x1211),'minFilter':de,'magFilter':de,'levels':[_0xd4683b]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x323d4e,_0x2485c3,_0x556b3b,_0x4f8f5e){const _0x41a295=this['placements']['get'](_0x2485c3);return _0x41a295?(_0x323d4e['quad'](_0x556b3b+_0x41a295['l']-(-0x1*0x14bd+0x41+0x147d),_0x4f8f5e-_0x41a295['d']+(-0x1cff+0x3*-0x7e3+-0xd*-0x40d),_0x41a295['w']+(-0x2535+0x60d*0x2+0x191c)*(-0x776+-0x6f*0x9+0x29*0x47),_0x41a295['h']+(0x1*-0x1d47+-0x1*0x185f+0x14f*0x29)*(-0xaa9+-0x1e4+0xc8f*0x1),_0x41a295['x']-(-0x139*-0x4+0xb1*-0x1f+0xc*0x161),this['texture']['height']-_0x41a295['y']-_0x41a295['h']-(-0x2*0x7a7+0x1*0x23f9+-0x14aa),void(0x1*-0xf26+-0x1b9c+0x2ac2),void(-0x131+0x1896+-0x35*0x71),this['texture'],0x1876+-0x3*0xcb5+0xdaa),_0x41a295['w']):-0x1a6c*-0x1+-0x15b4*-0x1+-0x3020;}}const sF='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20xy,'+'\x20word\x20flag'+'\x0aattribute'+'\x20vec4\x20vert'+'ex_texCoor'+'d0;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20tex'+'ture\x20space'+'\x20uv,\x20norma'+'lized\x20uv\x0a\x0a'+'varying\x20ve'+'c4\x20uv0;\x0ava'+'rying\x20floa'+'t\x20wordFlag'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position.'+'xy\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20uv0\x20=\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20w'+'ordFlag\x20=\x20'+'vertex_pos'+'ition.z;\x0a}',iF='\x0avarying\x20v'+'ec4\x20uv0;\x0av'+'arying\x20flo'+'at\x20wordFla'+'g;\x0a\x0aunifor'+'m\x20vec4\x20clr'+';\x0auniform\x20'+'sampler2D\x20'+'graphTex;\x0a'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0av'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20gra'+'phSample\x20='+'\x20texture2D'+'(graphTex,'+'\x20uv0.xy);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'graph;\x0a\x20\x20\x20'+'\x20if\x20(uv0.w'+'\x20<\x20graphSa'+'mple.r)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.g)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4(0.2'+',\x200.7,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20else\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.b)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.2,\x200.7,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4(0.0,'+'\x200.0,\x200.0,'+'\x201.0\x20-\x200.2'+'5\x20*\x20sin(uv'+'0.w\x20*\x203.14'+'159));\x0a\x0a\x20\x20'+'\x20\x20vec4\x20wor'+'ds\x20=\x20textu'+'re2D(words'+'Tex,\x20vec2('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'wordFlag)\x20'+'*\x20clr;\x0a}';class rF{constructor(_0x5a3b66,_0x26ce20=-0x1e9*0xb+-0x8*-0x6+0x16d3*0x1){const _0x37ed48=new Et(_0x5a3b66,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':ns,'components':0x4,'type':Ee}]),_0x1de772=new Uint16Array(_0x26ce20*(-0x1baf+-0x1*-0x1d13+-0x15e));for(let _0x1c60d9=-0x1*-0x1747+0x36*0x8a+-0x1*0x3463;_0x1c60d9<_0x26ce20;++_0x1c60d9)_0x1de772[_0x1c60d9*(-0x1*-0x1d2f+-0x13c7+0x1*-0x962)+(-0x2098+-0x8e9*-0x2+0x763*0x2)]=_0x1c60d9*(0x26a6+0x63c+-0x2cde),_0x1de772[_0x1c60d9*(0xe88+0xb3c*0x1+-0x19be)+(-0x1e4e+-0xae+0x1efd)]=_0x1c60d9*(-0x7*-0x72+0x19d3+-0x1ced)+(-0x2067+-0x1878+0x38e0),_0x1de772[_0x1c60d9*(-0x1019*-0x1+-0xb3*-0x1a+-0x2241)+(-0x2516+0x209*-0x2+0x292a)]=_0x1c60d9*(-0x6dd*0x1+0x2*-0xff3+0x26c7)+(-0x5a2+-0x3d7*0x7+-0x3*-0xad7),_0x1de772[_0x1c60d9*(-0x8d8+0x1*0x165b+-0x3*0x47f)+(0x35*-0x43+-0x10b2+0x1e94)]=_0x1c60d9*(0x915+-0x649*-0x4+-0x7*0x4e3),_0x1de772[_0x1c60d9*(0x1*-0x21eb+0x852+0x199f)+(0x1*0x3b7+-0x151*-0x1b+-0x273e)]=_0x1c60d9*(-0x985*-0x1+-0x2d9*-0x3+-0x120c)+(0x1388+-0x2015*-0x1+-0x339b),_0x1de772[_0x1c60d9*(0x7*0x40f+0x1eb6+-0x3b19*0x1)+(-0x1a9b*-0x1+-0xf*0xe5+-0xd2b)]=_0x1c60d9*(-0x1*0x229f+-0x3*0x6da+0x3731)+(-0x148a+0x3*0x2a2+0xca7);this['device']=_0x5a3b66,this['buffer']=new os(_0x5a3b66,_0x37ed48,_0x26ce20*(-0xf3c+0x2d0+0xc70),{'usage':uy}),this['data']=new Float32Array(this['buffer']['numBytes']/(0x1*0x1d72+-0x1751+0x139*-0x5)),this['indexBuffe'+'r']=new lr(_0x5a3b66,Pi,_0x26ce20*(0x1c3e+0x4*-0x65b+-0x166*0x2),jt,_0x1de772),this['prim']={'type':Ms,'indexed':!(-0x134c+0xdf*-0x16+0xcd2*0x3),'base':0x0,'count':0x0},this['quads']=0x1de0+0x26a6+0x4e5*-0xe,this['mesh']=new Ie(_0x5a3b66),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][-0x1*0x1eb2+0x623+0x188f]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x597a4f=new Ra({'uniqueName':'MiniStats','vertexCode':sF,'fragmentCode':iF});this['material']=_0x597a4f,_0x597a4f['cull']=mt,_0x597a4f['depthState']=as['NODEPTH'],_0x597a4f['blendState']=new _t(!(0x149d+0x3*0x6+0x3*-0x6e5),Lt,dc,uc,Lt,at,at),_0x597a4f['update'](),this['meshInstan'+'ce']=new Le(this['mesh'],_0x597a4f,new De('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(0x1*0x42d+-0x52d+0x104)},this['targetSize']={'width':_0x5a3b66['width'],'height':_0x5a3b66['height']};}['quad'](_0x589c0a,_0x142007,_0x4a5ef7,_0x24fbd9,_0x33d247,_0x12c040,_0xa535e6,_0x47bc7,_0x3c3fea,_0xf00a5d=-0x176*0x2+-0x5*-0x18d+0x4d5*-0x1){const _0x97d91a=this['targetSize']['width'],_0x4d3f61=this['targetSize']['height'],_0x4c975e=_0x589c0a/_0x97d91a,_0x1b4e61=_0x142007/_0x4d3f61,_0x4f8824=(_0x589c0a+_0x4a5ef7)/_0x97d91a,_0x3ee290=(_0x142007+_0x24fbd9)/_0x4d3f61,_0x39cf1b=_0x3c3fea['width'],_0x550922=_0x3c3fea['height'],_0x486991=_0x33d247/_0x39cf1b,_0x8afc55=_0x12c040/_0x550922,_0x288b80=(_0x33d247+(_0xa535e6??_0x4a5ef7))/_0x39cf1b,_0x2b19e7=(_0x12c040+(_0x47bc7??_0x24fbd9))/_0x550922;this['data']['set']([_0x4c975e,_0x1b4e61,_0xf00a5d,_0x486991,_0x8afc55,-0x238c+0x1*-0xcb6+0x3042,0x11*0x54+-0x551+-0x43,_0x4f8824,_0x1b4e61,_0xf00a5d,_0x288b80,_0x8afc55,0x1aa1*0x1+0x57a*0x6+0x34e*-0x12,0xe*0x1a3+-0x1d77+0x68d,_0x4f8824,_0x3ee290,_0xf00a5d,_0x288b80,_0x2b19e7,-0x1a0e+0x562+-0x1*-0x14ad,0x4*0x941+-0x15ca+-0xf39,_0x4c975e,_0x3ee290,_0xf00a5d,_0x486991,_0x2b19e7,0x4a3+-0x2f*0x86+0x13*0x10d,0x1da5+0xae7+-0x288b],(0x1e4a+0x161*0xc+-0x1769*0x2)*(0x5a1*0x3+-0x144f+0x1*0x373)*this['quads']),this['quads']++,this['prim']['count']+=0xd69+-0x1363+0x40*0x18;}['startFrame'](){this['quads']=0x1c09+0xe*0x15a+-0x2ef5,this['prim']['count']=-0x3*-0x1+-0x1653+0xb28*0x2,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x127703,_0x410c50,_0x4e9568,_0x44ecbc,_0xfb1fc3,_0x53025a){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0xfb1fc3,0x18e5+-0x1866+0x1*-0x7f),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x4e9568),this['material']['setParamet'+'er']('wordsTex',_0x44ecbc),_0x127703['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x410c50);}}class Wx{constructor(_0x4e5f7c,_0x11ed95){const _0x5cec3d=_0x4e5f7c['graphicsDe'+'vice'];_0x11ed95=_0x11ed95||Wx['getDefault'+'Options'](),this['initGraphs'](_0x4e5f7c,_0x5cec3d,_0x11ed95);const _0x4bde52=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x205775=>_0x205775['name']))['concat'](_0x11ed95['stats']?_0x11ed95['stats']['map'](_0x273433=>_0x273433['unitsName']):[])['filter'](_0x594c5a=>!!_0x594c5a));this['wordAtlas']=new tF(_0x5cec3d,_0x4bde52),this['sizes']=_0x11ed95['sizes'],this['_activeSiz'+'eIndex']=_0x11ed95['startSizeI'+'ndex'];const _0xe53f9d=document['createElem'+'ent']('div');_0xe53f9d['setAttribu'+'te']('id','mini-stats'),_0xe53f9d['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',document['body']['appendChil'+'d'](_0xe53f9d),_0xe53f9d['addEventLi'+'stener']('mouseenter',_0x34a986=>{this['opacity']=0x6a6+0x809+-0x757*0x2;}),_0xe53f9d['addEventLi'+'stener']('mouseleave',_0x50cf48=>{this['opacity']=0x1b4+-0x1721+0x156d+0.7;}),_0xe53f9d['addEventLi'+'stener']('click',_0x559db0=>{_0x559db0['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(-0xe3+-0x2165*0x1+0x2249))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x5cec3d['on']('resizecanv'+'as',this['updateDiv'],this),_0x5cec3d['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x4e5f7c['on']('postrender',this['postRender'],this),this['app']=_0x4e5f7c,this['drawLayer']=_0x4e5f7c['scene']['layers']['getLayerBy'+'Id'](tl),this['device']=_0x5cec3d,this['render2d']=new rF(_0x5cec3d),this['div']=_0xe53f9d,this['width']=0x1c34*-0x1+0x24e9*-0x1+0x411d,this['height']=0x1*0xa6b+0x3*0x653+-0x1d64,this['gspacing']=0x4*-0x916+0x18*-0x115+0x3e52*0x1,this['clr']=[-0x26dd+-0x1*0x1891+0x1*0x3f6f,0x9*0x4a+-0x579+0x2*0x170,-0x2*-0x894+0x2045*0x1+-0x316c,0x469*-0x8+-0x9*0xdb+0x2afb*0x1+0.5],this['_enabled']=!(0x15*0x147+-0x2f*-0x2f+0x11ba*-0x2),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x411d71=>_0x411d71['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(0x1331*-0x2+0x1e42+0x821)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(-0xe74+0xfc8+0x4*-0x55)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(0x727+0x16f*-0x5+-0x4*-0x1)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(-0x2565+0xb3*0x12+0x18cf),'watermark':0x21},'gpu':{'enabled':!(-0xa*0x107+-0x1*-0x207b+-0x17b*0xf),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x5ca539){this['_activeSiz'+'eIndex']=_0x5ca539,this['gspacing']=this['sizes'][_0x5ca539]['spacing'],this['resize'](this['sizes'][_0x5ca539]['width'],this['sizes'][_0x5ca539]['height'],this['sizes'][_0x5ca539]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x12e8b0){this['clr'][0xd9+-0x1369+-0x1*-0x1293]=_0x12e8b0;}get['opacity'](){return this['clr'][-0x3*-0x73d+-0x92f+-0xc85];}get['overallHei'+'ght'](){const _0x4447b2=this['graphs'],_0x2fb0e9=this['gspacing'];return this['height']*_0x4447b2['length']+_0x2fb0e9*(_0x4447b2['length']-(-0x2505+0x1*-0x1f16+0x441c));}set['enabled'](_0x582406){if(_0x582406!==this['_enabled']){this['_enabled']=_0x582406;for(let _0x417152=-0x2632+-0x16ad+-0x1*-0x3cdf;_0x417152<this['graphs']['length'];++_0x417152)this['graphs'][_0x417152]['enabled']=_0x582406,this['graphs'][_0x417152]['timer']['enabled']=_0x582406;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x269a51,_0x33a526,_0x395924){if(this['graphs']=[],_0x395924['cpu']['enabled']){const _0x1de3af=new QL(_0x269a51),_0x29bb97=new au('CPU',_0x269a51,_0x395924['cpu']['watermark'],_0x395924['textRefres'+'hRate'],_0x1de3af);this['graphs']['push'](_0x29bb97);}if(_0x395924['gpu']['enabled']){const _0x21f696=new JL(_0x33a526),_0x1c7822=new au('GPU',_0x269a51,_0x395924['gpu']['watermark'],_0x395924['textRefres'+'hRate'],_0x21f696);this['graphs']['push'](_0x1c7822);}_0x395924['stats']&&_0x395924['stats']['forEach'](_0x5bdc18=>{const _0x4b1762=new eF(_0x269a51,_0x5bdc18['stats'],_0x5bdc18['decimalPla'+'ces'],_0x5bdc18['unitsName'],_0x5bdc18['multiplier']),_0x4afd05=new au(_0x5bdc18['name'],_0x269a51,_0x5bdc18['watermark'],_0x395924['textRefres'+'hRate'],_0x4b1762);this['graphs']['push'](_0x4afd05);});const _0x5103f9=_0x395924['sizes']['reduce']((_0x3f29da,_0x38c69b)=>_0x38c69b['width']>_0x3f29da?_0x38c69b['width']:_0x3f29da,0xb2*-0x1c+-0x758+0x1ad0);this['texture']=new he(_0x33a526,{'name':'mini-stats'+'-graph-tex'+'ture','width':N['nextPowerO'+'fTwo'](_0x5103f9),'height':N['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(-0x4*-0x73+-0x2708+-0x1*-0x253d),'minFilter':de,'magFilter':de,'addressU':tt,'addressV':tt}),this['graphs']['forEach']((_0xa6fdb8,_0x5461f8)=>{_0xa6fdb8['texture']=this['texture'],_0xa6fdb8['yOffset']=_0x5461f8;});}['render'](){const _0x5f1f13=this['graphs'],_0x12b343=this['wordAtlas'],_0x5eb1b6=this['render2d'],_0x3335f7=this['width'],_0x2314eb=this['height'],_0x527f3f=this['gspacing'];_0x5eb1b6['startFrame']();for(let _0x567d86=0x10a3+-0x1*0x60d+-0xa96;_0x567d86<_0x5f1f13['length'];++_0x567d86){const _0x131d2e=_0x5f1f13[_0x567d86];let _0x2a1af3=_0x567d86*(_0x2314eb+_0x527f3f);_0x131d2e['render'](_0x5eb1b6,0x587+0x17e*-0xa+0xb9*0xd,_0x2a1af3,_0x3335f7,_0x2314eb);let _0x502003=-0x240d+0x8ec+-0xd91*-0x2;_0x2a1af3+=_0x2314eb-(0x1*0x1e6b+-0x16c9+-0x795),_0x502003+=_0x12b343['render'](_0x5eb1b6,_0x131d2e['name'],_0x502003,_0x2a1af3)+(-0x4d4+0x182a+-0xbe*0x1a);const _0x4f62d1=_0x131d2e['timingText'];for(let _0x5e2d47=0x82b+0x93a*-0x1+0x10f;_0x5e2d47<_0x4f62d1['length'];++_0x5e2d47)_0x502003+=_0x12b343['render'](_0x5eb1b6,_0x4f62d1[_0x5e2d47],_0x502003,_0x2a1af3);_0x131d2e['timer']['unitsName']&&(_0x502003+=-0x2*0xfad+0x58e+0x19cf,_0x12b343['render'](_0x5eb1b6,_0x131d2e['timer']['unitsName'],_0x502003,_0x2a1af3));}_0x5eb1b6['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x2314eb);}['resize'](_0xec4bb0,_0x20bb92,_0x33419a){const _0x4eb7c3=this['graphs'];for(let _0x12f276=-0x5*-0x59f+-0x95*0xd+-0xb*0x1de;_0x12f276<_0x4eb7c3['length'];++_0x12f276)_0x4eb7c3[_0x12f276]['enabled']=_0x33419a;this['width']=_0xec4bb0,this['height']=_0x20bb92,this['updateDiv']();}['updateDiv'](){const _0x4b6933=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x4b6933['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x4b6933['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px';}['loseContex'+'t'](){this['graphs']['forEach'](_0x5ba791=>_0x5ba791['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}class pF extends Ht{constructor(){super(...arguments),c(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),c(this,'controller'+'s',new Map());}['initialize'](){if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation');return;}this['app']['xr']['input']['on']('add',async _0x427e68=>{var _0x53e65a;if(!((_0x53e65a=_0x427e68['profiles'])!=null&&_0x53e65a['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x55683d=_0x427e68['profiles']['map'](async _0xa40005=>{var _0x4d907d;const _0x59268d=this['basePath']+'/'+_0xa40005+('/profile.j'+'son');try{const _0x8e3610=await fetch(_0x59268d);if(!_0x8e3610['ok'])return null;const _0x47bbfd=await _0x8e3610['json'](),_0x70ce93=((_0x4d907d=_0x47bbfd['layouts'][_0x427e68['handedness']])==null?void(-0x1b44+0x51*-0x79+0x418d):_0x4d907d['assetPath'])||'',_0x40306f=this['basePath']+'/'+_0x47bbfd['profileId']+'/'+_0x427e68['handedness']+_0x70ce93['replace'](/^\/?(left|right)/,''),_0xec41e9=await new Promise((_0xd8b4bc,_0x2d296)=>{this['app']['assets']['loadFromUr'+'l'](_0x40306f,'container',(_0x2131d5,_0x3e4807)=>{_0x2131d5?_0x2d296(_0x2131d5):_0xd8b4bc(_0x3e4807);});});return{'profileId':_0xa40005,'asset':_0xec41e9};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0xa40005),null;}}),_0x52b437=(await Promise['all'](_0x55683d))['find'](_0xfd7d23=>_0xfd7d23!==null);if(_0x52b437){const {asset:_0xaf77d2}=_0x52b437,_0x5997e1=_0xaf77d2['resource']['instantiat'+'eRenderEnt'+'ity']();this['app']['root']['addChild'](_0x5997e1);const _0x509758=new Map();if(_0x427e68['hand'])for(const _0x2341d9 of _0x427e68['hand']['joints']){const _0x4b19f1=_0x5997e1['findByName'](_0x2341d9['id']);_0x4b19f1&&_0x509758['set'](_0x2341d9,_0x4b19f1);}this['controller'+'s']['set'](_0x427e68,{'entity':_0x5997e1,'jointMap':_0x509758});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['app']['xr']['input']['on']('remove',_0x4702ad=>{var _0x4501a5;const _0x32989d=this['controller'+'s']['get'](_0x4702ad);this['app']['root']['removeChil'+'d'](_0x32989d==null?void(0x1*0x869+-0x1c98+0x142f):_0x32989d['entity']),_0x32989d&&((_0x4501a5=_0x32989d['entity'])==null||_0x4501a5['destroy'](),this['controller'+'s']['delete'](_0x4702ad));}),this['app']['xr']['input']['on']('destroy',this['destroy']);}['destroy'](){var _0x39ab82;(_0x39ab82=this['controller'+'s'])==null||_0x39ab82['clear']();}['update'](_0x333aa2){var _0x4892b0;if((_0x4892b0=this['app']['xr'])!=null&&_0x4892b0['active']){for(const [_0x3a87cd,{entity:_0x42215d,jointMap:_0x12fd14}]of this['controller'+'s'])if(_0x3a87cd['hand']){for(const [_0x3f166c,_0x4ffd82]of _0x12fd14)_0x4ffd82['setPositio'+'n'](_0x3f166c['getPositio'+'n']()),_0x4ffd82['setRotatio'+'n'](_0x3f166c['getRotatio'+'n']());}else _0x42215d['setPositio'+'n'](_0x3a87cd['getPositio'+'n']()),_0x42215d['setRotatio'+'n'](_0x3a87cd['getRotatio'+'n']());}}}export{dF as A,_e as B,Y as C,pF as D,We as E,$1 as F,hh as G,ex as H,Wx as I,ce as J,Fm as K,vp as L,bl as M,X as N,uF as P,se as Q,G_ as R,Dt as S,f0 as T,T as V,ay as W,GL as X,Q as a,AL as b,W as c,le as d,sl as e,ua as f,Gs as g,Ap as h,aF as i,oF as j,lF as k,hF as l,cF as m,Nh as n,Bh as o,zh as p,Iu as q,lh as r,Hr as s,Wr as t,Ts as u,cs as v,SI as w,$n as x,M0 as y,q as z};function _0x13baa8(_0x314876){function _0x35323c(_0x215311){if(typeof _0x215311==='string')return function(_0x3596cb){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x215311/_0x215311)['length']!==0xa41+-0x9a9+0x97*-0x1||_0x215311%(0xf2a+-0x8d0*0x1+-0x646)===-0x2563+-0x1*-0x1393+0x11d0?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x35323c(++_0x215311);}try{if(_0x314876)return _0x35323c;else _0x35323c(-0x1d55*-0x1+-0x48f*-0x2+-0x2673);}catch(_0x2ae487){}}
