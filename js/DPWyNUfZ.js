const _0x543f5b=(function(){let _0x158013=!![];return function(_0x19fc63,_0x61b18b){const _0x4ee00b=_0x158013?function(){if(_0x61b18b){const _0x405668=_0x61b18b['apply'](_0x19fc63,arguments);return _0x61b18b=null,_0x405668;}}:function(){};return _0x158013=![],_0x4ee00b;};}()),_0x549613=_0x543f5b(this,function(){return _0x549613['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x549613)['search']('(((.+)+)+)'+'+$');});_0x549613();const _0xaf531a=(function(){let _0x42b4d3=!![];return function(_0x30538d,_0x53cb3d){const _0x26cba2=_0x42b4d3?function(){if(_0x53cb3d){const _0xc9d334=_0x53cb3d['apply'](_0x30538d,arguments);return _0x53cb3d=null,_0xc9d334;}}:function(){};return _0x42b4d3=![],_0x26cba2;};}());(function(){_0xaf531a(this,function(){const _0x261016=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x23fa30=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x172517=_0x10aa8f('init');!_0x261016['test'](_0x172517+'chain')||!_0x23fa30['test'](_0x172517+'input')?_0x172517('0'):_0x10aa8f();})();}());const _0x30ccb1=(function(){let _0x247e33=!![];return function(_0x58242a,_0x26dd88){const _0x15e13a=_0x247e33?function(){if(_0x26dd88){const _0x87ba88=_0x26dd88['apply'](_0x58242a,arguments);return _0x26dd88=null,_0x87ba88;}}:function(){};return _0x247e33=![],_0x15e13a;};}()),_0x238241=_0x30ccb1(this,function(){const _0x412d4a=function(){let _0x72c4f8;try{_0x72c4f8=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x5dd4ea){_0x72c4f8=window;}return _0x72c4f8;},_0x54c51a=_0x412d4a(),_0x5241dd=_0x54c51a['console']=_0x54c51a['console']||{},_0x500656=['log','warn','info','error','exception','table','trace'];for(let _0x215215=0xf39+0x12fd*0x1+-0x2236;_0x215215<_0x500656['length'];_0x215215++){const _0x123895=_0x30ccb1['constructo'+'r']['prototype']['bind'](_0x30ccb1),_0x26e0f1=_0x500656[_0x215215],_0x4ccf2c=_0x5241dd[_0x26e0f1]||_0x123895;_0x123895['__proto__']=_0x30ccb1['bind'](_0x30ccb1),_0x123895['toString']=_0x4ccf2c['toString']['bind'](_0x4ccf2c),_0x5241dd[_0x26e0f1]=_0x123895;}});_0x238241();var qx=Object['defineProp'+'erty'],Xx=(_0x4be28d,_0x140f66,_0x3d21b6)=>_0x140f66 in _0x4be28d?qx(_0x4be28d,_0x140f66,{'enumerable':!(-0x24da+0x18f*0x13+0x73d),'configurable':!(0x250+-0x1aaa*-0x1+0xe7d*-0x2),'writable':!(-0x1*-0x3a+0x1*-0x1f30+0xa52*0x3),'value':_0x3d21b6}):_0x4be28d[_0x140f66]=_0x3d21b6,c=(_0x5b034b,_0x2080ee,_0x1c80b5)=>Xx(_0x5b034b,typeof _0x2080ee!='symbol'?_0x2080ee+'':_0x2080ee,_0x1c80b5);const jx='RenderFram'+'e',td='RenderFram'+'eTime',jp='RenderPass',Jn='RenderPass'+'Detail',pl='RenderActi'+'on',Yp='RenderTarg'+'etAlloc',Kp='TextureAll'+'oc',Zp='ShaderAllo'+'c',Yx='ShaderComp'+'ile',Kx='VRAM.Textu'+'re',Zx='VRAM.Vb',Qx='VRAM.Ib',Jx='BindGroupA'+'lloc',eS='BindGroupF'+'ormatAlloc',Ss='Element',tS='Textures',ml='GpuTimings',no='$_CURRENT_'+'SDK_VERSIO'+'N',sy='$_CURRENT_'+'SDK_REVISI'+'ON';function vh(_0x5a5e45,_0x2d3972){for(const _0x258211 in _0x2d3972){const _0x106357=_0x2d3972[_0x258211];Array['isArray'](_0x106357)?_0x5a5e45[_0x258211]=vh([],_0x106357):_0x106357&&typeof _0x106357=='object'?_0x5a5e45[_0x258211]=vh({},_0x106357):_0x5a5e45[_0x258211]=_0x106357;}return _0x5a5e45;}const sS={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x41abb5=>{const _0x512150=Math['random']()*(-0x1*-0x61c+-0x1b58+0xaa6*0x2)|-0x2527*0x1+0x26b6*-0x1+0x4bdd*0x1;return(_0x41abb5==='x'?_0x512150:_0x512150&0x1*-0xe12+-0x1f62+0x71*0x67|-0x1a4b+0xd0b+0xd48)['toString'](-0x14f9+-0x22a6+0x37af*0x1);});}},fe={'delimiter':'/','join'(..._0x4d8fec){let _0x568609=_0x4d8fec[-0x3*0x73b+-0x767+0x26*0xc4];for(let _0x469378=-0x22f2+0x1da+0x584*0x6;_0x469378<_0x4d8fec['length']-(0x2041+0x125+-0x53*0x67);_0x469378++){const _0x215a67=_0x4d8fec[_0x469378],_0x249e95=_0x4d8fec[_0x469378+(0x8bc+-0x1fd8+-0x171d*-0x1)];if(_0x249e95[0x511*0x6+-0xf1e+-0xf48]===fe['delimiter']){_0x568609=_0x249e95;continue;}_0x215a67&&_0x249e95&&_0x215a67[_0x215a67['length']-(-0x189d+-0x5bb+-0x11*-0x1c9)]!==fe['delimiter']&&_0x249e95[-0x1bb1+0xba1+0x1010]!==fe['delimiter']?_0x568609+=fe['delimiter']+_0x249e95:_0x568609+=_0x249e95;}return _0x568609;},'normalize'(_0x41ea9b){const _0x2d4a1e=_0x41ea9b['startsWith'](fe['delimiter']),_0x2405d3=_0x41ea9b['endsWith'](fe['delimiter']),_0x150c5c=_0x41ea9b['split']('/');let _0x4b2fd9='',_0x360e29=[];for(let _0x34bae2=-0xd*-0x1+0x1*-0xdbd+0x490*0x3;_0x34bae2<_0x150c5c['length'];_0x34bae2++)if(_0x150c5c[_0x34bae2]!==''&&_0x150c5c[_0x34bae2]!=='.'){if(_0x150c5c[_0x34bae2]==='..'&&_0x360e29['length']>-0x1b23+0xa*-0x2a1+-0x3*-0x11cf){_0x360e29=_0x360e29['slice'](0x109d+-0xdf*0x13+-0x4*0x4,_0x360e29['length']-(-0x1*0x1847+0x20f3+-0x8aa));continue;}_0x34bae2>0x1*-0x1b6e+-0x1e66+0x39d4&&_0x360e29['push'](fe['delimiter']),_0x360e29['push'](_0x150c5c[_0x34bae2]);}return _0x4b2fd9=_0x360e29['join'](''),!_0x2d4a1e&&_0x4b2fd9[-0x23e2+0x1175*0x1+0x126d]===fe['delimiter']&&(_0x4b2fd9=_0x4b2fd9['slice'](-0x89c+-0x2*0xc1a+-0x1*-0x20d1)),_0x2405d3&&_0x4b2fd9[_0x4b2fd9['length']-(0x2*0xe76+-0x20e+-0x1add)]!==fe['delimiter']&&(_0x4b2fd9+=fe['delimiter']),_0x4b2fd9;},'split'(_0x5aa748){const _0x2d4fc0=_0x5aa748['lastIndexO'+'f'](fe['delimiter']);return _0x2d4fc0!==-(-0x234c+-0x216d+0x44ba)?[_0x5aa748['substring'](0x1*-0x397+-0x39*-0x38+-0x8e1,_0x2d4fc0),_0x5aa748['substring'](_0x2d4fc0+(0xc9*0x2c+0x1d5a+0xb*-0x5cf))]:['',_0x5aa748];},'getBasename'(_0x4c2126){return fe['split'](_0x4c2126)[-0x2*0x601+0x1e41+-0x123e];},'getDirectory'(_0x797c00){return fe['split'](_0x797c00)[0x1e*0x40+-0x1a18*0x1+-0x1dc*-0xa];},'getExtension'(_0x289918){const _0x5b0c5f=_0x289918['split']('?')[-0x215*-0xe+0x4c1+0xb*-0x315]['split']('.')['pop']();return _0x5b0c5f!==_0x289918?'.'+_0x5b0c5f:'';},'isRelativePath'(_0x414f07){return _0x414f07['charAt'](-0x680*0x6+0x1*0xb44+-0x19*-0x11c)!=='/'&&_0x414f07['match'](/:\/\//)===null;},'extractPath'(_0xc954f6){let _0x506631='';const _0xa9389f=_0xc954f6['split']('/');let _0x2fef03=0x1*-0x21da+0x2280+0x2*-0x53;if(_0xa9389f['length']>0x786+-0x2311+0x1b8c){if(fe['isRelative'+'Path'](_0xc954f6)){if(_0xa9389f[0x1fc1*0x1+-0x2249+-0x1*-0x288]==='.'){for(_0x2fef03=-0x2*0xedb+-0x1*-0x989+0x142d;_0x2fef03<_0xa9389f['length']-(0xa9d+0x447*-0x6+0x2f*0x52);++_0x2fef03)_0x506631+=_0x2fef03===-0x5*0x2ad+-0x3c8+0x17*0xbf?_0xa9389f[_0x2fef03]:'/'+_0xa9389f[_0x2fef03];}else{if(_0xa9389f[-0x1282+-0x1f37+0x31b9]==='..'){for(_0x2fef03=-0x1*0x10b2+-0xbd2+-0x64*-0x49;_0x2fef03<_0xa9389f['length']-(-0x212e+-0xfeb+0x311a);++_0x2fef03)_0x506631+=_0x2fef03===-0x1cff+-0x4d*-0x1b+0x14e0?_0xa9389f[_0x2fef03]:'/'+_0xa9389f[_0x2fef03];}else{for(_0x506631='.',_0x2fef03=-0x6e2*0x1+-0x26*0x6d+0x8*0x2e2;_0x2fef03<_0xa9389f['length']-(0x20b5*-0x1+0x1*0x3a1+0x1d15);++_0x2fef03)_0x506631+='/'+_0xa9389f[_0x2fef03];}}}else{for(_0x2fef03=-0x71d+0x1*-0x163+0x880;_0x2fef03<_0xa9389f['length']-(-0x6cc*0x4+-0x1b*-0x4f+0x12dc);++_0x2fef03)_0x506631+=_0x2fef03===-0x1d54+-0x14ae*-0x1+-0x1b*-0x52?_0xa9389f[_0x2fef03]:'/'+_0xa9389f[_0x2fef03];}}return _0x506631;}},iS=()=>{let _0x57506e=!(-0x41f+0xad*-0x17+0x13ab);try{const _0x2dec82=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x57506e=!(-0xb*0xfa+0x2db*0x5+-0x389),!(0x1fee+0x9d*0x13+-0x2b94);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x2dec82),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x2dec82);}catch{}return _0x57506e;},xi=typeof navigator<'u'?navigator['userAgent']:'',bh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Qp=/android/i['test'](xi)?'android':/ip(?:[ao]d|hone)/i['test'](xi)?'ios':/windows/i['test'](xi)?'windows':/mac os/i['test'](xi)?'osx':/linux/i['test'](xi)?'linux':/cros/i['test'](xi)?'cros':null,rS=bh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](xi)?'chrome':/Safari\//['test'](xi)?'safari':/Firefox\//['test'](xi)?'firefox':'other',nS=bh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>0x9c2*-0x3+-0x2584*-0x1+-0x83e),aS=iS(),ye={'name':Qp,'browser':bh==='browser','worker':bh==='worker','android':Qp==='android','touch':nS,'passiveEvents':aS,'browserName':rS},iy='abcdefghij'+'klmnopqrst'+'uvwxyz',ry='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',oS=iy+ry,ou=-0xba15+0x1ce7+0x1752e,ny=-0x1*0x171a7+-0x15478+0x3a21e,Jp=-0x1*-0x1559c+-0x14b*-0xe7+-0x1a449,lS=-0x22b0+-0xceaf+0x1d15e,hS=-0x1*-0xeff+0x869*-0x7+0x4bed,em=0x283e9+0x28571+-0x94*0x559,tm=0x3ac53+0x32737*0x1+-0x4e18b,cS=-0x1ae3f+0x3da6e+-0x3834,dS=0x29d*0x4a+0x10537+0x2d66,uS=0x414*-0x3+0x7*-0x36+-0x5*-0x94e,fS=-0x3*-0x144a+0x311e+-0x1*0x4cfd,lu=0x2*-0xd6d8+-0xf76c+0x3a31c,hu=-0x19acd+0x3790*0x2+0x6*0x5c4a;function cu(_0x38850b,_0x40affb=0x6d*-0x23+0x1*0x10d9+-0xa6*0x3){const _0x6a2724=_0x38850b['length'];if(_0x40affb<0x7*-0x2e0+-0xe6*0x9+-0x17*-0x13a||_0x40affb>=_0x6a2724)return null;const _0x105513=_0x38850b['charCodeAt'](_0x40affb);if(_0x6a2724>-0x713*0x1+-0x2*0x565+0x11de&&_0x105513>=ou&&_0x105513<=ny){const _0x47f8e8=_0x38850b['charCodeAt'](_0x40affb+(0x180*-0x1+0x1ae*-0x13+0x216b));if(_0x47f8e8>=Jp&&_0x47f8e8<=lS)return{'code':(_0x105513-ou)*(0x1*0x628+-0x2*-0x823+-0x126e)+_0x47f8e8-Jp+(-0x1ddb2+-0x1*0x1a11a+0x47ecc*0x1),'long':!(-0x2015+-0x1*-0x148d+0xb88)};}return{'code':_0x105513,'long':!(0xd*0x157+0x282*0x6+0x5*-0x67e)};}function Xi(_0x17947b,_0x4c3326,_0x9354b8){if(!_0x17947b)return!(-0x1*-0x19f7+0x20ed+-0x3ae3);const _0xb36e6b=cu(_0x17947b);if(_0xb36e6b){const _0x430ad8=_0xb36e6b['code'];return _0x430ad8>=_0x4c3326&&_0x430ad8<=_0x9354b8;}return!(0x125f+0x9d*-0xb+0x23*-0x55);}function pS(_0x2dd5a1,_0x460bbf){if(_0x460bbf===_0x2dd5a1['length']-(0x58f*-0x3+0xd*0xa9+0x3*0x2b3))return 0x20c4+0xd98+-0x2e5b*0x1;if(Xi(_0x2dd5a1[_0x460bbf],ou,ny)){const _0x3a6f24=_0x2dd5a1['substring'](_0x460bbf,_0x460bbf+(0x1ec6+-0x900+-0x15c4*0x1)),_0x30e4f3=_0x2dd5a1['substring'](_0x460bbf+(0x1209+-0xd82+-0x485),_0x460bbf+(-0x1f8f+0x2bd*0x2+-0x1a19*-0x1));return Xi(_0x30e4f3,cS,dS)||Xi(_0x3a6f24,em,tm)&&Xi(_0x30e4f3,em,tm)?-0x73f+-0x18ce+0x2011*0x1:Xi(_0x30e4f3,lu,hu)?-0x1dbf+0x1a91+0x331:-0xe8*0x25+0x17b*-0x3+0x25fb;}return Xi(_0x2dd5a1[_0x460bbf+(0xa59*-0x3+-0x20da+-0x2*-0x1ff3)],lu,hu)?0x31*0x57+-0x24d3+0xa17*0x2:-0x12f*0x21+-0x17b1+0x3ec1;}const ah={'ASCII_LOWERCASE':iy,'ASCII_UPPERCASE':ry,'ASCII_LETTERS':oS,'format'(_0x10342c,..._0xaa1d50){for(let _0x30b7bb=0x663+0x1c*0x66+-0x5d9*0x3;_0x30b7bb<_0xaa1d50['length'];_0x30b7bb++)_0x10342c=_0x10342c['replace']('{'+_0x30b7bb+'}',_0xaa1d50[_0x30b7bb]);return _0x10342c;},'getCodePoint'(_0x23128f,_0x2141b9){const _0x5a603d=cu(_0x23128f,_0x2141b9);return _0x5a603d&&_0x5a603d['code'];},'getCodePoints'(_0x3074bd){if(typeof _0x3074bd!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x34741b=0x1357*0x1+0xb02*-0x1+-0x855;const _0x294a2a=[];let _0x51bdd5;for(;_0x51bdd5=cu(_0x3074bd,_0x34741b);)_0x294a2a['push'](_0x51bdd5['code']),_0x34741b+=_0x51bdd5['long']?0x6f*-0xb+-0xd5f+0x1226:-0x725*-0x2+-0x1a05+0xbbc;return _0x294a2a;},'getSymbols'(_0x3d4a99){if(typeof _0x3d4a99!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x500667=0x22c3+0x1eac+-0x7*0x959;const _0x515e94=_0x3d4a99['length'],_0xd38c05=[];let _0x336105=-0x1*0x104c+-0x16ba+-0x29a*-0xf,_0x3d4b85;for(;_0x500667<_0x515e94;){if(_0x336105+=pS(_0x3d4a99,_0x500667+_0x336105),_0x3d4b85=_0x3d4a99[_0x500667+_0x336105],Xi(_0x3d4b85,uS,fS)&&(_0x3d4b85=_0x3d4a99[_0x500667+_0x336105++]),Xi(_0x3d4b85,lu,hu)&&(_0x3d4b85=_0x3d4a99[_0x500667+_0x336105++]),_0x3d4b85&&_0x3d4b85['charCodeAt'](-0x2601+-0xe89+0x348a)===hS){_0x3d4b85=_0x3d4a99[_0x500667+_0x336105++];continue;}const _0x4168eb=_0x3d4a99['substring'](_0x500667,_0x500667+_0x336105);_0xd38c05['push'](_0x4168eb),_0x500667+=_0x336105,_0x336105=0xc04+0x23e1*-0x1+0x95*0x29;}return _0xd38c05;},'fromCodePoint'(){const _0x3f7510=[];let _0x2917c8,_0x360b6c,_0x2bb61c;for(let _0x4ea330=-0x4*0x13+-0x1604+-0x770*-0x3;_0x4ea330<arguments['length'];++_0x4ea330)_0x2917c8=Number(arguments[_0x4ea330]),_0x360b6c=_0x2917c8-(-0x7ca*-0x25+-0xa*0x321d+-0xa4*-0x2dc),_0x2bb61c=_0x2917c8>0x16917+0x3c52+0x2ab*-0x3e?[(_0x360b6c>>0x1651+0xf5a+-0x25a1)+(0x2*0x1b7f+0x2*-0x6+-0xb81*-0xe),_0x360b6c%(-0x1d77+0xb66*0x1+0x1611)+(0x9b6b+0x16801*-0x1+-0x1*-0x1a896)]:[_0x2917c8],_0x3f7510['push'](String['fromCharCo'+'de']['apply'](null,_0x2bb61c));return _0x3f7510['join']('');}},zr=class zr{static['set'](_0x2e44c6,_0x4b9c45=!(0x2493+-0x125b+-0x1238)){_0x4b9c45?zr['_traceChan'+'nels']['add'](_0x2e44c6):zr['_traceChan'+'nels']['delete'](_0x2e44c6);}static['get'](_0x18ad40){return zr['_traceChan'+'nels']['has'](_0x18ad40);}};c(zr,'_traceChan'+'nels',new Set()),c(zr,'stack',!(0x11d1+0xb1e+-0x1cee));let Xs=zr;const bt=class bt{static['deprecated'](_0x357db4){bt['_loggedMes'+'sages']['has'](_0x357db4)||(bt['_loggedMes'+'sages']['add'](_0x357db4),console['warn']('DEPRECATED'+':\x20'+_0x357db4));}static['removed'](_0x49757c){bt['_loggedMes'+'sages']['has'](_0x49757c)||(bt['_loggedMes'+'sages']['add'](_0x49757c),console['error']('REMOVED:\x20'+_0x49757c));}static['assertDepr'+'ecated'](_0x235234,_0x193edd){_0x235234||bt['deprecated'](_0x193edd);}static['assert'](_0x1dd39c,..._0x42e0b2){_0x1dd39c||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x42e0b2);}static['assertDest'+'royed'](_0x5b669c){var _0x515c36;if(_0x5b669c!=null&&_0x5b669c['__alreadyD'+'estroyed']){const _0x4f99cb='['+((_0x515c36=_0x5b669c['constructo'+'r'])==null?void(0x36a+0x1ccb+-0x2035):_0x515c36['name'])+(']\x20with\x20nam'+'e\x20[')+_0x5b669c['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');bt['_loggedMes'+'sages']['has'](_0x4f99cb)||(bt['_loggedMes'+'sages']['add'](_0x4f99cb),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x4f99cb,_0x5b669c));}}static['call'](_0x2e4c1e){_0x2e4c1e();}static['log'](..._0x2c8749){console['log'](..._0x2c8749);}static['logOnce'](_0x431177,..._0x4ca3b3){bt['_loggedMes'+'sages']['has'](_0x431177)||(bt['_loggedMes'+'sages']['add'](_0x431177),console['log'](_0x431177,..._0x4ca3b3));}static['warn'](..._0x81b425){console['warn'](..._0x81b425);}static['warnOnce'](_0x401967,..._0x5234f3){bt['_loggedMes'+'sages']['has'](_0x401967)||(bt['_loggedMes'+'sages']['add'](_0x401967),console['warn'](_0x401967,..._0x5234f3));}static['error'](..._0x1eee06){console['error'](..._0x1eee06);}static['errorOnce'](_0x219a1d,..._0x1cae88){bt['_loggedMes'+'sages']['has'](_0x219a1d)||(bt['_loggedMes'+'sages']['add'](_0x219a1d),console['error'](_0x219a1d,..._0x1cae88));}static['trace'](_0x3f1b63,..._0x47467a){Xs['get'](_0x3f1b63)&&(console['groupColla'+'psed'](_0x3f1b63['padEnd'](-0x1*-0x35+0x2239+0x1*-0x225a,'\x20')+'|',..._0x47467a),console['groupEnd']());}};c(bt,'_loggedMes'+'sages',new Set());let v=bt;class mn{static['setName'](_0x45bb17,_0x2e8691){_0x45bb17&&(_0x45bb17['name']=_0x2e8691);}static['setLabel'](_0x576c3f,_0x38c775){_0x576c3f&&(_0x576c3f['label']=_0x38c775);}static['setDestroy'+'ed'](_0x37e20e){_0x37e20e&&(_0x37e20e['__alreadyD'+'estroyed']=!(-0x1*0x803+-0x1eeb+0xcfa*0x3));}}class mS{constructor(_0x112674,_0x50d96b,_0x17f9b4,_0x352547,_0x6a79fd=!(0xb5d+-0x79a+-0x3c2)){c(this,'handler'),c(this,'name'),c(this,'callback'),c(this,'scope'),c(this,'_once'),c(this,'_removed',!(-0x79f*0x1+0x1703+0x12f*-0xd)),(this['handler']=_0x112674,this['name']=_0x50d96b,this['callback']=_0x17f9b4,this['scope']=_0x352547,this['_once']=_0x6a79fd);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x4245ff,_0x2e7493,_0x1abdb4=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x4245ff,_0x2e7493,_0x1abdb4,!(0x4*-0x35e+0x2481+0x218*-0xb));}['once'](_0x27c851,_0x28b853,_0x4c4c43=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x27c851,_0x28b853,_0x4c4c43,!(0x24d5+-0x10fe*-0x2+-0x46d1));}set['removed'](_0x404396){_0x404396&&(this['_removed']=!(-0x1cb2+-0x1069+0x2d1b*0x1));}get['removed'](){return this['_removed'];}}class ce{constructor(){c(this,'_callbacks',new Map()),c(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x31fb7e,_0x3b9f53,_0x17a91a,_0x1c9ba8){if((!_0x31fb7e||typeof _0x31fb7e!='string'||!_0x3b9f53)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x31fb7e+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x3b9f53),this['_callbacks']['has'](_0x31fb7e)||this['_callbacks']['set'](_0x31fb7e,[]),this['_callbackA'+'ctive']['has'](_0x31fb7e)){const _0x4655d9=this['_callbackA'+'ctive']['get'](_0x31fb7e);_0x4655d9&&_0x4655d9===this['_callbacks']['get'](_0x31fb7e)&&this['_callbackA'+'ctive']['set'](_0x31fb7e,_0x4655d9['slice']());}const _0x322ab6=new mS(this,_0x31fb7e,_0x3b9f53,_0x17a91a,_0x1c9ba8);return this['_callbacks']['get'](_0x31fb7e)['push'](_0x322ab6),_0x322ab6;}['on'](_0x15a34f,_0x159018,_0x22cc84=this){return this['_addCallba'+'ck'](_0x15a34f,_0x159018,_0x22cc84,!(-0x1*0x17dd+0x1cfd*0x1+-0x51f));}['once'](_0xd4a872,_0x48efa4,_0x4da365=this){return this['_addCallba'+'ck'](_0xd4a872,_0x48efa4,_0x4da365,!(-0x528+-0x2c1+-0x4b*-0x1b));}['off'](_0x2df1fd,_0x18bb8d,_0xc842c6){if(_0x2df1fd)this['_callbackA'+'ctive']['has'](_0x2df1fd)&&this['_callbackA'+'ctive']['get'](_0x2df1fd)===this['_callbacks']['get'](_0x2df1fd)&&this['_callbackA'+'ctive']['set'](_0x2df1fd,this['_callbackA'+'ctive']['get'](_0x2df1fd)['slice']());else{for(const [_0x2c11ee,_0x452346]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x2c11ee)&&this['_callbacks']['get'](_0x2c11ee)===_0x452346&&this['_callbackA'+'ctive']['set'](_0x2c11ee,_0x452346['slice']());}if(_0x2df1fd){if(_0x18bb8d){const _0x1d3082=this['_callbacks']['get'](_0x2df1fd);if(!_0x1d3082)return this;for(let _0x3f8756=-0xd0c+-0x7e*-0x1b+-0x3e;_0x3f8756<_0x1d3082['length'];_0x3f8756++)_0x1d3082[_0x3f8756]['callback']===_0x18bb8d&&(_0xc842c6&&_0x1d3082[_0x3f8756]['scope']!==_0xc842c6||(_0x1d3082[_0x3f8756]['removed']=!(0x7*-0x561+0x1d3*0x7+0x18e2),_0x1d3082['splice'](_0x3f8756,-0x3*-0x634+0x12ff+0x259a*-0x1),_0x3f8756--));_0x1d3082['length']===0x3*-0xbb7+-0x10*0x16a+0x39c5*0x1&&this['_callbacks']['delete'](_0x2df1fd);}else{const _0x39343f=this['_callbacks']['get'](_0x2df1fd);if(_0x39343f){for(let _0x1c20df=0xead+0x445*-0x7+0xf36;_0x1c20df<_0x39343f['length'];_0x1c20df++)_0x39343f[_0x1c20df]['removed']=!(0x235e+-0x71*-0x3e+-0x3ebc);this['_callbacks']['delete'](_0x2df1fd);}}}else{for(const _0x199115 of this['_callbacks']['values']())for(let _0x202953=-0x1ee0*0x1+0x1*-0x67a+0x255a*0x1;_0x202953<_0x199115['length'];_0x202953++)_0x199115[_0x202953]['removed']=!(-0x55+-0x666+0x1*0x6bb);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x83cbb5){const _0x31c958=_0x83cbb5['name'];_0x83cbb5['removed']=!(0x2495+-0x4*0x6d4+-0x71*0x15),this['_callbackA'+'ctive']['has'](_0x31c958)&&this['_callbackA'+'ctive']['get'](_0x31c958)===this['_callbacks']['get'](_0x31c958)&&this['_callbackA'+'ctive']['set'](_0x31c958,this['_callbackA'+'ctive']['get'](_0x31c958)['slice']());const _0x26ebfe=this['_callbacks']['get'](_0x31c958);if(!_0x26ebfe)return this;const _0x578809=_0x26ebfe['indexOf'](_0x83cbb5);return _0x578809!==-(0xae3+-0x3*0x337+-0x13d)&&(_0x26ebfe['splice'](_0x578809,-0x1959+0x1af*-0x10+-0x6*-0x8b7),_0x26ebfe['length']===0x44c+0x379+-0x7c5&&this['_callbacks']['delete'](_0x31c958)),this;}['fire'](_0x315696,_0x3c197f,_0x1ac8f2,_0x4d652b,_0x4e570e,_0x42ef04,_0x12cb66,_0x3d58ac,_0x1646fb){if(!_0x315696)return this;const _0x2048a2=this['_callbacks']['get'](_0x315696);if(!_0x2048a2)return this;let _0xdac4b6;this['_callbackA'+'ctive']['has'](_0x315696)?this['_callbackA'+'ctive']['get'](_0x315696)!==_0x2048a2&&(_0xdac4b6=_0x2048a2['slice']()):this['_callbackA'+'ctive']['set'](_0x315696,_0x2048a2);for(let _0x3b68a8=0x31*-0x13+0xc38+-0x895*0x1;(_0xdac4b6||this['_callbackA'+'ctive']['get'](_0x315696))&&_0x3b68a8<(_0xdac4b6||this['_callbackA'+'ctive']['get'](_0x315696))['length'];_0x3b68a8++){const _0x48dd90=(_0xdac4b6||this['_callbackA'+'ctive']['get'](_0x315696))[_0x3b68a8];if(_0x48dd90['callback']&&(_0x48dd90['callback']['call'](_0x48dd90['scope'],_0x3c197f,_0x1ac8f2,_0x4d652b,_0x4e570e,_0x42ef04,_0x12cb66,_0x3d58ac,_0x1646fb),_0x48dd90['_once'])){const _0x4cb403=this['_callbacks']['get'](_0x315696),_0x4db096=_0x4cb403?_0x4cb403['indexOf'](_0x48dd90):-(0x1a3a+-0xa1c+-0xb*0x177);if(_0x4db096!==-(0x1*0x12ee+0x1a88+-0x2d75)){this['_callbackA'+'ctive']['get'](_0x315696)===_0x4cb403&&this['_callbackA'+'ctive']['set'](_0x315696,this['_callbackA'+'ctive']['get'](_0x315696)['slice']());const _0x554504=this['_callbacks']['get'](_0x315696);if(!_0x554504)continue;_0x554504[_0x4db096]['removed']=!(-0x181d+-0x25b+0x34f*0x8),_0x554504['splice'](_0x4db096,0x1b05+0x1*-0x766+-0x139e),_0x554504['length']===-0x1e21+0x8ff+0x43a*0x5&&this['_callbacks']['delete'](_0x315696);}}}return _0xdac4b6||this['_callbackA'+'ctive']['delete'](_0x315696),this;}['hasEvent'](_0x4b8aa5){var _0x255ccc;return!!((_0x255ccc=this['_callbacks']['get'](_0x4b8aa5))!=null&&_0x255ccc['length']);}}class _S{constructor(){c(this,'_list',[]),c(this,'_index',{});}['push'](_0x180bfe,_0x5a5ebd){if(this['_index'][_0x180bfe])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x180bfe);const _0x180c0a=this['_list']['push'](_0x5a5ebd)-(0x24ee*-0x1+-0x3*0x346+0x2ec1);this['_index'][_0x180bfe]=_0x180c0a;}['has'](_0x53388c){return this['_index'][_0x53388c]!==void(0xb*-0x1c6+0x9d*-0x7+0x7ef*0x3);}['get'](_0x1ce1b6){const _0x57702c=this['_index'][_0x1ce1b6];return _0x57702c!==void(0x259*0x4+-0xbc8+-0xc*-0x33)?this['_list'][_0x57702c]:null;}['remove'](_0x5e809c){const _0xbaf3a8=this['_index'][_0x5e809c];if(_0xbaf3a8!==void(0xdc9+0x1e9a+-0x2c63)){this['_list']['splice'](_0xbaf3a8,0x13f2+0x19d2+0x1*-0x2dc3),delete this['_index'][_0x5e809c];for(_0x5e809c in this['_index']){const _0x4ad5a1=this['_index'][_0x5e809c];_0x4ad5a1>_0xbaf3a8&&(this['_index'][_0x5e809c]=_0x4ad5a1-(0x2658+-0x30*0x6d+-0x11e7));}return!(0x2*-0x73a+-0x4ae*-0x1+0x342*0x3);}return!(-0x1607+-0x1ef0*-0x1+-0x8e8);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=0x1749*-0x1+0x163d+0x10c;for(const _0x3b32f0 in this['_index'])delete this['_index'][_0x3b32f0];}}const gS=_0x4c1842=>{const _0x5cdaa1={};let _0x6a8443=_0x5cdaa1;return()=>(_0x6a8443===_0x5cdaa1&&(_0x6a8443=_0x4c1842()),_0x6a8443);},Ns=class Ns{static['loadScript'](_0x3ceb6,_0x2f3f5d){const _0x46c843=document['createElem'+'ent']('script');_0x46c843['setAttribu'+'te']('src',_0x3ceb6),_0x46c843['onload']=()=>{_0x2f3f5d(null);},_0x46c843['onerror']=()=>{_0x2f3f5d('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x3ceb6+'\x27');},document['body']['appendChil'+'d'](_0x46c843);}static['loadWasm'](_0x1e4387,_0x2f8982,_0x56cbd7){const _0x57aed6=Ns['wasmSuppor'+'ted']()&&_0x2f8982['glueUrl']&&_0x2f8982['wasmUrl']?_0x2f8982['glueUrl']:_0x2f8982['fallbackUr'+'l'];_0x57aed6?Ns['loadScript'](_0x57aed6,_0x4819b4=>{if(_0x4819b4)_0x56cbd7(_0x4819b4,null);else{const _0x2ddb00=window[_0x1e4387];window[_0x1e4387]=void(0xa32+0x2a1+-0xcd3),_0x2ddb00({'locateFile':()=>_0x2f8982['wasmUrl'],'onAbort':()=>{_0x56cbd7('wasm\x20modul'+'e\x20aborted.');}})['then'](_0xa8c552=>{_0x56cbd7(null,_0xa8c552);});}}):_0x56cbd7('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x85ade4){return Ns['modules']['hasOwnProp'+'erty'](_0x85ade4)||(Ns['modules'][_0x85ade4]={'config':null,'initializing':!(-0x1*-0x3d+0x1*0x21af+0x1*-0x21eb),'instance':null,'callbacks':[]}),Ns['modules'][_0x85ade4];}static['initialize'](_0x5433ee,_0x1acb5f){if(_0x1acb5f['initializi'+'ng'])return;const _0x2f4937=_0x1acb5f['config'];(_0x2f4937['glueUrl']||_0x2f4937['wasmUrl']||_0x2f4937['fallbackUr'+'l'])&&(_0x1acb5f['initializi'+'ng']=!(-0x27d*-0xe+0x1879+-0x7*0x879),Ns['loadWasm'](_0x5433ee,_0x2f4937,(_0xcb5bc8,_0x5f548f)=>{_0xcb5bc8?_0x2f4937['errorHandl'+'er']?_0x2f4937['errorHandl'+'er'](_0xcb5bc8):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x5433ee+'\x20error='+_0xcb5bc8):(_0x1acb5f['instance']=_0x5f548f,_0x1acb5f['callbacks']['forEach'](_0x1b3dda=>{_0x1b3dda(_0x5f548f);}));}));}};c(Ns,'modules',{}),c(Ns,'wasmSuppor'+'ted',gS(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x1dced5=new WebAssembly['Module'](Uint8Array['of'](-0x4*0x417+0x31f*-0x4+0x1cd8,-0x31*-0xb3+-0x8*0x1a3+0x3*-0x6ee,0x98*-0x25+-0x182*0x1+0x7*0x36b,-0x1963+-0x10d8+0x1c*0x186,0x1*0x105d+-0xc94+-0x3c8,0x4*-0x529+-0x1d7*0x2+0x1852,0x1*0x239b+0x1d97+0x2099*-0x2,-0xd8+0xefe+-0xe26*0x1));if(_0x1dced5 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x1dced5)instanceof WebAssembly['Instance'];}}catch{}return!(0x1c29+0x11c3+-0x5*0x92f);}));let Br=Ns;class ay{static['setConfig'](_0x2f8f59,_0x8d3631){const _0x51fbd8=Br['getModule'](_0x2f8f59);_0x51fbd8['config']=_0x8d3631,_0x51fbd8['callbacks']['length']>-0x2599+-0x19*-0x173+0x5*0x46&&Br['initialize'](_0x2f8f59,_0x51fbd8);}static['getConfig'](_0x1b852d){var _0x3dc364,_0x5d8860;return(_0x5d8860=(_0x3dc364=Br['modules'])==null?void(0x3da+-0xb49*0x2+-0x257*-0x8):_0x3dc364[_0x1b852d])==null?void(0x1b43*-0x1+0x65c+0x14e7):_0x5d8860['config'];}static['getInstanc'+'e'](_0x360c25,_0x470ffa){const _0x235165=Br['getModule'](_0x360c25);_0x235165['instance']?_0x470ffa(_0x235165['instance']):(_0x235165['callbacks']['push'](_0x470ffa),_0x235165['config']&&Br['initialize'](_0x360c25,_0x235165));}}class oy{constructor(_0x265da5){c(this,'arraybuffe'+'r'),c(this,'dataView'),c(this,'offset',-0x65f*0x4+0x1fe7+-0x66b),(this['arraybuffe'+'r']=_0x265da5,this['dataView']=new DataView(_0x265da5));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x12fa1d=-0x391*0x1+-0x644+-0x1*-0x9d5){this['offset']=_0x12fa1d;}['skip'](_0x153b56){this['offset']+=_0x153b56;}['align'](_0x1bcdb6){this['offset']=this['offset']+_0x1bcdb6-(0x93*0x31+0x1a8*0x16+-0x4092)&~(_0x1bcdb6-(0x9*-0x36e+-0x1384+-0x3263*-0x1));}['_inc'](_0x28ae0b){return this['offset']+=_0x28ae0b,this['offset']-_0x28ae0b;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x3abc53){let _0x4fd6b8='';for(let _0x6da85f=0x179f+0xc8a+0x2429*-0x1;_0x6da85f<_0x3abc53;++_0x6da85f)_0x4fd6b8+=this['readChar']();return _0x4fd6b8;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](0x125*0x22+0x6b+-0x2753),!(-0x8f3+0x623+-0x2*-0x168));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](-0x2fa+0x8f7+-0x5f9*0x1),!(-0xb*0x91+-0x19f0+0x66f*0x5));}['readU64'](){return this['readU32']()+(0x1c6a+0x126+-0xd*0x246)**(-0x8b*0xa+0x287*-0x5+-0x1*-0x1231)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](-0x43*-0xd+-0x607*0x4+0x1*0x14b9),!(-0x26cb*0x1+-0x1ad2+0x419e));}['readArray'](_0x1e7324){for(let _0x90927b=-0xd*0x123+0x13*-0x5e+0x1*0x15c1;_0x90927b<_0x1e7324['length'];++_0x90927b)_0x1e7324[_0x90927b]=this['readU8']();}['readLine'](){const _0x13f31d=this['dataView'];let _0x3cf688='';for(;!(this['offset']>=_0x13f31d['byteLength']);){const _0x4a536c=String['fromCharCo'+'de'](this['readU8']());if(_0x4a536c==='\x0a')break;_0x3cf688+=_0x4a536c;}return _0x3cf688;}}class wh{constructor(_0x148528){c(this,'items',[]),c(this,'length',-0x1f05+0x13e9+0xb1c),c(this,'loopIndex',-(0xceb*-0x1+0x3*0x67f+0x1*-0x691)),c(this,'_sortBy'),c(this,'_sortHandl'+'er'),(this['_sortBy']=_0x148528['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x1cff14){let _0x1db8f1=0xe74+-0x1*-0x18b2+-0x2726,_0x136081=this['items']['length']-(0x1*-0x7+0x2aa+0x2*-0x151);const _0x1f20d2=_0x1cff14[this['_sortBy']];let _0x4f46a3,_0x58e8ad;for(;_0x1db8f1<=_0x136081;)_0x4f46a3=Math['floor']((_0x1db8f1+_0x136081)/(-0x92b+0x6*0x1d+-0x4b*-0x1d)),_0x58e8ad=this['items'][_0x4f46a3][this['_sortBy']],_0x58e8ad<=_0x1f20d2?_0x1db8f1=_0x4f46a3+(-0x7*-0x57c+-0x196*0x11+-0xb6d):_0x58e8ad>_0x1f20d2&&(_0x136081=_0x4f46a3-(-0xd*0x94+-0xafd+0x2*0x941));return _0x1db8f1;}['_doSort'](_0x11f493,_0x14e94c){const _0x41cb55=this['_sortBy'];return _0x11f493[_0x41cb55]-_0x14e94c[_0x41cb55];}['insert'](_0x1e6c1e){const _0x28c6a9=this['_binarySea'+'rch'](_0x1e6c1e);this['items']['splice'](_0x28c6a9,-0x4*0x74b+0x1d89+0x5d*-0x1,_0x1e6c1e),this['length']++,this['loopIndex']>=_0x28c6a9&&this['loopIndex']++;}['append'](_0xb10764){this['items']['push'](_0xb10764),this['length']++;}['remove'](_0x2bb5bf){const _0x1eb6af=this['items']['indexOf'](_0x2bb5bf);_0x1eb6af<0x1*-0xf5b+0x7*0x4e7+0x1*-0x12f6||(this['items']['splice'](_0x1eb6af,0x35e*0x9+-0x1*-0x189f+-0x36ec),this['length']--,this['loopIndex']>=_0x1eb6af&&this['loopIndex']--);}['sort'](){const _0x5922ef=this['loopIndex']>=0x685*-0x1+0x6b3+0x1*-0x2e?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x5922ef!==null&&(this['loopIndex']=this['items']['indexOf'](_0x5922ef));}}class po extends ce{constructor(_0xeb2c5){super(),c(this,'_index',{}),c(this,'_list',[]),this['_parent']=_0xeb2c5;}['add'](..._0x45ffad){let _0x1019d5=!(0x2*0x665+0x5*-0x40a+0x769*0x1);const _0x5ca4c1=this['_processAr'+'guments'](_0x45ffad,!(0x5bb*0x2+0x102f*0x2+-0x2bd4));if(!_0x5ca4c1['length'])return _0x1019d5;for(let _0x44994a=0x4d6+-0xf3*-0x11+-0x3b*0x5b;_0x44994a<_0x5ca4c1['length'];_0x44994a++)this['_index'][_0x5ca4c1[_0x44994a]]||(_0x1019d5=!(-0x1*0xb17+-0x395*0x6+0x2095),this['_index'][_0x5ca4c1[_0x44994a]]=!(-0x1*0x247f+0x1d*0xdf+0xb3c),this['_list']['push'](_0x5ca4c1[_0x44994a]),this['fire']('add',_0x5ca4c1[_0x44994a],this['_parent']));return _0x1019d5&&this['fire']('change',this['_parent']),_0x1019d5;}['remove'](..._0x4dced1){let _0x3280be=!(0x1974+-0xcae+-0xcc5);if(!this['_list']['length'])return _0x3280be;const _0x52ef30=this['_processAr'+'guments'](_0x4dced1,!(0x58f+0x1d27*-0x1+0x1798));if(!_0x52ef30['length'])return _0x3280be;for(let _0x1930ab=-0x1afa+-0x1195+0x29f*0x11;_0x1930ab<_0x52ef30['length'];_0x1930ab++)this['_index'][_0x52ef30[_0x1930ab]]&&(_0x3280be=!(-0xd95+0x1*0x983+0x412),delete this['_index'][_0x52ef30[_0x1930ab]],this['_list']['splice'](this['_list']['indexOf'](_0x52ef30[_0x1930ab]),0x5*0x2+-0x973+0xa*0xf1),this['fire']('remove',_0x52ef30[_0x1930ab],this['_parent']));return _0x3280be&&this['fire']('change',this['_parent']),_0x3280be;}['clear'](){if(!this['_list']['length'])return;const _0x385051=this['_list']['slice'](-0x11*0xfd+-0xf9c+0x2069);this['_list']=[],this['_index']={};for(let _0x1d6ec3=0x7*-0xdc+0x1*0x833+-0x22f;_0x1d6ec3<_0x385051['length'];_0x1d6ec3++)this['fire']('remove',_0x385051[_0x1d6ec3],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x42b9cc){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x42b9cc)):!(0x5d+-0x101+0xa5);}['_has'](_0x53095e){if(!this['_list']['length']||!_0x53095e['length'])return!(0x1b88+-0x1*0x795+-0x6f*0x2e);for(let _0x369c29=-0x1f79*-0x1+-0x2322+0x3a9*0x1;_0x369c29<_0x53095e['length'];_0x369c29++)if(_0x53095e[_0x369c29]['length']===0x12a*-0xa+-0xf54+-0x565*-0x5){if(this['_index'][_0x53095e[_0x369c29][0xd3*0xd+-0x88*0x1b+0x3a1]])return!(-0x13*-0x4b+-0x21f+-0x372);}else{let _0x156980=!(-0x3*0x250+-0x15a0*0x1+0x1c90);for(let _0x1edb19=-0x3*0x47f+-0x1564+-0x1*-0x22e1;_0x1edb19<_0x53095e[_0x369c29]['length'];_0x1edb19++)if(!this['_index'][_0x53095e[_0x369c29][_0x1edb19]]){_0x156980=!(0x19*-0xa5+-0x1*-0x2615+-0x15f7);break;}if(_0x156980)return!(-0x24*0xca+-0x7c8+-0x2430*-0x1);}return!(0x570*0x2+-0x1*0x6cb+-0x4*0x105);}['list'](){return this['_list']['slice'](0x130a*-0x1+-0x564+0x1*0x186e);}['_processAr'+'guments'](_0x3e0d06,_0x16d941){const _0x22ad18=[];let _0x219aed=[];if(!_0x3e0d06||!_0x3e0d06['length'])return _0x22ad18;for(let _0x2818f6=0x1*-0xf72+-0x1c11+0x2b83*0x1;_0x2818f6<_0x3e0d06['length'];_0x2818f6++)if(_0x3e0d06[_0x2818f6]instanceof Array){_0x16d941||(_0x219aed=[]);for(let _0x18628b=0x2*0x21e+-0x2*-0x38+-0x12b*0x4;_0x18628b<_0x3e0d06[_0x2818f6]['length'];_0x18628b++)typeof _0x3e0d06[_0x2818f6][_0x18628b]=='string'&&(_0x16d941?_0x22ad18['push'](_0x3e0d06[_0x2818f6][_0x18628b]):_0x219aed['push'](_0x3e0d06[_0x2818f6][_0x18628b]));!_0x16d941&&_0x219aed['length']&&_0x22ad18['push'](_0x219aed);}else typeof _0x3e0d06[_0x2818f6]=='string'&&(_0x16d941?_0x22ad18['push'](_0x3e0d06[_0x2818f6]):_0x22ad18['push']([_0x3e0d06[_0x2818f6]]));return _0x22ad18;}get['size'](){return this['_list']['length'];}}c(po,'EVENT_ADD','add'),c(po,'EVENT_REMO'+'VE','remove'),c(po,'EVENT_CHAN'+'GE','change');const ne=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],yS=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class sd{constructor(_0x2f8b03){c(this,'scheme'),c(this,'authority'),c(this,'path'),c(this,'query'),c(this,'fragment');const _0x5d6ff7=_0x2f8b03['match'](yS);this['scheme']=_0x5d6ff7[-0x1b91+0x1039+-0xb5a*-0x1],this['authority']=_0x5d6ff7[-0x21fb+-0x2626+0x4825],this['path']=_0x5d6ff7[-0x1d4b*-0x1+0x1e75+0x6a3*-0x9],this['query']=_0x5d6ff7[0x23cb*-0x1+-0x17e3*0x1+0x3bb5],this['fragment']=_0x5d6ff7[0x333+-0xd06+0x4*0x277];}['toString'](){let _0x1e0343='';return this['scheme']&&(_0x1e0343+=this['scheme']+':'),this['authority']&&(_0x1e0343+='//'+this['authority']),_0x1e0343+=this['path'],this['query']&&(_0x1e0343+='?'+this['query']),this['fragment']&&(_0x1e0343+='#'+this['fragment']),_0x1e0343;}['getQuery'](){const _0xdc7756={};if(this['query']){const _0x2afe68=decodeURIComponent(this['query'])['split']('&');for(const _0x5bba4c of _0x2afe68){const _0x5f5a53=_0x5bba4c['split']('=');_0xdc7756[_0x5f5a53[0x59a+0x1276+-0x8c*0x2c]]=_0x5f5a53[-0x3a4*-0x1+0x2*-0x91+-0x281*0x1];}}return _0xdc7756;}['setQuery'](_0x187acc){let _0x4be0f5='';for(const _0x393ad2 in _0x187acc)_0x187acc['hasOwnProp'+'erty'](_0x393ad2)&&(_0x4be0f5!==''&&(_0x4be0f5+='&'),_0x4be0f5+=encodeURIComponent(_0x393ad2)+'='+encodeURIComponent(_0x187acc[_0x393ad2]));this['query']=_0x4be0f5;}}const xS=-0x24a3*0x1+0x13a4+0x10ff,Df=-0xe3c+-0x22e9+0x3126,sm=0x26e1+-0x1fb9+0x2*-0x392,SS=-0x22e6+0x6d9*-0x1+0x29c4,N={'DEG_TO_RAD':Math['PI']/(0x9c2*-0x4+-0x1*0x1283+0x1e1*0x1f),'RAD_TO_DEG':(-0xa25*0x2+0x2*0x679+-0x80c*-0x1)/Math['PI'],'clamp'(_0x5f4396,_0x56cf36,_0x54b77a){return _0x5f4396>=_0x54b77a?_0x54b77a:_0x5f4396<=_0x56cf36?_0x56cf36:_0x5f4396;},'intToBytes24'(_0x3b5964){const _0x58fffb=_0x3b5964>>0x9d*0x1+-0x1a20+0x1993&0x1f6c+0x1765+0x35d2*-0x1,_0x1accb8=_0x3b5964>>-0x1fb8+0x1009+-0x1b*-0x95&0x1b9+-0xfc4+-0xb*-0x15e,_0x2aaa25=_0x3b5964&-0x1deb+0x6a*0x2+0x1e16;return[_0x58fffb,_0x1accb8,_0x2aaa25];},'intToBytes32'(_0x34f7c7){const _0x498cec=_0x34f7c7>>0x1*-0xcfb+-0xdcc+0x1*0x1adf&-0x7e1*-0x1+0x654+-0x59*0x26,_0x298fbc=_0x34f7c7>>-0x1ea9+0x1b9+-0x2*-0xe80&0xc0*0x25+-0x16a9*0x1+-0x418,_0xf74d43=_0x34f7c7>>0xd32*-0x1+-0xed1+0x1c0b&-0x3d9+0x10c*0x17+-0x133c*0x1,_0x240800=_0x34f7c7&-0x1f67+0xc4+0x1fa2;return[_0x498cec,_0x298fbc,_0xf74d43,_0x240800];},'bytesToInt24'(_0x2c0d95,_0xcd9eca,_0x10d0e4){return _0x2c0d95['length']&&(_0x10d0e4=_0x2c0d95[0x4a3+0x4c*-0x6e+0x1c07],_0xcd9eca=_0x2c0d95[-0x1788+0x1322+-0x31*-0x17],_0x2c0d95=_0x2c0d95[-0x1fc3*0x1+-0x1*0x2524+-0x44e7*-0x1]),_0x2c0d95<<-0x406*0x2+-0x7b1+0xfcd|_0xcd9eca<<0x11a5*0x2+0x228e+-0x45d0*0x1|_0x10d0e4;},'bytesToInt32'(_0x2d4080,_0xd29340,_0x1978b0,_0x40bddf){return _0x2d4080['length']&&(_0x40bddf=_0x2d4080[0x1f3d+0x1f4b+-0x42b*0xf],_0x1978b0=_0x2d4080[-0x1*0x1e09+0x289+0x1b82],_0xd29340=_0x2d4080[-0x383*0x7+0x179a+0xfc],_0x2d4080=_0x2d4080[0x1cb4+0x2701+-0x43b5]),(_0x2d4080<<0x3*0xc+-0x82f*-0x4+0x1*-0x20c8|_0xd29340<<0x2c3*0x3+0x1b45+-0x237e|_0x1978b0<<-0x16d2+-0x1*0x180b+-0x1*-0x2ee5|_0x40bddf)>>>-0x7*0x477+0x38b*0xb+0x1*-0x7b8;},'lerp'(_0x2a6fdc,_0x468e0a,_0x2667fe){return _0x2a6fdc+(_0x468e0a-_0x2a6fdc)*N['clamp'](_0x2667fe,0xb37+-0x7fb*0x4+-0xab*-0x1f,0x2f3+0x1a7e*0x1+-0x1d70);},'lerpAngle'(_0x3a3412,_0x54fbd9,_0x54cfc0){return _0x54fbd9-_0x3a3412>-0x1dc5*-0x1+0xa*0x1bd+0x2e73*-0x1&&(_0x54fbd9-=-0x5c6+-0x462+0xb90),_0x54fbd9-_0x3a3412<-(-0x1*-0x123e+0x1085+-0x220f)&&(_0x54fbd9+=0x137e*0x1+-0x81f*0x2+0x3b*-0x8),N['lerp'](_0x3a3412,_0x54fbd9,N['clamp'](_0x54cfc0,-0x78a+-0x1*-0x24df+0x1*-0x1d55,0x1*-0x204a+0x1*0x1e7+0x1e64));},'powerOfTwo'(_0x57c0ee){return _0x57c0ee!==0x117b+-0x1*0x16c+0x1*-0x100f&&!(_0x57c0ee&_0x57c0ee-(-0x186d*0x1+0x241+0x162d));},'nextPowerOfTwo'(_0x1bd37c){return _0x1bd37c--,_0x1bd37c|=_0x1bd37c>>-0x5e3+-0x2030+0x2614,_0x1bd37c|=_0x1bd37c>>0x7*-0x430+0x1a7b*-0x1+0x37cd,_0x1bd37c|=_0x1bd37c>>0x2*0x1ad+-0x112+0x4*-0x91,_0x1bd37c|=_0x1bd37c>>-0x665*0x6+0x224c+0x41a,_0x1bd37c|=_0x1bd37c>>-0x54a*-0x1+0xa4+0x5de*-0x1,_0x1bd37c++,_0x1bd37c;},'nearestPowerOfTwo'(_0x27a4fc){return Math['pow'](0x2*0x307+-0x25fe+0xaa6*0x3,Math['round'](Math['log'](_0x27a4fc)/Math['log'](0x1468+0x25a9+-0x3a0f)));},'random'(_0xf4dfe7,_0x4996c6){const _0x198ff1=_0x4996c6-_0xf4dfe7;return Math['random']()*_0x198ff1+_0xf4dfe7;},'smoothstep'(_0x314bec,_0x3c657b,_0x455875){return _0x455875<=_0x314bec?0x3*-0x8cb+-0x3d7+-0x8*-0x3c7:_0x455875>=_0x3c657b?-0x6*0x349+-0xdca+0x2181:(_0x455875=(_0x455875-_0x314bec)/(_0x3c657b-_0x314bec),_0x455875*_0x455875*(0x1bcb+-0x17f8+0x1*-0x3d0-(-0x16*-0x190+-0x71e+-0x4*0x6d0)*_0x455875));},'smootherstep'(_0x51253c,_0x4fc54f,_0x15cdf1){return _0x15cdf1<=_0x51253c?-0x166*0x3+-0x1*-0x2497+-0x2065:_0x15cdf1>=_0x4fc54f?0x1c86*0x1+-0x4e8*0x5+-0x3fd:(_0x15cdf1=(_0x15cdf1-_0x51253c)/(_0x4fc54f-_0x51253c),_0x15cdf1*_0x15cdf1*_0x15cdf1*(_0x15cdf1*(_0x15cdf1*(-0x2*-0xe3+-0x1141+0x237*0x7)-(0xc*0x2b9+0x1b7*-0x13+-0x2*0x4))+(-0xb*0x296+-0x1e74*-0x1+-0x48*0x7)));},'roundUp'(_0x1c3622,_0x4fda7d){return _0x4fda7d===0x236c+-0x2*-0x108b+0xed*-0x4a?_0x1c3622:Math['ceil'](_0x1c3622/_0x4fda7d)*_0x4fda7d;},'between'(_0x52d02b,_0x12a750,_0x23be8b,_0x495571){const _0x289701=Math['min'](_0x12a750,_0x23be8b),_0x17a0ce=Math['max'](_0x12a750,_0x23be8b);return _0x495571?_0x52d02b>=_0x289701&&_0x52d02b<=_0x17a0ce:_0x52d02b>_0x289701&&_0x52d02b<_0x17a0ce;}},it=class it{constructor(_0x2c9774=-0x6b+0xfe1+0x7bb*-0x2,_0x213f34=0x205d+-0x2*-0xe95+0x3d87*-0x1,_0x591a74=0x156a+0x3*-0x429+0x1*-0x8ef,_0x5bba06=-0x4a*-0x7b+0x97*0x28+-0x135*0x31){c(this,'r'),c(this,'g'),c(this,'b'),c(this,'a');const _0x1b91bb=_0x2c9774['length'];_0x1b91bb===-0xace*-0x3+0x19d0+-0x3a37||_0x1b91bb===-0x795*0x1+0x1a8c+-0x12f3*0x1?(this['r']=_0x2c9774[-0x5fd+-0x1980+-0x3*-0xa7f],this['g']=_0x2c9774[0x194*-0x17+-0x29*-0xb+0x228a],this['b']=_0x2c9774[0x1240+0x1*0x1d89+-0x2fc7],this['a']=_0x2c9774[-0x18f0+-0x5*0x712+-0x1*-0x3c4d]??0x12d0+0x12b1+-0x2580):(this['r']=_0x2c9774,this['g']=_0x213f34,this['b']=_0x591a74,this['a']=_0x5bba06);}['clone'](){const _0x4aa557=this['constructo'+'r'];return new _0x4aa557(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x48b751){return this['r']=_0x48b751['r'],this['g']=_0x48b751['g'],this['b']=_0x48b751['b'],this['a']=_0x48b751['a'],this;}['equals'](_0x4dbd5f){return this['r']===_0x4dbd5f['r']&&this['g']===_0x4dbd5f['g']&&this['b']===_0x4dbd5f['b']&&this['a']===_0x4dbd5f['a'];}['set'](_0x31302f,_0x2794d3,_0x5d735e,_0x2d2524=0x17b3*-0x1+0x1092+0x722){return this['r']=_0x31302f,this['g']=_0x2794d3,this['b']=_0x5d735e,this['a']=_0x2d2524,this;}['lerp'](_0x300173,_0x461f87,_0x3560d5){return this['r']=_0x300173['r']+_0x3560d5*(_0x461f87['r']-_0x300173['r']),this['g']=_0x300173['g']+_0x3560d5*(_0x461f87['g']-_0x300173['g']),this['b']=_0x300173['b']+_0x3560d5*(_0x461f87['b']-_0x300173['b']),this['a']=_0x300173['a']+_0x3560d5*(_0x461f87['a']-_0x300173['a']),this;}['linear'](_0x4f34d7=this){return this['r']=Math['pow'](_0x4f34d7['r'],0x1187*0x2+-0x1bca+-0x2*0x3a1+0.20000000000000018),this['g']=Math['pow'](_0x4f34d7['g'],-0x197*-0xe+0x11f9*-0x1+0xf*-0x49+0.20000000000000018),this['b']=Math['pow'](_0x4f34d7['b'],0x2*-0x1381+-0x412+0x2*0x158b+0.20000000000000018),this['a']=_0x4f34d7['a'],this;}['gamma'](_0x1caa8e=this){return this['r']=Math['pow'](_0x1caa8e['r'],(-0x1*0x16f+-0x65d+0x7cd)/(-0x1b46+0x1da3+-0x25b+0.20000000000000018)),this['g']=Math['pow'](_0x1caa8e['g'],(-0x1e7*0x1+0xa7*0x2b+0x3*-0x8b7)/(-0x36*0x96+0x23*0x10c+0x27f*-0x2+0.20000000000000018)),this['b']=Math['pow'](_0x1caa8e['b'],(0x216e+0x1*0x181d+-0x398a)/(0xaae*0x1+0x16*-0xad+-0x166*-0x3+0.20000000000000018)),this['a']=_0x1caa8e['a'],this;}['mulScalar'](_0x2f9acb){return this['r']*=_0x2f9acb,this['g']*=_0x2f9acb,this['b']*=_0x2f9acb,this;}['fromString'](_0xebc886){const _0x5dddb9=parseInt(_0xebc886['replace']('#','0x'),0x35f*0x6+-0xb9c+0x1b6*-0x5);let _0xdc5ff0;return _0xebc886['length']>-0x51b+0xc12+-0x3*0x250?_0xdc5ff0=N['intToBytes'+'32'](_0x5dddb9):(_0xdc5ff0=N['intToBytes'+'24'](_0x5dddb9),_0xdc5ff0[0x1*0x1dc3+-0x2287+0x4c7]=0x21f2+0x5*-0x2a2+-0x13c9),this['set'](_0xdc5ff0[-0xb*-0x2bd+0x1afa+-0x1*0x3919]/(0xbdf+-0x546+0x1de*-0x3),_0xdc5ff0[-0x1254*0x2+-0x5*-0x7c1+-0x21c]/(-0x1b82+0x1*-0x2092+0x127*0x35),_0xdc5ff0[0x1*-0x16c1+-0x1bed+0x32b0]/(0x6f*-0x56+-0xf53+-0xbc*-0x49),_0xdc5ff0[0xd*-0x1bb+-0x826*0x1+0x1ea8]/(-0x133*0x13+0x1ac9+-0x1*0x301)),this;}['fromArray'](_0x1ca08b,_0x4373e1=0x1e60+-0x514+-0xca6*0x2){return this['r']=_0x1ca08b[_0x4373e1]??this['r'],this['g']=_0x1ca08b[_0x4373e1+(-0x127a+0x1*0x70b+0xf4*0xc)]??this['g'],this['b']=_0x1ca08b[_0x4373e1+(0x1*0x2458+-0x1*-0x705+0xb*-0x3f1)]??this['b'],this['a']=_0x1ca08b[_0x4373e1+(0x1f98+0x143c+-0x33d1)]??this['a'],this;}['toString'](_0x506dd9,_0x18871a){const {r:_0x72ec3,g:_0x3e2d67,b:_0x133920,a:_0x224338}=this;if(_0x18871a||_0x72ec3>-0x901+0x2a*-0xe5+0x2*0x174a||_0x3e2d67>0x51*-0x21+-0x2*-0x2e7+0x1b*0x2c||_0x133920>-0xba8+-0xe43+0x1c*0xed)return _0x72ec3['toFixed'](0xad7+-0x44e*-0x1+0xd*-0x12a)+',\x20'+_0x3e2d67['toFixed'](-0x2ab+0x236*0x4+-0x62a)+',\x20'+_0x133920['toFixed'](0x1c0d+0x202*0x13+-0x423*0x10)+',\x20'+_0x224338['toFixed'](-0x110b+0x58f*0x1+0xb7f);let _0x5517fa='#'+((-0xfa6+0x18d7*-0x1+0x287e<<0xd*-0x16a+-0x1f3b+0x31b5*0x1)+(Math['round'](_0x72ec3*(0x1b54+0x1801+-0x1*0x3256))<<0x1512+-0xe9*-0x18+-0x2ada)+(Math['round'](_0x3e2d67*(-0xf*0xfb+0x443*0x3+0x2eb))<<-0x2*0x788+-0x1*0x147d+-0x1*-0x2395)+Math['round'](_0x133920*(-0x5*0x1bd+0x237d+-0x19cd*0x1)))['toString'](-0x1ed4+0x898+0x164c)['slice'](0x2*-0x1135+-0x6*0x5fb+0x464d);if(_0x506dd9===!(0x1dd6+0x13a5+0x317b*-0x1)){const _0x1ca621=Math['round'](_0x224338*(0x936+0x1a6a*0x1+0xf*-0x24f))['toString'](-0x1f3e+-0xd54*0x2+0x39f6);this['a']<(-0x21d*0x5+0x1f8b+0x1*-0x14ea)/(0x1*0x1a4b+0x1*0x7c3+-0x210f)?_0x5517fa+='0'+_0x1ca621:_0x5517fa+=_0x1ca621;}return _0x5517fa;}['toArray'](_0x415144=[],_0x53f1f9=0x2699+0x40+-0x26d9,_0x50f64f=!(-0x59*-0x49+-0xf87+-0x9da)){return _0x415144[_0x53f1f9]=this['r'],_0x415144[_0x53f1f9+(0x19*-0x76+0x3d5*0x9+-0x16f6)]=this['g'],_0x415144[_0x53f1f9+(0x1e3b+-0x4bf+-0x197a)]=this['b'],_0x50f64f&&(_0x415144[_0x53f1f9+(-0x39d+0x1cf1*0x1+-0x1951*0x1)]=this['a']),_0x415144;}};c(it,'BLACK',Object['freeze'](new it(0x271*0x1+-0xa*0x3e3+0x175*0x19,-0x2*-0x1053+-0x13*-0x61+-0x1*0x27d9,0x7b*0x1a+0x2*0x36a+-0x1352,0x2001+-0x34e*0x1+-0x1cb2))),c(it,'BLUE',Object['freeze'](new it(-0x77b*0x5+0x4cf+0x2*0x104c,-0x5f5*-0x4+0x1c6c+-0x3440,0x1*-0x32c+0xa13+0x2*-0x373,0x377*0xa+-0x1*0x12a1+-0xcd*0x14))),c(it,'CYAN',Object['freeze'](new it(-0x45*0x1+0x41*-0x2f+0xc34,-0x1cef+0x5c4+0x172c,0x3db*-0xa+0x2*-0x503+-0x1*-0x3095,0x223d*0x1+-0x56+-0x21e6))),c(it,'GRAY',Object['freeze'](new it(-0x6aa+-0x2198+0x2842+0.5,-0x288+0x867+-0x5df+0.5,0x2155+0x9c1*-0x1+-0x1794+0.5,-0x2357+-0x23*0xbc+-0x1e86*-0x2))),c(it,'GREEN',Object['freeze'](new it(-0x21f4+0x135f*-0x1+0x3553,-0x3f*0x8d+0xc61+-0x17d*-0xf,0x8b9+-0x25b3+0x2*0xe7d,-0x1ceb*0x1+0x1c11+0xdb*0x1))),c(it,'MAGENTA',Object['freeze'](new it(0x7d9+0x1b79+0x2351*-0x1,-0x1f63+-0x21a9+0x410c,0x3b*0x1a+-0x1e9*0x2+-0x3*0xb9,0x3*0x4b1+-0x633+-0x7df))),c(it,'RED',Object['freeze'](new it(0x9*0x298+0x20d0+-0x73*0x7d,-0x9*0x26c+0x1*0x1738+-0x2*0xb6,0xef2+0xeec+-0x1dde,-0x478+-0xb0+0x529*0x1))),c(it,'WHITE',Object['freeze'](new it(-0xe66*0x1+0xda*-0xd+-0x1979*-0x1,-0xf*-0x137+-0x16ce+0x1*0x496,0x26*0x74+-0x144+-0xff3,-0x5db+-0x2*-0xaf9+-0x1016*0x1))),c(it,'YELLOW',Object['freeze'](new it(0x1800+-0x21ca+-0x6d*-0x17,-0xc2a*-0x3+0x36e+0xb*-0x3a1,-0x3*-0x267+0x1f53+0x4d1*-0x8,-0x3f5+-0x19dc+0x15b*0x16)));let Y=it;class ly{constructor(_0x4acaff,_0xbc2612=0x295*0x5+0x1*-0xad8+-0x211){c(this,'_curve'),c(this,'_left',-(-0x6fb+0x22fc+-0x1c00*0x1)/(-0xfb7+0x33*0xc+0xd53)),c(this,'_right',(-0x2646+0x1ca7+-0x16*-0x70)/(0x266d+-0x2710+0x1*0xa3)),c(this,'_recip',-0x2*0x904+0x61f*0x4+-0x674),c(this,'_p0',0x2*-0xf3e+0x9*-0x2bd+-0x3721*-0x1),c(this,'_p1',0x1*0x24e7+0x16*-0x101+-0x1*0xed1),c(this,'_m0',0xf2c+-0xbdc+-0x350),c(this,'_m1',0x1*0x160d+-0x19f+-0x146e),(this['_curve']=_0x4acaff,this['_reset'](_0xbc2612));}['evaluate'](_0x537898,_0x544d92=!(0x9c3*-0x3+-0x19f5+0x373f*0x1)){(_0x544d92||_0x537898<this['_left']||_0x537898>=this['_right'])&&this['_reset'](_0x537898);let _0x4310f3;const _0x5d07fe=this['_curve']['type'];if(_0x5d07fe===SS)_0x4310f3=this['_p0'];else{const _0x5df8e8=this['_recip']===-0xb23*0x1+0x2cf*-0xa+-0x3*-0xd13?0x1ee2+0x5*0x4e5+-0x375b*0x1:(_0x537898-this['_left'])*this['_recip'];_0x5d07fe===xS?_0x4310f3=N['lerp'](this['_p0'],this['_p1'],_0x5df8e8):_0x5d07fe===Df?_0x4310f3=N['lerp'](this['_p0'],this['_p1'],_0x5df8e8*_0x5df8e8*(0x3fd*-0x1+0x11ab*0x1+-0xdab-(-0x26d2*0x1+-0x1767*0x1+-0x59*-0xb3)*_0x5df8e8)):_0x4310f3=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x5df8e8);}return _0x4310f3;}['_reset'](_0x598aeb){const _0x543828=this['_curve']['keys'],_0x3c0e55=_0x543828['length'];if(!_0x3c0e55)this['_left']=-(-0x3d*-0x20+0x9fd*-0x1+0x25e)/(-0x7d9*0x4+0x8*0x125+0x163c),this['_right']=(0x1a14+-0x1e59+0x446)/(0x1b7+0x1*0x1e4f+-0x2006),this['_recip']=0x4*0x7ff+0x217f+0x417b*-0x1,this['_p0']=this['_p1']=this['_m0']=this['_m1']=0x15d8+0x36d*0x1+-0x1945;else{if(_0x598aeb<_0x543828[0x2*0xc5f+-0x66b+-0x1253][-0x1*-0x9da+0x1b88+-0x2562])this['_left']=-(-0x1*0x2635+0x1c30+0xa06)/(0x1905+0x26a4+-0x2b*0x17b),this['_right']=_0x543828[0xc9+0x1*0xa79+-0xb42][0x150e+0x1*0xe03+-0x2311],this['_recip']=-0x1*0xe6f+-0x33d*-0x6+0x4ff*-0x1,this['_p0']=this['_p1']=_0x543828[-0x1*-0x6b5+-0xdfd*0x1+0x748][-0x1b*-0xf2+0x1a72+0xfb*-0x35],this['_m0']=this['_m1']=-0x1825+-0x1084+-0x28a9*-0x1;else{if(_0x598aeb>=_0x543828[_0x3c0e55-(-0x121a+0x23a8+-0x1*0x118d)][-0x11c2+0x114e+0x1*0x74])this['_left']=_0x543828[_0x3c0e55-(-0x1606+-0x1163*0x2+-0x3*-0x12ef)][-0xe52+0xb50+0x5*0x9a],this['_right']=(-0xdcf+-0x17da+0x25aa)/(0x61e*-0x5+-0x23bd+0x4253),this['_recip']=-0x266a+-0x1866+0x3ed0,this['_p0']=this['_p1']=_0x543828[_0x3c0e55-(0x67*-0x40+0x1*-0x1311+0x2cd2)][0xac*-0x1e+-0x1e37+-0x2*-0x1930],this['_m0']=this['_m1']=-0x10*0x2+-0x1*0x6e3+0x703;else{let _0x2d22f7=-0xbe6+0x1e6f+0x41*-0x49;for(;_0x598aeb>=_0x543828[_0x2d22f7+(0xb*-0x27b+0x1*0x1085+0xac5)][0x152b*0x1+0x1*-0x1c97+0x76c];)_0x2d22f7++;this['_left']=_0x543828[_0x2d22f7][-0x27b+-0x2579+-0x1*-0x27f4],this['_right']=_0x543828[_0x2d22f7+(-0x4*-0x2af+0xb6c+-0x6b*0x35)][0xc97+-0x2*0x11a1+0x16ab];const _0x56b361=(-0xe88+0x298+-0xbf1*-0x1)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x56b361)?_0x56b361:0xc1b*-0x1+0x12aa+-0x68f,this['_p0']=_0x543828[_0x2d22f7][0x2162+0x228b+-0x2*0x21f6],this['_p1']=_0x543828[_0x2d22f7+(0x1f8a+0x6*0x60c+-0x1*0x43d1)][-0x4c*-0x3b+0x1*0xc43+-0x1dc6],this['_curve']['type']===sm&&this['_calcTange'+'nts'](_0x543828,_0x2d22f7);}}}}['_calcTange'+'nts'](_0x516f7b,_0x1c42e7){let _0x352933;const _0x40b6cb=_0x516f7b[_0x1c42e7],_0x381aeb=_0x516f7b[_0x1c42e7+(0x1c3d*-0x1+0x179b+-0x1*-0x4a3)];let _0x3c42b9;if(_0x1c42e7===0x1a6*0x12+0x1d1b*-0x1+0x1*-0x91?_0x352933=[_0x516f7b[0xe7d*-0x1+-0x4e9+0x1a*0xbf][-0x1936+-0x5*-0x454+-0x392*-0x1]+(_0x516f7b[0x150c+0x936+-0x1e42][-0x156a+0x31*0xb5+-0xd3b]-_0x516f7b[0x10a8+0x18e9+-0x2990][0xa*0x22d+0xaad*0x3+-0x35c9]),_0x516f7b[0xc43+0x14f+-0xd92][0x1dc3+0x640+-0x2*0x1201]+(_0x516f7b[0xd6e*-0x1+0x3*-0x215+0x13ad][-0x1*0x2395+0x19bf+0x9d7]-_0x516f7b[0x3e9+0x4e1*-0x4+-0x25*-0x6c][0x84e*-0x1+0xbc*0x16+-0x7d9*0x1])]:_0x352933=_0x516f7b[_0x1c42e7-(-0x20a9+-0x1*-0x128b+0xe1f)],_0x1c42e7===_0x516f7b['length']-(-0x675*-0x1+-0x233f*-0x1+-0x29b2)?_0x3c42b9=[_0x516f7b[_0x1c42e7+(-0x11b1+-0xcdf+0x1e91*0x1)][0x57b*-0x1+0x77*-0x1a+0x1191]+(_0x516f7b[_0x1c42e7+(0x18*0x40+-0x2004+0x1a05)][0xb*0x117+0x178b+-0x4*0x8e2]-_0x516f7b[_0x1c42e7][-0x17b8+0x18d0+-0x118]),_0x516f7b[_0x1c42e7+(-0x1ac1+-0x139c+0x2e5e)][0xad0+-0x435+-0x34d*0x2]+(_0x516f7b[_0x1c42e7+(0x21f*-0x2+0x1*0x851+0x412*-0x1)][0xa8b+-0x252f+-0x1*-0x1aa5]-_0x516f7b[_0x1c42e7][-0x26ac*-0x1+0x1fa8+-0x4653])]:_0x3c42b9=_0x516f7b[_0x1c42e7+(0x151c+0x5e7+0x1*-0x1b01)],this['_curve']['type']===sm){const _0x439095=(-0x2c*0xc7+-0x9cb*0x1+0x8cd*0x5)*(_0x381aeb[-0x55a+-0x6fe+0x4f*0x28]-_0x40b6cb[0x1*-0x1fb1+0x11de+0xdd3])/(_0x381aeb[0x1d2a+-0x190c+-0x20f*0x2]-_0x352933[0xa55+0xf0+-0xb45]),_0x5ac9fe=(-0xd2d+-0x131a+0x11d*0x1d)*(_0x381aeb[-0x1d45*0x1+-0x1f3*0x2+0x4bd*0x7]-_0x40b6cb[-0x2*0xb2a+0xf83+0x6d1])/(_0x3c42b9[0x1d3*-0x1+-0x2*0x766+-0x353*-0x5]-_0x40b6cb[-0x1*0x251+0x17*-0x126+-0x1cbb*-0x1]);this['_m0']=this['_curve']['tension']*(isFinite(_0x439095)?_0x439095:-0x9f+0x1*-0x1521+0x15c0)*(_0x381aeb[0xeb6+-0xfc4+0x10f]-_0x352933[0xee8+-0x446*0x1+0x38b*-0x3]),this['_m1']=this['_curve']['tension']*(isFinite(_0x5ac9fe)?_0x5ac9fe:0x163d+0x1766+-0x2da3)*(_0x3c42b9[-0xd4a+-0x25bd+-0xb8*-0x47]-_0x40b6cb[0x7*-0x28d+-0x37*-0x18+-0x6*-0x21e]);}else{const _0x1f27c5=(_0x381aeb[0xad9*0x2+-0x2029*-0x1+0x32b*-0x11]-_0x40b6cb[-0x1bec+0x3*-0x8d8+-0xd9d*-0x4])/(_0x40b6cb[0xd9e+-0x2*-0x5d5+-0x4*0x652]-_0x352933[0x1437+-0x371+-0x2*0x863]),_0x4daed8=(_0x381aeb[-0x44f+-0x2449+-0x6c4*-0x6]-_0x40b6cb[-0x2521+0x123*0x1d+0x42a])/(_0x3c42b9[-0x1fb2+0xd96+0x7a*0x26]-_0x381aeb[-0xc33+0xb1f+-0x2e*-0x6]),_0x48b63a=_0x40b6cb[-0x1757*-0x1+0x2676*0x1+-0x3dcc]+(_0x352933[0x12e3+0x1e11+0x30f3*-0x1]-_0x40b6cb[0x1db1+-0x1653+-0x75d])*(isFinite(_0x1f27c5)?_0x1f27c5:-0xb08+-0x95*0x1+-0x1*-0xb9d),_0x255cd9=_0x381aeb[-0x5ef+-0x236f+0x295f]+(_0x3c42b9[-0x1332+0x1*-0x896+0x1bc9]-_0x381aeb[-0x78e+-0x684+0xe13])*(isFinite(_0x4daed8)?_0x4daed8:-0x2088+0x2*-0x55+0x25f*0xe),_0xb485d3=this['_curve']['tension'];this['_m0']=_0xb485d3*(_0x381aeb[-0x17e9*-0x1+0xcae+0x7*-0x53a]-_0x48b63a),this['_m1']=_0xb485d3*(_0x255cd9-_0x40b6cb[0x1ec0+-0x2*-0x1013+-0x14f7*0x3]);}}['_evaluateH'+'ermite'](_0x1ee29f,_0x3136fd,_0x328f4a,_0xfa6825,_0x259944){const _0x2f6c1e=_0x259944*_0x259944,_0x3ace15=_0x259944+_0x259944,_0x2b7726=-0x29c+-0x244+0x4e1-_0x259944,_0x48c3a7=_0x2b7726*_0x2b7726;return _0x1ee29f*((0x1*-0x233d+-0x2*-0x5d1+0x179c+_0x3ace15)*_0x48c3a7)+_0x328f4a*(_0x259944*_0x48c3a7)+_0x3136fd*(_0x2f6c1e*(0x1292+0x17d9+-0x2a68-_0x3ace15))+_0xfa6825*(_0x2f6c1e*(_0x259944-(0x49*0x69+0x1*0xe7d+0x1*-0x2c6d)));}}class Cs{constructor(_0x8cf7f5){c(this,'keys',[]),c(this,'type',Df),c(this,'tension',-0x1fad+0x1156+0xe57+0.5),c(this,'_eval',new ly(this));if(_0x8cf7f5){for(let _0x3f4b50=-0x52e+-0x96*-0x35+-0x19e0;_0x3f4b50<_0x8cf7f5['length']-(0x233*0x5+-0x204a+0x154c);_0x3f4b50+=0x9f3+-0x9*-0x139+0x7*-0x2fe)this['keys']['push']([_0x8cf7f5[_0x3f4b50],_0x8cf7f5[_0x3f4b50+(0x53+0x23e*-0x9+0x13dc)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x3189f4,_0x384d58){const _0x1c5101=this['keys'],_0x334d12=_0x1c5101['length'];let _0x54238d=0x6b*-0x13+-0x1223+0x1*0x1a14;for(;_0x54238d<_0x334d12&&!(_0x1c5101[_0x54238d][0xc97+-0x213b+-0x529*-0x4]>_0x3189f4);_0x54238d++);const _0x175cd6=[_0x3189f4,_0x384d58];return this['keys']['splice'](_0x54238d,0x2b*0x3b+0xb1*-0x2f+0x1696,_0x175cd6),_0x175cd6;}['get'](_0x39394a){return this['keys'][_0x39394a];}['sort'](){this['keys']['sort']((_0x2228eb,_0x30ea06)=>_0x2228eb[0x1a3c+0x3b*-0x11+-0x1651]-_0x30ea06[-0x2dd+0x24b7+-0x26b*0xe]);}['value'](_0x2b9913){return this['_eval']['evaluate'](_0x2b9913,!(-0x2f*0x44+-0x1767*-0x1+-0xaeb));}['closest'](_0x4c2fc1){const _0x59ebb3=this['keys'],_0x16f518=_0x59ebb3['length'];let _0x3e892f=-0x24a4+-0x2*-0x11fb+0xb0,_0xfc1134=null;for(let _0x9922b7=-0xac+0x94*-0x2+0x1d4;_0x9922b7<_0x16f518;_0x9922b7++){const _0x346d31=Math['abs'](_0x4c2fc1-_0x59ebb3[_0x9922b7][-0x14bc+0xe4d*0x2+0x3ef*-0x2]);if(_0x3e892f>=_0x346d31)_0x3e892f=_0x346d31,_0xfc1134=_0x59ebb3[_0x9922b7];else break;}return _0xfc1134;}['clone'](){const _0x1feb94=new this['constructo'+'r']();return _0x1feb94['keys']=this['keys']['map'](_0x4cfcd3=>[..._0x4cfcd3]),_0x1feb94['type']=this['type'],_0x1feb94['tension']=this['tension'],_0x1feb94;}['quantize'](_0x406fd8){_0x406fd8=Math['max'](_0x406fd8,0x208d+-0xa*-0x31d+-0x3fad);const _0x26a826=new Float32Array(_0x406fd8),_0x1e8e36=(-0x3a*-0x4b+-0xc*0x201+-0x1*-0x70f)/(_0x406fd8-(-0x2*0xb27+-0x13*-0x199+-0x5*0x19c));_0x26a826[-0x2f*0x6d+0x47*0x67+-0x88e]=this['_eval']['evaluate'](0x2*0xdf+0x45*-0x41+0xfc7,!(0x4b7*0x5+0x6e6*0x5+-0x3a11));for(let _0x45fc16=-0xe3c*0x1+-0x1b*0x106+-0x18d*-0x1b;_0x45fc16<_0x406fd8;_0x45fc16++)_0x26a826[_0x45fc16]=this['_eval']['evaluate'](_0x1e8e36*_0x45fc16);return _0x26a826;}['quantizeCl'+'amped'](_0x1d973d,_0x495a3c,_0x4ada48){const _0x34f8e6=this['quantize'](_0x1d973d);for(let _0x5642e3=0x2f*-0xa7+-0x5*0xd9+0x22e6;_0x5642e3<_0x34f8e6['length'];++_0x5642e3)_0x34f8e6[_0x5642e3]=Math['min'](_0x4ada48,Math['max'](_0x495a3c,_0x34f8e6[_0x5642e3]));return _0x34f8e6;}}class jr{constructor(){c(this,'curves',[]),c(this,'_type',Df);if(arguments['length']>-0x647*-0x1+0x3*-0xbf5+0x1d99){for(let _0x3e009a=-0x1*-0x122b+0x1*0xcf+-0x12fa;_0x3e009a<arguments['length'];_0x3e009a++)this['curves']['push'](new Cs(arguments[_0x3e009a]));}else{if(arguments['length']===-0x35c+-0x1*-0x57d+0x221*-0x1)this['curves']['push'](new Cs());else{const _0x4e79bd=arguments[0x64a+0x1961+0x2e1*-0xb];if(typeof _0x4e79bd=='number'){for(let _0x14ccfa=-0x56*0x8+0x11f3+-0xf43;_0x14ccfa<_0x4e79bd;_0x14ccfa++)this['curves']['push'](new Cs());}else{for(let _0x6f6cbf=-0xe89+0x69f+0x7ea;_0x6f6cbf<_0x4e79bd['length'];_0x6f6cbf++)this['curves']['push'](new Cs(_0x4e79bd[_0x6f6cbf]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x2c61cf){this['_type']=_0x2c61cf;for(let _0x58e8f3=-0x2680+0x6b*-0x55+0x4a07;_0x58e8f3<this['curves']['length'];_0x58e8f3++)this['curves'][_0x58e8f3]['type']=_0x2c61cf;}get['type'](){return this['_type'];}['get'](_0x1f8d44){return this['curves'][_0x1f8d44];}['value'](_0x572fcb,_0x4ad3e3=[]){const _0x635d37=this['curves']['length'];_0x4ad3e3['length']=_0x635d37;for(let _0x3146d4=-0x3*-0x5ab+-0x13*-0x12e+-0x276b*0x1;_0x3146d4<_0x635d37;_0x3146d4++)_0x4ad3e3[_0x3146d4]=this['curves'][_0x3146d4]['value'](_0x572fcb);return _0x4ad3e3;}['clone'](){const _0x1d10aa=new this['constructo'+'r']();_0x1d10aa['curves']=[];for(let _0x4d31dc=0x3f*0x65+-0x7*0x4a8+0x7bd*0x1;_0x4d31dc<this['curves']['length'];_0x4d31dc++)_0x1d10aa['curves']['push'](this['curves'][_0x4d31dc]['clone']());return _0x1d10aa['_type']=this['_type'],_0x1d10aa;}['quantize'](_0x538e8d){_0x538e8d=Math['max'](_0x538e8d,-0x91a+-0x1*-0x147a+-0xb5e);const _0x49667d=this['curves']['length'],_0x4b17e1=new Float32Array(_0x538e8d*_0x49667d),_0x391eb0=(0x25b5+0x2348+-0x123f*0x4)/(_0x538e8d-(0xe2f+0x113d+-0x1f6b));for(let _0x3299ad=0xaa3+0x1*-0x157b+0xad8;_0x3299ad<_0x49667d;_0x3299ad++){const _0x25fba5=new ly(this['curves'][_0x3299ad]);for(let _0x54ae1c=-0x1f84+0x124+-0x20*-0xf3;_0x54ae1c<_0x538e8d;_0x54ae1c++)_0x4b17e1[_0x54ae1c*_0x49667d+_0x3299ad]=_0x25fba5['evaluate'](_0x391eb0*_0x54ae1c);}return _0x4b17e1;}['quantizeCl'+'amped'](_0x1bc098,_0x61a5c3,_0x302917){const _0x4dd860=this['quantize'](_0x1bc098);for(let _0x5f40c9=0x170+0x20aa+-0x221a;_0x5f40c9<_0x4dd860['length'];++_0x5f40c9)_0x4dd860[_0x5f40c9]=Math['min'](_0x302917,Math['max'](_0x61a5c3,_0x4dd860[_0x5f40c9]));return _0x4dd860;}}let im=-0x22e3+0x10a8+0x1240;const id=(-0x2*-0xefc+-0x1f56+0x15f)/(0xb68+0x2c5*0x1+0xd2e*-0x1),du=new Float32Array(-0x365+-0x1*0xdb4+-0x1*-0x111a),rm=new Int32Array(du['buffer']);class Wt{static['float2Half'](_0x246925){du[-0x20bb+0x5b1*0x6+-0x16b]=_0x246925;const _0xe39db2=rm[-0x19d1+0x4*-0x12b+-0x1*-0x1e7d];let _0x533f06=_0xe39db2>>-0x1*0x16ed+-0xc32+0x232f*0x1&0x6*0x289e+0x449e+-0xb852,_0x2d420d=_0xe39db2>>-0x205d*0x1+-0x17d4+0x383d&0x1ac9+0xe01+0x68f*-0x5;const _0x3749ca=_0xe39db2>>0x1*0x132e+-0x1cbd+0x1a*0x5f&-0x7*-0x127+-0x897+0x185;return _0x3749ca<0x10e0+-0x109a+0x21?_0x533f06:_0x3749ca>0x35*-0x49+-0x1*0x513+-0x6ea*-0x3?(_0x533f06|=-0xf6ed+0x4ce*0x1e+-0x1*-0xe2c9,_0x533f06|=(_0x3749ca===-0x1a*0x23+0x11*-0xb5+0x1092?0x11a0+-0x33*0x7f+0x7ad:-0x113e+-0x1146+0x2285*0x1)&&_0xe39db2&0xbb17e0+0x35f3*-0x206+0x3211d1,_0x533f06):_0x3749ca<-0x1eba+-0x2526+0x1*0x4451?(_0x2d420d|=-0x106d+-0xe66+0x26d3,_0x533f06|=(_0x2d420d>>0x203d+-0x45a+-0x5*0x57d-_0x3749ca)+(_0x2d420d>>-0x1f2d+0xd*0x53+-0x17*-0x131-_0x3749ca&0xdde*-0x1+0x588+-0x857*-0x1),_0x533f06):(_0x533f06|=_0x3749ca-(0x10b5*-0x2+-0x96*0x3a+0x43d6)<<-0x5*0x51e+-0x7ea+0x218a|_0x2d420d>>-0x1*-0x1fae+0x22cb+-0x4278,_0x533f06+=_0x2d420d&0x1d68*-0x1+0x757*0x1+-0x5*-0x46a,_0x533f06);}static['float2Byte'+'s'](_0x4e1854,_0x1e5741,_0x28fe83,_0x503205){const _0x38f620=(0x535+-0x9*0x9+0x3e5*-0x1)*_0x4e1854%(0x2243*0x1+-0x25*0x7b+-0x107b);if(_0x1e5741[_0x28fe83+(0x1dd1+-0x2419*0x1+0x648)]=Math['round']((_0x4e1854%(0x17b*-0xd+-0x1f*0x98+0x25a8)-id*_0x38f620)*(-0x52d*0x1+-0x603+0xc2f)),_0x503205>0x1346*0x2+-0x102b+0x598*-0x4){const _0x1b3270=(0xc7c1*0x2+0xecb3+-0x17e34)*_0x4e1854%(-0x1f4d+0x1742*-0x1+0x246*0x18);if(_0x1e5741[_0x28fe83+(0x344+0x1c89+-0x1fcc)]=Math['round']((_0x38f620-id*_0x1b3270)*(0x232b+-0x1bf3+-0x639)),_0x503205>-0x1a02+-0x215c*-0x1+-0x14*0x5e){const _0x349e5a=(0xcb7*0xf7f+-0x1a79d2c+-0x1b*-0x11c346)*_0x4e1854%(0x3aa+0x26c+-0x3*0x207);_0x1e5741[_0x28fe83+(0x170c+-0x49f*0x1+-0x126b)]=Math['round']((_0x1b3270-id*_0x349e5a)*(0x5*-0xda+-0xcc5+-0x903*-0x2)),_0x503205>0x21ca+0x275*-0xd+-0x1d6&&(_0x1e5741[_0x28fe83+(-0x1697*-0x1+0xca3+-0x259*0xf)]=Math['round'](_0x349e5a*(0x15a9*-0x1+-0x549+0x1bf1)));}}}static['float2Byte'+'sRange'](_0x12090f,_0x3db91f,_0x440827,_0x2f8494,_0x2bba34,_0x585d95){(_0x12090f<_0x2f8494||_0x12090f>_0x2bba34)&&im&&(im--,console['warn']('float2Byte'+'sRange\x20-\x20v'+'alue\x20to\x20pa'+'ck\x20is\x20out\x20'+'of\x20specifi'+'ed\x20range.')),_0x12090f=N['clamp']((_0x12090f-_0x2f8494)/(_0x2bba34-_0x2f8494),-0x3*0xb3e+0x234e*-0x1+0x4508,0x2*0x43+-0x1*0x74e+0x6c9),Wt['float2Byte'+'s'](_0x12090f,_0x3db91f,_0x440827,_0x585d95);}static['float2RGBA'+'8'](_0x1de92c,_0x7a8d51){du[-0x1*-0xad+-0x5b5*0x1+-0x1*-0x508]=_0x1de92c;const _0x4eb1bf=rm[-0xd*0x2fe+0x269+0x1*0x247d];_0x7a8d51['r']=(_0x4eb1bf>>0x39*0x1c+-0xe9*0x1+-0x53b&0x34*0x29+0x19*0x1d+0x515*-0x2)/(-0x26c1+0x223*0x2+0x237a),_0x7a8d51['g']=(_0x4eb1bf>>-0x1fea+-0x10ca+0x2*0x1862&-0x1a8f*0x1+-0x1f67+0x3af5)/(0x1e57*0x1+-0x25ed*-0x1+0x11*-0x3f5),_0x7a8d51['b']=(_0x4eb1bf>>-0x20ef+-0x484+0x257b&0x6d5*-0x2+0x1b51+-0x168*0x9)/(-0x2149+-0x2659+0x48a1*0x1),_0x7a8d51['a']=(_0x4eb1bf&-0x4f*0x61+0x8a8+0x1646)/(0x269*-0xc+-0x7*0x571+0xd9a*0x5);}}const rt=class rt{constructor(_0xb20781=-0x18a1+-0x94f*0x1+0x21f0,_0x1f40ac=-0x1fd3+-0x3*0x24a+0x7bd*0x5,_0x4d8f86=0x52*0x1+-0x265*0x3+0x6dd){c(this,'x'),c(this,'y'),c(this,'z'),_0xb20781['length']===0x123*0x1b+-0xadc+-0x13d2?(this['x']=_0xb20781[0xf72*-0x1+-0x8a*0x12+0x57*0x4a],this['y']=_0xb20781[-0x3*-0xc56+0x1f8d+-0x448e],this['z']=_0xb20781[-0x11cb+0x475*-0x1+0x1642]):(this['x']=_0xb20781,this['y']=_0x1f40ac,this['z']=_0x4d8f86);}['add'](_0x428dd9){return this['x']+=_0x428dd9['x'],this['y']+=_0x428dd9['y'],this['z']+=_0x428dd9['z'],this;}['add2'](_0x139de9,_0x17877c){return this['x']=_0x139de9['x']+_0x17877c['x'],this['y']=_0x139de9['y']+_0x17877c['y'],this['z']=_0x139de9['z']+_0x17877c['z'],this;}['addScalar'](_0x17e07f){return this['x']+=_0x17e07f,this['y']+=_0x17e07f,this['z']+=_0x17e07f,this;}['addScaled'](_0x389a2d,_0x306d59){return this['x']+=_0x389a2d['x']*_0x306d59,this['y']+=_0x389a2d['y']*_0x306d59,this['z']+=_0x389a2d['z']*_0x306d59,this;}['clone'](){const _0x10a9e2=this['constructo'+'r'];return new _0x10a9e2(this['x'],this['y'],this['z']);}['copy'](_0xbdcab2){return this['x']=_0xbdcab2['x'],this['y']=_0xbdcab2['y'],this['z']=_0xbdcab2['z'],this;}['cross'](_0x187bb9,_0x564a52){const _0x285830=_0x187bb9['x'],_0x4443df=_0x187bb9['y'],_0x457ca6=_0x187bb9['z'],_0x3989d0=_0x564a52['x'],_0x2d56c4=_0x564a52['y'],_0x48c8c6=_0x564a52['z'];return this['x']=_0x4443df*_0x48c8c6-_0x2d56c4*_0x457ca6,this['y']=_0x457ca6*_0x3989d0-_0x48c8c6*_0x285830,this['z']=_0x285830*_0x2d56c4-_0x3989d0*_0x4443df,this;}['distance'](_0x2032e4){const _0xb243cd=this['x']-_0x2032e4['x'],_0x2351db=this['y']-_0x2032e4['y'],_0x2500ae=this['z']-_0x2032e4['z'];return Math['sqrt'](_0xb243cd*_0xb243cd+_0x2351db*_0x2351db+_0x2500ae*_0x2500ae);}['div'](_0x2f6b0c){return this['x']/=_0x2f6b0c['x'],this['y']/=_0x2f6b0c['y'],this['z']/=_0x2f6b0c['z'],this;}['div2'](_0x2cddc7,_0x4fd65a){return this['x']=_0x2cddc7['x']/_0x4fd65a['x'],this['y']=_0x2cddc7['y']/_0x4fd65a['y'],this['z']=_0x2cddc7['z']/_0x4fd65a['z'],this;}['divScalar'](_0x1c955d){return this['x']/=_0x1c955d,this['y']/=_0x1c955d,this['z']/=_0x1c955d,this;}['dot'](_0x9d2d71){return this['x']*_0x9d2d71['x']+this['y']*_0x9d2d71['y']+this['z']*_0x9d2d71['z'];}['equals'](_0xa07e88){return this['x']===_0xa07e88['x']&&this['y']===_0xa07e88['y']&&this['z']===_0xa07e88['z'];}['equalsAppr'+'ox'](_0xef947e,_0xe09e61=-0x157b+0x3da*-0x8+0x344b+0.000001){return Math['abs'](this['x']-_0xef947e['x'])<_0xe09e61&&Math['abs'](this['y']-_0xef947e['y'])<_0xe09e61&&Math['abs'](this['z']-_0xef947e['z'])<_0xe09e61;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x5ce206,_0x1080d1,_0x382caa){return this['x']=_0x5ce206['x']+_0x382caa*(_0x1080d1['x']-_0x5ce206['x']),this['y']=_0x5ce206['y']+_0x382caa*(_0x1080d1['y']-_0x5ce206['y']),this['z']=_0x5ce206['z']+_0x382caa*(_0x1080d1['z']-_0x5ce206['z']),this;}['mul'](_0x280e9a){return this['x']*=_0x280e9a['x'],this['y']*=_0x280e9a['y'],this['z']*=_0x280e9a['z'],this;}['mul2'](_0x1e5b14,_0x2c2b58){return this['x']=_0x1e5b14['x']*_0x2c2b58['x'],this['y']=_0x1e5b14['y']*_0x2c2b58['y'],this['z']=_0x1e5b14['z']*_0x2c2b58['z'],this;}['mulScalar'](_0x58029e){return this['x']*=_0x58029e,this['y']*=_0x58029e,this['z']*=_0x58029e,this;}['normalize'](_0x544f7=this){const _0x23cc00=_0x544f7['x']*_0x544f7['x']+_0x544f7['y']*_0x544f7['y']+_0x544f7['z']*_0x544f7['z'];if(_0x23cc00>-0x69b+0x3*0x219+0x1*0x50){const _0x133283=(-0x32f+-0xcf7*0x3+0x9*0x4ad)/Math['sqrt'](_0x23cc00);this['x']=_0x544f7['x']*_0x133283,this['y']=_0x544f7['y']*_0x133283,this['z']=_0x544f7['z']*_0x133283;}return this;}['floor'](_0x25edaf=this){return this['x']=Math['floor'](_0x25edaf['x']),this['y']=Math['floor'](_0x25edaf['y']),this['z']=Math['floor'](_0x25edaf['z']),this;}['ceil'](_0x166dce=this){return this['x']=Math['ceil'](_0x166dce['x']),this['y']=Math['ceil'](_0x166dce['y']),this['z']=Math['ceil'](_0x166dce['z']),this;}['round'](_0x1eee9e=this){return this['x']=Math['round'](_0x1eee9e['x']),this['y']=Math['round'](_0x1eee9e['y']),this['z']=Math['round'](_0x1eee9e['z']),this;}['min'](_0x51b11a){return _0x51b11a['x']<this['x']&&(this['x']=_0x51b11a['x']),_0x51b11a['y']<this['y']&&(this['y']=_0x51b11a['y']),_0x51b11a['z']<this['z']&&(this['z']=_0x51b11a['z']),this;}['max'](_0x5dd150){return _0x5dd150['x']>this['x']&&(this['x']=_0x5dd150['x']),_0x5dd150['y']>this['y']&&(this['y']=_0x5dd150['y']),_0x5dd150['z']>this['z']&&(this['z']=_0x5dd150['z']),this;}['project'](_0x13f05a){const _0x422816=this['x']*_0x13f05a['x']+this['y']*_0x13f05a['y']+this['z']*_0x13f05a['z'],_0x148ac7=_0x13f05a['x']*_0x13f05a['x']+_0x13f05a['y']*_0x13f05a['y']+_0x13f05a['z']*_0x13f05a['z'],_0x3ae6fe=_0x422816/_0x148ac7;return this['x']=_0x13f05a['x']*_0x3ae6fe,this['y']=_0x13f05a['y']*_0x3ae6fe,this['z']=_0x13f05a['z']*_0x3ae6fe,this;}['set'](_0x54e7c1,_0x15562f,_0x42fac4){return this['x']=_0x54e7c1,this['y']=_0x15562f,this['z']=_0x42fac4,this;}['sub'](_0x5f2d45){return this['x']-=_0x5f2d45['x'],this['y']-=_0x5f2d45['y'],this['z']-=_0x5f2d45['z'],this;}['sub2'](_0x1805bc,_0x280679){return this['x']=_0x1805bc['x']-_0x280679['x'],this['y']=_0x1805bc['y']-_0x280679['y'],this['z']=_0x1805bc['z']-_0x280679['z'],this;}['subScalar'](_0x2c8fd5){return this['x']-=_0x2c8fd5,this['y']-=_0x2c8fd5,this['z']-=_0x2c8fd5,this;}['fromArray'](_0x35ccba,_0x41396f=0x7f*0x2d+-0x16e3+0x9*0x10){return this['x']=_0x35ccba[_0x41396f]??this['x'],this['y']=_0x35ccba[_0x41396f+(-0x9*0x26+-0x3*0x7af+0x1864)]??this['y'],this['z']=_0x35ccba[_0x41396f+(-0x1f8d+0x49*-0x51+0x108*0x35)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x902b99=[],_0x46aea8=-0x30*0x5d+0x3bd+0xdb3){return _0x902b99[_0x46aea8]=this['x'],_0x902b99[_0x46aea8+(-0xcee+-0x215c+0x2e4b)]=this['y'],_0x902b99[_0x46aea8+(-0xb3*-0x31+0x1153*-0x1+-0x10ee)]=this['z'],_0x902b99;}};c(rt,'ZERO',Object['freeze'](new rt(0x1*0x1fb8+0x6*0x23e+-0xe*0x33a,0x1*0x1189+0x1f70+-0x3f*0xc7,-0x23eb+-0x1dd7+-0x26*-0x1bb))),c(rt,'HALF',Object['freeze'](new rt(-0x5*-0x4d+0xb85+-0xd06+0.5,0x57d*-0x7+-0x3a6*0x2+0x8d*0x53+0.5,-0x1838+-0x10d4+0x290c+0.5))),c(rt,'ONE',Object['freeze'](new rt(-0x22a*-0x11+0x5*-0x255+-0x324*0x8,0x17*-0xa1+0x17*0x111+0x67*-0x19,0xfb*-0x14+0x1148+-0x1*-0x255))),c(rt,'UP',Object['freeze'](new rt(-0x6e0+-0x14f8*-0x1+0xa4*-0x16,-0x17d0+0x1*-0x1e4f+0x3620,0x1*0x1d14+-0x1ff3+0x23*0x15))),c(rt,'DOWN',Object['freeze'](new rt(0x134a+-0xc1f*-0x3+-0x37a7*0x1,-(-0x2045*-0x1+-0x1309+-0xd3b),0x327+-0x1*0x1005+-0x9*-0x16e))),c(rt,'RIGHT',Object['freeze'](new rt(-0x1*-0xdf4+0x147e+-0x3*0xb7b,-0xa40+0x705*-0x1+0x1145,0x1*-0x74f+0x1*-0xaf6+-0x1*-0x1245))),c(rt,'LEFT',Object['freeze'](new rt(-(-0xe*0x136+-0x159+0x124e),-0x51*-0x15+0x2073+0x18*-0x1a1,0x52f*0x6+0x202*-0x7+0x4*-0x443))),c(rt,'FORWARD',Object['freeze'](new rt(0xafb+0x21ca+0x1*-0x2cc5,-0x1*0xdf+0x20dc+-0x1af*0x13,-(0x23a5+-0x1e86+0x28f*-0x2)))),c(rt,'BACK',Object['freeze'](new rt(-0xda8+0xd04+0xa4*0x1,0x2466+0x11*-0xed+0x3*-0x6e3,0x125*-0x2+-0x7a*0x3+-0x1*-0x3b9)));let T=rt;const na=class na{constructor(){c(this,'data',new Float32Array(-0x1c49+-0x24f3+0x4145)),this['data'][0x61*-0x62+-0xdb6+0x32d8*0x1]=this['data'][0xa3*0x11+0x260f*-0x1+0x6d*0x40]=this['data'][-0x2050+0x1171+0xee7]=-0x17f+-0x1*-0x59d+0x27*-0x1b;}['clone'](){const _0x219795=this['constructo'+'r'];return new _0x219795()['copy'](this);}['copy'](_0x3d3b73){const _0x11a515=_0x3d3b73['data'],_0x58a59c=this['data'];return _0x58a59c[-0x1*-0xd67+-0x1f*-0x6+0xe21*-0x1]=_0x11a515[0x1d*-0x55+0x108f*-0x1+-0x8*-0x346],_0x58a59c[0x2b6*-0x5+-0x1893*0x1+-0x1311*-0x2]=_0x11a515[-0x138c+0x4a*0x1d+0xb2b],_0x58a59c[-0x1*-0xe53+-0x19c9+0xb78]=_0x11a515[0x741+-0x1b05+0x13c6],_0x58a59c[-0x1*-0x1f2a+0x25d7+0x44fe*-0x1]=_0x11a515[-0x1bc9+-0x2108+0x3cd4],_0x58a59c[-0x1253*-0x1+0x2664+0x5*-0xb57]=_0x11a515[-0xb5d*0x3+-0x98*0x3a+0x448b],_0x58a59c[0x5f7*0x2+-0x29*-0x58+-0x15*0x13d]=_0x11a515[-0x18d7+-0x1a14+-0x50*-0xa3],_0x58a59c[0x1507+-0x4b5+-0x104c]=_0x11a515[0x1294+0x15e+-0x13ec],_0x58a59c[0x147d+-0x42d*0x1+-0x1049]=_0x11a515[0x1*0x10ad+-0x43*-0x61+-0x2a09],_0x58a59c[-0x6af+-0x17e*0x15+-0xbf*-0x33]=_0x11a515[-0xa7a*0x1+0x4*-0x574+-0x15*-0x18a],this;}['set'](_0x5469e9){const _0x4d3ce8=this['data'];return _0x4d3ce8[-0x6e+0x99d+-0x92f]=_0x5469e9[0x248e*0x1+0x1*0x437+0x1f1*-0x15],_0x4d3ce8[-0xf9b+-0x8e*0x20+0x215c*0x1]=_0x5469e9[0x58a+-0x33f+-0x24a*0x1],_0x4d3ce8[0x671+-0x1906+0x1297*0x1]=_0x5469e9[0x2449+-0x5c9+-0x1e7e],_0x4d3ce8[0x20fb*0x1+-0x4cd*-0x5+0x38f9*-0x1]=_0x5469e9[0x1b3b+-0x214a*0x1+0x15*0x4a],_0x4d3ce8[0x26*0x17+0x3b*0x95+-0x1*0x25bd]=_0x5469e9[0x41*0x52+-0x4c*0x13+0xf2a*-0x1],_0x4d3ce8[0x1695+0x861+0x1ef1*-0x1]=_0x5469e9[0xcf4+0x6*0x383+0x2201*-0x1],_0x4d3ce8[0x1dc6+-0x1485+0x8b*-0x11]=_0x5469e9[0x1c2+-0x11*0x11c+0x10*0x112],_0x4d3ce8[0x1*-0x1101+0x1642+-0x53a]=_0x5469e9[-0x7a6+-0x1551+0x4d5*0x6],_0x4d3ce8[-0x6*0x3b2+-0x514+0x1b48]=_0x5469e9[-0xed6+0x1209+-0x1*0x32b],this;}['getX'](_0x1d18c2=new T()){return _0x1d18c2['set'](this['data'][-0x2428+0x1e98+0x590],this['data'][-0x7*-0x583+0x4*0x8a9+0xb*-0x6a8],this['data'][-0xf52+0x175c+-0x808]);}['getY'](_0x5cb4bd=new T()){return _0x5cb4bd['set'](this['data'][-0x112b+-0xc1a+0x1d48*0x1],this['data'][0x2cf*-0xb+-0x1227+0x311*0x10],this['data'][0x2196+-0x4*0x391+-0xb7*0x1b]);}['getZ'](_0x9be35=new T()){return _0x9be35['set'](this['data'][-0x832*-0x2+-0x1fbe+0xf60],this['data'][0x13eb+0x3*0x7b3+-0x2afd],this['data'][-0x881+-0x2*0x35+0x8f3]);}['equals'](_0x22cbb6){const _0x325e23=this['data'],_0x240fec=_0x22cbb6['data'];return _0x325e23[0x2e9*-0x8+-0x1*-0x19b5+-0x26d]===_0x240fec[-0x1e8f*0x1+-0x2*0x419+-0x1*-0x26c1]&&_0x325e23[0x1d18+-0x1a1a+0x1*-0x2fd]===_0x240fec[0x1e*-0x8b+-0x214b*-0x1+0x44*-0x40]&&_0x325e23[0xcf0+0x159c+-0x1145*0x2]===_0x240fec[0xb3*0x36+-0x2a0+-0x2320]&&_0x325e23[0x54d+0xec8+-0x1412]===_0x240fec[-0x270c+0x169f+0x1070]&&_0x325e23[-0x8c8+-0x3*-0xb1b+-0x1885]===_0x240fec[-0x7*0x4f+0x57a+-0x34d]&&_0x325e23[-0x193*0x16+0x25f2*0x1+0x34b*-0x1]===_0x240fec[0xf4d*0x2+-0x1774+-0x721]&&_0x325e23[-0x1295+0x257*0x10+-0x12d5]===_0x240fec[0x1b50+-0x2412+0x4*0x232]&&_0x325e23[0x2624+-0x4*0x195+0x1*-0x1fc9]===_0x240fec[-0xc9a*-0x3+-0x192+-0x2435]&&_0x325e23[-0x2149+-0x982*0x1+0x2ad3]===_0x240fec[0x122d+0x434*-0x9+0x13af];}['isIdentity'](){const _0x3d28f6=this['data'];return _0x3d28f6[-0x3e*0x93+-0x56b+0x2905]===-0x145a+0x785+-0x35*-0x3e&&_0x3d28f6[-0x1e7+-0x2f9+0x1*0x4e1]===0x63a+0x941+0xf7b*-0x1&&_0x3d28f6[-0x488+-0x1868+-0x1*-0x1cf2]===-0x3bc*-0x1+-0x3*-0x5d3+0x3d*-0x59&&_0x3d28f6[0x741+0x17c0+0x1efe*-0x1]===0xab4+-0x22f5+0x377*0x7&&_0x3d28f6[0x2*0x907+0x4*0x39a+-0x2*0x1039]===0x1ec7+-0xec8+-0x2e*0x59&&_0x3d28f6[-0x56f+0x1364+-0xdf0]===0xff3+-0x8f1+-0x2*0x381&&_0x3d28f6[0x295*-0x3+-0x23ee+0x2bb3]===-0x6a7+-0xbd0+0x1277&&_0x3d28f6[-0x2*0x678+0x1*-0x253a+0x3231]===0x3*0x295+-0x1*-0x263c+-0x2dfb&&_0x3d28f6[-0x1cd*0x6+-0x1*0x6f7+0xd9*0x15]===-0x39e*0x2+-0x423+0xb60;}['setIdentit'+'y'](){const _0x4ad085=this['data'];return _0x4ad085[0x886+-0x1dac+0x1526]=-0x3*-0x78b+0xb0e+0x1df*-0x12,_0x4ad085[0x68*-0x5+-0x7d5*-0x1+0x173*-0x4]=-0x1*0x253+0x3*-0x2b7+0xa78,_0x4ad085[-0x88c+-0x1*0x62+0x8f0]=-0x3*0x377+-0x975+0x15*0xf2,_0x4ad085[0x199+-0x106d+0xed7]=0x53b+-0x268d+0x2152,_0x4ad085[0x94e+-0x839*-0x2+-0x19bc]=0x1017*0x2+0x10e3*-0x2+0x199,_0x4ad085[-0x7*0x446+0xf2*-0x25+0x15a3*0x3]=-0x1308+-0x1*0xc6f+0x1f77*0x1,_0x4ad085[-0x25c4+-0x1*0x2bd+-0x19*-0x19f]=0xd93+0x2f*-0x1b+-0x89e,_0x4ad085[0x213e+-0x1e14+0x1*-0x323]=0x9ed*0x2+-0xb*-0x136+0x4*-0x84b,_0x4ad085[0x185*0x11+-0x1342+-0x14f*0x5]=-0x14a9+0x1c63+-0x7b9,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x2d8d84=this){const _0x1d31f3=_0x2d8d84['data'],_0x31b8fe=this['data'];if(_0x1d31f3===_0x31b8fe){let _0x55f0ef;_0x55f0ef=_0x1d31f3[0x1405*-0x1+0xe92+0x574],_0x31b8fe[-0xb9+0x35f+0x2a5*-0x1]=_0x1d31f3[0x1a2f*0x1+0x62*0x5b+-0x89*0x72],_0x31b8fe[0x7*0x185+-0x1b00+0x106*0x10]=_0x55f0ef,_0x55f0ef=_0x1d31f3[-0xff*0x26+-0x21*0x1f+0x29db],_0x31b8fe[-0xfe*0xb+-0x17d3+0x22bf]=_0x1d31f3[-0xc30+0x1903+-0xccd],_0x31b8fe[0xe60+0x7f8+-0x1652*0x1]=_0x55f0ef,_0x55f0ef=_0x1d31f3[-0xff8+0x1*-0xddd+-0x1dda*-0x1],_0x31b8fe[0x10e7+0x8f5*0x1+-0x19d7]=_0x1d31f3[0x159e+0x2*-0xd37+-0xb1*-0x7],_0x31b8fe[0x15d1*-0x1+0x20c0+-0xae8]=_0x55f0ef;}else _0x31b8fe[0x1ea1+-0x2427*0x1+-0x1*-0x586]=_0x1d31f3[0x2*0x33d+-0x17f6+0x8be*0x2],_0x31b8fe[0x132a+0xea+-0x1413]=_0x1d31f3[0x194c+0x71*0x4a+-0xb97*0x5],_0x31b8fe[0x12af+-0xc1b+-0x692]=_0x1d31f3[-0x15a7+0x1291*0x1+0x31c],_0x31b8fe[-0x21c6+-0x507*-0x4+-0xdad*-0x1]=_0x1d31f3[0x18*0x5a+0xad*-0x4+-0x5bb],_0x31b8fe[-0x147f+-0xc4b+0x20ce]=_0x1d31f3[0x9*-0x310+0x2f*-0x6a+0x1*0x2f0a],_0x31b8fe[-0x1a*0xda+0x18e1+-0x3*0xe8]=_0x1d31f3[-0x1662+-0x1c81+-0x157*-0x26],_0x31b8fe[-0x3dc+0x2*0xe29+-0x1870]=_0x1d31f3[0x941+0x1f*0x141+-0x3*0x100a],_0x31b8fe[0x13b4+-0x2*-0xe76+-0x3099]=_0x1d31f3[-0x1*-0x65+-0x173*0xa+0x8b*0x1a],_0x31b8fe[0x1*0x6b+0x249b+-0x2*0x127f]=_0x1d31f3[0x6c9*-0x1+-0x826+-0x3*-0x4fd];return this;}['setFromMat'+'4'](_0x34a37d){const _0x5ec795=_0x34a37d['data'],_0x5c953b=this['data'];return _0x5c953b[-0x49d*0x3+-0xb26+-0x18fd*-0x1]=_0x5ec795[-0xb32*0x2+-0x57*0x64+0x3860],_0x5c953b[-0x1*-0x1866+0x18f6+-0x169*0x23]=_0x5ec795[0x2029*-0x1+0x1c*0x5c+0x161a],_0x5c953b[0x1*-0x279+0x2*-0x457+0xb29]=_0x5ec795[0x827*-0x1+-0x1a2d*-0x1+-0x2*0x902],_0x5c953b[0xc1*0x7+0x172a+0x4bd*-0x6]=_0x5ec795[0x9c*0x35+0x15ed+-0x3635],_0x5c953b[-0x1c*-0x56+-0x1e*-0xa+-0xa90]=_0x5ec795[-0x19bd+0x17*-0xd3+0x2cb7],_0x5c953b[0x14c+-0x12e7*0x2+0x2487]=_0x5ec795[-0x140d+-0x1b8c+-0x2f9f*-0x1],_0x5c953b[0x1*-0xda0+0x2*-0xd3b+0x97*0x44]=_0x5ec795[-0x2*-0xb8a+0x1*0x269e+-0x1*0x3daa],_0x5c953b[-0x2a7+0xd5b*0x2+-0x1808]=_0x5ec795[-0x15a*0x5+-0x25d0+0x2c9b],_0x5c953b[0x4*0x15+-0xd9a+-0xd*-0x106]=_0x5ec795[-0x2330+-0x45d*-0x1+0x1edd],this;}['setFromQua'+'t'](_0x5b545e){const _0x257c54=_0x5b545e['x'],_0x2c2a5f=_0x5b545e['y'],_0x456f9e=_0x5b545e['z'],_0x3d168d=_0x5b545e['w'],_0x32a16d=_0x257c54+_0x257c54,_0x3e88b9=_0x2c2a5f+_0x2c2a5f,_0x16c762=_0x456f9e+_0x456f9e,_0x25cbf5=_0x257c54*_0x32a16d,_0x53c568=_0x257c54*_0x3e88b9,_0x5dcb18=_0x257c54*_0x16c762,_0x1e243d=_0x2c2a5f*_0x3e88b9,_0x5dc907=_0x2c2a5f*_0x16c762,_0x2b987a=_0x456f9e*_0x16c762,_0x13c2bd=_0x3d168d*_0x32a16d,_0x5329b7=_0x3d168d*_0x3e88b9,_0x359604=_0x3d168d*_0x16c762,_0x2bcfc6=this['data'];return _0x2bcfc6[-0x97c+-0x1e49+0x27c5]=-0x3*0x72f+-0x237b+0x1d7*0x1f-(_0x1e243d+_0x2b987a),_0x2bcfc6[0xc2e+0x1b1f+0x9d3*-0x4]=_0x53c568+_0x359604,_0x2bcfc6[-0x30*-0x75+-0x24bb+0x1*0xecd]=_0x5dcb18-_0x5329b7,_0x2bcfc6[-0xdb9*0x1+0x1*0x202f+-0x1*0x1273]=_0x53c568-_0x359604,_0x2bcfc6[0x94f+0x1fe8+-0x1*0x2933]=0x41b+0xef1+-0x130b-(_0x25cbf5+_0x2b987a),_0x2bcfc6[-0x1*0xac6+0xd*0x179+-0x85a]=_0x5dc907+_0x13c2bd,_0x2bcfc6[-0x13*0xcf+-0x16e9+-0x56*-0x72]=_0x5dcb18+_0x5329b7,_0x2bcfc6[-0x1543+0x2*-0xecb+0xcb8*0x4]=_0x5dc907-_0x13c2bd,_0x2bcfc6[0x3*-0x4a+0x145d+0xb*-0x1c5]=0xd8b*-0x2+0x9*-0x396+-0x5b*-0xa7-(_0x25cbf5+_0x1e243d),this;}['invertMat4'](_0xdbe696){const _0x102027=_0xdbe696['data'],_0xa7f60a=_0x102027[-0x1*-0xe1d+0x490*-0x3+-0x1*0x6d],_0x288890=_0x102027[-0x857+0xbc9+0x371*-0x1],_0x2db0ff=_0x102027[0x4fb+-0x168f+0x1196],_0xab469=_0x102027[-0x2*0x986+0x470*0x7+-0x2*0x600],_0x40c99e=_0x102027[0x15b6+-0xa67*-0x2+-0x1d9*0x17],_0x18dd1e=_0x102027[0x6b*0x5c+0x98e*0x4+-0x4ca6],_0x95abe7=_0x102027[0x1849+-0x4b1*0x2+0x3*-0x4f5],_0x2cf8c4=_0x102027[-0x22e8+-0x1b5a+0x3e4b],_0x2b28ea=_0x102027[0x1947+-0x524*-0x5+0x15*-0x26d],_0x1270a7=_0x2b28ea*_0x40c99e-_0x18dd1e*_0x2cf8c4,_0x376b83=-_0x2b28ea*_0x288890+_0x2db0ff*_0x2cf8c4,_0x3e53ea=_0x18dd1e*_0x288890-_0x2db0ff*_0x40c99e,_0x47f55b=-_0x2b28ea*_0xab469+_0x18dd1e*_0x95abe7,_0x345f0a=_0x2b28ea*_0xa7f60a-_0x2db0ff*_0x95abe7,_0x1a0dc9=-_0x18dd1e*_0xa7f60a+_0x2db0ff*_0xab469,_0x5ae45f=_0x2cf8c4*_0xab469-_0x40c99e*_0x95abe7,_0x735d36=-_0x2cf8c4*_0xa7f60a+_0x288890*_0x95abe7,_0x5d62c6=_0x40c99e*_0xa7f60a-_0x288890*_0xab469,_0x54b771=_0xa7f60a*_0x1270a7+_0x288890*_0x47f55b+_0x2db0ff*_0x5ae45f;if(_0x54b771===0x1*0x1483+-0x252c+0x10a9)this['setIdentit'+'y']();else{const _0x1f16db=(-0x1e2f+-0x1cf3+0x3b23)/_0x54b771,_0x2bc18e=this['data'];_0x2bc18e[-0x182e+-0x1*0xf61+-0xd*-0x30b]=_0x1270a7*_0x1f16db,_0x2bc18e[-0x28*0x39+0x35e*-0x4+0x1661*0x1]=_0x376b83*_0x1f16db,_0x2bc18e[0xbe9*0x3+-0x3*0x3+-0x23b0]=_0x3e53ea*_0x1f16db,_0x2bc18e[-0x1a28+0x1*-0x28f+0x1cba]=_0x47f55b*_0x1f16db,_0x2bc18e[-0x2032+0x21b5+0x1*-0x17f]=_0x345f0a*_0x1f16db,_0x2bc18e[-0xccd+0xe41*-0x2+-0x73*-0x5c]=_0x1a0dc9*_0x1f16db,_0x2bc18e[0xa1a+-0xa74+0x60]=_0x5ae45f*_0x1f16db,_0x2bc18e[-0xa3a+-0xfce+0x1a0f]=_0x735d36*_0x1f16db,_0x2bc18e[-0xe9b*0x2+0x287+0x1*0x1ab7]=_0x5d62c6*_0x1f16db;}return this;}['transformV'+'ector'](_0x5ef0d8,_0x15d9c9=new T()){const _0x5e9e85=this['data'],{x:_0x438521,y:_0x1c702c,z:_0x392567}=_0x5ef0d8;return _0x15d9c9['x']=_0x438521*_0x5e9e85[-0x7e7*-0x2+-0x2398+0x13ca]+_0x1c702c*_0x5e9e85[-0x25c4+0xc2*0x31+0x5*0x21]+_0x392567*_0x5e9e85[0xb*-0x14f+-0x1450+0x11*0x20b],_0x15d9c9['y']=_0x438521*_0x5e9e85[-0x6be+-0xfd*-0x1b+-0x4*0x4fc]+_0x1c702c*_0x5e9e85[0x2*0x86b+-0xa*-0x1b1+-0x21bc]+_0x392567*_0x5e9e85[0x4d2+-0x1577+0x10ac],_0x15d9c9['z']=_0x438521*_0x5e9e85[-0x20*-0x20+-0x599+0x19b]+_0x1c702c*_0x5e9e85[-0x19d+-0x36*-0x82+-0x19ca]+_0x392567*_0x5e9e85[0x205c+0x19dc+-0x3a30],_0x15d9c9;}};c(na,'IDENTITY',Object['freeze'](new na())),c(na,'ZERO',Object['freeze'](new na()['set']([0x1c4b+0x1224+-0x2e6f,0x12*0x1f3+-0x2449+0x1*0x133,-0xdd7+-0x90b+0x16e2,0x1*-0x22b5+0x12c4+0xff1,-0x941+-0x40e*-0x2+0x1*0x125,-0x4*0x2cd+0x1da4+-0x1270,0x3*-0x86a+0x48d+0x14b1*0x1,-0xc*0xc+0x17d4+-0x1744,-0x913*-0x4+0xa*0x314+-0x9f*0x6c])));let js=na;const wt=class wt{constructor(_0x4190fd=-0x163*0xc+-0x52c+0x15d0,_0xb9c49c=0xc*-0x53+0x5*0x223+-0x6cb){c(this,'x'),c(this,'y'),_0x4190fd['length']===-0x6d*0x7+0x2115+-0x1e18?(this['x']=_0x4190fd[0x70c+-0x62c+-0x2*0x70],this['y']=_0x4190fd[-0x174b+0x1d8f+0x643*-0x1]):(this['x']=_0x4190fd,this['y']=_0xb9c49c);}['add'](_0x52eef4){return this['x']+=_0x52eef4['x'],this['y']+=_0x52eef4['y'],this;}['add2'](_0xa304ea,_0x7eed58){return this['x']=_0xa304ea['x']+_0x7eed58['x'],this['y']=_0xa304ea['y']+_0x7eed58['y'],this;}['addScalar'](_0x18b839){return this['x']+=_0x18b839,this['y']+=_0x18b839,this;}['addScaled'](_0x5b620d,_0x4f6445){return this['x']+=_0x5b620d['x']*_0x4f6445,this['y']+=_0x5b620d['y']*_0x4f6445,this;}['clone'](){const _0x388bb2=this['constructo'+'r'];return new _0x388bb2(this['x'],this['y']);}['copy'](_0x4c6169){return this['x']=_0x4c6169['x'],this['y']=_0x4c6169['y'],this;}['cross'](_0x1a9e81){return this['x']*_0x1a9e81['y']-this['y']*_0x1a9e81['x'];}['distance'](_0x581d98){const _0x4c8c29=this['x']-_0x581d98['x'],_0xbf689c=this['y']-_0x581d98['y'];return Math['sqrt'](_0x4c8c29*_0x4c8c29+_0xbf689c*_0xbf689c);}['div'](_0x293c7a){return this['x']/=_0x293c7a['x'],this['y']/=_0x293c7a['y'],this;}['div2'](_0x69cf7c,_0x4d78fc){return this['x']=_0x69cf7c['x']/_0x4d78fc['x'],this['y']=_0x69cf7c['y']/_0x4d78fc['y'],this;}['divScalar'](_0xee315f){return this['x']/=_0xee315f,this['y']/=_0xee315f,this;}['dot'](_0x371c16){return this['x']*_0x371c16['x']+this['y']*_0x371c16['y'];}['equals'](_0x43ba76){return this['x']===_0x43ba76['x']&&this['y']===_0x43ba76['y'];}['equalsAppr'+'ox'](_0x497b12,_0x374563=0x1bb*0x1+-0x1ae1+0xc93*0x2+0.000001){return Math['abs'](this['x']-_0x497b12['x'])<_0x374563&&Math['abs'](this['y']-_0x497b12['y'])<_0x374563;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x32d547,_0x592e76,_0x3b2426){return this['x']=_0x32d547['x']+_0x3b2426*(_0x592e76['x']-_0x32d547['x']),this['y']=_0x32d547['y']+_0x3b2426*(_0x592e76['y']-_0x32d547['y']),this;}['mul'](_0x2b10fe){return this['x']*=_0x2b10fe['x'],this['y']*=_0x2b10fe['y'],this;}['mul2'](_0x5ef115,_0x22bb63){return this['x']=_0x5ef115['x']*_0x22bb63['x'],this['y']=_0x5ef115['y']*_0x22bb63['y'],this;}['mulScalar'](_0x40112e){return this['x']*=_0x40112e,this['y']*=_0x40112e,this;}['normalize'](_0xea3901=this){const _0x122603=_0xea3901['x']*_0xea3901['x']+_0xea3901['y']*_0xea3901['y'];if(_0x122603>-0x16b2+-0x15d*-0x8+0xbca){const _0x4dd643=(-0x153d+-0x2*-0x259+0x423*0x4)/Math['sqrt'](_0x122603);this['x']=_0xea3901['x']*_0x4dd643,this['y']=_0xea3901['y']*_0x4dd643;}return this;}['rotate'](_0x210b58){const _0x2055e8=Math['atan2'](this['x'],this['y'])+_0x210b58*N['DEG_TO_RAD'],_0x47698d=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x2055e8)*_0x47698d,this['y']=Math['cos'](_0x2055e8)*_0x47698d,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*N['RAD_TO_DEG'];}['angleTo'](_0x3b653d){return Math['atan2'](this['x']*_0x3b653d['y']+this['y']*_0x3b653d['x'],this['x']*_0x3b653d['x']+this['y']*_0x3b653d['y'])*N['RAD_TO_DEG'];}['floor'](_0x34bf04=this){return this['x']=Math['floor'](_0x34bf04['x']),this['y']=Math['floor'](_0x34bf04['y']),this;}['ceil'](_0x1363b6=this){return this['x']=Math['ceil'](_0x1363b6['x']),this['y']=Math['ceil'](_0x1363b6['y']),this;}['round'](_0x51ddd4=this){return this['x']=Math['round'](_0x51ddd4['x']),this['y']=Math['round'](_0x51ddd4['y']),this;}['min'](_0x40be90){return _0x40be90['x']<this['x']&&(this['x']=_0x40be90['x']),_0x40be90['y']<this['y']&&(this['y']=_0x40be90['y']),this;}['max'](_0x1bbd1d){return _0x1bbd1d['x']>this['x']&&(this['x']=_0x1bbd1d['x']),_0x1bbd1d['y']>this['y']&&(this['y']=_0x1bbd1d['y']),this;}['set'](_0x3ffd76,_0x4ab2d5){return this['x']=_0x3ffd76,this['y']=_0x4ab2d5,this;}['sub'](_0x4a8b32){return this['x']-=_0x4a8b32['x'],this['y']-=_0x4a8b32['y'],this;}['sub2'](_0x3256d4,_0x34ca2e){return this['x']=_0x3256d4['x']-_0x34ca2e['x'],this['y']=_0x3256d4['y']-_0x34ca2e['y'],this;}['subScalar'](_0x5b544f){return this['x']-=_0x5b544f,this['y']-=_0x5b544f,this;}['fromArray'](_0x55e63a,_0x9f5c2f=-0x107*0x11+0x140b+0x42*-0xa){return this['x']=_0x55e63a[_0x9f5c2f]??this['x'],this['y']=_0x55e63a[_0x9f5c2f+(0x1ee2+-0x1350+-0xb91)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x97dcb=[],_0x1c5f4c=0xf*-0x3a+-0x59f*0x1+0x905){return _0x97dcb[_0x1c5f4c]=this['x'],_0x97dcb[_0x1c5f4c+(0x59d+0x21c1+-0x3*0xd1f)]=this['y'],_0x97dcb;}static['angleRad'](_0x5f48cc,_0x101c8c){return Math['atan2'](_0x5f48cc['x']*_0x101c8c['y']-_0x5f48cc['y']*_0x101c8c['x'],_0x5f48cc['x']*_0x101c8c['x']+_0x5f48cc['y']*_0x101c8c['y']);}};c(wt,'ZERO',Object['freeze'](new wt(-0x5ef+0x70f+0x90*-0x2,-0xab4+-0xb76+0x162a))),c(wt,'HALF',Object['freeze'](new wt(-0x2575+-0x129d+-0x1*-0x3812+0.5,-0x1108*-0x2+-0xa*-0x395+0xdfa*-0x5+0.5))),c(wt,'ONE',Object['freeze'](new wt(-0x1e6e+0xa0f+0x1460,-0x1*0x10af+-0x186+0x15*0xde))),c(wt,'UP',Object['freeze'](new wt(0x41f+0x3f0+-0x1*0x80f,-0x8bb+0x1c55+-0x1*0x1399))),c(wt,'DOWN',Object['freeze'](new wt(-0x14fd+-0x5*0x32f+0x24e8,-(-0x25c*-0xb+-0x4c*-0x2d+-0x274f)))),c(wt,'RIGHT',Object['freeze'](new wt(-0x197*-0xf+0x1*0x100f+0xe3*-0x2d,0x31*-0x53+-0x147*0x1c+0x33a7))),c(wt,'LEFT',Object['freeze'](new wt(-(0x165b+-0x1bd4+-0x2*-0x2bd),-0xe51*-0x2+0x2417+-0x40b9)));let W=wt;const Yi=class Yi{constructor(_0x149484=-0x14ce+-0x106+0x15d4,_0x8f622e=0x3a2+-0x35*0x3d+-0x1*-0x8ff,_0x4d051a=-0x15bb*-0x1+-0x1d39+0x77e,_0x52602b=-0x1846+0x1*0x2ed+-0x445*-0x5){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x149484['length']===-0x235d*-0x1+-0xfe0+0x1379*-0x1?(this['x']=_0x149484[-0x17ac+-0x17*0x87+0x23cd],this['y']=_0x149484[0xe*0x20+0xb99+-0xd58],this['z']=_0x149484[0x1f26+0x977+-0x37*0xbd],this['w']=_0x149484[0x167c+-0x132d+-0x34c]):(this['x']=_0x149484,this['y']=_0x8f622e,this['z']=_0x4d051a,this['w']=_0x52602b);}['add'](_0x64ccde){return this['x']+=_0x64ccde['x'],this['y']+=_0x64ccde['y'],this['z']+=_0x64ccde['z'],this['w']+=_0x64ccde['w'],this;}['add2'](_0x4102e7,_0x6e1fe3){return this['x']=_0x4102e7['x']+_0x6e1fe3['x'],this['y']=_0x4102e7['y']+_0x6e1fe3['y'],this['z']=_0x4102e7['z']+_0x6e1fe3['z'],this['w']=_0x4102e7['w']+_0x6e1fe3['w'],this;}['addScalar'](_0x58b79e){return this['x']+=_0x58b79e,this['y']+=_0x58b79e,this['z']+=_0x58b79e,this['w']+=_0x58b79e,this;}['addScaled'](_0x1f4d9d,_0x237d8e){return this['x']+=_0x1f4d9d['x']*_0x237d8e,this['y']+=_0x1f4d9d['y']*_0x237d8e,this['z']+=_0x1f4d9d['z']*_0x237d8e,this['w']+=_0x1f4d9d['w']*_0x237d8e,this;}['clone'](){const _0x111f9f=this['constructo'+'r'];return new _0x111f9f(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x5bb679){return this['x']=_0x5bb679['x'],this['y']=_0x5bb679['y'],this['z']=_0x5bb679['z'],this['w']=_0x5bb679['w'],this;}['div'](_0x43f457){return this['x']/=_0x43f457['x'],this['y']/=_0x43f457['y'],this['z']/=_0x43f457['z'],this['w']/=_0x43f457['w'],this;}['div2'](_0x450536,_0x3edd48){return this['x']=_0x450536['x']/_0x3edd48['x'],this['y']=_0x450536['y']/_0x3edd48['y'],this['z']=_0x450536['z']/_0x3edd48['z'],this['w']=_0x450536['w']/_0x3edd48['w'],this;}['divScalar'](_0x1c4492){return this['x']/=_0x1c4492,this['y']/=_0x1c4492,this['z']/=_0x1c4492,this['w']/=_0x1c4492,this;}['dot'](_0x16f9b6){return this['x']*_0x16f9b6['x']+this['y']*_0x16f9b6['y']+this['z']*_0x16f9b6['z']+this['w']*_0x16f9b6['w'];}['equals'](_0x5ee9a8){return this['x']===_0x5ee9a8['x']&&this['y']===_0x5ee9a8['y']&&this['z']===_0x5ee9a8['z']&&this['w']===_0x5ee9a8['w'];}['equalsAppr'+'ox'](_0x3cef0b,_0x67adfe=-0x15b9+0x1*0x3a7+0x1212+0.000001){return Math['abs'](this['x']-_0x3cef0b['x'])<_0x67adfe&&Math['abs'](this['y']-_0x3cef0b['y'])<_0x67adfe&&Math['abs'](this['z']-_0x3cef0b['z'])<_0x67adfe&&Math['abs'](this['w']-_0x3cef0b['w'])<_0x67adfe;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x47d0e6,_0x3143ca,_0xd04c21){return this['x']=_0x47d0e6['x']+_0xd04c21*(_0x3143ca['x']-_0x47d0e6['x']),this['y']=_0x47d0e6['y']+_0xd04c21*(_0x3143ca['y']-_0x47d0e6['y']),this['z']=_0x47d0e6['z']+_0xd04c21*(_0x3143ca['z']-_0x47d0e6['z']),this['w']=_0x47d0e6['w']+_0xd04c21*(_0x3143ca['w']-_0x47d0e6['w']),this;}['mul'](_0x34e896){return this['x']*=_0x34e896['x'],this['y']*=_0x34e896['y'],this['z']*=_0x34e896['z'],this['w']*=_0x34e896['w'],this;}['mul2'](_0x33d95c,_0x12b068){return this['x']=_0x33d95c['x']*_0x12b068['x'],this['y']=_0x33d95c['y']*_0x12b068['y'],this['z']=_0x33d95c['z']*_0x12b068['z'],this['w']=_0x33d95c['w']*_0x12b068['w'],this;}['mulScalar'](_0x1418ca){return this['x']*=_0x1418ca,this['y']*=_0x1418ca,this['z']*=_0x1418ca,this['w']*=_0x1418ca,this;}['normalize'](_0x590d56=this){const _0x452eb3=_0x590d56['x']*_0x590d56['x']+_0x590d56['y']*_0x590d56['y']+_0x590d56['z']*_0x590d56['z']+_0x590d56['w']*_0x590d56['w'];if(_0x452eb3>-0x139d*0x1+-0x1d6+0x13*0x121){const _0x4fd725=(0x5df+-0x256c+0x1f8e)/Math['sqrt'](_0x452eb3);this['x']=_0x590d56['x']*_0x4fd725,this['y']=_0x590d56['y']*_0x4fd725,this['z']=_0x590d56['z']*_0x4fd725,this['w']=_0x590d56['w']*_0x4fd725;}return this;}['floor'](_0x396b19=this){return this['x']=Math['floor'](_0x396b19['x']),this['y']=Math['floor'](_0x396b19['y']),this['z']=Math['floor'](_0x396b19['z']),this['w']=Math['floor'](_0x396b19['w']),this;}['ceil'](_0x153d6f=this){return this['x']=Math['ceil'](_0x153d6f['x']),this['y']=Math['ceil'](_0x153d6f['y']),this['z']=Math['ceil'](_0x153d6f['z']),this['w']=Math['ceil'](_0x153d6f['w']),this;}['round'](_0x335158=this){return this['x']=Math['round'](_0x335158['x']),this['y']=Math['round'](_0x335158['y']),this['z']=Math['round'](_0x335158['z']),this['w']=Math['round'](_0x335158['w']),this;}['min'](_0x5513ed){return _0x5513ed['x']<this['x']&&(this['x']=_0x5513ed['x']),_0x5513ed['y']<this['y']&&(this['y']=_0x5513ed['y']),_0x5513ed['z']<this['z']&&(this['z']=_0x5513ed['z']),_0x5513ed['w']<this['w']&&(this['w']=_0x5513ed['w']),this;}['max'](_0x1da397){return _0x1da397['x']>this['x']&&(this['x']=_0x1da397['x']),_0x1da397['y']>this['y']&&(this['y']=_0x1da397['y']),_0x1da397['z']>this['z']&&(this['z']=_0x1da397['z']),_0x1da397['w']>this['w']&&(this['w']=_0x1da397['w']),this;}['set'](_0x13c481,_0x1876be,_0x734dca,_0xc8d123){return this['x']=_0x13c481,this['y']=_0x1876be,this['z']=_0x734dca,this['w']=_0xc8d123,this;}['sub'](_0x58af63){return this['x']-=_0x58af63['x'],this['y']-=_0x58af63['y'],this['z']-=_0x58af63['z'],this['w']-=_0x58af63['w'],this;}['sub2'](_0x310147,_0x1bc009){return this['x']=_0x310147['x']-_0x1bc009['x'],this['y']=_0x310147['y']-_0x1bc009['y'],this['z']=_0x310147['z']-_0x1bc009['z'],this['w']=_0x310147['w']-_0x1bc009['w'],this;}['subScalar'](_0x131cb8){return this['x']-=_0x131cb8,this['y']-=_0x131cb8,this['z']-=_0x131cb8,this['w']-=_0x131cb8,this;}['fromArray'](_0x24f05c,_0x2fbdc5=0x203+0x150+0x353*-0x1){return this['x']=_0x24f05c[_0x2fbdc5]??this['x'],this['y']=_0x24f05c[_0x2fbdc5+(0x19c0+-0x4*0xf5+-0x15eb)]??this['y'],this['z']=_0x24f05c[_0x2fbdc5+(-0x3c5+0x1ab9+-0x16f2*0x1)]??this['z'],this['w']=_0x24f05c[_0x2fbdc5+(-0x10a9+-0xd*-0x7d+0xa53*0x1)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x55cd14=[],_0xe71721=-0x3e6*0xa+0x6ec+-0x98*-0x36){return _0x55cd14[_0xe71721]=this['x'],_0x55cd14[_0xe71721+(-0x1*-0x6a1+0xde8+-0x1488)]=this['y'],_0x55cd14[_0xe71721+(-0x2*-0xd19+0x9b9+-0x23e9)]=this['z'],_0x55cd14[_0xe71721+(0x1e25+0x116d+-0x2f8f)]=this['w'],_0x55cd14;}};c(Yi,'ZERO',Object['freeze'](new Yi(-0x163*0x11+-0x62*-0x3f+-0x8b,0x1e5+-0x1*-0x733+-0x1*0x918,-0x171d*0x1+-0xb69+0x2286,-0x19cb+-0x63*0x1+-0x6*-0x45d))),c(Yi,'HALF',Object['freeze'](new Yi(-0x193b+-0x1*-0x4f5+0x1446+0.5,0x121*0x8+0x13*-0xa2+-0x1*-0x2fe+0.5,-0xd1*0x11+0x1f0*-0x10+0x2ce1+0.5,0xd*-0x8b+-0x6*-0x198+-0x281+0.5))),c(Yi,'ONE',Object['freeze'](new Yi(-0xc2b+0x9c5*-0x1+0x15f1*0x1,0x1*0x25bf+0x1eac+-0x446a,0xed8+0x1c13*-0x1+0xd3c,0x2*0xf2b+0x142e+-0x3283)));let Q=Yi;const Ua=new W(),us=new T(),Fs=new T(),Os=new T(),_l=new T(),Ur=class Ur{constructor(){c(this,'data',new Float32Array(0x1112+0x3a*-0x26+-0xa*0xd7)),this['data'][-0x58f*0x1+0x1*-0x332+-0x9*-0xf9]=this['data'][-0x2*-0x4b4+-0xfb0+0x1*0x64d]=this['data'][0x8e8+-0x38*-0x95+-0x2976]=this['data'][-0x22fd+-0x4*-0x359+0x15a8]=-0x1b04+0x5*-0x399+0x2d02;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x2900cd,_0x25b177,_0xc96bd4,_0x2e089e,_0x9d2d5a){_0x9d2d5a?(_0x2900cd['x']=_0x2e089e*Math['tan'](_0x25b177*Math['PI']/(-0x10fe+0x5*-0x18d+0x1a27)),_0x2900cd['y']=_0x2900cd['x']/_0xc96bd4):(_0x2900cd['y']=_0x2e089e*Math['tan'](_0x25b177*Math['PI']/(0x9*-0x34c+-0x1652*0x1+0x1*0x3566)),_0x2900cd['x']=_0x2900cd['y']*_0xc96bd4);}['add2'](_0x5ad00d,_0x16d560){const _0x239c85=_0x5ad00d['data'],_0x4397f2=_0x16d560['data'],_0x56c745=this['data'];return _0x56c745[0x2277+-0xe6b+-0x140c]=_0x239c85[-0x5f4+0x2*0x905+0x1ba*-0x7]+_0x4397f2[-0x67d*-0x3+-0x1a66+-0x5*-0x163],_0x56c745[0x1957+-0x13*0x19d+-0x551*-0x1]=_0x239c85[-0x5c*-0xe+-0x4c*-0x73+0x272b*-0x1]+_0x4397f2[0x299+0x170a+-0xc1*0x22],_0x56c745[0x240e+-0x1*-0x2009+-0x4415]=_0x239c85[0x1478+-0x2*0x90d+-0x25c]+_0x4397f2[-0x102d+-0x50*-0x8+0xdaf],_0x56c745[-0x1567*-0x1+0x14b9+-0x2a1d*0x1]=_0x239c85[0x3*0x7b1+0x383*0x1+0x1*-0x1a93]+_0x4397f2[0x165f+0xcb6+-0x2312],_0x56c745[-0x29*0xdb+0xc3e+0x16d9]=_0x239c85[-0xf79+-0x136+0x10b3]+_0x4397f2[-0xce6+0x97f+0x1*0x36b],_0x56c745[0xf60+-0x5*0x137+-0x1*0x948]=_0x239c85[0x23d*-0x2+0x2*0x9ad+0x1*-0xedb]+_0x4397f2[0x23a+0x17c9+0x8aa*-0x3],_0x56c745[0x1f12+0x54*0x3d+0x1988*-0x2]=_0x239c85[0xb2+0x13c3+-0x146f]+_0x4397f2[-0x17c5+0xa*-0x51+-0x43*-0x67],_0x56c745[-0x22e8+-0x3fc+-0x171*-0x1b]=_0x239c85[0xa76+-0xb*-0x295+-0x679*0x6]+_0x4397f2[0x1287+0x1*-0xd83+-0x4fd],_0x56c745[-0x4cc+0x4ab+0x29]=_0x239c85[-0x1a*0xa9+0x47*-0x1+-0x7*-0x27f]+_0x4397f2[0xa*-0xa9+-0x9e8+0x1d*0x92],_0x56c745[0x8fb+0xa57*0x2+0x60*-0x4f]=_0x239c85[0x11b9+0x1*0xe7b+0x3*-0xab9]+_0x4397f2[0x769+-0xeb4+0x754],_0x56c745[0x1aeb+-0x22d8+-0x7f7*-0x1]=_0x239c85[-0x86d+-0x437+0xcae]+_0x4397f2[-0x1*-0x124c+0x996+-0x252*0xc],_0x56c745[0xa9d+0x49*-0x52+0x290*0x5]=_0x239c85[-0x1b51+0x1859+-0x303*-0x1]+_0x4397f2[-0x31a+0x989+0x1*-0x664],_0x56c745[0xffe+-0x1ded+-0xdfb*-0x1]=_0x239c85[-0x5*0xe9+0x2*0x98a+-0xe7b]+_0x4397f2[0x5*0x269+0x1a1+0x2ba*-0x5],_0x56c745[-0x655*0x2+-0x2072+-0xb*-0x41b]=_0x239c85[0x122*-0x1f+0x16a*-0x11+0x3b35]+_0x4397f2[-0x1*0x1a1+-0x258c+-0x139d*-0x2],_0x56c745[-0xb*0x244+0x15*-0x117+0x2fdd]=_0x239c85[-0x12e*-0x1f+0x29d*0x1+-0x2721]+_0x4397f2[0x1*0xfb5+-0x43*-0x7d+-0x305e],_0x56c745[-0x7b6+-0x12cb+0x5*0x550]=_0x239c85[0xf7f+-0x1f70+0x1000]+_0x4397f2[-0x227d+0x10a+0x2*0x10c1],this;}['add'](_0x33cf10){return this['add2'](this,_0x33cf10);}['clone'](){const _0x2284ff=this['constructo'+'r'];return new _0x2284ff()['copy'](this);}['copy'](_0x105222){const _0x415235=_0x105222['data'],_0x5428b4=this['data'];return _0x5428b4[0x823*-0x2+-0xf08+0x1f4e*0x1]=_0x415235[0x1*-0x255c+-0x2db+0x2837],_0x5428b4[0x12d+0x1d45+0x1*-0x1e71]=_0x415235[0x134e*-0x2+0xd5*0x1f+-0x446*-0x3],_0x5428b4[-0x1d21+0x959+0x13ca]=_0x415235[-0x245d+0x2080+0x3df*0x1],_0x5428b4[-0x18f2+0x7*-0x4af+-0x30a*-0x13]=_0x415235[-0xb38+-0x1186+0x1cc1],_0x5428b4[0x7f8+0x1*0xc11+-0x19*0xcd]=_0x415235[0x1d*0xdb+0x1c3e+-0x3509],_0x5428b4[0x16f+-0xd*-0x129+-0x107f*0x1]=_0x415235[-0x1a06*-0x1+-0x1d1f*-0x1+0x18*-0x24c],_0x5428b4[0x1803+0x204a+0x3847*-0x1]=_0x415235[-0x2468+0x22c1+0x27*0xb],_0x5428b4[0x34*0x76+0x4*-0x192+-0x11a9]=_0x415235[0x56a+-0x2367+-0x2*-0xf02],_0x5428b4[0x1dc6+0x14*-0x96+-0x903*0x2]=_0x415235[0xd*0x20b+-0xf0f+-0xb78],_0x5428b4[-0x373*0x9+-0x1f02+0x3e16]=_0x415235[0x304*0x3+-0xb55*-0x1+-0x1458],_0x5428b4[0x12*0x1ac+-0x1123+-0xceb]=_0x415235[0x1*-0x2311+0x1ebe+-0x1*-0x45d],_0x5428b4[0xc13*0x1+-0x4f*0x45+-0x1*-0x943]=_0x415235[0x1*0x19f1+-0x1*-0xd44+-0x272a],_0x5428b4[-0x1a1*0x13+0x1f4b+-0x4c]=_0x415235[0x1854+-0x41*-0x15+0x39*-0x85],_0x5428b4[0x165b+0x1c74+-0x32c2]=_0x415235[-0x1282+0x2425+-0x1196],_0x5428b4[0x190a+-0x1c1b+-0x11*-0x2f]=_0x415235[-0x25f6+-0x1be9+-0x96b*-0x7],_0x5428b4[-0xa2b*-0x3+-0x232d+-0x7*-0xad]=_0x415235[0x2086+0x2081+-0x40f8*0x1],this;}['equals'](_0x46261c){const _0x16a523=this['data'],_0x1373eb=_0x46261c['data'];return _0x16a523[0x2*0x344+-0x3*-0xc87+0x17*-0x1eb]===_0x1373eb[-0x568*-0x1+-0x8b*-0x2f+0x57*-0x5b]&&_0x16a523[0x947+-0xdee*-0x2+-0x2522]===_0x1373eb[-0x1e99+-0x14da+0x3374]&&_0x16a523[0xf2d+0x4*0x28d+-0x1*0x195f]===_0x1373eb[0x22*-0x70+-0x89*0x39+0x50b*0x9]&&_0x16a523[-0x96d+-0xc37*-0x1+-0x2c7]===_0x1373eb[-0x2001+-0x1ad+-0x159*-0x19]&&_0x16a523[-0x1dba+-0xba9+0x2967*0x1]===_0x1373eb[-0x6*0x5b8+-0x1298+0x34ec]&&_0x16a523[-0x17f0+0x35*0x2+-0x93*-0x29]===_0x1373eb[-0x4a2*0x2+0x9b*-0xb+0x9d*0x1a]&&_0x16a523[-0xd3*-0x2f+0x1b7a+-0x4231]===_0x1373eb[0x43*-0xc+0x1fb8+-0x56*0x55]&&_0x16a523[-0x2*-0x137+-0x1d4d+0x139*0x16]===_0x1373eb[0xc44+0x2*-0x6ac+0x1*0x11b]&&_0x16a523[0x1*0x373+-0x1*-0x5db+-0x946]===_0x1373eb[-0x1c54+-0x1bee+0x384a]&&_0x16a523[0x134*0x11+0x4*-0x171+-0xb*0x155]===_0x1373eb[0x1d85+0x1038+-0x2db4]&&_0x16a523[0x1a5*-0x15+-0x251b+0xe56*0x5]===_0x1373eb[0x14b1*0x1+0x47*0xb+0x2*-0xbda]&&_0x16a523[-0x1*-0x4a5+0x2039+-0x24d3]===_0x1373eb[-0x396+0x676+0x2d5*-0x1]&&_0x16a523[0xc8f+-0x1*0x1a3+-0xae0]===_0x1373eb[0xffa+0x83f+-0x182d]&&_0x16a523[0x14f3+0x1*-0x260c+0x1126]===_0x1373eb[0xe91+-0x1*0x206a+0x11e6*0x1]&&_0x16a523[-0x13de+-0x2505*0x1+0x38f1]===_0x1373eb[-0x17bf*0x1+-0x15*0x48+0x1db5]&&_0x16a523[0x3*-0xac9+-0x12af*-0x1+0xdbb]===_0x1373eb[-0x7b5*-0x1+0x1*-0x2261+0x1abb];}['isIdentity'](){const _0x39b8e6=this['data'];return _0x39b8e6[0x1*-0x20c5+0x6*0x324+0x9b*0x17]===-0x9fe*0x3+-0x1e5c+0x3c57&&_0x39b8e6[-0x2f*0x66+-0x6*0x23a+0x2017*0x1]===-0x10e5+0xaef+-0x5f6*-0x1&&_0x39b8e6[0x18f5+0x1*-0x135d+-0x596]===0x2375+-0x23ab*-0x1+-0x4720&&_0x39b8e6[-0x1b00+-0x2332+0xf5*0x41]===-0x119c+-0x4e2+0x167e&&_0x39b8e6[-0xb*0x1+-0x1cc5+0x24*0xcd]===0x249f+-0xc*-0x3b+-0x2763*0x1&&_0x39b8e6[0x4f*-0x1d+-0x24b*-0x4+0xd*-0x4]===-0x1eed+0x15cf+0x1d3*0x5&&_0x39b8e6[0x1*0x2029+0x2*-0xbd7+-0x875]===0x268b+-0x189f+-0xdec&&_0x39b8e6[-0x231b+-0x1763*-0x1+0xbbf]===0x29c+-0x1*-0x1d47+0x1fe3*-0x1&&_0x39b8e6[-0x1d00+0x13*-0x6b+0xf*0x277]===0x2a2*0x4+0x1b61+-0x25e9&&_0x39b8e6[0x205d*0x1+-0x3*0x560+-0x2*0x81a]===-0x2656+-0x1a18+0x406e&&_0x39b8e6[-0xc5*-0x20+-0x3f1*-0x3+-0x2469]===0xd5*0xf+0x2*0xdaf+-0x27d8&&_0x39b8e6[0x184*0x8+-0x2366+0x1751]===0x111a+-0x1c*0x2f+0xbf6*-0x1&&_0x39b8e6[0x2*-0x10b0+-0x3*0x50b+0x308d]===-0x1*0x16d3+0x51*-0x29+0x23cc&&_0x39b8e6[-0x8e1*-0x1+-0x26*-0x17+0xc3e*-0x1]===-0x26b+-0xaba*0x1+0x5*0x2a1&&_0x39b8e6[0x174+0x5*-0x34d+0xf1b]===-0xdb8+-0x18d7*0x1+-0x268f*-0x1&&_0x39b8e6[0x115c+0x2*0xd2b+-0x2ba3]===-0x4*-0x634+0xfda*0x1+-0x28a9;}['mul2'](_0x45098a,_0x338939){const _0x45e0fd=_0x45098a['data'],_0x47ed86=_0x338939['data'],_0x26a35f=this['data'],_0x122ffc=_0x45e0fd[-0x2144+0x2340+-0x1fc],_0x65c463=_0x45e0fd[0x3*-0x77b+0x3*-0xca1+0x3c55],_0x3c904e=_0x45e0fd[0x1*-0x64c+0x683*0x1+-0x1*0x35],_0x2eecb0=_0x45e0fd[0x653*-0x3+-0x36c*0x8+0x2e5c],_0x428ac8=_0x45e0fd[0x1858+-0xaaf*-0x2+-0x1*0x2db2],_0x3c5d97=_0x45e0fd[-0x1203+-0x59*-0x11+0xc1f],_0x363ad3=_0x45e0fd[-0xa*-0xf1+0x4*-0x59e+-0x1*-0xd14],_0x164749=_0x45e0fd[0x19b8*0x1+0x887+-0x2238],_0x2f7228=_0x45e0fd[-0x2044+-0x16d7+-0x5*-0xb07],_0x28b331=_0x45e0fd[-0xc91*-0x2+0x423*0x2+-0x1*0x215f],_0x107707=_0x45e0fd[0xcdf*0x1+-0x1*0x5ce+0x7*-0x101],_0x5d6dd0=_0x45e0fd[0x1*-0x52f+-0x1153*-0x1+0xa3*-0x13],_0x162605=_0x45e0fd[0x197f+-0x1365+-0x60e],_0x4ef9dd=_0x45e0fd[0x4*0xd8+-0xad0+0x3*0x27f],_0x313cb7=_0x45e0fd[-0x115d*0x2+0x1c31+-0x7*-0xf1],_0x231a5d=_0x45e0fd[0x16dc+-0x16fe+0x31];let _0x14e10c,_0x39fb0c,_0x55ff49,_0x83e68d;return _0x14e10c=_0x47ed86[0x1*0x1979+0xd*-0x2ad+-0x8*-0x12a],_0x39fb0c=_0x47ed86[0x2*-0xef6+0x5*0x665+-0x20c],_0x55ff49=_0x47ed86[0x767+-0x135a*0x1+-0x1*-0xbf5],_0x83e68d=_0x47ed86[0x1*0x17bf+-0x13d*0x1d+0xc2d],_0x26a35f[0x201f*0x1+-0x3a9+-0x1*0x1c76]=_0x122ffc*_0x14e10c+_0x428ac8*_0x39fb0c+_0x2f7228*_0x55ff49+_0x162605*_0x83e68d,_0x26a35f[0x4f*-0x31+-0x1924+0x2844]=_0x65c463*_0x14e10c+_0x3c5d97*_0x39fb0c+_0x28b331*_0x55ff49+_0x4ef9dd*_0x83e68d,_0x26a35f[-0x2*0x87e+-0x242b+0x3529]=_0x3c904e*_0x14e10c+_0x363ad3*_0x39fb0c+_0x107707*_0x55ff49+_0x313cb7*_0x83e68d,_0x26a35f[0x106+0x3b*-0x5f+0x14e2]=_0x2eecb0*_0x14e10c+_0x164749*_0x39fb0c+_0x5d6dd0*_0x55ff49+_0x231a5d*_0x83e68d,_0x14e10c=_0x47ed86[-0xfb7+0x10a5*-0x2+-0x59*-0x8d],_0x39fb0c=_0x47ed86[-0x1f1a+-0x1*-0x100+0x1e1f],_0x55ff49=_0x47ed86[0x8*0x3d6+0x1*0xf43+-0x2ded*0x1],_0x83e68d=_0x47ed86[-0x2355+-0x1257+0x35b3],_0x26a35f[0x2bd+0x22ce+-0x1*0x2587]=_0x122ffc*_0x14e10c+_0x428ac8*_0x39fb0c+_0x2f7228*_0x55ff49+_0x162605*_0x83e68d,_0x26a35f[0x1881+0x1*-0x9b8+-0xec4]=_0x65c463*_0x14e10c+_0x3c5d97*_0x39fb0c+_0x28b331*_0x55ff49+_0x4ef9dd*_0x83e68d,_0x26a35f[0x298+0x49d*0x7+-0x22dd]=_0x3c904e*_0x14e10c+_0x363ad3*_0x39fb0c+_0x107707*_0x55ff49+_0x313cb7*_0x83e68d,_0x26a35f[0x12cf+-0x2707+-0x49*-0x47]=_0x2eecb0*_0x14e10c+_0x164749*_0x39fb0c+_0x5d6dd0*_0x55ff49+_0x231a5d*_0x83e68d,_0x14e10c=_0x47ed86[0x115d+0x1abe+0xeb1*-0x3],_0x39fb0c=_0x47ed86[-0xd*-0x21d+-0x1c1*0x12+0x422],_0x55ff49=_0x47ed86[-0xa40+-0x2534+0x2f7e],_0x83e68d=_0x47ed86[-0x173a*-0x1+-0xb5d*0x2+0x3*-0x27],_0x26a35f[0x11*-0x198+-0x1*-0x2263+-0x743]=_0x122ffc*_0x14e10c+_0x428ac8*_0x39fb0c+_0x2f7228*_0x55ff49+_0x162605*_0x83e68d,_0x26a35f[-0x18f3*0x1+-0x1bfa+-0x2*-0x1a7b]=_0x65c463*_0x14e10c+_0x3c5d97*_0x39fb0c+_0x28b331*_0x55ff49+_0x4ef9dd*_0x83e68d,_0x26a35f[-0xa5e+-0x1470*-0x1+-0xa08]=_0x3c904e*_0x14e10c+_0x363ad3*_0x39fb0c+_0x107707*_0x55ff49+_0x313cb7*_0x83e68d,_0x26a35f[0x39+-0x6f8+-0x6ca*-0x1]=_0x2eecb0*_0x14e10c+_0x164749*_0x39fb0c+_0x5d6dd0*_0x55ff49+_0x231a5d*_0x83e68d,_0x14e10c=_0x47ed86[-0x120b*-0x2+0x1*0x283+-0x268d],_0x39fb0c=_0x47ed86[-0xc5*-0x3+-0x2546*-0x1+-0x2788],_0x55ff49=_0x47ed86[-0x47b+-0x1bec*0x1+-0x1*-0x2075],_0x83e68d=_0x47ed86[0x38b*0xa+0x98d+-0x5*0x8fc],_0x26a35f[-0x97*0x5+-0xf9a+-0x3*-0x633]=_0x122ffc*_0x14e10c+_0x428ac8*_0x39fb0c+_0x2f7228*_0x55ff49+_0x162605*_0x83e68d,_0x26a35f[0xf62+-0x15e7+-0x3a*-0x1d]=_0x65c463*_0x14e10c+_0x3c5d97*_0x39fb0c+_0x28b331*_0x55ff49+_0x4ef9dd*_0x83e68d,_0x26a35f[-0x1*0x1937+-0x68f+0x1fd4]=_0x3c904e*_0x14e10c+_0x363ad3*_0x39fb0c+_0x107707*_0x55ff49+_0x313cb7*_0x83e68d,_0x26a35f[-0x66b+0x1dc4+0xba5*-0x2]=_0x2eecb0*_0x14e10c+_0x164749*_0x39fb0c+_0x5d6dd0*_0x55ff49+_0x231a5d*_0x83e68d,this;}['mulAffine2'](_0xadf339,_0x8c79bf){const _0x1a0303=_0xadf339['data'],_0x56d359=_0x8c79bf['data'],_0x1bac5a=this['data'],_0x43bc2f=_0x1a0303[0x1*-0x12c6+-0x2*0x71c+0xce*0x29],_0x1d30e7=_0x1a0303[-0x21f1*0x1+-0x187f+0x3a71],_0x4adc58=_0x1a0303[0xeec+0x1f7c+-0x2e66],_0x5b94ee=_0x1a0303[0x6*0x330+0x4a*-0x54+0x1*0x52c],_0xb6fd8d=_0x1a0303[0xf52+0x1*-0x62a+-0x923],_0x565b19=_0x1a0303[-0x744+-0xe*-0x25+0x544],_0x1a47f3=_0x1a0303[-0x18bf*0x1+-0x330+-0x1*-0x1bf7],_0x2e367a=_0x1a0303[-0x2*-0x95e+-0x28*0x1+-0x128b],_0x447190=_0x1a0303[-0x1d9+0x1f85+0xed1*-0x2],_0x24537a=_0x1a0303[0x4b*-0x11+-0x1*-0x131b+-0xe14],_0x5e5fbb=_0x1a0303[-0x1*-0x257+0xce9*-0x1+0xa9f],_0xee7082=_0x1a0303[0x5*-0x5d4+-0x1956*0x1+0x3688];let _0x154a85,_0x483ec4,_0x586b38;return _0x154a85=_0x56d359[0x21f4+0x1be5+0xdf*-0x47],_0x483ec4=_0x56d359[0x15ae+-0x127a+-0x333],_0x586b38=_0x56d359[0xf*0x22d+-0x7ff*-0x1+-0x28a0],_0x1bac5a[0x11b*-0xa+-0x2d6*-0xb+-0x1*0x1424]=_0x43bc2f*_0x154a85+_0x5b94ee*_0x483ec4+_0x1a47f3*_0x586b38,_0x1bac5a[0x20bd*0x1+0x1232+-0x32ee]=_0x1d30e7*_0x154a85+_0xb6fd8d*_0x483ec4+_0x2e367a*_0x586b38,_0x1bac5a[0xedf*0x2+0xcb7+-0x2a73]=_0x4adc58*_0x154a85+_0x565b19*_0x483ec4+_0x447190*_0x586b38,_0x1bac5a[0xbdc+0x177d+-0x2356]=-0x887*0x4+-0x2*-0x8ce+0x1*0x1080,_0x154a85=_0x56d359[-0x1c*-0x8+-0xed0+0x1*0xdf4],_0x483ec4=_0x56d359[-0x1b*0x101+0xc70+-0x2f*-0x50],_0x586b38=_0x56d359[0x1*0x1249+0x321+0x1564*-0x1],_0x1bac5a[0x1f9f+-0x1ec*0xc+-0x1b*0x51]=_0x43bc2f*_0x154a85+_0x5b94ee*_0x483ec4+_0x1a47f3*_0x586b38,_0x1bac5a[0xdc7+-0xfdc+0x21a]=_0x1d30e7*_0x154a85+_0xb6fd8d*_0x483ec4+_0x2e367a*_0x586b38,_0x1bac5a[-0x1608*0x1+0x7fe+0xe10]=_0x4adc58*_0x154a85+_0x565b19*_0x483ec4+_0x447190*_0x586b38,_0x1bac5a[0x1*0x2107+-0x9f*-0x2+-0x223e]=-0x12e*-0x1c+0x1a1c+-0x14*0x2f5,_0x154a85=_0x56d359[-0x16c6+-0x1ba6+0x3274*0x1],_0x483ec4=_0x56d359[0xdff+0x119a+-0xa*0x328],_0x586b38=_0x56d359[-0xaca+0xc71+-0x3b*0x7],_0x1bac5a[0x8e4+-0x1*-0x8bf+-0x119b]=_0x43bc2f*_0x154a85+_0x5b94ee*_0x483ec4+_0x1a47f3*_0x586b38,_0x1bac5a[-0x26*0x91+-0xae9+0x1*0x2078]=_0x1d30e7*_0x154a85+_0xb6fd8d*_0x483ec4+_0x2e367a*_0x586b38,_0x1bac5a[-0x8b*-0x35+0xd*0x133+0x4*-0xb15]=_0x4adc58*_0x154a85+_0x565b19*_0x483ec4+_0x447190*_0x586b38,_0x1bac5a[0x819*-0x2+0x587+0xab6]=-0x3*-0x485+-0x21d9+0x144a,_0x154a85=_0x56d359[-0x1b76+-0x115*0x1c+-0x1ce7*-0x2],_0x483ec4=_0x56d359[-0xd7f+0x25d2+-0xd*0x1de],_0x586b38=_0x56d359[0x25e6+0x233c+-0x4914],_0x1bac5a[0x1b8b+0x2*-0x2ee+-0x15a3]=_0x43bc2f*_0x154a85+_0x5b94ee*_0x483ec4+_0x1a47f3*_0x586b38+_0x24537a,_0x1bac5a[0xf2f+-0x3d0+-0xb52]=_0x1d30e7*_0x154a85+_0xb6fd8d*_0x483ec4+_0x2e367a*_0x586b38+_0x5e5fbb,_0x1bac5a[-0x163e+0x5a9*0x2+0xafa]=_0x4adc58*_0x154a85+_0x565b19*_0x483ec4+_0x447190*_0x586b38+_0xee7082,_0x1bac5a[0x1600+0x5f2*-0x6+0xdbb]=-0x1*0x152+0x1c6d+0x1b1a*-0x1,this;}['mul'](_0x170342){return this['mul2'](this,_0x170342);}['transformP'+'oint'](_0x336152,_0x1b12ea=new T()){const _0x393fcb=this['data'],{x:_0x174c62,y:_0x50969a,z:_0x268af1}=_0x336152;return _0x1b12ea['x']=_0x174c62*_0x393fcb[-0x3f+-0x6*0xc2+-0x4cb*-0x1]+_0x50969a*_0x393fcb[-0x2*0xf4f+-0x33*-0x57+-0xe3*-0xf]+_0x268af1*_0x393fcb[0x979+-0x1214+0xc9*0xb]+_0x393fcb[0x113e+0x4d*-0x25+0x611*-0x1],_0x1b12ea['y']=_0x174c62*_0x393fcb[-0x84b+-0x83a+-0xf*-0x11a]+_0x50969a*_0x393fcb[-0x4f5*-0x6+-0x1661+0x758*-0x1]+_0x268af1*_0x393fcb[-0x754+-0x6c*-0x1+0x1*0x6f1]+_0x393fcb[-0x1*0x1099+-0x1cb2+-0x1*-0x2d58],_0x1b12ea['z']=_0x174c62*_0x393fcb[-0xc21+-0x1b*0x11+0xdee]+_0x50969a*_0x393fcb[0x1a*0x66+-0xf2d+0x4d7]+_0x268af1*_0x393fcb[0x1*0xcfb+-0x58*-0x27+0x545*-0x5]+_0x393fcb[-0x1dc1+-0x1f1a+0x1*0x3ce9],_0x1b12ea;}['transformV'+'ector'](_0xa32aa5,_0x4bee92=new T()){const _0x12f74f=this['data'],{x:_0x13b963,y:_0x4be3a7,z:_0x297be5}=_0xa32aa5;return _0x4bee92['x']=_0x13b963*_0x12f74f[-0x734+0x2fb+-0x17*-0x2f]+_0x4be3a7*_0x12f74f[0xdbf+0x1*0x774+0x152f*-0x1]+_0x297be5*_0x12f74f[0xa8f+0x2b*-0xbf+0x158e],_0x4bee92['y']=_0x13b963*_0x12f74f[0x1d4+0x4*0x39b+-0x103f*0x1]+_0x4be3a7*_0x12f74f[-0x12d1*0x1+0x22f7*-0x1+0x35cd]+_0x297be5*_0x12f74f[0x656+-0x101c+0x51*0x1f],_0x4bee92['z']=_0x13b963*_0x12f74f[-0x1*0x191+0xa7*0xe+-0xd7*0x9]+_0x4be3a7*_0x12f74f[0x19b*-0x3+-0x1c16+0x20ed]+_0x297be5*_0x12f74f[0xdda+0x1ef8+-0x2cc8],_0x4bee92;}['transformV'+'ec4'](_0x580381,_0x37edf2=new Q()){const _0x292c4f=this['data'],{x:_0x50d1f8,y:_0x174c57,z:_0x18b873,w:_0x107abd}=_0x580381;return _0x37edf2['x']=_0x50d1f8*_0x292c4f[0x1*0x94d+-0x26b3*0x1+0x1d66]+_0x174c57*_0x292c4f[-0x29*0x27+-0x49*0x1d+0xe88]+_0x18b873*_0x292c4f[-0x19f*-0x13+-0x1*-0x1619+-0x34de]+_0x107abd*_0x292c4f[0x17b9+-0x39*-0x2b+-0x2140],_0x37edf2['y']=_0x50d1f8*_0x292c4f[-0x1cd3+0xae8+-0x1f*-0x94]+_0x174c57*_0x292c4f[-0xa4*0x10+0xd70+0x32b*-0x1]+_0x18b873*_0x292c4f[0x17*-0xf+0x5*-0xc+0x2e*0x9]+_0x107abd*_0x292c4f[-0x1f32+-0x1c1+0x2100],_0x37edf2['z']=_0x50d1f8*_0x292c4f[-0x4*0x240+-0x1*0x24fb+0x2dfd]+_0x174c57*_0x292c4f[0x1aa3+-0x1c*0xab+-0x7e9]+_0x18b873*_0x292c4f[0x2017+0x25b*-0x8+0xa1*-0x15]+_0x107abd*_0x292c4f[-0x1*-0xc9e+-0x1569+0xf*0x97],_0x37edf2['w']=_0x50d1f8*_0x292c4f[0x14*0xa+0x25f8+0x26bd*-0x1]+_0x174c57*_0x292c4f[-0x1*0x95+-0x1*-0x1cc2+-0x1c26]+_0x18b873*_0x292c4f[-0x33a+0xd6*-0x6+0x849]+_0x107abd*_0x292c4f[0x244c+0x19*-0x17b+0x9*0x16],_0x37edf2;}['setLookAt'](_0x1d2a50,_0x581b00,_0x564669){Os['sub2'](_0x1d2a50,_0x581b00)['normalize'](),Fs['copy'](_0x564669)['normalize'](),us['cross'](Fs,Os)['normalize'](),Fs['cross'](Os,us);const _0x2cf534=this['data'];return _0x2cf534[-0x4*-0x39b+-0x17*0x89+0x1*-0x21d]=us['x'],_0x2cf534[-0x2401+-0x19a1+0x3da3]=us['y'],_0x2cf534[0xbfb+0x6*-0x1bd+0x18b*-0x1]=us['z'],_0x2cf534[-0x14d8+0x248c+-0xfb1]=0x16f0+-0x2*0x9e9+-0x31e,_0x2cf534[0xb3d+0x2573+-0x30ac]=Fs['x'],_0x2cf534[0x7d5+-0xb53+-0x1*-0x383]=Fs['y'],_0x2cf534[-0xfb*-0x13+-0x9*0x15d+-0x656]=Fs['z'],_0x2cf534[-0x26c5+0x1*-0xc8b+0x3357]=-0x390*-0x2+0x84*0x12+0xc8*-0x15,_0x2cf534[0x25c7*0x1+-0x17ea+0xdd5*-0x1]=Os['x'],_0x2cf534[-0x1bd8+0x168*0x11+0x3*0x153]=Os['y'],_0x2cf534[-0x232*0x11+-0xa5d+0x1*0x2fb9]=Os['z'],_0x2cf534[-0x17f*0xb+0x1*0x1ed8+0x72c*-0x2]=-0x2e0+0x1*0x1a03+-0x1723,_0x2cf534[-0x5*-0x235+0x6*-0x25a+-0x2f*-0x11]=_0x1d2a50['x'],_0x2cf534[-0xc32+-0xa91*0x1+-0x2da*-0x8]=_0x1d2a50['y'],_0x2cf534[-0x241f+0x327*-0x9+0x408c]=_0x1d2a50['z'],_0x2cf534[-0x53*-0x57+0x1379+-0x2f9f]=0x1a*0x139+0x15*0xa2+-0x2d13,this;}['setFrustum'](_0x4f20aa,_0x389fb6,_0x3452d2,_0x1f09a4,_0x27179a,_0x33c0a6){const _0xdef124=(-0x205*0x1+-0x347*0x9+0xa*0x327)*_0x27179a,_0x5c43f2=_0x389fb6-_0x4f20aa,_0x5c6ad4=_0x1f09a4-_0x3452d2,_0x4e103a=_0x33c0a6-_0x27179a,_0x4ccf42=this['data'];return _0x4ccf42[0x24ba+0x1669+-0x3b23]=_0xdef124/_0x5c43f2,_0x4ccf42[0xc1*0x17+-0x24b5*-0x1+-0x360b]=-0x1438+-0x1*0xe8f+0x22c7,_0x4ccf42[0xce9+0xb7e*0x3+0x137*-0x27]=-0x189*-0xe+-0xed*0x24+0x1*0xbd6,_0x4ccf42[0x251e+-0xf*-0x11b+-0x1*0x35b0]=0x1b94+-0x4f1+-0x16a3,_0x4ccf42[0x1495*-0x1+0x1a0c+-0x573]=-0x7b*0x4d+-0xdc5+-0x43b*-0xc,_0x4ccf42[-0x47*0x17+0x1*0x2025+0x895*-0x3]=_0xdef124/_0x5c6ad4,_0x4ccf42[-0x28*-0x53+-0xb22+-0x1d0]=-0x4*0x626+-0x1629+0x2ec1,_0x4ccf42[0x2082+-0x1de0+-0x29b]=0x2*-0x445+-0x184d+0x20d7,_0x4ccf42[0x5*-0x1ee+-0x3*-0x146+0x5dc]=(_0x389fb6+_0x4f20aa)/_0x5c43f2,_0x4ccf42[0x1e89+-0xcd2+-0x2*0x8d7]=(_0x1f09a4+_0x3452d2)/_0x5c6ad4,_0x4ccf42[0x24a3+-0x13*0x1fa+0xf5]=(-_0x33c0a6-_0x27179a)/_0x4e103a,_0x4ccf42[0x2*0x4f+0x6d*0x29+-0x1208]=-(-0x92+0x1b95+-0x1b02),_0x4ccf42[-0x24ac+-0x90+0x2548*0x1]=-0xd68+-0x2408+0x3170,_0x4ccf42[0x1fba+-0x21d8+-0xf*-0x25]=-0xd*-0xe+-0x828+-0x772*-0x1,_0x4ccf42[0xe*0x2a3+-0x2427+-0x1*0xb5]=-_0xdef124*_0x33c0a6/_0x4e103a,_0x4ccf42[0x95*0x3+0x351*-0x3+0x843]=-0x1724+0x1462+0x2c2,this;}['setPerspec'+'tive'](_0x43bda7,_0xe97228,_0x61466,_0x4c38c2,_0x3f51bb){return Ur['_getPerspe'+'ctiveHalfS'+'ize'](Ua,_0x43bda7,_0xe97228,_0x61466,_0x3f51bb),this['setFrustum'](-Ua['x'],Ua['x'],-Ua['y'],Ua['y'],_0x61466,_0x4c38c2);}['setOrtho'](_0x147365,_0x5a826f,_0x51d43f,_0x568ca5,_0x47ddab,_0x35c3e3){const _0xcf5db8=this['data'];return _0xcf5db8[-0x1*0x8cb+0xc*0x1d+0x76f]=(-0x6*0x20c+-0x181b+-0x1*-0x2465)/(_0x5a826f-_0x147365),_0xcf5db8[-0x8*-0x3cd+-0x74f+-0x1718]=0x1fe7*-0x1+0xb29*-0x1+0x1a*0x1a8,_0xcf5db8[0x2*-0xbaa+0x263c+-0x2*0x773]=0x1e2d+-0x1*-0x25+0x1*-0x1e52,_0xcf5db8[-0x331+0x1*0x243d+0xb03*-0x3]=-0x124a+-0x65*0x11+-0x18ff*-0x1,_0xcf5db8[-0x1be8+-0x2*-0x469+0x1e9*0xa]=-0x857*-0x2+0x119*-0x1+0xf95*-0x1,_0xcf5db8[-0x2*0x3a1+-0x1bdb+-0xbb6*-0x3]=(-0x15b*-0x13+0x61*0x39+-0x14*0x25e)/(_0x568ca5-_0x51d43f),_0xcf5db8[0x88*-0x2f+0x1*0x5f3+0x659*0x3]=-0x207b*0x1+0xef*-0x16+-0x31*-0x115,_0xcf5db8[0x12fa*-0x1+-0xba0+0x1ea1]=-0xa7*-0x6+-0xe7d+-0xa93*-0x1,_0xcf5db8[0x18fd+0xa92+-0x2387]=-0x1538+0xd*0xfb+0x879,_0xcf5db8[0x109*-0x21+0x1a59+0x7d9]=0x1069+0xa59+-0x1ac2,_0xcf5db8[0x1*-0xf88+0x1f8+-0x2*-0x6cd]=-(-0x266c+0xca*-0x29+0xf*0x4b8)/(_0x35c3e3-_0x47ddab),_0xcf5db8[0x1df*0xa+0xd*-0x133+-0x18a*0x2]=0x1*0x196e+-0x4*0x28d+-0xf3a,_0xcf5db8[0x256c+0x1801+-0x3d61]=-(_0x5a826f+_0x147365)/(_0x5a826f-_0x147365),_0xcf5db8[-0x785+-0x1*0x1ea9+-0x263b*-0x1]=-(_0x568ca5+_0x51d43f)/(_0x568ca5-_0x51d43f),_0xcf5db8[0x169*-0x5+-0x1422+0x1b3d]=-(_0x35c3e3+_0x47ddab)/(_0x35c3e3-_0x47ddab),_0xcf5db8[0x266c+0x1*-0xf13+-0x174a]=0x1f25+0x19*-0x129+-0x223,this;}['setFromAxi'+'sAngle'](_0x32dd65,_0x2907b1){_0x2907b1*=N['DEG_TO_RAD'];const {x:_0x3f9d88,y:_0xa1d846,z:_0x1e1c6f}=_0x32dd65,_0x248dbb=Math['cos'](_0x2907b1),_0x3bab58=Math['sin'](_0x2907b1),_0x597b0c=0x641*-0x1+0x1*-0x241a+0x2a5c-_0x248dbb,_0x240d3b=_0x597b0c*_0x3f9d88,_0x4fc7d1=_0x597b0c*_0xa1d846,_0x5ef64d=this['data'];return _0x5ef64d[-0x32b*0x7+-0x1ac7+0x30f4*0x1]=_0x240d3b*_0x3f9d88+_0x248dbb,_0x5ef64d[-0x1*0x215f+-0x117+0x11*0x207]=_0x240d3b*_0xa1d846+_0x3bab58*_0x1e1c6f,_0x5ef64d[-0x5c7+-0x25b2*0x1+-0x1*-0x2b7b]=_0x240d3b*_0x1e1c6f-_0x3bab58*_0xa1d846,_0x5ef64d[0x2*0x76f+-0x1d79+0x2*0x74f]=-0xb8c+-0x7bc+0x1348,_0x5ef64d[0xb9+-0x24da+0x2425]=_0x240d3b*_0xa1d846-_0x3bab58*_0x1e1c6f,_0x5ef64d[0xb2+-0x20ef+0x2042]=_0x4fc7d1*_0xa1d846+_0x248dbb,_0x5ef64d[0xc*0x5c+0x131*0x1d+-0x26d7]=_0x4fc7d1*_0x1e1c6f+_0x3bab58*_0x3f9d88,_0x5ef64d[-0x1d7*0xb+-0xb*0x71+0x191f]=-0x7bf+0x82c+-0x1*0x6d,_0x5ef64d[-0x1b65+-0x14a6+0x3013]=_0x240d3b*_0x1e1c6f+_0x3bab58*_0xa1d846,_0x5ef64d[0x1*-0x1f19+-0x74*0x31+0x3556]=_0x4fc7d1*_0x1e1c6f-_0x3f9d88*_0x3bab58,_0x5ef64d[-0x11cd+-0x3c5+0x159c]=_0x597b0c*_0x1e1c6f*_0x1e1c6f+_0x248dbb,_0x5ef64d[-0x5*-0x2ae+0xf29*0x1+-0x1c84]=-0x1*-0x2177+0x1d41+-0x2*0x1f5c,_0x5ef64d[-0x1*-0xfc7+-0x1c64+-0x1*-0xca9]=0x9e*-0x23+-0x5ea+0x1b84,_0x5ef64d[-0x3*0x9bf+-0x178+0x1ec2]=-0x248c+0x2157+0x335,_0x5ef64d[0x1be5*-0x1+-0x19f*-0x12+-0x13b]=0x127+0x142*-0x1c+0x39*0x99,_0x5ef64d[-0x1544+0x1*-0x77f+0x1cd2]=0x5*0x7bb+-0xa9*0x20+0x2*-0x8c3,this;}['setTransla'+'te'](_0x15927e,_0x4fb96d,_0x3dbc63){const _0x120eed=this['data'];return _0x120eed[0x297+0x3d6*0x1+-0x66d]=-0x16f*-0xa+0x17*-0xfd+0x866,_0x120eed[-0xe54+-0x2304+0x1*0x3159]=-0x3a*0x4f+-0x1055+0x223b,_0x120eed[0x5*0x779+0x10b2+-0x360d*0x1]=-0x3eb+-0xef+0x4da,_0x120eed[0xbf1+-0x186c+0x2*0x63f]=0x17ce+-0x269d+-0xecf*-0x1,_0x120eed[0x2e*0x5f+0x89b*0x1+-0x19a9]=-0x2*-0xd25+-0xb6f*-0x2+-0x4*0xc4a,_0x120eed[-0xef*-0xd+0xc6e*0x1+-0x623*0x4]=-0x5*-0x2a2+0x6f3*-0x2+-0xbd*-0x1,_0x120eed[0xc*-0x25c+0x91e+0x1338]=0x9*0x2f2+0x3*0x92c+-0x3606,_0x120eed[0x1*0x2bb+-0x14c4+-0x10*-0x121]=-0x4d2+-0x110b*-0x2+-0x1d44,_0x120eed[-0x1*-0x1e82+-0x1*-0x25b8+-0x1d*0x25a]=-0x26+0x19bb+-0x1995,_0x120eed[0x203e+-0xf5b*0x1+0x6*-0x2cf]=0x7e7+0x97d*0x2+-0x1ae1,_0x120eed[-0x250f*0x1+0x2447+0xd2]=-0x53*-0x27+0x1366+-0x3*0xaae,_0x120eed[-0x8*0x146+0x613*0x1+0x428]=-0x1*-0x1807+-0x2*-0x11db+-0x3bbd,_0x120eed[0x522+0x19*-0x2b+-0xe3]=_0x15927e,_0x120eed[-0x14db*0x1+0xee7+-0x1d*-0x35]=_0x4fb96d,_0x120eed[0x1a*-0x3b+0xb1*-0x1f+-0x3ed*-0x7]=_0x3dbc63,_0x120eed[-0x2387+0x1a6+0x21f0]=-0xe5f+-0x260f*0x1+0x346f,this;}['setScale'](_0x133eb5,_0x492291,_0x43ad35){const _0x44fcff=this['data'];return _0x44fcff[0x1c27+0x1d*0xc7+-0x873*0x6]=_0x133eb5,_0x44fcff[-0xb81+-0x15*-0x17e+-0xc*0x1a7]=-0x635+-0xf95*-0x1+0xa*-0xf0,_0x44fcff[-0x6b2*-0x1+0xaaf+-0x115f*0x1]=0x1*-0xdd3+0x4*0x849+-0x1351,_0x44fcff[-0x1e03+-0x2ee+-0x57e*-0x6]=0xf7a+-0x14e3*-0x1+-0x6b*0x57,_0x44fcff[0x2701+-0x175a+0xfa3*-0x1]=-0x354+-0xe03+0x1157,_0x44fcff[0x14a5*0x1+-0x296*0xa+0x53c]=_0x492291,_0x44fcff[0x5e2+0x289*0xd+-0x1*0x26d1]=-0x64*0x23+-0x1354*-0x1+-0x2*0x2d4,_0x44fcff[-0xf*0x15b+-0x1*-0xa21+0xa3b]=-0x334+-0x1067+0x139b,_0x44fcff[-0x1*0x237f+-0x128a+-0x1*-0x3611]=0x6a1*-0x5+0x58f*-0x5+0x3cf0,_0x44fcff[-0x39e*-0x1+0x25*-0x43+-0x16*-0x47]=-0x1*0xa49+0x21e2*-0x1+0x1*0x2c2b,_0x44fcff[0x353+0x1f*-0x139+0x6*0x5c5]=_0x43ad35,_0x44fcff[-0x145c+-0x48+0x14af]=-0x79d+-0x2*-0x10d0+-0x1a03,_0x44fcff[-0x1dfe*0x1+0x1475*-0x1+-0x5d*-0x8b]=0x43c+-0xc23+0x7e7,_0x44fcff[0xe56+-0xc89+-0x2*0xe0]=-0x1870*-0x1+-0x1f59+0x3d*0x1d,_0x44fcff[-0x2327+0x47*0x55+0x2*0x5d1]=-0x11c0+0x23be+-0x11fe,_0x44fcff[-0x215e+0x11*0xb3+0xac5*0x2]=0x35*-0x3a+0x2*-0x670+0x18e3,this;}['setViewpor'+'t'](_0x2b04df,_0x55fce3,_0x17a2af,_0xd2f6f6){const _0x58c814=this['data'];return _0x58c814[0x1baa+-0x1*0xfc9+-0xbe1]=_0x17a2af*(-0x2556+0x420*0x8+0x456+0.5),_0x58c814[0x1*0x10d5+0x1dbf+-0x2e93]=-0x20*0x38+0x348+0x2*0x1dc,_0x58c814[0x25d9+0x5a7+-0x2b7e]=-0x18bd+0xc7e+0xc3f,_0x58c814[0x2*-0xd4f+0x119e*0x2+-0x89b]=-0x52f*0x1+-0x1*0x22f+0x75e*0x1,_0x58c814[0x57*-0x43+-0x7*0x73+0x19ee]=0x47b*0x6+-0x5*-0x69b+-0x1*0x3be9,_0x58c814[0x1*0x522+0x24e1+-0x29fe]=_0xd2f6f6*(0x12b7+0x154a+-0x21b*0x13+0.5),_0x58c814[0x34*0x2f+-0x1bc6+0x1240]=0x1*0x7ef+0x1*-0x264d+0x2e*0xa9,_0x58c814[0x25b3*-0x1+0x2a2+0x2318]=0x5*0x47d+0x10d*-0x1+-0x1564,_0x58c814[0x2187+0x1*0x2617+0x51d*-0xe]=0x3ca+-0x66a+-0x30*-0xe,_0x58c814[-0x26bb+0x2e*0xac+-0x1*-0x7dc]=-0x1f*0x67+-0x619*-0x5+-0x481*0x4,_0x58c814[-0x7*0x286+0xb3b+0x679]=0x1*-0xa3d+0x338+-0x257*-0x3+0.5,_0x58c814[-0x1414+0x1*-0x269+-0xce*-0x1c]=0x89b+-0x15dc+-0x46b*-0x3,_0x58c814[-0x53*0x66+0xe66+0x12b8]=_0x2b04df+_0x17a2af*(0x4b*-0x57+0x31f*0xc+-0xbf7+0.5),_0x58c814[0x191*0x2+-0xd*-0x2a+-0x537]=_0x55fce3+_0xd2f6f6*(0x263a+-0x1388+-0x959*0x2+0.5),_0x58c814[0x17a4+0xd02+-0x2498]=0x75a+-0x7*0xcd+-0x1bf+0.5,_0x58c814[0x25c5+0x75*0x3d+-0xc1*0x57]=-0x1d64+-0x1714+0x77f*0x7,this;}['setReflect'+'ion'](_0x27263f,_0x4c9d59){const _0x5779f0=_0x27263f['x'],_0xf36840=_0x27263f['y'],_0x4411bf=_0x27263f['z'],_0x411c98=this['data'];return _0x411c98[-0x1*0x2296+-0x16c7+0x59*0xa5]=-0x5cf*-0x1+-0x257+-0x377*0x1-(-0x1b88+0x1dd3+0x5*-0x75)*_0x5779f0*_0x5779f0,_0x411c98[-0x103a*-0x1+0xc06+-0x1c3f]=-(0x19ff+-0x5*-0x5ed+-0x7e*0x71)*_0x5779f0*_0xf36840,_0x411c98[0x2560+0x7*0x22e+0x2*-0x1a50]=-(-0x80a*-0x1+0x35*0x11+-0xb8d*0x1)*_0x5779f0*_0x4411bf,_0x411c98[-0x1265+0x19a6+-0x135*0x6]=0x1*0x8df+0x2322+-0x2c01,_0x411c98[0x1*0xca5+-0xfb8+0x7*0x71]=-(0x614+0xb6*-0x1+-0x55c)*_0x5779f0*_0xf36840,_0x411c98[0x115d+-0x24b2+0x135a]=0x2059+-0xba9+-0x14af*0x1-(-0x2*-0x274+-0x15a1+0x10bb*0x1)*_0xf36840*_0xf36840,_0x411c98[0x242c+-0x1dec+-0x63a]=-(0x1*0x1714+0x405+-0x1b17)*_0xf36840*_0x4411bf,_0x411c98[-0x24a6+0x5*-0x39d+0x9a*0x5b]=-0x1*0x25d6+-0x5*0x3eb+-0x396d*-0x1,_0x411c98[-0x2*0x1286+-0x1ff8+0x2*0x2286]=-(0x1*-0x7d9+0x154f+-0xd74)*_0x5779f0*_0x4411bf,_0x411c98[-0x9a6+-0x1ea+0xb99]=-(-0x18d4+0xb94+-0x6a1*-0x2)*_0xf36840*_0x4411bf,_0x411c98[-0x253f*-0x1+-0x6d*-0x1+-0x25a2]=-0x12*-0x167+0x2*0xeb4+-0x3*0x1237-(-0x20f1+-0x180d+0x3900)*_0x4411bf*_0x4411bf,_0x411c98[-0x4a9*-0x3+0x6c5*0x1+-0x14b5]=-0xbd2+-0x1491+-0x2063*-0x1,_0x411c98[-0xe42+0x1fb3+-0x1165]=-(-0x3c7*-0x3+0x2*-0xc50+-0xd4d*-0x1)*_0x5779f0*_0x4c9d59,_0x411c98[-0x1a95+-0x1630+0x30d2]=-(0x1*-0x2606+0x14bb+0x114d)*_0xf36840*_0x4c9d59,_0x411c98[-0x1*0xb89+0x2204+-0x166d]=-(-0xa39*-0x2+0x2*-0xf4d+0xa2a*0x1)*_0x4411bf*_0x4c9d59,_0x411c98[-0x1045*0x2+-0x53*-0x1d+0x1732]=-0x537*0x1+-0x984+-0x4*-0x3af,this;}['invert'](_0x236032=this){const _0x59fca2=_0x236032['data'],_0x5e5ec1=_0x59fca2[0x1bd6+-0x1d06+0x130],_0x31de44=_0x59fca2[-0xa*-0x38b+0x1389+-0x36f6],_0x449f9a=_0x59fca2[-0x1c61+0xc4f+0x31*0x54],_0x5e9356=_0x59fca2[-0x1*-0xf6+0x1365+0x2a*-0x7c],_0x76d73f=_0x59fca2[0x1312*-0x2+-0x2045+0x466d],_0x381782=_0x59fca2[0x1fc*-0x5+-0xe10+0x1801],_0x1073f2=_0x59fca2[0x23ed+0x69*0x44+0x1*-0x3fcb],_0x5cf584=_0x59fca2[-0x117a*-0x1+0x3*0xbc0+0x1*-0x34b3],_0x9f847d=_0x59fca2[-0x1*0x1f6a+0x2369+-0x7*0x91],_0x25c20a=_0x59fca2[0x1d35+-0xedd+-0xe4f],_0x2a6a6f=_0x59fca2[-0x8*-0x82+0x24d4+0x2*-0x146d],_0x2a0870=_0x59fca2[-0x5e1*-0x2+0xa4b+-0x1602],_0x229f51=_0x59fca2[0x1bd2+0x1*-0x18e6+-0xb8*0x4],_0x13782f=_0x59fca2[-0xf41+0x132c+-0x3de],_0x430442=_0x59fca2[0xc2*-0x1a+-0xed9+-0x1*-0x229b],_0x1d1fbc=_0x59fca2[0x198*0x6+-0xb3c+-0x1bb*-0x1],_0x46c360=_0x5e5ec1*_0x381782-_0x31de44*_0x76d73f,_0x1a378f=_0x5e5ec1*_0x1073f2-_0x449f9a*_0x76d73f,_0x273bc2=_0x5e5ec1*_0x5cf584-_0x5e9356*_0x76d73f,_0x2e07a1=_0x31de44*_0x1073f2-_0x449f9a*_0x381782,_0x537061=_0x31de44*_0x5cf584-_0x5e9356*_0x381782,_0x5cdb81=_0x449f9a*_0x5cf584-_0x5e9356*_0x1073f2,_0x260d46=_0x9f847d*_0x13782f-_0x25c20a*_0x229f51,_0x34a38e=_0x9f847d*_0x430442-_0x2a6a6f*_0x229f51,_0x35651b=_0x9f847d*_0x1d1fbc-_0x2a0870*_0x229f51,_0x1119c4=_0x25c20a*_0x430442-_0x2a6a6f*_0x13782f,_0x4d8271=_0x25c20a*_0x1d1fbc-_0x2a0870*_0x13782f,_0x23271f=_0x2a6a6f*_0x1d1fbc-_0x2a0870*_0x430442,_0x176da2=_0x46c360*_0x23271f-_0x1a378f*_0x4d8271+_0x273bc2*_0x1119c4+_0x2e07a1*_0x35651b-_0x537061*_0x34a38e+_0x5cdb81*_0x260d46;if(_0x176da2===-0x9a7+0x16*-0x1b7+0x3a5*0xd)this['setIdentit'+'y']();else{const _0x2c0f4f=(-0x2ff+-0x106c*0x1+0x136c)/_0x176da2,_0x399251=this['data'];_0x399251[0xb01*0x3+-0x19b2+0x1*-0x751]=(_0x381782*_0x23271f-_0x1073f2*_0x4d8271+_0x5cf584*_0x1119c4)*_0x2c0f4f,_0x399251[-0xd*-0x28d+-0x5*0x311+-0x11d3]=(-_0x31de44*_0x23271f+_0x449f9a*_0x4d8271-_0x5e9356*_0x1119c4)*_0x2c0f4f,_0x399251[-0x52f*0x1+-0xfed+0x151e]=(_0x13782f*_0x5cdb81-_0x430442*_0x537061+_0x1d1fbc*_0x2e07a1)*_0x2c0f4f,_0x399251[0x626*-0x2+0x4d*-0x1d+-0x8*-0x2a1]=(-_0x25c20a*_0x5cdb81+_0x2a6a6f*_0x537061-_0x2a0870*_0x2e07a1)*_0x2c0f4f,_0x399251[-0x11*-0x111+-0x2*-0xd2+-0x185*0xd]=(-_0x76d73f*_0x23271f+_0x1073f2*_0x35651b-_0x5cf584*_0x34a38e)*_0x2c0f4f,_0x399251[0x1c3d+0x18e0+-0x1a8c*0x2]=(_0x5e5ec1*_0x23271f-_0x449f9a*_0x35651b+_0x5e9356*_0x34a38e)*_0x2c0f4f,_0x399251[0x11e6+0x1e6b+-0x304b]=(-_0x229f51*_0x5cdb81+_0x430442*_0x273bc2-_0x1d1fbc*_0x1a378f)*_0x2c0f4f,_0x399251[-0x2163+-0x7*0x289+-0x74f*-0x7]=(_0x9f847d*_0x5cdb81-_0x2a6a6f*_0x273bc2+_0x2a0870*_0x1a378f)*_0x2c0f4f,_0x399251[-0x766+-0x3*0x273+-0x3*-0x4ed]=(_0x76d73f*_0x4d8271-_0x381782*_0x35651b+_0x5cf584*_0x260d46)*_0x2c0f4f,_0x399251[-0x19e9+-0x2447+-0x3e39*-0x1]=(-_0x5e5ec1*_0x4d8271+_0x31de44*_0x35651b-_0x5e9356*_0x260d46)*_0x2c0f4f,_0x399251[-0x26d9+-0x9*0x103+0x2ffe*0x1]=(_0x229f51*_0x537061-_0x13782f*_0x273bc2+_0x1d1fbc*_0x46c360)*_0x2c0f4f,_0x399251[0xfb6*-0x2+0xc8b+0x2b4*0x7]=(-_0x9f847d*_0x537061+_0x25c20a*_0x273bc2-_0x2a0870*_0x46c360)*_0x2c0f4f,_0x399251[0x1375+0xe18+-0x2181]=(-_0x76d73f*_0x1119c4+_0x381782*_0x34a38e-_0x1073f2*_0x260d46)*_0x2c0f4f,_0x399251[-0x1479+-0x2581+-0x3a07*-0x1]=(_0x5e5ec1*_0x1119c4-_0x31de44*_0x34a38e+_0x449f9a*_0x260d46)*_0x2c0f4f,_0x399251[-0xe1c+0x11a8+0x1bf*-0x2]=(-_0x229f51*_0x2e07a1+_0x13782f*_0x1a378f-_0x430442*_0x46c360)*_0x2c0f4f,_0x399251[-0x1024+0x3*-0x7e2+0x27d9]=(_0x9f847d*_0x2e07a1-_0x25c20a*_0x1a378f+_0x2a6a6f*_0x46c360)*_0x2c0f4f;}return this;}['set'](_0x41084c){const _0x1c588e=this['data'];return _0x1c588e[-0x5*-0xdf+-0x2202*-0x1+-0x265d]=_0x41084c[0x1329+-0x416*0x3+-0x6e7],_0x1c588e[-0x977+0x19df+-0x11*0xf7]=_0x41084c[0x144d*-0x1+0x3*0x6d5+-0x31*0x1],_0x1c588e[0x1754+0x2d*-0xb9+0x1*0x933]=_0x41084c[-0xe*-0x172+0x55f+0x1*-0x1999],_0x1c588e[-0xb6+0x5*0x313+-0xea6]=_0x41084c[0x1dfd+-0x1*0x120b+-0xbef],_0x1c588e[0x182b+-0x8c2+-0x7*0x233]=_0x41084c[0x132c+-0x2514*-0x1+-0x383c],_0x1c588e[-0x1d5c+-0x1a2d+0x378e]=_0x41084c[-0x1*0x11bd+-0x110f+0x22d1],_0x1c588e[0x1047+-0x24fd*0x1+0x14bc]=_0x41084c[-0x19f+-0x3e*0x89+0x22d3],_0x1c588e[-0x1663+-0x2*0x62a+0x22be]=_0x41084c[0x33d*-0x6+0xe0b+0x56a],_0x1c588e[-0x268e+-0x2063+0x46f9]=_0x41084c[-0x2*0x4c3+-0xfb6+0x126*0x16],_0x1c588e[-0x220f*-0x1+0x777*0x4+-0x3fe2]=_0x41084c[-0x57*-0x3c+0x1*-0x6e1+-0xd7a],_0x1c588e[-0x6b0*-0x4+-0x1*-0x10e2+-0x2b98]=_0x41084c[0x83f+-0x13fb+-0x1*-0xbc6],_0x1c588e[-0x12*-0x198+-0x502*0x7+0x669]=_0x41084c[0x2c9*-0xa+0x2*0x24b+0x174f],_0x1c588e[0x955+-0x17ea+0xea1]=_0x41084c[0x1f83+0x1a90+0x1*-0x3a07],_0x1c588e[-0x304+0x125e+-0xf4d]=_0x41084c[0x1*-0x171a+0x161*-0x1+0x1888],_0x1c588e[0x1*-0x1ed1+-0x1*0x1337+0x190b*0x2]=_0x41084c[-0x104b+-0x1a6+0x11ff],_0x1c588e[-0x627*-0x1+0x1998+-0x1fb0*0x1]=_0x41084c[-0x256*-0x4+-0xc*-0x127+0x3d*-0x61],this;}['setIdentit'+'y'](){const _0x575b7c=this['data'];return _0x575b7c[-0x1c1e*-0x1+0x1621+-0x323f]=0x24b1+-0x150f+-0x1*0xfa1,_0x575b7c[-0x2669*0x1+-0xb92+0x7*0x724]=-0x251*-0x9+-0x19*0x4d+0x6aa*-0x2,_0x575b7c[0xb*0x2ea+-0x2*-0xaba+0xd6*-0x40]=0xda0+-0x41*0x5f+0xa7f*0x1,_0x575b7c[0x2128*0x1+0x9*-0x3ae+-0x7*0x1]=-0x1a0e+0x1a0f+-0x1,_0x575b7c[-0x1511*0x1+0x1ecd+0x26e*-0x4]=-0x104b+-0x232+0x127d,_0x575b7c[-0x15ca+0x1*0x2cf+0x4c0*0x4]=-0x74c*-0x1+-0xe53+-0x1e*-0x3c,_0x575b7c[0x25d5+-0x1350+0x127f*-0x1]=-0xa98+-0x1*0x20e+0xca6*0x1,_0x575b7c[0x8c6+-0x7*0x204+0x55d]=0x702+-0xe4c*-0x1+-0x154e*0x1,_0x575b7c[-0xb34+0x244e+-0x1912]=-0x3*-0xb03+-0x2383*-0x1+-0x448c,_0x575b7c[0x1194+-0x8*0x3fa+0xe45]=-0x233*0x1+0x22d*0x5+-0x457*0x2,_0x575b7c[-0x3d*-0x33+-0x144f+0x832]=-0xe3*-0x12+-0x2448+0x1453*0x1,_0x575b7c[0xfa5+-0x85a+-0x740]=0x221*-0x1+0x8b*0x1a+-0xbfd,_0x575b7c[0x16ce+-0x1344+0x37e*-0x1]=-0x4bb*0x2+-0x2273+0x2be9,_0x575b7c[0x3*0x43e+0x17*0x2b+-0x108a]=-0x23d6+-0x1c97+0x1*0x406d,_0x575b7c[-0x38f*0x3+-0x13c+0xbf7]=0x1e31*0x1+0x1f76+-0x3da7,_0x575b7c[-0x27a*-0x3+0x8*-0x199+0x115*0x5]=-0x1f94+0x3b6*0x4+0x10bd,this;}['setTRS'](_0x115ee0,_0x4d08e5,_0xd79a4e){const _0x5cdb8e=_0x4d08e5['x'],_0x31bd0d=_0x4d08e5['y'],_0x297a33=_0x4d08e5['z'],_0x10ca97=_0x4d08e5['w'],_0x57d943=_0xd79a4e['x'],_0x2d2885=_0xd79a4e['y'],_0xdd59c6=_0xd79a4e['z'],_0x57ddde=_0x5cdb8e+_0x5cdb8e,_0x309aa7=_0x31bd0d+_0x31bd0d,_0x3b0e11=_0x297a33+_0x297a33,_0x430e3f=_0x5cdb8e*_0x57ddde,_0x1bffd7=_0x5cdb8e*_0x309aa7,_0x22e081=_0x5cdb8e*_0x3b0e11,_0x2e85a8=_0x31bd0d*_0x309aa7,_0x59b524=_0x31bd0d*_0x3b0e11,_0x4228bf=_0x297a33*_0x3b0e11,_0x36ca5d=_0x10ca97*_0x57ddde,_0x5a0048=_0x10ca97*_0x309aa7,_0xb79de3=_0x10ca97*_0x3b0e11,_0x1587a7=this['data'];return _0x1587a7[-0xb26*0x1+0x4d9*-0x5+0x2363]=(0x1b00+0x24b*0xe+-0x3b19-(_0x2e85a8+_0x4228bf))*_0x57d943,_0x1587a7[-0xa32+-0x1*0x1583+0x1fb6]=(_0x1bffd7+_0xb79de3)*_0x57d943,_0x1587a7[-0x2*-0x717+-0x143d+0x611]=(_0x22e081-_0x5a0048)*_0x57d943,_0x1587a7[-0x1ee7+-0x1ab3*-0x1+0x1*0x437]=-0x2*-0x61f+0x21dc+0x6*-0x7af,_0x1587a7[-0x1a*-0x149+-0x42d*-0x4+-0x6a*0x79]=(_0x1bffd7-_0xb79de3)*_0x2d2885,_0x1587a7[0x914+-0x982+0x73]=(0x31*0xb3+-0x1bc3*0x1+-0x67f*0x1-(_0x430e3f+_0x4228bf))*_0x2d2885,_0x1587a7[0x426*-0x9+-0x2bd*0x6+-0x22*-0x195]=(_0x59b524+_0x36ca5d)*_0x2d2885,_0x1587a7[-0x15ed+-0xa*0x2ea+0xa38*0x5]=-0x1*0x204a+0x526*-0x1+0x95c*0x4,_0x1587a7[0x1bdf+0x1d9f+-0x3976]=(_0x22e081+_0x5a0048)*_0xdd59c6,_0x1587a7[0x66f+0x1*0x2472+-0xab6*0x4]=(_0x59b524-_0x36ca5d)*_0xdd59c6,_0x1587a7[-0x1917+-0x15f8+0x2f19]=(0x1*-0x1d7b+-0x1085+-0x2e01*-0x1-(_0x430e3f+_0x2e85a8))*_0xdd59c6,_0x1587a7[-0x1465+-0x1e85+0x5*0xa31]=-0xb68+-0x155+0xcbd,_0x1587a7[0x38f*0x1+0xdae*0x1+0x1131*-0x1]=_0x115ee0['x'],_0x1587a7[0x7eb+-0x153*-0x5+-0xe7d]=_0x115ee0['y'],_0x1587a7[-0x859*0x3+0x579*-0x1+0x1e92]=_0x115ee0['z'],_0x1587a7[0x128c+-0x2*-0x115+-0x14a7]=0x1*0x110b+-0x996+0x27c*-0x3,this;}['transpose'](_0xd048b5=this){const _0x251006=_0xd048b5['data'],_0x134bc6=this['data'];if(_0x251006===_0x134bc6){let _0x6edbc9;_0x6edbc9=_0x251006[0x11b8+0x1e3b+-0x2ff2],_0x134bc6[-0x26bd+0x2298+0x426]=_0x251006[0x266f*-0x1+0x1505+-0x61*-0x2e],_0x134bc6[-0x1ae+-0x2fc+0x257*0x2]=_0x6edbc9,_0x6edbc9=_0x251006[-0xde9+-0x85b*-0x1+0x164*0x4],_0x134bc6[-0x13ec+-0x1eb8+0x32a6]=_0x251006[0x2*0x1225+-0x2*0x10a1+-0x18*0x20],_0x134bc6[-0x1*-0x413+-0x67+0x1*-0x3a4]=_0x6edbc9,_0x6edbc9=_0x251006[-0xf1*-0xb+-0x1213+0x1*0x7bb],_0x134bc6[0x26d8+0x10d5*0x2+-0x487f]=_0x251006[-0xe9b+-0x1f*-0x10f+-0x122a],_0x134bc6[-0x1*0x1c91+-0x11d4+0x2e71]=_0x6edbc9,_0x6edbc9=_0x251006[0x179e+-0x21a+-0x157e],_0x134bc6[0xf9+0x2467+-0x255a]=_0x251006[-0x857+-0x2013+-0x5f*-0x6d],_0x134bc6[-0x1dd*-0x7+0xf65+-0x1c67]=_0x6edbc9,_0x6edbc9=_0x251006[0x15c+0xf*0x276+-0x263f],_0x134bc6[-0x3*0x5fb+-0x55c*0x2+0x4*0x72c]=_0x251006[0x1e5d+-0x23*0xc6+-0x33e],_0x134bc6[-0xc*0x129+-0x1eff+0x167c*0x2]=_0x6edbc9,_0x6edbc9=_0x251006[0xe0+-0x11b*0xf+0x54*0x30],_0x134bc6[0x2eb+0x5*-0x74f+0x21ab]=_0x251006[-0x2b*0x28+0x23be+-0x24*0xce],_0x134bc6[0xb16+-0x187*0x9+-0x1*-0x2b7]=_0x6edbc9;}else _0x134bc6[-0x10ca*-0x1+-0x1*-0x4ea+0x73c*-0x3]=_0x251006[0x19b1+0x1*-0xcc7+-0xcea],_0x134bc6[0x1369+0x1ec+0xd*-0x1a4]=_0x251006[-0x145c+-0x5f*0x17+0x1ce9],_0x134bc6[-0x51*0x16+-0x2543*0x1+0x367*0xd]=_0x251006[-0x651+0x1499*-0x1+0x1*0x1af2],_0x134bc6[-0xe1c+0x9e2+0x23*0x1f]=_0x251006[0xc*0x196+-0x1c7*-0x5+-0x1bdf],_0x134bc6[0x1*0x2246+0x27*-0x99+-0xaf3]=_0x251006[0x3*0x60d+0x10e3+0x2309*-0x1],_0x134bc6[-0x1f10+0x8bd+0x5*0x478]=_0x251006[-0x1cc4+0x1d67+0x2*-0x4f],_0x134bc6[0x19d*-0x4+-0x1847+0x1ec1]=_0x251006[0x21f5+-0x12ba+0x799*-0x2],_0x134bc6[0x183d+0x1c56+-0x348c]=_0x251006[0x1edf+-0x26f6+0x1*0x824],_0x134bc6[0x4*-0x8+0x119*0x1+0xf1*-0x1]=_0x251006[-0x128f*-0x1+0x12b*0x21+0x54*-0xae],_0x134bc6[0xe93+-0xb7b*0x1+-0x1b*0x1d]=_0x251006[0xaa0+0x1*0x1567+-0x1*0x2001],_0x134bc6[-0x170e*-0x1+0x1*-0x208b+0x987]=_0x251006[0x1cbc+0xc73+-0x3*0xdb7],_0x134bc6[-0x1d64+-0x11a0+0x2f0f]=_0x251006[-0x17cf+-0x1f02+0x36df],_0x134bc6[0x1976*0x1+-0x4dc*-0x7+-0x3b6e]=_0x251006[-0x926+0xc2*-0xa+0x10bd*0x1],_0x134bc6[0x23ed+-0x11ea*0x2+0x1*-0xc]=_0x251006[0x2*-0x1024+-0xc5b*-0x1+0x13f4*0x1],_0x134bc6[0x533*-0x4+0x128d+0x24d]=_0x251006[-0x7ea*-0x1+0x11*0xb5+-0x13e4],_0x134bc6[0x376*0x1+-0x1700+0x1399*0x1]=_0x251006[0x1*0x192e+0x1345+-0x2c64];return this;}['getTransla'+'tion'](_0x892e3e=new T()){return _0x892e3e['set'](this['data'][-0x182e*0x1+-0x22a0+0x3ada],this['data'][-0x1f*0xad+0x29a*0x5+0x6*0x155],this['data'][-0xb47*0x1+-0x931+-0xa43*-0x2]);}['getX'](_0x8c8739=new T()){return _0x8c8739['set'](this['data'][0x1d7c+-0x28d*-0x5+-0x1*0x2a3d],this['data'][-0xd*0xff+-0x2080+0x2d74*0x1],this['data'][0x247*-0x3+0x1*0x9e7+-0x8*0x62]);}['getY'](_0x561b5d=new T()){return _0x561b5d['set'](this['data'][0x234*0x6+-0xc08*0x3+-0x4*-0x5b9],this['data'][0x1943+0xa47+-0x2385*0x1],this['data'][-0x55*0x38+-0x1dee+-0x1*-0x308c]);}['getZ'](_0x446531=new T()){return _0x446531['set'](this['data'][-0x131a*0x1+0x39e+0xf84],this['data'][0x1*0x233+-0x1466+0x123c],this['data'][-0x19e4+-0x1ceb*0x1+0x36d9]);}['getScale'](_0x16915c=new T()){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),_0x16915c['set'](us['length'](),Fs['length'](),Os['length']()),_0x16915c;}get['scaleSign'](){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),us['cross'](us,Fs),us['dot'](Os)<0x10b2*0x2+0x1*-0x2671+0x50d?-(0x14fe+-0xb2+0x40f*-0x5):-0x1a16+-0x1f2+0x1c09;}['setFromEul'+'erAngles'](_0x58dbe8,_0x2382f7,_0x4f2cf8){_0x58dbe8*=N['DEG_TO_RAD'],_0x2382f7*=N['DEG_TO_RAD'],_0x4f2cf8*=N['DEG_TO_RAD'];const _0x5ccaf6=Math['sin'](-_0x58dbe8),_0x19c4cd=Math['cos'](-_0x58dbe8),_0x2f0b88=Math['sin'](-_0x2382f7),_0x1d1dd7=Math['cos'](-_0x2382f7),_0x59b06f=Math['sin'](-_0x4f2cf8),_0x22513e=Math['cos'](-_0x4f2cf8),_0x51844a=this['data'];return _0x51844a[0x14*-0x89+-0x1947*-0x1+-0xe93]=_0x1d1dd7*_0x22513e,_0x51844a[0x6c7*0x4+0x16b8+-0x31d3]=-_0x1d1dd7*_0x59b06f,_0x51844a[0x135+-0x4f0+-0x3*-0x13f]=_0x2f0b88,_0x51844a[0x247e+0x94e+-0x2dc9]=0xf80+0x104e+0xa9a*-0x3,_0x51844a[0x1e41+-0x45f*0x1+-0x19de]=_0x19c4cd*_0x59b06f+_0x22513e*_0x5ccaf6*_0x2f0b88,_0x51844a[0x99*0x11+0x2*0xe4e+-0x26c0]=_0x19c4cd*_0x22513e-_0x5ccaf6*_0x2f0b88*_0x59b06f,_0x51844a[0x1322+0xf+-0x132b]=-_0x1d1dd7*_0x5ccaf6,_0x51844a[-0xc1*-0x1+0x386*-0x8+-0x57e*-0x5]=-0x1797+-0x1da5+0x353c,_0x51844a[-0x67*0x2f+0x66*0x1c+0x7c9]=_0x5ccaf6*_0x59b06f-_0x19c4cd*_0x22513e*_0x2f0b88,_0x51844a[-0xf1b+0x10f8+0x24*-0xd]=_0x22513e*_0x5ccaf6+_0x19c4cd*_0x2f0b88*_0x59b06f,_0x51844a[0x1*0x1871+-0x255e+0xcf7]=_0x19c4cd*_0x1d1dd7,_0x51844a[-0x111a+-0x1272*0x2+-0x105*-0x35]=0x1da6+0x148c+-0x19*0x202,_0x51844a[0x6*-0x66a+0x57*0xe+0xb42*0x3]=0x2108+-0x28f+-0x1e79,_0x51844a[0x74*-0x55+0x248+0x2449]=-0x1c05+0x1*-0x550+0x2155,_0x51844a[-0x23d+0x1cf0+-0x167*0x13]=0x21c0+0x290*0x4+0x8*-0x580,_0x51844a[0x1b22+-0xe*0x35+-0x1*0x182d]=-0x7ac+0x6e5+0xc8,this;}['getEulerAn'+'gles'](_0x121a84=new T()){this['getScale'](_l);const _0x3a683b=_l['x'],_0x55fe05=_l['y'],_0x433fd2=_l['z'];if(_0x3a683b===0xddb*-0x2+0x19f0+-0x1*-0x1c6||_0x55fe05===-0x2e*-0x80+0xdf*-0x1f+0x401||_0x433fd2===0x1e3c+-0xc9*0x3+-0x1be1)return _0x121a84['set'](-0x268b+0x1299+0x13f2,0x1fae+-0xd4f*-0x2+-0x3a4c,-0x3e*0x5c+-0xc6b+-0x4f5*-0x7);const _0x40ade8=this['data'],_0x7c1320=Math['asin'](-_0x40ade8[-0x2427+-0xc6f*-0x2+0xb4b]/_0x3a683b),_0x2410f8=Math['PI']*(0x66e+-0xbcc+-0x1*-0x55e+0.5);let _0x2c73a9,_0x46a1b7;return _0x7c1320<_0x2410f8?_0x7c1320>-_0x2410f8?(_0x2c73a9=Math['atan2'](_0x40ade8[0x2*-0x72e+0x108e*-0x1+-0xa5*-0x30]/_0x55fe05,_0x40ade8[0x91*0x5+0x1d99*-0x1+0x1ace]/_0x433fd2),_0x46a1b7=Math['atan2'](_0x40ade8[-0xacf*0x1+0x1*-0x1cf3+0x27c3]/_0x3a683b,_0x40ade8[-0x13a*0x10+-0x411*-0x2+0xb7e]/_0x3a683b)):(_0x46a1b7=0x1f1e+-0x1*0x1483+0x5*-0x21f,_0x2c73a9=-Math['atan2'](_0x40ade8[-0x11*0x18e+0x4d*0x47+0x1*0x517]/_0x55fe05,_0x40ade8[-0x2*-0x8be+0x1873+0x862*-0x5]/_0x55fe05)):(_0x46a1b7=0xd8+0x497+0x1*-0x56f,_0x2c73a9=Math['atan2'](_0x40ade8[-0x1*0x1bd2+0x11e*-0x15+0x334c]/_0x55fe05,_0x40ade8[0x39*-0x99+0x403+0x1e13]/_0x55fe05)),_0x121a84['set'](_0x2c73a9,_0x7c1320,_0x46a1b7)['mulScalar'](N['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};c(Ur,'IDENTITY',Object['freeze'](new Ur())),c(Ur,'ZERO',Object['freeze'](new Ur()['set']([0x2531+0x75b+-0x4*0xb23,0x895+0xdfa*0x1+0x23*-0xa5,0x23d7+-0x3*-0x757+0x17*-0x284,-0x3*0x824+0xf84+-0x8*-0x11d,-0x3d9*-0x5+0x543+-0x1880,-0xb3*-0x3+0x15d*0x16+-0x2017,0xf2*-0x29+-0x1982+0x4044,-0x3c8+0x1*-0x20a4+0x246c,-0x2573+0x8c1*0x2+0x1*0x13f1,-0xc5*0x11+0x18e6+0x5*-0x25d,-0x1df*-0x5+-0x1a58+0x10fd,0x3d*0x48+0x857+-0x197f,-0x3f2+-0x88*-0x1e+-0xbfe,0x1*0x1518+-0x2*-0xc51+0x3*-0xf3e,0x3*0xcef+0x861+-0xb*0x44a,-0xf*-0x8e+-0x1*0x63d+-0x215])));let q=Ur;const aa=class aa{constructor(_0x15b3cc=-0x1*0xac+0x36*-0x92+0x1f78,_0x9e4295=0x192*0x15+0x17*0x6b+0x2a97*-0x1,_0x24545e=-0x162e+-0x1*0x235d+-0x1*-0x398b,_0x5788e9=0x4fc+0x22ff*-0x1+0x1e04){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x15b3cc['length']===-0x1674+-0x15d*-0x2+-0x9df*-0x2?(this['x']=_0x15b3cc[-0x3*-0x3ae+-0x1*-0x1ec0+-0x29ca],this['y']=_0x15b3cc[0x1b04+0x2b*-0xe5+0xb74],this['z']=_0x15b3cc[0x15a6+0x11e*-0xe+-0x600],this['w']=_0x15b3cc[-0x7*0x120+-0x1d*-0x2d+0x2ca]):(this['x']=_0x15b3cc,this['y']=_0x9e4295,this['z']=_0x24545e,this['w']=_0x5788e9);}['clone'](){const _0x47804d=this['constructo'+'r'];return new _0x47804d(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x5c8f11=this){return this['x']=_0x5c8f11['x']*-(0x7*-0x557+0xc*0x5b+0x3*0xb0a),this['y']=_0x5c8f11['y']*-(0x142d+0x1*-0x932+0xafa*-0x1),this['z']=_0x5c8f11['z']*-(-0x147*-0x15+0x1ab4+-0x3586),this['w']=_0x5c8f11['w'],this;}['copy'](_0x537583){return this['x']=_0x537583['x'],this['y']=_0x537583['y'],this['z']=_0x537583['z'],this['w']=_0x537583['w'],this;}['equals'](_0x5ce5da){return this['x']===_0x5ce5da['x']&&this['y']===_0x5ce5da['y']&&this['z']===_0x5ce5da['z']&&this['w']===_0x5ce5da['w'];}['equalsAppr'+'ox'](_0x534526,_0x5eb520=-0x1*-0x16b7+0x539+-0x6fc*0x4+0.000001){return Math['abs'](this['x']-_0x534526['x'])<_0x5eb520&&Math['abs'](this['y']-_0x534526['y'])<_0x5eb520&&Math['abs'](this['z']-_0x534526['z'])<_0x5eb520&&Math['abs'](this['w']-_0x534526['w'])<_0x5eb520;}['getAxisAng'+'le'](_0x29ccff){let _0x5e4fd4=Math['acos'](this['w'])*(-0x1b7b+0x18e9+-0x4*-0xa5);const _0xe89eb8=Math['sin'](_0x5e4fd4/(0x7*-0x2f6+0x14*-0x133+0x48*0x9f));return _0xe89eb8!==0x1*-0x185+-0x3c*-0x9e+-0x2383?(_0x29ccff['x']=this['x']/_0xe89eb8,_0x29ccff['y']=this['y']/_0xe89eb8,_0x29ccff['z']=this['z']/_0xe89eb8,(_0x29ccff['x']<-0x21f6+-0xe5e+0x3054||_0x29ccff['y']<0x77d*0x3+-0x139*-0x1d+-0x39ec||_0x29ccff['z']<0x17c0+0x2*-0x10d7+-0x3e*-0x29)&&(_0x29ccff['x']*=-(0x4a*0x3d+-0xf5d+0x244*-0x1),_0x29ccff['y']*=-(0x1ed+0x5*0x45f+0x17c7*-0x1),_0x29ccff['z']*=-(-0xf4*0x22+0x1*0x1c65+0x202*0x2),_0x5e4fd4*=-(-0x2186*-0x1+-0x1f7b+-0x20a))):(_0x29ccff['x']=-0x2*0xbe9+0xc*0x85+0x1197,_0x29ccff['y']=-0x1*-0x1c59+-0x1f88+0x32f,_0x29ccff['z']=0xeb7*-0x1+-0x5e*0x44+0x27af),_0x5e4fd4*N['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x3b13db=new T()){let _0x448e62,_0x536e9f,_0xf6e5a2;const _0x3df766=this['x'],_0x16da24=this['y'],_0x5dade7=this['z'],_0x528bb1=this['w'],_0x2426f6=(0x2d*0x65+-0x1*-0x1ab9+-0x2c78)*(_0x528bb1*_0x16da24-_0x3df766*_0x5dade7);return _0x2426f6<=-(-0x1c6d+-0xb20+0x278d+0.99999)?(_0x448e62=(-0x8bd+-0x111a+0x19d9)*Math['atan2'](_0x3df766,_0x528bb1),_0x536e9f=-Math['PI']/(0x11bf+0x2291+-0xa*0x53b),_0xf6e5a2=0x916+0x3*0xc8e+-0x2ec0):_0x2426f6>=0x1842+0x16ca*0x1+0x2f0c*-0x1+0.99999?(_0x448e62=(-0x1b7f+-0x2*-0x9f1+0x79f)*Math['atan2'](_0x3df766,_0x528bb1),_0x536e9f=Math['PI']/(0x1*0x817+0x14b*-0xd+-0x8ba*-0x1),_0xf6e5a2=-0x16c0+-0x1*0x788+-0x3c9*-0x8):(_0x448e62=Math['atan2']((0x1*0x49d+-0x1*0x9d3+-0x538*-0x1)*(_0x528bb1*_0x3df766+_0x16da24*_0x5dade7),0x1*-0x18da+-0x263a+0x3f15-(0x1a44*0x1+0x841+-0x2283)*(_0x3df766*_0x3df766+_0x16da24*_0x16da24)),_0x536e9f=Math['asin'](_0x2426f6),_0xf6e5a2=Math['atan2']((-0x8c6+-0x9be*0x3+0xa*0x3cd)*(_0x528bb1*_0x5dade7+_0x3df766*_0x16da24),0x3d*-0x54+0x1d26+-0x921-(-0x7*0x379+0x1*0x2271+-0xa20)*(_0x16da24*_0x16da24+_0x5dade7*_0x5dade7))),_0x3b13db['set'](_0x448e62,_0x536e9f,_0xf6e5a2)['mulScalar'](N['RAD_TO_DEG']);}['invert'](_0x290581=this){return this['conjugate'](_0x290581)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['mul'](_0x213ec7){const _0x455c78=this['x'],_0x53b460=this['y'],_0xa631a2=this['z'],_0x3f49ac=this['w'],_0x1d703d=_0x213ec7['x'],_0x1a392f=_0x213ec7['y'],_0x1d7a61=_0x213ec7['z'],_0x1e6e20=_0x213ec7['w'];return this['x']=_0x3f49ac*_0x1d703d+_0x455c78*_0x1e6e20+_0x53b460*_0x1d7a61-_0xa631a2*_0x1a392f,this['y']=_0x3f49ac*_0x1a392f+_0x53b460*_0x1e6e20+_0xa631a2*_0x1d703d-_0x455c78*_0x1d7a61,this['z']=_0x3f49ac*_0x1d7a61+_0xa631a2*_0x1e6e20+_0x455c78*_0x1a392f-_0x53b460*_0x1d703d,this['w']=_0x3f49ac*_0x1e6e20-_0x455c78*_0x1d703d-_0x53b460*_0x1a392f-_0xa631a2*_0x1d7a61,this;}['mulScalar'](_0x31929b,_0x35a74f=this){return this['x']=_0x35a74f['x']*_0x31929b,this['y']=_0x35a74f['y']*_0x31929b,this['z']=_0x35a74f['z']*_0x31929b,this['w']=_0x35a74f['w']*_0x31929b,this;}['mul2'](_0x25ad65,_0x5927ec){const _0x2440e3=_0x25ad65['x'],_0x304a79=_0x25ad65['y'],_0x4db2ad=_0x25ad65['z'],_0x6aa9eb=_0x25ad65['w'],_0x22d695=_0x5927ec['x'],_0x36c957=_0x5927ec['y'],_0xd971f=_0x5927ec['z'],_0x1095e9=_0x5927ec['w'];return this['x']=_0x6aa9eb*_0x22d695+_0x2440e3*_0x1095e9+_0x304a79*_0xd971f-_0x4db2ad*_0x36c957,this['y']=_0x6aa9eb*_0x36c957+_0x304a79*_0x1095e9+_0x4db2ad*_0x22d695-_0x2440e3*_0xd971f,this['z']=_0x6aa9eb*_0xd971f+_0x4db2ad*_0x1095e9+_0x2440e3*_0x36c957-_0x304a79*_0x22d695,this['w']=_0x6aa9eb*_0x1095e9-_0x2440e3*_0x22d695-_0x304a79*_0x36c957-_0x4db2ad*_0xd971f,this;}['normalize'](_0x45aa3b=this){let _0x5c07ec=_0x45aa3b['length']();return _0x5c07ec===0xa8b+0x1d6+0xc61*-0x1?(this['x']=this['y']=this['z']=-0x17e*-0x7+0xcf1*-0x2+0x98*0x1a,this['w']=0x7*0xac+0xd45+-0x11f8):(_0x5c07ec=(0x65f*-0x1+0x1*0x1430+-0xdd0)/_0x5c07ec,this['x']=_0x45aa3b['x']*_0x5c07ec,this['y']=_0x45aa3b['y']*_0x5c07ec,this['z']=_0x45aa3b['z']*_0x5c07ec,this['w']=_0x45aa3b['w']*_0x5c07ec),this;}['set'](_0xb93fad,_0x58bfb0,_0x5cb209,_0x2c46e9){return this['x']=_0xb93fad,this['y']=_0x58bfb0,this['z']=_0x5cb209,this['w']=_0x2c46e9,this;}['setFromAxi'+'sAngle'](_0x5b27f7,_0x25f748){_0x25f748*=(0xbed+-0x3a4+-0x849+0.5)*N['DEG_TO_RAD'];const _0x120e01=Math['sin'](_0x25f748),_0x257aa3=Math['cos'](_0x25f748);return this['x']=_0x120e01*_0x5b27f7['x'],this['y']=_0x120e01*_0x5b27f7['y'],this['z']=_0x120e01*_0x5b27f7['z'],this['w']=_0x257aa3,this;}['setFromEul'+'erAngles'](_0x25c59e,_0x153e55,_0x4014ef){if(_0x25c59e instanceof T){const _0x47686f=_0x25c59e;_0x25c59e=_0x47686f['x'],_0x153e55=_0x47686f['y'],_0x4014ef=_0x47686f['z'];}const _0x26a89a=(0x56*-0x6a+-0x2*-0x8cb+-0x602*-0x3+0.5)*N['DEG_TO_RAD'];_0x25c59e*=_0x26a89a,_0x153e55*=_0x26a89a,_0x4014ef*=_0x26a89a;const _0x3b269b=Math['sin'](_0x25c59e),_0x35d7f8=Math['cos'](_0x25c59e),_0x170595=Math['sin'](_0x153e55),_0x237695=Math['cos'](_0x153e55),_0x1601a9=Math['sin'](_0x4014ef),_0x3d4e90=Math['cos'](_0x4014ef);return this['x']=_0x3b269b*_0x237695*_0x3d4e90-_0x35d7f8*_0x170595*_0x1601a9,this['y']=_0x35d7f8*_0x170595*_0x3d4e90+_0x3b269b*_0x237695*_0x1601a9,this['z']=_0x35d7f8*_0x237695*_0x1601a9-_0x3b269b*_0x170595*_0x3d4e90,this['w']=_0x35d7f8*_0x237695*_0x3d4e90+_0x3b269b*_0x170595*_0x1601a9,this;}['setFromMat'+'4'](_0x547397){const _0x4091e7=_0x547397['data'];let _0x53c2eb=_0x4091e7[-0x203f+0x19c+0x1ea3],_0x15002f=_0x4091e7[-0x683*0x1+0xb7*0x19+-0xb5b],_0x3168a6=_0x4091e7[0x2*0x14d+0xb63*0x2+-0x195e],_0x2e355b=_0x4091e7[-0x12*0x22a+-0x189d+0x3f95],_0x5cdc6a=_0x4091e7[0x261+-0x1fe5+0x1d89*0x1],_0x3190b1=_0x4091e7[0x566+-0x7a7+-0x1*-0x247],_0x57aa23=_0x4091e7[0x1193*0x2+-0x16*-0x1bb+-0x4930],_0x2d2e89=_0x4091e7[0x1aed+0xebb+-0x5*0x853],_0xf6f36=_0x4091e7[0xeb4+-0x9*-0x2ae+-0x26c8],_0x5c51a6;return _0x5c51a6=_0x53c2eb*_0x53c2eb+_0x15002f*_0x15002f+_0x3168a6*_0x3168a6,_0x5c51a6===-0x1218+-0x2ce*0x3+0x1a82?this['set'](0x2*-0x851+0x26f5*0x1+-0xf*0x17d,-0x1d6b+-0x23b4+-0x3*-0x15b5,0x1acc+0x1527*-0x1+-0x5a5,-0xf57+-0x6c2+-0x75e*-0x3):(_0x5c51a6=(-0x1baa+0x1*0x8cb+-0x970*-0x2)/Math['sqrt'](_0x5c51a6),_0x53c2eb*=_0x5c51a6,_0x15002f*=_0x5c51a6,_0x3168a6*=_0x5c51a6,_0x5c51a6=_0x2e355b*_0x2e355b+_0x5cdc6a*_0x5cdc6a+_0x3190b1*_0x3190b1,_0x5c51a6===-0x6a*-0x11+0x2*0x91e+-0x1946?this['set'](-0x18e5+0x3*-0x282+0x206b,-0x1e5c+0x147a+0x9e2,-0x15d8+0x1791+-0x1b9,0x1*-0xc3e+-0x1dd*-0x3+0x6a8):(_0x5c51a6=(0x2220+-0x1c3a+-0x5e5)/Math['sqrt'](_0x5c51a6),_0x2e355b*=_0x5c51a6,_0x5cdc6a*=_0x5c51a6,_0x3190b1*=_0x5c51a6,_0x5c51a6=_0x57aa23*_0x57aa23+_0x2d2e89*_0x2d2e89+_0xf6f36*_0xf6f36,_0x5c51a6===0x1dcd+-0x11d9+-0xbf4?this['set'](0x68b+-0x1*-0xf99+-0xb12*0x2,0x12*0xeb+0x10ef+0xf*-0x23b,0x11d5+-0x217*0x7+-0x29*0x14,0x7f*-0x21+0x5*-0x48+-0x8*-0x239):(_0x5c51a6=(0x1b48+-0x1384*-0x2+0x424f*-0x1)/Math['sqrt'](_0x5c51a6),_0x57aa23*=_0x5c51a6,_0x2d2e89*=_0x5c51a6,_0xf6f36*=_0x5c51a6,_0xf6f36<-0x1*0x2b7+-0x16*-0x9e+-0x1*0xadd?_0x53c2eb>_0x5cdc6a?this['set'](0x1a96+-0x934+-0x1161*0x1+_0x53c2eb-_0x5cdc6a-_0xf6f36,_0x15002f+_0x2e355b,_0x57aa23+_0x3168a6,_0x3190b1-_0x2d2e89):this['set'](_0x15002f+_0x2e355b,0x1*0x151e+-0x10d5+-0x448-_0x53c2eb+_0x5cdc6a-_0xf6f36,_0x3190b1+_0x2d2e89,_0x57aa23-_0x3168a6):_0x53c2eb<-_0x5cdc6a?this['set'](_0x57aa23+_0x3168a6,_0x3190b1+_0x2d2e89,0x427*0x2+-0x19fd+-0x2*-0x8d8-_0x53c2eb-_0x5cdc6a+_0xf6f36,_0x15002f-_0x2e355b):this['set'](_0x3190b1-_0x2d2e89,_0x57aa23-_0x3168a6,_0x15002f-_0x2e355b,0x1*0x22fb+-0x1916+-0x9e4+_0x53c2eb+_0x5cdc6a+_0xf6f36),this['mulScalar']((-0x17b*0x16+-0x131c+0x33af)/this['length']()))));}['setFromDir'+'ections'](_0xd14965,_0x26f674){const _0x4f2a83=0x143+0x1*0x13d5+-0x1*0x1517+_0xd14965['dot'](_0x26f674);return _0x4f2a83<Number['EPSILON']?Math['abs'](_0xd14965['x'])>Math['abs'](_0xd14965['y'])?(this['x']=-_0xd14965['z'],this['y']=-0x22e3+0x1*0x1865+0xa7e,this['z']=_0xd14965['x'],this['w']=-0x1*0x1e17+-0x2035+0xa62*0x6):(this['x']=0x195c+-0x229+-0x1733*0x1,this['y']=-_0xd14965['z'],this['z']=_0xd14965['y'],this['w']=0xa9b+-0x1*-0x2615+-0x30b*0x10):(this['x']=_0xd14965['y']*_0x26f674['z']-_0xd14965['z']*_0x26f674['y'],this['y']=_0xd14965['z']*_0x26f674['x']-_0xd14965['x']*_0x26f674['z'],this['z']=_0xd14965['x']*_0x26f674['y']-_0xd14965['y']*_0x26f674['x'],this['w']=_0x4f2a83),this['normalize']();}['slerp'](_0x473983,_0x5ce755,_0x1b9d30){const _0x5a5e46=_0x473983['x'],_0x1c5bae=_0x473983['y'],_0x4c165b=_0x473983['z'],_0x198a5a=_0x473983['w'];let _0x12928f=_0x5ce755['x'],_0xf38ec4=_0x5ce755['y'],_0x54bc4b=_0x5ce755['z'],_0x472cef=_0x5ce755['w'],_0x5b1bc9=_0x198a5a*_0x472cef+_0x5a5e46*_0x12928f+_0x1c5bae*_0xf38ec4+_0x4c165b*_0x54bc4b;if(_0x5b1bc9<-0x2e8+-0x4*-0x8d8+-0x2078&&(_0x472cef=-_0x472cef,_0x12928f=-_0x12928f,_0xf38ec4=-_0xf38ec4,_0x54bc4b=-_0x54bc4b,_0x5b1bc9=-_0x5b1bc9),Math['abs'](_0x5b1bc9)>=0x1ffd*-0x1+-0x1d03+0x61*0xa1)return this['w']=_0x198a5a,this['x']=_0x5a5e46,this['y']=_0x1c5bae,this['z']=_0x4c165b,this;const _0x5d0e8c=Math['acos'](_0x5b1bc9),_0x206dfa=Math['sqrt'](0x1*0xb72+-0x1efc+0x138b-_0x5b1bc9*_0x5b1bc9);if(Math['abs'](_0x206dfa)<-0x16c8+0x1d3d+-0x675+0.001)return this['w']=_0x198a5a*(-0x1*-0x2547+0x4*0x257+-0x2ea3*0x1+0.5)+_0x472cef*(0x1b73+0x1a9a+0x89*-0x65+0.5),this['x']=_0x5a5e46*(0x15a*-0x5+-0x7*0x295+-0x3*-0x847+0.5)+_0x12928f*(0x262f+-0x1c4c+-0x1*0x9e3+0.5),this['y']=_0x1c5bae*(-0x2*-0x734+-0xe0d+-0x5b+0.5)+_0xf38ec4*(-0x3*0xdd+0x25a5+-0x7*0x502+0.5),this['z']=_0x4c165b*(0x74c+-0x22*0x21+-0x2ea+0.5)+_0x54bc4b*(0x1900+0x2*0x49a+-0x31c*0xb+0.5),this;const _0x44601d=Math['sin']((-0x1a3f+-0x1*-0x214c+-0x70c*0x1-_0x1b9d30)*_0x5d0e8c)/_0x206dfa,_0x14147c=Math['sin'](_0x1b9d30*_0x5d0e8c)/_0x206dfa;return this['w']=_0x198a5a*_0x44601d+_0x472cef*_0x14147c,this['x']=_0x5a5e46*_0x44601d+_0x12928f*_0x14147c,this['y']=_0x1c5bae*_0x44601d+_0xf38ec4*_0x14147c,this['z']=_0x4c165b*_0x44601d+_0x54bc4b*_0x14147c,this;}['transformV'+'ector'](_0x698212,_0x3d2fa9=new T()){const _0x584b01=_0x698212['x'],_0x5a1412=_0x698212['y'],_0x3f7a50=_0x698212['z'],_0xdd4fd7=this['x'],_0xb90d00=this['y'],_0x9d2beb=this['z'],_0x568c31=this['w'],_0x4efe3d=_0x568c31*_0x584b01+_0xb90d00*_0x3f7a50-_0x9d2beb*_0x5a1412,_0x7bc4b=_0x568c31*_0x5a1412+_0x9d2beb*_0x584b01-_0xdd4fd7*_0x3f7a50,_0x134b1b=_0x568c31*_0x3f7a50+_0xdd4fd7*_0x5a1412-_0xb90d00*_0x584b01,_0xaf7d97=-_0xdd4fd7*_0x584b01-_0xb90d00*_0x5a1412-_0x9d2beb*_0x3f7a50;return _0x3d2fa9['x']=_0x4efe3d*_0x568c31+_0xaf7d97*-_0xdd4fd7+_0x7bc4b*-_0x9d2beb-_0x134b1b*-_0xb90d00,_0x3d2fa9['y']=_0x7bc4b*_0x568c31+_0xaf7d97*-_0xb90d00+_0x134b1b*-_0xdd4fd7-_0x4efe3d*-_0x9d2beb,_0x3d2fa9['z']=_0x134b1b*_0x568c31+_0xaf7d97*-_0x9d2beb+_0x4efe3d*-_0xb90d00-_0x7bc4b*-_0xdd4fd7,_0x3d2fa9;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}};c(aa,'IDENTITY',Object['freeze'](new aa(-0x2453+-0x14a5+0x38f8,0x1332+0xce*-0x1a+0x22*0xd,-0xcd*0x9+-0x2704+0x1*0x2e39,0x1e72*-0x1+0x33c*-0x1+0x21af*0x1))),c(aa,'ZERO',Object['freeze'](new aa(0x2b4*0xb+0x78+-0x1e34,0xbd*0x10+-0x1f46*-0x1+-0x2b16,0x4*0xe1+-0x2*0x18+0x3*-0x11c,-0x5*-0x5e9+0x1994+-0x3721)));let se=aa;const vn=new T(),bn=new T(),nm=new T(),am=new T(),vS=new T();class _e{constructor(_0x280656,_0x3a1dce){c(this,'center',new T()),c(this,'halfExtent'+'s',new T(0x929+-0x224+0x1*-0x705+0.5,0x15af+-0x2e*0x1+0x72b*-0x3+0.5,0x7*0x3ad+0x5b9*0x1+-0x1f74+0.5)),c(this,'_min',new T()),c(this,'_max',new T()),(_0x280656&&this['center']['copy'](_0x280656),_0x3a1dce&&this['halfExtent'+'s']['copy'](_0x3a1dce));}['add'](_0x4aed73){const _0x2ad799=this['center'],_0x3b8979=_0x2ad799['x'],_0x4e4487=_0x2ad799['y'],_0x45dfe3=_0x2ad799['z'],_0x171318=this['halfExtent'+'s'],_0x249bc1=_0x171318['x'],_0x2229f5=_0x171318['y'],_0x2eea33=_0x171318['z'];let _0x10bebf=_0x3b8979-_0x249bc1,_0x3487f2=_0x3b8979+_0x249bc1,_0x372856=_0x4e4487-_0x2229f5,_0x53c67c=_0x4e4487+_0x2229f5,_0x15b07f=_0x45dfe3-_0x2eea33,_0x41931c=_0x45dfe3+_0x2eea33;const _0x53ea0e=_0x4aed73['center'],_0x5d5d38=_0x53ea0e['x'],_0x1be3dc=_0x53ea0e['y'],_0x5a7bcd=_0x53ea0e['z'],_0x6b9fcb=_0x4aed73['halfExtent'+'s'],_0x39d3cc=_0x6b9fcb['x'],_0xd3af0b=_0x6b9fcb['y'],_0x5736dd=_0x6b9fcb['z'],_0x4e04ea=_0x5d5d38-_0x39d3cc,_0x44aaa3=_0x5d5d38+_0x39d3cc,_0x28f327=_0x1be3dc-_0xd3af0b,_0x7b97f=_0x1be3dc+_0xd3af0b,_0x2c78e6=_0x5a7bcd-_0x5736dd,_0x36f379=_0x5a7bcd+_0x5736dd;_0x4e04ea<_0x10bebf&&(_0x10bebf=_0x4e04ea),_0x44aaa3>_0x3487f2&&(_0x3487f2=_0x44aaa3),_0x28f327<_0x372856&&(_0x372856=_0x28f327),_0x7b97f>_0x53c67c&&(_0x53c67c=_0x7b97f),_0x2c78e6<_0x15b07f&&(_0x15b07f=_0x2c78e6),_0x36f379>_0x41931c&&(_0x41931c=_0x36f379),_0x2ad799['x']=(_0x10bebf+_0x3487f2)*(0x9fd*0x1+0x29*-0xc7+-0xaf1*-0x2+0.5),_0x2ad799['y']=(_0x372856+_0x53c67c)*(0x205*-0x9+0x2305+-0x10d8+0.5),_0x2ad799['z']=(_0x15b07f+_0x41931c)*(0x3*0x674+-0xd*0x192+0x9*0x1e+0.5),_0x171318['x']=(_0x3487f2-_0x10bebf)*(-0x141*0x1f+0x1ab*-0x2+0x2a35+0.5),_0x171318['y']=(_0x53c67c-_0x372856)*(-0x1cb6+-0x1711+0x33c7+0.5),_0x171318['z']=(_0x41931c-_0x15b07f)*(-0x1a9+0xa21+0x10f*-0x8+0.5);}['copy'](_0x43e65a){this['center']['copy'](_0x43e65a['center']),this['halfExtent'+'s']['copy'](_0x43e65a['halfExtent'+'s']);}['clone'](){return new _e(this['center'],this['halfExtent'+'s']);}['intersects'](_0x548198){const _0x36df01=this['getMax'](),_0x2bc006=this['getMin'](),_0x304688=_0x548198['getMax'](),_0x53663a=_0x548198['getMin']();return _0x2bc006['x']<=_0x304688['x']&&_0x36df01['x']>=_0x53663a['x']&&_0x2bc006['y']<=_0x304688['y']&&_0x36df01['y']>=_0x53663a['y']&&_0x2bc006['z']<=_0x304688['z']&&_0x36df01['z']>=_0x53663a['z'];}['_intersect'+'sRay'](_0x43e2e8,_0x47db78){const _0x172ead=vn['copy'](this['getMin']())['sub'](_0x43e2e8['origin']),_0x5b0bfd=bn['copy'](this['getMax']())['sub'](_0x43e2e8['origin']),_0x286ed0=_0x43e2e8['direction'];_0x286ed0['x']===0x3*-0x265+-0xef4+-0x761*-0x3?(_0x172ead['x']=_0x172ead['x']<-0x37f+0x1414+-0x1095*0x1?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x5b0bfd['x']=_0x5b0bfd['x']<0x1*-0x1549+-0x2*0x461+-0x1e0b*-0x1?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x172ead['x']/=_0x286ed0['x'],_0x5b0bfd['x']/=_0x286ed0['x']),_0x286ed0['y']===0x1*0x107f+0x1*0x36d+-0x6a4*0x3?(_0x172ead['y']=_0x172ead['y']<0x243d+-0xb*-0x97+0x71f*-0x6?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x5b0bfd['y']=_0x5b0bfd['y']<0xfc+0xa9f+-0x1*0xb9b?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x172ead['y']/=_0x286ed0['y'],_0x5b0bfd['y']/=_0x286ed0['y']),_0x286ed0['z']===0x2b*-0x79+0x487+-0x2*-0x7e6?(_0x172ead['z']=_0x172ead['z']<-0x9d*-0x2f+-0x4*0x11b+0x1867*-0x1?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x5b0bfd['z']=_0x5b0bfd['z']<0x1*0x12b2+0x1468+-0x271a?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x172ead['z']/=_0x286ed0['z'],_0x5b0bfd['z']/=_0x286ed0['z']);const _0x433780=nm['set'](Math['min'](_0x172ead['x'],_0x5b0bfd['x']),Math['min'](_0x172ead['y'],_0x5b0bfd['y']),Math['min'](_0x172ead['z'],_0x5b0bfd['z'])),_0x46e67b=am['set'](Math['max'](_0x172ead['x'],_0x5b0bfd['x']),Math['max'](_0x172ead['y'],_0x5b0bfd['y']),Math['max'](_0x172ead['z'],_0x5b0bfd['z'])),_0x196c57=Math['min'](Math['min'](_0x46e67b['x'],_0x46e67b['y']),_0x46e67b['z']),_0x3ea633=Math['max'](Math['max'](_0x433780['x'],_0x433780['y']),_0x433780['z']),_0x3d1848=_0x196c57>=_0x3ea633&&_0x3ea633>=0x23f+0x91e*-0x1+-0x6df*-0x1;return _0x3d1848&&_0x47db78['copy'](_0x43e2e8['direction'])['mulScalar'](_0x3ea633)['add'](_0x43e2e8['origin']),_0x3d1848;}['_fastInter'+'sectsRay'](_0x18bc83){const _0x530ea2=vn,_0x1d907b=bn,_0x5cd9de=nm,_0x3a36f7=am,_0x34b2aa=vS,_0x4ee727=_0x18bc83['direction'];return _0x530ea2['sub2'](_0x18bc83['origin'],this['center']),_0x3a36f7['set'](Math['abs'](_0x530ea2['x']),Math['abs'](_0x530ea2['y']),Math['abs'](_0x530ea2['z'])),_0x5cd9de['mul2'](_0x530ea2,_0x4ee727),!(_0x3a36f7['x']>this['halfExtent'+'s']['x']&&_0x5cd9de['x']>=-0x13b1+-0x2*-0x830+0x351||_0x3a36f7['y']>this['halfExtent'+'s']['y']&&_0x5cd9de['y']>=0x1a01+-0x1507+-0x4fa||_0x3a36f7['z']>this['halfExtent'+'s']['z']&&_0x5cd9de['z']>=0x132f*-0x2+0x2*0x278+-0xb*-0x30a||(_0x34b2aa['set'](Math['abs'](_0x4ee727['x']),Math['abs'](_0x4ee727['y']),Math['abs'](_0x4ee727['z'])),_0x1d907b['cross'](_0x4ee727,_0x530ea2),_0x1d907b['set'](Math['abs'](_0x1d907b['x']),Math['abs'](_0x1d907b['y']),Math['abs'](_0x1d907b['z'])),_0x1d907b['x']>this['halfExtent'+'s']['y']*_0x34b2aa['z']+this['halfExtent'+'s']['z']*_0x34b2aa['y'])||_0x1d907b['y']>this['halfExtent'+'s']['x']*_0x34b2aa['z']+this['halfExtent'+'s']['z']*_0x34b2aa['x']||_0x1d907b['z']>this['halfExtent'+'s']['x']*_0x34b2aa['y']+this['halfExtent'+'s']['y']*_0x34b2aa['x']);}['intersects'+'Ray'](_0x55b1c7,_0x3d5cba){return _0x3d5cba?this['_intersect'+'sRay'](_0x55b1c7,_0x3d5cba):this['_fastInter'+'sectsRay'](_0x55b1c7);}['setMinMax'](_0x14c034,_0x3c39ff){this['center']['add2'](_0x3c39ff,_0x14c034)['mulScalar'](0x1957+0x270f+0x1*-0x4066+0.5),this['halfExtent'+'s']['sub2'](_0x3c39ff,_0x14c034)['mulScalar'](-0x4*-0x8+-0x2678+0x2658+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x3d2cab){const _0x3cb2a0=this['getMin'](),_0x3460bb=this['getMax']();return!(_0x3d2cab['x']<_0x3cb2a0['x']||_0x3d2cab['x']>_0x3460bb['x']||_0x3d2cab['y']<_0x3cb2a0['y']||_0x3d2cab['y']>_0x3460bb['y']||_0x3d2cab['z']<_0x3cb2a0['z']||_0x3d2cab['z']>_0x3460bb['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x3c8fa3,_0x1f18a4,_0x3fc257=!(-0x2*-0xc52+-0x332+-0x1571)){const _0x1463eb=_0x3c8fa3['center'],_0x23f877=_0x3c8fa3['halfExtent'+'s'],_0x442d64=_0x1f18a4['data'];let _0x4ee8b3=_0x442d64[0x1185+-0x1fe3*-0x1+-0x3168],_0x456925=_0x442d64[0x2503+-0xb11*0x1+0xcf7*-0x2],_0x1dabe6=_0x442d64[0x1679+0x4*-0x397+-0x815],_0x4c16b6=_0x442d64[0x2*-0x1091+-0x116c+-0x7*-0x739],_0x31857e=_0x442d64[-0x1*-0x19c5+0x1*0x1159+-0x2b19*0x1],_0x267f29=_0x442d64[0x10d0+0x7ec+-0x18b3],_0x3bd543=_0x442d64[-0x32c+0x5*-0x45e+0x2*0xc82],_0x3cea81=_0x442d64[-0xd68*0x2+0x263b*-0x1+0x1*0x4111],_0x105110=_0x442d64[0x2279+0x2426+-0x3b7*0x13];if(_0x3fc257){let _0x557147=_0x4ee8b3*_0x4ee8b3+_0x456925*_0x456925+_0x1dabe6*_0x1dabe6;if(_0x557147>0x1*-0xdc8+-0x357+0x111f){const _0x1390b6=(-0x107a+0x1*0x1607+-0x14*0x47)/Math['sqrt'](_0x557147);_0x4ee8b3*=_0x1390b6,_0x456925*=_0x1390b6,_0x1dabe6*=_0x1390b6;}if(_0x557147=_0x4c16b6*_0x4c16b6+_0x31857e*_0x31857e+_0x267f29*_0x267f29,_0x557147>0x85f+-0x215f+-0xa*-0x280){const _0x478127=(-0x4*0x54d+-0xa17+0x4*0x7d3)/Math['sqrt'](_0x557147);_0x4c16b6*=_0x478127,_0x31857e*=_0x478127,_0x267f29*=_0x478127;}if(_0x557147=_0x3bd543*_0x3bd543+_0x3cea81*_0x3cea81+_0x105110*_0x105110,_0x557147>0x292*-0x5+-0x1d4f+-0x2b*-0xfb){const _0x4f09cb=(-0x608*0x5+-0x4f2+-0x231b*-0x1)/Math['sqrt'](_0x557147);_0x3bd543*=_0x4f09cb,_0x3cea81*=_0x4f09cb,_0x105110*=_0x4f09cb;}}this['center']['set'](_0x442d64[0xa6c+0x2487+0x2ee7*-0x1]+_0x4ee8b3*_0x1463eb['x']+_0x456925*_0x1463eb['y']+_0x1dabe6*_0x1463eb['z'],_0x442d64[0xa26+0x1f7d+-0x14cb*0x2]+_0x4c16b6*_0x1463eb['x']+_0x31857e*_0x1463eb['y']+_0x267f29*_0x1463eb['z'],_0x442d64[0x4*-0x412+-0x26f4+-0x6*-0x937]+_0x3bd543*_0x1463eb['x']+_0x3cea81*_0x1463eb['y']+_0x105110*_0x1463eb['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x4ee8b3)*_0x23f877['x']+Math['abs'](_0x456925)*_0x23f877['y']+Math['abs'](_0x1dabe6)*_0x23f877['z'],Math['abs'](_0x4c16b6)*_0x23f877['x']+Math['abs'](_0x31857e)*_0x23f877['y']+Math['abs'](_0x267f29)*_0x23f877['z'],Math['abs'](_0x3bd543)*_0x23f877['x']+Math['abs'](_0x3cea81)*_0x23f877['y']+Math['abs'](_0x105110)*_0x23f877['z']);}static['computeMin'+'Max'](_0x19e87a,_0x2db8f3,_0x50b20d,_0x495900=_0x19e87a['length']/(-0x1*0x593+-0x25a+0x7f0)){if(_0x495900>0x2277+-0x18c2+0x163*-0x7){let _0x1e419e=_0x19e87a[0x1*-0x9a9+0x18b5+-0xf0c],_0xae44a8=_0x19e87a[-0x116f+0x18*-0x11+0x1308],_0x4de699=_0x19e87a[0xf48+-0x1292*-0x1+-0x21d8],_0x1cffe6=_0x1e419e,_0x33b2f8=_0xae44a8,_0x15a249=_0x4de699;const _0x1bea92=_0x495900*(-0x16*-0x161+-0x4d7+-0x197c);for(let _0x227b93=-0x2*-0xfc2+-0x101*0xc+-0x11*0x125;_0x227b93<_0x1bea92;_0x227b93+=-0x11f4+0x11b4+0x43){const _0xd00ed4=_0x19e87a[_0x227b93],_0x2dd9b3=_0x19e87a[_0x227b93+(0x20af+-0x1938+0x776*-0x1)],_0x548980=_0x19e87a[_0x227b93+(-0x7*-0x4db+-0x6c5+-0x1b36)];_0xd00ed4<_0x1e419e&&(_0x1e419e=_0xd00ed4),_0x2dd9b3<_0xae44a8&&(_0xae44a8=_0x2dd9b3),_0x548980<_0x4de699&&(_0x4de699=_0x548980),_0xd00ed4>_0x1cffe6&&(_0x1cffe6=_0xd00ed4),_0x2dd9b3>_0x33b2f8&&(_0x33b2f8=_0x2dd9b3),_0x548980>_0x15a249&&(_0x15a249=_0x548980);}_0x2db8f3['set'](_0x1e419e,_0xae44a8,_0x4de699),_0x50b20d['set'](_0x1cffe6,_0x33b2f8,_0x15a249);}}['compute'](_0xb13955,_0x53d314){_e['computeMin'+'Max'](_0xb13955,vn,bn,_0x53d314),this['setMinMax'](vn,bn);}['intersects'+'BoundingSp'+'here'](_0x3f9053){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x3f9053)<=_0x3f9053['radius']*_0x3f9053['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x2b8fb7){const _0x31935b=this['getMin'](),_0x1f6b61=this['getMax']();let _0xd57275=-0x1e4c+-0x15*0x1d3+-0x5b*-0xc1;const _0x1f7331=['x','y','z'];for(let _0x80f849=-0x2669+0x1*0x2593+0xd6*0x1;_0x80f849<0x2074+-0x1b1+-0x1ec0;++_0x80f849){let _0x2978c6=0x5f4+0x5*0x5c9+-0x22e1;const _0x2a8045=_0x2b8fb7['center'][_0x1f7331[_0x80f849]],_0xc81e30=_0x31935b[_0x1f7331[_0x80f849]],_0x15004a=_0x1f6b61[_0x1f7331[_0x80f849]];let _0x505b5e=-0x1936+0x6a0+-0x632*-0x3;_0x2a8045<_0xc81e30&&(_0x505b5e=_0xc81e30-_0x2a8045,_0x2978c6+=_0x505b5e*_0x505b5e),_0x2a8045>_0x15004a&&(_0x505b5e=_0x2a8045-_0x15004a,_0x2978c6+=_0x505b5e*_0x505b5e),_0xd57275+=_0x2978c6;}return _0xd57275;}['_expand'](_0x48eec7,_0x42c224){vn['add2'](this['getMin'](),_0x48eec7),bn['add2'](this['getMax'](),_0x42c224),this['setMinMax'](vn,bn);}}const gl=new T(),bS=new T();class Lf{constructor(_0x4d8d61=new T(),_0x2d777f=0x3a1*-0x4+0x5+0x1*0xe7f+0.5){c(this,'center'),c(this,'radius'),(v['assert'](!Object['isFrozen'](_0x4d8d61),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x4d8d61,this['radius']=_0x2d777f);}['containsPo'+'int'](_0xbec6c){const _0x4c5455=gl['sub2'](_0xbec6c,this['center'])['lengthSq'](),_0x4d76d5=this['radius'];return _0x4c5455<_0x4d76d5*_0x4d76d5;}['intersects'+'Ray'](_0x12320a,_0x17232d){const _0x47c68f=gl['copy'](_0x12320a['origin'])['sub'](this['center']),_0x57bb1a=_0x47c68f['dot'](bS['copy'](_0x12320a['direction'])['normalize']()),_0xd96ac7=_0x47c68f['dot'](_0x47c68f)-this['radius']*this['radius'];if(_0xd96ac7>-0x211d+0x18d7+0x6*0x161&&_0x57bb1a>-0x55*-0x29+0x677*-0x3+0x5c8)return!(-0x89d+0x24cd+-0x25*0xc3);const _0x36db9e=_0x57bb1a*_0x57bb1a-_0xd96ac7;if(_0x36db9e<0xa7+-0x16*0xca+-0x1*-0x10b5)return!(-0xccc+-0x5*-0x47f+-0x9ae);const _0x5646ba=Math['abs'](-_0x57bb1a-Math['sqrt'](_0x36db9e));return _0x17232d&&_0x17232d['copy'](_0x12320a['direction'])['mulScalar'](_0x5646ba)['add'](_0x12320a['origin']),!(0x233+0x1*0x124+-0x357);}['intersects'+'BoundingSp'+'here'](_0x27c7e6){gl['sub2'](_0x27c7e6['center'],this['center']);const _0x5913eb=_0x27c7e6['radius']+this['radius'];return gl['lengthSq']()<=_0x5913eb*_0x5913eb;}}class hy{constructor(_0xb2eafb=T['UP'],_0x5eb432=-0xdc8+0x4*0x5e9+-0x9dc){c(this,'normal',new T()),c(this,'distance'),(this['normal']['copy'](_0xb2eafb),this['distance']=_0x5eb432);}['clone'](){const _0x5b0264=this['constructo'+'r'];return new _0x5b0264()['copy'](this);}['copy'](_0xb3cf1b){return this['normal']['copy'](_0xb3cf1b['normal']),this['distance']=_0xb3cf1b['distance'],this;}['intersects'+'Line'](_0x3831c4,_0x5ef2f1,_0x5aefd8){const _0x1f3c2e=this['distance'],_0x302a7b=this['normal']['dot'](_0x3831c4)+_0x1f3c2e,_0x4332ee=this['normal']['dot'](_0x5ef2f1)+_0x1f3c2e,_0x2fb0cc=_0x302a7b/(_0x302a7b-_0x4332ee),_0x596bc9=_0x2fb0cc>=0xa23+0x1cd*-0x9+-0x103*-0x6&&_0x2fb0cc<=0x12da+-0x1c*-0x60+0x2ab*-0xb;return _0x596bc9&&_0x5aefd8&&_0x5aefd8['lerp'](_0x3831c4,_0x5ef2f1,_0x2fb0cc),_0x596bc9;}['intersects'+'Ray'](_0x486c2d,_0xa78141){const _0x15d28e=this['normal']['dot'](_0x486c2d['direction']);if(_0x15d28e===0x1*-0x97a+0x13e5*-0x1+0x1d5f*0x1)return!(0x6c4+-0x78c+0xc9);const _0x24a595=-(this['normal']['dot'](_0x486c2d['origin'])+this['distance'])/_0x15d28e;return _0x24a595>=0x1*-0x21bb+-0xe4c+-0x3007*-0x1&&_0xa78141&&_0xa78141['copy'](_0x486c2d['direction'])['mulScalar'](_0x24a595)['add'](_0x486c2d['origin']),_0x24a595>=-0x1*-0x20d1+-0x212c+0x5b;}['normalize'](){const _0x431d24=(0x605+-0x2b*0x29+-0xdf*-0x1)/this['normal']['length']();return this['normal']['mulScalar'](_0x431d24),this['distance']*=_0x431d24,this;}['set'](_0x2db714,_0x48afff,_0x335da2,_0x58d654){return this['normal']['set'](_0x2db714,_0x48afff,_0x335da2),this['distance']=_0x58d654,this;}['setFromPoi'+'ntNormal'](_0x13595c,_0x360215){return this['normal']['copy'](_0x360215),this['distance']=-this['normal']['dot'](_0x13595c),this;}}class wS{constructor(){c(this,'planes',[]);for(let _0x2fe1c3=0xad0*-0x3+0xb*0x3+-0x9*-0x397;_0x2fe1c3<-0x22b9+0x1*0x52+0x226d;_0x2fe1c3++)this['planes'][_0x2fe1c3]=new hy();}['clone'](){const _0x5bf1e0=this['constructo'+'r'];return new _0x5bf1e0()['copy'](this);}['copy'](_0x10d694){for(let _0x2111b0=-0x1*0x229f+-0x962+0x2c01;_0x2111b0<0x4a*0x4f+-0x5*-0x7a5+-0x3d09;_0x2111b0++)this['planes'][_0x2111b0]['copy'](_0x10d694['planes'][_0x2111b0]);return this;}['setFromMat'+'4'](_0x5816fc){const [_0x13549c,_0x19390e,_0x4d598e,_0xf7fce9,_0x1b1390,_0x33fc69,_0x10edf6,_0x399d9,_0x3b84e1,_0x5efe8a,_0x257133,_0x435ad1,_0x1315fe,_0x3317fa,_0x5aafe2,_0x204edc]=_0x5816fc['data'],_0x4fbf14=this['planes'];_0x4fbf14[0x151*0xb+0x22d5+-0x3150]['set'](_0xf7fce9-_0x13549c,_0x399d9-_0x1b1390,_0x435ad1-_0x3b84e1,_0x204edc-_0x1315fe)['normalize'](),_0x4fbf14[-0x237f+0x1*0x36e+0x2012]['set'](_0xf7fce9+_0x13549c,_0x399d9+_0x1b1390,_0x435ad1+_0x3b84e1,_0x204edc+_0x1315fe)['normalize'](),_0x4fbf14[0x154b+-0x54a*0x1+-0xd*0x13b]['set'](_0xf7fce9+_0x19390e,_0x399d9+_0x33fc69,_0x435ad1+_0x5efe8a,_0x204edc+_0x3317fa)['normalize'](),_0x4fbf14[-0x1862+-0x7*-0x29d+0x61a]['set'](_0xf7fce9-_0x19390e,_0x399d9-_0x33fc69,_0x435ad1-_0x5efe8a,_0x204edc-_0x3317fa)['normalize'](),_0x4fbf14[0xd*-0x4b+0xb3*0x17+-0xc42]['set'](_0xf7fce9-_0x4d598e,_0x399d9-_0x10edf6,_0x435ad1-_0x257133,_0x204edc-_0x5aafe2)['normalize'](),_0x4fbf14[-0x187c+0xac+-0x1*-0x17d5]['set'](_0xf7fce9+_0x4d598e,_0x399d9+_0x10edf6,_0x435ad1+_0x257133,_0x204edc+_0x5aafe2)['normalize']();}['containsPo'+'int'](_0x308c1d){for(let _0x368f8f=0x247d*0x1+0x1919+-0x3d96;_0x368f8f<-0x39*-0x1d+-0x1c2b+-0x1a*-0xd6;_0x368f8f++){const {normal:_0x49ace7,distance:_0x5e0f0e}=this['planes'][_0x368f8f];if(_0x49ace7['dot'](_0x308c1d)+_0x5e0f0e<=-0x135b+-0x585*-0x1+0xdd6)return!(0x18bc*-0x1+-0x117*-0xb+-0x330*-0x4);}return!(-0x26f*-0xc+0x35e*-0x6+-0xc0*0xc);}['containsSp'+'here'](_0x48b92e){const {center:_0x291d80,radius:_0x32b528}=_0x48b92e;let _0xde8336=-0x2*0x118f+-0x2f*-0x9e+0x22*0x2e;for(let _0x61c625=-0x41b*0x1+-0xb2d+0xf48;_0x61c625<-0x6a5+-0x231b+-0x1*-0x29c6;_0x61c625++){const {normal:_0x493cc9,distance:_0x10389e}=this['planes'][_0x61c625],_0x5d945c=_0x493cc9['dot'](_0x291d80)+_0x10389e;if(_0x5d945c<=-_0x32b528)return 0x1*0xd5+-0x475*0x7+0x1*0x1e5e;_0x5d945c>_0x32b528&&_0xde8336++;}return _0xde8336===0x1fc1+-0x1f51*-0x1+0x3f0c*-0x1?0x981*0x1+-0x2a4*-0x2+-0x3*0x4ed:-0x234d+0x8*-0x301+-0x2*-0x1dab;}}class uu{constructor(_0xdddbe3,_0x39689d){c(this,'origin',new T()),c(this,'direction',T['FORWARD']['clone']()),(_0xdddbe3&&this['origin']['copy'](_0xdddbe3),_0x39689d&&this['direction']['copy'](_0x39689d));}['set'](_0x2f4386,_0x47f429){return this['origin']['copy'](_0x2f4386),this['direction']['copy'](_0x47f429),this;}['copy'](_0x215a04){return this['set'](_0x215a04['origin'],_0x215a04['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const cc='linear',Ff='inverse',cy='exponentia'+'l',tt=-0x22*0xd6+-0x15*-0x31+0x1*0x1867,ae=-0x2f*-0x23+-0x177+0x1*-0x4f5,Of=-0x2*-0x3ce+-0xc72*-0x3+-0x2cf0,kf=0xb71*-0x1+-0x1ba4+-0x3*-0xd07,at=-0x21*0x16+-0x13c6+0x7*0x33b,TS=-0x3c2+0x93+0x331,dy=-0x2*0xf2b+-0x10b0+-0x6*-0x7d7,AS=0x24c1+-0x2d4+0x26c*-0xe,dc=0x1*-0x2105+-0x2033+0x413e,uc=-0x1ad6+0x1817+-0xed*-0x3,Lt=0x2561+0x8a8+-0x2e09,ES=-0x5cf*0x2+0x377+0x829*0x1,CS=0x93+0x1606*0x1+0xb4b*-0x2,MS=0x3d*-0x49+-0x4cc+0x1635,jt=0x3*0x626+-0x2*0xb17+0x3bc,Th=0x1299+-0x1c9+0xd*-0x14b,uy=-0xed5*0x2+-0x1b9d+0x1*0x3949,PS=-0x644+0x16b5+-0x3*0x57a,Co=-0x22fb+-0x2685+0x4981,Mo=-0x86a+-0x210+-0x4*-0x29f,Ah=0x119*0x1f+-0x2052+-0x1b1,mt=-0x427+-0x4*-0x2d2+-0x721,rn=-0x275*-0xb+0x2f*-0xa4+0x316,mo=0x270*-0x9+-0x1*0x1144+0x2736,RS=0xc4*-0x1a+0x37a+-0x57b*-0x3,de=0x3*-0xb0f+0x1*0x1f5a+0x1d3,st=-0xd8b*-0x1+0x646+-0x13d0,fc=0x7c9*-0x2+-0xd37+0x111*0x1b,pc=0x1c43+-0x2da+0x1966*-0x1,mc=-0x1e25+-0x745+-0x2*-0x12b7,nn=-0xaa6*-0x1+0x3*-0x3f9+-0xb*-0x1e,IS=-0x1*0xdf+0x1*-0xc8c+0xd6b,Eh=0x1779*0x1+-0x230b+0xb93*0x1,Ch=0x1749+0x8c*0x47+-0x3e1b,fu=-0x298+0x7*0x3b+0x1*0xfe,DS=-0x49a+-0x7b*-0x39+-0x16c5*0x1,LS=0x1*0x1b89+-0x190*0x6+-0x1224*0x1,FS=-0x3bf*0x6+0x35*0x1+0x1*0x164b,Ai=-0x137+-0x1*-0x155f+0x1421*-0x1,pu=-0x1*0x177d+0x1*0x1e2f+0x1*-0x6b2,Pi=-0x48c*-0x2+0x13f9+-0x1d10,nr=-0x3*-0x961+0x1c8d+-0x38ae,fy=0x1115+-0x17b9*-0x1+-0x28ce,py=-0x1*-0x21bb+-0x3*0xa3d+0x101*-0x3,Bf=-0x1*-0x1529+0x1917+-0x2e3e,_c=-0x143+-0x2631+0x2777,Nf=0x1168+0x265a+0x2*-0x1bdf,gc=-0xb5*0x20+0x1409*0x1+0x29c,dr=0x1*-0x214f+-0xb*0x67+0x64b*0x6,Se=0x2f9+-0x29*-0x79+0x17d*-0xf,yc=0x8c3*0x2+0x8fd+0x1*-0x1a7b,zf=-0x22c6+0x16b5+0xc1a,$o=-0x2*0xa7+0x125*0x18+-0x130*0x16,xc=0xdfb+0x2702+0x6*-0x8d3,Je=-0x5*-0xfd+0x16*0x3+-0x527,Sc=-0x1*0x2324+0xf78+0x3*0x693,Ke=0x1*0x1953+-0x509*-0x2+-0x2357,Ii=-0x1490+-0x85*-0x1b+0x698,Ci=0xa0b+0x1a05+-0xc00*0x3,vc=-0x148e+0x6*-0x633+-0x1*-0x39d1,_a=0x1283+0xe59+-0x1*0x20ca,Uf=-0x22d8+-0x2204*0x1+0x44ef,rs=-0x1948+-0x18dc+-0x2*-0x191c,bc=0x1da4+0x14b*-0x4+0x3*-0x821,Vf=-0x59c+0x33*-0x14+0x162*0x7,Gf=-0x1ac*-0x4+0x46e+-0xb07,qo=0x4*-0x539+0x191*0x3+0x1049,Xo=0x1*0x2001+-0xca1+-0x1347,wc=0x1287+-0x1568+0x6d*0x7,Tc=-0x753+-0x1*-0x16f0+-0xf82,my=-0x5d1*-0x1+-0x1f71+0x19bc,_y=-0x152+0xb78+-0xa09,gy=-0x26b4+0x1c50+0xa82,yy=0x1ebb+-0x36*-0x89+0x1dc1*-0x2,Hf=0xed*0x24+-0xb51*0x1+-0x15e3,xy=-0xf0f+0x1d*0x82+0x1*0x76,Wf=0x4f0+0x26c9+-0x2b97,$f=-0x7c9*-0x1+-0x21d9+-0x1*-0x1a33,qf=-0x11*0x115+0x485+0x9c*0x17,an=-0x85*0x1d+0x387+0xbaf,Xf=-0x1*-0x1e79+-0xb7d*0x1+-0x12d6,Sy=-0x1425+0x94*-0x2f+0x2f78,jf=-0x2065+-0x12d*-0x1+-0x1f6*-0x10,Yf=0x4*0x1f7+-0x626+-0x18d,Kf=0x17*-0x17b+-0x1b0d+-0xf51*-0x4,Zf=0x1*-0x2231+0x14c*-0x1a+-0x4414*-0x1,Qf=-0x1f31+-0x993*-0x1+-0x2*-0xae5,vy=0x14e6+0x1069+-0x31*0xc2,Jf=0x272*0xa+0xada+-0x2320,Ac=0x1*0x1ead+-0xed9*0x1+0x321*-0x5,ep=0x2699+0x10fc+-0x3*0x1277,ut=0x11a+-0x1*-0xc88+-0xd71,Ec=-0x1*0x3af+-0x73*-0x6+0x12f,tp=-0x183d+-0x895*-0x3+-0x14f,sp=0x254b+-0x197*-0x1+-0x26ae,ip=-0x2211+-0x67*0x49+0x1*0x3fa5,mu=-0x1*-0x23e7+0x83e+-0x1*0x2bef,_u=-0x8*-0x43f+0x1*-0x8b5+-0x190c,gu=0x12ee+0x1751+-0x2a07,yu=-0x1ac5+0xf88+0xb7a,xu=-0x2660+-0x2683+0xb*0x703,Su=-0x1*-0x955+0xd0b+-0x5*0x46d,by=0x3e4+0x94+-0x6*0xb4,wy=0x548+-0x1c7f+0x1778,Ty=0x26c3*0x1+-0x150f+-0x1172,Ay=-0xb03*-0x3+0x3dd+-0x24a3,vu=0x2*-0xbc9+0x79*0x17+0xcf7,la=-0x440+0x1*0x1c6d+-0x17e8,xt=new Map([[fy,{'name':'A8','size':0x1,'ldr':!(0x14f6+0x242a+-0x724*0x8)}],[sp,{'name':'R8','size':0x1,'ldr':!(-0x18fc+-0x1*-0x7e6+0x1116)}],[py,{'name':'L8','size':0x1,'ldr':!(-0x1b56+0x1a0+-0x6*-0x449)}],[Bf,{'name':'LA8','size':0x2,'ldr':!(0x25c9+-0x167+-0x2462*0x1)}],[ip,{'name':'RG8','size':0x2,'ldr':!(0x1917*-0x1+-0x1af+-0x2*-0xd63)}],[_c,{'name':'RGB565','size':0x2,'ldr':!(0x9ef+0x1891+-0x2280)}],[Nf,{'name':'RGBA5551','size':0x2,'ldr':!(0x154f*-0x1+-0x1898+0x2de7)}],[gc,{'name':'RGBA4','size':0x2,'ldr':!(-0xf8c+-0xb31+0x1abd)}],[dr,{'name':'RGB8','size':0x4,'ldr':!(-0x1345*-0x1+0x19c5*-0x1+-0x40*-0x1a)}],[Se,{'name':'RGBA8','size':0x4,'ldr':!(0x1c27+-0x2331+0x70a*0x1),'srgbFormat':rs}],[Ec,{'name':'R16F','size':0x2}],[tp,{'name':'RG16F','size':0x4}],[xc,{'name':'RGB16F','size':0x8}],[Je,{'name':'RGBA16F','size':0x8}],[Sc,{'name':'RGB32F','size':0x10}],[Ke,{'name':'RGBA32F','size':0x10}],[Ii,{'name':'R32F','size':0x4}],[Ci,{'name':'DEPTH','size':0x4}],[la,{'name':'DEPTH16','size':0x2}],[vc,{'name':'DEPTHSTENC'+'IL','size':0x4}],[_a,{'name':'111110F','size':0x4}],[Uf,{'name':'SRGB8','size':0x4,'ldr':!(0xb12+-0x461+-0x23b*0x3),'srgb':!(-0xdc7+0x1*-0xea8+0x1c6f)}],[rs,{'name':'SRGBA8','size':0x4,'ldr':!(0x1742+0x25a*0xb+-0x3120),'srgb':!(0x1*-0x134e+-0xa*0x250+0x2a6e*0x1)}],[yy,{'name':'BGRA8','size':0x4,'ldr':!(-0x773+0x1778+0x3*-0x557)}],[by,{'name':'SBGRA8','size':0x4,'ldr':!(-0x2*0x1039+0x402+0x1c70),'srgb':!(0xf6f+0xc41+-0x1bb0)}],[yc,{'name':'DXT1','blockSize':0x8,'ldr':!(0x2170+-0xed*0x4+-0x1dbc),'srgbFormat':mu}],[zf,{'name':'DXT3','blockSize':0x10,'ldr':!(0x1f91+-0x2510+0x57f),'srgbFormat':_u}],[$o,{'name':'DXT5','blockSize':0x10,'ldr':!(0x15b3+-0x1d*0xc1+0x7*0x6),'srgbFormat':gu}],[bc,{'name':'ETC1','blockSize':0x8,'ldr':!(0x1ea6+-0x1*-0x9e5+-0x288b)}],[Vf,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(-0x151d+0x138b+0x192),'srgbFormat':yu}],[Gf,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(0x1a71+0x279+-0x1cea),'srgbFormat':xu}],[qo,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(-0x1*0x17f0+-0x9f3+-0x21e3*-0x1),'blockSize':0x8}],[Xo,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(0x1689+-0xace*-0x2+-0x3*0xeb7),'blockSize':0x8}],[wc,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(-0xcc8*0x1+0x25f9+-0x1931),'blockSize':0x8}],[Tc,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(-0x169a+-0x1ccb+-0x3b*-0xdf),'blockSize':0x8}],[my,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(-0x1*-0x1c0c+-0x113b+-0x39b*0x3),'srgbFormat':Su}],[_y,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(-0x1657+-0x1*0x84d+0x1*0x1ea4)}],[gy,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(-0x2*0x7af+0x15*-0x16f+0x2d79)}],[wy,{'name':'BC6H_RGBF','blockSize':0x10}],[Ty,{'name':'BC6H_RGBUF','blockSize':0x10}],[Ay,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(0x1a58*0x1+0x25cc+-0x4024),'srgbFormat':vu}],[mu,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(0x2057+-0x852*-0x2+0x30fb*-0x1),'srgb':!(-0x10d*0x1+0x2*-0xfa4+0x2055)}],[_u,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(-0x1919+0x2*-0xf9+-0x2b*-0xa1),'srgb':!(-0x1117+-0x21b7+0x32ce)}],[gu,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(0x218a+0x19cf*-0x1+0x1*-0x7bb),'srgb':!(-0xa7*-0x1+0x8c5+-0x96c)}],[yu,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(0x2488+0x2*0x1092+0x1*-0x45ac),'srgb':!(-0x1*0x1f4d+0xa7+0x1ea6)}],[xu,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(-0x2*0x119b+-0x16*-0x9a+0x15fa),'srgb':!(-0x2a3*0x6+-0x1431+0x2403)}],[Su,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(0x42b*0x3+0x1f*-0xef+0x41c*0x4),'srgb':!(-0x5*0x51b+0xa*0x2e1+0xa7*-0x5)}],[vu,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(0x2647+-0x15e0+-0x1067),'srgb':!(-0x228a+0xdc1+0x14c9*0x1)}],[Hf,{'name':'R8I','size':0x1,'isInt':!(-0x1*0xa07+-0x1*0x25fa+0x3001)}],[xy,{'name':'R8U','size':0x1,'isInt':!(-0x1711+0x76*-0x49+0x1*0x38b7)}],[Wf,{'name':'R16I','size':0x2,'isInt':!(0x4d*-0x23+0x1*0x8cb+0x1bc)}],[$f,{'name':'R16U','size':0x2,'isInt':!(-0x16*0x10f+-0x3ce+0x1b18)}],[qf,{'name':'R32I','size':0x4,'isInt':!(-0xf4e+0x7*0x2a7+0xa7*-0x5)}],[an,{'name':'R32U','size':0x4,'isInt':!(-0x21f7+0x1350+-0xb*-0x155)}],[Xf,{'name':'RG8I','size':0x2,'isInt':!(0x170c*-0x1+0x39f+-0x136d*-0x1)}],[Sy,{'name':'RG8U','size':0x2,'isInt':!(-0x109c+-0x1f90+0x302c)}],[jf,{'name':'RG16I','size':0x4,'isInt':!(0xf34+-0x13*-0xd5+-0x1*0x1f03)}],[Yf,{'name':'RG16U','size':0x4,'isInt':!(0x23fe+0x1*-0x19e+0x10*-0x226)}],[Kf,{'name':'RG32I','size':0x8,'isInt':!(-0x1da2+0x115*-0x1a+0x39c4)}],[Zf,{'name':'RG32U','size':0x8,'isInt':!(-0x40f*0x1+-0x105+-0xa*-0x82)}],[Qf,{'name':'RGBA8I','size':0x4,'isInt':!(0x3d*0x28+0x19f2*0x1+-0x11bd*0x2)}],[vy,{'name':'RGBA8U','size':0x4,'isInt':!(0x876*-0x1+0x1*-0x87d+0x1*0x10f3)}],[Jf,{'name':'RGBA16I','size':0x8,'isInt':!(0x19bb+0x1884+-0x323f)}],[Ac,{'name':'RGBA16U','size':0x8,'isInt':!(-0x1*0x10b9+0x155+-0x14*-0xc5)}],[ep,{'name':'RGBA32I','size':0x10,'isInt':!(0x5*0x69d+-0x1a32+-0x6df)}],[ut,{'name':'RGBA32U','size':0x10,'isInt':!(0x121+0x2706+-0x13*0x21d)}]]),OS=_0x1274d7=>{var _0x38e4d8;return((_0x38e4d8=xt['get'](_0x1274d7))==null?void(-0x1d5e+0x4ef+-0x4e3*-0x5):_0x38e4d8['blockSize'])!==void(0x788+-0xe8e+0x706);},Mh=_0x3ad4e6=>{var _0x3f96e3;return((_0x3f96e3=xt['get'](_0x3ad4e6))==null?void(0x404+0xf6*0x1d+-0x1fe2):_0x3f96e3['srgb'])===!(0x193c+-0x1713+0x4f*-0x7);},ea=_0x2a4811=>{var _0x31ae4a;return((_0x31ae4a=xt['get'](_0x2a4811))==null?void(-0x10c8*-0x2+-0x1*-0x1113+-0x1d*0x1bf):_0x31ae4a['isInt'])===!(0x14a8+0x556+-0x19fe);},Cc=_0x373c73=>{var _0x391487;return((_0x391487=xt['get'](_0x373c73))==null?void(0x20e3*-0x1+0x17*-0x197+0x4574):_0x391487['srgbFormat'])||_0x373c73;},kS=_0x318c44=>{for(const [_0x1ef103,_0x291bf3]of xt)if(_0x291bf3['srgbFormat']===_0x318c44)return _0x1ef103;return _0x318c44;},Ey=_0x371eb1=>{const _0x170e03=xt['get'](_0x371eb1);return!!(_0x170e03!=null&&_0x170e03['ldr']&&!(_0x170e03!=null&&_0x170e03['srgb']));},Cy=_0x3c4739=>{switch(_0x3c4739){case Ii:case Sc:case Ke:return Float32Array;case qf:case Kf:case ep:return Int32Array;case an:case Zf:case ut:return Uint32Array;case Wf:case jf:case Jf:return Int16Array;case ip:case $f:case Yf:case Ac:case _c:case Nf:case gc:case Ec:case tp:case xc:case Je:return Uint16Array;case Hf:case Xf:case Qf:return Int8Array;default:return Uint8Array;}},Mc=-0x17a1+-0x1707+0x2ea8,Pc=-0x143e+0xd6b+-0x2e*-0x26,My=0x1*0x1a65+0x19d1+-0x34*0x101,Py=-0xe3e+0x1a*0x4+0xdd9,Ms=-0x174c+0x1b6+0x159a,ar=0x1e60+0xbdc+-0x2a37,Yr=-0x24f9+0x11ef*0x2+0x121,He='POSITION',Yt='NORMAL',Zs='TANGENT',Ys='BLENDWEIGH'+'T',qt='BLENDINDIC'+'ES',At='COLOR',om='TEXCOORD',ns='TEXCOORD0',_n='TEXCOORD1',jo='TEXCOORD2',Yo='TEXCOORD3',Ko='TEXCOORD4',Zo='TEXCOORD5',Qo='TEXCOORD6',Jo='TEXCOORD7',bu='ATTR0',wu='ATTR1',Ry='ATTR2',Iy='ATTR3',Dy='ATTR4',BS='ATTR5',NS='ATTR6',zS='ATTR7',Po='ATTR8',Ro='ATTR9',US='ATTR10',VS='ATTR11',rp='ATTR12',ga='ATTR13',np='ATTR14',ya='ATTR15',Ly=0x1d30*-0x1+-0x204*0x8+0x2d51,ha=-0x22*0x91+0x352+0x50*0x33,GS=-0x1b6a+0x6*-0x53f+-0x167*-0x2a,HS=0x510*0x4+-0x2*-0x5e5+-0x2007,WS=0x1ec5+-0xe*-0x1a4+0x8*-0x6b7,yl=0xde9+-0x249b+0x16b2,Fy=-0x1*-0x1837+-0x51b*0x7+0xb87,rd=0x1664+-0x1*-0x1bb+-0x181d,Di='default',on='rgbm',ap='rgbe',Io='rgbp',op='swizzleGGG'+'R',Tu=-0x2*0x1d5+-0x3*0x6fd+0x18a2,ur=0x1971+-0x2508+0xb99,Oy=0x43a+0x1*0x1e57+-0x228e,Us='2d',$S='2d-array',qS='cube',XS='3d',oh=-0x2014+-0x1304+-0x147*-0x28,nd=-0x23a6+-0x9b5+-0x2*-0x16ae,jS=-0x1*-0xb2+-0xaae+0x1*0x9fe,YS=0x146*-0x6+0x11c3*-0x1+0x196a,KS=0x19a7+-0x17f5+-0x1ae,ZS='none',Au='cube',lm='equirect',QS='octahedral',ky='glsl',Ph='wgsl',Rc=0x5a1*0x5+-0x1d4a+0x1*0x125,Kr=-0x1830+0x4*0x4f9+0x44d,Ic=0x165a+-0x7*-0x523+-0x3a4d,el=0x135a+-0x117a+-0x1dd,By=-0x5ea+-0x152+-0x8*-0xe8,Do=0x3ca+-0xeb7+0x2*0x579,Ee=-0x9b3+0x1483+-0x2*0x565,ca=-0x11*0x1b0+0x4f3*0x6+-0x81*0x2,ln=0x258b+0x2455*-0x1+-0x135,$s=-0x2*0xe6b+-0x1711*0x1+0x89*0x61,or=-0x1153+-0x756*0x5+0x3604,$t=0xba6+0x1c29+-0x27cb,xa=0x2493+0xe4f+0x32dd*-0x1,Zr=0x1c7d+0x3d4*0x4+-0x2bc7,Qr=-0x14a7+-0xd9f+0x224d,Jr=-0x26c3+-0x415+0x2ae0,Lo=0x2360+-0xce5*-0x2+0x1*-0x3d21,Fo=-0x279+0x1850+0x15cd*-0x1,Oo=0x1196*-0x1+-0x25f7+0x3*0x1288,Rh=-0x1*-0x5b7+0x1*0x36f+0xe9*-0xa,ko=0x1*-0x1153+0x652+-0xb0e*-0x1,Sa=-0x2f1*-0x8+0x7*0x3f5+-0x332d,JS=-0xb*0x289+0x2*-0x10dd+0x3dac,ev=-0x2347+0x14b6+0xea1,Dc=-0x15eb+0x1*0x2561+-0xf65,tv=0xbd4+0x239b*0x1+0x1*-0x2f5d,sv=0xb*-0x21b+0x1ee+0x154e,iv=-0x4*0x40f+-0x2*0x129a+0x3584,Lc=0x613+0x1877*0x1+-0x1e75,Fc=-0x144b+-0x1928+0x1*0x2d89,lp=-0x24cd+0x1674+-0xe7*-0x10,Ny=-0x115a+0x22ee+-0x117c,rv=0x23e2+-0x14b2+-0xf17*0x1,va=0x2*-0xbb5+-0x1f6d+0x36f1,ba=0x1*-0x1d1b+-0x829*-0x2+-0x1e*-0x6e,wa=-0x2e0+0xf8*0x1a+-0x1634,Ta=-0x1b6c+-0x2101+0x3c8a,Aa=-0xe11*0x2+0x19*0x175+-0x82d,Oc=0xaa0+-0x1290+0x1*0x80f,kc=-0x911+0x1d*-0x1+0x94e,Ea=0x2fc*-0x5+0x2328+-0x141b,Bc=0x14dc+-0x1256+-0x264,Nc=0x1f99+-0x26ae+0x738,Ca=-0x53*-0x26+0x20f*0xb+-0x22d3,zc=-0x1*-0x1445+0x21a2+-0x35c2,Uc=0x1602+-0x107d+-0x55f,Ih=-0x1497+0x13bf+0x1*0xff,hp=-0x1*-0x267e+0x607*0x5+0x3*-0x16d3,cp=0x99*0x24+0xc9*-0x8+-0xf13,nv=0x1ff6+0x1f*0xd0+-0x38fc,av=0x7f9*0x1+-0x1c7+-0x1*0x607,ov=-0xe18+0x7*-0x435+0x2bb7,lv=0x48d*0x1+-0xc2*-0x8+-0xa70,hv=0x17d7+0x19c*-0x5+0x23b*-0x7,cv=-0x266e+-0x912*0x2+0x38c1,dv=-0xb9a+-0x2*-0x1033+0xa4e*-0x2,uv=0x2475+-0x344*-0xb+0x14*-0x39c,dp=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],fv=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],pv=new Map();fv['forEach']((_0x333aef,_0x425dd1)=>{_0x333aef['forEach'](_0x28d77b=>pv['set'](_0x28d77b,_0x425dd1));});const mv='webgl2',up=0x2694+0x666*-0x6+-0x2f,li=-0x20e4+0x9*-0x361+0x1*0x3f4f,_v=0x81*-0x1+0x1365+-0x97*0x20,gv='ldr',zy=0x2b*-0x3d+-0x1*-0x88d+0x5*0x57,Uy=0x1e03+-0xe*-0x2bd+-0x4457,Vy=-0x595*-0x1+-0x12a5+-0x1*-0xd14,Gy=-0x72f+-0x2*-0xc31+0x125*-0xf,Hy=-0x1a71*-0x1+-0x13*-0x23+-0x1cfa,Wy=0x1161+-0xf93+-0xa*0x2b,$y=-0x4*-0x716+0x4*0x40f+-0x2c54,qy=0x1*-0x2351+0x16f4+-0x59*-0x25,yv=-0xd44+-0x5*-0x542+0xc07*-0x1,Dh=-0x1eb1+-0x109d+0x5*0x976,Xy=0x138b+0x740+-0x1aca,Eu=-0x1110+0x32f*-0x7+-0x1f*-0x145,xv=['view','mesh','mesh_ub'],fp='default',da=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],_o=[0x2d*0x41+-0x1ea1+0x3*0x667,0x1b29+-0x478+-0x16b0*0x1,-0xef5*-0x1+-0x2*-0xd01+-0x1*0x28f5,-0x1346+-0x1e84*0x1+-0xc73*-0x4,-0xb6*0x7+0xc25*-0x3+0x296d,0x910*-0x4+0xda1+0x16a3,0x5e*0x5c+-0x1219+-0xfab,-0xd86+-0x9a5+-0x11*-0x15d],Sv=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Lh=[Uint8Array,Uint16Array,Uint32Array],vv=[-0x204d*0x1+-0x158c+0x35da,0xb45+-0xd0d+0x1ca,-0x232*-0x9+0x1b43+-0x3*0xfab],ve={};ve[He]=0x1f1a+0xf2e+-0x2e48,ve[Yt]=-0x18f8+-0x15ce+0x2ec7,ve[Ys]=-0x2375+0x2f*0xbd+0xc4,ve[qt]=-0x18dd+-0x1798+0x183c*0x2,ve[At]=0xd70+-0x1c*-0x59+-0x4e*0x4c,ve[ns]=0x17*-0x159+-0x2161*-0x1+0x37*-0xb,ve[_n]=-0x1a*0x173+-0x16b*-0x1+0x2449,ve[jo]=0x1a23*-0x1+-0x1d9+0x1c03,ve[Yo]=-0x1*-0xec3+-0xb83+-0x19c*0x2,ve[Ko]=0x1*-0x13f9+0x1f20+-0xb1e,ve[Zo]=-0x12f2+0x1931+-0x635,ve[Qo]=0x1*-0xf67+-0x8ad+-0x145*-0x13,ve[Jo]=0xad*0x7+0xa*-0x2ed+0x1893,ve[Zs]=-0x1cb9+0x9da+0x12ec,ve[bu]=0x222d+-0x2210+-0x1d*0x1,ve[wu]=0x2cb+-0x35*-0xb3+-0x27d9,ve[Ry]=-0x2623+0x812*0x4+0x5dd,ve[Iy]=-0x2*-0xedb+-0x1f68+0x1b5,ve[Dy]=-0x1ced+-0x115*-0x1b+-0x46,ve[BS]=0x1f96+0x1c69+0x2*-0x1dfd,ve[NS]=0x191*0x4+-0x1ed0+0xc49*0x2,ve[zS]=-0x20ae+-0x12b2+0x3367,ve[Po]=-0x1*-0xd85+0x2029*-0x1+-0x4ab*-0x4,ve[Ro]=0x1a54+-0x2*0x1363+0xc7b,ve[US]=0x178f*0x1+0xffd+-0x1a*0x185,ve[VS]=0xe*-0x3e+0x37*-0xc+-0x39*-0x1b,ve[rp]=0x125*0x1+-0x4f5*-0x2+-0x1*0xb03,ve[ga]=-0x1*0x160d+-0x10b7+0x13*0x20b,ve[np]=0x1*-0x1004+0x1bba+-0xba8,ve[ya]=0x202b+0xae9*0x1+-0x2b05;const Ui='1.51',wi='1.55',_r='1.56',St='1.57',ad='1.60',me='1.62',hi='1.65',hm='1.70',cm='2.1',bv='2.3',wn='2.5',Ki=class Ki{static['clearGpuMa'+'rkers'](){Ki['markers']['length']=-0x22f7*-0x1+0x25*-0x1f+-0x1e7c*0x1;}static['pushGpuMar'+'ker'](_0x593c3a,_0x499629){Ki['markers']['push'](_0x499629),_0x593c3a['pushMarker'](_0x499629);}static['popGpuMark'+'er'](_0x4bc9af){Ki['markers']['length']&&Ki['markers']['pop'](),_0x4bc9af['popMarker']();}static['toString'](){return Ki['markers']['join']('\x20|\x20');}};c(Ki,'markers',[]);let G=Ki,wv=-0x83c+-0x827*-0x2+-0x812;const Tv={[Us]:'texture2D',[qS]:'textureCub'+'e',[XS]:'texture3D',[$S]:'texture2DA'+'rray'};class Vc{constructor(_0xc6feda,_0x4d0707){c(this,'slot',-(-0x1*-0x26c9+0x1*0x1a91+-0x1*0x4159)),c(this,'scopeId',null),(this['name']=_0xc6feda,this['visibility']=_0x4d0707);}}class pp extends Vc{}class Av extends Vc{constructor(_0x35c86b,_0x420d5e,_0x102dd7=!(-0x2516+-0xac0+0x1*0x2fd7)){super(_0x35c86b,_0x420d5e),c(this,'format',''),(this['readOnly']=_0x102dd7,v['assert'](_0x102dd7||!(_0x420d5e&up),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class fi extends Vc{constructor(_0x28499a,_0x54ef0d,_0x5b1100=Us,_0xb753a=oh,_0x477600=!(-0xebe+-0x15f5+0x24b3),_0x3d0c26=null){super(_0x28499a,_0x54ef0d),this['textureDim'+'ension']=_0x5b1100,this['sampleType']=_0xb753a,this['hasSampler']=_0x477600,this['samplerNam'+'e']=_0x3d0c26??_0x28499a+'_sampler';}}class Ev extends Vc{constructor(_0x4f5e37,_0x95843d=Se,_0x36381e=Us,_0x1f1962=!(-0x68b+0x3*0x9d+0x4b4*0x1),_0x8c6d46=!(-0x6c*-0x51+0x1831+0x1f2*-0x1e)){super(_0x4f5e37,_v),this['format']=_0x95843d,this['textureDim'+'ension']=_0x36381e,this['write']=_0x1f1962,this['read']=_0x8c6d46;}}class jy{constructor(_0x25f34b,_0x1fe08c){c(this,'uniformBuf'+'ferFormats',[]),c(this,'textureFor'+'mats',[]),c(this,'storageTex'+'tureFormat'+'s',[]),c(this,'storageBuf'+'ferFormats',[]),(this['id']=wv++,mn['setName'](this,'BindGroupF'+'ormat_'+this['id']),v['assert'](_0x1fe08c));let _0x3890e6=-0x1*-0x617+-0x22*0x41+0x28b;_0x1fe08c['forEach'](_0x43ae49=>{_0x43ae49['slot']=_0x3890e6++,_0x43ae49 instanceof fi&&_0x43ae49['hasSampler']&&_0x3890e6++,_0x43ae49 instanceof pp?this['uniformBuf'+'ferFormats']['push'](_0x43ae49):_0x43ae49 instanceof fi?this['textureFor'+'mats']['push'](_0x43ae49):_0x43ae49 instanceof Ev?this['storageTex'+'tureFormat'+'s']['push'](_0x43ae49):_0x43ae49 instanceof Av?this['storageBuf'+'ferFormats']['push'](_0x43ae49):v['assert']('Invalid\x20bi'+'nd\x20format',_0x43ae49);}),this['device']=_0x25f34b;const _0x10b6c7=_0x25f34b['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x4a19b8,_0x58ea9e)=>this['bufferForm'+'atsMap']['set'](_0x4a19b8['name'],_0x58ea9e)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x1c0007,_0x5072b1)=>{this['textureFor'+'matsMap']['set'](_0x1c0007['name'],_0x5072b1),_0x1c0007['scopeId']=_0x10b6c7['resolve'](_0x1c0007['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x2d8ea2,_0xda2ba1)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x2d8ea2['name'],_0xda2ba1),_0x2d8ea2['scopeId']=_0x10b6c7['resolve'](_0x2d8ea2['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x50cfcd,_0x1c22a3)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x50cfcd['name'],_0x1c22a3),_0x50cfcd['scopeId']=_0x10b6c7['resolve'](_0x50cfcd['name']);}),this['impl']=_0x25f34b['createBind'+'GroupForma'+'tImpl'](this),v['trace'](eS,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+G['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x3f96f9){const _0x289464=this['textureFor'+'matsMap']['get'](_0x3f96f9);return _0x289464!==void(0x1bbf+0x1c5e*-0x1+0x3*0x35)?this['textureFor'+'mats'][_0x289464]:null;}['getStorage'+'Texture'](_0x5032d9){const _0x1f8b47=this['storageTex'+'tureFormat'+'sMap']['get'](_0x5032d9);return _0x1f8b47!==void(-0x1b5e+-0x1a73+0x35d1)?this['storageTex'+'tureFormat'+'s'][_0x1f8b47]:null;}['getShaderD'+'eclaration'+'Textures'](_0x1841b9){let _0x15c881='';return this['textureFor'+'mats']['forEach'](_0x4054b4=>{let _0x4e26e3=Tv[_0x4054b4['textureDim'+'ension']];v['assert'](_0x4e26e3,'Unsupporte'+'d\x20texture\x20'+'type',_0x4054b4['textureDim'+'ension']);const _0xdea6f7=_0x4e26e3==='texture2DA'+'rray',_0x1c54d2=_0x4054b4['sampleType']===KS?'u':_0x4054b4['sampleType']===YS?'i':'';_0x4e26e3=''+_0x1c54d2+_0x4e26e3;let _0x3d4526='',_0x5a8a87='';_0xdea6f7&&(_0x3d4526='_texture',_0x5a8a87='#define\x20'+_0x4054b4['name']+'\x20'+_0x1c54d2+('sampler2DA'+'rray(')+_0x4054b4['name']+_0x3d4526+',\x20'+_0x4054b4['name']+'_sampler)\x0a'),_0x15c881+='layout(set'+'\x20=\x20'+_0x1841b9+(',\x20binding\x20'+'=\x20')+_0x4054b4['slot']+')\x20uniform\x20'+_0x4e26e3+'\x20'+_0x4054b4['name']+_0x3d4526+';\x0a',_0x4054b4['hasSampler']&&(_0x15c881+='layout(set'+'\x20=\x20'+_0x1841b9+(',\x20binding\x20'+'=\x20')+(_0x4054b4['slot']+(0xf8d*-0x2+0xbaf+0x136c))+(')\x20uniform\x20'+'sampler\x20')+_0x4054b4['name']+'_sampler;\x0a'),_0x15c881+=_0x5a8a87;}),_0x15c881;}['loseContex'+'t'](){}}class Ot{constructor(){c(this,'_cache',new Map());}['get'](_0x36059d,_0x10c265){return this['_cache']['has'](_0x36059d)||(this['_cache']['set'](_0x36059d,_0x10c265()),_0x36059d['on']('destroy',()=>{this['remove'](_0x36059d);}),_0x36059d['on']('devicelost',()=>{var _0x159c08,_0x3d8af5;(_0x3d8af5=(_0x159c08=this['_cache']['get'](_0x36059d))==null?void(-0x155a+-0x7b1+-0x1*-0x1d0b):_0x159c08['loseContex'+'t'])==null||_0x3d8af5['call'](_0x159c08,_0x36059d);})),this['_cache']['get'](_0x36059d);}['remove'](_0x1c1f49){var _0x3f91aa,_0x130da9;(_0x130da9=(_0x3f91aa=this['_cache']['get'](_0x1c1f49))==null?void(0x2527+0x1*-0x91d+-0x4a*0x61):_0x3f91aa['destroy'])==null||_0x130da9['call'](_0x3f91aa,_0x1c1f49),this['_cache']['delete'](_0x1c1f49);}}class Mi{static['calcLevelD'+'imension'](_0x29f210,_0xaa0185){return Math['max'](_0x29f210>>_0xaa0185,0x157f+0xd2c+-0x22aa);}static['calcMipLev'+'elsCount'](_0x2709c3,_0x3116ad,_0x4d52fa=-0x17*0x56+-0xb8b+0x1346){return 0x1326+-0x2b1*-0x2+-0x1887+Math['floor'](Math['log2'](Math['max'](_0x2709c3,_0x3116ad,_0x4d52fa)));}static['calcLevelG'+'puSize'](_0x360e75,_0x1cd0c9,_0x28f7e6,_0x26124f){var _0x18a929;const _0x48d7fe=xt['get'](_0x26124f);v['assert'](_0x48d7fe!==void(0x130b*0x1+-0x115a*-0x1+-0x2465),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x26124f);const _0x50c582=((_0x18a929=xt['get'](_0x26124f))==null?void(-0xa1b+-0x1*-0x984+0x97*0x1):_0x18a929['size'])??-0x57a*-0x1+-0x2086+-0x1b0c*-0x1;if(_0x50c582>-0x5fd+-0x226+0x1*0x823)return _0x360e75*_0x1cd0c9*_0x28f7e6*_0x50c582;const _0x237601=_0x48d7fe['blockSize']??0x21ee+-0x274*0xe+-0x6a*-0x1;let _0x5dc832=Math['floor']((_0x360e75+(0xe96+-0x2315+0x4b*0x46))/(-0x2558+-0x17*0x143+-0x1*-0x4261));const _0x1fa362=Math['floor']((_0x1cd0c9+(0x1671+-0x1d3+-0x149b))/(0xdc1+-0x2*-0x6ef+0x1*-0x1b9b)),_0x348c3d=Math['floor']((_0x28f7e6+(0x1b0c+-0x350*-0x6+-0x2ee9))/(0x1*-0x22c4+-0x5d*0x17+-0xe61*-0x3));return(_0x26124f===qo||_0x26124f===Xo)&&(_0x5dc832=Math['max'](Math['floor'](_0x5dc832/(0x27*0x13+-0x2f3+0x10)),-0x24f9+-0x56b+0x2a65)),_0x5dc832*_0x1fa362*_0x348c3d*_0x237601;}static['calcGpuSiz'+'e'](_0x32a6f4,_0x4923f1,_0x2a7ec1,_0x29b74a,_0xca8e4,_0x5c36e7){let _0xdcf394=-0x11fb*-0x1+-0x2085+0xe8a;for(;_0xdcf394+=Mi['calcLevelG'+'puSize'](_0x32a6f4,_0x4923f1,_0x2a7ec1,_0x29b74a),!(!_0xca8e4||_0x32a6f4===0x1a67+0x1d*0xb6+-0x2f04&&_0x4923f1===0x1eb4+-0x1b94+-0x31f&&_0x2a7ec1===0x1ec3+0x5*-0x65b+0x105);)_0x32a6f4=Math['max'](_0x32a6f4>>0x198a+0x238a+-0xc37*0x5,-0x336*-0x8+-0x36d*0x1+-0x1642),_0x4923f1=Math['max'](_0x4923f1>>0x40f*0x9+0x1dfc+-0x2141*0x2,-0x4c+0x1aa2+-0x1a55),_0x2a7ec1=Math['max'](_0x2a7ec1>>-0x1241+-0xc7f+-0x1*-0x1ec1,0x67+-0xfc1+0xf5b);return _0xdcf394*(_0x5c36e7?-0xb*0x78+-0x1*-0x1af9+-0x15cb:0xcef*-0x3+0xd*0x6f+0x7*0x4bd);}}let Cv=0x6b*-0x3d+0x3c7*-0x4+0x289b;class he{constructor(_0x21d6ba,_0x2800e0={}){c(this,'name'),c(this,'_gpuSize',-0x16b5+-0x7*0x3d5+0x3188),c(this,'id',Cv++),c(this,'_invalid',!(0x1bdf+0x10b+0x1*-0x1ce9)),c(this,'_lockedLev'+'el',-(0x18ea+-0x76d*-0x3+-0x1798*0x2)),c(this,'_lockedMod'+'e',yl),c(this,'renderVers'+'ionDirty',0x1c24+0x5ee+-0x2212),c(this,'_storage',!(-0xd76+0x5*0x1c8+0x1*0x48f)),c(this,'_numLevels',-0x1723+0xa28+0x1*0xcfb),c(this,'_numLevels'+'Requested');var _0x3a0da6;this['device']=_0x21d6ba,v['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),v['assert'](!_0x2800e0['width']||Number['isInteger'](_0x2800e0['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x2800e0),v['assert'](!_0x2800e0['height']||Number['isInteger'](_0x2800e0['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x2800e0),v['assert'](!_0x2800e0['depth']||Number['isInteger'](_0x2800e0['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x2800e0),this['name']=_0x2800e0['name']??'',this['_width']=Math['floor'](_0x2800e0['width']??0x545*0x5+-0x11*-0x101+-0x2b66),this['_height']=Math['floor'](_0x2800e0['height']??-0x1704+-0x2*-0x161+-0x6*-0x361),this['_format']=_0x2800e0['format']??Se,this['_compresse'+'d']=OS(this['_format']),this['_integerFo'+'rmat']=ea(this['_format']),this['_integerFo'+'rmat']&&(_0x2800e0['minFilter']=de,_0x2800e0['magFilter']=de),this['_volume']=_0x2800e0['volume']??!(0x1faa+0xb7+-0x94*0x38),this['_depth']=Math['floor'](_0x2800e0['depth']??0x443*-0x4+0x1150+-0x43),this['_arrayLeng'+'th']=Math['floor'](_0x2800e0['arrayLengt'+'h']??0x20a4+0x2f1*-0x1+-0x1db3),this['_storage']=_0x2800e0['storage']??!(-0x1*-0x1697+-0x1*0xfc2+0x2e*-0x26),this['_cubemap']=_0x2800e0['cubemap']??!(0x1*0x359+0x962+-0xcba),this['_flipY']=_0x2800e0['flipY']??!(0x91*0x1c+0x172*-0x19+0x1447*0x1),this['_premultip'+'lyAlpha']=_0x2800e0['premultipl'+'yAlpha']??!(0x1e4*-0x3+0xa70+-0x4c3),this['_mipmaps']=_0x2800e0['mipmaps']??!(0x2470+0xf62+-0x33d2),this['_numLevels'+'Requested']=_0x2800e0['numLevels'],_0x2800e0['numLevels']!==void(0x1cef+-0x4*0x6f3+-0x1*0x123)&&(this['_numLevels']=_0x2800e0['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x2800e0['minFilter']??nn,this['_magFilter']=_0x2800e0['magFilter']??st,this['_anisotrop'+'y']=_0x2800e0['anisotropy']??-0xea0+-0x1*0x17a+-0x13*-0xd9,this['_addressU']=_0x2800e0['addressU']??tt,this['_addressV']=_0x2800e0['addressV']??tt,this['_addressW']=_0x2800e0['addressW']??tt,this['_compareOn'+'Read']=_0x2800e0['compareOnR'+'ead']??!(-0xe*0x1bb+0xe2*-0x17+0x2c89),this['_compareFu'+'nc']=_0x2800e0['compareFun'+'c']??Eh,this['type']=_0x2800e0['hasOwnProp'+'erty']('type')?_0x2800e0['type']:Di,v['assert'](!_0x2800e0['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),v['assert'](!_0x2800e0['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=ZS,this['_cubemap']?this['projection']=Au:_0x2800e0['projection']&&_0x2800e0['projection']!==Au&&(this['projection']=_0x2800e0['projection']),this['profilerHi'+'nt']=_0x2800e0['profilerHi'+'nt']??0xc00+0x1*-0x1f7d+-0x1*-0x137d,this['_levels']=_0x2800e0['levels'];const _0x3abe75=!!_0x2800e0['levels'];this['_levels']||(this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null]),this['recreateIm'+'pl'](_0x3abe75),_0x21d6ba['textures']['push'](this),v['trace'](Kp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x3a0da6=xt['get'](this['format']))==null?void(0x1*0x1219+0x2692+-0x1*0x38ab):_0x3a0da6['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){v['trace'](Kp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x60bb82=this['device'];if(_0x60bb82){const _0x24cae6=_0x60bb82['textures']['indexOf'](this);_0x24cae6!==-(0x4*0x529+0x2*-0x150+-0x1203)&&_0x60bb82['textures']['splice'](_0x24cae6,0xdeb+-0x9d5*0x3+0xf95*0x1),_0x60bb82['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x60bb82),this['adjustVram'+'SizeTracki'+'ng'](_0x60bb82['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x1c369e=!(-0x1*0x7c3+-0x25c5+-0x2d88*-0x1)){var _0x3019d9;const {device:_0x2dd0ad}=this;(_0x3019d9=this['impl'])==null||_0x3019d9['destroy'](_0x2dd0ad),this['impl']=null,this['impl']=_0x2dd0ad['createText'+'ureImpl'](this),this['dirtyAll'](),_0x1c369e&&this['upload']();}['resize'](_0x4410df,_0x24d9dc,_0x643e0a=-0x1cc*-0x1+-0xb4b*-0x2+-0x1861){const _0x1498b2=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x1498b2['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x1498b2),this['_width']=Math['floor'](_0x4410df),this['_height']=Math['floor'](_0x24d9dc),this['_depth']=Math['floor'](_0x643e0a),this['_updateNum'+'Level'](),this['impl']=_0x1498b2['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x13d7a8,_0x52fc7a){v['trace'](Kx,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x52fc7a+('\x20vram.text'+'ure:\x20')+_0x13d7a8['tex']+'\x20=>\x20'+(_0x13d7a8['tex']+_0x52fc7a)),_0x13d7a8['tex']+=_0x52fc7a,this['profilerHi'+'nt']===Tu?_0x13d7a8['texShadow']+=_0x52fc7a:this['profilerHi'+'nt']===ur?_0x13d7a8['texAsset']+=_0x52fc7a:this['profilerHi'+'nt']===Oy&&(_0x13d7a8['texLightma'+'p']+=_0x52fc7a);}['propertyCh'+'anged'](_0x4faeba){this['impl']['propertyCh'+'anged'](_0x4faeba),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x1f1534=this['mipmaps']?Mi['calcMipLev'+'elsCount'](this['width'],this['height']):-0x2461*0x1+-0x1def+0x4251,_0x540f9e=this['_numLevels'+'Requested'];_0x540f9e!==void(0xcfa+0x24af+0x1*-0x31a9)&&_0x540f9e>_0x1f1534&&v['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x1f1534,this),this['_numLevels']=Math['min'](_0x540f9e??_0x1f1534,_0x1f1534),this['_mipmaps']=this['_numLevels']>-0x91*0x11+0x2120+-0x177e;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x5903ce){this['_minFilter']!==_0x5903ce&&(ea(this['_format'])?v['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x5903ce,this['propertyCh'+'anged'](zy)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x467d22){this['_magFilter']!==_0x467d22&&(ea(this['_format'])?v['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x467d22,this['propertyCh'+'anged'](Uy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x226a09){this['_addressU']!==_0x226a09&&(this['_addressU']=_0x226a09,this['propertyCh'+'anged'](Vy));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x588660){this['_addressV']!==_0x588660&&(this['_addressV']=_0x588660,this['propertyCh'+'anged'](Gy));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x135586){if(!this['_volume']){v['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x135586!==this['_addressW']&&(this['_addressW']=_0x135586,this['propertyCh'+'anged'](Hy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x2fca03){this['_compareOn'+'Read']!==_0x2fca03&&(this['_compareOn'+'Read']=_0x2fca03,this['propertyCh'+'anged'](Wy));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x3377f0){this['_compareFu'+'nc']!==_0x3377f0&&(this['_compareFu'+'nc']=_0x3377f0,this['propertyCh'+'anged']($y));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x5aa681){this['_anisotrop'+'y']!==_0x5aa681&&(this['_anisotrop'+'y']=_0x5aa681,this['propertyCh'+'anged'](qy));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x465d5d){this['_mipmaps']!==_0x465d5d&&(this['device']['isWebGPU']?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):ea(this['_format'])?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x465d5d,_0x465d5d&&(this['_needsMipm'+'apsUpload']=!(0x22a8+0xa6f*0x1+0x671*-0x7)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x376862=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===-0x323*-0x2+-0xdec+-0x1*-0x7a7);return Mi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x376862,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>0x1013+0xbb*0x1b+-0x8f3*0x4;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['srgb'](_0xfd8be7){var _0x310777,_0x3498a8,_0x54cf58,_0x1faf0a;const _0x1df64e=Mh(this['format']);if(_0xfd8be7!==_0x1df64e){if(_0xfd8be7){const _0x1750c5=Cc(this['format']);this['_format']!==_0x1750c5&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x310777=xt['get'](this['format']))==null?void(0x161d+0xb5c+-0x2179*0x1):_0x310777['name'])+'\x20->\x20'+((_0x3498a8=xt['get'](_0x1750c5))==null?void(-0x24c*-0x1+0x1*-0xe86+0xc3a):_0x3498a8['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x1750c5,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x1ef+0x95f+0xb4e*-0x1));}else{const _0x47a365=kS(this['format']);this['_format']!==_0x47a365&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x54cf58=xt['get'](this['format']))==null?void(0x1328+0x1fd*0x2+-0x1722):_0x54cf58['name'])+'\x20->\x20'+((_0x1faf0a=xt['get'](_0x47a365))==null?void(0x5d*0x3+0x153c+-0x1653):_0x1faf0a['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x47a365,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x1d59+-0x1*0x138e+-0x30e7*-0x1));}}}get['srgb'](){return Mh(this['format']);}set['flipY'](_0x1104fa){this['_flipY']!==_0x1104fa&&(this['_flipY']=_0x1104fa,this['_needsUplo'+'ad']=!(0x4*-0x74e+0x23e9+-0x6b1));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x9b8e4){this['_premultip'+'lyAlpha']!==_0x9b8e4&&(this['_premultip'+'lyAlpha']=_0x9b8e4,this['_needsUplo'+'ad']=!(0x2*0xe29+-0x1ff9+0x3a7));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return N['powerOfTwo'](this['_width'])&&N['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case on:return'rgbm';case ap:return'rgbe';case Io:return'rgbp';}return Ey(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(-0xc4b*0x3+-0x6*-0x56c+-0x173*-0x3),!(0x126a*0x1+-0x1*0x23db+0x1171),!(-0xb7d*-0x3+-0x95*-0x1f+-0x16*0x263),!(0x685*0x4+0x155e+0x17b9*-0x2),!(-0x17d2+0x539+0x1299),!(0x1*0x21b3+-0x15c3+0x8*-0x17e)]]:[!(-0x1005+0x860+0x7a5)],this['_needsUplo'+'ad']=!(0x5e*-0x59+0x9b*0x2c+-0x305*-0x2),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(-0x1679+0x101e+0x65c),this['propertyCh'+'anged'](yv);}['lock'](_0x52e109={}){_0x52e109['level']??(_0x52e109['level']=0x34*0x76+-0x1*0x21f3+0x7*0x16d),_0x52e109['face']??(_0x52e109['face']=0x2055+-0x16bd*-0x1+0x1b89*-0x2),_0x52e109['mode']??(_0x52e109['mode']=rd),v['assert'](this['_lockedMod'+'e']===yl,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),v['assert'](_0x52e109['mode']===Fy||_0x52e109['mode']===rd,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x52e109['mode'],this['_lockedLev'+'el']=_0x52e109['level'];const _0x19f073=this['cubemap']?this['_levels'][_0x52e109['face']]:this['_levels'];if(_0x19f073[_0x52e109['level']]===null){const _0x70d10d=Math['max'](-0x5*-0x6bd+-0x1cd4+-0x4dc,this['_width']>>_0x52e109['level']),_0x16137a=Math['max'](0xa91*0x2+0x1b97*-0x1+0x33b*0x2,this['_height']>>_0x52e109['level']),_0x5496c7=Math['max'](0xc49*-0x2+-0x2607+0x3e9a,this['_depth']>>_0x52e109['level']),_0x28f66f=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0x70d10d,_0x16137a,_0x5496c7,this['_format']));_0x19f073[_0x52e109['level']]=new(Cy(this['_format']))(_0x28f66f);}return _0x19f073[_0x52e109['level']];}['setSource'](_0x55e114,_0x2b4555=-0x22e4+-0x2ae*-0x7+0x1022){let _0x2915ec=!(0xe0e*0x1+0xe*0x3b+0x1*-0x1147),_0x5e9fa9,_0x5dcf75;if(this['_cubemap']){if(_0x55e114[-0x2112+0x7*-0x2ec+-0x2*-0x1ac3]){_0x5e9fa9=_0x55e114[0x1c07+-0x1925+-0x2*0x171]['width']||0x22e9+0x10d*-0xa+-0x1867,_0x5dcf75=_0x55e114[0x1b1+-0x130a*-0x1+0x57*-0x3d]['height']||-0x25*-0x7d+0x59e+-0x17af*0x1;for(let _0x4efb68=-0xd*0x115+0x2*-0x7e7+0x1ddf;_0x4efb68<-0xbb8+0x2d2+0x8ec;_0x4efb68++){const _0x598df5=_0x55e114[_0x4efb68];if(!_0x598df5||_0x598df5['width']!==_0x5e9fa9||_0x598df5['height']!==_0x5dcf75||!this['device']['_isBrowser'+'Interface'](_0x598df5)){_0x2915ec=!(0x2*-0x5e7+0xe57*-0x1+0x61*0x45);break;}}}else _0x2915ec=!(-0x2e7*-0x6+-0x1826+0x6bc);if(!_0x2915ec){for(let _0x2453aa=0x11c5+0x2*-0xa85+0x3*0x117;_0x2453aa<0xac3+-0x10e6+0x629;_0x2453aa++)this['_levels'][_0x2b4555][_0x2453aa]!==_0x55e114[_0x2453aa]&&(this['_levelsUpd'+'ated'][_0x2b4555][_0x2453aa]=!(-0x1c34+-0x7a1+0x23d5));}}else this['device']['_isBrowser'+'Interface'](_0x55e114)||(_0x2915ec=!(-0x1c93+0x1*0xe7c+0xe17)),_0x2915ec||(_0x55e114!==this['_levels'][_0x2b4555]&&(this['_levelsUpd'+'ated'][_0x2b4555]=!(0x18eb+-0x1*-0x814+-0x20ff)),_0x55e114 instanceof HTMLVideoElement?(_0x5e9fa9=_0x55e114['videoWidth'],_0x5dcf75=_0x55e114['videoHeigh'+'t']):(_0x5e9fa9=_0x55e114['width'],_0x5dcf75=_0x55e114['height']));if(_0x2915ec){if(this['_width']=-0x1ae8+-0x7b*0x22+0x2b42,this['_height']=0x26e5+0x1*0x718+-0x2df9,this['_cubemap']){for(let _0x2d98f0=0x3a1*0x9+-0x1718+-0x991;_0x2d98f0<-0x2a*-0xa2+-0x169b+-0x3f3;_0x2d98f0++)this['_levels'][_0x2b4555][_0x2d98f0]=null,this['_levelsUpd'+'ated'][_0x2b4555][_0x2d98f0]=!(-0xacf+0x205a+0x158b*-0x1);}else this['_levels'][_0x2b4555]=null,this['_levelsUpd'+'ated'][_0x2b4555]=!(0x25b7+-0x19e5+-0x59*0x22);}else _0x2b4555===-0x17d6+0xf7c+0x85a&&(this['_width']=_0x5e9fa9,this['_height']=_0x5dcf75),this['_levels'][_0x2b4555]=_0x55e114;(this['_invalid']!==_0x2915ec||!_0x2915ec)&&(this['_invalid']=_0x2915ec,this['upload']());}['getSource'](_0x5f03d5=0x579*-0x2+-0x1e21+-0x2913*-0x1){return this['_levels'][_0x5f03d5];}['unlock'](){this['_lockedMod'+'e']===yl&&v['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===rd&&this['upload'](),this['_lockedLev'+'el']=-(0x1b7*-0x8+-0xbee*0x2+0x2595*0x1),this['_lockedMod'+'e']=yl;}['upload'](){var _0x537937,_0x379893;this['_needsUplo'+'ad']=!(0x3*0x1e2+0x1*0x1885+-0x1e2b),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x379893=(_0x537937=this['impl'])['uploadImme'+'diate'])==null||_0x379893['call'](_0x537937,this['device'],this);}['read'](_0x28a773,_0x5d5144,_0x3b5f88,_0x439ad7,_0x3c58d8={}){var _0x66cd74,_0x3c3933;return(_0x3c3933=(_0x66cd74=this['impl'])['read'])==null?void(0x413*-0x9+0x10a7+-0x7*-0x2dc):_0x3c3933['call'](_0x66cd74,_0x28a773,_0x5d5144,_0x3b5f88,_0x439ad7,_0x3c58d8);}}const Mv={'white':[-0x1*0xf1d+0x21*0x47+-0x1*-0x6f5,0x2*-0x8a1+-0x285*0x6+-0x215f*-0x1,-0x5*0x2c9+-0xd6*0x14+0x1fa4*0x1,-0x1*-0x10c+0xe3e+-0xe4b],'gray':[0x1dd8+0x258d+-0x42e5,-0x189f*0x1+-0x5*0x57a+0x3481,-0xf24+-0x9a2+0x1946,0xdfb+0x1c+0x68c*-0x2],'black':[-0x1*0xeda+0x1*-0x883+0x175d*0x1,0x1*0x2060+-0x160e+-0xa52,0x2b*-0xaa+-0x25d7+0x4265,0xd63+0x612+-0x1276],'normal':[-0x269f+0xc1*0x26+-0xa79*-0x1,-0xe*-0x260+0x25*0x6a+-0x125*0x2a,-0x7*0x4d5+0x268+0x206a,-0x6c*0x18+0xecd+-0x3ae],'pink':[0x21ce+0x225d+0xb32*-0x6,-0x1ea7+-0x7e6+0x270d,0x24e+0x10bc+-0x1f*0x95,-0x13ec+-0xfb+0x15e6]};class Pv{constructor(){c(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x549b9b=>{_0x549b9b['destroy']();});}}const Rv=new Ot(),en=(_0x402561,_0x5b6e58)=>{const _0x380dde=Rv['get'](_0x402561,()=>new Pv());if(!_0x380dde['map']['has'](_0x5b6e58)){const _0xc666b2=new he(_0x402561,{'name':'built-in-t'+'exture-'+_0x5b6e58,'width':0x1,'height':0x1,'format':Se}),_0x5a7b18=_0xc666b2['lock'](),_0x2e1deb=Mv[_0x5b6e58];v['assert'](_0x2e1deb,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x5b6e58+('\x27\x20not\x20foun'+'d')),_0x5a7b18['set'](_0x2e1deb),_0xc666b2['unlock'](),_0x380dde['map']['set'](_0x5b6e58,_0xc666b2);}return _0x380dde['map']['get'](_0x5b6e58);};let Iv=0x3b9*0x1+0x556*-0x7+0x21a1;class Yy{constructor(){c(this,'bindGroup'),c(this,'offsets',[]);}}class mp{constructor(_0x5d8be8,_0x5bbb24,_0x542ed3){c(this,'renderVers'+'ionUpdated',-(0xbf5+-0x1*-0x16fb+0x32d*-0xb)),c(this,'uniformBuf'+'fers'),c(this,'uniformBuf'+'ferOffsets',[]),(this['id']=Iv++,this['device']=_0x5d8be8,this['format']=_0x5bbb24,this['dirty']=!(-0x1a37*0x1+-0x177a+0x1*0x31b1),this['impl']=_0x5d8be8['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x542ed3,_0x542ed3&&this['setUniform'+'Buffer'](fp,_0x542ed3),v['trace'](Jx,'Alloc:\x20Id\x20'+this['id'],this,_0x5bbb24));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x59536d,_0x121a9b){const _0x180fda=this['format']['bufferForm'+'atsMap']['get'](_0x59536d);v['assert'](_0x180fda!==void(-0x1807+0x387*0x3+-0x1*-0xd72),'Setting\x20a\x20'+'uniform\x20['+_0x59536d+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['uniformBuf'+'fers'][_0x180fda]!==_0x121a9b&&(this['uniformBuf'+'fers'][_0x180fda]=_0x121a9b,this['dirty']=!(0xc23+-0x1315+0x6f2));}['setStorage'+'Buffer'](_0x1da433,_0x1bc471){const _0x3630ee=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x1da433);v['assert'](_0x3630ee!==void(0xb0f+0x1510+-0xab5*0x3),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x1da433+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageBuf'+'fers'][_0x3630ee]!==_0x1bc471&&(this['storageBuf'+'fers'][_0x3630ee]=_0x1bc471,this['dirty']=!(-0x2296+-0x2f*0x25+0x2961));}['setTexture'](_0x3b9214,_0x1b3cae){const _0x5d42fd=this['format']['textureFor'+'matsMap']['get'](_0x3b9214);v['assert'](_0x5d42fd!==void(-0x17e5+0x1d5+0x1610),'Setting\x20a\x20'+'texture\x20['+_0x3b9214+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['textures'][_0x5d42fd]!==_0x1b3cae?(this['textures'][_0x5d42fd]=_0x1b3cae,this['dirty']=!(0x1*-0x19cb+-0x2*-0x31c+0x1393*0x1)):this['renderVers'+'ionUpdated']<_0x1b3cae['renderVers'+'ionDirty']&&(this['dirty']=!(0xe77+0xc43*-0x1+-0x234));}['setStorage'+'Texture'](_0x316716,_0x2ba7f5){const _0x114b16=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x316716);v['assert'](_0x114b16!==void(0x1*-0x2211+0x96f+-0x1*-0x18a2),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x316716+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageTex'+'tures'][_0x114b16]!==_0x2ba7f5?(this['storageTex'+'tures'][_0x114b16]=_0x2ba7f5,this['dirty']=!(-0xc1*0x25+-0x31*0x8c+-0x1*-0x36b1)):this['renderVers'+'ionUpdated']<_0x2ba7f5['renderVers'+'ionDirty']&&(this['dirty']=!(-0x105c+-0x1cf1+0x2d4d));}['updateUnif'+'ormBuffers'](){for(let _0x38015c=-0xe*-0x243+0x1*-0xc46+0x124*-0x11;_0x38015c<this['uniformBuf'+'fers']['length'];_0x38015c++)this['uniformBuf'+'fers'][_0x38015c]['update']();}['update'](){const {textureFormats:_0x347733,storageTextureFormats:_0x42cafa,storageBufferFormats:_0x1ae7ab}=this['format'];for(let _0x27874d=-0x5cb*0x3+-0x1*0x1384+0x24e5;_0x27874d<_0x347733['length'];_0x27874d++){const _0x42b09a=_0x347733[_0x27874d];let _0xf95346=_0x42b09a['scopeId']['value'];_0xf95346||(_0x42b09a['name']==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0xf95346=en(this['device'],'white')),_0x42b09a['name']==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0xf95346=en(this['device'],'pink')),_0xf95346||(v['errorOnce']('Texture\x20'+_0x42b09a['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+G['toString']()+']'),_0xf95346=en(this['device'],'pink'))),this['setTexture'](_0x42b09a['name'],_0xf95346);}for(let _0x1ed8f1=0x6b2+-0x2449*-0x1+-0x2afb;_0x1ed8f1<_0x42cafa['length'];_0x1ed8f1++){const _0x29582d=_0x42cafa[_0x1ed8f1],_0x3f5900=_0x29582d['scopeId']['value'];v['assert'](_0x3f5900,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x29582d['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Texture'](_0x29582d['name'],_0x3f5900);}for(let _0xae2047=-0xef9*0x1+0x1166+-0x26d;_0xae2047<_0x1ae7ab['length'];_0xae2047++){const _0x113ccd=_0x1ae7ab[_0xae2047],_0x13870a=_0x113ccd['scopeId']['value'];v['assert'](_0x13870a,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x113ccd['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Buffer'](_0x113ccd['name'],_0x13870a);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x246c28=0x37a+-0x3*-0x3eb+-0x7*0x22d;_0x246c28<this['uniformBuf'+'fers']['length'];_0x246c28++){const _0x26c1d0=this['uniformBuf'+'fers'][_0x246c28];this['uniformBuf'+'ferOffsets'][_0x246c28]=_0x26c1d0['offset'],this['renderVers'+'ionUpdated']<_0x26c1d0['renderVers'+'ionDirty']&&(this['dirty']=!(-0x11a5+-0x236*-0x7+0x25*0xf));}this['dirty']&&(this['dirty']=!(-0x80*0x43+-0xbf*-0x14+0x47*0x43),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const Oe={'set'(_0x5525e8,_0x16c6bd,_0x365f02,_0x5af2d3=-0x22*0x47+0xd*0xad+0xa6){return _0x5525e8&~(_0x5af2d3<<_0x365f02)|_0x16c6bd<<_0x365f02;},'get'(_0x45fa77,_0x30f200,_0x1c6f19=-0xf99+0x1d63+-0xdc9){return _0x45fa77>>_0x30f200&_0x1c6f19;},'all'(_0x3e1a71,_0x535667,_0x262d55=0x1d7+0x17*0x37+-0x15b*0x5){const _0x4a16d2=_0x262d55<<_0x535667;return(_0x3e1a71&_0x4a16d2)===_0x4a16d2;},'any'(_0x245c9a,_0x35fc3f,_0x496447=-0x25*0x61+-0x9a9+0x17af){return(_0x245c9a&_0x496447<<_0x35fc3f)!==0x5e5*0x5+-0x1*0x2441+0x6c8;}},xl=0xf9f*0x1+-0x1ba8+0x4*0x304,Vi=-0xa*0x146+-0x2*-0x12c1+-0x18b7,dm=-0x1942+-0x1347+0x2c89,um=0x6*-0x125+0x361*-0x1+0xa42,fm=0xcb*-0x7+0xa48+-0x4b4,pm=-0x2213+-0x1846+-0x25*-0x194,mm=-0xbd+-0xbc*-0x1d+-0x1481,_m=0x233f+-0x191e+0x203*-0x5,Cu=-0xe5*0x12+0x1*0x35e+0x1*0xcd2,gm=0x66+-0x1f*0xbf+0x16d2,ym=0x478*-0x8+-0x182e+0xc5*0x4e,xm=-0x4f*-0x35+0x4b8+-0x14fa,Sm=0x2647+0x2*-0x1a1+-0x22eb,Dv=0x23f7+-0xb2+-0x2336,Lv=Cu,zs=class zs{constructor(_0x54b640=!(0x2f*-0xbc+-0x2*-0xf9e+0x349*0x1),_0x5a4c59=Lt,_0xac53f6=at,_0x3a5423=kf,_0x2fdb9e,_0x5cc4c4,_0x4f3d30,_0xfeda06=!(-0x164a+0x1247+0x403*0x1),_0x24c9fc=!(0x11de+0xaa3*-0x1+-0x73b),_0x3ecda6=!(-0x81*0x6+-0xb24*-0x1+-0x81e),_0x42cc3b=!(0x9e*0x37+-0x1b91+0x1*-0x661)){c(this,'target0',0x1f6b+-0x165+0x7a*-0x3f),(this['setColorBl'+'end'](_0x5a4c59,_0xac53f6,_0x3a5423),this['setAlphaBl'+'end'](_0x2fdb9e??_0x5a4c59,_0x5cc4c4??_0xac53f6,_0x4f3d30??_0x3a5423),this['setColorWr'+'ite'](_0xfeda06,_0x24c9fc,_0x3ecda6,_0x42cc3b),this['blend']=_0x54b640);}set['blend'](_0x19586e){this['target0']=Oe['set'](this['target0'],_0x19586e?-0x141*-0xd+0x1460+-0x24ac:0x80b+0x1*-0x247f+0xc*0x25f,Sm);}get['blend'](){return Oe['all'](this['target0'],Sm);}['setColorBl'+'end'](_0x5b7e9d,_0x135be0,_0xa67816){this['target0']=Oe['set'](this['target0'],_0x5b7e9d,dm,xl),this['target0']=Oe['set'](this['target0'],_0x135be0,um,Vi),this['target0']=Oe['set'](this['target0'],_0xa67816,fm,Vi);}['setAlphaBl'+'end'](_0x440a12,_0xee5691,_0x2d731e){this['target0']=Oe['set'](this['target0'],_0x440a12,pm,xl),this['target0']=Oe['set'](this['target0'],_0xee5691,mm,Vi),this['target0']=Oe['set'](this['target0'],_0x2d731e,_m,Vi);}['setColorWr'+'ite'](_0xf7d3a2,_0x429dff,_0x33c1b8,_0x167a96){this['redWrite']=_0xf7d3a2,this['greenWrite']=_0x429dff,this['blueWrite']=_0x33c1b8,this['alphaWrite']=_0x167a96;}get['colorOp'](){return Oe['get'](this['target0'],dm,xl);}get['colorSrcFa'+'ctor'](){return Oe['get'](this['target0'],um,Vi);}get['colorDstFa'+'ctor'](){return Oe['get'](this['target0'],fm,Vi);}get['alphaOp'](){return Oe['get'](this['target0'],pm,xl);}get['alphaSrcFa'+'ctor'](){return Oe['get'](this['target0'],mm,Vi);}get['alphaDstFa'+'ctor'](){return Oe['get'](this['target0'],_m,Vi);}set['redWrite'](_0x346f5f){this['target0']=Oe['set'](this['target0'],_0x346f5f?-0xbfc*-0x1+0x7*-0x13f+-0x1*0x342:0x3*0x3fd+-0x1831+-0x272*-0x5,Cu);}get['redWrite'](){return Oe['all'](this['target0'],Cu);}set['greenWrite'](_0x652985){this['target0']=Oe['set'](this['target0'],_0x652985?-0x99*0x33+-0x25c6+0x4442:-0x5*-0x6d1+-0x14b0+-0x9*0x17d,gm);}get['greenWrite'](){return Oe['all'](this['target0'],gm);}set['blueWrite'](_0xfb1c2e){this['target0']=Oe['set'](this['target0'],_0xfb1c2e?-0x1519*0x1+-0x7*0xd5+0x1aed:-0x1b01+-0x189+0x1c8a,ym);}get['blueWrite'](){return Oe['all'](this['target0'],ym);}set['alphaWrite'](_0x3495d3){this['target0']=Oe['set'](this['target0'],_0x3495d3?0x205d*0x1+-0x5d8+-0x1a84:-0x24d4+0x131b+0x11b9,xm);}get['alphaWrite'](){return Oe['all'](this['target0'],xm);}get['allWrite'](){return Oe['get'](this['target0'],Lv,Dv);}['copy'](_0x8905bc){return this['target0']=_0x8905bc['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x47be13){return this['target0']===_0x47be13['target0'];}};c(zs,'NOBLEND',Object['freeze'](new zs())),c(zs,'NOWRITE',Object['freeze'](new zs(void(0x1*0x15b9+0x9df*-0x1+0x29*-0x4a),void(-0xe1b+0x12bc+-0x4a1),void(-0x7*-0x25+-0x127*0x2+0x1*0x14b),void(0x2371+-0x2*-0xba3+0x1*-0x3ab7),void(-0x3bd+0x16b0+-0x93*0x21),void(-0x1a78+-0x36+0x556*0x5),void(0x6*0x1f3+-0xa56+0xc*-0x1d),!(0x47*0xd+0x3df*0xa+-0xa94*0x4),!(0x55*-0x61+0x6a+-0x94*-0x37),!(-0x2298+0x48b*0x4+0x106d),!(-0x2*-0xf4+-0x7d2+0x5eb)))),c(zs,'ALPHABLEND',Object['freeze'](new zs(!(0xf44*0x1+-0xe55+-0x1*0xef),Lt,dc,uc))),c(zs,'ADDBLEND',Object['freeze'](new zs(!(-0x22bb+-0xaf*0x20+0x2b*0x151),Lt,at,at)));let _t=zs;class _p{constructor(){c(this,'map',new Map()),c(this,'id',-0xec5+-0x1d*0x115+0x3*0xf62);}['get'](_0x19009a){let _0x4f8ca7=this['map']['get'](_0x19009a);return _0x4f8ca7===void(0x133*0x9+0x180f+-0x22da)&&(_0x4f8ca7=this['id']++,this['map']['set'](_0x19009a,_0x4f8ca7)),_0x4f8ca7;}}const Fv=new _p(),vm=-0xf0d+-0xc*0xa8+-0x4*-0x5bd,bm=-0x545+-0x1b48+-0xd*-0x281,wm=-0x9*0x225+0x8e1+0xa6f*0x1,Zi=class Zi{constructor(_0x4f91ab=fu,_0x50d4d0=!(-0xddc+0x183e+-0xa62)){c(this,'data',0x1*-0x4af+0xe55+0x82*-0x13),c(this,'_depthBias',0x9f3+0x764*0x4+-0x2783),c(this,'_depthBias'+'Slope',-0x60b+0x24c7+-0x1ebc),c(this,'key',0xe66+0xd79+0x1bdf*-0x1),(this['func']=_0x4f91ab,this['write']=_0x50d4d0);}set['test'](_0xba33a){this['func']=_0xba33a?fu:Ai,this['updateKey']();}get['test'](){return this['func']!==Ai;}set['write'](_0x4c51e0){this['data']=Oe['set'](this['data'],_0x4c51e0?0x1e58+-0x1abb+0x6*-0x9a:0xb5*-0x30+-0x2374+-0x4*-0x1159,wm),this['updateKey']();}get['write'](){return Oe['all'](this['data'],wm);}set['func'](_0x2faba3){this['data']=Oe['set'](this['data'],_0x2faba3,bm,vm),this['updateKey']();}get['func'](){return Oe['get'](this['data'],bm,vm);}set['depthBias'](_0x10eaeb){this['_depthBias']=_0x10eaeb,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x53fbcf){this['_depthBias'+'Slope']=_0x53fbcf,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x2d432d){return this['data']=_0x2d432d['data'],this['_depthBias']=_0x2d432d['_depthBias'],this['_depthBias'+'Slope']=_0x2d432d['_depthBias'+'Slope'],this['key']=_0x2d432d['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x1139af,_depthBias:_0x13bc39,_depthBiasSlope:_0x23349d}=this,_0x4f52a4=_0x1139af+'-'+_0x13bc39+'-'+_0x23349d;this['key']=Fv['get'](_0x4f52a4);}['equals'](_0x263f69){return this['key']===_0x263f69['key'];}};c(Zi,'DEFAULT',Object['freeze'](new Zi())),c(Zi,'NODEPTH',Object['freeze'](new Zi(Ai,!(0x4*-0x5bd+-0x128+0x181d)))),c(Zi,'WRITEDEPTH',Object['freeze'](new Zi(Ai,!(-0x37*-0xae+0x2*-0x31+-0x250*0x10))));let as=Zi;class Ky{constructor(){c(this,'globalId',-0x26c7+-0xb2*0x2f+-0x4775*-0x1),c(this,'revision',-0x10e2+-0x18cb+-0xe3*-0x2f);}['equals'](_0x32b06d){return this['globalId']===_0x32b06d['globalId']&&this['revision']===_0x32b06d['revision'];}['copy'](_0x121294){this['globalId']=_0x121294['globalId'],this['revision']=_0x121294['revision'];}['reset'](){this['globalId']=0x61*0x25+-0x67*-0xb+-0x313*0x6,this['revision']=0x697+0x2678+-0x2d0f;}}let Tm=0x3ec+-0x21ed+-0x1*-0x1e01;class Ov{constructor(){Tm++,this['version']=new Ky(),this['version']['globalId']=Tm;}['increment'](){this['version']['revision']++;}}class kv{constructor(_0x4e69f7){this['name']=_0x4e69f7,this['value']=null,this['versionObj'+'ect']=new Ov();}['toJSON'](_0x53048f){}['setValue'](_0x150851){this['value']=_0x150851,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class Bv{constructor(_0x12937e){this['name']=_0x12937e,this['variables']=new Map();}['resolve'](_0x1e8132){return this['variables']['has'](_0x1e8132)||this['variables']['set'](_0x1e8132,new kv(_0x1e8132)),this['variables']['get'](_0x1e8132);}['removeValu'+'e'](_0xe28b61){for(const _0x5674d3 in this['variables']){const _0x48e352=this['variables'][_0x5674d3];_0x48e352['value']===_0xe28b61&&(_0x48e352['value']=null);}}}let Nv=-0xf88+0x5*-0x239+0x1aa5;class os{constructor(_0xb4831c,_0x8740e4,_0x41e9b0,_0x15b05c){c(this,'usage',jt),(v['assert'](arguments['length']<=-0xf9c+-0x196d+0x290d&&(!_0x15b05c||typeof _0x15b05c=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x15b05c==null?void(0xd2e*-0x1+0x1*-0x22c9+0x3*0xffd):_0x15b05c['usage'])??jt,this['device']=_0xb4831c,this['format']=_0x8740e4,this['numVertice'+'s']=_0x41e9b0,this['id']=Nv++,this['impl']=_0xb4831c['createVert'+'exBufferIm'+'pl'](this,_0x8740e4,_0x15b05c),this['numBytes']=_0x8740e4['verticesBy'+'teSize']?_0x8740e4['verticesBy'+'teSize']:_0x8740e4['size']*_0x41e9b0,this['adjustVram'+'SizeTracki'+'ng'](_0xb4831c['_vram'],this['numBytes']));const _0x2195e4=_0x15b05c==null?void(0xcdf+0x1*-0x1039+-0x6*-0x8f):_0x15b05c['data'];_0x2195e4?this['setData'](_0x2195e4):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x300c59=this['device'],_0x3d68c3=_0x300c59['buffers']['indexOf'](this);_0x3d68c3!==-(-0xfe+-0x23cb+0x24ca)&&_0x300c59['buffers']['splice'](_0x3d68c3,-0xf28+0x6af+0x87a),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x300c59),this['adjustVram'+'SizeTracki'+'ng'](_0x300c59['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x55f5ac,_0x520699){v['trace'](Zx,this['id']+'\x20size:\x20'+_0x520699+'\x20vram.vb:\x20'+_0x55f5ac['vb']+'\x20=>\x20'+(_0x55f5ac['vb']+_0x520699)),_0x55f5ac['vb']+=_0x520699;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x59e00){return _0x59e00['byteLength']!==this['numBytes']?(v['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x59e00['byteLength']),!(-0x1*-0x1899+0x9d*-0x18+-0x9e0)):(this['storage']=_0x59e00,this['unlock'](),!(0x83c+-0x1a21+0x3*0x5f7));}}function hn(_0x64ec59){if(_0x64ec59==null)return-0x35*-0x71+-0x5f*0x3d+-0xc2;let _0x27a88b=0x1*-0x1d62+-0x2*0x3b+0x3bb*0x8;for(let _0x7e0932=0x12*-0xc4+0x12e0+-0x518,_0x58d4f8=_0x64ec59['length'];_0x7e0932<_0x58d4f8;_0x7e0932++)_0x27a88b=(_0x27a88b<<-0x25c7*-0x1+-0x3d3*-0x4+-0x350e)-_0x27a88b+_0x64ec59['charCodeAt'](_0x7e0932),_0x27a88b|=-0x4*0x4a+-0x1d49+0x1e71;return _0x27a88b;}function Zy(_0x24099d){let _0x13c4a5=0x5*-0x1489180f+0x676ccb3d+0x805d4ad3;for(let _0x4abb57=0xcc9+0x2*-0x12d3+0x18dd;_0x4abb57<_0x24099d['length'];_0x4abb57++)_0x13c4a5^=_0x24099d[_0x4abb57],_0x13c4a5*=-0x263b5e+-0xa*0x1ef50b+0x25bcf5f;return _0x13c4a5>>>0x1*-0x865+0x112*0x1d+0x20f*-0xb;}const zv=new _p(),Uv=[-0x1*0x867+-0x9*-0x9d+0x2e4,-0xf14*-0x1+-0x43f*0x5+0x1*0x62b,0x2*0xdeb+0x616*-0x1+0x15b8*-0x1,0x69b*-0x1+0x26b3+-0x200c,-0x20*-0xc2+0x1d1*0x14+-0x3c84],Vv=new Ot();class Et{constructor(_0x3e0ddd,_0x1bdd94,_0x34aff7){this['device']=_0x3e0ddd,this['_elements']=[],this['hasUv0']=!(0x1*0xf9a+0x3*0x5f+-0x6*0x2c9),this['hasUv1']=!(-0xc31*0x1+0x55f+0x6d3),this['hasColor']=!(0x35f*0x1+-0x110b+0xdad),this['hasTangent'+'s']=!(-0x2f3*-0x9+-0x2c9+0x1*-0x17c1),this['verticesBy'+'teSize']=0x1361+0x1*0x245b+-0x52*0xae,this['vertexCoun'+'t']=_0x34aff7,this['interleave'+'d']=_0x34aff7===void(-0x815*0x3+-0x1d13+0x3552),this['instancing']=!(-0x1*-0x23f+0x1*0x268b+-0x1*0x28c9),this['size']=_0x1bdd94['reduce']((_0x3c2141,_0x35cdc6)=>_0x3c2141+Math['ceil'](_0x35cdc6['components']*_o[_0x35cdc6['type']]/(0x273*-0xb+-0x201a+0x3b0f))*(-0x1c32*0x1+-0x3*0xaf9+0x3d21),-0x1*0x1945+-0xdf4+0x1*0x2739);let _0x3f38b7=-0x1d50+-0x3*-0x27f+0x15d3*0x1,_0xa380a;for(let _0x313aca=-0x1c9a+0x902+0x1398,_0x2f51aa=_0x1bdd94['length'];_0x313aca<_0x2f51aa;_0x313aca++){const _0x1dce28=_0x1bdd94[_0x313aca];_0xa380a=_0x1dce28['components']*_o[_0x1dce28['type']],v['assert'](Et['isElementV'+'alid'](_0x3e0ddd,_0x1dce28),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x1dce28['semantic']+'\x20:\x20'+Sv[_0x1dce28['type']]+'\x20x\x20'+_0x1dce28['components']),_0x34aff7&&(_0x3f38b7=N['roundUp'](_0x3f38b7,_0xa380a),v['assert'](_0xa380a%(0x1892+-0xb55*0x3+0x971*0x1)===-0x1141+0x1*-0xd19+-0x22b*-0xe,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0xa380a));const _0x3c45b7=_0x1dce28['asInt']??!(0xf5e+-0x23d*0x11+0x16b0),_0x43535f=_0x3c45b7?!(0x7e2*0x2+-0x28c*0xa+0x9b5):_0x1dce28['normalize']??!(-0x12*-0x175+0x6b*0x17+-0xbf2*0x3),_0x41abfc={'name':_0x1dce28['semantic'],'offset':_0x34aff7?_0x3f38b7:_0x1dce28['hasOwnProp'+'erty']('offset')?_0x1dce28['offset']:_0x3f38b7,'stride':_0x34aff7?_0xa380a:_0x1dce28['hasOwnProp'+'erty']('stride')?_0x1dce28['stride']:this['size'],'dataType':_0x1dce28['type'],'numComponents':_0x1dce28['components'],'normalize':_0x43535f,'size':_0xa380a,'asInt':_0x3c45b7};this['_elements']['push'](_0x41abfc),_0x34aff7?_0x3f38b7+=_0xa380a*_0x34aff7:_0x3f38b7+=Math['ceil'](_0xa380a/(-0x19b6+-0x2af*0x1+0x40f*0x7))*(0x7b5*0x1+-0xe*-0x24b+0x3d*-0xa7),_0x1dce28['semantic']===ns?this['hasUv0']=!(0xb*-0x317+-0x3*0xbd3+0x4576):_0x1dce28['semantic']===_n?this['hasUv1']=!(0x2272*-0x1+0x38e+-0x4*-0x7b9):_0x1dce28['semantic']===At?this['hasColor']=!(-0xe3b+0xda4+0x97):_0x1dce28['semantic']===Zs&&(this['hasTangent'+'s']=!(0x26d*-0x10+-0x4*0x52c+-0x1c*-0x220));}_0x34aff7&&(this['verticesBy'+'teSize']=_0x3f38b7),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x4e693b){return Vv['get'](_0x4e693b,()=>new Et(_0x4e693b,[{'semantic':rp,'components':0x4,'type':Ee},{'semantic':ga,'components':0x4,'type':Ee},{'semantic':np,'components':0x4,'type':Ee},{'semantic':ya,'components':0x4,'type':Ee}]));}static['isElementV'+'alid'](_0x4678c2,_0x251a07){const _0x486dd0=_0x251a07['components']*_o[_0x251a07['type']];return!(_0x4678c2['isWebGPU']&&!Uv['includes'](_0x486dd0));}['update'](){v['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x47ddca=[],_0x24da3a=[],_0x3117af=this['_elements']['length'];for(let _0x509197=-0x1ca5+-0x709*0x4+-0x38c9*-0x1;_0x509197<_0x3117af;_0x509197++){const {name:_0x3328bf,dataType:_0x5bb7d5,numComponents:_0x92d062,normalize:_0x345dae,offset:_0x481bab,stride:_0x38b8f5,size:_0x11bb5e,asInt:_0x4f126c}=this['_elements'][_0x509197],_0x519650=_0x3328bf+_0x5bb7d5+_0x92d062+_0x345dae+_0x4f126c;_0x47ddca['push'](_0x519650);const _0x9ed72b=_0x519650+_0x481bab+_0x38b8f5+_0x11bb5e;_0x24da3a['push'](_0x9ed72b);}_0x47ddca['sort']();const _0x109a3f=_0x47ddca['join']();this['batchingHa'+'sh']=hn(_0x109a3f),this['shaderProc'+'essingHash'+'String']=_0x109a3f,this['renderingH'+'ashString']=_0x24da3a['join']('_'),this['renderingH'+'ash']=zv['get'](this['renderingH'+'ashString']);}}const Gv=new _p(),rc=class rc{constructor(_0x3ee985={}){c(this,'_func'),c(this,'_ref'),c(this,'_fail'),c(this,'_zfail'),c(this,'_zpass'),c(this,'_readMask'),c(this,'_writeMask'),c(this,'_dirty',!(-0xd20+-0x258a+0xa22*0x5)),c(this,'_key'),(this['_func']=_0x3ee985['func']??Ai,this['_ref']=_0x3ee985['ref']??-0x10*0x15+-0x2057+0x6bb*0x5,this['_readMask']=_0x3ee985['readMask']??-0x2bb*-0x9+0x2479*0x1+-0x3c0d*0x1,this['_writeMask']=_0x3ee985['writeMask']??0x2*-0x17e+0xde6+-0x1*0x9eb,this['_fail']=_0x3ee985['fail']??ha,this['_zfail']=_0x3ee985['zfail']??ha,this['_zpass']=_0x3ee985['zpass']??ha,this['_evalKey']());}set['func'](_0x3be3a7){this['_func']=_0x3be3a7,this['_dirty']=!(0x1459*0x1+-0x1*-0xeae+0x3d*-0x93);}get['func'](){return this['_func'];}set['ref'](_0x3defc5){this['_ref']=_0x3defc5,this['_dirty']=!(-0x1*-0x8cb+-0xeb3+0x5e8);}get['ref'](){return this['_ref'];}set['fail'](_0x4982f2){this['_fail']=_0x4982f2,this['_dirty']=!(0xae7+-0x1fe9+0x1502);}get['fail'](){return this['_fail'];}set['zfail'](_0x3f566e){this['_zfail']=_0x3f566e,this['_dirty']=!(0xf4f*-0x1+-0x1642+0x2591);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x25f994){this['_zpass']=_0x25f994,this['_dirty']=!(0x3*-0x65b+0x64d*0x4+-0x623*0x1);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x201ba7){this['_readMask']=_0x201ba7,this['_dirty']=!(0xb78+0x8*0x3bd+-0x2960);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0xaa3375){this['_writeMask']=_0xaa3375,this['_dirty']=!(-0x480+0x31*-0x1d+0xa0d);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x5284f7,_ref:_0x512492,_fail:_0x56c247,_zfail:_0x2379d2,_zpass:_0x78c4ae,_readMask:_0x4ef47a,_writeMask:_0xef023d}=this,_0x5a5759=_0x5284f7+','+_0x512492+','+_0x56c247+','+_0x2379d2+','+_0x78c4ae+','+_0x4ef47a+','+_0xef023d;this['_key']=Gv['get'](_0x5a5759),this['_dirty']=!(-0x23a*-0xf+-0x7*0x2ef+-0x337*0x4);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x2b917d){return this['_func']=_0x2b917d['_func'],this['_ref']=_0x2b917d['_ref'],this['_readMask']=_0x2b917d['_readMask'],this['_writeMask']=_0x2b917d['_writeMask'],this['_fail']=_0x2b917d['_fail'],this['_zfail']=_0x2b917d['_zfail'],this['_zpass']=_0x2b917d['_zpass'],this['_dirty']=_0x2b917d['_dirty'],this['_key']=_0x2b917d['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};c(rc,'DEFAULT',Object['freeze'](new rc()));let qs=rc;const nc=class nc extends ce{constructor(_0x19c003,_0x3c1675){var _0x21d614,_0x4162d4,_0x22349d,_0x360e1c,_0x2b4b99,_0x13c8af;super(),c(this,'canvas'),c(this,'backBuffer',null),c(this,'backBuffer'+'Size',new W()),c(this,'backBuffer'+'Format'),c(this,'backBuffer'+'Antialias',!(-0x1*-0x1bd4+-0x1*0x1031+-0x2*0x5d1)),c(this,'isWebGPU',!(-0x24c1*-0x1+-0x1*-0x92f+-0x42d*0xb)),c(this,'isWebGL2',!(0x9*0x97+0x4ed*0x5+-0x4f*0x61)),c(this,'isHdr',!(0x1*-0x7eb+-0x1e5a+0x2646)),c(this,'scope'),c(this,'maxAnisotr'+'opy'),c(this,'maxCubeMap'+'Size'),c(this,'maxTexture'+'Size'),c(this,'maxVolumeS'+'ize'),c(this,'maxColorAt'+'tachments',0x10*0x1c+0x1a3a+-0x1bf9),c(this,'precision'),c(this,'samples'),c(this,'maxSamples',-0x2205+0x24e2+-0x2dc),c(this,'supportsSt'+'encil'),c(this,'supportsCo'+'mpute',!(0x932+0x4*-0xb0+-0x671)),c(this,'supportsSt'+'orageTextu'+'reRead',!(0x2*-0x53b+-0x1e68+0x28df)),c(this,'renderTarg'+'et',null),c(this,'shaders',[]),c(this,'textures',[]),c(this,'targets',new Set()),c(this,'renderVers'+'ion',-0x131*-0x7+-0xde+-0x779),c(this,'renderPass'+'Index'),c(this,'insideRend'+'erPass',!(0x1650+0x9dd*0x1+0x8e*-0x3a)),c(this,'supportsUn'+'iformBuffe'+'rs',!(0x536+-0x3e4+-0x151*0x1)),c(this,'supportsCl'+'ipDistance'+'s',!(-0x138d+-0x39e*-0x1+0x154*0xc)),c(this,'textureFlo'+'atRenderab'+'le'),c(this,'textureHal'+'fFloatRend'+'erable'),c(this,'textureRG1'+'1B10Render'+'able',!(-0xb2*0x38+0x8b5*0x4+0x41d)),c(this,'textureFlo'+'atFilterab'+'le',!(-0x379*-0x3+0x4de*-0x6+-0x41*-0x4a)),c(this,'quadVertex'+'Buffer'),c(this,'blendState',new _t()),c(this,'depthState',new as()),c(this,'stencilEna'+'bled',!(-0x1fc9+0x29f*0x3+0x17ed)),c(this,'stencilFro'+'nt',new qs()),c(this,'stencilBac'+'k',new qs()),c(this,'dynamicBuf'+'fers'),c(this,'gpuProfile'+'r'),c(this,'defaultCle'+'arOptions',{'color':[-0x5ff*0x5+0x1674+-0x29*-0x2f,0x637+0xbf1+0x2*-0x914,-0xc*-0xe3+0x1*0x1fd3+-0x2a77,-0xc*-0x100+0x6f4+-0x12f3],'depth':0x1,'stencil':0x0,'flags':Co|Mo}),c(this,'clientRect',{'width':0x0,'height':0x0}),c(this,'_shadersDi'+'rty',!(-0xf85+0xabf+0x4c7)),(this['canvas']=_0x19c003,this['initOption'+'s']={..._0x3c1675},(_0x21d614=this['initOption'+'s'])['alpha']??(_0x21d614['alpha']=!(-0x1cbd+-0x222*0xd+-0x23*-0x19d)),(_0x4162d4=this['initOption'+'s'])['depth']??(_0x4162d4['depth']=!(-0x20c2*-0x1+-0x623+-0x1a9f)),(_0x22349d=this['initOption'+'s'])['stencil']??(_0x22349d['stencil']=!(0xc32*0x1+0x2*-0x120b+0x4*0x5f9)),(_0x360e1c=this['initOption'+'s'])['antialias']??(_0x360e1c['antialias']=!(-0x7*-0x560+-0x18bb+-0x1*0xce5)),(_0x2b4b99=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x2b4b99['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x13c8af=this['initOption'+'s'])['displayFor'+'mat']??(_0x13c8af['displayFor'+'mat']=gv),this['_maxPixelR'+'atio']=ye['browser']?Math['min'](0x1*0x1352+-0x2336+0xfe5*0x1,window['devicePixe'+'lRatio']):0x1d6c+-0x68*-0x41+0x1*-0x37d3,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=0xcb+0x3*-0xc9d+0x250c,this['_shaderSwi'+'tchesPerFr'+'ame']=-0xb45+-0x217e+-0x2cc3*-0x1,this['_primsPerF'+'rame']=[]);for(let _0x163c47=Mc;_0x163c47<=Yr;_0x163c47++)this['_primsPerF'+'rame'][_0x163c47]=0x1*0x22d9+0x1bcb+0x1*-0x3ea4;this['_renderTar'+'getCreatio'+'nTime']=-0xcbe+-0x24a*0xe+-0x1b9*-0x1a,this['scope']=new Bv('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](0x5d6+-0x4*-0x95e+-0x2b4e);}['postInit'](){const _0x1aff54=new Et(this,[{'semantic':He,'components':0x2,'type':Ee}]),_0x36be86=new Float32Array([-(-0x25a0+0x17*-0x9b+0x338e*0x1),-(0x10b*-0x3+0x5*0x3fd+-0x10cf),0xdb3+-0x1d9*-0x6+-0x4*0x632,-(-0x1fa1+0x42b+0x1b77*0x1),-(0x4*-0x7+0x3d6*0x6+0x8f*-0x29),0x25bb+-0x3*0x91f+-0xa5d,-0x48*-0xd+-0x11d1+0xe*0x103,0x1*-0x8fe+-0x1*-0x22b2+-0x19b3*0x1]);this['quadVertex'+'Buffer']=new os(this,_0x1aff54,-0x16bf+-0x22c9+0x398c,{'data':_0x36be86});}['destroy'](){var _0x52d416,_0x31b12f,_0x1a7d0e;this['fire']('destroy'),(_0x52d416=this['quadVertex'+'Buffer'])==null||_0x52d416['destroy'](),this['quadVertex'+'Buffer']=null,(_0x31b12f=this['dynamicBuf'+'fers'])==null||_0x31b12f['destroy'](),this['dynamicBuf'+'fers']=null,(_0x1a7d0e=this['gpuProfile'+'r'])==null||_0x1a7d0e['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x46d0c4){this['fire']('destroy:sh'+'ader',_0x46d0c4);const _0x39fde7=this['shaders']['indexOf'](_0x46d0c4);_0x39fde7!==-(-0xe09+0x2*-0x110d+0x2*0x1812)&&this['shaders']['splice'](_0x39fde7,-0x7*0x51b+0x8ae+0x2*0xd88);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x61409b;this['contextLos'+'t']=!(0xcfe+0x6a9+0x3*-0x68d),this['backBuffer'+'Size']['set'](-(-0xbd2+-0x2696+-0x1bd*-0x1d),-(0x1099+-0x1*0x143a+0x1d1*0x2));for(const _0x641580 of this['textures'])_0x641580['loseContex'+'t']();for(const _0x3353ea of this['buffers'])_0x3353ea['loseContex'+'t']();for(const _0x5778dd of this['targets'])_0x5778dd['loseContex'+'t']();(_0x61409b=this['gpuProfile'+'r'])==null||_0x61409b['loseContex'+'t']();}['restoreCon'+'text'](){var _0x1fa1ab,_0x4ae4b7;this['contextLos'+'t']=!(0x1*0xd21+-0x508+0x818*-0x1),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x495d14 of this['buffers'])_0x495d14['unlock']();(_0x4ae4b7=(_0x1fa1ab=this['gpuProfile'+'r'])==null?void(0x66*0x53+0xde5+0xb*-0x445):_0x1fa1ab['restoreCon'+'text'])==null||_0x4ae4b7['call'](_0x1fa1ab);}['toJSON'](_0x14b819){}['initialize'+'ContextCac'+'hes'](){this['indexBuffe'+'r']=null,this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(0x22f1+0x380+0x1*-0x2671),this['shaderAsyn'+'cCompile']=!(0xb26+-0x62*0x62+0x9d*0x2b),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new _t(),this['depthState']=new as(),this['cullMode']=rn,this['vx']=this['vy']=this['vw']=this['vh']=0x11b6+0xc17+-0x1dcd,this['sx']=this['sy']=this['sw']=this['sh']=-0xf86*0x1+-0x1257*0x2+0x404*0xd,this['blendColor']=new Y(-0x24c5*-0x1+-0x10*0x236+-0x165,0x9eb*0x3+-0x2a5*-0x5+-0x2afa,-0xd*-0x17d+0x14b9+0x1409*-0x2,0x138f*-0x1+0x1*-0x1b41+0x1ac*0x1c);}['setStencil'+'State'](_0x1803a3,_0x2dfa4c){v['assert'](!(-0xe7f+0x2f1*0x5+0x35*-0x1));}['setBlendSt'+'ate'](_0x41f477){v['assert'](!(0x559+-0x1e04+0x18ac*0x1));}['setBlendCo'+'lor'](_0x2e0321,_0x40d774,_0x141d03,_0x195bc6){v['assert'](!(0x1f2*0x13+-0x1882+-0xc73));}['setDepthSt'+'ate'](_0x5b08aa){v['assert'](!(0x1eff+-0x1af9+-0x405));}['setCullMod'+'e'](_0x3d8d74){v['assert'](!(0x4eb+0x2162+-0x264c));}['setRenderT'+'arget'](_0x28e03a){this['renderTarg'+'et']=_0x28e03a;}['setIndexBu'+'ffer'](_0x468958){this['indexBuffe'+'r']=_0x468958;}['setVertexB'+'uffer'](_0x33ce9a){_0x33ce9a&&this['vertexBuff'+'ers']['push'](_0x33ce9a);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=0x119c+0x1e88+0xed*-0x34;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x4a415a){if(_0x4a415a['initialize'+'d'])return;const _0x18ed82=ne();this['fire']('fbo:create',{'timestamp':_0x18ed82,'target':this}),_0x4a415a['init'](),this['targets']['add'](_0x4a415a),this['_renderTar'+'getCreatio'+'nTime']+=ne()-_0x18ed82;}['_isBrowser'+'Interface'](_0x38660a){return this['_isImageBr'+'owserInter'+'face'](_0x38660a)||this['_isImageCa'+'nvasInterf'+'ace'](_0x38660a)||this['_isImageVi'+'deoInterfa'+'ce'](_0x38660a);}['_isImageBr'+'owserInter'+'face'](_0x7852d5){return typeof ImageBitmap<'u'&&_0x7852d5 instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x7852d5 instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x45bd5e){return typeof HTMLCanvasElement<'u'&&_0x45bd5e instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x445678){return typeof HTMLVideoElement<'u'&&_0x445678 instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x3e9b5d,_0x598400){const _0x4be0dc=Math['min'](this['_maxPixelR'+'atio'],ye['browser']?window['devicePixe'+'lRatio']:-0x18d6*-0x1+-0x17f8+-0xdd),_0x51ee19=Math['floor'](_0x3e9b5d*_0x4be0dc),_0x29cc73=Math['floor'](_0x598400*_0x4be0dc);(_0x51ee19!==this['canvas']['width']||_0x29cc73!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x51ee19,_0x29cc73);}['setResolut'+'ion'](_0x21c16f,_0x2c18c6){this['canvas']['width']=_0x21c16f,this['canvas']['height']=_0x2c18c6,this['fire'](nc['EVENT_RESI'+'ZE'],_0x21c16f,_0x2c18c6);}['updateClie'+'ntRect'](){if(ye['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x49d3ab=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x49d3ab['width'],this['clientRect']['height']=_0x49d3ab['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x333050){v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(0xc94*0x1+-0x44*-0x43+-0x1e5f);}set['maxPixelRa'+'tio'](_0x1c645d){this['_maxPixelR'+'atio']=_0x1c645d;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x554b45){}['endRenderP'+'ass'](_0x301a7f){}['startCompu'+'tePass'](_0x195ffc){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=-0xc04*-0x2+-0xfb5+-0x1*0x853,this['renderVers'+'ion']++,v['call'](()=>{if(Xs['get'](tS)){const _0x2168b9=this['textures']['slice']();_0x2168b9['sort']((_0x50f637,_0x3f34f3)=>_0x3f34f3['gpuSize']-_0x50f637['gpuSize']),v['log']('Textures:\x20'+_0x2168b9['length']);let _0x58c7be=0x2128+-0x23d1+0x2a9*0x1;_0x2168b9['forEach']((_0x36c02c,_0x33ff6c)=>{const _0x1f8f66=_0x36c02c['gpuSize'];_0x58c7be+=_0x1f8f66,v['log'](_0x33ff6c+'.\x20'+_0x36c02c['name']+'\x20'+_0x36c02c['width']+'x'+_0x36c02c['height']+'\x20VRAM:\x20'+(_0x1f8f66/(-0x52f*0x1+0x1*-0x25d9+0x2f08)/(0x1b8e*-0x1+0x155*0xa+0x123c))['toFixed'](-0xfc+-0x1e5*0x11+0xb11*0x3)+'\x20MB');}),v['log']('Total:\x20'+(_0x58c7be/(-0x265*0xf+0x210a+0x6e1)/(0x1992+-0x639+-0x1*0xf59))['toFixed'](0x1701+-0xc2*0x2b+0x997)+'MB');}});}['frameEnd'](){}['computeDis'+'patch'](_0x348acc,_0x4fed2e='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x3d414c=[_a,Je,Ke],_0x5176b6=!(0x19f*0x13+-0xc8e*0x1+-0x123f),_0x263af4=0x1843+-0x16bf+-0x81*0x3){for(let _0x3b0ff5=0x1*-0x8df+0x5*0x62b+-0x15f8;_0x3b0ff5<_0x3d414c['length'];_0x3b0ff5++){const _0x4600d5=_0x3d414c[_0x3b0ff5];switch(_0x4600d5){case _a:{if(this['textureRG1'+'1B10Render'+'able'])return _0x4600d5;break;}case Je:if(this['textureHal'+'fFloatRend'+'erable'])return _0x4600d5;break;case Ke:if(this['isWebGPU']&&_0x263af4>-0x566*-0x7+-0x2*-0x4a9+-0x2f1b*0x1)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x5176b6||this['textureFlo'+'atFilterab'+'le']))return _0x4600d5;break;}}}};c(nc,'EVENT_RESI'+'ZE','resizecanv'+'as');let Fh=nc,Hv=0xc95*0x2+-0xbf2+-0xd38;class pt{constructor(_0x30cbde={}){c(this,'name'),c(this,'_device'),c(this,'_colorBuff'+'er'),c(this,'_colorBuff'+'ers'),c(this,'_depthBuff'+'er'),c(this,'_depth'),c(this,'_stencil'),c(this,'_samples'),c(this,'autoResolv'+'e'),c(this,'_face'),c(this,'_mipLevel'),c(this,'_mipmaps'),c(this,'flipY');var _0x189a6e,_0x21f7a0,_0x55333a,_0x1d3253,_0x44d0c6,_0x1ec5d5;v['assert'](!(_0x30cbde instanceof Fh),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=Hv++;const _0x433b75=((_0x189a6e=_0x30cbde['colorBuffe'+'r'])==null?void(0x1f71*0x1+0x270f+-0x4680):_0x189a6e['device'])??((_0x21f7a0=_0x30cbde['colorBuffe'+'rs'])==null?void(0xa*-0x129+-0x1103+-0x1c9d*-0x1):_0x21f7a0[0x32*-0x59+0x3be*-0x7+-0x2b94*-0x1]['device'])??((_0x55333a=_0x30cbde['depthBuffe'+'r'])==null?void(0xd8c+0xc00+0xda*-0x1e):_0x55333a['device'])??_0x30cbde['graphicsDe'+'vice'];v['assert'](_0x433b75,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x433b75;const {maxSamples:_0xe3058f}=this['_device'];if(this['_samples']=Math['min'](_0x30cbde['samples']??0x10bf+-0x105a+-0x64,_0xe3058f),_0x433b75['isWebGPU']&&(this['_samples']=this['_samples']>-0x3*0x887+-0x3*-0x314+0x105a?_0xe3058f:-0x1d*0x39+-0x19b7+0x202d),this['_colorBuff'+'er']=_0x30cbde['colorBuffe'+'r'],_0x30cbde['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x30cbde['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x30cbde['depthBuffe'+'r'],this['_face']=_0x30cbde['face']??-0x119*0x22+-0x15df+0x3b31,this['_depthBuff'+'er']){const _0x295ebe=this['_depthBuff'+'er']['_format'];_0x295ebe===Ci||_0x295ebe===la?(this['_depth']=!(0x142*0xa+0x11f3+0x3*-0xa2d),this['_stencil']=!(0x6*0x2a5+0x2ef+-0x12cc)):_0x295ebe===vc?(this['_depth']=!(0x1e38+-0x133*-0x1+-0x1f6b),this['_stencil']=!(-0xe*0x22+0x2337+-0x215b)):_0x295ebe===Ii&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>0x8f4+0x1f3*-0x9+-0x6e*-0x14?(this['_depth']=!(-0x1f05+0x2241+-0x33c),this['_stencil']=!(-0x1*-0x22cb+-0x7fe+0x3d4*-0x7)):(v['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(-0xb67+-0x1*0xf67+0x1acf),this['_stencil']=!(-0xe9*0x20+-0x3*0xb2a+0x3e9f));}else this['_depth']=_0x30cbde['depth']??!(-0x5*-0x496+-0x49f+0x6d*-0x2b),this['_stencil']=_0x30cbde['stencil']??!(-0x1*-0x1d21+0x429+0x1*-0x2149);_0x30cbde['colorBuffe'+'rs']&&(v['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x30cbde['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x30cbde['colorBuffe'+'rs'][0x24d2+-0x5*0x72+-0x2298])),this['autoResolv'+'e']=_0x30cbde['autoResolv'+'e']??!(0x41a+0x4c4*0x7+-0x2*0x12bb),this['name']=_0x30cbde['name'],this['name']||(this['name']=(_0x1d3253=this['_colorBuff'+'er'])==null?void(-0x1*0x1502+-0x154*0x18+0x34e2):_0x1d3253['name']),this['name']||(this['name']=(_0x44d0c6=this['_depthBuff'+'er'])==null?void(-0xaa2*-0x1+0x20e6+-0x15c4*0x2):_0x44d0c6['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x30cbde['flipY']??!(-0x15df+0x1590*-0x1+-0x50*-0x8b),this['_mipLevel']=_0x30cbde['mipLevel']??-0x851*0x1+0x1b6a+0x1*-0x1319,this['_mipLevel']>0x2dc+0x1885*0x1+-0x1b61&&this['_depth']&&(v['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x30cbde}),this['_mipLevel']=-0x1c21+0x56d+-0x5ad*-0x4),this['_mipmaps']=_0x30cbde['mipLevel']===void(0x16de+-0x19ce+0x10*0x2f),this['validateMr'+'t'](),this['impl']=_0x433b75['createRend'+'erTargetIm'+'pl'](this),v['trace'](Yp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x1ec5d5=this['_colorBuff'+'ers'])!=null&&_0x1ec5d5['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){v['trace'](Yp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x48cd34=this['_device'];_0x48cd34&&(_0x48cd34['targets']['delete'](this),_0x48cd34['renderTarg'+'et']===this&&_0x48cd34['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x5bee86=this['_device'];_0x5bee86&&this['impl']['destroy'](_0x5bee86);}['destroyTex'+'tureBuffer'+'s'](){var _0x65a0fd,_0x4fa3eb;(_0x65a0fd=this['_depthBuff'+'er'])==null||_0x65a0fd['destroy'](),this['_depthBuff'+'er']=null,(_0x4fa3eb=this['_colorBuff'+'ers'])==null||_0x4fa3eb['forEach'](_0x1dc433=>{_0x1dc433['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x43aece,_0x5a8c08){var _0x175b03,_0x45a008;if(this['width']!==_0x43aece||this['height']!==_0x5a8c08){if(this['mipLevel']>0x2e7+-0x797+-0x8*-0x96){v['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x545b1e=this['_device'];this['destroyFra'+'meBuffers'](),_0x545b1e['renderTarg'+'et']===this&&_0x545b1e['setRenderT'+'arget'](null),(_0x175b03=this['_depthBuff'+'er'])==null||_0x175b03['resize'](_0x43aece,_0x5a8c08),(_0x45a008=this['_colorBuff'+'ers'])==null||_0x45a008['forEach'](_0x5921b4=>{_0x5921b4['resize'](_0x43aece,_0x5a8c08);}),this['validateMr'+'t'](),this['impl']=_0x545b1e['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){v['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x596157,height:_0x50c421,cubemap:_0x4c7407,volume:_0x2db2e0}=this['_colorBuff'+'ers'][-0xb*0x133+0x2017+-0x12e6];for(let _0x184630=-0xa2a+-0x1*-0x6f3+-0x338*-0x1;_0x184630<this['_colorBuff'+'ers']['length'];_0x184630++){const _0x35227d=this['_colorBuff'+'ers'][_0x184630];v['assert'](_0x35227d['width']===_0x596157,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),v['assert'](_0x35227d['height']===_0x50c421,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),v['assert'](_0x35227d['cubemap']===_0x4c7407,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),v['assert'](_0x35227d['volume']===_0x2db2e0,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x2bcfd4=!(0x164e+0x8*0x85+0x1*-0x1a76),_0x163bc8=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>0x9bd+0x5*-0x27a+0x2a6&&(G['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x2bcfd4?'[color]':'')+':'+(_0x163bc8?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x2bcfd4,_0x163bc8),G['popGpuMark'+'er'](this['_device']));}['copy'](_0x455029,_0x51bec5,_0x56260e){if(!this['_device']){if(_0x455029['_device'])this['_device']=_0x455029['_device'];else return v['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(-0x1bb4+-0xe*-0xc7+0x10d3);}G['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x455029['name']+'->'+this['name']);const _0x3a0b81=this['_device']['copyRender'+'Target'](_0x455029,this,_0x51bec5,_0x56260e);return G['popGpuMark'+'er'](this['_device']),_0x3a0b81;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x465f1f){var _0x52c358;return(_0x52c358=this['_colorBuff'+'ers'])==null?void(-0x26f6+-0x1*-0x1132+0x15c4):_0x52c358[_0x465f1f];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x3d1ce0,_0x3ce271;let _0x43e0f8=((_0x3d1ce0=this['_colorBuff'+'er'])==null?void(-0x12c2+0x3*0x9c5+-0xa8d):_0x3d1ce0['width'])||((_0x3ce271=this['_depthBuff'+'er'])==null?void(-0x446+0x88+0x3be):_0x3ce271['width'])||this['_device']['width'];return this['_mipLevel']>0x13cb*0x1+0xe37+0x5ab*-0x6&&(_0x43e0f8=Mi['calcLevelD'+'imension'](_0x43e0f8,this['_mipLevel'])),_0x43e0f8;}get['height'](){var _0x1db94f,_0x5eaa46;let _0x112c74=((_0x1db94f=this['_colorBuff'+'er'])==null?void(-0x25f*-0xe+-0xf11*0x2+-0x310):_0x1db94f['height'])||((_0x5eaa46=this['_depthBuff'+'er'])==null?void(-0xbbd*-0x1+-0xd90+0x1d3*0x1):_0x5eaa46['height'])||this['_device']['height'];return this['_mipLevel']>-0x1bf2+-0x9da+0x2*0x12e6&&(_0x112c74=Mi['calcLevelD'+'imension'](_0x112c74,this['_mipLevel'])),_0x112c74;}['isColorBuf'+'ferSrgb'](_0x3c44c3=-0x3*-0xbdd+0x7c*-0x3e+0x1*-0x58f){if(this['device']['backBuffer']===this)return Mh(this['device']['backBuffer'+'Format']);const _0x251310=this['getColorBu'+'ffer'](_0x3c44c3);return _0x251310?Mh(_0x251310['format']):!(0x13af+0x1*0xbd6+0x4*-0x7e1);}}const Wv={'equals'(_0x5d7aa1,_0x524681){if(_0x5d7aa1['length']!==_0x524681['length'])return!(0x245f+-0x15bf*-0x1+-0x3a1d);for(let _0x557830=-0x840+0x412+0x2*0x217;_0x557830<_0x5d7aa1['length'];_0x557830++)if(_0x5d7aa1[_0x557830]!==_0x524681[_0x557830])return!(0x5*0x61+0x41*0x5c+-0x1940);return!(-0x427*0x7+0xd99+0xf78);}};class Gc{constructor(){c(this,'_refCount',-0x20e2+-0xf9a+0xd6*0x3a);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class $v extends Gc{constructor(_0x1902b5){super(),c(this,'object'),(this['object']=_0x1902b5,this['incRefCoun'+'t']());}}class qv{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x533fbb=>{var _0x4daac8;(_0x4daac8=_0x533fbb['object'])==null||_0x4daac8['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x4a3404){const _0x341072=this['cache']['get'](_0x4a3404);return _0x341072?(_0x341072['incRefCoun'+'t'](),_0x341072['object']):null;}['set'](_0x5debdf,_0x2f0838){v['assert'](!this['cache']['has'](_0x5debdf),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x5debdf,'object':_0x2f0838}),this['cache']['set'](_0x5debdf,new $v(_0x2f0838));}['release'](_0x542ffd){var _0x51e71f;const _0x5b61d4=this['cache']['get'](_0x542ffd);_0x5b61d4?(_0x5b61d4['decRefCoun'+'t'](),_0x5b61d4['refCount']===0x23ef+0x26e*-0x2+-0x25*0xd7&&(this['cache']['delete'](_0x542ffd),(_0x51e71f=_0x5b61d4['object'])==null||_0x51e71f['destroy']())):v['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x542ffd});}}class Xv extends qv{['loseContex'+'t'](_0x2bec98){this['clear']();}}const jv=new Ot(),od=_0xcc8161=>jv['get'](_0xcc8161,()=>new Xv()),ot=[];ot[$s]=0xbf0+0x219c+-0x2d8b,ot[or]=0x1*-0x644+0x1*0x1fde+-0x1998,ot[$t]=-0x7*-0x35+-0x19e+0x2e,ot[xa]=-0x125d+0xfe*0x7+0xb6f,ot[ln]=0x220d+-0x22c+-0x1fe0,ot[Zr]=-0x7ea*-0x2+0x1*-0x204d+0x1*0x107b,ot[Qr]=-0x549*0x1+0x952*0x2+-0xd58,ot[Jr]=-0x18f5+0x1e94+-0x5*0x11f,ot[ca]=0x93*-0x10+0x2*-0x1c8+0xcc1,ot[Lo]=-0x1c*-0x47+-0x1*-0x1b88+-0x11a5*0x2,ot[Fo]=-0xb05+-0x1*0x1543+0x204b,ot[Oo]=-0x1*0x16b4+0xbf2+0xac6,ot[Rh]=-0xc4e+-0x1349+0x1f9f,ot[ko]=-0x3dd*0x2+0x15af+-0xde9,ot[Sa]=0x2165+-0x1*0x13ec+-0xd69,ot[va]=0xc2e*-0x1+0x2*0x8e+0xb13,ot[ba]=-0x2*0xeed+-0x1782*0x1+-0x3*-0x11ca,ot[wa]=-0x14d3+0x1cc8+-0x7f2,ot[Ta]=-0x72*-0x29+-0x143f+-0x1*-0x201;class gt{constructor(_0x42ff5a,_0x43fbee,_0x163020=-0x2673+-0x1585+0x3bf8){c(this,'name'),c(this,'type'),c(this,'byteSize'),c(this,'offset'),c(this,'scopeId'),c(this,'count'),c(this,'numCompone'+'nts');if(this['shortName']=_0x42ff5a,this['name']=_0x163020?_0x42ff5a+'[0]':_0x42ff5a,this['type']=_0x43fbee,this['numCompone'+'nts']=ot[_0x43fbee],v['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x43fbee+'\x20used\x20for\x20'+_0x42ff5a),this['updateType']=_0x43fbee,_0x163020>0x2052+0x491*0x6+0x18*-0x27d)switch(_0x43fbee){case $s:this['updateType']=Dc;break;case ln:this['updateType']=Aa;break;case va:this['updateType']=Oc;break;case ca:this['updateType']=kc;break;case or:this['updateType']=Lc;break;case Zr:this['updateType']=Ea;break;case ba:this['updateType']=Bc;break;case Lo:this['updateType']=Nc;break;case $t:this['updateType']=Fc;break;case Qr:this['updateType']=Ca;break;case wa:this['updateType']=zc;break;case Fo:this['updateType']=Uc;break;case xa:this['updateType']=lp;break;case Jr:this['updateType']=Ih;break;case Ta:this['updateType']=hp;break;case Oo:this['updateType']=cp;break;case Sa:this['updateType']=Ny;break;default:v['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+dp[_0x43fbee]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x42ff5a+'\x27.'),v['call'](()=>{this['invalid']=!(-0x9*-0x15b+-0x1bcd+0xf9a);});break;}this['count']=_0x163020,v['assert'](!isNaN(_0x163020),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x42ff5a+'['+_0x163020+']'),v['call'](()=>{isNaN(_0x163020)&&(this['invalid']=!(-0x15b1+-0x1ed+0x179e));});let _0x3a4378=this['numCompone'+'nts'];_0x163020&&(_0x3a4378=N['roundUp'](_0x3a4378,0x13b2+0x375+-0x1723*0x1)),this['byteSize']=_0x3a4378*(-0x1*0x100b+-0x4*-0x21d+0x79b),_0x163020&&(this['byteSize']*=_0x163020),v['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x43fbee+'\x20used\x20for\x20'+_0x42ff5a);}get['isArrayTyp'+'e'](){return this['count']>0x1544+0x22c8+0xd3*-0x44;}['calculateO'+'ffset'](_0x5bcdd4){let _0x47047b=this['byteSize']<=0x5*0x6f1+0x1*-0x4+0x1d3*-0x13?this['byteSize']:-0x80b*-0x1+0x7b9+-0x14*0xc9;this['count']&&(_0x47047b=0x8e*-0x1+-0x1f1*0x7+0xe35),_0x5bcdd4=N['roundUp'](_0x5bcdd4,_0x47047b),this['offset']=_0x5bcdd4/(-0x1*0x185c+0x2cd*-0x2+-0x6*-0x4ff);}}class Qy{constructor(_0x22d56d,_0x49ab5b){c(this,'byteSize',-0xc07*0x1+0x217e+-0x5*0x44b),c(this,'map',new Map()),(this['scope']=_0x22d56d['scope'],this['uniforms']=_0x49ab5b);let _0x59948d=-0x215d+-0x11*0x93+0x2b20;for(let _0x1455e5=0xe93+0x37e*0xb+-0x34fd;_0x1455e5<_0x49ab5b['length'];_0x1455e5++){const _0x327530=_0x49ab5b[_0x1455e5];_0x327530['calculateO'+'ffset'](_0x59948d),_0x59948d=_0x327530['offset']*(0x1*-0x15b5+0x778+0xe41)+_0x327530['byteSize'],_0x327530['scopeId']=this['scope']['resolve'](_0x327530['name']),this['map']['set'](_0x327530['name'],_0x327530);}this['byteSize']=N['roundUp'](_0x59948d,0x1*0x10f9+0xa*-0x1f7+0x2bd);}['get'](_0x15710f){return this['map']['get'](_0x15710f);}['getShaderD'+'eclaration'](_0x4b0c92,_0x235bef){const _0x1a19df=xv[_0x4b0c92];let _0x2f6473='layout(set'+'\x20=\x20'+_0x4b0c92+(',\x20binding\x20'+'=\x20')+_0x235bef+(',\x20std140)\x20'+'uniform\x20ub'+'_')+_0x1a19df+'\x20{\x0a';return this['uniforms']['forEach'](_0x23c6e8=>{const _0x262af5=dp[_0x23c6e8['type']];v['assert'](_0x262af5['length']>-0x2517+0x74+0x24a3,'Uniform\x20ty'+'pe\x20'+_0x23c6e8['type']+('\x20is\x20not\x20ha'+'ndled.')),_0x2f6473+='\x20\x20\x20\x20'+_0x262af5+'\x20'+_0x23c6e8['shortName']+(_0x23c6e8['count']?'['+_0x23c6e8['count']+']':'')+';\x0a';}),_0x2f6473+'};\x0a';}}const gr='Preprocess'+'or',fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,ld=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,Am=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,hd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,cd=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,dd=/(endif|else|elif)([ \t][^\r\n]+)?\r?(?:\n|$)/g,Em=/([\w-]+)/,Yv=/(!|\s)?defined\(([\w-]+)\)/,Kv=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,Zv=/[|&+-]/g,ud=/include[ \t]+"([\w-]+)"\r?(?:\n|$)/g,vs=class vs{static['run'](_0x20589d,_0x13ad0d=new Map(),_0x2a06ae={}){vs['sourceName']=_0x2a06ae['sourceName'],_0x20589d=this['stripComme'+'nts'](_0x20589d),_0x20589d=_0x20589d['split'](/\r?\n/)['map'](_0x57d92c=>_0x57d92c['trimEnd']())['join']('\x0a');const _0x19624b=new Map();if(_0x2a06ae['stripUnuse'+'dColorAtta'+'chments']){const _0x6da308=new Map(),_0x5049a1=/(pcFragColor[1-8])\b/g,_0x376925=_0x20589d['match'](_0x5049a1);_0x376925==null||_0x376925['forEach'](_0x526bce=>{const _0x521143=parseInt(_0x526bce['charAt'](_0x526bce['length']-(0x1e3+-0x1b61*-0x1+-0x1d43)),-0x4*0x985+0x1f58*-0x1+-0x416*-0x11);_0x6da308['set'](_0x521143,(_0x6da308['get'](_0x521143)??-0x1fcf+0x217a+-0x1ab)+(0x1ba3*-0x1+-0x1d49+0x38ed));}),_0x6da308['forEach']((_0x329a08,_0x260e9f)=>{_0x329a08===-0x4a*0x2e+-0x26ad+0x33fa&&_0x19624b['set']('REMOVE_COL'+'OR_ATTACHM'+'ENT_'+_0x260e9f,'');});}_0x20589d=this['_preproces'+'s'](_0x20589d,_0x19624b,_0x13ad0d,_0x2a06ae['stripDefin'+'es']);const _0x10ff39=new Map();_0x19624b['forEach']((_0x594d0c,_0x2d6532)=>{Number['isInteger'](parseFloat(_0x594d0c))&&!_0x594d0c['includes']('.')&&_0x10ff39['set'](_0x2d6532,_0x594d0c);});const _0x4771ac=new Map();return _0x19624b['forEach']((_0x57fa1d,_0x31562b)=>{_0x31562b['startsWith']('__INJECT_')&&_0x4771ac['set'](_0x31562b,_0x57fa1d);}),_0x20589d=this['stripComme'+'nts'](_0x20589d),_0x20589d=this['RemoveEmpt'+'yLines'](_0x20589d),_0x20589d=this['processArr'+'aySize'](_0x20589d,_0x10ff39),_0x20589d=this['injectDefi'+'nes'](_0x20589d,_0x4771ac),_0x20589d;}static['stripComme'+'nts'](_0x26468d){return _0x26468d['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x50ae6d,_0x5a1579){return _0x50ae6d!==null&&_0x5a1579['forEach']((_0xbdb78d,_0x2a7c29)=>{_0x50ae6d=_0x50ae6d['replace'](new RegExp('\x5c['+_0x2a7c29+'\x5c]','g'),'['+_0xbdb78d+']');}),_0x50ae6d;}static['injectDefi'+'nes'](_0x36d821,_0x211c1f){if(_0x36d821!==null&&_0x211c1f['size']>-0xc4d+0x1bb*-0x1+0xe08){const _0x21b268=_0x36d821['split']('\x0a');_0x211c1f['forEach']((_0x522401,_0x31cb53)=>{const _0x24bfc1=new RegExp('\x5cb'+_0x31cb53+'\x5cb','g');for(let _0x3ff184=-0xb3*0x2b+-0x1*0x2043+-0x3e54*-0x1;_0x3ff184<_0x21b268['length'];_0x3ff184++)_0x21b268[_0x3ff184]['includes']('#')||(_0x21b268[_0x3ff184]=_0x21b268[_0x3ff184]['replace'](_0x24bfc1,_0x522401));}),_0x36d821=_0x21b268['join']('\x0a');}return _0x36d821;}static['RemoveEmpt'+'yLines'](_0x533a92){return _0x533a92!==null&&(_0x533a92=_0x533a92['split'](/\r?\n/)['map'](_0xcc3326=>_0xcc3326['trim']()===''?'':_0xcc3326)['join']('\x0a'),_0x533a92=_0x533a92['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x533a92;}static['_preproces'+'s'](_0x348a76,_0x3a9d92=new Map(),_0x44f327,_0x28462a){const _0x46b0be=_0x348a76,_0x25fe53=[];let _0x3fc97d=!(-0x1321*-0x1+-0x51*-0x44+-0x28a4),_0xd8244f;for(;(_0xd8244f=fs['exec'](_0x348a76))!==null;){const _0x2bd269=_0xd8244f[-0x24ab+0x1024+-0x2*-0xa44];switch(_0x2bd269){case'define':{ld['lastIndex']=_0xd8244f['index'];const _0x16caa8=ld['exec'](_0x348a76);v['assert'](_0x16caa8,'Invalid\x20['+_0x2bd269+']:\x20'+_0x348a76['substring'](_0xd8244f['index'],_0xd8244f['index']+(-0x4a*0x21+-0x2003+0x29f1))+'...'),_0x3fc97d||(_0x3fc97d=_0x16caa8===null);const _0x189103=_0x16caa8[-0x8a1+0x1*-0xefe+-0x60*-0x3f];Em['lastIndex']=_0x16caa8['index'];const _0x260063=Em['exec'](_0x189103)[0x2d*-0x93+0x1f1f+-0x547];let _0x1ef57d=_0x189103['substring'](_0x260063['length'])['trim']();_0x1ef57d===''&&(_0x1ef57d='true');const _0x281472=vs['_keep'](_0x25fe53);_0x281472&&(_0x3a9d92['set'](_0x260063,_0x1ef57d),_0x28462a&&(_0x348a76=_0x348a76['substring'](-0x1*0x185f+0xb1a*-0x2+0x2e93*0x1,_0x16caa8['index']-(0x129f+-0x1*0x1aff+0x21*0x41))+_0x348a76['substring'](ld['lastIndex']),fs['lastIndex']=_0x16caa8['index']-(-0x221e+0xc43+0x15dc))),v['trace'](gr,_0x2bd269+':\x20['+_0x260063+']\x20'+_0x1ef57d+'\x20'+(_0x281472?'':'IGNORED')),_0x28462a||(fs['lastIndex']=_0x16caa8['index']+_0x16caa8[0x2489*-0x1+0x1d7*-0x4+-0x11*-0x295]['length']);break;}case'undef':{hd['lastIndex']=_0xd8244f['index'];const _0x135e0c=hd['exec'](_0x348a76),_0x241d93=_0x135e0c[0x238+-0x1239+-0x801*-0x2]['trim'](),_0x4cb506=vs['_keep'](_0x25fe53);_0x4cb506&&(_0x3a9d92['delete'](_0x241d93),_0x28462a&&(_0x348a76=_0x348a76['substring'](0x4f0*0x2+-0x17c8+0xde8,_0x135e0c['index']-(0x16d3*0x1+-0x826+-0xeac))+_0x348a76['substring'](hd['lastIndex']),fs['lastIndex']=_0x135e0c['index']-(-0x8a8*-0x2+0x23bd+-0x184*0x23))),v['trace'](gr,_0x2bd269+':\x20['+_0x241d93+']\x20'+(_0x4cb506?'':'IGNORED')),_0x28462a||(fs['lastIndex']=_0x135e0c['index']+_0x135e0c[0x1066+0x1954+0x7*-0x5f6]['length']);break;}case'extension':{Am['lastIndex']=_0xd8244f['index'];const _0x1ee04c=Am['exec'](_0x348a76);if(v['assert'](_0x1ee04c,'Invalid\x20['+_0x2bd269+']:\x20'+_0x348a76['substring'](_0xd8244f['index'],_0xd8244f['index']+(-0x167*0x17+0xcd*0x7+0x1b0a))+'...'),_0x3fc97d||(_0x3fc97d=_0x1ee04c===null),_0x1ee04c){const _0xbbc3d6=_0x1ee04c[-0x4*0xd3+-0x1d62*0x1+0x20af],_0x4fefb=vs['_keep'](_0x25fe53);_0x4fefb&&_0x3a9d92['set'](_0xbbc3d6,'true'),v['trace'](gr,_0x2bd269+':\x20['+_0xbbc3d6+']\x20'+(_0x4fefb?'':'IGNORED'));}fs['lastIndex']=_0x1ee04c['index']+_0x1ee04c[-0x1deb+0x1c9e+0x14d]['length'];break;}case'ifdef':case'ifndef':case'if':{cd['lastIndex']=_0xd8244f['index'];const _0x3e6968=cd['exec'](_0x348a76),_0x559b91=_0x3e6968[-0xbad+0x435+0x77a],_0x952b3c=vs['evaluate'](_0x559b91,_0x3a9d92);_0x3fc97d||(_0x3fc97d=_0x952b3c['error']);let _0x12846c=_0x952b3c['result'];_0x2bd269==='ifndef'&&(_0x12846c=!_0x12846c),_0x25fe53['push']({'anyKeep':_0x12846c,'keep':_0x12846c,'start':_0xd8244f['index'],'end':cd['lastIndex']}),v['trace'](gr,_0x2bd269+':\x20['+_0x559b91+']\x20=>\x20'+_0x12846c),fs['lastIndex']=_0x3e6968['index']+_0x3e6968[-0x1b1*-0xb+0xc2*-0x30+0x11c5*0x1]['length'];break;}case'endif':case'else':case'elif':{dd['lastIndex']=_0xd8244f['index'];const _0x2021a9=dd['exec'](_0x348a76),_0x2a0dda=_0x25fe53['pop'](),_0x8fd980=_0x2a0dda['keep']?_0x348a76['substring'](_0x2a0dda['end'],_0xd8244f['index']):'';v['trace'](gr,_0x2bd269+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x8fd980!=='')),_0x348a76=_0x348a76['substring'](-0x48*-0x76+-0xc7+-0x2069,_0x2a0dda['start'])+_0x8fd980+_0x348a76['substring'](dd['lastIndex']),fs['lastIndex']=_0x2a0dda['start']+_0x8fd980['length'];const _0x46fe36=_0x2021a9[0x88d+0x2422+-0x12d*0x26];if(_0x46fe36==='else'||_0x46fe36==='elif'){let _0x5dd5d1=!(0x1cb4+0xb*-0x1af+-0xa2e);if(!_0x2a0dda['anyKeep']){if(_0x46fe36==='else')_0x5dd5d1=!_0x2a0dda['keep'];else{const _0x405f87=vs['evaluate'](_0x2021a9[-0x19e2+0x1512+-0x1*-0x4d2],_0x3a9d92);_0x5dd5d1=_0x405f87['result'],_0x3fc97d||(_0x3fc97d=_0x405f87['error']);}}_0x25fe53['push']({'anyKeep':_0x2a0dda['anyKeep']||_0x5dd5d1,'keep':_0x5dd5d1,'start':fs['lastIndex'],'end':fs['lastIndex']}),v['trace'](gr,_0x2bd269+':\x20['+_0x2021a9[0x83f*0x1+0x2*0x7+-0xc1*0xb]+']\x20=>\x20'+_0x5dd5d1);}break;}case'include':{ud['lastIndex']=_0xd8244f['index'];const _0x4be233=ud['exec'](_0x348a76);_0x3fc97d||(_0x3fc97d=_0x4be233===null),v['assert'](_0x4be233,'Invalid\x20['+_0x2bd269+']:\x20'+_0x348a76['substring'](_0xd8244f['index'],_0xd8244f['index']+(0x21ea+-0x1874+-0x912))+'...');const _0x1ffc48=_0x4be233[-0x2*-0x676+0x5*-0x31a+0x297]['trim'](),_0x5394fd=vs['_keep'](_0x25fe53);if(_0x5394fd){const _0x5ecd34=_0x44f327==null?void(0xa29*-0x2+-0x511+0x1963):_0x44f327['get'](_0x1ffc48);_0x5ecd34!==void(-0x4a1+0xb9e+-0x6fd)?(_0x348a76=_0x348a76['substring'](-0x1e16+0xb93*-0x2+0x353c,_0x4be233['index']-(0x2167+0x2*-0x26e+-0x1c8a))+_0x5ecd34+_0x348a76['substring'](ud['lastIndex']),fs['lastIndex']=_0x4be233['index']-(-0x1420+0x4*0x565+-0x173)):(console['error']('Include\x20\x22'+_0x1ffc48+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+vs['sourceName'],{'source':_0x46b0be}),_0x3fc97d=!(0x1*-0x1de4+0x12f2+-0x6*-0x1d3));}v['trace'](gr,_0x2bd269+':\x20['+_0x1ffc48+']\x20'+(_0x5394fd?'':'IGNORED'));break;}}}return _0x3fc97d?(console['warn']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x46b0be}),_0x46b0be):_0x348a76;}static['_keep'](_0x4eec6d){for(let _0x44806f=-0x7c8+0x2595+-0x1dcd*0x1;_0x44806f<_0x4eec6d['length'];_0x44806f++)if(!_0x4eec6d[_0x44806f]['keep'])return!(-0x3*-0x8f5+0x6fe+-0x21dc);return!(0x4ef+0x1*-0xeb2+0x15*0x77);}static['evaluate'](_0x306e8d,_0x3dc2e6){const _0x22056a=Zv['exec'](_0x306e8d)===null;v['assert'](_0x22056a,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x306e8d);let _0x5e09d7=!(-0x2bd*0x6+0xaf2+0x5*0x119);const _0x24c964=Yv['exec'](_0x306e8d);_0x24c964&&(_0x5e09d7=_0x24c964[-0x12ce*-0x1+0xb*0x199+0xc20*-0x3]==='!',_0x306e8d=_0x24c964[-0x18ea+-0xa9f*0x3+-0x1*-0x38c9]);const _0x4f64c0=Kv['exec'](_0x306e8d);if(_0x4f64c0){const _0x570b13=_0x3dc2e6['get'](_0x4f64c0[-0x1*0x2a9+-0xae9+-0x8b*-0x19])??_0x4f64c0[0x18f3+-0xfad+0x945*-0x1],_0x4ce61a=_0x3dc2e6['get'](_0x4f64c0[-0x1594+0x1f1*-0x9+0x2710])??_0x4f64c0[-0xcc7+-0xa69*-0x2+-0x808],_0x2db1fa=_0x4f64c0[0x1e86+-0x16b8+0x3e6*-0x2];let _0x31e55a=!(-0x1494+-0xbe1*0x2+0x2c57);switch(_0x2db1fa){case'==':_0x31e55a=_0x570b13===_0x4ce61a;break;case'!=':_0x31e55a=_0x570b13!==_0x4ce61a;break;case'<':_0x31e55a=_0x570b13<_0x4ce61a;break;case'<=':_0x31e55a=_0x570b13<=_0x4ce61a;break;case'>':_0x31e55a=_0x570b13>_0x4ce61a;break;case'>=':_0x31e55a=_0x570b13>=_0x4ce61a;break;}return{'result':_0x31e55a,'error':!_0x22056a};}_0x306e8d=_0x306e8d['trim']();let _0x1d8114=_0x3dc2e6['has'](_0x306e8d);return _0x5e09d7&&(_0x1d8114=!_0x1d8114),{'result':_0x1d8114,'error':!_0x22056a};}};c(vs,'sourceName');let Oh=vs;const Jy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pc_fragC'+'olor;\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_1'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_1\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_2\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'2\x0alayout(l'+'ocation\x20=\x20'+'2)\x20out\x20hig'+'hp\x20outType'+'_2\x20pc_frag'+'Color2;\x0a#e'+'ndif\x0a#endi'+'f\x0a\x0a#ifndef'+'\x20REMOVE_CO'+'LOR_ATTACH'+'MENT_3\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_3\x0a'+'layout(loc'+'ation\x20=\x203)'+'\x20out\x20highp'+'\x20outType_3'+'\x20pc_fragCo'+'lor3;\x0a#end'+'if\x0a#endif\x0a'+'\x0a#ifndef\x20R'+'EMOVE_COLO'+'R_ATTACHME'+'NT_4\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'c_fragColo'+'r4;\x0a#endif'+'\x0a#endif\x0a\x0a#'+'ifndef\x20REM'+'OVE_COLOR_'+'ATTACHMENT'+'_5\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_5\x0alayo'+'ut(locatio'+'n\x20=\x205)\x20out'+'\x20highp\x20out'+'Type_5\x20pc_'+'fragColor5'+';\x0a#endif\x0a#'+'endif\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_6'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_6\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_7\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'7\x0alayout(l'+'ocation\x20=\x20'+'7)\x20out\x20hig'+'hp\x20outType'+'_7\x20pc_frag'+'Color7;\x0a#e'+'ndif\x0a#endi'+('f\x0a\x0a#define'+'\x20gl_FragCo'+'lor\x20pc_fra'+'gColor\x0a\x0a#d'+'efine\x20pcFr'+'agColor0\x20p'+'c_fragColo'+'r\x0a#define\x20'+'pcFragColo'+'r1\x20pc_frag'+'Color1\x0a#de'+'fine\x20pcFra'+'gColor2\x20pc'+'_fragColor'+'2\x0a#define\x20'+'pcFragColo'+'r3\x20pc_frag'+'Color3\x0a#de'+'fine\x20pcFra'+'gColor4\x20pc'+'_fragColor'+'4\x0a#define\x20'+'pcFragColo'+'r5\x20pc_frag'+'Color5\x0a#de'+'fine\x20pcFra'+'gColor6\x20pc'+'_fragColor'+'6\x0a#define\x20'+'pcFragColo'+'r7\x20pc_frag'+'Color7\x0a\x0a#d'+'efine\x20vary'+'ing\x20in\x0a\x0a#d'+'efine\x20text'+'ure2D\x20text'+'ure\x0a#defin'+'e\x20texture2'+'DBias\x20text'+'ure\x0a#defin'+'e\x20textureC'+'ube\x20textur'+'e\x0a#define\x20'+'texture2DP'+'roj\x20textur'+'eProj\x0a#def'+'ine\x20textur'+'e2DLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+'ure2DProjL'+'od\x20texture'+'ProjLod\x0a#d'+'efine\x20text'+'ureCubeLod'+'\x20textureLo'+'d\x0a#define\x20'+'texture2DG'+'rad\x20textur'+'eGrad\x0a#def'+'ine\x20textur'+'e2DProjGra'+'d\x20textureP'+'rojGrad\x0a#d'+'efine\x20text'+'ureCubeGra'+'d\x20textureG'+'rad\x0a#defin'+'e\x20utexture'+'2D\x20texture'+'\x0a#define\x20i'+'texture2D\x20'+'texture\x0a\x0a/'+'/\x20deprecat'+'ed\x20defines'+'\x0a#define\x20t'+'exture2DLo'+'dEXT\x20textu'+'re2DLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xture2DLod'+'_instead\x0a#'+'define\x20tex'+'ture2DProj'+'LodEXT\x20tex'+'ture2DProj'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjLod'+'\x0a#define\x20t'+'extureCube'+'LodEXT\x20tex'+'tureCubeLo'+'dEXT_is_no'+'_longer_su'+'pported_us')+('e_textureC'+'ubeLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DGradEXT\x20'+'texture2DG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DGrad_in'+'stead\x0a#def'+'ine\x20textur'+'e2DProjGra'+'dEXT\x20textu'+'re2DProjGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'2DProjGrad'+'_instead\x0a#'+'define\x20tex'+'tureCubeGr'+'adEXT\x20text'+'ureCubeGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_textureC'+'ubeGrad_in'+'stead\x0a\x0a//\x20'+'sample\x20sha'+'dows\x20using'+'\x20textureGr'+'ad\x20to\x20remo'+'ve\x20derivat'+'ives\x20in\x20th'+'e\x20dynamic\x20'+'loops\x20(whi'+'ch\x20are\x20use'+'d\x20by\x0a//\x20cl'+'ustered\x20li'+'ghting)\x20-\x20'+'as\x20DirectX'+'\x20shader\x20co'+'mpiler\x20tri'+'es\x20to\x20unro'+'ll\x20the\x20loo'+'ps\x20and\x20tak'+'es\x20long\x20ti'+'me\x0a//\x20to\x20c'+'ompile\x20the'+'\x20shader.\x20U'+'sing\x20textu'+'reLod\x20woul'+'d\x20be\x20even\x20'+'better,\x20bu'+'t\x20WebGl\x20do'+'es\x20not\x20tra'+'nslate\x20it\x20'+'to\x0a//\x20lod\x20'+'instructio'+'n\x20for\x20Dire'+'ctX\x20correc'+'tly\x20and\x20us'+'es\x20SampleC'+'mp\x20instead'+'\x20of\x20Sample'+'CmpLevelZe'+'ro\x20or\x20simi'+'lar.\x0a#defi'+'ne\x20texture'+'Shadow(res'+',\x20uv)\x20text'+'ureGrad(re'+'s,\x20uv,\x20vec'+'2(1,\x201),\x20v'+'ec2(1,\x201))'+'\x0a\x0a//\x20pass\x20'+'/\x20accept\x20s'+'hadow\x20map\x20'+'or\x20texture'+'\x20as\x20a\x20func'+'tion\x20param'+'eter,\x20on\x20w'+'ebgl\x20this\x20'+'is\x20simply\x20'+'passed\x20as\x20'+'is\x0a//\x20but\x20'+'this\x20is\x20ne'+'eded\x20for\x20W'+'ebGPU\x0a#def'+'ine\x20SHADOW'+'MAP_PASS(n'+'ame)\x20name\x0a'+'#define\x20SH'+'ADOWMAP_AC'+'CEPT(name)'+'\x20sampler2D')+('Shadow\x20nam'+'e\x0a#define\x20'+'TEXTURE_PA'+'SS(name)\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20sampler'+'2D\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'_HIGHP(nam'+'e)\x20highp\x20s'+'ampler2D\x20n'+'ame\x0a\x0a#defi'+'ne\x20GL2\x0a'),e0='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',t0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pc_fragCol'+'or;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'layout(loc'+'ation\x20=\x202)'+'\x20out\x20highp'+'\x20outType_2'+'\x20pc_fragCo'+'lor2;\x0alayo'+'ut(locatio'+'n\x20=\x203)\x20out'+'\x20highp\x20out'+'Type_3\x20pc_'+'fragColor3'+';\x0alayout(l'+'ocation\x20=\x20'+'4)\x20out\x20hig'+'hp\x20outType'+'_4\x20pc_frag'+'Color4;\x0ala'+'yout(locat'+'ion\x20=\x205)\x20o'+'ut\x20highp\x20o'+'utType_5\x20p'+'c_fragColo'+'r5;\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'layout(loc'+'ation\x20=\x207)'+'\x20out\x20highp'+'\x20outType_7'+'\x20pc_fragCo'+'lor7;\x0a\x0a#de'+'fine\x20gl_Fr'+'agColor\x20pc'+'_fragColor'+'\x0a\x0a#define\x20'+'pcFragColo'+'r0\x20pc_frag'+'Color\x0a#def'+('ine\x20pcFrag'+'Color1\x20pc_'+'fragColor1'+'\x0a#define\x20p'+'cFragColor'+'2\x20pc_fragC'+'olor2\x0a#def'+'ine\x20pcFrag'+'Color3\x20pc_'+'fragColor3'+'\x0a#define\x20p'+'cFragColor'+'4\x20pc_fragC'+'olor4\x0a#def'+'ine\x20pcFrag'+'Color5\x20pc_'+'fragColor5'+'\x0a#define\x20p'+'cFragColor'+'6\x20pc_fragC'+'olor6\x0a#def'+'ine\x20pcFrag'+'Color7\x20pc_'+'fragColor7'+'\x0a\x0a#define\x20'+'texture2D('+'res,\x20uv)\x20t'+'exture(sam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a#defin'+'e\x20texture2'+'DBias(res,'+'\x20uv,\x20bias)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20bias'+')\x0a#define\x20'+'texture2DL'+'od(res,\x20uv'+',\x20lod)\x20tex'+'tureLod(sa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv,\x20lod)\x0a'+'#define\x20te'+'xtureCube('+'res,\x20uv)\x20t'+'exture(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20textur'+'eCubeLod(r'+'es,\x20uv,\x20lo'+'d)\x20texture'+'Lod(sample'+'rCube(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x20lod)\x0a#d'+'efine\x20text'+'ureShadow('+'res,\x20uv)\x20t'+'extureLod('+'sampler2DS'+'hadow(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x200.0)\x0a#d'+'efine\x20itex'+'ture2D(res'+',\x20uv)\x20text'+'ure(isampl'+'er2D(res,\x20'+'res\x20##\x20_sa'+'mpler),\x20uv'+')\x0a#define\x20'+'utexture2D'+'(res,\x20uv)\x20'+'texture(us'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a\x0a//\x20'+'deprecated'+'\x20defines\x0a#'+'define\x20tex'+'ture2DLodE'+'XT\x20texture'+'2DLodEXT_i'+'s_no_longe'+'r_supporte'+'d_use_text'+'ure2DLod_i')+('nstead\x0a#de'+'fine\x20textu'+'re2DProjLo'+'dEXT\x20textu'+'re2DProjLo'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DProjLod\x0a#'+'define\x20tex'+'tureCubeLo'+'dEXT\x20textu'+'reCubeLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eLod_inste'+'ad\x0a#define'+'\x20texture2D'+'GradEXT\x20te'+'xture2DGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DGrad_inst'+'ead\x0a#defin'+'e\x20texture2'+'DProjGradE'+'XT\x20texture'+'2DProjGrad'+'EXT_is_no_'+'longer_sup'+'ported_use'+'_texture2D'+'ProjGrad_i'+'nstead\x0a#de'+'fine\x20textu'+'reCubeGrad'+'EXT\x20textur'+'eCubeGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eGrad_inst'+'ead\x0a\x0a//\x20TO'+'DO:\x20implem'+'ent\x20other\x20'+'texture\x20sa'+'mpling\x20mac'+'ros\x0a//\x20#de'+'fine\x20textu'+'re2DProj\x20t'+'extureProj'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a//\x20#de'+'fine\x20textu'+'re2DGrad\x20t'+'extureGrad'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjGrad\x20'+'texturePro'+'jGrad\x0a//\x20#'+'define\x20tex'+'tureCubeGr'+'ad\x20texture'+'Grad\x0a\x0a//\x20p'+'ass\x20/\x20acce'+'pt\x20shadow\x20'+'map\x20as\x20a\x20f'+'unction\x20pa'+'rameter,\x20p'+'asses\x20both'+'\x20the\x20textu'+'re\x20as\x20well'+'\x20as\x20sample'+'r\x0a//\x20as\x20th'+'e\x20combined'+'\x20sampler\x20c'+'an\x20be\x20only'+'\x20created\x20a'+'t\x20a\x20point\x20'+'of\x20use\x0a#de'+'fine\x20SHADO'+'WMAP_PASS('+'name)\x20name'+',\x20name\x20##\x20'+'_sampler\x0a#'+'define\x20SHA'+'DOWMAP_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp')+('ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_PAS'+'S(name)\x20na'+'me,\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp'+'ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT_HIGHP\x20'+'TEXTURE_AC'+'CEPT\x0a\x0a#def'+'ine\x20GL2\x0a#d'+'efine\x20WEBG'+'PU\x0a'),s0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',Cm='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',Qv={'vertex_position':He,'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_texCoord2':jo,'vertex_texCoord3':Yo,'vertex_texCoord4':Ko,'vertex_texCoord5':Zo,'vertex_texCoord6':Qo,'vertex_texCoord7':Jo,'vertex_color':At,'vertex_boneIndices':qt,'vertex_boneWeights':Ys};class Mt{static['createDefi'+'nition'](_0x3ecd15,_0xfa6537){v['assert'](_0xfa6537),v['assert'](!_0xfa6537['vertexDefi'+'nes']||_0xfa6537['vertexDefi'+'nes']instanceof Map),v['assert'](!_0xfa6537['vertexIncl'+'udes']||_0xfa6537['vertexIncl'+'udes']instanceof Map),v['assert'](!_0xfa6537['fragmentDe'+'fines']||_0xfa6537['fragmentDe'+'fines']instanceof Map),v['assert'](!_0xfa6537['fragmentIn'+'cludes']||_0xfa6537['fragmentIn'+'cludes']instanceof Map);const _0x341dc6=(_0x2b4c42,_0x2352d2,_0x57d3f8,_0x3c4bbd)=>{const _0x2110a3=_0x3ecd15['isWebGPU']?_0x2b4c42:_0x2352d2;let _0x259548='';if(!_0x57d3f8){let _0x3087cb=_0x3c4bbd['fragmentOu'+'tputTypes']??'vec4';Array['isArray'](_0x3087cb)||(_0x3087cb=[_0x3087cb]);for(let _0x3f6feb=-0x2446+-0x2ba+0x2700;_0x3f6feb<_0x3ecd15['maxColorAt'+'tachments'];_0x3f6feb++){_0x259548+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x3f6feb+'\x0a';const _0x38c109=_0x3087cb[_0x3f6feb]??'vec4';_0x259548+='#define\x20ou'+'tType_'+_0x3f6feb+'\x20'+_0x38c109+'\x0a';}}return _0x259548+_0x2110a3;},_0x5083c2=_0xfa6537['name']??'Untitled';let _0x54dfff,_0x26da09;return _0xfa6537['shaderLang'+'uage']===Ph?(_0x54dfff=_0xfa6537['vertexCode'],_0x26da09=_0xfa6537['fragmentCo'+'de']):(_0x54dfff=Mt['versionCod'+'e'](_0x3ecd15)+_0x341dc6(s0,e0,!(-0x53*0x5b+0x2338+-0x5b7),_0xfa6537)+Mt['getDefines'+'Code'](_0xfa6537['vertexDefi'+'nes'])+Mt['precisionC'+'ode'](_0x3ecd15)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x5083c2)+_0xfa6537['vertexCode'],_0x26da09=(_0xfa6537['fragmentPr'+'eamble']||'')+Mt['versionCod'+'e'](_0x3ecd15)+_0x341dc6(t0,Jy,!(-0x20aa+0x68*0x1e+-0x147b*-0x1),_0xfa6537)+Mt['getDefines'+'Code'](_0xfa6537['fragmentDe'+'fines'])+Mt['precisionC'+'ode'](_0x3ecd15)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x5083c2)+(_0xfa6537['fragmentCo'+'de']||Mt['dummyFragm'+'entCode']())),{'name':_0x5083c2,'shaderLanguage':_0xfa6537['shaderLang'+'uage']??ky,'attributes':_0xfa6537['attributes'],'vshader':_0x54dfff,'vincludes':_0xfa6537['vertexIncl'+'udes'],'fincludes':_0xfa6537['fragmentIn'+'cludes'],'fshader':_0x26da09,'useTransformFeedback':_0xfa6537['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0xfa6537['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0xfa6537['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x1a570b){let _0x178dcd='';return _0x1a570b==null||_0x1a570b['forEach']((_0xfd7380,_0x56f78e)=>{_0x178dcd+='#define\x20'+_0x56f78e+'\x20'+_0xfd7380+'\x0a';}),_0x178dcd;}static['getShaderN'+'ameCode'](_0x2a3215){return'#define\x20SH'+'ADER_NAME\x20'+_0x2a3215+'\x0a';}static['dummyFragm'+'entCode'](){return'void\x20main('+'void)\x20{gl_'+'FragColor\x20'+'=\x20vec4(0.0'+');}';}static['versionCod'+'e'](_0x575cf5){return _0x575cf5['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x30f09f,_0x50e61e){_0x50e61e&&_0x50e61e!=='highp'&&_0x50e61e!=='mediump'&&_0x50e61e!=='lowp'&&(_0x50e61e=null),_0x50e61e&&(_0x50e61e==='highp'&&_0x30f09f['maxPrecisi'+'on']!=='highp'&&(_0x50e61e='mediump'),_0x50e61e==='mediump'&&_0x30f09f['maxPrecisi'+'on']==='lowp'&&(_0x50e61e='lowp'));const _0xfe9826=_0x50e61e||_0x30f09f['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0xfe9826+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0xfe9826+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0xfe9826+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0xfe9826+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0xfe9826+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0xfe9826+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0xfe9826+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x4f7305){const _0x4b8ea5={};let _0x1aaa57=-0x15d*-0x8+0x1103*0x1+-0x1beb,_0x1cff3e=_0x4f7305['indexOf']('attribute');for(;_0x1cff3e>=0xe+-0xd1d+0xd0f&&!(_0x1cff3e>-0x655*0x2+0x3*0x7a+0xb3c&&_0x4f7305[_0x1cff3e-(0x1a2d*0x1+0x67*-0x3f+-0xd3)]==='/');){let _0x40d977=!(0x3a*0x51+-0x135f+0x106);if(_0x1cff3e>0x401*-0x1+-0x1*0xdab+0x11ac){let _0x4f2528=_0x4f7305['lastIndexO'+'f']('\x0a',_0x1cff3e);_0x4f2528=_0x4f2528!==-(-0x35f+0x242d+0x20cd*-0x1)?_0x4f2528+(-0x1*0x1e3d+0xe08+0x32*0x53):0x3*0x3be+-0x587+0x1*-0x5b3,_0x4f7305['substring'](_0x4f2528,_0x1cff3e)['includes']('#')&&(_0x40d977=!(0x8d*0x7+-0x21a3*-0x1+0x1*-0x257e));}if(!_0x40d977){const _0x3c425b=_0x4f7305['indexOf'](';',_0x1cff3e),_0x362643=_0x4f7305['lastIndexO'+'f']('\x20',_0x3c425b),_0x52a7c6=_0x4f7305['substring'](_0x362643+(-0xeec+-0x2*0x59d+0x67*0x41),_0x3c425b);if(_0x4b8ea5[_0x52a7c6])v['warn']('Attribute\x20'+'['+_0x52a7c6+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x4f7305});else{const _0x2f6ffd=Qv[_0x52a7c6];_0x2f6ffd!==void(-0x7a5*0x1+0xc92+-0x4ed)?_0x4b8ea5[_0x52a7c6]=_0x2f6ffd:(_0x4b8ea5[_0x52a7c6]='ATTR'+_0x1aaa57,_0x1aaa57++);}}_0x1cff3e=_0x4f7305['indexOf']('attribute',_0x1cff3e+(-0x7b2*-0x5+0x1*-0x184a+0x1*-0xe2f));}return _0x4b8ea5;}}let Jv=0x714+-0x10a*-0x17+-0x1efa;class i0{constructor(_0x13b9f8,_0x476470){c(this,'meshUnifor'+'mBufferFor'+'mat'),c(this,'meshBindGr'+'oupFormat');if(this['id']=Jv++,this['device']=_0x13b9f8,this['definition']=_0x476470,this['name']=_0x476470['name']||'Untitled',this['init'](),_0x476470['cshader'])v['assert'](_0x13b9f8['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),v['assert'](!_0x476470['vshader']&&!_0x476470['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.');else{v['assert'](_0x476470['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),v['assert'](_0x476470['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),_0x476470['vshader']=Oh['run'](_0x476470['vshader'],_0x476470['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label']}),_0x476470['shaderLang'+'uage']===ky&&(_0x476470['attributes']??(_0x476470['attributes']=Mt['collectAtt'+'ributes'](_0x476470['vshader'])));const _0x2d7e63=_0x13b9f8['isWebGL2']&&(ye['name']==='osx'||ye['name']==='ios');_0x476470['fshader']=Oh['run'](_0x476470['fshader'],_0x476470['fincludes'],{'stripUnusedColorAttachments':_0x2d7e63,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']});}this['impl']=_0x13b9f8['createShad'+'erImpl'](this),v['trace'](Zp,'Alloc:\x20'+this['label']+',\x20stack:\x20'+G['toString'](),{'instance':this});}['init'](){this['ready']=!(0x1377+0x298+0x75a*-0x3),this['failed']=!(-0x188c+-0xac*-0x1+0x1*0x17e1);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20'+this['name'];}['destroy'](){v['trace'](Zp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class eb{constructor(){c(this,'storage'),c(this,'gpuBuffer'),c(this,'offset');}}const Te=[];Te[$s]=function(_0x463c0c,_0x1c404f,_0x3daa48){const _0x2c5236=_0x463c0c['storageFlo'+'at32'];_0x2c5236[_0x3daa48]=_0x1c404f;},Te[or]=(_0x4c0704,_0x4af588,_0xd45463)=>{const _0x43d72e=_0x4c0704['storageFlo'+'at32'];_0x43d72e[_0xd45463]=_0x4af588[-0x43b*0x2+-0xf76*0x1+0x17ec],_0x43d72e[_0xd45463+(0x16d+-0x87e*0x1+0x712)]=_0x4af588[0x1*0x1319+-0x13b5+-0x1*-0x9d];},Te[$t]=(_0x1a4ce9,_0x151e0b,_0x294e30)=>{const _0x2e791e=_0x1a4ce9['storageFlo'+'at32'];_0x2e791e[_0x294e30]=_0x151e0b[0x5ec+0x940+0x2*-0x796],_0x2e791e[_0x294e30+(0x9*0x34+0x2f9+-0x4cc)]=_0x151e0b[-0xde9*0x2+0x666+0x156d],_0x2e791e[_0x294e30+(0x394+0x101*0xc+-0xf9e)]=_0x151e0b[-0x24bc+0x1*-0xd3+0x2591];},Te[xa]=(_0x1d4abd,_0xa2acaf,_0x3fa30a)=>{const _0x5beb55=_0x1d4abd['storageFlo'+'at32'];_0x5beb55[_0x3fa30a]=_0xa2acaf[-0x2220+-0x17b1+0x39d1],_0x5beb55[_0x3fa30a+(-0x112a*0x1+-0x6eb+0x1816)]=_0xa2acaf[0x2237+-0x103+0xb11*-0x3],_0x5beb55[_0x3fa30a+(-0x1f89+0x74d+0x183e)]=_0xa2acaf[0xf40+-0x1*0x115f+0x221],_0x5beb55[_0x3fa30a+(-0x63*0x5+-0x1*-0x1fbf+-0x1dcd)]=_0xa2acaf[0x2567+0x192+-0x26f6];},Te[ln]=function(_0x142135,_0x42b851,_0x45b7fd){const _0x3a8523=_0x142135['storageInt'+'32'];_0x3a8523[_0x45b7fd]=_0x42b851;},Te[Zr]=function(_0xa2a727,_0x526f83,_0x5593a5){const _0x27c75c=_0xa2a727['storageInt'+'32'];_0x27c75c[_0x5593a5]=_0x526f83[0x1e4e+-0x2562+0x714],_0x27c75c[_0x5593a5+(-0xaec+-0x1*0xab5+0x1*0x15a2)]=_0x526f83[0x1609+0xc0b*0x3+-0x3a29];},Te[Qr]=function(_0x1fe1fa,_0x5cdc9e,_0x287c18){const _0x2e07a2=_0x1fe1fa['storageInt'+'32'];_0x2e07a2[_0x287c18]=_0x5cdc9e[-0x82b+-0x1e23+-0x1*-0x264e],_0x2e07a2[_0x287c18+(-0xcc2*-0x1+0x1*-0x1169+0x4a8)]=_0x5cdc9e[-0x1c47+0xdf*0x1d+0x305*0x1],_0x2e07a2[_0x287c18+(-0x3a*0x81+-0x27c+0x1fb8)]=_0x5cdc9e[-0x797+-0x1bd*0x7+0x13c4];},Te[Jr]=function(_0x4e3b27,_0x438517,_0x18b9a6){const _0x4fc949=_0x4e3b27['storageInt'+'32'];_0x4fc949[_0x18b9a6]=_0x438517[-0x215e+-0xbe7*-0x3+0x1*-0x257],_0x4fc949[_0x18b9a6+(-0xd45+-0xa*0xd2+0x157a)]=_0x438517[0x156+-0x24ee+0x2399],_0x4fc949[_0x18b9a6+(0x25a2+0x1*0x2545+-0x6cf*0xb)]=_0x438517[-0x551*0x4+0x1bdf+-0x699*0x1],_0x4fc949[_0x18b9a6+(0x1217*0x2+-0xdc8+-0x1663)]=_0x438517[-0x1600+-0xa26+0x2029];},Te[Rh]=(_0x4b614b,_0x1d26a1,_0x21c1ce)=>{const _0x286db2=_0x4b614b['storageFlo'+'at32'];_0x286db2[_0x21c1ce]=_0x1d26a1[0x10fd+-0xa76+-0x687],_0x286db2[_0x21c1ce+(-0x1c20+0x4fd+-0x1*-0x1724)]=_0x1d26a1[-0x1*0x5e2+-0xc72+0x1255],_0x286db2[_0x21c1ce+(0x566+-0x1eb1+-0xd1*-0x1f)]=_0x1d26a1[-0x4d*-0x17+-0x246c+-0x1*-0x1d83],_0x286db2[_0x21c1ce+(0x2469*-0x1+0x9*0x20b+0x120b)]=_0x1d26a1[-0x1*-0xc2e+-0x1*0x11c5+-0x2*-0x2cd],_0x286db2[_0x21c1ce+(-0xb*-0x9e+-0x1266+0xba4)]=_0x1d26a1[0x13a8+-0x50+0x1*-0x1354],_0x286db2[_0x21c1ce+(0x1d47+-0x1c7*-0xe+-0x3620)]=_0x1d26a1[-0x1bf3+0x2aa*-0xd+-0x2*-0x1f4d];},Te[ko]=(_0x2ec655,_0x5b2d58,_0x40ed07)=>{const _0x438ff8=_0x2ec655['storageFlo'+'at32'];_0x438ff8[_0x40ed07]=_0x5b2d58[0x331*0x1+-0x939+0x608],_0x438ff8[_0x40ed07+(0xc3*0x17+0x1*-0x6e2+-0xaa2)]=_0x5b2d58[0x1d0*0x5+-0x17e7+0xc8*0x13],_0x438ff8[_0x40ed07+(-0x1a74+0x1f66+0x4f0*-0x1)]=_0x5b2d58[0x7de*-0x2+0x907*0x3+0x1*-0xb57],_0x438ff8[_0x40ed07+(0x1e6+-0x2b7*0x3+0x643)]=_0x5b2d58[0x1*0xd13+0xb2*-0xb+0x6*-0xe7],_0x438ff8[_0x40ed07+(0x16f*-0x4+-0x492*-0x3+0x15*-0x61)]=_0x5b2d58[-0x170+-0x20e1+0x2255],_0x438ff8[_0x40ed07+(-0x19c3+0x236*0x9+0x5e3)]=_0x5b2d58[0x4b9+0x1d2c+-0x21e0],_0x438ff8[_0x40ed07+(0xf02+-0x4*-0x624+-0x278a)]=_0x5b2d58[-0x9e0+-0x7*0x411+0x265d*0x1],_0x438ff8[_0x40ed07+(0xa8f+0x1*0x20e7+-0x2b6d*0x1)]=_0x5b2d58[-0x168*-0x6+0x111c+0x8b*-0x2f],_0x438ff8[_0x40ed07+(-0x1c92+0x2665+-0x9c9)]=_0x5b2d58[-0x2322+-0x22c9+0x45f3];},Te[Dc]=function(_0x3a5723,_0x450be5,_0x2f4834,_0x314e58){const _0x4c7994=_0x3a5723['storageFlo'+'at32'];for(let _0x4f0db0=-0x1*-0x1391+-0x1ce6+0x955;_0x4f0db0<_0x314e58;_0x4f0db0++)_0x4c7994[_0x2f4834+_0x4f0db0*(-0x264+0x84f+0x1*-0x5e7)]=_0x450be5[_0x4f0db0];},Te[Lc]=(_0xdcdf02,_0x5f6afc,_0x4c6f1c,_0x4548d6)=>{const _0x1bceed=_0xdcdf02['storageFlo'+'at32'];for(let _0x312f24=0x1*-0x957+0x1d9c+0x1*-0x1445;_0x312f24<_0x4548d6;_0x312f24++)_0x1bceed[_0x4c6f1c+_0x312f24*(0x1d6d+-0x74d+-0x161c)]=_0x5f6afc[_0x312f24*(0x210e*-0x1+0x1*-0x2051+0x4161)],_0x1bceed[_0x4c6f1c+_0x312f24*(0x24a8+0x6f7*0x2+0x3292*-0x1)+(0xf2d+-0x1981+0xa55*0x1)]=_0x5f6afc[_0x312f24*(-0x25be+-0xbe*0x2f+-0x2*-0x2451)+(0xa31+-0x1bd5+-0x11a5*-0x1)];},Te[Fc]=(_0x2d7234,_0x13a124,_0x13c628,_0x28532b)=>{const _0x2114f1=_0x2d7234['storageFlo'+'at32'];for(let _0x2f33d5=0xe*-0x3a+0x6f2*0x4+0x1*-0x189c;_0x2f33d5<_0x28532b;_0x2f33d5++)_0x2114f1[_0x13c628+_0x2f33d5*(-0xcaf*-0x2+-0x49*0x35+-0x1*0xa3d)]=_0x13a124[_0x2f33d5*(0xae5*-0x3+-0x1*-0x2f1+-0x3*-0x9eb)],_0x2114f1[_0x13c628+_0x2f33d5*(0x48*-0x8a+0x510+0x10e2*0x2)+(-0x2054+0x3*0x8db+0x1ec*0x3)]=_0x13a124[_0x2f33d5*(0x9*0x301+-0x4*-0x409+-0x22*0x145)+(0x4e*-0x14+-0x6ff*-0x1+-0xe6)],_0x2114f1[_0x13c628+_0x2f33d5*(0x6*-0x659+0x25c4+0x56)+(0x6d*-0x2f+-0x1fd6+0x33db)]=_0x13a124[_0x2f33d5*(0x1e5*0x11+-0x1a89*-0x1+-0x3abb)+(-0xf38+0x4bd+-0x1*-0xa7d)];},Te[va]=(_0x1658ef,_0xb26f9f,_0x30c489,_0x8c89cc)=>{const _0x10f053=_0x1658ef['storageUin'+'t32'];_0x10f053[_0x30c489]=_0xb26f9f;},Te[ba]=(_0xb31072,_0xa4c81e,_0x1be194,_0x2f803d)=>{const _0x20ffee=_0xb31072['storageUin'+'t32'];_0x20ffee[_0x1be194]=_0xa4c81e[-0x17a2+0x171*0x16+-0x814],_0x20ffee[_0x1be194+(-0x2*0x922+-0x209*0x3+0x1860)]=_0xa4c81e[-0xb4b+-0x2388+-0x6f*-0x6c];},Te[wa]=(_0x18cbda,_0x399d79,_0xbe1a7f,_0x47848d)=>{const _0x36f712=_0x18cbda['storageUin'+'t32'];_0x36f712[_0xbe1a7f]=_0x399d79[0xeae+-0x1*-0x1c21+-0xd*0x34b],_0x36f712[_0xbe1a7f+(-0xa1f+0xd14+0x6*-0x7e)]=_0x399d79[0xdf5+-0x19a7+0xbb3],_0x36f712[_0xbe1a7f+(0x23e9+-0x11*-0x106+0x354d*-0x1)]=_0x399d79[-0x1f53+-0x2258+0x2db*0x17];},Te[Ta]=(_0x26d4ab,_0x19287,_0x23c537,_0x3b1455)=>{const _0x12391a=_0x26d4ab['storageUin'+'t32'];_0x12391a[_0x23c537]=_0x19287[0x1c42+0x3c0+-0x2002],_0x12391a[_0x23c537+(0x29*0xf1+0x243+-0x28db)]=_0x19287[-0x223c+-0xaa9+0x2ce6],_0x12391a[_0x23c537+(0x2327+0x12f4+-0x3619)]=_0x19287[0x18d*-0x5+0xf*-0xf8+0x164b*0x1],_0x12391a[_0x23c537+(-0xd*-0x259+0x248f+-0x4311)]=_0x19287[-0x5af*0x2+0x5*-0x751+0x36d*0xe];},Te[Aa]=function(_0x1e5709,_0x2b33e9,_0xf27e72,_0x517a04){const _0x4292cd=_0x1e5709['storageInt'+'32'];for(let _0x228f3f=-0xa22+0x1331+0x1*-0x90f;_0x228f3f<_0x517a04;_0x228f3f++)_0x4292cd[_0xf27e72+_0x228f3f*(0x1722+0xcc0+-0x23de)]=_0x2b33e9[_0x228f3f];},Te[kc]=Te[Aa],Te[Oc]=function(_0x575cab,_0x4b0681,_0x8bea8f,_0x3ca14a){const _0x1905ab=_0x575cab['storageUin'+'t32'];for(let _0x35bc6a=0x19a5+-0x2*0x74c+0x7b*-0x17;_0x35bc6a<_0x3ca14a;_0x35bc6a++)_0x1905ab[_0x8bea8f+_0x35bc6a*(0x30*-0x7f+0x1dc6+-0x5f2)]=_0x4b0681[_0x35bc6a];},Te[Ea]=(_0xbc533d,_0x187886,_0x50c1f5,_0x2a4147)=>{const _0x6a8764=_0xbc533d['storageInt'+'32'];for(let _0x248ba4=0xf1*0x1f+-0x26a+-0x59*0x4d;_0x248ba4<_0x2a4147;_0x248ba4++)_0x6a8764[_0x50c1f5+_0x248ba4*(0x253c+0x1*-0x871+-0x1cc7)]=_0x187886[_0x248ba4*(-0x1d3*0x8+-0x125*-0x14+-0x84a)],_0x6a8764[_0x50c1f5+_0x248ba4*(0x1607+-0x1*0x9f7+-0xc0c)+(0x1*0x1717+-0xaaa+-0xc6c)]=_0x187886[_0x248ba4*(-0x1255*-0x1+-0x5f7+-0x2*0x62e)+(0x18c7*0x1+0x73e+-0x1*0x2004)];},Te[Nc]=Te[Ea],Te[Bc]=(_0x9ae329,_0x62cee4,_0x2b8321,_0x3a3be3)=>{const _0x5214f2=_0x9ae329['storageUin'+'t32'];for(let _0x31cbe0=0x38a+-0x12a*-0xb+-0x416*0x4;_0x31cbe0<_0x3a3be3;_0x31cbe0++)_0x5214f2[_0x2b8321+_0x31cbe0*(0x1c9d+-0x1e+-0x17*0x13d)]=_0x62cee4[_0x31cbe0*(-0x1c59+-0xd*0xdf+0x27ae)],_0x5214f2[_0x2b8321+_0x31cbe0*(0x1b05*-0x1+-0x16da+0x31e3)+(-0x13f7+0x95c*0x4+0xd*-0x158)]=_0x62cee4[_0x31cbe0*(-0x1b09*-0x1+0xab4*0x2+-0x306f)+(-0x1a*-0xe3+-0x6*0x544+0x88b)];},Te[Ca]=(_0x916bf7,_0x145b1d,_0x580ad5,_0x28c9e8)=>{const _0x5c9329=_0x916bf7['storageInt'+'32'];for(let _0xd598b9=0xbfe+-0x335*0x5+-0x159*-0x3;_0xd598b9<_0x28c9e8;_0xd598b9++)_0x5c9329[_0x580ad5+_0xd598b9*(0x468+0x16ef+-0x1b53)]=_0x145b1d[_0xd598b9*(-0x5b*0x13+0x6fd+-0x39)],_0x5c9329[_0x580ad5+_0xd598b9*(-0x1*0x2113+0x24cf+-0x3b8)+(0xd64+-0x220a+0x11*0x137)]=_0x145b1d[_0xd598b9*(0x1*-0x1512+-0x1e7*-0xd+0x3a6*-0x1)+(-0x1bee+-0x1868+0x1*0x3457)],_0x5c9329[_0x580ad5+_0xd598b9*(-0x1*0xff3+0x1d2a*0x1+0x1*-0xd33)+(0x7df+-0xb21+0x344)]=_0x145b1d[_0xd598b9*(0x14b6+0x4d*-0x72+0xd97)+(0x1cce+0xe8a*0x2+-0x4*0xe78)];},Te[Uc]=Te[Ca],Te[zc]=(_0x5a5543,_0x47f2c4,_0x401dd8,_0x364f34)=>{const _0x39a369=_0x5a5543['storageUin'+'t32'];for(let _0x498288=-0x25c6+-0x2454+0x4a1a;_0x498288<_0x364f34;_0x498288++)_0x39a369[_0x401dd8+_0x498288*(0x1ec1+0x1*-0x10aa+-0xe13)]=_0x47f2c4[_0x498288*(-0x4d4+0x1a9+0x32e)],_0x39a369[_0x401dd8+_0x498288*(0x8*0x1eb+0x3f+-0xf93)+(0x255b+0x508+-0x2a62)]=_0x47f2c4[_0x498288*(-0x26a7+0x35*0x9d+0x629)+(0x1627+-0x54e*-0x2+-0x20c2)],_0x39a369[_0x401dd8+_0x498288*(0x110a+-0x2*-0x455+-0x19b0)+(-0x221f+-0xe3f*0x1+0x1020*0x3)]=_0x47f2c4[_0x498288*(0x3*0x207+0xe57*-0x1+0x845)+(0x2*0xf94+-0xb*0xdd+-0x15a7)];};class gp{constructor(_0x423174,_0x831624,_0xa98dc0=!(0x1a01+-0x1*-0x1961+-0x3362)){c(this,'device'),c(this,'persistent'),c(this,'allocation'),c(this,'storageFlo'+'at32'),c(this,'storageInt'+'32'),c(this,'storageUin'+'t32'),c(this,'renderVers'+'ionDirty',0xa*0x329+-0x24b4+0x51a);if(this['device']=_0x423174,this['format']=_0x831624,this['persistent']=_0xa98dc0,v['assert'](_0x831624),_0xa98dc0){this['impl']=_0x423174['createUnif'+'ormBufferI'+'mpl'](this);const _0x18892c=new ArrayBuffer(_0x831624['byteSize']);this['assignStor'+'age'](new Int32Array(_0x18892c)),_0x423174['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new eb();}['destroy'](){if(this['persistent']){const _0x5be189=this['device'];this['impl']['destroy'](_0x5be189),_0x5be189['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?-0x1*-0x1b53+0x8*-0x36+-0x19a3:this['allocation']['offset'];}['assignStor'+'age'](_0x162ee9){this['storageInt'+'32']=_0x162ee9,this['storageUin'+'t32']=new Uint32Array(_0x162ee9['buffer'],_0x162ee9['byteOffset'],_0x162ee9['byteLength']/(-0x2*-0xce9+0x2b*-0x6d+-0x77f)),this['storageFlo'+'at32']=new Float32Array(_0x162ee9['buffer'],_0x162ee9['byteOffset'],_0x162ee9['byteLength']/(-0xdd6*-0x1+0x9e*-0x1+-0xd34));}['loseContex'+'t'](){var _0x5a7e19;(_0x5a7e19=this['impl'])==null||_0x5a7e19['loseContex'+'t']();}['setUniform'](_0xf9f707,_0x2b62c7){v['assert'](_0xf9f707);const _0x20e147=_0xf9f707['offset'];if(_0x2b62c7!=null){const _0x36263f=Te[_0xf9f707['updateType']];_0x36263f?_0x36263f(this,_0x2b62c7,_0x20e147,_0xf9f707['count']):this['storageFlo'+'at32']['set'](_0x2b62c7,_0x20e147);}else v['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0xf9f707['name']+('],\x20expecte'+'d\x20type\x20')+dp[_0xf9f707['type']]+('\x20while\x20ren'+'dering\x20')+G['toString']());}['set'](_0x254028,_0x44539b){const _0x2b3265=this['format']['map']['get'](_0x254028);v['assert'](_0x2b3265,'Uniform\x20na'+'me\x20['+_0x254028+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x2b3265&&this['setUniform'](_0x2b3265,_0x44539b);}['startUpdat'+'e'](_0x1926c5){if(!this['persistent']){const _0x179d54=this['allocation'],_0x47db9b=_0x179d54['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x179d54,this['format']['byteSize']),this['assignStor'+'age'](_0x179d54['storage']),_0x1926c5&&(_0x1926c5['bindGroup']=_0x179d54['gpuBuffer']['getBindGro'+'up'](this),_0x1926c5['offsets'][-0x2*0x24a+-0xab9+0xf4d*0x1]=_0x179d54['offset']),_0x47db9b!==_0x179d54['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x235a47){this['startUpdat'+'e'](_0x235a47);const _0x488271=this['format']['uniforms'];for(let _0x5cb546=-0x2b*-0x9d+-0x16*-0xa3+-0x2861*0x1;_0x5cb546<_0x488271['length'];_0x5cb546++){const _0x3c86fe=_0x488271[_0x5cb546]['scopeId']['value'];this['setUniform'](_0x488271[_0x5cb546],_0x3c86fe);}this['endUpdate']();}}class tb{constructor(){c(this,'frameAlloc'+'ations',[]),c(this,'pastFrameA'+'llocations',new Map()),c(this,'_enabled',!(0x3*-0xaa3+-0x6*-0x59e+0xe5*-0x2)),c(this,'_enableReq'+'uest',!(-0x2b*-0x75+0x51f+-0x18c5)),c(this,'_frameTime',-0x12b9+-0x1*-0x125f+-0x1*-0x5a);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x20ec8a){this['_enableReq'+'uest']=_0x20ec8a;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=0x22a+-0x13a7+0x117d));}['request'](_0x41f957){this['pastFrameA'+'llocations']['set'](_0x41f957,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x1fe1ed,_0x4a09e0){if(_0x4a09e0){const _0x10415c=this['pastFrameA'+'llocations']['get'](_0x1fe1ed);if(v['assert'](_0x10415c['length']===_0x4a09e0['length']),_0x4a09e0['length']>0x55*0x6a+0xe*-0x283+-0x8&&(this['_frameTime']=_0x4a09e0[-0xe6e*-0x2+-0x2fd+-0x19df]),Xs['get'](ml)){v['trace'](ml,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x1fe1ed+'\x20--');let _0x353f36=0xb8b+0x15d8+0x309*-0xb;for(let _0x5915bc=-0x19c5+-0x3*-0x8ab+-0x3c;_0x5915bc<_0x10415c['length'];++_0x5915bc){const _0x6b4726=_0x10415c[_0x5915bc];_0x353f36+=_0x4a09e0[_0x5915bc],v['trace'](ml,_0x4a09e0[_0x5915bc]['toFixed'](-0x2240+-0xd41+-0x1*-0x2f83)+'\x20ms\x20'+_0x6b4726);}v['trace'](ml,_0x353f36['toFixed'](-0x1304*-0x1+-0x295*-0xe+0x2*-0x1b94)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x1fe1ed);}['getSlot'](_0x5c60d7){const _0x18cfc6=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x5c60d7),_0x18cfc6;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class r0{constructor(){c(this,'bufferId',null);}['destroy'](_0x762bee){this['bufferId']&&(_0x762bee['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x26f5ba,_0xcec86d,_0x168430,_0x2d16b1){const _0x238b52=_0x26f5ba['gl'];if(this['bufferId'])_0x238b52['bindBuffer'](_0x168430,this['bufferId']),_0x238b52['bufferSubD'+'ata'](_0x168430,-0xc*0x9+-0xb53+-0x61*-0x1f,_0x2d16b1);else{let _0x2526b6;switch(_0xcec86d){case jt:_0x2526b6=_0x238b52['STATIC_DRA'+'W'];break;case Th:_0x2526b6=_0x238b52['DYNAMIC_DR'+'AW'];break;case uy:_0x2526b6=_0x238b52['STREAM_DRA'+'W'];break;case PS:_0x2526b6=_0x238b52['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x238b52['createBuff'+'er'](),_0x238b52['bindBuffer'](_0x168430,this['bufferId']),_0x238b52['bufferData'](_0x168430,_0x2d16b1,_0x2526b6);}}}class sb extends r0{constructor(){super(...arguments),c(this,'vao',null);}['destroy'](_0x3fb3af){super['destroy'](_0x3fb3af),_0x3fb3af['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x2d97ee){const _0x96fc64=_0x2d97ee['device'];super['unlock'](_0x96fc64,_0x2d97ee['usage'],_0x96fc64['gl']['ARRAY_BUFF'+'ER'],_0x2d97ee['storage']);}}class ib extends r0{constructor(_0x493bee){super();const _0xec226c=_0x493bee['device']['gl'],_0xe01c76=_0x493bee['format'];_0xe01c76===pu?this['glFormat']=_0xec226c['UNSIGNED_B'+'YTE']:_0xe01c76===Pi?this['glFormat']=_0xec226c['UNSIGNED_S'+'HORT']:_0xe01c76===nr&&(this['glFormat']=_0xec226c['UNSIGNED_I'+'NT']);}['unlock'](_0x524495){const _0x456384=_0x524495['device'];super['unlock'](_0x456384,_0x524495['usage'],_0x456384['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x524495['storage']);}}class Mm{constructor(_0x40d4d3,_0x238a66,_0x59d63d,_0x5a3046){if(this['locationId']=_0x5a3046,this['scopeId']=_0x40d4d3['scope']['resolve'](_0x238a66),this['version']=new Ky(),_0x238a66['substring'](_0x238a66['length']-(-0x1bb2+0x59*0x23+0xf8a))==='[0]')switch(_0x59d63d){case $s:_0x59d63d=Dc;break;case ln:_0x59d63d=Aa;break;case va:_0x59d63d=Oc;break;case ca:_0x59d63d=kc;break;case or:_0x59d63d=Lc;break;case Zr:_0x59d63d=Ea;break;case ba:_0x59d63d=Bc;break;case Lo:_0x59d63d=Nc;break;case $t:_0x59d63d=Fc;break;case Qr:_0x59d63d=Ca;break;case wa:_0x59d63d=zc;break;case Fo:_0x59d63d=Uc;break;case xa:_0x59d63d=lp;break;case Jr:_0x59d63d=Ih;break;case Ta:_0x59d63d=hp;break;case Oo:_0x59d63d=cp;break;}this['dataType']=_0x59d63d,this['value']=[null,null,null,null],this['array']=[];}}let Pm=-0xeb6+0x1827+-0x971;const rb=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class nb{constructor(){c(this,'map',new Map());}['destroy'](_0x8df55e){this['map']['forEach'](_0xb4bdbe=>{_0x8df55e['gl']['deleteShad'+'er'](_0xb4bdbe);});}['loseContex'+'t'](_0x156484){this['map']['clear']();}}const ab=new Ot(),ob=new Ot();class lb{constructor(_0x38e9e0){c(this,'compileDur'+'ation',-0x75c+-0x9*-0x41+-0x1b1*-0x3),(this['init'](),this['compile'](_0x38e9e0['device'],_0x38e9e0),this['link'](_0x38e9e0['device'],_0x38e9e0),_0x38e9e0['device']['shaders']['push'](_0x38e9e0));}['destroy'](_0x38b138){this['glProgram']&&(_0x38b138['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x4611fa,_0x2871a8){this['compile'](_0x4611fa,_0x2871a8),this['link'](_0x4611fa,_0x2871a8);}['compile'](_0x1b3292,_0x17cbd8){const _0x32543a=_0x17cbd8['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x1b3292,_0x32543a['vshader'],!(0x1a7c+0x523*-0x6+0x456)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x1b3292,_0x32543a['fshader'],!(-0x5*0x523+0x1429+0x587));}['link'](_0x1a1f50,_0x4113f8){if(this['glProgram'])return;const _0x3d8892=_0x1a1f50['gl'];if(_0x3d8892['isContextL'+'ost']())return;let _0xa7c705=0xf91+-0x1a28+0xa97;v['call'](()=>{this['compileDur'+'ation']=-0x17f3*-0x1+-0x1*0x6a6+0x2b*-0x67,_0xa7c705=ne();});const _0x52ef7a=_0x3d8892['createProg'+'ram']();this['glProgram']=_0x52ef7a,_0x3d8892['attachShad'+'er'](_0x52ef7a,this['glVertexSh'+'ader']),_0x3d8892['attachShad'+'er'](_0x52ef7a,this['glFragment'+'Shader']);const _0xcf7fb8=_0x4113f8['definition'],_0x1b0886=_0xcf7fb8['attributes'];if(_0xcf7fb8['useTransfo'+'rmFeedback']){const _0x56065a=[];for(const _0x381c03 in _0x1b0886)_0x1b0886['hasOwnProp'+'erty'](_0x381c03)&&_0x56065a['push']('out_'+_0x381c03);_0x3d8892['transformF'+'eedbackVar'+'yings'](_0x52ef7a,_0x56065a,_0x3d8892['INTERLEAVE'+'D_ATTRIBS']);}const _0x2a138={};for(const _0x293f41 in _0x1b0886)if(_0x1b0886['hasOwnProp'+'erty'](_0x293f41)){const _0x48c7bd=_0x1b0886[_0x293f41],_0x4847a3=ve[_0x48c7bd];v['assert'](!_0x2a138['hasOwnProp'+'erty'](_0x4847a3),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x2a138[_0x4847a3]+'\x20and\x20'+_0x293f41),_0x2a138[_0x4847a3]=_0x293f41,_0x3d8892['bindAttrib'+'Location'](_0x52ef7a,_0x4847a3,_0x293f41);}_0x3d8892['linkProgra'+'m'](_0x52ef7a),v['call'](()=>{this['compileDur'+'ation']=ne()-_0xa7c705;}),_0x1a1f50['_shaderSta'+'ts']['linked']++,_0xcf7fb8['tag']===Ly&&_0x1a1f50['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x18d688,_0x127271,_0x7319a2){const _0x459b33=_0x18d688['gl'];if(_0x459b33['isContextL'+'ost']())return null;const _0x3940ec=(_0x7319a2?ab:ob)['get'](_0x18d688,()=>new nb());let _0x211d7b=_0x3940ec['map']['get'](_0x127271);if(!_0x211d7b){const _0x28cb46=ne();_0x18d688['fire']('shader:com'+'pile:start',{'timestamp':_0x28cb46,'target':_0x18d688}),_0x211d7b=_0x459b33['createShad'+'er'](_0x7319a2?_0x459b33['VERTEX_SHA'+'DER']:_0x459b33['FRAGMENT_S'+'HADER']),_0x459b33['shaderSour'+'ce'](_0x211d7b,_0x127271),_0x459b33['compileSha'+'der'](_0x211d7b),_0x3940ec['map']['set'](_0x127271,_0x211d7b);const _0x5a6d06=ne();_0x18d688['fire']('shader:com'+'pile:end',{'timestamp':_0x5a6d06,'target':_0x18d688}),_0x18d688['_shaderSta'+'ts']['compileTim'+'e']+=_0x5a6d06-_0x28cb46,_0x7319a2?_0x18d688['_shaderSta'+'ts']['vsCompiled']++:_0x18d688['_shaderSta'+'ts']['fsCompiled']++;}return _0x211d7b;}['finalize'](_0x332069,_0x5d3455){var _0x4daeff,_0x5e782d;const _0x59fdc8=_0x332069['gl'];if(_0x59fdc8['isContextL'+'ost']())return!(0x19fc*-0x1+-0xa3*-0x1d+0x785);const _0x1a1ae1=this['glProgram'],_0x2f3285=_0x5d3455['definition'],_0x47f282=ne();_0x332069['fire']('shader:lin'+'k:start',{'timestamp':_0x47f282,'target':_0x332069});let _0x2cb8a6=-0x3d8+-0x249e*0x1+0x2876*0x1;if(v['call'](()=>{_0x2cb8a6=ne();}),!_0x59fdc8['getProgram'+'Parameter'](_0x1a1ae1,_0x59fdc8['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x332069,_0x5d3455,this['glVertexSh'+'ader'],_0x2f3285['vshader'],'vertex')||!this['_isCompile'+'d'](_0x332069,_0x5d3455,this['glFragment'+'Shader'],_0x2f3285['fshader'],'fragment'))return!(-0xe45*0x1+-0x1bb*0x6+-0x8*-0x315);const _0x2825ad='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x59fdc8['getProgram'+'InfoLog'](_0x1a1ae1);return _0x2f3285['translated'+'Frag']=(_0x4daeff=_0x59fdc8['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0xa9*0x35+0x2399+-0x9c):_0x4daeff['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x2f3285['translated'+'Vert']=(_0x5e782d=_0x59fdc8['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0xed5+0xff9*-0x1+0x1ece):_0x5e782d['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x2825ad,_0x2f3285),console['error'](_0x2825ad),!(0x254*0x6+-0x26d4+0x18dd);}const _0x4a100a=_0x59fdc8['getProgram'+'Parameter'](_0x1a1ae1,_0x59fdc8['ACTIVE_ATT'+'RIBUTES']);for(let _0x4ab10c=0x1c0*-0x10+-0x2177+-0x3*-0x147d;_0x4ab10c<_0x4a100a;_0x4ab10c++){const _0x10e0e2=_0x59fdc8['getActiveA'+'ttrib'](_0x1a1ae1,_0x4ab10c),_0x55982e=_0x59fdc8['getAttribL'+'ocation'](_0x1a1ae1,_0x10e0e2['name']);if(!rb['has'](_0x10e0e2['name'])){if(_0x2f3285['attributes'][_0x10e0e2['name']]===void(-0x147c+-0x5e*-0x5+0x12a6))console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x10e0e2['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x5d3455['label']+']',_0x5d3455),_0x5d3455['failed']=!(0x16f5+0xe0+-0x17d5);else{const _0x1e75bc=new Mm(_0x332069,_0x2f3285['attributes'][_0x10e0e2['name']],_0x332069['pcUniformT'+'ype'][_0x10e0e2['type']],_0x55982e);this['attributes']['push'](_0x1e75bc);}}}const _0x3bca22=_0x332069['_samplerTy'+'pes'],_0x588966=_0x59fdc8['getProgram'+'Parameter'](_0x1a1ae1,_0x59fdc8['ACTIVE_UNI'+'FORMS']);for(let _0x5c7e79=-0x2*0xc9a+0x2647+0x1*-0xd13;_0x5c7e79<_0x588966;_0x5c7e79++){const _0x14e9ab=_0x59fdc8['getActiveU'+'niform'](_0x1a1ae1,_0x5c7e79),_0x3311cf=_0x59fdc8['getUniform'+'Location'](_0x1a1ae1,_0x14e9ab['name']),_0x1b60d2=new Mm(_0x332069,_0x14e9ab['name'],_0x332069['pcUniformT'+'ype'][_0x14e9ab['type']],_0x3311cf);_0x3bca22['has'](_0x14e9ab['type'])?this['samplers']['push'](_0x1b60d2):this['uniforms']['push'](_0x1b60d2);}_0x5d3455['ready']=!(0x16*-0x113+0x12d0+0x4d2);const _0x504566=ne();return _0x332069['fire']('shader:lin'+'k:end',{'timestamp':_0x504566,'target':_0x332069}),_0x332069['_shaderSta'+'ts']['compileTim'+'e']+=_0x504566-_0x47f282,v['call'](()=>{const _0x43d544=ne()-_0x2cb8a6;this['compileDur'+'ation']+=_0x43d544,Pm+=this['compileDur'+'ation'],v['trace'](Yx,'[id:\x20'+_0x5d3455['id']+']\x20'+_0x5d3455['name']+':\x20'+this['compileDur'+'ation']['toFixed'](0x2500*0x1+0x2*0xca4+-0x3e47)+('ms,\x20TOTAL:'+'\x20')+Pm['toFixed'](0x14cc+-0x3c6+0x1*-0x1105)+'ms');}),!(-0x15*0x9f+-0xf5*-0x15+-0x70e);}['_isCompile'+'d'](_0xbecb60,_0x568432,_0x281312,_0x128de4,_0x6dfce1){const _0x570bcf=_0xbecb60['gl'];if(!_0x570bcf['getShaderP'+'arameter'](_0x281312,_0x570bcf['COMPILE_ST'+'ATUS'])){const _0x1634ec=_0x570bcf['getShaderI'+'nfoLog'](_0x281312),[_0xbb36e5,_0x554ae4]=this['_processEr'+'ror'](_0x128de4,_0x1634ec),_0x253af0='Failed\x20to\x20'+'compile\x20'+_0x6dfce1+'\x20shader:\x0a\x0a'+_0x1634ec+'\x0a'+_0xbb36e5+('\x20while\x20ren'+'dering\x20')+G['toString']();return _0x554ae4['shader']=_0x568432,console['error'](_0x253af0,_0x554ae4),console['error'](_0x253af0),!(-0x264c+0x234c+0x301);}return!(-0x5c4+0x26e5*0x1+-0x2121);}['isLinked'](_0x43a7cb){const {extParallelShaderCompile:_0x2c4c33}=_0x43a7cb;return _0x2c4c33?_0x43a7cb['gl']['getProgram'+'Parameter'](this['glProgram'],_0x2c4c33['COMPLETION'+'_STATUS_KH'+'R']):!(0xc40+0x74e+0x1*-0x138e);}['_processEr'+'ror'](_0x178067,_0x1046b3){const _0x14e1dd={};let _0x116347='';if(_0x178067){const _0xb7585c=_0x178067['split']('\x0a');let _0x356232=-0x53*-0x34+-0x236+-0x1e*0x7d,_0x1a9ed2=_0xb7585c['length'];if(_0x1046b3&&_0x1046b3['startsWith']('ERROR:')){const _0xff8431=_0x1046b3['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0xff8431&&(_0x14e1dd['message']=_0xff8431[0x2417*-0x1+-0x8a1*-0x1+0x1b79],_0x14e1dd['line']=parseInt(_0xff8431[-0xc*0x1d1+-0x1749+0x7*0x671],-0x177a+-0x1a9+0x192d),_0x356232=Math['max'](-0x19a1+0x1805+0x19c,_0x14e1dd['line']-(-0xf6f+-0xb*-0x144+0x189)),_0x1a9ed2=Math['min'](_0xb7585c['length'],_0x14e1dd['line']+(-0x2392+-0x1235+0x1ae6*0x2)));}for(let _0x2c38f0=_0x356232;_0x2c38f0<_0x1a9ed2;_0x2c38f0++)_0x116347+=_0x2c38f0+(-0xc0*-0x1+-0x1*-0x1614+-0x16d3)+':\x09'+_0xb7585c[_0x2c38f0]+'\x0a';_0x14e1dd['source']=_0x178067;}return[_0x116347,_0x14e1dd];}}function Rm(_0x4f02ff,_0x575292){const _0x36c488=_0x4f02ff['width'],_0xe8712a=_0x4f02ff['height'];if(_0x36c488>_0x575292||_0xe8712a>_0x575292){const _0x1aac2f=_0x575292/Math['max'](_0x36c488,_0xe8712a),_0x2e6429=Math['floor'](_0x36c488*_0x1aac2f),_0x30ef61=Math['floor'](_0xe8712a*_0x1aac2f);v['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x575292+('.\x20Resizing'+'\x20from\x20')+_0x36c488+',\x20'+_0xe8712a+'\x20to\x20'+_0x2e6429+',\x20'+_0x30ef61+'.');const _0x471098=document['createElem'+'ent']('canvas');return _0x471098['width']=_0x2e6429,_0x471098['height']=_0x30ef61,_0x471098['getContext']('2d')['drawImage'](_0x4f02ff,0xa*0x199+0xbec+0x2*-0xdf3,0x2705+-0xc50+-0x1ab5,_0x36c488,_0xe8712a,-0x2a5*0x4+-0x4fe+0xf92,-0x612+0x5cb*0x2+-0x584*0x1,_0x2e6429,_0x30ef61),_0x471098;}return _0x4f02ff;}class hb{constructor(_0x36f69d){c(this,'_glTexture',null),c(this,'_glTarget'),c(this,'_glFormat'),c(this,'_glInterna'+'lFormat'),c(this,'_glPixelTy'+'pe'),c(this,'_glCreated'),c(this,'dirtyParam'+'eterFlags',-0x2282+-0x1*-0x185e+-0x76*-0x16),this['texture']=_0x36f69d;}['destroy'](_0x4e45cb){if(this['_glTexture']){for(let _0x459744=-0x2582*-0x1+0x29*0xdc+0x48be*-0x1;_0x459744<_0x4e45cb['textureUni'+'ts']['length'];_0x459744++){const _0xd36ad=_0x4e45cb['textureUni'+'ts'][_0x459744];for(let _0x4d4e3a=0x1*-0x1949+0x2*0x452+0x10a5;_0x4d4e3a<_0xd36ad['length'];_0x4d4e3a++)_0xd36ad[_0x4d4e3a]===this['_glTexture']&&(_0xd36ad[_0x4d4e3a]=null);}_0x4e45cb['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x229bad){this['dirtyParam'+'eterFlags']|=_0x229bad;}['initialize'](_0x2be4d7,_0x3f2e67){const _0x3a7c5c=_0x2be4d7['gl'];switch(this['_glTexture']=_0x3a7c5c['createText'+'ure'](),this['_glTarget']=_0x3f2e67['_cubemap']?_0x3a7c5c['TEXTURE_CU'+'BE_MAP']:_0x3f2e67['_volume']?_0x3a7c5c['TEXTURE_3D']:_0x3f2e67['array']?_0x3a7c5c['TEXTURE_2D'+'_ARRAY']:_0x3a7c5c['TEXTURE_2D'],_0x3f2e67['_format']){case fy:this['_glFormat']=_0x3a7c5c['ALPHA'],this['_glInterna'+'lFormat']=_0x3a7c5c['ALPHA'],this['_glPixelTy'+'pe']=_0x3a7c5c['UNSIGNED_B'+'YTE'];break;case py:this['_glFormat']=_0x3a7c5c['LUMINANCE'],this['_glInterna'+'lFormat']=_0x3a7c5c['LUMINANCE'],this['_glPixelTy'+'pe']=_0x3a7c5c['UNSIGNED_B'+'YTE'];break;case Bf:this['_glFormat']=_0x3a7c5c['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x3a7c5c['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x3a7c5c['UNSIGNED_B'+'YTE'];break;case sp:this['_glFormat']=_0x3a7c5c['RED'],this['_glInterna'+'lFormat']=_0x3a7c5c['R8'],this['_glPixelTy'+'pe']=_0x3a7c5c['UNSIGNED_B'+'YTE'];break;case ip:this['_glFormat']=_0x3a7c5c['RG'],this['_glInterna'+'lFormat']=_0x3a7c5c['RG8'],this['_glPixelTy'+'pe']=_0x3a7c5c['UNSIGNED_B'+'YTE'];break;case _c:this['_glFormat']=_0x3a7c5c['RGB'],this['_glInterna'+'lFormat']=_0x3a7c5c['RGB'],this['_glPixelTy'+'pe']=_0x3a7c5c['UNSIGNED_S'+'HORT_5_6_5'];break;case Nf:this['_glFormat']=_0x3a7c5c['RGBA'],this['_glInterna'+'lFormat']=_0x3a7c5c['RGBA'],this['_glPixelTy'+'pe']=_0x3a7c5c['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case gc:this['_glFormat']=_0x3a7c5c['RGBA'],this['_glInterna'+'lFormat']=_0x3a7c5c['RGBA'],this['_glPixelTy'+'pe']=_0x3a7c5c['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case dr:this['_glFormat']=_0x3a7c5c['RGB'],this['_glInterna'+'lFormat']=_0x3a7c5c['RGB8'],this['_glPixelTy'+'pe']=_0x3a7c5c['UNSIGNED_B'+'YTE'];break;case Se:this['_glFormat']=_0x3a7c5c['RGBA'],this['_glInterna'+'lFormat']=_0x3a7c5c['RGBA8'],this['_glPixelTy'+'pe']=_0x3a7c5c['UNSIGNED_B'+'YTE'];break;case yy:case by:v['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case yc:this['_glFormat']=_0x3a7c5c['RGB'],this['_glInterna'+'lFormat']=_0x2be4d7['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case zf:this['_glFormat']=_0x3a7c5c['RGBA'],this['_glInterna'+'lFormat']=_0x2be4d7['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case $o:this['_glFormat']=_0x3a7c5c['RGBA'],this['_glInterna'+'lFormat']=_0x2be4d7['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case bc:this['_glFormat']=_0x3a7c5c['RGB'],this['_glInterna'+'lFormat']=_0x2be4d7['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case qo:this['_glFormat']=_0x3a7c5c['RGB'],this['_glInterna'+'lFormat']=_0x2be4d7['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Xo:this['_glFormat']=_0x3a7c5c['RGBA'],this['_glInterna'+'lFormat']=_0x2be4d7['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case wc:this['_glFormat']=_0x3a7c5c['RGB'],this['_glInterna'+'lFormat']=_0x2be4d7['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case Tc:this['_glFormat']=_0x3a7c5c['RGBA'],this['_glInterna'+'lFormat']=_0x2be4d7['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case Vf:this['_glFormat']=_0x3a7c5c['RGB'],this['_glInterna'+'lFormat']=_0x2be4d7['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case Gf:this['_glFormat']=_0x3a7c5c['RGBA'],this['_glInterna'+'lFormat']=_0x2be4d7['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case my:this['_glFormat']=_0x3a7c5c['RGBA'],this['_glInterna'+'lFormat']=_0x2be4d7['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case _y:this['_glFormat']=_0x3a7c5c['RGB'],this['_glInterna'+'lFormat']=_0x2be4d7['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case gy:this['_glFormat']=_0x3a7c5c['RGBA'],this['_glInterna'+'lFormat']=_0x2be4d7['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case wy:this['_glFormat']=_0x3a7c5c['RGB'],this['_glInterna'+'lFormat']=_0x2be4d7['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case Ty:this['_glFormat']=_0x3a7c5c['RGB'],this['_glInterna'+'lFormat']=_0x2be4d7['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case Ay:this['_glFormat']=_0x3a7c5c['RGBA'],this['_glInterna'+'lFormat']=_0x2be4d7['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case mu:this['_glFormat']=_0x3a7c5c['SRGB'],this['_glInterna'+'lFormat']=_0x2be4d7['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case _u:this['_glFormat']=_0x3a7c5c['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x2be4d7['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case gu:this['_glFormat']=_0x3a7c5c['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x2be4d7['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case yu:this['_glFormat']=_0x3a7c5c['SRGB'],this['_glInterna'+'lFormat']=_0x2be4d7['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case xu:this['_glFormat']=_0x3a7c5c['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x2be4d7['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Su:this['_glFormat']=_0x3a7c5c['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x2be4d7['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case vu:this['_glFormat']=_0x3a7c5c['RGBA'],this['_glInterna'+'lFormat']=_0x2be4d7['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case Ec:this['_glFormat']=_0x3a7c5c['RED'],this['_glInterna'+'lFormat']=_0x3a7c5c['R16F'],this['_glPixelTy'+'pe']=_0x3a7c5c['HALF_FLOAT'];break;case tp:this['_glFormat']=_0x3a7c5c['RG'],this['_glInterna'+'lFormat']=_0x3a7c5c['RG16F'],this['_glPixelTy'+'pe']=_0x3a7c5c['HALF_FLOAT'];break;case xc:this['_glFormat']=_0x3a7c5c['RGB'],this['_glInterna'+'lFormat']=_0x3a7c5c['RGB16F'],this['_glPixelTy'+'pe']=_0x3a7c5c['HALF_FLOAT'];break;case Je:this['_glFormat']=_0x3a7c5c['RGBA'],this['_glInterna'+'lFormat']=_0x3a7c5c['RGBA16F'],this['_glPixelTy'+'pe']=_0x3a7c5c['HALF_FLOAT'];break;case Sc:this['_glFormat']=_0x3a7c5c['RGB'],this['_glInterna'+'lFormat']=_0x3a7c5c['RGB32F'],this['_glPixelTy'+'pe']=_0x3a7c5c['FLOAT'];break;case Ke:this['_glFormat']=_0x3a7c5c['RGBA'],this['_glInterna'+'lFormat']=_0x3a7c5c['RGBA32F'],this['_glPixelTy'+'pe']=_0x3a7c5c['FLOAT'];break;case Ii:this['_glFormat']=_0x3a7c5c['RED'],this['_glInterna'+'lFormat']=_0x3a7c5c['R32F'],this['_glPixelTy'+'pe']=_0x3a7c5c['FLOAT'];break;case Ci:this['_glFormat']=_0x3a7c5c['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x3a7c5c['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x3a7c5c['FLOAT'];break;case la:this['_glFormat']=_0x3a7c5c['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x3a7c5c['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x3a7c5c['UNSIGNED_S'+'HORT'];break;case vc:this['_glFormat']=_0x3a7c5c['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x3a7c5c['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x3a7c5c['UNSIGNED_I'+'NT_24_8'];break;case _a:this['_glFormat']=_0x3a7c5c['RGB'],this['_glInterna'+'lFormat']=_0x3a7c5c['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x3a7c5c['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case Uf:this['_glFormat']=_0x3a7c5c['RGB'],this['_glInterna'+'lFormat']=_0x3a7c5c['SRGB8'],this['_glPixelTy'+'pe']=_0x3a7c5c['UNSIGNED_B'+'YTE'];break;case rs:this['_glFormat']=_0x3a7c5c['RGBA'],this['_glInterna'+'lFormat']=_0x3a7c5c['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x3a7c5c['UNSIGNED_B'+'YTE'];break;case Hf:this['_glFormat']=_0x3a7c5c['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x3a7c5c['R8I'],this['_glPixelTy'+'pe']=_0x3a7c5c['BYTE'];break;case xy:this['_glFormat']=_0x3a7c5c['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x3a7c5c['R8UI'],this['_glPixelTy'+'pe']=_0x3a7c5c['UNSIGNED_B'+'YTE'];break;case Wf:this['_glFormat']=_0x3a7c5c['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x3a7c5c['R16I'],this['_glPixelTy'+'pe']=_0x3a7c5c['SHORT'];break;case $f:this['_glFormat']=_0x3a7c5c['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x3a7c5c['R16UI'],this['_glPixelTy'+'pe']=_0x3a7c5c['UNSIGNED_S'+'HORT'];break;case qf:this['_glFormat']=_0x3a7c5c['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x3a7c5c['R32I'],this['_glPixelTy'+'pe']=_0x3a7c5c['INT'];break;case an:this['_glFormat']=_0x3a7c5c['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x3a7c5c['R32UI'],this['_glPixelTy'+'pe']=_0x3a7c5c['UNSIGNED_I'+'NT'];break;case Xf:this['_glFormat']=_0x3a7c5c['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x3a7c5c['RG8I'],this['_glPixelTy'+'pe']=_0x3a7c5c['BYTE'];break;case Sy:this['_glFormat']=_0x3a7c5c['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x3a7c5c['RG8UI'],this['_glPixelTy'+'pe']=_0x3a7c5c['UNSIGNED_B'+'YTE'];break;case jf:this['_glFormat']=_0x3a7c5c['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x3a7c5c['RG16I'],this['_glPixelTy'+'pe']=_0x3a7c5c['SHORT'];break;case Yf:this['_glFormat']=_0x3a7c5c['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x3a7c5c['RG16UI'],this['_glPixelTy'+'pe']=_0x3a7c5c['UNSIGNED_S'+'HORT'];break;case Kf:this['_glFormat']=_0x3a7c5c['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x3a7c5c['RG32I'],this['_glPixelTy'+'pe']=_0x3a7c5c['INT'];break;case Zf:this['_glFormat']=_0x3a7c5c['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x3a7c5c['RG32UI'],this['_glPixelTy'+'pe']=_0x3a7c5c['UNSIGNED_I'+'NT'];break;case Qf:this['_glFormat']=_0x3a7c5c['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x3a7c5c['RGBA8I'],this['_glPixelTy'+'pe']=_0x3a7c5c['BYTE'];break;case vy:this['_glFormat']=_0x3a7c5c['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x3a7c5c['RGBA8UI'],this['_glPixelTy'+'pe']=_0x3a7c5c['UNSIGNED_B'+'YTE'];break;case Jf:this['_glFormat']=_0x3a7c5c['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x3a7c5c['RGBA16I'],this['_glPixelTy'+'pe']=_0x3a7c5c['SHORT'];break;case Ac:this['_glFormat']=_0x3a7c5c['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x3a7c5c['RGBA16UI'],this['_glPixelTy'+'pe']=_0x3a7c5c['UNSIGNED_S'+'HORT'];break;case ep:this['_glFormat']=_0x3a7c5c['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x3a7c5c['RGBA32I'],this['_glPixelTy'+'pe']=_0x3a7c5c['INT'];break;case ut:this['_glFormat']=_0x3a7c5c['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x3a7c5c['RGBA32UI'],this['_glPixelTy'+'pe']=_0x3a7c5c['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(-0x1*-0x236+-0xc9*0x17+0xfda);}['upload'](_0x551e53,_0x540e66){v['assert'](_0x540e66['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x540e66);const _0x385cbb=_0x551e53['gl'];if(!_0x540e66['_needsUplo'+'ad']&&(_0x540e66['_needsMipm'+'apsUpload']&&_0x540e66['_mipmapsUp'+'loaded']||!_0x540e66['pot']))return;let _0x331bfa=0x21c1*-0x1+0x24c+0x1*0x1f75,_0x2780f9,_0x1878d1;const _0x2c674d=_0x540e66['numLevels'];for(_0x540e66['array']&&_0x385cbb['texStorage'+'3D'](_0x385cbb['TEXTURE_2D'+'_ARRAY'],_0x2c674d,this['_glInterna'+'lFormat'],_0x540e66['_width'],_0x540e66['_height'],_0x540e66['_arrayLeng'+'th']);_0x540e66['_levels'][_0x331bfa]||_0x331bfa===0x7bf+0x194f+0x1087*-0x2;){if(!_0x540e66['_needsUplo'+'ad']&&_0x331bfa===-0x2*0x62f+0x111b+0x4bd*-0x1){_0x331bfa++;continue;}else{if(_0x331bfa&&(!_0x540e66['_needsMipm'+'apsUpload']||!_0x540e66['_mipmaps']))break;}if(_0x2780f9=_0x540e66['_levels'][_0x331bfa],_0x1878d1=(-0x4ae*-0x3+-0x1e3f+-0x32*-0x53)/Math['pow'](-0x50*-0x1b+0x1fce+-0x283c,_0x331bfa),_0x331bfa===-0x46*-0x79+0x1f46*-0x1+-0x1cf&&!_0x540e66['_compresse'+'d']&&!_0x540e66['_integerFo'+'rmat']&&_0x540e66['_levels']['length']<_0x2c674d&&(_0x385cbb['generateMi'+'pmap'](this['_glTarget']),_0x540e66['_mipmapsUp'+'loaded']=!(-0x1*-0x25ff+0x2415+-0x4a14)),_0x540e66['_cubemap']){let _0x5cf487;if(_0x551e53['_isBrowser'+'Interface'](_0x2780f9[0x1796+-0xbcf+0x9*-0x14f]))for(_0x5cf487=0x41c*-0x8+0x288*0xd+-0x8;_0x5cf487<0x895+-0x95e+0xcf;_0x5cf487++){if(!_0x540e66['_levelsUpd'+'ated'][-0x9b2+0x913+0x9f][_0x5cf487])continue;let _0x3a5cca=_0x2780f9[_0x5cf487];_0x551e53['_isImageBr'+'owserInter'+'face'](_0x3a5cca)&&(_0x3a5cca['width']>_0x551e53['maxCubeMap'+'Size']||_0x3a5cca['height']>_0x551e53['maxCubeMap'+'Size'])&&(_0x3a5cca=Rm(_0x3a5cca,_0x551e53['maxCubeMap'+'Size']),_0x331bfa===-0x143*0x12+-0x26*0x8d+0x2ba4&&(_0x540e66['_width']=_0x3a5cca['width'],_0x540e66['_height']=_0x3a5cca['height'])),_0x551e53['setUnpackF'+'lipY'](!(0xe17+-0x1*-0x15b5+-0x23cb)),_0x551e53['setUnpackP'+'remultiply'+'Alpha'](_0x540e66['_premultip'+'lyAlpha']),this['_glCreated']?_0x385cbb['texSubImag'+'e2D'](_0x385cbb['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5cf487,_0x331bfa,0x2502+-0x38f*-0x3+-0x3ab*0xd,-0x2113+-0x15*-0x18a+0xc1*0x1,this['_glFormat'],this['_glPixelTy'+'pe'],_0x3a5cca):_0x385cbb['texImage2D'](_0x385cbb['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5cf487,_0x331bfa,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x3a5cca);}else for(_0x1878d1=(-0x1*0x1355+0x2*-0xd6c+0x2e2e)/Math['pow'](-0xa5d+0x7c5+0x29a,_0x331bfa),_0x5cf487=0x17*0xe+0x2161+-0x22a3;_0x5cf487<-0x1*-0xb1b+0x3d*-0x49+-0x328*-0x2;_0x5cf487++){if(!_0x540e66['_levelsUpd'+'ated'][0xf7*0x3+-0x1d89*-0x1+-0x2*0x1037][_0x5cf487])continue;const _0x6c23a2=_0x2780f9[_0x5cf487];_0x540e66['_compresse'+'d']?this['_glCreated']&&_0x6c23a2?_0x385cbb['compressed'+'TexSubImag'+'e2D'](_0x385cbb['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5cf487,_0x331bfa,0x1811+-0x1bb4+-0x13*-0x31,-0xb6f+0x4fd*0x4+-0x885,Math['max'](_0x540e66['_width']*_0x1878d1,-0x4*-0x7de+-0x3f9+-0x1b7e),Math['max'](_0x540e66['_height']*_0x1878d1,-0x1941+-0x1f4+0x1b36),this['_glInterna'+'lFormat'],_0x6c23a2):_0x385cbb['compressed'+'TexImage2D'](_0x385cbb['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5cf487,_0x331bfa,this['_glInterna'+'lFormat'],Math['max'](_0x540e66['_width']*_0x1878d1,0x3d9*0x9+-0x3*0xfb+-0x1faf),Math['max'](_0x540e66['_height']*_0x1878d1,-0x1964+0x1*0x1c01+-0x29c),-0x3*-0x9f+0x9*0x118+-0xbb5,_0x6c23a2):(_0x551e53['setUnpackF'+'lipY'](!(-0x20ef*-0x1+0x1*-0x10fd+-0x247*0x7)),_0x551e53['setUnpackP'+'remultiply'+'Alpha'](_0x540e66['_premultip'+'lyAlpha']),this['_glCreated']&&_0x6c23a2?_0x385cbb['texSubImag'+'e2D'](_0x385cbb['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5cf487,_0x331bfa,-0x19fd+0xeaf+-0x2*-0x5a7,-0x1*0x1945+-0x2417+0x3d5c,Math['max'](_0x540e66['_width']*_0x1878d1,-0x2e*-0x44+0x16d9+-0x2310),Math['max'](_0x540e66['_height']*_0x1878d1,-0x1b9*0xe+-0x288+0x1aa7),this['_glFormat'],this['_glPixelTy'+'pe'],_0x6c23a2):_0x385cbb['texImage2D'](_0x385cbb['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5cf487,_0x331bfa,this['_glInterna'+'lFormat'],Math['max'](_0x540e66['_width']*_0x1878d1,0x1a58+0x3*-0x970+0x5*0x65),Math['max'](_0x540e66['_height']*_0x1878d1,0x49*-0x2a+-0x19f*0x14+0x2c67),-0xb*0x33f+0x904*-0x2+-0x1*-0x35bd,this['_glFormat'],this['_glPixelTy'+'pe'],_0x6c23a2));}}else{if(_0x540e66['_volume'])_0x540e66['_compresse'+'d']?_0x385cbb['compressed'+'TexImage3D'](_0x385cbb['TEXTURE_3D'],_0x331bfa,this['_glInterna'+'lFormat'],Math['max'](_0x540e66['_width']*_0x1878d1,-0xa31+-0x245c+-0x2*-0x1747),Math['max'](_0x540e66['_height']*_0x1878d1,-0x19f1+0x1fd*0x2+0x15f8),Math['max'](_0x540e66['_depth']*_0x1878d1,-0x321+-0x5*0x3c5+0x14b*0x11),-0x42f*-0x3+0xe*-0x15a+0x65f,_0x2780f9):(_0x551e53['setUnpackF'+'lipY'](!(-0x2400+-0x1e98+0x1633*0x3)),_0x551e53['setUnpackP'+'remultiply'+'Alpha'](_0x540e66['_premultip'+'lyAlpha']),_0x385cbb['texImage3D'](_0x385cbb['TEXTURE_3D'],_0x331bfa,this['_glInterna'+'lFormat'],Math['max'](_0x540e66['_width']*_0x1878d1,-0x217c+-0x19ba+-0x5d*-0xa3),Math['max'](_0x540e66['_height']*_0x1878d1,0x153f+0x129c+0x27da*-0x1),Math['max'](_0x540e66['_depth']*_0x1878d1,0x7*0x1f9+-0x43c*0x4+0x322),-0xbc7+0x1*-0x163f+0x2206,this['_glFormat'],this['_glPixelTy'+'pe'],_0x2780f9));else{if(_0x540e66['array']&&typeof _0x2780f9=='object'){if(_0x540e66['_arrayLeng'+'th']===_0x2780f9['length']){if(_0x540e66['_compresse'+'d']){for(let _0x4e7114=-0x1f35+-0x2190+0x40c5;_0x4e7114<_0x540e66['_arrayLeng'+'th'];_0x4e7114++)_0x385cbb['compressed'+'TexSubImag'+'e3D'](_0x385cbb['TEXTURE_2D'+'_ARRAY'],_0x331bfa,0xc32*-0x3+0x1932+0xf3*0xc,-0x1f*0xf1+0x757*0x1+0x6*0x3a4,_0x4e7114,Math['max'](Math['floor'](_0x540e66['_width']*_0x1878d1),0xa*0x1ca+-0x174b*0x1+0x568),Math['max'](Math['floor'](_0x540e66['_height']*_0x1878d1),-0x1*0xd9d+-0x1*-0x1f97+-0x6b*0x2b),0x22a9+-0x2b*-0x5+-0x237f,this['_glInterna'+'lFormat'],_0x2780f9[_0x4e7114]);}else{for(let _0x49d84d=-0x1*0xb8a+0x188a+-0xd00;_0x49d84d<_0x540e66['_arrayLeng'+'th'];_0x49d84d++)_0x385cbb['texSubImag'+'e3D'](_0x385cbb['TEXTURE_2D'+'_ARRAY'],_0x331bfa,-0x1b19+-0x11f7+-0x2*-0x1688,-0x2f4+0x1195*0x2+-0x2036,_0x49d84d,Math['max'](Math['floor'](_0x540e66['_width']*_0x1878d1),0x157e+0x805+-0x1d82),Math['max'](Math['floor'](_0x540e66['_height']*_0x1878d1),-0xde*0x23+0x1cdf+0x2*0xbe),0x113e*-0x2+-0xa*0x33+0x1*0x247b,this['_glFormat'],this['_glPixelTy'+'pe'],_0x2780f9[_0x49d84d]);}}}else{if(_0x551e53['_isBrowser'+'Interface'](_0x2780f9)){_0x551e53['_isImageBr'+'owserInter'+'face'](_0x2780f9)&&(_0x2780f9['width']>_0x551e53['maxTexture'+'Size']||_0x2780f9['height']>_0x551e53['maxTexture'+'Size'])&&(_0x2780f9=Rm(_0x2780f9,_0x551e53['maxTexture'+'Size']),_0x331bfa===0x3c7*-0x4+0x1*-0x1d35+0x2c51&&(_0x540e66['_width']=_0x2780f9['width'],_0x540e66['_height']=_0x2780f9['height']));const _0x3537e2=_0x2780f9['width']||_0x2780f9['videoWidth'],_0x594d6b=_0x2780f9['height']||_0x2780f9['videoHeigh'+'t'];_0x551e53['setUnpackF'+'lipY'](_0x540e66['_flipY']),_0x551e53['setUnpackP'+'remultiply'+'Alpha'](_0x540e66['_premultip'+'lyAlpha']),this['_glCreated']&&_0x540e66['_width']===_0x3537e2&&_0x540e66['_height']===_0x594d6b&&!_0x551e53['_isImageVi'+'deoInterfa'+'ce'](_0x2780f9)?_0x385cbb['texSubImag'+'e2D'](_0x385cbb['TEXTURE_2D'],_0x331bfa,0x285*-0x3+-0x1*0x634+0xdc3,-0xb8a+-0x20d1+0xf*0x2f5,this['_glFormat'],this['_glPixelTy'+'pe'],_0x2780f9):(_0x385cbb['texImage2D'](_0x385cbb['TEXTURE_2D'],_0x331bfa,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x2780f9),_0x331bfa===0x1*-0x2b+0x28e*-0x8+0x149b&&(_0x540e66['_width']=_0x3537e2,_0x540e66['_height']=_0x594d6b));}else _0x1878d1=(0x12be*0x2+0x747+-0x1661*0x2)/Math['pow'](-0x5c2*-0x1+0x1ff6+-0x2*0x12db,_0x331bfa),_0x540e66['_compresse'+'d']?this['_glCreated']&&_0x2780f9?_0x385cbb['compressed'+'TexSubImag'+'e2D'](_0x385cbb['TEXTURE_2D'],_0x331bfa,0x1*-0xd73+-0xc5*0x19+0x4*0x82c,0xb7f+-0x1*-0x1472+-0x1ff1,Math['max'](Math['floor'](_0x540e66['_width']*_0x1878d1),-0x153e*0x1+-0x1d*-0x1f+0x4*0x46f),Math['max'](Math['floor'](_0x540e66['_height']*_0x1878d1),0x1e4c+-0x152c+0x91f*-0x1),this['_glInterna'+'lFormat'],_0x2780f9):_0x385cbb['compressed'+'TexImage2D'](_0x385cbb['TEXTURE_2D'],_0x331bfa,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x540e66['_width']*_0x1878d1),-0x44+0x1981+-0xaa*0x26),Math['max'](Math['floor'](_0x540e66['_height']*_0x1878d1),0x7eb+0x22f*-0x3+0x1*-0x15d),0x146b+0xd4f*-0x2+0x633*0x1,_0x2780f9):(_0x551e53['setUnpackF'+'lipY'](!(0x2655+0x1449+0xbb9*-0x5)),_0x551e53['setUnpackP'+'remultiply'+'Alpha'](_0x540e66['_premultip'+'lyAlpha']),this['_glCreated']&&_0x2780f9?_0x385cbb['texSubImag'+'e2D'](_0x385cbb['TEXTURE_2D'],_0x331bfa,0xc*-0x222+-0x2227+0x3bbf,0x35*0x17+0x81*0x2d+-0x1b70,Math['max'](_0x540e66['_width']*_0x1878d1,0x4a1+0x1883+-0x1d23),Math['max'](_0x540e66['_height']*_0x1878d1,-0x100d+0xdf3+0x21b),this['_glFormat'],this['_glPixelTy'+'pe'],_0x2780f9):_0x385cbb['texImage2D'](_0x385cbb['TEXTURE_2D'],_0x331bfa,this['_glInterna'+'lFormat'],Math['max'](_0x540e66['_width']*_0x1878d1,0x1*0x16b7+0x41*-0x39+0x1*-0x83d),Math['max'](_0x540e66['_height']*_0x1878d1,-0x8f3*-0x1+-0x1*0xab5+0x1c3),0x1201+0x2093*0x1+-0x3294,this['_glFormat'],this['_glPixelTy'+'pe'],_0x2780f9));_0x331bfa===0x20a*0x6+-0xf19+0x2dd*0x1?_0x540e66['_mipmapsUp'+'loaded']=!(0xe79+0x2*-0x611+-0x256*0x1):_0x540e66['_mipmapsUp'+'loaded']=!(0xf*-0xb0+0xe8b+-0x43b);}}}_0x331bfa++;}if(_0x540e66['_needsUplo'+'ad']){if(_0x540e66['_cubemap']){for(let _0x26b611=-0x1614+0x5f1+0x1023;_0x26b611<-0x13*0x93+-0x1*-0x1b60+0x3d*-0x45;_0x26b611++)_0x540e66['_levelsUpd'+'ated'][-0x731+0x771+-0x40][_0x26b611]=!(0x1e49+0x1*0x15cf+-0x3417);}else _0x540e66['_levelsUpd'+'ated'][-0x12*0x14f+-0xfa4+-0x1399*-0x2]=!(0xfbf+0x1f8a+-0x2c8*0x11);}!_0x540e66['_compresse'+'d']&&!_0x540e66['_integerFo'+'rmat']&&_0x540e66['_mipmaps']&&_0x540e66['_needsMipm'+'apsUpload']&&_0x540e66['_levels']['length']===-0x14*0xba+0x3a8+0xae1&&(_0x385cbb['generateMi'+'pmap'](this['_glTarget']),_0x540e66['_mipmapsUp'+'loaded']=!(-0x2239*-0x1+-0x1849*0x1+-0x10*0x9f)),_0x540e66['_gpuSize']&&_0x540e66['adjustVram'+'SizeTracki'+'ng'](_0x551e53['_vram'],-_0x540e66['_gpuSize']),_0x540e66['_gpuSize']=_0x540e66['gpuSize'],_0x540e66['adjustVram'+'SizeTracki'+'ng'](_0x551e53['_vram'],_0x540e66['_gpuSize']),this['_glCreated']=!(0x1fe7+-0x1356+-0xc91);}['read'](_0x2f0fc1,_0x5beb63,_0x3572d7,_0x447cf1,_0x4a5251){const _0x36ec5e=this['texture'];return _0x36ec5e['device']['readTextur'+'eAsync'](_0x36ec5e,_0x2f0fc1,_0x5beb63,_0x3572d7,_0x447cf1,_0x4a5251);}}class cb{constructor(_0x1b4da7,_0x24df8d){c(this,'msaaFB'),c(this,'resolveFB'),(this['msaaFB']=_0x1b4da7,this['resolveFB']=_0x24df8d);}['destroy'](_0x506e69){this['msaaFB']&&(_0x506e69['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x506e69['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class db{constructor(){c(this,'_glFrameBu'+'ffer',null),c(this,'_glDepthBu'+'ffer',null),c(this,'_glResolve'+'FrameBuffe'+'r',null),c(this,'colorMrtFr'+'amebuffers',null),c(this,'_glMsaaCol'+'orBuffers',[]),c(this,'_glMsaaDep'+'thBuffer',null),c(this,'msaaDepthB'+'ufferKey'),c(this,'suppliedCo'+'lorFramebu'+'ffer'),c(this,'_isInitial'+'ized',!(0x1*0x5ae+-0x20f5+0x1b48));}['destroy'](_0x591260){var _0x10af68;const _0x461e37=_0x591260['gl'];this['_isInitial'+'ized']=!(0x1f*-0x83+0x1c46+-0x2*0x634),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x461e37['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x461e37['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x461e37['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x13334c=>{_0x461e37['deleteRend'+'erbuffer'](_0x13334c);}),this['_glMsaaCol'+'orBuffers']['length']=-0x6fe+0xd9*-0x28+-0x82e*-0x5,(_0x10af68=this['colorMrtFr'+'amebuffers'])==null||_0x10af68['forEach'](_0x48bc41=>{_0x48bc41['destroy'](_0x461e37);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&od(_0x591260)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(0x1244+0x1101+-0x2345);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x299f5c,_0x466386){var _0x35ae35,_0xd19910;const _0x3ef24f=_0x299f5c['gl'];v['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(0x1d0b+-0xfc3+0xd48*-0x1);const _0x41ce8c=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x1d39+0xbb7*-0x2+0x1*-0x5cb))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{v['call'](()=>{(_0x466386['width']<=0x458+0x4d9*-0x1+-0x1*-0x81||_0x466386['height']<=0x11b3*0x1+0x1568+0x3*-0xd09)&&v['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x466386['width']+'\x20x\x20'+_0x466386['height'],_0x466386);}),this['_glFrameBu'+'ffer']=_0x3ef24f['createFram'+'ebuffer'](),_0x299f5c['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x2b7067=((_0x35ae35=_0x466386['_colorBuff'+'ers'])==null?void(-0x9e*0xc+0x3fb*0x1+0x36d):_0x35ae35['length'])??-0x59d+0x3*-0x50e+-0x14c7*-0x1,_0x1c0247=_0x3ef24f['COLOR_ATTA'+'CHMENT0'];for(let _0x4d5741=0x2cc+-0x168b+0x13bf;_0x4d5741<_0x2b7067;++_0x4d5741){const _0xc8223=_0x466386['getColorBu'+'ffer'](_0x4d5741);_0xc8223&&(_0xc8223['impl']['_glTexture']||(_0xc8223['_width']=Math['min'](_0xc8223['width'],_0x299f5c['maxRenderB'+'ufferSize']),_0xc8223['_height']=Math['min'](_0xc8223['height'],_0x299f5c['maxRenderB'+'ufferSize']),_0x299f5c['setTexture'](_0xc8223,0x1e7d+-0x1*0x1777+-0x706)),_0x3ef24f['framebuffe'+'rTexture2D'](_0x3ef24f['FRAMEBUFFE'+'R'],_0x1c0247+_0x4d5741,_0xc8223['_cubemap']?_0x3ef24f['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x466386['_face']:_0x3ef24f['TEXTURE_2D'],_0xc8223['impl']['_glTexture'],_0x466386['mipLevel']),_0x41ce8c['push'](_0x1c0247+_0x4d5741));}_0x3ef24f['drawBuffer'+'s'](_0x41ce8c);const _0x331c42=_0x466386['_depthBuff'+'er'];if(_0x331c42||_0x466386['_depth']){const _0x3c5ac7=_0x466386['_stencil']?_0x3ef24f['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x3ef24f['DEPTH_ATTA'+'CHMENT'];if(_0x331c42)_0x331c42['impl']['_glTexture']||(_0x331c42['_width']=Math['min'](_0x331c42['width'],_0x299f5c['maxRenderB'+'ufferSize']),_0x331c42['_height']=Math['min'](_0x331c42['height'],_0x299f5c['maxRenderB'+'ufferSize']),_0x299f5c['setTexture'](_0x331c42,-0x15a+0xecc*0x2+-0x1c3e)),_0x3ef24f['framebuffe'+'rTexture2D'](_0x3ef24f['FRAMEBUFFE'+'R'],_0x3c5ac7,_0x331c42['_cubemap']?_0x3ef24f['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x466386['_face']:_0x3ef24f['TEXTURE_2D'],_0x466386['_depthBuff'+'er']['impl']['_glTexture'],_0x466386['mipLevel']);else{if(!(_0x466386['_samples']>0xe2*0xb+-0x390+-0x625)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x3ef24f['createRend'+'erbuffer']());const _0x45650d=_0x466386['_stencil']?_0x3ef24f['DEPTH24_ST'+'ENCIL8']:_0x3ef24f['DEPTH_COMP'+'ONENT32F'];_0x3ef24f['bindRender'+'buffer'](_0x3ef24f['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x3ef24f['renderbuff'+'erStorage'](_0x3ef24f['RENDERBUFF'+'ER'],_0x45650d,_0x466386['width'],_0x466386['height']),_0x3ef24f['framebuffe'+'rRenderbuf'+'fer'](_0x3ef24f['FRAMEBUFFE'+'R'],_0x3c5ac7,_0x3ef24f['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x3ef24f['bindRender'+'buffer'](_0x3ef24f['RENDERBUFF'+'ER'],null);}}}v['call'](()=>this['_checkFbo'](_0x299f5c,_0x466386));}if(_0x466386['_samples']>0x1bf2+-0x47*0x76+-0xaf*-0x7){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x3ef24f['createFram'+'ebuffer'](),_0x299f5c['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x1077ca=((_0xd19910=_0x466386['_colorBuff'+'ers'])==null?void(0x1d96+-0xfc8+-0xdce):_0xd19910['length'])??-0x1*-0x8f9+-0x5*-0x5c6+-0x25d7;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x1*0x20d+0xb48+-0x93b)){const _0x1b0c0e=_0x3ef24f['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x1b0c0e);const _0x1571bf=_0x299f5c['backBuffer'+'Format']===Se?_0x3ef24f['RGBA8']:_0x3ef24f['RGB8'];_0x3ef24f['bindRender'+'buffer'](_0x3ef24f['RENDERBUFF'+'ER'],_0x1b0c0e),_0x3ef24f['renderbuff'+'erStorageM'+'ultisample'](_0x3ef24f['RENDERBUFF'+'ER'],_0x466386['_samples'],_0x1571bf,_0x466386['width'],_0x466386['height']),_0x3ef24f['framebuffe'+'rRenderbuf'+'fer'](_0x3ef24f['FRAMEBUFFE'+'R'],_0x3ef24f['COLOR_ATTA'+'CHMENT0'],_0x3ef24f['RENDERBUFF'+'ER'],_0x1b0c0e);}else for(let _0x1c0b8f=-0xb57*0x3+-0x1a14+-0x3c19*-0x1;_0x1c0b8f<_0x1077ca;++_0x1c0b8f){const _0x8da755=_0x466386['getColorBu'+'ffer'](_0x1c0b8f);if(_0x8da755){const _0x31b2f2=_0x3ef24f['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x31b2f2),_0x3ef24f['bindRender'+'buffer'](_0x3ef24f['RENDERBUFF'+'ER'],_0x31b2f2),_0x3ef24f['renderbuff'+'erStorageM'+'ultisample'](_0x3ef24f['RENDERBUFF'+'ER'],_0x466386['_samples'],_0x8da755['impl']['_glInterna'+'lFormat'],_0x466386['width'],_0x466386['height']),_0x3ef24f['framebuffe'+'rRenderbuf'+'fer'](_0x3ef24f['FRAMEBUFFE'+'R'],_0x3ef24f['COLOR_ATTA'+'CHMENT0']+_0x1c0b8f,_0x3ef24f['RENDERBUFF'+'ER'],_0x31b2f2);}}if(_0x466386['_depth']){v['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x56285f=_0x466386['_stencil']?_0x3ef24f['DEPTH24_ST'+'ENCIL8']:_0x3ef24f['DEPTH_COMP'+'ONENT32F'],_0x4d77d7=_0x466386['_stencil']?_0x3ef24f['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x3ef24f['DEPTH_ATTA'+'CHMENT'];let _0x4d0518;const _0x4ab8dc=_0x466386['_depthBuff'+'er'];_0x4ab8dc&&(_0x4d0518=_0x4ab8dc['id']+':'+_0x466386['width']+':'+_0x466386['height']+':'+_0x466386['_samples']+':'+_0x56285f+':'+_0x4d77d7,this['_glMsaaDep'+'thBuffer']=od(_0x299f5c)['get'](_0x4d0518)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x3ef24f['createRend'+'erbuffer'](),_0x3ef24f['bindRender'+'buffer'](_0x3ef24f['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x3ef24f['renderbuff'+'erStorageM'+'ultisample'](_0x3ef24f['RENDERBUFF'+'ER'],_0x466386['_samples'],_0x56285f,_0x466386['width'],_0x466386['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x3ef24f['deleteRend'+'erbuffer'](this);},_0x4ab8dc&&od(_0x299f5c)['set'](_0x4d0518,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x4d0518,_0x3ef24f['framebuffe'+'rRenderbuf'+'fer'](_0x3ef24f['FRAMEBUFFE'+'R'],_0x4d77d7,_0x3ef24f['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}v['call'](()=>this['_checkFbo'](_0x299f5c,_0x466386,'MSAA')),_0x1077ca>-0x14a2*0x1+0x13e4+0xbf&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x299f5c,_0x466386,_0x1077ca),_0x299f5c['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x3ef24f['drawBuffer'+'s'](_0x41ce8c));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x5ddd1c,_0x30fb90,_0x490e6d){const _0x492ff4=_0x5ddd1c['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x1c42ee=-0x2033*0x1+-0x15d3*-0x1+0xa60;_0x1c42ee<_0x490e6d;++_0x1c42ee){const _0x333fde=_0x30fb90['getColorBu'+'ffer'](_0x1c42ee),_0x4ab23b=_0x492ff4['createFram'+'ebuffer']();_0x5ddd1c['setFramebu'+'ffer'](_0x4ab23b);const _0x2d9e83=this['_glMsaaCol'+'orBuffers'][_0x1c42ee];_0x492ff4['bindRender'+'buffer'](_0x492ff4['RENDERBUFF'+'ER'],_0x2d9e83),_0x492ff4['renderbuff'+'erStorageM'+'ultisample'](_0x492ff4['RENDERBUFF'+'ER'],_0x30fb90['_samples'],_0x333fde['impl']['_glInterna'+'lFormat'],_0x30fb90['width'],_0x30fb90['height']),_0x492ff4['framebuffe'+'rRenderbuf'+'fer'](_0x492ff4['FRAMEBUFFE'+'R'],_0x492ff4['COLOR_ATTA'+'CHMENT0'],_0x492ff4['RENDERBUFF'+'ER'],_0x2d9e83),_0x492ff4['drawBuffer'+'s']([_0x492ff4['COLOR_ATTA'+'CHMENT0']]),v['call'](()=>this['_checkFbo'](_0x5ddd1c,_0x30fb90,'MSAA-MRT-s'+'rc'+_0x1c42ee));const _0x5b73f9=_0x492ff4['createFram'+'ebuffer']();_0x5ddd1c['setFramebu'+'ffer'](_0x5b73f9),_0x492ff4['framebuffe'+'rTexture2D'](_0x492ff4['FRAMEBUFFE'+'R'],_0x492ff4['COLOR_ATTA'+'CHMENT0'],_0x333fde['_cubemap']?_0x492ff4['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x30fb90['_face']:_0x492ff4['TEXTURE_2D'],_0x333fde['impl']['_glTexture'],0x1*0x95+-0x1*-0x209+-0x5*0x86),this['colorMrtFr'+'amebuffers'][_0x1c42ee]=new cb(_0x4ab23b,_0x5b73f9),v['call'](()=>this['_checkFbo'](_0x5ddd1c,_0x30fb90,'MSAA-MRT-d'+'st'+_0x1c42ee));}}['_checkFbo'](_0x3c06d5,_0x1fb91c,_0x2fc4e6=''){const _0x1d48ea=_0x3c06d5['gl'],_0xe5dfc6=_0x1d48ea['checkFrame'+'bufferStat'+'us'](_0x1d48ea['FRAMEBUFFE'+'R']);let _0x59ee5e;switch(_0xe5dfc6){case _0x1d48ea['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x59ee5e='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x1d48ea['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x59ee5e='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x1d48ea['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x59ee5e='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x1d48ea['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x59ee5e='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}v['assert'](!_0x59ee5e,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x59ee5e+(',\x20render\x20t'+'arget:\x20')+_0x1fb91c['name']+'\x20'+_0x2fc4e6,_0x1fb91c);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=-0x197a*-0x1+-0x13f*-0x9+-0x24b1,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(-0xea1+-0x98e*0x2+-0xb3f*-0x3),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x1097+0x1cb6+0x6b*-0x1d),this['_isInitial'+'ized']=!(-0xb*-0xf9+-0x5*-0x36d+-0x11*0x1a3);}['internalRe'+'solve'](_0x5c77b1,_0x1022c6,_0x11dbee,_0x5b3c2e,_0x1bfc16){v['assert'](_0x1022c6!==_0x11dbee,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x5c77b1['setScissor'](0x1*-0x358+0xae5*0x1+-0x78d,0xaa*0xa+0x3*0x86a+-0x1fe2,_0x5b3c2e['width'],_0x5b3c2e['height']);const _0x5b1e11=_0x5c77b1['gl'];_0x5b1e11['bindFrameb'+'uffer'](_0x5b1e11['READ_FRAME'+'BUFFER'],_0x1022c6),_0x5b1e11['bindFrameb'+'uffer'](_0x5b1e11['DRAW_FRAME'+'BUFFER'],_0x11dbee),_0x5b1e11['blitFrameb'+'uffer'](-0x1696+0x2246+-0xbb0*0x1,-0x1b9c+0x2533+-0x997,_0x5b3c2e['width'],_0x5b3c2e['height'],0x207e+-0x1*-0x23d7+-0x4455,-0x2*0x1026+0x251*0x3+0x1959,_0x5b3c2e['width'],_0x5b3c2e['height'],_0x1bfc16,_0x5b1e11['NEAREST']);}['resolve'](_0x32c74d,_0x186774,_0x37283b,_0x2588c2){const _0x281e61=_0x32c74d['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x37283b)for(let _0x4e66e9=0x2707+-0x11f3+0x545*-0x4;_0x4e66e9<this['colorMrtFr'+'amebuffers']['length'];_0x4e66e9++){const _0x1d6a14=this['colorMrtFr'+'amebuffers'][_0x4e66e9];G['pushGpuMar'+'ker'](_0x32c74d,'RESOLVE-MR'+'T'+_0x4e66e9),this['internalRe'+'solve'](_0x32c74d,_0x1d6a14['msaaFB'],_0x1d6a14['resolveFB'],_0x186774,_0x281e61['COLOR_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x32c74d);}_0x2588c2&&(G['pushGpuMar'+'ker'](_0x32c74d,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x32c74d,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x186774,_0x281e61['DEPTH_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x32c74d));}else G['pushGpuMar'+'ker'](_0x32c74d,'RESOLVE'),this['internalRe'+'solve'](_0x32c74d,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x186774,(_0x37283b?_0x281e61['COLOR_BUFF'+'ER_BIT']:-0x2e9*-0x9+0xe71*0x1+-0x28a2)|(_0x2588c2?_0x281e61['DEPTH_BUFF'+'ER_BIT']:0x190f+0x136a+-0x8e5*0x5)),G['popGpuMark'+'er'](_0x32c74d);_0x281e61['bindFrameb'+'uffer'](_0x281e61['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class ub{constructor(){c(this,'renderVers'+'ion'),c(this,'queries',[]);}['destroy'](_0x2045df){this['queries']['forEach'](_0x15ed22=>_0x2045df['deleteQuer'+'y'](_0x15ed22)),this['queries']=null;}}class fb extends tb{constructor(_0x5c9454){super(),c(this,'device'),c(this,'freeQuerie'+'s',[]),c(this,'frameQueri'+'es',[]),c(this,'previousFr'+'ameQueries',[]),c(this,'timings',[]),(this['device']=_0x5c9454,this['ext']=_0x5c9454['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0xa0ad9b=>this['device']['gl']['deleteQuer'+'y'](_0xa0ad9b)),this['frameQueri'+'es']['forEach'](_0x460fb0=>this['device']['gl']['deleteQuer'+'y'](_0x460fb0)),this['previousFr'+'ameQueries']['forEach'](_0x447af5=>_0x447af5['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x38d8b7){if(this['ext']){const _0xb7e58a=this['getSlot'](_0x38d8b7),_0x543cdd=this['getQuery']();return this['frameQueri'+'es'][_0xb7e58a]=_0x543cdd,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x543cdd),_0xb7e58a;}}['end'](_0x35ce31){_0x35ce31!==void(0x7*-0x443+0x61*0x4e+0x47)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x298134=this['ext'],_0x46f983=this['device']['gl'],_0x373219=this['device']['renderVers'+'ion'],_0x53ecbb=this['frameQueri'+'es'];if(_0x53ecbb['length']>-0x19d3*-0x1+-0xe6*0x1b+0x191*-0x1){this['frameQueri'+'es']=[];const _0x11c566=new ub();_0x11c566['queries']=_0x53ecbb,_0x11c566['renderVers'+'ion']=_0x373219,this['previousFr'+'ameQueries']['push'](_0x11c566);}if(this['previousFr'+'ameQueries']['length']>0x1*-0x185b+0x2*0x7c9+0xad*0xd){const _0x1ef620=this['previousFr'+'ameQueries'][0x479*-0x5+-0xfda+-0x43f*-0x9],_0x424995=_0x1ef620['queries'],_0x33469c=_0x424995[_0x424995['length']-(0x1*0x1ef8+0x89b*-0x1+-0x165c)],_0x43b06d=_0x46f983['getQueryPa'+'rameter'](_0x33469c,_0x46f983['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x1c34d2=_0x46f983['getParamet'+'er'](_0x298134['GPU_DISJOI'+'NT_EXT']);if(_0x43b06d&&!_0x1c34d2){this['previousFr'+'ameQueries']['shift']();const _0x2e045b=this['timings'];_0x2e045b['length']=-0x1*-0x862+0x897+-0x10f9;for(let _0x476168=0x2524+-0x45*0x34+0xa*-0x250;_0x476168<_0x424995['length'];_0x476168++){const _0x2192d6=_0x424995[_0x476168],_0x31ce32=_0x46f983['getQueryPa'+'rameter'](_0x2192d6,_0x46f983['QUERY_RESU'+'LT']);_0x2e045b[_0x476168]=_0x31ce32*(0xc*0x7+0x18e9+-0x47*0x5b+0.000001),this['freeQuerie'+'s']['push'](_0x2192d6);}this['report'](_0x1ef620['renderVers'+'ion'],_0x2e045b);}_0x1c34d2&&(this['previousFr'+'ameQueries']['forEach'](_0x72abe0=>{this['report'](_0x72abe0['renderVers'+'ion'],null),_0x72abe0['destroy'](_0x46f983);}),this['previousFr'+'ameQueries']['length']=-0x1afb+-0xf*-0x7c+0x67*0x31);}super['request'](_0x373219);}}}const Tn=[];class pb extends Fh{constructor(_0x5773d7,_0x3ddf82={}){super(_0x5773d7,_0x3ddf82),c(this,'gl'),c(this,'_defaultFr'+'amebuffer',null),c(this,'_defaultFr'+'amebufferC'+'hanged',!(-0x5*0x584+0x101f+0xb76)),(_0x3ddf82=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(0x1*-0xf0e+-0x86b*0x3+0x2850),this['_contextLo'+'stHandler']=_0x27eb48=>{_0x27eb48['preventDef'+'ault'](),this['loseContex'+'t'](),v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x9e5af9=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x9e5af9&&_0x9e5af9['includes']('AppleWebKi'+'t')&&(_0x9e5af9['includes']('15.4')||_0x9e5af9['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x3ddf82['antialias']=!(0x1b2b+0x1*-0x1f5f+-0x435*-0x1),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),ye['browserNam'+'e']==='firefox'){const _0x186ba9=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x5b7582=_0x186ba9?_0x186ba9[0x56b*0x2+0x1da2+-0x2877]:null;if(_0x5b7582){const _0x4441fd=parseFloat(_0x5b7582);(ye['name']==='windows'&&(_0x4441fd>=0x1fe+0xcf+-0x255*0x1||_0x4441fd===0x3a6+0x1*0x6bd+-0x9f0*0x1)||ye['name']==='android'&&_0x4441fd>=-0x3bf*0x1+-0x16c9+0x1b0c)&&(_0x3ddf82['antialias']=!(-0x1*-0x26f5+0x1*0x2502+-0x4bf6),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+ye['name']+('\x20platform\x20'+'version\x20')+_0x5b7582));}}this['backBuffer'+'Antialias']=_0x3ddf82['antialias']??!(0x907*-0x1+0x2*0xa31+-0xb5a),_0x3ddf82['antialias']=!(0x23e0+0xd8b+0x6e*-0x73);const _0x1c0e88=_0x3ddf82['gl']??_0x5773d7['getContext']('webgl2',_0x3ddf82);if(!_0x1c0e88)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x1c0e88,this['isWebGL2']=!(-0x1dda*-0x1+-0x63b+-0x179f),this['_deviceTyp'+'e']=mv,this['updateBack'+'bufferForm'+'at'](null);const _0xe9d198=ye['browserNam'+'e']==='chrome',_0x55e054=ye['browserNam'+'e']==='safari',_0x10b736=ye['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(0x1f33+-0x1dd3+0x1b*-0xd);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x55e054,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x10b736&&_0xe9d198&&!_0x3ddf82['alpha'],_0x5773d7['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x4d*0x21+-0x1e77+-0x1*-0x148b)),_0x5773d7['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x24d7*-0x1+0x2015+-0x1*-0x4c3)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x55e054&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x1c0e88['SAMPLER_2D'],_0x1c0e88['SAMPLER_CU'+'BE'],_0x1c0e88['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x1c0e88['INT_SAMPLE'+'R_2D'],_0x1c0e88['SAMPLER_2D'+'_SHADOW'],_0x1c0e88['SAMPLER_CU'+'BE_SHADOW'],_0x1c0e88['SAMPLER_3D'],_0x1c0e88['INT_SAMPLE'+'R_3D'],_0x1c0e88['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x1c0e88['SAMPLER_2D'+'_ARRAY'],_0x1c0e88['INT_SAMPLE'+'R_2D_ARRAY'],_0x1c0e88['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x1c0e88['REPEAT'],_0x1c0e88['CLAMP_TO_E'+'DGE'],_0x1c0e88['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x1c0e88['FUNC_ADD'],_0x1c0e88['FUNC_SUBTR'+'ACT'],_0x1c0e88['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x1c0e88['MIN'],_0x1c0e88['MAX']],this['glBlendFun'+'ctionColor']=[_0x1c0e88['ZERO'],_0x1c0e88['ONE'],_0x1c0e88['SRC_COLOR'],_0x1c0e88['ONE_MINUS_'+'SRC_COLOR'],_0x1c0e88['DST_COLOR'],_0x1c0e88['ONE_MINUS_'+'DST_COLOR'],_0x1c0e88['SRC_ALPHA'],_0x1c0e88['SRC_ALPHA_'+'SATURATE'],_0x1c0e88['ONE_MINUS_'+'SRC_ALPHA'],_0x1c0e88['DST_ALPHA'],_0x1c0e88['ONE_MINUS_'+'DST_ALPHA'],_0x1c0e88['CONSTANT_C'+'OLOR'],_0x1c0e88['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x1c0e88['ZERO'],_0x1c0e88['ONE'],_0x1c0e88['SRC_COLOR'],_0x1c0e88['ONE_MINUS_'+'SRC_COLOR'],_0x1c0e88['DST_COLOR'],_0x1c0e88['ONE_MINUS_'+'DST_COLOR'],_0x1c0e88['SRC_ALPHA'],_0x1c0e88['SRC_ALPHA_'+'SATURATE'],_0x1c0e88['ONE_MINUS_'+'SRC_ALPHA'],_0x1c0e88['DST_ALPHA'],_0x1c0e88['ONE_MINUS_'+'DST_ALPHA'],_0x1c0e88['CONSTANT_A'+'LPHA'],_0x1c0e88['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x1c0e88['NEVER'],_0x1c0e88['LESS'],_0x1c0e88['EQUAL'],_0x1c0e88['LEQUAL'],_0x1c0e88['GREATER'],_0x1c0e88['NOTEQUAL'],_0x1c0e88['GEQUAL'],_0x1c0e88['ALWAYS']],this['glStencilO'+'p']=[_0x1c0e88['KEEP'],_0x1c0e88['ZERO'],_0x1c0e88['REPLACE'],_0x1c0e88['INCR'],_0x1c0e88['INCR_WRAP'],_0x1c0e88['DECR'],_0x1c0e88['DECR_WRAP'],_0x1c0e88['INVERT']],this['glClearFla'+'g']=[0x1d98+0xa99+0x2831*-0x1,_0x1c0e88['COLOR_BUFF'+'ER_BIT'],_0x1c0e88['DEPTH_BUFF'+'ER_BIT'],_0x1c0e88['COLOR_BUFF'+'ER_BIT']|_0x1c0e88['DEPTH_BUFF'+'ER_BIT'],_0x1c0e88['STENCIL_BU'+'FFER_BIT'],_0x1c0e88['STENCIL_BU'+'FFER_BIT']|_0x1c0e88['COLOR_BUFF'+'ER_BIT'],_0x1c0e88['STENCIL_BU'+'FFER_BIT']|_0x1c0e88['DEPTH_BUFF'+'ER_BIT'],_0x1c0e88['STENCIL_BU'+'FFER_BIT']|_0x1c0e88['COLOR_BUFF'+'ER_BIT']|_0x1c0e88['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[-0x50c+0x1be7+-0x16db*0x1,_0x1c0e88['BACK'],_0x1c0e88['FRONT'],_0x1c0e88['FRONT_AND_'+'BACK']],this['glFilter']=[_0x1c0e88['NEAREST'],_0x1c0e88['LINEAR'],_0x1c0e88['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x1c0e88['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x1c0e88['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x1c0e88['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x1c0e88['POINTS'],_0x1c0e88['LINES'],_0x1c0e88['LINE_LOOP'],_0x1c0e88['LINE_STRIP'],_0x1c0e88['TRIANGLES'],_0x1c0e88['TRIANGLE_S'+'TRIP'],_0x1c0e88['TRIANGLE_F'+'AN']],this['glType']=[_0x1c0e88['BYTE'],_0x1c0e88['UNSIGNED_B'+'YTE'],_0x1c0e88['SHORT'],_0x1c0e88['UNSIGNED_S'+'HORT'],_0x1c0e88['INT'],_0x1c0e88['UNSIGNED_I'+'NT'],_0x1c0e88['FLOAT'],_0x1c0e88['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x1c0e88['BOOL']]=ca,this['pcUniformT'+'ype'][_0x1c0e88['INT']]=ln,this['pcUniformT'+'ype'][_0x1c0e88['FLOAT']]=$s,this['pcUniformT'+'ype'][_0x1c0e88['FLOAT_VEC2']]=or,this['pcUniformT'+'ype'][_0x1c0e88['FLOAT_VEC3']]=$t,this['pcUniformT'+'ype'][_0x1c0e88['FLOAT_VEC4']]=xa,this['pcUniformT'+'ype'][_0x1c0e88['INT_VEC2']]=Zr,this['pcUniformT'+'ype'][_0x1c0e88['INT_VEC3']]=Qr,this['pcUniformT'+'ype'][_0x1c0e88['INT_VEC4']]=Jr,this['pcUniformT'+'ype'][_0x1c0e88['BOOL_VEC2']]=Lo,this['pcUniformT'+'ype'][_0x1c0e88['BOOL_VEC3']]=Fo,this['pcUniformT'+'ype'][_0x1c0e88['BOOL_VEC4']]=Oo,this['pcUniformT'+'ype'][_0x1c0e88['FLOAT_MAT2']]=Rh,this['pcUniformT'+'ype'][_0x1c0e88['FLOAT_MAT3']]=ko,this['pcUniformT'+'ype'][_0x1c0e88['FLOAT_MAT4']]=Sa,this['pcUniformT'+'ype'][_0x1c0e88['SAMPLER_2D']]=JS,this['pcUniformT'+'ype'][_0x1c0e88['SAMPLER_CU'+'BE']]=ev,this['pcUniformT'+'ype'][_0x1c0e88['UNSIGNED_I'+'NT']]=va,this['pcUniformT'+'ype'][_0x1c0e88['UNSIGNED_I'+'NT_VEC2']]=ba,this['pcUniformT'+'ype'][_0x1c0e88['UNSIGNED_I'+'NT_VEC3']]=wa,this['pcUniformT'+'ype'][_0x1c0e88['UNSIGNED_I'+'NT_VEC4']]=Ta,this['pcUniformT'+'ype'][_0x1c0e88['SAMPLER_2D'+'_SHADOW']]=tv,this['pcUniformT'+'ype'][_0x1c0e88['SAMPLER_CU'+'BE_SHADOW']]=sv,this['pcUniformT'+'ype'][_0x1c0e88['SAMPLER_2D'+'_ARRAY']]=rv,this['pcUniformT'+'ype'][_0x1c0e88['SAMPLER_3D']]=iv,this['pcUniformT'+'ype'][_0x1c0e88['INT_SAMPLE'+'R_2D']]=nv,this['pcUniformT'+'ype'][_0x1c0e88['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=av,this['pcUniformT'+'ype'][_0x1c0e88['INT_SAMPLE'+'R_CUBE']]=ov,this['pcUniformT'+'ype'][_0x1c0e88['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=lv,this['pcUniformT'+'ype'][_0x1c0e88['INT_SAMPLE'+'R_3D']]=hv,this['pcUniformT'+'ype'][_0x1c0e88['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=cv,this['pcUniformT'+'ype'][_0x1c0e88['INT_SAMPLE'+'R_2D_ARRAY']]=dv,this['pcUniformT'+'ype'][_0x1c0e88['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=uv,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x1c0e88['TEXTURE_2D']]=0xc32+0x21c5+-0x2df7,this['targetToSl'+'ot'][_0x1c0e88['TEXTURE_CU'+'BE_MAP']]=-0xe4e+-0x194+0xfe3,this['targetToSl'+'ot'][_0x1c0e88['TEXTURE_3D']]=-0x37a*-0x7+0xa*-0xe0+-0xf94;let _0xf13fdb,_0x1a6aec,_0x2f7ad0,_0x566f1b,_0x1a705a;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][ca]=function(_0x5c5cac,_0x4f3f21){_0x5c5cac['value']!==_0x4f3f21&&(_0x1c0e88['uniform1i'](_0x5c5cac['locationId'],_0x4f3f21),_0x5c5cac['value']=_0x4f3f21);},this['commitFunc'+'tion'][ln]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][$s]=function(_0x5f2143,_0x218188){_0x5f2143['value']!==_0x218188&&(_0x1c0e88['uniform1f'](_0x5f2143['locationId'],_0x218188),_0x5f2143['value']=_0x218188);},this['commitFunc'+'tion'][or]=function(_0x3d0e3c,_0x2824d4){_0x1a705a=_0x3d0e3c['value'],_0xf13fdb=_0x2824d4[0x1c89+0x1*0xd9a+0x1d5*-0x17],_0x1a6aec=_0x2824d4[-0xe*0x2b4+0xf3*0x27+0xd4],(_0x1a705a[0x17de+-0x1d49+0x56b]!==_0xf13fdb||_0x1a705a[0x17a6+0x6c1+-0xf33*0x2]!==_0x1a6aec)&&(_0x1c0e88['uniform2fv'](_0x3d0e3c['locationId'],_0x2824d4),_0x1a705a[-0x180b+0x3*-0xb4f+-0x8c*-0x6a]=_0xf13fdb,_0x1a705a[0x38a*0x4+0x9*0x121+-0x1850]=_0x1a6aec);},this['commitFunc'+'tion'][$t]=function(_0x227864,_0x4776f0){_0x1a705a=_0x227864['value'],_0xf13fdb=_0x4776f0[0x1*0x19a4+0x237a+-0x3d1e],_0x1a6aec=_0x4776f0[-0x71*0x47+-0x960+0x28b8],_0x2f7ad0=_0x4776f0[0x1b2d+0x2531+-0x405c],(_0x1a705a[-0xb*-0x129+0x2*-0x860+0x3fd]!==_0xf13fdb||_0x1a705a[0x1bdd+-0xaa*-0x25+-0x346e]!==_0x1a6aec||_0x1a705a[0x26b*-0x9+0x111e+0x4a7]!==_0x2f7ad0)&&(_0x1c0e88['uniform3fv'](_0x227864['locationId'],_0x4776f0),_0x1a705a[-0xb39*0x1+-0xf2e+0x1a67*0x1]=_0xf13fdb,_0x1a705a[0x1246*-0x1+-0x1875+0x1*0x2abc]=_0x1a6aec,_0x1a705a[-0x5c6*0x4+0x1*0x667+0x19*0xab]=_0x2f7ad0);},this['commitFunc'+'tion'][xa]=function(_0x1d92dc,_0x181f91){_0x1a705a=_0x1d92dc['value'],_0xf13fdb=_0x181f91[0x1*-0x476+0x299*0x7+-0xdb9],_0x1a6aec=_0x181f91[0x1a01+-0x24a1*0x1+0xaa1],_0x2f7ad0=_0x181f91[-0x18ac+-0x1896+-0x106c*-0x3],_0x566f1b=_0x181f91[0x1*-0x1681+-0x3f3+0x1a77],(_0x1a705a[-0xc09+0x135+0xad4]!==_0xf13fdb||_0x1a705a[0x205e+-0x9*0x241+0x4*-0x305]!==_0x1a6aec||_0x1a705a[-0x22ed*-0x1+-0x12c6*0x2+0x2a1]!==_0x2f7ad0||_0x1a705a[-0x2608+0xa0f*0x1+0xc*0x255]!==_0x566f1b)&&(_0x1c0e88['uniform4fv'](_0x1d92dc['locationId'],_0x181f91),_0x1a705a[-0xb57*0x1+0x1a9e*0x1+-0x1*0xf47]=_0xf13fdb,_0x1a705a[0x1*0x50e+-0x1*-0x1317+-0x1824]=_0x1a6aec,_0x1a705a[-0x270a*-0x1+0x1*0xee8+0x6be*-0x8]=_0x2f7ad0,_0x1a705a[0x4*-0x54d+-0x1a89*0x1+-0x2fc*-0x10]=_0x566f1b);},this['commitFunc'+'tion'][Zr]=function(_0x3d4068,_0x55c949){_0x1a705a=_0x3d4068['value'],_0xf13fdb=_0x55c949[-0x23f0+0xf97+0x1459],_0x1a6aec=_0x55c949[-0x7d8+0x1f40+-0x1767],(_0x1a705a[0xd*0x2a5+-0x1*-0x13e6+-0x3647]!==_0xf13fdb||_0x1a705a[0xcb2+0x26b*-0x10+0x19ff]!==_0x1a6aec)&&(_0x1c0e88['uniform2iv'](_0x3d4068['locationId'],_0x55c949),_0x1a705a[-0x23+0x2*-0x1bb+0x399*0x1]=_0xf13fdb,_0x1a705a[-0x2252+0x1*-0x1276+0x34c9*0x1]=_0x1a6aec);},this['commitFunc'+'tion'][Lo]=this['commitFunc'+'tion'][Zr],this['commitFunc'+'tion'][Qr]=function(_0x1091ac,_0x111602){_0x1a705a=_0x1091ac['value'],_0xf13fdb=_0x111602[0x1aa3+0x679*0x1+-0x4*0x847],_0x1a6aec=_0x111602[0x38*-0x3a+-0x1*0x3b6+0x1067],_0x2f7ad0=_0x111602[-0x1708+0x152*0x5+0x8*0x20e],(_0x1a705a[-0x3ae*0xa+-0xd*0x1+-0x24d9*-0x1]!==_0xf13fdb||_0x1a705a[-0x8ac+-0xbb*-0x2f+-0x19a8]!==_0x1a6aec||_0x1a705a[-0x1*-0x234d+-0xb80+-0x17cb]!==_0x2f7ad0)&&(_0x1c0e88['uniform3iv'](_0x1091ac['locationId'],_0x111602),_0x1a705a[0x26f*-0xb+-0x8*-0x407+-0x573]=_0xf13fdb,_0x1a705a[-0x1*0x1579+-0xeba+0x121a*0x2]=_0x1a6aec,_0x1a705a[-0x19d5*0x1+-0x1613*0x1+0x1*0x2fea]=_0x2f7ad0);},this['commitFunc'+'tion'][Fo]=this['commitFunc'+'tion'][Qr],this['commitFunc'+'tion'][Jr]=function(_0x43e69d,_0x55b23b){_0x1a705a=_0x43e69d['value'],_0xf13fdb=_0x55b23b[0x4c5*0x3+-0x12bf+0x470],_0x1a6aec=_0x55b23b[-0x17*-0x6a+0x1f0e+-0x2893],_0x2f7ad0=_0x55b23b[0x1d*-0xfd+0x1419*-0x1+0x2*0x1862],_0x566f1b=_0x55b23b[0x1136+-0x12c2+0x18f],(_0x1a705a[0x1a*0x107+-0x48*-0x51+0x1*-0x317e]!==_0xf13fdb||_0x1a705a[-0x1d95+-0x51b+-0x1*-0x22b1]!==_0x1a6aec||_0x1a705a[-0x38a*-0x3+0x36f*-0x8+-0x4*-0x437]!==_0x2f7ad0||_0x1a705a[-0x11*0xf4+0x2*0xfd6+0x527*-0x3]!==_0x566f1b)&&(_0x1c0e88['uniform4iv'](_0x43e69d['locationId'],_0x55b23b),_0x1a705a[-0xdb1+-0x2*0x78e+0x65*0x49]=_0xf13fdb,_0x1a705a[0x21*0x115+0xcb0+0x28c*-0x13]=_0x1a6aec,_0x1a705a[-0x1*0x5a1+-0x1*0x1ef5+0x2498]=_0x2f7ad0,_0x1a705a[-0x23b8+0x1*0x1f00+-0x7*-0xad]=_0x566f1b);},this['commitFunc'+'tion'][Oo]=this['commitFunc'+'tion'][Jr],this['commitFunc'+'tion'][Rh]=function(_0x50fa36,_0x2a9af0){_0x1c0e88['uniformMat'+'rix2fv'](_0x50fa36['locationId'],!(-0x1*0xdb7+-0x1*-0x937+0x481*0x1),_0x2a9af0);},this['commitFunc'+'tion'][ko]=function(_0x5c893e,_0x190843){_0x1c0e88['uniformMat'+'rix3fv'](_0x5c893e['locationId'],!(-0x405+-0x1b9+0x5bf),_0x190843);},this['commitFunc'+'tion'][Sa]=function(_0x9c78b8,_0x1923fb){_0x1c0e88['uniformMat'+'rix4fv'](_0x9c78b8['locationId'],!(0x1efe+0x2249+-0x4146),_0x1923fb);},this['commitFunc'+'tion'][Dc]=function(_0x36411a,_0x4e13d3){_0x1c0e88['uniform1fv'](_0x36411a['locationId'],_0x4e13d3);},this['commitFunc'+'tion'][Lc]=function(_0x46211d,_0x518a90){_0x1c0e88['uniform2fv'](_0x46211d['locationId'],_0x518a90);},this['commitFunc'+'tion'][Fc]=function(_0x5f43bf,_0x57d8ee){_0x1c0e88['uniform3fv'](_0x5f43bf['locationId'],_0x57d8ee);},this['commitFunc'+'tion'][lp]=function(_0x47bb02,_0x46fa81){_0x1c0e88['uniform4fv'](_0x47bb02['locationId'],_0x46fa81);},this['commitFunc'+'tion'][va]=function(_0x1e42bc,_0x389116){_0x1e42bc['value']!==_0x389116&&(_0x1c0e88['uniform1ui'](_0x1e42bc['locationId'],_0x389116),_0x1e42bc['value']=_0x389116);},this['commitFunc'+'tion'][ba]=function(_0x333c7d,_0x2c13f6){_0x1a705a=_0x333c7d['value'],_0xf13fdb=_0x2c13f6[-0x280+0x3*-0x121+0x5e3],_0x1a6aec=_0x2c13f6[-0x252c+0x1a*-0x53+-0x91f*-0x5],(_0x1a705a[0x1*0x1511+-0xb17*0x1+-0x9fa]!==_0xf13fdb||_0x1a705a[0x1210+-0xb17+-0x8*0xdf]!==_0x1a6aec)&&(_0x1c0e88['uniform2ui'+'v'](_0x333c7d['locationId'],_0x2c13f6),_0x1a705a[0x316+0x1b28+-0x452*0x7]=_0xf13fdb,_0x1a705a[0xf*-0xee+0x1cc7+-0xed4]=_0x1a6aec);},this['commitFunc'+'tion'][wa]=function(_0x44e928,_0x27e3e8){_0x1a705a=_0x44e928['value'],_0xf13fdb=_0x27e3e8[-0x3e*-0x79+0x266a+-0x43b8],_0x1a6aec=_0x27e3e8[0x251*0x6+0x262c+-0x3411],_0x2f7ad0=_0x27e3e8[0x15b1+-0x1a60+-0x1*-0x4b1],(_0x1a705a[-0x833+0x10*0x24a+-0x1c6d]!==_0xf13fdb||_0x1a705a[-0x80e+0xc24+-0x415]!==_0x1a6aec||_0x1a705a[0x2*-0xbe9+-0x328*0x9+0x1*0x343c]!==_0x2f7ad0)&&(_0x1c0e88['uniform3ui'+'v'](_0x44e928['locationId'],_0x27e3e8),_0x1a705a[0xd5*0x7+-0x13a7+0x162*0xa]=_0xf13fdb,_0x1a705a[-0x1564+0x704*-0x1+0x1c69]=_0x1a6aec,_0x1a705a[0x184*0x19+-0x3*0xa55+-0x6e3]=_0x2f7ad0);},this['commitFunc'+'tion'][Ta]=function(_0x85c48d,_0x38789b){_0x1a705a=_0x85c48d['value'],_0xf13fdb=_0x38789b[0x53d*0x3+0x384+0x3*-0x669],_0x1a6aec=_0x38789b[0x17*0xba+-0x1e2a+0x2b1*0x5],_0x2f7ad0=_0x38789b[0x5f0*-0x2+-0xa7*0x3b+0x325f*0x1],_0x566f1b=_0x38789b[-0x1ca9+0x15ea+0x6c2],(_0x1a705a[-0xce3*-0x1+-0x26*0x68+-0x1*-0x28d]!==_0xf13fdb||_0x1a705a[-0xceb*-0x1+-0xfd6+0x2c*0x11]!==_0x1a6aec||_0x1a705a[0x21e7+-0x8*0x42+-0x119*0x1d]!==_0x2f7ad0||_0x1a705a[-0x26*0xad+-0x36e+-0x69*-0x47]!==_0x566f1b)&&(_0x1c0e88['uniform4ui'+'v'](_0x85c48d['locationId'],_0x38789b),_0x1a705a[0xe11+-0x1335+0x524]=_0xf13fdb,_0x1a705a[-0x3ec+-0x251*0x4+0xd31]=_0x1a6aec,_0x1a705a[0x20ba+0x29b*0x1+-0x2353*0x1]=_0x2f7ad0,_0x1a705a[-0xaa1*-0x3+-0x7*0x2f6+-0xb26]=_0x566f1b);},this['commitFunc'+'tion'][Aa]=function(_0x49745c,_0x3a20fe){_0x1c0e88['uniform1iv'](_0x49745c['locationId'],_0x3a20fe);},this['commitFunc'+'tion'][Oc]=function(_0x3e136d,_0x1da759){_0x1c0e88['uniform1ui'+'v'](_0x3e136d['locationId'],_0x1da759);},this['commitFunc'+'tion'][kc]=this['commitFunc'+'tion'][Aa],this['commitFunc'+'tion'][Ea]=function(_0x2de620,_0x34c2e9){_0x1c0e88['uniform2iv'](_0x2de620['locationId'],_0x34c2e9);},this['commitFunc'+'tion'][Bc]=function(_0x514ae6,_0x56a53d){_0x1c0e88['uniform2ui'+'v'](_0x514ae6['locationId'],_0x56a53d);},this['commitFunc'+'tion'][Nc]=this['commitFunc'+'tion'][Ea],this['commitFunc'+'tion'][Ca]=function(_0x272463,_0x388f82){_0x1c0e88['uniform3iv'](_0x272463['locationId'],_0x388f82);},this['commitFunc'+'tion'][zc]=function(_0x52de83,_0x35d281){_0x1c0e88['uniform3ui'+'v'](_0x52de83['locationId'],_0x35d281);},this['commitFunc'+'tion'][Uc]=this['commitFunc'+'tion'][Ca],this['commitFunc'+'tion'][Ih]=function(_0xdfa29b,_0x12cab6){_0x1c0e88['uniform4iv'](_0xdfa29b['locationId'],_0x12cab6);},this['commitFunc'+'tion'][hp]=function(_0x48152d,_0x2db835){_0x1c0e88['uniform4ui'+'v'](_0x48152d['locationId'],_0x2db835);},this['commitFunc'+'tion'][cp]=this['commitFunc'+'tion'][Ih],this['commitFunc'+'tion'][Ny]=function(_0xd2bc4a,_0x177e1f){_0x1c0e88['uniformMat'+'rix4fv'](_0xd2bc4a['locationId'],!(0x258d*-0x1+-0xc5*-0x12+0x2*0xbda),_0x177e1f);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new fb(this);}['destroy'](){super['destroy']();const _0x8e4c9=this['gl'];this['feedback']&&_0x8e4c9['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x2135+0x2053+0xe3)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x48d*0x5+-0x1918+0x2fda)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x7046da){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new pt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x7046da;}['updateBack'+'bufferForm'+'at'](_0x5079cc){const _0x46612d=this['gl'];_0x46612d['bindFrameb'+'uffer'](_0x46612d['FRAMEBUFFE'+'R'],_0x5079cc);const _0x267fdb=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x267fdb?Se:dr;}['updateBack'+'buffer'](){const _0x544c5a=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x544c5a)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(0x1959+0x2*0x128b+0x3d*-0x106),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x1df374,_0x6a2b89){return new sb();}['createInde'+'xBufferImp'+'l'](_0x6e9fcd){return new ib(_0x6e9fcd);}['createShad'+'erImpl'](_0x11a10a){return new lb(_0x11a10a);}['createText'+'ureImpl'](_0x182ca1){return new hb(_0x182ca1);}['createRend'+'erTargetIm'+'pl'](_0x397713){return new db();}['pushMarker'](_0x37a413){if(ye['browser']&&window['spector']){const _0x3c1419=G['toString']();window['spector']['setMarker'](_0x3c1419+'\x20#');}}['popMarker'](){if(ye['browser']&&window['spector']){const _0x1e59b3=G['toString']();_0x1e59b3['length']?window['spector']['setMarker'](_0x1e59b3+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x5b9be3=this['gl'];let _0x5b5141='highp';if(_0x5b9be3['getShaderP'+'recisionFo'+'rmat']){const _0x40ab57=_0x5b9be3['getShaderP'+'recisionFo'+'rmat'](_0x5b9be3['VERTEX_SHA'+'DER'],_0x5b9be3['HIGH_FLOAT']),_0x2055e4=_0x5b9be3['getShaderP'+'recisionFo'+'rmat'](_0x5b9be3['VERTEX_SHA'+'DER'],_0x5b9be3['MEDIUM_FLO'+'AT']),_0x2da708=_0x5b9be3['getShaderP'+'recisionFo'+'rmat'](_0x5b9be3['FRAGMENT_S'+'HADER'],_0x5b9be3['HIGH_FLOAT']),_0x1999ef=_0x5b9be3['getShaderP'+'recisionFo'+'rmat'](_0x5b9be3['FRAGMENT_S'+'HADER'],_0x5b9be3['MEDIUM_FLO'+'AT']);if(_0x40ab57&&_0x2055e4&&_0x2da708&&_0x1999ef){const _0x30f523=_0x40ab57['precision']>0x1*0x175e+0x2f*-0xe+-0x14cc&&_0x2da708['precision']>0x7cd*0x5+-0x24d9*0x1+-0x228,_0x3877d2=_0x2055e4['precision']>0x1*-0x19c7+-0x16be+0x3085&&_0x1999ef['precision']>0x1767*0x1+0x3*-0x9c1+0x5dc;_0x30f523||(_0x3877d2?(_0x5b5141='mediump',v['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x5b5141='lowp',v['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x5b5141;}['getExtensi'+'on'](){for(let _0x58a425=-0xb15+0x3a0*-0x1+0xeb5;_0x58a425<arguments['length'];_0x58a425++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x58a425])!==-(-0x1188*0x1+-0x1*0x2292+-0x341b*-0x1))return this['gl']['getExtensi'+'on'](arguments[_0x58a425]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x564154=this['gl'];this['supportedE'+'xtensions']=_0x564154['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(-0x151d+0xa3d*-0x1+0x1f5a*0x1),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc'),this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float');}['initialize'+'Capabiliti'+'es'](){const _0x2de762=this['gl'];let _0x127097;const _0x10b47d=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x17c1c1=_0x2de762['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x17c1c1==null?void(0x1025*0x1+-0x144*-0x13+-0x1*0x2831):_0x17c1c1['antialias'])??!(0x5af+0x19*0x13+-0x789),this['supportsSt'+'encil']=(_0x17c1c1==null?void(0x1*0x1213+-0x2*-0x11ba+-0x3587):_0x17c1c1['stencil'])??!(0x1a97*0x1+-0x1*0x25a9+-0x195*-0x7),this['maxTexture'+'Size']=_0x2de762['getParamet'+'er'](_0x2de762['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x2de762['getParamet'+'er'](_0x2de762['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x2de762['getParamet'+'er'](_0x2de762['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x2de762['getParamet'+'er'](_0x2de762['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x2de762['getParamet'+'er'](_0x2de762['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x2de762['getParamet'+'er'](_0x2de762['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x2de762['getParamet'+'er'](_0x2de762['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x2de762['getParamet'+'er'](_0x2de762['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x2de762['getParamet'+'er'](_0x2de762['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x2de762['getParamet'+'er'](_0x2de762['MAX_3D_TEX'+'TURE_SIZE']),_0x127097=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x127097?_0x2de762['getParamet'+'er'](_0x127097['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x127097?_0x2de762['getParamet'+'er'](_0x127097['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x2d6e8f=/\bMali-G52+/,_0x166633=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x10b47d['match'](_0x166633))&&!this['unmaskedRe'+'nderer']['match'](_0x2d6e8f),_0x127097=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x127097?_0x2de762['getParamet'+'er'](_0x127097['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):-0x10a2+0x1*-0x258+-0x12fb*-0x1;const _0x1f0dd5=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x1f0dd5?_0x2de762['getParamet'+'er'](_0x2de762['MAX_SAMPLE'+'S']):0x2bb*0x1+0x165e+-0x248*0xb,this['maxSamples']=Math['min'](this['maxSamples'],0x19bc+-0xfe7+-0x9d1),this['samples']=_0x1f0dd5&&this['backBuffer'+'Antialias']?this['maxSamples']:-0x17f*-0x8+0x1*0x1dd7+-0x29ce,this['supportsAr'+'eaLights']=!ye['android'],this['maxTexture'+'s']<=-0x141f+0x21e5+0x1*-0xdbe&&(this['supportsAr'+'eaLights']=!(-0x3d7*0x3+-0x1*-0x14a9+-0x923*0x1));}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x28dc32=this['gl'];_0x28dc32['disable'](_0x28dc32['BLEND']),_0x28dc32['blendFunc'](_0x28dc32['ONE'],_0x28dc32['ZERO']),_0x28dc32['blendEquat'+'ion'](_0x28dc32['FUNC_ADD']),_0x28dc32['colorMask'](!(-0x2339+-0x3*-0xc83+-0x250),!(0xa6e+-0x251d+0x1aaf),!(-0x14*-0x1a1+-0x8*0x20c+-0x1034),!(-0x126*-0x1a+-0x2a0*-0x2+0x6*-0x5da)),_0x28dc32['blendColor'](0x107f+0x3f*-0x43+0x1*-0x2,0x1f3a+0x83f+0x2b*-0xeb,0x220f+-0x3*-0x9a2+-0x47*0xe3,-0x21db+-0x41*-0x4f+-0x373*-0x4),_0x28dc32['enable'](_0x28dc32['CULL_FACE']),this['cullFace']=_0x28dc32['BACK'],_0x28dc32['cullFace'](_0x28dc32['BACK']),_0x28dc32['enable'](_0x28dc32['DEPTH_TEST']),_0x28dc32['depthFunc'](_0x28dc32['LEQUAL']),_0x28dc32['depthMask'](!(0x21a*-0x8+-0xfd7+-0x20a7*-0x1)),this['stencil']=!(0x69b+0x9b*-0x19+0x889),_0x28dc32['disable'](_0x28dc32['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Ai,this['stencilRef'+'Front']=this['stencilRef'+'Back']=0x75c+0xb77+0x3d*-0x4f,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=0x85b+-0x9e3*0x3+0xb*0x207,_0x28dc32['stencilFun'+'c'](_0x28dc32['ALWAYS'],-0x2515+0xc07+0x190e,0x9ce+-0x6f5+-0x1da),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=ha,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=ha,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=ha,this['stencilWri'+'teMaskFron'+'t']=-0x1*0x1633+0x1ed2+-0x7a0,this['stencilWri'+'teMaskBack']=-0x11b2*0x2+0x117b+0x4*0x4ba,_0x28dc32['stencilOp'](_0x28dc32['KEEP'],_0x28dc32['KEEP'],_0x28dc32['KEEP']),_0x28dc32['stencilMas'+'k'](-0x3e*-0x90+-0x10c5*0x1+0x111c*-0x1),this['alphaToCov'+'erage']=!(0x1416+0x3*-0x665+-0xe6),this['raster']=!(-0x1547*-0x1+0x130c+0x117*-0x25),_0x28dc32['disable'](_0x28dc32['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x28dc32['disable'](_0x28dc32['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(-0x2518*0x1+-0x101e+-0x3537*-0x1),_0x28dc32['disable'](_0x28dc32['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=-0xc1*-0x3+0x778+0xa6*-0xf,_0x28dc32['clearDepth'](0x1340+0x35*-0xf+-0x1024),this['clearColor']=new Y(-0x1c1f+-0x605+0x2224,0xc*0x166+0xa7a*0x2+-0x2e*0xd2,-0xef*-0xe+-0x1e3*-0x11+-0x2d25,0x1b70+-0x426+0x1*-0x174a),_0x28dc32['clearColor'](-0xec3+-0x10*-0x22e+-0x141d*0x1,-0xcd7*-0x1+-0x26da+-0x1*-0x1a03,-0x78e+-0xe0*-0x1e+-0x12b2,-0x1f90+0xf8*0x20+0x90),this['clearStenc'+'il']=0x4*-0x297+-0x8b*-0x3+-0x2e9*-0x3,_0x28dc32['clearStenc'+'il'](-0x367*0x5+-0xd06+0xe9*0x21),_0x28dc32['hint'](_0x28dc32['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x28dc32['NICEST']),_0x28dc32['enable'](_0x28dc32['SCISSOR_TE'+'ST']),_0x28dc32['pixelStore'+'i'](_0x28dc32['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x28dc32['NONE']),this['unpackFlip'+'Y']=!(0x194c+0xb76+-0x1*0x24c1),_0x28dc32['pixelStore'+'i'](_0x28dc32['UNPACK_FLI'+'P_Y_WEBGL'],!(-0x1c26+0x20f2+-0x4cb)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(-0x1*0x373+0x170c+-0x26*0x84),_0x28dc32['pixelStore'+'i'](_0x28dc32['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(-0xe7f+0x52d+0x953)),_0x28dc32['pixelStore'+'i'](_0x28dc32['UNPACK_ALI'+'GNMENT'],-0xa01*-0x1+-0x43*0x8b+-0x1*-0x1a61);}['initTextur'+'eUnits'](_0x432d4d=0x1f1b+0xbf*-0x2f+0x406){this['textureUni'+'ts']=[];for(let _0x3ae138=0x3b9*-0x1+0x3*-0x239+0xa64;_0x3ae138<_0x432d4d;_0x3ae138++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=-0xb65*0x1+-0x3*-0x905+-0x191*0xa,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x28e314 of this['shaders'])_0x28e314['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0xcb2593 of this['shaders'])_0xcb2593['restoreCon'+'text']();}['setViewpor'+'t'](_0x32d5e2,_0x34e031,_0x1bb5eb,_0x4f5bff){(this['vx']!==_0x32d5e2||this['vy']!==_0x34e031||this['vw']!==_0x1bb5eb||this['vh']!==_0x4f5bff)&&(this['gl']['viewport'](_0x32d5e2,_0x34e031,_0x1bb5eb,_0x4f5bff),this['vx']=_0x32d5e2,this['vy']=_0x34e031,this['vw']=_0x1bb5eb,this['vh']=_0x4f5bff);}['setScissor'](_0x189b64,_0x1e1170,_0x46721a,_0x52a608){(this['sx']!==_0x189b64||this['sy']!==_0x1e1170||this['sw']!==_0x46721a||this['sh']!==_0x52a608)&&(this['gl']['scissor'](_0x189b64,_0x1e1170,_0x46721a,_0x52a608),this['sx']=_0x189b64,this['sy']=_0x1e1170,this['sw']=_0x46721a,this['sh']=_0x52a608);}['setFramebu'+'ffer'](_0x22cf9b){if(this['activeFram'+'ebuffer']!==_0x22cf9b){const _0x1a1531=this['gl'];_0x1a1531['bindFrameb'+'uffer'](_0x1a1531['FRAMEBUFFE'+'R'],_0x22cf9b),this['activeFram'+'ebuffer']=_0x22cf9b;}}['copyRender'+'Target'](_0x7198bf,_0x4e6e04,_0x4a5e6e,_0x15ea3d){var _0x4f5a15,_0x193774;const _0x499649=this['gl'];if(_0x7198bf===this['backBuffer']&&(_0x7198bf=null),_0x4a5e6e){if(_0x4e6e04){if(_0x7198bf){if(!_0x7198bf['_colorBuff'+'er']||!_0x4e6e04['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0xde4+0x3*-0x3cd+-0x1*-0x194c);if(_0x7198bf['_colorBuff'+'er']['_format']!==_0x4e6e04['_colorBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(0x1515*-0x1+0x2*0x8b4+0x9d*0x6);}}else{if(!_0x7198bf['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(-0x5*-0x247+-0x1*-0x1f0d+0x11*-0x27f);}}if(_0x15ea3d&&_0x7198bf&&!_0x7198bf['_depth']){if(!_0x7198bf['_depthBuff'+'er']||!_0x4e6e04['_depthBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x3*0xc35+0x5*0x23b+0x1979*0x1);if(_0x7198bf['_depthBuff'+'er']['_format']!==_0x4e6e04['_depthBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(0xe5f+-0xb49+-0x107*0x3);}G['pushGpuMar'+'ker'](this,'COPY-RT');const _0x5b315e=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x4e6e04,this['updateBegi'+'n']();const _0x135df2=_0x7198bf?_0x7198bf['impl']['_glFrameBu'+'ffer']:(_0x4f5a15=this['backBuffer'])==null?void(-0x1*0xf50+0xa47+0x509):_0x4f5a15['impl']['_glFrameBu'+'ffer'],_0x36e7e5=_0x4e6e04?_0x4e6e04['impl']['_glFrameBu'+'ffer']:(_0x193774=this['backBuffer'])==null?void(0x13*0x1ba+-0x1e87*0x1+0xb*-0x35):_0x193774['impl']['_glFrameBu'+'ffer'];v['assert'](_0x135df2!==_0x36e7e5,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x499649['bindFrameb'+'uffer'](_0x499649['READ_FRAME'+'BUFFER'],_0x135df2),_0x499649['bindFrameb'+'uffer'](_0x499649['DRAW_FRAME'+'BUFFER'],_0x36e7e5);const _0x5697e0=_0x7198bf?_0x7198bf['width']:_0x4e6e04?_0x4e6e04['width']:this['width'],_0x2f3062=_0x7198bf?_0x7198bf['height']:_0x4e6e04?_0x4e6e04['height']:this['height'];return _0x499649['blitFrameb'+'uffer'](0x4cf*0x4+-0x27d+-0x3*0x595,-0x23a2*-0x1+0x413*-0x8+0x30a*-0x1,_0x5697e0,_0x2f3062,-0x1ee0+-0x83a*0x4+0x3fc8,0x221e+-0x106*0x15+-0xca0,_0x5697e0,_0x2f3062,(_0x4a5e6e?_0x499649['COLOR_BUFF'+'ER_BIT']:0x9*-0x90+-0x15e7+0x1af7)|(_0x15ea3d?_0x499649['DEPTH_BUFF'+'ER_BIT']:0xd86+-0x45*0xb+0x11*-0x9f),_0x499649['NEAREST']),this['renderTarg'+'et']=_0x5b315e,_0x499649['bindFrameb'+'uffer'](_0x499649['FRAMEBUFFE'+'R'],_0x5b315e?_0x5b315e['impl']['_glFrameBu'+'ffer']:null),G['popGpuMark'+'er'](this),!(-0x1*-0x78a+0x2*-0xede+0x1632);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x4bc856){const _0x3d9993=_0x4bc856['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x3d9993,v['assert'](_0x3d9993),G['pushGpuMar'+'ker'](this,'Pass:'+_0x4bc856['name']+'\x20RT:'+_0x3d9993['name']),G['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x1165cf,height:_0x24cb2e}=_0x3d9993;this['setViewpor'+'t'](-0x8d*-0xc+0x1*0x2447+-0x2ae3,-0xeb*0x26+0xb*0x5d+0x1ee3,_0x1165cf,_0x24cb2e),this['setScissor'](0x8a9*-0x1+0x200f+-0x4ae*0x5,0x1ecd+0x1ab+-0x2078,_0x1165cf,_0x24cb2e);const _0x1d7d1c=_0x4bc856['colorOps'],_0x22a112=_0x4bc856['depthStenc'+'ilOps'];if(_0x1d7d1c!=null&&_0x1d7d1c['clear']||_0x22a112['clearDepth']||_0x22a112['clearStenc'+'il']){let _0x1546a8=0xeee+0x54e+0x1c*-0xb9;const _0x22856f={};_0x1d7d1c!=null&&_0x1d7d1c['clear']&&(_0x1546a8|=Co,_0x22856f['color']=[_0x1d7d1c['clearValue']['r'],_0x1d7d1c['clearValue']['g'],_0x1d7d1c['clearValue']['b'],_0x1d7d1c['clearValue']['a']]),_0x22a112['clearDepth']&&(_0x1546a8|=Mo,_0x22856f['depth']=_0x22a112['clearDepth'+'Value']),_0x22a112['clearStenc'+'il']&&(_0x1546a8|=Ah,_0x22856f['stencil']=_0x22a112['clearStenc'+'ilValue']),_0x22856f['flags']=_0x1546a8,this['clear'](_0x22856f);}v['call'](()=>{this['insideRend'+'erPass']&&v['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(-0xb78+0x1*-0xc8c+-0x35*-0x74),G['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x211618){var _0x34c4a5;G['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x1aae73=this['renderTarg'+'et'],_0x7b76c2=_0x211618['colorArray'+'Ops']['length'];if(_0x1aae73){Tn['length']=-0x50*0x14+-0x19c0+0x2000;const _0x44917a=this['gl'];for(let _0x3f41f0=-0x51e*0x3+-0xcbb+0x1c15;_0x3f41f0<_0x7b76c2;_0x3f41f0++){const _0x59f34f=_0x211618['colorArray'+'Ops'][_0x3f41f0];_0x59f34f['store']||_0x59f34f['resolve']||Tn['push'](_0x44917a['COLOR_ATTA'+'CHMENT0']+_0x3f41f0);}_0x1aae73!==this['backBuffer']&&(_0x211618['depthStenc'+'ilOps']['storeDepth']||Tn['push'](_0x44917a['DEPTH_ATTA'+'CHMENT']),_0x211618['depthStenc'+'ilOps']['storeStenc'+'il']||Tn['push'](_0x44917a['STENCIL_AT'+'TACHMENT'])),Tn['length']>-0xdf*0x17+-0x76e+0x1b77&&_0x211618['fullSizeCl'+'earRect']&&_0x44917a['invalidate'+'Framebuffe'+'r'](_0x44917a['DRAW_FRAME'+'BUFFER'],Tn),_0x7b76c2&&((_0x34c4a5=_0x211618['colorOps'])!=null&&_0x34c4a5['resolve'])&&_0x211618['samples']>-0x15*-0x136+0xfd9+-0x24b*0x12&&_0x1aae73['autoResolv'+'e']&&_0x1aae73['resolve'](!(0x15b7+0x32*0xbf+0x1*-0x3b05),!(0x581*-0x5+-0x4*-0x51b+0x71a)),_0x1aae73['depthBuffe'+'r']&&_0x211618['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x211618['samples']>0x7*-0x10f+-0x1*-0x73f+-0x2b*-0x1&&_0x1aae73['autoResolv'+'e']&&_0x1aae73['resolve'](!(0x13cb*-0x1+0x705+0xcc7),!(0x77e+0x6*-0x4c1+-0x4*-0x542));for(let _0x3342b6=-0xed6+0x1*0x72e+0x7a8;_0x3342b6<_0x7b76c2;_0x3342b6++)if(_0x211618['colorArray'+'Ops'][_0x3342b6]['genMipmaps']){const _0x2a5260=_0x1aae73['_colorBuff'+'ers'][_0x3342b6];_0x2a5260&&_0x2a5260['impl']['_glTexture']&&_0x2a5260['mipmaps']&&(G['pushGpuMar'+'ker'](this,'MIPS'+_0x3342b6),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x1eb9+-0x798+-0x1720)),this['bindTextur'+'e'](_0x2a5260),this['gl']['generateMi'+'pmap'](_0x2a5260['impl']['_glTarget']),G['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(0x1e93+-0x898+0x2*-0xafd),G['popGpuMark'+'er'](this),G['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x20331d){this['_defaultFr'+'amebuffer']!==_0x20331d&&(this['_defaultFr'+'amebuffer']=_0x20331d,this['_defaultFr'+'amebufferC'+'hanged']=!(-0x3*-0x7f+0x10fd+0x127a*-0x1));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(G['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x5024ab=0x8d8+0x17ef*-0x1+-0xf17*-0x1;_0x5024ab<this['textureUni'+'ts']['length'];++_0x5024ab)for(let _0x42d783=-0x20a6+0xc70+0xc7*0x1a;_0x42d783<0x13c5+-0x1344+0x6*-0x15;++_0x42d783)this['textureUni'+'ts'][_0x5024ab][_0x42d783]=null;}const _0x5c67ae=this['renderTarg'+'et']??this['backBuffer'];v['assert'](_0x5c67ae);const _0x34df7a=_0x5c67ae['impl'];_0x34df7a['initialize'+'d']||this['initRender'+'Target'](_0x5c67ae),this['setFramebu'+'ffer'](_0x34df7a['_glFrameBu'+'ffer']),G['popGpuMark'+'er'](this);}['updateEnd'](){G['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x5f53da=this['renderTarg'+'et'];if(_0x5f53da&&_0x5f53da!==this['backBuffer']){_0x5f53da['_samples']>0x6*0x5ad+-0xe*0x23b+-0x3*0xf1&&_0x5f53da['autoResolv'+'e']&&_0x5f53da['resolve']();const _0x3f9255=_0x5f53da['_colorBuff'+'er'];_0x3f9255&&_0x3f9255['impl']['_glTexture']&&_0x3f9255['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0xca+-0xbb*-0x1f+0xaed*-0x2)),this['bindTextur'+'e'](_0x3f9255),this['gl']['generateMi'+'pmap'](_0x3f9255['impl']['_glTarget']));}G['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x501eff){if(this['unpackFlip'+'Y']!==_0x501eff){this['unpackFlip'+'Y']=_0x501eff;const _0x15b026=this['gl'];_0x15b026['pixelStore'+'i'](_0x15b026['UNPACK_FLI'+'P_Y_WEBGL'],_0x501eff);}}['setUnpackP'+'remultiply'+'Alpha'](_0x22f651){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x22f651){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x22f651;const _0x3fa2c3=this['gl'];_0x3fa2c3['pixelStore'+'i'](_0x3fa2c3['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x22f651);}}['activeText'+'ure'](_0x5e1ca5){this['textureUni'+'t']!==_0x5e1ca5&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x5e1ca5),this['textureUni'+'t']=_0x5e1ca5);}['bindTextur'+'e'](_0x565a58){const _0x450e0a=_0x565a58['impl'],_0x19f04b=_0x450e0a['_glTarget'],_0x5f2435=_0x450e0a['_glTexture'],_0x47d0eb=this['textureUni'+'t'],_0x38b541=this['targetToSl'+'ot'][_0x19f04b];this['textureUni'+'ts'][_0x47d0eb][_0x38b541]!==_0x5f2435&&(this['gl']['bindTextur'+'e'](_0x19f04b,_0x5f2435),this['textureUni'+'ts'][_0x47d0eb][_0x38b541]=_0x5f2435);}['bindTextur'+'eOnUnit'](_0x22af1c,_0x2d0dd4){const _0x1e35b4=_0x22af1c['impl'],_0x9e28b5=_0x1e35b4['_glTarget'],_0x310675=_0x1e35b4['_glTexture'],_0x578143=this['targetToSl'+'ot'][_0x9e28b5];this['textureUni'+'ts'][_0x2d0dd4][_0x578143]!==_0x310675&&(this['activeText'+'ure'](_0x2d0dd4),this['gl']['bindTextur'+'e'](_0x9e28b5,_0x310675),this['textureUni'+'ts'][_0x2d0dd4][_0x578143]=_0x310675);}['setTexture'+'Parameters'](_0x3a85fb){const _0x54808d=this['gl'],_0x49cb94=_0x3a85fb['impl']['dirtyParam'+'eterFlags'],_0x502080=_0x3a85fb['impl']['_glTarget'];if(_0x49cb94&zy){let _0x495bba=_0x3a85fb['_minFilter'];(!_0x3a85fb['_mipmaps']||_0x3a85fb['_compresse'+'d']&&_0x3a85fb['_levels']['length']===-0xf50+0x221a+-0x12c9)&&(_0x495bba===fc||_0x495bba===pc?_0x495bba=de:(_0x495bba===mc||_0x495bba===nn)&&(_0x495bba=st)),_0x54808d['texParamet'+'eri'](_0x502080,_0x54808d['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x495bba]);}if(_0x49cb94&Uy&&_0x54808d['texParamet'+'eri'](_0x502080,_0x54808d['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x3a85fb['_magFilter']]),_0x49cb94&Vy&&_0x54808d['texParamet'+'eri'](_0x502080,_0x54808d['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x3a85fb['_addressU']]),_0x49cb94&Gy&&_0x54808d['texParamet'+'eri'](_0x502080,_0x54808d['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x3a85fb['_addressV']]),_0x49cb94&Hy&&_0x54808d['texParamet'+'eri'](_0x502080,_0x54808d['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x3a85fb['_addressW']]),_0x49cb94&Wy&&_0x54808d['texParamet'+'eri'](_0x502080,_0x54808d['TEXTURE_CO'+'MPARE_MODE'],_0x3a85fb['_compareOn'+'Read']?_0x54808d['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x54808d['NONE']),_0x49cb94&$y&&_0x54808d['texParamet'+'eri'](_0x502080,_0x54808d['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x3a85fb['_compareFu'+'nc']]),_0x49cb94&qy){const _0x292a2c=this['extTexture'+'FilterAnis'+'otropic'];_0x292a2c&&_0x54808d['texParamet'+'erf'](_0x502080,_0x292a2c['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],N['clamp'](Math['round'](_0x3a85fb['_anisotrop'+'y']),0x20f3+-0x233b*-0x1+-0x1f*0x233,this['maxAnisotr'+'opy']));}}['setTexture'](_0x56e275,_0x5b52d5){const _0x194ac8=_0x56e275['impl'];_0x194ac8['_glTexture']||_0x194ac8['initialize'](this,_0x56e275),_0x194ac8['dirtyParam'+'eterFlags']>-0x2d5*-0xa+0xce1+-0x2933||_0x56e275['_needsUplo'+'ad']||_0x56e275['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x5b52d5),this['bindTextur'+'e'](_0x56e275),_0x194ac8['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x56e275),_0x194ac8['dirtyParam'+'eterFlags']=0xf0e+-0x1667+0x759),(_0x56e275['_needsUplo'+'ad']||_0x56e275['_needsMipm'+'apsUpload'])&&(_0x194ac8['upload'](this,_0x56e275),_0x56e275['_needsUplo'+'ad']=!(0x1ffa+-0x2261+-0x58*-0x7),_0x56e275['_needsMipm'+'apsUpload']=!(0x113*0x9+-0x3*0x1fa+0x1*-0x3bc))):this['bindTextur'+'eOnUnit'](_0x56e275,_0x5b52d5);}['createVert'+'exArray'](_0x4a649c){let _0x212e30,_0x221e56;const _0x3ce0e5=_0x4a649c['length']>0x9*0x171+-0x21e3+-0x14eb*-0x1;if(_0x3ce0e5){_0x212e30='';for(let _0x2ffbe3=0x2*0x1129+-0x4bc*-0x6+-0x3eba;_0x2ffbe3<_0x4a649c['length'];_0x2ffbe3++){const _0x38e4af=_0x4a649c[_0x2ffbe3];_0x212e30+=_0x38e4af['id']+_0x38e4af['format']['renderingH'+'ash'];}_0x221e56=this['_vaoMap']['get'](_0x212e30);}if(!_0x221e56){const _0x1ac8bd=this['gl'];_0x221e56=_0x1ac8bd['createVert'+'exArray'](),_0x1ac8bd['bindVertex'+'Array'](_0x221e56),_0x1ac8bd['bindBuffer'](_0x1ac8bd['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x236c0e=!(0xd*-0x215+-0x25f+0x1*0x1d71);for(let _0x151292=-0x179b+-0x1261*-0x1+0x53a*0x1;_0x151292<_0x4a649c['length'];_0x151292++){const _0x317e04=_0x4a649c[_0x151292];_0x1ac8bd['bindBuffer'](_0x1ac8bd['ARRAY_BUFF'+'ER'],_0x317e04['impl']['bufferId']);const _0x579a5c=_0x317e04['format']['elements'];for(let _0x25e506=-0xa67*0x2+0xf65+0x569;_0x25e506<_0x579a5c['length'];_0x25e506++){const _0x16a1b8=_0x579a5c[_0x25e506],_0x462744=ve[_0x16a1b8['name']];_0x462744===-0xbe8+-0x886+-0x2*-0xa37&&(_0x236c0e=!(0x5*0x89+-0x4a+-0x263)),_0x16a1b8['asInt']?_0x1ac8bd['vertexAttr'+'ibIPointer'](_0x462744,_0x16a1b8['numCompone'+'nts'],this['glType'][_0x16a1b8['dataType']],_0x16a1b8['stride'],_0x16a1b8['offset']):_0x1ac8bd['vertexAttr'+'ibPointer'](_0x462744,_0x16a1b8['numCompone'+'nts'],this['glType'][_0x16a1b8['dataType']],_0x16a1b8['normalize'],_0x16a1b8['stride'],_0x16a1b8['offset']),_0x1ac8bd['enableVert'+'exAttribAr'+'ray'](_0x462744),_0x317e04['format']['instancing']&&_0x1ac8bd['vertexAttr'+'ibDivisor'](_0x462744,0x353*-0x7+0x29*-0x90+0x2e56);}}_0x1ac8bd['bindVertex'+'Array'](null),_0x1ac8bd['bindBuffer'](_0x1ac8bd['ARRAY_BUFF'+'ER'],null),_0x3ce0e5&&this['_vaoMap']['set'](_0x212e30,_0x221e56),_0x236c0e||v['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x221e56;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](){const _0xf3bc3d=this['gl'];let _0xc56cfc;if(this['vertexBuff'+'ers']['length']===0x1*-0x209e+0xe10+-0x1*-0x128f){const _0x396872=this['vertexBuff'+'ers'][-0x1*0x623+0x6*0x9b+0x1*0x281];v['assert'](_0x396872['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x396872['impl']['vao']||(_0x396872['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0xc56cfc=_0x396872['impl']['vao'];}else _0xc56cfc=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0xc56cfc&&(this['boundVao']=_0xc56cfc,_0xf3bc3d['bindVertex'+'Array'](_0xc56cfc)),this['clearVerte'+'xBuffer']();const _0x37639a=this['indexBuffe'+'r']?this['indexBuffe'+'r']['impl']['bufferId']:null;_0xf3bc3d['bindBuffer'](_0xf3bc3d['ELEMENT_AR'+'RAY_BUFFER'],_0x37639a);}['draw'](_0x2e355a,_0x1c1769,_0x133159){const _0x33b81a=this['gl'];if(this['activateSh'+'ader'](this),!this['shaderVali'+'d'])return;let _0xb35fee,_0x2c72db,_0xfba12f,_0x2b0e13,_0x353b07,_0x411cd0,_0x46a479,_0x453bc3;const _0xa5e4cb=this['shader'];if(!_0xa5e4cb)return;const _0xb3b3c5=_0xa5e4cb['impl']['samplers'],_0x1f82ac=_0xa5e4cb['impl']['uniforms'];_0x133159||this['setBuffers']();let _0xbbb3d5=-0xe1*-0x7+0x5b7*0x3+-0xba6*0x2;for(let _0x4ded92=0x1*0x637+-0x2*0xc1b+0x11ff,_0x193727=_0xb3b3c5['length'];_0x4ded92<_0x193727;_0x4ded92++){if(_0xb35fee=_0xb3b3c5[_0x4ded92],_0x2c72db=_0xb35fee['scopeId']['value'],!_0x2c72db){const _0x1fd8e8=_0xb35fee['scopeId']['name'];v['assert'](_0x1fd8e8!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),v['assert'](_0x1fd8e8!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x1fd8e8==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x2c72db=en(this,'white')),_0x1fd8e8==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x2c72db=en(this,'pink')),_0x2c72db||(v['errorOnce']('Shader\x20'+_0xa5e4cb['name']+'\x20requires\x20'+_0x1fd8e8+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+G['toString']()+']'),_0x2c72db=en(this,'pink'));}if(_0x2c72db instanceof he)_0xfba12f=_0x2c72db,this['setTexture'](_0xfba12f,_0xbbb3d5),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<0x164+-0x1686+0x1524&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0xfba12f?v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0xfba12f}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0xfba12f&&v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0xfba12f})),_0xb35fee['slot']!==_0xbbb3d5&&(_0x33b81a['uniform1i'](_0xb35fee['locationId'],_0xbbb3d5),_0xb35fee['slot']=_0xbbb3d5),_0xbbb3d5++;else{_0xb35fee['array']['length']=-0x1365+-0xb*-0x61+-0x1*-0xf3a,_0x2b0e13=_0x2c72db['length'];for(let _0x254a72=0xe8f+-0x877+-0x618;_0x254a72<_0x2b0e13;_0x254a72++)_0xfba12f=_0x2c72db[_0x254a72],this['setTexture'](_0xfba12f,_0xbbb3d5),_0xb35fee['array'][_0x254a72]=_0xbbb3d5,_0xbbb3d5++;_0x33b81a['uniform1iv'](_0xb35fee['locationId'],_0xb35fee['array']);}}for(let _0x40a7ec=-0x152a+-0x21ab+0x36d5,_0x7d669d=_0x1f82ac['length'];_0x40a7ec<_0x7d669d;_0x40a7ec++)_0x353b07=_0x1f82ac[_0x40a7ec],_0x411cd0=_0x353b07['scopeId'],_0x46a479=_0x353b07['version'],_0x453bc3=_0x411cd0['versionObj'+'ect']['version'],(_0x46a479['globalId']!==_0x453bc3['globalId']||_0x46a479['revision']!==_0x453bc3['revision'])&&(_0x46a479['globalId']=_0x453bc3['globalId'],_0x46a479['revision']=_0x453bc3['revision'],_0x411cd0['value']!==null&&this['commitFunc'+'tion'][_0x353b07['dataType']](_0x353b07,_0x411cd0['value']));this['transformF'+'eedbackBuf'+'fer']&&(_0x33b81a['bindBuffer'+'Base'](_0x33b81a['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x57f+0x12db+-0x3*0x81e,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x33b81a['beginTrans'+'formFeedba'+'ck'](_0x33b81a['POINTS']));const _0x43fa53=this['glPrimitiv'+'e'][_0x2e355a['type']],_0x344b49=_0x2e355a['count'];if(_0x2e355a['indexed']){const _0x539ad8=this['indexBuffe'+'r'];v['assert'](_0x539ad8['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x31366c=_0x539ad8['impl']['glFormat'],_0x2d7b6a=_0x2e355a['base']*_0x539ad8['bytesPerIn'+'dex'];_0x1c1769>-0xbf8+0x4*-0x376+-0x1c*-0xec?_0x33b81a['drawElemen'+'tsInstance'+'d'](_0x43fa53,_0x344b49,_0x31366c,_0x2d7b6a,_0x1c1769):_0x33b81a['drawElemen'+'ts'](_0x43fa53,_0x344b49,_0x31366c,_0x2d7b6a);}else{const _0x122e7e=_0x2e355a['base'];_0x1c1769>0x220c+0x40*0x25+-0x2b4c?_0x33b81a['drawArrays'+'Instanced'](_0x43fa53,_0x122e7e,_0x344b49,_0x1c1769):_0x33b81a['drawArrays'](_0x43fa53,_0x122e7e,_0x344b49);}this['transformF'+'eedbackBuf'+'fer']&&(_0x33b81a['endTransfo'+'rmFeedback'](),_0x33b81a['bindBuffer'+'Base'](_0x33b81a['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0x1*0x45d+-0x930+0x1*0xd8d,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x2e355a['type']]+=_0x2e355a['count']*(_0x1c1769>0x163e+0x3a8+-0x7*0x3b3?_0x1c1769:0x278*-0x9+0x3*0x878+-0x32f);}['clear'](_0x10d2bc){const _0x4560f0=this['defaultCle'+'arOptions'];_0x10d2bc=_0x10d2bc||_0x4560f0;const _0x4fdce7=_0x10d2bc['flags']??_0x4560f0['flags'];if(_0x4fdce7!==0x14e9+0x170a+0x1*-0x2bf3){const _0xfe90b=this['gl'];if(_0x4fdce7&Co){const _0xc3023c=_0x10d2bc['color']??_0x4560f0['color'],_0x1881b5=_0xc3023c[0x1a95+0x53b+-0x7f4*0x4],_0x396644=_0xc3023c[0x636+0x7e1*0x4+0x6f*-0x57],_0x1291ae=_0xc3023c[0xe*-0x295+0x15*0x13d+0xa27],_0x405564=_0xc3023c[0x50*0x1c+0x187d+-0x213a],_0x8239=this['clearColor'];(_0x1881b5!==_0x8239['r']||_0x396644!==_0x8239['g']||_0x1291ae!==_0x8239['b']||_0x405564!==_0x8239['a'])&&(this['gl']['clearColor'](_0x1881b5,_0x396644,_0x1291ae,_0x405564),this['clearColor']['set'](_0x1881b5,_0x396644,_0x1291ae,_0x405564)),this['setBlendSt'+'ate'](_t['NOBLEND']);}if(_0x4fdce7&Mo){const _0x56746e=_0x10d2bc['depth']??_0x4560f0['depth'];_0x56746e!==this['clearDepth']&&(this['gl']['clearDepth'](_0x56746e),this['clearDepth']=_0x56746e),this['setDepthSt'+'ate'](as['WRITEDEPTH']);}if(_0x4fdce7&Ah){const _0x3ecfe6=_0x10d2bc['stencil']??_0x4560f0['stencil'];_0x3ecfe6!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x3ecfe6),this['clearStenc'+'il']=_0x3ecfe6),_0xfe90b['stencilMas'+'k'](-0xb7b*-0x1+-0x1123*0x1+0x6a7),this['stencilWri'+'teMaskFron'+'t']=-0x1d9a+-0x69*-0x5+0x3*0x984,this['stencilWri'+'teMaskBack']=0x189b*-0x1+-0x1*-0x1678+0x322*0x1;}_0xfe90b['clear'](this['glClearFla'+'g'][_0x4fdce7]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x2c5e8c,_0x4bfd8a,_0x39f472,_0x192fca,_0x15a442){const _0x2ade85=this['gl'];_0x2ade85['readPixels'](_0x2c5e8c,_0x4bfd8a,_0x39f472,_0x192fca,_0x2ade85['RGBA'],_0x2ade85['UNSIGNED_B'+'YTE'],_0x15a442);}async['readPixels'+'Async'](_0x3ceb4b,_0x3c5952,_0x178c8e,_0x5a1900,_0x1e63e7){var _0x52c3ae;const _0x440dbb=this['gl'],_0x2726ea=(_0x17a6ab,_0x138b66)=>{const _0x49c804=_0x440dbb['fenceSync'](_0x440dbb['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],0xecb*0x1+0x181f+-0x125*0x22);return this['submit'](),new Promise((_0x35f426,_0x5919c7)=>{function _0x4465da(){const _0x558b02=_0x440dbb['clientWait'+'Sync'](_0x49c804,_0x17a6ab,-0x8*-0x190+0x1bd9*0x1+0xd73*-0x3);_0x558b02===_0x440dbb['WAIT_FAILE'+'D']?(_0x440dbb['deleteSync'](_0x49c804),_0x5919c7(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed'))):_0x558b02===_0x440dbb['TIMEOUT_EX'+'PIRED']?setTimeout(_0x4465da,_0x138b66):(_0x440dbb['deleteSync'](_0x49c804),_0x35f426());}_0x4465da();});},_0x391450=(_0x52c3ae=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(0x51+0x9d*0x8+-0xbf*0x7):_0x52c3ae['impl'],_0xc397e3=(_0x391450==null?void(0x1968+0x3b3+-0x1d1b):_0x391450['_glFormat'])??_0x440dbb['RGBA'],_0x1da0cb=(_0x391450==null?void(0x564+0x9a+-0x5fe):_0x391450['_glPixelTy'+'pe'])??_0x440dbb['UNSIGNED_B'+'YTE'],_0x14408f=_0x440dbb['createBuff'+'er']();return _0x440dbb['bindBuffer'](_0x440dbb['PIXEL_PACK'+'_BUFFER'],_0x14408f),_0x440dbb['bufferData'](_0x440dbb['PIXEL_PACK'+'_BUFFER'],_0x1e63e7['byteLength'],_0x440dbb['STREAM_REA'+'D']),_0x440dbb['readPixels'](_0x3ceb4b,_0x3c5952,_0x178c8e,_0x5a1900,_0xc397e3,_0x1da0cb,-0x1*0xc77+-0x1*0x1202+0x1e79),_0x440dbb['bindBuffer'](_0x440dbb['PIXEL_PACK'+'_BUFFER'],null),await _0x2726ea(0x8e+-0x2ed+-0x25f*-0x1,-0x1cf5+0xb0*-0x37+-0x6d*-0x9d),_0x440dbb['bindBuffer'](_0x440dbb['PIXEL_PACK'+'_BUFFER'],_0x14408f),_0x440dbb['getBufferS'+'ubData'](_0x440dbb['PIXEL_PACK'+'_BUFFER'],-0x25c1+0x24b4+-0x10d*-0x1,_0x1e63e7),_0x440dbb['bindBuffer'](_0x440dbb['PIXEL_PACK'+'_BUFFER'],null),_0x440dbb['deleteBuff'+'er'](_0x14408f),_0x1e63e7;}['readTextur'+'eAsync'](_0x22e160,_0x138770,_0x371d30,_0x69336,_0x4dfd19,_0x46331b){const _0x3db039=_0x46331b['face']??0x17dc+-0x210f+0x933*0x1,_0x2b9527=_0x46331b['renderTarg'+'et']??new pt({'colorBuffer':_0x22e160,'depth':!(-0xe4+0x7*0x4cf+-0x20c4),'face':_0x3db039});v['assert'](_0x2b9527['colorBuffe'+'r']===_0x22e160);const _0x21c72a=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0x69336,_0x4dfd19,0x8ef+0x16de+-0x1fcc,_0x22e160['_format'])),_0x1e050b=_0x46331b['data']??new(Cy(_0x22e160['_format']))(_0x21c72a);return this['setRenderT'+'arget'](_0x2b9527),this['initRender'+'Target'](_0x2b9527),new Promise((_0x31fd9e,_0x14354f)=>{this['readPixels'+'Async'](_0x138770,_0x371d30,_0x69336,_0x4dfd19,_0x1e050b)['then'](_0x2e5d37=>{_0x46331b['renderTarg'+'et']||_0x2b9527['destroy'](),_0x31fd9e(_0x2e5d37);})['catch'](_0x14354f);});}['setAlphaTo'+'Coverage'](_0x3d8c30){this['alphaToCov'+'erage']!==_0x3d8c30&&(this['alphaToCov'+'erage']=_0x3d8c30,_0x3d8c30?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x37334e){if(this['transformF'+'eedbackBuf'+'fer']!==_0x37334e){this['transformF'+'eedbackBuf'+'fer']=_0x37334e;const _0x1efca0=this['gl'];_0x37334e?(this['feedback']||(this['feedback']=_0x1efca0['createTran'+'sformFeedb'+'ack']()),_0x1efca0['bindTransf'+'ormFeedbac'+'k'](_0x1efca0['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x1efca0['bindTransf'+'ormFeedbac'+'k'](_0x1efca0['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x248039){this['raster']!==_0x248039&&(this['raster']=_0x248039,_0x248039?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x2f3ed3){if(this['stencil']!==_0x2f3ed3){const _0x1ab2db=this['gl'];_0x2f3ed3?_0x1ab2db['enable'](_0x1ab2db['STENCIL_TE'+'ST']):_0x1ab2db['disable'](_0x1ab2db['STENCIL_TE'+'ST']),this['stencil']=_0x2f3ed3;}}['setStencil'+'Func'](_0x276d39,_0x21e874,_0x1fbde5){(this['stencilFun'+'cFront']!==_0x276d39||this['stencilRef'+'Front']!==_0x21e874||this['stencilMas'+'kFront']!==_0x1fbde5||this['stencilFun'+'cBack']!==_0x276d39||this['stencilRef'+'Back']!==_0x21e874||this['stencilMas'+'kBack']!==_0x1fbde5)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x276d39],_0x21e874,_0x1fbde5),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x276d39,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x21e874,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x1fbde5);}['setStencil'+'FuncFront'](_0x5dd954,_0xcee3bb,_0x1ada64){if(this['stencilFun'+'cFront']!==_0x5dd954||this['stencilRef'+'Front']!==_0xcee3bb||this['stencilMas'+'kFront']!==_0x1ada64){const _0x35f215=this['gl'];_0x35f215['stencilFun'+'cSeparate'](_0x35f215['FRONT'],this['glComparis'+'on'][_0x5dd954],_0xcee3bb,_0x1ada64),this['stencilFun'+'cFront']=_0x5dd954,this['stencilRef'+'Front']=_0xcee3bb,this['stencilMas'+'kFront']=_0x1ada64;}}['setStencil'+'FuncBack'](_0x47cc33,_0x4df5ab,_0x501734){if(this['stencilFun'+'cBack']!==_0x47cc33||this['stencilRef'+'Back']!==_0x4df5ab||this['stencilMas'+'kBack']!==_0x501734){const _0x45ac07=this['gl'];_0x45ac07['stencilFun'+'cSeparate'](_0x45ac07['BACK'],this['glComparis'+'on'][_0x47cc33],_0x4df5ab,_0x501734),this['stencilFun'+'cBack']=_0x47cc33,this['stencilRef'+'Back']=_0x4df5ab,this['stencilMas'+'kBack']=_0x501734;}}['setStencil'+'Operation'](_0x106591,_0x56708a,_0x49bf00,_0x5e20bc){(this['stencilFai'+'lFront']!==_0x106591||this['stencilZfa'+'ilFront']!==_0x56708a||this['stencilZpa'+'ssFront']!==_0x49bf00||this['stencilFai'+'lBack']!==_0x106591||this['stencilZfa'+'ilBack']!==_0x56708a||this['stencilZpa'+'ssBack']!==_0x49bf00)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x106591],this['glStencilO'+'p'][_0x56708a],this['glStencilO'+'p'][_0x49bf00]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x106591,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x56708a,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x49bf00),(this['stencilWri'+'teMaskFron'+'t']!==_0x5e20bc||this['stencilWri'+'teMaskBack']!==_0x5e20bc)&&(this['gl']['stencilMas'+'k'](_0x5e20bc),this['stencilWri'+'teMaskFron'+'t']=_0x5e20bc,this['stencilWri'+'teMaskBack']=_0x5e20bc);}['setStencil'+'OperationF'+'ront'](_0x20acf1,_0x33cedb,_0x17bc83,_0x425ad9){(this['stencilFai'+'lFront']!==_0x20acf1||this['stencilZfa'+'ilFront']!==_0x33cedb||this['stencilZpa'+'ssFront']!==_0x17bc83)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x20acf1],this['glStencilO'+'p'][_0x33cedb],this['glStencilO'+'p'][_0x17bc83]),this['stencilFai'+'lFront']=_0x20acf1,this['stencilZfa'+'ilFront']=_0x33cedb,this['stencilZpa'+'ssFront']=_0x17bc83),this['stencilWri'+'teMaskFron'+'t']!==_0x425ad9&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x425ad9),this['stencilWri'+'teMaskFron'+'t']=_0x425ad9);}['setStencil'+'OperationB'+'ack'](_0x5280f8,_0x1c10b7,_0x1703f4,_0x405178){(this['stencilFai'+'lBack']!==_0x5280f8||this['stencilZfa'+'ilBack']!==_0x1c10b7||this['stencilZpa'+'ssBack']!==_0x1703f4)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x5280f8],this['glStencilO'+'p'][_0x1c10b7],this['glStencilO'+'p'][_0x1703f4]),this['stencilFai'+'lBack']=_0x5280f8,this['stencilZfa'+'ilBack']=_0x1c10b7,this['stencilZpa'+'ssBack']=_0x1703f4),this['stencilWri'+'teMaskBack']!==_0x405178&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x405178),this['stencilWri'+'teMaskBack']=_0x405178);}['setBlendSt'+'ate'](_0x86cae6){const _0xbc519a=this['blendState'];if(!_0xbc519a['equals'](_0x86cae6)){const _0x425476=this['gl'],{blend:_0x573270,colorOp:_0x74ee2a,alphaOp:_0xb06e0b,colorSrcFactor:_0x18969f,colorDstFactor:_0x1116fe,alphaSrcFactor:_0x412bb1,alphaDstFactor:_0x32172e}=_0x86cae6;if(_0xbc519a['blend']!==_0x573270&&(_0x573270?_0x425476['enable'](_0x425476['BLEND']):_0x425476['disable'](_0x425476['BLEND'])),_0xbc519a['colorOp']!==_0x74ee2a||_0xbc519a['alphaOp']!==_0xb06e0b){const _0x249534=this['glBlendEqu'+'ation'];_0x425476['blendEquat'+'ionSeparat'+'e'](_0x249534[_0x74ee2a],_0x249534[_0xb06e0b]);}(_0xbc519a['colorSrcFa'+'ctor']!==_0x18969f||_0xbc519a['colorDstFa'+'ctor']!==_0x1116fe||_0xbc519a['alphaSrcFa'+'ctor']!==_0x412bb1||_0xbc519a['alphaDstFa'+'ctor']!==_0x32172e)&&_0x425476['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x18969f],this['glBlendFun'+'ctionColor'][_0x1116fe],this['glBlendFun'+'ctionAlpha'][_0x412bb1],this['glBlendFun'+'ctionAlpha'][_0x32172e]),_0xbc519a['allWrite']!==_0x86cae6['allWrite']&&this['gl']['colorMask'](_0x86cae6['redWrite'],_0x86cae6['greenWrite'],_0x86cae6['blueWrite'],_0x86cae6['alphaWrite']),_0xbc519a['copy'](_0x86cae6);}}['setBlendCo'+'lor'](_0x25b492,_0x41fbe4,_0x2abcec,_0x2540e8){const _0x3d6b6f=this['blendColor'];(_0x25b492!==_0x3d6b6f['r']||_0x41fbe4!==_0x3d6b6f['g']||_0x2abcec!==_0x3d6b6f['b']||_0x2540e8!==_0x3d6b6f['a'])&&(this['gl']['blendColor'](_0x25b492,_0x41fbe4,_0x2abcec,_0x2540e8),_0x3d6b6f['set'](_0x25b492,_0x41fbe4,_0x2abcec,_0x2540e8));}['setStencil'+'State'](_0x25b321,_0x485a39){_0x25b321||_0x485a39?(this['setStencil'+'Test'](!(-0xa*0x10f+0xffa+-0x8a*0xa)),_0x25b321===_0x485a39?(this['setStencil'+'Func'](_0x25b321['func'],_0x25b321['ref'],_0x25b321['readMask']),this['setStencil'+'Operation'](_0x25b321['fail'],_0x25b321['zfail'],_0x25b321['zpass'],_0x25b321['writeMask'])):(_0x25b321??(_0x25b321=qs['DEFAULT']),this['setStencil'+'FuncFront'](_0x25b321['func'],_0x25b321['ref'],_0x25b321['readMask']),this['setStencil'+'OperationF'+'ront'](_0x25b321['fail'],_0x25b321['zfail'],_0x25b321['zpass'],_0x25b321['writeMask']),_0x485a39??(_0x485a39=qs['DEFAULT']),this['setStencil'+'FuncBack'](_0x485a39['func'],_0x485a39['ref'],_0x485a39['readMask']),this['setStencil'+'OperationB'+'ack'](_0x485a39['fail'],_0x485a39['zfail'],_0x485a39['zpass'],_0x485a39['writeMask']))):this['setStencil'+'Test'](!(0x1541*0x1+0x968+-0x51c*0x6));}['setDepthSt'+'ate'](_0x42305f){const _0x18ee76=this['depthState'];if(!_0x18ee76['equals'](_0x42305f)){const _0x55a57c=this['gl'],_0x5a2f06=_0x42305f['write'];_0x18ee76['write']!==_0x5a2f06&&_0x55a57c['depthMask'](_0x5a2f06);let {func:_0x5510fd,test:_0x20c2f4}=_0x42305f;!_0x20c2f4&&_0x5a2f06&&(_0x20c2f4=!(-0x11ee+0x12d0+-0xe2),_0x5510fd=Ai),_0x18ee76['func']!==_0x5510fd&&_0x55a57c['depthFunc'](this['glComparis'+'on'][_0x5510fd]),_0x18ee76['test']!==_0x20c2f4&&(_0x20c2f4?_0x55a57c['enable'](_0x55a57c['DEPTH_TEST']):_0x55a57c['disable'](_0x55a57c['DEPTH_TEST']));const {depthBias:_0x2e413a,depthBiasSlope:_0x3f28c7}=_0x42305f;_0x2e413a||_0x3f28c7?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(0x37f+-0x25*-0xa3+-0x1b0e*0x1),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x55a57c['polygonOff'+'set'](_0x3f28c7,_0x2e413a)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(-0x12da*-0x1+0x1a9*-0x1+-0x1130),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x18ee76['copy'](_0x42305f);}}['setCullMod'+'e'](_0x3eddd8){if(this['cullMode']!==_0x3eddd8){if(_0x3eddd8===mt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===mt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x23fda7=this['glCull'][_0x3eddd8];this['cullFace']!==_0x23fda7&&(this['gl']['cullFace'](_0x23fda7),this['cullFace']=_0x23fda7);}this['cullMode']=_0x3eddd8;}}['setShader'](_0x2d964b,_0x1e7cf9=!(0x8*-0x175+0x25*0x65+-0x2f0)){_0x2d964b!==this['shader']&&(this['shader']=_0x2d964b,this['shaderAsyn'+'cCompile']=_0x1e7cf9,this['shaderVali'+'d']=void(-0x1*-0x2a2+0x2198+-0x243a),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](_0xdfbf4c){const {shader:_0x16f77c}=this,{impl:_0x41ecd9}=_0x16f77c;this['shaderVali'+'d']===void(0x112a+0x17d5+-0x28ff)&&(_0x16f77c['failed']?this['shaderVali'+'d']=!(0x19a8+0xacb*-0x2+-0x1*0x411):_0x16f77c['ready']||(this['shaderAsyn'+'cCompile']?_0x41ecd9['isLinked'](_0xdfbf4c)?_0x41ecd9['finalize'](this,_0x16f77c)||(_0x16f77c['failed']=!(-0x1338+0x2197*0x1+0x11b*-0xd),this['shaderVali'+'d']=!(-0x102a+-0x26df+-0x1b85*-0x2)):this['shaderVali'+'d']=!(0x17df+0x7*-0x3d9+-0x9d*-0x5):_0x41ecd9['finalize'](this,_0x16f77c)||(_0x16f77c['failed']=!(0x1ced+-0xa06+0x12e7*-0x1),this['shaderVali'+'d']=!(0x1365+-0xfb0+-0x3b4)))),this['shaderVali'+'d']===void(-0x119c+0x772+-0x1*-0xa2a)&&(this['gl']['useProgram'](_0x41ecd9['glProgram']),this['shaderVali'+'d']=!(-0x80c*0x2+0xca0*0x1+0x378));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x4bcd11=this['gl'];this['_vaoMap']['forEach']((_0x36d49d,_0x349ca2,_0x214b11)=>{_0x4bcd11['deleteVert'+'exArray'](_0x36d49d);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x339ebe){_0x339ebe?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x5653bd=-0xf49+0x35e*-0x2+0x1669){const _0x1be7aa=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x1be7aa['loseContex'+'t'](),setTimeout(()=>_0x1be7aa['restoreCon'+'text'](),_0x5653bd);}}let mb=-0x11b1*0x2+0x1c5d+0x705;class lr{constructor(_0xe14609,_0x57c2dd,_0x25f53d,_0x34790c=jt,_0x918094,_0x13f2e1){this['device']=_0xe14609,this['format']=_0x57c2dd,this['numIndices']=_0x25f53d,this['usage']=_0x34790c,this['id']=mb++,this['impl']=_0xe14609['createInde'+'xBufferImp'+'l'](this,_0x13f2e1);const _0x3bed4c=vv[_0x57c2dd];this['bytesPerIn'+'dex']=_0x3bed4c,this['numBytes']=this['numIndices']*_0x3bed4c,_0x918094?this['setData'](_0x918094):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0xe14609['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x56a2c0=this['device'],_0x2c3174=_0x56a2c0['buffers']['indexOf'](this);_0x2c3174!==-(-0x1*0x31+0x8e*-0x22+-0x2*-0x987)&&_0x56a2c0['buffers']['splice'](_0x2c3174,0xbc*-0x2+0x1bdd+0x4*-0x699),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x56a2c0),this['adjustVram'+'SizeTracki'+'ng'](_0x56a2c0['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x6313dd,_0x2aef4c){v['trace'](Qx,this['id']+'\x20size:\x20'+_0x2aef4c+'\x20vram.ib:\x20'+_0x6313dd['ib']+'\x20=>\x20'+(_0x6313dd['ib']+_0x2aef4c)),_0x6313dd['ib']+=_0x2aef4c;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x4e6cdf){return _0x4e6cdf['byteLength']!==this['numBytes']?(v['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x4e6cdf['byteLength']),!(0x1d73+-0x297+0x37*-0x7d)):(this['storage']=_0x4e6cdf,this['unlock'](),!(-0xc8c*-0x1+-0xd55+0xc9));}['_lockTyped'+'Array'](){const _0xeb8d35=this['lock']();return this['format']===nr?new Uint32Array(_0xeb8d35):this['format']===Pi?new Uint16Array(_0xeb8d35):new Uint8Array(_0xeb8d35);}['writeData'](_0x25d0fa,_0x395cec){const _0x410b5f=this['_lockTyped'+'Array']();if(_0x25d0fa['length']>_0x395cec){if(ArrayBuffer['isView'](_0x25d0fa))_0x25d0fa=_0x25d0fa['subarray'](-0xffb*0x1+0x94f+-0x3d*-0x1c,_0x395cec),_0x410b5f['set'](_0x25d0fa);else{for(let _0x10472e=0xc48+-0x1e7d+-0x1235*-0x1;_0x10472e<_0x395cec;_0x10472e++)_0x410b5f[_0x10472e]=_0x25d0fa[_0x10472e];}}else _0x410b5f['set'](_0x25d0fa);this['unlock']();}['readData'](_0x10d63c){const _0xe34073=this['_lockTyped'+'Array'](),_0x335e85=this['numIndices'];if(ArrayBuffer['isView'](_0x10d63c))_0x10d63c['set'](_0xe34073);else{_0x10d63c['length']=0x14a9*0x1+-0x1339+0x2e*-0x8;for(let _0x649ad2=-0x225d*-0x1+0x1389+-0x35e6;_0x649ad2<_0x335e85;_0x649ad2++)_0x10d63c[_0x649ad2]=_0xe34073[_0x649ad2];}return _0x335e85;}}class _b{constructor(){c(this,'clearValue',new Y(-0x2*0x112+0x1c80+0x1*-0x1a5c,-0x25e0+-0x1*0x1421+0x1df*0x1f,0x82*0x1f+-0xd93+-0x22b,0xd87+-0x1ae5+0xd5f)),c(this,'clearValue'+'Linear',new Y(-0x13*0x1c1+-0x5b+0x21ae,-0x1e27+0x618+0x3*0x805,0x1472+0x767*0x4+0x2*-0x1907,0x142c+-0x1*-0x25ee+0x1*-0x3a19)),c(this,'clear',!(0xf8d+-0xac5*-0x1+-0x1a51)),c(this,'store',!(-0xdc4*-0x2+-0x156e*-0x1+0x53*-0x97)),c(this,'resolve',!(0x6*0x65+0xdf3+0x1*-0x1051)),c(this,'genMipmaps',!(-0xb*-0x16f+0x1*-0x1978+0x9b4));}}class gb{constructor(){c(this,'clearDepth'+'Value',0xaea+0x10f*0x3+0x1*-0xe16),c(this,'clearStenc'+'ilValue',-0x48b*0x5+-0xb8c+0x2243),c(this,'clearDepth',!(0x2348+-0x7*-0x6d+0x2*-0x1321)),c(this,'clearStenc'+'il',!(0x443*0x2+-0x233b*-0x1+0x1*-0x2bc0)),c(this,'storeDepth',!(-0x476*0x5+0x15*0xc0+0x68f)),c(this,'resolveDep'+'th',!(-0x25*-0xdf+-0x397*0x1+-0x1ca3)),c(this,'storeStenc'+'il',!(-0x3a*0xa3+-0x18d*0xb+0x1aff*0x2));}}class ds{constructor(_0x3c23dd){c(this,'_name'),c(this,'device'),c(this,'_enabled',!(0x4*-0x6ee+-0x244c+-0x1001*-0x4)),c(this,'_skipStart',!(0x1b58+-0x2443+-0x8ec*-0x1)),c(this,'_skipEnd',!(0x1*0xf2d+-0x995*-0x2+-0x2256)),c(this,'executeEna'+'bled',!(-0x41a+-0x1278*0x1+-0x3*-0x786)),c(this,'renderTarg'+'et'),c(this,'_options'),c(this,'samples',-0x3a3+-0x316+-0x6b9*-0x1),c(this,'colorArray'+'Ops',[]),c(this,'depthStenc'+'ilOps'),c(this,'requiresCu'+'bemaps',!(0x2392*-0x1+-0x13e6+0x8e*0x64)),c(this,'fullSizeCl'+'earRect',!(-0x34*0x2c+-0xf*-0x253+-0x19ed)),c(this,'beforePass'+'es',[]),c(this,'afterPasse'+'s',[]),(v['assert'](_0x3c23dd),this['device']=_0x3c23dd);}get['colorOps'](){return this['colorArray'+'Ops'][0x23a1+0x1*-0x41f+0x1f82*-0x1];}set['name'](_0x21b31e){this['_name']=_0x21b31e;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0xe06779){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0xe06779;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x2fa0a7){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x2fa0a7;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x48fa3d){this['_options']=_0x48fa3d,_0x48fa3d&&(this['scaleX']=this['scaleX']??-0x9cd*-0x3+0x1*0x160f+-0x3375,this['scaleY']=this['scaleY']??-0x2*-0x558+0x32*0x8+-0xc3f);}get['options'](){return this['_options'];}['init'](_0x2a1cc1=null,_0x49c672){this['options']=_0x49c672,this['renderTarg'+'et']=_0x2a1cc1,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],0x2062+0x3*0x74b+-0x1*0x3642),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x90dae,_0x4224c2,_0x24438d,_0x8f5a7f;const _0xa90c6f=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new gb(),_0xa90c6f!=null&&_0xa90c6f['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(0x1f0b+-0x23a4+0x1*0x499));const _0x515498=_0xa90c6f?((_0x90dae=_0xa90c6f['_colorBuff'+'ers'])==null?void(-0x2*-0x121c+0x1848+-0x80*0x79):_0x90dae['length'])??-0x1*0x1426+-0x18fd+0x2d23:0x110b*0x1+0x1b34+-0x2c3e;this['colorArray'+'Ops']['length']=-0x1e3b+-0x1615+0x3450;for(let _0x34b2dc=-0x262d+0x114f+0x1*0x14de;_0x34b2dc<_0x515498;_0x34b2dc++){const _0x292ef1=new _b();this['colorArray'+'Ops'][_0x34b2dc]=_0x292ef1,this['samples']===-0xe56+0xd0c+0x14b&&(_0x292ef1['store']=!(-0x8*-0x279+-0x88c+-0x1*0xb3c),_0x292ef1['resolve']=!(0x1c86*-0x1+-0xd75*-0x1+0xf12));const _0x5bfb90=(_0x24438d=(_0x4224c2=this['renderTarg'+'et'])==null?void(0x111f+0x1771*-0x1+0x652):_0x4224c2['_colorBuff'+'ers'])==null?void(-0xf44*0x1+0x1*0x2055+-0x101*0x11):_0x24438d[_0x34b2dc];if((_0x8f5a7f=this['renderTarg'+'et'])!=null&&_0x8f5a7f['mipmaps']&&(_0x5bfb90!=null&&_0x5bfb90['mipmaps'])){const _0x2b454c=ea(_0x5bfb90['_format']);_0x292ef1['genMipmaps']=!_0x2b454c;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x74f501=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x3e1348=Math['floor'](_0x74f501['width']*this['scaleX']),_0x27f3b6=Math['floor'](_0x74f501['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x3e1348,_0x27f3b6);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x774b57){this['_enabled']!==_0x774b57&&(this['_enabled']=_0x774b57,_0x774b57?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x252717){const _0x52ff21=this['colorArray'+'Ops']['length'];for(let _0x36faa3=0x4c9+-0xb5f+0x696;_0x36faa3<_0x52ff21;_0x36faa3++){const _0xd140a7=this['colorArray'+'Ops'][_0x36faa3];_0x252717&&(_0xd140a7['clearValue']['copy'](_0x252717),_0xd140a7['clearValue'+'Linear']['linear'](_0x252717)),_0xd140a7['clear']=!!_0x252717;}}['setClearDe'+'pth'](_0x40cb75){_0x40cb75&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x40cb75),this['depthStenc'+'ilOps']['clearDepth']=_0x40cb75!==void(0x1f*0x110+-0x145*0x18+-0x278);}['setClearSt'+'encil'](_0x105a76){_0x105a76&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x105a76),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x105a76!==void(-0x11a7+-0xde5+0x1f8c);}['render'](){if(this['enabled']){const _0x34f75a=this['device'],_0x5579c0=this['renderTarg'+'et']!==void(0xb4a+0x2*0xc9d+-0x2484);v['call'](()=>{this['log'](_0x34f75a,_0x34f75a['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x5579c0&&!this['_skipStart']&&_0x34f75a['startRende'+'rPass'](this),this['execute'](),_0x5579c0&&!this['_skipEnd']&&_0x34f75a['endRenderP'+'ass'](this)),this['after'](),_0x34f75a['renderPass'+'Index']++;}}['log'](_0x38f708,_0x216b6b=0x69b*-0x1+0x6e7+-0x4c){var _0x69817d,_0x536515,_0x299c6c;if(Xs['get'](jp)||Xs['get'](Jn)){const _0x3a46f4=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x38f708['backBuffer']:null),_0xf7d044=!!(_0x3a46f4!=null&&_0x3a46f4['impl']['assignedCo'+'lorTexture'])||(_0x3a46f4==null?void(-0x5*-0x633+-0x1b23+0x1*-0x3dc):_0x3a46f4['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(0x4b1*-0x5+0x81+0x16f4),_0x355b26=((_0x69817d=_0x3a46f4==null?void(0x1*0x174d+-0x4*0x617+-0x10f*-0x1):_0x3a46f4['_colorBuff'+'ers'])==null?void(-0x1*-0x1b64+0x209b*0x1+-0x1*0x3bff):_0x69817d['length'])??(_0xf7d044?0x7eb+0xb27*-0x1+0x33d:0x1868+0x1a*-0xf9+0x1*0xe2),_0x4388cf=_0x3a46f4==null?void(0x2584+-0x3df*-0x1+-0x32f*0xd):_0x3a46f4['depth'],_0x22b928=_0x3a46f4==null?void(-0x241*-0xb+-0xa*0x3e+-0x17*0xf9):_0x3a46f4['stencil'],_0x14f8b7=_0x3a46f4==null?void(-0x4b2*0x5+-0x1eb4+-0x2da*-0x13):_0x3a46f4['mipLevel'],_0x1407cf=_0x3a46f4?'\x20RT:\x20'+(_0x3a46f4?_0x3a46f4['name']:'NULL')+'\x20'+(_0x355b26>-0x1*-0x1ad3+-0x2*-0xcba+0x3447*-0x1?'[Color'+(_0x355b26>0x1d0b+-0x779*-0x1+-0x2483?'\x20x\x20'+_0x355b26:'')+']':'')+(_0x4388cf?'[Depth]':'')+(_0x22b928?'[Stencil]':'')+'\x20'+_0x3a46f4['width']+'\x20x\x20'+_0x3a46f4['height']+(this['samples']>0x18d7*0x1+0xad*-0x1+-0x6*0x407?'\x20samples:\x20'+this['samples']:'')+(_0x14f8b7>0xc3c+0x2558+-0x13*0x29c?'\x20mipLevel:'+'\x20'+_0x14f8b7:''):'',_0x1c5e1b=this['_skipStart']?'++':_0x216b6b['toString']()['padEnd'](-0x7*-0x295+0x267e+-0x388f,'\x20');v['trace'](jp,_0x1c5e1b+':\x20'+this['name']['padEnd'](-0x3*-0x57b+-0x207+-0xe56*0x1,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x1407cf['padEnd'](-0x1*0x2f6+-0x16ef+-0x1*-0x1a03));for(let _0x4f095a=0x2212+-0x2a7*-0xa+-0x1e4c*0x2;_0x4f095a<_0x355b26;_0x4f095a++){const _0x2bedf1=this['colorArray'+'Ops'][_0x4f095a],_0x32593d=(_0x536515=xt['get'](_0xf7d044?_0x38f708['backBuffer'+'Format']:_0x3a46f4['getColorBu'+'ffer'](_0x4f095a)['format']))==null?void(0x1d5*-0x1+0x2445+-0x2270):_0x536515['name'];v['trace'](Jn,'\x20\x20\x20\x20color['+_0x4f095a+']:\x20'+(_0x2bedf1['clear']?'clear':'load')+'->'+(_0x2bedf1['store']?'store':'discard')+'\x20'+(_0x2bedf1['resolve']?'resolve\x20':'')+(_0x2bedf1['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x32593d+']\x20'+(_0x2bedf1['clear']?'[clear:\x20'+_0x2bedf1['clearValue']['toString'](!(0xed6+-0x1*0x14a5+-0x5cf*-0x1),!(-0x9d4*0x1+-0xf07*0x2+-0x7fa*-0x5))+']':''));}if(this['depthStenc'+'ilOps']){const _0x19dd11=''+(_0x3a46f4['depthBuffe'+'r']?'\x20[format:\x20'+((_0x299c6c=xt['get'](_0x3a46f4['depthBuffe'+'r']['format']))==null?void(-0x12ee*0x1+-0x799*-0x1+-0x3*-0x3c7):_0x299c6c['name'])+']':'');_0x4388cf&&v['trace'](Jn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x19dd11+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x22b928&&v['trace'](Jn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x19dd11+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function yb(_0x361970){this['array'][this['index']]=_0x361970;}function xb(_0x5713e7,_0x58a671){this['array'][this['index']]=_0x5713e7,this['array'][this['index']+(-0x41d+0x1d9*-0x1+-0x3*-0x1fd)]=_0x58a671;}function Sb(_0x5ec442,_0x5e0e8a,_0x3d18bc){this['array'][this['index']]=_0x5ec442,this['array'][this['index']+(-0x215+0x1b5c+-0x1946)]=_0x5e0e8a,this['array'][this['index']+(0x44e*0x7+-0x4*0x287+-0x2a*0x7a)]=_0x3d18bc;}function vb(_0x96b58a,_0x29110d,_0x26c3a0,_0xa56255){this['array'][this['index']]=_0x96b58a,this['array'][this['index']+(-0x17*0x1a6+0x247d+0x16e)]=_0x29110d,this['array'][this['index']+(-0x1387+-0x119*-0x6+0xcf3)]=_0x26c3a0,this['array'][this['index']+(0x3*0xcf0+0x17b*-0xf+0x6*-0x2c4)]=_0xa56255;}function bb(_0x3a4b0e,_0x10a9ff,_0x1f0d3b){this['array'][_0x3a4b0e]=_0x10a9ff[_0x1f0d3b];}function wb(_0x40aade,_0x5d7015,_0x575dd5){this['array'][_0x40aade]=_0x5d7015[_0x575dd5],this['array'][_0x40aade+(0x174+0x313*-0xc+0xd3*0x2b)]=_0x5d7015[_0x575dd5+(-0x1295+-0x10*0x192+0x2bb6)];}function Tb(_0x727cc3,_0x36aac7,_0x459c14){this['array'][_0x727cc3]=_0x36aac7[_0x459c14],this['array'][_0x727cc3+(-0x25c4+0x1231+-0x2*-0x9ca)]=_0x36aac7[_0x459c14+(0x255*0x1+0x1*-0x4e7+-0x1*-0x293)],this['array'][_0x727cc3+(0x1a61+-0x1*0x1351+-0x70e)]=_0x36aac7[_0x459c14+(0x1bab+0x16c2+-0x1*0x326b)];}function Ab(_0x89f78e,_0x559944,_0x206868){this['array'][_0x89f78e]=_0x559944[_0x206868],this['array'][_0x89f78e+(-0x1e14+-0x23c6+0x41db)]=_0x559944[_0x206868+(0xb*-0x20c+-0x34+0x16b9)],this['array'][_0x89f78e+(-0x136b*-0x1+0x2565*0x1+-0x38ce)]=_0x559944[_0x206868+(-0x1cc3+0x1ac4+-0x201*-0x1)],this['array'][_0x89f78e+(0xd9b+0x25b2+-0x334a)]=_0x559944[_0x206868+(-0x619+-0x10a3+0x16bf)];}function Eb(_0x633597,_0x3068c7,_0x17256b){_0x3068c7[_0x17256b]=this['array'][_0x633597];}function Cb(_0x3ab629,_0x432d98,_0x481c36){_0x432d98[_0x481c36]=this['array'][_0x3ab629],_0x432d98[_0x481c36+(-0x1*-0x1297+-0x3e2+-0x4*0x3ad)]=this['array'][_0x3ab629+(0x7*-0x537+0x969+0x1b19)];}function Mb(_0x229e5a,_0x5c4fd5,_0x54f09d){_0x5c4fd5[_0x54f09d]=this['array'][_0x229e5a],_0x5c4fd5[_0x54f09d+(0xdf*0x1+0x48f*-0x5+0x15ed)]=this['array'][_0x229e5a+(-0x1443+0xea7+-0x59d*-0x1)],_0x5c4fd5[_0x54f09d+(0x1*0x886+0x62*0x22+0x1588*-0x1)]=this['array'][_0x229e5a+(0x5c*-0x65+0x53*-0x20+0x2eae)];}function Pb(_0x45f732,_0x55a0e6,_0x32a42a){_0x55a0e6[_0x32a42a]=this['array'][_0x45f732],_0x55a0e6[_0x32a42a+(-0x18*-0x44+0xc2*-0x25+-0x2b*-0x81)]=this['array'][_0x45f732+(-0x7df+0xa*0x257+-0x2*0x7c3)],_0x55a0e6[_0x32a42a+(0x16ed+-0x1fc0+0x8d5)]=this['array'][_0x45f732+(-0x1*0x1d6e+0x18b9+0x4b7)],_0x55a0e6[_0x32a42a+(0x1ea9+0xadc+0x2a*-0xfd)]=this['array'][_0x45f732+(0x20a9+0x14f2+-0x3598)];}class Rb{constructor(_0x3bbad1,_0x41b1b8,_0x4a086b){switch(this['index']=-0x29a+-0xd70+0x1*0x100a,this['numCompone'+'nts']=_0x41b1b8['numCompone'+'nts'],_0x4a086b['interleave'+'d']?this['array']=new da[_0x41b1b8['dataType']](_0x3bbad1,_0x41b1b8['offset']):this['array']=new da[_0x41b1b8['dataType']](_0x3bbad1,_0x41b1b8['offset'],_0x4a086b['vertexCoun'+'t']*_0x41b1b8['numCompone'+'nts']),this['stride']=_0x41b1b8['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x41b1b8['numCompone'+'nts']){case-0xca*0x2+0x480+-0x2eb:this['set']=yb,this['getToArray']=Eb,this['setFromArr'+'ay']=bb;break;case 0x1*0x21ae+-0x20d5+-0xd7:this['set']=xb,this['getToArray']=Cb,this['setFromArr'+'ay']=wb;break;case-0x954+0x117a+0x823*-0x1:this['set']=Sb,this['getToArray']=Mb,this['setFromArr'+'ay']=Tb;break;case 0x15d7*0x1+-0x1b1*0x14+-0xc01*-0x1:this['set']=vb,this['getToArray']=Pb,this['setFromArr'+'ay']=Ab;break;}}['get'](_0x3bbc7d){return this['array'][this['index']+_0x3bbc7d];}['set'](_0x4c6a59,_0x30db93,_0x43b88c,_0x36599a){}['getToArray'](_0x310d3f,_0x1e9631,_0x42839a){}['setFromArr'+'ay'](_0x14ee14,_0x5d9e15,_0x4afb08){}}class go{constructor(_0x86ac7e){this['vertexBuff'+'er']=_0x86ac7e,this['vertexForm'+'atSize']=_0x86ac7e['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x5a6929=this['vertexBuff'+'er']['getFormat']();for(let _0xd3459b=-0x17*-0x19+-0x3ef+-0x6c*-0x4;_0xd3459b<_0x5a6929['elements']['length'];_0xd3459b++){const _0x1db413=_0x5a6929['elements'][_0xd3459b];this['accessors'][_0xd3459b]=new Rb(this['buffer'],_0x1db413,_0x5a6929),this['element'][_0x1db413['name']]=this['accessors'][_0xd3459b];}}['next'](_0x3a8eee=-0x2077*0x1+-0x637*-0x1+-0x1*-0x1a41){let _0x2463d4=0xc9*-0x15+-0x1bf1*-0x1+-0xb74;const _0x775a95=this['accessors'],_0x4b39f7=this['accessors']['length'];for(;_0x2463d4<_0x4b39f7;){const _0x38c13d=_0x775a95[_0x2463d4++];_0x38c13d['index']+=_0x3a8eee*_0x38c13d['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x24afda,_0x3170f8,_0x2d802a){const _0x4c6b33=this['element'][_0x24afda];if(_0x4c6b33){_0x2d802a>this['vertexBuff'+'er']['numVertice'+'s']&&(v['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x2d802a+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x2d802a=this['vertexBuff'+'er']['numVertice'+'s']);const _0x54707f=_0x4c6b33['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x451e0e=-0x26b8+0x8e4*-0x1+0x17ce*0x2;for(let _0x432ac1=0x1af*0xb+0x2*0x1fd+0xd*-0x1bb;_0x432ac1<_0x2d802a;_0x432ac1++)_0x4c6b33['setFromArr'+'ay'](_0x451e0e,_0x3170f8,_0x432ac1*_0x54707f),_0x451e0e+=_0x4c6b33['stride'];}else{if(_0x3170f8['length']>_0x2d802a*_0x54707f){const _0x36c8c1=_0x2d802a*_0x54707f;if(ArrayBuffer['isView'](_0x3170f8))_0x3170f8=_0x3170f8['subarray'](0x391*0xa+0x1c1+-0x256b,_0x36c8c1),_0x4c6b33['array']['set'](_0x3170f8);else{for(let _0x1608fc=0x101d+0xa9c+0x1*-0x1ab9;_0x1608fc<_0x36c8c1;_0x1608fc++)_0x4c6b33['array'][_0x1608fc]=_0x3170f8[_0x1608fc];}}else _0x4c6b33['array']['set'](_0x3170f8);}}}['readData'](_0x1cd653,_0x50e82d){const _0x2ec253=this['element'][_0x1cd653];let _0xf4f9ba=-0x156*-0xd+0x8c5+-0x1a23*0x1;if(_0x2ec253){_0xf4f9ba=this['vertexBuff'+'er']['numVertice'+'s'];let _0x55ad79;const _0x588b9f=_0x2ec253['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x50e82d)&&(_0x50e82d['length']=-0x1f7*0x12+-0xee*0xf+0x3150),_0x2ec253['index']=0xcc+-0x3*0xbe1+0x22d7;let _0x259ccb=-0x14e*0x1a+0xfce+0x305*0x6;for(_0x55ad79=-0x9a2+0x775+0x22d*0x1;_0x55ad79<_0xf4f9ba;_0x55ad79++)_0x2ec253['getToArray'](_0x259ccb,_0x50e82d,_0x55ad79*_0x588b9f),_0x259ccb+=_0x2ec253['stride'];}else{if(ArrayBuffer['isView'](_0x50e82d))_0x50e82d['set'](_0x2ec253['array']);else{_0x50e82d['length']=-0x1379+-0x1321*0x1+0xa2*0x3d;const _0xec62b0=_0xf4f9ba*_0x588b9f;for(_0x55ad79=0xc32*0x1+0x830+0xa31*-0x2;_0x55ad79<_0xec62b0;_0x55ad79++)_0x50e82d[_0x55ad79]=_0x2ec253['array'][_0x55ad79];}}}return _0xf4f9ba;}}const Im='mousedown',Dm='mousemove',Lm='mouseup',Mu='mousewheel',Ib=-(-0x18a7+0x1*0xda3+0xb05);class Db{constructor(_0x250801,_0x403d91){c(this,'key',null),c(this,'element',null),c(this,'event',null),_0x403d91&&(this['key']=_0x403d91['keyCode'],this['element']=_0x403d91['target'],this['event']=_0x403d91);}}const Sl=new Db();function fd(_0x944435){return Sl['key']=_0x944435['keyCode'],Sl['element']=_0x944435['target'],Sl['event']=_0x944435,Sl;}function vl(_0xf4794b){return typeof _0xf4794b=='string'?_0xf4794b['toUpperCas'+'e']()['charCodeAt'](-0x542*0x1+0x1*0x313+0x22f):_0xf4794b;}const Lb={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class Fm extends ce{constructor(_0x3f556b,_0x2cb8ca={}){super(),c(this,'_element',null),c(this,'_keymap',{}),c(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x3f556b&&this['attach'](_0x3f556b),this['preventDef'+'ault']=_0x2cb8ca['preventDef'+'ault']||!(0x36d+0x3ae+-0xca*0x9),this['stopPropag'+'ation']=_0x2cb8ca['stopPropag'+'ation']||!(0x141d+-0x13*-0x1bb+-0x34fd));}['attach'](_0x2e4c37){this['_element']&&this['detach'](),this['_element']=_0x2e4c37,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(0x1*-0xc1+-0x104f+0x1111)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(0xc05+-0xb*-0x275+-0x270b)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(0x678+0x1243+-0x18ba)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x323*-0x8+-0x2*-0x12cc+-0xc7f)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(0x4*-0x12c+-0x17*-0x167+-0x126*0x18));}['detach'](){if(!this['_element']){v['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x117d+-0x608+-0xb74)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(-0x14d+0x3*-0xac6+0x21a0));}['toKeyIdent'+'ifier'](_0x59d8f6){_0x59d8f6=vl(_0x59d8f6);const _0x33511b=Lb[_0x59d8f6['toString']()];if(_0x33511b)return _0x33511b;let _0x10adea=_0x59d8f6['toString'](-0x1*0xa7b+0x1718+-0xc8d)['toUpperCas'+'e']();const _0x5c3c17=_0x10adea['length'];for(let _0x2fbbe2=-0x94c+-0x3*-0xa1c+-0x1508;_0x2fbbe2<0x4f*0x4f+0x633*-0x2+0x3*-0x3fd-_0x5c3c17;_0x2fbbe2++)_0x10adea='0'+_0x10adea;return'U+'+_0x10adea;}['_handleKey'+'Down'](_0xbaa091){const _0x581d0f=_0xbaa091['keyCode']||_0xbaa091['charCode'];if(_0x581d0f===void(0x168b*-0x1+0x1f82+-0xf*0x99))return;const _0x440929=this['toKeyIdent'+'ifier'](_0x581d0f);this['_keymap'][_0x440929]=!(-0x1dc2+0xb92*0x1+0x1230),this['fire']('keydown',fd(_0xbaa091)),this['preventDef'+'ault']&&_0xbaa091['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0xbaa091['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x57c279){const _0xd2d84b=_0x57c279['keyCode']||_0x57c279['charCode'];if(_0xd2d84b===void(0x6ef*0x1+0x2*0xf7f+-0x1*0x25ed))return;const _0x29f49f=this['toKeyIdent'+'ifier'](_0xd2d84b);delete this['_keymap'][_0x29f49f],this['fire']('keyup',fd(_0x57c279)),this['preventDef'+'ault']&&_0x57c279['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x57c279['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x572c71){this['fire']('keypress',fd(_0x572c71)),this['preventDef'+'ault']&&_0x572c71['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x572c71['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x4bbded in this['_lastmap'])delete this['_lastmap'][_0x4bbded];for(const _0x386681 in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x386681)&&(this['_lastmap'][_0x386681]=this['_keymap'][_0x386681]);}['isPressed'](_0x2b5648){const _0x1a6641=vl(_0x2b5648),_0x30255d=this['toKeyIdent'+'ifier'](_0x1a6641);return!!this['_keymap'][_0x30255d];}['wasPressed'](_0x1bd3df){const _0x863116=vl(_0x1bd3df),_0xd2b018=this['toKeyIdent'+'ifier'](_0x863116);return!!this['_keymap'][_0xd2b018]&&!this['_lastmap'][_0xd2b018];}['wasRelease'+'d'](_0x1ab7d9){const _0x5dcd35=vl(_0x1ab7d9),_0x2759fd=this['toKeyIdent'+'ifier'](_0x5dcd35);return!this['_keymap'][_0x2759fd]&&!!this['_lastmap'][_0x2759fd];}}c(Fm,'EVENT_KEYD'+'OWN','keydown'),c(Fm,'EVENT_KEYU'+'P','keyup');function Pu(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x232150,_0x2842c8){c(this,'x',0x1df3+0x1667+0x1a2d*-0x2),c(this,'y',-0x1c*0xdf+0x55d+0x1307*0x1),c(this,'dx',-0x1470*0x1+-0x11ed*0x1+-0xa1*-0x3d),c(this,'dy',-0xcb2+0x1*-0x67a+0x132c),c(this,'button',Ib),c(this,'wheelDelta',-0x1b35+-0x1b*0x11+-0x8*-0x3a0),c(this,'element'),c(this,'ctrlKey',!(0x13*-0xd5+0x16a*-0x14+0x2c18)),c(this,'altKey',!(-0x4*0xcd+0x1923+-0x15ee)),c(this,'shiftKey',!(-0x1*0x689+-0x1*0x2555+0x2bdf*0x1)),c(this,'metaKey',!(-0x1190+0x1e5*-0x11+-0x2*-0x18e3)),c(this,'event');let _0x550af9={'x':0x0,'y':0x0};if(_0x2842c8){if(_0x2842c8 instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x550af9=_0x232150['_getTarget'+'Coords'](_0x2842c8);}else _0x2842c8={};if(_0x550af9)this['x']=_0x550af9['x'],this['y']=_0x550af9['y'];else{if(Pu())this['x']=0x10ab+-0x1567+-0x4*-0x12f,this['y']=-0x2066+0x1e5b+0x20b*0x1;else return;}_0x2842c8['type']==='wheel'&&(_0x2842c8['deltaY']>0x317+0x186d+0x24b*-0xc?this['wheelDelta']=-0x257d+0x3*-0x35a+0x2f8c:_0x2842c8['deltaY']<-0x1*-0x21d+-0x8d6*0x1+-0x6b9*-0x1&&(this['wheelDelta']=-(-0x1*-0xef5+0x7*-0x565+0x1*0x16cf))),Pu()?(this['dx']=_0x2842c8['movementX']||_0x2842c8['webkitMove'+'mentX']||_0x2842c8['mozMovemen'+'tX']||0x649+0x15*0xe5+-0x1912,this['dy']=_0x2842c8['movementY']||_0x2842c8['webkitMove'+'mentY']||_0x2842c8['mozMovemen'+'tY']||-0x8*0x149+-0xfcc+0xd0a*0x2):(this['dx']=this['x']-_0x232150['_lastX'],this['dy']=this['y']-_0x232150['_lastY']),(_0x2842c8['type']==='mousedown'||_0x2842c8['type']==='mouseup')&&(this['button']=_0x2842c8['button']),this['buttons']=_0x232150['_buttons']['slice'](0xc36+0x68*0x1f+-0x18ce),this['element']=_0x2842c8['target'],this['ctrlKey']=_0x2842c8['ctrlKey']??!(-0xa*0x4f+-0x26fa+0x59*0x79),this['altKey']=_0x2842c8['altKey']??!(0x40*0x10+-0x14d1+0x10d2*0x1),this['shiftKey']=_0x2842c8['shiftKey']??!(-0x1a31+-0x819*-0x1+0x29*0x71),this['metaKey']=_0x2842c8['metaKey']??!(0x1*0xb67+0x4*-0x265+-0x1d2),this['event']=_0x2842c8;}}class bl extends ce{constructor(_0x51bf2d){super(),c(this,'_lastX',0x6fd+-0xd4d+0x10*0x65),c(this,'_lastY',0x3f5*0x1+-0x14d5+0x8*0x21c),c(this,'_buttons',[!(-0xa79+0x2327+-0x18ad),!(-0x21a7+-0xd96+-0x2*-0x179f),!(-0x21a*-0x11+0x67*-0x4f+-0x3f0)]),c(this,'_lastbutto'+'ns',[!(-0x5*0x14b+-0x13a7+-0x9*-0x2e7),!(0x1467+0x23*-0x4f+0x15*-0x75),!(-0x1*0x3b7+0x8ec+-0x3*0x1bc)]),c(this,'_target',null),c(this,'_attached',!(0x642+0x1*-0x21ee+-0x41*-0x6d)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x4bfabd=>{_0x4bfabd['preventDef'+'ault']();},this['attach'](_0x51bf2d));}static['isPointerL'+'ocked'](){return Pu();}['attach'](_0x5aef32){if(this['_target']=_0x5aef32,this['_attached'])return;this['_attached']=!(0xbe*0x11+-0xbcd+-0xd1);const _0xc3645d={'passive':!(-0x455+-0x9c*0x29+0x1d52)},_0x1195bb=ye['passiveEve'+'nts']?_0xc3645d:!(0x201b*-0x1+0x1*0x1cda+-0x6*-0x8b);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x1195bb),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x1195bb),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x1195bb),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x1195bb);}['detach'](){if(!this['_attached'])return;this['_attached']=!(0xce+0x18*-0x8e+-0xc83*-0x1),this['_target']=null;const _0x94d1d={'passive':!(-0xb*0x87+-0x1b38+0x2106)},_0x44a5d2=ye['passiveEve'+'nts']?_0x94d1d:!(-0x163c+0x1*0x167b+-0x3e);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x44a5d2),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x44a5d2),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x44a5d2),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x44a5d2);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x194741,_0x51b8e6){if(!document['body']['requestPoi'+'nterLock']){_0x51b8e6&&_0x51b8e6();return;}const _0x4f64ad=()=>{_0x194741(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x4f64ad);},_0x5d5946=()=>{_0x51b8e6(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x5d5946);};_0x194741&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x4f64ad,!(-0x8*0x9e+-0x5bb+0xaac)),_0x51b8e6&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x5d5946,!(-0x205d*-0x1+0x860+-0x28bc)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x2fbfbf){if(!document['exitPointe'+'rLock'])return;const _0x5334c7=()=>{_0x2fbfbf(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x5334c7);};_0x2fbfbf&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x5334c7,!(-0x470+-0x1e77+0x1*0x22e8)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][0x5*-0x44f+-0x17a8+-0x85*-0x57]=this['_buttons'][-0x15bd+0x17f4+-0x237],this['_lastbutto'+'ns'][0x9*-0x130+0xac7+-0x2*0xb]=this['_buttons'][-0xa19+0x9*-0x33d+0x11*0x24f],this['_lastbutto'+'ns'][-0x1*0x1dcd+-0x20be+0x3e8d]=this['_buttons'][0xc35+-0x6d6+-0x55d*0x1];}['isPressed'](_0x339875){return this['_buttons'][_0x339875];}['wasPressed'](_0xe11372){return this['_buttons'][_0xe11372]&&!this['_lastbutto'+'ns'][_0xe11372];}['wasRelease'+'d'](_0x1e4db0){return!this['_buttons'][_0x1e4db0]&&this['_lastbutto'+'ns'][_0x1e4db0];}['_handleUp'](_0x19ad07){this['_buttons'][_0x19ad07['button']]=!(0x811+0x13bf+-0x1bcf);const _0x397a5e=new ta(this,_0x19ad07);_0x397a5e['event']&&this['fire'](Lm,_0x397a5e);}['_handleDow'+'n'](_0x5667e6){this['_buttons'][_0x5667e6['button']]=!(-0x4be+0xf82+0x6a*-0x1a);const _0x3229fb=new ta(this,_0x5667e6);_0x3229fb['event']&&this['fire'](Im,_0x3229fb);}['_handleMov'+'e'](_0xb1dec3){const _0x5a8fb1=new ta(this,_0xb1dec3);_0x5a8fb1['event']&&(this['fire'](Dm,_0x5a8fb1),this['_lastX']=_0x5a8fb1['x'],this['_lastY']=_0x5a8fb1['y']);}['_handleWhe'+'el'](_0x524d6c){const _0x1e2ab7=new ta(this,_0x524d6c);_0x1e2ab7['event']&&this['fire'](Mu,_0x1e2ab7);}['_getTarget'+'Coords'](_0x1ef4cd){const _0x1e45a4=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x42ea8f=Math['floor'](_0x1e45a4['left']),_0x3f94c8=Math['floor'](_0x1e45a4['top']);return _0x1ef4cd['clientX']<_0x42ea8f||_0x1ef4cd['clientX']>=_0x42ea8f+this['_target']['clientWidt'+'h']||_0x1ef4cd['clientY']<_0x3f94c8||_0x1ef4cd['clientY']>=_0x3f94c8+this['_target']['clientHeig'+'ht']?null:{'x':_0x1ef4cd['clientX']-_0x42ea8f,'y':_0x1ef4cd['clientY']-_0x3f94c8};}}c(bl,'EVENT_MOUS'+'EMOVE',Dm),c(bl,'EVENT_MOUS'+'EDOWN',Im),c(bl,'EVENT_MOUS'+'EUP',Lm),c(bl,'EVENT_MOUS'+'EWHEEL',Mu);const be=class be{['get'](_0x8be4b8,_0x343383,_0x5c7a32){return typeof _0x343383=='function'&&(_0x5c7a32=_0x343383,_0x343383={}),this['request']('GET',_0x8be4b8,_0x343383,_0x5c7a32);}['post'](_0x4df788,_0x525952,_0x35c846,_0x311006){return typeof _0x35c846=='function'&&(_0x311006=_0x35c846,_0x35c846={}),_0x35c846['postdata']=_0x525952,this['request']('POST',_0x4df788,_0x35c846,_0x311006);}['put'](_0x5c63c9,_0x424018,_0x1cef78,_0x4d871b){return typeof _0x1cef78=='function'&&(_0x4d871b=_0x1cef78,_0x1cef78={}),_0x1cef78['postdata']=_0x424018,this['request']('PUT',_0x5c63c9,_0x1cef78,_0x4d871b);}['del'](_0x15e727,_0x138131,_0x3b2409){return typeof _0x138131=='function'&&(_0x3b2409=_0x138131,_0x138131={}),this['request']('DELETE',_0x15e727,_0x138131,_0x3b2409);}['request'](_0x46b08a,_0x2cfc62,_0x5e13ad,_0x513519){let _0x117f0d,_0x366307,_0x334819,_0x2a374c=!(-0x1*0x15ee+-0x164f*-0x1+-0xc*0x8);if(typeof _0x5e13ad=='function'&&(_0x513519=_0x5e13ad,_0x5e13ad={}),_0x5e13ad['retry']&&(_0x5e13ad=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x5e13ad)),_0x5e13ad['callback']=_0x513519,_0x5e13ad['async']==null&&(_0x5e13ad['async']=!(0x1*-0x1d6+0x1943*0x1+-0x176d)),_0x5e13ad['headers']==null&&(_0x5e13ad['headers']={}),_0x5e13ad['postdata']!=null){if(_0x5e13ad['postdata']instanceof Document)_0x334819=_0x5e13ad['postdata'];else{if(_0x5e13ad['postdata']instanceof FormData)_0x334819=_0x5e13ad['postdata'];else{if(_0x5e13ad['postdata']instanceof Object){let _0x14474c=_0x5e13ad['headers']['Content-Ty'+'pe'];switch(_0x14474c===void(-0x1fd1+0x1026+0xbf*0x15)&&(_0x5e13ad['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x14474c=_0x5e13ad['headers']['Content-Ty'+'pe']),_0x14474c){case be['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x334819='';let _0x402e22=!(-0x121*0x1+0x1227+-0x1106);for(const _0x268744 in _0x5e13ad['postdata'])if(_0x5e13ad['postdata']['hasOwnProp'+'erty'](_0x268744)){_0x402e22?_0x402e22=!(-0xbc3+0x19f*-0x1+0xd63):_0x334819+='&';const _0x4ce64e=encodeURIComponent(_0x268744),_0x41a53b=encodeURIComponent(_0x5e13ad['postdata'][_0x268744]);_0x334819+=_0x4ce64e+'='+_0x41a53b;}break;}default:case be['ContentTyp'+'e']['JSON']:_0x14474c==null&&(_0x5e13ad['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['JSON']),_0x334819=JSON['stringify'](_0x5e13ad['postdata']);break;}}else _0x334819=_0x5e13ad['postdata'];}}}if(_0x5e13ad['cache']===!(0x2411+0x74*-0x27+0x2*-0x932)){const _0x396992=ne();_0x117f0d=new sd(_0x2cfc62),_0x117f0d['query']?_0x117f0d['query']=_0x117f0d['query']+'&ts='+_0x396992:_0x117f0d['query']='ts='+_0x396992,_0x2cfc62=_0x117f0d['toString']();}_0x5e13ad['query']&&(_0x117f0d=new sd(_0x2cfc62),_0x366307=vh(_0x117f0d['getQuery'](),_0x5e13ad['query']),_0x117f0d['setQuery'](_0x366307),_0x2cfc62=_0x117f0d['toString']());const _0x136dd7=new XMLHttpRequest();_0x136dd7['open'](_0x46b08a,_0x2cfc62,_0x5e13ad['async']),_0x136dd7['withCreden'+'tials']=_0x5e13ad['withCreden'+'tials']!==void(0x3*-0xaad+-0x11*0x193+-0x2b*-0x15e)?_0x5e13ad['withCreden'+'tials']:!(-0xf3e+0x1*0x491+0x2*0x557),_0x136dd7['responseTy'+'pe']=_0x5e13ad['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x2cfc62);for(const _0x4132d5 in _0x5e13ad['headers'])_0x5e13ad['headers']['hasOwnProp'+'erty'](_0x4132d5)&&_0x136dd7['setRequest'+'Header'](_0x4132d5,_0x5e13ad['headers'][_0x4132d5]);_0x136dd7['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x46b08a,_0x2cfc62,_0x5e13ad,_0x136dd7);},_0x136dd7['onerror']=()=>{this['_onError'](_0x46b08a,_0x2cfc62,_0x5e13ad,_0x136dd7),_0x2a374c=!(-0x3*0xae+-0xdc5+0x47*0x39);};try{_0x136dd7['send'](_0x334819);}catch(_0x2e3e18){_0x2a374c||_0x5e13ad['error'](_0x136dd7['status'],_0x136dd7,_0x2e3e18);}return _0x136dd7;}['_guessResp'+'onseType'](_0x1e07a9){const _0x1503d4=new sd(_0x1e07a9),_0x1ef172=fe['getExtensi'+'on'](_0x1503d4['path'])['toLowerCas'+'e']();return be['binaryExte'+'nsions']['indexOf'](_0x1ef172)>=0xacc+-0x1731*-0x1+0x317*-0xb?be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x1ef172==='.json'?be['ResponseTy'+'pe']['JSON']:_0x1ef172==='.xml'?be['ResponseTy'+'pe']['DOCUMENT']:be['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x39a940){return[be['ContentTyp'+'e']['BASIS'],be['ContentTyp'+'e']['BIN'],be['ContentTyp'+'e']['DDS'],be['ContentTyp'+'e']['GLB'],be['ContentTyp'+'e']['MP3'],be['ContentTyp'+'e']['MP4'],be['ContentTyp'+'e']['OGG'],be['ContentTyp'+'e']['OPUS'],be['ContentTyp'+'e']['WAV']]['indexOf'](_0x39a940)>=0x124d+-0x26e*0xc+0xadb*0x1;}['_isBinaryR'+'esponseTyp'+'e'](_0x294561){return _0x294561===be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x294561===be['ResponseTy'+'pe']['BLOB']||_0x294561===be['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x77243,_0x58a475,_0x50d9aa,_0x2273e0){if(_0x2273e0['readyState']===0x446+0x7*-0x50d+-0x1a3*-0x13)switch(_0x2273e0['status']){case-0x1*0x1c9+0xb96+0x1*-0x9cd:{_0x2273e0['responseUR'+'L']&&_0x2273e0['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x77243,_0x58a475,_0x50d9aa,_0x2273e0):this['_onError'](_0x77243,_0x58a475,_0x50d9aa,_0x2273e0);break;}case-0x940+-0x55*-0x49+-0xe35:case 0x3*0xa26+0x68a+-0x2433:case 0x19bb+-0x16c2+0x3*-0xb9:case-0x14c*0x11+-0x128b+0x29c7:{this['_onSuccess'](_0x77243,_0x58a475,_0x50d9aa,_0x2273e0);break;}default:{this['_onError'](_0x77243,_0x58a475,_0x50d9aa,_0x2273e0);break;}}}['_onSuccess'](_0x3d2a46,_0x1e4eca,_0x585188,_0xaffb0c){let _0x36d3c0,_0x198dc1;const _0x547e0a=_0xaffb0c['getRespons'+'eHeader']('Content-Ty'+'pe');_0x547e0a&&(_0x198dc1=_0x547e0a['split'](';')[0xee5*-0x2+0x1*-0xb15+0x1*0x28df]['trim']());try{this['_isBinaryC'+'ontentType'](_0x198dc1)||this['_isBinaryR'+'esponseTyp'+'e'](_0xaffb0c['responseTy'+'pe'])?_0x36d3c0=_0xaffb0c['response']:_0x198dc1===be['ContentTyp'+'e']['JSON']||_0x1e4eca['split']('?')[0x4*-0x92b+-0xbe9+-0x1*-0x3095]['endsWith']('.json')?_0x36d3c0=JSON['parse'](_0xaffb0c['responseTe'+'xt']):_0xaffb0c['responseTy'+'pe']===be['ResponseTy'+'pe']['DOCUMENT']||_0x198dc1===be['ContentTyp'+'e']['XML']?_0x36d3c0=_0xaffb0c['responseXM'+'L']:_0x36d3c0=_0xaffb0c['responseTe'+'xt'],_0x585188['callback'](null,_0x36d3c0);}catch(_0x9d2e2){_0x585188['callback'](_0x9d2e2);}}['_onError'](_0x1b4d91,_0x3b5aae,_0x32a56d,_0x485f54){if(!_0x32a56d['retrying']){if(_0x32a56d['retry']&&_0x32a56d['retries']<_0x32a56d['maxRetries']){_0x32a56d['retries']++,_0x32a56d['retrying']=!(-0x29*0x83+-0x2*0x135d+-0x3fb*-0xf);const _0x18ba14=N['clamp'](Math['pow'](0x7*-0x8f+-0x510+0x8fb,_0x32a56d['retries'])*be['retryDelay'],0x1ad5+-0x2101*0x1+0x62c,_0x32a56d['maxRetryDe'+'lay']||-0x8ff+-0x23+0x1caa);console['log'](_0x1b4d91+':\x20'+_0x3b5aae+'\x20-\x20Error\x20'+_0x485f54['status']+('.\x20Retrying'+'\x20in\x20')+_0x18ba14+'\x20ms'),setTimeout(()=>{_0x32a56d['retrying']=!(0x1fdd+0x3bd+0x1*-0x2399),this['request'](_0x1b4d91,_0x3b5aae,_0x32a56d,_0x32a56d['callback']);},_0x18ba14);}else _0x32a56d['callback'](_0x485f54['status']===0x19ec+-0x10*-0xf4+-0x44*0x9b?'Network\x20er'+'ror':_0x485f54['status'],null);}}};c(be,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),c(be,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),c(be,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),c(be,'retryDelay',0x21dd+-0x2093+-0xe6);let ls=be;const $e=new ls();function Li(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}class kh{constructor(_0x2cd87a,_0x1f6938,_0x99e6c3={}){if(this['volume']=_0x99e6c3['volume']??0x14f2+-0x86+-0x146b,this['loop']=_0x99e6c3['loop']??!(-0x1*-0x1edb+-0x985*-0x2+-0x67*0x7c),this['pitch']=_0x99e6c3['pitch']??-0x1*-0x189d+-0x1ed7+0x91*0xb,this['sound']=_0x1f6938,this['paused']=!(0x25c6*0x1+-0x1493+0x899*-0x2),this['suspended']=!(-0x2b8*0x1+0xd*-0x287+0x2394*0x1),this['manager']=_0x2cd87a,this['source']=null,Li()){this['startTime']=-0x1c18+0x130a+0x90e,this['startOffse'+'t']=0x11c6+-0x322+0x1*-0xea4;const _0x527f9b=_0x2cd87a['context'];this['gain']=_0x527f9b['createGain']();}else _0x1f6938['audio']&&(this['source']=_0x1f6938['audio']['cloneNode'](!(-0x1*0xdb2+-0x2533*0x1+0x32e6)),this['source']['pause']());}['getVolume'](){return this['volume'];}['getLoop'](){return this['loop'];}['setLoop'](_0xd8f188){this['loop']=_0xd8f188,this['source']&&(this['source']['loop']=_0xd8f188);}['getPitch'](){return this['pitch'];}['onManagerV'+'olumeChang'+'e'](){this['setVolume'](this['getVolume']());}['onManagerS'+'uspend'](){this['isPlaying']()&&!this['suspended']&&(this['suspended']=!(0x1*0x2507+-0x1359*-0x1+-0x3860),this['pause']());}['onManagerR'+'esume'](){this['suspended']&&(this['suspended']=!(0x2495+0x1e5*0x6+-0x169*0x22),this['unpause']());}['play'](){if(this['source'])throw new Error('Call\x20stop('+')\x20before\x20c'+'alling\x20pla'+'y()');this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](-0x161c+-0x1618+0x2c34,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']());}['pause'](){this['source']&&(this['paused']=!(0x1*0x47b+-0x7e3*0x1+0x368),this['startOffse'+'t']+=this['manager']['context']['currentTim'+'e']-this['startTime'],this['source']['stop'](0x11*-0x115+-0x25c*0x8+-0x1d*-0x149),this['source']=null);}['unpause'](){if(this['source']||!this['paused']){console['warn']('Call\x20pause'+'()\x20before\x20'+'unpausing.');return;}this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](0x1*-0x1267+0xea9+0x3be,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['paused']=!(-0xbab+0x7c9*-0x1+0x1375));}['stop'](){this['source']&&(this['source']['stop'](-0x3*-0x65e+-0x8a4*-0x1+-0x1bbe),this['source']=null),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);}['setVolume'](_0x4f22fb){_0x4f22fb=N['clamp'](_0x4f22fb,0x5b3*-0x5+-0xf47*-0x1+-0x4*-0x34e,-0x6d4+0x427+-0x157*-0x2),this['volume']=_0x4f22fb,this['gain']&&(this['gain']['gain']['value']=_0x4f22fb*this['manager']['volume']);}['setPitch'](_0x1386e1){this['pitch']=_0x1386e1,this['source']&&(this['source']['playbackRa'+'te']['value']=_0x1386e1);}['isPlaying'](){return!this['paused']&&this['source']['playbackSt'+'ate']===this['source']['PLAYING_ST'+'ATE'];}['getDuratio'+'n'](){return this['source']?this['source']['buffer']['duration']:-0x1685*-0x1+0xb47+-0x21cc;}['_createSou'+'rce'](){const _0x3699ee=this['manager']['context'];this['sound']['buffer']&&(this['source']=_0x3699ee['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['gain']),this['gain']['connect'](_0x3699ee['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this)));}}Li()||Object['assign'](kh['prototype'],{'play':function(){this['source']&&(this['paused']=!(0x1f9d+-0x814+-0x1788),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['source']['play']()),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']();},'pause':function(){this['source']&&(this['paused']=!(0x9d4+-0x1369+0x995),this['source']['pause']());},'unpause':function(){this['source']&&(this['paused']=!(-0x1771+0x146*-0x10+0x2bd2),this['source']['play']());},'stop':function(){this['source']&&this['source']['pause'](),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);},'setVolume':function(_0x3dd953){_0x3dd953=N['clamp'](_0x3dd953,0x2185+0x119c+-0x3321,0x1*-0x2221+-0xe0c+0x302e),this['volume']=_0x3dd953,this['source']&&(this['source']['volume']=_0x3dd953*this['manager']['volume']);},'setPitch':function(_0x63e1a0){this['pitch']=_0x63e1a0,this['source']&&(this['source']['playbackRa'+'te']=_0x63e1a0);},'getDuration':function(){return this['source']&&!isNaN(this['source']['duration'])?this['source']['duration']:0x1301+0x1c*0x68+-0x1e61;},'isPlaying':function(){return!this['source']['paused'];}});const Fb=0x4ba9*0x1+0xb42+-0x2fdb;class Ru extends kh{constructor(_0x4e4314,_0x5c95fe,_0x3516a6){super(_0x4e4314,_0x5c95fe,_0x3516a6),this['position']=new T(),this['velocity']=new T(),Li()?this['panner']=_0x4e4314['context']['createPann'+'er']():(this['maxDistanc'+'e']=Fb,this['minDistanc'+'e']=0x3*0x3c5+0x1806+0x26*-0xee,this['rollOffFac'+'tor']=-0x1e+-0x5b*0x4f+-0x4*-0x70d,this['distanceMo'+'del']=Ff);}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x104d47){this['position']['copy'](_0x104d47);const _0x11e9ac=this['panner'];'positionX'in _0x11e9ac?(_0x11e9ac['positionX']['value']=_0x104d47['x'],_0x11e9ac['positionY']['value']=_0x104d47['y'],_0x11e9ac['positionZ']['value']=_0x104d47['z']):_0x11e9ac['setPositio'+'n']&&_0x11e9ac['setPositio'+'n'](_0x104d47['x'],_0x104d47['y'],_0x104d47['z']);}['getVelocit'+'y'](){return v['warn']('Channel3d#'+'getVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity'];}['setVelocit'+'y'](_0x3e0a6f){v['warn']('Channel3d#'+'setVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity']['copy'](_0x3e0a6f);}['getMaxDist'+'ance'](){return this['panner']['maxDistanc'+'e'];}['setMaxDist'+'ance'](_0xf45700){this['panner']['maxDistanc'+'e']=_0xf45700;}['getMinDist'+'ance'](){return this['panner']['refDistanc'+'e'];}['setMinDist'+'ance'](_0x5ed672){this['panner']['refDistanc'+'e']=_0x5ed672;}['getRollOff'+'Factor'](){return this['panner']['rolloffFac'+'tor'];}['setRollOff'+'Factor'](_0x3e3b74){this['panner']['rolloffFac'+'tor']=_0x3e3b74;}['getDistanc'+'eModel'](){return this['panner']['distanceMo'+'del'];}['setDistanc'+'eModel'](_0x50faa5){this['panner']['distanceMo'+'del']=_0x50faa5;}['_createSou'+'rce'](){const _0x214bbc=this['manager']['context'];this['source']=_0x214bbc['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['panner']),this['panner']['connect'](this['gain']),this['gain']['connect'](_0x214bbc['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this));}}if(!Li()){let l=new T();const t=function(_0x4a0d7d,_0x1322ea,_0x1e242c,_0x516359,_0x3a2e59,_0x1aa1ea){l=l['sub2'](_0x4a0d7d,_0x1322ea);const _0x351a28=l['length']();if(_0x351a28<_0x1e242c)return-0x197f+0x10f6*-0x2+0x4*0xedb;if(_0x351a28>_0x516359)return-0x1*-0x89a+-0x20a8+0x180e*0x1;let _0x3eafa6=0x3*0xb4d+0xd74+0x1c1*-0x1b;return _0x1aa1ea===cc?_0x3eafa6=0x1e*-0x11+-0x5cb+0x7ca-_0x3a2e59*(_0x351a28-_0x1e242c)/(_0x516359-_0x1e242c):_0x1aa1ea===Ff?_0x3eafa6=_0x1e242c/(_0x1e242c+_0x3a2e59*(_0x351a28-_0x1e242c)):_0x1aa1ea===cy&&(_0x3eafa6=Math['pow'](_0x351a28/_0x1e242c,-_0x3a2e59)),N['clamp'](_0x3eafa6,-0x2659+-0x59*-0x52+0x9d7,0x252*-0xd+-0x200f+0x3e3a);};Object['assign'](Ru['prototype'],{'setPosition':function(_0x455c5c){if(this['position']['copy'](_0x455c5c),this['source']){const _0x31ff51=this['manager']['listener']['getPositio'+'n'](),_0x3293ff=t(_0x31ff51,this['position'],this['minDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x308ceb=this['getVolume']();this['source']['volume']=_0x308ceb*_0x3293ff;}},'getMaxDistance':function(){return this['maxDistanc'+'e'];},'setMaxDistance':function(_0x101f60){this['maxDistanc'+'e']=_0x101f60;},'getMinDistance':function(){return this['minDistanc'+'e'];},'setMinDistance':function(_0x1bc37e){this['minDistanc'+'e']=_0x1bc37e;},'getRollOffFactor':function(){return this['rollOffFac'+'tor'];},'setRollOffFactor':function(_0x19c5e0){this['rollOffFac'+'tor']=_0x19c5e0;},'getDistanceModel':function(){return this['distanceMo'+'del'];},'setDistanceModel':function(_0x275b6a){this['distanceMo'+'del']=_0x275b6a;}});}class Ob{constructor(_0x5d20cf){c(this,'_manager'),c(this,'position',new T()),c(this,'orientatio'+'n',new q()),this['_manager']=_0x5d20cf;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x5d292d){this['position']['copy'](_0x5d292d);const _0x27e8e6=this['listener'];_0x27e8e6&&('positionX'in _0x27e8e6?(_0x27e8e6['positionX']['value']=_0x5d292d['x'],_0x27e8e6['positionY']['value']=_0x5d292d['y'],_0x27e8e6['positionZ']['value']=_0x5d292d['z']):_0x27e8e6['setPositio'+'n']&&_0x27e8e6['setPositio'+'n'](_0x5d292d['x'],_0x5d292d['y'],_0x5d292d['z']));}['setOrienta'+'tion'](_0x49ea7d){this['orientatio'+'n']['copy'](_0x49ea7d);const _0x3816df=this['listener'];if(_0x3816df){const _0x4e3816=_0x49ea7d['data'];'forwardX'in _0x3816df?(_0x3816df['forwardX']['value']=-_0x4e3816[-0x257*0x4+0x1348*-0x2+0x42*0xba],_0x3816df['forwardY']['value']=-_0x4e3816[0x1764+-0x60f+-0x114c],_0x3816df['forwardZ']['value']=-_0x4e3816[-0x23b7+-0x1*-0x14b4+-0xf0d*-0x1],_0x3816df['upX']['value']=_0x4e3816[0x1*0x1e79+-0x33e*0x1+-0x1b37*0x1],_0x3816df['upY']['value']=_0x4e3816[0x120e+0x17b6+-0x29bf*0x1],_0x3816df['upZ']['value']=_0x4e3816[-0xa01*-0x1+0x23a7*0x1+-0x2da2]):_0x3816df['setOrienta'+'tion']&&_0x3816df['setOrienta'+'tion'](-_0x4e3816[0xa2+-0xf*0x15d+-0x13d9*-0x1],-_0x4e3816[0x25ed+-0x6*-0x550+-0x45c4],-_0x4e3816[-0x5ff+-0xa5+0x6ae],_0x4e3816[0x1*-0x222c+0x2*0x12f+-0x1fd2*-0x1],_0x4e3816[0x7*-0x4a5+-0x2068+0x40f0],_0x4e3816[0xf6*-0x5+0x1*0x1cfa+-0x1826]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x293879=this['_manager']['context'];return _0x293879?_0x293879['listener']:null;}}const wl='running',Om=['click','touchstart','mousedown'];class kb extends ce{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||v['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(-0x212a+-0x2b*-0x83+0xb2a),this['listener']=new Ob(this),this['_volume']=0x2*0xdcc+-0x2d*-0x69+-0x2*0x1706;}set['volume'](_0x706a8c){_0x706a8c=N['clamp'](_0x706a8c,-0xb54*0x2+-0x24a3+0x3b4b,0xce*0x17+0x2ce*0x9+-0x2bbf),this['_volume']=_0x706a8c,this['fire']('volumechan'+'ge',_0x706a8c);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==wl&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(0x141a+-0x717+-0xd03),this['_context']&&this['_context']['state']===wl&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(0xc1*0x2f+0x2501*0x1+0x373*-0x15),this['_context']&&this['_context']['state']!==wl&&this['_resume']());}['destroy'](){var _0x5ed377;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x5ed377=this['_context'])==null||_0x5ed377['close'](),this['_context']=null);}['playSound'](_0x69a4ff,_0x2db45d={}){let _0x5d1229=null;return kh&&(_0x5d1229=new kh(this,_0x69a4ff,_0x2db45d),_0x5d1229['play']()),_0x5d1229;}['playSound3'+'d'](_0xa81e9,_0x49cb44,_0x58790a={}){let _0x180ff8=null;return Ru&&(_0x180ff8=new Ru(this,_0xa81e9,_0x58790a),_0x180ff8['setPositio'+'n'](_0x49cb44),_0x58790a['volume']&&_0x180ff8['setVolume'](_0x58790a['volume']),_0x58790a['loop']&&_0x180ff8['setLoop'](_0x58790a['loop']),_0x58790a['maxDistanc'+'e']&&_0x180ff8['setMaxDist'+'ance'](_0x58790a['maxDistanc'+'e']),_0x58790a['minDistanc'+'e']&&_0x180ff8['setMinDist'+'ance'](_0x58790a['minDistanc'+'e']),_0x58790a['rollOffFac'+'tor']&&_0x180ff8['setRollOff'+'Factor'](_0x58790a['rollOffFac'+'tor']),_0x58790a['distanceMo'+'del']&&_0x180ff8['setDistanc'+'eModel'](_0x58790a['distanceMo'+'del']),_0x180ff8['play']()),_0x180ff8;}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x27ab76=this['_context']['createBuff'+'erSource']();_0x27ab76['buffer']=this['_context']['createBuff'+'er'](0x1*-0x25f5+-0x3*0xa43+0x44bf,0x1*-0x1c92+0x16db*0x1+0x1e8*0x3,this['_context']['sampleRate']),_0x27ab76['connect'](this['_context']['destinatio'+'n']),_0x27ab76['start'](-0x1*0x1772+-0x8*-0x119+0xeaa),_0x27ab76['onended']=_0x59da5f=>{_0x27ab76['disconnect'](-0x1943+-0x53+0x1996),this['fire']('resume');};},_0x5c8d8f=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x5c8d8f);})['catch'](_0x47e4d3=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x47e4d3);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x3070b2=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x3070b2);})['catch'](_0x5d4c29=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x5d4c29);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==wl&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){Om['forEach'](_0x177cb7=>{window['addEventLi'+'stener'](_0x177cb7,this['_unlockHan'+'dlerFunc'],!(0x1*-0xe5+0x2592+-0x92b*0x4));});}['_removeUnl'+'ockListene'+'rs'](){Om['forEach'](_0x5f27ee=>{window['removeEven'+'tListener'](_0x5f27ee,this['_unlockHan'+'dlerFunc'],!(0xe*0x89+0x2*-0x3e+0x1*-0x701));});}}class Bb{constructor(_0x2e6e37){c(this,'audio'),c(this,'buffer'),_0x2e6e37 instanceof Audio?this['audio']=_0x2e6e37:this['buffer']=_0x2e6e37;}get['duration'](){let _0x52e73d=0x1ff1+-0x31c+-0x1cd5;return this['buffer']?_0x52e73d=this['buffer']['duration']:this['audio']&&(_0x52e73d=this['audio']['duration']),_0x52e73d||-0x723+0x1e24+-0x1701;}}const Pt=-0x1cd1+-0x10bb*0x2+-0x1*-0x3e47,sa=-0xd3*-0x1b+-0x1db6+-0x5*-0x17e,ws=-0xa*-0x12b+0x5bd*0x1+-0x1*0x1169;function Rt(_0x39d38f,_0x1fd96){return _0x39d38f%_0x1fd96||0x1704+-0x3*0x949+0x4d7;}class ss extends ce{constructor(_0x2fb1f1,_0x3b764e,_0x1926cf){super(),c(this,'source',null),(this['_manager']=_0x2fb1f1,this['_volume']=_0x1926cf['volume']!==void(0x1*-0x255c+0x1*0x903+-0x29*-0xb1)?N['clamp'](Number(_0x1926cf['volume'])||0x2*-0x25f+0x194c+0xa47*-0x2,-0x11dc+0x2234+-0x1058*0x1,-0x82+0x1e*0x98+-0x114d):0x3a0+0x1822+-0x91*0x31,this['_pitch']=_0x1926cf['pitch']!==void(0x8ad*0x1+0xe*-0x257+0x5*0x4d1)?Math['max'](-0x689+-0x1*-0x1b37+-0x1*0x14ae+0.01,Number(_0x1926cf['pitch'])||0x9*0x101+0x1*-0xc9a+0x53*0xb):0x1*0x2493+-0x1767*0x1+-0xd2b,this['_loop']=!!(_0x1926cf['loop']!==void(-0x1af9+-0x1*-0x27+0x1ad2)&&_0x1926cf['loop']),this['_sound']=_0x3b764e,this['_state']=ws,this['_suspended']=!(-0x1d85+-0x226d+-0x141*-0x33),this['_suspendEn'+'dEvent']=0x25b8+0x1113+-0xa9*0x53,this['_suspendIn'+'stanceEven'+'ts']=!(-0x179c+0x2b+-0x1*-0x1772),this['_playWhenL'+'oaded']=!(-0x185b+-0x1adc+0x3337),this['_startTime']=Math['max'](0x25cc+0xedc*-0x2+-0x2*0x40a,Number(_0x1926cf['startTime'])||0x31d*0x5+0x1415*-0x1+0x484),this['_duration']=Math['max'](-0x134e+0xcf1+0x65d*0x1,Number(_0x1926cf['duration'])||0x1*-0x4ff+0x7*-0x251+0x1536),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x1926cf['onPlay'],this['_onPauseCa'+'llback']=_0x1926cf['onPause'],this['_onResumeC'+'allback']=_0x1926cf['onResume'],this['_onStopCal'+'lback']=_0x1926cf['onStop'],this['_onEndCall'+'back']=_0x1926cf['onEnd'],Li()?(this['_startedAt']=0x2*-0x4f7+0x1d50+-0x1362,this['_currentTi'+'me']=-0x1916+-0x11dd+-0x2af3*-0x1,this['_currentOf'+'fset']=-0x1e15+0x11c+0x1cf9*0x1,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x1dd2+-0xfa9+0x52*0x8e),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(-0x1227+-0x54a*-0x3+0x24a),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0xe0ddfa){if(!(_0xe0ddfa<0x7b*0x48+-0xa4b+0x1*-0x184d)){if(this['_state']===Pt){const _0x2e528e=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(0x2463+-0x2017+-0x14*0x37),this['stop'](),this['_startOffs'+'et']=_0xe0ddfa,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x2e528e;}else this['_startOffs'+'et']=_0xe0ddfa,this['_currentTi'+'me']=_0xe0ddfa;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===sa?this['_currentTi'+'me']:this['_state']===ws||!this['source']?-0x2*-0x67f+0x2*-0x115+-0xad4:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x2d9030){this['_duration']=Math['max'](-0xd*0x2b+0x8bf*0x1+0x6*-0x118,Number(_0x2d9030)||0x1622+0xd62+-0x2384);const _0x259120=this['_state']===Pt;this['stop'](),_0x259120&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?Rt(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:-0xdfb*0x2+-0x1f56+0x2*0x1da6;}get['isPaused'](){return this['_state']===sa;}get['isPlaying'](){return this['_state']===Pt;}get['isStopped'](){return this['_state']===ws;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x4835c5){this['_loop']=!!_0x4835c5,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x363498){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x363498)||-0x2692+0xe*-0xa1+0x2f60,0x18d8+-0x1*0x1312+-0x5c6+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x466aa8){this['_sound']=_0x466aa8,this['_state']!==ws?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x3f2a83){this['_startTime']=Math['max'](0x3f*0x3+-0x2033*0x1+0x1f76*0x1,Number(_0x3f2a83)||-0x1ae0+-0x1cec+0xdf3*0x4);const _0x207f28=this['_state']===Pt;this['stop'](),_0x207f28&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x530f2e){_0x530f2e=N['clamp'](_0x530f2e,0x28c*-0xb+0x7a*0x4a+-0x740,0x1*-0xe61+0x965+0x4fd),this['_volume']=_0x530f2e,this['gain']&&(this['gain']['gain']['value']=_0x530f2e*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>-0x1842+0x125b+0x5e7){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Pt&&!this['_suspended']&&(this['_suspended']=!(0xdc+0x3a*0x41+-0xf96),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(-0x91f*-0x2+-0x47*0x7+-0xe*0x12a),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==ws&&this['stop'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(-0x15c8+0x1*-0x1caf+0x26*0x154),this['_waitingCo'+'ntextSuspe'+'nsion']?!(-0x7e*0x8+0xc25+0x5*-0x1a4):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0xfa5+0x17b3+-0x80e),!(-0x1db5+-0x1*0x17ff+0x1*0x35b5)):(this['_playAudio'+'Immediate'](),!(-0xfeb*0x1+-0x5d+0x1048));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(0xd4*-0x25+0x7a*0x43+-0x149*0x1),this['_state']!==Pt)return;this['source']||this['_createSou'+'rce']();let _0x3865d9=Rt(this['_startOffs'+'et'],this['duration']);_0x3865d9=Rt(this['_startTime']+_0x3865d9,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](0x4*0x8bf+-0x5f3*-0x1+-0x28ef,_0x3865d9,this['_duration']):this['source']['start'](0x21ab+0x21f4+-0x1*0x439f,_0x3865d9),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=0x1024+-0x18f9+0x13*0x77,this['_currentOf'+'fset']=_0x3865d9,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(-0x14f5+-0x5*-0x79+0x1299),this['_state']!==Pt?!(-0xd*0x2c5+0x3*-0x7bd+-0x1*-0x3b39):(this['_state']=sa,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](0x40a+0x362*-0x2+0x2ba),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(0x2*-0x36+0x111d+-0x10b1));}['resume'](){if(this['_state']!==sa)return!(0x4ea+-0x94d*0x3+0x6*0x3d5);let _0x4dfd75=this['currentTim'+'e'];return this['_state']=Pt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0x4dfd75=Rt(this['_startOffs'+'et'],this['duration']),_0x4dfd75=Rt(this['_startTime']+_0x4dfd75,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](-0x24f0+0xd*0x81+0x1e63,_0x4dfd75,this['_duration']):this['source']['start'](0xcc8+-0x119b*-0x1+-0x1e63,_0x4dfd75),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0x4dfd75,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(-0xc1+-0xe9b+0xf5d),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x64f+0xae+-0x6fd);}['stop'](){if(this['_playWhenL'+'oaded']=!(-0x15*0x46+-0x1*0x132+0x1*0x6f1),this['_state']===ws)return!(-0x43*0x61+0x23af+-0xa4b);const _0x469e1f=this['_state']===Pt;return this['_state']=ws,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=0x1bf2+-0x1320+-0x8d2,this['_currentTi'+'me']=0x911+0x16ec+0x1af*-0x13,this['_currentOf'+'fset']=0x9a+0x1fb6+-0x2050,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x469e1f&&this['source']&&this['source']['stop'](0x224b*-0x1+-0x1418+0x3663),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(-0x103b+-0xcee*0x3+0x3705);}['setExterna'+'lNodes'](_0xada8be,_0x791a03){if(!_0xada8be){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x791a03||(_0x791a03=_0xada8be);const _0x704cdb=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0xada8be&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x704cdb),this['_firstNode']=_0xada8be,this['_connector'+'Node']['connect'](_0xada8be)),this['_lastNode']!==_0x791a03&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x704cdb),this['_lastNode']=_0x791a03,this['_lastNode']['connect'](_0x704cdb));}['clearExter'+'nalNodes'](){const _0x3aed34=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x3aed34),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x3aed34);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x310b29=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x310b29['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=Rt(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],Rt(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=Rt((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Pt&&(this['source']['stop'](0x3*-0xabe+0x22ee+-0x1*0x2b4),this['source']=null);}}c(ss,'EVENT_PLAY','play'),c(ss,'EVENT_PAUS'+'E','pause'),c(ss,'EVENT_RESU'+'ME','resume'),c(ss,'EVENT_STOP','stop'),c(ss,'EVENT_END','end'),Li()||(Object['assign'](ss['prototype'],{'play':function(){return this['_state']!==ws&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(0x1*-0xb91+-0xee*-0x4+0x7da):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(0x193+-0xde*0x17+0x188*0xc),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(-0x3*-0x654+0x230f+-0xacf*0x5));},'pause':function(){return!this['source']||this['_state']!==Pt?!(0x16f5*0x1+0x1*0x5df+-0x1cd3):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x1*-0xedb+-0x257c+0x53c*0xa),this['_state']=sa,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(-0x1806+0x1*-0x160f+0x2e15));},'resume':function(){return!this['source']||this['_state']!==sa?!(-0x92d+-0x2*0x57+-0x4*-0x277):(this['_state']=Pt,this['_playWhenL'+'oaded']=!(0x1126+-0x1*0x1429+-0xc1*-0x4),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x1*0x773+0xab1+-0x1224));},'stop':function(){return!this['source']||this['_state']===ws?!(-0x7*0x375+0x22d+-0x1*-0x1607):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0xa3*0x10+0x2166+0x3*-0xe87),this['_state']=ws,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(-0xc2f+-0x1a13+-0x3b*-0xa6));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(0xcd2*0x1+0x11e*-0x14+0x986);let _0x2118f8=Rt(this['_startOffs'+'et'],this['duration']);_0x2118f8=Rt(this['_startTime']+_0x2118f8,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x2118f8;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(-0x1cd4+-0x258d*-0x1+0x9*-0xf8),this['source']=this['_sound']['audio']['cloneNode'](!(-0x235+0x70f+-0x6*0xcf)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>Rt(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=Rt(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](ss['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x1915a5){_0x1915a5=N['clamp'](_0x1915a5,-0x2*-0x10e5+0x212b+-0x119*0x3d,0xdd1+0x1eac+-0x2c7c),this['_volume']=_0x1915a5,this['source']&&(this['source']['volume']=_0x1915a5*this['_manager']['volume']);}}),Object['defineProp'+'erty'](ss['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x392bcf){this['_pitch']=Math['max'](Number(_0x392bcf)||0xbd+0x14af*0x1+0x392*-0x6,-0x117b+0x1*-0x1505+0x2680+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](ss['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x5e9bcf){this['stop'](),this['_sound']=_0x5e9bcf;}}),Object['defineProp'+'erty'](ss['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===ws||!this['source']?-0xf60+-0x1863+-0x1b*-0x179:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0xb555dd){_0xb555dd<-0x135*-0x5+0x2*-0x1a8+-0x29*0x11||(this['_startOffs'+'et']=_0xb555dd,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=Rt(this['_startTime']+Rt(_0xb555dd,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Nb=0x1*0x1409+-0x1d*0x12c+0x3503;class jn extends ss{constructor(_0x5d7a0e,_0x1f8a69,_0x5b72df={}){super(_0x5d7a0e,_0x1f8a69,_0x5b72df),c(this,'_position',new T()),c(this,'_velocity',new T()),(_0x5b72df['position']&&(this['position']=_0x5b72df['position']),this['maxDistanc'+'e']=_0x5b72df['maxDistanc'+'e']!==void(0x14e0+-0x7*-0x3de+-0x22*0x169)?Number(_0x5b72df['maxDistanc'+'e']):Nb,this['refDistanc'+'e']=_0x5b72df['refDistanc'+'e']!==void(0x7*0x1d8+-0x2440+0x1758*0x1)?Number(_0x5b72df['refDistanc'+'e']):0x1d33+-0x1c39+-0xf9,this['rollOffFac'+'tor']=_0x5b72df['rollOffFac'+'tor']!==void(-0x51e+-0x7*0x24+-0x1*-0x61a)?Number(_0x5b72df['rollOffFac'+'tor']):0xb*0x338+-0x735*0x3+0x8*-0x1b9,this['distanceMo'+'del']=_0x5b72df['distanceMo'+'del']!==void(0x3*-0x63d+-0x1e6e+-0x3125*-0x1)?_0x5b72df['distanceMo'+'del']:cc);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x195bbe){this['_position']['copy'](_0x195bbe);const _0xa26132=this['panner'];'positionX'in _0xa26132?(_0xa26132['positionX']['value']=_0x195bbe['x'],_0xa26132['positionY']['value']=_0x195bbe['y'],_0xa26132['positionZ']['value']=_0x195bbe['z']):_0xa26132['setPositio'+'n']&&_0xa26132['setPositio'+'n'](_0x195bbe['x'],_0x195bbe['y'],_0x195bbe['z']);}get['position'](){return this['_position'];}set['velocity'](_0x249853){v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x249853);}get['velocity'](){return v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0xb4f0ec){this['panner']['maxDistanc'+'e']=_0xb4f0ec;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x4284a3){this['panner']['refDistanc'+'e']=_0x4284a3;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x565015){this['panner']['rolloffFac'+'tor']=_0x565015;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x570fde){this['panner']['distanceMo'+'del']=_0x570fde;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Li()){let l=new T();const t=function(_0x3790a3,_0x9e9b2e,_0x3893e9,_0x45540e,_0x1c090f,_0x177e26){l=l['sub2'](_0x3790a3,_0x9e9b2e);const _0x574181=l['length']();if(_0x574181<_0x3893e9)return 0x216f+0x868+-0x29d6;if(_0x574181>_0x45540e)return 0x263*-0x7+-0x56*-0x55+-0xbd9;let _0x3cd5ef=0x6ab*-0x5+-0x9f*-0x12+-0x763*-0x3;return _0x177e26===cc?_0x3cd5ef=-0x1*-0x175d+-0x1de0*-0x1+-0x2*0x1a9e-_0x1c090f*(_0x574181-_0x3893e9)/(_0x45540e-_0x3893e9):_0x177e26===Ff?_0x3cd5ef=_0x3893e9/(_0x3893e9+_0x1c090f*(_0x574181-_0x3893e9)):_0x177e26===cy&&(_0x3cd5ef=Math['pow'](_0x574181/_0x3893e9,-_0x1c090f)),N['clamp'](_0x3cd5ef,-0x1898+-0x2*-0xc8f+0x43*-0x2,-0xa3*-0x3b+-0x224f*0x1+-0x341);};Object['defineProp'+'erty'](jn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x35e801){if(this['_position']['copy'](_0x35e801),this['source']){const _0x53b7a2=this['_manager']['listener']['getPositio'+'n'](),_0x24bcb6=t(_0x53b7a2,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x2ac4e9=this['volume'];this['source']['volume']=_0x2ac4e9*_0x24bcb6*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](jn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x31aec7){this['_maxDistan'+'ce']=_0x31aec7;}}),Object['defineProp'+'erty'](jn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x518209){this['_refDistan'+'ce']=_0x518209;}}),Object['defineProp'+'erty'](jn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x28879f){this['_rollOffFa'+'ctor']=_0x28879f;}}),Object['defineProp'+'erty'](jn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x44214e){this['_distanceM'+'odel']=_0x44214e;}});}const n0=-0x100f+-0x1fc1*0x1+-0x55*-0x90,yp=0x17e0+-0x18*-0xd+0x85d*-0x3,Kt=-0x1ac9*0x1+-0x1f5f+0x3a2a,is=0x3*-0x382+0x4d*0x5+-0x484*-0x2,hr=-0x3*-0x4b2+0x15bf+0x35*-0xad,xp=0x11da*0x1+0x131a+-0x24ef,Hc=0xe69*0x2+-0x4eb+-0x17e1,a0=-0x7*0xd2+0xaa2+0x3*-0x19f,o0=-0x71*-0x4f+0x1*0xb6e+-0x1*0x2e45,l0=0x23ea+0x1479*-0x1+0x74*-0x22,h0=0x1a28+-0x2462+0xa44,Fa='none',zb='linear',Sp=-0x1ec+0x121+-0x1*-0xcd,Ub=0x1b43+0x1*0x1a4a+-0x358d,Vb=0x35*-0x1b+0x1dca+-0x1831,c0=0x7*0x517+-0x2258+0x1*-0x13a,Fi=-0xcc7*0x1+-0x2*-0x113f+-0x15b7,Xt=-0x1*-0x25db+-0x1*-0x23b+-0x2815,vp=0x3*-0x709+-0x165d+0xa*0x459,bp=0x1545+-0x26f+-0x12d3,tl=0x1*0x1ba4+-0x22b1+0x711,oe=0x2c5*-0x1+-0x2*-0x4f+-0x1d*-0x13,Pe=0x19*-0x161+-0xd*0xe1+-0xf4d*-0x3,Re=0x10af+-0x1*0xba+0x3*-0x551,yt=-0x5a7*-0x5+0xae3*-0x1+-0x1*0x1160,Gb=-0xdad+-0x5*0x377+0x1*0x1f01,Hb=0x1*-0x905+0x806+0x101,Wb=-0x21d1+0x7*-0x365+0x1*0x3997,wp=0x20c2+0x3*0x5d4+0x3b*-0xda,$b=-0x1cb5+-0x258f+0x179*0x2d,Dt=0x1677+-0x1b27+0x4b0,Hr=0x1623*0x1+0x8*-0x2f2+-0x16f*-0x1,Wr=-0xb79+0x1b5c+0x2*-0x7f0,lh=-0x1*-0x119b+-0x26*-0x1+-0x11bd,Bh=0x321+-0x185*0xb+0x183*0x9,Ts=-0x1*-0x16f+0x10fd+0x3ae*-0x5,Nh=0x1a91*-0x1+0x128*-0x21+0x40c0,zh=-0x5a1+0x1aa3+0x6*-0x37f,Iu=-0xe25+0x1fd5+-0x1*0x11a7,ir=new Map([[Bh,{'name':'PCF1_32F','format':Ci,'pcf':!(-0x6*0x3e1+0x3*0xade+0x18e*-0x6)}],[Dt,{'name':'PCF3_32F','format':Ci,'pcf':!(0x1844+0x24e1+-0x1*0x3d25)}],[lh,{'name':'PCF5_32F','format':Ci,'pcf':!(0x2129+-0x17d4+-0x1*0x955)}],[Nh,{'name':'PCF1_16F','format':la,'pcf':!(0x1346+0xcd*0x1d+-0x2a7f)}],[zh,{'name':'PCF3_16F','format':la,'pcf':!(-0x8f7+-0x185+0x1*0xa7c)}],[Iu,{'name':'PCF5_16F','format':la,'pcf':!(-0xb*-0x31+-0x156b+0x1350)}],[Hr,{'name':'VSM_16F','format':Je,'vsm':!(-0x2d2+0x15ce+-0x12fc)}],[Wr,{'name':'VSM_32F','format':Ke,'vsm':!(0x1259+-0x2407*0x1+-0x3e*-0x49)}],[Ts,{'name':'PCSS_32F','format':Ii,'pcss':!(-0x62f*-0x3+-0x248b+-0x7*-0x292)}]]),Tp=-0x27a*-0xf+-0x198b+0x37*-0x36,Du=-0x1fa2+-0x3b1+0x2353,d0=-0x1d77+0x2bb*0x2+0x1801*0x1,Vs=-0x46+-0xd4b+-0x97*-0x17,qb=-0x1751+0xb59+0x265*0x5,Uh=0x107*0x16+0xcae+0x8*-0x469,Xb=-0x106d+0x1e57+0x1*-0xde9,Gs=0x5*0x11f+0x135*-0x5+-0x2*-0x37,ua=0x1e2a+0x2*-0x58a+-0x1315,yo=-0x2*-0x12e2+0x1db7+-0x437b*0x1,Dr=0x3*0x7a6+0x3b3*-0x1+-0x133e,Tl=0x1f*-0xef+0x1c02*0x1+0xf1,u0=0x175f+0x4*0x963+-0x3ceb,jb=0x7e3+-0x251a+-0x6e*-0x44,km='mul',sl=0x404+0x32*0x6c+-0x191c,hh=0x1a04+-0x19*-0x16a+-0x2ab*0x17,Yb={[sl]:'NONE',[hh]:'SRGB'},Ap=-0x11a5*-0x1+0x1e3b+-0x2fe0,aF=0x1faa+0x769*-0x3+-0x96e,oF=0x68+0x40e+0x17c*-0x3,lF=-0x29*0x9f+0x101*0x2+0x1778,hF=-0x2eb*0x9+-0x45*0x8b+-0x3fbe*-0x1,cF=-0x40d+-0x249+0x1*0x65b,f0=0x316+-0x17b*0x4+0x2dc,p0=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],Kb=0x27*0x11+0x1003*-0x1+0x2*0x6b6,Bo=0x1d8*0x1+-0x5*-0x519+-0x1b54,Lu=0x7ac+0x1*0xfe+0x4*-0x22a,Ep=0x11a8+0x95*0x3f+-0x3652,Wc=0x1*0x829+0x2550+0x67*-0x71,m0=-0xa55*0x3+-0x4e*-0x70+-0x31d*0x1,_0=0xad5*-0x1+-0x87b+0x1358,g0=-0x10*-0x7f+-0x1*0x2213+0x1a33,$c=0xd8a*-0x1+0x24ae+-0x3d6*0x6,Fu=-0x1*0x1721+0x801+0xf60,y0=0x2*-0x223+-0xe0d+0x12d3,Cp=0x1d32*-0x1+-0xa*0x16a+0x2c56,Mp=0x2a*-0xd+0x1*-0xee9+0x130b,qc=-0x2*0x6a1+-0x1591+0x26d3,Xc=0x13d9+0x31c+0xef5*-0x1,x0=-0x2682+-0x79f*-0x1+0x2ee3,jc=-0x3499+-0x11f2+-0x1*-0x668b,Ou=-0x17f6+-0x3d7*-0x10+0x1a86,Ps=-0x266*-0x7+0xf8b*-0x1+-0x13f*0x1,cn=-0x2*-0xf3f+-0x1b4f*0x1+0x32e*-0x1,Pp=-0x1*-0x1354+0x1*-0xb29+0x1*-0x829,Ei=-0x13b8*0x1+-0x107*0x1f+0x3391,ku=-0x2600+0x21b3*-0x1+0x1a*0x2c2,hs=-0xbad+0x1c*-0x159+0x316a,cr=-0xad*-0x2+0xeaa+0x2ab*-0x6,rr=0x343*0x5+-0x1520+0x4d5,gn=-0x8*-0x44d+-0xc81*0x2+-0x966,il=-0x12a3+0x61*0x4+0x1120,rl=0xd88*0x1+-0x107*0x11+0x3f1,Oa=0xd88+-0x381*0x7+0xb02,Rp=-0x23ac+-0x1*-0x222b+-0x185*-0x1,Ti=-0xb4*-0xf+0x177b+-0x2207,nt=-0x1*0x6f7+-0x1c5+-0x8bd*-0x1,Qe=-0x8d6*-0x1+-0x1*0x2615+0x1d41*0x1,ch=0x1d2+-0x122b*0x1+0x2*0x82d,Al=0x4a*0x49+-0x1778+0x25e,dh=-0x12d1*0x1+-0x1*-0x1663+-0x392,Zb=-0x8e5+0xd*-0x2fb+0x2fa5,Qb=0x9ce+-0x2178+0x17ac,Bm=-0x1930+0xd31+0xc02*0x1,Jb=0x18f0+0x18c0+-0x1*0x31ac,ew=-0x9db*-0x3+0x9e*0x30+-0x3b2c,Ip=0x7ff*0x4+0xef8+-0x2ef4,Bu=-0x146e+0x1*-0x16a9+0x2b18,pe=0xb50+-0x329*0x1+-0x1*0x827,ke=-0x10fd*0x2+0x75*0x3+0x209c,xo='infinite',tw='box',sw='dome',Rs='none',Nm='bayer8',iw='prerender',rw='postrender',nw='prerender:'+'layer',aw='postrender'+':layer',ow='precull',lw='postcull';class Yc{constructor(_0x58bf3a,_0x39f173,_0x53a2db){c(this,'uniformFor'+'mats',[]),c(this,'bindGroupF'+'ormats',[]),c(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][Dh]=_0x58bf3a,this['bindGroupF'+'ormats'][Dh]=_0x39f173,this['vertexForm'+'at']=_0x53a2db);}['hasUniform'](_0x230e3e){for(let _0x3ee0e4=-0x3fd+0x1945+-0x1548;_0x3ee0e4<this['uniformFor'+'mats']['length'];_0x3ee0e4++){const _0x1365ab=this['uniformFor'+'mats'][_0x3ee0e4];if(_0x1365ab!=null&&_0x1365ab['get'](_0x230e3e))return!(-0x24ef+-0x2189+0x4678);}return!(0x1*-0x14d1+-0x1*0x157f+-0x9d*-0x45);}['hasTexture'](_0x45a7ec){for(let _0x397fd9=0x250c+-0x97*0x1+-0x2475;_0x397fd9<this['bindGroupF'+'ormats']['length'];_0x397fd9++){const _0x283e5f=this['bindGroupF'+'ormats'][_0x397fd9];if(_0x283e5f!=null&&_0x283e5f['getTexture'](_0x45a7ec))return!(-0x2f*-0x3d+0x1ca2+-0x27d5);}return!(0xedb+0x9f*-0x17+-0x91);}['getVertexE'+'lement'](_0x103b72){var _0x3939c6;return(_0x3939c6=this['vertexForm'+'at'])==null?void(-0xd1*0x2c+0x19f7+0x9f5):_0x3939c6['elements']['find'](_0x15b5b8=>_0x15b5b8['name']===_0x103b72);}['generateKe'+'y'](_0x48f8a1){var _0x51d48d;let _0x14f807=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x48f8a1['isWebGPU']&&(_0x14f807+=(_0x51d48d=this['vertexForm'+'at'])==null?void(0xc43*-0x1+0x12b3+-0x670):_0x51d48d['shaderProc'+'essingHash'+'String']),_0x14f807;}}const hw='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',cw='\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20li'+'ght_global'+'Ambient;\x0a}'+'\x0a',dw='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20normaliz'+'e(cubeMapR'+'otate(worl'+'dNormal)\x20*'+'\x20vec3(-1.0'+',\x201.0,\x201.0'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+'28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20raw'+'\x20=\x20texture'+'2D(texture'+'_envAtlas,'+'\x20uv);\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'r\x20=\x20$DECOD'+'E(raw);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a}\x0a',uw='\x0auniform\x20v'+'ec3\x20ambien'+'tSH[9];\x0a\x0av'+'oid\x20addAmb'+'ient(vec3\x20'+'worldNorma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[0]\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[1]\x20*\x20'+'n.x\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[3]\x20*\x20n.'+'z\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[4]\x20*\x20n.x'+'\x20*\x20n.z\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[5]\x20'+'*\x20n.z\x20*\x20n.'+'y\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[6]\x20*\x20n.y'+'\x20*\x20n.x\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[8]\x20*'+'\x20(n.x\x20*\x20n.'+'x\x20-\x20n.y\x20*\x20'+'n.y);\x0a\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(max'+'(color,\x20ve'+'c3(0.0)));'+'\x0a}\x0a',fw='\x0a\x0a#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'AO_INTENSI'+'TY\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'aoIntensit'+'y;\x0a#endif\x0a'+'\x0avoid\x20getA'+'O()\x20{\x0a\x20\x20\x20\x20'+'dAo\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ao'+'Base\x20=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'ddAoDetail'+'(aoBase);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAo\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'$VC);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20A'+'O_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'material_a'+'oIntensity'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',pw='\x0afloat\x20add'+'AoDetail(f'+'loat\x20ao)\x20{'+'\x0a#ifdef\x20MA'+'PTEXTURE\x0a\x20'+'\x20\x20\x20float\x20a'+'oDetail\x20=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20return\x20de'+'tailMode_$'+'DETAILMODE'+'(vec3(ao),'+'\x20vec3(aoDe'+'tail)).r;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ao;'+'\x0a#endif\x0a}\x0a',mw='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',_w='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x20\x20\x20\x20spec'+'Occ\x20=\x20mix('+'1.0,\x20specO'+'cc,\x20materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20dRef'+'lection\x20*='+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x0a#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20sSpe'+'cularLight'+'\x20*=\x20specOc'+'c;\x0a\x20\x20\x20\x20sRe'+'flection\x20*'+'=\x20specOcc;'+'\x0a#endif\x0a}\x0a',gw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x0a\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20specO'+'cc;\x0a\x20\x20\x20\x20dR'+'eflection\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20\x0a#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20s'+'Reflection'+'\x20*=\x20specOc'+'c;\x0a#endif\x0a'+'}\x0a',yw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20dSpecul'+'arLight\x20*='+'\x20ao;\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20*=\x20ao;\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'sSpecularL'+'ight\x20*=\x20ao'+';\x0a\x20\x20\x20\x20sRef'+'lection\x20*='+'\x20ao;\x0a#endi'+'f\x0a}\x0a',xw='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20float\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20ao'+',\x20material'+'_occludeSp'+'ecularInte'+'nsity);\x0a\x20\x20'+'\x20\x20dSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20*=\x20sp'+'ecOcc;\x0a\x0a#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20s'+'SpecularLi'+'ght\x20*=\x20spe'+'cOcc;\x0a\x20\x20\x20\x20'+'sReflectio'+'n\x20*=\x20specO'+'cc;\x0a#endif'+'\x0a}\x0a',Sw='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',vw='\x0aattribute'+'\x20vec4\x20vert'+'ex_tangent'+';\x0aattribut'+'e\x20vec2\x20ver'+'tex_texCoo'+'rd0;\x0aattri'+'bute\x20vec2\x20'+'vertex_tex'+'Coord1;\x0aat'+'tribute\x20ve'+'c4\x20vertex_'+'color;\x0a\x0ave'+'c3\x20dPositi'+'onW;\x0amat4\x20'+'dModelMatr'+'ix;\x0a\x0a#incl'+'ude\x20\x22trans'+'formCoreVS'+'\x22\x0a',bw='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',ww='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a',Tw='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',Aw='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',Ew='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0auni'+'form\x20float'+'\x20weight[SA'+'MPLES];\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20moments'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20vU'+'v0\x20-\x20pixel'+'Offset\x20*\x20('+'float(SAMP'+'LES)\x20*\x200.5'+');\x0a\x20\x20\x20\x20for'+'\x20(int\x20i=0;'+'\x20i<SAMPLES'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20c\x20=\x20text'+'ure2D(sour'+'ce,\x20uv\x20+\x20p'+'ixelOffset'+'\x20*\x20float(i'+'));\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20+=\x20c.xyz'+'\x20*\x20weight['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20mome'+'nts\x20+=\x20c.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20GA'+'USS\x0a\x20\x20\x20\x20mo'+'ments\x20/=\x20f'+'loat(SAMPL'+'ES);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(moments.x'+',\x20moments.'+'y,\x20moments'+'.z,\x201.0);\x0a'+'}\x0a',Cw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoat;'+'\x0a#endif\x0a\x0av'+'oid\x20getCle'+'arCoat()\x20{'+'\x0a\x20\x20\x20\x20ccSpe'+'cularity\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20*=\x20ma'+'terial_cle'+'arCoat;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ccS'+'pecularity'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',Mw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoatG'+'loss;\x0a#end'+'if\x0a\x0avoid\x20g'+'etClearCoa'+'tGlossines'+'s()\x20{\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPFLOAT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20*='+'\x20material_'+'clearCoatG'+'loss;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'saturate(v'+'VertexColo'+'r.$VC);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPINVERT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20=\x20'+'1.0\x20-\x20ccGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20ccGl'+'ossiness\x20+'+'=\x200.000000'+'1;\x0a}\x0a',Pw='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_clearCoa'+'tBumpiness'+';\x0a#endif\x0a\x0a'+'void\x20getCl'+'earCoatNor'+'mal()\x20{\x0a#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20norma'+'lMap\x20=\x20unp'+'ackNormal('+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+'));\x0a\x20\x20\x20\x20no'+'rmalMap\x20=\x20'+'mix(vec3(0'+'.0,\x200.0,\x201'+'.0),\x20norma'+'lMap,\x20mate'+'rial_clear'+'CoatBumpin'+'ess);\x0a\x20\x20\x20\x20'+'ccNormalW\x20'+'=\x20normaliz'+'e(dTBN\x20*\x20n'+'ormalMap);'+'\x0a#else\x0a\x20\x20\x20'+'\x20ccNormalW'+'\x20=\x20dVertex'+'NormalW;\x0a#'+'endif\x0a}\x0a',Rw='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.z'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if(vAbs.'+'y\x20>=\x20vAbs.'+'x)\x20{\x20\x20//\x20t'+'op\x20index\x202'+',\x20bottom\x20i'+'ndex\x203\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20face'+'Index\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x203.0\x20:\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2(di'+'r.x,\x20dir.y'+'\x20<\x200.0\x20?\x20-'+'dir.z\x20:\x20di'+'r.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x20\x20\x20\x20'+'//\x20left\x20/\x20'+'right\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.x\x20<\x200.0\x20?'+'\x201.0\x20:\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.x;\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x\x20<\x200.0\x20?'+'\x20dir.z\x20:\x20-'+'dir.z,\x20-di'+'r.y);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.x\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20return'+'\x20uv\x20*\x20ma\x20+'+'\x200.5;\x0a}\x0a\x0a/'+'/\x20converts'+'\x20unnormali'+'zed\x20direct'+'ion\x20vector'+'\x20to\x20a\x20text'+'ure\x20coordi'+'nate\x20for\x20a'+'\x20cubemap\x20f'+'ace\x20stored'+'\x20within\x20te'+'xture\x20atla'+'s\x20describe'+'d\x20by\x20the\x20v'+'iewport\x0ave'+'c2\x20getCube'+'mapAtlasCo'+'ordinates('+'const\x20vec3'+'\x20omniAtlas'+'Viewport,\x20'+'float\x20shad'+'owEdgePixe'+'ls,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20const'+'\x20vec3\x20dir)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20faceIn'+'dex;\x0a\x20\x20\x20\x20v'+'ec2\x20tileOf'+'fset;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'getCubemap'+'FaceCoordi'+'nates(dir,'+'\x20faceIndex'+',\x20tileOffs'+'et);\x0a\x0a\x20\x20\x20\x20'+'//\x20move\x20uv'+'\x20coordinat'+'es\x20inwards'+'\x20inside\x20to'+'\x20compensat'+'e\x20for\x20larg'+'er\x20fov\x20whe'+'n\x20renderin'+'g\x20shadow\x20i'+'nto\x20atlas\x0a'+'\x20\x20\x20\x20float\x20'+'atlasFaceS'+'ize\x20=\x20omni'+'AtlasViewp'+'ort.z;\x0a\x20\x20\x20'+'\x20float\x20til'+'eSize\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20float\x20o'+'ffset\x20=\x20sh'+'adowEdgePi'+'xels\x20/\x20til'+'eSize;\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20vec2(1.0\x20'+'-\x20offset\x20*'+'\x202.0)\x20+\x20ve'+'c2(offset\x20'+'*\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20scal'+'e\x20uv\x20coord'+'inates\x20to\x20'+'cube\x20face\x20'+'area\x20withi'+'n\x20the\x20view'+'port\x0a\x20\x20\x20\x20u'+'v\x20*=\x20atlas'+'FaceSize;\x0a'+'\x0a\x20\x20\x20\x20//\x20of'+'fset\x20into\x20'+'face\x20of\x20th')+('e\x20atlas\x20(3'+'x3\x20grid)\x0a\x20'+'\x20\x20\x20uv\x20+=\x20t'+'ileOffset\x20'+'*\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20the'+'\x20atlas\x20vie'+'wport\x0a\x20\x20\x20\x20'+'uv\x20+=\x20omni'+'AtlasViewp'+'ort.xy;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'uv;\x0a}\x0a'),Iw='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20bool\x20is'+'Rgb,\x20vec4\x20'+'cookieChan'+'nel)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20pixe'+'l\x20=\x20mix(ve'+'c4(1.0),\x20t'+'exture2DLo'+'d(tex,\x20uv,'+'\x200.0),\x20int'+'ensity);\x0a\x20'+'\x20\x20\x20return\x20'+'isRgb\x20==\x20t'+'rue\x20?\x20pixe'+'l.rgb\x20:\x20ve'+'c3(dot(pix'+'el,\x20cookie'+'Channel));'+'\x0a}\x0a\x0a//\x20get'+'Cookie2D\x20f'+'or\x20cluster'+'ed\x20lightin'+'g\x20includin'+'g\x20channel\x20'+'selector\x0av'+'ec3\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_ACCEPT('+'tex),\x20mat4'+'\x20transform'+',\x20vec3\x20wor'+'ldPosition'+',\x20float\x20in'+'tensity,\x20b'+'ool\x20isRgb,'+'\x20vec4\x20cook'+'ieChannel)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(TEXTURE_P'+'ASS(tex),\x20'+'projPos.xy'+'\x20/\x20projPos'+'.w,\x20intens'+'ity,\x20isRgb'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20bool\x20isR'+'gb,\x20vec4\x20c'+'ookieChann'+'el,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20float'+'\x20shadowEdg'+'ePixels,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+('lution,\x20di'+'r);\x0a\x20\x20\x20\x20re'+'turn\x20_getC'+'ookieClust'+'ered(TEXTU'+'RE_PASS(te'+'x),\x20uv,\x20in'+'tensity,\x20i'+'sRgb,\x20cook'+'ieChannel)'+';\x0a}\x0a'),Dw='\x0a//\x20Cluste'+'red\x20Omni\x20S'+'ampling\x20us'+'ing\x20atlas\x0a'+'\x0avoid\x20_get'+'ShadowCoor'+'dPerspZbuf'+'fer(mat4\x20s'+'hadowMatri'+'x,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20wPo'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20projPo'+'s\x20=\x20shadow'+'Matrix\x20*\x20v'+'ec4(wPos,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'projPos.xy'+'z\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'dShadowCoo'+'rd\x20=\x20projP'+'os.xyz;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0avo'+'id\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(mat4\x20sha'+'dowMatrix,'+'\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20wPos\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y;\x0a\x20'+'\x20\x20\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20inout\x20ve'+'c3\x20lightDi'+'r,\x20vec3\x20li'+'ghtDirNorm'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20float\x20dis'+'tScale\x20=\x20l'+'ength(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20vec3\x20wPos'+'\x20=\x20vPositi'+'onW\x20+\x20norm'+'al\x20*\x20shado'+'wParams.y\x20'+'*\x20clamp(1.'+'0\x20-\x20dot(no'+'rmal,\x20-lig'+'htDirNorm)'+',\x200.0,\x201.0'+')\x20*\x20distSc'+'ale;\x20//0.0'+'2\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20wPo'+'s\x20-\x20lightP'+'os;\x0a\x20\x20\x20\x20re'+'turn\x20dir;\x0a'+'}\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x0afloat\x20ge'+'tShadowOmn'+'iClustered'+'PCF1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+('dgePixels,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'hadowTextu'+'reResoluti'+'on\x20=\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20getCu'+'bemapAtlas'+'Coordinate'+'s(omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20s'+'hadowTextu'+'reResoluti'+'on,\x20lightD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'v,\x20shadowZ'+'));\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF3(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'5)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF5(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4')+('\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a//\x20Cl'+'ustered\x20Sp'+'ot\x20Samplin'+'g\x20using\x20at'+'las\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x0afloat\x20'+'getShadowS'+'potCluster'+'edPCF1(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20text'+'ureShadow('+'shadowMap,'+'\x20shadowCoo'+'rd);\x0a}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0afloat'+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms)\x20{\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA'+'DOWMAP_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a}\x0a\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF5)'+'\x0a\x0afloat\x20ge'+'tShadowSpo'+'tClustered')+('PCF5(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a}\x0a#en'+'dif\x0a'),Lw='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20clust'+'erWorldTex'+'ture;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ure8;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ureFloat;\x0a'+'\x0a//\x20comple'+'x\x20ifdef\x20ex'+'pression\x20a'+'re\x20not\x20sup'+'ported,\x20ha'+'ndle\x20it\x20he'+'re\x0a//\x20defi'+'ned(CLUSTE'+'R_COOKIES)'+'\x20||\x20define'+'d(CLUSTER_'+'SHADOWS)\x0a#'+'if\x20defined'+'(CLUSTER_C'+'OOKIES)\x0a\x20\x20'+'\x20\x20#define\x20'+'CLUSTER_CO'+'OKIES_OR_S'+'HADOWS\x0a#en'+'dif\x0a#if\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x20\x20\x20\x20#de'+'fine\x20CLUST'+'ER_COOKIES'+'_OR_SHADOW'+'S\x0a#endif\x0a\x0a'+'#ifdef\x20CLU'+'STER_SHADO'+'WS\x0a\x20\x20\x20\x20//\x20'+'TODO:\x20when'+'\x20VSM\x20shado'+'w\x20is\x20suppo'+'rted,\x20it\x20n'+'eeds\x20to\x20us'+'e\x20sampler2'+'D\x20in\x20webgl'+'2\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2DShadow\x20'+'shadowAtla'+'sTexture;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20CLUST'+'ER_COOKIES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20cookieA'+'tlasTextur'+'e;\x0a#endif\x0a'+'\x0auniform\x20i'+'nt\x20cluster'+'MaxCells;\x0a'+'\x0a//\x201.0\x20if'+'\x20clustered'+'\x20lighting\x20'+'can\x20be\x20ski'+'pped\x20(0\x20li'+'ghts\x20in\x20th'+'e\x20clusters'+')\x0auniform\x20'+'float\x20clus'+'terSkip;\x0a\x0a'+'uniform\x20ve'+'c3\x20cluster'+'CellsCount'+'ByBoundsSi'+'ze;\x0aunifor'+'m\x20vec3\x20clu'+'sterTextur'+'eSize;\x0auni'+'form\x20vec3\x20'+'clusterBou'+'ndsMin;\x0aun'+'iform\x20vec3'+'\x20clusterBo'+'undsDelta;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsDot;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsMax;'+'\x0auniform\x20v'+'ec2\x20cluste'+'rCompressi'+'onLimit0;\x0a'+('uniform\x20ve'+'c2\x20shadowA'+'tlasParams'+';\x0a\x0a//\x20stru'+'cture\x20stor'+'ing\x20light\x20'+'properties'+'\x20of\x20a\x20clus'+'tered\x20ligh'+'t\x0a//\x20it\x27s\x20'+'sorted\x20to\x20'+'have\x20all\x20v'+'ectors\x20ali'+'gned\x20to\x204\x20'+'floats\x20to\x20'+'limit\x20padd'+'ing\x0astruct'+'\x20ClusterLi'+'ghtData\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20s'+'izes\x20/\x20ori'+'entation\x0a\x20'+'\x20\x20\x20vec3\x20ha'+'lfWidth;\x0a\x0a'+'\x20\x20\x20\x20//\x20typ'+'e\x20of\x20the\x20l'+'ight\x20(spot'+'\x20or\x20omni)\x0a'+'\x20\x20\x20\x20float\x20'+'lightType;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'sizes\x20/\x20or'+'ientation\x0a'+'\x20\x20\x20\x20vec3\x20h'+'alfHeight;'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20int\x20l'+'ightIndex;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20position\x0a'+'\x20\x20\x20\x20vec3\x20p'+'osition;\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20fl'+'oat\x20shape;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20direction'+'\x20(spot\x20lig'+'ht\x20only)\x0a\x20'+'\x20\x20\x20vec3\x20di'+'rection;\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20follow\x20'+'mode\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ffMode;\x0a\x0a\x20'+'\x20\x20\x20//\x20colo'+'r\x0a\x20\x20\x20\x20vec3'+'\x20color;\x0a\x0a\x20'+'\x20\x20\x20//\x200.0\x20'+'if\x20the\x20lig'+'ht\x20doesn\x27t'+'\x20cast\x20shad'+'ows\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'tlas\x20viewp'+'ort\x20for\x20om'+'ni\x20light\x20s'+'hadow\x20and\x20'+'cookie\x20(.x'+'y\x20is\x20offse'+'t\x20to\x20the\x20v'+'iewport\x20sl'+'ot,\x20.z\x20is\x20'+'size\x20of\x20th'+'e\x20face\x20in\x20'+'the\x20atlas)'+'\x0a\x20\x20\x20\x20vec3\x20'+'omniAtlasV'+'iewport;\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'float\x20rang'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20channel\x20m'+'ask\x20-\x20one\x20'+'of\x20the\x20cha'+'nnels\x20has\x20'+'1,\x20the\x20oth'+'ers\x20are\x200\x0a'+'\x20\x20\x20\x20vec4\x20c')+('ookieChann'+'elMask;\x0a\x0a\x20'+'\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20inner\x20'+'and\x20outer\x20'+'angle\x20cosi'+'ne\x0a\x20\x20\x20\x20flo'+'at\x20innerCo'+'neAngleCos'+';\x0a\x20\x20\x20\x20floa'+'t\x20outerCon'+'eAngleCos;'+'\x0a\x0a\x20\x20\x20\x20//\x201'+'.0\x20if\x20the\x20'+'light\x20has\x20'+'a\x20cookie\x20t'+'exture\x0a\x20\x20\x20'+'\x20float\x20coo'+'kie;\x0a\x0a\x20\x20\x20\x20'+'//\x201.0\x20if\x20'+'cookie\x20tex'+'ture\x20is\x20rg'+'b,\x20otherwi'+'se\x20it\x20is\x20u'+'sing\x20a\x20sin'+'gle\x20channe'+'l\x20selectab'+'le\x20by\x20cook'+'ieChannelM'+'ask\x0a\x20\x20\x20\x20fl'+'oat\x20cookie'+'Rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20intensi'+'ty\x20of\x20the\x20'+'cookie\x0a\x20\x20\x20'+'\x20float\x20coo'+'kieIntensi'+'ty;\x0a\x0a\x20\x20\x20\x20/'+'/\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20flo'+'at\x20mask;\x0a}'+';\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0am'+'at4\x20lightP'+'rojectionM'+'atrix;\x0a\x0a//'+'\x20macros\x20fo'+'r\x20light\x20pr'+'operties\x0a#'+'define\x20isC'+'lusteredLi'+'ghtCastSha'+'dow(light)'+'\x20(\x20light.s'+'hadowInten'+'sity\x20>\x200.0')+('\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kie(light)'+'\x20(light.co'+'okie\x20>\x200.5'+'\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kieRgb(lig'+'ht)\x20(light'+'.cookieRgb'+'\x20>\x200.5\x20)\x0a#'+'define\x20isC'+'lusteredLi'+'ghtSpot(li'+'ght)\x20(\x20lig'+'ht.lightTy'+'pe\x20>\x200.5\x20)'+'\x0a#define\x20i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight)\x20(\x20li'+'ght.fallof'+'fMode\x20<\x200.'+'5\x20)\x0a\x0a//\x20ma'+'cros\x20to\x20te'+'st\x20light\x20s'+'hape\x0a//\x20No'+'te:\x20Follow'+'ing\x20functi'+'ons\x20need\x20t'+'o\x20be\x20calle'+'d\x20serially'+'\x20in\x20listed'+'\x20order\x20as\x20'+'they\x20do\x20no'+'t\x20test\x20bot'+'h\x20\x27>\x27\x20and\x20'+'\x27<\x27\x0a#defin'+'e\x20isCluste'+'redLightAr'+'ea(light)\x20'+'(\x20light.sh'+'ape\x20>\x200.1\x20'+')\x0a#define\x20'+'isClustere'+'dLightRect'+'(light)\x20(\x20'+'light.shap'+'e\x20<\x200.3\x20)\x0a'+'#define\x20is'+'ClusteredL'+'ightDisk(l'+'ight)\x20(\x20li'+'ght.shape\x20'+'<\x200.6\x20)\x0a\x0a/'+'/\x20macro\x20to'+'\x20test\x20ligh'+'t\x20mask\x20(me'+'sh\x20accepts'+'\x20dynamic\x20v'+'s\x20lightmap'+'ped\x20lights'+')\x0a#ifdef\x20C'+'LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20//\x20accept'+'\x20lights\x20ma'+'rked\x20as\x20dy'+'namic\x20or\x20b'+'oth\x20dynami'+'c\x20and\x20ligh'+'tmapped\x0a\x20\x20'+'\x20\x20#define\x20'+'acceptLigh'+'tMask(ligh'+'t)\x20(\x20light'+'.mask\x20<\x200.'+'75)\x0a#else\x0a'+'\x20\x20\x20\x20//\x20acc'+'ept\x20lights'+'\x20marked\x20as'+'\x20lightmapp'+'ed\x20or\x20both'+'\x20dynamic\x20a'+'nd\x20lightma'+'pped\x0a\x20\x20\x20\x20#'+'define\x20acc'+'eptLightMa'+'sk(light)\x20'+'(\x20light.ma'+'sk\x20>\x200.25)'+'\x0a#endif\x0a\x0av'+'ec4\x20decode'+'ClusterLow'+'Range4Vec4'+'(vec4\x20d0,\x20')+('vec4\x20d1,\x20v'+'ec4\x20d2,\x20ve'+'c4\x20d3)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bytes2'+'floatRange'+'4(d0,\x20-2.0'+',\x202.0),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20byte'+'s2floatRan'+'ge4(d1,\x20-2'+'.0,\x202.0),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20by'+'tes2floatR'+'ange4(d2,\x20'+'-2.0,\x202.0)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'bytes2floa'+'tRange4(d3'+',\x20-2.0,\x202.'+'0)\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avec4\x20sa'+'mpleLights'+'Texture8(c'+'onst\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData,\x20'+'int\x20index)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20texelF'+'etch(light'+'sTexture8,'+'\x20ivec2(ind'+'ex,\x20cluste'+'rLightData'+'.lightInde'+'x),\x200);\x0a}\x0a'+'\x0avec4\x20samp'+'leLightTex'+'tureF(cons'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20int'+'\x20index)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20texelFetc'+'h(lightsTe'+'xtureFloat'+',\x20ivec2(in'+'dex,\x20clust'+'erLightDat'+'a.lightInd'+'ex),\x200);\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightCore('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData,'+'\x20float\x20lig'+'htIndex)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.lightInd'+'ex\x20=\x20int(l'+'ightIndex)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'shared\x20dat'+'a\x20from\x208bi'+'t\x20texture\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightInfo\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_FL'+'AGS);\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.lig'+'htType\x20=\x20l'+'ightInfo.x'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shape\x20='+'\x20lightInfo'+'.y;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.fallo'+'ffMode\x20=\x20l'+'ightInfo.z'+';\x0a\x20\x20\x20\x20clus'+'terLightDa')+('ta.shadowI'+'ntensity\x20='+'\x20lightInfo'+'.w;\x0a\x0a\x20\x20\x20\x20/'+'/\x20color\x0a\x20\x20'+'\x20\x20vec4\x20col'+'orA\x20=\x20samp'+'leLightsTe'+'xture8(clu'+'sterLightD'+'ata,\x20CLUST'+'ER_TEXTURE'+'_8_COLOR_A'+');\x0a\x20\x20\x20\x20vec'+'4\x20colorB\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_CO'+'LOR_B);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.c'+'olor\x20=\x20vec'+'3(bytes2fl'+'oat2(color'+'A.xy),\x20byt'+'es2float2('+'colorA.zw)'+',\x20bytes2fl'+'oat2(color'+'B.xy))\x20*\x20c'+'lusterComp'+'ressionLim'+'it0.y;\x0a\x0a\x20\x20'+'\x20\x20//\x20cooki'+'e\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.cookie\x20'+'=\x20colorB.z'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.mask\x20=\x20c'+'olorB.w;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightPosRan'+'ge\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_POSITION_'+'RANGE);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.p'+'osition\x20=\x20'+'lightPosRa'+'nge.xyz;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'range\x20=\x20li'+'ghtPosRang'+'e.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20ve'+'c4\x20lightDi'+'r_Unused\x20='+'\x20sampleLig'+'htTextureF'+'(clusterLi'+'ghtData,\x20C'+'LUSTER_TEX'+'TURE_F_SPO'+'T_DIRECTIO'+'N);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.direc'+'tion\x20=\x20lig'+'htDir_Unus'+'ed.xyz;\x0a}\x0a'+'\x0avoid\x20deco'+'deClusterL'+'ightSpot(i'+'nout\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20cos\x20angle'+'s\x0a\x20\x20\x20\x20vec4'+'\x20coneAngle'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste')+('rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'SPOT_ANGLE'+'S);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20bytes'+'2float2(co'+'neAngle.xy'+')\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20byte'+'s2float2(c'+'oneAngle.z'+'w)\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_F_'+'PROJ_MAT_0'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_AREA_D'+'ATA_WIDTH)'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20CL'+'USTER_TEXT'+'URE_F_AREA'+'_DATA_HEIG'+'HT).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20CLU'+'STER_TEXTU'+'RE_F_PROJ_'+'MAT_0);\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_F_PR'+'OJ_MAT_1);'+'\x0a\x20\x20\x20\x20vec4\x20')+('m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_PROJ_MAT_'+'2);\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_PROJ_M'+'AT_3);\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'4\x20biases\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_SH'+'ADOW_BIAS)'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shadowB'+'ias\x20=\x20byte'+'s2floatRan'+'ge2(biases'+'.xy,\x20-1.0,'+'\x2020.0),\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.s'+'hadowNorma'+'lBias\x20=\x20by'+'tes2float2'+'(biases.zw'+');\x0a}\x0a\x0avoid'+'\x20decodeClu'+'sterLightC'+'ookieData('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20cookieA'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'COOKIE_A);'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'cookieA.x;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieRg'+'b\x20=\x20cookie'+'A.y;\x0a\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.coo'+'kieChannel'+'Mask\x20=\x20sam'+'pleLightsT'+'exture8(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_8_COOKIE'+'_B);\x0a}\x0a\x0avo'+'id\x20evaluat'+'eLight(\x0a\x20\x20'+'\x20\x20ClusterL'+'ightData\x20l'+'ight,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v')+('iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20vec3\x20c'+'learcoatRe'+'flectionDi'+'r,\x0a#endif\x0a'+'\x20\x20\x20\x20float\x20'+'gloss,\x20\x0a\x20\x20'+'\x20\x20vec3\x20spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'geometricN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20mat3\x20tbn'+',\x20\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20vec3\x20cle'+'arcoat_wor'+'ldNormal,\x0a'+'\x20\x20\x20\x20float\x20'+'clearcoat_'+'gloss,\x0a\x20\x20\x20'+'\x20float\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20float\x20'+'iridescenc'+'e_intensit'+'y\x0a)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cook'+'ieAttenuat'+'ion\x20=\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20float\x20dif'+'fuseAttenu'+'ation\x20=\x201.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20falloff'+'Attenuatio'+'n\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20omni'+'\x20part\x20of\x20t'+'he\x20light\x0a\x20'+'\x20\x20\x20getLigh'+'tDirPoint('+'light.posi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20//\x20dist'+'ance\x20atten'+'uation\x0a\x20\x20\x20'+'\x20if\x20(isClu'+'steredLigh'+'tArea(ligh'+'t))\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20area\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20decodeCl'+'usterLight'+'AreaData(l'+'ight);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20h'+'andle\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightRect'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(light.p'+'osition,\x20l'+'ight.halfW'+'idth,\x20ligh'+'t.halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(isClus'+'teredLight'+'Disk(light'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cal'+'cDiskLight'+'Values(lig'+'ht.positio'+'n,\x20light.h')+('alfWidth,\x20'+'light.half'+'Height);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x20//\x20s'+'phere\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcSphereLi'+'ghtValues('+'light.posi'+'tion,\x20ligh'+'t.halfWidt'+'h,\x20light.h'+'alfHeight)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20falloffAt'+'tenuation\x20'+'=\x20getFallo'+'ffWindow(l'+'ight.range'+',\x20dLightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight))\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20=\x20'+'getFalloff'+'Linear(lig'+'ht.range,\x20'+'dLightDirW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffI'+'nvSquared('+'light.rang'+'e,\x20dLightD'+'irW);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightAre'+'a(light))\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtRect(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20diffus'+'eAttenuati'+'on\x20=\x20getRe'+'ctLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20dLi'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(isCl'+'usteredLig'+'htDisk(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getDis'+'kLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirW,\x20dL'+'ightDirNor'+'mW)\x20*\x2016.0')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20*='+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW);\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isCluste'+'redLightSp'+'ot(light))'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_COO'+'KIES_OR_SH'+'ADOWS)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'falloffAtt'+'enuation\x20>'+'\x200.00001)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x20/\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightCast'+'Shadow(lig'+'ht)\x20||\x20isC'+'lusteredLi'+'ghtCookie('+'light))\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'shared\x20sha'+'dow\x20/\x20cook'+'ie\x20data\x20de'+'pends\x20on\x20l'+'ight\x20type\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightSpot'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightP'+'rojectionM'+'atrixData('+'light);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tOmniAtlas'+'Viewport(l'+'ight);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adowTextur'+'eResolutio'+'n\x20=\x20shadow'+'AtlasParam'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dowEdgePix'+'els\x20=\x20shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(isClus'+'teredLight'+'Cookie(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dec'+'odeCluster'+'LightCooki'+'eData(ligh'+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightSpot('+'light))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightProjec'+'tionMatrix'+',\x20vPositio'+'nW,\x20light.'+'cookieInte'+'nsity,\x20isC'+'lusteredLi'+'ghtCookieR'+'gb(light),'+'\x20light.coo'+'kieChannel'+'Mask);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookieC'+'ubeCluster'+'ed(TEXTURE'+'_PASS(cook'+'ieAtlasTex'+'ture),\x20dLi'+'ghtDirW,\x20l'+'ight.cooki'+'eIntensity'+',\x20isCluste'+'redLightCo'+'okieRgb(li'+'ght),\x20ligh'+'t.cookieCh'+'annelMask,'+'\x20shadowTex'+'tureResolu'+'tion,\x20shad'+'owEdgePixe'+'ls,\x20light.'+'omniAtlasV'+'iewport);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_SHAD'+'OWS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightCas'+'tShadow(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightShad'+'owData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shadowPar'+'ams\x20=\x20vec4'+'(shadowTex'+'tureResolu'+'tion,\x20ligh'+'t.shadowNo'+'rmalBias,\x20'+'light.shad'+'owBias,\x201.'+'0\x20/\x20light.'+'range);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(isClust'+'eredLightS'+'pot(light)'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tShadowCoo'+'rdPerspZbu'+'fferNormal'+'Offset(lig'+'htProjecti'+'onMatrix,\x20'+'shadowPara'+'ms,\x20geomet'+'ricNormal)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF1)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wSpotClust'+'eredPCF1(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20dShad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20dShado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el')+('if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadow\x20=\x20'+'getShadowS'+'potCluster'+'edPCF5(SHA'+'DOWMAP_PAS'+'S(shadowAt'+'lasTexture'+'),\x20dShadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCSS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowSp'+'otClustere'+'dPCSS(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20dShadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20*=\x20mi'+'x(1.0,\x20sha'+'dow,\x20light'+'.shadowInt'+'ensity);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20omn'+'i\x20shadow\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'OffsetPoin'+'tShadow(sh'+'adowParams'+',\x20dLightPo'+'sW,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+',\x20geometri'+'cNormal);\x20'+'\x20//\x20normal'+'Bias\x20adjus'+'ted\x20for\x20di'+'stance\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF1)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owOmniClus'+'teredPCF1('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owParams,\x20'+'light.omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20dir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20d'+'efined(CLU')+('STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F3(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF5)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF5(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20*'+'=\x20mix(1.0,'+'\x20shadow,\x20l'+'ight.shado'+'wIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20d'+'iffuse\x20/\x20s'+'pecular\x20/\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_AREALIG'+'HTS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtArea(li'+'ght))\x20{\x20//'+'\x20area\x20ligh'+'t\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20d'+'iffuse\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20areaDiff'+'use\x20=\x20(dif'+'fuseAttenu'+'ation\x20*\x20fa'+'lloffAtten'+'uation)\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20area'+'Diffuse\x20=\x20'+'mix(areaDi'+'ffuse,\x20vec'+'3(0),\x20dLTC'+'SpecFres);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20diffu'+'se\x20-\x20it\x20do'+'es\x20not\x20mix'+'\x20diffuse\x20l'+'ighting\x20in'+'to\x20specula'+'r\x20attenuat'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20+=\x20are'+'aDiffuse;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x20a'+'nd\x20clear\x20c'+'oat\x20are\x20ma'+'terial\x20set'+'tings\x20and\x20'+'get\x20includ'+'ed\x20by\x20a\x20de'+'fine\x20based'+'\x20on\x20the\x20ma'+'terial\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20areaLight'+'Specular;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightRec'+'t(light))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getRectL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(isClust'+'eredLightD'+'isk(light)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'r\x20=\x20getDis'+'kLightSpec'+'ular(world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'\x20=\x20getSphe'+'reLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20are'+'aLightSpec'+'ular\x20*\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt')+('tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20specul'+'ar\x20clear\x20c'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'areaLightS'+'pecularCC;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isCl'+'usteredLig'+'htRect(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'SpecularCC'+'\x20=\x20getRect'+'LightSpecu'+'lar(clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(is'+'ClusteredL'+'ightDisk(l'+'ight))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'CC\x20=\x20getDi'+'skLightSpe'+'cular(clea'+'rcoat_worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x20//'+'\x20sphere\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getSph'+'ereLightSp'+'ecular(cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ar'+'eaLightSpe'+'cularCC\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x20\x20\x20\x20//\x20pu'+'nctual\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20p'+'unctual\x20li'+'ght\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20pun'+'ctualDiffu'+'se\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20')+('cookieAtte'+'nuation;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_AREA'+'LIGHTS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'punctualDi'+'ffuse\x20=\x20mi'+'x(punctual'+'Diffuse,\x20v'+'ec3(0),\x20sp'+'ecularity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20punctual'+'Diffuse;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20halfDir'+'\x20=\x20normali'+'ze(-dLight'+'DirNormW\x20+'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spe'+'cular\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpecularL'+'ight\x20+=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getLigh'+'tSpecular('+'halfDir,\x20r'+'eflectionD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirNormW,\x20'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20s'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20getLig'+'htSpecular'+'(halfDir,\x20'+'clearcoatR'+'eflectionD'+'ir,\x20clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20getFresne'+'lCC(dot(vi'+'ewDir,\x20hal'+'fDir));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'SpecularLi'+'ght\x20+=\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20clearco'+'atReflecti'+'onDir,\x20cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20clear'+'coat_gloss'+',\x20tbn)\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20')+('light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20+=\x20getL'+'ightSpecul'+'arSheen(ha'+'lfDir,\x20wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20sheen'+'_gloss)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20Write\x20to\x20'+'global\x20att'+'enuation\x20v'+'alues\x20(for'+'\x20lightmapp'+'er)\x0a\x20\x20\x20\x20dA'+'tten\x20=\x20fal'+'loffAttenu'+'ation;\x0a\x20\x20\x20'+'\x20dAttenD\x20='+'\x20diffuseAt'+'tenuation;'+'\x0a\x20\x20\x20\x20dAtte'+'n3\x20=\x20cooki'+'eAttenuati'+'on;\x0a}\x0a\x0avoi'+'d\x20evaluate'+'ClusterLig'+'ht(\x0a\x20\x20\x20\x20fl'+'oat\x20lightI'+'ndex,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x20\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr')+('om\x20texture'+'s\x0a\x20\x20\x20\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData;'+'\x0a\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCore(cl'+'usterLight'+'Data,\x20ligh'+'tIndex);\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20ligh'+'t\x20if\x20it\x20us'+'es\x20accepte'+'d\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20if\x20'+'(acceptLig'+'htMask(clu'+'sterLightD'+'ata))\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre')+('snel,\x0a#end'+'if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l')+('ightCellIn'+'dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20a'+'lpha\x20chann'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20lightInde'+'x\x20=\x20texelF'+'etch(clust'+'erWorldTex'+'ture,\x20ivec'+'2(int(clus'+'terU)\x20+\x20li'+'ghtCellInd'+'ex,\x20cluste'+'rV),\x200).x;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ghtIndex\x20<'+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndex\x20*\x202'+'55.0,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20viewDir'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cle'+'arcoatRefl'+'ectionDir,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'ometricNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),Fw='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion.rgb)\x20'+'*\x20clearcoa'+'tSpeculari'+'ty;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20ret;\x0a}\x0a',Ow='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),kw='\x0auniform\x20v'+'ec3\x20envBox'+'Min;\x0aunifo'+'rm\x20vec3\x20en'+'vBoxMax;\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x20\x20\x20\x20nr'+'dir\x20=\x20cube'+'MapRotate('+'nrdir);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20rb'+'max\x20=\x20(env'+'BoxMax\x20-\x20v'+'PositionW)'+'\x20/\x20nrdir;\x0a'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20rbminmax;'+'\x0a\x20\x20\x20\x20rbmin'+'max.x\x20=\x20nr'+'dir.x>0.0?'+'\x20rbmax.x\x20:'+'\x20rbmin.x;\x0a'+'\x20\x20\x20\x20rbminm'+'ax.y\x20=\x20nrd'+'ir.y>0.0?\x20'+'rbmax.y\x20:\x20'+'rbmin.y;\x0a\x20'+'\x20\x20\x20rbminma'+'x.z\x20=\x20nrdi'+'r.z>0.0?\x20r'+'bmax.z\x20:\x20r'+'bmin.z;\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'a\x20=\x20min(mi'+'n(rbminmax'+'.x,\x20rbminm'+'ax.y),\x20rbm'+'inmax.z);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'posonbox\x20='+'\x20vPosition'+'W\x20+\x20nrdir\x20'+'*\x20fa;\x0a\x20\x20\x20\x20'+'vec3\x20envBo'+'xPos\x20=\x20(en'+'vBoxMin\x20+\x20'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20return\x20n'+'ormalize(p'+'osonbox\x20-\x20'+'envBoxPos)'+';\x0a}\x0a',Bw='\x0avec3\x20cube'+'MapProject'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cubeMa'+'pRotate(di'+'r);\x0a}\x0a',Nw='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',zw='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',Uw='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',S0='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0a#endif\x0a',Vw='\x0avec3\x20deta'+'ilMode_mul'+'(vec3\x20c1,\x20'+'vec3\x20c2)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20c1\x20*\x20c2;'+'\x0a}\x0a\x0avec3\x20d'+'etailMode_'+'add(vec3\x20c'+'1,\x20vec3\x20c2'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20c1\x20+\x20'+'c2;\x0a}\x0a\x0a//\x20'+'https://en'+'.wikipedia'+'.org/wiki/'+'Blend_mode'+'s#Screen\x0av'+'ec3\x20detail'+'Mode_scree'+'n(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x201.0\x20-\x20('+'1.0\x20-\x20c1)*'+'(1.0\x20-\x20c2)'+';\x0a}\x0a\x0a//\x20ht'+'tps://en.w'+'ikipedia.o'+'rg/wiki/Bl'+'end_modes#'+'Overlay\x0ave'+'c3\x20detailM'+'ode_overla'+'y(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20mix(1.0'+'\x20-\x202.0*(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0*c1*c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a',Gw='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20vec3\x20albe'+'doBase\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20d'+'Albedo\x20*=\x20'+'addAlbedoD'+'etail(albe'+'doBase);\x0a#'+'endif\x0a\x0a#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dA'+'lbedo\x20*=\x20g'+'ammaCorrec'+'tInput(sat'+'urate(vVer'+'texColor.$'+'VC));\x0a#end'+'if\x0a}\x0a',Hw='\x0avec3\x20addA'+'lbedoDetai'+'l(vec3\x20alb'+'edo)\x20{\x0a#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+'Detail\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20r'+'eturn\x20deta'+'ilMode_$DE'+'TAILMODE(a'+'lbedo,\x20alb'+'edoDetail)'+';\x0a#else\x0a\x20\x20'+'\x20\x20return\x20a'+'lbedo;\x0a#en'+'dif\x0a}\x0a',Ww='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20$DECODE(t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.$VC'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',v0='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),$w='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',qw='\x0a',Xw='\x0a//\x20the\x20en'+'vAtlas\x20is\x20'+'fixed\x20at\x205'+'12\x20pixels.'+'\x20every\x20equ'+'irect\x20is\x20g'+'enerated\x20w'+'ith\x201\x20pixe'+'l\x20boundary'+'.\x0aconst\x20fl'+'oat\x20atlasS'+'ize\x20=\x20512.'+'0;\x0aconst\x20f'+'loat\x20seamS'+'ize\x20=\x201.0\x20'+'/\x20atlasSiz'+'e;\x0a\x0a//\x20map'+'\x20a\x20normali'+'zed\x20equire'+'ct\x20UV\x20to\x20t'+'he\x20given\x20r'+'ectangle\x20('+'taking\x201\x20p'+'ixel\x20seam\x20'+'into\x20accou'+'nt).\x0avec2\x20'+'mapUv(vec2'+'\x20uv,\x20vec4\x20'+'rect)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2(mix(re'+'ct.x\x20+\x20sea'+'mSize,\x20rec'+'t.x\x20+\x20rect'+'.z\x20-\x20seamS'+'ize,\x20uv.x)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'x(rect.y\x20+'+'\x20seamSize,'+'\x20rect.y\x20+\x20'+'rect.w\x20-\x20s'+'eamSize,\x20u'+'v.y));\x0a}\x0a\x0a'+'//\x20map\x20a\x20n'+'ormalized\x20'+'equirect\x20U'+'V\x20and\x20roug'+'hness\x20leve'+'l\x20to\x20the\x20c'+'orrect\x20atl'+'as\x20rect.\x0av'+'ec2\x20mapRou'+'ghnessUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0avec2\x20ma'+'pShinyUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(1.0\x20-\x20t,'+'\x201.0\x20-\x20t,\x20'+'t,\x20t\x20*\x200.5'+'));\x0a}\x0a',jw='\x0avec3\x20proc'+'essEnviron'+'ment(vec3\x20'+'color)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',Yw='\x0auniform\x20f'+'loat\x20skybo'+'xIntensity'+';\x0a\x0avec3\x20pr'+'ocessEnvir'+'onment(vec'+'3\x20color)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'skyboxInte'+'nsity;\x0a}\x0a',Kw='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(\x20satur'+'ate(\x201.0\x20-'+'\x20square(\x20s'+'qrDist\x20*\x20s'+'quare(invR'+'adius)\x20)\x20)'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getFall'+'offInvSqua'+'red(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ff\x20=\x201.0\x20/'+'\x20(sqrDist\x20'+'+\x201.0);\x0a\x20\x20'+'\x20\x20float\x20in'+'vRadius\x20=\x20'+'1.0\x20/\x20ligh'+'tRadius;\x0a\x0a'+'\x20\x20\x20\x20fallof'+'f\x20*=\x2016.0;'+'\x0a\x20\x20\x20\x20fallo'+'ff\x20*=\x20squa'+'re(\x20satura'+'te(\x201.0\x20-\x20'+'square(\x20sq'+'rDist\x20*\x20sq'+'uare(invRa'+'dius)\x20)\x20)\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20fallo'+'ff;\x0a}\x0a',Zw='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',Qw='\x0a//\x20float\x20'+'unpacking\x20'+'functional'+'ity,\x20compl'+'imentary\x20t'+'o\x20float-pa'+'cking.js\x0af'+'loat\x20bytes'+'2float2(ve'+'c2\x20data)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(data'+',\x20vec2(1.0'+',\x201.0\x20/\x2025'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2float3(v'+'ec3\x20data)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(dat'+'a,\x20vec3(1.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x2065025.0)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oat4(vec4\x20'+'data)\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'ot(data,\x20v'+'ec4(1.0,\x201'+'.0\x20/\x20255.0'+',\x201.0\x20/\x2065'+'025.0,\x201.0'+'\x20/\x201658137'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2floatRan'+'ge2(vec2\x20d'+'ata,\x20float'+'\x20min,\x20floa'+'t\x20max)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'mix(min,\x20m'+'ax,\x20bytes2'+'float2(dat'+'a));\x0a}\x0a\x0afl'+'oat\x20bytes2'+'floatRange'+'3(vec3\x20dat'+'a,\x20float\x20m'+'in,\x20float\x20'+'max)\x20{\x0a\x20\x20\x20'+'\x20return\x20mi'+'x(min,\x20max'+',\x20bytes2fl'+'oat3(data)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oatRange4('+'vec4\x20data,'+'\x20float\x20min'+',\x20float\x20ma'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'min,\x20max,\x20'+'bytes2floa'+'t4(data));'+'\x0a}\x0a\x0afloat\x20'+'mantissaEx'+'ponent2Flo'+'at(vec4\x20pa'+'ck)\x0a{\x0a\x20\x20\x20\x20'+'float\x20valu'+'e\x20=\x20bytes2'+'floatRange'+'3(pack.xyz'+',\x20-1.0,\x201.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20expone'+'nt\x20=\x20floor'+'(pack.w\x20*\x20'+'255.0\x20-\x2012'+'7.0);\x0a\x20\x20\x20\x20'+'return\x20val'+'ue\x20*\x20exp2('+'exponent);'+'\x0a}\x0a',Jw='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'#endif\x20//\x20'+'FLOAT_AS_U'+'INT\x0a',eT='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',tT='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20max(cosT'+'heta,\x200.0)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20max('+'cosTheta,\x20'+'0.0),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',sT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',iT='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy*0.5+0.5'+';\x0a}\x0a',rT='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',nT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPFLOA'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20dGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.$VC);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPINVERT\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x201.'+'0\x20-\x20dGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',aT='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20c'+'enterProj.'+'z\x20=\x20clamp('+'centerProj'+'.z,\x20-abs(c'+'enterProj.'+'w),\x20abs(ce'+'nterProj.w'+'));\x0a\x0a\x20\x20\x20\x20c'+'enter.view'+'\x20=\x20centerV'+'iew.xyz\x20/\x20'+'centerView'+'.w;\x0a\x20\x20\x20\x20ce'+'nter.proj\x20'+'=\x20centerPr'+'oj;\x0a\x20\x20\x20\x20ce'+'nter.projM'+'at00\x20=\x20mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',oT='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(splatCo'+'lor,\x20sourc'+'e.uv,\x200);\x0a'+'}\x0a\x0a',lT='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ememt\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a};\x0a\x0a#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20==\x201\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20SH_COE'+'FFS\x203\x0a\x20\x20\x20\x20'+'#elif\x20SH_B'+'ANDS\x20==\x202\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20SH_C'+'OEFFS\x208\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'_BANDS\x20==\x20'+'3\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20SH'+'_COEFFS\x2015'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+'D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+('include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latCompres'+'sedSHVS\x22\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22gspl'+'atSHVS\x22\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22gspl'+'atSourceVS'+'\x22\x0a#include'+'\x20\x22gsplatCe'+'nterVS\x22\x0a#i'+'nclude\x20\x22gs'+'platCorner'+'VS\x22\x0a#inclu'+'de\x20\x22gsplat'+'OutputVS\x22\x0a'+'\x0a//\x20modify'+'\x20the\x20gauss'+'ian\x20corner'+'\x20so\x20it\x20exc'+'ludes\x20gaus'+'sian\x20regio'+'ns\x20with\x20al'+'pha\x0a//\x20les'+'s\x20than\x201/2'+'55\x0avoid\x20cl'+'ipCorner(i'+'nout\x20Splat'+'Corner\x20cor'+'ner,\x20float'+'\x20alpha)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'clip\x20=\x20min'+'(1.0,\x20sqrt'+'(-log(1.0\x20'+'/\x20255.0\x20/\x20'+'alpha))\x20/\x20'+'2.0);\x0a\x20\x20\x20\x20'+'corner.off'+'set\x20*=\x20cli'+'p;\x0a\x20\x20\x20\x20cor'+'ner.uv\x20*=\x20'+'clip;\x0a}\x0a\x0a/'+'/\x20spherica'+'l\x20Harmonic'+'s\x0a\x0a#if\x20SH_'+'BANDS\x20>\x200\x0a'+'\x0a#define\x20S'+'H_C1\x200.488'+'6025119029'+'199f\x0a\x0a#if\x20'+'SH_BANDS\x20>'+'\x201\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_0\x201.09254'+'8430592079'+'2f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_1\x20-1.0925'+'4843059207'+'92f\x0a\x20\x20\x20\x20#d'+'efine\x20SH_C'+'2_2\x200.3153'+'9156525252'+'005f\x0a\x20\x20\x20\x20#'+'define\x20SH_'+'C2_3\x20-1.09'+'2548430592'+'0792f\x0a\x20\x20\x20\x20'+'#define\x20SH'+'_C2_4\x200.54'+'6274215296'+'0396f\x0a#end'+'if\x0a\x0a#if\x20SH'+'_BANDS\x20>\x202'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_0'+'\x20-0.590043'+'5899266435'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'1\x202.890611'+'442640554f'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_2'+'\x20-0.457045'+'7994644658'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_')+('3\x200.373176'+'3325901154'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'4\x20-0.45704'+'5799464465'+'8f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C3'+'_5\x201.44530'+'5721320277'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'6\x20-0.59004'+'3589926643'+'5f\x0a#endif\x0a'+'\x0a//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+'ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'vec3\x20evalS'+'H(in\x20Splat'+'Source\x20sou'+'rce,\x20in\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'[SH_COEFFS'+'];\x0a\x20\x20\x20\x20flo'+'at\x20scale;\x0a'+'\x20\x20\x20\x20readSH'+'Data(sourc'+'e,\x20sh,\x20sca'+'le);\x0a\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'dir.x;\x0a\x20\x20\x20'+'\x20float\x20y\x20='+'\x20dir.y;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20//\x201st'+'\x20degree\x0a\x20\x20'+'\x20\x20vec3\x20res'+'ult\x20=\x20SH_C'+'1\x20*\x20(-sh[0'+']\x20*\x20y\x20+\x20sh'+'[1]\x20*\x20z\x20-\x20'+'sh[2]\x20*\x20x)'+';\x0a\x0a#if\x20SH_'+'BANDS\x20>\x201\x0a'+'\x20\x20\x20\x20//\x202nd'+'\x20degree\x0a\x20\x20'+'\x20\x20float\x20xx'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20floa'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20fl'+'oat\x20xy\x20=\x20x'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20yz\x20='+'\x20y\x20*\x20z;\x0a\x20\x20'+'\x20\x20float\x20xz'+'\x20=\x20x\x20*\x20z;\x0a'+'\x0a\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[3]\x20*'+'\x20(SH_C2_0\x20'+'*\x20xy)\x20*\x20\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[4]\x20*\x20(SH'+'_C2_1\x20*\x20yz'+')\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[5]\x20*\x20'+'(SH_C2_2\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[6]\x20*'+'\x20(SH_C2_3\x20'+'*\x20xz)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[7'+']\x20*\x20(SH_C2'+'_4\x20*\x20(xx\x20-'+'\x20yy));\x0a#en'+'dif\x0a\x0a#if\x20S'+'H_BANDS\x20>\x20'+'2\x0a\x20\x20\x20\x20//\x203'+'rd\x20degree\x0a'+'\x20\x20\x20\x20result'+'\x20+=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20\x20*'+'\x20(SH_C3_0\x20')+('*\x20y\x20*\x20(3.0'+'\x20*\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[9]\x20\x20'+'*\x20(SH_C3_1'+'\x20*\x20xy\x20*\x20z)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[10]\x20*\x20'+'(SH_C3_2\x20*'+'\x20y\x20*\x20(4.0\x20'+'*\x20zz\x20-\x20xx\x20'+'-\x20yy))\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'11]\x20*\x20(SH_'+'C3_3\x20*\x20z\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x203.0\x20*\x20x'+'x\x20-\x203.0\x20*\x20'+'yy))\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[12'+']\x20*\x20(SH_C3'+'_4\x20*\x20x\x20*\x20('+'4.0\x20*\x20zz\x20-'+'\x20xx\x20-\x20yy))'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[13]\x20*\x20'+'(SH_C3_5\x20*'+'\x20z\x20*\x20(xx\x20-'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20*\x20(SH_C'+'3_6\x20*\x20x\x20*\x20'+'(xx\x20-\x203.0\x20'+'*\x20yy));\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20res'+'ult\x20*\x20scal'+'e;\x0a}\x0a#endi'+'f\x0a'),hT='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'mat3\x20quatT'+'oMat3(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.x;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.y;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.w'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20')+('=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec')+('3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat'+'a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex')+('ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu'+'nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),cT='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),dT='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0a\x0a//\x20calc'+'ulate\x20the\x20'+'clip-space'+'\x20offset\x20fr'+'om\x20the\x20cen'+'ter\x20for\x20th'+'is\x20gaussia'+'n\x0abool\x20ini'+'tCorner(Sp'+'latSource\x20'+'source,\x20Sp'+'latCenter\x20'+'center,\x20ou'+'t\x20SplatCor'+'ner\x20corner'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20vec'+'3\x20covA,\x20co'+'vB;\x0a\x20\x20\x20\x20re'+'adCovarian'+'ce(source,'+'\x20covA,\x20cov'+'B);\x0a\x0a\x20\x20\x20\x20m'+'at3\x20Vrk\x20=\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20covA.x'+',\x20covA.y,\x20'+'covA.z,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.y,\x20covB.x'+',\x20covB.y,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.z,\x20covB'+'.y,\x20covB.z'+'\x0a\x20\x20\x20\x20);\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ocal\x20=\x20vie'+'wport.x\x20*\x20'+'center.pro'+'jMat00;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20camera_p'+'arams.w\x20=='+'\x201.0\x20?\x20vec'+'3(0.0,\x200.0'+',\x201.0)\x20:\x20c'+'enter.view'+'.xyz;\x0a\x20\x20\x20\x20'+'float\x20J1\x20='+'\x20focal\x20/\x20v'+'.z;\x0a\x20\x20\x20\x20ve'+'c2\x20J2\x20=\x20-J'+'1\x20/\x20v.z\x20*\x20'+'v.xy;\x0a\x20\x20\x20\x20'+'mat3\x20J\x20=\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20J1,\x200.0'+',\x20J2.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x200.0,'+'\x20J1,\x20J2.y,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x200'+'.0,\x200.0,\x200'+'.0\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'W\x20=\x20transp'+'ose(mat3(c'+'enter.mode'+'lView));\x0a\x20'+'\x20\x20\x20mat3\x20T\x20'+'=\x20W\x20*\x20J;\x0a\x20'+'\x20\x20\x20mat3\x20co'+'v\x20=\x20transp'+'ose(T)\x20*\x20V'+'rk\x20*\x20T;\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'iagonal1\x20='+'\x20cov[0][0]'+'\x20+\x200.3;\x0a\x20\x20'+'\x20\x20float\x20of'+'fDiagonal\x20'+('=\x20cov[0][1'+'];\x0a\x20\x20\x20\x20flo'+'at\x20diagona'+'l2\x20=\x20cov[1'+'][1]\x20+\x200.3'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20mid\x20=\x200'+'.5\x20*\x20(diag'+'onal1\x20+\x20di'+'agonal2);\x0a'+'\x20\x20\x20\x20float\x20'+'radius\x20=\x20l'+'ength(vec2'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20float\x20lam'+'bda1\x20=\x20mid'+'\x20+\x20radius;'+'\x0a\x20\x20\x20\x20float'+'\x20lambda2\x20='+'\x20max(mid\x20-'+'\x20radius,\x200'+'.1);\x0a\x20\x20\x20\x20i'+'f\x20(pointCl'+'oudModeEna'+'bled\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20lam'+'bda1\x20=\x20lam'+'bda2\x20=\x202.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20l'+'1\x20=\x202.0\x20*\x20'+'min(sqrt(2'+'.0\x20*\x20lambd'+'a1),\x201024.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20l2\x20=\x202'+'.0\x20*\x20min(s'+'qrt(2.0\x20*\x20'+'lambda2),\x20'+'1024.0);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20'+'\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20per'+'form\x20cull\x20'+'against\x20x/'+'y\x20axes\x0a\x20\x20\x20'+'\x20if\x20(any(g'+'reaterThan'+'(abs(cente'+'r.proj.xy)'+'\x20-\x20vec2(l1'+',\x20l2)\x20/\x20vi'+'ewport\x20*\x20c'+'enter.proj'+'.w,\x20center'+'.proj.ww))'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20f'+'alse;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'2\x20diagonal'+'Vector\x20=\x20n'+'ormalize(v'+'ec2(offDia'+'gonal,\x20lam'+'bda1\x20-\x20dia'+'gonal1));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20scale\x20=\x201'+'.0;\x0a\x20\x20\x20\x20if'+'(uSplatSca'+'le\x20>\x200.0\x20&'+'&\x20uSplatSc'+'ale\x20<=\x201.2'+'){\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale\x20=\x20u'+'SplatScale'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20vec2\x20v1\x20'+'=\x20scale\x20*\x20'+'l1\x20*\x20diago'+'nalVector;'+'\x0a\x20\x20\x20\x20vec2\x20'+'v2\x20=\x20scale'+'\x20*\x20l2\x20*\x20ve'+'c2(diagona'+'lVector.y,')+('\x20-diagonal'+'Vector.x);'+'\x0a\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20(source.'+'cornerUV.x'+'\x20*\x20v1\x20+\x20so'+'urce.corne'+'rUV.y\x20*\x20v2'+')\x20/\x20viewpo'+'rt\x20*\x20cente'+'r.proj.w;\x0a'+'\x20\x20\x20\x20corner'+'.uv\x20=\x20sour'+'ce.cornerU'+'V;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a'),uT='\x0a\x0auniform\x20'+'highp\x20usam'+'pler2D\x20tra'+'nsformA;\x0au'+'niform\x20hig'+'hp\x20sampler'+'2D\x20transfo'+'rmB;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformR;'+'\x0a\x0a#ifdef\x20I'+'S_4D\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformTS'+'peed;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'transformT'+';\x0a#endif\x0a\x0a'+'//\x20work\x20va'+'lues\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(tA.xyz);'+'\x0a}\x0a\x0amat3\x20q'+'uatToMat3('+'vec4\x20R)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'x\x20=\x20R.w;\x0a\x20'+'\x20\x20\x20float\x20y'+'\x20=\x20R.x;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20R.y;\x0a\x20\x20\x20'+'\x20float\x20w\x20='+'\x20R.z;\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x202.0'+'\x20*\x20(z\x20*\x20z\x20'+'+\x20w\x20*\x20w),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20+\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x202.0\x20*\x20(y\x20'+'*\x20w\x20-\x20x\x20*\x20'+'z),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(y\x20*\x20z'+'\x20-\x20x\x20*\x20w),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x201'+'.0\x20-\x202.0\x20*'+'\x20(y\x20*\x20y\x20+\x20'+('w\x20*\x20w),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20+\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x202'+'.0\x20*\x20(y\x20*\x20'+'w\x20+\x20x\x20*\x20z)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x202.0\x20'+'*\x20(z\x20*\x20w\x20-'+'\x20x\x20*\x20y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'y\x20*\x20y\x20+\x20z\x20'+'*\x20z)\x0a\x20\x20\x20\x20)'+';\x0a}\x0a\x0avec4\x20'+'unpackRota'+'tion(vec3\x20'+'packed)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(pack'+'ed.xyz,\x20sq'+'rt(1.0\x20-\x20d'+'ot(packed,'+'\x20packed)))'+';\x0a}\x0a\x0a//\x20sa'+'mple\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadCovaria'+'nce(in\x20Spl'+'atSource\x20s'+'ource,\x20out'+'\x20vec3\x20covA'+',\x20out\x20vec3'+'\x20covB)\x20{\x0a\x20'+'\x20\x20\x20vec4\x20tB'+'\x20=\x20texelFe'+'tch(transf'+'ormB,\x20sour'+'ce.uv,\x200);'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20tR\x20=\x20texe'+'lFetch(tra'+'nsformR,\x20s'+'ource.uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20mat3\x20rot'+'\x20=\x20quatToM'+'at3(unpack'+'Rotation(t'+'R));\x0a\x20\x20\x20\x20v'+'ec3\x20scale\x20'+'=\x20tB.xyz;\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a\x0a//\x20sampl'+'e\x204D\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadFTGSCov'+'ariance(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'covA,\x20out\x20'+'vec3\x20covB,'+'out\x20vec4\x20c'+'ovariance4'+'D)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u')+('v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormT,\x20sour'+'ce.uv,\x200).'+'xy;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20muT\x20=\x20tD'+'ata.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20tScale\x20=\x20'+'tData.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20mar'+'ginal\x20=\x20co'+'mputeMargi'+'nalT(time,'+'\x20muT,\x20tSca'+'le);\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20mar'+'ginal;\x0a}\x0a\x0a'+'vec3\x20readC'+'enter4D(Sp'+'latSource\x20'+'source,\x20fl'+'oat\x20time)\x20'+'{\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20v'+'ec3\x20splatC'+'enter\x20\x20=\x20u'+'intBitsToF'+'loat(tA.xy'+'z);\x0a\x20\x20\x20\x20#i'+'fdef\x20IS_4D'+'\x0a\x20\x20\x20\x20if(mu'+'T\x20>\x20-5.0\x20&')+('&\x20muT\x20<\x2040'+'.0){\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'vingSpeed\x20'+'=\x20texelFet'+'ch(transfo'+'rmTSpeed,\x20'+'source.uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20splatOff'+'set\x20=\x20movi'+'ngSpeed\x20*\x20'+'(time\x20-\x20mu'+'T);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20splatCen'+'ter\x20+=\x20spl'+'atOffset;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'platCenter'+';\x0a}\x0a'),fT='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',pT='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20fl'+'oat\x20id;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20uni'+'form\x20vec4\x20'+'uColor;\x0a#e'+'ndif\x0a\x0avary'+'ing\x20medium'+'p\x20vec2\x20gau'+'ssianUV;\x0av'+'arying\x20med'+'iump\x20vec4\x20'+'gaussianCo'+'lor;\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20A\x20=\x20dot('+'gaussianUV'+',\x20gaussian'+'UV);\x0a\x20\x20\x20\x20i'+'f\x20(A\x20>\x201.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20alpha\x0a'+'\x20\x20\x20\x20medium'+'p\x20float\x20al'+'pha\x20=\x20exp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+'Color.a;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20PICK_PASS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(alpha\x20<'+'\x200.3)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20uColor;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(alpha\x20<\x20'+'1.0\x20/\x20255.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dis'+'card;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20opa'+'cityDither'+'(alpha,\x20id'+'\x20*\x200.013);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(gauss'+'ianColor.x'+'yz\x20*\x20alpha'+',\x20alpha);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',mT='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),_T='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',gT='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0a\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianUV;\x0ava'+'rying\x20medi'+'ump\x20vec4\x20g'+'aussianCol'+'or;\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20float\x20mar'+'ginal\x20=\x20ge'+'tMarginalT'+'(source,\x20u'+'Time);\x0a\x20\x20\x20'+'\x20if\x20(margi'+'nal\x20<\x200.05'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20disc'+'ardVec;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ve'+'c3\x20modelCe'+'nter\x20=\x20rea'+'dCenter(so'+'urce);\x0a\x20\x20\x20'+'\x20vec3\x20mode'+'lCenter\x20=\x20'+'readCenter'+'4D(source,'+'\x20uTime);\x0a\x0a'+'\x20\x20\x20\x20SplatC'+'enter\x20cent'+'er;\x0a\x20\x20\x20\x20if'+'\x20(!initCen'+'ter(modelC'+'enter,\x20cen'+'ter))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20project\x20'+'center\x20to\x20'+'screen\x20spa'+'ce\x0a\x20\x20\x20\x20Spl'+'atCorner\x20c'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(sou'+'rce,\x20cente'+'r,\x20corner,'+'\x20pointClou'+'dModeEnabl'+'ed))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20d'+'iscardVec;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20colo'+'r\x0a\x20\x20\x20\x20vec4'+'\x20clr\x20=\x20rea'+('dColor(sou'+'rce);\x0a\x0a\x20\x20\x20'+'\x20if(margin'+'al\x20>\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.w\x20*=\x20m'+'arginal;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20spherica'+'l\x20harmonic'+'s\x0a\x20\x20\x20\x20#if\x20'+'SH_BANDS\x20>'+'\x200\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20the\x20mo'+'del-space\x20'+'view\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'ize(center'+'.view\x20*\x20ma'+'t3(center.'+'modelView)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.xyz\x20+'+'=\x20evalSH(s'+'ource,\x20dir'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20c'+'lipCorner('+'corner,\x20cl'+'r.w);\x0a\x0a\x20\x20\x20'+'\x20//\x20pointC'+'loudMode\x0a\x20'+'\x20\x20\x20if\x20(poi'+'ntCloudMod'+'eEnabled\x20='+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20write\x20ou'+'tput\x0a\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20center.'+'proj\x20+\x20vec'+'4(corner.o'+'ffset,\x200,\x20'+'0);\x0a\x20\x20\x20\x20ga'+'ussianUV\x20='+'\x20corner.uv'+';\x0a\x20\x20\x20\x20gaus'+'sianColor\x20'+'=\x20vec4(pre'+'pareOutput'+'FromGamma('+'max(clr.xy'+'z,\x200.0)),\x20'+'clr.w);\x0a\x20\x20'+'\x20\x20gaussian'+'Color\x20=\x20cl'+'amp(gaussi'+'anColor,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20id\x20=\x20fl'+'oat(source'+'.id);\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a'),yT='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0a#ifndef'+'\x20PI\x0a#defin'+'e\x20PI\x203.141'+'59265\x0a#end'+'if\x0a\x0afloat\x20'+'iridescenc'+'e_iorToFre'+'snel(float'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20incidentI'+'or)\x20/\x20(tra'+'nsmittedIo'+'r\x20+\x20incide'+'ntIor),\x202.'+'0);\x0a}\x0a\x0avec'+'3\x20iridesce'+'nce_iorToF'+'resnel(vec'+'3\x20transmit'+'tedIor,\x20fl'+'oat\x20incide'+'ntIor)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow((trans'+'mittedIor\x20'+'-\x20vec3(inc'+'identIor))'+'\x20/\x20(transm'+'ittedIor\x20+'+'\x20vec3(inci'+'dentIor)),'+'\x20vec3(2.0)'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'ToIor(vec3'+'\x20f0)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20sqrt'+'F0\x20=\x20sqrt('+'f0);\x0a\x20\x20\x20\x20r'+'eturn\x20(vec'+'3(1.0)\x20+\x20s'+'qrtF0)\x20/\x20('+'vec3(1.0)\x20'+'-\x20sqrtF0);'+'\x0a}\x0a\x0avec3\x20i'+'ridescence'+'_sensitivi'+'ty(float\x20o'+'pd,\x20vec3\x20s'+'hift)\x20{\x0a\x20\x20'+'\x20\x20float\x20ph'+'ase\x20=\x202.0\x20'+'*\x20PI\x20*\x20opd'+'\x20*\x201.0e-9;'+'\x0a\x20\x20\x20\x20const'+'\x20vec3\x20val\x20'+'=\x20vec3(5.4'+'856e-13,\x204'+'.4201e-13,'+'\x205.2481e-1'+'3);\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20p'+'os\x20=\x20vec3('+'1.6810e+06'+',\x201.7953e+'+'06,\x202.2084'+'e+06);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20var\x20=\x20ve'+'c3(4.3278e'+'+09,\x209.304'+'6e+09,\x206.6'+'121e+09);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'xyz\x20=\x20val\x20'+'*\x20sqrt(2.0'+'\x20*\x20PI\x20*\x20va'+'r)\x20*\x20cos(p'+'os\x20*\x20phase'+'\x20+\x20shift)\x20'+'*\x20exp(-pow'+'(phase,\x202.'+'0)\x20*\x20var);'+'\x0a\x20\x20\x20\x20xyz.x'+'\x20+=\x209.7470'+'e-14\x20*\x20sqr'+'t(2.0\x20*\x20PI'+'\x20*\x204.5282e'+('+09)\x20*\x20cos'+'(2.2399e+0'+'6\x20*\x20phase\x20'+'+\x20shift[0]'+')\x20*\x20exp(-4'+'.5282e+09\x20'+'*\x20pow(phas'+'e,\x202.0));\x0a'+'\x20\x20\x20\x20xyz\x20/='+'\x20vec3(1.06'+'85e-07);\x0a\x0a'+'\x20\x20\x20\x20const\x20'+'mat3\x20XYZ_T'+'O_REC709\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x203.240'+'4542,\x20-0.9'+'692660,\x20\x200'+'.0556434,\x0a'+'\x20\x20\x20\x20\x20\x20\x20-1.'+'5371385,\x20\x20'+'1.8760108,'+'\x20-0.204025'+'9,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-0.4985314'+',\x20\x200.04155'+'60,\x20\x201.057'+'2252\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20XYZ_TO'+'_REC709\x20*\x20'+'xyz;\x0a}\x0a\x0afl'+'oat\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'float\x20f0)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20clam'+'p(1.0\x20-\x20co'+'sTheta,\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20float\x20x'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20float'+'\x20x5\x20=\x20x\x20*\x20'+'x2\x20*\x20x2;\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(1.0\x20'+'-\x20f0)\x20*\x20x5'+';\x0a}\x20\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'(float\x20cos'+'Theta,\x20vec'+'3\x20f0)\x20{\x0a\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20clamp(1.'+'0\x20-\x20cosThe'+'ta,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20x2\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20float\x20x5\x20'+'=\x20x\x20*\x20x2\x20*'+'\x20x2;\x20\x0a\x20\x20\x20\x20'+'return\x20f0\x20'+'+\x20(vec3(1.'+'0)\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0ave'+'c3\x20calcIri'+'descence(f'+'loat\x20outsi'+'deIor,\x20flo'+'at\x20cosThet'+'a,\x20vec3\x20ba'+'se_f0,\x20flo'+'at\x20iridesc'+'enceThickn'+'ess)\x20{\x0a\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'or\x20=\x20mix(o'+'utsideIor,'+'\x20material_'+'iridescenc'+'eRefractio'+'nIndex,\x20sm'+'oothstep(0'+'.0,\x200.03,\x20'+'iridescenc'+'eThickness'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20sinThe'+'ta2Sq\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c')+('osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'float\x20cosT'+'heta2Sq\x20=\x20'+'1.0\x20-\x20sinT'+'heta2Sq;\x0a\x0a'+'\x20\x20\x20\x20if\x20(co'+'sTheta2Sq\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20vec3(1'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20cosTheta'+'2\x20=\x20sqrt(c'+'osTheta2Sq'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20r0\x20=\x20i'+'ridescence'+'_iorToFres'+'nel(irides'+'cenceIor,\x20'+'outsideIor'+');\x0a\x20\x20\x20\x20flo'+'at\x20r12\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta,\x20r'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20r21\x20=\x20'+'r12;\x0a\x20\x20\x20\x20f'+'loat\x20t121\x20'+'=\x201.0\x20-\x20r1'+'2;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20phi12\x20'+'=\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor\x20'+'?\x20PI\x20:\x200.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20phi21\x20=\x20'+'PI\x20-\x20phi12'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20baseIor\x20'+'=\x20iridesce'+'nce_fresne'+'lToIor(bas'+'e_f0\x20+\x20vec'+'3(0.0001))'+';\x0a\x20\x20\x20\x20vec3'+'\x20r1\x20=\x20irid'+'escence_io'+'rToFresnel'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20vec3\x20r23\x20'+'=\x20iridesce'+'nce_fresne'+'l(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ph'+'i23\x20=\x20vec3'+'(0.0);\x0a\x20\x20\x20'+'\x20if\x20(baseI'+'or[0]\x20<\x20ir'+'idescenceI'+'or)\x20phi23['+'0]\x20=\x20PI;\x0a\x20'+'\x20\x20\x20if\x20(bas'+'eIor[1]\x20<\x20'+'iridescenc'+'eIor)\x20phi2'+'3[1]\x20=\x20PI;'+'\x0a\x20\x20\x20\x20if\x20(b'+'aseIor[2]\x20'+'<\x20iridesce'+'nceIor)\x20ph'+'i23[2]\x20=\x20P'+'I;\x0a\x20\x20\x20\x20flo'+'at\x20opd\x20=\x202'+'.0\x20*\x20iride'+'scenceIor\x20'+'*\x20iridesce'+'nceThickne'+'ss\x20*\x20cosTh'+'eta2;\x0a\x20\x20\x20\x20'+'vec3\x20phi\x20='+'\x20vec3(phi2'+'1)\x20+\x20phi23'+';\x20\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20r123Sq\x20'+'=\x20clamp(r1'+'2\x20*\x20r23,\x201'+'e-5,\x200.999'+'9);\x0a\x20\x20\x20\x20ve'+'c3\x20r123\x20=\x20'+'sqrt(r123S'+'q);\x0a\x20\x20\x20\x20ve'+'c3\x20rs\x20=\x20po')+('w(t121,\x202.'+'0)\x20*\x20r23\x20/'+'\x20(1.0\x20-\x20r1'+'23Sq);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20c0\x20'+'=\x20r12\x20+\x20rs'+';\x0a\x20\x20\x20\x20vec3'+'\x20i\x20=\x20c0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20c'+'m\x20=\x20rs\x20-\x20t'+'121;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20m\x20'+'=\x201;\x20m\x20<=\x20'+'2;\x20m++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cm'+'\x20*=\x20r123;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20sm\x20=\x202.'+'0\x20*\x20irides'+'cence_sens'+'itivity(fl'+'oat(m)\x20*\x20o'+'pd,\x20float('+'m)\x20*\x20phi);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'\x20+=\x20cm\x20*\x20s'+'m;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'max(i,\x20vec'+'3(0.0));\x0a}'+'\x0a\x0avec3\x20get'+'Iridescenc'+'e(float\x20co'+'sTheta,\x20ve'+'c3\x20specula'+'rity,\x20floa'+'t\x20iridesce'+'nceThickne'+'ss)\x20{\x0a\x20\x20\x20\x20'+'return\x20cal'+'cIridescen'+'ce(1.0,\x20co'+'sTheta,\x20sp'+'ecularity,'+'\x20iridescen'+'ceThicknes'+'s);\x0a}\x0a'),xT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'iridescenc'+'e;\x0a#endif\x0a'+'\x0avoid\x20getI'+'ridescence'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPF'+'LOAT\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20materi'+'al_iridesc'+'ence;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20irides'+'cence\x20*=\x20t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+'.$CH;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dIridesc'+'ence\x20=\x20iri'+'descence;\x20'+'\x0a}\x0a',ST='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0aun'+'iform\x20floa'+'t\x20material'+'_iridescen'+'ceThicknes'+'sMin;\x0a#end'+'if\x0a\x0avoid\x20g'+'etIridesce'+'nceThickne'+'ss()\x20{\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20float\x20'+'blend\x20=\x20te'+'xture2DBia'+'s($SAMPLER'+',\x20$UV,\x20tex'+'tureBias).'+'$CH;\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceThic'+'kness\x20=\x20mi'+'x(material'+'_iridescen'+'ceThicknes'+'sMin,\x20mate'+'rial_iride'+'scenceThic'+'knessMax,\x20'+'blend);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',vT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'refraction'+'Index;\x0a#en'+'dif\x0a\x0avoid\x20'+'getIor()\x20{'+'\x0a#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20dIor\x20=\x20ma'+'terial_ref'+'ractionInd'+'ex;\x0a#else\x0a'+'\x20\x20\x20\x20dIor\x20='+'\x201.0\x20/\x201.5'+';\x0a#endif\x0a}'+'\x0a',bT='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDir,\x20'+'vec3\x20light'+'DirNorm)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20max(dot('+'worldNorma'+'l,\x20-lightD'+'irNorm),\x200'+'.0);\x0a}\x0a',wT='\x0avoid\x20getL'+'ightDirPoi'+'nt(vec3\x20li'+'ghtPosW)\x20{'+'\x0a\x20\x20\x20\x20dLigh'+'tDirW\x20=\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20normali'+'ze(dLightD'+'irW);\x0a\x20\x20\x20\x20'+'dLightPosW'+'\x20=\x20lightPo'+'sW;\x0a}\x0a',TT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20lightmap;'+'\x0a}\x0a',AT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20if\x20(do'+'t(dir,\x20dir'+')\x20<\x200.0001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20l'+'ightmap;\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20vlig'+'ht\x20=\x20satur'+'ate(dot(di'+'r,\x20-vertex'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20flight'+'\x20=\x20saturat'+'e(dot(dir,'+'\x20-worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20nlight\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20lightmap'+'\x20*\x20nlight\x20'+'*\x202.0;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20halfDir\x20='+'\x20normalize'+'(-dir\x20+\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20specularL'+'ight\x20=\x20lig'+'htmap\x20*\x20ge'+'tLightSpec'+'ular(halfD'+'ir,\x20reflec'+'tionDir,\x20w'+'orldNormal'+',\x20viewDir,'+'\x20dir,\x20glos'+'s,\x20tbn);\x0a\x0a'+'#ifdef\x20LIT'+'_SPECULAR_'+'FRESNEL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(dot'+'(viewDir,\x20'+'halfDir),\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20specula'+'rity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20);\x0a#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),ET='\x0auniform\x20s'+'ampler2D\x20t'+'exture_lig'+'htMap;\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_dirLigh'+'tMap;\x0a\x0avoi'+'d\x20getLight'+'Map()\x20{\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20=\x20$DECOD'+'E(texture2'+'DBias(text'+'ure_lightM'+'ap,\x20$UV,\x20t'+'extureBias'+')).$CH;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20textur'+'e2DBias(te'+'xture_dirL'+'ightMap,\x20$'+'UV,\x20textur'+'eBias).xyz'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20dirDot'+'\x20=\x20dot(dir'+',\x20dir);\x0a\x20\x20'+'\x20\x20dLightma'+'pDir\x20=\x20(di'+'rDot\x20>\x200.0'+'01)\x20?\x20dir\x20'+'/\x20sqrt(dir'+'Dot)\x20:\x20vec'+'3(0.0);\x0a}\x0a',CT='\x0avoid\x20getL'+'ightMap()\x20'+'{\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20dLig'+'htmap\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.$VC'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',MT='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'material_a'+'nisotropy\x20'+'*\x20roughnes'+'s;\x0a\x20\x0a\x20\x20\x20\x20f'+'loat\x20at\x20=\x20'+'max((rough'+'ness\x20+\x20ani'+'sotropy),\x20'+'roughness\x20'+'/\x204.0);\x0a\x20\x20'+'\x20\x20float\x20ab'+'\x20=\x20max((ro'+'ughness\x20-\x20'+'anisotropy'+'),\x20roughne'+'ss\x20/\x204.0);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20NoH\x20=\x20do'+'t(worldNor'+'mal,\x20h);\x0a\x20'+'\x20\x20\x20float\x20T'+'oH\x20=\x20dot(t'+'bn[0],\x20h);'+'\x0a\x20\x20\x20\x20float'+'\x20BoH\x20=\x20dot'+'(tbn[1],\x20h'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20a2\x20=\x20a'+'t\x20*\x20ab;\x0a\x20\x20'+'\x20\x20vec3\x20v\x20='+'\x20vec3(ab\x20*'+'\x20ToH,\x20at\x20*'+'\x20BoH,\x20a2\x20*'+'\x20NoH);\x0a\x20\x20\x20'+'\x20float\x20v2\x20'+'=\x20dot(v,\x20v'+');\x0a\x20\x20\x20\x20flo'+'at\x20w2\x20=\x20a2'+'\x20/\x20v2;\x0a\x20\x20\x20'+'\x20float\x20D\x20='+'\x20a2\x20*\x20w2\x20*'+'\x20w2\x20*\x20(1.0'+'\x20/\x20PI);\x0a\x0a\x20'+'\x20\x20\x20float\x20T'+'oV\x20=\x20dot(t'+'bn[0],\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20float\x20BoV'+'\x20=\x20dot(tbn'+'[1],\x20viewD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20ToL\x20='+'\x20dot(tbn[0'+'],\x20-lightD'+'irNorm);\x0a\x20'+'\x20\x20\x20float\x20B'+'oL\x20=\x20dot(t'+'bn[1],\x20-li'+'ghtDirNorm'+');\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20NoL\x20'+'=\x20dot(worl'+'dNormal,\x20-'+'lightDirNo'+'rm);\x0a\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daV\x20=\x20NoL\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oV,\x20ab\x20*\x20B'+'oV,\x20NoV));'+('\x0a\x20\x20\x20\x20float'+'\x20lambdaL\x20='+'\x20NoV\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToL,\x20a'+'b\x20*\x20BoL,\x20N'+'oL));\x0a\x20\x20\x20\x20'+'float\x20G\x20=\x20'+'0.5\x20/\x20(lam'+'bdaV\x20+\x20lam'+'bdaL);\x0a\x0a\x20\x20'+'\x20\x20return\x20D'+'\x20*\x20G;\x0a}\x0a\x0af'+'loat\x20getLi'+'ghtSpecula'+'r(vec3\x20h,\x20'+'vec3\x20reflD'+'ir,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDirN'+'orm,\x20float'+'\x20gloss,\x20ma'+'t3\x20tbn)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20calcLight'+'Specular(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir,\x20h,'+'\x20lightDirN'+'orm,\x20tbn);'+'\x0a}\x0a'),PT='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',RT='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',IT='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'h(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a#def'+'ine\x20CAMERA'+'PLANES\x0auni'+'form\x20vec4\x20'+'camera_par'+'ams;\x20//\x20x:'+'\x201\x20/\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20\x20y:\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20z:\x20camera'+'_near,\x20\x20\x20\x20'+'\x20\x20\x20\x20w:\x20is_'+'ortho\x0a#end'+'if\x0a\x0afloat\x20'+'linearizeD'+'epth(float'+'\x20z)\x20{\x0a\x20\x20\x20\x20'+'return\x20lin'+'earizeDept'+'h(z,\x20camer'+'a_params);'+'\x0a}\x0a#endif\x0a',DT='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LT='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avec2\x20ccL'+'TCUV;\x0a#end'+'if\x0avec2\x20ge'+'tLTCLightU'+'V(float\x20gl'+'oss,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x0a{\x0a\x20'+'\x20\x20\x20float\x20r'+'oughness\x20='+'\x20max((1.0\x20'+'-\x20gloss)\x20*'+'\x20(1.0\x20-\x20gl'+'oss),\x200.00'+'1);\x0a\x20\x20\x20\x20re'+'turn\x20LTC_U'+'v(\x20worldNo'+'rmal,\x20view'+'Dir,\x20rough'+'ness\x20);\x0a}\x0a'+'\x0a//used\x20fo'+'r\x20energy\x20c'+'onservatio'+'n\x20and\x20to\x20m'+'odulate\x20sp'+'ecular\x0avec'+'3\x20dLTCSpec'+'Fres;\x0a#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0avec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0avec3\x20g'+'etLTCLight'+'SpecFres(v')+('ec2\x20uv,\x20ve'+'c3\x20specula'+'rity)\x0a{\x0a\x20\x20'+'\x20\x20vec4\x20t2\x20'+'=\x20texture2'+'DLod(areaL'+'ightsLutTe'+'x2,\x20uv,\x200.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20specu'+'larity\x20*\x20t'+'2.x\x20+\x20(\x20ve'+'c3(\x201.0\x20)\x20'+'-\x20specular'+'ity)\x20*\x20t2.'+'y;\x0a}\x0a\x0avoid'+'\x20calcLTCLi'+'ghtValues('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'specularit'+'y,\x20float\x20c'+'learcoatGl'+'oss,\x20vec3\x20'+'clearcoatW'+'orldNormal'+',\x20float\x20cl'+'earcoatSpe'+'cularity)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'UV\x20=\x20getLT'+'CLightUV(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20dLTCSpe'+'cFres\x20=\x20ge'+'tLTCLightS'+'pecFres(dL'+'TCUV,\x20spec'+'ularity);\x20'+'\x0a\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20ccL'+'TCUV\x20=\x20get'+'LTCLightUV'+'(clearcoat'+'Gloss,\x20cle'+'arcoatWorl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20ccLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(c'+'cLTCUV,\x20ve'+'c3(clearco'+'atSpecular'+'ity));\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20calcRect'+'LightValue'+'s(vec3\x20lig'+'htPos,\x20vec'+'3\x20halfWidt'+'h,\x20vec3\x20ha'+'lfHeight)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'Coords\x20=\x20g'+'etLTCLight'+'Coords(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0avoid\x20ca'+'lcDiskLigh'+'tValues(ve'+'c3\x20lightPo'+'s,\x20vec3\x20ha'+'lfWidth,\x20v'+'ec3\x20halfHe'+'ight)\x0a{\x0a\x20\x20'+'\x20\x20calcRect'+'LightValue'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0avo'+'id\x20calcSph'+'ereLightVa'+'lues(vec3\x20'+'lightPos,\x20'+'vec3\x20halfW'+'idth,\x20vec3'+'\x20halfHeigh'+'t)\x0a{\x0a\x20\x20\x20\x20d'+'LTCCoords\x20')+('=\x20getSpher'+'eLightCoor'+'ds(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0a\x0a'+'//\x20An\x20exte'+'nded\x20versi'+'on\x20of\x20the\x20'+'implementa'+'tion\x20from\x0a'+'//\x20\x22How\x20to'+'\x20solve\x20a\x20c'+'ubic\x20equat'+'ion,\x20revis'+'ited\x22\x0a//\x20h'+'ttp://mome'+'ntsingraph'+'ics.de/?p='+'105\x0avec3\x20S'+'olveCubic('+'vec4\x20Coeff'+'icient)\x0a{\x0a'+'\x20\x20\x20\x20float\x20'+'pi\x20=\x203.141'+'59;\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t.xyz\x20/=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20//'+'\x20Divide\x20mi'+'ddle\x20coeff'+'icients\x20by'+'\x20three\x0a\x20\x20\x20'+'\x20Coefficie'+'nt.yz\x20/=\x203'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20A\x20=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20fl'+'oat\x20B\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20C\x20=\x20Coe'+'fficient.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20D\x20=\x20Coef'+'ficient.x;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20Hessian\x20a'+'nd\x20the\x20dis'+'criminant\x0a'+'\x20\x20\x20\x20vec3\x20D'+'elta\x20=\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-Coeffici'+'ent.z\x20*\x20Co'+'efficient.'+'z\x20+\x20Coeffi'+'cient.y,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-Co'+'efficient.'+'y\x20*\x20Coeffi'+'cient.z\x20+\x20'+'Coefficien'+'t.x,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dot(vec'+'2(Coeffici'+'ent.z,\x20-Co'+'efficient.'+'y),\x20Coeffi'+'cient.xy)\x0a'+'\x20\x20\x20\x20);\x0a\x0a\x20\x20'+'\x20\x20float\x20Di'+'scriminant'+'\x20=\x20dot(vec'+'2(4.0\x20*\x20De'+'lta.x,\x20-De'+'lta.y),\x20De'+'lta.zy);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20R'+'ootsA,\x20Roo'+'tsD;\x0a\x0a\x20\x20\x20\x20'+'vec2\x20xlc,\x20'+'xsc;\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20A\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_a\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_a\x20=\x20Delt'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_a\x20=\x20-2.0\x20'+'*\x20B\x20*\x20Delt')+('a.x\x20+\x20Delt'+'a.y;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Tak'+'e\x20the\x20cubi'+'c\x20root\x20of\x20'+'a\x20normaliz'+'ed\x20complex'+'\x20number\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20Theta\x20=\x20'+'atan(sqrt('+'Discrimina'+'nt),\x20-D_a)'+'\x20/\x203.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_1a\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_a)\x20*\x20c'+'os(Theta);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_3a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20xl;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20((x_1a\x20+'+'\x20x_3a)\x20>\x202'+'.0\x20*\x20B)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xl\x20=\x20x_1a;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xl\x20='+'\x20x_3a;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xlc\x20'+'=\x20vec2(xl\x20'+'-\x20B,\x20A);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20D\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_d\x20='+'\x20D;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20C_'+'d\x20=\x20Delta.'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20D_d'+'\x20=\x20-D\x20*\x20De'+'lta.y\x20+\x202.'+'0\x20*\x20C\x20*\x20De'+'lta.z;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(D\x20*'+'\x20sqrt(Disc'+'riminant),'+'\x20-D_d)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'_1d\x20=\x202.0\x20'+'*\x20sqrt(-C_'+'d)\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_3d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta\x20+\x20('+'2.0\x20/\x203.0)'+'\x20*\x20pi);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20xs;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(x'+'_1d\x20+\x20x_3d'+'\x20<\x202.0\x20*\x20C'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20xs\x20=\x20x'+'_1d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xs\x20=\x20x_3d;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xsc\x20=\x20vec2'+'(-D,\x20xs\x20+\x20'+'C);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20E\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20float'+'\x20F\x20=\x20-xlc.')+('x\x20*\x20xsc.y\x20'+'-\x20xlc.y\x20*\x20'+'xsc.x;\x0a\x20\x20\x20'+'\x20float\x20G\x20='+'\x20\x20xlc.x\x20*\x20'+'xsc.x;\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xmc'+'\x20=\x20vec2(C\x20'+'*\x20F\x20-\x20B\x20*\x20'+'G,\x20-B\x20*\x20F\x20'+'+\x20C\x20*\x20E);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'Root\x20=\x20vec'+'3(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.yxz'+';\x0a\x20\x20\x20\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20R'+'oot.xyz\x20=\x20'+'Root.xzy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20Root;\x0a}\x0a'+'\x0afloat\x20LTC'+'_EvaluateD'+'isk(vec3\x20N'+',\x20vec3\x20V,\x20'+'vec3\x20P,\x20ma'+'t3\x20Minv,\x20C'+'oords\x20poin'+'ts)\x0a{\x0a\x20\x20\x20\x20'+'//\x20constru'+'ct\x20orthono'+'rmal\x20basis'+'\x20around\x20N\x0a'+'\x20\x20\x20\x20vec3\x20T'+'1,\x20T2;\x0a\x20\x20\x20'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'T2\x20=\x20cross'+'(N,\x20T1);\x0a\x0a'+'\x20\x20\x20\x20//\x20rot'+'ate\x20area\x20l'+'ight\x20in\x20(T'+'1,\x20T2,\x20N)\x20'+'basis\x0a\x20\x20\x20\x20'+'//mat3\x20R\x20='+'\x20transpose'+'(mat3(T1,\x20'+'T2,\x20N));\x0a\x20'+'\x20\x20\x20mat3\x20R\x20'+'=\x20transpos'+'eMat3(\x20mat'+'3(\x20T1,\x20T2,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20//\x20polyg'+'on\x20(alloca'+'te\x205\x20verti'+'ces\x20for\x20cl'+'ipping)\x0a\x20\x20'+'\x20\x20vec3\x20L_['+'\x203\x20];\x0a\x20\x20\x20\x20'+'L_[\x200\x20]\x20=\x20'+'R\x20*\x20(\x20poin'+'ts.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20L_[\x201\x20]\x20='+'\x20R\x20*\x20(\x20poi'+'nts.coord1'+'\x20-\x20P\x20);\x0a\x20\x20'+'\x20\x20L_[\x202\x20]\x20'+'=\x20R\x20*\x20(\x20po'+'ints.coord'+'2\x20-\x20P\x20);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20L'+'o_i\x20=\x20vec3'+'(0);\x0a\x0a\x20\x20\x20\x20'+'//\x20init\x20el'+'lipse\x0a\x20\x20\x20\x20'+'vec3\x20C\x20\x20=\x20'+'0.5\x20*\x20(L_['+'0]\x20+\x20L_[2]'+');\x0a\x20\x20\x20\x20vec'+'3\x20V1\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[2]);\x0a')+('\x20\x20\x20\x20vec3\x20V'+'2\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[0]);\x0a\x0a\x20\x20'+'\x20\x20C\x20\x20=\x20Min'+'v\x20*\x20C;\x0a\x20\x20\x20'+'\x20V1\x20=\x20Minv'+'\x20*\x20V1;\x0a\x20\x20\x20'+'\x20V2\x20=\x20Minv'+'\x20*\x20V2;\x0a\x0a\x20\x20'+'\x20\x20//if(dot'+'(cross(V1,'+'\x20V2),\x20C)\x20>'+'\x200.0)\x0a\x20\x20\x20\x20'+'//\x20\x20\x20\x20retu'+'rn\x200.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20float\x20a,'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20d11\x20=\x20'+'dot(V1,\x20V1'+');\x0a\x20\x20\x20\x20flo'+'at\x20d22\x20=\x20d'+'ot(V2,\x20V2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d12\x20=\x20do'+'t(V1,\x20V2);'+'\x0a\x20\x20\x20\x20if\x20(a'+'bs(d12)\x20/\x20'+'sqrt(d11\x20*'+'\x20d22)\x20>\x200.'+'0001)\x0a\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20tr\x20='+'\x20d11\x20+\x20d22'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20det\x20'+'=\x20-d12\x20*\x20d'+'12\x20+\x20d11\x20*'+'\x20d22;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20us'+'e\x20sqrt\x20mat'+'rix\x20to\x20sol'+'ve\x20for\x20eig'+'envalues\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20det'+'\x20=\x20sqrt(de'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x200.5\x20*\x20sq'+'rt(tr\x20-\x202.'+'0\x20*\x20det);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x200.'+'5\x20*\x20sqrt(t'+'r\x20+\x202.0\x20*\x20'+'det);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_max\x20=\x20(u'+'\x20+\x20v)\x20*\x20(u'+'\x20+\x20v);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20e_min\x20=\x20('+'u\x20-\x20v)\x20*\x20('+'u\x20-\x20v);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20V1_,\x20V2_'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(d11\x20>'+'\x20d22)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12\x20*\x20'+'V1\x20+\x20(e_ma'+'x\x20-\x20d11)\x20*'+'\x20V2;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V2_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_min'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20V'+'1_\x20=\x20d12*V'+'2\x20+\x20(e_max'+'\x20-\x20d22)*V1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20V2_\x20=\x20'+'d12*V2\x20+\x20('+'e_min\x20-\x20d2'+'2)*V1;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20a\x20=\x20'+'1.0\x20/\x20e_ma'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20b\x20=\x201.0\x20/'+'\x20e_min;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20='+'\x20normalize'+'(V1_);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V2\x20=\x20'+'normalize('+'V2_);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1,\x20V1);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2,\x20V2);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'*=\x20sqrt(a)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'V2\x20*=\x20sqrt'+'(b);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20V3\x20=\x20norm'+'alize(cros'+'s(V1,\x20V2))'+';\x0a\x20\x20\x20\x20if\x20('+'dot(C,\x20V3)'+'\x20<\x200.0)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V3\x20*'+'=\x20-1.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20L'+'\x20\x20=\x20dot(V3'+',\x20C);\x0a\x20\x20\x20\x20'+'float\x20x0\x20='+'\x20dot(V1,\x20C'+')\x20/\x20L;\x0a\x20\x20\x20'+'\x20float\x20y0\x20'+'=\x20dot(V2,\x20'+'C)\x20/\x20L;\x0a\x0a\x20'+'\x20\x20\x20float\x20E'+'1\x20=\x20invers'+'esqrt(a);\x0a'+'\x20\x20\x20\x20float\x20'+'E2\x20=\x20inver'+'sesqrt(b);'+'\x0a\x0a\x20\x20\x20\x20a\x20*='+'\x20L\x20*\x20L;\x0a\x20\x20'+'\x20\x20b\x20*=\x20L\x20*'+'\x20L;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x0a\x20\x20\x20'+'\x20float\x20c1\x20'+'=\x20a\x20*\x20b\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0\x20+\x20y0\x20'+'*\x20y0)\x20-\x20a\x20'+'-\x20b;\x0a\x20\x20\x20\x20f'+'loat\x20c2\x20=\x20'+'1.0\x20-\x20a\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0)\x20-\x20b\x20'+'*\x20(1.0\x20+\x20y'+'0\x20*\x20y0);\x0a\x20'+'\x20\x20\x20float\x20c'+'3\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oots\x20=\x20Sol'+'veCubic(ve'+'c4(c0,\x20c1,'+'\x20c2,\x20c3));'+'\x0a\x20\x20\x20\x20float'+'\x20e1\x20=\x20root'+'s.x;\x0a\x20\x20\x20\x20f'+'loat\x20e2\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20float\x20e'+'3\x20=\x20roots.'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20avgDir\x20'+'=\x20vec3(a\x20*'+'\x20x0\x20/\x20(a\x20-'+'\x20e2),\x20b\x20*\x20'+'y0\x20/\x20(b\x20-\x20'+'e2),\x201.0);'+'\x0a\x0a\x20\x20\x20\x20mat3'+'\x20rotate\x20=\x20'+'mat3(V1,\x20V'+'2,\x20V3);\x0a\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20rotate\x20*'+'\x20avgDir;\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20normaliz'+'e(avgDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20L1\x20=\x20sqr'+'t(-e2\x20/\x20e3'+');\x0a\x20\x20\x20\x20flo'+'at\x20L2\x20=\x20sq'+'rt(-e2\x20/\x20e')+('1);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20formF'+'actor\x20=\x20ma'+'x(0.0,\x20L1\x20'+'*\x20L2\x20*\x20inv'+'ersesqrt(('+'1.0\x20+\x20L1\x20*'+'\x20L1)\x20*\x20(1.'+'0\x20+\x20L2\x20*\x20L'+'2)));\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20const'+'\x20float\x20LUT'+'_SIZE\x20=\x2064'+'.0;\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'LUT_SCALE\x20'+'=\x20(\x20LUT_SI'+'ZE\x20-\x201.0\x20)'+'\x20/\x20LUT_SIZ'+'E;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_BIAS\x20=\x20'+'0.5\x20/\x20LUT_'+'SIZE;\x0a\x0a\x20\x20\x20'+'\x20//\x20use\x20ta'+'bulated\x20ho'+'rizon-clip'+'ped\x20sphere'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20vec2('+'avgDir.z\x20*'+'\x200.5\x20+\x200.5'+',\x20formFact'+'or);\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv*LUT'+'_SCALE\x20+\x20L'+'UT_BIAS;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'scale\x20=\x20te'+'xture2DLod'+'(areaLight'+'sLutTex2,\x20'+'uv,\x200.0).w'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20formFa'+'ctor*scale'+';\x0a}\x0a\x0afloat'+'\x20getRectLi'+'ghtDiffuse'+'(vec3\x20worl'+'dNormal,\x20v'+'ec3\x20viewDi'+'r,\x20vec3\x20li'+'ghtDir,\x20ve'+'c3\x20lightDi'+'rNorm)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Evalua'+'teRect(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'vPositionW'+',\x20mat3(\x201.'+'0\x20),\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Diffuse(ve'+'c3\x20worldNo'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'at3(\x201.0\x20)'+',\x20dLTCCoor'+'ds\x20);\x0a}\x0a\x0af'+'loat\x20getSp'+'hereLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20/'+'/\x20NB:\x20this'+'\x20could\x20be\x20'+'improved\x20f'+'urther\x20wit'+'h\x20distance'+'\x20based\x20wra')+('p\x20lighting'+'\x0a\x20\x20\x20\x20float'+'\x20falloff\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20l'+'ightDir,\x20l'+'ightDirNor'+'m)\x20*\x20fallo'+'ff;\x0a}\x0a\x0amat'+'3\x20getLTCLi'+'ghtInvMat('+'vec2\x20uv)\x0a{'+'\x0a\x20\x20\x20\x20vec4\x20'+'t1\x20=\x20textu'+'re2DLod(ar'+'eaLightsLu'+'tTex1,\x20uv,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3(\x20t'+'1.x,\x200,\x20t1'+'.y\x20),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3(\x20'+'\x20\x20\x200,\x201,\x20\x20'+'\x20\x200\x20),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3('+'\x20t1.z,\x200,\x20'+'t1.w\x20)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0aflo'+'at\x20calcRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir,\x20vec'+'2\x20uv)\x20{\x0a\x20\x20'+'\x20\x20mat3\x20mIn'+'v\x20=\x20getLTC'+'LightInvMa'+'t(uv);\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'mInv,\x20dLTC'+'Coords\x20);\x0a'+'}\x0a\x0afloat\x20g'+'etRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20calcR'+'ectLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LTCUV);\x0a}\x0a'+'\x0afloat\x20cal'+'cDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec2\x20uv)\x20'+'{\x0a\x20\x20\x20\x20mat3'+'\x20mInv\x20=\x20ge'+'tLTCLightI'+'nvMat(uv);'+'\x0a\x20\x20\x20\x20retur'+'n\x20LTC_Eval'+'uateDisk(\x20'+'worldNorma'+'l,\x20viewDir'+',\x20vPositio'+'nW,\x20mInv,\x20'+'dLTCCoords'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular')+('(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a\x0afloat'+'\x20getSphere'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular'+'(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a'),FT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'metalness;'+'\x0a#endif\x0a\x0av'+'oid\x20getMet'+'alness()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20metalness'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPFLOAT\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20mate'+'rial_metal'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20metaln'+'ess\x20*=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'VERTEX\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dM'+'etalness\x20='+'\x20metalness'+';\x0a}\x0a',OT='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifdef\x20'+'UNIFORM_TE'+'XT_PARAMET'+'ERS\x0aunifor'+'m\x20vec4\x20out'+'line_color'+';\x0auniform\x20'+'float\x20outl'+'ine_thickn'+'ess;\x0aunifo'+'rm\x20vec4\x20sh'+'adow_color'+';\x0auniform\x20'+'vec2\x20shado'+'w_offset;\x0a'+'#else\x0avary'+'ing\x20vec4\x20o'+'utline_col'+'or;\x0avaryin'+'g\x20float\x20ou'+'tline_thic'+'kness;\x0avar'+'ying\x20vec4\x20'+'shadow_col'+'or;\x0avaryin'+'g\x20vec2\x20sha'+'dow_offset'+';\x0a#endif\x0a\x0a'+'vec4\x20apply'+'Msdf(vec4\x20'+'color)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20Con'+'vert\x20to\x20li'+'near\x20space'+'\x20before\x20pr'+'ocessing\x0a\x20'+'\x20\x20\x20//\x20TODO'+':\x20ideally\x20'+'this\x20would'+'\x20receive\x20t'+'he\x20color\x20i'+'n\x20linear\x20s'+'pace,\x20but\x20'+'that\x20would'+'\x20require\x20l'+'arger\x20chan'+'ges\x0a\x20\x20\x20\x20//'+'\x20on\x20the\x20en'+'gine\x20side,'+'\x20with\x20the\x20'+('way\x20premul'+'tiplied\x20al'+'pha\x20is\x20han'+'dled\x20as\x20we'+'ll.\x0a\x20\x20\x20\x20co'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctInput(co'+'lor.rgb);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20the\x20f'+'ield\x0a\x20\x20\x20\x20v'+'ec3\x20tsampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20vUv0).rgb'+';\x0a\x20\x20\x20\x20vec2'+'\x20uvShdw\x20=\x20'+'vUv0\x20-\x20sha'+'dow_offset'+';\x0a\x20\x20\x20\x20vec3'+'\x20ssample\x20='+'\x20texture2D'+'(texture_m'+'sdfMap,\x20uv'+'Shdw).rgb;'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20the\x20sign'+'ed\x20distanc'+'e\x20value\x0a\x20\x20'+'\x20\x20float\x20si'+'gDist\x20=\x20me'+'dian(tsamp'+'le.r,\x20tsam'+'ple.g,\x20tsa'+'mple.b);\x0a\x20'+'\x20\x20\x20float\x20s'+'igDistShdw'+'\x20=\x20median('+'ssample.r,'+'\x20ssample.g'+',\x20ssample.'+'b);\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20limit\x20-\x20'+'smaller\x20va'+'lue\x20makes\x20'+'for\x20sharpe'+'r\x20but\x20more'+'\x20aliased\x20t'+'ext,\x20espec'+'ially\x20on\x20a'+'ngles\x0a\x20\x20\x20\x20'+'//\x20too\x20lar'+'ge\x20value\x20('+'0.5)\x20creat'+'es\x20a\x20dark\x20'+'glow\x20aroun'+'d\x20the\x20lett'+'ers\x0a\x20\x20\x20\x20fl'+'oat\x20smooth'+'ingMax\x20=\x200'+'.2;\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20depends\x20'+'on\x20size\x20of'+'\x20texture\x20o'+'n\x20screen\x0a\x20'+'\x20\x20\x20vec2\x20w\x20'+'=\x20fwidth(v'+'Uv0);\x0a\x20\x20\x20\x20'+'float\x20smoo'+'thing\x20=\x20cl'+'amp(w.x\x20*\x20'+'font_textu'+'reWidth\x20/\x20'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mapMi'+'n\x20=\x200.05;\x0a'+'\x20\x20\x20\x20float\x20'+'mapMax\x20=\x20c'+'lamp(1.0\x20-'+'\x20font_sdfI'+'ntensity,\x20'+'mapMin,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20remap\x20to'+'\x20a\x20smaller'+'\x20range\x20(us'+'ed\x20on\x20smal'+'ler\x20font\x20s'+'izes)\x0a\x20\x20\x20\x20'+'float\x20sigD'+'istInner\x20='+'\x20map(mapMi'+'n,\x20mapMax,')+('\x20sigDist);'+'\x0a\x20\x20\x20\x20float'+'\x20sigDistOu'+'tline\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'kness);\x0a\x20\x20'+'\x20\x20sigDistS'+'hdw\x20=\x20map('+'mapMin,\x20ma'+'pMax,\x20sigD'+'istShdw\x20+\x20'+'outline_th'+'ickness);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20center\x20=\x20'+'0.5;\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20smoothin'+'g\x20and\x20use\x20'+'to\x20generat'+'e\x20opacity\x0a'+'\x20\x20\x20\x20float\x20'+'inside\x20=\x20s'+'moothstep('+'center-smo'+'othing,\x20ce'+'nter+smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20float'+'\x20outline\x20='+'\x20smoothste'+'p(center-s'+'moothing,\x20'+'center+smo'+'othing,\x20si'+'gDistOutli'+'ne);\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'w\x20=\x20smooth'+'step(cente'+'r-smoothin'+'g,\x20center+'+'smoothing,'+'\x20sigDistSh'+'dw);\x0a\x0a\x20\x20\x20\x20'+'vec4\x20tcolo'+'r\x20=\x20(outli'+'ne\x20>\x20insid'+'e)\x20?\x20outli'+'ne\x20*\x20vec4('+'outline_co'+'lor.a\x20*\x20ou'+'tline_colo'+'r.rgb,\x20out'+'line_color'+'.a)\x20:\x20vec4'+'(0.0);\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(tcolor'+',\x20color,\x20i'+'nside);\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'olor\x20=\x20(sh'+'adow\x20>\x20out'+'line)\x20?\x20sh'+'adow\x20*\x20vec'+'4(shadow_c'+'olor.a\x20*\x20s'+'hadow_colo'+'r.rgb,\x20sha'+'dow_color.'+'a)\x20:\x20tcolo'+'r;\x0a\x20\x20\x20\x20tco'+'lor\x20=\x20mix('+'scolor,\x20tc'+'olor,\x20outl'+'ine);\x0a\x0a\x20\x20\x20'+'\x20//\x20Conver'+'t\x20back\x20to\x20'+'gamma\x20spac'+'e\x20before\x20r'+'eturning\x0a\x20'+'\x20\x20\x20tcolor.'+'rgb\x20=\x20gamm'+'aCorrectOu'+'tput(tcolo'+'r.rgb);\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),kT='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',BT='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',NT='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',zT='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0a#ifdef\x20'+'MORPHING_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_INT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20morphNo'+'rmalTex;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20morphNorm'+'alTex;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0avec3'+'\x20getLocalN'+'ormal(vec3'+'\x20vertexNor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20loc'+'alNormal\x20='+'\x20vertex_no'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20m'+'orphUV\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'MORPHING_I'+'NT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'morphNorma'+'l\x20=\x20vec3(t'+'exelFetch('+'morphNorma'+'lTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20morphN'+'ormal\x20=\x20te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localNo'+'rmal\x20+=\x20mo'+'rphNormal;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Normal;\x0a}\x0a'+'\x0a#ifdef\x20SK'+'IN\x0a\x20\x20\x20\x20mat'+'3\x20getNorma'+'lMatrix(ma'+'t4\x20modelMa'+'trix)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3(mo'+'delMatrix['+'0].xyz,\x20mo'+'delMatrix['+'1].xyz,\x20mo'+'delMatrix['+'2].xyz);\x0a\x20'+'\x20\x20\x20}\x0a#elif'+'\x20defined(I'+'NSTANCING)'+'\x0a\x20\x20\x20\x20mat3\x20'+'getNormalM'+'atrix(mat4'+'\x20modelMatr'+'ix)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20mat3(mode'+'lMatrix[0]'+'.xyz,\x20mode'+'lMatrix[1]'+'.xyz,\x20mode'+'lMatrix[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20}\x0a#else\x0a\x20'+('\x20\x20\x20mat3\x20ge'+'tNormalMat'+'rix(mat4\x20m'+'odelMatrix'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),UT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0av'+'ec3\x20blendN'+'ormals(vec'+'3\x20n1,\x20vec3'+'\x20n2)\x20{\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20n1\x20+='+'\x20vec3(0,\x200'+',\x201);\x0a\x20\x20\x20\x20'+'n2\x20*=\x20vec3'+'(-1,\x20-1,\x201'+');\x0a\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a}\x0a#end'+'if\x0a\x0avec3\x20a'+'ddNormalDe'+'tail(vec3\x20'+'normalMap)'+'\x20{\x0a#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20vec3\x20'+'normalDeta'+'ilMap\x20=\x20un'+'packNormal'+'(texture2D'+'Bias($SAMP'+'LER,\x20$UV,\x20'+'textureBia'+'s));\x0a\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20r'+'eturn\x20blen'+'dNormals(n'+'ormalMap,\x20'+'normalDeta'+'ilMap);\x0a#e'+'lse\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lMap;\x0a#end'+'if\x0a}\x0a',VT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_bumpines'+'s;\x0a#endif\x0a'+'\x0avoid\x20getN'+'ormal()\x20{\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20vec3\x20nor'+'malMap\x20=\x20u'+'npackNorma'+'l(texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as));\x0a\x20\x20\x20\x20'+'normalMap\x20'+'=\x20mix(vec3'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malMap,\x20ma'+'terial_bum'+'piness);\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20addNormal'+'Detail(nor'+'malMap));\x0a'+'#else\x0a\x20\x20\x20\x20'+'dNormalW\x20='+'\x20dVertexNo'+'rmalW;\x0a#en'+'dif\x0a}\x0a',GT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20normal;\x0a\x20'+'\x20\x20\x20normal.'+'xy\x20=\x20nmap.'+'wy\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'normal.z\x20='+'\x20sqrt(1.0\x20'+'-\x20saturate'+'(dot(norma'+'l.xy,\x20norm'+'al.xy)));\x0a'+'\x20\x20\x20\x20return'+'\x20normal;\x0a}'+'\x0a',HT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20nmap.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a}\x0a',WT='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20dAlpha\x20*'+'=\x20texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as).$CH;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPVERTE'+'X\x0a\x20\x20\x20\x20dAlp'+'ha\x20*=\x20clam'+'p(vVertexC'+'olor.$VC,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',$T='\x0a\x0auniform\x20'+'vec4\x20blueN'+'oiseJitter'+';\x0a\x0a#ifdef\x20'+'DITHER_BLU'+'ENOISE\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20b'+'lueNoiseTe'+'x32;\x0a#endi'+'f\x0a\x0avoid\x20op'+'acityDithe'+'r(float\x20al'+'pha,\x20float'+'\x20id)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20DI'+'THER_BAYER'+'8\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20bayer'+'8(floor(mo'+'d(gl_FragC'+'oord.xy\x20+\x20'+'blueNoiseJ'+'itter.xy\x20+'+'\x20id,\x208.0))'+')\x20/\x2064.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20DIT'+'HER_BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20DITHER_IG'+'NNOISE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20https://w'+'ww.iryoku.'+'com/next-g'+'eneration-'+'post-proce'+'ssing-in-c'+'all-of-dut'+'y-advanced'+'-warfare/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20mag'+'ic\x20=\x20vec3('+'0.06711056'+',\x200.005837'+'15,\x2052.982'+'9189);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20fract(m'+'agic.z\x20*\x20f'+'ract(dot(g'+'l_FragCoor'+'d.xy\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+',\x20magic.xy'+')));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'convert\x20th'+'e\x20noise\x20to'+'\x20linear\x20sp'+'ace,\x20as\x20th'+'at\x20is\x20spec'+'ified\x20in\x20s'+'RGB\x20space\x20'+'(stores\x20pe'+'rceptual\x20v'+'alues)\x0a\x20\x20\x20'+'\x20noise\x20=\x20p'+'ow(noise,\x20'+'2.2);\x0a\x0a\x20\x20\x20'+'\x20if\x20(alpha'+'\x20<\x20noise)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a}\x0a',qT='\x0a',XT='\x0agl_FragCo'+'lor.a\x20=\x20li'+'tArgs_opac'+'ity;\x0a',jT='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x201.0;\x0a',YT='\x0agl_FragCo'+'lor.rgb\x20*='+'\x20litArgs_o'+'pacity;\x0agl'+'_FragColor'+'.a\x20=\x20litAr'+'gs_opacity'+';\x0a',KT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',ZT='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20sheen'+'Color\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sSpeculari'+'ty\x20=\x20sheen'+'Color;\x0a}\x0a',QT='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20sheenGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20sheenG'+'lossiness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.$VC);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPINV'+'ERT\x0a\x20\x20\x20\x20sh'+'eenGlossin'+'ess\x20=\x201.0\x20'+'-\x20sheenGlo'+'ssiness;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sheen'+'Glossiness'+'\x20+=\x200.0000'+'001;\x0a\x20\x20\x20\x20s'+'Glossiness'+'\x20=\x20sheenGl'+'ossiness;\x0a'+'}\x0a',JT='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias($'+'SAMPLER,\x20$'+'UV,\x20textur'+'eBias).$CH'+';\x0a\x20\x20\x20\x20heig'+'ht\x20=\x20heigh'+'t\x20*\x20parall'+'axScale\x20-\x20'+'parallaxSc'+'ale*0.5;\x0a\x20'+'\x20\x20\x20vec3\x20vi'+'ewDirT\x20=\x20d'+'ViewDirW\x20*'+'\x20dTBN;\x0a\x0a\x20\x20'+'\x20\x20viewDirT'+'.z\x20+=\x200.42'+';\x0a\x20\x20\x20\x20dUvO'+'ffset\x20=\x20he'+'ight\x20*\x20(vi'+'ewDirT.xy\x20'+'/\x20viewDirT'+'.z);\x0a}\x0a',eA='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a#de'+'fine\x20CAMER'+'APLANES\x0aun'+'iform\x20vec4'+'\x20camera_pa'+'rams;\x0a#end'+'if\x0a\x0aunifor'+'m\x20float\x20so'+'ftening;\x0au'+'niform\x20flo'+'at\x20colorMu'+'lt;\x0a\x0afloat'+'\x20saturate('+'float\x20x)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tex\x20\x20=\x20t'+'exture2D(c'+'olorMap,\x20v'+'ec2(texCoo'+'rdsAlphaLi'+'fe.x,\x201.0\x20'+'-\x20texCoord'+'sAlphaLife'+'.y));\x0a\x20\x20\x20\x20'+'vec4\x20ramp\x20'+'=\x20texture2'+'D(colorPar'+'am,\x20vec2(t'+'exCoordsAl'+'phaLife.w,'+'\x200.0));\x0a\x20\x20'+'\x20\x20ramp.rgb'+'\x20*=\x20colorM'+'ult;\x0a\x0a\x20\x20\x20\x20'+'ramp.a\x20+=\x20'+'texCoordsA'+'lphaLife.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20rgb\x20=\x20te'+'x.rgb\x20*\x20ra'+'mp.rgb;\x0a\x20\x20'+'\x20\x20float\x20a\x20'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',tA='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x20meshLo'+'calPos\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20q'+'uadXY\x20=\x20me'+'shLocalPos'+'.xy;\x0a\x20\x20\x20\x20f'+'loat\x20nlife'+'\x20=\x20clamp(i'+'nLife\x20/\x20pa'+'rticleLife'+'time,\x200.0,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'amDiv;\x0a\x20\x20\x20'+'\x20vec4\x20para'+'ms\x20=\x20tex1D'+'lod_lerp(T'+'EXTURE_PAS'+'S(internal'+'Tex2),\x20vec'+'2(nlife,\x200'+'),\x20paramDi'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x20params.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20scaleDiv'+'\x20=\x20paramDi'+'v.x;\x0a\x20\x20\x20\x20f'+'loat\x20alpha'+'Div\x20=\x20para'+'mDiv.z;\x0a\x0a\x20'+'\x20\x20\x20scale\x20+'+'=\x20(scaleDi'+'v\x20*\x202.0\x20-\x20'+'1.0)\x20*\x20sca'+'leDivMult\x20'+'*\x20fract(rn'+'dFactor*10'+'000.0);\x0a\x0a#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(quad'+'XY\x20*\x20-0.5\x20'+'+\x200.5,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#else\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(part'+'icle_uv,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20alphaD'+'ivMult\x20*\x20f'+'ract(rndFa'+'ctor*1000.'+'0),\x20nlife)'+';\x0a#endif\x0a\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'\x20=\x20inPos;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x0a'+'\x20\x20\x20\x20mat2\x20r'+'otMatrix;\x0a'),sA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',iA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',rA='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',nA='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',aA='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y*(1.'+'0/255.0)\x20+'+'\x20rg.x;\x0a}\x0a\x0a'+'float\x20deco'+'deFloatRGB'+'A(\x20vec4\x20rg'+'ba\x20)\x20{\x0a\x20\x20r'+'eturn\x20dot('+'\x20rgba,\x20vec'+'4(1.0,\x201.0'+'/255.0,\x201.'+'0/65025.0,'+'\x201.0/16058'+'1375.0)\x20);'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+'rticles\x20-\x20'+('1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),oA='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',lA='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),hA='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',cA='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',dA='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',uA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',fA='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',pA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',mA='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',_A='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),gA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',yA='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',xA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',SA='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',vA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0aa'+'ttribute\x20v'+'ec2\x20partic'+'le_vertexD'+'ata5;\x0a#els'+'e\x0aattribut'+'e\x20vec4\x20par'+'ticle_vert'+'exData5;\x0a#'+'endif\x0a\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wProjectio'+'n;\x0auniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0auniform\x20m'+'at4\x20matrix'+'_viewInver'+'se;\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20lif'+'etime;\x0auni'+'form\x20float'+'\x20stretch;\x0a'+'uniform\x20fl'+'oat\x20seed;\x0a'+'uniform\x20ve'+'c3\x20wrapBou'+'nds;\x0aunifo'+'rm\x20vec3\x20em'+'itterScale'+';\x0auniform\x20'+'vec3\x20faceT'+('angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0a\x0a#ifdef'+'\x20PARTICLE_'+'GPU\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex1;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+'rnalTex2;\x0a'+'#endif\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0a\x0avarying'+'\x20vec4\x20texC'+'oordsAlpha'+'Life;\x0a\x0avec'+'2\x20rotate(v'+'ec2\x20quadXY'+',\x20float\x20pR'+'otation,\x20o'+'ut\x20mat2\x20ro'+'tMatrix)\x0a{'+'\x0a\x20\x20\x20\x20float'+'\x20c\x20=\x20cos(p'+'Rotation);'+'\x0a\x20\x20\x20\x20float'+'\x20s\x20=\x20sin(p'+'Rotation);'+'\x0a\x20\x20\x20\x20//vec'+'4\x20rotation'+'Matrix\x20=\x20v'+'ec4(c,\x20-s,'+'\x20s,\x20c);\x0a\x0a\x20'+'\x20\x20\x20mat2\x20m\x20'+'=\x20mat2(c,\x20'+'-s,\x20s,\x20c);'+'\x0a\x20\x20\x20\x20rotMa'+'trix\x20=\x20m;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20m\x20*\x20quad'+'XY;\x0a}\x0a\x0avec'+'3\x20billboar'+'d(vec3\x20Ins'+'tanceCoord'+'s,\x20vec2\x20qu'+'adXY)\x0a{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20-matrix'+'_viewInver'+'se[0].xyz\x20'+'*\x20quadXY.x'+'\x20+\x20-matrix'+'_viewInver'+'se[1].xyz\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avec3\x20cust'+'omFace(vec'+'3\x20Instance'+'Coords,\x20ve'+'c2\x20quadXY)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20pos\x20=\x20fa'+'ceTangent\x20'+'*\x20quadXY.x'+'\x20+\x20faceBin'+'orm\x20*\x20quad'+'XY.y;\x0a\x20\x20\x20\x20'+'return\x20pos'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20particle'+'Pos\x20=\x20part'+'icle_verte'+'xData.xyz;'+'\x0a\x20\x20\x20\x20vec3\x20'+'inPos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20vec3\x20'+'vertPos\x20=\x20'+'particle_v'+'ertexData3'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20inVel'+'\x20=\x20vec3(pa'+'rticle_ver'+'texData2.w'+',\x20particle'+'_vertexDat')+('a3.w,\x20part'+'icle_verte'+'xData5.x);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20id\x20=\x20flo'+'or(particl'+'e_vertexDa'+'ta4);\x0a\x20\x20\x20\x20'+'float\x20rndF'+'actor\x20=\x20fr'+'act(sin(id'+'\x20+\x201.0\x20+\x20s'+'eed));\x0a\x20\x20\x20'+'\x20vec3\x20rndF'+'actor3\x20=\x20v'+'ec3(rndFac'+'tor,\x20fract'+'(rndFactor'+'*10.0),\x20fr'+'act(rndFac'+'tor*100.0)'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20normalize'+'((mat3(mat'+'rix_view)\x20'+'*\x20inVel).x'+'y);\x20//\x20sho'+'uld\x20be\x20rem'+'oved\x20by\x20co'+'mpiler\x20if\x20'+'align/stre'+'tch\x20is\x20not'+'\x20used\x0a\x0a\x20\x20\x20'+'\x20vec2\x20quad'+'XY\x20=\x20vertP'+'os.xy;\x0a\x0a#i'+'fdef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_vertexD'+'ata5.zw,\x20p'+'article_ve'+'rtexData2.'+'z,\x20particl'+'e_vertexDa'+'ta.w);\x0a#el'+'se\x0a\x20\x20\x20\x20tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4(quadXY\x20'+'*\x20-0.5\x20+\x200'+'.5,\x20partic'+'le_vertexD'+'ata2.z,\x20pa'+'rticle_ver'+'texData.w)'+';\x0a#endif\x0a\x20'+'\x20\x20\x20mat2\x20ro'+'tMatrix;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'inAngle\x20=\x20'+'particle_v'+'ertexData2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20particl'+'ePosMoved\x20'+'=\x20vec3(0.0'+');\x0a\x20\x20\x20\x20vec'+'3\x20meshLoca'+'lPos\x20=\x20par'+'ticle_vert'+'exData3.xy'+'z;\x0a'),bA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',wA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',TA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',AA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',EA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal*0'+'.5+0.5;\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'Normal\x20=\x20-'+'normal*0.5'+'+0.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'*=\x20negNorm'+'al;\x0a\x20\x20\x20\x20po'+'sNormal\x20*='+'\x20posNormal'+';\x0a',CA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a#if'+'def\x20USE_ME'+'SH\x0aattribu'+'te\x20vec2\x20pa'+'rticle_uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20mesh\x20UV\x0a'+'#endif\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ewProjecti'+'on;\x0aunifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0auniform\x20m'+'at3\x20matrix'+'_normal;\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iewInverse'+';\x0a\x0a#ifndef'+'\x20VIEWMATRI'+'X\x0a#define\x20'+'VIEWMATRIX'+'\x0auniform\x20m'+'at4\x20matrix'+'_view;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20num'+'ParticlesP'+'ot;\x0aunifor'+'m\x20float\x20gr'+'aphSampleS'+'ize;\x0aunifo'+'rm\x20float\x20g'+'raphNumSam'+'ples;\x0aunif'+'orm\x20float\x20'+'stretch;\x0au'+'niform\x20vec'+'3\x20wrapBoun'+'ds;\x0aunifor'+'m\x20vec3\x20emi'+'tterScale;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rPos;\x0aunif'+'orm\x20vec3\x20f'+'aceTangent'+';\x0auniform\x20'+'vec3\x20faceB'+'inorm;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20de'+'ltaRandomn'+'essStatic;'+'\x0auniform\x20f'+'loat\x20scale'+'DivMult;\x0au'+'niform\x20flo'+'at\x20alphaDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20delta;\x0aun'+'iform\x20samp'+'ler2D\x20part'+'icleTexOUT'+';\x0auniform\x20'+'sampler2D\x20'+'particleTe'+'xIN;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+('rnalTex1;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex2'+';\x0a#endif\x0a\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x0a'+'#endif\x0a\x0ava'+'rying\x20vec4'+'\x20texCoords'+'AlphaLife;'+'\x0a\x0avec3\x20inP'+'os;\x0avec3\x20i'+'nVel;\x0afloa'+'t\x20inAngle;'+'\x0abool\x20inSh'+'ow;\x0afloat\x20'+'inLife;\x0a'),MA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',PA='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',RA='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',IA='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',DA='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',LA='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',FA='\x0a\x20\x20\x20\x20inAng'+'le\x20=\x20atan('+'velocityV.'+'x,\x20velocit'+'yV.y);\x20//\x20'+'not\x20the\x20fa'+'stest\x20way,'+'\x20but\x20easie'+'r\x20to\x20plug\x20'+'in;\x20TODO:\x20'+'create\x20rot'+'\x20matrix\x20ri'+'ght\x20from\x20v'+'ectors\x0a\x0a',OA='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',kA='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',BA='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',NA='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',zA='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',UA='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x20255.0,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20con'+'st\x20uvec4\x20s'+'hifts\x20=\x20uv'+'ec4(16,\x208,'+'\x200,\x2024);\x0a\x20'+'\x20\x20\x20uvec4\x20c'+'ol\x20=\x20(uvec'+'4(meshInst'+'anceId)\x20>>'+'\x20shifts)\x20&'+'\x20uvec4(0xf'+'f);\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'col)\x20*\x20inv'+';\x0a}\x0a',VA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',GA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x20\x20\x20\x20f'+'loat\x20aniso'+'tropy\x20=\x20ma'+'terial_ani'+'sotropy\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cDirection'+'\x20=\x20anisotr'+'opy\x20>=\x200.0'+'\x20?\x20tbn[1]\x20'+':\x20tbn[0];\x0a'+'\x20\x20\x20\x20vec3\x20a'+'nisotropic'+'Tangent\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicNo'+'rmal\x20=\x20cro'+'ss(anisotr'+'opicTangen'+'t,\x20anisotr'+'opicDirect'+'ion);\x0a\x20\x20\x20\x20'+'vec3\x20bentN'+'ormal\x20=\x20no'+'rmalize(mi'+'x(normaliz'+'e(worldNor'+'mal),\x20norm'+'alize(anis'+'otropicNor'+'mal),\x20anis'+'otropy));\x0a'+'\x20\x20\x20\x20dReflD'+'irW\x20=\x20refl'+'ect(-viewD'+'ir,\x20bentNo'+'rmal);\x0a}\x0a',HA='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',WA='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20$DE'+'CODE(textu'+'reCube(tex'+'ture_cubeM'+'ap,\x20lookup'+'Vec));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',$A='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20sa'+'mplerCube\x20'+'texture_cu'+'beMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20dir\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r)\x20*\x20vec3('+'-1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20f'+'loat\x20level'+'\x20=\x20saturat'+'e(1.0\x20-\x20gl'+'oss)\x20*\x205.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20ilevel\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20f'+'loat\x20fleve'+'l\x20=\x20level\x20'+'-\x20ilevel;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'sharp\x20=\x20$D'+'ECODE_CUBE'+'MAP(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oughA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20mapRou'+'ghnessUv(u'+'v,\x20ilevel)'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20roughB\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',qA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_reflect'+'ivity;\x0a\x0a//'+'\x20calculate'+'\x20mip\x20level'+'\x20for\x20shiny'+'\x20reflectio'+'n\x20given\x20eq'+'uirect\x20coo'+'rds\x20uv.\x0afl'+'oat\x20shinyM'+'ipLevel(ve'+'c2\x20uv)\x20{\x0a\x20'+'\x20\x20\x20vec2\x20dx'+'\x20=\x20dFdx(uv'+');\x0a\x20\x20\x20\x20vec'+'2\x20dy\x20=\x20dFd'+'y(uv);\x0a\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20secon'+'d\x20dF\x20at\x2018'+'0\x20degrees\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v2\x20=\x20vec2('+'fract(uv.x'+'\x20+\x200.5),\x20u'+'v.y);\x0a\x20\x20\x20\x20'+'vec2\x20dx2\x20='+'\x20dFdx(uv2)'+';\x0a\x20\x20\x20\x20vec2'+'\x20dy2\x20=\x20dFd'+'y(uv2);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20min\x20'+'of\x20both\x20se'+'ts\x20of\x20dF\x20t'+'o\x20handle\x20d'+'iscontinui'+'ty\x20at\x20the\x20'+'azim\x20edge\x0a'+'\x20\x20\x20\x20float\x20'+'maxd\x20=\x20min'+'(max(dot(d'+'x,\x20dx),\x20do'+'t(dy,\x20dy))'+',\x20max(dot('+'dx2,\x20dx2),'+'\x20dot(dy2,\x20'+'dy2)));\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(0.5\x20'+'*\x20log2(max'+'d)\x20-\x201.0\x20+'+'\x20textureBi'+'as,\x200.0,\x205'+'.0);\x0a}\x0a\x0ave'+'c3\x20calcRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3(-1.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20toSphe'+'ricalUv(di'+'r);\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20roughnes'+'s\x20level\x0a\x20\x20'+'\x20\x20float\x20le'+'vel\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20f'+'loat\x20ileve'+'l\x20=\x20floor('+'level);\x0a\x0a\x20'+'\x20\x20\x20//\x20acce'+'ssing\x20the\x20'+'shiny\x20(top'+'\x20level)\x20re'+'flection\x20-'+'\x20perform\x20m'+'anual\x20mipm'+'ap\x20lookup\x0a'+'\x20\x20\x20\x20float\x20'+('level2\x20=\x20s'+'hinyMipLev'+'el(uv\x20*\x20at'+'lasSize);\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel2\x20=\x20'+'floor(leve'+'l2);\x0a\x0a\x20\x20\x20\x20'+'vec2\x20uv0,\x20'+'uv1;\x0a\x20\x20\x20\x20f'+'loat\x20weigh'+'t;\x0a\x20\x20\x20\x20if\x20'+'(ilevel\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20mapShiny'+'Uv(uv,\x20ile'+'vel2);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20mapShinyU'+'v(uv,\x20ilev'+'el2\x20+\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'weight\x20=\x20l'+'evel2\x20-\x20il'+'evel2;\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20accessing'+'\x20rough\x20ref'+'lection\x20-\x20'+'just\x20sampl'+'e\x20the\x20same'+'\x20part\x20twic'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20uv1\x20'+'=\x20mapRough'+'nessUv(uv,'+'\x20ilevel);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20we'+'ight\x20=\x200.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20li'+'nearA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20uv0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'linearB\x20=\x20'+'$DECODE(te'+'xture2D(te'+'xture_envA'+'tlas,\x20uv1)'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear0\x20'+'=\x20mix(line'+'arA,\x20linea'+'rB,\x20weight'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear1\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0avo'+'id\x20addRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x20\x20\x20\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20+=\x20ve'+'c4(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20mater'+'ial_reflec'+'tivity);\x0a}'+'\x0a'),XA='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0auniform\x20'+'sampler2D\x20'+'texture_sp'+'hereMap;\x0au'+'niform\x20flo'+'at\x20materia'+'l_reflecti'+'vity;\x0a\x0avec'+'3\x20calcRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20reflD'+'irV\x20=\x20(mat'+'3(matrix_v'+'iew)\x20*\x20ref'+'lDir).xyz;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x202.0\x20'+'*\x20sqrt(\x20do'+'t(reflDirV'+'.xy,\x20reflD'+'irV.xy)\x20+\x20'+'(reflDirV.'+'z+1.0)*(re'+'flDirV.z+1'+'.0)\x20);\x0a\x20\x20\x20'+'\x20vec2\x20sphe'+'reMapUv\x20=\x20'+'reflDirV.x'+'y\x20/\x20m\x20+\x200.'+'5;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20$DECO'+'DE(texture'+'2D(texture'+'_sphereMap'+',\x20sphereMa'+'pUv));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',jA='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',YA='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',KA='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20DISPERSIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20based\x20o'+'n\x20the\x20disp'+'ersion\x20mat'+'erial\x20prop'+'erty,\x20calc'+'ulate\x20modi'+'fied\x20refra'+'ction\x20inde'+'x\x20values\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'for\x20R\x20and\x20'+'B\x20channels'+'\x20and\x20evalu'+'ate\x20the\x20re'+'fraction\x20c'+'olor\x20for\x20t'+'hem.\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20h'+'alfSpread\x20'+'=\x20(1.0\x20/\x20r'+'efractionI'+'ndex\x20-\x201.0')+(')\x20*\x200.025\x20'+'*\x20dispersi'+'on;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20r'+'efractionI'+'ndexR\x20=\x20re'+'fractionIn'+'dex\x20-\x20half'+'Spread;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'actionVect'+'or\x20=\x20norma'+'lize(refra'+'ct(-viewDi'+'r,\x20worldNo'+'rmal,\x20refr'+'actionInde'+'xR))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20refracti'+'on.r\x20=\x20eva'+'lRefractio'+'nColor(ref'+'ractionVec'+'tor,\x20gloss'+',\x20refracti'+'onIndexR).'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dexB\x20=\x20ref'+'ractionInd'+'ex\x20+\x20halfS'+'pread;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ctionVecto'+'r\x20=\x20normal'+'ize(refrac'+'t(-viewDir'+',\x20worldNor'+'mal,\x20refra'+'ctionIndex'+'B))\x20*\x20scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'n.b\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndexB).b'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20Transmitt'+'ance\x20is\x20ou'+'r\x20final\x20re'+'fraction\x20c'+'olor\x0a\x20\x20\x20\x20v'+'ec3\x20transm'+'ittance;\x0a\x20'+'\x20\x20\x20if\x20(mat'+'erial_invA'+'ttenuation'+'Distance\x20!'+'=\x200.0)\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20atte'+'nuation\x20=\x20'+'-log(mater'+'ial_attenu'+'ation)\x20*\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'transmitta'+'nce\x20=\x20exp('+'-attenuati'+'on\x20*\x20lengt'+'h(refracti'+'onVector))'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20transmitt'+'ance\x20=\x20ref'+'raction;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20f'+'resnel\x20eff'+'ect\x20on\x20ref'+'raction\x0a\x20\x20'+'\x20\x20vec3\x20fre'+'snel\x20=\x20vec'+'3(1.0)\x20-\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view')+('Dir,\x20world'+'Normal),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20specular'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20,\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceIn'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20mix(dD'+'iffuseLigh'+'t,\x20refract'+'ion\x20*\x20tran'+'smittance\x20'+'*\x20fresnel,'+'\x20transmiss'+'ion);\x0a}\x0a'),ZA='\x0a//\x20This\x20s'+'hader\x20requ'+'ires\x20the\x20f'+'ollowing\x20#'+'DEFINEs:\x0a/'+'/\x0a//\x20PROCE'+'SS_FUNC\x20-\x20'+'must\x20be\x20on'+'e\x20of\x20repro'+'ject,\x20pref'+'ilter\x0a//\x20D'+'ECODE_FUNC'+'\x20-\x20must\x20be'+'\x20one\x20of\x20de'+'codeRGBM,\x20'+'decodeRGBE'+',\x20decodeGa'+'mma\x20or\x20dec'+'odeLinear\x0a'+'//\x20ENCODE_'+'FUNC\x20-\x20mus'+'t\x20be\x20one\x20o'+'f\x20encodeRG'+'BM,\x20encode'+'RGBE,\x20enci'+'deGamma\x20or'+'\x20encodeLin'+'ear\x0a//\x20SOU'+'RCE_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20samp'+'leCubemap,'+'\x20sampleEqu'+'irect,\x20sam'+'pleOctahed'+'ral\x0a//\x20TAR'+'GET_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20getD'+'irectionCu'+'bemap,\x20get'+'DirectionE'+'quirect,\x20g'+'etDirectio'+'nOctahedra'+'l\x0a//\x0a//\x20Wh'+'en\x20filteri'+'ng:\x0a//\x20NUM'+'_SAMPLES\x20-'+'\x20number\x20of'+'\x20samples\x0a/'+'/\x20NUM_SAMP'+'LES_SQRT\x20-'+'\x20sqrt\x20of\x20n'+'umber\x20of\x20s'+'amples\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0a\x0a//'+'\x20source\x0a#i'+'fdef\x20CUBEM'+'AP_SOURCE\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplerC'+'ube\x20source'+'Cube;\x0a#els'+'e\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20source'+'Tex;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'//\x20samples'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20samples'+'Tex;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20samplesT'+'exInverseS'+'ize;\x0a#endi'+'f\x0a\x0a//\x20para'+'ms:\x0a//\x20x\x20-'+'\x20target\x20cu'+'bemap\x20face'+'\x200..6\x0a//\x20y'+'\x20-\x20target\x20'+'image\x20tota'+'l\x20pixels\x0a/'+'/\x20z\x20-\x20sour'+'ce\x20cubemap'+'\x20size\x0aunif'+'orm\x20vec3\x20p'+'arams;\x0a\x0afl'+'oat\x20target'+'Face()\x20{\x20r'+'eturn\x20para'+'ms.x;\x20}\x0afl'+'oat\x20target'+'TotalPixel'+('s()\x20{\x20retu'+'rn\x20params.'+'y;\x20}\x0afloat'+'\x20sourceTot'+'alPixels()'+'\x20{\x20return\x20'+'params.z;\x20'+'}\x0a\x0afloat\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afloat\x20'+'saturate(f'+'loat\x20x)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0a')+S0+'\x0a'+v0+('\x0a\x0a//--\x20sup'+'ported\x20pro'+'jections\x0a\x0a'+'vec3\x20modif'+'ySeams(vec'+'3\x20dir,\x20flo'+'at\x20scale)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20adir\x20=\x20ab'+'s(dir);\x0a\x20\x20'+'\x20\x20float\x20M\x20'+'=\x20max(max('+'adir.x,\x20ad'+'ir.y),\x20adi'+'r.z);\x0a\x20\x20\x20\x20'+'return\x20dir'+'\x20/\x20M\x20*\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.x\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20adir'+'.y\x20==\x20M\x20?\x20'+'1.0\x20:\x20scal'+'e,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.z\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'3\x20fromSphe'+'rical(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(cos(uv.'+'y)\x20*\x20sin(u'+'v.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sin(uv.y'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'os(uv.y)\x20*'+'\x20cos(uv.x)'+');\x0a}\x0a\x0avec3'+'\x20getDirect'+'ionEquirec'+'t()\x20{\x0a\x20\x20\x20\x20'+'return\x20fro'+'mSpherical'+'((vec2(vUv'+'0.x,\x201.0\x20-'+'\x20vUv0.y)\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20vec2(P'+'I,\x20PI\x20*\x200.'+'5));\x0a}\x0a\x0a//'+'\x20octahedra'+'l\x20code,\x20ba'+'sed\x20on\x20htt'+'ps://jcgt.'+'org/publis'+'hed/0003/0'+'2/01/\x0a//\x20\x22'+'Survey\x20of\x20'+'Efficient\x20'+'Representa'+'tions\x20for\x20'+'Independen'+'t\x20Unit\x20Vec'+'tors\x22\x20by\x20C'+'igolle,\x20Do'+'now,\x20Evang'+'elakos,\x20Ma'+'ra,\x20McGuir'+'e,\x20Meyer\x0a\x0a'+'float\x20sign'+'NotZero(fl'+'oat\x20k){\x0a\x20\x20'+'\x20\x20return(k'+'\x20>=\x200.0)\x20?'+'\x201.0\x20:\x20-1.'+'0;\x0a}\x0a\x0avec2'+'\x20signNotZe'+'ro(vec2\x20v)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(s'+'ignNotZero'+'(v.x),\x20sig'+'nNotZero(v'+'.y));\x0a}\x0a\x0a/'+('/\x20Returns\x20'+'a\x20unit\x20vec'+'tor.\x20Argum'+'ent\x20o\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'packed\x20via'+'\x20octEncode'+',\x20on\x20the\x20['+'-1,\x20+1]\x20sq'+'uare\x0avec3\x20'+'octDecode('+'vec2\x20o)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'\x20=\x20vec3(o.'+'x,\x201.0\x20-\x20a'+'bs(o.x)\x20-\x20'+'abs(o.y),\x20'+'o.y);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v.xz\x20'+'=\x20(1.0\x20-\x20a'+'bs(v.zx))\x20'+'*\x20signNotZ'+'ero(v.xz);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0avec3\x20'+'getDirecti'+'onOctahedr'+'al()\x20{\x0a\x20\x20\x20'+'\x20return\x20oc'+'tDecode(ve'+'c2(vUv0.x,'+'\x201.0\x20-\x20vUv'+'0.y)\x20*\x202.0'+'\x20-\x201.0);\x0a}'+'\x0a\x0a//\x20Assum'+'es\x20that\x20v\x20'+'is\x20a\x20unit\x20'+'vector.\x20Th'+'e\x20result\x20i'+'s\x20an\x20octah'+'edral\x20vect'+'or\x20on\x20the\x20'+'[-1,\x20+1]\x20s'+'quare\x0avec2'+'\x20octEncode'+'(in\x20vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20l1norm'+'\x20=\x20abs(v.x'+')\x20+\x20abs(v.'+'y)\x20+\x20abs(v'+'.z);\x0a\x20\x20\x20\x20v'+'ec2\x20result'+'\x20=\x20v.xz\x20*\x20'+'(1.0\x20/\x20l1n'+'orm);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20=\x20(1.0\x20-'+'\x20abs(resul'+'t.yx))\x20*\x20s'+'ignNotZero'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20ve'+'c4\x20sampleC'+'ubemap(vec'+'3\x20dir)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCube(sour'+'ceCube,\x20mo'+'difySeams('+'dir,\x201.0))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleCubema'+'p(vec2\x20sph'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20sampl'+'eCubemap(f'+'romSpheric'+'al(sph));\x0a')+('}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleCu'+'bemap(vec3'+'\x20dir,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureCube'+'Lod(source'+'Cube,\x20modi'+'fySeams(di'+'r,\x201.0),\x20m'+'ipLevel);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leCubemap('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleC'+'ubemap(fro'+'mSpherical'+'(sph),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a#else\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleEqui'+'rect(vec2\x20'+'sph)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20sph\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'(toSpheric'+'al(dir));\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leEquirect'+'(vec2\x20sph,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sph'+'\x20/\x20vec2(PI'+'\x20*\x202.0,\x20PI'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'e2DLod(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sam'+'pleEquirec'+'t(toSpheri'+'cal(dir),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleOctah'+'edral(vec2'+'\x20sph)\x20{\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'octEncode('+'dir)\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20texture'+'2DLod(sour'+'ceTex,\x20vec'+'2(uv.x,\x201.'+'0\x20-\x20uv.y),'+'\x20mipLevel)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleOctahe'+'dral(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getD'+'irectionCu'+'bemap()\x20{\x0a'+'\x20\x20\x20\x20vec2\x20s'+'t\x20=\x20vUv0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20vec;\x0a\x20\x20'+'\x20\x20if\x20(face'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'1,\x20-st.y,\x20'+'-st.x);\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(face\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec\x20'+'=\x20vec3(-1,'+'\x20-st.y,\x20st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'1,\x20st.y);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x203.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3(st.x'+',\x20-st.y,\x201'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(-st.x'+',\x20-st.y,\x20-'+'1);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(modifySe'+'ams(vec,\x201'+'.0));\x0a}\x0a\x0am'+'at3\x20matrix'+'FromVector'+'(vec3\x20n)\x20{'+'\x20//\x20frisva'+'d\x0a\x20\x20\x20\x20floa'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20f'+'loat\x20b\x20=\x20-')+('n.x\x20*\x20n.y\x20'+'*\x20a;\x0a\x20\x20\x20\x20v'+'ec3\x20b1\x20=\x20v'+'ec3(1.0\x20-\x20'+'n.x\x20*\x20n.x\x20'+'*\x20a,\x20b,\x20-n'+'.x);\x0a\x20\x20\x20\x20v'+'ec3\x20b2\x20=\x20v'+'ec3(b,\x201.0'+'\x20-\x20n.y\x20*\x20n'+'.y\x20*\x20a,\x20-n'+'.y);\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'(b1,\x20b2,\x20n'+');\x0a}\x0a\x0amat3'+'\x20matrixFro'+'mVectorSlo'+'w(vec3\x20n)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20up\x20=\x20(1.0'+'\x20-\x20abs(n.y'+')\x20<=\x200.000'+'0001)\x20?\x20ve'+'c3(0.0,\x200.'+'0,\x20n.y\x20>\x200'+'.0\x20?\x201.0\x20:'+'\x20-1.0)\x20:\x20v'+'ec3(0.0,\x201'+'.0,\x200.0);\x0a'+'\x20\x20\x20\x20vec3\x20x'+'\x20=\x20normali'+'ze(cross(u'+'p,\x20n));\x0a\x20\x20'+'\x20\x20vec3\x20y\x20='+'\x20cross(n,\x20'+'x);\x0a\x20\x20\x20\x20re'+'turn\x20mat3('+'x,\x20y,\x20n);\x0a'+'}\x0a\x0avec4\x20re'+'project()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'NUM_SAMPLE'+'S\x20<=\x201)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20single\x20sa'+'mple\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(DECODE_F'+'UNC(SOURCE'+'_FUNC(TARG'+'ET_FUNC())'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'lti\x20sample'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20t\x20=\x20TA'+'RGET_FUNC('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20tu\x20='+'\x20dFdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tv\x20=\x20dF'+'dy(t);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'u\x20=\x200.0;\x20u'+'\x20<\x20NUM_SAM'+'PLES_SQRT;'+'\x20++u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(float'+'\x20v\x20=\x200.0;\x20'+'v\x20<\x20NUM_SA'+'MPLES_SQRT'+';\x20++v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20DECOD'+'E_FUNC(SOU'+'RCE_FUNC(n'+'ormalize(t'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20tu\x20*\x20(u'+'\x20/\x20NUM_SAM'+'PLES_SQRT\x20'+'-\x200.5)\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'v\x20*\x20(v\x20/\x20N'+'UM_SAMPLES'+'_SQRT\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ENCO'+'DE_FUNC(re'+'sult\x20/\x20(NU'+'M_SAMPLES_'+'SQRT\x20*\x20NUM'+'_SAMPLES_S'+'QRT));\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0avec4'+'\x20unpackFlo'+'at\x20=\x20vec4('+'1.0,\x201.0\x20/'+'\x20255.0,\x201.'+'0\x20/\x2065025.'+'0,\x201.0\x20/\x201'+'6581375.0)'+';\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'void\x20unpac'+'kSample(in'+'t\x20i,\x20out\x20v'+'ec3\x20L,\x20out'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20u\x20=\x20(fl'+'oat(i\x20*\x204)'+'\x20+\x200.5)\x20*\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20v'+'\x20=\x20(floor('+'u)\x20+\x200.5)\x20'+'*\x20samplesT'+'exInverseS'+'ize.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20raw.x\x20'+'=\x20dot(text'+'ure2D(samp'+'lesTex,\x20ve'+'c2(u,\x20v)),'+'\x20unpackFlo'+'at);\x20u\x20+=\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20raw.y\x20='+'\x20dot(textu'+'re2D(sampl'+'esTex,\x20vec'+'2(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20s'+'amplesTexI'+'nverseSize'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20raw.z\x20=\x20'+'dot(textur'+'e2D(sample'+'sTex,\x20vec2'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20sa'+'mplesTexIn'+'verseSize.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20raw.w\x20=\x20d'+'ot(texture'+'2D(samples'+'Tex,\x20vec2('+'u,\x20v)),\x20un'+'packFloat)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20L.xyz\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'pLevel\x20=\x20r'+'aw.w\x20*\x208.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20conv'+'olve\x20an\x20en'+'vironment\x20'+'given\x20pre-'+'generated\x20'+'samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp')+('les()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el))\x20*\x20L.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20totalW'+'eight\x20+=\x20L'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(result\x20/'+'\x20totalWeig'+'ht);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'nweighted\x20'+'version\x20of'+'\x20prefilter'+'Samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp'+'lesUnweigh'+'ted()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20ENCODE_F'+'UNC(result'+'\x20/\x20float(N'+'UM_SAMPLES'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20PROCE'+'SS_FUNC();'+'\x0a}\x0a')),QA='\x0a\x0avec4\x20Sam'+'pleTexture'+'CatmullRom'+'(TEXTURE_A'+'CCEPT(tex)'+',\x20vec2\x20uv,'+'\x20vec2\x20texS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20//\x20We\x27re\x20'+'going\x20to\x20s'+'ample\x20a\x20a\x20'+'4x4\x20grid\x20o'+'f\x20texels\x20s'+'urrounding'+'\x20the\x20targe'+'t\x20UV\x20coord'+'inate.\x20We\x27'+'ll\x20do\x20this'+'\x20by\x20roundi'+'ng\x0a\x20\x20\x20\x20//\x20'+'down\x20the\x20s'+'ample\x20loca'+'tion\x20to\x20ge'+'t\x20the\x20exac'+'t\x20center\x20o'+'f\x20our\x20\x22sta'+'rting\x22\x20tex'+'el.\x20The\x20st'+'arting\x20tex'+'el\x20will\x20be'+'\x20at\x0a\x20\x20\x20\x20//'+'\x20location\x20'+'[1,\x201]\x20in\x20'+'the\x20grid,\x20'+'where\x20[0,\x20'+'0]\x20is\x20the\x20'+'top\x20left\x20c'+'orner.\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePos\x20=\x20uv'+'\x20*\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos1\x20='+'\x20floor(sam'+'plePos\x20-\x200'+'.5)\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20fractiona'+'l\x20offset\x20f'+'rom\x20our\x20st'+'arting\x20tex'+'el\x20to\x20our\x20'+'original\x20s'+'ample\x20loca'+'tion,\x20whic'+'h\x20we\x27ll\x0a\x20\x20'+'\x20\x20//\x20feed\x20'+'into\x20the\x20C'+'atmull-Rom'+'\x20spline\x20fu'+'nction\x20to\x20'+'get\x20our\x20fi'+'lter\x20weigh'+'ts.\x0a\x20\x20\x20\x20ve'+'c2\x20f\x20=\x20sam'+'plePos\x20-\x20t'+'exPos1;\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20the\x20Ca'+'tmull-Rom\x20'+'weights\x20us'+'ing\x20the\x20fr'+'actional\x20o'+'ffset\x20that'+'\x20we\x20calcul'+'ated\x20earli'+'er.\x0a\x20\x20\x20\x20//'+'\x20These\x20equ'+'ations\x20are'+'\x20pre-expan'+'ded\x20based\x20'+'on\x20our\x20kno'+'wledge\x20of\x20'+'where\x20the\x20'+'texels\x20wil'+'l\x20be\x20locat'+'ed,\x0a\x20\x20\x20\x20//'+'\x20which\x20let'+'s\x20us\x20avoid'+'\x20having\x20to'+'\x20evaluate\x20'+'a\x20piece-wi'+'se\x20functio'+'n.\x0a\x20\x20\x20\x20vec'+'2\x20w0\x20=\x20f\x20*'+'\x20(-0.5\x20+\x20f'+'\x20*\x20(1.0\x20-\x20'+'0.5\x20*\x20f));'+'\x0a\x20\x20\x20\x20vec2\x20'+('w1\x20=\x201.0\x20+'+'\x20f\x20*\x20f\x20*\x20('+'-2.5\x20+\x201.5'+'\x20*\x20f);\x0a\x20\x20\x20'+'\x20vec2\x20w2\x20='+'\x20f\x20*\x20(0.5\x20'+'+\x20f\x20*\x20(2.0'+'\x20-\x201.5\x20*\x20f'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20w3\x20=\x20f\x20'+'*\x20f\x20*\x20(-0.'+'5\x20+\x200.5\x20*\x20'+'f);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Work\x20out'+'\x20weighting'+'\x20factors\x20a'+'nd\x20samplin'+'g\x20offsets\x20'+'that\x20will\x20'+'let\x20us\x20use'+'\x20bilinear\x20'+'filtering\x20'+'to\x0a\x20\x20\x20\x20//\x20'+'simultaneo'+'usly\x20evalu'+'ate\x20the\x20mi'+'ddle\x202\x20sam'+'ples\x20from\x20'+'the\x204x4\x20gr'+'id.\x0a\x20\x20\x20\x20ve'+'c2\x20w12\x20=\x20w'+'1\x20+\x20w2;\x0a\x20\x20'+'\x20\x20vec2\x20off'+'set12\x20=\x20w2'+'\x20/\x20(w1\x20+\x20w'+'2);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'the\x20final\x20'+'UV\x20coordin'+'ates\x20we\x27ll'+'\x20use\x20for\x20s'+'ampling\x20th'+'e\x20texture\x0a'+'\x20\x20\x20\x20vec2\x20t'+'exPos0\x20=\x20('+'texPos1\x20-\x20'+'1.0)\x20/\x20tex'+'Size;\x0a\x20\x20\x20\x20'+'vec2\x20texPo'+'s3\x20=\x20(texP'+'os1\x20+\x202.0)'+'\x20/\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos12\x20'+'=\x20(texPos1'+'\x20+\x20offset1'+'2)\x20/\x20texSi'+'ze;\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20result'+'\x20=\x20vec4(0.'+'0);\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos0.x'+',\x20texPos0.'+'y),\x200.0)\x20*'+'\x20w0.x\x20*\x20w0'+'.y;\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos12.'+'x,\x20texPos0'+'.y),\x200.0)\x20'+'*\x20w12.x\x20*\x20'+'w0.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos3'+'.x,\x20texPos'+'0.y),\x200.0)'+'\x20*\x20w3.x\x20*\x20'+'w0.y;\x0a\x0a\x20\x20\x20'+'\x20result\x20+='+'\x20texture2D'+'Lod(tex,\x20v'+'ec2(texPos'+'0.x,\x20texPo'+'s12.y),\x200.'+'0)\x20*\x20w0.x\x20'+'*\x20w12.y;\x0a\x20'+'\x20\x20\x20result\x20'+'+=\x20texture'+'2DLod(tex,'+'\x20vec2(texP'+'os12.x,\x20te'+'xPos12.y),'+'\x200.0)\x20*\x20w1')+('2.x\x20*\x20w12.'+'y;\x0a\x20\x20\x20\x20res'+'ult\x20+=\x20tex'+'ture2DLod('+'tex,\x20vec2('+'texPos3.x,'+'\x20texPos12.'+'y),\x200.0)\x20*'+'\x20w3.x\x20*\x20w1'+'2.y;\x0a\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos0'+'.x,\x20texPos'+'3.y),\x200.0)'+'\x20*\x20w0.x\x20*\x20'+'w3.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos1'+'2.x,\x20texPo'+'s3.y),\x200.0'+')\x20*\x20w12.x\x20'+'*\x20w3.y;\x0a\x20\x20'+'\x20\x20result\x20+'+'=\x20texture2'+'DLod(tex,\x20'+'vec2(texPo'+'s3.x,\x20texP'+'os3.y),\x200.'+'0)\x20*\x20w3.x\x20'+'*\x20w3.y;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'),JA='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a#define\x20S'+'CREENSIZE\x0a'+'uniform\x20ve'+'c4\x20uScreen'+'Size;\x0a#end'+'if\x0a\x0a#ifnde'+'f\x20VIEWMATR'+'IX\x0a#define'+'\x20VIEWMATRI'+'X\x0auniform\x20'+'mat4\x20matri'+'x_view;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20LINEAR'+'IZE_DEPTH\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x20'+'//\x20x:\x201\x20/\x20'+'camera_far'+',\x20\x20\x20\x20\x20\x20y:\x20'+'camera_far'+',\x20\x20\x20\x20\x20z:\x20c'+'amera_near'+',\x20\x20\x20\x20\x20\x20\x20\x20w'+':\x20is_ortho'+'\x0a#endif\x0a\x0a#'+'define\x20LIN'+'EARIZE_DEP'+'TH\x0afloat\x20l'+'inearizeDe'+'pth(float\x20'+'z)\x20{\x0a\x20\x20\x20\x20i'+'f\x20(camera_'+'params.w\x20='+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(camera_'+'params.z\x20*'+'\x20camera_pa'+'rams.y)\x20/\x20'+'(camera_pa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'_params.z\x20'+'-\x20camera_p'+'arams.y));'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20camer'+'a_params.z'+'\x20+\x20z\x20*\x20(ca'+'mera_param'+'s.y\x20-\x20came'+'ra_params.'+'z);\x0a}\x0a#end'+'if\x20//\x20LINE'+'ARIZE_DEPT'+'H\x0a\x0afloat\x20d'+'elinearize'+'Depth(floa'+'t\x20linearDe'+'pth)\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'a_params.w'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20(cam'+'era_params'+'.y\x20*\x20(came'+'ra_params.'+'z\x20-\x20linear'+'Depth))\x20/\x20'+'(linearDep'+'th\x20*\x20(came'+'ra_params.'+'z\x20-\x20camera'+'_params.y)'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20(linearDe'+'pth\x20-\x20came'+'ra_params.'+'z)\x20/\x20(came'+'ra_params.'+'y\x20-\x20camera'+'_params.z)'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0a//\x20Retrie'+('ves\x20render'+'ed\x20linear\x20'+'camera\x20dep'+'th\x20by\x20UV\x0af'+'loat\x20getLi'+'nearScreen'+'Depth(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'ENE_DEPTHM'+'AP_LINEAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SCENE'+'_DEPTHMAP_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20textu'+'re2D(uScen'+'eDepthMap,'+'\x20uv).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ivec2'+'\x20textureSi'+'ze\x20=\x20textu'+'reSize(uSc'+'eneDepthMa'+'p,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20texel'+'\x20=\x20ivec2(u'+'v\x20*\x20vec2(t'+'extureSize'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20data\x20=\x20te'+'xelFetch(u'+'SceneDepth'+'Map,\x20texel'+',\x200);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20intBit'+'s\x20=\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.r\x20*\x20255.'+'0)\x20<<\x2024u)'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'uint(data.'+'g\x20*\x20255.0)'+'\x20<<\x2016u)\x20|'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(ui'+'nt(data.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20uint(d'+'ata.a\x20*\x2025'+'5.0);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(intBits)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20lineariz'+'eDepth(tex'+'ture2D(uSc'+'eneDepthMa'+'p,\x20uv).r);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#ifnd'+'ef\x20VERTEXS'+'HADER\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20un'+'der\x20the\x20cu'+'rrent\x20pixe'+'l\x0afloat\x20ge'+'tLinearScr'+'eenDepth()'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20gl_'+'FragCoord.'+'xy\x20*\x20uScre'+'enSize.zw;'+'\x0a\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a}\x0a'+'#endif\x0a\x0a//'+'\x20Generates'+'\x20linear\x20ca'+'mera\x20depth')+('\x20for\x20the\x20g'+'iven\x20world'+'\x20position\x0a'+'float\x20getL'+'inearDepth'+'(vec3\x20pos)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(matr'+'ix_view\x20*\x20'+'vec4(pos,\x20'+'1.0)).z;\x0a}'+'\x0a'),eE='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avoid\x20'+'fadeShadow'+'(vec4\x20shad'+'owCascadeD'+'istances)\x20'+'{\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20//\x20if\x20'+'the\x20pixel\x20'+'is\x20past\x20th'+'e\x20shadow\x20d'+'istance,\x20r'+'emove\x20shad'+'ow\x0a\x20\x20\x20\x20//\x20'+'this\x20enfor'+'ces\x20straig'+'ht\x20line\x20in'+'stead\x20of\x20c'+'orner\x20of\x20s'+'hadow\x20whic'+'h\x20moves\x20wh'+'en\x20camera\x20'+'rotates\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x201.'+'0\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20if\x20(de'+'pth\x20>\x20shad'+'owCascadeD'+'istances.w'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dShadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a}\x0a'),tE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20s'+'hadowCoord'+'.z,\x20shadow'+'Params.y,\x20'+'exponent);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potVSM$(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec4\x20sh'+'adowParams'+',\x20float\x20ex'+'ponent,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20VSM$'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord.xy'+',\x20shadowPa'+'rams.x,\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a',sE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20float\x20p'+'ixelSize\x20='+'\x201.0\x20/\x20res'+'olution;\x0a\x20'+'\x20\x20\x20texCoor'+'ds\x20-=\x20vec2'+'(pixelSize'+');\x0a\x20\x20\x20\x20vec'+'3\x20s00\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20s1'+'0\x20=\x20textur'+'e2D(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize,\x200))'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20s01\x20='+'\x20texture2D'+'(tex,\x20texC'+'oords\x20+\x20ve'+'c2(0,\x20pixe'+'lSize)).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20s11\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds\x20+\x20vec2('+'pixelSize)'+').xyz;\x0a\x20\x20\x20'+'\x20vec2\x20fr\x20='+'\x20fract(tex'+'Coords\x20*\x20r'+'esolution)'+';\x0a\x20\x20\x20\x20vec3'+'\x20h0\x20=\x20mix('+'s00,\x20s10,\x20'+'fr.x);\x0a\x20\x20\x20'+'\x20vec3\x20h1\x20='+'\x20mix(s01,\x20'+'s11,\x20fr.x)'+';\x0a\x20\x20\x20\x20vec3'+'\x20moments\x20='+'\x20mix(h0,\x20h'+'1,\x20fr.y);\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'float\x20getS'+'hadowVSM$('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M$(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Params.x,\x20'+'shadowCoor'+'d.z,\x20shado'+'wParams.y,'+'\x20exponent)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'SpotVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+('return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20l'+'ength(ligh'+'tDir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'),iE='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epth(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa'+'dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam')+('pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light')+('Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow')+('Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowPo'+'intPCSS(sa'+'mplerCube\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SSCube(sha'+'dowMap,\x20sh'+'adowParams'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'hadowSearc'+'hArea.x,\x20l'+'ightDir);\x0a'+'}\x0a\x0a#endif\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c2\x20shadowS'+'earchArea,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSS(TEXTUR'+'E_PASS(sha'+'dowMap),\x20s'+'hadowCoord'+',\x20cameraPa'+'rams,\x20shad'+'owSearchAr'+'ea);\x0a}\x0a\x0a'),rE='\x0a\x0avec3\x20get'+'ShadowSamp'+'leCoord$LI'+'GHT(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'vec3\x20surfa'+'cePosition'+'\x20=\x20worldPo'+'sition;\x0a\x0a#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'POINT\x0a\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20d'+'istScale\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sur'+'facePositi'+'on\x20=\x20surfa'+'cePosition'+'\x20+\x20normal\x20'+'*\x20shadowPa'+'rams.y\x20*\x20c'+'lamp(1.0\x20-'+'\x20dot(norma'+'l,\x20-lightD'+'irNorm),\x200'+'.0,\x201.0)\x20*'+'\x20distScale'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'lightDir\x20='+'\x20surfacePo'+'sition\x20-\x20l'+'ightPos;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20#e'+'ndif\x0a#else'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dist'+'Scale\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20distSca'+'le\x20=\x20abs(d'+'ot(vPositi'+'onW\x20-\x20ligh'+'tPos,\x20ligh'+'tDirNorm))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20surface'+'Position\x20='+'\x20surfacePo'+('sition\x20+\x20n'+'ormal\x20*\x20sh'+'adowParams'+'.y\x20*\x20clamp'+'(1.0\x20-\x20dot'+'(normal,\x20-'+'lightDirNo'+'rm),\x200.0,\x20'+'1.0)\x20*\x20dis'+'tScale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20positi'+'onInShadow'+'Space\x20=\x20sh'+'adowTransf'+'orm\x20*\x20vec4'+'(surfacePo'+'sition,\x201.'+'0);\x0a\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_O'+'RTHO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20positio'+'nInShadowS'+'pace.z\x20=\x20s'+'aturate(po'+'sitionInSh'+'adowSpace.'+'z)\x20-\x200.000'+'1;\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/=\x20pos'+'itionInSha'+'dowSpace.w'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20positi'+'onInShadow'+'Space.z\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SHADOW_'+'SAMPLE_Z_B'+'IAS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.z\x20+=\x20g'+'etShadowBi'+'as(shadowP'+'arams.x,\x20s'+'hadowParam'+'s.z);\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20surfa'+'cePosition'+';\x0a}\x0a'),nE='\x0a\x0a/**\x0a\x20*\x20S'+'oft\x20direct'+'ional\x20shad'+'ows\x20PCSS\x20-'+'\x20with\x20and\x20'+'without\x20bl'+'ocker\x20sear'+'ch.\x0a\x20*/\x0a\x0ah'+'ighp\x20float'+'\x20fractSinR'+'and(\x20const'+'\x20in\x20vec2\x20u'+'v\x20)\x20{\x0a\x20\x20\x20\x20'+'const\x20high'+'p\x20float\x20a\x20'+'=\x2012.9898,'+'\x20b\x20=\x2078.23'+'3,\x20c\x20=\x20437'+'58.5453;\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20dt\x20=\x20'+'dot(uv.xy,'+'\x20vec2(a,\x20b'+')),\x20sn\x20=\x20m'+'od(dt,\x20PI)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20fract(s'+'in(sn)\x20*\x20c'+');\x0a}\x0a\x0a//\x20s'+'truct\x20to\x20h'+'old\x20precom'+'puted\x20cons'+'tants\x20and\x20'+'current\x20st'+'ate\x0astruct'+'\x20PoissonDi'+'skData\x20{\x0a\x20'+'\x20\x20\x20float\x20i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20fl'+'oat\x20angleS'+'tep;\x0a\x20\x20\x20\x20f'+'loat\x20initi'+'alAngle;\x0a\x20'+'\x20\x20\x20float\x20c'+'urrentRadi'+'us;\x0a\x20\x20\x20\x20fl'+'oat\x20curren'+'tAngle;\x0a};'+'\x0a\x0a//\x20prepa'+'re\x20the\x20Poi'+'sson\x20disk\x20'+'constants\x20'+'and\x20initia'+'lize\x20the\x20c'+'urrent\x20sta'+'te\x20in\x20the\x20'+'struct\x0avoi'+'d\x20prepareP'+'oissonCons'+'tants(out\x20'+'PoissonDis'+'kData\x20data'+',\x20int\x20samp'+'leCount,\x20i'+'nt\x20numRing'+'s,\x20float\x20r'+'andomSeed)'+'\x20{\x0a\x20\x20\x20\x20con'+'st\x20float\x20p'+'i2\x20=\x206.283'+'18530718;\x0a'+'\x20\x20\x20\x20data.i'+'nvNumSampl'+'es\x20=\x201.0\x20/'+'\x20float(sam'+'pleCount);'+'\x0a\x20\x20\x20\x20data.'+'angleStep\x20'+'=\x20pi2\x20*\x20fl'+'oat(numRin'+'gs)\x20*\x20data'+'.invNumSam'+'ples;\x0a\x20\x20\x20\x20'+'data.initi'+'alAngle\x20=\x20'+'randomSeed'+'\x20*\x20pi2;\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20=\x20data.in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20dat'+'a.currentA'+'ngle\x20=\x20dat'+'a.initialA'+'ngle;\x0a}\x0a\x0a/'+'/\x20generate'+'\x20a\x20Poisson'+'\x20sample\x20us'+('ing\x20the\x20pr'+'ecomputed\x20'+'struct\x0avec'+'2\x20generate'+'PoissonSam'+'ple(inout\x20'+'PoissonDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20offset\x20'+'=\x20vec2(cos'+'(data.curr'+'entAngle),'+'\x20sin(data.'+'currentAng'+'le))\x20*\x20pow'+'(data.curr'+'entRadius,'+'\x200.75);\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20+=\x20data.i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20da'+'ta.current'+'Angle\x20+=\x20d'+'ata.angleS'+'tep;\x0a\x20\x20\x20\x20r'+'eturn\x20offs'+'et;\x0a}\x0a\x0avoi'+'d\x20PCSSFind'+'Blocker(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20out\x20f'+'loat\x20avgBl'+'ockerDepth'+',\x20out\x20int\x20'+'numBlocker'+'s,\x0a\x20\x20\x20\x20vec'+'2\x20shadowCo'+'ords,\x20floa'+'t\x20z,\x20int\x20s'+'hadowBlock'+'erSamples,'+'\x20float\x20pen'+'umbraSize,'+'\x20float\x20inv'+'ShadowMapS'+'ize,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'PoissonDis'+'kData\x20pois'+'sonData;\x0a\x20'+'\x20\x20\x20prepare'+'PoissonCon'+'stants(poi'+'ssonData,\x20'+'shadowBloc'+'kerSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'searchWidt'+'h\x20=\x20penumb'+'raSize\x20*\x20i'+'nvShadowMa'+'pSize;\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckerSum\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20n'+'umBlockers'+'\x20=\x200;\x0a\x0a\x20\x20\x20'+'\x20for(\x20int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20shadowBlo'+'ckerSample'+'s;\x20++i\x20)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20poisso'+'nUV\x20=\x20gene'+'ratePoisso'+'nSample(po'+'issonData)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20sampl'+'eUV\x20=\x20shad'+'owCoords\x20+'+'\x20poissonUV'+'\x20*\x20searchW'+'idth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowMapD'+'epth\x20=\x20tex'+'ture2DLod('+'shadowMap,'+'\x20sampleUV,'+'\x200.0).r;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20')+('(\x20shadowMa'+'pDepth\x20<\x20z'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20blo'+'ckerSum\x20+='+'\x20shadowMap'+'Depth;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20n'+'umBlockers'+'++;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20avgBlo'+'ckerDepth\x20'+'=\x20blockerS'+'um\x20/\x20float'+'(numBlocke'+'rs);\x0a}\x0a\x0afl'+'oat\x20PCSSFi'+'lter(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec2\x20uv,'+'\x20float\x20rec'+'eiverDepth'+',\x20int\x20shad'+'owSamples,'+'\x20float\x20fil'+'terRadius,'+'\x20float\x20ran'+'domSeed)\x20{'+'\x0a\x20\x0a\x20\x20\x20\x20Poi'+'ssonDiskDa'+'ta\x20poisson'+'Data;\x0a\x20\x20\x20\x20'+'preparePoi'+'ssonConsta'+'nts(poisso'+'nData,\x20sha'+'dowSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'sum\x20=\x200.0f'+';\x0a\x20\x20\x20\x20for\x20'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowSamples'+';\x20++i\x20)\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20poi'+'ssonUV\x20=\x20g'+'eneratePoi'+'ssonSample'+'(poissonDa'+'ta);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sa'+'mpleUV\x20=\x20u'+'v\x20+\x20poisso'+'nUV\x20*\x20filt'+'erRadius;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20depth\x20'+'=\x20texture2'+'DLod(shado'+'wMap,\x20samp'+'leUV,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sum\x20+=\x20s'+'tep(receiv'+'erDepth,\x20d'+'epth);\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20ret'+'urn\x20sum\x20/\x20'+'float(shad'+'owSamples)'+';\x0a}\x20\x0a\x0afloa'+'t\x20getPenum'+'bra(float\x20'+'dblocker,\x20'+'float\x20drec'+'eiver,\x20flo'+'at\x20penumbr'+'aSize,\x20flo'+'at\x20penumbr'+'aFalloff)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20dist\x20=\x20d'+'receiver\x20-'+'\x20dblocker;'+'\x0a\x20\x20\x20\x20float'+'\x20penumbra\x20'+'=\x201.0\x20-\x20po'+'w(1.0\x20-\x20di'+'st,\x20penumb'+'raFalloff)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20penumbr'+'a\x20*\x20penumb'+'raSize;\x0a}\x0a'+'\x0afloat\x20PCS')+('SDirection'+'al(TEXTURE'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoords,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'shadowCoor'+'ds.z;\x0a\x20\x20\x20\x20'+'float\x20rand'+'omSeed\x20=\x20f'+'ractSinRan'+'d(gl_FragC'+'oord.xy);\x0a'+'\x20\x20\x20\x20int\x20sh'+'adowSample'+'s\x20=\x20int(so'+'ftShadowPa'+'rams.x);\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowBlocker'+'Samples\x20=\x20'+'int(softSh'+'adowParams'+'.y);\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'braSize\x20=\x20'+'softShadow'+'Params.z;\x0a'+'\x20\x20\x20\x20float\x20'+'penumbraFa'+'lloff\x20=\x20so'+'ftShadowPa'+'rams.w;\x0a\x0a\x20'+'\x20\x20\x20//\x20norm'+'alized\x20inv'+'erse\x20shado'+'w\x20map\x20size'+'\x20to\x20preser'+'ve\x20the\x20sha'+'dow\x20softne'+'ss\x20regardl'+'ess\x20of\x20the'+'\x20shadow\x20re'+'solution\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowMapSize'+'\x20=\x20texture'+'Size(shado'+'wMap,\x200).x'+';\x0a\x20\x20\x20\x20floa'+'t\x20invShado'+'wMapSize\x20='+'\x201.0\x20/\x20flo'+'at(shadowM'+'apSize);\x0a\x20'+'\x20\x20\x20invShad'+'owMapSize\x20'+'*=\x20float(s'+'hadowMapSi'+'ze)\x20/\x202048'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'bra;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20avgBl'+'ockerDepth'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'numBlocker'+'s\x20=\x200;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20PCSSF'+'indBlocker'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20avgB'+'lockerDept'+'h,\x20numBloc'+'kers,\x20shad'+'owCoords.x'+'y,\x20receive'+'rDepth,\x20sh'+'adowBlocke'+'rSamples,\x20')+('penumbraSi'+'ze,\x20invSha'+'dowMapSize'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ear'+'ly\x20out\x20whe'+'n\x20no\x20block'+'ers\x20are\x20pr'+'esent\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(nu'+'mBlockers\x20'+'<\x201)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x201.0f;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20penumbra'+'\x20size\x20is\x20b'+'ased\x20on\x20th'+'e\x20blocker\x20'+'depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20getPe'+'numbra(avg'+'BlockerDep'+'th,\x20shadow'+'Coords.z,\x20'+'penumbraSi'+'ze,\x20penumb'+'raFalloff)'+';\x0a\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nstant\x20fil'+'ter\x20size,\x20'+'no\x20contact'+'\x20hardening'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'penumbraSi'+'ze;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20filterRad'+'ius\x20=\x20penu'+'mbra\x20*\x20inv'+'ShadowMapS'+'ize;\x0a\x0a\x20\x20\x20\x20'+'//\x20filteri'+'ng\x0a\x20\x20\x20\x20ret'+'urn\x20PCSSFi'+'lter(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowSa'+'mples,\x20fil'+'terRadius,'+'\x20randomSee'+'d);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCSS(TEX'+'TURE_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec4\x20came'+'raParams,\x20'+'vec4\x20softS'+'hadowParam'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20PCSSDirec'+'tional(TEX'+'TURE_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP'+'arams);\x0a}\x0a'+'\x0a'),aE='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x0a\x20\x20\x20'+'\x20base_uv\x20-'+'=\x20vec2(0.5'+');\x0a\x20\x20\x20\x20bas'+'e_uv\x20*=\x20sh'+'adowMapSiz'+'eInv;\x0a\x0a\x20\x20\x20'+'\x20float\x20sum'+'\x20=\x200.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'w0\x20=\x20(3.0\x20'+'-\x202.0\x20*\x20s)'+';\x0a\x20\x20\x20\x20floa'+'t\x20uw1\x20=\x20(1'+'.0\x20+\x202.0\x20*'+'\x20s);\x0a\x0a\x20\x20\x20\x20'+'float\x20u0\x20='+'\x20(2.0\x20-\x20s)'+'\x20/\x20uw0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20u1\x20=\x20s'+'\x20/\x20uw1\x20+\x201'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20vw0\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20float\x20vw'+'1\x20=\x20(1.0\x20+'+'\x202.0\x20*\x20t);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20v0\x20=\x20(2.'+'0\x20-\x20t)\x20/\x20v'+'w0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20float\x20'+'v1\x20=\x20t\x20/\x20v'+'w1\x20+\x201.0;\x0a'+'\x0a\x20\x20\x20\x20u0\x20=\x20'+'u0\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'0\x20=\x20v0\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20u1\x20=\x20u'+'1\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20v1'+'\x20=\x20v1\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw0\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v0,\x20'+'z));\x0a\x20\x20\x20\x20s'+('um\x20+=\x20uw1\x20'+'*\x20vw0\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v0,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw0\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u0,\x20v1'+',\x20z));\x0a\x20\x20\x20'+'\x20sum\x20+=\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSha'+'dow(shadow'+'Map,\x20vec3('+'u1,\x20v1,\x20z)'+');\x0a\x0a\x20\x20\x20\x20su'+'m\x20*=\x201.0f\x20'+'/\x2016.0;\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF3x3(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F3x3(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado'+'wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF3'+'x3(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowPCF1'+'x1(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20textureS'+'hadow(shad'+'owMap,\x20sha'+'dowCoord);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20shadow'+'Coord);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a#ifndef\x20W'+'EBGPU\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh')+('adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict'+'\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wPointPCF1'+'x1(sampler'+'CubeShadow'+'\x20shadowMap'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(lightDi'+'r,\x20shadowZ'+'));\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec3\x20sh'+'adowCoord,')+('\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPoi'+'ntPCF3x3(s'+'hadowMap,\x20'+'shadowPara'+'ms,\x20lightD'+'ir);\x0a}\x0a\x0a#e'+'ndif\x0a'),oE='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF5x5(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad')+('owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a'),lE='\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+'\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+('01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a'),hE='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0au'+'niform\x20vec'+'4\x20texture_'+'poseMapSiz'+'e;\x0a\x0amat4\x20g'+'etBoneMatr'+'ix(const\x20i'+'n\x20float\x20i)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20j\x20=\x20i\x20*'+'\x203.0;\x0a\x20\x20\x20\x20'+'float\x20dx\x20='+'\x20texture_p'+'oseMapSize'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20dy\x20=\x20t'+'exture_pos'+'eMapSize.w'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20y\x20=\x20flo'+'or(j\x20*\x20dx)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20j\x20-\x20'+'(y\x20*\x20textu'+'re_poseMap'+'Size.x);\x0a\x20'+'\x20\x20\x20y\x20=\x20dy\x20'+'*\x20(y\x20+\x200.5'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20elem'+'ents\x20of\x204x'+'3\x20matrix\x0a\x20'+'\x20\x20\x20vec4\x20v1'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x200.5),'+'\x20y));\x0a\x20\x20\x20\x20'+'vec4\x20v2\x20=\x20'+'texture2D('+'texture_po'+'seMap,\x20vec'+'2(dx\x20*\x20(x\x20'+'+\x201.5),\x20y)'+');\x0a\x20\x20\x20\x20vec'+'4\x20v3\x20=\x20tex'+'ture2D(tex'+'ture_poseM'+'ap,\x20vec2(d'+'x\x20*\x20(x\x20+\x202'+'.5),\x20y));\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',cE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0aunifor'+'m\x20vec4\x20tex'+'ture_poseM'+'apSize;\x0a\x0av'+'oid\x20getBon'+'eMatrix(co'+'nst\x20in\x20flo'+'at\x20index,\x20'+'out\x20vec4\x20v'+'1,\x20out\x20vec'+'4\x20v2,\x20out\x20'+'vec4\x20v3)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20i\x20=\x20floa'+'t(index);\x0a'+'\x20\x20\x20\x20float\x20'+'j\x20=\x20i\x20*\x203.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20dx\x20=\x20te'+'xture_pose'+'MapSize.z;'+'\x0a\x20\x20\x20\x20float'+'\x20dy\x20=\x20text'+'ure_poseMa'+'pSize.w;\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20fl'+'oat\x20y\x20=\x20fl'+'oor(j\x20*\x20dx'+');\x0a\x20\x20\x20\x20flo'+'at\x20x\x20=\x20j\x20-'+'\x20(y\x20*\x20text'+'ure_poseMa'+'pSize.x);\x0a'+'\x20\x20\x20\x20y\x20=\x20dy'+'\x20*\x20(y\x20+\x200.'+'5);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20ele'+'ments\x20of\x204'+'x3\x20matrix\x0a'+'\x20\x20\x20\x20v1\x20=\x20t'+'exture2D(t'+'exture_pos'+'eMap,\x20vec2'+'(dx\x20*\x20(x\x20+'+'\x200.5),\x20y))'+';\x0a\x20\x20\x20\x20v2\x20='+'\x20texture2D'+'(texture_p'+'oseMap,\x20ve'+'c2(dx\x20*\x20(x'+'\x20+\x201.5),\x20y'+'));\x0a\x20\x20\x20\x20v3'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x202.5),'+'\x20y));\x0a}\x0a\x0am'+'at4\x20getSki'+'nMatrix(co'+'nst\x20in\x20vec'+'4\x20indices,'+'\x20const\x20in\x20'+'vec4\x20weigh'+'ts)\x20{\x0a\x20\x20\x20\x20'+'//\x20get\x204\x20b'+'one\x20matric'+'es\x0a\x20\x20\x20\x20vec'+'4\x20a1,\x20a2,\x20'+'a3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(indices.'+'x,\x20a1,\x20a2,'+'\x20a3);\x0a\x0a\x20\x20\x20'+'\x20vec4\x20b1,\x20'+'b2,\x20b3;\x0a\x20\x20'+'\x20\x20getBoneM'+'atrix(indi'+'ces.y,\x20b1,'+'\x20b2,\x20b3);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'c1,\x20c2,\x20c3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'indices.z,'+'\x20c1,\x20c2,\x20c'+'3);\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20d1,\x20d2'+',\x20d3;\x0a\x20\x20\x20\x20'+('getBoneMat'+'rix(indice'+'s.w,\x20d1,\x20d'+'2,\x20d3);\x0a\x0a\x20'+'\x20\x20\x20//\x20mult'+'iply\x20them\x20'+'by\x20weights'+'\x20and\x20add\x20u'+'p\x20to\x20get\x20f'+'inal\x204x3\x20m'+'atrix\x0a\x20\x20\x20\x20'+'vec4\x20v1\x20=\x20'+'a1\x20*\x20weigh'+'ts.x\x20+\x20b1\x20'+'*\x20weights.'+'y\x20+\x20c1\x20*\x20w'+'eights.z\x20+'+'\x20d1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20vec4\x20v2\x20='+'\x20a2\x20*\x20weig'+'hts.x\x20+\x20b2'+'\x20*\x20weights'+'.y\x20+\x20c2\x20*\x20'+'weights.z\x20'+'+\x20d2\x20*\x20wei'+'ghts.w;\x0a\x20\x20'+'\x20\x20vec4\x20v3\x20'+'=\x20a3\x20*\x20wei'+'ghts.x\x20+\x20b'+'3\x20*\x20weight'+'s.y\x20+\x20c3\x20*'+'\x20weights.z'+'\x20+\x20d3\x20*\x20we'+'ights.w;\x0a\x0a'+'\x20\x20\x20\x20//\x20add'+'\x20up\x20weight'+'s\x0a\x20\x20\x20\x20floa'+'t\x20one\x20=\x20do'+'t(weights,'+'\x20vec4(1.0)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20transpose'+'\x20to\x204x4\x20ma'+'trix\x0a\x20\x20\x20\x20r'+'eturn\x20mat4'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.x,\x20v2.x'+',\x20v3.x,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.y,\x20v2.y,'+'\x20v3.y,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.z,\x20v2.z,\x20'+'v3.z,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'w,\x20v2.w,\x20v'+'3.w,\x20one\x0a\x20'+'\x20\x20\x20);\x0a}\x0a'),dE='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22envMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20var'+'ying\x20vec3\x20'+'vViewDir;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20float\x20sk'+'yboxHighli'+'ghtMultipl'+'ier;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'_CUBEMAP\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20vWorld'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat3\x20'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20pr'+'ojectedSky'+'domeCenter'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20env-atlas'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_en'+'vAtlas;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'mipLevel;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKY_CUBEM'+'AP\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SKYMESH'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20get\x20vecto'+'r\x20from\x20wor'+'ld\x20space\x20p'+'os\x20to\x20trip'+'od\x20origin\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20envDir\x20=\x20'+'normalize('+'vWorldPos\x20'+'-\x20projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20envDir'+'\x20*\x20cubeMap'+'RotationMa'+'trix;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dir'+'\x20=\x20vViewDi'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dir.'+'x\x20*=\x20-1.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20__I'+'NJECT_SKYB'+('OX_DECODE_'+'FNC(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20vViewDir'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20toS'+'phericalUv'+'(normalize'+'(dir));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20line'+'ar\x20=\x20__INJ'+'ECT_SKYBOX'+'_DECODE_FN'+'C(texture2'+'D(texture_'+'envAtlas,\x20'+'mapRoughne'+'ssUv(uv,\x20m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'our\x20HDR\x20en'+'codes\x20valu'+'es\x20up\x20to\x206'+'4,\x20so\x20allo'+'w\x20extra\x20br'+'ightness\x20f'+'or\x20the\x20cli'+'pped\x20value'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(any(gr'+'eaterThanE'+'qual(linea'+'r,\x20vec3(64'+'.0))))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20linear\x20*='+'\x20skyboxHig'+'hlightMult'+'iplier;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x20\x20\x20\x20}\x0a'),uE='\x0aattribute'+'\x20vec3\x20aPos'+'ition;\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a#de'+'fine\x20VIEWM'+'ATRIX\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'t4\x20matrix_'+'projection'+'Skybox;\x0aun'+'iform\x20mat3'+'\x20cubeMapRo'+'tationMatr'+'ix;\x0a\x0avaryi'+'ng\x20vec3\x20vV'+'iewDir;\x0a\x0a#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_mo'+'del;\x0a\x20\x20\x20\x20v'+'arying\x20vec'+'3\x20vWorldPo'+'s;\x0a#endif\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x0a'+'\x20\x20\x20\x20mat4\x20v'+'iew\x20=\x20matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4\x20worldPo'+'s\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'WorldPos\x20='+'\x20worldPos.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20mat'+'rix_projec'+'tionSkybox'+'\x20*\x20view\x20*\x20'+'worldPos;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20view\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ViewDir\x20=\x20'+'aPosition\x20'+'*\x20cubeMapR'+'otationMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Force'+'\x20skybox\x20to'+'\x20far\x20Z,\x20re'+'gardless\x20o'+'f\x20the\x20clip'+'\x20planes\x20on'+'\x20the\x20camer'+'a\x0a\x20\x20\x20\x20//\x20S'+'ubtract\x20a\x20'+'tiny\x20fudge'+'\x20factor\x20to'+'\x20ensure\x20fl'+'oating\x20poi'+'nt\x20errors\x20'+'don\x27t\x0a\x20\x20\x20\x20'+'//\x20still\x20p'+'ush\x20pixels'+'\x20beyond\x20fa'+'r\x20Z.\x20See:\x0a'+'\x20\x20\x20\x20//\x20htt'+'ps://commu'+'nity.khron'+'os.org/t/s'+'kybox-prob'+'lem/61857\x0a'+'\x0a\x20\x20\x20\x20gl_Po'+'sition.z\x20='+'\x20gl_Positi'+('on.w\x20-\x201.0'+'e-7;\x0a}\x0a'),fE='\x0a\x0a#ifdef\x20M'+'APCOLOR\x0aun'+'iform\x20vec3'+'\x20material_'+'specular;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularity()\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20specularC'+'olor\x20=\x20vec'+'3(1,1,1);\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPCOLOR'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20material'+'_specular;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20$DEC'+'ODE(textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias)).$CH'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPVE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20specu'+'larColor;\x0a'+'}\x0a',pE='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0acon'+'st\x20float\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+'\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'Uv(vec3\x20di'+'r)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'(dir)\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20re'+'turn\x20vec2('+'uv.x,\x201.0\x20'+'-\x20uv.y);\x0a}'+'\x0a',mE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_speculari'+'tyFactor;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularityFac'+'tor()\x20{\x0a\x20\x20'+'\x20\x20float\x20sp'+'ecularityF'+'actor\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larityFact'+'or\x20*=\x20text'+'ure2DBias('+'$SAMPLER,\x20'+'$UV,\x20textu'+'reBias).$C'+'H;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPV'+'ERTEX\x0a\x20\x20\x20\x20'+'specularit'+'yFactor\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularityFac'+'tor\x20=\x20spec'+'ularityFac'+'tor;\x0a}\x0a',_E='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',gE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4(0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20vec3(0'+');\x0a\x20\x20\x20\x20ccR'+'eflection\x20'+'=\x20vec3(0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a',yE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20get'+'Position()'+';\x0a',xE='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vUv0;\x0a\x20\x20\x20\x20'+'nineSliced'+'Uv.y\x20=\x201.0'+'\x20-\x20nineSli'+'cedUv.y;\x0a\x0a',SE='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',vE='\x0afloat\x20exp'+'onent\x20=\x20VS'+'M_EXPONENT'+';\x0a\x0adepth\x20='+'\x202.0\x20*\x20dep'+'th\x20-\x201.0;\x0a'+'depth\x20=\x20\x20e'+'xp(exponen'+'t\x20*\x20depth)'+';\x0agl_FragC'+'olor\x20=\x20vec'+'4(depth,\x20d'+'epth*depth'+',\x201.0,\x201.0'+');\x0a',bE='\x0avec3\x20getT'+'angent()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a}'+'\x0a\x0avec3\x20get'+'Binormal()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'vNormalW,\x20'+'vTangentW)'+'\x20*\x20vertex_'+'tangent.w;'+'\x0a}\x0a',wE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dTBN\x20=\x20ma'+'t3(normali'+'ze(tangent'+'),\x20normali'+'ze(binorma'+'l),\x20normal'+'ize(normal'+'));\x0a}\x0a',TE='\x0auniform\x20f'+'loat\x20tbnBa'+'sis;\x0a\x0a//\x20h'+'ttp://www.'+'thetenthpl'+'anet.de/ar'+'chives/118'+'0\x0avoid\x20get'+'TBN(vec3\x20t'+'angent,\x20ve'+'c3\x20binorma'+'l,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20$UV;\x0a\x0a\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20ve'+'c3\x20dp1\x20=\x20d'+'Fdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20vec3\x20dp'+'2\x20=\x20dFdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20vec2'+'\x20duv2\x20=\x20dF'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20so'+'lve\x20the\x20li'+'near\x20syste'+'m\x0a\x20\x20\x20\x20vec3'+'\x20dp2perp\x20='+'\x20cross(\x20dp'+'2,\x20normal\x20'+');\x0a\x20\x20\x20\x20vec'+'3\x20dp1perp\x20'+'=\x20cross(\x20n'+'ormal,\x20dp1'+'\x20);\x0a\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20B\x20=\x20dp2'+'perp\x20*\x20duv'+'1.y\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.y;\x0a\x0a\x20\x20\x20\x20/'+'/\x20construc'+'t\x20a\x20scale-'+'invariant\x20'+'frame\x0a\x20\x20\x20\x20'+'float\x20deno'+'m\x20=\x20max(\x20d'+'ot(T,T),\x20d'+'ot(B,B)\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20invmax\x20=\x20'+'(denom\x20==\x20'+'0.0)\x20?\x200.0'+'\x20:\x20tbnBasi'+'s\x20/\x20sqrt(\x20'+'denom\x20);\x0a\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'}\x0a',AE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20cross(nor'+'mal,\x20vObje'+'ctSpaceUpW'+');\x0a\x20\x20\x20\x20vec'+'3\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(dot(B,B'+')==0.0)\x20//'+'\x20deal\x20with'+'\x20case\x20when'+'\x20vObjectSp'+'aceUpW\x20nor'+'mal\x20are\x20pa'+'rallel\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20maj'+'or=max(max'+'(normal.x,'+'\x20normal.y)'+',\x20normal.z'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'1,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.y\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'0,1));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.z\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(1,'+'0,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'dTBN\x20=\x20mat'+'3(normaliz'+'e(T),\x20norm'+'alize(B),\x20'+'normalize('+'normal));\x0a'+'}\x0a',EE='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'thickness;'+'\x0a#endif\x0a\x0av'+'oid\x20getThi'+'ckness()\x20{'+'\x0a\x20\x20\x20\x20dThic'+'kness\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20material'+'_thickness'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'dThickness'+'\x20*=\x20textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias).$CH;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.$VC);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',CE='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',ME='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',PE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',RE='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',IE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',DE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',LE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',FE='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',OE='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20vec4'+'(vertex_te'+'xCoord1.xy'+'\x20*\x202.0\x20-\x201'+'.0,\x200.5,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.y\x20*=\x20-1'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20sc'+'reenPos.y\x20'+'*=\x20project'+'ionFlipY;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'IXELSNAP\x0a\x20'+'\x20\x20\x20//\x20snap'+'\x20vertex\x20to'+'\x20a\x20pixel\x20b'+'oundary\x0a\x20\x20'+'\x20\x20screenPo'+'s.xy\x20=\x20(sc'+'reenPos.xy'+'\x20*\x200.5)\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20s'+'creenPos.x'+'y\x20*=\x20uScre'+'enSize.xy;'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20*='+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20screenPos'+'.xy\x20=\x20(scr'+'eenPos.xy\x20'+'*\x202.0)\x20-\x201'+'.0;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}'+'\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),kE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat3'+'\x20matrix_no'+'rmal;\x0a\x0a#if'+'def\x20MORPHI'+'NG\x0a\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'morph_tex_'+'params;\x0a\x20\x20'+'\x20\x20attribut'+'e\x20uint\x20mor'+'ph_vertex_'+'id;\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20getTe'+'xtureMorph'+'Coords()\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20turn\x20mo'+'rph_vertex'+'_id\x20into\x20i'+'nt\x20grid\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20iv'+'ec2\x20textur'+'eSize\x20=\x20iv'+'ec2(morph_'+'tex_params'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20int\x20morph'+'GridV\x20=\x20in'+'t(morph_ve'+'rtex_id)\x20/'+'\x20textureSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20mo'+'rphGridU\x20='+'\x20int(morph'+'_vertex_id'+')\x20-\x20(morph'+'GridV\x20*\x20te'+'xtureSize.'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20W'+'EBGPU\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20flipY\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20m'+'orphGridV\x20'+'=\x20textureS'+'ize.y\x20-\x20mo'+'rphGridV\x20-'+'\x201;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20ivec2('+'morphGridU'+',\x20morphGri'+'dV);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MORPHIN'+'G_POSITION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec3\x20aabbSi'+'ze;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20us'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20mor'+'phPosition'+'Tex;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20defi'+'ned(BATCH)'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22skinB'+'atchVS\x22\x0a\x0a\x20'+('\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#elif\x20'+'defined(SK'+'IN)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inVS\x22\x0a\x0a\x20\x20\x20'+'\x20mat4\x20getM'+'odelMatrix'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'matrix_mod'+'el\x20*\x20getSk'+'inMatrix(v'+'ertex_bone'+'Indices,\x20v'+'ertex_bone'+'Weights);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#el'+'if\x20defined'+'(INSTANCIN'+'G)\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22tr'+'ansformIns'+'tancingVS\x22'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel;\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getL'+'ocalPositi'+'on(vec3\x20ve'+'rtexPositi'+'on)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lPos\x20=\x20ver'+'texPositio'+'n;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphPos\x20=\x20'+'vec3(texel'+'Fetch(morp'+'hPositionT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz)\x20/\x20'+'65535.0\x20*\x20'+'aabbSize\x20+'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20texelFet'+'ch(morphPo'+'sitionTex,'+'\x20ivec2(mor'+'phUV),\x200).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos\x20+='+'\x20morphPos;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Pos;\x0a}\x0a\x0a'),BE='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',NE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_refractio'+'n;\x0a#endif\x0a'+'\x0avoid\x20getR'+'efraction('+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20refrac'+'tion\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPFLO'+'AT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20r'+'efraction\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ref'+'raction\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dTran'+'smission\x20='+'\x20refractio'+'n;\x0a}\x0a',zE='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',UE='\x0a#ifdef\x20NI'+'NESLICED\x0av'+'ec2\x20getUv0'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20v'+'ertex_posi'+'tion.xz;\x0a\x0a'+'\x20\x20\x20\x20//\x20off'+'set\x20inner\x20'+'vertices\x20i'+'nside\x0a\x20\x20\x20\x20'+'//\x20(origin'+'al\x20vertice'+'s\x20must\x20be\x20'+'in\x20[-1;1]\x20'+'range)\x0a\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'vec2\x20negat'+'iveUnitOff'+'set\x20=\x20clam'+'p(-vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'uv\x20+=\x20(-po'+'sitiveUnit'+'Offset\x20*\x20i'+'nnerOffset'+'.xy\x20+\x20nega'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.z'+'w)\x20*\x20verte'+'x_texCoord'+'0.xy;\x0a\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x0a\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20uv;\x0a}\x0a#e'+'lse\x0avec2\x20g'+'etUv0()\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vertex_te'+'xCoord0;\x0a}'+'\x0a#endif\x0a',VE='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',GE='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',HE='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tViewNorma'+'l()\x20{\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(matrix_v'+'iew)\x20*\x20vNo'+'rmalW;\x0a}\x0a',X={'alphaTestPS':hw,'ambientConstantPS':cw,'ambientEnvPS':dw,'ambientSHPS':uw,'aoPS':fw,'aoDetailMapPS':pw,'aoDiffuseOccPS':mw,'aoSpecOccPS':_w,'aoSpecOccConstPS':gw,'aoSpecOccConstSimplePS':yw,'aoSpecOccSimplePS':xw,'basePS':Sw,'baseVS':vw,'baseNineSlicedPS':bw,'baseNineSlicedVS':ww,'baseNineSlicedTiledPS':Tw,'bayerPS':Aw,'blurVSMPS':Ew,'clearCoatPS':Cw,'clearCoatGlossPS':Mw,'clearCoatNormalPS':Pw,'clusteredLightCookiesPS':Iw,'clusteredLightShadowsPS':Dw,'clusteredLightUtilsPS':Rw,'clusteredLightPS':Lw,'combinePS':Fw,'cookiePS':Ow,'cubeMapProjectBoxPS':kw,'cubeMapProjectNonePS':Bw,'cubeMapRotatePS':Nw,'debugOutputPS':zw,'debugProcessFrontendPS':Uw,'detailModesPS':Vw,'diffusePS':Gw,'diffuseDetailMapPS':Hw,'decodePS':S0,'emissivePS':Ww,'encodePS':v0,'endPS':$w,'endVS':qw,'envAtlasPS':Xw,'envConstPS':jw,'envMultiplyPS':Yw,'falloffInvSquaredPS':Kw,'falloffLinearPS':Zw,'floatUnpackingPS':Qw,'floatAsUintPS':Jw,'fogPS':eT,'fresnelSchlickPS':tT,'fullscreenQuadPS':sT,'fullscreenQuadVS':iT,'gammaPS':rT,'gles3PS':Jy,'gles3VS':e0,'glossPS':nT,'gsplatCenterVS':aT,'gsplatCornerVS':dT,'gsplatColorVS':oT,'gsplatCommonVS':lT,'gsplatCompressedDataVS':hT,'gsplatCompressedSHVS':cT,'gsplatDataVS':uT,'gsplatOutputVS':fT,'gsplatPS':pT,'gsplatSHVS':mT,'gsplatSourceVS':_T,'gsplatVS':gT,'iridescenceDiffractionPS':yT,'iridescencePS':xT,'iridescenceThicknessPS':ST,'iorPS':vT,'lightDiffuseLambertPS':bT,'lightDirPointPS':wT,'lightmapAddPS':TT,'lightmapDirAddPS':AT,'lightmapDirPS':ET,'lightmapSinglePS':CT,'lightSpecularAnisoGGXPS':MT,'lightSpecularBlinnPS':PT,'lightSheenPS':RT,'linearizeDepthPS':IT,'litShaderArgsPS':DT,'ltcPS':LT,'metalnessPS':FT,'metalnessModulatePS':kT,'msdfPS':OT,'msdfVS':BT,'normalVS':NT,'normalCoreVS':zT,'normalDetailMapPS':UT,'normalMapPS':VT,'normalXYPS':GT,'normalXYZPS':HT,'opacityPS':WT,'opacityDitherPS':$T,'outputPS':qT,'outputAlphaPS':XT,'outputAlphaOpaquePS':jT,'outputAlphaPremulPS':YT,'outputTex2DPS':KT,'sheenPS':ZT,'sheenGlossPS':QT,'parallaxPS':JT,'particlePS':eA,'particleVS':tA,'particleAnimFrameClampVS':sA,'particleAnimFrameLoopVS':iA,'particleAnimTexVS':rA,'particleInputFloatPS':nA,'particleInputRgba8PS':aA,'particleOutputFloatPS':oA,'particleOutputRgba8PS':lA,'particleUpdaterAABBPS':hA,'particleUpdaterEndPS':cA,'particleUpdaterInitPS':dA,'particleUpdaterNoRespawnPS':uA,'particleUpdaterOnStopPS':fA,'particleUpdaterRespawnPS':pA,'particleUpdaterSpherePS':mA,'particleUpdaterStartPS':_A,'particle_billboardVS':gA,'particle_blendAddPS':yA,'particle_blendMultiplyPS':xA,'particle_blendNormalPS':SA,'particle_cpuVS':vA,'particle_cpu_endVS':bA,'particle_customFaceVS':wA,'particle_endPS':TA,'particle_endVS':AA,'particle_halflambertPS':EA,'particle_initVS':CA,'particle_lambertPS':MA,'particle_lightingPS':PA,'particle_localShiftVS':RA,'particle_meshVS':IA,'particle_normalVS':DA,'particle_normalMapPS':LA,'particle_pointAlongVS':FA,'particle_softPS':OA,'particle_softVS':kA,'particle_stretchVS':BA,'particle_TBNVS':NA,'particle_wrapVS':zA,'pickPS':UA,'reflDirPS':VA,'reflDirAnisoPS':GA,'reflectionCCPS':HA,'reflectionCubePS':WA,'reflectionEnvHQPS':$A,'reflectionEnvPS':qA,'reflectionSpherePS':XA,'reflectionSheenPS':jA,'refractionCubePS':YA,'refractionDynamicPS':KA,'reprojectPS':ZA,'sampleCatmullRomPS':QA,'screenDepthPS':JA,'shadowCascadesPS':eE,'shadowEVSMPS':tE,'shadowEVSMnPS':sE,'shadowPCSSPS':iE,'shadowSampleCoordPS':rE,'shadowSoftPS':nE,'shadowStandardPS':aE,'shadowStandardGL2PS':oE,'shadowVSM_commonPS':lE,'skinBatchVS':hE,'skinVS':cE,'skyboxPS':dE,'skyboxVS':uE,'specularPS':fE,'sphericalPS':pE,'specularityFactorPS':mE,'spotPS':_E,'startPS':gE,'startVS':yE,'startNineSlicedPS':xE,'startNineSlicedTiledPS':SE,'storeEVSMPS':vE,'tangentBinormalVS':bE,'TBNPS':wE,'TBNderivativePS':TE,'TBNObjectSpacePS':AE,'thicknessPS':EE,'tonemappingPS':CE,'tonemappingAcesPS':ME,'tonemappingAces2PS':PE,'tonemappingFilmicPS':RE,'tonemappingHejlPS':IE,'tonemappingLinearPS':DE,'tonemappingNeutralPS':LE,'tonemappingNonePS':FE,'transformVS':OE,'transformCoreVS':kE,'transformInstancingVS':BE,'transmissionPS':NE,'twoSidedLightingPS':zE,'uv0VS':UE,'uv1VS':VE,'viewDirPS':GE,'viewNormalVS':HE,'webgpuPS':t0,'webgpuVS':s0},b0=new Ot();function ka(_0x27d7e8){const _0x37cc24=b0['get'](_0x27d7e8);return v['assert'](_0x37cc24),_0x37cc24;}function WE(_0x15955a,_0x591001){v['assert'](_0x591001),b0['get'](_0x15955a,()=>_0x591001);}class It{static['begin'](){return'void\x20main('+'void)\x0a{\x0a';}static['end'](){return'}\x0a';}static['definesHas'+'h'](_0x615e91){const _0x599e03=Array['from'](_0x615e91)['sort']((_0x46c244,_0x41bb5d)=>_0x46c244[0x125a+-0x164f*0x1+-0x1*-0x3f5]>_0x41bb5d[-0x20ae+0x124e+-0x17*-0xa0]?-0xbd*-0x1a+-0x562*-0x3+0x1*-0x2357:-(-0x11da+0x1481+-0x2a6));return hn(JSON['stringify'](_0x599e03));}}const $E=new Ot();class qE{constructor(_0x4d0ccf,_0x2a2999,_0x2b24a5={}){c(this,'index'),c(this,'name'),c(this,'defines',new Map()),(v['assert'](/^[a-z]\w*$/i['test'](_0x4d0ccf),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x4d0ccf),this['name']=_0x4d0ccf,this['index']=_0x2a2999,Object['assign'](this,_0x2b24a5),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x3e66c3;this['isShadow']?_0x3e66c3='SHADOW':this['isForward']?_0x3e66c3='FORWARD':this['index']===rl?_0x3e66c3='DEPTH':this['index']===Oa&&(_0x3e66c3='PICK'),this['defines']['set'](_0x3e66c3+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Ks{constructor(){c(this,'passesName'+'d',new Map()),c(this,'passesInde'+'xed',[]),c(this,'nextIndex',-0x1*-0x10d9+0x1328+0x2401*-0x1);const _0x1a2838=(_0x205bb1,_0x27b68e,_0x4417e4)=>{const _0x21ca5f=this['allocate'](_0x205bb1,_0x4417e4);v['assert'](_0x21ca5f['index']===_0x27b68e);};_0x1a2838('forward',gn,{'isForward':!(0x259d+-0x1*0x1937+0x17*-0x8a)}),_0x1a2838('prepass',il),_0x1a2838('depth',rl),_0x1a2838('pick',Oa),_0x1a2838('shadow',Rp);}static['get'](_0x3bb877){return v['assert'](_0x3bb877),$E['get'](_0x3bb877,()=>new Ks());}['allocate'](_0x6a4e5d,_0x5d8866){let _0x1f203d=this['passesName'+'d']['get'](_0x6a4e5d);return _0x1f203d===void(0x6f*0x4+-0xf13*0x1+0xd57)&&(_0x1f203d=new qE(_0x6a4e5d,this['nextIndex'],_0x5d8866),this['passesName'+'d']['set'](_0x1f203d['name'],_0x1f203d),this['passesInde'+'xed'][_0x1f203d['index']]=_0x1f203d,this['nextIndex']++),_0x1f203d;}['getByIndex'](_0x2c6e0d){const _0x3a996a=this['passesInde'+'xed'][_0x2c6e0d];return v['assert'](_0x3a996a),_0x3a996a;}['getByName'](_0x5a03ad){return this['passesName'+'d']['get'](_0x5a03ad);}}function Is(_0x5a5cc1,_0x23a99c,_0x582636,_0x59e44e,_0x194aa0,_0x1fec9a=!(-0x1*-0x20ef+-0x795+-0x1959),_0x4b2a4a={}){v['assert'](!(-0x7aa+0x17*-0x17f+0x2a13)),typeof _0x1fec9a=='boolean'?_0x4b2a4a['useTransfo'+'rmFeedback']=_0x1fec9a:typeof _0x1fec9a=='object'&&(_0x4b2a4a={..._0x4b2a4a,..._0x1fec9a});const _0x2da9ea=ka(_0x5a5cc1);let _0x13b5e4=_0x2da9ea['getCachedS'+'hader'](_0x59e44e);return _0x13b5e4||(_0x13b5e4=new i0(_0x5a5cc1,Mt['createDefi'+'nition'](_0x5a5cc1,{..._0x4b2a4a,'name':_0x59e44e,'vertexCode':_0x23a99c,'fragmentCode':_0x582636,'attributes':_0x194aa0})),_0x2da9ea['setCachedS'+'hader'](_0x59e44e,_0x13b5e4)),_0x13b5e4;}class XE extends It{constructor(_0x57692a,_0x968218){super(),this['key']=_0x57692a,this['shaderDefi'+'nition']=_0x968218;}['generateKe'+'y'](_0x243934){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x1735b2,_0x36f4f3){return this['shaderDefi'+'nition'];}}function jE(_0x685a46,_0x19110f){v['assert'](_0x685a46);const _0x55bae1=_0x685a46['definition'],_0x5c99f0=(_0x55bae1['name']??'shader')+'-id-'+_0x685a46['id'],_0x25eec1=new XE(_0x5c99f0,_0x55bae1),_0x40540a='shader',_0x3bb546=ka(_0x685a46['device']);v['assert'](!_0x3bb546['isRegister'+'ed'](_0x40540a)),_0x3bb546['register'](_0x40540a,_0x25eec1);const _0x501c56=_0x3bb546['getProgram'](_0x40540a,{},_0x19110f);return _0x685a46['definition']['shaderLang'+'uage']===Ph&&(_0x501c56['meshUnifor'+'mBufferFor'+'mat']=_0x55bae1['meshUnifor'+'mBufferFor'+'mat'],_0x501c56['meshBindGr'+'oupFormat']=_0x55bae1['meshBindGr'+'oupFormat']),_0x3bb546['unregister'](_0x40540a),_0x501c56;}const Dp=(_0xed5cfc,_0x5ad795)=>{const _0x137ea5=new Map(_0xed5cfc['defines']);return _0x5ad795['cameraShad'+'erParams']['defines']['forEach']((_0x5e7340,_0x13577b)=>_0x137ea5['set'](_0x13577b,_0x5e7340)),Ks['get'](_0x5ad795['device'])['getByIndex'](_0x5ad795['pass'])['defines']['forEach']((_0x23f716,_0xc2fe75)=>_0x137ea5['set'](_0xc2fe75,_0x23f716)),_0x137ea5;},YE={'type':ar,'base':0x0,'count':0x4,'indexed':!(0x1067+-0x2*-0x21d+-0x14a0)},Va=new Q(),Ga=new Q(),pd=new Yy();class Nu{constructor(_0x23639e){c(this,'uniformBuf'+'fer'),c(this,'bindGroup');const _0x195a1a=_0x23639e['device'];if(this['shader']=_0x23639e,v['assert'](_0x23639e),_0x195a1a['supportsUn'+'iformBuffe'+'rs']){const _0x401b2f=new Yc();this['shader']=jE(_0x23639e,_0x401b2f);const _0x30b879=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x30b879&&(this['uniformBuf'+'fer']=new gp(_0x195a1a,_0x30b879,!(0x249+0xf77+-0x7*0x289)));const _0x5163e5=this['shader']['meshBindGr'+'oupFormat'];v['assert'](_0x5163e5),this['bindGroup']=new mp(_0x195a1a,_0x5163e5),mn['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x2d17fe,_0x16ad42;(_0x2d17fe=this['uniformBuf'+'fer'])==null||_0x2d17fe['destroy'](),this['uniformBuf'+'fer']=null,(_0x16ad42=this['bindGroup'])==null||_0x16ad42['destroy'](),this['bindGroup']=null;}['render'](_0x323393,_0x4e8b84){const _0x1c2c89=this['shader']['device'];G['pushGpuMar'+'ker'](_0x1c2c89,'QuadRender'),_0x323393&&(Va['set'](_0x1c2c89['vx'],_0x1c2c89['vy'],_0x1c2c89['vw'],_0x1c2c89['vh']),Ga['set'](_0x1c2c89['sx'],_0x1c2c89['sy'],_0x1c2c89['sw'],_0x1c2c89['sh']),_0x4e8b84=_0x4e8b84??_0x323393,_0x1c2c89['setViewpor'+'t'](_0x323393['x'],_0x323393['y'],_0x323393['z'],_0x323393['w']),_0x1c2c89['setScissor'](_0x4e8b84['x'],_0x4e8b84['y'],_0x4e8b84['z'],_0x4e8b84['w'])),_0x1c2c89['setVertexB'+'uffer'](_0x1c2c89['quadVertex'+'Buffer'],0x1b5e+0xffa+0x2b58*-0x1);const _0x13fa58=this['shader'];if(_0x1c2c89['setShader'](_0x13fa58),_0x1c2c89['supportsUn'+'iformBuffe'+'rs']){_0x1c2c89['setBindGro'+'up'](Dh,_0x1c2c89['emptyBindG'+'roup']);const _0x5b3ab0=this['bindGroup'];_0x5b3ab0['update'](),_0x1c2c89['setBindGro'+'up'](Xy,_0x5b3ab0);const _0x340817=this['uniformBuf'+'fer'];_0x340817?(_0x340817['update'](pd),_0x1c2c89['setBindGro'+'up'](Eu,pd['bindGroup'],pd['offsets'])):_0x1c2c89['setBindGro'+'up'](Eu,_0x1c2c89['emptyBindG'+'roup']);}_0x1c2c89['draw'](YE),_0x323393&&(_0x1c2c89['setViewpor'+'t'](Va['x'],Va['y'],Va['z'],Va['w']),_0x1c2c89['setScissor'](Ga['x'],Ga['y'],Ga['z'],Ga['w'])),G['popGpuMark'+'er'](_0x1c2c89);}}class KE extends ds{constructor(_0x120095,_0x2e5d31,_0x1800f8,_0x590c87){super(_0x120095),this['quad']=_0x2e5d31,this['rect']=_0x1800f8,this['scissorRec'+'t']=_0x590c87;}['execute'](){const {device:_0x19ea0a}=this;G['pushGpuMar'+'ker'](_0x19ea0a,this['name']+':'+this['quad']['shader']['name']),_0x19ea0a['setCullMod'+'e'](mt),_0x19ea0a['setDepthSt'+'ate'](as['NODEPTH']),_0x19ea0a['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),G['popGpuMark'+'er'](_0x19ea0a);}}const ZE=new Q();function dn(_0x520fae,_0x52054a,_0x146a20,_0x12ce48,_0xecb3ea){v['assert'](_0x52054a!==void(0x2*0x7ac+-0x15e5+-0xd*-0x81));const _0x2fa464=arguments[-0x23dc+-0x1*0x1996+-0x1*-0x3d77];v['call'](()=>{_0x2fa464!==void(-0x2226+0x5ab*0x2+-0x1*-0x16d0)&&v['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x29a289=new Nu(_0x146a20);_0x12ce48||(_0x12ce48=ZE,_0x12ce48['x']=0x1b0a+-0x144*0xe+-0x952,_0x12ce48['y']=-0x1a5*0x10+-0x1236+-0x116*-0x29,_0x12ce48['z']=_0x52054a?_0x52054a['width']:_0x520fae['width'],_0x12ce48['w']=_0x52054a?_0x52054a['height']:_0x520fae['height']);const _0x2f3601=new KE(_0x520fae,_0x29a289,_0x12ce48,_0xecb3ea);_0x2f3601['init'](_0x52054a),_0x2f3601['colorOps']['clear']=!(-0x1838+0x1*0x13df+0x22d*0x2),_0x2f3601['depthStenc'+'ilOps']['clearDepth']=!(0x8ba*0x1+0xb*-0x278+0x1*0x126f),_0x520fae['isWebGPU']&&_0x52054a===null&&_0x520fae['samples']>-0x380+-0x409*0x9+0x27d2*0x1&&(_0x2f3601['colorOps']['store']=!(0x1d46+-0x157e*0x1+-0x4*0x1f2)),_0x2f3601['render'](),_0x29a289['destroy']();}class zm{constructor(_0x30b206,_0x8477f6,_0x857ed7){c(this,'_aabb',new _e()),c(this,'origMeshIn'+'stances'),c(this,'meshInstan'+'ce',null),c(this,'dynamic'),c(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x30b206,this['dynamic']=_0x8477f6,this['batchGroup'+'Id']=_0x857ed7);}['destroy'](_0x3acfdd,_0x1e1caa){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x3acfdd,_0x1e1caa),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x5a76b2,_0x1c83ed){for(let _0x15f503=-0x1fa*0xc+0x50f*-0x1+-0x1cc7*-0x1;_0x15f503<_0x1c83ed['length'];_0x15f503++){const _0x1433eb=_0x5a76b2['layers']['getLayerBy'+'Id'](_0x1c83ed[_0x15f503]);_0x1433eb&&_0x1433eb['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x654934,_0x136f94){for(let _0x17dc40=-0x57*0xa+0x12f6+-0xf90;_0x17dc40<_0x136f94['length'];_0x17dc40++){const _0x48ac90=_0x654934['layers']['getLayerBy'+'Id'](_0x136f94[_0x17dc40]);_0x48ac90&&_0x48ac90['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][0x9*-0x162+0x1f*0x11+0xa63]['aabb']);for(let _0x10a0f8=-0x1641*0x1+0x1*-0x172f+-0x1*-0x2d71;_0x10a0f8<this['origMeshIn'+'stances']['length'];_0x10a0f8++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x10a0f8]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=0xeee+0x4ba*-0x7+0x1c*0xa6;}get['model'](){v['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class et{constructor(_0x52af79,_0x51f99b,_0x1c2bfa,_0x33bfc5,_0x52a537=[Fi]){c(this,'_ui',!(0x8b*0x16+0x5e2*-0x2+-0x5*0x9)),c(this,'_sprite',!(-0x94d+0x25ef+0x7*-0x417)),c(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),c(this,'id'),c(this,'name'),c(this,'dynamic'),c(this,'maxAabbSiz'+'e'),c(this,'layers'),(this['id']=_0x52af79,this['name']=_0x51f99b,this['dynamic']=_0x1c2bfa,this['maxAabbSiz'+'e']=_0x33bfc5,this['layers']=_0x52a537);}}c(et,'MODEL','model'),c(et,'ELEMENT','element'),c(et,'SPRITE','sprite'),c(et,'RENDER','render');const Um=new q();class nl{constructor(_0x2ddffc){c(this,'bones'),c(this,'boneTextur'+'eSize'),(this['_dirty']=!(0xc*-0x123+0xe1f+0x1*-0x7b),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(-0x521+-0x43f+0x1*0x961),this['_updateBef'+'oreCull']=!(0x1*0x19c7+0x1*0x22c6+-0x3*0x142f),_0x2ddffc&&this['initSkin'](_0x2ddffc));}set['rootBone'](_0x1b2a51){this['_rootBone']=_0x1b2a51;}get['rootBone'](){return this['_rootBone'];}['init'](_0x59c693,_0x1620dc){const _0x53a6b1=_0x1620dc*(0x29e+0x4*0xf1+-0x65f);let _0xdcee2d=Math['ceil'](Math['sqrt'](_0x53a6b1));_0xdcee2d=N['roundUp'](_0xdcee2d,0x2303+-0x2533+-0x1*-0x233);const _0x5595fc=Math['ceil'](_0x53a6b1/_0xdcee2d);this['boneTextur'+'e']=new he(_0x59c693,{'width':_0xdcee2d,'height':_0x5595fc,'format':Ke,'mipmaps':!(-0xe*0x11e+-0x89f*-0x1+0x706),'minFilter':de,'magFilter':de,'name':'skin'}),this['boneTextur'+'eSize']=[_0xdcee2d,_0x5595fc,(0x2e*0xb9+-0x9*0x86+-0x1*0x1c87)/_0xdcee2d,(0xa2a*-0x3+-0x14f7+-0x3376*-0x1)/_0x5595fc],this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':Fy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x3bd52e,_0x57a09c){this['rootBone']=_0x3bd52e;const _0x326186=this['skin'],_0x250eb9=[];for(let _0x419307=0xbc7+-0x5*0x506+-0x1*-0xd57;_0x419307<_0x326186['boneNames']['length'];_0x419307++){const _0x420757=_0x326186['boneNames'][_0x419307];let _0x3d017e=_0x3bd52e['findByName'](_0x420757);_0x3d017e||(v['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x420757+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x57a09c['name']+(',\x20rootBone'+':\x20')+_0x3bd52e['name']),_0x3d017e=_0x57a09c),_0x250eb9['push'](_0x3d017e);}this['bones']=_0x250eb9;}['initSkin'](_0x4d9292){this['skin']=_0x4d9292,this['bones']=[];const _0x4e02c4=_0x4d9292['inverseBin'+'dPose']['length'];this['init'](_0x4d9292['device'],_0x4e02c4),this['matrices']=[];for(let _0x5cd9db=-0x17*-0x5d+-0x1814+0xfb9;_0x5cd9db<_0x4e02c4;_0x5cd9db++)this['matrices'][_0x5cd9db]=new q();}['uploadBone'+'s'](_0x501723){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x6b7790,_0x51a66b){if(this['_skinUpdat'+'eIndex']!==_0x51a66b){this['_skinUpdat'+'eIndex']=_0x51a66b,Um['copy'](_0x6b7790['getWorldTr'+'ansform']())['invert']();for(let _0x3e98a8=this['bones']['length']-(0x60a+0x1afe+0x1*-0x2107);_0x3e98a8>=-0x1b30+0x22d0+0x1e8*-0x4;_0x3e98a8--)this['matrices'][_0x3e98a8]['mulAffine2'](Um,this['bones'][_0x3e98a8]['getWorldTr'+'ansform']()),this['matrices'][_0x3e98a8]['mulAffine2'](this['matrices'][_0x3e98a8],this['skin']['inverseBin'+'dPose'][_0x3e98a8]);}}['updateMatr'+'ices'](_0x155e10,_0x2da6f6){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x155e10,_0x2da6f6);}['updateMatr'+'ixPalette'](_0x5a95ae,_0x2e06a0){this['_updateMat'+'rices'](_0x5a95ae,_0x2e06a0);const _0x3ee903=this['matrixPale'+'tte'],_0x6d55ad=this['bones']['length'];for(let _0x4385c0=-0xe*0x2ae+0xce+-0x1*-0x24b6;_0x4385c0<_0x6d55ad;_0x4385c0++){const _0x3641ba=this['matrices'][_0x4385c0]['data'],_0x13a5bc=_0x4385c0*(-0x3*0x533+-0x1037+-0x7f7*-0x4);_0x3ee903[_0x13a5bc]=_0x3641ba[0x16d6+0x952*0x3+-0x32cc],_0x3ee903[_0x13a5bc+(0x598+0x7*0x248+-0x158f)]=_0x3641ba[-0x2f4+-0x97*0x1+0x38f*0x1],_0x3ee903[_0x13a5bc+(0x7*0x51f+-0x1c57+-0x780)]=_0x3641ba[-0x13*-0x1af+0x21ac+0x41a1*-0x1],_0x3ee903[_0x13a5bc+(-0x1*0x264d+0x1c9b+-0x47*-0x23)]=_0x3641ba[0x1*-0x85a+0x1e7*-0x2+-0x1*-0xc34],_0x3ee903[_0x13a5bc+(-0xc1*0x13+-0x11c2+0x63*0x53)]=_0x3641ba[0x26*-0xd6+0x949+0x2*0xb3e],_0x3ee903[_0x13a5bc+(-0x151*-0x3+-0x7dd+0x3ef)]=_0x3641ba[-0x9b9+-0x162c+0x1fea],_0x3ee903[_0x13a5bc+(0x76+-0xc36+0xb*0x112)]=_0x3641ba[-0xee0+-0x13c8+0x53*0x6b],_0x3ee903[_0x13a5bc+(0x31*-0xa+-0x473+0x664)]=_0x3641ba[0x40a*-0x5+0xb0f+0x30*0x31],_0x3ee903[_0x13a5bc+(-0x247f+-0x4a9+0x2930)]=_0x3641ba[0x140e+0x2203*0x1+-0x360f],_0x3ee903[_0x13a5bc+(0x8b*-0x16+-0x1d6a*0x1+0x2965)]=_0x3641ba[-0x2a1*-0x1+-0x1426+0x118b],_0x3ee903[_0x13a5bc+(0x1b*-0xd6+0x180d+0x7b*-0x3)]=_0x3641ba[0x492+-0x7*-0x431+-0x21df],_0x3ee903[_0x13a5bc+(-0x1434*0x1+0x1bc3+0xd*-0x94)]=_0x3641ba[0x5*0x434+0x10ab*-0x2+0xc60];}this['uploadBone'+'s'](this['skin']['device']);}}class Vm extends nl{constructor(_0x1b2a3d,_0x44fc66,_0x7d3a8e){super();const _0x4fc498=_0x44fc66['length'];this['init'](_0x1b2a3d,_0x4fc498),this['device']=_0x1b2a3d,this['rootNode']=_0x7d3a8e,this['bones']=_0x44fc66;}['updateMatr'+'ices'](_0x3a357a,_0x1c33c6){}['updateMatr'+'ixPalette'](_0x4f13b8,_0x512187){const _0x430bba=this['matrixPale'+'tte'],_0x2fc736=this['bones']['length'];for(let _0xc0df43=0x3*-0x41b+0x897+0x3ba;_0xc0df43<_0x2fc736;_0xc0df43++){const _0x3f8159=this['bones'][_0xc0df43]['getWorldTr'+'ansform']()['data'],_0x428aea=_0xc0df43*(0xed+-0xbdc+0xafb);_0x430bba[_0x428aea]=_0x3f8159[-0x76f+0x5a7*0x5+0x2*-0xa6a],_0x430bba[_0x428aea+(-0x81a*-0x3+0xef*-0x7+0x5ec*-0x3)]=_0x3f8159[-0x1fb1+-0xaef+0x2aa4],_0x430bba[_0x428aea+(0x3*0x9e3+-0x9bf*-0x1+-0x2766)]=_0x3f8159[-0x15c4+-0xd*0x29+0x17e1],_0x430bba[_0x428aea+(-0x132*-0x7+0x5*0x659+0x1*-0x2818)]=_0x3f8159[0x8fb+-0x169e+0xdaf],_0x430bba[_0x428aea+(-0x1d15+-0x3*-0x483+-0x530*-0x3)]=_0x3f8159[-0x14d5+-0x1c1*-0xd+-0x1f7*0x1],_0x430bba[_0x428aea+(-0x13e+-0xf0b+-0x827*-0x2)]=_0x3f8159[-0xaef+0x193f+-0x1*0xe4b],_0x430bba[_0x428aea+(-0x1670+-0x8*0x470+-0x1352*-0x3)]=_0x3f8159[0x19e1+-0x923+-0x10b5],_0x430bba[_0x428aea+(0x18*0x189+-0x1e86+0x3*-0x219)]=_0x3f8159[0x93*0x29+-0x2449*-0x1+-0x3bc7*0x1],_0x430bba[_0x428aea+(0x495+-0x2*-0xa46+-0x19*0x101)]=_0x3f8159[0x4f*0x7+0xa*0x36e+-0x2473],_0x430bba[_0x428aea+(0x22be*-0x1+0x1c2a+0x69d*0x1)]=_0x3f8159[-0x20*-0xd4+0xfe5+-0x2a5f],_0x430bba[_0x428aea+(-0x2238+0xf8*-0x1d+0x2e*0x15b)]=_0x3f8159[0x443*0x4+0x1d4d+-0x1*0x2e4f],_0x430bba[_0x428aea+(-0xc5*0x2e+0x67+0x27*0xe6)]=_0x3f8159[-0x1*0x926+0x179*0x12+-0x8a7*0x2];}this['uploadBone'+'s'](this['device']);}}let QE=0x617*0x1+-0x1*0x314+-0x3*0x101;class Hs{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(0x2b*0x37+0x5a6+0xfe*-0xf),this['verticesUs'+'age']=jt,this['indicesUsa'+'ge']=jt,this['maxVertice'+'s']=0x1c5*-0x9+0x197*0x4+0x4f*0x1f,this['maxIndices']=-0x739+-0x7a7*0x2+-0x4f*-0x49,this['vertexCoun'+'t']=-0x494*-0x3+0x1331+-0x1*0x20ed,this['indexCount']=0x2384+0x9*0x2af+-0xd*0x497,this['vertexStre'+'amsUpdated']=!(-0x470*-0x5+0x324+-0x1953),this['indexStrea'+'mUpdated']=!(0x1d54+0x2a2+0x3*-0xaa7),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x40b652,_0x3fba26){this['vertexCoun'+'t']?v['assert'](this['vertexCoun'+'t']===_0x40b652,'Vertex\x20str'+'eam\x20'+_0x3fba26+'\x20has\x20'+_0x40b652+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x40b652;}}c(Hs,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',0x1*-0xdd9+-0x2a4+0x1080),c(Hs,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',0x1*0x8c6+-0x122d+-0xf1*-0xa),c(Hs,'DEFAULT_CO'+'MPONENTS_U'+'V',-0x2d*-0xa7+0x2de+0x3*-0xabd),c(Hs,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',0x25ed*0x1+-0x1b1f+-0xaca);class JE{constructor(_0x4cd716,_0x129bd5,_0x41a448,_0x4f0f1a,_0x3750fe){this['data']=_0x4cd716,this['componentC'+'ount']=_0x129bd5,this['dataType']=_0x41a448,this['dataTypeNo'+'rmalize']=_0x4f0f1a,this['asInt']=_0x3750fe;}}class Ie extends Gc{constructor(_0x42e190,_0x1ca63b){super(),c(this,'indexBuffe'+'r',[null]),c(this,'vertexBuff'+'er',null),c(this,'primitive',[{'type':0x0,'base':0x0,'count':0x0}]),c(this,'skin',null),c(this,'boneAabb',null),c(this,'_aabbVer',0xfde+0x6*0x55+0x24*-0x7f),c(this,'_aabb',new _e()),c(this,'_geometryD'+'ata',null),c(this,'_morph',null),c(this,'_storageIn'+'dex',!(0xd67+0x2688+-0x33ee)),c(this,'_storageVe'+'rtex',!(0xdfb+-0x1*-0x1edb+-0x2cd5)),(this['id']=QE++,v['assert'](_0x42e190,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x42e190,this['_storageIn'+'dex']=(_0x1ca63b==null?void(-0x30f*0x4+-0x4*-0x686+0x6ee*-0x2):_0x1ca63b['storageInd'+'ex'])||!(0x10*0x239+-0x1c15+-0x77a),this['_storageVe'+'rtex']=(_0x1ca63b==null?void(-0x36f+-0x13*-0x88+0x1f*-0x37):_0x1ca63b['storageVer'+'tex'])||!(-0x580*-0x4+0x164*0x3+-0x4d*0x57));}static['fromGeomet'+'ry'](_0x34c3bf,_0x18176e,_0x17f5c4={}){const _0x5e455e=new Ie(_0x34c3bf,_0x17f5c4),{positions:_0x3b5686,normals:_0x133798,tangents:_0x7d4442,colors:_0xc46bce,uvs:_0x4e410e,uvs1:_0x4455e0,blendIndices:_0x5da0be,blendWeights:_0x4ed6be,indices:_0x44f1c7}=_0x18176e;return _0x3b5686&&_0x5e455e['setPositio'+'ns'](_0x3b5686),_0x133798&&_0x5e455e['setNormals'](_0x133798),_0x7d4442&&_0x5e455e['setVertexS'+'tream'](Zs,_0x7d4442,-0x1f2+-0x33+0x229),_0xc46bce&&_0x5e455e['setColors3'+'2'](_0xc46bce),_0x4e410e&&_0x5e455e['setUvs'](-0xe8f*-0x2+-0x1*-0x155b+-0x3*0x10d3,_0x4e410e),_0x4455e0&&_0x5e455e['setUvs'](-0xc7+0xfd8+0x2*-0x788,_0x4455e0),_0x5da0be&&_0x5e455e['setVertexS'+'tream'](qt,_0x5da0be,0x360+-0xe61+0xb05,_0x5da0be['length']/(-0x267e+0x377*0x5+0x1*0x152f),Kr),_0x4ed6be&&_0x5e455e['setVertexS'+'tream'](Ys,_0x4ed6be,0x3a+-0x206e+0x2038),_0x44f1c7&&_0x5e455e['setIndices'](_0x44f1c7),_0x5e455e['update'](),_0x5e455e;}set['morph'](_0xdff0c1){_0xdff0c1!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0xdff0c1,_0xdff0c1&&_0xdff0c1['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x5bb418){this['_aabb']=_0x5bb418,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x311e96=this['morph'];_0x311e96&&(this['morph']=null,_0x311e96['refCount']<-0x48f*0x2+-0x2*0x6c5+0x1*0x16a9&&_0x311e96['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x25705d=-0x3*-0x185+-0x1*-0x82c+-0xcbb*0x1;_0x25705d<this['indexBuffe'+'r']['length'];_0x25705d++)this['_destroyIn'+'dexBuffer'](_0x25705d);this['indexBuffe'+'r']['length']=-0x1423+-0xb9e*0x2+0x2b5f,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x4c0e4d){this['indexBuffe'+'r'][_0x4c0e4d]&&(this['indexBuffe'+'r'][_0x4c0e4d]['destroy'](),this['indexBuffe'+'r'][_0x4c0e4d]=null);}['_initBoneA'+'abbs'](_0x727ff8){this['boneAabb']=[],this['boneUsed']=[];let _0x45dd25,_0x1204f2,_0x4eb724,_0x493643,_0x3355e3;const _0x139fd4=[],_0x471115=[],_0x10e6cd=this['boneUsed'],_0x3e61a8=this['skin']['boneNames']['length'];let _0x498e24,_0x49dd0c,_0x4b8075;for(let _0x301595=0x1373+-0xb17*0x3+-0x6e9*-0x2;_0x301595<_0x3e61a8;_0x301595++)_0x139fd4[_0x301595]=new T(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x471115[_0x301595]=new T(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x2a9b17=new go(this['vertexBuff'+'er']),_0x1ac598=_0x2a9b17['element'][He],_0x343014=_0x2a9b17['element'][Ys],_0x33b091=_0x2a9b17['element'][qt],_0x578a0b=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x1088ee=0x2*0x8f5+0x1*0xc2e+-0x1e18;_0x1088ee<_0x578a0b;_0x1088ee++){for(let _0x2421eb=0x8*0x412+-0x10*-0xbe+0x18*-0x1da;_0x2421eb<0x16ae+-0x107*0x25+-0x1*-0xf59;_0x2421eb++)if(_0x343014['array'][_0x343014['index']+_0x2421eb]>0x25ec+0x22d2+-0x48be){const _0x2a2e10=_0x33b091['array'][_0x33b091['index']+_0x2421eb];if(_0x10e6cd[_0x2a2e10]=!(0x1a5e*0x1+0x2408*-0x1+0x9aa),_0x45dd25=_0x1ac598['array'][_0x1ac598['index']],_0x1204f2=_0x1ac598['array'][_0x1ac598['index']+(0x2222+0x537*0x1+0x13ac*-0x2)],_0x4eb724=_0x1ac598['array'][_0x1ac598['index']+(0x9*-0x329+0x1745+0x52e)],_0x493643=_0x471115[_0x2a2e10],_0x3355e3=_0x139fd4[_0x2a2e10],_0x3355e3['x']>_0x45dd25&&(_0x3355e3['x']=_0x45dd25),_0x3355e3['y']>_0x1204f2&&(_0x3355e3['y']=_0x1204f2),_0x3355e3['z']>_0x4eb724&&(_0x3355e3['z']=_0x4eb724),_0x493643['x']<_0x45dd25&&(_0x493643['x']=_0x45dd25),_0x493643['y']<_0x1204f2&&(_0x493643['y']=_0x1204f2),_0x493643['z']<_0x4eb724&&(_0x493643['z']=_0x4eb724),_0x727ff8){let _0x3c2f4e=_0x498e24=_0x45dd25,_0x2063e3=_0x49dd0c=_0x1204f2,_0x24d195=_0x4b8075=_0x4eb724;for(let _0x4da2e4=0x2511+0x1b49+-0x405a;_0x4da2e4<_0x727ff8['length'];_0x4da2e4++){const _0x176e70=_0x727ff8[_0x4da2e4],_0x1da3ac=_0x176e70['deltaPosit'+'ions'][_0x1088ee*(-0x63d+-0x1*0x1099+0x16d9*0x1)],_0x4e5224=_0x176e70['deltaPosit'+'ions'][_0x1088ee*(0x50*-0x19+-0x35e*-0x9+-0x1*0x167b)+(0x16*0xb6+-0x2*-0x11d4+-0x1*0x334b)],_0x30b381=_0x176e70['deltaPosit'+'ions'][_0x1088ee*(-0x49*0x62+0x2*-0xe89+0x3907)+(0x25*0xc6+0x1a73+-0x370f)];_0x1da3ac<-0x1*0x419+0xb8*-0x1a+-0x1*-0x16c9?_0x3c2f4e+=_0x1da3ac:_0x498e24+=_0x1da3ac,_0x4e5224<0x1cc*0x8+0x3*0x501+-0x1d63?_0x2063e3+=_0x4e5224:_0x49dd0c+=_0x4e5224,_0x30b381<-0xe09+0x2381+0x8*-0x2af?_0x24d195+=_0x30b381:_0x4b8075+=_0x30b381;}_0x3355e3['x']>_0x3c2f4e&&(_0x3355e3['x']=_0x3c2f4e),_0x3355e3['y']>_0x2063e3&&(_0x3355e3['y']=_0x2063e3),_0x3355e3['z']>_0x24d195&&(_0x3355e3['z']=_0x24d195),_0x493643['x']<_0x498e24&&(_0x493643['x']=_0x498e24),_0x493643['y']<_0x49dd0c&&(_0x493643['y']=_0x49dd0c),_0x493643['z']<_0x4b8075&&(_0x493643['z']=_0x4b8075);}}_0x2a9b17['next']();}const _0x50db81=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x513efb=>_0x513efb['name']===He);if(_0x50db81&&_0x50db81['normalize']){const _0x38c886=((()=>{switch(_0x50db81['dataType']){case Rc:return _0x564703=>Math['max'](_0x564703/(0x26fc+-0x69a+-0x1fe3),-(0x1edf+-0x167a+0xb3*-0xc));case Kr:return _0x20bcc5=>_0x20bcc5/(0x15d7+0xd9c*-0x1+-0x73c*0x1);case Ic:return _0x277aa0=>Math['max'](_0x277aa0/(-0x11*-0x944+0x1*-0x4922+0x2b9d),-(-0x1157+0x1*0x709+0xa4f));case el:return _0x467365=>_0x467365/(-0xffd*0x18+0x1f5ed+0x89ca);default:return _0x3481eb=>_0x3481eb;}})());for(let _0x3b8c17=0x6*0x47b+-0x36e*0x9+-0x1fe*-0x2;_0x3b8c17<_0x3e61a8;_0x3b8c17++)if(_0x10e6cd[_0x3b8c17]){const _0x2c096b=_0x139fd4[_0x3b8c17],_0x3b5abe=_0x471115[_0x3b8c17];_0x2c096b['set'](_0x38c886(_0x2c096b['x']),_0x38c886(_0x2c096b['y']),_0x38c886(_0x2c096b['z'])),_0x3b5abe['set'](_0x38c886(_0x3b5abe['x']),_0x38c886(_0x3b5abe['y']),_0x38c886(_0x3b5abe['z']));}}for(let _0x4b3e28=-0x1372+0x45c+-0x1*-0xf16;_0x4b3e28<_0x3e61a8;_0x4b3e28++){const _0x2bbf11=new _e();_0x2bbf11['setMinMax'](_0x139fd4[_0x4b3e28],_0x471115[_0x4b3e28]),this['boneAabb']['push'](_0x2bbf11);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new Hs(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>0x1*-0x20d6+-0xcb1*0x3+0x46e9&&this['indexBuffe'+'r'][-0xade+0x469+0x675]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][0x7e4+0x149f+-0x1c83]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][0x77b*-0x3+0xa3*0xd+0x7*0x206]['numIndices']));}['clear'](_0x28d0a7,_0xc55ac,_0x54767d=0x2ed*0x4+-0x24e4+0x1930,_0x2e6a47=0x16dc+-0x31c*0x1+-0x13c0){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(0x2063+-0x1*0xc95+0x5*-0x3f6),this['_geometryD'+'ata']['maxVertice'+'s']=_0x54767d,this['_geometryD'+'ata']['maxIndices']=_0x2e6a47,this['_geometryD'+'ata']['verticesUs'+'age']=_0x28d0a7?jt:Th,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0xc55ac?jt:Th;}['setVertexS'+'tream'](_0x30ba7a,_0x2cd749,_0x1c619a,_0x46b26e,_0x37c954=Ee,_0x4a5160=!(0xee2+-0x1d28+0xe47),_0x1995f2=!(-0x2d8+0x2337+0x1*-0x205e)){this['_initGeome'+'tryData']();const _0x5afea7=_0x46b26e||_0x2cd749['length']/_0x1c619a;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x5afea7,_0x30ba7a),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x16ca*-0x1+0x2249*-0x1+0x301*0x13),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x30ba7a]=new JE(_0x2cd749,_0x1c619a,_0x37c954,_0x4a5160,_0x1995f2);}['getVertexS'+'tream'](_0x41f373,_0x2257d9){let _0x8a2c8a=0x1*0x1547+-0x1ac8+-0x1*-0x581,_0x435954=!(0xd4f*-0x2+0x18b*0x19+-0x44*0x2d);if(this['_geometryD'+'ata']){const _0x168231=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x41f373];_0x168231&&(_0x435954=!(-0x4f*-0x49+-0xb*-0x340+-0x3a47),_0x8a2c8a=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x2257d9)?_0x2257d9['set'](_0x168231['data']):(_0x2257d9['length']=-0xd0f*0x1+-0x11*-0x61+-0x69e*-0x1,_0x2257d9['push'](_0x168231['data'])));}return _0x435954||this['vertexBuff'+'er']&&(_0x8a2c8a=new go(this['vertexBuff'+'er'])['readData'](_0x41f373,_0x2257d9)),_0x8a2c8a;}['setPositio'+'ns'](_0x1428f7,_0x4785a4=Hs['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x4fec91){this['setVertexS'+'tream'](He,_0x1428f7,_0x4785a4,_0x4fec91,Ee,!(0x1*-0x137+0x4ec+0x4f*-0xc));}['setNormals'](_0x5d82d4,_0x2460a8=Hs['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x4ae1ae){this['setVertexS'+'tream'](Yt,_0x5d82d4,_0x2460a8,_0x4ae1ae,Ee,!(-0x1*0x229f+-0x604+0x66*0x66));}['setUvs'](_0x1ea888,_0x36611c,_0x3f8b87=Hs['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x5d446c){this['setVertexS'+'tream'](om+_0x1ea888,_0x36611c,_0x3f8b87,_0x5d446c,Ee,!(0x1bfb+-0x19f3+-0x207));}['setColors'](_0xc1bb72,_0xdc0e06=Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x1ab9e5){this['setVertexS'+'tream'](At,_0xc1bb72,_0xdc0e06,_0x1ab9e5,Ee,!(-0x579*0x7+-0x1c6c+0x42bc));}['setColors3'+'2'](_0x25bc94,_0x21998d){this['setVertexS'+'tream'](At,_0x25bc94,Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x21998d,Kr,!(-0xfa1*-0x2+-0x1*0x1733+0x1*-0x80f));}['setIndices'](_0x1ff843,_0x99d374){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x22*-0x11+0x1d08+0x12a*-0x17),this['_geometryD'+'ata']['indices']=_0x1ff843,this['_geometryD'+'ata']['indexCount']=_0x99d374||_0x1ff843['length'];}['getPositio'+'ns'](_0x11f7da){return this['getVertexS'+'tream'](He,_0x11f7da);}['getNormals'](_0x1b50b1){return this['getVertexS'+'tream'](Yt,_0x1b50b1);}['getUvs'](_0x3934dc,_0x1d2c79){return this['getVertexS'+'tream'](om+_0x3934dc,_0x1d2c79);}['getColors'](_0x5324c0){return this['getVertexS'+'tream'](At,_0x5324c0);}['getIndices'](_0x1200ab){let _0x2eef7d=0x1c5e*0x1+-0x1d8b+-0x12d*-0x1;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x8d3f3e=this['_geometryD'+'ata']['indices'];if(_0x2eef7d=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x1200ab))_0x1200ab['set'](_0x8d3f3e);else{_0x1200ab['length']=0xa4*-0x24+-0xc1f*-0x1+0xaf1;for(let _0x2f8e5e=0x279*0x5+0xc1c*-0x1+-0x41,_0x5da9c3=_0x8d3f3e['length'];_0x2f8e5e<_0x5da9c3;_0x2f8e5e++)_0x1200ab['push'](_0x8d3f3e[_0x2f8e5e]);}}else this['indexBuffe'+'r']['length']>0x24cd*0x1+-0x2012+-0x4bb&&this['indexBuffe'+'r'][0x14ab+0xc85*0x1+0x2c4*-0xc]&&(_0x2eef7d=this['indexBuffe'+'r'][0x10*-0x42+0x3*0x157+0x1b]['readData'](_0x1200ab));return _0x2eef7d;}['update'](_0xe2fd01=Ms,_0x457492=!(-0x10ff+-0x66d*0x6+-0x1*-0x378d)){if(this['_geometryD'+'ata']){if(_0x457492){const _0x3d3adf=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][He];_0x3d3adf&&_0x3d3adf['componentC'+'ount']===0x30d+0x2632+-0x293c&&(this['_aabb']['compute'](_0x3d3adf['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x15a69f=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x15a69f=!(0x1064+-0x53*0x21+0x5b1*-0x1),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x15a69f&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x2409f1=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x2409f1=!(0x15b3+-0x2674+0x10c1),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x2409f1&&this['indexBuffe'+'r']['length']>-0x1423+-0x2*0xdfa+0x3017&&this['indexBuffe'+'r'][0xa00+0x2009+0xe03*-0x3]&&(this['indexBuffe'+'r'][-0xeff+-0x3c5*-0x1+0xb3a]['destroy'](),this['indexBuffe'+'r'][-0x1ac1+0x2*0x125b+-0x9f5*0x1]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][0x2*0x33e+-0x1e1c+-0x1b0*-0xe]['type']=_0xe2fd01,this['indexBuffe'+'r']['length']>-0x5*0x434+0xd2a+-0x3ed*-0x2&&this['indexBuffe'+'r'][-0x65*0x55+-0x512*0x2+0xe8f*0x3]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][0x351*0x7+0x14e*-0x13+-0x1f*-0xd]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][-0x42f+-0x76*0x25+0x153d*0x1]['indexed']=!(-0x18*0x6c+-0x7a5*-0x5+0x1c19*-0x1)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][-0x5*0x75a+0x1*0x1b8b+0x937*0x1]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][0x700+0x355+0x5*-0x211]['indexed']=!(-0x217a+-0x118b+0x3306)),this['_geometryD'+'ata']['vertexCoun'+'t']=0x328+-0x1143+0xe1b,this['_geometryD'+'ata']['indexCount']=0x2d1+0xa*0x198+-0x12c1*0x1,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x122*-0x16+-0x17dd+0x30ca),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x2574+-0x104*0x1d+-0x7ff),this['_geometryD'+'ata']['recreate']=!(-0x1f2f+-0x2125+-0x2b*-0x17f),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x273c58){const _0x8607bf=[];for(const _0x2c48a0 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x3051cf=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x2c48a0];_0x8607bf['push']({'semantic':_0x2c48a0,'components':_0x3051cf['componentC'+'ount'],'type':_0x3051cf['dataType'],'normalize':_0x3051cf['dataTypeNo'+'rmalize'],'asInt':_0x3051cf['asInt']});}return new Et(this['device'],_0x8607bf,_0x273c58);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x38d35a=this['_geometryD'+'ata']['maxVertice'+'s'],_0x1e6804=this['_buildVert'+'exFormat'](_0x38d35a);this['vertexBuff'+'er']=new os(this['device'],_0x1e6804,_0x38d35a,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x2cd473=new go(this['vertexBuff'+'er']),_0x29ddbb=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x5cd601 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0xb79c64=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x5cd601];_0x2cd473['writeData'](_0x5cd601,_0xb79c64['data'],_0x29ddbb),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x5cd601];}_0x2cd473['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=0x1*0x18f4+0xc1*-0xb+-0x10a9||!this['indexBuffe'+'r'][-0x1*0x159e+-0xa39+0x27*0xd1]){const _0x7d210b=this['_geometryD'+'ata']['maxVertice'+'s'],_0xc899f5=_0x7d210b>0xd6*-0x12b+0x852e*-0x3+0x3897b||_0x7d210b===0x135c+0x1eaf+-0x320b?nr:Pi,_0x249aa0=this['_storageIn'+'dex']?{'storage':!(0x253*0x8+-0x19a+-0x10fe)}:void(-0xda3+-0x18f*-0x1+0xc14);this['indexBuffe'+'r'][-0x200a+0xe11+-0x1*-0x11f9]=new lr(this['device'],_0xc899f5,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(0x126e+-0xb4b+0x105*-0x7),_0x249aa0);}const _0x33d7d4=this['_geometryD'+'ata']['indices'];_0x33d7d4&&(this['indexBuffe'+'r'][-0x13a*0x1a+-0x1b43+0x3b27]['writeData'](_0x33d7d4,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x9d8c97){_0x9d8c97===Dr?this['generateWi'+'reframe']():_0x9d8c97===Tl&&(this['primitive'][Tl]={'type':Mc,'base':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:-0x1b8*0x10+-0x8*0x45b+0x13*0x348,'indexed':!(0x2107+0x1d21*0x1+-0x8e1*0x7)});}['updateRend'+'erStates'](){this['primitive'][Tl]&&this['prepareRen'+'derState'](Tl),this['primitive'][Dr]&&this['prepareRen'+'derState'](Dr);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer'](Dr);const _0x473e47=this['vertexBuff'+'er']['numVertice'+'s'],_0xe81d9b=[];let _0x55c179;if(this['indexBuffe'+'r']['length']>-0x40e+0x1b28+-0x171a&&this['indexBuffe'+'r'][0x2345+0x11*-0x241+0x30c]){const _0x1183f5=[[0x227e+0x71*-0x2+-0xb34*0x3,-0x2b*0x69+-0x14bb+0xd1*0x2f],[-0x11d2*0x1+-0x4a*0x75+-0x1*-0x33a5,0x2*-0x79f+0x11f5+-0x1*0x2b5],[0x1517*0x1+0x17d9+-0x2cee,0x1e9a*-0x1+-0x6d1+0x256b]],_0x4428ca=this['primitive'][yo]['base'],_0x41944d=this['primitive'][yo]['count'],_0x2f2855=this['indexBuffe'+'r'][yo],_0x21066a=new Lh[_0x2f2855['format']](_0x2f2855['storage']),_0xf5bb1f=new Set();for(let _0x42e131=_0x4428ca;_0x42e131<_0x4428ca+_0x41944d;_0x42e131+=-0x1eec*0x1+0x18f8+0x5f7)for(let _0x146e21=0x1c*-0x26+0x26ef+-0x22c7;_0x146e21<0x27+-0x67*0x2e+-0x125e*-0x1;_0x146e21++){const _0x798fbe=_0x21066a[_0x42e131+_0x1183f5[_0x146e21][0x3d1+-0x1c50+0x187f]],_0x19fb46=_0x21066a[_0x42e131+_0x1183f5[_0x146e21][-0x1119+0x5d2*0x1+0xb48]],_0x59b751=_0x798fbe>_0x19fb46?_0x19fb46*_0x473e47+_0x798fbe:_0x798fbe*_0x473e47+_0x19fb46;_0xf5bb1f['has'](_0x59b751)||(_0xf5bb1f['add'](_0x59b751),_0xe81d9b['push'](_0x798fbe,_0x19fb46));}_0x55c179=_0x2f2855['format'];}else{for(let _0x2ce113=-0x54*-0x43+-0xb*0x31a+0xc22;_0x2ce113<_0x473e47;_0x2ce113+=-0x2e4*0x8+0x8b+0x3*0x788)_0xe81d9b['push'](_0x2ce113,_0x2ce113+(-0x2646+-0xd1d*-0x1+0x192a),_0x2ce113+(-0x133*0x3+-0x1363*-0x1+-0x9*0x1c1),_0x2ce113+(0x1a46+0xb13+-0x2557),_0x2ce113+(0xed*-0x22+0x13*-0x13d+-0x1*-0x3703),_0x2ce113);_0x55c179=_0xe81d9b['length']>0x16154+0xacd4+-0x61*0x2c9?nr:Pi;}const _0x1773c7=new lr(this['vertexBuff'+'er']['device'],_0x55c179,_0xe81d9b['length']);new Lh[_0x1773c7['format']](_0x1773c7['storage'])['set'](_0xe81d9b),_0x1773c7['unlock'](),this['primitive'][Dr]={'type':Pc,'base':0x0,'count':_0xe81d9b['length'],'indexed':!(-0x1*-0x18ac+-0xf*-0x187+-0x2f95)},this['indexBuffe'+'r'][Dr]=_0x1773c7;}}const Gm=new q(),md=new T(),Hm=new se(),_d=new se(),Wm=new T(),$m=new T(),eC=new q(),tC=new se(),kt=new T(),Ha=new q(),Bt=new se(),An=new se(),qm=new q(),gd=new T(),El=new T();function Xm(_0x86ebd6,_0x22f0dc){return _0x86ebd6 instanceof Function?_0x86ebd6:_0xa388f7=>{let _0x3eafcb=_0xa388f7[_0x86ebd6];return _0x3eafcb instanceof Function&&(_0x3eafcb=_0x3eafcb()),_0x3eafcb===_0x22f0dc;};}function w0(_0x20b9be,_0x4e7d7e){if(_0x4e7d7e(_0x20b9be))return _0x20b9be;const _0x28bbc4=_0x20b9be['_children'],_0x575403=_0x28bbc4['length'];for(let _0x164067=-0x1bcd+0x1b*0xdd+0x47e;_0x164067<_0x575403;++_0x164067){const _0x11a91d=w0(_0x28bbc4[_0x164067],_0x4e7d7e);if(_0x11a91d)return _0x11a91d;}return null;}class De extends ce{constructor(_0x54c6ef='Untitled'){super(),c(this,'name'),c(this,'tags',new po(this)),c(this,'localPosit'+'ion',new T()),c(this,'localRotat'+'ion',new se()),c(this,'localScale',new T(-0x62b*0x5+-0x13a9*0x1+0x3281*0x1,-0x1191+0x5*-0x529+0x1*0x2b5f,-0x187f+0x797+0x10e9)),c(this,'localEuler'+'Angles',new T()),c(this,'position',new T()),c(this,'rotation',new se()),c(this,'eulerAngle'+'s',new T()),c(this,'_scale',null),c(this,'localTrans'+'form',new q()),c(this,'_dirtyLoca'+'l',!(-0xaed*-0x3+0xbb9*-0x1+-0x150d)),c(this,'_aabbVer',-0xd*-0x17f+-0x1cce+0x95b),c(this,'_frozen',!(-0x1c8e+-0x1c3e+0x38cd)),c(this,'worldTrans'+'form',new q()),c(this,'_dirtyWorl'+'d',!(0x1*0x6d+0x97a+-0xe*0xb5)),c(this,'_worldScal'+'eSign',-0x26*0x1+0x356+0x198*-0x2),c(this,'_normalMat'+'rix',new js()),c(this,'_dirtyNorm'+'al',!(0x7*0x8d+-0x1666+-0x128b*-0x1)),c(this,'_right',null),c(this,'_up',null),c(this,'_forward',null),c(this,'_parent',null),c(this,'_children',[]),c(this,'_graphDept'+'h',-0x8d0*0x2+-0xf6c+0x210c),c(this,'_enabled',!(0x249b+-0x127c+0x121f*-0x1)),c(this,'_enabledIn'+'Hierarchy',!(0x2b7+0x1153*0x2+-0x255c)),c(this,'scaleCompe'+'nsation',!(0x1*-0x2703+0x4bf+0x1*0x2245)),this['name']=_0x54c6ef;}get['right'](){return this['_right']||(this['_right']=new T()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new T()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new T()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(-0x516+0x1c0d*0x1+-0x16f6));}get['normalMatr'+'ix'](){const _0xde321a=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0xde321a['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(0x1*-0x17f5+0x1fc7*0x1+-0x7d1)),_0xde321a;}set['enabled'](_0x42fbaa){var _0x49ede5;this['_enabled']!==_0x42fbaa&&(this['_enabled']=_0x42fbaa,(_0x42fbaa&&((_0x49ede5=this['_parent'])!=null&&_0x49ede5['enabled'])||!_0x42fbaa)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x42fbaa));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x418467=this['_parent'];if(!_0x418467)return'';let _0x561d7d=this['name'];for(;_0x418467&&_0x418467['_parent'];)_0x561d7d=_0x418467['name']+'/'+_0x561d7d,_0x418467=_0x418467['_parent'];return _0x561d7d;}get['root'](){let _0x4281e3=this;for(;_0x4281e3['_parent'];)_0x4281e3=_0x4281e3['_parent'];return _0x4281e3;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x39c68f,_0x1a25a6){_0x39c68f['_onHierarc'+'hyStateCha'+'nged'](_0x1a25a6);const _0x2d5c93=_0x39c68f['_children'];for(let _0x290d58=-0x5*0x193+0x1b38+-0x1359,_0x2b932b=_0x2d5c93['length'];_0x290d58<_0x2b932b;_0x290d58++)_0x2d5c93[_0x290d58]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x2d5c93[_0x290d58],_0x1a25a6);}['_onHierarc'+'hyStateCha'+'nged'](_0x1fca54){this['_enabledIn'+'Hierarchy']=_0x1fca54,_0x1fca54&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x31fa84){_0x31fa84['name']=this['name'];const _0x4c3e5f=this['tags']['_list'];_0x31fa84['tags']['clear']();for(let _0x4ac2e6=0x21a*0x1+0x1336+-0x16*0xf8;_0x4ac2e6<_0x4c3e5f['length'];_0x4ac2e6++)_0x31fa84['tags']['add'](_0x4c3e5f[_0x4ac2e6]);_0x31fa84['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x31fa84['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x31fa84['localScale']['copy'](this['localScale']),_0x31fa84['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x31fa84['position']['copy'](this['position']),_0x31fa84['rotation']['copy'](this['rotation']),_0x31fa84['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x31fa84['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x31fa84['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x31fa84['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x31fa84['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x31fa84['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x31fa84['_aabbVer']=this['_aabbVer']+(0x197d+0x1a85+-0x3401),_0x31fa84['_enabled']=this['_enabled'],_0x31fa84['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x31fa84['_enabledIn'+'Hierarchy']=!(-0x4*-0x3e5+0x25e1+-0x3574);}['clone'](){const _0x3c5cd5=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x3c5cd5),_0x3c5cd5;}['copy'](_0x3b704f){return _0x3b704f['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x4ea8e8=this['_children'];for(;_0x4ea8e8['length'];){const _0x3b3c50=_0x4ea8e8['pop']();_0x3b3c50['_parent']=null,_0x3b3c50['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x4fd87f,_0x529ac3){const _0x3cf509=[],_0x53df43=Xm(_0x4fd87f,_0x529ac3);return this['forEach'](_0x4e5a49=>{_0x53df43(_0x4e5a49)&&_0x3cf509['push'](_0x4e5a49);}),_0x3cf509;}['findOne'](_0x44f152,_0x41d295){const _0x1b1f32=Xm(_0x44f152,_0x41d295);return w0(this,_0x1b1f32);}['findByTag'](){const _0x2aef2b=arguments,_0x96e931=[],_0x195247=(_0x3ab88f,_0x13c280)=>{_0x13c280&&_0x3ab88f['tags']['has'](..._0x2aef2b)&&_0x96e931['push'](_0x3ab88f);for(let _0xc342ca=0x2*0x634+-0x726+-0x542;_0xc342ca<_0x3ab88f['_children']['length'];_0xc342ca++)_0x195247(_0x3ab88f['_children'][_0xc342ca],!(0x3*0xf1+-0x21f+-0xb4));};return _0x195247(this,!(-0x1744+-0x1e33+0x3578)),_0x96e931;}['findByName'](_0x148a8b){return this['findOne']('name',_0x148a8b);}['findByPath'](_0x4de8b6){const _0xc5e32f=Array['isArray'](_0x4de8b6)?_0x4de8b6:_0x4de8b6['split']('/');let _0x4b1f5a=this;for(let _0x2e983c=0x7*-0x56+-0x21d3+0x242d,_0x396e3e=_0xc5e32f['length'];_0x2e983c<_0x396e3e;++_0x2e983c)if(_0x4b1f5a=_0x4b1f5a['children']['find'](_0x29f969=>_0x29f969['name']===_0xc5e32f[_0x2e983c]),!_0x4b1f5a)return null;return _0x4b1f5a;}['forEach'](_0x444860,_0x349e27){_0x444860['call'](_0x349e27,this);const _0x5aa73e=this['_children'],_0x1b90a3=_0x5aa73e['length'];for(let _0x3f1f5a=-0x137*0x12+0x1ca+0x1414;_0x3f1f5a<_0x1b90a3;++_0x3f1f5a)_0x5aa73e[_0x3f1f5a]['forEach'](_0x444860,_0x349e27);}['isDescenda'+'ntOf'](_0x2cb96c){let _0x4061e4=this['_parent'];for(;_0x4061e4;){if(_0x4061e4===_0x2cb96c)return!(0x386+-0x12de+0xf58);_0x4061e4=_0x4061e4['_parent'];}return!(-0x545+0x1*0xf67+-0xa21);}['isAncestor'+'Of'](_0x2eb320){return _0x2eb320['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x1cc7+0x3e*-0x2b+-0x92e*0x2)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new T()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===0x1*-0xc37+0xadc+0x15b&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x3f4d00;(_0x3f4d00=this['_parent'])==null||_0x3f4d00['removeChil'+'d'](this);}['reparent'](_0x1ee882,_0x470fd3){this['remove'](),_0x1ee882&&(_0x470fd3>=0x6cf+0x230d+-0x4c*0x8d?_0x1ee882['insertChil'+'d'](this,_0x470fd3):_0x1ee882['addChild'](this));}['setLocalEu'+'lerAngles'](_0x26e1b5,_0x14a993,_0x2ae5db){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x26e1b5,_0x14a993,_0x2ae5db),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x3077c3,_0x1c0f5c,_0x5202de){_0x3077c3 instanceof T?this['localPosit'+'ion']['copy'](_0x3077c3):this['localPosit'+'ion']['set'](_0x3077c3,_0x1c0f5c,_0x5202de),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x15d801,_0x20892c,_0x432d7c,_0x2770ee){_0x15d801 instanceof se?this['localRotat'+'ion']['copy'](_0x15d801):this['localRotat'+'ion']['set'](_0x15d801,_0x20892c,_0x432d7c,_0x2770ee),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x586dac,_0x5ccba9,_0xeed29f){_0x586dac instanceof T?this['localScale']['copy'](_0x586dac):this['localScale']['set'](_0x586dac,_0x5ccba9,_0xeed29f),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(-0x1432+0x1d7+0x125b),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x1be6af=this['_parent'];for(;_0x1be6af;)_0x1be6af['_frozen']=!(-0x8c2+0x19b1*-0x1+0x276*0xe),_0x1be6af=_0x1be6af['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(0x1*0x15f7+0x2444+-0x3a3a),this['_dirtyWorl'+'d']=!(0x1c37+-0x1202+-0x43*0x27);for(let _0x59d444=0x11ee+-0xd19+-0x4d5*0x1;_0x59d444<this['_children']['length'];_0x59d444++)this['_children'][_0x59d444]['_dirtyWorl'+'d']||this['_children'][_0x59d444]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(-0x5*0x345+0xa46*-0x1+0x1a9f),this['_worldScal'+'eSign']=0x1933+-0x3f1+-0x1542,this['_aabbVer']++;}['setPositio'+'n'](_0x3e0fc4,_0x2166c5,_0x7c9125){_0x3e0fc4 instanceof T?kt['copy'](_0x3e0fc4):kt['set'](_0x3e0fc4,_0x2166c5,_0x7c9125),this['_parent']===null?this['localPosit'+'ion']['copy'](kt):(Ha['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),Ha['transformP'+'oint'](kt,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x3b560a,_0xb14a70,_0x4640c4,_0x386e83){if(_0x3b560a instanceof se?Bt['copy'](_0x3b560a):Bt['set'](_0x3b560a,_0xb14a70,_0x4640c4,_0x386e83),this['_parent']===null)this['localRotat'+'ion']['copy'](Bt);else{const _0x58d13f=this['_parent']['getRotatio'+'n']();An['copy'](_0x58d13f)['invert'](),this['localRotat'+'ion']['copy'](An)['mul'](Bt);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0xde4859,_0x7cb39a){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0xde4859),this['localRotat'+'ion']['copy'](_0x7cb39a);else{const _0x55fdba=this['_parent']['getWorldTr'+'ansform']();Ha['copy'](_0x55fdba)['invert'](),Ha['transformP'+'oint'](_0xde4859,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](Ha)['mul'](_0x7cb39a);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x3e4eff,_0xde0d67,_0x4ae7f3){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x3e4eff,_0xde0d67,_0x4ae7f3),this['_parent']!==null){const _0x38b919=this['_parent']['getRotatio'+'n']();An['copy'](_0x38b919)['invert'](),this['localRotat'+'ion']['mul2'](An,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x4a96d1){this['_prepareIn'+'sertChild'](_0x4a96d1),this['_children']['push'](_0x4a96d1),this['_onInsertC'+'hild'](_0x4a96d1);}['addChildAn'+'dSaveTrans'+'form'](_0x34caca){const _0x5e5f1e=_0x34caca['getPositio'+'n'](),_0x2c9a05=_0x34caca['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x34caca),_0x34caca['setPositio'+'n'](eC['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x5e5f1e)),_0x34caca['setRotatio'+'n'](tC['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x2c9a05)),this['_children']['push'](_0x34caca),this['_onInsertC'+'hild'](_0x34caca);}['insertChil'+'d'](_0x520667,_0x5b1aec){this['_prepareIn'+'sertChild'](_0x520667),this['_children']['splice'](_0x5b1aec,-0x1247+0xde*0x9+-0x17f*-0x7,_0x520667),this['_onInsertC'+'hild'](_0x520667);}['_prepareIn'+'sertChild'](_0x21bcd8){_0x21bcd8['remove'](),v['assert'](_0x21bcd8!==this,'GraphNode\x20'+(_0x21bcd8==null?void(-0x3b5+0xe03+-0xa4e):_0x21bcd8['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),v['assert'](!this['isDescenda'+'ntOf'](_0x21bcd8),'GraphNode\x20'+(_0x21bcd8==null?void(-0x2645+0x8f1*-0x1+-0x2f36*-0x1):_0x21bcd8['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x4662b2,_0x136b78,_0x592abc){this['fire'](_0x4662b2,_0x592abc);for(let _0x28612c=0x2551*-0x1+-0x1a46+-0x49*-0xdf;_0x28612c<this['_children']['length'];_0x28612c++)this['_children'][_0x28612c]['_fireOnHie'+'rarchy'](_0x136b78,_0x136b78,_0x592abc);}['_onInsertC'+'hild'](_0x107026){_0x107026['_parent']=this;const _0x3c0e73=_0x107026['_enabled']&&this['enabled'];_0x107026['_enabledIn'+'Hierarchy']!==_0x3c0e73&&(_0x107026['_enabledIn'+'Hierarchy']=_0x3c0e73,_0x107026['_notifyHie'+'rarchyStat'+'eChanged'](_0x107026,_0x3c0e73)),_0x107026['_updateGra'+'phDepth'](),_0x107026['_dirtifyWo'+'rld'](),this['_frozen']&&_0x107026['_unfreezeP'+'arentToRoo'+'t'](),_0x107026['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x107026);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(-0x1*0x230d+0x19*0xda+0xdc4):-0x35*0x62+-0x11*0x63+0x1add;for(let _0x511c3d=0x236d+0x1*-0x1ae7+-0x1*0x886,_0x2bffe0=this['_children']['length'];_0x511c3d<_0x2bffe0;_0x511c3d++)this['_children'][_0x511c3d]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x2d10c9){const _0x543ae5=this['_children']['indexOf'](_0x2d10c9);_0x543ae5!==-(-0x23*-0x11b+-0xa2a*0x1+-0x1c86)&&(this['_children']['splice'](_0x543ae5,-0x20bd+-0x643+0x2701),_0x2d10c9['_parent']=null,_0x2d10c9['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x2d10c9));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0x1*-0xaf9+-0x983+-0x1*0x175)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x18c40b;const _0x287b1c=this['_parent'];let _0x50ca0f=this['localScale'],_0x99d503=_0x287b1c;if(_0x99d503){for(;_0x99d503&&_0x99d503['scaleCompe'+'nsation'];)_0x99d503=_0x99d503['_parent'];_0x99d503&&(_0x99d503=_0x99d503['_parent'],_0x99d503&&(_0x18c40b=_0x99d503['worldTrans'+'form']['getScale'](),Wm['mul2'](_0x18c40b,this['localScale']),_0x50ca0f=Wm));}_d['setFromMat'+'4'](_0x287b1c['worldTrans'+'form']),Hm['mul2'](_d,this['localRotat'+'ion']);let _0x97c83a=_0x287b1c['worldTrans'+'form'];_0x287b1c['scaleCompe'+'nsation']&&($m['mul2'](_0x18c40b,_0x287b1c['getLocalSc'+'ale']()),Gm['setTRS'](_0x287b1c['worldTrans'+'form']['getTransla'+'tion'](md),_d,$m),_0x97c83a=Gm),_0x97c83a['transformP'+'oint'](this['localPosit'+'ion'],md),this['worldTrans'+'form']['setTRS'](md,Hm,_0x50ca0f);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(0xb*-0x374+-0x1d*0xe9+-0x7b*-0x86);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(-0x1*-0x21b6+-0x14d6+-0xce0),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x366020=this['_children'];for(let _0x1c6f10=0x1*0x184b+-0x20ab*0x1+0x860,_0xf10dc4=_0x366020['length'];_0x1c6f10<_0xf10dc4;_0x1c6f10++)_0x366020[_0x1c6f10]['syncHierar'+'chy']();}['lookAt'](_0x4294af,_0x56562e,_0x20b0ba,_0x205e51=-0x11*-0x4c+0x1*0x2ce+-0x43*0x1e,_0x236cbd=-0x2678+0x45*0xf+0x226e,_0x3b0804=-0x20b5+-0x889+-0x149f*-0x2){if(_0x4294af instanceof T)gd['copy'](_0x4294af),_0x56562e instanceof T?El['copy'](_0x56562e):El['copy'](T['UP']);else{if(_0x20b0ba===void(0x1*0x1183+0x2616+-0x3799))return;gd['set'](_0x4294af,_0x56562e,_0x20b0ba),El['set'](_0x205e51,_0x236cbd,_0x3b0804);}qm['setLookAt'](this['getPositio'+'n'](),gd,El),Bt['setFromMat'+'4'](qm),this['setRotatio'+'n'](Bt);}['translate'](_0xde19cc,_0x62c9c0,_0x2e78b9){_0xde19cc instanceof T?kt['copy'](_0xde19cc):kt['set'](_0xde19cc,_0x62c9c0,_0x2e78b9),kt['add'](this['getPositio'+'n']()),this['setPositio'+'n'](kt);}['translateL'+'ocal'](_0x2c47d2,_0x11ae47,_0x48986b){_0x2c47d2 instanceof T?kt['copy'](_0x2c47d2):kt['set'](_0x2c47d2,_0x11ae47,_0x48986b),this['localRotat'+'ion']['transformV'+'ector'](kt,kt),this['localPosit'+'ion']['add'](kt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x2e26b0,_0x1fd8a8,_0x3c8598){if(Bt['setFromEul'+'erAngles'](_0x2e26b0,_0x1fd8a8,_0x3c8598),this['_parent']===null)this['localRotat'+'ion']['mul2'](Bt,this['localRotat'+'ion']);else{const _0x550b19=this['getRotatio'+'n'](),_0x46f1f7=this['_parent']['getRotatio'+'n']();An['copy'](_0x46f1f7)['invert'](),Bt['mul2'](An,Bt),this['localRotat'+'ion']['mul2'](Bt,_0x550b19);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x445f62,_0x421655,_0x4c031d){Bt['setFromEul'+'erAngles'](_0x445f62,_0x421655,_0x4c031d),this['localRotat'+'ion']['mul'](Bt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const T0=new Ot();function al(_0x28f839){const _0x3b7deb=T0['get'](_0x28f839);return v['assert'](_0x3b7deb),_0x3b7deb;}function sC(_0x35ee47,_0x2685c3){v['assert'](_0x2685c3),T0['get'](_0x35ee47,()=>_0x2685c3);}class iC{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x46d279,_0x33c0d2)=>{_0x33c0d2['destroy']();}),this['cache']['clear']();}['incRef'](_0x1e2e59){const _0xff5534=(this['cache']['get'](_0x1e2e59)||0xe9*-0x2a+0x17aa+-0x3a4*-0x4)+(0xaec+0x2171+-0x2c5c);this['cache']['set'](_0x1e2e59,_0xff5534);}['decRef'](_0x38c1ac){if(_0x38c1ac){let _0x24b75a=this['cache']['get'](_0x38c1ac);_0x24b75a&&(_0x24b75a--,_0x24b75a===-0x1790+0x1fbe+-0x417*0x2?(this['cache']['delete'](_0x38c1ac),_0x38c1ac['destroy']()):this['cache']['set'](_0x38c1ac,_0x24b75a));}}}class Si{static['incRef'](_0xa82176){this['cache']['incRef'](_0xa82176);}static['decRef'](_0x2e5ea0){this['cache']['decRef'](_0x2e5ea0);}static['destroy'](){this['cache']['destroy']();}}c(Si,'cache',new iC());let rC=0x1*0x10af+0x103+-0x11b2;const nC=new _e(),Cl=new _e(),yd=new Lf(),xd=new Set(),yr=new Uint32Array(0xa66+0x1bff+-0x2661);class aC{constructor(_0x187ea1){c(this,'vertexBuff'+'er',null),c(this,'_destroyVe'+'rtexBuffer',!(-0xc*-0xfb+-0x5*0x2c+-0xae7*0x1)),this['count']=_0x187ea1;}['destroy'](){var _0x25f342;this['_destroyVe'+'rtexBuffer']&&((_0x25f342=this['vertexBuff'+'er'])==null||_0x25f342['destroy']()),this['vertexBuff'+'er']=null;}}class oC{constructor(){c(this,'shader'),c(this,'bindGroup',null),c(this,'uniformBuf'+'fer',null),c(this,'hashes');}['getBindGro'+'up'](_0x499ea7){if(!this['bindGroup']){const _0x5e5e65=this['shader'];v['assert'](_0x5e5e65);const _0x236b8b=_0x5e5e65['meshBindGr'+'oupFormat'];v['assert'](_0x236b8b),this['bindGroup']=new mp(_0x499ea7,_0x236b8b),mn['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x382e97){if(!this['uniformBuf'+'fer']){const _0x3dce6a=this['shader'];v['assert'](_0x3dce6a);const _0x5c2335=_0x3dce6a['meshUnifor'+'mBufferFor'+'mat'];v['assert'](_0x5c2335),this['uniformBuf'+'fer']=new gp(_0x382e97,_0x5c2335,!(0x1*-0x1ce1+-0x11*-0xf1+-0x7*-0x1d7));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x1a2bd1,_0x28dcdd;(_0x1a2bd1=this['bindGroup'])==null||_0x1a2bd1['destroy'](),this['bindGroup']=null,(_0x28dcdd=this['uniformBuf'+'fer'])==null||_0x28dcdd['destroy'](),this['uniformBuf'+'fer']=null;}}const Vr=class Vr{constructor(_0x175a1b,_0x20afee,_0x384b28=null){c(this,'castShadow',!(0xcbe+-0x18c2+0xc05)),c(this,'cull',!(0x1c38+0x4cb*-0x8+0xa20)),c(this,'drawOrder',0xa7f+0x8*-0x48f+0x3d*0x6d),c(this,'node'),c(this,'visible',!(-0x19f6+-0xb57*-0x1+-0x1*-0xe9f)),c(this,'visibleThi'+'sFrame',!(-0x1032+-0x415*-0x1+-0x8d*-0x16)),c(this,'flipFacesF'+'actor',0xd78*0x2+0x1*0x817+-0x2306),c(this,'gsplatInst'+'ance',null),c(this,'id',rC++),c(this,'isVisibleF'+'unc',null),c(this,'instancing'+'Data',null),c(this,'parameters',{}),c(this,'pick',!(-0xe4*-0x1+0x2430+0x153*-0x1c)),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'transparen'+'t',!(-0x1908+-0xc2f*-0x3+0x43*-0x2c)),c(this,'_aabb',new _e()),c(this,'_aabbVer',-(-0x4*-0x671+-0x12a3+-0x720)),c(this,'_aabbMeshV'+'er',-(-0x2681+0x18b2+0x88*0x1a)),c(this,'_customAab'+'b',null),c(this,'_updateAab'+'b',!(-0x18ee+-0x50*0x6+0x1ace)),c(this,'_updateAab'+'bFunc',null),c(this,'_key',[0x3f9+0x301+0x37d*-0x2,-0x182d+-0x7*-0xbf+0x12f4]),c(this,'_layer',c0),c(this,'_material',null),c(this,'_skinInsta'+'nce',null),c(this,'_morphInst'+'ance',null),c(this,'_receiveSh'+'adow',!(-0x859+0xeef+0x119*-0x6)),c(this,'_renderSty'+'le',yo),c(this,'_screenSpa'+'ce',!(0xdb8*-0x1+-0x4d9*-0x2+0x407)),c(this,'_shaderCac'+'he',new Map()),c(this,'_shaderDef'+'s',hs<<0x170d+-0x3*0xb12+0x1*0xa39),c(this,'_calculate'+'SortDistan'+'ce',null);if(v['assert'](!(_0x175a1b instanceof De),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x384b28,this['_mesh']=_0x175a1b,_0x175a1b['incRefCoun'+'t'](),this['material']=_0x20afee,_0x175a1b['vertexBuff'+'er']){const _0x35a943=_0x175a1b['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x35a943['hasUv0']?m0:-0x1a1d+0x131+0x3a*0x6e,this['_shaderDef'+'s']|=_0x35a943['hasUv1']?_0:-0x4d4*0x4+-0xa01*0x1+-0x1d51*-0x1,this['_shaderDef'+'s']|=_0x35a943['hasColor']?g0:-0x1*0xfd9+0x1d7a+-0xda1,this['_shaderDef'+'s']|=_0x35a943['hasTangent'+'s']?Mp:-0x73e+0xd44+-0x606*0x1;}this['updateKey']();}set['renderStyl'+'e'](_0x2bad02){this['_renderSty'+'le']=_0x2bad02,this['mesh']['prepareRen'+'derState'](_0x2bad02);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x4c92e6){_0x4c92e6!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x4c92e6,_0x4c92e6&&_0x4c92e6['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x2e6941){this['_aabb']=_0x2e6941;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x5a9297=this['_customAab'+'b'],_0x4da4e3=!!_0x5a9297;if(!_0x5a9297){if(_0x5a9297=nC,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0xb15106=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0xb15106);}const _0x1baeb0=this['mesh']['boneUsed'];let _0x5e0582=!(0x6df*-0x4+0x20f8+0x1d4*-0x3);for(let _0x283754=-0x1c02+-0x13f3*-0x1+0x80f;_0x283754<this['mesh']['boneAabb']['length'];_0x283754++)_0x1baeb0[_0x283754]&&(Cl['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x283754],this['skinInstan'+'ce']['matrices'][_0x283754]),_0x5e0582?(_0x5e0582=!(-0x2*-0xca5+-0x1531+0x106*-0x4),_0x5a9297['center']['copy'](Cl['center']),_0x5a9297['halfExtent'+'s']['copy'](Cl['halfExtent'+'s'])):_0x5a9297['add'](Cl));_0x4da4e3=!(-0xd90+-0x1*0x7b9+0x1549);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x5a9297['center']['copy'](this['mesh']['aabb']['center']),_0x5a9297['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x5a9297['center']['set'](-0x960+0x17*-0x80+-0x1*-0x14e0,0xa6f*0x1+0x10*-0xe0+-0xb*-0x53,0x8e*0x8+0x18b+-0x5fb),_0x5a9297['halfExtent'+'s']['set'](0x264d+0x51*0x1c+-0x2f29,0x37f*0xb+-0xab*-0xf+-0x307a,-0x7*-0xf2+0x2534+-0x2bd2)),this['mesh']&&this['mesh']['morph']){const _0x31852b=this['mesh']['morph']['aabb'];_0x5a9297['_expand'](_0x31852b['getMin'](),_0x31852b['getMax']());}_0x4da4e3=!(0x2f*-0xb6+0x2*0x133+0x1f04),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x4da4e3&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x5a9297,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x14eb27=>{_0x14eb27['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x3bf181,_0x227139,_0x53a947,_0xc5a08f,_0x643c33,_0x2f12d0,_0x28a1be){var _0x49a9fa;const _0x3d5b61=this['_shaderDef'+'s'];yr[0x6fd*-0x2+0x15c+-0x64f*-0x2]=_0x3bf181,yr[0x1*-0x3a6+0x1b16*0x1+-0x176f]=_0x227139,yr[-0x4*-0x7b9+-0x144e+0x54a*-0x2]=_0x3d5b61,yr[0xb42+-0x4*-0x128+-0xfdf*0x1]=_0xc5a08f['hash'];const _0x14de41=Zy(yr);let _0x1859d1=this['_shaderCac'+'he']['get'](_0x14de41);if(!_0x1859d1){const _0x4126f3=this['_material'];if(_0x1859d1=new oC(),_0x1859d1['shader']=_0x4126f3['variants']['get'](_0x14de41),_0x1859d1['hashes']=new Uint32Array(yr),!_0x1859d1['shader']){G['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x1b8027=_0x4126f3['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x53a947,'objDefs':_0x3d5b61,'cameraShaderParams':_0xc5a08f,'pass':_0x3bf181,'sortedLights':_0x28a1be,'viewUniformFormat':_0x643c33,'viewBindGroupFormat':_0x2f12d0,'vertexFormat':(_0x49a9fa=this['mesh']['vertexBuff'+'er'])==null?void(-0x443*-0x1+0x1a*-0xbb+0xebb):_0x49a9fa['format']});G['popGpuMark'+'er'](this['mesh']['device']),_0x4126f3['variants']['set'](_0x14de41,_0x1b8027),_0x1859d1['shader']=_0x1b8027;}this['_shaderCac'+'he']['set'](_0x14de41,_0x1859d1);}return v['call'](()=>{Wv['equals'](_0x1859d1['hashes'],yr)||v['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x1859d1;}set['material'](_0x489bdd){this['clearShade'+'rs']();const _0x46c352=this['_material'];_0x46c352&&_0x46c352['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x489bdd,_0x489bdd&&(_0x489bdd['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x489bdd['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}set['layer'](_0x5bbfd6){this['_layer']=_0x5bbfd6,this['updateKey']();}get['layer'](){return this['_layer'];}['_updateSha'+'derDefs'](_0x529dbb){_0x529dbb!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x529dbb,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x2e4357){this['_calculate'+'SortDistan'+'ce']=_0x2e4357;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x3f43ff){this['_receiveSh'+'adow']!==_0x3f43ff&&(this['_receiveSh'+'adow']=_0x3f43ff,this['_updateSha'+'derDefs'](_0x3f43ff?this['_shaderDef'+'s']&-(-0x8*-0x17b+0x1*0x641+-0x1217):this['_shaderDef'+'s']|Ep));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x53647c){this['_updateSha'+'derDefs'](_0x53647c?this['_shaderDef'+'s']|Ou:this['_shaderDef'+'s']&-(0x7*0x10b9+-0x47dd*0x1+0x12cf));}get['batching'](){return(this['_shaderDef'+'s']&Ou)!==-0x2*-0xeb1+0xfc1+-0x2d23;}set['skinInstan'+'ce'](_0x5cce22){this['_skinInsta'+'nce']=_0x5cce22,this['_updateSha'+'derDefs'](_0x5cce22?this['_shaderDef'+'s']|Wc:this['_shaderDef'+'s']&-(-0x20f3+-0xa6b+-0x8ad*-0x5)),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0xa2e635){var _0x300bbe;(_0x300bbe=this['_morphInst'+'ance'])==null||_0x300bbe['destroy'](),this['_morphInst'+'ance']=_0xa2e635;let _0xf222f0=this['_shaderDef'+'s'];_0xf222f0=_0xa2e635&&_0xa2e635['morph']['morphPosit'+'ions']?_0xf222f0|qc:_0xf222f0&-(0x2604*-0x1+0xd*-0x106+-0x3753*-0x1),_0xf222f0=_0xa2e635&&_0xa2e635['morph']['morphNorma'+'ls']?_0xf222f0|Xc:_0xf222f0&-(0x16b5*0x1+0x1b1a+-0x1*0x29ce),_0xf222f0=_0xa2e635&&_0xa2e635['morph']['intRenderF'+'ormat']?_0xf222f0|jc:_0xf222f0&-(-0x21a6+-0x3e96+0x803d),this['_updateSha'+'derDefs'](_0xf222f0);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x121f08){this['_screenSpa'+'ce']!==_0x121f08&&(this['_screenSpa'+'ce']=_0x121f08,this['_updateSha'+'derDefs'](_0x121f08?this['_shaderDef'+'s']|Cp:this['_shaderDef'+'s']&-(0x1*0x254f+0x13ec+0x12be*-0x3)));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x1e814a){this['_key'][Ei]=_0x1e814a;}get['key'](){return this['_key'][Ei];}set['mask'](_0x40b17d){const _0x3a3c0f=this['_shaderDef'+'s']&-0x15576+-0x1b6d5*0x1+0x6f*0x956;this['_updateSha'+'derDefs'](_0x3a3c0f|_0x40b17d<<-0x694*-0x2+0x9da*0x1+-0x21*0xb2);}get['mask'](){return this['_shaderDef'+'s']>>-0x815*0x1+0xe40+-0x61b;}set['instancing'+'Count'](_0x30b74e){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x30b74e);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:0xdfd*0x1+-0x6*-0x48+-0xfad;}['destroy'](){var _0x16bc92,_0x5aaefe,_0xd87baf;const _0xfe6f8a=this['mesh'];_0xfe6f8a&&(this['mesh']=null,_0xfe6f8a['refCount']<0x3d5+0xd5a*-0x1+0x986&&_0xfe6f8a['destroy']()),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0x29f*-0x5+0x3c1+-0x53*0x34],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0x1717+0x2*0x4ff+-0x108a*0x2],null),(_0x16bc92=this['_skinInsta'+'nce'])==null||_0x16bc92['destroy'](),this['_skinInsta'+'nce']=null,(_0x5aaefe=this['morphInsta'+'nce'])==null||_0x5aaefe['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0xd87baf=this['instancing'+'Data'])==null||_0xd87baf['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x34ff02,_0x2f816e){if(_0x34ff02){for(let _0x4a5944=-0x869+0x47*0x3d+0x882*-0x1;_0x4a5944<_0x34ff02['length'];_0x4a5944++){_0x34ff02[_0x4a5944]['_renderSty'+'le']=_0x2f816e;const _0x475232=_0x34ff02[_0x4a5944]['mesh'];xd['has'](_0x475232)||(xd['add'](_0x475232),_0x475232['prepareRen'+'derState'](_0x2f816e));}xd['clear']();}}['_isVisible'](_0x4dd0ec){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x4dd0ec):(yd['center']=this['aabb']['center'],yd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x4dd0ec['frustum']['containsSp'+'here'](yd)>-0xe*-0xe5+-0x550+-0x736):!(-0x151+-0x9d3*0x1+0xb25);}['updateKey'](){const _0x4f6858=this['material'],_0x5acac3=_0x4f6858['alphaToCov'+'erage']||_0x4f6858['alphaTest']?Kt:_0x4f6858['blendType'];this['_key'][Ei]=(this['layer']&0x2228*-0x1+-0x277*0x2+0x2725)<<0x26cb+-0x4*0x926+-0x218|(_0x5acac3===is?0x1d9b+0x1e4*0x6+-0x28f2:0xea2+-0x1721*-0x1+-0x25c3)<<0x3*0x5ac+-0x8c*-0x29+-0x2*0x13ab|(_0x4f6858['id']&0x2ff689d+0x14cffec+-0x24c688a)<<0x781+-0x3*-0xced+0x1*-0x2e48;}['setInstanc'+'ing'](_0x15b785,_0x1558f3=!(0x2250+0x2580+-0x251*0x1f)){_0x15b785?(this['instancing'+'Data']=new aC(_0x15b785['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x15b785,_0x15b785['format']['instancing']=!(-0x13bf+-0x2366*0x1+0x3725),this['cull']=_0x1558f3):(this['instancing'+'Data']=null,this['cull']=!(0x859*-0x1+-0x1*0xc+0x865*0x1)),this['_updateSha'+'derDefs'](_0x15b785?this['_shaderDef'+'s']|$c:this['_shaderDef'+'s']&-(-0x232c+-0x1891+0x3bde));}['ensureMate'+'rial'](_0x28a878){this['material']||(v['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=al(_0x28a878));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x1882c9){return this['parameters'][_0x1882c9];}['setParamet'+'er'](_0xd1afb5,_0x203034,_0x29670c=0xf35*0x179a5f+0xae573a2b+0xb7*-0x183e0e1){const _0x3d188f=this['parameters'][_0xd1afb5];_0x3d188f?(_0x3d188f['data']=_0x203034,_0x3d188f['passFlags']=_0x29670c):this['parameters'][_0xd1afb5]={'scopeId':null,'data':_0x203034,'passFlags':_0x29670c};}['setRealtim'+'eLightmap'](_0x5368ad,_0xe4753){const _0x323234=this['getParamet'+'er'](_0x5368ad);_0x323234!==_0xe4753&&(_0x323234&&Si['decRef'](_0x323234['data']),_0xe4753?(Si['incRef'](_0xe4753),this['setParamet'+'er'](_0x5368ad,_0xe4753)):this['deletePara'+'meter'](_0x5368ad));}['deletePara'+'meter'](_0x409fbd){this['parameters'][_0x409fbd]&&delete this['parameters'][_0x409fbd];}['setParamet'+'ers'](_0x1a0634,_0x1541fc){const _0x2dd44b=this['parameters'];for(const _0x4a746f in _0x2dd44b){const _0x5916ad=_0x2dd44b[_0x4a746f];_0x5916ad['passFlags']&_0x1541fc&&(_0x5916ad['scopeId']||(_0x5916ad['scopeId']=_0x1a0634['scope']['resolve'](_0x4a746f)),_0x5916ad['scopeId']['setValue'](_0x5916ad['data']));}}['setLightma'+'pped'](_0x2eaefa){_0x2eaefa?this['mask']=(this['mask']|cr)&-(-0xe9b+-0x7c*-0x7+0xb3d):(this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0x25ff+0x1*0x9bf+-0x2fbe],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0x35b*0x1+-0x2f1+0x5*-0x15],null),this['_shaderDef'+'s']&=-(-0x6dd+0x217d+-0x13*0x85),this['mask']=(this['mask']|hs)&-(-0x92f*-0x1+0x10+-0x938*0x1));}['setCustomA'+'abb'](_0xe5eddc){_0xe5eddc?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0xe5eddc):this['_customAab'+'b']=_0xe5eddc['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(0x1ac*0x10+-0x25*0xf+-0x1894)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};c(Vr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let Le=Vr;const lC=[0x8be+-0x3*0x9fa+0x10*0x153,-0x1326+0xfca+0x35d,0x907*0x4+0x230d+-0x2393*0x2,0x1496+0x1025+-0x24b9,-0xf29*0x2+0x4*0x469+0xcb1,-0x86b*0x3+-0x123f+-0x1*-0x2b81],hC=[-0x2b*0x37+0x20d2+-0x1*0x1795,-0xd23+-0xf2*-0x7+0x686,0x64b*-0x5+-0x7*-0x2a5+-0xcf7*-0x1,-0x11d6+-0xad5*0x1+0xb3*0x29,0x1d5b+0xdd*0x1+-0x1e35,-0x103b+0x12e*0x7+0x7fb],jm=new js();function Ym(_0x98577d,_0x38ca23){if(_0x98577d&&!_0x38ca23||!_0x98577d&&_0x38ca23)return!(0x3c9+0x222c+-0x25f4*0x1);if(_0x98577d=_0x98577d['data'],_0x38ca23=_0x38ca23['data'],_0x98577d===_0x38ca23)return!(0x16db+-0xcac+-0xa2f);if(_0x98577d instanceof Float32Array&&_0x38ca23 instanceof Float32Array){if(_0x98577d['length']!==_0x38ca23['length'])return!(-0x28e+-0x369*-0x3+0x1eb*-0x4);for(let _0x438422=-0x1*-0x1d4b+0x26e5+-0x2218*0x2;_0x438422<_0x98577d['length'];_0x438422++)if(_0x98577d[_0x438422]!==_0x38ca23[_0x438422])return!(-0x1d07+-0x14b4+-0xc*-0x425);return!(0x2*-0xb2+0x719+-0x5b5);}return!(-0x685*-0x2+0x5a+0x17*-0x95);}function cC(_0x2ef5e2,_0x3bcf14){for(const _0x21779f in _0x2ef5e2)if(_0x2ef5e2['hasOwnProp'+'erty'](_0x21779f)&&!Ym(_0x2ef5e2[_0x21779f],_0x3bcf14[_0x21779f]))return!(0x126a*0x1+0x2*-0x12b2+-0x71*-0x2b);for(const _0x1ff536 in _0x3bcf14)if(_0x3bcf14['hasOwnProp'+'erty'](_0x1ff536)&&!Ym(_0x3bcf14[_0x1ff536],_0x2ef5e2[_0x1ff536]))return!(-0x21d8+0x2d3*0xd+-0x2*0x16f);return!(-0xcb7+0x30*-0xb8+0x2f37);}function Sd(_0x3b4a0b){return _0x3b4a0b['node']['worldTrans'+'form']['scaleSign'];}class dC{constructor(_0x5c99a2,_0x1c862f,_0x1df309){this['device']=_0x5c99a2,this['rootNode']=_0x1c862f,this['scene']=_0x1df309,this['_init']=!(-0x11d4+0xeff+0xb*0x42),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=-0x23c*0x11+-0x521+0xd*0x351,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x3d886b,_0x502a92,_0x422121,_0x13853c,_0x182db5){if(_0x13853c===void(0x1*-0x304+0x2219+-0x49*0x6d)&&(_0x13853c=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0x13853c]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x13853c+('\x20already\x20e'+'xists.'));return;}const _0x1c66e5=new et(_0x13853c,_0x3d886b,_0x502a92,_0x422121,_0x182db5);return this['_batchGrou'+'ps'][_0x13853c]=_0x1c66e5,_0x1c66e5;}['removeGrou'+'p'](_0x228269){if(!this['_batchGrou'+'ps'][_0x228269]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x228269+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x56e6c8=[];for(let _0xa72168=-0x1*0x11e+-0x202f+0x214d;_0xa72168<this['_batchList']['length'];_0xa72168++)this['_batchList'][_0xa72168]['batchGroup'+'Id']===_0x228269?this['destroyBat'+'ch'](this['_batchList'][_0xa72168]):_0x56e6c8['push'](this['_batchList'][_0xa72168]);this['_batchList']=_0x56e6c8,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x228269),delete this['_batchGrou'+'ps'][_0x228269];}['markGroupD'+'irty'](_0x38f85c){this['_dirtyGrou'+'ps']['indexOf'](_0x38f85c)<0x2ea+0x2639+0x1*-0x2923&&this['_dirtyGrou'+'ps']['push'](_0x38f85c);}['getGroupBy'+'Name'](_0x3699a7){const _0x16677f=this['_batchGrou'+'ps'];for(const _0x33cfe5 in _0x16677f)if(_0x16677f['hasOwnProp'+'erty'](_0x33cfe5)&&_0x16677f[_0x33cfe5]['name']===_0x3699a7)return _0x16677f[_0x33cfe5];return null;}['getBatches'](_0x2dfa11){const _0x3b7de9=[],_0x4ede2c=this['_batchList']['length'];for(let _0x34c62e=-0x4da+0x196f*0x1+-0x1495;_0x34c62e<_0x4ede2c;_0x34c62e++){const _0x460c8c=this['_batchList'][_0x34c62e];_0x460c8c['batchGroup'+'Id']===_0x2dfa11&&_0x3b7de9['push'](_0x460c8c);}return _0x3b7de9;}['_removeMod'+'elsFromBat'+'chGroup'](_0x5cfb38,_0x3cd4da){if(_0x5cfb38['enabled']){_0x5cfb38['model']&&_0x5cfb38['model']['batchGroup'+'Id']===_0x3cd4da&&(_0x5cfb38['model']['batchGroup'+'Id']=-(-0x17b*0x10+-0x4c*-0x42+0x419)),_0x5cfb38['render']&&_0x5cfb38['render']['batchGroup'+'Id']===_0x3cd4da&&(_0x5cfb38['render']['batchGroup'+'Id']=-(0x18a4+0x2649+-0x1*0x3eec)),_0x5cfb38['element']&&_0x5cfb38['element']['batchGroup'+'Id']===_0x3cd4da&&(_0x5cfb38['element']['batchGroup'+'Id']=-(0x17f*0x2+-0x145b*0x1+-0x1*-0x115e)),_0x5cfb38['sprite']&&_0x5cfb38['sprite']['batchGroup'+'Id']===_0x3cd4da&&(_0x5cfb38['sprite']['batchGroup'+'Id']=-(0x739+-0xc80+0x548));for(let _0xf1199c=-0x7ce*-0x1+0x4ee+-0xcbc;_0xf1199c<_0x5cfb38['_children']['length'];_0xf1199c++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x5cfb38['_children'][_0xf1199c],_0x3cd4da);}}['insert'](_0x356ff8,_0x472276,_0x345054){const _0x187b85=this['_batchGrou'+'ps'][_0x472276];v['assert'](_0x187b85,'Invalid\x20ba'+'tch\x20'+_0x472276+'\x20insertion'),_0x187b85&&_0x187b85['_obj'][_0x356ff8]['indexOf'](_0x345054)<0x6a3+0x16b3+-0x1d56&&(_0x187b85['_obj'][_0x356ff8]['push'](_0x345054),this['markGroupD'+'irty'](_0x472276));}['remove'](_0x2fceac,_0x240c2a,_0x1d9336){const _0x1a8e3e=this['_batchGrou'+'ps'][_0x240c2a];if(v['assert'](_0x1a8e3e,'Invalid\x20ba'+'tch\x20'+_0x240c2a+'\x20insertion'),_0x1a8e3e){const _0x1053bf=_0x1a8e3e['_obj'][_0x2fceac]['indexOf'](_0x1d9336);_0x1053bf>=-0x212*0x6+-0x2*-0xb89+-0x5e*0x1d&&(_0x1a8e3e['_obj'][_0x2fceac]['splice'](_0x1053bf,0x3*0xaf9+-0xe2b*-0x1+-0x2f15),this['markGroupD'+'irty'](_0x240c2a));}}['_extractRe'+'nder'](_0x599c25,_0x3bf709,_0x4a2343,_0x2349da){return _0x599c25['render']&&(_0x3bf709=_0x2349da[_0x599c25['render']['batchGroup'+'Id']]=_0x3bf709['concat'](_0x599c25['render']['meshInstan'+'ces']),_0x599c25['render']['removeFrom'+'Layers']()),_0x3bf709;}['_extractMo'+'del'](_0x5411ce,_0x5f2275,_0x1396cb,_0x1b5e81){return _0x5411ce['model']&&_0x5411ce['model']['model']&&(_0x5f2275=_0x1b5e81[_0x5411ce['model']['batchGroup'+'Id']]=_0x5f2275['concat'](_0x5411ce['model']['meshInstan'+'ces']),_0x5411ce['model']['removeMode'+'lFromLayer'+'s'](),_0x5411ce['model']['_batchGrou'+'p']=_0x1396cb),_0x5f2275;}['_extractEl'+'ement'](_0x90b870,_0x135f31,_0xb22763){if(!_0x90b870['element'])return;let _0xddf99c=!(0x1d7*-0x9+0x192d*-0x1+0x29bd);_0x90b870['element']['_text']&&_0x90b870['element']['_text']['_model']['meshInstan'+'ces']['length']>-0x3*0x884+0xfb1+-0x1d*-0x57?(_0x135f31['push'](_0x90b870['element']['_text']['_model']['meshInstan'+'ces'][0x24f0*-0x1+0x1*-0x6+-0x72*-0x53]),_0x90b870['element']['removeMode'+'lFromLayer'+'s'](_0x90b870['element']['_text']['_model']),_0xddf99c=!(-0x1*0xd6e+0x1*0x1083+-0x107*0x3)):_0x90b870['element']['_image']&&(_0x135f31['push'](_0x90b870['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x90b870['element']['removeMode'+'lFromLayer'+'s'](_0x90b870['element']['_image']['_renderabl'+'e']['model']),_0x90b870['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x135f31['push'](_0x90b870['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x90b870['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x90b870['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x90b870['element']['_dirtifyMa'+'sk'](),_0x90b870['element']['_onPrerend'+'er']())),_0xddf99c=!(-0xddf+-0x1b*-0x89+-0x1*0x94)),_0xddf99c&&(_0xb22763['_ui']=!(-0x1fb5+0x1d82+0x233),_0x90b870['element']['_batchGrou'+'p']=_0xb22763);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x5c00ae,_0x56647f){for(let _0x109735=-0x1*-0x1625+0x1186+-0x27ab;_0x109735<_0x56647f['length'];_0x109735++){const _0x1fd9a3=_0x56647f[_0x109735],_0x1df7f2=this['_batchGrou'+'ps'][_0x1fd9a3];if(!_0x1df7f2)continue;let _0x49b683=_0x5c00ae[_0x1fd9a3];_0x49b683||(_0x49b683=_0x5c00ae[_0x1fd9a3]=[]);for(let _0x2c9b87=-0x593+0x15*-0x1d4+-0x5*-0x8cb;_0x2c9b87<_0x1df7f2['_obj']['model']['length'];_0x2c9b87++)_0x49b683=this['_extractMo'+'del'](_0x1df7f2['_obj']['model'][_0x2c9b87],_0x49b683,_0x1df7f2,_0x5c00ae);for(let _0x53c3e7=0x1142+0x1b3e+0xb20*-0x4;_0x53c3e7<_0x1df7f2['_obj']['render']['length'];_0x53c3e7++)_0x49b683=this['_extractRe'+'nder'](_0x1df7f2['_obj']['render'][_0x53c3e7],_0x49b683,_0x1df7f2,_0x5c00ae);for(let _0xc54bf0=-0x9a1+-0x85+0x362*0x3;_0xc54bf0<_0x1df7f2['_obj']['element']['length'];_0xc54bf0++)this['_extractEl'+'ement'](_0x1df7f2['_obj']['element'][_0xc54bf0],_0x49b683,_0x1df7f2);for(let _0x11255f=-0x41+-0x3*0x68+0x179;_0x11255f<_0x1df7f2['_obj']['sprite']['length'];_0x11255f++){const _0x599a48=_0x1df7f2['_obj']['sprite'][_0x11255f];_0x599a48['sprite']&&_0x599a48['sprite']['_meshInsta'+'nce']&&(_0x1df7f2['dynamic']||_0x599a48['sprite']['sprite']['_renderMod'+'e']===Ti)&&(_0x49b683['push'](_0x599a48['sprite']['_meshInsta'+'nce']),_0x599a48['sprite']['removeMode'+'lFromLayer'+'s'](),_0x1df7f2['_sprite']=!(-0x5f2+0x2415+-0x1e23),_0x599a48['sprite']['_batchGrou'+'p']=_0x1df7f2);}}}['generate'](_0x2cdacb){const _0xb2390e={};_0x2cdacb||(_0x2cdacb=Object['keys'](this['_batchGrou'+'ps']));const _0x421175=[];for(let _0x183c4a=0xda3*-0x1+-0x19b0+0x2753;_0x183c4a<this['_batchList']['length'];_0x183c4a++){if(_0x2cdacb['indexOf'](this['_batchList'][_0x183c4a]['batchGroup'+'Id'])<0xf7b+-0x1d2e+0xdb3){_0x421175['push'](this['_batchList'][_0x183c4a]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x183c4a]);}if(this['_batchList']=_0x421175,this['_collectAn'+'dRemoveMes'+'hInstances'](_0xb2390e,_0x2cdacb),_0x2cdacb===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=-0x127e+0x1*-0xb16+0x1d94;else{const _0x3bb648=[];for(let _0x199d79=0x1*0x1b95+0x1*-0x3a+0x1*-0x1b5b;_0x199d79<this['_dirtyGrou'+'ps']['length'];_0x199d79++)_0x2cdacb['indexOf'](this['_dirtyGrou'+'ps'][_0x199d79])<0xd25*0x1+0x42d+0x1152*-0x1&&_0x3bb648['push'](this['_dirtyGrou'+'ps'][_0x199d79]);this['_dirtyGrou'+'ps']=_0x3bb648;}let _0x4a2dea,_0x94b0e,_0x41087f,_0x706a90;for(const _0x45a03e in _0xb2390e)if(_0xb2390e['hasOwnProp'+'erty'](_0x45a03e)){if(_0x4a2dea=_0xb2390e[_0x45a03e],_0x41087f=this['_batchGrou'+'ps'][_0x45a03e],!_0x41087f){v['error']('batch\x20grou'+'p\x20'+_0x45a03e+'\x20not\x20found');continue;}_0x94b0e=this['prepare'](_0x4a2dea,_0x41087f['dynamic'],_0x41087f['maxAabbSiz'+'e'],_0x41087f['_ui']||_0x41087f['_sprite']);for(let _0x219bee=0x1fb*0xb+-0x7cf*-0x1+-0x1d98;_0x219bee<_0x94b0e['length'];_0x219bee++)_0x706a90=this['create'](_0x94b0e[_0x219bee],_0x41087f['dynamic'],parseInt(_0x45a03e,-0x808+0x1d06+-0x14f4)),_0x706a90&&_0x706a90['addToLayer'+'s'](this['scene'],_0x41087f['layers']);}}['prepare'](_0x403678,_0x3d3b78,_0x2e36a2=Number['POSITIVE_I'+'NFINITY'],_0x2d8016){if(_0x403678['length']===0x1495+0x1f2c+-0x33c1)return[];const _0x100a05=_0x2e36a2*(0x14b9+-0x31*0x4c+-0x62d*0x1+0.5),_0x10611f=0x1*-0x703+0x4*-0x245+0x1417,_0x3ed597=0x1c83300a3+-0xaeb372cf+-0x197f8dd5,_0x9ad5fe=new _e(),_0x4851e7=new _e();let _0x275828=null,_0x43510a;const _0xbd742e=[];let _0x4fb697=-0x13*-0x10d+0x74*0xb+-0x18f3;_0x2d8016&&_0x403678['sort']((_0x1d34bc,_0x49e024)=>_0x1d34bc['drawOrder']-_0x49e024['drawOrder']);let _0x2592c4=_0x403678,_0x45fad9;const _0xd3b0cb=_0x2d8016?function(_0x1000c6){_0x275828?_0x275828['add'](_0x1000c6['aabb']):_0x275828=_0x1000c6['aabb']['clone'](),_0x45fad9['push'](_0x1000c6);}:function(_0x5349fd){_0x45fad9['push'](_0x5349fd);};for(;_0x2592c4['length']>-0x1156*-0x1+-0x16d9+-0x1*-0x583;){_0xbd742e[_0x4fb697]=[_0x2592c4[-0x10d*-0xa+0x6b9*-0x1+-0x39*0x11]],_0x45fad9=[];const _0x4197c6=_0x2592c4[0x1148+-0x1d1e+-0x65*-0x1e]['material'],_0x29b809=_0x2592c4[0xc7c+0x9f2+-0x166e]['layer'],_0x18ca34=_0x2592c4[-0x1bc0*0x1+0x4*0x82f+-0x4fc]['_shaderDef'+'s'],_0x7598ed=_0x2592c4[0xda1+0x1*-0x2173+0x13d2]['parameters'],_0x3408f3=_0x2592c4[0xab8+0x1*-0x103a+0x5*0x11a]['stencilFro'+'nt'];let _0x283c1c=_0x2592c4[-0xc9d+0xf07*0x1+-0x26a]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x4d4eb9=_0x2592c4[0x23*0x42+-0x260e+0x1d08]['drawOrder'];_0x9ad5fe['copy'](_0x2592c4[0x1fda+0x235b+-0xd71*0x5]['aabb']);const _0xceecdc=Sd(_0x2592c4[-0x240e+-0xb*-0xb8+0x1c26]),_0x39af1d=_0x2592c4[-0x1*0x51b+-0x181b+0x1d36]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x3b059e=_0x2592c4[0x5*0x1ce+-0x16d3+0xdcd*0x1]['mesh']['primitive'][0x132f+-0x22aa+0xf7b]['indexed'];_0x275828=null;for(let _0x2bfb03=-0x373*0xa+0xe6e*0x2+0x27*0x25;_0x2bfb03<_0x2592c4['length'];_0x2bfb03++){const _0x5588a3=_0x2592c4[_0x2bfb03];if(_0x3d3b78&&_0xbd742e[_0x4fb697]['length']>=_0x10611f){_0x45fad9=_0x45fad9['concat'](_0x2592c4['slice'](_0x2bfb03));break;}if(_0x4197c6!==_0x5588a3['material']||_0x29b809!==_0x5588a3['layer']||_0x39af1d!==_0x5588a3['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x3b059e!==_0x5588a3['mesh']['primitive'][-0xa*-0x303+0x67d+-0x249b]['indexed']||_0x18ca34!==_0x5588a3['_shaderDef'+'s']||_0x283c1c+_0x5588a3['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x3ed597){_0xd3b0cb(_0x5588a3);continue;}if(_0x4851e7['copy'](_0x9ad5fe),_0x4851e7['add'](_0x5588a3['aabb']),_0x4851e7['halfExtent'+'s']['x']>_0x100a05||_0x4851e7['halfExtent'+'s']['y']>_0x100a05||_0x4851e7['halfExtent'+'s']['z']>_0x100a05){_0xd3b0cb(_0x5588a3);continue;}if(_0x3408f3&&(!(_0x43510a=_0x5588a3['stencilFro'+'nt'])||_0x3408f3['func']!==_0x43510a['func']||_0x3408f3['zpass']!==_0x43510a['zpass'])){_0xd3b0cb(_0x5588a3);continue;}if(_0xceecdc!==Sd(_0x5588a3)){_0xd3b0cb(_0x5588a3);continue;}if(!cC(_0x7598ed,_0x5588a3['parameters'])){_0xd3b0cb(_0x5588a3);continue;}if(_0x2d8016&&_0x275828&&_0x275828['intersects'](_0x5588a3['aabb'])&&_0x5588a3['drawOrder']!==_0x4d4eb9){_0xd3b0cb(_0x5588a3);continue;}_0x9ad5fe['add'](_0x5588a3['aabb']),_0x283c1c+=_0x5588a3['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0xbd742e[_0x4fb697]['push'](_0x5588a3);}_0x4fb697++,_0x2592c4=_0x45fad9;}return _0xbd742e;}['collectBat'+'chedMeshDa'+'ta'](_0x857fed,_0x403075){let _0x14e080=null,_0x25dcf8=0x3*-0x881+0x1100+0x1*0x883,_0x30e133=-0x1a85+-0xb*0x34f+-0x2*-0x1f75,_0x19fcf4=null;for(let _0xda6a00=0xf0a+0x146*0xa+0x2d*-0x9e;_0xda6a00<_0x857fed['length'];_0xda6a00++)if(_0x857fed[_0xda6a00]['visible']){const _0x12608b=_0x857fed[_0xda6a00]['mesh'],_0x244c6d=_0x12608b['vertexBuff'+'er']['numVertice'+'s'];if(_0x25dcf8+=_0x244c6d,_0x12608b['primitive'][0x1346+-0x24d*0xa+0x3bc]['indexed'])_0x30e133+=_0x12608b['primitive'][-0x125*-0x5+-0x2046*-0x1+0x47*-0x89]['count'];else{const _0x32a0f4=_0x12608b['primitive'][-0x170a+-0x132a+-0xa8d*-0x4]['type'];(_0x32a0f4===Yr||_0x32a0f4===ar)&&_0x12608b['primitive'][-0x19d6+0x8*-0x4c5+0x3ffe]['count']===-0x391+0x2*-0x134f+0x2a33&&(_0x30e133+=0x16a8+0x2273+-0x1307*0x3);}if(!_0x14e080){_0x19fcf4=_0x857fed[_0xda6a00]['material'],_0x14e080={};const _0x231154=_0x12608b['vertexBuff'+'er']['format']['elements'];for(let _0x22dc67=-0x13*-0x32+0xf*-0x1a3+-0x61*-0x37;_0x22dc67<_0x231154['length'];_0x22dc67++){const _0x35d2e=_0x231154[_0x22dc67]['name'];_0x14e080[_0x35d2e]={'numComponents':_0x231154[_0x22dc67]['numCompone'+'nts'],'dataType':_0x231154[_0x22dc67]['dataType'],'normalize':_0x231154[_0x22dc67]['normalize'],'count':0x0};}_0x403075&&(_0x14e080[qt]={'numComponents':0x1,'dataType':Ee,'normalize':!(0xcc*0x1+0x1cf3+-0x1dbe),'count':0x0});}}return{'streams':_0x14e080,'batchNumVerts':_0x25dcf8,'batchNumIndices':_0x30e133,'material':_0x19fcf4};}['create'](_0x548585,_0x4e4b87,_0x2f3cac){const _0x92c999=ne();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(0x2533+-0x2*0x11a7+0x1e5*-0x1));let _0x44ed4b=null,_0xc01d1a,_0xeaf2e,_0x17ce1c,_0x35f106=null;const _0x37cb18=this['collectBat'+'chedMeshDa'+'ta'](_0x548585,_0x4e4b87);if(_0x37cb18['streams']){const _0x50f87a=_0x37cb18['streams'];let _0x2a34c3=_0x37cb18['material'];const _0x38418f=_0x37cb18['batchNumVe'+'rts'],_0x144266=_0x37cb18['batchNumIn'+'dices'];_0x35f106=new zm(_0x548585,_0x4e4b87,_0x2f3cac),this['_batchList']['push'](_0x35f106);let _0x4be0ca,_0x154e7d,_0x144e8e,_0x1fea8e=-0x1be*0x6+0x1eb0+-0x94*0x23,_0x425844=-0x7a9*-0x1+0x1433*-0x1+0x141*0xa,_0x4e2b77;const _0x5bb0f1=_0x38418f<=0x2*-0xd06f+-0xd491+0x3756e?Uint16Array:Uint32Array,_0x16378e=new _0x5bb0f1(_0x144266);for(_0xc01d1a in _0x50f87a)_0x44ed4b=_0x50f87a[_0xc01d1a],_0x44ed4b['typeArrayT'+'ype']=da[_0x44ed4b['dataType']],_0x44ed4b['elementByt'+'eSize']=_o[_0x44ed4b['dataType']],_0x44ed4b['buffer']=new _0x44ed4b['typeArrayT'+'ype'](_0x38418f*_0x44ed4b['numCompone'+'nts']);for(let _0x9ce1a=-0x1ece+-0x1*0x16c3+0x1*0x3591;_0x9ce1a<_0x548585['length'];_0x9ce1a++)if(_0x548585[_0x9ce1a]['visible']){_0xeaf2e=_0x548585[_0x9ce1a]['mesh'],_0x17ce1c=_0xeaf2e['vertexBuff'+'er']['numVertice'+'s'],_0x4e4b87||(_0x4e2b77=_0x548585[_0x9ce1a]['node']['getWorldTr'+'ansform']());for(_0xc01d1a in _0x50f87a)if(_0xc01d1a!==qt){_0x44ed4b=_0x50f87a[_0xc01d1a];const _0x1d14c7=new _0x44ed4b['typeArrayT'+'ype'](_0x44ed4b['buffer']['buffer'],_0x44ed4b['elementByt'+'eSize']*_0x44ed4b['count']),_0xf43e3b=_0xeaf2e['getVertexS'+'tream'](_0xc01d1a,_0x1d14c7)*_0x44ed4b['numCompone'+'nts'];if(_0x44ed4b['count']+=_0xf43e3b,!_0x4e4b87&&_0x44ed4b['numCompone'+'nts']>=0x147d+0x8e9*-0x1+0x15*-0x8d){if(_0xc01d1a===He){const _0x1ebd90=_0x4e2b77['data'],_0x365311=_0x1ebd90[0x919*-0x2+0x64d+0xbe5],_0x4e4c97=_0x1ebd90[-0x2696+0xb*0x1a5+0x1480],_0x562a6c=_0x1ebd90[-0x509+-0x1850+0x343*0x9],_0x5c2944=_0x1ebd90[-0x4e*0x59+0x11f*-0x2+0x1d60],_0x534dc3=_0x1ebd90[-0xc3b*0x1+0x2*-0x19f+0xf7e],_0x39d4f6=_0x1ebd90[-0x38c+-0x119*-0x17+-0x15ad],_0x58d772=_0x1ebd90[-0x25ff*-0x1+0xadc+0x1d*-0x1af],_0x31f222=_0x1ebd90[-0x100*-0x17+-0x18d0+0x1d9],_0x41406c=_0x1ebd90[-0x1319*0x2+0xeb*-0x16+0x115*0x36],_0x5e6b9a=_0x1ebd90[-0x1*0x1e01+0x15f4+0x819],_0x1123fe=_0x1ebd90[0x61*0x60+-0x79c*0x2+0x151b*-0x1],_0xfa41a1=_0x1ebd90[0x14c9+0x7*0x1ad+-0x2076];let _0x22d044,_0x4912cd,_0x47c083;for(let _0x12c18e=0xf76+0xc5b+-0x1bd1;_0x12c18e<_0xf43e3b;_0x12c18e+=_0x44ed4b['numCompone'+'nts'])_0x22d044=_0x1d14c7[_0x12c18e],_0x4912cd=_0x1d14c7[_0x12c18e+(-0x4*-0x1fd+0x2279+-0x2a6c)],_0x47c083=_0x1d14c7[_0x12c18e+(0x2649+0x67e+-0x49*0x9d)],_0x1d14c7[_0x12c18e]=_0x22d044*_0x365311+_0x4912cd*_0x5c2944+_0x47c083*_0x58d772+_0x5e6b9a,_0x1d14c7[_0x12c18e+(-0x120d+0x10ed+0x121)]=_0x22d044*_0x4e4c97+_0x4912cd*_0x534dc3+_0x47c083*_0x31f222+_0x1123fe,_0x1d14c7[_0x12c18e+(0xb86+0x88a+0x97*-0x22)]=_0x22d044*_0x562a6c+_0x4912cd*_0x39d4f6+_0x47c083*_0x41406c+_0xfa41a1;}else{if(_0xc01d1a===Yt||_0xc01d1a===Zs){jm['invertMat4'](_0x4e2b77)['transpose']();const [_0x911808,_0x13d6bf,_0x18a481,_0x2a528b,_0x229993,_0x389b62,_0x145605,_0x27c8c8,_0x3ceebe]=jm['data'];let _0x4dbd9a,_0x11dd43,_0x25f616;for(let _0x4c702f=0x175b+0x1*0x49+0x11*-0x164;_0x4c702f<_0xf43e3b;_0x4c702f+=_0x44ed4b['numCompone'+'nts'])_0x4dbd9a=_0x1d14c7[_0x4c702f],_0x11dd43=_0x1d14c7[_0x4c702f+(-0x94a+0x3b*0x1b+0x3*0x106)],_0x25f616=_0x1d14c7[_0x4c702f+(0x160*0x13+-0x6d0*-0x5+-0x3c2e)],_0x1d14c7[_0x4c702f]=_0x4dbd9a*_0x911808+_0x11dd43*_0x2a528b+_0x25f616*_0x145605,_0x1d14c7[_0x4c702f+(0x1686+-0x6f*0x3+0x1*-0x1538)]=_0x4dbd9a*_0x13d6bf+_0x11dd43*_0x229993+_0x25f616*_0x27c8c8,_0x1d14c7[_0x4c702f+(-0x145*0x18+-0x1*-0x1c4d+0x22d)]=_0x4dbd9a*_0x18a481+_0x11dd43*_0x389b62+_0x25f616*_0x3ceebe;}}}}if(_0x4e4b87){_0x44ed4b=_0x50f87a[qt];for(let _0x10285f=0x5*-0x47+0x953+0x10*-0x7f;_0x10285f<_0x17ce1c;_0x10285f++)_0x44ed4b['buffer'][_0x44ed4b['count']++]=_0x9ce1a;}if(_0xeaf2e['primitive'][-0x1e4f+-0x1*0x923+0x2772]['indexed']){_0x4be0ca=_0xeaf2e['primitive'][0x787+-0xee4+-0x179*-0x5]['base'],_0x154e7d=_0xeaf2e['primitive'][-0x35*0x4d+0x14e1+-0x4f0]['count'];const _0x25bada=_0xeaf2e['indexBuffe'+'r'][0xa21*0x2+-0x1380+0x2*-0x61]['getFormat']();_0x144e8e=new Lh[_0x25bada](_0xeaf2e['indexBuffe'+'r'][-0x201d+-0x191*-0xd+0x20*0x5e]['storage']);}else{const _0x29512a=_0xeaf2e['primitive'][-0xe*-0x283+-0x281*0x1+-0x20a9]['type'];if(_0x29512a===Yr||_0x29512a===ar){if(_0xeaf2e['primitive'][0x1dd7+-0x100*0x2+0x1bd7*-0x1]['count']===0xf1*0x25+0x3c7*0x7+-0x3d42)_0x4be0ca=0x1*0x1127+-0xd2*0x25+-0x1f*-0x6d,_0x154e7d=-0x29*-0xd+-0x4*0x41b+0xe5d,_0x144e8e=_0x29512a===Yr?lC:hC;else{_0x154e7d=0x1161+-0x35*0x2a+-0x8af;continue;}}}for(let _0x500a1f=-0xb95+-0x1*-0x145e+-0xd*0xad;_0x500a1f<_0x154e7d;_0x500a1f++)_0x16378e[_0x500a1f+_0x425844]=_0x144e8e[_0x4be0ca+_0x500a1f]+_0x1fea8e;_0x425844+=_0x154e7d,_0x1fea8e+=_0x17ce1c;}_0xeaf2e=new Ie(this['device']);for(_0xc01d1a in _0x50f87a)_0x44ed4b=_0x50f87a[_0xc01d1a],_0xeaf2e['setVertexS'+'tream'](_0xc01d1a,_0x44ed4b['buffer'],_0x44ed4b['numCompone'+'nts'],void(-0x7f9+0x1234*-0x1+0x1a2d),_0x44ed4b['dataType'],_0x44ed4b['normalize']);_0x16378e['length']>-0xb*0x2fb+-0x2*-0xe5+-0x159*-0x17&&_0xeaf2e['setIndices'](_0x16378e),_0xeaf2e['update'](Ms,!(0x1ca2+-0x107e+-0xc23)),_0x4e4b87&&(_0x2a34c3=_0x2a34c3['clone'](),_0x2a34c3['update']());const _0x24ab84=new Le(_0xeaf2e,_0x2a34c3,this['rootNode']);_0x24ab84['castShadow']=_0x35f106['origMeshIn'+'stances'][0x2bc*0x2+0x8a1*-0x3+-0x1*-0x146b]['castShadow'],_0x24ab84['parameters']=_0x35f106['origMeshIn'+'stances'][-0xa7*0x2b+0x1*-0x4a9+-0x105b*-0x2]['parameters'],_0x24ab84['layer']=_0x35f106['origMeshIn'+'stances'][0x38*0x78+-0x1*-0xb2f+0x256f*-0x1]['layer'],_0x24ab84['_shaderDef'+'s']=_0x35f106['origMeshIn'+'stances'][0x25ca+0x24e0+-0x4aaa]['_shaderDef'+'s'],_0x24ab84['batching']=!(-0x6*0x333+0x176+0x11bc),_0x24ab84['cull']=_0x35f106['origMeshIn'+'stances'][-0xc90+-0x1*-0x66d+0x623]['cull'];const _0x4733af=this['_batchGrou'+'ps'][_0x2f3cac];if(_0x4733af&&_0x4733af['_ui']&&(_0x24ab84['cull']=!(-0x97+-0x18f3+0xd*0x1f7)),_0x4e4b87){const _0x56d16a=[];for(let _0x3e5199=0x78d+-0x3d*0x7a+0x1585;_0x3e5199<_0x35f106['origMeshIn'+'stances']['length'];_0x3e5199++)_0x56d16a['push'](_0x35f106['origMeshIn'+'stances'][_0x3e5199]['node']);_0x24ab84['skinInstan'+'ce']=new Vm(this['device'],_0x56d16a,this['rootNode']);}_0x24ab84['_updateAab'+'b']=!(-0x2b2*0x5+0x24f2+-0x1777),_0x24ab84['drawOrder']=_0x35f106['origMeshIn'+'stances'][0x7*-0x115+-0x279+-0x2*-0x506]['drawOrder'],_0x24ab84['stencilFro'+'nt']=_0x35f106['origMeshIn'+'stances'][0x1127+0x166e+-0x1*0x2795]['stencilFro'+'nt'],_0x24ab84['stencilBac'+'k']=_0x35f106['origMeshIn'+'stances'][-0x21ad+0x65a+0x1b53]['stencilBac'+'k'],_0x24ab84['flipFacesF'+'actor']=Sd(_0x35f106['origMeshIn'+'stances'][0x980+-0x2165+-0x3*-0x7f7]),_0x24ab84['castShadow']=_0x35f106['origMeshIn'+'stances'][-0x1b24*0x1+0x4*-0x34a+-0x1*-0x284c]['castShadow'],_0x35f106['meshInstan'+'ce']=_0x24ab84,_0x35f106['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=ne()-_0x92c999,_0x35f106;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>0x70e+0xeab+-0x53*0x43&&this['generate'](this['_dirtyGrou'+'ps']);const _0x25f725=ne();for(let _0x52a4ae=-0x11*-0x7f+-0x7b7*-0x1+-0x1026;_0x52a4ae<this['_batchList']['length'];_0x52a4ae++)this['_batchList'][_0x52a4ae]['dynamic']&&this['_batchList'][_0x52a4ae]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=ne()-_0x25f725;}['clone'](_0x45902d,_0x271c33){const _0x55b64c=new zm(_0x271c33,_0x45902d['dynamic'],_0x45902d['batchGroup'+'Id']);this['_batchList']['push'](_0x55b64c);const _0x688578=[];for(let _0x23faf7=0x49*-0x80+-0x1*0x224e+0x46ce;_0x23faf7<_0x271c33['length'];_0x23faf7++)_0x688578['push'](_0x271c33[_0x23faf7]['node']);return _0x55b64c['meshInstan'+'ce']=new Le(_0x45902d['meshInstan'+'ce']['mesh'],_0x45902d['meshInstan'+'ce']['material'],_0x45902d['meshInstan'+'ce']['node']),_0x55b64c['meshInstan'+'ce']['_updateAab'+'b']=!(-0x9a4+-0x1*-0x1695+-0xcf0),_0x55b64c['meshInstan'+'ce']['parameters']=_0x271c33[0x1*-0x19df+0x25*-0xb9+-0x34*-0x103]['parameters'],_0x55b64c['meshInstan'+'ce']['cull']=_0x271c33[-0x83*-0x13+0x2098+-0x2a51]['cull'],_0x55b64c['meshInstan'+'ce']['layer']=_0x271c33[0x22f5+-0xd*-0x28d+-0x441e]['layer'],_0x45902d['dynamic']&&(_0x55b64c['meshInstan'+'ce']['skinInstan'+'ce']=new Vm(this['device'],_0x688578,this['rootNode'])),_0x55b64c['meshInstan'+'ce']['castShadow']=_0x45902d['meshInstan'+'ce']['castShadow'],_0x55b64c;}['destroyBat'+'ch'](_0x35edc5){_0x35edc5['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x35edc5['batchGroup'+'Id']]['layers']);}}const Km='uSceneColo'+'rMap';class uC extends ds{constructor(){super(...arguments),c(this,'colorRende'+'rTarget',null),c(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x3a01e8,_0x36458a,_0x308073){if((_0x3a01e8==null?void(-0x15e6+-0x2*-0x11a2+-0x6af*0x2):_0x3a01e8['colorBuffe'+'r']['format'])!==_0x308073)return!(-0x2*-0x115a+-0xfec*-0x1+-0x32a0);const _0x183680=(_0x36458a==null?void(0x65+0x22f5+0x389*-0xa):_0x36458a['width'])||this['device']['width'],_0x49f8c9=(_0x36458a==null?void(0x2325+0x5a1+0x22*-0x133):_0x36458a['height'])||this['device']['height'];return!_0x3a01e8||_0x183680!==_0x3a01e8['width']||_0x49f8c9!==_0x3a01e8['height'];}['allocateRe'+'nderTarget'](_0x5850c5,_0x5d7cda,_0x737b68,_0xa1626e){const _0x5b2c2d=new he(_0x737b68,{'name':Km,'format':_0xa1626e,'width':_0x5d7cda?_0x5d7cda['colorBuffe'+'r']['width']:_0x737b68['width'],'height':_0x5d7cda?_0x5d7cda['colorBuffe'+'r']['height']:_0x737b68['height'],'mipmaps':!(-0x83a*0x4+-0x88*-0x4+-0x7b2*-0x4),'minFilter':nn,'magFilter':st,'addressU':ae,'addressV':ae});return _0x5850c5?(_0x5850c5['destroyFra'+'meBuffers'](),_0x5850c5['_colorBuff'+'er']=_0x5b2c2d,_0x5850c5['_colorBuff'+'ers']=[_0x5b2c2d]):_0x5850c5=new pt({'name':'ColorGrabR'+'T','colorBuffer':_0x5b2c2d,'depth':!(-0xd4+0x77b+-0x1*0x6a6),'stencil':!(-0x24cd+-0x13*0x26+0x27a0),'autoResolve':!(-0x1f80+0xb0*-0x13+0x2c91)}),_0x5850c5;}['releaseRen'+'derTarget'](_0x3e422a){_0x3e422a&&(_0x3e422a['destroyTex'+'tureBuffer'+'s'](),_0x3e422a['destroy']());}['frameUpdat'+'e'](){const _0x374f24=this['device'],_0x15421f=this['source'],_0x2f631d=(_0x15421f==null?void(0x3ac+-0x19e8+0x58f*0x4):_0x15421f['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x15421f==null?void(0x19f7+0xe49+-0x2840):_0x15421f['colorBuffe'+'r'],_0x2f631d)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x15421f,_0x374f24,_0x2f631d));const _0x4c8a91=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x374f24['scope']['resolve'](Km)['setValue'](_0x4c8a91);}['execute'](){const _0x1bb2b9=this['device'];G['pushGpuMar'+'ker'](_0x1bb2b9,'GRAB-COLOR');const _0x1a50e9=this['source'],_0x5c9cd1=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x1bb2b9['isWebGPU']?(_0x1bb2b9['copyRender'+'Target'](_0x1a50e9,this['colorRende'+'rTarget'],!(-0x313+-0x20df+0x23f2),!(0x91*-0x4+-0x2370+0x25b5)),_0x1bb2b9['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x1bb2b9['copyRender'+'Target'](_0x1a50e9,this['colorRende'+'rTarget'],!(-0x6d*0x4f+0x350*-0xa+0x42c3),!(-0x85a*-0x4+0x255*-0xa+-0x1*0xa15)),_0x1bb2b9['activeText'+'ure'](_0x1bb2b9['maxCombine'+'dTextures']-(0x979*0x3+0x120b+-0x2e75)),_0x1bb2b9['bindTextur'+'e'](_0x5c9cd1),_0x1bb2b9['gl']['generateMi'+'pmap'](_0x5c9cd1['impl']['_glTarget'])),G['popGpuMark'+'er'](_0x1bb2b9);}}const Zm='uSceneDept'+'hMap';class fC extends ds{constructor(_0xf88f8e,_0x3d9229){super(_0xf88f8e),c(this,'depthRende'+'rTarget',null),c(this,'camera',null),this['camera']=_0x3d9229;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x1c5677,_0x95c178){const _0x601b14=(_0x95c178==null?void(-0x6*0x1b8+-0x1*0x18b3+0x2303):_0x95c178['width'])||this['device']['width'],_0xe3ef61=(_0x95c178==null?void(-0x2*0xa97+0xd15+0x819):_0x95c178['height'])||this['device']['height'];return!_0x1c5677||_0x601b14!==_0x1c5677['width']||_0xe3ef61!==_0x1c5677['height'];}['allocateRe'+'nderTarget'](_0x48d032,_0xc5827f,_0x4d23b3,_0x1e8b29,_0x3afbdc){const _0x38f3cb=new he(_0x4d23b3,{'name':Zm,'format':_0x1e8b29,'width':_0xc5827f?_0xc5827f['colorBuffe'+'r']['width']:_0x4d23b3['width'],'height':_0xc5827f?_0xc5827f['colorBuffe'+'r']['height']:_0x4d23b3['height'],'mipmaps':!(-0xd8a*-0x1+-0x151b+0x792),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});return _0x48d032?(_0x48d032['destroyFra'+'meBuffers'](),_0x3afbdc?_0x48d032['_depthBuff'+'er']=_0x38f3cb:(_0x48d032['_colorBuff'+'er']=_0x38f3cb,_0x48d032['_colorBuff'+'ers']=[_0x38f3cb])):_0x48d032=new pt({'name':'DepthGrabR'+'T','colorBuffer':_0x3afbdc?null:_0x38f3cb,'depthBuffer':_0x3afbdc?_0x38f3cb:null,'depth':!_0x3afbdc,'stencil':_0x4d23b3['supportsSt'+'encil'],'autoResolve':!(-0x1e6+-0x338*0x7+0x8b*0x2d)}),_0x48d032;}['releaseRen'+'derTarget'](_0x334039){_0x334039&&(_0x334039['destroyTex'+'tureBuffer'+'s'](),_0x334039['destroy']());}['before'](){var _0xa76663,_0x2ec1ba;const _0x1d5ed4=this['camera'],_0x50e1ec=this['device'],_0xd9dca6=(_0x1d5ed4==null?void(-0x14b2+-0x1329+0x27db):_0x1d5ed4['renderTarg'+'et'])??_0x50e1ec['backBuffer'];let _0x1f867a=!(-0x17ee+-0x21cd+0x39bb),_0x44e7f5=_0xd9dca6['stencil']?vc:Ci;_0x50e1ec['isWebGPU']&&_0xd9dca6['samples']>0x1340+0x1*0x1615+0x211*-0x14&&(_0x44e7f5=Ii,_0x1f867a=!(-0x89e*-0x4+-0x170d+-0xb6a));const _0x5d12ce=((_0xa76663=_0x1d5ed4['renderTarg'+'et'])==null?void(0x25*-0x4d+-0x1*-0x17c5+-0xca4):_0xa76663['depthBuffe'+'r'])??((_0x2ec1ba=_0x1d5ed4['renderTarg'+'et'])==null?void(-0x15db+0x16bc+0xf*-0xf):_0x2ec1ba['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x5d12ce)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x1d5ed4['renderTarg'+'et'],_0x50e1ec,_0x44e7f5,_0x1f867a));const _0x104931=_0x1f867a?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x50e1ec['scope']['resolve'](Zm)['setValue'](_0x104931);}['execute'](){const _0x190020=this['device'];if(G['pushGpuMar'+'ker'](_0x190020,'GRAB-DEPTH'),_0x190020['isWebGL2']&&_0x190020['renderTarg'+'et']['samples']>-0xa*-0x2e7+-0x42b*0x1+-0x18da){const _0x4fa88b=_0x190020['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x21609e=this['depthRende'+'rTarget'];_0x190020['renderTarg'+'et']=_0x21609e,_0x190020['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x190020,_0x4fa88b,_0x21609e['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x190020['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x190020['copyRender'+'Target'](_0x190020['renderTarg'+'et'],this['depthRende'+'rTarget'],!(0x1873*0x1+-0x73e+-0x89a*0x2),!(0x17f*-0x18+0x2256+0x192));G['popGpuMark'+'er'](_0x190020);}}class A0{constructor(){c(this,'_gammaCorr'+'ection',hh),c(this,'_toneMappi'+'ng',Ap),c(this,'_srgbRende'+'rTarget',!(-0x78c+0x26f9+0x1f6c*-0x1)),c(this,'_ssaoEnabl'+'ed',!(-0x83e+0x5*-0x387+0x19e2)),c(this,'_fog',Fa),c(this,'_sceneDept'+'hMapLinear',!(0x1d17+-0x12a*-0x5+0x4*-0x8ba)),c(this,'_hash'),c(this,'_defines',new Map()),c(this,'_definesDi'+'rty',!(0x43*-0x83+-0x1d86+0x3fcf));}get['hash'](){if(this['_hash']===void(0x215*0x8+-0x1f12+0xf*0xf6)){const _0x2f1578=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hn(_0x2f1578);}return this['_hash'];}get['defines'](){const _0x460f1b=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0x1af3+0x2*-0x12f8+-0x1d5*-0x6),_0x460f1b['clear'](),this['_sceneDept'+'hMapLinear']&&_0x460f1b['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(-0x44*-0x56+0x1ac3+-0x319b)),_0x460f1b['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x460f1b['set']('TONEMAP',p0[this['_toneMappi'+'ng']]),_0x460f1b['set']('GAMMA',Yb[this['shaderOutp'+'utGamma']])),_0x460f1b;}['markDirty'](){this['_hash']=void(0x2*0x38b+0x1ce9+-0x23ff),this['_definesDi'+'rty']=!(0x8ca+-0xb85+0x2bb*0x1);}set['fog'](_0x50e5a8){this['_fog']!==_0x50e5a8&&(this['_fog']=_0x50e5a8,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0xc4af91){this['_ssaoEnabl'+'ed']!==_0xc4af91&&(this['_ssaoEnabl'+'ed']=_0xc4af91,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x114ab0){this['_gammaCorr'+'ectionAssi'+'gned']=!(-0x1*-0xbc5+-0x11fb+0x636),this['_gammaCorr'+'ection']!==_0x114ab0&&(this['_gammaCorr'+'ection']=_0x114ab0,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x436bff){this['_toneMappi'+'ng']!==_0x436bff&&(this['_toneMappi'+'ng']=_0x436bff,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x4d6b90){this['_srgbRende'+'rTarget']!==_0x4d6b90&&(this['_srgbRende'+'rTarget']=_0x4d6b90,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x14e0cb){this['_sceneDept'+'hMapLinear']!==_0x14e0cb&&(this['_sceneDept'+'hMapLinear']=_0x14e0cb,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===hh&&!this['_srgbRende'+'rTarget']?hh:sl;}}const En=new T(),Wa=new T(),Qm=new T(),Jm=new q(),pC=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()];class ol{constructor(){c(this,'shaderPass'+'Info',null),c(this,'renderPass'+'ColorGrab',null),c(this,'renderPass'+'DepthGrab',null),c(this,'fogParams',null),c(this,'shaderPara'+'ms',new A0()),c(this,'renderPass'+'es',[]),c(this,'jitter',-0xb62+-0xb*0x5+-0x1*-0xb99),(this['_aspectRat'+'io']=(-0xb5*-0x29+0x33*-0xbf+0x920)/(0xc0+-0x4*-0xf4+-0x487),this['_aspectRat'+'ioMode']=Ip,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new Y(-0x365*-0x1+-0xde0+-0xa7b*-0x1+0.75,0xc6d+0x6b5*-0x1+-0x5b8+0.75,-0x2006+0x65e*-0x5+-0x3d*-0x10c+0.75,-0x7+0x25*-0x31+0x71d),this['_clearColo'+'rBuffer']=!(-0x1345+-0x1*0x11d7+0x251c),this['_clearDept'+'h']=0x2582*0x1+-0x65*0x11+-0x1ecc,this['_clearDept'+'hBuffer']=!(0x5*-0x68+0x63*-0xb+0x649),this['_clearSten'+'cil']=0x72*-0x4b+0x3*0xa75+-0x207*-0x1,this['_clearSten'+'cilBuffer']=!(0xfa3+0xccd*0x3+0x1b05*-0x2),this['_cullFaces']=!(0x6d9+0x17c9+-0x1ea2),this['_farClip']=-0x322+0x8*0x352+-0x3*0x682,this['_flipFaces']=!(-0x1b01+-0x6b2+-0xb3c*-0x3),this['_fov']=-0x8f6*-0x1+-0x3*0x757+0xd3c,this['_frustumCu'+'lling']=!(-0x1aef+0x15b1+-0x16*-0x3d),this['_horizonta'+'lFov']=!(-0x2*-0x101+0x2d3+-0x6*0xce),this['_layers']=[Fi,Xt,vp,tl,bp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=0x1c20+0x5a7*0x3+-0x2d15+0.1,this['_node']=null,this['_orthoHeig'+'ht']=-0x7b*0x1d+0x6*-0x67f+0xa97*0x5,this['_projectio'+'n']=Gs,this['_rect']=new Q(0x4b8+-0x1307+-0x3*-0x4c5,-0x1*0x157f+0x5*0x70d+-0xdc2,0x5*-0x4a9+0x107*0x25+-0xeb5,0x933+0x1*0xca3+0xcf*-0x1b),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new Q(-0x1438+0x119*-0x22+-0x3*-0x132e,-0x737+0x1*0x70+0x6c7,0x1*-0x4a+0x1f8e+0x35*-0x97,-0x20cb+-0x661*0x2+-0x1*-0x2d8e),this['_scissorRe'+'ctClear']=!(0x18d2+-0x269f*-0x1+0x50*-0xcb),this['_aperture']=-0xfe3+-0x252+0x1*0x1245,this['_shutter']=(0x201b*-0x1+-0x1baa+0x1*0x3bc6)/(-0x1817+0x92f+0x25a*0x8),this['_sensitivi'+'ty']=0x2*0x29c+0xf*0x3d+0x4e3*-0x1,this['_projMat']=new q(),this['_projMatDi'+'rty']=!(-0x22*0xad+0x1514+0x1e6),this['_projMatSk'+'ybox']=new q(),this['_viewMat']=new q(),this['_viewMatDi'+'rty']=!(0x53d*0x7+0xbf2+0x1*-0x309d),this['_viewProjM'+'at']=new q(),this['_viewProjM'+'atDirty']=!(0x2*-0x709+-0xb9e+-0x8*-0x336),this['_shaderMat'+'ricesVersi'+'on']=-0x51*-0x56+-0x254a*-0x1+-0x4080,this['_viewProjI'+'nverse']=new q(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new q(),this['_jitters']=[-0x2*-0x581+-0x1d*0xae+-0x45a*-0x2,-0x14d*0x1+-0x37*0x23+-0x1*-0x8d2,0xee+-0x3*0x853+0x180b,-0x1ca2+-0x18b2+0x1*0x3554],this['frustum']=new wS(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x325edd,_0x39fafd;(_0x325edd=this['renderPass'+'ColorGrab'])==null||_0x325edd['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x39fafd=this['renderPass'+'DepthGrab'])==null||_0x39fafd['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=-0x1139+0x1*-0x13d7+0x2510;}['_storeShad'+'erMatrices'](_0xd205af,_0xc1bf7c,_0x3605d4,_0xa6ec8c){this['_shaderMat'+'ricesVersi'+'on']!==_0xa6ec8c&&(this['_shaderMat'+'ricesVersi'+'on']=_0xa6ec8c,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0xd205af),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new q()),this['_viewProjC'+'urrent']['copy'](_0xd205af),this['_viewProjI'+'nverse']['invert'](_0xd205af),this['_jitters'][0x19d*0x2+-0x44e*-0x5+-0x18be]=this['_jitters'][0x167*-0xe+0x1*-0x162b+0x29cd],this['_jitters'][-0xdde+-0x1*-0x1cbb+-0x1*0xeda]=this['_jitters'][-0x130c+-0x66a+0x1977],this['_jitters'][0x3a1+0x1359+-0x16fa]=_0xc1bf7c,this['_jitters'][-0x21e7+-0x1a*-0xfb+0x86a]=_0x3605d4);}get['fullSizeCl'+'earRect'](){const _0x2f5cbd=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x2f5cbd['x']===0x12*-0xe3+-0x6*0x127+-0x3d0*-0x6&&_0x2f5cbd['y']===0xb3*-0x35+0x104f+0x14c0&&_0x2f5cbd['z']===-0x5e*0x5a+0x1*-0x1a3+0x22b0&&_0x2f5cbd['w']===0xbdb*0x1+-0x9c5+0x215*-0x1;}set['aspectRati'+'o'](_0x331b4c){this['_aspectRat'+'io']!==_0x331b4c&&(this['_aspectRat'+'io']=_0x331b4c,this['_projMatDi'+'rty']=!(-0x3e*-0x26+-0x1*-0x1aa6+-0x23da));}get['aspectRati'+'o'](){var _0x58f795;return(_0x58f795=this['xr'])!=null&&_0x58f795['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x49558b){this['_aspectRat'+'ioMode']!==_0x49558b&&(this['_aspectRat'+'ioMode']=_0x49558b,this['_projMatDi'+'rty']=!(-0x552+-0x7*0x26d+0x164d));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x41c038){this['_calculate'+'Projection']=_0x41c038,this['_projMatDi'+'rty']=!(-0x975+0x16a*0x17+0x49d*-0x5);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x4550ff){this['_calculate'+'Transform']=_0x4550ff;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x40680d){this['_clearColo'+'r']['copy'](_0x40680d);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x3e844f){this['_clearColo'+'rBuffer']=_0x3e844f;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x2151b0){this['_clearDept'+'h']=_0x2151b0;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x57c67e){this['_clearDept'+'hBuffer']=_0x57c67e;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x10bb90){this['_clearSten'+'cil']=_0x10bb90;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x3a21fd){this['_clearSten'+'cilBuffer']=_0x3a21fd;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x58ec04){this['_cullFaces']=_0x58ec04;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x41e6ac){this['_farClip']!==_0x41e6ac&&(this['_farClip']=_0x41e6ac,this['_projMatDi'+'rty']=!(0x398*-0x9+0x26*-0xb3+-0x3aea*-0x1));}get['farClip'](){var _0x2c0141;return(_0x2c0141=this['xr'])!=null&&_0x2c0141['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x14394e){this['_flipFaces']=_0x14394e;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x56c65e){this['_fov']!==_0x56c65e&&(this['_fov']=_0x56c65e,this['_projMatDi'+'rty']=!(-0x25*0xc7+0x1*-0xc95+0x2958));}get['fov'](){var _0x581995;return(_0x581995=this['xr'])!=null&&_0x581995['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x154b4c){this['_frustumCu'+'lling']=_0x154b4c;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x109b95){this['_horizonta'+'lFov']!==_0x109b95&&(this['_horizonta'+'lFov']=_0x109b95,this['_projMatDi'+'rty']=!(0x59d+-0x594+0x1*-0x9));}get['horizontal'+'Fov'](){var _0x13e42f;return(_0x13e42f=this['xr'])!=null&&_0x13e42f['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x8add3c){this['_layers']=_0x8add3c['slice'](-0x1*-0x1176+0xab3*-0x1+0x241*-0x3),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x2e0139){this['_nearClip']!==_0x2e0139&&(this['_nearClip']=_0x2e0139,this['_projMatDi'+'rty']=!(-0x24f1+-0x1*-0xbb2+0x193f));}get['nearClip'](){var _0x1fa113;return(_0x1fa113=this['xr'])!=null&&_0x1fa113['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x33ee0b){this['_node']=_0x33ee0b;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x1adffa){this['_orthoHeig'+'ht']!==_0x1adffa&&(this['_orthoHeig'+'ht']=_0x1adffa,this['_projMatDi'+'rty']=!(-0x1d0f+-0xd4a+-0x1*-0x2a59));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0xe1e5c9){this['_projectio'+'n']!==_0xe1e5c9&&(this['_projectio'+'n']=_0xe1e5c9,this['_projMatDi'+'rty']=!(-0x4*-0x84a+0x801+-0x2929*0x1));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x4ce6ac){this['_rect']['copy'](_0x4ce6ac);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x4fa085){this['_renderTar'+'get']=_0x4fa085;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x2de847){this['_scissorRe'+'ct']['copy'](_0x2de847);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x478979=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x478979)['invert'](),this['_viewMatDi'+'rty']=!(0x11d*-0x16+0x23b5+-0xb36);}return this['_viewMat'];}set['aperture'](_0x15617f){this['_aperture']=_0x15617f;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x52902d){this['_sensitivi'+'ty']=_0x52902d;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x54a5a1){this['_shutter']=_0x54a5a1;}get['shutter'](){return this['_shutter'];}set['xr'](_0x302cb4){this['_xr']!==_0x302cb4&&(this['_xr']=_0x302cb4,this['_projMatDi'+'rty']=!(-0x17*-0xb1+0x1624+-0x260b));}get['xr'](){return this['_xr'];}['clone'](){return new ol()['copy'](this);}['copy'](_0x367545){return this['_aspectRat'+'io']=_0x367545['_aspectRat'+'io'],this['_farClip']=_0x367545['_farClip'],this['_fov']=_0x367545['_fov'],this['_horizonta'+'lFov']=_0x367545['_horizonta'+'lFov'],this['_nearClip']=_0x367545['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x367545['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x367545['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x367545['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x367545['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x367545['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x367545['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x367545['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x367545['calculateT'+'ransform'],this['clearColor']=_0x367545['clearColor'],this['clearColor'+'Buffer']=_0x367545['clearColor'+'Buffer'],this['clearDepth']=_0x367545['clearDepth'],this['clearDepth'+'Buffer']=_0x367545['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x367545['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x367545['clearStenc'+'ilBuffer'],this['cullFaces']=_0x367545['cullFaces'],this['flipFaces']=_0x367545['flipFaces'],this['frustumCul'+'ling']=_0x367545['frustumCul'+'ling'],this['layers']=_0x367545['layers'],this['orthoHeigh'+'t']=_0x367545['orthoHeigh'+'t'],this['projection']=_0x367545['projection'],this['rect']=_0x367545['rect'],this['renderTarg'+'et']=_0x367545['renderTarg'+'et'],this['scissorRec'+'t']=_0x367545['scissorRec'+'t'],this['aperture']=_0x367545['aperture'],this['shutter']=_0x367545['shutter'],this['sensitivit'+'y']=_0x367545['sensitivit'+'y'],this['shaderPass'+'Info']=_0x367545['shaderPass'+'Info'],this['jitter']=_0x367545['jitter'],this['_projMatDi'+'rty']=!(0x1268+-0x2019+0x5*0x2bd),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x267221,_0x52a17a){var _0x3335a;_0x52a17a?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new uC(_0x267221)):((_0x3335a=this['renderPass'+'ColorGrab'])==null||_0x3335a['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x5b5d32,_0x210c33,_0x3a12b6){var _0x56e01a;_0x3a12b6?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new fC(_0x5b5d32,this)):((_0x56e01a=this['renderPass'+'DepthGrab'])==null||_0x56e01a['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(-0x4*-0x19b+0x100b+-0x1676));}['worldToScr'+'een'](_0x2f0b1c,_0xcecf1d,_0x206fe6,_0x4e6005=new T()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x2f0b1c,_0x4e6005);const _0x3d1cc9=this['_viewProjM'+'at']['data'],_0x57109=_0x2f0b1c['x']*_0x3d1cc9[-0x2413+0x19d*0x17+-0x105*0x1]+_0x2f0b1c['y']*_0x3d1cc9[-0x1158+-0x167b+0x27da]+_0x2f0b1c['z']*_0x3d1cc9[0x14f+0x3f9*0x7+-0x1d13]+(0xcc4*-0x1+-0x619+-0x1e*-0xa1)*_0x3d1cc9[-0x30d+-0x17e8+0x1b04];return _0x4e6005['x']=(_0x4e6005['x']/_0x57109+(0x87a+0x58c*-0x3+0x82b))*(-0x1743*0x1+-0x1*-0x9c3+0xc*0x120+0.5)*_0xcecf1d,_0x4e6005['y']=(-0x13*-0x6d+-0x58d+-0x289-_0x4e6005['y']/_0x57109)*(-0xed7+-0x151*0x15+-0xa9f*-0x4+0.5)*_0x206fe6,_0x4e6005;}['screenToWo'+'rld'](_0xad0977,_0xe35c73,_0x5a77e5,_0x4e3d46,_0x30d13a,_0x30d5c8=new T()){const _0x995b48=this['farClip']-this['nearClip'];if(En['set'](_0xad0977/_0x4e3d46,(_0x30d13a-_0xe35c73)/_0x30d13a,_0x5a77e5/_0x995b48),En['mulScalar'](-0x1e22+-0x1528*0x1+0x334c),En['sub'](T['ONE']),this['_projectio'+'n']===Gs){q['_getPerspe'+'ctiveHalfS'+'ize'](Wa,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),Wa['x']*=En['x'],Wa['y']*=En['y'];const _0x3a7bb7=this['_node']['getWorldTr'+'ansform']();Wa['z']=-this['nearClip'],_0x3a7bb7['transformP'+'oint'](Wa,Qm);const _0x223231=this['_node']['getPositio'+'n']();_0x30d5c8['sub2'](Qm,_0x223231),_0x30d5c8['normalize'](),_0x30d5c8['mulScalar'](_0x5a77e5),_0x30d5c8['add'](_0x223231);}else this['_updateVie'+'wProjMat'](),Jm['copy'](this['_viewProjM'+'at'])['invert'](),Jm['transformP'+'oint'](En,_0x30d5c8);return _0x30d5c8;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===Gs)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x313143=this['_orthoHeig'+'ht'],_0x2cc125=_0x313143*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x2cc125,_0x2cc125,-_0x313143,_0x313143,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(-0x3d*-0x68+0xf2b+-0x27f2);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x5426e5=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(0x77b*0x5+0x2*0x10dd+0x46bd*-0x1)/this['_sensitivi'+'ty']);return(-0x17c6+0x2*-0x5c5+0x2351)/(Math['pow'](0x47*-0x77+0x29*-0xe5+-0x14*-0x37c,_0x5426e5)*(-0x761*-0x3+0x329+-0x194b+0.19999999999999996));}['getScreenS'+'ize'](_0x4047be){if(this['_projectio'+'n']===Gs){const _0x3ce740=this['_node']['getPositio'+'n']()['distance'](_0x4047be['center']);if(_0x3ce740<_0x4047be['radius'])return 0x27*-0x1b+0x7fa+-0x1ee*0x2;const _0x26e4a3=Math['asin'](_0x4047be['radius']/_0x3ce740),_0x4df073=Math['tan'](_0x26e4a3),_0x38b03c=Math['tan'](this['fov']/(-0x93*0x2+0xcd*-0x4+0x45c)*N['DEG_TO_RAD']);return Math['min'](_0x4df073/_0x38b03c,-0x75+-0x1951+0x19c7);}return N['clamp'](_0x4047be['radius']/this['_orthoHeig'+'ht'],-0xf49+0x2*-0x79+0x103b,-0x34a*-0x6+-0x235f+0xfa4);}['getFrustum'+'Corners'](_0x1461dd=this['nearClip'],_0x28dcb5=this['farClip']){const _0x532646=this['fov']*Math['PI']/(-0x2*0x874+-0x89*0x32+-0x277*-0x12);let _0x57799e,_0x2108a0;this['projection']===Gs?this['horizontal'+'Fov']?(_0x57799e=_0x1461dd*Math['tan'](_0x532646/(0x158a+-0xa75+-0xb13)),_0x2108a0=_0x57799e/this['aspectRati'+'o']):(_0x2108a0=_0x1461dd*Math['tan'](_0x532646/(-0x63b+-0x98b+0xfc8)),_0x57799e=_0x2108a0*this['aspectRati'+'o']):(_0x2108a0=this['_orthoHeig'+'ht'],_0x57799e=_0x2108a0*this['aspectRati'+'o']);const _0x4af51c=pC;return _0x4af51c[0x1dea+-0x1a91+-0x359]['x']=_0x57799e,_0x4af51c[0xa*0x2a7+-0x357*-0x5+-0x2b39]['y']=-_0x2108a0,_0x4af51c[0x543+0x95*-0x15+-0x63*-0x12]['z']=-_0x1461dd,_0x4af51c[0x35c+-0xa82*0x3+0x1c2b]['x']=_0x57799e,_0x4af51c[-0x1379+0x23ce*-0x1+-0x3a*-0xf4]['y']=_0x2108a0,_0x4af51c[-0xaa*0x19+-0x248e*-0x1+-0x13f3]['z']=-_0x1461dd,_0x4af51c[-0x262b+0xccd+-0x7*-0x3a0]['x']=-_0x57799e,_0x4af51c[0x49f+-0x297*0x4+0x5bf*0x1]['y']=_0x2108a0,_0x4af51c[0x2336*-0x1+-0x4*0x3a4+-0x18*-0x213]['z']=-_0x1461dd,_0x4af51c[-0x1f*0xb7+-0x1*0xda2+0x23ce]['x']=-_0x57799e,_0x4af51c[0x2*-0x1301+0x21dd*-0x1+0x47e2]['y']=-_0x2108a0,_0x4af51c[0x368*-0x5+-0xa85*0x3+-0x1*-0x309a]['z']=-_0x1461dd,this['_projectio'+'n']===Gs&&(this['horizontal'+'Fov']?(_0x57799e=_0x28dcb5*Math['tan'](_0x532646/(0x3*0xbd+-0x2*0x425+0x615)),_0x2108a0=_0x57799e/this['aspectRati'+'o']):(_0x2108a0=_0x28dcb5*Math['tan'](_0x532646/(0x35e+0x4*0x1e2+0x22*-0x52)),_0x57799e=_0x2108a0*this['aspectRati'+'o'])),_0x4af51c[0xab6*0x1+-0x15e0+0xb2e]['x']=_0x57799e,_0x4af51c[-0x1*0x165a+0x23f2+-0xd94]['y']=-_0x2108a0,_0x4af51c[-0x1d*0x16+0x1*-0x74f+-0x9d1*-0x1]['z']=-_0x28dcb5,_0x4af51c[-0x180*0xa+-0x23fc+0x3301]['x']=_0x57799e,_0x4af51c[0x2*-0x31a+0xed5*0x1+0x227*-0x4]['y']=_0x2108a0,_0x4af51c[-0xafc+-0x54b*-0x2+0x6b]['z']=-_0x28dcb5,_0x4af51c[0x1272+-0x1ec9+0xc5d]['x']=-_0x57799e,_0x4af51c[0xc6*-0x30+-0x25*-0xe9+0x379]['y']=_0x2108a0,_0x4af51c[-0xf27*-0x1+0xbab+-0xa*0x2ae]['z']=-_0x28dcb5,_0x4af51c[-0x13b8+-0x1b0a+0x2ec9]['x']=-_0x57799e,_0x4af51c[-0x5*-0xbf+0x24f3+0xd8d*-0x3]['y']=-_0x2108a0,_0x4af51c[0x1204+0x1*0x1d2+-0x1cd*0xb]['z']=-_0x28dcb5,_0x4af51c;}['setXrPrope'+'rties'](_0x2a64c4){Object['assign'](this['_xrPropert'+'ies'],_0x2a64c4),this['_projMatDi'+'rty']=!(-0x1002+0x16fa+0x2*-0x37c);}}const e_=new q(),t_=new q(),s_=new q(),Qi=class Qi{static['create'](_0xdd72be,_0x58b37a,_0x2cdb08){const _0x42a60b=new ol();switch(_0x42a60b['node']=new De(_0xdd72be),_0x42a60b['aspectRati'+'o']=-0x28e*0x3+-0x6*-0x1c5+0x2f3*-0x1,_0x42a60b['aspectRati'+'oMode']=Bu,_0x42a60b['_scissorRe'+'ctClear']=!(0x2*0xead+0x196*-0xb+-0xbe8),_0x58b37a){case Pe:_0x42a60b['node']['setRotatio'+'n'](Qi['pointLight'+'Rotations'][_0x2cdb08]),_0x42a60b['fov']=-0x1*0x131f+0x10f6+0x283,_0x42a60b['projection']=Gs;break;case Re:_0x42a60b['projection']=Gs;break;case oe:_0x42a60b['projection']=ua;break;}return _0x42a60b;}static['evalSpotCo'+'okieMatrix'](_0x26e996){let _0x3d9c21=Qi['_spotCooki'+'eCamera'];_0x3d9c21||(_0x3d9c21=Qi['create']('SpotCookie'+'Camera',Re),Qi['_spotCooki'+'eCamera']=_0x3d9c21),_0x3d9c21['fov']=_0x26e996['_outerCone'+'Angle']*(-0x1c85+-0x3cd*0x5+0x2f88);const _0x36823c=_0x3d9c21['_node'];_0x36823c['setPositio'+'n'](_0x26e996['_node']['getPositio'+'n']()),_0x36823c['setRotatio'+'n'](_0x26e996['_node']['getRotatio'+'n']()),_0x36823c['rotateLoca'+'l'](-(-0x147f+-0x13a9+0x2882),-0x2*0x42d+0x1f44*-0x1+-0x16*-0x1cd,-0x1234+0x25a+-0x2*-0x7ed),e_['setTRS'](_0x36823c['getPositio'+'n'](),_0x36823c['getRotatio'+'n'](),T['ONE'])['invert'](),t_['mul2'](_0x3d9c21['projection'+'Matrix'],e_);const _0x290a04=_0x26e996['cookieMatr'+'ix'],_0x1235ab=_0x26e996['atlasViewp'+'ort'];return s_['setViewpor'+'t'](_0x1235ab['x'],_0x1235ab['y'],_0x1235ab['z'],_0x1235ab['w']),_0x290a04['mul2'](s_,t_),_0x290a04;}};c(Qi,'pointLight'+'Rotations',[new se()['setFromEul'+'erAngles'](-0xdfe+0x8*0x100+-0x2*-0x2ff,0x1*-0x245f+-0x186d+0x3d26,-0x2014+0x158*-0x3+-0x1f0*-0x13),new se()['setFromEul'+'erAngles'](0xa05+-0x1*-0xcc7+0xb66*-0x2,-(0x2*-0x47f+0x181b+-0x1*0xec3),0x1b9c+-0x4b1+-0x1637),new se()['setFromEul'+'erAngles'](0x1*-0xc77+0xe32+-0x161,0x141f+-0xf11+-0x50e,0x10ad+0x11a6*0x1+-0x2253),new se()['setFromEul'+'erAngles'](-(0x34*-0xb6+0x1*-0x1a65+0x3fb7),-0xbb3*-0x1+0x1*0x5e7+-0x119a,-0x5*-0x27e+-0x277+-0x3*0x355),new se()['setFromEul'+'erAngles'](0x1*-0x224d+-0x1*0x22b7+0x4504,-0x14d2+0x53*-0x3d+0x294d,0x1b1f+0x67*-0x3d+-0x1e0),new se()['setFromEul'+'erAngles'](-0x269+-0x21d*0x7+-0x89a*-0x2,-0x68d+0x194c+-0x12bf,-0x12*-0x19d+-0x13eb*0x1+-0x1*0x86b)]),c(Qi,'_spotCooki'+'eCamera',null);let Ma=Qi;const i_=0x66a*-0x6+-0x1*-0x1b8b+0xaf1+0.000001,Zt=new T(),xr=new Float32Array(-0x116*-0x19+0x1ba3+0x1*-0x36c3),mC=new T(-(-0x1577+0x247f+-0xf08+0.5),0x6a5+-0x1d41*0x1+0x169c,-0x3*-0x159+0x19f5+-0x100*0x1e),_C=new T(-0x819+-0x1d59+0x2572,0xffd*-0x2+-0x1f7*-0x3+0x1a15,-0x930+0xc5+0x86b+0.5),Sr={'FLAGS':0x0,'COLOR_A':0x1,'COLOR_B':0x2,'SPOT_ANGLES':0x3,'SHADOW_BIAS':0x4,'COOKIE_A':0x5,'COOKIE_B':0x6,'COUNT':0x7},lt={'POSITION_RANGE':0x0,'SPOT_DIRECTION':0x1,'PROJ_MAT_0':0x2,'ATLAS_VIEWPORT':0x2,'PROJ_MAT_1':0x3,'PROJ_MAT_2':0x4,'PROJ_MAT_3':0x5,'AREA_DATA_WIDTH':0x6,'AREA_DATA_HEIGHT':0x7,'COUNT':0x8};let vd;class E0{constructor(_0x358d60){c(this,'areaLights'+'Enabled',!(-0x34*0x83+-0x10cf+0x2b6c)),(this['device']=_0x358d60,this['cookiesEna'+'bled']=!(-0x2ff+-0x1*-0x88e+-0x58e),this['shadowsEna'+'bled']=!(-0x1389+-0x135b+0x26e5*0x1),this['areaLights'+'Enabled']=!(0x40*0x18+-0x1223*-0x1+-0xc11*0x2),this['maxLights']=-0x2*0xcb5+0x9*-0x163+0x26e4);const _0x117281=Sr['COUNT'];this['lights8']=new Uint8ClampedArray((-0x561+-0xa93+0xff8)*_0x117281*this['maxLights']),this['lightsText'+'ure8']=this['createText'+'ure'](this['device'],_0x117281,this['maxLights'],Se,'LightsText'+'ure8'),this['_lightsTex'+'ture8Id']=this['device']['scope']['resolve']('lightsText'+'ure8');const _0x15791a=lt['COUNT'];this['lightsFloa'+'t']=new Float32Array((-0x67*-0x3b+-0x3*0x726+-0x247)*_0x15791a*this['maxLights']),this['lightsText'+'ureFloat']=this['createText'+'ure'](this['device'],_0x15791a,this['maxLights'],Ke,'LightsText'+'ureFloat'),this['_lightsTex'+'tureFloatI'+'d']=this['device']['scope']['resolve']('lightsText'+'ureFloat'),this['invMaxColo'+'rValue']=0xc7*-0x2f+-0x346*-0x3+-0x1ab7*-0x1,this['invMaxAtte'+'nuation']=-0x1e90+0x253a+-0x355*0x2,this['boundsMin']=new T(),this['boundsDelt'+'a']=new T();}static['getShaderD'+'efines'](){const _0x401585=(_0x480f24,_0x3f8a09)=>Object['keys'](_0x480f24)['map'](_0x63b1e2=>'#define\x20'+_0x3f8a09+_0x63b1e2+'\x20'+_0x480f24[_0x63b1e2])['join']('\x0a');return vd||(vd='\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20'+_0x401585(Sr,'CLUSTER_TE'+'XTURE_8_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x401585(lt,'CLUSTER_TE'+'XTURE_F_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')),vd;}['destroy'](){var _0x3f1f61,_0x1b1daf;(_0x3f1f61=this['lightsText'+'ure8'])==null||_0x3f1f61['destroy'](),this['lightsText'+'ure8']=null,(_0x1b1daf=this['lightsText'+'ureFloat'])==null||_0x1b1daf['destroy'](),this['lightsText'+'ureFloat']=null;}['createText'+'ure'](_0x42c76b,_0x5f1469,_0x18267a,_0x1f3805,_0x1a40ef){return new he(_0x42c76b,{'name':_0x1a40ef,'width':_0x5f1469,'height':_0x18267a,'mipmaps':!(0x3*-0x453+0xa28+0x2d2),'format':_0x1f3805,'addressU':ae,'addressV':ae,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1});}['setCompres'+'sionRanges'](_0x27eb2e,_0x20a403){this['invMaxColo'+'rValue']=(-0x955*-0x3+-0x270b+-0xb0d*-0x1)/_0x20a403,this['invMaxAtte'+'nuation']=(-0x3c7*0x7+0x1ad0+-0x5e)/_0x27eb2e;}['setBounds'](_0x129fb6,_0x4413b2){this['boundsMin']['copy'](_0x129fb6),this['boundsDelt'+'a']['copy'](_0x4413b2);}['uploadText'+'ures'](){this['lightsText'+'ureFloat']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ureFloat']['unlock'](),this['lightsText'+'ure8']['lock']()['set'](this['lights8']),this['lightsText'+'ure8']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'ture8Id']['setValue'](this['lightsText'+'ure8']),this['_lightsTex'+'tureFloatI'+'d']['setValue'](this['lightsText'+'ureFloat']);}['getSpotDir'+'ection'](_0x4b2b5e,_0x3691eb){_0x3691eb['_node']['getWorldTr'+'ansform']()['getY'](_0x4b2b5e)['mulScalar'](-(-0x149*-0x1+0x1c92+-0x1dda)),_0x4b2b5e['normalize']();}['getLightAr'+'eaSizes'](_0x13f260){const _0x1aa1b4=_0x13f260['_node']['getWorldTr'+'ansform']();return _0x1aa1b4['transformV'+'ector'](mC,Zt),xr[-0x1*-0x47f+0x1a59+-0x1c*0x11a]=Zt['x'],xr[-0x1*0x222d+-0x2359+0x4587*0x1]=Zt['y'],xr[0x289*0x8+0x29*-0xe6+-0x5*-0x350]=Zt['z'],_0x1aa1b4['transformV'+'ector'](_C,Zt),xr[-0x19ec+-0x23c+0x1c2b*0x1]=Zt['x'],xr[0x137e+0x20e2+-0x345c]=Zt['y'],xr[-0x1b6e+-0x1*0x1f7b+0x18d*0x26]=Zt['z'],xr;}['addLightDa'+'taFlags'](_0x6f77df,_0x20798a,_0x3374c8,_0x12f4e4,_0x22a45b,_0x2bf6e1){_0x6f77df[_0x20798a+(-0x731+0x1328+0xbf7*-0x1)]=_0x12f4e4?0x110c+0x22a2+-0x32af:0x935+-0x2*-0xd98+-0x2465,_0x6f77df[_0x20798a+(-0x10f*-0x14+0x124c+-0x2777)]=this['areaLights'+'Enabled']?_0x3374c8['_shape']*(-0x2ad*-0x7+-0x1a1+-0x10da):0x21ee+-0x956+-0x1*0x1898,_0x6f77df[_0x20798a+(-0x17c4+-0x13e9+0x2baf)]=_0x3374c8['_falloffMo'+'de']*(0x1311+0xc9a*0x1+-0x34*0x97),_0x6f77df[_0x20798a+(-0x1756+-0x7d8*0x2+-0x2709*-0x1)]=_0x22a45b?_0x2bf6e1*(0x996+-0x1763+0xecc*0x1):-0xa28+-0xba7*-0x3+-0x7*0x38b;}['addLightDa'+'taColor'](_0xc23cd7,_0x305978,_0x104c27,_0x34a0f4){const _0x3eac19=this['invMaxColo'+'rValue'],_0x7126db=_0x104c27['_colorLine'+'ar'];Wt['float2Byte'+'s'](_0x7126db[0x34a+0x5c3+-0x14b*0x7]*_0x3eac19,_0xc23cd7,_0x305978+(-0x1ae6+-0x1*0xcfe+-0x27e4*-0x1),0xd5c+0x1a88+-0x27e2),Wt['float2Byte'+'s'](_0x7126db[0x1*0x1749+0x5d8+-0x1d20]*_0x3eac19,_0xc23cd7,_0x305978+(0x59e+-0x106*-0x14+-0x1a14),-0xf44*-0x1+0x12a*-0x1d+0x80*0x25),Wt['float2Byte'+'s'](_0x7126db[-0x55*0x1+0x1e7f+-0x1e28]*_0x3eac19,_0xc23cd7,_0x305978+(0x1*0xa4d+-0xda6+0x35d),-0x746*-0x5+0xd73+-0x31cf),_0xc23cd7[_0x305978+(0x1*-0x5cf+0x1*0x406+-0x1*-0x1cf)]=_0x34a0f4?0xbad+0x11f5+-0x1ca3:0x253b+-0x1455+-0x10e6;const _0xfbe8cc=!!(_0x104c27['mask']&hs),_0x43597e=!!(_0x104c27['mask']&cr);_0xc23cd7[_0x305978+(0xe9d+0x106d*-0x1+0x1d7)]=_0xfbe8cc&&_0x43597e?0x6f*-0x2d+-0x117a+0x257c:_0x43597e?0xb21+0x2*0x37+-0xa90:0x1565+-0x102a+-0x53b;}['addLightDa'+'taSpotAngl'+'es'](_0x473b63,_0x5515d2,_0x21c9bc){Wt['float2Byte'+'s'](_0x21c9bc['_innerCone'+'AngleCos']*(-0xe02+-0x1a9f+0x28a1+0.5-i_)+(-0x1022+-0x3*-0xc22+-0xa22*0x2+0.5),_0x473b63,_0x5515d2+(0x1*0xf93+-0x5ab*0x4+0x719),0xb15+0x3c6+0x21f*-0x7),Wt['float2Byte'+'s'](_0x21c9bc['_outerCone'+'AngleCos']*(-0x2645+-0x253b+0x4b80+0.5-i_)+(0x14c9+0x187d+-0x2d46+0.5),_0x473b63,_0x5515d2+(0x4*0x82d+-0x2285+0x1d3),-0x189*-0xd+0x21ce+-0xb*0x4e3);}['addLightDa'+'taShadowBi'+'as'](_0x5e2344,_0x1e8125,_0x11fbaf){const _0x532c91=_0x11fbaf['getRenderD'+'ata'](null,0x1*0xc5+0x1bac+-0x1c71),_0x390c1a=_0x11fbaf['_getUnifor'+'mBiasValue'+'s'](_0x532c91);Wt['float2Byte'+'sRange'](_0x390c1a['bias'],_0x5e2344,_0x1e8125,-(0x66b*0x5+-0x79e+0x6*-0x414),-0x196*-0x5+-0x2280+0x6*0x471,0x2607+0x1*-0x1c66+-0x99f),Wt['float2Byte'+'s'](_0x390c1a['normalBias'],_0x5e2344,_0x1e8125+(0x3*0x31a+-0xcb5+0x369),-0x7*-0x347+0x1*-0x10b2+-0x1*0x63d);}['addLightDa'+'taCookies'](_0x56f148,_0x4e6c29,_0x46cb59){const _0x59f164=_0x46cb59['_cookieCha'+'nnel']==='rgb';if(_0x56f148[_0x4e6c29+(-0x7c8+0x2*0x58f+-0x356)]=Math['floor'](_0x46cb59['cookieInte'+'nsity']*(0x1*0x2329+0x4+-0x222e)),_0x56f148[_0x4e6c29+(-0x25cf+0x17*0x8b+-0x1953*-0x1)]=_0x59f164?-0x3c7+-0x2602+0x4*0xab2:-0x22c9+-0x29*0xf1+0x4962,!_0x59f164){const _0x4ab003=_0x46cb59['_cookieCha'+'nnel'];_0x56f148[_0x4e6c29+(0x267e+-0x3*-0xc01+0x4a7d*-0x1)]=_0x4ab003==='rrr'?-0x1f2b+-0x1e8a+-0x1f5a*-0x2:0x98a+0x1f3c+-0x28c6,_0x56f148[_0x4e6c29+(-0x137a+0x2101+0x1a*-0x85)]=_0x4ab003==='ggg'?0x1*-0x5ec+0x166b*0x1+-0xf80:0xf*-0x196+-0x16c0+-0x2e8a*-0x1,_0x56f148[_0x4e6c29+(-0x29*-0x61+0x29*-0x16+-0xbfd)]=_0x4ab003==='bbb'?-0x1169*0x2+-0x24b1*0x1+-0x2441*-0x2:-0x1ce6+-0x9f9+-0x26df*-0x1,_0x56f148[_0x4e6c29+(-0x670+0x3c*-0x7d+0x23c3)]=_0x4ab003==='aaa'?0x3*-0xa9+0x4d9+-0x1*0x1df:-0x1*0x166f+-0x4fd+0x1b6c;}}['addLightDa'+'ta'](_0x5a9ee3,_0x60ea99){const _0x2fe4d0=_0x5a9ee3['_type']===Re,_0x186ab3=_0x5a9ee3['atlasViewp'+'ortAllocat'+'ed'],_0x1c54ec=this['cookiesEna'+'bled']&&!!_0x5a9ee3['_cookie']&&_0x186ab3,_0x3fc423=this['areaLights'+'Enabled']&&_0x5a9ee3['shape']!==yt,_0xc95fea=this['shadowsEna'+'bled']&&_0x5a9ee3['castShadow'+'s']&&_0x186ab3,_0x17e132=_0x5a9ee3['_node']['getPositio'+'n']();let _0x570529=null,_0x59c050=null;_0x2fe4d0?_0xc95fea?_0x570529=_0x5a9ee3['getRenderD'+'ata'](null,0x1de6+0xf76*0x2+-0xad*0x5a)['shadowMatr'+'ix']:_0x1c54ec&&(_0x570529=Ma['evalSpotCo'+'okieMatrix'](_0x5a9ee3)):(_0xc95fea||_0x1c54ec)&&(_0x59c050=_0x5a9ee3['atlasViewp'+'ort']);const _0x13c74b=this['lights8'],_0x507c52=_0x60ea99*this['lightsText'+'ure8']['width']*(-0x767*-0x3+0xd17+0x2348*-0x1);this['addLightDa'+'taFlags'](_0x13c74b,_0x507c52+(0xdf8+-0xaf2+-0x302*0x1)*Sr['FLAGS'],_0x5a9ee3,_0x2fe4d0,_0xc95fea,_0x5a9ee3['shadowInte'+'nsity']),this['addLightDa'+'taColor'](_0x13c74b,_0x507c52+(0x1502*-0x1+0x1d5c+0x61*-0x16)*Sr['COLOR_A'],_0x5a9ee3,_0x1c54ec),_0x2fe4d0&&this['addLightDa'+'taSpotAngl'+'es'](_0x13c74b,_0x507c52+(0x120f*0x1+0x10*0x92+-0x1b2b)*Sr['SPOT_ANGLE'+'S'],_0x5a9ee3),_0x5a9ee3['castShadow'+'s']&&this['addLightDa'+'taShadowBi'+'as'](_0x13c74b,_0x507c52+(-0x1c+0x1*-0x1b8e+0x1bae)*Sr['SHADOW_BIA'+'S'],_0x5a9ee3),_0x1c54ec&&this['addLightDa'+'taCookies'](_0x13c74b,_0x507c52+(0x1eb9*0x1+0x2430+-0x42e5)*Sr['COOKIE_A'],_0x5a9ee3);const _0x278918=this['lightsFloa'+'t'],_0x51f580=_0x60ea99*this['lightsText'+'ureFloat']['width']*(0x1*-0x1af4+-0x3*0x275+0x2257);if(_0x278918[_0x51f580+(-0x8b2+-0x172d*0x1+-0x1fe3*-0x1)*lt['POSITION_R'+'ANGE']+(-0xf3b+0x12e3+-0x3a8)]=_0x17e132['x'],_0x278918[_0x51f580+(-0x7*0x481+-0x11b1*0x1+0x313c)*lt['POSITION_R'+'ANGE']+(-0x14d9+0x193a*0x1+0x7*-0xa0)]=_0x17e132['y'],_0x278918[_0x51f580+(-0x7*0x3dd+-0x29a*-0xa+0x10b)*lt['POSITION_R'+'ANGE']+(0x3f9+-0x8e6+0x4ef)]=_0x17e132['z'],_0x278918[_0x51f580+(-0xb3e+-0x1dbd+0x833*0x5)*lt['POSITION_R'+'ANGE']+(0x1d3b+-0x1*-0x1661+0x6f*-0x77)]=_0x5a9ee3['attenuatio'+'nEnd'],_0x2fe4d0&&(this['getSpotDir'+'ection'](Zt,_0x5a9ee3),_0x278918[_0x51f580+(-0x2*-0x74a+0x1*0x2285+-0x3115)*lt['SPOT_DIREC'+'TION']+(0x3*-0x107+-0x1e8a+0x219f)]=Zt['x'],_0x278918[_0x51f580+(-0x1*0x157d+-0x1739+0xe5*0x32)*lt['SPOT_DIREC'+'TION']+(-0x1*-0xacf+-0x2*-0x129d+-0x3008)]=Zt['y'],_0x278918[_0x51f580+(0x8bb+-0x767+0x18*-0xe)*lt['SPOT_DIREC'+'TION']+(0x6ff+-0x105c+0x95f)]=Zt['z']),_0x570529){const _0x3b447d=_0x570529['data'];for(let _0x51c23f=-0x48d*0x2+0x94*-0x37+-0x1e*-0x15d;_0x51c23f<-0x51*-0x6b+-0x55*-0x2f+-0x3166;_0x51c23f++)_0x278918[_0x51f580+(0x1e97+0x23c9*-0x1+0x536)*lt['PROJ_MAT_0']+_0x51c23f]=_0x3b447d[_0x51c23f];}if(_0x59c050&&(_0x278918[_0x51f580+(-0x2694+-0x1a9c*0x1+-0x1*-0x4134)*lt['ATLAS_VIEW'+'PORT']+(-0x60c+0x1f3e+-0x1932)]=_0x59c050['x'],_0x278918[_0x51f580+(-0x21d3+-0xc2+0x1*0x2299)*lt['ATLAS_VIEW'+'PORT']+(0x20e0+0x1022+0x1*-0x3101)]=_0x59c050['y'],_0x278918[_0x51f580+(0x1*0xc61+0x4*-0x502+0x7ab)*lt['ATLAS_VIEW'+'PORT']+(0x7*-0x539+0x13*0x1ee+-0x19*0x1)]=_0x59c050['z']/(0x1*-0x1773+0x1f89+-0x27*0x35)),_0x3fc423){const _0x296165=this['getLightAr'+'eaSizes'](_0x5a9ee3);_0x278918[_0x51f580+(0x3*0x26b+0x1*0x1505+-0x1c42)*lt['AREA_DATA_'+'WIDTH']+(0x49*-0x17+-0x42b*0x1+0x55d*0x2)]=_0x296165[-0x1396+0x1c6d+0x8d7*-0x1],_0x278918[_0x51f580+(-0x2*0x4d5+-0x256c+0x2f1a)*lt['AREA_DATA_'+'WIDTH']+(0x7bb+0xa37+-0x3*0x5fb)]=_0x296165[0x456*-0x1+0x770*-0x4+0x2217],_0x278918[_0x51f580+(-0x961+0x16dc+-0xd77)*lt['AREA_DATA_'+'WIDTH']+(-0x222+0x6d3+0x6d*-0xb)]=_0x296165[-0x1*-0x23cf+-0x1d1a+-0x31*0x23],_0x278918[_0x51f580+(-0x2582+-0x7*0xb7+0x2a87)*lt['AREA_DATA_'+'HEIGHT']+(0xd*-0x12f+0x1ade+-0x1*0xb7b)]=_0x296165[-0x2*-0x788+-0x1b2e+-0x1b*-0x73],_0x278918[_0x51f580+(-0x10e5+-0x57*0x1b+0x1a16)*lt['AREA_DATA_'+'HEIGHT']+(0x25c4+-0x31*-0xa6+-0x4589)]=_0x296165[-0x9cb+-0x26b6+-0x3085*-0x1],_0x278918[_0x51f580+(-0x21cc*0x1+-0x1c0a+0x57*0xb6)*lt['AREA_DATA_'+'HEIGHT']+(-0x2*-0x1fd+0xed6+-0x2*0x967)]=_0x296165[-0x2607+0x116*0x22+0x120];}}}const Ml=new T(),Pl=new T(),Rl=new T(),bd=new _e(),r_=0x19cc+-0x6e1*0x2+0xc0a*-0x1+0.000001,n_=-0x115e+-0x1*0x1ba6+-0x2c*-0x163;class a_{constructor(){this['light']=null,this['min']=new T(),this['max']=new T();}}class zu{constructor(_0x20052e){c(this,'clusterTex'+'ture'),(this['device']=_0x20052e,this['name']='Untitled',this['reportCoun'+'t']=0x6b8+0xd8b*0x1+0x6c1*-0x3,this['boundsMin']=new T(),this['boundsMax']=new T(),this['boundsDelt'+'a']=new T(),this['_cells']=new T(0x175f+-0x7db*-0x1+-0x1f39*0x1,0x2*0xcaf+-0x825+-0x4c*0x3a,-0x1*-0x1e97+0x3e4*0x7+-0x3*0x1346),this['_cellsLimi'+'t']=new T(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=0x2248+-0x1e6f+0x3*-0x147,this['_maxAttenu'+'ation']=-0x13a0*-0x1+0xb8c+0xf*-0x214,this['_maxColorV'+'alue']=-0x46c+0x39*-0x1+0x29*0x1d,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new a_()),this['lightsBuff'+'er']=new E0(_0x20052e),this['registerUn'+'iforms'](_0x20052e));}set['maxCellLig'+'htCount'](_0x5ca861){_0x5ca861!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x5ca861,this['_cellsDirt'+'y']=!(-0x16b5+-0x1*0x176f+0x2e24));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x10876f){Ml['copy'](_0x10876f)['floor'](),this['_cells']['equals'](Ml)||(this['_cells']['copy'](Ml),this['_cellsLimi'+'t']['copy'](Ml)['sub'](T['ONE']),this['_cellsDirt'+'y']=!(0x1a*0x93+-0x307*-0x3+-0x1803));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x5223ac){this['_clusterSk'+'ipId']=_0x5223ac['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x5223ac['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x5223ac['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x5223ac['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(-0xe3+-0x159d+0x1683),this['_clusterBo'+'undsMinId']=_0x5223ac['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(-0x259*0xd+-0x24fe+0x4386),this['_clusterBo'+'undsDeltaI'+'d']=_0x5223ac['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(0xce3+0xed5*0x1+-0x1bb5),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x5223ac['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(0x1*0xc75+0x138b+-0x1ffd),this['_clusterCe'+'llsDotId']=_0x5223ac['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(0x11f8+0x13*-0x5+-0x1196),this['_clusterCe'+'llsMaxId']=_0x5223ac['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(0x679*0x5+0x5*-0x1f7+-0x1*0x1687),this['_clusterCo'+'mpressionL'+'imit0Id']=_0x5223ac['scope']['resolve']('clusterCom'+'pressionLi'+'mit0'),this['_clusterCo'+'mpressionL'+'imit0Data']=new Float32Array(-0x23*-0x1e+-0xaf1+-0x1*-0x6d9);}['updatePara'+'ms'](_0x4eff86){_0x4eff86&&(this['cells']=_0x4eff86['cells'],this['maxCellLig'+'htCount']=_0x4eff86['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x4eff86['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x4eff86['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x4eff86['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(-0x19c5+-0x1c9e+-0x3b*-0xec);const _0x115f92=this['_cells']['x'],_0xc0ad2a=this['_cells']['y'],_0x206b3a=this['_cells']['z'],_0x52649d=_0x115f92*_0xc0ad2a*_0x206b3a,_0x4805b4=this['maxCellLig'+'htCount']*_0x52649d;let _0x4e25db=Math['ceil'](Math['sqrt'](_0x4805b4));_0x4e25db=N['roundUp'](_0x4e25db,this['maxCellLig'+'htCount']);const _0x1b51e1=Math['ceil'](_0x4805b4/_0x4e25db);v['assert'](_0x4e25db<=n_&&_0x1b51e1<=n_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][-0x6c*-0x40+-0x1*0x1907+0x65*-0x5]=_0x115f92,this['_clusterCe'+'llsMaxData'][0x1*-0x24b6+0xb*0x245+-0x10*-0xbc]=_0xc0ad2a,this['_clusterCe'+'llsMaxData'][0x1d*0xbf+-0x1a41+0x25*0x20]=_0x206b3a,this['_clusterCe'+'llsDotData'][-0x1*0x1d9b+0x36*-0x90+0x3bfb]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x692+0x1741+-0x10ae]=_0x115f92*_0x206b3a*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x1*0x18a7+0x9ec+0x2291*-0x1]=_0x115f92*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x4805b4),this['counts']=new Int32Array(_0x52649d),this['_clusterTe'+'xtureSizeD'+'ata'][0x1a9f+0x8b*-0xe+0x657*-0x3]=_0x4e25db,this['_clusterTe'+'xtureSizeD'+'ata'][-0x6b*-0x3f+-0x1412+-0x642]=(-0x10e0+-0x9d*0x1+0x117e)/_0x4e25db,this['_clusterTe'+'xtureSizeD'+'ata'][-0xb*-0x167+-0x1648+-0x1*-0x6dd]=(0x1*-0x2d5+-0x2359*0x1+0x1a9*0x17)/_0x1b51e1,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x4e25db,_0x1b51e1,sp,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>0x163d+-0x1*-0x146f+-0x1*0x2aab?0x224a+-0x643+-0x1c07:0x2127+-0x3*0x3c6+-0x15d4*0x1),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x2d43ad=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x1*0x7ad+-0x7a3*0x1+-0xa]=this['_cells']['x']/_0x2d43ad['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x1518+-0x1*0x719+-0x4aa*0x3]=this['_cells']['y']/_0x2d43ad['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x1d09+0x1589+0x782]=this['_cells']['z']/_0x2d43ad['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][0x1805+0x1*0x1bb+-0x19c0]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][0x1da3+-0x13d8+-0x2*0x4e5]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][0x2537+-0xc*0x285+-0x6f9]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][-0xc1*-0x16+-0x134+-0xf62]=_0x2d43ad['x'],this['_clusterBo'+'undsDeltaD'+'ata'][-0xbd3+-0x192f+-0x1*-0x2503]=_0x2d43ad['y'],this['_clusterBo'+'undsDeltaD'+'ata'][-0xa41*0x2+-0x2109+0x1*0x358d]=_0x2d43ad['z'],this['_clusterCo'+'mpressionL'+'imit0Data'][0x1e30+0x13a8+-0x6e*0x74]=this['_maxAttenu'+'ation'],this['_clusterCo'+'mpressionL'+'imit0Data'][0x10ca+0xd15+-0x1dde]=this['_maxColorV'+'alue'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']),this['_clusterCo'+'mpressionL'+'imit0Id']['setValue'](this['_clusterCo'+'mpressionL'+'imit0Data']);}['evalLightC'+'ellMinMax'](_0xd0135a,_0xf9bcf,_0x4ca087){_0xf9bcf['copy'](_0xd0135a['min']),_0xf9bcf['sub'](this['boundsMin']),_0xf9bcf['div'](this['boundsDelt'+'a']),_0xf9bcf['mul2'](_0xf9bcf,this['cells']),_0xf9bcf['floor'](),_0x4ca087['copy'](_0xd0135a['max']),_0x4ca087['sub'](this['boundsMin']),_0x4ca087['div'](this['boundsDelt'+'a']),_0x4ca087['mul2'](_0x4ca087,this['cells']),_0x4ca087['ceil'](),_0xf9bcf['max'](T['ZERO']),_0x4ca087['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x3b3a81){const _0x335f12=this['lightsBuff'+'er']['maxLights'],_0x83fad6=this['_usedLight'+'s'];let _0x104083=0x3*-0x52e+-0x2278*-0x1+0x5f*-0x33;_0x3b3a81['forEach'](_0x690db0=>{const _0x4cb0cc=!!(_0x690db0['mask']&(hs|cr)),_0x2979d8=_0x690db0['type']===Re&&_0x690db0['_outerCone'+'Angle']===0xd19*-0x1+-0xb*0x16b+-0x2*-0xe59;if(_0x690db0['enabled']&&_0x690db0['type']!==oe&&_0x690db0['visibleThi'+'sFrame']&&_0x690db0['intensity']>-0xb67+-0x38f*-0x1+0x4*0x1f6&&_0x4cb0cc&&!_0x2979d8){if(_0x104083<_0x335f12){let _0x13a6ed;_0x104083<_0x83fad6['length']?_0x13a6ed=_0x83fad6[_0x104083]:(_0x13a6ed=new a_(),_0x83fad6['push'](_0x13a6ed)),_0x13a6ed['light']=_0x690db0,_0x690db0['getBoundin'+'gBox'](bd),_0x13a6ed['min']['copy'](bd['getMin']()),_0x13a6ed['max']['copy'](bd['getMax']()),_0x104083++;}else v['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x335f12-(0x19*0x1a+-0x1cc9+0xa8*0x28))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x83fad6['length']=_0x104083;}['evaluateBo'+'unds'](){const _0xb30cd6=this['_usedLight'+'s'],_0x4eb340=this['boundsMin'],_0x7da6c5=this['boundsMax'];if(_0xb30cd6['length']>0xa*-0x262+-0xf8a+0x275f){_0x4eb340['copy'](_0xb30cd6[-0x1*-0x167f+-0x4*0x466+0x2*-0x273]['min']),_0x7da6c5['copy'](_0xb30cd6[-0x14d*0xe+0x9*0x8a+-0xd5d*-0x1]['max']);for(let _0x1f6277=0x3*-0x4d+-0x18cd+0x19b6;_0x1f6277<_0xb30cd6['length'];_0x1f6277++)_0x4eb340['min'](_0xb30cd6[_0x1f6277]['min']),_0x7da6c5['max'](_0xb30cd6[_0x1f6277]['max']);}else _0x4eb340['set'](0xf5*-0x26+0x1d0+0x228e,0xd72+-0xccd+0xa5*-0x1,0x99b*0x4+0x1550+-0x3bbc),_0x7da6c5['set'](0x1dde+-0x3*0x4e1+-0xf3a,-0x112c+0x26fe+-0x15d1,0x1a64+0xa*0x5f+0x14f*-0x17);this['boundsDelt'+'a']['sub2'](_0x7da6c5,_0x4eb340),this['lightsBuff'+'er']['setBounds'](_0x4eb340,this['boundsDelt'+'a']);}['evaluateCo'+'mpressionL'+'imits'](){let _0x1f7fe1=0x1977+0xa10+-0x2387,_0x3ab256=0x1*0x815+0xfe4+-0x17f9;const _0x3afdd3=this['_usedLight'+'s'];for(let _0x462dfc=-0x1813+0x189*0x4+-0x1*-0x11f0;_0x462dfc<_0x3afdd3['length'];_0x462dfc++){const _0x540a9a=_0x3afdd3[_0x462dfc]['light'];_0x1f7fe1=Math['max'](_0x540a9a['attenuatio'+'nEnd'],_0x1f7fe1);const _0x52e023=_0x540a9a['_colorLine'+'ar'];_0x3ab256=Math['max'](_0x52e023[0x6*-0x3d9+0x1470+0x2a6],_0x3ab256),_0x3ab256=Math['max'](_0x52e023[0x2411+0x189*0x19+-0x4a71],_0x3ab256),_0x3ab256=Math['max'](_0x52e023[-0x2a*-0x5c+0x653*-0x2+-0x270],_0x3ab256);}this['_maxAttenu'+'ation']=_0x1f7fe1+r_,this['_maxColorV'+'alue']=_0x3ab256+r_,this['lightsBuff'+'er']['setCompres'+'sionRanges'](this['_maxAttenu'+'ation'],this['_maxColorV'+'alue']);}['updateClus'+'ters'](_0xb6432c){this['counts']['fill'](-0x3f5+0xe1e+-0xa29),this['clusters']['fill'](0x2291+0x1ec1+-0x4152),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0xb6432c?_0xb6432c['areaLights'+'Enabled']:!(0x6ab*-0x1+-0x233d+0x29e9);const _0xcfc685=this['_cells']['x'],_0x347041=this['_cells']['z'],_0x5d8dab=this['counts'],_0x911d59=this['_maxCellLi'+'ghtCount'],_0x39c560=this['clusters'],_0x3b18fe=this['maxCellLig'+'htCount'];let _0xf0e0f9=!(-0x5*0x513+-0x140c+0x2d6c);const _0x164d78=this['_usedLight'+'s'];for(let _0x5bd9ae=-0x3*0x7e1+0x1d41*0x1+0x1*-0x59d;_0x5bd9ae<_0x164d78['length'];_0x5bd9ae++){const _0xadccf5=_0x164d78[_0x5bd9ae],_0x319878=_0xadccf5['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x319878,_0x5bd9ae),this['evalLightC'+'ellMinMax'](_0xadccf5,Pl,Rl);const _0x3c1284=Pl['x'],_0x2472be=Rl['x'],_0x54de20=Pl['y'],_0x35c533=Rl['y'],_0xf9bc1c=Pl['z'],_0x5e7c6c=Rl['z'];for(let _0x4e1fab=_0x3c1284;_0x4e1fab<=_0x2472be;_0x4e1fab++)for(let _0x2e3168=_0xf9bc1c;_0x2e3168<=_0x5e7c6c;_0x2e3168++)for(let _0x173a42=_0x54de20;_0x173a42<=_0x35c533;_0x173a42++){const _0x465237=_0x4e1fab+_0xcfc685*(_0x2e3168+_0x173a42*_0x347041),_0x4b7a73=_0x5d8dab[_0x465237];_0x4b7a73<_0x911d59?(_0x39c560[_0x3b18fe*_0x465237+_0x4b7a73]=_0x5bd9ae,_0x5d8dab[_0x465237]=_0x4b7a73+(-0x14d5*0x1+0x1c*-0xb7+0x28da)):_0xf0e0f9=!(-0x2456+-0x1af9+0x3f4f);}}_0xf0e0f9&&this['reportCoun'+'t']<-0x1bd8+-0x5de+0x1*0x21bb&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===-0x1245+0xe28+0x1*0x421?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x58bea3,_0x5db2aa=null){this['updatePara'+'ms'](_0x5db2aa),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x58bea3),this['evaluateBo'+'unds'](),this['evaluateCo'+'mpressionL'+'imits'](),this['updateClus'+'ters'](_0x5db2aa),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const o_=-0x110a+0x65c*-0x6+-0x3734*-0x1+0.39996322972865306,ll={'circlePoint'(_0x6d6bdd){const _0x1978e5=Math['sqrt'](Math['random']()),_0x220881=Math['random']()*(0xf23+0x3e1+-0x1302)*Math['PI'];_0x6d6bdd['x']=_0x1978e5*Math['cos'](_0x220881),_0x6d6bdd['y']=_0x1978e5*Math['sin'](_0x220881);},'circlePointDeterministic'(_0x4f6953,_0x1f9ac7,_0x50944b){const _0xd3c6cf=_0x1f9ac7*o_,_0x4bb3b7=Math['sqrt'](_0x1f9ac7)/Math['sqrt'](_0x50944b);_0x4f6953['x']=_0x4bb3b7*Math['cos'](_0xd3c6cf),_0x4f6953['y']=_0x4bb3b7*Math['sin'](_0xd3c6cf);},'spherePointDeterministic'(_0x4bdbff,_0x23b8b6,_0x1715c0,_0x3fc869=0x1ed4+0x8*0x2a3+-0x33ec,_0x4c7e44=0x1*-0x94f+0x1*0xb9d+-0x24d){_0x3fc869=0x1add+0x180d*-0x1+0x2cf*-0x1-(-0x45*0x26+-0x220c+0x2c4c)*_0x3fc869,_0x4c7e44=-0x1ed6+0x23eb+-0x32*0x1a-(0x13*-0x1e5+0xea1+0x1560)*_0x4c7e44;const _0x333ad2=N['lerp'](_0x3fc869,_0x4c7e44,_0x23b8b6/_0x1715c0),_0x5e2de9=Math['sqrt'](0x1*0x2027+-0xf27*0x1+-0x10ff-_0x333ad2*_0x333ad2),_0x374f60=o_*_0x23b8b6;_0x4bdbff['x']=Math['cos'](_0x374f60)*_0x5e2de9,_0x4bdbff['y']=_0x333ad2,_0x4bdbff['z']=Math['sin'](_0x374f60)*_0x5e2de9;},'radicalInverse'(_0x219406){let _0x508833=(_0x219406<<0x1*-0x19b3+0x30d*-0x3+-0xda*-0x29|_0x219406>>>0x95*-0x3+-0x19a4+0x1b73)>>>0x22e3+-0x1*-0x2353+0x56*-0xd1;return _0x508833=((_0x508833&-0x8f8c0c07+-0x74fdebcd+0x159df4d29)<<0x1711+0x2052+-0x3762|(_0x508833&0x81a6acf8+-0x48dd3060+-0x1*-0x71e12e12)>>>-0x1e6e+-0x5cb+-0x121d*-0x2)>>>-0x1*-0x23b+0x1a5c+-0x233*0xd,_0x508833=((_0x508833&-0x6d*-0x86f365+-0x16b638e+0x20*-0x26b85a)<<-0x2431+-0x25d8+-0xdf*-0x55|(_0x508833&-0x21b3d7*-0x3e5+0x90d43d73+-0x4748d4fa)>>>0x2493+0xe22+-0x32b3)>>>-0x147*-0x19+-0x1*0x2539+0x2*0x2a5,_0x508833=((_0x508833&0x14967f32+0xd57186f+-0x12de8892)<<0x679*-0x2+0x439*0x5+-0x827*0x1|(_0x508833&-0x2*0x14fd9fd3+0x1*-0x445f4c1e+-0x104*-0x159e3ed)>>>-0x29*0x2c+-0x167*0x2+0x9de)>>>-0x1ba*0x5+0x2544+0x5ba*-0x5,_0x508833=((_0x508833&0x1d83486*0x1+-0x2ef*0x986f+0xe5fa1a)<<0x1*-0x145d+-0x1a30*-0x1+-0x5cb|(_0x508833&0x192154ae4+-0x21*0xefb7829+0x15b563165)>>>-0x2486+0xf85*0x1+0x1509)>>>0x2420+-0x1a1*-0x12+-0x2*0x20b9,_0x508833*(-0x18eb+-0x11da*0x1+0x2ac5*0x1+2.3283064365386963e-10);}},gC={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP'},yC={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Es{static['decodeFunc'](_0x546dd4){return gC[_0x546dd4]||'decodeGamm'+'a';}static['encodeFunc'](_0x80200c){return yC[_0x80200c]||'encodeGamm'+'a';}static['getScreenD'+'epthChunk'](_0x5400ec,_0x139698){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+(_0x139698['sceneDepth'+'MapLinear']?'#define\x20SC'+'ENE_DEPTHM'+'AP_LINEAR':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x5400ec['textureFlo'+'atRenderab'+'le']?'#define\x20SC'+'ENE_DEPTHM'+'AP_FLOAT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+X['screenDept'+'hPS']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}const l_=_0x1c9734=>{switch(_0x1c9734){case Au:return'Cubemap';case QS:return'Octahedral';default:return'Equirect';}},Il=(_0x24b287,_0x451659,_0x38fbe2)=>{if(_0x24b287<=0x9d*0x3+0x25c7*0x1+0xb*-0x39a)_0x451659[_0x38fbe2+(0x3ae+0x107a+-0x1428)]=-0xb34+-0x142b+0x1*0x1f5f,_0x451659[_0x38fbe2+(-0x1*-0x1b6b+0x1b1b+0x335*-0x11)]=-0x1e99+-0xb*-0x1df+-0x1*-0xa04,_0x451659[_0x38fbe2+(-0xcdb*0x3+0x22ca*-0x1+0x1*0x495d)]=-0xa59+0x1df9+-0x13a0,_0x451659[_0x38fbe2+(-0xf59+0x1cdb*0x1+-0xd7f)]=0x5a7*-0x1+-0x704+-0x45*-0x2f;else{if(_0x24b287>=-0x11b8+0x8*-0x24d+0x3*0xc0b)_0x451659[_0x38fbe2+(0x1*-0x1de5+-0x3*0xa61+0x24*0x1b2)]=-0x192+0x1533+-0x12a2,_0x451659[_0x38fbe2+(-0x9*-0x3b+0x1ffc+-0x6*0x5ad)]=0x185d+0x259*-0xd+-0x4*-0x18a,_0x451659[_0x38fbe2+(0x1*0x2455+0x4*-0xfe+-0x1*0x205b)]=0x5b+-0x5+-0x56,_0x451659[_0x38fbe2+(-0x1*0x18e+-0x295*-0x9+-0x1*0x15ac)]=-0xcf*-0xc+-0x140f*-0x1+-0x13*0x191;else{let _0x301c69=(0x239d*0x1+-0xd*-0x8e+-0x61e*0x7)*_0x24b287%(0x25*-0xdf+-0x1575+0x35b1),_0x462a3d=(0x1*-0x2081+0x5*0x7f+-0x1*-0x1f05)*_0x24b287%(-0x746*0x5+0xd*-0x2ba+0x47d1),_0x578dfc=(0x2b2*0x9b+-0x13ca6*0x1+0x1*0x98e1)*_0x24b287%(-0x1d8*0xd+0x1*0x10d5+-0x724*-0x1);const _0xaf2559=(-0x1ccb76c+0x106c*-0x4bf+-0x1*-0x317aaff)*_0x24b287%(-0x10e5+0x8a7+0x83f);_0x301c69-=_0x462a3d/(0x15c*0x3+-0x25a7+-0xb86*-0x3),_0x462a3d-=_0x578dfc/(-0x1554+-0x813+0x6*0x511),_0x578dfc-=_0xaf2559/(0x10d+-0x1*0x1d71+-0x1d63*-0x1),_0x451659[_0x38fbe2+(0xbf*0x1a+-0xb5a+-0xa*0xce)]=Math['min'](0x1051+0x11*0x6b+-0x166d,Math['floor'](_0x301c69*(0x5e8+-0x626+0x13e))),_0x451659[_0x38fbe2+(0x22c+0x688+-0x8b3)]=Math['min'](-0x168d+-0x624+0x1db0,Math['floor'](_0x462a3d*(0xcf9+0x1*-0x422+-0x7d7))),_0x451659[_0x38fbe2+(-0xcde+0xa85+0x25b)]=Math['min'](-0x1c59+-0x12a7+0x2fff,Math['floor'](_0x578dfc*(-0x2b8+0x2576+0x4d2*-0x7))),_0x451659[_0x38fbe2+(-0x3*0x935+-0x5*0x76b+0x40b9*0x1)]=Math['min'](-0x24d*0xc+0x145*-0x19+0x3c58,Math['floor'](_0xaf2559*(0xb5*-0x22+0x4*0x7e1+0x1*-0x67a)));}}},xC=_0x471e67=>{const _0x589080=_0x471e67['length'],_0x197c1a=Math['min'](_0x589080,-0x1beb+-0x50*0x6b+0x3f5b),_0x5f4050=Math['ceil'](_0x589080/_0x197c1a),_0x1cfaa9=new Uint8Array(_0x197c1a*_0x5f4050*(0x1b37+0x81*-0x46+0x813));let _0x58e070=-0xe*-0x43+-0x7*-0x499+-0x23d9;for(let _0x3deb9b=-0x1*-0x26e7+0x111b*-0x1+-0x15cc;_0x3deb9b<_0x589080;_0x3deb9b+=0x1*0x2479+-0x259c+0x127)Il(_0x471e67[_0x3deb9b+(-0x937*-0x1+-0xa66+-0x65*-0x3)]*(0x1324+0x9f*0x17+-0x216d+0.5)+(-0x795*0x3+0x263d*0x1+0x7bf*-0x2+0.5),_0x1cfaa9,_0x58e070+(0xd*0x35+0x1fdd+-0x228e)),Il(_0x471e67[_0x3deb9b+(0x2611*0x1+-0x6*-0x359+-0x3a26)]*(-0x1143+-0x2e9*0x5+-0x3fa*-0x8+0.5)+(0x2*-0xc04+-0x77d+0x1f85+0.5),_0x1cfaa9,_0x58e070+(-0x7*0x13+0x1e90+-0x1e07)),Il(_0x471e67[_0x3deb9b+(0x366+-0x1f06+0x1ba2)]*(0x1*-0x21e5+0x7c*-0x8+0x25c5+0.5)+(0x22a8+0x1018+-0xe0*0x3a+0.5),_0x1cfaa9,_0x58e070+(-0x75f+-0x75c+0xec3)),Il(_0x471e67[_0x3deb9b+(-0x1c0b*0x1+-0x1431*0x1+0x303f)]/(0x1edd+-0x3*-0xb17+-0x401a),_0x1cfaa9,_0x58e070+(0x437*-0x5+-0x37b*0x9+0x3472)),_0x58e070+=-0xbba+0x59*-0x29+0x1a0b;return{'width':_0x197c1a,'height':_0x5f4050,'data':_0x1cfaa9};},SC=(_0x1a37ac,_0x2be5fa,_0x148404,_0x281fe5)=>{const _0x30ce66=_0x148404*(0x154e+0x21b+-0x1767)*Math['PI'],_0x1a2f41=Math['pow'](0x1625+0x166*0xd+-0x2852-_0x2be5fa,(-0x419*-0x2+0xb*0x33f+0xea2*-0x3)/(_0x281fe5+(-0x1b46+0x1bea+0xa3*-0x1))),_0x187854=Math['sqrt'](0x2203+-0xe3*0x1b+-0xa11*0x1-_0x1a2f41*_0x1a2f41);_0x1a37ac['set'](Math['cos'](_0x30ce66)*_0x187854,Math['sin'](_0x30ce66)*_0x187854,_0x1a2f41)['normalize']();},vC=(_0x24189a,_0x363692,_0xab6185)=>{const _0x127628=_0xab6185*(0xd9b+-0x1*-0x10ba+0x455*-0x7)*Math['PI'],_0x2582e0=Math['sqrt'](-0x1a89*0x1+0x1*-0x3+-0x3cb*-0x7-_0x363692),_0x481914=Math['sqrt'](_0x363692);_0x24189a['set'](Math['cos'](_0x127628)*_0x481914,Math['sin'](_0x127628)*_0x481914,_0x2582e0)['normalize']();},bC=(_0x245832,_0xabf37b,_0x1e18ee,_0x3bc8c4)=>{const _0x4c89c0=_0x1e18ee*(0x2*-0xe96+-0x26d2+0x4400)*Math['PI'],_0x4dd976=Math['sqrt']((-0x1*0xc83+-0x13d3+0x2057-_0xabf37b)/(-0x1*0xa83+0x2*-0x11b+-0xcba*-0x1+(_0x3bc8c4*_0x3bc8c4-(0x26d3+0x1fb2*-0x1+-0x720))*_0xabf37b)),_0x3daa73=Math['sqrt'](0x15d9+-0x1*0x1e55+-0x1*-0x87d-_0x4dd976*_0x4dd976);_0x245832['set'](Math['cos'](_0x4c89c0)*_0x3daa73,Math['sin'](_0x4c89c0)*_0x3daa73,_0x4dd976)['normalize']();},wC=(_0x250cad,_0x2c33ba)=>{const _0x506ae0=_0x250cad*_0x2c33ba,_0x4e4e8d=_0x2c33ba/(0x620+-0x1cba+0x789*0x3-_0x250cad*_0x250cad+_0x506ae0*_0x506ae0);return _0x4e4e8d*_0x4e4e8d*((0x2356+-0x184+-0x21d1)/Math['PI']);},TC=(_0x2d37b0,_0x204732)=>{const _0x39d783=new T(),_0x1ab90a=[];for(let _0x383e07=0x6ee*0x2+-0x6d7*-0x5+-0x300f;_0x383e07<_0x2d37b0;++_0x383e07)SC(_0x39d783,_0x383e07/_0x2d37b0,ll['radicalInv'+'erse'](_0x383e07),_0x204732),_0x1ab90a['push'](_0x39d783['x'],_0x39d783['y'],_0x39d783['z'],0x88a*-0x3+0x1ab9+-0x11b);return _0x1ab90a;},AC=(_0x358737,_0x39a23d)=>{const _0x1ec818=_0x39a23d/_0x358737,_0x28d3fa=new T(),_0x22cb60=[];for(let _0x4618f7=0x4*0x791+-0x29*-0x52+-0x2b66;_0x4618f7<_0x358737;++_0x4618f7){vC(_0x28d3fa,_0x4618f7/_0x358737,ll['radicalInv'+'erse'](_0x4618f7));const _0x1042ff=_0x28d3fa['z']/Math['PI'],_0xb6ff5d=(-0x26c2+0x209*-0x10+-0x4752*-0x1+0.5)*Math['log2'](_0x1ec818/_0x1042ff);_0x22cb60['push'](_0x28d3fa['x'],_0x28d3fa['y'],_0x28d3fa['z'],_0xb6ff5d);}return _0x22cb60;},EC={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},CC=(_0x4de217,_0x37c65a)=>{const _0x39d0b0=EC[_0x4de217];return _0x39d0b0&&_0x39d0b0[_0x37c65a]||_0x4de217;},MC=(_0x5d85bd,_0x426a57,_0x460c2d)=>{const _0x34c62d=_0x460c2d/_0x5d85bd,_0x8147ad=-0x214e+0x2329+-0x1da-Math['log2'](_0x426a57)/(-0x6dd+0x9a3*-0x2+0x1a2e),_0x4f0102=_0x8147ad*_0x8147ad,_0x43f616=new T(),_0x1631fb=new T(),_0x4a2cd7=new T(0x4*0x707+-0x1076+-0xba6,0x1e8c+-0x785+-0x1707,0x74c*0x5+-0x2065*0x1+-0x416),_0x20a1bf=[],_0x39ae33=CC(_0x5d85bd,_0x426a57);for(let _0x2eae08=-0x211d+-0x1*0x7ed+0x2*0x1485;_0x2eae08<_0x39ae33;++_0x2eae08){bC(_0x43f616,_0x2eae08/_0x39ae33,ll['radicalInv'+'erse'](_0x2eae08),_0x4f0102);const _0x153698=_0x43f616['z'];if(_0x1631fb['set'](_0x43f616['x'],_0x43f616['y'],_0x43f616['z'])['mulScalar']((-0x1*-0x6b5+-0x2*-0x7+-0x6c1)*_0x153698)['sub'](_0x4a2cd7),_0x1631fb['z']>0x52a*0x4+-0xc5f+-0x849*0x1){const _0x32782f=wC(Math['min'](-0x9+0xc4f+0x15d*-0x9,_0x153698),_0x4f0102)/(-0x1cfa+-0x7ee*-0x2+0xd22*0x1)+(0x1*0x76+0xc25*0x1+-0xc9b+0.001),_0x21aea5=(-0xde0+0x3*0x479+0x75+0.5)*Math['log2'](_0x34c62d/_0x32782f);_0x20a1bf['push'](_0x1631fb['x'],_0x1631fb['y'],_0x1631fb['z'],_0x21aea5);}}for(;_0x20a1bf['length']<_0x5d85bd*(-0xa0*-0x19+-0x1*0x2397+-0x13fb*-0x1);)_0x20a1bf['push'](-0x4b7+0x23*-0x1+0x4da,0xbad*-0x1+-0x420+0xfcd,0x11ee+-0x134a*0x1+-0x4*-0x57,0xe45+0x1804+-0x1b*0x16b);return _0x20a1bf;},PC=(_0x5a506a,_0x2fa3c9,_0x3d3d08)=>{const _0x171ec5=xC(_0x3d3d08);return new he(_0x5a506a,{'name':_0x2fa3c9,'width':_0x171ec5['width'],'height':_0x171ec5['height'],'mipmaps':!(-0x10e9+-0x2*-0xb3e+-0x592),'minFilter':de,'magFilter':de,'levels':[_0x171ec5['data']]});};class C0{constructor(_0x335f0b=!(0x5*-0x31a+-0x5*-0x184+-0x122*-0x7)){c(this,'map',new Map()),this['destroyCon'+'tent']=_0x335f0b;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x2ce396,_0x3ec2cf)=>{_0x2ce396['destroy']();});}['get'](_0x39e6ae,_0x37300f){if(!this['map']['has'](_0x39e6ae)){const _0x242157=_0x37300f();return this['map']['set'](_0x39e6ae,_0x242157),_0x242157;}return this['map']['get'](_0x39e6ae);}}const RC=new C0(!(-0x1491+0x540+0xf52)),IC=new Ot(),Lp=(_0x180c8a,_0x35ace5,_0x3fa389)=>IC['get'](_0x180c8a,()=>new C0())['get'](_0x35ace5,()=>PC(_0x180c8a,_0x35ace5,RC['get'](_0x35ace5,_0x3fa389))),DC=(_0x5d3100,_0x126be5,_0x9fa649)=>{const _0x1cf65f='lambert-sa'+'mples-'+_0x126be5+'-'+_0x9fa649;return Lp(_0x5d3100,_0x1cf65f,()=>AC(_0x126be5,_0x9fa649));},LC=(_0x2684d8,_0x71eedf,_0x4b3314)=>{const _0x51efe8='phong-samp'+'les-'+_0x71eedf+'-'+_0x4b3314;return Lp(_0x2684d8,_0x51efe8,()=>TC(_0x71eedf,_0x4b3314));},FC=(_0x2852ee,_0xb5793a,_0x3b159d,_0x3cb846)=>{const _0x3a1caa='ggx-sample'+'s-'+_0xb5793a+'-'+_0x3b159d+'-'+_0x3cb846;return Lp(_0x2852ee,_0x3a1caa,()=>MC(_0xb5793a,_0x3b159d,_0x3cb846));},OC='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0aunifor'+'m\x20vec4\x20uvM'+'od;\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20vU'+'v0\x20=\x20getIm'+'ageEffectU'+'V((vertex_'+'position.x'+'y\x20*\x200.5\x20+\x20'+'0.5)\x20*\x20uvM'+'od.xy\x20+\x20uv'+'Mod.zw);\x0a}'+'\x0a';function Qs(_0x582cdd,_0x292dae,_0x171fe0={}){var _0x509e0b,_0x186425;v['assert'](_0x582cdd instanceof he&&_0x292dae instanceof he,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x5a8408=_0x171fe0['seamPixels']??-0x43*-0x22+-0x882+-0x2*0x32,_0x413463=(((_0x509e0b=_0x171fe0['rect'])==null?void(0x1934+-0x125e+-0x15e*0x5):_0x509e0b['z'])??_0x292dae['width'])-_0x5a8408*(0x17d5+-0x1*-0x1d3f+-0x3512),_0xaf104f=(((_0x186425=_0x171fe0['rect'])==null?void(0xc8*0x1+0x893+-0x95b):_0x186425['w'])??_0x292dae['height'])-_0x5a8408*(-0x199*0x11+0xffc*0x2+-0x1*0x4cd);if(_0x413463<-0x1883+-0x6b7+-0xa69*-0x3||_0xaf104f<-0x49*-0x7c+-0x1f76+-0x3e5*0x1)return!(-0x73e+0x90a*-0x3+0x225d);const _0x31226a={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x13d0b4=_0x171fe0['hasOwnProp'+'erty']('specularPo'+'wer')?_0x171fe0['specularPo'+'wer']:-0x490+0x1832+-0x13a1,_0x53c86a=_0x171fe0['hasOwnProp'+'erty']('face')?_0x171fe0['face']:null,_0x55cc27=_0x171fe0['hasOwnProp'+'erty']('distributi'+'on')?_0x171fe0['distributi'+'on']:_0x13d0b4===0x1e*-0x9e+-0x397+0x161c?'none':'phong',_0x198722=_0x31226a[_0x55cc27]||'reproject',_0x531570=_0x198722['startsWith']('prefilterS'+'amples'),_0xc962fb=Es['decodeFunc'](_0x582cdd['encoding']),_0x1a35c3=Es['encodeFunc'](_0x292dae['encoding']),_0x52905f='sample'+l_(_0x582cdd['projection']),_0x5c127d='getDirecti'+'on'+l_(_0x292dae['projection']),_0x51c4c5=_0x171fe0['hasOwnProp'+'erty']('numSamples')?_0x171fe0['numSamples']:0x1139*0x1+0x3*0x1ca+-0x1297,_0x6a6d01=_0x198722+'_'+_0xc962fb+'_'+_0x1a35c3+'_'+_0x52905f+'_'+_0x5c127d+'_'+_0x51c4c5,_0x249a05=_0x582cdd['device'];let _0x30e8ab=ka(_0x249a05)['getCachedS'+'hader'](_0x6a6d01);if(!_0x30e8ab){const _0x328d44='#define\x20PR'+'OCESS_FUNC'+'\x20'+_0x198722+'\x0a'+(_0x531570?'#define\x20US'+'E_SAMPLES_'+'TEX\x0a':'')+(_0x582cdd['cubemap']?'#define\x20CU'+'BEMAP_SOUR'+'CE\x0a':'')+('#define\x20DE'+'CODE_FUNC\x20')+_0xc962fb+('\x0a#define\x20E'+'NCODE_FUNC'+'\x20')+_0x1a35c3+('\x0a#define\x20S'+'OURCE_FUNC'+'\x20')+_0x52905f+('\x0a#define\x20T'+'ARGET_FUNC'+'\x20')+_0x5c127d+('\x0a#define\x20N'+'UM_SAMPLES'+'\x20')+_0x51c4c5+('\x0a#define\x20N'+'UM_SAMPLES'+'_SQRT\x20')+Math['round'](Math['sqrt'](_0x51c4c5))['toFixed'](0xc8a+0xdd7+-0x10*0x1a6)+'\x0a';_0x30e8ab=Is(_0x249a05,OC,_0x328d44+'\x0a'+X['reprojectP'+'S'],_0x6a6d01);}G['pushGpuMar'+'ker'](_0x249a05,'ReprojectT'+'exture'),_0x249a05['setBlendSt'+'ate'](_t['NOBLEND']);const _0x12dbe3=_0x249a05['scope']['resolve'](_0x582cdd['cubemap']?'sourceCube':'sourceTex');v['assert'](_0x12dbe3),_0x12dbe3['setValue'](_0x582cdd);const _0x2aaa1f=_0x249a05['scope']['resolve']('params'),_0x41c726=_0x249a05['scope']['resolve']('uvMod');_0x5a8408>-0xa78+0x15*0x69+-0x13*-0x19?_0x41c726['setValue']([(_0x413463+_0x5a8408*(-0x23c1+0xf2c+-0x1497*-0x1))/_0x413463,(_0xaf104f+_0x5a8408*(-0xb*0x2f6+0x26b3+-0x61f*0x1))/_0xaf104f,-_0x5a8408/_0x413463,-_0x5a8408/_0xaf104f]):_0x41c726['setValue']([0x5*-0x5cf+0x1c9f+-0x6d*-0x1,-0x1*0x855+0xcc9+0x1*-0x473,0x8*-0x364+0x833*-0x1+0x2353*0x1,0xe*-0x3+-0x25f+0x289*0x1]);const _0x2479da=[0x2*0xa93+0x1186*0x1+-0x26ac,_0x292dae['width']*_0x292dae['height']*(_0x292dae['cubemap']?0x1c9d*0x1+0x59*0x1+-0x1cf0:-0x1df6+0x22c8+-0x4d1),_0x582cdd['width']*_0x582cdd['height']*(_0x582cdd['cubemap']?0x23fb+0x936+-0x2d2b:-0x133c+-0x63c*-0x1+0xd01)];if(_0x531570){const _0x232f2a=_0x582cdd['width']*_0x582cdd['height']*(_0x582cdd['cubemap']?0x2468+-0x15e6+-0x4d4*0x3:0x1ad6+-0xa63+-0x1072),_0x62944b=_0x55cc27==='ggx'?FC(_0x249a05,_0x51c4c5,_0x13d0b4,_0x232f2a):_0x55cc27==='lambert'?DC(_0x249a05,_0x51c4c5,_0x232f2a):LC(_0x249a05,_0x51c4c5,_0x13d0b4);_0x249a05['scope']['resolve']('samplesTex')['setValue'](_0x62944b),_0x249a05['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(0x1*0x2113+0x17*0x47+-0x1*0x2773)/_0x62944b['width'],(-0x1512+-0x1*0xa2e+0x1f41)/_0x62944b['height']]);}for(let _0x31acfb=-0x12e3+0x2232+-0x1*0xf4f;_0x31acfb<(_0x292dae['cubemap']?0x251b+-0x1*0x629+-0x1eec:0xe*-0x1cf+-0xbb+0x1a0e);_0x31acfb++)if(_0x53c86a===null||_0x31acfb===_0x53c86a){const _0x21f774=new pt({'colorBuffer':_0x292dae,'face':_0x31acfb,'depth':!(-0x498+-0x15f1+0x56*0x4f),'flipY':_0x249a05['isWebGPU']});_0x2479da[-0x25e7+0xe6b+0x177c]=_0x31acfb,_0x2aaa1f['setValue'](_0x2479da),dn(_0x249a05,_0x21f774,_0x30e8ab,_0x171fe0==null?void(-0x1*-0xeac+-0x12a*-0x13+-0x1265*0x2):_0x171fe0['rect']),_0x21f774['destroy']();}return G['popGpuMark'+'er'](_0x249a05),!(0x1d3b+-0x1*-0xc0d+-0x2948);}const wd=(_0x273b53,_0x4b1602=0x3*0xafb+0xe21*0x1+-0x2f12)=>-0xa1c+-0x1f00+0x839*0x5+Math['floor'](Math['log2'](Math['max'](_0x273b53,_0x4b1602))),kC=_0x228a85=>_0x228a85['textureHal'+'fFloatRend'+'erable'],BC=_0x33cfe6=>_0x33cfe6['textureFlo'+'atRenderab'+'le'],NC=_0x67e483=>kC(_0x67e483)?Je:BC(_0x67e483)?Ke:Se,zC=_0x49c877=>Se,UC=(_0x115d4f,_0x376d76,_0x1d1bea,_0x29766f)=>new he(_0x115d4f,{'name':'lighting-'+_0x376d76,'cubemap':!(0x1c8b*0x1+0x21d5+-0x3e60),'width':_0x376d76,'height':_0x376d76,'format':_0x1d1bea,'type':Io,'addressU':ae,'addressV':ae,'mipmaps':!(0x707+0x1*0x2546+0x3f*-0xb4)});class M0{static['generateSk'+'yboxCubema'+'p'](_0x3dfc2f,_0x1f7a22){const _0x4d8d48=_0x3dfc2f['device'];G['pushGpuMar'+'ker'](_0x4d8d48,'genSkyboxC'+'ubemap');const _0x59e303=UC(_0x4d8d48,_0x1f7a22||(_0x3dfc2f['cubemap']?_0x3dfc2f['width']:_0x3dfc2f['width']/(0x112+0x28d*-0x1+0x1*0x17f)),Se);return Qs(_0x3dfc2f,_0x59e303,{'numSamples':0x400}),G['popGpuMark'+'er'](_0x4d8d48),_0x59e303;}static['generateLi'+'ghtingSour'+'ce'](_0x556511,_0x255e82){const _0x166653=_0x556511['device'];G['pushGpuMar'+'ker'](_0x166653,'genLightin'+'gSource');const _0x2f92e1=NC(_0x166653),_0x5c749d=(_0x255e82==null?void(-0x1*0x1913+-0x26d3+0x3fe6):_0x255e82['target'])||new he(_0x166653,{'name':'lighting-s'+'ource','cubemap':!(0x1d6b+0x2*0x304+-0x2373),'width':(_0x255e82==null?void(0x1*0x821+-0x146d+0x4*0x313):_0x255e82['size'])||-0x1*-0x126a+-0x24ea+0x1300,'height':(_0x255e82==null?void(-0x10*0x180+-0xc25*-0x3+-0x1*0xc6f):_0x255e82['size'])||0x1375*-0x1+0x232c+0x1*-0xf37,'format':_0x2f92e1,'type':_0x2f92e1===Se?Io:Di,'addressU':ae,'addressV':ae,'mipmaps':!(-0xd*-0x239+0x14b3+-0x3198)});return Qs(_0x556511,_0x5c749d,{'numSamples':_0x556511['mipmaps']?0x2*-0x42f+-0x2*-0x11dd+0x2f*-0x95:0x4aa*0x3+0x1*0x254f+0x2f4d*-0x1}),G['popGpuMark'+'er'](_0x166653),_0x5c749d;}static['generateAt'+'las'](_0x4a3f61,_0x4d49da){const _0xee3d13=_0x4a3f61['device'],_0x270335=zC();G['pushGpuMar'+'ker'](_0xee3d13,'genAtlas');const _0x4770b9=(_0x4d49da==null?void(-0x157a+-0x2225+0x379f*0x1):_0x4d49da['target'])||new he(_0xee3d13,{'name':'envAtlas','width':(_0x4d49da==null?void(-0xda3+-0x1056+0x1df9*0x1):_0x4d49da['size'])||-0x1*0xeb1+-0x1f*0x141+0x3790,'height':(_0x4d49da==null?void(-0x1*0x2593+-0x17b7+0x3d4a):_0x4d49da['size'])||0x1bb*-0x13+0x14dd+0xe04,'format':_0x270335,'type':Io,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(0xc5*0x9+-0x2df+-0x40d)});G['pushGpuMar'+'ker'](_0xee3d13,'mipmaps');const _0xcd06e2=_0x4770b9['width']/(0x20e3+-0xa14*0x3+-0xa7*0x1),_0x18ad74=new Q(0x159c+-0x473+-0x1129,0x1ada+-0xc3b+-0xe9f,(-0x75a*0x5+0x1*0xec2+-0x200*-0xc)*_0xcd06e2,(0x25f9+-0x1829+0x28*-0x52)*_0xcd06e2),_0x592d56=wd(-0xa0f+0x36d*-0xa+0x2d51)-wd(-0x1a6*0x11+-0x3*0x487+0x299f);for(let _0x4a4828=-0x2002+-0xf8*-0x1f+0x1fa;_0x4a4828<_0x592d56;++_0x4a4828)Qs(_0x4a3f61,_0x4770b9,{'numSamples':0x1,'rect':_0x18ad74,'seamPixels':_0xcd06e2}),_0x18ad74['x']+=_0x18ad74['w'],_0x18ad74['y']+=_0x18ad74['w'],_0x18ad74['z']=Math['max'](-0xc3e+0x1971+-0x6*0x233,Math['floor'](_0x18ad74['z']*(0x23a+-0x10b8+0xe7e+0.5))),_0x18ad74['w']=Math['max'](0x7*-0x482+0x13aa+-0x57*-0x23,Math['floor'](_0x18ad74['w']*(-0x1a47*0x1+-0x11f*0x1e+0x3be9+0.5)));G['popGpuMark'+'er'](_0xee3d13),G['pushGpuMar'+'ker'](_0xee3d13,'reflection'+'s'),_0x18ad74['set'](-0x9b5+-0x2618+0x2fcd,(0x6bf*-0x2+0xb9e+-0x20*-0x17)*_0xcd06e2,(0x49*0x1a+0x634*-0x2+0x5fe)*_0xcd06e2,(0x107f+-0x15f4+0x19*0x3d)*_0xcd06e2);for(let _0x2e324d=0x6b*0x45+-0x3*0xad1+0x39d;_0x2e324d<-0xf2f+0x2*0xbcc+-0x2*0x431;++_0x2e324d)Qs(_0x4a3f61,_0x4770b9,{'numSamples':(_0x4d49da==null?void(0x21f8+-0x6bc*-0x1+-0x14*0x209):_0x4d49da['numReflect'+'ionSamples'])||-0xf1*-0x20+0x148d+-0x2ead,'distribution':(_0x4d49da==null?void(0xe6d*-0x1+0x1*-0x1bef+0x2a5c):_0x4d49da['distributi'+'on'])||'ggx','specularPower':Math['max'](0x1a1*-0x16+-0x493*0x5+-0x3ab6*-0x1,-0x13*0x125+-0x298*-0x5+0x10c7>>_0x2e324d*(-0x1fa3+0x11*0x105+-0x4*-0x394)),'rect':_0x18ad74,'seamPixels':_0xcd06e2}),_0x18ad74['y']+=_0x18ad74['w'],_0x18ad74['z']=Math['max'](-0x4f*-0x1d+0x1547*-0x1+0xc55,Math['floor'](_0x18ad74['z']*(-0x1*0x1ca3+0x10*0x34+0x1963+0.5))),_0x18ad74['w']=Math['max'](0x1*-0x187f+0x2fd+0x1*0x1583,Math['floor'](_0x18ad74['w']*(0x6c3+0x1698+0x343*-0x9+0.5)));return G['popGpuMark'+'er'](_0xee3d13),G['pushGpuMar'+'ker'](_0xee3d13,'ambient'),_0x18ad74['set']((0x1af8+-0x1bf5+0x17d)*_0xcd06e2,(0x1d03+-0x1d25+0x1a2*0x1)*_0xcd06e2,(-0x53*-0x77+0xb*0x11b+-0x2e*0x119)*_0xcd06e2,(-0x1*-0x14b1+0x1249*0x1+-0x2*0x136d)*_0xcd06e2),Qs(_0x4a3f61,_0x4770b9,{'numSamples':(_0x4d49da==null?void(-0x6*-0x5e5+0x3d3*-0x7+0x1f*-0x47):_0x4d49da['numAmbient'+'Samples'])||-0x88f+0x2e*-0x29+-0x23*-0xaf,'distribution':'lambert','rect':_0x18ad74,'seamPixels':_0xcd06e2}),G['popGpuMark'+'er'](_0xee3d13),G['popGpuMark'+'er'](_0xee3d13),_0x4770b9;}static['generatePr'+'efilteredA'+'tlas'](_0x4956af,_0x11434d){const _0x429251=_0x4956af[0xee1+0x24de+-0x33bf]['device'],_0x101905=_0x4956af[-0x1412*0x1+0x2*0x121d+0x814*-0x2]['format'],_0x1f2067=_0x4956af[-0x89f+0x1390+-0xaf1*0x1]['type'];G['pushGpuMar'+'ker'](_0x429251,'genPrefilt'+'eredAtlas');const _0x1d9cd7=(_0x11434d==null?void(0x229b+-0x1e03+-0x1*0x498):_0x11434d['target'])||new he(_0x429251,{'name':'envPrefilt'+'eredAtlas','width':(_0x11434d==null?void(0x1609+0x19c7*-0x1+0x3be):_0x11434d['size'])||-0x13*0x1bb+0x132d+0xfb4,'height':(_0x11434d==null?void(-0x107b*-0x1+-0x2*0x10ce+-0x5*-0x36d):_0x11434d['size'])||0xd5*-0x14+-0x111*-0x2+0x1082,'format':_0x101905,'type':_0x1f2067,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(0x3*0x5ca+0x22be+-0x341b*0x1)});G['pushGpuMar'+'ker'](_0x429251,'mipmaps');const _0x2ddb92=_0x1d9cd7['width']/(0xaa5*-0x2+0x2d1+0x1479),_0x3314c9=new Q(-0x1b86*-0x1+-0x26de+0xb58,-0xe85+0x21e*-0x10+0x3065,(-0x1841*-0x1+-0x2bf+-0x1382)*_0x2ddb92,(-0x1*0xc72+-0x4*-0x718+0x93*-0x1a)*_0x2ddb92),_0x344352=wd(-0x1b70*0x1+-0x5a0+0x2310);for(let _0x2a336a=0x9a8+0x1c2e+-0x25d6;_0x2a336a<_0x344352;++_0x2a336a)Qs(_0x4956af[-0x1*-0xa3b+0x26b5+0xe8*-0x36],_0x1d9cd7,{'numSamples':0x1,'rect':_0x3314c9,'seamPixels':_0x2ddb92}),_0x3314c9['x']+=_0x3314c9['w'],_0x3314c9['y']+=_0x3314c9['w'],_0x3314c9['z']=Math['max'](0x1d80+-0x47*-0x65+0x1*-0x3982,Math['floor'](_0x3314c9['z']*(0x69a*0x2+0x1a78+-0x27ac+0.5))),_0x3314c9['w']=Math['max'](0x3f*-0x70+-0x1a58+0x35e9,Math['floor'](_0x3314c9['w']*(0x2*0x4ff+0x11c2+-0x1bc0+0.5)));G['popGpuMark'+'er'](_0x429251),G['pushGpuMar'+'ker'](_0x429251,'reflection'+'s'),_0x3314c9['set'](0x19b5+0x1cce+-0x3683,(-0x1*0x5c6+0x237e+0x8*-0x397)*_0x2ddb92,(0x110*0x1f+0x222+0x26f*-0xe)*_0x2ddb92,(-0x6b*-0x2f+-0xd2d*-0x1+-0x2052)*_0x2ddb92);for(let _0x281678=0xb9c*-0x1+-0x1*0x152b+0x20c8;_0x281678<_0x4956af['length'];++_0x281678)Qs(_0x4956af[_0x281678],_0x1d9cd7,{'numSamples':0x1,'rect':_0x3314c9,'seamPixels':_0x2ddb92}),_0x3314c9['y']+=_0x3314c9['w'],_0x3314c9['z']=Math['max'](0x1*0x1bd1+-0x2c5*-0x3+-0x241f,Math['floor'](_0x3314c9['z']*(-0x1*0x1296+0x383*0x9+-0xd05+0.5))),_0x3314c9['w']=Math['max'](-0x1c03*-0x1+-0x1de0+0x1de,Math['floor'](_0x3314c9['w']*(0xb41*-0x2+-0x5*0x21e+0x2118+0.5)));return G['popGpuMark'+'er'](_0x429251),G['pushGpuMar'+'ker'](_0x429251,'ambient'),_0x3314c9['set']((0x5ee+0x655*-0x3+0xd91)*_0x2ddb92,(0x1042+-0x1df8+0xf36)*_0x2ddb92,(-0xbac+0x1e99+-0x12ad)*_0x2ddb92,(-0xb2*-0x5+-0x9*-0x245+0x17c7*-0x1)*_0x2ddb92),_0x11434d!=null&&_0x11434d['legacyAmbi'+'ent']?Qs(_0x4956af[0x14b+-0x11b*0x1d+0x1ec9],_0x1d9cd7,{'numSamples':0x1,'rect':_0x3314c9,'seamPixels':_0x2ddb92}):Qs(_0x4956af[0x119b+0x1*-0x2597+0x4*0x4ff],_0x1d9cd7,{'numSamples':(_0x11434d==null?void(0x7fb+-0xb4c+0x351):_0x11434d['numSamples'])||0x47*-0x5c+0x1be*-0x1+0x2342,'distribution':'lambert','rect':_0x3314c9,'seamPixels':_0x2ddb92}),G['popGpuMark'+'er'](_0x429251),G['popGpuMark'+'er'](_0x429251),_0x1d9cd7;}}const VC={'aoPS':St,'clearCoatPS':St,'clearCoatGlossPS':ad,'clearCoatNormalPS':St,'diffusePS':St,'diffuseDetailMapPS':St,'emissivePS':St,'glossPS':ad,'lightmapDirPS':wi,'lightmapSinglePS':wi,'metalnessPS':St,'normalMapPS':St,'normalDetailMapPS':St,'opacityPS':St,'parallaxPS':St,'sheenPS':St,'sheenGlossPS':ad,'specularPS':St,'specularityFactorPS':St,'thicknessPS':St,'transmissionPS':St,'normalVertexPS':wi,'startPS':wi,'ambientConstantPS':me,'ambientEnvPS':me,'ambientSHPS':me,'aoDiffuseOccPS':me,'aoSpecOccPS':me,'aoSpecOccConstPS':me,'aoSpecOccConstSimplePS':me,'aoSpecOccSimplePS':me,'clusteredLightPS':me,'clusteredLightShadowPS':me,'combinePS':me,'falloffInvSquaredPS':me,'falloffLinearPS':me,'lightDiffuseLambertPS':me,'lightSheenPS':me,'lightSpecularAnisoGGXPS':me,'lightSpecularBlinnPS':me,'ltcPS':me,'reflDirPS':me,'reflDirAnisoPS':me,'reflectionCCPS':me,'reflectionCubePS':me,'reflectionEnvPS':me,'reflectionEnvHQPS':me,'reflectionSheenPS':me,'reflectionSpherePS':me,'shadowCommonPS':me,'shadowCoordPS':me,'shadowCoordPerspZBufferPS':me,'shadowEVSMPS':me,'shadowEVSMnPS':me,'shadowStandardPS':me,'shadowStandardGL2PS':me,'spotPS':me,'TBNPS':me,'TBNObjectSpacePS':me,'TBNderivativePS':me,'endPS':hi,'metalnessModulatePS':hi,'outputAlphaPS':hi,'outputAlphaPremulPS':hi,'fresnelSchlickPS':hi,'iridescenceDiffractionPS':hi,'lightmapAddPS':hi,'lightmapDirAddPS':hi,'refractionCubePS':hm,'refractionDynamicPS':hm},GC={'ambientPrefilteredCubePS':Ui,'ambientPrefilteredCubeLodPS':Ui,'dpAtlasQuadPS':Ui,'genParaboloidPS':Ui,'prefilterCubemapPS':Ui,'reflectionDpAtlasPS':Ui,'reflectionPrefilteredCubePS':Ui,'reflectionPrefilteredCubeLodPS':Ui,'refractionPS':_r,'combineClearCoatPS':_r,'combineDiffusePS':_r,'combineDiffuseSpecularPS':_r,'combineDiffuseSpecularNoReflPS':_r,'combineDiffuseSpecularNoReflSeparateAmbientPS':_r,'combineDiffuseSpecularOldPS':_r,'lightmapSingleVertPS':wi,'normalMapFastPS':wi,'specularAaNonePS':wi,'specularAaToksvigPS':wi,'specularAaToksvigFastPS':wi,'skyboxEnvPS':cm,'skyboxHDRPS':cm,'shadowVSM8PS':bv,'fogExpPS':wn,'fogExp2PS':wn,'fogLinearPS':wn,'fogNonePS':wn,'gamma1_0PS':wn,'gamma2_2PS':wn},HC=(_0x3b0a7b,_0xb93606)=>{const _0x1edfd6=_0x3b0a7b['split']('.')['map'](_0x299005=>parseInt(_0x299005,-0x22*-0xa4+-0x6aa*-0x2+-0x2312)),_0x59bc88=_0xb93606['split']('.')['map'](_0x43e738=>parseInt(_0x43e738,0x1cb5+-0x391+0x6*-0x42f));return _0x1edfd6[-0x3b*-0x5+-0x848+0x721]<_0x59bc88[0x2545+-0x1abd+0xa88*-0x1]||_0x1edfd6[0x1cf2+0x11e3+0x13*-0x277]===_0x59bc88[0x279+0x1e8f+0xe*-0x25c]&&_0x1edfd6[-0x1*-0x197b+-0xc05+-0xd75]<_0x59bc88[-0x1f8+-0x261e+0xb*0x3a5];},WC=_0x1e7b91=>{const _0x46b102=_0x1e7b91['APIVersion'];for(const _0xa11664 in _0x1e7b91)if(_0xa11664!=='APIVersion'){if(X['hasOwnProp'+'erty'](_0xa11664)){const _0x4403a8=VC[_0xa11664];_0x4403a8&&(!_0x46b102||HC(_0x46b102,_0x4403a8))&&v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0xa11664+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x4403a8+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x46b102||'-')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}else{const _0x2c50c2=GC[_0xa11664];_0x2c50c2?v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0xa11664+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x2c50c2+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.')):v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0xa11664+('\x27\x20is\x20not\x20s'+'upported.'));}}};class sr{constructor(){c(this,'code','');}['append'](..._0x5e6837){_0x5e6837['forEach'](_0x1a492c=>{_0x1a492c['endsWith']('\x0a')?this['code']+=_0x1a492c:this['code']+=_0x1a492c+'\x0a';});}['prepend'](..._0x2bcdab){_0x2bcdab['forEach'](_0x21bdcd=>{_0x21bdcd['endsWith']('\x0a')?this['code']=_0x21bdcd+this['code']:this['code']=_0x21bdcd+'\x0a'+this['code'];});}}const Td={'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_color':At,'vertex_boneWeights':Ys,'vertex_boneIndices':qt},h_={'vVertexColor':'vec4','vPositionW':'vec3','vNormalV':'vec3','vNormalW':'vec3','vTangentW':'vec3','vBinormalW':'vec3','vObjectSpaceUpW':'vec3','vUv0':'vec2','vUv1':'vec2','vLinearDepth':'float'};class $C{constructor(_0x1779b0,_0x4c59e3){if(this['device']=_0x1779b0,this['options']=_0x4c59e3,this['attributes']={'vertex_position':He},_0x4c59e3['userAttrib'+'utes']){for(const [_0x481fdb,_0x21f380]of Object['entries'](_0x4c59e3['userAttrib'+'utes']))this['attributes'][_0x21f380]=_0x481fdb;}if(_0x4c59e3['chunks']){const _0x3b8b18=_0x4c59e3['chunks'];WC(_0x3b8b18),this['chunks']=Object['create'](X);for(const _0x1d4f76 in X)if(_0x3b8b18['hasOwnProp'+'erty'](_0x1d4f76)){const _0x47e8f5=_0x3b8b18[_0x1d4f76];for(const _0x1fe86e in Td)Td['hasOwnProp'+'erty'](_0x1fe86e)&&_0x47e8f5['indexOf'](_0x1fe86e)>=0x107b+-0x23*0x5+-0xfcc&&(this['attributes'][_0x1fe86e]=Td[_0x1fe86e]);this['chunks'][_0x1d4f76]=_0x47e8f5;}}else this['chunks']=X;this['shaderPass'+'Info']=Ks['get'](this['device'])['getByIndex'](_0x4c59e3['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x4c59e3['lights']['length']>0x2143+0x656+0x147*-0x1f||_0x4c59e3['dirLightMa'+'pEnabled']||_0x4c59e3['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=!!_0x4c59e3['reflection'+'Source'],this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x4c59e3['useSpecula'+'r']||_0x4c59e3['ambientSH']||_0x4c59e3['useHeights']||_0x4c59e3['enableGGXS'+'pecular']||_0x4c59e3['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x4c59e3['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x4c59e3['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x4c59e3['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x4c59e3['useDynamic'+'Refraction'],this['varyings']='',this['varyingDef'+'ines']='',this['vshader']=null,this['frontendDe'+'cl']=null,this['frontendCo'+'de']=null,this['frontendFu'+'nc']=null,this['lightingUv']=null,this['defines']=[],this['fshader']=null;}['_vsAddBase'+'Code'](_0x5f5c83,_0x7442a,_0x5f0f57){return _0x5f5c83+=_0x7442a['baseVS'],(_0x5f0f57['nineSliced'+'Mode']===nt||_0x5f0f57['nineSliced'+'Mode']===Qe)&&(_0x5f5c83+=_0x7442a['baseNineSl'+'icedVS']),_0x5f5c83;}['_setMapTra'+'nsform'](_0x54fc2b,_0x52872b,_0x1643a4,_0x4e00c){const _0x538c3f=_0x1643a4+_0x4e00c*(-0x1491+0x26c3+-0x56*0x35);if(!_0x54fc2b[-0x1*-0x165b+-0x1903+-0x1*-0x2ab][_0x538c3f]){const _0x28f148='texture_'+_0x52872b+('MapTransfo'+'rm');_0x54fc2b[-0x1c70+-0x675*0x1+-0x22e5*-0x1]+='uniform\x20ve'+'c3\x20'+_0x28f148+'0;\x0a',_0x54fc2b[0x1*0x16f2+-0x1f1+0x1501*-0x1]+='uniform\x20ve'+'c3\x20'+_0x28f148+'1;\x0a',_0x54fc2b[0x7*0x233+-0x16*0xe0+-0x4c*-0xd]+='varying\x20ve'+'c2\x20vUV'+_0x4e00c+'_'+_0x1643a4+';\x0a',_0x54fc2b[0x1bcf+0x1a14*-0x1+0x1*-0x1b9]+='\x20\x20\x20vUV'+_0x4e00c+'_'+_0x1643a4+('\x20=\x20vec2(do'+'t(vec3(uv')+_0x4e00c+',\x201),\x20'+_0x28f148+('0),\x20dot(ve'+'c3(uv')+_0x4e00c+',\x201),\x20'+_0x28f148+'1));\x0a',_0x54fc2b[0x23f*0x1+-0xe9b*-0x1+-0x10d7][_0x538c3f]=!(0x12d5*0x2+0x19e1+-0x3f8b);}return _0x54fc2b;}['_fsGetBase'+'Code'](){const _0x420708=this['options'],_0x450270=this['chunks'];let _0x340a8f=this['chunks']['basePS'];return _0x420708['nineSliced'+'Mode']===nt?_0x340a8f+=_0x450270['baseNineSl'+'icedPS']:_0x420708['nineSliced'+'Mode']===Qe&&(_0x340a8f+=_0x450270['baseNineSl'+'icedTiledP'+'S']),_0x340a8f;}['_fsGetStar'+'tCode'](_0x49249f,_0x61d16c,_0x4a6c5a,_0x4d0055){let _0x25d814=_0x4a6c5a['startPS'];return _0x4d0055['nineSliced'+'Mode']===nt?_0x25d814+=_0x4a6c5a['startNineS'+'licedPS']:_0x4d0055['nineSliced'+'Mode']===Qe&&(_0x25d814+=_0x4a6c5a['startNineS'+'licedTiled'+'PS']),_0x25d814;}['_getLightS'+'ourceShape'+'String'](_0x68770){switch(_0x68770){case Gb:return'Rect';case Hb:return'Disk';case Wb:return'Sphere';default:return'';}}['generateVe'+'rtexShader'](_0x48fc28,_0x4db634,_0x552134){const _0x5c3f8d=this['device'],_0x17e79c=this['options'],_0x3d5b68=this['chunks'];let _0x1d18cc='',_0xdbc044='',_0x71cbcb='';_0x1d18cc=this['_vsAddBase'+'Code'](_0x1d18cc,_0x3d5b68,_0x17e79c),_0xdbc044+='\x20\x20\x20vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a',this['options']['linearDept'+'h']&&(_0x71cbcb+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_view;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0xdbc044+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'linear\x20dep'+'th\x20from\x20th'+'e\x20worldPos'+'ition,\x20see'+'\x20getLinear'+'Depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vLinearD'+'epth\x20=\x20-(m'+'atrix_view'+'\x20*\x20vec4(vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),this['options']['useInstanc'+'ing']&&this['chunks']['transformI'+'nstancingV'+'S']===X['transformI'+'nstancingV'+'S']&&(this['attributes']['instance_l'+'ine1']=rp,this['attributes']['instance_l'+'ine2']=ga,this['attributes']['instance_l'+'ine3']=np,this['attributes']['instance_l'+'ine4']=ya),_0x1d18cc+=_0x3d5b68['transformV'+'S'],this['needsNorma'+'l']&&(_0x1d18cc+=_0x3d5b68['normalCore'+'VS'],_0x1d18cc+=_0x3d5b68['normalVS']),this['needsNorma'+'l']&&(this['attributes']['vertex_nor'+'mal']=Yt,_0xdbc044+='\x20\x20\x20vNormal'+'W\x20=\x20getNor'+'mal();\x0a',_0x17e79c['reflection'+'Source']==='sphereMap'&&_0x5c3f8d['fragmentUn'+'iformsCoun'+'t']<=0x4e+-0x118c*-0x1+0x12*-0xfd&&(_0x1d18cc+=_0x3d5b68['viewNormal'+'VS'],_0xdbc044+='\x20\x20\x20vNormal'+'V\x20\x20\x20\x20=\x20get'+'ViewNormal'+'();\x0a'),_0x17e79c['hasTangent'+'s']&&(_0x17e79c['useHeights']||_0x17e79c['useNormals']||_0x17e79c['enableGGXS'+'pecular'])?(this['attributes']['vertex_tan'+'gent']=Zs,_0x1d18cc+=_0x3d5b68['tangentBin'+'ormalVS'],_0xdbc044+='\x20\x20\x20vTangen'+'tW\x20\x20\x20=\x20get'+'Tangent();'+'\x0a',_0xdbc044+='\x20\x20\x20vBinorm'+'alW\x20\x20=\x20get'+'Binormal()'+';\x0a'):_0x17e79c['enableGGXS'+'pecular']&&(_0xdbc044+='\x20\x20\x20vObject'+'SpaceUpW\x20='+'\x20normalize'+'(dNormalMa'+'trix\x20*\x20vec'+'3(0,\x201,\x200)'+');\x0a'));const _0x27cbef=0x1a*0x108+-0x1624+-0x4aa;for(let _0x54bc00=0x16a8*-0x1+0xfb5*0x1+0x1*0x6f3;_0x54bc00<_0x27cbef;_0x54bc00++)_0x48fc28[_0x54bc00]&&(this['attributes']['vertex_tex'+'Coord'+_0x54bc00]='TEXCOORD'+_0x54bc00,_0x1d18cc+=_0x3d5b68['uv'+_0x54bc00+'VS'],_0xdbc044+='\x20\x20\x20vec2\x20uv'+_0x54bc00+'\x20=\x20getUv'+_0x54bc00+'();\x0a'),_0x4db634[_0x54bc00]&&(_0xdbc044+='\x20\x20\x20vUv'+_0x54bc00+'\x20=\x20uv'+_0x54bc00+';\x0a');const _0x55146f=[_0x1d18cc,this['varyings'],_0xdbc044,[]];_0x552134['forEach'](_0x208444=>{this['_setMapTra'+'nsform'](_0x55146f,_0x208444['name'],_0x208444['id'],_0x208444['uv']);}),_0x1d18cc=_0x55146f[0x3*-0x255+-0x18d0+0x1df*0x11],this['varyings']=_0x55146f[0x1fc6+0x2e*0x79+-0x3583],_0xdbc044=_0x55146f[-0x17d4+-0x1814+0x2fea],_0x17e79c['vertexColo'+'rs']&&(this['attributes']['vertex_col'+'or']=At,_0xdbc044+='\x20\x20\x20vVertex'+'Color\x20=\x20ve'+'rtex_color'+';\x0a'),_0x17e79c['useMsdf']&&_0x17e79c['msdfTextAt'+'tribute']&&(this['attributes']['vertex_out'+'lineParame'+'ters']=Po,this['attributes']['vertex_sha'+'dowParamet'+'ers']=Ro,_0xdbc044+='\x20\x20\x20\x20unpack'+'MsdfParams'+'();\x0a',_0x1d18cc+=_0x3d5b68['msdfVS']),(_0x17e79c['useMorphPo'+'sition']||_0x17e79c['useMorphNo'+'rmal'])&&(_0x71cbcb+='#define\x20MO'+'RPHING\x0a',_0x17e79c['useMorphTe'+'xtureBased'+'Int']&&(_0x71cbcb+='#define\x20MO'+'RPHING_INT'+'\x0a'),_0x17e79c['useMorphPo'+'sition']&&(_0x71cbcb+='#define\x20MO'+'RPHING_POS'+'ITION\x0a'),_0x17e79c['useMorphNo'+'rmal']&&(_0x71cbcb+='#define\x20MO'+'RPHING_NOR'+'MAL\x0a'),this['attributes']['morph_vert'+'ex_id']=ya),_0x17e79c['skin']?(this['attributes']['vertex_bon'+'eIndices']=qt,_0x17e79c['batch']?_0x71cbcb+='#define\x20BA'+'TCH\x0a':(this['attributes']['vertex_bon'+'eWeights']=Ys,_0x71cbcb+='#define\x20SK'+'IN\x0a')):_0x17e79c['useInstanc'+'ing']&&(_0x71cbcb+='#define\x20IN'+'STANCING\x0a'),_0x17e79c['screenSpac'+'e']&&(_0x71cbcb+='#define\x20SC'+'REENSPACE\x0a'),_0x17e79c['pixelSnap']&&(_0x71cbcb+='#define\x20PI'+'XELSNAP\x0a'),_0x1d18cc+='\x0a',_0x1d18cc+=_0x3d5b68['startVS'],_0x1d18cc+=_0xdbc044,_0x1d18cc+=_0x3d5b68['endVS'],_0x1d18cc+='}',Object['keys'](h_)['forEach'](_0x530f67=>{_0x1d18cc['indexOf'](_0x530f67)>=0x25c8*-0x1+-0x1425+0x39ed*0x1&&(this['varyings']+='varying\x20'+h_[_0x530f67]+'\x20'+_0x530f67+';\x0a',this['varyingDef'+'ines']+='#define\x20VA'+'RYING_'+_0x530f67['toUpperCas'+'e']()+'\x0a');}),this['vshader']=_0x71cbcb+this['varyings']+_0x1d18cc;}['_fsGetBegi'+'nCode'](){let _0x58e6ea='';for(let _0x46fecf=0x2646+-0x1b14+-0xb32;_0x46fecf<this['defines']['length'];_0x46fecf++)_0x58e6ea+='#define\x20'+this['defines'][_0x46fecf]+'\x0a';return _0x58e6ea;}['_fsGetPick'+'PassCode'](){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+this['_fsGetBegi'+'nCode']()+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyings']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyingDef'+'ines']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendDe'+'cl']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['chunks']['pickPS']+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')+this['frontendFu'+'nc']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20getPickO'+'utput();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20');}['_fsGetDept'+'hPassCode'](){let _0x132691=this['_fsGetBegi'+'nCode']();return _0x132691+=this['varyings'],_0x132691+=this['varyingDef'+'ines'],_0x132691+=this['frontendDe'+'cl'],_0x132691+=this['frontendCo'+'de'],_0x132691+=It['begin'](),_0x132691+=this['frontendFu'+'nc'],_0x132691+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0,\x201'+'.0,\x201.0,\x201'+'.0);\x0a',_0x132691+=It['end'](),_0x132691;}['_fsGetPreP'+'assCode'](){let _0x25815e=this['_fsGetBegi'+'nCode']();return _0x25815e+=this['varyings'],_0x25815e+=this['varyingDef'+'ines'],_0x25815e+=this['chunks']['floatAsUin'+'tPS'],_0x25815e+=this['frontendDe'+'cl'],_0x25815e+=this['frontendCo'+'de'],_0x25815e+=It['begin'](),_0x25815e+=this['frontendFu'+'nc'],_0x25815e+=this['device']['textureFlo'+'atRenderab'+'le']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(vLinear'+'Depth,\x201.0'+',\x201.0,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2uint(v'+'LinearDept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x25815e+=It['end'](),_0x25815e;}['_fsGetShad'+'owPassCode'](){const _0x2fde66=this['options'],_0x155379=this['chunks'],_0xf11493=this['varyings'],_0x537b83=this['shaderPass'+'Info']['lightType'];let _0x598c08=this['shaderPass'+'Info']['shadowType'];_0x537b83!==oe&&_0x2fde66['clusteredL'+'ightingEna'+'bled']&&(_0x598c08===Hr||_0x598c08===Wr||_0x598c08===Ts)&&(_0x598c08=Dt);const _0x1b8ebf=ir['get'](_0x598c08);v['assert'](_0x1b8ebf);const _0x3acdb7=(_0x1b8ebf==null?void(-0x373*0xa+-0x2*-0x14c+0x1fe6*0x1):_0x1b8ebf['vsm'])??!(-0x1*0x77a+0x7*-0xca+0x1*0xd01),_0x25abe1=(_0x1b8ebf==null?void(-0x1*-0x1573+0x192c*-0x1+-0x3b9*-0x1):_0x1b8ebf['pcss'])??!(0xe9e*-0x2+0x6a3+0x169a);let _0x3a5578=this['_fsGetBegi'+'nCode']();_0x598c08===Wr?_0x3a5578+='#define\x20VS'+'M_EXPONENT'+'\x2015.0\x0a\x0a':_0x598c08===Hr&&(_0x3a5578+='#define\x20VS'+'M_EXPONENT'+'\x205.54\x0a\x0a'),_0x537b83!==oe&&(_0x3a5578+='uniform\x20ve'+'c3\x20view_po'+'sition;\x0a',_0x3a5578+='uniform\x20fl'+'oat\x20light_'+'radius;\x0a'),_0x3a5578+=_0xf11493,_0x3a5578+=this['varyingDef'+'ines'],_0x3a5578+=this['frontendDe'+'cl'],_0x3a5578+=this['frontendCo'+'de'],_0x598c08===Ts&&(_0x3a5578+=X['linearizeD'+'epthPS']),_0x3a5578+=It['begin'](),_0x3a5578+=this['frontendFu'+'nc'];const _0x39f95b=_0x537b83===oe||!_0x3acdb7&&_0x537b83===Re;let _0x22a2b5=!(0x1*-0x1583+-0xcf3+0x2277);return _0x39f95b?(_0x3a5578+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20gl'+'_FragCoord'+'.z;\x0a',_0x25abe1&&_0x537b83!==oe&&(_0x3a5578+='\x20\x20\x20\x20depth\x20'+'=\x20lineariz'+'eDepth(dep'+'th,\x20camera'+'_params);\x0a')):(_0x3a5578+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20mi'+'n(distance'+'(view_posi'+'tion,\x20vPos'+'itionW)\x20/\x20'+'light_radi'+'us,\x200.9999'+'9);\x0a',_0x22a2b5=!(-0xf27+0xb5f+0x3c8)),_0x3acdb7?_0x3a5578+=_0x155379['storeEVSMP'+'S']:_0x25abe1?_0x3a5578+='\x20\x20\x20\x20gl_Fra'+'gColor.r\x20='+'\x20depth;\x0a':(_0x22a2b5&&(_0x3a5578+='\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a'),_0x3a5578+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0);\x0a'),_0x3a5578+=It['end'](),_0x3a5578;}['_fsGetLitP'+'assCode'](){var _0x1e54d4;const _0x19351d=this['device'],_0xebd3f5=this['options'],_0x54edde=this['chunks'],_0x55c396=new sr(),_0x42e0e7=new sr(),_0x3d05ee=new sr(),_0xc4cf62=new sr();_0xebd3f5['opacityFad'+'esSpecular']===!(0x4*0x577+0x1*-0x355+-0x2*0x943)&&_0x55c396['append']('uniform\x20fl'+'oat\x20materi'+'al_alphaFa'+'de;'),_0xebd3f5['useSpecula'+'r']&&(this['defines']['push']('LIT_SPECUL'+'AR'),this['reflection'+'s']&&this['defines']['push']('LIT_REFLEC'+'TIONS'),_0xebd3f5['useClearCo'+'at']&&this['defines']['push']('LIT_CLEARC'+'OAT'),_0xebd3f5['fresnelMod'+'el']>0x8fa+0xe23+0x3d*-0x61&&this['defines']['push']('LIT_SPECUL'+'AR_FRESNEL'),_0xebd3f5['useSheen']&&this['defines']['push']('LIT_SHEEN'),_0xebd3f5['useIridesc'+'ence']&&this['defines']['push']('LIT_IRIDES'+'CENCE'));const _0x304957=[];let _0x14c067=0x52b+0x25da+-0x2b05,_0x1186c9=!(-0x47*0x83+-0x25cd+0x4a23),_0x3f4435=!(-0x1dad*-0x1+-0x1a6e+0xa*-0x53),_0x229047=!(-0x4a7+-0x1*-0x133+0xf*0x3b),_0x398efc=_0xebd3f5['lights']['some'](_0x57758c=>_0x57758c['_shape']&&_0x57758c['_shape']!==yt);_0xebd3f5['clusteredL'+'ightingEna'+'bled']&&_0xebd3f5['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&(_0x398efc=!(-0x43d*0x8+0x2*0x356+0x1b3c)),(_0x398efc||_0xebd3f5['clusteredL'+'ightingEna'+'bled'])&&(_0x55c396['append']('#define\x20AR'+'EA_LIGHTS'),_0x55c396['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;'),_0x55c396['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'2;'));for(let _0x880e5c=-0x22*0xc7+0x1385+-0x3d*-0x1d;_0x880e5c<_0xebd3f5['lights']['length'];_0x880e5c++){const _0x24d9f5=_0xebd3f5['lights'][_0x880e5c],_0x406d64=_0x24d9f5['_type'];if(_0xebd3f5['clusteredL'+'ightingEna'+'bled']&&_0x406d64!==oe)continue;const _0x13a79a=_0x398efc&&_0x24d9f5['_shape']?_0x24d9f5['_shape']:yt;_0x55c396['append']('uniform\x20ve'+'c3\x20light'+_0x880e5c+'_color;'),_0x24d9f5['_shadowTyp'+'e']===Ts&&_0x24d9f5['castShadow'+'s']&&!_0xebd3f5['noShadow']&&(_0x55c396['append']('uniform\x20fl'+'oat\x20light'+_0x880e5c+('_shadowSea'+'rchArea;')),_0x55c396['append']('uniform\x20ve'+'c4\x20light'+_0x880e5c+('_cameraPar'+'ams;')),_0x406d64===oe&&_0x55c396['append']('uniform\x20ve'+'c4\x20light'+_0x880e5c+('_softShado'+'wParams;'))),_0x406d64===oe?_0x55c396['append']('uniform\x20ve'+'c3\x20light'+_0x880e5c+('_direction'+';')):(_0x55c396['append']('uniform\x20ve'+'c3\x20light'+_0x880e5c+'_position;'),_0x55c396['append']('uniform\x20fl'+'oat\x20light'+_0x880e5c+'_radius;'),_0x406d64===Re&&(_0x55c396['append']('uniform\x20ve'+'c3\x20light'+_0x880e5c+('_direction'+';')),_0x55c396['append']('uniform\x20fl'+'oat\x20light'+_0x880e5c+('_innerCone'+'Angle;')),_0x55c396['append']('uniform\x20fl'+'oat\x20light'+_0x880e5c+('_outerCone'+'Angle;')))),_0x13a79a!==yt&&(_0x406d64===oe&&_0x55c396['append']('uniform\x20ve'+'c3\x20light'+_0x880e5c+'_position;'),_0x55c396['append']('uniform\x20ve'+'c3\x20light'+_0x880e5c+('_halfWidth'+';')),_0x55c396['append']('uniform\x20ve'+'c3\x20light'+_0x880e5c+('_halfHeigh'+'t;'))),_0x24d9f5['castShadow'+'s']&&!_0xebd3f5['noShadow']&&(_0x55c396['append']('uniform\x20ma'+'t4\x20light'+_0x880e5c+('_shadowMat'+'rix;')),_0x55c396['append']('uniform\x20fl'+'oat\x20light'+_0x880e5c+('_shadowInt'+'ensity;')),_0x406d64===oe&&(_0x55c396['append']('uniform\x20ma'+'t4\x20light'+_0x880e5c+('_shadowMat'+'rixPalette'+'[4];')),_0x55c396['append']('uniform\x20ve'+'c4\x20light'+_0x880e5c+('_shadowCas'+'cadeDistan'+'ces;')),_0x55c396['append']('uniform\x20in'+'t\x20light'+_0x880e5c+('_shadowCas'+'cadeCount;')),_0x55c396['append']('uniform\x20fl'+'oat\x20light'+_0x880e5c+('_shadowCas'+'cadeBlend;'))),_0x55c396['append']('uniform\x20ve'+'c4\x20light'+_0x880e5c+('_shadowPar'+'ams;')),_0x406d64===oe&&(_0x1186c9=!(0x1af*0xe+0x2687+-0x3e19)),_0x406d64===Pe?_0x55c396['append']('uniform\x20'+(_0x24d9f5['_isPcf']?'samplerCub'+'eShadow':'samplerCub'+'e')+'\x20light'+_0x880e5c+('_shadowMap'+';')):_0x55c396['append']('uniform\x20'+(_0x24d9f5['_isPcf']?'sampler2DS'+'hadow':'sampler2D')+'\x20light'+_0x880e5c+('_shadowMap'+';')),_0x14c067++,_0x304957[_0x24d9f5['_shadowTyp'+'e']]=!(-0xd33*-0x1+-0x160b+0x8d8),_0x24d9f5['_isVsm']&&(_0x3f4435=!(-0x457*0x6+-0xcf8+-0x1381*-0x2)),_0x24d9f5['_shadowTyp'+'e']===Ts&&(_0x229047=!(-0x34f+0x1874+-0x1525))),_0x24d9f5['_cookie']&&(_0x24d9f5['_cookie']['_cubemap']?_0x406d64===Pe&&(_0x55c396['append']('uniform\x20sa'+'mplerCube\x20'+'light'+_0x880e5c+'_cookie;'),_0x55c396['append']('uniform\x20fl'+'oat\x20light'+_0x880e5c+('_cookieInt'+'ensity;')),(!_0x24d9f5['castShadow'+'s']||_0xebd3f5['noShadow'])&&_0x55c396['append']('uniform\x20ma'+'t4\x20light'+_0x880e5c+('_shadowMat'+'rix;'))):_0x406d64===Re&&(_0x55c396['append']('uniform\x20sa'+'mpler2D\x20li'+'ght'+_0x880e5c+'_cookie;'),_0x55c396['append']('uniform\x20fl'+'oat\x20light'+_0x880e5c+('_cookieInt'+'ensity;')),(!_0x24d9f5['castShadow'+'s']||_0xebd3f5['noShadow'])&&_0x55c396['append']('uniform\x20ma'+'t4\x20light'+_0x880e5c+('_shadowMat'+'rix;')),_0x24d9f5['_cookieTra'+'nsform']&&(_0x55c396['append']('uniform\x20ve'+'c4\x20light'+_0x880e5c+('_cookieMat'+'rix;')),_0x55c396['append']('uniform\x20ve'+'c2\x20light'+_0x880e5c+('_cookieOff'+'set;')))));}const _0x422ec5=this['needsNorma'+'l']&&(_0xebd3f5['useNormals']||_0xebd3f5['useClearCo'+'atNormals']||_0xebd3f5['enableGGXS'+'pecular']&&!_0xebd3f5['useHeights']);if(_0x422ec5&&(_0xebd3f5['hasTangent'+'s']?_0x42e0e7['append'](_0x54edde['TBNPS']):_0xebd3f5['useNormals']||_0xebd3f5['useClearCo'+'atNormals']?_0x42e0e7['append'](_0x54edde['TBNderivat'+'ivePS']['replace'](/\$UV/g,this['lightingUv'])):_0x42e0e7['append'](_0x54edde['TBNObjectS'+'pacePS']),_0xebd3f5['twoSidedLi'+'ghting']&&_0x42e0e7['append'](_0x54edde['twoSidedLi'+'ghtingPS'])),_0x42e0e7['append'](_0x54edde['sphericalP'+'S']),_0x42e0e7['append'](_0x54edde['decodePS']),_0x42e0e7['append'](_0x54edde['gammaPS']),_0x42e0e7['append'](_0x54edde['tonemappin'+'gPS']),_0x42e0e7['append'](_0x54edde['fogPS']),_0x42e0e7['append'](this['frontendCo'+'de']),_0xebd3f5['useCubeMap'+'Rotation']&&_0x55c396['append']('#define\x20CU'+'BEMAP_ROTA'+'TION'),this['needsNorma'+'l']&&(_0x42e0e7['append'](_0x54edde['cubeMapRot'+'atePS']),_0x42e0e7['append'](_0xebd3f5['cubeMapPro'+'jection']>0x18ac+-0x11c5+-0x6e7?_0x54edde['cubeMapPro'+'jectBoxPS']:_0x54edde['cubeMapPro'+'jectNonePS']),_0x42e0e7['append'](_0xebd3f5['skyboxInte'+'nsity']?_0x54edde['envMultipl'+'yPS']:_0x54edde['envConstPS'])),(this['lighting']&&_0xebd3f5['useSpecula'+'r']||this['reflection'+'s'])&&(_0xebd3f5['useMetalne'+'ss']&&_0x42e0e7['append'](_0x54edde['metalnessM'+'odulatePS']),_0xebd3f5['fresnelMod'+'el']===Sp&&_0x42e0e7['append'](_0x54edde['fresnelSch'+'lickPS']),_0xebd3f5['useIridesc'+'ence']&&_0x42e0e7['append'](_0x54edde['iridescenc'+'eDiffracti'+'onPS'])),_0xebd3f5['useAo'])switch(_0x42e0e7['append'](_0x54edde['aoDiffuseO'+'ccPS']),_0xebd3f5['occludeSpe'+'cular']){case Bo:_0x42e0e7['append'](_0xebd3f5['occludeSpe'+'cularFloat']?_0x54edde['aoSpecOccS'+'implePS']:_0x54edde['aoSpecOccC'+'onstSimple'+'PS']);break;case Lu:_0x42e0e7['append'](_0xebd3f5['occludeSpe'+'cularFloat']?_0x54edde['aoSpecOccP'+'S']:_0x54edde['aoSpecOccC'+'onstPS']);break;}_0xebd3f5['reflection'+'Source']==='envAtlasHQ'?(_0x42e0e7['append'](_0x54edde['envAtlasPS']),_0x42e0e7['append'](_0x54edde['reflection'+'EnvHQPS']['replace'](/\$DECODE_CUBEMAP/g,Es['decodeFunc'](_0xebd3f5['reflection'+'CubemapEnc'+'oding']))['replace'](/\$DECODE/g,Es['decodeFunc'](_0xebd3f5['reflection'+'Encoding'])))):_0xebd3f5['reflection'+'Source']==='envAtlas'?(_0x42e0e7['append'](_0x54edde['envAtlasPS']),_0x42e0e7['append'](_0x54edde['reflection'+'EnvPS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0xebd3f5['reflection'+'Encoding'])))):_0xebd3f5['reflection'+'Source']==='cubeMap'?_0x42e0e7['append'](_0x54edde['reflection'+'CubePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0xebd3f5['reflection'+'Encoding']))):_0xebd3f5['reflection'+'Source']==='sphereMap'&&_0x42e0e7['append'](_0x54edde['reflection'+'SpherePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0xebd3f5['reflection'+'Encoding']))),this['reflection'+'s']&&(_0xebd3f5['useClearCo'+'at']&&_0x42e0e7['append'](_0x54edde['reflection'+'CCPS']),_0xebd3f5['useSheen']&&_0x42e0e7['append'](_0x54edde['reflection'+'SheenPS'])),_0xebd3f5['useRefract'+'ion']&&(_0xebd3f5['useDynamic'+'Refraction']?(_0xebd3f5['dispersion']&&(_0x55c396['append']('uniform\x20fl'+'oat\x20materi'+'al_dispers'+'ion;'),_0x55c396['append']('#define\x20DI'+'SPERSION\x0a')),_0x42e0e7['append'](_0x54edde['refraction'+'DynamicPS'])):this['reflection'+'s']&&_0x42e0e7['append'](_0x54edde['refraction'+'CubePS'])),_0xebd3f5['useSheen']&&_0x42e0e7['append'](_0x54edde['lightSheen'+'PS']),_0xebd3f5['clusteredL'+'ightingEna'+'bled']&&(_0x42e0e7['append'](_0x54edde['clusteredL'+'ightUtilsP'+'S']),_0xebd3f5['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x42e0e7['append'](_0x54edde['clusteredL'+'ightCookie'+'sPS']),_0xebd3f5['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0xebd3f5['noShadow']&&(_0x304957[Dt]=!(0x5bd*-0x3+0x1*-0x1762+0x2899),_0x304957[lh]=!(0x2024+-0x1*-0xc01+-0x2c25),_0x304957[Ts]=!(-0x568+-0x1717+-0x1c7f*-0x1))),(_0x14c067>0x2275+-0x17*-0x175+-0x43f8||_0xebd3f5['clusteredL'+'ightingEna'+'bled'])&&(_0x1186c9&&_0x42e0e7['append'](_0x54edde['shadowCasc'+'adesPS']),(_0x304957[Bh]||_0x304957[Dt]||_0x304957[Nh]||_0x304957[zh])&&_0x42e0e7['append'](_0x54edde['shadowStan'+'dardPS']),(_0x304957[lh]||_0x304957[Iu])&&_0x42e0e7['append'](_0x54edde['shadowStan'+'dardGL2PS']),_0x3f4435&&(_0x42e0e7['append'](_0x54edde['shadowVSM_'+'commonPS']),_0x304957[Hr]&&_0x42e0e7['append'](_0x54edde['shadowEVSM'+'PS']['replace'](/\$/g,'16')),_0x304957[Wr]&&_0x42e0e7['append'](_0x19351d['extTexture'+'FloatLinea'+'r']?_0x54edde['shadowEVSM'+'PS']['replace'](/\$/g,'32'):_0x54edde['shadowEVSM'+'nPS']['replace'](/\$/g,'32'))),_0x229047&&(_0x42e0e7['append'](_0x54edde['linearizeD'+'epthPS']),_0x42e0e7['append'](_0x54edde['shadowPCSS'+'PS']),_0x42e0e7['append'](_0x54edde['shadowSoft'+'PS']))),_0xebd3f5['enableGGXS'+'pecular']&&_0x42e0e7['append']('uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opy;'),this['lighting']&&(_0x42e0e7['append'](_0x54edde['lightDiffu'+'seLambertP'+'S']),(_0x398efc||_0xebd3f5['clusteredL'+'ightingAre'+'aLightsEna'+'bled'])&&_0x42e0e7['append'](_0x54edde['ltcPS']));let _0x23c028=!(0x1*-0x1+0x5d9*0x1+0x17*-0x41);_0xebd3f5['useSpecula'+'r']&&(this['lighting']&&_0x42e0e7['append'](_0xebd3f5['enableGGXS'+'pecular']?_0x54edde['lightSpecu'+'larAnisoGG'+'XPS']:_0x54edde['lightSpecu'+'larBlinnPS']),!_0xebd3f5['fresnelMod'+'el']&&!this['reflection'+'s']&&!_0xebd3f5['diffuseMap'+'Enabled']&&(_0x55c396['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x55c396['append']('#define\x20LI'+'T_OLD_AMBI'+'ENT'),_0x23c028=!(0xa03+0x1f82+-0x49d*0x9))),_0x42e0e7['append'](_0x54edde['combinePS']),_0xebd3f5['lightMapEn'+'abled']&&_0x42e0e7['append'](_0xebd3f5['useSpecula'+'r']&&_0xebd3f5['dirLightMa'+'pEnabled']?_0x54edde['lightmapDi'+'rAddPS']:_0x54edde['lightmapAd'+'dPS']);const _0x2d6b72=!_0xebd3f5['lightMapEn'+'abled']||_0xebd3f5['lightMapWi'+'thoutAmbie'+'nt'];_0x2d6b72&&(_0xebd3f5['ambientSou'+'rce']==='ambientSH'?_0x42e0e7['append'](_0x54edde['ambientSHP'+'S']):_0xebd3f5['ambientSou'+'rce']==='envAtlas'?(_0xebd3f5['reflection'+'Source']!=='envAtlas'&&_0xebd3f5['reflection'+'Source']!=='envAtlasHQ'&&_0x42e0e7['append'](_0x54edde['envAtlasPS']),_0x42e0e7['append'](_0x54edde['ambientEnv'+'PS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0xebd3f5['ambientEnc'+'oding'])))):_0x42e0e7['append'](_0x54edde['ambientCon'+'stantPS'])),_0x23c028||_0x55c396['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0xebd3f5['useMsdf']&&(_0xebd3f5['msdfTextAt'+'tribute']||_0x55c396['append']('#define\x20UN'+'IFORM_TEXT'+'_PARAMETER'+'S'),_0x42e0e7['append'](_0x54edde['msdfPS'])),this['needsNorma'+'l']&&(_0x42e0e7['append'](_0x54edde['viewDirPS']),_0xebd3f5['useSpecula'+'r']&&_0x42e0e7['append'](_0xebd3f5['enableGGXS'+'pecular']?_0x54edde['reflDirAni'+'soPS']:_0x54edde['reflDirPS']));let _0x2dba2a=!(-0xed6+-0x3a+0xf11),_0xc3d66=!(-0x84e+-0x151*0x3+0x6*0x20b),_0x1bdd82=!(0x2306+-0x3*-0x86e+-0x3c4f*0x1),_0x4e7a46=!(-0x701+-0xc9b+0x139d),_0x498b2d=!(0x1*0x256f+0x26*0x51+-0x1*0x3174),_0x2fe16a;if(_0xebd3f5['clusteredL'+'ightingEna'+'bled']&&this['lighting']){if(_0x4e7a46=!(0x9ae+0x8f*0x1b+-0x1*0x18c3),_0x2dba2a=!(0x428+-0x19cb*0x1+-0x1*-0x15a3),_0xc3d66=!(0x153f+0x4*0x18e+-0x1b77),_0x498b2d=!(-0x15d3+-0xcd0+-0x1*-0x22a3),_0x42e0e7['append'](_0x54edde['floatUnpac'+'kingPS']),_0xebd3f5['lightMaskD'+'ynamic']&&_0x55c396['append']('#define\x20CL'+'USTER_MESH'+'_DYNAMIC_L'+'IGHTS'),_0xebd3f5['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x55c396['append']('#define\x20CL'+'USTER_COOK'+'IES'),_0xebd3f5['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0xebd3f5['noShadow']){const _0x57ef67=(_0x1e54d4=ir['get'](_0xebd3f5['clusteredL'+'ightingSha'+'dowType']))==null?void(-0xfcf+-0x1*0x1a7d+0x2a4c):_0x1e54d4['name'];v['assert'](_0x57ef67);const _0x178abb=_0x57ef67['substring'](0x3*-0xc95+-0x197*0xa+0x35a5,0x2204+-0x216b*-0x1+-0x436b);_0x55c396['append']('#define\x20CL'+'USTER_SHAD'+'OWS'),_0x55c396['append']('#define\x20CL'+'USTER_SHAD'+'OW_TYPE_'+_0x178abb);}_0xebd3f5['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x55c396['append']('#define\x20CL'+'USTER_AREA'+'LIGHTS'),_0x55c396['append'](E0['getShaderD'+'efines']()),_0xebd3f5['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0xebd3f5['noShadow']&&_0x42e0e7['append'](_0x54edde['clusteredL'+'ightShadow'+'sPS']),_0x42e0e7['append'](_0x54edde['clusteredL'+'ightPS']);}if(_0xc4cf62['append'](this['_fsGetStar'+'tCode'](_0xc4cf62,_0x19351d,_0x54edde,_0xebd3f5)),this['needsNorma'+'l']&&(_0xc4cf62['append']('\x20\x20\x20\x20dVerte'+'xNormalW\x20='+'\x20normalize'+'(vNormalW)'+';'),(_0xebd3f5['useHeights']||_0xebd3f5['useNormals'])&&_0xebd3f5['hasTangent'+'s']&&(_0xc4cf62['append']('\x20\x20\x20\x20dTange'+'ntW\x20=\x20vTan'+'gentW;'),_0xc4cf62['append']('\x20\x20\x20\x20dBinor'+'malW\x20=\x20vBi'+'normalW;')),_0xc4cf62['append']('\x20\x20\x20\x20getVie'+'wDir();'),_0x422ec5&&(_0xc4cf62['append']('\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'),_0xebd3f5['twoSidedLi'+'ghting']&&_0xc4cf62['append']('\x20\x20\x20\x20handle'+'TwoSidedLi'+'ghting();'))),_0xc4cf62['append'](this['frontendFu'+'nc']),_0xebd3f5['ssao']&&(_0x42e0e7['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec2\x20ssaoT'+'extureSize'+'Inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),_0x3d05ee['append']('litArgs_ao'+'\x20*=\x20textur'+'e2DLod(ssa'+'oTexture,\x20'+'gl_FragCoo'+'rd.xy\x20*\x20ss'+'aoTextureS'+'izeInv,\x200.'+'0).r;')),this['needsNorma'+'l']&&(_0xebd3f5['useSpecula'+'r']&&_0x3d05ee['append']('\x20\x20\x20\x20getRef'+'lDir(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_gloss'+',\x20dTBN);'),_0xebd3f5['useClearCo'+'at']&&_0x3d05ee['append']('\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));')),(this['lighting']&&_0xebd3f5['useSpecula'+'r']||this['reflection'+'s'])&&(_0xebd3f5['useMetalne'+'ss']&&(_0x3d05ee['append']('\x20\x20\x20\x20float\x20'+'f0\x20=\x201.0\x20/'+'\x20litArgs_i'+'or;\x20f0\x20=\x20('+'f0\x20-\x201.0)\x20'+'/\x20(f0\x20+\x201.'+'0);\x20f0\x20*=\x20'+'f0;'),_0x3d05ee['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20getS'+'pecularMod'+'ulate(litA'+'rgs_specul'+'arity,\x20lit'+'Args_albed'+'o,\x20litArgs'+'_metalness'+',\x20f0);'),_0x3d05ee['append']('\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);')),_0xebd3f5['useIridesc'+'ence']&&_0x3d05ee['append']('\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+'ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);')),_0x2d6b72&&(_0x3d05ee['append']('\x20\x20\x20\x20addAmb'+'ient(litAr'+'gs_worldNo'+'rmal);'),_0xebd3f5['useSpecula'+'r']&&_0x3d05ee['append']('\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);'),_0xebd3f5['separateAm'+'bient']&&_0x3d05ee['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dAmb'+'ientLight\x20'+'=\x20dDiffuse'+'Light;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20vec3(0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')),_0x23c028||_0x3d05ee['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20material_'+'ambient;'),_0xebd3f5['useAo']&&!_0xebd3f5['occludeDir'+'ect']&&_0x3d05ee['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),_0xebd3f5['lightMapEn'+'abled']&&_0x3d05ee['append']('\x20\x20\x20\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ligh'+'tmapDir,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dReflDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dTBN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);'),this['lighting']||this['reflection'+'s']){this['reflection'+'s']&&(_0xebd3f5['useClearCo'+'at']&&(_0x3d05ee['append']('\x20\x20\x20\x20addRef'+'lectionCC('+'ccReflDirW'+',\x20litArgs_'+'clearcoat_'+'gloss);'),_0xebd3f5['fresnelMod'+'el']>0x1b31*0x1+-0x2*0x32f+0x3*-0x6f1?(_0x3d05ee['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));'),_0x3d05ee['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20ccFres'+'nel;')):_0x3d05ee['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;')),_0xebd3f5['useSpecula'+'rityFactor']&&_0x3d05ee['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20litArg'+'s_specular'+'ityFactor;'),_0xebd3f5['useSheen']&&_0x3d05ee['append']('\x20\x20\x20\x20addRef'+'lectionShe'+'en(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_sheen_g'+'loss);'),_0x3d05ee['append']('\x20\x20\x20\x20addRef'+'lection(dR'+'eflDirW,\x20l'+'itArgs_glo'+'ss);'),_0xebd3f5['fresnelMod'+'el']>0xb*0x19b+0x2*-0x94f+0xf5?_0x3d05ee['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'):_0x3d05ee['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'ty;'),_0xebd3f5['useSpecula'+'rityFactor']&&_0x3d05ee['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'tyFactor;')),_0x398efc&&(_0x3d05ee['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'y;'),_0xebd3f5['useSpecula'+'r']&&_0x3d05ee['append']('\x20\x20\x20\x20calcLT'+'CLightValu'+'es(litArgs'+'_gloss,\x20li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW,\x20'+'litArgs_sp'+'ecularity,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20lit'+'Args_clear'+'coat_specu'+'larity);'));for(let _0x12efb5=0xf23+0x9*0xa7+-0x1502;_0x12efb5<_0xebd3f5['lights']['length'];_0x12efb5++){const _0x570361=_0xebd3f5['lights'][_0x12efb5],_0x39392f=_0x570361['_type'];if(_0xebd3f5['clusteredL'+'ightingEna'+'bled']&&_0x39392f!==oe)continue;_0x2fe16a=!(-0x145*-0x6+-0x35*0x3b+-0x13*-0x3e);const _0x6dc3ba=_0x398efc&&_0x570361['_shape']?_0x570361['shape']:yt,_0xea5c7d=_0x398efc&&_0x570361['_shape']?this['_getLightS'+'ourceShape'+'String'](_0x6dc3ba):'';if(_0x6dc3ba!==yt&&_0x3d05ee['append']('\x20\x20\x20\x20calc'+_0xea5c7d+('LightValue'+'s(light')+_0x12efb5+('_position,'+'\x20light')+_0x12efb5+('_halfWidth'+',\x20light')+_0x12efb5+('_halfHeigh'+'t);')),_0x39392f===oe?(_0x3d05ee['append']('\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light'+_0x12efb5+('_direction'+';')),_0x3d05ee['append']('\x20\x20\x20\x20dAtten'+'\x20=\x201.0;')):(_0x570361['_cookie']&&(_0x39392f===Re&&!_0x570361['_cookie']['_cubemap']||_0x39392f===Pe&&_0x570361['_cookie']['_cubemap'])&&(_0x498b2d=!(0x21f*0x7+-0x1e66+0x3*0x52f),_0x2fe16a=!(-0x7de+-0x212e+0x94*0x47)),_0x3d05ee['append']('\x20\x20\x20\x20getLig'+'htDirPoint'+'(light'+_0x12efb5+('_position)'+';')),_0x2dba2a=!(0x7ed*0x2+0x1eb3+-0x2e8d),_0x2fe16a&&(_0x39392f===Re?_0x3d05ee['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kie2D'+(_0x570361['_cookieFal'+'loff']?'':'Clip')+(_0x570361['_cookieTra'+'nsform']?'Xform':'')+'(light'+_0x12efb5+('_cookie,\x20l'+'ight')+_0x12efb5+('_shadowMat'+'rix,\x20light')+_0x12efb5+('_cookieInt'+'ensity')+(_0x570361['_cookieTra'+'nsform']?',\x20light'+_0x12efb5+('_cookieMat'+'rix,\x20light')+_0x12efb5+('_cookieOff'+'set'):'')+').'+_0x570361['_cookieCha'+'nnel']+';'):_0x3d05ee['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kieCube(li'+'ght'+_0x12efb5+('_cookie,\x20l'+'ight')+_0x12efb5+('_shadowMat'+'rix,\x20light')+_0x12efb5+('_cookieInt'+'ensity).')+_0x570361['_cookieCha'+'nnel']+';')),_0x6dc3ba===yt?_0x570361['_falloffMo'+'de']===wp?(_0x3d05ee['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offLinear('+'light'+_0x12efb5+('_radius,\x20d'+'LightDirW)'+';')),_0xc3d66=!(-0x10*0x27+0x1*-0x2325+0x2595)):(_0x3d05ee['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offInvSqua'+'red(light'+_0x12efb5+('_radius,\x20d'+'LightDirW)'+';')),_0x1bdd82=!(-0x21e0+0x1b1d+0x241*0x3)):(_0x3d05ee['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'light'+_0x12efb5+('_radius,\x20d'+'LightDirW)'+';')),_0x1bdd82=!(-0x16b0+0x25da+-0xf2a)),_0x3d05ee['append']('\x20\x20\x20\x20if\x20(dA'+'tten\x20>\x200.0'+'0001)\x20{'),_0x39392f===Re&&(_0x2fe16a&&!_0x570361['_cookieFal'+'loff']||(_0x3d05ee['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getSpo'+'tEffect(li'+'ght'+_0x12efb5+('_direction'+',\x20light')+_0x12efb5+('_innerCone'+'Angle,\x20lig'+'ht')+_0x12efb5+('_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);')),_0x4e7a46=!(0x256d+0x1d99*0x1+-0x4306)))),_0x6dc3ba!==yt?_0x39392f===oe?_0x3d05ee['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'):_0x3d05ee['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20get'+_0xea5c7d+('LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;')):_0x3d05ee['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'),_0x570361['castShadow'+'s']&&!_0xebd3f5['noShadow']){const _0x5c3650=ir['get'](_0x570361['_shadowTyp'+'e']);v['assert'](_0x5c3650);const _0x52e12c=_0x570361['_shadowTyp'+'e']===Ts,_0xffc0da=_0x5c3650==null?void(-0x31*-0x83+-0x1*-0x23b1+-0x3cc4):_0x5c3650['vsm'],_0x560eb9=_0x5c3650==null?void(0x989*0x2+-0x27*-0x57+-0x1*0x2053):_0x5c3650['pcf'];let _0x18098e=null,_0x3dfeac;switch(_0x570361['_shadowTyp'+'e']){case Hr:_0x18098e='VSM16',_0x3dfeac='5.54';break;case Wr:_0x18098e='VSM32',_0x3dfeac='15.0';break;case Bh:case Nh:_0x18098e='PCF1x1';break;case lh:case Iu:_0x18098e='PCF5x5';break;case Ts:_0x18098e='PCSS';break;case Dt:case zh:default:_0x18098e='PCF3x3';break;}if(_0x18098e!==null){_0x570361['_normalOff'+'setBias']&&!_0x570361['_isVsm']&&_0x42e0e7['append']('#define\x20SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET'),_0x39392f===oe&&_0x42e0e7['append']('#define\x20SH'+'ADOW_SAMPL'+'E_ORTHO'),(_0x560eb9||_0x52e12c||_0x19351d['isWebGPU'])&&_0x42e0e7['append']('#define\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER'),_0x39392f===Pe&&_0x42e0e7['append']('#define\x20SH'+'ADOW_SAMPL'+'E_POINT');const _0x4b16fb=_0x54edde['shadowSamp'+'leCoordPS'];_0x42e0e7['append'](_0x4b16fb['replace']('$LIGHT',_0x12efb5)),_0x42e0e7['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET'),_0x42e0e7['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_ORTHO'),_0x42e0e7['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_SOURCE_ZB'+'UFFER'),_0x42e0e7['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_POINT');let _0x3861d8='light'+_0x12efb5+('_shadowMat'+'rix');_0x39392f===oe&&_0x570361['numCascade'+'s']>-0x24b7+0x7f2+-0xe63*-0x2&&(_0x3d05ee['append']('int\x20cascad'+'eIndex'+_0x12efb5+('\x20=\x20getShad'+'owCascadeI'+'ndex(light')+_0x12efb5+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x12efb5+('_shadowCas'+'cadeCount)'+';')),_0x570361['cascadeBle'+'nd']>0x31*0x1+-0xe33+0xe02&&_0x3d05ee['append']('cascadeInd'+'ex'+_0x12efb5+('\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex')+_0x12efb5+',\x20light'+_0x12efb5+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x12efb5+('_shadowCas'+'cadeCount,'+'\x20light')+_0x12efb5+('_shadowCas'+'cadeBlend)'+';')),_0x3d05ee['append']('mat4\x20casca'+'deShadowMa'+'t'+_0x12efb5+'\x20=\x20light'+_0x12efb5+('_shadowMat'+'rixPalette'+'[cascadeIn'+'dex')+_0x12efb5+'];'),_0x3861d8='cascadeSha'+'dowMat'+_0x12efb5),_0x3d05ee['append']('\x20\x20\x20\x20dShado'+'wCoord\x20=\x20g'+'etShadowSa'+'mpleCoord'+_0x12efb5+'('+_0x3861d8+',\x20light'+_0x12efb5+('_shadowPar'+'ams,\x20vPosi'+'tionW,\x20dLi'+'ghtPosW,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW,\x20dVe'+'rtexNormal'+'W);')),_0x39392f===oe&&_0x3d05ee['append']('\x20\x20\x20\x20fadeSh'+'adow(light'+_0x12efb5+('_shadowCas'+'cadeDistan'+'ces);'));let _0x490468='SHADOWMAP_'+'PASS(light'+_0x12efb5+('_shadowMap'+'),\x20dShadow'+'Coord,\x20lig'+'ht')+_0x12efb5+('_shadowPar'+'ams');if(_0xffc0da)_0x490468=_0x490468+',\x20'+_0x3dfeac+(',\x20dLightDi'+'rW');else{if(_0x52e12c){let _0x56c490=_0x39392f===oe?'light'+_0x12efb5+('_softShado'+'wParams'):'vec2(light'+_0x12efb5+('_shadowSea'+'rchArea)');_0x6dc3ba!==yt&&(_0x56c490='vec2(lengt'+'h(light'+_0x12efb5+('_halfWidth'+'),\x20length('+'light')+_0x12efb5+('_halfHeigh'+'t))\x20*\x20ligh'+'t')+_0x12efb5+('_shadowSea'+'rchArea')),_0x490468=_0x490468+',\x20light'+_0x12efb5+('_cameraPar'+'ams,\x20')+_0x56c490+(',\x20dLightDi'+'rW');}}_0x39392f===Pe?(_0x18098e='Point'+_0x18098e,_0x52e12c||(_0x490468=_0x490468+(',\x20dLightDi'+'rW'))):_0x39392f===Re&&(_0x18098e='Spot'+_0x18098e),_0x3d05ee['append']('\x20\x20\x20\x20float\x20'+'shadow'+_0x12efb5+('\x20=\x20getShad'+'ow')+_0x18098e+'('+_0x490468+');'),_0x3d05ee['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20mix(1.'+'0,\x20shadow'+_0x12efb5+',\x20light'+_0x12efb5+('_shadowInt'+'ensity);'));}}if(_0x6dc3ba!==yt?_0xebd3f5['useSpecula'+'r']?_0x3d05ee['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20((dAttenD'+'\x20*\x20dAtten)'+'\x20*\x20light'+_0x12efb5+'_color'+(_0x2fe16a?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20dLTCSpecF'+'res);')):_0x3d05ee['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAttenD\x20'+'*\x20dAtten)\x20'+'*\x20light'+_0x12efb5+'_color'+(_0x2fe16a?'\x20*\x20dAtten3':'')+';'):_0x398efc&&_0xebd3f5['useSpecula'+'r']?_0x3d05ee['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAtten\x20*'+'\x20light'+_0x12efb5+'_color'+(_0x2fe16a?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20litArgs_s'+'pecularity'+');')):_0x3d05ee['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'light'+_0x12efb5+'_color'+(_0x2fe16a?'\x20*\x20dAtten3':'')+';'),_0xebd3f5['useSpecula'+'r']&&_0x3d05ee['append']('\x20\x20\x20\x20dHalfD'+'irW\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);'),_0x570361['affectSpec'+'ularity']){if(_0x6dc3ba!==yt)_0xebd3f5['useClearCo'+'at']&&_0x3d05ee['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20ccLTCSp'+'ecFres\x20*\x20g'+'et'+_0xea5c7d+('LightSpecu'+'lar(litArg'+'s_clearcoa'+'t_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x12efb5+'_color'+(_0x2fe16a?'\x20*\x20dAtten3':'')+';'),_0xebd3f5['useSpecula'+'r']&&_0x3d05ee['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20get'+_0xea5c7d+('LightSpecu'+'lar(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x12efb5+'_color'+(_0x2fe16a?'\x20*\x20dAtten3':'')+';');else{let _0x3559e8=!(-0x1*-0x243d+0x9c5+-0x1*0x2e01);_0x39392f===oe&&_0xebd3f5['fresnelMod'+'el']>-0xc2*-0x19+0x3*0xc88+-0x2*0x1c45&&(_0x3559e8=!(-0x7eb*0x1+-0x25*-0xdb+0x7*-0x364)),_0xebd3f5['useClearCo'+'at']&&_0x3d05ee['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'dHalfDirW,'+'\x20ccReflDir'+'W,\x20litArgs'+'_clearcoat'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirNormW,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20dTBN'+')\x20*\x20dAtten'+'\x20*\x20light'+_0x12efb5+'_color'+(_0x2fe16a?'\x20*\x20dAtten3':'')+(_0x3559e8?'\x20*\x20getFres'+'nelCC(dot('+'dViewDirW,'+'\x20dHalfDirW'+'));':';')),_0xebd3f5['useSheen']&&_0x3d05ee['append']('\x20\x20\x20\x20sSpecu'+'larLight\x20+'+'=\x20getLight'+'SpecularSh'+'een(dHalfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+_0x12efb5+'_color'+(_0x2fe16a?'\x20*\x20dAtten3'+';':';')),_0xebd3f5['useSpecula'+'r']&&_0x3d05ee['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20getLight'+'Specular(d'+'HalfDirW,\x20'+'dReflDirW,'+'\x20litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dLightD'+'irNormW,\x20l'+'itArgs_glo'+'ss,\x20dTBN)\x20'+'*\x20dAtten\x20*'+'\x20light'+_0x12efb5+'_color'+(_0x2fe16a?'\x20*\x20dAtten3':'')+(_0x3559e8?'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20*\x20'+'getFresnel'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(dVie'+'wDirW,\x20dHa'+'lfDirW),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_iridesce'+'nce_intens'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20);':'*\x20litArgs_'+'specularit'+'y;'));}}_0x39392f!==oe&&_0x3d05ee['append']('\x20\x20\x20\x20}');}_0xebd3f5['clusteredL'+'ightingEna'+'bled']&&this['lighting']&&(_0xc3d66=!(0x2054+-0x259*-0x1+-0x21*0x10d),_0x1bdd82=!(-0x6ad*-0x1+-0x1*-0x449+-0x1*0xaf6),_0x2dba2a=!(-0x1061*-0x1+-0x59*-0x25+-0x1d3e),_0x3d05ee['append']('\x20\x20\x20\x20addClu'+'steredLigh'+'ts(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dVie'+'wDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'ReflDirW,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dVe'+'rtexNormal'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_shee'+'n_gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);'))),_0x398efc&&(_0xebd3f5['useClearCo'+'at']&&_0x3d05ee['append']('\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_specular'+'ity\x20=\x201.0;'),_0xebd3f5['useSpecula'+'r']&&_0x3d05ee['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20vec3'+'(1);')),_0xebd3f5['useRefract'+'ion']&&_0x3d05ee['append']('\x20\x20\x20\x20addRef'+'raction(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ViewDirW,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_thickne'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_transm'+'ission,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_dis'+'persion\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);');}_0xebd3f5['useAo']&&(_0xebd3f5['occludeDir'+'ect']&&_0x3d05ee['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),(_0xebd3f5['occludeSpe'+'cular']===Bo||_0xebd3f5['occludeSpe'+'cular']===Lu)&&_0x3d05ee['append']('\x20\x20\x20\x20occlud'+'eSpecular('+'litArgs_gl'+'oss,\x20litAr'+'gs_ao,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW);')),_0xebd3f5['useSpecula'+'rityFactor']&&_0x3d05ee['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'yFactor;'),_0xebd3f5['opacityFad'+'esSpecular']===!(0x16*-0x1be+-0x2+0x2f3*0xd)&&((_0xebd3f5['blendType']===Kt||_0xebd3f5['blendType']===hr)&&(_0x3d05ee['append']('float\x20spec'+'Lum\x20=\x20dot('+'(dSpecular'+'Light\x20+\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a)'+',\x20vec3(\x200.'+'2126,\x200.71'+'52,\x200.0722'+'\x20));'),_0x3d05ee['append']('#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20specLum\x20'+'+=\x20dot(ccS'+'pecularLig'+'ht\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20+\x20ccR'+'eflection.'+'rgb\x20*\x20litA'+'rgs_clearc'+'oat_specul'+'arity,\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'#endif'),_0x3d05ee['append']('litArgs_op'+'acity\x20=\x20cl'+'amp(litArg'+'s_opacity\x20'+'+\x20gammaCor'+'rectInput('+'specLum),\x20'+'0.0,\x201.0);')),_0x3d05ee['append']('litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;')),_0x3d05ee['append'](_0x54edde['endPS']),_0xebd3f5['blendType']===Kt||_0xebd3f5['blendType']===Hc||_0xebd3f5['alphaToCov'+'erage']?_0x3d05ee['append'](_0x54edde['outputAlph'+'aPS']):_0xebd3f5['blendType']===hr?_0x3d05ee['append'](_0x54edde['outputAlph'+'aPremulPS']):_0x3d05ee['append'](_0x54edde['outputAlph'+'aOpaquePS']),_0xebd3f5['useMsdf']&&_0x3d05ee['append']('\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20a'+'pplyMsdf(g'+'l_FragColo'+'r);'),_0x3d05ee['append'](_0x54edde['outputPS']),_0x3d05ee['append'](_0x54edde['debugOutpu'+'tPS']),_0x2dba2a&&_0x42e0e7['prepend'](_0x54edde['lightDirPo'+'intPS']),_0xc3d66&&_0x42e0e7['prepend'](_0x54edde['falloffLin'+'earPS']),_0x1bdd82&&_0x42e0e7['prepend'](_0x54edde['falloffInv'+'SquaredPS']),_0x4e7a46&&_0x42e0e7['prepend'](_0x54edde['spotPS']),_0x498b2d&&!_0xebd3f5['clusteredL'+'ightingEna'+'bled']&&_0x42e0e7['prepend'](_0x54edde['cookiePS']);let _0x481a7f='';const _0x424750='void\x20evalu'+'ateBackend'+'()\x20{\x0a'+_0x3d05ee['code']+'\x0a}';_0x42e0e7['append'](_0x424750),_0xc4cf62['append'](_0x54edde['debugProce'+'ssFrontend'+'PS']),_0xc4cf62['append']('\x20\x20\x20\x20evalua'+'teBackend('+');'),_0xc4cf62['append'](It['end']());const _0x1fd354=_0x55c396['code']+_0x42e0e7['code']+_0xc4cf62['code'];return _0x1fd354['includes']('dTBN')&&(_0x481a7f+='mat3\x20dTBN;'+'\x0a'),_0x1fd354['includes']('dVertexNor'+'malW')&&(_0x481a7f+='vec3\x20dVert'+'exNormalW;'+'\x0a'),_0x1fd354['includes']('dTangentW')&&(_0x481a7f+='vec3\x20dTang'+'entW;\x0a'),_0x1fd354['includes']('dBinormalW')&&(_0x481a7f+='vec3\x20dBino'+'rmalW;\x0a'),_0x1fd354['includes']('dViewDirW')&&(_0x481a7f+='vec3\x20dView'+'DirW;\x0a'),_0x1fd354['includes']('dReflDirW')&&(_0x481a7f+='vec3\x20dRefl'+'DirW;\x0a'),_0x1fd354['includes']('dHalfDirW')&&(_0x481a7f+='vec3\x20dHalf'+'DirW;\x0a'),_0x1fd354['includes']('ccReflDirW')&&(_0x481a7f+='vec3\x20ccRef'+'lDirW;\x0a'),_0x1fd354['includes']('dLightDirN'+'ormW')&&(_0x481a7f+='vec3\x20dLigh'+'tDirNormW;'+'\x0a'),_0x1fd354['includes']('dLightDirW')&&(_0x481a7f+='vec3\x20dLigh'+'tDirW;\x0a'),_0x1fd354['includes']('dLightPosW')&&(_0x481a7f+='vec3\x20dLigh'+'tPosW;\x0a'),_0x1fd354['includes']('dShadowCoo'+'rd')&&(_0x481a7f+='vec3\x20dShad'+'owCoord;\x0a'),_0x1fd354['includes']('dReflectio'+'n')&&(_0x481a7f+='vec4\x20dRefl'+'ection;\x0a'),_0x1fd354['includes']('dDiffuseLi'+'ght')&&(_0x481a7f+='vec3\x20dDiff'+'useLight;\x0a'),_0x1fd354['includes']('dSpecularL'+'ight')&&(_0x481a7f+='vec3\x20dSpec'+'ularLight;'+'\x0a'),_0x1fd354['includes']('dAtten')&&(_0x481a7f+='float\x20dAtt'+'en;\x0a'),_0x1fd354['includes']('dAttenD')&&(_0x481a7f+='float\x20dAtt'+'enD;\x0a'),_0x1fd354['includes']('dAtten3')&&(_0x481a7f+='vec3\x20dAtte'+'n3;\x0a'),_0x1fd354['includes']('dMsdf')&&(_0x481a7f+='vec4\x20dMsdf'+';\x0a'),_0x1fd354['includes']('ccFresnel')&&(_0x481a7f+='float\x20ccFr'+'esnel;\x0a'),_0x1fd354['includes']('ccReflecti'+'on')&&(_0x481a7f+='vec3\x20ccRef'+'lection;\x0a'),_0x1fd354['includes']('ccSpecular'+'Light')&&(_0x481a7f+='vec3\x20ccSpe'+'cularLight'+';\x0a'),_0x1fd354['includes']('ccSpecular'+'ityNoFres')&&(_0x481a7f+='float\x20ccSp'+'ecularityN'+'oFres;\x0a'),_0x1fd354['includes']('sSpecularL'+'ight')&&(_0x481a7f+='vec3\x20sSpec'+'ularLight;'+'\x0a'),_0x1fd354['includes']('sReflectio'+'n')&&(_0x481a7f+='vec3\x20sRefl'+'ection;\x0a'),this['_fsGetBegi'+'nCode']()+this['varyings']+this['varyingDef'+'ines']+this['_fsGetBase'+'Code']()+_0x481a7f+this['frontendDe'+'cl']+_0x1fd354;}['generateFr'+'agmentShad'+'er'](_0x414434,_0x4b51cc,_0x32b4dd,_0x360920){const _0x517b65=this['options'];this['frontendDe'+'cl']=_0x414434,this['frontendCo'+'de']=_0x4b51cc,this['frontendFu'+'nc']=_0x32b4dd,this['lightingUv']=_0x360920,_0x517b65['pass']===Oa?this['fshader']=this['_fsGetPick'+'PassCode']():_0x517b65['pass']===rl?this['fshader']=this['_fsGetDept'+'hPassCode']():_0x517b65['pass']===il?this['fshader']=this['_fsGetPreP'+'assCode']():this['shadowPass']?this['fshader']=this['_fsGetShad'+'owPassCode']():_0x517b65['customFrag'+'mentShader']?this['fshader']=this['_fsGetBegi'+'nCode']()+_0x517b65['customFrag'+'mentShader']:this['fshader']=this['_fsGetLitP'+'assCode'](),v['assert'](!this['fshader']['includes']('litShaderA'+'rgs'),'Automatic\x20'+'compatibil'+'ity\x20with\x20s'+'haders\x20usi'+'ng\x20litShad'+'erArgs\x20has'+'\x20been\x20remo'+'ved.\x20Pleas'+'e\x20update\x20t'+'he\x20shader\x20'+'to\x20use\x20the'+'\x20new\x20syste'+'m.');}}class qC{constructor(){c(this,'hasTangent'+'s',!(0x13*-0x185+0xb4a+0x1196)),c(this,'chunks',{}),c(this,'pass',-0xb49+-0x1*-0x1c04+-0x10bb),c(this,'alphaTest',!(-0x1250+-0x4*0x234+0x1b21)),c(this,'blendType',is),c(this,'separateAm'+'bient',!(0x52*-0xb+0x1d06+-0x6b*0x3d)),c(this,'screenSpac'+'e',!(0xd72+-0x1d82+0x1011)),c(this,'skin',!(0x1*-0x21d+0x5*-0x35a+0x12e0)),c(this,'batch',!(-0x23*0x4b+-0x1*-0x1237+-0x1*0x7f5)),c(this,'useInstanc'+'ing',!(0x1075*-0x2+0x2*-0xeb9+0x3e5d)),c(this,'useMorphPo'+'sition',!(-0x1*0xc07+-0xd03*0x1+0x3*0x859)),c(this,'useMorphNo'+'rmal',!(0xf2a+-0x10b*-0xd+0x4*-0x72e)),c(this,'useMorphTe'+'xtureBased'+'Int',!(0x1959+-0x3a9*0x1+0x15af*-0x1)),c(this,'nineSliced'+'Mode',0xfff+-0xaa*0x14+-0x2b7),c(this,'clusteredL'+'ightingEna'+'bled',!(-0x1e03+0x37*0x10+-0x1a93*-0x1)),c(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(-0x14*-0x1cd+0x6*0x27e+-0x32f7)),c(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(0x3*-0x68b+0x1341+0x61)),c(this,'clusteredL'+'ightingSha'+'dowType',0x11*-0x21a+-0x1931+0x5*0xc2f),c(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(-0x1023+-0x49*0x11+0x14fd)),c(this,'vertexColo'+'rs',!(0x1c4f+0xba*-0x19+-0xec*0xb)),c(this,'lightMapEn'+'abled',!(-0x232c*-0x1+0x2*-0x18+0x2d*-0xc7)),c(this,'dirLightMa'+'pEnabled',!(-0x1f4d+0xe*-0xa7+0x2870)),c(this,'useHeights',!(-0x2*0xe9f+0x940+0x13ff)),c(this,'useNormals',!(0x5ad*0x1+-0x3*0x657+0xd59)),c(this,'useClearCo'+'atNormals',!(-0x39*0x49+-0x1*-0x1091+-0x4f)),c(this,'useAo',!(0x23d5+0x2*0x949+-0x4f2*0xb)),c(this,'diffuseMap'+'Enabled',!(-0x3d*-0x20+-0xc2+-0x6dd)),c(this,'customFrag'+'mentShader',null),c(this,'pixelSnap',!(-0x563*-0x5+0x1a87+-0x3575)),c(this,'ambientSH',!(-0x7*0x38a+0x26f7+-0x1c6*0x8)),c(this,'ssao',!(-0x61*-0x10+-0x1*-0x224e+-0x285d)),c(this,'twoSidedLi'+'ghting',!(0x14d2+0x1dfb+-0x32cc)),c(this,'occludeDir'+'ect',!(0x1*0x19d+0x7*0x24b+-0x11a9)),c(this,'occludeSpe'+'cular',-0x119*-0x5+0x1*-0x1689+0x110c),c(this,'occludeSpe'+'cularFloat',!(0x4*-0x2af+-0x2449*-0x1+0x3*-0x884)),c(this,'useMsdf',!(-0x4*0x1e1+-0x2f6*0x1+-0xa7b*-0x1)),c(this,'msdfTextAt'+'tribute',!(-0x12e9+0x40e*-0x6+-0x735*-0x6)),c(this,'alphaToCov'+'erage',!(0x1bd1*-0x1+0x196*-0x17+0x404c)),c(this,'opacityFad'+'esSpecular',!(-0xbe0+-0xf04+0x1ae5)),c(this,'opacityDit'+'her',Rs),c(this,'opacitySha'+'dowDither',Rs),c(this,'cubeMapPro'+'jection',-0x1741+0x1385+0x3bc),c(this,'useSpecula'+'r',!(0x14*-0x72+0x8ae+0x3b)),c(this,'useSpecula'+'rityFactor',!(-0x777+-0x5b*-0x5f+-0x1a4d)),c(this,'enableGGXS'+'pecular',!(-0x5*0x1e1+-0x1*-0x207d+-0x1717)),c(this,'fresnelMod'+'el',-0x2*0x1157+-0x15f8+0x38a6),c(this,'useRefract'+'ion',!(0x26e3+0x2b8+-0xd5*0x32)),c(this,'useClearCo'+'at',!(0x1*0x736+0xce1*0x2+0xafd*-0x3)),c(this,'useSheen',!(0x128*-0x6+-0x1076+-0x1767*-0x1)),c(this,'useIridesc'+'ence',!(-0x1*-0xcfe+-0x56f+0x78e*-0x1)),c(this,'useMetalne'+'ss',!(0x20bb+0x259*0x10+-0x464a)),c(this,'useDynamic'+'Refraction',!(0x1122+-0x198d*-0x1+-0x2aae)),c(this,'dispersion',!(-0x1*-0xc82+-0x2fe+0x5*-0x1e7)),c(this,'fog',Fa),c(this,'gamma',sl),c(this,'toneMap',-(-0x7f*-0x31+0x2d3*0x2+-0x2*0xefa)),c(this,'reflection'+'Source',null),c(this,'reflection'+'Encoding',null),c(this,'reflection'+'CubemapEnc'+'oding',null),c(this,'ambientSou'+'rce','constant'),c(this,'ambientEnc'+'oding',null),c(this,'skyboxInte'+'nsity',-0x1382+-0x49+0x13cc),c(this,'useCubeMap'+'Rotation',!(-0xa85+0xb94*0x2+-0xca2)),c(this,'lightMapWi'+'thoutAmbie'+'nt',!(0xa*0xb6+0xaf5*0x2+0x13*-0x187)),c(this,'lights',[]),c(this,'noShadow',!(0x13db+-0x973+-0xa67)),c(this,'lightMaskD'+'ynamic',-0x7ff*0x3+-0xb69*0x1+0x2e*0xc5),c(this,'userAttrib'+'utes',{}),c(this,'linearDept'+'h',!(0x1105+-0x1da+-0x50e*0x3));}}class Vh{constructor(){c(this,'defines',new Map()),c(this,'forceUv1',!(-0x2e9*0x1+0x181d*0x1+0xc9*-0x1b)),c(this,'specularTi'+'nt',!(-0x10f*-0x1f+-0x2*0x1d3+-0x1d2a)),c(this,'metalnessT'+'int',!(-0x1*-0x2d8+0x29*0x1f+-0x7ce)),c(this,'glossTint',!(0xe35*-0x1+0xf1*0x1f+0xef9*-0x1)),c(this,'emissiveEn'+'coding','linear'),c(this,'lightMapEn'+'coding','linear'),c(this,'packedNorm'+'al',!(-0x5*0x320+-0x3fc+0x1*0x139d)),c(this,'glossInver'+'t',!(0x12f5+0x1de+-0x14d2)),c(this,'sheenGloss'+'Invert',!(0x3*0xbf8+0x21e9+0x45d*-0x10)),c(this,'clearCoatG'+'lossInvert',!(0x2*-0x335+0x2*0x437+0x203*-0x1)),c(this,'useAO',!(0x865+-0x1f62+0x16fe)),c(this,'litOptions',new qC());}get['pass'](){return this['litOptions']['pass'];}}const Uu={'generateKey'(_0x6db5f1){return'lit'+Object['keys'](_0x6db5f1)['sort']()['map'](_0xcb80d6=>_0xcb80d6==='chunks'?Uu['generateCh'+'unksKey'](_0x6db5f1):_0xcb80d6==='lights'?Uu['generateLi'+'ghtsKey'](_0x6db5f1):_0xcb80d6+_0x6db5f1[_0xcb80d6])['join']('\x0a');},'generateLightsKey'(_0x3dc377){return'lights:'+_0x3dc377['lights']['map'](_0x5df683=>!_0x3dc377['clusteredL'+'ightingEna'+'bled']||_0x5df683['_type']===oe?_0x5df683['key']+',':'')['join']('');},'generateChunksKey'(_0x1febd8){return'chunks:\x0a'+Object['keys'](_0x1febd8['chunks']??{})['sort']()['map'](_0x159767=>_0x159767+_0x1febd8['chunks'][_0x159767])['join']('');}},fa=[],Ad=_0x224020=>Object['keys'](_0x224020)['filter'](_0x58c9ee=>_0x58c9ee!=='litOptions')['sort']();class XC extends It{constructor(){super(...arguments),c(this,'optionsCon'+'text',new Vh()),c(this,'optionsCon'+'textMin',new Vh());}['generateKe'+'y'](_0x4a712c){let _0x581ecd;return _0x4a712c===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Ad(_0x4a712c)),_0x581ecd=this['propsMin']):_0x4a712c===this['optionsCon'+'text']?(this['props']||(this['props']=Ad(_0x4a712c)),_0x581ecd=this['props']):_0x581ecd=Ad(_0x4a712c),'standard:\x0a'+It['definesHas'+'h'](_0x4a712c['defines'])+'\x0a'+_0x581ecd['map'](_0x2234de=>_0x2234de+_0x4a712c[_0x2234de])['join']('\x0a')+Uu['generateKe'+'y'](_0x4a712c['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x1d687e,_0x3b76fc,_0xb8605b){const _0x38472e=_0xb8605b[_0x1d687e],_0x3c92dd=_0xb8605b[_0x3b76fc],_0x6d3b3d=_0xb8605b['litOptions']['pass']===gn;let _0x3728eb;return _0x6d3b3d&&_0xb8605b['litOptions']['nineSliced'+'Mode']===nt||_0x6d3b3d&&_0xb8605b['litOptions']['nineSliced'+'Mode']===Qe?_0x3728eb='nineSliced'+'Uv':(_0x38472e===-0x3dc+0x1bdc+-0x1800?_0x3728eb='vUv'+_0x3c92dd:_0x3728eb='vUV'+_0x3c92dd+'_'+_0x38472e,_0xb8605b['heightMap']&&_0x1d687e!=='heightMapT'+'ransform'&&(_0x3728eb+='\x20+\x20dUvOffs'+'et')),_0x3728eb;}['_addMapDef'](_0x4e32e7,_0x113c83){return _0x113c83?'#define\x20'+_0x4e32e7+'\x0a':'#undef\x20'+_0x4e32e7+'\x0a';}['_addMapDef'+'s'](_0x2e3b0f,_0x270c53,_0x18c9a3,_0x4c4925,_0x9b67db){return this['_addMapDef']('MAPFLOAT',_0x2e3b0f)+this['_addMapDef']('MAPCOLOR',_0x270c53)+this['_addMapDef']('MAPVERTEX',_0x18c9a3)+this['_addMapDef']('MAPTEXTURE',_0x4c4925)+this['_addMapDef']('MAPINVERT',_0x9b67db);}['_addMap'](_0x552e3f,_0x44b3ca,_0x3823f2,_0x1c6454,_0x47d329,_0xa2d198=null){const _0x570df3=_0x552e3f+'Map',_0xd8966e=_0x570df3+'Uv',_0x8cb518=_0x570df3+'Identifier',_0x4a06df=_0x570df3+'Transform',_0x376897=_0x570df3+'Channel',_0x47cbd7=_0x552e3f+('VertexColo'+'rChannel'),_0x4a445d=_0x552e3f+'Tint',_0x39aa70=_0x552e3f+('VertexColo'+'r'),_0x811677=_0x552e3f+'Mode',_0x56eb69=_0x552e3f+'Invert',_0x235da6=_0x3823f2[_0x4a445d],_0x4150bb=_0x3823f2[_0x39aa70],_0xd6773f=_0x3823f2[_0x570df3],_0x595de3=_0x3823f2[_0x8cb518],_0x4b2f79=_0x3823f2[_0x811677];let _0x1266ad=_0x1c6454[_0x44b3ca];if(_0xd6773f){const _0xf1e3bf=this['_getUvSour'+'ceExpressi'+'on'](_0x4a06df,_0xd8966e,_0x3823f2);if(_0x1266ad=_0x1266ad['replace'](/\$UV/g,_0xf1e3bf)['replace'](/\$CH/g,_0x3823f2[_0x376897]),_0x47d329&&_0x1266ad['search'](/\$SAMPLER/g)!==-(0x49e+0x163c*-0x1+0x15b*0xd)){let _0x130294='texture_'+_0x570df3;const _0x579178=_0x47d329[_0x595de3];_0x579178?_0x130294=_0x579178:_0x47d329[_0x595de3]=_0x130294,_0x1266ad=_0x1266ad['replace'](/\$SAMPLER/g,_0x130294);}if(_0xa2d198&&(_0x3823f2[_0x376897]==='aaa'?_0x1266ad=_0x1266ad['replace'](/\$DECODE/g,'passThroug'+'h'):_0x1266ad=_0x1266ad['replace'](/\$DECODE/g,Es['decodeFunc'](_0xa2d198)),_0x1266ad['indexOf']('$texture2D'+'SAMPLE'))){const _0x3a09fd={'linear':'texture2D','srgb':'texture2DS'+'RGB','rgbm':'texture2DR'+'GBM','rgbe':'texture2DR'+'GBE'};_0x1266ad=_0x1266ad['replace'](/\$texture2DSAMPLE/g,_0x3a09fd[_0xa2d198]||'texture2D');}}_0x4150bb&&(_0x1266ad=_0x1266ad['replace'](/\$VC/g,_0x3823f2[_0x47cbd7])),_0x4b2f79&&(_0x1266ad=_0x1266ad['replace'](/\$DETAILMODE/g,_0x4b2f79));const _0x218360=!!(_0x235da6&0x7e+-0x1c21+0x1ba4),_0x1ccaab=!!(_0x235da6&-0x55*0xe+0x208b+0x3b*-0x79),_0x8a05bf=!!_0x3823f2[_0x56eb69];return _0x1266ad=this['_addMapDef'+'s'](_0x218360,_0x1ccaab,_0x4150bb,_0xd6773f,_0x8a05bf)+_0x1266ad,_0x1266ad['replace'](/\$/g,'');}['_correctCh'+'annel'](_0x446fbe,_0x3ec3e8,_0x5d16fe){if(_0x5d16fe[_0x446fbe]>0x85*0x3f+-0xd6c+-0x134f){if(_0x5d16fe[_0x446fbe]<_0x3ec3e8['length'])return _0x3ec3e8['substring'](-0x1a03+-0x2b*-0x42+0x1*0xeed,_0x5d16fe[_0x446fbe]);if(_0x5d16fe[_0x446fbe]>_0x3ec3e8['length']){let _0x3f77fe=_0x3ec3e8;const _0x38d57e=_0x3f77fe['charAt'](_0x3f77fe['length']-(-0x1c35+0x13b0+0x886)),_0x281ee4=_0x5d16fe[_0x446fbe]-_0x3f77fe['length'];for(let _0xeff04=0x18d4+-0x1*0x72e+0x8d3*-0x2;_0xeff04<_0x281ee4;_0xeff04++)_0x3f77fe+=_0x38d57e;return _0x3f77fe;}return _0x3ec3e8;}}['createShad'+'erDefiniti'+'on'](_0x125d53,_0x210908){const _0x42baa0=Ks['get'](_0x125d53)['getByIndex'](_0x210908['litOptions']['pass'])['isForward'],_0x494fbb=new $C(_0x125d53,_0x210908['litOptions']),_0x110e44=[],_0x9780ac=[],_0xbfd606=[],_0x184e4a=-0xad*-0x25+0x890+-0x218f,_0x1ffe1c={};for(const _0x29ec0b in fa){const _0x5da541=_0x29ec0b+'Map';if(_0x210908[_0x29ec0b+('VertexColo'+'r')]){const _0x5b1875=_0x29ec0b+('VertexColo'+'rChannel');_0x210908[_0x5b1875]=this['_correctCh'+'annel'](_0x29ec0b,_0x210908[_0x5b1875],fa);}if(_0x210908[_0x5da541]){const _0x341f40=_0x5da541+'Channel',_0x98818c=_0x5da541+'Transform',_0x438714=_0x5da541+'Uv';_0x210908[_0x438714]=Math['min'](_0x210908[_0x438714],_0x184e4a-(0x17*0x59+0x243a+0x4*-0xb0e)),_0x210908[_0x341f40]=this['_correctCh'+'annel'](_0x29ec0b,_0x210908[_0x341f40],fa);const _0x199fc2=_0x210908[_0x438714];_0x110e44[_0x199fc2]=!(0x1967+0x93*0x40+-0x8e1*0x7),_0x9780ac[_0x199fc2]=_0x9780ac[_0x199fc2]||_0x210908[_0x5da541]&&!_0x210908[_0x98818c],_0x210908[_0x98818c]&&_0xbfd606['push']({'name':_0x29ec0b,'id':_0x210908[_0x98818c],'uv':_0x210908[_0x438714]});}}_0x210908['forceUv1']&&(_0x110e44[-0xd4c+0x26c9+-0xe9*0x1c]=!(0x180a+0x529+-0x41*0x73),_0x9780ac[-0x160f+0x1ab7+-0x3*0x18d]=_0x9780ac[0x1b57+0x1*-0x17a2+-0x6*0x9e]!==void(0x1*-0x18ec+0x1f49*-0x1+0x3835)?_0x9780ac[0x25c*0x7+-0x14+0x259*-0x7]:!(0x1*0x1756+-0xa*0x21+-0x160c)),_0x494fbb['generateVe'+'rtexShader'](_0x110e44,_0x9780ac,_0xbfd606),_0x210908['litOptions']['fresnelMod'+'el']=_0x210908['litOptions']['fresnelMod'+'el']===0x57b+0x1c39+-0x3*0xb3c?Sp:_0x210908['litOptions']['fresnelMod'+'el'];const _0x3902f2=new sr(),_0x342f1a=new sr(),_0x141e55=new sr(),_0x52e728=new sr();let _0x22203e='';if(_0x210908['litOptions']['nineSliced'+'Mode']===Qe?_0x3902f2['append']('const\x20floa'+'t\x20textureB'+'ias\x20=\x20-100'+'0.0;'):_0x3902f2['append']('uniform\x20fl'+'oat\x20textur'+'eBias;'),_0x42baa0){if(_0x210908['heightMap']&&(_0x3902f2['append']('vec2\x20dUvOf'+'fset;'),_0x342f1a['append'](this['_addMap']('height','parallaxPS',_0x210908,_0x494fbb['chunks'],_0x1ffe1c)),_0x141e55['append']('getParalla'+'x();')),_0x210908['litOptions']['blendType']!==is||_0x210908['litOptions']['alphaTest']||_0x210908['litOptions']['alphaToCov'+'erage']||_0x210908['litOptions']['opacityDit'+'her']!==Rs){_0x3902f2['append']('float\x20dAlp'+'ha;'),_0x342f1a['append'](this['_addMap']('opacity','opacityPS',_0x210908,_0x494fbb['chunks'],_0x1ffe1c)),_0x141e55['append']('getOpacity'+'();'),_0x52e728['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x210908['litOptions']['alphaTest']&&(_0x342f1a['append'](_0x494fbb['chunks']['alphaTestP'+'S']),_0x141e55['append']('alphaTest('+'dAlpha);'));const _0x54e150=_0x210908['litOptions']['opacityDit'+'her'];_0x54e150!==Rs&&(_0x54e150===Nm&&_0x3902f2['append'](_0x494fbb['chunks']['bayerPS']),_0x3902f2['append']('#define\x20DI'+'THER_'+_0x54e150['toUpperCas'+'e']()+'\x0a'),_0x3902f2['append'](_0x494fbb['chunks']['opacityDit'+'herPS']),_0x141e55['append']('opacityDit'+'her(dAlpha'+',\x200.0);'));}else _0x3902f2['append']('float\x20dAlp'+'ha\x20=\x201.0;');if(_0x494fbb['needsNorma'+'l']){if((_0x210908['normalMap']||_0x210908['clearCoatN'+'ormalMap'])&&(_0x342f1a['append'](_0x210908['packedNorm'+'al']?_0x494fbb['chunks']['normalXYPS']:_0x494fbb['chunks']['normalXYZP'+'S']),!_0x210908['litOptions']['hasTangent'+'s'])){const _0x2a0e26=_0x210908['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x22203e=this['_getUvSour'+'ceExpressi'+'on'](_0x2a0e26+'Transform',_0x2a0e26+'Uv',_0x210908);}_0x3902f2['append']('vec3\x20dNorm'+'alW;'),_0x342f1a['append'](this['_addMap']('normalDeta'+'il','normalDeta'+'ilMapPS',_0x210908,_0x494fbb['chunks'],_0x1ffe1c)),_0x342f1a['append'](this['_addMap']('normal','normalMapP'+'S',_0x210908,_0x494fbb['chunks'],_0x1ffe1c)),_0x141e55['append']('getNormal('+');'),_0x52e728['append']('litArgs_wo'+'rldNormal\x20'+'=\x20dNormalW'+';');}if(_0x494fbb['needsScene'+'Color']&&_0x3902f2['append']('uniform\x20sa'+'mpler2D\x20uS'+'ceneColorM'+'ap;'),_0x494fbb['needsScree'+'nSize']&&_0x3902f2['append']('uniform\x20ve'+'c4\x20uScreen'+'Size;'),_0x494fbb['needsTrans'+'forms']&&(_0x3902f2['append']('uniform\x20ma'+'t4\x20matrix_'+'viewProjec'+'tion;'),_0x3902f2['append']('uniform\x20ma'+'t4\x20matrix_'+'model;')),(_0x210908['diffuseDet'+'ail']||_0x210908['aoDetail'])&&_0x342f1a['append'](_0x494fbb['chunks']['detailMode'+'sPS']),_0x3902f2['append']('vec3\x20dAlbe'+'do;'),_0x210908['diffuseDet'+'ail']&&_0x342f1a['append'](this['_addMap']('diffuseDet'+'ail','diffuseDet'+'ailMapPS',_0x210908,_0x494fbb['chunks'],_0x1ffe1c,_0x210908['diffuseDet'+'ailEncodin'+'g'])),_0x342f1a['append'](this['_addMap']('diffuse','diffusePS',_0x210908,_0x494fbb['chunks'],_0x1ffe1c,_0x210908['diffuseEnc'+'oding'])),_0x141e55['append']('getAlbedo('+');'),_0x52e728['append']('litArgs_al'+'bedo\x20=\x20dAl'+'bedo;'),_0x210908['litOptions']['useRefract'+'ion']&&(_0x3902f2['append']('float\x20dTra'+'nsmission;'),_0x342f1a['append'](this['_addMap']('refraction','transmissi'+'onPS',_0x210908,_0x494fbb['chunks'],_0x1ffe1c)),_0x141e55['append']('getRefract'+'ion();'),_0x52e728['append']('litArgs_tr'+'ansmission'+'\x20=\x20dTransm'+'ission;'),_0x3902f2['append']('float\x20dThi'+'ckness;'),_0x342f1a['append'](this['_addMap']('thickness','thicknessP'+'S',_0x210908,_0x494fbb['chunks'],_0x1ffe1c)),_0x141e55['append']('getThickne'+'ss();'),_0x52e728['append']('litArgs_th'+'ickness\x20=\x20'+'dThickness'+';'),_0x210908['litOptions']['dispersion']&&_0x52e728['append']('litArgs_di'+'spersion\x20='+'\x20material_'+'dispersion'+';')),_0x210908['litOptions']['useIridesc'+'ence']&&(_0x3902f2['append']('float\x20dIri'+'descence;'),_0x342f1a['append'](this['_addMap']('iridescenc'+'e','iridescenc'+'ePS',_0x210908,_0x494fbb['chunks'],_0x1ffe1c)),_0x141e55['append']('getIridesc'+'ence();'),_0x52e728['append']('litArgs_ir'+'idescence_'+'intensity\x20'+'=\x20dIridesc'+'ence;'),_0x3902f2['append']('float\x20dIri'+'descenceTh'+'ickness;'),_0x342f1a['append'](this['_addMap']('iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x210908,_0x494fbb['chunks'],_0x1ffe1c)),_0x141e55['append']('getIridesc'+'enceThickn'+'ess();'),_0x52e728['append']('litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;')),_0x494fbb['lighting']&&_0x210908['litOptions']['useSpecula'+'r']||_0x494fbb['reflection'+'s']?(_0x3902f2['append']('vec3\x20dSpec'+'ularity;'),_0x3902f2['append']('float\x20dGlo'+'ssiness;'),_0x210908['litOptions']['useSheen']&&(_0x3902f2['append']('vec3\x20sSpec'+'ularity;'),_0x342f1a['append'](this['_addMap']('sheen','sheenPS',_0x210908,_0x494fbb['chunks'],_0x1ffe1c,_0x210908['sheenEncod'+'ing'])),_0x141e55['append']('getSheen()'+';'),_0x52e728['append']('litArgs_sh'+'een_specul'+'arity\x20=\x20sS'+'pecularity'+';'),_0x3902f2['append']('float\x20sGlo'+'ssiness;'),_0x342f1a['append'](this['_addMap']('sheenGloss','sheenGloss'+'PS',_0x210908,_0x494fbb['chunks'],_0x1ffe1c)),_0x141e55['append']('getSheenGl'+'ossiness()'+';'),_0x52e728['append']('litArgs_sh'+'een_gloss\x20'+'=\x20sGlossin'+'ess;')),_0x210908['litOptions']['useMetalne'+'ss']&&(_0x3902f2['append']('float\x20dMet'+'alness;'),_0x342f1a['append'](this['_addMap']('metalness','metalnessP'+'S',_0x210908,_0x494fbb['chunks'],_0x1ffe1c)),_0x141e55['append']('getMetalne'+'ss();'),_0x52e728['append']('litArgs_me'+'talness\x20=\x20'+'dMetalness'+';'),_0x3902f2['append']('float\x20dIor'+';'),_0x342f1a['append'](this['_addMap']('ior','iorPS',_0x210908,_0x494fbb['chunks'],_0x1ffe1c)),_0x141e55['append']('getIor();'),_0x52e728['append']('litArgs_io'+'r\x20=\x20dIor;')),_0x210908['litOptions']['useSpecula'+'rityFactor']&&(_0x3902f2['append']('float\x20dSpe'+'cularityFa'+'ctor;'),_0x342f1a['append'](this['_addMap']('specularit'+'yFactor','specularit'+'yFactorPS',_0x210908,_0x494fbb['chunks'],_0x1ffe1c)),_0x141e55['append']('getSpecula'+'rityFactor'+'();'),_0x52e728['append']('litArgs_sp'+'ecularityF'+'actor\x20=\x20dS'+'pecularity'+'Factor;')),_0x210908['useSpecula'+'rColor']?_0x342f1a['append'](this['_addMap']('specular','specularPS',_0x210908,_0x494fbb['chunks'],_0x1ffe1c,_0x210908['specularEn'+'coding'])):_0x342f1a['append']('void\x20getSp'+'ecularity('+')\x20{\x20dSpecu'+'larity\x20=\x20v'+'ec3(1);\x20}'),_0x342f1a['append'](this['_addMap']('gloss','glossPS',_0x210908,_0x494fbb['chunks'],_0x1ffe1c)),_0x141e55['append']('getGlossin'+'ess();'),_0x141e55['append']('getSpecula'+'rity();'),_0x52e728['append']('litArgs_sp'+'ecularity\x20'+'=\x20dSpecula'+'rity;'),_0x52e728['append']('litArgs_gl'+'oss\x20=\x20dGlo'+'ssiness;')):(_0x3902f2['append']('vec3\x20dSpec'+'ularity\x20=\x20'+'vec3(0.0);'),_0x3902f2['append']('float\x20dGlo'+'ssiness\x20=\x20'+'0.0;')),_0x210908['aoDetail']&&_0x342f1a['append'](this['_addMap']('aoDetail','aoDetailMa'+'pPS',_0x210908,_0x494fbb['chunks'],_0x1ffe1c)),(_0x210908['aoMap']||_0x210908['aoVertexCo'+'lor']||_0x210908['useAO'])&&(_0x3902f2['append']('float\x20dAo;'),_0x342f1a['append'](this['_addMap']('ao','aoPS',_0x210908,_0x494fbb['chunks'],_0x1ffe1c)),_0x141e55['append']('getAO();'),_0x52e728['append']('litArgs_ao'+'\x20=\x20dAo;')),_0x3902f2['append']('vec3\x20dEmis'+'sion;'),_0x342f1a['append'](this['_addMap']('emissive','emissivePS',_0x210908,_0x494fbb['chunks'],_0x1ffe1c,_0x210908['emissiveEn'+'coding'])),_0x141e55['append']('getEmissio'+'n();'),_0x52e728['append']('litArgs_em'+'ission\x20=\x20d'+'Emission;'),_0x210908['litOptions']['useClearCo'+'at']&&(_0x3902f2['append']('float\x20ccSp'+'ecularity;'),_0x3902f2['append']('float\x20ccGl'+'ossiness;'),_0x3902f2['append']('vec3\x20ccNor'+'malW;'),_0x342f1a['append'](this['_addMap']('clearCoat','clearCoatP'+'S',_0x210908,_0x494fbb['chunks'],_0x1ffe1c)),_0x342f1a['append'](this['_addMap']('clearCoatG'+'loss','clearCoatG'+'lossPS',_0x210908,_0x494fbb['chunks'],_0x1ffe1c)),_0x342f1a['append'](this['_addMap']('clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x210908,_0x494fbb['chunks'],_0x1ffe1c)),_0x141e55['append']('getClearCo'+'at();'),_0x141e55['append']('getClearCo'+'atGlossine'+'ss();'),_0x141e55['append']('getClearCo'+'atNormal()'+';'),_0x52e728['append']('litArgs_cl'+'earcoat_sp'+'ecularity\x20'+'=\x20ccSpecul'+'arity;'),_0x52e728['append']('litArgs_cl'+'earcoat_gl'+'oss\x20=\x20ccGl'+'ossiness;'),_0x52e728['append']('litArgs_cl'+'earcoat_wo'+'rldNormal\x20'+'=\x20ccNormal'+'W;')),_0x210908['lightMap']||_0x210908['lightVerte'+'xColor']){const _0x30801a=_0x210908['dirLightMa'+'p']&&_0x210908['litOptions']['useSpecula'+'r'],_0x28e85b=_0x30801a?'lightmapDi'+'rPS':'lightmapSi'+'nglePS';_0x3902f2['append']('vec3\x20dLigh'+'tmap;'),_0x30801a&&_0x3902f2['append']('vec3\x20dLigh'+'tmapDir;'),_0x342f1a['append'](this['_addMap']('light',_0x28e85b,_0x210908,_0x494fbb['chunks'],_0x1ffe1c,_0x210908['lightMapEn'+'coding'])),_0x141e55['append']('getLightMa'+'p();'),_0x52e728['append']('litArgs_li'+'ghtmap\x20=\x20d'+'Lightmap;'),_0x30801a&&_0x52e728['append']('litArgs_li'+'ghtmapDir\x20'+'=\x20dLightma'+'pDir;');}v['assert'](_0x342f1a['code']['indexOf']('texture2DS'+'RGB')===-(-0x207*-0x13+0xb*-0x209+0x1*-0x1021)&&_0x342f1a['code']['indexOf']('texture2DR'+'GBM')===-(0x1e7*0x5+0xca9*0x2+-0x22d4)&&_0x342f1a['code']['indexOf']('texture2DR'+'GBE')===-(-0x5*-0x51b+-0x8*-0x133+-0x1*0x231e),'Shader\x20chu'+'nk\x20macro\x20$'+'texture2DS'+'AMPLE(XXX)'+'\x20is\x20deprec'+'ated.\x20Plea'+'se\x20use\x20$DE'+'CODE(textu'+'re2D(XXX))'+'\x20instead.');}else{const _0xa5259a=_0x210908['litOptions']['opacitySha'+'dowDither'];(_0x210908['litOptions']['alphaTest']||_0xa5259a)&&(_0x3902f2['append']('float\x20dAlp'+'ha;'),_0x342f1a['append'](this['_addMap']('opacity','opacityPS',_0x210908,_0x494fbb['chunks'],_0x1ffe1c)),_0x141e55['append']('getOpacity'+'();'),_0x52e728['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x210908['litOptions']['alphaTest']&&(_0x342f1a['append'](_0x494fbb['chunks']['alphaTestP'+'S']),_0x141e55['append']('alphaTest('+'dAlpha);')),_0xa5259a!==Rs&&(_0xa5259a===Nm&&_0x3902f2['append'](_0x494fbb['chunks']['bayerPS']),_0x3902f2['append']('#define\x20DI'+'THER_'+_0xa5259a['toUpperCas'+'e']()+'\x0a'),_0x3902f2['append'](_0x494fbb['chunks']['opacityDit'+'herPS']),_0x141e55['append']('opacityDit'+'her(dAlpha'+',\x200.0);')));}_0x3902f2['append'](_0x494fbb['chunks']['litShaderA'+'rgsPS']),_0x342f1a['append']('void\x20evalu'+'ateFronten'+'d()\x20{\x20\x0a'+_0x141e55['code']+'\x0a'+_0x52e728['code']+'\x0a\x20}\x0a'),_0x141e55['code']='evaluateFr'+'ontend();';for(const _0x3966cc in _0x1ffe1c)_0x3902f2['append']('uniform\x20sa'+'mpler2D\x20'+_0x1ffe1c[_0x3966cc]+';');_0x141e55['code']='\x0a'+_0x141e55['code']['split']('\x0a')['map'](_0xe90683=>'\x20\x20\x20\x20'+_0xe90683)['join']('\x0a')+'\x0a\x0a',_0x494fbb['generateFr'+'agmentShad'+'er'](_0x3902f2['code'],_0x342f1a['code'],_0x141e55['code'],_0x22203e);const _0x5590b2=new Map(Object['entries']({...Object['getPrototy'+'peOf'](_0x494fbb['chunks']),..._0x494fbb['chunks'],..._0x210908['litOptions']['chunks']})),_0x5f10a0=new Map(_0x210908['defines']),_0x1f328e=Mt['createDefi'+'nition'](_0x125d53,{'name':'StandardSh'+'ader','attributes':_0x494fbb['attributes'],'vertexCode':_0x494fbb['vshader'],'fragmentCode':_0x494fbb['fshader'],'vertexIncludes':_0x5590b2,'fragmentIncludes':_0x5590b2,'fragmentDefines':_0x5f10a0,'vertexDefines':_0x5f10a0});return _0x494fbb['shaderPass'+'Info']['isForward']&&(_0x1f328e['tag']=Ly),_0x1f328e;}}const Ed=new XC(),Ft=[];Ft[n0]={'src':at,'dst':at,'op':ES},Ft[is]={'src':at,'dst':kf,'op':Lt},Ft[Kt]={'src':dc,'dst':uc,'op':Lt,'alphaSrc':at},Ft[hr]={'src':at,'dst':uc,'op':Lt},Ft[yp]={'src':at,'dst':at,'op':Lt},Ft[Hc]={'src':dc,'dst':at,'op':Lt},Ft[a0]={'src':dy,'dst':TS,'op':Lt},Ft[o0]={'src':AS,'dst':at,'op':Lt},Ft[xp]={'src':dy,'dst':kf,'op':Lt},Ft[l0]={'src':at,'dst':at,'op':CS},Ft[h0]={'src':at,'dst':at,'op':MS};let jC=0x14d9+0xbfb+-0x20d4;class yn{constructor(){c(this,'meshInstan'+'ces',[]),c(this,'name','Untitled'),c(this,'userId',''),c(this,'id',jC++),c(this,'variants',new Map()),c(this,'defines',new Map()),c(this,'_definesDi'+'rty',!(-0x794+0x49*0x67+-0x15ca*0x1)),c(this,'parameters',{}),c(this,'alphaTest',0x1242+0x10f*-0x9+0x2e9*-0x3),c(this,'alphaToCov'+'erage',!(-0x1*0x145c+0x2192+-0x7*0x1e3)),c(this,'_blendStat'+'e',new _t()),c(this,'_depthStat'+'e',new as()),c(this,'cull',rn),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'_chunks',{}),c(this,'_dirtyShad'+'er',!(0x1*0x4a3+-0x1*-0x207e+-0x2521)),c(this,'_shaderVer'+'sion',-0x11*-0x106+0x1*0x1c37+-0x2d9d*0x1),c(this,'_scene',null),c(this,'dirty',!(-0x3*0x212+-0xaee*-0x3+0xbd*-0x24)),new.target===yn&&v['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}set['chunks'](_0x20ed16){this['_dirtyShad'+'er']=!(0xd3*0x5+0x12a8+-0x31*0x77),this['_chunks']=_0x20ed16;}get['chunks'](){return this['_dirtyShad'+'er']=!(-0x19*0xed+0x24b1+-0xd8c),this['_chunks'];}set['depthBias'](_0x138d09){this['_depthStat'+'e']['depthBias']=_0x138d09;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x466a9c){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x466a9c;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x4550c0){this['_blendStat'+'e']['redWrite']=_0x4550c0;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x38049a){this['_blendStat'+'e']['greenWrite']=_0x38049a;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x5b8762){this['_blendStat'+'e']['blueWrite']=_0x5b8762;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x547ec4){this['_blendStat'+'e']['alphaWrite']=_0x547ec4;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x3ad494=this['transparen'+'t'],_0x4f6bea=this['meshInstan'+'ces'];for(let _0x17a1ee=-0x25ea+0xbaa+0x1a40;_0x17a1ee<_0x4f6bea['length'];_0x17a1ee++)_0x4f6bea[_0x17a1ee]['transparen'+'t']=_0x3ad494;}set['blendState'](_0x367527){this['_blendStat'+'e']['copy'](_0x367527),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x46740c){const _0x404824=Ft[_0x46740c];v['assert'](_0x404824,'Unknown\x20bl'+'end\x20mode\x20'+_0x46740c),this['_blendStat'+'e']['setColorBl'+'end'](_0x404824['op'],_0x404824['src'],_0x404824['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x404824['alphaOp']??_0x404824['op'],_0x404824['alphaSrc']??_0x404824['src'],_0x404824['alphaDst']??_0x404824['dst']);const _0xab593e=_0x46740c!==is;this['_blendStat'+'e']['blend']!==_0xab593e&&(this['_blendStat'+'e']['blend']=_0xab593e,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return is;const {colorOp:_0x41e6af,colorSrcFactor:_0x1f84f1,colorDstFactor:_0x360e08,alphaOp:_0x9ef530,alphaSrcFactor:_0x512952,alphaDstFactor:_0x2d0e96}=this['_blendStat'+'e'];for(let _0x274691=-0x4dd*0x5+0x1*-0x843+0x2094;_0x274691<Ft['length'];_0x274691++){const _0x5a23c0=Ft[_0x274691];if(_0x5a23c0['src']===_0x1f84f1&&_0x5a23c0['dst']===_0x360e08&&_0x5a23c0['op']===_0x41e6af&&_0x5a23c0['src']===_0x512952&&_0x5a23c0['dst']===_0x2d0e96&&_0x5a23c0['op']===_0x9ef530)return _0x274691;}return Kt;}set['depthState'](_0x1f3091){this['_depthStat'+'e']['copy'](_0x1f3091);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x5f3788){this['_depthStat'+'e']['test']=_0x5f3788;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0xd48e41){this['_depthStat'+'e']['func']=_0xd48e41;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x55ced3){this['_depthStat'+'e']['write']=_0x55ced3;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x2bdf0d){var _0x40dd78;this['name']=_0x2bdf0d['name'],this['alphaTest']=_0x2bdf0d['alphaTest'],this['alphaToCov'+'erage']=_0x2bdf0d['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x2bdf0d['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x2bdf0d['_depthStat'+'e']),this['cull']=_0x2bdf0d['cull'],this['stencilFro'+'nt']=(_0x40dd78=_0x2bdf0d['stencilFro'+'nt'])==null?void(-0x2084+0x1f74+0x110):_0x40dd78['clone'](),_0x2bdf0d['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x2bdf0d['stencilFro'+'nt']===_0x2bdf0d['stencilBac'+'k']?this['stencilFro'+'nt']:_0x2bdf0d['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x5f13b4 in _0x2bdf0d['parameters'])_0x2bdf0d['parameters']['hasOwnProp'+'erty'](_0x5f13b4)&&this['_setParame'+'terSimple'](_0x5f13b4,_0x2bdf0d['parameters'][_0x5f13b4]['data']);this['defines']['clear'](),_0x2bdf0d['defines']['forEach']((_0x1ade6d,_0x5e9028)=>this['defines']['set'](_0x5e9028,_0x1ade6d));const _0xa0f598=_0x2bdf0d['_chunks'];for(const _0x2e568b in _0xa0f598)_0xa0f598['hasOwnProp'+'erty'](_0x2e568b)&&(this['_chunks'][_0x2e568b]=_0xa0f598[_0x2e568b]);return this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x21e080=this['meshInstan'+'ces'];for(let _0x289147=-0x59*-0x38+-0x1cea+0x1f*0x4e;_0x289147<_0x21e080['length'];_0x289147++)_0x21e080[_0x289147]['updateKey']();}['updateUnif'+'orms'](_0x37a010,_0x155d50){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x5043e7){v['assert'](!(0x49*-0x21+0x16d2+0x16*-0x9c),'Not\x20implem'+'ented');}['update'](){this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(-0x2*-0x1349+0x7*0x121+0x2*-0x173c),this['clearVaria'+'nts']()),this['dirty']=!(0x57a+0x1*0x2045+-0x25bf);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x368f31=this['meshInstan'+'ces'],_0x471437=_0x368f31['length'];for(let _0x50e4c6=-0x25e8+0xbb1*0x1+0x1a37;_0x50e4c6<_0x471437;_0x50e4c6++)_0x368f31[_0x50e4c6]['clearShade'+'rs']();}['getParamet'+'er'](_0x3f60e3){return this['parameters'][_0x3f60e3];}['_setParame'+'terSimple'](_0x41ae15,_0x12511a){v['call'](()=>{_0x12511a===void(0x1b81+-0x10a2+0xb*-0xfd)&&v['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x41ae15+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'));});const _0x25c82d=this['parameters'][_0x41ae15];_0x25c82d?_0x25c82d['data']=_0x12511a:this['parameters'][_0x41ae15]={'scopeId':null,'data':_0x12511a};}['setParamet'+'er'](_0x498efd,_0x158e1a){if(_0x158e1a===void(-0x22bc+0x1*-0x20bf+0x437b)&&typeof _0x498efd=='object'){const _0x11b7a4=_0x498efd;if(_0x11b7a4['length']){for(let _0x5b2d77=0xcba+0x1*-0x1ec9+0x120f;_0x5b2d77<_0x11b7a4['length'];_0x5b2d77++)this['setParamet'+'er'](_0x11b7a4[_0x5b2d77]);return;}_0x498efd=_0x11b7a4['name'],_0x158e1a=_0x11b7a4['value'];}this['_setParame'+'terSimple'](_0x498efd,_0x158e1a);}['deletePara'+'meter'](_0x46633b){this['parameters'][_0x46633b]&&delete this['parameters'][_0x46633b];}['setParamet'+'ers'](_0x3e713a,_0x3da258){const _0x2bcf14=this['parameters'];_0x3da258===void(-0x258d*0x1+0x2dd*0x7+-0x1*-0x1182)&&(_0x3da258=_0x2bcf14);for(const _0x447742 in _0x3da258){const _0x2bfb2e=_0x2bcf14[_0x447742];_0x2bfb2e&&(_0x2bfb2e['scopeId']||(_0x2bfb2e['scopeId']=_0x3e713a['scope']['resolve'](_0x447742)),_0x2bfb2e['scopeId']['setValue'](_0x2bfb2e['data']));}}['setDefine'](_0x381ac5,_0x3194dd){let _0x1e0e32=!(0x4e3+-0x5*0x2f+-0x3f7);const {defines:_0x2ce0bc}=this;_0x3194dd!==void(-0x23fd+0x745+0x1cb8)&&_0x3194dd!==!(0x2e1+0x1*-0x797+0x4b7)?(_0x1e0e32=!_0x2ce0bc['has'](_0x381ac5)||_0x2ce0bc['get'](_0x381ac5)!==_0x3194dd,_0x2ce0bc['set'](_0x381ac5,_0x3194dd)):(_0x1e0e32=_0x2ce0bc['has'](_0x381ac5),_0x2ce0bc['delete'](_0x381ac5)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x1e0e32);}['getDefine'](_0x46892a){return this['defines']['has'](_0x46892a);}['destroy'](){this['variants']['clear']();for(let _0x308970=-0x3*-0x3+-0xfd9+0xfd0;_0x308970<this['meshInstan'+'ces']['length'];_0x308970++){const _0x489cee=this['meshInstan'+'ces'][_0x308970];if(_0x489cee['clearShade'+'rs'](),_0x489cee['_material']=null,_0x489cee['mesh']){const _0x3f9434=al(_0x489cee['mesh']['device']);this!==_0x3f9434&&(_0x489cee['material']=_0x3f9434);}else v['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=-0x1*0x1ffa+0x1e01*-0x1+-0x3*-0x14a9;}['addMeshIns'+'tanceRef'](_0xf82f90){this['meshInstan'+'ces']['push'](_0xf82f90);}['removeMesh'+'InstanceRe'+'f'](_0x4593db){const _0x3729af=this['meshInstan'+'ces'],_0xdf15fe=_0x3729af['indexOf'](_0x4593db);_0xdf15fe!==-(0x1*0x1c8d+0x8*-0xcb+-0xe*0x196)&&_0x3729af['splice'](_0xdf15fe,-0x2da*0x7+0x5c1+0xe36*0x1);}}class As{static['update'](_0x297e73,_0x309a58,_0x48fc53,_0x3a7f88,_0x1040e7,_0x5e104d,_0x565d78){As['updateShar'+'edOptions'](_0x297e73,_0x309a58,_0x48fc53,_0x1040e7,_0x5e104d),As['updateMate'+'rialOption'+'s'](_0x297e73,_0x309a58),As['updateEnvO'+'ptions'](_0x297e73,_0x309a58,_0x48fc53,_0x3a7f88),As['updateLigh'+'tingOption'+'s'](_0x297e73,_0x309a58,_0x1040e7,_0x565d78);}static['updateShar'+'edOptions'](_0x31afac,_0x58dfa9,_0x1a515e,_0x5d80cc,_0x2e312b){_0x31afac['chunks']=_0x58dfa9['chunks'],_0x31afac['pass']=_0x2e312b,_0x31afac['alphaTest']=_0x58dfa9['alphaTest']>0x151b+0x1b*0xc5+-0x29e2,_0x31afac['blendType']=_0x58dfa9['blendType'],_0x31afac['screenSpac'+'e']=_0x5d80cc&&(_0x5d80cc&Cp)!==0xd4+-0xe58+0x14*0xad,_0x31afac['skin']=_0x5d80cc&&(_0x5d80cc&Wc)!==-0x1*0x1b1a+-0x366+-0x20*-0xf4,_0x31afac['useInstanc'+'ing']=_0x5d80cc&&(_0x5d80cc&$c)!==-0x1e7d+-0x5*-0x51c+0x4f1*0x1,_0x31afac['useMorphPo'+'sition']=_0x5d80cc&&(_0x5d80cc&qc)!==0xd49+-0x25ed+0x18a4,_0x31afac['useMorphNo'+'rmal']=_0x5d80cc&&(_0x5d80cc&Xc)!==-0x1116+0x15df+-0x19*0x31,_0x31afac['useMorphTe'+'xtureBased'+'Int']=_0x5d80cc&&(_0x5d80cc&jc)!==-0x223*0x11+0x151b+0x79c*0x2,_0x31afac['hasTangent'+'s']=_0x5d80cc&&(_0x5d80cc&Mp)!==-0xb2f+0x1*-0x26fa+-0x1*-0x3229,_0x31afac['nineSliced'+'Mode']=_0x58dfa9['nineSliced'+'Mode']||Ti,_0x58dfa9['useLightin'+'g']&&_0x1a515e['clusteredL'+'ightingEna'+'bled']?(_0x31afac['clusteredL'+'ightingEna'+'bled']=!(0x5*0x19b+-0x1ae7+-0x12e*-0x10),_0x31afac['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x1a515e['lighting']['cookiesEna'+'bled'],_0x31afac['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x1a515e['lighting']['shadowsEna'+'bled'],_0x31afac['clusteredL'+'ightingSha'+'dowType']=_0x1a515e['lighting']['shadowType'],_0x31afac['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x1a515e['lighting']['areaLights'+'Enabled']):(_0x31afac['clusteredL'+'ightingEna'+'bled']=!(0x2b*-0x67+0x69+0x10e5),_0x31afac['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0x2*-0xea4+0x1dcf+-0x86),_0x31afac['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x43*-0x29+0x191a+-0xe5e),_0x31afac['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x16f6*0x1+0x37d*0x5+-0x2866*0x1));}static['updateMate'+'rialOption'+'s'](_0x588d87,_0x1a3101){_0x588d87['separateAm'+'bient']=!(-0x19a1+-0x12e0+0x1a6*0x1b),_0x588d87['customFrag'+'mentShader']=null,_0x588d87['pixelSnap']=_0x1a3101['pixelSnap'],_0x588d87['ambientSH']=_0x1a3101['ambientSH'],_0x588d87['twoSidedLi'+'ghting']=_0x1a3101['twoSidedLi'+'ghting'],_0x588d87['occludeDir'+'ect']=_0x1a3101['occludeDir'+'ect'],_0x588d87['occludeSpe'+'cular']=_0x1a3101['occludeSpe'+'cular'],_0x588d87['occludeSpe'+'cularFloat']=_0x1a3101['occludeSpe'+'cularInten'+'sity']!==-0x1721+-0x2*-0x907+0x2*0x28a,_0x588d87['useMsdf']=!(0xc8b*-0x1+-0x740*-0x5+0x29*-0x94),_0x588d87['msdfTextAt'+'tribute']=!(0x1*-0x2146+0x1*0x2594+-0x3*0x16f),_0x588d87['alphaToCov'+'erage']=_0x1a3101['alphaToCov'+'erage'],_0x588d87['opacityFad'+'esSpecular']=_0x1a3101['opacityFad'+'esSpecular'],_0x588d87['opacityDit'+'her']=_0x1a3101['opacityDit'+'her'],_0x588d87['cubeMapPro'+'jection']=u0,_0x588d87['useSpecula'+'r']=_0x1a3101['hasSpecula'+'r'],_0x588d87['useSpecula'+'rityFactor']=_0x1a3101['hasSpecula'+'rityFactor'],_0x588d87['enableGGXS'+'pecular']=_0x1a3101['ggxSpecula'+'r'],_0x588d87['fresnelMod'+'el']=_0x1a3101['fresnelMod'+'el'],_0x588d87['useRefract'+'ion']=_0x1a3101['hasRefract'+'ion'],_0x588d87['useClearCo'+'at']=_0x1a3101['hasClearCo'+'at'],_0x588d87['useSheen']=_0x1a3101['hasSheen'],_0x588d87['useIridesc'+'ence']=_0x1a3101['hasIrrides'+'cence'],_0x588d87['useMetalne'+'ss']=_0x1a3101['hasMetalne'+'ss'],_0x588d87['useDynamic'+'Refraction']=_0x1a3101['dynamicRef'+'raction'],_0x588d87['dispersion']=_0x1a3101['dispersion']>0x2171+0x1ccb+-0xf8f*0x4,_0x588d87['vertexColo'+'rs']=!(0x43b+-0x16fd+0x12c3*0x1),_0x588d87['lightMapEn'+'abled']=_0x1a3101['hasLightin'+'g'],_0x588d87['dirLightMa'+'pEnabled']=_0x1a3101['dirLightMa'+'p'],_0x588d87['useHeights']=_0x1a3101['hasHeights'],_0x588d87['useNormals']=_0x1a3101['hasNormals'],_0x588d87['useClearCo'+'atNormals']=_0x1a3101['hasClearCo'+'atNormals'],_0x588d87['useAo']=_0x1a3101['hasAo'],_0x588d87['diffuseMap'+'Enabled']=_0x1a3101['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0xbb1722,_0x1d150d,_0x2d8cdb,_0xdd0b3f){_0xbb1722['fog']=_0x1d150d['useFog']?_0xdd0b3f['fog']:Fa,_0xbb1722['gamma']=_0xdd0b3f['shaderOutp'+'utGamma'],_0xbb1722['toneMap']=_0x1d150d['useTonemap']?_0xdd0b3f['toneMappin'+'g']:f0,_0x1d150d['useSkybox']&&_0x2d8cdb['envAtlas']&&_0x2d8cdb['skybox']?(_0xbb1722['reflection'+'Source']='envAtlasHQ',_0xbb1722['reflection'+'Encoding']=_0x2d8cdb['envAtlas']['encoding'],_0xbb1722['reflection'+'CubemapEnc'+'oding']=_0x2d8cdb['skybox']['encoding']):_0x1d150d['useSkybox']&&_0x2d8cdb['envAtlas']?(_0xbb1722['reflection'+'Source']='envAtlas',_0xbb1722['reflection'+'Encoding']=_0x2d8cdb['envAtlas']['encoding']):_0x1d150d['useSkybox']&&_0x2d8cdb['skybox']?(_0xbb1722['reflection'+'Source']='cubeMap',_0xbb1722['reflection'+'Encoding']=_0x2d8cdb['skybox']['encoding']):(_0xbb1722['reflection'+'Source']=null,_0xbb1722['reflection'+'Encoding']=null),_0x1d150d['ambientSH']?(_0xbb1722['ambientSou'+'rce']='ambientSH',_0xbb1722['ambientEnc'+'oding']=null):_0xbb1722['reflection'+'Source']&&_0x2d8cdb['envAtlas']?(_0xbb1722['ambientSou'+'rce']='envAtlas',_0xbb1722['ambientEnc'+'oding']=_0x2d8cdb['envAtlas']['encoding']):(_0xbb1722['ambientSou'+'rce']='constant',_0xbb1722['ambientEnc'+'oding']=null);const _0x263ab5=!!_0xbb1722['reflection'+'Source'];_0xbb1722['skyboxInte'+'nsity']=_0x263ab5,_0xbb1722['useCubeMap'+'Rotation']=_0x263ab5&&_0x2d8cdb['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x3fc67a,_0x34e981,_0x4bc692,_0x4f5268){if(_0x3fc67a['lightMapWi'+'thoutAmbie'+'nt']=!(-0x72f+-0x1904+-0xabc*-0x3),_0x34e981['useLightin'+'g']){const _0x14587f=[],_0x41a3fd=_0x4bc692?_0x4bc692>>-0x30+-0x101*0xd+-0x5*-0x2a9:hs;_0x3fc67a['lightMaskD'+'ynamic']=!!(_0x41a3fd&hs),_0x3fc67a['lightMapWi'+'thoutAmbie'+'nt']=!(0x2063*-0x1+-0xe*0x18a+0x35f0),_0x4f5268&&(As['collectLig'+'hts'](oe,_0x4f5268[oe],_0x14587f,_0x41a3fd),As['collectLig'+'hts'](Pe,_0x4f5268[Pe],_0x14587f,_0x41a3fd),As['collectLig'+'hts'](Re,_0x4f5268[Re],_0x14587f,_0x41a3fd)),_0x3fc67a['lights']=_0x14587f;}else _0x3fc67a['lights']=[];(_0x3fc67a['lights']['length']===0x7e4*0x4+0x52*-0x4a+0x3ee*-0x2||(_0x4bc692&Ep)!==-0x1*0xf67+0x1fb*-0x9+0x213a)&&(_0x3fc67a['noShadow']=!(-0x1540+0x1ab1+-0xc7*0x7));}static['collectLig'+'hts'](_0x3e9dc2,_0x23ab3c,_0xf2cbc8,_0x4fcc84){for(let _0x1570c0=-0x3*-0x18d+-0x9bc*-0x3+0x51*-0x6b;_0x1570c0<_0x23ab3c['length'];_0x1570c0++){const _0x4438c3=_0x23ab3c[_0x1570c0];_0x4438c3['enabled']&&_0x4438c3['mask']&_0x4fcc84&&_0xf2cbc8['push'](_0x4438c3);}}}const c_=(_0x4ac1b2,_0x5b6dc9)=>{if(_0x4ac1b2['length']!==_0x5b6dc9['length'])return!(-0x18d*-0x7+0xbe5+-0x287*0x9);for(let _0x37c1b1=0x5dd+0x2675+-0x2c52;_0x37c1b1<_0x4ac1b2['length'];++_0x37c1b1)if(_0x4ac1b2[_0x37c1b1]!==_0x5b6dc9[_0x37c1b1])return!(0x287*-0x1+-0xae*-0x20+0x29*-0x78);return!(0xb67+0x38b+-0xef2*0x1);},YC=_0x1b49a0=>_0x1b49a0['r']!==-0x1f*-0xa4+-0xc7e+-0x75d||_0x1b49a0['g']!==0x8f5*-0x1+-0x1*-0xed6+-0x5e0||_0x1b49a0['b']!==-0x97c*0x2+0x6e0+0xc19,KC=_0x5390e2=>_0x5390e2['r']!==0xbeb+-0x10a4+0x193*0x3||_0x5390e2['g']!==-0x3*-0x2b0+-0x1*-0xd3b+0x45*-0x4f||_0x5390e2['b']!==0x7f2+-0x15a1+0xdaf;class ZC{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x3311ba,_0x28fada,_0x277afd,_0xfdc390,_0x211665,_0x3a9eb4){this['_updateSha'+'redOptions'](_0x3311ba,_0x28fada,_0x277afd,_0xfdc390,_0x211665),this['_updateMin'+'Options'](_0x3311ba,_0x277afd,_0x211665),this['_updateUVO'+'ptions'](_0x3311ba,_0x277afd,_0xfdc390,!(-0x26d3+-0x2165*-0x1+0x56e));}['updateRef'](_0x257cb5,_0x34cbf0,_0x2a154d,_0x21e479,_0xf12616,_0x3ddf52,_0x24b8da){this['_updateSha'+'redOptions'](_0x257cb5,_0x34cbf0,_0x21e479,_0xf12616,_0x3ddf52),this['_updateEnv'+'Options'](_0x257cb5,_0x21e479,_0x34cbf0,_0x2a154d),this['_updateMat'+'erialOptio'+'ns'](_0x257cb5,_0x21e479),_0x257cb5['litOptions']['hasTangent'+'s']=_0xf12616&&(_0xf12616&Mp)!==0x25*-0x66+0x1ce4+0x1*-0xe26,this['_updateLig'+'htOptions'](_0x257cb5,_0x34cbf0,_0x21e479,_0xf12616,_0x24b8da),this['_updateUVO'+'ptions'](_0x257cb5,_0x21e479,_0xf12616,!(0xfb5+-0x2682+0x16ce),_0x2a154d);}['_updateSha'+'redOptions'](_0x4132c7,_0x58da6c,_0x45cfe7,_0x56904e,_0x491b4d){_0x4132c7['forceUv1']=_0x45cfe7['forceUv1'],_0x45cfe7['userAttrib'+'utes']&&(_0x4132c7['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x45cfe7['userAttrib'+'utes']['entries']())),_0x4132c7['litOptions']['chunks']=_0x45cfe7['chunks']||{},_0x4132c7['litOptions']['pass']=_0x491b4d,_0x4132c7['litOptions']['alphaTest']=_0x45cfe7['alphaTest']>-0x2*0x5+0x2*0x404+0x2aa*-0x3,_0x4132c7['litOptions']['blendType']=_0x45cfe7['blendType'],_0x4132c7['litOptions']['screenSpac'+'e']=_0x56904e&&(_0x56904e&Cp)!==-0x1*-0x663+-0x78b+0x128,_0x4132c7['litOptions']['skin']=_0x56904e&&(_0x56904e&Wc)!==-0x1fa9+-0x1*-0x7aa+0x17ff*0x1,_0x4132c7['litOptions']['batch']=_0x56904e&&(_0x56904e&Ou)!==0x44*0x87+0x305*0x7+-0x38ff*0x1,_0x4132c7['litOptions']['useInstanc'+'ing']=_0x56904e&&(_0x56904e&$c)!==-0x2*0x8ef+0x1*-0x191b+-0x3*-0xe53,_0x4132c7['litOptions']['useMorphPo'+'sition']=_0x56904e&&(_0x56904e&qc)!==-0x3e6*-0x4+-0xe94+-0x41*0x4,_0x4132c7['litOptions']['useMorphNo'+'rmal']=_0x56904e&&(_0x56904e&Xc)!==-0xcbf+0x2330*-0x1+-0x6d9*-0x7,_0x4132c7['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x56904e&&(_0x56904e&jc)!==-0x28*-0xb5+-0x2a6*0x8+-0x718,_0x4132c7['litOptions']['nineSliced'+'Mode']=_0x45cfe7['nineSliced'+'Mode']||0x9eb+-0x1171+0x786,_0x58da6c['clusteredL'+'ightingEna'+'bled']&&_0x45cfe7['useLightin'+'g']?(_0x4132c7['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x1565*-0x1+-0x1*0x22ef+0x1c2a*0x2),_0x4132c7['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x58da6c['lighting']['cookiesEna'+'bled'],_0x4132c7['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x58da6c['lighting']['shadowsEna'+'bled'],_0x4132c7['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x58da6c['lighting']['shadowType'],_0x4132c7['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x58da6c['lighting']['areaLights'+'Enabled']):(_0x4132c7['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x1503+0x3*0xb0f+-0xc29),_0x4132c7['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0x197a+-0xb4c+-0xe2d),_0x4132c7['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x1*-0x2665+-0xa1b+0x3081*0x1),_0x4132c7['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(-0x1*-0x1961+-0x7*-0x115+-0x20f3));}['_updateUVO'+'ptions'](_0x5bada9,_0x4067a4,_0x548a7e,_0x38a81c,_0x148d63){let _0x2489f9=!(0x720+-0x2*-0xffd+-0x2719),_0x5e99d4=!(0xb7d*-0x2+0x27b*0x8+0x323),_0xf6a6f=!(-0x13*0xb1+0x18d1+-0x1ab*0x7);_0x548a7e&&(_0x2489f9=(_0x548a7e&m0)!==-0x3*-0xbd+0x5ef*0x1+-0x826,_0x5e99d4=(_0x548a7e&_0)!==0x125*-0x22+-0x2*0x1+0x2*0x1376,_0xf6a6f=(_0x548a7e&g0)!==-0x16bc+-0x1fb4+-0x2*-0x1b38),_0x5bada9['litOptions']['vertexColo'+'rs']=!(-0x773+-0x416*0x8+0x4*0xa09),this['_mapXForms']=[];const _0x4331f0={};for(const _0xfde19c in fa)this['_updateTex'+'Options'](_0x5bada9,_0x4067a4,_0xfde19c,_0x2489f9,_0x5e99d4,_0xf6a6f,_0x38a81c,_0x4331f0);this['_mapXForms']=null,_0x5bada9['litOptions']['ssao']=_0x148d63==null?void(-0x2194+-0x363*0x9+0x1*0x400f):_0x148d63['ssaoEnable'+'d'],_0x5bada9['useAO']=_0x5bada9['litOptions']['ssao'],_0x5bada9['litOptions']['lightMapEn'+'abled']=_0x5bada9['lightMap'],_0x5bada9['litOptions']['dirLightMa'+'pEnabled']=_0x5bada9['dirLightMa'+'p'],_0x5bada9['litOptions']['useHeights']=_0x5bada9['heightMap'],_0x5bada9['litOptions']['useNormals']=_0x5bada9['normalMap'],_0x5bada9['litOptions']['useClearCo'+'atNormals']=_0x5bada9['clearCoatN'+'ormalMap'],_0x5bada9['litOptions']['useAo']=_0x5bada9['aoMap']||_0x5bada9['aoVertexCo'+'lor']||_0x5bada9['litOptions']['ssao'],_0x5bada9['litOptions']['diffuseMap'+'Enabled']=_0x5bada9['diffuseMap'];}['_updateTex'+'Options'](_0x21336f,_0x44f735,_0x29a5d2,_0x4da76e,_0xc8b27c,_0x16a379,_0x4fa19b,_0x1a0bfd){const _0x550649=_0x29a5d2==='opacity';if(!_0x4fa19b||_0x550649){const _0x474f71=_0x29a5d2+'Map',_0x42f535=_0x29a5d2+('VertexColo'+'r'),_0x420ab8=_0x29a5d2+('VertexColo'+'rChannel'),_0x528afa=_0x474f71+'Channel',_0x189983=_0x474f71+'Transform',_0x43ecf2=_0x474f71+'Uv',_0x59677a=_0x474f71+'Identifier';if(_0x29a5d2!=='light'&&(_0x21336f[_0x474f71]=!(-0xc0f+-0x2585+0x3195),_0x21336f[_0x59677a]=void(-0x236f+-0x1f5a+0x42c9),_0x21336f[_0x528afa]='',_0x21336f[_0x189983]=-0x1cb0+0x47*-0x35+0x2b63,_0x21336f[_0x43ecf2]=-0x1*-0x4ee+-0x24d7*-0x1+-0x1*0x29c5),_0x21336f[_0x42f535]=!(0xc0d+-0x1473+0x867),_0x21336f[_0x420ab8]='',_0x550649&&_0x44f735['blendType']===is&&_0x44f735['alphaTest']===0x498+0x1b9a*0x1+-0x2032&&!_0x44f735['alphaToCov'+'erage']&&_0x44f735['opacityDit'+'her']===Rs)return;if(_0x29a5d2!=='height'&&_0x44f735[_0x42f535]&&_0x16a379&&(_0x21336f[_0x42f535]=_0x44f735[_0x42f535],_0x21336f[_0x420ab8]=_0x44f735[_0x420ab8],_0x21336f['litOptions']['vertexColo'+'rs']=!(-0x1a*-0xd5+0xcf8*-0x3+0x1146)),_0x44f735[_0x474f71]){let _0x502cbc=!(-0x49*-0x6d+-0x1b7f+-0x396);if(_0x44f735[_0x43ecf2]===0x26f9+0x5f9+-0x2cf2&&!_0x4da76e&&(_0x502cbc=!(-0x4*0xc1+0x1c07+-0x856*0x3)),_0x44f735[_0x43ecf2]===0x1520+-0x3cf+-0x1150&&!_0xc8b27c&&(_0x502cbc=!(0xc6a+0x2088+0x127*-0x27)),_0x502cbc){const _0x5c95a5=_0x44f735[_0x474f71]['id'];let _0x5005f6=_0x1a0bfd[_0x5c95a5];_0x5005f6===void(0x17*-0x17b+-0x1*-0x1f81+0x28c)&&(_0x1a0bfd[_0x5c95a5]=_0x29a5d2,_0x5005f6=_0x29a5d2),_0x21336f[_0x474f71]=!!_0x44f735[_0x474f71],_0x21336f[_0x59677a]=_0x5005f6,_0x21336f[_0x189983]=this['_getMapTra'+'nsformID'](_0x44f735['getUniform'](_0x189983),_0x44f735[_0x43ecf2]),_0x21336f[_0x528afa]=_0x44f735[_0x528afa],_0x21336f[_0x43ecf2]=_0x44f735[_0x43ecf2];}}}}['_updateMin'+'Options'](_0x4b90c6,_0x428b22,_0x4dc91e){const _0x15f985=_0x4dc91e===il;_0x4b90c6['litOptions']['opacitySha'+'dowDither']=_0x15f985?_0x428b22['opacityDit'+'her']:_0x428b22['opacitySha'+'dowDither'],_0x4b90c6['litOptions']['linearDept'+'h']=_0x15f985,_0x4b90c6['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x3a9168,_0x3e5712){var _0x2bc54b,_0x161a40,_0x9ad1ce,_0x127a55;const _0x3dbe62=!!(_0x3e5712['useMetalne'+'ss']||_0x3e5712['specularMa'+'p']||_0x3e5712['sphereMap']||_0x3e5712['cubeMap']||KC(_0x3e5712['specular'])||_0x3e5712['specularit'+'yFactor']>0x1*0x1433+-0x776+-0xcbd&&_0x3e5712['useMetalne'+'ss']||_0x3e5712['enableGGXS'+'pecular']||_0x3e5712['clearCoat']>0x1320+-0x1503+-0x1*-0x1e3),_0x2c61f2=!_0x3e5712['useMetalne'+'ss']||_0x3e5712['useMetalne'+'ssSpecular'+'Color'],_0x246e13=_0x3dbe62&&(_0x3e5712['specularTi'+'nt']||!_0x3e5712['specularMa'+'p']&&!_0x3e5712['specularVe'+'rtexColor'])&&YC(_0x3e5712['specular']),_0x1bc02e=_0x3dbe62&&_0x3e5712['useMetalne'+'ssSpecular'+'Color']&&(_0x3e5712['specularit'+'yFactorTin'+'t']||_0x3e5712['specularit'+'yFactor']<0x1f0d+0x2*0xb6+-0x1*0x2078&&!_0x3e5712['specularit'+'yFactorMap']),_0x159c05=_0x3e5712['normalMap']?_0x3e5712['normalMap']['format']===$o||_0x3e5712['normalMap']['type']===op:!(0x2*0x1246+0x1899+-0x4b4*0xd),_0x3a52f0=(_0x1a2cbc,_0x2f1642)=>Math['abs'](_0x1a2cbc-_0x2f1642)<-0x278+-0xaeb+0xd63*0x1+0.0001;_0x3a9168['specularTi'+'nt']=_0x246e13?0xc49+-0x2348+0x1701:0x34b*-0x4+0x1d*0x124+-0x13e8,_0x3a9168['specularit'+'yFactorTin'+'t']=_0x1bc02e?0x18bb+0x57d*0x5+-0x342b:0x1630+0x17*0x18e+-0x39f2,_0x3a9168['metalnessT'+'int']=_0x3e5712['useMetalne'+'ss']&&_0x3e5712['metalness']<-0x219a+-0x10b3+0x1*0x324e?-0x1da5+0x1b5a+0x24c:-0x266e+-0x1*-0x22ab+0x3c3,_0x3a9168['glossTint']=-0x3*-0x96e+-0x12fd*-0x1+0x2*-0x17a3,_0x3a9168['diffuseEnc'+'oding']=(_0x2bc54b=_0x3e5712['diffuseMap'])==null?void(-0x1223*-0x1+0x25e0+0x44f*-0xd):_0x2bc54b['encoding'],_0x3a9168['diffuseDet'+'ailEncodin'+'g']=(_0x161a40=_0x3e5712['diffuseDet'+'ailMap'])==null?void(-0x2325+0x1c13*0x1+0x712):_0x161a40['encoding'],_0x3a9168['emissiveEn'+'coding']=(_0x9ad1ce=_0x3e5712['emissiveMa'+'p'])==null?void(0x1c78+0x35*-0xb5+-0x1*-0x901):_0x9ad1ce['encoding'],_0x3a9168['lightMapEn'+'coding']=(_0x127a55=_0x3e5712['lightMap'])==null?void(-0x17e1+0xbb3+0xc2e):_0x127a55['encoding'],_0x3a9168['packedNorm'+'al']=_0x159c05,_0x3a9168['refraction'+'Tint']=_0x3a52f0(_0x3e5712['refraction'],0x82a+0xc1*0xe+-0x12b7)?0x1*-0xd79+0x1*0x4aa+0x8cf:-0xa6c+-0x1bdd*-0x1+-0x1170,_0x3a9168['refraction'+'IndexTint']=_0x3a52f0(_0x3e5712['refraction'+'Index'],(-0x6*0x595+-0x1*0x24d9+0x4658)/(0x18d*0x1+0x47*-0x5e+0x56*0x49+0.5))?-0x17*0xd5+-0x4*0x8a1+0x35a7:-0xf59*-0x1+0x16f*0xf+-0x24d9,_0x3a9168['thicknessT'+'int']=_0x3e5712['useDynamic'+'Refraction']&&_0x3e5712['thickness']!==-0xd61+0x137b+-0x619?-0x4e4*0x2+0x9d9*-0x1+0x13a2:0xcf6+0x1cd7+-0x29cd,_0x3a9168['specularEn'+'coding']=_0x3e5712['specularEn'+'coding']||'linear',_0x3a9168['sheenEncod'+'ing']=_0x3e5712['sheenEncod'+'ing']||'linear',_0x3a9168['aoMapUv']=_0x3e5712['aoUvSet'],_0x3a9168['aoDetail']=!!_0x3e5712['aoMap'],_0x3a9168['diffuseDet'+'ail']=!!_0x3e5712['diffuseMap'],_0x3a9168['normalDeta'+'il']=!!_0x3e5712['normalMap'],_0x3a9168['diffuseDet'+'ailMode']=_0x3e5712['diffuseDet'+'ailMode'],_0x3a9168['aoDetailMo'+'de']=_0x3e5712['aoDetailMo'+'de'],_0x3a9168['clearCoatT'+'int']=_0x3a52f0(_0x3e5712['clearCoat'],-0x123c+-0x2147*0x1+0x2*0x19c2)?0x1e31+0x68a+-0x24bb:-0x75e+0x1c89*0x1+0x387*-0x6,_0x3a9168['clearCoatG'+'loss']=!!_0x3e5712['clearCoatG'+'loss'],_0x3a9168['clearCoatG'+'lossTint']=_0x3e5712['clearCoatG'+'loss']!==0x5d9+-0x1d1e+0x1746?-0x1e50+-0x293*-0x3+-0xc*-0x1e2:-0x6*0x21+-0x18a0+0x1966,_0x3a9168['iorTint']=_0x3a52f0(_0x3e5712['refraction'+'Index'],(0x217c*0x1+0x4*-0x249+-0x1857)/(-0xc08+-0x941+0x221*0xa+0.5))?-0x1091*0x2+-0x1bd*-0x6+0x16b4:-0x75f*-0x3+-0x66e*-0x1+-0xe45*0x2,_0x3a9168['iridescenc'+'eTint']=_0x3e5712['iridescenc'+'e']!==0xf23+-0x7bc+-0x766?0x224c+-0x1372+-0x7*0x21f:-0x1484+0xf35+0x54f,_0x3a9168['glossInver'+'t']=_0x3e5712['glossInver'+'t'],_0x3a9168['sheenGloss'+'Invert']=_0x3e5712['sheenGloss'+'Invert'],_0x3a9168['clearCoatG'+'lossInvert']=_0x3e5712['clearCoatG'+'lossInvert'],_0x3a9168['useSpecula'+'rColor']=_0x2c61f2,_0x3a9168['litOptions']['separateAm'+'bient']=!(0xcb7+-0x19*0xfe+0xc18),_0x3a9168['litOptions']['customFrag'+'mentShader']=_0x3e5712['customFrag'+'mentShader'],_0x3a9168['litOptions']['pixelSnap']=_0x3e5712['pixelSnap'],_0x3a9168['litOptions']['ambientSH']=!!_0x3e5712['ambientSH'],_0x3a9168['litOptions']['twoSidedLi'+'ghting']=_0x3e5712['twoSidedLi'+'ghting'],_0x3a9168['litOptions']['occludeSpe'+'cular']=_0x3e5712['occludeSpe'+'cular'],_0x3a9168['litOptions']['occludeSpe'+'cularFloat']=_0x3e5712['occludeSpe'+'cularInten'+'sity']!==-0xf1*-0x27+-0x5cc+-0x1eea,_0x3a9168['litOptions']['useMsdf']=!!_0x3e5712['msdfMap'],_0x3a9168['litOptions']['msdfTextAt'+'tribute']=!!_0x3e5712['msdfTextAt'+'tribute'],_0x3a9168['litOptions']['alphaToCov'+'erage']=_0x3e5712['alphaToCov'+'erage'],_0x3a9168['litOptions']['opacityFad'+'esSpecular']=_0x3e5712['opacityFad'+'esSpecular'],_0x3a9168['litOptions']['opacityDit'+'her']=_0x3e5712['opacityDit'+'her'],_0x3a9168['litOptions']['cubeMapPro'+'jection']=_0x3e5712['cubeMapPro'+'jection'],_0x3a9168['litOptions']['occludeDir'+'ect']=_0x3e5712['occludeDir'+'ect'],_0x3a9168['litOptions']['useSpecula'+'r']=_0x3dbe62,_0x3a9168['litOptions']['useSpecula'+'rityFactor']=(_0x1bc02e||!!_0x3e5712['specularit'+'yFactorMap'])&&_0x3e5712['useMetalne'+'ssSpecular'+'Color'],_0x3a9168['litOptions']['enableGGXS'+'pecular']=_0x3e5712['enableGGXS'+'pecular'],_0x3a9168['litOptions']['fresnelMod'+'el']=_0x3e5712['fresnelMod'+'el'],_0x3a9168['litOptions']['useRefract'+'ion']=(_0x3e5712['refraction']||!!_0x3e5712['refraction'+'Map'])&&(_0x3e5712['useDynamic'+'Refraction']||!!_0x3a9168['litOptions']['reflection'+'Source']),_0x3a9168['litOptions']['useClearCo'+'at']=!!_0x3e5712['clearCoat'],_0x3a9168['litOptions']['useSheen']=_0x3e5712['useSheen'],_0x3a9168['litOptions']['useIridesc'+'ence']=_0x3e5712['useIridesc'+'ence']&&_0x3e5712['iridescenc'+'e']!==-0x5b9+0x2d*0xb4+-0x19eb*0x1,_0x3a9168['litOptions']['useMetalne'+'ss']=_0x3e5712['useMetalne'+'ss'],_0x3a9168['litOptions']['useDynamic'+'Refraction']=_0x3e5712['useDynamic'+'Refraction'],_0x3a9168['litOptions']['dispersion']=_0x3e5712['dispersion']>0x2*-0xcc+-0x23d6+-0x1*-0x256e;}['_updateEnv'+'Options'](_0x3ba561,_0x3dfe5d,_0x9059c3,_0x131c3f){_0x3ba561['litOptions']['fog']=_0x3dfe5d['useFog']?_0x131c3f['fog']:Fa,_0x3ba561['litOptions']['gamma']=_0x131c3f['shaderOutp'+'utGamma'],_0x3ba561['litOptions']['toneMap']=_0x3dfe5d['useTonemap']?_0x131c3f['toneMappin'+'g']:f0;let _0xd73fb9=!(-0x106e+-0xa78+0x1ae7);if(_0x3dfe5d['envAtlas']&&_0x3dfe5d['cubeMap']?(_0x3ba561['litOptions']['reflection'+'Source']='envAtlasHQ',_0x3ba561['litOptions']['reflection'+'Encoding']=_0x3dfe5d['envAtlas']['encoding'],_0x3ba561['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x3dfe5d['cubeMap']['encoding']):_0x3dfe5d['envAtlas']?(_0x3ba561['litOptions']['reflection'+'Source']='envAtlas',_0x3ba561['litOptions']['reflection'+'Encoding']=_0x3dfe5d['envAtlas']['encoding']):_0x3dfe5d['cubeMap']?(_0x3ba561['litOptions']['reflection'+'Source']='cubeMap',_0x3ba561['litOptions']['reflection'+'Encoding']=_0x3dfe5d['cubeMap']['encoding']):_0x3dfe5d['sphereMap']?(_0x3ba561['litOptions']['reflection'+'Source']='sphereMap',_0x3ba561['litOptions']['reflection'+'Encoding']=_0x3dfe5d['sphereMap']['encoding']):_0x3dfe5d['useSkybox']&&_0x9059c3['envAtlas']&&_0x9059c3['skybox']?(_0x3ba561['litOptions']['reflection'+'Source']='envAtlasHQ',_0x3ba561['litOptions']['reflection'+'Encoding']=_0x9059c3['envAtlas']['encoding'],_0x3ba561['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x9059c3['skybox']['encoding'],_0xd73fb9=!(0x19f4+-0xafb*-0x2+0x17f5*-0x2)):_0x3dfe5d['useSkybox']&&_0x9059c3['envAtlas']?(_0x3ba561['litOptions']['reflection'+'Source']='envAtlas',_0x3ba561['litOptions']['reflection'+'Encoding']=_0x9059c3['envAtlas']['encoding'],_0xd73fb9=!(0x1e8+0x5ac+0x184*-0x5)):_0x3dfe5d['useSkybox']&&_0x9059c3['skybox']?(_0x3ba561['litOptions']['reflection'+'Source']='cubeMap',_0x3ba561['litOptions']['reflection'+'Encoding']=_0x9059c3['skybox']['encoding'],_0xd73fb9=!(0x1*-0x17dd+0xc*-0x120+0x255d)):(_0x3ba561['litOptions']['reflection'+'Source']=null,_0x3ba561['litOptions']['reflection'+'Encoding']=null),_0x3dfe5d['ambientSH'])_0x3ba561['litOptions']['ambientSou'+'rce']='ambientSH',_0x3ba561['litOptions']['ambientEnc'+'oding']=null;else{const _0x1bb167=_0x3dfe5d['envAtlas']||(_0x3dfe5d['useSkybox']&&_0x9059c3['envAtlas']?_0x9059c3['envAtlas']:null);_0x1bb167&&!_0x3dfe5d['sphereMap']?(_0x3ba561['litOptions']['ambientSou'+'rce']='envAtlas',_0x3ba561['litOptions']['ambientEnc'+'oding']=_0x1bb167['encoding']):(_0x3ba561['litOptions']['ambientSou'+'rce']='constant',_0x3ba561['litOptions']['ambientEnc'+'oding']=null);}_0x3ba561['litOptions']['skyboxInte'+'nsity']=_0xd73fb9,_0x3ba561['litOptions']['useCubeMap'+'Rotation']=_0xd73fb9&&_0x9059c3['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x3e3ac8,_0x321d1f,_0x1c84aa,_0x9365b7,_0x2af4bb){if(_0x3e3ac8['lightMap']=!(0x1e49+-0x1*-0x24b1+-0x42f9),_0x3e3ac8['lightMapCh'+'annel']='',_0x3e3ac8['lightMapUv']=0x2426+0x2*0x933+-0x368c*0x1,_0x3e3ac8['lightMapTr'+'ansform']=-0x9d3*-0x1+0x1ba2*0x1+0x2b*-0xdf,_0x3e3ac8['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x8f8+-0x7f3+-0x6*-0x2d2),_0x3e3ac8['dirLightMa'+'p']=!(-0x1963+0x1*0x3c6+-0xacf*-0x2),_0x9365b7&&(_0x3e3ac8['litOptions']['noShadow']=(_0x9365b7&Ep)!==-0x1*0x911+0x44e+-0x35*-0x17,(_0x9365b7&Fu)!==0x2*0x1145+0x20e*-0xe+-0x1*0x5c6&&(_0x3e3ac8['lightMapEn'+'coding']=_0x321d1f['lightmapPi'+'xelFormat']===Se?'rgbm':'linear',_0x3e3ac8['lightMap']=!(0x89*-0x6+0x1b29+-0x17f3*0x1),_0x3e3ac8['lightMapCh'+'annel']='rgb',_0x3e3ac8['lightMapUv']=0x22d*0x11+-0x5*0xc1+-0x2137,_0x3e3ac8['lightMapTr'+'ansform']=-0x23cf*-0x1+-0x2*0x56e+0x3*-0x851,_0x3e3ac8['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x1c84aa['lightMap'],(_0x9365b7&y0)!==-0x1731+0xfec+0x745&&(_0x3e3ac8['dirLightMa'+'p']=!(-0x2c*0x97+0x2700+-0xd0c)),(_0x9365b7&x0)!==-0xe*0xc7+-0x47a+0x3d7*0x4&&(_0x3e3ac8['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0xfb2+0x25fa+-0x1647)))),_0x1c84aa['useLightin'+'g']){const _0x3660ef=[],_0x3dcbed=_0x9365b7?_0x9365b7>>0x1*-0x196f+-0x1514+0x2e93:hs;_0x3e3ac8['litOptions']['lightMaskD'+'ynamic']=!!(_0x3dcbed&hs),_0x2af4bb&&(As['collectLig'+'hts'](oe,_0x2af4bb[oe],_0x3660ef,_0x3dcbed),As['collectLig'+'hts'](Pe,_0x2af4bb[Pe],_0x3660ef,_0x3dcbed),As['collectLig'+'hts'](Re,_0x2af4bb[Re],_0x3660ef,_0x3dcbed)),_0x3e3ac8['litOptions']['lights']=_0x3660ef;}else _0x3e3ac8['litOptions']['lights']=[];_0x3e3ac8['litOptions']['lights']['length']===-0x35c*0x3+0xad3+0xbf*-0x1&&(_0x3e3ac8['litOptions']['noShadow']=!(-0x2536+-0x1fd9+0x3*0x1705));}['_getMapTra'+'nsformID'](_0x5bddbe,_0xbfd1d0){if(!_0x5bddbe)return 0xda8+-0x1*0x713+-0x695;let _0x4edd39=this['_mapXForms'][_0xbfd1d0];_0x4edd39||(_0x4edd39=[],this['_mapXForms'][_0xbfd1d0]=_0x4edd39);for(let _0x1e3d4a=-0x7c*0x4b+-0xe26*0x1+0x1*0x327a;_0x1e3d4a<_0x4edd39['length'];_0x1e3d4a++)if(c_(_0x4edd39[_0x1e3d4a][-0x3*-0x5d+-0x1f*0xd4+0x1895]['value'],_0x5bddbe[0x26be+-0x18*-0x9a+-0x11ba*0x3]['value'])&&c_(_0x4edd39[_0x1e3d4a][-0x227a+-0xa8*0x8+0x27bb]['value'],_0x5bddbe[-0x9d*-0x1f+-0x2*0x12bf+-0x49f*-0x4]['value']))return _0x1e3d4a+(-0x2*0x902+0x14ba+-0x2b5);return _0x4edd39['push'](_0x5bddbe);}}function qe(_0x16d493,_0x5ce0e2=!(0x258b+-0xca5+-0x1*0x18e6),_0x450061=!(-0x1383+-0x1*-0xf0b+0x478)){const _0x3b5df8={};return _0x3b5df8[_0x16d493+'Map']='texture',_0x3b5df8[_0x16d493+'MapTiling']='vec2',_0x3b5df8[_0x16d493+'MapOffset']='vec2',_0x3b5df8[_0x16d493+('MapRotatio'+'n')]='number',_0x3b5df8[_0x16d493+'MapUv']='number',_0x5ce0e2&&(_0x3b5df8[_0x16d493+'MapChannel']='string',_0x450061&&(_0x3b5df8[_0x16d493+('VertexColo'+'r')]='boolean',_0x3b5df8[_0x16d493+('VertexColo'+'rChannel')]='string')),_0x3b5df8;}const Pa={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...qe('ao'),...qe('aoDetail',!(0x2218+0x19d5+0x1*-0x3bed),!(-0x1b2f*0x1+-0x2*0x1085+-0x1*-0x3c3a)),'aoDetailMode':'string','diffuse':'rgb',...qe('diffuse'),...qe('diffuseDet'+'ail',!(0x1c59+0xfd7+-0x65*0x70),!(-0x1d9e+0x2a*0xce+-0x42d*0x1)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...qe('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...qe('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','anisotropy':'number','metalnessTint':'boolean',...qe('metalness'),'useMetalnessSpecularColor':'boolean','shininess':'number','gloss':'number','glossInvert':'boolean',...qe('gloss'),'clearCoat':'number',...qe('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...qe('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...qe('clearCoatN'+'ormal',!(-0x1f01*0x1+-0xfad*0x1+0x11*0x2bf)),'useSheen':'boolean','sheen':'rgb',...qe('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...qe('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...qe('emissive'),'emissiveIntensity':'number',...qe('normal',!(-0x11*-0x13d+-0x228e+0x1*0xd82)),'bumpiness':'number',...qe('normalDeta'+'il',!(0xcc9+-0x44a*-0x3+-0x2*0xcd3)),'normalDetailMapBumpiness':'number',...qe('height',!(0x1314+-0x1ec9+0xbb5),!(-0xb32+-0x1*-0x1352+0x81f*-0x1)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...qe('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...qe('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...qe('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...qe('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...qe('iridescenc'+'eThickness'),...qe('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean'},Kc=[];for(const l in Pa)Pa[l]==='texture'&&Kc['push'](l);const Fp=[];for(const l in Pa)Pa[l]==='cubemap'&&Fp['push'](l);const QC={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean'},uh={},P0={};let $a=new Set();const Dl=new Y();class cs extends yn{constructor(){super(),c(this,'userAttrib'+'utes',new Map()),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new ZC(),this['reset']());}['reset'](){Object['keys'](uh)['forEach'](_0x5239f4=>{this['_'+_0x5239f4]=uh[_0x5239f4]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x15aa7b){return super['copy'](_0x15aa7b),Object['keys'](uh)['forEach'](_0x1ed80f=>{this[_0x1ed80f]=_0x15aa7b[_0x1ed80f];}),this['userAttrib'+'utes']=new Map(_0x15aa7b['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x82519,_0x5ea72d){this['userAttrib'+'utes']['set'](_0x5ea72d,_0x82519);}['_setParame'+'ter'](_0x533aa7,_0xedb442){$a['add'](_0x533aa7),this['setParamet'+'er'](_0x533aa7,_0xedb442);}['_setParame'+'ters'](_0x5442a9){_0x5442a9['forEach'](_0x3f792b=>{this['_setParame'+'ter'](_0x3f792b['name'],_0x3f792b['value']);});}['_processPa'+'rameters'](_0x2276ba){const _0x4d49d5=this[_0x2276ba];_0x4d49d5['forEach'](_0x358544=>{$a['has'](_0x358544)||delete this['parameters'][_0x358544];}),this[_0x2276ba]=$a,$a=_0x4d49d5,$a['clear']();}['_updateMap'](_0x4a71a8){const _0x13d07a=_0x4a71a8+'Map',_0x3addc0=this[_0x13d07a];if(_0x3addc0){this['_setParame'+'ter']('texture_'+_0x13d07a,_0x3addc0);const _0x4a177b=_0x13d07a+'Transform',_0x5d23ea=this['getUniform'](_0x4a177b);_0x5d23ea&&this['_setParame'+'ters'](_0x5d23ea);}}['_allocUnif'+'orm'](_0x3feb7e,_0x58928f){let _0x171dbe=this['_uniformCa'+'che'][_0x3feb7e];return _0x171dbe||(_0x171dbe=_0x58928f(),this['_uniformCa'+'che'][_0x3feb7e]=_0x171dbe),_0x171dbe;}['getUniform'](_0x7bc777,_0x549525,_0x451842){return P0[_0x7bc777](this,_0x549525,_0x451842);}['updateUnif'+'orms'](_0x5ae275,_0x2b7e2f){const _0x5829a4=_0x170fc2=>this['getUniform'](_0x170fc2,_0x5ae275,_0x2b7e2f);this['_setParame'+'ter']('material_a'+'mbient',_0x5829a4('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x5829a4('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<-0x3+-0x11d7*-0x1+-0x11d3)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x5829a4('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x5829a4('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x5829a4('specular')),this['enableGGXS'+'pecular']&&this['_setParame'+'ter']('material_a'+'nisotropy',this['anisotropy']),this['clearCoat']>0x5d*0x6b+-0x2083+-0x65c&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),v['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===-0x1*0xcfb+0x52*0x25+0x121&&this['emissive']['g']===0x18b+0xf*-0x35+0x190&&this['emissive']['b']===0x33d*-0xb+0x1e2b+0x15d*0x4&&v['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+G['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x5829a4('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>-0x32*0xc8+-0x1829+0x3f39&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>-0xf1d+0x1ed9+0x3ef*-0x4&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x5829a4('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===-0x1797+-0x1*0xc32+-0x1*-0x23c9?0x47c*-0x1+0x1e6b+-0x19ef:(-0xa84+0xf32+-0xab*0x7)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(-0x1370*-0x2+-0xa24+-0x1cbb)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===jb&&this['_setParame'+'ter'](_0x5829a4('cubeMapPro'+'jectionBox'));for(const _0x43e56f in fa)this['_updateMap'](_0x43e56f);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x5829a4('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x5ae275,_0x2b7e2f);}['updateEnvU'+'niforms'](_0x129851,_0x5c7d3e){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x5c7d3e['envAtlas']&&_0x5c7d3e['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x5c7d3e['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x5c7d3e['skybox'])):_0x5c7d3e['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x5c7d3e['envAtlas']):_0x5c7d3e['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x5c7d3e['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x49f638){const {device:_0x470081,scene:_0x1f25e3,pass:_0x4c590c,objDefs:_0xebcccc,sortedLights:_0x43a49c,cameraShaderParams:_0x56bcbe}=_0x49f638;this['updateEnvU'+'niforms'](_0x470081,_0x1f25e3);const _0x1c11a4=Ks['get'](_0x470081)['getByIndex'](_0x4c590c),_0x1de2ec=_0x4c590c===rl||_0x4c590c===Oa||_0x4c590c===il||_0x1c11a4['isShadow'];let _0x45adb5=_0x1de2ec?Ed['optionsCon'+'textMin']:Ed['optionsCon'+'text'];_0x45adb5['defines']=Dp(this,_0x49f638),_0x1de2ec?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x45adb5,_0x1f25e3,this,_0xebcccc,_0x4c590c,_0x43a49c):this['shaderOptB'+'uilder']['updateRef'](_0x45adb5,_0x1f25e3,_0x56bcbe,this,_0xebcccc,_0x4c590c,_0x43a49c),_0x45adb5['defines']['set']('TONEMAP',p0[_0x45adb5['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x45adb5=this['onUpdateSh'+'ader'](_0x45adb5));const _0xb8e6d=new Yc(_0x49f638['viewUnifor'+'mFormat'],_0x49f638['viewBindGr'+'oupFormat'],_0x49f638['vertexForm'+'at']),_0x1dca09=ka(_0x470081);_0x1dca09['register']('standard',Ed);const _0x30888a=_0x1dca09['getProgram']('standard',_0x45adb5,_0xb8e6d,this['userId']);return this['_dirtyShad'+'er']=!(0x392+0xb7c+0x1*-0xf0d),_0x30888a;}['destroy'](){for(const _0x4e8010 in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x4e8010]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}c(cs,'TEXTURE_PA'+'RAMETERS',Kc),c(cs,'CUBEMAP_PA'+'RAMETERS',Fp);const Zc=(_0x428f34,_0x9b8d9b)=>{P0[_0x428f34]=_0x9b8d9b;},Op=(_0x38f454,_0x4d95ef,_0x20bd93,_0x37b757)=>{Object['defineProp'+'erty'](cs['prototype'],_0x38f454,{'get':_0x37b757||function(){return this['_'+_0x38f454];},'set':_0x20bd93}),uh[_0x38f454]={'value':_0x4d95ef};},JC=_0x7eef63=>{const _0x2ef102='_'+_0x7eef63['name'],_0xc249ba=_0x7eef63['dirtyShade'+'rFunc']||(()=>!(0x18ab+-0xbf7+-0xcb4)),_0x47c3d6=function(_0x51610a){const _0x1bd574=this[_0x2ef102];_0x1bd574!==_0x51610a&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0xc249ba(_0x1bd574,_0x51610a),this[_0x2ef102]=_0x51610a);};Op(_0x7eef63['name'],()=>_0x7eef63['defaultVal'+'ue'],_0x47c3d6,_0x7eef63['getterFunc']);},eM=_0x486ddb=>{const _0x21debb='_'+_0x486ddb['name'],_0x2964f1=_0x486ddb['dirtyShade'+'rFunc']||(()=>!(-0x7ca*0x2+-0x16fd+0x2691)),_0x22064c=function(_0x4206b9){const _0x5aa14d=this[_0x21debb];_0x5aa14d['equals'](_0x4206b9)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x2964f1(_0x5aa14d,_0x4206b9),this[_0x21debb]=_0x5aa14d['copy'](_0x4206b9));};Op(_0x486ddb['name'],()=>_0x486ddb['defaultVal'+'ue']['clone'](),_0x22064c,_0x486ddb['getterFunc']);},ts=_0x179077=>_0x179077['defaultVal'+'ue']&&_0x179077['defaultVal'+'ue']['clone']?eM(_0x179077):JC(_0x179077);function Ge(_0x9566b8,_0x439071='rgb',_0x189cf1=!(0x423*-0x5+-0x156b*-0x1+-0x1*0xbc),_0xd0ebc5=-0x2c5*-0x9+-0x1e17*0x1+-0x2*-0x295){fa[_0x9566b8]=_0x439071['length']||-(-0x39b+-0x211*-0x3+-0x297),ts({'name':_0x9566b8+'Map','defaultValue':null,'dirtyShaderFunc':(_0x436047,_0x30c953)=>!!_0x436047!=!!_0x30c953||_0x436047&&(_0x436047['type']!==_0x30c953['type']||_0x436047['format']!==_0x30c953['format'])}),ts({'name':_0x9566b8+'MapTiling','defaultValue':new W(-0x293+-0x13fe+0x1692,0x1a16+0xb9b*-0x1+0xda*-0x11)}),ts({'name':_0x9566b8+'MapOffset','defaultValue':new W(0x8e0+0x1797+0x2077*-0x1,-0x10de*-0x1+0x2*0xa0d+-0xa9*0x38)}),ts({'name':_0x9566b8+('MapRotatio'+'n'),'defaultValue':0x0}),ts({'name':_0x9566b8+'MapUv','defaultValue':_0xd0ebc5}),_0x439071&&(ts({'name':_0x9566b8+'MapChannel','defaultValue':_0x439071}),_0x189cf1&&(ts({'name':_0x9566b8+('VertexColo'+'r'),'defaultValue':!(0x6cf+0xfee+-0x16bc)}),ts({'name':_0x9566b8+('VertexColo'+'rChannel'),'defaultValue':_0x439071})));const _0x22e3c7=_0x9566b8+'MapTiling',_0x5a2149=_0x9566b8+'MapOffset',_0x36626e=_0x9566b8+('MapRotatio'+'n'),_0x5c48fc=_0x9566b8+('MapTransfo'+'rm');Zc(_0x5c48fc,(_0x3156f2,_0x2ed66a,_0x2ea34b)=>{const _0x46b027=_0x3156f2[_0x22e3c7],_0x55b5f1=_0x3156f2[_0x5a2149],_0x5d6e76=_0x3156f2[_0x36626e];if(_0x46b027['x']===0xfc5+-0xbe3*-0x1+-0x1ba7&&_0x46b027['y']===0xca5+0x15c5+-0x2269&&_0x55b5f1['x']===0x1fb5*0x1+0x196f+0x2e*-0x13e&&_0x55b5f1['y']===0x1*-0x1d9e+0x171+0x1c2d&&_0x5d6e76===0xb56+-0x1e06+0x1a*0xb8)return null;const _0xf80f9f=_0x3156f2['_allocUnif'+'orm'](_0x5c48fc,()=>[{'name':'texture_'+_0x5c48fc+'0','value':new Float32Array(0x17fb+0x1959+-0x3151)},{'name':'texture_'+_0x5c48fc+'1','value':new Float32Array(0x266d+-0xff*0x10+-0x167a)}]),_0x2b35ed=Math['cos'](_0x5d6e76*N['DEG_TO_RAD']),_0x288c30=Math['sin'](_0x5d6e76*N['DEG_TO_RAD']),_0x3aa319=_0xf80f9f[0x1395*-0x1+0x5*0x1a6+0xb57]['value'];_0x3aa319[0x1709+0x1157+0x22*-0x130]=_0x2b35ed*_0x46b027['x'],_0x3aa319[-0x120b*0x1+-0x168d*-0x1+0x481*-0x1]=-_0x288c30*_0x46b027['y'],_0x3aa319[-0x260c+0x14c2+0x2*0x8a6]=_0x55b5f1['x'];const _0x155fb0=_0xf80f9f[-0x1468+0x247*0x9+0x16*-0x1]['value'];return _0x155fb0[-0xaf9+0x1eed+0x1*-0x13f4]=_0x288c30*_0x46b027['x'],_0x155fb0[0xdd+0x20b6+0x1*-0x2192]=_0x2b35ed*_0x46b027['y'],_0x155fb0[-0x9f0+0x16e*-0x1b+-0x3bc*-0xd]=-0x1c73+-0x6d5+-0x3*-0xbc3-_0x46b027['y']-_0x55b5f1['y'],_0xf80f9f;});}function Cn(_0x45ea17,_0x6e7b4b){ts({'name':_0x45ea17,'defaultValue':_0x6e7b4b,'getterFunc':function(){return this['_dirtyShad'+'er']=!(0xc5e+-0x3f9+-0x865),this['_'+_0x45ea17];}}),Zc(_0x45ea17,(_0x53ff9f,_0x58a5a6,_0x40856b)=>{const _0x12c788=_0x53ff9f['_allocUnif'+'orm'](_0x45ea17,()=>new Float32Array(0x8e9*0x1+-0x1a*-0x13d+0x14*-0x20e)),_0xe47200=_0x53ff9f[_0x45ea17];return Dl['linear'](_0xe47200),_0x12c788[0x1b95*-0x1+0x1b2*0x14+-0x653]=Dl['r'],_0x12c788[-0x228a+-0x18*0x76+-0x1*-0x2d9b]=Dl['g'],_0x12c788[0x1a67+-0x77a+-0x1d*0xa7]=Dl['b'],_0x12c788;});}function Ce(_0x5deaa6,_0x4149f0,_0x308c12){ts({'name':_0x5deaa6,'defaultValue':_0x4149f0,'dirtyShaderFunc':(_0x3edacb,_0x3991dd)=>(_0x3edacb===-0x1*0x1bd+-0x3*0x3a+0x26b*0x1||_0x3edacb===0x619*-0x1+-0x172f+-0x1b9*-0x11)!=(_0x3991dd===0x2395*0x1+-0x144b+-0x67*0x26||_0x3991dd===0x11d3*-0x1+-0x39a+0x156e)}),Zc(_0x5deaa6,_0x308c12);}function qa(_0x49893f,_0x2b9191){ts({'name':_0x49893f,'defaultValue':null,'dirtyShaderFunc':(_0x466953,_0x2a6d78)=>!!_0x466953==!!_0x2a6d78}),Zc(_0x49893f,_0x2b9191);}function we(_0x5d9b13,_0x569716){ts({'name':_0x5d9b13,'defaultValue':_0x569716});}function tM(){Cn('ambient',new Y(-0x2*0x132a+-0x13f*-0xd+0x1622,-0x972+-0x19*-0x152+-0x178f,0xabd*-0x2+-0x157*0x1+0x16d2)),Cn('diffuse',new Y(-0xc*0x152+-0x12c5+-0x1*-0x229e,-0xacf*-0x1+-0x1*0x2d7+-0x7f7,-0x972*-0x1+-0x7b5*-0x1+-0x893*0x2)),Cn('specular',new Y(0xc8b+-0x1*0x1808+0xb7d,-0x1556+-0x2043+-0x1*-0x3599,0x9dc*0x1+0x1a2e+-0x240a)),Cn('emissive',new Y(0x2296+-0xcc1*0x1+-0x51*0x45,0x76*0x1d+0x827*-0x1+-0x537,0x2505+-0x9ad*0x2+-0x11ab)),Cn('sheen',new Y(-0x8c6*0x3+-0x1*-0x1c1+0x1892,0x697+0xb*-0xa1+0x55,0x1241+-0x5e*0x6+-0x9e*0x1a)),Cn('attenuatio'+'n',new Y(-0x45*-0x8d+-0x2c6*-0x2+-0x15c6*0x2,-0x1069*-0x2+-0x1182+-0xf4f,-0x1*-0xf6d+0x322*-0x8+0x9a4)),Ce('emissiveIn'+'tensity',0x1*0x1b6b+0x1d48+0xb1*-0x52),Ce('specularit'+'yFactor',-0x3*-0x79f+-0x19a3+0x2c7),Ce('sheenGloss',-0x1e*-0x87+0x1028*-0x1+0x56),Ce('gloss',0x1587+-0x27c*-0x5+-0x21f3+0.25),Ce('aoIntensit'+'y',0x3*-0x9a9+-0xbb*0x18+-0xba1*-0x4),Ce('heightMapF'+'actor',-0x2203+-0x1096*0x1+0x329a,(_0x2da5b6,_0x3067f9,_0x3cc904)=>_0x2da5b6['heightMapF'+'actor']*(0x1949+-0x1*0x1bfb+0x1e*0x17+0.025)),Ce('opacity',-0x1c33*-0x1+0x8*0x24b+-0x2e8a),Ce('alphaFade',0x10f2+0x1*-0x1da5+-0x65a*-0x2),Ce('alphaTest',-0x11eb*-0x1+-0x1*0xc2d+-0x5be),Ce('bumpiness',0x4*0x4ea+-0x1dc4+0xa1d),Ce('normalDeta'+'ilMapBumpi'+'ness',-0x61*-0x22+0x1d7a+0x2a5b*-0x1),Ce('reflectivi'+'ty',-0x1ee9+0x62e+-0x1*-0x18bc),Ce('occludeSpe'+'cularInten'+'sity',0x1552+-0x1ade+0x31*0x1d),Ce('refraction',-0x2*-0x824+0x21f9+0x3241*-0x1),Ce('refraction'+'Index',(-0x8*0x317+0x12f9*-0x2+0x3eab)/(-0x80f+-0x1d1a+-0x43*-0x8e+0.5)),Ce('dispersion',0xc13*0x2+0x1a02+-0x3228),Ce('thickness',-0x1219+0x1cda+0xac1*-0x1),Ce('attenuatio'+'nDistance',-0xb65+0x11*0x6e+0x417),Ce('metalness',-0x15e7+-0x459+0x1a41*0x1),Ce('anisotropy',-0xa84*0x3+0x8d0*0x1+0x16bc),Ce('clearCoat',-0xb75+-0x1*-0x1ec7+0x2*-0x9a9),Ce('clearCoatG'+'loss',-0x178c+-0x307+0x1a94),Ce('clearCoatB'+'umpiness',0x256c+-0x1406+-0x1165),Ce('aoUvSet',0x23de+0x1b43*0x1+-0x3f21,null),Ce('iridescenc'+'e',-0x1bfd+0xe6c*0x1+0xd91),Ce('iridescenc'+'eRefractio'+'nIndex',(-0x253b+0x4*-0x3da+0x34a4*0x1)/(0x516+-0xfb6*-0x1+-0x14cb*0x1+0.5)),Ce('iridescenc'+'eThickness'+'Min',0x7ae*-0x2+-0x1*-0xf7b+-0x1f*0x1),Ce('iridescenc'+'eThickness'+'Max',-0x57+-0x3d*0x12+0x4a1),qa('ambientSH'),qa('cubeMapPro'+'jectionBox',(_0x56d864,_0x534e4c,_0x29d1fd)=>{const _0x3c777e=_0x56d864['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(0x1934+-0x241+-0x2*0xb78)},{'name':'envBoxMax','value':new Float32Array(-0x19d9*0x1+0x1072+0x96a)}]),_0x25a5d5=_0x56d864['cubeMapPro'+'jectionBox']['getMin'](),_0x3da5d3=_0x3c777e[0x198e+-0x1*0x2032+0x32*0x22]['value'];_0x3da5d3[0x4*0x893+0x40e*-0x5+-0x2*0x703]=_0x25a5d5['x'],_0x3da5d3[0x1*-0x26b3+0xfb3+0x1701]=_0x25a5d5['y'],_0x3da5d3[0x1601+0x4a1+-0x1aa0]=_0x25a5d5['z'];const _0x56cf12=_0x56d864['cubeMapPro'+'jectionBox']['getMax'](),_0xe11aa2=_0x3c777e[-0x21e*0xb+0x5e*0x20+0xc5*0xf]['value'];return _0xe11aa2[0x1455+0xed1*0x2+-0x31f7]=_0x56cf12['x'],_0xe11aa2[0x676*-0x2+-0x1*-0x228f+-0x15a2]=_0x56cf12['y'],_0xe11aa2[-0x3*0x2db+-0x5*-0x3ef+-0xb18]=_0x56cf12['z'],_0x3c777e;}),we('specularTi'+'nt',!(0x22*0xc+0x1c4e+-0x1de5)),we('specularit'+'yFactorTin'+'t',!(-0x9*-0x3e+0x2e*0x8d+-0x1b83)),we('useMetalne'+'ss',!(0x1152+0x2*-0x1293+0x13d5)),we('useMetalne'+'ssSpecular'+'Color',!(-0x1346+-0xe9d*0x1+-0x3*-0xb4c)),we('useSheen',!(-0x1a6b+0x28*-0xf4+0x408c)),we('enableGGXS'+'pecular',!(-0x651*-0x1+-0x1b4b+0x14fb)),we('occludeDir'+'ect',!(-0x1c51*-0x1+-0x1*0xc25+-0x102b)),we('opacityFad'+'esSpecular',!(0x1*0x691+0x1*-0x1c67+-0xaeb*-0x2)),we('occludeSpe'+'cular',Bo),we('fresnelMod'+'el',Sp),we('useDynamic'+'Refraction',!(-0xc*-0x32c+0xbe4+0x13*-0x2a1)),we('cubeMapPro'+'jection',u0),we('customFrag'+'mentShader',null),we('useFog',!(-0x1037+0x1e3f+-0xe08)),we('useLightin'+'g',!(0xb85+-0x1b*-0x100+0x2685*-0x1)),we('useTonemap',!(-0x1637+0x1b91+-0x55a)),we('useSkybox',!(-0x1f0d+-0xa93+-0x14d0*-0x2)),we('forceUv1',!(0x1917*-0x1+0xab5+0xe63)),we('pixelSnap',!(-0x775+-0x19fb+0x1*0x2171)),we('twoSidedLi'+'ghting',!(0xce1*-0x3+0xb41*0x1+0x1*0x1b63)),we('nineSliced'+'Mode',void(0x251b+-0x14e7*0x1+-0x1034)),we('msdfTextAt'+'tribute',!(0x1c3+0x27d*-0xa+0xa*0x250)),we('useIridesc'+'ence',!(-0x1060+0x33*0x31+0x16*0x4d)),we('glossInver'+'t',!(0xa*0x397+-0x2092+-0x353)),we('sheenGloss'+'Invert',!(-0x4*-0x7e6+0x2e3*0x5+-0x2e06)),we('clearCoatG'+'lossInvert',!(-0x2239+-0x165a+0x3894)),we('opacityDit'+'her',Rs),we('opacitySha'+'dowDither',Rs),Ge('diffuse'),Ge('specular'),Ge('emissive'),Ge('thickness','g'),Ge('specularit'+'yFactor','g'),Ge('normal',''),Ge('metalness','g'),Ge('gloss','g'),Ge('opacity','a'),Ge('refraction','g'),Ge('height','g',!(-0x11*-0x11+0xef9+-0x1019)),Ge('ao','g'),Ge('light','rgb',!(-0x4c9+0x40d+0xbc*0x1),0x2*-0x347+0x27*-0xde+0x2861),Ge('msdf',''),Ge('diffuseDet'+'ail','rgb',!(-0x506*0x1+0x1287+0x6c0*-0x2)),Ge('normalDeta'+'il',''),Ge('aoDetail','g',!(0x385*0x2+-0x1e18+-0x1*-0x170f)),Ge('clearCoat','g'),Ge('clearCoatG'+'loss','g'),Ge('clearCoatN'+'ormal',''),Ge('sheen','rgb'),Ge('sheenGloss','g'),Ge('iridescenc'+'e','g'),Ge('iridescenc'+'eThickness','g'),we('diffuseDet'+'ailMode',km),we('aoDetailMo'+'de',km),qa('cubeMap'),qa('sphereMap'),qa('envAtlas');const _0x17a25=function(){return this['_prefilter'+'edCubemaps'];},_0x33bd9f=function(_0x2a8ccb){const _0x4182c1=this['_prefilter'+'edCubemaps'];_0x2a8ccb=_0x2a8ccb||[];let _0x2e1620=!(0xf70+-0xcd8+-0x3*0xdd),_0x3527d2=!(0x5a+0x18b*-0x15+-0x1*-0x200d);for(let _0x3a89ed=0x1e52+0x11d8+-0x302a;_0x3a89ed<-0x1a80+0x16*-0x175+-0x5c*-0xa3;++_0x3a89ed){const _0x538689=_0x2a8ccb[_0x3a89ed]||null;_0x4182c1[_0x3a89ed]!==_0x538689&&(_0x4182c1[_0x3a89ed]=_0x538689,_0x2e1620=!(0x42c+-0x12f8+0xecc*0x1)),_0x3527d2=_0x3527d2&&!!_0x4182c1[_0x3a89ed];}_0x2e1620&&(_0x3527d2?this['envAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x4182c1,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(0x87d+-0x1a97+-0x121a*-0x1));},_0x1988b0=[null,null,null,null,null,null];Op('prefiltere'+'dCubemaps',()=>_0x1988b0['slice'](),_0x33bd9f,_0x17a25);}tM();const dt=class dt{static['render'](_0x1cb481,_0x207a2b){const _0x38613b=_0x207a2b['device'],_0x3ca821=_0x1cb481['cells'],_0x1e26a7=_0x1cb481['lightsBuff'+'er'],_0x49f26a=_0x1e26a7['boundsMin'],_0x8be45d=_0x1e26a7['boundsDelt'+'a'],_0x3a5463=_0x49f26a['clone']()['add'](_0x8be45d),_0x10d985=_0x1e26a7['boundsDelt'+'a']['clone']()['div'](_0x3ca821),_0x5ce615=dt['gridPositi'+'ons'],_0x41be99=dt['gridColors'],_0x4c45cd=new Y(-0x386+-0x1*-0x1f3+-0x1f*-0xd+0.3,0x4*0x557+-0xa94+-0xac8+0.3,0x1b*0xcf+0x1*0x1df+-0xbda*0x2+0.3),_0x24b8e2=(_0x3fd263,_0x3cd3b3,_0x569958,_0x55c050,_0x39613a,_0x5a77e4,_0x239ef1,_0x59ae45,_0x1c4557)=>{for(let _0x2e0207=-0x1aae+-0xf67+0x18f*0x1b;_0x2e0207<=_0x3fd263;_0x2e0207++)for(let _0xf6b83=0x17*-0xdd+0xe21+0x1*0x5ba;_0xf6b83<=_0x3cd3b3;_0xf6b83++){const _0x54304c=_0x569958+_0x2e0207*_0x55c050,_0x1f40a5=_0x39613a+_0xf6b83*_0x5a77e4;_0x1c4557===-0x34*-0xa9+-0xaac+0x1*-0x17a8?_0x5ce615['push'](_0x54304c,_0x239ef1,_0x1f40a5,_0x54304c,_0x59ae45,_0x1f40a5):_0x1c4557===-0xfa7*0x1+0x23a7+-0x13ff*0x1?_0x5ce615['push'](_0x54304c,_0x1f40a5,_0x239ef1,_0x54304c,_0x1f40a5,_0x59ae45):_0x1c4557===-0x1c1*0x6+-0xd*-0x167+0x291*-0x3&&_0x5ce615['push'](_0x239ef1,_0x54304c,_0x1f40a5,_0x59ae45,_0x54304c,_0x1f40a5);}};if(_0x24b8e2(_0x3ca821['x'],_0x3ca821['z'],_0x49f26a['x'],_0x10d985['x'],_0x49f26a['z'],_0x10d985['z'],_0x49f26a['y'],_0x3a5463['y'],0xda3*-0x1+-0x4b4+0x1257),_0x24b8e2(_0x3ca821['x'],_0x3ca821['y'],_0x49f26a['x'],_0x10d985['x'],_0x49f26a['y'],_0x10d985['y'],_0x49f26a['z'],_0x3a5463['z'],-0x18ae+0x2*-0x3a5+0x5*0x665),_0x24b8e2(_0x3ca821['y'],_0x3ca821['z'],_0x49f26a['y'],_0x10d985['y'],_0x49f26a['z'],_0x10d985['z'],_0x49f26a['x'],_0x3a5463['x'],-0xc*-0x1b1+-0x11f0+-0x25a),_0x5ce615['length']){const _0x104b4a=_0x5ce615['length']/(-0x262b+-0x15fd*-0x1+0x1031*0x1);if(_0x104b4a!==_0x41be99['length']/(0x1e4a+-0x4*0x1a6+-0x17ae)){_0x41be99['length']=-0x20a8+0x225*0xa+0x7*0x19a;for(let _0x5351aa=0x3*-0x7e1+-0x99*0x1b+0x6a1*0x6;_0x5351aa<_0x104b4a;_0x5351aa++)_0x41be99['push'](_0x4c45cd['r'],_0x4c45cd['g'],_0x4c45cd['b'],_0x4c45cd['a']);}_0x207a2b['drawLineAr'+'rays'](_0x5ce615,_0x41be99),_0x5ce615['length']=-0x1cad*-0x1+0x1d27+0x39d4*-0x1;}let _0x233868=dt['mesh'];_0x233868||(_0x233868=new Ie(_0x38613b),_0x233868['clear'](!(-0x214*0x5+0x247d*0x1+-0x1a19),!(0x223a*0x1+-0x16f6+0x1c*-0x67)),dt['mesh']=_0x233868);const _0x5aae6d=[],_0x1e6cd5=[],_0x2bcf9f=[],_0x27c46f=_0x1cb481['_cells']['x'],_0x31c40b=_0x1cb481['_cells']['z'],_0x50dbe0=_0x1cb481['counts'],_0x4edc26=_0x1cb481['_maxCellLi'+'ghtCount'],_0x53f463=new T(),_0x70c5f2=new T(),_0x404e11=new T(),_0x2806a8=_0x8be45d['clone']()['div'](_0x3ca821);let _0x17a5a9=-0xc58+0x1509+-0x8b1;for(let _0x14abab=0x78c+0x202e+-0x27ba;_0x14abab<_0x3ca821['x'];_0x14abab++)for(let _0x3db6ed=-0x26c5+0x883+0x1*0x1e42;_0x3db6ed<_0x3ca821['z'];_0x3db6ed++)for(let _0x3c3c38=-0x15+0x83*0x35+-0x1*0x1b0a;_0x3c3c38<_0x3ca821['y'];_0x3c3c38++){const _0x3953ee=_0x14abab+_0x27c46f*(_0x3db6ed+_0x3c3c38*_0x31c40b),_0x55ba79=_0x50dbe0[_0x3953ee];if(_0x55ba79>0x1747+0xcda+-0x2421){_0x53f463['x']=_0x49f26a['x']+_0x2806a8['x']*_0x14abab,_0x53f463['y']=_0x49f26a['y']+_0x2806a8['y']*_0x3c3c38,_0x53f463['z']=_0x49f26a['z']+_0x2806a8['z']*_0x3db6ed,_0x70c5f2['add2'](_0x53f463,_0x2806a8),_0x5aae6d['push'](_0x53f463['x'],_0x53f463['y'],_0x70c5f2['z']),_0x5aae6d['push'](_0x70c5f2['x'],_0x53f463['y'],_0x70c5f2['z']),_0x5aae6d['push'](_0x70c5f2['x'],_0x70c5f2['y'],_0x70c5f2['z']),_0x5aae6d['push'](_0x53f463['x'],_0x70c5f2['y'],_0x70c5f2['z']),_0x5aae6d['push'](_0x70c5f2['x'],_0x53f463['y'],_0x53f463['z']),_0x5aae6d['push'](_0x53f463['x'],_0x53f463['y'],_0x53f463['z']),_0x5aae6d['push'](_0x53f463['x'],_0x70c5f2['y'],_0x53f463['z']),_0x5aae6d['push'](_0x70c5f2['x'],_0x70c5f2['y'],_0x53f463['z']),_0x404e11['lerp'](dt['colorLow'],dt['colorHigh'],_0x55ba79/_0x4edc26)['round']();for(let _0x58aa53=-0x3*-0x355+-0x258a+0x1b8b;_0x58aa53<-0x51f*0x7+0x25b4*-0x1+-0x5a9*-0xd;_0x58aa53++)_0x1e6cd5['push'](_0x404e11['x'],_0x404e11['y'],_0x404e11['z'],0x1*0x73+-0x140*0x17+-0x1c4e*-0x1);_0x2bcf9f['push'](_0x17a5a9*(0x2506+0x1e1a*-0x1+0x24*-0x31)+(0x2*0x11e0+0x1*-0x141d+-0xfa3),_0x17a5a9*(0x14ca+-0x254b+0x1089)+(-0xca1+0x1bb3+0x1d*-0x85),_0x17a5a9*(-0x1b39+-0x7*-0x4ab+-0x56c)+(-0x26fa+0x262b+0xd2)),_0x2bcf9f['push'](_0x17a5a9*(0x248e*0x1+0x1*0xabd+-0x2f43)+(-0xc6+-0x2391+0x245a),_0x17a5a9*(-0x185c*0x1+-0xa52+0x22b6)+(-0x1194+0x58*-0xa+-0x1505*-0x1),_0x17a5a9*(0x1d5*-0xa+-0x61*0x64+0x383e)+(0x54c*-0x1+0x431+0x11d)),_0x2bcf9f['push'](_0x17a5a9*(-0x1*-0xa63+0x1*0x6f4+-0x114f)+(0x854+-0x2d8+-0x578),_0x17a5a9*(-0x23e4+0x1*0x1852+0xb9a)+(-0xdb6+0x1*0x10+0xdab),_0x17a5a9*(-0x228d+0x19bf+0x8d6)+(-0x1f43+0x39f+0x1bab)),_0x2bcf9f['push'](_0x17a5a9*(-0x6d*-0x5+0x1*0xfb5+0x8e7*-0x2)+(0x20c2+0x65*-0x49+0x1*-0x3ee),_0x17a5a9*(-0x513+0x1666+-0xe9*0x13)+(-0x122a+-0x1*-0x1073+0x4*0x6f),_0x17a5a9*(-0x1ca4+0x2522*-0x1+0x41ce)+(0xea4+0x194b+-0x27e9)),_0x2bcf9f['push'](_0x17a5a9*(0x7b4+-0x1684+0xed8)+(0x2278+-0x6*0x577+-0x1ab),_0x17a5a9*(0x296+-0x256*-0xc+0x2*-0xf4b)+(0x39f*0x1+0xe*-0x239+-0x92b*-0x3),_0x17a5a9*(-0x1459+0xaa9*-0x1+0x1f0a)+(0xfae+-0x91*-0x3d+0x3235*-0x1)),_0x2bcf9f['push'](_0x17a5a9*(-0x1*-0x1e21+-0x1e0c+0xd*-0x1)+(-0x1*0x1222+-0x2522+-0x236*-0x19),_0x17a5a9*(0x17e3+-0x1858+0x1*0x7d)+(-0x10d8+0x1502+-0x423),_0x17a5a9*(-0x3*-0x367+-0x74b+0x9*-0x52)+(-0x23a+-0x23b1+0x25f1)),_0x2bcf9f['push'](_0x17a5a9*(-0x16d+-0x1*-0xc9f+0x2*-0x595)+(0x305*-0x7+-0x45f+0x881*0x3),_0x17a5a9*(0x481+0x11a5+-0x161e)+(0x15*-0x46+0xd6a*-0x2+-0x1049*-0x2),_0x17a5a9*(-0x1*-0xcdc+0x1069*-0x1+0x1*0x395)+(0x4*-0x5ce+0x2267*0x1+-0x3*0x3b9)),_0x2bcf9f['push'](_0x17a5a9*(-0x1987*-0x1+0x13*-0x9d+-0x376*0x4)+(0x21cf+0x1433*-0x1+-0x10c*0xd),_0x17a5a9*(0x3f7*0x7+0x2591+0x3d*-0x112)+(-0x3*-0x112+-0xf17*-0x2+-0x215f),_0x17a5a9*(-0x1*-0x1ef5+-0x1aef+0x49*-0xe)+(0xc*0xf8+0xc92*-0x1+0xf6)),_0x2bcf9f['push'](_0x17a5a9*(0x3*0xbb7+0x4*0x456+-0x3475)+(-0x34*0xa9+0x2520+-0x2cb),_0x17a5a9*(-0x8b1*-0x1+-0x1b97*-0x1+-0x1220*0x2)+(-0x178e+0x232*0xa+0x12*0x17),_0x17a5a9*(-0x1*0x18aa+-0x1b33+0x1*0x33e5)+(-0x2ac*0x4+0x616+0x49c)),_0x2bcf9f['push'](_0x17a5a9*(-0x1*-0x5a7+-0x6*-0x613+-0x3d3*0xb)+(-0x2274*0x1+0xa72+-0x4ce*-0x5),_0x17a5a9*(-0x1*0x1877+-0xbf1*-0x1+0xc8e)+(0x6df+-0x23ac+0x1cd4),_0x17a5a9*(-0x68e*0x1+-0xd66+0x4*0x4ff)+(-0x1554+0xaec*0x1+0x1f*0x56)),_0x2bcf9f['push'](_0x17a5a9*(0x1ff7+-0xfff+-0x88*0x1e)+(0x1316+0x1308+-0x2619),_0x17a5a9*(-0x1edd*0x1+0x260c+-0x727)+(-0x97*-0xb+-0x3a5*-0x3+-0x45b*0x4),_0x17a5a9*(-0x171a*-0x1+0x2259+-0x396b)+(0x2cf*-0xb+0xbdb+0x1310)),_0x2bcf9f['push'](_0x17a5a9*(0x1*-0x959+-0x8d9+0x123a)+(0x1aa*-0xc+-0x2*-0x29b+-0x761*-0x2),_0x17a5a9*(-0xa31+0x20b*0xd+0x3*-0x572)+(-0x15bb+-0xb9d*-0x1+0xa21*0x1),_0x17a5a9*(0xf65+0x12*0x4a+-0x1491)+(-0x1*-0x2085+-0xd*-0xe0+-0x2bdf)),_0x17a5a9++;}}if(_0x17a5a9){if(_0x233868['setPositio'+'ns'](_0x5aae6d),_0x233868['setColors3'+'2'](_0x1e6cd5),_0x233868['setIndices'](_0x2bcf9f),_0x233868['update'](Ms,!(-0x17f3*-0x1+0x455+-0x1c47)),!dt['meshInstan'+'ce']){const _0x4dc8d1=new cs();_0x4dc8d1['useLightin'+'g']=!(0x26*0x1f+0xe17+-0x12b0),_0x4dc8d1['emissive']=new Y(-0x1a17*0x1+-0x1582+0x2f9a,-0xd5f+-0x22a4+0x3004,-0x97b+0x14b3+-0xb37),_0x4dc8d1['emissiveVe'+'rtexColor']=!(0x59*0xb+0x2104+-0x24d7),_0x4dc8d1['blendType']=Hc,_0x4dc8d1['depthWrite']=!(0x23b*-0x6+0x76+0xced),_0x4dc8d1['update']();const _0x11dd51=new De('WorldClust'+'ersDebug');_0x11dd51['worldTrans'+'form']=q['IDENTITY'],_0x11dd51['_dirtyWorl'+'d']=_0x11dd51['_dirtyNorm'+'al']=!(0x2*0x577+0x377*0x1+-0x6*0x266),dt['meshInstan'+'ce']=new Le(_0x233868,_0x4dc8d1,_0x11dd51),dt['meshInstan'+'ce']['cull']=!(0x4*0x2d+-0x1f9a+0x1ee7);}const _0xcfcee3=dt['meshInstan'+'ce'];_0x207a2b['immediate']['drawMesh'](_0xcfcee3['material'],_0xcfcee3['node']['worldTrans'+'form'],null,_0xcfcee3,_0x207a2b['defaultDra'+'wLayer']);}}};c(dt,'gridPositi'+'ons',[]),c(dt,'gridColors',[]),c(dt,'mesh',null),c(dt,'meshInstan'+'ce',null),c(dt,'colorLow',new T(-0x1*-0x12cb+-0x1c13+0x949,-0x2055+0xf*-0x125+-0x1b5*-0x1d,-0x2406+0x2562+-0x15b)),c(dt,'colorHigh',new T(0x2377+0x1102+-0x3451,-0xc3e+0x36*-0x86+0x2882,0x23ee+0x2*-0xba+-0x227a));let Vu=dt;const sM='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let vi=null;const R0=()=>{if(!vi){const _0x49ddbb=atob(sM);vi=Uint8Array['from'](_0x49ddbb,_0x1c91f1=>_0x1c91f1['charCodeAt'](-0x2215+0xe4f+0x2*0x9e3));}},iM=()=>(R0(),vi);class rM{constructor(_0x1acf35=-0x78*-0x42+-0x14de+-0x2*0x509){c(this,'seed',0x13fc+0x1*-0x798+-0xc64),(this['seed']=_0x1acf35*(0x1154*-0x1+-0x7*0x409+0x2d97),R0());}['_next'](){this['seed']=(this['seed']+(-0xa5*-0x3+-0x1c03*0x1+0x1a18))%vi['length'];}['value'](){return this['_next'](),vi[this['seed']]/(0x2661+0x1426+-0x3988);}['vec4'](_0xca4cf5=new Q()){return this['_next'](),_0xca4cf5['set'](vi[this['seed']],vi[this['seed']+(-0x3*0x5a3+-0xcec+0x13*0x192)],vi[this['seed']+(0x81*-0x8+0x907+-0x4fd*0x1)],vi[this['seed']+(0xda*0x5+-0xf1*-0x17+-0x186*0x11)])['mulScalar']((-0x257d+0x1b6e+0xe*0xb8)/(-0x114d*0x1+-0x5*-0x33c+0x220));}}const nM=[new T(-(-0x1b1*-0xb+0x26bf+-0x3959),0x23ea*0x1+-0x26b*-0x5+-0x3001,-0x1*0x1097+-0xa4e+0x1ae5),new T(-0xd51+0x224d+-0x14fb,-0x138d+0x1*-0x1de3+0x3170,-0x111+-0x252*-0x2+-0x393),new T(0x25c9+0x187d+-0x2*0x1f23,-(-0x1f9+-0x160f+0x1809),-0xe61*-0x1+-0x267a+0x1819),new T(0xc25+0x535+-0x2*0x8ad,0xdb*-0x17+-0x2219+0x35c7,0x1930+0xab5*0x2+-0x2e9a),new T(0x23c6+-0x13eb+-0xfdb,-0xde5*0x2+-0x1*0x60a+-0x5*-0x6c4,-(-0x4*-0x275+-0xcb*0x25+0x1384)),new T(0x14c5+-0x37a+0x1*-0x114b,-0x113f+0x1d4d+-0xc0e,0x5f4+0x25*-0x59+0x1e*0x3b)];class aM{constructor(){c(this,'colors',new Float32Array((0x7*-0x40+0x1c97+-0x5*0x55d)*(0x2*-0x58f+-0x109c+0x1bbd)));}['update'](_0x2503fb,_0xc31912){const _0x283d2a=this['colors'],{r:_0x3cc138,g:_0x2d3155,b:_0x3cba01}=_0x2503fb;for(let _0x49bb11=0x564+-0x1*0x266+0x1*-0x2fe;_0x49bb11<0xa1*-0x1e+-0x122d+-0x1*-0x2511;_0x49bb11++)_0x283d2a[_0x49bb11*(-0xf57+-0x20db*0x1+0x3035)]=_0x3cc138,_0x283d2a[_0x49bb11*(-0xc*0xb0+0x13*-0x13a+-0x1*-0x1f91)+(0x1ea1*-0x1+0x1bce*0x1+0x2d4)]=_0x2d3155,_0x283d2a[_0x49bb11*(0x57c+0x53*-0x2d+0x2*0x48f)+(0x6ad+-0x2*0x76d+-0x82f*-0x1)]=_0x3cba01;for(let _0xfa95a2=-0x13*-0x1d1+0x15*0x16+0x2451*-0x1;_0xfa95a2<_0xc31912['length'];_0xfa95a2++){const _0x19dd22=_0xc31912[_0xfa95a2];if(_0x19dd22['_type']===oe)for(let _0x20f2a1=0x1c6e+-0x1*-0x14fa+-0x3168;_0x20f2a1<-0x1456+-0x1450+0x28ac;_0x20f2a1++){const _0x57e437=Math['max'](nM[_0x20f2a1]['dot'](_0x19dd22['_direction']),0xdf7+-0x25e5*0x1+-0xbf7*-0x2)*_0x19dd22['_intensity'],_0x928069=_0x19dd22['_color'];_0x283d2a[_0x20f2a1*(-0x1e5*0xa+0x18c4+-0x5cf)]+=_0x928069['r']*_0x57e437,_0x283d2a[_0x20f2a1*(-0x214f+-0x16a*0xa+0x5*0x97e)+(-0x2*-0x499+-0x1657+0x9*0x176)]+=_0x928069['g']*_0x57e437,_0x283d2a[_0x20f2a1*(0x1284+0x8*-0x341+0x787)+(0x8bc*-0x1+-0x1*-0xf1+0x7cd*0x1)]+=_0x928069['b']*_0x57e437;}}}}const oM=(_0x110f3e,_0x4ad889,_0x47d495,_0x4d73e9)=>{const _0x14ae29=new he(_0x110f3e,{'name':''+_0x4ad889+_0x47d495,'width':_0x47d495,'height':_0x47d495,'format':Se,'addressU':tt,'addressV':tt,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1,'mipmaps':!(0x16e2+0xd*0x8e+-0x1e17)});return _0x14ae29['lock']()['set'](_0x4d73e9),_0x14ae29['unlock'](),_0x14ae29;},lM=new Ot(),hM=_0x57e74d=>lM['get'](_0x57e74d,()=>{const _0x39380b=iM(),_0xe9e4e1=Math['sqrt'](_0x39380b['length']/(0x15fd+0x7*-0x21d+-0x72e));return oM(_0x57e74d,'BlueNoise',_0xe9e4e1,_0x39380b);});class un{constructor(_0x533e45,_0x25acab){this['texture']=_0x533e45,this['cached']=!(-0x15f7+-0x418+0xc*0x22c),this['renderTarg'+'ets']=_0x25acab;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x43be96=this['renderTarg'+'ets'];for(let _0x33b216=0x718+0x9+-0x49*0x19;_0x33b216<_0x43be96['length'];_0x33b216++)_0x43be96[_0x33b216]['destroy']();this['renderTarg'+'ets']['length']=-0x9f*-0x39+-0x239a+-0x3*-0x11;}static['getShadowF'+'iltering'](_0x120a62,_0x5789e7){return _0x5789e7===Wr?_0x120a62['extTexture'+'FloatLinea'+'r']?st:de:st;}static['create'](_0xde4402,_0xf0cc58){let _0x1bfee2=null;return _0xf0cc58['_type']===Pe?_0x1bfee2=this['createCube'+'map'](_0xde4402,_0xf0cc58['_shadowRes'+'olution'],_0xf0cc58['_shadowTyp'+'e']):_0x1bfee2=this['create2dMa'+'p'](_0xde4402,_0xf0cc58['_shadowRes'+'olution'],_0xf0cc58['_shadowTyp'+'e']),_0x1bfee2;}static['createAtla'+'s'](_0x220275,_0x488016,_0x509c5d){const _0x10d0d8=this['create2dMa'+'p'](_0x220275,_0x488016,_0x509c5d),_0x5b2769=_0x10d0d8['renderTarg'+'ets'],_0x106701=_0x5b2769[-0xa0e+-0x153*0x11+-0x18d*-0x15];for(let _0x9945f0=0x13a8+0x98d+-0x1d35*0x1;_0x9945f0<-0x1b6a+-0xad*-0xd+0x12a6;_0x9945f0++)_0x5b2769['push'](_0x106701);return _0x10d0d8;}static['create2dMa'+'p'](_0xa7dcf1,_0x55f555,_0x4e0f83){var _0x44f907;const _0xa9c0be=ir['get'](_0x4e0f83);v['assert'](_0xa9c0be);let _0x29a07e=_0xa9c0be['format'];_0x29a07e===Ii&&!_0xa7dcf1['textureFlo'+'atRenderab'+'le']&&_0xa7dcf1['textureHal'+'fFloatRend'+'erable']&&(_0x29a07e=Ec);const _0x1bbcbc=(_0x44f907=xt['get'](_0x29a07e))==null?void(0xf5*-0x5+0x230e+-0x1e45):_0x44f907['name'],_0x404ab6=this['getShadowF'+'iltering'](_0xa7dcf1,_0x4e0f83),_0x22ff58=new he(_0xa7dcf1,{'profilerHint':Tu,'format':_0x29a07e,'width':_0x55f555,'height':_0x55f555,'mipmaps':!(-0x4*0x963+-0x15b9*-0x1+-0x2*-0x7ea),'minFilter':_0x404ab6,'magFilter':_0x404ab6,'addressU':ae,'addressV':ae,'name':'ShadowMap2'+'D_'+_0x1bbcbc});let _0x9bc462=null;return _0xa9c0be!=null&&_0xa9c0be['pcf']?(_0x22ff58['compareOnR'+'ead']=!(0x1*-0x1db2+0x1eb*0x9+0xc6f),_0x22ff58['compareFun'+'c']=Eh,_0x9bc462=new pt({'depthBuffer':_0x22ff58})):_0x9bc462=new pt({'colorBuffer':_0x22ff58,'depth':!(-0x1d9d+0x153c+0x41*0x21)}),_0xa7dcf1['isWebGPU']&&(_0x9bc462['flipY']=!(-0x6a6*-0x5+-0x538*-0x6+-0x408e)),new un(_0x22ff58,[_0x9bc462]);}static['createCube'+'map'](_0x32e2a6,_0x3060bb,_0x25d379){var _0xda2bdf;const _0x2c2462=ir['get'](_0x25d379);v['assert'](_0x2c2462);const _0x45b753=(_0xda2bdf=xt['get'](_0x2c2462['format']))==null?void(-0x7aa+-0xf9c*-0x1+-0x3*0x2a6):_0xda2bdf['name'],_0x4d152f=_0x25d379===Ts,_0x16cf08=_0x4d152f?de:st,_0x16e264=new he(_0x32e2a6,{'profilerHint':Tu,'format':_0x2c2462==null?void(0xc41+0x9d*-0x7+-0x3fb*0x2):_0x2c2462['format'],'width':_0x3060bb,'height':_0x3060bb,'cubemap':!(0x1469+-0x22e7*-0x1+-0x3750),'mipmaps':!(0x23ef+0x1179+-0x5d*0x93),'minFilter':_0x16cf08,'magFilter':_0x16cf08,'addressU':ae,'addressV':ae,'name':'ShadowMapC'+'ube_'+_0x45b753});_0x4d152f||(_0x16e264['compareOnR'+'ead']=!(0x38*-0x21+0x14*0x83+-0x4*0xc1),_0x16e264['compareFun'+'c']=Eh);const _0x50ddce=[];for(let _0x207efd=0x5*0x98+0x9f*0x27+-0x1*0x1b31;_0x207efd<0x4e9+-0x19f*-0x5+-0xcfe;_0x207efd++)_0x4d152f?_0x50ddce['push'](new pt({'colorBuffer':_0x16e264,'face':_0x207efd,'depth':!(-0xde*0x1d+0x1cf7+0x3d1*-0x1)})):_0x50ddce['push'](new pt({'depthBuffer':_0x16e264,'face':_0x207efd}));return new un(_0x16e264,_0x50ddce);}}const cM=[],dM=[],Js=new Q(),Cd=new Q();class Md{constructor(_0x2ccc72){this['size']=Math['floor'](_0x2ccc72['w']*(0x6cd*-0x1+0xac1+0xc)),this['used']=!(0x24c8+0x1*-0x1459+-0x106e),this['lightId']=-(0x710+-0x1881+0x1172),this['rect']=_0x2ccc72;}}class uM{constructor(_0x3f16e8){this['device']=_0x3f16e8,this['version']=-0x1fb2+0x1f67+0x4c*0x1,this['shadowAtla'+'sResolutio'+'n']=-0x235d*0x1+-0x179b+-0x2*-0x217c,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=0xb58+-0x5*-0x105+-0x2bd*0x6,this['cookieAtla'+'sResolutio'+'n']=0x3*0x1f7+0x755*-0x4+-0x17*-0x105,this['cookieAtla'+'s']=new he(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':rs,'cubemap':!(-0x2*0x52a+0xfff+0x5*-0x122),'mipmaps':!(0x6c1+0x2493+-0x3*0xe71),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae}),this['cookieRend'+'erTarget']=new pt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(-0x3d7*-0x4+-0xd9f+-0x94*0x3),'flipY':!(-0x15*0x73+-0xcdd*-0x1+-0x36e)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new W(-0x13c0+-0x5*-0x3fe+-0x12*0x3,-0x24*-0x1+-0x4cb+-0x4a7*-0x1),new W(-0x65d+0xc9*-0x2+-0x7ef*-0x1,-0x24*-0x53+-0x27*-0x6+-0xc95),new W(0xa*-0x2ab+-0x1af*0xd+0x3092,0x1*0x1d3b+-0x2232+-0x1f*-0x29),new W(-0xc*0x7+-0xe5*-0x3+-0x25a,0x5*-0x95+0x7*0x18d+-0x7f1),new W(-0x139f*0x1+-0xd9*-0x4+-0x1*-0x103d,-0x1b11+-0x1274+0x2d85),new W(0x1303+-0x166*-0xb+0x1*-0x2263,0x5d*0x3+0x254f*0x1+-0x1*0x2665)],this['scissorVec']=new Q(),this['allocateSh'+'adowAtlas'](0xa25+-0x2*-0xc44+0x1*-0x22ac),this['allocateCo'+'okieAtlas'](-0x112+0x20b0+0x1*-0x1f9d),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x3e5c94;(_0x3e5c94=this['shadowAtla'+'s'])==null||_0x3e5c94['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x56d91c,_0x2257ca;(_0x56d91c=this['cookieAtla'+'s'])==null||_0x56d91c['destroy'](),this['cookieAtla'+'s']=null,(_0x2257ca=this['cookieRend'+'erTarget'])==null||_0x2257ca['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x2b9184,_0xfc4a4d=Dt){var _0x3a2924;const _0x3c2cde=(_0x3a2924=this['shadowAtla'+'s'])==null?void(0xcfc+0x2216+-0x2*0x1789):_0x3a2924['texture']['format'],_0x548ff=ir['get'](_0xfc4a4d)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x2b9184||_0x3c2cde!==_0x548ff){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=un['createAtla'+'s'](this['device'],_0x2b9184,_0xfc4a4d),this['shadowAtla'+'s']['cached']=!(-0x6*0x4d6+-0x23a1*0x1+0x40a5);const _0x1e8510=(0x1*-0x653+0xc8c+-0xe3*0x7)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x1e8510,_0x1e8510,-(0xfe*-0x15+-0xc1f*0x2+0x2d16)*_0x1e8510,-(-0x49a+0x242d+0x1*-0x1f91)*_0x1e8510);}}['allocateCo'+'okieAtlas'](_0x237abb){this['cookieAtla'+'s']['width']!==_0x237abb&&(this['cookieRend'+'erTarget']['resize'](_0x237abb,_0x237abb),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(-0x2*-0x515+-0x9e+-0x98a),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0xea8fd3=this['shadowAtla'+'s']['renderTarg'+'ets'][-0x8d1+-0x4a7+0xd78]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0xea8fd3),this['_shadowAtl'+'asParams'][-0x1693+0x2323*-0x1+0x39b6]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][0x1902+0x1829+-0x1895*0x2]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x5668ac,_0x2d9ce5){let _0x17aed3=_0x2d9ce5['atlasSplit'];if(!_0x17aed3){const _0x3bba58=Math['ceil'](Math['sqrt'](_0x5668ac));_0x17aed3=dM,_0x17aed3[0x1*-0x21a1+0x12d0+0xed1*0x1]=_0x3bba58,_0x17aed3['length']=0x26dc*0x1+-0x1*0x19b5+0x16*-0x99;}if(!((_0x20a882,_0x4d5b2b)=>_0x20a882['length']===_0x4d5b2b['length']&&_0x20a882['every']((_0x540709,_0x2b03e7)=>_0x540709===_0x4d5b2b[_0x2b03e7]))(_0x17aed3,this['atlasSplit'])){this['version']++,this['slots']['length']=0x6*-0x1b7+0x906+0x2*0xa2,this['atlasSplit']['length']=-0x1*-0x2ef+0x10a8+-0x1397,this['atlasSplit']['push'](..._0x17aed3);const _0x522762=this['atlasSplit'][0xca6+-0x2038+0xf*0x14e];if(_0x522762>-0x21*-0x83+-0x12d1+0x1ef*0x1){const _0x8cb1ae=(-0x15*-0x103+0x1*-0x1bb9+0x4f*0x15)/_0x522762;for(let _0x29c0c2=0x92*-0x32+0x1280+0xa04;_0x29c0c2<_0x522762;_0x29c0c2++)for(let _0x5b145e=-0xae*-0x1+0x26f5+-0x8b*0x49;_0x5b145e<_0x522762;_0x5b145e++){const _0x2c2f40=new Q(_0x29c0c2*_0x8cb1ae,_0x5b145e*_0x8cb1ae,_0x8cb1ae,_0x8cb1ae),_0x36962e=this['atlasSplit'][0x1*0x266b+-0x1a*0x8b+-0x137*0x14+_0x29c0c2*_0x522762+_0x5b145e];if(_0x36962e>0xd2b*0x1+-0x24d*0xd+0x10bf){for(let _0x1a0f70=0x27*0xdb+0x1166+-0x32c3;_0x1a0f70<_0x36962e;_0x1a0f70++)for(let _0x507c87=0x13e*-0x18+-0x1199+0x2f69;_0x507c87<_0x36962e;_0x507c87++){const _0x309511=_0x8cb1ae/_0x36962e,_0x16f5c8=new Q(_0x2c2f40['x']+_0x1a0f70*_0x309511,_0x2c2f40['y']+_0x507c87*_0x309511,_0x309511,_0x309511);this['slots']['push'](new Md(_0x16f5c8));}}else this['slots']['push'](new Md(_0x2c2f40));}}else this['slots']['push'](new Md(new Q(-0x1b27+0xb79*-0x2+0x3219,0x2*-0x760+0x71d+0x73*0x11,-0x3*-0x599+-0x108c+-0x3e,0x90*-0x34+0x1f31+-0x1f0)));this['slots']['sort']((_0x5ad294,_0x1834d9)=>_0x1834d9['size']-_0x5ad294['size']);}}['collectLig'+'hts'](_0x47236f,_0x2d90f7){const _0x1f13a0=_0x2d90f7['cookiesEna'+'bled'],_0x1ef522=_0x2d90f7['shadowsEna'+'bled'];let _0x231d24=!(0x2476+0x24b7+-0x1c*0x29d),_0x39163a=!(0x2181+0x7*-0x3cf+0x67*-0x11);const _0x5aea69=cM;return _0x5aea69['length']=-0x3*-0xc0b+0x316*-0x4+-0x1*0x17c9,(_0x1f13a0||_0x1ef522)&&(_0x158652=>{for(let _0x4f2650=-0x7ba+-0x263c+0x2df6;_0x4f2650<_0x158652['length'];_0x4f2650++){const _0x369456=_0x158652[_0x4f2650];if(_0x369456['visibleThi'+'sFrame']){const _0x450a14=_0x1ef522&&_0x369456['castShadow'+'s'],_0x37622c=_0x1f13a0&&!!_0x369456['cookie'];_0x231d24||(_0x231d24=_0x450a14),_0x39163a||(_0x39163a=_0x37622c),(_0x450a14||_0x37622c)&&_0x5aea69['push'](_0x369456);}}})(_0x47236f),_0x5aea69['sort']((_0x37cd87,_0x4d54e7)=>_0x4d54e7['maxScreenS'+'ize']-_0x37cd87['maxScreenS'+'ize']),_0x231d24&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x2d90f7['shadowType']),_0x39163a&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x231d24||_0x39163a)&&this['subdivide'](_0x5aea69['length'],_0x2d90f7),_0x5aea69;}['setupSlot'](_0x596598,_0x14c1cd){_0x596598['atlasViewp'+'ort']['copy'](_0x14c1cd);const _0x1851e2=_0x596598['numShadowF'+'aces'];for(let _0x1b6d14=-0x1*0x18df+0x243e*-0x1+0x3d1d;_0x1b6d14<_0x1851e2;_0x1b6d14++)if(_0x596598['castShadow'+'s']||_0x596598['_cookie']){if(Js['copy'](_0x14c1cd),Cd['copy'](_0x14c1cd),_0x596598['_type']===Re&&Js['add'](this['scissorVec']),_0x596598['_type']===Pe){const _0x1a9c63=Js['z']/(0x2*0xce8+-0x1bb*-0x15+-0x3e24),_0x3c8a40=this['cubeSlotsO'+'ffsets'][_0x1b6d14];Js['x']+=_0x1a9c63*_0x3c8a40['x'],Js['y']+=_0x1a9c63*_0x3c8a40['y'],Js['z']=_0x1a9c63,Js['w']=_0x1a9c63,Cd['copy'](Js);}if(_0x596598['castShadow'+'s']){const _0x4bc8f6=_0x596598['getRenderD'+'ata'](null,_0x1b6d14);_0x4bc8f6['shadowView'+'port']['copy'](Js),_0x4bc8f6['shadowScis'+'sor']['copy'](Cd);}}}['assignSlot'](_0x51604e,_0x2cf19d,_0x357adb){_0x51604e['atlasViewp'+'ortAllocat'+'ed']=!(-0x10*-0x18+0x2224+0x8e9*-0x4);const _0x410e7a=this['slots'][_0x2cf19d];_0x410e7a['lightId']=_0x51604e['id'],_0x410e7a['used']=!(0x1a4b+-0x79*-0xb+-0x2*0xfbf),_0x357adb&&(_0x51604e['atlasSlotU'+'pdated']=!(-0x1*0x956+0x7f*0x1d+0x1af*-0x3),_0x51604e['atlasVersi'+'on']=this['version'],_0x51604e['atlasSlotI'+'ndex']=_0x2cf19d);}['update'](_0x3dcae9,_0x3e43bb){this['shadowAtla'+'sResolutio'+'n']=_0x3e43bb['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x3e43bb['cookieAtla'+'sResolutio'+'n'];const _0x11bdbe=this['collectLig'+'hts'](_0x3dcae9,_0x3e43bb);if(_0x11bdbe['length']>0x14ba+-0x21ed+0xd33){const _0x3d6196=this['slots'];for(let _0x43b7a3=0x126+-0x1e3c*0x1+0x1*0x1d16;_0x43b7a3<_0x3d6196['length'];_0x43b7a3++)_0x3d6196[_0x43b7a3]['used']=!(0x18*-0x5b+0x139*-0x2+0xafb);const _0x196d23=Math['min'](_0x11bdbe['length'],_0x3d6196['length']);for(let _0x24cf56=0x57a*0x7+-0x7b5*0x3+0x13*-0xcd;_0x24cf56<_0x196d23;_0x24cf56++){const _0xf2d3a5=_0x11bdbe[_0x24cf56];_0xf2d3a5['castShadow'+'s']&&(_0xf2d3a5['_shadowMap']=this['shadowAtla'+'s']);const _0x3818aa=_0x3d6196[_0xf2d3a5['atlasSlotI'+'ndex']];if(_0xf2d3a5['atlasVersi'+'on']===this['version']&&_0xf2d3a5['id']===(_0x3818aa==null?void(-0x1*0x764+0xc8e+-0x52a):_0x3818aa['lightId'])){const _0x5a3f27=_0x3d6196[_0xf2d3a5['atlasSlotI'+'ndex']];_0x5a3f27['size']===_0x3d6196[_0x24cf56]['size']&&!_0x5a3f27['used']&&this['assignSlot'](_0xf2d3a5,_0xf2d3a5['atlasSlotI'+'ndex'],!(0xc02+-0x11*-0x197+0x4e1*-0x8));}}let _0x2ae99c=0xe85+0x3f*0x1+-0xec4;for(let _0x389f98=0xe7b+-0x1c13+0xd98;_0x389f98<_0x196d23;_0x389f98++){for(;_0x2ae99c<_0x3d6196['length']&&_0x3d6196[_0x2ae99c]['used'];)_0x2ae99c++;const _0x3f0a08=_0x11bdbe[_0x389f98];_0x3f0a08['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x3f0a08,_0x2ae99c,!(0x51e*-0x7+-0x26c6+-0xe*-0x554));const _0x15bda1=_0x3d6196[_0x3f0a08['atlasSlotI'+'ndex']];this['setupSlot'](_0x3f0a08,_0x15bda1['rect']);}}this['updateUnif'+'orms']();}}class fM{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x223f16=>{_0x223f16['forEach'](_0x4d577a=>{_0x4d577a['destroy']();});}),this['cache']['clear']();}['getKey'](_0x2839b2){const _0x12bd60=_0x2839b2['_type']===Pe,_0x56260f=_0x2839b2['_shadowTyp'+'e'],_0x5b415a=_0x2839b2['_shadowRes'+'olution'];return _0x12bd60+'-'+_0x56260f+'-'+_0x5b415a;}['get'](_0x48a298,_0x9d0e55){const _0x447653=this['getKey'](_0x9d0e55),_0x149f29=this['cache']['get'](_0x447653);if(_0x149f29&&_0x149f29['length'])return _0x149f29['pop']();const _0x4ae423=un['create'](_0x48a298,_0x9d0e55);return _0x4ae423['cached']=!(-0x98a*-0x1+0x805+-0x1f*0x91),_0x4ae423;}['add'](_0x74efef,_0x44c143){const _0x1a8fa8=this['getKey'](_0x74efef),_0xf4727a=this['cache']['get'](_0x1a8fa8);_0xf4727a?_0xf4727a['push'](_0x44c143):this['cache']['set'](_0x1a8fa8,[_0x44c143]);}}class pM extends ds{constructor(_0x71965d,_0x35065f,_0x4d6af8,_0x5d380b,_0x1bce4b){super(_0x71965d),mn['setName'](this,this['name']+'-'+_0x4d6af8['_node']['name']),this['requiresCu'+'bemaps']=!(-0x186a+-0x1809+0xc1d*0x4),this['shadowRend'+'erer']=_0x35065f,this['light']=_0x4d6af8,this['face']=_0x5d380b,this['applyVsm']=_0x1bce4b,this['shadowCame'+'ra']=_0x35065f['prepareFac'+'e'](_0x4d6af8,null,_0x5d380b),_0x35065f['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(0x194b+-0x14dd+-0x46e));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(-0x1be0+0x1*0x2683+0xaa2*-0x1));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class mM{constructor(_0x4c2cb7,_0x4cb924){c(this,'shadowLigh'+'ts',[]),c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x4c2cb7,this['shadowRend'+'erer']=_0x4cb924,this['device']=_0x4c2cb7['device']);}['cull'](_0x34b62c,_0x5283d4,_0x29d06e=null){const _0x1cf8da=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x34b62c['visibleThi'+'sFrame']=!(0x62*0x45+-0x1959+-0x111),_0x1cf8da||_0x34b62c['_shadowMap']||(_0x34b62c['_shadowMap']=un['create'](this['device'],_0x34b62c));const _0x3a3bb0=_0x34b62c['_type'],_0x47b50b=_0x3a3bb0===Re?-0x17e3+-0x1f*0x12e+0x3c76:-0x466*-0x2+0x2618+-0x2*0x176f;for(let _0x581052=-0x198a+-0x535*0x7+0x3dfd;_0x581052<_0x47b50b;_0x581052++){const _0x4fe62d=_0x34b62c['getRenderD'+'ata'](null,_0x581052),_0x4c1a75=_0x4fe62d['shadowCame'+'ra'];_0x4c1a75['nearClip']=_0x34b62c['attenuatio'+'nEnd']/(-0x66+0xc0b*-0x1+0x1059),_0x4c1a75['farClip']=_0x34b62c['attenuatio'+'nEnd'];const _0x2d688f=_0x4c1a75['_node'],_0x1f5db8=_0x34b62c['_node'];if(_0x2d688f['setPositio'+'n'](_0x1f5db8['getPositio'+'n']()),_0x3a3bb0===Re)_0x4c1a75['fov']=_0x34b62c['_outerCone'+'Angle']*(-0x1*-0x1582+0x1*0x179+-0x16f9),_0x2d688f['setRotatio'+'n'](_0x1f5db8['getRotatio'+'n']()),_0x2d688f['rotateLoca'+'l'](-(0x1b*0x119+0x14f4+-0x323d),0x2168+0x3b9+-0x2521,0x21*-0x123+0x2*0x6f7+0x1*0x1795);else{if(_0x3a3bb0===Pe){if(_0x1cf8da){const _0xcaee9a=(0x3dd+-0xb27+0x1*0x74c)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x34b62c['atlasViewp'+'ort']['z']/(-0xf4d+0x3a2*0x3+0x46a))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x4c1a75['fov']=Math['atan'](-0x68*-0x3+0x10ca*0x2+-0x22cb+_0xcaee9a)*N['RAD_TO_DEG']*(-0x466*0x7+-0x2*-0x325+-0x1882*-0x1);}else _0x4c1a75['fov']=-0x16f*0x17+-0x1ef7+-0x1a6*-0x27;}}this['renderer']['updateCame'+'raFrustum'](_0x4c1a75),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x5283d4,_0x34b62c,_0x4fe62d['visibleCas'+'ters'],_0x4c1a75,_0x29d06e);}}['prepareLig'+'hts'](_0x473e52,_0x5ddb04){let _0x3c7e21;for(let _0xfd35c1=-0x115a+0xbc7+0x593;_0xfd35c1<_0x5ddb04['length'];_0xfd35c1++){const _0x2574d5=_0x5ddb04[_0xfd35c1];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x2574d5)&&_0x2574d5['atlasViewp'+'ortAllocat'+'ed']){_0x473e52['push'](_0x2574d5);for(let _0x37329c=-0x1652*-0x1+0x6d*0x44+-0x3346;_0x37329c<_0x2574d5['numShadowF'+'aces'];_0x37329c++)_0x3c7e21=this['shadowRend'+'erer']['prepareFac'+'e'](_0x2574d5,null,_0x37329c);}}return _0x3c7e21;}['buildNonCl'+'usteredRen'+'derPasses'](_0x53ac86,_0x1cfa75){for(let _0x53dd80=0x11b6+0x1a6d+0x2c23*-0x1;_0x53dd80<_0x1cfa75['length'];_0x53dd80++){const _0x34076d=_0x1cfa75[_0x53dd80];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x34076d)){const _0x5b528f=_0x34076d['_type']===Re,_0x4aa279=_0x34076d['numShadowF'+'aces'];for(let _0x29a054=-0x1a*-0x15+-0x265f+0x243d;_0x29a054<_0x4aa279;_0x29a054++){const _0x386a90=new pM(this['device'],this['shadowRend'+'erer'],_0x34076d,_0x29a054,_0x5b528f);_0x53ac86['addRenderP'+'ass'](_0x386a90);}}}}}class _M extends ds{constructor(_0x131d92,_0x500a4,_0x1a08a0,_0x144207,_0x2c059a){super(_0x131d92),mn['setName'](this,this['name']+'-'+_0x1a08a0['_node']['name']),this['shadowRend'+'erer']=_0x500a4,this['light']=_0x1a08a0,this['camera']=_0x144207,this['allCascade'+'sRendering']=_0x2c059a;}['execute'](){const {light:_0x484c1c,camera:_0x56b40e,shadowRenderer:_0x212f40,allCascadesRendering:_0x4d6910}=this,_0x3dca00=_0x484c1c['numShadowF'+'aces'],_0x3f4d77=_0x484c1c['shadowUpda'+'teOverride'+'s'];for(let _0x1799f1=0x3d*-0x94+-0x733*0x2+0x31aa;_0x1799f1<_0x3dca00;_0x1799f1++)(_0x3f4d77==null?void(-0xe3b*-0x2+-0x56*-0x6a+-0x4012):_0x3f4d77[_0x1799f1])!==Ps&&_0x212f40['renderFace'](_0x484c1c,_0x56b40e,_0x1799f1,!_0x4d6910),(_0x3f4d77==null?void(-0x22f2+-0x1940*-0x1+-0x22*-0x49):_0x3f4d77[_0x1799f1])===cn&&(_0x3f4d77[_0x1799f1]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const Ll=new _e(),ei=new T(),d_=new q(),Fe=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()],Pd={'min':0x0,'max':0x0};function gM(_0x32d3ee,_0x264653,_0x5e6352){Fe[-0x182*-0x9+0x2623*0x1+-0x33b5]['x']=Fe[0x1*0x233+-0x63e+0x1c*0x25]['x']=Fe[0x2f3+-0x36d+0x7c]['x']=Fe[-0x20bf+-0x1*0x269f+-0x1*-0x4761]['x']=_0x264653['x'],Fe[0x7a7+-0x1d41*-0x1+0xc9*-0x2f]['y']=Fe[0xd*0x109+0x11b5+-0x1f27]['y']=Fe[-0x78c+0x17d3+-0x1040]['y']=Fe[-0x1f58*-0x1+-0x27f+-0x1cd4]['y']=_0x264653['y'],Fe[0x23f4+0x1de4+0x35*-0x13e]['z']=Fe[-0xf*0x212+-0x2*-0xa1d+0x39d*0x3]['z']=Fe[0x1ae1+-0x1c09+0x1*0x12e]['z']=Fe[-0x9a2+0x2*-0xb66+0x2075]['z']=_0x264653['z'],Fe[0x15a2+-0x1*0x82c+0x1*-0xd72]['x']=Fe[-0xb*-0x1bb+-0x8ec+-0xa18]['x']=Fe[-0x6*-0xef+-0xda7+0x813]['x']=Fe[0x2*0xf2+-0x2*-0xdb+-0x393]['x']=_0x5e6352['x'],Fe[0x1*-0x2624+0x1*0x2461+-0xb*-0x29]['y']=Fe[0x23e6+0x1*0x853+0x4d*-0x93]['y']=Fe[0x3e5+0x24d7*0x1+-0x28b8]['y']=Fe[-0x690+-0x1*-0x3ce+0x2c8]['y']=_0x5e6352['y'],Fe[-0x260d+0x8e7+0x1d26]['z']=Fe[0x776*0x4+0x4*0x4e2+-0x315f]['z']=Fe[-0x14e0+-0x18ee+0xe6*0x33]['z']=Fe[-0x31*0xa+0x443*-0x4+-0x2b*-0x71]['z']=_0x5e6352['z'];let _0x3a4ca8=-0x53c4f959+0xbd04875b+0x1eacc55fd,_0x277fe7=-(-0x686*-0x82d839+-0x35c2b30a8+0x25aa890d1);for(let _0x385864=0x22a8+0x9f5*0x1+-0x2c9d;_0x385864<0x23*0xf4+-0x192*-0x4+-0x7ec*0x5;++_0x385864){_0x32d3ee['transformP'+'oint'](Fe[_0x385864],Fe[_0x385864]);const _0x264e92=Fe[_0x385864]['z'];_0x264e92<_0x3a4ca8&&(_0x3a4ca8=_0x264e92),_0x264e92>_0x277fe7&&(_0x277fe7=_0x264e92);}return Pd['min']=_0x3a4ca8,Pd['max']=_0x277fe7,Pd;}class yM{constructor(_0x259834,_0x2b1de6){c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x259834,this['shadowRend'+'erer']=_0x2b1de6,this['device']=_0x259834['device']);}['cull'](_0x2a4d0e,_0x37d79e,_0x31785e,_0x2ff2a8=null){_0x2a4d0e['visibleThi'+'sFrame']=!(0x88c+0x1*0x185+0x3*-0x35b),_0x2a4d0e['_shadowMap']||(_0x2a4d0e['_shadowMap']=un['create'](this['device'],_0x2a4d0e));const _0x1dcd71=_0x31785e['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x2a4d0e,_0x1dcd71,Math['min'](_0x31785e['_farClip'],_0x2a4d0e['shadowDist'+'ance']));const _0x10964b=_0x2a4d0e['shadowUpda'+'teOverride'+'s'];for(let _0xe1ca78=0x2*0x12d3+-0x1*-0x118e+-0x3734;_0xe1ca78<_0x2a4d0e['numCascade'+'s']&&(_0x10964b==null?void(0x18be+0xf25+-0x27e3*0x1):_0x10964b[_0xe1ca78])!==Ps;_0xe1ca78++){const _0x47ad08=_0x2a4d0e['getRenderD'+'ata'](_0x31785e,_0xe1ca78),_0x23a040=_0x47ad08['shadowCame'+'ra'];_0x23a040['renderTarg'+'et']=_0x2a4d0e['_shadowMap']['renderTarg'+'ets'][-0x5a8+0x79e+0x1*-0x1f6],_0x47ad08['shadowView'+'port']['copy'](_0x2a4d0e['cascades'][_0xe1ca78]),_0x47ad08['shadowScis'+'sor']['copy'](_0x2a4d0e['cascades'][_0xe1ca78]);const _0x2ac045=_0x23a040['_node'],_0x13a3af=_0x2a4d0e['_node'];_0x2ac045['setPositio'+'n'](_0x13a3af['getPositio'+'n']()),_0x2ac045['setRotatio'+'n'](_0x13a3af['getRotatio'+'n']()),_0x2ac045['rotateLoca'+'l'](-(-0x2600+-0xba*0x18+-0x2*-0x1be5),0x869+0x24e0*0x1+-0x2d49,0x1cf*0x1+0x1164*-0x2+0x16f*0x17);const _0x4b7c71=_0xe1ca78===-0x2502+0x1525+0x1f*0x83?_0x1dcd71:_0x2a4d0e['_shadowCas'+'cadeDistan'+'ces'][_0xe1ca78-(-0x1*0x2667+0x1*0x649+0x3*0xab5)],_0x423ea5=_0x2a4d0e['_shadowCas'+'cadeDistan'+'ces'][_0xe1ca78],_0x31f397=_0x31785e['getFrustum'+'Corners'](_0x4b7c71,_0x423ea5);ei['set'](0xc*0x12f+-0x27+-0xe0d,0x2065+0x18a6+-0x390b,-0x3*0xc89+-0xe27*-0x1+0x1774);const _0x12dea3=_0x31785e['node']['getWorldTr'+'ansform']();for(let _0x3d47bf=0x2276+0x9c4*0x4+-0x3*0x1882;_0x3d47bf<0x747*0x1+-0x24*-0x47+-0x113b*0x1;_0x3d47bf++)_0x12dea3['transformP'+'oint'](_0x31f397[_0x3d47bf],_0x31f397[_0x3d47bf]),ei['add'](_0x31f397[_0x3d47bf]);ei['mulScalar']((-0x1*0x13ed+0x2057*-0x1+0x3445*0x1)/(-0x714+0xb68+-0x44c));let _0x2e6b99=0x4*-0x4f3+-0x2532+0x2*0x1c7f;for(let _0x2fc8ed=0x20*-0x67+0x39*0x36+0x2*0x6d;_0x2fc8ed<0xbbb+0xd5+-0xc88;_0x2fc8ed++){const _0x47f852=_0x31f397[_0x2fc8ed]['sub'](ei)['length']();_0x47f852>_0x2e6b99&&(_0x2e6b99=_0x47f852);}const _0x21b431=_0x2ac045['right'],_0x3f0d8d=_0x2ac045['up'],_0x3b27b8=_0x2ac045['forward'],_0x1af483=(-0x183f+-0xb34+-0x4b*-0x79+0.25)*_0x2a4d0e['_shadowRes'+'olution']/_0x2e6b99,_0x30e38e=Math['ceil'](ei['dot'](_0x3f0d8d)*_0x1af483)/_0x1af483,_0x5c8bf0=Math['ceil'](ei['dot'](_0x21b431)*_0x1af483)/_0x1af483,_0xdf8155=_0x3f0d8d['mulScalar'](_0x30e38e),_0x142bc6=_0x21b431['mulScalar'](_0x5c8bf0),_0x486d1a=ei['dot'](_0x3b27b8),_0x192771=_0x3b27b8['mulScalar'](_0x486d1a);ei['add2'](_0xdf8155,_0x142bc6)['add'](_0x192771),_0x2ac045['setPositio'+'n'](ei),_0x2ac045['translateL'+'ocal'](0x3*0x849+0x55b*0x1+-0x1e36,-0x1138+-0x188b+-0x1*-0x29c3,0x1183a+0xc3*-0x94b+-0x1*-0x153e27),_0x23a040['nearClip']=-0x1*-0x2329+-0x7*0x52f+0x6*0x30+0.01,_0x23a040['farClip']=-0x49de5+0xe6e3*0x3a+0x155*-0xce5,_0x23a040['orthoHeigh'+'t']=_0x2e6b99,this['renderer']['updateCame'+'raFrustum'](_0x23a040),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x37d79e,_0x2a4d0e,_0x47ad08['visibleCas'+'ters'],_0x23a040,_0x2ff2a8);let _0x1f64ce=!(0x1314+-0xf59+-0x3bb);const _0x397ed3=_0x47ad08['visibleCas'+'ters'];for(let _0x58d01e=-0xfe1+-0x1ef5+0x2ed6;_0x58d01e<_0x397ed3['length'];_0x58d01e++){const _0xd240f2=_0x397ed3[_0x58d01e];_0x1f64ce?(_0x1f64ce=!(-0x1cbb+-0x6fb*0x2+0x2ab2*0x1),Ll['copy'](_0xd240f2['aabb'])):Ll['add'](_0xd240f2['aabb']);}d_['copy'](_0x2ac045['getWorldTr'+'ansform']())['invert']();const _0x26c6b0=gM(d_,Ll['getMin'](),Ll['getMax']());_0x2ac045['translateL'+'ocal'](0x1*0x1c1d+-0xf5b*0x1+0x8e*-0x17,0xe4f+-0x17*0xe+-0xd0d,_0x26c6b0['max']+(0x3*0x5ac+-0x557*0x1+-0xbad+0.1)),_0x23a040['farClip']=_0x26c6b0['max']-_0x26c6b0['min']+(-0x1*0x1913+-0x1*-0x683+0x1290+0.2),_0x47ad08['projection'+'Compensati'+'on']=_0x2e6b99;}}['generateSp'+'litDistanc'+'es'](_0x248637,_0x15ff98,_0x53a1d0){_0x248637['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x53a1d0);for(let _0x518259=0x489+0x1*-0xd2d+0x1*0x8a5;_0x518259<_0x248637['numCascade'+'s'];_0x518259++){const _0xc87d2c=_0x518259/_0x248637['numCascade'+'s'],_0x3ba270=_0x15ff98+(_0x53a1d0-_0x15ff98)*_0xc87d2c,_0x40a0e3=_0x15ff98*(_0x53a1d0/_0x15ff98)**_0xc87d2c,_0x50bc21=N['lerp'](_0x3ba270,_0x40a0e3,_0x248637['cascadeDis'+'tribution']);_0x248637['_shadowCas'+'cadeDistan'+'ces'][_0x518259-(0xdf*0xf+-0x23ee+0xb6f*0x2)]=_0x50bc21;}}['getLightRe'+'nderPass'](_0x3005f6,_0x4c1548){v['assert'](_0x3005f6&&_0x3005f6['_type']===oe);let _0x58da5d=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x3005f6)){const _0x82dd47=_0x3005f6['numShadowF'+'aces'],_0x3beaf7=_0x3005f6['shadowUpda'+'teOverride'+'s'];let _0x4f3742=!(-0x1393+-0x57*0x35+0x2596),_0x21e8b1;for(let _0xb34b51=-0x178d*0x1+-0x1e34*-0x1+0x6a7*-0x1;_0xb34b51<_0x82dd47;_0xb34b51++)(_0x3beaf7==null?void(0x1*-0x1498+0x1400+0x98):_0x3beaf7[_0xb34b51])===Ps&&(_0x4f3742=!(-0x4b0+-0x32*-0x8b+0x1675*-0x1)),_0x21e8b1=this['shadowRend'+'erer']['prepareFac'+'e'](_0x3005f6,_0x4c1548,_0xb34b51);_0x58da5d=new _M(this['device'],this['shadowRend'+'erer'],_0x3005f6,_0x4c1548,_0x4f3742),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x58da5d,_0x21e8b1,_0x4f3742);}return _0x58da5d;}}const Rd=new Set(),u_=new q(),f_=new q(),vr=new Float32Array(-0x1df7+0x1*-0xceb+-0xc*-0x393),Xa=new Q(0x246b*-0x1+-0x1*0x15b1+-0x39*-0x105,0x1659+-0x1097+-0x5c1,-0x212f+-0x2f6*0x2+-0x47*-0x8d,0x23a2*-0x1+-0x15b+0x24fd),p_=new q();function xM(_0x5b17c5,_0x243211){return Math['exp'](-(_0x5b17c5*_0x5b17c5)/((-0x869+0x1fce+-0x1*0x1763)*_0x243211*_0x243211));}function SM(_0x3fdda5){const _0xa9d331=(_0x3fdda5-(0xbdd*-0x2+0x331+0xef*0x16))/(0x15b6+0x5db+0x1b8b*-0x1),_0xea6075=(_0x3fdda5-(-0x1fbe+0x7*-0x295+0x31d2))*(-0x9aa+0xb*-0x373+0x7*0x6cd+0.5),_0x3bc933=new Array(_0x3fdda5);let _0x117069=-0x520+-0x1*-0x1997+-0x1477;for(let _0x4472f8=0x1d8+-0x392*0x1+0x1ba;_0x4472f8<_0x3fdda5;++_0x4472f8)_0x3bc933[_0x4472f8]=xM(_0x4472f8-_0xea6075,_0xa9d331),_0x117069+=_0x3bc933[_0x4472f8];for(let _0x180179=0x9*0x373+0x1c43+0x1*-0x3b4e;_0x180179<_0x3fdda5;++_0x180179)_0x3bc933[_0x180179]/=_0x117069;return _0x3bc933;}class I0{constructor(_0x3d8909,_0x236771){c(this,'shadowPass'+'Cache',[]),(this['device']=_0x3d8909['device'],this['renderer']=_0x3d8909,this['lightTextu'+'reAtlas']=_0x236771);const _0x92c0ae=this['device']['scope'];this['sourceId']=_0x92c0ae['resolve']('source'),this['pixelOffse'+'tId']=_0x92c0ae['resolve']('pixelOffse'+'t'),this['weightId']=_0x92c0ae['resolve']('weight[0]'),this['blurVsmSha'+'derCode']=[X['blurVSMPS'],'#define\x20GA'+'USS\x0a'+X['blurVSMPS']],this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x92c0ae['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new _t(),this['blendState'+'NoWrite']=new _t(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(-0x2585+0x1*0x1347+-0x615*-0x3),!(0x1d11+-0xf6*0x19+-0x50a),!(0x1*0x5c6+0x608+-0x13*0x9f),!(0x44*-0x1+-0x19e7*-0x1+-0xcd1*0x2));}static['createShad'+'owCamera'](_0x46f9ac,_0x26cce1,_0x5a64ae){const _0x8d62ad=Ma['create']('ShadowCame'+'ra',_0x26cce1,_0x5a64ae),_0x1ab9c5=ir['get'](_0x46f9ac);v['assert'](_0x1ab9c5);const _0x43b2db=(_0x1ab9c5==null?void(-0x1de*-0x2+0xdc6+-0x2*0x8c1):_0x1ab9c5['vsm'])??!(0x1220+0x629+0x818*-0x3),_0x3d27c6=(_0x1ab9c5==null?void(0x1*0x1b79+0x15f1+0x9e2*-0x5):_0x1ab9c5['pcf'])??!(0x2297+-0xec7+0x1*-0x13cf);return _0x43b2db?_0x8d62ad['clearColor']=new Y(-0x60*0x57+-0x91*0x43+-0xa15*-0x7,-0x3*-0x43f+0xab4+-0x1*0x1771,-0x1f05+0x1ef9+0xc,0x6d8+-0x668+-0x4*0x1c):_0x8d62ad['clearColor']=new Y(-0xa7*0x8+0x64*-0x8+-0x859*-0x1,-0x195e+-0x15*0x1c9+0x3edc,-0x233e+-0x813+0x15a9*0x2,0x84e*0x1+0x5*-0x4d2+-0x5*-0x329),_0x8d62ad['clearDepth'+'Buffer']=!(0x16*0x9+0x2*0x90f+-0x6*0x326),_0x8d62ad['clearStenc'+'ilBuffer']=!(0x45+-0x795+0x751),_0x8d62ad['clearColor'+'Buffer']=!_0x3d27c6,_0x8d62ad;}['_cullShado'+'wCastersIn'+'ternal'](_0x4cfe70,_0x3b928e,_0x1c84fd){const _0x42da35=_0x4cfe70['length'];for(let _0x57eda1=-0x3a*0x3e+0x1e18+-0x100c;_0x57eda1<_0x42da35;_0x57eda1++){const _0x4bd8b0=_0x4cfe70[_0x57eda1];_0x4bd8b0['castShadow']&&(!_0x4bd8b0['cull']||_0x4bd8b0['_isVisible'](_0x1c84fd))&&(_0x4bd8b0['visibleThi'+'sFrame']=!(-0xe4f+-0x1*0x132f+0x217e),_0x3b928e['push'](_0x4bd8b0));}}['cullShadow'+'Casters'](_0x3c7d9d,_0x5b5a8d,_0x559cb0,_0x505278,_0x24be2c){if(_0x559cb0['length']=0x4b3*-0x2+0x1173*0x2+0x180*-0x11,_0x24be2c)this['_cullShado'+'wCastersIn'+'ternal'](_0x24be2c,_0x559cb0,_0x505278);else{const _0x50df64=_0x3c7d9d['layerList'],_0x24bd60=_0x50df64['length'];for(let _0x1678ce=-0x2*-0x9ae+-0x33b+-0x1021*0x1;_0x1678ce<_0x24bd60;_0x1678ce++){const _0x2ebe13=_0x50df64[_0x1678ce];_0x2ebe13['_lightsSet']['has'](_0x5b5a8d)&&(Rd['has'](_0x2ebe13)||(Rd['add'](_0x2ebe13),this['_cullShado'+'wCastersIn'+'ternal'](_0x2ebe13['shadowCast'+'ers'],_0x559cb0,_0x505278)));}Rd['clear']();}_0x559cb0['sort'](this['renderer']['sortCompar'+'eDepth']);}['setupRende'+'rState'](_0x140248,_0xbd4df5){const _0x55d683=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0xbd4df5['_isPcf']:_0xbd4df5['_isPcf']&&_0xbd4df5['_type']!==Pe;_0x140248['setBlendSt'+'ate'](_0x55d683?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x140248['setDepthSt'+'ate'](_0xbd4df5['shadowDept'+'hState']),_0x140248['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x433bc4,_0x1dc63f,_0x579c8a,_0xf7fa3f){const _0x434bae=_0x1dc63f['_node'];_0x433bc4['_type']!==oe&&(this['renderer']['dispatchVi'+'ewPos'](_0x434bae['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x433bc4['attenuatio'+'nEnd'])),u_['setTRS'](_0x434bae['getPositio'+'n'](),_0x434bae['getRotatio'+'n'](),T['ONE'])['invert'](),f_['mul2'](_0x1dc63f['projection'+'Matrix'],u_);const _0x39fe0e=_0x579c8a['shadowView'+'port'];_0x1dc63f['rect']=_0x39fe0e,_0x1dc63f['scissorRec'+'t']=_0x579c8a['shadowScis'+'sor'],p_['setViewpor'+'t'](_0x39fe0e['x'],_0x39fe0e['y'],_0x39fe0e['z'],_0x39fe0e['w']),_0x579c8a['shadowMatr'+'ix']['mul2'](p_,f_),_0x433bc4['_type']===oe&&_0x433bc4['_shadowMat'+'rixPalette']['set'](_0x579c8a['shadowMatr'+'ix']['data'],_0xf7fa3f*(-0x5e3*-0x1+0x20*0x9c+-0x1953));}['getShadowP'+'ass'](_0x2fec2b){var _0x21bc6;const _0x47edb9=_0x2fec2b['_type'],_0x37b8d0=_0x2fec2b['_shadowTyp'+'e'];let _0x164136=(_0x21bc6=this['shadowPass'+'Cache'][_0x47edb9])==null?void(0x2e0*0x8+0x87*0x3+-0x1895):_0x21bc6[_0x37b8d0];if(!_0x164136){const _0x588ce2='ShadowPass'+'_'+_0x47edb9+'_'+_0x37b8d0;_0x164136=Ks['get'](this['device'])['allocate'](_0x588ce2,{'isShadow':!(0x19d1+-0x25ae+0x1*0xbdd),'lightType':_0x47edb9,'shadowType':_0x37b8d0}),this['shadowPass'+'Cache'][_0x47edb9]||(this['shadowPass'+'Cache'][_0x47edb9]=[]),this['shadowPass'+'Cache'][_0x47edb9][_0x37b8d0]=_0x164136;}return _0x164136['index'];}['submitCast'+'ers'](_0x570dea,_0x25a4d4,_0x4a53ce){const _0x22406e=this['device'],_0x1c0ef6=this['renderer'],_0xcc06f1=_0x1c0ef6['scene'],_0x35c1f4=-0x1776+-0x2116+0x388d<<Rp,_0xdd5911=this['getShadowP'+'ass'](_0x25a4d4),_0x47eb69=_0x4a53ce['shaderPara'+'ms'],_0x232f95=_0x4a53ce['renderTarg'+'et']['flipY']?-(0xe*0x2bb+-0x1155+-0x14e4):-0x44*0x16+0x332+0x2a7,_0x1f5f97=_0x570dea['length'];for(let _0x33c57=-0x1fe2+0x1519+0xac9;_0x33c57<_0x1f5f97;_0x33c57++){const _0x10ec08=_0x570dea[_0x33c57],_0x1e62ab=_0x10ec08['mesh'];_0x10ec08['ensureMate'+'rial'](_0x22406e);const _0x38a4b8=_0x10ec08['material'];G['pushGpuMar'+'ker'](_0x22406e,'Node:\x20'+_0x10ec08['node']['name']+(',\x20Material'+':\x20')+_0x38a4b8['name']),_0x1c0ef6['setBaseCon'+'stants'](_0x22406e,_0x38a4b8),_0x1c0ef6['setSkinnin'+'g'](_0x22406e,_0x10ec08),_0x38a4b8['dirty']&&(_0x38a4b8['updateUnif'+'orms'](_0x22406e,_0xcc06f1),_0x38a4b8['dirty']=!(-0x1e47+-0xce0+0x2b28)),_0x1c0ef6['setupCullM'+'ode'](!(-0xb*-0xfa+0xa5f+-0x151d),_0x232f95,_0x10ec08),_0x38a4b8['setParamet'+'ers'](_0x22406e),_0x10ec08['setParamet'+'ers'](_0x22406e,_0x35c1f4);const _0x2430b6=_0x10ec08['getShaderI'+'nstance'](_0xdd5911,-0x14e4+0x52c+0x3ee*0x4,_0xcc06f1,_0x47eb69,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x297422=_0x2430b6['shader'];v['assert'](_0x297422,'no\x20shader\x20'+'for\x20pass\x20'+_0xdd5911,_0x38a4b8),_0x10ec08['_key'][ku]=_0x297422['id'],_0x22406e['setShader'](_0x297422),_0x1c0ef6['setVertexB'+'uffers'](_0x22406e,_0x1e62ab),_0x1c0ef6['setMorphin'+'g'](_0x22406e,_0x10ec08['morphInsta'+'nce']),this['renderer']['setupMeshU'+'niformBuff'+'ers'](_0x2430b6,_0x10ec08);const _0x34a3e1=_0x10ec08['renderStyl'+'e'];_0x22406e['setIndexBu'+'ffer'](_0x1e62ab['indexBuffe'+'r'][_0x34a3e1]),_0x1c0ef6['drawInstan'+'ce'](_0x22406e,_0x10ec08,_0x1e62ab,_0x34a3e1),_0x1c0ef6['_shadowDra'+'wCalls']++,G['popGpuMark'+'er'](_0x22406e);}}['needsShado'+'wRendering'](_0x23f9de){const _0x55db42=_0x23f9de['enabled']&&_0x23f9de['castShadow'+'s']&&_0x23f9de['shadowUpda'+'teMode']!==Ps&&_0x23f9de['visibleThi'+'sFrame'];return _0x23f9de['shadowUpda'+'teMode']===cn&&(_0x23f9de['shadowUpda'+'teMode']=Ps),_0x55db42&&(this['renderer']['_shadowMap'+'Updates']+=_0x23f9de['numShadowF'+'aces']),_0x55db42;}['getLightRe'+'nderData'](_0xfe534,_0x2802f0,_0x56808a){return _0xfe534['getRenderD'+'ata'](_0xfe534['_type']===oe?_0x2802f0:null,_0x56808a);}['setupRende'+'rPass'](_0x54725e,_0x18727d,_0x407965){const _0x4070c8=_0x18727d['renderTarg'+'et'];_0x54725e['init'](_0x4070c8),_0x54725e['depthStenc'+'ilOps']['clearDepth'+'Value']=0x1b76+-0x1*0x2132+0x5bd,_0x54725e['depthStenc'+'ilOps']['clearDepth']=_0x407965,_0x4070c8['depthBuffe'+'r']?_0x54725e['depthStenc'+'ilOps']['storeDepth']=!(-0x277*-0xf+0x1d*-0x13f+-0x6b*0x2):(_0x54725e['colorOps']['clearValue']['copy'](_0x18727d['clearColor']),_0x54725e['colorOps']['clear']=_0x407965,_0x54725e['depthStenc'+'ilOps']['storeDepth']=!(0x2189+0x11*0x5+0x1*-0x21dd)),_0x54725e['requiresCu'+'bemaps']=!(-0xb9c+-0x72f+0x12cc);}['prepareFac'+'e'](_0x3d971a,_0x26ac3b,_0x6f7d67){const _0x29161c=_0x3d971a['_type'],_0x108186=this['getLightRe'+'nderData'](_0x3d971a,_0x26ac3b,_0x6f7d67)['shadowCame'+'ra'],_0x4fe6eb=_0x29161c===oe?0x1*-0x23a+0x5f*-0x4a+0x3b6*0x8:_0x6f7d67;return _0x108186['renderTarg'+'et']=_0x3d971a['_shadowMap']['renderTarg'+'ets'][_0x4fe6eb],_0x108186;}['renderFace'](_0x2b3d3f,_0x12e39f,_0x2ff0e3,_0x38f814,_0x50441c=!(0x5b*0x6b+0x4f5+0x2afe*-0x1)){const _0x1930d1=this['device'],_0x3b1284=ne();G['pushGpuMar'+'ker'](_0x1930d1,'SHADOW\x20'+_0x2b3d3f['_node']['name']+'\x20FACE\x20'+_0x2ff0e3);const _0x1dbf44=this['getLightRe'+'nderData'](_0x2b3d3f,_0x12e39f,_0x2ff0e3),_0x2be884=_0x1dbf44['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x2b3d3f,_0x2be884,_0x1dbf44,_0x2ff0e3);const _0x336b1c=_0x2be884['renderTarg'+'et'],_0x25e64e=this['renderer'];_0x25e64e['setCameraU'+'niforms'](_0x2be884,_0x336b1c),_0x1930d1['supportsUn'+'iformBuffe'+'rs']&&_0x25e64e['setupViewU'+'niformBuff'+'ers'](_0x1dbf44['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],0x2*0x359+0x1*0x199a+-0x204b),_0x50441c?(_0x25e64e['setupViewp'+'ort'](_0x2be884,_0x336b1c),_0x38f814&&_0x25e64e['clear'](_0x2be884)):_0x25e64e['clearView'](_0x2be884,_0x336b1c,!(-0xc7*0x2b+-0x2533+0x46a0),!(-0xed5+0x3a3+-0x2f*-0x3d)),this['setupRende'+'rState'](_0x1930d1,_0x2b3d3f),this['submitCast'+'ers'](_0x1dbf44['visibleCas'+'ters'],_0x2b3d3f,_0x2be884),G['popGpuMark'+'er'](_0x1930d1),_0x25e64e['_shadowMap'+'Time']+=ne()-_0x3b1284;}['render'](_0x394510,_0x345f93,_0x1a0468=!(-0x2114+0x14*-0x1da+0x461c)){if(this['needsShado'+'wRendering'](_0x394510)){const _0x4bf798=_0x394510['numShadowF'+'aces'];for(let _0x54d195=0x3*-0x570+-0xd2b+0x1d7b;_0x54d195<_0x4bf798;_0x54d195++)this['prepareFac'+'e'](_0x394510,_0x345f93,_0x54d195),this['renderFace'](_0x394510,_0x345f93,_0x54d195,!(-0x15d9+0x20f8+-0x1*0xb1f),_0x1a0468);this['renderVsm'](_0x394510,_0x345f93);}}['renderVsm'](_0x30d794,_0x3ba8fa){_0x30d794['_isVsm']&&_0x30d794['_vsmBlurSi'+'ze']>-0x1538+-0xa42+-0x1*-0x1f7b&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x30d794['_type']===oe)&&this['applyVsmBl'+'ur'](_0x30d794,_0x3ba8fa);}['getVsmBlur'+'Shader'](_0x48a78a,_0x648a53){const _0x498a59=this['blurVsmSha'+'der'];let _0x23f7bc=_0x498a59[_0x48a78a][_0x648a53];if(!_0x23f7bc){this['blurVsmWei'+'ghts'][_0x648a53]=SM(_0x648a53);const _0x4ac201=X['fullscreen'+'QuadVS'];let _0x26a4b9='#define\x20SA'+'MPLES\x20'+_0x648a53+'\x0a';_0x26a4b9+=this['blurVsmSha'+'derCode'][_0x48a78a];const _0x558dc8='blurVsm'+_0x48a78a+_0x648a53;_0x23f7bc=Is(this['device'],_0x4ac201,_0x26a4b9,_0x558dc8),_0x498a59[_0x48a78a][_0x648a53]=_0x23f7bc;}return _0x23f7bc;}['applyVsmBl'+'ur'](_0x47a771,_0x104691){const _0x1439e9=this['device'];G['pushGpuMar'+'ker'](_0x1439e9,'VSM\x20'+_0x47a771['_node']['name']),_0x1439e9['setBlendSt'+'ate'](_t['NOBLEND']);const _0x1fe9cf=_0x47a771['getRenderD'+'ata'](_0x47a771['_type']===oe?_0x104691:null,-0x1*-0x199f+-0x1e65+-0x1*-0x4c6)['shadowCame'+'ra']['renderTarg'+'et'],_0x2f2d74=this['renderer']['shadowMapC'+'ache']['get'](_0x1439e9,_0x47a771),_0x4870be=_0x2f2d74['renderTarg'+'ets'][0x1*-0xbd4+-0x8e8+0x52f*0x4],_0x4e7bbf=_0x47a771['vsmBlurMod'+'e'],_0x474262=_0x47a771['_vsmBlurSi'+'ze'],_0x446794=this['getVsmBlur'+'Shader'](_0x4e7bbf,_0x474262);Xa['z']=_0x47a771['_shadowRes'+'olution']-(0x24f+0x1*0x116a+-0x13b7),Xa['w']=Xa['z'],this['sourceId']['setValue'](_0x1fe9cf['colorBuffe'+'r']),vr[0x3*0x55d+0x1c0d+-0x2c24]=(-0x2*0x1309+0xe7a+0x1799)/_0x47a771['_shadowRes'+'olution'],vr[-0x1fa4+0x13d*-0x6+0x2713]=-0x7*0x4f5+-0x4*-0x187+-0x1*-0x1c97,this['pixelOffse'+'tId']['setValue'](vr),_0x4e7bbf===Tp&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x474262]),dn(_0x1439e9,_0x4870be,_0x446794,null,Xa),this['sourceId']['setValue'](_0x4870be['colorBuffe'+'r']),vr[-0x2579+-0x2cf+-0x1*-0x2849]=vr[-0x3*-0x1a9+-0x1cdf+0x17e4],vr[0x17*-0x1d+-0x48e*0x6+0x1def]=0x2442+0x106*-0x25+-0x4*-0x67,this['pixelOffse'+'tId']['setValue'](vr),dn(_0x1439e9,_0x1fe9cf,_0x446794,null,Xa),this['renderer']['shadowMapC'+'ache']['add'](_0x47a771,_0x2f2d74),G['popGpuMark'+'er'](_0x1439e9);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new Qy(this['device'],[new gt('matrix_vie'+'wProjectio'+'n',Sa)]),this['viewBindGr'+'oupFormat']=new jy(this['device'],[new pp(fp,up|li)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const Fl=[];class vM{constructor(_0x28f573){c(this,'_empty',null),c(this,'_allocated',[]),c(this,'_clusters',new Map()),this['device']=_0x28f573;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0xbf783c=>{_0xbf783c['destroy']();}),this['_allocated']['length']=0x1cb4+0x1adf+-0x29*0x15b;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x302282=new zu(this['device']);_0x302282['name']='ClusterEmp'+'ty',_0x302282['update']([]),this['_empty']=_0x302282;}return this['_empty'];}['assign'](_0x7cecbe){const _0x4169bd=this['empty'];Fl['push'](...this['_allocated']),this['_allocated']['length']=-0x1099+0x52*-0x64+0x30a1,this['_clusters']['clear']();const _0x485bd2=_0x7cecbe['length'];for(let _0x12f201=-0x41*-0x92+0xbe3+-0x30f5;_0x12f201<_0x485bd2;_0x12f201++){const _0x6a35c7=_0x7cecbe[_0x12f201]['renderActi'+'ons'];if(_0x6a35c7){const _0x589a84=_0x6a35c7['length'];for(let _0x432d80=0x49*-0x67+-0x1*-0x476+0x18e9;_0x432d80<_0x589a84;_0x432d80++){const _0x53da90=_0x6a35c7[_0x432d80];_0x53da90['lightClust'+'ers']=null;const _0x50d951=_0x53da90['layer'];if(_0x50d951['hasCluster'+'edLights']&&_0x50d951['meshInstan'+'ces']['length']){const _0x5e23ef=_0x50d951['getLightId'+'Hash'](),_0x4f27a7=this['_clusters']['get'](_0x5e23ef);let _0x352fbf=_0x4f27a7==null?void(-0x1108+-0x18fb+0x2a03):_0x4f27a7['lightClust'+'ers'];_0x352fbf||(_0x352fbf=Fl['pop']()??new zu(this['device']),mn['setName'](_0x352fbf,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x352fbf),this['_clusters']['set'](_0x5e23ef,_0x53da90)),_0x53da90['lightClust'+'ers']=_0x352fbf;}_0x53da90['lightClust'+'ers']||(_0x53da90['lightClust'+'ers']=_0x4169bd);}}}Fl['forEach'](_0x2be474=>_0x2be474['destroy']()),Fl['length']=-0x1*0x5c2+0x22b9*-0x1+0x1*0x287b;}['update'](_0x3c4029,_0x35d991){this['assign'](_0x3c4029),this['_clusters']['forEach'](_0x5402ea=>{const _0x42df54=_0x5402ea['layer'];_0x5402ea['lightClust'+'ers']['update'](_0x42df54['clusteredL'+'ightsSet'],_0x35d991);});}}const m_='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}',bM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}',wM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}',Gi=new Q(),Id=[];class kp extends ds{constructor(_0x41f07d,_0x44b30d){super(_0x41f07d),c(this,'_quadRende'+'rer2D',null),c(this,'_quadRende'+'rerCube',null),c(this,'_filteredL'+'ights',[]),(this['_cubeSlots'+'Offsets']=_0x44b30d,this['requiresCu'+'bemaps']=!(0xb91*0x2+-0x24*0x6a+-0x839*0x1),this['blitTextur'+'eId']=_0x41f07d['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x41f07d['scope']['resolve']('invViewPro'+'j'));}['destroy'](){var _0x48af3b,_0xf814ea;(_0x48af3b=this['_quadRende'+'rer2D'])==null||_0x48af3b['destroy'](),this['_quadRende'+'rer2D']=null,(_0xf814ea=this['_quadRende'+'rerCube'])==null||_0xf814ea['destroy'](),this['_quadRende'+'rerCube']=null;}static['create'](_0x2711a1,_0xb099cd){v['assert'](_0x2711a1);const _0x3bc9e0=new kp(_0x2711a1['device'],_0xb099cd);return _0x3bc9e0['init'](_0x2711a1),_0x3bc9e0['colorOps']['clear']=!(0x25b3*0x1+0x2215+-0x1*0x47c7),_0x3bc9e0['depthStenc'+'ilOps']['clearDepth']=!(0x47e+0x568+-0x9e5),_0x3bc9e0;}['update'](_0x363143){const _0x1ba014=this['_filteredL'+'ights'];this['filter'](_0x363143,_0x1ba014),this['executeEna'+'bled']=_0x1ba014['length']>-0x4ca*0x7+0xb*0x37b+-0x4c3;}['filter'](_0x16287d,_0x54976d){for(let _0x230825=0x7c1+0x4c7*0x7+0x2*-0x1499;_0x230825<_0x16287d['length'];_0x230825++){const _0x1e4576=_0x16287d[_0x230825];_0x1e4576['_type']!==oe&&_0x1e4576['atlasViewp'+'ortAllocat'+'ed']&&_0x1e4576['atlasSlotU'+'pdated']&&_0x1e4576['enabled']&&_0x1e4576['cookie']&&_0x1e4576['visibleThi'+'sFrame']&&_0x54976d['push'](_0x1e4576);}}['initInvVie'+'wProjMatri'+'ces'](){if(!Id['length'])for(let _0x4b205a=-0x9e*-0x17+0x1a59+-0x288b;_0x4b205a<-0x1344+0x59a+0xdb0;_0x4b205a++){const _0x55c80f=Ma['create'](null,Pe,_0x4b205a),_0x39b812=_0x55c80f['projection'+'Matrix'],_0xd36393=_0x55c80f['node']['getLocalTr'+'ansform']()['clone']()['invert']();Id[_0x4b205a]=new q()['mul2'](_0x39b812,_0xd36393)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x3e8d22=Is(this['device'],m_,bM,'cookieRend'+'erer2d');this['_quadRende'+'rer2D']=new Nu(_0x3e8d22);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x2e7147=Is(this['device'],m_,wM,'cookieRend'+'ererCube');this['_quadRende'+'rerCube']=new Nu(_0x2e7147);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x896150=this['device'];_0x896150['setBlendSt'+'ate'](_t['NOBLEND']),_0x896150['setCullMod'+'e'](mt),_0x896150['setDepthSt'+'ate'](as['NODEPTH']),_0x896150['setStencil'+'State']();const _0x1e08d4=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x44385f=this['_cubeSlots'+'Offsets'],_0x7e6acc=this['_filteredL'+'ights'];for(let _0x280261=0xf*-0x1db+-0xad*0x3+0x31*0x9c;_0x280261<_0x7e6acc['length'];_0x280261++){const _0xef6cc4=_0x7e6acc[_0x280261];G['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0xef6cc4['_node']['name']);const _0x47d029=_0xef6cc4['numShadowF'+'aces'],_0x1c9f81=_0x47d029>-0x7c1*0x5+-0x5*0x349+-0x43f*-0xd?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x47d029>-0x1900+-0xb*0xb1+0x209c&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0xef6cc4['cookie']);for(let _0x95b5fb=0x133a+0x3*-0x7b9+0x3f1;_0x95b5fb<_0x47d029;_0x95b5fb++){if(Gi['copy'](_0xef6cc4['atlasViewp'+'ort']),_0x47d029>0x3*-0x6e3+0x1*-0x821+0x1ccb){const _0x2c8770=Gi['z']/(0x19c9+-0x1dfd+0x437),_0x3d3f86=_0x44385f[_0x95b5fb];Gi['x']+=_0x2c8770*_0x3d3f86['x'],Gi['y']+=_0x2c8770*_0x3d3f86['y'],Gi['z']=_0x2c8770,Gi['w']=_0x2c8770,this['invViewPro'+'jId']['setValue'](Id[_0x95b5fb]['data']);}Gi['mulScalar'](_0x1e08d4),_0x1c9f81['render'](Gi);}G['popGpuMark'+'er'](_0x896150);}_0x7e6acc['length']=-0x16c3+-0x1*-0x8f+0x1634;}}class TM extends ds{constructor(_0x1609c4,_0x5e9f29,_0x4cb8f2){super(_0x1609c4),this['requiresCu'+'bemaps']=!(0x536+0x12*-0x1b8+-0x1*-0x19bb),this['shadowRend'+'erer']=_0x5e9f29,this['shadowRend'+'ererLocal']=_0x4cb8f2;}['update'](_0x1202e9){const _0x37217e=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x1af8b6=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x37217e,_0x1202e9),_0xc731b=_0x37217e['length'];this['enabled']=_0xc731b>-0xab*-0x26+0xf98+-0x419*0xa,_0xc731b&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x1af8b6,!(0x476*0x3+0x1*-0xc3d+-0x124));}['execute'](){const _0x4af614=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x56c0ba=_0x4af614['length'];for(let _0x4cf8a7=0x1ffb*0x1+0x24dc+-0x44d7;_0x4cf8a7<_0x56c0ba;_0x4cf8a7++){const _0x2a80da=_0x4af614[_0x4cf8a7];for(let _0x2064d8=-0x5*-0x416+0x6*-0x327+-0x184;_0x2064d8<_0x2a80da['numShadowF'+'aces'];_0x2064d8++)this['shadowRend'+'erer']['renderFace'](_0x2a80da,null,_0x2064d8,!(0x2441+-0x1309+-0x1138*0x1));}_0x4af614['length']=0xa3*-0xe+0x181d*-0x1+0x59*0x5f;}}class AM extends ds{constructor(_0x43e496,_0x5264fa,_0x11fa23,_0xf6bda8,_0x2359a6){super(_0x43e496),this['renderer']=_0x5264fa,this['frameGraph']=null,this['cookiesRen'+'derPass']=kp['create'](_0x2359a6['cookieRend'+'erTarget'],_0x2359a6['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new TM(_0x43e496,_0x11fa23,_0xf6bda8),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x4f02a1,_0xf4fc55,_0x891118,_0x29c2be,_0xfc6d09){this['frameGraph']=_0x4f02a1,this['cookiesRen'+'derPass']['enabled']=_0x891118,_0x891118&&this['cookiesRen'+'derPass']['update'](_0x29c2be),this['shadowRend'+'erPass']['enabled']=_0xf4fc55,_0xf4fc55&&this['shadowRend'+'erPass']['update'](_0xfc6d09);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x2dc3ac=ne(),{renderer:_0x178399}=this,{scene:_0x468b38}=_0x178399;_0x178399['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x468b38['lighting']),_0x178399['_lightClus'+'tersTime']+=ne()-_0x2dc3ac,_0x178399['_lightClus'+'ters']=_0x178399['worldClust'+'ersAllocat'+'or']['count'];}}let Dd=-0x1806+0x16*-0xc2+0x2*0x1459;const Hi=new q(),Wi=new q(),Mn=new q(),__=new js(),Ld=new Lf(),g_=new q()['setScale'](0x24*-0x72+-0x670*0x2+0x1*0x1ce9,-(-0x51*-0x43+0x2675+-0x1*0x3ba7),-0xf40+0x1314+-0xb*0x59),Fd=new Set(),Od=new Set(),kd=new Yy(),y_=new q()['set']([-0x1*0x1873+0xdf+0x1795*0x1,-0x131+0x22c5+-0x2194,0x177f*-0x1+0x5*0x611+-0x1*0x6d6,0xebf+0x1*-0x1c69+0xdaa,0x24ce+-0x482+-0xac4*0x3,-0x11f0+0x2290*-0x1+0x3481,-0x185*0x11+0x72c+-0x119*-0x11,-0x1*-0x377+0xc1*-0x21+0x156a,0x23e5+-0x1a*0x125+-0x623,0x8ae+0x471+-0xd1f,-0x172d+0x24ab+-0xd7e+0.5,0x1149+0xe33+-0x1f7c,0x242b+0x1412+-0x383d,0x50b*0x7+0x7*-0x2c9+-0xfce,0x1f99*0x1+0x9*0x301+0x9e*-0x5f+0.5,0x23ca+-0x47*0x42+0x5*-0x37f]),x_=[new W(-0x1*-0x9c7+0x17*0x1a+-0xc1d+0.5,0x2146+-0x770*-0x1+0x12*-0x243+0.333333),new W(0xf37*0x1+0x13b4+-0x22eb*0x1+0.25,-0x5*0x11b+-0x1b23+0x20aa+0.666667),new W(-0x1fde+-0xac0+-0xa*-0x443+0.75,0x6e0+0x2*-0x1037+0x198e+0.111111),new W(-0x1778+-0xde7+0x255f+0.125,0x15*-0x54+-0x13b1+0x1a95+0.444444),new W(-0x204a+0x6a8+0x19a2+0.625,0x25e0+-0x26e4+0xd*0x14+0.777778),new W(0x4*-0x3a1+0x12*0x38+0xa94+0.375,0x1541+0x1c1+-0x1702+0.222222),new W(-0x11a*0x1d+-0x265c+-0x464e*-0x1+0.875,-0x13f2+-0x1a88+0x2e7a+0.555556),new W(-0x1*-0xd01+-0x3c3+-0x1a*0x5b+0.0625,-0x74*0x53+0xc5*-0x19+-0x9*-0x651+0.888889),new W(-0x1d8c*0x1+-0xad9*-0x1+-0x12b3*-0x1+0.5625,0x2*0x6de+0x2*0xa81+-0x22be+0.037037),new W(-0x1099*0x1+0x3cc+0xccd+0.3125,-0x14*-0x118+-0x12*-0x223+-0x3c56+0.37037),new W(-0xd3*-0x4+0x1252+-0x159e+0.8125,0x14*-0x100+-0xf3b*0x1+-0x1*-0x233b+0.703704),new W(0x25cc+-0x2*0x1241+-0x14a+0.1875,-0x10ca+-0x21*-0x13+0x1*0xe57+0.148148),new W(-0x20ce+-0x3*0xb73+0x1*0x4327+0.6875,-0x2*-0xc7+0x18*0xa9+-0x8b3*0x2+0.481481),new W(0x123*0x11+0x6d5+-0x174*0x12+0.4375,0xeee+-0xb73*-0x1+-0x1a61+0.814815),new W(0x20a3+-0x80b*0x4+-0x77+0.9375,-0x1f9a*-0x1+-0x8*0x3a8+-0x25a+0.259259),new W(-0x199a+-0x2f*0x13+0x1d17+0.03125,0x19*0x135+0x1732+-0x355f+0.592593)],EM=new q(),CM=new q(),MM=new q(),PM=new q(),RM=new q(),IM=new q(),Pn=new Set(),Bd=[],Nd=[];class DM{constructor(_0x1dd4d9){c(this,'clustersDe'+'bugRendere'+'d',!(0x7*0x425+0x131b+-0x301d)),c(this,'processing'+'MeshInstan'+'ces',new Set()),c(this,'worldClust'+'ersAllocat'+'or'),c(this,'lights',[]),c(this,'localLight'+'s',[]),c(this,'cameraDirS'+'hadowLight'+'s',new Map()),c(this,'dirLightSh'+'adows',new Map()),c(this,'blueNoise',new rM(0x39f*0x3+-0x2519*0x1+0x1ab7)),(this['device']=_0x1dd4d9,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new vM(_0x1dd4d9),this['lightTextu'+'reAtlas']=new uM(_0x1dd4d9),this['shadowMapC'+'ache']=new fM(),this['shadowRend'+'erer']=new I0(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new mM(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new yM(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new AM(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=-0x1c2f+-0x7c3*-0x4+-0x2dd,this['_morphTime']=-0x1ce*-0xb+0x1558+-0x2932*0x1,this['_cullTime']=-0xe94+0x226f*-0x1+0x1*0x3103,this['_shadowMap'+'Time']=0x1ed8+-0x19bf+0x3*-0x1b3,this['_lightClus'+'tersTime']=0xc1d+0x223e+0x1*-0x2e5b,this['_layerComp'+'ositionUpd'+'ateTime']=0xfb0+-0x11e*0x9+-0x5a2,this['_shadowDra'+'wCalls']=0x1*0x1d84+0x80f*-0x4+0x2b8,this['_skinDrawC'+'alls']=-0x602*0x4+-0x1*-0x60e+0x11fa,this['_instanced'+'DrawCalls']=-0xf85+-0x2264+0x31e9,this['_shadowMap'+'Updates']=-0x29*0x7b+-0x28f+0x1*0x1642,this['_numDrawCa'+'llsCulled']=0x204b+-0x1*0x1433+-0xc18,this['_camerasRe'+'ndered']=0x607*-0x1+-0x885+0xe8c,this['_lightClus'+'ters']=-0x1000+-0x1721+0x2721);const _0x2a998c=_0x1dd4d9['scope'];this['boneTextur'+'eId']=_0x2a998c['resolve']('texture_po'+'seMap'),this['boneTextur'+'eSizeId']=_0x2a998c['resolve']('texture_po'+'seMapSize'),this['modelMatri'+'xId']=_0x2a998c['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x2a998c['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x2a998c['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(0x12a8+0x266f+-0x3914),this['viewPosId']=_0x2a998c['resolve']('view_posit'+'ion'),this['projId']=_0x2a998c['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x2a998c['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x2a998c['resolve']('matrix_vie'+'w'),this['viewId3']=_0x2a998c['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x2a998c['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x2a998c['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x2a998c['resolve']('tbnBasis'),this['nearClipId']=_0x2a998c['resolve']('camera_nea'+'r'),this['farClipId']=_0x2a998c['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(-0x196c+0x26d2*-0x1+0x4042),this['cameraPara'+'msId']=_0x2a998c['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x2a998c['resolve']('view_index'),this['blueNoiseJ'+'itterVersi'+'on']=-0xd93+0x16*0xbf+-0x2d7,this['blueNoiseJ'+'itterVec']=new Q(),this['blueNoiseJ'+'itterData']=new Float32Array(-0x22f6+0x7*-0x4e+-0x13*-0x1f4),this['blueNoiseJ'+'itterId']=_0x2a998c['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x2a998c['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x2a998c['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x2a998c['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x2a998c['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x2a998c['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](-0x1*0x2137+-0x779+-0xa2c*-0x4),this['morphPosit'+'ionTex']=_0x2a998c['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x2a998c['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x2a998c['resolve']('morph_tex_'+'params'),this['lightCube']=new aM(),this['constantLi'+'ghtCube']=_0x2a998c['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['sortCompar'+'e'](_0x25d122,_0xb1289e){if(_0x25d122['layer']===_0xb1289e['layer']){if(_0x25d122['drawOrder']&&_0xb1289e['drawOrder'])return _0x25d122['drawOrder']-_0xb1289e['drawOrder'];if(_0x25d122['zdist']&&_0xb1289e['zdist'])return _0xb1289e['zdist']-_0x25d122['zdist'];if(_0x25d122['zdist2']&&_0xb1289e['zdist2'])return _0x25d122['zdist2']-_0xb1289e['zdist2'];}return _0xb1289e['_key'][Ei]-_0x25d122['_key'][Ei];}['sortCompar'+'eMesh'](_0x201aea,_0x4a501b){if(_0x201aea['layer']===_0x4a501b['layer']){if(_0x201aea['drawOrder']&&_0x4a501b['drawOrder'])return _0x201aea['drawOrder']-_0x4a501b['drawOrder'];if(_0x201aea['zdist']&&_0x4a501b['zdist'])return _0x4a501b['zdist']-_0x201aea['zdist'];}const _0x55d919=_0x201aea['_key'][Ei],_0x1d7c12=_0x4a501b['_key'][Ei];return _0x55d919===_0x1d7c12&&_0x201aea['mesh']&&_0x4a501b['mesh']?_0x4a501b['mesh']['id']-_0x201aea['mesh']['id']:_0x1d7c12-_0x55d919;}['sortCompar'+'eDepth'](_0x20930c,_0x331f08){const _0xf6ef3f=_0x20930c['_key'][ku],_0xe83d6d=_0x331f08['_key'][ku];return _0xf6ef3f===_0xe83d6d&&_0x20930c['mesh']&&_0x331f08['mesh']?_0x331f08['mesh']['id']-_0x20930c['mesh']['id']:_0xe83d6d-_0xf6ef3f;}['setupViewp'+'ort'](_0x49856f,_0x449f89){const _0x169e16=this['device'],_0x4c1a8d=_0x449f89?_0x449f89['width']:_0x169e16['width'],_0xdc8104=_0x449f89?_0x449f89['height']:_0x169e16['height'],_0xdcebe8=_0x49856f['rect'];let _0x2d5ab5=Math['floor'](_0xdcebe8['x']*_0x4c1a8d),_0x1a4938=Math['floor'](_0xdcebe8['y']*_0xdc8104),_0x3fcadc=Math['floor'](_0xdcebe8['z']*_0x4c1a8d),_0x4e90e7=Math['floor'](_0xdcebe8['w']*_0xdc8104);if(_0x169e16['setViewpor'+'t'](_0x2d5ab5,_0x1a4938,_0x3fcadc,_0x4e90e7),_0x49856f['_scissorRe'+'ctClear']){const _0x5bef2d=_0x49856f['scissorRec'+'t'];_0x2d5ab5=Math['floor'](_0x5bef2d['x']*_0x4c1a8d),_0x1a4938=Math['floor'](_0x5bef2d['y']*_0xdc8104),_0x3fcadc=Math['floor'](_0x5bef2d['z']*_0x4c1a8d),_0x4e90e7=Math['floor'](_0x5bef2d['w']*_0xdc8104);}_0x169e16['setScissor'](_0x2d5ab5,_0x1a4938,_0x3fcadc,_0x4e90e7);}['setCameraU'+'niforms'](_0xb3c0a3,_0x4026cb){var _0x35ec5b,_0x23c911;const _0x5c40e9=_0x4026cb==null?void(-0xc09*-0x2+0x254f*-0x1+0x1*0xd3d):_0x4026cb['flipY'];let _0x52dc56=0x1f9*0xd+-0x20fb+0x757;if(_0xb3c0a3['xr']&&_0xb3c0a3['xr']['session']){const _0x2c284b=((_0x23c911=(_0x35ec5b=_0xb3c0a3['_node'])==null?void(0x1dec+-0x71*-0x9+-0x21e5):_0x35ec5b['parent'])==null?void(-0x2*-0x8f+0x653*0x3+-0x1417):_0x23c911['getWorldTr'+'ansform']())||null,_0xeb0416=_0xb3c0a3['xr']['views'];_0x52dc56=_0xeb0416['list']['length'];for(let _0x394161=-0x1d91+0x112d+0x34*0x3d;_0x394161<_0x52dc56;_0x394161++){const _0x195ac4=_0xeb0416['list'][_0x394161];_0x195ac4['updateTran'+'sforms'](_0x2c284b),_0xb3c0a3['frustum']['setFromMat'+'4'](_0x195ac4['projViewOf'+'fMat']);}}else{let _0x22162e=_0xb3c0a3['projection'+'Matrix'];_0xb3c0a3['calculateP'+'rojection']&&_0xb3c0a3['calculateP'+'rojection'](_0x22162e,Al);let _0x492eb5=_0xb3c0a3['getProject'+'ionMatrixS'+'kybox']();_0x5c40e9&&(_0x22162e=EM['mul2'](g_,_0x22162e),_0x492eb5=CM['mul2'](g_,_0x492eb5)),this['device']['isWebGPU']&&(_0x22162e=MM['mul2'](y_,_0x22162e),_0x492eb5=PM['mul2'](y_,_0x492eb5));const {jitter:_0x1bd019}=_0xb3c0a3;let _0x4b3705=-0x1ab2+0x146*-0x1d+0x3fa0,_0xc141b9=0x47f*-0x7+-0x20eb+0x4064;if(_0x1bd019>-0x2564+-0x10a0+-0xd81*-0x4){const _0x2f9cc0=_0x4026cb?_0x4026cb['width']:this['device']['width'],_0x5625c0=_0x4026cb?_0x4026cb['height']:this['device']['height'],_0x59925e=x_[this['device']['renderVers'+'ion']%x_['length']];_0x4b3705=_0x1bd019*(_0x59925e['x']*(-0x17b2+0x296*-0xb+0x3426)-(0x1f3d+-0x236+-0x1d06))/_0x2f9cc0,_0xc141b9=_0x1bd019*(_0x59925e['y']*(-0x6cd*0x1+-0x1*0x247d+0x2b4c)-(0x40*0xc+0x1531+-0x1830))/_0x5625c0,_0x22162e=RM['copy'](_0x22162e),_0x22162e['data'][-0x1e47+-0x3*0x42d+0x2ad6*0x1]=_0x4b3705,_0x22162e['data'][0x1*-0x5f+0x1*0x75b+-0x6f3]=_0xc141b9,_0x492eb5=IM['copy'](_0x492eb5),_0x492eb5['data'][0x133a+-0x8a1*0x2+-0x1f0*0x1]=_0x4b3705,_0x492eb5['data'][-0x665*0x1+0x5c*-0x4a+-0x3*-0xb02]=_0xc141b9,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x4a893d=_0x1bd019>0x1*0x1c13+0x49b*0x2+-0x2549?this['blueNoiseJ'+'itterVec']:Q['ZERO'];if(this['blueNoiseJ'+'itterData'][0x1e61+-0x1de*-0x7+-0x2b73]=_0x4a893d['x'],this['blueNoiseJ'+'itterData'][0x12fe*0x2+0x1654+-0x3c4f]=_0x4a893d['y'],this['blueNoiseJ'+'itterData'][0x23c9*0x1+-0x68a+0x3*-0x9bf]=_0x4a893d['z'],this['blueNoiseJ'+'itterData'][0x20*-0x131+-0x17cf+0x3df2]=_0x4a893d['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x22162e['data']),this['projSkybox'+'Id']['setValue'](_0x492eb5['data']),_0xb3c0a3['calculateT'+'ransform'])_0xb3c0a3['calculateT'+'ransform'](Wi,Al);else{const _0x1a3092=_0xb3c0a3['_node']['getPositio'+'n'](),_0xee0347=_0xb3c0a3['_node']['getRotatio'+'n']();Wi['setTRS'](_0x1a3092,_0xee0347,T['ONE']);}this['viewInvId']['setValue'](Wi['data']),Mn['copy'](Wi)['invert'](),this['viewId']['setValue'](Mn['data']),__['setFromMat'+'4'](Mn),this['viewId3']['setValue'](__['data']),Hi['mul2'](_0x22162e,Mn),this['viewProjId']['setValue'](Hi['data']),_0xb3c0a3['_storeShad'+'erMatrices'](Hi,_0x4b3705,_0xc141b9,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x5c40e9?-(-0x307*-0x6+0xbe*-0x18+-0x59*0x1):0x5e9+0x1cd*0x7+-0x1283),this['dispatchVi'+'ewPos'](_0xb3c0a3['_node']['getPositio'+'n']()),_0xb3c0a3['frustum']['setFromMat'+'4'](Hi);}this['tbnBasis']['setValue'](_0x5c40e9?-(-0xb*0x1f3+-0x235+0x17a7):-0x2012+0x11b1*-0x2+0x1*0x4375);const _0x1648df=_0xb3c0a3['_nearClip'],_0x1e28eb=_0xb3c0a3['_farClip'];return this['nearClipId']['setValue'](_0x1648df),this['farClipId']['setValue'](_0x1e28eb),this['cameraPara'+'ms'][-0xf92+-0x1946+0x28d8]=(-0x10fe+-0xe84*0x2+0x2e07)/_0x1e28eb,this['cameraPara'+'ms'][-0xc7a*0x3+-0x24b*0x11+-0x4c6a*-0x1]=_0x1e28eb,this['cameraPara'+'ms'][-0x255a+-0x247b+0x49d7]=_0x1648df,this['cameraPara'+'ms'][-0x84a+0x3*-0x937+0x23f2]=_0xb3c0a3['projection']===ua?0x1743*0x1+0x7*-0x399+0x1*0x1ed:0x7*-0x2ce+-0x777+0x1b19,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0xb3c0a3['getExposur'+'e']():this['scene']['exposure']),_0x52dc56;}['clear'](_0x484111,_0x5ceef1,_0x329d61,_0x25de2c){const _0x46bab1=(_0x5ceef1??_0x484111['_clearColo'+'rBuffer']?Co:0xd18*0x2+-0x1861+0x1*-0x1cf)|(_0x329d61??_0x484111['_clearDept'+'hBuffer']?Mo:-0x3aa+-0x89*-0x7+0x1*-0x15)|(_0x25de2c??_0x484111['_clearSten'+'cilBuffer']?Ah:0x4f*0x3e+-0x59b+-0xd87*0x1);if(_0x46bab1){const _0x17c239=this['device'];G['pushGpuMar'+'ker'](_0x17c239,'CLEAR'),_0x17c239['clear']({'color':[_0x484111['_clearColo'+'r']['r'],_0x484111['_clearColo'+'r']['g'],_0x484111['_clearColo'+'r']['b'],_0x484111['_clearColo'+'r']['a']],'depth':_0x484111['_clearDept'+'h'],'stencil':_0x484111['_clearSten'+'cil'],'flags':_0x46bab1}),G['popGpuMark'+'er'](_0x17c239);}}['setCamera'](_0x4df06d,_0x3653a4,_0x1b63e4,_0x5183ef=null){this['setCameraU'+'niforms'](_0x4df06d,_0x3653a4),this['clearView'](_0x4df06d,_0x3653a4,_0x1b63e4,!(-0x9*-0x2ec+-0x2b*-0x6e+-0x2cc5));}['clearView'](_0x179749,_0x191497,_0x35e979,_0x2760dd){const _0x23836e=this['device'];if(G['pushGpuMar'+'ker'](_0x23836e,'CLEAR-VIEW'),_0x23836e['setRenderT'+'arget'](_0x191497),_0x23836e['updateBegi'+'n'](),_0x2760dd&&(_0x23836e['setColorWr'+'ite'](!(0x273*0x1+0x1*-0x413+0x1a0),!(-0x25e7+-0xb8f+0x3176),!(0x9*-0x1da+0xd3+0xfd7),!(-0xcbf*0x3+0x4*-0xd4+0x298d)),_0x23836e['setDepthWr'+'ite'](!(0x732+0xd6c+-0x179*0xe))),this['setupViewp'+'ort'](_0x179749,_0x191497),_0x35e979){const _0x104055=_0x179749['_clearOpti'+'ons'];_0x23836e['clear'](_0x104055||{'color':[_0x179749['_clearColo'+'r']['r'],_0x179749['_clearColo'+'r']['g'],_0x179749['_clearColo'+'r']['b'],_0x179749['_clearColo'+'r']['a']],'depth':_0x179749['_clearDept'+'h'],'flags':(_0x179749['_clearColo'+'rBuffer']?Co:-0xf82*-0x1+0x755*0x4+-0x2*0x166b)|(_0x179749['_clearDept'+'hBuffer']?Mo:0x3*0x94a+0x1*0x1cf3+-0x38d1)|(_0x179749['_clearSten'+'cilBuffer']?Ah:0x1*0x7b5+0x599*0x2+-0x12e7),'stencil':_0x179749['_clearSten'+'cil']});}G['popGpuMark'+'er'](_0x23836e);}['setupCullM'+'ode'](_0xded7af,_0xb886f0,_0x3d5591){const _0xf2f76e=_0x3d5591['material'];let _0x567cf8=mt;if(_0xded7af){let _0x12cefb=-0x1fd8+-0x75d+-0x1de*-0x15;(_0xf2f76e['cull']===mo||_0xf2f76e['cull']===rn)&&(_0x12cefb=_0xb886f0*_0x3d5591['flipFacesF'+'actor']*_0x3d5591['node']['worldScale'+'Sign']),_0x12cefb<0x25bb*0x1+-0xb9b+-0x1a20?_0x567cf8=_0xf2f76e['cull']===mo?rn:mo:_0x567cf8=_0xf2f76e['cull'];}this['device']['setCullMod'+'e'](_0x567cf8),_0x567cf8===mt&&_0xf2f76e['cull']===mt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x3d5591['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x2fd123){if(_0x2fd123['xr']&&_0x2fd123['xr']['views']['list']['length']){const _0x2490a7=_0x2fd123['xr']['views']['list'][0x22b9+0x12e4+-0x359d*0x1];Hi['mul2'](_0x2490a7['projMat'],_0x2490a7['viewOffMat']),_0x2fd123['frustum']['setFromMat'+'4'](Hi);return;}const _0x3e19f0=_0x2fd123['projection'+'Matrix'];if(_0x2fd123['calculateP'+'rojection']&&_0x2fd123['calculateP'+'rojection'](_0x3e19f0,Al),_0x2fd123['calculateT'+'ransform'])_0x2fd123['calculateT'+'ransform'](Wi,Al);else{const _0x33653a=_0x2fd123['_node']['getPositio'+'n'](),_0x59477b=_0x2fd123['_node']['getRotatio'+'n']();Wi['setTRS'](_0x33653a,_0x59477b,T['ONE']),this['viewInvId']['setValue'](Wi['data']);}Mn['copy'](Wi)['invert'](),Hi['mul2'](_0x3e19f0,Mn),_0x2fd123['frustum']['setFromMat'+'4'](Hi);}['setBaseCon'+'stants'](_0x7086de,_0x2df270){_0x7086de['setCullMod'+'e'](_0x2df270['cull']),_0x2df270['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x2df270['opacityMap']),(_0x2df270['opacityMap']||_0x2df270['alphaTest']>0xcf6*0x1+0x2069*0x1+-0x2d5f)&&this['alphaTestI'+'d']['setValue'](_0x2df270['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x2de382){Dd++;const _0x3a6b78=_0x2de382['length'];if(_0x3a6b78===0xa51+0x9*-0x1f5+0x74c)return;const _0x39cffb=ne();for(let _0x4b0672=0x59d+0x1f16+-0x24b3;_0x4b0672<_0x3a6b78;_0x4b0672++){const _0x3a4919=_0x2de382[_0x4b0672]['skinInstan'+'ce'];_0x3a4919&&(_0x3a4919['updateMatr'+'ices'](_0x2de382[_0x4b0672]['node'],Dd),_0x3a4919['_dirty']=!(-0x1a*0xad+-0x18e3+0x2a75));}this['_skinTime']+=ne()-_0x39cffb;}['updateGpuS'+'kinMatrice'+'s'](_0x20b8a5){const _0xcfaa6f=ne();for(const _0x114a7a of _0x20b8a5){const _0x1a71ab=_0x114a7a['skinInstan'+'ce'];_0x1a71ab&&_0x1a71ab['_dirty']&&(_0x1a71ab['updateMatr'+'ixPalette'](_0x114a7a['node'],Dd),_0x1a71ab['_dirty']=!(-0xa25+0x2036+0x1610*-0x1));}this['_skinTime']+=ne()-_0xcfaa6f;}['updateMorp'+'hing'](_0xa6ab3d){const _0x4bf7fc=ne();for(const _0x2b71cc of _0xa6ab3d){const _0x28e404=_0x2b71cc['morphInsta'+'nce'];_0x28e404&&_0x28e404['_dirty']&&_0x28e404['update']();}this['_morphTime']+=ne()-_0x4bf7fc;}['updateGSpl'+'ats'](_0x4aff71){var _0x245019;for(const _0x34c8b4 of _0x4aff71)(_0x245019=_0x34c8b4['gsplatInst'+'ance'])==null||_0x245019['update']();}['gpuUpdate'](_0x5f0605){this['updateGpuS'+'kinMatrice'+'s'](_0x5f0605),this['updateMorp'+'hing'](_0x5f0605),this['updateGSpl'+'ats'](_0x5f0605);}['setVertexB'+'uffers'](_0x3e80ed,_0x49c2ea){_0x3e80ed['setVertexB'+'uffer'](_0x49c2ea['vertexBuff'+'er']);}['setMorphin'+'g'](_0x437a31,_0x17ebbe){_0x17ebbe&&(_0x17ebbe['prepareRen'+'dering'](_0x437a31),_0x437a31['setVertexB'+'uffer'](_0x17ebbe['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x17ebbe['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x17ebbe['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x17ebbe['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x3d1c97,_0x42b36b){const _0x44ed96=_0x42b36b['skinInstan'+'ce'];if(_0x44ed96){this['_skinDrawC'+'alls']++;const _0xb8d36d=_0x44ed96['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0xb8d36d),this['boneTextur'+'eSizeId']['setValue'](_0x44ed96['boneTextur'+'eSize']);}}['dispatchVi'+'ewPos'](_0x4a98d4){const _0x394f2b=this['viewPos'];_0x394f2b[0x2*0xdf6+-0x54*-0x4d+-0x3530]=_0x4a98d4['x'],_0x394f2b[-0x1ef7+0x305*0x5+0xfdf]=_0x4a98d4['y'],_0x394f2b[0x18f2*-0x1+0x1*0x2288+-0x4ca*0x2]=_0x4a98d4['z'],this['viewPosId']['setValue'](_0x394f2b);}['initViewBi'+'ndGroupFor'+'mat'](_0x417585){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x5903e1=[new gt('matrix_vie'+'wProjectio'+'n',Sa),new gt('cubeMapRot'+'ationMatri'+'x',ko),new gt('view_posit'+'ion',$t),new gt('skyboxInte'+'nsity',$s),new gt('exposure',$s),new gt('textureBia'+'s',$s)];_0x417585&&_0x5903e1['push'](new gt('clusterCel'+'lsCountByB'+'oundsSize',$t),new gt('clusterTex'+'tureSize',$t),new gt('clusterBou'+'ndsMin',$t),new gt('clusterBou'+'ndsDelta',$t),new gt('clusterCel'+'lsDot',$t),new gt('clusterCel'+'lsMax',$t),new gt('clusterCom'+'pressionLi'+'mit0',or),new gt('shadowAtla'+'sParams',or),new gt('clusterMax'+'Cells',ln),new gt('clusterSki'+'p',$s)),this['viewUnifor'+'mFormat']=new Qy(this['device'],_0x5903e1);const _0x5ec243=[new pp(fp,up|li),new fi('lightsText'+'ureFloat',li,Us,nd),new fi('lightsText'+'ure8',li,Us,nd),new fi('shadowAtla'+'sTexture',li,Us,jS),new fi('cookieAtla'+'sTexture',li,Us,oh),new fi('areaLights'+'LutTex1',li,Us,oh),new fi('areaLights'+'LutTex2',li,Us,oh)];_0x417585&&_0x5ec243['push'](new fi('clusterWor'+'ldTexture',li,Us,nd)),this['viewBindGr'+'oupFormat']=new jy(this['device'],_0x5ec243);}}['setupViewU'+'niformBuff'+'ers'](_0x29f4d1,_0x1321dc,_0x53c80e,_0x4071d8){v['assert'](Array['isArray'](_0x29f4d1),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const _0x41c5b0=this['device'];for(v['assert'](_0x4071d8===-0xf9d*0x2+-0xf15+-0x27*-0x130,'This\x20code\x20'+'does\x20not\x20h'+'andle\x20the\x20'+'viewCount\x20'+'yet');_0x29f4d1['length']<_0x4071d8;){const _0x5376e9=new gp(_0x41c5b0,_0x1321dc,!(-0xd*0x7d+-0x3*0xb5e+-0x6*-0x6be)),_0x3af4c3=new mp(_0x41c5b0,_0x53c80e,_0x5376e9);mn['setName'](_0x3af4c3,'ViewBindGr'+'oup_'+_0x3af4c3['id']),_0x29f4d1['push'](_0x3af4c3);}const _0x3fb211=_0x29f4d1[0x211*-0x3+0x1fde+0x1*-0x19ab];_0x3fb211['defaultUni'+'formBuffer']['update'](),_0x3fb211['update'](),_0x41c5b0['setBindGro'+'up'](Dh,_0x3fb211);}['setupMeshU'+'niformBuff'+'ers'](_0x2affcf,_0x5c1c9f){const _0x2cf9e7=this['device'];if(_0x2cf9e7['supportsUn'+'iformBuffe'+'rs']){this['modelMatri'+'xId']['setValue'](_0x5c1c9f['node']['worldTrans'+'form']['data']),this['normalMatr'+'ixId']['setValue'](_0x5c1c9f['node']['normalMatr'+'ix']['data']);const _0xaea3cd=_0x2affcf['getBindGro'+'up'](_0x2cf9e7);_0xaea3cd['update'](),_0x2cf9e7['setBindGro'+'up'](Xy,_0xaea3cd),_0x2affcf['getUniform'+'Buffer'](_0x2cf9e7)['update'](kd),_0x2cf9e7['setBindGro'+'up'](Eu,kd['bindGroup'],kd['offsets']);}}['drawInstan'+'ce'](_0x2fe85d,_0x2389df,_0x3a4b56,_0x4f5ca8,_0x294830){const _0x1c319a=_0x2389df['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x1c319a['data']),_0x294830&&this['normalMatr'+'ixId']['setValue'](_0x2389df['node']['normalMatr'+'ix']['data']);const _0x2716d9=_0x2389df['instancing'+'Data'];_0x2716d9?_0x2716d9['count']>-0x64*-0x53+-0x11*-0x83+-0x291f?(this['_instanced'+'DrawCalls']++,_0x2fe85d['setVertexB'+'uffer'](_0x2716d9['vertexBuff'+'er']),_0x2fe85d['draw'](_0x3a4b56['primitive'][_0x4f5ca8],_0x2716d9['count'])):_0x2fe85d['clearVerte'+'xBuffer']():_0x2fe85d['draw'](_0x3a4b56['primitive'][_0x4f5ca8]);}['drawInstan'+'ce2'](_0x4c94b5,_0x1fc544,_0x3213b9,_0x16ff37){const _0x50bab3=_0x1fc544['instancing'+'Data'];_0x50bab3?_0x50bab3['count']>0x1a98+-0x603+-0x1495?(this['_instanced'+'DrawCalls']++,_0x4c94b5['draw'](_0x3213b9['primitive'][_0x16ff37],_0x50bab3['count'],!(0xef5+-0xc84+-0x271))):_0x4c94b5['clearVerte'+'xBuffer']():_0x4c94b5['draw'](_0x3213b9['primitive'][_0x16ff37],void(0x119*0x10+0x1*0x1a89+-0x1*0x2c19),!(-0x8*0x29c+-0x160f+0x2aef));}['cull'](_0x1ed615,_0x3035c4,_0x32c745){const _0x140040=ne(),_0x3211b4=_0x32c745['opaque'];_0x3211b4['length']=-0x1065+0x22a2+-0x123d;const _0x3d63a2=_0x32c745['transparen'+'t'];_0x3d63a2['length']=0x1f87+-0x2143+0x1*0x1bc;const _0x424e46=_0x1ed615['frustumCul'+'ling'],_0x1e0445=_0x3035c4['length'];for(let _0x37c5ea=-0xe*-0x161+0x748+-0x1a96;_0x37c5ea<_0x1e0445;_0x37c5ea++){const _0x5d65dc=_0x3035c4[_0x37c5ea];_0x5d65dc['visible']&&(!_0x424e46||!_0x5d65dc['cull']||_0x5d65dc['_isVisible'](_0x1ed615))&&(_0x5d65dc['visibleThi'+'sFrame']=!(-0x212e+-0x3*0x56a+0x316c),(_0x5d65dc['transparen'+'t']?_0x3d63a2:_0x3211b4)['push'](_0x5d65dc),(_0x5d65dc['skinInstan'+'ce']||_0x5d65dc['morphInsta'+'nce']||_0x5d65dc['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x5d65dc),_0x5d65dc['gsplatInst'+'ance']&&_0x5d65dc['gsplatInst'+'ance']['cameras']['push'](_0x1ed615)));}this['_cullTime']+=ne()-_0x140040,this['_numDrawCa'+'llsCulled']+=_0x424e46?_0x1e0445:-0x2656+-0x36*0x42+0x3442;}['collectLig'+'hts'](_0x13a994){this['lights']['length']=-0x1*-0x1a08+-0x784+-0x1284,this['localLight'+'s']['length']=-0xed+0x9*0x1fd+-0x18*0xb5;const _0x4527a6=this['scene']['_stats'];_0x4527a6['dynamicLig'+'hts']=-0x1339+-0x4c2+-0x1*-0x17fb,_0x4527a6['bakedLight'+'s']=0xc1f+-0x1a4b*0x1+0xe2c;const _0x3214f8=_0x13a994['layerList']['length'];for(let _0x2a69e4=-0xc*-0x6e+-0x4*-0x47a+-0x1710;_0x2a69e4<_0x3214f8;_0x2a69e4++){const _0x3c7bca=_0x13a994['layerList'][_0x2a69e4];if(!Od['has'](_0x3c7bca)){Od['add'](_0x3c7bca);const _0x29e28b=_0x3c7bca['_lights'];for(let _0x49df04=-0x1c28+-0xe73+0x2a9b;_0x49df04<_0x29e28b['length'];_0x49df04++){const _0x10a598=_0x29e28b[_0x49df04];Fd['has'](_0x10a598)||(Fd['add'](_0x10a598),this['lights']['push'](_0x10a598),_0x10a598['_type']!==oe&&this['localLight'+'s']['push'](_0x10a598),(_0x10a598['mask']&hs||_0x10a598['mask']&cr)&&_0x4527a6['dynamicLig'+'hts']++,_0x10a598['mask']&rr&&_0x4527a6['bakedLight'+'s']++);}}}_0x4527a6['lights']=this['lights']['length'],Fd['clear'](),Od['clear']();}['cullLights'](_0x6047d1,_0x1383e7){const _0x28690e=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x5cb895=this['scene']['physicalUn'+'its'];for(let _0x361906=0x1*0x1bcf+0x17*-0x7+0x2*-0xd97;_0x361906<_0x1383e7['length'];_0x361906++){const _0x4740ae=_0x1383e7[_0x361906];if(_0x4740ae['enabled']){if(_0x4740ae['_type']!==oe){if(_0x4740ae['getBoundin'+'gSphere'](Ld),_0x6047d1['frustum']['containsSp'+'here'](Ld)){_0x4740ae['visibleThi'+'sFrame']=!(-0x2362+-0x1d*-0x5d+0x18d9),_0x4740ae['usePhysica'+'lUnits']=_0x5cb895;const _0x4c8164=_0x6047d1['getScreenS'+'ize'](Ld);_0x4740ae['maxScreenS'+'ize']=Math['max'](_0x4740ae['maxScreenS'+'ize'],_0x4c8164);}else _0x28690e||_0x4740ae['castShadow'+'s']&&!_0x4740ae['shadowMap']&&(_0x4740ae['visibleThi'+'sFrame']=!(0x24f8+-0xbfb*0x1+-0x18fd));}else _0x4740ae['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x5908d8){const _0x419871=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x1d4c42=-0xbd*0x3+-0xdc3+-0x7fd*-0x2;_0x1d4c42<this['localLight'+'s']['length'];_0x1d4c42++){const _0x438065=this['localLight'+'s'][_0x1d4c42];_0x438065['_type']!==oe&&(_0x419871?_0x438065['atlasSlotU'+'pdated']&&_0x438065['shadowUpda'+'teMode']===Ps&&(_0x438065['shadowUpda'+'teMode']=cn):_0x438065['shadowUpda'+'teMode']===Ps&&_0x438065['castShadow'+'s']&&(_0x438065['getRenderD'+'ata'](null,-0x20e4+0x1*-0xa89+0x2b6d)['shadowCame'+'ra']['renderTarg'+'et']||(_0x438065['shadowUpda'+'teMode']=cn)),_0x438065['visibleThi'+'sFrame']&&_0x438065['castShadow'+'s']&&_0x438065['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x438065,_0x5908d8));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x1537ff=_0x5908d8['cameras'];for(let _0x2ff617=0x6a9*-0x5+0x115+0x2038;_0x2ff617<_0x1537ff['length'];_0x2ff617++){const _0x14e970=_0x1537ff[_0x2ff617];if(_0x14e970['enabled']){const _0x1ee9cf=_0x14e970['camera'];let _0x4acbb9;const _0x45f1f0=_0x1ee9cf['layers'];for(let _0x2601c3=-0x2351*-0x1+0x4d2+-0x2823;_0x2601c3<_0x45f1f0['length'];_0x2601c3++){const _0x37a896=_0x5908d8['getLayerBy'+'Id'](_0x45f1f0[_0x2601c3]);if(_0x37a896){const _0x8384d2=_0x37a896['splitLight'+'s'][oe];for(let _0x16af64=0x123*-0x17+0x26fe+0xd*-0xfd;_0x16af64<_0x8384d2['length'];_0x16af64++){const _0x233b9a=_0x8384d2[_0x16af64];_0x233b9a['castShadow'+'s']&&!Pn['has'](_0x233b9a)&&(Pn['add'](_0x233b9a),_0x4acbb9=_0x4acbb9??[],_0x4acbb9['push'](_0x233b9a),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x233b9a,_0x5908d8,_0x1ee9cf));}}}_0x4acbb9&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x1ee9cf,_0x4acbb9),Pn['clear']();}}}['cullCompos'+'ition'](_0x45e39c){const _0x3f89c4=ne(),{scene:_0x28e5cf}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0x291195=_0x45e39c['cameras']['length'];this['_camerasRe'+'ndered']+=_0x291195;for(let _0x3069fa=0x2*-0x173+-0x2007+0x1*0x22ed;_0x3069fa<_0x291195;_0x3069fa++){const _0x371774=_0x45e39c['cameras'][_0x3069fa];_0x28e5cf==null||_0x28e5cf['fire'](ow,_0x371774);const _0x5b4de3=_0x371774['renderTarg'+'et'];_0x371774['frameUpdat'+'e'](_0x5b4de3),this['updateCame'+'raFrustum'](_0x371774['camera']);const _0x23164b=_0x371774['layers'];for(let _0x291f97=-0x1cea+0xb5*0x25+0xeb*0x3;_0x291f97<_0x23164b['length'];_0x291f97++){const _0x510750=_0x45e39c['getLayerBy'+'Id'](_0x23164b[_0x291f97]);if(_0x510750&&_0x510750['enabled']){this['cullLights'](_0x371774['camera'],_0x510750['_lights']);const _0x1ee61a=_0x510750['getCulledI'+'nstances'](_0x371774['camera']);this['cull'](_0x371774['camera'],_0x510750['meshInstan'+'ces'],_0x1ee61a);}}_0x28e5cf==null||_0x28e5cf['fire'](lw,_0x371774);}_0x28e5cf['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x45e39c),this['_cullTime']+=ne()-_0x3f89c4;}['updateShad'+'ers'](_0x4005ae,_0x48fb8c){const _0xb578c0=_0x4005ae['length'];for(let _0x4ba7b7=0x1*0xc5b+0x1392+0x1fed*-0x1;_0x4ba7b7<_0xb578c0;_0x4ba7b7++){const _0x4f5679=_0x4005ae[_0x4ba7b7]['material'];if(_0x4f5679&&!Pn['has'](_0x4f5679)&&(Pn['add'](_0x4f5679),_0x4f5679['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant'])){if(_0x48fb8c&&(!_0x4f5679['useLightin'+'g']||_0x4f5679['emitter']&&!_0x4f5679['emitter']['lighting']))continue;_0x4f5679['clearVaria'+'nts']();}}Pn['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](hM(this['device']));}['beginFrame'](_0x18d9c6){const _0x2ba6f3=this['scene'],_0x30dfb4=_0x2ba6f3['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x1c3899=-0x1ff8+-0x2*0x325+0x2642;const _0x46d48c=_0x18d9c6['layerList'],_0x354ed1=_0x46d48c['length'];for(let _0x395e81=0x9b*0x8+0x1c4c+-0x2124;_0x395e81<_0x354ed1;_0x395e81++){const _0x2a5b40=_0x46d48c[_0x395e81]['meshInstan'+'ces'],_0x53790f=_0x2a5b40['length'];_0x1c3899+=_0x53790f;for(let _0x299af8=-0x2e+-0x1152+0x460*0x4;_0x299af8<_0x53790f;_0x299af8++){const _0x3dcb54=_0x2a5b40[_0x299af8];_0x3dcb54['visibleThi'+'sFrame']=!(0x17*0xf+0x8*-0x3f3+0x1e40),_0x30dfb4&&Bd['push'](_0x3dcb54),_0x3dcb54['skinInstan'+'ce']&&Nd['push'](_0x3dcb54);}}if(_0x2ba6f3['_stats']['meshInstan'+'ces']=_0x1c3899,_0x30dfb4){const _0x49a460=!_0x2ba6f3['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](Bd,_0x49a460),_0x2ba6f3['updateShad'+'ers']=!(-0x4df+-0x10e7+0x15c7),this['device']['_shadersDi'+'rty']=!(0x200a+-0x2b7+-0x1d52),_0x2ba6f3['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](Nd),Bd['length']=-0x178a+-0x1872+0x4*0xbff,Nd['length']=0x2076+-0x88e+-0x17e8;const _0x61718b=this['lights'],_0x2c6e1d=_0x61718b['length'];for(let _0x269ecd=0x1*-0x2069+0x2299+-0x118*0x2;_0x269ecd<_0x2c6e1d;_0x269ecd++)_0x61718b[_0x269ecd]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x5056e1){const _0x3fc4e3=ne(),_0x8770f4=_0x5056e1['layerList']['length'],_0x1344ee=this['scene']['_shaderVer'+'sion'];for(let _0x275e70=-0x25a7+0x1123+0x1484;_0x275e70<_0x8770f4;_0x275e70++){const _0x31b88c=_0x5056e1['layerList'][_0x275e70];_0x31b88c['_shaderVer'+'sion']=_0x1344ee,_0x31b88c['_skipRende'+'rCounter']=0x87*-0x4a+-0x1219+0x391f,_0x31b88c['_forwardDr'+'awCalls']=0xa0f+-0x1ecc+0x14bd,_0x31b88c['_shadowDra'+'wCalls']=-0x9a6+-0x1b04+0x24aa,_0x31b88c['_renderTim'+'e']=0x2381+0x228c+-0x1*0x460d;}_0x5056e1['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=ne()-_0x3fc4e3;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(0x1250+0x10cb*-0x1+0xc2*-0x2),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class D0{constructor(){c(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(-0x1150+-0x5*0x43f+0x268c),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(-0x1d74+-0xf89+0x2cfe),this['clearDepth']=!(-0x323*0x4+-0x2439+0x6*0x821),this['clearStenc'+'il']=!(-0x47*0x8b+0x2*0xf31+0x82c),this['triggerPos'+'tprocess']=!(0x1956+-0x263c+0xce7),this['firstCamer'+'aUse']=!(0xe*0x157+0x7c1+-0x1a82),this['lastCamera'+'Use']=!(0x9*-0xdf+0x38*-0x31+-0x90*-0x21),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(-0x1a84+0x4*0xe2+-0x499*-0x5));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x791995=>{_0x791995['defaultUni'+'formBuffer']['destroy'](),_0x791995['destroy']();}),this['viewBindGr'+'oups']['length']=-0x1*-0x2063+0x7d8*0x1+-0x283b;}['setupClear'+'s'](_0x65c11,_0x54b166){this['clearColor']=(_0x65c11==null?void(0x10*-0x10d+0xacf+0x601):_0x65c11['clearColor'+'Buffer'])||_0x54b166['clearColor'+'Buffer'],this['clearDepth']=(_0x65c11==null?void(-0x2096+-0x1518+0x1*0x35ae):_0x65c11['clearDepth'+'Buffer'])||_0x54b166['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x65c11==null?void(-0x233f*-0x1+-0x596+-0x1da9):_0x65c11['clearStenc'+'ilBuffer'])||_0x54b166['clearStenc'+'ilBuffer'];}}class LM extends ds{constructor(_0x35c650,_0x25a9ec,_0x4d748d,_0x2e3de0){super(_0x35c650),c(this,'layerCompo'+'sition'),c(this,'scene'),c(this,'renderer'),c(this,'renderActi'+'ons',[]),c(this,'gammaCorre'+'ction'),c(this,'toneMappin'+'g'),c(this,'noDepthCle'+'ar',!(-0x26e6+0x52*0x4a+0xf33)),(this['layerCompo'+'sition']=_0x25a9ec,this['scene']=_0x4d748d,this['renderer']=_0x2e3de0);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>-0x1c0f+0x5*-0x587+0x37b2;}['addRenderA'+'ction'](_0x477204){this['renderActi'+'ons']['push'](_0x477204);}['addLayer'](_0x5f5045,_0x26e46f,_0x4dc0a2,_0x1cb41c=!(-0x926+0x647*0x1+0x2df)){v['assert'](_0x5f5045),v['assert'](this['renderTarg'+'et']!==void(0xd*0x18a+0xa61*-0x1+0x1d*-0x55),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),v['assert'](_0x5f5045['camera']['layersSet']['has'](_0x26e46f['id']),'Camera\x20'+_0x5f5045['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x26e46f['name']+'.');const _0x30a67a=new D0();if(_0x30a67a['renderTarg'+'et']=this['renderTarg'+'et'],_0x30a67a['camera']=_0x5f5045,_0x30a67a['layer']=_0x26e46f,_0x30a67a['transparen'+'t']=_0x4dc0a2,_0x1cb41c){const _0x5d8928=this['renderActi'+'ons']['length']===0x106e+0x20+-0x108e;_0x30a67a['setupClear'+'s'](_0x5d8928?_0x5f5045:void(0x67*0x4f+-0x2f6*-0x8+-0x50b*0xb),_0x26e46f);}this['addRenderA'+'ction'](_0x30a67a);}['addLayers'](_0x4a7619,_0x57a23b,_0x5d7087,_0x4cfc1e,_0x9c92f,_0x3c240f=!(0x363*-0x8+0x1*0x601+0x1517)){const {layerList:_0x7ff69a,subLayerList:_0x1c0acb}=_0x4a7619;let _0x234603=_0x4cfc1e,_0x59c3d9=_0x5d7087;for(;_0x59c3d9<_0x7ff69a['length'];){const _0x4ad30d=_0x7ff69a[_0x59c3d9],_0x2bacd9=_0x1c0acb[_0x59c3d9];if(_0x57a23b['camera']['layersSet']['has'](_0x4ad30d['id'])&&(this['addLayer'](_0x57a23b,_0x4ad30d,_0x2bacd9,_0x234603),_0x234603=!(0x2*-0x81+0x217*0x5+0x12e*-0x8)),_0x59c3d9++,_0x4ad30d['id']===_0x9c92f&&_0x2bacd9===_0x3c240f)break;}return _0x59c3d9;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x5f506b,renderActions:_0xcd20f1}=this;for(let _0x43954c=-0x305*0xa+0x184a+0x5e8;_0x43954c<_0xcd20f1['length'];_0x43954c++){const _0x3ee99e=_0xcd20f1[_0x43954c]['camera']['camera'],_0x1b4cd1=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x3ee99e);if(_0x1b4cd1)for(let _0xa0f015=-0x2056+-0x9a7*0x1+0x29fd;_0xa0f015<_0x1b4cd1['length'];_0xa0f015++){const _0x56cf51=_0x1b4cd1[_0xa0f015];if(_0x5f506b['dirLightSh'+'adows']['get'](_0x56cf51)!==_0x3ee99e){_0x5f506b['dirLightSh'+'adows']['set'](_0x56cf51,_0x3ee99e);const _0x4fea54=_0x5f506b['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x56cf51,_0x3ee99e);_0x4fea54&&this['beforePass'+'es']['push'](_0x4fea54);}}}}['updateClea'+'rs'](){const _0x83feaf=this['renderActi'+'ons'][0x1673+-0x8b+-0x15e8];if(_0x83feaf){const _0x2cfc54=_0x83feaf['camera']['camera'],_0x3d7bf3=_0x2cfc54['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x3d7bf3&&_0x83feaf['clearColor']?_0x2cfc54['clearColor']:void(0x1*0x641+0x2233+-0x6*0x6be)),this['setClearDe'+'pth'](_0x3d7bf3&&_0x83feaf['clearDepth']&&!this['noDepthCle'+'ar']?_0x2cfc54['clearDepth']:void(0x3*0xb51+-0xa99+-0x175a)),this['setClearSt'+'encil'](_0x3d7bf3&&_0x83feaf['clearStenc'+'il']?_0x2cfc54['clearStenc'+'il']:void(-0x1f99+0x1*0x415+0x1b84));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x2cd2de}=this;for(let _0x357f1c=0xb*0x373+0x166d*0x1+-0x1e2f*0x2;_0x357f1c<_0x2cd2de['length'];_0x357f1c++){const _0x4e01a6=_0x2cd2de[_0x357f1c];_0x4e01a6['firstCamer'+'aUse']&&this['scene']['fire'](iw,_0x4e01a6['camera']);}}['execute'](){const {layerComposition:_0x2229c3,renderActions:_0x20063d}=this;for(let _0x1416a4=-0x1aa6+-0x19c0+0x3466;_0x1416a4<_0x20063d['length'];_0x1416a4++){const _0x392314=_0x20063d[_0x1416a4],_0x2dfbcd=_0x392314['layer'];v['call'](()=>{_0x2229c3['getLayerBy'+'Name'](_0x2dfbcd['name'])||v['warnOnce']('Layer\x20'+_0x2dfbcd['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x2229c3['isEnabled'](_0x2dfbcd,_0x392314['transparen'+'t'])&&this['renderRend'+'erAction'](_0x392314,_0x1416a4===0x68f+0x195b+-0x1fea);}}['after'](){for(let _0x5288cd=-0xf65+-0x1*-0x433+0xb32;_0x5288cd<this['renderActi'+'ons']['length'];_0x5288cd++){const _0x3cd537=this['renderActi'+'ons'][_0x5288cd];_0x3cd537['lastCamera'+'Use']&&this['scene']['fire'](rw,_0x3cd537['camera']);}this['beforePass'+'es']['length']=-0x1307*0x2+-0x2ad*-0x3+0x1e07;}['renderRend'+'erAction'](_0x52487d,_0x17fc7d){var _0x3cbb98;const {renderer:_0x16b50b,scene:_0xeb3f4b}=this,_0x2759d5=_0x16b50b['device'],{layer:_0x458976,transparent:_0x3cac30,camera:_0x220a56}=_0x52487d;G['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x220a56?_0x220a56['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x458976['name']+'('+(_0x3cac30?'TRANSP':'OPAQUE')+')');const _0x39cc35=ne();if(_0x220a56){const _0x4c27f1=_0x220a56['gammaCorre'+'ction'],_0x329609=_0x220a56['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(-0xed3+-0x1ded+0x2cc0)&&(_0x220a56['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(0x1*-0x2084+-0x163*0x9+0x2cff)&&(_0x220a56['toneMappin'+'g']=this['toneMappin'+'g']),_0xeb3f4b['fire'](nw,_0x220a56,_0x458976,_0x3cac30);const _0x4cb8cc={'lightClusters':_0x52487d['lightClust'+'ers']},_0x410c7c=((_0x3cbb98=_0x220a56['camera']['shaderPass'+'Info'])==null?void(0x2028+0x99*0x2d+-0x3b0d):_0x3cbb98['index'])??gn;(!_0x17fc7d||!_0x220a56['camera']['fullSizeCl'+'earRect'])&&(_0x4cb8cc['clearColor']=_0x52487d['clearColor'],_0x4cb8cc['clearDepth']=_0x52487d['clearDepth'],_0x4cb8cc['clearStenc'+'il']=_0x52487d['clearStenc'+'il']);const _0x6d8d07=_0x52487d['renderTarg'+'et']??_0x2759d5['backBuffer'];_0x16b50b['renderForw'+'ardLayer'](_0x220a56['camera'],_0x6d8d07,_0x458976,_0x3cac30,_0x410c7c,_0x52487d['viewBindGr'+'oups'],_0x4cb8cc),_0x2759d5['setBlendSt'+'ate'](_t['NOBLEND']),_0x2759d5['setStencil'+'State'](null,null),_0x2759d5['setAlphaTo'+'Coverage'](!(0xb*-0x1+-0x4e4+0x4f0)),_0xeb3f4b['fire'](aw,_0x220a56,_0x458976,_0x3cac30),this['gammaCorre'+'ction']!==void(-0x1703+0x109d+0x27*0x2a)&&(_0x220a56['gammaCorre'+'ction']=_0x4c27f1),this['toneMappin'+'g']!==void(0xa1*-0x1f+0x132f+0x5*0x10)&&(_0x220a56['toneMappin'+'g']=_0x329609);}G['popGpuMark'+'er'](this['device']),_0x458976['_renderTim'+'e']+=ne()-_0x39cc35;}['log'](_0x527c23,_0x3cfb81){if(super['log'](_0x527c23,_0x3cfb81),Xs['get'](Jn)){const {layerComposition:_0x204b8b}=this;this['renderActi'+'ons']['forEach']((_0x4af405,_0x503e27)=>{const _0x3fc938=_0x4af405['layer'],_0x12f879=_0x3fc938['enabled']&&_0x204b8b['isEnabled'](_0x3fc938,_0x4af405['transparen'+'t']),_0x26bff7=_0x4af405['camera'];v['trace'](Jn,'\x20\x20\x20\x20'+_0x503e27+':'+('\x20Cam:\x20'+(_0x26bff7?_0x26bff7['entity']['name']:'-'))['padEnd'](-0x1*0xc13+0x11*0x1df+-0x9d3*0x2,'\x20')+('\x20Lay:\x20'+_0x3fc938['name'])['padEnd'](0x66f+0x10b*-0x1d+-0xbf3*-0x2,'\x20')+(_0x4af405['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x12f879?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x3fc938['meshInstan'+'ces']['length'])['padEnd'](-0x1b3e+-0xb4c*0x2+0x31db,'\x20'));});}}}class FM extends ds{constructor(_0x5747aa,_0x4b7ddc,_0x5d13d2){super(_0x5747aa),this['renderer']=_0x4b7ddc,this['renderActi'+'on']=_0x5d13d2,this['requiresCu'+'bemaps']=!(0x2*0x1377+-0x425+-0x22c8);}['execute'](){const _0x153fbf=this['renderActi'+'on'],_0x1b4661=_0x153fbf['camera'];v['assert'](_0x153fbf['triggerPos'+'tprocess']&&_0x1b4661['onPostproc'+'essing']),_0x1b4661['onPostproc'+'essing']();}}const OM=[[],[],[]],$i=new Y(),br={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=0x2060+0x1dc1+-0x3e21,this['shaderInst'+'ances']['length']=0x1f60+-0x12d+-0x1e33,this['isNewMater'+'ial']['length']=-0x2fa*0x9+0xd7f+-0xd4b*-0x1,this['lightMaskC'+'hanged']['length']=-0x419*0x4+0x157c+-0x518;}};function kM(_0x4a27bb){const _0x5de5f6=[];for(let _0x1dc565=0x12a*-0x15+0x4*-0x2ab+-0x9b*-0x3a;_0x1dc565<_0x4a27bb;++_0x1dc565){const _0x55ee80=Math['sqrt'](_0x1dc565+(-0x2*-0xb11+0x1ba6+-0x31c8+0.5))/Math['sqrt'](_0x4a27bb);_0x5de5f6['push'](_0x55ee80);}return _0x5de5f6;}function BM(_0x2cf1b5){const _0x1fd128=[];for(let _0x89df5b=-0xc97+-0x1c7b*-0x1+-0xfe4;_0x89df5b<_0x2cf1b5;_0x89df5b++){const _0x5a71bc=_0x89df5b/_0x2cf1b5,_0x22af78=Math['sqrt'](_0x5a71bc*_0x5a71bc);_0x1fd128['push'](_0x22af78);}return _0x1fd128;}const _i=class _i extends DM{constructor(_0x45dc62){super(_0x45dc62);const _0x61fa77=this['device'];this['_forwardDr'+'awCalls']=0x1983+-0x419+0x1*-0x156a,this['_materialS'+'witches']=0x792+-0x86*-0x38+-0x24e2,this['_depthMapT'+'ime']=0x167*0x1b+0x470+-0x2a4d,this['_forwardTi'+'me']=-0x752+0xf9*-0x1b+0x2195,this['_sortTime']=-0x19f2+-0x17c7+0x31b9;const _0x3d2c07=_0x61fa77['scope'];this['fogColorId']=_0x3d2c07['resolve']('fog_color'),this['fogStartId']=_0x3d2c07['resolve']('fog_start'),this['fogEndId']=_0x3d2c07['resolve']('fog_end'),this['fogDensity'+'Id']=_0x3d2c07['resolve']('fog_densit'+'y'),this['ambientId']=_0x3d2c07['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x3d2c07['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x3d2c07['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x3d2c07['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x3d2c07['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x3d2c07['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(-0x1abb+0x1bf9+-0x13a),this['fogColor']=new Float32Array(0x1a2c+-0xff+0x1*-0x192a),this['ambientCol'+'or']=new Float32Array(-0x2224+-0x6*0x29+-0x231d*-0x1),this['pcssDiskSa'+'mples']=kM(-0x27b*-0xf+-0x16f2+-0xe33),this['pcssSphere'+'Samples']=BM(0x1be3*0x1+0xe7c+-0x2a4f*0x1);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x30bc7e){const _0x48c055=this['ambientCol'+'or'];if($i['linear'](_0x30bc7e['ambientLig'+'ht']),_0x48c055[0x241*0xb+0x7b6+0x35*-0x9d]=$i['r'],_0x48c055[0x447+-0x1*0x1c8b+0x39*0x6d]=$i['g'],_0x48c055[0x4*0x730+-0x52*-0x29+-0x29e0]=$i['b'],_0x30bc7e['physicalUn'+'its']){for(let _0xaa3ff=-0x25f6+-0x1*0xe75+-0x7*-0x77d;_0xaa3ff<0x1932+-0x1ea6+0x577;_0xaa3ff++)_0x48c055[_0xaa3ff]*=_0x30bc7e['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x48c055),this['skyboxInte'+'nsityId']['setValue'](_0x30bc7e['physicalUn'+'its']?_0x30bc7e['skyboxLumi'+'nance']:_0x30bc7e['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x30bc7e['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x8569f4,_0x292378){const _0x46afc1='light'+_0x292378;this['lightColor'+'Id'][_0x292378]=_0x8569f4['resolve'](_0x46afc1+'_color'),this['lightDir'][_0x292378]=new Float32Array(0x5*-0xcf+0x1d*-0xd+-0x587*-0x1),this['lightDirId'][_0x292378]=_0x8569f4['resolve'](_0x46afc1+'_direction'),this['lightShado'+'wMapId'][_0x292378]=_0x8569f4['resolve'](_0x46afc1+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x292378]=_0x8569f4['resolve'](_0x46afc1+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x292378]=_0x8569f4['resolve'](_0x46afc1+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x292378]=_0x8569f4['resolve'](_0x46afc1+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x292378]=_0x8569f4['resolve'](_0x46afc1+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x292378]=_0x8569f4['resolve'](_0x46afc1+'_radius'),this['lightPos'][_0x292378]=new Float32Array(0x1*-0x2565+0x2ba*0x1+0x1157*0x2),this['lightPosId'][_0x292378]=_0x8569f4['resolve'](_0x46afc1+'_position'),this['lightWidth'][_0x292378]=new Float32Array(-0x25e3+-0x1275*-0x1+0x1371),this['lightWidth'+'Id'][_0x292378]=_0x8569f4['resolve'](_0x46afc1+'_halfWidth'),this['lightHeigh'+'t'][_0x292378]=new Float32Array(0x1205+0x6b*0x25+-0x2179),this['lightHeigh'+'tId'][_0x292378]=_0x8569f4['resolve'](_0x46afc1+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x292378]=_0x8569f4['resolve'](_0x46afc1+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x292378]=_0x8569f4['resolve'](_0x46afc1+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x292378]=_0x8569f4['resolve'](_0x46afc1+'_cookie'),this['lightCooki'+'eIntId'][_0x292378]=_0x8569f4['resolve'](_0x46afc1+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x292378]=_0x8569f4['resolve'](_0x46afc1+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x292378]=_0x8569f4['resolve'](_0x46afc1+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x292378]=_0x8569f4['resolve'](_0x46afc1+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x292378]=_0x8569f4['resolve'](_0x46afc1+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x292378]=_0x8569f4['resolve'](_0x46afc1+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x292378]=_0x8569f4['resolve'](_0x46afc1+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x292378]=_0x8569f4['resolve'](_0x46afc1+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x292378]=_0x8569f4['resolve'](_0x46afc1+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x34a6a1,_0xabe640,_0x1590e1,_0x444c6c,_0x3d7b3f){this['lightPos'][_0xabe640][-0x3d9+-0x2064+0x243d]=_0x444c6c['x']-_0x1590e1['x']*_0x3d7b3f,this['lightPos'][_0xabe640][-0x1*-0x1189+0x74b*-0x1+0xa3d*-0x1]=_0x444c6c['y']-_0x1590e1['y']*_0x3d7b3f,this['lightPos'][_0xabe640][-0x17*-0x71+0xb7d*-0x1+0x158]=_0x444c6c['z']-_0x1590e1['z']*_0x3d7b3f,this['lightPosId'][_0xabe640]['setValue'](this['lightPos'][_0xabe640]);const _0x543af3=_0x34a6a1['transformV'+'ector'](new T(-(0xa86+0x8a0*-0x4+0x17fa+0.5),0x1040+0x1*-0xaa9+0x1dd*-0x3,-0x1*0x1d29+0x1a5*0x9+0xe5c));this['lightWidth'][_0xabe640][-0x13*-0x13f+-0x1*-0x1968+-0x3115]=_0x543af3['x']*_0x3d7b3f,this['lightWidth'][_0xabe640][-0x71*-0x33+-0x9b4+-0xcce]=_0x543af3['y']*_0x3d7b3f,this['lightWidth'][_0xabe640][-0x20ef+-0x2233+0x2192*0x2]=_0x543af3['z']*_0x3d7b3f,this['lightWidth'+'Id'][_0xabe640]['setValue'](this['lightWidth'][_0xabe640]);const _0x1b9388=_0x34a6a1['transformV'+'ector'](new T(-0x1a09+-0x1096+-0xe35*-0x3,-0xa14+-0x3a3+0xdb7,0x1370+-0xb70*-0x1+-0x26*0xd0+0.5));this['lightHeigh'+'t'][_0xabe640][-0xb7*-0x34+-0x841*0x2+-0x73*0x2e]=_0x1b9388['x']*_0x3d7b3f,this['lightHeigh'+'t'][_0xabe640][0x22e1+-0x1ad5+-0x80b]=_0x1b9388['y']*_0x3d7b3f,this['lightHeigh'+'t'][_0xabe640][-0x940+-0x37b*-0x6+-0xba0]=_0x1b9388['z']*_0x3d7b3f,this['lightHeigh'+'tId'][_0xabe640]['setValue'](this['lightHeigh'+'t'][_0xabe640]);}['dispatchDi'+'rectLights'](_0x1c1821,_0x34fdb5,_0x5800e7){let _0x5ad4c2=0x1f4e*-0x1+0x55*0x6b+-0x17*0x2f;const _0x101a56=this['device']['scope'];for(let _0x26f8e5=0x2*0x108c+-0x7*0x388+-0x218*0x4;_0x26f8e5<_0x1c1821['length'];_0x26f8e5++){if(!(_0x1c1821[_0x26f8e5]['mask']&_0x34fdb5))continue;const _0xa0f6f2=_0x1c1821[_0x26f8e5],_0x57df03=_0xa0f6f2['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x5ad4c2]||this['_resolveLi'+'ght'](_0x101a56,_0x5ad4c2),this['lightColor'+'Id'][_0x5ad4c2]['setValue'](_0xa0f6f2['_colorLine'+'ar']),_0x57df03['getY'](_0xa0f6f2['_direction'])['mulScalar'](-(-0x2*-0xb25+-0x1a89+-0x22*-0x20)),_0xa0f6f2['_direction']['normalize'](),this['lightDir'][_0x5ad4c2][-0x3a*0x94+-0xd*0x1a3+0x36cf]=_0xa0f6f2['_direction']['x'],this['lightDir'][_0x5ad4c2][0x624+-0xf25+0x902]=_0xa0f6f2['_direction']['y'],this['lightDir'][_0x5ad4c2][0x1*-0x382+-0x17*-0x13f+-0x1925]=_0xa0f6f2['_direction']['z'],this['lightDirId'][_0x5ad4c2]['setValue'](this['lightDir'][_0x5ad4c2]),_0xa0f6f2['shape']!==yt&&this['setLTCDire'+'ctionalLig'+'ht'](_0x57df03,_0x5ad4c2,_0xa0f6f2['_direction'],_0x5800e7['_node']['getPositio'+'n'](),_0x5800e7['farClip']),_0xa0f6f2['castShadow'+'s']){const _0x4cbff2=_0xa0f6f2['getRenderD'+'ata'](_0x5800e7,-0xf82+-0x239*-0xb+-0x2fb*0x3),_0x3d4465=_0xa0f6f2['_getUnifor'+'mBiasValue'+'s'](_0x4cbff2);this['lightShado'+'wMapId'][_0x5ad4c2]['setValue'](_0x4cbff2['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x5ad4c2]['setValue'](_0x4cbff2['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x5ad4c2]['setValue'](_0xa0f6f2['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x5ad4c2]['setValue'](_0xa0f6f2['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x5ad4c2]['setValue'](_0xa0f6f2['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x5ad4c2]['setValue'](0x2be*-0xe+0xd0e+-0x1f3*-0xd-_0xa0f6f2['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x5ad4c2]['setValue'](_0xa0f6f2['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x5ad4c2]['setValue'](_0xa0f6f2['_softShado'+'wParams']),_0x4cbff2['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x5ad4c2]['setValue'](_0xa0f6f2['penumbraSi'+'ze']/_0x4cbff2['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x4cbff2['projection'+'Compensati'+'on']);const _0x5c1e00=_0xa0f6f2['_shadowCam'+'eraParams'];_0x5c1e00['length']=0x2*-0xf45+-0x6*0x59+0x20a4,_0x5c1e00[-0x2348+0x1026+-0x1*-0x1322]=0x35b+0x9a6+-0xd01,_0x5c1e00[-0x3e*-0x29+-0x15c7+0x4a*0x29]=_0x4cbff2['shadowCame'+'ra']['_farClip'],_0x5c1e00[0x3c9*-0x5+0x501+0xdee]=_0x4cbff2['shadowCame'+'ra']['_nearClip'],_0x5c1e00[0xe43+-0x355+-0xaeb*0x1]=-0xdc3+0x6*0x28d+0x18a*-0x1,this['lightCamer'+'aParamsId'][_0x5ad4c2]['setValue'](_0x5c1e00);const _0x51fd4b=_0xa0f6f2['_shadowRen'+'derParams'];_0x51fd4b['length']=0x1*0x2425+0x3*0x859+-0x5a*0xae,_0x51fd4b[-0x1*-0x2597+0xb1+-0x2*0x1324]=_0xa0f6f2['_shadowRes'+'olution'],_0x51fd4b[-0x1*0x1b04+-0x4*0x607+0x1*0x3321]=_0x3d4465['normalBias'],_0x51fd4b[-0x12b9+0x713*0x1+-0x175*-0x8]=_0x3d4465['bias'],_0x51fd4b[0x1477*0x1+0x3da+-0x184e]=0x104*-0x3+-0x2fc*0x5+0x28*0x73,this['lightShado'+'wParamsId'][_0x5ad4c2]['setValue'](_0x51fd4b);}_0x5ad4c2++;}return _0x5ad4c2;}['setLTCPosi'+'tionalLigh'+'t'](_0x54dcdc,_0x2dea99){const _0x4963e7=_0x54dcdc['transformV'+'ector'](new T(-(-0x1a90+-0x1*-0x1976+0x11a+0.5),0x1b7b+-0x30d*0x2+-0x1561,-0x1e5b+0x227c+-0x421));this['lightWidth'][_0x2dea99][0x2524+0x2195+-0xf*0x4b7]=_0x4963e7['x'],this['lightWidth'][_0x2dea99][0x1d*0x130+0x59e+-0x280d*0x1]=_0x4963e7['y'],this['lightWidth'][_0x2dea99][0x2203*-0x1+-0xa7*-0x34+0x19]=_0x4963e7['z'],this['lightWidth'+'Id'][_0x2dea99]['setValue'](this['lightWidth'][_0x2dea99]);const _0x5d77b1=_0x54dcdc['transformV'+'ector'](new T(0x15*0x174+-0x399*0x9+0x1dd,0x1*-0x154c+-0xcf5+0x25*0xed,0x68c+0x1f9c+-0x2628+0.5));this['lightHeigh'+'t'][_0x2dea99][-0x1*0x12c3+-0x2*-0x4f9+0x8d1]=_0x5d77b1['x'],this['lightHeigh'+'t'][_0x2dea99][0x14ef+0x19b*0xc+-0x23*0x126]=_0x5d77b1['y'],this['lightHeigh'+'t'][_0x2dea99][-0x16f7+0xd*-0x216+0x3217]=_0x5d77b1['z'],this['lightHeigh'+'tId'][_0x2dea99]['setValue'](this['lightHeigh'+'t'][_0x2dea99]);}['dispatchOm'+'niLight'](_0x3f312d,_0xdd1bf9,_0xd54cfc){const _0x5505ec=_0xdd1bf9['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0xd54cfc]||this['_resolveLi'+'ght'](_0x3f312d,_0xd54cfc),this['lightRadiu'+'sId'][_0xd54cfc]['setValue'](_0xdd1bf9['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0xd54cfc]['setValue'](_0xdd1bf9['_colorLine'+'ar']),_0x5505ec['getTransla'+'tion'](_0xdd1bf9['_position']),this['lightPos'][_0xd54cfc][0x20a9+-0x887+-0xc11*0x2]=_0xdd1bf9['_position']['x'],this['lightPos'][_0xd54cfc][-0x24fc+0xf25*-0x1+0x3422]=_0xdd1bf9['_position']['y'],this['lightPos'][_0xd54cfc][0x1f7d+0x410+-0x3f3*0x9]=_0xdd1bf9['_position']['z'],this['lightPosId'][_0xd54cfc]['setValue'](this['lightPos'][_0xd54cfc]),_0xdd1bf9['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x5505ec,_0xd54cfc),_0xdd1bf9['castShadow'+'s']){const _0x2f6f84=_0xdd1bf9['getRenderD'+'ata'](null,-0x24a1+-0x66*0x1a+0x2efd);this['lightShado'+'wMapId'][_0xd54cfc]['setValue'](_0x2f6f84['shadowBuff'+'er']);const _0x3cc687=_0xdd1bf9['_getUnifor'+'mBiasValue'+'s'](_0x2f6f84),_0x4a76b8=_0xdd1bf9['_shadowRen'+'derParams'];_0x4a76b8['length']=-0x16b+-0xb1*0x33+-0x9a*-0x3d,_0x4a76b8[0x234d+-0x5*-0x3d1+-0x1b31*0x2]=_0xdd1bf9['_shadowRes'+'olution'],_0x4a76b8[-0x2486+-0x16e9+0x3b70]=_0x3cc687['normalBias'],_0x4a76b8[0x86*-0x43+-0x52*-0x25+0x173a]=_0x3cc687['bias'],_0x4a76b8[0x1076+-0x106*-0x13+-0x9*0x3fd]=(0xb02*-0x1+-0xbb2+0x16b5)/_0xdd1bf9['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0xd54cfc]['setValue'](_0x4a76b8),this['lightShado'+'wIntensity'][_0xd54cfc]['setValue'](_0xdd1bf9['shadowInte'+'nsity']);const _0x501ef6=_0xdd1bf9['penumbraSi'+'ze']/_0x2f6f84['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0xd54cfc]['setValue'](_0x501ef6);const _0x39329b=_0xdd1bf9['_shadowCam'+'eraParams'];_0x39329b['length']=-0xac*0x6+-0x1f19+0x2325*0x1,_0x39329b[0x1*-0xfb+0x10c8+-0xfcd]=-0x851*-0x1+-0x578*-0x3+0x1*-0x18b9,_0x39329b[-0xc39*0x2+0x1546*-0x1+-0x925*-0x5]=_0x2f6f84['shadowCame'+'ra']['_farClip'],_0x39329b[-0x3b*0x20+0x685+-0x1*-0xdd]=_0x2f6f84['shadowCame'+'ra']['_nearClip'],_0x39329b[0x2401+0x1*0x264b+-0x4a49]=0x63*-0x5+0x14*0x161+0x1f9*-0xd,this['lightCamer'+'aParamsId'][_0xd54cfc]['setValue'](_0x39329b);}_0xdd1bf9['_cookie']&&(this['lightCooki'+'eId'][_0xd54cfc]['setValue'](_0xdd1bf9['_cookie']),this['lightShado'+'wMatrixId'][_0xd54cfc]['setValue'](_0x5505ec['data']),this['lightCooki'+'eIntId'][_0xd54cfc]['setValue'](_0xdd1bf9['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x395338,_0x5d2ac8,_0x41df09){const _0x3f999e=_0x5d2ac8['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x41df09]||this['_resolveLi'+'ght'](_0x395338,_0x41df09),this['lightInAng'+'leId'][_0x41df09]['setValue'](_0x5d2ac8['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x41df09]['setValue'](_0x5d2ac8['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x41df09]['setValue'](_0x5d2ac8['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x41df09]['setValue'](_0x5d2ac8['_colorLine'+'ar']),_0x3f999e['getTransla'+'tion'](_0x5d2ac8['_position']),this['lightPos'][_0x41df09][-0x2549+0x20a7+-0x1*-0x4a2]=_0x5d2ac8['_position']['x'],this['lightPos'][_0x41df09][-0x1*-0x1a56+-0x2126+-0x5*-0x15d]=_0x5d2ac8['_position']['y'],this['lightPos'][_0x41df09][0x1*0x24b5+-0x2189+-0x9*0x5a]=_0x5d2ac8['_position']['z'],this['lightPosId'][_0x41df09]['setValue'](this['lightPos'][_0x41df09]),_0x5d2ac8['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x3f999e,_0x41df09),_0x3f999e['getY'](_0x5d2ac8['_direction'])['mulScalar'](-(0x95*-0x2b+0xe13*0x2+0x13*-0x2a)),_0x5d2ac8['_direction']['normalize'](),this['lightDir'][_0x41df09][0x1a3*0xb+0x18f5+-0x2af6]=_0x5d2ac8['_direction']['x'],this['lightDir'][_0x41df09][0x2021+0x2380+-0x43a0]=_0x5d2ac8['_direction']['y'],this['lightDir'][_0x41df09][-0x5c5*0x5+-0x1*0x142f+0x310a*0x1]=_0x5d2ac8['_direction']['z'],this['lightDirId'][_0x41df09]['setValue'](this['lightDir'][_0x41df09]),_0x5d2ac8['castShadow'+'s']){const _0x345837=_0x5d2ac8['getRenderD'+'ata'](null,-0x189c+0x25e7+-0x1*0xd4b);this['lightShado'+'wMapId'][_0x41df09]['setValue'](_0x345837['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x41df09]['setValue'](_0x345837['shadowMatr'+'ix']['data']);const _0x4aaaa2=_0x5d2ac8['_getUnifor'+'mBiasValue'+'s'](_0x345837),_0x2f4673=_0x5d2ac8['_shadowRen'+'derParams'];_0x2f4673['length']=0x20f2+0x21d6+0x10b1*-0x4,_0x2f4673[-0x59*0x40+0x1*-0x12e6+0x2926]=_0x5d2ac8['_shadowRes'+'olution'],_0x2f4673[-0x53*0x2f+-0xa4c+-0x198a*-0x1]=_0x4aaaa2['normalBias'],_0x2f4673[-0x12d8+0xf0c+0x3ce]=_0x4aaaa2['bias'],_0x2f4673[0x11*0xe0+-0xd3*-0x20+-0x293d]=(-0x1c16+-0x6*0x4a2+0x37e3*0x1)/_0x5d2ac8['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x41df09]['setValue'](_0x2f4673),this['lightShado'+'wIntensity'][_0x41df09]['setValue'](_0x5d2ac8['shadowInte'+'nsity']);const _0x16ffc7=_0x5d2ac8['penumbraSi'+'ze']/_0x345837['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x96a12b=_0x345837['shadowCame'+'ra']['_fov']*Math['PI']/(-0x66f+-0x1*-0x518+0x20b),_0x30d01d=(-0x8c8+0x821+0xa8)/Math['tan'](_0x96a12b/(-0x1c58+-0x33*0x7e+0x3574));this['lightShado'+'wSearchAre'+'aId'][_0x41df09]['setValue'](_0x16ffc7*_0x30d01d);const _0x17f88b=_0x5d2ac8['_shadowCam'+'eraParams'];_0x17f88b['length']=0x1833+-0x1cfd+0x7b*0xa,_0x17f88b[-0xd*0x10d+0x17a4+-0x9fb]=-0x19d3*-0x1+-0x26cc+0xcf9,_0x17f88b[-0x36e+-0x1*0x2664+0x29d3]=_0x345837['shadowCame'+'ra']['_farClip'],_0x17f88b[0x5dc+0x1*-0x1167+0xb8d]=_0x345837['shadowCame'+'ra']['_nearClip'],_0x17f88b[0x1e1a+0x212f*0x1+-0x3f46]=0x2e9*0xd+-0x26f9+-0x49*-0x4,this['lightCamer'+'aParamsId'][_0x41df09]['setValue'](_0x17f88b);}if(_0x5d2ac8['_cookie']){if(!_0x5d2ac8['castShadow'+'s']){const _0x29d3ee=Ma['evalSpotCo'+'okieMatrix'](_0x5d2ac8);this['lightShado'+'wMatrixId'][_0x41df09]['setValue'](_0x29d3ee['data']);}this['lightCooki'+'eId'][_0x41df09]['setValue'](_0x5d2ac8['_cookie']),this['lightCooki'+'eIntId'][_0x41df09]['setValue'](_0x5d2ac8['cookieInte'+'nsity']),_0x5d2ac8['_cookieTra'+'nsform']&&(_0x5d2ac8['_cookieTra'+'nsformUnif'+'orm'][-0x47*-0x69+0x2503+-0x2111*0x2]=_0x5d2ac8['_cookieTra'+'nsform']['x'],_0x5d2ac8['_cookieTra'+'nsformUnif'+'orm'][0x1442+0xb4*0x9+-0x1a95]=_0x5d2ac8['_cookieTra'+'nsform']['y'],_0x5d2ac8['_cookieTra'+'nsformUnif'+'orm'][0x223d+-0x247c+-0x241*-0x1]=_0x5d2ac8['_cookieTra'+'nsform']['z'],_0x5d2ac8['_cookieTra'+'nsformUnif'+'orm'][-0x4b1+0x3*-0x89f+-0x1e91*-0x1]=_0x5d2ac8['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x41df09]['setValue'](_0x5d2ac8['_cookieTra'+'nsformUnif'+'orm']),_0x5d2ac8['_cookieOff'+'setUniform'][-0x197a+-0x23c5+0x3d3f]=_0x5d2ac8['_cookieOff'+'set']['x'],_0x5d2ac8['_cookieOff'+'setUniform'][0xc7*-0x2+0x1ca*-0x14+0x2557]=_0x5d2ac8['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x41df09]['setValue'](_0x5d2ac8['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x473df4,_0x212fd5,_0x3eab12){let _0x215ac6=_0x3eab12;const _0x1c2371=this['device']['scope'],_0x7c1d69=_0x473df4[Pe],_0x2789f3=_0x7c1d69['length'];for(let _0x27c5bb=0x1*-0x1230+0x1a2b+-0x1*0x7fb;_0x27c5bb<_0x2789f3;_0x27c5bb++){const _0x9862fe=_0x7c1d69[_0x27c5bb];_0x9862fe['mask']&_0x212fd5&&(this['dispatchOm'+'niLight'](_0x1c2371,_0x9862fe,_0x215ac6),_0x215ac6++);}const _0xb1b824=_0x473df4[Re],_0x29b170=_0xb1b824['length'];for(let _0x2e6ec8=-0xffa*-0x2+0xce*0x29+-0x40f2;_0x2e6ec8<_0x29b170;_0x2e6ec8++){const _0x51780e=_0xb1b824[_0x2e6ec8];_0x51780e['mask']&_0x212fd5&&(this['dispatchSp'+'otLight'](_0x1c2371,_0x51780e,_0x215ac6),_0x215ac6++);}}['renderForw'+'ardPrepare'+'Materials'](_0x507492,_0x422773,_0x3160c2,_0x4f6e73,_0x4f6a26,_0x11d63){const _0x3a7977=_0x507492['fog']??this['scene']['fog'],_0x3c2cea=_0x507492['shaderPara'+'ms'];_0x3c2cea['fog']=_0x3a7977['type'],_0x3c2cea['srgbRender'+'Target']=(_0x422773==null?void(-0x997+0x651+-0x2*-0x1a3):_0x422773['isColorBuf'+'ferSrgb'](0x1093+0x2417+-0x34aa))??!(-0x3d*0x2f+-0x13*0x4f+-0x11*-0x101);const _0x4a4c55=(_0xcddda8,_0x4f5c07,_0xaa5c1e,_0x2dcd57)=>{br['drawCalls']['push'](_0xcddda8),br['shaderInst'+'ances']['push'](_0x4f5c07),br['isNewMater'+'ial']['push'](_0xaa5c1e),br['lightMaskC'+'hanged']['push'](_0x2dcd57);};br['clear']();const _0x2f19e5=this['device'],_0x1ec22b=this['scene'],_0x372153=_0x1ec22b['clusteredL'+'ightingEna'+'bled'],_0x32b683=(_0x4f6a26==null?void(0x1d25+0x66+-0x1d8b):_0x4f6a26['getLightHa'+'sh'](_0x372153))??-0x541*0x3+0x12a9*0x1+0x6a*-0x7;let _0x3fe94f=null,_0x43c609,_0x30a459;const _0x26f570=_0x3160c2['length'];for(let _0x389f04=0x235c+0x248f*-0x1+0x133;_0x389f04<_0x26f570;_0x389f04++){const _0x1215cf=_0x3160c2[_0x389f04];if(_0x507492===_i['skipRender'+'Camera']){if(_i['_skipRende'+'rCounter']>=_i['skipRender'+'After'])continue;_i['_skipRende'+'rCounter']++;}if(_0x4f6a26){if(_0x4f6a26['_skipRende'+'rCounter']>=_0x4f6a26['skipRender'+'After'])continue;_0x4f6a26['_skipRende'+'rCounter']++;}_0x1215cf['ensureMate'+'rial'](_0x2f19e5);const _0x156890=_0x1215cf['material'],_0x4bd6d9=_0x1215cf['_shaderDef'+'s'],_0x118cbf=_0x1215cf['mask'];_0x156890&&_0x156890===_0x3fe94f&&_0x4bd6d9!==_0x43c609&&(_0x3fe94f=null),_0x156890!==_0x3fe94f&&(this['_materialS'+'witches']++,_0x156890['_scene']=_0x1ec22b,_0x156890['dirty']&&(G['pushGpuMar'+'ker'](_0x2f19e5,'Node:\x20'+_0x1215cf['node']['name']+(',\x20Material'+':\x20')+_0x156890['name']),_0x156890['updateUnif'+'orms'](_0x2f19e5,_0x1ec22b),_0x156890['dirty']=!(-0x2273*-0x1+-0x3*-0x7af+-0x397f),G['popGpuMark'+'er'](_0x2f19e5)));const _0x571999=_0x1215cf['getShaderI'+'nstance'](_0x11d63,_0x32b683,_0x1ec22b,_0x3c2cea,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x4f6e73);_0x4a4c55(_0x1215cf,_0x571999,_0x156890!==_0x3fe94f,!_0x3fe94f||_0x118cbf!==_0x30a459),_0x3fe94f=_0x156890,_0x43c609=_0x4bd6d9,_0x30a459=_0x118cbf;}return br;}['renderForw'+'ardInterna'+'l'](_0x3d2c9c,_0x3ecede,_0x1eee38,_0x515a5b,_0x431b76,_0x32ae50){const _0x2b2af7=this['device'],_0x1b8eb1=this['scene'],_0x45a87c=-0xf86+-0x1d68*-0x1+0xde1*-0x1<<_0x515a5b,_0x552f7b=_0x32ae50?-(-0x1af9+0x1795*0x1+0x365):0x10e6+-0x919+-0x7cc,_0x2b3900=_0x1b8eb1['clusteredL'+'ightingEna'+'bled'],_0x1b9268=_0x3ecede['drawCalls']['length'];for(let _0x407c50=0x1204+-0xd67*0x2+0x8ca;_0x407c50<_0x1b9268;_0x407c50++){const _0xceaa2d=_0x3ecede['drawCalls'][_0x407c50],_0x4308a8=_0x3ecede['isNewMater'+'ial'][_0x407c50],_0x366867=_0x3ecede['lightMaskC'+'hanged'][_0x407c50],_0x23d875=_0x3ecede['shaderInst'+'ances'][_0x407c50],_0xdb3283=_0xceaa2d['material'],_0x5d5222=_0xceaa2d['mask'];if(_0x4308a8){if(_0x2b2af7['setShader'](_0x23d875['shader'],!(-0xcb8+-0x1a20+0x249*0x11)),_0xdb3283['setParamet'+'ers'](_0x2b2af7),_0x366867){const _0x536949=this['dispatchDi'+'rectLights'](_0x1eee38[oe],_0x5d5222,_0x3d2c9c);_0x2b3900||this['dispatchLo'+'calLights'](_0x1eee38,_0x5d5222,_0x536949);}this['alphaTestI'+'d']['setValue'](_0xdb3283['alphaTest']),_0x2b2af7['setBlendSt'+'ate'](_0xdb3283['blendState']),_0x2b2af7['setDepthSt'+'ate'](_0xdb3283['depthState']),_0x2b2af7['setAlphaTo'+'Coverage'](_0xdb3283['alphaToCov'+'erage']);}G['pushGpuMar'+'ker'](_0x2b2af7,'Node:\x20'+_0xceaa2d['node']['name']+(',\x20Material'+':\x20')+_0xdb3283['name']),this['setupCullM'+'ode'](_0x3d2c9c['_cullFaces'],_0x552f7b,_0xceaa2d);const _0x43b051=_0xceaa2d['stencilFro'+'nt']??_0xdb3283['stencilFro'+'nt'],_0x3fa758=_0xceaa2d['stencilBac'+'k']??_0xdb3283['stencilBac'+'k'];_0x2b2af7['setStencil'+'State'](_0x43b051,_0x3fa758),_0xceaa2d['setParamet'+'ers'](_0x2b2af7,_0x45a87c),_0x2b2af7['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0xceaa2d['id']);const _0x5282f6=_0xceaa2d['mesh'];this['setVertexB'+'uffers'](_0x2b2af7,_0x5282f6),this['setMorphin'+'g'](_0x2b2af7,_0xceaa2d['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x2b2af7,_0xceaa2d),this['setupMeshU'+'niformBuff'+'ers'](_0x23d875,_0xceaa2d);const _0x3438bd=_0xceaa2d['renderStyl'+'e'];if(_0x2b2af7['setIndexBu'+'ffer'](_0x5282f6['indexBuffe'+'r'][_0x3438bd]),_0x431b76==null||_0x431b76(_0xceaa2d,_0x407c50),_0x3d2c9c['xr']&&_0x3d2c9c['xr']['session']&&_0x3d2c9c['xr']['views']['list']['length']){const _0x4960d8=_0x3d2c9c['xr']['views'];for(let _0x401dff=-0x4a*-0x29+-0xb3*-0x3+-0xdf3;_0x401dff<_0x4960d8['list']['length'];_0x401dff++){const _0x362852=_0x4960d8['list'][_0x401dff];_0x2b2af7['setViewpor'+'t'](_0x362852['viewport']['x'],_0x362852['viewport']['y'],_0x362852['viewport']['z'],_0x362852['viewport']['w']),this['projId']['setValue'](_0x362852['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x362852['projMat']['data']),this['viewId']['setValue'](_0x362852['viewOffMat']['data']),this['viewInvId']['setValue'](_0x362852['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x362852['viewMat3']['data']),this['viewProjId']['setValue'](_0x362852['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x362852['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x401dff),_0x401dff===0xfcd+0x5*0x4ec+0x1*-0x2869?this['drawInstan'+'ce'](_0x2b2af7,_0xceaa2d,_0x5282f6,_0x3438bd,!(0x5*-0x77f+-0x83*-0x2c+-0xef7*-0x1)):this['drawInstan'+'ce2'](_0x2b2af7,_0xceaa2d,_0x5282f6,_0x3438bd),this['_forwardDr'+'awCalls']++;}}else this['drawInstan'+'ce'](_0x2b2af7,_0xceaa2d,_0x5282f6,_0x3438bd,!(-0x1840+0x5c8+0x1278)),this['_forwardDr'+'awCalls']++;_0x407c50<_0x1b9268-(0x1*0x2047+0x1*-0xfa3+-0x10a3)&&!_0x3ecede['isNewMater'+'ial'][_0x407c50+(0x48d*-0x6+0xa7f*-0x1+0x25ce)]&&_0xdb3283['setParamet'+'ers'](_0x2b2af7,_0xceaa2d['parameters']),G['popGpuMark'+'er'](_0x2b2af7);}}['renderForw'+'ard'](_0x5e8736,_0x442e76,_0x1ece3e,_0x43188f,_0x1cb155,_0xa443f8,_0x2456a3,_0x41a5b1){const _0x1abe1f=ne(),_0x4898e9=this['renderForw'+'ardPrepare'+'Materials'](_0x5e8736,_0x442e76,_0x1ece3e,_0x43188f,_0x2456a3,_0x1cb155);this['renderForw'+'ardInterna'+'l'](_0x5e8736,_0x4898e9,_0x43188f,_0x1cb155,_0xa443f8,_0x41a5b1),br['clear'](),this['_forwardTi'+'me']+=ne()-_0x1abe1f;}['renderForw'+'ardLayer'](_0x380e59,_0x30c040,_0x15aed3,_0x1b2894,_0x2c936d,_0x3f01fd,_0x2550ce={}){const {scene:_0x35e771,device:_0x28bc62}=this,_0x314614=_0x35e771['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x380e59,_0x30c040);let _0x4d6fe1,_0x405e37;if(_0x15aed3){const _0x66b6b6=ne();_0x15aed3['sortVisibl'+'e'](_0x380e59,_0x1b2894),this['_sortTime']+=ne()-_0x66b6b6;const _0x373059=_0x15aed3['getCulledI'+'nstances'](_0x380e59);_0x4d6fe1=_0x1b2894?_0x373059['transparen'+'t']:_0x373059['opaque'],_0x35e771['immediate']['onPreRende'+'rLayer'](_0x15aed3,_0x4d6fe1,_0x1b2894),_0x15aed3['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x35e771['ambientLig'+'ht'],_0x15aed3['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x405e37=_0x15aed3['splitLight'+'s'];}else _0x4d6fe1=_0x2550ce['meshInstan'+'ces'],_0x405e37=_0x2550ce['splitLight'+'s']??OM;if(v['assert'](_0x4d6fe1,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x314614){const _0x5999a4=_0x2550ce['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x5999a4['activate'](),_0x15aed3&&!this['clustersDe'+'bugRendere'+'d']&&_0x35e771['lighting']['debugLayer']===_0x15aed3['id']&&(this['clustersDe'+'bugRendere'+'d']=!(0x3b*-0x86+0xdfc+0x873*0x2),Vu['render'](_0x5999a4,this['scene']));}_0x35e771['_activeCam'+'era']=_0x380e59;const _0x27be15=_0x380e59['fog']??this['scene']['fog'];this['setFogCons'+'tants'](_0x27be15);const _0xfbc7bc=this['setCameraU'+'niforms'](_0x380e59,_0x30c040);_0x28bc62['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x3f01fd,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0xfbc7bc);const _0x20b5c0=_0x2550ce['clearColor']??!(-0x1*0x1ad1+-0x376+-0x22*-0xe4),_0x2d21e2=_0x2550ce['clearDepth']??!(0x1471*0x1+-0xa23+0x1*-0xa4d),_0x45f82a=_0x2550ce['clearStenc'+'il']??!(0xacf+0xd*-0x217+0x47*0x3b);(_0x20b5c0||_0x2d21e2||_0x45f82a)&&this['clear'](_0x380e59,_0x20b5c0,_0x2d21e2,_0x45f82a);const _0x250464=!!(_0x380e59['_flipFaces']^(_0x30c040==null?void(-0x207*0xe+0x160+-0x2*-0xd81):_0x30c040['flipY'])),_0x1bec8f=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x380e59,_0x30c040,_0x4d6fe1,_0x405e37,_0x2c936d,null,_0x15aed3,_0x250464),_0x15aed3&&(_0x15aed3['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x1bec8f);}['setFogCons'+'tants'](_0x4750a1){if(_0x4750a1['type']!==Fa){$i['linear'](_0x4750a1['color']);const _0x849411=this['fogColor'];_0x849411[0x1313+0x2*0xfd+0x11*-0x13d]=$i['r'],_0x849411[0x876+0x1cc9+0xc6a*-0x3]=$i['g'],_0x849411[-0x4*-0xbe+0x4*-0x2c6+0x822]=$i['b'],this['fogColorId']['setValue'](_0x849411),_0x4750a1['type']===zb?(this['fogStartId']['setValue'](_0x4750a1['start']),this['fogEndId']['setValue'](_0x4750a1['end'])):this['fogDensity'+'Id']['setValue'](_0x4750a1['density']);}}['setSceneCo'+'nstants'](){const _0x3449f8=this['scene'];this['dispatchGl'+'obalLights'](_0x3449f8);const _0x87c00a=this['device'];this['_screenSiz'+'e'][0x1*0x14b8+0x2644+-0x5*0xbcc]=_0x87c00a['width'],this['_screenSiz'+'e'][0x163b+-0x668+-0xe1*0x12]=_0x87c00a['height'],this['_screenSiz'+'e'][-0x1*0xcec+0x6*0x428+-0x601*0x2]=(0x1a*-0x3b+-0x2ae*-0x7+0x79*-0x1b)/_0x87c00a['width'],this['_screenSiz'+'e'][-0x2f6*-0x8+-0xa1*-0xb+-0x1e98]=(0x1396+0x24dd*-0x1+0x1148)/_0x87c00a['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x2f825a,_0x469b00){const _0x19f883=this['scene'];if(_0x2f825a['reset'](),_0x19f883['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x4569e2,cookiesEnabled:_0x4cbe52}=_0x19f883['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x2f825a,_0x4569e2,_0x4cbe52,this['lights'],this['localLight'+'s']),_0x2f825a['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x2f825a,this['localLight'+'s']);let _0x11be08=0x1431+0x492+-0x18c3,_0x43d5d4=!(-0x1cc+-0x103c+0x1*0x1208),_0x519c10=null;const _0x9b7cc1=_0x469b00['_renderAct'+'ions'];for(let _0xc8a0ff=_0x11be08;_0xc8a0ff<_0x9b7cc1['length'];_0xc8a0ff++){const _0x486169=_0x9b7cc1[_0xc8a0ff],{layer:_0xb6c860,camera:_0x508c48}=_0x486169;if(_0x486169['useCameraP'+'asses'])v['call'](()=>{_0x508c48['postEffect'+'s']['effects']['length']>-0x91d+-0x1*0xe11+0x172e&&v['warnOnce']('Camera\x20\x27'+_0x508c48['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x508c48['camera']['renderPass'+'es']['forEach'](_0x1234c3=>{_0x2f825a['addRenderP'+'ass'](_0x1234c3);});else{const _0x37393a=_0xb6c860['id']===Xt,_0x4f74cc=_0x37393a&&(_0x508c48['renderScen'+'eColorMap']||_0x508c48['renderScen'+'eDepthMap']);_0x43d5d4&&(_0x43d5d4=!(-0x1387+-0x19d6+0x2d5e),_0x11be08=_0xc8a0ff,_0x519c10=_0x486169['renderTarg'+'et']);const _0x101a71=_0x9b7cc1[_0xc8a0ff+(-0x1c04+0x20*-0xaf+0x31e5)],_0x467dc3=(_0x101a71?!_0x101a71['useCameraP'+'asses']&&_0x101a71['layer']['id']===Xt:!(0x1*0xeb8+0x91d+-0x4*0x5f5))&&(_0x508c48['renderScen'+'eColorMap']||_0x508c48['renderScen'+'eDepthMap']),_0x287664=_0x101a71?_0x101a71['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x101a71['camera']['camera']):!(-0x1617+-0x12b8+-0xa34*-0x4);if(!_0x101a71||_0x101a71['renderTarg'+'et']!==_0x519c10||_0x287664||_0x467dc3||_0x4f74cc){if(_0x37393a&&_0x11be08===_0xc8a0ff||this['addMainRen'+'derPass'](_0x2f825a,_0x469b00,_0x519c10,_0x11be08,_0xc8a0ff),_0x37393a){if(_0x508c48['renderScen'+'eColorMap']){const _0x170f6d=_0x508c48['camera']['renderPass'+'ColorGrab'];_0x170f6d['source']=_0x508c48['renderTarg'+'et'],_0x2f825a['addRenderP'+'ass'](_0x170f6d);}_0x508c48['renderScen'+'eDepthMap']&&_0x2f825a['addRenderP'+'ass'](_0x508c48['camera']['renderPass'+'DepthGrab']);}if(_0x486169['triggerPos'+'tprocess']&&(_0x508c48!=null&&_0x508c48['onPostproc'+'essing'])){const _0x1b576e=new FM(this['device'],this,_0x486169);_0x2f825a['addRenderP'+'ass'](_0x1b576e);}_0x43d5d4=!(-0x1*0xb51+-0x2*-0x781+-0x3b1);}}}}['addMainRen'+'derPass'](_0x1886e5,_0x511e8e,_0x5ebc82,_0x44119f,_0xaba7c7){const _0x981c70=new LM(this['device'],_0x511e8e,this['scene'],this);_0x981c70['init'](_0x5ebc82);const _0x145dcc=_0x511e8e['_renderAct'+'ions'];for(let _0x5b3ce5=_0x44119f;_0x5b3ce5<=_0xaba7c7;_0x5b3ce5++)_0x981c70['addRenderA'+'ction'](_0x145dcc[_0x5b3ce5]);_0x1886e5['addRenderP'+'ass'](_0x981c70);}['update'](_0x727e13){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x727e13),this['collectLig'+'hts'](_0x727e13),this['beginFrame'](_0x727e13),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x727e13),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};c(_i,'skipRender'+'Camera',null),c(_i,'_skipRende'+'rCounter',0x220a*0x1+0xbb0+0x2dba*-0x1),c(_i,'skipRender'+'After',-0x926+-0x50e+0xe34);let Gh=_i,zd=0x15*-0x1bc+0x20*-0x62+0x30ac;const ja=[],Ol=new Set();function NM(_0x127865,_0x5c809a){return _0x127865['drawOrder']-_0x5c809a['drawOrder'];}function zM(_0x412b37,_0x92d4f6){const _0x775d9a=_0x412b37['_key'][Ei],_0x2dfedc=_0x92d4f6['_key'][Ei];return _0x775d9a===_0x2dfedc&&_0x412b37['mesh']&&_0x92d4f6['mesh']?_0x92d4f6['mesh']['id']-_0x412b37['mesh']['id']:_0x2dfedc-_0x775d9a;}function UM(_0x112ff2,_0xf52550){return _0xf52550['zdist']-_0x112ff2['zdist'];}function VM(_0xcb1b69,_0x5d5849){return _0xcb1b69['zdist']-_0x5d5849['zdist'];}const GM=[null,NM,zM,UM,VM];class HM{constructor(){c(this,'opaque',[]),c(this,'transparen'+'t',[]);}}class Lr{constructor(_0x3a409={}){c(this,'meshInstan'+'ces',[]),c(this,'meshInstan'+'cesSet',new Set()),c(this,'shadowCast'+'ers',[]),c(this,'shadowCast'+'ersSet',new Set()),c(this,'_visibleIn'+'stances',new WeakMap()),c(this,'_lights',[]),c(this,'_lightsSet',new Set()),c(this,'_clustered'+'LightsSet',new Set()),c(this,'_splitLigh'+'ts',[[],[],[]]),c(this,'_splitLigh'+'tsDirty',!(0x5b5+-0x14b*0x13+0x12dc)),c(this,'requiresLi'+'ghtCube',!(-0x1162+0x624+0xb3f)),c(this,'cameras',[]),c(this,'camerasSet',new Set()),c(this,'_dirtyComp'+'osition',!(-0x359+-0x404*0x1+0x75e)),(_0x3a409['id']!==void(0x1*0x1d54+-0x1*0x241+-0x1b13*0x1)?(this['id']=_0x3a409['id'],zd=Math['max'](this['id']+(-0x13a8+0x3*0x2f3+-0xad0*-0x1),zd)):this['id']=zd++,this['name']=_0x3a409['name'],this['_enabled']=_0x3a409['enabled']??!(0x22*-0xd6+0x4d4+-0xa*-0x25c),this['_refCounte'+'r']=this['_enabled']?-0x13d3+0x2381+-0xfad:-0x154b+-0x22c8+0x3813,this['opaqueSort'+'Mode']=_0x3a409['opaqueSort'+'Mode']??Qb,this['transparen'+'tSortMode']=_0x3a409['transparen'+'tSortMode']??Bm,_0x3a409['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x3a409['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x3a409['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x3a409['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x3a409['clearStenc'+'ilBuffer'],this['onEnable']=_0x3a409['onEnable'],this['onDisable']=_0x3a409['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=0xbd9+-0x183e+0x13*0xa7,this['_lightHash'+'Dirty']=!(-0x807+-0x13d*-0xe+-0x6*0x18d),this['_lightIdHa'+'sh']=-0x5*0x227+-0x17c5+-0x55*-0x68,this['_lightIdHa'+'shDirty']=!(-0x2296+0x24ca+-0x233),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=-0x40c*-0x6+0x15b+-0x1*0x19a3,this['_renderTim'+'e']=0x2261+0x65*-0x4f+0x1*-0x336,this['_forwardDr'+'awCalls']=-0x67*0x1b+0x33*-0x2a+0x3*0x669,this['_shadowDra'+'wCalls']=-0x29b*0xd+0x1dd6+0x1*0x409,this['_shaderVer'+'sion']=-(-0x25*0xe6+0x1bfc+0x543));}set['enabled'](_0x1ea01f){_0x1ea01f!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(-0x19f7+0xf5a+0xb*0xf7),this['_enabled']=_0x1ea01f,_0x1ea01f?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x36f726){this['_clearColo'+'rBuffer']=_0x36f726,this['_dirtyComp'+'osition']=!(-0x788+0xcb1*0x3+-0x1e8b);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x596cb0){this['_clearDept'+'hBuffer']=_0x596cb0,this['_dirtyComp'+'osition']=!(0x1ded*0x1+0x24ca*0x1+-0x3*0x163d);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x17f5d7){this['_clearSten'+'cilBuffer']=_0x17f5d7,this['_dirtyComp'+'osition']=!(0xac5*0x1+-0x17de+-0x1*-0xd19);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>-0x1c01*0x1+0xc2d*0x3+-0x886;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===-0x7c9*0x2+-0x1*0x131d+0x22af&&(this['_enabled']=!(0xf6a*-0x1+-0x10a5+-0x1*-0x200f),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===0x2379*0x1+0x8*-0x3fb+-0x3a*0x10)this['_enabled']=!(0xfb3+0x2f*-0x5a+0xd4*0x1),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===-0x7a1+0x16da+-0xf39){v['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x33fbc9,_0x5716f5){const _0x3f6a29=this['meshInstan'+'ces'],_0x85ecdd=this['meshInstan'+'cesSet'];for(let _0x177c2e=-0xc78+0x5b5+0x6c3;_0x177c2e<_0x33fbc9['length'];_0x177c2e++){const _0xb0b03d=_0x33fbc9[_0x177c2e];_0x85ecdd['has'](_0xb0b03d)||(_0x3f6a29['push'](_0xb0b03d),_0x85ecdd['add'](_0xb0b03d),Ol['add'](_0xb0b03d['material']));}if(_0x5716f5||this['addShadowC'+'asters'](_0x33fbc9),Ol['size']>0x812+-0x1*-0x7ca+-0x1d*0x8c){const _0x520cff=this['_shaderVer'+'sion'];Ol['forEach'](_0x5bd93a=>{_0x520cff>=-0x2*0x729+-0x10*0x143+0x2282&&_0x5bd93a['_shaderVer'+'sion']!==_0x520cff&&(_0x5bd93a['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant']&&_0x5bd93a['clearVaria'+'nts'](),_0x5bd93a['_shaderVer'+'sion']=_0x520cff);}),Ol['clear']();}}['removeMesh'+'Instances'](_0x392e2a,_0x15a897){const _0x31f89a=this['meshInstan'+'ces'],_0x6d7bbb=this['meshInstan'+'cesSet'];for(let _0x4dca5a=-0x1*0x217b+-0x25f*-0x1+-0xf8e*-0x2;_0x4dca5a<_0x392e2a['length'];_0x4dca5a++){const _0x704a38=_0x392e2a[_0x4dca5a];if(_0x6d7bbb['has'](_0x704a38)){_0x6d7bbb['delete'](_0x704a38);const _0xeb0f3b=_0x31f89a['indexOf'](_0x704a38);_0xeb0f3b>=0xc26*0x2+0x1560+-0x2dac&&_0x31f89a['splice'](_0xeb0f3b,0x30*-0x74+0x1*0x1739+-0x178);}}_0x15a897||this['removeShad'+'owCasters'](_0x392e2a);}['addShadowC'+'asters'](_0x3369d2){const _0x340925=this['shadowCast'+'ers'],_0x413704=this['shadowCast'+'ersSet'];for(let _0x47526e=-0x5b9*0x1+0xd8b+0xb*-0xb6;_0x47526e<_0x3369d2['length'];_0x47526e++){const _0x393ae4=_0x3369d2[_0x47526e];_0x393ae4['castShadow']&&!_0x413704['has'](_0x393ae4)&&(_0x413704['add'](_0x393ae4),_0x340925['push'](_0x393ae4));}}['removeShad'+'owCasters'](_0x11aa9c){const _0x596e89=this['shadowCast'+'ers'],_0x1724d3=this['shadowCast'+'ersSet'];for(let _0x75edee=0x2*0x69b+0x19*-0x9b+0x1ed;_0x75edee<_0x11aa9c['length'];_0x75edee++){const _0x1bffc7=_0x11aa9c[_0x75edee];if(_0x1724d3['has'](_0x1bffc7)){_0x1724d3['delete'](_0x1bffc7);const _0x1edc4d=_0x596e89['indexOf'](_0x1bffc7);_0x1edc4d>=-0x504+-0x16fe+0xa*0x2cd&&_0x596e89['splice'](_0x1edc4d,-0x7*0x349+0x1a7e*0x1+-0x6*0x95);}}}['clearMeshI'+'nstances'](_0x394b8e=!(0x53*-0x49+-0x14bc+0x2c68)){this['meshInstan'+'ces']['length']=-0x1664*0x1+0x1a49+-0x3e5,this['meshInstan'+'cesSet']['clear'](),_0x394b8e||(this['shadowCast'+'ers']['length']=-0x658+-0x261b*0x1+0x2c73,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(-0x91d*0x3+-0x17*-0x115+-0x1*-0x274),this['_lightIdHa'+'shDirty']=!(0x2a*-0x79+-0x2*0xa6f+-0x2*-0x145c),this['_splitLigh'+'tsDirty']=!(-0xf0d*-0x1+0x10c8+-0x1fd5);}['hasLight'](_0x32aef3){return this['_lightsSet']['has'](_0x32aef3);}['addLight'](_0x3435ec){const _0x1afb50=_0x3435ec['light'];this['_lightsSet']['has'](_0x1afb50)||(this['_lightsSet']['add'](_0x1afb50),this['_lights']['push'](_0x1afb50),this['markLights'+'Dirty']()),_0x1afb50['type']!==oe&&this['_clustered'+'LightsSet']['add'](_0x1afb50);}['removeLigh'+'t'](_0xb070be){const _0x51a324=_0xb070be['light'];this['_lightsSet']['has'](_0x51a324)&&(this['_lightsSet']['delete'](_0x51a324),this['_lights']['splice'](this['_lights']['indexOf'](_0x51a324),-0x184b+-0x3*-0xc7f+-0xd31),this['markLights'+'Dirty']()),_0x51a324['type']!==oe&&this['_clustered'+'LightsSet']['delete'](_0x51a324);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x143472=>_0x143472['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=0x1468+0x6*0x29+0x5*-0x446,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(-0x1*0x13ed+-0x1c0c+0x2ffa);const _0x19322f=this['_splitLigh'+'ts'];for(let _0x4522aa=0x7bd+-0x1662+0xea5;_0x4522aa<_0x19322f['length'];_0x4522aa++)_0x19322f[_0x4522aa]['length']=0x1d81+0x1*0x1586+0x1*-0x3307;const _0x1bb8ed=this['_lights'];for(let _0x5597b4=0x7*0xf5+0x1492+0x3*-0x917;_0x5597b4<_0x1bb8ed['length'];_0x5597b4++){const _0x1d3824=_0x1bb8ed[_0x5597b4];_0x1d3824['enabled']&&_0x19322f[_0x1d3824['_type']]['push'](_0x1d3824);}for(let _0x43bc98=0x57*-0x3a+-0x1250+0x2606;_0x43bc98<_0x19322f['length'];_0x43bc98++)_0x19322f[_0x43bc98]['sort']((_0x14b324,_0x3ff9b2)=>_0x14b324['key']-_0x3ff9b2['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x5d3f5,_0x1ef7c5,_0x92bef5){let _0x5e813f=0x22d4+-0x22d1*-0x1+-0x45a5;const _0x17e216=this['_lights'];for(let _0x48d460=-0x2014+0x7*0xc8+0x1a9c;_0x48d460<_0x17e216['length'];_0x48d460++){const _0x176415=_0x17e216[_0x48d460]['type']!==oe;(_0x5d3f5&&_0x176415||_0x1ef7c5&&!_0x176415)&&ja['push'](_0x92bef5?_0x17e216[_0x48d460]['id']:_0x17e216[_0x48d460]['key']);}return ja['length']>0x2704*-0x1+0xaa6*0x1+-0xe2f*-0x2&&(ja['sort'](),_0x5e813f=Zy(ja),ja['length']=0x1*-0x260b+0xe6d+0x179e),_0x5e813f;}['getLightHa'+'sh'](_0x42f0d8){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(0x1a2+-0x8be+0x71d),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x42f0d8,!(-0xd7d+-0x878+0x15f5),!(0x1*0x21f1+0x2*-0x44+-0x2168))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(-0xa9*-0x26+-0x1d4a+0x435),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(0x7*-0x4eb+-0x233b+0x45a8),!(-0x1*0x13+0x22bc+0x8*-0x455),!(0x10eb*-0x1+0xd3d+-0x1d7*-0x2))),this['_lightIdHa'+'sh'];}['addCamera'](_0x245d51){this['camerasSet']['has'](_0x245d51['camera'])||(this['camerasSet']['add'](_0x245d51['camera']),this['cameras']['push'](_0x245d51),this['_dirtyComp'+'osition']=!(0x206b*-0x1+0xc21*-0x3+-0x1*-0x44ce));}['removeCame'+'ra'](_0x11e5b5){if(this['camerasSet']['has'](_0x11e5b5['camera'])){this['camerasSet']['delete'](_0x11e5b5['camera']);const _0x100495=this['cameras']['indexOf'](_0x11e5b5);this['cameras']['splice'](_0x100495,0xb*-0x203+0x16d9*-0x1+-0x5*-0x8ff),this['_dirtyComp'+'osition']=!(0x3e0+-0x1*-0xb01+0xee1*-0x1);}}['clearCamer'+'as'](){this['cameras']['length']=-0x2174*-0x1+-0x164e+-0xb26,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(-0x1*-0x1b94+0x1*-0x1fd4+-0x440*-0x1);}['_calculate'+'SortDistan'+'ces'](_0x4f052f,_0x2ef192,_0x30b42c,_0x37618c){for(let _0xb2ab6=-0x8e3+-0x158+0x3*0x369;_0xb2ab6<_0x2ef192;_0xb2ab6++){const _0x5af306=_0x4f052f[_0xb2ab6];if(_0x5af306['layer']<=Vb)continue;if(_0x5af306['calculateS'+'ortDistanc'+'e']){_0x5af306['zdist']=_0x5af306['calculateS'+'ortDistanc'+'e'](_0x5af306,_0x30b42c,_0x37618c);continue;}const _0x43c5d5=_0x5af306['aabb']['center'],_0x4c7274=_0x43c5d5['x']-_0x30b42c['x'],_0x86031f=_0x43c5d5['y']-_0x30b42c['y'],_0x1b34c2=_0x43c5d5['z']-_0x30b42c['z'];_0x5af306['zdist']=_0x4c7274*_0x37618c['x']+_0x86031f*_0x37618c['y']+_0x1b34c2*_0x37618c['z'];}}['getCulledI'+'nstances'](_0x4df885){let _0x2639aa=this['_visibleIn'+'stances']['get'](_0x4df885);return _0x2639aa||(_0x2639aa=new HM(),this['_visibleIn'+'stances']['set'](_0x4df885,_0x2639aa)),_0x2639aa;}['sortVisibl'+'e'](_0x41fac1,_0x2e1c52){const _0x490ef3=_0x2e1c52?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x490ef3===dh)return;const _0x32a98d=this['getCulledI'+'nstances'](_0x41fac1),_0x4bc20f=_0x2e1c52?_0x32a98d['transparen'+'t']:_0x32a98d['opaque'],_0x1f789e=_0x41fac1['node'];if(_0x490ef3===ew){const _0x194e72=_0x1f789e['getPositio'+'n'](),_0x300d02=_0x1f789e['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x4bc20f,_0x4bc20f['length'],_0x194e72,_0x300d02),this['customSort'+'Callback']&&_0x4bc20f['sort'](this['customSort'+'Callback']);}else{if(_0x490ef3===Bm||_0x490ef3===Jb){const _0x990011=_0x1f789e['getPositio'+'n'](),_0x2d58f1=_0x1f789e['forward'];this['_calculate'+'SortDistan'+'ces'](_0x4bc20f,_0x4bc20f['length'],_0x990011,_0x2d58f1);}_0x4bc20f['sort'](GM[_0x490ef3]);}}}const WM=(_0x1f0129,_0x2f1725)=>_0x1f0129['priority']-_0x2f1725['priority'],No=_0x4b67d5=>_0x4b67d5['sort'](WM);class S_ extends ce{constructor(_0x338b53='Untitled'){super(),c(this,'layerList',[]),c(this,'layerIdMap',new Map()),c(this,'layerNameM'+'ap',new Map()),c(this,'layerOpaqu'+'eIndexMap',new Map()),c(this,'layerTrans'+'parentInde'+'xMap',new Map()),c(this,'subLayerLi'+'st',[]),c(this,'subLayerEn'+'abled',[]),c(this,'cameras',[]),c(this,'_renderAct'+'ions',[]),c(this,'_dirty',!(-0xbee+-0x11a2*-0x1+-0x5b3*0x1)),(this['name']=_0x338b53,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0xfe7e94=>_0xfe7e94['destroy']()),this['_renderAct'+'ions']['length']=-0x43*-0x53+-0xb8*0x1+0x1*-0x1501;}['_update'](){const _0x25eeed=this['layerList']['length'];if(!this['_dirty']){for(let _0x5384a6=0xfdf+-0x95b+-0x342*0x2;_0x5384a6<_0x25eeed;_0x5384a6++)if(this['layerList'][_0x5384a6]['_dirtyComp'+'osition']){this['_dirty']=!(0x265f+-0x4ec+-0x2173);break;}}if(this['_dirty']){this['_dirty']=!(-0xd6*0x14+-0xf5a+0x7*0x495),this['cameras']['length']=-0x1*-0x1645+0x82a+-0x1e6f;for(let _0x11129a=-0x1051*-0x2+0x269c+-0x473e;_0x11129a<_0x25eeed;_0x11129a++){const _0x218f11=this['layerList'][_0x11129a];_0x218f11['_dirtyComp'+'osition']=!(0x1993+-0x2*-0x1183+0x22a*-0x1c);for(let _0x8435a6=0x30*0xe+-0x28c*-0x8+0x100*-0x17;_0x8435a6<_0x218f11['cameras']['length'];_0x8435a6++){const _0x3c720e=_0x218f11['cameras'][_0x8435a6];this['cameras']['indexOf'](_0x3c720e)<0x31*-0xa7+0x6fb+0x18fc&&this['cameras']['push'](_0x3c720e);}}this['cameras']['length']>0x1862+-0x2*-0x751+0xd01*-0x3&&No(this['cameras']);let _0x34da77=0xbd8+0x1f4d+-0x2f*0xeb;this['destroyRen'+'derActions']();for(let _0xc3fc6d=0x1*0x21a7+0x3*-0x7c+-0x2033;_0xc3fc6d<this['cameras']['length'];_0xc3fc6d++){const _0x43c2a7=this['cameras'][_0xc3fc6d];if(_0x43c2a7['camera']['renderPass'+'es']['length']>0x1*0x1087+-0x244b+0x13c4){this['addDummyRe'+'nderAction'](_0x34da77,_0x43c2a7),_0x34da77++;continue;}let _0x9cabe1=!(-0x1c92*0x1+0x26f8+0x2*-0x533);const _0x530eea=_0x34da77;let _0x5e096c=null,_0x4a29fb=!(0x101*0x5+-0x1*-0x1097+-0x159b);for(let _0x40c452=0x56c+0x1*0x1d92+-0x22fe*0x1;_0x40c452<_0x25eeed;_0x40c452++){const _0x383994=this['layerList'][_0x40c452];if(_0x383994['enabled']&&this['subLayerEn'+'abled'][_0x40c452]&&_0x383994['cameras']['length']>-0x1033+0x1*0x11cf+-0x19c&&_0x43c2a7['layers']['indexOf'](_0x383994['id'])>=0x1b98+-0x1564+-0x634){!_0x4a29fb&&_0x383994['id']===_0x43c2a7['disablePos'+'tEffectsLa'+'yer']&&(_0x4a29fb=!(0x3c*0x23+0x1a7b+-0x22af*0x1),_0x5e096c&&(_0x5e096c['triggerPos'+'tprocess']=!(0x458+-0xdca+-0x972*-0x1)));const _0x57ab20=this['subLayerLi'+'st'][_0x40c452];_0x5e096c=this['addRenderA'+'ction'](_0x34da77,_0x383994,_0x57ab20,_0x43c2a7,_0x9cabe1,_0x4a29fb),_0x34da77++,_0x9cabe1=!(-0xdf2+-0xc42*-0x2+-0xa91);}}_0x530eea<_0x34da77&&(_0x5e096c['lastCamera'+'Use']=!(0x122f+0x2*0xe9f+-0x2f6d*0x1)),!_0x4a29fb&&_0x5e096c&&(_0x5e096c['triggerPos'+'tprocess']=!(-0x65*0x27+0x13e5*0x1+0x1*-0x482)),_0x43c2a7['renderTarg'+'et']&&_0x43c2a7['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x530eea-(0x12c7+-0x4a4+0x43*-0x36),_0x43c2a7);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x1639c5){v['assert'](this['_renderAct'+'ions']['length']===_0x1639c5);const _0x1c7315=new D0();return this['_renderAct'+'ions']['push'](_0x1c7315),_0x1c7315;}['addDummyRe'+'nderAction'](_0x427b54,_0x53e8d1){const _0x42c8ad=this['getNextRen'+'derAction'](_0x427b54);_0x42c8ad['camera']=_0x53e8d1,_0x42c8ad['useCameraP'+'asses']=!(-0x1a51*0x1+0x2be*0x7+-0x71f*-0x1);}['addRenderA'+'ction'](_0x3dfc59,_0x39ef10,_0x41b525,_0x97a08a,_0x39fd25,_0x1c2c36){let _0x36d00e=_0x39ef10['id']!==Xt?_0x97a08a['renderTarg'+'et']:null,_0x502922=!(0x2565+0xdda+-0x752*0x7);const _0x1f01e4=this['_renderAct'+'ions'];for(let _0x1b91ee=_0x3dfc59-(-0xa49+0x278+-0x16*-0x5b);_0x1b91ee>=-0x2a0+0x1485+-0x11e5;_0x1b91ee--)if(_0x1f01e4[_0x1b91ee]['camera']===_0x97a08a&&_0x1f01e4[_0x1b91ee]['renderTarg'+'et']===_0x36d00e){_0x502922=!(-0x1*-0x5db+-0x418+-0x1c3);break;}_0x1c2c36&&_0x97a08a['postEffect'+'sEnabled']&&(_0x36d00e=null);const _0x3e817a=this['getNextRen'+'derAction'](_0x3dfc59);_0x3e817a['triggerPos'+'tprocess']=!(0xaf5+-0x167*0x8+0x44),_0x3e817a['layer']=_0x39ef10,_0x3e817a['transparen'+'t']=_0x41b525,_0x3e817a['camera']=_0x97a08a,_0x3e817a['renderTarg'+'et']=_0x36d00e,_0x3e817a['firstCamer'+'aUse']=_0x39fd25,_0x3e817a['lastCamera'+'Use']=!(0x17bd+0x3b*0x4+-0x18a8);const _0x979c65=_0x39fd25||!_0x502922,_0x564f1a=_0x39ef10['clearColor'+'Buffer']||_0x39ef10['clearDepth'+'Buffer']||_0x39ef10['clearStenc'+'ilBuffer'];return(_0x979c65||_0x564f1a)&&_0x3e817a['setupClear'+'s'](_0x979c65?_0x97a08a:void(-0x3+0x227a+0x11*-0x207),_0x39ef10),_0x3e817a;}['propagateR'+'enderTarge'+'t'](_0x49dffc,_0x3a096f){for(let _0x1d6977=_0x49dffc;_0x1d6977>=0x22c+-0x1721+-0x1d*-0xb9;_0x1d6977--){const _0x57ed7d=this['_renderAct'+'ions'][_0x1d6977],_0x948b03=_0x57ed7d['layer'];if(_0x57ed7d['renderTarg'+'et']&&_0x948b03['id']!==Xt)break;if(_0x948b03['id']===Xt)continue;if(_0x57ed7d['useCameraP'+'asses'])break;const _0x41e474=_0x57ed7d==null?void(-0x1fd4+-0x1a8a*-0x1+0x54a):_0x57ed7d['camera']['camera'];if(_0x41e474&&(!_0x3a096f['camera']['rect']['equals'](_0x41e474['rect'])||!_0x3a096f['camera']['scissorRec'+'t']['equals'](_0x41e474['scissorRec'+'t'])))break;_0x57ed7d['renderTarg'+'et']=_0x3a096f['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(Xs['get'](pl)){v['trace'](pl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x89000=-0x412+0x1263+-0xe51;_0x89000<this['_renderAct'+'ions']['length'];_0x89000++){const _0x59f06f=this['_renderAct'+'ions'][_0x89000],_0x380ada=_0x59f06f['camera'];if(_0x59f06f['useCameraP'+'asses'])v['trace'](pl,_0x89000+('CustomPass'+'es\x20Cam:\x20')+(_0x380ada?_0x380ada['entity']['name']:'-'));else{const _0x3c610b=_0x59f06f['layer'],_0x2ef1f2=_0x3c610b['enabled']&&this['isEnabled'](_0x3c610b,_0x59f06f['transparen'+'t']),_0x229342=(_0x59f06f['clearColor']?'Color\x20':'.....\x20')+(_0x59f06f['clearDepth']?'Depth\x20':'.....\x20')+(_0x59f06f['clearStenc'+'il']?'Stencil':'.......');v['trace'](pl,_0x89000+('\x20Cam:\x20'+(_0x380ada?_0x380ada['entity']['name']:'-'))['padEnd'](-0x1*-0x1025+-0xba2+0xb*-0x67,'\x20')+('\x20Lay:\x20'+_0x3c610b['name'])['padEnd'](0x2640+-0x1*0x1273+-0x13b7,'\x20')+(_0x59f06f['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x2ef1f2?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x59f06f['renderTarg'+'et']?_0x59f06f['renderTarg'+'et']['name']:'-'))['padEnd'](-0x1135+0x253d+-0x13ea,'\x20')+'\x20Clear:\x20'+_0x229342+(_0x59f06f['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x59f06f['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x59f06f['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x2565b6){const _0x651d23=this['layerIdMap']['get'](_0x2565b6['id'])===_0x2565b6;return v['assert'](!_0x651d23,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x2565b6['name']),_0x651d23;}['_isSublaye'+'rAdded'](_0x58b9fe,_0x39d6be){return(_0x39d6be?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x58b9fe)!==void(-0x1*0x3b7+0xa8d+0x7*-0xfa)?(v['error']('Sublayer\x20'+_0x58b9fe['name']+(',\x20transpar'+'ent:\x20')+_0x39d6be+('\x20is\x20alread'+'y\x20added.')),!(-0x1*-0x1c43+0x3*-0x7b5+-0x524)):!(-0x851+-0x1241+0x1a93);}['push'](_0x11cb3c){this['_isLayerAd'+'ded'](_0x11cb3c)||(this['layerList']['push'](_0x11cb3c),this['layerList']['push'](_0x11cb3c),this['_opaqueOrd'+'er'][_0x11cb3c['id']]=this['subLayerLi'+'st']['push'](!(0x1240+-0x3*-0x219+-0x188a))-(0x21d0+-0x242*-0x8+0x7*-0x769),this['_transpare'+'ntOrder'][_0x11cb3c['id']]=this['subLayerLi'+'st']['push'](!(-0x12b2+0x2*-0xcfe+-0x85*-0x56))-(0xf0e+0x19d4+-0x28e1),this['subLayerEn'+'abled']['push'](!(-0x2f3*-0x8+-0x1c37+0xd*0x5b)),this['subLayerEn'+'abled']['push'](!(-0x1*-0x200e+0x6*-0x19b+0x4*-0x59b)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0xef2+0x1a33+0x2925*-0x1),this['fire']('add',_0x11cb3c));}['insert'](_0x28f8c9,_0x493887){if(this['_isLayerAd'+'ded'](_0x28f8c9))return;this['layerList']['splice'](_0x493887,-0x1e*0x8a+-0x20ae+-0x1a*-0x1e1,_0x28f8c9,_0x28f8c9),this['subLayerLi'+'st']['splice'](_0x493887,0x1bc4+0x845+0x1*-0x2409,!(0x407+-0xd22+-0xb*-0xd4),!(0x2705+-0x107*0x5+-0x1*0x21e2));const _0x1d795e=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x493887,_0x1d795e-(0xeb6+-0x151+-0xd64)),this['_updateTra'+'nsparentOr'+'der'](_0x493887,_0x1d795e-(0x89c+0xc*-0x128+0x545)),this['subLayerEn'+'abled']['splice'](_0x493887,0xf54+-0x13*0x5d+0x2cf*-0x3,!(-0x1b05+-0x3fb*0x2+-0x5*-0x6ff),!(0xfb*0x18+0x3*0xbdf+-0x31*0x135)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x2*0x58e+-0xa*0x18e+0x470),this['fire']('add',_0x28f8c9);}['remove'](_0x385b9e){let _0x52f51c=this['layerList']['indexOf'](_0x385b9e);for(delete this['_opaqueOrd'+'er'][_0x52f51c],delete this['_transpare'+'ntOrder'][_0x52f51c];_0x52f51c>=0x210c+0x1e43*0x1+0x1*-0x3f4f;)this['layerList']['splice'](_0x52f51c,0xa11+-0x19fb+-0x19*-0xa3),this['subLayerLi'+'st']['splice'](_0x52f51c,0x6f3*0x3+0x1*-0xfa6+0x7*-0xbe),this['subLayerEn'+'abled']['splice'](_0x52f51c,-0x2367+-0xb*-0x311+0xb*0x27),_0x52f51c=this['layerList']['indexOf'](_0x385b9e),this['_dirty']=!(-0x1fb7+-0x133e+-0xa31*-0x5),this['fire']('remove',_0x385b9e);const _0x3053ce=this['layerList']['length'];this['_updateOpa'+'queOrder'](-0x1722+0x1*0x210a+-0x9e8,_0x3053ce-(0x1d*-0x61+0x6c5+-0x17*-0x2f)),this['_updateTra'+'nsparentOr'+'der'](0x77*0x3e+-0x190d+-0x5*0xc1,_0x3053ce-(0x5*0x5be+-0x244a+0x3*0x287)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x53e0d2){this['_isSublaye'+'rAdded'](_0x53e0d2,!(0x13f0+-0x249e*0x1+0x10af))||(this['layerList']['push'](_0x53e0d2),this['_opaqueOrd'+'er'][_0x53e0d2['id']]=this['subLayerLi'+'st']['push'](!(0x2396+-0x25ca+0x235))-(-0x5*-0x1f7+0x9*0x10d+0x7*-0x2c1),this['subLayerEn'+'abled']['push'](!(-0x5*0xa9+-0x3*-0x1af+-0x1c0)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x1*-0x13f3+0x24d5+-0x1*0x10e2),this['fire']('add',_0x53e0d2));}['insertOpaq'+'ue'](_0x5e1f47,_0x5015af){if(this['_isSublaye'+'rAdded'](_0x5e1f47,!(0x1*0x847+-0x1d*0x13+-0x61f)))return;this['layerList']['splice'](_0x5015af,0x23fe+0x211b+0x9df*-0x7,_0x5e1f47),this['subLayerLi'+'st']['splice'](_0x5015af,-0x31e+-0x1*-0x1ca3+-0x1985,!(0x565*-0x3+-0x1175+-0x105*-0x21));const _0x2b2efc=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x5015af,_0x2b2efc-(0xcc9+0x1d41*-0x1+0x1079*0x1)),this['subLayerEn'+'abled']['splice'](_0x5015af,-0x11*0x83+0xa*0x2fb+-0x151b,!(0x1*-0x1d+0x3*-0x976+0x5b3*0x5)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0xc5a+-0xa45+0x29*-0xd),this['fire']('add',_0x5e1f47);}['removeOpaq'+'ue'](_0x314416){for(let _0x561752=0x18b*-0x3+-0x1d1d+0x21be,_0x51bddb=this['layerList']['length'];_0x561752<_0x51bddb;_0x561752++)if(this['layerList'][_0x561752]===_0x314416&&!this['subLayerLi'+'st'][_0x561752]){this['layerList']['splice'](_0x561752,0x1*0x1aa4+0x10c6+-0x2b69*0x1),this['subLayerLi'+'st']['splice'](_0x561752,-0xc65*-0x1+0x3*-0x103+0x1df*-0x5),_0x51bddb--,this['_updateOpa'+'queOrder'](_0x561752,_0x51bddb-(-0x23*-0x2e+-0x1733+-0x1b1*-0xa)),this['subLayerEn'+'abled']['splice'](_0x561752,0xfd8+-0xdcb*-0x1+-0x1da2),this['_dirty']=!(0x8d*-0x17+0x19*0xfa+-0x1f*0x61),this['layerList']['indexOf'](_0x314416)<0x9e4*0x2+0x359*0x1+-0xbf*0x1f&&this['fire']('remove',_0x314416);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x561ada){this['_isSublaye'+'rAdded'](_0x561ada,!(-0x1*0x337+0xb02+-0x7cb))||(this['layerList']['push'](_0x561ada),this['_transpare'+'ntOrder'][_0x561ada['id']]=this['subLayerLi'+'st']['push'](!(-0x1dad*0x1+0x9*0x401+-0x65c))-(0xce9+-0x1*0x153e+-0x2*-0x42b),this['subLayerEn'+'abled']['push'](!(0x40d+0x261+-0x66e)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x252a+-0x13ac+0x1*-0x117e),this['fire']('add',_0x561ada));}['insertTran'+'sparent'](_0x312d3f,_0x50bd84){if(this['_isSublaye'+'rAdded'](_0x312d3f,!(-0x1159*-0x1+-0xc1*-0x1+-0x121a)))return;this['layerList']['splice'](_0x50bd84,-0x13ed+0x2*0xda5+-0x75d,_0x312d3f),this['subLayerLi'+'st']['splice'](_0x50bd84,0x1158+0x2*0xd9b+-0x2c8e,!(0x41b*-0x9+-0x1df6+0x1*0x42e9));const _0x207dc2=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x50bd84,_0x207dc2-(-0x3b4+0x641+-0x28c)),this['subLayerEn'+'abled']['splice'](_0x50bd84,-0x1347+-0x4*-0x84f+-0xdf5,!(-0x125*-0x13+0x1321*0x1+-0xc*0x368)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x1255+-0x8c*-0x29+0x28c1*-0x1),this['fire']('add',_0x312d3f);}['removeTran'+'sparent'](_0x2d44bc){for(let _0x1e1f00=0x2350+0x1837*0x1+0x3b87*-0x1,_0x58a825=this['layerList']['length'];_0x1e1f00<_0x58a825;_0x1e1f00++)if(this['layerList'][_0x1e1f00]===_0x2d44bc&&this['subLayerLi'+'st'][_0x1e1f00]){this['layerList']['splice'](_0x1e1f00,-0x12f7+-0x1d*0x146+0x37e6),this['subLayerLi'+'st']['splice'](_0x1e1f00,0x23bb+-0xf66+-0x1454),_0x58a825--,this['_updateTra'+'nsparentOr'+'der'](_0x1e1f00,_0x58a825-(0x20eb+0x2308+0x29d*-0x1a)),this['subLayerEn'+'abled']['splice'](_0x1e1f00,0x1ea5+0x20f8+-0xc*0x54d),this['_dirty']=!(0xac4+0x1*-0xb8f+0xcb),this['layerList']['indexOf'](_0x2d44bc)<0x4*0x617+0x1daf*-0x1+0x553&&this['fire']('remove',_0x2d44bc);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x1f1626){return this['layerOpaqu'+'eIndexMap']['get'](_0x1f1626)??-(0x196f*0x1+0x4bc+-0x1e2a);}['getTranspa'+'rentIndex'](_0x12741e){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x12741e)??-(0x13*0xef+0x1297+-0x1*0x2453);}['isEnabled'](_0x278b1a,_0x3bf350){if(_0x278b1a['enabled']){const _0x30d3c6=_0x3bf350?this['getTranspa'+'rentIndex'](_0x278b1a):this['getOpaqueI'+'ndex'](_0x278b1a);if(_0x30d3c6>=0xd*-0x1d2+-0x244f+0x49d*0xd)return this['subLayerEn'+'abled'][_0x30d3c6];}return!(0x2505+-0x2*-0xbd8+-0x3*0x143c);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x39b98a=-0x1599*-0x1+-0x23b0+0xe17;_0x39b98a<this['layerList']['length'];_0x39b98a++){const _0x41efc1=this['layerList'][_0x39b98a];this['layerIdMap']['set'](_0x41efc1['id'],_0x41efc1),this['layerNameM'+'ap']['set'](_0x41efc1['name'],_0x41efc1),(this['subLayerLi'+'st'][_0x39b98a]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x41efc1,_0x39b98a);}}['getLayerBy'+'Id'](_0x58af51){return this['layerIdMap']['get'](_0x58af51)??null;}['getLayerBy'+'Name'](_0x591980){return this['layerNameM'+'ap']['get'](_0x591980)??null;}['_updateOpa'+'queOrder'](_0x586ae3,_0x59fbe0){for(let _0x193e4f=_0x586ae3;_0x193e4f<=_0x59fbe0;_0x193e4f++)this['subLayerLi'+'st'][_0x193e4f]===!(0x1387+0x252b+-0x38b1)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x193e4f]['id']]=_0x193e4f);}['_updateTra'+'nsparentOr'+'der'](_0x5c736d,_0x44286a){for(let _0x1c5876=_0x5c736d;_0x1c5876<=_0x44286a;_0x1c5876++)this['subLayerLi'+'st'][_0x1c5876]===!(-0x76*0x1b+0x533+0x73f)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x1c5876]['id']]=_0x1c5876);}['_sortLayer'+'sDescendin'+'g'](_0xf447bb,_0x24106c,_0x247170){let _0x333d4c=-(0x1192*-0x1+0x26b*-0x1+0x13fe),_0x35002f=-(0x1dda*-0x1+-0x1f0e+0x3ce9);for(let _0x4ca15f=-0x1144+0x1395+-0x251,_0x1067f7=_0xf447bb['length'];_0x4ca15f<_0x1067f7;_0x4ca15f++){const _0x267df4=_0xf447bb[_0x4ca15f];_0x247170['hasOwnProp'+'erty'](_0x267df4)&&(_0x333d4c=Math['max'](_0x333d4c,_0x247170[_0x267df4]));}for(let _0x3acbf2=-0x186a+0xa44+-0xe26*-0x1,_0x266d83=_0x24106c['length'];_0x3acbf2<_0x266d83;_0x3acbf2++){const _0x9682bc=_0x24106c[_0x3acbf2];_0x247170['hasOwnProp'+'erty'](_0x9682bc)&&(_0x35002f=Math['max'](_0x35002f,_0x247170[_0x9682bc]));}return _0x333d4c===-(0x57b*0x7+-0x1026+-0x1636*0x1)&&_0x35002f!==-(0x5*-0x3bf+-0x46a*0x1+-0xb93*-0x2)?-0x8*0xb1+0x1*0x2c+0x1*0x55d:_0x35002f===-(0x1a43+-0x23a7*0x1+0x5*0x1e1)&&_0x333d4c!==-(-0x2523*-0x1+0x15c0+0x1*-0x3ae2)?-(-0x12a+-0x2422+0x254d):_0x35002f-_0x333d4c;}['sortTransp'+'arentLayer'+'s'](_0x2fd136,_0x5797e2){return this['_sortLayer'+'sDescendin'+'g'](_0x2fd136,_0x5797e2,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x52ff18,_0x4deee9){return this['_sortLayer'+'sDescendin'+'g'](_0x52ff18,_0x4deee9,this['_opaqueOrd'+'er']);}}const kl=new T(),ti={'bias':0x0,'normalBias':0x0},Ya=new Y(),Ud={'r':0x0,'g':0x1,'b':0x2,'a':0x3},Gu={'directional':oe,'omni':Pe,'point':Pe,'spot':Re},$M=[[new Q(-0x3d1+-0x3*0x8ad+0xa*0x2fc,0xa2f+-0xd*0x20b+0x1060,-0x1d54+0x24e3+-0x2*0x3c7,-0x2*-0x871+0x24c0+-0x35a1)],[new Q(-0x738+0x1ef3+-0x17bb,-0x17*-0x12e+0xa10+-0x2532,-0x2568+0x1367*-0x1+-0x1*-0x38cf+0.5,-0xdc0+0x1f0+0xbd0+0.5),new Q(-0x19c8+0xe1*0x27+-0x2d5*0x3,0x922*0x2+-0x1905+0x6c1+0.5,0xe17*-0x2+0x3bf+0x186f+0.5,0x2*0x97c+-0x1919+0x621+0.5)],[new Q(-0xa*0xe9+-0x61*-0x3e+-0xe64,0x5dd+-0x1442+0xe65,-0x976+-0x9*-0x10d+0x1+0.5,0x1380+-0xe3e*-0x2+-0x2ffc+0.5),new Q(0x2*-0x106a+0x4*-0xda+0x243c*0x1,0x18*-0x54+-0x1ad9+0x22b9+0.5,0x616+0x1*0x1183+-0x35f*0x7+0.5,-0x4*-0x25c+-0x61a+-0x356+0.5),new Q(0x1*0x1b65+0x5*-0x3cb+0x1a*-0x53+0.5,-0x1*0x189f+-0x264+0x1b03,-0x1abb+0x2608+-0xb4d+0.5,-0x954+-0x1b5b*-0x1+-0x1207+0.5)],[new Q(-0x33*-0xf+0x90e*-0x1+0x611,0x3*0xf1+-0x1133+0xe60,0xb05+-0x3*-0x10f+-0x1*0xe32+0.5,0x2c5*0xb+0x2f9*-0x3+0xac6*-0x2+0.5),new Q(-0x972+0xae+-0x84*-0x11,-0x448*0x3+-0x1271+0x1f49+0.5,-0xd7a+0x1*0x2157+0x1*-0x13dd+0.5,-0xe6a+0x1755+-0x8eb+0.5),new Q(-0x3*-0x18f+0x1e2*-0x7+0x1*0x881+0.5,-0x3b*0x33+0x1805+0x1*-0xc44,-0x104b+0x8ce*-0x3+0x349*0xd+0.5,0x221e+0xa47*0x3+-0x40f3+0.5),new Q(-0x1*0xde+0x1db1+-0x1cd3+0.5,-0x13c7*0x1+-0x1020+-0x5b*-0x65+0.5,-0x25*-0x65+-0x2419*0x1+0x1580+0.5,-0xf06+0xe*-0x67+0x14a8+0.5)]];let qM=-0xc3a+-0x22fe*-0x1+-0x16c4;class XM{constructor(_0x55e50f,_0x47155a,_0x20b974){this['light']=_0x20b974,this['camera']=_0x55e50f,this['shadowCame'+'ra']=I0['createShad'+'owCamera'](_0x20b974['_shadowTyp'+'e'],_0x20b974['_type'],_0x47155a),this['shadowMatr'+'ix']=new q(),this['shadowView'+'port']=new Q(-0x1*0xa1b+0x1d8*0x6+-0xf5,-0x7*0x48b+0x12a2+0x1*0xd2b,-0x1*0x143b+0x3*-0xb7b+0x36ad,-0x13d9+-0xb*0x28a+-0xb*-0x458),this['shadowScis'+'sor']=new Q(-0x16f*-0xa+0xf12+-0x3ad*0x8,0xae7*0x1+0x2dc+-0xdc3,0x1675+-0x2*0x223+-0x1a*0xb3,-0x23f8+-0x1b1*-0x4+0x1d35),this['projection'+'Compensati'+'on']=0x1*-0x172d+-0x195d+-0x72*-0x6d,this['face']=_0x47155a,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x414cca=>{_0x414cca['defaultUni'+'formBuffer']['destroy'](),_0x414cca['destroy']();}),this['viewBindGr'+'oups']['length']=0x20a9+-0x11ce*-0x1+-0x1*0x3277;}get['shadowBuff'+'er'](){const _0x607426=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x607426?this['light']['_isPcf']?_0x607426['depthBuffe'+'r']:_0x607426['colorBuffe'+'r']:null;}}class zo{constructor(_0x1a1b09,_0x425a5e){c(this,'layers',new Set()),c(this,'clusteredL'+'ighting'),c(this,'shadowDept'+'hState',as['DEFAULT']['clone']()),(this['device']=_0x1a1b09,this['clusteredL'+'ighting']=_0x425a5e,this['id']=qM++,this['_type']=oe,this['_color']=new Y(-0x3ee+0x298+0x156+0.8,-0x161*0x2+-0x1355+0x1b3*0xd+0.8,-0xebe+0xa*-0x164+0x1ca6+0.8),this['_intensity']=-0x24a7+-0x2fd+0x27a5,this['_affectSpe'+'cularity']=!(-0xb*-0x16+0x79f+-0x3*0x2db),this['_luminance']=0x2*-0x716+0x6a5+-0x787*-0x1,this['_castShado'+'ws']=!(0x17f3+0x1*0x69f+0x1e91*-0x1),this['_enabled']=!(0x57*-0x11+0x1399+0x49b*-0x3),this['_mask']=hs,this['isStatic']=!(-0x26b0+0x1200+0x1*0x14b1),this['key']=0x11*-0x17+-0x658+-0x41*-0x1f,this['bakeDir']=!(0x2639+0x343+-0x297c),this['bakeNumSam'+'ples']=-0x74f+-0x1*-0x964+-0x214,this['bakeArea']=-0x185*-0x2+0x2f3+-0x5fd,this['attenuatio'+'nStart']=-0xd6d+-0x68c+0x2f*0x6d,this['attenuatio'+'nEnd']=0xfb*0x11+-0x5*-0x391+-0x2276,this['_falloffMo'+'de']=wp,this['_shadowTyp'+'e']=Dt,this['_vsmBlurSi'+'ze']=-0x9ac+-0x6b*-0x41+-0x4*0x45d,this['vsmBlurMod'+'e']=Tp,this['vsmBias']=(-0x67a+0x2570+-0x1ef6+0.01)*(-0x26d*0x5+0x3dd*-0x3+0x17b8+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=-0x1*-0x1cb5+-0xea4+-0xe10,this['_cookieFal'+'loff']=!(-0x3ad+-0x845+0xbf2),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(0x1c*0x142+-0x13c5+-0xf6f),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(0x241c+-0x3*-0x115+-0x2759*0x1),this['_cookieTra'+'nsformSet']=!(-0x203*0x7+0x7f4*-0x3+0x25f2),this['_cookieOff'+'setSet']=!(0x2*-0x89+0x2568+-0x2455),this['_innerCone'+'Angle']=0x1223+-0x116+0x1*-0x10e5,this['_outerCone'+'Angle']=0x2*-0xbb7+0xc*0x207+-0xb9,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=-0xfc7+0x1e8e+-0x1f*0x7a,this['_cascadeBl'+'end']=-0xf32+-0xe96*-0x1+0x1*0x9c,this['cascadeDis'+'tribution']=-0x1fb+0x26bc+-0x24c1+0.5,this['_shape']=yt,this['_colorLine'+'ar']=new Float32Array(-0x79c+-0x23b5*-0x1+-0x1c16*0x1),this['_updateLin'+'earColor'](),this['_position']=new T(-0x15d7+-0x17*-0x7+0x1536,0x3*-0x927+-0x505+-0x1*-0x207a,0x136a+0x53f+-0x3b*0x6b),this['_direction']=new T(-0x1*0xa54+0x108f+0x1d*-0x37,-0x2169+-0xee1+0x373*0xe,0x1b9b+-0x167+-0x68d*0x4),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(0x1*-0x102b+0xe72+-0x3*-0xcf)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(-0x10*-0x15+0x1de4+-0x1f34),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=-0x18b8+-0x1def+0x1245*0x3,this['_shadowRes'+'olution']=0x1*-0x1a65+0x1ba+-0x1cab*-0x1,this['_shadowBia'+'s']=-(0x21d0+-0x1*0x2429+0x259+0.0005),this['shadowInte'+'nsity']=-0x5*0x7c6+0x1db2+-0x105*-0x9,this['_normalOff'+'setBias']=0x4a9*-0x1+0x1a*0xa+0x3a5,this['shadowUpda'+'teMode']=Pp,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(-0x2*0x77b+0x39*-0x21+-0xee*-0x18),this['_isPcf']=!(-0xc78+-0x282+0xefa),this['_softShado'+'wParams']=new Float32Array(-0x26e8+-0x1828+0x3f14*0x1),this['shadowSamp'+'les']=-0x4f*0x2a+0x1356+-0x650,this['shadowBloc'+'kerSamples']=-0x1759+0x2*-0x109d+0x38a3,this['penumbraSi'+'ze']=0x7bd*0x1+-0x8ba+0xfe,this['penumbraFa'+'lloff']=0x2*0x127d+-0x1e42+-0x6b7,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(0xcba*0x1+0x1ba7+-0x2860),this['atlasVersi'+'on']=-0x2240*0x1+-0x1ddf+0x401f,this['atlasSlotI'+'ndex']=-0x1769+0x1*-0x1261+-0x29ca*-0x1,this['atlasSlotU'+'pdated']=!(-0x17bc+-0x14d+0x1*0x190a),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(0x1f5e+-0xd05+-0x92c*0x2),this['maxScreenS'+'ize']=0x1496+0x1f7*-0xb+0x107,this['_updateSha'+'dowBias']());}['destroy'](){this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x62dd2f=0xaf2+-0x1e2*0x11+0x1510;_0x62dd2f<this['_renderDat'+'a']['length'];_0x62dd2f++)this['_renderDat'+'a'][_0x62dd2f]['destroy']();this['_renderDat'+'a']['length']=-0x9*-0x20e+-0x1081+-0x1fd;}}['addLayer'](_0x430618){this['layers']['add'](_0x430618);}['removeLaye'+'r'](_0x88c709){this['layers']['delete'](_0x88c709);}set['shadowSamp'+'les'](_0x270626){this['_softShado'+'wParams'][0xfa1+0x235d+-0x1*0x32fe]=_0x270626;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][0x1bbe+0xc09+-0x27c7];}set['shadowBloc'+'kerSamples'](_0x3f3392){this['_softShado'+'wParams'][-0xd*-0xab+0xcb*-0x1+-0x1*0x7e3]=_0x3f3392;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][-0x3*0xb3b+0x222c+0x7a*-0x1];}set['shadowBias'](_0x8b54cb){this['_shadowBia'+'s']!==_0x8b54cb&&(this['_shadowBia'+'s']=_0x8b54cb,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x146426){(!this['cascades']||this['numCascade'+'s']!==_0x146426)&&(this['cascades']=$M[_0x146426-(-0x1c3d*-0x1+-0xf89*-0x2+-0x3b4e)],this['_shadowMat'+'rixPalette']=new Float32Array((-0x764+0xcf*0xb+-0x3*0x7f)*(0x16c4+-0x21e0+0xb2c)),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(-0x532*-0x1+-0x13*-0x127+-0x1b13),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x369335){this['_cascadeBl'+'end']!==_0x369335&&(this['_cascadeBl'+'end']=_0x369335,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x33af3a){this['_shadowMap']!==_0x33af3a&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x33af3a);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x5e3751){this['_mask']!==_0x5e3751&&(this['_mask']=_0x5e3751,this['updateKey']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x2ed50f=this['_type'];return _0x2ed50f===oe?this['numCascade'+'s']:_0x2ed50f===Pe?0x3*0x25+-0x92a+0x8c1:0x67*0x3b+0x1*-0x1555+-0x267;}set['type'](_0x56fdb9){if(this['_type']===_0x56fdb9)return;this['_type']=_0x56fdb9,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey']();const _0x4eb4fc=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x4eb4fc;}get['type'](){return this['_type'];}set['shape'](_0x309e89){if(this['_shape']===_0x309e89)return;this['_shape']=_0x309e89,this['_destroySh'+'adowMap'](),this['updateKey']();const _0x4eb0ad=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x4eb0ad;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x3994e7){this['_usePhysic'+'alUnits']!==_0x3994e7&&(this['_usePhysic'+'alUnits']=_0x3994e7,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x3c786e){if(this['_shadowTyp'+'e']===_0x3c786e)return;const _0x93cdbb=this['device'];_0x3c786e===Ts&&!_0x93cdbb['textureFlo'+'atRenderab'+'le']&&!_0x93cdbb['textureHal'+'fFloatRend'+'erable']&&(_0x3c786e=Dt),this['_type']===Pe&&_0x3c786e!==Bh&&_0x3c786e!==Dt&&_0x3c786e!==Nh&&_0x3c786e!==zh&&_0x3c786e!==Ts&&(_0x3c786e=Dt),_0x3c786e===Wr&&(!_0x93cdbb['textureFlo'+'atRenderab'+'le']||!_0x93cdbb['textureFlo'+'atFilterab'+'le'])&&(_0x3c786e=Hr),_0x3c786e===Hr&&!_0x93cdbb['textureHal'+'fFloatRend'+'erable']&&(_0x3c786e=Dt);const _0x3e8bd9=ir['get'](_0x3c786e);this['_isVsm']=(_0x3e8bd9==null?void(0xa12+0x6e7+0x365*-0x5):_0x3e8bd9['vsm'])??!(-0x4a5*0x1+-0xfdf+0x1485),this['_isPcf']=(_0x3e8bd9==null?void(-0x21a7+0x96c+0x1*0x183b):_0x3e8bd9['pcf'])??!(-0x3*0x66d+-0x1360+0x26a8),this['_shadowTyp'+'e']=_0x3c786e,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x10cc8d){this['_enabled']!==_0x10cc8d&&(this['_enabled']=_0x10cc8d,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x2c7d4b){this['_castShado'+'ws']!==_0x2c7d4b&&(this['_castShado'+'ws']=_0x2c7d4b,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==rr&&this['_mask']!==0x1*0xc49+-0x5*-0x55d+-0x271a;}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===rr;}set['shadowReso'+'lution'](_0x5450d8){this['_shadowRes'+'olution']!==_0x5450d8&&(this['_type']===Pe?_0x5450d8=Math['min'](_0x5450d8,this['device']['maxCubeMap'+'Size']):_0x5450d8=Math['min'](_0x5450d8,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x5450d8,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x52a042){this['_vsmBlurSi'+'ze']!==_0x52a042&&(_0x52a042%(0x11aa+-0x39*-0x25+0x3b3*-0x7)===-0xbd5+-0x775*0x1+0x9a5*0x2&&_0x52a042++,this['_vsmBlurSi'+'ze']=_0x52a042);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x16a84f){if(this['_normalOff'+'setBias']!==_0x16a84f){const _0x2e002b=!this['_normalOff'+'setBias']&&_0x16a84f||this['_normalOff'+'setBias']&&!_0x16a84f;this['_normalOff'+'setBias']=_0x16a84f,_0x2e002b&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x3f5973){this['_falloffMo'+'de']!==_0x3f5973&&(this['_falloffMo'+'de']=_0x3f5973,this['updateKey']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x1b1710){this['_innerCone'+'Angle']!==_0x1b1710&&(this['_innerCone'+'Angle']=_0x1b1710,this['_innerCone'+'AngleCos']=Math['cos'](_0x1b1710*Math['PI']/(-0x87b+0x1997*-0x1+0x1*0x22c6)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x3424b6){this['_outerCone'+'Angle']!==_0x3424b6&&(this['_outerCone'+'Angle']=_0x3424b6,this['_updateOut'+'erAngle'](_0x3424b6),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x34e06d){this['_penumbraS'+'ize']=_0x34e06d,this['_softShado'+'wParams'][0x4b2*0x4+-0x1d11+0xa4b]=_0x34e06d;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x1ef50f){this['_softShado'+'wParams'][0x1*-0x1979+-0xe*-0x1ab+0x222]=_0x1ef50f;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][0x1dce+0x1047+-0x2e12];}['_updateOut'+'erAngle'](_0x3040d0){const _0x44fa46=_0x3040d0*Math['PI']/(0x211d+0x15*0xb6+0x1*-0x2f57);this['_outerCone'+'AngleCos']=Math['cos'](_0x44fa46),this['_outerCone'+'AngleSin']=Math['sin'](_0x44fa46);}set['intensity'](_0x3d7253){this['_intensity']!==_0x3d7253&&(this['_intensity']=_0x3d7253,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x2a8ead){this['_type']===oe&&(this['_affectSpe'+'cularity']=_0x2a8ead,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0xb1725){this['_luminance']!==_0xb1725&&(this['_luminance']=_0xb1725,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new q()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new Q(0x20f0*0x1+-0xfbe*-0x2+0x1b2*-0x26,0x10f*0x1b+0x6ae+-0x2343,0x4ea+0x2f0+0x7*-0x11f,-0x20c*-0x12+0x456*-0x1+0x9d*-0x35)),this['_atlasView'+'port'];}set['cookie'](_0x197c57){this['_cookie']!==_0x197c57&&(this['_cookie']=_0x197c57,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x20f1f3){this['_cookieFal'+'loff']!==_0x20f1f3&&(this['_cookieFal'+'loff']=_0x20f1f3,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x465e29){if(this['_cookieCha'+'nnel']!==_0x465e29){if(_0x465e29['length']<0x43*0x32+-0xcc2+-0x51*0x1){const _0x12e02b=_0x465e29['charAt'](_0x465e29['length']-(0x17e7+-0x175*-0x16+-0x4*0xdfd)),_0xc2a76=-0x730+0x2380+-0x1c4d-_0x465e29['length'];for(let _0x1c6d10=0x7*-0x47e+0x3*-0x5f7+0x3157;_0x1c6d10<_0xc2a76;_0x1c6d10++)_0x465e29+=_0x12e02b;}this['_cookieCha'+'nnel']=_0x465e29,this['updateKey']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x351a3c){this['_cookieTra'+'nsform']!==_0x351a3c&&(this['_cookieTra'+'nsform']=_0x351a3c,this['_cookieTra'+'nsformSet']=!!_0x351a3c,_0x351a3c&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new W(),this['_cookieOff'+'setSet']=!(0x1*-0x2606+-0x23e4+-0x7f*-0x95)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x9b75ee){if(this['_cookieOff'+'set']===_0x9b75ee)return;!!(this['_cookieTra'+'nsformSet']||_0x9b75ee)&&!_0x9b75ee&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](-0x1*-0x25af+0x13c3+-0x3972,0x3e*0x6c+0xa0f*-0x2+-0x60a):this['_cookieOff'+'set']=_0x9b75ee,this['_cookieOff'+'setSet']=!!_0x9b75ee,_0x9b75ee&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new Q(0x3*0x3f6+-0xb*-0x1c3+-0x1*0x1f42,-0x263e+-0xa4c+-0x121*-0x2b,0x1*-0x23e7+-0x1003*0x2+0x43ed,-0x1aae+0x1da1+-0x2f3),this['_cookieTra'+'nsformSet']=!(0x1*-0x1549+0x83a*-0x2+0x25be*0x1)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===oe&&this['_enabled'],this['maxScreenS'+'ize']=-0x1cf9+-0x1bdd+0x38d6,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x4*0x357+-0x2495*0x1+0x31f2),this['atlasSlotU'+'pdated']=!(0x80d+0x115*0xa+-0x12de);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=cn),this['shadowUpda'+'teOverride'+'s']){for(let _0x23c6cc=-0x1*-0x1baf+-0x10d3+-0xadc;_0x23c6cc<this['shadowUpda'+'teOverride'+'s']['length'];_0x23c6cc++)this['shadowUpda'+'teOverride'+'s'][_0x23c6cc]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x23c6cc]=cn);}}['getRenderD'+'ata'](_0x53d8ff,_0x1124a1){for(let _0x5a7105=-0x230c+-0x21d8+0x44e4;_0x5a7105<this['_renderDat'+'a']['length'];_0x5a7105++){const _0xba998b=this['_renderDat'+'a'][_0x5a7105];if(_0xba998b['camera']===_0x53d8ff&&_0xba998b['face']===_0x1124a1)return _0xba998b;}const _0x198a2c=new XM(_0x53d8ff,_0x1124a1,this);return this['_renderDat'+'a']['push'](_0x198a2c),_0x198a2c;}['clone'](){const _0x3ce9da=new zo(this['device'],this['clusteredL'+'ighting']);return _0x3ce9da['type']=this['_type'],_0x3ce9da['setColor'](this['_color']),_0x3ce9da['intensity']=this['_intensity'],_0x3ce9da['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x3ce9da['luminance']=this['_luminance'],_0x3ce9da['castShadow'+'s']=this['castShadow'+'s'],_0x3ce9da['_enabled']=this['_enabled'],_0x3ce9da['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x3ce9da['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x3ce9da['falloffMod'+'e']=this['_falloffMo'+'de'],_0x3ce9da['shadowType']=this['_shadowTyp'+'e'],_0x3ce9da['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x3ce9da['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x3ce9da['vsmBias']=this['vsmBias'],_0x3ce9da['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x3ce9da['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x3ce9da['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x3ce9da['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x3ce9da['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x3ce9da['numCascade'+'s']=this['numCascade'+'s'],_0x3ce9da['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x3ce9da['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x3ce9da['shape']=this['_shape'],_0x3ce9da['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x3ce9da['shadowBias']=this['shadowBias'],_0x3ce9da['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x3ce9da['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x3ce9da['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x3ce9da['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x3ce9da['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x3ce9da['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x3ce9da['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x3ce9da['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x3ce9da;}static['getLightUn'+'itConversi'+'on'](_0x19256c,_0x577a04=Math['PI']/(-0x13b9+0x191b+0x55e*-0x1),_0x1df36a=0x20*0x11+-0x1a15+0x17f5){switch(_0x19256c){case Re:{const _0x386dfd=Math['cos'](_0x577a04),_0x52f9db=Math['cos'](_0x1df36a);return(-0x712*0x1+0x35*0x61+-0xd01)*Math['PI']*(-0x101*-0x23+-0x1b2c+-0x1*0x7f6-_0x52f9db+(_0x52f9db-_0x386dfd)/(-0x2fa+0xcd7+-0x9db*0x1));}case Pe:return(-0x38*-0x17+0x21*-0xf3+0x1a4f)*Math['PI'];case oe:return-0x2a7*-0xe+-0x1347+-0x11da;}}['_getUnifor'+'mBiasValue'+'s'](_0x36c06c){const _0x50dc5f=_0x36c06c['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Pe:ti['bias']=this['shadowBias'],ti['normalBias']=this['_normalOff'+'setBias'];break;case Re:this['_isVsm']?ti['bias']=-(-0x8b*0x21+-0x4d4+0x16bf+0.00001)*(0x1957+-0xbcc+-0xd77*0x1):ti['bias']=this['shadowBias']*(-0x2645+0x1ac9+0xb90),ti['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(-0x389+-0xa*0x284+0x1cb8)):this['_normalOff'+'setBias'];break;case oe:this['_isVsm']?ti['bias']=-(0x92a+0x884+-0x11ae+0.00001)*(-0x2128+0x644*0x2+0x14b4*0x1):ti['bias']=this['shadowBias']/_0x50dc5f*(0xcbc+0xe59*0x1+-0x1ab1),ti['normalBias']=this['_isVsm']?this['vsmBias']/(_0x50dc5f/(0x2*0x545+-0x164f+0xbcc)):this['_normalOff'+'setBias'];break;}return ti;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x4e3f15){if(this['_type']===Re){const _0x5761e2=this['attenuatio'+'nEnd'],_0x4a1a57=this['_outerCone'+'Angle'],_0x29ae67=this['_outerCone'+'AngleCos'],_0x1e6acd=this['_node'];kl['copy'](_0x1e6acd['up']),_0x4a1a57>0x222e+-0x1bdb+-0x626?(_0x4e3f15['radius']=_0x5761e2*this['_outerCone'+'AngleSin'],kl['mulScalar'](-_0x5761e2*_0x29ae67)):(_0x4e3f15['radius']=_0x5761e2/((-0x4*0x70b+-0x1*0x1c17+0x3845)*_0x29ae67),kl['mulScalar'](-_0x4e3f15['radius'])),_0x4e3f15['center']['add2'](_0x1e6acd['getPositio'+'n'](),kl);}else this['_type']===Pe&&(_0x4e3f15['center']=this['_node']['getPositio'+'n'](),_0x4e3f15['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x1f5808){if(this['_type']===Re){const _0x41a953=this['attenuatio'+'nEnd'],_0x2db4cc=this['_outerCone'+'Angle'],_0x455900=this['_node'],_0x1b0eea=Math['abs'](Math['sin'](_0x2db4cc*N['DEG_TO_RAD'])*_0x41a953);_0x1f5808['center']['set'](0x1533+-0x748*-0x4+-0x3253,-_0x41a953*(-0x27*-0x56+0x1dc5+0x2adf*-0x1+0.5),0x4e*-0x51+-0x5f3*0x6+0x3c60),_0x1f5808['halfExtent'+'s']['set'](_0x1b0eea,_0x41a953*(-0x25b2+0x239e+0x214+0.5),_0x1b0eea),_0x1f5808['setFromTra'+'nsformedAa'+'bb'](_0x1f5808,_0x455900['getWorldTr'+'ansform'](),!(-0x72*-0x3d+-0x1c*-0x63+-0x25fe));}else this['_type']===Pe&&(_0x1f5808['center']['copy'](this['_node']['getPositio'+'n']()),_0x1f5808['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Pe&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=-0x16*0xf7+-0x1*0x24bb+-0x191*-0x25,this['shadowDept'+'hState']['depthBiasS'+'lope']=0x209*0xd+-0x245f+0x9ea;else{const _0x36e443=this['shadowBias']*-(-0x65*-0x23+-0x1142+-0x7*-0x10d);this['shadowDept'+'hState']['depthBias']=_0x36e443,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x36e443;}}['_updateLin'+'earColor'](){let _0x4af5e6=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x4af5e6=this['_luminance']/zo['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*N['DEG_TO_RAD'],this['_innerCone'+'Angle']*N['DEG_TO_RAD']));const _0x18c98f=this['_color'],_0x4e7779=this['_colorLine'+'ar'];_0x4af5e6>=0x1*0x1e6d+0xffa+-0x2e66?Ya['linear'](_0x18c98f)['mulScalar'](_0x4af5e6):Ya['copy'](_0x18c98f)['mulScalar'](_0x4af5e6)['linear'](),_0x4e7779[-0x1*0x265d+-0x15b2+0x3c0f]=Ya['r'],_0x4e7779[-0x6a*-0x4f+0x1*0x10fc+0x31b1*-0x1]=Ya['g'],_0x4e7779[0x53b*0x1+0x1508+-0x1a41]=Ya['b'];}['setColor'](){arguments['length']===0x3dc+-0x11fd+0xe22?this['_color']['set'](arguments[0x264e*-0x1+-0x31b*0xb+0x4877]['r'],arguments[-0x14a+0x985*-0x1+0xacf]['g'],arguments[0x1122+0x1633*-0x1+0x511*0x1]['b']):arguments['length']===-0x457*-0x2+-0xfcd+-0xb*-0xa6&&this['_color']['set'](arguments[0xf*0x285+-0x156f+-0x105c],arguments[-0x12*-0x1a1+-0x7*0xf1+-0x16ba],arguments[0x1018+0x757*-0x2+-0x168]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x2a954d=>{_0x2a954d['hasLight'](this)&&_0x2a954d['markLights'+'Dirty']();});}['updateKey'](){let _0x1f1252=this['_type']<<0x40*-0x96+-0xc88+0xb*0x48f|this['_shadowTyp'+'e']<<-0xb9d*-0x3+0x641*0x4+0x1de1*-0x2|this['_falloffMo'+'de']<<0x2*0x1b7+-0x10c8+-0xd71*-0x1|(this['_normalOff'+'setBias']!==0x119b*-0x1+-0x15d*-0x8+-0x157*-0x5?-0xb10+0x12ef*-0x1+0x1e00:-0x6*-0x64b+0x2146+0x8*-0x8e1)<<0x2515+0x480+-0x297f|(this['_cookie']?0x79*0x29+0x19*0x5c+-0x1c5c:0x83c+0x95e+-0x119a)<<0x1056+0x151*0x17+0x4*-0xba2|(this['_cookieFal'+'loff']?-0x1*0x1787+0x1da6+-0x61e:-0x1ffd+-0x173d+-0x1*-0x373a)<<-0x1020+-0x1584+-0x88*-0x47|Ud[this['_cookieCha'+'nnel']['charAt'](-0x103f*0x1+0x3*-0x641+-0x2*-0x1181)]<<0xb39+-0x1f*0x71+0x288|(this['_cookieTra'+'nsform']?0x1*0x1d81+0x2460+0x220*-0x1f:0x1*-0x143b+-0x1867*0x1+0x2ca2)<<-0x1*-0x1b59+0x1*-0x23a7+0x42d*0x2|this['_shape']<<0x1524*-0x1+-0x20c1+-0x35ef*-0x1|(this['numCascade'+'s']>-0x109+-0xc34*0x1+0xd3d?-0x1d*0x1c+0x3b*0x36+-0x945:0x5*-0x3dc+0x2204+0x3ae*-0x4)<<0x1f3a+0x10*0x235+0x4281*-0x1|(this['_cascadeBl'+'end']>-0x1*-0x1b85+-0x22*0x8+-0x1a75*0x1?-0x6*-0x346+-0xd40+-0x663:0x8*0x377+0x2079+-0x3c31)<<0x2*0x502+-0x805+-0x1f7|(this['affectSpec'+'ularity']?0x1962+-0x49a+-0x14c7:-0xd1*-0x3+-0x29a*-0x9+0x3*-0x89f)<<-0x2131+-0x2038+0x4170|this['mask']<<0x13ad*-0x1+-0xa27+-0x1dda*-0x1|(this['_castShado'+'ws']?0x11b6+0x3e1+0x266*-0x9:0xce0*0x2+-0x44+-0x197c)<<-0x4*-0x168+-0x16a*0xb+0x9f1;this['_cookieCha'+'nnel']['length']===0x1b0d+0x349+-0x455*0x7&&(_0x1f1252|=Ud[this['_cookieCha'+'nnel']['charAt'](-0x5*0x191+-0x1*-0x1c9+0x1*0x60d)]<<-0x1*0x1416+0x1*-0x3b3+0x17d9,_0x1f1252|=Ud[this['_cookieCha'+'nnel']['charAt'](-0x1*-0x2509+0x3*-0x17d+0x8*-0x412)]<<-0x13*0x1b7+-0x23a8+0x444b),_0x1f1252!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x1f1252;}}class L0{constructor(_0x597d9a,_0x106460,_0x1281bf){c(this,'_areaLight'+'sEnabled',!(0x4a5+-0x16f*-0x12+-0x1e72)),c(this,'_cells',new T(0x1d62+0x23cf+0x4127*-0x1,0x1de+-0x2091*0x1+-0x1*-0x1eb6,-0x1*0x9d3+-0x11f3*-0x1+-0x8a*0xf)),c(this,'_maxLights'+'PerCell',0xd63+0x2*-0x98b+-0x359*-0x2),c(this,'_shadowsEn'+'abled',!(0x2170+0xc08+-0x8*0x5af)),c(this,'_shadowTyp'+'e',Dt),c(this,'_shadowAtl'+'asResoluti'+'on',-0x2578+0x108b+-0x1ced*-0x1),c(this,'_cookiesEn'+'abled',!(0x1*-0x7b6+0x21e6+-0x1a2f)),c(this,'_cookieAtl'+'asResoluti'+'on',-0x6*-0x3c9+-0x31+-0xe85),c(this,'debugLayer'),c(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x597d9a,this['_maxTextur'+'eSize']=_0x106460,this['_dirtyLigh'+'tsFnc']=_0x1281bf);}['applySetti'+'ngs'](_0x207183){this['shadowsEna'+'bled']=_0x207183['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x207183['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x207183['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x207183['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x207183['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x207183['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x207183['lightingSh'+'adowType']??this['shadowType'],_0x207183['lightingCe'+'lls']&&(this['cell']=new T(_0x207183['lightingCe'+'lls']));}set['cells'](_0x29374a){this['_cells']['copy'](_0x29374a);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x4f32f6){this['_maxLights'+'PerCell']=N['clamp'](_0x4f32f6,0xf4*-0x1+-0x2b*0x5+0x1cc,0x26d7+-0x9da+0x2*-0xdff);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x27b1f8){this['_cookieAtl'+'asResoluti'+'on']=N['clamp'](_0x27b1f8,0xe8f*0x2+-0x1*-0x1915+-0x6d*0x7f,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x355516){this['_shadowAtl'+'asResoluti'+'on']=N['clamp'](_0x355516,0x1*0x110c+0x10c2+-0x10d7*0x2,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x8d3218){this['_shadowTyp'+'e']!==_0x8d3218&&(this['_shadowTyp'+'e']=_0x8d3218,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x4d0c95){this['_cookiesEn'+'abled']!==_0x4d0c95&&(this['_cookiesEn'+'abled']=_0x4d0c95,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x187215){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x187215&&(this['_areaLight'+'sEnabled']=_0x187215,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x5c2826){this['_shadowsEn'+'abled']!==_0x5c2826&&(this['_shadowsEn'+'abled']=_0x5c2826,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}const jM='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20',YM=new _t(!(-0x40c+0x30a*-0x1+0x2*0x38b),Lt,at,at);class fn{constructor(_0x2212a3){c(this,'shaderCach'+'e',[]),(this['morph']=_0x2212a3,_0x2212a3['incRefCoun'+'t'](),this['device']=_0x2212a3['device'],this['_weights']=[],this['_weightMap']=new Map());for(let _0x596443=-0x1502+-0x16a+-0x14*-0x11f;_0x596443<_0x2212a3['_targets']['length'];_0x596443++){const _0x25b041=_0x2212a3['_targets'][_0x596443];_0x25b041['name']&&this['_weightMap']['set'](_0x25b041['name'],_0x596443),this['setWeight'](_0x596443,_0x25b041['defaultWei'+'ght']);}this['_activeTar'+'gets']=[],this['maxSubmitC'+'ount']=this['device']['maxTexture'+'s'],this['_shaderMor'+'phWeights']=new Float32Array(this['maxSubmitC'+'ount']);const _0x3ae8e7=(_0x436d47,_0x8eb446)=>(this[_0x8eb446]=_0x2212a3['_createTex'+'ture'](_0x436d47,_0x2212a3['_renderTex'+'tureFormat']),new pt({'colorBuffer':this[_0x8eb446],'depth':!(0x22*0x53+-0x1060*0x1+0x55b)}));_0x2212a3['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x3ae8e7('MorphRTPos','texturePos'+'itions')),_0x2212a3['morphNorma'+'ls']&&(this['rtNormals']=_0x3ae8e7('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x2212a3['morphTextu'+'reWidth'],_0x2212a3['morphTextu'+'reHeight']]);const _0x26f323=_0x2212a3['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x26f323['x']*(0x23*-0x109+0x1a9e*-0x1+-0x8fb*-0x7),_0x26f323['y']*(-0x1*-0x1985+0x105*0x3+0x8*-0x392),_0x26f323['z']*(-0x79*0x37+-0x16*0x1bf+0x406d)]);const _0x5c1e53=_0x2212a3['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x5c1e53['x']*(-0x1b52+-0x1958*-0x1+0x1fc),_0x5c1e53['y']*(-0x173c*-0x1+0x6f+-0x2a1*0x9),_0x5c1e53['z']*(0x4af+0xa5d+-0xf0a)]),this['_aabbNrmSi'+'ze']=new Float32Array([-0xe21+0x6b2+-0x3*-0x27b,0x2012*0x1+-0x4a*-0x47+-0x3496,0x1154+-0x174f+0x3*0x1ff]),this['_aabbNrmMi'+'n']=new Float32Array([-(0x33d+0x1765+-0x1aa1),-(0x1*0x1d58+-0xc51+-0x2*0x883),-(0x2d1*0x3+0x12bc+-0x1b2e)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin');for(let _0x58785e=-0x1ea2+-0xd1*-0x22+0x17*0x20;_0x58785e<this['maxSubmitC'+'ount'];_0x58785e++)this['morphBlend'+'Tex'+_0x58785e]=this['device']['scope']['resolve']('morphBlend'+'Tex'+_0x58785e);this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['zeroTextur'+'es']=!(0xb5c+-0x9a0+-0x1bb);}['destroy'](){this['shader']=null;const _0x52dc54=this['morph'];_0x52dc54&&(this['morph']=null,_0x52dc54['decRefCoun'+'t'](),_0x52dc54['refCount']<0x668*-0x6+0x2094+-0x13*-0x4f&&_0x52dc54['destroy']()),this['rtPosition'+'s']&&(this['rtPosition'+'s']['destroy'](),this['rtPosition'+'s']=null),this['texturePos'+'itions']&&(this['texturePos'+'itions']['destroy'](),this['texturePos'+'itions']=null),this['rtNormals']&&(this['rtNormals']['destroy'](),this['rtNormals']=null),this['textureNor'+'mals']&&(this['textureNor'+'mals']['destroy'](),this['textureNor'+'mals']=null);}['clone'](){return new fn(this['morph']);}['_getWeight'+'Index'](_0x8b86ba){if(typeof _0x8b86ba=='string'){const _0x5abb85=this['_weightMap']['get'](_0x8b86ba);return _0x5abb85===void(0x1169*-0x1+0x20fd+-0xf94)&&v['error']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x8b86ba+'.'),_0x5abb85;}return _0x8b86ba;}['getWeight'](_0x31bccb){const _0x74bdda=this['_getWeight'+'Index'](_0x31bccb);return this['_weights'][_0x74bdda];}['setWeight'](_0x2597a4,_0x3f1a46){const _0x5662fc=this['_getWeight'+'Index'](_0x2597a4);v['assert'](_0x5662fc>=0xc*0xe+-0x2f7+-0x3*-0xc5&&_0x5662fc<this['morph']['_targets']['length']),this['_weights'][_0x5662fc]=_0x3f1a46,this['_dirty']=!(0xeb*-0xb+0x1a45+0x14*-0xcf);}['_getFragme'+'ntShader'](_0x59d2bb){let _0x38fe53='',_0x113658='';for(let _0x326dfc=0x5ef+0x1*-0xdb1+-0x1*-0x7c2;_0x326dfc<_0x59d2bb;_0x326dfc++)_0x38fe53+='uniform\x20hi'+'ghp\x20sample'+'r2D\x20morphB'+'lendTex'+_0x326dfc+';',_0x113658+='color.xyz\x20'+'+=\x20morphFa'+'ctor['+_0x326dfc+(']\x20*\x20textur'+'e2D(morphB'+'lendTex')+_0x326dfc+(',\x20uv0).xyz'+';');return'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20'+(this['morph']['intRenderF'+'ormat']?'#define\x20MO'+'RPH_INT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x59d2bb>0x24*0x1+-0x10bf+0x109b?'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r['+_0x59d2bb+'];':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+_0x38fe53+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPH_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec3\x20'+'aabbSize;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'void\x20main\x20'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20highp'+'\x20vec4\x20colo'+'r\x20=\x20vec4(0'+',\x200,\x200,\x201)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x113658+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'.xyz\x20=\x20(co'+'lor.xyz\x20-\x20'+'aabbMin)\x20/'+'\x20aabbSize\x20'+'*\x2065535.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20uvec'+'4(color);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20col'+'or;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['_getShader'](_0x54b9a0){let _0x5bc875=this['shaderCach'+'e'][_0x54b9a0];if(!_0x5bc875){const _0x59df1c=this['_getFragme'+'ntShader'](_0x54b9a0),_0x3b07c2=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';_0x5bc875=Is(this['device'],jM,_0x59df1c,'textureMor'+'ph'+_0x54b9a0,void(-0x1*0xba6+0x2*0x616+0x2*-0x43),{'fragmentOutputTypes':[_0x3b07c2]}),this['shaderCach'+'e'][_0x54b9a0]=_0x5bc875;}return _0x5bc875;}['_updateTex'+'tureRender'+'Target'](_0xf70174,_0x15eba0,_0x1dfee4){const _0x15dbd2=this['device'],_0x372f4e=(_0x2c3db8,_0x38bb7b)=>{this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),_0x15dbd2['setBlendSt'+'ate'](_0x38bb7b?YM:_t['NOBLEND']);const _0x4cca46=this['_getShader'](_0x2c3db8);dn(_0x15dbd2,_0xf70174,_0x4cca46);};this['setAabbUni'+'forms'](_0x1dfee4);let _0xfb51de=-0xb92+-0x1379+0x1*0x1f0b,_0x25cf6a=!(-0x20c9+-0x1*-0x1111+0x19*0xa1);const _0x20cb7f=this['_activeTar'+'gets']['length'];for(let _0x301b96=0x22cf+0x1ac2+0x1*-0x3d91;_0x301b96<_0x20cb7f;_0x301b96++){const _0x2018c0=this['_activeTar'+'gets'][_0x301b96],_0xd7eb41=_0x2018c0['target'][_0x15eba0];_0xd7eb41&&(this['morphBlend'+'Tex'+_0xfb51de]['setValue'](_0xd7eb41),this['_shaderMor'+'phWeights'][_0xfb51de]=_0x2018c0['weight'],_0xfb51de++,_0xfb51de>=this['maxSubmitC'+'ount']&&(_0x372f4e(_0xfb51de,_0x25cf6a),_0xfb51de=0x1*-0xc5f+0x43*-0x33+0x19b8,_0x25cf6a=!(0x4b6+-0xb89+-0x6d3*-0x1)));}(_0xfb51de>0x185d+-0x1*-0x1f81+0x2*-0x1bef||_0x20cb7f===-0x876+-0x597+0xe0d&&!this['zeroTextur'+'es'])&&_0x372f4e(_0xfb51de,_0x25cf6a);}['_updateTex'+'tureMorph'](){const _0x2597a7=this['device'];G['pushGpuMar'+'ker'](_0x2597a7,'MorphUpdat'+'e'),(this['_activeTar'+'gets']['length']>0x1*0x1f99+-0x158+-0x1*0x1e41||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],'texturePos'+'itions',!(0x6*0x2c2+-0x1b4*-0x4+-0x14*0x12b)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],'textureNor'+'mals',!(-0x3*-0x989+-0x1584+-0x2*0x38b)),this['zeroTextur'+'es']=this['_activeTar'+'gets']['length']===0x1*-0x1b19+-0x22df*0x1+0x3df8),G['popGpuMark'+'er'](_0x2597a7);}['setAabbUni'+'forms'](_0x33d2f9=!(0x31*0x6f+0x139a+-0x1*0x28d9)){this['aabbSizeId']['setValue'](_0x33d2f9?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x33d2f9?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0xe2edd9){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(0x169+-0x3eb+0x283);const _0x429bfd=this['morph']['_targets'];let _0x4e38bd=0x19c7*0x1+-0x2d5+-0x16f2;const _0x318dc2=-0x35*-0x1a+-0x1*-0x26f5+-0x2c57+0.00001;for(let _0x1c2cc4=0x2*0x35f+0xc07+-0x12c5;_0x1c2cc4<_0x429bfd['length'];_0x1c2cc4++){const _0x326b49=Math['abs'](this['getWeight'](_0x1c2cc4));if(_0x326b49>_0x318dc2){this['_activeTar'+'gets']['length']<=_0x4e38bd&&(this['_activeTar'+'gets'][_0x4e38bd]={});const _0x8c8b72=this['_activeTar'+'gets'][_0x4e38bd++];_0x8c8b72['absWeight']=_0x326b49,_0x8c8b72['weight']=this['getWeight'](_0x1c2cc4),_0x8c8b72['target']=_0x429bfd[_0x1c2cc4];}}this['_activeTar'+'gets']['length']=_0x4e38bd,this['morph']['intRenderF'+'ormat']&&this['_activeTar'+'gets']['length']>this['maxSubmitC'+'ount']&&(this['_activeTar'+'gets']['sort']((_0x510a9e,_0x1f24cc)=>_0x510a9e['absWeight']<_0x1f24cc['absWeight']?0xfb2+-0x20da+-0x17*-0xbf:_0x1f24cc['absWeight']<_0x510a9e['absWeight']?-(-0x3*0xbdc+0x1c*-0xef+-0x3*-0x1493):0x13b6+-0x1*-0xe1f+-0x21d5),this['_activeTar'+'gets']['length']=this['maxSubmitC'+'ount']),this['_updateTex'+'tureMorph']();}}class Oi{constructor(){c(this,'graph',null),c(this,'meshInstan'+'ces',[]),c(this,'skinInstan'+'ces',[]),c(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=-0x17af+-0x2605+0x3db4,this['_immutable']=!(0x19fc+-0x107*-0x16+-0x3095*0x1));}['getGraph'](){return this['graph'];}['setGraph'](_0x3ecba0){this['graph']=_0x3ecba0;}['getCameras'](){return this['cameras'];}['setCameras'](_0x52f839){this['cameras']=_0x52f839;}['getLights'](){return this['lights'];}['setLights'](_0x38a2c4){this['lights']=_0x38a2c4;}['getMateria'+'ls'](){const _0x3d56ea=[];for(let _0x520ef0=-0x921+-0x1e76+-0x5*-0x7eb;_0x520ef0<this['meshInstan'+'ces']['length'];_0x520ef0++){const _0x1144bd=this['meshInstan'+'ces'][_0x520ef0];_0x3d56ea['indexOf'](_0x1144bd['material'])===-(-0x1758+0x22*-0x35+-0xa21*-0x3)&&_0x3d56ea['push'](_0x1144bd['material']);}return _0x3d56ea;}['clone'](){const _0x474de6=[],_0x489252=[],_0x178320=function(_0x6b2836){const _0x32c88=_0x6b2836['clone']();_0x474de6['push'](_0x6b2836),_0x489252['push'](_0x32c88);for(let _0x59e040=0x1a*-0x5e+0x18cf+-0xf43;_0x59e040<_0x6b2836['_children']['length'];_0x59e040++)_0x32c88['addChild'](_0x178320(_0x6b2836['_children'][_0x59e040]));return _0x32c88;},_0x2e9f5c=_0x178320(this['graph']),_0x4e9562=[],_0x9140=[],_0x329604=[];for(let _0x321eba=-0x27d+-0x1*-0xe33+-0x5db*0x2;_0x321eba<this['skinInstan'+'ces']['length'];_0x321eba++){const _0x260f37=this['skinInstan'+'ces'][_0x321eba]['skin'],_0x2c195c=new nl(_0x260f37),_0x2078a5=[];for(let _0x304dd9=0x61*0x1+-0xaee+-0x1*-0xa8d;_0x304dd9<_0x260f37['boneNames']['length'];_0x304dd9++){const _0x5fa597=_0x260f37['boneNames'][_0x304dd9],_0x3a9850=_0x2e9f5c['findByName'](_0x5fa597);_0x2078a5['push'](_0x3a9850);}_0x2c195c['bones']=_0x2078a5,_0x9140['push'](_0x2c195c);}for(let _0x4e0482=-0xa4d+0x201*-0x9+-0xe2b*-0x2;_0x4e0482<this['morphInsta'+'nces']['length'];_0x4e0482++){const _0x25926a=this['morphInsta'+'nces'][_0x4e0482]['morph'],_0x221029=new fn(_0x25926a);_0x329604['push'](_0x221029);}for(let _0x541659=-0x19*-0x113+0xe7b+-0x4a*0x8f;_0x541659<this['meshInstan'+'ces']['length'];_0x541659++){const _0x24493a=this['meshInstan'+'ces'][_0x541659],_0x496413=_0x474de6['indexOf'](_0x24493a['node']),_0x4b598a=new Le(_0x24493a['mesh'],_0x24493a['material'],_0x489252[_0x496413]);if(_0x24493a['skinInstan'+'ce']){const _0xf7d25d=this['skinInstan'+'ces']['indexOf'](_0x24493a['skinInstan'+'ce']);_0x4b598a['skinInstan'+'ce']=_0x9140[_0xf7d25d];}if(_0x24493a['morphInsta'+'nce']){const _0xb4d4b9=this['morphInsta'+'nces']['indexOf'](_0x24493a['morphInsta'+'nce']);_0x4b598a['morphInsta'+'nce']=_0x329604[_0xb4d4b9];}_0x4e9562['push'](_0x4b598a);}const _0x2a98f7=new Oi();return _0x2a98f7['graph']=_0x2e9f5c,_0x2a98f7['meshInstan'+'ces']=_0x4e9562,_0x2a98f7['skinInstan'+'ces']=_0x9140,_0x2a98f7['morphInsta'+'nces']=_0x329604,_0x2a98f7['getGraph']()['syncHierar'+'chy'](),_0x2a98f7;}['destroy'](){const _0x13f83d=this['meshInstan'+'ces'];for(let _0x1ba597=0xa84+-0x1dd6+0x1352;_0x1ba597<_0x13f83d['length'];_0x1ba597++)_0x13f83d[_0x1ba597]['destroy']();this['meshInstan'+'ces']['length']=-0xe5b+-0x7*0x39a+-0x2791*-0x1;}['generateWi'+'reframe'](){Le['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],Dr);}}class F0 extends Gc{constructor(_0x234783,_0x1f81c7,{preferHighPrecision:_0x3162bb=!(-0x201c+-0x1baf*0x1+0x4*0xef3)}={}){super(),c(this,'_aabb'),c(this,'preferHigh'+'Precision'),(v['assert'](_0x1f81c7,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x1f81c7,this['preferHigh'+'Precision']=_0x3162bb,v['assert'](_0x234783['every'](_0x217d8b=>!_0x217d8b['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x234783['slice']());const _0x51364f=this['device'],_0x2c966c=_0x51364f['textureHal'+'fFloatRend'+'erable']?Je:void(-0xe2*-0x1d+-0x9cb*-0x1+-0x2365),_0x12ec43=_0x51364f['textureFlo'+'atRenderab'+'le']?Ke:void(-0x1e56+0x987+0x14cf);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x12ec43??_0x2c966c:_0x2c966c??_0x12ec43,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??Ac,this['intRenderF'+'ormat']=ea(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Sc:Je,this['_init'](),this['_updateMor'+'phFlags']();}get['aabb'](){if(!this['_aabb']){const _0x29be6f=new T(),_0x277078=new T();for(let _0x103dfc=0x1c54+0x8c6*-0x1+-0x9c7*0x2;_0x103dfc<this['_targets']['length'];_0x103dfc++){const _0x50da0a=this['_targets'][_0x103dfc]['aabb'];_0x29be6f['min'](_0x50da0a['getMin']()),_0x277078['max'](_0x50da0a['getMax']());}this['_aabb']=new _e(),this['_aabb']['setMinMax'](_0x29be6f,_0x277078);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x19ac67=0x1632+-0x10a6+0x4*-0x163;_0x19ac67<this['_targets']['length'];_0x19ac67++)this['_targets'][_0x19ac67]['_postInit']();}['_findSpars'+'eSet'](_0x105ab8,_0x1c9eb9,_0x551b6e){let _0x102839=-0x392*0x4+0x1fc*-0x4+0x1639;const _0x2e2c4f=_0x105ab8[0x20fb*-0x1+-0x949*-0x2+-0x1*-0xe69]['length'];for(let _0x4d2a46=0xced+0x20fb*0x1+0xd*-0x388;_0x4d2a46<_0x2e2c4f;_0x4d2a46+=-0x223b+-0x1c7f+-0x3ebd*-0x1){let _0x368503=!(-0x110a+0x14d6+-0x3cb);for(let _0x2b552c=-0xdae+-0x3*-0x8f8+-0xd3a;_0x2b552c<_0x105ab8['length'];_0x2b552c++){const _0x2f24df=_0x105ab8[_0x2b552c];if(_0x2f24df[_0x4d2a46]!==0x45*0x13+-0x35*-0xb6+-0x2acd*0x1||_0x2f24df[_0x4d2a46+(-0xef*0x17+0x1*-0x7+0x1581)]!==-0x1a1f+-0x4*-0x8bd+0x11*-0x85||_0x2f24df[_0x4d2a46+(-0x269a+0x1a15+-0x3*-0x42d)]!==-0x1*0x102d+0x27*0x2b+0x9a0){_0x368503=!(0x3*0xcf7+-0x1741+0x4d*-0x34);break;}}_0x368503?(_0x1c9eb9['push'](_0x102839),_0x551b6e['push'](_0x4d2a46/(-0x17dd+0x6bd+-0x29*-0x6b)),_0x102839++):_0x1c9eb9['push'](-0x1*-0xc50+0x1f4d+-0x2b9d);}return _0x102839;}['_initTextu'+'reBased'](){const _0x554b72=[],_0x1b87bb=[];for(let _0x9cee05=-0x13d0+0x957+0xa79;_0x9cee05<this['_targets']['length'];_0x9cee05++){const _0x1b5f64=this['_targets'][_0x9cee05];_0x1b5f64['options']['deltaPosit'+'ions']&&(_0x554b72['push'](_0x1b5f64['options']['deltaPosit'+'ions']),_0x1b87bb['push']({'target':_0x1b5f64,'name':'texturePos'+'itions'})),_0x1b5f64['options']['deltaNorma'+'ls']&&(_0x554b72['push'](_0x1b5f64['options']['deltaNorma'+'ls']),_0x1b87bb['push']({'target':_0x1b5f64,'name':'textureNor'+'mals'}));}const _0xd092e7=[],_0x1a03b1=[],_0x1b14c7=this['_findSpars'+'eSet'](_0x554b72,_0xd092e7,_0x1a03b1),_0x3fa42e=this['device']['maxTexture'+'Size'];let _0x2e17d5=Math['ceil'](Math['sqrt'](_0x1b14c7));_0x2e17d5=Math['min'](_0x2e17d5,_0x3fa42e);const _0x42495e=Math['ceil'](_0x1b14c7/_0x2e17d5);if(_0x42495e>_0x3fa42e)return!(-0x6*-0x180+0x825+-0x2*0x892);this['morphTextu'+'reWidth']=_0x2e17d5,this['morphTextu'+'reHeight']=_0x42495e;let _0x4907f1=!(-0x1be3+0x860+0x1384),_0x439572=0x209*0x1+0x131e+-0x1524;const _0x378056=Wt['float2Half'];this['_textureFo'+'rmat']===Je&&(_0x4907f1=!(-0x1905+0x1722+0x1e3),_0x439572=0xd*0x239+0x7*-0x17b+-0x1284);const _0x4a6f1e=[];for(let _0x358e0a=-0xb53+-0x1cf1+0x2844;_0x358e0a<_0x554b72['length'];_0x358e0a++)_0x4a6f1e['push'](this['_createTex'+'ture']('MorphTarge'+'t',this['_textureFo'+'rmat']));for(let _0x104cbc=0x247+-0xc74+0x5*0x209;_0x104cbc<_0x554b72['length'];_0x104cbc++){const _0x5b0d23=_0x554b72[_0x104cbc],_0x83028c=_0x4a6f1e[_0x104cbc],_0x451992=_0x83028c['lock']();if(_0x4907f1)for(let _0x29747e=-0x2463+-0xf6d+-0x2*-0x19e8;_0x29747e<_0x1a03b1['length'];_0x29747e++){const _0x450b8c=_0x1a03b1[_0x29747e]*(-0x3f0+0x12be+0xecb*-0x1),_0x2f99e4=_0x29747e*_0x439572+_0x439572;_0x451992[_0x2f99e4]=_0x378056(_0x5b0d23[_0x450b8c]),_0x451992[_0x2f99e4+(0x1682+0x2f*-0x65+-0x3f6)]=_0x378056(_0x5b0d23[_0x450b8c+(0x1*-0x160c+0xa52+0xbbb)]),_0x451992[_0x2f99e4+(-0x1*-0x105b+-0x7*-0x2f5+-0x250c)]=_0x378056(_0x5b0d23[_0x450b8c+(-0x3d7*0x2+0x89*0x4+-0x2*-0x2c6)]);}else for(let _0x1f8533=0x111d+-0x1839+0x71c;_0x1f8533<_0x1a03b1['length'];_0x1f8533++){const _0x4c94c2=_0x1a03b1[_0x1f8533]*(-0x2*0x346+0xb71*0x1+-0x4e2),_0x559ed4=_0x1f8533*_0x439572+_0x439572;_0x451992[_0x559ed4]=_0x5b0d23[_0x4c94c2],_0x451992[_0x559ed4+(-0x1*-0xf4f+0x335*-0x1+-0xc19)]=_0x5b0d23[_0x4c94c2+(0x1*0x138e+0x975+-0x1d02)],_0x451992[_0x559ed4+(-0x1*-0x577+-0x15*-0x17d+-0x24b6)]=_0x5b0d23[_0x4c94c2+(-0x1e47+-0xc92*-0x1+0x11b7)];}_0x83028c['unlock'](),_0x1b87bb[_0x104cbc]['target']['_setTextur'+'e'](_0x1b87bb[_0x104cbc]['name'],_0x83028c);}const _0x13c927=[{'semantic':ya,'components':0x1,'type':Do,'asInt':!(-0x1574+-0x92*0x25+0x2a8e)}];return this['vertexBuff'+'erIds']=new os(this['device'],new Et(this['device'],_0x13c927,_0xd092e7['length']),_0xd092e7['length'],{'data':new Uint32Array(_0xd092e7)}),!(0x1f2f+-0xbe3+0x5*-0x3dc);}['destroy'](){var _0x25199d;(_0x25199d=this['vertexBuff'+'erIds'])==null||_0x25199d['destroy'](),this['vertexBuff'+'erIds']=null;for(let _0x468bf3=0x29f*-0x6+0xb6*-0x20+0x3d9*0xa;_0x468bf3<this['_targets']['length'];_0x468bf3++)this['_targets'][_0x468bf3]['destroy']();this['_targets']['length']=0x6ba+0x1*0x1525+0x1bdf*-0x1;}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(0x16ed+-0x74b*-0x3+-0x2ccd),this['_morphNorm'+'als']=!(0x62c+0x32*0xb+-0x851);for(let _0x388872=-0x333+0x3c6+-0x7*0x15;_0x388872<this['_targets']['length'];_0x388872++){const _0x4ce0e2=this['_targets'][_0x388872];_0x4ce0e2['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(0x551*0x1+0x204d*-0x1+0x1afc)),_0x4ce0e2['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(-0x3*0x1df+0xb*-0x152+0x1423));}}['_createTex'+'ture'](_0x173e25,_0x4da884){return new he(this['device'],{'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x4da884,'cubemap':!(-0x26*-0x100+0xe4*0x27+0x2b*-0x1b1),'mipmaps':!(-0x5*0x50c+0xe5*0xa+-0x104b*-0x1),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x173e25});}}class Qc{constructor(_0xa1b6a9){c(this,'used',!(0x1*0x917+-0x1*-0x6fa+-0x1010)),(v['assert'](arguments['length']===0x1fc+0x17*0x1+-0x212),this['options']=_0xa1b6a9,this['_name']=_0xa1b6a9['name'],this['_defaultWe'+'ight']=_0xa1b6a9['defaultWei'+'ght']||-0x1397+0x25a7*-0x1+-0x1af*-0x22,this['_aabb']=_0xa1b6a9['aabb'],this['deltaPosit'+'ions']=_0xa1b6a9['deltaPosit'+'ions']);}['destroy'](){var _0x489a7f,_0x5f5d09;(_0x489a7f=this['texturePos'+'itions'])==null||_0x489a7f['destroy'](),this['texturePos'+'itions']=null,(_0x5f5d09=this['textureNor'+'mals'])==null||_0x5f5d09['destroy'](),this['textureNor'+'mals']=null;}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new _e(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}get['morphPosit'+'ions'](){return!!this['texturePos'+'itions'];}get['morphNorma'+'ls'](){return!!this['textureNor'+'mals'];}['clone'](){return v['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Qc(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(0x3f*0x9d+-0x27*-0x43+0x824*-0x6);}['_setTextur'+'e'](_0x4b2e53,_0x1fce9c){this[_0x4b2e53]=_0x1fce9c;}}let si,v_=-0x1*-0x267d+0x41e+0x26*-0x11f;const ie=-0x691+-0x239*0x9+0x1a96,Vd=new q(),Gd=new q(),ks=new T(),ze=new T(),ps=new T(),Rn=new T(),Nt=new T(),Ze=new T(),In=new T(),Dn=new T(),Ka=new T(),b_=new T(),vt=new T(),Bl=new T(),wr=new T();function ia(_0x4f4e9b){return _0x4f4e9b-Math['floor'](_0x4f4e9b);}function KM(_0x49e7e8){return Math['max'](Math['min'](_0x49e7e8,-0x5*0x277+-0x1*-0x12b+0xb29),0x984+-0x1899*0x1+0xf15);}function Hd(_0x1f55d4,_0x44a959){return _0x1f55d4-_0x44a959*Math['floor'](_0x1f55d4/_0x44a959);}function ZM(_0x521aa6){let _0x3c33a6=ia(_0x521aa6),_0x573e9f=ia((-0x7e7*-0x4+0x4a9*-0x2+-0x154b)*_0x521aa6),_0x578837=ia((-0x3d*-0x587+-0x11ba2+0xc878)*_0x521aa6),_0x36eb76=ia((0xa39731c+0x3eb5b33+0xa*-0x750d88)*_0x521aa6);return _0x3c33a6-=_0x573e9f/(-0x229c+0x1073*-0x1+0x340e),_0x573e9f-=_0x578837/(-0x11c5+-0x6*-0x5a9+-0xf32),_0x578837-=_0x36eb76/(0xd7*-0x2b+-0x2e7*0x1+-0x2803*-0x1),_0x36eb76-=_0x36eb76/(-0x195*0x4+0x1497+-0xd44),[_0x3c33a6,_0x573e9f,_0x578837,_0x36eb76];}function Nl(_0x19c035){let _0xbb98a0=ia(_0x19c035),_0x3b70d4=ia((-0x1848+0xde3+0xb64)*_0x19c035);return _0xbb98a0-=_0x3b70d4/(0x1*-0x5dd+0x435+-0x61*-0x7),_0x3b70d4-=_0x3b70d4/(-0x2c2+0x15f1+-0x1230),[_0xbb98a0,_0x3b70d4];}class QM{constructor(_0x1453f3){this['_emitter']=_0x1453f3;}['calcSpawnP'+'osition'](_0x45bd09,_0x50f5cf,_0x491423,_0x37a302,_0x2056e){const _0x1322aa=this['_emitter'],_0x4a4962=Math['random'](),_0x43dd39=Math['random'](),_0x5dc06c=Math['random'](),_0x26cf5b=Math['random']();if(_0x1322aa['useCpu']&&(_0x45bd09[_0x2056e*ie+(-0xf8d+-0x39d*0x4+-0x1e01*-0x1)+_0x1322aa['numParticl'+'esPot']*(0x18ca*0x1+0x1b0e+-0x33d6)*ie]=_0x4a4962,_0x45bd09[_0x2056e*ie+(-0xc2+-0xb0*0x7+0x593)+_0x1322aa['numParticl'+'esPot']*(0x1203+0x15f2+-0x27f3)*ie]=_0x43dd39,_0x45bd09[_0x2056e*ie+(0x1dfd+-0x2b*0x6d+0x53*-0x24)+_0x1322aa['numParticl'+'esPot']*(0x9aa+0xee6*-0x2+-0x509*-0x4)*ie]=_0x5dc06c),ze['x']=_0x4a4962-(-0x6a5+-0x39*0x49+-0xb73*-0x2+0.5),ze['y']=_0x43dd39-(0x1bd9+-0x1*0x2357+0x77e+0.5),ze['z']=_0x5dc06c-(0x1e8b+-0x107e+-0xe0d+0.5),_0x1322aa['emitterSha'+'pe']===Vs){const _0xf331b0=Math['max'](Math['abs'](ze['x']),Math['max'](Math['abs'](ze['y']),Math['abs'](ze['z']))),_0x54ef68=_0xf331b0+(0x47*-0x55+0xc1*0x14+0x87f+0.5-_0xf331b0)*_0x491423[0x17ba+-0x1acf+0x315],_0x73ef7e=_0xf331b0+(0xb*0x59+0x18dc+-0x1caf+0.5-_0xf331b0)*_0x491423[-0x144a+-0x51b*0x5+0x2dd2],_0x177b14=_0xf331b0+(0x1a19+0x46b+-0x1e84+0.5-_0xf331b0)*_0x491423[-0x2493*-0x1+-0x1e8e+-0x13*0x51];ze['x']=_0x54ef68*(_0xf331b0===Math['abs'](ze['x'])?Math['sign'](ze['x']):(0x4fd*-0x1+-0xe4b*-0x1+0x8c*-0x11)*ze['x']),ze['y']=_0x73ef7e*(_0xf331b0===Math['abs'](ze['y'])?Math['sign'](ze['y']):(-0x2089+-0x26*0xaf+0xd3*0x47)*ze['y']),ze['z']=_0x177b14*(_0xf331b0===Math['abs'](ze['z'])?Math['sign'](ze['z']):(-0x1d*0x3d+-0xe2e+-0x1519*-0x1)*ze['z']),_0x1322aa['localSpace']?ks['copy'](_0x50f5cf['transformP'+'oint'](ze)):ks['copy'](_0x37a302)['add'](_0x50f5cf['transformP'+'oint'](ze));}else{ze['normalize']();const _0x42cbc8=_0x1322aa['emitterRad'+'ius']===-0x1dad+-0x2*-0x628+0x115d*0x1?-0x24a1+-0x26*0x60+0x32e1:_0x1322aa['emitterRad'+'iusInner']/_0x1322aa['emitterRad'+'ius'],_0x2bd6ba=_0x26cf5b*(0x1c75+-0x1*-0x1f76+0x1*-0x3bea-_0x42cbc8)+_0x42cbc8;_0x1322aa['localSpace']?ks['copy'](ze['mulScalar'](_0x2bd6ba*_0x1322aa['emitterRad'+'ius'])):ks['copy'](_0x37a302)['add'](ze['mulScalar'](_0x2bd6ba*_0x1322aa['emitterRad'+'ius']));}let _0x1a2dd3=-N['lerp'](_0x1322aa['rate'],_0x1322aa['rate2'],_0x4a4962)*_0x2056e;if(_0x1322aa['pack8']){const _0x3c7ab9=(ks['x']-_0x1322aa['worldBound'+'s']['center']['x'])/_0x1322aa['worldBound'+'sSize']['x']+(-0x1*-0x24f5+-0x1ff2+-0x503+0.5),_0x19014d=(ks['y']-_0x1322aa['worldBound'+'s']['center']['y'])/_0x1322aa['worldBound'+'sSize']['y']+(0x2*-0x6f0+-0x36*0xd+0x58a*0x3+0.5),_0x321085=(ks['z']-_0x1322aa['worldBound'+'s']['center']['z'])/_0x1322aa['worldBound'+'sSize']['z']+(0xe*0x204+0xbe5+0x281d*-0x1+0.5);let _0x312dbc=N['lerp'](_0x1322aa['startAngle']*N['DEG_TO_RAD'],_0x1322aa['startAngle'+'2']*N['DEG_TO_RAD'],_0x4a4962);_0x312dbc=_0x312dbc%(Math['PI']*(0x20fe+-0x53*-0x71+-0x459f))/(Math['PI']*(0x11*0x17a+-0x33*-0x7+-0x1a7d*0x1));const _0x9f1c66=Nl(_0x3c7ab9);_0x45bd09[_0x2056e*ie]=_0x9f1c66[0x2008+-0x19b4+-0x654],_0x45bd09[_0x2056e*ie+(-0x24b7+-0x2*0xe96+-0x41e4*-0x1)]=_0x9f1c66[-0x2381+-0x1*-0x1d3a+-0x3*-0x218];const _0x46e0ed=Nl(_0x19014d);_0x45bd09[_0x2056e*ie+(0xb7b*-0x3+-0x1237+0x34aa)]=_0x46e0ed[0x5c5*-0x1+0xfb*-0x25+0x2a0c],_0x45bd09[_0x2056e*ie+(-0x113c+-0x1163+-0x155*-0x1a)]=_0x46e0ed[0x1d*0x107+-0x6e8+-0x16e2];const _0x551212=Nl(_0x321085);_0x45bd09[_0x2056e*ie+(-0xa33*-0x1+0x2*0x1165+-0x21*0x15d)+_0x1322aa['numParticl'+'esPot']*ie]=_0x551212[0x2*0x70c+0x1f6f*0x1+-0x69*0x6f],_0x45bd09[_0x2056e*ie+(-0x231e+0xfb*0x1d+-0x2*-0x358)+_0x1322aa['numParticl'+'esPot']*ie]=_0x551212[-0x11*0x179+0x386*0x5+0x76c];const _0x597d77=Nl(_0x312dbc);_0x45bd09[_0x2056e*ie+(-0x2*-0xc07+0x13ab+-0x1f*0x169)+_0x1322aa['numParticl'+'esPot']*ie]=_0x597d77[-0x62b*0x6+0x1414+0x10ee],_0x45bd09[_0x2056e*ie+(0x3a9*0x1+-0x179*-0x6+-0x4*0x31f)+_0x1322aa['numParticl'+'esPot']*ie]=_0x597d77[-0xd*0x1f2+-0xc41+0x258c];const _0x5a8a5e=-0x2*0xd79+-0x1*0x90b+0x23fe;_0x45bd09[_0x2056e*ie+(0x464+-0x248e+0x202d)+_0x1322aa['numParticl'+'esPot']*ie*(0xc2a+-0x2215+0x1*0x15ed)]=_0x5a8a5e;const _0x247618=Math['max'](_0x1322aa['lifetime'],(_0x1322aa['numParticl'+'es']-(-0x265*0x6+0x2478+-0x1*0x1619))*Math['max'](_0x1322aa['rate'],_0x1322aa['rate2'])),_0x322acd=_0x1322aa['lifetime']+(0x24f3+-0x197*-0xf+-0x1*0x3ccb);_0x1a2dd3=(_0x1a2dd3+_0x247618)/(_0x247618+_0x322acd);const _0x22ea3e=ZM(_0x1a2dd3);_0x45bd09[_0x2056e*ie+(-0x30d*0x1+0x1*0x2367+-0x205a)+_0x1322aa['numParticl'+'esPot']*ie*(0x35*-0x15+0x11fe+-0xda2)]=_0x22ea3e[0x1*0x6f5+-0x1*-0xceb+-0x3*0x6a0],_0x45bd09[_0x2056e*ie+(-0x1*0xedb+0x39f*-0x1+0x127b)+_0x1322aa['numParticl'+'esPot']*ie*(-0x17b4+-0x70*0x59+0x3ea7)]=_0x22ea3e[0xe3a+0xdd6+-0xb*0x28d],_0x45bd09[_0x2056e*ie+(-0xef*-0x16+-0xd*-0x123+-0x234f)+_0x1322aa['numParticl'+'esPot']*ie*(-0x22*0xac+0xb60+-0x1*-0xb7b)]=_0x22ea3e[0x148b+0x176f*-0x1+0x6a*0x7],_0x45bd09[_0x2056e*ie+(0x222*-0x9+-0xf92+0x22c7*0x1)+_0x1322aa['numParticl'+'esPot']*ie*(-0x1f06+0x1fca+-0xc1)]=_0x22ea3e[-0x1*0x2538+0x3*-0x6f1+0x1*0x3a0e];}else _0x45bd09[_0x2056e*ie]=ks['x'],_0x45bd09[_0x2056e*ie+(-0x72*0xc+0x153*0xa+-0x7e5)]=ks['y'],_0x45bd09[_0x2056e*ie+(-0x1365+0xb*-0x21b+0x2a9*0x10)]=ks['z'],_0x45bd09[_0x2056e*ie+(0xf2*-0x29+-0x1*-0x24e4+0x1e1)]=N['lerp'](_0x1322aa['startAngle']*N['DEG_TO_RAD'],_0x1322aa['startAngle'+'2']*N['DEG_TO_RAD'],_0x4a4962),_0x45bd09[_0x2056e*ie+(0xa2+0x1*0x117e+0x1*-0x121d)+_0x1322aa['numParticl'+'esPot']*ie]=_0x1a2dd3;}['update'](_0x210d01,_0x327628,_0x541f39,_0x2ddbba,_0x4616c7,_0xa271d4,_0x1655c3,_0x2432a2){let _0x333f90,_0x4c1425,_0x4a5147;const _0x137934=this['_emitter'];if(_0x137934['meshInstan'+'ce']['node']){const _0x4194f4=_0x137934['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x4c49f4=0x18*-0x54+0x1813+-0x1033;_0x4c49f4<-0x15bf*-0x1+-0x6b*0x43+0x3*0x21a;_0x4c49f4++)Vd['data'][_0x4c49f4]=_0x4194f4['data'][_0x4c49f4];Gd['copy'](Vd),Gd['invert'](),si=_0x137934['meshInstan'+'ce']['node']['localScale'],v_=Math['max'](Math['max'](si['x'],si['y']),si['z']);}_0xa271d4=_0x137934['meshInstan'+'ce']['node']===null||_0x137934['localSpace']?T['ZERO']:_0x137934['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x513636=_0x137934['camera']?_0x137934['camera']['_node']['getPositio'+'n']():T['ZERO'],_0x584c56=_0x137934['useMesh']?-0x20+-0x1*-0x9ef+-0x1d*0x56:-0x1a*-0x113+-0x23d1+0x7f2;let _0x46deb4,_0x3c55df,_0x20856a,_0x512869,_0x391b75,_0x1b7b39,_0x17efdd,_0x2e5f5c,_0x495588;const _0x2d4af2=_0x137934['precision']-(0x1*-0x1d3e+-0x871+-0xc9*-0x30);for(let _0x491542=0x28d*0x1+-0x1118*-0x2+0xab*-0x37;_0x491542<_0x137934['numParticl'+'es'];_0x491542++){const _0x4a8d42=Math['floor'](_0x137934['vbCPU'][_0x491542*_0x137934['numParticl'+'eVerts']*(_0x137934['useMesh']?-0x257d+0x41*0x2e+0x19d5:-0x1*-0x91f+0x253c+-0x2e57)+(0x2033+-0x65b+0x1*-0x19d5)]),_0x412115=_0x541f39[_0x4a8d42*ie+(-0x1afa+-0xb5*0x1+0x1baf)+_0x137934['numParticl'+'esPot']*(-0x2c2+-0x16*0x54+0x9fc)*ie];ps['x']=_0x412115,ps['y']=_0x541f39[_0x4a8d42*ie+(-0xd*0x179+-0x1*0x2212+0x3538)+_0x137934['numParticl'+'esPot']*(-0x1cfe+-0xd*-0x292+-0x46a)*ie],ps['z']=_0x541f39[_0x4a8d42*ie+(-0x232e+0xe*0x21b+0x5b6)+_0x137934['numParticl'+'esPot']*(-0x13f1*0x1+-0x191*-0x1+0x16a*0xd)*ie];const _0xa64aa4=_0x137934['rate']+(_0x137934['rate2']-_0x137934['rate'])*_0x412115,_0x1993b0=_0x137934['lifetime'];let _0x5c4af9=_0x541f39[_0x4a8d42*ie+(0x6*0x121+-0x268b+-0x1*-0x1fc8)+_0x137934['numParticl'+'esPot']*ie]+_0x1655c3;const _0x46e180=KM(_0x5c4af9/_0x1993b0);let _0x5b49b9=-0xd3f+0x21d7*0x1+-0x8*0x293,_0x46d0d3=-0x1a*0xb+-0x182e+0x194c*0x1;const _0x54bf4d=-0x234+-0x9c4+-0x17f*-0x8;(_0x5c4af9-_0x1655c3<=0x481*-0x3+0x924+0x45f||_0x5c4af9>=_0x1993b0)&&this['calcSpawnP'+'osition'](_0x541f39,_0x2ddbba,_0x4616c7,_0xa271d4,_0x4a8d42);let _0x4a0e94=_0x5c4af9>-0x3f2+0x5*0x511+0x16d*-0xf&&_0x5c4af9<_0x1993b0;_0x4a0e94&&(_0x4a5147=_0x46e180*_0x2d4af2,_0x46deb4=Math['floor'](_0x4a5147),_0x3c55df=Math['ceil'](_0x4a5147),_0x4a5147%=-0x1e6*-0xb+-0x1c24+0x743,_0x333f90=_0x137934['qRotSpeed'][_0x46deb4],_0x4c1425=_0x137934['qRotSpeed'][_0x3c55df],_0x20856a=_0x333f90+(_0x4c1425-_0x333f90)*_0x4a5147,_0x333f90=_0x137934['qRotSpeed2'][_0x46deb4],_0x4c1425=_0x137934['qRotSpeed2'][_0x3c55df],_0x512869=_0x333f90+(_0x4c1425-_0x333f90)*_0x4a5147,_0x333f90=_0x137934['qScale'][_0x46deb4],_0x4c1425=_0x137934['qScale'][_0x3c55df],_0x5b49b9=_0x333f90+(_0x4c1425-_0x333f90)*_0x4a5147,_0x333f90=_0x137934['qScale2'][_0x46deb4],_0x4c1425=_0x137934['qScale2'][_0x3c55df],_0x391b75=_0x333f90+(_0x4c1425-_0x333f90)*_0x4a5147,_0x333f90=_0x137934['qAlpha'][_0x46deb4],_0x4c1425=_0x137934['qAlpha'][_0x3c55df],_0x1b7b39=_0x333f90+(_0x4c1425-_0x333f90)*_0x4a5147,_0x333f90=_0x137934['qAlpha2'][_0x46deb4],_0x4c1425=_0x137934['qAlpha2'][_0x3c55df],_0x17efdd=_0x333f90+(_0x4c1425-_0x333f90)*_0x4a5147,_0x333f90=_0x137934['qRadialSpe'+'ed'][_0x46deb4],_0x4c1425=_0x137934['qRadialSpe'+'ed'][_0x3c55df],_0x2e5f5c=_0x333f90+(_0x4c1425-_0x333f90)*_0x4a5147,_0x333f90=_0x137934['qRadialSpe'+'ed2'][_0x46deb4],_0x4c1425=_0x137934['qRadialSpe'+'ed2'][_0x3c55df],_0x495588=_0x333f90+(_0x4c1425-_0x333f90)*_0x4a5147,_0x2e5f5c+=(_0x495588-_0x2e5f5c)*(_0x412115*(0x30d+-0xd3*0x1+-0x1d6)%(0x22f4*-0x1+0x1b91*0x1+0x764)),Rn['x']=_0x541f39[_0x4a8d42*ie],Rn['y']=_0x541f39[_0x4a8d42*ie+(-0x59*-0x6b+0x1cf*-0x5+-0x1c27)],Rn['z']=_0x541f39[_0x4a8d42*ie+(0x26a7+-0x67*-0x3+0x2*-0x13ed)],_0x137934['localSpace']?Ka['copy'](Rn):Ka['copy'](Rn)['sub'](_0xa271d4),Ka['normalize']()['mulScalar'](_0x2e5f5c),_0x46deb4*=0x372+-0x2422+0x20b3,_0x3c55df*=-0x2289*-0x1+0x13b4+0x1b1d*-0x2,_0x333f90=_0x137934['qLocalVelo'+'city'][_0x46deb4],_0x4c1425=_0x137934['qLocalVelo'+'city'][_0x3c55df],Ze['x']=_0x333f90+(_0x4c1425-_0x333f90)*_0x4a5147,_0x333f90=_0x137934['qLocalVelo'+'city'][_0x46deb4+(0xc*-0xe9+-0x1756+0x2243)],_0x4c1425=_0x137934['qLocalVelo'+'city'][_0x3c55df+(-0x229c+-0x1442*-0x1+0xe5b)],Ze['y']=_0x333f90+(_0x4c1425-_0x333f90)*_0x4a5147,_0x333f90=_0x137934['qLocalVelo'+'city'][_0x46deb4+(0x2*0x55+0x2176+-0x18d*0x16)],_0x4c1425=_0x137934['qLocalVelo'+'city'][_0x3c55df+(0xb*-0x13f+-0x1a41+-0x27f8*-0x1)],Ze['z']=_0x333f90+(_0x4c1425-_0x333f90)*_0x4a5147,_0x333f90=_0x137934['qLocalVelo'+'city2'][_0x46deb4],_0x4c1425=_0x137934['qLocalVelo'+'city2'][_0x3c55df],Dn['x']=_0x333f90+(_0x4c1425-_0x333f90)*_0x4a5147,_0x333f90=_0x137934['qLocalVelo'+'city2'][_0x46deb4+(0x2e*0x6a+0x2162+-0x1*0x346d)],_0x4c1425=_0x137934['qLocalVelo'+'city2'][_0x3c55df+(-0x388+0x921*-0x1+-0xcaa*-0x1)],Dn['y']=_0x333f90+(_0x4c1425-_0x333f90)*_0x4a5147,_0x333f90=_0x137934['qLocalVelo'+'city2'][_0x46deb4+(0x1547+-0x1864+-0x1*-0x31f)],_0x4c1425=_0x137934['qLocalVelo'+'city2'][_0x3c55df+(-0x1*-0x2b1+0x1*0x2175+-0x6*0x606)],Dn['z']=_0x333f90+(_0x4c1425-_0x333f90)*_0x4a5147,_0x333f90=_0x137934['qVelocity'][_0x46deb4],_0x4c1425=_0x137934['qVelocity'][_0x3c55df],Nt['x']=_0x333f90+(_0x4c1425-_0x333f90)*_0x4a5147,_0x333f90=_0x137934['qVelocity'][_0x46deb4+(0x131+0xd6e+-0x2*0x74f)],_0x4c1425=_0x137934['qVelocity'][_0x3c55df+(-0x22*0x109+0x2581*0x1+0x3b*-0xa)],Nt['y']=_0x333f90+(_0x4c1425-_0x333f90)*_0x4a5147,_0x333f90=_0x137934['qVelocity'][_0x46deb4+(-0x47*-0x5b+-0x355+-0xaf3*0x2)],_0x4c1425=_0x137934['qVelocity'][_0x3c55df+(0x1*-0x1c42+0x35a+0x18ea)],Nt['z']=_0x333f90+(_0x4c1425-_0x333f90)*_0x4a5147,_0x333f90=_0x137934['qVelocity2'][_0x46deb4],_0x4c1425=_0x137934['qVelocity2'][_0x3c55df],In['x']=_0x333f90+(_0x4c1425-_0x333f90)*_0x4a5147,_0x333f90=_0x137934['qVelocity2'][_0x46deb4+(-0x1a*0xc1+0x1b26+-0x78b)],_0x4c1425=_0x137934['qVelocity2'][_0x3c55df+(-0x5d*0x45+0x86*-0x16+-0x6*-0x619)],In['y']=_0x333f90+(_0x4c1425-_0x333f90)*_0x4a5147,_0x333f90=_0x137934['qVelocity2'][_0x46deb4+(0x1b58+-0x31*-0x49+0x9*-0x497)],_0x4c1425=_0x137934['qVelocity2'][_0x3c55df+(0x3*0x5bb+0x4*0x886+-0x3347)],In['z']=_0x333f90+(_0x4c1425-_0x333f90)*_0x4a5147,Ze['x']+=(Dn['x']-Ze['x'])*ps['x'],Ze['y']+=(Dn['y']-Ze['y'])*ps['y'],Ze['z']+=(Dn['z']-Ze['z'])*ps['z'],_0x137934['initialVel'+'ocity']>0x7*-0x1f2+0x1b73+-0xdd5&&(_0x137934['emitterSha'+'pe']===qb?(ze['copy'](ps)['mulScalar'](-0xcb0*0x1+-0x13+0xcc5)['sub'](T['ONE'])['normalize'](),Ze['add'](ze['mulScalar'](_0x137934['initialVel'+'ocity']))):Ze['add'](T['FORWARD']['mulScalar'](_0x137934['initialVel'+'ocity']))),Nt['x']+=(In['x']-Nt['x'])*ps['x'],Nt['y']+=(In['y']-Nt['y'])*ps['y'],Nt['z']+=(In['z']-Nt['z'])*ps['z'],_0x20856a+=(_0x512869-_0x20856a)*ps['y'],_0x5b49b9=(_0x5b49b9+(_0x391b75-_0x5b49b9)*(_0x412115*(0xf2*0x4f+0x2e49+-0x1*0x51e7)%(-0x3e2*-0x9+-0x213e+-0x91*0x3)))*v_,_0x46d0d3=(_0x17efdd-_0x1b7b39)*(_0x412115*(0x2671+-0xe7e+0x1*-0x140b)%(-0x21c1+-0x767*0x1+0x2929)),_0x137934['meshInstan'+'ce']['node']&&(_0x137934['localSpace']?(Ze['x']/=si['x'],Ze['y']/=si['y'],Ze['z']/=si['z']):Vd['transformP'+'oint'](Ze,Ze)),_0x137934['localSpace']?(Gd['transformP'+'oint'](Nt,Nt),Ze['add'](Nt)['add'](Ka)):(Ze['add'](Nt['mul'](si)),Ze['add'](Ka['mul'](si))),Bl['copy'](Ze),b_['copy'](Rn)['add'](Ze['mulScalar'](_0x1655c3)),vt['copy'](b_),_0x541f39[_0x4a8d42*ie]=vt['x'],_0x541f39[_0x4a8d42*ie+(-0xac5*-0x1+-0x1a22+-0xf5e*-0x1)]=vt['y'],_0x541f39[_0x4a8d42*ie+(0x1f*0x2+0x247d+-0x24b9)]=vt['z'],_0x541f39[_0x4a8d42*ie+(0x4c8+-0xd*-0x1cf+0x5*-0x5a8)]+=_0x20856a*_0x1655c3,_0x137934['wrap']&&_0x137934['wrapBounds']&&(_0x137934['localSpace']||vt['sub'](_0xa271d4),vt['x']=Hd(vt['x'],_0x137934['wrapBounds']['x'])-_0x137934['wrapBounds']['x']*(0x989+-0x83c+-0x14d+0.5),vt['y']=Hd(vt['y'],_0x137934['wrapBounds']['y'])-_0x137934['wrapBounds']['y']*(0x2312*0x1+0x18f4+-0x3c06+0.5),vt['z']=Hd(vt['z'],_0x137934['wrapBounds']['z'])-_0x137934['wrapBounds']['z']*(-0x1515+-0x2*-0x61a+-0x8e1*-0x1+0.5),_0x137934['localSpace']||vt['add'](_0xa271d4)),_0x137934['sort']>-0x6*0x473+0x3*-0x5e+-0xc*-0x251&&(_0x137934['sort']===0x5c8+0x1*0xf5e+-0x1525?(wr['copy'](vt)['sub'](_0x513636),_0x137934['particleDi'+'stance'][_0x4a8d42]=-(wr['x']*wr['x']+wr['y']*wr['y']+wr['z']*wr['z'])):_0x137934['sort']===-0x2e0*0xd+-0xdd*0x1+0x263f?_0x137934['particleDi'+'stance'][_0x4a8d42]=_0x5c4af9:_0x137934['sort']===-0x350+0x17b7*-0x1+0x1b0a&&(_0x137934['particleDi'+'stance'][_0x4a8d42]=-_0x5c4af9))),_0x2432a2?_0x5c4af9<0x71*0x2b+0x209b+-0x3396&&(_0x541f39[_0x4a8d42*ie+(0x120a+0x201f+0x83*-0x62)+_0x137934['numParticl'+'esPot']*(-0x1e7+0x1acb+-0x18e2)*ie]=-(0x1421+0x162f+0x1*-0x2a4f)):(_0x5c4af9>=_0x1993b0&&(_0x5c4af9-=Math['max'](_0x1993b0,(_0x137934['numParticl'+'es']-(-0x19af+-0x29*0xd+0x1bc5*0x1))*_0xa64aa4),_0x541f39[_0x4a8d42*ie+(-0xc65+-0x7c*-0x1+0xe*0xda)+_0x137934['numParticl'+'esPot']*(0x1*-0x869+0x34*-0xb+0x38d*0x3)*ie]=_0x137934['loop']?0xc*0xdf+0x1a6*-0x11+-0x1193*-0x1:-(0x2319+-0xd84+-0x1594)),_0x5c4af9<-0x1d69*-0x1+-0x1ff1+0x288&&_0x137934['loop']&&(_0x541f39[_0x4a8d42*ie+(-0x1*-0x529+-0x11d4+-0x657*-0x2)+_0x137934['numParticl'+'esPot']*(0x80a*0x2+0x29*-0x6b+0x111*0x1)*ie]=-0x909+0xcd9+-0xf*0x41)),_0x541f39[_0x4a8d42*ie+(-0x1bf*-0xe+-0x24a9+-0x1*-0xc3a)+_0x137934['numParticl'+'esPot']*(-0x139*-0x11+-0x1*-0x114f+0xf*-0x28a)*ie]<0xe*0x1fd+-0x63*-0x32+-0x1796*0x2&&(_0x4a0e94=!(-0x5*-0x276+-0xad3+0x1*-0x17a)),_0x541f39[_0x4a8d42*ie+(-0x2670+0x13f6+0x127d)+_0x137934['numParticl'+'esPot']*ie]=_0x5c4af9;for(let _0x49da3c=-0x3f3+0x3f2+0x1;_0x49da3c<_0x137934['numParticl'+'eVerts'];_0x49da3c++){const _0x49d1b2=(_0x491542*_0x137934['numParticl'+'eVerts']+_0x49da3c)*(_0x137934['useMesh']?0x24b*-0xe+0xbd9*0x2+0x86e:0x15d3*0x1+0x532*-0x1+0x109d*-0x1);let _0x2511cc=_0x137934['vbCPU'][_0x49d1b2],_0x2233d3=_0x137934['vbCPU'][_0x49d1b2+(-0x17d4+-0x1c6*-0x1+0x160f*0x1)],_0x2f46d0=_0x137934['vbCPU'][_0x49d1b2+(0x1*0xb97+-0x22*0x2b+-0x5df)];_0x4a0e94||(_0x2511cc=_0x2233d3=_0x2f46d0=-0xa*0x12e+-0x8*0x326+0x6*0x62a);const _0x479998=_0x491542*_0x137934['numParticl'+'eVerts']*_0x584c56+_0x49da3c*_0x584c56;_0x210d01[_0x479998]=vt['x'],_0x210d01[_0x479998+(0x10f*0x1b+0x8*0x1cd+-0x2afc)]=vt['y'],_0x210d01[_0x479998+(0x47c+-0xe67+0x9ed)]=vt['z'],_0x210d01[_0x479998+(-0x486+0x11*0x107+0x1*-0xcee)]=_0x46e180,_0x210d01[_0x479998+(0x2*-0x43b+0x7fe+0x7c)]=_0x137934['alignToMot'+'ion']?_0x54bf4d:_0x541f39[_0x4a8d42*ie+(0x1*-0x163d+-0x167*-0xa+0x83a)],_0x210d01[_0x479998+(0x1*0x14b4+-0x32*-0x83+-0x2e45)]=_0x5b49b9,_0x210d01[_0x479998+(0xdb+0x161a+-0x16ef)]=_0x46d0d3,_0x210d01[_0x479998+(0x1*-0x107f+-0x154e+0x4*0x975)]=Bl['x'],_0x210d01[_0x479998+(-0xb9d+0xb6*0x1a+0x11*-0x67)]=_0x2511cc,_0x210d01[_0x479998+(0x229*0x2+0x2e*-0xbd+0x1dad)]=_0x2233d3,_0x210d01[_0x479998+(0x1*-0x2596+0x467*-0x3+-0xa9*-0x4d)]=_0x2f46d0,_0x210d01[_0x479998+(-0x2*0x121c+-0x1076+0x3*0x1193)]=Bl['y'],_0x210d01[_0x479998+(0x13*0xa6+0x1*0x245+0x49*-0x33)]=_0x4a8d42,_0x210d01[_0x479998+(0x1726+-0x1*-0x7db+-0x1ef4)]=Bl['z'],_0x210d01[_0x479998+(0xb9b*0x1+0x3e0+-0x167*0xb)]=_0x137934['vbCPU'][_0x49d1b2+(-0xd42+0x202f+-0x12ea)],_0x137934['useMesh']&&(_0x210d01[_0x479998+(-0x2*0xd53+-0x6e1*0x4+-0x1213*-0x3)]=_0x137934['vbCPU'][_0x49d1b2+(0x259+-0x22ba+0x1*0x2065)],_0x210d01[_0x479998+(-0x803+0x22d*0x4+0x7*-0x17)]=_0x137934['vbCPU'][_0x49d1b2+(-0x127d+-0x20d3+0x3355)]);}}if(_0x137934['sort']>Du&&_0x137934['camera']){const _0x36c8f6=_0x137934['useMesh']?-0x3b3*0x2+0x3*-0x459+0x1477:0x3*0x90+-0x6bb*0x3+0x1af*0xb,_0x48043b=_0x137934['particleDi'+'stance'];for(let _0x26162a=0xb*0x65+0x5*0x30b+0x1*-0x138e;_0x26162a<_0x137934['numParticl'+'es'];_0x26162a++)_0x327628[_0x26162a][-0x2615+0x4*-0x35e+0x338d]=_0x26162a,_0x327628[_0x26162a][0x2534*0x1+0x5ed+-0x2b20]=_0x48043b[Math['floor'](_0x137934['vbCPU'][_0x26162a*_0x137934['numParticl'+'eVerts']*_0x36c8f6+(-0x799*0x5+-0x1aa7+-0x3*-0x158d)])];_0x137934['vbOld']['set'](_0x137934['vbCPU']),_0x327628['sort']((_0x133c94,_0x3baecb)=>_0x133c94[0x3a*0xa+0x1a6a+0x1*-0x1cad]-_0x3baecb[-0x2129+0x121*0xa+0x28*0x8c]);for(let _0x42b928=-0x1dcb*-0x1+0x1f78+-0x3d43;_0x42b928<_0x137934['numParticl'+'es'];_0x42b928++){const _0xdeafd8=_0x327628[_0x42b928][-0x76f+-0x7*-0x3d+0x5c4]*_0x137934['numParticl'+'eVerts']*_0x36c8f6,_0x3c4c9f=_0x42b928*_0x137934['numParticl'+'eVerts']*_0x36c8f6;for(let _0x2fe8ea=0xf29*-0x2+-0x16a9+0x34fb;_0x2fe8ea<_0x137934['numParticl'+'eVerts']*_0x36c8f6;_0x2fe8ea++)_0x137934['vbCPU'][_0x3c4c9f+_0x2fe8ea]=_0x137934['vbOld'][_0xdeafd8+_0x2fe8ea];}}}}const w_=new js(),T_=new js(),A_=new js();class JM{constructor(_0x490c6e,_0x1a3b5d){this['_emitter']=_0x490c6e,this['frameRando'+'mUniform']=new Float32Array(-0xe5d*0x1+0x4*-0x74b+0x2b8c),this['emitterPos'+'Uniform']=new Float32Array(0x59f*0x5+0x1997+-0x35af),this['emitterSca'+'leUniform']=new Float32Array([0x1cc3*0x1+-0x1692+0x6*-0x108,-0x5*0x3d9+0x1*-0xcad+0x1*0x1feb,0x17*-0x85+0x21f3+-0x15ff]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(-0x1a89+0x139d*0x1+-0x5*-0x163),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(-0xbbc*-0x2+0x2*0x178+-0x1a65),this['inBoundsSi'+'zeUniform']=new Float32Array(0x1*0x1525+-0xca0*0x2+-0x22*-0x1f),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(-0xdff+0xad1+0x1*0x331),this['constantPa'+'rticleTexI'+'N']=_0x1a3b5d['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x1a3b5d['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x1a3b5d['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x1a3b5d['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x1a3b5d['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x1a3b5d['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x1a3b5d['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x1a3b5d['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x1a3b5d['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x1a3b5d['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x1a3b5d['scope']['resolve']('delta'),this['constantRa'+'te']=_0x1a3b5d['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x1a3b5d['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x1a3b5d['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x1a3b5d['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x1a3b5d['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x1a3b5d['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x1a3b5d['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x1a3b5d['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x1a3b5d['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x1a3b5d['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x1a3b5d['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x1a3b5d['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x1a3b5d['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x1a3b5d['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x1a3b5d['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x1a3b5d['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x1a3b5d['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x1a3b5d['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x1a3b5d['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x1a3b5d['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x1a3b5d['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x1a3b5d['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x1a3b5d['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x1a3b5d['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x1a3b5d['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x1a3b5d['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][-0x85d*-0x3+0x17f4+-0x310b]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][-0x3*0x4d5+0x2146*0x1+-0x2*0x963]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][-0xe9d*0x1+-0xe3*0xd+0xd13*0x2]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][-0x1503+0x1927+0x2*-0x212]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][-0x1a6+-0x1147+-0x12ee*-0x1]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][-0x1*-0x1a0f+0xd06*-0x2+-0x1*0x1]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][-0x1eae+-0xc56+0x2b04]=Math['random'](),this['frameRando'+'mUniform'][0xe06*0x2+-0x6*-0x4c7+-0x9*0x64d]=Math['random'](),this['frameRando'+'mUniform'][0x17c8+-0xafd+-0x1*0xcc9]=Math['random']();}['update'](_0x19247c,_0x4c7a44,_0x16a2bd,_0x2e2882,_0x52c56b){G['pushGpuMar'+'ker'](_0x19247c,'ParticleGP'+'U');const _0xc8db8=this['_emitter'];_0x19247c['setBlendSt'+'ate'](_t['NOBLEND']),_0x19247c['setDepthSt'+'ate'](as['NODEPTH']),_0x19247c['setCullMod'+'e'](mt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((-0x4da+-0x376+-0x851*-0x1)/_0xc8db8['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0xc8db8['precision']),this['constantNu'+'mParticles']['setValue'](_0xc8db8['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0xc8db8['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0xc8db8['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0xc8db8['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0xc8db8['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0xc8db8['internalTe'+'x3']);const _0x56e280=_0xc8db8['meshInstan'+'ce']['node'],_0x13cff1=_0x56e280===null?T['ONE']:_0x56e280['localScale'];if(_0xc8db8['pack8']){this['worldBound'+'sMulUnifor'+'m'][-0x71a*-0x1+0x4*-0x695+0x133a]=_0xc8db8['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][0x3fe+-0x3*-0x3d6+-0x1*0xf7f]=_0xc8db8['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][-0x3db+0x3*-0xa81+0x8d8*0x4]=_0xc8db8['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][-0xcdf*-0x1+-0x2189+0x1*0x14aa]=_0xc8db8['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][0x1*0x10a5+-0x38*-0x10+-0x1424]=_0xc8db8['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][0x257a+0xa4*-0x35+-0x384]=_0xc8db8['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x46ee76=_0xc8db8['maxVel']*Math['max'](Math['max'](_0x13cff1['x'],_0x13cff1['y']),_0x13cff1['z']);_0x46ee76=Math['max'](_0x46ee76,-0x1*0x11b5+0x79f*0x3+-0x527),this['constantMa'+'xVel']['setValue'](_0x46ee76);}const _0x27cbd9=_0x56e280===null||_0xc8db8['localSpace']?T['ZERO']:_0x56e280['getPositio'+'n'](),_0x2de2f4=_0x56e280===null?q['IDENTITY']:_0x56e280['getWorldTr'+'ansform']();_0xc8db8['emitterSha'+'pe']===Vs?(w_['setFromMat'+'4'](_0x4c7a44),this['constantSp'+'awnBounds']['setValue'](w_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x16a2bd)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0xc8db8['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0xc8db8['emitterRad'+'ius']===-0x145f+-0x7*-0x48b+-0xb6e?0xae+0x167*0xd+-0x1*0x12e9:_0xc8db8['emitterRad'+'iusInner']/_0xc8db8['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0xc8db8['initialVel'+'ocity']),T_['setFromMat'+'4'](_0x2de2f4),A_['invertMat4'](_0x2de2f4),this['emitterPos'+'Uniform'][0x1ac4+-0x145d+-0x95*0xb]=_0x27cbd9['x'],this['emitterPos'+'Uniform'][0x1*-0xcc4+-0x26f5*-0x1+-0x2*0xd18]=_0x27cbd9['y'],this['emitterPos'+'Uniform'][-0xe35+-0x131e*-0x1+-0x4e7]=_0x27cbd9['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x2e2882),this['constantRa'+'te']['setValue'](_0xc8db8['rate']),this['constantRa'+'teDiv']['setValue'](_0xc8db8['rate2']-_0xc8db8['rate']),this['constantSt'+'artAngle']['setValue'](_0xc8db8['startAngle']*N['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0xc8db8['startAngle'+'2']*N['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0xc8db8['seed']),this['constantLi'+'fetime']['setValue'](_0xc8db8['lifetime']),this['emitterSca'+'leUniform'][0x23e8+0x213c+0x2c4*-0x19]=_0x13cff1['x'],this['emitterSca'+'leUniform'][-0x1e9e+-0x1*-0x2639+-0x79a]=_0x13cff1['y'],this['emitterSca'+'leUniform'][-0x2ab*-0xb+-0x73d+0xb0d*-0x2]=_0x13cff1['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](T_['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](A_['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0xc8db8['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0xc8db8['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0xc8db8['rotSpeedUM'+'ax'][0x3*0x203+-0x26*-0x81+-0x192f]);let _0x5d70ad=_0xc8db8['swapTex']?_0xc8db8['particleTe'+'xOUT']:_0xc8db8['particleTe'+'xIN'];_0x5d70ad=_0xc8db8['beenReset']?_0xc8db8['particleTe'+'xStart']:_0x5d70ad;const _0x3d9b9e=_0xc8db8['swapTex']?_0xc8db8['particleTe'+'xIN']:_0xc8db8['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x5d70ad),dn(_0x19247c,_0xc8db8['swapTex']?_0xc8db8['rtParticle'+'TexIN']:_0xc8db8['rtParticle'+'TexOUT'],_0x52c56b?_0xc8db8['shaderPart'+'icleUpdate'+'OnStop']:_0xc8db8['loop']?_0xc8db8['shaderPart'+'icleUpdate'+'Respawn']:_0xc8db8['shaderPart'+'icleUpdate'+'NoRespawn']),_0xc8db8['material']['setParamet'+'er']('particleTe'+'xOUT',_0x5d70ad),_0xc8db8['material']['setParamet'+'er']('particleTe'+'xIN',_0x3d9b9e),_0xc8db8['beenReset']=!(-0x2*-0x9b5+-0x10d0+-0x299),_0xc8db8['swapTex']=!_0xc8db8['swapTex'],_0xc8db8['prevWorldB'+'oundsSize']['copy'](_0xc8db8['worldBound'+'sSize']),_0xc8db8['prevWorldB'+'oundsCente'+'r']['copy'](_0xc8db8['worldBound'+'s']['center']),_0xc8db8['pack8']&&this['_setInputB'+'ounds'](),G['popGpuMark'+'er'](_0x19247c);}}class e1 extends It{['generateKe'+'y'](_0x1fddf5){let _0x21511c='particle_'+It['definesHas'+'h'](_0x1fddf5['defines'])+'_';for(const _0x1c893f in _0x1fddf5)_0x1fddf5['hasOwnProp'+'erty'](_0x1c893f)&&(_0x21511c+=_0x1fddf5[_0x1c893f]);return _0x21511c;}['_animTex'](_0x231e08){let _0x55cd17='';return _0x55cd17+=_0x231e08['animTexLoo'+'p']?X['particleAn'+'imFrameLoo'+'pVS']:X['particleAn'+'imFrameCla'+'mpVS'],_0x55cd17+=X['particleAn'+'imTexVS'],_0x55cd17;}['createShad'+'erDefiniti'+'on'](_0x483214,_0x49c2db){const _0x16e581='#define\x20PA'+'RTICLE_'+(_0x49c2db['useCpu']?'CPU':'GPU')+'\x0a';let _0x3b63dc='#define\x20PA'+'RTICLE\x0a'+_0x16e581,_0x3a17ee='#define\x20VE'+'RTEXSHADER'+'\x0a'+_0x16e581;_0x49c2db['mesh']&&(_0x3a17ee+='#define\x20US'+'E_MESH\x0a'),_0x49c2db['localSpace']&&(_0x3a17ee+='#define\x20LO'+'CAL_SPACE\x0a'),_0x49c2db['screenSpac'+'e']&&(_0x3a17ee+='#define\x20SC'+'REEN_SPACE'+'\x0a'),_0x49c2db['animTex']&&(_0x3a17ee+='\x0auniform\x20v'+'ec2\x20animTe'+'xTilesPara'+'ms;\x0a'),_0x49c2db['animTex']&&(_0x3a17ee+='\x0auniform\x20v'+'ec4\x20animTe'+'xParams;\x0a'),_0x49c2db['animTex']&&(_0x3a17ee+='\x0auniform\x20v'+'ec2\x20animTe'+'xIndexPara'+'ms;\x0a'),_0x49c2db['normal']===0x10ca+0x157a+-0xa6*0x3b&&(_0x3a17ee+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x49c2db['normal']===0x1*0x17c5+-0x1a3e+0x27a&&(_0x3a17ee+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a'),_0x49c2db['soft']&&(_0x3a17ee+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a');const _0x23b6bb=_0x49c2db['customFace']?X['particle_c'+'ustomFaceV'+'S']:X['particle_b'+'illboardVS'];_0x49c2db['useCpu']?(_0x49c2db['soft']>-0x8ec*-0x1+-0x235*0xe+0x15fa&&(_0x3a17ee+=X['screenDept'+'hPS']),_0x3a17ee+=X['particle_c'+'puVS'],_0x49c2db['localSpace']&&(_0x3a17ee+=X['particle_l'+'ocalShiftV'+'S']),_0x49c2db['animTex']&&(_0x3a17ee+=this['_animTex'](_0x49c2db)),_0x49c2db['alignToMot'+'ion']&&(_0x3a17ee+=X['particle_p'+'ointAlongV'+'S']),_0x3a17ee+=_0x49c2db['mesh']?X['particle_m'+'eshVS']:_0x23b6bb,_0x49c2db['normal']===-0x1*-0x11e9+0x13f7*-0x1+0x20f&&(_0x3a17ee+=X['particle_n'+'ormalVS']),_0x49c2db['normal']===0x97b+-0x17e0+0x1*0xe67&&(_0x3a17ee+=X['particle_T'+'BNVS']),_0x49c2db['stretch']>0x24c+-0x3b3+0x1*0x167&&(_0x3a17ee+=X['particle_s'+'tretchVS']),_0x3a17ee+=X['particle_c'+'pu_endVS'],_0x49c2db['soft']>-0x1e8+-0xe7b+0x1063&&(_0x3a17ee+=X['particle_s'+'oftVS'])):(_0x3a17ee+=X['particle_i'+'nitVS'],_0x3a17ee+=_0x49c2db['pack8']?X['particleIn'+'putRgba8PS']:X['particleIn'+'putFloatPS'],_0x49c2db['soft']>0xabf*0x2+-0x9*0x127+0x3*-0x3b5&&(_0x3a17ee+=X['screenDept'+'hPS']),_0x3a17ee+=X['particleVS'],_0x49c2db['localSpace']&&(_0x3a17ee+=X['particle_l'+'ocalShiftV'+'S']),_0x49c2db['animTex']&&(_0x3a17ee+=this['_animTex'](_0x49c2db)),_0x49c2db['wrap']&&(_0x3a17ee+=X['particle_w'+'rapVS']),_0x49c2db['alignToMot'+'ion']&&(_0x3a17ee+=X['particle_p'+'ointAlongV'+'S']),_0x3a17ee+=_0x49c2db['mesh']?X['particle_m'+'eshVS']:_0x23b6bb,_0x49c2db['normal']===0x4*0x6d0+-0x1b2e+-0x11&&(_0x3a17ee+=X['particle_n'+'ormalVS']),_0x49c2db['normal']===0x1360+0x20d3*-0x1+0xd75&&(_0x3a17ee+=X['particle_T'+'BNVS']),_0x49c2db['stretch']>-0x17c3+-0xf7d+0x2740&&(_0x3a17ee+=X['particle_s'+'tretchVS']),_0x3a17ee+=X['particle_e'+'ndVS'],_0x49c2db['soft']>-0x855+0x3f*-0x87+0x298e&&(_0x3a17ee+=X['particle_s'+'oftVS'])),_0x3a17ee+='}\x0a',_0x49c2db['normal']>0x2*0x80+-0x14b+-0xf*-0x5&&(_0x49c2db['normal']===0x1c6b*0x1+0xdeb+0x1*-0x2a55?_0x3b63dc+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a':_0x49c2db['normal']===-0xf16*0x1+0xd88+-0x4*-0x64&&(_0x3b63dc+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x3b63dc+='\x0auniform\x20v'+'ec3\x20lightC'+'ube[6];\x0a'),_0x49c2db['soft']&&(_0x3b63dc+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a'),_0x3b63dc+=X['decodePS'],_0x3b63dc+='#include\x20\x22'+'gammaPS\x22\x0a',_0x3b63dc+='#include\x20\x22'+'tonemappin'+'gPS\x22\x0a',_0x3b63dc+='#include\x20\x22'+'fogPS\x22\x0a',_0x49c2db['normal']===0x9be+-0x22b4+0x18f8&&(_0x3b63dc+='\x0auniform\x20s'+'ampler2D\x20n'+'ormalMap;\x0a'),_0x49c2db['soft']>-0x107a+-0x923*0x2+0x1160*0x2&&(_0x3b63dc+=X['screenDept'+'hPS']),_0x3b63dc+=X['particlePS'],_0x49c2db['soft']>0xed*-0x19+-0x258e+0x3cb3&&(_0x3b63dc+=X['particle_s'+'oftPS']),_0x49c2db['normal']===0x10f6+-0x819+-0x8dc&&(_0x3b63dc+='\x0avec3\x20norm'+'al\x20=\x20Norma'+'l;\x0a'),_0x49c2db['normal']===-0x10ef+-0xee*0x26+0x3445&&(_0x3b63dc+=X['particle_n'+'ormalMapPS']),_0x49c2db['normal']>0x1*0x240a+-0x22c+-0x21de*0x1&&(_0x3b63dc+=_0x49c2db['halflamber'+'t']?X['particle_h'+'alflambert'+'PS']:X['particle_l'+'ambertPS']),_0x49c2db['normal']>-0x1a91*0x1+0x26ff+-0xc6e&&(_0x3b63dc+=X['particle_l'+'ightingPS']),_0x49c2db['blend']===Kt?_0x3b63dc+=X['particle_b'+'lendNormal'+'PS']:_0x49c2db['blend']===yp?_0x3b63dc+=X['particle_b'+'lendAddPS']:_0x49c2db['blend']===xp&&(_0x3b63dc+=X['particle_b'+'lendMultip'+'lyPS']),_0x3b63dc+=X['particle_e'+'ndPS'];const _0x28a999=new Map(Object['entries']({...X,..._0x49c2db['chunks']}));return Mt['createDefi'+'nition'](_0x483214,{'name':'ParticleSh'+'ader','vertexCode':_0x3a17ee,'fragmentCode':_0x3b63dc,'fragmentDefines':_0x49c2db['defines'],'fragmentIncludes':_0x28a999,'vertexDefines':_0x49c2db['defines']});}}const t1=new e1();class s1 extends yn{constructor(_0x527ba4){super(),c(this,'emitter',null),(this['emitter']=_0x527ba4,v['assert'](_0x527ba4));}['getShaderV'+'ariant'](_0x4c7b2){const {device:_0x2092a1,scene:_0x4b2161,cameraShaderParams:_0x2b09a1}=_0x4c7b2,{emitter:_0x5c0e14}=this,_0x24c737={'defines':Dp(this,_0x4c7b2),'pass':gn,'useCpu':this['emitter']['useCpu'],'normal':_0x5c0e14['lighting']?_0x5c0e14['normalMap']!==null?-0x8e5+-0xb*0x7+0x934*0x1:-0x16cc+-0x1033+0x2700:0x24e2+0x2*-0x1200+0x1*-0xe2,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'gamma':(_0x2b09a1==null?void(-0x17a6+0x7f8+0xfae):_0x2b09a1['shaderOutp'+'utGamma'])??sl,'toneMap':(_0x2b09a1==null?void(0x1*-0x1f7+0x123c+-0x1045):_0x2b09a1['toneMappin'+'g'])??Ap,'fog':_0x4b2161&&!this['emitter']['noFog']?_0x4b2161['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x5c0e14['inTools']?!(0x2245+-0x45*0x69+-0x5f7):this['emitter']['screenSpac'+'e'],'blend':this['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==Uh},_0x50c0bb=new Yc(_0x4c7b2['viewUnifor'+'mFormat'],_0x4c7b2['viewBindGr'+'oupFormat'],_0x4c7b2['vertexForm'+'at']),_0x38e72b=ka(_0x2092a1);return _0x38e72b['register']('particle',t1),_0x38e72b['getProgram']('particle',_0x24c737,_0x50c0bb,this['userId']);}}const E_=[[-(0x2*0xa99+-0x1c8f+0x75e),-(0x2204*-0x1+0x1296*-0x1+0x349b*0x1)],[0x1fa9+-0x101*-0x1a+-0x39c2,-(0x1b97+0x8ba+-0x48a*0x8)],[-0x95d+0x2*-0xfd3+0x19*0x1a4,-0x22f0+0x2*0x1183+0x1*-0x15],[-(0x1cc4+0x1*0x1d98+0x1*-0x3a5b),0x6c2+-0x137d*0x1+0xcbc]];function Qt(_0x1d797a,_0x323ba9,_0x5ec3b4,_0x1042a2,_0x48891e=Ke,_0x6488f1,_0x1b56cf){let _0x391441=de;_0x1b56cf&&(_0x48891e===Se||_0x48891e===rs)&&(_0x391441=st);const _0x1adc9b=new he(_0x1d797a,{'width':_0x323ba9,'height':_0x5ec3b4,'format':_0x48891e,'cubemap':!(0x1786+0x1a93+-0x8*0x643),'mipmaps':!(-0x74*-0x4c+0x2*-0x1191+-0xb3*-0x1),'minFilter':_0x391441,'magFilter':_0x391441,'addressU':ae,'addressV':ae,'name':'ParticleSy'+'stemTextur'+'e'}),_0x1822f8=_0x1adc9b['lock']();if(_0x48891e===Se||_0x48891e===rs){const _0x394b80=new Uint8Array(_0x1042a2['length']);for(let _0x282cb0=-0x90*0x1+-0x37*-0x52+0x76*-0x25;_0x282cb0<_0x1042a2['length'];_0x282cb0++)_0x394b80[_0x282cb0]=_0x1042a2[_0x282cb0]*_0x6488f1*(-0x1*0x19df+0x24a2+-0x9c4);_0x1042a2=_0x394b80;}return _0x1822f8['set'](_0x1042a2),_0x1adc9b['unlock'](),_0x1adc9b;}function C_(_0x57a8cb){return Math['max'](Math['min'](_0x57a8cb,0x90f*0x2+0x2*-0x9e+0x1*-0x10e1),-0x85*-0x37+-0xf32+0x5*-0x2ad);}const M_=new Cs([-0x1bd0+-0x20bf*0x1+0x3c8f,0x1*-0xd79+-0x1799*-0x1+-0xa20,0x7ca*0x1+0x1865*-0x1+0x427*0x4,-0x15fa+0x69e*-0x1+0x1c98]),P_=new Cs([0x15d2+-0x184e+0x27c,-0x1*-0x58f+0x1534+-0x1ac2,0x35*-0x2f+0x5d1*-0x1+-0x1*-0xf8d,-0x2041+-0x220c+-0x75e*-0x9]),R_=new jr([-0x343*-0x5+-0x10*-0x255+0x103*-0x35,-0x1*0x1f7b+-0x15*-0xb+0x1e94,-0x1fe9+0x1*0x105d+-0x3*-0x52f,0xe96*0x1+0x15cc+-0x2462],[0x16f8+-0xf0b+-0x7ed,-0x21d3*-0x1+0x157*-0x14+0x101*-0x7,0xd*-0xf7+-0x2*0xdf6+0x1*0x2878,-0x5ae+0x1811+0x20b*-0x9],[0x133*0xb+-0xfd*-0x26+-0x32bf,0xc67+0x2601+-0x4*0xc9a,0x1*-0x62+0xe*0x115+-0xec3,-0x12e*0x16+0x46*0x3e+-0x90*-0x10]),i1=new jr([0xa17+-0xdd4+0x3bd*0x1,0x26b3+-0xf0a+-0x17a8,0xf00*-0x1+0x416+-0x2b*-0x41,-0x19*0x71+-0x3b8+0xec2],[-0x1bd0+-0x2431+0xccd*0x5,-0x94+0x4a4+-0x40f,-0x1*0x23d+0x12de+-0x10a0,-0x1*0xcc7+-0x1509+0x21d1],[0x765+-0xb64+-0x1f*-0x21,0xceb+-0x182e+-0x1c*-0x67,0x1f02+-0x1dd1*0x1+0x13*-0x10,-0x253e+-0x1508+0x3a47]);let ii=0x1*-0x2047+-0x4*-0x49+0x1f25;const zl=-0x1094+-0x232e+0x33c6,ri=new Float32Array(-0x26fc+0x16b1+0x104e),Tr=new q(),I_=new T(),Ul=new T(),Vl=new T();let Hu,fh;function re(_0x3876b6,_0x56b206){fh[_0x3876b6]!==void(-0x1*-0xdab+-0x1434+0xef*0x7)&&fh[_0x3876b6]!==null?Hu[_0x3876b6]=fh[_0x3876b6]:Hu[_0x3876b6]=_0x56b206;}function O0(_0x4dd5a1,_0x51aa0e,_0x3df14e){return(_0x4dd5a1*(-0x8*-0x4ca+0xe2*0x17+-0x399f)<<-0xe5a+-0xf90+0x2*0xefd|_0x51aa0e*(-0x129f+-0x6ad*-0x2+0x644)<<0xa7d+0x9*0x33+0xe0*-0xe|_0x3df14e*(0x1868+-0x926+-0xe43))/(0xa1*0x11+-0x1991+0xee1*0x1<<-0x173*0x7+-0x20e4+-0x2b21*-0x1);}function D_(_0x4c471d,_0x42cb29){const _0x238731=_0x4c471d['length']/(0x1b98+0x2275*0x1+-0x1*0x3e0a),_0x1ad3e9=new Array(_0x238731*(-0xb7*-0x5+0xd4*-0x1+-0x2bb));for(let _0x1827be=-0x209e+-0xf09+0x2fa7;_0x1827be<_0x238731;_0x1827be++)_0x1ad3e9[_0x1827be*(0x4f7*-0x4+0x240a+0x1*-0x102a)]=_0x4c471d[_0x1827be*(0x12ed+-0xa3e+-0x8ac)],_0x1ad3e9[_0x1827be*(-0x10ca+-0x8e*-0xe+0x90a)+(-0xa54*-0x1+0x2101+0x5e*-0x76)]=_0x4c471d[_0x1827be*(0x398+0x2*0x1024+-0x23dd)+(-0x1*0x1232+0x12e2+0x19*-0x7)],_0x1ad3e9[_0x1827be*(-0xc83*0x3+-0x1c3a+0x74f*0x9)+(-0xbab+0xf51+-0x3a4)]=_0x4c471d[_0x1827be*(-0x10e8+-0xb8f*0x1+-0x9*-0x32a)+(0x25b4+-0x8af+0x7*-0x425)],_0x1ad3e9[_0x1827be*(-0x166f*-0x1+-0x40*-0x6b+-0x29*0x133)+(0x23e8+-0x98c+0x163*-0x13)]=O0(_0x42cb29[_0x1827be*(-0x124a*0x1+-0x12f6+0x2543*0x1)],_0x42cb29[_0x1827be*(-0x668+-0x1*0x1bb5+-0x27*-0xe0)+(0x1*-0x126e+-0x6*-0x251+0x9*0x81)],_0x42cb29[_0x1827be*(0xbd4+0x7f*-0xa+-0x3*0x249)+(-0x1*-0x2365+0x25ab+-0x2487*0x2)]);return _0x1ad3e9;}function r1(_0x4acf94,_0xde5638){const _0x161696=new Array(_0xde5638['length']*(-0x1*-0x2618+-0xd*-0x47+-0x1*0x29af));for(let _0x5de964=0x1*0xdad+-0x11*0x216+0x15c9;_0x5de964<_0xde5638['length'];_0x5de964++)_0x161696[_0x5de964*(-0x1*-0x1841+0x1*0x7d3+-0x2010)]=_0x4acf94[_0x5de964*(-0x6bf*0x2+-0xa*0x84+-0x1*-0x12a9)],_0x161696[_0x5de964*(0x383+-0x1104+0xd85)+(0x2213+0x6b9+-0x28cb)]=_0x4acf94[_0x5de964*(0x3*0x5e1+0x20d9*0x1+0x10d3*-0x3)+(0x847+-0x7aa*-0x2+-0x179a)],_0x161696[_0x5de964*(-0x2251+-0x219+-0x246e*-0x1)+(0x1ff3*0x1+0x5*-0x25c+-0x1b*0xbf)]=_0x4acf94[_0x5de964*(0x23fc+0x50+0x52f*-0x7)+(0x169b+0x11*-0x1e9+0x278*0x4)],_0x161696[_0x5de964*(-0x16f0+0x33*0xbf+0x1*-0xf19)+(-0x1d04+-0x4*0x4a3+0x2f93)]=_0xde5638[_0x5de964];return _0x161696;}function n1(_0x3e0a8b,_0x283abe,_0x1e67ee,_0x2e12d0,_0x2362e3){const _0x58ea13=new Array(_0x3e0a8b['length']*(0x1c27+0x2016+-0x3c39));for(let _0x58d0d4=-0xb0*-0x5+0x2293*0x1+-0x2603;_0x58d0d4<_0x3e0a8b['length'];_0x58d0d4++)_0x58ea13[_0x58d0d4*(-0xfef*-0x2+-0xfdf+-0xffb)]=_0x3e0a8b[_0x58d0d4],_0x58ea13[_0x58d0d4*(-0xef3+0x1*-0xf12+0xe9*0x21)+(0x8*0x385+-0x1c3*0xd+-0x540)]=_0x283abe[_0x58d0d4],_0x58ea13[_0x58d0d4*(0x7e0+-0xbe0+0x202*0x2)+(0x3*0x2c2+0x1*-0x1174+0x93*0x10)]=0x7*-0x27d+-0x170c*0x1+0x2877*0x1,_0x58ea13[_0x58d0d4*(0x1*0x829+0x12ad+-0x1ad2*0x1)+(-0x551*0x5+-0x1e9c+0x3934)]=O0(_0x1e67ee[_0x58d0d4],_0x2e12d0[_0x58d0d4],_0x2362e3[_0x58d0d4]);return _0x58ea13;}function a1(_0xb4df33,_0x1afe42){const _0x172761=new Array(_0xb4df33['length']*(0x1d3+0x1846+-0x1a15));for(let _0x3d3334=-0x2390+0x49*-0x67+-0x737*-0x9;_0x3d3334<_0xb4df33['length'];_0x3d3334++)_0x172761[_0x3d3334*(-0x7*0x4b9+-0x1ab0+0x3bc3)]=_0xb4df33[_0x3d3334],_0x172761[_0x3d3334*(0x105c+0xc41+-0x1c99)+(0x126b+-0x1359+0xef)]=_0x1afe42[_0x3d3334],_0x172761[_0x3d3334*(-0x6b*0xa+0x12a*-0x6+0x6a*0x1b)+(-0x64a+0x1383+0xc7*-0x11)]=-0x2*0x1123+0x13c+0x210a,_0x172761[_0x3d3334*(-0x151c+-0x257+-0x1*-0x1777)+(0x1*-0x2505+-0x5e*-0x65+-0x7*0x2)]=0x1*-0x81+0x22*-0x7c+-0x4f*-0x37;return _0x172761;}function o1(_0x35f01f){const _0x3222ae=Math['max'](_0x35f01f['rate'],_0x35f01f['rate2'])*_0x35f01f['numParticl'+'es']+_0x35f01f['lifetime'];return Date['now']()+_0x3222ae*(-0x15c8+0x4fc+-0x35*-0x64);}function l1(_0x3d1785,_0x48e2c8){const _0x30b9dd=new Float32Array(_0x3d1785['length']);for(let _0x596c0a=0x1c12+-0x4*0x49a+-0x9aa*0x1;_0x596c0a<_0x3d1785['length'];_0x596c0a++)_0x30b9dd[_0x596c0a]=_0x3d1785[_0x596c0a]-_0x48e2c8[_0x596c0a];return _0x30b9dd;}function Fr(_0x5ce9ca,_0x233207){const _0x48848b=_0x233207['length'],_0x2ecfc5=_0x5ce9ca['length']/_0x48848b;for(let _0x24210b=0x755*0x4+-0x1*0xe9e+-0xeb6;_0x24210b<_0x2ecfc5;_0x24210b++)for(let _0x35d6f9=-0x1c4e+0x257f+-0x931;_0x35d6f9<_0x48848b;_0x35d6f9++){const _0x1890a9=Math['abs'](_0x5ce9ca[_0x24210b*_0x48848b+_0x35d6f9]);_0x233207[_0x35d6f9]=Math['max'](_0x233207[_0x35d6f9],_0x1890a9);}}function h1(_0x4dd5d8,_0x38a790){const _0x553981=_0x38a790['length'],_0x2224dd=_0x4dd5d8['length']/_0x553981;for(let _0xb9170a=-0x54*0x8+-0x1*-0x20cc+-0x1e2c;_0xb9170a<_0x2224dd;_0xb9170a++)for(let _0x3db5d0=-0x167e+-0x1*-0xa91+0xbed;_0x3db5d0<_0x553981;_0x3db5d0++)_0x4dd5d8[_0xb9170a*_0x553981+_0x3db5d0]/=_0x38a790[_0x3db5d0]===0x1*-0x24ad+0xa9c+-0x1a11*-0x1?-0x1442+-0x1653+-0x719*-0x6:_0x38a790[_0x3db5d0],_0x4dd5d8[_0xb9170a*_0x553981+_0x3db5d0]*=0x7c4*-0x4+-0x21e3+-0xd*-0x4ff+0.5,_0x4dd5d8[_0xb9170a*_0x553981+_0x3db5d0]+=-0x5e7*0x3+0x2168+0x1*-0xfb3+0.5;}function Ar(_0xc35850,_0x2db0e7,_0x4c5cda){const _0x56a419=l1(_0x2db0e7,_0xc35850);return Fr(_0x56a419,_0x4c5cda),h1(_0x56a419,_0x4c5cda),_0x56a419;}const c1=new Ot();class d1{constructor(_0x1a6325,_0xe5cbbc){c(this,'material',null),c(this,'internalTe'+'x0',null),c(this,'internalTe'+'x1',null),c(this,'internalTe'+'x2',null),c(this,'colorParam',null),this['graphicsDe'+'vice']=_0x1a6325;const _0x4575ec=_0x1a6325,_0x53db4e=-0x1c*-0xb1+0x1e85*0x1+-0x31c1;this['precision']=_0x53db4e,this['_addTimeTi'+'me']=0x11*0x127+-0x1452+0xbb,Hu=this,fh=_0xe5cbbc,re('numParticl'+'es',0x4c9+0x39f*0x6+-0x1a82),this['numParticl'+'es']>_0x1a6325['maxTexture'+'Size']&&(v['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x1a6325['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x1a6325['maxTexture'+'Size']),re('rate',0x335*-0x1+-0x89d+0xbd3),re('rate2',this['rate']),re('lifetime',-0x2085+0x179f+0x918),re('emitterExt'+'ents',new T(-0x2*-0xa37+0x4eb+-0x3f*0x67,-0x854+-0x3b*-0x61+-0xe07,0x2ef*-0x5+0x16d*-0x17+0x7e9*0x6)),re('emitterExt'+'entsInner',new T(0xd6c+-0x1c5b*0x1+0xeef,-0x692+-0xc73*0x1+0x1305,-0x55*0x67+-0xb9c+0x2dcf)),re('emitterRad'+'ius',-0x19d3+-0x171a+0x30ed),re('emitterRad'+'iusInner',0x24d8+0x3ad*0x5+-0x3739),re('emitterSha'+'pe',Vs),re('initialVel'+'ocity',0x10a9*-0x1+-0x1*-0xaab+0x5ff),re('wrap',!(0xd*-0x1ff+0x3*-0x17f+-0x1e71*-0x1)),re('localSpace',!(-0x7a*0x3+0x61*-0x18+-0x1*-0xa87)),re('screenSpac'+'e',!(0x1f6+-0x233*0xc+-0x8b*-0x2d)),re('wrapBounds',null),re('colorMap',this['defaultPar'+'amTexture']),re('normalMap',null),re('loop',!(-0xb*0xaa+-0xd34+0x1482)),re('preWarm',!(-0x193c+0x95*0x8+0x1495)),re('sort',Du),re('mode',d0),re('scene',null),re('lighting',!(0x79c+0x1*0x264e+0x17*-0x1ff)),re('halfLamber'+'t',!(-0x14cf+-0x1fb4+0x3484*0x1)),re('intensity',0x1559+0x1*-0x2017+0x189*0x7),re('stretch',0x15b7*0x1+-0x1df+-0x14*0xfe),re('alignToMot'+'ion',!(-0x47b*0x1+-0x839*0x2+0x14ee)),re('depthSofte'+'ning',-0x11*0x22+-0x1edc+0x211e),re('mesh',null),re('particleNo'+'rmal',new T(0x8b+-0x601+0x576,-0x1e7b+0x11bf*-0x1+0x303b,-0x1c2c+0x12ec+0x940)),re('orientatio'+'n',Uh),re('depthWrite',!(-0x7*0x48b+0xcb8+0x1316)),re('noFog',!(-0x1*0x3a3+0xd2c+-0x2*0x4c4)),re('blendType',Kt),re('node',null),re('startAngle',-0x20f*0x9+-0x1a3c+-0x1*-0x2cc3),re('startAngle'+'2',this['startAngle']),re('animTilesX',-0x13e1+0x17b0+-0x3ce),re('animTilesY',0xb7f*-0x1+-0x19d9+0x3*0xc73),re('animStartF'+'rame',0x28d*0x1+-0xe47+0xbba),re('animNumFra'+'mes',0x1822+0x4*-0x579+-0x1*0x23d),re('animNumAni'+'mations',-0x14a5+0xbf0+0x8b6),re('animIndex',0x1903+0x1763+-0x3066),re('randomizeA'+'nimIndex',!(0x5*0x455+-0xff5+-0x5b3)),re('animSpeed',0x2f*0x3c+-0x1d1c+0x29*0x71),re('animLoop',!(0x2504+0xd8c+-0x3290)),this['_gpuUpdate'+'r']=new JM(this,_0x4575ec),this['_cpuUpdate'+'r']=new QM(this),this['emitterPos'+'Uniform']=new Float32Array(0xf82+-0x218c+0x1*0x120d),this['wrapBounds'+'Uniform']=new Float32Array(0xa7*0x24+0x198b+0x4*-0xc41),this['emitterSca'+'leUniform']=new Float32Array([0x194b+0xd*-0x2d3+0xb6d,-0x9d3*-0x2+0x1*-0x1674+0x2cf,-0x1a60+0x5*0x21+0x19bc*0x1]),re('colorGraph',i1),re('colorGraph'+'2',this['colorGraph']),re('scaleGraph',P_),re('scaleGraph'+'2',this['scaleGraph']),re('alphaGraph',P_),re('alphaGraph'+'2',this['alphaGraph']),re('localVeloc'+'ityGraph',R_),re('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),re('velocityGr'+'aph',R_),re('velocityGr'+'aph2',this['velocityGr'+'aph']),re('rotationSp'+'eedGraph',M_),re('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),re('radialSpee'+'dGraph',M_),re('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(-0x3*0x7c3+0x222+0x1529),this['animParams']=new Float32Array(-0x1*0x1585+0x105+-0xa42*-0x2),this['animIndexP'+'arams']=new Float32Array(0x1073*0x1+0x1b8b*-0x1+0xb1a),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(-0x1*0x2ed+-0x1a*0x2f+0x44*0x1d),this['useMesh']=!(0x2351+0xd36+0x3087*-0x1),this['useCpu']=!_0x1a6325['supportsGp'+'uParticles'],this['pack8']=!(-0x839+0x1c02+0x3f5*-0x5),this['localBound'+'s']=new _e(),this['worldBound'+'sNoTrail']=new _e(),this['worldBound'+'sTrail']=[new _e(),new _e()],this['worldBound'+'s']=new _e(),this['worldBound'+'sSize']=new T(),this['prevWorldB'+'oundsSize']=new T(),this['prevWorldB'+'oundsCente'+'r']=new T(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new T(),this['worldBound'+'sAdd']=new T(),this['timeToSwit'+'chBounds']=0x1*0x851+0xae+0x7*-0x149,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=-0x2*-0xc7d+0x837+0x1d*-0x125,this['numParticl'+'eIndices']=0x1f3e*-0x1+-0x24f2+0x8*0x886,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=0x20cc+0x78d+-0x1*0x2859,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(0xbc1+0x4*-0x143+0x2*-0x35a)/(-0x1141+0x16*0xd+0x7f*0x21),this['maxSubStep'+'s']=-0x1*-0x978+-0x23f8+0x2b*0x9e,this['simTime']=0x592+-0x1*0x11dd+0xc4b,this['simTimeTot'+'al']=-0x6dd*0x1+0x42*0x6a+0x1*-0x1477,this['beenReset']=!(0x4*0x2a5+-0x1129+-0x1*-0x696),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return v['assert'](this['graphicsDe'+'vice']),c1['get'](this['graphicsDe'+'vice'],()=>{const _0x3a7fd9=new Float32Array(0x2514+0xd*-0x1bb+-0xa95);for(let _0x233cc9=-0x67f+0x22f*0x6+-0x69b;_0x233cc9<-0xc1+-0x13*0x1c3+0x224a;_0x233cc9++)for(let _0x5de988=0x18a5+0x752+0xa7*-0x31;_0x5de988<0x5*0x794+-0x2685+0xb1;_0x5de988++){const _0x287f72=_0x5de988+(-0x17fe+-0x6*0xd3+-0xef*-0x1f)-(-0x24aa+-0x155*-0xb+0x160b+0.5),_0x29a4cf=_0x233cc9+(0x1*0xdf9+0x1*0x20c4+-0x175e*0x2)-(-0x2485+-0x9*-0x23d+0x1068+0.5),_0xbaeff1=C_(-0x11e7+-0x16b7+0x289f-C_(Math['sqrt'](_0x287f72*_0x287f72+_0x29a4cf*_0x29a4cf)/(-0x1a64+-0x10f+0x1b83))-(-0xa7*-0x2b+-0x13f4+0x819*-0x1+0.5)),_0x3df653=_0x233cc9*(-0x2*-0xb51+0x2002+-0x3694)+_0x5de988;_0x3a7fd9[_0x3df653*(0x1*0x132f+-0x7a7*0x1+-0xb84)]=0x925*0x4+0x194f+-0x3de2,_0x3a7fd9[_0x3df653*(-0x1*-0xf51+-0x42d*-0x6+-0x285b*0x1)+(-0x1*-0x22b7+0x6b0+-0x2966)]=0x2*0x752+-0x187b+0x15*0x78,_0x3a7fd9[_0x3df653*(-0x1ed4+0x1641*0x1+-0x897*-0x1)+(-0x107*0xe+0x10d3+-0x26f)]=0x138e*-0x1+-0x4*0x7c9+0x32b3,_0x3a7fd9[_0x3df653*(0x250d+0x916*-0x1+-0x1bf3)+(-0x7b*-0xc+-0x54f+-0x72)]=_0xbaeff1;}const _0x5a33c5=Qt(this['graphicsDe'+'vice'],-0x1*0x1faf+-0x6e1*0x5+0x4224,-0x1765+-0x2710+-0x123*-0x37,_0x3a7fd9,rs,-0x16f*0x1a+0x1*-0x14b6+-0x39fd*-0x1,!(0x1267+0x14b+0x2*-0x9d9));return _0x5a33c5['minFilter']=st,_0x5a33c5['magFilter']=st,_0x5a33c5;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(0x24e1+0xadb*0x1+-0x2fbb)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(-0x25*-0xb+0x2*0x821+0x11d8*-0x1)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(0xeaa*-0x1+0x1171+-0x2c6)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(-0x1*0xdde+-0x2*0x1057+-0x2e8d*-0x1)),this['worldBound'+'sAdd']['x']+=-0x1*-0x25f7+-0x176e+0xe89*-0x1+0.5,this['worldBound'+'sAdd']['y']+=-0x2541*0x1+-0x1f*-0x133+0x14+0.5,this['worldBound'+'sAdd']['z']+=0x7*0x529+0x21fb*0x1+0x230d*-0x2+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x3dc058=!(0x209c*-0x1+-0x17*0x14c+0x3e71);this['emitterSha'+'pe']===Vs?_0x3dc058=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x3dc058=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x3dc058&&this['calculateL'+'ocalBounds']();}const _0x4d9e06=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x4d9e06),this['worldBound'+'sTrail'][0xd*0x295+0x91f+-0x2ab0]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x463+0x1ab1*-0x1+0x1*0x164f]['add'](this['worldBound'+'sNoTrail']);const _0x104012=this['simTimeTot'+'al'];_0x104012>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][0x1955+0x25*-0xba+-0x1*-0x18d]['copy'](this['worldBound'+'sTrail'][0x7bb*-0x1+0x11*0x83+-0x13*0xd]),this['worldBound'+'sTrail'][0x1e1*0x2+0xa89+-0x1*0xe4a]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x104012+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x1*0x19e7+-0x1a76+0x345d]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x77d*-0x2+-0x18ed+0x27e9),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x4d9e06),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x4d9e06)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=-0x1920+0x14*0x7c+-0x3b*-0x43-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0xa6f*0x1+0x7*-0x2c0+-0x95*-0x33]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x51*0x52+0x12b9*-0x1+-0x738]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0x2119+-0x11d*0x13+0x116*-0xb]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x1*-0xc8d+0x24*0xda+-0x1219*0x1),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=-0xa00+-0x3d9+0x2c5*0x5,this['timeToSwit'+'chBounds']=-0x5*0x38b+0x1570+-0x3b9);}['calculateL'+'ocalBounds'](){let _0x1152cd=Number['MAX_VALUE'],_0x2a5b79=Number['MAX_VALUE'],_0x1ee5ba=Number['MAX_VALUE'],_0x105454=-Number['MAX_VALUE'],_0xedb792=-Number['MAX_VALUE'],_0x5b94b0=-Number['MAX_VALUE'],_0x17a1ed=0x18b5+-0xd1a+0x1*-0xb9b,_0xa24632=0x21d*0x2+-0xae5*-0x3+0xb*-0x35b;const _0x5daa6=this['lifetime']/this['precision'],_0x10aa78=[this['qVelocity'],this['qVelocity2']],_0x2f251c=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x15b6a6=[0x1e*-0xd9+0x16a*-0xa+0x5*0x7ea,-0x3f6+0x23ad+0x1*-0x1fb7],_0x583adf=[0x345*-0x2+0x242a+-0x1da0,0x43e*-0x1+-0x41e*0x7+0x2110],_0x54d0bc=[0x47*0x53+-0x1949+0x244,-0x245e+0x17c2+0xc*0x10d],_0x57eb74=[0x2057+0x1*-0xbd7+-0x1480,0x74d+-0x957+0x20a],_0x22b0e3=[0x22*-0x71+-0x3*0x31e+0x2*0xc2e,0x1fdd+0x2*0xa93+-0x1*0x3503];let _0x4d3c55,_0x376192,_0x4b8680;for(let _0xb7ffb4=0x50d*-0x1+-0x1b9b+0x2c*0xbe;_0xb7ffb4<this['precision']+(0x3ca*0x1+-0x1b9e+0x17d5);_0xb7ffb4++){const _0x33fd0a=Math['min'](_0xb7ffb4,this['precision']-(0x1*-0x103a+-0x96f+0x1b6*0xf));for(let _0x1e3b1a=-0xf76+0x227f*0x1+-0x1309;_0x1e3b1a<-0x826+0x4*-0x8f5+0x1*0x2bfc;_0x1e3b1a++)_0x4d3c55=_0x2f251c[_0x1e3b1a][_0x33fd0a*(0x1b7e+0xe*-0xa4+-0x1283)+(0x1f6b+-0x22c6+0x35b)]*_0x5daa6+_0x15b6a6[_0x1e3b1a],_0x376192=_0x2f251c[_0x1e3b1a][_0x33fd0a*(0x6*0x167+-0x1*0x1330+0xfb*0xb)+(-0xf*0x63+0x3*-0x962+0x21f4)]*_0x5daa6+_0x583adf[_0x1e3b1a],_0x4b8680=_0x2f251c[_0x1e3b1a][_0x33fd0a*(-0x2db*0x1+-0x7*-0x51f+-0x20fb)+(0x13*0x12b+0x1*-0xafd+-0xb32)]*_0x5daa6+_0x54d0bc[_0x1e3b1a],_0x1152cd=Math['min'](_0x4d3c55,_0x1152cd),_0x2a5b79=Math['min'](_0x376192,_0x2a5b79),_0x1ee5ba=Math['min'](_0x4b8680,_0x1ee5ba),_0x105454=Math['max'](_0x4d3c55,_0x105454),_0xedb792=Math['max'](_0x376192,_0xedb792),_0x5b94b0=Math['max'](_0x4b8680,_0x5b94b0),_0x15b6a6[_0x1e3b1a]=_0x4d3c55,_0x583adf[_0x1e3b1a]=_0x376192,_0x54d0bc[_0x1e3b1a]=_0x4b8680;for(let _0xf349cc=-0xc3b+0x16a4+-0xa69;_0xf349cc<0x137d*0x2+0x229b+0x4993*-0x1;_0xf349cc++)_0x22b0e3[_0xf349cc]+=_0x5daa6*Math['sqrt'](_0x10aa78[_0xf349cc][_0x33fd0a*(0x1faa+-0x1f55+-0x1*0x52)+(0xf03*0x1+0x55*-0x63+0x12*0xfe)]*_0x10aa78[_0xf349cc][_0x33fd0a*(-0x1c4f*-0x1+-0xebd+0x10b*-0xd)+(0x2569+0x121*-0x1b+-0x1*0x6ee)]+_0x10aa78[_0xf349cc][_0x33fd0a*(-0x2500+0x6+0x11*0x22d)+(-0x74c+-0xde2+-0x13f*-0x11)]*_0x10aa78[_0xf349cc][_0x33fd0a*(-0x671+0x20c0+-0x4*0x693)+(0x2*-0xcd1+-0x1fb8+0x395b)]+_0x10aa78[_0xf349cc][_0x33fd0a*(0x1*0xf2+0x793*-0x5+0x3*0xc50)+(0x72+0x2710+0x9e*-0x40)]*_0x10aa78[_0xf349cc][_0x33fd0a*(-0x66a+0x1781+-0x1114)+(-0x26f1+0x8*0x2b4+0x1153*0x1)]);_0x57eb74[-0x2592+0xd5c+0x3*0x812]+=this['qRadialSpe'+'ed'][_0x33fd0a]*_0x5daa6,_0x57eb74[-0x197f+-0x90f+-0x3*-0xb85]+=this['qRadialSpe'+'ed2'][_0x33fd0a]*_0x5daa6,_0x17a1ed=Math['max'](_0x17a1ed,Math['max'](Math['abs'](_0x57eb74[0xd*-0x219+-0x157f+0x30c4]),Math['abs'](_0x57eb74[0xb23+-0x97*-0x29+-0x2351]))),_0xa24632=Math['max'](_0xa24632,this['qScale'][_0x33fd0a]);}this['emitterSha'+'pe']===Vs?(_0x4d3c55=this['emitterExt'+'ents']['x']*(0x488+-0x4*-0x83f+0x7*-0x55c+0.5),_0x376192=this['emitterExt'+'ents']['y']*(0xdd1+-0x23fc+-0x1*-0x162b+0.5),_0x4b8680=this['emitterExt'+'ents']['z']*(0xaea+0xa5*-0x2b+-0x1*-0x10cd+0.5)):(_0x4d3c55=this['emitterRad'+'ius'],_0x376192=this['emitterRad'+'ius'],_0x4b8680=this['emitterRad'+'ius']);const _0x393499=Math['max'](_0x22b0e3[0x230f+0x1ced+0x71c*-0x9],_0x22b0e3[0xd83+-0x1aa9+-0xd27*-0x1]);Ul['x']=_0x1152cd-_0xa24632-_0x4d3c55-_0x17a1ed-_0x393499,Ul['y']=_0x2a5b79-_0xa24632-_0x376192-_0x17a1ed-_0x393499,Ul['z']=_0x1ee5ba-_0xa24632-_0x4b8680-_0x17a1ed-_0x393499,Vl['x']=_0x105454+_0xa24632+_0x4d3c55+_0x17a1ed+_0x393499,Vl['y']=_0xedb792+_0xa24632+_0x376192+_0x17a1ed+_0x393499,Vl['z']=_0x5b94b0+_0xa24632+_0x4b8680+_0x17a1ed+_0x393499,this['localBound'+'s']['setMinMax'](Ul,Vl);}['rebuild'](){const _0x2ee391=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===Vs?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>Du||_0x2ee391['maxVertexT'+'extures']<=0x36b+-0x1f69+0x1bff||_0x2ee391['fragmentUn'+'iformsCoun'+'t']<0x531*-0x6+0x1180+0xde6||_0x2ee391['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x2ee391['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],ii=this['useCpu']||this['pack8']?0x580+-0x3*0xbf8+0x4*0x79b:0xbc1+0xcc3+-0x1882*0x1,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=N['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x50*0x1+-0x79c*-0x4+-0x1ec0]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][-0xe6*0x5+0x1434+-0xfb5]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x2a3*0x5+-0x1853+0xb26),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x5b0c35=-0xab*-0xc+-0x2253+0x543*0x5;_0x5b0c35<this['numParticl'+'es'];_0x5b0c35++)this['vbToSort'][_0x5b0c35]=[0x4fc*0x1+0x387+-0x883,-0x47d+-0x2*-0xd1+0x1*0x2db];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*ii*zl);const _0x4db59e=this['node']===null||this['localSpace']?T['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===Vs&&(this['node']===null||this['localSpace']?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['spawnBound'+'s']):Tr['setTRS'](T['ZERO'],this['node']['getRotatio'+'n'](),I_['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),ri[-0x1f*-0x74+-0x1217*-0x1+-0x2023]=this['emitterExt'+'ents']['x']!==0x1da0+-0x233*-0xf+-0x3e9d?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x916*-0x1+-0x1*0x23bf+0x3*0x8e3,ri[0x4f9*-0x7+-0xcb2+0x2f82]=this['emitterExt'+'ents']['y']!==0x3c*0xa5+0x21b6+-0x4862?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x15d*0x1b+0xc06+0x843*0x3,ri[-0x1*-0x1307+-0x91*0x3b+0xe66]=this['emitterExt'+'ents']['z']!==-0x3cd+-0xc99+0x1066?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x83d+0x1849*0x1+0x806*-0x2);for(let _0x38268e=0x6b*0x31+0x88d*0x4+-0x36af*0x1;_0x38268e<this['numParticl'+'es'];_0x38268e++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Tr,ri,_0x4db59e,_0x38268e),this['useCpu']&&(this['particleTe'+'x'][_0x38268e*zl+(0x2381+0x17ae*-0x1+-0xbd0)+this['numParticl'+'esPot']*(0x3*0x893+0x50f*-0x1+-0x8*0x295)*zl]=-0x1516*0x1+-0x4d*0x65+0xb7*0x48);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*ii*zl);for(let _0x11789f=0x39*-0x7+0x6*-0x83+0x4f*0xf;_0x11789f<this['particleTe'+'xStart']['length'];_0x11789f++)this['particleTe'+'xStart'][_0x11789f]=this['particleTe'+'x'][_0x11789f];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=Qt(_0x2ee391,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,-0xda2+0x2b3+0xaf0,!(0x1*-0x1484+0x1b96+-0x711)),this['particleTe'+'xOUT']=Qt(_0x2ee391,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,0x13*0x12b+0x1d2e+0x19af*-0x2,!(-0xc89*0x3+0x43*0x66+0xaea)),this['particleTe'+'xStart']=Qt(_0x2ee391,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'],Se,0x1*0x1dea+-0x2*0x118f+0x535,!(0x1*-0x1367+-0x1957*-0x1+-0x5ef))):(this['particleTe'+'xIN']=Qt(_0x2ee391,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xOUT']=Qt(_0x2ee391,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xStart']=Qt(_0x2ee391,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new pt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(-0x23b8+0xcc1+0x16f8)}),this['rtParticle'+'TexOUT']=new pt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(-0x1*-0x2661+0x2113*0x1+-0x4773*0x1)}),this['swapTex']=!(-0x663+-0x11ad+0x1811));const _0xcf00ac=(this['localSpace']?'#define\x20LO'+'CAL_SPACE\x0a':'')+X['particleUp'+'daterInitP'+'S']+(this['pack8']?X['particleIn'+'putRgba8PS']+X['particleOu'+'tputRgba8P'+'S']:X['particleIn'+'putFloatPS']+X['particleOu'+'tputFloatP'+'S'])+(this['emitterSha'+'pe']===Vs?X['particleUp'+'daterAABBP'+'S']:X['particleUp'+'daterSpher'+'ePS'])+X['particleUp'+'daterStart'+'PS'],_0x4081d7=_0xcf00ac+X['particleUp'+'daterRespa'+'wnPS']+X['particleUp'+'daterEndPS'],_0x12bb2e=_0xcf00ac+X['particleUp'+'daterNoRes'+'pawnPS']+X['particleUp'+'daterEndPS'],_0x27d5c7=_0xcf00ac+X['particleUp'+'daterOnSto'+'pPS']+X['particleUp'+'daterEndPS'],_0x34fd30='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'];this['shaderPart'+'icleUpdate'+'Respawn']=Is(_0x2ee391,X['fullscreen'+'QuadVS'],_0x4081d7,'ParticleUp'+'dateRespaw'+'n-'+_0x34fd30),this['shaderPart'+'icleUpdate'+'NoRespawn']=Is(_0x2ee391,X['fullscreen'+'QuadVS'],_0x12bb2e,'ParticleUp'+'dateNoResp'+'awn-'+_0x34fd30),this['shaderPart'+'icleUpdate'+'OnStop']=Is(_0x2ee391,X['fullscreen'+'QuadVS'],_0x27d5c7,'ParticleUp'+'dateStop-'+_0x34fd30),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:-0x1f6*0x8+0x66c+0x948,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][-0x576+-0x1764+0x1cda]['numIndices']:0x1b3b+0xdc7*-0x1+-0xd6e,this['_allocate'](this['numParticl'+'es']);const _0x1748d9=new Ie(_0x2ee391);_0x1748d9['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x1748d9['indexBuffe'+'r'][-0x1e03+0x24ec+0x6e9*-0x1]=this['indexBuffe'+'r'],_0x1748d9['primitive'][0x1f31+0xd*-0x2f5+0x40*0x1d]['type']=Ms,_0x1748d9['primitive'][-0x11ad+-0xc9b*-0x1+0x512]['base']=-0x1*0x1a93+0x3c2+-0x79b*-0x3,_0x1748d9['primitive'][-0x1c2d*-0x1+0x1e9*0x6+-0x27a3]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x1748d9['primitive'][-0x788+0x4*0x15+0x734]['indexed']=!(-0x235+-0xa+-0x73*-0x5),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x4b9da2=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(0x96e+-0x128d+0x91f);this['meshInstan'+'ce']=new Le(_0x1748d9,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(0x63a+-0x64*0x36+0xedf),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(-0x77*-0x31+-0x1619+-0x1d*0x6),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(-0x3da*-0x1+0x133a+-0x1713),this['meshInstan'+'ce']['visible']=_0x4b9da2,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](0x19ba+-0x276+-0x1744,!(-0x3*-0x45+0xc*-0xa7+0x706)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=-0x2244+-0xf*-0x2e+-0x3b*-0x89&&(this['animTilesX']>0x2484+-0xd*0x2ed+-0x6*-0x41||this['animTilesY']>-0x1*0x165+0x1*0x99+0x1*0xcd)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x400ae6=this['precision'],_0x4b072f=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x400ae6),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x400ae6),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x400ae6,0x520+-0x2069+0x7f*0x37,0xe6*0x6+-0xd*0x146+0xb2b),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x400ae6),this['qScale']=this['scaleGraph']['quantize'](_0x400ae6),this['qAlpha']=this['alphaGraph']['quantize'](_0x400ae6),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x400ae6),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x400ae6),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x400ae6),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x400ae6,-0x1*-0xdcd+-0x1*-0x342+-0x110f,-0x1437*-0x1+0x1da0+-0x31d6),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x400ae6),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x400ae6),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x400ae6),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x400ae6);for(let _0x404def=-0x1aa7+0x1*0x2da+-0x9*-0x2a5;_0x404def<_0x400ae6;_0x404def++)this['qRotSpeed'][_0x404def]*=N['DEG_TO_RAD'],this['qRotSpeed2'][_0x404def]*=N['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(-0x1232+0x20a9*-0x1+0x22*0x17f),this['velocityUM'+'ax']=new Float32Array(-0x10de+-0x24*0x17+0x10f*0x13),this['colorUMax']=new Float32Array(0x165a+0x11f8+0x25f*-0x11),this['rotSpeedUM'+'ax']=[0x13d*0x14+-0x1*0x39d+-0x1527],this['scaleUMax']=[0x211d+0x1*0xe7b+0x17cc*-0x2],this['alphaUMax']=[-0x26cc+0x2106+0x5c6],this['radialSpee'+'dUMax']=[-0x19c8+0x53*0x7+-0xd*-0x1cf],this['qLocalVelo'+'cityDiv']=Ar(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Ar(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Ar(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Ar(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Ar(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Ar(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Ar(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x1fd0ea=[-0xc6d+-0x21e3+0x2e50,0xff6*-0x1+0x22f6+0x4c0*-0x4,0x1d*0x147+0x1dfc+0x1*-0x4307];Fr(this['qVelocity'],_0x1fd0ea);const _0x55fd6b=[-0x8*-0x1ee+-0xac9+-0x4a7,-0xad1+-0x2*0x8c2+0x1c55*0x1,0x112+-0x1f56+0x1e44];Fr(this['qVelocity2'],_0x55fd6b);const _0x5179dd=[-0x1dbd+-0x241f+-0xa*-0x696,0x2d1*-0x5+0x2*0x949+-0x47d,0x4*0x91d+0x18a*-0x16+0x2*-0x14c];Fr(this['qLocalVelo'+'city'],_0x5179dd);const _0x43f86e=[-0xe7+-0x1*0x117a+-0x5*-0x3ad,0x817*0x1+0x2*0x1269+0x2ce9*-0x1,-0x2b6*0xb+0x9a*0x37+-0xd1*0x4];Fr(this['qLocalVelo'+'city2'],_0x43f86e);const _0x555a02=[-0xd62+0x1b75+0x1*-0xe13];Fr(this['qRadialSpe'+'ed'],_0x555a02);const _0x5ce869=[-0xb*0x18e+0x266b+-0x1*0x1551];Fr(this['qRadialSpe'+'ed2'],_0x5ce869);let _0x44132f=Math['max'](_0x1fd0ea[0x270b+0x23db+-0x4ae6],_0x55fd6b[0xaf0+0x4c1+0xd*-0x135]);_0x44132f=Math['max'](_0x44132f,_0x1fd0ea[0x180c+0x25b1*-0x1+0xda6]),_0x44132f=Math['max'](_0x44132f,_0x55fd6b[-0xcad+0x2114+-0xe*0x175]),_0x44132f=Math['max'](_0x44132f,_0x1fd0ea[-0x24f7+-0x59c+0x2a95]),_0x44132f=Math['max'](_0x44132f,_0x55fd6b[0x49d*0x1+-0x1c42+-0x1*-0x17a7]);let _0x3bed84=Math['max'](_0x5179dd[-0x385+0x1*0x1637+-0x959*0x2],_0x43f86e[-0x9*0x278+0x4*0x767+0xac*-0xb]);_0x3bed84=Math['max'](_0x3bed84,_0x5179dd[-0x1a57+-0x2479+-0x4d5*-0xd]),_0x3bed84=Math['max'](_0x3bed84,_0x43f86e[-0x1251+-0x1*0x1693+0x28e5]),_0x3bed84=Math['max'](_0x3bed84,_0x5179dd[0x7a*0x2+-0x7e6+-0x5*-0x164]),_0x3bed84=Math['max'](_0x3bed84,_0x43f86e[0xa4*-0x2+-0x94*-0x3+-0x72]);const _0x445731=Math['max'](_0x555a02[0xa*-0x2cc+-0x53*0x72+0x2077*0x2],_0x5ce869[-0xaa0+-0x815*-0x1+0x28b]);this['maxVel']=_0x44132f+_0x3bed84+_0x445731;}this['useCpu']||(this['internalTe'+'x0']=Qt(_0x4b072f,_0x400ae6,-0x213c+0x444+-0x1cf9*-0x1,D_(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=Qt(_0x4b072f,_0x400ae6,-0x1f20+0x23*0x10d+0x2*-0x2d3,D_(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=Qt(_0x4b072f,_0x400ae6,0xa94*0x1+-0xf4b+0x4b8,n1(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=Qt(_0x4b072f,_0x400ae6,0x16b6+0x23bc*-0x1+-0x73*-0x1d,a1(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=Qt(_0x4b072f,_0x400ae6,0x41b*-0x2+-0x1d1e+-0x1f7*-0x13,r1(this['qColor'],this['qAlpha']),rs,-0xef7*-0x1+-0x5cc*-0x3+-0x205a,!(-0x1b*-0xfc+0x26cc+-0x4160));}['_setMateri'+'alTextures'](){this['colorMap']&&(v['call'](()=>{Ey(this['colorMap']['format'])&&v['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x111a3f=new s1(this);return _0x111a3f['name']='EmitterMat'+'erial:'+this['node']['name'],_0x111a3f['cull']=mt,_0x111a3f['alphaWrite']=!(0x2578+-0x17cb*0x1+-0xa*0x15e),_0x111a3f['blendType']=this['blendType'],_0x111a3f['depthWrite']=this['depthWrite'],_0x111a3f;}['resetMater'+'ial'](){const _0x4ee30d=this['material'];_0x4ee30d['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x4ee30d['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x4ee30d['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x4ee30d['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x4ee30d['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x4ee30d['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x4ee30d['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x4ee30d['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x4ee30d['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x4ee30d['setParamet'+'er']('colorParam',this['colorParam']),_0x4ee30d['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x4ee30d['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x4ee30d['setParamet'+'er']('lifetime',this['lifetime']),_0x4ee30d['setParamet'+'er']('rate',this['rate']),_0x4ee30d['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x4ee30d['setParamet'+'er']('seed',this['seed']),_0x4ee30d['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][0x2b3*0xd+-0x1e8d+0x48a*-0x1]),_0x4ee30d['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][-0x2248+-0x1709*-0x1+0xb3f]),_0x4ee30d['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][0x1*0x1bab+-0x13f+0x2*-0xd36]),_0x4ee30d['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x4ee30d['setParamet'+'er']('graphSampl'+'eSize',(-0x1f0d+0x1d9b+-0x1*-0x173)/this['precision']),_0x4ee30d['setParamet'+'er']('emitterSca'+'le',new Float32Array([-0x3e5*0x2+-0x1c84+-0x34d*-0xb,-0x1975+-0x20cf+0x7*0x853,-0x1*-0x225a+-0xcc4+-0x1595])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x4ee30d['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x4ee30d['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x4ee30d['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][0x4*-0x7e1+-0x1*0x1da5+0x3*0x1463]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][0x6*-0xb3+0x21d0+-0x1d9d]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][0x1*-0x21a7+-0x32*-0x55+-0x1*-0x110f]=this['wrapBounds']['z'],_0x4ee30d['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>-0x12ba+-0x6*-0x4ab+-0x948&&_0x4ee30d['setParamet'+'er']('softening',(-0xc17+0x19bd+-0xda5*0x1)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(-0x23fd+0x1a*0x16b+-0x19*0x5))),this['stretch']>0x908*-0x2+-0xe*-0x1e1+0x41f*-0x2&&(_0x4ee30d['cull']=mt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x33191b,_0x2fc4f7;if(this['orientatio'+'n']===Uh)_0x33191b=new Float32Array([-0x145+-0x195f*-0x1+-0x1819,0x19e4+-0x981+-0x1063*0x1,-0x977*-0x3+0x1de0+-0x3a45*0x1]),_0x2fc4f7=new Float32Array([0x145b*0x1+-0x4eb*-0x1+-0xca3*0x2,0x137*0x1d+-0xe13*0x2+-0x715,0x2*-0xeae+0x5f3+0x176a]);else{let _0x5abe7f;this['orientatio'+'n']===Xb?_0x5abe7f=this['particleNo'+'rmal']['normalize']():_0x5abe7f=(this['node']===null?q['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x2831da=new T(-0xb50+0xb36+0x9*0x3,0x1772+-0x17aa+0x38,0x4e8+0x14+-0x4fc);Math['abs'](_0x2831da['dot'](_0x5abe7f))===0x2f+0x1caa*0x1+-0x1a*0x11c&&_0x2831da['set'](-0x1b83+-0x7b2+0x2335,0x44e+-0x1*0x190b+0x1*0x14bd,0x91e+0x163e+-0x1*0x1f5b);const _0x199e04=new T()['cross'](_0x5abe7f,_0x2831da)['normalize']();_0x2831da['cross'](_0x199e04,_0x5abe7f)['normalize'](),_0x33191b=new Float32Array([_0x2831da['x'],_0x2831da['y'],_0x2831da['z']]),_0x2fc4f7=new Float32Array([_0x199e04['x'],_0x199e04['y'],_0x199e04['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x33191b),this['material']['setParamet'+'er']('faceBinorm',_0x2fc4f7);}['_allocate'](_0x15c175){const _0x4182d8=_0x15c175*this['numParticl'+'eVerts'],_0x5ea646=_0x15c175*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(-0x697*-0x5+0x1356+0xa75*-0x5)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x4182d8){const _0x425946=[];this['useCpu']?_0x425946['push']({'semantic':bu,'components':0x4,'type':Ee},{'semantic':wu,'components':0x4,'type':Ee},{'semantic':Ry,'components':0x4,'type':Ee},{'semantic':Iy,'components':0x1,'type':Ee},{'semantic':Dy,'components':this['useMesh']?-0x1*-0x85a+-0x1c20+0x13ca:-0x1*0x16c3+-0x103*-0x9+0x3*0x48e,'type':Ee}):(_0x425946['push']({'semantic':bu,'components':0x4,'type':Ee}),this['useMesh']&&_0x425946['push']({'semantic':wu,'components':0x2,'type':Ee}));const _0x446115=new Et(this['graphicsDe'+'vice'],_0x425946);this['vertexBuff'+'er']=new os(this['graphicsDe'+'vice'],_0x446115,_0x4182d8,{'usage':Th}),this['indexBuffe'+'r']=new lr(this['graphicsDe'+'vice'],nr,_0x5ea646);const _0x2f9bf2=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x1d3c02,_0xfa0cd,_0x256e41;if(this['useMesh']){_0x1d3c02=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0xfa0cd=_0x1d3c02['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x2b0457=-0x121c+0x2339+-0x1*0x111d;_0x2b0457<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x2b0457++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x2b0457]['name']===ns){_0x256e41=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x2b0457]['offset']/(-0x133*0x1f+-0xb55+0x3086);break;}}for(let _0xcee399=0xb26+-0x1*0x8bb+-0x26b;_0xcee399<_0x4182d8;_0xcee399++){const _0x5231b6=Math['floor'](_0xcee399/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x10506c=_0xcee399%this['numParticl'+'eVerts'];_0x2f9bf2[_0xcee399*(0xc0b+-0x5be+0x1*-0x647)]=_0x1d3c02[_0x10506c*_0xfa0cd],_0x2f9bf2[_0xcee399*(0x231b+0x397*-0x3+-0x1850)+(-0x160c+-0x9*0xca+-0x1*-0x1d27)]=_0x1d3c02[_0x10506c*_0xfa0cd+(0xaad+-0x3*-0x679+-0x1e17)],_0x2f9bf2[_0xcee399*(-0x1*0x4c1+0x2c2*-0x2+0xa4b)+(-0x1218+0x1a63+0x15*-0x65)]=_0x1d3c02[_0x10506c*_0xfa0cd+(0x1fcb+0xd5c+0xd*-0x379)],_0x2f9bf2[_0xcee399*(0x2*-0x3b6+0x12*-0x43+-0x614*-0x2)+(-0x2*0x2cf+0x102e+-0xa8d*0x1)]=_0x5231b6,_0x2f9bf2[_0xcee399*(0x27*0x45+0x18ba+0xbbd*-0x3)+(-0x20*-0x32+0x8*-0x388+0xb02*0x2)]=_0x1d3c02[_0x10506c*_0xfa0cd+_0x256e41+(0x112*0x1+-0x2be+0x1ac)],_0x2f9bf2[_0xcee399*(0xd0*0x7+0x100d+-0x73d*0x3)+(-0x11ae+0x259+0xf5a)]=0x72*0x1b+-0x1f21+0x131c-_0x1d3c02[_0x10506c*_0xfa0cd+_0x256e41+(-0x17f0+-0x17b+-0x196c*-0x1)];}else{const _0x6d5f15=_0xcee399%(0x956+-0x9*0x2dd+-0x1*-0x1073);_0x2f9bf2[_0xcee399*(-0xe4e+0x3*-0x329+0x3*0x7ef)]=E_[_0x6d5f15][-0x1*-0x13ec+0x738+-0x24*0xc1],_0x2f9bf2[_0xcee399*(-0x1d7*0x10+0x164e+0x726)+(0x176a+-0x30a+-0x5*0x413)]=E_[_0x6d5f15][0x148*0x13+0x38+-0x188f*0x1],_0x2f9bf2[_0xcee399*(0x1f83*0x1+0x1*-0x99b+-0x1d3*0xc)+(-0x729*-0x2+-0x1a3f*-0x1+-0xd85*0x3)]=0x9a*-0x29+-0xb3*0x4+0x1b76,_0x2f9bf2[_0xcee399*(-0x93*0x4+0x2256+-0x1003*0x2)+(-0x181e+-0x1cf5+0x3516)]=_0x5231b6;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x2f9bf2),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x22cab3=0x72*-0x12+-0x184f+0x2053;const _0x345d37=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x3ca1f1=this['mesh']['indexBuffe'+'r'][-0x19*-0x172+0xf*-0xf7+0x1*-0x15a9];_0x1d3c02=new Lh[_0x3ca1f1['format']](_0x3ca1f1['lock']());}for(let _0x1f19b4=0x1470*-0x1+0x1*-0x1193+0x2603;_0x1f19b4<_0x15c175;_0x1f19b4++)if(this['useMesh']){for(let _0x3fc84e=0x3d8+0x2c*0x1c+-0x8a8;_0x3fc84e<this['numParticl'+'eIndices'];_0x3fc84e++)_0x345d37[_0x1f19b4*this['numParticl'+'eIndices']+_0x3fc84e]=_0x1d3c02[_0x3fc84e]+_0x1f19b4*this['numParticl'+'eVerts'];}else{const _0xf813b9=_0x1f19b4*(-0x11a1*0x1+0x62*-0x33+0x76f*0x5);_0x345d37[_0x22cab3++]=_0xf813b9,_0x345d37[_0x22cab3++]=_0xf813b9+(0x92*0x39+0xd92+-0x2e13),_0x345d37[_0x22cab3++]=_0xf813b9+(0x4*0x76d+-0x1c6*-0x9+-0x2da8),_0x345d37[_0x22cab3++]=_0xf813b9,_0x345d37[_0x22cab3++]=_0xf813b9+(0x449*0x1+-0x10*0x196+0xb*0x1eb),_0x345d37[_0x22cab3++]=_0xf813b9+(-0xae*0x33+-0x26b0+0x495d);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][0x1d*0x4c+-0xef9+0x65d]['unlock']();}}['reset'](){if(this['beenReset']=!(0x2275+0xc7b+-0x2ef0),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x1ff6db=0x259b+0xe4c+0x67*-0x81;_0x1ff6db<this['particleTe'+'xStart']['length'];_0x1ff6db++)this['particleTe'+'x'][_0x1ff6db]=this['particleTe'+'xStart'][_0x1ff6db];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x100d57=this['loop'];this['loop']=!(-0x4f0+-0xdb0+0x1*0x12a0),this['addTime'](0x11fa+-0x7d0+-0x1*0xa2a,!(0x2669*-0x1+-0xc0c+-0x10d2*-0x3)),this['loop']=_0x100d57,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x5adff1){const _0x47b251=_0x5adff1/this['lifetime'],_0x50e119=Math['min'](Math['floor'](_0x47b251*this['precision']),this['precision']),_0x1a5004=_0x5adff1/_0x50e119;for(let _0x2a5d68=0x64b*-0x1+-0x154e+0x1b99;_0x2a5d68<_0x50e119;_0x2a5d68++)this['addTime'](_0x1a5004,!(-0x1d86+-0x8d+-0x6e*-0x46));}['resetTime'](){this['endTime']=o1(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x2105fe,_0x1617e9){const _0x256c3b=this['graphicsDe'+'vice'],_0x3c9e52=ne();if(this['simTimeTot'+'al']+=_0x2105fe,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x449344=this['animTilesP'+'arams'];_0x449344[0x4*-0x172+-0x5*-0x3b+0xf*0x4f]=(0x92e+0x1cf4+-0x2621)/this['animTilesX'],_0x449344[-0x846+0xf9d+-0x756]=(0x2*-0x427+-0x1b2+0xa01)/this['animTilesY'];const _0x5a2a62=this['animParams'];_0x5a2a62[-0x851+0x1627+-0xdd6]=this['animStartF'+'rame'],_0x5a2a62[-0x11*-0x1e+-0x6f2*-0x5+0x2d3*-0xd]=this['animNumFra'+'mes']*this['animSpeed'],_0x5a2a62[-0x2*-0xbcb+-0x209*0x10+-0x1cc*-0x5]=this['animNumFra'+'mes']-(0x1*0x2442+0x59b+-0x4c*0x8d),_0x5a2a62[0x1a3*0x7+0x1070+-0x1be2]=this['animNumAni'+'mations']-(-0x6f3+-0x1*-0x1723+-0x102f);const _0x38fa7a=this['animIndexP'+'arams'];_0x38fa7a[0xd6*-0xc+0xca*-0x1b+0x1f56*0x1]=this['animIndex'],_0x38fa7a[0x22d*0x6+-0x9c3+-0x34a]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===Vs&&(ri[0x8*0x10+0x5*0x685+0x25*-0xe5]=this['emitterExt'+'ents']['x']!==0x2*-0x10d7+-0x256+-0xa*-0x39a?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x2370+0x21d4+0x19c,ri[0x37*-0x1f+-0x972+0x101c]=this['emitterExt'+'ents']['y']!==0x1280+0x9*-0x21e+-0x1*-0x8e?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0xdc9+0x2630+-0x33f9,ri[-0x1083*-0x2+-0x1bf4+-0x510]=this['emitterExt'+'ents']['z']!==0x2353+-0x41f*0x9+0x1c4?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x1f*-0x6f+-0x1236+-0x3*-0x197,this['meshInstan'+'ce']['node']===null?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['emitterExt'+'ents']):Tr['setTRS'](T['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),I_['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x356c56;const _0x4be1e8=this['meshInstan'+'ce']['node']===null?T['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][-0x2183+-0x2c*0x56+0x304b]=_0x4be1e8['x'],this['emitterSca'+'leUniform'][0x1*0x14ae+0x1c5*-0x1+-0x12e8]=_0x4be1e8['y'],this['emitterSca'+'leUniform'][-0x3ad*-0x4+0x4ee*-0x3+-0x4*-0x6]=_0x4be1e8['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x356c56=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][-0x177*-0x13+-0xd*-0x24a+-0x3997]=_0x356c56['x'],this['emitterPos'+'Uniform'][0x78a+0x1e4+0x7f*-0x13]=_0x356c56['y'],this['emitterPos'+'Uniform'][-0xd04+0x4f*0x5e+-0x554*0x3]=_0x356c56['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x256c3b,Tr,ri,_0x2105fe,_0x1617e9);else{const _0x31b044=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x31b044,this['vbToSort'],this['particleTe'+'x'],Tr,ri,_0x356c56,_0x2105fe,_0x1617e9);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(-0x23b6+0x90c+-0x1aab*-0x1)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=ne()-_0x3c9e52;}['_destroyRe'+'sources'](){var _0x1b46bb,_0x1e92e2,_0x42c247,_0x258679,_0x10d4c0,_0x75ed4e,_0x32001e,_0xfd52bb,_0x178f17,_0x339d8d,_0x554865,_0x55d1e1;(_0x1b46bb=this['particleTe'+'xIN'])==null||_0x1b46bb['destroy'](),this['particleTe'+'xIN']=null,(_0x1e92e2=this['particleTe'+'xOUT'])==null||_0x1e92e2['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x42c247=this['rtParticle'+'TexIN'])==null||_0x42c247['destroy'](),this['rtParticle'+'TexIN']=null,(_0x258679=this['rtParticle'+'TexOUT'])==null||_0x258679['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x10d4c0=this['internalTe'+'x0'])==null||_0x10d4c0['destroy'](),this['internalTe'+'x0']=null,(_0x75ed4e=this['internalTe'+'x1'])==null||_0x75ed4e['destroy'](),this['internalTe'+'x1']=null,(_0x32001e=this['internalTe'+'x2'])==null||_0x32001e['destroy'](),this['internalTe'+'x2']=null,(_0xfd52bb=this['internalTe'+'x3'])==null||_0xfd52bb['destroy'](),this['internalTe'+'x3']=null,(_0x178f17=this['colorParam'])==null||_0x178f17['destroy'](),this['colorParam']=null,(_0x339d8d=this['vertexBuff'+'er'])==null||_0x339d8d['destroy'](),this['vertexBuff'+'er']=void(0xcd0+-0x1*-0x1ad+-0xe7d),(_0x554865=this['indexBuffe'+'r'])==null||_0x554865['destroy'](),this['indexBuffe'+'r']=void(0xf6c+0x7*0x336+-0x25e6),(_0x55d1e1=this['material'])==null||_0x55d1e1['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class u1 extends It{['generateKe'+'y'](_0x38c347){const _0xdad1af=_0x38c347['shaderDesc'],_0x3981b0=_0xdad1af['vertexCode']?hn(_0xdad1af['vertexCode']):0x119f+0xa1b+-0x1bba,_0x385d89=_0xdad1af['fragmentCo'+'de']?hn(_0xdad1af['fragmentCo'+'de']):0x5*-0x127+0x36*0x95+-0x19ab,_0xa8cd5=It['definesHas'+'h'](_0x38c347['defines']);let _0x3538d4=_0xdad1af['uniqueName']+'_'+_0x3981b0+'_'+_0x385d89+'_'+_0xa8cd5;return _0x38c347['skin']&&(_0x3538d4+='_skin'),_0x38c347['useInstanc'+'ing']&&(_0x3538d4+='_inst'),_0x38c347['useMorphPo'+'sition']&&(_0x3538d4+='_morphp'),_0x38c347['useMorphNo'+'rmal']&&(_0x3538d4+='_morphn'),_0x38c347['useMorphTe'+'xtureBased'+'Int']&&(_0x3538d4+='_morphi'),_0x3538d4;}['createAttr'+'ibutesDefi'+'nition'](_0x2e7b25,_0x518de1){const _0x42804e=_0x518de1['shaderDesc']['attributes'],_0x2c8622=_0x42804e?{..._0x42804e}:void(-0x7b*-0x3b+0x3f*-0x7a+-0x1*-0x1ad);_0x518de1['skin']&&(_0x2c8622['vertex_bon'+'eWeights']=Ys,_0x2c8622['vertex_bon'+'eIndices']=qt),(_0x518de1['useMorphPo'+'sition']||_0x518de1['useMorphNo'+'rmal'])&&(_0x2c8622['morph_vert'+'ex_id']=ya),_0x2e7b25['attributes']=_0x2c8622;}['createVert'+'exDefiniti'+'on'](_0x4ac020,_0xdd199b,_0x2c2a70){const _0x291511=_0xdd199b['shaderDesc'];if(_0x4ac020['shaderLang'+'uage']===Ph)_0x4ac020['vertexCode']=_0x291511['vertexCode'];else{const _0x4a7b32=new Map(_0x2c2a70),_0x21c5fa=new Map(_0xdd199b['defines']);_0x4a7b32['set']('transformI'+'nstancingV'+'S',''),_0xdd199b['skin']&&_0x21c5fa['set']('SKIN',!(0x1*0x19f2+0x1*-0x1e1d+0x1*0x42b)),_0xdd199b['useInstanc'+'ing']&&_0x21c5fa['set']('INSTANCING',!(0x94e+0x1*-0x1d71+0x1423)),(_0xdd199b['useMorphPo'+'sition']||_0xdd199b['useMorphNo'+'rmal'])&&(_0x21c5fa['set']('MORPHING',!(-0x1*-0x68e+0x15d*0x19+-0x1*0x28a3)),_0xdd199b['useMorphTe'+'xtureBased'+'Int']&&_0x21c5fa['set']('MORPHING_I'+'NT',!(-0x32d*-0x3+0x1e8a+-0x2811)),_0xdd199b['useMorphPo'+'sition']&&_0x21c5fa['set']('MORPHING_P'+'OSITION',!(0x17f5+-0xb0*-0x19+0xdb7*-0x3)),_0xdd199b['useMorphNo'+'rmal']&&_0x21c5fa['set']('MORPHING_N'+'ORMAL',!(0x2*0x11a5+0x1ce1+-0x402b))),_0x4ac020['vertexCode']=_0x291511['vertexCode'],_0x4ac020['vertexIncl'+'udes']=_0x4a7b32,_0x4ac020['vertexDefi'+'nes']=_0x21c5fa;}}['createFrag'+'mentDefini'+'tion'](_0x2e0488,_0xebfc1a,_0x525336){const _0x5af548=_0xebfc1a['shaderDesc'];if(_0x2e0488['shaderLang'+'uage']===Ph)_0x2e0488['fragmentCo'+'de']=_0x5af548['fragmentCo'+'de'];else{const _0x557c9c=new Map(_0x525336),_0x13f141=new Map(_0xebfc1a['defines']);_0x2e0488['fragmentCo'+'de']=_0x5af548['fragmentCo'+'de'],_0x2e0488['fragmentIn'+'cludes']=_0x557c9c,_0x2e0488['fragmentDe'+'fines']=_0x13f141;}}['createShad'+'erDefiniti'+'on'](_0x187887,_0x4625da){const _0xd21a6=_0x4625da['shaderDesc'],_0x2ec871={'name':'ShaderMate'+'rial-'+_0xd21a6['uniqueName'],'shaderLanguage':_0xd21a6['shaderLang'+'uage'],'fragmentOutputTypes':_0xd21a6['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0xd21a6['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0xd21a6['meshBindGr'+'oupFormat']},_0x3ef2da=new Map(Object['entries']({...X,..._0x4625da['chunks']}));return this['createAttr'+'ibutesDefi'+'nition'](_0x2ec871,_0x4625da),this['createVert'+'exDefiniti'+'on'](_0x2ec871,_0x4625da,_0x3ef2da),this['createFrag'+'mentDefini'+'tion'](_0x2ec871,_0x4625da,_0x3ef2da),Mt['createDefi'+'nition'](_0x187887,_0x2ec871);}}const f1=new u1();class Ra extends yn{constructor(_0x303e95){super(),c(this,'_shaderDes'+'c'),this['shaderDesc']=_0x303e95;}set['shaderDesc'](_0x1b90a7){_0x1b90a7&&(v['assert'](_0x1b90a7['vertexCode'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'vertexCode'),v['assert'](_0x1b90a7['fragmentCo'+'de'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'fragmentCo'+'de')),this['_shaderDes'+'c']=_0x1b90a7?{..._0x1b90a7}:void(-0x159b+0x1c63+-0xe*0x7c),this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0xaca239){return super['copy'](_0xaca239),this['shaderDesc']=_0xaca239['shaderDesc'],this;}['getShaderV'+'ariant'](_0x27f1a7){const {objDefs:_0x25d9bb}=_0x27f1a7,_0x56a195={'defines':Dp(this,_0x27f1a7),'skin':(_0x25d9bb&Wc)!==0x125d+-0x28c*-0x4+-0x1*0x1c8d,'useInstancing':(_0x25d9bb&$c)!==-0x1955+-0x227+0x4*0x6df,'useMorphPosition':(_0x25d9bb&qc)!==-0x3*-0x918+0xf*-0x186+0x237*-0x2,'useMorphNormal':(_0x25d9bb&Xc)!==0x2b*-0xa5+-0x1942+0x34f9,'useMorphTextureBasedInt':(_0x25d9bb&jc)!==-0x2004+-0xdd6+-0x1*-0x2dda,'pass':_0x27f1a7['pass'],'gamma':_0x27f1a7['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x27f1a7['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x27f1a7['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'chunks':this['chunks']??{}},_0x4c3ff6=new Yc(_0x27f1a7['viewUnifor'+'mFormat'],_0x27f1a7['viewBindGr'+'oupFormat'],_0x27f1a7['vertexForm'+'at']),_0x16b5cd=ka(_0x27f1a7['device']);return _0x16b5cd['register']('shader-mat'+'erial',f1),_0x16b5cd['getProgram']('shader-mat'+'erial',_0x56a195,_0x4c3ff6,this['userId']);}}const k0=(_0x22ee82,_0x3436f6)=>{const _0x10cc2c=_0x3436f6['length']/(-0x1*-0x5b+-0x281+-0x229*-0x1),_0x36f23d=_0x22ee82['length']/(-0x5bf+-0xb7*-0x1f+-0x13*0xdd),_0x5e901f=new T(),_0x480a68=new T(),_0x294406=new T(),_0x1de393=new T(),_0x5a1d3d=new T(),_0x12faba=new T(),_0x39ab4e=[];for(let _0x169a94=-0x481+-0x1696+0x1b17;_0x169a94<_0x22ee82['length'];_0x169a94++)_0x39ab4e[_0x169a94]=-0x109a+-0x2635+-0x36cf*-0x1;for(let _0xe4a599=-0x76*-0x1+-0x29+-0x4d;_0xe4a599<_0x10cc2c;_0xe4a599++){const _0x1e8a40=_0x3436f6[_0xe4a599*(0x1435+-0x2*0xae7+0x19c)],_0x2d4920=_0x3436f6[_0xe4a599*(0x7fe+-0x2114*-0x1+-0x290f)+(0x1*-0x1e4f+0xf33+0xf1d)],_0x33895e=_0x3436f6[_0xe4a599*(-0x2*0xd9a+0x1db5+-0x27e)+(-0x156+-0x1ab8+-0x1c1*-0x10)];_0x5e901f['set'](_0x22ee82[_0x1e8a40*(0x22e+0x841*-0x4+0x1ed9)],_0x22ee82[_0x1e8a40*(-0x1569+-0x1*-0x1706+-0x19a)+(-0x4*0x153+-0x231e+0x286b)],_0x22ee82[_0x1e8a40*(-0x1*0x1183+-0x1275*-0x1+0x1*-0xef)+(-0xd16+-0x1*0x152e+0x2246)]),_0x480a68['set'](_0x22ee82[_0x2d4920*(0x1*0x17e9+-0x1*0x214a+-0x2*-0x4b2)],_0x22ee82[_0x2d4920*(0x52a*0x3+-0x3*0x4c+0x2d*-0x53)+(0x1d31+0x89*0x1e+-0x169f*0x2)],_0x22ee82[_0x2d4920*(0xe9f*-0x1+-0x729*0x3+-0x739*-0x5)+(-0x139c+0x1*-0x146f+0x280d)]),_0x294406['set'](_0x22ee82[_0x33895e*(0xa49*-0x2+0xf6e+0x1*0x527)],_0x22ee82[_0x33895e*(0x2*0x7a5+-0x23c+-0xd0b)+(-0x13*0x17f+-0xad*0x3+0x1e75)],_0x22ee82[_0x33895e*(-0x226a+0x1496+0xdd7)+(0x4eb*0x7+-0x23aa+-0x1*-0x13f)]),_0x1de393['sub2'](_0x480a68,_0x5e901f),_0x5a1d3d['sub2'](_0x294406,_0x5e901f),_0x12faba['cross'](_0x1de393,_0x5a1d3d)['normalize'](),_0x39ab4e[_0x1e8a40*(0x8f6+-0x2114+0x1821)]+=_0x12faba['x'],_0x39ab4e[_0x1e8a40*(0x23de*0x1+0x89*-0x4+-0x21b7)+(0x1cbb+0x2b8+-0x1f72)]+=_0x12faba['y'],_0x39ab4e[_0x1e8a40*(0x126+0xf01+0x1024*-0x1)+(0x16b+0x5ab*0x1+-0x714)]+=_0x12faba['z'],_0x39ab4e[_0x2d4920*(-0x141*-0x9+-0x22d9*-0x1+-0x2e1f)]+=_0x12faba['x'],_0x39ab4e[_0x2d4920*(0xb73*0x1+0x36*0x3+-0xc12)+(-0x1673+0x1*0xb96+-0x56f*-0x2)]+=_0x12faba['y'],_0x39ab4e[_0x2d4920*(-0x4*-0x3a4+0x1005*0x1+-0x1e92)+(0x218d+-0x47*0x7d+-0x6*-0x30)]+=_0x12faba['z'],_0x39ab4e[_0x33895e*(-0x2b1+-0x1515+-0x17c9*-0x1)]+=_0x12faba['x'],_0x39ab4e[_0x33895e*(0xee6+0x18b2+0x1*-0x2795)+(0xdcd+-0x85e+-0x56e)]+=_0x12faba['y'],_0x39ab4e[_0x33895e*(-0xe*0x222+0x16ec+0x6f3)+(0x602*-0x3+0x1d82+-0xb7a)]+=_0x12faba['z'];}for(let _0x1c6ec9=0x1d+0x905+0x2*-0x491;_0x1c6ec9<_0x36f23d;_0x1c6ec9++){const _0x1287d2=_0x39ab4e[_0x1c6ec9*(-0xc98+-0x1b6b+-0x1*-0x2806)],_0x1982ea=_0x39ab4e[_0x1c6ec9*(0xc65*0x1+-0x10e8+0x3*0x182)+(0xec0+0x505+0x16*-0xe6)],_0x3e84e7=_0x39ab4e[_0x1c6ec9*(-0x110d+-0x1c6f*-0x1+-0xb5f)+(0x2122+0xac8+-0x2be8)],_0x1a6029=(0x2486+-0x10cc+-0x13b9)/Math['sqrt'](_0x1287d2*_0x1287d2+_0x1982ea*_0x1982ea+_0x3e84e7*_0x3e84e7);_0x39ab4e[_0x1c6ec9*(-0xf*-0x269+-0x1c8d+-0x797)]*=_0x1a6029,_0x39ab4e[_0x1c6ec9*(-0x2449*0x1+-0x112*0x24+0x4ad4)+(0x166f+-0xac*0xc+0x3*-0x4ca)]*=_0x1a6029,_0x39ab4e[_0x1c6ec9*(0x1d66+0x1506+-0x5*0xa15)+(-0x5*0x53+0x1ac*-0x4+-0x851*-0x1)]*=_0x1a6029;}return _0x39ab4e;},fr=(_0x419ebd,_0x25f60f,_0x55e172,_0xad2719)=>{const _0x3bbfe1=_0xad2719['length']/(0xf00+-0xa09*-0x1+-0x2*0xc83),_0x32e7e4=_0x419ebd['length']/(-0x16ad+-0x8*0x1b+0x1788),_0x3d0911=new T(),_0x28f75d=new T(),_0x919e2b=new T(),_0x2d6e0d=new W(),_0x461476=new W(),_0x40c6fd=new W(),_0x258f84=new T(),_0x14ba7d=new T(),_0x2af206=new Float32Array(_0x32e7e4*(-0x6dc+-0x1*0x1813+0x22*0xe9)),_0x2ecc73=new Float32Array(_0x32e7e4*(-0x22f6+0x1262+0x89*0x1f)),_0x5e99a8=[];for(let _0x5d128f=-0x1*0x298+0xe36+-0xb9e;_0x5d128f<_0x3bbfe1;_0x5d128f++){const _0x2d188c=_0xad2719[_0x5d128f*(-0xbf*-0x6+0xe17*0x1+0x3b6*-0x5)],_0x203cc2=_0xad2719[_0x5d128f*(-0x1d*-0x12b+0x2094+-0x8*0x84e)+(0x2389+0x14e2+-0x386a)],_0x49f0b7=_0xad2719[_0x5d128f*(0x1113+-0x67*0x13+-0x1*0x96b)+(-0x2463+0x1163+0x1302)];_0x3d0911['set'](_0x419ebd[_0x2d188c*(-0x2557+-0x3c0+0x291a)],_0x419ebd[_0x2d188c*(-0x14f2*0x1+0x1426+0xcf)+(0x3*0x39f+0xe17+-0x18f3)],_0x419ebd[_0x2d188c*(-0x10*-0x1fc+0x21f9+-0x41b6)+(-0x26d1*0x1+0x4c*-0x61+-0x7*-0x9a9)]),_0x28f75d['set'](_0x419ebd[_0x203cc2*(0x2347+-0x101*-0x18+0xed7*-0x4)],_0x419ebd[_0x203cc2*(0x1623*-0x1+-0x367*0x2+0xda*0x22)+(-0x1035+-0x4eb+0x259*0x9)],_0x419ebd[_0x203cc2*(-0x4*-0x308+-0x1a53+0xe36)+(0x1*0x1bd1+0x13f2*-0x1+-0x7dd)]),_0x919e2b['set'](_0x419ebd[_0x49f0b7*(0x2028+0x33*0x1d+-0x25ec)],_0x419ebd[_0x49f0b7*(0x806*0x1+0x2612+-0x2e15)+(0xfb8*0x1+-0x11*0x72+-0x1a1*0x5)],_0x419ebd[_0x49f0b7*(-0x2485+-0x18ae+0x2*0x1e9b)+(0xe33+0x1712+-0x2543)]),_0x2d6e0d['set'](_0x55e172[_0x2d188c*(0xbfd+0xd*-0x56+-0x79d*0x1)],_0x55e172[_0x2d188c*(0x2ef*-0x4+0xf1b*0x2+-0x93c*0x2)+(-0x921+0x1de2+-0x2*0xa60)]),_0x461476['set'](_0x55e172[_0x203cc2*(-0x808+-0xa12+0x3d*0x4c)],_0x55e172[_0x203cc2*(-0x3*0x2d+-0x1493+0x151c)+(0x1a62+0x1edf*0x1+-0x3940)]),_0x40c6fd['set'](_0x55e172[_0x49f0b7*(-0xa*0x3c5+-0x8f8+0x2eac)],_0x55e172[_0x49f0b7*(-0x21a1*0x1+0x4c9*-0x1+0x266c)+(-0x905+0x22c8+-0xe*0x1d7)]);const _0x468e9e=_0x28f75d['x']-_0x3d0911['x'],_0x1721f8=_0x919e2b['x']-_0x3d0911['x'],_0x263181=_0x28f75d['y']-_0x3d0911['y'],_0x51e53c=_0x919e2b['y']-_0x3d0911['y'],_0xd77349=_0x28f75d['z']-_0x3d0911['z'],_0x507673=_0x919e2b['z']-_0x3d0911['z'],_0x3ae78d=_0x461476['x']-_0x2d6e0d['x'],_0x163138=_0x40c6fd['x']-_0x2d6e0d['x'],_0x4a9d19=_0x461476['y']-_0x2d6e0d['y'],_0x9069be=_0x40c6fd['y']-_0x2d6e0d['y'],_0x3a65e0=_0x3ae78d*_0x9069be-_0x163138*_0x4a9d19;if(_0x3a65e0===0x7*-0x1f9+0x6d5+0x37d*0x2)_0x258f84['set'](0xc5*-0xa+-0x5*0x5aa+0x734*0x5,-0x1*-0x20b+0xe1a+-0x1024,-0xaa1+-0x17f1+0x2292),_0x14ba7d['set'](0xd83+-0xc33*0x2+-0x52*-0x22,-0x3df*-0x4+0xd65+-0x1ce1,-0x1*0x130c+-0xdf*-0xd+0x293*0x3);else{const _0x19b3ca=(0x1634+0x13c5+-0x29f8)/_0x3a65e0;_0x258f84['set']((_0x9069be*_0x468e9e-_0x4a9d19*_0x1721f8)*_0x19b3ca,(_0x9069be*_0x263181-_0x4a9d19*_0x51e53c)*_0x19b3ca,(_0x9069be*_0xd77349-_0x4a9d19*_0x507673)*_0x19b3ca),_0x14ba7d['set']((_0x3ae78d*_0x1721f8-_0x163138*_0x468e9e)*_0x19b3ca,(_0x3ae78d*_0x51e53c-_0x163138*_0x263181)*_0x19b3ca,(_0x3ae78d*_0x507673-_0x163138*_0xd77349)*_0x19b3ca);}_0x2af206[_0x2d188c*(-0xb*-0x219+-0x71*0x3b+0x2fb*0x1)+(-0x76*-0x1+0x2d*0xb1+0x1f93*-0x1)]+=_0x258f84['x'],_0x2af206[_0x2d188c*(-0x2629+-0xbb6+0x31e2)+(0x381+-0x1c7f+0x51*0x4f)]+=_0x258f84['y'],_0x2af206[_0x2d188c*(0x53c+0x249a+-0x29d3)+(-0x2345*0x1+-0x140a+-0x3751*-0x1)]+=_0x258f84['z'],_0x2af206[_0x203cc2*(-0x243a+0x1a79+0x9c4)+(0x14e8+0x655+-0x1b3d)]+=_0x258f84['x'],_0x2af206[_0x203cc2*(-0x193b+0x1*-0x24dd+0x1*0x3e1b)+(0x41*-0x7f+-0xd*-0x13d+0x33b*0x5)]+=_0x258f84['y'],_0x2af206[_0x203cc2*(-0x1621+0x3*0xcc4+-0x1028)+(0x1eba+0x2392+-0xd42*0x5)]+=_0x258f84['z'],_0x2af206[_0x49f0b7*(0x18*-0xdf+-0x101*0x11+-0x23c*-0x11)+(0x253+-0x1*-0x1c96+-0x1ee9)]+=_0x258f84['x'],_0x2af206[_0x49f0b7*(-0x455*0x1+0xb*0xa1+-0x293)+(0x948+0x7f*0x11+-0x2*0x8db)]+=_0x258f84['y'],_0x2af206[_0x49f0b7*(-0x3*0x287+0x1805+-0x106d)+(0x1f14+0x20f+-0x2121)]+=_0x258f84['z'],_0x2ecc73[_0x2d188c*(-0x9af*-0x1+0xe3*-0x7+0x377*-0x1)+(0x1*-0x1ec5+-0x11cc+-0x1*-0x3091)]+=_0x14ba7d['x'],_0x2ecc73[_0x2d188c*(0x3*-0x45d+0x100c+0xd*-0x3a)+(-0xa6d+0x1*-0x3da+-0x724*-0x2)]+=_0x14ba7d['y'],_0x2ecc73[_0x2d188c*(-0x24ea+-0x5*0x505+0x3e06)+(-0x5*-0x5f7+0xe*0x287+-0x4133)]+=_0x14ba7d['z'],_0x2ecc73[_0x203cc2*(0x184*-0x2+0x2440+-0x2135)+(0x9b4+0x106e+-0x1a22)]+=_0x14ba7d['x'],_0x2ecc73[_0x203cc2*(0x190+0x1*-0x12cf+0x1*0x1142)+(-0x1*-0x58d+-0x379*-0x5+-0x55*0x45)]+=_0x14ba7d['y'],_0x2ecc73[_0x203cc2*(-0xd*0xe5+-0xb*0x1bf+0x35*0x95)+(-0x76*0x41+0x138a+-0x5*-0x216)]+=_0x14ba7d['z'],_0x2ecc73[_0x49f0b7*(-0x14e1+0x3ca*-0x1+0x18ae)+(-0x1bb3+0x21*-0x112+0x3f05)]+=_0x14ba7d['x'],_0x2ecc73[_0x49f0b7*(-0x47d*0x7+-0x1*0x148d+0x33fb)+(0x699+0x37*0x8e+-0x251a)]+=_0x14ba7d['y'],_0x2ecc73[_0x49f0b7*(0x64d+0x895*0x3+-0x2009)+(0x377*0x7+-0x581+0x1*-0x12be)]+=_0x14ba7d['z'];}const _0xb00b66=new T(),_0x2d99e7=new T(),_0x541959=new T(),_0x2582db=new T();for(let _0x4aa8a4=-0x9c2*0x1+0xcdd*0x3+-0x3d*0x79;_0x4aa8a4<_0x32e7e4;_0x4aa8a4++){_0x541959['set'](_0x25f60f[_0x4aa8a4*(-0xd*0x193+0x1*-0x1849+0x2cc3)],_0x25f60f[_0x4aa8a4*(0x110+-0x3*-0x2f5+0x4*-0x27b)+(0x151c+0x1843+-0x2d5e)],_0x25f60f[_0x4aa8a4*(0x2*0x657+0x9*0x136+0x7db*-0x3)+(-0xa05+-0x78b*0x1+0x2*0x8c9)]),_0xb00b66['set'](_0x2af206[_0x4aa8a4*(0x2b2*-0x3+0x12b2+-0xa99)],_0x2af206[_0x4aa8a4*(-0x1bc+0xad8+0x919*-0x1)+(-0x13c5+0x521*-0x1+-0x3*-0x84d)],_0x2af206[_0x4aa8a4*(0x1*0xdb1+0xd1e*0x2+-0x83*0x4e)+(0x1*0x106b+0x1c89+-0x2cf2)]),_0x2d99e7['set'](_0x2ecc73[_0x4aa8a4*(0x1e1e+-0x2223+0x204*0x2)],_0x2ecc73[_0x4aa8a4*(0x174b+-0x1*0xf79+0x7cf*-0x1)+(-0x1806+0x1c13+-0x40c*0x1)],_0x2ecc73[_0x4aa8a4*(0x10ff+0x1*0xc01+-0x1cfd)+(-0x1370+-0xa85*-0x3+-0x1*0xc1d)]);const _0x58ff4c=_0x541959['dot'](_0xb00b66);_0x2582db['copy'](_0x541959)['mulScalar'](_0x58ff4c),_0x2582db['sub2'](_0xb00b66,_0x2582db)['normalize'](),_0x5e99a8[_0x4aa8a4*(-0x89a+-0x1*0x133d+0x1bdb)]=_0x2582db['x'],_0x5e99a8[_0x4aa8a4*(0x1f3*-0x3+0x4*0x182+0x2b*-0x1)+(0x93a+-0x1b91+0x1258)]=_0x2582db['y'],_0x5e99a8[_0x4aa8a4*(-0xec6+-0x27f*-0x8+-0x52e)+(-0xde1+-0x45*-0x22+0x4b9)]=_0x2582db['z'],_0x2582db['cross'](_0x541959,_0xb00b66),_0x5e99a8[_0x4aa8a4*(-0x1322+-0x5*-0x773+-0x1219*0x1)+(-0x77c*0x4+0x81d*0x1+0x15d6)]=_0x2582db['dot'](_0x2d99e7)<-0x8*0x1fd+-0xc1f+0x1c07?-(0x131f+-0x33f*0x6+0x5c):0x2319+0xee9+-0x3201;}return _0x5e99a8;};class pn{constructor(){c(this,'positions'),c(this,'normals'),c(this,'colors'),c(this,'uvs'),c(this,'uvs1'),c(this,'blendIndic'+'es'),c(this,'blendWeigh'+'ts'),c(this,'tangents'),c(this,'indices');}['calculateN'+'ormals'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=k0(this['positions'],this['indices']);}['calculateT'+'angents'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),v['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const Wu=(0xa36*-0x2+0x941+0xb2f)/(0x1b24+0x1*0x12bf+0x7*-0x685),L_=0x56*0x56+0x5bd+-0x115*0x20-Wu*(0xde2+0x10ba+-0xf4d*0x2);class $u extends pn{constructor(_0x18eba9={}){super();const _0x2283eb=_0x18eba9['halfExtent'+'s']??new T(-0x2552*0x1+0x2*-0xbcc+0x3cea+0.5,-0xb1a*-0x3+-0x242f+-0x1*-0x2e1+0.5,-0x25e*0x1+-0x1*-0x2566+0x8c2*-0x4+0.5),_0x4a6e1e=_0x18eba9['widthSegme'+'nts']??0x1*-0x1e9d+0x1*-0x15d5+-0x3473*-0x1,_0x4d8c4b=_0x18eba9['lengthSegm'+'ents']??0x215+-0x156*0x19+-0xfa9*-0x2,_0x283618=_0x18eba9['heightSegm'+'ents']??0x7b*0x11+-0x1f14+-0x2*-0xb75,_0xf34d80=_0x18eba9['yOffset']??0x8ed+-0x2243+0x1*0x1956,_0x6ee5a6=-_0x2283eb['y']+_0xf34d80,_0x1b2a74=_0x2283eb['y']+_0xf34d80,_0x244349=[new T(-_0x2283eb['x'],_0x6ee5a6,_0x2283eb['z']),new T(_0x2283eb['x'],_0x6ee5a6,_0x2283eb['z']),new T(_0x2283eb['x'],_0x1b2a74,_0x2283eb['z']),new T(-_0x2283eb['x'],_0x1b2a74,_0x2283eb['z']),new T(_0x2283eb['x'],_0x6ee5a6,-_0x2283eb['z']),new T(-_0x2283eb['x'],_0x6ee5a6,-_0x2283eb['z']),new T(-_0x2283eb['x'],_0x1b2a74,-_0x2283eb['z']),new T(_0x2283eb['x'],_0x1b2a74,-_0x2283eb['z'])],_0x2de84a=[[0x9ba+0x8b4*0x2+-0xd91*0x2,0xdb*-0x2b+-0x1*-0x22c9+0x201,0x2211+0x109b+-0x32a9*0x1],[-0xec9+-0x2*0x1ed+0x12a7,-0x203*-0x7+-0x3*-0xbf+-0x104d,0x48a+0x1*-0x805+0x1c1*0x2],[0x1*0x1d7b+-0x1*0x10af+0x443*-0x3,-0x1682+0x1*-0x1f7d+0x7*0x7b7,0xe*-0x202+-0x151*-0xe+0x4da*0x2],[-0x2301+0x6*-0x5b5+0x4540,-0x1*0x1edb+0x1*-0x1292+-0x316d*-0x1,-0x23*0xd7+-0x24d6*-0x1+-0x76d],[-0x1*0x200b+0x201f+0x1*-0x13,-0xbb6+-0xc1*0x9+-0x1*-0x1283,0x6b*0x3a+-0x658*-0x2+-0x24ec],[0x1*-0xa89+-0x137b*0x1+0x1e09,0xde7+0x202a*-0x1+0x1243,0x1d59+-0x47*0x9+-0x1ad4]],_0x53cac7=[[-0x1be4+0x1de3+-0x1ff,-0x1*-0x1208+0x1*0x67a+-0x1882,0x295*0x8+0x1*-0x53+-0x1454],[-0x2053*-0x1+-0x1640+-0xa13,0x1*0x1bc4+-0xa94+0xb*-0x190,-(0x3*0x675+-0x2108+0x21*0x6a)],[0xfe9*0x2+0x23*-0x76+-0xfb0,-0x4c6+-0x38d*-0x6+0x1*-0x1087,-0x7*0x8a+-0x11*0x241+0x86b*0x5],[-0x59a+-0xfe4+0x157e,-(-0x6*0x422+0xa4e+-0x4d5*-0x3),0x5e0+-0x1c83+0x1*0x16a3],[-0x918+-0x1787+-0x12*-0x1d0,0x2689*-0x1+-0x1805+0x13a*0x33,-0x9e9+-0xcaa+0x1693*0x1],[-(0x24d2+0x1f36+-0x4407),0x20db+0x14ef+0x1b*-0x1fe,-0x2ea+-0xf29+0x7*0x295]],_0x4533a6={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x58a32e=[],_0x2066bf=[],_0x2b253b=[],_0x5bf1e7=[];let _0x3295e7=0xa*-0x1a5+0x1*0x479+0x1*0xbf9;const _0x37b30a=(_0x541cd6,_0x168faf,_0x4ac1aa)=>{const _0xbbfad1=new T(),_0x569d4e=new T(),_0x1a9e49=new T(),_0x28eb0e=new T();for(let _0x485d0d=-0x1072*0x1+-0x2*0x10bd+-0xb4*-0x47;_0x485d0d<=_0x168faf;_0x485d0d++)for(let _0x18543a=-0x1d53+0x17e3+0xc*0x74;_0x18543a<=_0x4ac1aa;_0x18543a++){_0xbbfad1['lerp'](_0x244349[_0x2de84a[_0x541cd6][-0x20b3+0x1fd6+-0x11*-0xd]],_0x244349[_0x2de84a[_0x541cd6][0x5*-0x6f1+-0x26*0x85+-0x44*-0xcd]],_0x485d0d/_0x168faf),_0x569d4e['lerp'](_0x244349[_0x2de84a[_0x541cd6][-0x1*-0x1ef1+-0x11*0x119+-0xc48]],_0x244349[_0x2de84a[_0x541cd6][-0x1*-0x1656+0x1f36+-0x358a]],_0x18543a/_0x4ac1aa),_0x1a9e49['sub2'](_0x569d4e,_0x244349[_0x2de84a[_0x541cd6][0x1*-0xd03+-0x4*-0x16+0xcab*0x1]]),_0x28eb0e['add2'](_0xbbfad1,_0x1a9e49);let _0x12294d=_0x485d0d/_0x168faf,_0x5acc27=_0x18543a/_0x4ac1aa;_0x58a32e['push'](_0x28eb0e['x'],_0x28eb0e['y'],_0x28eb0e['z']),_0x2066bf['push'](_0x53cac7[_0x541cd6][0x2632+-0x3*0xc5b+-0x121],_0x53cac7[_0x541cd6][0x1f6c+-0x2*0x113b+0x30b],_0x53cac7[_0x541cd6][-0x1*-0x511+-0x15d5+-0x10c6*-0x1]),_0x2b253b['push'](_0x12294d,-0x1*-0x1034+-0x25*-0x6d+-0x1ff4-_0x5acc27),_0x12294d=_0x12294d*L_+Wu,_0x5acc27=_0x5acc27*L_+Wu,_0x12294d/=-0x1a89+-0x2169+-0x1*-0x3bf5,_0x5acc27/=0x23f1*0x1+-0x2f*-0x67+-0x36d7,_0x12294d+=_0x541cd6%(0x5*-0x7b+-0x1b5b+0x1dc5*0x1)/(0x4a3+0xb*0xbb+-0xca9),_0x5acc27+=Math['floor'](_0x541cd6/(-0x14b9*-0x1+-0x255*0x2+0x403*-0x4))/(0x77e+0xd8a+-0x1505*0x1),_0x485d0d<_0x168faf&&_0x18543a<_0x4ac1aa&&(_0x5bf1e7['push'](_0x3295e7+_0x4ac1aa+(0xf4d*0x2+0x10d7+0x84*-0x5c),_0x3295e7+(-0x1ffc+0x18e+0x1e6f),_0x3295e7),_0x5bf1e7['push'](_0x3295e7+_0x4ac1aa+(0x1*-0x423+-0x21b9+-0xc9f*-0x3),_0x3295e7+_0x4ac1aa+(-0x60d*-0x2+0x1b2c+-0x167*0x1c),_0x3295e7+(-0x1353+-0x4ae+0x1802))),_0x3295e7++;}};_0x37b30a(_0x4533a6['FRONT'],_0x4a6e1e,_0x283618),_0x37b30a(_0x4533a6['BACK'],_0x4a6e1e,_0x283618),_0x37b30a(_0x4533a6['TOP'],_0x4a6e1e,_0x4d8c4b),_0x37b30a(_0x4533a6['BOTTOM'],_0x4a6e1e,_0x4d8c4b),_0x37b30a(_0x4533a6['RIGHT'],_0x4d8c4b,_0x283618),_0x37b30a(_0x4533a6['LEFT'],_0x4d8c4b,_0x283618),this['positions']=_0x58a32e,this['normals']=_0x2066bf,this['uvs']=_0x2b253b,this['uvs1']=_0x2b253b,this['indices']=_0x5bf1e7,_0x18eba9['calculateT'+'angents']&&(this['tangents']=fr(_0x58a32e,_0x2066bf,_0x2b253b,_0x5bf1e7));}}class B0 extends pn{constructor(_0x265ce1={}){super();const _0x5edcf0=_0x265ce1['radius']??0xe0f*0x1+-0x1ad8+-0x1*-0xcc9+0.5,_0xedf2c1=_0x265ce1['latitudeBa'+'nds']??0x117a+0x169*0x13+-0x2c35,_0x5ee7c4=_0x265ce1['longitudeB'+'ands']??0x93+-0x177d+0x16fa,_0x376720=[],_0x5ab2bf=[],_0x3fafd2=[],_0x54e1cb=[];for(let _0xabeacf=0xe3e*-0x2+0xa7d+-0x1*-0x11ff;_0xabeacf<=_0xedf2c1;_0xabeacf++){const _0xd362bd=_0xabeacf*Math['PI']/_0xedf2c1,_0x584868=Math['sin'](_0xd362bd),_0x175a42=Math['cos'](_0xd362bd);for(let _0x5dd895=-0x1c28+-0x1162+0x2d8a;_0x5dd895<=_0x5ee7c4;_0x5dd895++){const _0x5e52d8=_0x5dd895*(-0xded+-0x1560+-0x45*-0x83)*Math['PI']/_0x5ee7c4-Math['PI']/(-0x167c+-0x6b6*0x3+0x2aa0),_0x48977d=Math['sin'](_0x5e52d8),_0xe0d017=Math['cos'](_0x5e52d8)*_0x584868,_0x5e5063=_0x175a42,_0x411c8d=_0x48977d*_0x584868,_0x3eb556=-0x1f73+0x307+-0x1c6d*-0x1-_0x5dd895/_0x5ee7c4,_0x2c317a=-0x481+0x24d3+-0x1*0x2051-_0xabeacf/_0xedf2c1;_0x376720['push'](_0xe0d017*_0x5edcf0,_0x5e5063*_0x5edcf0,_0x411c8d*_0x5edcf0),_0x5ab2bf['push'](_0xe0d017,_0x5e5063,_0x411c8d),_0x3fafd2['push'](_0x3eb556,0x11ad+0x7*-0x517+0x11f5-_0x2c317a);}}for(let _0x59a162=-0x1d07+0xa92+0x1275;_0x59a162<_0xedf2c1;++_0x59a162)for(let _0x43f05e=0x1*0xda9+-0x5*0x14+0x4f*-0x2b;_0x43f05e<_0x5ee7c4;++_0x43f05e){const _0x56fd57=_0x59a162*(_0x5ee7c4+(-0x7*0x29f+-0x5*-0x500+0x25*-0x2e))+_0x43f05e,_0x443328=_0x56fd57+_0x5ee7c4+(0x1*-0x77d+0x5b5*0x5+-0x150b);_0x54e1cb['push'](_0x56fd57+(-0x1*0x14d9+-0x1c87+0x3161),_0x443328,_0x56fd57),_0x54e1cb['push'](_0x56fd57+(0x13*0x19b+-0x192+-0x7*0x422),_0x443328+(-0x1f63+-0x68e+-0x2*-0x12f9),_0x443328);}this['positions']=_0x376720,this['normals']=_0x5ab2bf,this['uvs']=_0x3fafd2,this['uvs1']=_0x3fafd2,this['indices']=_0x54e1cb,_0x265ce1['calculateT'+'angents']&&(this['tangents']=fr(_0x376720,_0x5ab2bf,_0x3fafd2,_0x54e1cb));}}class p1 extends B0{constructor(_0x527bc7={}){const _0x3515fd=_0x527bc7['latitudeBa'+'nds']??-0x10d*-0x11+-0x1*-0xfb+-0x12c8,_0x5b7e52=_0x527bc7['longitudeB'+'ands']??0x1*0x1181+0xb4*-0xe+-0x799;super({'radius':0.5,'latitudeBands':_0x3515fd,'longitudeBands':_0x5b7e52});const _0x10fd9b=-0x1333*0x1+-0x23da+0x370d*0x1+0.1,_0x5779a2=-0x2264+-0xedc+0x3140+0.95,_0x3db8d0=_0x5779a2*_0x5779a2,_0x3278cf=this['positions'];for(let _0xf2391f=0x5*-0x5b2+-0x369+0x9*0x38b;_0xf2391f<_0x3278cf['length'];_0xf2391f+=0x1ee6+-0x4f3+-0xa*0x298){const _0x135e97=_0x3278cf[_0xf2391f]/(0x1*-0xb14+0x149c+-0x1e8*0x5+0.5);let _0x1b269b=_0x3278cf[_0xf2391f+(0x266*-0x9+-0x2048+-0x11f5*-0x3)]/(0x1d7a+-0x18b9*0x1+-0x1*0x4c1+0.5);const _0x5f21f6=_0x3278cf[_0xf2391f+(0xfe8+-0x114a+-0xb2*-0x2)]/(-0x5*-0x279+-0x2234+0x1*0x15d7+0.5);_0x1b269b<0x317+-0x2*-0x1387+-0x2a25&&(_0x1b269b*=0x211+-0x162d+0x141c+0.3,_0x135e97*_0x135e97+_0x5f21f6*_0x5f21f6<_0x3db8d0&&(_0x1b269b=-(0x2f*0x89+0x207d+0x1dc*-0x1f+0.1))),_0x1b269b+=_0x10fd9b,_0x1b269b*=0xa80+0x23b8+-0x2e38+0.5,_0x3278cf[_0xf2391f+(0x717+0x1cf*-0xb+0xccf)]=_0x1b269b;}}}class So{static['create'](_0x52a148,_0x4e2bc9){switch(_0x4e2bc9){case tw:return So['box'](_0x52a148);case sw:return So['dome'](_0x52a148);}return v['assert'](_0x4e2bc9===xo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x4e2bc9),So['infinite'](_0x52a148);}static['infinite'](_0x18bd12){return Ie['fromGeomet'+'ry'](_0x18bd12,new $u(_0x18bd12));}static['box'](_0x288b6c){return Ie['fromGeomet'+'ry'](_0x288b6c,new $u({'yOffset':0.5}));}static['dome'](_0x24c900){const _0x213faa=new p1({'latitudeBands':0x32,'longitudeBands':0x32});return _0x213faa['normals']=void(0x135*0xa+-0x144d+-0x12d*-0x7),_0x213faa['uvs']=void(0x8ba*0x3+-0x1*-0xc89+0x385*-0xb),Ie['fromGeomet'+'ry'](_0x24c900,_0x213faa);}}class m1{constructor(_0x356d0b,_0x4d0077,_0x231068,_0x1912ff,_0x55ed1e){c(this,'meshInstan'+'ce',null);const _0x464811=new Ra({'uniqueName':'SkyMateria'+'l','vertexCode':X['skyboxVS'],'fragmentCode':X['skyboxPS'],'attributes':{'aPosition':He}});_0x464811['setDefine']('__INJECT_S'+'KYBOX_DECO'+'DE_FNC',Es['decodeFunc'](_0x1912ff['encoding'])),_0x55ed1e!==xo&&_0x464811['setDefine']('SKYMESH',''),_0x1912ff['cubemap']&&_0x464811['setDefine']('SKY_CUBEMA'+'P',''),_0x464811['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x4d0077['skyboxHigh'+'lightMulti'+'plier']),_0x1912ff['cubemap']?_0x464811['setParamet'+'er']('texture_cu'+'beMap',_0x1912ff):(_0x464811['setParamet'+'er']('texture_en'+'vAtlas',_0x1912ff),_0x464811['setParamet'+'er']('mipLevel',_0x4d0077['skyboxMip'])),_0x464811['cull']=mo,_0x464811['depthWrite']=!(0x11d4+0x1089+-0x225c);const _0x5b369d=_0x4d0077['layers']['getLayerBy'+'Id'](vp);if(_0x5b369d){const _0x3138b8=So['create'](_0x356d0b,_0x55ed1e),_0x2023b8=new Le(_0x3138b8,_0x464811,_0x231068);this['meshInstan'+'ce']=_0x2023b8,_0x2023b8['cull']=!(0x45*-0x50+0x1*-0xd58+0xba3*0x3),_0x2023b8['pick']=!(-0x150b*0x1+-0x146*0x14+0x394*0xd),_0x5b369d['addMeshIns'+'tances']([_0x2023b8]),this['skyLayer']=_0x5b369d;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}}class _1{constructor(_0xb9b0f9){c(this,'_type',xo),c(this,'_center',new T(-0x18f0+-0x1616+0x2f06,0x7b7*0x2+0x1187+-0x20f4,0x1609*0x1+-0x7*-0x3a1+-0x2f70)),c(this,'skyMesh',null),c(this,'node',new De('SkyMeshNod'+'e')),(this['device']=_0xb9b0f9['device'],this['scene']=_0xb9b0f9,this['center']=new T(0x3b*-0x53+0x1fe3+-0xcc2,0x2*-0x1237+0x59*0x6f+0x4*-0x8a,0x248d+-0x3*0xabd+-0x456),this['centerArra'+'y']=new Float32Array(0xf81+0xedb+-0x1e59),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x495f70){this['type']=_0x495f70['skyType']??xo,this['node']['setLocalPo'+'sition'](new T(_0x495f70['skyMeshPos'+'ition']??[-0xb97*-0x3+-0x15de+-0xce7,0x20d9+-0x51*-0x60+-0xca5*0x5,-0x3*0x5f4+-0x49*0x5f+0x25*0x137])),this['node']['setLocalEu'+'lerAngles'](new T(_0x495f70['skyMeshRot'+'ation']??[0x1044+0x482*0x1+0x2*-0xa63,0x1d1b+-0x36+-0x1ce5,-0x15f9+-0x168e+0x2c87*0x1])),this['node']['setLocalSc'+'ale'](new T(_0x495f70['skyMeshSca'+'le']??[-0x1861+0x18b2+-0x50,0x205c*0x1+-0x1*0x1913+-0x748,0x9b6*0x1+-0x14ad+0xaf8])),_0x495f70['skyCenter']&&(this['_center']=new T(_0x495f70['skyCenter']));}set['type'](_0x269f79){this['_type']!==_0x269f79&&(this['_type']=_0x269f79,this['scene']['updateShad'+'ers']=!(-0x107a+-0x1*-0xc87+0x3f3),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x2f1000){this['_center']['copy'](_0x2f1000);}get['center'](){return this['_center'];}['updateSkyM'+'esh'](){const _0x5bb625=this['scene']['_getSkybox'+'Tex']();_0x5bb625&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new m1(this['device'],this['scene'],this['node'],_0x5bb625,this['type']),this['scene']['fire']('set:skybox',_0x5bb625));}['resetSkyMe'+'sh'](){var _0x4bf9e2;(_0x4bf9e2=this['skyMesh'])==null||_0x4bf9e2['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==xo){const {center:_0x593e47,centerArray:_0x284aee}=this,_0x121bb3=new T();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x593e47,_0x121bb3),_0x284aee[-0x1110+-0xb38+0x1c48]=_0x121bb3['x'],_0x284aee[-0x4b4+-0x55d*-0x3+-0xb62*0x1]=_0x121bb3['y'],_0x284aee[-0x1335+0x1c51+-0x91a]=_0x121bb3['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x284aee);}}}const Hh=new De();Hh['worldTrans'+'form']=q['IDENTITY'],Hh['_dirtyWorl'+'d']=Hh['_dirtyNorm'+'al']=!(-0x3*0x501+-0x16db*-0x1+-0x7d7);class g1{constructor(_0x427bcb,_0x1334f2,_0x201d69){this['material']=_0x1334f2,this['layer']=_0x201d69,this['positions']=[],this['colors']=[],this['mesh']=new Ie(_0x427bcb),this['meshInstan'+'ce']=null;}['addLines'](_0x36a2bb,_0x5d3029){const _0x804d0f=this['positions'],_0x11c989=_0x36a2bb['length'];for(let _0x36485e=-0x1af*-0x3+-0x1f8*-0x4+0x3*-0x44f;_0x36485e<_0x11c989;_0x36485e++){const _0x5a3d72=_0x36a2bb[_0x36485e];_0x804d0f['push'](_0x5a3d72['x'],_0x5a3d72['y'],_0x5a3d72['z']);}const _0x470e75=this['colors'];if(_0x5d3029['length'])for(let _0x2f7bf9=0x4*0x91d+-0x1*-0x1139+-0x35ad;_0x2f7bf9<_0x11c989;_0x2f7bf9++){const _0x4be71c=_0x5d3029[_0x2f7bf9];_0x470e75['push'](_0x4be71c['r'],_0x4be71c['g'],_0x4be71c['b'],_0x4be71c['a']);}else{for(let _0x4db02f=-0x246b*0x1+0x1f6b+0x500;_0x4db02f<_0x11c989;_0x4db02f++)_0x470e75['push'](_0x5d3029['r'],_0x5d3029['g'],_0x5d3029['b'],_0x5d3029['a']);}}['addLinesAr'+'rays'](_0xe6e3ca,_0xce0560){const _0x4b91a5=this['positions'];for(let _0x1cc09a=0x1*-0x4a+-0x829*0x3+0x1*0x18c5;_0x1cc09a<_0xe6e3ca['length'];_0x1cc09a+=0x47*0x11+-0x2*0x83+0x1d7*-0x2)_0x4b91a5['push'](_0xe6e3ca[_0x1cc09a],_0xe6e3ca[_0x1cc09a+(-0x7c+0x86f+-0x71*0x12)],_0xe6e3ca[_0x1cc09a+(-0x128d*0x1+-0x2*-0x4ae+-0x1d7*-0x5)]);const _0x3e6ec4=this['colors'];if(_0xce0560['length']){for(let _0x41d8b8=-0x24ff+0x1*0x2176+0x1*0x389;_0x41d8b8<_0xce0560['length'];_0x41d8b8+=-0x16f3+0x9e*0x32+-0x2f*0x2b)_0x3e6ec4['push'](_0xce0560[_0x41d8b8],_0xce0560[_0x41d8b8+(0x2*-0xcfb+-0x34*0x1+-0x15*-0x13f)],_0xce0560[_0x41d8b8+(-0x2*-0xa31+-0x1b*0x65+-0x9b9)],_0xce0560[_0x41d8b8+(0x11+-0x1*-0x258d+-0x259b)]);}else{const _0x1312f6=_0xe6e3ca['length']/(0xada+-0x23eb+0x282*0xa);for(let _0x1ae48f=0xc21+0x1e13*0x1+0x2a34*-0x1;_0x1ae48f<_0x1312f6;_0x1ae48f++)_0x3e6ec4['push'](_0xce0560['r'],_0xce0560['g'],_0xce0560['b'],_0xce0560['a']);}}['onPreRende'+'r'](_0x116b16,_0x386e0c){this['positions']['length']>0x2*0xe1b+0x88*-0x4+0x6a*-0x3f&&this['material']['transparen'+'t']===_0x386e0c&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](Pc,!(-0x8d0+0x184f+-0x1*0xf7e)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new Le(this['mesh'],this['material'],Hh)),_0x116b16['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=0x1f*0x49+0x1*-0x215e+-0x3*-0x82d,this['colors']['length']=-0x191c+0x1*-0x1b67+-0x3*-0x1181;}}class y1{constructor(_0x3c57e0){this['device']=_0x3c57e0,this['map']=new Map();}['getBatch'](_0x8b4b18,_0x149749){let _0x44c82c=this['map']['get'](_0x8b4b18);return _0x44c82c||(_0x44c82c=new g1(this['device'],_0x8b4b18,_0x149749),this['map']['set'](_0x8b4b18,_0x44c82c)),_0x44c82c;}['onPreRende'+'r'](_0x2a47a2,_0x2959c4){this['map']['forEach'](_0x131fe=>{_0x131fe['onPreRende'+'r'](_0x2a47a2,_0x2959c4);});}['clear'](){this['map']['forEach'](_0x4d4bb4=>_0x4d4bb4['clear']());}}const Jt=[],Ln=new T(),x1={'uniqueName':'ImmediateL'+'ine','vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec3\x20vertex'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20mat4\x20m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_viewProje'+'ction;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20='+'\x20vertex_co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20matrix_vi'+'ewProjecti'+'on\x20*\x20matri'+'x_model\x20*\x20'+'vec4(verte'+'x_position'+',\x201);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','fragmentCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20','attributes':{'vertex_position':He,'vertex_color':At}};class S1{constructor(_0x31af03){c(this,'shaderDesc'+'s',new Map()),(this['device']=_0x31af03,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x47f87e){const _0x519ab4=new Ra(x1);return _0x519ab4['blendType']=Kt,_0x519ab4['depthTest']=_0x47f87e,_0x519ab4['update'](),_0x519ab4;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(0x7*-0x305+-0x1f5f+-0x205*-0x1a))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(0x82*0x16+-0x149c*-0x1+0x65b*-0x5))),this['_materialN'+'oDepth'];}['getBatch'](_0x4de808,_0x3a76b3){let _0x2c71dd=this['batchesMap']['get'](_0x4de808);_0x2c71dd||(_0x2c71dd=new y1(this['device']),this['batchesMap']['set'](_0x4de808,_0x2c71dd)),this['allBatches']['add'](_0x2c71dd);const _0x4272c0=_0x3a76b3?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x2c71dd['getBatch'](_0x4272c0,_0x4de808);}['getShaderD'+'esc'](_0x52b7c4,_0x8f0525){return this['shaderDesc'+'s']['has'](_0x52b7c4)||this['shaderDesc'+'s']['set'](_0x52b7c4,{'uniqueName':'DebugShade'+'r:'+_0x52b7c4,'vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20vertex_p'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20vec2'+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'0\x20=\x20vertex'+'_position.'+'xy\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentCode':_0x8f0525,'attributes':{'vertex_position':He}}),this['shaderDesc'+'s']['get'](_0x52b7c4);}['getTexture'+'ShaderDesc'](_0x58d292){const _0x5e9103=Es['decodeFunc'](_0x58d292);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x58d292,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x5e9103+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+X['screenDept'+'hPS']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(uv0)'+')\x20*\x20camera'+'_params.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(vec3'+'(depth)),\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20'));}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ie(this['device']),this['quadMesh']['setPositio'+'ns']([-(0xbf8+0x2c0+-0xeb8+0.5),-(-0x209*0x12+0xa0+0x2402*0x1+0.5),-0x375+0x4*-0x287+0xd91,-0x1510*0x1+0x186a+-0x35a+0.5,-(-0x257a+0x13aa+0x11d0+0.5),0xf25+0x1*0xb26+-0x1a4b,-(-0x13*-0x89+0x1ec4+-0x28ef+0.5),0x598+0x1bb3*0x1+-0x214b+0.5,-0xebe+0x27f+0xd1*0xf,-0x264+-0x17a5+0x1a09+0.5,-0xd44+-0x1*-0x1589+-0x845+0.5,0x2566*0x1+0xd60+-0x1963*0x2]),this['quadMesh']['update'](ar)),this['quadMesh'];}['drawMesh'](_0x5bed1c,_0x52f92f,_0x2d8ee5,_0xf93a18,_0x21cf70){if(!_0xf93a18){const _0x26d990=this['getGraphNo'+'de'](_0x52f92f);_0xf93a18=new Le(_0x2d8ee5,_0x5bed1c,_0x26d990);}let _0x4a24db=this['layerMeshI'+'nstances']['get'](_0x21cf70);_0x4a24db||(_0x4a24db=[],this['layerMeshI'+'nstances']['set'](_0x21cf70,_0x4a24db)),_0x4a24db['push'](_0xf93a18);}['drawWireAl'+'ignedBox'](_0x410043,_0x4b575a,_0x6f1a9d,_0x2538f5,_0x4243ef,_0x1bbee8){if(_0x1bbee8){const _0x34bdaf=(_0xf447a,_0x3d9b15,_0x4b50bf)=>{Ln['set'](_0xf447a,_0x3d9b15,_0x4b50bf),_0x1bbee8['transformP'+'oint'](Ln,Ln),Jt['push'](Ln['x'],Ln['y'],Ln['z']);};_0x34bdaf(_0x410043['x'],_0x410043['y'],_0x410043['z']),_0x34bdaf(_0x410043['x'],_0x4b575a['y'],_0x410043['z']),_0x34bdaf(_0x410043['x'],_0x4b575a['y'],_0x410043['z']),_0x34bdaf(_0x4b575a['x'],_0x4b575a['y'],_0x410043['z']),_0x34bdaf(_0x4b575a['x'],_0x4b575a['y'],_0x410043['z']),_0x34bdaf(_0x4b575a['x'],_0x410043['y'],_0x410043['z']),_0x34bdaf(_0x4b575a['x'],_0x410043['y'],_0x410043['z']),_0x34bdaf(_0x410043['x'],_0x410043['y'],_0x410043['z']),_0x34bdaf(_0x410043['x'],_0x410043['y'],_0x4b575a['z']),_0x34bdaf(_0x410043['x'],_0x4b575a['y'],_0x4b575a['z']),_0x34bdaf(_0x410043['x'],_0x4b575a['y'],_0x4b575a['z']),_0x34bdaf(_0x4b575a['x'],_0x4b575a['y'],_0x4b575a['z']),_0x34bdaf(_0x4b575a['x'],_0x4b575a['y'],_0x4b575a['z']),_0x34bdaf(_0x4b575a['x'],_0x410043['y'],_0x4b575a['z']),_0x34bdaf(_0x4b575a['x'],_0x410043['y'],_0x4b575a['z']),_0x34bdaf(_0x410043['x'],_0x410043['y'],_0x4b575a['z']),_0x34bdaf(_0x410043['x'],_0x410043['y'],_0x410043['z']),_0x34bdaf(_0x410043['x'],_0x410043['y'],_0x4b575a['z']),_0x34bdaf(_0x410043['x'],_0x4b575a['y'],_0x410043['z']),_0x34bdaf(_0x410043['x'],_0x4b575a['y'],_0x4b575a['z']),_0x34bdaf(_0x4b575a['x'],_0x4b575a['y'],_0x410043['z']),_0x34bdaf(_0x4b575a['x'],_0x4b575a['y'],_0x4b575a['z']),_0x34bdaf(_0x4b575a['x'],_0x410043['y'],_0x410043['z']),_0x34bdaf(_0x4b575a['x'],_0x410043['y'],_0x4b575a['z']);}else Jt['push'](_0x410043['x'],_0x410043['y'],_0x410043['z'],_0x410043['x'],_0x4b575a['y'],_0x410043['z'],_0x410043['x'],_0x4b575a['y'],_0x410043['z'],_0x4b575a['x'],_0x4b575a['y'],_0x410043['z'],_0x4b575a['x'],_0x4b575a['y'],_0x410043['z'],_0x4b575a['x'],_0x410043['y'],_0x410043['z'],_0x4b575a['x'],_0x410043['y'],_0x410043['z'],_0x410043['x'],_0x410043['y'],_0x410043['z'],_0x410043['x'],_0x410043['y'],_0x4b575a['z'],_0x410043['x'],_0x4b575a['y'],_0x4b575a['z'],_0x410043['x'],_0x4b575a['y'],_0x4b575a['z'],_0x4b575a['x'],_0x4b575a['y'],_0x4b575a['z'],_0x4b575a['x'],_0x4b575a['y'],_0x4b575a['z'],_0x4b575a['x'],_0x410043['y'],_0x4b575a['z'],_0x4b575a['x'],_0x410043['y'],_0x4b575a['z'],_0x410043['x'],_0x410043['y'],_0x4b575a['z'],_0x410043['x'],_0x410043['y'],_0x410043['z'],_0x410043['x'],_0x410043['y'],_0x4b575a['z'],_0x410043['x'],_0x4b575a['y'],_0x410043['z'],_0x410043['x'],_0x4b575a['y'],_0x4b575a['z'],_0x4b575a['x'],_0x4b575a['y'],_0x410043['z'],_0x4b575a['x'],_0x4b575a['y'],_0x4b575a['z'],_0x4b575a['x'],_0x410043['y'],_0x410043['z'],_0x4b575a['x'],_0x410043['y'],_0x4b575a['z']);this['getBatch'](_0x4243ef,_0x2538f5)['addLinesAr'+'rays'](Jt,_0x6f1a9d),Jt['length']=-0x1ed*-0xf+-0x25d*-0x8+-0x1*0x2fcb;}['drawWireSp'+'here'](_0x3a2710,_0x3c37db,_0x4886bc,_0x55afe9,_0x3aff76,_0x4f4b77){const _0x148e7d=(-0x2343+-0x795+-0x449*-0xa)*Math['PI']/_0x55afe9;let _0x5f1e65=0x4e6*0x1+-0x4f*-0x16+0x110*-0xb;for(let _0x467036=-0x33f+0x1*0x1d1b+0xa*-0x296;_0x467036<_0x55afe9;_0x467036++){const _0x2b475f=Math['sin'](_0x5f1e65),_0xb42597=Math['cos'](_0x5f1e65);_0x5f1e65+=_0x148e7d;const _0x251cd4=Math['sin'](_0x5f1e65),_0x359f3f=Math['cos'](_0x5f1e65);Jt['push'](_0x3a2710['x']+_0x3c37db*_0x2b475f,_0x3a2710['y'],_0x3a2710['z']+_0x3c37db*_0xb42597),Jt['push'](_0x3a2710['x']+_0x3c37db*_0x251cd4,_0x3a2710['y'],_0x3a2710['z']+_0x3c37db*_0x359f3f),Jt['push'](_0x3a2710['x']+_0x3c37db*_0x2b475f,_0x3a2710['y']+_0x3c37db*_0xb42597,_0x3a2710['z']),Jt['push'](_0x3a2710['x']+_0x3c37db*_0x251cd4,_0x3a2710['y']+_0x3c37db*_0x359f3f,_0x3a2710['z']),Jt['push'](_0x3a2710['x'],_0x3a2710['y']+_0x3c37db*_0x2b475f,_0x3a2710['z']+_0x3c37db*_0xb42597),Jt['push'](_0x3a2710['x'],_0x3a2710['y']+_0x3c37db*_0x251cd4,_0x3a2710['z']+_0x3c37db*_0x359f3f);}this['getBatch'](_0x4f4b77,_0x3aff76)['addLinesAr'+'rays'](Jt,_0x4886bc),Jt['length']=-0x61*-0x34+0x2429*-0x1+0xb*0x17f;}['getGraphNo'+'de'](_0x5afd3d){const _0x3e87ce=new De('ImmediateD'+'ebug');return _0x3e87ce['worldTrans'+'form']=_0x5afd3d,_0x3e87ce['_dirtyWorl'+'d']=_0x3e87ce['_dirtyNorm'+'al']=!(-0xc7*-0x2+-0x6f*0x25+0x1*0xe7e),_0x3e87ce;}['onPreRende'+'rLayer'](_0x340b43,_0x752fff,_0x54632b){if(this['batchesMap']['forEach']((_0x24cf25,_0x1605b5)=>{_0x1605b5===_0x340b43&&_0x24cf25['onPreRende'+'r'](_0x752fff,_0x54632b);}),!this['updatedLay'+'ers']['has'](_0x340b43)){this['updatedLay'+'ers']['add'](_0x340b43);const _0x3721fa=this['layerMeshI'+'nstances']['get'](_0x340b43);if(_0x3721fa){for(let _0xc8daca=0x1*-0x2707+0x2*-0x2f9+0x2cf9;_0xc8daca<_0x3721fa['length'];_0xc8daca++)_0x752fff['push'](_0x3721fa[_0xc8daca]);_0x3721fa['length']=-0x1*0x7f9+0x11fe+0x2d*-0x39;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x478746=>_0x478746['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class v1{constructor(){c(this,'type',Fa),c(this,'color',new Y(0x4*0x502+-0x1d49+0x941,0x17eb+0x1*0x199a+-0x3185,-0x208e+0x257f+-0x4f1)),c(this,'density',0x145e+-0xc07*0x1+-0x857),c(this,'start',0x2*0x224+0x1*0x93f+-0xd86),c(this,'end',-0x9*-0x373+-0xdd4+0x1*-0xd4f);}}class ci extends ce{constructor(_0x1b9169){super(),c(this,'ambientBak'+'e',!(0x2a9*-0x5+-0x208c+0x16ed*0x2)),c(this,'ambientBak'+'eOcclusion'+'Brightness',-0xb98+-0x1940+0x24*0x106),c(this,'ambientBak'+'eOcclusion'+'Contrast',0x367+0x6a*0x3d+-0x17*0x13f),c(this,'ambientLig'+'ht',new Y(-0x17*0x101+-0x1*0x23bc+0xb*0x559,0x761+0x1ac*-0x6+0x1*0x2a7,0x696+0x1a44+-0x20da)),c(this,'ambientLum'+'inance',0x1*0x7d5+-0xf1f+0x74a),c(this,'exposure',-0x1*0x25d+-0x16e0+0x193e),c(this,'lightmapSi'+'zeMultipli'+'er',0x3b*-0x7a+-0x1d9b+0x39ba),c(this,'lightmapMa'+'xResolutio'+'n',-0x1fee+-0x16e7+0xc91*0x5),c(this,'lightmapMo'+'de',ch),c(this,'lightmapFi'+'lterEnable'+'d',!(-0x18b*-0x19+0x1512+-0x2*0x1dd2)),c(this,'lightmapHD'+'R',!(0x7b1+0x208d+0x283d*-0x1)),c(this,'root',null),c(this,'physicalUn'+'its',!(0x1*0x8a4+-0x129a+0x9f7)),c(this,'_envAtlas',null),c(this,'_skyboxCub'+'eMap',null),c(this,'_fogParams',new v1()),(v['assert'](_0x1b9169,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x1b9169,this['_gravity']=new T(-0x114b+0x13a*-0x17+0x1*0x2d81,-(0x1fa6*0x1+0x1d78+0x1*-0x3d15+0.8000000000000007),-0x2184+-0xfb*0xa+-0x5*-0x8aa),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=-0x41a+0x26c5+0x132*-0x1d,this['_skyboxLum'+'inance']=0x1b6a+0x6e5+-0x224f,this['_skyboxMip']=-0x171f+0x1557*-0x1+0x65a*0x7,this['_skyboxHig'+'hlightMult'+'iplier']=-0x4eb+0x2e4+0x28*0xd,this['_skyboxRot'+'ationShade'+'rInclude']=!(0x709*-0x4+0x171c+0x509),this['_skyboxRot'+'ation']=new se(),this['_skyboxRot'+'ationMat3']=new js(),this['_skyboxRot'+'ationMat4']=new q(),this['_ambientBa'+'keNumSampl'+'es']=-0x31a*0x2+-0x1a84+0x20b9,this['_ambientBa'+'keSpherePa'+'rt']=-0xd*0x2ef+0x1*-0x1db7+0x43da+0.4,this['_lightmapF'+'ilterRange']=0x1142+-0x13e+0x332*-0x5,this['_lightmapF'+'ilterSmoot'+'hness']=0x212a+-0xdd5+-0x1355+0.2,this['_clustered'+'LightingEn'+'abled']=!(0x1*0x1d35+0x11*0x3a+-0x210f),this['_lightingP'+'arams']=new L0(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(-0x2*-0x2db+-0x761+0x1ab);}),this['_sky']=new _1(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(-0x1780+0x8dd+-0xea3*-0x1),this['_shaderVer'+'sion']=0x21dd+-0xb*-0x259+-0x3bb0,this['immediate']=new S1(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](bp);}set['ambientBak'+'eNumSample'+'s'](_0x1b02de){this['_ambientBa'+'keNumSampl'+'es']=N['clamp'](Math['floor'](_0x1b02de),-0x191c+0xb6c+0x2bd*0x5,0xa8*0x1d+-0x1be7+-0x4ef*-0x2);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x10c4e5){this['_ambientBa'+'keSpherePa'+'rt']=N['clamp'](_0x10c4e5,-0x41*-0x5b+0x46*0x3b+0x23*-0x11f+0.001,0x2*-0x113c+0x1*-0x2043+0x2*0x215e);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x322d89){if(this['device']['isWebGPU']&&!_0x322d89){v['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x322d89){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x322d89;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x330ba6){_0x330ba6!==this['_envAtlas']&&(this['_envAtlas']=_0x330ba6,_0x330ba6&&(_0x330ba6['addressU']=ae,_0x330ba6['addressV']=ae,_0x330ba6['minFilter']=st,_0x330ba6['magFilter']=st,_0x330ba6['mipmaps']=!(0x1abc+-0x2d6+0x17e5*-0x1)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x3fa7c2){const _0x3695ee=this['_layers'];this['_layers']=_0x3fa7c2,this['fire']('set:layers',_0x3695ee,_0x3fa7c2);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x2b073f){this['_lightmapF'+'ilterRange']=Math['max'](_0x2b073f,0x1d4d+0x76*-0x11+-0x9d*0x23+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x3be747){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x3be747,0x2469+0x1dda+-0x1*0x4243+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x564ff6){_0x564ff6=_0x564ff6||[];const _0x81c368=this['_prefilter'+'edCubemaps'];(_0x81c368['length']!==_0x564ff6['length']||_0x81c368['some']((_0x218a06,_0x2f62d9)=>_0x218a06!==_0x564ff6[_0x2f62d9]))&&(_0x564ff6['length']===-0x25c5+-0x26e7+-0x2659*-0x2&&_0x564ff6['every'](_0xaddf11=>!!_0xaddf11)?(this['_internalE'+'nvAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x564ff6,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x564ff6['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x36daa4){_0x36daa4!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x36daa4,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x2061e3){_0x2061e3!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x2061e3,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x43cb90){_0x43cb90!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x43cb90,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x40561b){_0x40561b!==this['_skyboxMip']&&(this['_skyboxMip']=_0x40561b,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x1647ce){_0x1647ce!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x1647ce,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x5bf739){if(!this['_skyboxRot'+'ation']['equals'](_0x5bf739)){const _0x247876=_0x5bf739['equals'](se['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x5bf739),_0x247876?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](T['ZERO'],_0x5bf739,T['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x247876&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(0x2f2*0x7+-0xa*0x7f+-0xfa8),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x3fdb89,_0x22deb,_0x978fb8=Y['WHITE'],_0x1470a0=!(-0x1a3*-0x11+0x1a66+-0x3639),_0x29bc58=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x29bc58,_0x1470a0)['addLines']([_0x3fdb89,_0x22deb],[_0x978fb8,_0x978fb8]);}['drawLines'](_0x47f8b4,_0x186a11,_0x4c9481=!(-0x988+-0xe42+0x17ca),_0x2f4a1f=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x2f4a1f,_0x4c9481)['addLines'](_0x47f8b4,_0x186a11);}['drawLineAr'+'rays'](_0x5111b8,_0x1a0d40,_0x1ca0da=!(-0xaed+0x6fe*0x3+-0x1f*0x53),_0x2d36cb=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x2d36cb,_0x1ca0da)['addLinesAr'+'rays'](_0x5111b8,_0x1a0d40);}['applySetti'+'ngs'](_0x582429){const _0x2bb7c3=_0x582429['physics'],_0x3dfc7b=_0x582429['render'];this['_gravity']['set'](_0x2bb7c3['gravity'][0x27*-0x2f+-0x5d*-0x6a+-0x1f59],_0x2bb7c3['gravity'][0x34b+0x1a3*-0x1+-0x8d*0x3],_0x2bb7c3['gravity'][-0x1*0x287+-0x1939+0x1bc2*0x1]),this['ambientLig'+'ht']['set'](_0x3dfc7b['global_amb'+'ient'][0x876+-0x155+0x16d*-0x5],_0x3dfc7b['global_amb'+'ient'][-0x37c+-0x147*0x17+0x7*0x4b2],_0x3dfc7b['global_amb'+'ient'][-0x1*0x20f2+0x1552+0xba2]),this['ambientLum'+'inance']=_0x3dfc7b['ambientLum'+'inance'],this['fog']['type']=_0x3dfc7b['fog'],this['fog']['color']['set'](_0x3dfc7b['fog_color'][-0x1519+0x9f+-0x2*-0xa3d],_0x3dfc7b['fog_color'][0x2572*-0x1+-0x256d+-0x8*-0x95c],_0x3dfc7b['fog_color'][0x1*0xda6+0x12cd+-0x2f3*0xb]),this['fog']['start']=_0x3dfc7b['fog_start'],this['fog']['end']=_0x3dfc7b['fog_end'],this['fog']['density']=_0x3dfc7b['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x3dfc7b['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x3dfc7b['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x3dfc7b['lightmapMo'+'de'],this['exposure']=_0x3dfc7b['exposure'],this['_skyboxInt'+'ensity']=_0x3dfc7b['skyboxInte'+'nsity']??-0x2613+-0xaf5+-0x1*-0x3109,this['_skyboxLum'+'inance']=_0x3dfc7b['skyboxLumi'+'nance']??0x817a+0x9af6+-0x19ca*0x8,this['_skyboxMip']=_0x3dfc7b['skyboxMip']??0x1b75*0x1+0x22a5+-0x1*0x3e1a,_0x3dfc7b['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new se()['setFromEul'+'erAngles'](_0x3dfc7b['skyboxRota'+'tion'][-0x4d*0x1b+-0x200+0xa1f],_0x3dfc7b['skyboxRota'+'tion'][0x1aa8+-0x6af*-0x3+-0x4*0xbad],_0x3dfc7b['skyboxRota'+'tion'][0xf*0x15f+-0x15*-0x5b+-0x22*0xd3])),this['sky']['applySetti'+'ngs'](_0x3dfc7b),this['clusteredL'+'ightingEna'+'bled']=_0x3dfc7b['clusteredL'+'ightingEna'+'bled']??!(0x13ce+-0x16a8+0x11*0x2b),this['lighting']['applySetti'+'ngs'](_0x3dfc7b),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0xe7298a=>{_0x3dfc7b['hasOwnProp'+'erty'](_0xe7298a)&&(this[_0xe7298a]=_0x3dfc7b[_0xe7298a]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x2348f0=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x2348f0[[-0xb*0x327+0x39*0x1f+0x1bc6,-0xbf8+0xec*-0xb+-0x6f*-0x33,0x15b3+-0x1*0x1147+-0x469,0x8e2*0x4+0x2704+-0x4a88*0x1,-0x1a*-0x13e+-0x1*-0x15ed+-0x3634,-0x73+-0x55f*0x2+0x1*0xb37][this['_skyboxMip']]]||this['_envAtlas']||_0x2348f0[-0x1*-0x7db+-0x750+-0x8b]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x2348f0[-0x709+0x1b4f+-0x1446]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(-0x648+-0xab7*0x1+0x10ff);}['setSkybox'](_0x58a0ba){_0x58a0ba?(this['skybox']=_0x58a0ba[-0xdba+-0x15ce*0x1+0xbd8*0x3]||null,_0x58a0ba[-0x979+0x734*0x5+-0x4f*0x56]&&!_0x58a0ba[-0xbd4*-0x2+-0x5*0x532+0x1*0x253]['cubemap']?this['envAtlas']=_0x58a0ba[0x61*0x2+-0x97*-0x21+-0x1438]:this['prefiltere'+'dCubemaps']=_0x58a0ba['slice'](0x1160+-0xe*-0x2be+-0x37c3)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Se;}}c(ci,'EVENT_SETL'+'AYERS','set:layers'),c(ci,'EVENT_SETS'+'KYBOX','set:skybox'),c(ci,'EVENT_PRER'+'ENDER','prerender'),c(ci,'EVENT_POST'+'RENDER','postrender'),c(ci,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),c(ci,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),c(ci,'EVENT_PREC'+'ULL','precull'),c(ci,'EVENT_POST'+'CULL','postcull');class N0{constructor(_0x73c567,_0x45cfe8,_0x2c0e0d){this['device']=_0x73c567,this['inverseBin'+'dPose']=_0x45cfe8,this['boneNames']=_0x2c0e0d;}}const b1=[0x15bb+-0x3*0x34e+0x5*-0x25d,0x23e0+0x1*-0x1b3b+0x1*-0x8a5,-0xa24+-0xa*0x242+0x20b9,0x1b76+0xeae+-0x2a24,-0x1bd9+-0x1*-0x1d74+-0x19b,0x8*-0xe9+-0x1990+0x20d9,-0x22d9+0x9b5+0x1924,-0xc06+-0x18a7+0x24ad,-0x1*-0x3f+-0x499*0x5+0x16bf,0x57c+-0x101*0x8+0x28c,-0x2706+-0x16af+0x3db5,0x1*-0x1271+0x31d+0xf55],w1=[0x1f6f+0x4c9+-0x4*0x90e,-0x22d4+-0x8f*0x33+0x1*0x3f52,-0x212e+-0x15cd*-0x1+-0x6*-0x1e6,-0x13e1+0x1ecc+0x93*-0x13,-0x100*0xd+0x4*-0xe8+0x10a3,-0x17*-0x6b+0x7*-0x40f+-0x1*-0x12cd];class T1 extends ce{constructor(_0x323c3c,_0x41d682){super(),this['_device']=_0x323c3c,this['_pixelsPer'+'Unit']=_0x41d682&&_0x41d682['pixelsPerU'+'nit']!==void(-0x1e7e+-0x38a+0x2208)?_0x41d682['pixelsPerU'+'nit']:-0x11b1+0x293*0x7+-0x53,this['_renderMod'+'e']=_0x41d682&&_0x41d682['renderMode']!==void(0x8*-0x475+-0x25b+0x2603)?_0x41d682['renderMode']:Ti,this['_atlas']=_0x41d682&&_0x41d682['atlas']!==void(0xb*0x303+-0x619+-0x1b08*0x1)?_0x41d682['atlas']:null,this['_frameKeys']=_0x41d682&&_0x41d682['frameKeys']!==void(0x8cd*0x1+-0x2*0x11c3+0x1ab9)?_0x41d682['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(0x114a+0x80+0x11c9*-0x1),this['_meshesDir'+'ty']=!(0x2*0x839+0x628+-0x1*0x1699),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x34e4b1){this['_frameKeys']=_0x34e4b1,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x135c+-0x10ca+0x2f*-0xe):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x34e4b1);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x51a207){_0x51a207!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x51a207,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1b40*0x1+0x16f*-0xf+0x30c1):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x51a207));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0xe27a6c){this['_pixelsPer'+'Unit']!==_0xe27a6c&&(this['_pixelsPer'+'Unit']=_0xe27a6c,this['fire']('set:pixels'+'PerUnit',_0xe27a6c),this['_atlas']&&this['_frameKeys']&&this['renderMode']===Ti&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1bec+-0x2197+0xb5*0x57):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x258c5e){if(this['_renderMod'+'e']===_0x258c5e)return;const _0x3aecf2=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x258c5e,this['fire']('set:render'+'Mode',_0x258c5e),(_0x3aecf2===Ti||_0x258c5e===Ti)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x213d+0x71*-0x31+0x2*0x1b6f):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x4e0365=this['_meshes']['length'];for(let _0x4dc634=-0x4*-0x92f+-0x12b3+-0x1209;_0x4dc634<_0x4e0365;_0x4dc634++){const _0x502fa7=this['_meshes'][_0x4dc634];_0x502fa7&&_0x502fa7['destroy']();}const _0x9af98b=this['_frameKeys']['length'];this['_meshes']=new Array(_0x9af98b);const _0x159f80=this['renderMode']===nt||this['_renderMod'+'e']===Qe?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x32c702=0x3*0x38b+0x1c98+-0x2739;_0x32c702<_0x9af98b;_0x32c702++){const _0x822146=this['_atlas']['frames'][this['_frameKeys'][_0x32c702]];this['_meshes'][_0x32c702]=_0x822146?_0x159f80['call'](this,_0x822146):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x1c68de){const _0xac3133=_0x1c68de['rect'],_0x6218e6=this['_atlas']['texture']['width'],_0x1ba9d4=this['_atlas']['texture']['height'],_0x5b8a92=_0xac3133['z']/this['_pixelsPer'+'Unit'],_0x38751a=_0xac3133['w']/this['_pixelsPer'+'Unit'],_0x1382b5=_0x1c68de['pivot']['x'],_0x49e105=_0x1c68de['pivot']['y'],_0x19cbcd=[-_0x1382b5*_0x5b8a92,-_0x49e105*_0x38751a,0x13af+-0x1cfa+0x3d*0x27,(0xdf*0x3+-0x776+0x4da-_0x1382b5)*_0x5b8a92,-_0x49e105*_0x38751a,-0x2699+-0x1bbb+0xd44*0x5,(0x2252+0x47d+-0x26ce-_0x1382b5)*_0x5b8a92,(0x1ed2+0xb*-0x93+0x10*-0x188-_0x49e105)*_0x38751a,-0x3*-0x12d+0x1a*0x170+-0x28e7,-_0x1382b5*_0x5b8a92,(0x19*-0x149+-0x373*-0x3+0x15c9-_0x49e105)*_0x38751a,0x1e51+0x1cd8+-0x3b29],_0x441630=_0xac3133['x']/_0x6218e6,_0x3617e0=-0x19*0x1d+0x175*-0x3+0x1*0x735-_0xac3133['y']/_0x1ba9d4,_0x4a369e=(_0xac3133['x']+_0xac3133['z'])/_0x6218e6,_0x2397c1=0x1187+-0x91*0x39+0xec3*0x1-(_0xac3133['y']+_0xac3133['w'])/_0x1ba9d4,_0x34aba4=[_0x441630,_0x3617e0,_0x4a369e,_0x3617e0,_0x4a369e,_0x2397c1,_0x441630,_0x2397c1],_0x11b232=new pn();return _0x11b232['positions']=_0x19cbcd,_0x11b232['normals']=b1,_0x11b232['uvs']=_0x34aba4,_0x11b232['indices']=w1,Ie['fromGeomet'+'ry'](this['_device'],_0x11b232);}['_create9Sl'+'iceMesh'](){const _0x4adf10=W['ONE'],_0x40c633=-0xa90+-0x1cc1+-0x13aa*-0x2,_0x1aab2f=-0x228d+0x31*-0x7d+0xd9*0x45,_0x572ea7=[],_0x50bf33=[],_0x122617=[],_0x5e448a=[];let _0x234292=-0x409+0x1*-0x1fc0+0x23c9;for(let _0xcb3ae5=0x1359+-0x1715+0x3bc;_0xcb3ae5<=_0x40c633;_0xcb3ae5++){const _0xac3ff2=_0xcb3ae5===0x395*-0x1+-0x12f8*0x2+0x2985||_0xcb3ae5===_0x40c633?0xeb7*0x1+-0x11d7+0x4*0xc8:-0x22f9+0x1652+-0xd8*-0xf;for(let _0x4b65df=0xd70*-0x2+0x2*0x5a3+0xf9a;_0x4b65df<=_0x1aab2f;_0x4b65df++){const _0x541f2a=-_0x4adf10['x']+(0x13d2+-0x1fd3*0x1+0x401*0x3)*_0x4adf10['x']*(_0xcb3ae5<=0x5e*0x37+-0x7*-0x19d+0x5*-0x64c?0x18cf+-0xd7d+-0xb52:0x14ad+-0x26f+-0x1*0x123b)/_0x40c633,_0x779a5c=-0x5eb+0xede+0x4f*-0x1d,_0x30bda7=-(-_0x4adf10['y']+(0x2404+-0xcff*0x1+0x2b*-0x89)*_0x4adf10['y']*(_0x4b65df<=-0x85f+0x1cce+0x20b*-0xa?-0x16e6+-0x1bca+-0xcac*-0x4:-0x1300*0x1+0xbbe+0x745)/_0x1aab2f),_0x6796b0=_0x4b65df===-0xd11+0x2*-0x123a+0x3185||_0x4b65df===_0x1aab2f?-0x22be+-0x78d+0x2a4b:0x5*-0x15+-0xa*-0x2ef+-0x1cec;_0x572ea7['push'](-_0x541f2a,_0x779a5c,_0x30bda7),_0x50bf33['push'](0x18d1+0x17da+-0x30ab,-0xb87*-0x1+-0x4+-0xb82,0x198a+0x1c32*-0x1+0x2a8),_0x122617['push'](_0xac3ff2,_0x6796b0),_0xcb3ae5<_0x40c633&&_0x4b65df<_0x1aab2f&&(_0x5e448a['push'](_0x234292+_0x1aab2f+(-0xb01+-0x1*0x228f+0x1*0x2d91),_0x234292+(-0x247d+0x1ff*-0x7+0x3277*0x1),_0x234292),_0x5e448a['push'](_0x234292+_0x1aab2f+(-0x172a+-0x1b6*0x6+-0x3*-0xb25),_0x234292+_0x1aab2f+(0x748*-0x2+0x14*0x1b1+-0x1342),_0x234292+(-0x231+0x2*0x290+0x3*-0xfa))),_0x234292++;}}const _0x5190b7=new pn();return _0x5190b7['positions']=_0x572ea7,_0x5190b7['normals']=_0x50bf33,_0x5190b7['uvs']=_0x122617,_0x5190b7['indices']=_0x5e448a,Ie['fromGeomet'+'ry'](this['_device'],_0x5190b7);}['_onSetFram'+'es'](_0x53d526){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x219*0x6+-0xac1*-0x1+-0x1757):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x3d7a41,_0x620d23){const _0x45d3ae=this['_frameKeys']['indexOf'](_0x3d7a41);_0x45d3ae<0x3b9*-0x7+-0x22c8+0x3cd7||(_0x620d23?this['renderMode']===Ti&&(this['_meshes'][_0x45d3ae]=this['_createSim'+'pleMesh'](_0x620d23)):this['_meshes'][_0x45d3ae]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x26e1d6){const _0xd77c20=this['_frameKeys']['indexOf'](_0x26e1d6);_0xd77c20<-0x133+-0x218*0x11+0x24cb||(this['_meshes'][_0xd77c20]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(0x1746+0x618+-0x1d5e),this['_meshesDir'+'ty']=!(-0x1b*0x75+-0x22f3+0x2f4b);}['endUpdate'](){this['_updatingP'+'roperties']=!(-0x815*0x1+0x2*0x1169+-0x1abc),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(0x25d+0x8e*0x9+0x1*-0x75a);}['destroy'](){for(const _0x51699e of this['_meshes'])_0x51699e&&_0x51699e['destroy']();this['_meshes']['length']=-0x45f+0x11a2+0x23*-0x61;}}class A1 extends ce{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0xb6c544){this['_texture']=_0xb6c544,this['fire']('set:textur'+'e',_0xb6c544);}get['texture'](){return this['_texture'];}set['frames'](_0x24f625){this['_frames']=_0x24f625,this['fire']('set:frames',_0x24f625);}get['frames'](){return this['_frames'];}['setFrame'](_0x404fde,_0x499710){let _0x297183=this['_frames'][_0x404fde];_0x297183?(_0x297183['rect']['copy'](_0x499710['rect']),_0x297183['pivot']['copy'](_0x499710['pivot']),_0x297183['border']['copy'](_0x499710['border'])):(_0x297183={'rect':_0x499710['rect']['clone'](),'pivot':_0x499710['pivot']['clone'](),'border':_0x499710['border']['clone']()},this['_frames'][_0x404fde]=_0x297183),this['fire']('set:frame',_0x404fde['toString'](),_0x297183);}['removeFram'+'e'](_0x552d90){const _0x17e791=this['_frames'][_0x552d90];_0x17e791&&(delete this['_frames'][_0x552d90],this['fire']('remove:fra'+'me',_0x552d90['toString'](),_0x17e791));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class F_{constructor(_0x15467e,_0x4895f8,_0x4041ca,_0x3e8815){this['time']=_0x15467e,this['position']=_0x4895f8,this['rotation']=_0x4041ca,this['scale']=_0x3e8815;}}class O_{constructor(){this['_name']='',this['_keys']=[];}}class k_{constructor(){c(this,'name',''),c(this,'duration',0x5*0x14d+0x186b+-0x1eec*0x1),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x3ebaae){return this['_nodeDict'][_0x3ebaae];}['addNode'](_0x5220cb){this['_nodes']['push'](_0x5220cb),this['_nodeDict'][_0x5220cb['_name']]=_0x5220cb;}get['nodes'](){return this['_nodes'];}}class E1{constructor(){this['_written']=!(0xfca+0x1*-0x17ce+0x805),this['_name']='',this['_keyFrames']=[],this['_quat']=new se(),this['_pos']=new T(),this['_scale']=new T(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x2d7a3a){this['_targetNod'+'e']=_0x2d7a3a;}}class Wd{constructor(_0x423cef){c(this,'looping',!(-0x610+-0x168*-0x6+-0x260)),(this['_animation']=null,this['_time']=0x2161+-0x2*0x526+0x13*-0x137,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x8910a6=_0xa65456=>{const _0x4f726d=new E1();_0x4f726d['_name']=_0xa65456['name'],this['_interpola'+'tedKeys']['push'](_0x4f726d),this['_interpola'+'tedKeyDict'][_0xa65456['name']]=_0x4f726d,this['_currKeyIn'+'dices'][_0xa65456['name']]=-0x1*0x17b4+-0x2*-0x73d+0x93a;for(let _0x2e3cc0=-0x166+0x25c0+-0x245a;_0x2e3cc0<_0xa65456['_children']['length'];_0x2e3cc0++)_0x8910a6(_0xa65456['_children'][_0x2e3cc0]);};_0x8910a6(_0x423cef);}set['animation'](_0x2f954b){this['_animation']=_0x2f954b,this['currentTim'+'e']=-0xc5b*-0x1+0x14e9*0x1+0x4*-0x851;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x17af86){this['_time']=_0x17af86;const _0x21168d=this['_interpola'+'tedKeys']['length'];for(let _0x73af56=0x2275*0x1+-0x21c1*-0x1+-0x4436;_0x73af56<_0x21168d;_0x73af56++){const _0xc71302=this['_interpola'+'tedKeys'][_0x73af56]['_name'];this['_currKeyIn'+'dices'][_0xc71302]=0x26e3+0x53*-0x51+-0xca0;}this['addTime'](0x4*0x89d+0x17d+-0x23f1),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x2d8dcc){if(this['_animation']!==null){const _0x1586e8=this['_animation']['_nodes'],_0x149873=this['_animation']['duration'];if(this['_time']===_0x149873&&!this['looping'])return;if(this['_time']+=_0x2d8dcc,this['_time']>_0x149873){this['_time']=this['looping']?-0x2372+-0x2*-0x1221+-0xd0:_0x149873;for(let _0x3b0b6e=0x4a*0x71+-0x233c+0x5e*0x7;_0x3b0b6e<_0x1586e8['length'];_0x3b0b6e++){const _0x2f6b2b=_0x1586e8[_0x3b0b6e]['_name'];this['_currKeyIn'+'dices'][_0x2f6b2b]=-0x22d2+0x4*-0x3df+0x5e*0x89;}}else{if(this['_time']<0x22a7+0x1f43+-0x512*0xd){this['_time']=this['looping']?_0x149873:0x263d+-0x1*0x1909+0x41*-0x34;for(let _0x218ca7=-0x3e8+-0x5*0x81+0x66d;_0x218ca7<_0x1586e8['length'];_0x218ca7++){const _0x30496a=_0x1586e8[_0x218ca7],_0x3b0034=_0x30496a['_name'];this['_currKeyIn'+'dices'][_0x3b0034]=_0x30496a['_keys']['length']-(-0x13*0x20c+-0xfd1*0x1+0x123d*0x3);}}}const _0x280746=_0x2d8dcc>=0x201b*-0x1+0x1*0x2426+-0x40b?-0xc*0x2b6+0xda5+-0x1a*-0xba:-(-0xd7*-0x2b+0x1*-0x2c5+-0x6ab*0x5);for(let _0x344440=-0x1bd7*-0x1+0x1*-0x752+-0x1485;_0x344440<_0x1586e8['length'];_0x344440++){const _0x1c5d70=_0x1586e8[_0x344440],_0xa714a8=_0x1c5d70['_name'],_0xd8c04f=_0x1c5d70['_keys'],_0xc49ed1=this['_interpola'+'tedKeyDict'][_0xa714a8];if(_0xc49ed1===void(0x5*-0x77f+-0xc*-0x131+-0x1*-0x172f)){v['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0xa714a8);continue;}let _0x3d171e=!(-0x9cb*0x1+0x3ca+0x602*0x1);if(_0xd8c04f['length']!==0x12f7+0x1fde+0x4*-0xcb5)for(let _0x272bfb=this['_currKeyIn'+'dices'][_0xa714a8];_0x272bfb<_0xd8c04f['length']-(-0x1d49+-0x4fd*-0x5+0x459)&&_0x272bfb>=-0x16ee+-0x2010+-0x36fe*-0x1;_0x272bfb+=_0x280746){const _0x2c847b=_0xd8c04f[_0x272bfb],_0x34f18a=_0xd8c04f[_0x272bfb+(0x3b*-0x1+0x26a1+-0x1*0x2665)];if(_0x2c847b['time']<=this['_time']&&_0x34f18a['time']>=this['_time']){const _0x1ac9ff=(this['_time']-_0x2c847b['time'])/(_0x34f18a['time']-_0x2c847b['time']);_0xc49ed1['_pos']['lerp'](_0x2c847b['position'],_0x34f18a['position'],_0x1ac9ff),_0xc49ed1['_quat']['slerp'](_0x2c847b['rotation'],_0x34f18a['rotation'],_0x1ac9ff),_0xc49ed1['_scale']['lerp'](_0x2c847b['scale'],_0x34f18a['scale'],_0x1ac9ff),_0xc49ed1['_written']=!(-0x2*0x92f+-0x22d5+0x3533*0x1),this['_currKeyIn'+'dices'][_0xa714a8]=_0x272bfb,_0x3d171e=!(0x1a69+-0x7fc*-0x1+0x1*-0x2265);break;}}(_0xd8c04f['length']===-0x56*-0x27+0xba3+-0x18bc||!_0x3d171e&&this['_time']===0x1b*0xa7+-0xdab+-0x3f2&&this['looping'])&&(_0xc49ed1['_pos']['copy'](_0xd8c04f[0x130f+-0x2087+0xd78]['position']),_0xc49ed1['_quat']['copy'](_0xd8c04f[-0x10d+0x85*-0x1f+0x8*0x225]['rotation']),_0xc49ed1['_scale']['copy'](_0xd8c04f[-0x15d3+0x203*-0xd+0x2ffa]['scale']),_0xc49ed1['_written']=!(-0x1665+0x1d5c*0x1+-0x6f7));}}}['blend'](_0x1ea30c,_0xbaa69b,_0x1a13d1){const _0x3190df=this['_interpola'+'tedKeys']['length'];for(let _0x1bb431=0x213c+-0x7e+-0x20be;_0x1bb431<_0x3190df;_0x1bb431++){const _0xbd74e5=_0x1ea30c['_interpola'+'tedKeys'][_0x1bb431],_0xb3ddfa=_0xbaa69b['_interpola'+'tedKeys'][_0x1bb431],_0x363324=this['_interpola'+'tedKeys'][_0x1bb431];_0xbd74e5['_written']&&_0xb3ddfa['_written']?(_0x363324['_quat']['slerp'](_0xbd74e5['_quat'],_0xbaa69b['_interpola'+'tedKeys'][_0x1bb431]['_quat'],_0x1a13d1),_0x363324['_pos']['lerp'](_0xbd74e5['_pos'],_0xbaa69b['_interpola'+'tedKeys'][_0x1bb431]['_pos'],_0x1a13d1),_0x363324['_scale']['lerp'](_0xbd74e5['_scale'],_0xb3ddfa['_scale'],_0x1a13d1),_0x363324['_written']=!(0x10d+-0x8*-0x12d+-0xa75)):_0xbd74e5['_written']?(_0x363324['_quat']['copy'](_0xbd74e5['_quat']),_0x363324['_pos']['copy'](_0xbd74e5['_pos']),_0x363324['_scale']['copy'](_0xbd74e5['_scale']),_0x363324['_written']=!(0x1*-0x92c+0x185d+-0xf31)):_0xb3ddfa['_written']&&(_0x363324['_quat']['copy'](_0xb3ddfa['_quat']),_0x363324['_pos']['copy'](_0xb3ddfa['_pos']),_0x363324['_scale']['copy'](_0xb3ddfa['_scale']),_0x363324['_written']=!(0xd*0x263+-0x25*0x9b+0x18*-0x5c));}}['setGraph'](_0x5e85ab){if(this['graph']=_0x5e85ab,_0x5e85ab)for(let _0x412049=0x22*-0xad+-0x1ca1*0x1+0xb*0x4b1;_0x412049<this['_interpola'+'tedKeys']['length'];_0x412049++){const _0x411a31=this['_interpola'+'tedKeys'][_0x412049],_0x147dd4=_0x5e85ab['findByName'](_0x411a31['_name']);this['_interpola'+'tedKeys'][_0x412049]['setTarget'](_0x147dd4);}else{for(let _0x3ebc9a=-0x19*-0xdf+-0x14d4+-0xf3;_0x3ebc9a<this['_interpola'+'tedKeys']['length'];_0x3ebc9a++)this['_interpola'+'tedKeys'][_0x3ebc9a]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x4c449d=-0xa1f+0x6be*0x3+-0xd*0xc7;_0x4c449d<this['_interpola'+'tedKeys']['length'];_0x4c449d++){const _0x3231f3=this['_interpola'+'tedKeys'][_0x4c449d];if(_0x3231f3['_written']){const _0x30c3c7=_0x3231f3['getTarget']();_0x30c3c7['localPosit'+'ion']['copy'](_0x3231f3['_pos']),_0x30c3c7['localRotat'+'ion']['copy'](_0x3231f3['_quat']),_0x30c3c7['localScale']['copy'](_0x3231f3['_scale']),_0x30c3c7['_dirtyLoca'+'l']||_0x30c3c7['_dirtifyLo'+'cal'](),_0x3231f3['_written']=!(0xe*0x26e+-0x2395+-0x43*-0x6);}}}}const ys=(-0x1836+0xe89*0x2+-0x5*0xf8)/(-0x2283+-0x1236*-0x1+-0x108d*-0x1),Bs=-0x78*0x2c+0xd*-0x2b6+-0x37df*-0x1-ys*(0x16ea*-0x1+0x1499+0x253);class Bp extends pn{constructor(_0x3de31c,_0x283d7f,_0x56a71b,_0x3e1b8c,_0x481843,_0x247f4f){super();const _0x4f1ad5=new T(),_0x2cee23=new T(),_0x489f5d=new T(),_0x2c485a=new T(),_0x1a19aa=new T(),_0x5aa3cf=new T(),_0x4772fb=[],_0x3ea227=[],_0x89de65=[],_0x10429b=[],_0x2f84f4=[];let _0x6d01a5;if(_0x56a71b>-0x3fc+0x1bf*-0x11+0x21ab){for(let _0x4c770f=-0x17ac+0x1b89+0x3dd*-0x1;_0x4c770f<=_0x3e1b8c;_0x4c770f++)for(let _0x42d894=0x1a83+-0x1463+-0x620;_0x42d894<=_0x481843;_0x42d894++){const _0x2bc46d=_0x42d894/_0x481843*(0x957+0xc*0x7b+-0xf19)*Math['PI']-Math['PI'],_0x401ea6=Math['sin'](_0x2bc46d),_0x376e8f=Math['cos'](_0x2bc46d);_0x1a19aa['set'](_0x401ea6*_0x3de31c,-_0x56a71b/(0x1cb1+-0xa*0x2a9+-0x215),_0x376e8f*_0x3de31c),_0x2c485a['set'](_0x401ea6*_0x283d7f,_0x56a71b/(0x1d00+0x35*-0x22+0x57d*-0x4),_0x376e8f*_0x283d7f),_0x4f1ad5['lerp'](_0x1a19aa,_0x2c485a,_0x4c770f/_0x3e1b8c),_0x2cee23['sub2'](_0x2c485a,_0x1a19aa)['normalize'](),_0x5aa3cf['set'](_0x376e8f,-0x1*-0x11a1+0x14d*0x13+-0xa96*0x4,-_0x401ea6),_0x489f5d['cross'](_0x5aa3cf,_0x2cee23)['normalize'](),_0x4772fb['push'](_0x4f1ad5['x'],_0x4f1ad5['y'],_0x4f1ad5['z']),_0x3ea227['push'](_0x489f5d['x'],_0x489f5d['y'],_0x489f5d['z']);let _0x89e8f4=_0x42d894/_0x481843,_0xe7be09=_0x4c770f/_0x3e1b8c;_0x89de65['push'](_0x89e8f4,-0x3e*-0x9+0x14*0xf3+-0x1*0x1529-_0xe7be09);const _0x661478=_0xe7be09;if(_0xe7be09=_0x89e8f4,_0x89e8f4=_0x661478,_0x89e8f4=_0x89e8f4*Bs+ys,_0xe7be09=_0xe7be09*Bs+ys,_0x89e8f4/=-0xb*0x121+-0x97+-0x1*-0xd05,_0x10429b['push'](_0x89e8f4,-0x5*0x472+-0x224*0x11+-0x3a9f*-0x1-_0xe7be09),_0x4c770f<_0x3e1b8c&&_0x42d894<_0x481843){const _0x33b12e=_0x4c770f*(_0x481843+(-0x581+-0xf92+0x1514))+_0x42d894,_0x37b022=_0x4c770f*(_0x481843+(0x259*-0x1+0x149+-0x3*-0x5b))+(_0x42d894+(0x1a38+0x1aca+-0x3501)),_0x162f19=(_0x4c770f+(0xe1d*0x1+0x360*0x5+-0x1efc))*(_0x481843+(-0x517*0x3+-0x249b+0x33e1))+_0x42d894,_0x437b4f=(_0x4c770f+(0x93f*-0x1+0xcd*-0x29+-0x603*-0x7))*(_0x481843+(-0x5bc+-0xe66+-0x5*-0x407))+(_0x42d894+(-0xb98+-0x1*0x235f+0x2ef8));_0x2f84f4['push'](_0x33b12e,_0x37b022,_0x162f19),_0x2f84f4['push'](_0x37b022,_0x437b4f,_0x162f19);}}}if(_0x247f4f){const _0x4f2e13=Math['floor'](_0x481843/(-0x3*0x877+-0x20f*0x9+-0x2bee*-0x1)),_0x389e73=_0x481843,_0x3b952e=_0x56a71b/(-0x4e*0x41+-0x20f0+-0x1*-0x34c0);for(let _0x5b707c=0x16c6+0x9*0x119+-0x20a7*0x1;_0x5b707c<=_0x4f2e13;_0x5b707c++){const _0xa7d95f=_0x5b707c*Math['PI']*(0x31*0x14+0x2*0x32b+-0xa2a+0.5)/_0x4f2e13,_0x5ad00c=Math['sin'](_0xa7d95f),_0x35e7ce=Math['cos'](_0xa7d95f);for(let _0x3bd9f8=-0x5*-0xfb+0x8b4*-0x4+0x1de9;_0x3bd9f8<=_0x389e73;_0x3bd9f8++){const _0x39121a=_0x3bd9f8*(-0x17b0+0x1*-0x717+-0x1*-0x1ec9)*Math['PI']/_0x389e73-Math['PI']/(-0xa0e+-0x1130+0x10*0x1b4),_0x5c42f2=Math['sin'](_0x39121a),_0x5e38da=Math['cos'](_0x39121a)*_0x5ad00c,_0xa9bf3d=_0x35e7ce,_0x1705a6=_0x5c42f2*_0x5ad00c;let _0x3e3d69=-0x462+-0x2*0x97+0x591-_0x3bd9f8/_0x389e73,_0x265c2a=0x252b+-0x3fa*-0x4+-0x3512-_0x5b707c/_0x4f2e13;_0x4772fb['push'](_0x5e38da*_0x283d7f,_0xa9bf3d*_0x283d7f+_0x3b952e,_0x1705a6*_0x283d7f),_0x3ea227['push'](_0x5e38da,_0xa9bf3d,_0x1705a6),_0x89de65['push'](_0x3e3d69,0x6*-0x3a8+0xb0b+-0x6*-0x1d1-_0x265c2a),_0x3e3d69=_0x3e3d69*Bs+ys,_0x265c2a=_0x265c2a*Bs+ys,_0x3e3d69/=-0x7a*-0x25+0xf4a+0x695*-0x5,_0x265c2a/=0xc4*-0x13+-0x1684+0x2513,_0x3e3d69+=(0x134b+0x1*0xf4d+-0x2297)/(0x1576+-0xa*-0x56+-0x1*0x18cf),_0x10429b['push'](_0x3e3d69,-0x25f9+-0x1de*-0x13+0x280-_0x265c2a);}}_0x6d01a5=(_0x3e1b8c+(-0xa*-0x18e+0x3*-0x508+-0x73))*(_0x481843+(-0x1f1b*-0x1+-0x12df+-0xc3b));for(let _0x38fb22=0x6*-0x32b+0x1*0xa7+0x25*0x7f;_0x38fb22<_0x4f2e13;++_0x38fb22)for(let _0x16bdca=0x3*-0x269+0x1d35+-0x15fa;_0x16bdca<_0x389e73;++_0x16bdca){const _0x1e6c38=_0x38fb22*(_0x389e73+(0xc35+0x15*0x147+-0x2707))+_0x16bdca,_0x2bbb6e=_0x1e6c38+_0x389e73+(-0x1d2+-0x1e92+0x2065);_0x2f84f4['push'](_0x6d01a5+_0x1e6c38+(-0x2*-0x6b+-0x1254+0x117f),_0x6d01a5+_0x2bbb6e,_0x6d01a5+_0x1e6c38),_0x2f84f4['push'](_0x6d01a5+_0x1e6c38+(0x21*-0x13+-0x25d9*-0x1+-0x2365),_0x6d01a5+_0x2bbb6e+(0x2425*0x1+-0x39*0x1+-0x23eb),_0x6d01a5+_0x2bbb6e);}for(let _0x48a023=0x14f*0x13+0x8ee+-0x29*0xd3;_0x48a023<=_0x4f2e13;_0x48a023++){const _0x22e66c=Math['PI']*(0x1685+0xacf+-0x2154+0.5)+_0x48a023*Math['PI']*(0xd4*-0x7+0x19a3+-0x3*0x69d+0.5)/_0x4f2e13,_0x45a825=Math['sin'](_0x22e66c),_0x1c1bf5=Math['cos'](_0x22e66c);for(let _0x16e9ad=-0x2179+-0x160e*-0x1+0xb6b;_0x16e9ad<=_0x389e73;_0x16e9ad++){const _0x5bff37=_0x16e9ad*(-0x3a4*-0x1+0x23*0xf+-0x5af)*Math['PI']/_0x389e73-Math['PI']/(0x7aa+-0x236d+-0x1*-0x1bc5),_0x43ac27=Math['sin'](_0x5bff37),_0xfce02c=Math['cos'](_0x5bff37)*_0x45a825,_0x511c64=_0x1c1bf5,_0x18e168=_0x43ac27*_0x45a825;let _0x26beb9=0x8b*-0x9+0x1df9+-0x1*0x1915-_0x16e9ad/_0x389e73,_0x2c8485=0x4d2+-0x3*0x7b4+-0xdf*-0x15-_0x48a023/_0x4f2e13;_0x4772fb['push'](_0xfce02c*_0x283d7f,_0x511c64*_0x283d7f-_0x3b952e,_0x18e168*_0x283d7f),_0x3ea227['push'](_0xfce02c,_0x511c64,_0x18e168),_0x89de65['push'](_0x26beb9,-0x4*0x86+0xfa9+-0xd90-_0x2c8485),_0x26beb9=_0x26beb9*Bs+ys,_0x2c8485=_0x2c8485*Bs+ys,_0x26beb9/=0x445+-0x1d65+0x1923,_0x2c8485/=0x1b5*0x4+0x1709+-0x1dda,_0x26beb9+=(-0x1ab9*0x1+0x2e9*0x2+-0x35*-0x65)/(0xb*-0x37d+-0x1e07+0x4469),_0x10429b['push'](_0x26beb9,0xedf*0x1+0x214c+0x5a*-0x89-_0x2c8485);}}_0x6d01a5=(_0x3e1b8c+(0x1*-0x1b6f+-0x23fc+-0x171*-0x2c))*(_0x481843+(-0xca9+-0x10f+-0x493*-0x3))+(_0x389e73+(-0x1f83+0x19dc+0x5a8))*(_0x4f2e13+(-0x3*-0xae5+0x1d6f+-0x1*0x3e1d));for(let _0x50eb64=-0x1cc3+0xe56*-0x1+0x2b19;_0x50eb64<_0x4f2e13;++_0x50eb64)for(let _0xb8cbcc=-0x18b3*0x1+0x1d23+-0x10*0x47;_0xb8cbcc<_0x389e73;++_0xb8cbcc){const _0xc6c7c2=_0x50eb64*(_0x389e73+(0x13f3*0x1+0x1619+0x2f*-0xe5))+_0xb8cbcc,_0x39b0dd=_0xc6c7c2+_0x389e73+(0xa76+0xff7+-0x1a6c);_0x2f84f4['push'](_0x6d01a5+_0xc6c7c2+(-0x1*0xaab+0x23bd+-0x1911),_0x6d01a5+_0x39b0dd,_0x6d01a5+_0xc6c7c2),_0x2f84f4['push'](_0x6d01a5+_0xc6c7c2+(-0x1768+-0x7e*-0x29+0x33b*0x1),_0x6d01a5+_0x39b0dd+(-0x14*-0xf4+0x84+-0x1393),_0x6d01a5+_0x39b0dd);}}else{if(_0x6d01a5=(_0x3e1b8c+(-0x2*-0x12d0+0x1*0x20f5+-0x4694))*(_0x481843+(-0x1*-0xf25+-0x8f6+-0x62e)),_0x3de31c>-0x1347+0x207c+-0x15*0xa1)for(let _0x2b8491=0x1d1d+-0x2034+0x317;_0x2b8491<_0x481843;_0x2b8491++){const _0x5dcdf8=_0x2b8491/_0x481843*(0x1b5b+0x4d*0x2+-0x1bf3)*Math['PI'],_0x2c3983=Math['sin'](_0x5dcdf8),_0xe98ad9=-_0x56a71b/(0x40*0x4a+0x816+0x24*-0xbd),_0x2a20f4=Math['cos'](_0x5dcdf8);let _0x4f846c=0x1d38+-0x2*0xd72+0x5*-0x77-(_0x2c3983+(-0x6bc+-0x1*-0x1d69+-0x16ac))/(0x1*0x24cb+0x201a+-0x44e3),_0x371f1d=(_0x2a20f4+(0x11a2+-0x1f*0x1+-0x53*0x36))/(0x355*-0x7+0x1*0x25ff+-0xeaa);_0x4772fb['push'](_0x2c3983*_0x3de31c,_0xe98ad9,_0x2a20f4*_0x3de31c),_0x3ea227['push'](-0x4b1*-0x8+0x155d*0x1+-0x3ae5,-(-0x1*0x1954+0xc9*0x2+-0x229*-0xb),0x1874+-0x1d3a+0x4c6),_0x89de65['push'](_0x4f846c,-0x1*0x8b9+0x5*0x6a3+0x1*-0x1875-_0x371f1d),_0x4f846c=_0x4f846c*Bs+ys,_0x371f1d=_0x371f1d*Bs+ys,_0x4f846c/=0x17e*-0x18+0x1f*0xdb+0x94e,_0x371f1d/=0x240b*-0x1+0x7a*-0x4+0x25f6,_0x4f846c+=(-0x71b+-0x65*0x59+0x4b1*0x9)/(0x3bc+-0x1*-0x55d+-0x916),_0x10429b['push'](_0x4f846c,-0x48*-0x4c+-0xedd+-0x682-_0x371f1d),_0x2b8491>-0x210c+-0xa*-0x24d+0xa0b&&_0x2f84f4['push'](_0x6d01a5,_0x6d01a5+_0x2b8491,_0x6d01a5+_0x2b8491-(0x7*-0x2f5+0x1977+-0x4c3));}if(_0x6d01a5+=_0x481843,_0x283d7f>-0x22bd*-0x1+0x21d0*0x1+-0x448d)for(let _0xa855e9=-0x1437+-0x1*0x26d9+0x3b10;_0xa855e9<_0x481843;_0xa855e9++){const _0x1eeb5c=_0xa855e9/_0x481843*(0x2*0xfd0+-0x1775+-0x829)*Math['PI'],_0x58e788=Math['sin'](_0x1eeb5c),_0x12a577=_0x56a71b/(-0x27c+0x271*-0x4+0xc42*0x1),_0x493ec3=Math['cos'](_0x1eeb5c);let _0x3942a1=0x1*0xd95+-0x13c2+0x7*0xe2-(_0x58e788+(0xc80+-0xab*-0x31+-0xe*0x33b))/(-0x692*0x5+0x2e*-0x67+0x19af*0x2),_0x34b45b=(_0x493ec3+(-0x1*-0xf2a+0xca2+-0x1bcb))/(-0x9d*0x2f+0x26*0xe9+-0x5c1);_0x4772fb['push'](_0x58e788*_0x283d7f,_0x12a577,_0x493ec3*_0x283d7f),_0x3ea227['push'](-0x14*0xbf+-0x11*0x1a+0x10a6,-0x1*-0x460+-0x1*-0x12b5+-0x1714,-0x1129+-0xddc+0x1f05),_0x89de65['push'](_0x3942a1,-0x1*-0x1da5+-0x237e+-0x6b*-0xe-_0x34b45b),_0x3942a1=_0x3942a1*Bs+ys,_0x34b45b=_0x34b45b*Bs+ys,_0x3942a1/=-0x238f+-0x1a19+0x3dab*0x1,_0x34b45b/=-0x8*0x17+0x11e4+-0x1*0x1129,_0x3942a1+=(0x811+-0x927+0x8*0x23)/(0xd1f*0x1+-0x1d39*-0x1+-0x2a55),_0x10429b['push'](_0x3942a1,-0x408*-0x1+0xafb+0x11*-0xe2-_0x34b45b),_0xa855e9>-0x242e+0x1bf7+-0x1*-0x838&&_0x2f84f4['push'](_0x6d01a5,_0x6d01a5+_0xa855e9-(-0x242c+0x62c+0x1e01),_0x6d01a5+_0xa855e9);}}this['positions']=_0x4772fb,this['normals']=_0x3ea227,this['uvs']=_0x89de65,this['uvs1']=_0x10429b,this['indices']=_0x2f84f4;}}class C1 extends Bp{constructor(_0x4ea235={}){const _0x41319a=_0x4ea235['radius']??-0x1d55+-0x15*0x2a+-0xaed*-0x3+0.3,_0x49175d=_0x4ea235['height']??-0xcbb+-0x18b+-0x11*-0xd7,_0x351c39=_0x4ea235['heightSegm'+'ents']??-0x1ba9+-0xe0f+0x29b9,_0x31e667=_0x4ea235['sides']??0x102a+0x80a+-0x20*0xc1;super(_0x41319a,_0x41319a,_0x49175d-(0xd4b+0x1*0x19c7+-0x2710)*_0x41319a,_0x351c39,_0x31e667,!(-0x2*0x3d0+0x116*-0x21+-0x15bb*-0x2)),_0x4ea235['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class M1 extends Bp{constructor(_0x5203a8={}){const _0x17b750=_0x5203a8['baseRadius']??0x17a8+0x3*-0xcc9+0x47*0x35+0.5,_0x413d25=_0x5203a8['peakRadius']??0x1d9*-0xd+0x2484+-0xc7f,_0x43345a=_0x5203a8['height']??-0x54b+0x1915*0x1+-0x13c9,_0x52e2fa=_0x5203a8['heightSegm'+'ents']??0xd0d+-0xb7+0xc51*-0x1,_0x464e06=_0x5203a8['capSegment'+'s']??-0x1219+-0x29*-0x4a+0x21b*0x3;super(_0x17b750,_0x413d25,_0x43345a,_0x52e2fa,_0x464e06,!(0x1*-0x1f7+0x4*-0x527+0x5*0x484)),_0x5203a8['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class P1 extends Bp{constructor(_0x1be584={}){const _0x4111b5=_0x1be584['radius']??-0x24fc+-0x7b*-0x23+0x1*0x142b+0.5,_0x1a7036=_0x1be584['height']??-0x14*-0x58+-0x2*0x61d+0x55b,_0x36e1b8=_0x1be584['heightSegm'+'ents']??-0x9af*0x1+0x1e57*-0x1+0x280b,_0x3dc67f=_0x1be584['capSegment'+'s']??-0x1543+0x4a7*-0x3+0x234c;super(_0x4111b5,_0x4111b5,_0x1a7036,_0x36e1b8,_0x3dc67f,!(0x4ac+-0x2604+-0x1*-0x2159)),_0x1be584['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class R1 extends pn{constructor(_0x1b6cb7={}){super();const _0x32c3ee=_0x1b6cb7['halfExtent'+'s']??new W(0x45*-0x25+0x314+0x6e5*0x1+0.5,-0x266d+0x565*-0x7+0x4c30+0.5),_0x150168=_0x1b6cb7['widthSegme'+'nts']??-0x2697+-0x16e6+0x3d82,_0x3c4e06=_0x1b6cb7['lengthSegm'+'ents']??-0x20e6+-0x42f*-0x5+0xc00,_0x286ac6=[],_0x2003e5=[],_0x205192=[],_0x49ed36=[];let _0x4e26c8=-0x1de4*0x1+0xf5e+-0x2*-0x743;for(let _0x1d5e29=-0x2ce+-0x1*0x5e2+0x8b0;_0x1d5e29<=_0x150168;_0x1d5e29++)for(let _0x44b361=-0xe43+-0xe7a+0x1cbd;_0x44b361<=_0x3c4e06;_0x44b361++){const _0x52936a=-_0x32c3ee['x']+(0x403*-0x5+-0xc4*-0x8+-0x53*-0x2b)*_0x32c3ee['x']*_0x1d5e29/_0x150168,_0x2e335b=-0x1ff5+-0x2477+0x3a*0x12e,_0x5b558c=-(-_0x32c3ee['y']+(0x73*0x1+-0x2*-0xce+-0x4b*0x7)*_0x32c3ee['y']*_0x44b361/_0x3c4e06),_0xa40f2b=_0x1d5e29/_0x150168,_0x1f9209=_0x44b361/_0x3c4e06;_0x286ac6['push'](_0x52936a,_0x2e335b,_0x5b558c),_0x2003e5['push'](0x2449+-0x1d*-0x124+-0x3*0x171f,0x1392+0x1a68+0x2df9*-0x1,0x243+-0x4*-0x6ac+-0x1cf3),_0x205192['push'](_0xa40f2b,0x1e77+0x7a*-0x3d+0xb2*-0x2-_0x1f9209),_0x1d5e29<_0x150168&&_0x44b361<_0x3c4e06&&(_0x49ed36['push'](_0x4e26c8+_0x3c4e06+(0x1486+0x6*0x39e+-0x2a39),_0x4e26c8+(0x1*0xcab+-0x13*-0xfb+0x1f4b*-0x1),_0x4e26c8),_0x49ed36['push'](_0x4e26c8+_0x3c4e06+(-0x1cb2+-0xe09+0x2abc*0x1),_0x4e26c8+_0x3c4e06+(0x1123+0x21*-0x104+0x1*0x1063),_0x4e26c8+(-0x8*-0x377+0x9a7*0x2+-0x1*0x2f05))),_0x4e26c8++;}this['positions']=_0x286ac6,this['normals']=_0x2003e5,this['uvs']=_0x205192,this['uvs1']=_0x205192,this['indices']=_0x49ed36,_0x1b6cb7['calculateT'+'angents']&&(this['tangents']=fr(_0x286ac6,_0x2003e5,_0x205192,_0x49ed36));}}class I1 extends pn{constructor(_0x47e70c={}){super();const _0x34b1c1=_0x47e70c['tubeRadius']??0x86+-0xec7+0xe41+0.2,_0x305314=_0x47e70c['ringRadius']??0x2b*-0xa+-0x653*0x3+-0x14a7*-0x1+0.3,_0x1281c2=(_0x47e70c['sectorAngl'+'e']??0x1e3a+0xe*0x43+-0x207c)*N['DEG_TO_RAD'],_0x180110=_0x47e70c['segments']??-0x179e+-0xbb*0x1+0x1877,_0x5871d6=_0x47e70c['sides']??0x67*-0x11+-0x66e*0x2+0x13c7,_0x3b66f8=[],_0x20ef4d=[],_0x4cded6=[],_0x1fe4f8=[];for(let _0x21cfd1=0x3*0x225+-0x1ae4+0x1475;_0x21cfd1<=_0x5871d6;_0x21cfd1++)for(let _0x5ea548=-0xa8b+0x9*-0x335+0x34*0xc2;_0x5ea548<=_0x180110;_0x5ea548++){const _0x2a866d=Math['cos'](_0x1281c2*_0x5ea548/_0x180110)*(_0x305314+_0x34b1c1*Math['cos']((0x1b*-0x71+-0x12cb*0x2+0x3183)*Math['PI']*_0x21cfd1/_0x5871d6)),_0x50e7cc=Math['sin']((-0x13f8+-0xcb4+0x20ae)*Math['PI']*_0x21cfd1/_0x5871d6)*_0x34b1c1,_0x485f2c=Math['sin'](_0x1281c2*_0x5ea548/_0x180110)*(_0x305314+_0x34b1c1*Math['cos']((0x940+0xc3f+-0x157d*0x1)*Math['PI']*_0x21cfd1/_0x5871d6)),_0x55d963=Math['cos'](_0x1281c2*_0x5ea548/_0x180110)*Math['cos']((0x2191+-0xde9+0x9d3*-0x2)*Math['PI']*_0x21cfd1/_0x5871d6),_0x598a89=Math['sin']((0x179b+0x8*0x118+-0x2059)*Math['PI']*_0x21cfd1/_0x5871d6),_0x31c662=Math['sin'](_0x1281c2*_0x5ea548/_0x180110)*Math['cos']((0xe9c+0x113e+-0x8*0x3fb)*Math['PI']*_0x21cfd1/_0x5871d6),_0x4ea411=_0x21cfd1/_0x5871d6,_0x43dbc8=0x155*0xd+0x33e*-0x3+-0x796-_0x5ea548/_0x180110;if(_0x3b66f8['push'](_0x2a866d,_0x50e7cc,_0x485f2c),_0x20ef4d['push'](_0x55d963,_0x598a89,_0x31c662),_0x4cded6['push'](_0x4ea411,-0x122e*-0x1+-0xfb*-0x11+0xa*-0x37c-_0x43dbc8),_0x21cfd1<_0x5871d6&&_0x5ea548<_0x180110){const _0x14d30e=_0x21cfd1*(_0x180110+(0x3*0x4ee+0x1e68+0x1*-0x2d31))+_0x5ea548,_0x3b8e47=(_0x21cfd1+(-0x242a+0x4*0x2bf+0x133*0x15))*(_0x180110+(-0x831+0x25c1+-0x1d8f))+_0x5ea548,_0x108e8a=_0x21cfd1*(_0x180110+(-0x2515+-0x207c+-0x5*-0xdea))+(_0x5ea548+(0xaeb+0x1d50+-0x283a)),_0x32019b=(_0x21cfd1+(-0x1a4+0x6b*0x1+0x13a))*(_0x180110+(-0x28*-0x1f+-0x1217+0x8*0x1a8))+(_0x5ea548+(0x1*0x449+0x9f*0x1+-0x4e7));_0x1fe4f8['push'](_0x14d30e,_0x3b8e47,_0x108e8a),_0x1fe4f8['push'](_0x3b8e47,_0x32019b,_0x108e8a);}}this['positions']=_0x3b66f8,this['normals']=_0x20ef4d,this['uvs']=_0x4cded6,this['uvs1']=_0x4cded6,this['indices']=_0x1fe4f8,_0x47e70c['calculateT'+'angents']&&(this['tangents']=fr(_0x3b66f8,_0x20ef4d,_0x4cded6,_0x1fe4f8));}}class D1{constructor(_0x498276,_0x52ba0a){c(this,'processedC'+'ache',new Map()),c(this,'definition'+'sCache',new Map()),c(this,'_generator'+'s',new Map()),(this['_device']=_0x498276,this['_isClearin'+'gCache']=!(-0x2*0x1264+0x3*-0x763+0x3af2),this['_precached']=!(0xafb+-0x105d+0x563),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new Vh(),this['_defaultSt'+'dMatOption'+'Min']=new Vh());const _0x4467f8=new A0();_0x52ba0a['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x4467f8,_0x52ba0a,null,[],gn,null),_0x52ba0a['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x52ba0a,null,Rp,null),_0x498276['on']('destroy:sh'+'ader',_0x2c8e5e=>{this['removeFrom'+'Cache'](_0x2c8e5e);});}['destroy'](){this['clearCache']();}['register'](_0x5045f7,_0x309b96){this['_generator'+'s']['has'](_0x5045f7)||this['_generator'+'s']['set'](_0x5045f7,_0x309b96);}['unregister'](_0x9b8b0b){this['_generator'+'s']['has'](_0x9b8b0b)&&this['_generator'+'s']['delete'](_0x9b8b0b);}['isRegister'+'ed'](_0x2fdbf4){return this['_generator'+'s']['has'](_0x2fdbf4);}['generateSh'+'aderDefini'+'tion'](_0x195cda,_0x4edbe8,_0x8c52a,_0x2f1bf6){var _0x1ae661,_0x1740db;let _0xdaab96=this['definition'+'sCache']['get'](_0x8c52a);if(!_0xdaab96){let _0x5dc4b7;(_0x1ae661=_0x2f1bf6['litOptions'])!=null&&_0x1ae661['lights']&&(_0x5dc4b7=_0x2f1bf6['litOptions']['lights'],_0x2f1bf6['litOptions']['lights']=_0x5dc4b7['map'](_0x3895c4=>{const _0x47fd20=_0x3895c4['clone']?_0x3895c4['clone']():_0x3895c4;return _0x47fd20['key']=_0x3895c4['key'],_0x47fd20;})),this['storeNewPr'+'ogram'](_0x4edbe8,_0x2f1bf6),(_0x1740db=_0x2f1bf6['litOptions'])!=null&&_0x1740db['lights']&&(_0x2f1bf6['litOptions']['lights']=_0x5dc4b7),this['_precached']&&v['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x4edbe8+'\x20key\x20'+_0x8c52a+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x2936de=this['_device'];_0xdaab96=_0x195cda['createShad'+'erDefiniti'+'on'](_0x2936de,_0x2f1bf6),_0xdaab96['name']=_0xdaab96['name']??(_0x2f1bf6['pass']?_0x4edbe8+'-pass:'+_0x2f1bf6['pass']:_0x4edbe8),this['definition'+'sCache']['set'](_0x8c52a,_0xdaab96);}return _0xdaab96;}['getCachedS'+'hader'](_0x25fc08){return this['processedC'+'ache']['get'](_0x25fc08);}['setCachedS'+'hader'](_0x21811a,_0x3c9bf3){this['processedC'+'ache']['set'](_0x21811a,_0x3c9bf3);}['getProgram'](_0x303c33,_0x2d5bc1,_0x514c67,_0xf360ce){const _0x1c2861=this['_generator'+'s']['get'](_0x303c33);if(!_0x1c2861)return v['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x303c33),null;const _0x3e1b45=_0x1c2861['generateKe'+'y'](_0x2d5bc1),_0x3fafbc=hn(_0x3e1b45),_0x50f6cc=_0x514c67['generateKe'+'y'](this['_device']),_0x11d93b=hn(_0x50f6cc),_0x13e9df=_0x3fafbc+'#'+_0x11d93b;let _0x2103f5=this['getCachedS'+'hader'](_0x13e9df);if(!_0x2103f5){const _0x21f924=this['generateSh'+'aderDefini'+'tion'](_0x1c2861,_0x303c33,_0x3fafbc,_0x2d5bc1);v['assert'](_0x21f924);let _0x4b938f='',_0x4647d2;_0x2d5bc1['pass']!==void(-0x1b*0x15c+-0x892*-0x4+0x26c)&&(_0x4647d2=Ks['get'](this['_device'])['getByIndex'](_0x2d5bc1['pass']),_0x4b938f='-'+_0x4647d2['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0xf360ce,'shaderPassInfo':_0x4647d2,'definition':_0x21f924});const _0x4a7f46={'name':''+_0x21f924['name']+_0x4b938f+'-proc','attributes':_0x21f924['attributes'],'vshader':_0x21f924['vshader'],'vincludes':_0x21f924['vincludes'],'fincludes':_0x21f924['fincludes'],'fshader':_0x21f924['fshader'],'processingOptions':_0x514c67,'shaderLanguage':_0x21f924['shaderLang'+'uage'],'meshUniformBufferFormat':_0x21f924['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x21f924['meshBindGr'+'oupFormat']};_0x2103f5=new i0(this['_device'],_0x4a7f46),v['call'](()=>{_0x2103f5['_generatio'+'nKey']=_0x3e1b45,_0x2103f5['_processin'+'gKey']=_0x50f6cc;}),this['setCachedS'+'hader'](_0x13e9df,_0x2103f5);}return _0x2103f5;}['storeNewPr'+'ogram'](_0x15c044,_0x1d586c){let _0x4d1b90={};if(_0x15c044==='standard'){const _0x12c51c=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x1d586c['pass']);for(const _0x726078 in _0x1d586c)(_0x1d586c['hasOwnProp'+'erty'](_0x726078)&&_0x12c51c[_0x726078]!==_0x1d586c[_0x726078]||_0x726078==='pass')&&(_0x4d1b90[_0x726078]=_0x1d586c[_0x726078]);for(const _0x4f75fb in _0x1d586c['litOptions'])_0x4d1b90[_0x4f75fb]=_0x1d586c['litOptions'][_0x4f75fb];}else _0x4d1b90=_0x1d586c;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x15c044,'options':_0x4d1b90}));}['dumpProgra'+'ms'](){let _0x296b0e='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x296b0e+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][0x669+0x1*0x10cb+-0x1734]&&(_0x296b0e+='\x0a\x09'+this['_programsC'+'ollection'][0x3*-0x560+-0x2*-0x83+0xf1a]);for(let _0x5406b7=0x1dc7+0xc79+-0x2a3f;_0x5406b7<this['_programsC'+'ollection']['length'];++_0x5406b7)_0x296b0e+=',\x0a\x09'+this['_programsC'+'ollection'][_0x5406b7];_0x296b0e+='\x0a];\x0a',_0x296b0e+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x296b0e+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+no+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+sy+'\x22)\x0a',_0x296b0e+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x569734=document['createElem'+'ent']('a');_0x569734['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x296b0e)),_0x569734['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x569734['style']['display']='none',document['body']['appendChil'+'d'](_0x569734),_0x569734['click'](),document['body']['removeChil'+'d'](_0x569734);}['clearCache'](){this['_isClearin'+'gCache']=!(0x2186+-0xd*0x6e+-0x254*0xc),this['processedC'+'ache']['forEach'](_0x2987b4=>{_0x2987b4['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(0x89c+0x4*0x361+-0x7*0x329);}['removeFrom'+'Cache'](_0x3ea3ee){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x5186e4,_0x49c7c1)=>{_0x3ea3ee===_0x5186e4&&this['processedC'+'ache']['delete'](_0x49c7c1);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x18af55){const _0x4562ec=Ks['get'](this['_device'])['getByIndex'](_0x18af55);return _0x18af55===rl||_0x18af55===Oa||_0x18af55===il||_0x4562ec['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x5106a0){if(_0x5106a0){const _0x3953ed=new Array(_0x5106a0['length']);for(let _0x349f9e=-0x1a91+0x105a*0x2+-0x623*0x1;_0x349f9e<_0x5106a0['length'];_0x349f9e++){if(_0x5106a0[_0x349f9e]['name']==='standard'){const _0x5c459c=_0x5106a0[_0x349f9e]['options'],_0x2a277a=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x5c459c['pass']);for(const _0x112b5b in _0x2a277a)_0x2a277a['hasOwnProp'+'erty'](_0x112b5b)&&_0x5c459c[_0x112b5b]===void(0xdef+-0xe87+0x98)&&(_0x5c459c[_0x112b5b]=_0x2a277a[_0x112b5b]);}_0x3953ed[_0x349f9e]=this['getProgram'](_0x5106a0[_0x349f9e]['name'],_0x5106a0[_0x349f9e]['options']);}}this['_precached']=!(-0x19a+-0x1f5b*0x1+-0x1*-0x20f5);}}const L1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001?'+'\x20(1.0/255.'+'0)\x20:\x200.0);'+'\x0a\x20\x20\x20\x20}\x0a',F1='\x0a#ifdef\x20LI'+'GHTMAP_RGB'+'M\x0a\x20\x20\x20\x20gl_F'+'ragColor.r'+'gb\x20=\x20dDiff'+'useLight;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20pow(gl_'+'FragColor.'+'rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.rgb\x20/='+'\x208.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x20cla'+'mp(\x20max(\x20m'+'ax(\x20gl_Fra'+'gColor.r,\x20'+'gl_FragCol'+'or.g\x20),\x20ma'+'x(\x20gl_Frag'+'Color.b,\x201'+'.0\x20/\x20255.0'+'\x20)\x20),\x200.0,'+'1.0\x20);\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.a\x20=\x20ce'+'il(gl_Frag'+'Color.a\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.rgb\x20/=\x20'+'gl_FragCol'+'or.a;\x0a#els'+'e\x0a\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(dDif'+'fuseLight,'+'\x201.0);\x0a#en'+'dif\x0a',O1='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',k1='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a//\x20fi'+'lter\x20size\x0a'+'#define\x20MS'+'IZE\x2015\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0auni'+'form\x20sampl'+'er2D\x20sourc'+'e;\x0auniform'+'\x20vec2\x20pixe'+'lOffset;\x0au'+'niform\x20vec'+'2\x20sigmas;\x0a'+'uniform\x20fl'+'oat\x20bZnorm'+';\x0auniform\x20'+'float\x20kern'+'el[MSIZE];'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20texture2'+'DLod(sourc'+'e,\x20vUv0,\x200'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20lightma'+'p\x20specific'+'\x20optimizat'+'ion\x20-\x20skip'+'\x20pixels\x20th'+'at\x20were\x20no'+'t\x20baked\x0a\x20\x20'+'\x20\x20//\x20this\x20'+'also\x20allow'+'s\x20dilate\x20f'+'ilter\x20that'+'\x20work\x20on\x20t'+'he\x20output\x20'+'of\x20this\x20to'+'\x20work\x20corr'+'ectly,\x20as\x20'+'it\x20depends'+'\x20on\x20.a\x20bei'+'ng\x20zero\x0a\x20\x20'+'\x20\x20//\x20to\x20di'+'late,\x20whic'+'h\x20the\x20foll'+'owing\x20blur')+('\x20filter\x20wo'+'uld\x20otherw'+'ise\x20modify'+'\x0a\x20\x20\x20\x20if\x20(!'+'isUsed(pix'+'el))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'pixel;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ra'+'nge\x20sigma\x20'+'-\x20controls'+'\x20blurrines'+'s\x20based\x20on'+'\x20a\x20pixel\x20d'+'istance\x0a\x20\x20'+'\x20\x20float\x20si'+'gma\x20=\x20sigm'+'as.x;\x0a\x0a\x20\x20\x20'+'\x20//\x20domain'+'\x20sigma\x20-\x20c'+'ontrols\x20bl'+'urriness\x20b'+'ased\x20on\x20a\x20'+'pixel\x20simi'+'larity\x20(to'+'\x20preserve\x20'+'edges)\x0a\x20\x20\x20'+'\x20float\x20bSi'+'gma\x20=\x20sigm'+'as.y;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20pixe'+'lHdr\x20=\x20dec'+'ode(pixel)'+';\x0a\x20\x20\x20\x20vec3'+'\x20accumulat'+'edHdr\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20float\x20a'+'ccumulated'+'Factor\x20=\x200'+'.000001;\x20\x20'+'//\x20avoid\x20d'+'ivision\x20by'+'\x20zero\x0a\x0a\x20\x20\x20'+'\x20//\x20read\x20o'+'ut\x20the\x20tex'+'els\x0a\x20\x20\x20\x20co'+'nst\x20int\x20kS'+'ize\x20=\x20(MSI'+'ZE-1)/2;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x20-kSi'+'ze;\x20i\x20<=\x20k'+'Size;\x20++i)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'j\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20++j)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'ample\x20the\x20'+'pixel\x20with'+'\x20offset\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20coord'+'\x20=\x20vUv0\x20+\x20'+'vec2(float'+'(i),\x20float'+'(j))\x20*\x20pix'+'elOffset;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec4\x20pix'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20coord,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x20-\x20only\x20u'+'se\x20baked\x20p'+'ixels\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isUsed(p'+'ix))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20hd'+'r\x20=\x20decode'+'(pix);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bil'+'ateral\x20fac'+'tors\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fac'+'tor\x20=\x20kern')+('el[kSize\x20+'+'\x20j]\x20*\x20kern'+'el[kSize\x20+'+'\x20i];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20factor\x20*='+'\x20normpdf3('+'hdr\x20-\x20pixe'+'lHdr,\x20bSig'+'ma)\x20*\x20bZno'+'rm;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20accumu'+'late\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20accumulat'+'edHdr\x20+=\x20f'+'actor\x20*\x20hd'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ccumulated'+'Factor\x20+=\x20'+'factor;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20fi'+'nalHDR\x20=\x20a'+'ccumulated'+'Hdr\x20/\x20accu'+'mulatedFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20HDR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(fina'+'lHDR,\x201.0)'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20encod'+'eRGBM(fina'+'lHDR);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),vo={'bakeDirLmEndPS':L1,'bakeLmEndPS':F1,'dilatePS':O1,'bilateralDeNoisePS':k1},Fn=new q(),B_=new se(),$d=new _e(),N_=new _e(),B1=new Y(0x13b4+-0xcd6+-0x6dd,0x49c*-0x8+-0x2*0x800+-0x1*-0x34e1,-0x2593*-0x1+0x1*-0x1336+-0x125d,-0x7*-0x494+0x78f+-0x279b+0.4),qd=0xd2f+-0xf4f*-0x2+-0x2bcd+0.28209479177387814;class N1{constructor(_0x31f42e,_0x5e3545,_0x228afc,_0x502c20,_0xd79744,_0x12afd5){const _0x56cf84=_0x31f42e['getProp']('x'),_0xaaae68=_0x31f42e['getProp']('y'),_0x4b1b84=_0x31f42e['getProp']('z'),_0x55de24=_0x31f42e['getProp']('rot_1'),_0x4c1a4f=_0x31f42e['getProp']('rot_2'),_0x7678a8=_0x31f42e['getProp']('rot_3'),_0x522669=_0x31f42e['getProp']('rot_0'),_0xcc20a6=_0x31f42e['getProp']('motion_0'),_0x595df7=_0x31f42e['getProp']('motion_1'),_0x13c565=_0x31f42e['getProp']('motion_2'),_0x95ed7a=_0x31f42e['getProp']('scale_0'),_0x5bae79=_0x31f42e['getProp']('scale_1'),_0x2a18fb=_0x31f42e['getProp']('scale_2'),_0x1a8aaa=_0x31f42e['getProp']('f_dc_0'),_0x6d3f9e=_0x31f42e['getProp']('f_dc_1'),_0x34330f=_0x31f42e['getProp']('f_dc_2'),_0xbbec49=_0x31f42e['getProp']('opacity'),_0x2893ef=_0x58ef1a=>{if(_0x58ef1a>0x1*0x1f12+0x8bc*-0x3+0x59*-0xe)return(-0x2*-0x4e3+0xc7d+-0x1642)/(0x3e5+-0x3e4+0x0+Math['exp'](-_0x58ef1a));const _0xf34736=Math['exp'](_0x58ef1a);return _0xf34736/(-0x1d0e+0xb1*0x31+0x4d2*-0x1+_0xf34736);};this['read']=_0x11311d=>{_0x5e3545&&(_0x5e3545['x']=_0x56cf84[_0x11311d],_0x5e3545['y']=_0xaaae68[_0x11311d],_0x5e3545['z']=_0x4b1b84[_0x11311d]),_0x228afc&&_0x228afc['set'](_0x55de24[_0x11311d],_0x4c1a4f[_0x11311d],_0x7678a8[_0x11311d],_0x522669[_0x11311d]),_0x502c20&&_0x502c20['set'](Math['exp'](_0x95ed7a[_0x11311d]),Math['exp'](_0x5bae79[_0x11311d]),Math['exp'](_0x2a18fb[_0x11311d])),_0x12afd5&&_0xcc20a6&&_0x12afd5['set'](_0xcc20a6[_0x11311d],_0x595df7[_0x11311d],_0x13c565[_0x11311d]),_0xd79744&&_0xd79744['set'](-0x1306+0x1cee+0x4f4*-0x2+0.5+_0x1a8aaa[_0x11311d]*qd,-0x21f*0x4+-0x1fa8+0x2824+0.5+_0x6d3f9e[_0x11311d]*qd,0x563+-0xda6*-0x2+-0x20af+0.5+_0x34330f[_0x11311d]*qd,_0x2893ef(_0xbbec49[_0x11311d]));};}}const z_=(_0x114ab9,_0x1ee661,_0x495643)=>{B_['set'](_0x495643['x'],_0x495643['y'],_0x495643['z'],_0x495643['w'])['normalize'](),_0x114ab9['setTRS'](_0x1ee661,B_,T['ONE']);};class Ia{constructor(_0x22b52b){c(this,'elements'),c(this,'numSplats'),c(this,'is4D');var _0x5f3fa6,_0xd7b9c7,_0x49717f;this['elements']=_0x22b52b,this['numSplats']=(_0x5f3fa6=this['getElement']('vertex'))==null?void(0x1eb+0x1f*0x4f+0x3c*-0x31):_0x5f3fa6['count'],this['is4D']=!!((_0x49717f=(_0xd7b9c7=this['getElement']('vertex'))==null?void(-0x409*-0x2+0xc7*-0x22+0x125c):_0xd7b9c7['properties']['find'](_0x5308f2=>_0x5308f2['name']==='t'))!=null&&_0x49717f['storage']);}['appendGSpl'+'atData'](_0x517561,_0x34f9e7,_0x497316){const _0x338c1a=this['getElement']('vertex')['properties'];_0x338c1a['find'](_0x491566=>_0x491566['name']==='time_index')||_0x338c1a['push']({'type':'float','name':'time_index','storage':new Float32Array(this['numSplats']),'byteSize':0x4}),this['numSplats']+=_0x517561['numSplats'];for(let _0x591449=-0x254c+-0x15e8+0x3b34;_0x591449<_0x338c1a['length'];_0x591449++){const _0x33ef8b=_0x338c1a[_0x591449],_0x1afa28=_0x517561['getElement']('vertex')['properties']['find'](_0x3ac9f6=>_0x3ac9f6['name']===_0x33ef8b['name']);if(_0x33ef8b['name']==='time_index'){const _0x510c69=new Float32Array(this['numSplats']);_0x510c69['fill'](_0x34f9e7),_0x510c69['set'](_0x33ef8b['storage'],-0x1dcd+-0xb*0xf1+-0xa0a*-0x4),_0x33ef8b['storage']=_0x510c69;}else{if(_0x1afa28&&_0x33ef8b['name']==='t'){const _0xa57051=new Float32Array(this['numSplats']);if(_0xa57051['set'](_0x33ef8b['storage'],-0x89a+-0xfe6+0x1880),_0x497316){for(let _0x269cf6=_0x33ef8b['storage']['length'];_0x269cf6<this['numSplats'];_0x269cf6++)_0xa57051[_0x269cf6]=_0x1afa28['storage'][_0x269cf6-_0x33ef8b['storage']['length']]+_0x497316[(0x1e76+-0x41f*-0x3+-0x2ad1)*_0x34f9e7];}else _0xa57051['set'](_0x1afa28['storage'],_0x33ef8b['storage']['length']);_0x33ef8b['storage']=_0xa57051;}else{if(_0x1afa28){const _0x318eea=new Float32Array(this['numSplats']);_0x318eea['set'](_0x33ef8b['storage'],0x11ec+0x2*-0x5ad+0x1d*-0x3a),_0x318eea['set'](_0x1afa28['storage'],_0x33ef8b['storage']['length']),_0x33ef8b['storage']=_0x318eea;}}}}}static['calcSplatA'+'abb'](_0x54a34c,_0xa32165,_0x13a9b5,_0x209281){z_(Fn,_0xa32165,_0x13a9b5),$d['center']['set'](-0x24f2+-0x418+0x135*0x22,-0x25f0*0x1+-0x3e*-0x7a+0x864,-0xa5e*-0x3+0x16a+-0x2084),$d['halfExtent'+'s']['set'](_0x209281['x']*(-0x23ce+0x1*-0xd2d+-0x30fd*-0x1),_0x209281['y']*(0xf08+0x1749+-0x264f),_0x209281['z']*(0x2dc+0x6b1+-0x98b)),_0x54a34c['setFromTra'+'nsformedAa'+'bb']($d,Fn);}['getProp'](_0x3f029f,_0x6d406c='vertex'){var _0x247922,_0x21388d;return(_0x21388d=(_0x247922=this['getElement'](_0x6d406c))==null?void(-0x1*-0x3a3+0x1f83*-0x1+-0x20*-0xdf):_0x247922['properties']['find'](_0x123da7=>_0x123da7['name']===_0x3f029f))==null?void(-0x125f*-0x1+-0xab*-0x22+0x2915*-0x1):_0x21388d['storage'];}['getElement'](_0x1a2f87){return this['elements']['find'](_0x36929f=>_0x36929f['name']===_0x1a2f87);}['addProp'](_0x450325,_0x1d9e6a){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x450325,'storage':_0x1d9e6a,'byteSize':0x4});}['createIter'](_0x4a127c,_0x4d28c3,_0x52e454,_0x186b11,_0x221475){return new N1(this,_0x4a127c,_0x4d28c3,_0x52e454,_0x186b11,_0x221475);}['calcAabb'](_0x43467e,_0x31a191){let _0x38888b,_0x5b941a,_0x213f1f,_0x1555f1,_0xfb1019,_0x2f0f5d,_0x1741ec=!(0xca*-0x1d+-0x1d74+0xe7*0x3a);const _0x435168=this['getProp']('x'),_0x292425=this['getProp']('y'),_0x2dc6ca=this['getProp']('z'),_0x3bafd8=this['getProp']('scale_0'),_0x4fbf1d=this['getProp']('scale_1'),_0x24ddec=this['getProp']('scale_2');for(let _0x4942e2=0xa0b+0xc04+0x1*-0x160f;_0x4942e2<this['numSplats'];++_0x4942e2){if(_0x31a191&&!_0x31a191(_0x4942e2))continue;const _0x7eff0e=(-0xc*0x281+-0x199a*-0x1+-0xf*-0x4c)*Math['exp'](Math['max'](_0x3bafd8[_0x4942e2],_0x4fbf1d[_0x4942e2],_0x24ddec[_0x4942e2])),_0x584fd7=_0x435168[_0x4942e2],_0x2bb3fc=_0x292425[_0x4942e2],_0x27a35e=_0x2dc6ca[_0x4942e2];_0x1741ec?(_0x1741ec=!(-0x21b8+-0x1e28+-0xed*-0x45),_0x38888b=_0x584fd7-_0x7eff0e,_0x5b941a=_0x2bb3fc-_0x7eff0e,_0x213f1f=_0x27a35e-_0x7eff0e,_0x1555f1=_0x584fd7+_0x7eff0e,_0xfb1019=_0x2bb3fc+_0x7eff0e,_0x2f0f5d=_0x27a35e+_0x7eff0e):(_0x38888b=Math['min'](_0x38888b,_0x584fd7-_0x7eff0e),_0x5b941a=Math['min'](_0x5b941a,_0x2bb3fc-_0x7eff0e),_0x213f1f=Math['min'](_0x213f1f,_0x27a35e-_0x7eff0e),_0x1555f1=Math['max'](_0x1555f1,_0x584fd7+_0x7eff0e),_0xfb1019=Math['max'](_0xfb1019,_0x2bb3fc+_0x7eff0e),_0x2f0f5d=Math['max'](_0x2f0f5d,_0x27a35e+_0x7eff0e));}return _0x1741ec||(_0x43467e['center']['set']((_0x38888b+_0x1555f1)*(0xc*0x2a5+-0x6*-0x646+-0x4560+0.5),(_0x5b941a+_0xfb1019)*(0x1a4+-0x1016+0x56*0x2b+0.5),(_0x213f1f+_0x2f0f5d)*(-0x1dbc+0x5fb+-0x1*-0x17c1+0.5)),_0x43467e['halfExtent'+'s']['set']((_0x1555f1-_0x38888b)*(-0x759+-0x236d+0x2ac6+0.5),(_0xfb1019-_0x5b941a)*(-0x12bf*-0x2+-0x11a8+0x1*-0x13d6+0.5),(_0x2f0f5d-_0x213f1f)*(-0x2*0xc32+0x2b*0xa7+-0x3a9+0.5))),!_0x1741ec;}['calcAabbEx'+'act'](_0x141773,_0x290605){const _0x46fdf5=new T(),_0x5e574d=new se(),_0x674ac3=new T(),_0x318756=this['createIter'](_0x46fdf5,_0x5e574d,_0x674ac3);let _0x1283ee=!(0x923*-0x1+-0x1*-0x125+-0x1*-0x7fe);for(let _0x41ada2=-0x1dd9+-0x112*0x13+0x322f;_0x41ada2<this['numSplats'];++_0x41ada2)_0x290605&&!_0x290605(_0x41ada2)||(_0x318756['read'](_0x41ada2),_0x1283ee?(_0x1283ee=!(-0x1381+-0x61*-0x3b+-0x2d9),Ia['calcSplatA'+'abb'](_0x141773,_0x46fdf5,_0x5e574d,_0x674ac3)):(Ia['calcSplatA'+'abb'](N_,_0x46fdf5,_0x5e574d,_0x674ac3),_0x141773['add'](N_)));return!_0x1283ee;}['getCenters'](_0x1baf00){const _0x1016fb=this['getProp']('x'),_0x5296a4=this['getProp']('y'),_0x5044ce=this['getProp']('z');for(let _0x464c72=0x1e51+-0x1bee+-0x263;_0x464c72<this['numSplats'];++_0x464c72)_0x1baf00[_0x464c72*(-0x8ee+0x1a4d+-0x115c)+(-0x13da+-0x3be+-0x1798*-0x1)]=_0x1016fb[_0x464c72],_0x1baf00[_0x464c72*(0x15c0+0x1*-0x17c9+0x20c)+(-0xa46+-0x10*-0xd2+-0x51*0x9)]=_0x5296a4[_0x464c72],_0x1baf00[_0x464c72*(-0xcd3*-0x2+0xc1d+-0x25c0)+(0x1*0x13ab+-0x1*-0x607+-0x19b0)]=_0x5044ce[_0x464c72];}['getMuT'](){const _0x3f9f4b=this['getProp']('t');if(!_0x3f9f4b)return;const _0x531d5e=new Float32Array(this['numSplats']);for(let _0x369e3d=-0x1f36+0x391+0x1ba5*0x1;_0x369e3d<this['numSplats'];++_0x369e3d)_0x531d5e[_0x369e3d]=_0x3f9f4b[_0x369e3d];return _0x531d5e;}['getTScale'](){const _0x3d4966=this['getProp']('t_scale');if(!_0x3d4966)return;const _0x457a1c=new Float32Array(this['numSplats']);for(let _0x2a6530=-0x1bad+0x152*-0x3+0x26f*0xd;_0x2a6530<this['numSplats'];++_0x2a6530)_0x457a1c[_0x2a6530]=Math['exp'](_0x3d4966[_0x2a6530]);return _0x457a1c;}['getMotion'](_0x2ef757){const _0x26cd83=this['getProp']('motion_0'),_0x36d47d=this['getProp']('motion_1'),_0x11762a=this['getProp']('motion_2');if(!(!_0x26cd83||!_0x36d47d||!_0x11762a)){for(let _0x22f74f=0x697*0x3+-0x651*-0x5+-0x335a;_0x22f74f<this['numSplats'];++_0x22f74f)_0x2ef757[_0x22f74f*(0x1*0x1b82+-0x2*-0xc88+-0x348f)+(-0x2*0x8a5+-0x1b60+0x2caa)]=_0x26cd83[_0x22f74f],_0x2ef757[_0x22f74f*(-0x2301+0x2*-0x1cf+0x5*0x7ba)+(0x1c9d+-0x1*0x1101+-0x1*0xb9b)]=_0x36d47d[_0x22f74f],_0x2ef757[_0x22f74f*(0x239a+0x278*0x9+-0x39cf)+(-0x221e*-0x1+0x1*0x7ff+-0xe09*0x3)]=_0x11762a[_0x22f74f];}}['getTimeInd'+'ex'](_0x50594b){const _0xe89aa=this['getProp']('time_index');_0xe89aa&&_0x50594b['set'](_0xe89aa,-0xcbc+-0x2474+0x3130);}['calcFocalP'+'oint'](_0x2cfa3b,_0x5841ee){const _0x5848d2=this['getProp']('x'),_0x750147=this['getProp']('y'),_0x175d0c=this['getProp']('z'),_0x1541f3=this['getProp']('scale_0'),_0x2ea691=this['getProp']('scale_1'),_0x39cf9c=this['getProp']('scale_2');_0x2cfa3b['x']=-0x1133+-0x54a+0x77f*0x3,_0x2cfa3b['y']=0xe9e+0xc1*-0x1c+-0x22a*-0x3,_0x2cfa3b['z']=0xf51+-0x1bbf+0x25*0x56;let _0x2144ed=0x299*0x1+0x1f*-0x6f+0xad8;for(let _0x3de0ae=-0x2bd*-0xb+-0x474+-0x19ab;_0x3de0ae<this['numSplats'];++_0x3de0ae){if(_0x5841ee&&!_0x5841ee(_0x3de0ae))continue;const _0x2f04b9=(0x1ad*0x9+-0x9aa*-0x4+-0x35bc)/(-0xf95+-0x326+0x12bc+Math['exp'](Math['max'](_0x1541f3[_0x3de0ae],_0x2ea691[_0x3de0ae],_0x39cf9c[_0x3de0ae])));_0x2cfa3b['x']+=_0x5848d2[_0x3de0ae]*_0x2f04b9,_0x2cfa3b['y']+=_0x750147[_0x3de0ae]*_0x2f04b9,_0x2cfa3b['z']+=_0x175d0c[_0x3de0ae]*_0x2f04b9,_0x2144ed+=_0x2f04b9;}_0x2cfa3b['mulScalar']((-0x2047+0x1ab*0x9+0x1145*0x1)/_0x2144ed);}['renderWire'+'frameBound'+'s'](_0x3919de,_0x11733c){const _0x4f2476=new T(),_0x425261=new se(),_0x2cd21c=new T(),_0x269308=new T(),_0x26d037=new T(),_0x21c559=this['createIter'](_0x4f2476,_0x425261,_0x2cd21c);for(let _0x4fd0a3=0x1*0x1169+0x9*-0x17+-0x1a9*0xa;_0x4fd0a3<this['numSplats'];++_0x4fd0a3)_0x21c559['read'](_0x4fd0a3),z_(Fn,_0x4f2476,_0x425261),Fn['mul2'](_0x11733c,Fn),_0x269308['set'](_0x2cd21c['x']*-(0xc8a+-0x1c86+-0xb2*-0x17),_0x2cd21c['y']*-(0x548+-0x238d+0x1e47),_0x2cd21c['z']*-(0x1*-0x2051+-0x88*-0xb+-0x1*-0x1a7b)),_0x26d037['set'](_0x2cd21c['x']*(-0x1e19+-0x261b+0x4436),_0x2cd21c['y']*(-0x24d*-0x1+-0xba*-0x2+-0x3bf),_0x2cd21c['z']*(-0x1d22+-0x12b3+0x2fd7*0x1)),_0x3919de['immediate']['drawWireAl'+'ignedBox'](_0x269308,_0x26d037,B1,!(-0x125+-0x1d31+-0x2*-0xf2b),_0x3919de['defaultDra'+'wLayer'],Fn);}get['isCompress'+'ed'](){return!(-0x26bc+-0x5*0xca+0x2aaf);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x2c1194=0x6b5+-0x1*0x1963+0x12ae;_0x2c1194<-0x22f5+0xbf8+0x5*0x4a2;++_0x2c1194)if(!this['getProp']('f_rest_'+_0x2c1194))return _0x2c1194;return-0x1043+0x4*0x9c3+-0x169c;})())]??0xe*-0x1bb+0x3e5*-0x9+0x3b47;}['calcMorton'+'Order'](){const _0x2e9dfe=_0x2c6b95=>{let _0x2d0413=_0x2c6b95[-0x20a6+0x264a+-0x5a4],_0xa0b34d=_0x2c6b95[0x137d*0x1+-0x143b+0xbe];for(let _0x50d112=-0x16c7*-0x1+0x5e8+-0x1cae;_0x50d112<_0x2c6b95['length'];_0x50d112++)_0x2c6b95[_0x50d112]<_0x2d0413&&(_0x2d0413=_0x2c6b95[_0x50d112]),_0x2c6b95[_0x50d112]>_0xa0b34d&&(_0xa0b34d=_0x2c6b95[_0x50d112]);return{'min':_0x2d0413,'max':_0xa0b34d};},_0x5360fe=(_0x2914cf,_0x3c2a20,_0x246dbb)=>{const _0x1e4c4d=_0x306ff2=>(_0x306ff2&=-0x1*0x1721+-0x1707+0x3227,_0x306ff2=(_0x306ff2^_0x306ff2<<-0x16d+0x1*0x57a+-0x3fd)&0xd4ebcef9*-0x1+-0xb8c6674e+-0x10102*-0x28a23,_0x306ff2=(_0x306ff2^_0x306ff2<<-0x1873+-0x1739+0x2fb4)&0x4f9e4d2+-0x40ffacf+-0xc47*-0x2b94,_0x306ff2=(_0x306ff2^_0x306ff2<<-0x16e2+-0xf4f+0x2635)&0x23915e0+-0x5*-0x16b620+0x618c43,_0x306ff2=(_0x306ff2^_0x306ff2<<-0x1*0x1e5+0xf0+-0xd*-0x13)&-0xb83e71f+0x157ec09+0x13508d5f,_0x306ff2);return(_0x1e4c4d(_0x246dbb)<<0x3a*0x1c+-0x251b+0x1ec5)+(_0x1e4c4d(_0x3c2a20)<<0x135f+0x121f+0xc7f*-0x3)+_0x1e4c4d(_0x2914cf);},_0x1ecb0c=this['getProp']('x'),_0x3105bd=this['getProp']('y'),_0x6c42b9=this['getProp']('z'),{min:_0x1433cb,max:_0x3d8060}=_0x2e9dfe(_0x1ecb0c),{min:_0x3738aa,max:_0x29acbb}=_0x2e9dfe(_0x3105bd),{min:_0x285af5,max:_0x38f3c8}=_0x2e9dfe(_0x6c42b9),_0x2d610f=_0x1433cb===_0x3d8060?-0x63+-0xc*-0xd5+-0x999:(0x176b+-0x2679+0x130e)/(_0x3d8060-_0x1433cb),_0x4ac615=_0x3738aa===_0x29acbb?0x205*-0x6+0x3*-0x7d4+0x239a:(0x1d0*-0x10+-0x5*-0x1ff+0x1705)/(_0x29acbb-_0x3738aa),_0x1f2ce9=_0x285af5===_0x38f3c8?-0x6f*0xc+0xd3*-0x13+0x14dd:(0x2349*-0x1+-0x1f80+-0x46c9*-0x1)/(_0x38f3c8-_0x285af5),_0x3a27a2=new Map();for(let _0x32abc3=0xd82+0xe04+-0x2*0xdc3;_0x32abc3<this['numSplats'];_0x32abc3++){const _0x59ba08=Math['floor']((_0x1ecb0c[_0x32abc3]-_0x1433cb)*_0x2d610f),_0x3a804b=Math['floor']((_0x3105bd[_0x32abc3]-_0x3738aa)*_0x4ac615),_0x2d0fb8=Math['floor']((_0x6c42b9[_0x32abc3]-_0x285af5)*_0x1f2ce9),_0x4b5390=_0x5360fe(_0x59ba08,_0x3a804b,_0x2d0fb8),_0x517083=_0x3a27a2['get'](_0x4b5390);_0x517083?_0x517083['push'](_0x32abc3):_0x3a27a2['set'](_0x4b5390,[_0x32abc3]);}const _0x2fdb3a=Array['from'](_0x3a27a2['keys']())['sort']((_0x4e3679,_0x26789d)=>_0x4e3679-_0x26789d),_0x3b2618=new Uint32Array(this['numSplats']);let _0x2b2aca=-0xf*-0x217+-0x226f*-0x1+0x1a5*-0x28;for(let _0xed2b4a=-0x2668+-0x21ed+0x4855;_0xed2b4a<_0x2fdb3a['length'];++_0xed2b4a){const _0x5a5ef6=_0x3a27a2['get'](_0x2fdb3a[_0xed2b4a]);for(let _0x171a3f=0x1594*-0x1+-0x1*0xd55+-0x3*-0xba3;_0x171a3f<_0x5a5ef6['length'];++_0x171a3f)_0x3b2618[_0x2b2aca++]=_0x5a5ef6[_0x171a3f];}return _0x3b2618;}['reorder'](_0x2ccba8){const _0x5a1f99=new Map(),_0x2efc9e=_0x130d19=>{if(_0x5a1f99['has'](_0x130d19)){const _0x365ead=_0x5a1f99['get'](_0x130d19);return _0x5a1f99['delete'](_0x130d19),_0x365ead;}return new ArrayBuffer(_0x130d19);},_0x215025=_0x181abc=>{_0x5a1f99['set'](_0x181abc['byteLength'],_0x181abc);},_0x74e68f=_0x1e4fc3=>{const _0x30b86a=new _0x1e4fc3['constructo'+'r'](_0x2efc9e(_0x1e4fc3['byteLength']));for(let _0x12c093=-0x989+0xb*-0x283+0x252a;_0x12c093<_0x2ccba8['length'];_0x12c093++)_0x30b86a[_0x12c093]=_0x1e4fc3[_0x2ccba8[_0x12c093]];return _0x215025(_0x1e4fc3['buffer']),_0x30b86a;};this['elements']['forEach'](_0x591f16=>{_0x591f16['properties']['forEach'](_0x46beab=>{_0x46beab['storage']&&(_0x46beab['storage']=_0x74e68f(_0x46beab['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const z0=(_0x1be418={})=>{console['log']('____\x20ENGIN'+'E\x20IVAN','gsplat-mat'+'erial\x20crea'+'teGSplatMa'+'terial');const _0x22ec9b=_0x1be418['dither']??Rs,_0x31e9ef=_0x22ec9b!==Rs,_0x475fcd=new Ra({'uniqueName':'SplatMater'+'ial','vertexCode':_0x1be418['vertex']??X['gsplatVS'],'fragmentCode':_0x1be418['fragment']??X['gsplatPS'],'attributes':{'vertex_position':He,'vertex_id_attrib':ga}});return _0x475fcd['setDefine']('DITHER_'+_0x22ec9b['toUpperCas'+'e'](),''),_0x475fcd['cull']=mt,_0x475fcd['blendType']=_0x31e9ef?is:hr,_0x475fcd['depthWrite']=_0x31e9ef,_0x475fcd['update'](),_0x475fcd;};async function z1(){self['onmessage']=async _0x239b0b=>{const {data:_0x305e7e}=_0x239b0b;switch(_0x305e7e['type']){case'initWorker':break;case'updateSHDa'+'ta':_0x3afe04(_0x305e7e['numSplats'],_0x305e7e['shBands'],_0x305e7e['SHData']);break;}};const _0x3afe04=(_0x5b938c,_0xf8aea1,_0x432f06)=>{const _0x2c9f21=new Uint32Array(_0x5b938c*(-0x2228+-0xec6+0x9ca*0x5)),_0x4077b9=new Uint32Array(_0x5b938c*(-0x1042*-0x2+-0xd5e+0x1f*-0x9e)),_0x5b9349=new Uint32Array(_0x5b938c*(-0x232e+-0xc8e*-0x1+0x16a4)),_0x1e6327=new Uint32Array(_0x5b938c*(-0x1*-0xe75+0x265*0xe+-0x2ff7)),_0x293777={0x1:0x3,0x2:0x8,0x3:0xf}[_0xf8aea1],_0x746a4f=_0x432f06,_0xbef64c=0x256f+0x203f+-0x3daf,_0x1fb7cd=-0x1975+-0x8e1+0x2655,_0x1e9a1b=new Float32Array(0x2*-0x959+0xd*0x2a4+-0xfa1*0x1),_0xf8de52=new Uint32Array(_0x1e9a1b['buffer']),_0x4ffe17=new Array(_0x293777*(0x112c+-0x27a+-0xeaf))['fill'](0x1f0*-0x13+0x12*-0x92+0x2f14);for(let _0x479bb2=-0xb*-0x267+0x2662+0x1*-0x40cf;_0x479bb2<_0x5b938c;++_0x479bb2){for(let _0x24f3d7=0x16d1+0x1863+-0x2f34;_0x24f3d7<_0x293777;++_0x24f3d7)_0x4ffe17[_0x24f3d7*(0x118b*0x1+-0x2a+-0x115e)]=_0x746a4f[_0x24f3d7][_0x479bb2],_0x4ffe17[_0x24f3d7*(0x1*0xa93+0x203b+-0x2acb)+(-0x1*0x1149+-0x10bd+-0x1f*-0x119)]=_0x746a4f[_0x24f3d7+_0x293777][_0x479bb2],_0x4ffe17[_0x24f3d7*(-0x19c0+-0x1c*0xbb+0x2e37)+(-0x29*-0xad+-0x16a0+-0x513)]=_0x746a4f[_0x24f3d7+_0x293777*(0x1067+-0x1b05+-0x1*-0xaa0)][_0x479bb2];let _0x508616=_0x4ffe17[0x2706+-0x27*-0xb5+0x1633*-0x3];for(let _0x11a1ef=0xdfb+-0x1*-0x184e+-0x2648;_0x11a1ef<_0x293777*(-0x1efc+0x8e*0x1f+0xdcd*0x1);++_0x11a1ef)_0x508616=Math['max'](_0x508616,Math['abs'](_0x4ffe17[_0x11a1ef]));if(_0x508616!==0xccd+0x192*0x1+-0xe5f){for(let _0x1f2cf5=-0x81*-0x1e+-0x2154+0x1236;_0x1f2cf5<_0x293777;++_0x1f2cf5)_0x4ffe17[_0x1f2cf5*(-0x5c2+-0x18*0xf1+0x1c5d)+(-0x1b0+0x2549*0x1+-0x2399)]=Math['max'](-0x12e2+0x9e*0x33+-0x3e*0x34,Math['min'](_0xbef64c,Math['floor']((_0x4ffe17[_0x1f2cf5*(-0x1ca9+0x1e47+-0x19b*0x1)+(0x2695+-0x9c4*0x1+0x3*-0x99b)]/_0x508616*(-0x13f1*-0x1+0x1bdd+-0x2fce+0.5)+(0x215*0x2+0x11*0x59+-0xa13+0.5))*_0xbef64c+(0x1e52+-0x10ad+0x7*-0x1f3+0.5)))),_0x4ffe17[_0x1f2cf5*(0x2612*0x1+-0x8ea+-0x1d25)+(0x133*-0x14+-0xf04+0x2701)]=Math['max'](-0x1*-0x10e7+-0x1465+0x37e,Math['min'](_0x1fb7cd,Math['floor']((_0x4ffe17[_0x1f2cf5*(0x9*-0xe+-0x1*-0x97a+-0x8f9*0x1)+(0x1*0x577+-0x1923+0x3*0x68f)]/_0x508616*(-0x5bf*-0x6+0x151*-0x13+-0x977+0.5)+(-0x42*0x95+-0x2*0x685+0x3374+0.5))*_0x1fb7cd+(-0x1330+0x1c2*-0xd+0x2a0a+0.5)))),_0x4ffe17[_0x1f2cf5*(0xb93+0xf4+0xb2*-0x12)+(0x160e+-0x1da7+-0x79b*-0x1)]=Math['max'](-0x1*-0x1be6+0x905+-0x24eb,Math['min'](_0xbef64c,Math['floor']((_0x4ffe17[_0x1f2cf5*(0x6eb+-0x12e+-0x5ba)+(-0x650+-0x1*-0x185f+-0x120d*0x1)]/_0x508616*(-0x1*-0x2644+0x4ce+-0x2b12+0.5)+(-0x1d4d+0x2386*-0x1+0x1*0x40d3+0.5))*_0xbef64c+(-0x23*-0x6f+-0x5*-0x521+0xa*-0x415+0.5))));_0x1e9a1b[0x4cc*0x6+0x1*-0x84d+0x1*-0x147b]=_0x508616,_0x2c9f21[_0x479bb2*(-0x1cdb+0x4f*-0x79+-0x1*-0x4236)+(-0xe75*-0x2+0x1*0x679+0x2363*-0x1)]=_0xf8de52[-0x1*-0x1c89+0x1*-0x40d+0x187c*-0x1],_0x2c9f21[_0x479bb2*(-0x2*-0x4cf+-0x821*0x3+-0x5*-0x2f5)+(0xc22+-0x3*-0x89+-0xdbc)]=_0x4ffe17[0x1dde+-0xa7e+-0x2*0x9b0]<<0x1bde+0x9*0x141+-0x2712|_0x4ffe17[0x103f*0x2+0x17d2+-0x9b*0x5d]<<-0x54d*0x3+0x1*0x52c+0x1*0xac6|_0x4ffe17[-0xd*-0xe5+-0x1641+0xaa2],_0x2c9f21[_0x479bb2*(-0x6*0x21f+0x10da+-0x41c)+(-0x18f6+-0xd0a*0x2+-0xc*-0x441)]=_0x4ffe17[-0x13d9*-0x1+-0x220*0x8+0x2*-0x16b]<<-0x1a6*-0x10+0x1a*0x13c+0x3a63*-0x1|_0x4ffe17[-0x8*0x331+0x1c5+0x17c7]<<-0x1e1c+0x226e+-0x5*0xdb|_0x4ffe17[-0xd06*0x1+-0x1dd5+0x2ae0],_0x2c9f21[_0x479bb2*(-0x3*-0x5cd+0x89a+-0x19fd*0x1)+(0x2172+-0x17f9+0x976*-0x1)]=_0x4ffe17[-0x656+0xcbb+-0x7*0xe9]<<0x248e+0x1a98+-0x3f11|_0x4ffe17[-0x8b*0x8+0x25a6+-0x2147*0x1]<<-0x195f+-0x1*-0xe37+0x3d*0x2f|_0x4ffe17[-0x1c97+0x1fd4+-0x1*0x335],_0xf8aea1>-0xe4d+-0xae8*0x2+-0x43*-0x8a&&(_0x4077b9[_0x479bb2*(0x29d*-0x7+-0x13fc+0x264b)+(-0x3*-0x5ea+-0x1306+0x148)]=_0x4ffe17[-0x57d+-0x120c+0x1792]<<-0x1120+-0x121*-0x1f+0x8a*-0x21|_0x4ffe17[0x1*-0x1445+-0x1f5*0xd+0x2dc0]<<-0x1da4+-0x1363+-0x1*-0x3112|_0x4ffe17[0x17e6+0xd*-0x147+-0x740],_0x4077b9[_0x479bb2*(-0x2635*0x1+-0x15*0xdf+0x3884)+(0xf2+-0x183f+-0x1*-0x174e)]=_0x4ffe17[0x1*-0x17d5+0x4f*-0x2f+-0x242*-0x11]<<-0x2*-0x8a+0x1594*0x1+-0x1693|_0x4ffe17[-0x2700+-0x13ca+0x3ad7]<<0x1f6+0x31*0x2f+-0x7f*0x16|_0x4ffe17[0xc32+0x6b*0x34+0x20*-0x10f],_0x4077b9[_0x479bb2*(0x7*0x58a+-0x35e*-0x5+-0x3798)+(-0x585+0x7*-0x3d+0x732)]=_0x4ffe17[-0x1770+-0x2112+0x3891]<<0x1*0x1475+0x12*0x225+-0x3afa|_0x4ffe17[0x2ef*0x1+-0x5f*-0x39+-0x1806]<<-0x1*-0xfda+0x3*-0xb45+0x24*0x80|_0x4ffe17[-0x20a6+0x2650+0x599*-0x1],_0x4077b9[_0x479bb2*(-0x12be+-0xd*-0x5f+0xdef)+(-0x1d32+-0x61*0xf+0x4fc*0x7)]=_0x4ffe17[0x762+-0x1d23+0x15d3]<<0xdee+-0xaf2*-0x2+-0x23bd|_0x4ffe17[-0x1694+-0x1794+0x315*0xf]<<0x10b1*-0x2+0x190a+0x863|_0x4ffe17[-0x340*-0x1+0x1ab1+0x1*-0x1ddd],_0xf8aea1>-0x289*0xa+0xb*-0x14e+0x27b6?(_0x5b9349[_0x479bb2*(-0x1*0x437+-0x12ba+0x16f5)+(0x84a+0x16a*0xd+0x1aac*-0x1)]=_0x4ffe17[-0x571*-0x5+-0x3*0x2e7+-0x126b]<<-0x7aa+-0x1d21*0x1+-0x24e0*-0x1|_0x4ffe17[0x901*0x4+0x1a27+-0x3e15]<<-0x2217+0xb23*-0x3+-0x438b*-0x1|_0x4ffe17[-0x3*-0xced+-0x3d*-0x1+-0x26ed],_0x5b9349[_0x479bb2*(-0x1587+-0x2e7*-0x5+-0xb4*-0xa)+(0xcac+-0x2c*0xb+0xac7*-0x1)]=_0x4ffe17[0x21a1+-0x82*0x4+-0x64d*0x5]<<0x8d*0x16+0xbdf+-0x17e8|_0x4ffe17[0x83+0x112d+-0x1197]<<0x1*-0x872+-0x2324+0x2ba1|_0x4ffe17[0x1f10+-0x3bf*-0x9+0x40ad*-0x1],_0x5b9349[_0x479bb2*(0x87d*0x2+-0xdd0+0x3e*-0xd)+(-0x61*-0x44+-0x70*0x41+0x2ae)]=_0x4ffe17[0x55*-0x17+0xcf7+-0x539]<<-0x1c0+-0x1*-0x1609+-0x1af*0xc|_0x4ffe17[-0x17cd+0x31b+-0x14ce*-0x1]<<0x2709+0x221c*0x1+0x248d*-0x2|_0x4ffe17[-0x227d+-0x2c*-0xe3+0xe2*-0x5],_0x5b9349[_0x479bb2*(-0xe92+0x29*-0x29+-0x1*-0x1527)+(0x5*0x394+-0x14*0x167+0xa2b)]=_0x4ffe17[-0x17*0x1a5+0x8ce+0x1*0x1d23]<<0x3*0x18a+0x2352*-0x1+0x1ec9|_0x4ffe17[0x24b4+-0x2a+-0x246b]<<-0x1*-0x1233+-0x14b4+0x28c|_0x4ffe17[-0x17ef+0x12f6+0xf*0x57],_0x1e6327[_0x479bb2*(-0x490*0x3+-0x7c9+0x157d*0x1)+(0x127f+-0x2018+0x3b*0x3b)]=_0x4ffe17[0x36f*-0x7+-0x1*-0x487+0x13a3]<<-0xeeb*-0x2+-0x24*-0x5+0x3*-0xa27|_0x4ffe17[0x1*0x105e+0x1ff5+0x49*-0xa9]<<-0x1674+-0x1f53+0x35d2|_0x4ffe17[-0x1eb0+0x1ba5+0xb*0x4a],_0x1e6327[_0x479bb2*(-0xf52+-0x1b8c+0x2ae2)+(0x3*-0x78a+-0x1f96+-0x3635*-0x1)]=_0x4ffe17[0x1d25+-0x2b5+-0x1a4c]<<0x1*-0x3b5+-0xbfb+0xfc5*0x1|_0x4ffe17[-0x162a*-0x1+-0x43*-0x71+-0x1*0x3398]<<0x7e*0x17+-0x3*0x11b+-0x7f6|_0x4ffe17[0x1*0x9fe+-0x876+-0x162],_0x1e6327[_0x479bb2*(-0x119b+-0x1*-0x1003+-0x19c*-0x1)+(0x3dc+0x5a1+-0x97b)]=_0x4ffe17[-0x17b2+0x1*0x1019+0x7c0]<<-0x1*-0x1465+-0xf92+-0x4be|_0x4ffe17[-0x94*0x5+-0x99+0x3a5]<<0x257*-0xa+0x26f7+-0xf86|_0x4ffe17[-0x22ba+-0x43*-0xe+0x1f39],_0x1e6327[_0x479bb2*(0x9*-0x5f+0x132f+-0xfd4)+(-0x5*0x332+-0x212+0x3*0x605)]=_0x4ffe17[-0xf08+-0xbf*0xd+0x1*0x18e5]<<0xfa7*0x2+0x1b*-0x7d+-0x120a|_0x4ffe17[-0x11c3*0x2+0x4af*0x7+0x2e8]<<-0x432*-0x4+-0x206b+-0x12*-0xdf|_0x4ffe17[-0x35*0x20+-0x89*-0x4+0x4*0x12a]):_0x5b9349[_0x479bb2]=_0x4ffe17[0xf67*0x1+0x1*0x25c4+0x1a8b*-0x2]<<0x12*-0x12+-0x24ef+0x2648|_0x4ffe17[0x26b5+-0x1950+0xd4f*-0x1]<<0xeeb+-0x1588+0x47*0x18|_0x4ffe17[0x40d*0x1+0x1d69+-0x215f]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata','sh1to3Data':_0x2c9f21,'sh4to7Data':_0x4077b9,'sh8to11Data':_0x5b9349,'sh12to15Data':_0x1e6327},[_0x2c9f21['buffer'],_0x4077b9['buffer'],_0x5b9349['buffer'],_0x1e6327['buffer']]);};}class U1 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+z1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x2d4b56=>{if(!this['worker'])return;const {data:_0x411084}=_0x2d4b56;switch(_0x411084['type']){case'updatedSHD'+'ata':this['fire']('updatedSHD'+'ata',_0x411084['sh1to3Data'],_0x411084['sh4to7Data'],_0x411084['sh8to11Dat'+'a'],_0x411084['sh12to15Da'+'ta']);break;}};}['updateSHDa'+'ta'](_0x42898d,_0x56a3b6,_0x503dd2){var _0x27cf9a;(_0x27cf9a=this['worker'])==null||_0x27cf9a['postMessag'+'e']({'type':'updateSHDa'+'ta','numSplats':_0x42898d,'shBands':_0x56a3b6,'SHData':_0x503dd2});}['destroy'](){var _0xd05e46;this['worker']&&((_0xd05e46=this['worker'])==null||_0xd05e46['terminate'](),this['worker']=null);}}const U_=(_0x3e4148,_0x22f716)=>{const _0x4de26f=[];for(let _0x1b91b7=0xffe+0x1*-0x1a2e+0x518*0x2;_0x1b91b7<_0x22f716;++_0x1b91b7)_0x4de26f['push'](_0x3e4148['getProp']('f_rest_'+_0x1b91b7));return _0x4de26f;};class V1{constructor(_0x24f571,_0x3876a7){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'timeOption'),c(this,'centers'),c(this,'muT'),c(this,'tScale'),c(this,'motion'),c(this,'timeIndex'),c(this,'aabb'),c(this,'colorTextu'+'re'),c(this,'transformA'+'Texture'),c(this,'transformB'+'Texture'),c(this,'transformR'+'Texture'),c(this,'transformT'+'SpeedTextu'+'re'),c(this,'transformT'+'Texture'),c(this,'is4D'),c(this,'shBands'),c(this,'sh1to3Text'+'ure'),c(this,'sh4to7Text'+'ure'),c(this,'sh8to11Tex'+'ture'),c(this,'sh12to15Te'+'xture'),c(this,'updateData'+'Worker'),console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat');const _0x372a23=_0x3876a7['numSplats'];this['device']=_0x24f571,this['numSplats']=_0x372a23,this['numSplatsV'+'isible']=_0x372a23,this['updateData'+'Worker']=new U1(),this['centers']=new Float32Array(_0x3876a7['numSplats']*(0x1*-0x84f+0x1726+0x4*-0x3b5)),this['motion']=new Float32Array(_0x3876a7['numSplats']*(-0x144a+0x280*0x7+0x2cd)),this['timeIndex']=new Float32Array(_0x3876a7['numSplats']),_0x3876a7['getCenters'](this['centers']),_0x3876a7['getMotion'](this['motion']),_0x3876a7['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x3876a7['getMuT'](this['timeOption']),this['tScale']=_0x3876a7['getTScale'](),this['is4D']=_0x3876a7['is4D'],this['aabb']=new _e(),_0x3876a7['calcAabb'](this['aabb']);const _0x40c105=this['evalTextur'+'eSize'](_0x372a23);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x40c105),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x40c105),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x40c105),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x40c105),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x40c105),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x40c105)),this['updateColo'+'rData'](_0x3876a7),this['updateTran'+'sformData'](_0x3876a7),this['shBands']=_0x3876a7['shBands'],this['shBands']>-0x349+-0x22*-0x14+0x1*0xa1&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x40c105),this['shBands']>0xb95+0x9*0x11b+-0x21*0xa7&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x40c105),this['shBands']>0xb62+-0x1dbc+0x125c?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x40c105),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x40c105)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x40c105)),this['updateSHDa'+'ta'](_0x3876a7));}['updateData'](_0x4c0886){console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplat');const _0xe2f9c=_0x4c0886['numSplats'];this['numSplats']=_0xe2f9c,this['numSplatsV'+'isible']=_0xe2f9c,this['centers']=new Float32Array(_0x4c0886['numSplats']*(0xd13+-0x13*-0x10d+-0x69b*0x5)),this['motion']=new Float32Array(_0x4c0886['numSplats']*(0x9*0x1ed+0xcd5*-0x2+0xb2*0xc)),this['timeIndex']=new Float32Array(_0x4c0886['numSplats']),_0x4c0886['getCenters'](this['centers']),_0x4c0886['getMotion'](this['motion']),_0x4c0886['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x4c0886['getMuT'](this['timeOption']),this['tScale']=_0x4c0886['getTScale'](),this['is4D']=_0x4c0886['is4D'],this['aabb']=new _e(),_0x4c0886['calcAabb'](this['aabb']);const _0x1bdefe=this['evalTextur'+'eSize'](_0xe2f9c);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x1bdefe),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x1bdefe),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x1bdefe),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x1bdefe),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x1bdefe),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x1bdefe)),this['updateColo'+'rData'](_0x4c0886),this['updateTran'+'sformData'](_0x4c0886),this['shBands']=_0x4c0886['shBands'],this['shBands']>-0x174e+0xd10+-0x2e*-0x39&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x1bdefe),this['shBands']>-0x2a8*0x1+0x2536+-0x228d*0x1&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x1bdefe),this['shBands']>-0x184a+-0x131e+-0x2b6a*-0x1?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x1bdefe),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x1bdefe)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x1bdefe)),this['updateSHDa'+'ta'](_0x4c0886));}['destroy'](){var _0x4bdc53,_0x1ca7b6,_0x1c49f3,_0x24a5fb,_0x3ba2b0,_0x5d36af,_0x4b5529,_0x4c5a67,_0x5bc2d9,_0x29ff25;(_0x4bdc53=this['colorTextu'+'re'])==null||_0x4bdc53['destroy'](),(_0x1ca7b6=this['transformA'+'Texture'])==null||_0x1ca7b6['destroy'](),(_0x1c49f3=this['transformB'+'Texture'])==null||_0x1c49f3['destroy'](),(_0x24a5fb=this['transformR'+'Texture'])==null||_0x24a5fb['destroy'](),(_0x3ba2b0=this['transformT'+'SpeedTextu'+'re'])==null||_0x3ba2b0['destroy'](),(_0x5d36af=this['transformT'+'Texture'])==null||_0x5d36af['destroy'](),(_0x4b5529=this['sh1to3Text'+'ure'])==null||_0x4b5529['destroy'](),(_0x4c5a67=this['sh4to7Text'+'ure'])==null||_0x4c5a67['destroy'](),(_0x5bc2d9=this['sh8to11Tex'+'ture'])==null||_0x5bc2d9['destroy'](),(_0x29ff25=this['sh12to15Te'+'xture'])==null||_0x29ff25['destroy']();}['createMate'+'rial'](_0x46ba49){console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.cre'+'ateMateria'+'l');const _0x1c147b=z0(_0x46ba49);return _0x1c147b['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x1c147b['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x1c147b['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x1c147b['setParamet'+'er']('transformR',this['transformR'+'Texture']),this['transformT'+'SpeedTextu'+'re']&&_0x1c147b['setParamet'+'er']('transformT'+'Speed',this['transformT'+'SpeedTextu'+'re']),this['transformT'+'Texture']&&_0x1c147b['setParamet'+'er']('transformT',this['transformT'+'Texture']),_0x1c147b['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x1c147b['setDefine']('SH_BANDS',this['shBands']),_0x1c147b['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x1c147b['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x1c147b['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x1c147b['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x1c147b['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']),_0x1c147b;}['evalTextur'+'eSize'](_0x5a6172){const _0x362727=Math['ceil'](Math['sqrt'](_0x5a6172)),_0x4a702e=Math['ceil'](_0x5a6172/_0x362727);return new W(_0x362727,_0x4a702e);}['createText'+'ure'](_0x2cb781,_0x3723ab,_0x578eeb){return new he(this['device'],{'name':_0x2cb781,'width':_0x578eeb['x'],'height':_0x578eeb['y'],'format':_0x3723ab,'cubemap':!(0xc07+-0xf9c+0x396),'mipmaps':!(-0x17d0+0xc1*-0x10+-0xa7*-0x37),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['updateColo'+'rData'](_0x57f55c){console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x3f56c3=this['colorTextu'+'re'];if(!_0x3f56c3)return;const _0x245dfc=Wt['float2Half'],_0x623d99=_0x3f56c3['lock'](),_0x367b27=_0x57f55c['getProp']('f_dc_0'),_0x18a2bf=_0x57f55c['getProp']('f_dc_1'),_0x320a4c=_0x57f55c['getProp']('f_dc_2'),_0x327233=_0x57f55c['getProp']('opacity'),_0x4ea999=-0x1*0xefe+0x38d*0x9+0x2b*-0x65+0.28209479177387814;for(let _0x242b2d=0x1aad+-0x223*-0x5+0x255c*-0x1;_0x242b2d<this['numSplats'];++_0x242b2d){const _0x19cc5d=_0x367b27[_0x242b2d]*_0x4ea999+(0x2c3+0x125c+-0x151f+0.5),_0x2b9bb5=_0x18a2bf[_0x242b2d]*_0x4ea999+(0x26a*-0xb+-0x1ec*-0xe+-0x5a+0.5),_0x6d7593=_0x320a4c[_0x242b2d]*_0x4ea999+(0xd6b+0x18f8+-0x1f*0x13d+0.5),_0x42dd33=(0x1*0x9ca+0x9*-0x3d+-0x7a4)/(0x377*-0x1+0x6*0x112+-0x6*0x7e+Math['exp'](-_0x327233[_0x242b2d]));_0x623d99[_0x242b2d*(0x3ab*0x6+0x2*-0x349+-0xf6c)+(0x265+-0xc40+0x9db)]=_0x245dfc(_0x19cc5d),_0x623d99[_0x242b2d*(0x21db*-0x1+-0x1213+-0x33f2*-0x1)+(0x1*-0x7a9+-0x18d*-0x4+0x11*0x16)]=_0x245dfc(_0x2b9bb5),_0x623d99[_0x242b2d*(0x1*0xcbb+0x83*0x3d+0x2bee*-0x1)+(-0x2184+-0xf40+0x30c6)]=_0x245dfc(_0x6d7593),_0x623d99[_0x242b2d*(0x1600*0x1+-0x722+-0xeda)+(0xd53+-0x12c1+0xc7*0x7)]=_0x245dfc(_0x42dd33);}_0x3f56c3['unlock']();}['updateTran'+'sformData'](_0x5a9f7d){var _0x176915,_0x384807,_0x539cd4,_0x26ceb1;console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData');const _0x21cf5f=Wt['float2Half'];if(!this['transformA'+'Texture'])return;const _0x3b1c41=this['transformA'+'Texture']['lock'](),_0x4edec4=new Float32Array(_0x3b1c41['buffer']),_0x5c0775=this['transformR'+'Texture']['lock'](),_0x2ff9f2=new Float32Array(_0x5c0775['buffer']),_0x30b883=this['transformB'+'Texture']['lock'](),_0x945812=(_0x176915=this['transformT'+'SpeedTextu'+'re'])==null?void(-0x1*-0x3f4+-0x54c*-0x6+0x11de*-0x2):_0x176915['lock']();let _0x4b5d68;_0x945812&&(_0x4b5d68=new Float32Array(_0x945812['buffer']));const _0x479be3=(_0x384807=this['transformT'+'Texture'])==null?void(-0x1e33+-0x598+-0x23cb*-0x1):_0x384807['lock']();let _0x54d423;_0x479be3&&(_0x54d423=new Float32Array(_0x479be3['buffer']));const _0x475baa=new T(),_0x12e90f=new se(),_0x29321c=new T(),_0x3c3024=new T(),_0x4bd7e5=_0x5a9f7d['createIter'](_0x475baa,_0x12e90f,_0x29321c,null,_0x3c3024),_0xdde600=_0x5a9f7d['getProp']('t'),_0x1bcf05=_0x5a9f7d['getProp']('t_scale');for(let _0x293e8b=-0x1821+0x1e*0x1f+0x147f;_0x293e8b<this['numSplats'];_0x293e8b++)_0x4bd7e5['read'](_0x293e8b),_0x12e90f['normalize'](),_0x12e90f['w']<0x535*0x1+-0x1e1f+0x18ea&&_0x12e90f['mulScalar'](-(-0x190c+0x515+0x13f8)),_0x4edec4[_0x293e8b*(-0x12fa+0x1acb+-0x7cd)+(0x103d*-0x1+0x1a34+0x9f7*-0x1)]=_0x475baa['x'],_0x4edec4[_0x293e8b*(-0x25*-0x6a+-0x1cc1+0xb*0x139)+(-0x1a3d+0x1196+-0x1*-0x8a8)]=_0x475baa['y'],_0x4edec4[_0x293e8b*(0x171b+-0x3ed*0x3+-0xb50)+(0x1*0x19e7+-0x859*-0x1+-0x223e*0x1)]=_0x475baa['z'],_0x30b883[_0x293e8b*(-0xe26+-0x23f8+-0x1*-0x3222)+(0xa0*0x1+0x906+0x82*-0x13)]=_0x21cf5f(_0x29321c['x']),_0x30b883[_0x293e8b*(-0x2271*-0x1+-0x13*-0xcd+0x12*-0x2c2)+(-0x119*-0x1f+-0x175*0xd+0x3*-0x507)]=_0x21cf5f(_0x29321c['y']),_0x30b883[_0x293e8b*(0xa8b*-0x2+0x8f*-0x2+0x1638)+(-0x2678+0xc6d+0x1a0d)]=_0x21cf5f(_0x29321c['z']),_0x2ff9f2[_0x293e8b*(0xb*-0x6b+0xc*0x2dc+0x1db3*-0x1)+(0x2*0xd8e+0x6*0x5c9+-0x3dd2)]=_0x12e90f['x'],_0x2ff9f2[_0x293e8b*(0x16ba*0x1+-0x2281+0xbcb*0x1)+(-0x59c*-0x1+-0x44*-0x38+0x31*-0x6b)]=_0x12e90f['y'],_0x2ff9f2[_0x293e8b*(0x1fa2+0x411+-0x23af)+(-0x10a8+-0x6fa*-0x2+0x2b6)]=_0x12e90f['z'],this['is4D']&&_0x4b5d68&&_0x54d423&&(_0x4b5d68[_0x293e8b*(-0x1*-0xd8c+0x2671*-0x1+-0x18e9*-0x1)+(-0x2*-0x11b1+-0x2*-0x78b+-0x3278)]=_0x3c3024['x'],_0x4b5d68[_0x293e8b*(0x1b3b+-0x13*-0x5b+0x8*-0x43f)+(0x6fa*0x3+0x167*0xd+-0x4*0x9ca)]=_0x3c3024['y'],_0x4b5d68[_0x293e8b*(-0x959+0x20e7*0x1+-0x178a)+(-0x1c75+0x769+0x23*0x9a)]=_0x3c3024['z'],_0x54d423[_0x293e8b*(0x16ed*-0x1+0x1bfd+-0x50c)+(-0x201*0x1+-0x167+0x1*0x368)]=_0xdde600?_0xdde600[_0x293e8b]:0x845+-0x1*0xa+-0x83b,_0x54d423[_0x293e8b*(0x2613+0x85b+-0x2e6a)+(0x521+0x3*0x2a2+-0xd06)]=_0x1bcf05?Math['exp'](_0x1bcf05[_0x293e8b]):0xe68+-0x1bc3+0x107*0xd);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x539cd4=this['transformT'+'SpeedTextu'+'re'])==null||_0x539cd4['unlock'](),(_0x26ceb1=this['transformT'+'Texture'])==null||_0x26ceb1['unlock']();}['updateSHDa'+'ta'](_0x39bda7){var _0x2d8806,_0x5e1231,_0x54b6df,_0x103e8c,_0x4bcfc5,_0x386201,_0x5c9eaf;console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta');const _0x284b10=(_0x2d8806=this['sh1to3Text'+'ure'])==null?void(0x3*0x929+-0x14c*0x16+0x1*0x10d):_0x2d8806['lock'](),_0x3615c8=(_0x5e1231=this['sh4to7Text'+'ure'])==null?void(0xa0*0x7+0x132*0x1d+-0x270a):_0x5e1231['lock'](),_0x172ee5=(_0x54b6df=this['sh8to11Tex'+'ture'])==null?void(-0x175d+-0x1b49+-0x10e2*-0x3):_0x54b6df['lock'](),_0xee4346=(_0x103e8c=this['sh12to15Te'+'xture'])==null?void(-0x83*0x3+-0x806+0x98f*0x1):_0x103e8c['lock'](),_0x220bac={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x56aff4=U_(_0x39bda7,_0x220bac*(-0x8a5*0x1+0x33*0x6b+-0xca9)),_0x58dede=-0x1*0x175d+0x203f+-0x1*0xe3,_0x31b09d=-0x3a+-0x284+-0x23f*-0x3,_0x28a790=new Float32Array(-0x1*0x1a86+-0x11a1+0x2c28),_0x1c94d6=new Uint32Array(_0x28a790['buffer']),_0x333ffa=new Array(_0x220bac*(-0x25e2+0x6a2*-0x1+0x2c87))['fill'](0xbd1+0x19*0x21+0x9a*-0x19);for(let _0x320e94=0x1*-0x26c9+-0x64d*0x1+0x2d16;_0x320e94<_0x39bda7['numSplats'];++_0x320e94){for(let _0x14c5ec=0x18*-0xc0+0x2*-0x116+0x142c;_0x14c5ec<_0x220bac;++_0x14c5ec)_0x333ffa[_0x14c5ec*(-0x22a3*0x1+-0xed7*-0x1+-0x1*-0x13cf)]=_0x56aff4[_0x14c5ec][_0x320e94],_0x333ffa[_0x14c5ec*(0x2*-0x581+-0x179+0x27*0x52)+(0xab5*0x1+0xc7c+-0x1730)]=_0x56aff4[_0x14c5ec+_0x220bac][_0x320e94],_0x333ffa[_0x14c5ec*(-0x9b+-0x2*0x1261+-0x20*-0x12b)+(-0x1*-0x8d3+-0x3c7*-0x3+-0x1426*0x1)]=_0x56aff4[_0x14c5ec+_0x220bac*(-0x1*0xdb2+0x26c9+0x1915*-0x1)][_0x320e94];let _0x37184b=_0x333ffa[-0x16*0x119+0x8d6+0x62*0x28];for(let _0x2ec9bf=0x4ed*0x1+0x1111+-0x1*0x15fd;_0x2ec9bf<_0x220bac*(0x10*-0x106+0xf4+0xf6f);++_0x2ec9bf)_0x37184b=Math['max'](_0x37184b,Math['abs'](_0x333ffa[_0x2ec9bf]));if(_0x37184b!==-0x1dc9+0xb98+-0x1231*-0x1){for(let _0x537a5f=0x15*0x165+-0x3*0x565+-0xd1a;_0x537a5f<_0x220bac;++_0x537a5f)_0x333ffa[_0x537a5f*(-0x106d*-0x1+0x102b+-0x2095)+(-0x9c0*0x3+0xf47+0xdf9)]=Math['max'](-0x5d+0x1*0xa01+-0x9a4,Math['min'](_0x58dede,Math['floor']((_0x333ffa[_0x537a5f*(-0x1c62+0x128b+0x9da)+(-0x1*0x1051+0x4a3*-0x2+-0x1997*-0x1)]/_0x37184b*(0x185a+-0x1*-0x905+-0x215f+0.5)+(-0x2120+0x1fc0+0xb0*0x2+0.5))*_0x58dede+(0x1d2*-0x1+0x8*0x30a+-0x167e+0.5)))),_0x333ffa[_0x537a5f*(0xb*0x35b+-0x1ed+0x22f9*-0x1)+(0x11*-0x1bb+-0xf47+0x2cb3)]=Math['max'](-0xd9e+-0x1a35*-0x1+-0xc97,Math['min'](_0x31b09d,Math['floor']((_0x333ffa[_0x537a5f*(-0x257+-0xdeb+-0x31*-0x55)+(-0x1*0x1a7a+-0xec*-0x15+0x71f)]/_0x37184b*(-0x20e7+0x61b+0x5*0x55c+0.5)+(0x1341+-0x2*0x9ad+0x19+0.5))*_0x31b09d+(0x215*0xb+-0x34*-0x29+-0x1f3b+0.5)))),_0x333ffa[_0x537a5f*(-0x1*-0x2cf+0x1dac+-0x2078)+(0x19fc+0x591*0x6+-0xa*0x5f0)]=Math['max'](-0x4*-0x260+0x2513*0x1+-0x2e93,Math['min'](_0x58dede,Math['floor']((_0x333ffa[_0x537a5f*(0x1*0xe7f+-0x1393+-0x517*-0x1)+(0x1475+0x38f*-0x2+-0xd55)]/_0x37184b*(-0x176c+0x4*-0xb5+0xe*0x1e0+0.5)+(0x807+-0xea9+-0x6a2*-0x1+0.5))*_0x58dede+(0x56d+-0x7aa+-0x3*-0xbf+0.5))));_0x28a790[0x2*-0x5e8+0x19d7+0x1*-0xe07]=_0x37184b,_0x284b10[_0x320e94*(-0x1*0x2319+-0x13*-0xff+0x1030)+(0x1feb+-0x1437+-0x5da*0x2)]=_0x1c94d6[-0xa8b+0x731+-0x3*-0x11e],_0x284b10[_0x320e94*(-0x1a79+0x5c7*0x3+0x928)+(0x1258+0x1*-0x14bb+0x99*0x4)]=_0x333ffa[-0x26e3*-0x1+-0x608*-0x4+-0x3f03]<<0x3*-0x4a2+0x1b7e+-0xd83|_0x333ffa[0x324+0x17f1+-0x1b14]<<-0x3*-0x149+-0x1b12+0x1742|_0x333ffa[-0x25dd+-0x1b2c+0x410b],_0x284b10[_0x320e94*(-0x1bfb+0x1f1a+-0xf*0x35)+(0x4b8*0x1+-0x202*-0x5+-0x760*0x2)]=_0x333ffa[0x25b*0xb+0x1b3f+-0x3525]<<-0x1716+0x536+0x11f5|_0x333ffa[0x19ca+0x1ace+-0x3494]<<-0x2*0x238+-0x146b+-0x2*-0xc73|_0x333ffa[0x10f1*-0x1+-0x1f39+0x302f],_0x284b10[_0x320e94*(-0x1dcd*-0x1+-0x8e7*0x1+0xa2*-0x21)+(0x1ad2+0x2590+0x405f*-0x1)]=_0x333ffa[-0xfe7+0xad9+-0x19*-0x34]<<0xcfa+-0x11b8+0x4d3|_0x333ffa[-0x9cb+0xa7a+-0x6*0x1c]<<-0xd0f*0x2+-0x97*-0x2f+-0x190|_0x333ffa[0x35*0x36+-0x228f+0x1769],this['shBands']>-0x1cce+-0x1*-0x1270+0xa5f&&(_0x3615c8[_0x320e94*(-0xe*-0x207+-0x147f+-0x7df)+(-0x13*-0xbd+0xa+-0xe11)]=_0x333ffa[0x1bf5+0x27b+-0x1e67]<<-0x793*-0x1+-0xa7*0xd+-0xfd*-0x1|_0x333ffa[0x6b9*-0x2+0x11*0x13d+-0x791]<<-0xb15+-0xe3e+0x195e|_0x333ffa[0x1afe+0x14ae+-0x2fa1],_0x3615c8[_0x320e94*(-0x15f2+-0x1663+0x2c59*0x1)+(0x17*-0x18a+0x2431+-0x2*0x65)]=_0x333ffa[-0x1a42+0x1*-0x17e9+-0x3237*-0x1]<<0x101+-0x652*-0x3+0x3fa*-0x5|_0x333ffa[-0x21f*0x10+0x16c5+0xb38]<<-0x1e1c+0x109f+0xd88|_0x333ffa[-0xb92*0x1+0xad8+-0x8*-0x19],_0x3615c8[_0x320e94*(-0x652+-0x21e8+0x283e)+(0x317*-0x8+0xa54*-0x1+0x1*0x230e)]=_0x333ffa[0x193c+0x1b75+-0x34a2]<<-0x2096+-0x15c+0x1f*0x119|_0x333ffa[-0x2686+0x19e*-0x7+-0x8*-0x63d]<<-0x1f39+0x3*-0x91e+0x3a9e*0x1|_0x333ffa[-0x20*-0x2+-0x4f+0x20],_0x3615c8[_0x320e94*(-0x14c0+-0xf4*0xc+-0x3*-0xabc)+(0x24d1+0xe45*-0x1+-0x783*0x3)]=_0x333ffa[0x2438+0x110e+-0x3534]<<0x7cf*0x1+0x2*0x133a+-0x202*0x17|_0x333ffa[-0x13aa+0x56e+-0x25*-0x63]<<-0x1ae2+-0xe61+-0x26e*-0x11|_0x333ffa[-0x34*0x9+0x1189*0x2+0xf*-0x236],this['shBands']>0x21da+-0x351*-0x3+-0x2bcb?(_0x172ee5[_0x320e94*(0x10d6+0xe0a+-0x1edc)+(0x66c+-0xc52+-0x5*-0x12e)]=_0x333ffa[0x1e56+0x5ff+0x140*-0x1d]<<0x1*-0x148d+0x6a1+0xe01|_0x333ffa[-0x3f*-0x4c+-0xf*-0x175+-0x2879]<<0x18d*-0x17+0x792+-0x1*-0x1c24|_0x333ffa[0x22bf+-0x97f+-0x1929],_0x172ee5[_0x320e94*(-0x1*0x13c3+-0xf86+0x234d)+(-0x85+0x2*-0x104a+0x13*0x1be)]=_0x333ffa[0x26c+0x123a+-0x3*0x6da]<<0x11c6+0x8*-0x29a+0x31f|_0x333ffa[-0xee8+0xe0+0xe21]<<0x131*0x3+-0x19a3*0x1+0x1*0x161b|_0x333ffa[0x2*0x1f2+-0x1877+0x4f*0x43],_0x172ee5[_0x320e94*(0x583+0x883+-0xe02)+(0x9b4+-0xf31*-0x1+0x18e3*-0x1)]=_0x333ffa[-0x5*0x11+0xfc3+-0xf53]<<0xd*0x243+0x18e0+0x2*-0x1b19|_0x333ffa[-0x1*0x1999+-0x1df*0x4+-0x1*-0x2131]<<0xb28+0x16c6+-0x5*0x6c7|_0x333ffa[-0xbf8+-0xf83+0x1b98],_0x172ee5[_0x320e94*(-0x8aa+-0x1*0xd13+0x15c1)+(-0x1*0x3fd+0x1e09+-0x5*0x535)]=_0x333ffa[-0x1073+0x38b*0xa+-0x12dd]<<0x1cc+0x64a+-0x801|_0x333ffa[0x1237+-0xa97+-0x781]<<0x2e7*-0x5+0x201f+-0x1191|_0x333ffa[0x25f3+0x34*-0x91+-0x85f*0x1],_0xee4346[_0x320e94*(-0x19d*-0x2+0x9*0x291+-0x5*0x543)+(0x1ec3+0x1142+-0x3005*0x1)]=_0x333ffa[0x2189+-0xf1b+-0x124d]<<-0x11d8+-0x166e+0x285b|_0x333ffa[-0x19b*0x5+0x1917*-0x1+0x38*0x98]<<-0x407+0x20ef+0x3*-0x99f|_0x333ffa[0x9ee*-0x1+-0x29*0x42+0x14a3],_0xee4346[_0x320e94*(0x7*0x1ee+0x17f2+-0x4ae*0x8)+(-0x2d6+-0x1f75*0x1+0x1126*0x2)]=_0x333ffa[-0xc*-0x2d3+-0x4d1+0x1*-0x1cef]<<-0x901+-0xe91+0x17a7|_0x333ffa[0x11fc+-0x87a+-0x95d]<<0x1a54+0x13*0x159+0x9*-0x5c4|_0x333ffa[0x1f1b+-0x8*0x102+0x1*-0x16e5],_0xee4346[_0x320e94*(0x1af*0x17+0x53c*-0x2+-0x1c3d)+(-0xbc3*-0x1+-0x22fe+0x9*0x295)]=_0x333ffa[-0x2105+-0x14c9+0x2d7*0x13]<<-0x85+-0x1*0x1751+0x17eb|_0x333ffa[0x648*-0x4+-0xd01*0x1+0x2649]<<-0x1fb7*0x1+-0xb3b+-0x899*-0x5|_0x333ffa[-0xa*0xbd+0x2b*0x6d+-0xac4],_0xee4346[_0x320e94*(-0x1d4f+-0x14b*-0xb+0x2*0x78d)+(-0x7*0x16e+0x37*-0x2d+0x13b0)]=_0x333ffa[0x1892+-0x212b+-0x8c3*-0x1]<<-0x125c+0x12f4+-0x83|_0x333ffa[-0x77d+0x1ea5+-0x37*0x6b]<<-0x1*0x269b+0x15*0x12d+-0x18d*-0x9|_0x333ffa[0x1d5e*-0x1+0xb52+-0x6a*-0x2c]):_0x172ee5[_0x320e94]=_0x333ffa[-0x1bd9*0x1+-0x12e9+0x6b1*0x7]<<-0x1*0x2619+-0x47b*0x3+-0xa53*-0x5|_0x333ffa[0xfd9*0x1+-0x7bd*-0x1+0x2f*-0x80]<<0xe6f+0x2569+-0x33cd|_0x333ffa[0xb8c*-0x2+-0x1d35+0x3464]);}}this['sh1to3Text'+'ure']['unlock'](),(_0x4bcfc5=this['sh4to7Text'+'ure'])==null||_0x4bcfc5['unlock'](),(_0x386201=this['sh8to11Tex'+'ture'])==null||_0x386201['unlock'](),(_0x5c9eaf=this['sh12to15Te'+'xture'])==null||_0x5c9eaf['unlock']();}['updateSHDa'+'taByWorker'](_0x572108){const _0x18c49e={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x28d6b4=U_(_0x572108,_0x18c49e*(0xb3e+-0xee9+-0x13a*-0x3));this['updateData'+'Worker']['updateSHDa'+'ta'](_0x572108['numSplats'],this['shBands'],_0x28d6b4),this['updateData'+'Worker']['on']('updatedSHD'+'ata',(_0x1fb7b1,_0x30f183,_0x2ebbce,_0x3ca632)=>{var _0x24c434,_0x3c55b4,_0x58b79a,_0x3af69f,_0x2ba562,_0x432a28,_0x512b2d,_0x5986f9,_0x84072c,_0x3e2ce9;const _0x2840d7=(_0x24c434=this['sh1to3Text'+'ure'])==null?void(-0x5*0xf7+0x1e1a+-0x1947):_0x24c434['lock']();if(new Uint32Array(_0x2840d7['buffer'])['set'](_0x1fb7b1),(_0x3c55b4=this['sh1to3Text'+'ure'])==null||_0x3c55b4['unlock'](),this['shBands']>0x239e+0x969+-0x2d06){const _0x1e3d65=(_0x58b79a=this['sh4to7Text'+'ure'])==null?void(-0x23df+-0x1*0x1a35+0x3e14):_0x58b79a['lock']();if(new Uint32Array(_0x1e3d65['buffer'])['set'](_0x30f183),(_0x3af69f=this['sh4to7Text'+'ure'])==null||_0x3af69f['unlock'](),this['shBands']>0x1e2+0xe8c+0x1*-0x106c){const _0x1a74ba=(_0x2ba562=this['sh8to11Tex'+'ture'])==null?void(0x72e*0x4+0x1857+-0x350f):_0x2ba562['lock']();new Uint32Array(_0x1a74ba['buffer'])['set'](_0x2ebbce),(_0x432a28=this['sh8to11Tex'+'ture'])==null||_0x432a28['unlock']();const _0x2d0a4e=(_0x512b2d=this['sh12to15Te'+'xture'])==null?void(-0x10e+0x1904+-0x17f6*0x1):_0x512b2d['lock']();new Uint32Array(_0x2d0a4e['buffer'])['set'](_0x3ca632),(_0x5986f9=this['sh12to15Te'+'xture'])==null||_0x5986f9['unlock']();}else{const _0x3eb94a=(_0x84072c=this['sh8to11Tex'+'ture'])==null?void(-0x1*0xa5d+0x1ea9*-0x1+-0x76*-0x59):_0x84072c['lock']();new Uint32Array(_0x3eb94a['buffer'])['set'](_0x2ebbce),(_0x3e2ce9=this['sh8to11Tex'+'ture'])==null||_0x3e2ce9['unlock']();}}});}}async function G1(){let _0x113257=null,_0x10946d=null,_0x57d846=null,_0x250768=null,_0x2711ca=null,_0x383263=null,_0x6a21e1=null,_0x5330b4=null,_0x779b0=null,_0x121901=null,_0x2725a5=null,_0x397d27=null,_0x37d101=null,_0x53b4d5=null,_0x53b61f=null,_0x184d54=null,_0x45d78f=null,_0x461aff=null,_0x46c935=null,_0x369ec8=null,_0x39e8fe=null,_0x4bf8ec=null,_0x41a855=null,_0x340327=null,_0x3f74b5=null,_0x52986a=Float32Array['BYTES_PER_'+'ELEMENT'],_0x471d4b=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x2cbe6b=0x19e3*-0x1+-0x9*-0x2b8+0x16b,_0x3282ec=!(0x1b54+0x1e21+-0x1*0x3975),_0x1771b2,_0x10e53a,_0x1aef13={'x':0x0,'y':0x0,'z':0x0},_0x50158c={'x':0x0,'y':0x0,'z':0x0},_0x425edf=!(-0x16f3+-0x1346+-0x2a39*-0x1),_0x2872ac=!(0x6a7+-0x64c+0xa*-0x9),_0x753363=!(-0x23f0+0x213c+0x21*0x15),_0x57de7d=0x2*0x32d+0x554+-0xbae,_0x19034f=-0x129e+-0x10e7+0x2385,_0x3f7a2e=!(0x1012+0x35*0x4f+0x1*-0x206c),_0x10554b=null;self['onmessage']=async _0x50eef0=>{const {data:_0x202966}=_0x50eef0;switch(_0x202966['type']){case'initWorker':_0x2cbe6b=_0x202966['numSplats'],_0x3b3624(),_0x3282ec=_0x202966['is4d'],await _0x51bb49(_0x202966['sortWasmUr'+'l']),_0x1e0083(),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x202966['dataReady']){if(_0x383263&&_0x202966['centers']&&_0x383263['length']===_0x202966['centers']['length']){const _0xd1e88e=new Float32Array(_0x202966['centers']);_0x383263['set'](_0xd1e88e);}if(_0x779b0&&_0x202966['timeIndex']&&_0x779b0['length']===_0x202966['timeIndex']['length']){const _0x378064=new Uint32Array(_0x202966['timeIndex']);_0x779b0['set'](_0x378064);}if(_0x397d27&&_0x202966['motion']&&_0x397d27['length']===_0x202966['motion']['length']){const _0x1c6488=new Float32Array(_0x202966['motion']);_0x397d27['set'](_0x1c6488);}if(_0x3282ec&&_0x121901&&_0x2725a5&&_0x202966['muT']&&_0x202966['tScale']&&_0x121901['length']===_0x202966['muT']['length']&&_0x2725a5['length']===_0x202966['tScale']['length']&&(_0x121901['set'](_0x202966['muT']),_0x2725a5['set'](_0x202966['tScale'])),_0x6a21e1){for(let _0x1b573f=0x18f7*0x1+0x484+0x1*-0x1d7b;_0x1b573f<_0x6a21e1['length'];++_0x1b573f)_0x6a21e1[_0x1b573f]=_0x1b573f;}_0x2711ca&&_0x202966['timeOption']&&_0x2711ca['set'](_0x202966['timeOption']),setTimeout(()=>{_0x8fe1cd();},0x644*-0x3+-0x19*-0x16d+-0x10d9);}break;case'setTime':_0x1771b2=_0x202966['time'],_0x1c5730();break;case'setUseTemp'+'oralSort':_0x425edf=_0x202966['useTempora'+'lSort'];break;case'sort':if(!_0x57d846)return;_0x57d846[0xe1b+-0x6bb+0xec*-0x8]=_0x202966['cameraPosi'+'tion']['x'],_0x57d846[0x1c3e+-0x2279+0x63c]=_0x202966['cameraPosi'+'tion']['y'],_0x57d846[-0x2*0x8c6+-0x3*-0xb7a+-0x10e0]=_0x202966['cameraPosi'+'tion']['z'],_0x250768[-0x11f*-0x13+-0xcc3+-0x88a*0x1]=_0x202966['cameraDire'+'ction']['x'],_0x250768[-0x86*0x3b+0x1622+-0x8c1*-0x1]=_0x202966['cameraDire'+'ction']['y'],_0x250768[-0x1*-0x1826+0x1ceb+-0x350f]=_0x202966['cameraDire'+'ction']['z'],_0x1c5730();break;}};const _0x1c5730=()=>{_0x10554b&&clearTimeout(_0x10554b),_0x10554b=setTimeout(()=>{_0x10554b=null,_0x3fa27f();},0x21e0+-0x59d*0x3+0x31*-0x59);},_0x3b3624=()=>{_0x19034f=Math['max'](0x724+0x1607+-0x1d21,Math['min'](0xdcc+-0x5*-0x37f+-0x7*0x475,Math['round'](Math['log2'](_0x2cbe6b/(0x2*-0x9bc+-0x1*-0x5db+0x1*0xda1))))),_0x57de7d=(0x1222+0x21cb+-0x33eb)**_0x19034f+(-0x719+-0x91*0x1+0x7ab);},_0x1e0083=()=>(_0x37d101=0x1811+0xd3e+0x254f*-0x1,_0x53b4d5=_0x37d101+_0x2cbe6b*_0x52986a*(-0x1a24+0xf97*0x2+-0x507),_0x46c935=_0x53b4d5+(-0x1*0x16cf+-0x2099+0x37cc)*_0x52986a*(-0x978+-0x1*0x5d9+-0xf53*-0x1),_0x369ec8=_0x46c935+_0x2cbe6b*_0x471d4b,_0x39e8fe=_0x369ec8+(-0x2f*-0x62+0x1*0x8d+0x1288*-0x1)*_0x52986a,_0x4bf8ec=_0x39e8fe+(-0x17a5+0x4b2+-0x2*-0x97b)*_0x52986a,_0x41a855=_0x4bf8ec+(0x172*0x19+0x125e*-0x1+-0x11c1)*_0x52986a,_0x340327=_0x41a855+(0x1*-0xa4e+-0x2c4+0xd15)*_0x52986a,_0x3f74b5=_0x340327+_0x2cbe6b*_0x471d4b,_0x383263=new Float32Array(_0x10946d,_0x37d101,_0x2cbe6b*(0x31*-0x20+-0x174+0x1*0x797)),_0x2711ca=new Float32Array(_0x10946d,_0x53b4d5,(0x1b0e*0x1+0x1182+-0x2c2c)*(0x7*0x407+-0x11bf+-0xa70)),_0x6a21e1=new Uint32Array(_0x10946d,_0x46c935,_0x2cbe6b),_0x5330b4=new Uint32Array(_0x6a21e1),_0x57d846=new Float32Array(_0x10946d,_0x369ec8,-0x2*0x13d+-0x1a*-0xc2+0x3*-0x5bd),_0x250768=new Float32Array(_0x10946d,_0x39e8fe,-0xe60+-0x1667+-0x115*-0x22),_0x3282ec&&(_0x45d78f=_0x3f74b5+_0x57de7d*_0x471d4b,_0x461aff=_0x45d78f+_0x2cbe6b*_0x52986a,_0x184d54=_0x461aff+_0x2cbe6b*_0x52986a,_0x53b61f=_0x184d54+_0x2cbe6b*(0x141+-0x161e+0x14e0)*_0x52986a,_0x121901=new Float32Array(_0x10946d,_0x45d78f,_0x2cbe6b),_0x2725a5=new Float32Array(_0x10946d,_0x461aff,_0x2cbe6b),_0x397d27=new Float32Array(_0x10946d,_0x184d54,_0x2cbe6b*(-0x659*0x1+-0x1ac3+0x211f*0x1)),_0x779b0=new Uint32Array(_0x10946d,_0x53b61f,_0x2cbe6b)),{'sharedMemory':_0x10946d,'layout':{'timeOptionPtr':_0x53b4d5,'timeIndexPtr':_0x53b61f,'centersPtr':_0x37d101,'motionPtr':_0x184d54,'muTPtr':_0x45d78f,'tScalePtr':_0x461aff,'orderPtr':_0x46c935,'cameraPositionPtr':_0x369ec8,'cameraDirectionPtr':_0x39e8fe,'boundMinPtr':_0x4bf8ec,'boundMaxPtr':_0x41a855,'distancesPtr':_0x340327,'countBufferPtr':_0x3f74b5}}),_0x51bb49=async _0x23f3c6=>{let _0x505677=_0x2cbe6b*_0x52986a*(0x41c+0x26e9*0x1+-0x2b02);_0x505677+=_0x2cbe6b*_0x471d4b,_0x505677+=(0x5a9+0x6*0x675+-0xb19*0x4)*_0x52986a,_0x505677+=(-0x1313+-0xda3*-0x1+0x573)*_0x52986a,_0x505677+=(-0x4*-0x21d+-0xd9*0x26+-0x4c1*-0x5)*_0x52986a,_0x505677+=(-0x245b*-0x1+-0x1*0x997+-0x1ac1)*_0x52986a,_0x505677+=_0x2cbe6b*_0x52986a,_0x505677+=_0x57de7d*_0x471d4b,_0x505677+=(0x142e+0xe13+-0x21dd)*_0x52986a*(-0x7d5+-0x6e1+0x1d7*0x8),_0x505677+=_0x2cbe6b*_0x471d4b,_0x3282ec&&(_0x505677+=_0x2cbe6b*_0x52986a,_0x505677+=_0x2cbe6b*_0x52986a,_0x505677+=_0x2cbe6b*_0x52986a*(-0x74*-0x41+-0x183a+0x1bd*-0x3));const _0x37a266=(-0x153e+0x2f6*-0x6+0x2*0x13a1)*(0x99*-0x9+-0x425*0x7+-0x57c*-0x7),_0x3155ed=Math['ceil'](_0x505677/_0x37a266),_0x125785={'env':{'memory':new WebAssembly['Memory']({'initial':_0x3155ed,'maximum':_0x3155ed,'shared':!(-0x188*0x1+0x23f0+-0x2268)}),'pthread_self':function(){return-0xa9*-0x13+0x761*-0x3+0x998;},'emscripten_builtin_memalign':function(){return-0x824+0x1*-0xf8d+0x4bd*0x5;},'loggerVec3':(_0x56d1e4,_0x1828c9,_0x5d4475,_0x564d9b)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x56d1e4+']\x200:'+_0x1828c9+'\x201:'+_0x5d4475+'\x202:'+_0x564d9b);},'loggerFloat':(_0x2070d7,_0xa933fd)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x2070d7+']\x20a:'+_0xa933fd);},'loggerValue':(_0xc7d4fe,_0x3c05c4,_0x317cbe,_0x238949,_0x3491b0)=>{console['log']('C++\x20logger'+'Value\x20['+_0xc7d4fe+']\x20minDist:'+_0x3c05c4+'\x20maxDist:'+_0x317cbe+'\x20range:'+_0x238949+'\x20divider:'+_0x3491b0);},'loggerCamera':(_0x17fac8,_0x3e52ec,_0x8ac320,_0x1a851d,_0x1e1f4d,_0x13cbbc,_0xe015b8)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x17fac8+']\x20x:'+_0x3e52ec+'\x20y:'+_0x8ac320+'\x20z:'+_0x1a851d+'\x20dx:'+_0x1e1f4d+'\x20dy:'+_0x13cbbc+'\x20dz:'+_0xe015b8);},'loggerBound':(_0x243589,_0x5868ed,_0x1a6b43,_0x513fb2,_0x1eddb0,_0x415aae)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x243589+'\x20minY:'+_0x5868ed+'\x20minZ:'+_0x1a6b43+'\x20maxX:'+_0x513fb2+'\x20maxY:'+_0x1eddb0+'\x20maxZ:'+_0x415aae);},'loggerDebug':_0x4bf548=>{console['log']('C++\x20logger'+'Debug\x20['+_0x4bf548+']');}}};try{const _0x16c7cf=await(await fetch(_0x23f3c6))['arrayBuffe'+'r']();return _0x113257=(await WebAssembly['instantiat'+'e'](_0x16c7cf,_0x125785))['instance'],_0x10946d=_0x125785['env']['memory']['buffer'],_0x113257;}catch(_0x2e70df){throw console['error']('WASM'+':',_0x2e70df),_0x2e70df;}},_0x8fe1cd=()=>{if(!_0x113257)return;const {calcAABB:_0x43bf4a}=_0x113257['exports'];_0x43bf4a(_0x37d101,_0x4bf8ec,_0x41a855,_0x2cbe6b);},_0x3fa27f=()=>{if(!_0x113257||_0x46c935===null||_0x37d101===null||_0x369ec8===null||_0x39e8fe===null||_0x4bf8ec===null||_0x41a855===null)return;const _0x36aec1=_0x57d846[-0x1272+0x73b+0xb37*0x1],_0x493b79=_0x57d846[-0xe4e+-0x2c*-0xcf+-0x63*0x37],_0x102cb8=_0x57d846[0x33b+0x2*-0xee9+0x1a99],_0x1569d6=_0x250768[0x2490+-0xc1*-0x11+-0x3161],_0x329bdf=_0x250768[0x1*-0x26cc+0x1f80+0x74d],_0x557769=_0x250768[0x1d80+-0x1b73+-0x1*0x20b],_0x38aa8e=-0x14da+0x24eb+-0x1011+0.001;if(!_0x2872ac&&Math['abs'](_0x36aec1-_0x1aef13['x'])<_0x38aa8e&&Math['abs'](_0x493b79-_0x1aef13['y'])<_0x38aa8e&&Math['abs'](_0x102cb8-_0x1aef13['z'])<_0x38aa8e&&Math['abs'](_0x1569d6-_0x50158c['x'])<_0x38aa8e&&Math['abs'](_0x329bdf-_0x50158c['y'])<_0x38aa8e&&Math['abs'](_0x557769-_0x50158c['z'])<_0x38aa8e&&Math['abs'](_0x1771b2-_0x10e53a)<0x9d*-0x3a+0x1*0x503+-0x1e8f*-0x1+0.01)return;if(_0x753363){_0x3f7a2e=!(0x309+0x43*0x3b+-0x127a);return;}_0x753363=!(0x2*0x1366+0xe69*0x1+-0x3535),_0x2872ac=!(0xcf7+-0x435*0x7+0x107d),_0x10e53a=_0x1771b2,_0x1aef13['x']=_0x36aec1,_0x1aef13['y']=_0x493b79,_0x1aef13['z']=_0x102cb8,_0x50158c['x']=_0x1569d6,_0x50158c['y']=_0x329bdf,_0x50158c['z']=_0x557769,_0x3f7a2e=!(0x2*0x312+-0x2131+0x1*0x1b0e);const {sortIndexes:_0x2a4c44}=_0x113257['exports'];try{const _0xc718d5=_0x2a4c44(_0x46c935,_0x37d101,_0x184d54,_0x45d78f,_0x461aff,_0x369ec8,_0x39e8fe,_0x4bf8ec,_0x41a855,_0x340327,_0x3f74b5,_0x1771b2,_0x425edf,_0x3282ec,_0x2cbe6b,_0x57de7d,_0x19034f,_0x53b4d5,_0x53b61f);_0x5330b4['set'](_0x6a21e1),self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0xc718d5,'order':_0x5330b4});}catch(_0x20fc6d){console['error'](':',_0x20fc6d),self['postMessag'+'e']({'type':'error','error':_0x20fc6d['message']});}_0x753363=!(0x1f92+-0x218a+0x5*0x65),_0x3f7a2e&&_0x1c5730();};}class H1 extends ce{constructor(_0x5b3729,_0x3d5c4f=!(-0x138f+0x11*-0x89+-0x1ca8*-0x1)){super(),c(this,'worker',null),c(this,'numSplats',0x1*-0x32d+-0x1ca+0x1f*0x29),c(this,'is4d',!(-0x14fd+0xe29+0x6d4)),c(this,'sortStartT'+'ime',0x1*0x1a0a+-0x249b*0x1+-0xa91*-0x1),c(this,'orderTextu'+'re'),(this['numSplats']=_0x5b3729,this['is4d']=_0x3d5c4f,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+G1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x32407c=>{if(!this['worker'])return;const {data:_0x281d81}=_0x32407c;switch(_0x281d81['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':if(_0x281d81['order']){const _0x4ff17d=this['orderTextu'+'re']['lock']();new Uint32Array(_0x4ff17d['buffer'])['set'](_0x281d81['order']),this['orderTextu'+'re']['unlock']();}let _0x1cb8f7=0x2b*0x9e+-0x73*0xe+-0x510*0x4;this['sortStartT'+'ime']!==0x15f0+0x4*0x29f+0x206c*-0x1&&(_0x1cb8f7=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x32407c['data']['count'],_0x1cb8f7),this['sortStartT'+'ime']=0x140*0x8+-0x1ae9+0x10e9;break;case'error':console['error']('Worker:',_0x281d81['error']),this['fire']('error',_0x281d81['error']);break;}};const _0x57918b=('https://4dv-frontend.oss-cn-hangzhou.aliyuncs.com/dist/viewer/1748318561813/sorter.wasm');this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':_0x57918b,'numSplats':this['numSplats'],'is4d':this['is4d']});}['initData'](_0x59d83b,_0x1fe242,_0x4aa018,_0xd5dffe,_0x3afe4d,_0x34e2d3,_0x13d8d0){var _0x164cd6;(!_0x13d8d0||_0x13d8d0['length']===0x1b*-0x119+0xd96+0x24b*0x7)&&(_0x13d8d0=[-0xb15*0x1+-0x3*0x9f7+0x28fa,0x16ff+-0x26*-0x8b+-0x7*0x633]),this['orderTextu'+'re']=_0x59d83b,(_0x164cd6=this['worker'])==null||_0x164cd6['postMessag'+'e']({'type':'initData','centers':_0x1fe242,'muT':_0x4aa018,'tScale':_0xd5dffe,'motion':_0x3afe4d,'timeIndex':_0x34e2d3,'timeOption':_0x13d8d0,'dataReady':!(-0x3*0x5cf+-0x2337+0x34a4)});}['resize'](_0x238616){this['destroy'](),this['numSplats']=_0x238616,this['_initWorke'+'r']();}['setCamera'](_0x37ae4e,_0x3842c6){this['worker']&&(this['sortStartT'+'ime']===-0x17d0+-0x96c*0x2+0x2aa8&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x37ae4e['x'],'y':_0x37ae4e['y'],'z':_0x37ae4e['z']},'cameraDirection':{'x':_0x3842c6['x'],'y':_0x3842c6['y'],'z':_0x3842c6['z']}}));}['setCurrent'+'Time'](_0x1d77d6){this['worker']&&(this['sortStartT'+'ime']===-0x1055*0x1+-0xa7b+-0x23c*-0xc&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x1d77d6}));}['setUseTemp'+'oralSort'](_0x25be55){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x25be55});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const W1=new q(),On=new T(),kn=new T(),Gl=[-0x1b7b*-0x1+0x13e4+-0x2f5f,-0x111d+0xc7d*0x3+-0xa2d*0x2];class Np{constructor(_0x3c8d1c,_0x5cc02b){c(this,'splat'),c(this,'mesh'),c(this,'meshInstan'+'ce'),c(this,'material'),c(this,'orderTextu'+'re'),c(this,'options',{}),c(this,'sorter',null),c(this,'time',-0x1941+-0x2b*-0x52+0xb7b),c(this,'lastCamera'+'Position',new T()),c(this,'lastCamera'+'Direction',new T()),c(this,'cameras',[]),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x3c8d1c['numSplats']),this['splat']=_0x3c8d1c,this['options']=Object['assign'](this['options'],_0x5cc02b));const _0x1de396=_0x3c8d1c['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x15883a=-0x149*-0x13+-0x2096+0x8ab,_0x49bfc2=Math['ceil'](_0x3c8d1c['numSplats']/_0x15883a)*_0x15883a/_0x15883a,_0x328a2a=new Uint32Array(_0x49bfc2);for(let _0x7844ed=-0x1dd*-0x9+0xb3*-0x12+-0x42f;_0x7844ed<_0x49bfc2;++_0x7844ed)_0x328a2a[_0x7844ed]=_0x7844ed*_0x15883a;const _0x1784db=new Et(_0x1de396,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(-0x1cc0+0x1a07+0x29*0x11)}]),_0x4409e7=new os(_0x1de396,_0x1784db,_0x49bfc2,{'usage':jt,'data':_0x328a2a['buffer']}),_0x48276b=new Float32Array((0xa40*-0x1+-0x117+0xb63)*_0x15883a),_0x2ad264=new Uint32Array((0x2351+0x886+0x3*-0xe9b)*_0x15883a);for(let _0x58c5c8=0x1a9d+0x24aa+0xa7*-0x61;_0x58c5c8<_0x15883a;++_0x58c5c8){_0x48276b['set']([-(-0x63d*0x4+-0x198b+0xca0*0x4),-(0x26b*-0xb+0x7*-0x28a+0x2c60),_0x58c5c8,-0x26f9+0x2*0x80d+0x20*0xb7,-(-0x14cf*0x1+-0x1eb3+0x3383),_0x58c5c8,0x2f7*-0xb+0x112d*-0x2+0x42f8,0x76*0x33+0xfd1+0x1*-0x2752,_0x58c5c8,-(-0x12*-0x13e+-0x1*0x714+-0xf47*0x1),0x1*0x17ea+-0xc4c+-0xb9d,_0x58c5c8],_0x58c5c8*(-0x1*0x935+-0x69d*-0x3+-0xa96));const _0xa29353=_0x58c5c8*(0xa6*-0x4+-0x1*-0x191b+-0x167f);_0x2ad264['set']([-0x53*0x65+-0x12f2+0x33b1+_0xa29353,0xcbf+-0x268*-0x5+-0x18c6+_0xa29353,-0x2fc*0x8+0x23*-0x10f+0x3cef+_0xa29353,0xcbe+-0x14*0x161+-0x6*-0x279+_0xa29353,0xe*-0x152+-0x1bad+0x2e2b+_0xa29353,0x253a+-0x1d8b+-0x7ac+_0xa29353],_0x58c5c8*(-0xa7c+0x2*0xef4+-0x1366));}const _0xeeb9ee=new Ie(_0x1de396);_0xeeb9ee['setPositio'+'ns'](_0x48276b,0x23c6*0x1+0xadd*0x2+-0x397d),_0xeeb9ee['setIndices'](_0x2ad264),_0xeeb9ee['update'](),this['mesh']=_0xeeb9ee,this['mesh']['aabb']['copy'](_0x3c8d1c['aabb']),this['meshInstan'+'ce']=new Le(this['mesh'],this['material']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x4409e7,!(0x10c6+-0x3b4*0x4+0x1f6*-0x1)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=0x269f*0x1+-0xa01+-0x29a*0xb,(!_0x5cc02b['dither']||_0x5cc02b['dither']===Rs)&&(this['sorter']=new H1(this['splat']['numSplats'],this['splat']['is4D']),this['sorter']['on']('initialize'+'d',()=>{var _0x588299;(_0x588299=this['sorter'])==null||_0x588299['initData'](this['orderTextu'+'re'],_0x3c8d1c['centers'],_0x3c8d1c['muT'],_0x3c8d1c['tScale'],_0x3c8d1c['motion'],_0x3c8d1c['timeIndex'],_0x3c8d1c['timeOption']);}),this['sorter']['on']('updated',_0x3499d7=>{this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x3499d7/_0x15883a),this['material']['setParamet'+'er']('numSplats',_0x3499d7);}));}['updateData'](_0x56f58c){var _0x11bac8;console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplatIns'+'tance',_0x56f58c['numSplats']),this['splat']=_0x56f58c;const _0x462b95=_0x56f58c['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x1ad910=0x9b*0xa+-0x1*0x1351+0xdc3,_0x5e0b5b=Math['ceil'](_0x56f58c['numSplats']/_0x1ad910)*_0x1ad910/_0x1ad910,_0x14ea86=new Uint32Array(_0x5e0b5b);for(let _0x2d252e=0x9cf+0x7*-0x83+0x63a*-0x1;_0x2d252e<_0x5e0b5b;++_0x2d252e)_0x14ea86[_0x2d252e]=_0x2d252e*_0x1ad910;const _0x43ec10=new Et(_0x462b95,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(0x3*-0xaf5+-0x67f*0x3+-0x1174*-0x3)}]),_0x364d21=new os(_0x462b95,_0x43ec10,_0x5e0b5b,{'usage':jt,'data':_0x14ea86['buffer']});this['mesh']['aabb']['copy'](_0x56f58c['aabb']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x364d21,!(-0x1a47+0xbc9+0xe7e)),this['meshInstan'+'ce']['instancing'+'Count']=0x13*-0xd3+-0x812+0x4bf*0x5,(_0x11bac8=this['sorter'])==null||_0x11bac8['resize'](_0x56f58c['numSplats']);}['releaseSeq'](_0x56caa1){console['log']('____\x20ENGIN'+'E\x20IVAN','releaseSeq',_0x56caa1);}['destroy'](){var _0x179159,_0x509700,_0x183746;(_0x179159=this['material'])==null||_0x179159['destroy'](),(_0x509700=this['meshInstan'+'ce'])==null||_0x509700['destroy'](),(_0x183746=this['sorter'])==null||_0x183746['destroy']();}['clone'](){return new Np(this['splat'],this['options']);}['createMate'+'rial'](_0x9f23d5){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.crea'+'teMaterial'),this['material']=this['splat']['createMate'+'rial'](_0x9f23d5),this['material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=this['material']);}['updateView'+'port'](){const _0x501163=this['splat']['device'];if(Gl[-0x112*0x20+-0x23c7+0x4607]=_0x501163['width'],Gl[0x8e*-0xb+0x6f6+0x3*-0x49]=_0x501163['height'],this['cameras']['length']>0x1c90+0x588+-0x2218){const _0x19e974=this['cameras'][-0x1fda+0x1588+0xa52]['xr'];_0x19e974&&_0x19e974['active']&&_0x19e974['views']['list']['length']===0x161d+-0x1f47+-0x1*-0x92c&&(Gl[-0x1c11+0x2*-0xc2f+0x346f]/=-0x1*0x51b+0x28d*0xf+-0x2126);}this['material']['setParamet'+'er']('viewport',Gl);}['sort'](_0x59ab50){if(this['sorter']){this['sorter']['setCurrent'+'Time'](this['time']);const _0x4b77d8=_0x59ab50['getWorldTr'+'ansform']();_0x4b77d8['getTransla'+'tion'](On),_0x4b77d8['getZ'](kn);const _0x461a35=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0xd24d99=W1['invert'](_0x461a35);_0xd24d99['transformP'+'oint'](On,On),_0xd24d99['transformV'+'ector'](kn,kn),(!On['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!kn['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](On),this['lastCamera'+'Direction']['copy'](kn),this['sorter']['setCamera'](On,kn));}this['updateView'+'port']();}['update'](){if(this['cameras']['length']>-0x1*-0x3df+-0x1d87+-0x66a*-0x4){const _0xb2f826=this['cameras'][-0x15c3+-0xab1+0x2074];this['sort'](_0xb2f826['_node']),this['cameras']['length']=0xc7*-0x3+-0x2*0xc61+0x1b17*0x1;}}['updateTime'](_0x31a886){this['time']=_0x31a886;}}const $1='FILL_WINDO'+'W',V_='KEEP_ASPEC'+'T',G_='AUTO',q1='FIXED';let U0;function tn(){return U0;}function qu(_0x2a3fa1){U0=_0x2a3fa1;}class X1{constructor(){c(this,'renderPass'+'es',[]),c(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x4d171a){v['assert'](_0x4d171a),_0x4d171a['frameUpdat'+'e']();const _0x241fd3=_0x4d171a['beforePass'+'es'];for(let _0x4c35f3=0x60+0x955+-0x9b5*0x1;_0x4c35f3<_0x241fd3['length'];_0x4c35f3++){const _0x2385a6=_0x241fd3[_0x4c35f3];_0x2385a6['enabled']&&this['addRenderP'+'ass'](_0x2385a6);}_0x4d171a['enabled']&&this['renderPass'+'es']['push'](_0x4d171a);const _0xcd4a31=_0x4d171a['afterPasse'+'s'];for(let _0x2ea2f6=0xf*-0x255+0x89*-0x15+0x2e38;_0x2ea2f6<_0xcd4a31['length'];_0x2ea2f6++){const _0x3732aa=_0xcd4a31[_0x2ea2f6];_0x3732aa['enabled']&&this['addRenderP'+'ass'](_0x3732aa);}}['reset'](){this['renderPass'+'es']['length']=0x393+-0x67*0x5f+-0x1153*-0x2;}['compile'](){const _0x177a64=this['renderTarg'+'etMap'],_0x5a7230=this['renderPass'+'es'];for(let _0x5f1f36=-0x1d31+0x4ae*-0x5+-0x1*-0x3497;_0x5f1f36<_0x5a7230['length'];_0x5f1f36++){const _0x253502=_0x5a7230[_0x5f1f36],_0x494e52=_0x253502['renderTarg'+'et'];if(_0x494e52!==void(-0x19d9+0x121f+-0x3dd*-0x2)){const _0x1258df=_0x177a64['get'](_0x494e52);if(_0x1258df){const _0x248f41=_0x253502['colorArray'+'Ops']['length'];for(let _0x1d258d=-0x1ac3+-0xaa5*-0x1+-0x101e*-0x1;_0x1d258d<_0x248f41;_0x1d258d++)_0x253502['colorArray'+'Ops'][_0x1d258d]['clear']||(_0x1258df['colorArray'+'Ops'][_0x1d258d]['store']=!(-0x2*-0xad5+-0x17dd+0x233));_0x253502['depthStenc'+'ilOps']['clearDepth']||(_0x1258df['depthStenc'+'ilOps']['storeDepth']=!(-0x1a31+0x187e*0x1+0x1b3)),_0x253502['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x1258df['depthStenc'+'ilOps']['storeStenc'+'il']=!(0x1*-0x541+0x22ea+-0x1da9));}_0x177a64['set'](_0x494e52,_0x253502);}}for(let _0x2d3098=0xe26+-0x19ee+0x68*0x1d;_0x2d3098<_0x5a7230['length']-(0x9*0x39a+-0x2454+0x3eb*0x1);_0x2d3098++){const _0x4c6196=_0x5a7230[_0x2d3098],_0x5a99fd=_0x4c6196['renderTarg'+'et'],_0x21c250=_0x5a7230[_0x2d3098+(0x71*0x13+-0x61*0x4d+0x14cb)],_0xf5aa03=_0x21c250['renderTarg'+'et'];_0x5a99fd!==_0xf5aa03||_0x5a99fd===void(0x1811+-0x13*-0xbf+0x37*-0xb2)||_0x21c250['depthStenc'+'ilOps']['clearDepth']||_0x21c250['depthStenc'+'ilOps']['clearStenc'+'il']||_0x21c250['colorArray'+'Ops']['some'](_0xc17370=>_0xc17370['clear'])||_0x4c6196['afterPasse'+'s']['length']>0x5fe+-0x343+-0x2bb||_0x21c250['beforePass'+'es']['length']>-0x1*0x18df+-0x1df*0x5+0x2a2*0xd||(_0x4c6196['_skipEnd']=!(-0x1264+0x1*-0x1c81+0x23*0x157),_0x21c250['_skipStart']=!(0x61*0x5d+-0x171a+-0xc23));}let _0x2fcbf6=null,_0x58ff07=null;for(let _0x55b0d5=0x1*0x17f7+0x11*0x1b3+-0x34da;_0x55b0d5<_0x5a7230['length'];_0x55b0d5++){const _0xd00951=_0x5a7230[_0x55b0d5],_0x28546a=_0xd00951['renderTarg'+'et'],_0x2d2069=_0x28546a==null?void(-0xdcd*-0x1+-0x1*0x2093+0x12c6):_0x28546a['colorBuffe'+'r'];if(_0x2d2069!=null&&_0x2d2069['cubemap']){if(_0x2fcbf6===_0x2d2069){const _0x2ceb77=_0x58ff07['colorArray'+'Ops']['length'];for(let _0x235064=-0x139f+0x1343+0x5c;_0x235064<_0x2ceb77;_0x235064++)_0x58ff07['colorArray'+'Ops'][_0x235064]['mipmaps']=!(-0x264e+0x4ae*-0x1+-0x1f*-0x163);}_0x2fcbf6=_0x28546a['colorBuffe'+'r'],_0x58ff07=_0xd00951;}else _0xd00951['requiresCu'+'bemaps']&&(_0x2fcbf6=null,_0x58ff07=null);}_0x177a64['clear']();}['render'](_0x444b27){this['compile']();const _0x4c6b8b=this['renderPass'+'es'];for(let _0x4f65ec=-0x1291+-0x1c09*0x1+0x2e9a;_0x4f65ec<_0x4c6b8b['length'];_0x4f65ec++)_0x4c6b8b[_0x4f65ec]['render']();}}class j1{constructor(_0x1dca1c,_0x1cb024){this['texture0']=_0x1dca1c,this['texture1']=_0x1cb024;}['destroy'](){var _0x13e74a,_0x39ec27;(_0x13e74a=this['texture0'])==null||_0x13e74a['destroy'](),(_0x39ec27=this['texture1'])==null||_0x39ec27['destroy']();}}const H_=new Ot();class $r{static['createText'+'ure'](_0x20ced1,_0x1f92eb,_0x4e92d6,_0x2ea638=''){return new he(_0x20ced1,{'name':'AreaLightL'+'UT'+_0x2ea638,'width':_0x4e92d6,'height':_0x4e92d6,'format':_0x1f92eb,'addressU':ae,'addressV':ae,'type':Di,'magFilter':st,'minFilter':de,'anisotropy':0x1,'mipmaps':!(-0x197+-0xffd+-0x1195*-0x1)});}static['applyTextu'+'res'](_0x125e8e,_0x3ba117,_0x31e386){H_['remove'](_0x125e8e),H_['get'](_0x125e8e,()=>new j1(_0x3ba117,_0x3ba117===_0x31e386?null:_0x31e386)),_0x125e8e['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x3ba117),_0x125e8e['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x31e386);}static['createPlac'+'eholder'](_0x44e72f){const _0x2189d8=$r['createText'+'ure'](_0x44e72f,Je,-0x1d6a+0x3*0x59+0x5*0x5ad,'placeholde'+'r');_0x2189d8['lock']()['fill'](0x232b+-0x26cc+-0x3a1*-0x1),_0x2189d8['unlock'](),$r['applyTextu'+'res'](_0x44e72f,_0x2189d8,_0x2189d8);}static['set'](_0xb9852f,_0x1a2545,_0x490131){function _0x481b98(_0x2ead8c,_0x451f07,_0x4776ae){const _0x48a1fe=$r['createText'+'ure'](_0x2ead8c,_0x4776ae,-0x2573+-0x22c8+0x487b);return _0x48a1fe['lock']()['set'](_0x451f07),_0x48a1fe['unlock'](),_0x48a1fe;}function _0x349fb0(_0x17521b){const _0x1b14ed=_0x17521b['length'],_0x4f475e=new Uint16Array(_0x1b14ed),_0x51aa6e=Wt['float2Half'];for(let _0x3b02a9=0x86e+0x1452+0x4*-0x730;_0x3b02a9<_0x1b14ed;_0x3b02a9++)_0x4f475e[_0x3b02a9]=_0x51aa6e(_0x17521b[_0x3b02a9]);return _0x4f475e;}const _0x464db4=_0x1a2545,_0xd57076=_0x490131,_0x5e64bf=_0x349fb0(_0x464db4),_0x347947=_0x349fb0(_0xd57076),_0x5b450f=_0x481b98(_0xb9852f,_0x5e64bf,Je),_0x1e08e6=_0x481b98(_0xb9852f,_0x347947,Je);$r['applyTextu'+'res'](_0xb9852f,_0x5b450f,_0x1e08e6);}}const Wh='en-US',$h={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},zp={};function pr(_0x7c8615,_0x5bed91){for(let _0x27ed22=-0x9*-0xde+0x16db+-0x1*0x1ea9,_0x5a7723=_0x7c8615['length'];_0x27ed22<_0x5a7723;_0x27ed22++)zp[_0x7c8615[_0x27ed22]]=_0x5bed91;}function pi(_0x18eee0){const _0x30d1ed=_0x18eee0['indexOf']('-');return _0x30d1ed!==-(0x3*-0x4d0+0x4be*0x1+0x9b3)?_0x18eee0['substring'](-0x77+-0x32c+-0x31*-0x13,_0x30d1ed):_0x18eee0;}function Y1(_0x48cc26,_0x3b057a){const _0x3e6d68=_0x48cc26['indexOf']('-');return _0x3e6d68!==-(-0x1a2f+-0x268f+-0x1*-0x40bf)?_0x3b057a+_0x48cc26['substring'](_0x3e6d68):_0x3b057a;}function V0(_0x2ab44a,_0x3d09a0){if(_0x3d09a0[_0x2ab44a])return _0x2ab44a;let _0x33a3c9=$h[_0x2ab44a];if(_0x33a3c9&&_0x3d09a0[_0x33a3c9])return _0x33a3c9;const _0x164065=pi(_0x2ab44a);return _0x33a3c9=$h[_0x164065],_0x3d09a0[_0x33a3c9]?_0x33a3c9:_0x3d09a0[_0x164065]?_0x164065:Wh;}pr(['ja','ko','th','vi','zh','id'],_0xfc211f=>0x1888+0x2342+-0x3bca),pr(['fa','hi'],_0x428d8a=>_0x428d8a>=-0x69d+-0xd2c+0x3f5*0x5&&_0x428d8a<=0x13*0x5f+0x9bf*-0x3+0x1631?-0x8*-0x2c2+-0x256e+0xf5e:0x63*0x7+-0xa*-0x218+-0x17a4),pr(['fr','pt'],_0x1ba39a=>_0x1ba39a>=0x1aa6+-0x25b3+0xb0d&&_0x1ba39a<0x26e6+0x9b3*0x3+-0x43fd?-0xe3*-0x2b+0x141*0xb+-0x1*0x33ec:0x2*-0x12fc+-0x101*0x3+0xac*0x3d),pr(['da'],_0x1242bd=>_0x1242bd===-0x5*0x76f+0x567*0x1+-0x3*-0xa97||!Number['isInteger'](_0x1242bd)&&_0x1242bd>=-0x1221+-0x51*-0x5d+-0xb4c&&_0x1242bd<=-0x152f+0x581*0x7+0xc1*-0x17?-0xf4*0x1f+0x7d9+0x37*0x65:-0x1bb5+-0x1d15+0x38cb),pr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x3aff36=>_0x3aff36===0x1153+0x2000+-0x6b*0x76?-0x59*-0x1+0x209*-0x5+-0x4ea*-0x2:-0x121e+0x1ddf+-0x2*0x5e0),pr(['ru','uk'],_0x4e4387=>{if(Number['isInteger'](_0x4e4387)){const _0x21a753=_0x4e4387%(-0x2*0xda3+0x1bb9+0x3*-0x23),_0x3f8bef=_0x4e4387%(-0x1011+0x14ad+-0x1e*0x24);if(_0x21a753===-0x761+0x2*0xe17+-0x14cc*0x1&&_0x3f8bef!==-0x2567+0x25b3+-0x5*0xd)return-0x78e*0x2+0x1f+0x4ff*0x3;if(_0x21a753>=0x3a9+0x2565+-0x290c&&_0x21a753<=-0x7*0x3fe+-0x24fc+0x40f2&&(_0x3f8bef<-0x14b9+0x48d+0x1038||_0x3f8bef>-0x103f+-0x95e+0x19ab))return-0x7*-0x10d+0x10a2+0x266*-0xa;if(_0x21a753===0x4*0xca+-0xcab+0x983||_0x21a753>=0x1f83*-0x1+-0x3*0x7c7+-0x109*-0x35&&_0x21a753<=-0x108+0x10c1*0x1+-0xfb0||_0x3f8bef>=-0x1c61+0x1ac+0x358*0x8&&_0x3f8bef<=0x2b5*-0x6+0x60e*0x1+0xa3e)return-0x65c+0x5*0x176+-0xf0;}return 0x1b1d+-0x151d+-0x5fd;}),pr(['pl'],_0x44eb16=>{if(Number['isInteger'](_0x44eb16)){if(_0x44eb16===-0x8*0x2c8+0x1f35+-0x8f4)return 0x11e8+0x1144+-0x232c;const _0x11b148=_0x44eb16%(-0x96+-0xb26+0xbc6),_0x39dc8f=_0x44eb16%(-0x8c*-0x40+-0x1ef2+0x43*-0xe);if(_0x11b148>=-0x5*-0x72b+-0x23e1+0xc&&_0x11b148<=-0x17a1+-0x18c2+0x3067&&(_0x39dc8f<-0x844+-0xf79+0x17c9||_0x39dc8f>0x68e*-0x4+-0x3*0x671+0x511*0x9))return 0xc1*-0xe+0xc45+-0x1b6;if(_0x11b148>=0xc*0x232+-0xb1a+-0x79f*0x2&&_0x11b148<=0x292+0x196d+-0x1*0x1bfe||_0x11b148>=-0x7*-0x22d+0x101f*-0x1+-0x1*-0xe9&&_0x11b148<=0x31b+-0x8*0x43a+0x1ebe||_0x39dc8f>=0x1c6*-0x2+-0x5d2+0x5*0x1e2&&_0x39dc8f<=0x490+-0x17cb*-0x1+-0x1c4d)return 0x1*-0x10b7+-0x166*0xd+0x22e7;}return-0xe4b*-0x1+-0x2*-0x10c7+-0x3*0xff2;}),pr(['ar'],_0x34fc19=>{if(_0x34fc19===0xd*0x1d8+-0xb2e+-0xcca)return 0x198e*0x1+0xc*-0x88+-0x132e;if(_0x34fc19===0xa41+-0x936*-0x1+-0x1376)return 0xc58+-0x16fe+0xaa7;if(_0x34fc19===0x63*-0x43+0x3ce+0x161d)return 0x1d8e+-0x1722+-0x2*0x335;if(Number['isInteger'](_0x34fc19)){const _0x2293c4=_0x34fc19%(-0x3*-0x117+-0x1*-0x4c1+0x2*-0x3d1);if(_0x2293c4>=0x1869+0x127a+-0x2ae0&&_0x2293c4<=-0x3d0+0x11f5+0x1*-0xe1b)return-0x7*0x29d+0x9f*0x13+-0x25*-0x2d;if(_0x2293c4>=0x2275*0x1+-0x43*-0x26+-0x2c5c&&_0x2293c4<=-0x11d1+0x23ea+0x1*-0x11b6)return 0xbf*-0x1f+0x7*-0x239+0x1*0x26b4;}return 0x1097+-0x151f+0x48d*0x1;});const K1=zp[pi(Wh)];function Xd(_0xc68e3a){return zp[_0xc68e3a]||K1;}const Da=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class Z1{constructor(_0x1a4e69='',_0x5ef15d='',_0x517d54=null,_0x4a4e84=null,_0x2ec014=null,_0x34edff=null){this['url']=_0x1a4e69,this['filename']=_0x5ef15d,this['hash']=_0x517d54,this['size']=_0x4a4e84,this['opt']=_0x2ec014,this['contents']=_0x34edff;}['equals'](_0x6849b6){return this['url']===_0x6849b6['url']&&this['filename']===_0x6849b6['filename']&&this['hash']===_0x6849b6['hash']&&this['size']===_0x6849b6['size']&&this['opt']===_0x6849b6['opt']&&this['contents']===_0x6849b6['contents'];}}let Q1=-(0x1c3f+0x1*0x1539+0x1*-0x3177);const J1={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},W_=['pvr','dxt','etc2','etc1','basis'];class le extends ce{constructor(_0x359372,_0xd935cd,_0x2282c2,_0x3acd8a,_0x38e10e){super(),this['_id']=Q1--,this['_name']=_0x359372||'',this['type']=_0xd935cd,this['tags']=new po(this),this['_preload']=!(0x1c60*-0x1+0xe39+-0x6*-0x25c),this['_file']=null,this['_data']=_0x3acd8a||{},this['options']=_0x38e10e||{},this['_resources']=[],this['urlObject']=null,this['_i18n']={},this['loaded']=!(0x1468+-0x23ca+0xf63),this['loading']=!(0x13*0x12b+0x1*-0xa22+-0xc0e),this['registry']=null,_0x2282c2&&(this['file']=_0x2282c2);}set['id'](_0x493f3a){this['_id']=_0x493f3a;}get['id'](){return this['_id'];}set['name'](_0x52b406){if(this['_name']===_0x52b406)return;const _0x3b3c84=this['_name'];this['_name']=_0x52b406,this['fire']('name',this,this['_name'],_0x3b3c84);}get['name'](){return this['_name'];}set['file'](_0x451a4a){var _0x100e0b,_0x260074;if(_0x451a4a&&_0x451a4a['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(-0x152c+-0x1*-0x1b7c+-0x1*0x64f)){const _0x1f1a00=((_0x260074=(_0x100e0b=this['registry'])==null?void(-0x1*-0xfb0+-0x1c07+0x9*0x15f):_0x100e0b['_loader'])==null?void(-0x9d5*-0x2+0x24fa*-0x1+0x1150):_0x260074['_app'])||tn(),_0x22f5df=_0x1f1a00==null?void(-0x1*0xd99+0x1e25+-0x161*0xc):_0x1f1a00['graphicsDe'+'vice'];if(_0x22f5df)for(let _0x5f1e1f=0x1*-0x25b7+0xd11+0x5*0x4ee,_0x58a44f=W_['length'];_0x5f1e1f<_0x58a44f;_0x5f1e1f++){const _0x121cf3=W_[_0x5f1e1f];if(_0x451a4a['variants'][_0x121cf3]&&_0x22f5df[J1[_0x121cf3]]){_0x451a4a=_0x451a4a['variants'][_0x121cf3];break;}if(_0x1f1a00['enableBund'+'les']){const _0x6edfa=_0x1f1a00['bundles']['listBundle'+'sForAsset'](this);if(_0x6edfa&&_0x6edfa['find'](_0x4cbdc5=>{var _0x1bd8c1;return(_0x1bd8c1=_0x4cbdc5==null?void(-0x74c*-0x2+-0x2*-0x57e+-0x1994):_0x4cbdc5['file'])==null?void(-0xa54*-0x2+-0x1bd1+0x729):_0x1bd8c1['variants'][_0x121cf3];}))break;}}}const _0xc0f90d=this['_file'],_0x141aa0=_0x451a4a?new Z1(_0x451a4a['url'],_0x451a4a['filename'],_0x451a4a['hash'],_0x451a4a['size'],_0x451a4a['opt'],_0x451a4a['contents']):null;(!!_0x141aa0!=!!_0xc0f90d||_0x141aa0&&!_0x141aa0['equals'](_0xc0f90d))&&(this['_file']=_0x141aa0,this['fire']('change',this,'file',_0x141aa0,_0xc0f90d),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x1962bf){const _0x2afb8d=this['_data'];this['_data']=_0x1962bf,_0x1962bf!==_0x2afb8d&&(this['fire']('change',this,'data',_0x1962bf,_0x2afb8d),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x129217){const _0x2f1b95=this['_resources'][-0x9d9*0x2+-0x13*0xb0+0x7*0x4ae];this['_resources'][-0x1*-0x628+-0x78b+0x163]=_0x129217,this['fire']('change',this,'resource',_0x129217,_0x2f1b95);}get['resource'](){return this['_resources'][-0x207c+0x1*0x19d2+-0x1*-0x6aa];}set['resources'](_0x4508c9){const _0x38c937=this['_resources'];this['_resources']=_0x4508c9,this['fire']('change',this,'resources',_0x4508c9,_0x38c937);}get['resources'](){return this['_resources'];}set['preload'](_0x2d26e0){_0x2d26e0=!!_0x2d26e0,this['_preload']!==_0x2d26e0&&(this['_preload']=_0x2d26e0,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x25540e){_0x25540e=!!_0x25540e,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x25540e!==this['_loadFaces'])&&(this['_loadFaces']=_0x25540e,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x28ba69=this['file'];if(!_0x28ba69||!_0x28ba69['url'])return null;let _0x24b01c=_0x28ba69['url'];if(this['registry']&&this['registry']['prefix']&&!Da['test'](_0x24b01c)&&(_0x24b01c=this['registry']['prefix']+_0x24b01c),this['type']!=='script'&&_0x28ba69['hash']){const _0x1818c4=_0x24b01c['indexOf']('?')!==-(-0x8cc+-0x1a2c+0x22f9)?'&':'?';_0x24b01c+=_0x1818c4+'t='+_0x28ba69['hash'];}return _0x24b01c;}['getAbsolut'+'eUrl'](_0x2908a6){if(_0x2908a6['startsWith']('blob:')||_0x2908a6['startsWith']('data:'))return _0x2908a6;const _0x4740aa=fe['getDirecto'+'ry'](this['file']['url']);return fe['join'](_0x4740aa,_0x2908a6);}['getLocaliz'+'edAssetId'](_0x1a3792){return _0x1a3792=V0(_0x1a3792,this['_i18n']),this['_i18n'][_0x1a3792]||null;}['addLocaliz'+'edAssetId'](_0x5c880a,_0x4ff602){this['_i18n'][_0x5c880a]=_0x4ff602,this['fire']('add:locali'+'zed',_0x5c880a,_0x4ff602);}['removeLoca'+'lizedAsset'+'Id'](_0x58b72a){const _0xaaa0a5=this['_i18n'][_0x58b72a];_0xaaa0a5&&(delete this['_i18n'][_0x58b72a],this['fire']('remove:loc'+'alized',_0x58b72a,_0xaaa0a5));}['ready'](_0x3bfc1f,_0x30c7d7){_0x30c7d7=_0x30c7d7||this,this['loaded']?_0x3bfc1f['call'](_0x30c7d7,this):this['once']('load',_0x123439=>{_0x3bfc1f['call'](_0x30c7d7,_0x123439);});}['reload'](){this['loaded']&&(this['loaded']=!(-0x299+0x89d+-0x603),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===-0x105+0x1a7*0x13+-0x51*0x60)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x2d8d0e=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(-0x1*-0x2425+-0x64c+-0x1dd8),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x5cf063=0x1*0x1f05+-0xe*-0x2ad+-0x447b;_0x5cf063<_0x2d8d0e['length'];++_0x5cf063){const _0x1f373d=_0x2d8d0e[_0x5cf063];_0x1f373d&&_0x1f373d['destroy']&&_0x1f373d['destroy']();}}static['fetchArray'+'Buffer'](_0x19fdd5,_0xf14e37,_0xab13e7,_0x152834=-0x53*-0x39+-0x23d5+0x115a){var _0x5dee1c;(_0x5dee1c=_0xab13e7==null?void(-0x2*-0x314+-0x2602+0x1b*0x12e):_0xab13e7['file'])!=null&&_0x5dee1c['contents']?setTimeout(()=>{_0xf14e37(null,_0xab13e7['file']['contents']);}):$e['get'](_0x19fdd5,{'cache':!(0xa41+0x2*0x31d+-0x107b),'responseType':'arraybuffe'+'r','retry':_0x152834>-0x1a4e+0x1*-0x4ed+-0xcd*-0x27,'maxRetries':_0x152834},_0xf14e37);}}c(le,'EVENT_LOAD','load'),c(le,'EVENT_UNLO'+'AD','unload'),c(le,'EVENT_REMO'+'VE','remove'),c(le,'EVENT_ERRO'+'R','error'),c(le,'EVENT_CHAN'+'GE','change'),c(le,'EVENT_PROG'+'RESS','progress'),c(le,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),c(le,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class eP{constructor(_0x1d2ab3=null){c(this,'_index',{}),c(this,'_key'),this['_key']=_0x1d2ab3;}['addItem'](_0x17e2fc){const _0x310795=_0x17e2fc['tags']['_list'];for(const _0x5d878c of _0x310795)this['add'](_0x5d878c,_0x17e2fc);}['removeItem'](_0x469ab1){const _0xf63c=_0x469ab1['tags']['_list'];for(const _0x196a48 of _0xf63c)this['remove'](_0x196a48,_0x469ab1);}['add'](_0x3e4ddb,_0x413468){this['_index'][_0x3e4ddb]&&this['_index'][_0x3e4ddb]['list']['indexOf'](_0x413468)!==-(0x25e4+0x1f6b+-0x454e)||(this['_index'][_0x3e4ddb]||(this['_index'][_0x3e4ddb]={'list':[]},this['_key']&&(this['_index'][_0x3e4ddb]['keys']={})),this['_index'][_0x3e4ddb]['list']['push'](_0x413468),this['_key']&&(this['_index'][_0x3e4ddb]['keys'][_0x413468[this['_key']]]=_0x413468));}['remove'](_0x541873,_0x418731){if(!this['_index'][_0x541873]||this['_key']&&!this['_index'][_0x541873]['keys'][_0x418731[this['_key']]])return;const _0x2c8a69=this['_index'][_0x541873]['list']['indexOf'](_0x418731);_0x2c8a69!==-(-0x12bb+-0x2206+-0x34c2*-0x1)&&(this['_index'][_0x541873]['list']['splice'](_0x2c8a69,-0x170+0x1887+-0x3*0x7b2),this['_key']&&delete this['_index'][_0x541873]['keys'][_0x418731[this['_key']]],this['_index'][_0x541873]['list']['length']===0x11b*-0x15+-0x175c+0x2e93*0x1&&delete this['_index'][_0x541873]);}['find'](_0x4004e4){const _0x12d8d0={},_0x33246e=[];let _0x37924d,_0x1f36df,_0x3a0d4f,_0x4f6712,_0x5e9325;const _0x41e218=(_0x1ae0b8,_0x5d66a1)=>this['_index'][_0x1ae0b8]['list']['length']-this['_index'][_0x5d66a1]['list']['length'];for(let _0x5571fb=0x1702+-0xef9+-0xbb*0xb;_0x5571fb<_0x4004e4['length'];_0x5571fb++){if(_0x1f36df=_0x4004e4[_0x5571fb],_0x1f36df instanceof Array){if(_0x1f36df['length']===0x57*0x12+0xfc4+-0x15e2)continue;if(_0x1f36df['length']===-0x1370+-0xe6*0x1+0x1457)_0x1f36df=_0x1f36df[-0x9*-0x2e9+-0x13d1+-0x1*0x660];else{_0x5e9325=!(0x2f*-0x4+-0xcdd+0xd9a);for(let _0xd7863b=-0x45d*0x5+0x18ac*-0x1+0x1*0x2e7d;_0xd7863b<_0x1f36df['length'];_0xd7863b++)if(!this['_index'][_0x1f36df[_0xd7863b]]){_0x5e9325=!(0x17*0xbd+0x2127+0x2c9*-0x12);break;}if(_0x5e9325)continue;_0x3a0d4f=_0x1f36df['slice'](-0x16ef+0x179f*-0x1+0x2e8e)['sort'](_0x41e218),_0x4f6712=_0x3a0d4f['slice'](-0x1ff1+0x8af+0x1743*0x1),_0x4f6712['length']===0x49*-0x5f+0x1*0x1b1d+0x1*-0x5&&(_0x4f6712=_0x4f6712[0x878*0x1+-0x2603+0x9d9*0x3]);for(let _0x1c3477=0xe7b+-0x1*-0x1a03+-0x287e;_0x1c3477<this['_index'][_0x3a0d4f[0x132d+-0x1805+0x4d8]]['list']['length'];_0x1c3477++)_0x37924d=this['_index'][_0x3a0d4f[-0xa87+-0x1b25+0x25ac]]['list'][_0x1c3477],(this['_key']?!_0x12d8d0[_0x37924d[this['_key']]]:_0x33246e['indexOf'](_0x37924d)===-(-0xc*-0x63+0x1477+-0x191a))&&_0x37924d['tags']['has'](_0x4f6712)&&(this['_key']&&(_0x12d8d0[_0x37924d[this['_key']]]=!(-0x1301+0x16f5+-0xb*0x5c)),_0x33246e['push'](_0x37924d));continue;}}if(_0x1f36df&&typeof _0x1f36df=='string'&&this['_index'][_0x1f36df]){for(let _0x5deb8c=0x203c+-0x2144+0x42*0x4;_0x5deb8c<this['_index'][_0x1f36df]['list']['length'];_0x5deb8c++)_0x37924d=this['_index'][_0x1f36df]['list'][_0x5deb8c],this['_key']?_0x12d8d0[_0x37924d[this['_key']]]||(_0x12d8d0[_0x37924d[this['_key']]]=!(-0x1*-0x787+0x1d69+-0x24f0),_0x33246e['push'](_0x37924d)):_0x33246e['indexOf'](_0x37924d)===-(0x53*-0x54+0x2171+-0x2*0x31a)&&_0x33246e['push'](_0x37924d);}}return _0x33246e;}}class ao extends ce{constructor(_0x51babe){super(),c(this,'_assets',new Set()),c(this,'_loader'),c(this,'_idToAsset',new Map()),c(this,'_urlToAsse'+'t',new Map()),c(this,'_nameToAss'+'et',new Map()),c(this,'_tags',new eP('_id')),c(this,'prefix',null),c(this,'bundles',null),this['_loader']=_0x51babe;}['list'](_0x77ace1={}){const _0x14e104=Array['from'](this['_assets']);return _0x77ace1['preload']!==void(0x2243+0x266f*0x1+-0x2459*0x2)?_0x14e104['filter'](_0x21eb49=>_0x21eb49['preload']===_0x77ace1['preload']):_0x14e104;}['add'](_0x251c0b){var _0x261e9b,_0x27f8a5;this['_assets']['has'](_0x251c0b)||(this['_assets']['add'](_0x251c0b),this['_idToAsset']['set'](_0x251c0b['id'],_0x251c0b),(_0x261e9b=_0x251c0b['file'])!=null&&_0x261e9b['url']&&this['_urlToAsse'+'t']['set'](_0x251c0b['file']['url'],_0x251c0b),this['_nameToAss'+'et']['has'](_0x251c0b['name'])||this['_nameToAss'+'et']['set'](_0x251c0b['name'],new Set()),this['_nameToAss'+'et']['get'](_0x251c0b['name'])['add'](_0x251c0b),_0x251c0b['on']('name',this['_onNameCha'+'nge'],this),_0x251c0b['registry']=this,this['_tags']['addItem'](_0x251c0b),_0x251c0b['tags']['on']('add',this['_onTagAdd'],this),_0x251c0b['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x251c0b),this['fire']('add:'+_0x251c0b['id'],_0x251c0b),(_0x27f8a5=_0x251c0b['file'])!=null&&_0x27f8a5['url']&&this['fire']('add:url:'+_0x251c0b['file']['url'],_0x251c0b),_0x251c0b['preload']&&this['load'](_0x251c0b));}['remove'](_0x457fed){var _0x4778c2,_0x2a0fe7;if(!this['_assets']['has'](_0x457fed))return!(-0x2*-0x61f+-0x154*0x10+0x903);if(this['_assets']['delete'](_0x457fed),this['_idToAsset']['delete'](_0x457fed['id']),(_0x4778c2=_0x457fed['file'])!=null&&_0x4778c2['url']&&this['_urlToAsse'+'t']['delete'](_0x457fed['file']['url']),_0x457fed['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x457fed['name'])){const _0x20ae49=this['_nameToAss'+'et']['get'](_0x457fed['name']);_0x20ae49['delete'](_0x457fed),_0x20ae49['size']===0x680+0x13*-0xe5+0xa7f&&this['_nameToAss'+'et']['delete'](_0x457fed['name']);}return this['_tags']['removeItem'](_0x457fed),_0x457fed['tags']['off']('add',this['_onTagAdd'],this),_0x457fed['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x457fed['fire']('remove',_0x457fed),this['fire']('remove',_0x457fed),this['fire']('remove:'+_0x457fed['id'],_0x457fed),(_0x2a0fe7=_0x457fed['file'])!=null&&_0x2a0fe7['url']&&this['fire']('remove:url'+':'+_0x457fed['file']['url'],_0x457fed),!(-0x1a53*-0x1+0xa*-0x293+-0x95*0x1);}['get'](_0x4567f1){return this['_idToAsset']['get'](Number(_0x4567f1));}['getByUrl'](_0x1a41b4){return this['_urlToAsse'+'t']['get'](_0x1a41b4);}['load'](_0x2f76a7,_0xe4a62d){if((_0x2f76a7['loading']||_0x2f76a7['loaded'])&&!(_0xe4a62d!=null&&_0xe4a62d['force']))return;const _0x4ebd38=_0x2f76a7['file'],_0x532f07=()=>{this['fire']('load',_0x2f76a7),this['fire']('load:'+_0x2f76a7['id'],_0x2f76a7),_0x4ebd38&&_0x4ebd38['url']&&this['fire']('load:url:'+_0x4ebd38['url'],_0x2f76a7),_0x2f76a7['fire']('load',_0x2f76a7);},_0x18e180=_0x3c1611=>{if(_0x3c1611 instanceof Array?_0x2f76a7['resources']=_0x3c1611:_0x2f76a7['resource']=_0x3c1611,this['_loader']['patch'](_0x2f76a7,this),_0x2f76a7['type']==='bundle'){const _0x31d9ba=_0x2f76a7['data']['assets'];for(let _0x538460=0x1334+0x8af+-0x289*0xb;_0x538460<_0x31d9ba['length'];_0x538460++){const _0x456f6c=this['_idToAsset']['get'](_0x31d9ba[_0x538460]);_0x456f6c&&!_0x456f6c['loaded']&&this['load'](_0x456f6c,{'force':!(0x13c1+-0x2351+-0x4*-0x3e4)});}_0x2f76a7['resource']['loaded']?_0x532f07():(this['fire']('load:start',_0x2f76a7),this['fire']('load:start'+':'+_0x2f76a7['id'],_0x2f76a7),_0x4ebd38&&_0x4ebd38['url']&&this['fire']('load:start'+':url:'+_0x4ebd38['url'],_0x2f76a7),_0x2f76a7['fire']('load:start',_0x2f76a7),_0x2f76a7['resource']['on']('load',_0x532f07));}else _0x532f07();},_0x4ec24a=(_0x5379ae,_0x37d6fc,_0xa59e91)=>{if(_0x2f76a7['loaded']=!(0x78e+-0x1*0xe91+0x703),_0x2f76a7['loading']=!(0xaa2*-0x1+0xefa+0x65*-0xb),_0x5379ae)this['fire']('error',_0x5379ae,_0x2f76a7),this['fire']('error:'+_0x2f76a7['id'],_0x5379ae,_0x2f76a7),_0x2f76a7['fire']('error',_0x5379ae,_0x2f76a7);else{if(_0x2f76a7['type']==='script'){const _0x4ac029=this['_loader']['getHandler']('script');_0x4ac029['_cache'][_0x2f76a7['id']]&&_0x4ac029['_cache'][_0x2f76a7['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x4ac029['_cache'][_0x2f76a7['id']]),_0x4ac029['_cache'][_0x2f76a7['id']]=_0xa59e91;}_0x18e180(_0x37d6fc);}};if(_0x4ebd38||_0x2f76a7['type']==='cubemap'){this['fire']('load:start',_0x2f76a7),this['fire']('load:'+_0x2f76a7['id']+':start',_0x2f76a7),_0x2f76a7['loading']=!(-0x1430+-0x987+0x1db7);const _0x2ba8e3=_0x2f76a7['getFileUrl']();if(_0x2f76a7['type']==='bundle'){const _0x3377a4=_0x2f76a7['data']['assets'];for(let _0x25378d=0x1*0x1eb3+0x52*-0x25+-0x12d9;_0x25378d<_0x3377a4['length'];_0x25378d++){const _0x3aaaea=this['_idToAsset']['get'](_0x3377a4[_0x25378d]);_0x3aaaea&&(_0x3aaaea['loaded']||_0x3aaaea['resource']||_0x3aaaea['loading']||(_0x3aaaea['loading']=!(0x4*-0x689+0x15ac+0x478)));}}this['_loader']['load'](_0x2ba8e3,_0x2f76a7['type'],_0x4ec24a,_0x2f76a7,_0xe4a62d);}else{const _0x4722de=this['_loader']['open'](_0x2f76a7['type'],_0x2f76a7['data']);_0x2f76a7['loaded']=!(-0x21fa+-0x22e2+0x44dc),_0x18e180(_0x4722de);}}['loadFromUr'+'l'](_0x2c812d,_0x28e760,_0x5f5131){this['loadFromUr'+'lAndFilena'+'me'](_0x2c812d,null,_0x28e760,_0x5f5131);}['loadFromUr'+'lAndFilena'+'me'](_0x4c9cbf,_0x40efca,_0x500716,_0x2678b7){const _0xeec3ed=fe['getBasenam'+'e'](_0x40efca||_0x4c9cbf),_0x440aa0={'filename':_0x40efca||_0xeec3ed,'url':_0x4c9cbf};let _0xb2207e=this['getByUrl'](_0x4c9cbf);if(!_0xb2207e)_0xb2207e=new le(_0xeec3ed,_0x500716,_0x440aa0),this['add'](_0xb2207e);else{if(_0xb2207e['loaded']){_0x2678b7(_0xb2207e['loadFromUr'+'lError']||null,_0xb2207e);return;}}const _0x59fb9f=_0x45788c=>{_0x45788c['once']('load',_0x5a5a23=>{_0x500716==='material'?this['_loadTextu'+'res'](_0x5a5a23,(_0x15b528,_0x5a6698)=>{_0x2678b7(_0x15b528,_0x5a5a23);}):_0x2678b7(null,_0x5a5a23);}),_0x45788c['once']('error',_0x135cb9=>{_0x135cb9&&(this['loadFromUr'+'lError']=_0x135cb9),_0x2678b7(_0x135cb9,_0x45788c);}),this['load'](_0x45788c);};_0xb2207e['resource']?_0x2678b7(null,_0xb2207e):_0x500716==='model'?this['_loadModel'](_0xb2207e,_0x59fb9f):_0x59fb9f(_0xb2207e);}['_loadModel'](_0x3e80cf,_0x33bae0){const _0x30bf90=_0x3e80cf['getFileUrl'](),_0x2c93d9=fe['getExtensi'+'on'](_0x30bf90);if(_0x2c93d9==='.json'||_0x2c93d9==='.glb'){const _0x3e0fc0=fe['getDirecto'+'ry'](_0x30bf90),_0x5b0e1b=fe['getBasenam'+'e'](_0x30bf90),_0xe11ba8=fe['join'](_0x3e0fc0,_0x5b0e1b['replace'](_0x2c93d9,'.mapping.j'+'son'));this['_loader']['load'](_0xe11ba8,'json',(_0x37c3a4,_0x2448d8)=>{_0x37c3a4?(_0x3e80cf['data']={'mapping':[]},_0x33bae0(_0x3e80cf)):this['_loadMater'+'ials'](_0x3e80cf,_0x2448d8,(_0x2d2318,_0x26094a)=>{_0x3e80cf['data']=_0x2448d8,_0x33bae0(_0x3e80cf);});});}else _0x33bae0(_0x3e80cf);}['_loadMater'+'ials'](_0x3e5a4d,_0x4d6ad7,_0x543c16){const _0x2f129e=[];let _0x5df4e0=0x505+0x9*-0x88+-0x3d;const _0x8bc5a3=(_0x20982a,_0x248f4e)=>{this['_loadTextu'+'res'](_0x248f4e,(_0x101122,_0x1807ee)=>{_0x2f129e['push'](_0x248f4e),_0x2f129e['length']===_0x5df4e0&&_0x543c16(null,_0x2f129e);});};for(let _0x460d53=-0x1d98*0x1+0xc40+-0x5*-0x378;_0x460d53<_0x4d6ad7['mapping']['length'];_0x460d53++){const _0x4bf019=_0x4d6ad7['mapping'][_0x460d53]['path'];if(_0x4bf019){_0x5df4e0++;const _0xbf9dbe=_0x3e5a4d['getAbsolut'+'eUrl'](_0x4bf019);this['loadFromUr'+'l'](_0xbf9dbe,'material',_0x8bc5a3);}}_0x5df4e0===-0x103e+0x10*-0x23d+-0x1*-0x340e&&_0x543c16(null,_0x2f129e);}['_loadTextu'+'res'](_0x1db8cd,_0x338d07){const _0x1fd4c4=[];let _0x6f6a91=0xbbc*0x1+-0x4d7+-0x6e5;const _0x57f7e5=_0x1db8cd['data'];if(_0x57f7e5['mappingFor'+'mat']!=='path'){v['warn']('Skipping:\x20'+_0x1db8cd['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x338d07(null,_0x1fd4c4);return;}const _0x6fc741=(_0x46fa1f,_0x26be9e)=>{_0x46fa1f&&console['error'](_0x46fa1f),_0x1fd4c4['push'](_0x26be9e),_0x1fd4c4['length']===_0x6f6a91&&_0x338d07(null,_0x1fd4c4);},_0x52c6df=Kc;for(let _0xb897b4=-0x1*-0xf6b+0x2286+-0x31f1;_0xb897b4<_0x52c6df['length'];_0xb897b4++){const _0x5e042f=_0x57f7e5[_0x52c6df[_0xb897b4]];if(_0x5e042f&&typeof _0x5e042f=='string'){_0x6f6a91++;const _0x31e8c=_0x1db8cd['getAbsolut'+'eUrl'](_0x5e042f);this['loadFromUr'+'l'](_0x31e8c,'texture',_0x6fc741);}}_0x6f6a91===-0x1*0x150b+0x1e88+-0x7*0x15b&&_0x338d07(null,_0x1fd4c4);}['_onTagAdd'](_0x3e0ed2,_0xb67fb5){this['_tags']['add'](_0x3e0ed2,_0xb67fb5);}['_onTagRemo'+'ve'](_0xbf3f9e,_0x1e864c){this['_tags']['remove'](_0xbf3f9e,_0x1e864c);}['_onNameCha'+'nge'](_0x58a506,_0x10e58a,_0x4b647d){if(this['_nameToAss'+'et']['has'](_0x4b647d)){const _0x575cfd=this['_nameToAss'+'et']['get'](_0x4b647d);_0x575cfd['delete'](_0x58a506),_0x575cfd['size']===0x31*0x25+-0x5*0x655+0x34*0x79&&this['_nameToAss'+'et']['delete'](_0x4b647d);}this['_nameToAss'+'et']['has'](_0x58a506['name'])||this['_nameToAss'+'et']['set'](_0x58a506['name'],new Set()),this['_nameToAss'+'et']['get'](_0x58a506['name'])['add'](_0x58a506);}['findByTag'](..._0x54d4b5){return this['_tags']['find'](_0x54d4b5);}['filter'](_0x3cc673){return Array['from'](this['_assets'])['filter'](_0x173f30=>_0x3cc673(_0x173f30));}['find'](_0x180a4d,_0xb8f9a6){const _0x1bb8bc=this['_nameToAss'+'et']['get'](_0x180a4d);if(!_0x1bb8bc)return null;for(const _0x160ae4 of _0x1bb8bc)if(!_0xb8f9a6||_0x160ae4['type']===_0xb8f9a6)return _0x160ae4;return null;}['findAll'](_0x45ee7c,_0x5a56a5){const _0x2f0351=this['_nameToAss'+'et']['get'](_0x45ee7c);if(!_0x2f0351)return[];const _0x47bf0b=Array['from'](_0x2f0351);return _0x5a56a5?_0x47bf0b['filter'](_0x28bdb3=>_0x28bdb3['type']===_0x5a56a5):_0x47bf0b;}}c(ao,'EVENT_LOAD','load'),c(ao,'EVENT_ADD','add'),c(ao,'EVENT_REMO'+'VE','remove'),c(ao,'EVENT_ERRO'+'R','error');class tP{constructor(_0x19082a){c(this,'_idToBundl'+'e',new Map()),c(this,'_assetToBu'+'ndles',new Map()),c(this,'_urlsToBun'+'dles',new Map()),c(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x19082a,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x682538){if(_0x682538['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x682538['id'],_0x682538),this['_assets']['on']('load:start'+':'+_0x682538['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x682538['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x682538['id'],this['_onBundleE'+'rror'],this);const _0x236605=_0x682538['data']['assets'];for(let _0x34a4c9=0x312+0x2171+-0x2483;_0x34a4c9<_0x236605['length'];_0x34a4c9++)this['_indexAsse'+'tInBundle'](_0x236605[_0x34a4c9],_0x682538);}else this['_assetToBu'+'ndles']['has'](_0x682538['id'])&&this['_indexAsse'+'tFileUrls'](_0x682538);}['_unbindAss'+'etEvents'](_0x98d002){this['_assets']['off']('load:start'+':'+_0x98d002,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x98d002,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x98d002,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x59befa,_0x4d409e){let _0x2a1edc=this['_assetToBu'+'ndles']['get'](_0x59befa);_0x2a1edc||(_0x2a1edc=new Set(),this['_assetToBu'+'ndles']['set'](_0x59befa,_0x2a1edc)),_0x2a1edc['add'](_0x4d409e);const _0x567abe=this['_assets']['get'](_0x59befa);_0x567abe&&this['_indexAsse'+'tFileUrls'](_0x567abe);}['_indexAsse'+'tFileUrls'](_0x30d461){const _0x3071c1=this['_getAssetF'+'ileUrls'](_0x30d461);if(_0x3071c1)for(let _0xc09c14=0xec6+0x1090+-0x539*0x6;_0xc09c14<_0x3071c1['length'];_0xc09c14++){const _0x33545f=this['_assetToBu'+'ndles']['get'](_0x30d461['id']);_0x33545f&&this['_urlsToBun'+'dles']['set'](_0x3071c1[_0xc09c14],_0x33545f);}}['_getAssetF'+'ileUrls'](_0x219455){let _0x10e029=_0x219455['getFileUrl']();if(!_0x10e029)return null;_0x10e029=_0x10e029['split']('?')[0x37*0x97+0x22de+-0x434f];const _0x25e24c=[_0x10e029];if(_0x219455['type']==='font'){const _0x4c16bb=_0x219455['data']['info']['maps']['length'];for(let _0x53bf22=0x7*-0x45+-0x1c5c+0x1e40;_0x53bf22<_0x4c16bb;_0x53bf22++)_0x25e24c['push'](_0x10e029['replace']('.png',_0x53bf22+'.png'));}return _0x25e24c;}['_onAssetRe'+'move'](_0x42aa28){if(_0x42aa28['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x42aa28['id']),this['_unbindAss'+'etEvents'](_0x42aa28['id']);const _0x40d816=_0x42aa28['data']['assets'];for(let _0x2de94d=-0x2548+0x84f*0x1+0x1cf9;_0x2de94d<_0x40d816['length'];_0x2de94d++){const _0xa98c82=this['_assetToBu'+'ndles']['get'](_0x40d816[_0x2de94d]);if(_0xa98c82&&(_0xa98c82['delete'](_0x42aa28),_0xa98c82['size']===-0x25*0xc3+-0x8c2*-0x2+-0xaab*-0x1)){this['_assetToBu'+'ndles']['delete'](_0x40d816[_0x2de94d]);for(const [_0x899d50,_0x172968]of this['_urlsToBun'+'dles'])_0x172968===_0xa98c82&&this['_urlsToBun'+'dles']['delete'](_0x899d50);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x42aa28['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x42aa28['id']))return;this['_assetToBu'+'ndles']['delete'](_0x42aa28['id']);const _0x1a1d7e=this['_getAssetF'+'ileUrls'](_0x42aa28);if(!_0x1a1d7e)return;for(let _0xb1d9ff=0x3ca+-0xfe9+0x1d*0x6b;_0xb1d9ff<_0x1a1d7e['length'];_0xb1d9ff++)this['_urlsToBun'+'dles']['delete'](_0x1a1d7e[_0xb1d9ff]);}}['_onBundleL'+'oadStart'](_0x2d5160){_0x2d5160['resource']['on']('add',(_0x3c3323,_0x85d1a8)=>{const _0x250f46=this['_fileReque'+'sts']['get'](_0x3c3323);if(_0x250f46){for(let _0x458b2d=-0x3*-0x2bd+-0x1*-0x779+-0xfb0;_0x458b2d<_0x250f46['length'];_0x458b2d++)_0x250f46[_0x458b2d](null,_0x85d1a8);this['_fileReque'+'sts']['delete'](_0x3c3323);}});}['_onBundleL'+'oad'](_0x4cdc49){if(!_0x4cdc49['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x4cdc49['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0xf12e76,_0xb1af9]of this['_fileReque'+'sts']){const _0x23eaa9=this['_urlsToBun'+'dles']['get'](_0xf12e76);if(!_0x23eaa9||!_0x23eaa9['has'](_0x4cdc49))continue;const _0x2591da=decodeURIComponent(_0xf12e76);let _0x52e7c2,_0x482a34;if(_0x4cdc49['resource']['has'](_0x2591da))_0x482a34=_0x4cdc49['resource']['get'](_0x2591da);else{if(_0x4cdc49['resource']['loaded'])_0x52e7c2='Bundle\x20'+_0x4cdc49['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0xf12e76;else continue;}for(let _0x5959e1=0x23c1+0x6*0x30a+-0x35fd;_0x5959e1<_0xb1af9['length'];_0x5959e1++)_0xb1af9[_0x5959e1](_0x52e7c2,_0x52e7c2||_0x482a34);this['_fileReque'+'sts']['delete'](_0xf12e76);}}['_onBundleE'+'rror'](_0x33ee3b){for(const [_0x11d447,_0x35156b]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x11d447)){for(let _0x598cb7=-0x1636+-0x1c4a+0x65*0x80;_0x598cb7<_0x35156b['length'];_0x598cb7++)_0x35156b[_0x598cb7](_0x33ee3b);this['_fileReque'+'sts']['delete'](_0x11d447);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x2df60e){const _0x23972f=this['_urlsToBun'+'dles']['get'](_0x2df60e);if(!_0x23972f)return null;let _0xdbda8a=null;for(const _0x2ac393 of _0x23972f){if(_0x2ac393['loaded']&&_0x2ac393['resource'])return _0x2ac393;_0x2ac393['loading']&&(_0xdbda8a=_0x2ac393);}return _0xdbda8a;}['listBundle'+'sForAsset'](_0x1fd20a){const _0x3f5bde=this['_assetToBu'+'ndles']['get'](_0x1fd20a['id']);return _0x3f5bde?Array['from'](_0x3f5bde):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x2206d9){return this['_urlsToBun'+'dles']['has'](_0x2206d9);}['urlIsLoade'+'dOrLoading'](_0xcbd751){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0xcbd751);}['loadUrl'](_0xadc0e8,_0x150c3d){const _0x25e161=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0xadc0e8);if(!_0x25e161){_0x150c3d('URL\x20'+_0xadc0e8+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x25e161['loaded']){const _0x2cff03=decodeURIComponent(_0xadc0e8);if(_0x25e161['resource']['has'](_0x2cff03)){_0x150c3d(null,_0x25e161['resource']['get'](_0x2cff03));return;}else{if(_0x25e161['resource']['loaded']){_0x150c3d('Bundle\x20'+_0x25e161['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0xadc0e8);return;}}}let _0x2520ae=this['_fileReque'+'sts']['get'](_0xadc0e8);_0x2520ae||(_0x2520ae=[],this['_fileReque'+'sts']['set'](_0xadc0e8,_0x2520ae)),_0x2520ae['push'](_0x150c3d);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x549d60 of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x549d60);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class sP extends ce{constructor(){super(),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'joint'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'zone'),this['list']=[];}['add'](_0x5acfe9){const _0x1f4ff5=_0x5acfe9['id'];if(this[_0x1f4ff5])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x1f4ff5+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x1f4ff5]=_0x5acfe9,this['list']['push'](_0x5acfe9);}['remove'](_0x26d6dd){const _0x305c80=_0x26d6dd['id'];if(!this[_0x305c80])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x305c80+('\x27\x20register'+'ed'));delete this[_0x305c80];const _0x320135=this['list']['indexOf'](this[_0x305c80]);_0x320135!==-(0x2f*-0x39+-0x2338+0x2db0)&&this['list']['splice'](_0x320135,-0x617*-0x3+0x1ad+-0x13f1);}['destroy'](){this['off']();for(let _0x1edd0d=-0x1855+0x1*0x539+0x131c;_0x1edd0d<this['list']['length'];_0x1edd0d++)this['list'][_0x1edd0d]['destroy']();}}class Xu extends ce{constructor(){super(...arguments),c(this,'_index',new Map()),c(this,'_loaded',!(-0x6eb+-0x165f*-0x1+-0x5*0x317));}['addFile'](_0xdbd05,_0x2b8f81){this['_index']['has'](_0xdbd05)||(this['_index']['set'](_0xdbd05,_0x2b8f81),this['fire']('add',_0xdbd05,_0x2b8f81));}['has'](_0x2241f2){return this['_index']['has'](_0x2241f2);}['get'](_0x4d2f91){return this['_index']['get'](_0x4d2f91)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x2be7ef){!_0x2be7ef||this['_loaded']||(this['_loaded']=!(0x15a4+0x51a+-0x3*0x8ea),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}c(Xu,'EVENT_ADD','add'),c(Xu,'EVENT_LOAD','load');class iP extends ce{constructor(_0xab2c1f,_0x506e93=''){super(),c(this,'headerSize',-0xd1d+-0xe97+0x1db4*0x1),c(this,'paddingSiz'+'e',-0x3b0*-0x4+-0x1ec*0xd+0x4*0x30f),c(this,'bytesRead',-0xab5+0x1eb8+-0x1403),c(this,'bytesRecei'+'ved',-0xeb3+-0x236*0x5+-0x1*-0x19c1),c(this,'headerRead',!(0xe42+0x158e+0x1*-0x23cf)),c(this,'reader',null),c(this,'data',new Uint8Array(-0x12c+0x1bdc+-0x1ab0)),c(this,'decoder',null),c(this,'prefix',''),c(this,'fileName',''),c(this,'fileSize',0x2*0xebb+-0x2*0xb3e+-0x6fa),c(this,'fileType',''),c(this,'ustarForma'+'t',''),(this['prefix']=_0x506e93||'',this['reader']=_0xab2c1f['body']['getReader'](),this['reader']['read']()['then'](_0x5df1a9=>{this['pump'](_0x5df1a9['done'],_0x5df1a9['value']);})['catch'](_0x43e056=>{this['fire']('error',_0x43e056);}));}['pump'](_0x245b2b,_0x22028f){if(_0x245b2b)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x22028f['byteLength'];const _0x510509=new Uint8Array(this['data']['length']+_0x22028f['length']);for(_0x510509['set'](this['data']),_0x510509['set'](_0x22028f,this['data']['length']),this['data']=_0x510509;this['readFile'](););return this['reader']['read']()['then'](_0x5197cb=>{this['pump'](_0x5197cb['done'],_0x5197cb['value']);})['catch'](_0x32e00b=>{this['fire']('error',_0x32e00b);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(-0x1*-0x18f3+-0x171f+-0x1d4);const _0x5bea6c=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x57a9ba=this['decoder']['decode'](_0x5bea6c);if(this['fileName']=_0x57a9ba['substring'](0x5a*0x5a+0xbde*0x1+-0x2b82,0x76d*-0x2+-0x8*-0x1a5+-0x59*-0x6)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x57a9ba['substring'](0x1c3c+0x9d*0x1e+0x16*-0x219,-0x187d*0x1+0x11a6+0x75f),-0x1d14+0xb*0x93+0x16cb),this['fileType']=_0x57a9ba['substring'](-0x22c1*-0x1+0x1*-0xa51+0xf4*-0x19,-0x19ae+0x5*-0x43+-0x1b9a*-0x1),this['ustarForma'+'t']=_0x57a9ba['substring'](-0x49*-0x58+-0xb7c+-0xc9b,-0x1359*-0x1+-0xcd2+-0x80*0xb),this['ustarForma'+'t']['indexOf']('ustar')!==-(0xcb*-0x4+-0x247*0x4+-0xc49*-0x1)){const _0x50379a=_0x57a9ba['substring'](0xe2*-0x5+-0x1f33+0x629*0x6,0x1713+0x992*-0x2+0x27*-0xd)['replace'](/\0/g,'');_0x50379a['length']>0x1dda+-0x45d+-0x197d&&(this['fileName']=_0x50379a['trim']()+this['fileName']['trim']());}this['bytesRead']+=-0xa76+-0x6e7+-0x1*-0x135d;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(0x868*-0x2+-0x1053+0x2124);if(this['fileType']===''||this['fileType']==='0'){const _0x41533d=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x31c601={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x41533d};this['fire']('file',_0x31c601);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(0x1*0xf0c+0x2*-0x3cb+-0x775);const _0x1b549c=this['bytesRead']%this['paddingSiz'+'e'];return _0x1b549c!==0x2041*-0x1+0x18d0+-0xf*-0x7f&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x1b549c),!(0xe37*0x1+0x15eb+0xb9*-0x32);}return!(-0x89f*-0x1+0x5ae+0x1*-0xe4c);}}class Ne{constructor(_0x1aa3f1,_0x1bb383){c(this,'handlerTyp'+'e',''),c(this,'_app'),c(this,'_maxRetrie'+'s',0x6*-0x3bd+0x1f78+0x485*-0x2),(this['_app']=_0x1aa3f1,this['handlerTyp'+'e']=_0x1bb383);}set['maxRetries'](_0x423617){this['_maxRetrie'+'s']=_0x423617;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x6a0aae,_0x20674d,_0x2e569c){}['open'](_0x4d43e7,_0x2bd877,_0x8052eb){return _0x2bd877;}['patch'](_0x54b126,_0x57a7bc){}}class rP extends Ne{constructor(_0x40b7f8){super(_0x40b7f8,'bundle'),this['_assets']=_0x40b7f8['assets'];}['_fetchRetr'+'ies'](_0x441407,_0x275299,_0x444392=-0x1070+0x1a95+-0x173*0x7){return new Promise((_0x37baa6,_0x122d4d)=>{const _0x48d5d0=()=>{fetch(_0x441407,_0x275299)['then'](_0x37baa6)['catch'](_0x2c0d42=>{_0x444392++,_0x444392<this['maxRetries']?(v['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x444392),_0x48d5d0()):_0x122d4d(_0x2c0d42);});};_0x48d5d0();});}['load'](_0x4ebedb,_0x49aedb){typeof _0x4ebedb=='string'&&(_0x4ebedb={'load':_0x4ebedb,'original':_0x4ebedb}),this['_fetchRetr'+'ies'](_0x4ebedb['load'],{'mode':'cors','credentials':'include'},this['maxRetries'])['then'](_0x164c98=>{const _0x874c1a=new Xu();_0x49aedb(null,_0x874c1a);const _0x1786ce=new iP(_0x164c98,this['_assets']['prefix']);_0x1786ce['on']('file',_0x360a81=>{_0x874c1a['addFile'](_0x360a81['name'],_0x360a81['data']);}),_0x1786ce['on']('done',()=>{_0x874c1a['loaded']=!(0xa2*0x1f+0x2469+-0x7*0x801);}),_0x1786ce['on']('error',_0x10eaba=>{v['error'](_0x10eaba),_0x49aedb(_0x10eaba);});})['catch'](_0x553bc2=>{v['error'](_0x553bc2),_0x49aedb(_0x553bc2);});}['open'](_0x364dc4,_0x2a11f8){return _0x2a11f8;}}class pa{constructor(_0x544606){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x544606;}['addHandler'](_0x2f9497,_0x1fa00c){this['_handlers'][_0x2f9497]=_0x1fa00c,_0x1fa00c['_loader']=this;}['removeHand'+'ler'](_0x1bd065){delete this['_handlers'][_0x1bd065];}['getHandler'](_0x40ade1){return this['_handlers'][_0x40ade1];}static['makeKey'](_0x4b20a3,_0x2d06c0){return _0x4b20a3+'-'+_0x2d06c0;}['load'](_0x3c5578,_0x59889c,_0x17ace2,_0x5420d5,_0x37a115){var _0x1159e8;const _0x6e0127=this['_handlers'][_0x59889c];if(!_0x6e0127){const _0x2f915e='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x59889c+('\x27\x20when\x20loa'+'ding\x20[')+_0x3c5578+']';v['errorOnce'](_0x2f915e),_0x17ace2(_0x2f915e);return;}if(!_0x3c5578){this['_loadNull'](_0x6e0127,_0x17ace2,_0x5420d5);return;}const _0x5ab78c=pa['makeKey'](_0x3c5578,_0x59889c);if(this['_cache'][_0x5ab78c]!==void(-0x21*-0x4c+-0x11ad+-0x1*-0x7e1))_0x17ace2(null,this['_cache'][_0x5ab78c]);else{if(this['_requests'][_0x5ab78c])this['_requests'][_0x5ab78c]['push'](_0x17ace2);else{this['_requests'][_0x5ab78c]=[_0x17ace2];const _0xc19312=this,_0x59d2c8=function(_0x5c65fb,_0x53b225){if(_0x5c65fb){_0xc19312['_onFailure'](_0x5ab78c,_0x5c65fb);return;}if(_0x53b225['load']instanceof DataView){if(_0x6e0127['openBinary']){if(!_0xc19312['_requests'][_0x5ab78c])return;try{const _0x2ce281=_0x6e0127['openBinary'](_0x53b225['load']);_0xc19312['_onSuccess'](_0x5ab78c,_0x2ce281);}catch(_0x4bad04){_0xc19312['_onFailure'](_0x5ab78c,_0x4bad04);}return;}_0x53b225['load']=URL['createObje'+'ctURL'](new Blob([_0x53b225['load']])),_0x5420d5&&(_0x5420d5['urlObject']&&URL['revokeObje'+'ctURL'](_0x5420d5['urlObject']),_0x5420d5['urlObject']=_0x53b225['load']);}_0x6e0127['load'](_0x53b225,(_0x31f118,_0x44fc43,_0x54b591)=>{if(_0xc19312['_requests'][_0x5ab78c]){if(_0x31f118){_0xc19312['_onFailure'](_0x5ab78c,_0x31f118);return;}try{_0xc19312['_onSuccess'](_0x5ab78c,_0x6e0127['open'](_0x53b225['original'],_0x44fc43,_0x5420d5),_0x54b591);}catch(_0x33633a){_0xc19312['_onFailure'](_0x5ab78c,_0x33633a);}}},_0x5420d5);},_0x501bbd=_0x3c5578['split']('?')[-0x2102+-0x174d+0x384f];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x501bbd)&&!(_0x37a115&&_0x37a115['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x501bbd)){const _0x24d7bc=this['_app']['bundles']['listBundle'+'sForAsset'](_0x5420d5);let _0x30819c;_0x37a115&&_0x37a115['bundlesFil'+'ter']&&(_0x30819c=_0x37a115['bundlesFil'+'ter'](_0x24d7bc)),_0x30819c||(_0x24d7bc==null||_0x24d7bc['sort']((_0x4b4d3a,_0x1ee22d)=>_0x4b4d3a['file']['size']-_0x1ee22d['file']['size']),_0x30819c=_0x24d7bc==null?void(0x22cf+-0x3a0*0x1+-0x1f2f):_0x24d7bc[0x1b1d*0x1+0x1*0x1d87+-0x38a4]),_0x30819c&&((_0x1159e8=this['_app']['assets'])==null||_0x1159e8['load'](_0x30819c));}this['_app']['bundles']['loadUrl'](_0x501bbd,(_0x16a204,_0x42acfa)=>{_0x59d2c8(_0x16a204,{'load':_0x42acfa,'original':_0x501bbd});});}else _0x59d2c8(null,{'load':_0x3c5578,'original':_0x5420d5&&_0x5420d5['file']['filename']||_0x3c5578});}}}['_loadNull'](_0x5163ed,_0xca45e9,_0x40ac5a){const _0x370981=function(_0x75ccb8,_0x5e7273,_0x6d1709){if(_0x75ccb8)_0xca45e9(_0x75ccb8);else try{_0xca45e9(null,_0x5163ed['open'](null,_0x5e7273,_0x40ac5a),_0x6d1709);}catch(_0x41d890){_0xca45e9(_0x41d890);}};_0x5163ed['load'](null,_0x370981,_0x40ac5a);}['_onSuccess'](_0x287f1d,_0x514cd3,_0x5a56ea){_0x514cd3!==null?this['_cache'][_0x287f1d]=_0x514cd3:delete this['_cache'][_0x287f1d];for(let _0xd68cc2=0x1067+0x71*-0x31+0x53a;_0xd68cc2<this['_requests'][_0x287f1d]['length'];_0xd68cc2++)this['_requests'][_0x287f1d][_0xd68cc2](null,_0x514cd3,_0x5a56ea);delete this['_requests'][_0x287f1d];}['_onFailure'](_0x25c186,_0x169a39){if(console['error'](_0x169a39),this['_requests'][_0x25c186]){for(let _0x2d925c=-0x954*-0x2+-0x2*-0xa37+-0x2*0x138b;_0x2d925c<this['_requests'][_0x25c186]['length'];_0x2d925c++)this['_requests'][_0x25c186][_0x2d925c](_0x169a39);delete this['_requests'][_0x25c186];}}['open'](_0x3e429f,_0x3496d3){const _0x1c8569=this['_handlers'][_0x3e429f];return _0x1c8569?_0x1c8569['open'](null,_0x3496d3):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x3e429f),_0x3496d3);}['patch'](_0xb29de4,_0x296ce4){const _0x36f927=this['_handlers'][_0xb29de4['type']];if(!_0x36f927){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0xb29de4['type']);return;}_0x36f927['patch']&&_0x36f927['patch'](_0xb29de4,_0x296ce4);}['clearCache'](_0x598231,_0x4a919b){const _0x55a60c=pa['makeKey'](_0x598231,_0x4a919b);delete this['_cache'][_0x55a60c];}['getFromCac'+'he'](_0x267f5c,_0x497304){const _0x4c4ab7=pa['makeKey'](_0x267f5c,_0x497304);if(this['_cache'][_0x4c4ab7])return this['_cache'][_0x4c4ab7];}['enableRetr'+'y'](_0x46b077=-0x749*0x1+-0x25*-0x2+-0x382*-0x2){_0x46b077=Math['max'](-0x14a9+0xf72+0x537,_0x46b077)||0x13f8+0x2ed+0x16e5*-0x1;for(const _0x2e9194 in this['_handlers'])this['_handlers'][_0x2e9194]['maxRetries']=_0x46b077;}['disableRet'+'ry'](){for(const _0x41b4c8 in this['_handlers'])this['_handlers'][_0x41b4c8]['maxRetries']=-0x83*0x1+-0x3*-0xace+0x1fe7*-0x1;}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class nP{['_validate'](_0xcb5494){if(!_0xcb5494['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0xcb5494['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0xcb5494['header']['version']!==0xf17+-0x19fb+0xae5)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0xcb5494['data']){if(!Array['isArray'](_0xcb5494['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x22f2d3=-0x1*-0x4a4+0x5b+-0x4ff*0x1,_0x4f0193=_0xcb5494['data']['length'];_0x22f2d3<_0x4f0193;_0x22f2d3++){const _0x5a0bea=_0xcb5494['data'][_0x22f2d3];if(!_0x5a0bea['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x22f2d3+('].info\x22\x20fi'+'eld'));if(!_0x5a0bea['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x22f2d3+('].info.loc'+'ale\x22\x20field'));if(typeof _0x5a0bea['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x22f2d3+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x5a0bea['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x22f2d3+('].messages'+'\x22\x20field'));}}['parse'](_0x288db8){return this['_validate'](_0x288db8),_0x288db8['data'];}}class aP extends ce{constructor(_0x2d3d83){super(),this['locale']=Wh,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x2d3d83,this['_assets']=[],this['_parser']=new nP();}set['assets'](_0x5d3774){const _0x59d442={};for(let _0x4a53e7=0x222a+0x51b*-0x4+-0xdbe,_0x4120b8=_0x5d3774['length'];_0x4a53e7<_0x4120b8;_0x4a53e7++){const _0x1cfce2=_0x5d3774[_0x4a53e7]instanceof le?_0x5d3774[_0x4a53e7]['id']:_0x5d3774[_0x4a53e7];_0x59d442[_0x1cfce2]=!(0x1ba9+0x1642*0x1+0x31eb*-0x1);}let _0x3fa93c=this['_assets']['length'];for(;_0x3fa93c--;){const _0x2a965c=this['_assets'][_0x3fa93c];if(!_0x59d442[_0x2a965c]){this['_app']['assets']['off']('add:'+_0x2a965c,this['_onAssetAd'+'d'],this);const _0x133ac4=this['_app']['assets']['get'](_0x2a965c);_0x133ac4&&this['_onAssetRe'+'move'](_0x133ac4),this['_assets']['splice'](_0x3fa93c,0x5f3*0x1+-0x223e+0x1c4c);}}for(const _0x4be86e in _0x59d442){const _0x25f2ac=parseInt(_0x4be86e,0x4ff*-0x3+-0x564+0x1*0x146b);if(this['_assets']['indexOf'](_0x25f2ac)!==-(-0x2191+0x1138+0x105a))continue;this['_assets']['push'](_0x25f2ac);const _0x58a12d=this['_app']['assets']['get'](_0x25f2ac);_0x58a12d?this['_onAssetAd'+'d'](_0x58a12d):this['_app']['assets']['once']('add:'+_0x25f2ac,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x4a9553){if(this['_locale']===_0x4a9553)return;let _0x4cd455=pi(_0x4a9553);if(_0x4cd455==='in'&&(_0x4cd455='id',_0x4a9553=Y1(_0x4a9553,_0x4cd455),this['_locale']===_0x4a9553))return;const _0x10dda2=this['_locale'];this['_locale']=_0x4a9553,this['_lang']=_0x4cd455,this['_pluralFn']=Xd(this['_lang']),this['fire']('set:locale',_0x4a9553,_0x10dda2);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x999714,_0x41bda1){return V0(_0x999714,_0x41bda1);}['findAvaila'+'bleLocale'](_0x3c69fe){if(this['_translati'+'ons'][_0x3c69fe])return _0x3c69fe;const _0x1ac029=pi(_0x3c69fe);return this['_findFallb'+'ackLocale'](_0x3c69fe,_0x1ac029);}['getText'](_0x34a7ed,_0x1532fe){let _0x179369=_0x34a7ed,_0x390bb5;_0x1532fe||(_0x1532fe=this['_locale'],_0x390bb5=this['_lang']);let _0x154fbf=this['_translati'+'ons'][_0x1532fe];return _0x154fbf||(_0x390bb5||(_0x390bb5=pi(_0x1532fe)),_0x1532fe=this['_findFallb'+'ackLocale'](_0x1532fe,_0x390bb5),_0x154fbf=this['_translati'+'ons'][_0x1532fe]),_0x154fbf&&_0x154fbf['hasOwnProp'+'erty'](_0x34a7ed)&&(_0x179369=_0x154fbf[_0x34a7ed],Array['isArray'](_0x179369)&&(_0x179369=_0x179369[0x1f*0x3b+-0x7f7*0x3+-0x1*-0x10c0]),_0x179369==null&&(_0x179369=_0x34a7ed)),_0x179369;}['getPluralT'+'ext'](_0x49760e,_0x3125c3,_0x2772ef){let _0x20eca0=_0x49760e,_0x33eaee,_0x34a824;_0x2772ef?(_0x33eaee=pi(_0x2772ef),_0x34a824=Xd(_0x33eaee)):(_0x2772ef=this['_locale'],_0x33eaee=this['_lang'],_0x34a824=this['_pluralFn']);let _0x36d8a2=this['_translati'+'ons'][_0x2772ef];if(_0x36d8a2||(_0x2772ef=this['_findFallb'+'ackLocale'](_0x2772ef,_0x33eaee),_0x33eaee=pi(_0x2772ef),_0x34a824=Xd(_0x33eaee),_0x36d8a2=this['_translati'+'ons'][_0x2772ef]),_0x36d8a2&&_0x36d8a2[_0x49760e]&&_0x34a824){const _0x13c8ec=_0x34a824(_0x3125c3);_0x20eca0=_0x36d8a2[_0x49760e][_0x13c8ec],_0x20eca0==null&&(_0x20eca0=_0x49760e);}return _0x20eca0;}['addData'](_0x43b81d){let _0x3df366;try{_0x3df366=this['_parser']['parse'](_0x43b81d);}catch(_0x10ed3f){console['error'](_0x10ed3f);return;}for(let _0x32d0bf=-0x1fa2*0x1+0x26b1+-0x70f,_0x2394ed=_0x3df366['length'];_0x32d0bf<_0x2394ed;_0x32d0bf++){const _0x573b10=_0x3df366[_0x32d0bf],_0x5bb3af=_0x573b10['info']['locale'],_0x9ad68d=_0x573b10['messages'];if(!this['_translati'+'ons'][_0x5bb3af]){this['_translati'+'ons'][_0x5bb3af]={};const _0x55b1eb=pi(_0x5bb3af);this['_available'+'Langs'][_0x55b1eb]||(this['_available'+'Langs'][_0x55b1eb]=_0x5bb3af);}Object['assign'](this['_translati'+'ons'][_0x5bb3af],_0x9ad68d),this['fire']('data:add',_0x5bb3af,_0x9ad68d);}}['removeData'](_0x2ca502){let _0x51833b;try{_0x51833b=this['_parser']['parse'](_0x2ca502);}catch(_0x584199){console['error'](_0x584199);return;}for(let _0x5b8846=0xc*-0x1aa+-0x2*-0xc8f+-0x526,_0x3bbbcd=_0x51833b['length'];_0x5b8846<_0x3bbbcd;_0x5b8846++){const _0x30845b=_0x51833b[_0x5b8846],_0x5c13bc=_0x30845b['info']['locale'],_0x2200f=this['_translati'+'ons'][_0x5c13bc];if(!_0x2200f)continue;const _0x1850fe=_0x30845b['messages'];for(const _0x179f5a in _0x1850fe)delete _0x2200f[_0x179f5a];Object['keys'](_0x2200f)['length']===-0x23f3*0x1+0xa*0x1ae+0x1327&&(delete this['_translati'+'ons'][_0x5c13bc],delete this['_available'+'Langs'][pi(_0x5c13bc)]),this['fire']('data:remov'+'e',_0x5c13bc,_0x1850fe);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x3b4c7f,_0x1d8880){let _0x52d3dc=$h[_0x3b4c7f];return _0x52d3dc&&this['_translati'+'ons'][_0x52d3dc]||(_0x52d3dc=$h[_0x1d8880],_0x52d3dc&&this['_translati'+'ons'][_0x52d3dc])||(_0x52d3dc=this['_available'+'Langs'][_0x1d8880],_0x52d3dc&&this['_translati'+'ons'][_0x52d3dc])?_0x52d3dc:Wh;}['_onAssetAd'+'d'](_0x131890){_0x131890['on']('load',this['_onAssetLo'+'ad'],this),_0x131890['on']('change',this['_onAssetCh'+'ange'],this),_0x131890['on']('remove',this['_onAssetRe'+'move'],this),_0x131890['on']('unload',this['_onAssetUn'+'load'],this),_0x131890['resource']&&this['_onAssetLo'+'ad'](_0x131890);}['_onAssetLo'+'ad'](_0x409828){this['addData'](_0x409828['resource']);}['_onAssetCh'+'ange'](_0x27bf92){_0x27bf92['resource']&&this['addData'](_0x27bf92['resource']);}['_onAssetRe'+'move'](_0x22af95){_0x22af95['off']('load',this['_onAssetLo'+'ad'],this),_0x22af95['off']('change',this['_onAssetCh'+'ange'],this),_0x22af95['off']('remove',this['_onAssetRe'+'move'],this),_0x22af95['off']('unload',this['_onAssetUn'+'load'],this),_0x22af95['resource']&&this['removeData'](_0x22af95['resource']),this['_app']['assets']['once']('add:'+_0x22af95['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x5e3a04){_0x5e3a04['resource']&&this['removeData'](_0x5e3a04['resource']);}}class oP extends ce{constructor(_0x58c9ac){super(),c(this,'_scripts',{}),c(this,'_list',[]),c(this,'_scriptSch'+'emas',new Map()),this['app']=_0x58c9ac;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x1e890e,_0x25a0ba){_0x25a0ba&&this['_scriptSch'+'emas']['set'](_0x1e890e,_0x25a0ba);}['getSchema'](_0x2e4611){return this['_scriptSch'+'emas']['get'](_0x2e4611);}['add'](_0x449e7d){const _0x3796b5=_0x449e7d['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x3796b5)?(setTimeout(()=>{if(_0x449e7d['prototype']['swap']){const _0x1f0098=this['_scripts'][_0x3796b5],_0x7bbcb=this['_list']['indexOf'](_0x1f0098);this['_list'][_0x7bbcb]=_0x449e7d,this['_scripts'][_0x3796b5]=_0x449e7d,this['fire']('swap',_0x3796b5,_0x449e7d),this['fire']('swap:'+_0x3796b5,_0x449e7d);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x3796b5+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(-0xd*-0xc3+-0x211d+0x1737)):(this['_scripts'][_0x3796b5]=_0x449e7d,this['_list']['push'](_0x449e7d),this['fire']('add',_0x3796b5,_0x449e7d),this['fire']('add:'+_0x3796b5,_0x449e7d),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x3796b5)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x4eff05=this['app']['systems']['script']['_component'+'s'];let _0x319550;const _0x231912=[],_0x243ad4=[];for(_0x4eff05['loopIndex']=-0x185d+-0x122*0xe+-0x1*-0x2839;_0x4eff05['loopIndex']<_0x4eff05['length'];_0x4eff05['loopIndex']++){const _0x4f9115=_0x4eff05['items'][_0x4eff05['loopIndex']];if(_0x4f9115['_scriptsIn'+'dex'][_0x3796b5]&&_0x4f9115['_scriptsIn'+'dex'][_0x3796b5]['awaiting']){_0x4f9115['_scriptsDa'+'ta']&&_0x4f9115['_scriptsDa'+'ta'][_0x3796b5]&&(_0x319550=_0x4f9115['_scriptsDa'+'ta'][_0x3796b5]['attributes']);const _0x5e018a=_0x4f9115['create'](_0x3796b5,{'preloading':!(-0xd03+0x105d+-0x35a),'ind':_0x4f9115['_scriptsIn'+'dex'][_0x3796b5]['ind'],'attributes':_0x319550});_0x5e018a&&_0x231912['push'](_0x5e018a);for(const _0x3c3982 of _0x4f9115['scripts'])_0x4f9115['initialize'+'Attributes'](_0x3c3982);}}for(let _0x93ee81=0x193e+0x14*0x1+0x7*-0x39e;_0x93ee81<_0x231912['length'];_0x93ee81++)_0x231912[_0x93ee81]['enabled']&&(_0x231912[_0x93ee81]['_initializ'+'ed']=!(0x1*-0xe33+0xf6d+-0x13a),_0x243ad4['push'](_0x231912[_0x93ee81]),_0x231912[_0x93ee81]['initialize']&&_0x231912[_0x93ee81]['initialize']());for(let _0x42af8d=0x2d*-0x8e+0x6b2+-0x2*-0x922;_0x42af8d<_0x243ad4['length'];_0x42af8d++)!_0x243ad4[_0x42af8d]['enabled']||_0x243ad4[_0x42af8d]['_postIniti'+'alized']||(_0x243ad4[_0x42af8d]['_postIniti'+'alized']=!(-0xa7*0x15+0x9a5+0x1*0x40e),_0x243ad4[_0x42af8d]['postInitia'+'lize']&&_0x243ad4[_0x42af8d]['postInitia'+'lize']());}),!(0x49*-0x86+0x22fd+0x339));}['remove'](_0x3ddb66){let _0xdba91c=_0x3ddb66,_0x1bce06=_0x3ddb66;if(typeof _0x1bce06!='string'?_0x1bce06=_0xdba91c['__name']:_0xdba91c=this['get'](_0x1bce06),this['get'](_0x1bce06)!==_0xdba91c)return!(-0x2006*-0x1+-0x1fdf*0x1+-0x26);delete this['_scripts'][_0x1bce06];const _0x1cde1c=this['_list']['indexOf'](_0xdba91c);return this['_list']['splice'](_0x1cde1c,0xeee+0x762+-0x164f),this['fire']('remove',_0x1bce06,_0xdba91c),this['fire']('remove:'+_0x1bce06,_0xdba91c),!(-0x1*-0x1cc9+-0x8da+0x1*-0x13ef);}['get'](_0x38e8cb){return this['_scripts'][_0x38e8cb]||null;}['has'](_0x3ca48a){if(typeof _0x3ca48a=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x3ca48a);if(!_0x3ca48a)return!(0x1571+0x1007+-0x2577);const _0x56530c=_0x3ca48a['__name'];return this['_scripts'][_0x56530c]===_0x3ca48a;}['list'](){return this['_list'];}}const lP=(_0x43a0e7,_0x4b6e1a)=>_0x43a0e7['constructo'+'r']['order']-_0x4b6e1a['constructo'+'r']['order'],hP=_0x28f0a6=>_0x28f0a6['sort'](lP),Za=[],G0=[],cP=()=>G0['pop']()??[],$_=_0x44a9e4=>{_0x44a9e4['length']=0x2*0xe96+-0x1*-0x1ab+-0x1ed7*0x1,G0['push'](_0x44a9e4);},ac=class ac extends De{constructor(_0x5dddde,_0x368cdd=tn()){super(_0x5dddde),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'gsplat'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'c',{}),c(this,'_app'),c(this,'_destroyin'+'g',!(-0x943*-0x4+-0x496*0x2+-0x1bdf)),c(this,'_guid',null),c(this,'_template',!(-0x2696*-0x1+-0x11*-0x47+-0x2b4c)),(v['assert'](_0x368cdd,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x368cdd);}['addCompone'+'nt'](_0x4fa291,_0x339cc9){const _0x30cbef=this['_app']['systems'][_0x4fa291];return _0x30cbef?this['c'][_0x4fa291]?(v['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x4fa291+('\x27\x20componen'+'t')),null):_0x30cbef['addCompone'+'nt'](this,_0x339cc9):(v['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x4fa291+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x43373d){const _0x9d2920=this['_app']['systems'][_0x43373d];if(!_0x9d2920){v['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x43373d+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x43373d]){v['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x43373d+('\x27\x20componen'+'t'));return;}_0x9d2920['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x27ac12){const _0x405e64=this['findOne'](_0x25348e=>{var _0x14df48;return(_0x14df48=_0x25348e['c'])==null?void(-0x1ce7+-0x1707+-0x19f7*-0x2):_0x14df48[_0x27ac12];});return _0x405e64&&_0x405e64['c'][_0x27ac12];}['findCompon'+'ents'](_0x3692ac){return this['find'](_0x2070c0=>{var _0x2a44d0;return(_0x2a44d0=_0x2070c0['c'])==null?void(0x135*-0x3+-0x6c7+0xa66):_0x2a44d0[_0x3692ac];})['map'](_0x1b18d5=>_0x1b18d5['c'][_0x3692ac]);}['findScript'](_0x1717dd){const _0x16c7a3=this['findOne'](_0x1aba56=>{var _0x5cfbf8,_0x58fcd5;return(_0x58fcd5=(_0x5cfbf8=_0x1aba56['c'])==null?void(-0x1b5*0x5+0xb07+-0x27e):_0x5cfbf8['script'])==null?void(-0x3d+0x81*-0x35+0x1af2):_0x58fcd5['has'](_0x1717dd);});return _0x16c7a3==null?void(0x935*-0x2+0x3*0x1cf+-0x7*-0x1db):_0x16c7a3['c']['script']['get'](_0x1717dd);}['findScript'+'s'](_0x3f71da){return this['find'](_0x182dcd=>{var _0x40cc51,_0x1593a7;return(_0x1593a7=(_0x40cc51=_0x182dcd['c'])==null?void(0xc3e*0x3+0x1b51+-0x400b):_0x40cc51['script'])==null?void(-0x3*-0x1f+0x19e0*0x1+0x8bf*-0x3):_0x1593a7['has'](_0x3f71da);})['map'](_0x410e31=>_0x410e31['c']['script']['get'](_0x3f71da));}['getGuid'](){return this['_guid']||this['setGuid'](sS['create']()),this['_guid'];}['setGuid'](_0x3ac999){const _0x107e99=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x107e99[this['_guid']],this['_guid']=_0x3ac999,_0x107e99[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x61a08d,_0x3ec1bb){let _0xef2d7d=!(-0x22ee*-0x1+0x435*-0x9+0x2f0);_0x61a08d===this&&Za['length']===0x1683+-0x2453+0xdd0*0x1&&(_0xef2d7d=!(-0x184e+-0x200d+0x643*0x9)),_0x61a08d['_beingEnab'+'led']=!(0x1*0x696+-0x3c0*0x1+-0x2d6),_0x61a08d['_onHierarc'+'hyStateCha'+'nged'](_0x3ec1bb),_0x61a08d['_onHierarc'+'hyStatePos'+'tChanged']&&Za['push'](_0x61a08d);const _0x4c6170=_0x61a08d['_children'];for(let _0x2dd5fe=-0x1fdc+-0x1b0*-0x9+-0x856*-0x2,_0x299ec9=_0x4c6170['length'];_0x2dd5fe<_0x299ec9;_0x2dd5fe++)_0x4c6170[_0x2dd5fe]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x4c6170[_0x2dd5fe],_0x3ec1bb);if(_0x61a08d['_beingEnab'+'led']=!(0xcd4+0x2f*-0xd3+-0xd6*-0x1f),_0xef2d7d){for(let _0x1eebed=-0x1*0x16dd+-0x1417+-0x1*-0x2af4;_0x1eebed<Za['length'];_0x1eebed++)Za[_0x1eebed]['_onHierarc'+'hyStatePos'+'tChanged']();Za['length']=-0x3ab*-0x3+-0x1*-0x913+-0x1414;}}['_onHierarc'+'hyStateCha'+'nged'](_0x4d0715){super['_onHierarc'+'hyStateCha'+'nged'](_0x4d0715);const _0x15474a=this['_getSorted'+'Components']();for(let _0xa4af2a=0x3*0x1f9+0x169d+-0xb*0x298;_0xa4af2a<_0x15474a['length'];_0xa4af2a++){const _0x124afd=_0x15474a[_0xa4af2a];_0x124afd['enabled']&&(_0x4d0715?_0x124afd['onEnable']():_0x124afd['onDisable']());}$_(_0x15474a);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x5b4216=this['_getSorted'+'Components']();for(let _0x981b46=0x153b+0xfee+-0x3f*0x97;_0x981b46<_0x5b4216['length'];_0x981b46++)_0x5b4216[_0x981b46]['onPostStat'+'eChange']();$_(_0x5b4216);}['findByGuid'](_0x4a2d5d){if(this['_guid']===_0x4a2d5d)return this;const _0xf17d14=this['_app']['_entityInd'+'ex'][_0x4a2d5d];return _0xf17d14&&(_0xf17d14===this||_0xf17d14['isDescenda'+'ntOf'](this))?_0xf17d14:null;}['destroy'](){this['_destroyin'+'g']=!(-0x30e+0x3*-0xa1+0x5*0xfd);for(const _0x13f4e2 in this['c'])this['c'][_0x13f4e2]['enabled']=!(-0xb+0x229*0x5+-0xac1);for(const _0xa3b727 in this['c'])this['c'][_0xa3b727]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(0x7ac+-0x4d*0x6b+-0x621*-0x4);}['clone'](){const _0x35ae9d={},_0x51f937=this['_cloneRecu'+'rsively'](_0x35ae9d);return _0x35ae9d[this['getGuid']()]=_0x51f937,H0(this,this,_0x51f937,_0x35ae9d),_0x51f937;}['_getSorted'+'Components'](){const _0x2b9219=this['c'],_0x2bb165=cP();let _0x6ae645=0x1630*0x1+0xf3+0x1723*-0x1;for(const _0x139971 in _0x2b9219)if(_0x2b9219['hasOwnProp'+'erty'](_0x139971)){const _0x79a3d2=_0x2b9219[_0x139971];_0x6ae645|=_0x79a3d2['constructo'+'r']['order']!==-0x243e+-0x1*-0x1949+-0x11*-0xa5,_0x2bb165['push'](_0x79a3d2);}return _0x6ae645&&_0x2bb165['length']>-0x2655+-0x3a3+-0x23*-0x133&&hP(_0x2bb165),_0x2bb165;}['_cloneRecu'+'rsively'](_0x43c040){const _0x215c03=new this['constructo'+'r'](void(-0x18ff+0x24f3+-0xff*0xc),this['_app']);super['_cloneInte'+'rnal'](_0x215c03);for(const _0x144402 in this['c'])this['c'][_0x144402]['system']['cloneCompo'+'nent'](this,_0x215c03);for(let _0x3f4992=-0x142f*-0x1+-0x15*-0xa3+-0x218e;_0x3f4992<this['_children']['length'];_0x3f4992++){const _0x24b6df=this['_children'][_0x3f4992];if(_0x24b6df instanceof ac){const _0x19002a=_0x24b6df['_cloneRecu'+'rsively'](_0x43c040);_0x215c03['addChild'](_0x19002a),_0x43c040[_0x24b6df['getGuid']()]=_0x19002a;}}return _0x215c03;}};c(ac,'EVENT_DEST'+'ROY','destroy');let We=ac;function H0(_0x488cf2,_0x58e499,_0x59936e,_0x7cb543){if(_0x58e499 instanceof We){const _0x518ac9=_0x58e499['c'];for(const _0x2fa1b9 in _0x518ac9){const _0x2d4e34=_0x518ac9[_0x2fa1b9],_0x2d254b=_0x2d4e34['system']['getPropert'+'iesOfType']('entity');for(let _0x3855ef=-0x1b7*-0xd+-0x62d+-0x101e,_0x1f23f7=_0x2d254b['length'];_0x3855ef<_0x1f23f7;_0x3855ef++){const _0x120d3d=_0x2d254b[_0x3855ef]['name'],_0x45d76e=_0x2d4e34[_0x120d3d];if(!!_0x488cf2['findByGuid'](_0x45d76e)){const _0x306a7b=_0x7cb543[_0x45d76e]['getGuid']();_0x306a7b?_0x59936e['c'][_0x2fa1b9][_0x120d3d]=_0x306a7b:v['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x518ac9['script']&&_0x59936e['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x518ac9['script'],_0x7cb543),_0x518ac9['render']&&_0x59936e['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x518ac9['render'],_0x7cb543),_0x518ac9['button']&&_0x59936e['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x518ac9['button'],_0x7cb543),_0x518ac9['scrollview']&&_0x59936e['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x518ac9['scrollview'],_0x7cb543),_0x518ac9['scrollbar']&&_0x59936e['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x518ac9['scrollbar'],_0x7cb543),_0x518ac9['anim']&&_0x59936e['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x518ac9['anim'],_0x7cb543);const _0x161067=_0x58e499['children']['filter'](_0x391421=>_0x391421 instanceof We),_0x24d510=_0x59936e['children']['filter'](_0xf03152=>_0xf03152 instanceof We);for(let _0x517a57=0xf0b+0x19af+-0x28ba,_0x38389d=_0x161067['length'];_0x517a57<_0x38389d;_0x517a57++)H0(_0x488cf2,_0x161067[_0x517a57],_0x24d510[_0x517a57],_0x7cb543);}}class q_{constructor(_0x12e48c,_0x2e285b){c(this,'name'),c(this,'url'),c(this,'data',null),c(this,'_loading',!(0x1565*-0x1+0x154+0x1412)),c(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x12e48c,this['url']=_0x2e285b);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class dP{constructor(_0x2a3de1){c(this,'_app'),c(this,'_list',[]),c(this,'_index',{}),c(this,'_urlIndex',{}),this['_app']=_0x2a3de1;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x14b637,_0x53fa15){if(this['_index']['hasOwnProp'+'erty'](_0x14b637))return v['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x14b637),!(-0x7*-0x2bd+0x1b34+0xa*-0x4a3);const _0x1703fe=new q_(_0x14b637,_0x53fa15),_0x3f466d=this['_list']['push'](_0x1703fe);return this['_index'][_0x1703fe['name']]=_0x3f466d-(-0x3*0xc3a+-0x2006+0x44b5),this['_urlIndex'][_0x1703fe['url']]=_0x3f466d-(-0x4*0x25c+0x57d*-0x1+0xeee),!(-0x75*0x33+-0x1533*0x1+0x2c82);}['find'](_0x19ff97){return this['_index']['hasOwnProp'+'erty'](_0x19ff97)?this['_list'][this['_index'][_0x19ff97]]:null;}['findByUrl'](_0x6d822c){return this['_urlIndex']['hasOwnProp'+'erty'](_0x6d822c)?this['_list'][this['_urlIndex'][_0x6d822c]]:null;}['remove'](_0x36bd9b){if(this['_index']['hasOwnProp'+'erty'](_0x36bd9b)){const _0x1c2f65=this['_index'][_0x36bd9b];let _0x58537e=this['_list'][_0x1c2f65];delete this['_urlIndex'][_0x58537e['url']],delete this['_index'][_0x36bd9b],this['_list']['splice'](_0x1c2f65,-0xe*-0x69+0x11*-0x139+-0x9*-0x1ac);for(let _0x30898d=-0x219*0x5+-0x4*0x793+0x28c9;_0x30898d<this['_list']['length'];_0x30898d++)_0x58537e=this['_list'][_0x30898d],this['_index'][_0x58537e['name']]=_0x30898d,this['_urlIndex'][_0x58537e['url']]=_0x30898d;}}['_loadScene'+'Data'](_0x51465c,_0x4c5c5e,_0x39feaa){const _0x2d76e2=this['_app'];let _0x32006d=_0x51465c;if(typeof _0x51465c=='string'&&(_0x51465c=this['findByUrl'](_0x32006d)||this['find'](_0x32006d)||new q_('Untitled',_0x32006d)),_0x32006d=_0x51465c['url'],!_0x32006d){_0x39feaa('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x51465c['loaded']){_0x39feaa(null,_0x51465c);return;}_0x2d76e2['assets']&&_0x2d76e2['assets']['prefix']&&!Da['test'](_0x32006d)&&(_0x32006d=fe['join'](_0x2d76e2['assets']['prefix'],_0x32006d)),_0x51465c['_onLoadedC'+'allbacks']['push'](_0x39feaa),_0x51465c['_loading']||_0x2d76e2['loader']['getHandler']('hierarchy')['load'](_0x32006d,(_0x4fdddd,_0x273cd8)=>{_0x51465c['data']=_0x273cd8,_0x51465c['_loading']=!(-0x167f+-0x4b*0x38+-0xcf8*-0x3);for(let _0x5a52b9=-0x8fb+0xcd*-0x23+0x2502;_0x5a52b9<_0x51465c['_onLoadedC'+'allbacks']['length'];_0x5a52b9++)_0x51465c['_onLoadedC'+'allbacks'][_0x5a52b9](_0x4fdddd,_0x51465c);_0x4c5c5e||(_0x51465c['data']=null),_0x51465c['_onLoadedC'+'allbacks']['length']=0x26*-0x92+0x5ad+0x1*0xfff;}),_0x51465c['_loading']=!(0x49*0x53+0x437+0x1*-0x1be2);}['loadSceneD'+'ata'](_0x315bd0,_0x4627e9){this['_loadScene'+'Data'](_0x315bd0,!(0x14e3+-0x1*-0x1fdd+-0x34c0),_0x4627e9);}['unloadScen'+'eData'](_0x201790){typeof _0x201790=='string'&&(_0x201790=this['findByUrl'](_0x201790)),_0x201790&&(_0x201790['data']=null);}['_loadScene'+'Hierarchy'](_0x2d6719,_0x2d97c2,_0x45af61){this['_loadScene'+'Data'](_0x2d6719,!(0x2*0x10bd+-0x2*0x1272+0xaf*0x5),(_0xed28df,_0x3e1d61)=>{if(_0xed28df){_0x45af61&&_0x45af61(_0xed28df);return;}_0x2d97c2&&_0x2d97c2(_0x3e1d61);const _0xd1fb8=this['_app'],_0x34b868=()=>{const _0x3315d4=_0xd1fb8['loader']['getHandler']('hierarchy');_0xd1fb8['systems']['script']['preloading']=!(0x16f0+0x1ebd+-0x35ad);const _0x409821=_0x3315d4['open'](_0x3e1d61['url'],_0x3e1d61['data']);_0xd1fb8['systems']['script']['preloading']=!(0x18d3+-0x44*0x58+-0x172),_0xd1fb8['loader']['clearCache'](_0x3e1d61['url'],'hierarchy'),_0xd1fb8['root']['addChild'](_0x409821),_0xd1fb8['systems']['fire']('initialize',_0x409821),_0xd1fb8['systems']['fire']('postInitia'+'lize',_0x409821),_0xd1fb8['systems']['fire']('postPostIn'+'itialize',_0x409821),_0x45af61&&_0x45af61(null,_0x409821);};_0xd1fb8['_preloadSc'+'ripts'](_0x3e1d61['data'],_0x34b868);});}['loadSceneH'+'ierarchy'](_0x4b6544,_0x527b6b){this['_loadScene'+'Hierarchy'](_0x4b6544,null,_0x527b6b);}['loadSceneS'+'ettings'](_0x4ae37f,_0x382aa6){this['_loadScene'+'Data'](_0x4ae37f,!(-0x2*0xc77+-0x21b0+0x1*0x3a9f),(_0x19e5ef,_0x32c15d)=>{_0x19e5ef?_0x382aa6&&_0x382aa6(_0x19e5ef):(this['_app']['applyScene'+'Settings'](_0x32c15d['data']['settings']),_0x382aa6&&_0x382aa6(null));});}['changeScen'+'e'](_0x6b424e,_0x5a6787){const _0x3d30f9=this['_app'],_0x44b6be=_0x2fbe4e=>{const {children:_0x5c1d42}=_0x3d30f9['root'];for(;_0x5c1d42['length'];)_0x5c1d42[0x2*0x4f+0x1fb4*-0x1+0x1f16*0x1]['destroy']();_0x3d30f9['applyScene'+'Settings'](_0x2fbe4e['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x6b424e,_0x44b6be,_0x5a6787);}['loadScene'](_0xb3b3d8,_0x23aad0){const _0x3b13d9=this['_app'],_0x8a394b=_0x3b13d9['loader']['getHandler']('scene');_0x3b13d9['assets']&&_0x3b13d9['assets']['prefix']&&!Da['test'](_0xb3b3d8)&&(_0xb3b3d8=fe['join'](_0x3b13d9['assets']['prefix'],_0xb3b3d8)),_0x8a394b['load'](_0xb3b3d8,(_0xcb4e6c,_0x1a3189)=>{if(_0xcb4e6c)_0x23aad0&&_0x23aad0(_0xcb4e6c);else{const _0x54fd4d=()=>{_0x3b13d9['systems']['script']['preloading']=!(-0x259f+-0x1fed+0x458c);const _0x3c3400=_0x8a394b['open'](_0xb3b3d8,_0x1a3189),_0x451bcd=this['findByUrl'](_0xb3b3d8);_0x451bcd&&!_0x451bcd['loaded']&&(_0x451bcd['data']=_0x1a3189),_0x3b13d9['systems']['script']['preloading']=!(-0xdb3+-0x1f02+0x2cb6),_0x3b13d9['loader']['clearCache'](_0xb3b3d8,'scene'),_0x3b13d9['loader']['patch']({'resource':_0x3c3400,'type':'scene'},_0x3b13d9['assets']),_0x3b13d9['root']['addChild'](_0x3c3400['root']),_0x3b13d9['systems']['rigidbody']&&typeof Ammo<'u'&&_0x3b13d9['systems']['rigidbody']['gravity']['set'](_0x3c3400['_gravity']['x'],_0x3c3400['_gravity']['y'],_0x3c3400['_gravity']['z']),_0x23aad0&&_0x23aad0(null,_0x3c3400);};_0x3b13d9['_preloadSc'+'ripts'](_0x1a3189,_0x54fd4d);}});}}class uP{constructor(_0x1499ae){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x1499ae['_shaderSta'+'ts'],this['vram']=_0x1499ae['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return tn()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x5882e8;return(_0x5882e8=tn()['lightmappe'+'r'])==null?void(-0x115+-0x24b9+-0xc9a*-0x3):_0x5882e8['stats'];}get['batcher'](){const _0x221c99=tn()['_batcher'];return _0x221c99?_0x221c99['_stats']:null;}}const Gr=class Gr extends ce{constructor(_0x67192c){super(),c(this,'_batcher',null),c(this,'_destroyRe'+'quested',!(-0x4*-0x4be+-0x256*0x1+-0x10a1)),c(this,'_inFrameUp'+'date',!(0x18d5+-0xf72*0x1+0x2*-0x4b1)),c(this,'_libraries'+'Loaded',!(0x1405+0x69f+-0x1aa3)),c(this,'_fillMode',V_),c(this,'_resolutio'+'nMode',q1),c(this,'_allowResi'+'ze',!(0xcb8+-0x1c99*0x1+0xfe1)),c(this,'_skyboxAss'+'et',null),c(this,'_soundMana'+'ger'),c(this,'_visibilit'+'yChangeHan'+'dler'),c(this,'_entityInd'+'ex',{}),c(this,'_inTools',!(0x19b4+0x3*-0xc5c+0xb61)),c(this,'_scriptPre'+'fix',''),c(this,'_time',0x1ac1+-0x8d4+-0x1*0x11ed),c(this,'enableBund'+'les',typeof TextDecoder<'u'),c(this,'frameReque'+'stId'),c(this,'timeScale',0x2506+-0x1ba7*-0x1+0x102b*-0x4),c(this,'maxDeltaTi'+'me',-0x161e+-0xfde+0x25fc+0.1),c(this,'frame',0xfa6*-0x2+0x151e*0x1+0xa2e),c(this,'frameGraph',new X1()),c(this,'renderer'),c(this,'scriptsOrd'+'er',[]),c(this,'stats'),c(this,'autoRender',!(-0xa2*-0x14+0x1dc8+-0x184*0x1c)),c(this,'renderNext'+'Frame',!(0xe71+-0x992+-0x4de)),c(this,'graphicsDe'+'vice'),c(this,'root'),c(this,'scene'),c(this,'lightmappe'+'r',null),c(this,'loader',new pa(this)),c(this,'assets'),c(this,'bundles'),c(this,'scenes',new dP(this)),c(this,'scripts',new oP(this)),c(this,'systems',new sP()),c(this,'i18n',new aP(this)),c(this,'keyboard',null),c(this,'mouse',null),c(this,'touch',null),c(this,'gamepads',null),c(this,'elementInp'+'ut',null),c(this,'xr',null),((no==null?void(0x1520+-0x481+-0x109f):no['indexOf']('$'))<0x202*-0xf+0x3*-0x21e+0x2478&&v['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+no+'\x20'+sy),Gr['_applicati'+'ons'][_0x67192c['id']]=this,qu(this),this['root']=new We(),this['root']['_enabledIn'+'Hierarchy']=!(-0x1da*-0x2+-0x547+0x193));}['init'](_0x7631d0){const {assetPrefix:_0x51326e,batchManager:_0x4cd20a,componentSystems:_0x4c5e24,elementInput:_0x2db5e9,gamepads:_0x8a59d8,graphicsDevice:_0x56931b,keyboard:_0x40e3b9,lightmapper:_0xdc01ca,mouse:_0x400364,resourceHandlers:_0x5e4745,scriptsOrder:_0x40c170,scriptPrefix:_0x50a134,soundManager:_0x276141,touch:_0x38a5db,xr:_0x480cb2}=_0x7631d0;v['assert'](_0x56931b,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x56931b,this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new uP(_0x56931b),this['_soundMana'+'ger']=_0x276141,this['scene']=new ci(_0x56931b),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new ao(this['loader']),_0x51326e&&(this['assets']['prefix']=_0x51326e),this['bundles']=new tP(this['assets']),this['scriptsOrd'+'er']=_0x40c170||[],this['defaultLay'+'erWorld']=new Lr({'name':'World','id':Fi}),this['defaultLay'+'erDepth']=new Lr({'name':'Depth','id':Xt,'enabled':!(0x1b06+-0x1ca0+0x1*0x19b),'opaqueSortMode':dh}),this['defaultLay'+'erSkybox']=new Lr({'name':'Skybox','id':vp,'opaqueSortMode':dh}),this['defaultLay'+'erUi']=new Lr({'name':'UI','id':tl,'transparentSortMode':Zb}),this['defaultLay'+'erImmediat'+'e']=new Lr({'name':'Immediate','id':bp,'opaqueSortMode':dh});const _0x2a7b97=new S_('default');_0x2a7b97['pushOpaque'](this['defaultLay'+'erWorld']),_0x2a7b97['pushOpaque'](this['defaultLay'+'erDepth']),_0x2a7b97['pushOpaque'](this['defaultLay'+'erSkybox']),_0x2a7b97['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x2a7b97['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x2a7b97['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x2a7b97['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x2a7b97,$r['createPlac'+'eholder'](_0x56931b),this['renderer']=new Gh(_0x56931b),this['renderer']['scene']=this['scene'],_0xdc01ca&&(this['lightmappe'+'r']=new _0xdc01ca(_0x56931b,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x4cd20a&&(this['_batcher']=new _0x4cd20a(_0x56931b,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x40e3b9||null,this['mouse']=_0x400364||null,this['touch']=_0x38a5db||null,this['gamepads']=_0x8a59d8||null,_0x2db5e9&&(this['elementInp'+'ut']=_0x2db5e9,this['elementInp'+'ut']['app']=this),this['xr']=_0x480cb2?new _0x480cb2(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x50a134||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new rP(this)),_0x5e4745['forEach'](_0x2ae98d=>{const _0x5488e8=new _0x2ae98d(this);this['loader']['addHandler'](_0x5488e8['handlerTyp'+'e'],_0x5488e8);}),_0x4c5e24['forEach'](_0x5cab29=>{this['systems']['add'](new _0x5cab29(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(0x4d9+-0xf*0x33+-0x1dc)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0xb90+0x181+0x8*0x142))):document['mozHidden']!==void(-0x3*-0xc9+-0xe21*-0x1+0xa*-0x1a6)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0xbec+0x7*-0x167+-0x21a))):document['msHidden']!==void(-0x8f*-0x45+0x80d+-0x2e98)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x38c*0xb+0x17ff*-0x1+-0x782*0x2))):document['webkitHidd'+'en']!==void(0xa*0xb4+0x1363+0x1a6b*-0x1)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x4b9+-0x1*0x25f1+-0x15*-0x195)))),this['tick']=fP(this);}static['getApplica'+'tion'](_0x58c456){return _0x58c456?Gr['_applicati'+'ons'][_0x58c456]:tn();}['_initDefau'+'ltMaterial'](){const _0x209e55=new cs();_0x209e55['name']='Default\x20Ma'+'terial',sC(this['graphicsDe'+'vice'],_0x209e55);}['_initProgr'+'amLibrary'](){const _0x51922c=new D1(this['graphicsDe'+'vice'],new cs());WE(this['graphicsDe'+'vice'],_0x51922c);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return v['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x108291,_0x971cf1){$e['get'](_0x108291,(_0x488042,_0x4cdf81)=>{if(_0x488042){_0x971cf1(_0x488042);return;}const _0x3ce7ef=_0x4cdf81['applicatio'+'n_properti'+'es'],_0x3a46e7=_0x4cdf81['scenes'],_0x396a10=_0x4cdf81['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x3ce7ef,_0x1151a8=>{this['_parseScen'+'es'](_0x3a46e7),this['_parseAsse'+'ts'](_0x396a10),_0x971cf1(_0x1151a8||null);});});}['preload'](_0x44a678){this['fire']('preload:st'+'art');const _0x13f14e=this['assets']['list']({'preload':!(-0x236*-0x5+0x23c2+0x358*-0xe)});if(_0x13f14e['length']===0x1*0x11ad+0x10ff+-0x27a*0xe){this['fire']('preload:en'+'d'),_0x44a678();return;}let _0x2dae9c=-0xc35*0x3+-0x5bb+0x1a*0x1a1;const _0x45191a=()=>{_0x2dae9c++,this['fire']('preload:pr'+'ogress',_0x2dae9c/_0x13f14e['length']),_0x2dae9c===_0x13f14e['length']&&(this['fire']('preload:en'+'d'),_0x44a678());};_0x13f14e['forEach'](_0x9fb908=>{_0x9fb908['loaded']?_0x45191a():(_0x9fb908['once']('load',_0x45191a),_0x9fb908['once']('error',_0x45191a),this['assets']['load'](_0x9fb908));});}['_preloadSc'+'ripts'](_0x2a9b6f,_0x2044c9){_0x2044c9();}['_parseAppl'+'icationPro'+'perties'](_0x210cf8,_0x2d8edb){if(typeof _0x210cf8['maxAssetRe'+'tries']=='number'&&_0x210cf8['maxAssetRe'+'tries']>0x5ef+-0x1943+0x1354&&this['loader']['enableRetr'+'y'](_0x210cf8['maxAssetRe'+'tries']),_0x210cf8['useDeviceP'+'ixelRatio']||(_0x210cf8['useDeviceP'+'ixelRatio']=_0x210cf8['use_device'+'_pixel_rat'+'io']),_0x210cf8['resolution'+'Mode']||(_0x210cf8['resolution'+'Mode']=_0x210cf8['resolution'+'_mode']),_0x210cf8['fillMode']||(_0x210cf8['fillMode']=_0x210cf8['fill_mode']),this['_width']=_0x210cf8['width'],this['_height']=_0x210cf8['height'],_0x210cf8['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x210cf8['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x210cf8['fillMode'],this['_width'],this['_height']),_0x210cf8['layers']&&_0x210cf8['layerOrder']){const _0x20354f=new S_('applicatio'+'n'),_0x103361={};for(const _0x3609dd in _0x210cf8['layers']){const _0x194e9c=_0x210cf8['layers'][_0x3609dd];_0x194e9c['id']=parseInt(_0x3609dd,-0xf*-0xb+-0x2*-0x2cb+0x5*-0x13d),_0x194e9c['enabled']=_0x194e9c['id']!==Xt,_0x103361[_0x3609dd]=new Lr(_0x194e9c);}for(let _0x717e57=0x13e0+0x1a6b+-0x2e4b,_0x35464e=_0x210cf8['layerOrder']['length'];_0x717e57<_0x35464e;_0x717e57++){const _0x104188=_0x210cf8['layerOrder'][_0x717e57],_0x1d8afa=_0x103361[_0x104188['layer']];_0x1d8afa&&(_0x104188['transparen'+'t']?_0x20354f['pushTransp'+'arent'](_0x1d8afa):_0x20354f['pushOpaque'](_0x1d8afa),_0x20354f['subLayerEn'+'abled'][_0x717e57]=_0x104188['enabled']);}this['scene']['layers']=_0x20354f;}if(_0x210cf8['batchGroup'+'s']){const _0x5ed61a=this['batcher'];if(_0x5ed61a)for(let _0xbdb9c1=-0xd32*-0x1+0x12*-0xbb+-0xc,_0x5e1576=_0x210cf8['batchGroup'+'s']['length'];_0xbdb9c1<_0x5e1576;_0xbdb9c1++){const _0x337abd=_0x210cf8['batchGroup'+'s'][_0xbdb9c1];_0x5ed61a['addGroup'](_0x337abd['name'],_0x337abd['dynamic'],_0x337abd['maxAabbSiz'+'e'],_0x337abd['id'],_0x337abd['layers']);}}_0x210cf8['i18nAssets']&&(this['i18n']['assets']=_0x210cf8['i18nAssets']),this['_loadLibra'+'ries'](_0x210cf8['libraries'],_0x2d8edb);}['_loadLibra'+'ries'](_0xe2926,_0x2549ce){const _0x360245=_0xe2926['length'];let _0x1b44bf=_0x360245;const _0x59cf5b=/^https?:\/\//;if(_0x360245){const _0x24e496=(_0x50aa78,_0x2fbf69)=>{_0x1b44bf--,_0x50aa78?_0x2549ce(_0x50aa78):_0x1b44bf===-0x1dc5+-0x29*0xb8+-0xbd9*-0x5&&(this['onLibrarie'+'sLoaded'](),_0x2549ce(null));};for(let _0x4952f8=0x125c+0x22ca+0x2*-0x1a93;_0x4952f8<_0x360245;++_0x4952f8){let _0xb97c0f=_0xe2926[_0x4952f8];!_0x59cf5b['test'](_0xb97c0f['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0xb97c0f=fe['join'](this['_scriptPre'+'fix'],_0xb97c0f)),this['loader']['load'](_0xb97c0f,'script',_0x24e496);}}else this['onLibrarie'+'sLoaded'](),_0x2549ce(null);}['_parseScen'+'es'](_0xa0e685){if(_0xa0e685){for(let _0x46b8d8=-0x1a74+-0x2498+0x327*0x14;_0x46b8d8<_0xa0e685['length'];_0x46b8d8++)this['scenes']['add'](_0xa0e685[_0x46b8d8]['name'],_0xa0e685[_0x46b8d8]['url']);}}['_parseAsse'+'ts'](_0x148fa8){const _0x151c82=[],_0x4967db={},_0x479280={};for(let _0x3d0a25=0x1d9+0x1a14+-0x1bed;_0x3d0a25<this['scriptsOrd'+'er']['length'];_0x3d0a25++){const _0x4ce9ef=this['scriptsOrd'+'er'][_0x3d0a25];_0x148fa8[_0x4ce9ef]&&(_0x4967db[_0x4ce9ef]=!(0x1b4*-0x2+0x94*-0x19+-0x5f4*-0x3),_0x151c82['push'](_0x148fa8[_0x4ce9ef]));}if(this['enableBund'+'les']){for(const _0x38590d in _0x148fa8)_0x148fa8[_0x38590d]['type']==='bundle'&&(_0x479280[_0x38590d]=!(-0x20*-0x12c+0x22*0x73+-0x34c6),_0x151c82['push'](_0x148fa8[_0x38590d]));}for(const _0x337975 in _0x148fa8)_0x4967db[_0x337975]||_0x479280[_0x337975]||_0x151c82['push'](_0x148fa8[_0x337975]);for(let _0x20ae23=-0x11ab*0x1+0xf77*0x2+-0xd43;_0x20ae23<_0x151c82['length'];_0x20ae23++){const _0x8f2d1=_0x151c82[_0x20ae23],_0x1f8594=new le(_0x8f2d1['name'],_0x8f2d1['type'],_0x8f2d1['file'],_0x8f2d1['data']);if(_0x1f8594['id']=parseInt(_0x8f2d1['id'],-0xbf4*-0x3+0x1*0x1853+-0x59*0xad),_0x1f8594['preload']=_0x8f2d1['preload']?_0x8f2d1['preload']:!(0x727+-0x550+-0x1d6),_0x1f8594['loaded']=_0x8f2d1['type']==='script'&&_0x8f2d1['data']&&_0x8f2d1['data']['loadingTyp'+'e']>0x25*0x92+0x201d*0x1+-0x1*0x3537,_0x1f8594['tags']['add'](_0x8f2d1['tags']),_0x8f2d1['i18n']){for(const _0x56d18c in _0x8f2d1['i18n'])_0x1f8594['addLocaliz'+'edAssetId'](_0x56d18c,_0x8f2d1['i18n'][_0x56d18c]);}this['assets']['add'](_0x1f8594);}}['start'](){v['call'](()=>{v['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(0x1*0x497+0x24a*-0xc+0x1*0x16e1);}),this['frame']=-0x11cf*-0x1+0x182b+0x4aa*-0x9,this['fire']('start',{'timestamp':ne(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x194801){this['controller']&&this['controller']['update'](_0x194801),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0xcef045){this['frame']++,this['graphicsDe'+'vice']['updateClie'+'ntRect'](),this['stats']['frame']['updateStar'+'t']=ne(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0xcef045),this['systems']['fire']('animationU'+'pdate',_0xcef045),this['systems']['fire']('postUpdate',_0xcef045),this['fire']('update',_0xcef045),this['inputUpdat'+'e'](_0xcef045),this['stats']['frame']['updateTime']=ne()-this['stats']['frame']['updateStar'+'t'];}['frameStart'](){this['graphicsDe'+'vice']['frameStart']();}['frameEnd'](){this['graphicsDe'+'vice']['frameEnd']();}['render'](){this['stats']['frame']['renderStar'+'t']=ne(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),Gh['_skipRende'+'rCounter']=-0x10b4+-0x146*-0x8+-0xc*-0x8b,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=ne()-this['stats']['frame']['renderStar'+'t'];}['renderComp'+'osition'](_0x344044){G['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x344044),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x344044),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0xd13531,_0x54d70d,_0x294657){const _0x409745=this['stats']['frame'];_0x409745['dt']=_0x54d70d,_0x409745['ms']=_0x294657,_0xd13531>_0x409745['_timeToCou'+'ntFrames']?(_0x409745['fps']=_0x409745['_fpsAccum'],_0x409745['_fpsAccum']=0x2318+-0x2359+-0x5*-0xd,_0x409745['_timeToCou'+'ntFrames']=_0xd13531+(-0x15fa+-0x27+0x1a09)):_0x409745['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=0x5*-0x175+-0x5e*-0x43+-0x1151;}['_fillFrame'+'Stats'](){let _0x151a4b=this['stats']['frame'];_0x151a4b['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x151a4b['materials']=this['renderer']['_materialS'+'witches'],_0x151a4b['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x151a4b['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x151a4b['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x151a4b['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x151a4b['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x2e115b=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x151a4b['triangles']=_0x2e115b[Ms]/(0x2*0x205+0x21a1*0x1+-0x25a8)+Math['max'](_0x2e115b[ar]-(-0x25a8+-0x411*-0x2+0x1d88),0x1*0x8bf+0x921+-0x11e0)+Math['max'](_0x2e115b[Yr]-(-0x4*0x409+-0x89b+0x18c1),0x1*0x73d+-0x3*-0x657+0x1*-0x1a42),_0x151a4b['cullTime']=this['renderer']['_cullTime'],_0x151a4b['sortTime']=this['renderer']['_sortTime'],_0x151a4b['skinTime']=this['renderer']['_skinTime'],_0x151a4b['morphTime']=this['renderer']['_morphTime'],_0x151a4b['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x151a4b['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x151a4b['otherPrimi'+'tives']=0x1481+-0x6dc+0x7*-0x1f3;for(let _0x1eb228=-0x133e+-0xdee*0x1+-0x2c*-0xc1;_0x1eb228<_0x2e115b['length'];_0x1eb228++)_0x1eb228<Ms&&(_0x151a4b['otherPrimi'+'tives']+=_0x2e115b[_0x1eb228]),_0x2e115b[_0x1eb228]=-0x2283+0xd*0x287+0x1a8;this['renderer']['_camerasRe'+'ndered']=-0x1f99*0x1+0x77*-0x43+0x6*0xa75,this['renderer']['_materialS'+'witches']=-0xb7e+0x1*0x1d99+-0x121b,this['renderer']['_shadowMap'+'Updates']=-0x909+-0x22b3+0x2bbc,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=-0x1*-0xe13+0x12af*0x1+-0x20c2,this['renderer']['_cullTime']=-0x4*0x5c1+-0x1f3*-0x5+0xd45,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=-0x1*0x25c9+0x1a7b+-0xb4e*-0x1,this['renderer']['_lightClus'+'tersTime']=0x12e*-0x20+-0x10*-0x1c+0x240*0x10,this['renderer']['_sortTime']=0x2f*0x35+0x5ba*-0x4+-0x1*-0xd2d,this['renderer']['_skinTime']=-0xc7*-0x1+-0x1a17+-0x6c*-0x3c,this['renderer']['_morphTime']=0xd3+-0x13d*0x1c+0x21d9,this['renderer']['_shadowMap'+'Time']=0x90e+-0x1*-0x22f1+-0x2bff,this['renderer']['_depthMapT'+'ime']=-0x1*-0x20ab+0x59e+-0x1*0x2649,this['renderer']['_forwardTi'+'me']=0x746+0x2591+-0x2cd7,_0x151a4b=this['stats']['drawCalls'],_0x151a4b['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x151a4b['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x151a4b['depth']=-0x5*0x776+-0x20fa+0x2324*0x2,_0x151a4b['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x151a4b['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x151a4b['immediate']=-0x25*-0x11+-0x1642+0x13cd,_0x151a4b['instanced']=0x5ce*0x4+-0x1*0x109c+-0x69c*0x1,_0x151a4b['removedByI'+'nstancing']=-0x1*-0x20a2+-0x1*0x24fa+-0x2*-0x22c,_0x151a4b['misc']=_0x151a4b['total']-(_0x151a4b['forward']+_0x151a4b['shadow']),this['renderer']['_depthDraw'+'Calls']=0x1da*0xe+-0x26*-0xc5+-0x372a,this['renderer']['_shadowDra'+'wCalls']=-0x23cc+0xace+0x18fe,this['renderer']['_forwardDr'+'awCalls']=0x2494+-0x2529+0x95,this['renderer']['_numDrawCa'+'llsCulled']=-0x1fcc+0x19bc+0x610,this['renderer']['_skinDrawC'+'alls']=0x29*-0x51+0x13f8+0x255*-0x3,this['renderer']['_immediate'+'Rendered']=0x5*-0x269+0x1*0x18da+-0xccd,this['renderer']['_instanced'+'DrawCalls']=0x4*-0x385+-0x218e+0xd*0x3aa,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x151a4b=this['stats']['particles'],_0x151a4b['updatesPer'+'Frame']=_0x151a4b['_updatesPe'+'rFrame'],_0x151a4b['frameTime']=_0x151a4b['_frameTime'],_0x151a4b['_updatesPe'+'rFrame']=-0xd*0x239+0x907*-0x3+0x37fa,_0x151a4b['_frameTime']=-0x6*-0x526+-0x1cfa+-0x1ea;}['setCanvasF'+'illMode'](_0x299eca,_0x99a07e,_0x58800e){this['_fillMode']=_0x299eca,this['resizeCanv'+'as'](_0x99a07e,_0x58800e);}['setCanvasR'+'esolution'](_0xa44cff,_0x3c7e9b,_0x31e8be){this['_resolutio'+'nMode']=_0xa44cff,_0xa44cff===G_&&_0x3c7e9b===void(-0xb09+-0x23*0x72+0x1a9f)&&(_0x3c7e9b=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x31e8be=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x3c7e9b,_0x31e8be);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x423514,_0x3d0781){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x5e0a09=window['innerWidth'],_0x1ef160=window['innerHeigh'+'t'];if(this['_fillMode']===V_){const _0x1756c3=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x6eccce=_0x5e0a09/_0x1ef160;_0x1756c3>_0x6eccce?(_0x423514=_0x5e0a09,_0x3d0781=_0x423514/_0x1756c3):(_0x3d0781=_0x1ef160,_0x423514=_0x3d0781*_0x1756c3);}else this['_fillMode']===$1&&(_0x423514=_0x5e0a09,_0x3d0781=_0x1ef160);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x423514+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x3d0781+'px',this['updateCanv'+'asSize'](),{'width':_0x423514,'height':_0x3d0781};}['updateCanv'+'asSize'](){var _0x59fc6f;if(!(!this['_allowResi'+'ze']||(_0x59fc6f=this['xr'])!=null&&_0x59fc6f['active'])&&this['_resolutio'+'nMode']===G_){const _0x419ea8=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x419ea8['clientWidt'+'h'],_0x419ea8['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(-0x1*0x260b+-0x19f6+0x4001),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x2845b1){let _0x343dc5;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x3bee53,_0x403eee,_0x518073]=_0x2845b1['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x3bee53,_0x403eee,_0x518073);}this['scene']['applySetti'+'ngs'](_0x2845b1),_0x2845b1['render']['hasOwnProp'+'erty']('skybox')&&(_0x2845b1['render']['skybox']?(_0x343dc5=this['assets']['get'](_0x2845b1['render']['skybox']),_0x343dc5?this['setSkybox'](_0x343dc5):this['assets']['once']('add:'+_0x2845b1['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x4d11a1,_0x42121e){_0x4d11a1&&_0x42121e?$r['set'](this['graphicsDe'+'vice'],_0x4d11a1,_0x42121e):v['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x54cc2a){if(_0x54cc2a!==this['_skyboxAss'+'et']){const _0x4478ac=()=>{this['setSkybox'](null);},_0x906c69=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x906c69,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x4478ac,this),this['_skyboxAss'+'et']['off']('change',_0x906c69,this)),this['_skyboxAss'+'et']=_0x54cc2a,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x906c69,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x4478ac,this),this['_skyboxAss'+'et']['on']('change',_0x906c69,this),this['scene']['skyboxMip']===-0x236f+0x1338*-0x2+-0x49df*-0x1&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(-0x19e8+0x1*-0x1d1e+-0x1b83*-0x2)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x906c69();}}['_firstBake'](){var _0x34147e;(_0x34147e=this['lightmappe'+'r'])==null||_0x34147e['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x1edc70;(_0x1edc70=this['batcher'])==null||_0x1edc70['generate']();}['_processTi'+'mestamp'](_0xdb67d3){return _0xdb67d3;}['drawLine'](_0x4ecff9,_0x344252,_0x3a2c63,_0x4667cf,_0x103db7){this['scene']['drawLine'](_0x4ecff9,_0x344252,_0x3a2c63,_0x4667cf,_0x103db7);}['drawLines'](_0x4cc634,_0x59850f,_0x45df6c=!(0x1727*-0x1+0x1a29+-0x302),_0x3eda82=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x4cc634,_0x59850f,_0x45df6c,_0x3eda82);}['drawLineAr'+'rays'](_0x11a3f1,_0x13a44d,_0x22304e=!(-0xd70+-0x1c3d+-0x1*-0x29ad),_0x1ee317=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x11a3f1,_0x13a44d,_0x22304e,_0x1ee317);}['drawWireSp'+'here'](_0xcb412,_0x1fa64a,_0x4aef58=Y['WHITE'],_0x140162=0x1*-0x10c5+-0x125+0x8ff*0x2,_0x169b37=!(0x14e9*0x1+-0x72*0x9+-0x10e7),_0x509090=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0xcb412,_0x1fa64a,_0x4aef58,_0x140162,_0x169b37,_0x509090);}['drawWireAl'+'ignedBox'](_0x5d8698,_0x39cd32,_0x5350f8=Y['WHITE'],_0x215f5b=!(-0x11ca+-0x1a95+0x2c5f),_0x5293ac=this['scene']['defaultDra'+'wLayer'],_0x5160c6){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x5d8698,_0x39cd32,_0x5350f8,_0x215f5b,_0x5293ac,_0x5160c6);}['drawMeshIn'+'stance'](_0x203130,_0xf536ce=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x203130,_0xf536ce);}['drawMesh'](_0x1f0e37,_0x16027f,_0x2a0025,_0x50591d=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x16027f,_0x2a0025,_0x1f0e37,null,_0x50591d);}['drawQuad'](_0x5a272b,_0xa277f3,_0x39eec2=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0xa277f3,_0x5a272b,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x39eec2);}['drawTextur'+'e'](_0x376db9,_0xd4087e,_0xcd80cb,_0x163635,_0x153ca8,_0x539467,_0x243925=this['scene']['defaultDra'+'wLayer'],_0x1e5fe4=!(0xaf4+0x5c*0x56+-0x29dc)){if(_0x1e5fe4===!(-0xcba+-0x1089+-0x2*-0xea2)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x1d200c=new q();_0x1d200c['setTRS'](new T(_0x376db9,_0xd4087e,0x2a+0x10*0x5+-0x7a),se['IDENTITY'],new T(_0xcd80cb,-_0x163635,-0x5*-0x4b+0x1*0x163d+-0x17b4)),_0x539467||(_0x539467=new Ra(),_0x539467['cull']=mt,_0x539467['setParamet'+'er']('colorMap',_0x153ca8),_0x539467['shaderDesc']=_0x1e5fe4?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x153ca8['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x539467['update']()),this['drawQuad'](_0x1d200c,_0x539467,_0x243925);}['drawDepthT'+'exture'](_0x3a5500,_0x1179fa,_0x122d96,_0x532878,_0x167f50=this['scene']['defaultDra'+'wLayer']){const _0xa06fc1=new Ra();_0xa06fc1['cull']=mt,_0xa06fc1['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0xa06fc1['update'](),this['drawTextur'+'e'](_0x3a5500,_0x1179fa,_0x122d96,_0x532878,null,_0xa06fc1,_0x167f50);}['destroy'](){var _0x47328e,_0x4a5b1b,_0x3cefd7,_0x575bc3;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(-0x7c9+0x26a3+-0x16*0x167);return;}const _0x5b40f5=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x3bf+0x791*0x5+0x2993*-0x1)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x1344*0x2+0x1d9*0x1+-0x2860)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x388+-0x1bde+0x1857)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x3*-0x57b+-0x1e08+0x57*0x28))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x477268=this['assets']['list']();for(let _0xeaefc1=-0x25d0+0xb14*0x1+0xd5e*0x2;_0xeaefc1<_0x477268['length'];_0xeaefc1++)_0x477268[_0xeaefc1]['unload'](),_0x477268[_0xeaefc1]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x359538=this['loader']['getHandler']('script');_0x359538==null||_0x359538['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x47328e=this['lightmappe'+'r'])==null||_0x47328e['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x4a5b1b=this['xr'])==null||_0x4a5b1b['end'](),(_0x3cefd7=this['xr'])==null||_0x3cefd7['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x575bc3=this['_soundMana'+'ger'])==null||_0x575bc3['destroy'](),this['_soundMana'+'ger']=null,Gr['_applicati'+'ons'][_0x5b40f5]=null,tn()===this&&qu(null),Gr['cancelTick'](this);}static['cancelTick'](_0x3140d8){_0x3140d8['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x3140d8['frameReque'+'stId']),_0x3140d8['frameReque'+'stId']=void(0x1*-0x2cd+0x1*-0x19c7+0xe4a*0x2));}['getEntityF'+'romIndex'](_0x363064){return this['_entityInd'+'ex'][_0x363064];}['_registerS'+'ceneImmedi'+'ate'](_0x5bb24d){this['on']('postrender',_0x5bb24d['immediate']['onPostRend'+'er'],_0x5bb24d['immediate']);}};c(Gr,'_applicati'+'ons',{});let qh=Gr;const jd={},fP=function(_0x1e35bd){const _0x5c146d=_0x1e35bd;return function(_0x422781,_0x40eba8){var _0x193622,_0x2918ad,_0x26d1d4,_0x48ddcf;if(!_0x5c146d['graphicsDe'+'vice'])return;_0x5c146d['frameReque'+'stId']&&((_0x2918ad=(_0x193622=_0x5c146d['xr'])==null?void(-0x1f5c+-0x1d42+0x3c9e):_0x193622['session'])==null||_0x2918ad['cancelAnim'+'ationFrame'](_0x5c146d['frameReque'+'stId']),cancelAnimationFrame(_0x5c146d['frameReque'+'stId']),_0x5c146d['frameReque'+'stId']=null),_0x5c146d['_inFrameUp'+'date']=!(0xf3f+-0x1b*0x11e+0xeeb*0x1),qu(_0x5c146d);const _0x32969a=_0x5c146d['_processTi'+'mestamp'](_0x422781)||ne(),_0x1c87d6=_0x32969a-(_0x5c146d['_time']||_0x32969a);let _0x57bdeb=_0x1c87d6/(0x14a9*0x1+0x11+-0x10d2*0x1);if(_0x57bdeb=N['clamp'](_0x57bdeb,-0x219a+0x1*0x13fd+-0x2b9*-0x5,_0x5c146d['maxDeltaTi'+'me']),_0x57bdeb*=_0x5c146d['timeScale'],_0x5c146d['_time']=_0x32969a,(_0x26d1d4=_0x5c146d['xr'])!=null&&_0x26d1d4['session']?_0x5c146d['frameReque'+'stId']=_0x5c146d['xr']['session']['requestAni'+'mationFram'+'e'](_0x5c146d['tick']):_0x5c146d['frameReque'+'stId']=ye['browser']||ye['worker']?requestAnimationFrame(_0x5c146d['tick']):null,_0x5c146d['graphicsDe'+'vice']['contextLos'+'t'])return;_0x5c146d['_fillFrame'+'StatsBasic'](_0x32969a,_0x57bdeb,_0x1c87d6),_0x5c146d['_fillFrame'+'Stats'](),_0x5c146d['fire']('frameupdat'+'e',_0x1c87d6);let _0x53965f=!(-0xa07+-0x1ccc+0xcf1*0x3);_0x40eba8?(_0x53965f=(_0x48ddcf=_0x5c146d['xr'])==null?void(-0x8*0x2fd+0x1*-0xfec+0x27d4):_0x48ddcf['update'](_0x40eba8),_0x5c146d['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x40eba8['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x5c146d['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,_0x53965f&&(v['trace'](jx,'----\x20Frame'+'\x20'+_0x5c146d['frame']),v['trace'](td,'--\x20UpdateS'+'tart\x20'+ne()['toFixed'](0x1*-0x1edd+-0x169f+-0x1abf*-0x2)+'ms'),_0x5c146d['update'](_0x57bdeb),_0x5c146d['fire']('framerende'+'r'),(_0x5c146d['autoRender']||_0x5c146d['renderNext'+'Frame'])&&(v['trace'](td,'--\x20RenderS'+'tart\x20'+ne()['toFixed'](-0x1063+-0x6*0x169+-0x7*-0x38d)+'ms'),_0x5c146d['updateCanv'+'asSize'](),_0x5c146d['frameStart'](),_0x5c146d['render'](),_0x5c146d['frameEnd'](),_0x5c146d['renderNext'+'Frame']=!(0x2484+-0xc31*0x1+-0x1852),v['trace'](td,'--\x20RenderE'+'nd\x20'+ne()['toFixed'](0x1f*0xc2+0x1*-0x2699+0xf1d)+'ms')),jd['timestamp']=ne(),jd['target']=_0x5c146d,_0x5c146d['fire']('frameend',jd)),_0x5c146d['_inFrameUp'+'date']=!(0x260e+0x1f7*0x2+-0x29fb),_0x5c146d['_destroyRe'+'quested']&&_0x5c146d['destroy']();};};class pP{constructor(){c(this,'elementInp'+'ut'),c(this,'keyboard'),c(this,'mouse'),c(this,'touch'),c(this,'gamepads'),c(this,'scriptPref'+'ix'),c(this,'assetPrefi'+'x'),c(this,'scriptsOrd'+'er'),c(this,'soundManag'+'er'),c(this,'graphicsDe'+'vice'),c(this,'lightmappe'+'r'),c(this,'batchManag'+'er'),c(this,'xr'),c(this,'componentS'+'ystems',[]),c(this,'resourceHa'+'ndlers',[]);}}const Qa=new Lf();class W0{constructor(_0x173300,_0x40c369,_0x4da0fb){this['scene']=_0x173300,this['light']=_0x40c369,this['store'](),_0x40c369['numCascade'+'s']=-0x172a+0x1*0x2103+-0x9d8,this['scene']['clusteredL'+'ightingEna'+'bled']&&(_0x40c369['castShadow'+'s']=_0x40c369['bakeShadow'+'s']&&_0x4da0fb['shadowsEna'+'bled']),_0x40c369['type']!==oe&&(_0x40c369['_node']['getWorldTr'+'ansform'](),_0x40c369['getBoundin'+'gSphere'](Qa),this['lightBound'+'s']=new _e(),this['lightBound'+'s']['center']['copy'](Qa['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](Qa['radius'],Qa['radius'],Qa['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0xd57db0=this['light'];_0xd57db0['mask']=this['mask'],_0xd57db0['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0xd57db0['enabled']=this['enabled'],_0xd57db0['intensity']=this['intensity'],_0xd57db0['_node']['setLocalRo'+'tation'](this['rotation']),_0xd57db0['numCascade'+'s']=this['numCascade'+'s'],_0xd57db0['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(0x1177+-0xc2f+0x2a4*-0x2),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x40a8c1){const _0x5ac35c=this['light'];_0x5ac35c['enabled']=!(0x18df+0x1*-0xede+-0xa00*0x1),_0x5ac35c['shadowMap']&&(_0x5ac35c['shadowMap']['cached']&&_0x40a8c1['add'](_0x5ac35c,_0x5ac35c['shadowMap']),_0x5ac35c['shadowMap']=null);}}const Hl=new W();class mP extends W0{constructor(_0x49c673,_0x448b76){super(_0x49c673['scene'],_0x448b76,_0x49c673['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===oe?this['light']['bakeNumSam'+'ples']:-0x2579+0x2*-0xb56+0x3c26;}['prepareVir'+'tualLight'](_0x292c01,_0x1de405){const _0x2d24b5=this['light'];if(_0x2d24b5['_node']['setLocalRo'+'tation'](this['rotation']),_0x292c01>-0x3*-0x3d5+-0x22e9+0x176a){const _0x43af93=_0x2d24b5['bakeArea'];ll['circlePoin'+'tDetermini'+'stic'](Hl,_0x292c01,_0x1de405),Hl['mulScalar'](_0x43af93*(0x1c8e+0x3d*-0x93+-0x679*-0x1+0.5)),_0x2d24b5['_node']['rotateLoca'+'l'](Hl['x'],-0x20ec+-0x2675+0x4761,Hl['y']);}_0x2d24b5['_node']['getWorldTr'+'ansform']();const _0x17eba5=-0x3*-0x8fa+-0x1*0x9f8+-0x14*0xd9+0.20000000000000018,_0x29540b=Math['pow'](this['intensity'],_0x17eba5);_0x2d24b5['intensity']=Math['pow'](_0x29540b/_0x1de405,(0x1*-0x1ad1+0x1d4+0x18fe)/_0x17eba5);}}const X_=new T();(function(){let _0x50ea0c;try{const _0x556da7=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x50ea0c=_0x556da7();}catch(_0x2dae5e){_0x50ea0c=window;}_0x50ea0c['setInterva'+'l'](_0x10aa8f,0x1d07+0x11*-0x211+0xdea);}());class j_ extends W0{constructor(_0x4c40e4){const _0x24fd5c=_0x4c40e4['scene'],_0x3fbf9d=new We('AmbientLig'+'ht');_0x3fbf9d['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(-0x1d1*-0x5+0x25*0x43+0x962*-0x2),'affectLightmapped':!(-0xd88+0x389*0x3+0x2ee),'bake':!(0x2656+0x3*-0x714+0x1*-0x111a),'bakeNumSamples':_0x24fd5c['ambientBak'+'eNumSample'+'s'],'castShadows':!(0x241e+0x2b*0x7a+-0x389c),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':Dt,'color':Y['WHITE'],'intensity':0x1,'bakeDir':!(0x2056*0x1+-0x1*-0x27a+-0x7*0x4f9)}),super(_0x24fd5c,_0x3fbf9d['light']['light'],_0x4c40e4['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x48e491,_0xeb7d5){ll['spherePoin'+'tDetermini'+'stic'](X_,_0x48e491,_0xeb7d5,0x1504+0xaca+0x54d*-0x6,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](X_['mulScalar'](-(0x2*0xcf5+-0x7*0xa4+0x156d*-0x1))),this['light']['_node']['rotateLoca'+'l'](0x23b9+0x712*0x3+0x1*-0x3895,0xe14+-0x20d4*-0x1+-0x2ee8,-0x937+0x15d3+-0x10d*0xc);const _0x5c9713=-0xcb*0x2e+-0x10*-0x139+0x4*0x43b+0.20000000000000018,_0x4dd222=(0x1012+0xfd+-0x110d)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x4a4d1e=Math['pow'](_0x4dd222,_0x5c9713);this['light']['intensity']=Math['pow'](_0x4a4d1e/_0xeb7d5,(0x5e9+0x63f+-0xc27)/_0x5c9713);}}class Wl{constructor(_0x420358,_0x3a6b42=null){this['node']=_0x420358,this['component']=_0x420358['render']||_0x420358['model'],_0x3a6b42=_0x3a6b42||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x3a6b42,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const Y_=-0x101c*0x1+0x23c6+0x1*-0x139b;class _P{constructor(_0x2885c4){this['device']=_0x2885c4,this['shaderDila'+'te']=Is(_0x2885c4,X['fullscreen'+'QuadVS'],vo['dilatePS'],'lmDilate'),this['constantTe'+'xSource']=_0x2885c4['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x2885c4['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(0x35*0x23+-0x587+-0x1b6*0x1),this['shaderDeno'+'ise']=[],this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null;}['setSourceT'+'exture'](_0x1b05a4){this['constantTe'+'xSource']['setValue'](_0x1b05a4);}['prepare'](_0x1de413,_0x3c932e){this['pixelOffse'+'t'][0x1*0x78d+-0x1*0xe76+0x6e9*0x1]=(-0x1*0x1ddc+0x1fdf+0x101*-0x2)/_0x1de413,this['pixelOffse'+'t'][0xcf2+-0x736+-0x5bb]=(0xe4d+-0xf61+-0x1*-0x115)/_0x3c932e,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x11d23c,_0x3191b4,_0x349614){const _0x4b0cdc=_0x349614?0x1cc1+-0x3c9+-0x18f8:-0xae7*0x2+-0x527*-0x3+0x65a;if(!this['shaderDeno'+'ise'][_0x4b0cdc]){const _0x40130d='lmBilatera'+'lDeNoise-'+(_0x349614?'hdr':'rgbm'),_0x5b7ae1=_0x349614?'#define\x20HD'+'R\x0a':'';this['shaderDeno'+'ise'][_0x4b0cdc]=Is(this['device'],X['fullscreen'+'QuadVS'],_0x5b7ae1+vo['bilateralD'+'eNoisePS'],_0x40130d),this['sigmas']=new Float32Array(-0xb39+0x1*0xccd+-0x1*0x192),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][-0x16f9+0x220c+-0x7*0x195]=_0x11d23c,this['sigmas'][0xec4+0x143c+-0x22ff]=_0x3191b4,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x11d23c,_0x3191b4);}['getDenoise'](_0x561871){const _0x4d3218=_0x561871?0xf*-0x112+0x734+0x8da:-0x869*0x1+-0xee1+-0x43*-0x59;return this['shaderDeno'+'ise'][_0x4d3218];}['getDilate'](_0x424f91,_0x48f9d8){const _0x55f8e7=_0x48f9d8?0x2436+-0x7de*0x1+-0x4*0x716:-0x88*0x3b+0x27d*0x2+0x1a5f;if(!this['shaderDila'+'te'][_0x55f8e7]){const _0x320d11='lmDilate-'+(_0x48f9d8?'hdr':'rgbm'),_0x451b65=_0x48f9d8?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x55f8e7]=Is(_0x424f91,X['fullscreen'+'QuadVS'],_0x451b65+vo['dilatePS'],_0x320d11);}return this['shaderDila'+'te'][_0x55f8e7];}['evaluateDe'+'noiseUnifo'+'rms'](_0x194b90,_0x25a6f7){function _0x2b52fe(_0x1374a5,_0x542b16){return(0x25ef*0x1+0xa36*-0x1+-0x1bb9+0.39894)*Math['exp'](-(0x10d3+0xa5*0x1+0x1178*-0x1+0.5)*_0x1374a5*_0x1374a5/(_0x542b16*_0x542b16))/_0x542b16;}this['kernel']=this['kernel']||new Float32Array(Y_);const _0x158fdc=this['kernel'],_0x271646=Math['floor']((Y_-(-0x51*-0x4d+-0x1065*-0x1+0x28c1*-0x1))/(-0x1829*-0x1+-0x1*-0x3b9+-0x1be0));for(let _0x18a463=0x1*0x1981+-0xc02+-0xd7f;_0x18a463<=_0x271646;++_0x18a463){const _0x1febfb=_0x2b52fe(_0x18a463,_0x194b90);_0x158fdc[_0x271646+_0x18a463]=_0x1febfb,_0x158fdc[_0x271646-_0x18a463]=_0x1febfb;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x3a1f3a=(-0xdb8+0x1*0x649+0x770*0x1)/_0x2b52fe(-0x1*0x250f+-0xb38+0x3047,_0x25a6f7);this['bZnorm']['setValue'](_0x3a1f3a);}}class gP extends ds{constructor(_0x381d0d,_0x1c6070,_0x34afdf,_0x4c8978,_0x2674a3,_0x15851b){super(_0x381d0d),c(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x1c6070,this['camera']=_0x34afdf,this['worldClust'+'ers']=_0x4c8978,this['receivers']=_0x2674a3,this['lightArray']=_0x15851b);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x41addf=>{_0x41addf['defaultUni'+'formBuffer']['destroy'](),_0x41addf['destroy']();}),this['viewBindGr'+'oups']['length']=0x13cd*0x1+-0x101d+-0x3b0;}['execute'](){const _0x58f527=this['device'];G['pushGpuMar'+'ker'](_0x58f527,'Lightmappe'+'r');const {renderer:_0x2d1de4,camera:_0x5da948,receivers:_0x5e75d2,renderTarget:_0x481cf6,worldClusters:_0xcb8ee5,lightArray:_0x454202}=this;_0x2d1de4['renderForw'+'ardLayer'](_0x5da948,_0x481cf6,null,void(0x6f*-0x8+-0x1c33+0x1fab),gn,this['viewBindGr'+'oups'],{'meshInstances':_0x5e75d2,'splitLights':_0x454202,'lightClusters':_0xcb8ee5}),G['popGpuMark'+'er'](_0x58f527);}}const yP=-0x1d*0x152+0x137f+0x1acb,xP=0x2f6*-0x2+-0x241b+0x1d*0x173,SP=0xf4e+-0x6fa+-0x853,$l=new T();class vP{constructor(_0x456535,_0x1a1d8b,_0x4e6588,_0x49dfd7,_0x157073){this['device']=_0x456535,this['root']=_0x1a1d8b,this['scene']=_0x4e6588,this['renderer']=_0x49dfd7,this['assets']=_0x157073,this['shadowMapC'+'ache']=_0x49dfd7['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(-0x14*-0x14+0x2e9+-0x478),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new Y(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0xaee5dc;Si['decRef'](this['blackTex']),this['blackTex']=null,Si['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0xaee5dc=this['camera'])==null||_0xaee5dc['destroy'](),this['camera']=null;}['initBake'](_0x330b33){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Se,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(0x137b+0x1485+-0x500*0x8),this['lightmapFi'+'lters']=new _P(_0x330b33),this['constantBa'+'keDir']=_0x330b33['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new he(this['device'],{'width':0x4,'height':0x4,'format':Se,'type':on,'name':'lightmapBl'+'ack'}),Si['incRef'](this['blackTex']);const _0x261223=new ol();_0x261223['clearColor']['set'](-0x1*-0x23a2+-0xa75*0x2+-0x4e8*0x3,-0x1e5f+-0x2d3*-0x5+0x1040,0x379+0x1*0x170f+-0x8d8*0x3,0x94*-0x4+-0x1*-0xe43+-0x1b5*0x7),_0x261223['clearColor'+'Buffer']=!(-0x1554+-0xbbb+0x210f),_0x261223['clearDepth'+'Buffer']=!(0x1*-0x1945+0x1881+0xc5),_0x261223['clearStenc'+'ilBuffer']=!(0x9b*0x3e+-0x1e4*0x1+0x721*-0x5),_0x261223['frustumCul'+'ling']=!(0x213f+0x5*0x5e+-0x2314),_0x261223['projection']=ua,_0x261223['aspectRati'+'o']=0x1f*0x53+-0x3*-0x353+-0x1405,_0x261223['node']=new De(),this['camera']=_0x261223,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=sl,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=Ap;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x2226db=new L0(_0x330b33['supportsAr'+'eaLights'],_0x330b33['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x2226db;const _0x3b3faa=this['scene']['lighting'];_0x2226db['shadowsEna'+'bled']=_0x3b3faa['shadowsEna'+'bled'],_0x2226db['shadowAtla'+'sResolutio'+'n']=_0x3b3faa['shadowAtla'+'sResolutio'+'n'],_0x2226db['cookiesEna'+'bled']=_0x3b3faa['cookiesEna'+'bled'],_0x2226db['cookieAtla'+'sResolutio'+'n']=_0x3b3faa['cookieAtla'+'sResolutio'+'n'],_0x2226db['areaLights'+'Enabled']=_0x3b3faa['areaLights'+'Enabled'],_0x2226db['cells']=new T(-0xc51*0x1+0x1f08+-0x12b4*0x1,0xdce*0x2+-0x7d*-0x2+-0x1c93,0x422+-0x71*0x56+0x21d7),_0x2226db['maxLightsP'+'erCell']=-0x1100+0x2c*-0xaa+0x2e3c,this['worldClust'+'ers']=new zu(_0x330b33),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x1b8b25){this['materials']=[];function _0x500bc0(_0x115fe1){Si['decRef'](_0x115fe1['colorBuffe'+'r']),_0x115fe1['destroy']();}this['renderTarg'+'ets']['forEach'](_0x42425a=>{_0x500bc0(_0x42425a);}),this['renderTarg'+'ets']['clear'](),_0x1b8b25['forEach'](_0x5c02be=>{_0x5c02be['renderTarg'+'ets']['forEach'](_0x53b74a=>{_0x500bc0(_0x53b74a);}),_0x5c02be['renderTarg'+'ets']['length']=-0x1d5c*0x1+0x5d5*0x1+0x1787;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x2b51df,_0x1bf0e1,_0xe36c4,_0x4ce510){const _0x816ee6=new cs();_0x816ee6['name']='lmMaterial'+'-pass:'+_0xe36c4+'-ambient:'+_0x4ce510,_0x816ee6['chunks']['APIVersion']=hi;const _0x193fc3='#define\x20UV'+'1LAYOUT\x0a';if(_0x816ee6['chunks']['transformV'+'S']=_0x193fc3+X['transformV'+'S'],_0xe36c4===xP){let _0x116ada=vo['bakeLmEndP'+'S'];_0x4ce510?_0x116ada='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20((d'+'DiffuseLig'+'ht\x20-\x200.5)\x20'+'*\x20max('+_0x1bf0e1['ambientBak'+'eOcclusion'+'Contrast']['toFixed'](0x1*0xa72+-0x68c+-0x3e5)+('\x20+\x201.0,\x200.'+'0))\x20+\x200.5;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20ve'+'c3(')+_0x1bf0e1['ambientBak'+'eOcclusion'+'Brightness']['toFixed'](-0xb62+0x1df*-0x1+0xd42)+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20s'+'aturate(dD'+'iffuseLigh'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20dAmbientL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20')+_0x116ada:_0x816ee6['ambient']=new Y(0x1483+-0x1*-0x791+-0x1c14,-0x15d1+0x848*0x1+-0x3*-0x483,-0x14e*0x1+-0x5*-0x42d+-0x1393),_0x816ee6['chunks']['basePS']=X['basePS']+(this['bakeHDR']?'':'\x0a#define\x20L'+'IGHTMAP_RG'+'BM\x0a'),_0x816ee6['chunks']['endPS']=_0x116ada,_0x816ee6['lightMap']=this['blackTex'];}else _0x816ee6['chunks']['basePS']=X['basePS']+('\x0auniform\x20s'+'ampler2D\x20t'+'exture_dir'+'LightMap;\x0a'+'uniform\x20fl'+'oat\x20bakeDi'+'r;\x0a'),_0x816ee6['chunks']['endPS']=vo['bakeDirLmE'+'ndPS'];return _0x816ee6['chunks']['outputAlph'+'aPS']='\x0a',_0x816ee6['chunks']['outputAlph'+'aOpaquePS']='\x0a',_0x816ee6['chunks']['outputAlph'+'aPremulPS']='\x0a',_0x816ee6['cull']=mt,_0x816ee6['forceUv1']=!(0xc17+-0x18b1+0xc9a*0x1),_0x816ee6['update'](),_0x816ee6;}['createMate'+'rials'](_0x1a989b,_0xe378a3,_0x5a157d){for(let _0x34711d=-0x1c57+0x1*-0x229+-0x10*-0x1e8;_0x34711d<_0x5a157d;_0x34711d++)this['passMateri'+'als'][_0x34711d]||(this['passMateri'+'als'][_0x34711d]=this['createMate'+'rialForPas'+'s'](_0x1a989b,_0xe378a3,_0x34711d,!(0x6fc+0x4*-0x82f+0x19c1)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x1a989b,_0xe378a3,0x164d+-0x1dda+0x78d,!(-0x2535+0x110+0x1e7*0x13)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x575804){return _0x575804['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1e93+-0x1423+-0x2*-0x195b),_0x575804['litOptions']['separateAm'+'bient']=!(0x1d*0x3b+-0x1*-0xaf6+-0x11a5),_0x575804;});}['createText'+'ure'](_0x21afe7,_0x2b106e){return new he(this['device'],{'profilerHint':Oy,'width':_0x21afe7,'height':_0x21afe7,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(0xe41*0x1+0x2*-0xbcf+0x95e),'type':this['bakeHDR']?Di:on,'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x2b106e});}['collectMod'+'els'](_0x15c3e1,_0x121211,_0x3c4005){var _0x591ab9,_0x2366be,_0x1bb942;if(!_0x15c3e1['enabled'])return;let _0x400f46;if((_0x591ab9=_0x15c3e1['model'])!=null&&_0x591ab9['model']&&((_0x2366be=_0x15c3e1['model'])!=null&&_0x2366be['enabled'])&&(_0x3c4005&&_0x3c4005['push'](new Wl(_0x15c3e1)),_0x15c3e1['model']['lightmappe'+'d']&&_0x121211&&(_0x400f46=_0x15c3e1['model']['model']['meshInstan'+'ces'])),(_0x1bb942=_0x15c3e1['render'])!=null&&_0x1bb942['enabled']&&(_0x3c4005&&_0x3c4005['push'](new Wl(_0x15c3e1)),_0x15c3e1['render']['lightmappe'+'d']&&_0x121211&&(_0x400f46=_0x15c3e1['render']['meshInstan'+'ces'])),_0x400f46){let _0x46f1ea=!(0x414*-0x8+0x1*0xac1+0x15df);for(let _0x2229b4=0x2279+0x2*0x95b+-0x352f;_0x2229b4<_0x400f46['length'];_0x2229b4++)if(!_0x400f46[_0x2229b4]['mesh']['vertexBuff'+'er']['format']['hasUv1']){v['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x15c3e1['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x46f1ea=!(-0x1150+-0x733*-0x3+0x1*-0x448);break;}if(_0x46f1ea){const _0x257843=[];for(let _0x15a23f=-0xd99*0x1+-0xcda+-0xb7*-0x25;_0x15a23f<_0x400f46['length'];_0x15a23f++){const _0x61ca3b=_0x400f46[_0x15a23f]['mesh'];this['_tempSet']['has'](_0x61ca3b)?_0x121211['push'](new Wl(_0x15c3e1,[_0x400f46[_0x15a23f]])):_0x257843['push'](_0x400f46[_0x15a23f]),this['_tempSet']['add'](_0x61ca3b);}this['_tempSet']['clear'](),_0x257843['length']>-0x1ed7+-0x246f+0x2*0x21a3&&_0x121211['push'](new Wl(_0x15c3e1,_0x257843));}}for(let _0x49e52a=-0x11d6+-0x1*0x259d+0x3773;_0x49e52a<_0x15c3e1['_children']['length'];_0x49e52a++)this['collectMod'+'els'](_0x15c3e1['_children'][_0x49e52a],_0x121211,_0x3c4005);}['prepareSha'+'dowCasters'](_0x253f7e){const _0x25a982=[];for(let _0x627322=-0x37*-0x7f+-0x3d*-0xa2+-0x41e3*0x1;_0x627322<_0x253f7e['length'];_0x627322++){const _0x494f44=_0x253f7e[_0x627322]['component'];if(_0x494f44['castShadow'+'s']=_0x494f44['castShadow'+'sLightmap'],_0x494f44['castShadow'+'sLightmap']){const _0x262b5f=_0x253f7e[_0x627322]['meshInstan'+'ces'];for(let _0x4ba4f7=0x5*-0x731+-0x1*-0x1b47+0x8ae;_0x4ba4f7<_0x262b5f['length'];_0x4ba4f7++)_0x262b5f[_0x4ba4f7]['visibleThi'+'sFrame']=!(0x1*-0xe3b+0x28+0xe13),_0x25a982['push'](_0x262b5f[_0x4ba4f7]);}}return _0x25a982;}['updateTran'+'sforms'](_0x1c4c03){for(let _0x2793d8=-0x1ff6*-0x1+-0xf8e+0xc8*-0x15;_0x2793d8<_0x1c4c03['length'];_0x2793d8++){const _0x2a5cd1=_0x1c4c03[_0x2793d8]['meshInstan'+'ces'];for(let _0x16f446=-0x53*0x2b+-0x48d*-0x7+-0x2*0x8f5;_0x16f446<_0x2a5cd1['length'];_0x16f446++)_0x2a5cd1[_0x16f446]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x4f22ea){let _0x276a2f;const _0x3feb48=this['scene']['lightmapSi'+'zeMultipli'+'er']||-0x2617+0x1e*-0x1d+-0xb*-0x3c7,_0x7bfadc=$l;let _0x518850,_0x4dfb9b;_0x4f22ea['model']?(_0x4dfb9b=_0x4f22ea['model']['lightmapSi'+'zeMultipli'+'er'],_0x4f22ea['model']['asset']?(_0x276a2f=this['assets']['get'](_0x4f22ea['model']['asset'])['data'],_0x276a2f['area']&&(_0x518850=_0x276a2f['area'])):_0x4f22ea['model']['_area']&&(_0x276a2f=_0x4f22ea['model'],_0x276a2f['_area']&&(_0x518850=_0x276a2f['_area']))):_0x4f22ea['render']&&(_0x4dfb9b=_0x4f22ea['render']['lightmapSi'+'zeMultipli'+'er'],_0x4f22ea['render']['type']!=='asset'&&_0x4f22ea['render']['_area']&&(_0x276a2f=_0x4f22ea['render'],_0x276a2f['_area']&&(_0x518850=_0x276a2f['_area'])));const _0x5e93ea={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x518850&&(_0x5e93ea['x']=_0x518850['x'],_0x5e93ea['y']=_0x518850['y'],_0x5e93ea['z']=_0x518850['z'],_0x5e93ea['uv']=_0x518850['uv']);const _0x468fd3=_0x4dfb9b||0xc87*-0x3+-0xd97+0x332d*0x1;_0x5e93ea['x']*=_0x468fd3,_0x5e93ea['y']*=_0x468fd3,_0x5e93ea['z']*=_0x468fd3;const _0x972162=_0x4f22ea['render']||_0x4f22ea['model'],_0x327054=this['computeNod'+'eBounds'](_0x972162['meshInstan'+'ces']);_0x7bfadc['copy'](_0x327054['halfExtent'+'s']);let _0x524ce=_0x5e93ea['x']*_0x7bfadc['y']*_0x7bfadc['z']+_0x5e93ea['y']*_0x7bfadc['x']*_0x7bfadc['z']+_0x5e93ea['z']*_0x7bfadc['x']*_0x7bfadc['y'];return _0x524ce/=_0x5e93ea['uv'],_0x524ce=Math['sqrt'](_0x524ce),Math['min'](N['nextPowerO'+'fTwo'](_0x524ce*_0x3feb48),this['scene']['lightmapMa'+'xResolutio'+'n']||yP);}['setLightma'+'pping'](_0x1787a3,_0x471537,_0x426bb9,_0x294f1a){for(let _0x153f9f=0x1c5*-0x13+-0x1224+0x7*0x765;_0x153f9f<_0x1787a3['length'];_0x153f9f++){const _0x2112d0=_0x1787a3[_0x153f9f],_0x34b929=_0x2112d0['meshInstan'+'ces'];for(let _0x3d1cb0=-0x68d+0x13ac*0x1+0x1*-0xd1f;_0x3d1cb0<_0x34b929['length'];_0x3d1cb0++){const _0x45fe8a=_0x34b929[_0x3d1cb0];if(_0x45fe8a['setLightma'+'pped'](_0x471537),_0x471537){_0x294f1a&&(_0x45fe8a['_shaderDef'+'s']|=_0x294f1a),_0x45fe8a['mask']=cr;for(let _0x6561b7=-0x4e6+-0x239*-0x7+0xaa9*-0x1;_0x6561b7<_0x426bb9;_0x6561b7++){const _0x2773a1=_0x2112d0['renderTarg'+'ets'][_0x6561b7]['colorBuffe'+'r'];_0x2773a1['minFilter']=st,_0x2773a1['magFilter']=st,_0x45fe8a['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x6561b7],_0x2773a1);}}}}}['bake'](_0x4ee066,_0xa2137d=ch){const _0x189200=this['device'],_0x48f728=ne();this['scene']['_updateSky'+'Mesh'](),_0x189200['fire']('lightmappe'+'r:start',{'timestamp':_0x48f728,'target':this}),this['stats']['renderPass'+'es']=-0x2638*0x1+0x863*-0x2+0x36fe,this['stats']['shadowMapT'+'ime']=-0x12d1+-0xd69*-0x2+0x3*-0x2ab,this['stats']['forwardTim'+'e']=-0x24a*0x3+0xc*-0x3b+0x9a2;const _0x4e877c=_0x189200['_shaderSta'+'ts']['linked'],_0x48137a=_0x189200['_renderTar'+'getCreatio'+'nTime'],_0x3e5740=_0x189200['_shaderSta'+'ts']['compileTim'+'e'],_0x33db49=[],_0x29a8d6=[];if(_0x4ee066){for(let _0xe8fb6e=0x1c51+0x4c7*0x4+-0x2f6d;_0xe8fb6e<_0x4ee066['length'];_0xe8fb6e++)this['collectMod'+'els'](_0x4ee066[_0xe8fb6e],_0x33db49,null);this['collectMod'+'els'](this['root'],null,_0x29a8d6);}else this['collectMod'+'els'](this['root'],_0x33db49,_0x29a8d6);if(G['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x33db49['length']>0x1105+-0x1ca9+-0x5*-0x254){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x4189f6=_0xa2137d===ch?-0x1050+0xc30+-0x211*-0x2:0x2239+-0x59*-0x52+-0x1f5d*0x2;this['setLightma'+'pping'](_0x33db49,!(0x5*-0x134+-0x308+0x90d),_0x4189f6),this['initBake'](_0x189200),this['bakeIntern'+'al'](_0x4189f6,_0x33db49,_0x29a8d6);let _0x12da4b=Fu;_0xa2137d===ch&&(_0x12da4b|=y0),this['scene']['ambientBak'+'e']&&(_0x12da4b|=x0),this['setLightma'+'pping'](_0x33db49,!(0x2f9*0xd+-0x24c0+-0x1e5),_0x4189f6,_0x12da4b),this['finishBake'](_0x33db49);}G['popGpuMark'+'er'](this['device']);const _0x257b6c=ne();this['stats']['totalRende'+'rTime']=_0x257b6c-_0x48f728,this['stats']['shadersLin'+'ked']=_0x189200['_shaderSta'+'ts']['linked']-_0x4e877c,this['stats']['compileTim'+'e']=_0x189200['_shaderSta'+'ts']['compileTim'+'e']-_0x3e5740,this['stats']['fboTime']=_0x189200['_renderTar'+'getCreatio'+'nTime']-_0x48137a,this['stats']['lightmapCo'+'unt']=_0x33db49['length'],_0x189200['fire']('lightmappe'+'r:end',{'timestamp':_0x257b6c,'target':this});}['allocateTe'+'xtures'](_0x39eb0b,_0xe991b4){for(let _0x3d5955=-0x1*0x649+-0x11*-0xfd+-0xa84;_0x3d5955<_0x39eb0b['length'];_0x3d5955++){const _0x55e3f6=_0x39eb0b[_0x3d5955],_0x1079f1=this['calculateL'+'ightmapSiz'+'e'](_0x55e3f6['node']);for(let _0x246b55=-0x186e+0xac*0x7+-0x19*-0xca;_0x246b55<_0xe991b4;_0x246b55++){const _0x26b689=this['createText'+'ure'](_0x1079f1,'lightmappe'+'r_lightmap'+'_'+_0x3d5955);Si['incRef'](_0x26b689),_0x55e3f6['renderTarg'+'ets'][_0x246b55]=new pt({'colorBuffer':_0x26b689,'depth':!(-0xef9*0x1+0x1a7d*-0x1+-0x2977*-0x1)});}if(!this['renderTarg'+'ets']['has'](_0x1079f1)){const _0x82b401=this['createText'+'ure'](_0x1079f1,'lightmappe'+'r_temp_lig'+'htmap_'+_0x1079f1);Si['incRef'](_0x82b401),this['renderTarg'+'ets']['set'](_0x1079f1,new pt({'colorBuffer':_0x82b401,'depth':!(0x21dd+0x196b+-0x25f*0x19)}));}}}['prepareLig'+'htsToBake'](_0x31a65b,_0x24425c){if(this['scene']['ambientBak'+'e']){const _0x382a36=new j_(this);_0x24425c['push'](_0x382a36);}const _0x5d254a=this['renderer']['lights'];for(let _0xfbb4c1=0x23b3+0xe8+-0x249b;_0xfbb4c1<_0x5d254a['length'];_0xfbb4c1++){const _0xf672dd=_0x5d254a[_0xfbb4c1],_0x596228=new mP(this,_0xf672dd);_0x31a65b['push'](_0x596228),_0xf672dd['enabled']&&(_0xf672dd['mask']&rr)!==0x1704+0x8ea+-0x43*0x7a&&(_0xf672dd['mask']=rr|cr|hs,_0xf672dd['shadowUpda'+'teMode']=_0xf672dd['type']===oe?Pp:cn,_0x24425c['push'](_0x596228));}_0x24425c['sort']();}['restoreLig'+'hts'](_0x826983){for(let _0x44dbe6=-0x125*0x19+0xe8a+0xe13;_0x44dbe6<_0x826983['length'];_0x44dbe6++)_0x826983[_0x44dbe6]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](0x10*-0x250+0x1c12+0x8ee,-0xae3*0x3+-0x1810+0x45d*0xd,0x64*0x17+0x199b+0x2297*-0x1),this['renderer']['setSceneCo'+'nstants']();}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x5bddb2){const _0x3df8d3=new _e();if(_0x5bddb2['length']>-0x1*0xd8d+0x2125+-0x1398){_0x3df8d3['copy'](_0x5bddb2[-0x424+-0x1*0x18f5+0x1d19]['aabb']);for(let _0x2c1905=-0x93+-0x4a3*0x1+0x3*0x1bd;_0x2c1905<_0x5bddb2['length'];_0x2c1905++)_0x3df8d3['add'](_0x5bddb2[_0x2c1905]['aabb']);}return _0x3df8d3;}['computeNod'+'esBounds'](_0x23a6be){for(let _0x4bb443=-0x28c*-0x1+0xd8*0x17+-0x15f4;_0x4bb443<_0x23a6be['length'];_0x4bb443++){const _0x3fae20=_0x23a6be[_0x4bb443]['meshInstan'+'ces'];_0x23a6be[_0x4bb443]['bounds']=this['computeNod'+'eBounds'](_0x3fae20);}}['computeBou'+'nds'](_0x48016c){const _0x55bb50=new _e();for(let _0x637f4f=0x1bc2+-0x2475+-0x8b3*-0x1;_0x637f4f<_0x48016c['length'];_0x637f4f++){_0x55bb50['copy'](_0x48016c[0x761*-0x3+-0x2db*0xc+0x3867]['aabb']);for(let _0x1f5d5b=0x155*-0x11+0x7a9*-0x1+0x1e4f;_0x1f5d5b<_0x48016c['length'];_0x1f5d5b++)_0x55bb50['add'](_0x48016c[_0x1f5d5b]['aabb']);}return _0x55bb50;}['backupMate'+'rials'](_0x486f2b){for(let _0x12449a=0x16f+0x1ed8+0x2047*-0x1;_0x12449a<_0x486f2b['length'];_0x12449a++)this['materials'][_0x12449a]=_0x486f2b[_0x12449a]['material'];}['restoreMat'+'erials'](_0x69fb3e){for(let _0x3bae83=0x1f57*0x1+-0x1cfb+0x2*-0x12e;_0x3bae83<_0x69fb3e['length'];_0x3bae83++)_0x69fb3e[_0x3bae83]['material']=this['materials'][_0x3bae83];}['lightCamer'+'aPrepare'](_0x84332d,_0x248e8e){const _0x43c0a0=_0x248e8e['light'];let _0x41e29e;return _0x43c0a0['type']===Re&&(_0x41e29e=_0x43c0a0['getRenderD'+'ata'](null,0x1281+0x282+-0x1503)['shadowCame'+'ra'],_0x41e29e['_node']['setPositio'+'n'](_0x43c0a0['_node']['getPositio'+'n']()),_0x41e29e['_node']['setRotatio'+'n'](_0x43c0a0['_node']['getRotatio'+'n']()),_0x41e29e['_node']['rotateLoca'+'l'](-(-0x10f0+-0x5*-0x61f+-0xd51),-0x55a+-0x1*0x127d+0x17d7,0x1*0x13b1+-0x17*-0x191+0x1*-0x37b8),_0x41e29e['projection']=Gs,_0x41e29e['nearClip']=_0x43c0a0['attenuatio'+'nEnd']/(-0x21a0+0x1*-0x16e1+-0x3c69*-0x1),_0x41e29e['farClip']=_0x43c0a0['attenuatio'+'nEnd'],_0x41e29e['aspectRati'+'o']=0x1467+-0x144a+-0x7*0x4,_0x41e29e['fov']=_0x43c0a0['_outerCone'+'Angle']*(-0x5*-0x409+-0x163f+-0x85*-0x4),this['renderer']['updateCame'+'raFrustum'](_0x41e29e)),_0x41e29e;}['lightCamer'+'aPrepareAn'+'dCull'](_0x39be9d,_0x4c76ca,_0x536bb8,_0xb9116f){const _0x3126e0=_0x39be9d['light'];let _0x36043c=!(-0x198d+0x94b+-0x1042*-0x1);if(_0x3126e0['type']===oe){$l['copy'](_0xb9116f['center']),$l['y']+=_0xb9116f['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n']($l),this['camera']['node']['setEulerAn'+'gles'](-(0x1*-0x1370+-0x4c*0x48+0x292a),0x163c+-0x1*0x4aa+-0x1192,0x4*-0x9ad+-0xfce+0x3682),this['camera']['nearClip']=-0x2417*0x1+-0x2007+0x1*0x441e,this['camera']['farClip']=_0xb9116f['halfExtent'+'s']['y']*(-0x9d+-0x41e*-0x4+-0xfd9);const _0x58e3fd=Math['max'](_0xb9116f['halfExtent'+'s']['x'],_0xb9116f['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x58e3fd;}else _0x39be9d['lightBound'+'s']['intersects'](_0x4c76ca['bounds'])||(_0x36043c=!(-0x4*0x3ad+-0x3*0x971+0x2b08));if(_0x3126e0['type']===Re){let _0x197c8d=!(-0x277*0x1+0x6c*0x25+0x1d*-0x74);const _0x116faf=_0x4c76ca['meshInstan'+'ces'];for(let _0x24de07=-0x7+0x209e+-0x2097;_0x24de07<_0x116faf['length'];_0x24de07++)if(_0x116faf[_0x24de07]['_isVisible'](_0x536bb8)){_0x197c8d=!(-0x1d50+0x1bd9+0x177);break;}_0x197c8d||(_0x36043c=!(-0x3*0xc44+-0x1*-0x1c67+-0x19*-0x56));}return _0x36043c;}['setupLight'+'Array'](_0x3cff52,_0x375cf9){_0x3cff52[oe]['length']=-0x1*0x15d8+0xb6a+0xa6e*0x1,_0x3cff52[Pe]['length']=0x1ac3+0x23e5+-0x3ea8,_0x3cff52[Re]['length']=0x1d3e+-0x25d+0x1ae1*-0x1,_0x3cff52[_0x375cf9['type']][0x1d1f+-0xf9+-0x1c26]=_0x375cf9,_0x375cf9['visibleThi'+'sFrame']=!(0xe85+-0x2ce*-0x2+0x1*-0x1421);}['renderShad'+'owMap'](_0x41a995,_0x3d60f5,_0x5df39f,_0x123b7c){const _0x4361f7=_0x123b7c['light'],_0x4ca563=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x469c62=_0x4361f7['castShadow'+'s']&&(!_0x4ca563||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x3d60f5&&_0x469c62){if(!_0x4361f7['shadowMap']&&!_0x4ca563&&(_0x4361f7['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x4361f7)),_0x4361f7['type']===oe){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x4361f7,_0x41a995,this['camera'],_0x5df39f);const _0x2465fe=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x4361f7,this['camera']);_0x2465fe==null||_0x2465fe['render']();}else{if(this['device']['isWebGPU'])return v['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(-0x20bb+-0x9*-0x341+0x372);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x4361f7,_0x41a995,_0x5df39f),this['renderer']['shadowRend'+'erer']['render'](_0x4361f7,this['camera'],!(-0x23d3+0xc9+0x230b));}}return!(-0x1b97+-0x1ad9+0x218*0x1a);}['postproces'+'sTextures'](_0x267479,_0x5a4b9c,_0x51bd08){const _0x48abbf=this['lightmapFi'+'lters']['getDilate'](_0x267479,this['bakeHDR']);let _0x4344c3;const _0x5631d6=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x5631d6&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x4344c3=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x267479['setBlendSt'+'ate'](_t['NOBLEND']),_0x267479['setDepthSt'+'ate'](as['NODEPTH']),_0x267479['setStencil'+'State'](null,null);for(let _0x55c63b=0xa0e*0x1+0x8be+-0x322*0x6;_0x55c63b<_0x5a4b9c['length'];_0x55c63b++){const _0x1462cb=_0x5a4b9c[_0x55c63b];G['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x55c63b);for(let _0x35b0c7=0x3f0+0xf64+-0x1354;_0x35b0c7<_0x51bd08;_0x35b0c7++){const _0x4f8b3b=_0x1462cb['renderTarg'+'ets'][_0x35b0c7],_0x2ccc2b=_0x4f8b3b['colorBuffe'+'r'],_0x48d237=this['renderTarg'+'ets']['get'](_0x2ccc2b['width']),_0x3f6d59=_0x48d237['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x2ccc2b['width'],_0x2ccc2b['height']);for(let _0x2b9ca8=0x1196+0x1e8*-0x2+-0x29*0x56;_0x2b9ca8<0x1927+0x2339+-0x57d*0xb;_0x2b9ca8++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x2ccc2b),dn(_0x267479,_0x48d237,_0x5631d6&&_0x35b0c7===-0x16b5+0xb3f+-0x12*-0xa3&&_0x2b9ca8===-0x602*0x5+-0x1561+0x336b?_0x4344c3:_0x48abbf),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x3f6d59),dn(_0x267479,_0x4f8b3b,_0x48abbf);}G['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x4cf2c9,_0x3499d9,_0x3f3833){const _0xdeba43=this['scene'],_0x1f66de=_0xdeba43['layers'],_0x3a1a82=this['device'],_0x4406c1=_0xdeba43['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x3a1a82,_0xdeba43,_0x4cf2c9),this['setupScene'](),_0x1f66de['_update'](),this['computeNod'+'esBounds'](_0x3499d9),this['allocateTe'+'xtures'](_0x3499d9,_0x4cf2c9),this['renderer']['collectLig'+'hts'](_0x1f66de);const _0x5b98e3=[],_0x4c23da=[];this['prepareLig'+'htsToBake'](_0x5b98e3,_0x4c23da),this['updateTran'+'sforms'](_0x3f3833);const _0x5d9774=this['prepareSha'+'dowCasters'](_0x3f3833);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x5d9774),this['renderer']['gpuUpdate'](_0x5d9774);const _0x2486f7=this['computeBou'+'nds'](_0x5d9774);let _0x243ae9,_0x555335,_0x13d894,_0x1cf817;for(_0x243ae9=0xf5c+0xc77*-0x1+-0x2e5;_0x243ae9<_0x3499d9['length'];_0x243ae9++)for(_0x13d894=_0x3499d9[_0x243ae9]['meshInstan'+'ces'],_0x555335=0x1a*0xd7+0xf*0xc9+-0x1*0x219d;_0x555335<_0x13d894['length'];_0x555335++)_0x1cf817=_0x13d894[_0x555335],_0x1cf817['setLightma'+'pped'](!(-0x7*0x522+0x2*0xbb+0x2279)),_0x1cf817['mask']=rr,_0x1cf817['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][-0xa1e+0xdcd+-0x3af],this['blackTex']),_0x1cf817['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][-0xa96+-0x1b8b+-0x3*-0xcb6],this['blackTex']);for(_0x555335=0x6d*-0x2d+-0x14*-0x176+0x67*-0x19;_0x555335<_0x4c23da['length'];_0x555335++)_0x4c23da[_0x555335]['light']['enabled']=!(-0x1db8+0x9d*0x27+-0x2*-0x2e7);const _0x448c6d=[[],[],[]];let _0x4d7924,_0xd53d11,_0x331a0d=!(0x1eac+0xe88+-0x2d33);for(_0x243ae9=-0x29*-0x59+-0x192c+0xaeb;_0x243ae9<_0x4c23da['length'];_0x243ae9++){const _0x256c94=_0x4c23da[_0x243ae9],_0x50d45e=_0x256c94 instanceof j_,_0x54c8c7=_0x256c94['light']['type']===oe;let _0x5f56f3=_0x256c94['numVirtual'+'Lights'];_0x4cf2c9>0x2286+0x1e49+-0x40ce&&_0x5f56f3>-0x424*0x4+0x1c69+-0x2*0x5ec&&_0x256c94['light']['bakeDir']&&(_0x5f56f3=-0x1*-0x4b1+-0x1e21*-0x1+-0x22d1,v['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x254688=0x2325+-0xa6*0x30+0x157*-0x3;_0x254688<_0x5f56f3;_0x254688++){G['pushGpuMar'+'ker'](_0x3a1a82,'Light:'+_0x256c94['light']['_node']['name']+':'+_0x254688),_0x5f56f3>-0x1*0x249b+-0x4f7*0x3+0x125*0x2d&&_0x256c94['prepareVir'+'tualLight'](_0x254688,_0x5f56f3),_0x256c94['startBake']();let _0x53f30b=!(0x1de6+0x198c+-0x3771);const _0xf0bc32=this['lightCamer'+'aPrepare'](_0x3a1a82,_0x256c94);for(_0xd53d11=0x1*-0x219f+0xcb*-0x11+-0x2f1a*-0x1;_0xd53d11<_0x3499d9['length'];_0xd53d11++){const _0x2ff7c8=_0x3499d9[_0xd53d11];if(_0x13d894=_0x2ff7c8['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x256c94,_0x2ff7c8,_0xf0bc32,_0x2486f7))continue;this['setupLight'+'Array'](_0x448c6d,_0x256c94['light']);const _0x5999fb=_0x54c8c7?[]:[_0x256c94['light']];for(_0x4406c1&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x5999fb,this['lightingPa'+'rams']),_0x53f30b=this['renderShad'+'owMap'](_0x1f66de,_0x53f30b,_0x5d9774,_0x256c94),_0x4406c1&&this['worldClust'+'ers']['update'](_0x5999fb,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x13d894),_0x4d7924=0x4*0xa2+-0x6a*0x25+-0xcca*-0x1;_0x4d7924<_0x4cf2c9&&!(_0x4d7924>-0xb*-0xb+0x1c53+0xc2*-0x26&&_0x254688>-0x172*-0x13+0x98f*-0x1+0x11e7*-0x1||_0x50d45e&&_0x4d7924>-0xb39+0x7*0x2a5+-0x74a);_0x4d7924++){G['pushGpuMar'+'ker'](_0x3a1a82,'LMPass:'+_0x4d7924);const _0x57532d=_0x2ff7c8['renderTarg'+'ets'][_0x4d7924],_0x1d27c1=_0x2ff7c8['renderTarg'+'ets'][_0x4d7924]['colorBuffe'+'r']['width'],_0x1ac8e4=this['renderTarg'+'ets']['get'](_0x1d27c1),_0x17b482=_0x1ac8e4['colorBuffe'+'r'];_0x4d7924===0x1eed+-0x1800+-0x6ed?_0x331a0d=_0xdeba43['updateShad'+'ers']:_0x331a0d&&(_0xdeba43['updateShad'+'ers']=!(-0x27b*0xb+0x3*-0x5ae+-0x655*-0x7));let _0x2ef2da=this['passMateri'+'als'][_0x4d7924];for(_0x50d45e&&_0x254688+(-0x1*0x21a1+-0x5e7+0x2789)===_0x5f56f3&&_0x4d7924===0x980+-0xf36+0x5b6&&(_0x2ef2da=this['ambientAOM'+'aterial']),_0x555335=0x7b*0x8+0x20f3+-0x24cb;_0x555335<_0x13d894['length'];_0x555335++)_0x13d894[_0x555335]['material']=_0x2ef2da;if(this['renderer']['updateShad'+'ers'](_0x13d894),_0x4d7924===SP&&this['constantBa'+'keDir']['setValue'](_0x256c94['light']['bakeDir']?-0x2*0xd7d+-0x1763+0x325e:-0xe70+0x1202+-0x392),_0x3a1a82['isWebGPU']){const _0x1c98f2=new gP(_0x3a1a82,this['renderer'],this['camera'],_0x4406c1?this['worldClust'+'ers']:null,_0x13d894,_0x448c6d);_0x1c98f2['init'](_0x1ac8e4),_0x1c98f2['render'](),_0x1c98f2['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x1ac8e4,!(-0x1aa0+-0x12fb+-0x19*-0x1d3)),_0x4406c1&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=-0x13d1+0xef6+0x4db,this['renderer']['_shadowMap'+'Time']=-0xf52+0x6c5*-0x3+-0x7*-0x517,this['renderer']['renderForw'+'ard'](this['camera'],_0x1ac8e4,_0x13d894,_0x448c6d,gn),_0x3a1a82['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x2ff7c8['renderTarg'+'ets'][_0x4d7924]=_0x1ac8e4,this['renderTarg'+'ets']['set'](_0x1d27c1,_0x57532d),_0x555335=0x7*0x92+-0x25ac+0x9*0x3be;_0x555335<_0x13d894['length'];_0x555335++)_0x1cf817=_0x13d894[_0x555335],_0x1cf817['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x4d7924],_0x17b482),_0x1cf817['_shaderDef'+'s']|=Fu;G['popGpuMark'+'er'](_0x3a1a82);}this['restoreMat'+'erials'](_0x13d894);}_0x256c94['endBake'](this['shadowMapC'+'ache']),G['popGpuMark'+'er'](_0x3a1a82);}}for(this['postproces'+'sTextures'](_0x3a1a82,_0x3499d9,_0x4cf2c9),_0xd53d11=-0x869+0x1*-0x2223+0x2*0x1546;_0xd53d11<_0x3f3833['length'];_0xd53d11++)_0x3f3833[_0xd53d11]['restore']();this['restoreLig'+'hts'](_0x5b98e3),this['restoreSce'+'ne'](),_0x4406c1||this['shadowMapC'+'ache']['clear']();}}const oc=class oc extends ce{constructor(_0x52b948,_0xf1bc07){super(),c(this,'system'),c(this,'entity'),(this['system']=_0x52b948,this['entity']=_0xf1bc07,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x21d54e,_0x163102,_0x9aa1c9){this['fire']('set_'+_0x21d54e,_0x21d54e,_0x163102,_0x9aa1c9);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x5944fb,_0x9ec31b){_0x9ec31b['forEach'](_0x265463=>{const _0x137f55=typeof _0x265463=='object'?_0x265463['name']:_0x265463;Object['defineProp'+'erty'](_0x5944fb,_0x137f55,{'get':function(){return this['data'][_0x137f55];},'set':function(_0x494aee){const _0x416a0b=this['data'],_0x41d9ef=_0x416a0b[_0x137f55];_0x416a0b[_0x137f55]=_0x494aee,this['fire']('set',_0x137f55,_0x41d9ef,_0x494aee);},'configurable':!(0x116*-0x19+0x26c3*-0x1+0x41e9)});}),_0x5944fb['_accessors'+'Built']=!(0x4bb*0x7+0x846+-0x2963);}['buildAcces'+'sors'](_0x312b55){oc['_buildAcce'+'ssors'](this,_0x312b55);}['onSetEnabl'+'ed'](_0x15bec7,_0x539ad1,_0x234ea7){_0x539ad1!==_0x234ea7&&this['entity']['enabled']&&(_0x234ea7?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x1db203=this['system']['store'][this['entity']['getGuid']()];return _0x1db203?_0x1db203['data']:null;}set['enabled'](_0x4436a2){}get['enabled'](){return!(0x4cf+-0x1731+0x1262);}};c(oc,'order',-0x25c6+-0x1de8+0x43ae);let ue=oc;class Xe extends ce{constructor(_0x5de8f0){super(),this['app']=_0x5de8f0,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x11a6a1,_0x31f67f={}){const _0x34a24a=new this['ComponentT'+'ype'](this,_0x11a6a1),_0x804394=new this['DataType']();return this['store'][_0x11a6a1['getGuid']()]={'entity':_0x11a6a1,'data':_0x804394},_0x11a6a1[this['id']]=_0x34a24a,_0x11a6a1['c'][this['id']]=_0x34a24a,this['initialize'+'ComponentD'+'ata'](_0x34a24a,_0x31f67f,[]),this['fire']('add',_0x11a6a1,_0x34a24a),_0x34a24a;}['removeComp'+'onent'](_0x2ff6f1){const _0x216c8e=this['id'],_0x44c332=this['store'][_0x2ff6f1['getGuid']()],_0x1b4a96=_0x2ff6f1['c'][_0x216c8e];_0x1b4a96['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x2ff6f1,_0x1b4a96),delete this['store'][_0x2ff6f1['getGuid']()],_0x2ff6f1[_0x216c8e]=void(0x7bb*-0x4+-0x7af+-0x1*-0x269b),delete _0x2ff6f1['c'][_0x216c8e],this['fire']('remove',_0x2ff6f1,_0x44c332['data']);}['cloneCompo'+'nent'](_0x336cdd,_0x5e5a01){const _0x1dfbf9=this['store'][_0x336cdd['getGuid']()];return this['addCompone'+'nt'](_0x5e5a01,_0x1dfbf9['data']);}['initialize'+'ComponentD'+'ata'](_0x5a77c8,_0x63418={},_0x29488f){for(let _0x5c1bd1=-0xf15+0xfa+0xe1b,_0x28c7a4=_0x29488f['length'];_0x5c1bd1<_0x28c7a4;_0x5c1bd1++){const _0x8ccbe=_0x29488f[_0x5c1bd1];let _0x1781cc,_0x16d7d6;typeof _0x8ccbe=='object'?(_0x1781cc=_0x8ccbe['name'],_0x16d7d6=_0x8ccbe['type']):(_0x1781cc=_0x8ccbe,_0x16d7d6=void(0x2376+-0x137*-0x1d+-0x46b1));let _0x346ab9=_0x63418[_0x1781cc];_0x346ab9!==void(0x3*0x47b+0x7*0xb0+-0x1241*0x1)?(_0x16d7d6!==void(0x1848+0x1036+0x92*-0x47)&&(_0x346ab9=bP(_0x346ab9,_0x16d7d6)),_0x5a77c8[_0x1781cc]=_0x346ab9):_0x5a77c8[_0x1781cc]=_0x5a77c8['data'][_0x1781cc];}_0x5a77c8['enabled']&&_0x5a77c8['entity']['enabled']&&_0x5a77c8['onEnable']();}['getPropert'+'iesOfType'](_0x3ff5ab){const _0x55942a=[];return(this['schema']||[])['forEach'](_0x23db85=>{_0x23db85&&typeof _0x23db85=='object'&&_0x23db85['type']===_0x3ff5ab&&_0x55942a['push'](_0x23db85);}),_0x55942a;}['destroy'](){this['off']();}}function bP(_0x478c81,_0x3013c8){if(!_0x478c81)return _0x478c81;switch(_0x3013c8){case'rgb':return _0x478c81 instanceof Y?_0x478c81['clone']():new Y(_0x478c81[0x187*0xa+-0x9a7*0x1+-0x59f*0x1],_0x478c81[-0x2660+-0x5f0+0x5*0x8dd],_0x478c81[-0x582*-0x2+0x527*0x5+-0x1*0x24c5]);case'rgba':return _0x478c81 instanceof Y?_0x478c81['clone']():new Y(_0x478c81[0x2ec+-0x1*0x8a9+0x5bd],_0x478c81[0x25e5+-0x3f5+-0x21ef],_0x478c81[-0x1379+0x8bf+-0x6*-0x1ca],_0x478c81[-0xc1b+-0x22c2+0x2ee0]);case'vec2':return _0x478c81 instanceof W?_0x478c81['clone']():new W(_0x478c81[0x83d+-0x3+-0x83a],_0x478c81[0x175a+0x1589*0x1+-0x1671*0x2]);case'vec3':return _0x478c81 instanceof T?_0x478c81['clone']():new T(_0x478c81[0x138*-0x9+-0xf21+-0x83*-0x33],_0x478c81[0x2*0xe2+-0x7*0x2c2+0x1*0x118b],_0x478c81[-0xdaa+0x10d*-0x1f+0x2e3f]);case'vec4':return _0x478c81 instanceof Q?_0x478c81['clone']():new Q(_0x478c81[0x230c*-0x1+-0xb93+-0x37*-0xd9],_0x478c81[-0x481*0x7+0x272*0x4+-0x1d*-0xc0],_0x478c81[-0x1ab9+0x102+0x1*0x19b9],_0x478c81[-0xe9d+0xf18+-0x6*0x14]);case'boolean':case'number':case'string':return _0x478c81;case'entity':return _0x478c81;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x3013c8);}}const $0=0x2343+-0x1d91+-0x5b2,ju=-0x8dc+-0x12fd*-0x1+-0xa20,Yu=-0x24eb*-0x1+-0x1ef+-0x22fa;class wP{constructor(){this['_left']=(0xe6b*0x1+-0x35*-0x61+-0x227f)/(0x4*0x3b+0x5fc+-0x1*0x6e8),this['_right']=-(-0x1e9f+-0x1a71+0x3911*0x1)/(0x4*0x7d9+0x187b+0x37df*-0x1),this['_len']=0x2*0x6d9+0xf14+0x1*-0x1cc6,this['_recip']=0x1d20+-0x9d0*-0x2+-0x30c0,this['_p0']=-0x9a1+-0x2605+0x72*0x6b,this['_p1']=-0x1223*0x1+-0x219*0xe+0x2f81,this['_t']=0x2227*0x1+0x446+-0x1*0x266d,this['_hermite']={'valid':!(0xb68+-0x3*0x6cd+0x30*0x30),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x1354bc,_0x183847){if(_0x1354bc<this['_left']||_0x1354bc>=this['_right']){const _0x238452=_0x183847['length'];if(!_0x238452)this['_left']=-(0x3d2*-0xa+0x15*0x17+0x2452)/(-0x24ca+0x1321+0x11a9),this['_right']=(-0x13fd+0x1e26*0x1+0x4*-0x28a)/(0x1*0x2d7+-0x3*0x74f+-0xe*-0x15d),this['_len']=-0x1db1*0x1+0x188c+-0x1b7*-0x3,this['_recip']=-0x21cb+-0x79b+0x2966,this['_p0']=this['_p1']=-0x61d+0x5*0x4df+-0x1d3*0xa;else{if(_0x1354bc<_0x183847[0x3d6*0x2+0x1*0xb11+-0x12bd])this['_left']=-(-0x15*-0x133+-0x132d*0x1+0x35*-0x1d)/(-0x25ab+0xb19+0x1a92),this['_right']=_0x183847[0x3a1*0x7+-0x1b59+0xa6*0x3],this['_len']=-0x12c+0x224b+-0x211f,this['_recip']=-0x3*0x17f+0x1961+-0x4*0x539,this['_p0']=this['_p1']=0x651*-0x3+-0x13*0x101+0x2*0x1303;else{if(_0x1354bc>=_0x183847[_0x238452-(-0x243d+-0x3c2+0x200*0x14)])this['_left']=_0x183847[_0x238452-(0x14a7+0x17cc+-0x1*0x2c72)],this['_right']=(0x1c27+-0x151f+-0x707)/(-0x33a+0x979+-0x3*0x215),this['_len']=-0x61*0x25+-0x2587*0x1+0x338c,this['_recip']=-0x591+-0x1744+0x1cd5,this['_p0']=this['_p1']=_0x238452-(0x2428+-0x2*-0x123+0x9*-0x445);else{const _0x379476=this['_findKey'](_0x1354bc,_0x183847);this['_left']=_0x183847[_0x379476],this['_right']=_0x183847[_0x379476+(-0xc0f*-0x1+0x2*-0x1027+0x1440)],this['_len']=this['_right']-this['_left'];const _0x37ec77=(-0x1643*0x1+0xd8f+0x8b5*0x1)/this['_len'];this['_recip']=isFinite(_0x37ec77)?_0x37ec77:0x24*-0x111+-0x1291+0x38f5,this['_p0']=_0x379476,this['_p1']=_0x379476+(-0x4*-0xe1+0xa*0x8b+-0x8f1);}}}}this['_t']=this['_recip']===0x25e3+-0x1d*0x139+-0x2*0x137?-0x1*-0xf12+0xab5+-0x19c7:(_0x1354bc-this['_left'])*this['_recip'],this['_hermite']['valid']=!(0xfe1*-0x2+0x2b*-0x56+0x2e35);}['_findKey'](_0x5424ab,_0x36ce64){let _0x18a8b6=-0x1*0xb7b+-0x2*-0xa57+0xf*-0x9d;for(;_0x5424ab>=_0x36ce64[_0x18a8b6+(-0x7e1*-0x1+0x1b5f+-0x233f)];)_0x18a8b6++;return _0x18a8b6;}['eval'](_0x295f46,_0x438a6d,_0x261fa2){const _0x46889d=_0x261fa2['_data'],_0x5254c8=_0x261fa2['_component'+'s'],_0x954b10=this['_p0']*_0x5254c8;if(_0x438a6d===$0){for(let _0x2add99=0x1*0x43d+-0x9*-0x301+0x1f46*-0x1;_0x2add99<_0x5254c8;++_0x2add99)_0x295f46[_0x2add99]=_0x46889d[_0x954b10+_0x2add99];}else{const _0x3adc3d=this['_t'],_0x4b270c=this['_p1']*_0x5254c8;switch(_0x438a6d){case ju:for(let _0x1c125c=0x2*-0x137+0x174c+-0x14de;_0x1c125c<_0x5254c8;++_0x1c125c)_0x295f46[_0x1c125c]=N['lerp'](_0x46889d[_0x954b10+_0x1c125c],_0x46889d[_0x4b270c+_0x1c125c],_0x3adc3d);break;case Yu:{const _0x3f9302=this['_hermite'];if(!_0x3f9302['valid']){const _0x2c4790=_0x3adc3d*_0x3adc3d,_0x3a663d=_0x3adc3d+_0x3adc3d,_0x403d67=0x26ec+-0x53*-0x6d+-0x4a42-_0x3adc3d,_0x1a9d88=_0x403d67*_0x403d67;_0x3f9302['valid']=!(-0xe9*-0x11+0x1*-0x21c1+0x1248),_0x3f9302['p0']=(-0x7*-0x364+0x4d+-0x1808+_0x3a663d)*_0x1a9d88,_0x3f9302['m0']=_0x3adc3d*_0x1a9d88,_0x3f9302['p1']=_0x2c4790*(-0x1d59+-0x260c+0x4368-_0x3a663d),_0x3f9302['m1']=_0x2c4790*(_0x3adc3d-(0x1*-0x253f+-0x2b*0x43+0x102b*0x3));}const _0x126506=(this['_p0']*(-0xeee+0x6e*-0xf+0xf*0x16d)+(-0x1046*-0x1+-0x2339+0x12f4))*_0x5254c8,_0xc0df98=(this['_p0']*(0xf39*0x1+0x1*0x14cb+-0x2401)+(0x110*-0x18+-0x2*-0xf29+0x10*-0x4d))*_0x5254c8,_0x5cd548=(this['_p1']*(-0x20b1+-0x2505+0x45b9)+(0x1a13+0x31*0x3e+-0x25f0))*_0x5254c8,_0x5816db=(this['_p1']*(-0x1*0xea3+0xa9c+0x16*0x2f)+(-0x9*0x3cb+-0x2230+0x4453))*_0x5254c8;for(let _0x2e11ef=-0x9*0x3f3+0x12c7+0x10c4;_0x2e11ef<_0x5254c8;++_0x2e11ef)_0x295f46[_0x2e11ef]=_0x3f9302['p0']*_0x46889d[_0x126506+_0x2e11ef]+_0x3f9302['m0']*_0x46889d[_0xc0df98+_0x2e11ef]*this['_len']+_0x3f9302['p1']*_0x46889d[_0x5cd548+_0x2e11ef]+_0x3f9302['m1']*_0x46889d[_0x5816db+_0x2e11ef]*this['_len'];break;}}}}}class K_{constructor(_0x960b5c){this['_name']=_0x960b5c['name']+'Snapshot',this['_time']=-(0x1*0x2011+-0x19f0+-0x7*0xe0),this['_cache']=[],this['_results']=[];for(let _0x277ce4=-0x13*0x17+-0x3*-0x257+-0x550;_0x277ce4<_0x960b5c['_inputs']['length'];++_0x277ce4)this['_cache'][_0x277ce4]=new wP();const _0x48ed46=_0x960b5c['_curves'],_0x5f3f64=_0x960b5c['_outputs'];for(let _0x182c37=0xe*-0x27f+0x1423*0x1+-0x11*-0xdf;_0x182c37<_0x48ed46['length'];++_0x182c37){const _0x3118ec=_0x48ed46[_0x182c37],_0x7f4cae=_0x5f3f64[_0x3118ec['_output']],_0x192c50=[];for(let _0x268eb0=-0x11ef+0x39b+0x83*0x1c;_0x268eb0<_0x7f4cae['_component'+'s'];++_0x268eb0)_0x192c50[_0x268eb0]=0x161c+-0x975+-0x1*0xca7;this['_results'][_0x182c37]=_0x192c50;}}}const Eo=class Eo{constructor(_0x330a27,_0x4d2e89,_0x4b5e65,_0x1df620,_0x3a345f,_0x372dae){this['_name']=_0x330a27['name'],this['_track']=_0x330a27,this['_snapshot']=new K_(_0x330a27),this['_playing']=_0x1df620,this['_time']=_0x4d2e89,this['_speed']=_0x4b5e65,this['_loop']=_0x3a345f,this['_blendWeig'+'ht']=-0x2c5*0xb+-0x1d8d+0xc01*0x5,this['_blendOrde'+'r']=0x1b6*0x3+-0x1*-0x1b55+-0x2077*0x1,this['_eventHand'+'ler']=_0x372dae,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x49a16e){this['_name']=_0x49a16e;}get['name'](){return this['_name'];}set['track'](_0x2434c7){this['_track']=_0x2434c7,this['_snapshot']=new K_(_0x2434c7);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x46da46){this['_time']=_0x46da46,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x4e33ca){const _0x105269=Math['sign'](_0x4e33ca)!==Math['sign'](this['_speed']);this['_speed']=_0x4e33ca,_0x105269&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x476b96){this['_loop']=_0x476b96;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x25f126){this['_blendWeig'+'ht']=_0x25f126;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x1c8494){this['_blendOrde'+'r']=_0x1c8494;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0xecd36c){this['_eventCurs'+'or']=_0xecd36c;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?0x119c+-0x19a5+0x11*0x79:this['_track']['events']['length']-(-0x1b4d+0x16f2+0x45c);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<-0x1*0x178d+-0x13ef+0xb*0x3f4;}['nextEventA'+'headOfTime'](_0x3c98aa){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x3c98aa:this['nextEvent']['time']>=_0x3c98aa:!(-0x823*0x4+0x46*0x6b+-0x119*-0x3);}['nextEventB'+'ehindTime'](_0x14e6f9){return this['nextEvent']?_0x14e6f9===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x14e6f9:this['nextEvent']['time']<=_0x14e6f9:this['isReverse']?this['nextEvent']['time']>_0x14e6f9:this['nextEvent']['time']<_0x14e6f9:!(0x1e8b+-0xf*-0x51+-0x2349);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(-0x1e30+0xef*0x1b+-0x4*-0x13f):0x1934+-0x238c*-0x1+-0x6c*0x90;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(0x2*0xcf7+-0x1529+-0x3d*0x14):0x1*0x902+0xcda*-0x2+0x357*0x5,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=0x2429*0x1+-0x456+-0x1fd3:this['_eventCurs'+'or']<0x140+0x18f5*0x1+-0x1a35&&(this['_eventCurs'+'or']=this['track']['events']['length']-(0x76d+0x2188+-0x28f4));}['clipFrameT'+'ime'](_0x9a083b){const _0x351e4d=Eo['eventFrame'];_0x351e4d['start']=0x12fc+-0x81b*-0x3+-0x2b4d,_0x351e4d['end']=_0x9a083b,_0x351e4d['residual']=0x6bb*-0x3+0x198b+0x112*-0x5,this['isReverse']?_0x9a083b<0xf2d+0x5d1+-0x14fe&&(_0x351e4d['start']=this['track']['duration'],_0x351e4d['end']=0x2*0x592+-0x219c+0x1678,_0x351e4d['residual']=_0x9a083b+this['track']['duration']):_0x9a083b>this['track']['duration']&&(_0x351e4d['start']=-0xa27+0x22*-0x22+-0x1*-0xeab,_0x351e4d['end']=this['track']['duration'],_0x351e4d['residual']=_0x9a083b-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x20a733,_0x8c2887){return this['nextEventA'+'headOfTime'](_0x20a733)&&this['nextEventB'+'ehindTime'](_0x8c2887)?(this['fireNextEv'+'ent'](),!(0x7f2+0x5*-0x355+0x8b7)):!(-0x31d*0x7+0x39a*0xa+-0x2*0x71c);}['activeEven'+'tsForFrame'](_0x1fd35e,_0x10c3cf){const _0x1bdba2=Eo['eventFrame'];this['clipFrameT'+'ime'](_0x10c3cf);const _0x13098d=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x1fd35e,_0x1bdba2['end'])&&_0x13098d!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x1bdba2['residual'])>0x1f11+0xdb8+0x2cc9*-0x1&&this['activeEven'+'tsForFrame'](_0x1bdba2['start'],_0x1bdba2['residual']);}['progressFo'+'rTime'](_0x4f56c9){return _0x4f56c9*this['_speed']/this['_track']['duration'];}['_update'](_0x36b941){if(this['_playing']){let _0x39e122=this['_time'];const _0x2b086f=this['_track']['duration'],_0x31977b=this['_speed'],_0x1375a2=this['_loop'];this['_track']['events']['length']>0x1b5*-0x14+0x1fab+0x279&&_0x2b086f>-0xb62+-0x581*0x1+0x1*0x10e3&&this['activeEven'+'tsForFrame'](_0x39e122,_0x39e122+_0x31977b*_0x36b941),_0x39e122+=_0x31977b*_0x36b941,_0x31977b>=-0x2*-0x1aa+-0x3*-0x77c+0x898*-0x3?_0x39e122>_0x2b086f&&(_0x1375a2?_0x39e122=_0x39e122%_0x2b086f||-0x1a*0x122+0x67*-0x4a+0x72*0x85:(_0x39e122=this['_track']['duration'],this['pause']())):_0x39e122<-0x50e+0x1608+-0x10fa&&(_0x1375a2?_0x39e122=_0x2b086f+(_0x39e122%_0x2b086f||0x760+0x25a5+-0x2d05):(_0x39e122=0x1ce5+0x80+-0x1d65,this['pause']())),this['_time']=_0x39e122;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(-0x1d6d+0xe88+0x3*0x4f7),this['_time']=-0x1c06+0x1217+0x1*0x9ef;}['stop'](){this['_playing']=!(0x12+0x15cd*-0x1+0x1a*0xd6),this['_time']=0x123a+0x920+0x1*-0x1b5a;}['pause'](){this['_playing']=!(0x1c9b+0x2230+-0x1f65*0x2);}['resume'](){this['_playing']=!(0x1bea+0x2cd*0xa+0x37ec*-0x1);}['reset'](){this['_time']=-0x1*-0xf33+-0xbd3+-0x360;}};c(Eo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Xh=Eo;const q0='NONE',TP='PREV_STATE',AP='NEXT_STATE',EP='PREV_STATE'+'_NEXT_STAT'+'E',CP='NEXT_STATE'+'_PREV_STAT'+'E',MP='GREATER_TH'+'AN',PP='LESS_THAN',RP='GREATER_TH'+'AN_EQUAL_T'+'O',IP='LESS_THAN_'+'EQUAL_TO',DP='EQUAL_TO',LP='NOT_EQUAL_'+'TO',Z_='INTEGER',Q_='FLOAT',J_='BOOLEAN',ph='TRIGGER',FP='1D',OP='2D_DIRECTI'+'ONAL',kP='2D_CARTESI'+'AN',BP='DIRECT',oo='START',Ku='END',Or='ANY',jh=[oo,Ku,Or],X0='OVERWRITE',NP='ADDITIVE';class Tt{static['dot'](_0x1d2a7d,_0x61fe7e){const _0x565ff2=_0x1d2a7d['length'];let _0x3f3eca=-0xa13*-0x1+-0x23fb+0x19e8;for(let _0x2bc066=0x1a3f+-0x20ac+0x66d;_0x2bc066<_0x565ff2;++_0x2bc066)_0x3f3eca+=_0x1d2a7d[_0x2bc066]*_0x61fe7e[_0x2bc066];return _0x3f3eca;}static['normalize'](_0x37b85e){let _0xd53402=Tt['dot'](_0x37b85e,_0x37b85e);if(_0xd53402>0xf5*0x12+-0x1208+0xce){_0xd53402=(-0x2548+-0x50b*0x7+-0x4896*-0x1)/Math['sqrt'](_0xd53402);const _0x2c9414=_0x37b85e['length'];for(let _0x456879=0x6b+0x333+-0x39e;_0x456879<_0x2c9414;++_0x456879)_0x37b85e[_0x456879]*=_0xd53402;}}static['set'](_0x4168fa,_0x4fa78d,_0x279842){const _0x1bcae9=_0x4168fa['length'];if(_0x279842==='quaternion'){let _0x192d4a=Tt['dot'](_0x4fa78d,_0x4fa78d);_0x192d4a>-0x1f4a+0x1*-0xdd2+-0x2d1c*-0x1&&(_0x192d4a=(0xf60+-0x12*-0x1c5+-0x44b*0xb)/Math['sqrt'](_0x192d4a));for(let _0x21a8e4=0x1138+-0x7*0x407+0xaf9*0x1;_0x21a8e4<_0x1bcae9;++_0x21a8e4)_0x4168fa[_0x21a8e4]=_0x4fa78d[_0x21a8e4]*_0x192d4a;}else{for(let _0x5d5f06=-0x154f+-0x3a*0x28+-0x5*-0x613;_0x5d5f06<_0x1bcae9;++_0x5d5f06)_0x4168fa[_0x5d5f06]=_0x4fa78d[_0x5d5f06];}}static['blendVec'](_0xcd7e72,_0x308881,_0x20f57c,_0x58401a){const _0x1ff71a=_0x58401a?-0x83a+-0x5fe+0xe39:-0x1b*-0x158+-0x11e4+0x621*-0x3-_0x20f57c,_0x4bac50=_0xcd7e72['length'];for(let _0x25306e=-0x37*0x5a+-0x1795*0x1+0x2aeb;_0x25306e<_0x4bac50;++_0x25306e)_0xcd7e72[_0x25306e]=_0xcd7e72[_0x25306e]*_0x1ff71a+_0x308881[_0x25306e]*_0x20f57c;}static['blendQuat'](_0x1ce30c,_0x41d22e,_0x23986d,_0x10537c){const _0x4c0b3f=_0x1ce30c['length'],_0x5707dc=_0x10537c?0x1d1*-0x11+-0x1c3a+0x246*0x1a:0x1c93+0x1d3+-0x1e65-_0x23986d;Tt['dot'](_0x1ce30c,_0x41d22e)<0x72*0x51+-0x1173+-0x129f&&(_0x23986d=-_0x23986d);for(let _0x2c9349=0x193b+0xaa1*-0x1+0x59*-0x2a;_0x2c9349<_0x4c0b3f;++_0x2c9349)_0x1ce30c[_0x2c9349]=_0x1ce30c[_0x2c9349]*_0x5707dc+_0x41d22e[_0x2c9349]*_0x23986d;_0x10537c||Tt['normalize'](_0x1ce30c);}static['blend'](_0x2aa08b,_0x4c3673,_0x368715,_0x22e29e,_0x4aab64){_0x22e29e==='quaternion'?Tt['blendQuat'](_0x2aa08b,_0x4c3673,_0x368715,_0x4aab64):Tt['blendVec'](_0x2aa08b,_0x4c3673,_0x368715,_0x4aab64);}static['stableSort'](_0x22dfb0,_0x9c4867){const _0x51e2ef=_0x22dfb0['length'];for(let _0x4d670d=-0x5*0x3ab+-0x22e6+-0x289*-0x15;_0x4d670d<_0x51e2ef-(0x14cc+0x4*0x703+-0x30d7);++_0x4d670d)for(let _0x209d1e=_0x4d670d+(0x18b*-0x6+0x92*0x3a+-0x17d1);_0x209d1e<_0x51e2ef;++_0x209d1e)if(_0x9c4867(_0x22dfb0[_0x209d1e],_0x22dfb0[_0x4d670d])){const _0x463571=_0x22dfb0[_0x4d670d];_0x22dfb0[_0x4d670d]=_0x22dfb0[_0x209d1e],_0x22dfb0[_0x209d1e]=_0x463571;}}}const Ue=class Ue{constructor(_0x5d720b,_0x5ecc34){this['_component']=_0x5d720b,this['mask']=new Int8Array(_0x5d720b['layers']['length']),this['weights']=new Float32Array(_0x5d720b['layers']['length']),this['totalWeigh'+'t']=0xc88+-0x242e+0x17a6,this['counter']=-0x785+0x1*0x11a7+0xa22*-0x1,this['layerCount'+'er']=-0x1352+-0x3a*0x96+0x354e,this['valueType']=_0x5ecc34,this['dirty']=!(0x210e+0x665*0x1+-0x2773*0x1),this['value']=_0x5ecc34===Ue['TYPE_QUAT']?[-0x28d+0x2467+0x21da*-0x1,0x1*-0x2401+-0x4*-0x2cb+0xa3*0x27,-0x4*-0x697+0x17c3+-0x321f,0x1ed0*0x1+0xc55*-0x3+0x630]:[-0xfe2+0x9e1+0x601,0x90e*-0x1+-0x651+0xf5f*0x1,-0x1*-0x239b+0x70+-0x240b],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x3d1f5a){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===-0x9f1+0x1dba+-0x13c9||!this['mask'][_0x3d1f5a]?-0x5*0x1f3+-0x10e7*0x1+-0x1*-0x1aa6:this['_normalize'+'Weights']?this['weights'][_0x3d1f5a]/this['totalWeigh'+'t']:N['clamp'](this['weights'][_0x3d1f5a],0x2599+0x2205+-0x479e,0x1da5+-0x2026+0x282*0x1);}['_layerBlen'+'dType'](_0x36d472){return this['_component']['layers'][_0x36d472]['blendType'];}['setMask'](_0x4c3c54,_0x5d64a6){this['mask'][_0x4c3c54]=_0x5d64a6,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x4c3c54]['blendType']===X0&&(this['mask']=this['mask']['fill'](-0x13d*-0x4+0xe09+0x12fd*-0x1,0x7b1+-0xeb8+0x101*0x7,_0x4c3c54)),this['dirty']=!(0x1*-0x569+0x17c3+-0xa2*0x1d));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=-0x2192+0x1*0x141+0x2051;for(let _0x4a3ff3=-0x17ce+-0x807+0x1fd5;_0x4a3ff3<this['weights']['length'];_0x4a3ff3++)this['weights'][_0x4a3ff3]=this['_component']['layers'][_0x4a3ff3]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x4a3ff3]*this['weights'][_0x4a3ff3];this['dirty']=!(-0x860*0x3+-0xe51+0x2772);}['updateValu'+'e'](_0x21a645,_0x58cf7c){if(this['counter']===0x15*-0x149+-0x53*0x67+0x83*0x76&&(Tt['set'](this['value'],Ue['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Tt['blend'](this['value'],this['baseValue'],0x2403*0x1+-0x2617+0x215*0x1,this['valueType'])),!(!this['mask'][_0x21a645]||this['getWeight'](_0x21a645)===-0x3*0x21d+0x1c2e*-0x1+0x2285)){if(this['_layerBlen'+'dType'](_0x21a645)===NP&&!this['_normalize'+'Weights']){if(this['valueType']===Ue['TYPE_QUAT']){const _0x1691c6=Ue['q1']['set'](this['value'][0x18cc+0x1*-0x248a+0xbbe],this['value'][-0x394+-0x2bc+0x651],this['value'][-0x1d3+0x3*-0x3ab+-0x1*-0xcd6],this['value'][0x1e*-0x11a+0x9*0x2d7+0x780]),_0x3eeb98=Ue['q2']['set'](this['baseValue'][0xcdf+0xc2a*0x1+-0x1909],this['baseValue'][0x9c8+0x23b8+-0x2d7f],this['baseValue'][0x3+0x1d*0xf+-0x1b4],this['baseValue'][0x113*-0x12+-0x22f4+0x364d]),_0x8f312c=Ue['q3']['set'](_0x58cf7c[-0x1*0x1e55+0x8*-0x3d+0x203d],_0x58cf7c[0x856+-0x7b2+0x1*-0xa3],_0x58cf7c[0x2121+0x1*0x1a5f+-0x3b7e],_0x58cf7c[0x4*-0x577+0x1899+-0x2ba]),_0x9b5390=_0x3eeb98['invert']()['mul'](_0x8f312c);_0x9b5390['slerp'](se['IDENTITY'],_0x9b5390,this['getWeight'](_0x21a645)),_0x1691c6['mul'](_0x9b5390),Ue['quatArr'][0x3*-0x61d+0x2*-0x305+0x1861]=_0x1691c6['x'],Ue['quatArr'][-0x8*-0x446+-0x1*0x182d+-0xa02]=_0x1691c6['y'],Ue['quatArr'][0x101*0xe+0x18ef+-0x26fb]=_0x1691c6['z'],Ue['quatArr'][-0x4f*-0x2b+-0x6ea*0x3+0x77c]=_0x1691c6['w'],Tt['set'](this['value'],Ue['quatArr'],this['valueType']);}else Ue['vecArr'][-0x960+0x116a+-0x80a]=_0x58cf7c[-0x1478+-0x7*0x1dc+0x1*0x217c]-this['baseValue'][-0x5f*0x2b+-0xb71+0x2*0xdb3],Ue['vecArr'][0x2ee+0x1*-0xb20+0x833]=_0x58cf7c[0x1ccc+-0x254a+0x87f]-this['baseValue'][-0x19a0+-0xd*-0x2d7+-0xb4a],Ue['vecArr'][-0x1*-0x31+0x11dc+-0x120b]=_0x58cf7c[-0x17e7*-0x1+0xb07*0x1+-0x22ec]-this['baseValue'][0x1d54+-0x1*0x1f71+0x21f],Tt['blend'](this['value'],Ue['vecArr'],this['getWeight'](_0x21a645),this['valueType'],!(-0x6*0x123+-0x42d*0x2+0x3cb*0x4));}else Tt['blend'](this['value'],_0x58cf7c,this['getWeight'](_0x21a645),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};c(Ue,'TYPE_QUAT','quaternion'),c(Ue,'TYPE_VEC3','vector3'),c(Ue,'q1',new se()),c(Ue,'q2',new se()),c(Ue,'q3',new se()),c(Ue,'quatArr',[0x18*-0x7b+-0x8e1*-0x3+-0xf1b,-0x17*-0xa7+-0x234+-0xccd,-0x9b2+0x1d5*-0x6+0x14b0,0xe0b+0x377+-0x1181]),c(Ue,'vecArr',[0x43c+0x9dc*-0x1+0x5a0,0x8*-0xc4+0x18b0+0x630*-0x3,0x11*-0x9d+0xc6*0x1b+-0xa75]),c(Ue,'IDENTITY_Q'+'UAT_ARR',[-0xadd+-0x2*0x117b+0x1*0x2dd3,-0x14f7+-0x93f+-0x2*-0xf1b,0xb49*-0x1+0x172c+0x1*-0xbe3,0x1*0x2181+0x108*-0x1e+-0x290]);let bo=Ue;class j0{constructor(_0x50457a){this['_binder']=_0x50457a,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x2dd519){const _0x66175f=this['_targets'],_0x268d41=this['_binder'],_0x5496bd=_0x2dd519['track']['curves'],_0xf29cf0=_0x2dd519['snapshot'],_0xc8ec34=[],_0x4923ab=[];for(let _0x14b395=0x1*-0x1acf+-0x61b*0x3+0x2d20;_0x14b395<_0x5496bd['length'];++_0x14b395){const _0x464dda=_0x5496bd[_0x14b395]['paths'];for(let _0x540786=-0x18e*-0x1+-0x10ed*-0x2+0x8da*-0x4;_0x540786<_0x464dda['length'];++_0x540786){const _0x509c68=_0x464dda[_0x540786],_0x267439=_0x268d41['resolve'](_0x509c68);let _0x37c99b=_0x66175f[_0x267439&&_0x267439['targetPath']||null];if(!_0x37c99b&&_0x267439){_0x37c99b={'target':_0x267439,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0xf37852=-0x1*0x24e9+0x921+0x1*0x1bc8;_0xf37852<_0x37c99b['target']['components'];++_0xf37852)_0x37c99b['value']['push'](0x3b*-0xa3+0xd1f+0x1872);if(_0x66175f[_0x267439['targetPath']]=_0x37c99b,_0x268d41['animCompon'+'ent']){if(!_0x268d41['animCompon'+'ent']['targets'][_0x267439['targetPath']]){let _0x34dbb6;_0x267439['targetPath']['substring'](_0x267439['targetPath']['length']-(0x87e*0x1+0x2399+-0x2c0a))==='localRotat'+'ion'?_0x34dbb6=bo['TYPE_QUAT']:_0x34dbb6=bo['TYPE_VEC3'],_0x268d41['animCompon'+'ent']['targets'][_0x267439['targetPath']]=new bo(_0x268d41['animCompon'+'ent'],_0x34dbb6);}_0x268d41['animCompon'+'ent']['targets'][_0x267439['targetPath']]['layerCount'+'er']++,_0x268d41['animCompon'+'ent']['targets'][_0x267439['targetPath']]['setMask'](_0x268d41['layerIndex'],-0xfb*-0xb+0x11f0+-0xe5c*0x2);}}_0x37c99b&&(_0x37c99b['curves']++,_0xc8ec34['push'](_0xf29cf0['_results'][_0x14b395]),_0x4923ab['push'](_0x37c99b));}}this['_clips']['push'](_0x2dd519),this['_inputs']['push'](_0xc8ec34),this['_outputs']['push'](_0x4923ab);}['removeClip'](_0x5e86ae){const _0x106c6d=this['_targets'],_0x77b1ea=this['_binder'],_0xc8efb3=this['_clips'],_0x16a5a1=_0xc8efb3[_0x5e86ae]['track']['curves'];for(let _0x2319d2=-0x3e*0x6d+0x1d4c+-0x2e6;_0x2319d2<_0x16a5a1['length'];++_0x2319d2){const _0x4e688d=_0x16a5a1[_0x2319d2]['paths'];for(let _0x255fff=-0x12eb*0x1+0xb71*0x1+0x77a;_0x255fff<_0x4e688d['length'];++_0x255fff){const _0x55e81d=_0x4e688d[_0x255fff],_0x5e5249=this['_binder']['resolve'](_0x55e81d);_0x5e5249&&(_0x5e5249['curves']--,_0x5e5249['curves']===-0x1b*0x16f+0x4fd*-0x6+0x44a3*0x1&&(_0x77b1ea['unresolve'](_0x55e81d),delete _0x106c6d[_0x5e5249['targetPath']],_0x77b1ea['animCompon'+'ent']&&_0x77b1ea['animCompon'+'ent']['targets'][_0x5e5249['targetPath']]['layerCount'+'er']--));}}_0xc8efb3['splice'](_0x5e86ae,-0x1bce*-0x1+0x2*0xaca+-0x3161),this['_inputs']['splice'](_0x5e86ae,0x479+0xda*0x8+0x2*-0x5a4),this['_outputs']['splice'](_0x5e86ae,0x22b5+-0x110d+-0x11a7);}['removeClip'+'s'](){for(;this['_clips']['length']>0x1008+0x131+-0x1*0x1139;)this['removeClip'](-0x5d*-0x5f+0xa*0x95+-0x7*0x5c3);}['updateClip'+'Track'](_0x4a2adf,_0x56a1ab){this['_clips']['forEach'](_0xe7ac81=>{_0xe7ac81['name']['includes'](_0x4a2adf)&&(_0xe7ac81['track']=_0x56a1ab);}),this['rebind']();}['findClip'](_0x4f583d){const _0x5b9387=this['_clips'];for(let _0x4c87ed=-0xdf*0x1d+-0x1a2f+0xf*0x36e;_0x4c87ed<_0x5b9387['length'];++_0x4c87ed){const _0x5b8b7f=_0x5b9387[_0x4c87ed];if(_0x5b8b7f['name']===_0x4f583d)return _0x5b8b7f;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x4daf19=[...this['clips']];this['removeClip'+'s'](),_0x4daf19['forEach'](_0x523499=>{this['addClip'](_0x523499);});}['assignMask'](_0x52a264){return this['_binder']['assignMask'](_0x52a264);}['update'](_0x35f30d,_0x16b6d8=!(0xf13*-0x2+-0x11ea*0x2+0x41fa)){const _0xf8dfd9=this['_clips'],_0x297a48=_0xf8dfd9['map']((_0xba2197,_0x24b365)=>_0x24b365);Tt['stableSort'](_0x297a48,(_0xe2d860,_0x47db93)=>_0xf8dfd9[_0xe2d860]['blendOrder']<_0xf8dfd9[_0x47db93]['blendOrder']);for(let _0xfc93ba=0x8f+0x177+-0x206;_0xfc93ba<_0x297a48['length'];++_0xfc93ba){const _0x347102=_0x297a48[_0xfc93ba],_0x146f5a=_0xf8dfd9[_0x347102],_0x4728d8=this['_inputs'][_0x347102],_0xd106d5=this['_outputs'][_0x347102],_0x82da72=_0x146f5a['blendWeigh'+'t'];if(_0x82da72>0x1051*0x1+-0x5*-0x71f+0xcfb*-0x4&&_0x146f5a['_update'](_0x35f30d),!_0x16b6d8)break;let _0x3a4699,_0x312b62,_0xe954ee;if(_0x82da72>=-0xec8+0x163c+-0x773){for(let _0x4caa89=-0x1f1f+-0x788*-0x1+0x29f*0x9;_0x4caa89<_0x4728d8['length'];++_0x4caa89)_0x3a4699=_0x4728d8[_0x4caa89],_0x312b62=_0xd106d5[_0x4caa89],_0xe954ee=_0x312b62['value'],Tt['set'](_0xe954ee,_0x3a4699,_0x312b62['target']['type']),_0x312b62['blendCount'+'er']++;}else{if(_0x82da72>-0xda0+-0x2a9*-0x7+-0x1*0x4ff){for(let _0x369b14=0x215+-0xfff+-0x112*-0xd;_0x369b14<_0x4728d8['length'];++_0x369b14)_0x3a4699=_0x4728d8[_0x369b14],_0x312b62=_0xd106d5[_0x369b14],_0xe954ee=_0x312b62['value'],_0x312b62['blendCount'+'er']===0x71*0x26+0x1*0x1c72+-0x2d38?Tt['set'](_0xe954ee,_0x3a4699,_0x312b62['target']['type']):Tt['blend'](_0xe954ee,_0x3a4699,_0x82da72,_0x312b62['target']['type']),_0x312b62['blendCount'+'er']++;}}}const _0xdd7863=this['_targets'],_0x19c530=this['_binder'];for(const _0x3f8a9c in _0xdd7863)if(_0xdd7863['hasOwnProp'+'erty'](_0x3f8a9c)){const _0xe79d2c=_0xdd7863[_0x3f8a9c];if(_0x19c530['animCompon'+'ent']&&_0xe79d2c['target']['isTransfor'+'m']){const _0x288dc2=_0x19c530['animCompon'+'ent']['targets'][_0x3f8a9c];_0x288dc2['counter']===_0x288dc2['layerCount'+'er']&&(_0x288dc2['counter']=-0x47e+-0x172+-0x4c*-0x14),_0x288dc2['path']||(_0x288dc2['path']=_0x3f8a9c,_0x288dc2['baseValue']=_0xe79d2c['target']['get'](),_0x288dc2['setter']=_0xe79d2c['target']['set']),_0x288dc2['updateValu'+'e'](_0x19c530['layerIndex'],_0xe79d2c['value']),_0x288dc2['counter']++;}else _0xe79d2c['target']['set'](_0xe79d2c['value']);_0xe79d2c['blendCount'+'er']=-0x347*0x1+-0x1f08+0x224f;}this['_binder']['update'](_0x35f30d);}}class Y0{constructor(_0x3b18bf){this['_events']=[..._0x3b18bf],this['_events']['sort']((_0x345168,_0x4a8160)=>_0x345168['time']-_0x4a8160['time']);}get['events'](){return this['_events'];}}const lc=class lc{constructor(_0x102014,_0x1bc5c5,_0x56eb52,_0x3480d9,_0x3b5e8d,_0x17207c=new Y0([])){this['_name']=_0x102014,this['_duration']=_0x1bc5c5,this['_inputs']=_0x56eb52,this['_outputs']=_0x3480d9,this['_curves']=_0x3b5e8d,this['_animEvent'+'s']=_0x17207c;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x424cc4){this['_animEvent'+'s']=_0x424cc4;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x3d7978,_0x3b31ff){_0x3b31ff['_time']=_0x3d7978;const _0x13df2a=this['_inputs'],_0x404926=this['_outputs'],_0x4eef4f=this['_curves'],_0x266875=_0x3b31ff['_cache'],_0xef047c=_0x3b31ff['_results'];for(let _0x35d53b=0xee2+-0xd41+-0x1a1;_0x35d53b<_0x13df2a['length'];++_0x35d53b)_0x266875[_0x35d53b]['update'](_0x3d7978,_0x13df2a[_0x35d53b]['_data']);for(let _0x90dc5a=-0x1*0x219d+-0x7c*0x2a+0x35f5;_0x90dc5a<_0x4eef4f['length'];++_0x90dc5a){const _0x520d8a=_0x4eef4f[_0x90dc5a],_0x1ef692=_0x404926[_0x520d8a['_output']],_0x31dfd2=_0xef047c[_0x90dc5a];_0x266875[_0x520d8a['_input']]['eval'](_0x31dfd2,_0x520d8a['_interpola'+'tion'],_0x1ef692);}}};c(lc,'EMPTY',Object['freeze'](new lc('empty',Number['MAX_VALUE'],[],[],[])));let Ri=lc;class qr{static['joinPath'](_0x169f2e,_0x5be373){_0x5be373=_0x5be373||'.';const _0x4f134a=function(_0x24ef82){return _0x24ef82['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x5be373,'g'),'\x5c'+_0x5be373);};return _0x169f2e['map'](_0x4f134a)['join'](_0x5be373);}static['splitPath'](_0x5a47da,_0x11ccd2){_0x11ccd2=_0x11ccd2||'.';const _0x4a4259=[];let _0xa2d819='',_0x17c2c8=-0x1f29+0x3d+0x1eec;for(;_0x17c2c8<_0x5a47da['length'];){let _0x5a9499=_0x5a47da[_0x17c2c8++];_0x5a9499==='\x5c'&&_0x17c2c8<_0x5a47da['length']?(_0x5a9499=_0x5a47da[_0x17c2c8++],_0x5a9499==='\x5c'||_0x5a9499===_0x11ccd2?_0xa2d819+=_0x5a9499:_0xa2d819+='\x5c'+_0x5a9499):_0x5a9499===_0x11ccd2?(_0x4a4259['push'](_0xa2d819),_0xa2d819=''):_0xa2d819+=_0x5a9499;}return _0xa2d819['length']>0x2*0x12ff+-0x1a5d+-0xba1&&_0x4a4259['push'](_0xa2d819),_0x4a4259;}static['encode'](_0xadf1a5,_0x55c129,_0x5ccfce){return(Array['isArray'](_0xadf1a5)?_0xadf1a5['join']('/'):_0xadf1a5)+'/'+_0x55c129+'/'+(Array['isArray'](_0x5ccfce)?_0x5ccfce['join']('/'):_0x5ccfce);}['resolve'](_0x23c64b){return null;}['unresolve'](_0x51ae7e){}['update'](_0x341fbf){}}class Zu{constructor(_0x2fd8b9,_0x109979,_0x249903,_0x4c228a){_0x2fd8b9['set']?(this['_set']=_0x2fd8b9['set'],this['_get']=_0x2fd8b9['get']):this['_set']=_0x2fd8b9,this['_type']=_0x109979,this['_component'+'s']=_0x249903,this['_targetPat'+'h']=_0x4c228a,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x16d2*0x1+0x351+0x138e))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0xae8*0x1+0x1e4b+-0x2926*0x1))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x1de3+0x23cc+-0x41a5*0x1))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Ji{constructor(_0xea30d9){c(this,'_isPathInM'+'ask',(_0x4dc039,_0x36aca5)=>{const _0x1f8e90=this['_mask'][_0x4dc039];if(_0x1f8e90){if(_0x1f8e90['children']||_0x36aca5&&_0x1f8e90['value']!==!(0x2515+-0x793+0x1*-0x1d81))return!(-0x1*-0xfc7+-0x1c13*-0x1+-0x1*0x2bda);}else return!(-0x1*-0x1150+0x42d+-0x157c);return!(0x2*0x574+0x1b*-0x135+0xad8*0x2);});if(this['graph']=_0xea30d9,!_0xea30d9)return;this['_mask']=null;const _0x4a0f5e={},_0x268ff3=function(_0x4145a1){_0x4a0f5e[_0x4145a1['name']]=_0x4145a1;for(let _0x767aff=-0x47*0x62+-0x2f6*-0x9+0x88;_0x767aff<_0x4145a1['children']['length'];++_0x767aff)_0x268ff3(_0x4145a1['children'][_0x767aff]);};_0x268ff3(_0xea30d9),this['nodes']=_0x4a0f5e,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x40e1ff=function(_0x305fb8){let _0x5875ae=_0x305fb8;for(;_0x5875ae&&!(_0x5875ae instanceof We);)_0x5875ae=_0x5875ae['parent'];let _0x441bd8;return _0x5875ae&&(_0x5875ae['render']?_0x441bd8=_0x5875ae['render']['meshInstan'+'ces']:_0x5875ae['model']&&(_0x441bd8=_0x5875ae['model']['meshInstan'+'ces'])),_0x441bd8;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0xda2700){const _0x48b389=_0xda2700['localPosit'+'ion'],_0x5b0dcf=function(_0x4b4dbf){_0x48b389['set'](..._0x4b4dbf);};return Ji['createAnim'+'Target'](_0x5b0dcf,'vector',-0x1*0x23e3+0x540*0x6+0x466*0x1,_0xda2700,'localPosit'+'ion');},'localRotation':function(_0x3429aa){const _0x191159=_0x3429aa['localRotat'+'ion'],_0x3b2897=function(_0x328720){_0x191159['set'](..._0x328720);};return Ji['createAnim'+'Target'](_0x3b2897,'quaternion',0x1e1e+-0xf7b*-0x1+0x2d95*-0x1,_0x3429aa,'localRotat'+'ion');},'localScale':function(_0x528ec9){const _0x5968d3=_0x528ec9['localScale'],_0x535ffd=function(_0x2cc09d){_0x5968d3['set'](..._0x2cc09d);};return Ji['createAnim'+'Target'](_0x535ffd,'vector',0x2055+0x11c0+-0x3212,_0x528ec9,'localScale');},'weight':function(_0x451380,_0x5bdee9){_0x5bdee9['indexOf']('name.')===0x7*0x58+0x195e+0x1da*-0xf?_0x5bdee9=_0x5bdee9['replace']('name.',''):_0x5bdee9=Number(_0x5bdee9);const _0x1450a7=_0x40e1ff(_0x451380);let _0x490ba1;if(_0x1450a7){for(let _0x4768d6=0x23fd+0xa53+-0x2e50;_0x4768d6<_0x1450a7['length'];++_0x4768d6)if(_0x1450a7[_0x4768d6]['node']['name']===_0x451380['name']&&_0x1450a7[_0x4768d6]['morphInsta'+'nce']){const _0x57a0a8=_0x1450a7[_0x4768d6]['morphInsta'+'nce'],_0x42dafb=_0x333e2f=>{_0x57a0a8['setWeight'](_0x5bdee9,_0x333e2f[-0x1897+-0x6*-0x74+-0x1fd*-0xb]);};_0x490ba1||(_0x490ba1=[]),_0x490ba1['push'](_0x42dafb);}}if(_0x490ba1){const _0x5c28ac=_0x49f29d=>{for(let _0x300b9b=0xa22+0x243c+0x2e5e*-0x1;_0x300b9b<_0x490ba1['length'];++_0x300b9b)_0x490ba1[_0x300b9b](_0x49f29d);};return Ji['createAnim'+'Target'](_0x5c28ac,'number',0x1b0c+-0x2645+-0x1*-0xb3a,_0x451380,'weight.'+_0x5bdee9);}return null;},'materialTexture':(_0xcf733c,_0x5acc74)=>{const _0x32faa1=_0x40e1ff(_0xcf733c);if(_0x32faa1){let _0x45639e;for(let _0x1d58d5=0x1b25+-0x1077+-0xaae;_0x1d58d5<_0x32faa1['length'];++_0x1d58d5)if(_0x32faa1[_0x1d58d5]['node']['name']===_0xcf733c['name']){_0x45639e=_0x32faa1[_0x1d58d5];break;}if(_0x45639e){const _0x42e656=_0xf97e11=>{const _0x3cbafa=this['animCompon'+'ent']['system']['app']['assets']['get'](_0xf97e11[0x2*0x48a+-0x21d7+0x18c3]);_0x3cbafa&&_0x3cbafa['resource']&&_0x3cbafa['type']==='texture'&&(_0x45639e['material'][_0x5acc74]=_0x3cbafa['resource'],_0x45639e['material']['update']());};return Ji['createAnim'+'Target'](_0x42e656,'vector',-0x1a88+-0x1*-0x229b+-0x812,_0xcf733c,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x8e26bc){if(!this['_mask'])return!(-0x1*-0x2d3+-0x1f43+0x1c70);const _0x43bbe3=[_0x8e26bc['entityPath'][-0x1b8e+0x2c7*0x6+0xae4],this['graph']['name']];for(let _0x918cab=-0x64a+-0x1*0xb35+0x117f;_0x918cab<_0x43bbe3['length'];++_0x918cab){let _0x3011dc=_0x43bbe3[_0x918cab];if(this['_isPathInM'+'ask'](_0x3011dc,_0x8e26bc['entityPath']['length']===-0x5e9*0x5+0x13f8+0x996*0x1))return!(-0x1*-0x242e+-0x49*0x10+-0x1f9e);for(let _0x196a06=0x16f7*0x1+-0x175a*-0x1+-0x4e*0x98;_0x196a06<_0x8e26bc['entityPath']['length'];_0x196a06++)if(_0x3011dc+='/'+_0x8e26bc['entityPath'][_0x196a06],this['_isPathInM'+'ask'](_0x3011dc,_0x196a06===_0x8e26bc['entityPath']['length']-(-0x2*0x160+-0xe6d+0x112e)))return!(-0x1b6*0x9+-0x1fd6+0x2f3c);}return!(0x2bc+-0x1a23+0x7*0x358);}['findNode'](_0x48c6a9){if(!this['_isPathAct'+'ive'](_0x48c6a9))return null;let _0x5c9dc2;if(this['graph']&&(_0x5c9dc2=this['graph']['findByPath'](_0x48c6a9['entityPath']),_0x5c9dc2||(_0x5c9dc2=this['graph']['findByPath'](_0x48c6a9['entityPath']['slice'](0x2462+-0x9*-0xc1+0x11*-0x28a)))),!_0x5c9dc2){_0x5c9dc2=this['nodes'][_0x48c6a9['entityPath'][_0x48c6a9['entityPath']['length']-(0x97*0x1c+0x268e*-0x1+-0x129*-0x13)]||''];const _0x12366a=qr['encode'](_0x48c6a9['entityPath'][_0x48c6a9['entityPath']['length']-(-0x241*0xb+0x1c94+-0x3c8)]||'','graph',_0x48c6a9['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x12366a]===-0x12fe+-0x20fe+-0x1*-0x33fd&&v['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x12366a+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x12366a])?this['visitedFal'+'lbackGraph'+'Paths'][_0x12366a]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x12366a]=-0x655*-0x4+-0x1*-0x1b49+0x349d*-0x1;}return _0x5c9dc2;}static['createAnim'+'Target'](_0xbbedd6,_0x3af32b,_0x18bd11,_0x28c1cf,_0x57a616,_0x57c40c){const _0x82ba92=qr['encode'](_0x28c1cf['path'],_0x57c40c||'entity',_0x57a616);return new Zu(_0xbbedd6,_0x3af32b,_0x18bd11,_0x82ba92);}['resolve'](_0xe04f7d){const _0x33525b=qr['encode'](_0xe04f7d['entityPath'],_0xe04f7d['component'],_0xe04f7d['propertyPa'+'th']);let _0x2f4a19=this['targetCach'+'e'][_0x33525b];if(_0x2f4a19)return _0x2f4a19;const _0x1aca7e=this['findNode'](_0xe04f7d);if(!_0x1aca7e)return null;const _0x4def8b=this['handlers'][_0xe04f7d['propertyPa'+'th']];return!_0x4def8b||(_0x2f4a19=_0x4def8b(_0x1aca7e),!_0x2f4a19)?null:(this['targetCach'+'e'][_0x33525b]=_0x2f4a19,this['nodeCounts'][_0x1aca7e['path']]?this['nodeCounts'][_0x1aca7e['path']]++:(this['activeNode'+'s']['push'](_0x1aca7e),this['nodeCounts'][_0x1aca7e['path']]=-0x1ae2+-0x2f*0x23+0x2*0x10a8),_0x2f4a19);}['unresolve'](_0x5afb84){if(_0x5afb84['component']!=='graph')return;const _0x191020=this['nodes'][_0x5afb84['entityPath'][_0x5afb84['entityPath']['length']-(0xfb9+-0xc*0x209+-0x22d*-0x4)]||''];if(this['nodeCounts'][_0x191020['path']]--,this['nodeCounts'][_0x191020['path']]===0x3*-0xa2+-0x73f*0x2+0x1064){const _0x57fe25=this['activeNode'+'s'],_0x4b75fa=_0x57fe25['indexOf'](_0x191020['node']),_0x16578b=_0x57fe25['length'];_0x4b75fa<_0x16578b-(0x53a*-0x5+-0xae0+-0x17b*-0x19)&&(_0x57fe25[_0x4b75fa]=_0x57fe25[_0x16578b-(0x2f8*-0xd+0x45*0x10+-0x2249*-0x1)]),_0x57fe25['pop']();}}['update'](_0x314833){const _0x1bef3e=this['activeNode'+'s'];for(let _0x4c9ed0=-0x1565*-0x1+-0x2029+0xac4;_0x4c9ed0<_0x1bef3e['length'];++_0x4c9ed0)_0x1bef3e[_0x4c9ed0]['_dirtifyLo'+'cal']();}['assignMask'](_0x6a1d4a){return _0x6a1d4a!==this['_mask']?(this['_mask']=_0x6a1d4a,!(-0x1*-0xbfb+-0x1049+-0x44e*-0x1)):!(-0x1fe7*0x1+-0x12cb+-0x1*-0x32b3);}}class K0 extends ue{constructor(){super(...arguments),c(this,'_animation'+'s',{}),c(this,'_assets',[]),c(this,'_loop',!(-0x1*0x529+0x4d*0x35+-0xac8)),c(this,'animEvalua'+'tor',null),c(this,'model',null),c(this,'skeleton',null),c(this,'fromSkel',null),c(this,'toSkel',null),c(this,'animations'+'Index',{}),c(this,'prevAnim',null),c(this,'currAnim',null),c(this,'blend',-0x77f+0x91+0x6ee),c(this,'blending',!(-0x202c+-0x1954+-0x7*-0x837)),c(this,'blendSpeed',-0xcfd*-0x2+-0x761+-0x1299),c(this,'activate',!(0x21*-0xfa+0x46f*-0x5+0x3665)),c(this,'speed',0x463*0x4+0x1bb7+0x2d42*-0x1);}set['animations'](_0x4ec76f){this['_animation'+'s']=_0x4ec76f,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x26128c){const _0x2dba5d=this['_assets'];if(_0x2dba5d&&_0x2dba5d['length']){for(let _0xb124c3=-0x2c*0xcc+-0x119*0x2+0x2542;_0xb124c3<_0x2dba5d['length'];_0xb124c3++)if(_0x2dba5d[_0xb124c3]){const _0x48cc8e=this['system']['app']['assets']['get'](_0x2dba5d[_0xb124c3]);if(_0x48cc8e){_0x48cc8e['off']('change',this['onAssetCha'+'nged'],this),_0x48cc8e['off']('remove',this['onAssetRem'+'oved'],this);const _0x2182bb=this['animations'+'Index'][_0x48cc8e['id']];this['currAnim']===_0x2182bb&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x2182bb],delete this['animations'+'Index'][_0x48cc8e['id']];}}}this['_assets']=_0x26128c;const _0x2209e9=_0x26128c['map'](_0x36479f=>_0x36479f instanceof le?_0x36479f['id']:_0x36479f);this['loadAnimat'+'ionAssets'](_0x2209e9);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x4d1b2f){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x4d1b2f,this['skeleton']['addTime'](0x1618+-0xaf5+-0xb23),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x33618f=this['animEvalua'+'tor']['clips'];for(let _0x4ba2fa=-0xfa7+0xf5*-0xc+0x1*0x1b23;_0x4ba2fa<_0x33618f['length'];++_0x4ba2fa)_0x33618f[_0x4ba2fa]['time']=_0x4d1b2f;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x48e982=this['animEvalua'+'tor']['clips'];if(_0x48e982['length']>-0x1*-0x25fb+-0x1f*-0x4e+-0x2f6d)return _0x48e982[_0x48e982['length']-(0xf22*0x2+0x1*-0x1c8b+-0xdc*0x2)]['time'];}return-0x283*0xe+-0x17*-0x97+-0x61*-0x39;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(v['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),-0x260e+0x7*-0x2bd+-0x3*-0x1313);}set['loop'](_0x34bf40){if(this['_loop']=_0x34bf40,this['skeleton']&&(this['skeleton']['looping']=_0x34bf40),this['animEvalua'+'tor']){for(let _0x34ba34=-0x486+-0x2*-0xd7c+0xd*-0x1ba;_0x34ba34<this['animEvalua'+'tor']['clips']['length'];++_0x34ba34)this['animEvalua'+'tor']['clips'][_0x34ba34]['loop']=_0x34bf40;}}get['loop'](){return this['_loop'];}['play'](_0x2cc578,_0xa0a274=-0x1bc4+0x58d+-0x2f*-0x79){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x2cc578]){v['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x2cc578+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x2cc578,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x1a7c98=this['animations'][this['prevAnim']],_0x3072d=this['animations'][this['currAnim']];if(this['blending']=_0xa0a274>-0x1902+-0xba9+-0x15*-0x1bf&&!!this['prevAnim'],this['blending']&&(this['blend']=0x13ab+0x1bfd+-0x32*0xf4,this['blendSpeed']=(0x2b*0x7+-0x10d5*0x2+-0x207e*-0x1)/_0xa0a274),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x1a7c98,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x3072d):this['skeleton']['animation']=_0x3072d),this['animEvalua'+'tor']){const _0x2effd5=this['animEvalua'+'tor'];if(this['blending']){for(;_0x2effd5['clips']['length']>-0x8*0x151+-0xd0b+-0x7dc*-0x3;)_0x2effd5['removeClip'](0xd21*0x1+0x2255+0x19*-0x1e6);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x427ede=new Xh(this['animations'][this['currAnim']],-0x56*0x22+0x1f6+0x976,-0x17*0x154+-0x181+0x200e,!(-0x2541+0xb11*-0x1+-0x1*-0x3052),this['loop']);_0x427ede['name']=this['currAnim'],_0x427ede['blendWeigh'+'t']=this['blending']?0x6*-0x121+-0xecf*-0x1+-0x809:-0x26cc+-0x1a3e*0x1+0x410b,_0x427ede['reset'](),this['animEvalua'+'tor']['addClip'](_0x427ede);}}this['playing']=!(0x21b5*-0x1+0xaa6+0x170f);}}['getAnimati'+'on'](_0x25e69c){return this['animations'][_0x25e69c];}['setModel'](_0x4db9ff){_0x4db9ff!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x4db9ff,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x4f981b=this['entity']['model'];if(_0x4f981b){const _0x2e924a=_0x4f981b['model'];_0x2e924a&&_0x2e924a!==this['model']&&this['setModel'](_0x2e924a);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x174f61=Object['keys'](this['_animation'+'s']);_0x174f61['length']>-0xb*-0x173+0x2535+0x2*-0x1a93&&this['play'](_0x174f61[-0x5+-0x5*0x67b+0x19*0x14c]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x523b9d=this['model'],_0x4b0888=this['animations'];let _0x1fa824=!(0x2589+0x2a8*0x2+0xe48*-0x3),_0x499e67=!(-0x22be*-0x1+0x1fd*-0x7+0x1a*-0xcd);for(const _0xef941c in _0x4b0888)_0x4b0888['hasOwnProp'+'erty'](_0xef941c)&&(_0x4b0888[_0xef941c]['constructo'+'r']===Ri?_0x499e67=!(-0xbf*0x2b+0x1e9a*0x1+0x17b):_0x1fa824=!(-0x17c0+-0x1*0xf94+0x2754));const _0x355796=_0x523b9d['getGraph']();_0x1fa824?(this['fromSkel']=new Wd(_0x355796),this['toSkel']=new Wd(_0x355796),this['skeleton']=new Wd(_0x355796),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x355796)):_0x499e67&&(this['animEvalua'+'tor']=new j0(new Ji(this['entity'])));}['loadAnimat'+'ionAssets'](_0x54125c){if(!_0x54125c||!_0x54125c['length'])return;const _0x3504f6=this['system']['app']['assets'],_0x27a724=_0x55dba6=>{if(_0x55dba6['resources']['length']>-0x1*0x22d3+0x2*-0xa9f+0x3812){for(let _0x332c24=-0x105*-0x24+-0x213b+-0x379;_0x332c24<_0x55dba6['resources']['length'];_0x332c24++)this['animations'][_0x55dba6['resources'][_0x332c24]['name']]=_0x55dba6['resources'][_0x332c24],this['animations'+'Index'][_0x55dba6['id']]=_0x55dba6['resources'][_0x332c24]['name'];}else this['animations'][_0x55dba6['name']]=_0x55dba6['resource'],this['animations'+'Index'][_0x55dba6['id']]=_0x55dba6['name'];this['animations']=this['animations'];},_0x4d6306=_0x5dcdd9=>{_0x5dcdd9['off']('change',this['onAssetCha'+'nged'],this),_0x5dcdd9['on']('change',this['onAssetCha'+'nged'],this),_0x5dcdd9['off']('remove',this['onAssetRem'+'oved'],this),_0x5dcdd9['on']('remove',this['onAssetRem'+'oved'],this),_0x5dcdd9['resource']?_0x27a724(_0x5dcdd9):(_0x5dcdd9['once']('load',_0x27a724,this),this['enabled']&&this['entity']['enabled']&&_0x3504f6['load'](_0x5dcdd9));};for(let _0x4806e0=-0x1bc7*0x1+-0x119f+0x2d66,_0x2f6cb6=_0x54125c['length'];_0x4806e0<_0x2f6cb6;_0x4806e0++){const _0x31dc2e=_0x3504f6['get'](_0x54125c[_0x4806e0]);_0x31dc2e?_0x4d6306(_0x31dc2e):_0x3504f6['on']('add:'+_0x54125c[_0x4806e0],_0x4d6306);}}['onAssetCha'+'nged'](_0x546f04,_0x4308d8,_0x164f67,_0x18ed65){if(_0x4308d8==='resource'||_0x4308d8==='resources'){if(_0x4308d8==='resources'&&_0x164f67&&_0x164f67['length']===-0x2018+-0x899+0x3b3*0xb&&(_0x164f67=null),_0x164f67){let _0x3a2907=!(-0x1*-0x15dd+0xb*-0x1f1+-0x2b*0x3);if(_0x164f67['length']>-0xb53+0x2016+-0x14c2*0x1){if(_0x18ed65&&_0x18ed65['length']>-0xae4+-0x1211+0xe7b*0x2){for(let _0x32f91b=0x418+-0x216f+0x1d57;_0x32f91b<_0x18ed65['length'];_0x32f91b++)delete this['animations'][_0x18ed65[_0x32f91b]['name']];}else delete this['animations'][_0x546f04['name']];_0x3a2907=!(0x1*-0x9c5+0x1fd6+-0x1610);for(let _0x357867=-0x2c*-0xa0+-0xb27+-0x1059;_0x357867<_0x164f67['length'];_0x357867++)this['animations'][_0x164f67[_0x357867]['name']]=_0x164f67[_0x357867],!_0x3a2907&&this['currAnim']===_0x164f67[_0x357867]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x3a2907=!(-0x1b73+-0x1475+-0x6d8*-0x7),this['play'](_0x164f67[_0x357867]['name']));_0x3a2907||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x18ed65&&_0x18ed65['length']>0x1a55+0x21*0x11b+-0x3ecf){for(let _0x3aa643=0x1*0x1bdb+0xa2a+-0x2605;_0x3aa643<_0x18ed65['length'];_0x3aa643++)delete this['animations'][_0x18ed65[_0x3aa643]['name']];}this['animations'][_0x546f04['name']]=_0x164f67[-0x118e+0x7f7+0x997]||_0x164f67,_0x3a2907=!(-0xd27+-0x191e+-0xd5*-0x2e),this['currAnim']===_0x546f04['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x3a2907=!(0x9*-0x5e+-0x78a+-0x2*-0x56c),this['play'](_0x546f04['name'])),_0x3a2907||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x546f04['id']]=_0x546f04['name'];}else{if(_0x18ed65['length']>0x177e+0x1*0x28d+-0x1*0x1a0a){for(let _0x2a415c=0x25a3+-0x1*0x64c+0x71*-0x47;_0x2a415c<_0x18ed65['length'];_0x2a415c++)delete this['animations'][_0x18ed65[_0x2a415c]['name']],this['currAnim']===_0x18ed65[_0x2a415c]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x546f04['name']],this['currAnim']===_0x546f04['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x546f04['id']];}}}['onAssetRem'+'oved'](_0x4f7d89){if(_0x4f7d89['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x4f7d89['resources']['length']>-0x12ff*-0x2+0x6*0x411+-0x3e63){for(let _0x543e72=-0x245d+-0x555*0x1+0x29b2;_0x543e72<_0x4f7d89['resources']['length'];_0x543e72++)delete this['animations'][_0x4f7d89['resources'][_0x543e72]['name']],this['currAnim']===_0x4f7d89['resources'][_0x543e72]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x4f7d89['name']],this['currAnim']===_0x4f7d89['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x4f7d89['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(0xcda+0xf4*-0x3+-0x9fd),this['skeleton']&&(this['skeleton']['currentTim'+'e']=-0x2*0x891+0x3b*-0x71+-0x1*-0x2b2d,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x1ececf=0x85c+0x1*-0x138f+0xb33;_0x1ececf<this['animEvalua'+'tor']['clips']['length'];++_0x1ececf)this['animEvalua'+'tor']['clips'][_0x1ececf]['stop']();this['animEvalua'+'tor']['update'](0x6c5+0x1cde+-0x23a3),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x20a779=this['assets'],_0x1ba91b=this['system']['app']['assets'];if(_0x20a779)for(let _0x558420=0x38c*-0x7+-0x805*0x1+0x20d9,_0x4436be=_0x20a779['length'];_0x558420<_0x4436be;_0x558420++){let _0x41830a=_0x20a779[_0x558420];_0x41830a instanceof le||(_0x41830a=_0x1ba91b['get'](_0x41830a)),_0x41830a&&!_0x41830a['resource']&&_0x1ba91b['load'](_0x41830a);}if(this['activate']&&!this['currAnim']){const _0x3bdd0f=Object['keys'](this['animations']);_0x3bdd0f['length']>0x192f+-0x5e9+-0x1346&&this['play'](_0x3bdd0f[-0xa9+0x1ce5+0xd*-0x22c]);}}['onBeforeRe'+'move'](){for(let _0x1ab84f=-0xffe+-0x17d5+-0x7f7*-0x5;_0x1ab84f<this['assets']['length'];_0x1ab84f++){let _0x1e173c=this['assets'][_0x1ab84f];typeof _0x1e173c=='number'&&(_0x1e173c=this['system']['app']['assets']['get'](_0x1e173c)),_0x1e173c&&(_0x1e173c['off']('change',this['onAssetCha'+'nged'],this),_0x1e173c['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x4f794e){if(this['blending']&&(this['blend']+=_0x4f794e*this['blendSpeed'],this['blend']>=0x7*0x41c+0x152*-0x1+0x1*-0x1b71&&(this['blend']=-0x14b1*0x1+-0x3*0x958+0x30ba)),this['playing']){const _0x1f27e2=this['skeleton'];if(_0x1f27e2!==null&&this['model']!==null){if(this['blending'])_0x1f27e2['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x1eb15e=_0x4f794e*this['speed'];_0x1f27e2['addTime'](_0x1eb15e),this['speed']>0x1568+0x39*-0x41+-0x6ef&&_0x1f27e2['_time']===_0x1f27e2['animation']['duration']&&!this['loop']?this['playing']=!(-0x5a5+-0x1400+0x19a6):this['speed']<-0x15fa+-0x1331+0x292b&&_0x1f27e2['_time']===-0xfce+0x18ea+-0x91c&&!this['loop']&&(this['playing']=!(-0x1e50+0x1*-0x8bd+0x270e));}this['blending']&&this['blend']===0x1fc4+0x3dd+-0x23a0&&(_0x1f27e2['animation']=this['toSkel']['animation']),_0x1f27e2['updateGrap'+'h']();}}const _0x513cf7=this['animEvalua'+'tor'];if(_0x513cf7){for(let _0x20334c=-0x1b5+-0x129f+0x1454;_0x20334c<_0x513cf7['clips']['length'];++_0x20334c){const _0x52a87d=_0x513cf7['clips'][_0x20334c];_0x52a87d['speed']=this['speed'],this['playing']?_0x52a87d['resume']():_0x52a87d['pause']();}this['blending']&&_0x513cf7['clips']['length']>-0x1*-0x1459+0x1cc*-0x13+0xdcc*0x1&&(_0x513cf7['clips'][-0x5ba*-0x4+-0x94e+-0xd99]['blendWeigh'+'t']=this['blend']),_0x513cf7['update'](_0x4f794e);}this['blending']&&this['blend']===0x1e80+-0xd7*-0x7+-0x20*0x123&&(this['blending']=!(0xad*-0x1e+-0x2390+-0x37d7*-0x1));}}class zP{constructor(){this['enabled']=!(0x2262+0x1101+-0x1*0x3363);}}const Qu=['enabled'];class UP extends Xe{constructor(_0x3aafe4){super(_0x3aafe4),this['id']='animation',this['ComponentT'+'ype']=K0,this['DataType']=zP,this['schema']=Qu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x298898,_0x221b1f,_0xb4bef5){_0xb4bef5=['activate','enabled','loop','speed','assets'];for(const _0x4f0818 of _0xb4bef5)_0x221b1f['hasOwnProp'+'erty'](_0x4f0818)&&(_0x298898[_0x4f0818]=_0x221b1f[_0x4f0818]);super['initialize'+'ComponentD'+'ata'](_0x298898,_0x221b1f,Qu);}['cloneCompo'+'nent'](_0x4068fa,_0x373433){this['addCompone'+'nt'](_0x373433,{}),_0x373433['animation']['assets']=_0x4068fa['animation']['assets']['slice'](),_0x373433['animation']['speed']=_0x4068fa['animation']['speed'],_0x373433['animation']['loop']=_0x4068fa['animation']['loop'],_0x373433['animation']['activate']=_0x4068fa['animation']['activate'],_0x373433['animation']['enabled']=_0x4068fa['animation']['enabled'];const _0x1a80f1={},_0x5aeb25=_0x4068fa['animation']['animations'];for(const _0x113c1b in _0x5aeb25)_0x5aeb25['hasOwnProp'+'erty'](_0x113c1b)&&(_0x1a80f1[_0x113c1b]=_0x5aeb25[_0x113c1b]);_0x373433['animation']['animations']=_0x1a80f1;const _0x4f3d41={},_0x3ec144=_0x4068fa['animation']['animations'+'Index'];for(const _0x1e2310 in _0x3ec144)_0x3ec144['hasOwnProp'+'erty'](_0x1e2310)&&(_0x4f3d41[_0x1e2310]=_0x3ec144[_0x1e2310]);return _0x373433['animation']['animations'+'Index']=_0x4f3d41,_0x373433['animation'];}['onBeforeRe'+'move'](_0x2ad022,_0x33a049){_0x33a049['onBeforeRe'+'move']();}['onUpdate'](_0x320739){const _0x37b65a=this['store'];for(const _0xa650a1 in _0x37b65a)if(_0x37b65a['hasOwnProp'+'erty'](_0xa650a1)){const _0x5ae08d=_0x37b65a[_0xa650a1];_0x5ae08d['data']['enabled']&&_0x5ae08d['entity']['enabled']&&_0x5ae08d['entity']['animation']['update'](_0x320739);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](K0['prototype'],Qu);class Uo{constructor(_0x1f6b50,_0x25941f,_0x518f26,_0x38e973,_0x552080=0x18b6+-0x29f*-0xb+0x9a*-0x59){this['_state']=_0x1f6b50,this['_parent']=_0x25941f,this['_name']=_0x518f26,Array['isArray'](_0x38e973)?(this['_point']=new W(_0x38e973[-0x1*-0x469+-0x130+-0x113*0x3],_0x38e973[-0xb61*-0x2+0x1c8+0x1*-0x1889]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x38e973,this['_pointLeng'+'th']=_0x38e973),this['_speed']=_0x552080,this['_weightedS'+'peed']=-0x39c+0x446*-0x1+0x7e3,this['_weight']=0x1*0x217f+0x653*-0x1+-0x1b2b,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x262c07){this['_weight']=_0x262c07;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x558d35=this['_state']['totalWeigh'+'t'];return _0x558d35===-0x2154+0x126a*-0x2+-0x382*-0x14?-0x139e+0x1627+0x1*-0x289:this['weight']/_0x558d35;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x1d1740){this['_weightedS'+'peed']=_0x1d1740;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x2c2a93){this['_animTrack']=_0x2c2a93;}get['animTrack'](){return this['_animTrack'];}}class Ba extends Uo{constructor(_0x39e902,_0xb7bae6,_0x4676cc,_0x479bb9,_0x33d1dd,_0x5189f2,_0x2796b5,_0x212a60,_0x590e40){super(_0x39e902,_0xb7bae6,_0x4676cc,_0x479bb9),this['_parameter'+'s']=_0x33d1dd,this['_parameter'+'Values']=new Array(_0x33d1dd['length']),this['_children']=[],this['_findParam'+'eter']=_0x590e40,this['_syncAnima'+'tions']=_0x2796b5!==!(-0x2031+0x49+0x15*0x185),this['_pointCach'+'e']={};for(let _0x52c988=0x9d*-0x1+-0x1*-0x137b+-0x12de;_0x52c988<_0x5189f2['length'];_0x52c988++){const _0x4d0150=_0x5189f2[_0x52c988];_0x4d0150['children']?this['_children']['push'](_0x212a60(_0x4d0150['type'],_0x39e902,this,_0x4d0150['name'],-0x7df+0x1*-0xf86+0x1766,_0x4d0150['parameter']?[_0x4d0150['parameter']]:_0x4d0150['parameters'],_0x4d0150['children'],_0x4d0150['syncAnimat'+'ions'],_0x212a60,_0x590e40)):this['_children']['push'](new Uo(_0x39e902,this,_0x4d0150['name'],_0x4d0150['point'],_0x4d0150['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x2af5e6){for(let _0x44ffe2=-0x1d*-0x2a+0x133*-0x7+-0x85*-0x7;_0x44ffe2<this['_children']['length'];_0x44ffe2++)if(this['_children'][_0x44ffe2]['name']===_0x2af5e6)return this['_children'][_0x44ffe2];return null;}['updatePara'+'meterValue'+'s'](){let _0x183a14=!(0x312*-0x1+0x1fc4+-0x1cb2*0x1);for(let _0x16a334=-0x3b1*-0x5+0x268+0x1*-0x14dd;_0x16a334<this['_parameter'+'Values']['length'];_0x16a334++){const _0x10b78d=this['_findParam'+'eter'](this['_parameter'+'s'][_0x16a334])['value'];this['_parameter'+'Values'][_0x16a334]!==_0x10b78d&&(this['_parameter'+'Values'][_0x16a334]=_0x10b78d,_0x183a14=!(0x1edc+0x5a9+-0x2484));}return _0x183a14;}['getNodeWei'+'ghtedDurat'+'ion'](_0x22895b){return this['_children'][_0x22895b]['animTrack']['duration']/this['_children'][_0x22895b]['speedMulti'+'plier']*this['_children'][_0x22895b]['weight'];}['getNodeCou'+'nt'](){let _0x23e985=-0x2*-0x239+0x7a6+0x6*-0x204;for(let _0x27dd65=0x1*0x228e+-0x62c+-0x976*0x3;_0x27dd65<this['_children']['length'];_0x27dd65++)this['_children'][_0x27dd65]['constructo'+'r']===Ba?_0x23e985+=this['_children'][_0x27dd65]['getNodeCou'+'nt']():_0x23e985++;return _0x23e985;}}class VP extends Ba{constructor(_0x180b14,_0x75cdda,_0x31476a,_0x52df09,_0x140e0c,_0x519f68,_0x2cf2fb,_0x3c4421,_0x5c0c08){_0x519f68['sort']((_0x4b2c39,_0x194bd2)=>_0x4b2c39['point']-_0x194bd2['point']),super(_0x180b14,_0x75cdda,_0x31476a,_0x52df09,_0x140e0c,_0x519f68,_0x2cf2fb,_0x3c4421,_0x5c0c08);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x495621=-0x84c+0x16f*-0x12+0xb5e*0x3;this['_children'][-0x121c+-0xfec+0x2208]['weight']=0xc18+0x182*-0x16+0x1514;for(let _0x27de92=0x1db4+-0x1ba6+-0x20e;_0x27de92<this['_children']['length'];_0x27de92++){const _0x3b970c=this['_children'][_0x27de92];if(_0x27de92!==this['_children']['length']-(-0x1bcc+-0x15b6+-0x41*-0xc3)){const _0x2a96b0=this['_children'][_0x27de92+(0x8ba*-0x1+-0x21e7+-0x71b*-0x6)];if(_0x3b970c['point']===_0x2a96b0['point'])_0x3b970c['weight']=0x7cd*-0x3+-0x9*0xb+0x1d*0xd2+0.5,_0x2a96b0['weight']=-0xb75+-0xd7*0xd+0x1660+0.5;else{if(N['between'](this['_parameter'+'Values'][0x1c38+0x1*0x1e2b+-0x3a63],_0x3b970c['point'],_0x2a96b0['point'],!(-0x2675+-0x2411+0x4a86*0x1))){const _0x144f6f=Math['abs'](_0x3b970c['point']-_0x2a96b0['point']),_0x5d46e6=Math['abs'](_0x3b970c['point']-this['_parameter'+'Values'][-0x222c+-0x2fc*-0xb+0x2b*0x8]),_0xb9df33=(_0x144f6f-_0x5d46e6)/_0x144f6f;_0x3b970c['weight']=_0xb9df33,_0x2a96b0['weight']=0x99a+0x1bae+0x3*-0xc6d-_0xb9df33;}else _0x2a96b0['weight']=-0x1e66+-0x2656+-0x53*-0xd4;}}this['_syncAnima'+'tions']&&(_0x495621+=_0x3b970c['animTrack']['duration']/_0x3b970c['absoluteSp'+'eed']*_0x3b970c['weight']);}if(this['_syncAnima'+'tions'])for(let _0x5c2fa6=0x811*0x4+-0x10a2+-0xfa2;_0x5c2fa6<this['_children']['length'];_0x5c2fa6++){const _0x3d8131=this['_children'][_0x5c2fa6];_0x3d8131['weightedSp'+'eed']=_0x3d8131['animTrack']['duration']/_0x3d8131['absoluteSp'+'eed']/_0x495621;}}}const gi=class gi extends Ba{['pointDista'+'nceCache'](_0x523ec9,_0x93d0cf){const _0x412a7c=''+_0x523ec9+_0x93d0cf;return this['_pointCach'+'e'][_0x412a7c]||(this['_pointCach'+'e'][_0x412a7c]=this['_children'][_0x93d0cf]['point']['clone']()['sub'](this['_children'][_0x523ec9]['point'])),this['_pointCach'+'e'][_0x412a7c];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0xede96c,_0x435d06;gi['_p']['set'](...this['_parameter'+'Values']),_0xede96c=-0x115a+0x1057+0x103,_0x435d06=-0x17*0x1b+-0x1*0x247d+0x26ea;for(let _0x429693=-0x1*0x1166+-0xb75*-0x3+-0x365*0x5;_0x429693<this['_children']['length'];_0x429693++){const _0x3f9fea=this['_children'][_0x429693],_0x452144=_0x3f9fea['point'];gi['_pip']['set'](gi['_p']['x'],gi['_p']['y'])['sub'](_0x452144);let _0x5bfc4c=Number['MAX_VALUE'];for(let _0x1d2993=0x8d2+0xa0+0x972*-0x1;_0x1d2993<this['_children']['length'];_0x1d2993++){if(_0x429693===_0x1d2993)continue;const _0x34cc4b=this['pointDista'+'nceCache'](_0x429693,_0x1d2993),_0x30f2bd=N['clamp'](0x1*-0xfdd+0xed+0xef1-gi['_pip']['dot'](_0x34cc4b)/_0x34cc4b['lengthSq'](),-0xfd*-0xb+-0x1c43+0x1164,0x3*-0xce5+0x18fc+0xdb4);_0x30f2bd<_0x5bfc4c&&(_0x5bfc4c=_0x30f2bd);}_0x3f9fea['weight']=_0x5bfc4c,_0xede96c+=_0x5bfc4c,this['_syncAnima'+'tions']&&(_0x435d06+=_0x3f9fea['animTrack']['duration']/_0x3f9fea['absoluteSp'+'eed']*_0x3f9fea['weight']);}for(let _0x32c003=-0x1*-0x6f+0xcc5+-0xd34;_0x32c003<this['_children']['length'];_0x32c003++){const _0x4ced7c=this['_children'][_0x32c003];_0x4ced7c['weight']=_0x4ced7c['_weight']/_0xede96c,this['_syncAnima'+'tions']&&(_0x4ced7c['weightedSp'+'eed']=_0x4ced7c['animTrack']['duration']/_0x4ced7c['absoluteSp'+'eed']/_0x435d06);}}};c(gi,'_p',new W()),c(gi,'_pip',new W());let Ju=gi;const yi=class yi extends Ba{['pointCache'](_0x216e0a,_0x44d2df){const _0x29fb6d=''+_0x216e0a+_0x44d2df;return this['_pointCach'+'e'][_0x29fb6d]||(this['_pointCach'+'e'][_0x29fb6d]=new W((this['_children'][_0x44d2df]['pointLengt'+'h']-this['_children'][_0x216e0a]['pointLengt'+'h'])/((this['_children'][_0x44d2df]['pointLengt'+'h']+this['_children'][_0x216e0a]['pointLengt'+'h'])/(0x87*-0x1+0x329*0xc+0x2563*-0x1)),W['angleRad'](this['_children'][_0x216e0a]['point'],this['_children'][_0x44d2df]['point'])*(-0xeb8*0x2+-0x1*0xbb2+-0x1*-0x2924))),this['_pointCach'+'e'][_0x29fb6d];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x397e5f,_0x1bfebf;yi['_p']['set'](...this['_parameter'+'Values']);const _0x53f0fb=yi['_p']['length']();_0x397e5f=-0x2*0x6be+-0xb*-0x2b3+0x1cd*-0x9,_0x1bfebf=0x55e+0x337*-0x2+0x110;for(let _0x5c8ce0=0x6c6+-0xb5*0x21+0x108f;_0x5c8ce0<this['_children']['length'];_0x5c8ce0++){const _0x1af442=this['_children'][_0x5c8ce0],_0x707b90=_0x1af442['point'],_0x1ce0f7=_0x1af442['pointLengt'+'h'];let _0x57badc=Number['MAX_VALUE'];for(let _0x267ccd=0x3b8+0x7*-0x371+0x145f*0x1;_0x267ccd<this['_children']['length'];_0x267ccd++){if(_0x5c8ce0===_0x267ccd)continue;const _0x27f7dd=this['pointCache'](_0x5c8ce0,_0x267ccd),_0x53d0fb=this['_children'][_0x267ccd]['pointLengt'+'h'];yi['_pip']['set']((_0x53f0fb-_0x1ce0f7)/((_0x53d0fb+_0x1ce0f7)/(0x125b*0x1+0x2288+-0x34e1)),W['angleRad'](_0x707b90,yi['_p'])*(0x1abe+0x2657+-0x4113*0x1));const _0x531aa9=N['clamp'](-0x1*-0x6e2+-0x241*-0xc+-0x21ed-Math['abs'](yi['_pip']['dot'](_0x27f7dd)/_0x27f7dd['lengthSq']()),0x1*0x1387+-0x1*0x1b45+0x7be,-0x4e0+-0x86d*-0x4+-0x1cd3);_0x531aa9<_0x57badc&&(_0x57badc=_0x531aa9);}_0x1af442['weight']=_0x57badc,_0x397e5f+=_0x57badc,this['_syncAnima'+'tions']&&(_0x1bfebf+=_0x1af442['animTrack']['duration']/_0x1af442['absoluteSp'+'eed']*_0x1af442['weight']);}for(let _0x20cfcf=-0x223c*-0x1+0xc17*-0x1+0x1625*-0x1;_0x20cfcf<this['_children']['length'];_0x20cfcf++){const _0x4b44cc=this['_children'][_0x20cfcf];if(_0x4b44cc['weight']=_0x4b44cc['_weight']/_0x397e5f,this['_syncAnima'+'tions']){const _0xe335a9=_0x4b44cc['animTrack']['duration']/_0x1bfebf*_0x397e5f;_0x4b44cc['weightedSp'+'eed']=_0x4b44cc['absoluteSp'+'eed']*_0xe335a9;}}}};c(yi,'_p',new W()),c(yi,'_pip',new W());let ef=yi;class GP extends Ba{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x3eb387=0x432*0x5+0x1*-0x2049+0xb4f,_0x58d58f=0x34b*0x3+0xc44+0x1*-0x1625;for(let _0x324b98=-0x1b78+0xf3d+0xc3b;_0x324b98<this['_children']['length'];_0x324b98++)if(_0x3eb387+=Math['max'](this['_parameter'+'Values'][_0x324b98],0x4e*-0x24+-0x17a6+0x229e),this['_syncAnima'+'tions']){const _0x515d73=this['_children'][_0x324b98];_0x58d58f+=_0x515d73['animTrack']['duration']/_0x515d73['absoluteSp'+'eed']*_0x515d73['weight'];}for(let _0x4170b0=-0x1fd*0x9+-0x2294+-0x2c3*-0x13;_0x4170b0<this['_children']['length'];_0x4170b0++){const _0x60a5bc=this['_children'][_0x4170b0],_0x38828a=Math['max'](this['_parameter'+'Values'][_0x4170b0],0xf85+0x17e1*-0x1+0x85c);_0x3eb387?(_0x60a5bc['weight']=_0x38828a/_0x3eb387,this['_syncAnima'+'tions']&&(_0x60a5bc['weightedSp'+'eed']=_0x60a5bc['animTrack']['duration']/_0x60a5bc['absoluteSp'+'eed']/_0x58d58f)):(_0x60a5bc['weight']=0x26e5+0x5b7*-0x3+0xae*-0x20,this['_syncAnima'+'tions']&&(_0x60a5bc['weightedSp'+'eed']=0xd72*-0x2+0xa3*-0x2+0x1*0x1c2a));}}}class eg{constructor(_0x10bc43,_0x598b27,_0x252578=-0xa*0x2e6+0x3*-0xa47+0x3bd2,_0x136510=!(0x69*0x4a+-0x1*-0x31a+-0x2174),_0x4c93c9){c(this,'_animation'+'s',{}),c(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x10bc43,this['_name']=_0x598b27,this['_speed']=_0x252578,this['_loop']=_0x136510,this['_hasAnimat'+'ions']=!(0xc54+0x1ac7+-0xb6*0x37),_0x4c93c9?this['_blendTree']=this['_createTre'+'e'](_0x4c93c9['type'],this,null,_0x598b27,0x75*-0x47+0x22f4*0x1+-0x8*0x50,_0x4c93c9['parameter']?[_0x4c93c9['parameter']]:_0x4c93c9['parameters'],_0x4c93c9['children'],_0x4c93c9['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new Uo(this,null,_0x598b27,-0x179*0x7+0xfb5+-0x1*0x565,_0x252578));}['_createTre'+'e'](_0x160b2a,_0xc2c36a,_0x45d763,_0x22da74,_0x5b6720,_0x18065d,_0x502933,_0x4f0f9d,_0xf145aa,_0x34b33e){switch(_0x160b2a){case FP:return new VP(_0xc2c36a,_0x45d763,_0x22da74,_0x5b6720,_0x18065d,_0x502933,_0x4f0f9d,_0xf145aa,_0x34b33e);case kP:return new Ju(_0xc2c36a,_0x45d763,_0x22da74,_0x5b6720,_0x18065d,_0x502933,_0x4f0f9d,_0xf145aa,_0x34b33e);case OP:return new ef(_0xc2c36a,_0x45d763,_0x22da74,_0x5b6720,_0x18065d,_0x502933,_0x4f0f9d,_0xf145aa,_0x34b33e);case BP:return new GP(_0xc2c36a,_0x45d763,_0x22da74,_0x5b6720,_0x18065d,_0x502933,_0x4f0f9d,_0xf145aa,_0x34b33e);}v['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x160b2a);}['_getNodeFr'+'omPath'](_0x2f5e21){let _0x3b32fc=this['_blendTree'];for(let _0x581641=-0x1004+0x1309+-0x4*0xc1;_0x581641<_0x2f5e21['length'];_0x581641++)_0x3b32fc=_0x3b32fc['getChild'](_0x2f5e21[_0x581641]);return _0x3b32fc;}['addAnimati'+'on'](_0x4ccc08,_0x180693){const _0x191f86=_0x4ccc08['join']('.'),_0x2a7b1a=this['_animation'+'List']['findIndex'](_0x157394=>_0x157394['path']===_0x191f86);if(_0x2a7b1a>=-0x2*-0x89f+0x29*0xa6+0x3fc*-0xb)this['_animation'+'List'][_0x2a7b1a]['animTrack']=_0x180693;else{const _0x2f64ec=this['_getNodeFr'+'omPath'](_0x4ccc08);_0x2f64ec['animTrack']=_0x180693,this['_animation'+'List']['push'](_0x2f64ec);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>0x1*0x577+-0x727*-0x1+-0xc9e&&this['_animation'+'List']['every'](_0x278aa1=>_0x278aa1['animTrack']&&_0x278aa1['animTrack']!==Ri['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x3b86e1){this['_animation'+'List']=_0x3b86e1,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x5b0239){this['_speed']=_0x5b0239;}get['speed'](){return this['_speed'];}set['loop'](_0x43c2ee){this['_loop']=_0x43c2ee;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===Uo?0x249+0x26ba+-0x1d*0x16a:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return jh['indexOf'](this['name'])!==-(0xa65*-0x1+-0x40e+0x2*0x73a)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>0x5fd+0xb6f*-0x3+0x97*0x30){const _0x2ae831=this['name']+'.'+this['animations'][-0x2*0xb47+-0x157c+0x2c0a]['animTrack']['name'],_0x3252a6=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x2ae831);if(_0x3252a6)return _0x3252a6['loop'];}return!(0x2*-0x653+-0x1f3a+0x2be1);}get['totalWeigh'+'t'](){let _0x4443b0=0x677*-0x4+0x838+0x11a4;for(let _0x43d571=0x1b16+0xd*0x54+-0x1f5a*0x1;_0x43d571<this['animations']['length'];_0x43d571++)_0x4443b0+=this['animations'][_0x43d571]['weight'];return _0x4443b0;}get['timelineDu'+'ration'](){let _0x2c5927=0xfb*-0xc+-0x1*0x25db+0x319f;for(let _0x344de9=-0x22ed+-0x7*-0x23e+0x133b;_0x344de9<this['animations']['length'];_0x344de9++){const _0x2ad886=this['animations'][_0x344de9];_0x2ad886['animTrack']['duration']>_0x2c5927&&(_0x2c5927=_0x2ad886['animTrack']['duration']);}return _0x2c5927;}}class Yh{constructor({from:_0x157255,to:_0x28ec45,time:_0x5395b5=0x2032+0x1*-0x141+-0x59*0x59,priority:_0x3ed2a9=-0x2cf*0xc+0x1133+0x1081,conditions:_0x85bfa7=[],exitTime:_0x4d6df6=null,transitionOffset:_0x2946e5=null,interruptionSource:_0x2ef2b9=q0}){this['_from']=_0x157255,this['_to']=_0x28ec45,this['_time']=_0x5395b5,this['_priority']=_0x3ed2a9,this['_condition'+'s']=_0x85bfa7,this['_exitTime']=_0x4d6df6,this['_transitio'+'nOffset']=_0x2946e5,this['_interrupt'+'ionSource']=_0x2ef2b9;}get['from'](){return this['_from'];}set['to'](_0xb411bb){this['_to']=_0xb411bb;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class HP{constructor(_0x1f3554,_0x4225ab,_0x4ce906,_0x1ed970,_0x5ce2d6,_0x10f451,_0x4a07fb){c(this,'_states',{}),c(this,'_stateName'+'s',[]),c(this,'_findTrans'+'itionsFrom'+'StateCache',{}),c(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),c(this,'_previousS'+'tateName',null),c(this,'_activeSta'+'teName',oo),c(this,'_activeSta'+'teDuration',-0xb*0xd1+-0x17e2+0x20dd),c(this,'_activeSta'+'teDuration'+'Dirty',!(-0x8*0x2ef+-0x36e*0x1+0x1ae6)),c(this,'_playing',!(-0x336*0x1+0x69*0xc+-0x1b5)),c(this,'_activate'),c(this,'_transitio'+'ns'),c(this,'_currTrans'+'itionTime',0xb2d*0x3+-0x130*-0x5+-0x2776),c(this,'_totalTran'+'sitionTime',-0x1d63*-0x1+0x226d+-0x3fcf),c(this,'_isTransit'+'ioning',!(0x3da*0x2+0xeea+-0x1*0x169d)),c(this,'_transitio'+'nInterrupt'+'ionSource',q0),c(this,'_transitio'+'nPreviousS'+'tates',[]),c(this,'_timeInSta'+'te',0x20*-0x53+-0x2c*0x5+0xb3c),c(this,'_timeInSta'+'teBefore',0xdb*-0x1+0x3*0x90b+-0x1a46),c(this,'findParame'+'ter',_0x415f42=>this['_findParam'+'eter'](_0x415f42)),(this['_animEvalu'+'ator']=_0x1f3554,this['_eventHand'+'ler']=_0x5ce2d6,this['_findParam'+'eter']=_0x10f451,this['_consumeTr'+'igger']=_0x4a07fb);for(let _0x2dd248=0x1e5*0xa+0x1*0xf67+-0x2259;_0x2dd248<_0x4225ab['length'];_0x2dd248++)this['_states'][_0x4225ab[_0x2dd248]['name']]=new eg(this,_0x4225ab[_0x2dd248]['name'],_0x4225ab[_0x2dd248]['speed'],_0x4225ab[_0x2dd248]['loop'],_0x4225ab[_0x2dd248]['blendTree']),this['_stateName'+'s']['push'](_0x4225ab[_0x2dd248]['name']);this['_transitio'+'ns']=_0x4ce906['map'](_0xc44ec4=>new Yh({..._0xc44ec4})),this['_activate']=_0x1ed970;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x351e38){this['_activeSta'+'teName']=_0x351e38;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x4bcf75){this['_previousS'+'tateName']=_0x4bcf75;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x326ff7=!(0x1*0x2ba+0x1*0xa38+0x1*-0xcf2);for(let _0x22bbc1=-0x1*-0xb95+0x14d2*-0x1+0x93d;_0x22bbc1<this['_stateName'+'s']['length'];_0x22bbc1++)this['_states'][this['_stateName'+'s'][_0x22bbc1]]['playable']||(_0x326ff7=!(0x1c9+-0x837*0x4+0x1f14));return _0x326ff7;}set['playing'](_0x5d0ec7){this['_playing']=_0x5d0ec7;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x3e4fa8=0x85*-0x30+0x115d+0x793;for(let _0x532ef7=-0x24dd+-0x251+0x5*0x7d6;_0x532ef7<this['activeStat'+'eAnimation'+'s']['length'];_0x532ef7++){const _0x27549d=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x532ef7]['name']);_0x27549d&&(_0x3e4fa8=Math['max'](_0x3e4fa8,_0x27549d['track']['duration']));}this['_activeSta'+'teDuration']=_0x3e4fa8,this['_activeSta'+'teDuration'+'Dirty']=!(0x6f8+0x4ec+-0xbe3);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x377195){this['_timeInSta'+'teBefore']=_0x377195,this['_timeInSta'+'te']=_0x377195;for(let _0x4db387=-0x174f+0xa*-0x3e5+0x1*0x3e41;_0x4db387<this['activeStat'+'eAnimation'+'s']['length'];_0x4db387++){const _0x40c486=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x4db387]['name']);_0x40c486&&(_0x40c486['time']=_0x377195);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x1a38b4){return this['_animEvalu'+'ator']['assignMask'](_0x1a38b4);}['_findState'](_0x371c51){return this['_states'][_0x371c51];}['_getActive'+'StateProgr'+'essForTime'](_0x1eb70e){if(this['activeStat'+'eName']===oo||this['activeStat'+'eName']===Ku||this['activeStat'+'eName']===Or)return-0x1*-0xe1d+-0x1*0x3fd+0x1*-0xa1f;const _0x55db90=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][-0x34*0x11+-0x1d*0xd3+0x1b5b]['name']);return _0x55db90?_0x55db90['progressFo'+'rTime'](_0x1eb70e):null;}['_findTrans'+'itionsFrom'+'State'](_0x119b1b){let _0x440e47=this['_findTrans'+'itionsFrom'+'StateCache'][_0x119b1b];return _0x440e47||(_0x440e47=this['_transitio'+'ns']['filter'](_0x540337=>_0x540337['from']===_0x119b1b),No(_0x440e47),this['_findTrans'+'itionsFrom'+'StateCache'][_0x119b1b]=_0x440e47),_0x440e47;}['_findTrans'+'itionsBetw'+'eenStates'](_0x3ba7dc,_0x31fada){let _0x4fb6ad=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x3ba7dc+'->'+_0x31fada];return _0x4fb6ad||(_0x4fb6ad=this['_transitio'+'ns']['filter'](_0xb4a4f6=>_0xb4a4f6['from']===_0x3ba7dc&&_0xb4a4f6['to']===_0x31fada),No(_0x4fb6ad),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x3ba7dc+'->'+_0x31fada]=_0x4fb6ad),_0x4fb6ad;}['_transitio'+'nHasCondit'+'ionsMet'](_0x2d8418){const _0x27998f=_0x2d8418['conditions'];for(let _0x46afc5=-0x2419+-0xbfb*0x1+0x3014;_0x46afc5<_0x27998f['length'];_0x46afc5++){const _0x1fcbdf=_0x27998f[_0x46afc5],_0x230cfd=this['_findParam'+'eter'](_0x1fcbdf['parameterN'+'ame']);switch(_0x1fcbdf['predicate']){case MP:if(!(_0x230cfd['value']>_0x1fcbdf['value']))return!(0x781+0x1*0x9d9+0x1*-0x1159);break;case PP:if(!(_0x230cfd['value']<_0x1fcbdf['value']))return!(0xafb*0x3+-0x12c5+0x1f*-0x75);break;case RP:if(!(_0x230cfd['value']>=_0x1fcbdf['value']))return!(0x48*0x9+-0x1716+0x148f);break;case IP:if(!(_0x230cfd['value']<=_0x1fcbdf['value']))return!(-0x225*-0x7+0x1e2*-0xe+-0xb5a*-0x1);break;case DP:if(_0x230cfd['value']!==_0x1fcbdf['value'])return!(0x1*-0x230b+0x3a*0x61+0x689*0x2);break;case LP:if(_0x230cfd['value']===_0x1fcbdf['value'])return!(0x23a8+-0x20e7+-0x2c0);break;}}return!(-0x1073+-0x2*0x4f+0x1111);}['_findTrans'+'ition'](_0x1668bb,_0x343763){let _0x4b4d84=[];if(_0x1668bb&&_0x343763)_0x4b4d84=_0x4b4d84['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x1668bb,_0x343763));else{if(!this['_isTransit'+'ioning'])_0x4b4d84=_0x4b4d84['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x4b4d84=_0x4b4d84['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case TP:_0x4b4d84=_0x4b4d84['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x4b4d84=_0x4b4d84['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case AP:_0x4b4d84=_0x4b4d84['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x4b4d84=_0x4b4d84['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case EP:_0x4b4d84=_0x4b4d84['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x4b4d84=_0x4b4d84['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x4b4d84=_0x4b4d84['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case CP:_0x4b4d84=_0x4b4d84['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x4b4d84=_0x4b4d84['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x4b4d84=_0x4b4d84['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;}}if(_0x4b4d84=_0x4b4d84['filter'](_0xbcdd03=>{if(_0xbcdd03['to']===this['activeStat'+'eName'])return!(-0x147c+-0x8b*0x1a+0x3*0xb89);if(_0xbcdd03['hasExitTim'+'e']){let _0x37ff54=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0xdaea25=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0xbcdd03['exitTime']<-0x472*-0x3+0x9fb+-0x2ea*0x8&&this['activeStat'+'e']['loop']&&(_0x37ff54-=Math['floor'](_0x37ff54),_0xdaea25-=Math['floor'](_0xdaea25)),_0xdaea25===_0x37ff54){if(_0xdaea25!==_0xbcdd03['exitTime'])return null;}else{if(!(_0xbcdd03['exitTime']>_0x37ff54&&_0xbcdd03['exitTime']<=_0xdaea25))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0xbcdd03);}),_0x4b4d84['length']>-0x203e*0x1+0x1d41+0x2fd*0x1){const _0x4668ac=_0x4b4d84[0x9a3*-0x3+-0x14d8+-0x2f*-0x10f];if(_0x4668ac['to']===Ku){const _0x47a0e2=this['_findTrans'+'itionsFrom'+'State'](oo)[0x3d1*0x7+0x15ec+-0x30a3];_0x4668ac['to']=_0x47a0e2['to'];}return _0x4668ac;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x5961a8){let _0x1ddeea,_0xa65863,_0x496711;this['previousSt'+'ate']=_0x5961a8['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x5961a8['to'],this['_activeSta'+'teDuration'+'Dirty']=!(0x18cb+-0x2016+0x74b);for(let _0x8cb64c=-0x2*-0x90a+0x3*-0x939+-0x5*-0x1eb;_0x8cb64c<_0x5961a8['conditions']['length'];_0x8cb64c++){const _0x5195ed=_0x5961a8['conditions'][_0x8cb64c];this['_findParam'+'eter'](_0x5195ed['parameterN'+'ame'])['type']===ph&&this['_consumeTr'+'igger'](_0x5195ed['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x1c44c7=Math['min'](this['_totalTran'+'sitionTime']!==0x201f*0x1+-0x1313+-0xa7*0x14?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x5de*-0x2+0x13f7*0x1+-0x83a,0x1a9c+0x125f*-0x2+0xa23);for(let _0x4d42d3=0x1cd*-0xd+-0x8*0x7a+-0x3*-0x913;_0x4d42d3<this['_transitio'+'nPreviousS'+'tates']['length'];_0x4d42d3++){this['_isTransit'+'ioning']?_0x4d42d3!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x1*-0x1d4b+0xc7*0x25+0x1*0x89)?this['_transitio'+'nPreviousS'+'tates'][_0x4d42d3]['weight']*=0x2*-0x9e9+0x1452+-0x7f-_0x1c44c7:this['_transitio'+'nPreviousS'+'tates'][_0x4d42d3]['weight']=_0x1c44c7:this['_transitio'+'nPreviousS'+'tates'][_0x4d42d3]['weight']=0x148b*-0x1+-0x11f*0x22+0x3aaa,_0x1ddeea=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x4d42d3]['name']);for(let _0x22a900=-0x25c3+-0xf02+0x34c5;_0x22a900<_0x1ddeea['animations']['length'];_0x22a900++)_0xa65863=_0x1ddeea['animations'][_0x22a900],_0x496711=this['_animEvalu'+'ator']['findClip'](_0xa65863['name']+'.previous.'+_0x4d42d3),_0x496711||(_0x496711=this['_animEvalu'+'ator']['findClip'](_0xa65863['name']),_0x496711['name']=_0xa65863['name']+'.previous.'+_0x4d42d3),_0x4d42d3!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x2*-0xc1e+0x1*-0x1897+-0x17*-0x4)&&_0x496711['pause']();}}this['_isTransit'+'ioning']=!(0x1381*-0x1+-0x2287+-0x38*-0xf7),this['_totalTran'+'sitionTime']=_0x5961a8['time'],this['_currTrans'+'itionTime']=-0x1f89+0x1fe*-0xa+0x3375*0x1,this['_transitio'+'nInterrupt'+'ionSource']=_0x5961a8['interrupti'+'onSource'];const _0x64158e=this['activeStat'+'e'],_0x1ef7ea=_0x5961a8['transition'+'Offset']&&_0x5961a8['transition'+'Offset']>-0xe08+0x117e*0x1+-0x376&&_0x5961a8['transition'+'Offset']<0x1d89+-0x7c5+-0x26b*0x9;let _0x9e1077=-0x5e*0x25+-0xcd1+0x1a67*0x1,_0x19106f=0x1871*0x1+0x2352+0x1*-0x3bc3;if(_0x1ef7ea){const _0x586e50=_0x64158e['timelineDu'+'ration']*_0x5961a8['transition'+'Offset'];_0x9e1077=_0x586e50,_0x19106f=_0x586e50;}this['_timeInSta'+'te']=_0x9e1077,this['_timeInSta'+'teBefore']=_0x19106f;for(let _0x1121bc=-0x1*0x823+-0x253*-0x9+-0xcc8;_0x1121bc<_0x64158e['animations']['length'];_0x1121bc++){if(_0x496711=this['_animEvalu'+'ator']['findClip'](_0x64158e['animations'][_0x1121bc]['name']),_0x496711)_0x496711['reset']();else{const _0x3fb7b1=Number['isFinite'](_0x64158e['animations'][_0x1121bc]['speed'])?_0x64158e['animations'][_0x1121bc]['speed']:_0x64158e['speed'];_0x496711=new Xh(_0x64158e['animations'][_0x1121bc]['animTrack'],this['_timeInSta'+'te'],_0x3fb7b1,!(-0x1b7f*-0x1+-0x5*-0x289+-0x282c),_0x64158e['loop'],this['_eventHand'+'ler']),_0x496711['name']=_0x64158e['animations'][_0x1121bc]['name'],this['_animEvalu'+'ator']['addClip'](_0x496711);}if(_0x5961a8['time']>-0x219b*0x1+0x1*-0x264b+-0x47e6*-0x1?_0x496711['blendWeigh'+'t']=-0x51d+0x5*0x53f+-0x1*0x151e:_0x496711['blendWeigh'+'t']=_0x64158e['animations'][_0x1121bc]['normalized'+'Weight'],_0x496711['play'](),_0x1ef7ea)_0x496711['time']=_0x64158e['timelineDu'+'ration']*_0x5961a8['transition'+'Offset'];else{const _0x489dbf=_0x64158e['speed']>=-0x234e+0x1*-0x1f3+0x2541?-0x420+-0x151*0x6+-0x6*-0x201:this['activeStat'+'eDuration'];_0x496711['time']=_0x489dbf;}}}['_transitio'+'nToState'](_0x5a8939){if(!this['_findState'](_0x5a8939))return;let _0xa749fc=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x5a8939);_0xa749fc||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0xa749fc=new Yh({'from':null,'to':_0x5a8939})),this['updateStat'+'eFromTrans'+'ition'](_0xa749fc);}['assignAnim'+'ation'](_0x231cb9,_0x11541a,_0x5958b5,_0x363168){const _0x408bc2=_0x231cb9['split']('.');let _0x260b41=this['_findState'](_0x408bc2[-0x5e*-0x48+-0x5a6+-0x14ca]);_0x260b41||(_0x260b41=new eg(this,_0x408bc2[-0x19e4*0x1+-0xdb3+0x2797],_0x5958b5),this['_states'][_0x408bc2[0x16f+-0x116e*-0x1+-0x12dd]]=_0x260b41,this['_stateName'+'s']['push'](_0x408bc2[0x2e7*0xd+0x23e4+-0x499f])),_0x260b41['addAnimati'+'on'](_0x408bc2,_0x11541a),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x260b41['name'],_0x11541a),_0x5958b5!==void(0x3*-0x329+-0x833*0x3+0x2214)&&(_0x260b41['speed']=_0x5958b5),_0x363168!==void(0x64*-0x64+0x57*-0x16+0x2e8a)&&(_0x260b41['loop']=_0x363168),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(-0x1aad+0xf*0x16e+-0x67*-0xd);}['removeNode'+'Animations'](_0x44ac06){if(jh['indexOf'](_0x44ac06)!==-(0x118+0x1bf8+0xad*-0x2b))return!(-0x16*-0xf9+-0xfbf+-0x3*0x1e2);const _0x420f02=this['_findState'](_0x44ac06);return _0x420f02?(_0x420f02['animations']=[],!(-0x1b34+0x173a*0x1+-0x1fd*-0x2)):(v['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x44ac06),!(-0x7b3*0x1+-0x23f2+0x1*0x2ba6));}['play'](_0x39c735){_0x39c735&&this['_transitio'+'nToState'](_0x39c735),this['_playing']=!(0x2*0x250+-0x2395+0x1ef5);}['pause'](){this['_playing']=!(-0xa0a+0x29d+0x76e);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=oo,this['_playing']=!(0x1*-0x204b+0x110*-0x1+0x6ac*0x5),this['_currTrans'+'itionTime']=-0xa*-0xa+0x2*0x284+-0x56b,this['_totalTran'+'sitionTime']=-0x8b6+-0x19d0+0x1*0x2287,this['_isTransit'+'ioning']=!(-0x1*0x303+-0xdf1+0x10f5),this['_timeInSta'+'te']=-0x57+-0x1*0xf25+0xf7c,this['_timeInSta'+'teBefore']=-0x1*-0x1c31+0x649+-0x227a,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x31284a){if(!this['_playing'])return;let _0x553655,_0x15284f,_0x5d243d;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x31284a*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x31284a=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x62c3f9=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x62c3f9&&this['updateStat'+'eFromTrans'+'ition'](_0x62c3f9),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x31284a,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x4bc08f=this['_totalTran'+'sitionTime']!==-0x141e+-0x1*0x251+0x166f?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x1f0d*-0x1+0x7*-0xaa+0x392*0xa;for(let _0x433112=0x7*-0x481+0x2*-0xf03+-0x1*-0x3d8d;_0x433112<this['_transitio'+'nPreviousS'+'tates']['length'];_0x433112++){_0x553655=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x433112]['name']);const _0x2ec4c9=this['_transitio'+'nPreviousS'+'tates'][_0x433112]['weight'];for(let _0xe19a3d=0xb39+-0x1*-0xe86+0x27*-0xa9;_0xe19a3d<_0x553655['animations']['length'];_0xe19a3d++)_0x15284f=_0x553655['animations'][_0xe19a3d],_0x5d243d=this['_animEvalu'+'ator']['findClip'](_0x15284f['name']+'.previous.'+_0x433112),_0x5d243d&&(_0x5d243d['blendWeigh'+'t']=(-0x8*-0x245+0x1323+-0x254a-_0x4bc08f)*_0x15284f['normalized'+'Weight']*_0x2ec4c9);}_0x553655=this['activeStat'+'e'];for(let _0x3a6445=0x113b+-0x226d*0x1+0x1132;_0x3a6445<_0x553655['animations']['length'];_0x3a6445++)_0x15284f=_0x553655['animations'][_0x3a6445],this['_animEvalu'+'ator']['findClip'](_0x15284f['name'])['blendWeigh'+'t']=_0x4bc08f*_0x15284f['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(-0x8b5*0x4+-0x8f8+0x2bcd);const _0x3706ff=this['activeStat'+'eAnimation'+'s']['length'],_0x539bb4=this['_animEvalu'+'ator']['clips']['length'];for(let _0x1cc65e=0xf5c+-0x112e+0x2*0xe9;_0x1cc65e<_0x539bb4-_0x3706ff;_0x1cc65e++)this['_animEvalu'+'ator']['removeClip'](0x222a+-0x18d9+-0x9f*0xf);this['_transitio'+'nPreviousS'+'tates']=[],_0x553655=this['activeStat'+'e'];for(let _0x39b44b=0x505+0x2557+-0x1*0x2a5c;_0x39b44b<_0x553655['animations']['length'];_0x39b44b++)_0x15284f=_0x553655['animations'][_0x39b44b],_0x5d243d=this['_animEvalu'+'ator']['findClip'](_0x15284f['name']),_0x5d243d&&(_0x5d243d['blendWeigh'+'t']=_0x15284f['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==Uo){_0x553655=this['activeStat'+'e'];for(let _0x32ca1=-0x279+0xcd4*0x3+-0x2403;_0x32ca1<_0x553655['animations']['length'];_0x32ca1++)_0x15284f=_0x553655['animations'][_0x32ca1],_0x5d243d=this['_animEvalu'+'ator']['findClip'](_0x15284f['name']),_0x5d243d&&(_0x5d243d['blendWeigh'+'t']=_0x15284f['normalized'+'Weight'],_0x15284f['parent']['syncAnimat'+'ions']&&(_0x5d243d['speed']=_0x15284f['speed']));}}this['_animEvalu'+'ator']['update'](_0x31284a,this['activeStat'+'e']['hasAnimati'+'ons']);}}const Yd=new W(),ql=new T(),Ja=new Q(),eo=new Y(),to=new se();class mi extends Ji{constructor(_0x1350f4,_0x3c3dc9,_0x14dff1,_0x4b3182,_0xcc3e02){super(_0x3c3dc9),this['animCompon'+'ent']=_0x1350f4,this['_mask']=_0x4b3182,this['layerName']=_0x14dff1,this['layerIndex']=_0xcc3e02;}static['_packFloat'](_0x443f10){return _0x443f10[0x229c+0x18c+-0x2428];}static['_packBoole'+'an'](_0x2085d8){return!!_0x2085d8[0x1ac1+-0x345+-0x177c];}static['_packVec2'](_0x1ec994){return Yd['x']=_0x1ec994[-0x3ad*0xa+-0x81a*-0x1+0x1ca8],Yd['y']=_0x1ec994[0x249c+0xd68+-0x3203*0x1],Yd;}static['_packVec3'](_0x5d705e){return ql['x']=_0x5d705e[-0x77*0xa+0x11*-0x205+0x26fb],ql['y']=_0x5d705e[-0x1a*-0x128+-0x1071*0x2+0x1*0x2d3],ql['z']=_0x5d705e[0xfaa*-0x2+-0x2*0xdab+0x3aac],ql;}static['_packVec4'](_0x445938){return Ja['x']=_0x445938[-0x1*0x94b+-0x1b3c+0x1*0x2487],Ja['y']=_0x445938[-0x557*0x2+0x7*-0x292+0x1cad],Ja['z']=_0x445938[-0x2105*-0x1+-0x7d6+-0x192d],Ja['w']=_0x445938[-0x45*-0x2b+0x1*-0xf1f+0x38b],Ja;}static['_packColor'](_0x26dce2){return eo['r']=_0x26dce2[-0x1643+-0x149*-0x13+-0x228],eo['g']=_0x26dce2[0x261d*-0x1+0x218f+0x48f],eo['b']=_0x26dce2[-0x81b*-0x2+0xa7*-0x13+-0x3cf],eo['a']=_0x26dce2[-0x1a*0x1f+-0x1*-0x7c4+-0x49b],eo;}static['_packQuat'](_0x49bac5){return to['x']=_0x49bac5[-0x35*0xb+0x607*-0x6+0x2671],to['y']=_0x49bac5[0x133*-0x1f+-0x26c1+0x4bef],to['z']=_0x49bac5[0x1*-0xd47+0x26cd+-0x1984],to['w']=_0x49bac5[0x1c64+-0x1979+-0x2e8],to;}['resolve'](_0x2b0b8e){const _0x4c6953=qr['encode'](_0x2b0b8e['entityPath'],_0x2b0b8e['component'],_0x2b0b8e['propertyPa'+'th']);let _0x2d25eb=this['targetCach'+'e'][_0x4c6953];if(_0x2d25eb)return _0x2d25eb;let _0x51f70f,_0x1bba99,_0x5d70e9;switch(_0x2b0b8e['component']){case'entity':_0x51f70f=this['_getEntity'+'FromHierar'+'chy'](_0x2b0b8e['entityPath']),_0x5d70e9=qr['encode'](_0x51f70f['path'],'entity',_0x2b0b8e['propertyPa'+'th']),_0x1bba99=_0x51f70f;break;case'graph':if(_0x1bba99=this['findNode'](_0x2b0b8e),!_0x1bba99)return null;_0x5d70e9=qr['encode'](_0x1bba99['path'],'graph',_0x2b0b8e['propertyPa'+'th']);break;default:if(_0x51f70f=this['_getEntity'+'FromHierar'+'chy'](_0x2b0b8e['entityPath']),_0x1bba99=_0x51f70f['findCompon'+'ent'](_0x2b0b8e['component']),!_0x1bba99)return null;_0x5d70e9=qr['encode'](_0x51f70f['path'],_0x2b0b8e['component'],_0x2b0b8e['propertyPa'+'th']);break;}return _0x2d25eb=this['_createAni'+'mTargetFor'+'Property'](_0x1bba99,_0x2b0b8e['propertyPa'+'th'],_0x5d70e9),this['targetCach'+'e'][_0x4c6953]=_0x2d25eb,_0x2d25eb;}['update'](_0x9c05fb){const _0x15336b=this['activeNode'+'s'];if(_0x15336b){for(let _0x260a34=0xe87*0x1+-0x1*0x1066+0x1*0x1df;_0x260a34<_0x15336b['length'];_0x260a34++)_0x15336b[_0x260a34]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x86f164){if(!this['animCompon'+'ent']['entity']['name']===_0x86f164[0x22ce+0xec3+0x3191*-0x1])return null;const _0x1292f1=this['animCompon'+'ent']['entity'];return _0x86f164['length']===0x2*0x132e+0x21a6+0x1*-0x4801?_0x1292f1:_0x1292f1['_parent']['findByPath'](_0x86f164);}['_resolvePa'+'th'](_0x13e372,_0x14b3bf,_0x41e095){const _0x2b574d=_0x14b3bf['length']-(_0x41e095?0x8*0x4b7+0x1f51+-0x4509:-0x3*0x41e+0x3ce+0x88d);for(let _0x48f0ba=-0x181c+0x4b*-0x5e+-0x33a6*-0x1;_0x48f0ba<_0x2b574d;_0x48f0ba++)_0x13e372=_0x13e372[_0x14b3bf[_0x48f0ba]];return _0x13e372;}['_setter'](_0x21e42a,_0x284873,_0x35fd75){const _0x454205=this['_resolvePa'+'th'](_0x21e42a,_0x284873),_0x4b6988=_0x284873[_0x284873['length']-(0x1*-0x447+-0x1*0x505+0x94d)],_0x10a357='set'+_0x4b6988['substring'](-0x1e87+0x176a+-0x25f*-0x3,0x140e+-0x227f+0xe72)['toUpperCas'+'e']()+_0x4b6988['substring'](-0x1862*0x1+0x109a+0x7c9);if(_0x454205[_0x10a357]){let _0x11c804=_0x454205['get'+_0x4b6988['substring'](-0x19*-0x13a+0x3b+-0xb*0x2cf,0x704+0x252a+-0x1*0x2c2d)['toUpperCas'+'e']()+_0x4b6988['substring'](0x1d68+-0x1634+-0x61*0x13)]['bind'](_0x454205)();_0x11c804=[_0x11c804['x'],_0x11c804['y'],_0x11c804['z'],_0x11c804['w']];const _0x872178=_0x454205[_0x10a357]['bind'](_0x454205);return{'set':_0x1381b0=>{_0x872178(_0x35fd75(_0x1381b0));},'get':()=>_0x11c804};}const _0x556c68=_0x454205[_0x4b6988];if(typeof _0x556c68=='object'&&_0x556c68['hasOwnProp'+'erty']('copy'))return function(_0x570ed6){_0x556c68['copy'](_0x35fd75(_0x570ed6));};if([W,T,Q,Y,se]['indexOf'](_0x454205['constructo'+'r'])!==-(-0x44*-0x34+-0x1952+0x1*0xb83)&&_0x284873['length']>0x43*-0x13+-0x9*-0x16d+-0x7db){const _0x175258=_0x284873['length']>0x1b78+-0x1c0a+0x94*0x1?this['_resolvePa'+'th'](_0x21e42a,_0x284873['slice'](0x15c8+-0x6b*0xa+0x119a*-0x1,-(-0xa*0x2a7+0x2595+-0xb0e))):_0x21e42a,_0x4cc1f3=_0x284873[_0x284873['length']-(0x1bd8+0x9*-0x9d+-0x1*0x1651)];return function(_0x7eca5d){_0x454205[_0x4b6988]=_0x35fd75(_0x7eca5d),_0x175258[_0x4cc1f3]=_0x454205;};}return function(_0x1954be){_0x454205[_0x4b6988]=_0x35fd75(_0x1954be);};}['_createAni'+'mTargetFor'+'Property'](_0x348222,_0x4fd13e,_0x1c7b76){if(this['handlers']&&_0x4fd13e[0x77f+0x1*0x18a9+-0x2028]['startsWith']('weight.'))return this['handlers']['weight'](_0x348222,_0x4fd13e[0x16bf*-0x1+-0x14b1+-0x8*-0x56e]['replace']('weight.',''));if(this['handlers']&&_0x4fd13e[0x1111+0x922+-0x1a33]==='material'&&_0x4fd13e['length']===-0x50f+0x1*0x1007+0x2*-0x57b){const _0x4fcec3=_0x4fd13e[0x1*0x47+-0xeb3+0xe6d];if(_0x4fcec3['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x348222,_0x4fcec3);}const _0x716668=this['_resolvePa'+'th'](_0x348222,_0x4fd13e,!(0x1248+-0x165*0x14+0x99c));if(typeof _0x716668>'u')return null;let _0xba9581,_0x1a6178,_0x448f53;if(typeof _0x716668=='number')_0xba9581=this['_setter'](_0x348222,_0x4fd13e,mi['_packFloat']),_0x1a6178='vector',_0x448f53=-0x949+-0x496*-0x5+0x48c*-0x3;else{if(typeof _0x716668=='boolean')_0xba9581=this['_setter'](_0x348222,_0x4fd13e,mi['_packBoole'+'an']),_0x1a6178='vector',_0x448f53=-0x1a1*0x6+0x3*0x93b+-0x11ea;else{if(typeof _0x716668=='object')switch(_0x716668['constructo'+'r']){case W:_0xba9581=this['_setter'](_0x348222,_0x4fd13e,mi['_packVec2']),_0x1a6178='vector',_0x448f53=-0x5*-0x2a1+0x7*-0x1aa+-0x3*0x7f;break;case T:_0xba9581=this['_setter'](_0x348222,_0x4fd13e,mi['_packVec3']),_0x1a6178='vector',_0x448f53=0x1*0x200f+-0x3d1*0x6+0x926*-0x1;break;case Q:_0xba9581=this['_setter'](_0x348222,_0x4fd13e,mi['_packVec4']),_0x1a6178='vector',_0x448f53=-0x546+0x14e*-0x13+0x1e14;break;case Y:_0xba9581=this['_setter'](_0x348222,_0x4fd13e,mi['_packColor']),_0x1a6178='vector',_0x448f53=-0x194b+-0x1*-0x1d55+-0xa*0x67;break;case se:_0xba9581=this['_setter'](_0x348222,_0x4fd13e,mi['_packQuat']),_0x1a6178='quaternion',_0x448f53=0x13e4*-0x1+0x1084+0x364;break;default:return null;}}}return _0x4fd13e['indexOf']('material')!==-(-0x1*0x1ef6+-0x104*-0xe+0x10bf)?new Zu(_0x520440=>{_0xba9581(_0x520440),_0x348222['material']['update']();},_0x1a6178,_0x448f53,_0x1c7b76):new Zu(_0xba9581,_0x1a6178,_0x448f53,_0x1c7b76);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x51a9dd={},_0x2edd21=function(_0x41cb33){_0x51a9dd[_0x41cb33['name']]=_0x41cb33;for(let _0x2860f3=0xc46*-0x1+-0x137f+0xa97*0x3;_0x2860f3<_0x41cb33['children']['length'];++_0x2860f3)_0x2edd21(_0x41cb33['children'][_0x2860f3]);};_0x2edd21(this['graph']),this['nodes']=_0x51a9dd;}}class WP{constructor(_0x56e25f,_0x50c467,_0x58e878,_0x1c3612=-0x193e+-0x23+0x1962,_0x2b68a8=X0){c(this,'_name'),c(this,'_controlle'+'r'),c(this,'_component'),c(this,'_weight'),c(this,'_blendType'),c(this,'_mask',null),c(this,'_blendTime',-0x932+0x293*0x2+0x40c),c(this,'_blendTime'+'Elapsed',0x1ba3+-0x137*-0x7+-0x2424),c(this,'_startingW'+'eight',0xce4+-0x711+-0x5d3),c(this,'_targetWei'+'ght',-0x5*0x4e7+0x2*-0xfcc+0x381b),(this['_name']=_0x56e25f,this['_controlle'+'r']=_0x50c467,this['_component']=_0x58e878,this['_weight']=_0x1c3612,this['_blendType']=_0x2b68a8);}get['name'](){return this['_name'];}set['playing'](_0x5ddbca){this['_controlle'+'r']['playing']=_0x5ddbca;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x4e9e9b){const _0x4fc3fa=this['_controlle'+'r'],_0x2d5c71=_0x4fc3fa['playing'];_0x4fc3fa['playing']=!(0x9da+-0x1*-0x93a+-0x1314),_0x4fc3fa['activeStat'+'eCurrentTi'+'me']=_0x4e9e9b,_0x2d5c71||_0x4fc3fa['update'](-0xb*-0x23b+-0x212a+0x8a1),_0x4fc3fa['playing']=_0x2d5c71;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x144d06){this['_weight']=_0x144d06,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x5d6c70){_0x5d6c70!==this['_blendType']&&(this['_blendType']=_0x5d6c70,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x39ea04){this['_controlle'+'r']['assignMask'](_0x39ea04)&&this['_component']['rebind'](),this['_mask']=_0x39ea04;}get['mask'](){return this['_mask'];}['play'](_0xc3f520){this['_controlle'+'r']['play'](_0xc3f520);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x4fe0ec){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=N['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x4fe0ec):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=-0x19f6*-0x1+0x1*0x24d9+-0x3ecf,this['_blendTime'+'Elapsed']=0x120c+-0x1*-0x119b+-0x23a7,this['_startingW'+'eight']=-0x23f1+-0x426+-0x1*-0x2817,this['_targetWei'+'ght']=-0xf3f*-0x1+0x7*0x376+0x7e5*-0x5)),this['_controlle'+'r']['update'](_0x4fe0ec);}['blendToWei'+'ght'](_0x8b94c4,_0x43461){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x8b94c4,this['_blendTime']=Math['max'](-0x1fec+0x739*0x3+0xa41,_0x43461),this['_blendTime'+'Elapsed']=-0x131*0x6+-0xbfc+0x1322;}['assignAnim'+'ation'](_0x2fea26,_0x27a4c8,_0x442838,_0x64d094){if(!(_0x27a4c8 instanceof Ri)){v['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x2fea26,_0x27a4c8,_0x442838,_0x64d094),this['_controlle'+'r']['_transitio'+'ns']['length']===0x12eb+-0xbc8+0xcb*-0x9&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Yh({'from':'START','to':_0x2fea26})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(-0x93b+0xad0+-0x195));}['removeNode'+'Animations'](_0x446af0){this['_controlle'+'r']['removeNode'+'Animations'](_0x446af0)&&(this['_component']['playing']=!(-0x35a+-0x2690+0x29eb));}['getAnimati'+'onAsset'](_0x3b81e9){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x3b81e9];}['transition'](_0x597770,_0x1a51c6=0x2*0xd8c+-0x22fd+-0x2f*-0x2b,_0x413234=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Yh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x597770,'time':_0x1a51c6,'transitionOffset':_0x413234}));}}class mh{constructor(_0x107e4b){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x107e4b['layers']))this['_layers']=_0x107e4b['layers'];else for(const _0x4a1403 in _0x107e4b['layers']){const _0xcd7069=_0x107e4b['layers'][_0x4a1403],_0x46cd01={'name':_0xcd7069['name'],'blendType':_0xcd7069['blendType'],'weight':_0xcd7069['weight'],'states':[],'transitions':[]};for(let _0x946565=0x5db*0x1+0x22e8+-0x28c3;_0x946565<_0xcd7069['states']['length'];_0x946565++)_0x46cd01['states']['push'](_0x107e4b['states'][_0xcd7069['states'][_0x946565]]);for(let _0x5e86f5=-0xe5*-0x1+0x1e04+-0x1ee9;_0x5e86f5<_0xcd7069['transition'+'s']['length'];_0x5e86f5++){const _0x192bdd=_0x107e4b['transition'+'s'][_0xcd7069['transition'+'s'][_0x5e86f5]];if(_0x192bdd['conditions']&&!Array['isArray'](_0x192bdd['conditions'])){const _0x319f6d=Object['keys'](_0x192bdd['conditions']),_0xfd99b5=[];for(let _0x354bab=-0x21da+0x4*0x68e+0x7a2;_0x354bab<_0x319f6d['length'];_0x354bab++){const _0x568d22=_0x192bdd['conditions'][_0x319f6d[_0x354bab]];_0x568d22['parameterN'+'ame']&&_0xfd99b5['push'](_0x568d22);}_0x192bdd['conditions']=_0xfd99b5;}Number['isInteger'](_0x192bdd['from'])&&(_0x192bdd['from']=_0x107e4b['states'][_0x192bdd['from']]['name']),Number['isInteger'](_0x192bdd['to'])&&(_0x192bdd['to']=_0x107e4b['states'][_0x192bdd['to']]['name']),_0x46cd01['transition'+'s']['push'](_0x192bdd);}this['_layers']['push'](_0x46cd01);}for(const _0x1e1eda in _0x107e4b['parameters']){const _0x4479a0=_0x107e4b['parameters'][_0x1e1eda];this['_parameter'+'s'][_0x4479a0['name']]={'type':_0x4479a0['type'],'value':_0x4479a0['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class Z0 extends ue{constructor(){super(...arguments),c(this,'_stateGrap'+'hAsset',null),c(this,'_animation'+'Assets',{}),c(this,'_speed',0x1*0xce5+0x5*0x6df+0x29*-0x127),c(this,'_activate',!(-0x26ef+0x2675+0x7a)),c(this,'_playing',!(0x1ddf+0x6d9*0x3+-0x3269)),c(this,'_rootBone',null),c(this,'_stateGrap'+'h',null),c(this,'_layers',[]),c(this,'_layerIndi'+'ces',{}),c(this,'_parameter'+'s',{}),c(this,'_targets',{}),c(this,'_consumedT'+'riggers',new Set()),c(this,'_normalize'+'Weights',!(-0x7f4+-0x1*-0x681+-0x2*-0xba)),c(this,'findParame'+'ter',_0x596c6d=>this['_parameter'+'s'][_0x596c6d]),c(this,'consumeTri'+'gger',_0x2d25bb=>{this['_consumedT'+'riggers']['add'](_0x2d25bb);});}set['stateGraph'+'Asset'](_0x47d179){if(_0x47d179===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x20c5ed,_0x862cf5;_0x47d179 instanceof le?(_0x20c5ed=_0x47d179['id'],_0x862cf5=this['system']['app']['assets']['get'](_0x20c5ed),_0x862cf5||(this['system']['app']['assets']['add'](_0x47d179),_0x862cf5=this['system']['app']['assets']['get'](_0x20c5ed))):(_0x20c5ed=_0x47d179,_0x862cf5=this['system']['app']['assets']['get'](_0x20c5ed)),!(!_0x862cf5||this['_stateGrap'+'hAsset']===_0x20c5ed)&&(_0x862cf5['resource']?(this['_stateGrap'+'h']=_0x862cf5['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x862cf5['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x862cf5['once']('load',_0x54f50b=>{this['_stateGrap'+'h']=_0x54f50b['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x862cf5['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x862cf5)),this['_stateGrap'+'hAsset']=_0x20c5ed);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x21aff5){this['_normalize'+'Weights']=_0x21aff5,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x2f896d){this['_animation'+'Assets']=_0x2f896d,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x223a3c){this['_speed']=_0x223a3c;}get['speed'](){return this['_speed'];}set['activate'](_0x16c405){this['_activate']=_0x16c405;}get['activate'](){return this['_activate'];}set['playing'](_0x2097a9){this['_playing']=_0x2097a9;}get['playing'](){return this['_playing'];}set['rootBone'](_0x4dabb4){if(typeof _0x4dabb4=='string'){const _0x269ed4=this['entity']['root']['findByGuid'](_0x4dabb4);v['assert'](_0x269ed4,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x4dabb4+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x269ed4;}else _0x4dabb4 instanceof We?this['_rootBone']=_0x4dabb4:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x5eca4e){this['_stateGrap'+'h']=_0x5eca4e;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x5432e6){this['_layerIndi'+'ces']=_0x5432e6;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x42477){this['_parameter'+'s']=_0x42477;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x166d99){this['_targets']=_0x166d99;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x2f9c78=-0x1*-0x25bd+-0xede+-0x1*0x16df;_0x2f9c78<this['_layers']['length'];_0x2f9c78++)if(!this['_layers'][_0x2f9c78]['playable'])return!(0x213c+-0xca*-0x25+-0x3e6d);return!(0xa3e+0x12d8+0x92*-0x33);}get['baseLayer'](){return this['_layers']['length']>0x13f9*0x1+0x1ae4+-0x2edd?this['_layers'][0x24d*-0xd+0x1a56+0x393]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x723f63){const _0x4e0bd0=this['animationA'+'ssets'],_0x27cff2=this['layers']['map'](_0x4495e5=>_0x4495e5['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new mh(_0x723f63['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x4e0bd0,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x5f0a7f,_0x5d634e)=>{_0x5f0a7f['mask']=_0x27cff2[_0x5d634e];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x4b1ead=Object['values'](this['_targets']);for(let _0x3ff009=0x665*-0x1+0x965+-0x100*0x3;_0x3ff009<_0x4b1ead['length'];_0x3ff009++)_0x4b1ead[_0x3ff009]['dirty']=!(0x83f*-0x1+0xa38+-0x1f9);}['_addLayer']({name:_0x12e0b7,states:_0xcabfa9,transitions:_0x5b3179,weight:_0x230b00,mask:_0x320989,blendType:_0x5ec5aa}){let _0x370099;this['rootBone']?_0x370099=this['rootBone']:_0x370099=this['entity'];const _0x13ec49=this['_layers']['length'],_0x3b95ea=new mi(this,_0x370099,_0x12e0b7,_0x320989,_0x13ec49),_0x13db4a=new j0(_0x3b95ea),_0x22176b=new HP(_0x13db4a,_0xcabfa9,_0x5b3179,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new WP(_0x12e0b7,_0x22176b,this,_0x230b00,_0x5ec5aa)),this['_layerIndi'+'ces'][_0x12e0b7]=_0x13ec49,this['_layers'][_0x13ec49];}['addLayer'](_0x16b3e4,_0x5d25df,_0x2a9eb8,_0x445485){const _0x2dfb5d=this['findAnimat'+'ionLayer'](_0x16b3e4);if(_0x2dfb5d)return _0x2dfb5d;const _0x42d532=[{'name':'START','speed':0x1}],_0x5c6d46=[];return this['_addLayer']({'name':_0x16b3e4,'states':_0x42d532,'transitions':_0x5c6d46,'weight':_0x5d25df,'mask':_0x2a9eb8,'blendType':_0x445485});}['_assignPar'+'ameters'](_0x1b87c6){this['_parameter'+'s']={};const _0xffb3b4=Object['keys'](_0x1b87c6['parameters']);for(let _0x2ce238=-0x1537+-0xe9*-0xd+-0x1*-0x962;_0x2ce238<_0xffb3b4['length'];_0x2ce238++){const _0x54a018=_0xffb3b4[_0x2ce238];this['_parameter'+'s'][_0x54a018]={'type':_0x1b87c6['parameters'][_0x54a018]['type'],'value':_0x1b87c6['parameters'][_0x54a018]['value']};}}['loadStateG'+'raph'](_0x4614ac){this['_stateGrap'+'h']=_0x4614ac,this['_assignPar'+'ameters'](_0x4614ac),this['_layers']=[];let _0x29b03b=!(-0x2237*-0x1+0x1fa*0xc+-0x39ee);for(let _0x15b477=-0x2*0x12e9+0xcc8+0x190a;_0x15b477<_0x4614ac['layers']['length'];_0x15b477++){const _0x1be00e=_0x4614ac['layers'][_0x15b477];this['_addLayer']({..._0x1be00e}),_0x1be00e['states']['some'](_0x406df1=>_0x406df1['blendTree'])&&(_0x29b03b=!(0x17a4+-0x4e*-0x6f+-0x2*0x1cbb));}_0x29b03b||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x461f92=-0x11aa+-0xd87*-0x1+0x3*0x161;_0x461f92<this['_layers']['length'];_0x461f92++){const _0x4aef07=this['_layers'][_0x461f92],_0xe85579=_0x4aef07['name'];for(let _0x2a1661=0x20fa+-0x254*0x1+-0x1ea6;_0x2a1661<_0x4aef07['states']['length'];_0x2a1661++){const _0x27afef=_0x4aef07['states'][_0x2a1661];if(jh['indexOf'](_0x27afef)===-(0x1a*0x120+-0x1dd0+0x91)){const _0x2bbda2=_0xe85579+':'+_0x27afef;this['_animation'+'Assets'][_0x2bbda2]||(this['_animation'+'Assets'][_0x2bbda2]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x1a49c4=-0x876+-0x1c31+-0x355*-0xb;_0x1a49c4<this['_layers']['length'];_0x1a49c4++){const _0x310cbe=this['_layers'][_0x1a49c4];for(let _0x486360=-0x8*-0xdf+0x2*0xfb+-0x8ee;_0x486360<_0x310cbe['states']['length'];_0x486360++){const _0x5367b1=_0x310cbe['states'][_0x486360];if(jh['indexOf'](_0x5367b1)!==-(0x13fc+0x721+0x4*-0x6c7))continue;const _0x4f17e4=this['_animation'+'Assets'][_0x310cbe['name']+':'+_0x5367b1];if(!_0x4f17e4||!_0x4f17e4['asset']){this['findAnimat'+'ionLayer'](_0x310cbe['name'])['assignAnim'+'ation'](_0x5367b1,Ri['EMPTY']);continue;}const _0x29a969=_0x4f17e4['asset'],_0x3af841=this['system']['app']['assets']['get'](_0x29a969);_0x3af841&&(_0x3af841['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x310cbe['name'],_0x5367b1,_0x3af841):(_0x3af841['once']('load',function(_0x21e5f0,_0x205d34){return function(_0x11c726){this['onAnimatio'+'nAssetLoad'+'ed'](_0x21e5f0,_0x205d34,_0x11c726);}['bind'](this);}['bind'](this)(_0x310cbe['name'],_0x5367b1)),this['system']['app']['assets']['load'](_0x3af841)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x2a0639,_0x51e858,_0x31d232){this['findAnimat'+'ionLayer'](_0x2a0639)['assignAnim'+'ation'](_0x51e858,_0x31d232['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(-0x1e*0x89+0x1190+-0x181),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x26d15e=0x2*0x11e+-0x2*-0x26e+-0x718;_0x26d15e<this['_layers']['length'];_0x26d15e++){const _0x31bda4=this['_layers'][_0x26d15e]['playing'];this['_layers'][_0x26d15e]['reset'](),this['_layers'][_0x26d15e]['playing']=_0x31bda4;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x4872d1=>{this['_targets'][_0x4872d1]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x4b8b8e=-0x6d*-0x31+0x83*-0x17+-0x918;_0x4b8b8e<this['_layers']['length'];_0x4b8b8e++)this['_layers'][_0x4b8b8e]['rebind']();}['findAnimat'+'ionLayer'](_0x31ab69){const _0xd971ac=this['_layerIndi'+'ces'][_0x31ab69];return this['_layers'][_0xd971ac]||null;}['addAnimati'+'onState'](_0x12b3ae,_0x50faa3,_0x1ab0dd=-0x1*-0x27e+-0x201e*-0x1+-0x229b,_0x17f072=!(-0x1*-0xd3+-0x1b65*0x1+0x2*0xd49),_0x505e7e='Base'){var _0x20039a;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new mh({'layers':[{'name':_0x505e7e,'states':[{'name':'START','speed':0x1},{'name':_0x12b3ae,'speed':_0x1ab0dd,'loop':_0x17f072,'defaultState':!(0x15*-0x64+0x12c6+0x1c3*-0x6)}],'transitions':[{'from':'START','to':_0x12b3ae}]}],'parameters':{}}));const _0x302f4a=this['findAnimat'+'ionLayer'](_0x505e7e);_0x302f4a?_0x302f4a['assignAnim'+'ation'](_0x12b3ae,_0x50faa3,_0x1ab0dd,_0x17f072):(_0x20039a=this['addLayer'](_0x505e7e))==null||_0x20039a['assignAnim'+'ation'](_0x12b3ae,_0x50faa3,_0x1ab0dd,_0x17f072);}['assignAnim'+'ation'](_0x826380,_0xc2c533,_0x5341a9,_0x45eba7=-0x11*0x7e+-0xc4+0x923,_0x27ca7c=!(0x743+-0x89b+0x158)){if(!this['_stateGrap'+'h']&&_0x826380['indexOf']('.')===-(0x25*-0xc1+0xe98+0x106*0xd)){this['loadStateG'+'raph'](new mh({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x826380,'speed':_0x45eba7,'loop':_0x27ca7c,'defaultState':!(-0x1e7c+-0x314+-0x432*-0x8)}],'transitions':[{'from':'START','to':_0x826380}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x826380,_0xc2c533);return;}const _0x39d0ce=_0x5341a9?this['findAnimat'+'ionLayer'](_0x5341a9):this['baseLayer'];if(!_0x39d0ce){v['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x39d0ce['assignAnim'+'ation'](_0x826380,_0xc2c533,_0x45eba7,_0x27ca7c);}['removeNode'+'Animations'](_0x5c81f,_0x2a1386){const _0x2958fa=_0x2a1386?this['findAnimat'+'ionLayer'](_0x2a1386):this['baseLayer'];if(!_0x2958fa){v['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x2958fa['removeNode'+'Animations'](_0x5c81f);}['getParamet'+'erValue'](_0x2c28d4,_0x43f8f4){const _0x52275e=this['_parameter'+'s'][_0x2c28d4];if(_0x52275e&&_0x52275e['type']===_0x43f8f4)return _0x52275e['value'];v['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x2c28d4+('\x22\x20of\x20type\x20'+'\x22')+_0x43f8f4+'\x22');}['setParamet'+'erValue'](_0x3e2d38,_0x1989ce,_0xcac042){const _0x7b6339=this['_parameter'+'s'][_0x3e2d38];if(_0x7b6339&&_0x7b6339['type']===_0x1989ce){_0x7b6339['value']=_0xcac042;return;}v['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x3e2d38+('\x22\x20of\x20type\x20'+'\x22')+_0x1989ce+'\x22');}['getFloat'](_0x4dcde9){return this['getParamet'+'erValue'](_0x4dcde9,Q_);}['setFloat'](_0x53b882,_0x376632){this['setParamet'+'erValue'](_0x53b882,Q_,_0x376632);}['getInteger'](_0x5a2831){return this['getParamet'+'erValue'](_0x5a2831,Z_);}['setInteger'](_0x9d3e7f,_0x333d9f){typeof _0x333d9f=='number'&&_0x333d9f%(-0x1*0x1d19+0x1*0x1357+0x9c3)===0x4*-0x9c2+-0x8da+-0x7fb*-0x6?this['setParamet'+'erValue'](_0x9d3e7f,Z_,_0x333d9f):v['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x9d3e7f,_0x333d9f);}['getBoolean'](_0x260e2c){return this['getParamet'+'erValue'](_0x260e2c,J_);}['setBoolean'](_0x32251a,_0x538f26){this['setParamet'+'erValue'](_0x32251a,J_,!!_0x538f26);}['getTrigger'](_0x591198){return this['getParamet'+'erValue'](_0x591198,ph);}['setTrigger'](_0x3c7914,_0x43ac69=!(0x89*0x1d+0x4a6+0x142a*-0x1)){this['setParamet'+'erValue'](_0x3c7914,ph,!(0x20d5*0x1+-0x1*0x1e2+-0x1ef3)),_0x43ac69&&this['_consumedT'+'riggers']['add'](_0x3c7914);}['resetTrigg'+'er'](_0x28d20a){this['setParamet'+'erValue'](_0x28d20a,ph,!(0x1f4d*0x1+-0x12*-0x44+-0x2414));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x55c370){for(let _0x28089f=-0x71f+0x137a+0x1*-0xc5b;_0x28089f<this['layers']['length'];_0x28089f++)this['layers'][_0x28089f]['update'](_0x55c370*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x198ab9=>{this['parameters'][_0x198ab9]['value']=!(-0xfa5+0x671*-0x3+0x4ff*0x7);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x3ccd12,_0x5777a6){_0x3ccd12['rootBone']&&_0x5777a6[_0x3ccd12['rootBone']['getGuid']()]?this['rootBone']=_0x5777a6[_0x3ccd12['rootBone']['getGuid']()]:this['rebind']();}}class $P{constructor(){this['enabled']=!(-0x1f3b+-0x1a68+0x41*0xe3);}}const tf=['enabled'];class qP extends Xe{constructor(_0x20e535){super(_0x20e535),this['id']='anim',this['ComponentT'+'ype']=Z0,this['DataType']=$P,this['schema']=tf,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x549583,_0xce45a1,_0x20f17c){super['initialize'+'ComponentD'+'ata'](_0x549583,_0xce45a1,tf);const _0x16fc29=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0xce45a1)['forEach'](_0x123737=>{_0x16fc29['includes'](_0x123737)||(_0x549583[_0x123737]=_0xce45a1[_0x123737]);}),_0xce45a1['stateGraph']&&(_0x549583['stateGraph']=_0xce45a1['stateGraph'],_0x549583['loadStateG'+'raph'](_0x549583['stateGraph'])),_0xce45a1['layers']&&_0xce45a1['layers']['forEach']((_0x2ae8b7,_0x41dd08)=>{_0x2ae8b7['_controlle'+'r']['states']['forEach'](_0x60b8f9=>{_0x2ae8b7['_controlle'+'r']['_states'][_0x60b8f9]['_animation'+'List']['forEach'](_0xf9da2c=>{if(!_0xf9da2c['animTrack']||_0xf9da2c['animTrack']===Ri['EMPTY']){const _0x1a0d0a=this['app']['assets']['get'](_0x2ae8b7['_component']['_animation'+'Assets'][_0x2ae8b7['name']+':'+_0xf9da2c['name']]['asset']);_0x1a0d0a&&!_0x1a0d0a['loaded']&&_0x1a0d0a['once']('load',()=>{_0x549583['layers'][_0x41dd08]['assignAnim'+'ation'](_0xf9da2c['name'],_0x1a0d0a['resource']);});}else _0x549583['layers'][_0x41dd08]['assignAnim'+'ation'](_0xf9da2c['name'],_0xf9da2c['animTrack']);});});}),_0xce45a1['animationA'+'ssets']&&(_0x549583['animationA'+'ssets']=Object['assign'](_0x549583['animationA'+'ssets'],_0xce45a1['animationA'+'ssets'])),_0xce45a1['masks']&&Object['keys'](_0xce45a1['masks'])['forEach'](_0x3b7f48=>{if(_0x549583['layers'][_0x3b7f48]){const _0x3f2a30=_0xce45a1['masks'][_0x3b7f48]['mask'],_0x3c0962={};Object['keys'](_0x3f2a30)['forEach'](_0x149c72=>{_0x3c0962[decodeURI(_0x149c72)]=_0x3f2a30[_0x149c72];}),_0x549583['layers'][_0x3b7f48]['mask']=_0x3c0962;}});}['onAnimatio'+'nUpdate'](_0x11d71c){const _0x3331c7=this['store'];for(const _0x4e6f2e in _0x3331c7)if(_0x3331c7['hasOwnProp'+'erty'](_0x4e6f2e)){const _0x539425=_0x3331c7[_0x4e6f2e]['entity']['anim'];_0x539425['data']['enabled']&&_0x539425['entity']['enabled']&&_0x539425['playing']&&_0x539425['update'](_0x11d71c);}}['cloneCompo'+'nent'](_0xcf505d,_0x44159a){let _0x565a49;(!_0xcf505d['anim']['rootBone']||_0xcf505d['anim']['rootBone']===_0xcf505d)&&(_0x565a49={},_0xcf505d['anim']['layers']['forEach']((_0x12814d,_0x5bcc39)=>{if(_0x12814d['mask']){const _0x37ce46={};Object['keys'](_0x12814d['mask'])['forEach'](_0x5dea63=>{const _0x41558c=_0x5dea63['split']('/');_0x41558c['shift']();const _0x10c0b6=[_0x44159a['name'],..._0x41558c]['join']('/');_0x37ce46[_0x10c0b6]=_0x12814d['mask'][_0x5dea63];}),_0x565a49[_0x5bcc39]={'mask':_0x37ce46};}}));const _0x16b9ef={'enabled':_0xcf505d['anim']['enabled'],'stateGraphAsset':_0xcf505d['anim']['stateGraph'+'Asset'],'animationAssets':_0xcf505d['anim']['animationA'+'ssets'],'speed':_0xcf505d['anim']['speed'],'activate':_0xcf505d['anim']['activate'],'playing':_0xcf505d['anim']['playing'],'rootBone':_0xcf505d['anim']['rootBone'],'stateGraph':_0xcf505d['anim']['stateGraph'],'layers':_0xcf505d['anim']['layers'],'layerIndices':_0xcf505d['anim']['layerIndic'+'es'],'parameters':_0xcf505d['anim']['parameters'],'normalizeWeights':_0xcf505d['anim']['normalizeW'+'eights'],'masks':_0x565a49};return this['addCompone'+'nt'](_0x44159a,_0x16b9ef);}['onBeforeRe'+'move'](_0x521ccf,_0x4d981e){_0x4d981e['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}ue['_buildAcce'+'ssors'](Z0['prototype'],tf);class Q0 extends ue{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x1de2f6=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x1de2f6);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class XP{constructor(){this['enabled']=!(-0x2283+0x1*0x1e5e+0x425);}}const J0=['enabled'];class jP extends Xe{constructor(_0x12fc4a){super(_0x12fc4a),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Q0,this['DataType']=XP,this['schema']=J0,this['manager']=_0x12fc4a['soundManag'+'er'],v['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x448587,_0x47a487,_0xf0e481){_0xf0e481=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x448587,_0x47a487,_0xf0e481);}['onUpdate'](_0x339d5d){if(this['current']){const _0x4fbe65=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x4fbe65);const _0x94052e=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x94052e);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Q0['prototype'],J0);const sf=0x2180+-0x224d*0x1+0x29*0x5,tg=-0x25df+0x1165*-0x2+0x47*0x106,_h='group',rf='image',ex='text',gh='stretch',YP='contain',KP='cover',Ye={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},hl={};hl[Ye['DEFAULT']]='_defaultTi'+'nt',hl[Ye['HOVER']]='hoverTint',hl[Ye['PRESSED']]='pressedTin'+'t',hl[Ye['INACTIVE']]='inactiveTi'+'nt';const cl={};cl[Ye['DEFAULT']]='_defaultSp'+'riteAsset',cl[Ye['HOVER']]='hoverSprit'+'eAsset',cl[Ye['PRESSED']]='pressedSpr'+'iteAsset',cl[Ye['INACTIVE']]='inactiveSp'+'riteAsset';const dl={};dl[Ye['DEFAULT']]='_defaultSp'+'riteFrame',dl[Ye['HOVER']]='hoverSprit'+'eFrame',dl[Ye['PRESSED']]='pressedSpr'+'iteFrame',dl[Ye['INACTIVE']]='inactiveSp'+'riteFrame';class ct extends ue{constructor(_0x17bf22,_0x30b394){super(_0x17bf22,_0x30b394),c(this,'_visualSta'+'te',Ye['DEFAULT']),c(this,'_isHoverin'+'g',!(0x47e+-0x1e81+0x1a04)),c(this,'_hoveringC'+'ounter',0x1fc1+-0x2f*0x33+0xb32*-0x2),c(this,'_isPressed',!(0xc91*0x2+0x258c+-0x3ead)),c(this,'_defaultTi'+'nt',new Y(-0x3*-0x5ca+0x1*0xfb7+-0x2114,0x3b*-0x5f+0x586*-0x4+-0x2*-0x15ff,0x71*0x3e+-0x2698+0x5*0x23f,-0x2530+0xeb8+0x1679)),c(this,'_defaultSp'+'riteAsset',null),c(this,'_defaultSp'+'riteFrame',-0x4*0x8b7+-0x1bb1+0x43*0xef),c(this,'_imageEnti'+'ty',null),c(this,'_evtElemen'+'tAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),c(this,'_evtImageE'+'ntityEleme'+'ntColor',null),c(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=Ye['DEFAULT'],this['_isHoverin'+'g']=!(-0x1059*0x1+-0xce3*0x2+0x10*0x2a2),this['_hoveringC'+'ounter']=0x1*-0x1b3d+0x13a3*-0x1+0x2ee0,this['_isPressed']=!(0x1763+-0x3*0x92b+-0x5*-0xd3),this['_defaultTi'+'nt']=new Y(-0x2164+-0x1972+0x3ad7*0x1,0x12*-0x100+-0x6de+0x1*0x18df,-0x1*0x15e2+0x67*-0x4+0x177f,-0x1e43+-0x22*0x1d+0x221e),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=-0x992+-0x4*-0x54b+-0xb9a,this['_toggleLif'+'ecycleList'+'eners']('on',_0x17bf22));}get['data'](){const _0x1f3ead=this['system']['store'][this['entity']['getGuid']()];return _0x1f3ead?_0x1f3ead['data']:null;}set['enabled'](_0x436330){this['_setValue']('enabled',_0x436330);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x245637){this['_setValue']('active',_0x245637);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x42f46a){if(this['_imageEnti'+'ty']!==_0x42f46a){const _0x24cf57=typeof _0x42f46a=='string';if(this['_imageEnti'+'ty']&&_0x24cf57&&this['_imageEnti'+'ty']['getGuid']()===_0x42f46a)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x42f46a instanceof De?this['_imageEnti'+'ty']=_0x42f46a:_0x24cf57?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x42f46a)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x24cf57&&_0x42f46a&&(this['data']['imageEntit'+'y']=_0x42f46a);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x4c7e65){this['_setValue']('hitPadding',_0x4c7e65);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x793a31){this['_setValue']('transition'+'Mode',_0x793a31);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x4fdbad){this['_setValue']('hoverTint',_0x4fdbad);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x29fef9){this['_setValue']('pressedTin'+'t',_0x29fef9);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x23ea70){this['_setValue']('inactiveTi'+'nt',_0x23ea70);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x3e7d32){this['_setValue']('fadeDurati'+'on',_0x3e7d32);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x1e8350){this['_setValue']('hoverSprit'+'eAsset',_0x1e8350);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x221ab5){this['_setValue']('hoverSprit'+'eFrame',_0x221ab5);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x23b0dd){this['_setValue']('pressedSpr'+'iteAsset',_0x23b0dd);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x2d2440){this['_setValue']('pressedSpr'+'iteFrame',_0x2d2440);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x27f86f){this['_setValue']('inactiveSp'+'riteAsset',_0x27f86f);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x216833){this['_setValue']('inactiveSp'+'riteFrame',_0x216833);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x2d8b4e,_0x132529){const _0x26a6bd=this['data'],_0xa6e9d5=_0x26a6bd[_0x2d8b4e];_0x26a6bd[_0x2d8b4e]=_0x132529,this['fire']('set',_0x2d8b4e,_0xa6e9d5,_0x132529);}['_toggleLif'+'ecycleList'+'eners'](_0x34328d,_0x387369){var _0x40168c;this[_0x34328d]('set_active',this['_onSetActi'+'ve'],this),this[_0x34328d]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x34328d]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x34328d]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x34328d]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x34328d]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x34328d]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x34328d]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x34328d]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x34328d]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x34328d]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x34328d==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x40168c=this['_evtElemen'+'tAdd'])==null||_0x40168c['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x591a1d,_0x2a7fee,_0x3c497f){_0x2a7fee!==_0x3c497f&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x39cd5c,_0x57e151,_0x1469df){_0x57e151!==_0x1469df&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x57e151),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x387e45,_0x4a2ac5,_0x349484){_0x4a2ac5!==_0x349484&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x222557,_0x4e091b;(_0x222557=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x222557['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x4e091b=this['_imageEnti'+'ty'])!=null&&_0x4e091b['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x4458f=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x4458f['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x4458f['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x4458f['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x4458f['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x4458f['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x2674e5,_0x18093c,_0x5d8a35,_0x577fa9,_0x35b33d;(_0x2674e5=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x2674e5['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x18093c=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x18093c['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x5d8a35=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x5d8a35['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x577fa9=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x577fa9['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x35b33d=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x35b33d['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x5865cc){if(this['entity']['element']){const _0x251ada=_0x5865cc==='on';if(_0x251ada&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x5865cc]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x5865cc]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x5865cc]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x5865cc]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x5865cc]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x5865cc]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x5865cc]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x5865cc]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x5865cc]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x5865cc]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x5865cc]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x5865cc]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x5865cc]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x5865cc]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x251ada;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x2f8908;const _0x57e02f=(_0x2f8908=this['_imageEnti'+'ty'])==null?void(0xdec+0xaef+-0x18db*0x1):_0x2f8908['element'];!_0x57e02f||_0x57e02f['type']===_h||(this['_storeDefa'+'ultColor'](_0x57e02f['color']),this['_storeDefa'+'ultOpacity'](_0x57e02f['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x57e02f['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x57e02f['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x52d4dd){this['_defaultTi'+'nt']['r']=_0x52d4dd['r'],this['_defaultTi'+'nt']['g']=_0x52d4dd['g'],this['_defaultTi'+'nt']['b']=_0x52d4dd['b'];}['_storeDefa'+'ultOpacity'](_0x576dee){this['_defaultTi'+'nt']['a']=_0x576dee;}['_storeDefa'+'ultSpriteA'+'sset'](_0x14b99b){this['_defaultSp'+'riteAsset']=_0x14b99b;}['_storeDefa'+'ultSpriteF'+'rame'](_0x216bc2){this['_defaultSp'+'riteFrame']=_0x216bc2;}['_onSetColo'+'r'](_0x412f4e){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x412f4e),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x22324d){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x22324d),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x4bccd6){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x4bccd6),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x4f99da){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x4f99da),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x466d4f){this['_isHoverin'+'g']=!(0xd97+-0x3*-0x411+-0x19ca),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x466d4f);}['_onMouseLe'+'ave'](_0x27baa3){this['_isHoverin'+'g']=!(-0x263*0xd+-0x7*0x2f5+0x143*0x29),this['_isPressed']=!(0x4*0x8e9+-0xb02+-0x18a1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x27baa3);}['_onMouseDo'+'wn'](_0x3ac5a6){this['_isPressed']=!(0x1*0xb95+0x170+0x457*-0x3),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x3ac5a6);}['_onMouseUp'](_0x2ebaf1){this['_isPressed']=!(-0x11ff+-0x968+-0x1b68*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x2ebaf1);}['_onTouchSt'+'art'](_0x3a50d0){this['_isPressed']=!(-0xf58+0x157b+-0x623),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x3a50d0);}['_onTouchEn'+'d'](_0x22b10e){_0x22b10e['event']['preventDef'+'ault'](),this['_isPressed']=!(-0x796*0x1+0x13*0x14e+-0x1133),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x22b10e);}['_onTouchLe'+'ave'](_0x5b363f){this['_isPressed']=!(0x1*-0x287+-0xe09*0x1+0x1091),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x5b363f);}['_onTouchCa'+'ncel'](_0x522e85){this['_isPressed']=!(-0x6cd*-0x1+0x284+-0x950),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x522e85);}['_onSelectS'+'tart'](_0x455a57){this['_isPressed']=!(-0x32d*0x3+0x9ef+-0x68*0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x455a57);}['_onSelectE'+'nd'](_0x530b89){this['_isPressed']=!(0x71*-0x19+-0x14ef*0x1+0x1ff9),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x530b89);}['_onSelectE'+'nter'](_0x2617c9){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===-0x1*-0x15a+-0x17f9*0x1+0x16a0&&(this['_isHoverin'+'g']=!(0x739+0x1*-0x114a+0xa11),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x2617c9);}['_onSelectL'+'eave'](_0x5c9c6c){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===-0x22b9+0x1b6e+0x74b&&(this['_isHoverin'+'g']=!(-0x2155+0xdf3*0x2+0x570),this['_isPressed']=!(-0x110c+-0x1661+-0x13b7*-0x2),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x5c9c6c);}['_onClick'](_0x41e4f1){this['_fireIfAct'+'ive']('click',_0x41e4f1);}['_fireIfAct'+'ive'](_0x11a412,_0x13bf83){this['data']['active']&&this['fire'](_0x11a412,_0x13bf83);}['_updateVis'+'ualState'](_0x32dbb3){const _0x36a0e2=this['_visualSta'+'te'],_0xf9bbd8=this['_determine'+'VisualStat'+'e']();if((_0x36a0e2!==_0xf9bbd8||_0x32dbb3)&&this['enabled'])switch(this['_visualSta'+'te']=_0xf9bbd8,_0x36a0e2===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x36a0e2===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0xf9bbd8===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0xf9bbd8===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case sf:{const _0x46669c=hl[this['_visualSta'+'te']],_0x4cf209=this[_0x46669c];this['_applyTint'](_0x4cf209);break;}case tg:{const _0xef7def=cl[this['_visualSta'+'te']],_0x11b9b3=dl[this['_visualSta'+'te']],_0x39dcae=this[_0xef7def],_0x2e7471=this[_0x11b9b3];this['_applySpri'+'te'](_0x39dcae,_0x2e7471);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(-0x163e+-0x3*-0xc22+-0xe28));}['_resetToDe'+'faultVisua'+'lState'](_0x20f2cc){var _0x8c6d22;if((_0x8c6d22=this['_imageEnti'+'ty'])!=null&&_0x8c6d22['element'])switch(_0x20f2cc){case sf:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case tg:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return Ye['PRESSED'];if(this['_isHoverin'+'g'])return Ye['HOVER'];}else return Ye['INACTIVE'];return Ye['DEFAULT'];}['_applySpri'+'te'](_0x8b27f1,_0x36bedd){var _0x369908;const _0x389093=(_0x369908=this['_imageEnti'+'ty'])==null?void(-0x1c*0xd5+-0xd57+0x24a3):_0x369908['element'];_0x389093&&(_0x36bedd=_0x36bedd||-0x6e9*-0x1+-0x1d00+0x1617,this['_isApplyin'+'gSprite']=!(-0x8cb+0x1447+-0x2a*0x46),_0x389093['spriteAsse'+'t']!==_0x8b27f1&&(_0x389093['spriteAsse'+'t']=_0x8b27f1),_0x389093['spriteFram'+'e']!==_0x36bedd&&(_0x389093['spriteFram'+'e']=_0x36bedd),this['_isApplyin'+'gSprite']=!(0x17f0+-0x374*-0x4+-0x25bf));}['_applyTint'](_0x169265){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===-0x9*-0x2af+0x71f*0x5+0x1*-0x3bc2?this['_applyTint'+'Immediatel'+'y'](_0x169265):this['_applyTint'+'WithTween'](_0x169265);}['_applyTint'+'Immediatel'+'y'](_0x1e6c3f){var _0x1493e9;const _0x20d0ba=(_0x1493e9=this['_imageEnti'+'ty'])==null?void(-0xd5+-0x1c24+-0x1cf9*-0x1):_0x1493e9['element'];if(!_0x1e6c3f||!_0x20d0ba||_0x20d0ba['type']===_h)return;const _0x4db254=sg(_0x1e6c3f);this['_isApplyin'+'gTint']=!(-0x19*-0x20+-0x2db*0x1+-0x1*0x45),_0x4db254['equals'](_0x20d0ba['color'])||(_0x20d0ba['color']=_0x4db254),_0x20d0ba['opacity']!==_0x1e6c3f['a']&&(_0x20d0ba['opacity']=_0x1e6c3f['a']),this['_isApplyin'+'gTint']=!(0x41*0x5d+0xa41+-0x1*0x21dd);}['_applyTint'+'WithTween'](_0xce2d08){var _0xe41172;const _0xcc026=(_0xe41172=this['_imageEnti'+'ty'])==null?void(-0x449*0x1+-0xd36*0x1+0x117f):_0xe41172['element'];if(!_0xce2d08||!_0xcc026||_0xcc026['type']===_h)return;const _0x1a7a4f=sg(_0xce2d08),_0x22bb3a=_0xcc026['color'],_0x46cc6b=_0xcc026['opacity'];_0x1a7a4f['equals'](_0x22bb3a)&&_0xce2d08['a']===_0x46cc6b||(this['_tweenInfo']={'startTime':ne(),'from':new Y(_0x22bb3a['r'],_0x22bb3a['g'],_0x22bb3a['b'],_0x46cc6b),'to':_0xce2d08['clone'](),'lerpColor':new Y()});}['_updateTin'+'tTween'](){const _0x3eb5d7=ne()-this['_tweenInfo']['startTime'];let _0x509d1c=this['fadeDurati'+'on']===-0x108f+0x22fc*-0x1+0x338b*0x1?0xa36*-0x1+-0x41*-0x68+0x1031*-0x1:_0x3eb5d7/this['fadeDurati'+'on'];if(_0x509d1c=N['clamp'](_0x509d1c,0x25bd+0x1e1*-0x2+-0x21fb,0x1f31+0x118e+-0x30be),Math['abs'](_0x509d1c-(-0x823+-0x1cf9*0x1+0x251d))>0x823*-0x2+0x13*0x1f3+-0x14c3+0.00001){const _0x23ee2a=this['_tweenInfo']['lerpColor'];_0x23ee2a['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x509d1c),this['_applyTint'+'Immediatel'+'y'](new Y(_0x23ee2a['r'],_0x23ee2a['g'],_0x23ee2a['b'],_0x23ee2a['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(0xaf6*-0x1+-0x220d+-0x1*-0x2d04),this['_hoveringC'+'ounter']=0x3*-0x584+-0x125e*-0x2+0x98*-0x22,this['_isPressed']=!(0x1*0xe5d+-0x3*-0x6a7+-0x6dd*0x5),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x3b2687,_0x464ce6){_0x3b2687['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x464ce6[_0x3b2687['imageEntit'+'y']['getGuid']()]);}}c(ct,'EVENT_MOUS'+'EDOWN','mousedown'),c(ct,'EVENT_MOUS'+'EUP','mouseup'),c(ct,'EVENT_MOUS'+'EENTER','mouseenter'),c(ct,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(ct,'EVENT_CLIC'+'K','click'),c(ct,'EVENT_TOUC'+'HSTART','touchstart'),c(ct,'EVENT_TOUC'+'HEND','touchend'),c(ct,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),c(ct,'EVENT_TOUC'+'HLEAVE','touchleave'),c(ct,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ct,'EVENT_SELE'+'CTEND','selectend'),c(ct,'EVENT_SELE'+'CTENTER','selectente'+'r'),c(ct,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),c(ct,'EVENT_HOVE'+'RSTART','hoverstart'),c(ct,'EVENT_HOVE'+'REND','hoverend'),c(ct,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),c(ct,'EVENT_PRES'+'SEDEND','pressedend');function sg(_0x9561da){return new Y(_0x9561da['r'],_0x9561da['g'],_0x9561da['b']);}class ZP{constructor(){this['enabled']=!(0x4a3+-0x131a+0xe77),this['active']=!(0x1*-0x138a+-0x925+-0x1*-0x1caf),this['imageEntit'+'y']=null,this['hitPadding']=new Q(),this['transition'+'Mode']=sf,this['hoverTint']=new Y(-0x693+0x178c+-0xb*0x18b+0.75,-0xb*0x198+0x152f+-0x3a7+0.75,0x1acd+-0x2358+0x88b+0.75),this['pressedTin'+'t']=new Y(0x1*0xb11+0x406+-0xf17+0.5,0x10*-0x169+-0xb*-0x16a+0x1a*0x45+0.5,-0x1f4b+-0x1*-0x1c83+0x2c8+0.5),this['inactiveTi'+'nt']=new Y(0x56c+-0x277*-0x5+-0x11bf+0.25,-0x1bb1+0x23be+0x2af*-0x3+0.25,0xf40+0x1*0x1a7b+-0x1*0x29bb+0.25),this['fadeDurati'+'on']=0x2370+-0x5*0x4e9+-0xae3,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=0x168f+0x4*0x9ad+-0x1*0x3d43,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=-0x2491+0x2*-0x815+0x34bb,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=0x3cc+-0x5a2+0x1d6;}}const ig=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class QP extends Xe{constructor(_0x328404){super(_0x328404),this['id']='button',this['ComponentT'+'ype']=ct,this['DataType']=ZP,this['schema']=ig,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x11201c,_0x284cce,_0x4a3eb1){_0x11201c['imageEntit'+'y']=_0x284cce['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x11201c,_0x284cce,ig);}['onUpdate'](_0x10371b){const _0x831453=this['store'];for(const _0x48b9c5 in _0x831453){const _0xfaaf9a=_0x831453[_0x48b9c5]['entity'],_0x318ebf=_0xfaaf9a['button'];_0x318ebf['enabled']&&_0xfaaf9a['enabled']&&_0x318ebf['onUpdate']();}}['_onRemoveC'+'omponent'](_0x47a8b6,_0x336468){_0x336468['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const rg=new T(),ng=new se();class Yn extends ue{constructor(_0x2c02cc,_0x593961){super(_0x2c02cc,_0x593961),c(this,'_compoundP'+'arent',null),c(this,'_hasOffset',!(0x124f+-0x1*-0x419+-0x1667)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x209286=this['system']['store'][this['entity']['getGuid']()];return _0x209286?_0x209286['data']:null;}set['enabled'](_0x305975){this['_setValue']('enabled',_0x305975);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x5e3fa0){this['_setValue']('type',_0x5e3fa0);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x23afc1){this['_setValue']('halfExtent'+'s',_0x23afc1);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x43e89d){this['_setValue']('linearOffs'+'et',_0x43e89d);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x36932b){this['_setValue']('angularOff'+'set',_0x36932b);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x232534){this['_setValue']('radius',_0x232534);}get['radius'](){return this['data']['radius'];}set['axis'](_0x2aec30){this['_setValue']('axis',_0x2aec30);}get['axis'](){return this['data']['axis'];}set['height'](_0x509df3){this['_setValue']('height',_0x509df3);}get['height'](){return this['data']['height'];}set['asset'](_0x20e6f0){this['_setValue']('asset',_0x20e6f0);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x110946){this['_setValue']('renderAsse'+'t',_0x110946);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x1119ed){this['_setValue']('convexHull',_0x1119ed);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0xa6b7f7){this['_setValue']('shape',_0xa6b7f7);}get['shape'](){return this['data']['shape'];}set['model'](_0x1d9027){this['_setValue']('model',_0x1d9027);}get['model'](){return this['data']['model'];}set['render'](_0x5b5306){this['_setValue']('render',_0x5b5306);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x56d82c){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x56d82c);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x23da2b,_0x230df6){const _0x1cc322=this['data'],_0x27ecbb=_0x1cc322[_0x23da2b];_0x1cc322[_0x23da2b]=_0x230df6,this['fire']('set',_0x23da2b,_0x27ecbb,_0x230df6);}['onSetType'](_0x21fcbe,_0x18d621,_0x35d31f){_0x18d621!==_0x35d31f&&this['system']['changeType'](this,_0x18d621,_0x35d31f);}['onSetHalfE'+'xtents'](_0x3ae6b0,_0x24c180,_0x56c882){const _0x195043=this['data']['type'];this['data']['initialize'+'d']&&_0x195043==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x5d452d,_0x1806a3,_0x410eb2){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](T['ZERO'])||!this['data']['angularOff'+'set']['equals'](se['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0xff534a,_0x5acfa9,_0x137dca){const _0x103b94=this['data']['type'];this['data']['initialize'+'d']&&(_0x103b94==='sphere'||_0x103b94==='capsule'||_0x103b94==='cylinder'||_0x103b94==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x446974,_0x5ee07d,_0x435737){const _0x546094=this['data']['type'];this['data']['initialize'+'d']&&(_0x546094==='capsule'||_0x546094==='cylinder'||_0x546094==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x4ac5a1,_0x57b6d5,_0x43ccfd){const _0x42de83=this['data']['type'];this['data']['initialize'+'d']&&(_0x42de83==='capsule'||_0x42de83==='cylinder'||_0x42de83==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x2a0292,_0x5a9282,_0x2de7e3){const _0x24b793=this['system']['app']['assets'];if(_0x5a9282){const _0x3aa70e=_0x24b793['get'](_0x5a9282);_0x3aa70e&&_0x3aa70e['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x2de7e3){_0x2de7e3 instanceof le&&(this['data']['asset']=_0x2de7e3['id']);const _0xe5fdec=_0x24b793['get'](this['data']['asset']);_0xe5fdec&&(_0xe5fdec['off']('remove',this['onAssetRem'+'oved'],this),_0xe5fdec['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x2de7e3||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x33ae74,_0x517684,_0xdfb3db){const _0x225cdb=this['system']['app']['assets'];if(_0x517684){const _0x3a1d9c=_0x225cdb['get'](_0x517684);_0x3a1d9c&&_0x3a1d9c['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0xdfb3db){_0xdfb3db instanceof le&&(this['data']['renderAsse'+'t']=_0xdfb3db['id']);const _0x567900=_0x225cdb['get'](this['data']['renderAsse'+'t']);_0x567900&&(_0x567900['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x567900['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0xdfb3db||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x326bfd,_0x3659aa,_0x3f440e){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x5c80da,_0x153cef,_0x1ab6fe){this['onSetModel'](_0x5c80da,_0x153cef,_0x1ab6fe);}['onAssetRem'+'oved'](_0x5cb5fa){_0x5cb5fa['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x5cb5fa['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x189caf){_0x189caf['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x189caf['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x103097){const _0x16b7d3=this['data']['shape'],_0x145a6e=_0x16b7d3['getNumChil'+'dShapes']();for(let _0x499a6c=-0x19c0+0x948+0x1078;_0x499a6c<_0x145a6e;_0x499a6c++){const _0x292d8d=_0x16b7d3['getChildSh'+'ape'](_0x499a6c);if(Ammo['getPointer'](_0x292d8d)===Ammo['getPointer'](_0x103097))return _0x499a6c;}return null;}['_onInsert'](_0x569a27){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x46b1c3=this['entity']['parent'];for(;_0x46b1c3;){if(_0x46b1c3['collision']&&_0x46b1c3['collision']['type']==='compound'){_0x46b1c3['collision']['shape']['getNumChil'+'dShapes']()===-0x1*0x162d+0x1cb0+0x683*-0x1?this['system']['recreatePh'+'ysicalShap'+'es'](_0x46b1c3['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x46b1c3=_0x46b1c3['parent'];}}}}}['_updateCom'+'pound'](){const _0x2423d9=this['entity'];if(_0x2423d9['_dirtyWorl'+'d']){let _0x85b349=_0x2423d9['_dirtyLoca'+'l'],_0x5562d5=_0x2423d9;for(;_0x5562d5&&!_0x85b349&&!(_0x5562d5['collision']&&_0x5562d5['collision']===this['_compoundP'+'arent']);)_0x5562d5['_dirtyLoca'+'l']&&(_0x85b349=!(-0x104*0x1d+0x2*0x1106+0x126*-0x4)),_0x5562d5=_0x5562d5['parent'];if(_0x85b349){_0x2423d9['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x2423d9);const _0x3a7883=this['_compoundP'+'arent']['entity']['rigidbody'];_0x3a7883&&_0x3a7883['activate']();}}}['getShapePo'+'sition'](){const _0x54b681=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x190c4e=this['entity']['getRotatio'+'n'](),_0x125787=this['data']['linearOffs'+'et'];return ng['copy'](_0x190c4e)['transformV'+'ector'](_0x125787,rg),rg['add'](_0x54b681);}return _0x54b681;}['getShapeRo'+'tation'](){const _0x442bf9=this['entity']['getRotatio'+'n']();return this['_hasOffset']?ng['copy'](_0x442bf9)['mul'](this['data']['angularOff'+'set']):_0x442bf9;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x2d99a7=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x2d99a7&&(!_0x2d99a7['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x89e*0x1+-0x1*-0x552+-0x4*0x37c)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x353078=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x353078,this['data']['shape']),Ammo['destroy'](_0x353078),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}c(Yn,'EVENT_CONT'+'ACT','contact'),c(Yn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Yn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Yn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Yn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class JP{constructor(){this['enabled']=!(0x11d1+0x1b76+-0x2d47),this['type']='box',this['halfExtent'+'s']=new T(-0xbf9*-0x1+0x1*-0x1e00+0x1207+0.5,-0x1*0x1861+-0x1650+0x2eb1*0x1+0.5,-0xa1e+0x1aa6+-0x4*0x422+0.5),this['linearOffs'+'et']=new T(),this['angularOff'+'set']=new se(),this['radius']=0x71c+0x2f*0x8b+-0x20a1+0.5,this['axis']=0x1b2+0x4*-0x22+-0x9*0x21,this['height']=0x1d5+-0x170*-0x4+0x1*-0x793,this['convexHull']=!(-0x2*-0x491+-0x6e7*-0x1+0x13*-0xd8),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(0xd+-0xe6*-0x13+0x1*-0x111f),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(-0x8cc+0x10*-0x1+0x8dd);}}const so='static',ms='dynamic',Bn='kinematic',eR=0x1*-0xb5+0x1*-0x1d21+-0xbf*-0x28,lo=0x1*0xdc2+0xb62*-0x1+-0x25c,nf=0x5a5+0x105*0x25+-0x28d*0x11,ag=0x2*-0xd97+0x221f+-0x6ed,tx=0xbff+-0x6da+-0xa4*0x8,tR=0x24b4+0x77e+-0x2c31,og=0xc3c+0xed9+-0xef*0x1d,sR=0xd19*-0x2+-0x26f+0x1ca5,lg=-0x1256+-0x1*-0x513+0x471*0x3,hg=-0x11f31+0x17e23+0x51*0x1fd,af=-0x1dc71*-0x1+-0x1603f+-0x1*-0x83cb;let _s,Er,Nn;class sx{constructor(_0x520b4c,_0x51487f,_0x485307){this['entity']=_0x51487f['entity'],this['component']=_0x51487f,this['app']=_0x520b4c,typeof Ammo<'u'&&!_s&&(_s=new Ammo['btVector3'](),Er=new Ammo['btQuaterni'+'on'](),Nn=new Ammo['btTransfor'+'m']()),this['initialize'](_0x485307);}['initialize'](_0x28fc45){const _0x3ef30b=this['entity'],_0x526dbb=_0x28fc45['shape'];if(_0x526dbb&&typeof Ammo<'u'){_0x3ef30b['trigger']&&_0x3ef30b['trigger']['destroy']();const _0x214e36=0x57d*0x7+-0x21e9*0x1+0x481*-0x1,_0xefd745=this['component'];if(_0xefd745){const _0x2395cd=_0xefd745['getShapePo'+'sition'](),_0x24a68f=_0xefd745['getShapeRo'+'tation']();_s['setValue'](_0x2395cd['x'],_0x2395cd['y'],_0x2395cd['z']),Er['setValue'](_0x24a68f['x'],_0x24a68f['y'],_0x24a68f['z'],_0x24a68f['w']);}else{const _0x5d8452=_0x3ef30b['getPositio'+'n'](),_0x459d35=_0x3ef30b['getRotatio'+'n']();_s['setValue'](_0x5d8452['x'],_0x5d8452['y'],_0x5d8452['z']),Er['setValue'](_0x459d35['x'],_0x459d35['y'],_0x459d35['z'],_0x459d35['w']);}Nn['setOrigin'](_s),Nn['setRotatio'+'n'](Er);const _0x5186f4=this['app']['systems']['rigidbody']['createBody'](_0x214e36,_0x526dbb,Nn);_0x5186f4['setRestitu'+'tion'](-0x1cf3+0x2d8+-0x1a1b*-0x1),_0x5186f4['setFrictio'+'n'](-0x192f+0x493*-0x8+-0xc5b*-0x5),_0x5186f4['setDamping'](-0xe87*0x1+-0x23*0x81+0x202a,0x158b+-0x1513+-0x2*0x3c),_s['setValue'](-0x59d*0x2+0x173+0x9c7,-0x1a5b+0x1*-0x1d95+-0x50*-0xb3,-0x6c8+-0x1f95+0x265d),_0x5186f4['setLinearF'+'actor'](_s),_0x5186f4['setAngular'+'Factor'](_s),_0x5186f4['setCollisi'+'onFlags'](_0x5186f4['getCollisi'+'onFlags']()|lo),_0x5186f4['entity']=_0x3ef30b,this['body']=_0x5186f4,this['component']['enabled']&&_0x3ef30b['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0xa605ac){const _0x3c5bdf=this['component'];if(_0x3c5bdf){const _0xdf9977=_0x3c5bdf['getShapePo'+'sition'](),_0x45929a=_0x3c5bdf['getShapeRo'+'tation']();_s['setValue'](_0xdf9977['x'],_0xdf9977['y'],_0xdf9977['z']),Er['setValue'](_0x45929a['x'],_0x45929a['y'],_0x45929a['z'],_0x45929a['w']);}else{const _0x13b312=this['entity']['getPositio'+'n'](),_0xbbf6ec=this['entity']['getRotatio'+'n']();_s['setValue'](_0x13b312['x'],_0x13b312['y'],_0x13b312['z']),Er['setValue'](_0xbbf6ec['x'],_0xbbf6ec['y'],_0xbbf6ec['z'],_0xbbf6ec['w']);}_0xa605ac['setOrigin'](_s),_0xa605ac['setRotatio'+'n'](Er);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Nn);const _0x2cf736=this['body'];_0x2cf736['setWorldTr'+'ansform'](Nn),_0x2cf736['activate']();}['enable'](){const _0x13e27f=this['body'];if(!_0x13e27f)return;const _0x53b4fb=this['app']['systems']['rigidbody'];_0x53b4fb['_triggers']['indexOf'](this)<0x20ec+0x1652+-0x1*0x373e&&(_0x53b4fb['addBody'](_0x13e27f,lg,af^lg),_0x53b4fb['_triggers']['push'](this)),_0x13e27f['forceActiv'+'ationState'](nf),this['updateTran'+'sform']();}['disable'](){const _0x5e0784=this['body'];if(!_0x5e0784)return;const _0x291520=this['app']['systems']['rigidbody'],_0x1bc75f=_0x291520['_triggers']['indexOf'](this);_0x1bc75f>-(0x50*0x2d+-0x22dc+-0x429*-0x5)&&(_0x291520['removeBody'](_0x5e0784),_0x291520['_triggers']['splice'](_0x1bc75f,-0x2*-0x2fe+-0x9a4+0x3a9*0x1)),_0x5e0784['forceActiv'+'ationState'](tx);}}const Xl=new q(),iR=new T(),rR=new T(),Cr=new se(),cg=new De(),nR=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class xn{constructor(_0x41379f){this['system']=_0x41379f;}['beforeInit'+'ialize'](_0x4042ee,_0x4fa572){_0x4fa572['shape']=null,_0x4fa572['model']=new Oi(),_0x4fa572['model']['graph']=new De();}['afterIniti'+'alize'](_0x34e376,_0xae2fdf){this['recreatePh'+'ysicalShap'+'es'](_0x34e376),_0x34e376['data']['initialize'+'d']=!(-0x1243+-0x92e+0x1b71);}['reset'](_0x1f76a0,_0x5168ea){this['beforeInit'+'ialize'](_0x1f76a0,_0x5168ea),this['afterIniti'+'alize'](_0x1f76a0,_0x5168ea);}['recreatePh'+'ysicalShap'+'es'](_0x3a3933){const _0x2b8cac=_0x3a3933['entity'],_0x174f24=_0x3a3933['data'];if(typeof Ammo<'u'){_0x2b8cac['trigger']&&(_0x2b8cac['trigger']['destroy'](),delete _0x2b8cac['trigger']),_0x174f24['shape']&&(_0x3a3933['_compoundP'+'arent']&&(_0x3a3933!==_0x3a3933['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x3a3933['_compoundP'+'arent'],_0x174f24['shape']),_0x3a3933['_compoundP'+'arent']['entity']['rigidbody']&&_0x3a3933['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x174f24)),_0x174f24['shape']=this['createPhys'+'icalShape'](_0x3a3933['entity'],_0x174f24);const _0x108b7b=!_0x3a3933['_compoundP'+'arent'];if(_0x174f24['type']==='compound'&&(!_0x3a3933['_compoundP'+'arent']||_0x3a3933===_0x3a3933['_compoundP'+'arent']))_0x3a3933['_compoundP'+'arent']=_0x3a3933,_0x2b8cac['forEach'](this['_addEachDe'+'scendant'],_0x3a3933);else{if(_0x174f24['type']!=='compound'&&!_0x3a3933['rigidbody']){_0x3a3933['_compoundP'+'arent']=null;let _0x5c8f42=_0x2b8cac['parent'];for(;_0x5c8f42;){if(_0x5c8f42['collision']&&_0x5c8f42['collision']['type']==='compound'){_0x3a3933['_compoundP'+'arent']=_0x5c8f42['collision'];break;}_0x5c8f42=_0x5c8f42['parent'];}}}_0x3a3933['_compoundP'+'arent']&&_0x3a3933!==_0x3a3933['_compoundP'+'arent']&&(_0x108b7b&&_0x3a3933['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x2*-0x871+0x1e9c+-0xdba*0x1?this['system']['recreatePh'+'ysicalShap'+'es'](_0x3a3933['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x2b8cac,!(0x18b2+-0x795+-0x1*0x111d)),_0x3a3933['_compoundP'+'arent']['entity']['rigidbody']&&_0x3a3933['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x2b8cac['rigidbody']?(_0x2b8cac['rigidbody']['disableSim'+'ulation'](),_0x2b8cac['rigidbody']['createBody'](),_0x2b8cac['enabled']&&_0x2b8cac['rigidbody']['enabled']&&_0x2b8cac['rigidbody']['enableSimu'+'lation']()):_0x3a3933['_compoundP'+'arent']||(_0x2b8cac['trigger']?_0x2b8cac['trigger']['initialize'](_0x174f24):_0x2b8cac['trigger']=new sx(this['system']['app'],_0x3a3933,_0x174f24));}}['createPhys'+'icalShape'](_0x14f61b,_0xe098f6){}['updateTran'+'sform'](_0x296032,_0x55ad0e,_0x28d9a9,_0x40e132){_0x296032['entity']['trigger']&&_0x296032['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x11968a){_0x11968a['shape']&&(Ammo['destroy'](_0x11968a['shape']),_0x11968a['shape']=null);}['beforeRemo'+'ve'](_0x49aa94,_0x688efd){_0x688efd['data']['shape']&&(_0x688efd['_compoundP'+'arent']&&!_0x688efd['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x688efd['_compoundP'+'arent'],_0x688efd['data']['shape']),_0x688efd['_compoundP'+'arent']['entity']['rigidbody']&&_0x688efd['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x688efd['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x688efd['data']));}['remove'](_0x4d078e,_0x254cd1){_0x4d078e['rigidbody']&&_0x4d078e['rigidbody']['body']&&_0x4d078e['rigidbody']['disableSim'+'ulation'](),_0x4d078e['trigger']&&(_0x4d078e['trigger']['destroy'](),delete _0x4d078e['trigger']);}['clone'](_0x4cfe1b,_0x3630cc){const _0x2c40f5=this['system']['store'][_0x4cfe1b['getGuid']()],_0xbc369e={'enabled':_0x2c40f5['data']['enabled'],'type':_0x2c40f5['data']['type'],'halfExtents':[_0x2c40f5['data']['halfExtent'+'s']['x'],_0x2c40f5['data']['halfExtent'+'s']['y'],_0x2c40f5['data']['halfExtent'+'s']['z']],'linearOffset':[_0x2c40f5['data']['linearOffs'+'et']['x'],_0x2c40f5['data']['linearOffs'+'et']['y'],_0x2c40f5['data']['linearOffs'+'et']['z']],'angularOffset':[_0x2c40f5['data']['angularOff'+'set']['x'],_0x2c40f5['data']['angularOff'+'set']['y'],_0x2c40f5['data']['angularOff'+'set']['z'],_0x2c40f5['data']['angularOff'+'set']['w']],'radius':_0x2c40f5['data']['radius'],'axis':_0x2c40f5['data']['axis'],'height':_0x2c40f5['data']['height'],'convexHull':_0x2c40f5['data']['convexHull'],'asset':_0x2c40f5['data']['asset'],'renderAsset':_0x2c40f5['data']['renderAsse'+'t'],'model':_0x2c40f5['data']['model'],'render':_0x2c40f5['data']['render'],'checkVertexDuplicates':_0x2c40f5['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x3630cc,_0xbc369e);}}class aR extends xn{['createPhys'+'icalShape'](_0x17c59b,_0x3fee44){if(typeof Ammo<'u'){const _0xe33e5a=_0x3fee44['halfExtent'+'s'],_0xb99e75=new Ammo['btVector3'](_0xe33e5a?_0xe33e5a['x']:-0x5*-0x34+0x1c8a+-0x1d8e+0.5,_0xe33e5a?_0xe33e5a['y']:-0x60*-0x14+0x13a+0x8ba*-0x1+0.5,_0xe33e5a?_0xe33e5a['z']:-0x1cd*-0xd+-0xb77+-0xbf2+0.5),_0x3156ee=new Ammo['btBoxShape'](_0xb99e75);return Ammo['destroy'](_0xb99e75),_0x3156ee;}}}class oR extends xn{['createPhys'+'icalShape'](_0x34eb18,_0x31c220){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x31c220['radius']);}}class lR extends xn{['createPhys'+'icalShape'](_0x1a4966,_0x2513f7){const _0x4d60f3=_0x2513f7['axis']??-0x11f*-0xb+0x119b+-0x1def,_0x31e4fc=_0x2513f7['radius']??-0x1*0x1894+0xb2b*-0x1+0x23bf*0x1+0.5,_0x55f038=Math['max']((_0x2513f7['height']??-0x1adb+0x1973+0x16a)-(-0x1aab+-0xe6d+0x291a)*_0x31e4fc,0x1*-0x1901+-0x2156+-0x203*-0x1d);let _0x3212b8=null;if(typeof Ammo<'u')switch(_0x4d60f3){case 0x17d7+-0x17*0xef+-0x12f*0x2:_0x3212b8=new Ammo['btCapsuleS'+'hapeX'](_0x31e4fc,_0x55f038);break;case-0x2*0x11ea+0x112c*0x1+0x12a9*0x1:_0x3212b8=new Ammo['btCapsuleS'+'hape'](_0x31e4fc,_0x55f038);break;case 0x1*-0x1ed9+0xcef*0x1+0x11ec:_0x3212b8=new Ammo['btCapsuleS'+'hapeZ'](_0x31e4fc,_0x55f038);break;}return _0x3212b8;}}class hR extends xn{['createPhys'+'icalShape'](_0x4bfcbc,_0x134231){const _0x2d3d02=_0x134231['axis']??-0x1*-0x1c7d+-0xc1d+-0x575*0x3,_0x4f9c36=_0x134231['radius']??0x2156+0x1b6*0x13+-0x4*0x1076+0.5,_0x246dcd=_0x134231['height']??-0x1*-0x2583+0x1dad+-0x432f;let _0x4c739d=null,_0x4dde99=null;if(typeof Ammo<'u')switch(_0x2d3d02){case 0x16b7+0x1*-0x22d5+0x6*0x205:_0x4c739d=new Ammo['btVector3'](_0x246dcd*(-0xf6*-0x26+0x1*0xa6e+-0x1*0x2ef2+0.5),_0x4f9c36,_0x4f9c36),_0x4dde99=new Ammo['btCylinder'+'ShapeX'](_0x4c739d);break;case 0x259a+0x232*-0xd+0x1*-0x90f:_0x4c739d=new Ammo['btVector3'](_0x4f9c36,_0x246dcd*(-0x2*0x4ed+0x1699+-0xcbf+0.5),_0x4f9c36),_0x4dde99=new Ammo['btCylinder'+'Shape'](_0x4c739d);break;case 0x627+0x1c01+-0x2226:_0x4c739d=new Ammo['btVector3'](_0x4f9c36,_0x4f9c36,_0x246dcd*(-0x1b1*0x11+-0xa3d*-0x1+0xf*0x13c+0.5)),_0x4dde99=new Ammo['btCylinder'+'ShapeZ'](_0x4c739d);break;}return _0x4c739d&&Ammo['destroy'](_0x4c739d),_0x4dde99;}}class cR extends xn{['createPhys'+'icalShape'](_0x4ea4d6,_0x2fb32d){const _0x4c9064=_0x2fb32d['axis']??-0x2030+-0x1298+0x32c9,_0x38f09d=_0x2fb32d['radius']??0xa09*0x2+0x583*0x4+-0x6*0x705+0.5,_0x170f6b=_0x2fb32d['height']??-0x180+0x23c9+0x4*-0x892;let _0x31d2ff=null;if(typeof Ammo<'u')switch(_0x4c9064){case-0x7a*-0x2c+-0x8e*-0x12+-0x7*0x46c:_0x31d2ff=new Ammo['btConeShap'+'eX'](_0x38f09d,_0x170f6b);break;case 0x1ea6*0x1+-0x1533+-0x972:_0x31d2ff=new Ammo['btConeShap'+'e'](_0x38f09d,_0x170f6b);break;case-0x1*-0x1cef+-0x1c*-0x29+-0x2169:_0x31d2ff=new Ammo['btConeShap'+'eZ'](_0x38f09d,_0x170f6b);break;}return _0x31d2ff;}}class dR extends xn{['beforeInit'+'ialize'](_0x4a4f8c,_0x19bccb){}['createAmmo'+'Hull'](_0xb47291,_0x39ea69,_0xb5d10,_0x518ead){const _0x2e4903=new Ammo['btConvexHu'+'llShape'](),_0x10197b=new Ammo['btVector3'](),_0x2f3693=[];_0xb47291['getPositio'+'ns'](_0x2f3693);for(let _0xd41ed8=0x512*0x2+-0x1*-0x25ee+-0x7*0x6de;_0xd41ed8<_0x2f3693['length'];_0xd41ed8+=0x1d88+-0x1011+-0xd74)_0x10197b['setValue'](_0x2f3693[_0xd41ed8]*_0x518ead['x'],_0x2f3693[_0xd41ed8+(0x1*-0x12af+0x10aa+0x206)]*_0x518ead['y'],_0x2f3693[_0xd41ed8+(-0x1945+0x21*0x6e+0xb19)]*_0x518ead['z']),_0x2e4903['addPoint'](_0x10197b,!(-0x869*0x3+-0x1*-0x1382+0x5ba));Ammo['destroy'](_0x10197b),_0x2e4903['recalcLoca'+'lAabb'](),_0x2e4903['setMargin'](-0x2*0x324+0xa9+0x59f+0.01);const _0x519457=this['system']['_getNodeTr'+'ansform'](_0x39ea69);_0xb5d10['addChildSh'+'ape'](_0x519457,_0x2e4903),Ammo['destroy'](_0x519457);}['createAmmo'+'Mesh'](_0x2f15b7,_0xdcc899,_0xcc35b3,_0x778ad3,_0x4b6995=!(-0x2605*-0x1+0x33c*0x4+-0x32f5)){const _0x59713f=this['system'];let _0x2567a2;if(_0x59713f['_triMeshCa'+'che'][_0x2f15b7['id']])_0x2567a2=_0x59713f['_triMeshCa'+'che'][_0x2f15b7['id']];else{const _0x717a43=_0x2f15b7['vertexBuff'+'er'],_0x223193=_0x717a43['getFormat']();let _0x13b5f6,_0x1ca430;for(let _0x9b0314=0x9ec+0xe75+-0x1861;_0x9b0314<_0x223193['elements']['length'];_0x9b0314++){const _0x253e97=_0x223193['elements'][_0x9b0314];if(_0x253e97['name']===He){_0x1ca430=new Float32Array(_0x717a43['lock'](),_0x253e97['offset']),_0x13b5f6=_0x253e97['stride']/(-0x2*-0x611+0xde8+-0x1a06);break;}}const _0x4d860d=[];_0x2f15b7['getIndices'](_0x4d860d);const _0x12ee98=_0x2f15b7['primitive'][-0x270d+-0x9c5+0x30d2]['count']/(0x65e+0x4*0x64e+-0x1f93),_0x1cb3c9=new Ammo['btVector3']();let _0x5aa218,_0x543a13,_0x456b7d;const _0x2a1c2d=_0x2f15b7['primitive'][0x1489+0xf76*-0x2+-0x1*-0xa63]['base'];_0x2567a2=new Ammo['btTriangle'+'Mesh'](),_0x59713f['_triMeshCa'+'che'][_0x2f15b7['id']]=_0x2567a2;const _0x1c76da=new Map();v['assert'](typeof _0x2567a2['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x32868a=_0x2567a2['getIndexed'+'MeshArray']();_0x32868a['at'](0x1*-0x54a+-0x2a*-0x3a+-0x43a)['m_numTrian'+'gles']=_0x12ee98;const _0x50aaa9=_0x778ad3?_0x778ad3['x']:0x3*0x742+-0xee3+-0x6e2*0x1,_0x3fc330=_0x778ad3?_0x778ad3['y']:0x239*0x2+-0x133e+0xecd,_0x2be4e7=_0x778ad3?_0x778ad3['z']:-0x6ee*0x2+0x2a7*0xb+-0x8c*0x1c,_0x4f0dd8=_0x3f0327=>{const _0xb82f5f=_0x1ca430[_0x3f0327*_0x13b5f6]*_0x50aaa9,_0x3bae5f=_0x1ca430[_0x3f0327*_0x13b5f6+(0x44f*-0x4+-0xccd*0x1+0x1e0a*0x1)]*_0x3fc330,_0x3bf702=_0x1ca430[_0x3f0327*_0x13b5f6+(-0x1657+-0x97*-0x1a+0x703)]*_0x2be4e7;let _0x353889;if(_0x4b6995){const _0x5635dd=_0xb82f5f+':'+_0x3bae5f+':'+_0x3bf702;if(_0x353889=_0x1c76da['get'](_0x5635dd),_0x353889!==void(-0x424+-0x18b*0x13+0x2175))return _0x353889;_0x1cb3c9['setValue'](_0xb82f5f,_0x3bae5f,_0x3bf702),_0x353889=_0x2567a2['findOrAddV'+'ertex'](_0x1cb3c9,!(0x1172+0xa16*-0x3+0xcd1)),_0x1c76da['set'](_0x5635dd,_0x353889);}else _0x1cb3c9['setValue'](_0xb82f5f,_0x3bae5f,_0x3bf702),_0x353889=_0x2567a2['findOrAddV'+'ertex'](_0x1cb3c9,!(-0x227a+0x2006+0x275));return _0x353889;};for(let _0x143b16=0x785+0xb5*-0x2b+0x16e2;_0x143b16<_0x12ee98;_0x143b16++)_0x5aa218=_0x4f0dd8(_0x4d860d[_0x2a1c2d+_0x143b16*(0x6*-0x329+0x9c7*0x1+0x932)]),_0x543a13=_0x4f0dd8(_0x4d860d[_0x2a1c2d+_0x143b16*(-0xea9+0x22a1+-0x27*0x83)+(0x43*-0xa+0x5*0x149+0x1*-0x3ce)]),_0x456b7d=_0x4f0dd8(_0x4d860d[_0x2a1c2d+_0x143b16*(-0x5*0x6cd+0x6*-0x566+0x22*0x1f4)+(0x1c3d*0x1+0x48d+-0x20c8)]),_0x2567a2['addIndex'](_0x5aa218),_0x2567a2['addIndex'](_0x543a13),_0x2567a2['addIndex'](_0x456b7d);Ammo['destroy'](_0x1cb3c9);}const _0x1362f2=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x2567a2,!(-0x93c+-0xec*-0x6+-0x3b4*-0x1));if(!_0x778ad3){const _0x2c8e11=_0x59713f['_getNodeSc'+'aling'](_0xdcc899);_0x1362f2['setLocalSc'+'aling'](_0x2c8e11),Ammo['destroy'](_0x2c8e11);}const _0x491fb1=_0x59713f['_getNodeTr'+'ansform'](_0xdcc899);_0xcc35b3['addChildSh'+'ape'](_0x491fb1,_0x1362f2),Ammo['destroy'](_0x491fb1);}['createPhys'+'icalShape'](_0x26a01b,_0x4ae18f){if(!(typeof Ammo>'u')&&(_0x4ae18f['model']||_0x4ae18f['render'])){const _0x20cd71=new Ammo['btCompound'+'Shape'](),_0x3b34b7=_0x26a01b['getWorldTr'+'ansform']()['getScale']();if(_0x4ae18f['render']){const _0x5da134=_0x4ae18f['render']['meshes'];for(let _0xfac235=-0x1*0x1e01+-0x21dd*0x1+0x3fde;_0xfac235<_0x5da134['length'];_0xfac235++)_0x4ae18f['convexHull']?this['createAmmo'+'Hull'](_0x5da134[_0xfac235],cg,_0x20cd71,_0x3b34b7):this['createAmmo'+'Mesh'](_0x5da134[_0xfac235],cg,_0x20cd71,_0x3b34b7,_0x4ae18f['checkVerte'+'xDuplicate'+'s']);}else{if(_0x4ae18f['model']){const _0x2b14db=_0x4ae18f['model']['meshInstan'+'ces'];for(let _0x14bf02=-0x167a+-0x36+0x16b0;_0x14bf02<_0x2b14db['length'];_0x14bf02++)this['createAmmo'+'Mesh'](_0x2b14db[_0x14bf02]['mesh'],_0x2b14db[_0x14bf02]['node'],_0x20cd71,null,_0x4ae18f['checkVerte'+'xDuplicate'+'s']);const _0x1a558=new Ammo['btVector3'](_0x3b34b7['x'],_0x3b34b7['y'],_0x3b34b7['z']);_0x20cd71['setLocalSc'+'aling'](_0x1a558),Ammo['destroy'](_0x1a558);}}return _0x20cd71;}}['recreatePh'+'ysicalShap'+'es'](_0xa5f484){const _0x501983=_0xa5f484['data'];if((_0x501983['renderAsse'+'t']||_0x501983['asset'])&&_0xa5f484['enabled']&&_0xa5f484['entity']['enabled']){this['loadAsset'](_0xa5f484,_0x501983['renderAsse'+'t']||_0x501983['asset'],_0x501983['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0xa5f484);}['loadAsset'](_0x505f0e,_0x1ac797,_0x5c1d91){const _0x604c87=_0x505f0e['data'],_0x4ac879=this['system']['app']['assets'],_0x2dedce=_0x604c87[_0x5c1d91],_0x1742e4=_0x14b069=>{_0x604c87[_0x5c1d91]===_0x2dedce&&(_0x604c87[_0x5c1d91]=_0x14b069['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x505f0e));},_0x2b09aa=_0x29021a=>{_0x29021a['ready'](_0x8d78dc=>{if(_0x8d78dc['data']['containerA'+'sset']){const _0x1b9c1a=_0x4ac879['get'](_0x8d78dc['data']['containerA'+'sset']);_0x1b9c1a['loaded']?_0x1742e4(_0x8d78dc):(_0x1b9c1a['ready'](()=>{_0x1742e4(_0x8d78dc);}),_0x4ac879['load'](_0x1b9c1a));}else _0x1742e4(_0x8d78dc);}),_0x4ac879['load'](_0x29021a);},_0x42e384=_0x4ac879['get'](_0x1ac797);_0x42e384?_0x2b09aa(_0x42e384):_0x4ac879['once']('add:'+_0x1ac797,_0x2b09aa);}['doRecreate'+'PhysicalSh'+'ape'](_0x5039b5){const _0x2f5da3=_0x5039b5['entity'],_0x53a710=_0x5039b5['data'];_0x53a710['model']||_0x53a710['render']?(this['destroySha'+'pe'](_0x53a710),_0x53a710['shape']=this['createPhys'+'icalShape'](_0x2f5da3,_0x53a710),_0x2f5da3['rigidbody']?(_0x2f5da3['rigidbody']['disableSim'+'ulation'](),_0x2f5da3['rigidbody']['createBody'](),_0x2f5da3['enabled']&&_0x2f5da3['rigidbody']['enabled']&&_0x2f5da3['rigidbody']['enableSimu'+'lation']()):_0x2f5da3['trigger']?_0x2f5da3['trigger']['initialize'](_0x53a710):_0x2f5da3['trigger']=new sx(this['system']['app'],_0x5039b5,_0x53a710)):(this['beforeRemo'+'ve'](_0x2f5da3,_0x5039b5),this['remove'](_0x2f5da3,_0x53a710));}['updateTran'+'sform'](_0x112cfe,_0x1ecdf0,_0x1e13d4,_0x5eba12){if(_0x112cfe['shape']){const _0x1e391d=_0x112cfe['entity']['getWorldTr'+'ansform']()['getScale'](),_0x2b68db=_0x112cfe['shape']['getLocalSc'+'aling']();(_0x1e391d['x']!==_0x2b68db['x']()||_0x1e391d['y']!==_0x2b68db['y']()||_0x1e391d['z']!==_0x2b68db['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x112cfe);}super['updateTran'+'sform'](_0x112cfe,_0x1ecdf0,_0x1e13d4,_0x5eba12);}['destroySha'+'pe'](_0x1e2b56){if(!_0x1e2b56['shape'])return;const _0x145c7c=_0x1e2b56['shape']['getNumChil'+'dShapes']();for(let _0x1288ec=-0x2094*0x1+0x9d*-0x1+0x2131;_0x1288ec<_0x145c7c;_0x1288ec++){const _0x208281=_0x1e2b56['shape']['getChildSh'+'ape'](_0x1288ec);Ammo['destroy'](_0x208281);}Ammo['destroy'](_0x1e2b56['shape']),_0x1e2b56['shape']=null;}}class uR extends xn{['createPhys'+'icalShape'](_0x56e748,_0x23d021){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x2afbf4){!_0x2afbf4['collision']||_0x2afbf4['rigidbody']||(_0x2afbf4['collision']['_compoundP'+'arent']=this,_0x2afbf4!==this['entity']&&_0x2afbf4['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x2afbf4['collision']));}['_updateEac'+'hDescendan'+'t'](_0x3d301d){_0x3d301d['collision']&&_0x3d301d['collision']['_compoundP'+'arent']===this&&(_0x3d301d['collision']['_compoundP'+'arent']=null,_0x3d301d!==this['entity']&&!_0x3d301d['rigidbody']&&_0x3d301d['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x3d301d['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x354aab){!_0x354aab['collision']||_0x354aab['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x354aab,!(0x1f*-0x11f+0xf*0x1c+-0x585*-0x6));}}class fR extends Xe{constructor(_0x229d93){super(_0x229d93),this['id']='collision',this['ComponentT'+'ype']=Yn,this['DataType']=JP,this['schema']=nR,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x526ba1,_0x523a26,_0x499200){_0x499200=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x3928ff={};for(let _0x1fe2f4=-0x853+0x773*-0x2+0x1739,_0xfe1a4a=_0x499200['length'];_0x1fe2f4<_0xfe1a4a;_0x1fe2f4++){const _0x26da77=_0x499200[_0x1fe2f4];_0x3928ff[_0x26da77]=_0x523a26[_0x26da77];}let _0x1a3ba9;if(_0x523a26['hasOwnProp'+'erty']('asset')?(_0x1a3ba9=_0x499200['indexOf']('model'),_0x1a3ba9!==-(0x1*0xf7c+-0x1*-0xdb5+-0x2*0xe98)&&_0x499200['splice'](_0x1a3ba9,-0x468+-0x778+0xbe1),_0x1a3ba9=_0x499200['indexOf']('render'),_0x1a3ba9!==-(-0x1e76+-0x9ee*-0x2+0xa9b)&&_0x499200['splice'](_0x1a3ba9,-0x1*-0xaa2+-0x1931+0x3a4*0x4)):_0x523a26['hasOwnProp'+'erty']('model')&&(_0x1a3ba9=_0x499200['indexOf']('asset'),_0x1a3ba9!==-(0x26b9+0x23f5+0x1*-0x4aad)&&_0x499200['splice'](_0x1a3ba9,0x143b+-0xd*-0x131+-0x23b7)),_0x3928ff['type']||(_0x3928ff['type']=_0x526ba1['data']['type']),_0x526ba1['data']['type']=_0x3928ff['type'],Array['isArray'](_0x3928ff['halfExtent'+'s'])&&(_0x3928ff['halfExtent'+'s']=new T(_0x3928ff['halfExtent'+'s'])),Array['isArray'](_0x3928ff['linearOffs'+'et'])&&(_0x3928ff['linearOffs'+'et']=new T(_0x3928ff['linearOffs'+'et'])),Array['isArray'](_0x3928ff['angularOff'+'set'])){const _0xc09993=_0x3928ff['angularOff'+'set'];_0xc09993['length']===0xb25+-0x35*0x36+0xc?_0x3928ff['angularOff'+'set']=new se()['setFromEul'+'erAngles'](_0xc09993[-0xffa+-0x1105+0x20ff],_0xc09993[-0x1010+-0xa2e+0x1a3f],_0xc09993[0x1b7b+-0x173d+-0x43c]):_0x3928ff['angularOff'+'set']=new se(_0x3928ff['angularOff'+'set']);}const _0x210e65=this['_createImp'+'lementatio'+'n'](_0x3928ff['type']);_0x210e65['beforeInit'+'ialize'](_0x526ba1,_0x3928ff),super['initialize'+'ComponentD'+'ata'](_0x526ba1,_0x3928ff,_0x499200),_0x210e65['afterIniti'+'alize'](_0x526ba1,_0x3928ff);}['_createImp'+'lementatio'+'n'](_0x24c8cf){if(this['implementa'+'tions'][_0x24c8cf]===void(-0x19f1+-0x5b*0x18+0x2279)){let _0x2e2cb0;switch(_0x24c8cf){case'box':_0x2e2cb0=new aR(this);break;case'sphere':_0x2e2cb0=new oR(this);break;case'capsule':_0x2e2cb0=new lR(this);break;case'cylinder':_0x2e2cb0=new hR(this);break;case'cone':_0x2e2cb0=new cR(this);break;case'mesh':_0x2e2cb0=new dR(this);break;case'compound':_0x2e2cb0=new uR(this);break;default:v['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x24c8cf);}this['implementa'+'tions'][_0x24c8cf]=_0x2e2cb0;}return this['implementa'+'tions'][_0x24c8cf];}['_getImplem'+'entation'](_0x573a45){return this['implementa'+'tions'][_0x573a45['collision']['data']['type']];}['cloneCompo'+'nent'](_0x164fb5,_0x38198b){return this['_getImplem'+'entation'](_0x164fb5)['clone'](_0x164fb5,_0x38198b);}['onBeforeRe'+'move'](_0x21883,_0x23d9ee){this['implementa'+'tions'][_0x23d9ee['data']['type']]['beforeRemo'+'ve'](_0x21883,_0x23d9ee),_0x23d9ee['onBeforeRe'+'move']();}['onRemove'](_0xf25657,_0x28eefd){this['implementa'+'tions'][_0x28eefd['type']]['remove'](_0xf25657,_0x28eefd);}['updateComp'+'oundChildT'+'ransform'](_0x5347cf,_0x4eb2bc){const _0x154b79=_0x5347cf['collision']['_compoundP'+'arent'];if(_0x154b79!==_0x5347cf['collision']&&_0x5347cf['enabled']&&_0x5347cf['collision']['enabled']&&(_0x5347cf['_dirtyLoca'+'l']||_0x4eb2bc)){const _0x2a3b09=this['_getNodeTr'+'ansform'](_0x5347cf,_0x154b79['entity']),_0x2a2512=_0x154b79['getCompoun'+'dChildShap'+'eIndex'](_0x5347cf['collision']['shape']);_0x2a2512===null?_0x154b79['shape']['addChildSh'+'ape'](_0x2a3b09,_0x5347cf['collision']['data']['shape']):_0x154b79['shape']['updateChil'+'dTransform'](_0x2a2512,_0x2a3b09,!(0x2*0x973+-0x1791+0x4ab)),Ammo['destroy'](_0x2a3b09);}}['_removeCom'+'poundChild'](_0x32e8f1,_0x555e36){if(_0x32e8f1['shape']['getNumChil'+'dShapes']()!==0x965+-0xee*0x1d+0x1191){if(_0x32e8f1['shape']['removeChil'+'dShape'])_0x32e8f1['shape']['removeChil'+'dShape'](_0x555e36);else{const _0x440ae0=_0x32e8f1['getCompoun'+'dChildShap'+'eIndex'](_0x555e36);_0x440ae0!==null&&_0x32e8f1['shape']['removeChil'+'dShapeByIn'+'dex'](_0x440ae0);}}}['onTransfor'+'mChanged'](_0x3344ed,_0x5369c1,_0x62f46a,_0x129ff7){this['implementa'+'tions'][_0x3344ed['data']['type']]['updateTran'+'sform'](_0x3344ed,_0x5369c1,_0x62f46a,_0x129ff7);}['changeType'](_0x54cc50,_0x4e0578,_0x45ca57){this['implementa'+'tions'][_0x4e0578]['beforeRemo'+'ve'](_0x54cc50['entity'],_0x54cc50),this['implementa'+'tions'][_0x4e0578]['remove'](_0x54cc50['entity'],_0x54cc50['data']),this['_createImp'+'lementatio'+'n'](_0x45ca57)['reset'](_0x54cc50,_0x54cc50['data']);}['recreatePh'+'ysicalShap'+'es'](_0x51e59f){this['implementa'+'tions'][_0x51e59f['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x51e59f);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x4cb48e,_0x194e68){if(_0x4cb48e===_0x194e68){const _0x1b17ea=_0x4cb48e['getWorldTr'+'ansform']()['getScale']();Xl['setScale'](_0x1b17ea['x'],_0x1b17ea['y'],_0x1b17ea['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x4cb48e['parent'],_0x194e68),Xl['mul'](_0x4cb48e['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x4afefd){const _0x1ac567=_0x4afefd['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x1ac567['x'],_0x1ac567['y'],_0x1ac567['z']);}['_getNodeTr'+'ansform'](_0x50ce6b,_0x4432c8){let _0x2b4683,_0x2a36f7;_0x4432c8?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x50ce6b,_0x4432c8),_0x2b4683=iR,_0x2a36f7=Cr,Xl['getTransla'+'tion'](_0x2b4683),_0x2a36f7['setFromMat'+'4'](Xl)):(_0x2b4683=_0x50ce6b['getPositio'+'n'](),_0x2a36f7=_0x50ce6b['getRotatio'+'n']());const _0x5346d3=new Ammo['btQuaterni'+'on'](),_0x3c9f40=new Ammo['btTransfor'+'m']();_0x3c9f40['setIdentit'+'y']();const _0x47f1b1=_0x3c9f40['getOrigin'](),_0x124e5f=_0x50ce6b['collision'];if(_0x124e5f&&_0x124e5f['_hasOffset']){const _0x52e27f=_0x124e5f['data']['linearOffs'+'et'],_0x57d778=_0x124e5f['data']['angularOff'+'set'],_0x5e944f=rR;Cr['copy'](_0x2a36f7)['transformV'+'ector'](_0x52e27f,_0x5e944f),_0x5e944f['add'](_0x2b4683),Cr['copy'](_0x2a36f7)['mul'](_0x57d778),_0x47f1b1['setValue'](_0x5e944f['x'],_0x5e944f['y'],_0x5e944f['z']),_0x5346d3['setValue'](Cr['x'],Cr['y'],Cr['z'],Cr['w']);}else _0x47f1b1['setValue'](_0x2b4683['x'],_0x2b4683['y'],_0x2b4683['z']),_0x5346d3['setValue'](_0x2a36f7['x'],_0x2a36f7['y'],_0x2a36f7['z'],_0x2a36f7['w']);return _0x3c9f40['setRotatio'+'n'](_0x5346d3),Ammo['destroy'](_0x5346d3),_0x3c9f40;}['destroy'](){for(const _0x2b6a64 in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x2b6a64]);this['_triMeshCa'+'che']=null,super['destroy']();}}const jl=new Y(),pR=new Ot();class mR{constructor(_0x56ef6b,_0x2f4a45,_0x4733cc){this['_entity']=_0x56ef6b,this['_element']=_0x56ef6b['element'],this['model']=new Oi(),this['node']=new De(),this['model']['graph']=this['node'],this['mesh']=_0x2f4a45,this['meshInstan'+'ce']=new Le(this['mesh'],_0x4733cc,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x56ef6b['name'],this['meshInstan'+'ce']['castShadow']=!(-0x1*0x47f+-0x20e*-0x1+0x272),this['meshInstan'+'ce']['receiveSha'+'dow']=!(0xebf+-0x3c+-0xe82),this['_meshDirty']=!(-0x1e81+0x1bbb*0x1+0x2c7),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x4dcf4e,_0x2bafe6;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x4dcf4e=this['meshInstan'+'ce'])==null||_0x4dcf4e['destroy'](),this['meshInstan'+'ce']=null,(_0x2bafe6=this['unmaskMesh'+'Instance'])==null||_0x2bafe6['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x16021f){this['meshInstan'+'ce']&&(this['mesh']=_0x16021f,this['meshInstan'+'ce']['mesh']=_0x16021f,this['meshInstan'+'ce']['visible']=!!_0x16021f,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x16021f),this['forceUpdat'+'eAabb']());}['setMask'](_0x118dc2){var _0x48882d;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x118dc2){this['unmaskMesh'+'Instance']=new Le(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(0x1f2d+-0x5c8+-0x5*0x514),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(0x101d+-0x54*-0xc+0x140c*-0x1),this['unmaskMesh'+'Instance']['pick']=!(0x8*-0x24c+0xa21*0x3+-0x1d*0x6a),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x4e98f6 in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x4e98f6,this['meshInstan'+'ce']['parameters'][_0x4e98f6]['data']);}else{const _0x543a55=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x543a55>=-0x2099+-0x1c*-0x163+-0x63b&&this['model']['meshInstan'+'ces']['splice'](_0x543a55,-0x1427+0xba5+0x883);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x118dc2||((_0x48882d=this['unmaskMesh'+'Instance'])==null||_0x48882d['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x172b87){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x172b87,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x172b87));}['setParamet'+'er'](_0x4d57cd,_0x50c67e){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x4d57cd,_0x50c67e),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x4d57cd,_0x50c67e));}['deletePara'+'meter'](_0x44dd75){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x44dd75),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x44dd75));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x5eb4eb=function(_0x4a3ed5){let _0x1d243b;const _0x293a93=_0x4a3ed5['children'],_0x2140f6=_0x293a93['length'];if(_0x2140f6){for(let _0x2d1c7d=-0x1ae3*0x1+-0x335*0x1+0x786*0x4;_0x2d1c7d<_0x2140f6;_0x2d1c7d++)_0x293a93[_0x2d1c7d]['element']&&(_0x1d243b=_0x293a93[_0x2d1c7d]);if(!_0x1d243b)return null;const _0x6007a9=_0x5eb4eb(_0x1d243b);return _0x6007a9||_0x1d243b;}return null;};if(this['unmaskMesh'+'Instance']){const _0x224158=_0x5eb4eb(this['_entity']);_0x224158&&_0x224158['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x224158['element']['drawOrder']+_0x224158['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),v['trace'](Ss,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x3a9acb){this['meshInstan'+'ce']&&(v['trace'](Ss,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x3a9acb),this['meshInstan'+'ce']['drawOrder']=_0x3a9acb);}['setCull'](_0x1e4b5e){if(!this['meshInstan'+'ce'])return;const _0x380229=this['_element'];let _0x43768d=null;_0x1e4b5e&&_0x380229['_isScreenS'+'pace']()&&(_0x43768d=function(_0xd642d0){return _0x380229['isVisibleF'+'orCamera'](_0xd642d0);}),this['meshInstan'+'ce']['cull']=_0x1e4b5e,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x43768d,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x1e4b5e,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x43768d);}['setScreenS'+'pace'](_0x394f48){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x394f48,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x394f48));}['setLayer'](_0x53356){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x53356,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x53356));}['forceUpdat'+'eAabb'](_0x510b21){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(-0x20fe+-0xfb6+0x30b5),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(-0x251b+-0x180a+0xa31*0x6)));}['setAabbFun'+'c'](_0x4966d8){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x4966d8,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x4966d8));}}class _R{constructor(_0x2aabbf){c(this,'_evtSetMes'+'hes',null),(this['_element']=_0x2aabbf,this['_entity']=_0x2aabbf['entity'],this['_system']=_0x2aabbf['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=-0xd61+0xb*-0x11+0xe1c,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(-0x57+-0x1e94*-0x1+-0x1e3c),this['_rect']=new Q(-0x1fd4+-0x2*0x3d9+-0x1*-0x2786,-0xe16+0x19a9+0xb93*-0x1,-0x1db+0xd8b+-0xbaf,0x48a+-0x163*0x13+0x2*0xae8),this['_mask']=!(-0x2600*0x1+0x1e0d*-0x1+0x440e),this['_maskRef']=0x17f*0x17+-0x214b+-0x11e,this['_outerScal'+'e']=new W(),this['_outerScal'+'eUniform']=new Float32Array(-0x1297+0x106a+-0x1*-0x22f),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(0x1084+-0x20e1+-0x1061*-0x1),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(-0x1e9b*-0x1+-0x183f+-0x658*0x1),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new mR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new Y(0x1baf+-0xdb+-0x1ad3,0x2222*0x1+0x1d3b*0x1+0x14*-0x32b,-0x6b*0x1+0x2b*-0xdf+0x25e1*0x1,0x19e5+0x10c*0xa+-0x166*0x1a),this['_colorUnif'+'orm']=new Float32Array([-0x1*0x9f7+-0x15cf+0x5*0x65b,-0xa*0x67+-0x1*0x1e6d+-0x276*-0xe,-0x931+0xf67+0x7*-0xe3]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',-0x4ba+0x1*-0x1244+0x16ff),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x9ba4a){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x57b423){this['_updateMat'+'erial'](_0x57b423);}['_onScreenC'+'hange'](_0x4909b4,_0x2ac287){_0x4909b4?this['_updateMat'+'erial'](_0x4909b4['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x15ce+-0x233*0x7+-0x668));}['_onDrawOrd'+'erChange'](_0x405595){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x405595),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(0x92d+-0x18*-0x13+-0xaf4);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe);}['_updateMat'+'erial'](_0x536891){const _0x111af3=!!this['_mask'],_0x1dc84d=!!(this['sprite']&&this['sprite']['renderMode']===nt),_0x577331=!!(this['sprite']&&this['sprite']['renderMode']===Qe);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x536891,_0x111af3,_0x1dc84d,_0x577331)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x536891),this['_renderabl'+'e']['setLayer'](_0x536891?Ub:c0));}['_createMes'+'h'](){const _0x1bd345=this['_element'],_0x4bdb8b=_0x1bd345['calculated'+'Width'],_0x100f83=_0x1bd345['calculated'+'Height'],_0x1889f9=this['_rect'],_0x2529a1=this['_system']['app']['graphicsDe'+'vice'],_0x3344cc=new Float32Array([_0x4bdb8b,-0x5*0x3cb+0x25c6+-0x12cf,0x67a+-0x5*-0x377+0x9*-0x2a5,-0x26bc*-0x1+0x1246*0x1+-0x3902,-0x3d*0x3d+-0x1b99+0x2a22,0x2*0x22a+-0x801*-0x4+-0x1*0x2457,_0x1889f9['x']+_0x1889f9['z'],0x54+0xe69+-0xebc-_0x1889f9['y'],_0x4bdb8b,_0x100f83,-0x1*0x1038+-0x20*0x89+-0x16*-0x184,0x1*-0x22a9+-0x1cbe+0x1*0x3f67,0x1ce2*-0x1+-0x1a83*-0x1+-0x25f*-0x1,0xa88+0x5f3*0x6+-0x2e39*0x1,_0x1889f9['x']+_0x1889f9['z'],-0x18f7*0x1+-0x147f+0x2d77-(_0x1889f9['y']+_0x1889f9['w']),-0x53*-0x1+0x1e10+0x1e63*-0x1,0x3*-0x9fd+0x1041+0xdb6,-0x15*-0x1db+-0x2113+-0x2*0x2f2,-0x61*0x59+0x22ff+-0x146,0x14c3+0x1670+-0x2b33,-0x10b*0x18+0x2561*-0x1+0x6*0xa67,_0x1889f9['x'],-0x8f3*-0x1+0x239*-0x11+0x1cd7-_0x1889f9['y'],-0x428+-0x1e84+0xe*0x27a,_0x100f83,-0x1*-0x1105+0x176c+-0x2871,0x2b*0x97+0x1482+0x1*-0x2ddf,0x21e*-0x10+-0xd1*-0x13+0x125d,0x255*-0x2+-0x384+0x82f,_0x1889f9['x'],-0x1c40+-0xa9e+0x3*0xcf5-(_0x1889f9['y']+_0x1889f9['w'])]),_0xf83c00=pR['get'](_0x2529a1,()=>new Et(_0x2529a1,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':Yt,'components':0x3,'type':Ee},{'semantic':ns,'components':0x2,'type':Ee}])),_0x4e34dc=new os(_0x2529a1,_0xf83c00,-0x1f5*0x10+0x13e2+0xb72,{'data':_0x3344cc['buffer']}),_0x5490b8=new Ie(_0x2529a1);return _0x5490b8['vertexBuff'+'er']=_0x4e34dc,_0x5490b8['primitive'][-0x20d4+0x254c+-0x478]['type']=ar,_0x5490b8['primitive'][0x1c4f+0x2*0x31f+-0x228d]['base']=-0x1*-0x1d33+-0xd52+-0xfe1,_0x5490b8['primitive'][-0x897+0x1*0x18ef+0x2*-0x82c]['count']=-0x135d+-0x193f*-0x1+-0x5de,_0x5490b8['primitive'][-0x1aaa*0x1+0x787*0x2+-0x4*-0x2e7]['indexed']=!(0x19d5+-0x1*-0x1bd4+-0x35a8),_0x5490b8['aabb']['setMinMax'](T['ZERO'],new T(_0x4bdb8b,_0x100f83,-0x793+0x1d74+-0x15e1)),this['_updateMes'+'h'](_0x5490b8),_0x5490b8;}['_updateMes'+'h'](_0x1c2238){const _0x566faf=this['_element'];let _0xf18397=_0x566faf['calculated'+'Width'],_0x59c6b2=_0x566faf['calculated'+'Height'];if(_0x566faf['fitMode']!==gh&&this['_targetAsp'+'ectRatio']>-0x1ab*-0x2+-0x13e4+0x108e){const _0x301850=_0x566faf['calculated'+'Width']/_0x566faf['calculated'+'Height'];_0x566faf['fitMode']===YP&&_0x301850>this['_targetAsp'+'ectRatio']||_0x566faf['fitMode']===KP&&_0x301850<this['_targetAsp'+'ectRatio']?_0xf18397=_0x566faf['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x59c6b2=_0x566faf['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x1eab56=_0x566faf['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x1eab56),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){const _0x51bacc=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x515b44=(0x1f1f*-0x1+-0x125a+0xef*0x35)/_0x51bacc['rect']['z'],_0x356d54=(-0x17*-0x11e+0x7*0x337+-0xd*0x3b5)/_0x51bacc['rect']['w'];this['_innerOffs'+'et']['set'](_0x51bacc['border']['x']*_0x515b44,_0x51bacc['border']['y']*_0x356d54,_0x51bacc['border']['z']*_0x515b44,_0x51bacc['border']['w']*_0x356d54);const _0x19f218=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x51bacc['rect']['x']/_0x19f218['width'],_0x51bacc['rect']['y']/_0x19f218['height'],_0x51bacc['rect']['z']/_0x19f218['width'],_0x51bacc['rect']['w']/_0x19f218['height']);const _0x145cee=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x13c5a5=_0x51bacc['rect']['z']/_0x145cee,_0x14f3e6=_0x51bacc['rect']['w']/_0x145cee;this['_outerScal'+'e']['set'](Math['max'](_0xf18397,this['_innerOffs'+'et']['x']*_0x13c5a5),Math['max'](_0x59c6b2,this['_innerOffs'+'et']['y']*_0x14f3e6));let _0x434003=_0x13c5a5,_0x470643=_0x14f3e6;this['_outerScal'+'e']['x']/=_0x13c5a5,this['_outerScal'+'e']['y']/=_0x14f3e6,_0x434003*=N['clamp'](_0xf18397/(this['_innerOffs'+'et']['x']*_0x13c5a5),-0x1ac7+-0x299*-0x7+0x898+0.0001,-0xe87*-0x1+0x1*0x25bd+-0x3443),_0x470643*=N['clamp'](_0x59c6b2/(this['_innerOffs'+'et']['y']*_0x14f3e6),0x13d3+0xec+-0x14bf+0.0001,-0x29*-0x3f+0x1d15*-0x1+0x12ff),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][0x1*0x24cb+0x14*0x10c+-0x39bb]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x1445+0x512+0x11a*-0x17]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x3*-0xaab+-0x512*0x6+0x1*-0x193]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x1e61+0x143+0xa8b*-0x3]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x1c92+0x1868*0x1+-0x1*0x34fa]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x11a7+-0x26b3+-0x11*-0x13d]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0xf*0x257+0x233e+-0x115*0x41]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x1*-0x26ae+0x1*-0x2dd+0x23ce*-0x1]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][0x1a45+0x1507+-0x2f4c]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0x1da5*-0x1+0x1608+-0x33ac]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x434003,_0x470643,0x5*0x537+-0x78*0x47+0x736),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((0x97e+-0x283+-0x6fb*0x1+0.5-_0x566faf['pivot']['x'])*_0xf18397,(0x1*0xaae+0x24c6+0x2f74*-0x1+0.5-_0x566faf['pivot']['y'])*_0x59c6b2,-0x729+-0x171d+-0x1f*-0xfa));}else{const _0x5def39=_0x1c2238['vertexBuff'+'er'],_0x3f0a89=new Float32Array(_0x5def39['lock']()),_0x30e68e=_0x566faf['pivot']['x'],_0x1d80bf=_0x566faf['pivot']['y'];_0x3f0a89[-0x1376+-0x1279+0x25ef]=_0xf18397-_0x30e68e*_0xf18397,_0x3f0a89[0x15a9+0x99a*0x3+-0x869*0x6]=-0x6bf+0x1*-0x1b13+0x21d2-_0x1d80bf*_0x59c6b2,_0x3f0a89[-0x9*-0x3bf+0xae6+0x65*-0x71]=_0xf18397-_0x30e68e*_0xf18397,_0x3f0a89[-0x1c6d*-0x1+-0x6a3*0x5+-0x1*-0x4cb]=_0x59c6b2-_0x1d80bf*_0x59c6b2,_0x3f0a89[-0x1a4e+-0x10*0x167+0x2*0x1867]=-0x1bb+-0x593+0x74e-_0x30e68e*_0xf18397,_0x3f0a89[-0x4*0x2c3+-0x143f+0x1f5c]=0x23e6*-0x1+0x1019*-0x1+0x1cb*0x1d-_0x1d80bf*_0x59c6b2,_0x3f0a89[-0xe8f+0x1*-0x1ee3+0x2d8a]=-0x25e6+0x24*0xe3+0x9*0xaa-_0x30e68e*_0xf18397,_0x3f0a89[0xbf2+-0x40f+-0x7ca]=_0x59c6b2-_0x1d80bf*_0x59c6b2;let _0x2b3bb8=-0xe25+0xe9e+-0x78,_0x1e72b4=-0x1beb+0x718+0x14d4,_0x3331be=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x585f20=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x585f20&&(_0x3331be=_0x585f20['rect'],_0x2b3bb8=this['_sprite']['atlas']['texture']['width'],_0x1e72b4=this['_sprite']['atlas']['texture']['height']);}_0x3f0a89[0x4*-0x41e+-0x2e*0x82+0x27da]=(_0x3331be['x']+_0x3331be['z'])/_0x2b3bb8,_0x3f0a89[-0x3b*0x6+0x1c26+-0x1abd]=-0x15be+0x21*0xe8+0x829*-0x1-_0x3331be['y']/_0x1e72b4,_0x3f0a89[0x12a*-0x17+-0x647*0x3+0x1*0x2da9]=(_0x3331be['x']+_0x3331be['z'])/_0x2b3bb8,_0x3f0a89[-0x375*0x9+0x1*-0x1ffd+0x3f29]=0x14f5+0x2e6+-0x17da-(_0x3331be['y']+_0x3331be['w'])/_0x1e72b4,_0x3f0a89[-0x199*0x15+0x1*0x1a2d+0x1*0x776]=_0x3331be['x']/_0x2b3bb8,_0x3f0a89[0x4*-0x525+-0x1*0x1597+-0x2a42*-0x1]=-0x18a9+-0x3*0x51c+0x1*0x27fe-_0x3331be['y']/_0x1e72b4,_0x3f0a89[0x1a5*-0x12+0x1ed+0x1bcb]=_0x3331be['x']/_0x2b3bb8,_0x3f0a89[-0x1bad*0x1+0xbef+0xfdd]=-0x18de+0x10f9*0x2+-0x913-(_0x3331be['y']+_0x3331be['w'])/_0x1e72b4,_0x5def39['unlock']();const _0x50dd5b=new T(0x21c2+0x1cc3+-0x42b*0xf-_0x30e68e*_0xf18397,0x1b*-0xe1+0x2d*0x8c+-0xe1-_0x1d80bf*_0x59c6b2,-0x7be+-0xcb*-0x1d+-0x47*0x37),_0x1b57e2=new T(_0xf18397-_0x30e68e*_0xf18397,_0x59c6b2-_0x1d80bf*_0x59c6b2,-0x3f2+-0x976+0xd68);_0x1c2238['aabb']['setMinMax'](_0x50dd5b,_0x1b57e2),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](0x1*0x1e67+-0x1*0x6d9+-0x178d,-0x22*0x1e+-0x6a2+0xa9f,-0x1547+0x1*0xe0b+0x73d),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](-0xe2*-0x6+0x1*-0x13c1+0xe75,0x1*0x45b+0x635+-0xa90,-0x1*-0x1823+0xd6e*0x1+-0x2591),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(0x555*0x1+-0xef*-0x14+-0x1800);}['_updateSpr'+'ite'](){let _0x137995=!(0xa82*-0x2+-0x17d1+0x2cd6),_0x3fe5da=null;if(this['_targetAsp'+'ectRatio']=-(0x2*0x7b5+0x1fc3+-0x2f2c),this['_sprite']&&this['_sprite']['atlas']){_0x3fe5da=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x137995=this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe;const _0x3d3842=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x3d3842==null?void(0x15e6+-0x3d*-0x35+-0x2287):_0x3d3842['rect']['w'])>0x14f1+-0x5*0x61a+0x991&&(this['_targetAsp'+'ectRatio']=_0x3d3842['rect']['z']/_0x3d3842['rect']['w']);}this['mesh']=_0x137995?_0x3fe5da:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x32*0x1d+0x1*0x1bd1+-0x217b):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x1807b5){return _0x1807b5['center']['set'](0x1df0+0x1ded+0x5*-0xbf9,-0x4c1+-0x3bb+0x87c,-0x1c24+0x1061+0xbc3),_0x1807b5['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x24e+0x1*0x9f5+-0x1*0xc43+0.5),this['_outerScal'+'e']['y']*(-0x1e*0x108+-0x1d9*0x7+-0x2bdf*-0x1+0.5),0x1a5*0xd+-0xfe*0x26+0x1053+0.001),_0x1807b5['setFromTra'+'nsformedAa'+'bb'](_0x1807b5,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x1807b5;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0xc810d1=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0xc810d1),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x5745fe){this['material']=_0x5745fe['resource'];}['_onMateria'+'lAdded'](_0x179e47){this['_system']['app']['assets']['off']('add:'+_0x179e47['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x179e47['id']&&this['_bindMater'+'ialAsset'](_0x179e47);}['_bindMater'+'ialAsset'](_0x477720){this['_entity']['enabled']&&(_0x477720['on']('load',this['_onMateria'+'lLoad'],this),_0x477720['on']('change',this['_onMateria'+'lChange'],this),_0x477720['on']('remove',this['_onMateria'+'lRemove'],this),_0x477720['resource']?this['_onMateria'+'lLoad'](_0x477720):this['_system']['app']['assets']['load'](_0x477720));}['_unbindMat'+'erialAsset'](_0x441fb0){_0x441fb0['off']('load',this['_onMateria'+'lLoad'],this),_0x441fb0['off']('change',this['_onMateria'+'lChange'],this),_0x441fb0['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x39109c){this['_system']['app']['assets']['off']('add:'+_0x39109c['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x39109c['id']&&this['_bindTextu'+'reAsset'](_0x39109c);}['_bindTextu'+'reAsset'](_0x452aa3){this['_entity']['enabled']&&(_0x452aa3['on']('load',this['_onTexture'+'Load'],this),_0x452aa3['on']('change',this['_onTexture'+'Change'],this),_0x452aa3['on']('remove',this['_onTexture'+'Remove'],this),_0x452aa3['resource']?this['_onTexture'+'Load'](_0x452aa3):this['_system']['app']['assets']['load'](_0x452aa3));}['_unbindTex'+'tureAsset'](_0x7ca8){_0x7ca8['off']('load',this['_onTexture'+'Load'],this),_0x7ca8['off']('change',this['_onTexture'+'Change'],this),_0x7ca8['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x2549a8){this['texture']=_0x2549a8['resource'];}['_onTexture'+'Change'](_0x27ece3){}['_onTexture'+'Remove'](_0x2d2ce6){}['_onSpriteA'+'ssetAdded'](_0x420905){this['_system']['app']['assets']['off']('add:'+_0x420905['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x420905['id']&&this['_bindSprit'+'eAsset'](_0x420905);}['_bindSprit'+'eAsset'](_0x36908f){this['_entity']['enabled']&&(_0x36908f['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x36908f['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x36908f['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x36908f['resource']?this['_onSpriteA'+'ssetLoad'](_0x36908f):this['_system']['app']['assets']['load'](_0x36908f));}['_unbindSpr'+'iteAsset'](_0x56e038){_0x56e038['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x56e038['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x56e038['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x56e038['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x56e038['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x543f17){if(!_0x543f17||!_0x543f17['resource'])this['sprite']=null;else{if(_0x543f17['resource']['atlas'])this['sprite']=_0x543f17['resource'];else{const _0x517be8=_0x543f17['data']['textureAtl'+'asAsset'];if(_0x517be8){const _0x2193f6=this['_system']['app']['assets'];_0x2193f6['off']('load:'+_0x517be8,this['_onTexture'+'AtlasLoad'],this),_0x2193f6['once']('load:'+_0x517be8,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x474eb8){this['_onSpriteA'+'ssetLoad'](_0x474eb8);}['_onSpriteA'+'ssetRemove'](_0x502a93){}['_bindSprit'+'e'](_0x5b2339){this['_evtSetMes'+'hes']=_0x5b2339['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x5b2339['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x5b2339['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x5b2339['atlas']&&_0x5b2339['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x9b266d){var _0x586b6f;(_0x586b6f=this['_evtSetMes'+'hes'])==null||_0x586b6f['off'](),this['_evtSetMes'+'hes']=null,_0x9b266d['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x9b266d['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x9b266d['atlas']&&_0x9b266d['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],-0x2f1*0x1+0x1c64+0x5*-0x517,this['_sprite']['frameKeys']['length']-(-0x9bb+0x1391+-0x347*0x3))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==Ti&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x4da524){const _0x1b9aee=this['_spriteAss'+'et'];_0x1b9aee instanceof le?this['_onSpriteA'+'ssetLoad'](_0x1b9aee):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x1b9aee));}['onEnable'](){if(this['_materialA'+'sset']){const _0x1ea833=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x1ea833&&_0x1ea833['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x1ea833);}if(this['_textureAs'+'set']){const _0x4de0bd=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x4de0bd&&_0x4de0bd['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x4de0bd);}if(this['_spriteAss'+'et']){const _0x58d47a=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x58d47a&&_0x58d47a['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x58d47a);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0xb84ef3){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0xb84ef3,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0xb84ef3;let _0x5492e7=0x1357+0xa0a+-0x1d61;if(this['_element']['maskedBy']&&(_0x5492e7=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x369ba2=new qs({'ref':_0x5492e7+(0x1e56+-0x4ee+-0x7*0x3a1),'func':Ch,'zpass':WS});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x369ba2,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x369ba2;}}['_updateRen'+'derableEmi'+'ssive'](){jl['linear'](this['_color']),this['_colorUnif'+'orm'][-0x16a7+-0xa9+0x1750]=jl['r'],this['_colorUnif'+'orm'][0x4b2+0x257d+-0x2a2e]=jl['g'],this['_colorUnif'+'orm'][-0x1e4c+0x1*0x20a3+-0x3*0xc7]=jl['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x41b642){this['_color']===_0x41b642&&v['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x50f84a,g:_0x349d55,b:_0x3f540e}=_0x41b642;(this['_color']['r']!==_0x50f84a||this['_color']['g']!==_0x349d55||this['_color']['b']!==_0x3f540e)&&(this['_color']['r']=_0x50f84a,this['_color']['g']=_0x349d55,this['_color']['b']=_0x3f540e,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x274e23){_0x274e23!==this['_color']['a']&&(this['_color']['a']=_0x274e23,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x274e23)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x274e23);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x10fe77){this['_rect']===_0x10fe77&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0xd6739b,_0x2df507,_0x131e58,_0x24c42b;_0x10fe77 instanceof Q?(_0xd6739b=_0x10fe77['x'],_0x2df507=_0x10fe77['y'],_0x131e58=_0x10fe77['z'],_0x24c42b=_0x10fe77['w']):(_0xd6739b=_0x10fe77[0x6a2+0xad7*0x1+-0x1f1*0x9],_0x2df507=_0x10fe77[0x10f*-0x1+0x10ca*-0x1+0x11da],_0x131e58=_0x10fe77[0x854+-0x1b10*-0x1+-0xe*0x287],_0x24c42b=_0x10fe77[-0x6d1*-0x5+0xd01+-0x2f13]),!(_0xd6739b===this['_rect']['x']&&_0x2df507===this['_rect']['y']&&_0x131e58===this['_rect']['z']&&_0x24c42b===this['_rect']['w'])&&(this['_rect']['set'](_0xd6739b,_0x2df507,_0x131e58,_0x24c42b),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x179f*-0x1+-0x1871+0x3010):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x2ad26a=this['_system']['app']['assets'];_0x2ad26a['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x5805ed=_0x2ad26a['get'](this['_materialA'+'sset']);_0x5805ed&&(_0x5805ed['off']('load',this['_onMateria'+'lLoad'],this),_0x5805ed['off']('change',this['_onMateria'+'lChange'],this),_0x5805ed['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x48a11c){if(this['_material']!==_0x48a11c){if(!_0x48a11c){const _0xe288df=this['_element']['_isScreenS'+'pace']();this['mask']?_0x48a11c=_0xe288df?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x48a11c=_0xe288df?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x48a11c,this['_materialA'+'sset']){const _0x3f9dfd=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x3f9dfd||_0x3f9dfd['resource']!==_0x48a11c)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x48a11c&&(this['_renderabl'+'e']['setMateria'+'l'](_0x48a11c),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x3aae92){const _0x1a2a72=this['_system']['app']['assets'];let _0x3162e5=_0x3aae92;if(_0x3aae92 instanceof le&&(_0x3162e5=_0x3aae92['id']),this['_materialA'+'sset']!==_0x3162e5){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x3162e5,this['_materialA'+'sset']){const _0x2896a0=_0x1a2a72['get'](this['_materialA'+'sset']);_0x2896a0?this['_bindMater'+'ialAsset'](_0x2896a0):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x3162e5,_0x1a2a72['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x3162e5;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x3a13d5){if(this['_texture']!==_0x3a13d5){if(this['_textureAs'+'set']){const _0x6f133e=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x6f133e&&_0x6f133e['resource']!==_0x3a13d5&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x3a13d5,_0x3a13d5){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x439476=this['_texture']['width']/this['_texture']['height'];_0x439476!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x439476,this['_element']['fitMode']!==gh&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(-0x44*0x6e+-0x26cf+-0xe*-0x4dc),this['_element']['fitMode']!==gh&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x3e88d2){const _0x214a34=this['_system']['app']['assets'];let _0x50f6f7=_0x3e88d2;if(_0x3e88d2 instanceof le&&(_0x50f6f7=_0x3e88d2['id']),this['_textureAs'+'set']!==_0x50f6f7){if(this['_textureAs'+'set']){_0x214a34['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x4d045c=_0x214a34['get'](this['_textureAs'+'set']);_0x4d045c&&(_0x4d045c['off']('load',this['_onTexture'+'Load'],this),_0x4d045c['off']('change',this['_onTexture'+'Change'],this),_0x4d045c['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x50f6f7,this['_textureAs'+'set']){const _0x33defc=_0x214a34['get'](this['_textureAs'+'set']);_0x33defc?this['_bindTextu'+'reAsset'](_0x33defc):(this['texture']=null,_0x214a34['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x4531b7){const _0x4af557=this['_system']['app']['assets'];let _0x21ed78=_0x4531b7;if(_0x4531b7 instanceof le&&(_0x21ed78=_0x4531b7['id']),this['_spriteAss'+'et']!==_0x21ed78){if(this['_spriteAss'+'et']){_0x4af557['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x102851=_0x4af557['get'](this['_spriteAss'+'et']);_0x102851&&this['_unbindSpr'+'iteAsset'](_0x102851);}if(this['_spriteAss'+'et']=_0x21ed78,this['_spriteAss'+'et']){const _0x14c60b=_0x4af557['get'](this['_spriteAss'+'et']);_0x14c60b?this['_bindSprit'+'eAsset'](_0x14c60b):(this['sprite']=null,_0x4af557['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x21ed78);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x857fe7){if(this['_sprite']!==_0x857fe7){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x2d78cb=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x2d78cb&&_0x2d78cb['resource']!==_0x857fe7&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x857fe7,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],0x1*0x1eb7+-0x25f*-0x4+-0xfb*0x29,this['_sprite']['frameKeys']['length']-(0x1439+-0xce3+-0x755))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0xa88b0b){const _0x580260=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=N['clamp'](_0xa88b0b,0xe1*-0x11+0xa74+0x47d,this['_sprite']['frameKeys']['length']-(-0x2305+-0xb*0xe9+0x2d09)):this['_spriteFra'+'me']=_0xa88b0b,this['_spriteFra'+'me']!==_0x580260&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0xa88b0b);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x3425ba){this['_renderabl'+'e']['setMesh'](_0x3425ba),this['_defaultMe'+'sh']===_0x3425ba?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x5a37ab){this['_mask']!==_0x5a37ab&&(this['_mask']=_0x5a37ab,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0xf05350){this['_pixelsPer'+'Unit']!==_0xf05350&&(this['_pixelsPer'+'Unit']=_0xf05350,this['_sprite']&&(this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class gR extends ce{constructor(_0x445df6){super(),this['_app']=_0x445df6,_0x445df6['i18n']['on']('set:locale',this['_onSetLoca'+'le'],this),this['_autoLoad']=!(0x13*0x75+0x8*0x21a+0xfb*-0x1a),this['_disableLo'+'calization']=!(-0x3*0x249+-0x1*-0x121d+-0xb41),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x5433a5){const _0x99c73a=_0x5433a5 instanceof le?_0x5433a5['id']:_0x5433a5;this['_defaultAs'+'set']!==_0x99c73a&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x99c73a,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x26160f){const _0x346f60=_0x26160f instanceof le?_0x26160f['id']:_0x26160f;this['_localized'+'Asset']!==_0x346f60&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x346f60,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x198809){this['_autoLoad']!==_0x198809&&(this['_autoLoad']=_0x198809,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x46bdd0){this['_disableLo'+'calization']!==_0x46bdd0&&(this['_disableLo'+'calization']=_0x46bdd0,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0xaa0fdc=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0xaa0fdc?this['_onDefault'+'AssetAdd'](_0xaa0fdc):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x16d274=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x16d274&&(_0x16d274['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x16d274['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x16d274['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x23e289){this['_defaultAs'+'set']===_0x23e289['id']&&(_0x23e289['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x23e289['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x23e289['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x26acc3){this['_defaultAs'+'set']===_0x26acc3['id']&&(_0x26acc3['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x26acc3['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x34c3ff=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x34c3ff&&(_0x34c3ff['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x34c3ff['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x34c3ff['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x34c3ff['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x34c3ff):this['_app']['assets']['load'](_0x34c3ff));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x4d53f6=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x4d53f6&&(_0x4d53f6['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x4d53f6['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x4d53f6['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x4fee47){this['_localized'+'Asset']===_0x4fee47['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0xaa12a3){this['fire']('load',_0xaa12a3);}['_onLocaliz'+'edAssetCha'+'nge'](_0xfa939e,_0x476b85,_0x4be4d7,_0x52c862){this['fire']('change',_0xfa939e,_0x476b85,_0x4be4d7,_0x52c862);}['_onLocaliz'+'edAssetRem'+'ove'](_0x385c0a){this['_localized'+'Asset']===_0x385c0a['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x385c0a);}['_onLocaleA'+'dd'](_0x7c2dba,_0x5bda25){this['_app']['i18n']['locale']===_0x7c2dba&&this['_onSetLoca'+'le'](_0x7c2dba);}['_onLocaleR'+'emove'](_0xaa4c67,_0x2face3){this['_app']['i18n']['locale']===_0xaa4c67&&this['_onSetLoca'+'le'](_0xaa4c67);}['_onSetLoca'+'le'](_0x1445c4){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x261705=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x261705||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x4f7db9=_0x261705['getLocaliz'+'edAssetId'](_0x1445c4);if(!_0x4f7db9){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x4f7db9;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off']('set:locale',this['_onSetLoca'+'le'],this),this['off']();}}const Kh='msdf',yR='bitmap',ho=0x31*0x9d+0x137*-0x1b+0x2*0x160,Kn=-0x250a+-0x126f+0x377a,of=0xe5c*0x1+-0xbfd+-0x25d,ix=-0x2089+0x6bd*0x2+0x1312*0x1,lf=-0x8*-0x2+-0x1e09+0x9*0x355,hf=-0x1444*0x1+0x119c+0x89*0x5,cf=-0x1f*-0x44+0xd*-0x1a6+0xd38,df=-0x1003+-0x961*0x1+-0x1*-0x196b,dg=-0x13e+-0x169*0x1b+-0x2759*-0x1,xR='\x20\x09\x0a\x0d\x0b\x0c',SR=/[\w|/]/;class vR{constructor(_0x3bb8e0){this['_symbols']=_0x3bb8e0,this['_index']=-0x1d34+-0x189b+0x35cf,this['_last']=-0xf*0x179+0xe5*-0x17+-0x1*-0x2aaa,this['_cur']=this['_symbols']['length']>0x1464+0x1dce+-0xa0a*0x5?this['_symbols'][0x184e+-0x21*-0x21+-0x1*0x1c8f]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x229c3d=this['_read']();for(;_0x229c3d===dg;)_0x229c3d=this['_read']();return _0x229c3d!==ho&&_0x229c3d!==Kn&&(this['_last']=this['_index']),_0x229c3d;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x25e960=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x40720a=this['read'](),_0x22ba7d='';for(;_0x22ba7d+=(_0x22ba7d['length']>-0x245d+0x1e7*0x14+0x1af*-0x1?'\x0a':'')+_0x25e960[_0x40720a]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x40720a===ho||_0x40720a===Kn);)_0x40720a=this['read']();return _0x22ba7d;}['_read'](){return this['_buf']=[],this['_eof']()?ho:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>-0x2174*0x1+0x12ae*0x2+-0x32*0x14?of:ho;case'[':return this['_mode']='tag',this['_buf']['length']>0x184b+-0x3*-0xb5+-0x1a6a?of:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',Kn;case'[':return this['_store'](),ix;case']':return this['_store'](),this['_mode']='text',lf;case'=':return this['_store'](),hf;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',Kn);}}['_whitespac'+'e'](){for(this['_store']();xR['indexOf'](this['_cur'])!==-(-0x1de6+-0x1a35*-0x1+0x1*0x3b2);)this['_store']();return dg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',Kn;case'\x22':return this['_next'](),cf;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return df;}['_isIdentif'+'ierSymbol'](_0x1bcc7a){return _0x1bcc7a['length']===-0x1*-0x20a2+0x1*-0x168e+-0xa13&&_0x1bcc7a['match'](SR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0xbfa7ca){this['_buf']['push'](_0xbfa7ca);}}class bR{constructor(_0x118ec1){this['_scanner']=new vR(_0x118ec1),this['_error']=null;}['parse'](_0x4e8923,_0x189ad1){for(;;)switch(this['_scanner']['read']()){case ho:return!(-0x1*0x16ba+0xea5+0x815*0x1);case Kn:return!(-0x207e+0x91d*0x4+-0x1*0x3f5);case of:Array['prototype']['push']['apply'](_0x4e8923,this['_scanner']['buf']());break;case ix:if(!this['_parseTag'](_0x4e8923,_0x189ad1))return!(0x379*-0x7+0x6a+0xa1*0x26);break;default:return!(-0x176b+-0x406+0x1b72);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x4a8c04,_0x3a4660){let _0x45896a=this['_scanner']['read']();if(_0x45896a!==df)return this['_error']='expected\x20i'+'dentifier',!(0x4*-0x209+0x13*0x1b7+0xc38*-0x2);const _0x3c51c7=this['_scanner']['buf']()['join']('');if(_0x3c51c7[0x2320*-0x1+0xfbc+0x1364]==='/'){for(let _0x135289=_0x3a4660['length']-(-0x1*0x1420+-0x7*0x10d+0x1b7c);_0x135289>=-0x11a5+0xaa9*-0x1+0x1c4e;--_0x135289)if(_0x3c51c7==='/'+_0x3a4660[_0x135289]['name']&&_0x3a4660[_0x135289]['end']===null)return _0x3a4660[_0x135289]['end']=_0x4a8c04['length'],_0x45896a=this['_scanner']['read'](),_0x45896a!==lf?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(0x1101*0x1+0x40*-0x40+-0x10*0x10)):!(0x6e8+0xd5*0x8+0x364*-0x4);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(0x25c0+-0x5*0x47f+-0xf44);}const _0x1a3aaf={'name':_0x3c51c7,'value':null,'attributes':{},'start':_0x4a8c04['length'],'end':null};if(_0x45896a=this['_scanner']['read'](),_0x45896a===hf){if(_0x45896a=this['_scanner']['read'](),_0x45896a!==cf)return this['_error']='expected\x20s'+'tring',!(-0x2*-0x6da+-0x37*-0x61+-0x1*0x228a);_0x1a3aaf['value']=this['_scanner']['buf']()['join'](''),_0x45896a=this['_scanner']['read']();}for(;;){switch(_0x45896a){case lf:return _0x3a4660['push'](_0x1a3aaf),!(0x150e+-0x2*-0x8bd+-0x2688);case df:{const _0x14333c=this['_scanner']['buf']()['join']('');if(_0x45896a=this['_scanner']['read'](),_0x45896a!==hf)return this['_error']='expected\x20e'+'quals',!(0x18de+-0x1d90+0x4b3);if(_0x45896a=this['_scanner']['read'](),_0x45896a!==cf)return this['_error']='expected\x20s'+'tring',!(0x1*0x9c8+-0x1e*-0x116+0x7*-0x60d);const _0x398a21=this['_scanner']['buf']()['join']('');_0x1a3aaf['attributes'][_0x14333c]=_0x398a21;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(-0x252f+-0x246e+-0x9*-0x82e);}_0x45896a=this['_scanner']['read']();}}}function rx(_0x1dd326,_0x2747b7){for(const _0x365930 in _0x2747b7){if(!_0x2747b7['hasOwnProp'+'erty'](_0x365930))continue;const _0x3fd711=_0x2747b7[_0x365930];_0x3fd711 instanceof Object?(_0x1dd326['hasOwnProp'+'erty'](_0x365930)||(_0x1dd326[_0x365930]={}),rx(_0x1dd326[_0x365930],_0x2747b7[_0x365930])):_0x1dd326[_0x365930]=_0x3fd711;}}function wR(_0x486336){if(_0x486336['length']===0x1*0x1f3c+-0x2*-0x584+-0x1*0x2a44)return null;const _0x3042a0={};for(let _0x106595=0xf23+-0x1f4*-0x5+-0x84d*0x3;_0x106595<_0x486336['length'];++_0x106595){const _0x1e280a=_0x486336[_0x106595],_0x2422d2={};_0x2422d2[_0x1e280a['name']]={'value':_0x1e280a['value'],'attributes':_0x1e280a['attributes']},rx(_0x3042a0,_0x2422d2);}return _0x3042a0;}function TR(_0x40a7f4,_0x4bafa7){if(_0x40a7f4['length']===-0xa6a+0x93*0x38+-0x15be)return null;const _0x472a49={};for(let _0x245353=0xd45+-0xa2*0x1+-0xca3;_0x245353<_0x40a7f4['length'];++_0x245353){const _0x4dcaf5=_0x40a7f4[_0x245353];_0x472a49['hasOwnProp'+'erty'](_0x4dcaf5['start'])?_0x472a49[_0x4dcaf5['start']]['open']===null?_0x472a49[_0x4dcaf5['start']]['open']=[_0x4dcaf5]:_0x472a49[_0x4dcaf5['start']]['open']['push'](_0x4dcaf5):_0x472a49[_0x4dcaf5['start']]={'open':[_0x4dcaf5],'close':null},_0x472a49['hasOwnProp'+'erty'](_0x4dcaf5['end'])?_0x472a49[_0x4dcaf5['end']]['close']===null?_0x472a49[_0x4dcaf5['end']]['close']=[_0x4dcaf5]:_0x472a49[_0x4dcaf5['end']]['close']['push'](_0x4dcaf5):_0x472a49[_0x4dcaf5['end']]={'open':null,'close':[_0x4dcaf5]};}let _0x3d8f52=[];function _0x213a96(_0xacb77a){_0x3d8f52=_0x3d8f52['filter'](_0x523ebf=>_0xacb77a['find'](_0x1d5602=>_0x1d5602===_0x523ebf)===void(-0x2179+-0x268d+0x525*0xe));}function _0xc67033(_0x47d9b6){for(let _0x21271a=0x2*-0x299+-0x1*-0x18d9+-0x3*0x68d;_0x21271a<_0x47d9b6['length'];++_0x21271a)_0x3d8f52['push'](_0x47d9b6[_0x21271a]);}const _0x12e38c=Object['keys'](_0x472a49)['sort']((_0x49a77c,_0xfa08b4)=>_0x49a77c-_0xfa08b4),_0x54defc=[];for(let _0x4aedfa=0x1*0x74b+-0x12b3+0xb68;_0x4aedfa<_0x12e38c['length'];++_0x4aedfa){const _0x778517=_0x472a49[_0x12e38c[_0x4aedfa]];_0x778517['close']!==null&&_0x213a96(_0x778517['close']),_0x778517['open']!==null&&_0xc67033(_0x778517['open']),_0x54defc['push']({'start':_0x12e38c[_0x4aedfa],'tags':wR(_0x3d8f52)});}const _0x2a5ac4=[];let _0x3c965b=null;for(let _0x5691cc=0x87*0x2+0x29*-0x3b+-0x1*-0x865;_0x5691cc<_0x54defc['length'];++_0x5691cc){const _0x463616=_0x54defc[_0x5691cc];for(;_0x2a5ac4['length']<_0x463616['start'];)_0x2a5ac4['push'](_0x3c965b?_0x3c965b['tags']:null);_0x3c965b=_0x463616;}for(;_0x2a5ac4['length']<_0x4bafa7;)_0x2a5ac4['push'](null);return _0x2a5ac4;}function AR(_0x4e0e91){const _0x4bfc47=new bR(_0x4e0e91),_0x2bdda9=[],_0x101ecb=[];if(!_0x4bfc47['parse'](_0x2bdda9,_0x101ecb))return console['warn'](_0x4bfc47['error']()),{'symbols':_0x4e0e91,'tags':null};const _0x42cc75=_0x101ecb['find'](_0x34c044=>_0x34c044['end']===null);if(_0x42cc75)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x42cc75['name']+'\x27'),{'symbols':_0x4e0e91,'tags':null};const _0x445bdd=TR(_0x101ecb,_0x2bdda9['length']);return{'symbols':_0x2bdda9,'tags':_0x445bdd};}class ER{static['evaluate'](_0x128ac0){return AR(_0x128ac0);}}class CR{constructor(){this['count']=-0x32d*0xb+-0x1e71+0x20b0*0x2,this['quad']=0x5c*-0x5+-0x1*-0x15df+-0x1413,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function MR(_0x2c6566,_0x160929){const _0x4960e4=new Ie(_0x2c6566);return _0x4960e4['setPositio'+'ns'](_0x160929['positions']),_0x4960e4['setNormals'](_0x160929['normals']),_0x4960e4['setColors3'+'2'](_0x160929['colors']),_0x4960e4['setUvs'](-0xc5+0x7*0x178+0x1*-0x983,_0x160929['uvs']),_0x4960e4['setIndices'](_0x160929['indices']),_0x4960e4['setVertexS'+'tream'](Po,_0x160929['outlines'],-0x1*-0x17d5+-0x1a44+0x272,void(-0x1*0x192b+0x581*-0x3+-0xc2*-0x37),Ee,!(-0xe*0x94+0xae6+0x3*-0xef)),_0x4960e4['setVertexS'+'tream'](Ro,_0x160929['shadows'],0x144+-0x26d2+0x2591*0x1,void(0x2699+-0x192e+0x5*-0x2af),Ee,!(-0x18*-0x158+0x1*-0x2216+0x9d*0x3)),_0x4960e4['update'](),_0x4960e4;}const ug=/^[\r\n]$/,PR=/^[ \t]$/,fg=/^[ \t\-]|\u200b$/,RR=/^[a-z0-9]$/i,pg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,IR=/^[]$/,DR=['','','','','','','','','','','','',''],LR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},mg=new Y(),FR=new W(),Me=new Y();class OR{constructor(_0x1ceb40){this['_element']=_0x1ceb40,this['_system']=_0x1ceb40['system'],this['_entity']=_0x1ceb40['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new gR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(-0x4*-0x52f+-0x22a2+0xde6),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new Y(0x573+-0x1*0x1dd1+0x185f,0x1e89+-0x5*0x7ca+0x167*0x6,-0xb13+-0xf9*-0x1e+-0x14b*0xe,0x13d+-0x2a9+-0x49*-0x5),this['_colorUnif'+'orm']=new Float32Array(-0x18ef+0x160a+-0x2e8*-0x1),this['_spacing']=-0x1709+0x1cce+-0x5c4,this['_fontSize']=0xad*-0x19+0x23ac*0x1+-0x12a7,this['_fontMinY']=0x1*0x1475+0x236b*-0x1+0xef6,this['_fontMaxY']=-0x1*-0x12b9+-0x20*0x49+-0x999,this['_originalF'+'ontSize']=0x6c8+0x2133+-0x27db,this['_maxFontSi'+'ze']=0x197+0x2017+-0x218e,this['_minFontSi'+'ze']=0x1*-0x103d+-0x1*-0x149a+-0x455,this['_autoFitWi'+'dth']=!(0x550+-0x1964+0x1415),this['_autoFitHe'+'ight']=!(0x113a+0x2*-0xc8e+-0x3*-0x2a1),this['_maxLines']=-(0x2f8*-0x7+-0x17*-0xce+0x247),this['_lineHeigh'+'t']=-0xfc8*-0x1+-0x59+-0xf4f,this['_scaledLin'+'eHeight']=0x196+0x3*0x4e8+-0x102e,this['_wrapLines']=!(0x103f+-0x3*-0x9d5+-0x2dbd),this['_drawOrder']=-0x12e9+0x1c3+-0x5*-0x36e,this['_alignment']=new W(0x2340+-0x19f0+-0x2*0x4a8+0.5,0x4*0x76d+0x2e9*0xb+-0x1ab*0x25+0.5),this['_autoWidth']=!(-0x23e*0x8+-0xe97+0x1*0x2087),this['_autoHeigh'+'t']=!(0x5a5*0x2+0x1ef9+0x2a43*-0x1),this['width']=-0x3*-0x554+0xc0c+0x6*-0x4ac,this['height']=0x21e7+-0x20e5+-0x102,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(0x5a*0x3b+0xa*-0x1fd+0x5*-0x2c),this['_aabb']=new _e(),this['_noResize']=!(-0x2*0x10b1+0x7*0x4dc+-0xa1),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(-0x149a+0xd51+0x74a),this['_unicodeCo'+'nverter']=!(-0x760+-0x269*0x7+0x1840),this['_rtl']=!(-0x2*-0x6f1+0x142b+-0x220c),this['_outlineCo'+'lor']=new Y(-0x2e9+-0x1286+-0x1*-0x156f,0x1b8b*0x1+0x25e*0x1+-0xf7*0x1f,-0x650+-0x425*0x9+0x8b9*0x5,-0x13c0+-0x2091+0x3452),this['_outlineCo'+'lorUniform']=new Float32Array(0x1*-0x13b5+0x49*0x2d+-0x24*-0x31),this['_outlineTh'+'icknessSca'+'le']=0x59*-0x51+-0x15b*0x7+0x25a6+0.2,this['_outlineTh'+'ickness']=-0x16*0x16c+-0x20b3+0x3ffb,this['_shadowCol'+'or']=new Y(0x2*0xa2a+-0x2422+0xfce,0x222+0x315*-0xb+0x1fc5,-0x1*-0x814+0x1455+-0x1c69,-0x50e+-0xb*-0x281+-0xb3e*0x2),this['_shadowCol'+'orUniform']=new Float32Array(0x7a*0x1+-0x168+0xf2),this['_shadowOff'+'setScale']=-0x15e7+0xc9a*-0x1+-0xb*-0x323+0.005,this['_shadowOff'+'set']=new W(-0x4db+0x43*-0x87+0x10*0x283,-0x1*-0x189+-0x24ef+-0x2366*-0x1),this['_shadowOff'+'setUniform']=new Float32Array(0x1*0xac6+-0xd3*0x1+-0x9f1*0x1),this['_enableMar'+'kup']=!(-0x29*0x81+-0xb6d+0x2017),this['_onScreenC'+'hange'](this['_element']['screen']),_0x1ceb40['on']('resize',this['_onParentR'+'esize'],this),_0x1ceb40['on']('set:screen',this['_onScreenC'+'hange'],this),_0x1ceb40['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x1ceb40['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x1ceb40['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=-0x923*0x2+0x167f+-0x2f*0x17,this['_rangeEnd']=-0x1*0x212e+-0x11fa+0x1*0x3328;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x2e7c6f,_0x1cabf3){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0xa9c410){_0xa9c410?this['_updateMat'+'erial'](_0xa9c410['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x3*-0x142+-0x13*0x16f+0xa*0x31a));}['_onScreenS'+'paceChange'](_0x3fcf35){this['_updateMat'+'erial'](_0x3fcf35);}['_onDrawOrd'+'erChange'](_0x3b6384){if(this['_drawOrder']=_0x3b6384,this['_model']){for(let _0x1c65fc=0x26bb+0x1bd8+-0x4293,_0x4dc742=this['_model']['meshInstan'+'ces']['length'];_0x1c65fc<_0x4dc742;_0x1c65fc++)this['_model']['meshInstan'+'ces'][_0x1c65fc]['drawOrder']=_0x3b6384;}}['_onPivotCh'+'ange'](_0x3cf692){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x2c8827){if(this['_i18nKey']){if(this['fontAsset']){const _0x7ed2d1=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x7ed2d1||!_0x7ed2d1['resource']||_0x7ed2d1['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x319ea8,_0x434405){this['_i18nKey']&&_0x434405[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x3c0617){if(this['unicodeCon'+'verter']){const _0x5d0cb6=this['_system']['getUnicode'+'Converter']();_0x5d0cb6?_0x3c0617=_0x5d0cb6(_0x3c0617):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x3c0617&&(this['_font']&&this['_updateTex'+'t'](_0x3c0617),this['_text']=_0x3c0617);}['_updateTex'+'t'](_0x4f1a11){let _0x403f5a;if(_0x4f1a11===void(0x61*-0x1d+-0x22d5+-0x11*-0x2b2)&&(_0x4f1a11=this['_text']),this['_symbols']=ah['getSymbols'](_0x4f1a11['normalize']?_0x4f1a11['normalize']('NFC'):_0x4f1a11),this['_symbols']['length']===0xd*0x2fd+0x1*0x1a2f+0x1*-0x4108&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x3ebcfc=ER['evaluate'](this['_symbols']);this['_symbols']=_0x3ebcfc['symbols'],_0x403f5a=_0x3ebcfc['tags']||[];}if(this['_rtlReorde'+'r']){const _0x16fff1=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x16fff1){const _0x17650c=_0x16fff1(this['_symbols']);this['_rtl']=_0x17650c['rtl'],this['_symbols']=_0x17650c['mapping']['map'](function(_0x503b6a){return this['_symbols'][_0x503b6a];},this),_0x403f5a&&(_0x403f5a=_0x17650c['mapping']['map'](_0x57f70e=>_0x403f5a[_0x57f70e]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(0x3c3+0x1*-0x819+0x1*0x457);const _0x3d77f1=(_0x5c7aae,_0x23c093)=>_0x5c7aae['toString'](!(-0x28*0x32+-0x2*0x739+0x1642))['toLowerCas'+'e']()+':'+_0x23c093['toFixed'](-0x16e1*0x1+0x136b+0x4*0xde),_0x38ca7e=(_0x162aca,_0x20ef0c)=>_0x162aca['toString'](!(-0x1e35+0x3fb*-0x8+-0x3*-0x14af))['toLowerCas'+'e']()+':'+_0x20ef0c['x']['toFixed'](-0xd*0xbe+0x1*-0xeee+0x1896)+':'+_0x20ef0c['y']['toFixed'](-0x1787+0x1783+-0x6*-0x1);if(_0x403f5a){const _0x2e9653={},_0x4e537b={},_0x446d21={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(-0x47b*0x7+0x2*0xc23+0x816)),Math['round'](this['_color']['g']*(0x9*-0x5a+-0x3e*0x6a+0x1dd5)),Math['round'](this['_color']['b']*(0x9e*0x12+0x1*-0x1a76+-0x1d1*-0x9))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(-0x9e*0x20+0x26ff+0x40*-0x49)),Math['round'](this['_outlineCo'+'lor']['g']*(0x218c+0xd94*-0x1+-0x12f9)),Math['round'](this['_outlineCo'+'lor']['b']*(0x127+0x1*-0x6b1+0x1*0x689)),Math['round'](this['_outlineCo'+'lor']['a']*(-0x5c*-0x26+-0x1a84+0x1*0xddb)),Math['round'](this['_outlineTh'+'ickness']*(0xb*0x1b6+-0x3*-0xb39+-0x337e))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(0x1*0x19e5+-0x84a*0x1+-0x109c)),Math['round'](this['_shadowCol'+'or']['g']*(-0x1*0x1b9+-0x25a3+0x285b)),Math['round'](this['_shadowCol'+'or']['b']*(-0x1d*-0x8b+0x115*-0x23+0x171f)),Math['round'](this['_shadowCol'+'or']['a']*(-0x1667*-0x1+-0xf50+0x208*-0x3)),Math['round'](this['_shadowOff'+'set']['x']*(0x187c*-0x1+0x81*-0x41+0x39bc)),Math['round'](this['_shadowOff'+'set']['y']*(-0x22a*0x8+0x26*-0x60+0x200f))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x2e9653[this['_color']['toString'](!(0x413+0x1*-0x1345+0x3*0x511))['toLowerCas'+'e']()]=0x1*-0xaeb+-0x2f*-0x2+0xa8d,_0x4e537b[_0x3d77f1(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=0xe*0xdd+0x215a*-0x1+-0xaa2*-0x2,_0x446d21[_0x38ca7e(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=0x4*-0x23f+-0x1f35+0x2831;for(let _0x3c94c2=0x7b5*0x4+0xa9c+-0x2970,_0x133afc=this['_symbols']['length'];_0x3c94c2<_0x133afc;++_0x3c94c2){const _0x13230b=_0x403f5a[_0x3c94c2];let _0x5d1b7c=0x15f*-0xd+0x1a51+-0x87e;if(_0x13230b&&_0x13230b['color']&&_0x13230b['color']['value']){const _0x1eedc2=_0x13230b['color']['value'];if(_0x1eedc2['length']===0x117e*0x1+-0x81*-0x3a+0x2eb1*-0x1&&_0x1eedc2[-0x6b7+0x1*0x4a+0x66d]==='#'){const _0x112788=_0x1eedc2['substring'](0x15be+-0x1c8+-0xd*0x189)['toLowerCas'+'e']();_0x2e9653['hasOwnProp'+'erty'](_0x112788)?_0x5d1b7c=_0x2e9653[_0x112788]:/^[0-9a-f]{6}$/['test'](_0x112788)&&(_0x5d1b7c=this['_colorPale'+'tte']['length']/(-0x19fd*-0x1+-0x21cd+0x7d3),_0x2e9653[_0x112788]=_0x5d1b7c,this['_colorPale'+'tte']['push'](parseInt(_0x112788['substring'](0xc5b*0x3+-0x1*0xe98+-0x1679,-0x4*0x8f+0x21d+0x21),0x23a*0x7+-0x1772+0x7ec)),this['_colorPale'+'tte']['push'](parseInt(_0x112788['substring'](0x246d+0x19a9*-0x1+-0xac2,0x73*-0x2f+-0xf09+0x1215*0x2),0x1bd7*0x1+0xda3*-0x2+-0x81)),this['_colorPale'+'tte']['push'](parseInt(_0x112788['substring'](0x1540+-0x1ea6+0x5*0x1e2,-0x2db*0x9+0x2197*-0x1+0x3b50),0x256c+0xb08+-0x3064)));}}this['_symbolCol'+'ors']['push'](_0x5d1b7c);let _0x45024=-0x2e7*-0x8+-0x1*0xd1f+-0x205*0x5;if(_0x13230b&&_0x13230b['outline']&&(_0x13230b['outline']['attributes']['color']||_0x13230b['outline']['attributes']['thickness'])){let _0x2baf24=_0x13230b['outline']['attributes']['color']?mg['fromString'](_0x13230b['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x41f75a=Number(_0x13230b['outline']['attributes']['thickness']);(Number['isNaN'](_0x2baf24['r'])||Number['isNaN'](_0x2baf24['g'])||Number['isNaN'](_0x2baf24['b'])||Number['isNaN'](_0x2baf24['a']))&&(_0x2baf24=this['_outlineCo'+'lor']),Number['isNaN'](_0x41f75a)&&(_0x41f75a=this['_outlineTh'+'ickness']);const _0x55de33=_0x3d77f1(_0x2baf24,_0x41f75a);_0x4e537b['hasOwnProp'+'erty'](_0x55de33)?_0x45024=_0x4e537b[_0x55de33]:(_0x45024=this['_outlinePa'+'lette']['length']/(0x7d*0x1+0x2b*0xad+-0x1d87),_0x4e537b[_0x55de33]=_0x45024,this['_outlinePa'+'lette']['push'](Math['round'](_0x2baf24['r']*(-0x1*0x1c1+0x9*-0x443+0x291b)),Math['round'](_0x2baf24['g']*(-0x24c4+-0x199b+0x1*0x3f5e)),Math['round'](_0x2baf24['b']*(0x1b4f+0x124+-0x1c*0xfb)),Math['round'](_0x2baf24['a']*(-0x233*-0x2+-0xcf7*0x1+0x99*0x10)),Math['round'](_0x41f75a*(-0x70*-0x42+0x114e+-0x1*0x2d2f))));}this['_symbolOut'+'lineParams']['push'](_0x45024);let _0x163277=-0x1323*-0x2+0x1027*-0x2+0x4*-0x17e;if(_0x13230b&&_0x13230b['shadow']&&(_0x13230b['shadow']['attributes']['color']||_0x13230b['shadow']['attributes']['offset']||_0x13230b['shadow']['attributes']['offsetX']||_0x13230b['shadow']['attributes']['offsetY'])){let _0x4e8560=_0x13230b['shadow']['attributes']['color']?mg['fromString'](_0x13230b['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x47424f=Number(_0x13230b['shadow']['attributes']['offset']),_0xee2eb8=Number(_0x13230b['shadow']['attributes']['offsetX']),_0x3ff832=Number(_0x13230b['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x4e8560['r'])||Number['isNaN'](_0x4e8560['g'])||Number['isNaN'](_0x4e8560['b'])||Number['isNaN'](_0x4e8560['a']))&&(_0x4e8560=this['_shadowCol'+'or']);const _0x4cd94b=FR['set'](Number['isNaN'](_0xee2eb8)?Number['isNaN'](_0x47424f)?this['_shadowOff'+'set']['x']:_0x47424f:_0xee2eb8,Number['isNaN'](_0x3ff832)?Number['isNaN'](_0x47424f)?this['_shadowOff'+'set']['y']:_0x47424f:_0x3ff832),_0xb0011f=_0x38ca7e(_0x4e8560,_0x4cd94b);_0x446d21['hasOwnProp'+'erty'](_0xb0011f)?_0x163277=_0x446d21[_0xb0011f]:(_0x163277=this['_shadowPal'+'ette']['length']/(0xb*-0x77+0x32e+-0xa7*-0x3),_0x446d21[_0xb0011f]=_0x163277,this['_shadowPal'+'ette']['push'](Math['round'](_0x4e8560['r']*(0x17d9+0xe8f*-0x1+0xb*-0xc1)),Math['round'](_0x4e8560['g']*(0x32*-0x43+-0xbd7*0x3+0x319a)),Math['round'](_0x4e8560['b']*(-0x23ac+-0x1e86*-0x1+0x625)),Math['round'](_0x4e8560['a']*(0x226c+0x1728+-0x1*0x3895)),Math['round'](_0x4cd94b['x']*(-0xc2*0x18+0x1*-0x1795+0x2a44)),Math['round'](_0x4cd94b['y']*(0x1509+-0x5*-0x2+0xc*-0x1b7))));}this['_symbolSha'+'dowParams']['push'](_0x163277);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x566c16=this['_calculate'+'CharsPerTe'+'xture']();let _0x3dece2=!(0x2672*0x1+-0x5*0x2fb+-0x178a);const _0x318601=this['_element'],_0x57297c=_0x318601['_isScreenS'+'pace'](),_0x104ac5=_0x318601['_isScreenC'+'ulled'](),_0x1da705=function(_0xd9b943){return _0x318601['isVisibleF'+'orCamera'](_0xd9b943);};for(let _0x2f82ee=-0x2175+-0x17a3+0x3918,_0x4d7ecb=this['_meshInfo']['length'];_0x2f82ee<_0x4d7ecb;_0x2f82ee++){const _0x284967=_0x566c16[_0x2f82ee]||0x6*0x55f+-0x183+-0x1eb7*0x1,_0x57b421=this['_meshInfo'][_0x2f82ee];if(_0x57b421['count']!==_0x284967){if(_0x3dece2||(_0x318601['removeMode'+'lFromLayer'+'s'](this['_model']),_0x3dece2=!(-0xa8*-0x30+0x206+-0x2186)),_0x57b421['count']=_0x284967,_0x57b421['positions']['length']=_0x57b421['normals']['length']=_0x284967*(-0x1*-0xa63+0x1*0x73+-0xad3)*(-0x47a+0x646+-0x6*0x4c),_0x57b421['indices']['length']=_0x284967*(0x121d*0x2+-0x4*-0x416+-0x348f)*(-0x25f5+-0x21c6+-0x1*-0x47bd),_0x57b421['uvs']['length']=_0x284967*(-0x37*0x3b+-0xc6d*0x1+0x191c)*(0x287*-0x2+-0x1346+0x1858),_0x57b421['colors']['length']=_0x284967*(0x1cd3+-0x1291*-0x1+-0x2*0x17b0)*(-0x20fa+0x1*-0x267b+0x39*0x141),_0x57b421['outlines']['length']=_0x284967*(0xfa7*0x2+0x29*0x47+-0x2aa9)*(0x864+0x16*0xc5+-0x194f),_0x57b421['shadows']['length']=_0x284967*(-0x2389*0x1+0x126*0x15+0xb6f)*(-0xcc7+-0x1155+0x1e1f),_0x57b421['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x57b421['meshInstan'+'ce']),_0x284967===-0xb7*-0xc+0xa*0xa7+-0x1*0xf1a){_0x57b421['meshInstan'+'ce']=null;continue;}for(let _0x23ea72=0x1*-0x193f+-0x3*-0x3c1+0xdfc;_0x23ea72<_0x284967;_0x23ea72++)_0x57b421['indices'][_0x23ea72*(0x17d5+0x26*0x69+-0x2768)*(-0x1992+-0x3c+0x38*0x76)+(-0x2*0x85d+0x53b+0x1b*0x6d)]=_0x23ea72*(0xde7+-0x981+-0x462),_0x57b421['indices'][_0x23ea72*(-0x20c1+-0x220d*-0x1+-0x149)*(0x116f+-0x1bcb*0x1+0xa5e)+(-0x2e8*-0x2+0xaa1+-0x8*0x20e)]=_0x23ea72*(-0x1ef*0x12+0x1*0x47b+0x1e57)+(-0x2170+-0x265b+0x47cc),_0x57b421['indices'][_0x23ea72*(-0xa97+0x25*0xe9+-0x7b1*0x3)*(-0x6*-0x1e0+0x2*0x39a+0x313*-0x6)+(0x6f+-0x125*0x15+0x179c)]=_0x23ea72*(0x1484+-0x369*0x7+-0x1*-0x35f)+(0x1719+-0x1*-0x208e+-0x37a4),_0x57b421['indices'][_0x23ea72*(0x14a1+-0x1874+-0x3d6*-0x1)*(0x1*-0x21a1+0x1aec*-0x1+0x3c8f)+(-0x129b+0x10f3+-0x3d*-0x7)]=_0x23ea72*(-0x2e5+-0x54*-0x29+-0xa8b*0x1)+(-0x1*0x219a+0x1178*0x2+0xaa*-0x2),_0x57b421['indices'][_0x23ea72*(-0xc9e+-0x1480+-0xb0b*-0x3)*(0x1*0x598+-0x1f94+0x1*0x19fe)+(0x133f*0x1+0x121d*-0x1+0x16*-0xd)]=_0x23ea72*(0x195c+0x200f+0xb7b*-0x5)+(0x27a+-0x2e0+-0x1*-0x69),_0x57b421['indices'][_0x23ea72*(-0x24ff+0x171a+0xde8)*(0x7bd+0x20c*-0x4+0x75)+(0x1*0xd59+0x21ff+0x2f53*-0x1)]=_0x23ea72*(0x2*-0x886+-0x2569+0x3679)+(0x23a6+-0x49d+-0x1f08),_0x57b421['normals'][_0x23ea72*(-0x3*-0x767+-0x1947+0x316)*(-0x26*-0xad+0x20b*0x1+0xddb*-0x2)+(0x247f+-0x1471+-0x5*0x336)]=0xe45+-0x2bd+-0xb88,_0x57b421['normals'][_0x23ea72*(-0x5c3+-0x1f90+0x2557)*(-0x88*0x35+-0x9b*0x21+0x1*0x3026)+(-0x1*-0x807+-0x3bd+-0x1*0x449)]=-0x575+-0x1bbf+0x2134,_0x57b421['normals'][_0x23ea72*(-0x480+-0x2*-0xa8d+-0xb*0x182)*(0x8ae*-0x3+-0x29d*-0x4+0x1*0xf99)+(-0xafb+0x189b+-0x7*0x1f2)]=-(-0xfb0+-0xd9a+0x1*0x1d4b),_0x57b421['normals'][_0x23ea72*(-0x1213+0x1010+0x3*0xad)*(0x5*-0x43+0x4*-0x1ed+0x906)+(-0x25*0x7c+0x35b*0xa+-0xf9f)]=-0x1*-0xa90+-0x877*-0x2+0x1*-0x1b7e,_0x57b421['normals'][_0x23ea72*(-0x224*-0x12+-0x9d*0x1f+-0x1381)*(0x249a+0x99*0x1+-0x70*0x55)+(-0x1b7a*-0x1+-0xeba+-0xcbc)]=-0x4d*0x27+-0x1*0x20f9+0x2cb4,_0x57b421['normals'][_0x23ea72*(-0x1e49+-0x4c4+0x2311)*(0x1*-0x152f+0x31a+0x1218*0x1)+(0x1*0x15b9+0x5d5*-0x5+0x775)]=-(-0x152*0xc+-0x1*-0x208e+-0xd*0x149),_0x57b421['normals'][_0x23ea72*(-0x1b93+-0x2584+0x411b)*(0x35*-0x1+-0x1*0x1f42+-0x4f*-0x66)+(-0x19a9+-0xf37*-0x1+0xa78)]=-0x8d1*0x4+-0x194c+-0xf24*-0x4,_0x57b421['normals'][_0x23ea72*(-0x203+0x6d3*0x5+-0x9e*0x34)*(-0x1042*0x1+0x1ec4+0x4d5*-0x3)+(-0x8f0*-0x1+0x1*0x10db+-0x19c4)]=0x1*0x76+-0x230b+0x2295,_0x57b421['normals'][_0x23ea72*(0x3*0xb37+-0x1*-0xb+0x2*-0x10d6)*(-0x9e1+0x848+0x2*0xce)+(0x2290+-0xeee+0x1*-0x139a)]=-(-0x1965+0x2*-0x3d+0x19e0),_0x57b421['normals'][_0x23ea72*(0x4f3*0x1+0x1*0x14b7+-0x31*0x86)*(-0x83*0x4b+0x1d09+-0x1*-0x95b)+(0x8*-0x341+-0x230e+0x3d1f)]=0x1928+-0x1625+-0x303,_0x57b421['normals'][_0x23ea72*(0x2184+0x360+-0x24e*0x10)*(0x19b3+-0x107b+-0x935*0x1)+(0x2006+0x1dc4+0x4*-0xf70)]=-0x196d+-0x8*-0x425+0x7bb*-0x1,_0x57b421['normals'][_0x23ea72*(-0x7f4+-0x162c+0x1e24)*(0x273*-0x7+0x4ab+0x17*0x8b)+(0x188e+0x247a+-0x3cfd)]=-(-0x1af7+0xa9+0x1a4f);const _0x5c6f66=MR(this['_system']['app']['graphicsDe'+'vice'],_0x57b421),_0x30144b=new Le(_0x5c6f66,this['_material'],this['_node']);if(_0x30144b['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x30144b['castShadow']=!(0x1*-0x1bd1+0x22cd+0x6fb*-0x1),_0x30144b['receiveSha'+'dow']=!(0x3*0x78d+0x1bf*-0x13+0x37*0x31),_0x30144b['cull']=!_0x57297c,_0x30144b['screenSpac'+'e']=_0x57297c,_0x30144b['drawOrder']=this['_drawOrder'],_0x104ac5&&(_0x30144b['cull']=!(0xc82+-0x100a*0x1+0x388),_0x30144b['isVisibleF'+'unc']=_0x1da705),this['_setTextur'+'eParams'](_0x30144b,this['_font']['textures'][_0x2f82ee]),_0x30144b['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x30144b['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x30144b['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x30144b['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x30144b['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x2f82ee]['width']),_0x30144b['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x30144b['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x30144b['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][-0xa2d+0x537+0x4f6]=-0x5*0x64a+-0x1*0x22ae+0x4220,this['_shadowOff'+'setUniform'][-0x120b+0xe6f+-0x19*-0x25]=0x479+-0x10b7+-0x2*-0x61f;else{const _0x267255=-this['_font']['data']['info']['maps'][_0x2f82ee]['width']/this['_font']['data']['info']['maps'][_0x2f82ee]['height'];this['_shadowOff'+'setUniform'][-0x21ed+0x4*0x407+0x11d1]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x1eca*0x1+-0x1*-0x8ce+-0x2797]=_0x267255*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x30144b['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x57b421['meshInstan'+'ce']=_0x30144b,this['_model']['meshInstan'+'ces']['push'](_0x30144b);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x3dece2&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=-0x377*-0x7+0x5b5*-0x4+-0x16d,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x5e96b2){_0x5e96b2['destroy']();const _0xb5a94b=this['_model']['meshInstan'+'ces']['indexOf'](_0x5e96b2);_0xb5a94b!==-(-0x17c9+0xa31*0x1+-0x1*-0xd99)&&this['_model']['meshInstan'+'ces']['splice'](_0xb5a94b,0x14e6+-0xbaf*0x3+-0x3*-0x4b8);}['_setMateri'+'al'](_0xfb617){if(this['_material']=_0xfb617,this['_model'])for(let _0x54d5d7=0x8d5+0x40e*0x8+-0x2945,_0x5ac434=this['_model']['meshInstan'+'ces']['length'];_0x54d5d7<_0x5ac434;_0x54d5d7++){const _0x39688c=this['_model']['meshInstan'+'ces'][_0x54d5d7];_0x39688c['material']=_0xfb617;}}['_updateMat'+'erial'](_0x22c1fb){const _0x13d17a=this['_element'],_0x6e7f60=_0x13d17a['_isScreenC'+'ulled'](),_0xf38a27=function(_0x38f042){return _0x13d17a['isVisibleF'+'orCamera'](_0x38f042);},_0x5374f2=this['_font']&&this['_font']['type']===Kh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x22c1fb,_0x5374f2,this['_enableMar'+'kup']),this['_model'])for(let _0x5a78bd=0x81*0x24+0x24a*-0x1+-0x2*0x7ed,_0x1fd8ae=this['_model']['meshInstan'+'ces']['length'];_0x5a78bd<_0x1fd8ae;_0x5a78bd++){const _0x36f278=this['_model']['meshInstan'+'ces'][_0x5a78bd];_0x36f278['cull']=!_0x22c1fb,_0x36f278['material']=this['_material'],_0x36f278['screenSpac'+'e']=_0x22c1fb,_0x6e7f60?(_0x36f278['cull']=!(0xd*-0xd+-0x7b*-0x4f+-0x254c),_0x36f278['isVisibleF'+'unc']=_0xf38a27):_0x36f278['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][-0xcc6+-0x178*-0x11+-0xc32]=-0xab4+-0x79c+0x9*0x209,this['_colorUnif'+'orm'][0x5ca*-0x3+0x7*0xb3+0x63d*0x2]=0xbe*0x1+-0x800*-0x2+0x1*-0x10bd,this['_colorUnif'+'orm'][0x7*-0x172+-0x779*0x2+0x1912]=-0x1294*0x2+-0x5b+0x55c*0x7):(Me['linear'](this['_color']),this['_colorUnif'+'orm'][-0xac5*0x3+0x1883+-0x4*-0x1f3]=Me['r'],this['_colorUnif'+'orm'][-0xebb*-0x1+-0x1af0+0xc36]=Me['g'],this['_colorUnif'+'orm'][0x84a*-0x3+0x117e+0x762]=Me['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][0x2562+-0x1*0x9c9+0x1d7*-0xf]=0x1*-0x615+-0xa*-0x240+-0x9*0x1d3,this['_outlineCo'+'lorUniform'][0xd10+-0x13*-0xeb+-0x80*0x3d]=-0xbdd+0x2034+-0x1457,this['_outlineCo'+'lorUniform'][0x20a3+-0xc95+0x2*-0xa06]=-0x2351*-0x1+0x1*-0xf31+0x170*-0xe,this['_outlineCo'+'lorUniform'][-0x44f*0x8+0x1e05+0x476]=-0x2184+0x1b90+0x5f5):(Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0xf7a+-0x157b*0x1+-0x1d*-0x35]=Me['r'],this['_outlineCo'+'lorUniform'][-0xe*0x8+-0x25e+0x2cf]=Me['g'],this['_outlineCo'+'lorUniform'][0x1*-0x34d+0x3*-0x10b+0x670]=Me['b'],this['_outlineCo'+'lorUniform'][-0x166a+-0x2056+0x36c3]=Me['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][0x1709+-0xb*0x1fa+-0x14b]=0x2bb*0x6+-0x13d*0xe+0x4*0x3d,this['_shadowCol'+'orUniform'][0x2b*0x20+0x1291*0x1+0x17f*-0x10]=0x203c+-0x723+-0x1919,this['_shadowCol'+'orUniform'][-0x134c+-0x9*0x201+0x2557]=-0x21b4+0x1*-0x2572+-0x515*-0xe,this['_shadowCol'+'orUniform'][0xae8+-0x150e+0xa29*0x1]=-0x5b+-0xa15+-0xa7*-0x10):(Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x29*-0x8e+0x6ac+0x1012]=Me['r'],this['_shadowCol'+'orUniform'][0x1cf*-0x8+0x26ed+-0x2*0xc3a]=Me['g'],this['_shadowCol'+'orUniform'][0x1dc*0x15+0x4*0x1f6+-0x2ee2]=Me['b'],this['_shadowCol'+'orUniform'][0x1743*-0x1+-0x184b+0x21*0x171]=Me['a']);}['_isWordBou'+'ndary'](_0x2229dd){return fg['test'](_0x2229dd);}['_isValidNe'+'xtChar'](_0x4e23cc){return _0x4e23cc!==null&&!IR['test'](_0x4e23cc);}['_isNextCJK'+'Boundary'](_0x204d85,_0x1dc02f){return pg['test'](_0x204d85)&&(fg['test'](_0x1dc02f)||RR['test'](_0x1dc02f));}['_isNextCJK'+'WholeWord'](_0x1f278f){return pg['test'](_0x1f278f);}['_updateMes'+'hes'](){const _0x82a3bb=this['_font']['data'],_0xa61ea2=this,_0x547bd8=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x5e3740=this['_maxFontSi'+'ze'],_0x5e65b6=this['_shouldAut'+'oFit']();_0x5e65b6&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x4cfbe5=-0x2e*-0xb+0x2*-0xe4+0x1*-0x12,_0x4707bc=this['_symbols']['length'];let _0x5a9a7f=0x24e*0xf+0x9bf+-0x2c51,_0x416224=0x21c9+0x4f*0x57+-0x1*0x3ca2,_0x4cff5a=-0x2*-0xb50+0xd9e+-0x121f*0x2,_0x1f757b=0xef7*0x2+0x336+-0x2124,_0x3455ea=0x1370*-0x2+0xe5*0x15+0x1418,_0x127ce1=0x251f+-0x2684+0x165,_0xba6aa2=0x2438+-0x18ab*0x1+-0xb8d,_0x47234d=0x2193+0xe0b+0x2*-0x17cf,_0x332cae=-0x1*0x2351+0xdfd*0x1+0x1554,_0x2762fe=-0x141b*-0x1+-0xd*-0x24b+-0x31ea,_0x300379=-0x114f+-0x1cf3*0x1+0x1721*0x2;const _0x49f672=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=-0x1ed+-0x243b+0x2628+0.0001;let _0x1c6f5b=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x49f672||!this['_wrapLines'])&&(_0x1c6f5b=Number['POSITIVE_I'+'NFINITY']);let _0x10ab6b=-0xf3+0x1ebf*-0x1+0x1fb2,_0x377e6c=-0x25fa*-0x1+0x1*-0x757+-0x1ea3,_0x3ac493,_0x36b1e2,_0x5b2eed,_0x1dac56;function _0x4e536f(_0x14c49a,_0x4ff8e0,_0x5d7207){_0xa61ea2['_lineWidth'+'s']['push'](Math['abs'](_0x5d7207));const _0x27bb8d=_0x47234d>_0x4ff8e0?_0x4ff8e0+(0x2567+-0x3a6*0x7+-0xbdc):_0x47234d,_0x2d6da7=_0x47234d>_0x4ff8e0?_0x47234d+(0x379*-0xa+0x2197+-0x49*-0x4):_0x4ff8e0,_0x5d174b=_0x14c49a['slice'](_0x27bb8d,_0x2d6da7);if(_0x300379){let _0x2c4a9e=_0x5d174b['length'];for(;_0x2c4a9e--&&_0x300379>-0xf4d*-0x2+-0x242*-0xd+0x1dfa*-0x2;)ug['test'](_0x5d174b[_0x2c4a9e])&&(_0x5d174b['splice'](_0x2c4a9e,0x1*0x792+-0x115f+0xfb*0xa),_0x300379--);}_0xa61ea2['_lineConte'+'nts']['push'](_0x5d174b['join']('')),_0x5a9a7f=-0x33f*-0x3+-0x245e+0x1aa1,_0x416224-=_0xa61ea2['_scaledLin'+'eHeight'],_0x3455ea++,_0x332cae=-0x94*-0x16+0x1*0x4ab+-0x1163,_0x2762fe=0x1294+-0x47*-0x1b+-0x1a11,_0x300379=0x1a2d+-0x27*-0xfb+-0x406a,_0x127ce1=-0x1*0x217d+0x8b5*-0x4+0x4451*0x1,_0x47234d=_0x4ff8e0;}let _0xb7001c=!(0x1*-0x1ec7+-0x6a7+-0x12b7*-0x2);for(;_0xb7001c;){_0xb7001c=!(-0x8bb*0x1+0xe*-0x6c+0xea4),_0x5e65b6?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||-0x3e*0xa1+0x11ac+0x2*0xaa9+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=0xb6a+0x14dc+-0x2046,this['height']=-0x5f*0x37+0x3*-0xbb+0x169a,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x5a9a7f=-0x4*0x1aa+0x65e+0x4a,_0x416224=-0x1e62+-0x2001+0x3e63,_0x4cff5a=-0x30a*0x9+0xb*-0x148+0x2972,_0x1f757b=-0x1e59+0x2*-0x566+0x2925,_0x3455ea=-0x1*-0x1d87+-0x1515+-0x871*0x1,_0x127ce1=0x948+-0x84f*-0x2+-0xc3*0x22,_0xba6aa2=0x8*0x20e+0xda0+-0x1e10,_0x47234d=0x1*-0x1bcb+-0xaea+0x26b5,_0x332cae=0x1*-0x12df+0x229f*0x1+-0xfc0,_0x2762fe=0x3*-0x40d+-0x7f7+0x141e,_0x300379=-0x156d+-0x2413+0x170*0x28;const _0x20755c=this['_fontSize']/_0x4cfbe5;_0x10ab6b=this['_fontMinY']*_0x20755c,_0x377e6c=this['_fontMaxY']*_0x20755c;for(let _0x30e922=-0x199*0x2+-0x2*0xcde+0x1cee;_0x30e922<this['_meshInfo']['length'];_0x30e922++)this['_meshInfo'][_0x30e922]['quad']=-0x20d5+-0x8*-0x6+0x89*0x3d,this['_meshInfo'][_0x30e922]['lines']={};let _0x188058=-0x43*0x73+0x3e8+0xe8*0x1e,_0x436782=-0x2147*0x1+0x13a6+-0x48*-0x34,_0x1c6db2=0x1dfa+-0x1*-0x6ad+-0x23a8,_0x27d017=-0x2fb+0x1*0x4c7+-0xcd+(-0x243f+-0x2*0xf4e+-0x5a*-0xc1)*(-0x25*0xb3+0x198e+0x151),_0x5a1f35=-0x253d+-0x40*0x2a+0x30bc+(-0x1*0x26bb+-0x1*-0xa82+0x2a8*0xb)*(0x7*0xad+0x1d*-0x67+0x7f0),_0xfd12eb=-0x31a+-0x33d*-0x6+-0x6e*0x26,_0x2b710d=0x1116*0x1+0x3*-0x3d+0x10*-0xf6+(-0x1*0x2f5+-0x7*0x2a9+0x1693)*(0x45*0x26+-0xff2*0x1+0x6*0x11e),_0x13af79=0x1d23*-0x1+-0xf59*0x1+0xf29*0x3+(-0x37*-0xa6+0x1b56+-0x3e01)*(-0x205*0x13+0x140c+0x671*0x3),_0x2540fa=-0xf4c+-0x1*0x1db7+0x2d82+(0x5bc+0xeca+0x6ad*-0x3)*(0xc44+0x1*0x3c7+-0xf0b*0x1);for(let _0x2d17fc=0x1*-0x8f5+-0x11db+0x1ad0;_0x2d17fc<_0x4707bc;_0x2d17fc++){if(_0x3ac493=this['_symbols'][_0x2d17fc],_0x1dac56=_0x2d17fc+(-0x1620+-0x863+0x1e84*0x1)>=_0x4707bc?null:this['_symbols'][_0x2d17fc+(-0x22b7+0x68e+0x23*0xce)],ug['test'](_0x3ac493)){_0x300379++,(!this['_wrapLines']||this['_maxLines']<0xe*0x2ab+0x1061+-0x35bb||_0x3455ea<this['_maxLines'])&&(_0x4e536f(this['_symbols'],_0x2d17fc,_0x1f757b),_0xba6aa2=_0x2d17fc+(0x9bc+-0x1f5*0x6+0x203),_0x47234d=_0x2d17fc+(-0x18e0*0x1+0x1*0x23f9+-0xb18));continue;}let _0x5632ec=0x204c+-0x39*0x52+-0x6*0x257,_0x22c369=0x12e8+0xca*-0x1+0x1*-0x121e,_0x36d9a5=-0x3b*0xd+0x189a+-0x159b,_0x3293d3=0x15c3+0x1b2b+-0x30ed,_0x5e6d39,_0x147ed2;if(_0x36b1e2=_0x82a3bb['chars'][_0x3ac493],!_0x36b1e2){if(DR['indexOf'](_0x3ac493)!==-(0xd44*-0x2+-0x42d*-0x5+0x4*0x16a))_0x36b1e2=LR;else{if(_0x82a3bb['chars']['\x20'])_0x36b1e2=_0x82a3bb['chars']['\x20'];else for(const _0x29f5f2 in _0x82a3bb['chars']){_0x36b1e2=_0x82a3bb['chars'][_0x29f5f2];break;}_0x82a3bb['missingCha'+'rs']||(_0x82a3bb['missingCha'+'rs']=new Set()),_0x82a3bb['missingCha'+'rs']['has'](_0x3ac493)||(console['warn']('Character\x20'+'\x27'+_0x3ac493+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x82a3bb['info']['face']),_0x82a3bb['missingCha'+'rs']['add'](_0x3ac493));}}if(_0x36b1e2){let _0x37bbe3=-0xd*0x10f+0xc0b+0x14*0x16;if(_0x2762fe>0x1*-0x17b7+-0x10f*0xb+-0x7c*-0x49){const _0x12f4dd=this['_font']['data']['kerning'];if(_0x12f4dd){const _0x463ca8=_0x12f4dd[ah['getCodePoi'+'nt'](this['_symbols'][_0x2d17fc-(0x2c9+-0x107*-0x23+-0x26bd)])||-0x1613*-0x1+-0x708+-0xf0b];_0x463ca8&&(_0x37bbe3=_0x463ca8[ah['getCodePoi'+'nt'](this['_symbols'][_0x2d17fc])||-0x1*0x1063+0x1ecb*-0x1+-0xb7*-0x42]||-0x1*-0x6a+-0x1*-0x21f5+-0x225f);}}_0x5e6d39=_0x36b1e2['scale']||0x6*0x7d+-0x18d+-0x58*0x4,_0x147ed2=(_0x36b1e2['width']+_0x36b1e2['height'])/(0x9*-0x1c9+-0x10b4+0x20c7*0x1),_0x3293d3=_0x20755c*_0x147ed2/_0x5e6d39,_0x36d9a5=(_0x36b1e2['xadvance']+_0x37bbe3)*_0x20755c,_0x5632ec=(_0x36b1e2['xoffset']-_0x37bbe3)*_0x20755c,_0x22c369=_0x36b1e2['yoffset']*_0x20755c;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x3ac493+'\x27');const _0x5cee97=PR['test'](_0x3ac493),_0x4e02f7=_0x36b1e2&&_0x36b1e2['map']||-0x9d*-0x5+-0x106c+-0x1*-0xd5b,_0x3dbaf9=-this['_font']['data']['info']['maps'][_0x4e02f7]['width']/this['_font']['data']['info']['maps'][_0x4e02f7]['height'],_0x177abb=this['_meshInfo'][_0x4e02f7],_0x4b177d=_0x5a9a7f+this['_spacing']*_0x36d9a5;if(_0x4b177d>_0x1c6f5b&&_0x2762fe>-0x58f*-0x1+0x82a+0x493*-0x3&&!_0x5cee97&&(this['_maxLines']<0x1f83+0x912+-0x2895||_0x3455ea<this['_maxLines'])){if(_0x332cae===-0x20a3+0x20a3+0x0)_0xba6aa2=_0x2d17fc,_0x4e536f(this['_symbols'],_0x2d17fc,_0x1f757b);else{const _0x4f0d56=Math['max'](_0x2d17fc-_0xba6aa2,0xd3*0x11+-0x3*0x56+0x1*-0xd01);if(this['_meshInfo']['length']<=-0x34a*-0xb+-0x1*0xf1+-0x19a*0x16)_0x177abb['lines'][_0x3455ea-(0x2c*0x13+-0xb*0x22d+0x14ac)]-=_0x4f0d56,_0x177abb['quad']-=_0x4f0d56;else{const _0x5d7703=_0xba6aa2,_0x1edd71=_0x2d17fc;for(let _0xc8f6a0=_0x5d7703;_0xc8f6a0<_0x1edd71;_0xc8f6a0++){const _0x4263fc=this['_symbols'][_0xc8f6a0],_0x50deac=_0x82a3bb['chars'][_0x4263fc],_0x57927c=this['_meshInfo'][_0x50deac&&_0x50deac['map']||-0xd66+-0x21fd+-0x6c5*-0x7];_0x57927c['lines'][_0x3455ea-(0x313*0xc+0x11f5+-0x138*0x2d)]-=0x23*-0x6a+-0x1ef7*0x1+0x2d76,_0x57927c['quad']-=0x1*0x23d1+0x18ea+-0x3cba;}}_0x2d17fc-=_0x4f0d56+(-0x9da+0x18f3+0x4*-0x3c6),_0x4e536f(this['_symbols'],_0xba6aa2,_0x127ce1);continue;}}_0x5b2eed=_0x177abb['quad'],_0x177abb['lines'][_0x3455ea-(0x632+0x529*0x2+-0x3*0x581)]=_0x5b2eed;let _0x5f2f70=_0x5a9a7f-_0x5632ec,_0x574a1a=_0x5f2f70+_0x3293d3;const _0x4ea5c3=_0x416224-_0x22c369,_0x485df0=_0x4ea5c3+_0x3293d3;if(this['_rtl']){const _0x4bdbdf=_0x3293d3-_0x5632ec-this['_spacing']*_0x36d9a5-_0x5632ec;_0x5f2f70-=_0x4bdbdf,_0x574a1a-=_0x4bdbdf;}_0x177abb['positions'][_0x5b2eed*(0x1de4+-0xd*0x221+-0x233)*(-0x2451+0xa*-0x3c7+0x4a1a)+(0x5*0xa3+0x5e*0x8+0x61f*-0x1)]=_0x5f2f70,_0x177abb['positions'][_0x5b2eed*(0x126a+-0x8*0x67+0x2*-0x797)*(-0xcc3+-0xb*0x25+0xe5d)+(0x2436+0x13a8+-0x9*0x635)]=_0x4ea5c3,_0x177abb['positions'][_0x5b2eed*(0x2429+-0xf81+-0x529*0x4)*(0x4dc*0x2+-0x24a1+0x1aec)+(-0xd37*0x2+0x8b*-0xd+-0x157*-0x19)]=_0x4cff5a,_0x177abb['positions'][_0x5b2eed*(0x58*0x5+-0x7a1+-0x1*-0x5ed)*(-0x1cfa+0xc98+0x1065)+(-0x1066+-0x95*0x1f+0x2274)]=_0x574a1a,_0x177abb['positions'][_0x5b2eed*(0x1d8b*0x1+-0x53*0x1b+-0x1*0x14c6)*(-0x1af3+-0x762+0x44b*0x8)+(0x1b*0x65+0x21bd+-0x2c60)]=_0x4ea5c3,_0x177abb['positions'][_0x5b2eed*(0x1827+-0x1f4b*0x1+-0xe5*-0x8)*(-0x1656+0x115*0x1+0x1544)+(-0x1*0xbe4+0x22d*0x2+0x78f)]=_0x4cff5a,_0x177abb['positions'][_0x5b2eed*(-0x2*0x2f1+-0x179f*0x1+0x1d85)*(0x538*0x1+0x985*-0x1+0x45*0x10)+(0x335*-0x5+-0xb*0x385+0x36c6)]=_0x574a1a,_0x177abb['positions'][_0x5b2eed*(-0x577*-0x4+0x51*-0x79+0x17*0xb7)*(0x18b2+0xc95+-0x2544)+(-0x1*-0xea2+-0x4*-0x3df+-0x1e17)]=_0x485df0,_0x177abb['positions'][_0x5b2eed*(-0x6*-0xc+-0x1*0xb61+0x5*0x239)*(0x14f*-0x1d+-0xe*0xd5+0x319c)+(0x25cd*0x1+-0xb*0xe2+-0x1c0f)]=_0x4cff5a,_0x177abb['positions'][_0x5b2eed*(0x643+0xb5*-0x1+-0x58a)*(-0x25d9*0x1+0xc*-0xe1+0x8*0x60d)+(-0x2281+0x1*0x1117+0x1173)]=_0x5f2f70,_0x177abb['positions'][_0x5b2eed*(-0x1*0xe2+-0x177b+0x1861)*(0x2290+-0xb87+-0x1706)+(0x2c7+0xd1c+0x1*-0xfd9)]=_0x485df0,_0x177abb['positions'][_0x5b2eed*(-0x2*-0x602+-0x25f*-0xe+-0x2d32)*(-0x1*0x1a83+0x1*0x2345+-0x8bf)+(0x1*0x266f+-0x406*0x7+-0xa3a)]=_0x4cff5a,this['width']=Math['max'](this['width'],_0x4b177d);let _0x243ff7;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x243ff7=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||-0x70*-0x15+-0x6*-0x67e+-0x3024+0.0001)),_0x243ff7=N['clamp'](_0x243ff7,_0x547bd8,_0x5e3740),_0x243ff7!==this['_element']['fontSize'])){this['_fontSize']=_0x243ff7,_0xb7001c=!(0xe6+-0x3d*0x19+0x50f);break;}if(this['height']=Math['max'](this['height'],_0x377e6c-(_0x416224+_0x10ab6b)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x243ff7=N['clamp'](this['_fontSize']-(0x499+-0x1918+-0x52*-0x40),_0x547bd8,_0x5e3740),_0x243ff7!==this['_element']['fontSize'])){this['_fontSize']=_0x243ff7,_0xb7001c=!(-0x1cad+0x1922+0x38b);break;}_0x5a9a7f+=this['_spacing']*_0x36d9a5,_0x5cee97||(_0x1f757b=_0x5a9a7f),(this['_isWordBou'+'ndary'](_0x3ac493)||this['_isValidNe'+'xtChar'](_0x1dac56)&&(this['_isNextCJK'+'Boundary'](_0x3ac493,_0x1dac56)||this['_isNextCJK'+'WholeWord'](_0x1dac56)))&&(_0x332cae++,_0x127ce1=_0x1f757b,_0xba6aa2=_0x2d17fc+(-0x15dc+0x3*-0x559+0x25e8)),_0x2762fe++;const _0x4ecc14=this['_getUv'](_0x3ac493);if(_0x177abb['uvs'][_0x5b2eed*(0x1d62+-0x923*0x2+-0xb18)*(-0x5*-0x17b+0x2046+-0x27ab)+(0x1587+-0x1852+0x2cb)]=_0x4ecc14[0x219d+-0x919+-0x1884],_0x177abb['uvs'][_0x5b2eed*(-0x5f6+-0x2640+0x2c3a)*(-0x1d54+-0x1972+0x36c8)+(-0x1*0xd87+0x853*0x4+-0x1cc*0xb)]=0x1093*-0x1+0x2f0*0x2+0x2ad*0x4-_0x4ecc14[0x5*-0x337+-0x1*0x1612+0x2626],_0x177abb['uvs'][_0x5b2eed*(0x1e66+0x2*-0xa27+0xac*-0xf)*(0xd4a+-0x47d+-0x8cb*0x1)+(0x1a5c+0x2503+-0x3f5d)]=_0x4ecc14[0x22*-0x7f+0x231e+-0x123e*0x1],_0x177abb['uvs'][_0x5b2eed*(-0x73e*0x5+0x56+-0x4*-0x8f9)*(-0x4*0x300+-0x11*0x25+0xe77)+(-0x6*-0x8b+0xb1+0x3f0*-0x1)]=0x67*0x59+0x148*0x17+-0x4146-_0x4ecc14[0x233d+-0x830+-0x1b0c],_0x177abb['uvs'][_0x5b2eed*(0x1*-0x220d+-0x1a17*0x1+0x16*0x2bc)*(-0x2428+-0x1db8+0x12*0x3a9)+(-0x6fa+0x1fea+0x14*-0x13f)]=_0x4ecc14[0x1220+-0x197*0x17+0x1273],_0x177abb['uvs'][_0x5b2eed*(-0x2502+-0x1*-0xa69+0x1a9d)*(-0xf*-0xad+0x2*-0xf03+0x13e5)+(0x3*0xcf2+0xc4b+-0x331c)]=-0x231c+-0x7fb+0x2b18-_0x4ecc14[-0x1392+0x1ccb+-0x936],_0x177abb['uvs'][_0x5b2eed*(-0x10bf*-0x2+-0x1596+-0xbe4)*(0x4*0x51b+0x258f+-0x39f9)+(0x1*0x2658+0x2*0x98b+0x2c*-0x14e)]=_0x4ecc14[0x1e62*0x1+-0x1*0x1efd+0x9b],_0x177abb['uvs'][_0x5b2eed*(0xb*-0x358+0x18*-0x137+0x41f4)*(0x1966+-0x14bf+-0x1*0x4a5)+(-0x565*-0x3+-0x2635+0x1*0x160d)]=0xdc5*-0x2+0xf5c+0xc2f-_0x4ecc14[-0x17b9*-0x1+0x85*0x43+-0x3a85],this['_symbolCol'+'ors']){const _0x59961a=this['_symbolCol'+'ors'][_0x2d17fc]*(0x2610+-0x24ad+0x58*-0x4);_0x188058=this['_colorPale'+'tte'][_0x59961a],_0x436782=this['_colorPale'+'tte'][_0x59961a+(-0x259c+-0x227a+-0x5*-0xe6b)],_0x1c6db2=this['_colorPale'+'tte'][_0x59961a+(-0x153*-0x13+-0x76c+-0x59*0x33)];}if(_0x177abb['colors'][_0x5b2eed*(0x65*-0x21+0x1051*0x2+-0x1399)*(-0x54d+0x1355+-0xe04)+(0x21c7*0x1+0xe36+-0x2ffd)]=_0x188058,_0x177abb['colors'][_0x5b2eed*(0xb*0x133+0x1fd3+-0x60*0x78)*(0x21eb+-0x2579*-0x1+-0x1*0x4760)+(-0x5*-0x733+-0x6*-0x608+-0x482e*0x1)]=_0x436782,_0x177abb['colors'][_0x5b2eed*(0x1*-0x17f+-0x1*-0x1ad+-0x3*0xe)*(-0x2*-0x397+-0x1*0xf83+-0x859*-0x1)+(-0x23c6+-0x20c3*0x1+-0x16d9*-0x3)]=_0x1c6db2,_0x177abb['colors'][_0x5b2eed*(0x1256+0xe*0x2f+-0x14e4)*(0x18a3+-0xcf3+-0xbac)+(0x58a+-0x1181+0x1b6*0x7)]=0x1*-0x1d3d+0xb*-0x187+0x2f09*0x1,_0x177abb['colors'][_0x5b2eed*(0x2*-0xbb6+-0x1*0x2426+-0x20e*-0x1d)*(0x17be+0x59e+0x3ab*-0x8)+(0x1889+0x2*0xf09+-0x3697*0x1)]=_0x188058,_0x177abb['colors'][_0x5b2eed*(0x286*0xc+-0x1e07*0x1+-0x3d)*(0xb4e+-0x4b4+-0x696)+(0x254*-0x7+0xeb2+0x5*0x53)]=_0x436782,_0x177abb['colors'][_0x5b2eed*(0x153d+0x1abe+-0x2ff7)*(0x1858+0xbff+0x11*-0x223)+(-0x1c94+0xd4b+0x1*0xf4f)]=_0x1c6db2,_0x177abb['colors'][_0x5b2eed*(-0x2171+-0x24*0xfc+-0x44e5*-0x1)*(-0x9*0x41a+0x1e13*0x1+0x6db)+(-0xdf*0xc+-0x53a+0xfb5)]=0x26c5+0x1*-0x12d7+-0x12ef,_0x177abb['colors'][_0x5b2eed*(-0x2*0x2b4+-0x1a*-0x1b+0x2ae*0x1)*(0x2*0x109+0x18c6+-0x1ad4)+(-0x2563*-0x1+-0x17f3+-0x23c*0x6)]=_0x188058,_0x177abb['colors'][_0x5b2eed*(0x4c9*0x5+0x34c+-0x5*0x571)*(0x1*-0x3fd+0xcb6*0x2+0x156b*-0x1)+(0xe93+-0x26*0x88+0x5a6)]=_0x436782,_0x177abb['colors'][_0x5b2eed*(0x1*0x1582+0x1c58+-0x18eb*0x2)*(0x7f3+-0x377+-0x478)+(0x95*0x3b+0x4*-0x32d+0x1*-0x1599)]=_0x1c6db2,_0x177abb['colors'][_0x5b2eed*(0x1349+-0x1a*-0x5a+0x1c69*-0x1)*(0x1ecb+-0xce0+-0x11e7)+(-0x65a+0xeeb+-0x886)]=-0x30*0x50+-0x1582*-0x1+-0x1*0x583,_0x177abb['colors'][_0x5b2eed*(-0x241b+0x106*0x13+0x10ad)*(-0x1816+0x1b8+-0xf*-0x17e)+(-0x5*0x496+-0x261+0x195b)]=_0x188058,_0x177abb['colors'][_0x5b2eed*(0x1817+-0x1*-0x1df9+-0x481*0xc)*(-0x33b*-0x7+-0xc52+0x36d*-0x3)+(-0x281*0x2+-0x1267*0x2+0x29dd)]=_0x436782,_0x177abb['colors'][_0x5b2eed*(-0xddd+0xb65*-0x1+-0x50e*-0x5)*(-0x154b+-0x12fb+-0x1*-0x284a)+(0xb4b+-0x1*-0x118d+-0x1cca)]=_0x1c6db2,_0x177abb['colors'][_0x5b2eed*(0x1abd*0x1+-0x12c*0x1a+0x7*0x89)*(-0x1a2c+-0x2*0xd45+0x34ba)+(0x1*-0x4b6+0x1*0xea5+-0x9e0)]=0xd*-0x1c3+0x5b*-0x2b+-0x1*-0x272f,this['_symbolOut'+'lineParams']){const _0x1d362f=this['_symbolOut'+'lineParams'][_0x2d17fc]*(0x32b*-0x7+0x2bb+0xb*0x1c5);_0x27d017=this['_outlinePa'+'lette'][_0x1d362f]+this['_outlinePa'+'lette'][_0x1d362f+(0x2381+0x104e*0x1+-0x33ce)]*(0x2424+-0x1504+-0xe20),_0x5a1f35=this['_outlinePa'+'lette'][_0x1d362f+(0x2515+0x134c+-0x1*0x385f)]+this['_outlinePa'+'lette'][_0x1d362f+(0x18e4+0x1267+-0x115*0x28)]*(0x34b+-0x1*-0x30b+-0x556),_0xfd12eb=this['_outlinePa'+'lette'][_0x1d362f+(-0x7*0x50b+-0x677*0x1+-0xbf*-0x38)];}if(_0x177abb['outlines'][_0x5b2eed*(0xbfa+0x1*-0x326+0x5e*-0x18)*(0x7*-0x2cf+0x5*-0x5a+-0x1a6*-0xd)+(-0x6d*0x53+-0x1eda+-0x1*-0x4231)]=_0x27d017,_0x177abb['outlines'][_0x5b2eed*(-0x17*-0x142+0xc08+0xda6*-0x3)*(-0x1*0x8bd+0x1e4f+-0x1*0x158f)+(-0x1*-0x1aff+-0xc3e+-0x8*0x1d8)]=_0x5a1f35,_0x177abb['outlines'][_0x5b2eed*(0x24ed+0x135*0x11+-0x1cb7*0x2)*(0xfcf+-0x33*-0xb3+-0x3375)+(-0x1*0x1d74+0x1271+0xb05)]=_0xfd12eb,_0x177abb['outlines'][_0x5b2eed*(0x60e+0x2243+-0x284d)*(0xb3f*-0x1+0x2013+0x14d1*-0x1)+(0x6*0x1b9+-0x1ced*-0x1+0x274*-0x10)]=_0x27d017,_0x177abb['outlines'][_0x5b2eed*(0x2631+-0x577*0x7+-0x14*-0x1)*(-0x3+-0x21b2+0x21b8)+(0x2c9*-0x1+-0x17c9+0x1a96)]=_0x5a1f35,_0x177abb['outlines'][_0x5b2eed*(0x2077+0x134d*0x2+-0x2b*0x1a7)*(0x1e12+-0x1*-0xae1+-0x418*0xa)+(-0xfce+0x239+0xd9a)]=_0xfd12eb,_0x177abb['outlines'][_0x5b2eed*(0x834+-0x3*0x49+0x755*-0x1)*(-0x8*0x406+-0x25*0x85+0x336c)+(0x6*0x46+0x39d+0xd*-0x67)]=_0x27d017,_0x177abb['outlines'][_0x5b2eed*(0x818*0x3+-0x100+-0x1744)*(0x2*-0x76f+0x21f0+-0x130f)+(-0x5d9+-0x1be*-0x16+-0x2074)]=_0x5a1f35,_0x177abb['outlines'][_0x5b2eed*(0x18fb*0x1+0xe*0x1e4+0x15*-0x273)*(-0x1a34+-0xa4d+0x7b*0x4c)+(0x44f+0xec7+-0x987*0x2)]=_0xfd12eb,_0x177abb['outlines'][_0x5b2eed*(-0x14f1*-0x1+-0x36*-0xa+-0x1709)*(-0x429*0x1+0x260+-0xa*-0x2e)+(0x5*-0x521+-0x63e+0x1fec)]=_0x27d017,_0x177abb['outlines'][_0x5b2eed*(-0x607*-0x1+-0x10fe+0xafb)*(0x1e7*-0x10+0x14ae+0x9c5)+(-0x4*-0x4a9+-0xeee+0x14*-0x2f)]=_0x5a1f35,_0x177abb['outlines'][_0x5b2eed*(-0x218c+-0x57d*-0x1+0x1c13)*(0x1*-0x1373+-0xa09*0x1+0x1d7f*0x1)+(-0x2397+0xf7f+-0x1*-0x1423)]=_0xfd12eb,this['_symbolSha'+'dowParams']){const _0x461104=this['_symbolSha'+'dowParams'][_0x2d17fc]*(-0x1e5d+0x1*-0x1e51+0x3cb4);_0x2b710d=this['_shadowPal'+'ette'][_0x461104]+this['_shadowPal'+'ette'][_0x461104+(0x8*0x3a+0xe22+0x173*-0xb)]*(-0x1e8a+0x1*-0x22f1+0x427b),_0x13af79=this['_shadowPal'+'ette'][_0x461104+(0x1*-0x8c3+-0x1975+-0x2*-0x111d)]+this['_shadowPal'+'ette'][_0x461104+(0x22cb*-0x1+-0x92d+0x2bfb)]*(0x54*0x23+-0x20fc+0x1680),_0x2540fa=this['_shadowPal'+'ette'][_0x461104+(0x81d+-0x19f9+0x11e0*0x1)]+(0x91d+0x1422+-0x1cc0)+Math['round'](_0x3dbaf9*this['_shadowPal'+'ette'][_0x461104+(0xf1b+0x1e43+-0x2d59)]+(0x17*0x8d+-0x1918+0xcec))*(0xfe7+0x1baf+0x9e*-0x45);}_0x177abb['shadows'][_0x5b2eed*(-0xa8f+0x1cb*0x9+0x2c8*-0x2)*(0x359*0x1+-0x21d4*-0x1+-0x252a)+(0x12e1*-0x2+-0x3*-0x761+-0x81*-0x1f)]=_0x2b710d,_0x177abb['shadows'][_0x5b2eed*(-0x123+0xd88+-0xc61)*(-0x63a+0x9e8+-0x139*0x3)+(-0x854+0x201*-0x12+-0x9*-0x4ef)]=_0x13af79,_0x177abb['shadows'][_0x5b2eed*(0x1acd*0x1+0x1acd+0x1acb*-0x2)*(-0x219b+-0x5d2*0x4+0x38e6)+(-0x1d4+-0x40*-0x7+0x16)]=_0x2540fa,_0x177abb['shadows'][_0x5b2eed*(-0x10ac*0x1+-0x23c4+-0x45f*-0xc)*(0x18bf+0x1483*-0x1+0x2f*-0x17)+(0xa1a+-0xc20+0x209)]=_0x2b710d,_0x177abb['shadows'][_0x5b2eed*(-0x2*0x1278+0x269*0xd+0x59f*0x1)*(0xf*0x1f7+0x35*-0x3d+-0x10d5)+(-0x10b+0x2036+-0x1f27)]=_0x13af79,_0x177abb['shadows'][_0x5b2eed*(-0x15f*0x5+-0x4*0x896+0x2937)*(0x16*0x1+-0x1*-0x757+-0x76a)+(-0x5da+0x143e+-0xe5f)]=_0x2540fa,_0x177abb['shadows'][_0x5b2eed*(0x1d92+0x4cb+-0x2259)*(-0x8d+-0x5cf*0x5+0x1d9b)+(0x588+0x1544+-0x1ac6)]=_0x2b710d,_0x177abb['shadows'][_0x5b2eed*(-0x94*-0x20+0x9bd+0x1a9*-0x11)*(-0x19e9+-0x575*0x3+0x2a4b)+(0x1f5b+0x2*-0x217+-0x8b*0x32)]=_0x13af79,_0x177abb['shadows'][_0x5b2eed*(-0x1a08+0x40d*-0x6+0x325a)*(-0x844+0xec1*0x1+-0x67a)+(0xbeb+0x1587+-0x216a)]=_0x2540fa,_0x177abb['shadows'][_0x5b2eed*(-0x1f3*-0x9+-0x1ea0+0xd19)*(0x3b5*-0x8+-0x9*-0x411+-0x6ee)+(-0xee6+0x47*0x3b+-0x16e)]=_0x2b710d,_0x177abb['shadows'][_0x5b2eed*(0x2*0x3cb+-0xc6b+0x4d9)*(0x7*-0x58a+0x1e9f*-0x1+0x4568)+(0x2172+-0x22e6+0x1*0x17e)]=_0x13af79,_0x177abb['shadows'][_0x5b2eed*(-0x9*0xef+-0x1f52+0x27bd)*(0x254*0x6+-0xb6+0xd3f*-0x1)+(0xdd5+-0x19a3+-0x151*-0x9)]=_0x2540fa,_0x177abb['quad']++;}_0xb7001c||_0x47234d<_0x4707bc&&_0x4e536f(this['_symbols'],_0x4707bc,_0x5a9a7f);}this['_noResize']=!(-0x65*0x8+-0x348+0x338*0x2),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(0x181d+0x6d1+0x57*-0x5b);const _0x9d2474=this['_element']['pivot']['x'],_0x1eebb0=this['_element']['pivot']['y'],_0x15c859=this['_alignment']['x'],_0x48223d=this['_alignment']['y'];for(let _0x23d47e=0x3*0x54a+-0x118d*0x2+0x133c;_0x23d47e<this['_meshInfo']['length'];_0x23d47e++){if(this['_meshInfo'][_0x23d47e]['count']===-0x1*-0x1216+0x3b3*-0x1+0x7f*-0x1d)continue;let _0x4bd1e1=-0x12e7+-0x10a+0x13f1;for(const _0x1f1c59 in this['_meshInfo'][_0x23d47e]['lines']){const _0x50a4db=this['_meshInfo'][_0x23d47e]['lines'][_0x1f1c59],_0x2ac261=this['_lineWidth'+'s'][parseInt(_0x1f1c59,-0x6*-0xfd+0x1*-0x21eb+-0xcd*-0x23)],_0x2c3c56=-_0x9d2474*this['_element']['calculated'+'Width']+_0x15c859*(this['_element']['calculated'+'Width']-_0x2ac261)*(this['_rtl']?-(0x15cf+-0x7ed+-0xde1):0x1ff6*0x1+-0x1bf7*-0x1+0x76*-0x82),_0x3b5ea5=(0x293+0x1574+-0x1806-_0x1eebb0)*this['_element']['calculated'+'Height']-_0x377e6c-(0x169*0xa+0x8fc+-0x1715-_0x48223d)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x24ad77=_0x4bd1e1;_0x24ad77<=_0x50a4db;_0x24ad77++)this['_meshInfo'][_0x23d47e]['positions'][_0x24ad77*(-0x1*-0x184f+-0xb*-0x250+-0x31bb)*(-0x1cc4+0x3*0x655+0x4e4*0x2)]+=_0x2c3c56,this['_meshInfo'][_0x23d47e]['positions'][_0x24ad77*(-0x8*0x3be+0x157e+0x3*0x2d2)*(0x1d62+-0x406*0x6+0x53b*-0x1)+(-0x7de+-0x174e+0x1f2f)]+=_0x2c3c56,this['_meshInfo'][_0x23d47e]['positions'][_0x24ad77*(-0x997+0x24*0xeb+0x1771*-0x1)*(-0xe2c*-0x1+-0x1*-0x26cb+-0x34f4)+(-0x255b+0x2623*0x1+0x61*-0x2)]+=_0x2c3c56,this['_meshInfo'][_0x23d47e]['positions'][_0x24ad77*(0x239f+-0x1*0xd7d+0x95*-0x26)*(-0x223e+-0xd18+0x187*0x1f)+(0x2*0x551+-0x19*0xa3+-0x1c6*-0x3)]+=_0x2c3c56,this['_meshInfo'][_0x23d47e]['positions'][_0x24ad77*(-0x2*0x937+-0x7f*-0x9+0xdfb)*(-0xcc3+-0x25*-0xdf+-0x1375)+(-0x165*-0x13+-0x7d*-0x3c+0x1*-0x37ca)]+=_0x3b5ea5,this['_meshInfo'][_0x23d47e]['positions'][_0x24ad77*(0x115f*-0x1+0xe1b+0x348)*(-0x2*-0x1055+-0xe*-0x1c+0x1*-0x222f)+(-0x15*-0x22+0x24e2+-0x6c*0x5e)]+=_0x3b5ea5,this['_meshInfo'][_0x23d47e]['positions'][_0x24ad77*(-0x7cc+-0x1cb7+0xc2d*0x3)*(0x245f+0x742+-0xe8a*0x3)+(-0x2*-0x307+0x12d5+-0x18dc)]+=_0x3b5ea5,this['_meshInfo'][_0x23d47e]['positions'][_0x24ad77*(0x1eab+-0x38b*0x2+-0x7db*0x3)*(0x8a4+-0x1aae+-0x1*-0x120d)+(0x2331+-0x167a+-0x289*0x5)]+=_0x3b5ea5;if(this['_rtl'])for(let _0x19e839=_0x4bd1e1;_0x19e839<=_0x50a4db;_0x19e839++){const _0x416d6f=_0x19e839*(0x1745+-0x6d+0x16d4*-0x1)*(-0x3d0*-0x4+0xc39+0xb9*-0x26);for(let _0x233596=0x25e6+-0x1ad9+-0x17*0x7b;_0x233596<-0x647+0x379*0x1+0x2*0x169;++_0x233596)this['_meshInfo'][_0x23d47e]['positions'][_0x416d6f+_0x233596*(0x2ab+0x146*-0x1+0x162*-0x1)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x23d47e]['positions'][_0x416d6f+_0x233596*(-0x259f+0x1919+0xc89)]+_0x2c3c56*(0x4*0x60f+0x1282+-0x2abc);const _0x59f1ce=this['_meshInfo'][_0x23d47e]['positions'][_0x416d6f+(-0xeec+0xcf8+0x1f7)],_0x259950=this['_meshInfo'][_0x23d47e]['positions'][_0x416d6f+(-0x1f49+0x2*-0x259+0x2401)];this['_meshInfo'][_0x23d47e]['positions'][_0x416d6f+(0x1*0x23b8+-0x2*0xcbd+-0xa3b)]=this['_meshInfo'][_0x23d47e]['positions'][_0x416d6f+(0xb8*-0xe+0x4f3+0x51d)],this['_meshInfo'][_0x23d47e]['positions'][_0x416d6f+(-0x196a+0x2*-0x445+0x21fa)]=this['_meshInfo'][_0x23d47e]['positions'][_0x416d6f+(0x741+-0x93*-0x7+0x3bf*-0x3)],this['_meshInfo'][_0x23d47e]['positions'][_0x416d6f+(0x647*0x4+0x3a8*-0x7+0x7c)]=_0x59f1ce,this['_meshInfo'][_0x23d47e]['positions'][_0x416d6f+(0x1498*-0x1+-0x2*0x9e4+0x2869)]=_0x259950;}_0x4bd1e1=_0x50a4db+(0x258d+-0x1*0x21e9+-0x3a3);}const _0x478c1d=this['_meshInfo'][_0x23d47e]['count']*(-0xd*0x173+-0x130f+0x12f5*0x2),_0xa84326=this['_meshInfo'][_0x23d47e]['quad']*(0x6ae+0xa*0xcd+-0xeac),_0x3340fe=new go(this['_meshInfo'][_0x23d47e]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x4b3a60=0x1d30+-0xa13+-0x131d;_0x4b3a60<_0x478c1d;_0x4b3a60++)_0x4b3a60>=_0xa84326?(_0x3340fe['element'][He]['set'](-0x29*-0xdf+-0x1221+-0x8cb*0x2,-0x1*0x20e3+0xa71*0x3+0xa*0x28,-0x59b+0xb6*-0x2f+0x593*0x7),_0x3340fe['element'][ns]['set'](-0x170b+0x2*-0xcfe+0x3107,-0x9ef*0x1+0x1b7b+-0x118c),_0x3340fe['element'][At]['set'](-0xd56+0x4*0x851+-0x1*0x13ee,-0xa0d+0x2689+0x1c7c*-0x1,-0x1*-0x2631+0x1c66+-0x1*0x4297,-0x85f*-0x3+0x921+-0x223e),_0x3340fe['element'][Po]['set'](0x8aa*-0x4+0x8df+0xa1*0x29,-0x165e+0x1bba+-0x2*0x2ae,0x6a*-0x16+0x2*-0x11ae+0x2c78,-0xca1*0x1+-0x1ccd+-0x14b7*-0x2),_0x3340fe['element'][Ro]['set'](0x1d67+-0x150+-0x95d*0x3,0x1741*-0x1+-0xc57+0x2398,-0xc36+-0x1cec+0x2922,0x50b*-0x5+-0x2062+0x3999)):(_0x3340fe['element'][He]['set'](this['_meshInfo'][_0x23d47e]['positions'][_0x4b3a60*(0x1b76+-0x3*0x67d+-0x7fc)+(-0x3*0x3dc+0x15a0+-0xa0c)],this['_meshInfo'][_0x23d47e]['positions'][_0x4b3a60*(0x4b3*0x1+-0x1*-0x1a23+-0x1ed3)+(-0x154e+0x289*-0xc+0x33bb)],this['_meshInfo'][_0x23d47e]['positions'][_0x4b3a60*(-0x10f*0x13+-0x215e+0xa7*0x52)+(0x1353+0x1*-0x21f8+0xea7)]),_0x3340fe['element'][ns]['set'](this['_meshInfo'][_0x23d47e]['uvs'][_0x4b3a60*(0x121f+-0x1f93+0xd76)+(-0x1*0xbcb+0x10b7+-0x4ec)],this['_meshInfo'][_0x23d47e]['uvs'][_0x4b3a60*(-0x109e+0x1*0x1db3+-0xd13)+(0x4b*0x3b+-0xa51*-0x1+0x9*-0x311)]),_0x3340fe['element'][At]['set'](this['_meshInfo'][_0x23d47e]['colors'][_0x4b3a60*(0x2060+-0x16d8+-0x984)+(0x10f5+0x3*-0x890+0x8bb)],this['_meshInfo'][_0x23d47e]['colors'][_0x4b3a60*(-0x3*0xad7+0x184f*0x1+0x83a)+(0x1eba+-0x4*0x46c+-0xd09)],this['_meshInfo'][_0x23d47e]['colors'][_0x4b3a60*(-0x111d+-0x1caa+0x269*0x13)+(0xd75+-0x130a+0x597)],this['_meshInfo'][_0x23d47e]['colors'][_0x4b3a60*(0x29*0xed+0x9*-0x1fd+-0xa06*0x2)+(0xa52+-0x2638+-0x1be9*-0x1)]),_0x3340fe['element'][Po]['set'](this['_meshInfo'][_0x23d47e]['outlines'][_0x4b3a60*(0x87b+0x5*0x63a+0x1*-0x279a)+(-0x17a2+-0x1da2+-0x2*-0x1aa2)],this['_meshInfo'][_0x23d47e]['outlines'][_0x4b3a60*(-0xf*0x17c+0x1744+0xb*-0x17)+(0x430*-0x6+0x559*0x1+0x13c8)],this['_meshInfo'][_0x23d47e]['outlines'][_0x4b3a60*(-0xb*-0x67+0x3*-0x6b+-0x329)+(0x192d+0x2f*-0xb1+0x754)]),_0x3340fe['element'][Ro]['set'](this['_meshInfo'][_0x23d47e]['shadows'][_0x4b3a60*(0x3d*0x57+-0x869+0x17*-0x89)+(-0x2e*-0x53+0x23*0x111+0x137*-0x2b)],this['_meshInfo'][_0x23d47e]['shadows'][_0x4b3a60*(0x1161+-0x1512+0x3b4)+(0x17f3+0x3*0xb+0x1*-0x1813)],this['_meshInfo'][_0x23d47e]['shadows'][_0x4b3a60*(0x11f4+0x17*-0xe3+0x13a*0x2)+(-0x907*-0x2+-0x1343+0x137)])),_0x3340fe['next']();_0x3340fe['end'](),this['_meshInfo'][_0x23d47e]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x23d47e]['positions']),this['_meshInfo'][_0x23d47e]['meshInstan'+'ce']['_aabbVer']=-(0x178*0x13+0x2554+0x1*-0x413b);}this['_aabbDirty']=!(0x44d+0xe4c+-0x1299);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x2ba231){this['font']!==_0x2ba231['resource']&&(this['font']=_0x2ba231['resource']);}['_onFontCha'+'nge'](_0x20914a,_0x4fe7cc,_0x15ffe7,_0xc2f7fc){if(_0x4fe7cc==='data'){this['_font']['data']=_0x15ffe7;const _0x118ece=this['_font']['data']['info']['maps']['length'];for(let _0x12bf1f=-0x2d3*-0xd+0x1*-0xe75+-0x1642;_0x12bf1f<_0x118ece;_0x12bf1f++){if(!this['_meshInfo'][_0x12bf1f])continue;const _0x523dd8=this['_meshInfo'][_0x12bf1f]['meshInstan'+'ce'];_0x523dd8&&(_0x523dd8['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x523dd8['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x523dd8['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x12bf1f]['width']));}}}['_onFontRem'+'ove'](_0x260e72){}['_setTextur'+'eParams'](_0x3adec8,_0x183f20){this['_font']&&(this['_font']['type']===Kh?(_0x3adec8['deletePara'+'meter']('texture_em'+'issiveMap'),_0x3adec8['deletePara'+'meter']('texture_op'+'acityMap'),_0x3adec8['setParamet'+'er']('texture_ms'+'dfMap',_0x183f20)):this['_font']['type']===yR&&(_0x3adec8['deletePara'+'meter']('texture_ms'+'dfMap'),_0x3adec8['setParamet'+'er']('texture_em'+'issiveMap',_0x183f20),_0x3adec8['setParamet'+'er']('texture_op'+'acityMap',_0x183f20)));}['_getPxRang'+'e'](_0x4fe864){const _0xa5de5f=Object['keys'](this['_font']['data']['chars']);for(let _0x244241=-0x23a2*0x1+-0x2353+0x46f5;_0x244241<_0xa5de5f['length'];_0x244241++){const _0x346489=this['_font']['data']['chars'][_0xa5de5f[_0x244241]];if(_0x346489['range'])return(_0x346489['scale']||0x180+-0x25*0x66+0xd3f*0x1)*_0x346489['range'];}return-0xf0e+-0x1*0x15bf+0x24cf;}['_getUv'](_0x19d460){const _0x495ffc=this['_font']['data'];if(!_0x495ffc['chars'][_0x19d460]){const _0x4348f8='\x20';return _0x495ffc['chars'][_0x4348f8]?this['_getUv'](_0x4348f8):[-0x4*-0x295+0xa1*-0x3b+0x5*0x55b,-0x5fe+0x1121*-0x2+-0x2e0*-0xe,0xe5a*0x1+-0x1*-0x11b9+-0x2013,-0x2592+0x11*0x1bc+0x2e*0x2d];}const _0x5ec436=_0x495ffc['chars'][_0x19d460]['map'],_0x4b1187=_0x495ffc['info']['maps'][_0x5ec436]['width'],_0x1a01a4=_0x495ffc['info']['maps'][_0x5ec436]['height'],_0x4e6cfc=_0x495ffc['chars'][_0x19d460]['x'],_0x555f9d=_0x495ffc['chars'][_0x19d460]['y'],_0xfb9e5b=_0x4e6cfc,_0x2124b1=_0x555f9d,_0x5d500b=_0x4e6cfc+_0x495ffc['chars'][_0x19d460]['width'],_0x18d906=_0x555f9d-_0x495ffc['chars'][_0x19d460]['height'],_0xaed5c1=-0x1*0x719+0x1e99+0x191*-0xf-_0x495ffc['chars'][_0x19d460]['height']/_0x1a01a4;return[_0xfb9e5b/_0x4b1187,_0xaed5c1-_0x2124b1/_0x1a01a4,_0x5d500b/_0x4b1187,_0xaed5c1-_0x18d906/_0x1a01a4];}['onEnable'](){this['_fontAsset']['autoLoad']=!(-0x1*-0xac9+0x1bb3+-0x267c),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(0x2b*0x7+0x191*0x1+-0x2bd),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x462e30){if(this['_model']){const _0x507026=this['_model']['meshInstan'+'ces'];for(let _0x34be60=0x23d5*0x1+0x16ba+-0x1*0x3a8f;_0x34be60<_0x507026['length'];_0x34be60++)_0x507026[_0x34be60]['stencilFro'+'nt']=_0x462e30,_0x507026[_0x34be60]['stencilBac'+'k']=_0x462e30;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x2e8c61){const _0x48a742={};_0x2e8c61===void(0x3*-0x94d+-0x19ec+-0x1*-0x35d3)&&(_0x2e8c61=this['_symbols']['length']);for(let _0x314fb5=-0x11fd+-0x1*-0x5bb+0xc42,_0x3413d6=_0x2e8c61;_0x314fb5<_0x3413d6;_0x314fb5++){const _0x300104=this['_symbols'][_0x314fb5];let _0x24acc5=this['_font']['data']['chars'][_0x300104];_0x24acc5||(_0x24acc5=this['_font']['data']['chars']['\x20'],_0x24acc5||(_0x24acc5=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[0x1df9*0x1+0x2d*-0x3d+-0x1340]]));const _0x5385e6=_0x24acc5['map'];_0x48a742[_0x5385e6]?_0x48a742[_0x5385e6]++:_0x48a742[_0x5385e6]=-0x6d9+-0x10e*0x1f+-0x2*-0x13c6;}return _0x48a742;}['_updateRen'+'derRange'](){const _0x971bb3=this['_rangeStar'+'t']===0x9b7+-0x1f44+0x158d?-0x7*0x58d+-0x12a9*-0x1+0xeb*0x16:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x40b505=this['_rangeEnd']===0x1*-0x1912+-0x4*0x614+-0x3162*-0x1?0x1e93+0x144c+0x32df*-0x1:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x24a4a9=0xbe8*-0x3+-0x25*0x1f+-0x1*-0x2833,_0xcb16ff=this['_meshInfo']['length'];_0x24a4a9<_0xcb16ff;_0x24a4a9++){const _0x29f6d2=_0x971bb3[_0x24a4a9]||0xaa2+-0x1*0x44a+-0x658,_0x43606c=_0x40b505[_0x24a4a9]||0x557*0x7+-0x14e8+-0x1079,_0x25ba9e=this['_meshInfo'][_0x24a4a9]['meshInstan'+'ce'];if(_0x25ba9e){const _0x262e91=_0x25ba9e['mesh'];_0x262e91&&(_0x262e91['primitive'][0x8*0x3b7+-0xc1*0x1+-0x1cf7]['base']=_0x29f6d2*(0x2fb+0x7aa*-0x3+0x1406)*(0x13ed+-0x1b7*0x1+-0x1234),_0x262e91['primitive'][0x10*-0xb2+0x133e+0x81e*-0x1]['count']=(_0x43606c-_0x29f6d2)*(-0x1*0xa43+0x14d+-0x1*-0x8f9)*(-0x5*-0x133+-0x1562+0x1*0xf65));}}}set['text'](_0x12b927){this['_i18nKey']=null;const _0x3c2d1e=_0x12b927!=null&&_0x12b927['toString']()||'';this['_setText'](_0x3c2d1e);}get['text'](){return this['_text'];}set['key'](_0x14d455){const _0x269f06=_0x14d455!==null?_0x14d455['toString']():null;this['_i18nKey']!==_0x269f06&&(this['_i18nKey']=_0x269f06,_0x269f06?(this['_fontAsset']['disableLoc'+'alization']=!(-0x15c8+0xe1*0x1+0x14e8),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(-0x18e+-0x1*-0x45d+-0x2cf));}get['key'](){return this['_i18nKey'];}set['color'](_0x5330df){const _0x39c7c5=_0x5330df['r'],_0x40ffa4=_0x5330df['g'],_0x4661d2=_0x5330df['b'];if(this['_color']===_0x5330df&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x39c7c5&&this['_color']['g']===_0x40ffa4&&this['_color']['b']===_0x4661d2)&&(this['_color']['r']=_0x39c7c5,this['_color']['g']=_0x40ffa4,this['_color']['b']=_0x4661d2,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_color']),this['_colorUnif'+'orm'][0x1*-0x1d41+0x2361+0xc4*-0x8]=Me['r'],this['_colorUnif'+'orm'][0x106+-0x11e7+0x10e2]=Me['g'],this['_colorUnif'+'orm'][-0x13*-0xc9+-0x2354+0x1*0x146b]=Me['b'];for(let _0x3e4c69=-0x68a*0x2+-0x61*-0x67+-0x3b5*0x7,_0x5ad9c6=this['_model']['meshInstan'+'ces']['length'];_0x3e4c69<_0x5ad9c6;_0x3e4c69++)this['_model']['meshInstan'+'ces'][_0x3e4c69]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x4ff61e){if(this['_color']['a']!==_0x4ff61e&&(this['_color']['a']=_0x4ff61e,this['_model'])){for(let _0x45b640=-0xd2*-0x23+0x24*-0x64+-0xea6,_0x4b1094=this['_model']['meshInstan'+'ces']['length'];_0x45b640<_0x4b1094;_0x45b640++)this['_model']['meshInstan'+'ces'][_0x45b640]['setParamet'+'er']('material_o'+'pacity',_0x4ff61e);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x4ff61e);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x21a061){const _0xab7f70=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x21a061,this['_scaledLin'+'eHeight']=_0x21a061,_0xab7f70!==_0x21a061&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x5c89e8){const _0x585ec2=this['_wrapLines'];this['_wrapLines']=_0x5c89e8,_0x585ec2!==_0x5c89e8&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x51b7ee){const _0x578b15=this['_spacing'];this['_spacing']=_0x51b7ee,_0x578b15!==_0x51b7ee&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x4a51b7){const _0x4b4666=this['_fontSize'];this['_fontSize']=_0x4a51b7,this['_originalF'+'ontSize']=_0x4a51b7,_0x4b4666!==_0x4a51b7&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x313381){this['_fontAsset']['defaultAss'+'et']=_0x313381;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x1fc04c){let _0x222cd1;if(this['_font']&&(_0x222cd1=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x1fc04c,this['_fontMinY']=-0x1a72+0x41*0x4f+0x1*0x663,this['_fontMaxY']=0x1d25+0x795+0x3*-0xc3e,!_0x1fc04c)return;const _0x419896=this['_font']['data'];for(const _0x278af0 in _0x419896['chars']){const _0xfca78=_0x419896['chars'][_0x278af0];_0xfca78['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0xfca78['bounds'][-0x370+0x334+0x3d]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0xfca78['bounds'][-0x192a*0x1+-0x2124*-0x1+0x1*-0x7f7]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x1fc04c['type']!==_0x222cd1){const _0xc662d3=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0xc662d3);}for(let _0x2f643c=-0x361+0x1700+0x139f*-0x1,_0x21a287=this['_font']['textures']['length'];_0x2f643c<_0x21a287;_0x2f643c++)if(!this['_meshInfo'][_0x2f643c])this['_meshInfo'][_0x2f643c]=new CR();else{const _0x2067d2=this['_meshInfo'][_0x2f643c]['meshInstan'+'ce'];_0x2067d2&&(_0x2067d2['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x2067d2['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x2067d2['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x2f643c]['width']),this['_setTextur'+'eParams'](_0x2067d2,this['_font']['textures'][_0x2f643c]));}let _0x2aede8=!(0x6f+0x1093+0x1101*-0x1);for(let _0x3d3044=this['_font']['textures']['length'];_0x3d3044<this['_meshInfo']['length'];_0x3d3044++)this['_meshInfo'][_0x3d3044]['meshInstan'+'ce']&&(_0x2aede8||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x2aede8=!(-0x2b*0xd5+0xe23+0x569*0x4)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x3d3044]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x23d7de){_0x23d7de instanceof W?this['_alignment']['set'](_0x23d7de['x'],_0x23d7de['y']):this['_alignment']['set'](_0x23d7de[-0x1ab6+-0x229*-0x1+0x188d],_0x23d7de[-0x23*-0x43+0x62c+-0xf54]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x580e05){const _0x12052b=this['_autoWidth'];if(this['_autoWidth']=_0x580e05,_0x580e05&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<0x25f5+0x1a63+-0x47*0xe8+0.0001&&(this['_element']['width']=this['width']),_0x12052b!==_0x580e05){const _0x2a49fc=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x2a49fc!==this['_fontSize']&&(this['_fontSize']=_0x2a49fc,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x16c4e3){const _0x8f9d0b=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x16c4e3,_0x16c4e3&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<-0x5*0x559+0x4b+0x1a72+0.0001&&(this['_element']['height']=this['height']),_0x8f9d0b!==_0x16c4e3){const _0x1d3034=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x1d3034!==this['_fontSize']&&(this['_fontSize']=_0x1d3034,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x298e0e){this['_rtlReorde'+'r']!==_0x298e0e&&(this['_rtlReorde'+'r']=_0x298e0e,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x29c4cb){this['_unicodeCo'+'nverter']!==_0x29c4cb&&(this['_unicodeCo'+'nverter']=_0x29c4cb,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x4e3e16=!(-0xfa+-0x48a*0x7+0x5*0x68d);for(let _0x425f4e=0x2401+0xf09+0x5e*-0x8b;_0x425f4e<this['_meshInfo']['length'];_0x425f4e++)this['_meshInfo'][_0x425f4e]['meshInstan'+'ce']&&(_0x4e3e16?this['_aabb']['add'](this['_meshInfo'][_0x425f4e]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x425f4e]['meshInstan'+'ce']['aabb']),_0x4e3e16=!(-0x1123+-0xbf*0x34+-0x25*-0x183)));this['_aabbDirty']=!(0x1*-0x1af0+-0x2494+-0x913*-0x7);}return this['_aabb'];}set['outlineCol'+'or'](_0x2245e6){const _0x7f5c2c=_0x2245e6 instanceof Y?_0x2245e6['r']:_0x2245e6[0xc9d+0x1963*-0x1+-0x28e*-0x5],_0x3846d3=_0x2245e6 instanceof Y?_0x2245e6['g']:_0x2245e6[-0xbb2+0xbbd+-0xa*0x1],_0x106f8c=_0x2245e6 instanceof Y?_0x2245e6['b']:_0x2245e6[-0xc3d+0xf42+-0x303],_0x3c2c52=_0x2245e6 instanceof Y?_0x2245e6['a']:_0x2245e6[0x43*-0x1a+-0x12eb*-0x1+-0xc1a*0x1];if(this['_outlineCo'+'lor']===_0x2245e6&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x7f5c2c&&this['_outlineCo'+'lor']['g']===_0x3846d3&&this['_outlineCo'+'lor']['b']===_0x106f8c&&this['_outlineCo'+'lor']['a']===_0x3c2c52)&&(this['_outlineCo'+'lor']['r']=_0x7f5c2c,this['_outlineCo'+'lor']['g']=_0x3846d3,this['_outlineCo'+'lor']['b']=_0x106f8c,this['_outlineCo'+'lor']['a']=_0x3c2c52,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x1118+-0x3c4*0x9+-0x2*-0x197e]=Me['r'],this['_outlineCo'+'lorUniform'][0x8c6+0xa*-0x62+0x1*-0x4f1]=Me['g'],this['_outlineCo'+'lorUniform'][-0x719*-0x1+0x23b8+-0x27*0x119]=Me['b'],this['_outlineCo'+'lorUniform'][-0x1a50+-0x511+0x1f64]=Me['a'];for(let _0x28ca95=-0x184b+-0x1*0x4ed+-0x14*-0x176,_0x569af0=this['_model']['meshInstan'+'ces']['length'];_0x28ca95<_0x569af0;_0x28ca95++)this['_model']['meshInstan'+'ces'][_0x28ca95]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x22a08d){const _0x58b370=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x22a08d,_0x58b370!==_0x22a08d&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x2da2b7=-0x395+0x1*-0xc4b+0xfe0,_0x429969=this['_model']['meshInstan'+'ces']['length'];_0x2da2b7<_0x429969;_0x2da2b7++)this['_model']['meshInstan'+'ces'][_0x2da2b7]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x403d48){const _0x44246b=_0x403d48 instanceof Y?_0x403d48['r']:_0x403d48[-0x15b5+0x1c3c+0x22d*-0x3],_0x2b4dae=_0x403d48 instanceof Y?_0x403d48['g']:_0x403d48[-0x1*-0x1354+-0x5fe+-0xd55],_0x1b2cec=_0x403d48 instanceof Y?_0x403d48['b']:_0x403d48[0x10*0x71+-0x1*-0x15b3+-0x1cc1],_0x20d2bd=_0x403d48 instanceof Y?_0x403d48['a']:_0x403d48[0x135f+0x11*-0x125+0x19];if(this['_shadowCol'+'or']===_0x403d48&&v['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x44246b&&this['_shadowCol'+'or']['g']===_0x2b4dae&&this['_shadowCol'+'or']['b']===_0x1b2cec&&this['_shadowCol'+'or']['a']===_0x20d2bd)&&(this['_shadowCol'+'or']['r']=_0x44246b,this['_shadowCol'+'or']['g']=_0x2b4dae,this['_shadowCol'+'or']['b']=_0x1b2cec,this['_shadowCol'+'or']['a']=_0x20d2bd,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x102b*-0x2+0x18e3+0x773]=Me['r'],this['_shadowCol'+'orUniform'][-0x610+0x370+0x2a1]=Me['g'],this['_shadowCol'+'orUniform'][0xe9e+0x3df*-0x1+0x1*-0xabd]=Me['b'],this['_shadowCol'+'orUniform'][0x1464+0xb0a+-0x1f6b]=Me['a'];for(let _0x266263=0x1a62*-0x1+0x12c8+-0x79a*-0x1,_0x5cde7b=this['_model']['meshInstan'+'ces']['length'];_0x266263<_0x5cde7b;_0x266263++)this['_model']['meshInstan'+'ces'][_0x266263]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x504cb9){const _0x56e411=_0x504cb9 instanceof W?_0x504cb9['x']:_0x504cb9[0x25c7+-0x4*0x46b+-0x141b],_0x2c0103=_0x504cb9 instanceof W?_0x504cb9['y']:_0x504cb9[0x121c+0xef0+0xb*-0x301];if(!(this['_shadowOff'+'set']['x']===_0x56e411&&this['_shadowOff'+'set']['y']===_0x2c0103)&&(this['_shadowOff'+'set']['set'](_0x56e411,_0x2c0103),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x570ab9=0x1*-0x166d+0xa*-0x14f+0x2383*0x1,_0x53aa53=this['_model']['meshInstan'+'ces']['length'];_0x570ab9<_0x53aa53;_0x570ab9++){const _0x3dbca6=-this['_font']['data']['info']['maps'][_0x570ab9]['width']/this['_font']['data']['info']['maps'][_0x570ab9]['height'];this['_shadowOff'+'setUniform'][0x1e0a+0x23f+-0x13*0x1b3]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x1742+0x31*0x2d+-0x2*0xfef]=_0x3dbca6*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x570ab9]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x1b77df){this['_minFontSi'+'ze']!==_0x1b77df&&(this['_minFontSi'+'ze']=_0x1b77df,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x91d3bc){this['_maxFontSi'+'ze']!==_0x91d3bc&&(this['_maxFontSi'+'ze']=_0x91d3bc,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x53a336){this['_autoFitWi'+'dth']!==_0x53a336&&(this['_autoFitWi'+'dth']=_0x53a336,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x3d1ae1){this['_autoFitHe'+'ight']!==_0x3d1ae1&&(this['_autoFitHe'+'ight']=_0x3d1ae1,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x20e80e){this['_maxLines']!==_0x20e80e&&(_0x20e80e===null&&this['_maxLines']===-(0x1b1e+-0x1926+-0x1f7*0x1)||(this['_maxLines']=_0x20e80e===null?-(0x87*0x1d+-0xdef+-0x15b):_0x20e80e,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x53dc79){if(_0x53dc79=!!_0x53dc79,this['_enableMar'+'kup']===_0x53dc79)return;this['_enableMar'+'kup']=_0x53dc79,this['font']&&this['_updateTex'+'t']();const _0x6e27cc=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x6e27cc);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x22f6f3){return this['_colorPale'+'tte']['slice'](_0x22f6f3*(0x1*-0x1258+-0x306+-0x1561*-0x1),_0x22f6f3*(-0xfe9*0x2+-0x359*0x9+0x3df6)+(0x32f+-0x4*-0x208+0xf1*-0xc));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x5587f2){return this['_outlinePa'+'lette']['slice'](_0x5587f2*(0x1*-0x4d1+0x1*0xf1b+0x1*-0xa45),_0x5587f2*(-0x1*0x1fc3+0x1d27+-0x2a1*-0x1)+(0x2*-0xe2a+0x723*0x2+-0x1*-0xe13));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x144e5b){return this['_shadowPal'+'ette']['slice'](_0x144e5b*(-0x3*0x487+0x2a2*-0x1+0x103d),_0x144e5b*(0x173*0xa+0x2143+-0x3*0xfe9)+(0x2ee*0x5+-0x15b9+0x719));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x584c9b){_0x584c9b=Math['max'](-0x13*-0x19a+-0xaa9*-0x1+-0x9d*0x43,Math['min'](_0x584c9b,this['_symbols']['length'])),_0x584c9b!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x584c9b,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x5c5b7a){_0x5c5b7a=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x5c5b7a,this['_symbols']['length'])),_0x5c5b7a!==this['_rangeEnd']&&(this['_rangeEnd']=_0x5c5b7a,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Kd=new T(),_g=new q(),ni=new T(),kR=new T(),es=new q(),Yl=new q(),Kl=new q(),zn=new q();class Gt extends ue{constructor(_0x45a02c,_0x153eca){super(_0x45a02c,_0x153eca),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(-0x1*-0xdcd+0x3c8*-0x3+0x4*-0x9d),this['_anchor']=new Q(),this['_localAnch'+'or']=new Q(),this['_pivot']=new W(),this['_width']=this['_calculate'+'dWidth']=-0xbe5+-0x5*0xf6+0x10d3,this['_height']=this['_calculate'+'dHeight']=0x1ba5+-0xaa3*-0x1+0x1bc*-0x16,this['_margin']=new Q(0x120b*-0x2+-0x1*-0x623+-0xbb*-0x29,-0xcd2*0x2+0x1043+0x961,-(0xab+-0xc05+0x71*0x1a),-(0x2535+-0xb57+-0x19be)),this['_modelTran'+'sform']=new q(),this['_screenToW'+'orld']=new q(),this['_anchorTra'+'nsform']=new q(),this['_anchorDir'+'ty']=!(0x1c*-0xf9+-0x14e*-0x4+0x1604),this['_parentWor'+'ldTransfor'+'m']=new q(),this['_screenTra'+'nsform']=new q(),this['_screenCor'+'ners']=[new T(),new T(),new T(),new T()],this['_canvasCor'+'ners']=[new W(),new W(),new W(),new W()],this['_worldCorn'+'ers']=[new T(),new T(),new T(),new T()],this['_cornersDi'+'rty']=!(-0x5d9+-0x3*0xaed+0x26a0),this['_canvasCor'+'nersDirty']=!(0x7e7*0x3+0x120b+0xa70*-0x4),this['_worldCorn'+'ersDirty']=!(0x1b37*-0x1+0x267b+-0xb44),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=_h,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=-0x27b+0x689*-0x1+-0x1*-0x904,this['_fitMode']=gh,this['_useInput']=!(0x7*-0x18a+0x1*-0x26ab+0x3172),this['_layers']=[tl],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(0x193b+0x1dc+-0xd8b*0x2),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=0xc6e*0x2+0x6d5+-0x1*0x1fb1,this['_maskOffse'+'t']=0x177c+-0x124+-0x1658+0.5,this['_maskedBy']=null);}get['data'](){const _0x2da51f=this['system']['store'][this['entity']['getGuid']()];return _0x2da51f?_0x2da51f['data']:null;}set['enabled'](_0x269001){const _0x4f8099=this['data'],_0x483cc0=_0x4f8099['enabled'];_0x4f8099['enabled']=_0x269001,this['fire']('set','enabled',_0x483cc0,_0x269001);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>-0x1*0x13eb+0x3ce+0x101d+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>0x3*0x95e+0x5a6+-0x21c0+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x1a2299){_0x1a2299 instanceof Q?this['_anchor']['copy'](_0x1a2299):this['_anchor']['set'](..._0x1a2299),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(-0x2*-0xbe5+0x1897*0x1+-0x3061),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x5599be){var _0x7f8abb,_0x1eb12e;this['_batchGrou'+'pId']!==_0x5599be&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x1*0x2417+-0x1f46*-0x1+0xd79*-0x5&&((_0x7f8abb=this['system']['app']['batcher'])==null||_0x7f8abb['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x5599be>=0x6b*0x5b+0x1*-0x959+-0x1cb0&&((_0x1eb12e=this['system']['app']['batcher'])==null||_0x1eb12e['insert'](et['ELEMENT'],_0x5599be,this['entity'])),_0x5599be<0x103*0x20+-0x54f*-0x7+0x9ef*-0x7&&this['_batchGrou'+'pId']>=-0x194+0x949*0x1+0x1*-0x7b5&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x5599be);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x98990a){this['_margin']['y']=_0x98990a;const _0x194b29=this['entity']['getLocalPo'+'sition'](),_0x42d027=this['_absTop'],_0xb5f526=this['_localAnch'+'or']['y']+_0x98990a;this['_setHeight'](_0x42d027-_0xb5f526),_0x194b29['y']=_0x98990a+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x194b29);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x39a647){this['_setCalcul'+'atedWidth'](_0x39a647,!(-0x4*0x84d+-0x1*0x1a33+0x3b67));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x905079){this['_setCalcul'+'atedHeight'](_0x905079,!(-0x1*0x1cfd+-0x32*-0xb2+-0x5c7));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x4f6e16=this['system']['app']['graphicsDe'+'vice'],_0x9deabe=this['screenCorn'+'ers'],_0x300c1d=_0x4f6e16['canvas']['clientWidt'+'h']/_0x4f6e16['width'],_0xda299=_0x4f6e16['canvas']['clientHeig'+'ht']/_0x4f6e16['height'];for(let _0x25c7b6=-0x2699+0xbe3+-0x107*-0x1a;_0x25c7b6<0x5a3*-0x2+0x24bb+-0x1971;_0x25c7b6++)this['_canvasCor'+'ners'][_0x25c7b6]['set'](_0x9deabe[_0x25c7b6]['x']*_0x300c1d,(_0x4f6e16['height']-_0x9deabe[_0x25c7b6]['y'])*_0xda299);return this['_canvasCor'+'nersDirty']=!(0x1778+-0x17c9+-0x52*-0x1),this['_canvasCor'+'ners'];}set['drawOrder'](_0x298344){let _0x1f87e5=-0x5b*0x46+0x25*-0x22+-0x2*-0xee6;this['screen']&&(_0x1f87e5=this['screen']['screen']['priority']),_0x298344>0x14d9ae1*0x1+-0x6fa11c+-0x1*-0x22063a&&(v['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x298344=-0x690d68+0x9326ef+-0x1*-0xd5e678),this['_drawOrder']=(_0x1f87e5<<-0x449*-0x8+0x28*0xf3+0x905*-0x8)+_0x298344,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x124ae6){this['_height']=_0x124ae6,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x124ae6,!(-0x19af+0xc8c+0xd23)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x4d2c26){if(this['_addedMode'+'ls']['length'])for(let _0x3bf16d=-0x1*0x9f5+0xeaa*-0x1+0x189f*0x1;_0x3bf16d<this['_layers']['length'];_0x3bf16d++){const _0x4fb532=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x3bf16d]);if(_0x4fb532){for(let _0x17e13b=0x1f7b+-0x15*-0x102+0x34a5*-0x1;_0x17e13b<this['_addedMode'+'ls']['length'];_0x17e13b++)_0x4fb532['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x17e13b]['meshInstan'+'ces']);}}if(this['_layers']=_0x4d2c26,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x5263e2=-0x1738+0x7f*0x1f+0x1*0x7d7;_0x5263e2<this['_layers']['length'];_0x5263e2++){const _0x1b7c0d=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x5263e2]);if(_0x1b7c0d){for(let _0x1c84a5=0x9e0+0x151f*0x1+0x17*-0x159;_0x1c84a5<this['_addedMode'+'ls']['length'];_0x1c84a5++)_0x1b7c0d['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x1c84a5]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x2ab8a9){this['_margin']['x']=_0x2ab8a9;const _0x56e69f=this['entity']['getLocalPo'+'sition'](),_0x127930=this['_absRight'],_0x54bfce=this['_localAnch'+'or']['x']+_0x2ab8a9;this['_setWidth'](_0x127930-_0x54bfce),_0x56e69f['x']=_0x2ab8a9+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x56e69f);}get['left'](){return this['_margin']['x'];}set['margin'](_0x573d05){this['_margin']['copy'](_0x573d05),this['_calculate'+'Size'](!(0x1*0x11a4+-0x4c5+-0xcdf),!(0x1*0x175+-0x2214+0x209f)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0xc33dda){const {pivot:_0x5d06c2,margin:_0x599594}=this,_0x2b669f=_0x5d06c2['x'],_0xd1dc9b=_0x5d06c2['y'];_0xc33dda instanceof W?_0x5d06c2['copy'](_0xc33dda):_0x5d06c2['set'](..._0xc33dda);const _0x256697=_0x599594['x']+_0x599594['z'],_0x589cf2=_0x5d06c2['x']-_0x2b669f;_0x599594['x']+=_0x256697*_0x589cf2,_0x599594['z']-=_0x256697*_0x589cf2;const _0x1043b0=_0x599594['y']+_0x599594['w'],_0x2176d7=_0x5d06c2['y']-_0xd1dc9b;_0x599594['y']+=_0x1043b0*_0x2176d7,_0x599594['w']-=_0x1043b0*_0x2176d7,this['_anchorDir'+'ty']=!(-0x7b9+0x2e*-0x6d+0x1b4f*0x1),this['_cornersDi'+'rty']=!(0x1594+0x411*-0x7+0x1*0x6e3),this['_worldCorn'+'ersDirty']=!(-0x15f6*-0x1+0x104d+-0x2643),this['_calculate'+'Size'](!(0x15d*0x16+-0xdbb+-0x2*0x821),!(0x1*-0x26dd+0xc1+-0x261d*-0x1)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x5d06c2);}get['pivot'](){return this['_pivot'];}set['right'](_0x121301){this['_margin']['z']=_0x121301;const _0x1f2cb9=this['entity']['getLocalPo'+'sition'](),_0x41aeea=this['_absLeft'],_0x594b98=this['_localAnch'+'or']['z']-_0x121301;this['_setWidth'](_0x594b98-_0x41aeea),_0x1f2cb9['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x121301-this['_calculate'+'dWidth']*(0x8f*-0x25+0x8b*-0x29+0x2aef-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x1f2cb9);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x29ab96=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][0x381+-0x1*-0x1e7c+0x21fd*-0x1];this['_screenCor'+'ners'][-0x4f*-0x65+0x1*0xf1+-0x201c]['set'](this['_absLeft'],this['_absBottom'],0xfd8+-0x5f*-0x14+0x2*-0xba2),this['_screenCor'+'ners'][-0x23ef+-0x54d+0x293d]['set'](this['_absRight'],this['_absBottom'],-0x1*0x1bf7+-0x48c*0x7+-0x3bcb*-0x1),this['_screenCor'+'ners'][-0x53a*-0x7+0x1f0f+0x5*-0xd87]['set'](this['_absRight'],this['_absTop'],-0x19a9+-0xb29*-0x3+-0x3e9*0x2),this['_screenCor'+'ners'][0x1725+-0x1f7a*0x1+-0x42c*-0x2]['set'](this['_absLeft'],this['_absTop'],0x1*0x1dff+-0x17e4+0x3*-0x209);const _0x1fc1dc=this['screen']['screen']['screenSpac'+'e'];for(let _0x1ea32e=-0x5*-0x7bf+0x2b1*-0xb+-0x490*0x2;_0x1ea32e<-0xeb9*0x1+-0x1843+0x30*0xd0;_0x1ea32e++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x1ea32e],this['_screenCor'+'ners'][_0x1ea32e]),_0x1fc1dc&&this['_screenCor'+'ners'][_0x1ea32e]['mulScalar'](this['screen']['screen']['scale']),_0x29ab96&&this['_screenCor'+'ners'][_0x1ea32e]['add'](_0x29ab96);return this['_cornersDi'+'rty']=!(-0x1*0x1edf+0x25*-0x5f+-0x1*-0x2c9b),this['_canvasCor'+'nersDirty']=!(0x4*-0x1cc+-0x1f*0xd+0x8c3),this['_worldCorn'+'ersDirty']=!(0xe9e+0x865+-0x2b*0x89),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:-0x6bc+0xde0+0x4*-0x1c9;}get['textHeight'](){return this['_text']?this['_text']['height']:-0x8*0x20e+0x1ebb+-0xe4b;}set['top'](_0x491199){this['_margin']['w']=_0x491199;const _0x4dee0d=this['entity']['getLocalPo'+'sition'](),_0x11d14c=this['_absBottom'],_0x381d08=this['_localAnch'+'or']['w']-_0x491199;this['_setHeight'](_0x381d08-_0x11d14c),_0x4dee0d['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x491199-this['_calculate'+'dHeight']*(-0x5b*-0x1+-0x183a+0x1*0x17e0-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x4dee0d);}get['top'](){return this['_margin']['w'];}set['type'](_0x293144){_0x293144!==this['_type']&&(this['_type']=_0x293144,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x293144===rf?this['_image']=new _R(this):_0x293144===ex&&(this['_text']=new OR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x1fb239){this['_useInput']!==_0x1fb239&&(this['_useInput']=_0x1fb239,this['system']['app']['elementInp'+'ut']?_0x1fb239?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(-0x221a+-0x49b+-0x44d*-0x9)&&v['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x1fb239));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x91098e){this['_fitMode']=_0x91098e,this['_calculate'+'Size'](!(0x1*-0x37e+-0x13*-0x1cf+-0x1edf),!(-0x1440+-0x525+0x1965)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x592b9a){this['_width']=_0x592b9a,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x592b9a,!(-0x12a9*0x1+-0x517*0x4+0x2705*0x1)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x401c08=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){es['copy'](this['screen']['screen']['_screenMat'+'rix']),es['data'][0xa*-0x2f2+0x1f69+-0xf4*0x2]=-es['data'][-0x1891*0x1+0xc4b+0xc53],es['mul2'](this['screen']['getWorldTr'+'ansform'](),es);for(let _0x165ebb=-0x37d+0x1fac+-0x1c2f;_0x165ebb<-0x133b+-0x930+0x1c6f;_0x165ebb++)es['transformP'+'oint'](_0x401c08[_0x165ebb],this['_worldCorn'+'ers'][_0x165ebb]);}}else{const _0x1030c2=this['entity']['getLocalPo'+'sition']();es['setTransla'+'te'](-_0x1030c2['x'],-_0x1030c2['y'],-_0x1030c2['z']),Yl['setTRS'](T['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0x1030c2['x'],_0x1030c2['y'],_0x1030c2['z']);const _0x54eed9=this['entity']['parent']?this['entity']['parent']:this['entity'];zn['copy'](_0x54eed9['getWorldTr'+'ansform']()),zn['mul'](Kl)['mul'](Yl)['mul'](es),ni['set'](_0x1030c2['x']-this['pivot']['x']*this['calculated'+'Width'],_0x1030c2['y']-this['pivot']['y']*this['calculated'+'Height'],_0x1030c2['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x379*0xa+-0xfe0+-0x2*0x96d]),ni['set'](_0x1030c2['x']+(0xe4b+-0xd7*-0x17+-0x219b-this['pivot']['x'])*this['calculated'+'Width'],_0x1030c2['y']-this['pivot']['y']*this['calculated'+'Height'],_0x1030c2['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0xb68+-0x1*-0x7be+-0x1325]),ni['set'](_0x1030c2['x']+(0xcda+0x1*-0x11fa+0x521-this['pivot']['x'])*this['calculated'+'Width'],_0x1030c2['y']+(0x232*0x7+-0x1*-0x2299+-0x31f6-this['pivot']['y'])*this['calculated'+'Height'],_0x1030c2['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x20cf+0xf15+-0x2fe2]),ni['set'](_0x1030c2['x']-this['pivot']['x']*this['calculated'+'Width'],_0x1030c2['y']+(0x649*-0x4+0x1696+-0x28f*-0x1-this['pivot']['y'])*this['calculated'+'Height'],_0x1030c2['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][-0x1*-0x247d+-0x764*0x3+-0x2*0x727]);}return this['_worldCorn'+'ersDirty']=!(0x30d+-0x12b*0x4+0x1a0),this['_worldCorn'+'ers'];}set['fontSize'](_0x3668a8){this['_setValue']('fontSize',_0x3668a8);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x107961){this['_setValue']('minFontSiz'+'e',_0x107961);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x5141d8){this['_setValue']('maxFontSiz'+'e',_0x5141d8);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x3ed8d2){this['_setValue']('maxLines',_0x3ed8d2);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x2b24ec){this['_setValue']('autoFitWid'+'th',_0x2b24ec);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x2c75e0){this['_setValue']('autoFitHei'+'ght',_0x2c75e0);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x4c0c4e){this['_setValue']('color',_0x4c0c4e);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x5a469d){this['_setValue']('font',_0x5a469d);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x5c4f6f){this['_setValue']('fontAsset',_0x5c4f6f);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x2f544c){this['_setValue']('spacing',_0x2f544c);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x310627){this['_setValue']('lineHeight',_0x310627);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x96d99){this['_setValue']('wrapLines',_0x96d99);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x42df86){this['_setValue']('lines',_0x42df86);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0xab7d4a){this['_setValue']('alignment',_0xab7d4a);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x2bf4dc){this['_setValue']('autoWidth',_0x2bf4dc);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x280c8c){this['_setValue']('autoHeight',_0x280c8c);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x4f20cd){this['_setValue']('rtlReorder',_0x4f20cd);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x45b1d6){this['_setValue']('unicodeCon'+'verter',_0x45b1d6);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x5169a0){this['_setValue']('text',_0x5169a0);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x223a00){this['_setValue']('key',_0x223a00);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x4f0caa){this['_setValue']('texture',_0x4f0caa);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x1867c7){this['_setValue']('textureAss'+'et',_0x1867c7);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x34e5d1){this['_setValue']('material',_0x34e5d1);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x915931){this['_setValue']('materialAs'+'set',_0x915931);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x495741){this['_setValue']('sprite',_0x495741);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x15e6cf){this['_setValue']('spriteAsse'+'t',_0x15e6cf);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x35b37c){this['_setValue']('spriteFram'+'e',_0x35b37c);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x30993c){this['_setValue']('pixelsPerU'+'nit',_0x30993c);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0xcef8a4){this['_setValue']('opacity',_0xcef8a4);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x1204af){this['_setValue']('rect',_0x1204af);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x3f54e5){this['_setValue']('mask',_0x3f54e5);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x298cb6){this['_setValue']('outlineCol'+'or',_0x298cb6);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x3b4e3e){this['_setValue']('outlineThi'+'ckness',_0x3b4e3e);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x3ea260){this['_setValue']('shadowColo'+'r',_0x3ea260);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x3c36d4){this['_setValue']('shadowOffs'+'et',_0x3c36d4);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x6071b3){this['_setValue']('enableMark'+'up',_0x6071b3);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x50d590){this['_setValue']('rangeStart',_0x50d590);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x23fc8b){this['_setValue']('rangeEnd',_0x23fc8b);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x3ee8c5,_0x9ef33){this['_text']?(this['_text'][_0x3ee8c5]!==_0x9ef33&&this['_dirtyBatc'+'h'](),this['_text'][_0x3ee8c5]=_0x9ef33):this['_image']&&(this['_image'][_0x3ee8c5]!==_0x9ef33&&this['_dirtyBatc'+'h'](),this['_image'][_0x3ee8c5]=_0x9ef33);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=We['prototype']['_sync'],this['entity']['setPositio'+'n']=We['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=We['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x5efe84,_0x19d28a,_0x2236f8){if(!this['element']['screen']){We['prototype']['setPositio'+'n']['call'](this,_0x5efe84,_0x19d28a,_0x2236f8);return;}_0x5efe84 instanceof T?Kd['copy'](_0x5efe84):Kd['set'](_0x5efe84,_0x19d28a,_0x2236f8),this['getWorldTr'+'ansform'](),_g['copy'](this['element']['_screenToW'+'orld'])['invert'](),_g['transformP'+'oint'](Kd,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x117ec9,_0x2f3a29,_0xfa5123){_0x117ec9 instanceof T?this['localPosit'+'ion']['copy'](_0x117ec9):this['localPosit'+'ion']['set'](_0x117ec9,_0x2f3a29,_0xfa5123);const _0x483d49=this['element'],_0x4d8973=this['localPosit'+'ion'],_0x3471f9=_0x483d49['_pivot'];_0x483d49['_margin']['x']=_0x4d8973['x']-_0x483d49['_calculate'+'dWidth']*_0x3471f9['x'],_0x483d49['_margin']['z']=_0x483d49['_localAnch'+'or']['z']-_0x483d49['_localAnch'+'or']['x']-_0x483d49['_calculate'+'dWidth']-_0x483d49['_margin']['x'],_0x483d49['_margin']['y']=_0x4d8973['y']-_0x483d49['_calculate'+'dHeight']*_0x3471f9['y'],_0x483d49['_margin']['w']=_0x483d49['_localAnch'+'or']['w']-_0x483d49['_localAnch'+'or']['y']-_0x483d49['_calculate'+'dHeight']-_0x483d49['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x4c1e32=this['element'],_0x36c009=_0x4c1e32['screen'];if(_0x36c009){if(_0x4c1e32['_anchorDir'+'ty']){let _0x4c892f=0x1*0xc9d+0x1*0x1697+0x4*-0x8cd,_0x350b16=0x11e5+-0x651+-0x72*0x1a,_0x53fb29=-0x23da+-0xf1b+0x32f5,_0x337df7=-0x1*-0x29f+0xdc0+-0x105e;if(this['_parent']&&this['_parent']['element'])_0x4c892f=this['_parent']['element']['calculated'+'Width'],_0x350b16=this['_parent']['element']['calculated'+'Height'],_0x53fb29=this['_parent']['element']['pivot']['x'],_0x337df7=this['_parent']['element']['pivot']['y'];else{const _0x379016=_0x36c009['screen']['resolution'];_0x4c892f=_0x379016['x']/_0x36c009['screen']['scale'],_0x350b16=_0x379016['y']/_0x36c009['screen']['scale'];}_0x4c1e32['_anchorTra'+'nsform']['setTransla'+'te'](_0x4c892f*(_0x4c1e32['anchor']['x']-_0x53fb29),-(_0x350b16*(_0x337df7-_0x4c1e32['anchor']['y'])),-0xe7d+0x49*-0x6b+-0x8*-0x5a0),_0x4c1e32['_anchorDir'+'ty']=!(-0x933*-0x2+-0x47*0x17+-0xc04),_0x4c1e32['_calculate'+'LocalAncho'+'rs']();}_0x4c1e32['_sizeDirty']&&_0x4c1e32['_calculate'+'Size'](!(0xad*-0x22+-0x587*0x5+0x329e),!(0x90b+-0x170f+0xe05));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x34a76b=this['localPosit'+'ion'],_0x3b735e=_0x4c1e32['_pivot'];_0x4c1e32['_margin']['x']=_0x34a76b['x']-_0x4c1e32['_calculate'+'dWidth']*_0x3b735e['x'],_0x4c1e32['_margin']['z']=_0x4c1e32['_localAnch'+'or']['z']-_0x4c1e32['_localAnch'+'or']['x']-_0x4c1e32['_calculate'+'dWidth']-_0x4c1e32['_margin']['x'],_0x4c1e32['_margin']['y']=_0x34a76b['y']-_0x4c1e32['_calculate'+'dHeight']*_0x3b735e['y'],_0x4c1e32['_margin']['w']=_0x4c1e32['_localAnch'+'or']['w']-_0x4c1e32['_localAnch'+'or']['y']-_0x4c1e32['_calculate'+'dHeight']-_0x4c1e32['_margin']['y'],this['_dirtyLoca'+'l']=!(-0x1c12*0x1+0x655+0x15be);}if(!_0x36c009){this['_dirtyWorl'+'d']&&(_0x4c1e32['_cornersDi'+'rty']=!(-0xee4*-0x2+-0x3*-0x42d+-0x2a4f),_0x4c1e32['_canvasCor'+'nersDirty']=!(-0x23bc+0x5e*0x3+0x22a2),_0x4c1e32['_worldCorn'+'ersDirty']=!(-0x192f+-0x106*-0x12+0x6c3)),We['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x4c1e32['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x4c1e32['_anchorTra'+'nsform']):_0x4c1e32['_screenToW'+'orld']['copy'](_0x4c1e32['_anchorTra'+'nsform']),_0x4c1e32['_modelTran'+'sform']['mul2'](_0x4c1e32['_screenToW'+'orld'],this['localTrans'+'form']),_0x36c009){_0x4c1e32['_screenToW'+'orld']['mul2'](_0x36c009['screen']['_screenMat'+'rix'],_0x4c1e32['_screenToW'+'orld']),_0x36c009['screen']['screenSpac'+'e']||_0x4c1e32['_screenToW'+'orld']['mul2'](_0x36c009['worldTrans'+'form'],_0x4c1e32['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x4c1e32['_screenToW'+'orld'],this['localTrans'+'form']);const _0x5e7e01=_0x4c1e32['_parentWor'+'ldTransfor'+'m'];_0x5e7e01['setIdentit'+'y']();const _0x432a95=this['_parent'];_0x432a95&&_0x432a95['element']&&_0x432a95!==_0x36c009&&(es['setTRS'](T['ZERO'],_0x432a95['getLocalRo'+'tation'](),_0x432a95['getLocalSc'+'ale']()),_0x5e7e01['mul2'](_0x432a95['element']['_parentWor'+'ldTransfor'+'m'],es));const _0x27b93e=ni;_0x27b93e['set'](-0x1b41+-0x205+0x1d46,0x14b3+-0x628*0x4+-0x1*-0x3ed,this['localPosit'+'ion']['z']);const _0x5775=kR;_0x5775['set'](_0x4c1e32['_absLeft']+_0x4c1e32['_pivot']['x']*_0x4c1e32['calculated'+'Width'],_0x4c1e32['_absBottom']+_0x4c1e32['_pivot']['y']*_0x4c1e32['calculated'+'Height'],-0x5c9+-0x1630+0x1bf9),es['setTransla'+'te'](-_0x5775['x'],-_0x5775['y'],-_0x5775['z']),Yl['setTRS'](_0x27b93e,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0x5775['x'],_0x5775['y'],_0x5775['z']),_0x4c1e32['_screenTra'+'nsform']['mul2'](_0x4c1e32['_parentWor'+'ldTransfor'+'m'],Kl)['mul'](Yl)['mul'](es),_0x4c1e32['_cornersDi'+'rty']=!(0x1cc7+-0x1*-0xa86+-0x274d*0x1),_0x4c1e32['_canvasCor'+'nersDirty']=!(-0x35*-0xb8+-0x44*0x1f+-0xc*0x27d),_0x4c1e32['_worldCorn'+'ersDirty']=!(-0x10db*0x1+-0xf88+0x2063);}else this['worldTrans'+'form']['copy'](_0x4c1e32['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(0xef*-0x25+-0x1c27+0x3eb3);}}['_onInsert'](_0x3de4c0){const _0x2b2fdc=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x2b2fdc['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x22e061=this['entity'];for(;_0x22e061;){const _0x1a6a80=_0x22e061['parent'];if((_0x1a6a80===null||_0x1a6a80['screen'])&&_0x22e061['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),v['trace'](Ss,'register\x20p'+'rerender'));const _0x2cef6c=this['system']['_prerender']['indexOf'](this['entity']);_0x2cef6c>=-0x368+-0x23b8+0x2720&&this['system']['_prerender']['splice'](_0x2cef6c,0x609*-0x2+0x3*-0x80f+-0x8*-0x488),this['system']['_prerender']['indexOf'](_0x22e061)<0x18ed+0x2b4*-0x9+0x99*-0x1&&this['system']['_prerender']['push'](_0x22e061),v['trace'](Ss,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x22e061['name']);}_0x22e061=_0x1a6a80;}}['_onPrerend'+'er'](){for(let _0x58e214=0x2076+0xa*0x2a4+-0x3ade;_0x58e214<this['system']['_prerender']['length'];_0x58e214++){const _0xc79774=this['system']['_prerender'][_0x58e214];v['trace'](Ss,'prerender\x20'+'from:\x20'+_0xc79774['name']),_0xc79774['element']&&_0xc79774['element']['syncMask'](0x1*0x91+0x1b6a+-0x1bfa);}this['system']['_prerender']['length']=0x74a+0x9*0x49+-0x9db;}['_bindScree'+'n'](_0x87b93){_0x87b93['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x2e5094){_0x2e5094['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x4f8328){this['screen']&&this['screen']!==_0x4f8328&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x880c27=this['screen'];this['screen']=_0x4f8328,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x880c27),this['_anchorDir'+'ty']=!(0x1*-0x21e9+-0x2*0xbe3+-0x1*-0x39af);const _0x412a2a=this['entity']['children'];for(let _0x502cc7=-0x2007+-0x763+0x276a,_0xc313b2=_0x412a2a['length'];_0x502cc7<_0xc313b2;_0x502cc7++)_0x412a2a[_0x502cc7]['element']&&_0x412a2a[_0x502cc7]['element']['_updateScr'+'een'](_0x4f8328);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x35a1c3){const _0xeaac4d=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0xeaac4d['mask'],_0x35a1c3);}['_setMasked'+'By'](_0x48f846){const _0x48d448=this['_image']||this['_text'];if(_0x48f846){const _0x5d7757=_0x48f846['element']['_image']['_maskRef'];v['trace'](Ss,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x5d7757),_0x48d448==null||_0x48d448['_setStenci'+'l'](new qs({'ref':_0x5d7757,'func':Ch})),this['_maskedBy']=_0x48f846;}else v['trace'](Ss,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x48d448==null||_0x48d448['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x28cfb9,_0x2932d8){var _0xa28894,_0x4c683d;if(_0x28cfb9){if(this['_setMasked'+'By'](_0x28cfb9),this['mask']){const _0x4e5438=_0x28cfb9['element']['_image']['_maskRef'],_0x1a1bd7=new qs({'ref':_0x4e5438,'func':Ch,'zpass':HS});this['_image']['_setStenci'+'l'](_0x1a1bd7),this['_image']['_maskRef']=_0x2932d8,_0x2932d8++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x1a1bd7['ref']+(-0xdc4+-0x269f*-0x1+-0x18da*0x1))),v['trace'](Ss,'depth++\x20to'+':\x20',_0x2932d8),_0x28cfb9=this['entity'];}const _0x3bc4cb=this['entity']['children'];for(let _0xa9748a=0x1c42*0x1+0x43*0x45+-0x2e51,_0x5910ee=_0x3bc4cb['length'];_0xa9748a<_0x5910ee;_0xa9748a++)(_0xa28894=_0x3bc4cb[_0xa9748a]['element'])==null||_0xa28894['_updateMas'+'k'](_0x28cfb9,_0x2932d8);this['mask']&&_0x2932d8--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x5d4b83=new qs({'ref':_0x2932d8,'func':Ai,'zpass':GS});this['_image']['_setStenci'+'l'](_0x5d4b83),this['_image']['_maskRef']=_0x2932d8,_0x2932d8++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x5d4b83['ref']),v['trace'](Ss,'depth++\x20to'+':\x20',_0x2932d8),_0x28cfb9=this['entity'];}const _0x115676=this['entity']['children'];for(let _0x10b2ca=-0x7c4+0x1c1+0x603,_0x5caffd=_0x115676['length'];_0x10b2ca<_0x5caffd;_0x10b2ca++)(_0x4c683d=_0x115676[_0x10b2ca]['element'])==null||_0x4c683d['_updateMas'+'k'](_0x28cfb9,_0x2932d8);this['mask']&&_0x2932d8--;}}['_parseUpTo'+'Screen'](){const _0x585a4e={'screen':null,'mask':null};let _0x3b015a=this['entity']['_parent'];for(;_0x3b015a&&!_0x3b015a['screen'];)_0x3b015a['element']&&_0x3b015a['element']['mask']&&(_0x585a4e['mask']||(_0x585a4e['mask']=_0x3b015a)),_0x3b015a=_0x3b015a['parent'];return _0x3b015a&&_0x3b015a['screen']&&(_0x585a4e['screen']=_0x3b015a),_0x585a4e;}['_onScreenR'+'esize'](_0x191268){this['_anchorDir'+'ty']=!(-0x322+0x1*-0x790+0x2*0x559),this['_cornersDi'+'rty']=!(-0x2141+-0x19be+0x3aff),this['_worldCorn'+'ersDirty']=!(-0x1edf*-0x1+-0x1531+0x76*-0x15),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x191268);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x3659de=-0x1dd6+0xfe*0x1a+0x7f2,_0x143c31=-0x3*0xae3+0xc6c+-0x1825*-0x1;const _0x24f70d=this['entity']['_parent'];if(_0x24f70d&&_0x24f70d['element'])_0x3659de=_0x24f70d['element']['calculated'+'Width'],_0x143c31=_0x24f70d['element']['calculated'+'Height'];else{if(this['screen']){const _0x3b3a4e=this['screen']['screen']['resolution'],_0x8cd9d5=this['screen']['screen']['scale'];_0x3659de=_0x3b3a4e['x']/_0x8cd9d5,_0x143c31=_0x3b3a4e['y']/_0x8cd9d5;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x3659de,this['_anchor']['y']*_0x143c31,this['_anchor']['z']*_0x3659de,this['_anchor']['w']*_0x143c31);}['getOffsetP'+'osition'](_0x5ef074,_0x30b3e6){const _0x4fe656=this['entity']['getLocalPo'+'sition']()['clone']();return _0x4fe656['x']+=_0x5ef074,_0x4fe656['y']+=_0x30b3e6,this['_screenToW'+'orld']['transformP'+'oint'](_0x4fe656,_0x4fe656),_0x4fe656;}['onLayersCh'+'anged'](_0x1ca616,_0x6ae5b1){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x1ca616['off']('add',this['onLayerAdd'+'ed'],this),_0x1ca616['off']('remove',this['onLayerRem'+'oved'],this),_0x6ae5b1['on']('add',this['onLayerAdd'+'ed'],this),_0x6ae5b1['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x1125ab){this['layers']['indexOf'](_0x1125ab['id'])<0x3*-0x7ab+-0x17e*-0x13+-0x559*0x1||(this['_image']?_0x1125ab['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x1125ab['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x2117cf){this['layers']['indexOf'](_0x2117cf['id'])<0x1279*0x1+0x4c*-0x6d+0xde3||(this['_image']?_0x2117cf['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x2117cf['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x52f30c;const _0x25366e=this['system']['app']['scene'],_0x30e1f7=_0x25366e['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x25366e['on']('set:layers',this['onLayersCh'+'anged'],this),_0x30e1f7&&(this['_evtLayerA'+'dded']=_0x30e1f7['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x30e1f7['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=-0x26e*0xd+0x7*0x109+0x1*0x1857&&((_0x52f30c=this['system']['app']['batcher'])==null||_0x52f30c['insert'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x182ad0,_0x36ca40,_0x7791c6,_0x2d1338;const _0x5855ba=this['system']['app']['scene']['layers'];(_0x182ad0=this['_evtLayers'+'Changed'])==null||_0x182ad0['off'](),this['_evtLayers'+'Changed']=null,_0x5855ba&&((_0x36ca40=this['_evtLayerA'+'dded'])==null||_0x36ca40['off'](),this['_evtLayerA'+'dded']=null,(_0x7791c6=this['_evtLayerR'+'emoved'])==null||_0x7791c6['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=0x2ba*-0x1+0x179*0x10+-0xe*0x17d&&((_0x2d1338=this['system']['app']['batcher'])==null||_0x2d1338['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x45661c,_0x5cf8b7){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x3a0a2d=this['_absRight']-this['_absLeft'],_0x5d5c43=this['_absTop']-this['_absBottom'];_0x45661c?this['_setWidth'](_0x3a0a2d):this['_setCalcul'+'atedWidth'](_0x3a0a2d,!(0x1824+0x17b5+-0x5fb*0x8)),_0x5cf8b7?this['_setHeight'](_0x5d5c43):this['_setCalcul'+'atedHeight'](_0x5d5c43,!(0x7*-0xf+0x2*0xd39+-0x1a08));const _0x2fe734=this['entity']['getLocalPo'+'sition']();_0x2fe734['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x2fe734['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x2fe734),this['_sizeDirty']=!(-0x37*0x80+0xd*-0x2a1+-0x3dae*-0x1);}['_setWidth'](_0x45b105){this['_width']=_0x45b105,this['_setCalcul'+'atedWidth'](_0x45b105,!(-0x1038+0x1b4*-0x3+0x1555)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x1151ec){this['_height']=_0x1151ec,this['_setCalcul'+'atedHeight'](_0x1151ec,!(0x14f*0x17+0x13b7*-0x1+0x1*-0xa61)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x5e0bc6,_0x4210a9){if(!(Math['abs'](_0x5e0bc6-this['_calculate'+'dWidth'])<=0x1*-0x1b6a+0x76b*0x2+-0x7*-0x1cc+0.0001)){if(this['_calculate'+'dWidth']=_0x5e0bc6,this['entity']['_dirtifyLo'+'cal'](),_0x4210a9){const _0x30e458=this['entity']['getLocalPo'+'sition'](),_0x4c3183=this['_pivot'];this['_margin']['x']=_0x30e458['x']-this['_calculate'+'dWidth']*_0x4c3183['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x2ed2b3,_0x2adf73){if(!(Math['abs'](_0x2ed2b3-this['_calculate'+'dHeight'])<=0x8f0+-0x63b+-0x2b5+0.0001)){if(this['_calculate'+'dHeight']=_0x2ed2b3,this['entity']['_dirtifyLo'+'cal'](),_0x2adf73){const _0x21eafd=this['entity']['getLocalPo'+'sition'](),_0x4491b0=this['_pivot'];this['_margin']['y']=_0x21eafd['y']-this['_calculate'+'dHeight']*_0x4491b0['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x456b85=this['entity']['_children'];for(let _0x534bbe=0x8*-0x146+0x7*0xe4+0x3f4,_0x3b22d1=_0x456b85['length'];_0x534bbe<_0x3b22d1;_0x534bbe++)_0x456b85[_0x534bbe]['element']&&(_0x456b85[_0x534bbe]['element']['_anchorDir'+'ty']=!(-0x24*-0x90+0x263*0x5+-0xb*0x2ed),_0x456b85[_0x534bbe]['element']['_sizeDirty']=!(0x1c9*0x8+0x1e08+0x2c50*-0x1));}['addModelTo'+'Layers'](_0x4ec099){this['_addedMode'+'ls']['push'](_0x4ec099);for(let _0x3f6fa2=-0x1acd+-0x26e*0x3+-0xb5d*-0x3;_0x3f6fa2<this['layers']['length'];_0x3f6fa2++){const _0x459790=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x3f6fa2]);_0x459790&&_0x459790['addMeshIns'+'tances'](_0x4ec099['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x685030){const _0x133aee=this['_addedMode'+'ls']['indexOf'](_0x685030);_0x133aee>=-0x944+-0x4*0x990+0x2f84&&this['_addedMode'+'ls']['splice'](_0x133aee,0x1c36+0xf5+-0x1d2a);for(let _0x552b57=-0x145e*0x1+0x23bf*0x1+-0xf61;_0x552b57<this['layers']['length'];_0x552b57++){const _0x42ff59=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x552b57]);_0x42ff59&&_0x42ff59['removeMesh'+'Instances'](_0x685030['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x563960=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x563960&&(this['_maskOffse'+'t']=0x148d*-0x1+-0x1*0x146b+0x28f8+0.5,this['_offsetRea'+'dAt']=_0x563960);const _0x43a23d=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=-0x13d6+0xf*-0x71+0x1a75+0.001,_0x43a23d;}['isVisibleF'+'orCamera'](_0x2983a1){let _0x2327b8,_0xaed2d1,_0x31706b,_0x24b4de;if(this['maskedBy']){const _0x168a4a=this['maskedBy']['element']['screenCorn'+'ers'];_0x2327b8=Math['min'](Math['min'](_0x168a4a[-0x2*-0xba8+0x137d+-0x2acd]['x'],_0x168a4a[0x1*-0x47f+0x12f8+-0xe78]['x']),Math['min'](_0x168a4a[-0x4*-0x8b1+-0x1729+0x1*-0xb99]['x'],_0x168a4a[0x9ea+0xa2b+-0x1412]['x'])),_0xaed2d1=Math['max'](Math['max'](_0x168a4a[0x1*-0xf6b+-0xfa8+0x1f13]['x'],_0x168a4a[0x1*0x266f+-0x1e49+-0x825]['x']),Math['max'](_0x168a4a[0x1cb5*0x1+0x1e0d+-0x4*0xeb0]['x'],_0x168a4a[-0x151b+0x2004*0x1+-0xae6*0x1]['x'])),_0x24b4de=Math['min'](Math['min'](_0x168a4a[0xd*0x26f+0x1e29*0x1+-0x3dcc]['y'],_0x168a4a[0x434+0xec3+-0x12f6]['y']),Math['min'](_0x168a4a[0x1*0x23fb+0x621+-0x2a1a]['y'],_0x168a4a[-0x110e+-0x24a4+0x1*0x35b5]['y'])),_0x31706b=Math['max'](Math['max'](_0x168a4a[-0x1816+-0x1184+0x299a]['y'],_0x168a4a[-0x1*0x24e3+-0x65f+-0x5*-0x8a7]['y']),Math['max'](_0x168a4a[0x1e98+0x1f69+-0x3b*0x10d]['y'],_0x168a4a[0x155+0x1df2+0x2*-0xfa2]['y']));}else{const _0x121777=this['system']['app']['graphicsDe'+'vice']['width'],_0xf84a96=this['system']['app']['graphicsDe'+'vice']['height'],_0x1d0a78=_0x2983a1['_rect']['z']*_0x121777,_0x27296f=_0x2983a1['_rect']['w']*_0xf84a96;_0x2327b8=_0x2983a1['_rect']['x']*_0x121777,_0xaed2d1=_0x2327b8+_0x1d0a78,_0x31706b=(-0x298+-0x43c+0x9f*0xb-_0x2983a1['_rect']['y'])*_0xf84a96,_0x24b4de=_0x31706b-_0x27296f;}const _0x14a4ab=this['screenCorn'+'ers'],_0x34dc7f=Math['min'](Math['min'](_0x14a4ab[-0x1*-0x2138+-0x6*0x34e+-0xd64]['x'],_0x14a4ab[0x2e1+-0x153a+0x125a]['x']),Math['min'](_0x14a4ab[-0x14b4+0x1555+-0x9f]['x'],_0x14a4ab[-0x19e+-0x119*0x3+0x4ec]['x'])),_0x453749=Math['max'](Math['max'](_0x14a4ab[0xac*0x28+0x6e4+0x871*-0x4]['x'],_0x14a4ab[-0x414*-0x2+0xd89+0x10*-0x15b]['x']),Math['max'](_0x14a4ab[0x229+0x1c12+-0x3*0xa13]['x'],_0x14a4ab[0x28+-0x1*-0x25f9+-0x261e]['x'])),_0x442e6d=Math['min'](Math['min'](_0x14a4ab[0x4b*0x1d+-0x943*0x3+0x134a]['y'],_0x14a4ab[-0x4*0x52a+-0x1*-0xe6d+-0x4*-0x18f]['y']),Math['min'](_0x14a4ab[0x1*-0x19b1+0x18a*0x17+-0x9b3*0x1]['y'],_0x14a4ab[-0x97*0xd+-0xa39*0x2+0x1c2*0x10]['y'])),_0x48d3ba=Math['max'](Math['max'](_0x14a4ab[0x5f*0x31+-0x962+0x1*-0x8cd]['y'],_0x14a4ab[0x5a3*0x2+-0x2*0x281+-0x643]['y']),Math['max'](_0x14a4ab[-0x1*-0x34a+0x20f*-0x1+-0x139]['y'],_0x14a4ab[0x4*-0x5a1+0x215b+-0xad4]['y']));return!(_0x453749<_0x2327b8||_0x34dc7f>_0xaed2d1||_0x442e6d>_0x31706b||_0x48d3ba<_0x24b4de);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(-0x1*0x7f1+-0x4d2*0x2+0x1196);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(0xcb9*0x2+0x5*0x7bb+-0x4018);}['_dirtyBatc'+'h'](){var _0x3d0880;this['batchGroup'+'Id']!==-(0x4*0x11b+-0x878+0x3d*0x11)&&((_0x3d0880=this['system']['app']['batcher'])==null||_0x3d0880['markGroupD'+'irty'](this['batchGroup'+'Id']));}}c(Gt,'EVENT_MOUS'+'EDOWN','mousedown'),c(Gt,'EVENT_MOUS'+'EUP','mouseup'),c(Gt,'EVENT_MOUS'+'EENTER','mouseenter'),c(Gt,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(Gt,'EVENT_MOUS'+'EMOVE','mousemove'),c(Gt,'EVENT_MOUS'+'EWHEEL','mousewheel'),c(Gt,'EVENT_CLIC'+'K','click'),c(Gt,'EVENT_TOUC'+'HSTART','touchstart'),c(Gt,'EVENT_TOUC'+'HEND','touchend'),c(Gt,'EVENT_TOUC'+'HMOVE','touchmove'),c(Gt,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class BR{constructor(){this['enabled']=!(-0x2*0xc73+-0x29*-0x74+-0x652*-0x1);}}const NR=['enabled'];class zR extends Xe{constructor(_0x4172b9){super(_0x4172b9),this['id']='element',this['ComponentT'+'ype']=Gt,this['DataType']=BR,this['schema']=NR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new he(_0x4172b9['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':rs,'name':'element-sy'+'stem'});const _0x305fc0=this['_defaultTe'+'xture']['lock'](),_0x212b41=new Uint8Array(0x85e+0x148+-0x9a2);_0x212b41[0xad6+0x2598+-0x1837*0x2]=0x9*0x8d+-0x12*-0x7e+-0xcd2,_0x212b41[0x4*0x14b+0x2459+-0x2984]=-0xa1*-0x4+-0x705+0x580,_0x212b41[-0x1*0x1a3f+0x1c91+0x8*-0x4a]=-0x1722+0x1077+0x7aa,_0x212b41[0x4c3*0x3+0x1af*-0x6+-0x3*0x164]=-0x1*0xfa1+-0x1*-0x208d+-0x54f*0x3,_0x305fc0['set'](_0x212b41),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x587a6f,_0x2240b8,_0x348e6c){_0x587a6f['_beingInit'+'ialized']=!(0x8bb+-0x10*-0x13e+-0x1c9b*0x1),_0x2240b8['anchor']!==void(-0x1*-0x26e5+-0xdf2+-0x18f3)&&(_0x2240b8['anchor']instanceof Q?_0x587a6f['anchor']['copy'](_0x2240b8['anchor']):_0x587a6f['anchor']['set'](_0x2240b8['anchor'][0x8f9*-0x1+0xa*0x1a6+0x1*-0x783],_0x2240b8['anchor'][0x117*-0x9+-0x168d+0x205d],_0x2240b8['anchor'][0x1d96+0x2579+-0x430d*0x1],_0x2240b8['anchor'][0x7b0*-0x4+-0x37*0x58+0x31ab])),_0x2240b8['pivot']!==void(0x1c5b+-0x222+-0x1a39)&&(_0x2240b8['pivot']instanceof W?_0x587a6f['pivot']['copy'](_0x2240b8['pivot']):_0x587a6f['pivot']['set'](_0x2240b8['pivot'][0xb41*-0x2+0xb63+-0x27*-0x49],_0x2240b8['pivot'][-0x1abf+-0x149d+0x5*0x979]));const _0x463442=Math['abs'](_0x587a6f['anchor']['x']-_0x587a6f['anchor']['z'])>0x51a+-0x25f2+0x20d8+0.001,_0x41ad8d=Math['abs'](_0x587a6f['anchor']['y']-_0x587a6f['anchor']['w'])>-0x1b78+-0x2661+0x41d9+0.001;let _0x1e69bd=!(0x1f*-0x26+-0xb4*0x9+-0xaef*-0x1),_0xd2804;_0x2240b8['margin']!==void(0x2663+0x1090+-0x9*0x61b)&&(_0x2240b8['margin']instanceof Q?_0x587a6f['margin']['copy'](_0x2240b8['margin']):_0x587a6f['_margin']['set'](_0x2240b8['margin'][0x1291+0x23b9+-0x1*0x364a],_0x2240b8['margin'][0x3c8+0x23b+-0x602],_0x2240b8['margin'][0x1*0x13f4+0x14c4+-0x28b6],_0x2240b8['margin'][-0x4d*-0x66+0x62d+-0x24d8]),_0x1e69bd=!(0x9cf+-0x242f+0x1a60)),_0x2240b8['left']!==void(-0xed4+0x73*0x56+-0xbe7*0x2)&&(_0x587a6f['_margin']['x']=_0x2240b8['left'],_0x1e69bd=!(-0x360+-0x172e+-0x21*-0xce)),_0x2240b8['bottom']!==void(-0x1f3c+0x55d*0x5+0x46b)&&(_0x587a6f['_margin']['y']=_0x2240b8['bottom'],_0x1e69bd=!(-0x1813+0x1*0xe7f+0x4ca*0x2)),_0x2240b8['right']!==void(0x233*0x9+-0x346*0x2+-0xd3f)&&(_0x587a6f['_margin']['z']=_0x2240b8['right'],_0x1e69bd=!(-0x43d+-0x4c7*0x5+0x1c20)),_0x2240b8['top']!==void(-0x1213+-0x1dc8+-0x1*-0x2fdb)&&(_0x587a6f['_margin']['w']=_0x2240b8['top'],_0x1e69bd=!(-0x4a9+0xc36+-0x78d)),_0x1e69bd&&(_0x587a6f['margin']=_0x587a6f['_margin']);let _0x5c68e2=!(-0x4a4+0x45*-0x6f+0x2290);_0x2240b8['width']!==void(0x596+0xf02*-0x1+0x96c)&&!_0x463442?_0x587a6f['width']=_0x2240b8['width']:_0x463442&&(_0x5c68e2=!(-0x65f*0x1+0x1ec5+0x6*-0x411)),_0x2240b8['height']!==void(-0x2065+-0x149b+0x3500)&&!_0x41ad8d?_0x587a6f['height']=_0x2240b8['height']:_0x41ad8d&&(_0x5c68e2=!(0x1d*0x23+-0x1f3b+0x1b44)),_0x5c68e2&&(_0x587a6f['anchor']=_0x587a6f['anchor']),_0x2240b8['enabled']!==void(-0x17a7+0x49*0x66+-0x56f)&&(_0x587a6f['enabled']=_0x2240b8['enabled']),_0x2240b8['useInput']!==void(0x93e*0x1+-0x1eb3+0x1*0x1575)&&(_0x587a6f['useInput']=_0x2240b8['useInput']),_0x2240b8['fitMode']!==void(0x1*0x16df+-0x2*-0x137d+0x47*-0xdf)&&(_0x587a6f['fitMode']=_0x2240b8['fitMode']),_0x587a6f['batchGroup'+'Id']=_0x2240b8['batchGroup'+'Id']===void(0xe*-0x281+0xf9*0xe+-0x2*-0xab8)||_0x2240b8['batchGroup'+'Id']===null?-(0x1695+-0x1*-0x1105+-0x5d*0x6d):_0x2240b8['batchGroup'+'Id'],_0x2240b8['layers']&&Array['isArray'](_0x2240b8['layers'])&&(_0x587a6f['layers']=_0x2240b8['layers']['slice'](0x2533+0x3b8+0x19*-0x1a3)),_0x2240b8['type']!==void(-0x1815+0x235f+-0xb4a)&&(_0x587a6f['type']=_0x2240b8['type']),_0x587a6f['type']===rf?(_0x2240b8['rect']!==void(0x608*0x3+-0x1776+-0x1*-0x55e)&&(_0x587a6f['rect']=_0x2240b8['rect']),_0x2240b8['color']!==void(-0x18e5+0x18d+0x8*0x2eb)&&(_0xd2804=_0x2240b8['color'],_0xd2804 instanceof Y||(_0xd2804=new Y(_0x2240b8['color'][0x1077+0xef+-0x1166],_0x2240b8['color'][-0x1ce+-0xbf9*-0x1+0x2*-0x515],_0x2240b8['color'][0x245e+0x168b+0x3ae7*-0x1])),_0x587a6f['color']=_0xd2804),_0x2240b8['opacity']!==void(0x2eb*0xd+-0x24b5+-0x13a)&&(_0x587a6f['opacity']=_0x2240b8['opacity']),_0x2240b8['textureAss'+'et']!==void(0x101c+0x263c+-0x3658)&&(_0x587a6f['textureAss'+'et']=_0x2240b8['textureAss'+'et']),_0x2240b8['texture']&&(_0x587a6f['texture']=_0x2240b8['texture']),_0x2240b8['spriteAsse'+'t']!==void(-0x1cd*0xb+0x1aa2+-0x6d3)&&(_0x587a6f['spriteAsse'+'t']=_0x2240b8['spriteAsse'+'t']),_0x2240b8['sprite']&&(_0x587a6f['sprite']=_0x2240b8['sprite']),_0x2240b8['spriteFram'+'e']!==void(-0x22dc+-0x22a5+0x9*0x7b9)&&(_0x587a6f['spriteFram'+'e']=_0x2240b8['spriteFram'+'e']),_0x2240b8['pixelsPerU'+'nit']!==void(0x27a+-0x1*-0x6b2+-0x92c)&&_0x2240b8['pixelsPerU'+'nit']!==null&&(_0x587a6f['pixelsPerU'+'nit']=_0x2240b8['pixelsPerU'+'nit']),_0x2240b8['materialAs'+'set']!==void(-0x1337+-0x1*-0x78b+0xbac)&&(_0x587a6f['materialAs'+'set']=_0x2240b8['materialAs'+'set']),_0x2240b8['material']&&(_0x587a6f['material']=_0x2240b8['material']),_0x2240b8['mask']!==void(0x3*-0xba9+0x1ff3*0x1+0x308)&&(_0x587a6f['mask']=_0x2240b8['mask'])):_0x587a6f['type']===ex&&(_0x2240b8['autoWidth']!==void(-0x22d8+-0xa97+0x2d6f)&&(_0x587a6f['autoWidth']=_0x2240b8['autoWidth']),_0x2240b8['autoHeight']!==void(0x3d3+-0x6e6*-0x5+0x1*-0x2651)&&(_0x587a6f['autoHeight']=_0x2240b8['autoHeight']),_0x2240b8['rtlReorder']!==void(-0x2*0x135+-0x1511*-0x1+0x12a7*-0x1)&&(_0x587a6f['rtlReorder']=_0x2240b8['rtlReorder']),_0x2240b8['unicodeCon'+'verter']!==void(-0x1*0x1357+-0x4fd*0x2+-0x1d51*-0x1)&&(_0x587a6f['unicodeCon'+'verter']=_0x2240b8['unicodeCon'+'verter']),_0x2240b8['text']!==null&&_0x2240b8['text']!==void(-0x20c1+-0x3*0xc22+0x4527)?_0x587a6f['text']=_0x2240b8['text']:_0x2240b8['key']!==null&&_0x2240b8['key']!==void(0x1842+0x23c9+-0x3c0b)&&(_0x587a6f['key']=_0x2240b8['key']),_0x2240b8['color']!==void(-0x41*-0x62+-0xae7+-0xdfb)&&(_0xd2804=_0x2240b8['color'],_0xd2804 instanceof Y||(_0xd2804=new Y(_0xd2804[-0x1*-0xa55+0x1*0x1fc1+-0x2a16],_0xd2804[0x1da3+0x40f+-0x21b1],_0xd2804[0xda+-0x22f*0x7+0xe71])),_0x587a6f['color']=_0xd2804),_0x2240b8['opacity']!==void(0x17bb+0x1*-0x8b7+-0x7c*0x1f)&&(_0x587a6f['opacity']=_0x2240b8['opacity']),_0x2240b8['spacing']!==void(-0x1*0x1ed6+0x1454+0xa82)&&(_0x587a6f['spacing']=_0x2240b8['spacing']),_0x2240b8['fontSize']!==void(-0x2612+0x1243+-0xb*-0x1cd)&&(_0x587a6f['fontSize']=_0x2240b8['fontSize'],_0x2240b8['lineHeight']||(_0x587a6f['lineHeight']=_0x2240b8['fontSize'])),_0x2240b8['lineHeight']!==void(-0x22a8+-0x1791+-0xb*-0x54b)&&(_0x587a6f['lineHeight']=_0x2240b8['lineHeight']),_0x2240b8['maxLines']!==void(0x25a4+-0x18a2+-0xd02)&&(_0x587a6f['maxLines']=_0x2240b8['maxLines']),_0x2240b8['wrapLines']!==void(0x2612+0x981*0x1+-0x2f93)&&(_0x587a6f['wrapLines']=_0x2240b8['wrapLines']),_0x2240b8['minFontSiz'+'e']!==void(-0x13*-0x1cd+-0x138f*0x1+-0xea8)&&(_0x587a6f['minFontSiz'+'e']=_0x2240b8['minFontSiz'+'e']),_0x2240b8['maxFontSiz'+'e']!==void(0xeeb+-0xd*-0x287+0x2*-0x17e3)&&(_0x587a6f['maxFontSiz'+'e']=_0x2240b8['maxFontSiz'+'e']),_0x2240b8['autoFitWid'+'th']&&(_0x587a6f['autoFitWid'+'th']=_0x2240b8['autoFitWid'+'th']),_0x2240b8['autoFitHei'+'ght']&&(_0x587a6f['autoFitHei'+'ght']=_0x2240b8['autoFitHei'+'ght']),_0x2240b8['fontAsset']!==void(0x19ab*0x1+-0xbe9+0x6*-0x24b)&&(_0x587a6f['fontAsset']=_0x2240b8['fontAsset']),_0x2240b8['font']!==void(0x1156+0x1e9*-0x1+-0xf6d)&&(_0x587a6f['font']=_0x2240b8['font']),_0x2240b8['alignment']!==void(-0x1741+0x1c8e+-0x54d)&&(_0x587a6f['alignment']=_0x2240b8['alignment']),_0x2240b8['outlineCol'+'or']!==void(0xc2*-0x6+0xf78+0xc*-0xe9)&&(_0x587a6f['outlineCol'+'or']=_0x2240b8['outlineCol'+'or']),_0x2240b8['outlineThi'+'ckness']!==void(0x27*0x6+0x1*-0x3a6+0x8c*0x5)&&(_0x587a6f['outlineThi'+'ckness']=_0x2240b8['outlineThi'+'ckness']),_0x2240b8['shadowColo'+'r']!==void(0x7f0*-0x2+0x153d*0x1+0x1*-0x55d)&&(_0x587a6f['shadowColo'+'r']=_0x2240b8['shadowColo'+'r']),_0x2240b8['shadowOffs'+'et']!==void(0x1cf3*0x1+-0x2*-0x647+-0x55*0x7d)&&(_0x587a6f['shadowOffs'+'et']=_0x2240b8['shadowOffs'+'et']),_0x2240b8['enableMark'+'up']!==void(0xc5*-0x3+-0x235*0xc+0x1ccb)&&(_0x587a6f['enableMark'+'up']=_0x2240b8['enableMark'+'up']));const _0x2bb806=_0x587a6f['_parseUpTo'+'Screen']();_0x2bb806['screen']&&_0x587a6f['_updateScr'+'een'](_0x2bb806['screen']),super['initialize'+'ComponentD'+'ata'](_0x587a6f,_0x2240b8,_0x348e6c),_0x587a6f['_beingInit'+'ialized']=!(-0x258f+-0x131c+0x38ac),_0x587a6f['type']===rf&&_0x587a6f['_image']['_meshDirty']&&_0x587a6f['_image']['_updateMes'+'h'](_0x587a6f['_image']['mesh']);}['onAddCompo'+'nent'](_0x67fe05,_0x386d53){_0x67fe05['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x402e91,_0x516b4a){_0x516b4a['onRemove']();}['cloneCompo'+'nent'](_0x59063a,_0x2b3d5b){const _0x43a66b=_0x59063a['element'],_0x68dd85={'enabled':_0x43a66b['enabled'],'width':_0x43a66b['width'],'height':_0x43a66b['height'],'anchor':_0x43a66b['anchor']['clone'](),'pivot':_0x43a66b['pivot']['clone'](),'margin':_0x43a66b['margin']['clone'](),'alignment':_0x43a66b['alignment']&&_0x43a66b['alignment']['clone']()||_0x43a66b['alignment'],'autoWidth':_0x43a66b['autoWidth'],'autoHeight':_0x43a66b['autoHeight'],'type':_0x43a66b['type'],'rect':_0x43a66b['rect']&&_0x43a66b['rect']['clone']()||_0x43a66b['rect'],'rtlReorder':_0x43a66b['rtlReorder'],'unicodeConverter':_0x43a66b['unicodeCon'+'verter'],'materialAsset':_0x43a66b['materialAs'+'set'],'material':_0x43a66b['material'],'color':_0x43a66b['color']&&_0x43a66b['color']['clone']()||_0x43a66b['color'],'opacity':_0x43a66b['opacity'],'textureAsset':_0x43a66b['textureAss'+'et'],'texture':_0x43a66b['texture'],'spriteAsset':_0x43a66b['spriteAsse'+'t'],'sprite':_0x43a66b['sprite'],'spriteFrame':_0x43a66b['spriteFram'+'e'],'pixelsPerUnit':_0x43a66b['pixelsPerU'+'nit'],'spacing':_0x43a66b['spacing'],'lineHeight':_0x43a66b['lineHeight'],'wrapLines':_0x43a66b['wrapLines'],'layers':_0x43a66b['layers'],'fontSize':_0x43a66b['fontSize'],'minFontSize':_0x43a66b['minFontSiz'+'e'],'maxFontSize':_0x43a66b['maxFontSiz'+'e'],'autoFitWidth':_0x43a66b['autoFitWid'+'th'],'autoFitHeight':_0x43a66b['autoFitHei'+'ght'],'maxLines':_0x43a66b['maxLines'],'fontAsset':_0x43a66b['fontAsset'],'font':_0x43a66b['font'],'useInput':_0x43a66b['useInput'],'fitMode':_0x43a66b['fitMode'],'batchGroupId':_0x43a66b['batchGroup'+'Id'],'mask':_0x43a66b['mask'],'outlineColor':_0x43a66b['outlineCol'+'or']&&_0x43a66b['outlineCol'+'or']['clone']()||_0x43a66b['outlineCol'+'or'],'outlineThickness':_0x43a66b['outlineThi'+'ckness'],'shadowColor':_0x43a66b['shadowColo'+'r']&&_0x43a66b['shadowColo'+'r']['clone']()||_0x43a66b['shadowColo'+'r'],'shadowOffset':_0x43a66b['shadowOffs'+'et']&&_0x43a66b['shadowOffs'+'et']['clone']()||_0x43a66b['shadowOffs'+'et'],'enableMarkup':_0x43a66b['enableMark'+'up']};return _0x43a66b['key']!==void(0x9*0x124+0x1*-0x21bd+0x1779)&&_0x43a66b['key']!==null?_0x68dd85['key']=_0x43a66b['key']:_0x68dd85['text']=_0x43a66b['text'],this['addCompone'+'nt'](_0x2b3d5b,_0x68dd85);}['getTextEle'+'mentMateri'+'al'](_0x52cc68,_0x276940,_0xa5d33){const _0x260ed1=(_0x52cc68&&-0x1586+0x69d+0xeea)|(_0x276940&&-0x1eb8+-0xbf5*0x1+-0x619*-0x7)|(_0xa5d33&&-0x295*-0xe+-0x1*0xaa3+-0x6b*0x3d);let _0x1bf88b=this['_defaultTe'+'xtMaterial'+'s'][_0x260ed1];if(_0x1bf88b)return _0x1bf88b;let _0x38470d='TextMateri'+'al';return _0x1bf88b=new cs(),_0x276940?(_0x1bf88b['msdfMap']=this['_defaultTe'+'xture'],_0x1bf88b['msdfTextAt'+'tribute']=_0xa5d33,_0x1bf88b['emissive']['set'](-0x1ace+-0x2bd*-0x3+0x1298,0x1f5d+0x515*0x1+0x1eb*-0x13,0x23ba+0x16e4*-0x1+-0xcd5)):(_0x38470d='Bitmap'+_0x38470d,_0x1bf88b['emissive']['set'](0x1*-0x233e+0x23af*0x1+-0x70,0x2b3*-0xd+0x292+0xb5*0x2e,-0x1e7c+0x1645+-0x107*-0x8),_0x1bf88b['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x1bf88b['opacityMap']=this['_defaultTe'+'xture'],_0x1bf88b['opacityMap'+'Channel']='a'),_0x52cc68&&(_0x38470d='ScreenSpac'+'e'+_0x38470d,_0x1bf88b['depthTest']=!(0x5fe+0x2*0x788+0x1*-0x150d)),_0x1bf88b['name']='default'+_0x38470d,_0x1bf88b['useLightin'+'g']=!(-0x8a5*-0x1+0x1d69+-0x260d*0x1),_0x1bf88b['useTonemap']=!(0x12a+-0x2*0xa5b+0x37*0x5b),_0x1bf88b['useFog']=!(-0x14e+-0x151*0x11+0x1*0x17b0),_0x1bf88b['useSkybox']=!(-0x1ff2+0x1fed+0x6),_0x1bf88b['diffuse']['set'](0x13*-0xb+0x5*-0x151+0x766,-0x1d*0x121+-0x1daa+-0x47*-0xe1,-0x10c5+-0x2462+-0x3527*-0x1),_0x1bf88b['opacity']=-0xe95*-0x1+-0x1fe5+0x1150+0.5,_0x1bf88b['blendType']=hr,_0x1bf88b['depthWrite']=!(0x2561*-0x1+-0x150b*0x1+0x3a6d),_0x1bf88b['emissiveVe'+'rtexColor']=!(-0x653*-0x4+-0xa51+-0xefb*0x1),_0x1bf88b['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x260ed1]=_0x1bf88b,_0x1bf88b;}['_createBas'+'eImageMate'+'rial'](){const _0x279987=new cs();return _0x279987['diffuse']['set'](0x2206+0x8a1*-0x3+-0x1*0x823,0x2680+0x133c*0x2+0x99f*-0x8,-0x2*0x1261+-0x1b5*0x1+0x2677),_0x279987['emissive']['set'](-0x75b+0xc23+-0x4c7,-0x1e1*-0xd+0x1*-0x1072+-0x7fa*0x1,-0x2405*-0x1+-0xd*-0x162+0x1aff*-0x2),_0x279987['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x279987['opacityMap']=this['_defaultTe'+'xture'],_0x279987['opacityMap'+'Channel']='a',_0x279987['useLightin'+'g']=!(0x1cd4+-0xb6*-0x13+0x1*-0x2a55),_0x279987['useTonemap']=!(0x2135+0x2b*0x17+0x2511*-0x1),_0x279987['useFog']=!(0xac1*-0x1+-0x17c9+0x228b),_0x279987['useSkybox']=!(-0x20b*-0xf+0x6c0+-0x2564),_0x279987['blendType']=hr,_0x279987['depthWrite']=!(0x1f*0x77+-0x1*-0x7f9+-0x151*0x11),_0x279987;}['getImageEl'+'ementMater'+'ial'](_0x50de74,_0x223c81,_0x299a9b,_0x2faccf){return _0x50de74?_0x223c81?_0x299a9b?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(0x1*0xbee+-0x7*-0x65+0x758*-0x2),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=0x1dcf+-0x91+0x1f3*-0xf,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(0x1d5+0x1eb6+-0x11*0x1ea),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(-0x1*0x602+0x495*0x1+0x16e),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(-0x20fb*-0x1+-0xea6*0x1+-0x2*0x92a),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(-0x1*-0xa6d+-0x15b9+-0xb*-0x107),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x2faccf?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(-0x20d6+0xc97+0x1440),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=-0x1a02*0x1+-0x8fe+0x1d*0x135,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(-0x1e8*-0x4+-0x181f+-0x4*-0x420),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(0x14b5+0x20ba+-0x356e),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(0x21b*0xb+-0x3*-0xbfe+0x6*-0x9db),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(0x2383+0x1293*-0x1+0x5a5*-0x3),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(-0x6a3+0x14a8+0x9c*-0x17),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=0x187e+-0x8*0x36f+-0x7*-0x6d,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(-0x37a*0xa+-0x19e5+-0x3caa*-0x1),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(0x693+-0x12a6+0xc14),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(0x18+0x3*0x7bf+-0x1754),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(0x24+-0x54b+0x528),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x299a9b?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(0x3a1+0x10fb+0x1*-0x149b),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x2faccf?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(0x2356+-0xb*0xe1+-0xdb*0x1e),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(-0x143*-0x5+-0x1c2c+-0x2*-0xaef),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x223c81?_0x299a9b?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=-0xb34+0x1*0x55c+0x5d9,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(-0x86a+-0x8*-0x16+0x7bb),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(0x1937+-0x42*-0x67+-0x33c4),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(-0x5d1*-0x1+0x1*0xffe+-0x15ce),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(0xe5*0x1d+0x26e*-0x1+-0x1782*0x1),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x2faccf?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=0x432+0x261d*0x1+0x2d2*-0xf,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(-0xe10+0x1*0xf1b+-0x26*0x7),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(-0x1*-0xc7+-0x314+0x24e*0x1),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(0x3dd*-0x1+-0x1d*-0x66+-0x7b0),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(0x5f6+-0xce0+-0x6eb*-0x1),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=0x1*-0x100f+0xed1+0x1d*0xb,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(-0x120*0xa+0x2ed*-0xc+0x2e5d),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(0xce2+0x15c0+-0x22a1),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(0xf5a*0x2+-0x105c+-0xe57),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(0x1255+-0x403+-0xe51*0x1),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x299a9b?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x2faccf?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x3ada65){this['_unicodeCo'+'nverter']=_0x3ada65;}['registerRt'+'lReorder'](_0x307f71){this['_rtlReorde'+'r']=_0x307f71;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Un='free',Vn='limited',Gn='locked',UR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class Up extends ue{constructor(_0x259b38,_0x444730){super(_0x259b38,_0x444730),v['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(-0x729+0x10a1+-0x978),this['_linearMot'+'ionX']=Gn,this['_linearLim'+'itsX']=new W(0x3fa*0x1+0x3*0xbca+-0x8*0x4eb,0x15dd+0x8b0+-0x1e8d),this['_linearSpr'+'ingX']=!(-0x25c8+-0x12d+-0x2*-0x137b),this['_linearSti'+'ffnessX']=-0xe4a+0x1f30+-0x10e6,this['_linearDam'+'pingX']=0x1d56+-0xf5*0x5+-0x188c,this['_linearEqu'+'ilibriumX']=-0x7*0x3e1+-0x20de*0x1+0xc01*0x5,this['_linearMot'+'ionY']=Gn,this['_linearLim'+'itsY']=new W(0x15c2+0x1eff+-0x49*0xb9,0x1*0x2627+0x15ed+0x301*-0x14),this['_linearSpr'+'ingY']=!(-0x1eeb+0x1*-0x1505+0x33f1*0x1),this['_linearSti'+'ffnessY']=0x11c4+0x1967+-0x2b2b,this['_linearDam'+'pingY']=-0xa99+0x5*0x46f+-0xb91,this['_linearEqu'+'ilibriumY']=0x1*0x1879+0x115e+-0x29d7*0x1,this['_linearMot'+'ionZ']=Gn,this['_linearLim'+'itsZ']=new W(-0x1533+-0x187c+0x923*0x5,-0x7ab+-0x214a+0xda7*0x3),this['_linearSpr'+'ingZ']=!(0xd7b+0x4cc+-0x1246),this['_linearSti'+'ffnessZ']=0x3af*-0x6+-0x2*0xaac+0x2b72,this['_linearDam'+'pingZ']=-0x178e+0x21e5*-0x1+-0x4*-0xe5d,this['_linearEqu'+'ilibriumZ']=-0xdc6+0x1f29+0x1163*-0x1,this['_angularMo'+'tionX']=Gn,this['_angularLi'+'mitsX']=new W(0x12f6+-0x17f8+-0x2*-0x281,-0x15e7+0x46*0x23+0xc55),this['_angularSp'+'ringX']=!(0x1*-0xe44+0x17ec+0x1*-0x9a7),this['_angularSt'+'iffnessX']=-0x140c+-0x55*0x31+-0x9*-0x409,this['_angularDa'+'mpingX']=-0xb*-0x11f+0x192c+-0x2580,this['_angularEq'+'uilibriumX']=0x549*0x2+-0x7fb*-0x1+0x3*-0x62f,this['_angularMo'+'tionY']=Gn,this['_angularLi'+'mitsY']=new W(0x1c64+-0x80a+-0xa2d*0x2,0x2*-0x81a+-0x26a5+0x36d9),this['_angularSp'+'ringY']=!(-0x1811+0x180e+-0x4*-0x1),this['_angularSt'+'iffnessY']=-0x4*-0x331+-0xa*0x237+-0x4b1*-0x2,this['_angularDa'+'mpingY']=-0x13b6+-0x43e+0x17f5,this['_angularEq'+'uilibriumY']=0x248b+-0x7a4+-0x1ce7,this['_angularMo'+'tionZ']=Gn,this['_angularLi'+'mitsZ']=new W(0x7*-0x251+0xbc4+-0x11*-0x43,0xad*-0x1f+-0x2394+0x3887),this['_angularSp'+'ringZ']=!(0x9e*0xb+-0x24ec*-0x1+0x2bb5*-0x1),this['_angularEq'+'uilibriumZ']=0x1802*0x1+0x18f9*0x1+0x30fb*-0x1,this['_angularDa'+'mpingZ']=-0x155f+-0x8bf*0x1+0x1e1f,this['_angularSt'+'iffnessZ']=0xb3*-0xa+0xecd+-0x7cf,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x4b1de){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x4b1de,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x4c2031){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x4c2031,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x186f7f){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x186f7f&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x186f7f),this['_breakForc'+'e']=_0x186f7f);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x303e3d){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x303e3d,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x2fd559){this['_angularLi'+'mitsX']['equals'](_0x2fd559)||(this['_angularLi'+'mitsX']['copy'](_0x2fd559),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x57be85){this['_angularMo'+'tionX']!==_0x57be85&&(this['_angularMo'+'tionX']=_0x57be85,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0xc20096){this['_angularLi'+'mitsY']['equals'](_0xc20096)||(this['_angularLi'+'mitsY']['copy'](_0xc20096),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x52e41b){this['_angularMo'+'tionY']!==_0x52e41b&&(this['_angularMo'+'tionY']=_0x52e41b,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x4a1723){this['_angularLi'+'mitsZ']['equals'](_0x4a1723)||(this['_angularLi'+'mitsZ']['copy'](_0x4a1723),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x3218b6){this['_angularMo'+'tionZ']!==_0x3218b6&&(this['_angularMo'+'tionZ']=_0x3218b6,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x2166f4){this['_linearLim'+'itsX']['equals'](_0x2166f4)||(this['_linearLim'+'itsX']['copy'](_0x2166f4),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x281ac9){this['_linearMot'+'ionX']!==_0x281ac9&&(this['_linearMot'+'ionX']=_0x281ac9,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x4b06b2){this['_linearLim'+'itsY']['equals'](_0x4b06b2)||(this['_linearLim'+'itsY']['copy'](_0x4b06b2),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x4a4f62){this['_linearMot'+'ionY']!==_0x4a4f62&&(this['_linearMot'+'ionY']=_0x4a4f62,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x14b8c5){this['_linearLim'+'itsZ']['equals'](_0x14b8c5)||(this['_linearLim'+'itsZ']['copy'](_0x14b8c5),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0xda86e3){this['_linearMot'+'ionZ']!==_0xda86e3&&(this['_linearMot'+'ionZ']=_0xda86e3,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x3f4748,_0x37cac4){const _0xa49eac=_0x3f4748['getTransla'+'tion'](),_0x3c8572=new se();_0x3c8572['setFromMat'+'4'](_0x3f4748);const _0x144fce=new Ammo['btVector3'](_0xa49eac['x'],_0xa49eac['y'],_0xa49eac['z']),_0x110cb9=new Ammo['btQuaterni'+'on'](_0x3c8572['x'],_0x3c8572['y'],_0x3c8572['z'],_0x3c8572['w']);_0x37cac4['setOrigin'](_0x144fce),_0x37cac4['setRotatio'+'n'](_0x110cb9),Ammo['destroy'](_0x144fce),Ammo['destroy'](_0x110cb9);}['_updateAng'+'ularLimits'](){const _0x2ae572=this['_constrain'+'t'];if(_0x2ae572){let _0x27e4b6,_0x515a56,_0x410eaa,_0x27f23d,_0x289b7f,_0x5d4599;this['_angularMo'+'tionX']===Vn?(_0x27e4b6=this['_angularLi'+'mitsX']['x']*N['DEG_TO_RAD'],_0x27f23d=this['_angularLi'+'mitsX']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionX']===Un?(_0x27e4b6=0x1d5c+-0x1ba8+-0x1b3,_0x27f23d=-0x1909+-0xee*-0x1+0x181b):_0x27e4b6=_0x27f23d=0x17db+-0x165f+0x1*-0x17c,this['_angularMo'+'tionY']===Vn?(_0x515a56=this['_angularLi'+'mitsY']['x']*N['DEG_TO_RAD'],_0x289b7f=this['_angularLi'+'mitsY']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionY']===Un?(_0x515a56=-0x14e7+0x347+0x11a1,_0x289b7f=-0x36*-0x22+-0x1997*-0x1+-0x20c3):_0x515a56=_0x289b7f=0x2*0x7b7+0x1e4e+-0x2dbc,this['_angularMo'+'tionZ']===Vn?(_0x410eaa=this['_angularLi'+'mitsZ']['x']*N['DEG_TO_RAD'],_0x5d4599=this['_angularLi'+'mitsZ']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Un?(_0x410eaa=0x1933*0x1+-0x283+0x16af*-0x1,_0x5d4599=0x1*-0x1db1+-0x8*-0x481+0x657*-0x1):_0x410eaa=_0x5d4599=0xe04+0x2601+-0xc1*0x45;const _0x29fd8d=new Ammo['btVector3'](_0x27e4b6,_0x515a56,_0x410eaa);_0x2ae572['setAngular'+'LowerLimit'](_0x29fd8d),_0x29fd8d['setValue'](_0x27f23d,_0x289b7f,_0x5d4599),_0x2ae572['setAngular'+'UpperLimit'](_0x29fd8d),Ammo['destroy'](_0x29fd8d);}}['_updateLin'+'earLimits'](){const _0x32f1f9=this['_constrain'+'t'];if(_0x32f1f9){let _0x3a2f78,_0x143dcf,_0x2a623b,_0x2314fe,_0x541b86,_0x3b2136;this['_linearMot'+'ionX']===Vn?(_0x3a2f78=this['_linearLim'+'itsX']['x'],_0x2314fe=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Un?(_0x3a2f78=0x1a1*-0xf+0x11ed+-0x683*-0x1,_0x2314fe=0xdc3+0xa24+-0x17e7):_0x3a2f78=_0x2314fe=-0x128f+-0x1*-0x14d8+-0xf*0x27,this['_linearMot'+'ionY']===Vn?(_0x143dcf=this['_linearLim'+'itsY']['x'],_0x541b86=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Un?(_0x143dcf=-0x9ff*0x1+-0x3ac*-0x1+0x51*0x14,_0x541b86=-0x1*-0x50b+0xd84+-0x128f):_0x143dcf=_0x541b86=-0x1193+-0x14dc+0x266f,this['_linearMot'+'ionZ']===Vn?(_0x2a623b=this['_linearLim'+'itsZ']['x'],_0x3b2136=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Un?(_0x2a623b=0x9*0xfd+-0x13*-0xba+-0x16b2,_0x3b2136=-0xb*-0x155+-0x1*-0x26e3+-0x358a):_0x2a623b=_0x3b2136=-0xa*-0x16f+-0x1a51+0xbfb*0x1;const _0x3b489a=new Ammo['btVector3'](_0x3a2f78,_0x143dcf,_0x2a623b);_0x32f1f9['setLinearL'+'owerLimit'](_0x3b489a),_0x3b489a['setValue'](_0x2314fe,_0x541b86,_0x3b2136),_0x32f1f9['setLinearU'+'pperLimit'](_0x3b489a),Ammo['destroy'](_0x3b489a);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x1e2779=new q(),_0x52e20c=this['_entityA']['rigidbody']['body'];_0x52e20c['activate']();const _0x36c9a5=this['entity']['getWorldTr'+'ansform'](),_0x4f970c=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x1e2779['mul2'](_0x4f970c,_0x36c9a5);const _0x581b63=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x1e2779,_0x581b63),this['_entityB']&&this['_entityB']['rigidbody']){const _0x17afb2=this['_entityB']['rigidbody']['body'];_0x17afb2['activate']();const _0x9696f6=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x1e2779['mul2'](_0x9696f6,_0x36c9a5);const _0xb4d1db=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x1e2779,_0xb4d1db),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x52e20c,_0x17afb2,_0x581b63,_0xb4d1db,!this['_enableCol'+'lision']),Ammo['destroy'](_0xb4d1db);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x52e20c,_0x581b63,!this['_enableCol'+'lision']);Ammo['destroy'](_0x581b63);const _0x3a826f=['X','Y','Z','X','Y','Z'];for(let _0x4d2eef=0x1f1e+0x23*0x20+-0x237e;_0x4d2eef<-0x115f*0x1+-0x2618+0x377d;_0x4d2eef++){const _0x3f2dc5=_0x4d2eef<0x13a4+0xb*-0x1f4+0x1db?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x4d2eef,this[_0x3f2dc5+'Spring'+_0x3a826f[_0x4d2eef]]),this['_constrain'+'t']['setDamping'](_0x4d2eef,this[_0x3f2dc5+'Damping'+_0x3a826f[_0x4d2eef]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x4d2eef,this[_0x3f2dc5+('Equilibriu'+'m')+_0x3a826f[_0x4d2eef]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x4d2eef,this[_0x3f2dc5+'Stiffness'+_0x3a826f[_0x4d2eef]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x2ab5f3){for(const _0x19a9c0 of UR)_0x2ab5f3['hasOwnProp'+'erty'](_0x19a9c0)&&(_0x2ab5f3[_0x19a9c0]instanceof W?this['_'+_0x19a9c0]['copy'](_0x2ab5f3[_0x19a9c0]):this['_'+_0x19a9c0]=_0x2ab5f3[_0x19a9c0]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x499990,_0x329732,_0x2ac29c){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const VR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x3beee1=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x5cb6c1=>{['X','Y','Z']['forEach'](_0x1f4b85=>{const _0x12d05b=_0x3beee1+_0x5cb6c1+_0x1f4b85,_0x534f44='_'+_0x12d05b;let _0x3c58b=_0x3beee1==='linear'?0x4a3+0xa17+0x2*-0x75d:-0x221b*0x1+-0x1e83*0x1+-0x1*-0x40a1;_0x1f4b85==='Y'&&(_0x3c58b+=0x5b*0x4a+-0x370+0x16dd*-0x1),_0x1f4b85==='Z'&&(_0x3c58b+=-0x37*0x67+-0xa50*0x2+-0x29*-0x10b),Object['defineProp'+'erty'](Up['prototype'],_0x12d05b,{'get':function(){return this[_0x534f44];},'set':function(_0x5719d2){this[_0x534f44]!==_0x5719d2&&(this[_0x534f44]=_0x5719d2,this['_constrain'+'t'][VR[_0x5cb6c1]](_0x3c58b,_0x5719d2));}});});});});class GR{constructor(){this['enabled']=!(0x3*0x434+0x1368+-0x2004);}}const uf=['enabled'];class HR extends Xe{constructor(_0x6b6034){super(_0x6b6034),this['id']='joint',this['app']=_0x6b6034,this['ComponentT'+'ype']=Up,this['DataType']=GR,this['schema']=uf;}['initialize'+'ComponentD'+'ata'](_0x33e82b,_0x47e9ac,_0x1b9ca8){_0x33e82b['initFromDa'+'ta'](_0x47e9ac),super['initialize'+'ComponentD'+'ata'](_0x33e82b,_0x47e9ac,uf);}}ue['_buildAcce'+'ssors'](Up['prototype'],uf);class nx extends ue{constructor(){super(...arguments),c(this,'_minWidth',-0x3*-0xd3+0xd*-0x2c5+0x1d*0x128),c(this,'_minHeight',-0x13d9*-0x1+0x79c+-0x9*0x30d),c(this,'_maxWidth',null),c(this,'_maxHeight',null),c(this,'_fitWidthP'+'roportion',-0x1b2f+-0x17ec+-0x7*-0x74d),c(this,'_fitHeight'+'Proportion',0x1*-0x118b+0xe05*0x1+0x386),c(this,'_excludeFr'+'omLayout',!(-0x1*0x11b+0x1c1+0x37*-0x3));}set['minWidth'](_0x171f4c){_0x171f4c!==this['_minWidth']&&(this['_minWidth']=_0x171f4c,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x204d59){_0x204d59!==this['_minHeight']&&(this['_minHeight']=_0x204d59,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x1bc8b9){_0x1bc8b9!==this['_maxWidth']&&(this['_maxWidth']=_0x1bc8b9,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x5b93ad){_0x5b93ad!==this['_maxHeight']&&(this['_maxHeight']=_0x5b93ad,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x1c3447){_0x1c3447!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x1c3447,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x3a252e){_0x3a252e!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x3a252e,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x3c9927){_0x3c9927!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x3c9927,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class WR{constructor(){this['enabled']=!(-0x42b+0xe28+-0x1*0x9fd);}}const ax=['enabled'];class $R extends Xe{constructor(_0x497cbe){super(_0x497cbe),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=nx,this['DataType']=WR,this['schema']=ax;}['initialize'+'ComponentD'+'ata'](_0x216c2c,_0x1b20f9,_0x48490e){_0x1b20f9['enabled']!==void(-0x1051+-0x307+0x1358)&&(_0x216c2c['enabled']=_0x1b20f9['enabled']),_0x1b20f9['minWidth']!==void(-0x45*-0x2e+0x2508+0x2bf*-0x12)&&(_0x216c2c['minWidth']=_0x1b20f9['minWidth']),_0x1b20f9['minHeight']!==void(-0x19*-0x98+-0x2087*-0x1+-0x43*0xb5)&&(_0x216c2c['minHeight']=_0x1b20f9['minHeight']),_0x1b20f9['maxWidth']!==void(0x53*0x3a+-0x5da+0x1*-0xcf4)&&(_0x216c2c['maxWidth']=_0x1b20f9['maxWidth']),_0x1b20f9['maxHeight']!==void(0x1140+0x8b+0x5*-0x38f)&&(_0x216c2c['maxHeight']=_0x1b20f9['maxHeight']),_0x1b20f9['fitWidthPr'+'oportion']!==void(-0x11c3+-0x1f5e+0x1*0x3121)&&(_0x216c2c['fitWidthPr'+'oportion']=_0x1b20f9['fitWidthPr'+'oportion']),_0x1b20f9['fitHeightP'+'roportion']!==void(0x9b1+-0x1*-0x95f+-0x1310)&&(_0x216c2c['fitHeightP'+'roportion']=_0x1b20f9['fitHeightP'+'roportion']),_0x1b20f9['excludeFro'+'mLayout']!==void(0x24e0+0x153e+-0x3a1e)&&(_0x216c2c['excludeFro'+'mLayout']=_0x1b20f9['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x216c2c,_0x1b20f9,_0x48490e);}['cloneCompo'+'nent'](_0x152e58,_0x497af7){const _0x42c221=_0x152e58['layoutchil'+'d'];return this['addCompone'+'nt'](_0x497af7,{'enabled':_0x42c221['enabled'],'minWidth':_0x42c221['minWidth'],'minHeight':_0x42c221['minHeight'],'maxWidth':_0x42c221['maxWidth'],'maxHeight':_0x42c221['maxHeight'],'fitWidthProportion':_0x42c221['fitWidthPr'+'oportion'],'fitHeightProportion':_0x42c221['fitHeightP'+'roportion'],'excludeFromLayout':_0x42c221['excludeFro'+'mLayout']});}}ue['_buildAcce'+'ssors'](nx['prototype'],ax);const ff=0x195a+-0x146e+-0x4ec,qR=-0x97d+-0x1184*0x1+-0x1b02*-0x1,gg=-0x1b78+-0x1ebd*0x1+0x3a37,XR=-0x2321+-0x1cac+0x7fa*0x8,Zh={};Zh[pe]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Zh[ke]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const Vp={};Vp[pe]=ke,Vp[ke]=pe;const jR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},zt={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},Ut=new W();function ox(_0x42e265){let _0x55c2d6;const _0x3e4995=Zh[_0x42e265],_0x12c292=Zh[Vp[_0x42e265]];function _0x1989df(_0x5614e0,_0x103ab2){return-_0x103ab2[_0x3e4995['size']]*_0x5614e0['pivot'][_0x3e4995['axis']];}function _0x1307c8(_0x1c4a67,_0x11819d){return-_0x11819d[_0x12c292['size']]*_0x1c4a67['pivot'][_0x12c292['axis']];}function _0x269619(_0x14444e,_0x524443){return _0x524443[_0x3e4995['size']]*(0x11*0x19f+0x197*0x6+-0x2518-_0x14444e['pivot'][_0x3e4995['axis']]);}function _0x4efd8e(_0x587e96,_0x33dfc7){_0x587e96=_0x587e96['filter'](_0x287c45),_0x55c2d6=_0x33dfc7,Ut['x']=_0x55c2d6['containerS'+'ize']['x']-_0x55c2d6['padding']['x']-_0x55c2d6['padding']['z'],Ut['y']=_0x55c2d6['containerS'+'ize']['y']-_0x55c2d6['padding']['y']-_0x55c2d6['padding']['w'],_0x399a16(_0x587e96);const _0x46a7a8=_0xebc11f(_0x50d190(_0x587e96)),_0x31553d=_0x27ada8(_0x46a7a8,_0x7fe00(_0x46a7a8)),_0x1e8a3f=_0x3ef0a2(_0x46a7a8,_0x31553d);return _0x2d1c45(_0x46a7a8,_0x31553d,_0x1e8a3f),_0x58271d(_0x46a7a8,_0x31553d,_0x1e8a3f),_0x3beb8e(_0x46a7a8);}function _0x287c45(_0x4e2856){const _0xc29c66=_0x4e2856['entity']['layoutchil'+'d'];return!_0xc29c66||!_0xc29c66['enabled']||!_0xc29c66['excludeFro'+'mLayout'];}function _0x399a16(_0x36392c){for(let _0x4a6a15=0x7fb+0xef3+0x5*-0x496;_0x4a6a15<_0x36392c['length'];++_0x4a6a15){const _0x216f87=_0x36392c[_0x4a6a15],_0x4b1589=_0x216f87['anchor'];(_0x4b1589['x']!==0x11*-0x46+-0x1*0x8cd+0xd73||_0x4b1589['y']!==0x11e4*0x1+-0xc4a+-0x59a||_0x4b1589['z']!==-0x18b6*-0x1+0xdf3+-0x1*0x26a9||_0x4b1589['w']!==-0x1e11+-0x1b25+0x3936)&&(_0x216f87['anchor']=Q['ZERO']);}}function _0x50d190(_0x11bbd9){if(!_0x55c2d6['wrap'])return[_0x11bbd9];const _0x2cfefa=[[]],_0x3ee636=_0x447ee3(_0x11bbd9);let _0x333421=0x2419+-0x257b+0x162;const _0x24cc4c=_0x55c2d6[_0x3e4995['fitting']]===gg;for(let _0x269283=0x693*0x5+0x23ce+-0x1*0x44ad;_0x269283<_0x11bbd9['length'];++_0x269283){_0x2cfefa[_0x2cfefa['length']-(0x192d+-0x25*0xe9+0x881)]['length']>0xa*0x53+-0x4bb+-0x3*-0x7f&&(_0x333421+=_0x55c2d6['spacing'][_0x3e4995['axis']]);const _0x110297=_0x3ee636[_0x269283][_0x3e4995['size']];_0x333421+=_0x110297,!_0x24cc4c&&_0x333421>Ut[_0x3e4995['axis']]&&_0x2cfefa[_0x2cfefa['length']-(-0x313*-0x4+-0x1*-0x2565+-0x31b0)]['length']!==-0x1*0x89a+0x1d88+-0x14ee&&(_0x333421=_0x110297,_0x2cfefa['push']([])),_0x2cfefa[_0x2cfefa['length']-(0xead*-0x2+-0xbb5+0x2910)]['push'](_0x11bbd9[_0x269283]),_0x24cc4c&&_0x333421>Ut[_0x3e4995['axis']]&&_0x269283!==_0x11bbd9['length']-(-0x28f*-0xb+0x1bdc*-0x1+0x18*-0x3)&&(_0x333421=0xbc2+0x1ca2+-0x2864,_0x2cfefa['push']([]));}return _0x2cfefa;}function _0xebc11f(_0x523c52){const _0x15010f=_0x55c2d6['orientatio'+'n']===pe&&_0x55c2d6['reverseX']||_0x55c2d6['orientatio'+'n']===ke&&_0x55c2d6['reverseY'],_0xda9ba8=_0x55c2d6['orientatio'+'n']===pe&&_0x55c2d6['reverseY']||_0x55c2d6['orientatio'+'n']===ke&&_0x55c2d6['reverseX'];if(_0x15010f){for(let _0x1bc654=-0x10f4+-0xfa+0x1*0x11ee;_0x1bc654<_0x523c52['length'];++_0x1bc654)_0x15010f&&_0x523c52[_0x1bc654]['reverse']();}return _0xda9ba8&&_0x523c52['reverse'](),_0x523c52;}function _0x7fe00(_0x4be93a){const _0x12dea1=[];for(let _0x434d29=0x6ef*-0x3+-0x21f5*-0x1+0x2*-0x694;_0x434d29<_0x4be93a['length'];++_0x434d29){const _0x574c8b=_0x4be93a[_0x434d29],_0x14f514=_0x447ee3(_0x574c8b),_0x48bab2=_0x4cfd34(_0x14f514,_0x3e4995),_0x40a342=_0x10665f(_0x55c2d6[_0x3e4995['fitting']],_0x48bab2,Ut[_0x3e4995['axis']]);_0x40a342===zt['APPLY_STRE'+'TCHING']?_0x45fb74(_0x14f514,_0x48bab2,_0x3e4995):_0x40a342===zt['APPLY_SHRI'+'NKING']&&_0x1a0b87(_0x14f514,_0x48bab2,_0x3e4995),_0x12dea1['push'](_0x14f514);}return _0x12dea1;}function _0x27ada8(_0x175f07,_0x18cdfe){const _0x5b1863=[],_0x332849=[];for(let _0x49f05d=0xc83+0x382+-0x1005;_0x49f05d<_0x175f07['length'];++_0x49f05d){const _0x398170=_0x175f07[_0x49f05d];_0x398170['largestEle'+'ment']=null,_0x398170['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x569353=-0x2597+-0x122a+0x37c1;_0x569353<_0x398170['length'];++_0x569353){const _0x22dc49=_0x18cdfe[_0x49f05d][_0x569353];_0x22dc49[_0x12c292['size']]>_0x398170['largestSiz'+'e'][_0x12c292['size']]&&(_0x398170['largestEle'+'ment']=_0x398170[_0x569353],_0x398170['largestSiz'+'e']=_0x22dc49);}_0x5b1863['push'](_0x398170['largestEle'+'ment']),_0x332849['push'](_0x398170['largestSiz'+'e']);}const _0x311b08=_0x4cfd34(_0x332849,_0x12c292),_0x2c620c=_0x10665f(_0x55c2d6[_0x12c292['fitting']],_0x311b08,Ut[_0x12c292['axis']]);_0x2c620c===zt['APPLY_STRE'+'TCHING']?_0x45fb74(_0x332849,_0x311b08,_0x12c292):_0x2c620c===zt['APPLY_SHRI'+'NKING']&&_0x1a0b87(_0x332849,_0x311b08,_0x12c292);for(let _0x17e058=-0x188*-0xe+0xcfa+-0x1135*0x2;_0x17e058<_0x175f07['length'];++_0x17e058){const _0x4dca82=_0x175f07[_0x17e058];for(let _0x1b89b8=0xd1+0x16*-0xb3+0xe91*0x1;_0x1b89b8<_0x4dca82['length'];++_0x1b89b8){const _0x3cb6ba=_0x18cdfe[_0x17e058][_0x1b89b8],_0x3a767b=_0x3cb6ba[_0x12c292['size']],_0x35ccb9=_0x175f07['length']===0xf80*-0x1+-0x605+0x1586*0x1?Ut[_0x12c292['axis']]:_0x4dca82['largestSiz'+'e'][_0x12c292['size']],_0x43bb3d=_0x10665f(_0x55c2d6[_0x12c292['fitting']],_0x3a767b,_0x35ccb9);_0x43bb3d===zt['APPLY_STRE'+'TCHING']?_0x3cb6ba[_0x12c292['size']]=Math['min'](_0x35ccb9,_0x3cb6ba[_0x12c292['maxSize']]):_0x43bb3d===zt['APPLY_SHRI'+'NKING']&&(_0x3cb6ba[_0x12c292['size']]=Math['max'](_0x35ccb9,_0x3cb6ba[_0x12c292['minSize']]));}}return _0x18cdfe;}function _0x10665f(_0x4100d1,_0x30bd4f,_0x168db9){switch(_0x4100d1){case ff:return zt['NONE'];case qR:return _0x30bd4f<_0x168db9?zt['APPLY_STRE'+'TCHING']:zt['NONE'];case gg:return _0x30bd4f>=_0x168db9?zt['APPLY_SHRI'+'NKING']:zt['NONE'];case XR:return _0x30bd4f<_0x168db9?zt['APPLY_STRE'+'TCHING']:zt['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x4100d1);}}function _0x4cfd34(_0xf86dae,_0x3e8d01){const _0x5e044d=_0x42f070(_0xf86dae,_0x3e8d01['size']),_0x1d2e31=(_0xf86dae['length']-(0x1fbd+-0xf*-0x1a3+-0x3849*0x1))*_0x55c2d6['spacing'][_0x3e8d01['axis']];return _0x5e044d+_0x1d2e31;}function _0x45fb74(_0x23890a,_0x2f616a,_0x43a27c){const _0x11cf36=_0xc676a2(_0x23890a,_0x43a27c['maxSize']),_0xa336d6=_0x159a62(_0x23890a,_0x43a27c['fittingPro'+'portion']),_0x1007c8=_0x51dd0a(_0xa336d6,_0x11cf36);let _0x42ab78=Ut[_0x43a27c['axis']]-_0x2f616a;for(let _0x3ca6ae=0x1d3*-0xe+-0x761*-0x3+0x367;_0x3ca6ae<_0x23890a['length'];++_0x3ca6ae){const _0x4449d0=_0x11cf36[_0x3ca6ae],_0x103b04=_0x3841f9(_0x4449d0,_0x42ab78,_0xa336d6,_0x1007c8),_0x24cffa=_0x23890a[_0x4449d0][_0x43a27c['size']]+_0x103b04,_0x3d1418=_0x23890a[_0x4449d0][_0x43a27c['maxSize']],_0xf33bd1=Math['min'](_0x24cffa,_0x3d1418);_0x23890a[_0x4449d0][_0x43a27c['size']]=_0xf33bd1;const _0x289552=Math['max'](_0x24cffa-_0xf33bd1,-0x1*0x40f+-0x3*0xa61+0x2332),_0x5e35d1=_0x103b04-_0x289552;_0x42ab78-=_0x5e35d1;}}function _0x1a0b87(_0x2c09c0,_0x4148a6,_0x20673e){const _0x90d77b=_0xc676a2(_0x2c09c0,_0x20673e['minSize'],!(0x134*0x1+-0x4af+0x37b)),_0x21b138=_0x159a62(_0x2c09c0,_0x20673e['fittingPro'+'portion']),_0x1c69ef=_0x4cbb70(_0x21b138),_0x233503=_0x51dd0a(_0x1c69ef,_0x90d77b);let _0x1a3ad6=_0x4148a6-Ut[_0x20673e['axis']];for(let _0xe94c2b=0x2203*-0x1+-0xcb8+-0x7*-0x6ad;_0xe94c2b<_0x2c09c0['length'];++_0xe94c2b){const _0x472400=_0x90d77b[_0xe94c2b],_0x330721=_0x3841f9(_0x472400,_0x1a3ad6,_0x1c69ef,_0x233503),_0x2fb0af=_0x2c09c0[_0x472400][_0x20673e['size']]-_0x330721,_0x15c225=_0x2c09c0[_0x472400][_0x20673e['minSize']],_0x32b0f5=Math['max'](_0x2fb0af,_0x15c225);_0x2c09c0[_0x472400][_0x20673e['size']]=_0x32b0f5;const _0x4f0900=Math['max'](_0x32b0f5-_0x2fb0af,0x8d6+0x5*-0x10f+-0x1*0x38b),_0x5f51e2=_0x330721-_0x4f0900;_0x1a3ad6-=_0x5f51e2;}}function _0x3841f9(_0x50890c,_0x134fe0,_0x1a8847,_0x4e6e9e){const _0x5ded36=_0x1a8847[_0x50890c],_0x3ec9d8=_0x4e6e9e[_0x50890c];return Math['abs'](_0x5ded36)<0x1997+0xb70+-0x1*0x2507+0.00001&&Math['abs'](_0x3ec9d8)<0x2df*-0x3+0x10ed+-0x850+0.00001?_0x134fe0:_0x134fe0*_0x5ded36/_0x3ec9d8;}function _0x3ef0a2(_0x3c923c,_0x5f4e56){const _0x40bca2={};_0x40bca2[_0x3e4995['axis']]=0x1ced+-0x1123+-0x3ee*0x3,_0x40bca2[_0x12c292['axis']]=-0xa2d*-0x1+0x1c38+-0x2665,_0x3c923c[_0x3e4995['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x506ad8=[];for(let _0x1008af=-0x21c6+-0x4c9+0x268f;_0x1008af<_0x3c923c['length'];++_0x1008af){const _0x589c03=_0x3c923c[_0x1008af];if(_0x589c03['length']===0x7*-0x57d+-0x1*-0x2f+0x263c){_0x506ad8['push']([]);continue;}const _0x3563f7=[],_0x6d8dd3=_0x5f4e56[_0x1008af];for(let _0x1d8fc6=0xc*-0x2b1+0x2*0x3f2+-0x58*-0x47;_0x1d8fc6<_0x589c03['length'];++_0x1d8fc6){const _0x3cd2e7=_0x589c03[_0x1d8fc6],_0x60ef4d=_0x6d8dd3[_0x1d8fc6];_0x40bca2[_0x12c292['axis']]-=_0x1307c8(_0x3cd2e7,_0x60ef4d),_0x40bca2[_0x3e4995['axis']]-=_0x1989df(_0x3cd2e7,_0x60ef4d),_0x3563f7[_0x1d8fc6]={},_0x3563f7[_0x1d8fc6][_0x3e4995['axis']]=_0x40bca2[_0x3e4995['axis']],_0x3563f7[_0x1d8fc6][_0x12c292['axis']]=_0x40bca2[_0x12c292['axis']],_0x40bca2[_0x12c292['axis']]+=_0x1307c8(_0x3cd2e7,_0x60ef4d),_0x40bca2[_0x3e4995['axis']]+=_0x269619(_0x3cd2e7,_0x60ef4d)+_0x55c2d6['spacing'][_0x3e4995['axis']];}_0x589c03[_0x3e4995['size']]=_0x40bca2[_0x3e4995['axis']]-_0x55c2d6['spacing'][_0x3e4995['axis']],_0x589c03[_0x12c292['size']]=_0x589c03['largestSiz'+'e'][_0x12c292['size']],_0x3c923c[_0x3e4995['size']]=Math['max'](_0x3c923c[_0x3e4995['size']],_0x589c03[_0x3e4995['size']]),_0x40bca2[_0x3e4995['axis']]=0xeca+-0x1*0x130c+0x442,_0x40bca2[_0x12c292['axis']]+=_0x589c03[_0x12c292['size']]+_0x55c2d6['spacing'][_0x12c292['axis']],_0x506ad8['push'](_0x3563f7);}return _0x3c923c[_0x12c292['size']]=_0x40bca2[_0x12c292['axis']]-_0x55c2d6['spacing'][_0x12c292['axis']],_0x506ad8;}function _0x2d1c45(_0x408b9a,_0x15a1de,_0x51a571){const _0xd38ab3=_0x55c2d6['alignment'][_0x3e4995['axis']],_0x19a362=_0x55c2d6['alignment'][_0x12c292['axis']],_0x166f0d=_0x55c2d6['padding'][_0x3e4995['axis']],_0x3c7069=_0x55c2d6['padding'][_0x12c292['axis']];for(let _0x326eac=-0x1fb0+-0x1*-0x232c+-0x1*0x37c;_0x326eac<_0x408b9a['length'];++_0x326eac){const _0x535a90=_0x408b9a[_0x326eac],_0x2135e6=_0x15a1de[_0x326eac],_0x521c66=_0x51a571[_0x326eac],_0x510b94=(Ut[_0x3e4995['axis']]-_0x535a90[_0x3e4995['size']])*_0xd38ab3+_0x166f0d,_0x5e4755=(Ut[_0x12c292['axis']]-_0x408b9a[_0x12c292['size']])*_0x19a362+_0x3c7069;for(let _0x49648c=0x26*0x7b+-0x835+0x1f*-0x53;_0x49648c<_0x535a90['length'];++_0x49648c){const _0x22432a=(_0x535a90[_0x12c292['size']]-_0x2135e6[_0x49648c][_0x12c292['size']])*_0x55c2d6['alignment'][_0x12c292['axis']];_0x521c66[_0x49648c][_0x3e4995['axis']]+=_0x510b94,_0x521c66[_0x49648c][_0x12c292['axis']]+=_0x5e4755+_0x22432a;}}}function _0x58271d(_0x28c253,_0x280dbe,_0x5844e4){for(let _0x3f6359=-0x38*-0x52+0x1*0x1f24+-0x3114;_0x3f6359<_0x28c253['length'];++_0x3f6359){const _0x1b36cc=_0x28c253[_0x3f6359],_0x45f250=_0x280dbe[_0x3f6359],_0x5dbf7b=_0x5844e4[_0x3f6359];for(let _0x295bb9=-0x3*0x395+-0xa60+0x151f*0x1;_0x295bb9<_0x1b36cc['length'];++_0x295bb9){const _0x195f7d=_0x1b36cc[_0x295bb9];_0x195f7d[_0x3e4995['calculated'+'Size']]=_0x45f250[_0x295bb9][_0x3e4995['size']],_0x195f7d[_0x12c292['calculated'+'Size']]=_0x45f250[_0x295bb9][_0x12c292['size']],_0x55c2d6['orientatio'+'n']===pe?_0x195f7d['entity']['setLocalPo'+'sition'](_0x5dbf7b[_0x295bb9][_0x3e4995['axis']],_0x5dbf7b[_0x295bb9][_0x12c292['axis']],_0x195f7d['entity']['getLocalPo'+'sition']()['z']):_0x195f7d['entity']['setLocalPo'+'sition'](_0x5dbf7b[_0x295bb9][_0x12c292['axis']],_0x5dbf7b[_0x295bb9][_0x3e4995['axis']],_0x195f7d['entity']['getLocalPo'+'sition']()['z']);}}}function _0x3beb8e(_0x361f25){const _0x469b8c=_0x361f25['width'],_0x4eb1cf=_0x361f25['height'],_0x3b19c9=(Ut['x']-_0x469b8c)*_0x55c2d6['alignment']['x']+_0x55c2d6['padding']['x'],_0x23425f=(Ut['y']-_0x4eb1cf)*_0x55c2d6['alignment']['y']+_0x55c2d6['padding']['y'];return{'bounds':new Q(_0x3b19c9,_0x23425f,_0x469b8c,_0x4eb1cf)};}function _0x447ee3(_0x4f84d5){const _0x2cc242=[];for(let _0x2edcb3=0x132*0x11+-0x1*-0x1f9d+-0x33ef;_0x2edcb3<_0x4f84d5['length'];++_0x2edcb3){const _0x140fac=_0x4f84d5[_0x2edcb3],_0x9ac177=Math['max'](_0x161feb(_0x140fac,'minWidth'),0x7*0x27+-0x6c*0x28+0xfcf),_0x16fc6d=Math['max'](_0x161feb(_0x140fac,'minHeight'),-0xa6*0x19+0x15a7+-0x571),_0x1296a7=Math['max'](_0x161feb(_0x140fac,'maxWidth'),_0x9ac177),_0x225fc7=Math['max'](_0x161feb(_0x140fac,'maxHeight'),_0x16fc6d),_0x4eefbe=_0x575a7d(_0x161feb(_0x140fac,'width'),_0x9ac177,_0x1296a7),_0x1eacd3=_0x575a7d(_0x161feb(_0x140fac,'height'),_0x16fc6d,_0x225fc7),_0x26a21f=_0x161feb(_0x140fac,'fitWidthPr'+'oportion'),_0x35641d=_0x161feb(_0x140fac,'fitHeightP'+'roportion');_0x2cc242['push']({'minWidth':_0x9ac177,'minHeight':_0x16fc6d,'maxWidth':_0x1296a7,'maxHeight':_0x225fc7,'width':_0x4eefbe,'height':_0x1eacd3,'fitWidthProportion':_0x26a21f,'fitHeightProportion':_0x35641d});}return _0x2cc242;}function _0x161feb(_0x1463b9,_0x4f1d0e){const _0x275776=_0x1463b9['entity']['layoutchil'+'d'];return _0x275776&&_0x275776['enabled']&&_0x275776[_0x4f1d0e]!==void(-0x45f*0x1+0x1327+-0xec8)&&_0x275776[_0x4f1d0e]!==null?_0x275776[_0x4f1d0e]:_0x1463b9[_0x4f1d0e]!==void(0x11ea+0x2*0x130f+-0x3808)?_0x1463b9[_0x4f1d0e]:jR[_0x4f1d0e];}function _0x575a7d(_0x40b9c4,_0x2673d2,_0x237a8f){return Math['min'](Math['max'](_0x40b9c4,_0x2673d2),_0x237a8f);}function _0x42f070(_0x4a4fd7,_0x395edc){return _0x4a4fd7['reduce']((_0x154892,_0x26de1c)=>_0x154892+_0x26de1c[_0x395edc],0x1aa+-0x11c7+-0xb*-0x177);}function _0x159a62(_0x2b4565,_0x329e67){const _0x424727=_0x42f070(_0x2b4565,_0x329e67),_0xf7c25=[],_0x3128dd=_0x2b4565['length'];if(_0x424727===0x3b3+0xf7*0x25+-0x2766){for(let _0x31d0a3=0xc*0x2f1+-0x519*-0x4+-0xc6*0x48;_0x31d0a3<_0x3128dd;++_0x31d0a3)_0xf7c25['push']((0x5aa+0x1*0x375+-0x91e)/_0x3128dd);}else{for(let _0x24fca7=0x1d9a+-0x1d6a+-0x30;_0x24fca7<_0x3128dd;++_0x24fca7)_0xf7c25['push'](_0x2b4565[_0x24fca7][_0x329e67]/_0x424727);}return _0xf7c25;}function _0x4cbb70(_0x40090e){if(_0x40090e['length']===-0x1c*-0x7d+0x4*0x3fb+-0x19*0x12f)return[0x3ae*0x6+0x284+-0x1897];const _0x112d32=[],_0x1f8c28=_0x40090e['length'];for(let _0x46b0c7=-0x1969+-0xc5d+0x25c6;_0x46b0c7<_0x1f8c28;++_0x46b0c7)_0x112d32['push']((-0xc*0x28e+0x20b+0x29a*0xb-_0x40090e[_0x46b0c7])/(_0x1f8c28-(-0x225e+-0xa2b*0x1+0x1645*0x2)));return _0x112d32;}function _0xc676a2(_0x2e59ac,_0x56d0a0,_0x1afbe9){return _0x2e59ac['forEach'](_0x325645),_0x2e59ac['slice']()['sort']((_0x247557,_0x53da21)=>_0x1afbe9?_0x53da21[_0x56d0a0]-_0x247557[_0x56d0a0]:_0x247557[_0x56d0a0]-_0x53da21[_0x56d0a0])['map'](_0x5697af);}function _0x325645(_0x4e24f0,_0x2183f0){_0x4e24f0['index']=_0x2183f0;}function _0x5697af(_0x3f56e7){return _0x3f56e7['index'];}function _0x51dd0a(_0x99f0b4,_0x20aae2){const _0x3f521a=[];_0x3f521a[_0x20aae2[_0x99f0b4['length']-(-0x1*0x1bad+-0xb53*0x3+0x3da7)]]=_0x99f0b4[_0x20aae2[_0x99f0b4['length']-(-0x11b9*0x2+-0x1e5d+0x41d0)]];for(let _0x841b61=_0x99f0b4['length']-(0x6b2*0x2+-0x1f*-0xc9+-0x25b9);_0x841b61>=0x7*-0x1eb+0x3*0x1d3+-0x2*-0x3fa;--_0x841b61)_0x3f521a[_0x20aae2[_0x841b61]]=_0x3f521a[_0x20aae2[_0x841b61+(-0x2509+-0x11fb*0x2+0x20*0x248)]]+_0x99f0b4[_0x20aae2[_0x841b61]];return _0x3f521a;}return _0x4efd8e;}const Gp={};Gp[pe]=ox(pe),Gp[ke]=ox(ke);class YR{['calculateL'+'ayout'](_0x33bd12,_0x7de22d){const _0xd94f6d=Gp[_0x7de22d['orientatio'+'n']];if(_0xd94f6d)return _0xd94f6d(_0x33bd12,_0x7de22d);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x7de22d['orientatio'+'n']);}}function yg(_0x1b0463){return _0x1b0463['element'];}function KR(_0x52df01){return _0x52df01['enabled']&&_0x52df01['element']&&_0x52df01['element']['enabled'];}class lx extends ue{constructor(_0x1bb401,_0x97c854){super(_0x1bb401,_0x97c854),c(this,'_orientati'+'on',pe),c(this,'_reverseX',!(-0x550+0x8e+0x1*0x4c3)),c(this,'_reverseY',!(-0x9ad*-0x2+0x62*-0x4b+0x95c)),c(this,'_alignment',new W(-0x2304+-0x23f4+0x46f8,-0x1d72+-0x12b3+0x1*0x3026)),c(this,'_padding',new Q()),c(this,'_spacing',new W()),c(this,'_widthFitt'+'ing',ff),c(this,'_heightFit'+'ting',ff),c(this,'_wrap',!(0x21cc+0x11f9+-0x33c4)),c(this,'_layoutCal'+'culator',new YR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x24d8bb=>{this['_listenFor'+'ReflowEven'+'ts'](_0x24d8bb,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),v['assert'](_0x1bb401['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x1bb401['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x1bb401['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),v['assert'](_0x1bb401['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x1bb401['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x1bb401['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0xa89b87){_0xa89b87!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0xa89b87,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x21183a){_0x21183a!==this['_reverseX']&&(this['_reverseX']=_0x21183a,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x522c7f){_0x522c7f!==this['_reverseY']&&(this['_reverseY']=_0x522c7f,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x5bb899){_0x5bb899['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x5bb899),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x181476){_0x181476['equals'](this['_padding'])||(this['_padding']['copy'](_0x181476),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x4c0bbf){_0x4c0bbf['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x4c0bbf),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0xc1a88c){_0xc1a88c!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0xc1a88c,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0xac833f){_0xac833f!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0xac833f,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x40be0d){_0x40be0d!==this['_wrap']&&(this['_wrap']=_0x40be0d,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x44580c){return _0x44580c===this['entity']||this['entity']['children']['indexOf'](_0x44580c)!==-(-0x120a+0x287*0xb+-0x9c2);}['_listenFor'+'ReflowEven'+'ts'](_0x515a9e,_0x40c3f3){_0x515a9e['element']&&(_0x515a9e['element'][_0x40c3f3]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x515a9e['element'][_0x40c3f3]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x515a9e['element'][_0x40c3f3]('resize',this['_scheduleR'+'eflow'],this),_0x515a9e['element'][_0x40c3f3]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x515a9e['layoutchil'+'d']&&(_0x515a9e['layoutchil'+'d'][_0x40c3f3]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x515a9e['layoutchil'+'d'][_0x40c3f3]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x1a48ed){this['_isSelfOrC'+'hild'](_0x1a48ed)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x1a48ed,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x3c709c){this['_isSelfOrC'+'hild'](_0x3c709c)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x3c709c,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x42a598){this['_listenFor'+'ReflowEven'+'ts'](_0x42a598,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x23bc8d){this['_listenFor'+'ReflowEven'+'ts'](_0x23bc8d,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x52964f=yg(this['entity']),_0x32418d=this['entity']['children']['filter'](KR)['map'](yg);if(!_0x52964f||_0x32418d['length']===-0x187b+-0x137b+-0x2*-0x15fb)return;const _0x94f48e=Math['max'](_0x52964f['calculated'+'Width'],0xe9*-0x3+0x143c+-0x1181),_0x4e963c=Math['max'](_0x52964f['calculated'+'Height'],0x16bd+0x355*-0x1+-0x1b*0xb8),_0x3a7c2b={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new W(_0x94f48e,_0x4e963c)};this['_isPerform'+'ingReflow']=!(0x1*-0x2627+-0x209a+0x133*0x3b);const _0x2f6073=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x32418d,_0x3a7c2b);this['_isPerform'+'ingReflow']=!(0x14fc+-0x71e+-0xddd),this['fire']('reflow',_0x2f6073);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x2753df=>{this['_listenFor'+'ReflowEven'+'ts'](_0x2753df,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class ZR{constructor(){this['enabled']=!(-0x1a8a+0x1*0x41+0x1a49);}}const hx=['enabled'],QR=-0x4b*-0x2b+-0xb*-0x1f7+-0x21d2;class JR extends Xe{constructor(_0x561c80){super(_0x561c80),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=lx,this['DataType']=ZR,this['schema']=hx,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x388a54,_0x521bba,_0x564395){_0x521bba['enabled']!==void(0x2*-0x85a+0x3*-0xa57+0x2fb9)&&(_0x388a54['enabled']=_0x521bba['enabled']),_0x521bba['orientatio'+'n']!==void(-0x8a7+-0x1391*-0x1+-0xaea)&&(_0x388a54['orientatio'+'n']=_0x521bba['orientatio'+'n']),_0x521bba['reverseX']!==void(0x133b*-0x1+0x245+0x1a*0xa7)&&(_0x388a54['reverseX']=_0x521bba['reverseX']),_0x521bba['reverseY']!==void(-0x5c9*-0x1+-0x1bc4+0x15fb)&&(_0x388a54['reverseY']=_0x521bba['reverseY']),_0x521bba['alignment']!==void(0x8*0x20e+-0x3*-0x22a+0x16ee*-0x1)&&(_0x388a54['alignment']=Array['isArray'](_0x521bba['alignment'])?new W(_0x521bba['alignment']):_0x521bba['alignment']),_0x521bba['padding']!==void(-0x102a*-0x1+0xc03+-0x1c2d)&&(_0x388a54['padding']=Array['isArray'](_0x521bba['padding'])?new Q(_0x521bba['padding']):_0x521bba['padding']),_0x521bba['spacing']!==void(0x1f7e+-0x3*-0xbe+-0x2*0x10dc)&&(_0x388a54['spacing']=Array['isArray'](_0x521bba['spacing'])?new W(_0x521bba['spacing']):_0x521bba['spacing']),_0x521bba['widthFitti'+'ng']!==void(0x44f*-0x1+-0xf1*0x1+-0x1c*-0x30)&&(_0x388a54['widthFitti'+'ng']=_0x521bba['widthFitti'+'ng']),_0x521bba['heightFitt'+'ing']!==void(0x1f37+0x1d*-0x151+0x6f6)&&(_0x388a54['heightFitt'+'ing']=_0x521bba['heightFitt'+'ing']),_0x521bba['wrap']!==void(0x3e*0x7f+-0x4cd+-0x19f5)&&(_0x388a54['wrap']=_0x521bba['wrap']),super['initialize'+'ComponentD'+'ata'](_0x388a54,_0x521bba,_0x564395);}['cloneCompo'+'nent'](_0x2ef28c,_0x308c46){const _0x2eced5=_0x2ef28c['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x308c46,{'enabled':_0x2eced5['enabled'],'orientation':_0x2eced5['orientatio'+'n'],'reverseX':_0x2eced5['reverseX'],'reverseY':_0x2eced5['reverseY'],'alignment':_0x2eced5['alignment'],'padding':_0x2eced5['padding'],'spacing':_0x2eced5['spacing'],'widthFitting':_0x2eced5['widthFitti'+'ng'],'heightFitting':_0x2eced5['heightFitt'+'ing'],'wrap':_0x2eced5['wrap']});}['scheduleRe'+'flow'](_0x34c711){this['_reflowQue'+'ue']['indexOf'](_0x34c711)===-(0x51a*-0x1+0x4cb*0x7+-0x1c72)&&this['_reflowQue'+'ue']['push'](_0x34c711);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===0x14bd+0x12b1+-0x276e)return;let _0x2a9e58=0x1837+-0x1825*-0x1+-0xa*0x4d6;for(;this['_reflowQue'+'ue']['length']>-0x6df*0x5+-0x2c3*-0xd+-0x9*0x2c;){const _0xf8642a=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=0x1396+0xbe6*-0x1+-0x52*0x18,_0xf8642a['sort']((_0x27901d,_0x402f67)=>_0x27901d['entity']['graphDepth']-_0x402f67['entity']['graphDepth']);for(let _0x214a68=-0x943+0x1287+-0x944;_0x214a68<_0xf8642a['length'];++_0x214a68)_0xf8642a[_0x214a68]['reflow']();if(++_0x2a9e58>=QR){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x4b014d,_0x386c1f){_0x386c1f['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}ue['_buildAcce'+'ssors'](lx['prototype'],hx);class eI{constructor(){c(this,'map',new Map());}['destroy'](_0x372a75){this['map']['forEach'](_0x548dd7=>_0x548dd7['mesh']['destroy']());}}const tI=new Ot(),cx=(_0x38083c,_0x55067b)=>{const _0x44b2fa=tI['get'](_0x38083c,()=>new eI());let _0xad6b54=_0x44b2fa['map']['get'](_0x55067b);if(!_0xad6b54){let _0x4a98d7,_0x4d3f5c;switch(_0x55067b){case'box':_0x4a98d7=Ie['fromGeomet'+'ry'](_0x38083c,new $u()),_0x4d3f5c={'x':0x2,'y':0x2,'z':0x2,'uv':(0x211e+0x17d5+-0x12fb*0x3)/(-0xc5b*0x2+0x1*-0xb03+0x11de*0x2)};break;case'capsule':_0x4a98d7=Ie['fromGeomet'+'ry'](_0x38083c,new C1({'radius':0.5,'height':0x2})),_0x4d3f5c={'x':Math['PI']*(-0x1e0d+-0xa9*0x2d+0x3bc4),'y':Math['PI'],'z':Math['PI']*(0x4ab*0x3+-0x24b3+-0x16b4*-0x1),'uv':(-0x18bf+-0x6*0x31a+0x2b5c)/(-0x138e+-0xd6*-0xa+0x1*0xb35)+(-0x190d+-0xd5d+0x266b)/(-0x7d2*0x4+-0x2*-0xceb+-0x1*-0x575)/(-0x3d*-0x2b+-0x1*0x119b+0x75f*0x1)*(0x24ec+-0x163e+-0x6*0x272)};break;case'cone':_0x4a98d7=Ie['fromGeomet'+'ry'](_0x38083c,new M1({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x4d3f5c={'x':2.54,'y':2.54,'z':2.54,'uv':(-0x6*-0x6+-0x1741+0x21a*0xb)/(0x14a8+-0x9*-0x2eb+0xbba*-0x4)+(0x198+0x1774+0x859*-0x3)/(0xa46+0x2*-0xa37+-0x13*-0x89)/(-0x5*-0x4af+-0x1*0x1711+-0x1*0x57)};break;case'cylinder':_0x4a98d7=Ie['fromGeomet'+'ry'](_0x38083c,new P1({'radius':0.5,'height':0x1})),_0x4d3f5c={'x':Math['PI'],'y':(0x1999+0x1273*-0x1+-0x726+0.79)*(-0x26f*-0x3+0x1a5f+-0x21aa),'z':Math['PI'],'uv':(0x7*0x1a7+0xcc7+0x1f*-0xc9)/(-0x1fb0+0xd3*0x22+0x3ad)+(-0x1ada+0x1f8+0x18e3)/(0x3*-0x1f7+0x7*0xdf+-0x31)/(0x16*0x159+-0x1302*0x1+-0xaa1)*(-0x177f+-0x84*-0x31+0x29*-0xb)};break;case'plane':_0x4a98d7=Ie['fromGeomet'+'ry'](_0x38083c,new R1({'halfExtents':new W(0x1b0+0x11c2+0x1*-0x1372+0.5,0x7*-0x253+0xe3*0x1+0xf62+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x4d3f5c={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x4a98d7=Ie['fromGeomet'+'ry'](_0x38083c,new B0({'radius':0.5})),_0x4d3f5c={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x4a98d7=Ie['fromGeomet'+'ry'](_0x38083c,new I1({'tubeRadius':0.2,'ringRadius':0.3})),_0x4d3f5c={'x':Math['PI']*(-0x1*-0x986+-0x1277*-0x1+-0x5*0x599+0.5)*(0x1591+-0x1f7*-0xd+0xb4*-0x43+0.5)-Math['PI']*(0x1*-0x32+0x8*0x17+-0x2*0x43+0.1)*(-0x2*0xa0+-0x1113+0x1253+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x55067b);}_0x4a98d7['incRefCoun'+'t'](),_0xad6b54={'mesh':_0x4a98d7,'area':_0x4d3f5c},_0x44b2fa['map']['set'](_0x55067b,_0xad6b54);}return _0xad6b54;};class dx extends ue{constructor(_0x4c7980,_0x3c0349){super(_0x4c7980,_0x3c0349),c(this,'_type','asset'),c(this,'_asset',null),c(this,'_model',null),c(this,'_mapping',{}),c(this,'_castShado'+'ws',!(-0xdbb+-0x19*-0x9d+-0x19a)),c(this,'_receiveSh'+'adows',!(0x1*0x20e5+0x147c+0x38f*-0xf)),c(this,'_materialA'+'sset',null),c(this,'_material'),c(this,'_castShado'+'wsLightmap',!(-0x3*0x203+0x6f8*-0x5+0x5*0x82d)),c(this,'_lightmapp'+'ed',!(-0x1*-0x175+-0x1*-0x2182+-0x22f6)),c(this,'_lightmapS'+'izeMultipl'+'ier',-0x248d+-0x8c9+0x2d57),c(this,'isStatic',!(-0xb7*-0x15+0x6*0xfb+0x7*-0x2fc)),c(this,'_layers',[Fi]),c(this,'_batchGrou'+'pId',-(0x24e3+0x2a3+-0x2785)),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_materialE'+'vents',null),c(this,'_clonedMod'+'el',!(0x1*-0xec7+-0x9*-0xce+-0x1*-0x78a)),c(this,'_batchGrou'+'p',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x4c7980['defaultMat'+'erial'],_0x3c0349['on']('remove',this['onRemoveCh'+'ild'],this),_0x3c0349['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x3c0349['on']('insert',this['onInsertCh'+'ild'],this),_0x3c0349['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x244c6b){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x244c6b);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x1418f5){if(this['_customAab'+'b']=_0x1418f5,this['_model']){const _0x5da504=this['_model']['meshInstan'+'ces'];if(_0x5da504){for(let _0x162274=0x1a46+-0x1*0x3e+0x3b8*-0x7;_0x162274<_0x5da504['length'];_0x162274++)_0x5da504[_0x162274]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x153e12){if(this['_type']!==_0x153e12){if(this['_area']=null,this['_type']=_0x153e12,_0x153e12==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x262b6a=cx(this['system']['app']['graphicsDe'+'vice'],_0x153e12);this['_area']=_0x262b6a['area'];const _0x944451=_0x262b6a['mesh'],_0x378aa9=new De(),_0x5903b3=new Oi();_0x5903b3['graph']=_0x378aa9,_0x5903b3['meshInstan'+'ces']=[new Le(_0x944451,this['_material'],_0x378aa9)],this['model']=_0x5903b3,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x1cf2c9){const _0x181bb0=this['system']['app']['assets'];let _0x179584=_0x1cf2c9;if(_0x1cf2c9 instanceof le&&(_0x179584=_0x1cf2c9['id']),this['_asset']!==_0x179584){if(this['_asset']){_0x181bb0['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x16b876=_0x181bb0['get'](this['_asset']);_0x16b876&&this['_unbindMod'+'elAsset'](_0x16b876);}if(this['_asset']=_0x179584,this['_asset']){const _0x31796d=_0x181bb0['get'](this['_asset']);_0x31796d?this['_bindModel'+'Asset'](_0x31796d):(this['model']=null,_0x181bb0['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x449d27){if(this['_model']!==_0x449d27){if(_0x449d27&&_0x449d27['_immutable']){v['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(-0x3*0x289+0x12dc+-0xb40),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(0x3*-0x9fd+-0x11*-0x15d+0x6cb*0x1))),this['_model']=_0x449d27,this['_model']){this['_model']['_immutable']=!(0xe9f*0x2+-0x7*0x277+0xb*-0x117);const _0x9736f3=this['_model']['meshInstan'+'ces'];for(let _0x2fe3ed=-0x3ea+0x1965+-0x157b;_0x2fe3ed<_0x9736f3['length'];_0x2fe3ed++)_0x9736f3[_0x2fe3ed]['castShadow']=this['_castShado'+'ws'],_0x9736f3[_0x2fe3ed]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x9736f3[_0x2fe3ed]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x1400da){if(_0x1400da!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x1400da,this['_model'])){const _0x431b99=this['_model']['meshInstan'+'ces'];for(let _0x1810f1=0x3a7+0x2129+0x2*-0x1268;_0x1810f1<_0x431b99['length'];_0x1810f1++)_0x431b99[_0x1810f1]['setLightma'+'pped'](_0x1400da);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x5556da){if(this['_castShado'+'ws']===_0x5556da)return;const _0x4569a0=this['_model'];if(_0x4569a0){const _0x15b4c8=this['layers'],_0x5570cd=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x5556da)for(let _0x27807f=0xbc5+0x8*-0x314+0xcdb;_0x27807f<_0x15b4c8['length'];_0x27807f++){const _0x27ba1f=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x27807f]);_0x27ba1f&&_0x27ba1f['removeShad'+'owCasters'](_0x4569a0['meshInstan'+'ces']);}const _0x36f615=_0x4569a0['meshInstan'+'ces'];for(let _0x2b321b=0x2*0x2cc+0x2*-0xbc3+0x1e*0x99;_0x2b321b<_0x36f615['length'];_0x2b321b++)_0x36f615[_0x2b321b]['castShadow']=_0x5556da;if(!this['_castShado'+'ws']&&_0x5556da)for(let _0x276c69=0x4cf+0x4*-0x650+0x1471;_0x276c69<_0x15b4c8['length'];_0x276c69++){const _0x10ee59=_0x5570cd['layers']['getLayerBy'+'Id'](_0x15b4c8[_0x276c69]);_0x10ee59&&_0x10ee59['addShadowC'+'asters'](_0x4569a0['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x5556da;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x34c5be){if(this['_receiveSh'+'adows']!==_0x34c5be&&(this['_receiveSh'+'adows']=_0x34c5be,this['_model'])){const _0x53fd37=this['_model']['meshInstan'+'ces'];for(let _0xd0ea90=-0x54*-0x76+0x1*0x1e83+-0x453b,_0x4a7798=_0x53fd37['length'];_0xd0ea90<_0x4a7798;_0xd0ea90++)_0x53fd37[_0xd0ea90]['receiveSha'+'dow']=_0x34c5be;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x4e7125){this['_castShado'+'wsLightmap']=_0x4e7125;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x443bc0){this['_lightmapS'+'izeMultipl'+'ier']=_0x443bc0;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x3270a0){const _0x245fb4=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x1e11d9=0x1dd0+0x976+-0x16*0x1c9;_0x1e11d9<this['_layers']['length'];_0x1e11d9++){const _0x590d92=_0x245fb4['getLayerBy'+'Id'](this['_layers'][_0x1e11d9]);_0x590d92&&_0x590d92['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=-0xfba+0x1*-0x1a23+0x29dd;for(let _0x4633aa=-0x4c3*0x2+0x9*-0x83+0xe21*0x1;_0x4633aa<_0x3270a0['length'];_0x4633aa++)this['_layers'][_0x4633aa]=_0x3270a0[_0x4633aa];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x7ab045=-0x593*0x6+-0x1d7c+0x3eee;_0x7ab045<this['_layers']['length'];_0x7ab045++){const _0xbf1224=_0x245fb4['getLayerBy'+'Id'](this['_layers'][_0x7ab045]);_0xbf1224&&_0xbf1224['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x128ff2){var _0xd56a6,_0x320f67;this['_batchGrou'+'pId']!==_0x128ff2&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x23f1+-0x13a7+-0x104a&&((_0xd56a6=this['system']['app']['batcher'])==null||_0xd56a6['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x128ff2>=0x6*0x2a1+0x2469+-0x342f&&((_0x320f67=this['system']['app']['batcher'])==null||_0x320f67['insert'](et['MODEL'],_0x128ff2,this['entity'])),_0x128ff2<0x1cef+-0x1d46+0x57&&this['_batchGrou'+'pId']>=-0x2295+-0xf60+0x31f5&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x128ff2);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x230e4d){let _0x5b0e23=_0x230e4d;_0x230e4d instanceof le&&(_0x5b0e23=_0x230e4d['id']);const _0x17b44c=this['system']['app']['assets'];if(_0x5b0e23!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x17b44c['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0xbb621e=_0x17b44c['get'](this['_materialA'+'sset']);_0xbb621e&&this['_unbindMat'+'erialAsset'](_0xbb621e);}if(this['_materialA'+'sset']=_0x5b0e23,this['_materialA'+'sset']){const _0x52b0d5=_0x17b44c['get'](this['_materialA'+'sset']);_0x52b0d5?this['_bindMater'+'ialAsset'](_0x52b0d5):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x17b44c['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x57af6d){this['_material']!==_0x57af6d&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x57af6d));}get['material'](){return this['_material'];}set['mapping'](_0x30dcc7){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x30dcc7||(_0x30dcc7={}),this['_mapping']=_0x30dcc7,!this['_model']))return;const _0x5704a6=this['_model']['meshInstan'+'ces'],_0xad47c7=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x25d65d=_0xad47c7?_0xad47c7['data']['mapping']:null;let _0x322559=null;for(let _0x50421f=-0x4*0x44b+-0x425+0x33*0x6b,_0x495750=_0x5704a6['length'];_0x50421f<_0x495750;_0x50421f++)if(_0x30dcc7[_0x50421f]!==void(0xb02*-0x1+0x8b9+0x249))_0x30dcc7[_0x50421f]?(_0x322559=this['system']['app']['assets']['get'](_0x30dcc7[_0x50421f]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x322559,_0x5704a6[_0x50421f],_0x50421f)):_0x5704a6[_0x50421f]['material']=this['system']['defaultMat'+'erial'];else{if(_0x25d65d){if(_0x25d65d[_0x50421f]&&(_0x25d65d[_0x50421f]['material']||_0x25d65d[_0x50421f]['path'])){if(_0x25d65d[_0x50421f]['material']!==void(0x317+-0x629*-0x1+0x2*-0x4a0))_0x322559=this['system']['app']['assets']['get'](_0x25d65d[_0x50421f]['material']);else{if(_0x25d65d[_0x50421f]['path']!==void(-0x91*0x43+0x2076+-0x1*-0x57d)){const _0x192396=this['_getMateri'+'alAssetUrl'](_0x25d65d[_0x50421f]['path']);_0x192396&&(_0x322559=this['system']['app']['assets']['getByUrl'](_0x192396));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x322559,_0x5704a6[_0x50421f],_0x50421f);}else _0x5704a6[_0x50421f]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x19a5c8=this['system']['app']['scene']['layers'];for(let _0x3f6a9c=-0x1b08+-0x1fe2+0x2*0x1d75;_0x3f6a9c<this['_layers']['length'];_0x3f6a9c++){const _0x1857eb=_0x19a5c8['getLayerBy'+'Id'](this['_layers'][_0x3f6a9c]);_0x1857eb&&_0x1857eb['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x2f2ced=this['system']['app']['scene']['layers'];for(let _0x54f5bb=0x1*-0x1e85+0x18e*-0x13+0x3c0f;_0x54f5bb<this['_layers']['length'];_0x54f5bb++){const _0x226fa1=_0x2f2ced['getLayerBy'+'Id'](this['_layers'][_0x54f5bb]);_0x226fa1&&_0x226fa1['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0xe52ae2,_0x2b94b5){this['addModelTo'+'Layers'](),_0xe52ae2['off']('add',this['onLayerAdd'+'ed'],this),_0xe52ae2['off']('remove',this['onLayerRem'+'oved'],this),_0x2b94b5['on']('add',this['onLayerAdd'+'ed'],this),_0x2b94b5['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x3606c2){this['layers']['indexOf'](_0x3606c2['id'])<0xd*0x24b+0x1fea+-0xe5*0x45||_0x3606c2['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0xd04cc7){this['layers']['indexOf'](_0xd04cc7['id'])<0x2575+-0x1650+-0xf25*0x1||_0xd04cc7['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0xeebeec,_0xd3307d,_0x184856,_0x1ba787){const _0x5ddca3=_0xd3307d+':'+_0x184856;this['system']['app']['assets']['on'](_0x5ddca3,_0x1ba787,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0xeebeec]||(this['_materialE'+'vents'][_0xeebeec]={}),this['_materialE'+'vents'][_0xeebeec][_0x5ddca3]={'id':_0x184856,'handler':_0x1ba787};}['_unsetMate'+'rialEvents'](){const _0x14572d=this['system']['app']['assets'],_0x1f0863=this['_materialE'+'vents'];if(_0x1f0863){for(let _0x1713e4=0x2188+0x2320+-0x44a8,_0x18580f=_0x1f0863['length'];_0x1713e4<_0x18580f;_0x1713e4++){if(!_0x1f0863[_0x1713e4])continue;const _0x5270b3=_0x1f0863[_0x1713e4];for(const _0x53d428 in _0x5270b3)_0x14572d['off'](_0x53d428,_0x5270b3[_0x53d428]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x3ffa25){let _0x4db4e3=null;if(!isNaN(parseInt(_0x3ffa25,0x2555+-0x7*0x525+-0x148)))_0x4db4e3=this['system']['app']['assets']['get'](_0x3ffa25);else{if(this['asset']){const _0x5e1ade=this['_getMateri'+'alAssetUrl'](_0x3ffa25);_0x5e1ade&&(_0x4db4e3=this['system']['app']['assets']['getByUrl'](_0x5e1ade));}}return _0x4db4e3;}['_getMateri'+'alAssetUrl'](_0x277966){if(!this['asset'])return null;const _0x25c7fd=this['system']['app']['assets']['get'](this['asset']);return _0x25c7fd?_0x25c7fd['getAbsolut'+'eUrl'](_0x277966):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x27485f,_0x4a77f4,_0x19719e){const _0x234e17=this['system']['app']['assets'];_0x27485f&&(_0x27485f['resource']?(_0x4a77f4['material']=_0x27485f['resource'],this['_setMateri'+'alEvent'](_0x19719e,'remove',_0x27485f['id'],function(){_0x4a77f4['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x19719e,'load',_0x27485f['id'],function(_0x1d5119){_0x4a77f4['material']=_0x1d5119['resource'],this['_setMateri'+'alEvent'](_0x19719e,'remove',_0x27485f['id'],function(){_0x4a77f4['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x234e17['load'](_0x27485f)));}['onEnable'](){var _0x2cb30f;const _0x212ba0=this['system']['app'],_0x29e8b4=_0x212ba0['scene'],_0x28c06a=_0x29e8b4==null?void(-0x1fa6+0x1e27+0x17f):_0x29e8b4['layers'];this['_evtLayers'+'Changed']=_0x29e8b4['on']('set:layers',this['onLayersCh'+'anged'],this),_0x28c06a&&(this['_evtLayerA'+'dded']=_0x28c06a['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x28c06a['on']('remove',this['onLayerRem'+'oved'],this));const _0x4cafc4=this['_type']==='asset';let _0x561bdd;if(this['_model']?this['addModelTo'+'Layers']():_0x4cafc4&&this['_asset']&&(_0x561bdd=_0x212ba0['assets']['get'](this['_asset']),_0x561bdd&&_0x561bdd['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x561bdd)),this['_materialA'+'sset']&&(_0x561bdd=_0x212ba0['assets']['get'](this['_materialA'+'sset']),_0x561bdd&&_0x561bdd['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x561bdd)),_0x4cafc4&&this['_mapping']){for(const _0x4e91cf in this['_mapping'])this['_mapping'][_0x4e91cf]&&(_0x561bdd=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x4e91cf]),_0x561bdd&&!_0x561bdd['resource']&&_0x212ba0['assets']['load'](_0x561bdd));}this['_batchGrou'+'pId']>=0x1*-0xd85+-0x13*0x86+0x1777&&((_0x2cb30f=_0x212ba0['batcher'])==null||_0x2cb30f['insert'](et['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x52ae49,_0x55575e,_0x5b4c7c,_0x306454;const _0x160ed3=this['system']['app'],_0x491a36=_0x160ed3['scene']['layers'];(_0x52ae49=this['_evtLayers'+'Changed'])==null||_0x52ae49['off'](),this['_evtLayers'+'Changed']=null,_0x491a36&&((_0x55575e=this['_evtLayerA'+'dded'])==null||_0x55575e['off'](),this['_evtLayerA'+'dded']=null,(_0x5b4c7c=this['_evtLayerR'+'emoved'])==null||_0x5b4c7c['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0x1f3a+0x1*-0x10dd+-0x3017*-0x1&&((_0x306454=_0x160ed3['batcher'])==null||_0x306454['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x127450=this['_model']['meshInstan'+'ces'];for(let _0x29dc66=0x1539+-0xf3+0x207*-0xa,_0x491d61=_0x127450['length'];_0x29dc66<_0x491d61;_0x29dc66++)_0x127450[_0x29dc66]['visible']=!(-0x15f+-0x24dc+0x263c);}}['show'](){if(this['_model']){const _0x5e6eba=this['_model']['meshInstan'+'ces'];for(let _0x33b02e=-0x1*0x938+0x1a*0x107+-0x117e,_0x3db18a=_0x5e6eba['length'];_0x33b02e<_0x3db18a;_0x33b02e++)_0x5e6eba[_0x33b02e]['visible']=!(0xbbf+0x1a5*-0x1+0x50d*-0x2);}}['_bindMater'+'ialAsset'](_0x20334f){if(_0x20334f['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x20334f['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x20334f['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x20334f['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x20334f['resource'])this['_onMateria'+'lAssetLoad'](_0x20334f);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x20334f);}}['_unbindMat'+'erialAsset'](_0x4ace81){_0x4ace81['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x4ace81['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x4ace81['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x4ace81['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x9bfe7c){this['system']['app']['assets']['off']('add:'+_0x9bfe7c['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x9bfe7c['id']&&this['_bindMater'+'ialAsset'](_0x9bfe7c);}['_onMateria'+'lAssetLoad'](_0x10bb82){this['_setMateri'+'al'](_0x10bb82['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x4c31e7){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x545acc){this['_onMateria'+'lAssetUnlo'+'ad'](_0x545acc);}['_onMateria'+'lAssetChan'+'ge'](_0xa580de){}['_bindModel'+'Asset'](_0x2b2d16){if(this['_unbindMod'+'elAsset'](_0x2b2d16),_0x2b2d16['on']('load',this['_onModelAs'+'setLoad'],this),_0x2b2d16['on']('unload',this['_onModelAs'+'setUnload'],this),_0x2b2d16['on']('change',this['_onModelAs'+'setChange'],this),_0x2b2d16['on']('remove',this['_onModelAs'+'setRemove'],this),_0x2b2d16['resource'])this['_onModelAs'+'setLoad'](_0x2b2d16);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x2b2d16);}}['_unbindMod'+'elAsset'](_0x3ab64a){_0x3ab64a['off']('load',this['_onModelAs'+'setLoad'],this),_0x3ab64a['off']('unload',this['_onModelAs'+'setUnload'],this),_0x3ab64a['off']('change',this['_onModelAs'+'setChange'],this),_0x3ab64a['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x4a62df){this['system']['app']['assets']['off']('add:'+_0x4a62df['id'],this['_onModelAs'+'setAdded'],this),_0x4a62df['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x4a62df);}['_onModelAs'+'setLoad'](_0x6f4261){this['model']=_0x6f4261['resource']['clone'](),this['_clonedMod'+'el']=!(-0x5f*-0x55+0x13d4+0x335f*-0x1);}['_onModelAs'+'setUnload'](_0x2691df){this['model']=null;}['_onModelAs'+'setChange'](_0x488de3,_0x3a6956,_0x4af69c,_0x17e327){_0x3a6956==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x27c034){this['model']=null;}['_setMateri'+'al'](_0x1588e1){if(this['_material']===_0x1588e1)return;this['_material']=_0x1588e1;const _0x32ec92=this['_model'];if(_0x32ec92&&this['_type']!=='asset'){const _0x4a78db=_0x32ec92['meshInstan'+'ces'];for(let _0x5ec496=0x8*0x45b+-0x5*-0x151+-0x296d,_0x5e7d40=_0x4a78db['length'];_0x5ec496<_0x5e7d40;_0x5ec496++)_0x4a78db[_0x5ec496]['material']=_0x1588e1;}}}class sI{constructor(){this['enabled']=!(0x115*-0x3+-0x4b7*-0x1+0x1*-0x178);}}const ux=['enabled'];class iI extends Xe{constructor(_0x1de953){super(_0x1de953),this['id']='model',this['ComponentT'+'ype']=dx,this['DataType']=sI,this['schema']=ux,this['defaultMat'+'erial']=al(_0x1de953['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x1aa5b0,_0x1deecb,_0x7d1ba8){_0x7d1ba8=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x1deecb['batchGroup'+'Id']===null||_0x1deecb['batchGroup'+'Id']===void(0x1*-0x264b+-0xdb1+0x2*0x19fe))&&(_0x1deecb['batchGroup'+'Id']=-(-0x241+-0x5*0x47b+0x18a9)),_0x1deecb['layers']&&_0x1deecb['layers']['length']&&(_0x1deecb['layers']=_0x1deecb['layers']['slice'](-0x1*-0xa16+0x122c+-0x1c42));for(let _0x2efed8=-0x1*-0x1f0a+0xb96*-0x2+-0x7de;_0x2efed8<_0x7d1ba8['length'];_0x2efed8++)_0x1deecb['hasOwnProp'+'erty'](_0x7d1ba8[_0x2efed8])&&(_0x1aa5b0[_0x7d1ba8[_0x2efed8]]=_0x1deecb[_0x7d1ba8[_0x2efed8]]);_0x1deecb['aabbCenter']&&_0x1deecb['aabbHalfEx'+'tents']&&(_0x1aa5b0['customAabb']=new _e(new T(_0x1deecb['aabbCenter']),new T(_0x1deecb['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x1aa5b0,_0x1deecb,['enabled']);}['cloneCompo'+'nent'](_0xf9019d,_0x38cc40){const _0x279183={'type':_0xf9019d['model']['type'],'asset':_0xf9019d['model']['asset'],'castShadows':_0xf9019d['model']['castShadow'+'s'],'receiveShadows':_0xf9019d['model']['receiveSha'+'dows'],'castShadowsLightmap':_0xf9019d['model']['castShadow'+'sLightmap'],'lightmapped':_0xf9019d['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0xf9019d['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0xf9019d['model']['isStatic'],'enabled':_0xf9019d['model']['enabled'],'layers':_0xf9019d['model']['layers'],'batchGroupId':_0xf9019d['model']['batchGroup'+'Id'],'mapping':vh({},_0xf9019d['model']['mapping'])};let _0x3c00d9=_0xf9019d['model']['materialAs'+'set'];!(_0x3c00d9 instanceof le)&&_0x3c00d9!=null&&(_0x3c00d9=this['app']['assets']['get'](_0x3c00d9));const _0x20cca1=_0xf9019d['model']['material'];(!_0x20cca1||_0x20cca1===this['defaultMat'+'erial']||!_0x3c00d9||_0x20cca1===_0x3c00d9['resource'])&&(_0x279183['materialAs'+'set']=_0x3c00d9);const _0x1ad6af=this['addCompone'+'nt'](_0x38cc40,_0x279183);if(_0xf9019d['model']['model']&&_0xf9019d['model']['type']==='asset'&&!_0xf9019d['model']['asset']&&(_0x1ad6af['model']=_0xf9019d['model']['model']['clone'](),_0x1ad6af['_clonedMod'+'el']=!(0x6*-0xc7+0x1285+0x1*-0xddb)),_0x279183['materialAs'+'set']||(_0x1ad6af['material']=_0x20cca1),_0xf9019d['model']['model']){const _0x2df9e8=_0xf9019d['model']['model']['meshInstan'+'ces'],_0x4ab419=_0x1ad6af['model']['meshInstan'+'ces'];for(let _0x42deb2=-0x6*0x467+0x1701+0x369;_0x42deb2<_0x2df9e8['length'];_0x42deb2++)_0x4ab419[_0x42deb2]['mask']=_0x2df9e8[_0x42deb2]['mask'],_0x4ab419[_0x42deb2]['material']=_0x2df9e8[_0x42deb2]['material'],_0x4ab419[_0x42deb2]['layer']=_0x2df9e8[_0x42deb2]['layer'],_0x4ab419[_0x42deb2]['receiveSha'+'dow']=_0x2df9e8[_0x42deb2]['receiveSha'+'dow'];}return _0xf9019d['model']['customAabb']&&(_0x1ad6af['customAabb']=_0xf9019d['model']['customAabb']['clone']()),_0x1ad6af;}['onRemove'](_0x4e64e5,_0x373d54){_0x373d54['onRemove']();}}ue['_buildAcce'+'ssors'](dx['prototype'],ux);const rI=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],nI=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],aI=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Zl=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Hn;class oI extends ue{constructor(_0x57a1c0,_0x5d1a23){super(_0x57a1c0,_0x5d1a23),c(this,'_requested'+'Depth',!(-0x1*-0x1499+0xa60+-0x1ef8)),c(this,'_drawOrder',-0x8*0x1d+0x4*-0x539+0x15cc),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),rI['forEach'](_0x185b63=>{this['on']('set_'+_0x185b63,this['onSetSimpl'+'eProperty'],this);}),nI['forEach'](_0x34619b=>{this['on']('set_'+_0x34619b,this['onSetCompl'+'exProperty'],this);}),aI['forEach'](_0x38f18c=>{this['on']('set_'+_0x38f18c,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x58f525=this['system']['store'][this['entity']['getGuid']()];return _0x58f525?_0x58f525['data']:null;}set['enabled'](_0x9dadaa){this['_setValue']('enabled',_0x9dadaa);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x4abe1b){this['_setValue']('autoPlay',_0x4abe1b);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x513b1e){this['_setValue']('numParticl'+'es',_0x513b1e);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x5ba092){this['_setValue']('lifetime',_0x5ba092);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x220c31){this['_setValue']('rate',_0x220c31);}get['rate'](){return this['data']['rate'];}set['rate2'](_0xc2d819){this['_setValue']('rate2',_0xc2d819);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x4292dd){this['_setValue']('startAngle',_0x4292dd);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x3929c3){this['_setValue']('startAngle'+'2',_0x3929c3);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x148822){this['_setValue']('loop',_0x148822);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x12e7d4){this['_setValue']('preWarm',_0x12e7d4);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x5e9630){this['_setValue']('lighting',_0x5e9630);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x1925c9){this['_setValue']('halfLamber'+'t',_0x1925c9);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x343939){this['_setValue']('intensity',_0x343939);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x18ec26){this['_setValue']('depthWrite',_0x18ec26);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x37baf8){this['_setValue']('noFog',_0x37baf8);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x3f936d){this['_setValue']('depthSofte'+'ning',_0x3f936d);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x4994fa){this['_setValue']('sort',_0x4994fa);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x1d757b){this['_setValue']('blendType',_0x1d757b);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x51761e){this['_setValue']('stretch',_0x51761e);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x565da2){this['_setValue']('alignToMot'+'ion',_0x565da2);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x23e238){this['_setValue']('emitterSha'+'pe',_0x23e238);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x32b9e9){this['_setValue']('emitterExt'+'ents',_0x32b9e9);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x5556b9){this['_setValue']('emitterExt'+'entsInner',_0x5556b9);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x18c6f0){this['_setValue']('emitterRad'+'ius',_0x18c6f0);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x5b6ee9){this['_setValue']('emitterRad'+'iusInner',_0x5b6ee9);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x5d7319){this['_setValue']('initialVel'+'ocity',_0x5d7319);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x5e00f9){this['_setValue']('wrap',_0x5e00f9);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x520c37){this['_setValue']('wrapBounds',_0x520c37);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x592aed){this['_setValue']('localSpace',_0x592aed);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x2087db){this['_setValue']('screenSpac'+'e',_0x2087db);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x17d21f){this['_setValue']('colorMapAs'+'set',_0x17d21f);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x59fbf5){this['_setValue']('normalMapA'+'sset',_0x59fbf5);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x4f0a95){this['_setValue']('mesh',_0x4f0a95);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x413224){this['_setValue']('meshAsset',_0x413224);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x594c32){this['_setValue']('renderAsse'+'t',_0x594c32);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x42d231){this['_setValue']('orientatio'+'n',_0x42d231);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x52e733){this['_setValue']('particleNo'+'rmal',_0x52e733);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0xd36aae){this['_setValue']('localVeloc'+'ityGraph',_0xd36aae);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x5577a2){this['_setValue']('localVeloc'+'ityGraph2',_0x5577a2);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x2c20e2){this['_setValue']('velocityGr'+'aph',_0x2c20e2);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x297a23){this['_setValue']('velocityGr'+'aph2',_0x297a23);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x6a185f){this['_setValue']('rotationSp'+'eedGraph',_0x6a185f);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x2122ca){this['_setValue']('rotationSp'+'eedGraph2',_0x2122ca);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x1e4f19){this['_setValue']('radialSpee'+'dGraph',_0x1e4f19);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x48901b){this['_setValue']('radialSpee'+'dGraph2',_0x48901b);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x4de68b){this['_setValue']('scaleGraph',_0x4de68b);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x694e08){this['_setValue']('scaleGraph'+'2',_0x694e08);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x2425ed){this['_setValue']('colorGraph',_0x2425ed);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x148c27){this['_setValue']('colorGraph'+'2',_0x148c27);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x473ac3){this['_setValue']('alphaGraph',_0x473ac3);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x58fca6){this['_setValue']('alphaGraph'+'2',_0x58fca6);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x1c2492){this['_setValue']('colorMap',_0x1c2492);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x10eb3a){this['_setValue']('normalMap',_0x10eb3a);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x11e49d){this['_setValue']('animTilesX',_0x11e49d);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x595138){this['_setValue']('animTilesY',_0x595138);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x1f30d9){this['_setValue']('animStartF'+'rame',_0x1f30d9);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x1b2840){this['_setValue']('animNumFra'+'mes',_0x1b2840);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x2b6386){this['_setValue']('animNumAni'+'mations',_0x2b6386);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x5b0889){this['_setValue']('animIndex',_0x5b0889);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x2bf39a){this['_setValue']('randomizeA'+'nimIndex',_0x2bf39a);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x2dfcb9){this['_setValue']('animSpeed',_0x2dfcb9);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x302479){this['_setValue']('animLoop',_0x302479);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x41063e){this['_setValue']('layers',_0x41063e);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x29377e){this['_drawOrder']=_0x29377e,this['emitter']&&(this['emitter']['drawOrder']=_0x29377e);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x5d721b,_0x4993ad){const _0x283126=this['data'],_0x518e70=_0x283126[_0x5d721b];_0x283126[_0x5d721b]=_0x4993ad,this['fire']('set',_0x5d721b,_0x518e70,_0x4993ad);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x339102=-0x166*-0x13+-0x2*0x61+-0x19d0;_0x339102<this['layers']['length'];_0x339102++){const _0x34fa2d=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x339102]);_0x34fa2d&&(_0x34fa2d['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x34fa2d);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x445a32=-0x1464+0xeb7+0x5ad;_0x445a32<this['layers']['length'];_0x445a32++){const _0x306ff3=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x445a32]);_0x306ff3&&_0x306ff3['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x18ac7f,_0x2ce076,_0xbcca04){if(this['emitter']){for(let _0x200957=-0x49d+0x1f*0xd5+-0x152e;_0x200957<_0x2ce076['length'];_0x200957++){const _0x2e2fa1=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x2ce076[_0x200957]);_0x2e2fa1&&_0x2e2fa1['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x532685=-0x51*0x5c+0x155e+-0x7be*-0x1;_0x532685<_0xbcca04['length'];_0x532685++){const _0x368d98=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0xbcca04[_0x532685]);_0x368d98&&_0x368d98['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x265ee2,_0x35387b){this['addMeshIns'+'tanceToLay'+'ers'](),_0x265ee2['off']('add',this['onLayerAdd'+'ed'],this),_0x265ee2['off']('remove',this['onLayerRem'+'oved'],this),_0x35387b['on']('add',this['onLayerAdd'+'ed'],this),_0x35387b['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x46211f){!this['emitter']||this['layers']['indexOf'](_0x46211f['id'])<0x2*-0x280+0x2533+-0x2033||_0x46211f['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0xcc157a){!this['emitter']||this['layers']['indexOf'](_0xcc157a['id'])<-0x88*0x33+-0xe5d+0x1*0x2975||_0xcc157a['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x3e5f91){if(_0x3e5f91['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x3e5f91['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x3e5f91['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x3e5f91['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x3e5f91['resource'])this['_onColorMa'+'pAssetLoad'](_0x3e5f91);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x3e5f91);}}['_unbindCol'+'orMapAsset'](_0x40888e){_0x40888e['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x40888e['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x40888e['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x40888e['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x40b1b9){this['colorMap']=_0x40b1b9['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x4a7adf){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x47253c){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x47253c);}['_onColorMa'+'pAssetChan'+'ge'](_0x4b0611){}['onSetColor'+'MapAsset'](_0x381fd4,_0x566811,_0x107896){const _0x415d15=this['system']['app']['assets'];if(_0x566811){const _0x50fdc7=_0x415d15['get'](_0x566811);_0x50fdc7&&this['_unbindCol'+'orMapAsset'](_0x50fdc7);}if(_0x107896){_0x107896 instanceof le&&(this['data']['colorMapAs'+'set']=_0x107896['id'],_0x107896=_0x107896['id']);const _0x130eb2=_0x415d15['get'](_0x107896);_0x130eb2?this['_bindColor'+'MapAsset'](_0x130eb2):_0x415d15['once']('add:'+_0x107896,_0x2de71f=>{this['_bindColor'+'MapAsset'](_0x2de71f);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x25568c){if(_0x25568c['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x25568c['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x25568c['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x25568c['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x25568c['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x25568c);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x25568c);}}['_unbindNor'+'malMapAsse'+'t'](_0x4c179a){_0x4c179a['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x4c179a['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x4c179a['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x4c179a['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x7a54bc){this['normalMap']=_0x7a54bc['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x44fa36){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x1ffb89){this['_onNormalM'+'apAssetUnl'+'oad'](_0x1ffb89);}['_onNormalM'+'apAssetCha'+'nge'](_0x30c8bf){}['onSetNorma'+'lMapAsset'](_0x54925b,_0x36cf6c,_0x51f7df){const _0x173f11=this['system']['app']['assets'];if(_0x36cf6c){const _0x2b5714=_0x173f11['get'](_0x36cf6c);_0x2b5714&&this['_unbindNor'+'malMapAsse'+'t'](_0x2b5714);}if(_0x51f7df){_0x51f7df instanceof le&&(this['data']['normalMapA'+'sset']=_0x51f7df['id'],_0x51f7df=_0x51f7df['id']);const _0x2fa3ab=_0x173f11['get'](_0x51f7df);_0x2fa3ab?this['_bindNorma'+'lMapAsset'](_0x2fa3ab):_0x173f11['once']('add:'+_0x51f7df,_0x324717=>{this['_bindNorma'+'lMapAsset'](_0x324717);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x21cc39){if(_0x21cc39['on']('load',this['_onMeshAss'+'etLoad'],this),_0x21cc39['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x21cc39['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x21cc39['on']('change',this['_onMeshAss'+'etChange'],this),_0x21cc39['resource'])this['_onMeshAss'+'etLoad'](_0x21cc39);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x21cc39);}}['_unbindMes'+'hAsset'](_0x517357){_0x517357['off']('load',this['_onMeshAss'+'etLoad'],this),_0x517357['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x517357['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x517357['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x92427f){this['_onMeshCha'+'nged'](_0x92427f['resource']);}['_onMeshAss'+'etUnload'](_0x5c6c67){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x1ff13d){this['_onMeshAss'+'etUnload'](_0x1ff13d);}['_onMeshAss'+'etChange'](_0x3d1277){}['onSetMeshA'+'sset'](_0x41180c,_0x42f273,_0x147cef){const _0x2c464b=this['system']['app']['assets'];if(_0x42f273){const _0x1db341=_0x2c464b['get'](_0x42f273);_0x1db341&&this['_unbindMes'+'hAsset'](_0x1db341);}if(_0x147cef){_0x147cef instanceof le&&(this['data']['meshAsset']=_0x147cef['id'],_0x147cef=_0x147cef['id']);const _0xbe9b5f=_0x2c464b['get'](_0x147cef);_0xbe9b5f&&this['_bindMeshA'+'sset'](_0xbe9b5f);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x26fe3a,_0x2612ad,_0xbf11a3){!_0xbf11a3||_0xbf11a3 instanceof le||typeof _0xbf11a3=='number'?this['meshAsset']=_0xbf11a3:this['_onMeshCha'+'nged'](_0xbf11a3);}['_onMeshCha'+'nged'](_0x32528c){_0x32528c&&!(_0x32528c instanceof Ie)&&(_0x32528c['meshInstan'+'ces'][-0x32+0x28*-0x60+0x1*0xf32]?_0x32528c=_0x32528c['meshInstan'+'ces'][0xba8*-0x3+-0x650+0x2948]['mesh']:_0x32528c=null),this['data']['mesh']=_0x32528c,this['emitter']&&(this['emitter']['mesh']=_0x32528c,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x52945b,_0x101151,_0x5bfacf){const _0xea3561=this['system']['app']['assets'];if(_0x101151){const _0x2f8c92=_0xea3561['get'](_0x101151);_0x2f8c92&&this['_unbindRen'+'derAsset'](_0x2f8c92);}if(_0x5bfacf){_0x5bfacf instanceof le&&(this['data']['renderAsse'+'t']=_0x5bfacf['id'],_0x5bfacf=_0x5bfacf['id']);const _0x3522ae=_0xea3561['get'](_0x5bfacf);_0x3522ae&&this['_bindRende'+'rAsset'](_0x3522ae);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0xc536d8){if(_0xc536d8['on']('load',this['_onRenderA'+'ssetLoad'],this),_0xc536d8['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0xc536d8['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0xc536d8['resource'])this['_onRenderA'+'ssetLoad'](_0xc536d8);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0xc536d8);}}['_unbindRen'+'derAsset'](_0x4ee3ab){var _0x386428;_0x4ee3ab['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x4ee3ab['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x4ee3ab['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x386428=this['_evtSetMes'+'hes'])==null||_0x386428['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x1d5092){this['_onRenderC'+'hanged'](_0x1d5092['resource']);}['_onRenderA'+'ssetUnload'](_0x3638c5){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x38ac2c){this['_onRenderA'+'ssetUnload'](_0x38ac2c);}['_onRenderC'+'hanged'](_0x50ce74){var _0x201bf5;if(!_0x50ce74){this['_onMeshCha'+'nged'](null);return;}(_0x201bf5=this['_evtSetMes'+'hes'])==null||_0x201bf5['off'](),this['_evtSetMes'+'hes']=_0x50ce74['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x50ce74['meshes']&&this['_onRenderS'+'etMeshes'](_0x50ce74['meshes']);}['_onRenderS'+'etMeshes'](_0x12e62b){this['_onMeshCha'+'nged'](_0x12e62b&&_0x12e62b[-0x23cd*0x1+-0xa3*-0x17+0x2*0xa94]);}['onSetLoop'](_0x583d4f,_0x28f424,_0x153d3a){this['emitter']&&(this['emitter'][_0x583d4f]=_0x153d3a,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x155cda,_0x5a0975,_0x4c3c73){this['emitter']&&(this['emitter'][_0x155cda]=_0x4c3c73,this['emitter']['material']['blendType']=_0x4c3c73,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Hn||(Hn=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt)),Hn&&(Hn['incrementC'+'ounter'](),this['_requested'+'Depth']=!(0x19c*-0x1+-0xd*-0x200+-0x1864)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Hn&&(Hn['decrementC'+'ounter'](),this['_requested'+'Depth']=!(0x6cb+0x2542*-0x1+0x5*0x618));}['onSetDepth'+'Softening'](_0x1439e6,_0x45d8bc,_0x220ae8){_0x45d8bc!==_0x220ae8&&(_0x220ae8?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x1439e6]=_0x220ae8)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x1439e6]=_0x220ae8)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x28661f,_0x453e3d,_0x4a78b3){this['emitter']&&(this['emitter'][_0x28661f]=_0x4a78b3,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x5887c3,_0x5d27d5,_0xa2c8bb){this['emitter']&&(this['emitter'][_0x5887c3]=_0xa2c8bb,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x23d607,_0x33a27c,_0x167174){this['emitter']&&(this['emitter'][_0x23d607]=_0x167174,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x2f3b02=this['system']['app']['scene'],_0x44cbc9=_0x2f3b02['layers'],_0x21e571=this['data'];for(let _0x44fb9c=0xe8*0x15+-0xa1e+-0x8ea,_0x4fb6d6=Zl['length'];_0x44fb9c<_0x4fb6d6;_0x44fb9c++){let _0x20c986=_0x21e571[Zl[_0x44fb9c]];if(_0x20c986){if(!(_0x20c986 instanceof le)){if(parseInt(_0x20c986,-0x322+-0x12df*-0x1+0xfb3*-0x1)>=-0x23c8+-0x38a+0x2*0x13a9)_0x20c986=this['system']['app']['assets']['get'](_0x20c986);else continue;}_0x20c986&&!_0x20c986['resource']&&this['system']['app']['assets']['load'](_0x20c986);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x15efda=_0x21e571['mesh'];_0x15efda instanceof Ie||(_0x15efda=null),this['emitter']=new d1(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x21e571['numParticl'+'es'],'emitterExtents':_0x21e571['emitterExt'+'ents'],'emitterExtentsInner':_0x21e571['emitterExt'+'entsInner'],'emitterRadius':_0x21e571['emitterRad'+'ius'],'emitterRadiusInner':_0x21e571['emitterRad'+'iusInner'],'emitterShape':_0x21e571['emitterSha'+'pe'],'initialVelocity':_0x21e571['initialVel'+'ocity'],'wrap':_0x21e571['wrap'],'localSpace':_0x21e571['localSpace'],'screenSpace':_0x21e571['screenSpac'+'e'],'wrapBounds':_0x21e571['wrapBounds'],'lifetime':_0x21e571['lifetime'],'rate':_0x21e571['rate'],'rate2':_0x21e571['rate2'],'orientation':_0x21e571['orientatio'+'n'],'particleNormal':_0x21e571['particleNo'+'rmal'],'animTilesX':_0x21e571['animTilesX'],'animTilesY':_0x21e571['animTilesY'],'animStartFrame':_0x21e571['animStartF'+'rame'],'animNumFrames':_0x21e571['animNumFra'+'mes'],'animNumAnimations':_0x21e571['animNumAni'+'mations'],'animIndex':_0x21e571['animIndex'],'randomizeAnimIndex':_0x21e571['randomizeA'+'nimIndex'],'animSpeed':_0x21e571['animSpeed'],'animLoop':_0x21e571['animLoop'],'startAngle':_0x21e571['startAngle'],'startAngle2':_0x21e571['startAngle'+'2'],'scaleGraph':_0x21e571['scaleGraph'],'scaleGraph2':_0x21e571['scaleGraph'+'2'],'colorGraph':_0x21e571['colorGraph'],'colorGraph2':_0x21e571['colorGraph'+'2'],'alphaGraph':_0x21e571['alphaGraph'],'alphaGraph2':_0x21e571['alphaGraph'+'2'],'localVelocityGraph':_0x21e571['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x21e571['localVeloc'+'ityGraph2'],'velocityGraph':_0x21e571['velocityGr'+'aph'],'velocityGraph2':_0x21e571['velocityGr'+'aph2'],'rotationSpeedGraph':_0x21e571['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x21e571['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x21e571['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x21e571['radialSpee'+'dGraph2'],'colorMap':_0x21e571['colorMap'],'normalMap':_0x21e571['normalMap'],'loop':_0x21e571['loop'],'preWarm':_0x21e571['preWarm'],'sort':_0x21e571['sort'],'stretch':_0x21e571['stretch'],'alignToMotion':_0x21e571['alignToMot'+'ion'],'lighting':_0x21e571['lighting'],'halfLambert':_0x21e571['halfLamber'+'t'],'intensity':_0x21e571['intensity'],'depthSoftening':_0x21e571['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x15efda,'depthWrite':_0x21e571['depthWrite'],'noFog':_0x21e571['noFog'],'node':this['entity'],'blendType':_0x21e571['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x21e571['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(0x1a4c+-0x1*-0x118c+0x4df*-0x9));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x2f3b02['on']('set:layers',this['onLayersCh'+'anged'],this),_0x44cbc9&&(this['_evtLayerA'+'dded']=_0x44cbc9['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x44cbc9['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x21e571['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x3b47fb,_0x29cf89,_0x506162;const _0x180d0b=this['system']['app']['scene']['layers'];(_0x3b47fb=this['_evtLayers'+'Changed'])==null||_0x3b47fb['off'](),this['_evtLayers'+'Changed']=null,_0x180d0b&&((_0x29cf89=this['_evtLayerA'+'dded'])==null||_0x29cf89['off'](),this['_evtLayerA'+'dded']=null,(_0x506162=this['_evtLayerR'+'emoved'])==null||_0x506162['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(0x1*-0x1083+-0x16bf+0x211*0x13)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x10e3f4=0x10c9*-0x2+-0x14a1*-0x1+0xcf1;_0x10e3f4<Zl['length'];_0x10e3f4++){const _0x29984c=Zl[_0x10e3f4];this['data'][_0x29984c]&&(this[_0x29984c]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(0x903+0x2*0x2e9+-0xed4),this['emitter']['resetTime'](),this['emitter']['addTime'](-0x1ebf+-0xb2*0xf+0x292d,!(0x12e*-0x4+-0x243b+0x28f3)));}['pause'](){this['data']['paused']=!(-0xf1*-0x29+0x17fa+-0xc1*0x53);}['unpause'](){this['data']['paused']=!(-0x2096+-0x7ca*0x2+0x3b*0xd1);}['play'](){this['data']['paused']=!(0x747+-0x25*0x57+0x17*0x3b),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(-0xd8d+0x18f5+-0x28*0x49),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(0x1*0xe6b+-0xb24+-0x346):this['emitter']&&this['emitter']['loop']?!(-0x1464+-0x2*0xb74+-0x2*-0x15a6):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x3e35f2}=this;_0x3e35f2&&!_0x3e35f2['inTools']&&(_0x3e35f2['inTools']=!(-0x5b+-0x1*-0x16a7+-0x164c*0x1),this['rebuild']());}['rebuild'](){const _0x42d9de=this['enabled'];this['enabled']=!(-0x155c+-0x1e8+0x17*0x103),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x42d9de;}}class lI{constructor(){this['numParticl'+'es']=0xffd*-0x2+-0x21c5+0x41c0,this['rate']=-0xb1d*-0x1+0x6f2+-0x120e,this['rate2']=null,this['startAngle']=0x76f+-0x51*-0x15+-0x6a*0x22,this['startAngle'+'2']=null,this['lifetime']=0x2*0x58f+-0x1*-0x97d+-0x1469,this['emitterExt'+'ents']=new T(),this['emitterExt'+'entsInner']=new T(),this['emitterRad'+'ius']=0x20bc+0x93+-0x214f*0x1,this['emitterRad'+'iusInner']=0x9*0x354+0xf82+-0x2d76,this['emitterSha'+'pe']=Vs,this['initialVel'+'ocity']=-0x99*-0x25+0x200d+0x3*-0x120e,this['wrap']=!(-0x1f47+0x1499*-0x1+0x33e1),this['wrapBounds']=new T(),this['localSpace']=!(0x1173+0x2323+-0x3495),this['screenSpac'+'e']=!(-0xd21*0x1+0x14c*0x8+0x2c2),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(-0xf82+-0x1bbc+0x2b3e),this['preWarm']=!(0x766*-0x5+0xce*0x6+-0x131*-0x1b),this['sort']=0x753+0x1*-0xb4+0xf*-0x71,this['mode']=d0,this['scene']=null,this['lighting']=!(0x20*-0x28+0x7*0x425+-0x1802),this['halfLamber'+'t']=!(-0x585+-0x26fc+0x1*0x2c82),this['intensity']=0x19*-0x135+0x64e+-0xbf*-0x20,this['stretch']=-0x4c5*-0x1+0x1*-0x17ee+0x147*0xf,this['alignToMot'+'ion']=!(0x13de+-0x5*-0x156+-0x1a8b),this['depthSofte'+'ning']=0x49*0x71+-0x5*-0x416+-0x3*0x118d,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(-0x5eb+-0x9f7*-0x1+-0xf*0x45),this['noFog']=!(-0xd3f*0x1+0x1191*-0x2+0x3062),this['orientatio'+'n']=Uh,this['particleNo'+'rmal']=new T(-0xb*-0x10b+-0x446+-0x733,-0x11c5*0x2+-0x1d60+0x1*0x40eb,0x1d*0x89+-0xd*0xb1+-0x688),this['animTilesX']=0x1*0x192f+-0xccd+0x1*-0xc61,this['animTilesY']=0x157f+0x988+-0x169*0x16,this['animStartF'+'rame']=0xd8a+-0x267d+0x18f3,this['animNumFra'+'mes']=-0x1e6c+-0x2670+0x44dd,this['animNumAni'+'mations']=-0x1*0xe87+-0x1619+0x24a1,this['animIndex']=0x542+-0x3*-0x95+-0x701,this['randomizeA'+'nimIndex']=!(-0x85f*0x1+0x9ef+-0x18f),this['animSpeed']=0x20af+0x4ee+0x259c*-0x1,this['animLoop']=!(0x162*-0xa+-0xd*0xe0+0x2*0xc9a),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Kt,this['enabled']=!(0x155*0x2+0x1460+0x3*-0x7ae),this['paused']=!(0x5f*0x1f+0xe23+-0x19a3),this['autoPlay']=!(0x1935*-0x1+0xede*0x1+0xa57*0x1),this['layers']=[Fi];}}const hI=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class cI extends Xe{constructor(_0x6b69d6){super(_0x6b69d6),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=oI,this['DataType']=lI,this['schema']=hI,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x37bfec,_0x2b5a5a,_0x212153){const _0xbf0710={};_0x212153=[];const _0x52a8d9=this['propertyTy'+'pes'];(_0x2b5a5a['mesh']instanceof le||typeof _0x2b5a5a['mesh']=='number')&&(_0x2b5a5a['meshAsset']=_0x2b5a5a['mesh'],delete _0x2b5a5a['mesh']);for(const _0x5c93fb in _0x2b5a5a){if(_0x2b5a5a['hasOwnProp'+'erty'](_0x5c93fb)&&(_0x212153['push'](_0x5c93fb),_0xbf0710[_0x5c93fb]=_0x2b5a5a[_0x5c93fb]),_0x52a8d9[_0x5c93fb]==='vec3')Array['isArray'](_0xbf0710[_0x5c93fb])&&(_0xbf0710[_0x5c93fb]=new T(_0xbf0710[_0x5c93fb][0x244b+-0x1aa2+-0x9a9*0x1],_0xbf0710[_0x5c93fb][-0x1a49+0x2*0xbc3+0x162*0x2],_0xbf0710[_0x5c93fb][-0xb2*-0x3+-0x9*0x184+0xb90]));else{if(_0x52a8d9[_0x5c93fb]==='curve'){if(!(_0xbf0710[_0x5c93fb]instanceof Cs)){const _0x5eb1d4=_0xbf0710[_0x5c93fb]['type'];_0xbf0710[_0x5c93fb]=new Cs(_0xbf0710[_0x5c93fb]['keys']),_0xbf0710[_0x5c93fb]['type']=_0x5eb1d4;}}else{if(_0x52a8d9[_0x5c93fb]==='curveset'&&!(_0xbf0710[_0x5c93fb]instanceof jr)){const _0x37463f=_0xbf0710[_0x5c93fb]['type'];_0xbf0710[_0x5c93fb]=new jr(_0xbf0710[_0x5c93fb]['keys']),_0xbf0710[_0x5c93fb]['type']=_0x37463f;}}}_0xbf0710['layers']&&Array['isArray'](_0xbf0710['layers'])&&(_0xbf0710['layers']=_0xbf0710['layers']['slice'](0x2522+0xe29+-0x334b));}super['initialize'+'ComponentD'+'ata'](_0x37bfec,_0xbf0710,_0x212153);}['cloneCompo'+'nent'](_0x41cd29,_0x43c2b4){const _0x480074=_0x41cd29['particlesy'+'stem']['data'],_0x27b6e7=this['schema'],_0x3fc495={};for(let _0x5a2f01=0x1029+-0x4a*-0x57+-0x294f,_0x13ffb0=_0x27b6e7['length'];_0x5a2f01<_0x13ffb0;_0x5a2f01++){const _0x195a1c=_0x27b6e7[_0x5a2f01];let _0x3f1233=_0x480074[_0x195a1c];_0x3f1233 instanceof T||_0x3f1233 instanceof Cs||_0x3f1233 instanceof jr?(_0x3f1233=_0x3f1233['clone'](),_0x3fc495[_0x195a1c]=_0x3f1233):_0x195a1c==='layers'?_0x3fc495['layers']=_0x480074['layers']['slice'](-0x1738+0xfd3*0x1+0x765):_0x3f1233!=null&&(_0x3fc495[_0x195a1c]=_0x3f1233);}return this['addCompone'+'nt'](_0x43c2b4,_0x3fc495);}['onUpdate'](_0x36ea9){const _0x3a7a04=this['store'];let _0x176920;const _0x34e587=this['app']['stats']['particles'],_0x67ba7c=this['app']['scene']['layers'];for(let _0x384d5b=0x5*-0x125+0x67*0x58+-0x1daf;_0x384d5b<_0x67ba7c['layerList']['length'];_0x384d5b++)_0x67ba7c['layerList'][_0x384d5b]['requiresLi'+'ghtCube']=!(-0x2*-0x1171+0x1*-0xc5+-0x221c);for(const _0x425f20 in _0x3a7a04)if(_0x3a7a04['hasOwnProp'+'erty'](_0x425f20)){const _0x30390e=_0x3a7a04[_0x425f20],_0x48f19e=_0x30390e['entity'],_0x393f06=_0x30390e['data'];if(_0x393f06['enabled']&&_0x48f19e['enabled']){const _0x5ebe91=_0x48f19e['particlesy'+'stem']['emitter'];if(!(_0x5ebe91!=null&&_0x5ebe91['meshInstan'+'ce']['visible']))continue;if(_0x5ebe91['lighting']){const _0x45137e=_0x393f06['layers'];for(let _0x409839=0x1d77+-0xdd*0x29+0x5ee;_0x409839<_0x45137e['length'];_0x409839++){const _0x14287f=_0x67ba7c['getLayerBy'+'Id'](_0x45137e[_0x409839]);_0x14287f&&(_0x14287f['requiresLi'+'ghtCube']=!(-0x1*-0x1559+0x2*0xd3+0x349*-0x7));}}if(!_0x393f06['paused']){if(_0x5ebe91['simTime']+=_0x36ea9,_0x5ebe91['simTime']>_0x5ebe91['fixedTimeS'+'tep']&&(_0x176920=Math['floor'](_0x5ebe91['simTime']/_0x5ebe91['fixedTimeS'+'tep']),_0x5ebe91['simTime']-=_0x176920*_0x5ebe91['fixedTimeS'+'tep']),_0x176920){_0x176920=Math['min'](_0x176920,_0x5ebe91['maxSubStep'+'s']);for(let _0x507b67=0x7a1+0x68*-0x17+0x1*0x1b7;_0x507b67<_0x176920;_0x507b67++)_0x5ebe91['addTime'](_0x5ebe91['fixedTimeS'+'tep'],!(-0x2*0x127f+-0x24*-0x5d+0x27*0x9d));_0x34e587['_updatesPe'+'rFrame']+=_0x176920,_0x34e587['_frameTime']+=_0x5ebe91['_addTimeTi'+'me'],_0x5ebe91['_addTimeTi'+'me']=0x6*0xc5+0x250d*0x1+0x1*-0x29ab;}_0x5ebe91['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x29af99,_0x31b827){_0x31b827['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class dI extends Gc{constructor(_0x5f5dfe,_0x33c504){super(),this['skin']=_0x5f5dfe,this['skinInstan'+'ce']=_0x33c504;}}const bs=class bs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),bs['_skinInsta'+'nceCache']['forEach']((_0x1908aa,_0x4c825e)=>{console['log'](_0x4c825e['name']+':\x20Array('+_0x1908aa['length']+')');for(let _0x1ab30d=-0x1*-0x1b0f+0x1*-0xf4f+-0x5e*0x20;_0x1ab30d<_0x1908aa['length'];_0x1ab30d++)console['log']('\x20\x20'+_0x1ab30d+(':\x20RefCount'+'\x20')+_0x1908aa[_0x1ab30d]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x46e994,_0x499c16,_0x2fad79){let _0x26c652=bs['getCachedS'+'kinInstanc'+'e'](_0x46e994,_0x499c16);return _0x26c652||(_0x26c652=new nl(_0x46e994),_0x26c652['resolve'](_0x499c16,_0x2fad79),bs['addCachedS'+'kinInstanc'+'e'](_0x46e994,_0x499c16,_0x26c652)),_0x26c652;}static['getCachedS'+'kinInstanc'+'e'](_0x21ddee,_0x5b23ce){let _0x3a507d=null;const _0x2ac2a5=bs['_skinInsta'+'nceCache']['get'](_0x5b23ce);if(_0x2ac2a5){const _0x3d61ef=_0x2ac2a5['find'](_0x3047f8=>_0x3047f8['skin']===_0x21ddee);_0x3d61ef&&(_0x3d61ef['incRefCoun'+'t'](),_0x3a507d=_0x3d61ef['skinInstan'+'ce']);}return _0x3a507d;}static['addCachedS'+'kinInstanc'+'e'](_0x57b5fd,_0x1ee839,_0x1c9a2e){let _0x42c451=bs['_skinInsta'+'nceCache']['get'](_0x1ee839);_0x42c451||(_0x42c451=[],bs['_skinInsta'+'nceCache']['set'](_0x1ee839,_0x42c451));let _0xd25a03=_0x42c451['find'](_0x428852=>_0x428852['skin']===_0x57b5fd);_0xd25a03||(_0xd25a03=new dI(_0x57b5fd,_0x1c9a2e),_0x42c451['push'](_0xd25a03)),_0xd25a03['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x48a3de){if(_0x48a3de){const _0x2d885d=_0x48a3de['rootBone'];if(_0x2d885d){const _0x4eabf1=bs['_skinInsta'+'nceCache']['get'](_0x2d885d);if(_0x4eabf1){const _0x460280=_0x4eabf1['findIndex'](_0x7e03de=>_0x7e03de['skinInstan'+'ce']===_0x48a3de);if(_0x460280>=-0x13bf*0x1+0x2303+-0xf44){const _0x32e139=_0x4eabf1[_0x460280];_0x32e139['decRefCoun'+'t'](),_0x32e139['refCount']===0x11c7+0x2378+-0x353f&&(_0x4eabf1['splice'](_0x460280,-0x1afb*-0x1+-0x127f+0xa7*-0xd),_0x4eabf1['length']||bs['_skinInsta'+'nceCache']['delete'](_0x2d885d),_0x48a3de&&(_0x48a3de['destroy'](),_0x32e139['skinInstan'+'ce']=null));}}}}}};c(bs,'_skinInsta'+'nceCache',new Map());let Vo=bs;class Go{constructor(_0x2aa055,_0x559c9c,_0x3f1368,_0x21be67,_0x365214){c(this,'_evtLoadBy'+'Id',null),c(this,'_evtUnload'+'ById',null),c(this,'_evtAddByI'+'d',null),c(this,'_evtRemove'+'ById',null),c(this,'_evtLoadBy'+'Url',null),c(this,'_evtAddByU'+'rl',null),c(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x2aa055,this['parent']=_0x559c9c,this['_scope']=_0x365214,this['_registry']=_0x3f1368,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x21be67['load'],this['_onAssetAd'+'d']=_0x21be67['add'],this['_onAssetRe'+'move']=_0x21be67['remove'],this['_onAssetUn'+'load']=_0x21be67['unload']);}set['id'](_0x53029f){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x53029f,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x383a49){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x383a49,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x20c447,_0x4b0f66,_0x43f600,_0x3325f1,_0x20bbf4,_0xdd244a,_0x574a50;this['id']&&((_0x20c447=this['_evtLoadBy'+'Id'])==null||_0x20c447['off'](),this['_evtLoadBy'+'Id']=null,(_0x4b0f66=this['_evtAddByI'+'d'])==null||_0x4b0f66['off'](),this['_evtAddByI'+'d']=null,(_0x43f600=this['_evtRemove'+'ById'])==null||_0x43f600['off'](),this['_evtRemove'+'ById']=null,(_0x3325f1=this['_evtUnload'+'ById'])==null||_0x3325f1['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x20bbf4=this['_evtLoadBy'+'Url'])==null||_0x20bbf4['off'](),this['_evtLoadBy'+'Url']=null,(_0xdd244a=this['_evtAddByU'+'rl'])==null||_0xdd244a['off'](),this['_evtAddByU'+'rl']=null,(_0x574a50=this['_evtRemove'+'ByUrl'])==null||_0x574a50['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x1950af){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x1950af);}['_onAdd'](_0x41c4f0){this['asset']=_0x41c4f0,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x41c4f0);}['_onRemove'](_0x530c89){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x530c89),this['asset']=null;}['_onUnload'](_0xed32e9){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0xed32e9);}}class fx extends ue{constructor(_0x5ab727,_0x46e0a3){super(_0x5ab727,_0x46e0a3),c(this,'_type','asset'),c(this,'_castShado'+'ws',!(0xb*-0xb5+0x212c+-0x1965)),c(this,'_receiveSh'+'adows',!(-0x1182*-0x1+-0x9e4+0x27*-0x32)),c(this,'_castShado'+'wsLightmap',!(-0x188+-0x16*-0x120+-0x1738)),c(this,'_lightmapp'+'ed',!(-0x620+0x8*-0x3c5+0x2449)),c(this,'_lightmapS'+'izeMultipl'+'ier',0x1119+-0x48e+0x3*-0x42e),c(this,'isStatic',!(0xe5*-0x19+0x220d*-0x1+0x1*0x386b)),c(this,'_batchGrou'+'pId',-(0x2f*0x95+0x23a6+0x12*-0x380)),c(this,'_layers',[Fi]),c(this,'_renderSty'+'le',yo),c(this,'_meshInsta'+'nces',[]),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_assetRefe'+'rence'),c(this,'_materialR'+'eferences',[]),c(this,'_material'),c(this,'_rootBone',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x5ab727['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x5ab727['defaultMat'+'erial'],_0x46e0a3['on']('remove',this['onRemoveCh'+'ild'],this),_0x46e0a3['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x46e0a3['on']('insert',this['onInsertCh'+'ild'],this),_0x46e0a3['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x270769){this['_renderSty'+'le']!==_0x270769&&(this['_renderSty'+'le']=_0x270769,Le['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x270769));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x29b461){this['_customAab'+'b']=_0x29b461;const _0xcf826=this['_meshInsta'+'nces'];if(_0xcf826){for(let _0x1de7ce=0x135f+0x1737+-0x2a96;_0x1de7ce<_0xcf826['length'];_0x1de7ce++)_0xcf826[_0x1de7ce]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x3f16a5){if(this['_type']!==_0x3f16a5&&(this['_area']=null,this['_type']=_0x3f16a5,this['destroyMes'+'hInstances'](),_0x3f16a5!=='asset')){let _0x2312b9=this['_material'];(!_0x2312b9||_0x2312b9===this['system']['defaultMat'+'erial'])&&(_0x2312b9=this['_materialR'+'eferences'][-0x65*0x61+0x1d09*-0x1+0x434e]&&this['_materialR'+'eferences'][0x953+-0x1167+0x814]['asset']&&this['_materialR'+'eferences'][-0x7f*-0x43+0x2*0xc5e+-0x369*0x11]['asset']['resource']);const _0x5b90d0=cx(this['system']['app']['graphicsDe'+'vice'],_0x3f16a5);this['_area']=_0x5b90d0['area'],this['meshInstan'+'ces']=[new Le(_0x5b90d0['mesh'],_0x2312b9||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x2146da){if(v['assert'](Array['isArray'](_0x2146da),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x2146da,this['_meshInsta'+'nces']){const _0x1cbd3b=this['_meshInsta'+'nces'];for(let _0x2fe9f1=-0x340+-0xd2a+0x106a;_0x2fe9f1<_0x1cbd3b['length'];_0x2fe9f1++)_0x1cbd3b[_0x2fe9f1]['node']||(_0x1cbd3b[_0x2fe9f1]['node']=this['entity']),_0x1cbd3b[_0x2fe9f1]['castShadow']=this['_castShado'+'ws'],_0x1cbd3b[_0x2fe9f1]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x1cbd3b[_0x2fe9f1]['renderStyl'+'e']=this['_renderSty'+'le'],_0x1cbd3b[_0x2fe9f1]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x1cbd3b[_0x2fe9f1]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x2158cf){if(_0x2158cf!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x2158cf;const _0x2647a3=this['_meshInsta'+'nces'];if(_0x2647a3){for(let _0x18d2b7=-0x1318+-0xda4+0x4*0x82f;_0x18d2b7<_0x2647a3['length'];_0x18d2b7++)_0x2647a3[_0x18d2b7]['setLightma'+'pped'](_0x2158cf);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x109529){if(this['_castShado'+'ws']!==_0x109529){const _0x4da750=this['_meshInsta'+'nces'];if(_0x4da750){const _0x8b3270=this['layers'],_0x4b5dcf=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x109529)for(let _0x4cb3f9=-0x1*0x1cb5+0x165*0xb+-0xd5e*-0x1;_0x4cb3f9<_0x8b3270['length'];_0x4cb3f9++){const _0x1c3d85=_0x4b5dcf['layers']['getLayerBy'+'Id'](this['layers'][_0x4cb3f9]);_0x1c3d85&&_0x1c3d85['removeShad'+'owCasters'](_0x4da750);}for(let _0x14a7f0=0x1*0x2fc+0x6c3*-0x3+-0x2b*-0x67;_0x14a7f0<_0x4da750['length'];_0x14a7f0++)_0x4da750[_0x14a7f0]['castShadow']=_0x109529;if(!this['_castShado'+'ws']&&_0x109529)for(let _0xa11db3=-0xe15+-0x80d+0x1622;_0xa11db3<_0x8b3270['length'];_0xa11db3++){const _0x35c954=_0x4b5dcf['layers']['getLayerBy'+'Id'](_0x8b3270[_0xa11db3]);_0x35c954&&_0x35c954['addShadowC'+'asters'](_0x4da750);}}this['_castShado'+'ws']=_0x109529;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x46b8d7){if(this['_receiveSh'+'adows']!==_0x46b8d7){this['_receiveSh'+'adows']=_0x46b8d7;const _0x3ca8a7=this['_meshInsta'+'nces'];if(_0x3ca8a7){for(let _0x20e521=-0x1992+-0x13*-0x153+0x69*0x1;_0x20e521<_0x3ca8a7['length'];_0x20e521++)_0x3ca8a7[_0x20e521]['receiveSha'+'dow']=_0x46b8d7;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x2a69c0){this['_castShado'+'wsLightmap']=_0x2a69c0;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x1eb8bf){this['_lightmapS'+'izeMultipl'+'ier']=_0x1eb8bf;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x5e9e98){const _0x3fcd33=this['system']['app']['scene']['layers'];let _0x363e51;if(this['_meshInsta'+'nces']){for(let _0x4012ac=-0x36e*0x1+-0x2e8+0x656;_0x4012ac<this['_layers']['length'];_0x4012ac++)_0x363e51=_0x3fcd33['getLayerBy'+'Id'](this['_layers'][_0x4012ac]),_0x363e51&&_0x363e51['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=0x2*0x706+-0x1a15+-0x1*-0xc09;for(let _0x57da77=-0x161*0x8+0x12aa+0x2*-0x3d1;_0x57da77<_0x5e9e98['length'];_0x57da77++)this['_layers'][_0x57da77]=_0x5e9e98[_0x57da77];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x5d460e=0x7*0x9d+-0x581+0x9b*0x2;_0x5d460e<this['_layers']['length'];_0x5d460e++)_0x363e51=_0x3fcd33['getLayerBy'+'Id'](this['_layers'][_0x5d460e]),_0x363e51&&_0x363e51['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x14c25e){var _0x3a55a3,_0x47d064;this['_batchGrou'+'pId']!==_0x14c25e&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x2021+0xc4c+0x1*0x13d5&&((_0x3a55a3=this['system']['app']['batcher'])==null||_0x3a55a3['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x14c25e>=0x21dd*-0x1+-0x1*-0x2170+0x6d&&((_0x47d064=this['system']['app']['batcher'])==null||_0x47d064['insert'](et['RENDER'],_0x14c25e,this['entity'])),_0x14c25e<0x1e75*-0x1+0xa67*-0x3+0x3*0x148e&&this['_batchGrou'+'pId']>=0x1ab6+-0x1*0x18ad+-0x209*0x1&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x14c25e);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x4b7824){if(this['_material']!==_0x4b7824&&(this['_material']=_0x4b7824,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x9cf605=-0x4*-0x161+-0xaf3*-0x3+-0x265d*0x1;_0x9cf605<this['_meshInsta'+'nces']['length'];_0x9cf605++)this['_meshInsta'+'nces'][_0x9cf605]['material']=_0x4b7824;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x32a1d3=[]){if(this['_materialR'+'eferences']['length']>_0x32a1d3['length']){for(let _0x2e5f7b=_0x32a1d3['length'];_0x2e5f7b<this['_materialR'+'eferences']['length'];_0x2e5f7b++)this['_materialR'+'eferences'][_0x2e5f7b]['id']=null;this['_materialR'+'eferences']['length']=_0x32a1d3['length'];}for(let _0x25dfc0=-0x2*-0xcca+0x15fd+-0x2f91;_0x25dfc0<_0x32a1d3['length'];_0x25dfc0++)if(this['_materialR'+'eferences'][_0x25dfc0]||this['_materialR'+'eferences']['push'](new Go(_0x25dfc0,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x32a1d3[_0x25dfc0]){const _0x3ea62f=_0x32a1d3[_0x25dfc0]instanceof le?_0x32a1d3[_0x25dfc0]['id']:_0x32a1d3[_0x25dfc0];this['_materialR'+'eferences'][_0x25dfc0]['id']!==_0x3ea62f&&(this['_materialR'+'eferences'][_0x25dfc0]['id']=_0x3ea62f),this['_materialR'+'eferences'][_0x25dfc0]['asset']&&this['_onMateria'+'lAdded'](_0x25dfc0,this,this['_materialR'+'eferences'][_0x25dfc0]['asset']);}else this['_materialR'+'eferences'][_0x25dfc0]['id']=null,this['_meshInsta'+'nces'][_0x25dfc0]&&(this['_meshInsta'+'nces'][_0x25dfc0]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x2a213e=>_0x2a213e['id']);}set['asset'](_0x35b309){const _0x5e4134=_0x35b309 instanceof le?_0x35b309['id']:_0x35b309;this['_assetRefe'+'rence']['id']!==_0x5e4134&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x5e4134,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x3d20d7){const _0x547124=_0x3d20d7 instanceof le?_0x3d20d7['id']:_0x3d20d7;this['_assetRefe'+'rence']['id']=_0x547124;}set['rootBone'](_0x380a20){if(this['_rootBone']!==_0x380a20){const _0x182629=typeof _0x380a20=='string';if(this['_rootBone']&&_0x182629&&this['_rootBone']['getGuid']()===_0x380a20)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x380a20 instanceof De?this['_rootBone']=_0x380a20:_0x182629?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x380a20)||null,this['_rootBone']||v['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x91e316=this['_meshInsta'+'nces'];if(_0x91e316){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x4f402f=-0x25fc+-0x1618+0x3c14;_0x4f402f<_0x91e316['length'];_0x4f402f++)_0x91e316[_0x4f402f]['destroy']();this['_meshInsta'+'nces']['length']=-0x2e*0x71+0x1*-0x151f+-0x1*-0x296d;}}['addToLayer'+'s'](){const _0x184840=this['system']['app']['scene']['layers'];for(let _0x20b3ef=-0x81*0x11+-0x3*0x9e4+-0x2f1*-0xd;_0x20b3ef<this['_layers']['length'];_0x20b3ef++){const _0x4d6096=_0x184840['getLayerBy'+'Id'](this['_layers'][_0x20b3ef]);_0x4d6096&&_0x4d6096['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x11cc1a=this['system']['app']['scene']['layers'];for(let _0x304367=-0xc78+-0x199a+0x2612;_0x304367<this['_layers']['length'];_0x304367++){const _0xc31dad=_0x11cc1a['getLayerBy'+'Id'](this['_layers'][_0x304367]);_0xc31dad&&_0xc31dad['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x195512=-0x4fe+-0x6e3*-0x5+-0x1d71;_0x195512<this['_materialR'+'eferences']['length'];_0x195512++)this['_materialR'+'eferences'][_0x195512]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x11ecdd,_0x25e397){this['addToLayer'+'s'](),_0x11ecdd['off']('add',this['onLayerAdd'+'ed'],this),_0x11ecdd['off']('remove',this['onLayerRem'+'oved'],this),_0x25e397['on']('add',this['onLayerAdd'+'ed'],this),_0x25e397['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x245cc2){this['layers']['indexOf'](_0x245cc2['id'])<0x12e7+0xcd6+-0x1fbd||_0x245cc2['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x2792a1){this['layers']['indexOf'](_0x2792a1['id'])<0x1*-0x133f+-0xe24*0x1+0x2163||_0x2792a1['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x27ff75;const _0x47af49=this['system']['app'],_0x1d35ca=_0x47af49['scene'],_0x4e6260=_0x1d35ca['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x1d35ca['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4e6260&&(this['_evtLayerA'+'dded']=_0x4e6260['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4e6260['on']('remove',this['onLayerRem'+'oved'],this));const _0x4bb8d0=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x4bb8d0&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x9e54bf=0x230a+0x1deb+-0x40f5;_0x9e54bf<this['_materialR'+'eferences']['length'];_0x9e54bf++)this['_materialR'+'eferences'][_0x9e54bf]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x9e54bf]['asset']);this['_batchGrou'+'pId']>=0xc5*-0x2+0xe32+-0xca8&&((_0x27ff75=_0x47af49['batcher'])==null||_0x27ff75['insert'](et['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x93f3a1,_0x28a03c,_0x2d7230,_0x478cf8;const _0x5e9932=this['system']['app'],_0x44dd47=_0x5e9932['scene']['layers'];(_0x93f3a1=this['_evtLayers'+'Changed'])==null||_0x93f3a1['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x44dd47&&((_0x28a03c=this['_evtLayerA'+'dded'])==null||_0x28a03c['off'](),this['_evtLayerA'+'dded']=null,(_0x2d7230=this['_evtLayerR'+'emoved'])==null||_0x2d7230['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0x1655*0x1+0x630+0x1*0x1025&&((_0x478cf8=_0x5e9932['batcher'])==null||_0x478cf8['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x24af50=-0x2032+0x11d1*-0x1+-0x3b*-0xd9;_0x24af50<this['_meshInsta'+'nces']['length'];_0x24af50++)this['_meshInsta'+'nces'][_0x24af50]['visible']=!(0x1b08+0x23f3+-0x3efa);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x327cba=-0x23c6+-0x2*0x7e7+0x3394;_0x327cba<this['_meshInsta'+'nces']['length'];_0x327cba++)this['_meshInsta'+'nces'][_0x327cba]['visible']=!(-0x21c0+0x1dc7+0x3f9);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x19ec4a;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0xfe15a2=this['_assetRefe'+'rence']['asset']['resource'];(_0x19ec4a=this['_evtSetMes'+'hes'])==null||_0x19ec4a['off'](),this['_evtSetMes'+'hes']=_0xfe15a2['on']('set:meshes',this['_onSetMesh'+'es'],this),_0xfe15a2['meshes']&&this['_onSetMesh'+'es'](_0xfe15a2['meshes']);}}['_onSetMesh'+'es'](_0x3ad5f6){this['_cloneMesh'+'es'](_0x3ad5f6);}['_clearSkin'+'Instances'](){for(let _0x3380dd=0x1037*0x1+-0x27b+-0x36f*0x4;_0x3380dd<this['_meshInsta'+'nces']['length'];_0x3380dd++){const _0x5ee2d5=this['_meshInsta'+'nces'][_0x3380dd];Vo['removeCach'+'edSkinInst'+'ance'](_0x5ee2d5['skinInstan'+'ce']),_0x5ee2d5['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof De)for(let _0x1de5d8=-0x1cc2+-0x128e+-0x5ea*-0x8;_0x1de5d8<this['_meshInsta'+'nces']['length'];_0x1de5d8++){const _0xc37e8d=this['_meshInsta'+'nces'][_0x1de5d8],_0x5b0b66=_0xc37e8d['mesh'];_0x5b0b66['skin']&&!_0xc37e8d['skinInstan'+'ce']&&(_0xc37e8d['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x5b0b66['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0xba21d5){if(_0xba21d5&&_0xba21d5['length']){const _0x4cbbb3=[];for(let _0x583253=0x1d06+0x4fd*0x1+-0x2203;_0x583253<_0xba21d5['length'];_0x583253++){const _0xd5895a=_0xba21d5[_0x583253],_0x1e0980=this['_materialR'+'eferences'][_0x583253]&&this['_materialR'+'eferences'][_0x583253]['asset']&&this['_materialR'+'eferences'][_0x583253]['asset']['resource'],_0x356cf4=new Le(_0xd5895a,_0x1e0980||this['system']['defaultMat'+'erial'],this['entity']);_0x4cbbb3['push'](_0x356cf4),_0xd5895a['morph']&&(_0x356cf4['morphInsta'+'nce']=new fn(_0xd5895a['morph']));}this['meshInstan'+'ces']=_0x4cbbb3,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x3de25f;(_0x3de25f=this['_evtSetMes'+'hes'])==null||_0x3de25f['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x4eb8d6,_0x4e270d,_0x1c244b){_0x1c244b['resource']?this['_onMateria'+'lLoad'](_0x4eb8d6,_0x4e270d,_0x1c244b):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x1c244b);}['_updateMai'+'nMaterial'](_0x48a9cc,_0x294fa2){_0x48a9cc===-0x2fa+-0x773*-0x2+-0xbec&&(this['material']=_0x294fa2);}['_onMateria'+'lLoad'](_0x4cb452,_0x5017a1,_0x1862f4){this['_meshInsta'+'nces'][_0x4cb452]&&(this['_meshInsta'+'nces'][_0x4cb452]['material']=_0x1862f4['resource']),this['_updateMai'+'nMaterial'](_0x4cb452,_0x1862f4['resource']);}['_onMateria'+'lRemove'](_0x1f2cf7,_0x16ac9a,_0x19ed1f){this['_meshInsta'+'nces'][_0x1f2cf7]&&(this['_meshInsta'+'nces'][_0x1f2cf7]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x1f2cf7,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x5bf328,_0x233082,_0xbfb587){this['_meshInsta'+'nces'][_0x5bf328]&&(this['_meshInsta'+'nces'][_0x5bf328]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x5bf328,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4619bf,_0x22d2de){_0x4619bf['rootBone']&&(this['rootBone']=_0x22d2de[_0x4619bf['rootBone']['getGuid']()]);}}class uI{constructor(){this['enabled']=!(0x755*0x5+0x2*0x33d+0x2b23*-0x1);}}const pf=['enabled'],Mr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class fI extends Xe{constructor(_0x380602){super(_0x380602),this['id']='render',this['ComponentT'+'ype']=fx,this['DataType']=uI,this['schema']=pf,this['defaultMat'+'erial']=al(_0x380602['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x40e0b6,_0x372968,_0x558047){(_0x372968['batchGroup'+'Id']===null||_0x372968['batchGroup'+'Id']===void(0x453+0x17*-0xa+-0x1*0x36d))&&(_0x372968['batchGroup'+'Id']=-(-0x1e68+-0x2*0x15b+-0x211f*-0x1)),_0x372968['layers']&&_0x372968['layers']['length']&&(_0x372968['layers']=_0x372968['layers']['slice'](-0x5*-0x4e9+-0x1*0xacf+-0xdbe));for(let _0x9b2a86=0x1f74+-0xe88+-0x10ec;_0x9b2a86<Mr['length'];_0x9b2a86++)_0x372968['hasOwnProp'+'erty'](Mr[_0x9b2a86])&&(_0x40e0b6[Mr[_0x9b2a86]]=_0x372968[Mr[_0x9b2a86]]);_0x372968['aabbCenter']&&_0x372968['aabbHalfEx'+'tents']&&(_0x40e0b6['customAabb']=new _e(new T(_0x372968['aabbCenter']),new T(_0x372968['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x40e0b6,_0x372968,pf);}['cloneCompo'+'nent'](_0x53ff1f,_0x311c13){const _0x2c5b8a={};for(let _0x106d90=0x4f3+-0x12*-0x224+-0x1*0x2b7b;_0x106d90<Mr['length'];_0x106d90++)_0x2c5b8a[Mr[_0x106d90]]=_0x53ff1f['render'][Mr[_0x106d90]];_0x2c5b8a['enabled']=_0x53ff1f['render']['enabled'],delete _0x2c5b8a['meshInstan'+'ces'];const _0x1aaf15=this['addCompone'+'nt'](_0x311c13,_0x2c5b8a),_0x558dc7=_0x53ff1f['render']['meshInstan'+'ces'],_0x51eb05=_0x558dc7['map'](_0x27ac24=>_0x27ac24['mesh']);_0x1aaf15['_onSetMesh'+'es'](_0x51eb05);for(let _0x33e52a=0x1946+0x56*-0x25+-0x19b*0x8;_0x33e52a<_0x558dc7['length'];_0x33e52a++)_0x1aaf15['meshInstan'+'ces'][_0x33e52a]['material']=_0x558dc7[_0x33e52a]['material'];return _0x53ff1f['render']['customAabb']&&(_0x1aaf15['customAabb']=_0x53ff1f['render']['customAabb']['clone']()),_0x1aaf15;}['onRemove'](_0x409bbc,_0x450be6){_0x450be6['onRemove']();}}ue['_buildAcce'+'ssors'](fx['prototype'],pf);class Zd{constructor(_0x1d502b,_0x410cb7){c(this,'_construct'+'or'),c(this,'_pool',[]),c(this,'_count',0x6c*-0x7+-0x1231*0x1+0x1525),(this['_construct'+'or']=_0x1d502b,this['_resize'](_0x410cb7));}['_resize'](_0x55b0ad){if(_0x55b0ad>this['_pool']['length']){for(let _0x2553e0=this['_pool']['length'];_0x2553e0<_0x55b0ad;_0x2553e0++)this['_pool'][_0x2553e0]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(-0x1b89+-0x868+0x23f3)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=-0x2479+0x16ea+-0x27*-0x59;}}let Vt,xe,gs,Wn;const pI=new se(),mI=new se(),Ql=new T();class Ws extends ue{constructor(){super(...arguments),c(this,'_angularDa'+'mping',-0x769*-0x1+0x15d*-0xd+0xa50),c(this,'_angularFa'+'ctor',new T(0x56*-0xe+-0x3d9*0x5+0x17f2,-0x13*0xfb+-0x434*-0x1+0xe6e,-0x11*-0xbb+0xf92*-0x1+0x328)),c(this,'_angularVe'+'locity',new T()),c(this,'_body',null),c(this,'_friction',-0x84f+0x887+-0x1c*0x2+0.5),c(this,'_group',og),c(this,'_linearDam'+'ping',0x131d+-0xf94+0xb5*-0x5),c(this,'_linearFac'+'tor',new T(0x1277+0x5ab*0x2+0x1*-0x1dcc,0xfd1+-0xc9+-0xf07,-0x1b37+-0x1*-0x836+0x1302)),c(this,'_linearVel'+'ocity',new T()),c(this,'_mask',af),c(this,'_mass',0x3f8+-0x1538+0x7*0x277),c(this,'_restituti'+'on',0x1*-0x8de+-0xf28+0x1806),c(this,'_rollingFr'+'iction',-0x2682+0x1f4*0x7+0x18d6),c(this,'_simulatio'+'nEnabled',!(0xf60+-0x5f2+-0x96d)),c(this,'_type',so);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(Vt=new Ammo['btTransfor'+'m'](),xe=new Ammo['btVector3'](),gs=new Ammo['btVector3'](),Wn=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](Vt),Ammo['destroy'](xe),Ammo['destroy'](gs),Ammo['destroy'](Wn),Vt=null,xe=null,gs=null,Wn=null;}set['angularDam'+'ping'](_0x47bc3d){this['_angularDa'+'mping']!==_0x47bc3d&&(this['_angularDa'+'mping']=_0x47bc3d,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x47bc3d));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x15e60f){this['_angularFa'+'ctor']['equals'](_0x15e60f)||(this['_angularFa'+'ctor']['copy'](_0x15e60f),this['_body']&&this['_type']===ms&&(xe['setValue'](_0x15e60f['x'],_0x15e60f['y'],_0x15e60f['z']),this['_body']['setAngular'+'Factor'](xe)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x50061e){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x50061e['x'],_0x50061e['y'],_0x50061e['z']),this['_body']['setAngular'+'Velocity'](xe),this['_angularVe'+'locity']['copy'](_0x50061e));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ms){const _0x1f80b3=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x1f80b3['x'](),_0x1f80b3['y'](),_0x1f80b3['z']());}return this['_angularVe'+'locity'];}set['body'](_0x5aa2af){this['_body']!==_0x5aa2af&&(this['_body']=_0x5aa2af,_0x5aa2af&&this['_simulatio'+'nEnabled']&&_0x5aa2af['activate']());}get['body'](){return this['_body'];}set['friction'](_0x4a542f){this['_friction']!==_0x4a542f&&(this['_friction']=_0x4a542f,this['_body']&&this['_body']['setFrictio'+'n'](_0x4a542f));}get['friction'](){return this['_friction'];}set['group'](_0x14f13d){this['_group']!==_0x14f13d&&(this['_group']=_0x14f13d,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x1f3bdb){this['_linearDam'+'ping']!==_0x1f3bdb&&(this['_linearDam'+'ping']=_0x1f3bdb,this['_body']&&this['_body']['setDamping'](_0x1f3bdb,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x7650dc){this['_linearFac'+'tor']['equals'](_0x7650dc)||(this['_linearFac'+'tor']['copy'](_0x7650dc),this['_body']&&this['_type']===ms&&(xe['setValue'](_0x7650dc['x'],_0x7650dc['y'],_0x7650dc['z']),this['_body']['setLinearF'+'actor'](xe)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x145da7){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x145da7['x'],_0x145da7['y'],_0x145da7['z']),this['_body']['setLinearV'+'elocity'](xe),this['_linearVel'+'ocity']['copy'](_0x145da7));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ms){const _0x566829=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x566829['x'](),_0x566829['y'](),_0x566829['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x1f9b26){this['_mask']!==_0x1f9b26&&(this['_mask']=_0x1f9b26,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x1c7049){if(this['_mass']!==_0x1c7049&&(this['_mass']=_0x1c7049,this['_body']&&this['_type']===ms)){const _0x46e18d=this['enabled']&&this['entity']['enabled'];_0x46e18d&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x1c7049,xe),this['_body']['setMassPro'+'ps'](_0x1c7049,xe),this['_body']['updateIner'+'tiaTensor'](),_0x46e18d&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x4db644){this['_restituti'+'on']!==_0x4db644&&(this['_restituti'+'on']=_0x4db644,this['_body']&&this['_body']['setRestitu'+'tion'](_0x4db644));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x2ed251){this['_rollingFr'+'iction']!==_0x2ed251&&(this['_rollingFr'+'iction']=_0x2ed251,this['_body']&&this['_body']['setRolling'+'Friction'](_0x2ed251));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x429452){if(this['_type']!==_0x429452){switch(this['_type']=_0x429452,this['disableSim'+'ulation'](),_0x429452){case ms:this['_group']=tR,this['_mask']=hg;break;case Bn:this['_group']=sR,this['_mask']=hg;break;case so:default:this['_group']=og,this['_mask']=af;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x22ebeb=this['entity'];let _0x5b00e3;if(_0x22ebeb['collision']&&(_0x5b00e3=_0x22ebeb['collision']['shape'],_0x22ebeb['trigger']&&(_0x22ebeb['trigger']['destroy'](),delete _0x22ebeb['trigger'])),_0x5b00e3){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x260bf8=this['_type']===ms?this['_mass']:-0x1ab4+-0xe*-0x7+0x1a52;this['_getEntity'+'Transform'](Vt);const _0x2adffc=this['system']['createBody'](_0x260bf8,_0x5b00e3,Vt);if(_0x2adffc['setRestitu'+'tion'](this['_restituti'+'on']),_0x2adffc['setFrictio'+'n'](this['_friction']),_0x2adffc['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x2adffc['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ms){const _0x224559=this['_linearFac'+'tor'];xe['setValue'](_0x224559['x'],_0x224559['y'],_0x224559['z']),_0x2adffc['setLinearF'+'actor'](xe);const _0x2c8d50=this['_angularFa'+'ctor'];xe['setValue'](_0x2c8d50['x'],_0x2c8d50['y'],_0x2c8d50['z']),_0x2adffc['setAngular'+'Factor'](xe);}else this['_type']===Bn&&(_0x2adffc['setCollisi'+'onFlags'](_0x2adffc['getCollisi'+'onFlags']()|eR),_0x2adffc['setActivat'+'ionState'](ag));_0x2adffc['entity']=_0x22ebeb,this['body']=_0x2adffc,this['enabled']&&_0x22ebeb['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(0x409*0x1+-0x1533+-0x112b*-0x1);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x16c09e=this['entity'];if(_0x16c09e['collision']&&_0x16c09e['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x26952a=this['_body'];if(_0x26952a){switch(this['system']['addBody'](_0x26952a,this['_group'],this['_mask']),this['_type']){case ms:this['system']['_dynamic']['push'](this),_0x26952a['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;case Bn:this['system']['_kinematic']['push'](this),_0x26952a['forceActiv'+'ationState'](ag);break;case so:_0x26952a['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;}_0x16c09e['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x16c09e['collision']),_0x26952a['activate'](),this['_simulatio'+'nEnabled']=!(-0x3*0xf4+0x1d24+0x3a*-0x74);}}}['disableSim'+'ulation'](){const _0x16a6d7=this['_body'];if(_0x16a6d7&&this['_simulatio'+'nEnabled']){const _0x511ecd=this['system'];let _0x1c21a8=_0x511ecd['_compounds']['indexOf'](this['entity']['collision']);_0x1c21a8>-(-0x4*0x650+-0x139*0x2+0x1bb3)&&_0x511ecd['_compounds']['splice'](_0x1c21a8,0x1*0x286+0xbaf+0x71a*-0x2),_0x1c21a8=_0x511ecd['_dynamic']['indexOf'](this),_0x1c21a8>-(0x7f*-0x1+0x1a76+-0x2*0xcfb)&&_0x511ecd['_dynamic']['splice'](_0x1c21a8,-0x693+-0x141b*-0x1+-0x1*0xd87),_0x1c21a8=_0x511ecd['_kinematic']['indexOf'](this),_0x1c21a8>-(-0x1e57*0x1+-0x1*-0xc35+0x1*0x1223)&&_0x511ecd['_kinematic']['splice'](_0x1c21a8,0x2*-0xe53+-0x241*0x2+0x1*0x2129),_0x511ecd['removeBody'](_0x16a6d7),_0x16a6d7['forceActiv'+'ationState'](tx),this['_simulatio'+'nEnabled']=!(-0x1669+-0x525*0x2+0x20b4);}}['applyForce'](_0x9f11c5,_0x3494ed,_0x2fbec8,_0x4cabd7,_0x50ce14,_0x38da02){const _0x3633e2=this['_body'];_0x3633e2&&(_0x3633e2['activate'](),_0x9f11c5 instanceof T?xe['setValue'](_0x9f11c5['x'],_0x9f11c5['y'],_0x9f11c5['z']):xe['setValue'](_0x9f11c5,_0x3494ed,_0x2fbec8),_0x3494ed instanceof T?gs['setValue'](_0x3494ed['x'],_0x3494ed['y'],_0x3494ed['z']):_0x4cabd7!==void(-0x2201+-0x1c35+-0x3e36*-0x1)?gs['setValue'](_0x4cabd7,_0x50ce14,_0x38da02):gs['setValue'](0xc9d+0x66f+0x6a*-0x2e,0x1*0x2521+0x171+-0x2692,-0x7*0x55d+-0x53c*0x2+0x3003),_0x3633e2['applyForce'](xe,gs));}['applyTorqu'+'e'](_0x24ddc0,_0x988b31,_0x475ad5){const _0x2bd874=this['_body'];_0x2bd874&&(_0x2bd874['activate'](),_0x24ddc0 instanceof T?xe['setValue'](_0x24ddc0['x'],_0x24ddc0['y'],_0x24ddc0['z']):xe['setValue'](_0x24ddc0,_0x988b31,_0x475ad5),_0x2bd874['applyTorqu'+'e'](xe));}['applyImpul'+'se'](_0x4448aa,_0x48ee68,_0x255436,_0xcb1596,_0x293485,_0x52927a){const _0x2d1d53=this['_body'];_0x2d1d53&&(_0x2d1d53['activate'](),_0x4448aa instanceof T?xe['setValue'](_0x4448aa['x'],_0x4448aa['y'],_0x4448aa['z']):xe['setValue'](_0x4448aa,_0x48ee68,_0x255436),_0x48ee68 instanceof T?gs['setValue'](_0x48ee68['x'],_0x48ee68['y'],_0x48ee68['z']):_0xcb1596!==void(0x1*-0x1159+-0x1*-0xc+-0x67*-0x2b)?gs['setValue'](_0xcb1596,_0x293485,_0x52927a):gs['setValue'](-0x3c0+-0x1*-0x1658+0x5*-0x3b8,-0x1f57+-0x84d+0x27a4,0x2514+0xdc*-0x16+-0x2*0x916),_0x2d1d53['applyImpul'+'se'](xe,gs));}['applyTorqu'+'eImpulse'](_0x32909b,_0xb584ad,_0x48c9d7){const _0x8bf19f=this['_body'];_0x8bf19f&&(_0x8bf19f['activate'](),_0x32909b instanceof T?xe['setValue'](_0x32909b['x'],_0x32909b['y'],_0x32909b['z']):xe['setValue'](_0x32909b,_0xb584ad,_0x48c9d7),_0x8bf19f['applyTorqu'+'eImpulse'](xe));}['isStatic'](){return this['_type']===so;}['isStaticOr'+'Kinematic'](){return this['_type']===so||this['_type']===Bn;}['isKinemati'+'c'](){return this['_type']===Bn;}['_getEntity'+'Transform'](_0x47ea4d){const _0x298263=this['entity'],_0x5ccc58=_0x298263['collision'];if(_0x5ccc58){const _0x1b9be1=_0x5ccc58['getShapePo'+'sition'](),_0x478776=_0x5ccc58['getShapeRo'+'tation']();xe['setValue'](_0x1b9be1['x'],_0x1b9be1['y'],_0x1b9be1['z']),Wn['setValue'](_0x478776['x'],_0x478776['y'],_0x478776['z'],_0x478776['w']);}else{const _0x174591=_0x298263['getPositio'+'n'](),_0x43dc96=_0x298263['getRotatio'+'n']();xe['setValue'](_0x174591['x'],_0x174591['y'],_0x174591['z']),Wn['setValue'](_0x43dc96['x'],_0x43dc96['y'],_0x43dc96['z'],_0x43dc96['w']);}_0x47ea4d['setOrigin'](xe),_0x47ea4d['setRotatio'+'n'](Wn);}['syncEntity'+'ToBody'](){const _0x5274c9=this['_body'];if(_0x5274c9){if(this['_getEntity'+'Transform'](Vt),_0x5274c9['setWorldTr'+'ansform'](Vt),this['_type']===Bn){const _0x501ba3=_0x5274c9['getMotionS'+'tate']();_0x501ba3&&_0x501ba3['setWorldTr'+'ansform'](Vt);}_0x5274c9['activate']();}}['_updateDyn'+'amic'](){const _0x8f980a=this['_body'];if(_0x8f980a['isActive']()){const _0x16490b=_0x8f980a['getMotionS'+'tate']();if(_0x16490b){const _0x532671=this['entity'];_0x16490b['getWorldTr'+'ansform'](Vt);const _0x2f0a97=Vt['getOrigin'](),_0x318616=Vt['getRotatio'+'n'](),_0x27b5bb=_0x532671['collision'];if(_0x27b5bb&&_0x27b5bb['_hasOffset']){const _0x5f3f5b=_0x27b5bb['data']['linearOffs'+'et'],_0x1e01e3=_0x27b5bb['data']['angularOff'+'set'],_0x557773=mI['copy'](_0x1e01e3)['invert'](),_0x33d4da=pI['set'](_0x318616['x'](),_0x318616['y'](),_0x318616['z'](),_0x318616['w']())['mul'](_0x557773);_0x33d4da['transformV'+'ector'](_0x5f3f5b,Ql),_0x532671['setPositio'+'n'](_0x2f0a97['x']()-Ql['x'],_0x2f0a97['y']()-Ql['y'],_0x2f0a97['z']()-Ql['z']),_0x532671['setRotatio'+'n'](_0x33d4da);}else _0x532671['setPositio'+'n'](_0x2f0a97['x'](),_0x2f0a97['y'](),_0x2f0a97['z']()),_0x532671['setRotatio'+'n'](_0x318616['x'](),_0x318616['y'](),_0x318616['z'](),_0x318616['w']());}}}['_updateKin'+'ematic'](){const _0x2e5e70=this['_body']['getMotionS'+'tate']();_0x2e5e70&&(this['_getEntity'+'Transform'](Vt),_0x2e5e70['setWorldTr'+'ansform'](Vt));}['teleport'](_0x1f5080,_0xb880d,_0x4beda8,_0x38694b,_0xa1713a,_0x1a5ff3){_0x1f5080 instanceof T?this['entity']['setPositio'+'n'](_0x1f5080):this['entity']['setPositio'+'n'](_0x1f5080,_0xb880d,_0x4beda8),_0xb880d instanceof se?this['entity']['setRotatio'+'n'](_0xb880d):_0xb880d instanceof T?this['entity']['setEulerAn'+'gles'](_0xb880d):_0x38694b!==void(-0x803+-0x4d3+0xcd6)&&this['entity']['setEulerAn'+'gles'](_0x38694b,_0xa1713a,_0x1a5ff3),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}c(Ws,'EVENT_CONT'+'ACT','contact'),c(Ws,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Ws,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Ws,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Ws,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),c(Ws,'order',-(-0x1c*-0x14d+0x2511+0x24be*-0x2));class _I{constructor(){this['enabled']=!(-0x19da+0x6*-0x49d+0x6*0x8ec);}}let ai,oi;class xg{constructor(_0x12cb8c,_0x124e03,_0xbdbb4c,_0x5c79d0){c(this,'entity'),c(this,'point'),c(this,'normal'),c(this,'hitFractio'+'n'),(this['entity']=_0x12cb8c,this['point']=_0x124e03,this['normal']=_0xbdbb4c,this['hitFractio'+'n']=_0x5c79d0);}}class gI{constructor(_0x220cb3,_0x35e446,_0x13f60d){c(this,'a'),c(this,'b'),c(this,'impulse'),c(this,'localPoint'+'A'),c(this,'localPoint'+'B'),c(this,'pointA'),c(this,'pointB'),c(this,'normal'),arguments['length']!==0x2304+-0x11*0x17c+-0x9c8?(this['a']=_0x220cb3,this['b']=_0x35e446,this['impulse']=_0x13f60d['impulse'],this['localPoint'+'A']=_0x13f60d['localPoint'],this['localPoint'+'B']=_0x13f60d['localPoint'+'Other'],this['pointA']=_0x13f60d['point'],this['pointB']=_0x13f60d['pointOther'],this['normal']=_0x13f60d['normal']):(this['a']=null,this['b']=null,this['impulse']=-0x2554+0xb5*-0x1+0x2609,this['localPoint'+'A']=new T(),this['localPoint'+'B']=new T(),this['pointA']=new T(),this['pointB']=new T(),this['normal']=new T());}}class yI{constructor(_0x35e403=new T(),_0x5ef6f6=new T(),_0x3ad847=new T(),_0x1493ca=new T(),_0x255b49=new T(),_0x54b696=0x9*-0x1c1+-0x22bd*0x1+0x3286){c(this,'localPoint'),c(this,'localPoint'+'Other'),c(this,'point'),c(this,'pointOther'),c(this,'normal'),c(this,'impulse'),(this['localPoint']=_0x35e403,this['localPoint'+'Other']=_0x5ef6f6,this['point']=_0x3ad847,this['pointOther']=_0x1493ca,this['normal']=_0x255b49,this['impulse']=_0x54b696);}}class xI{constructor(_0x1364d8,_0x4fc2aa){c(this,'other'),c(this,'contacts'),(this['other']=_0x1364d8,this['contacts']=_0x4fc2aa);}}const px=['enabled'];class mx extends Xe{constructor(_0x35c3fc){super(_0x35c3fc),c(this,'maxSubStep'+'s',0x1ad7+0x1522+-0x2fef),c(this,'fixedTimeS'+'tep',(-0x34*0xb6+-0x2356+-0xad*-0x6b)/(-0x210d+0x1274+-0xed5*-0x1)),c(this,'gravity',new T(-0x26fc+0x185*-0x2+0x2a06,-(0x336*-0x9+-0x7*-0xd4+0x1723+0.8100000000000005),-0x725*0x2+-0x16ed*0x1+-0x551*-0x7)),c(this,'_gravityFl'+'oat32',new Float32Array(0xd3c+0x2*0x10ff+0x99*-0x4f)),c(this,'_dynamic',[]),c(this,'_kinematic',[]),c(this,'_triggers',[]),c(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x35c3fc['stats']['frame'],this['ComponentT'+'ype']=Ws,this['DataType']=_I,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=px,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x316601=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x316601);}else v['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');ai=new Ammo['btVector3'](),oi=new Ammo['btVector3'](),Ws['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new Zd(yI,0x13*0x10a+0x2466+-0x3823*0x1),this['contactRes'+'ultPool']=new Zd(xI,0x5fb+0x1b69+0x3*-0xb21),this['singleCont'+'actResultP'+'ool']=new Zd(gI,-0x459*0x3+-0x1d6*-0x11+0x60e*-0x3),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x4bec2c,_0x32a1fd,_0x489c58){const _0x15fc51=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x420a51 of _0x15fc51)if(_0x32a1fd['hasOwnProp'+'erty'](_0x420a51)){const _0x45fe5a=_0x32a1fd[_0x420a51];Array['isArray'](_0x45fe5a)?_0x4bec2c[_0x420a51]=new T(_0x45fe5a[-0xd9c+0xaff+-0x29d*-0x1],_0x45fe5a[-0xade+0xfdd*-0x1+0x1abc],_0x45fe5a[-0x4*0x773+-0x1*0xaca+0x513*0x8]):_0x4bec2c[_0x420a51]=_0x45fe5a;}super['initialize'+'ComponentD'+'ata'](_0x4bec2c,_0x32a1fd,['enabled']);}['cloneCompo'+'nent'](_0x57fdbb,_0x58311d){const _0x4ee57b=_0x57fdbb['rigidbody'],_0x2fd895={'enabled':_0x4ee57b['enabled'],'mass':_0x4ee57b['mass'],'linearDamping':_0x4ee57b['linearDamp'+'ing'],'angularDamping':_0x4ee57b['angularDam'+'ping'],'linearFactor':[_0x4ee57b['linearFact'+'or']['x'],_0x4ee57b['linearFact'+'or']['y'],_0x4ee57b['linearFact'+'or']['z']],'angularFactor':[_0x4ee57b['angularFac'+'tor']['x'],_0x4ee57b['angularFac'+'tor']['y'],_0x4ee57b['angularFac'+'tor']['z']],'friction':_0x4ee57b['friction'],'rollingFriction':_0x4ee57b['rollingFri'+'ction'],'restitution':_0x4ee57b['restitutio'+'n'],'type':_0x4ee57b['type'],'group':_0x4ee57b['group'],'mask':_0x4ee57b['mask']};return this['addCompone'+'nt'](_0x58311d,_0x2fd895);}['onBeforeRe'+'move'](_0x4c6889,_0x47b1b0){_0x47b1b0['enabled']&&(_0x47b1b0['enabled']=!(-0x100a*0x1+-0x8f5+0x1900)),_0x47b1b0['body']&&(this['destroyBod'+'y'](_0x47b1b0['body']),_0x47b1b0['body']=null);}['addBody'](_0x486650,_0x11cf2a,_0x4cdad1){_0x11cf2a!==void(0xb*-0x2a9+0x1*-0x1fa9+-0x1c*-0x22d)&&_0x4cdad1!==void(0x22bc+0xc56+-0x2f12)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x486650,_0x11cf2a,_0x4cdad1):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x486650);}['removeBody'](_0x198d37){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x198d37);}['createBody'](_0x148456,_0x4b49e3,_0x35fea6){const _0x21bfd1=new Ammo['btVector3'](0xb1b+0x9d9+-0x14f4,0x9f*-0x35+-0x1632*-0x1+0x225*0x5,0x2*-0xfa6+-0xe*-0x16d+0xb56);_0x148456!==-0x17d9+-0x8cd+0x20a6&&_0x4b49e3['calculateL'+'ocalInerti'+'a'](_0x148456,_0x21bfd1);const _0x2e1007=new Ammo['btDefaultM'+'otionState'](_0x35fea6),_0x302e21=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x148456,_0x2e1007,_0x4b49e3,_0x21bfd1),_0x44de3d=new Ammo['btRigidBod'+'y'](_0x302e21);return Ammo['destroy'](_0x302e21),Ammo['destroy'](_0x21bfd1),_0x44de3d;}['destroyBod'+'y'](_0x30a961){const _0x495abe=_0x30a961['getMotionS'+'tate']();_0x495abe&&Ammo['destroy'](_0x495abe),Ammo['destroy'](_0x30a961);}['raycastFir'+'st'](_0x3af9b8,_0x137547,_0x35cf69={}){if(_0x35cf69['filterTags']||_0x35cf69['filterCall'+'back'])return _0x35cf69['sort']=!(-0x4c2+0xb2f+-0x7*0xeb),this['raycastAll'](_0x3af9b8,_0x137547,_0x35cf69)[0x1f9*-0xa+0x629+-0x1*-0xd91]||null;let _0xcab388=null;ai['setValue'](_0x3af9b8['x'],_0x3af9b8['y'],_0x3af9b8['z']),oi['setValue'](_0x137547['x'],_0x137547['y'],_0x137547['z']);const _0x35876b=new Ammo['ClosestRay'+'ResultCall'+'back'](ai,oi);if(typeof _0x35cf69['filterColl'+'isionGroup']=='number'&&_0x35876b['set_m_coll'+'isionFilte'+'rGroup'](_0x35cf69['filterColl'+'isionGroup']),typeof _0x35cf69['filterColl'+'isionMask']=='number'&&_0x35876b['set_m_coll'+'isionFilte'+'rMask'](_0x35cf69['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x35876b),_0x35876b['hasHit']()){const _0x493907=_0x35876b['get_m_coll'+'isionObjec'+'t'](),_0x23dbf3=Ammo['castObject'](_0x493907,Ammo['btRigidBod'+'y']);if(_0x23dbf3){const _0x377600=_0x35876b['get_m_hitP'+'ointWorld'](),_0x32f345=_0x35876b['get_m_hitN'+'ormalWorld']();_0xcab388=new xg(_0x23dbf3['entity'],new T(_0x377600['x'](),_0x377600['y'](),_0x377600['z']()),new T(_0x32f345['x'](),_0x32f345['y'](),_0x32f345['z']()),_0x35876b['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x35876b),_0xcab388;}['raycastAll'](_0x248a78,_0x48a93,_0x5c8fa3={}){v['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x329433=[];ai['setValue'](_0x248a78['x'],_0x248a78['y'],_0x248a78['z']),oi['setValue'](_0x48a93['x'],_0x48a93['y'],_0x48a93['z']);const _0x37da58=new Ammo['AllHitsRay'+'ResultCall'+'back'](ai,oi);if(typeof _0x5c8fa3['filterColl'+'isionGroup']=='number'&&_0x37da58['set_m_coll'+'isionFilte'+'rGroup'](_0x5c8fa3['filterColl'+'isionGroup']),typeof _0x5c8fa3['filterColl'+'isionMask']=='number'&&_0x37da58['set_m_coll'+'isionFilte'+'rMask'](_0x5c8fa3['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x37da58),_0x37da58['hasHit']()){const _0x5c3ab4=_0x37da58['get_m_coll'+'isionObjec'+'ts'](),_0x1657e7=_0x37da58['get_m_hitP'+'ointWorld'](),_0x203d57=_0x37da58['get_m_hitN'+'ormalWorld'](),_0x5178f=_0x37da58['get_m_hitF'+'ractions'](),_0x4c1b32=_0x5c3ab4['size']();for(let _0x20bd6a=-0x16cd+-0x20e8+-0xd*-0x449;_0x20bd6a<_0x4c1b32;_0x20bd6a++){const _0x397e66=Ammo['castObject'](_0x5c3ab4['at'](_0x20bd6a),Ammo['btRigidBod'+'y']);if(_0x397e66&&_0x397e66['entity']){if(_0x5c8fa3['filterTags']&&!_0x397e66['entity']['tags']['has'](..._0x5c8fa3['filterTags'])||_0x5c8fa3['filterCall'+'back']&&!_0x5c8fa3['filterCall'+'back'](_0x397e66['entity']))continue;const _0x37f32e=_0x1657e7['at'](_0x20bd6a),_0x5ecff4=_0x203d57['at'](_0x20bd6a),_0x5a432e=new xg(_0x397e66['entity'],new T(_0x37f32e['x'](),_0x37f32e['y'](),_0x37f32e['z']()),new T(_0x5ecff4['x'](),_0x5ecff4['y'](),_0x5ecff4['z']()),_0x5178f['at'](_0x20bd6a));_0x329433['push'](_0x5a432e);}}_0x5c8fa3['sort']&&_0x329433['sort']((_0x1d9d7a,_0xfa662d)=>_0x1d9d7a['hitFractio'+'n']-_0xfa662d['hitFractio'+'n']);}return Ammo['destroy'](_0x37da58),_0x329433;}['_storeColl'+'ision'](_0x27b583,_0x4485f7){let _0xa3e7b0=!(0x355+0x15d6+-0x192a);const _0x5ae325=_0x27b583['getGuid']();return this['collisions'][_0x5ae325]=this['collisions'][_0x5ae325]||{'others':[],'entity':_0x27b583},this['collisions'][_0x5ae325]['others']['indexOf'](_0x4485f7)<0x35*0xa7+0x1e04+-0x1*0x4097&&(this['collisions'][_0x5ae325]['others']['push'](_0x4485f7),_0xa3e7b0=!(-0x161f*-0x1+0x1928+0x13*-0x27d)),this['frameColli'+'sions'][_0x5ae325]=this['frameColli'+'sions'][_0x5ae325]||{'others':[],'entity':_0x27b583},this['frameColli'+'sions'][_0x5ae325]['others']['push'](_0x4485f7),_0xa3e7b0;}['_createCon'+'tactPointF'+'romAmmo'](_0x2dd03d){const _0xae7738=_0x2dd03d['get_m_loca'+'lPointA'](),_0x5408ca=_0x2dd03d['get_m_loca'+'lPointB'](),_0x6adabb=_0x2dd03d['getPositio'+'nWorldOnA'](),_0x11ef62=_0x2dd03d['getPositio'+'nWorldOnB'](),_0x1e457f=_0x2dd03d['get_m_norm'+'alWorldOnB'](),_0x323c7a=this['contactPoi'+'ntPool']['allocate']();return _0x323c7a['localPoint']['set'](_0xae7738['x'](),_0xae7738['y'](),_0xae7738['z']()),_0x323c7a['localPoint'+'Other']['set'](_0x5408ca['x'](),_0x5408ca['y'](),_0x5408ca['z']()),_0x323c7a['point']['set'](_0x6adabb['x'](),_0x6adabb['y'](),_0x6adabb['z']()),_0x323c7a['pointOther']['set'](_0x11ef62['x'](),_0x11ef62['y'](),_0x11ef62['z']()),_0x323c7a['normal']['set'](_0x1e457f['x'](),_0x1e457f['y'](),_0x1e457f['z']()),_0x323c7a['impulse']=_0x2dd03d['getApplied'+'Impulse'](),_0x323c7a;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x325df6){const _0x39ef09=_0x325df6['get_m_loca'+'lPointA'](),_0x405da1=_0x325df6['get_m_loca'+'lPointB'](),_0x5a91db=_0x325df6['getPositio'+'nWorldOnA'](),_0x22c91b=_0x325df6['getPositio'+'nWorldOnB'](),_0x16dfde=_0x325df6['get_m_norm'+'alWorldOnB'](),_0x58fa93=this['contactPoi'+'ntPool']['allocate']();return _0x58fa93['localPoint'+'Other']['set'](_0x39ef09['x'](),_0x39ef09['y'](),_0x39ef09['z']()),_0x58fa93['localPoint']['set'](_0x405da1['x'](),_0x405da1['y'](),_0x405da1['z']()),_0x58fa93['pointOther']['set'](_0x5a91db['x'](),_0x5a91db['y'](),_0x5a91db['z']()),_0x58fa93['point']['set'](_0x22c91b['x'](),_0x22c91b['y'](),_0x22c91b['z']()),_0x58fa93['normal']['set'](_0x16dfde['x'](),_0x16dfde['y'](),_0x16dfde['z']()),_0x58fa93['impulse']=_0x325df6['getApplied'+'Impulse'](),_0x58fa93;}['_createSin'+'gleContact'+'Result'](_0x2f03a4,_0x13bd64,_0x4ccb8b){const _0x235db7=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x235db7['a']=_0x2f03a4,_0x235db7['b']=_0x13bd64,_0x235db7['localPoint'+'A']=_0x4ccb8b['localPoint'],_0x235db7['localPoint'+'B']=_0x4ccb8b['localPoint'+'Other'],_0x235db7['pointA']=_0x4ccb8b['point'],_0x235db7['pointB']=_0x4ccb8b['pointOther'],_0x235db7['normal']=_0x4ccb8b['normal'],_0x235db7['impulse']=_0x4ccb8b['impulse'],_0x235db7;}['_createCon'+'tactResult'](_0x5da65f,_0x2f3f9b){const _0x306f3e=this['contactRes'+'ultPool']['allocate']();return _0x306f3e['other']=_0x5da65f,_0x306f3e['contacts']=_0x2f3f9b,_0x306f3e;}['_cleanOldC'+'ollisions'](){for(const _0x477e71 in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x477e71)){const _0x1db505=this['frameColli'+'sions'][_0x477e71],_0x5048bb=this['collisions'][_0x477e71],_0x2f2f39=_0x5048bb['entity'],_0x1d2f04=_0x2f2f39['collision'],_0x4ff929=_0x2f2f39['rigidbody'],_0x306c30=_0x5048bb['others'];let _0x2fe262=_0x306c30['length'];for(;_0x2fe262--;){const _0x1c6184=_0x306c30[_0x2fe262];(!_0x1db505||_0x1db505['others']['indexOf'](_0x1c6184)<0x14a4+0x53*-0x67+0xcc1)&&(_0x306c30['splice'](_0x2fe262,0xa01*0x3+0x1c05+-0x3a07),_0x2f2f39['trigger']?(_0x1d2f04&&_0x1d2f04['fire']('triggerlea'+'ve',_0x1c6184),_0x1c6184['rigidbody']&&_0x1c6184['rigidbody']['fire']('triggerlea'+'ve',_0x2f2f39)):_0x1c6184['trigger']||(_0x4ff929&&_0x4ff929['fire']('collisione'+'nd',_0x1c6184),_0x1d2f04&&_0x1d2f04['fire']('collisione'+'nd',_0x1c6184)));}_0x306c30['length']===0xe*0x187+-0x3*-0x6df+0x29ff*-0x1&&delete this['collisions'][_0x477e71];}}['_hasContac'+'tEvent'](_0x37b5d4){const _0x52a62c=_0x37b5d4['collision'];if(_0x52a62c&&(_0x52a62c['hasEvent']('collisions'+'tart')||_0x52a62c['hasEvent']('collisione'+'nd')||_0x52a62c['hasEvent']('contact')))return!(-0x1587+0x11*-0x1dd+0x3534);const _0x9d386e=_0x37b5d4['rigidbody'];return _0x9d386e&&(_0x9d386e['hasEvent']('collisions'+'tart')||_0x9d386e['hasEvent']('collisione'+'nd')||_0x9d386e['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x44e00f,_0x344528){const _0x1f739b=Ammo['wrapPointe'+'r'](_0x44e00f,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x23676f=_0x1f739b['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x10dba3=0x1c5f+0x2e*-0x8e+-0x2db;_0x10dba3<_0x23676f;_0x10dba3++){const _0x238981=_0x1f739b['getManifol'+'dByIndexIn'+'ternal'](_0x10dba3),_0x2a1f5c=_0x238981['getBody0'](),_0x4e9ac4=_0x238981['getBody1'](),_0x190df9=Ammo['castObject'](_0x2a1f5c,Ammo['btRigidBod'+'y']),_0x303335=Ammo['castObject'](_0x4e9ac4,Ammo['btRigidBod'+'y']),_0x375c86=_0x190df9['entity'],_0x2d66a5=_0x303335['entity'];if(!_0x375c86||!_0x2d66a5)continue;const _0x184c1a=_0x190df9['getCollisi'+'onFlags'](),_0x5089b0=_0x303335['getCollisi'+'onFlags'](),_0x2ced3e=_0x238981['getNumCont'+'acts'](),_0x513ceb=[],_0x5c7681=[];let _0x3dd5d4;if(_0x2ced3e>0x7*-0xcb+0x13f4+-0xe67){if(_0x184c1a&lo||_0x5089b0&lo){const _0xc19ae8=_0x375c86['collision']&&(_0x375c86['collision']['hasEvent']('triggerent'+'er')||_0x375c86['collision']['hasEvent']('triggerlea'+'ve')),_0x2c03b9=_0x2d66a5['collision']&&(_0x2d66a5['collision']['hasEvent']('triggerent'+'er')||_0x2d66a5['collision']['hasEvent']('triggerlea'+'ve')),_0x365f28=_0x375c86['rigidbody']&&(_0x375c86['rigidbody']['hasEvent']('triggerent'+'er')||_0x375c86['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x2a932e=_0x2d66a5['rigidbody']&&(_0x2d66a5['rigidbody']['hasEvent']('triggerent'+'er')||_0x2d66a5['rigidbody']['hasEvent']('triggerlea'+'ve'));_0xc19ae8&&(_0x3dd5d4=this['_storeColl'+'ision'](_0x375c86,_0x2d66a5),_0x3dd5d4&&!(_0x5089b0&lo)&&_0x375c86['collision']['fire']('triggerent'+'er',_0x2d66a5)),_0x2c03b9&&(_0x3dd5d4=this['_storeColl'+'ision'](_0x2d66a5,_0x375c86),_0x3dd5d4&&!(_0x184c1a&lo)&&_0x2d66a5['collision']['fire']('triggerent'+'er',_0x375c86)),_0x365f28&&(_0x3dd5d4||(_0x3dd5d4=this['_storeColl'+'ision'](_0x2d66a5,_0x375c86)),_0x3dd5d4&&_0x375c86['rigidbody']['fire']('triggerent'+'er',_0x2d66a5)),_0x2a932e&&(_0x3dd5d4||(_0x3dd5d4=this['_storeColl'+'ision'](_0x375c86,_0x2d66a5)),_0x3dd5d4&&_0x2d66a5['rigidbody']['fire']('triggerent'+'er',_0x375c86));}else{const _0x265911=this['_hasContac'+'tEvent'](_0x375c86),_0x1a03bd=this['_hasContac'+'tEvent'](_0x2d66a5),_0x1c4f61=this['hasEvent']('contact');if(_0x1c4f61||_0x265911||_0x1a03bd){for(let _0x323df0=-0x7*-0x2+0x26c2+-0x114*0x24;_0x323df0<_0x2ced3e;_0x323df0++){const _0x5c2431=_0x238981['getContact'+'Point'](_0x323df0),_0x488ccd=this['_createCon'+'tactPointF'+'romAmmo'](_0x5c2431);if(_0x265911||_0x1a03bd){_0x513ceb['push'](_0x488ccd);const _0x461c1f=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x5c2431);_0x5c7681['push'](_0x461c1f);}if(_0x1c4f61){const _0x59f26b=this['_createSin'+'gleContact'+'Result'](_0x375c86,_0x2d66a5,_0x488ccd);this['fire']('contact',_0x59f26b);}}if(_0x265911){const _0x42ecb4=this['_createCon'+'tactResult'](_0x2d66a5,_0x513ceb);_0x3dd5d4=this['_storeColl'+'ision'](_0x375c86,_0x2d66a5),_0x375c86['collision']&&(_0x375c86['collision']['fire']('contact',_0x42ecb4),_0x3dd5d4&&_0x375c86['collision']['fire']('collisions'+'tart',_0x42ecb4)),_0x375c86['rigidbody']&&(_0x375c86['rigidbody']['fire']('contact',_0x42ecb4),_0x3dd5d4&&_0x375c86['rigidbody']['fire']('collisions'+'tart',_0x42ecb4));}if(_0x1a03bd){const _0x4e3b0f=this['_createCon'+'tactResult'](_0x375c86,_0x5c7681);_0x3dd5d4=this['_storeColl'+'ision'](_0x2d66a5,_0x375c86),_0x2d66a5['collision']&&(_0x2d66a5['collision']['fire']('contact',_0x4e3b0f),_0x3dd5d4&&_0x2d66a5['collision']['fire']('collisions'+'tart',_0x4e3b0f)),_0x2d66a5['rigidbody']&&(_0x2d66a5['rigidbody']['fire']('contact',_0x4e3b0f),_0x3dd5d4&&_0x2d66a5['rigidbody']['fire']('collisions'+'tart',_0x4e3b0f));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x5dafc6){let _0x210dbf,_0x3fa70a;this['_stats']['physicsSta'+'rt']=ne(),this['_gravityFl'+'oat32'][-0x757*0x1+0x56d+0x5*0x62]=this['gravity']['x'],this['_gravityFl'+'oat32'][0x2460*0x1+0xdd1+-0x4*0xc8c]=this['gravity']['y'],this['_gravityFl'+'oat32'][-0x15f*0x16+0x16f9+0x733]=this['gravity']['z'];const _0x371e65=this['dynamicsWo'+'rld']['getGravity']();(_0x371e65['x']()!==this['_gravityFl'+'oat32'][-0x1*-0x2326+0x58*0x6c+0x2*-0x2423]||_0x371e65['y']()!==this['_gravityFl'+'oat32'][0x7e0+0x1398+-0x1b77]||_0x371e65['z']()!==this['_gravityFl'+'oat32'][0x20df+-0x22c8+0x1eb])&&(_0x371e65['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x371e65));const _0x1e0f17=this['_triggers'];for(_0x210dbf=0x23a1*0x1+-0x5*-0x6a5+-0x2*0x226d,_0x3fa70a=_0x1e0f17['length'];_0x210dbf<_0x3fa70a;_0x210dbf++)_0x1e0f17[_0x210dbf]['updateTran'+'sform']();const _0x2cadd7=this['_compounds'];for(_0x210dbf=-0xf94+0x24b*0x11+-0x1767,_0x3fa70a=_0x2cadd7['length'];_0x210dbf<_0x3fa70a;_0x210dbf++)_0x2cadd7[_0x210dbf]['_updateCom'+'pound']();const _0x51120d=this['_kinematic'];for(_0x210dbf=0x25c9+-0xef8+-0x213*0xb,_0x3fa70a=_0x51120d['length'];_0x210dbf<_0x3fa70a;_0x210dbf++)_0x51120d[_0x210dbf]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x5dafc6,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x1eca4f=this['_dynamic'];for(_0x210dbf=-0x6fa*0x3+-0x4cc*-0x5+-0x1*0x30e,_0x3fa70a=_0x1eca4f['length'];_0x210dbf<_0x3fa70a;_0x210dbf++)_0x1eca4f[_0x210dbf]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x5dafc6),this['_stats']['physicsTim'+'e']=ne()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](ai),Ammo['destroy'](oi),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,ai=null,oi=null,Ws['onAppDestr'+'oy']());}}c(mx,'EVENT_CONT'+'ACT','contact'),ue['_buildAcce'+'ssors'](Ws['prototype'],px);const $n='none',SI='blend',Sg=new q();class _x extends ue{constructor(_0x337b4e,_0x1323d1){super(_0x337b4e,_0x1323d1),this['_resolutio'+'n']=new W(-0x1d1f+-0xc14*-0x1+0x138b,0x2*0x671+0x715+0x3*-0x63d),this['_reference'+'Resolution']=new W(0x1b5a+0xcfa+0xc*-0x327,0x3e0+0x1f16+-0x5*0x6be),this['_scaleMode']=$n,this['scale']=0x3e*0x86+-0x1d14*0x1+-0x35f,this['_scaleBlen'+'d']=0xc4b+-0x5*0x1e2+-0x2e1+0.5,this['_priority']=0xcfb+-0x12*-0x18+-0xeab,this['_screenSpa'+'ce']=!(-0xe31+0x721+0x1*0x711),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new q(),this['_elements']=new Set(),_0x337b4e['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x3b6511,_0x5898c7){var _0xdce20f;if(!(_0x3b6511 instanceof We))return _0x5898c7;if(_0x3b6511['element']){const _0x26ed45=_0x3b6511['element']['drawOrder'];_0x3b6511['element']['drawOrder']=_0x5898c7++,_0x3b6511['element']['_batchGrou'+'pId']>=-0x19a6+-0xc*-0x47+0x1652&&_0x26ed45!==_0x3b6511['element']['drawOrder']&&((_0xdce20f=this['system']['app']['batcher'])==null||_0xdce20f['markGroupD'+'irty'](_0x3b6511['element']['_batchGrou'+'pId']));}_0x3b6511['particlesy'+'stem']&&(_0x3b6511['particlesy'+'stem']['drawOrder']=_0x5898c7++);const _0x64da29=_0x3b6511['children'];for(let _0x183bfc=-0x1*0x2608+0x222c+0x3dc;_0x183bfc<_0x64da29['length'];_0x183bfc++)_0x5898c7=this['_recurseDr'+'awOrderSyn'+'c'](_0x64da29[_0x183bfc],_0x5898c7);return _0x5898c7;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],-0x10db+-0x2ef*0xb+0x1*0x3121),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0xb5133c=this['_resolutio'+'n']['x']/this['scale'],_0x16ba09=this['_resolutio'+'n']['y']/this['scale'],_0x5d2a3f=-0x11e3+0x6d*-0x3+0x995*0x2,_0x5c815c=_0xb5133c,_0x4b2d8f=-_0x16ba09;this['_screenMat'+'rix']['setOrtho'](_0x5d2a3f,_0x5c815c,_0x4b2d8f,0x276+-0x62e*-0x4+-0x1b2e,0x41f+0xec+-0x50a,-(0x30f*-0x8+-0x267*0xf+0x60d*0xa)),this['_screenSpa'+'ce']||(Sg['setScale']((0x1520+-0x11ba+-0x1b3*0x2+0.5)*_0xb5133c,(0x11bf+0x2f4*-0xb+0xebd+0.5)*_0x16ba09,0x10be+0x4*0x2ec+0x1*-0x1c6d),this['_screenMat'+'rix']['mul2'](Sg,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x58c4c2,_0x5724b8){const _0x1c373f=Math['log2']((_0x58c4c2['x']||0xc*0x310+0x1f3*-0x3+-0x1ee6)/_0x5724b8['x']),_0x23c813=Math['log2']((_0x58c4c2['y']||-0x25c6+0x2035+0x2*0x2c9)/_0x5724b8['y']);return Math['pow'](-0x16a2+-0x1571*-0x1+0x133*0x1,_0x1c373f*(-0xd05+0x1cbd+-0xfb7-this['_scaleBlen'+'d'])+_0x23c813*this['_scaleBlen'+'d']);}['_onResize'](_0x2d7417,_0x5c457f){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x2d7417,_0x5c457f),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x2d2957){this['_elements']['add'](_0x2d2957);}['_unbindEle'+'ment'](_0x21d065){this['_elements']['delete'](_0x21d065);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x51e3cc=>_0x51e3cc['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x205653){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x205653['x'],_0x205653['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x431d34=>_0x431d34['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x4da28c){this['_reference'+'Resolution']['set'](_0x4da28c['x'],_0x4da28c['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x45a135=>_0x45a135['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===$n?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x285d54){this['_screenSpa'+'ce']=_0x285d54,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x5f509c=>_0x5f509c['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x1d7540){_0x1d7540!==$n&&_0x1d7540!==SI&&(_0x1d7540=$n),!this['_screenSpa'+'ce']&&_0x1d7540!==$n&&(_0x1d7540=$n),this['_scaleMode']=_0x1d7540,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0xe9b7c6){this['_scaleBlen'+'d']=_0xe9b7c6,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x223089=>_0x223089['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x746c17){_0x746c17>-0xe9f*0x1+0x702*0x1+0x74*0x13&&(v['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x746c17+'\x20to\x20255'),_0x746c17=-0x50*-0x2+0x5ff*-0x5+0x1e5a),this['_priority']!==_0x746c17&&(this['_priority']=_0x746c17,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class vI{constructor(){this['enabled']=!(0x9ab+-0xd02+0x5*0xab);}}const mf=['enabled'];class bI extends Xe{constructor(_0x583f3b){super(_0x583f3b),this['id']='screen',this['ComponentT'+'ype']=_x,this['DataType']=vI,this['schema']=mf,this['windowReso'+'lution']=new W(),this['_drawOrder'+'SyncQueue']=new _S(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x2a2421,_0x5a0a5d,_0x37bdaf){_0x5a0a5d['priority']!==void(0x21b+0xb29*-0x1+0x90e)&&(_0x2a2421['priority']=_0x5a0a5d['priority']),_0x5a0a5d['screenSpac'+'e']!==void(0x6*0x3b4+0x1698+-0x2cd0)&&(_0x2a2421['screenSpac'+'e']=_0x5a0a5d['screenSpac'+'e']),_0x2a2421['cull']=_0x2a2421['screenSpac'+'e'],_0x5a0a5d['scaleMode']!==void(-0x887+-0x19bb+0x2242)&&(_0x2a2421['scaleMode']=_0x5a0a5d['scaleMode']),_0x5a0a5d['scaleBlend']!==void(0x1265*0x2+-0x2*-0x383+-0x2bd0)&&(_0x2a2421['scaleBlend']=_0x5a0a5d['scaleBlend']),_0x5a0a5d['resolution']!==void(0x7a7*0x2+0x20*-0x122+-0x1*-0x14f2)&&(_0x5a0a5d['resolution']instanceof W?_0x2a2421['_resolutio'+'n']['copy'](_0x5a0a5d['resolution']):_0x2a2421['_resolutio'+'n']['set'](_0x5a0a5d['resolution'][-0x93*-0x3b+0x1*-0x258e+0x3ad],_0x5a0a5d['resolution'][-0x1345+-0x1cc6+-0xc*-0x401]),_0x2a2421['resolution']=_0x2a2421['_resolutio'+'n']),_0x5a0a5d['referenceR'+'esolution']!==void(0x458+0x1*-0x1f0c+0x1ab4)&&(_0x5a0a5d['referenceR'+'esolution']instanceof W?_0x2a2421['_reference'+'Resolution']['copy'](_0x5a0a5d['referenceR'+'esolution']):_0x2a2421['_reference'+'Resolution']['set'](_0x5a0a5d['referenceR'+'esolution'][0x2108*0x1+-0x1ec9+-0x23f],_0x5a0a5d['referenceR'+'esolution'][0x64b+-0x2*-0x449+-0xedc]),_0x2a2421['referenceR'+'esolution']=_0x2a2421['_reference'+'Resolution']),_0x2a2421['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x2a2421,_0x5a0a5d,mf);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x1c0ecc){const _0x20fa2b=this['store'];for(const _0x32d757 in _0x20fa2b)_0x20fa2b[_0x32d757]['entity']['screen']['update']&&_0x20fa2b[_0x32d757]['entity']['screen']['update'](_0x1c0ecc);}['_onResize'](_0x421f62,_0x1d69e4){this['windowReso'+'lution']['x']=_0x421f62,this['windowReso'+'lution']['y']=_0x1d69e4;}['cloneCompo'+'nent'](_0x2f2912,_0x382e78){const _0x8288e2=_0x2f2912['screen'];return this['addCompone'+'nt'](_0x382e78,{'enabled':_0x8288e2['enabled'],'screenSpace':_0x8288e2['screenSpac'+'e'],'scaleMode':_0x8288e2['scaleMode'],'resolution':_0x8288e2['resolution']['clone'](),'referenceResolution':_0x8288e2['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x4b46e7,_0x359829){_0x359829['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x466105=this['_drawOrder'+'SyncQueue']['list']();for(let _0x39d520=-0x1e*-0xdd+0x1287+-0x2c6d;_0x39d520<_0x466105['length'];_0x39d520++){const _0x8a80e3=_0x466105[_0x39d520];_0x8a80e3['callback']['call'](_0x8a80e3['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x1935df,_0x5995b4,_0x53d0b0){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x1935df)||this['_drawOrder'+'SyncQueue']['push'](_0x1935df,{'callback':_0x5995b4,'scope':_0x53d0b0});}}ue['_buildAcce'+'ssors'](_x['prototype'],mf);const qi=new W(),vg=new T(),Pr=new uu(),bg=new hy(),wg=new T(),io=new T(),wI=new se(),TI={'x':'y','y':'x'};class wo extends ce{constructor(_0x3e98ae,_0x1f2575){if(super(),!_0x3e98ae||!(_0x3e98ae instanceof Gt))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x1f2575&&_0x1f2575!=='x'&&_0x1f2575!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x1f2575);this['_element']=_0x3e98ae,this['_app']=_0x3e98ae['system']['app'],this['_axis']=_0x1f2575||null,this['_enabled']=!(-0x2081+-0x2*-0xe2+0x1*0x1ebd),this['_dragScale']=new T(),this['_dragStart'+'MousePosit'+'ion']=new T(),this['_dragStart'+'HandlePosi'+'tion']=new T(),this['_deltaMous'+'ePosition']=new T(),this['_deltaHand'+'lePosition']=new T(),this['_isDraggin'+'g']=!(-0x1d4f+0xbc9+0x1187),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x4ae31e){this['_element'][_0x4ae31e]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x4ae31e]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x4ae31e]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x1a4277){const _0x17245a=_0x1a4277==='on';this['_hasDragLi'+'steners']&&_0x17245a||(this['_app']['mouse']&&(this['_element'][_0x1a4277]('mousemove',this['_onMove'],this),this['_element'][_0x1a4277]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),ye['touch']&&(this['_element'][_0x1a4277]('touchmove',this['_onMove'],this),this['_element'][_0x1a4277]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x1a4277]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x1a4277]('selectmove',this['_onMove'],this),this['_element'][_0x1a4277]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x17245a);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x168a2f){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x168a2f['camera'],this['_calculate'+'DragScale']();const _0x5bf3e1=this['_screenToL'+'ocal'](_0x168a2f);_0x5bf3e1&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(-0xcd*-0x15+0x1168*-0x1+0x97),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x5bf3e1),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(-0x17c1+0x1954+0xc9*-0x2),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x3f7e60){return _0x3f7e60['inputSourc'+'e']?Pr['set'](_0x3f7e60['inputSourc'+'e']['getOrigin'](),_0x3f7e60['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x3f7e60),this['_chooseRay'+'OriginAndD'+'irection']()),wg['copy'](this['_element']['entity']['forward'])['mulScalar'](-(-0xe5*0x5+0x52c*-0x1+0x9a6)),bg['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),wg),bg['intersects'+'Ray'](Pr,io)?(wI['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](io,io),io['mul'](this['_dragScale']),io):null;}['_determine'+'InputPosit'+'ion'](_0xe775ab){const _0x4ff206=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0xe775ab['x']<'u'&&typeof _0xe775ab['y']<'u'?(qi['x']=_0xe775ab['x']*_0x4ff206,qi['y']=_0xe775ab['y']*_0x4ff206):_0xe775ab['changedTou'+'ches']?(qi['x']=_0xe775ab['changedTou'+'ches'][-0x7aa+-0x17f9+-0x5b*-0x59]['x']*_0x4ff206,qi['y']=_0xe775ab['changedTou'+'ches'][-0xe82+-0xc*-0x173+-0x2e2]['y']*_0x4ff206):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Pr['origin']['set'](qi['x'],-qi['y'],-0x1a24*0x1+0x1086+0x99e),Pr['direction']['copy'](T['FORWARD'])):(vg['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](qi['x'],qi['y'],-0x18*0xb3+-0xa36*0x1+0x1aff)),Pr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Pr['direction']['copy'](vg)['sub'](Pr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x479534=this['_element']['entity']['parent'];const _0x3ebddd=this['_element']['screen']&&this['_element']['screen']['screen'],_0x26dfdc=_0x3ebddd&&_0x3ebddd['screenSpac'+'e'],_0x460e7d=_0x26dfdc?_0x3ebddd['scale']:0x16be+0x1*-0x28e+-0x142f,_0x20f28e=this['_dragScale'];for(_0x20f28e['set'](_0x460e7d,_0x460e7d,_0x460e7d);_0x479534&&(_0x20f28e['mul'](_0x479534['getLocalSc'+'ale']()),_0x479534=_0x479534['parent'],!(_0x26dfdc&&_0x479534['screen'])););_0x20f28e['x']=(-0xdbc+0x1e5+-0x2f6*-0x4)/_0x20f28e['x'],_0x20f28e['y']=(0xe5b+-0x5*-0x2b7+-0x1bed)/_0x20f28e['y'],_0x20f28e['z']=0x185f+0xdbb+-0x2*0x130d;}['_onMove'](_0x2a7358){const {_element:_0x544e63,_deltaMousePosition:_0x582f49,_deltaHandlePosition:_0x172221,_axis:_0x4df853}=this;if(_0x544e63&&this['_isDraggin'+'g']&&this['enabled']&&_0x544e63['enabled']&&_0x544e63['entity']['enabled']){const _0x7b6c38=this['_screenToL'+'ocal'](_0x2a7358);if(_0x7b6c38){if(_0x582f49['sub2'](_0x7b6c38,this['_dragStart'+'MousePosit'+'ion']),_0x172221['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x582f49),_0x4df853){const _0x5a259d=_0x544e63['entity']['getLocalPo'+'sition'](),_0x2557e6=TI[_0x4df853];_0x172221[_0x2557e6]=_0x5a259d[_0x2557e6];}_0x544e63['entity']['setLocalPo'+'sition'](_0x172221),this['fire']('drag:move',_0x172221);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x5e7d7d){this['_enabled']=_0x5e7d7d;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}c(wo,'EVENT_DRAG'+'START','drag:start'),c(wo,'EVENT_DRAG'+'END','drag:end'),c(wo,'EVENT_DRAG'+'MOVE','drag:move');const AI=0x1*-0x742+0x1a8c+-0x134a,Tg=-0x115e+0x25*0x44+-0x1*-0x78b,EI=0x18+0x1*-0x570+0x55a,CI=0x47*-0x5f+-0x1617+0x3070,MI=0x3bf*0x4+-0x229b+0x8*0x274,ro=new W();class gx extends ue{constructor(_0x2137ab,_0x9fd5ec){super(_0x2137ab,_0x9fd5ec),c(this,'_viewportE'+'ntity',null),c(this,'_contentEn'+'tity',null),c(this,'_horizonta'+'lScrollbar'+'Entity',null),c(this,'_verticalS'+'crollbarEn'+'tity',null),c(this,'_evtElemen'+'tRemove',null),c(this,'_evtViewpo'+'rtElementR'+'emove',null),c(this,'_evtViewpo'+'rtResize',null),c(this,'_evtConten'+'tEntityEle'+'mentAdd',null),c(this,'_evtConten'+'tElementRe'+'move',null),c(this,'_evtConten'+'tResize',null),c(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),c(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),c(this,'_evtHorizo'+'ntalScroll'+'barValue',null),c(this,'_evtVertic'+'alScrollba'+'rAdd',null),c(this,'_evtVertic'+'alScrollba'+'rRemove',null),c(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_scroll']=new W(),this['_velocity']=new T(),this['_dragStart'+'Position']=new T(),this['_disabledC'+'ontentInpu'+'t']=!(-0x1d87+0x24be+0x2*-0x39b),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0xa9f6e4=this['system']['store'][this['entity']['getGuid']()];return _0xa9f6e4?_0xa9f6e4['data']:null;}set['enabled'](_0x214539){this['_setValue']('enabled',_0x214539);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x277412){this['_setValue']('horizontal',_0x277412);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0xadc74a){this['_setValue']('vertical',_0xadc74a);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x20bcf9){this['_setValue']('scrollMode',_0x20bcf9);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x522e9b){this['_setValue']('bounceAmou'+'nt',_0x522e9b);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x5dd4f8){this['_setValue']('friction',_0x5dd4f8);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x2c023c){this['_setValue']('dragThresh'+'old',_0x2c023c);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x144841){this['_setValue']('useMouseWh'+'eel',_0x144841);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x43d7c0){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x43d7c0);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x4de00b){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x4de00b);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x1df952){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x1df952);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x278fa5){if(this['_viewportE'+'ntity']===_0x278fa5)return;const _0x2bcc0e=typeof _0x278fa5=='string';this['_viewportE'+'ntity']&&_0x2bcc0e&&this['_viewportE'+'ntity']['getGuid']()===_0x278fa5||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x278fa5 instanceof De?this['_viewportE'+'ntity']=_0x278fa5:_0x2bcc0e?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x278fa5)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x2bcc0e&&_0x278fa5&&(this['data']['viewportEn'+'tity']=_0x278fa5));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x30dce6){if(this['_contentEn'+'tity']===_0x30dce6)return;const _0xcfcf20=typeof _0x30dce6=='string';this['_contentEn'+'tity']&&_0xcfcf20&&this['_contentEn'+'tity']['getGuid']()===_0x30dce6||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x30dce6 instanceof De?this['_contentEn'+'tity']=_0x30dce6:_0xcfcf20?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x30dce6)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0xcfcf20&&_0x30dce6&&(this['data']['contentEnt'+'ity']=_0x30dce6));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x50d251){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x50d251)return;const _0x257395=typeof _0x50d251=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x257395&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x50d251||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x50d251 instanceof De?this['_horizonta'+'lScrollbar'+'Entity']=_0x50d251:_0x257395?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x50d251)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][pe]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x257395&&_0x50d251&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x50d251));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x26bcef){if(this['_verticalS'+'crollbarEn'+'tity']===_0x26bcef)return;const _0x5ee6b4=typeof _0x26bcef=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x5ee6b4&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x26bcef||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x26bcef instanceof De?this['_verticalS'+'crollbarEn'+'tity']=_0x26bcef:_0x5ee6b4?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x26bcef)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][ke]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x5ee6b4&&_0x26bcef&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x26bcef));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0xafa909){this['_onSetScro'+'ll'](_0xafa909['x'],_0xafa909['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x1140ef,_0x418b1b){const _0x28ee7c=this['data'],_0x3088ba=_0x28ee7c[_0x1140ef];_0x28ee7c[_0x1140ef]=_0x418b1b,this['fire']('set',_0x1140ef,_0x3088ba,_0x418b1b);}['_toggleLif'+'ecycleList'+'eners'](_0xab3f37){this[_0xab3f37]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0xab3f37]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0xab3f37]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x6ba3fb){if(this['entity']['element']){if(_0x6ba3fb==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x6ba3fb]('resize',this['_syncAll'],this),this['entity']['element'][_0x6ba3fb](Mu,this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x6ba3fb==='on';}}['_onElement'+'ComponentA'+'dd'](_0x533846){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x35fff0){var _0x32927e;(_0x32927e=this['_evtElemen'+'tRemove'])==null||_0x32927e['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x5d150a,_0x4dd5d5;(_0x5d150a=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x5d150a['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x4dd5d5=this['_viewportE'+'ntity'])!=null&&_0x4dd5d5['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x159efc=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x159efc['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x159efc['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x2a8930,_0x34b397;(_0x2a8930=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x2a8930['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x34b397=this['_evtViewpo'+'rtResize'])==null||_0x34b397['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x56246e,_0x3caa0c;(_0x56246e=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x56246e['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x3caa0c=this['_contentEn'+'tity'])!=null&&_0x3caa0c['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x1f7818=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x1f7818['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x1f7818['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x45b946,_0x45912e;(_0x45b946=this['_evtConten'+'tElementRe'+'move'])==null||_0x45b946['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x45912e=this['_evtConten'+'tResize'])==null||_0x45912e['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new wo(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0xa15fc6){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(0x1*0x1fd3+-0x3*0xc09+0x448),this['_setScroll'+'FromConten'+'tPosition'](_0xa15fc6),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0xa15fc6),!this['_disabledC'+'ontentInpu'+'t'])){const _0x48e3be=_0xa15fc6['x']-this['_dragStart'+'Position']['x'],_0x201d43=_0xa15fc6['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x48e3be)>this['dragThresh'+'old']||Math['abs'](_0x201d43)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x21820d;(_0x21820d=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x21820d['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x572e87;(_0x572e87=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x572e87['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x59cec1){!this['_scrollbar'+'UpdateFlag'+'s'][pe]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x59cec1,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x5a6ae7){!this['_scrollbar'+'UpdateFlag'+'s'][ke]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x5a6ae7);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x1c9a2c;const _0x1f6d76=(_0x1c9a2c=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(-0x2172+0x12cf+0x1*0xea3):_0x1c9a2c['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x1f6d76['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x1f6d76['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarPositi'+'on'](pe);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x53b8d0;const _0x18af4a=(_0x53b8d0=this['_verticalS'+'crollbarEn'+'tity'])==null?void(0x2000+0x1*-0x24a1+-0xed*-0x5):_0x53b8d0['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x18af4a['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x18af4a['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](ke),this['_syncScrol'+'lbarPositi'+'on'](ke);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x20137c,_0x5b0e1d;(_0x20137c=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x20137c['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x5b0e1d=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x5b0e1d['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x558c6f,_0x138774;(_0x558c6f=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x558c6f['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x138774=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x138774['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](pe);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_onSetScro'+'ll'](_0x3f3dde,_0x159a64,_0x2edb3b){_0x2edb3b!==!(-0x1e2f+0x21ac+-0x37c)&&this['_velocity']['set'](-0x607*0x1+0xab2+0x5*-0xef,0x4e7+0xad*-0xd+-0x8e*-0x7,0x1343*0x1+0xca*0x11+-0x20ad);const _0x49d370=this['_updateAxi'+'s'](_0x3f3dde,'x',pe),_0x36fb0e=this['_updateAxi'+'s'](_0x159a64,'y',ke);(_0x49d370||_0x36fb0e)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x25b5b7,_0x4ee498,_0x1b3c2b){const _0x527ab7=_0x25b5b7!==null&&Math['abs'](_0x25b5b7-this['_scroll'][_0x4ee498])>0x2362+-0x25aa*0x1+-0x4*-0x92+0.00001;return(_0x527ab7||this['_isDraggin'+'g']()||_0x25b5b7===0xacf+-0x1b21+0x1*0x1052)&&(this['_scroll'][_0x4ee498]=this['_determine'+'NewScrollV'+'alue'](_0x25b5b7,_0x4ee498,_0x1b3c2b),this['_syncConte'+'ntPosition'](_0x1b3c2b),this['_syncScrol'+'lbarPositi'+'on'](_0x1b3c2b)),_0x527ab7;}['_determine'+'NewScrollV'+'alue'](_0x30c5f8,_0x13ccfe,_0x3fd65a){if(!this['_getScroll'+'ingEnabled'](_0x3fd65a))return this['_scroll'][_0x13ccfe];switch(this['scrollMode']){case AI:return N['clamp'](_0x30c5f8,-0x1678+-0x19f4+0x306c,this['_getMaxScr'+'ollValue'](_0x3fd65a));case Tg:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x30c5f8,_0x13ccfe,_0x3fd65a),_0x30c5f8;case EI:return _0x30c5f8;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x30c5f8;}}['_syncAll'](){this['_syncConte'+'ntPosition'](pe),this['_syncConte'+'ntPosition'](ke),this['_syncScrol'+'lbarPositi'+'on'](pe),this['_syncScrol'+'lbarPositi'+'on'](ke),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_syncConte'+'ntPosition'](_0xbf2c07){if(!this['_contentEn'+'tity'])return;const _0x55943c=this['_getAxis'](_0xbf2c07),_0x440298=this['_getSign'](_0xbf2c07),_0x44e600=this['_prevConte'+'ntSizes'][_0xbf2c07],_0x5e2189=this['_getConten'+'tSize'](_0xbf2c07);if(_0x44e600!==null&&Math['abs'](_0x44e600-_0x5e2189)>-0x1a41+0x87*-0x9+-0xf8*-0x20+0.0001){const _0x567d03=this['_getMaxOff'+'set'](_0xbf2c07,_0x44e600),_0x946750=this['_getMaxOff'+'set'](_0xbf2c07,_0x5e2189);_0x946750===-0xd94+0x1459*0x1+-0x6c5?this['_scroll'][_0x55943c]=-0x60f+-0x5b*0xd+0xaaf:this['_scroll'][_0x55943c]=N['clamp'](this['_scroll'][_0x55943c]*_0x567d03/_0x946750,0x1*-0x16c3+-0x1369+0xa8b*0x4,-0x23ed+-0x2443+0x1*0x4831);}const _0x3c1838=this['_scroll'][_0x55943c]*this['_getMaxOff'+'set'](_0xbf2c07),_0xf3bc02=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0xf3bc02[_0x55943c]=_0x3c1838*_0x440298,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0xf3bc02),this['_prevConte'+'ntSizes'][_0xbf2c07]=_0x5e2189;}['_syncScrol'+'lbarPositi'+'on'](_0x9dc759){const _0x5e0c1c=this['_scrollbar'+'Entities'][_0x9dc759];if(!(_0x5e0c1c!=null&&_0x5e0c1c['scrollbar']))return;const _0x13c92c=this['_getAxis'](_0x9dc759);this['_scrollbar'+'UpdateFlag'+'s'][_0x9dc759]=!(-0x33*0x12+-0xf6a+0x1300),_0x5e0c1c['scrollbar']['value']=this['_scroll'][_0x13c92c],_0x5e0c1c['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x13c92c,_0x9dc759),this['_scrollbar'+'UpdateFlag'+'s'][_0x9dc759]=!(-0x22e+0x1*-0x1857+0x23*0xc2);}['_syncScrol'+'lbarEnable'+'dState'](_0x31b771){const _0x4af11f=this['_scrollbar'+'Entities'][_0x31b771];if(!_0x4af11f)return;const _0x12e026=this['_getScroll'+'ingEnabled'](_0x31b771),_0x4f5b5d=this['_getScroll'+'barVisibil'+'ity'](_0x31b771);switch(_0x4f5b5d){case CI:_0x4af11f['enabled']=_0x12e026;return;case MI:_0x4af11f['enabled']=_0x12e026&&this['_contentIs'+'LargerThan'+'Viewport'](_0x31b771);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x4f5b5d),_0x4af11f['enabled']=_0x12e026;}}['_contentIs'+'LargerThan'+'Viewport'](_0x22efc5){return this['_getConten'+'tSize'](_0x22efc5)>this['_getViewpo'+'rtSize'](_0x22efc5);}['_contentPo'+'sitionToSc'+'rollValue'](_0x1dcd76){const _0x3a30e4=this['_getMaxOff'+'set'](pe),_0x51059e=this['_getMaxOff'+'set'](ke);return _0x3a30e4===-0x1681*0x1+0x229e+-0xc1d?ro['x']=0x1*0x253b+0x106d+-0x35a8:ro['x']=_0x1dcd76['x']/_0x3a30e4,_0x51059e===-0x7ef+0x3*0x1a3+0x306?ro['y']=-0x1a7a*-0x1+-0x27a*0xd+-0x2*-0x2dc:ro['y']=_0x1dcd76['y']/-_0x51059e,ro;}['_getMaxOff'+'set'](_0x5b608d,_0x2f7129){_0x2f7129=_0x2f7129===void(-0x1774+-0xdaf+0x3*0xc61)?this['_getConten'+'tSize'](_0x5b608d):_0x2f7129;const _0x24f15a=this['_getViewpo'+'rtSize'](_0x5b608d);return _0x2f7129<_0x24f15a?-this['_getViewpo'+'rtSize'](_0x5b608d):_0x24f15a-_0x2f7129;}['_getMaxScr'+'ollValue'](_0x3c1aa4){return this['_contentIs'+'LargerThan'+'Viewport'](_0x3c1aa4)?0x33*0xba+0x1214+-0x3721:0x9*0x255+0x7*0xf+-0x1566;}['_getScroll'+'barHandleS'+'ize'](_0x2fed45,_0x12bb8b){const _0x115e70=this['_getViewpo'+'rtSize'](_0x12bb8b),_0x3b6ec5=this['_getConten'+'tSize'](_0x12bb8b);if(Math['abs'](_0x3b6ec5)<-0x22*-0x6a+-0x3*-0x4d+-0xefb+0.001)return 0x1ec1*0x1+0x165a+-0x351a;const _0x55ad94=Math['min'](_0x115e70/_0x3b6ec5,-0x73b+0x458*0x1+0x14*0x25),_0x1dd7cc=this['_toOversho'+'ot'](this['_scroll'][_0x2fed45],_0x12bb8b);return _0x1dd7cc===0x1c0b+0x1a3+0x2*-0xed7?_0x55ad94:_0x55ad94/(-0x52*-0x6e+-0x35*0x97+0xfe*-0x4+Math['abs'](_0x1dd7cc));}['_getViewpo'+'rtSize'](_0x5ec1fd){return this['_getSize'](_0x5ec1fd,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x5b1593){return this['_getSize'](_0x5b1593,this['_contentEn'+'tity']);}['_getSize'](_0xcc0ad9,_0x543cc5){return _0x543cc5!=null&&_0x543cc5['element']?_0x543cc5['element'][this['_getCalcul'+'atedDimens'+'ion'](_0xcc0ad9)]:0x9*-0x3bd+-0xdb9+-0x102*-0x2f;}['_getScroll'+'ingEnabled'](_0x52eb4c){if(_0x52eb4c===pe)return this['horizontal'];if(_0x52eb4c===ke)return this['vertical'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x52eb4c);}['_getScroll'+'barVisibil'+'ity'](_0x3444da){if(_0x3444da===pe)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x3444da===ke)return this['verticalSc'+'rollbarVis'+'ibility'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x3444da);}['_getSign'](_0x9bdc7e){return _0x9bdc7e===pe?-0x10*0x233+0x529+0x1e08:-(-0x1*0x4d9+0x2609+0x6a3*-0x5);}['_getAxis'](_0x341744){return _0x341744===pe?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x4db2cf){return _0x4db2cf===pe?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===Tg&&(this['_hasOversh'+'oot']('x',pe)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',pe),this['_hasOversh'+'oot']('y',ke)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',ke)),Math['abs'](this['_velocity']['x'])>0x1*-0xca0+0x5*-0x34d+0x1d21+0.0001||Math['abs'](this['_velocity']['y'])>0x20e3*0x1+-0x49e+-0x1c45+0.0001){const _0xdb0846=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0xdb0846['x']+=this['_velocity']['x'],_0xdb0846['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0xdb0846),this['_setScroll'+'FromConten'+'tPosition'](_0xdb0846);}this['_velocity']['x']*=0x215*-0x10+-0x1f38+-0x1583*-0x3-this['friction'],this['_velocity']['y']*=-0xcff*-0x1+-0x180a+0x2*0x586-this['friction'];}}['_hasOversh'+'oot'](_0xa2523a,_0x1a638e){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0xa2523a],_0x1a638e))>-0x3cc+0x1b1d+-0x1*0x1751+0.001;}['_toOversho'+'ot'](_0x43f3ee,_0x4208fa){const _0x36541e=this['_getMaxScr'+'ollValue'](_0x4208fa);return _0x43f3ee<0x13fd*0x1+-0x1afb*-0x1+-0x2ef8?_0x43f3ee:_0x43f3ee>_0x36541e?_0x43f3ee-_0x36541e:0x10*-0x63+0x2084*-0x1+0x9ad*0x4;}['_setVeloci'+'tyFromOver'+'shoot'](_0x34d2a4,_0x3fb123,_0x511953){const _0x8583e9=this['_toOversho'+'ot'](_0x34d2a4,_0x511953)*this['_getMaxOff'+'set'](_0x511953)*this['_getSign'](_0x511953);Math['abs'](_0x8583e9)>-0x23a1+-0x3*0x7e5+0x2*0x1da8&&(this['_velocity'][_0x3fb123]=-_0x8583e9/(this['bounceAmou'+'nt']*(-0x6d*-0x15+-0x2*0x676+0x42d)+(0x12a9+-0x2*0x101+-0x10a6)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x2f690a){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x2f690a,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x2f690a)):(this['_velocity']['set'](0x15b*-0x17+0x1a92+0x49b,-0x149c+-0x158*-0x11+-0x23c,0x14ac+0x1935+0xf4b*-0x3),this['_prevConte'+'ntDragPosi'+'tion']=_0x2f690a['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x3fe749){let _0xb67c32=this['_contentPo'+'sitionToSc'+'rollValue'](_0x3fe749);this['_isDraggin'+'g']()&&(_0xb67c32=this['_applyScro'+'llValueTen'+'sion'](_0xb67c32)),this['_onSetScro'+'ll'](_0xb67c32['x'],_0xb67c32['y'],!(0x1aa6+0xa*-0x49+0x1*-0x17cb));}['_applyScro'+'llValueTen'+'sion'](_0x5ca8a0){let _0x3187d5=this['_getMaxScr'+'ollValue'](pe),_0x44813e=this['_toOversho'+'ot'](_0x5ca8a0['x'],pe);return _0x44813e>-0x411+-0x14*-0x155+0x1*-0x1693?_0x5ca8a0['x']=_0x3187d5+(0xcf+0x972+0x20*-0x52)*Math['log10'](-0xca+-0x265b+0x2726*0x1+_0x44813e):_0x44813e<-0x759*0x5+0xd6+0xd*0x2c3&&(_0x5ca8a0['x']=-(-0x1b4e+-0x1*0x12e+0x1c7d)*Math['log10'](-0xc*-0x36+0x39*0x17+-0x7a6-_0x44813e)),_0x3187d5=this['_getMaxScr'+'ollValue'](ke),_0x44813e=this['_toOversho'+'ot'](_0x5ca8a0['y'],ke),_0x44813e>0x21b*0x2+0xae0+-0x78b*0x2?_0x5ca8a0['y']=_0x3187d5+(0x33*-0xe+0xcc5*-0x1+0x30*0x53)*Math['log10'](0x262d*-0x1+0x1*-0x158+-0x2*-0x13c3+_0x44813e):_0x44813e<-0x44d*0x6+0x756+0x49e*0x4&&(_0x5ca8a0['y']=-(-0x135+-0x6ca*-0x1+-0x594)*Math['log10'](0xd*-0x12b+-0x1*0x1a2d+0x295d-_0x44813e)),_0x5ca8a0;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x1e32dc){var _0x1cf2c1,_0x95fe2b;(_0x1cf2c1=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x1cf2c1['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x1e32dc),(_0x95fe2b=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x95fe2b['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x1e32dc);}['_setConten'+'tDraggingE'+'nabled'](_0x533cd1){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x533cd1);}['_onMouseWh'+'eel'](_0x3de072){var _0x40d0a6;if(!this['useMouseWh'+'eel']||!((_0x40d0a6=this['_contentEn'+'tity'])!=null&&_0x40d0a6['element']))return;const _0x5ab1ee=_0x3de072['event'],_0xc1778f=_0x5ab1ee['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0xb3a449=_0x5ab1ee['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x4192d6=N['clamp'](this['_scroll']['x']+_0xc1778f,-0x187d*-0x1+-0xfe0*0x2+-0x8f*-0xd,this['_getMaxScr'+'ollValue'](pe)),_0x5174ac=N['clamp'](this['_scroll']['y']+_0xb3a449,0x19*-0x6+0x27*0xa+0x3*-0x50,this['_getMaxScr'+'ollValue'](ke));this['scroll']=new W(_0x4192d6,_0x5174ac);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x21dbe4=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x21dbe4['element']&&(_0x21dbe4['element']['useInput']=!(0x2461+0x143e+-0xdf*0x41));}this['_disabledC'+'ontentInpu'+'t']=!(0xcca+0x1*-0x1292+-0x1*-0x5c9);}['_disableCo'+'ntentInput'](){const _0x50fbd2=_0x22ee71=>{_0x22ee71['element']&&_0x22ee71['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x22ee71),_0x22ee71['element']['useInput']=!(-0x1*0x2379+0xf3*-0x4+0x2746));const _0x51fb28=_0x22ee71['children'];for(let _0x22114f=0x17d4+0x17a1+-0x1*0x2f75,_0x999436=_0x51fb28['length'];_0x22114f<_0x999436;_0x22114f++)_0x50fbd2(_0x51fb28[_0x22114f]);};if(this['_contentEn'+'tity']){const _0x4aff9a=this['_contentEn'+'tity']['children'];for(let _0x1a56a4=0x20f6+-0xe*0x1fe+-0x289*0x2,_0x11676c=_0x4aff9a['length'];_0x1a56a4<_0x11676c;_0x1a56a4++)_0x50fbd2(_0x4aff9a[_0x1a56a4]);}this['_disabledC'+'ontentInpu'+'t']=!(-0x1*0x1f01+-0x1*0x1bf8+0x3af9);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x1698+-0x5*-0xf7+0x1b6b*-0x1)),this['_setConten'+'tDraggingE'+'nabled'](!(0x8*0x2f5+-0x1859+0xb1)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x1221+0x1273+-0x2493*0x1)),this['_setConten'+'tDraggingE'+'nabled'](!(0x268+0x1a51+-0x4*0x72e));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x59c183,_0x3d3851){_0x59c183['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x3d3851[_0x59c183['viewportEn'+'tity']['getGuid']()]),_0x59c183['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x3d3851[_0x59c183['contentEnt'+'ity']['getGuid']()]),_0x59c183['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x3d3851[_0x59c183['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x59c183['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x3d3851[_0x59c183['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}c(gx,'EVENT_SETS'+'CROLL','set:scroll');const PI=0x1cc2+-0x1148+0x2*-0x5b8;class RI{constructor(){c(this,'enabled',!(-0x1261+0x1*-0x1eb5+-0xce*-0x3d)),c(this,'horizontal'),c(this,'vertical'),c(this,'scrollMode'),c(this,'bounceAmou'+'nt'),c(this,'friction'),c(this,'dragThresh'+'old',PI),c(this,'useMouseWh'+'eel',!(0x97*0x16+-0xa03+0x3*-0xfd)),c(this,'mouseWheel'+'Sensitivit'+'y',new W(0x1*-0x38f+-0x14fe+0x188e,0x31a*-0x1+-0x1*-0x103a+0xd1f*-0x1)),c(this,'horizontal'+'ScrollbarV'+'isibility',0x1*0xca8+0x1cd*0xd+0x1*-0x2411),c(this,'verticalSc'+'rollbarVis'+'ibility',-0x240b+0x11*-0x1c5+-0x8*-0x844),c(this,'viewportEn'+'tity',null),c(this,'contentEnt'+'ity',null),c(this,'horizontal'+'ScrollbarE'+'ntity',null),c(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const Ag=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],II=0xd*-0xc3+0x1*0x25be+-0x287*0xb;class DI extends Xe{constructor(_0x3ab15a){super(_0x3ab15a),this['id']='scrollview',this['ComponentT'+'ype']=gx,this['DataType']=RI,this['schema']=Ag,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x330351,_0x51794d,_0x430123){_0x51794d['dragThresh'+'old']===void(0xd3c+0x2*-0xa68+0x794)&&(_0x51794d['dragThresh'+'old']=II),_0x51794d['useMouseWh'+'eel']===void(-0x1*0x2109+-0xc4*-0x2f+-0x1*0x2f3)&&(_0x51794d['useMouseWh'+'eel']=!(0x18c+-0x1*-0x1f55+-0x20e1)),_0x51794d['mouseWheel'+'Sensitivit'+'y']===void(-0xe*0x255+-0x2160+0x4206)&&(_0x51794d['mouseWheel'+'Sensitivit'+'y']=new W(-0x1*-0x2551+-0x18c8+0x644*-0x2,-0x6da+-0x22a5+0x2980)),super['initialize'+'ComponentD'+'ata'](_0x330351,_0x51794d,Ag),_0x330351['viewportEn'+'tity']=_0x51794d['viewportEn'+'tity'],_0x330351['contentEnt'+'ity']=_0x51794d['contentEnt'+'ity'],_0x330351['horizontal'+'ScrollbarE'+'ntity']=_0x51794d['horizontal'+'ScrollbarE'+'ntity'],_0x330351['verticalSc'+'rollbarEnt'+'ity']=_0x51794d['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x1adcc9){const _0x54cf86=this['store'];for(const _0x58d762 in _0x54cf86){const _0x1affdc=_0x54cf86[_0x58d762]['entity'],_0x5c8fc8=_0x1affdc['scrollview'];_0x5c8fc8['enabled']&&_0x1affdc['enabled']&&_0x5c8fc8['onUpdate']();}}['_onRemoveC'+'omponent'](_0x6323a1,_0x5d35f3){_0x5d35f3['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class yx extends ue{constructor(_0x5430ea,_0x51e990){super(_0x5430ea,_0x51e990),c(this,'_handleEnt'+'ity',null),c(this,'_evtHandle'+'EntityElem'+'entAdd',null),c(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x597d74=this['system']['store'][this['entity']['getGuid']()];return _0x597d74?_0x597d74['data']:null;}set['enabled'](_0x3a779b){this['_setValue']('enabled',_0x3a779b);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x22b573){this['_setValue']('orientatio'+'n',_0x22b573);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x5b3382){this['_setValue']('value',_0x5b3382);}get['value'](){return this['data']['value'];}set['handleSize'](_0x18d5ad){this['_setValue']('handleSize',_0x18d5ad);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x16b68a){if(this['_handleEnt'+'ity']===_0x16b68a)return;const _0x40398a=typeof _0x16b68a=='string';this['_handleEnt'+'ity']&&_0x40398a&&this['_handleEnt'+'ity']['getGuid']()===_0x16b68a||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x16b68a instanceof De?this['_handleEnt'+'ity']=_0x16b68a:_0x40398a?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x16b68a)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x40398a&&_0x16b68a&&(this['data']['handleEnti'+'ty']=_0x16b68a));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x240808,_0x3af549){const _0x1b9468=this['data'],_0x33e36f=_0x1b9468[_0x240808];_0x1b9468[_0x240808]=_0x3af549,this['fire']('set',_0x240808,_0x33e36f,_0x3af549);}['_toggleLif'+'ecycleList'+'eners'](_0x4942e9){this[_0x4942e9]('set_value',this['_onSetValu'+'e'],this),this[_0x4942e9]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x4942e9]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x1257b3,_0x533204;(_0x1257b3=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x1257b3['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x533204=this['_handleEnt'+'ity'])!=null&&_0x533204['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x5be6e0=this['_handleEnt'+'ity']['element'],_0x1f81e1=this['_evtHandle'+'EntityChan'+'ges'];_0x1f81e1['push'](_0x5be6e0['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x1f81e1['push'](_0x5be6e0['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x1f81e1['push'](_0x5be6e0['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x1f81e1['push'](_0x5be6e0['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0xe98eec=0x3*-0x84a+-0x1a9f+-0x1*-0x337d;_0xe98eec<this['_evtHandle'+'EntityChan'+'ges']['length'];_0xe98eec++)this['_evtHandle'+'EntityChan'+'ges'][_0xe98eec]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=-0x43*-0x2b+-0x348+-0x7f9;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new wo(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0xee2874){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0xee2874[this['_getAxis']()]));}['_onSetValu'+'e'](_0x1f43de,_0x1dc24e,_0x5617e5){Math['abs'](_0x5617e5-_0x1dc24e)>0x3*-0x8c6+0x1dbf*0x1+-0x36d+0.00001&&(this['data']['value']=N['clamp'](_0x5617e5,-0x17f0+0x4b*0x54+-0xac,0x59*-0x1f+-0x2*0x10bb+0x2c3e),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x18bad5,_0x11d0e2,_0x1f25cd){Math['abs'](_0x1f25cd-_0x11d0e2)>-0xd2*0xd+-0x282*-0xe+-0x37e*0x7+0.00001&&(this['data']['handleSize']=N['clamp'](_0x1f25cd,0x23ed+0x28a*0x3+-0x2b8b,-0x5ad*-0x1+0x4*0x198+-0xc0c),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x20de0b,_0x5bd7a2,_0x517e02){var _0x546636;_0x517e02!==_0x5bd7a2&&((_0x546636=this['_handleEnt'+'ity'])!=null&&_0x546636['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=-0x91*-0x3a+-0x16ae+-0x364*0x3);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x2c2274=this['_handleEnt'+'ity'],_0x3aa5b1=_0x2c2274==null?void(-0x15ab+0x17*-0x185+-0x2*-0x1c4f):_0x2c2274['element'];if(_0x2c2274){const _0x195539=_0x2c2274['getLocalPo'+'sition']();_0x195539[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x2c2274['setLocalPo'+'sition'](_0x195539);}_0x3aa5b1&&(_0x3aa5b1[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x149c14){return _0x149c14*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x466acf){return _0x466acf*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),0x1125+0x32f*0x1+-0x4*0x515+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===pe?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:-0x1*-0x1b48+0x2*-0xcc7+0x1ba*-0x1;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===pe?0x5bf+-0x501+-0xbd:-(0x6b5+-0x39*-0x1f+-0x2b*0x51);}['_getAxis'](){return this['orientatio'+'n']===pe?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===pe?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===pe?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x282c39){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x282c39);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0x29*0x9+-0x8*-0x358+-0x1*0x1c31));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0x3*0x52a+-0x1df8+0xe7b));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x182169,_0x28121d){_0x182169['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x28121d[_0x182169['handleEnti'+'ty']['getGuid']()]);}}c(yx,'EVENT_SETV'+'ALUE','set:value');class LI{constructor(){c(this,'enabled',!(-0x63d*-0x1+-0x62+0x5db*-0x1)),c(this,'orientatio'+'n',pe),c(this,'value',-0x168d*0x1+-0x1cb8+-0x7d*-0x69),c(this,'handleSize',-0xfb*0x1f+-0xcc1+0x315*0xe),c(this,'handleEnti'+'ty',null);}}const Eg=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class FI extends Xe{constructor(_0x13e364){super(_0x13e364),this['id']='scrollbar',this['ComponentT'+'ype']=yx,this['DataType']=LI,this['schema']=Eg,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x35f300,_0xf0789a,_0x27d3cc){super['initialize'+'ComponentD'+'ata'](_0x35f300,_0xf0789a,Eg),_0x35f300['handleEnti'+'ty']=_0xf0789a['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x188e35){_0x188e35['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0xdea9d8,_0x3ca105){_0x3ca105['onRemove']();}}const OI={'volume':0x0,'pitch':0x0,'loop':!(0x52e+-0x5*0x182+0x5*0x79),'startTime':0x0,'duration':0x0,'position':new T(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class er extends ce{constructor(_0x2c5a1d,_0x322af0='Untitled',_0x3022c0={}){super(),c(this,'name'),c(this,'instances',[]),(this['_component']=_0x2c5a1d,this['_assets']=_0x2c5a1d['system']['app']['assets'],this['_manager']=_0x2c5a1d['system']['manager'],this['name']=_0x322af0,this['_volume']=_0x3022c0['volume']!==void(0x1a5c+-0x37d*0x1+0x16df*-0x1)?N['clamp'](Number(_0x3022c0['volume'])||-0x9*-0x2c9+0x216*-0xb+-0x21f,0x20cc+0x1*0x190f+-0x39db*0x1,-0x18a+-0x14ce+0x1659*0x1):-0x193d+0x1211+0xa7*0xb,this['_pitch']=_0x3022c0['pitch']!==void(-0x1145*-0x2+0xb*0xf0+-0x166d*0x2)?Math['max'](0x1b62+-0x1f2e+0x3cc+0.01,Number(_0x3022c0['pitch'])||-0xc53*-0x1+0x3*0x716+0x1*-0x2195):0x55b+-0x1a87*0x1+0x152d,this['_loop']=!!(_0x3022c0['loop']!==void(-0x1a6+-0x477+-0x61d*-0x1)&&_0x3022c0['loop']),this['_duration']=_0x3022c0['duration']>0x4*0x19a+-0x1a6b+0x1403?_0x3022c0['duration']:null,this['_startTime']=Math['max'](0x1ac7+0x238d*-0x1+0x8c6,Number(_0x3022c0['startTime'])||0x1cf2+0x1*-0x46c+-0x1886),this['_overlap']=!!_0x3022c0['overlap'],this['_autoPlay']=!!_0x3022c0['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x3022c0['asset'],this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x4e4506){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){v['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x4b7da5=_0x4e4506;if(_0x4b7da5||(_0x4b7da5=this['_createIns'+'tance'](),this['instances']['push'](_0x4b7da5)),this['isLoaded'])_0x4b7da5['play']();else{const _0xcde1c5=function(_0x2ffa8d){const _0x290b89=_0x4b7da5['_playWhenL'+'oaded'];_0x4b7da5['sound']=_0x2ffa8d,_0x290b89&&_0x4b7da5['play']();};this['off']('load',_0xcde1c5),this['once']('load',_0xcde1c5),this['load']();}return _0x4b7da5;}['pause'](){let _0x3424f4=!(0x23f9+0x1*0xcf+-0x24c7);const _0x59c7e8=this['instances'];for(let _0x313525=0x201c+0x1*-0x349+-0x1cd3,_0x153bdc=_0x59c7e8['length'];_0x313525<_0x153bdc;_0x313525++)_0x59c7e8[_0x313525]['pause']()&&(_0x3424f4=!(0x2*0x167+-0x2022+0x1d54));return _0x3424f4;}['resume'](){let _0x2fb2ef=!(0x1185+-0x2a6*0x9+-0x2*-0x329);const _0x120b99=this['instances'];for(let _0xb4625c=0x153f+-0x2be*0xc+0x3e3*0x3,_0x1724c0=_0x120b99['length'];_0xb4625c<_0x1724c0;_0xb4625c++)_0x120b99[_0xb4625c]['resume']()&&(_0x2fb2ef=!(-0x21a4+0x142f+0x2b1*0x5));return _0x2fb2ef;}['stop'](){let _0x4c7345=!(-0x98+0x76*0x47+-0x149*0x19);const _0x28075d=this['instances'];let _0x142094=_0x28075d['length'];for(;_0x142094--;)_0x28075d[_0x142094]['stop'](),_0x4c7345=!(-0x248a+-0x167*-0xf+0xf81);return _0x28075d['length']=0x7dc+-0x7*0x3ee+0x13a6,_0x4c7345;}['load'](){if(!this['_hasAsset']())return;const _0x4ef9c2=this['_assets']['get'](this['_asset']);if(!_0x4ef9c2){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x4ef9c2['off']('remove',this['_onAssetRe'+'moved'],this),_0x4ef9c2['on']('remove',this['_onAssetRe'+'moved'],this),!_0x4ef9c2['resource']){_0x4ef9c2['off']('load',this['_onAssetLo'+'ad'],this),_0x4ef9c2['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x4ef9c2);return;}this['fire']('load',_0x4ef9c2['resource']);}['setExterna'+'lNodes'](_0x2c3d35,_0x381deb){if(!_0x2c3d35){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x381deb||(_0x381deb=_0x2c3d35),this['_firstNode']=_0x2c3d35,this['_lastNode']=_0x381deb,!this['_overlap']){const _0x585b5b=this['instances'];for(let _0x2dd793=0x881+-0x1ae6+0x1265,_0x4426c6=_0x585b5b['length'];_0x2dd793<_0x4426c6;_0x2dd793++)_0x585b5b[_0x2dd793]['setExterna'+'lNodes'](_0x2c3d35,_0x381deb);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x52f2d2=this['instances'];for(let _0x2887e5=0x3*-0x84f+0x1809+-0xe4*-0x1,_0xc64a48=_0x52f2d2['length'];_0x2887e5<_0xc64a48;_0x2887e5++)_0x52f2d2[_0x2887e5]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x52dd9f=null;const _0x25d419=this['_component'];let _0x5a06d2=null;if(this['_hasAsset']()){const _0x2ad94c=this['_assets']['get'](this['_asset']);_0x2ad94c&&(_0x5a06d2=_0x2ad94c['resource']);}const _0x379595=OI;return _0x379595['volume']=this['_volume']*_0x25d419['volume'],_0x379595['pitch']=this['_pitch']*_0x25d419['pitch'],_0x379595['loop']=this['_loop'],_0x379595['startTime']=this['_startTime'],_0x379595['duration']=this['_duration'],_0x379595['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x379595['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x379595['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x379595['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x379595['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x25d419['positional']?(_0x379595['position']['copy'](_0x25d419['entity']['getPositio'+'n']()),_0x379595['maxDistanc'+'e']=_0x25d419['maxDistanc'+'e'],_0x379595['refDistanc'+'e']=_0x25d419['refDistanc'+'e'],_0x379595['rollOffFac'+'tor']=_0x25d419['rollOffFac'+'tor'],_0x379595['distanceMo'+'del']=_0x25d419['distanceMo'+'del'],_0x52dd9f=new jn(this['_manager'],_0x5a06d2,_0x379595)):_0x52dd9f=new ss(this['_manager'],_0x5a06d2,_0x379595),this['_firstNode']&&_0x52dd9f['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x52dd9f;}['_onInstanc'+'ePlay'](_0xdb44e3){this['fire']('play',_0xdb44e3),this['_component']['fire']('play',this,_0xdb44e3);}['_onInstanc'+'ePause'](_0x3599d7){this['fire']('pause',_0x3599d7),this['_component']['fire']('pause',this,_0x3599d7);}['_onInstanc'+'eResume'](_0x9e0a4f){this['fire']('resume',_0x9e0a4f),this['_component']['fire']('resume',this,_0x9e0a4f);}['_onInstanc'+'eStop'](_0x55ee0b){const _0x550ab3=this['instances']['indexOf'](_0x55ee0b);_0x550ab3!==-(0x121f+-0x47*0x49+0x6d*0x5)&&this['instances']['splice'](_0x550ab3,0x1*-0x16f1+0x1*0x1afa+0x204*-0x2),this['fire']('stop',_0x55ee0b),this['_component']['fire']('stop',this,_0x55ee0b);}['_onInstanc'+'eEnd'](_0x55fe2c){const _0xea3950=this['instances']['indexOf'](_0x55fe2c);_0xea3950!==-(0x10c9+-0x11a9+-0x1*-0xe1)&&this['instances']['splice'](_0xea3950,0x141*0x19+0x1581+-0xa3*0x53),this['fire']('end',_0x55fe2c),this['_component']['fire']('end',this,_0x55fe2c);}['_onAssetAd'+'d'](_0x39112a){this['load']();}['_onAssetLo'+'ad'](_0x552529){this['load']();}['_onAssetRe'+'moved'](_0x592218){_0x592218['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x592218['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x4283c5){const _0x418b5c=this['instances'];for(let _0x28d26b=-0xa52*0x2+-0x5e4+-0x236*-0xc,_0x4816ec=_0x418b5c['length'];_0x28d26b<_0x4816ec;_0x28d26b++)_0x418b5c[_0x28d26b]['position']=_0x4283c5;}set['asset'](_0x18bbbb){const _0xb4ce06=this['_asset'];if(_0xb4ce06){this['_assets']['off']('add:'+_0xb4ce06,this['_onAssetAd'+'d'],this);const _0xe5089c=this['_assets']['get'](_0xb4ce06);_0xe5089c&&_0xe5089c['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x18bbbb,this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x4148e6){this['_autoPlay']=!!_0x4148e6;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x118eaf){if(this['_duration']=Math['max'](0x2418+-0x2*-0x122b+0x2437*-0x2,Number(_0x118eaf)||-0x796*0x1+0x2*-0x57e+0x949*0x2)||null,!this['_overlap']){const _0x4a9cdd=this['instances'];for(let _0x49c637=-0x17b7+0x8b3+0x7c*0x1f,_0x454e26=_0x4a9cdd['length'];_0x49c637<_0x454e26;_0x49c637++)_0x4a9cdd[_0x49c637]['duration']=this['_duration'];}}get['duration'](){let _0x491f46=0xcf1*-0x3+-0x13*-0xef+0x1516;if(this['_hasAsset']()){const _0x23640d=this['_assets']['get'](this['_asset']);_0x491f46=_0x23640d!=null&&_0x23640d['resource']?_0x23640d['resource']['duration']:-0x2*0x50d+-0xdf*0x19+0x1fe1*0x1;}return this['_duration']!=null?this['_duration']%(_0x491f46||-0x14ee+0x13a2+0x1*0x14d):_0x491f46;}get['isLoaded'](){if(this['_hasAsset']()){const _0x23dbf2=this['_assets']['get'](this['_asset']);if(_0x23dbf2)return!!_0x23dbf2['resource'];}return!(-0x9eb+-0x1*-0xa99+-0xad);}get['isPaused'](){const _0x1777f3=this['instances'],_0x11ebcc=_0x1777f3['length'];if(_0x11ebcc===-0x96*0x4+-0x290*0x4+0xc98)return!(-0x125*0x9+-0x2444+0x2e92);for(let _0x3201ed=-0x10db*0x1+0x5d3+0xb08;_0x3201ed<_0x11ebcc;_0x3201ed++)if(!_0x1777f3[_0x3201ed]['isPaused'])return!(-0x37*-0x86+-0x433*0x5+-0x3e5*0x2);return!(0x1*0x1567+0x5d*-0x2f+-0x22a*0x2);}get['isPlaying'](){const _0x42a5ca=this['instances'];for(let _0x17c244=-0x20f8+-0xc2*0x1a+0x1*0x34ac,_0xa6e3e0=_0x42a5ca['length'];_0x17c244<_0xa6e3e0;_0x17c244++)if(_0x42a5ca[_0x17c244]['isPlaying'])return!(0x1*0x107+-0xca6+0xb9f);return!(0x53c*-0x2+-0x25*-0xfe+-0x1a3d);}get['isStopped'](){const _0x3ee502=this['instances'];for(let _0x4dd44a=-0xa60+-0x1652+0xae6*0x3,_0x5f49ba=_0x3ee502['length'];_0x4dd44a<_0x5f49ba;_0x4dd44a++)if(!_0x3ee502[_0x4dd44a]['isStopped'])return!(0x587*0x2+0xaa2+0x15af*-0x1);return!(0x1cde+-0x1e*-0xb3+-0x31d8);}set['loop'](_0x53a8ed){this['_loop']=!!_0x53a8ed;const _0xa484b1=this['instances'];for(let _0xeef533=0x43c*-0x3+-0x1*-0x93b+0x379,_0x3e614f=_0xa484b1['length'];_0xeef533<_0x3e614f;_0xeef533++)_0xa484b1[_0xeef533]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x1bfff1){this['_overlap']=!!_0x1bfff1;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x407f8c){if(this['_pitch']=Math['max'](Number(_0x407f8c)||0x22e0+0x8*0x48d+0x8*-0x8e9,-0x17+0x1cfb*-0x1+0x1d12+0.01),!this['_overlap']){const _0x56d66a=this['instances'];for(let _0x5e8a08=-0x1100+-0x176d+0x4f*0x83,_0x41456e=_0x56d66a['length'];_0x5e8a08<_0x41456e;_0x5e8a08++)_0x56d66a[_0x5e8a08]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x2f5488){if(this['_startTime']=Math['max'](0x2a*-0x8d+-0x1e1*0x7+0x2449*0x1,Number(_0x2f5488)||0x1a9+0x250c+-0x26b5),!this['_overlap']){const _0x385e11=this['instances'];for(let _0x518941=0xc9b*0x1+-0x14e5*0x1+0x84a,_0x2061c9=_0x385e11['length'];_0x518941<_0x2061c9;_0x518941++)_0x385e11[_0x518941]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x522973){if(this['_volume']=N['clamp'](Number(_0x522973)||0x46*0x5+0x7*-0x4d2+0x4a*0x70,0x1952+0x276+0x1*-0x1bc8,0xf67+0xc4b+-0x11*0x1a1),!this['_overlap']){const _0x1a9612=this['instances'];for(let _0x2ec9c0=-0x3*0x853+-0x2cd*-0x6+0x7b*0x11,_0x116210=_0x1a9612['length'];_0x2ec9c0<_0x116210;_0x2ec9c0++)_0x1a9612[_0x2ec9c0]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}c(er,'EVENT_PLAY','play'),c(er,'EVENT_PAUS'+'E','pause'),c(er,'EVENT_RESU'+'ME','resume'),c(er,'EVENT_STOP','stop'),c(er,'EVENT_LOAD','load');class Nr extends ue{constructor(){super(...arguments),c(this,'_volume',-0x120d*0x2+-0x1baa+0x3fc5),c(this,'_pitch',-0x3*-0x779+0x4f1+-0x1b5b),c(this,'_positiona'+'l',!(0x1c61+0x16f*0x1+0x6*-0x4f8)),c(this,'_refDistan'+'ce',0xe*0x1c7+0x985*-0x4+0xd33),c(this,'_maxDistan'+'ce',0x6f7*-0x9+0x2297+0x1c*0x266),c(this,'_rollOffFa'+'ctor',-0x17*0x72+0x2602+-0x1bc3*0x1),c(this,'_distanceM'+'odel',cc),c(this,'_slots',{}),c(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x3a2e9b,_0x5e58ba,_0x1dc1df){const _0x18b378=this['_slots'];for(const _0x31fa6f in _0x18b378){const _0x15a72a=_0x18b378[_0x31fa6f];if(!_0x15a72a['overlap']){const _0xee7755=_0x15a72a['instances'];for(let _0x2b8cc2=0x62d+0x308+-0x935,_0x99be1d=_0xee7755['length'];_0x2b8cc2<_0x99be1d;_0x2b8cc2++)_0xee7755[_0x2b8cc2][_0x3a2e9b]=_0x1dc1df?_0x15a72a[_0x3a2e9b]*_0x5e58ba:_0x5e58ba;}}}set['distanceMo'+'del'](_0x3cbd7b){this['_distanceM'+'odel']=_0x3cbd7b,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x3cbd7b,!(-0x3*0x3fd+0x1*-0x1a1+0xd99*0x1));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x106949){this['_maxDistan'+'ce']=_0x106949,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x106949,!(0x8*-0xe5+0xe1d*-0x2+0x2363*0x1));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x5dec5d){this['_refDistan'+'ce']=_0x5dec5d,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x5dec5d,!(-0x13b8*-0x1+-0x13*-0x3+-0x13f0));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0xe6cb7f){this['_rollOffFa'+'ctor']=_0xe6cb7f,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0xe6cb7f,!(-0x11d2+-0x62c+0x17ff));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x104681){this['_pitch']=_0x104681,this['_updateSou'+'ndInstance'+'s']('pitch',_0x104681,!(0x422+-0x289+-0x199));}get['pitch'](){return this['_pitch'];}set['volume'](_0x313a4c){this['_volume']=_0x313a4c,this['_updateSou'+'ndInstance'+'s']('volume',_0x313a4c,!(-0x2232+0x19ef+0x843));}get['volume'](){return this['_volume'];}set['positional'](_0x284a46){this['_positiona'+'l']=_0x284a46;const _0x232f83=this['_slots'];for(const _0x50d8ec in _0x232f83){const _0x41eb79=_0x232f83[_0x50d8ec];if(!_0x41eb79['overlap']){const _0x18c825=_0x41eb79['instances'],_0x23caeb=_0x18c825['length'];for(let _0x1bdfcc=_0x23caeb-(0x1f0a+0x65*0x5+-0x2102);_0x1bdfcc>=0x44+-0x49d*-0x2+-0x97e;_0x1bdfcc--){const _0x5f38ce=_0x18c825[_0x1bdfcc]['isPlaying']||_0x18c825[_0x1bdfcc]['isSuspende'+'d'],_0x1427dd=_0x18c825[_0x1bdfcc]['currentTim'+'e'];_0x5f38ce&&_0x18c825[_0x1bdfcc]['stop']();const _0x4b084d=_0x41eb79['_createIns'+'tance']();_0x5f38ce&&(_0x4b084d['play'](),_0x4b084d['currentTim'+'e']=_0x1427dd),_0x18c825['push'](_0x4b084d);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x24b5ad){const _0x109fba=this['_slots'];if(_0x109fba){for(const _0x5f09f3 in _0x109fba)_0x109fba[_0x5f09f3]['stop']();}const _0x7484f6={};for(const _0x4f0a71 in _0x24b5ad)_0x24b5ad[_0x4f0a71]instanceof er?_0x7484f6[_0x24b5ad[_0x4f0a71]['name']]=_0x24b5ad[_0x4f0a71]:_0x24b5ad[_0x4f0a71]['name']&&(_0x7484f6[_0x24b5ad[_0x4f0a71]['name']]=new er(this,_0x24b5ad[_0x4f0a71]['name'],_0x24b5ad[_0x4f0a71]));this['_slots']=_0x7484f6,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x5a808c=this['_slots'],_0x9a9d66=this['_playingBe'+'foreDisabl'+'e'];for(const _0x266dd9 in _0x5a808c){const _0x872304=_0x5a808c[_0x266dd9];_0x872304['autoPlay']&&_0x872304['isStopped']?_0x872304['play']():_0x9a9d66[_0x266dd9]?_0x872304['resume']():_0x872304['isLoaded']||_0x872304['load']();}}['onDisable'](){const _0x14a47c=this['_slots'],_0x5a8d77={};for(const _0x3c72e2 in _0x14a47c)_0x14a47c[_0x3c72e2]['overlap']||_0x14a47c[_0x3c72e2]['isPlaying']&&(_0x14a47c[_0x3c72e2]['pause'](),_0x5a8d77[_0x3c72e2]=!(0x1601+0x5*-0x4c7+0x2*0xf1));this['_playingBe'+'foreDisabl'+'e']=_0x5a8d77;}['onRemove'](){this['off']();}['addSlot'](_0x1713e9,_0x153e4a){const _0x321bb0=this['_slots'];if(_0x321bb0[_0x1713e9])return v['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x1713e9+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x29e0ac=new er(this,_0x1713e9,_0x153e4a);return _0x321bb0[_0x1713e9]=_0x29e0ac,_0x29e0ac['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x29e0ac['play'](),_0x29e0ac;}['removeSlot'](_0x378689){const _0x15b194=this['_slots'];_0x15b194[_0x378689]&&(_0x15b194[_0x378689]['stop'](),delete _0x15b194[_0x378689]);}['slot'](_0x130bc8){return this['_slots'][_0x130bc8];}['_getSlotPr'+'operty'](_0x26527e,_0x50b5e3){if(!this['enabled']||!this['entity']['enabled'])return;const _0x9b918d=this['_slots'][_0x26527e];if(!_0x9b918d){v['warn']('Trying\x20to\x20'+'get\x20'+_0x50b5e3+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x26527e+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x9b918d[_0x50b5e3];}['isPlaying'](_0x4ecaca){return this['_getSlotPr'+'operty'](_0x4ecaca,'isPlaying')||!(-0x1263+0x5c+0x1208);}['isLoaded'](_0x3af414){return this['_getSlotPr'+'operty'](_0x3af414,'isLoaded')||!(0x71*0x4+-0x69f+0x4dc);}['isPaused'](_0x4a1a18){return this['_getSlotPr'+'operty'](_0x4a1a18,'isPaused')||!(0x11*-0x77+0x5*0xa2+0x25f*0x2);}['isStopped'](_0x4a4ac9){return this['_getSlotPr'+'operty'](_0x4a4ac9,'isStopped')||!(-0x4ff*-0x7+0x2387+-0x467f);}['play'](_0x40c674){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x199f72=this['_slots'][_0x40c674];return _0x199f72?_0x199f72['play']():(v['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x40c674+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x279e0b){const _0x2778dd=this['_slots'];if(_0x279e0b){const _0x3a975e=_0x2778dd[_0x279e0b];if(!_0x3a975e){v['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x279e0b+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x3a975e['pause']();}else{for(const _0x49ee48 in _0x2778dd)_0x2778dd[_0x49ee48]['pause']();}}['resume'](_0x90a3da){const _0x2fec25=this['_slots'];if(_0x90a3da){const _0x227aa4=_0x2fec25[_0x90a3da];if(!_0x227aa4){v['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x90a3da+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x227aa4['isPaused']&&_0x227aa4['resume']();}else{for(const _0x41d9ff in _0x2fec25)_0x2fec25[_0x41d9ff]['resume']();}}['stop'](_0x5c05b1){const _0x3a8b7a=this['_slots'];if(_0x5c05b1){const _0xc06040=_0x3a8b7a[_0x5c05b1];if(!_0xc06040){v['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x5c05b1+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0xc06040['stop']();}else{for(const _0x42bf4e in _0x3a8b7a)_0x3a8b7a[_0x42bf4e]['stop']();}}}c(Nr,'EVENT_PLAY','play'),c(Nr,'EVENT_PAUS'+'E','pause'),c(Nr,'EVENT_RESU'+'ME','resume'),c(Nr,'EVENT_STOP','stop'),c(Nr,'EVENT_END','end');class kI{constructor(){this['enabled']=!(0x1237+-0x21d7+0x1f4*0x8);}}const xx=['enabled'];class BI extends Xe{constructor(_0x107d72){super(_0x107d72),this['id']='sound',this['ComponentT'+'ype']=Nr,this['DataType']=kI,this['schema']=xx,this['manager']=_0x107d72['soundManag'+'er'],v['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x304eb5){this['manager']['volume']=_0x304eb5;}get['volume'](){return this['manager']['volume'];}get['context'](){return Li()?this['manager']['context']:(v['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x344fd8,_0x49df35,_0x4aca3b){_0x4aca3b=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x2ec43e=0x12cb*-0x2+-0x24f+0x27e5*0x1;_0x2ec43e<_0x4aca3b['length'];_0x2ec43e++)_0x49df35['hasOwnProp'+'erty'](_0x4aca3b[_0x2ec43e])&&(_0x344fd8[_0x4aca3b[_0x2ec43e]]=_0x49df35[_0x4aca3b[_0x2ec43e]]);super['initialize'+'ComponentD'+'ata'](_0x344fd8,_0x49df35,['enabled']);}['cloneCompo'+'nent'](_0x2345d9,_0xa34fd7){const _0x500606=_0x2345d9['sound'],_0x24e414=_0x500606['slots'],_0x33be8c={};for(const _0x30243 in _0x24e414){const _0x3dbff2=_0x24e414[_0x30243];_0x33be8c[_0x30243]={'name':_0x3dbff2['name'],'volume':_0x3dbff2['volume'],'pitch':_0x3dbff2['pitch'],'loop':_0x3dbff2['loop'],'duration':_0x3dbff2['duration'],'startTime':_0x3dbff2['startTime'],'overlap':_0x3dbff2['overlap'],'autoPlay':_0x3dbff2['autoPlay'],'asset':_0x3dbff2['asset']};}const _0x32aff5={'distanceModel':_0x500606['distanceMo'+'del'],'enabled':_0x500606['enabled'],'maxDistance':_0x500606['maxDistanc'+'e'],'pitch':_0x500606['pitch'],'positional':_0x500606['positional'],'refDistance':_0x500606['refDistanc'+'e'],'rollOffFactor':_0x500606['rollOffFac'+'tor'],'slots':_0x33be8c,'volume':_0x500606['volume']};return this['addCompone'+'nt'](_0xa34fd7,_0x32aff5);}['onUpdate'](_0x2ac075){const _0x259cde=this['store'];for(const _0x150196 in _0x259cde)if(_0x259cde['hasOwnProp'+'erty'](_0x150196)){const _0x453ad8=_0x259cde[_0x150196]['entity'];if(_0x453ad8['enabled']){const _0x2f5a50=_0x453ad8['sound'];if(_0x2f5a50['enabled']&&_0x2f5a50['positional']){const _0x37e73b=_0x453ad8['getPositio'+'n'](),_0x2cc223=_0x2f5a50['slots'];for(const _0x401527 in _0x2cc223)_0x2cc223[_0x401527]['updatePosi'+'tion'](_0x37e73b);}}}}['onBeforeRe'+'move'](_0x2f6c9e,_0x2d8587){const _0x1f2a4d=_0x2d8587['slots'];for(const _0x27a801 in _0x1f2a4d)_0x1f2a4d[_0x27a801]['overlap']||_0x1f2a4d[_0x27a801]['stop']();_0x2d8587['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Nr['prototype'],xx);const Cg='simple',Mg='animated';class bi extends ce{constructor(_0x887be1,_0x311134){super(),c(this,'_evtSetMes'+'hes',null),(this['_component']=_0x887be1,this['_frame']=0x1c8d+0x13e4+-0x3071,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x311134['spriteAsse'+'t'],this['name']=_0x311134['name'],this['fps']=_0x311134['fps']||-0x1647+0xb*0x25a+-0x397,this['loop']=_0x311134['loop']||!(0x9*0x63+-0x6*0x3bc+0x1*0x12ee),this['_playing']=!(0x1987+-0x28a+-0x1*0x16fc),this['_paused']=!(-0x34d*-0xa+0x1*0xabf+0x14*-0x230),this['_time']=0xe9b*-0x2+-0x6e0+0x3e*0x95);}get['duration'](){if(this['_sprite']){const _0x4c8e87=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x4c8e87);}return 0x8*0xa+0xbf5*-0x1+0xba5;}set['frame'](_0x54d52d){this['_setFrame'](_0x54d52d);const _0x4bf5e3=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x4bf5e3);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x27f4fd){var _0x1fff5e;if(this['_sprite']&&((_0x1fff5e=this['_evtSetMes'+'hes'])==null||_0x1fff5e['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x27f4fd,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x3cba12;!_0x27f4fd||!_0x27f4fd['atlas']?(_0x3cba12=this['_component']['_meshInsta'+'nce'],_0x3cba12&&(_0x3cba12['deletePara'+'meter']('texture_em'+'issiveMap'),_0x3cba12['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x27f4fd['atlas']['texture']&&(_0x3cba12=this['_component']['_meshInsta'+'nce'],_0x3cba12&&(_0x3cba12['setParamet'+'er']('texture_em'+'issiveMap',_0x27f4fd['atlas']['texture']),_0x3cba12['setParamet'+'er']('texture_op'+'acityMap',_0x27f4fd['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x174ff8){const _0x196adb=this['_component']['system']['app']['assets'];let _0x52df75=_0x174ff8;if(_0x174ff8 instanceof le&&(_0x52df75=_0x174ff8['id']),this['_spriteAss'+'et']!==_0x52df75){if(this['_spriteAss'+'et']){const _0x3536b5=_0x196adb['get'](this['_spriteAss'+'et']);_0x3536b5&&this['_unbindSpr'+'iteAsset'](_0x3536b5);}if(this['_spriteAss'+'et']=_0x52df75,this['_spriteAss'+'et']){const _0x27a260=_0x196adb['get'](this['_spriteAss'+'et']);_0x27a260?this['_bindSprit'+'eAsset'](_0x27a260):(this['sprite']=null,_0x196adb['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x5af6c7){this['_setTime'](_0x5af6c7),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(-0xe5d*0x2+0x413*0x3+0x2*0x841),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=-0xa85*0x1+-0x395*0x1+0xe1a;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x5b336a){this['_component']['system']['app']['assets']['off']('add:'+_0x5b336a['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x5b336a['id']&&this['_bindSprit'+'eAsset'](_0x5b336a);}['_bindSprit'+'eAsset'](_0x439643){_0x439643['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x439643['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x439643['resource']?this['_onSpriteA'+'ssetLoad'](_0x439643):this['_component']['system']['app']['assets']['load'](_0x439643);}['_unbindSpr'+'iteAsset'](_0x4f7d82){_0x4f7d82&&(_0x4f7d82['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x4f7d82['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x4f7d82['resource']&&!_0x4f7d82['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x4f7d82['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x2c1929){if(!_0x2c1929['resource'])this['sprite']=null;else{if(_0x2c1929['resource']['atlas'])this['sprite']=_0x2c1929['resource'];else{const _0x427c29=_0x2c1929['data']['textureAtl'+'asAsset'],_0x56ed83=this['_component']['system']['app']['assets'];_0x56ed83['off']('load:'+_0x427c29,this['_onTexture'+'AtlasLoad'],this),_0x56ed83['once']('load:'+_0x427c29,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x308493){const _0xe62fee=this['_spriteAss'+'et'];_0xe62fee instanceof le?this['_onSpriteA'+'ssetLoad'](_0xe62fee):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0xe62fee));}['_onSpriteA'+'ssetRemove'](_0x3e0c0f){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==Ti&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x43d988){if(this['fps']===-0x2140+0x1*-0xb12+-0x3d*-0xba||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x3cc7d3=this['fps']<0x109f+0x1*-0x1a26+-0x9*-0x10f?-(0x25b8+-0x477+-0x2140):-0x4e*-0x2e+0x1404+-0x2207,_0x9459f6=this['_time']+_0x43d988*this['_component']['speed']*_0x3cc7d3,_0xb8f302=this['duration'],_0x5e9382=_0x9459f6>_0xb8f302||_0x9459f6<-0x1786+0x3*-0x74f+0x2d73;this['_setTime'](_0x9459f6);let _0x1eb143=this['frame'];this['_sprite']?_0x1eb143=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0xb8f302):_0x1eb143=0x3*0x1d6+-0x19*-0xce+-0x19a0,_0x1eb143!==this['_frame']&&this['_setFrame'](_0x1eb143),_0x5e9382&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(-0x414*-0x1+0x1efd+-0x108*0x22),this['_paused']=!(0x3*0x9c4+0x2289+0x14*-0x331),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x24f5fd){this['_time']=_0x24f5fd;const _0x600da1=this['duration'];this['_time']<0x1e20+0x1e6e+-0x3c8e?this['loop']?this['_time']=this['_time']%_0x600da1+_0x600da1:this['_time']=-0x202*-0x1+0x369*0x9+0xb*-0x2f9:this['_time']>_0x600da1&&(this['loop']?this['_time']%=_0x600da1:this['_time']=_0x600da1);}['_setFrame'](_0x130b99){this['_sprite']?this['_frame']=N['clamp'](_0x130b99,-0x17*0xab+0x438+0xb25*0x1,this['_sprite']['frameKeys']['length']-(0x389+0x2171+-0x24f9)):this['_frame']=_0x130b99,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x5eedd6=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x5eedd6['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(0xb6e+-0x2*-0x1322+-0x31b2),this['_paused']=!(-0x1518+0x204d+-0xb34),this['frame']=0x12b*0x16+0x1a69+0x1*-0x341b,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(0x13bb+0x56*0x3d+0x5bf*-0x7),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(-0x1*0x1890+-0x2b*0x2+-0x5*-0x4fb),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(-0x1d69+0xa46+0x1324),this['_paused']=!(-0x743+-0x1*0x1c7+0x1*0x90b),this['_time']=-0x134d+0x2459+0x443*-0x4,this['frame']=-0x3*-0x411+0x239c+-0x2fcf*0x1,this['fire']('stop'),this['_component']['fire']('stop',this));}}c(bi,'EVENT_PLAY','play'),c(bi,'EVENT_PAUS'+'E','pause'),c(bi,'EVENT_RESU'+'ME','resume'),c(bi,'EVENT_STOP','stop'),c(bi,'EVENT_END','end'),c(bi,'EVENT_LOOP','loop');const Pg='texture_em'+'issiveMap',Rg='texture_op'+'acityMap',Ig='material_e'+'missive',Dg='material_o'+'pacity',NI='innerOffse'+'t',zI='outerScale',UI='atlasRect';class ji extends ue{constructor(_0x312fc9,_0x5054f8){super(_0x312fc9,_0x5054f8),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_type']=Cg,this['_material']=_0x312fc9['defaultMat'+'erial'],this['_color']=new Y(-0x140+-0x113b+0x127c,-0x13a7*0x1+-0x1*0x745+0x3d*0x71,0x16*0x158+-0x100b+-0xad*0x14,0xd08+-0x26b+-0xa9c*0x1),this['_colorUnif'+'orm']=new Float32Array(0x1c23+-0x222f+-0xb*-0x8d),this['_speed']=0x571*-0x3+0x1*0xb6e+0x4e6,this['_flipX']=!(0x1*0x1efd+0x5*0x8+-0x1f24),this['_flipY']=!(-0x20b*0xf+0x2c8+0xdef*0x2),this['_width']=0x137e*0x2+-0x1*-0x1bd+-0x28b8,this['_height']=-0x2b*-0xd3+0x1d*-0xab+-0x1011,this['_drawOrder']=-0x2d5*-0x5+-0x1700+0x8d7,this['_layers']=[Fi],this['_outerScal'+'e']=new W(-0x2dd+0x1747+-0x1469,0x1190+0xfb*-0x1+-0x1094),this['_outerScal'+'eUniform']=new Float32Array(-0x1f0c+-0x648+0x12ab*0x2),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(0xbf5+0x449*0x1+0x81d*-0x2),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(-0x1f49*-0x1+-0x1349+-0xbfc),this['_batchGrou'+'pId']=-(-0x20da+-0x2*-0x32b+-0x3*-0x8d7),this['_batchGrou'+'p']=null,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x5054f8['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x5054f8,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(-0x1*0x23bd+-0x123c+0x35fa),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new bi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(-0x1c40+0x1c2f+0x9*0x2),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x54f1a7){this['_type']!==_0x54f1a7&&(this['_type']=_0x54f1a7,this['_type']===Cg?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===Mg&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x44b9c5){this['_currentCl'+'ip']['frame']=_0x44b9c5;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x3f5130){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x3f5130;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x27c514){this['_currentCl'+'ip']['sprite']=_0x27c514;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x20f4c0){this['_material']=_0x20f4c0,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x20f4c0);}get['material'](){return this['_material'];}set['color'](_0x51bd80){this['_color']['r']=_0x51bd80['r'],this['_color']['g']=_0x51bd80['g'],this['_color']['b']=_0x51bd80['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][-0xaf3+-0x11*-0x11b+-0x3ec*0x2]=this['_color']['r'],this['_colorUnif'+'orm'][0x1b37*-0x1+-0x6*-0x62e+-0x1*0x9dc]=this['_color']['g'],this['_colorUnif'+'orm'][-0x9e8+-0x1d8a+0x5*0x7e4]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x30c82d){this['_color']['a']=_0x30c82d,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](Dg,_0x30c82d);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x743f47){if(!_0x743f47){for(const _0x2c1c18 in this['_clips'])this['removeClip'](_0x2c1c18);return;}for(const _0x36a25f in this['_clips']){let _0x397033=!(-0x127f+-0x17*0x25+0x15d3);for(const _0x497e9f in _0x743f47)if(_0x743f47[_0x497e9f]['name']===_0x36a25f){_0x397033=!(-0xb*-0x1df+0x426*-0x1+0x106f*-0x1),this['_clips'][_0x36a25f]['fps']=_0x743f47[_0x497e9f]['fps'],this['_clips'][_0x36a25f]['loop']=_0x743f47[_0x497e9f]['loop'],_0x743f47[_0x497e9f]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x36a25f]['sprite']=_0x743f47[_0x497e9f]['sprite']:_0x743f47[_0x497e9f]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x36a25f]['spriteAsse'+'t']=_0x743f47[_0x497e9f]['spriteAsse'+'t']);break;}_0x397033||this['removeClip'](_0x36a25f);}for(const _0x2db1fc in _0x743f47)this['_clips'][_0x743f47[_0x2db1fc]['name']]||this['addClip'](_0x743f47[_0x2db1fc]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x5bac77){this['_speed']=_0x5bac77;}get['speed'](){return this['_speed'];}set['flipX'](_0x15ad98){this['_flipX']!==_0x15ad98&&(this['_flipX']=_0x15ad98,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x23f838){this['_flipY']!==_0x23f838&&(this['_flipY']=_0x23f838,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x4231ca){_0x4231ca!==this['_width']&&(this['_width']=_0x4231ca,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x1b0f96){_0x1b0f96!==this['_height']&&(this['_height']=_0x1b0f96,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x539fac){var _0x370da0,_0x3cf803;if(this['_batchGrou'+'pId']===_0x539fac)return;const _0x344660=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x539fac,this['entity']['enabled']&&_0x344660>=0x1ff5+-0x1077*0x1+-0xf7e&&((_0x370da0=this['system']['app']['batcher'])==null||_0x370da0['remove'](et['SPRITE'],_0x344660,this['entity'])),this['entity']['enabled']&&_0x539fac>=0x59*-0x3c+0x203*-0x1+-0x5*-0x493?(_0x3cf803=this['system']['app']['batcher'])==null||_0x3cf803['insert'](et['SPRITE'],_0x539fac,this['entity']):_0x344660>=-0x3df*-0x5+0xcfb+0x102b*-0x2&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x32ab6b){this['_autoPlayC'+'lip']=_0x32ab6b instanceof bi?_0x32ab6b['name']:_0x32ab6b,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x4b55c8){this['_drawOrder']=_0x4b55c8,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x4b55c8);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x5c1083){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x5c1083,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x55be6a;const _0x4b0666=this['system']['app'],_0x808f5e=_0x4b0666['scene'],_0x984ed8=_0x808f5e['layers'];this['_evtLayers'+'Changed']=_0x808f5e['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x984ed8&&(this['_evtLayerA'+'dded']=_0x984ed8['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x984ed8['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=-0x6ec*0x5+-0x56f*-0x2+-0x3f5*-0x6&&((_0x55be6a=_0x4b0666['batcher'])==null||_0x55be6a['insert'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x15c582,_0x42c346,_0x5e6c28,_0xa11cc3;const _0x804619=this['system']['app'],_0xc0706=_0x804619['scene']['layers'];(_0x15c582=this['_evtLayers'+'Changed'])==null||_0x15c582['off'](),this['_evtLayers'+'Changed']=null,_0xc0706&&((_0x42c346=this['_evtLayerA'+'dded'])==null||_0x42c346['off'](),this['_evtLayerA'+'dded']=null,(_0x5e6c28=this['_evtLayerR'+'emoved'])==null||_0x5e6c28['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=0x3*0x295+0xa63*0x2+-0x1c85&&((_0xa11cc3=_0x804619['batcher'])==null||_0xa11cc3['remove'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x179a75;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x5128a0 in this['_clips'])this['_clips'][_0x5128a0]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x179a75=this['_node'])==null||_0x179a75['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x5ca668=[this['_meshInsta'+'nce']];for(let _0x583686=-0x1d24+0xe5f+0xec5,_0x32a1c0=this['_layers']['length'];_0x583686<_0x32a1c0;_0x583686++){const _0x561582=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x583686]);_0x561582&&_0x561582['addMeshIns'+'tances'](_0x5ca668);}this['_addedMode'+'l']=!(0x827*0x3+0x1*0x1bc+0x5*-0x53d);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x4279aa=[this['_meshInsta'+'nce']];for(let _0x3565ef=0x1*0x26dd+0x2*-0x97d+-0x6a1*0x3,_0xcb4d0d=this['_layers']['length'];_0x3565ef<_0xcb4d0d;_0x3565ef++){const _0x4fca00=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x3565ef]);_0x4fca00&&_0x4fca00['removeMesh'+'Instances'](_0x4279aa);}this['_addedMode'+'l']=!(0x1*0x2660+-0x62e*-0x1+-0x1*0x2c8d);}['_showFrame'](_0x580845){if(!this['sprite'])return;const _0x5d6801=this['sprite']['meshes'][_0x580845];if(!_0x5d6801){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(0x5*0x3d7+0xd2a*0x1+-0x205c));return;}let _0x37c16b;if(this['sprite']['renderMode']===nt?_0x37c16b=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Qe?_0x37c16b=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x37c16b=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new Le(_0x5d6801,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(0x379*0x4+-0x1cf3+0xf1*0x10),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(0x1396+-0x127*0x10+-0x125),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][-0x1*-0x1119+0xfe5*-0x1+0x4*-0x4d]=this['_color']['r'],this['_colorUnif'+'orm'][0xfb6*-0x2+-0x2326+0x4293]=this['_color']['g'],this['_colorUnif'+'orm'][-0x6cb+0x172d+0x8*-0x20c]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](Dg,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x37c16b&&(this['_meshInsta'+'nce']['material']=_0x37c16b),this['_meshInsta'+'nce']['mesh']!==_0x5d6801&&(this['_meshInsta'+'nce']['mesh']=_0x5d6801,this['_meshInsta'+'nce']['visible']=!(-0x15e+-0x153f+0x169d),this['_meshInsta'+'nce']['_aabbVer']=-(-0x110+-0x1*0x108e+-0x119f*-0x1)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](Pg,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](Rg,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](Pg),this['_meshInsta'+'nce']['deletePara'+'meter'](Rg)),this['sprite']['atlas']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x44f80b=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x580845]];if(_0x44f80b){const _0x5b9aef=(-0x3e2+-0xc5*0x15+-0x1*-0x140d)/_0x44f80b['rect']['z'],_0x5d44cc=(0x7ac+0x18b3*0x1+-0x205d)/_0x44f80b['rect']['w'];this['_innerOffs'+'et']['set'](_0x44f80b['border']['x']*_0x5b9aef,_0x44f80b['border']['y']*_0x5d44cc,_0x44f80b['border']['z']*_0x5b9aef,_0x44f80b['border']['w']*_0x5d44cc);const _0x1a1f74=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x44f80b['rect']['x']/_0x1a1f74['width'],_0x44f80b['rect']['y']/_0x1a1f74['height'],_0x44f80b['rect']['z']/_0x1a1f74['width'],_0x44f80b['rect']['w']/_0x1a1f74['height']);}else this['_innerOffs'+'et']['set'](-0x7b*-0x3b+0x1ab*0x17+-0x42b6,0x33*-0x3+0x4*-0x58b+0x16c5,0xd79*0x2+-0x1684+-0x46e,0x1139*-0x2+-0x25b8+-0x3*-0x180e);this['_innerOffs'+'etUniform'][-0x1c6d+-0x1f3+0x1e60]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x3*0x3b3+0x12ee+-0x7d4]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x15bc+-0x2109+0xb4f*0x1]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x1*0x191b+-0x1465+-0x4b3]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](NI,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x2255+-0x7*0x430+0x3*0x1537]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x6f8*0x2+0xb9*0x1a+0x1*-0x20b9]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x1fb+0x47c*-0x5+0x1473]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0x6a1*-0x2+-0x3*0x6ab+0x2146]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](UI,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x4c6315=this['flipX']?-(-0x1c2b+0x1cee+-0xc2):0xcce+0x4d*-0x35+0x4*0xc9,_0x323177=this['flipY']?-(0x1993+-0x179d+-0x1f5):-0x1b3a+0x9*0x275+0x51e,_0x190e33=-0x1471*0x1+0x1e26+-0x9b5,_0x314c99=-0x5f*-0x6+-0xae8+0x8ae*0x1;if(this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){let _0x3932c0=0xde7*0x2+0x4*0x2aa+0x37f*-0xb,_0x540bc7=0x1d02+0x9dd+-0x1*0x26de;if(this['sprite']['atlas']){const _0x423f70=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x423f70&&(_0x3932c0=_0x423f70['rect']['z'],_0x540bc7=_0x423f70['rect']['w'],_0x190e33=(0xffc+0x2639+0x1*-0x3635+0.5-_0x423f70['pivot']['x'])*this['_width'],_0x314c99=(0x8*-0x313+-0x331+0x1bc9*0x1+0.5-_0x423f70['pivot']['y'])*this['_height']);}const _0xf696f5=_0x3932c0/this['sprite']['pixelsPerU'+'nit'],_0x43b4be=_0x540bc7/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0xf696f5),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x43b4be)),_0x4c6315*=_0xf696f5,_0x323177*=_0x43b4be,this['_outerScal'+'e']['x']/=_0xf696f5,this['_outerScal'+'e']['y']/=_0x43b4be,_0x4c6315*=N['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0xf696f5),0x1afe+-0xa6*-0xc+-0x1*0x22c6+0.0001,-0x1d71+-0x72c+0x2b*0xda),_0x323177*=N['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x43b4be),-0x29*-0xa7+0x1413+-0x2ed2+0.0001,0x104e+-0x942+0x259*-0x3),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][-0x11*0x9+0x3c6*-0x9+-0x1*-0x228f]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x11d2+0x1a99+-0x2c6a]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](zI,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x4c6315,_0x323177,0x3*-0x139+0x2*0xb+-0x2*-0x1cb),this['_node']['setLocalPo'+'sition'](_0x190e33,_0x314c99,-0x129e+-0x3af*-0x8+-0xada);}['_updateAab'+'b'](_0x1ac981){return _0x1ac981['center']['set'](-0x1bfa+0x259c+-0x9a2,-0x1d1+0x3*0x430+0x395*-0x3,-0x1*0x997+0x14a7+0x18*-0x76),_0x1ac981['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x1039+0x1*-0x891+0x18ca+0.5),this['_outerScal'+'e']['y']*(0x1d27*-0x1+-0x1468+-0x3*-0x1085+0.5),-0x2548+0x250b+-0x3d*-0x1+0.001),_0x1ac981['setFromTra'+'nsformedAa'+'bb'](_0x1ac981,this['_node']['getWorldTr'+'ansform']()),_0x1ac981;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==Mg)return;const _0x120b2f=this['_clips'][this['_autoPlayC'+'lip']];_0x120b2f&&!_0x120b2f['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x120b2f['name']);}['_onLayersC'+'hanged'](_0x1106cd,_0x1cdff8){_0x1106cd['off']('add',this['onLayerAdd'+'ed'],this),_0x1106cd['off']('remove',this['onLayerRem'+'oved'],this),_0x1cdff8['on']('add',this['onLayerAdd'+'ed'],this),_0x1cdff8['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x3f9c64){this['layers']['indexOf'](_0x3f9c64['id'])<0x3c+0x4a*-0x6+0x180||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x3f9c64['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x25852e){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x25852e['id'])<-0x1589+0x1c0f+-0x14e*0x5||_0x25852e['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x457b5d=0xbf6+0x1*0x101f+-0x1c15;_0x457b5d<this['layers']['length'];_0x457b5d++){const _0x480dbf=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x457b5d]);_0x480dbf&&_0x480dbf['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x2498f4){const _0x36cb14=new bi(this,{'name':_0x2498f4['name'],'fps':_0x2498f4['fps'],'loop':_0x2498f4['loop'],'spriteAsset':_0x2498f4['spriteAsse'+'t']});return this['_clips'][_0x2498f4['name']]=_0x36cb14,_0x36cb14['name']&&_0x36cb14['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x36cb14;}['removeClip'](_0x5c813f){delete this['_clips'][_0x5c813f];}['clip'](_0x42f267){return this['_clips'][_0x42f267];}['play'](_0x4cac2c){const _0x29cd2d=this['_clips'][_0x4cac2c],_0xad23e4=this['_currentCl'+'ip'];return _0xad23e4&&_0xad23e4!==_0x29cd2d&&(_0xad23e4['_playing']=!(-0x32b*0x3+-0x7e8+0x116a)),this['_currentCl'+'ip']=_0x29cd2d,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x29cd2d,this['_currentCl'+'ip']['play']()):v['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x4cac2c+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x29cd2d;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}c(ji,'EVENT_PLAY','play'),c(ji,'EVENT_PAUS'+'E','pause'),c(ji,'EVENT_RESU'+'ME','resume'),c(ji,'EVENT_STOP','stop'),c(ji,'EVENT_END','end'),c(ji,'EVENT_LOOP','loop');class VI{constructor(){this['enabled']=!(0x188+0x6*0x3d2+-0x1874);}}const Sx=['enabled'];class GI extends Xe{constructor(_0xbcde3c){super(_0xbcde3c),this['id']='sprite',this['ComponentT'+'ype']=ji,this['DataType']=VI,this['schema']=Sx,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x591f46){this['_defaultMa'+'terial']=_0x591f46;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x51e4fd=new he(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':Se,'name':'sprite'}),_0x482879=new Uint8Array(_0x51e4fd['lock']());_0x482879[-0x260c+-0x1f0d*0x1+0x1*0x4519]=_0x482879[0x9*0x25+-0x14*0x14b+0x1890]=_0x482879[-0x119*-0x8+0x52c+-0xdf2]=_0x482879[-0x365*0x4+0xb0*0x2a+-0x7*0x22f]=-0x9b*0xd+-0x26fd*0x1+0x1*0x2fdb,_0x51e4fd['unlock']();const _0x50811b=new cs();_0x50811b['diffuse']['set'](-0x5*-0x125+-0x1e38+0x187f,0x5e8+0x53a+0x1e*-0x5f,0x1*-0x1c38+0xa6f+0x11c9),_0x50811b['emissive']['set'](-0x5*0x69+0xdca+-0xbbc,0x45f+0x1257+-0x16b5,0x7fc+0x56+-0x851*0x1),_0x50811b['emissiveMa'+'p']=_0x51e4fd,_0x50811b['opacityMap']=_0x51e4fd,_0x50811b['opacityMap'+'Channel']='a',_0x50811b['useLightin'+'g']=!(0x1*0xbd9+0x1*-0x38c+-0x84c),_0x50811b['useTonemap']=!(0x1*0x229f+-0x1bf*-0x3+-0x27db),_0x50811b['useFog']=!(-0x21c8+-0x47*0xf+-0x25f2*-0x1),_0x50811b['useSkybox']=!(-0x1ccd*-0x1+-0x5*-0x7cd+-0x43cd),_0x50811b['blendType']=hr,_0x50811b['depthWrite']=!(0xbbd*0x2+0x647*-0x5+0x7ea),_0x50811b['pixelSnap']=!(-0x142b+0x1b64*-0x1+-0x2f9*-0x10),_0x50811b['cull']=mt,_0x50811b['update'](),this['_defaultTe'+'xture']=_0x51e4fd,this['_defaultMa'+'terial']=_0x50811b;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x5efc20){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x5efc20;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x2c90bf=this['defaultMat'+'erial']['clone']();_0x2c90bf['nineSliced'+'Mode']=nt,_0x2c90bf['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x2c90bf;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x151b67){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x151b67;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x14e602=this['defaultMat'+'erial']['clone']();_0x14e602['nineSliced'+'Mode']=Qe,_0x14e602['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x14e602;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x444da4,_0x2b5f88,_0x96bf97){if(_0x2b5f88['enabled']!==void(-0x1305+0x2*-0x1279+0x1*0x37f7)&&(_0x444da4['enabled']=_0x2b5f88['enabled']),_0x444da4['type']=_0x2b5f88['type'],_0x2b5f88['layers']&&Array['isArray'](_0x2b5f88['layers'])&&(_0x444da4['layers']=_0x2b5f88['layers']['slice'](-0x1*0x2443+0x295*-0xf+0x4afe)),_0x2b5f88['drawOrder']!==void(0xaea*-0x2+0x99e+0xc36)&&(_0x444da4['drawOrder']=_0x2b5f88['drawOrder']),_0x2b5f88['color']!==void(0x1*-0x75b+0x3c1+0x39a)&&(_0x2b5f88['color']instanceof Y?_0x444da4['color']['set'](_0x2b5f88['color']['r'],_0x2b5f88['color']['g'],_0x2b5f88['color']['b'],_0x2b5f88['opacity']??0xd*-0x24b+0x1336+0x1*0xa9a):_0x444da4['color']['set'](_0x2b5f88['color'][-0x1340+-0x116b*0x1+0x95*0x3f],_0x2b5f88['color'][0xbdf+0x2da+-0xeb8],_0x2b5f88['color'][0x9a4+-0x26*0xcc+0x14a6],_0x2b5f88['opacity']??-0x49a+-0x2*-0x130a+-0xb*0x30b),_0x444da4['color']=_0x444da4['color']),_0x2b5f88['opacity']!==void(0x1*0x31d+-0xca5*0x2+0x32b*0x7)&&(_0x444da4['opacity']=_0x2b5f88['opacity']),_0x2b5f88['flipX']!==void(0x2*0x3+-0x2e7*-0x9+0x17*-0x123)&&(_0x444da4['flipX']=_0x2b5f88['flipX']),_0x2b5f88['flipY']!==void(-0x6f*0x45+-0xc+0x1df7)&&(_0x444da4['flipY']=_0x2b5f88['flipY']),_0x2b5f88['width']!==void(-0x29*0xee+-0x338*-0x8+0x1*0xc5e)&&(_0x444da4['width']=_0x2b5f88['width']),_0x2b5f88['height']!==void(-0x4*-0x551+0x936+-0x1e7a*0x1)&&(_0x444da4['height']=_0x2b5f88['height']),_0x2b5f88['spriteAsse'+'t']!==void(0x3*0x3c4+0x5*0x31+0xc41*-0x1)&&(_0x444da4['spriteAsse'+'t']=_0x2b5f88['spriteAsse'+'t']),_0x2b5f88['sprite']&&(_0x444da4['sprite']=_0x2b5f88['sprite']),_0x2b5f88['frame']!==void(-0x3b3*-0x3+0xe08+-0x1921)&&(_0x444da4['frame']=_0x2b5f88['frame']),_0x2b5f88['clips']){for(const _0x159512 in _0x2b5f88['clips'])_0x444da4['addClip'](_0x2b5f88['clips'][_0x159512]);}_0x2b5f88['speed']!==void(0x85*0x49+-0x163d*-0x1+0x12e*-0x33)&&(_0x444da4['speed']=_0x2b5f88['speed']),_0x2b5f88['autoPlayCl'+'ip']&&(_0x444da4['autoPlayCl'+'ip']=_0x2b5f88['autoPlayCl'+'ip']),_0x444da4['batchGroup'+'Id']=_0x2b5f88['batchGroup'+'Id']===void(0x2305+0x83*0x1b+0x30d6*-0x1)||_0x2b5f88['batchGroup'+'Id']===null?-(0xa6*-0x1d+0x59a+0xd35):_0x2b5f88['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x444da4,_0x2b5f88,_0x96bf97);}['cloneCompo'+'nent'](_0x59c451,_0x5c3223){const _0x342720=_0x59c451['sprite'];return this['addCompone'+'nt'](_0x5c3223,{'enabled':_0x342720['enabled'],'type':_0x342720['type'],'spriteAsset':_0x342720['spriteAsse'+'t'],'sprite':_0x342720['sprite'],'width':_0x342720['width'],'height':_0x342720['height'],'frame':_0x342720['frame'],'color':_0x342720['color']['clone'](),'opacity':_0x342720['opacity'],'flipX':_0x342720['flipX'],'flipY':_0x342720['flipY'],'speed':_0x342720['speed'],'clips':_0x342720['clips'],'autoPlayClip':_0x342720['autoPlayCl'+'ip'],'batchGroupId':_0x342720['batchGroup'+'Id'],'drawOrder':_0x342720['drawOrder'],'layers':_0x342720['layers']['slice'](0xe82+-0x1357*-0x1+-0x21d9)});}['onUpdate'](_0x4383c5){const _0x1e0f78=this['store'];for(const _0x6ba01a in _0x1e0f78)if(_0x1e0f78['hasOwnProp'+'erty'](_0x6ba01a)){const _0x2451f0=_0x1e0f78[_0x6ba01a];if(_0x2451f0['data']['enabled']&&_0x2451f0['entity']['enabled']){const _0x14dd7f=_0x2451f0['entity']['sprite'];_0x14dd7f['_currentCl'+'ip']&&_0x14dd7f['_currentCl'+'ip']['_update'](_0x4383c5);}}}['onBeforeRe'+'move'](_0x181b40,_0x33abb2){_0x33abb2['onDestroy']();}}ue['_buildAcce'+'ssors'](ji['prototype'],Sx);class ra extends ue{constructor(_0x5e7641,_0x54e27f){super(_0x5e7641,_0x54e27f),this['_oldState']=!(-0x1f40+0x1078+0xec8),this['_size']=new T(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x5c1891){_0x5c1891 instanceof T?this['_size']['copy'](_0x5c1891):_0x5c1891 instanceof Array&&_0x5c1891['length']>=-0x10cd+0x1d9b+0x28f*-0x5&&this['size']['set'](_0x5c1891[-0x1*0x81d+-0x2*0x305+0xe27*0x1],_0x5c1891[0x3*-0xce5+-0x29*-0xe0+-0x12*-0x28],_0x5c1891[-0x22*-0x37+-0xb61+0x415]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x58df1c,_0x251dda,_0x1b0efa){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x5afc98=this['enabled']&&this['entity']['enabled'];_0x5afc98!==this['_oldState']&&(this['_oldState']=_0x5afc98,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}c(ra,'EVENT_ENAB'+'LE','enable'),c(ra,'EVENT_DISA'+'BLE','disable'),c(ra,'EVENT_STAT'+'E','state'),c(ra,'EVENT_REMO'+'VE','remove');class HI{constructor(){this['enabled']=!(0x23a2+-0x41c+0x10d*-0x1e);}}const vx=['enabled'];class WI extends Xe{constructor(_0x50c8c5){super(_0x50c8c5),this['id']='zone',this['ComponentT'+'ype']=ra,this['DataType']=HI,this['schema']=vx,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x5ac39f,_0x1989a6,_0x33d5fb){_0x5ac39f['enabled']=_0x1989a6['hasOwnProp'+'erty']('enabled')?!!_0x1989a6['enabled']:!(0xfec*-0x2+0x10e3+0xef5*0x1),_0x1989a6['size']&&(_0x1989a6['size']instanceof T?_0x5ac39f['size']['copy'](_0x1989a6['size']):_0x1989a6['size']instanceof Array&&_0x1989a6['size']['length']>=0x5*0x12c+0x1*-0x1d5f+0x1786&&_0x5ac39f['size']['set'](_0x1989a6['size'][0x10ef+0x2df*-0x9+0x8e8],_0x1989a6['size'][-0x9ac*-0x1+0x1*0x177+-0xb22],_0x1989a6['size'][0xcf6+-0x1602+0x7a*0x13]));}['cloneCompo'+'nent'](_0x232765,_0x51111c){const _0x5e587c={'enabled':_0x232765['zone']['enabled'],'size':_0x232765['zone']['size']};return this['addCompone'+'nt'](_0x51111c,_0x5e587c);}['_onBeforeR'+'emove'](_0x35f701,_0x98176d){_0x98176d['_onBeforeR'+'emove']();}}ue['_buildAcce'+'ssors'](ra['prototype'],vx);class $I{constructor(_0x24e859,_0x5855e9){this['effect']=_0x24e859,this['inputTarge'+'t']=_0x5855e9,this['outputTarg'+'et']=null,this['name']=_0x24e859['constructo'+'r']['name'];}}class qI{constructor(_0x543880,_0x458756){this['app']=_0x543880,this['camera']=_0x458756,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(-0x3*-0x196+-0x1e8b+0x19ca*0x1),this['depthTarge'+'t']=null,_0x458756['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x273da8,_0x36b03c){const _0xedba0d=this['camera']['rect'],_0x3c71af=this['destinatio'+'nRenderTar'+'get'],_0x40c9f3=this['app']['graphicsDe'+'vice'],_0x16b3d9=Math['floor'](_0xedba0d['z']*((_0x3c71af==null?void(0x327+-0x121*-0xc+0x1*-0x10b3):_0x3c71af['width'])??_0x40c9f3['width'])),_0x376f21=Math['floor'](_0xedba0d['w']*((_0x3c71af==null?void(-0x1fd*0x3+0x9d3+-0x3dc):_0x3c71af['height'])??_0x40c9f3['height']));return new he(_0x40c9f3,{'name':_0x36b03c,'format':_0x273da8,'width':_0x16b3d9,'height':_0x376f21,'mipmaps':!(-0xe0e+-0x2*0x2d5+0x13b9),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['_createOff'+'screenTarg'+'et'](_0x2491dd,_0x16f966){const _0xe5b1d=this['app']['graphicsDe'+'vice'],_0x4e1999=(this['destinatio'+'nRenderTar'+'get']??_0xe5b1d['backBuffer'])['isColorBuf'+'ferSrgb'](0x17b4+0x1*0x24a1+-0x3c55),_0x3c253f=(_0x16f966&&_0xe5b1d['getRendera'+'bleHdrForm'+'at']([Je,Ke],!(0x91*0x2b+0x1d16+0x3571*-0x1)))??(_0x4e1999?rs:Se),_0x56adae=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x47f2ce=this['_allocateC'+'olorBuffer'](_0x3c253f,_0x56adae);return new pt({'colorBuffer':_0x47f2ce,'depth':_0x2491dd,'stencil':_0x2491dd&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x2491dd?_0xe5b1d['samples']:-0x1ce4+0x1*-0x1475+0x315a});}['_resizeOff'+'screenTarg'+'et'](_0x22de8c){const _0x758df4=_0x22de8c['colorBuffe'+'r']['format'],_0x2ddac7=_0x22de8c['colorBuffe'+'r']['name'];_0x22de8c['destroyFra'+'meBuffers'](),_0x22de8c['destroyTex'+'tureBuffer'+'s'](),_0x22de8c['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x758df4,_0x2ddac7),_0x22de8c['_colorBuff'+'ers']=[_0x22de8c['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x2ee7b0){_0x2ee7b0['destroyTex'+'tureBuffer'+'s'](),_0x2ee7b0['destroy']();}['addEffect'](_0x2b058a){const _0x32c6c5=this['effects'],_0x41e86b=_0x32c6c5['length']===-0x338*-0xb+0xaef+-0x2e57,_0x8a428e=this['_createOff'+'screenTarg'+'et'](_0x41e86b,_0x2b058a['hdr']),_0x37294d=new $I(_0x2b058a,_0x8a428e);_0x32c6c5['push'](_0x37294d),this['_sourceTar'+'get']=_0x37294d['inputTarge'+'t'],_0x32c6c5['length']>0x9b5+-0x91e+-0x6*0x19&&(_0x32c6c5[_0x32c6c5['length']-(-0x1737+0x25c6+-0xe8d)]['outputTarg'+'et']=_0x37294d['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x2b058a,_0x2b058a['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(0x4*-0x496+0x25ae+-0x1356);}['removeEffe'+'ct'](_0x282205){let _0x2706e4=-(0x79f*0x2+0x1*-0x201a+0x10dd*0x1);for(let _0x4a7420=0x5*-0xfb+-0x1d7*0xd+0x1cd2,_0x2545cc=this['effects']['length'];_0x4a7420<_0x2545cc;_0x4a7420++)if(this['effects'][_0x4a7420]['effect']===_0x282205){_0x2706e4=_0x4a7420;break;}_0x2706e4>=-0x8cf+-0x669*0x4+0x2273&&(_0x2706e4>-0x267f+-0xad*-0x6+0x2271?this['effects'][_0x2706e4-(-0x12a5*-0x1+-0x7*0x4e9+0x1*0xfbb)]['outputTarg'+'et']=_0x2706e4+(0x1*0x22bf+0x2*0x63b+-0x2*0x179a)<this['effects']['length']?this['effects'][_0x2706e4+(0x11*-0xf5+-0x1*0x2135+0x317b)]['inputTarge'+'t']:null:this['effects']['length']>-0x1e87+-0x5*0x37b+-0x7*-0x6d9&&(this['effects'][-0x1*-0x606+-0x1f99+0x1994]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][0x1502*0x1+0x441+-0x1942]['inputTarge'+'t']),this['effects'][0x1988+-0x13f0+-0x1dd*0x3]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(0xcca+-0x9f*0x13+0xb*-0x17),this['effects'][-0x25f8+0x130f+-0x21a*-0x9]['hdr']),this['_sourceTar'+'get']=this['effects'][0x21d6*0x1+-0x1*0xf22+-0x1*0x12b3]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][0x19dc+-0x106*0xf+0x1*-0xa81]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x2706e4]['inputTarge'+'t']),this['effects']['splice'](_0x2706e4,-0x4*0x3b+0x1*-0x2b1+0x39e)),this['enabled']&&_0x282205['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===-0x1301+-0x2*-0x1af+-0xfa3*-0x1&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x572490=0x19bf+0x47+-0xd03*0x2,_0x5093b0=this['effects']['length'];_0x572490<_0x5093b0;_0x572490++){const _0x530bfb=this['effects'][_0x572490]['effect'];this['_newPostEf'+'fect']!==_0x530bfb&&_0x530bfb['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x58be1b=0x16b2+-0xf61+-0x751,_0x562323=this['effects']['length'];_0x58be1b<_0x562323;_0x58be1b++)this['effects'][_0x58be1b]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x5e8dfe=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x5e8dfe&&(_0x5e8dfe['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x23a8+0xaab+0xb1*-0x43)));}['_releaseDe'+'pthMap'](){const _0x3c60c8=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x3c60c8&&(_0x3c60c8['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x3ef+-0x1*0x12b5+-0x1*-0xec7)));}['destroy'](){for(let _0x24c96b=0x167b+-0x1*0x8f+0x4*-0x57b,_0x29a150=this['effects']['length'];_0x24c96b<_0x29a150;_0x24c96b++)this['effects'][_0x24c96b]['inputTarge'+'t']['destroy']();this['effects']['length']=0x1*0x25fd+0xa07+-0x1*0x3004,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(-0x1716+0x2*-0xa20+0x2b56),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][0x3*0x234+-0x1*-0x14cc+-0x36d*0x8]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x47d8dd=null;const _0x359169=this['effects']['length'];if(_0x359169)for(let _0x4dfac2=0x23bf+0x2539+0x1d3*-0x28;_0x4dfac2<_0x359169;_0x4dfac2++){const _0x4cae5f=this['effects'][_0x4dfac2];let _0x3dd3b7=_0x4cae5f['outputTarg'+'et'];_0x4dfac2===_0x359169-(-0xe90+0x11be+-0x1*0x32d)&&(_0x47d8dd=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x3dd3b7=this['destinatio'+'nRenderTar'+'get'])),G['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x4cae5f['name']),_0x4cae5f['effect']['render'](_0x4cae5f['inputTarge'+'t'],_0x3dd3b7,_0x47d8dd),G['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(-0x1e49+0xaac*0x3+-0x11*0x1a),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x3ee462,_0x565f6a){const _0x1a5ca0=this['camera']['rect'],_0x163b4c=this['destinatio'+'nRenderTar'+'get'];_0x3ee462=(_0x163b4c==null?void(-0x223*-0x3+-0x2091+0x1*0x1a28):_0x163b4c['width'])??_0x3ee462,_0x565f6a=(_0x163b4c==null?void(-0x25a2*0x1+-0x1b24+0x1*0x40c6):_0x163b4c['height'])??_0x565f6a,this['camera']['camera']['aspectRati'+'o']=_0x3ee462*_0x1a5ca0['z']/(_0x565f6a*_0x1a5ca0['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x2cd578=this['app']['graphicsDe'+'vice'],_0x1bbef8=this['destinatio'+'nRenderTar'+'get'],_0x5b49bd=(_0x1bbef8==null?void(0x5*-0x116+-0x22c*0xe+0x23d6):_0x1bbef8['width'])??_0x2cd578['width'],_0x2bd74=(_0x1bbef8==null?void(0x1124*0x1+0x21f8*-0x1+-0x1*-0x10d4):_0x1bbef8['height'])??_0x2cd578['height'],_0x255856=this['camera']['rect'],_0x1f458b=Math['floor'](_0x255856['z']*_0x5b49bd),_0x421134=Math['floor'](_0x255856['w']*_0x2bd74),_0x559031=this['effects'];for(let _0x238a6a=0xc6a+0x1704+-0x236e,_0x146d59=_0x559031['length'];_0x238a6a<_0x146d59;_0x238a6a++){const _0x1c0eaa=_0x559031[_0x238a6a];(_0x1c0eaa['inputTarge'+'t']['width']!==_0x1f458b||_0x1c0eaa['inputTarge'+'t']['height']!==_0x421134)&&this['_resizeOff'+'screenTarg'+'et'](_0x1c0eaa['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x5f88bf,_0x547c91,_0x419ed1){this['enabled']&&this['resizeRend'+'erTargets']();}}class bx extends ue{constructor(_0xf5f5b8,_0x4e578e){super(_0xf5f5b8,_0x4e578e),c(this,'onPostproc'+'essing',null),c(this,'_renderSce'+'neDepthMap',0x5*0x77e+0x1a69+0x3fdf*-0x1),c(this,'_renderSce'+'neColorMap',-0x14ab+0x291+0x121a),c(this,'_sceneDept'+'hMapReques'+'ted',!(-0x11a+-0xcb*-0x10+-0x5*0x251)),c(this,'_sceneColo'+'rMapReques'+'ted',!(-0x1*-0x15a0+-0xba9+-0x9f6)),c(this,'_priority',-0x12b4+-0x4*-0x6d9+-0x8b0),c(this,'_disablePo'+'stEffectsL'+'ayer',tl),c(this,'_camera',new ol()),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x4e578e,this['_postEffec'+'ts']=new qI(_0xf5f5b8['app'],this));}['setShaderP'+'ass'](_0x308119){const _0x2746a2=Ks['get'](this['system']['app']['graphicsDe'+'vice']),_0x47a2db=_0x308119?_0x2746a2['allocate'](_0x308119,{'isForward':!(0x22b*0xf+0x14ee+-0x1*0x3573)}):null;return this['_camera']['shaderPass'+'Info']=_0x47a2db,_0x47a2db['index'];}['getShaderP'+'ass'](){var _0x449791;return(_0x449791=this['_camera']['shaderPass'+'Info'])==null?void(0x1bda+0xe73+0x60b*-0x7):_0x449791['name'];}set['renderPass'+'es'](_0x2b7172){this['_camera']['renderPass'+'es']=_0x2b7172||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(-0x17*-0x9d+0x2409+-0x3224);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x7a42cf){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x7a42cf;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x3f1950){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x3f1950;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x1798d1){this['_camera']['fogParams']=_0x1798d1;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0xf812a1){this['_camera']['aperture']=_0xf812a1;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x39f9fd){this['_camera']['aspectRati'+'o']=_0x39f9fd;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x15185f){this['_camera']['aspectRati'+'oMode']=_0x15185f;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x36dd68){this['_camera']['calculateP'+'rojection']=_0x36dd68;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x321e99){this['_camera']['calculateT'+'ransform']=_0x321e99;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x1f0b9b){this['_camera']['clearColor']=_0x1f0b9b;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x3b0f7a){this['_camera']['clearColor'+'Buffer']=_0x3b0f7a,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x3e6843){this['_camera']['clearDepth'+'Buffer']=_0x3e6843,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x4ba72e){this['_camera']['clearStenc'+'ilBuffer']=_0x4ba72e,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x106b64){this['_camera']['cullFaces']=_0x106b64;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x3adce5){this['_disablePo'+'stEffectsL'+'ayer']=_0x3adce5,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x5b4bdb){this['_camera']['farClip']=_0x5b4bdb;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x42ae92){this['_camera']['flipFaces']=_0x42ae92;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x5456b3){this['_camera']['fov']=_0x5456b3;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x28bb7a){this['_camera']['frustumCul'+'ling']=_0x28bb7a;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x28ae82){this['_camera']['horizontal'+'Fov']=_0x28ae82;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x5b0bfb){const _0x558e8c=this['_camera']['layers'],_0x4f3f30=this['system']['app']['scene'];_0x558e8c['forEach'](_0x20e772=>{const _0x92bc02=_0x4f3f30['layers']['getLayerBy'+'Id'](_0x20e772);_0x92bc02==null||_0x92bc02['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x5b0bfb,this['enabled']&&this['entity']['enabled']&&_0x5b0bfb['forEach'](_0x21765c=>{const _0x514623=_0x4f3f30['layers']['getLayerBy'+'Id'](_0x21765c);_0x514623==null||_0x514623['addCamera'](this);});}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x33f575){this['_camera']['jitter']=_0x33f575;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x509be9){this['_camera']['nearClip']=_0x509be9;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x41544e){this['_camera']['orthoHeigh'+'t']=_0x41544e;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x31404a){this['_priority']=_0x31404a,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x270a47){this['_camera']['projection']=_0x270a47;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x252a26){this['_camera']['rect']=_0x252a26,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x56b6dd){_0x56b6dd&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(-0x67*-0x35+-0x16a*-0x15+-0x3305)),this['_sceneColo'+'rMapReques'+'ted']=!(0xde4+-0x1*-0x135f+-0x2143)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(-0xfaf+0xc65+0x34b)),this['_sceneColo'+'rMapReques'+'ted']=!(-0x17e1*0x1+0x1545*0x1+0xdf*0x3));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>0x1*-0x3d+0xbf5+-0x4b*0x28;}set['renderScen'+'eDepthMap'](_0x60d076){_0x60d076&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(0x24fa*-0x1+-0x3*-0x9a9+-0x17*-0x59)),this['_sceneDept'+'hMapReques'+'ted']=!(0xb84+-0x2c*-0xb5+0x3e0*-0xb)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(0x1*-0x1f71+0x6a*-0x26+0x2f2e)),this['_sceneDept'+'hMapReques'+'ted']=!(-0x1207+-0x35a+0x17*0xee));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0x1f*-0x83+0x2119+-0x113c;}set['renderTarg'+'et'](_0x1028c1){v['call'](()=>{this['_camera']['renderPass'+'es']['length']>0x127d+-0x1*-0xb75+-0x2*0xef9&&v['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x1028c1,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x49ef68){this['_camera']['scissorRec'+'t']=_0x49ef68;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0xbcc56b){this['_camera']['sensitivit'+'y']=_0xbcc56b;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x441ccb){this['_camera']['shutter']=_0x441ccb;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x1a44a4){if(this['layers']['find'](_0x5ee282=>_0x5ee282===Xt)){const _0x85acb=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x1a44a4?_0x85acb==null||_0x85acb['incrementC'+'ounter']():_0x85acb==null||_0x85acb['decrementC'+'ounter']();}else{if(_0x1a44a4)return!(-0xa*-0x11e+-0x5*0x7f+-0x8b0);}return!(-0xd87*-0x2+0x14b1+-0x2fbf);}['requestSce'+'neColorMap'](_0x496466){this['_renderSce'+'neColorMap']+=_0x496466?0x22d1+0x117*-0xb+-0x16d3:-(-0x8a8+-0x1ca1+0x254a),v['assert'](this['_renderSce'+'neColorMap']>=-0x11de+-0x7e1+0x27*0xa9),this['_enableDep'+'thLayer'](_0x496466)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']);}['requestSce'+'neDepthMap'](_0x412e29){this['_renderSce'+'neDepthMap']+=_0x412e29?0x1*-0x155c+-0xb4*-0x16+0x5e5:-(0x2152*0x1+0x932+-0x2a83*0x1),v['assert'](this['_renderSce'+'neDepthMap']>=-0x26*0x106+-0x7a9*-0x1+0x1f3b),this['_enableDep'+'thLayer'](_0x412e29)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']);}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x24ab2c=this['system']['app']['scene']['layers'];_0x24ab2c['_dirty']=!(-0x10a6+-0xddf+0x1e85*0x1);}['screenToWo'+'rld'](_0x1aaccc,_0x599c54,_0x1eb036,_0x15452c){const _0x17695a=this['system']['app']['graphicsDe'+'vice'],{width:_0x77b738,height:_0x2a17c7}=_0x17695a['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x1aaccc,_0x599c54,_0x1eb036,_0x77b738,_0x2a17c7,_0x15452c);}['worldToScr'+'een'](_0x293483,_0x25e13d){const _0xc51416=this['system']['app']['graphicsDe'+'vice'],{width:_0x302438,height:_0x16a49f}=_0xc51416['clientRect'];return this['_camera']['worldToScr'+'een'](_0x293483,_0x302438,_0x16a49f,_0x25e13d);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(-0x1*0x223+0x1363*-0x1+-0x91*-0x26),this['_camera']['_viewProjM'+'atDirty']=!(-0x240d+0x13d4+0x1*0x1039);}['addCameraT'+'oLayers'](){const _0x4c316a=this['layers'];for(let _0x1c497a=-0x11*-0x22+-0x27*-0xe9+-0x25c1;_0x1c497a<_0x4c316a['length'];_0x1c497a++){const _0x142143=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x4c316a[_0x1c497a]);_0x142143&&_0x142143['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x306c4d=this['layers'];for(let _0x582b0b=-0x458+-0x1111*-0x2+0xba*-0x29;_0x582b0b<_0x306c4d['length'];_0x582b0b++){const _0x26caa9=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x306c4d[_0x582b0b]);_0x26caa9&&_0x26caa9['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x24501d,_0x958936){this['addCameraT'+'oLayers'](),_0x24501d['off']('add',this['onLayerAdd'+'ed'],this),_0x24501d['off']('remove',this['onLayerRem'+'oved'],this),_0x958936['on']('add',this['onLayerAdd'+'ed'],this),_0x958936['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x30264d){this['layers']['indexOf'](_0x30264d['id'])<0xd63+0x10c3+-0x1e26||_0x30264d['addCamera'](this);}['onLayerRem'+'oved'](_0x49b4af){this['layers']['indexOf'](_0x49b4af['id'])<0x572+-0xa37+0x4c5||_0x49b4af['removeCame'+'ra'](this);}['onEnable'](){var _0x46fd0c,_0x35135a,_0x48a3a9;const _0x3f59b9=this['system']['app']['scene'],_0x307f76=_0x3f59b9['layers'];this['system']['addCamera'](this),(_0x46fd0c=this['_evtLayers'+'Changed'])==null||_0x46fd0c['off'](),this['_evtLayers'+'Changed']=_0x3f59b9['on']('set:layers',this['onLayersCh'+'anged'],this),_0x307f76&&((_0x35135a=this['_evtLayerA'+'dded'])==null||_0x35135a['off'](),this['_evtLayerA'+'dded']=_0x307f76['on']('add',this['onLayerAdd'+'ed'],this),(_0x48a3a9=this['_evtLayerR'+'emoved'])==null||_0x48a3a9['off'](),this['_evtLayerR'+'emoved']=_0x307f76['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x177bf3,_0x36058f,_0x2d9284;const _0x216f2b=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x177bf3=this['_evtLayers'+'Changed'])==null||_0x177bf3['off'](),this['_evtLayers'+'Changed']=null,_0x216f2b&&((_0x36058f=this['_evtLayerA'+'dded'])==null||_0x36058f['off'](),this['_evtLayerA'+'dded']=null,(_0x2d9284=this['_evtLayerR'+'emoved'])==null||_0x2d9284['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x5cf7d9){const _0x197ef1=this['system']['app']['graphicsDe'+'vice'],_0x8080c4=_0x5cf7d9?_0x5cf7d9['width']:_0x197ef1['width'],_0x46317d=_0x5cf7d9?_0x5cf7d9['height']:_0x197ef1['height'];return _0x8080c4*this['rect']['z']/(_0x46317d*this['rect']['w']);}['frameUpdat'+'e'](_0x478e02){this['aspectRati'+'oMode']===Ip&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x478e02));}['startXr'](_0x5a650a,_0x319ac5,_0x495f8b){this['system']['app']['xr']['start'](this,_0x5a650a,_0x319ac5,_0x495f8b);}['endXr'](_0x47741e){if(!this['_camera']['xr']){_0x47741e&&_0x47741e(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x47741e);}['copy'](_0x1932a5){this['aperture']=_0x1932a5['aperture'],this['aspectRati'+'o']=_0x1932a5['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x1932a5['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x1932a5['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x1932a5['calculateT'+'ransform'],this['clearColor']=_0x1932a5['clearColor'],this['clearColor'+'Buffer']=_0x1932a5['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x1932a5['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x1932a5['clearStenc'+'ilBuffer'],this['cullFaces']=_0x1932a5['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x1932a5['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x1932a5['farClip'],this['flipFaces']=_0x1932a5['flipFaces'],this['fov']=_0x1932a5['fov'],this['frustumCul'+'ling']=_0x1932a5['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x1932a5['horizontal'+'Fov'],this['layers']=_0x1932a5['layers'],this['nearClip']=_0x1932a5['nearClip'],this['orthoHeigh'+'t']=_0x1932a5['orthoHeigh'+'t'],this['priority']=_0x1932a5['priority'],this['projection']=_0x1932a5['projection'],this['rect']=_0x1932a5['rect'],this['renderTarg'+'et']=_0x1932a5['renderTarg'+'et'],this['scissorRec'+'t']=_0x1932a5['scissorRec'+'t'],this['sensitivit'+'y']=_0x1932a5['sensitivit'+'y'],this['shutter']=_0x1932a5['shutter'];}}class XI{constructor(){this['enabled']=!(0x17cf+0x13f2+0x17*-0x1e7);}}const wx=['enabled'];class jI extends Xe{constructor(_0x4299a8){super(_0x4299a8),c(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=bx,this['DataType']=XI,this['schema']=wx,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x370eb1,_0x1e4cb8,_0x13f449){_0x13f449=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x41ea8d=0x142a+-0x1*-0x17e1+-0x2c0b;_0x41ea8d<_0x13f449['length'];_0x41ea8d++){const _0x8dd2ea=_0x13f449[_0x41ea8d];if(_0x1e4cb8['hasOwnProp'+'erty'](_0x8dd2ea)){const _0x4ba5e5=_0x1e4cb8[_0x8dd2ea];switch(_0x8dd2ea){case'rect':case'scissorRec'+'t':Array['isArray'](_0x4ba5e5)?_0x370eb1[_0x8dd2ea]=new Q(_0x4ba5e5[0x1674+0xd*0x14b+0x2743*-0x1],_0x4ba5e5[-0x1e6*0x7+-0x5d1+0x131c],_0x4ba5e5[-0xc8e*0x3+-0x1*-0x1c69+-0x943*-0x1],_0x4ba5e5[-0x11*-0x121+0x2*0xca3+-0x2c74]):_0x370eb1[_0x8dd2ea]=_0x4ba5e5;break;case'clearColor':Array['isArray'](_0x4ba5e5)?_0x370eb1[_0x8dd2ea]=new Y(_0x4ba5e5[-0x16*0x13+-0xed5*-0x1+0x1*-0xd33],_0x4ba5e5[0x5bf+0x821+-0xddf],_0x4ba5e5[0x5b5+0x3*-0x8df+0x14ea],_0x4ba5e5[0x1eac+-0x1afc+-0x1*0x3ad]):_0x370eb1[_0x8dd2ea]=_0x4ba5e5;break;default:_0x370eb1[_0x8dd2ea]=_0x4ba5e5;break;}}}super['initialize'+'ComponentD'+'ata'](_0x370eb1,_0x1e4cb8,['enabled']);}['cloneCompo'+'nent'](_0x74eb0c,_0x394e68){const _0x307e43=_0x74eb0c['camera'];return this['addCompone'+'nt'](_0x394e68,{'aspectRatio':_0x307e43['aspectRati'+'o'],'aspectRatioMode':_0x307e43['aspectRati'+'oMode'],'calculateProjection':_0x307e43['calculateP'+'rojection'],'calculateTransform':_0x307e43['calculateT'+'ransform'],'clearColor':_0x307e43['clearColor'],'clearColorBuffer':_0x307e43['clearColor'+'Buffer'],'clearDepthBuffer':_0x307e43['clearDepth'+'Buffer'],'clearStencilBuffer':_0x307e43['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x307e43['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x307e43['renderScen'+'eColorMap'],'cullFaces':_0x307e43['cullFaces'],'enabled':_0x307e43['enabled'],'farClip':_0x307e43['farClip'],'flipFaces':_0x307e43['flipFaces'],'fov':_0x307e43['fov'],'frustumCulling':_0x307e43['frustumCul'+'ling'],'horizontalFov':_0x307e43['horizontal'+'Fov'],'layers':_0x307e43['layers'],'renderTarget':_0x307e43['renderTarg'+'et'],'nearClip':_0x307e43['nearClip'],'orthoHeight':_0x307e43['orthoHeigh'+'t'],'projection':_0x307e43['projection'],'priority':_0x307e43['priority'],'rect':_0x307e43['rect'],'scissorRect':_0x307e43['scissorRec'+'t'],'aperture':_0x307e43['aperture'],'sensitivity':_0x307e43['sensitivit'+'y'],'shutter':_0x307e43['shutter'],'gammaCorrection':_0x307e43['gammaCorre'+'ction'],'toneMapping':_0x307e43['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x48f8a6,_0x15a5bb){this['removeCame'+'ra'](_0x15a5bb),_0x15a5bb['onRemove']();}['onAppPrere'+'nder'](){for(let _0x32d84f=0x1bb3+-0x140*-0x1c+-0x7*0x8f5,_0x48a7da=this['cameras']['length'];_0x32d84f<_0x48a7da;_0x32d84f++)this['cameras'][_0x32d84f]['onAppPrere'+'nder']();}['addCamera'](_0xb25cdb){this['cameras']['push'](_0xb25cdb),No(this['cameras']);}['removeCame'+'ra'](_0x704eba){const _0x771cf7=this['cameras']['indexOf'](_0x704eba);_0x771cf7>=-0x202d+0x1*-0x22e8+0x4315&&(this['cameras']['splice'](_0x771cf7,0x1fa*-0x7+0x1299+-0xae*0x7),No(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}ue['_buildAcce'+'ssors'](bx['prototype'],wx);class Tx{constructor(){c(this,'enabled',!(-0x2ee+0x5ae*-0x6+0x2502)),c(this,'light'),c(this,'type','directiona'+'l'),c(this,'color',new Y(-0x1532+-0x1*-0x19ca+-0x497,0x21b6*-0x1+-0xa57*0x2+0x3665,-0x1316+-0x1a*-0x92+0x443)),c(this,'intensity',-0x4*-0x359+0x16af*0x1+-0x2412),c(this,'luminance',-0xca1*0x2+-0x1bc+0x1afe),c(this,'shape',yt),c(this,'affectSpec'+'ularity',!(0x303+0x1910+-0x1c13)),c(this,'castShadow'+'s',!(0x2132+0x25bc+0x43*-0x10f)),c(this,'shadowDist'+'ance',-0x16*-0xe9+-0xcd7+-0x707),c(this,'shadowInte'+'nsity',-0x91b+0x5*0x679+-0x1*0x1741),c(this,'shadowReso'+'lution',-0x422*-0x1+0x12d5*-0x1+0x12b3),c(this,'shadowBias',0x13c+-0x167+0x2b*0x1+0.05),c(this,'numCascade'+'s',0x2*0x370+-0x36*-0x15+-0x1*0xb4d),c(this,'cascadeBle'+'nd',0x1416+0x60+-0x123*0x12),c(this,'bakeNumSam'+'ples',-0x28*0x3e+-0x277+0xc28),c(this,'bakeArea',-0x18e9+0x1a30+-0x147),c(this,'cascadeDis'+'tribution',-0xb85+0x9*0x417+-0x194a+0.5),c(this,'normalOffs'+'etBias',-0x1639+0x14c*-0x1c+-0x14d*-0x2d),c(this,'range',0x19c2+-0x8aa*0x3+0x46),c(this,'innerConeA'+'ngle',0x3*0xbbf+-0x1593+-0xd82),c(this,'outerConeA'+'ngle',-0x13*0x8b+-0x12a9*-0x2+-0x1ad4),c(this,'falloffMod'+'e',wp),c(this,'shadowType',Dt),c(this,'vsmBlurSiz'+'e',-0x3*0x2e3+-0x1*0xba5+0x1459),c(this,'vsmBlurMod'+'e',Tp),c(this,'vsmBias',(0xa0+0x43*-0x3d+0x7*0x231+0.01)*(0x2645+-0x2564*-0x1+0x7*-0xacf+0.25)),c(this,'cookieAsse'+'t',null),c(this,'cookie',null),c(this,'cookieInte'+'nsity',0x241*-0x7+0x11*-0xe5+-0x1efd*-0x1),c(this,'cookieFall'+'off',!(0x1ad7*-0x1+-0x106*-0x4+0x16bf)),c(this,'cookieChan'+'nel','rgb'),c(this,'cookieAngl'+'e',-0xaba+0x65d+0x45d*0x1),c(this,'cookieScal'+'e',null),c(this,'cookieOffs'+'et',null),c(this,'shadowUpda'+'teMode',Pp),c(this,'mask',-0xd63*0x1+-0x22ec+-0x305*-0x10),c(this,'affectDyna'+'mic',!(0x1*-0x139b+-0x2*0x104e+0x3437)),c(this,'affectLigh'+'tmapped',!(-0x877*0x3+0x1ce9+-0x383)),c(this,'bake',!(-0x1*0x629+-0x26cf+0x2cf9)),c(this,'bakeDir',!(-0x1*-0x175b+-0x163+0x94*-0x26)),c(this,'isStatic',!(-0x675*-0x3+0x11a8*-0x1+0xdb*-0x2)),c(this,'layers',[Fi]),c(this,'penumbraSi'+'ze',0x9a8*0x4+-0x34a+-0x711*0x5),c(this,'penumbraFa'+'lloff',0x3*0xc59+-0x1fec+-0x51e),c(this,'shadowSamp'+'les',0x2*-0x175+-0xfc5*-0x1+-0xccb),c(this,'shadowBloc'+'kerSamples',0x1*0x163d+-0x64*-0x5b+-0x39b9);}}const To=Object['keys'](new Tx());class YI extends ue{constructor(){super(...arguments),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_cookieAss'+'et',null),c(this,'_cookieAss'+'etId',null),c(this,'_cookieAss'+'etAdd',!(0x159d+-0x1af1+0x555)),c(this,'_cookieMat'+'rix',null);}get['data'](){const _0x3360df=this['system']['store'][this['entity']['getGuid']()];return _0x3360df?_0x3360df['data']:null;}set['enabled'](_0x5d253b){this['_setValue']('enabled',_0x5d253b,function(_0x3ed8a0,_0x47df9f){this['onSetEnabl'+'ed'](null,_0x47df9f,_0x3ed8a0);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0xa8dddf){this['_setValue']('light',_0xa8dddf);}get['light'](){return this['data']['light'];}set['type'](_0x5032de){this['_setValue']('type',_0x5032de,function(_0x14047c,_0x4edd00){this['system']['changeType'](this,_0x4edd00,_0x14047c),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x19e5c5){this['_setValue']('color',_0x19e5c5,function(_0x1ec520,_0x462efc){this['light']['setColor'](_0x1ec520);},!(-0x43*-0x25+-0x1*-0x255f+0x1*-0x2f0e));}get['color'](){return this['data']['color'];}set['intensity'](_0xc71299){this['_setValue']('intensity',_0xc71299,function(_0x4f6763,_0x1066b2){this['light']['intensity']=_0x4f6763;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x35ccd7){this['_setValue']('luminance',_0x35ccd7,function(_0x4f201f,_0x20b766){this['light']['luminance']=_0x4f201f;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x38f113){this['_setValue']('shape',_0x38f113,function(_0x4a535e,_0x4ad495){this['light']['shape']=_0x4a535e;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x1e7d18){this['_setValue']('affectSpec'+'ularity',_0x1e7d18,function(_0x1bbea5,_0x369e4b){this['light']['affectSpec'+'ularity']=_0x1bbea5;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0xf8675f){this['_setValue']('castShadow'+'s',_0xf8675f,function(_0x460052,_0x28a218){this['light']['castShadow'+'s']=_0x460052;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0xa65173){this['_setValue']('shadowDist'+'ance',_0xa65173,function(_0x4b75d3,_0x45be10){this['light']['shadowDist'+'ance']=_0x4b75d3;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x2832fb){this['_setValue']('shadowInte'+'nsity',_0x2832fb,function(_0x38dbff,_0x491d6a){this['light']['shadowInte'+'nsity']=_0x38dbff;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x5c5ae1){this['_setValue']('shadowReso'+'lution',_0x5c5ae1,function(_0x1cf382,_0x354303){this['light']['shadowReso'+'lution']=_0x1cf382;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x1b2494){this['_setValue']('shadowBias',_0x1b2494,function(_0x4648f2,_0x4bdb28){this['light']['shadowBias']=-(-0x16d9*-0x1+-0xe*0x43+0x132f*-0x1+0.01)*N['clamp'](_0x4648f2,-0xa*-0x12b+-0x191c+-0x17e*-0x9,-0x191f+0x2*0x9b9+0x5ae);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x35b404){this['_setValue']('numCascade'+'s',_0x35b404,function(_0x35e79f,_0x5ec666){this['light']['numCascade'+'s']=N['clamp'](Math['floor'](_0x35e79f),-0x1b9f*0x1+-0x7f3*-0x1+0x13ad,-0xf1+-0x4*0x751+0x1e39);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x39b797){this['_setValue']('cascadeBle'+'nd',_0x39b797,function(_0x2efc27,_0x225c62){this['light']['cascadeBle'+'nd']=N['clamp'](_0x2efc27,-0xff9*-0x2+-0xe98+-0x115a,0xc94+0x21f7*0x1+-0x2e8a);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x4e8e7d){this['_setValue']('bakeNumSam'+'ples',_0x4e8e7d,function(_0x42b439,_0x4f58f4){this['light']['bakeNumSam'+'ples']=N['clamp'](Math['floor'](_0x42b439),-0xca*-0x19+-0x21e7*0x1+0xe2e,0x6*-0x115+0x1*0x12d1+0x5aa*-0x2);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x1f0838){this['_setValue']('bakeArea',_0x1f0838,function(_0x3a2a12,_0x20d4a6){this['light']['bakeArea']=N['clamp'](_0x3a2a12,0x17*-0x59+0x5*0x3d8+-0xdd*0xd,-0x905+0x1*-0x430+-0x3*-0x4a3);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x379612){this['_setValue']('cascadeDis'+'tribution',_0x379612,function(_0x57b470,_0x1e89bc){this['light']['cascadeDis'+'tribution']=N['clamp'](_0x57b470,0x518*0x1+-0xf54+0xa3c,-0xc76*0x2+0x4c7+0x2*0xa13);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x173185){this['_setValue']('normalOffs'+'etBias',_0x173185,function(_0x2d9e71,_0x1c3d28){this['light']['normalOffs'+'etBias']=N['clamp'](_0x2d9e71,0x7d3*0x2+-0x5b*0x13+-0x1*0x8e5,-0x1e58*-0x1+0xd69*-0x2+-0x385);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x33aac0){this['_setValue']('range',_0x33aac0,function(_0x574fa2,_0x2faafb){this['light']['attenuatio'+'nEnd']=_0x574fa2;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x44d845){this['_setValue']('innerConeA'+'ngle',_0x44d845,function(_0x355600,_0x2008ab){this['light']['innerConeA'+'ngle']=_0x355600;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x472c50){this['_setValue']('outerConeA'+'ngle',_0x472c50,function(_0x58b45e,_0x1997bf){this['light']['outerConeA'+'ngle']=_0x58b45e;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x48149b){this['_setValue']('falloffMod'+'e',_0x48149b,function(_0x2ef0da,_0x1a6d24){this['light']['falloffMod'+'e']=_0x2ef0da;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x548c7a){this['_setValue']('shadowType',_0x548c7a,function(_0x426039,_0x5ba33b){this['light']['shadowType']=_0x426039;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x2c26cc){this['_setValue']('vsmBlurSiz'+'e',_0x2c26cc,function(_0x32f2a8,_0x361070){this['light']['vsmBlurSiz'+'e']=_0x32f2a8;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x3f5e5c){this['_setValue']('vsmBlurMod'+'e',_0x3f5e5c,function(_0x1ea273,_0x1f476e){this['light']['vsmBlurMod'+'e']=_0x1ea273;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x161e9b){this['_setValue']('vsmBias',_0x161e9b,function(_0x39b62a,_0x4126dc){this['light']['vsmBias']=N['clamp'](_0x39b62a,-0x53*0x37+0x12fb+-0x3*0x62,-0x88a+0x21b4+-0x1929*0x1);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x202426){this['_setValue']('cookieAsse'+'t',_0x202426,function(_0x1ddf64,_0x2eae36){if(!(this['_cookieAss'+'etId']&&(_0x1ddf64 instanceof le&&_0x1ddf64['id']===this['_cookieAss'+'etId']||_0x1ddf64===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x1ddf64 instanceof le)this['data']['cookieAsse'+'t']=_0x1ddf64['id'],this['_cookieAss'+'etId']=_0x1ddf64['id'],this['onCookieAs'+'setAdd'](_0x1ddf64);else{if(typeof _0x1ddf64=='number'){this['_cookieAss'+'etId']=_0x1ddf64;const _0x2c45ab=this['system']['app']['assets']['get'](_0x1ddf64);_0x2c45ab?this['onCookieAs'+'setAdd'](_0x2c45ab):(this['_cookieAss'+'etAdd']=!(0xfa0+-0xb56+-0x44a),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x4b35de){this['_setValue']('cookie',_0x4b35de,function(_0x355ae0,_0x4ae726){this['light']['cookie']=_0x355ae0;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x35d23b){this['_setValue']('cookieInte'+'nsity',_0x35d23b,function(_0x3c7873,_0xec902f){this['light']['cookieInte'+'nsity']=N['clamp'](_0x3c7873,-0x31*-0x59+0x1*0x2051+0x315a*-0x1,0x10e0+0x26*-0x7f+0x27*0xd);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x4ebe77){this['_setValue']('cookieFall'+'off',_0x4ebe77,function(_0x585533,_0x1e6ae3){this['light']['cookieFall'+'off']=_0x585533;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x5407cb){this['_setValue']('cookieChan'+'nel',_0x5407cb,function(_0x1f6270,_0x12e553){this['light']['cookieChan'+'nel']=_0x1f6270;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x189b65){this['_setValue']('cookieAngl'+'e',_0x189b65,function(_0x461d41,_0x3a87f9){if(_0x461d41!==-0xde9*-0x2+-0x1fcb+-0x1*-0x3f9||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());let _0x40cc8e=0x1*-0x3f5+0xcf1*-0x1+0x10e7,_0x24144c=-0x10f1*-0x1+-0x2550+-0xa30*-0x2;this['cookieScal'+'e']&&(_0x40cc8e=this['cookieScal'+'e']['x'],_0x24144c=this['cookieScal'+'e']['y']);const _0x1f121d=Math['cos'](_0x461d41*N['DEG_TO_RAD']),_0x4f0e90=Math['sin'](_0x461d41*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x1f121d/_0x40cc8e,-_0x4f0e90/_0x40cc8e,_0x4f0e90/_0x24144c,_0x1f121d/_0x24144c),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x316134){this['_setValue']('cookieScal'+'e',_0x316134,function(_0x3442e5,_0x32cc0a){if(_0x3442e5!==null||this['cookieAngl'+'e']!==0x493*-0x4+0x250+0x155*0xc){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());const _0x3acef6=_0x3442e5['x'],_0x47862f=_0x3442e5['y'],_0x41af7f=Math['cos'](this['cookieAngl'+'e']*N['DEG_TO_RAD']),_0x2e19ab=Math['sin'](this['cookieAngl'+'e']*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x41af7f/_0x3acef6,-_0x2e19ab/_0x3acef6,_0x2e19ab/_0x47862f,_0x41af7f/_0x47862f),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(-0x1*-0x12a0+0x16*0xd5+-0x24ee));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0xbb475f){this['_setValue']('cookieOffs'+'et',_0xbb475f,function(_0x7fd677,_0x739191){this['light']['cookieOffs'+'et']=_0x7fd677;},!(0x75*-0x2+0x1bbf*-0x1+-0xfd*-0x1d));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x414f9f){this['_setValue']('shadowUpda'+'teMode',_0x414f9f,function(_0x3046b4,_0x47918f){this['light']['shadowUpda'+'teMode']=_0x3046b4;},!(-0x199c+0xb*-0x21a+0x30ba));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x2260bf){this['_setValue']('mask',_0x2260bf,function(_0x180151,_0x4ec905){this['light']['mask']=_0x180151;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x42efc4){this['_setValue']('affectDyna'+'mic',_0x42efc4,function(_0x34e55b,_0x7f9d07){_0x34e55b?this['light']['mask']|=hs:this['light']['mask']&=-(-0x2*0x1387+0x35b*-0x8+0x41e8),this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x550adb){this['_setValue']('affectLigh'+'tmapped',_0x550adb,function(_0x11a81e,_0x555ee5){_0x11a81e?(this['light']['mask']|=cr,this['bake']&&(this['light']['mask']&=-(0x1*0x22e5+-0x143e+-0xea2))):(this['light']['mask']&=-(-0x8c+-0xcf8+0xd87),this['bake']&&(this['light']['mask']|=rr));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x3851d7){this['_setValue']('bake',_0x3851d7,function(_0x1055a7,_0x2224d4){_0x1055a7?(this['light']['mask']|=rr,this['affectLigh'+'tmapped']&&(this['light']['mask']&=-(0x1b88+-0x118f+0xaa*-0xf))):(this['light']['mask']&=-(-0x9a4+-0x8*-0x280+-0xa57),this['affectLigh'+'tmapped']&&(this['light']['mask']|=cr)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x3af196){this['_setValue']('bakeDir',_0x3af196,function(_0xe3e608,_0x2c29cc){this['light']['bakeDir']=_0xe3e608;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x35618c){this['_setValue']('isStatic',_0x35618c,function(_0x48d159,_0xa8ea44){this['light']['isStatic']=_0x48d159;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x46cd62){this['_setValue']('layers',_0x46cd62,function(_0x4d1878,_0x3aa8e1){for(let _0x18690b=0x42d*0x1+0x1*0x2629+-0x2a56;_0x18690b<_0x3aa8e1['length'];_0x18690b++){const _0x51c129=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x3aa8e1[_0x18690b]);_0x51c129&&(_0x51c129['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x51c129));}for(let _0x398e9a=0x1380+-0x1a0*0x2+-0x1040;_0x398e9a<_0x4d1878['length'];_0x398e9a++){const _0x2a93a7=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x4d1878[_0x398e9a]);_0x2a93a7&&this['enabled']&&this['entity']['enabled']&&(_0x2a93a7['addLight'](this),this['light']['addLayer'](_0x2a93a7));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x48c9cc){this['light']['shadowUpda'+'teOverride'+'s']=_0x48c9cc;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x549670){this['light']['shadowSamp'+'les']=_0x549670;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x10d0a2){this['light']['shadowBloc'+'kerSamples']=_0x10d0a2;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x12309c){this['light']['penumbraSi'+'ze']=_0x12309c;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x3a6bac){this['light']['penumbraFa'+'lloff']=_0x3a6bac;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x47b47c,_0x13753a,_0x725d2e,_0x31b112){const _0x4eff31=this['data'],_0xd1ca00=_0x4eff31[_0x47b47c];!_0x31b112&&_0xd1ca00===_0x13753a||(_0x4eff31[_0x47b47c]=_0x13753a,_0x725d2e&&_0x725d2e['call'](this,_0x13753a,_0xd1ca00));}['addLightTo'+'Layers'](){for(let _0x2e155e=0x1*0x821+-0x2*-0xc07+0xb*-0x2ed;_0x2e155e<this['layers']['length'];_0x2e155e++){const _0x3ee6b6=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2e155e]);_0x3ee6b6&&(_0x3ee6b6['addLight'](this),this['light']['addLayer'](_0x3ee6b6));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x316422=0x3*0x302+0x1469+-0x1d6f;_0x316422<this['layers']['length'];_0x316422++){const _0x275439=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x316422]);_0x275439&&(_0x275439['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x275439));}}['onLayersCh'+'anged'](_0x1baa60,_0x591189){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x1baa60['off']('add',this['onLayerAdd'+'ed'],this),_0x1baa60['off']('remove',this['onLayerRem'+'oved'],this),_0x591189['on']('add',this['onLayerAdd'+'ed'],this),_0x591189['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x3b2365){this['layers']['indexOf'](_0x3b2365['id'])>=-0x1*-0xc67+-0x2f4+0x3b*-0x29&&this['enabled']&&this['entity']['enabled']&&(_0x3b2365['addLight'](this),this['light']['addLayer'](_0x3b2365));}['onLayerRem'+'oved'](_0xbf6fa0){this['layers']['indexOf'](_0xbf6fa0['id'])>=-0x241d+0x6*-0x1a6+0x2e01*0x1&&(_0xbf6fa0['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0xbf6fa0));}['refreshPro'+'perties'](){for(let _0x2ea276=-0x154f*-0x1+-0x5d2*-0x4+0x2c97*-0x1;_0x2ea276<To['length'];_0x2ea276++){const _0x4fc299=To[_0x2ea276];this[_0x4fc299]=this[_0x4fc299];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x276e0c=!(-0x1fda+0x190d+0x6ce);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(-0xbee+-0x1321+0x1*0x1f0f),_0x276e0c=!(-0x2608+0x1390+0x1278)),(!this['_cookieAss'+'et']['resource']||_0x276e0c)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x1c14cd){this['_cookieAss'+'etId']===_0x1c14cd['id']&&(this['_cookieAss'+'et']=_0x1c14cd,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(-0xc79*-0x3+0x22f5+-0xbf*0x61)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x482a3e=this['system']['app']['scene'],_0x3de611=_0x482a3e['layers'];this['light']['enabled']=!(0x16ca*-0x1+-0xcf9+0x23c3),this['_evtLayers'+'Changed']=_0x482a3e['on']('set:layers',this['onLayersCh'+'anged'],this),_0x3de611&&(this['_evtLayerA'+'dded']=_0x3de611['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x3de611['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x2918e6,_0x3da7f4,_0x5bfcd9;const _0x209b2d=this['system']['app']['scene']['layers'];this['light']['enabled']=!(-0x3*-0x1ac+0x35d+0x20*-0x43),(_0x2918e6=this['_evtLayers'+'Changed'])==null||_0x2918e6['off'](),this['_evtLayers'+'Changed']=null,_0x209b2d&&((_0x3da7f4=this['_evtLayerA'+'dded'])==null||_0x3da7f4['off'](),this['_evtLayerA'+'dded']=null,(_0x5bfcd9=this['_evtLayerR'+'emoved'])==null||_0x5bfcd9['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class KI extends Xe{constructor(_0x2d41bf){super(_0x2d41bf),this['id']='light',this['ComponentT'+'ype']=YI,this['DataType']=Tx,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x44ac32,_0x48a42c){const _0x22a60c={..._0x48a42c};_0x22a60c['type']||(_0x22a60c['type']=_0x44ac32['data']['type']),_0x44ac32['data']['type']=_0x22a60c['type'],_0x22a60c['layers']&&Array['isArray'](_0x22a60c['layers'])&&(_0x22a60c['layers']=_0x22a60c['layers']['slice'](-0x100*-0x2+0x1f02+-0x2102)),_0x22a60c['color']&&Array['isArray'](_0x22a60c['color'])&&(_0x22a60c['color']=new Y(_0x22a60c['color'][-0x5*0x2d5+0x45f*0x6+-0xc11],_0x22a60c['color'][0xab+-0x6e1+0x637],_0x22a60c['color'][0x46*0x1d+0x258e+-0x2*0x16bd])),_0x22a60c['cookieOffs'+'et']&&_0x22a60c['cookieOffs'+'et']instanceof Array&&(_0x22a60c['cookieOffs'+'et']=new W(_0x22a60c['cookieOffs'+'et'][0x35*0xb1+0x1b3*-0x1+0x12*-0x1f1],_0x22a60c['cookieOffs'+'et'][0x67*-0x39+0x9af+0xd41])),_0x22a60c['cookieScal'+'e']&&_0x22a60c['cookieScal'+'e']instanceof Array&&(_0x22a60c['cookieScal'+'e']=new W(_0x22a60c['cookieScal'+'e'][-0x182b*-0x1+-0x327+-0x1504],_0x22a60c['cookieScal'+'e'][0x174f+0x40f+-0x1b5d])),_0x22a60c['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x22a60c['enabled']=_0x22a60c['enable']),_0x22a60c['shape']||(_0x22a60c['shape']=yt);const _0x531397=new zo(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x531397['type']=Gu[_0x22a60c['type']],_0x531397['_node']=_0x44ac32['entity'],_0x44ac32['data']['light']=_0x531397,super['initialize'+'ComponentD'+'ata'](_0x44ac32,_0x22a60c,To);}['_onRemoveC'+'omponent'](_0x32881b,_0x2a6d12){_0x2a6d12['onRemove']();}['cloneCompo'+'nent'](_0x182aa7,_0x21fadd){const _0x1c6dbe=_0x182aa7['light'],_0x15694c=[];let _0x2572f9;for(let _0xe4040f=0x25*-0x92+0x48c+0x108e;_0xe4040f<To['length'];_0xe4040f++)_0x2572f9=To[_0xe4040f],_0x2572f9!=='light'&&(_0x1c6dbe[_0x2572f9]&&_0x1c6dbe[_0x2572f9]['clone']?_0x15694c[_0x2572f9]=_0x1c6dbe[_0x2572f9]['clone']():_0x15694c[_0x2572f9]=_0x1c6dbe[_0x2572f9]);return this['addCompone'+'nt'](_0x21fadd,_0x15694c);}['changeType'](_0x5a1768,_0x270a44,_0x3f0494){_0x270a44!==_0x3f0494&&(_0x5a1768['light']['type']=Gu[_0x3f0494]);}}const ZI=['x','y','z','w'],QI=[void(-0x2b*-0xe1+0x2702+-0x4ccd),void(-0x1*-0x2077+-0x15e7+-0xa90),W,T,Q];function La(_0x1ab0ba,_0x5b55df,_0x14485b,_0x471edd){switch(_0x5b55df['type']){case'boolean':return!!_0x14485b;case'number':if(typeof _0x14485b=='number')return _0x14485b;if(typeof _0x14485b=='string'){const _0x3486d8=parseInt(_0x14485b,-0x10df*0x1+-0x150c+0x29*0xed);return isNaN(_0x3486d8)?null:_0x3486d8;}else{if(typeof _0x14485b=='boolean')return-0x2149+-0x175*0x3+0x1e2*0x14+_0x14485b;}return null;case'json':{const _0x253fdc={};if(Array['isArray'](_0x5b55df['schema'])){(!_0x14485b||typeof _0x14485b!='object')&&(_0x14485b={});for(let _0x41a677=-0x1d1+-0x1331+0x1502;_0x41a677<_0x5b55df['schema']['length'];_0x41a677++){const _0x1a0542=_0x5b55df['schema'][_0x41a677];if(_0x1a0542['name']){if(_0x1a0542['array']){_0x253fdc[_0x1a0542['name']]=[];const _0x54a497=Array['isArray'](_0x14485b[_0x1a0542['name']])?_0x14485b[_0x1a0542['name']]:[];for(let _0x22a135=0x4c7*0x5+0x2*-0xf87+0x72b;_0x22a135<_0x54a497['length'];_0x22a135++)_0x253fdc[_0x1a0542['name']]['push'](La(_0x1ab0ba,_0x1a0542,_0x54a497[_0x22a135]));}else{const _0x570394=_0x14485b['hasOwnProp'+'erty'](_0x1a0542['name'])?_0x14485b[_0x1a0542['name']]:_0x1a0542['default'];_0x253fdc[_0x1a0542['name']]=La(_0x1ab0ba,_0x1a0542,_0x570394);}}}}return _0x253fdc;}case'asset':return _0x14485b instanceof le?_0x14485b:typeof _0x14485b=='number'?_0x1ab0ba['assets']['get'](_0x14485b)||null:typeof _0x14485b=='string'&&_0x1ab0ba['assets']['get'](parseInt(_0x14485b,0x1*0x2691+0x1*0x2391+-0x4a18))||null;case'entity':return _0x14485b instanceof De?_0x14485b:typeof _0x14485b=='string'?_0x1ab0ba['getEntityF'+'romIndex'](_0x14485b):null;case'rgb':case'rgba':if(_0x14485b instanceof Y)return _0x471edd instanceof Y?(_0x471edd['copy'](_0x14485b),_0x471edd):_0x14485b['clone']();if(_0x14485b instanceof Array&&_0x14485b['length']>=0x122e+0x76*-0x1a+-0x62f&&_0x14485b['length']<=-0x935*0x3+0xb49+0x105a){for(let _0x232397=0x18*0x1c+-0x2*0x1321+0x23a2;_0x232397<_0x14485b['length'];_0x232397++)if(typeof _0x14485b[_0x232397]!='number')return null;return _0x471edd||(_0x471edd=new Y()),_0x471edd['r']=_0x14485b[-0x17ba+0x224e+-0xa94],_0x471edd['g']=_0x14485b[-0x1cc9+-0x229*-0x6+0xfd4],_0x471edd['b']=_0x14485b[0x198+0x126a+-0x1400],_0x471edd['a']=_0x14485b['length']===-0x1*-0x2135+-0x1*-0xfed+-0x19*0x1f7?0xad2+0x3*0x1f1+-0x10a4:_0x14485b[-0x1877+0x63d+0x123d],_0x471edd;}else{if(typeof _0x14485b=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x14485b))return _0x471edd||(_0x471edd=new Y()),_0x471edd['fromString'](_0x14485b),_0x471edd;}return null;case'vec2':case'vec3':case'vec4':{const _0x1ebf9a=parseInt(_0x5b55df['type']['slice'](0x879+0x1*0xbb2+-0x1428),0x25e3+-0x19e2+-0xbf7),_0x43ec51=QI[_0x1ebf9a];if(_0x14485b instanceof _0x43ec51)return _0x471edd instanceof _0x43ec51?(_0x471edd['copy'](_0x14485b),_0x471edd):_0x14485b['clone']();if(_0x14485b instanceof Array&&_0x14485b['length']===_0x1ebf9a){for(let _0x5de19e=0xc9e+0x1cfc+-0x299a;_0x5de19e<_0x14485b['length'];_0x5de19e++)if(typeof _0x14485b[_0x5de19e]!='number')return null;_0x471edd||(_0x471edd=new _0x43ec51());for(let _0x5eb0f4=0x264f+0x26c4+-0x4d13;_0x5eb0f4<_0x1ebf9a;_0x5eb0f4++)_0x471edd[ZI[_0x5eb0f4]]=_0x14485b[_0x5eb0f4];return _0x471edd;}return null;}case'curve':if(_0x14485b){let _0xd61067;if(_0x14485b instanceof Cs||_0x14485b instanceof jr)_0xd61067=_0x14485b['clone']();else{const _0x4e860a=_0x14485b['keys'][-0x6f*-0x13+-0x3b*0x43+0x1cd*0x4]instanceof Array?jr:Cs;_0xd61067=new _0x4e860a(_0x14485b['keys']),_0xd61067['type']=_0x14485b['type'];}return _0xd61067;}break;}return _0x14485b;}function Ax(_0x3c61c8,_0x398b75,_0x4b01a6,_0x49522c){return _0x398b75['array']?_0x4b01a6['map']((_0x1a974a,_0x6c71c)=>La(_0x3c61c8,_0x398b75,_0x1a974a,_0x49522c?_0x49522c[_0x6c71c]:null)):La(_0x3c61c8,_0x398b75,_0x4b01a6,_0x49522c);}function Ex(_0x3bcad7,_0x4e0f53,_0x5ccc6f,_0x4bb680){if(_0x5ccc6f)for(const _0x598c7e in _0x4e0f53){const _0x29b3c7=_0x4e0f53[_0x598c7e],_0x517d8f=_0x5ccc6f[_0x598c7e];_0x517d8f!==void(0x1c1*-0x15+-0x1cc9+-0x1c6*-0x25)&&(_0x4bb680[_0x598c7e]=Ax(_0x3bcad7,_0x29b3c7,_0x517d8f,_0x4bb680[_0x598c7e]));}}const oa=class oa{constructor(_0xf74385){this['scriptType']=_0xf74385,this['index']={};}['add'](_0x4d22f8,_0x46464a){if(this['index'][_0x4d22f8]){v['warn']('attribute\x20'+'\x27'+_0x4d22f8+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(oa['reservedNa'+'mes']['has'](_0x4d22f8)){v['warn']('attribute\x20'+'\x27'+_0x4d22f8+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x4d22f8]=_0x46464a,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x4d22f8,{'get':function(){return this['__attribut'+'es'][_0x4d22f8];},'set':function(_0x2a5ba7){const _0x4ba343='attr',_0x349ce4='attr:'+_0x4d22f8,_0x4f0c42=this['__attribut'+'es'][_0x4d22f8];let _0x317fb2=_0x4f0c42;if(_0x4f0c42&&_0x46464a['type']!=='json'&&_0x46464a['type']!=='entity'&&_0x4f0c42['clone']&&(this['hasEvent'](_0x4ba343)||this['hasEvent'](_0x349ce4))&&(_0x317fb2=_0x4f0c42['clone']()),_0x46464a['array']){if(this['__attribut'+'es'][_0x4d22f8]=[],_0x2a5ba7){for(let _0x4a1821=0x1449+0x3d*-0x2b+0x202*-0x5,_0x423dd0=_0x2a5ba7['length'];_0x4a1821<_0x423dd0;_0x4a1821++)this['__attribut'+'es'][_0x4d22f8]['push'](La(this['app'],_0x46464a,_0x2a5ba7[_0x4a1821],_0x4f0c42?_0x4f0c42[_0x4a1821]:null));}}else this['__attribut'+'es'][_0x4d22f8]=La(this['app'],_0x46464a,_0x2a5ba7,_0x4f0c42);this['fire'](_0x4ba343,_0x4d22f8,this['__attribut'+'es'][_0x4d22f8],_0x317fb2),this['fire'](_0x349ce4,this['__attribut'+'es'][_0x4d22f8],_0x317fb2);}});}['remove'](_0x4ab895){return this['index'][_0x4ab895]?(delete this['index'][_0x4ab895],delete this['scriptType']['prototype'][_0x4ab895],!(-0x1*0x1fe1+-0x238d+-0x336*-0x15)):!(0x7*-0x239+0x1*0x142b+0x1*-0x49b);}['has'](_0x32582c){return!!this['index'][_0x32582c];}['get'](_0x2760d1){return this['index'][_0x2760d1]||null;}};c(oa,'assignAttr'+'ibutesToSc'+'ript',Ex),c(oa,'attributeT'+'oValue',Ax),c(oa,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Ho=oa;const _f='initialize',gf='postInitia'+'lize',JI='update',eD='postUpdate',tD='swap';class Ht extends ce{constructor(_0x36870e){super(),c(this,'app'),c(this,'entity'),c(this,'_enabled'),c(this,'_enabledOl'+'d'),c(this,'_initializ'+'ed'),c(this,'_postIniti'+'alized'),c(this,'__destroye'+'d'),c(this,'__scriptTy'+'pe'),c(this,'__executio'+'nOrder'),this['initScript'](_0x36870e);}set['enabled'](_0x57489b){this['_enabled']=!!_0x57489b,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(0x1*0x1a53+0x1bb8+-0x360b),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,_f)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(-0x2208+-0xaa*-0x1f+0xd72*0x1),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,gf)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0xbcc81){const _0x13e411=this['constructo'+'r'];v['assert'](_0xbcc81&&_0xbcc81['app']&&_0xbcc81['entity'],'script\x20['+_0x13e411['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0xbcc81['app'],this['entity']=_0xbcc81['entity'],this['_enabled']=typeof _0xbcc81['enabled']=='boolean'?_0xbcc81['enabled']:!(-0x1*0xe58+0x2002+-0x11aa),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(-0x198d+-0x3e*0xc+0x1c76),this['__scriptTy'+'pe']=_0x13e411,this['__executio'+'nOrder']=-(-0x17*-0x19b+-0xbac+-0x1940);}static get['scriptName'](){return this['__name'];}}c(Ht,'EVENT_ENAB'+'LE','enable'),c(Ht,'EVENT_DISA'+'BLE','disable'),c(Ht,'EVENT_STAT'+'E','state'),c(Ht,'EVENT_DEST'+'ROY','destroy'),c(Ht,'EVENT_ATTR','attr'),c(Ht,'EVENT_ERRO'+'R','error'),c(Ht,'__name',null),c(Ht,'__getScrip'+'tName',Cx);const sD=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function Cx(_0x21cadb){if(typeof _0x21cadb!='function')return;if('name'in Function['prototype'])return _0x21cadb['name'];if(_0x21cadb===Function||_0x21cadb===Function['prototype']['constructo'+'r'])return'Function';const _0x5d9755=(''+_0x21cadb)['match'](sD);return _0x5d9755?_0x5d9755[0x1542+0x3*0x9fa+0x332f*-0x1]:void(0x2c3+-0xcbf+-0x24*-0x47);}class Qh extends Ht{constructor(_0x4549a6){super(_0x4549a6),c(this,'__attribut'+'es'),c(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x4549a6);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Ho(this)),this['__attribut'+'es'];}['initScript'](_0x5c64b6){Ht['prototype']['initScript']['call'](this,_0x5c64b6),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x5c64b6['attributes']||{};}['initScript'+'Type'](_0x18a21d){this['initScript'](_0x18a21d);}['__initiali'+'zeAttribut'+'es'](_0x4fcb88){if(!(!_0x4fcb88&&!this['__attribut'+'esRaw'])){for(const _0x597505 in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x597505)?this[_0x597505]=this['__attribut'+'esRaw'][_0x597505]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x597505)||(this['__scriptTy'+'pe']['attributes']['index'][_0x597505]['hasOwnProp'+'erty']('default')?this[_0x597505]=this['__scriptTy'+'pe']['attributes']['index'][_0x597505]['default']:this[_0x597505]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x20e0b9){for(const _0x39b475 in _0x20e0b9)_0x20e0b9['hasOwnProp'+'erty'](_0x39b475)&&(this['prototype'][_0x39b475]=_0x20e0b9[_0x39b475]);}}const iD=_0x30dcef=>_0x30dcef[-0x2*-0x47f+0xde9*-0x1+0x4eb]['toLowerCas'+'e']()+_0x30dcef['substring'](0x26*0xca+0x147e+-0x3279*0x1);class di extends ue{constructor(_0xb3424a,_0x310a35){super(_0xb3424a,_0x310a35),c(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new wh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new wh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(-0x2231*0x1+0xd15+0x151d),this['_scriptsDa'+'ta']=null,this['_oldState']=!(-0x2*0x1b7+-0x137f+0x16ed),this['_enabled']=!(0x101b*-0x1+0x2*0xf9d+-0xf1f),this['_beingEnab'+'led']=!(0x158+0x2*0x28d+-0x671),this['_isLooping'+'ThroughScr'+'ipts']=!(-0x359*-0x5+-0x83*-0x11+-0x196f),this['_execution'+'Order']=-(-0xdf3*0x1+-0xd03*-0x1+0xf1),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x19df6c){this['_scriptsDa'+'ta']=_0x19df6c;for(const _0x1496cb in _0x19df6c){if(!_0x19df6c['hasOwnProp'+'erty'](_0x1496cb))continue;const _0xa4e2c6=this['_scriptsIn'+'dex'][_0x1496cb];if(_0xa4e2c6){if(typeof _0x19df6c[_0x1496cb]['enabled']=='boolean'&&(_0xa4e2c6['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0xa4e2c6);}),_0xa4e2c6['enabled']=!!_0x19df6c[_0x1496cb]['enabled']),typeof _0x19df6c[_0x1496cb]['attributes']=='object'){for(const _0x226458 in _0x19df6c[_0x1496cb]['attributes'])if(!Ho['reservedNa'+'mes']['has'](_0x226458)){if(!_0xa4e2c6['__attribut'+'es']['hasOwnProp'+'erty'](_0x226458)){const _0x22a4db=this['system']['app']['scripts']['get'](_0x1496cb);_0x22a4db&&_0x22a4db['attributes']['add'](_0x226458,{});}_0xa4e2c6[_0x226458]=_0x19df6c[_0x1496cb]['attributes'][_0x226458];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x175fda){const _0x35c4ca=this['_enabled'];this['_enabled']=_0x175fda,this['fire']('set','enabled',_0x35c4ca,_0x175fda);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(-0x9*-0x2f+-0x1*0x14c2+0x1*0x131b),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(0x15af+-0xbab*-0x1+-0x2159);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x5fe03=this['_beginLoop'+'ing']();for(let _0x2d094b=-0x3e*-0x52+-0x15bf+-0x17*-0x15,_0x38e7d3=this['scripts']['length'];_0x2d094b<_0x38e7d3;_0x2d094b++){const _0x2a09b5=this['scripts'][_0x2d094b];_0x2a09b5['_initializ'+'ed']&&!_0x2a09b5['_postIniti'+'alized']&&_0x2a09b5['enabled']&&(_0x2a09b5['_postIniti'+'alized']=!(-0x2*-0xa0b+0x156+0xab6*-0x2),_0x2a09b5['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x2a09b5,gf));}this['_endLoopin'+'g'](_0x5fe03);}['_beginLoop'+'ing'](){const _0x566ce9=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(0x121*0x2+0x5*0x525+0x1d*-0xf7),_0x566ce9;}['_endLoopin'+'g'](_0x1e60d4){this['_isLooping'+'ThroughScr'+'ipts']=_0x1e60d4,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x2d2e1c,_0x1e93a4,_0x32e232){this['_beingEnab'+'led']=!(-0x1790+0x23c1*0x1+0xc31*-0x1),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(-0x354*0x9+0xbf8+0x11fd);}['_checkStat'+'e'](){const _0x5a9513=this['enabled']&&this['entity']['enabled'];if(_0x5a9513===this['_oldState'])return;this['_oldState']=_0x5a9513,this['fire'](_0x5a9513?'enable':'disable'),this['fire']('state',_0x5a9513),_0x5a9513?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x340955=this['_beginLoop'+'ing']();for(let _0x108b7e=-0xb8c+0xac*-0x2+0xce4,_0x4bc651=this['scripts']['length'];_0x108b7e<_0x4bc651;_0x108b7e++){const _0x3bd0ff=this['scripts'][_0x108b7e];_0x3bd0ff['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x3bd0ff);}),_0x3bd0ff['enabled']=_0x3bd0ff['_enabled'];}this['_endLoopin'+'g'](_0x340955);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x1c50c5=this['_beginLoop'+'ing']();for(let _0x1b923d=-0x5e1+-0x14ea+-0x13*-0x169;_0x1b923d<this['scripts']['length'];_0x1b923d++){const _0x14f4d7=this['scripts'][_0x1b923d];_0x14f4d7&&this['destroy'](_0x14f4d7['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x1c50c5);}['_removeDes'+'troyedScri'+'pts'](){const _0x4ba4cb=this['_destroyed'+'Scripts']['length'];if(_0x4ba4cb){for(let _0x5263af=-0x5b*-0x50+0x1*-0x1a58+-0x218;_0x5263af<_0x4ba4cb;_0x5263af++){const _0x24fe84=this['_destroyed'+'Scripts'][_0x5263af];this['_removeScr'+'iptInstanc'+'e'](_0x24fe84);}this['_destroyed'+'Scripts']['length']=-0x1f46*-0x1+-0x1d33*-0x1+-0x71*0x89,this['_resetExec'+'utionOrder'](-0xd*-0x2e3+-0x1*0x1e49+-0x67*0x12,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x15d1c1=0x1b23+0x1*-0x1697+-0x48c,_0x2d531a=this['scripts']['length'];_0x15d1c1<_0x2d531a;_0x15d1c1++){const _0x3c3823=this['scripts'][_0x15d1c1];this['initialize'+'Attributes'](_0x3c3823);}}['initialize'+'Attributes'](_0x4f3d7d){var _0x93650a;if(_0x4f3d7d instanceof Qh)_0x4f3d7d['__initiali'+'zeAttribut'+'es']();else{const _0x591380=_0x4f3d7d['__scriptTy'+'pe']['__name'],_0x4acdd3=this['_attribute'+'DataMap']['get'](_0x591380);if(!_0x4acdd3)return;const _0x14b912=(_0x93650a=this['system']['app']['scripts'])==null?void(-0xec+-0x141d+0x1509):_0x93650a['getSchema'](_0x591380);_0x14b912||v['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x591380+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),Ex(this['system']['app'],_0x14b912['attributes'],_0x4acdd3,_0x4f3d7d);}}['_scriptMet'+'hod'](_0x18a54c,_0x2d723a,_0x57f269){try{_0x18a54c[_0x2d723a](_0x57f269);}catch(_0x26f871){_0x18a54c['enabled']=!(-0x5e9+0xe3f*-0x1+0x18d*0xd),_0x18a54c['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x2d723a+'\x22\x20for\x20\x22'+_0x18a54c['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x26f871),console['error'](_0x26f871)),_0x18a54c['fire']('error',_0x26f871,_0x2d723a),this['fire']('error',_0x18a54c,_0x26f871,_0x2d723a);}}['_onInitial'+'ize'](){const _0x2540fd=this['_scripts'],_0x3f1243=this['_beginLoop'+'ing']();for(let _0x6beeb1=0x164*-0x16+-0xbb6+-0x70d*-0x6,_0x2aa297=_0x2540fd['length'];_0x6beeb1<_0x2aa297;_0x6beeb1++){const _0x1c258a=_0x2540fd[_0x6beeb1];!_0x1c258a['_initializ'+'ed']&&_0x1c258a['enabled']&&(_0x1c258a['_initializ'+'ed']=!(0x3*0x2fe+0xcaa+0x454*-0x5),_0x1c258a['initialize']&&this['_scriptMet'+'hod'](_0x1c258a,_f));}this['_endLoopin'+'g'](_0x3f1243);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x394308){const _0xb13de6=this['_updateLis'+'t'];if(!_0xb13de6['length'])return;const _0xf85d24=this['_beginLoop'+'ing']();for(_0xb13de6['loopIndex']=-0xe2*0x1a+0xcf2*0x2+-0x2f0;_0xb13de6['loopIndex']<_0xb13de6['length'];_0xb13de6['loopIndex']++){const _0x902dcc=_0xb13de6['items'][_0xb13de6['loopIndex']];_0x902dcc['enabled']&&this['_scriptMet'+'hod'](_0x902dcc,JI,_0x394308);}this['_endLoopin'+'g'](_0xf85d24);}['_onPostUpd'+'ate'](_0x18cc71){const _0x20b464=this['_postUpdat'+'eList'];if(!_0x20b464['length'])return;const _0x193711=this['_beginLoop'+'ing']();for(_0x20b464['loopIndex']=0x1f95+0x1*0xd0d+-0x2ca2;_0x20b464['loopIndex']<_0x20b464['length'];_0x20b464['loopIndex']++){const _0x53e517=_0x20b464['items'][_0x20b464['loopIndex']];_0x53e517['enabled']&&this['_scriptMet'+'hod'](_0x53e517,eD,_0x18cc71);}this['_endLoopin'+'g'](_0x193711);}['_insertScr'+'iptInstanc'+'e'](_0x3cdaf6,_0x3bfb7b,_0x30025b){_0x3bfb7b===-(0x2b6*-0x3+-0x70f*-0x2+-0x5fb)?(this['_scripts']['push'](_0x3cdaf6),_0x3cdaf6['__executio'+'nOrder']=_0x30025b,_0x3cdaf6['update']&&this['_updateLis'+'t']['append'](_0x3cdaf6),_0x3cdaf6['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x3cdaf6)):(this['_scripts']['splice'](_0x3bfb7b,-0x1630+-0xd6e+0x239e,_0x3cdaf6),_0x3cdaf6['__executio'+'nOrder']=_0x3bfb7b,this['_resetExec'+'utionOrder'](_0x3bfb7b+(0x44*0x1b+0x31*-0x2b+0x110*0x1),_0x30025b+(0x1*-0x8ad+-0x1186+0x1*0x1a34)),_0x3cdaf6['update']&&this['_updateLis'+'t']['insert'](_0x3cdaf6),_0x3cdaf6['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x3cdaf6));}['_removeScr'+'iptInstanc'+'e'](_0x5afe5d){const _0x58faeb=this['_scripts']['indexOf'](_0x5afe5d);return _0x58faeb===-(-0x241f*0x1+0x21d9+-0xb*-0x35)||(this['_scripts']['splice'](_0x58faeb,-0x1f5b+0x13ee+-0x9a*-0x13),_0x5afe5d['update']&&this['_updateLis'+'t']['remove'](_0x5afe5d),_0x5afe5d['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x5afe5d)),_0x58faeb;}['_resetExec'+'utionOrder'](_0x4b37a7,_0xfd480a){for(let _0x540f63=_0x4b37a7;_0x540f63<_0xfd480a;_0x540f63++)this['_scripts'][_0x540f63]['__executio'+'nOrder']=_0x540f63;}['_resolveEn'+'tityScript'+'Attribute'](_0x419f49,_0x1048c2,_0x39e90f,_0x1affd3,_0x1459bd,_0x436161){if(_0x419f49['array']){const _0x2a616a=_0x39e90f['length'];if(!_0x2a616a)return;const _0x25fd75=_0x39e90f['slice']();for(let _0x54873d=0x8*0x283+0xe*0x20f+-0x827*0x6;_0x54873d<_0x2a616a;_0x54873d++){const _0x538e75=_0x25fd75[_0x54873d]instanceof We?_0x25fd75[_0x54873d]['getGuid']():_0x25fd75[_0x54873d];_0x436161[_0x538e75]&&(_0x25fd75[_0x54873d]=_0x1affd3?_0x436161[_0x538e75]['getGuid']():_0x436161[_0x538e75]);}_0x1459bd[_0x1048c2]=_0x25fd75;}else{if(_0x39e90f instanceof We)_0x39e90f=_0x39e90f['getGuid']();else{if(typeof _0x39e90f!='string')return;}_0x436161[_0x39e90f]&&(_0x1459bd[_0x1048c2]=_0x436161[_0x39e90f]);}}['has'](_0x5d4f95){if(typeof _0x5d4f95=='string')return!!this['_scriptsIn'+'dex'][_0x5d4f95];if(!_0x5d4f95)return!(-0x1*0x3df+-0xf38+0x1318);const _0x3446ea=_0x5d4f95,_0x19075d=_0x3446ea['__name'],_0xe38fff=this['_scriptsIn'+'dex'][_0x19075d];return(_0xe38fff&&_0xe38fff['instance'])instanceof _0x3446ea;}['get'](_0x2f45c2){if(typeof _0x2f45c2=='string'){const _0x453be2=this['_scriptsIn'+'dex'][_0x2f45c2];return _0x453be2?_0x453be2['instance']:null;}if(!_0x2f45c2)return null;const _0x54c447=_0x2f45c2,_0x562fa6=_0x54c447['__name'],_0x6fb570=this['_scriptsIn'+'dex'][_0x562fa6],_0x1cfb5f=_0x6fb570&&_0x6fb570['instance'];return _0x1cfb5f instanceof _0x54c447?_0x1cfb5f:null;}['create'](_0x4096ab,_0x2ce640={}){const _0xa20576=this;let _0x466f92=_0x4096ab,_0x2c6151=_0x4096ab;if(typeof _0x466f92=='string'?_0x466f92=this['system']['app']['scripts']['get'](_0x466f92):_0x466f92&&(_0x2c6151=_0x466f92['__name']??(_0x466f92['__name']=iD(Cx(_0x466f92)))),_0x466f92){if(!this['_scriptsIn'+'dex'][_0x2c6151]||!this['_scriptsIn'+'dex'][_0x2c6151]['instance']){const _0x52460b=new _0x466f92({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x2ce640['hasOwnProp'+'erty']('enabled')?_0x2ce640['enabled']:!(-0x7b7+0x1722+-0xf6b),'attributes':_0x2ce640['attributes']||{}});_0x2ce640['properties']&&typeof _0x2ce640['properties']=='object'&&Object['assign'](_0x52460b,_0x2ce640['properties']),_0x52460b instanceof Qh||this['_attribute'+'DataMap']['set'](_0x2c6151,_0x2ce640['attributes']);const _0x40eec6=this['_scripts']['length'];let _0x2e9836=-(0x26f6*-0x1+0x485*0x3+-0x65a*-0x4);return typeof _0x2ce640['ind']=='number'&&_0x2ce640['ind']!==-(-0x1e26*0x1+0x2203+-0x4*0xf7)&&_0x40eec6>_0x2ce640['ind']&&(_0x2e9836=_0x2ce640['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x52460b,_0x2e9836,_0x40eec6),this['_scriptsIn'+'dex'][_0x2c6151]={'instance':_0x52460b,'onSwap':function(){_0xa20576['swap'](_0x2c6151);}},this[_0x2c6151]=_0x52460b,_0x2ce640['preloading']||this['initialize'+'Attributes'](_0x52460b),this['fire']('create',_0x2c6151,_0x52460b),this['fire']('create:'+_0x2c6151,_0x52460b),this['system']['app']['scripts']['on']('swap:'+_0x2c6151,this['_scriptsIn'+'dex'][_0x2c6151]['onSwap']),_0x2ce640['preloading']||(_0x52460b['enabled']&&!_0x52460b['_initializ'+'ed']&&(_0x52460b['_initializ'+'ed']=!(0x2416+0x22c7+0x46dd*-0x1),_0x52460b['initialize']&&this['_scriptMet'+'hod'](_0x52460b,_f)),_0x52460b['enabled']&&!_0x52460b['_postIniti'+'alized']&&(_0x52460b['_postIniti'+'alized']=!(0x1*0x1615+0x1474*-0x1+0x1a1*-0x1),_0x52460b['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x52460b,gf))),_0x52460b;}v['warn']('script\x20\x27'+_0x2c6151+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x2c6151]={'awaiting':!(-0x1a4b+-0x1337+-0xe9*-0x32),'ind':this['_scripts']['length']},v['warn']('script\x20\x27'+_0x2c6151+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x18b95f){let _0x2723ae=_0x18b95f,_0x3e4a1c=_0x18b95f;typeof _0x3e4a1c=='string'?_0x3e4a1c=this['system']['app']['scripts']['get'](_0x3e4a1c):_0x3e4a1c&&(_0x2723ae=_0x3e4a1c['__name']);const _0x579483=this['_scriptsIn'+'dex'][_0x2723ae];if(delete this['_scriptsIn'+'dex'][_0x2723ae],!_0x579483)return!(0x3*0xd01+-0xd61*0x1+-0x2d9*0x9);this['_attribute'+'DataMap']['delete'](_0x2723ae);const _0x4e08c1=_0x579483['instance'];if(_0x4e08c1&&!_0x4e08c1['_destroyed']){if(_0x4e08c1['enabled']=!(-0x191d+0x1a*-0x174+0xa6*0x61),_0x4e08c1['_destroyed']=!(-0x2*0x10b4+-0x24*0x36+0xa4*0x40),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x4e08c1);else{const _0x152e1d=this['_removeScr'+'iptInstanc'+'e'](_0x4e08c1);_0x152e1d>=0x18e6+0x1695+-0x2f7b&&this['_resetExec'+'utionOrder'](_0x152e1d,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x2723ae,_0x579483['onSwap']),delete this[_0x2723ae],this['fire']('destroy',_0x2723ae,_0x4e08c1||null),this['fire']('destroy:'+_0x2723ae,_0x4e08c1||null),_0x4e08c1&&_0x4e08c1['fire']('destroy'),!(0x1122+0x684+-0x6*0x3f1);}['swap'](_0x30a560){let _0x2878e7=_0x30a560,_0x221209=_0x30a560;typeof _0x221209=='string'?_0x221209=this['system']['app']['scripts']['get'](_0x221209):_0x221209&&(_0x2878e7=_0x221209['__name']);const _0x1b79e7=this['_scriptsIn'+'dex'][_0x2878e7];if(!_0x1b79e7||!_0x1b79e7['instance'])return!(-0xd16+0x1*-0x1013+0x1d2a);const _0x5aeb79=_0x1b79e7['instance'],_0x3d660e=this['_scripts']['indexOf'](_0x5aeb79),_0x5cd139=new _0x221209({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x5aeb79['enabled'],'attributes':_0x5aeb79['__attribut'+'es']});return _0x5cd139['swap']?(this['initialize'+'Attributes'](_0x5cd139),this['_scripts'][_0x3d660e]=_0x5cd139,this['_scriptsIn'+'dex'][_0x2878e7]['instance']=_0x5cd139,this[_0x2878e7]=_0x5cd139,_0x5cd139['__executio'+'nOrder']=_0x3d660e,_0x5aeb79['update']&&this['_updateLis'+'t']['remove'](_0x5aeb79),_0x5aeb79['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x5aeb79),_0x5cd139['update']&&this['_updateLis'+'t']['insert'](_0x5cd139),_0x5cd139['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x5cd139),this['_scriptMet'+'hod'](_0x5cd139,tD,_0x5aeb79),this['fire']('swap',_0x2878e7,_0x5cd139),this['fire']('swap:'+_0x2878e7,_0x5cd139),!(-0x73*0x7+-0x21e+0x1c1*0x3)):!(0x2567+0x126e+-0x37d4);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2a46c4,_0x19964f){const _0xd6833c=this['entity']['script'];for(const _0x17406e in _0x2a46c4['_scriptsIn'+'dex']){const _0x3ae2a7=this['system']['app']['scripts']['get'](_0x17406e);if(!_0x3ae2a7)continue;const _0x281e4f=_0x2a46c4['_scriptsIn'+'dex'][_0x17406e];if(!_0x281e4f||!_0x281e4f['instance'])continue;const _0x12bec9=_0xd6833c[_0x17406e]['__attribut'+'esRaw'],_0x27c3ae=_0xd6833c[_0x17406e]['__attribut'+'es'];if(!_0x12bec9&&!_0x27c3ae)continue;const _0x3ddbb1=!!_0x12bec9,_0x20fe42=_0x281e4f['instance']['__attribut'+'es'];for(const _0x3b0991 in _0x20fe42){if(!_0x20fe42[_0x3b0991])continue;const _0x5f68e7=_0x3ae2a7['attributes']['get'](_0x3b0991);if(_0x5f68e7){if(_0x5f68e7['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x5f68e7,_0x3b0991,_0x20fe42[_0x3b0991],_0x3ddbb1,_0x12bec9||_0x27c3ae,_0x19964f);else{if(_0x5f68e7['type']==='json'&&Array['isArray'](_0x5f68e7['schema'])){const _0x5f0bcc=_0x20fe42[_0x3b0991],_0x120e22=_0x12bec9?_0x12bec9[_0x3b0991]:_0x27c3ae[_0x3b0991];for(let _0x23fdda=0x31e+-0x169*-0xd+-0x11*0x143;_0x23fdda<_0x5f68e7['schema']['length'];_0x23fdda++){const _0x35e70b=_0x5f68e7['schema'][_0x23fdda];if(_0x35e70b['type']==='entity'){if(_0x5f68e7['array']){for(let _0x460daf=-0x8a*-0x10+0x1b91+-0x2431;_0x460daf<_0x5f0bcc['length'];_0x460daf++)this['_resolveEn'+'tityScript'+'Attribute'](_0x35e70b,_0x35e70b['name'],_0x5f0bcc[_0x460daf][_0x35e70b['name']],_0x3ddbb1,_0x120e22[_0x460daf],_0x19964f);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x35e70b,_0x35e70b['name'],_0x5f0bcc[_0x35e70b['name']],_0x3ddbb1,_0x120e22,_0x19964f);}}}}}}}}['move'](_0x496ae8,_0x575eb7){const _0x482e05=this['_scripts']['length'];if(_0x575eb7>=_0x482e05||_0x575eb7<-0xa89+-0x1*-0x1a9a+-0x1011)return!(0x12db*-0x2+0x218a+0x42d);let _0x95f27d=_0x496ae8,_0x120ca4=_0x496ae8;typeof _0x120ca4!='string'?_0x120ca4=_0x496ae8['__name']:_0x95f27d=null;const _0x366de7=this['_scriptsIn'+'dex'][_0x120ca4];if(!_0x366de7||!_0x366de7['instance'])return!(0x228a+0x2eb*-0x2+0x3*-0x991);const _0x5e0b68=_0x366de7['instance'];if(_0x95f27d&&!(_0x5e0b68 instanceof _0x95f27d))return!(-0x1a9b*0x1+0x6*-0x3ad+0x30aa);const _0x26e6ab=this['_scripts']['indexOf'](_0x5e0b68);return _0x26e6ab===-(-0x5*-0x135+0x1181*0x1+0x1*-0x1789)||_0x26e6ab===_0x575eb7?!(-0x1d3c+0x19b+-0x2*-0xdd1):(this['_scripts']['splice'](_0x575eb7,0x1cac+-0x20f5+0x449,this['_scripts']['splice'](_0x26e6ab,0xc7d+0x55f+-0x11db)[-0x1*0x329+-0x1868*0x1+0x1b91]),this['_resetExec'+'utionOrder'](-0x24*-0xa4+-0xab3+-0xc5d,_0x482e05),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x120ca4,_0x5e0b68,_0x575eb7,_0x26e6ab),this['fire']('move:'+_0x120ca4,_0x5e0b68,_0x575eb7,_0x26e6ab),!(-0x10*0xef+0xa*-0x225+-0x1*-0x2462));}}c(di,'EVENT_CREA'+'TE','create'),c(di,'EVENT_DEST'+'ROY','destroy'),c(di,'EVENT_ENAB'+'LE','enable'),c(di,'EVENT_DISA'+'BLE','disable'),c(di,'EVENT_REMO'+'VE','remove'),c(di,'EVENT_STAT'+'E','state'),c(di,'EVENT_MOVE','move'),c(di,'EVENT_ERRO'+'R','error');class rD{constructor(){this['enabled']=!(0x2*-0x35b+0xc72+-0x4*0x16f);}}const nD='_onInitial'+'izeAttribu'+'tes',aD='_onInitial'+'ize',oD='_onPostIni'+'tialize',lD='_onUpdate',hD='_onPostUpd'+'ate';let Jl=0x4*0x565+-0x612*0x5+0x8c6;class cD extends Xe{constructor(_0x32d737){super(_0x32d737),this['id']='script',this['ComponentT'+'ype']=di,this['DataType']=rD,this['_component'+'s']=new wh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new wh({'sortBy':'_execution'+'Order'}),this['preloading']=!(-0x2647+-0x5fb*-0x4+0xe5b),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x309b9a,_0xbc472f){if(_0x309b9a['_execution'+'Order']=Jl++,this['_component'+'s']['append'](_0x309b9a),Jl>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x309b9a['enabled']=_0xbc472f['hasOwnProp'+'erty']('enabled')?!!_0xbc472f['enabled']:!(0x263a+-0x395*0x2+0x47*-0x70),_0x309b9a['enabled']&&_0x309b9a['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x309b9a),_0xbc472f['hasOwnProp'+'erty']('order')&&_0xbc472f['hasOwnProp'+'erty']('scripts')){_0x309b9a['_scriptsDa'+'ta']=_0xbc472f['scripts'];for(let _0x12c6d2=0xb9b*0x1+-0x14b*-0xf+-0x40*0x7c;_0x12c6d2<_0xbc472f['order']['length'];_0x12c6d2++)_0x309b9a['create'](_0xbc472f['order'][_0x12c6d2],{'enabled':_0xbc472f['scripts'][_0xbc472f['order'][_0x12c6d2]]['enabled'],'attributes':_0xbc472f['scripts'][_0xbc472f['order'][_0x12c6d2]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x8e399f,_0x3697a1){var _0x39533a;const _0x43c2e9=[],_0x122e52={};for(let _0xca853e=-0x1e38+-0x136b+0x31a3;_0xca853e<_0x8e399f['script']['_scripts']['length'];_0xca853e++){const _0x5550f9=_0x8e399f['script']['_scripts'][_0xca853e],_0x47668d=_0x5550f9['__scriptTy'+'pe']['__name'];_0x43c2e9['push'](_0x47668d);const _0x556ec5=((_0x39533a=_0x8e399f['script']['_attribute'+'DataMap'])==null?void(0x5a*-0x5c+-0x2392+0x21f5*0x2):_0x39533a['get'](_0x47668d))||{};for(const _0x1cac31 in _0x5550f9['__attribut'+'es'])_0x556ec5[_0x1cac31]=_0x5550f9['__attribut'+'es'][_0x1cac31];_0x122e52[_0x47668d]={'enabled':_0x5550f9['_enabled'],'attributes':_0x556ec5};}for(const _0x2394f0 in _0x8e399f['script']['_scriptsIn'+'dex'])_0x2394f0['awaiting']&&_0x43c2e9['splice'](_0x2394f0['ind'],-0x1602+-0x2e1*-0xc+0xa*-0x141,_0x2394f0);const _0x40c011={'enabled':_0x8e399f['script']['enabled'],'order':_0x43c2e9,'scripts':_0x122e52};return this['addCompone'+'nt'](_0x3697a1,_0x40c011);}['_resetExec'+'utionOrder'](){Jl=0x22ee+-0x1c9e+0xca*-0x8;for(let _0x3e51f4=0x4*-0x6c9+-0x3ee+0x1f12,_0x176681=this['_component'+'s']['length'];_0x3e51f4<_0x176681;_0x3e51f4++)this['_component'+'s']['items'][_0x3e51f4]['_execution'+'Order']=Jl++;}['_callCompo'+'nentMethod'](_0x3598c0,_0x21a4c9,_0x2f70b8){for(_0x3598c0['loopIndex']=0x19ee+0x2*-0x1257+0xac0;_0x3598c0['loopIndex']<_0x3598c0['length'];_0x3598c0['loopIndex']++)_0x3598c0['items'][_0x3598c0['loopIndex']][_0x21a4c9](_0x2f70b8);}['_onInitial'+'ize'](){this['preloading']=!(0x652+0x249e*0x1+-0x2aef),this['_callCompo'+'nentMethod'](this['_component'+'s'],nD),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],aD);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],oD);}['_onUpdate'](_0x3c1a24){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],lD,_0x3c1a24);}['_onPostUpd'+'ate'](_0x5e5026){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],hD,_0x5e5026);}['_addCompon'+'entToEnabl'+'ed'](_0x2e3660){this['_enabledCo'+'mponents']['insert'](_0x2e3660);}['_removeCom'+'ponentFrom'+'Enabled'](_0x14df40){this['_enabledCo'+'mponents']['remove'](_0x14df40);}['_onBeforeR'+'emove'](_0x32d089,_0xcd367d){this['_component'+'s']['items']['indexOf'](_0xcd367d)>=-0x15d4+-0x26*0x3+0x1646&&_0xcd367d['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0xcd367d),this['_component'+'s']['remove'](_0xcd367d);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class Mx extends ue{constructor(_0x494e98,_0x28610c){super(_0x494e98,_0x28610c),c(this,'_layers',[Fi]),c(this,'_instance',null),c(this,'_customAab'+'b',null),c(this,'_assetRefe'+'rence'),c(this,'_materialO'+'ptions',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x494e98['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x28610c['on']('remove',this['onRemoveCh'+'ild'],this),_0x28610c['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x28610c['on']('insert',this['onInsertCh'+'ild'],this),_0x28610c['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x4a9626){var _0x521448,_0x2e5293;this['_customAab'+'b']=_0x4a9626,(_0x2e5293=(_0x521448=this['_instance'])==null?void(0x105e+0x9d1+-0x1*0x1a2f):_0x521448['meshInstan'+'ce'])==null||_0x2e5293['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x1a26d3){var _0x12b39b;if(this['destroyIns'+'tance'](),this['_instance']=_0x1a26d3,(_0x12b39b=this['_instance'])!=null&&_0x12b39b['meshInstan'+'ce']){const _0x5df17f=this['_instance']['meshInstan'+'ce'];_0x5df17f['node']||(_0x5df17f['node']=this['entity']),_0x5df17f['setCustomA'+'abb'](this['_customAab'+'b']),this['_materialO'+'ptions']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['materialOp'+'tions'](_0x18ee7f){this['_materialO'+'ptions']=Object['assign']({},_0x18ee7f),this['_instance']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']);}get['materialOp'+'tions'](){return this['_materialO'+'ptions'];}get['material'](){var _0x455189;return(_0x455189=this['_instance'])==null?void(-0x1723+-0x19*-0x11+0x157a):_0x455189['material'];}set['layers'](_0x10ddcb){this['removeFrom'+'Layers'](),this['_layers']['length']=-0x1f56+0x7d2+0x1784;for(let _0x4c67ce=-0xef1+-0x1*0x256b+0x345c;_0x4c67ce<_0x10ddcb['length'];_0x4c67ce++)this['_layers'][_0x4c67ce]=_0x10ddcb[_0x4c67ce];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x79d14d){const _0x339749=_0x79d14d instanceof le?_0x79d14d['id']:_0x79d14d;this['_assetRefe'+'rence']['id']!==_0x339749&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x339749,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x3556d9){const _0x32abdd=_0x3556d9 instanceof le?_0x3556d9['id']:_0x3556d9;this['_assetRefe'+'rence']['id']=_0x32abdd;}['destroyIns'+'tance'](){var _0x5273cf;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x5273cf=this['_instance'])==null||_0x5273cf['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x2a5a4e,_0x428cbd;const _0x23bd4f=(_0x2a5a4e=this['instance'])==null?void(0x716+-0x1f5b+0x1845):_0x2a5a4e['meshInstan'+'ce'];if(_0x23bd4f){const _0x575f16=this['system']['app']['scene']['layers'];for(let _0x3927ff=0x5*-0x2a9+-0x24f5+0x2*0x1921;_0x3927ff<this['_layers']['length'];_0x3927ff++)(_0x428cbd=_0x575f16['getLayerBy'+'Id'](this['_layers'][_0x3927ff]))==null||_0x428cbd['addMeshIns'+'tances']([_0x23bd4f]);}}['removeFrom'+'Layers'](){var _0x387741,_0x36e207;const _0x3a50b5=(_0x387741=this['instance'])==null?void(0x9da+0x1e58+-0x2832):_0x387741['meshInstan'+'ce'];if(_0x3a50b5){const _0x47c476=this['system']['app']['scene']['layers'];for(let _0x11f15a=0x1*-0x2431+0xd79+-0x4*-0x5ae;_0x11f15a<this['_layers']['length'];_0x11f15a++)(_0x36e207=_0x47c476['getLayerBy'+'Id'](this['_layers'][_0x11f15a]))==null||_0x36e207['removeMesh'+'Instances']([_0x3a50b5]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x1eaa15,_0x420b98){this['addToLayer'+'s'](),_0x1eaa15['off']('add',this['onLayerAdd'+'ed'],this),_0x1eaa15['off']('remove',this['onLayerRem'+'oved'],this),_0x420b98['on']('add',this['onLayerAdd'+'ed'],this),_0x420b98['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x2fecf3){this['layers']['indexOf'](_0x2fecf3['id'])<-0x4*0xea+-0xb*-0x29b+-0x1901||this['_instance']&&_0x2fecf3['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x5a5919){this['layers']['indexOf'](_0x5a5919['id'])<0x14fb+0x370+-0x7*0x37d||this['_instance']&&_0x5a5919['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x4dd93a=this['system']['app']['scene'],_0x4f5c83=_0x4dd93a['layers'];this['_evtLayers'+'Changed']=_0x4dd93a['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4f5c83&&(this['_evtLayerA'+'dded']=_0x4f5c83['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4f5c83['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x2e95e0,_0x4e5f6f,_0x424db5;const _0x382052=this['system']['app']['scene']['layers'];(_0x2e95e0=this['_evtLayers'+'Changed'])==null||_0x2e95e0['off'](),this['_evtLayers'+'Changed']=null,_0x382052&&((_0x4e5f6f=this['_evtLayerA'+'dded'])==null||_0x4e5f6f['off'](),this['_evtLayerA'+'dded']=null,(_0x424db5=this['_evtLayerR'+'emoved'])==null||_0x424db5['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x22*-0x112+-0x71*0x10+0x2b75));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x1e+-0xfc6+-0x14e*-0xc));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x2210f9=this['_assetRefe'+'rence']['asset'];_0x2210f9&&(this['instance']=_0x2210f9['resource']['createInst'+'ance']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class dD{constructor(){this['enabled']=!(0x1d74+-0x6d1+-0x131*0x13);}}const yf=['enabled'],Rr=['instance','asset','layers'];class uD extends Xe{constructor(_0x2c005b){super(_0x2c005b),this['id']='gsplat',this['ComponentT'+'ype']=Mx,this['DataType']=dD,this['schema']=yf,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x497258,_0x4318d4,_0x3c2038){_0x4318d4['layers']&&_0x4318d4['layers']['length']&&(_0x4318d4['layers']=_0x4318d4['layers']['slice'](-0xfeb+0x2266+0x1*-0x127b));for(let _0x31b592=-0xa0a+-0x133f+0x1d49;_0x31b592<Rr['length'];_0x31b592++)_0x4318d4['hasOwnProp'+'erty'](Rr[_0x31b592])&&(_0x497258[Rr[_0x31b592]]=_0x4318d4[Rr[_0x31b592]]);_0x4318d4['aabbCenter']&&_0x4318d4['aabbHalfEx'+'tents']&&(_0x497258['customAabb']=new _e(new T(_0x4318d4['aabbCenter']),new T(_0x4318d4['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x497258,_0x4318d4,yf);}['cloneCompo'+'nent'](_0x5a45e4,_0x16e31e){const _0x1ff98a=_0x5a45e4['gsplat'],_0x4799e1={};for(let _0x310c4a=-0x11b*0x1+-0x17e1+0x1a*0xf6;_0x310c4a<Rr['length'];_0x310c4a++)_0x4799e1[Rr[_0x310c4a]]=_0x1ff98a[Rr[_0x310c4a]];_0x4799e1['enabled']=_0x1ff98a['enabled'],delete _0x4799e1['instance'];const _0x305bba=this['addCompone'+'nt'](_0x16e31e,_0x4799e1);return _0x305bba['instance']=_0x1ff98a['instance']['clone'](),_0x1ff98a['customAabb']&&(_0x305bba['customAabb']=_0x1ff98a['customAabb']['clone']()),_0x305bba;}['onRemove'](_0x49026b,_0x5e063f){_0x5e063f['onRemove']();}}ue['_buildAcce'+'ssors'](Mx['prototype'],yf);class Hp extends ce{constructor(){super(...arguments),c(this,'_meshes',null);}set['meshes'](_0x4192b1){this['decRefMesh'+'es'](),this['_meshes']=_0x4192b1,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x4192b1);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x462781;(_0x462781=this['_meshes'])==null||_0x462781['forEach']((_0x1de030,_0x35bfc8)=>{_0x1de030&&(_0x1de030['decRefCoun'+'t'](),_0x1de030['refCount']<-0xe7d+-0xa65*0x1+-0x18e3*-0x1&&(_0x1de030['destroy'](),this['_meshes'][_0x35bfc8]=null));});}['incRefMesh'+'es'](){var _0x46b2d3;(_0x46b2d3=this['_meshes'])==null||_0x46b2d3['forEach'](_0x24672b=>{_0x24672b==null||_0x24672b['incRefCoun'+'t']();});}}c(Hp,'EVENT_SETM'+'ESHES','set:meshes');function yh(_0x2a927e){const _0x5c9431=this;if(!_0x5c9431['resource'])return;const _0x53213f=_0x2a927e['resource'],_0x43ce01=_0x53213f['renders']&&_0x53213f['renders'][_0x5c9431['data']['renderInde'+'x']];_0x43ce01&&(_0x5c9431['resource']['meshes']=_0x43ce01['resource']['meshes']);}function Lg(_0xdcea78){const _0x563e7b=this;_0x563e7b['registry']['off']('load:'+_0xdcea78['id'],yh,_0x563e7b),_0x563e7b['registry']['on']('load:'+_0xdcea78['id'],yh,_0x563e7b),_0x563e7b['registry']['off']('remove:'+_0xdcea78['id'],Fg,_0x563e7b),_0x563e7b['registry']['once']('remove:'+_0xdcea78['id'],Fg,_0x563e7b),_0xdcea78['resource']?yh['call'](_0x563e7b,_0xdcea78):_0x563e7b['registry']['load'](_0xdcea78);}function Fg(_0x4cf070){const _0x46f439=this;_0x46f439['registry']['off']('load:'+_0x4cf070['id'],yh,_0x46f439),_0x46f439['resource']&&_0x46f439['resource']['destroy']();}class fD extends Ne{constructor(_0x39e3b9){super(_0x39e3b9,'render'),this['_registry']=_0x39e3b9['assets'];}['open'](_0x8a7952,_0x4454e5){return new Hp();}['patch'](_0x41a8a5,_0x455037){if(!_0x41a8a5['data']['containerA'+'sset'])return;const _0x388ca3=_0x455037['get'](_0x41a8a5['data']['containerA'+'sset']);if(!_0x388ca3){_0x455037['once']('add:'+_0x41a8a5['data']['containerA'+'sset'],Lg,_0x41a8a5);return;}Lg['call'](_0x41a8a5,_0x388ca3);}}class Px{constructor(_0x3680be,_0xb369ad,_0x370a13,_0xf4733e){this['_paths']=_0x3680be,this['_input']=_0xb369ad,this['_output']=_0x370a13,this['_interpola'+'tion']=_0xf4733e;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Jh{constructor(_0x5d2109,_0xfdafbc){this['_component'+'s']=_0x5d2109,this['_data']=_0xfdafbc;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function pD(_0x51f55a,_0x6df7e3){let _0x17d06e;const _0x3333bd=(_0x3f8839,_0x5d51a9)=>{switch(_0x5d51a9){case _0x17d06e['DT_INT8']:return new Int8Array(_0x3f8839['buffer'],_0x3f8839['byteOffset'],_0x3f8839['byteLength']);case _0x17d06e['DT_INT16']:return new Int16Array(_0x3f8839['buffer'],_0x3f8839['byteOffset'],_0x3f8839['byteLength']/(0x18f2+0x237b+-0x3c6b));case _0x17d06e['DT_INT32']:return new Int32Array(_0x3f8839['buffer'],_0x3f8839['byteOffset'],_0x3f8839['byteLength']/(0x1220+-0x1d82+0xb66));case _0x17d06e['DT_UINT8']:return new Uint8Array(_0x3f8839['buffer'],_0x3f8839['byteOffset'],_0x3f8839['byteLength']);case _0x17d06e['DT_UINT16']:return new Uint16Array(_0x3f8839['buffer'],_0x3f8839['byteOffset'],_0x3f8839['byteLength']/(0x2647*0x1+-0x2a1*-0xb+-0x5*0xd70));case _0x17d06e['DT_UINT32']:return new Uint32Array(_0x3f8839['buffer'],_0x3f8839['byteOffset'],_0x3f8839['byteLength']/(-0x25ec+-0xd*0xd+0x2699));case _0x17d06e['DT_FLOAT32']:return new Float32Array(_0x3f8839['buffer'],_0x3f8839['byteOffset'],_0x3f8839['byteLength']/(0x264d*0x1+0x171b+0x1*-0x3d64));}return null;},_0x3d87d6=_0x47f878=>{switch(_0x47f878){case _0x17d06e['DT_INT8']:return 0x1c35+0x15*0x9+0x1cf1*-0x1;case _0x17d06e['DT_INT16']:return 0x2*0x3a6+-0xcbf*-0x1+-0x1409;case _0x17d06e['DT_INT32']:return 0x2e7*0x7+0x259e+-0x39eb;case _0x17d06e['DT_UINT8']:return 0x19c3+-0x87e*0x4+0x836;case _0x17d06e['DT_UINT16']:return 0xbf8+0x1eff+-0x2af5;case _0x17d06e['DT_UINT32']:return-0x1cce+-0x1*-0x1c61+0x71*0x1;case _0x17d06e['DT_FLOAT32']:return-0x1*0xd63+0x1f55*-0x1+0x2cbc;}return-0x99b+-0xc2*-0x9+0x7*0x66;},_0x153a79=_0x40294d=>_0x40294d['num_compon'+'ents']()*_0x3d87d6(_0x40294d['data_type']()),_0x530935={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x3c97a6=(_0x158071,_0x3b742d)=>{const _0x417ad2=(_0x2e4209,_0x4a238e,_0x465c45)=>{_0x2e4209[0x519+0x2*0x22d+-0x973]=_0x4a238e[-0x101*-0x1a+-0x4*-0x20+-0x2a9*0xa]-_0x465c45[0x221b+-0x102b*-0x1+0xc6*-0x41],_0x2e4209[-0x218d*-0x1+-0x170b*-0x1+-0x1*0x3897]=_0x4a238e[0xb21+0x1a2d+-0x254d]-_0x465c45[0x19d1*-0x1+-0xe*0x134+0x2aaa],_0x2e4209[-0x114c+-0x1*0x31d+0x1*0x146b]=_0x4a238e[0x7b+0x1162*0x2+-0x233d]-_0x465c45[0x2582+-0x1acd*-0x1+-0x404d];},_0xe962a5=(_0x4e39f4,_0x305840,_0x4bcc7e)=>{_0x4e39f4[-0x1*0x1636+-0x10d4*-0x1+0x562]=_0x305840[-0x26d+0x328*-0x9+0x1*0x1ed6]*_0x4bcc7e[-0x1f64+0x17*-0x112+0x3804]-_0x4bcc7e[0x1d*-0x116+0xf45*0x2+0xf5*0x1]*_0x305840[0x1d32*0x1+0x1*-0x722+0x75a*-0x3],_0x4e39f4[-0x1*-0x1779+-0x4d*-0x1+-0x17c5*0x1]=_0x305840[-0x33*0xa9+0xd*0x10d+0x1404]*_0x4bcc7e[0x22c5*-0x1+0x2*0x1272+-0x21f]-_0x4bcc7e[-0x10a6*0x1+-0x54b*0x2+-0x2*-0xd9f]*_0x305840[-0x4d*0x4d+0xe60+-0x1*-0x8c9],_0x4e39f4[-0x1e71*-0x1+0xc3d*0x2+-0x1*0x36e9]=_0x305840[0xb*-0x256+-0x736+0x20e8]*_0x4bcc7e[-0x3*0xb5e+-0x2*-0x34a+0x1b87]-_0x4bcc7e[0x6a5+-0x1782+0x10dd]*_0x305840[-0x19d4+0x8*0x4d2+0xcbb*-0x1];},_0x4ed0e8=(_0x2e90c3,_0x36ff7e)=>{const _0x3b90ec=_0x2e90c3[_0x36ff7e+(-0x1311+-0x18b0+-0x1*-0x2bc1)],_0x518a83=_0x2e90c3[_0x36ff7e+(0x5a7*-0x5+-0x26ff+0x4343)],_0x283efd=_0x2e90c3[_0x36ff7e+(-0x1a62+-0x1*0x964+0xe5*0x28)],_0x561ed5=(-0xa55*0x3+0xfd0+0xf30)/Math['sqrt'](_0x3b90ec*_0x3b90ec+_0x518a83*_0x518a83+_0x283efd*_0x283efd);_0x2e90c3[_0x36ff7e+(-0x14e8+0xc9*-0x13+-0x23d3*-0x1)]*=_0x561ed5,_0x2e90c3[_0x36ff7e+(-0xdf*0x12+0x11e4+0x1*-0x235)]*=_0x561ed5,_0x2e90c3[_0x36ff7e+(0x14f5+0x1c85+-0x8*0x62f)]*=_0x561ed5;},_0x19837c=(_0x35a7d7,_0x5739c9,_0x49b0a9)=>{for(let _0x4a51ca=0x1*0xc73+-0x419*0x1+0x2*-0x42d;_0x4a51ca<-0x14ad+0x67b+-0x1*-0xe35;++_0x4a51ca)_0x35a7d7[_0x4a51ca]=_0x5739c9[_0x49b0a9+_0x4a51ca];},_0x1a7db4=_0x3b742d['length']/(0x1740+0x1a*0x14+-0x1945),_0x3886a3=_0x158071['length']/(-0x2*-0x1024+0x16e6+-0x372b),_0x2b506c=new Float32Array(_0x158071['length']),_0x2018a5=[-0x2374+0x180c+0x5b4*0x2,0x1f1d+0xf4*0x1f+-0x1*0x3ca9,-0x9b5+-0x1*0x21dd+0x21*0x152],_0x346a74=[0x1a66+0xaf7+-0x779*0x5,0xc*0x2df+-0x4fc*0x5+0x262*-0x4,-0x1a93*0x1+-0x23ea*0x1+-0x11*-0x3ad],_0xd93637=[0x1*-0x18df+-0x1a28+-0x3307*-0x1,0x1*-0x67d+-0x472*0x8+0x2a0d,-0x15c5*-0x1+-0x269b*0x1+0x10d6],_0x484d4c=[0x14fe+-0x664+-0xe9a,-0x657*-0x1+0xad*0x27+-0x20b2,-0x687+-0xdb*-0x1b+-0x1092],_0x1c6f90=[0x3*0x919+-0xa*0x298+0x15b*-0x1,0x1cd4+-0x26af+0x9db,-0x4d*0x74+-0x59c*-0x6+0x9e*0x2],_0x138536=[0x3*0x244+-0x219*-0xd+-0x2211*0x1,-0x1f2a+0x1656+0x8d4,0x2605+-0x1c1+-0x2444];for(let _0x1ecd5b=-0x1c21+-0x2b*-0x64+0xb55;_0x1ecd5b<_0x1a7db4;++_0x1ecd5b){const _0x3f3665=_0x3b742d[_0x1ecd5b*(0x2616+0xc07*0x1+-0x190d*0x2)+(-0x11fc+0x2463+-0x1267)]*(0x1ed7*0x1+-0x1*-0x19fc+-0x38d0),_0x522375=_0x3b742d[_0x1ecd5b*(-0x22a9+0x2122+0x18a)+(0x1767+0x98d+-0x20f3*0x1)]*(-0x14c7+-0x2425+0x38ef),_0x120007=_0x3b742d[_0x1ecd5b*(-0x750+-0x1*0x26d5+-0xb8a*-0x4)+(-0x21c0+0x603+0x1bbf)]*(0x11fb+-0x18ce+0x6d6);_0x19837c(_0x2018a5,_0x158071,_0x3f3665),_0x19837c(_0x346a74,_0x158071,_0x522375),_0x19837c(_0xd93637,_0x158071,_0x120007),_0x417ad2(_0x484d4c,_0x346a74,_0x2018a5),_0x417ad2(_0x1c6f90,_0xd93637,_0x2018a5),_0xe962a5(_0x138536,_0x484d4c,_0x1c6f90),_0x4ed0e8(_0x138536,0x1b36+0x199*-0x2+-0x35*0x74);for(let _0x663333=-0x2037+0xf0e*0x1+0x1129;_0x663333<0x1fd5*-0x1+-0x1*-0x1691+-0x1*-0x947;++_0x663333)_0x2b506c[_0x3f3665+_0x663333]+=_0x138536[_0x663333],_0x2b506c[_0x522375+_0x663333]+=_0x138536[_0x663333],_0x2b506c[_0x120007+_0x663333]+=_0x138536[_0x663333];}for(let _0x5b6c9f=0xacb+0x4f*0x52+0x1*-0x2419;_0x5b6c9f<_0x3886a3;++_0x5b6c9f)_0x4ed0e8(_0x2b506c,_0x5b6c9f*(-0x11d8+0x8dc+-0x8ff*-0x1));return new Uint8Array(_0x2b506c['buffer']);},_0x54a2ce=_0x320fa3=>{const _0x100ddd={},_0x571073=new _0x17d06e['DecoderBuf'+'fer']();_0x571073['Init'](_0x320fa3,_0x320fa3['length']);const _0x2f2f43=new _0x17d06e['Decoder']();if(_0x2f2f43['GetEncoded'+'GeometryTy'+'pe'](_0x571073)!==_0x17d06e['TRIANGULAR'+'_MESH'])return _0x100ddd['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x100ddd;const _0x399d68=new _0x17d06e['Mesh'](),_0x231726=_0x2f2f43['DecodeBuff'+'erToMesh'](_0x571073,_0x399d68);if(!_0x231726||!_0x231726['ok']()||_0x17d06e['getPointer'](_0x399d68)===0xe3d+-0x4cd*-0x1+-0x130a)return _0x100ddd['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x100ddd;const _0x581f4a=_0x399d68['num_faces']()*(-0x2*0x71+0x12*0xfe+-0x10f7),_0x3d0346=_0x399d68['num_points']()<=0x1*0x7e6a+0x109e8+-0x8853,_0x3c422b=_0x581f4a*(_0x3d0346?-0x5*0x39+-0x6a0+0x3*0x295:-0x1951+-0x1e58+0x37ad),_0x459d16=_0x17d06e['_malloc'](_0x3c422b);_0x3d0346?(_0x2f2f43['GetTriangl'+'esUInt16Ar'+'ray'](_0x399d68,_0x3c422b,_0x459d16),_0x100ddd['indices']=new Uint16Array(_0x17d06e['HEAPU16']['buffer'],_0x459d16,_0x581f4a)['slice']()['buffer']):(_0x2f2f43['GetTriangl'+'esUInt32Ar'+'ray'](_0x399d68,_0x3c422b,_0x459d16),_0x100ddd['indices']=new Uint32Array(_0x17d06e['HEAPU32']['buffer'],_0x459d16,_0x581f4a)['slice']()['buffer']),_0x17d06e['_free'](_0x459d16);const _0x186807=[];for(let _0x2ee7e6=0xdf2+-0x1*-0x13e3+0x3*-0xb47;_0x2ee7e6<_0x399d68['num_attrib'+'utes']();++_0x2ee7e6)_0x186807['push'](_0x2f2f43['GetAttribu'+'te'](_0x399d68,_0x2ee7e6));_0x186807['sort']((_0x439c03,_0xad0642)=>(_0x530935[_0x439c03['attribute_'+'type']()]??_0x530935['length'])-(_0x530935[_0xad0642['attribute_'+'type']()]??_0x530935['length'])),_0x100ddd['attributes']=_0x186807['map'](_0x772ada=>_0x772ada['unique_id']());let _0x5296f3=-0x263+0x141a+-0x11b7;const _0x30c591=_0x186807['map'](_0x12fbdf=>{const _0x4fc41b=_0x5296f3;return _0x5296f3+=Math['ceil'](_0x153a79(_0x12fbdf)/(-0x13d4*0x1+-0x17*-0x3d+0xe5d))*(-0x1*-0x1264+-0x14fc+0xa7*0x4),_0x4fc41b;}),_0x31d43f=_0x186807['some'](_0x7cfa6a=>_0x7cfa6a['attribute_'+'type']()===0x7*0x50d+0x1*0x1539+-0x3893),_0x50ba6f=_0x30c591[-0x1e3b+-0x191e*0x1+0x375a];if(!_0x31d43f){for(let _0x50a3e0=-0x874+-0xc85+0x14fa;_0x50a3e0<_0x30c591['length'];++_0x50a3e0)_0x30c591[_0x50a3e0]+=0x1*0x1339+-0x61d+-0x10*0xd1;_0x5296f3+=0x5a1*-0x3+0x162e+-0x53f;}_0x100ddd['vertices']=new ArrayBuffer(_0x399d68['num_points']()*_0x5296f3);const _0x3762f=new Uint8Array(_0x100ddd['vertices']);for(let _0x3da921=-0x58f+0x22*-0x29+-0x3ab*-0x3;_0x3da921<_0x399d68['num_attrib'+'utes']();++_0x3da921){const _0x1ec453=_0x186807[_0x3da921],_0x5d1642=_0x153a79(_0x1ec453),_0xcd0a56=_0x399d68['num_points']()*_0x5d1642,_0x3586aa=_0x17d06e['_malloc'](_0xcd0a56);_0x2f2f43['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x399d68,_0x1ec453,_0x1ec453['data_type'](),_0xcd0a56,_0x3586aa);const _0x36989f=new Uint8Array(_0x17d06e['HEAPU8']['buffer'],_0x3586aa,_0xcd0a56);for(let _0x1395af=-0x13ff*-0x1+0x2*-0x12a5+0x114b;_0x1395af<_0x399d68['num_points']();++_0x1395af)for(let _0x270f55=0x194+-0x1*-0xdfd+0x5*-0x31d;_0x270f55<_0x5d1642;++_0x270f55)_0x3762f[_0x1395af*_0x5296f3+_0x30c591[_0x3da921]+_0x270f55]=_0x36989f[_0x1395af*_0x5d1642+_0x270f55];if(!_0x31d43f&&_0x1ec453['attribute_'+'type']()===0x1*-0x1c3a+0x13+0x1c27){const _0x42e7d6=_0x3c97a6(_0x3333bd(_0x36989f,_0x1ec453['data_type']()),_0x3d0346?new Uint16Array(_0x100ddd['indices']):new Uint32Array(_0x100ddd['indices']));for(let _0x262aa6=0x1451+0x2506+0xe9*-0x3f;_0x262aa6<_0x399d68['num_points']();++_0x262aa6)for(let _0x30ff11=0x2b0*-0x1+-0xd*0x215+0x1dc1;_0x30ff11<0x9c3+0x992+-0x1349;++_0x30ff11)_0x3762f[_0x262aa6*_0x5296f3+_0x50ba6f+_0x30ff11]=_0x42e7d6[_0x262aa6*(0x1f48+-0x1*-0x1f43+-0x1*0x3e7f)+_0x30ff11];}_0x17d06e['_free'](_0x3586aa);}return _0x17d06e['destroy'](_0x399d68),_0x17d06e['destroy'](_0x2f2f43),_0x17d06e['destroy'](_0x571073),_0x100ddd;},_0x505375=_0x76e3a8=>{const _0x110cb3=_0x54a2ce(new Uint8Array(_0x76e3a8['buffer']));self['postMessag'+'e']({'jobId':_0x76e3a8['jobId'],'error':_0x110cb3['error'],'indices':_0x110cb3['indices'],'vertices':_0x110cb3['vertices'],'attributes':_0x110cb3['attributes']},[_0x110cb3['indices'],_0x110cb3['vertices']]['filter'](_0x252b13=>_0x252b13!=null));},_0x405673=[];self['onmessage']=_0x12146d=>{const _0x5aab7d=_0x12146d['data'];switch(_0x5aab7d['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x459f39,_0x417450)=>(WebAssembly['instantiat'+'e'](_0x5aab7d['module'],_0x459f39)['then'](_0x4f705d=>_0x417450(_0x4f705d))['catch'](_0x18b16e=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x18b16e)),{})})['then'](_0xefacc6=>{_0x17d06e=_0xefacc6,_0x405673['forEach'](_0x1b54f1=>_0x505375(_0x1b54f1));});break;case'decodeMesh':_0x17d06e?_0x505375(_0x5aab7d):_0x405673['push'](_0x5aab7d);break;}};}const Og=-0x691+-0x23b+0x1*0x8cf;class mD{constructor(){this['workers']=[[],[],[]],this['jobId']=-0x66b+0x21bf+-0x1b54*0x1,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x1e0c9e,_0x26c5a1)=>{_0x1e0c9e['postMessag'+'e']({'type':'decodeMesh','jobId':_0x26c5a1['jobId'],'buffer':_0x26c5a1['buffer']},[_0x26c5a1['buffer']]);};}['init'](_0x2767b5){for(_0x2767b5['forEach'](_0x16b4e1=>{_0x16b4e1['addEventLi'+'stener']('message',_0x3b259e=>{const _0xdcf680=_0x3b259e['data'],_0x38e807=this['jobCallbac'+'ks']['get'](_0xdcf680['jobId']);if(_0x38e807&&_0x38e807(_0xdcf680['error'],{'indices':_0xdcf680['indices'],'vertices':_0xdcf680['vertices'],'attributes':_0xdcf680['attributes']}),this['jobCallbac'+'ks']['delete'](_0xdcf680['jobId']),this['jobQueue']['length']>-0xcb*0x1e+-0x2629*0x1+0x3df3){const _0x2a0644=this['jobQueue']['shift']();this['run'](_0x16b4e1,_0x2a0644);}else{const _0xd3b368=this['workers'][0x22cc+0x100e+0x1*-0x32d8]['indexOf'](_0x16b4e1);if(_0xd3b368!==-(0x1*0xaf7+-0x1165+0x9*0xb7))this['workers'][0x73*-0x35+0x65*-0x1+0x1836]['splice'](_0xd3b368,0x4*-0x375+-0x5c*0x2+0xe8d),this['workers'][0x11db+0x19b5+-0x2b8f]['push'](_0x16b4e1);else{const _0x235269=this['workers'][-0x97f+0x701+0x47*0x9]['indexOf'](_0x16b4e1);_0x235269!==-(0x22e4+0x24bd+-0xbf*0x60)?(this['workers'][-0x187*0x14+-0x9*-0xe0+0x16ad]['splice'](_0x235269,-0x1f26+0xe6f+0x10b8),this['workers'][0x1*0x11a7+-0x888*0x3+0x7f1*0x1]['push'](_0x16b4e1)):v['error']('logical\x20er'+'ror');}}});}),this['workers'][-0x5*0x51b+0x1106+0x7*0x137]=_0x2767b5;this['jobQueue']['length']&&(this['workers'][0x2*0xd3d+-0xe29+0x41b*-0x3]['length']||this['workers'][-0x304+-0x4*-0xa7+-0x5*-0x15]['length']);){const _0x1d353b=this['jobQueue']['shift']();if(this['workers'][-0x1fe4*-0x1+0x42*-0x82+-0x4*-0x68]['length']>0x9*0x67+-0x1cd9+0x193a){const _0x1532b2=this['workers'][-0x26ca+0xb*0x14b+0x1891]['shift']();this['workers'][-0x440*0x3+-0x1*0x240a+0x30cb]['push'](_0x1532b2),this['run'](_0x1532b2,_0x1d353b);}else{const _0x2591f3=this['workers'][-0x146d+-0xe68+0x2ae*0xd]['shift']();this['workers'][0xfb3+-0x67e+0x9d*-0xf]['push'](_0x2591f3),this['run'](_0x2591f3,_0x1d353b);}}}['enqueueJob'](_0x28741d,_0x445e0f){const _0x2971d4={'jobId':this['jobId']++,'buffer':_0x28741d};if(this['jobCallbac'+'ks']['set'](_0x2971d4['jobId'],_0x445e0f),this['workers'][-0x223a+-0x1965+-0x1*-0x3b9f]['length']>0x9bb+0x69*0x2b+-0x1b5e){const _0x2fd55c=this['workers'][-0x1200+0x14ee+-0x2ee]['shift']();this['workers'][0x1cd6+-0xa1c+0x12b9*-0x1]['push'](_0x2fd55c),this['run'](_0x2fd55c,_0x2971d4);}else{if(this['workers'][-0x279+0x1aba+-0x610*0x4]['length']>-0x69e+0x1920+-0x1282){const _0x241a55=this['workers'][-0x3f7*-0x1+0x29*0x9f+0x1d6d*-0x1]['shift']();this['workers'][-0x247f*0x1+0x22fe+0x183]['push'](_0x241a55),this['run'](_0x241a55,_0x2971d4);}else this['jobQueue']['push'](_0x2971d4);}}}const _D=_0x5e4f32=>new Promise((_0x546db3,_0x4fb812)=>{const _0x5af513={'cache':!(0x1*-0x81e+0x11*0x35+0x499),'responseType':'text','retry':Og>-0x3e+0x4fa*-0x1+0x538,'maxRetries':Og};$e['get'](_0x5e4f32,_0x5af513,(_0x29670,_0x55d13e)=>{_0x29670?_0x4fb812(_0x29670):_0x546db3(_0x55d13e);});}),gD=_0x6da15a=>{const _0x5d796f=()=>fetch(_0x6da15a)['then'](_0x28c6ab=>_0x28c6ab['arrayBuffe'+'r']())['then'](_0x4bde4b=>WebAssembly['compile'](_0x4bde4b)),_0x400579=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x6da15a))['catch'](_0x31f721=>(v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x6da15a+'\x20('+_0x31f721+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x5d796f()));return WebAssembly['compileStr'+'eaming']?_0x400579():_0x5d796f();},kg=-0x905*0x4+0x15+0x480*0x8;let xh;const yD=_0x3134fb=>{if(xh)return!(0x2*0x8cd+-0x7b8+-0x9e2);if(!_0x3134fb){const _0x5d5e2b=ay['getConfig']('DracoDecod'+'erModule');_0x5d5e2b?_0x3134fb={'jsUrl':_0x5d5e2b['glueUrl'],'wasmUrl':_0x5d5e2b['wasmUrl'],'numWorkers':_0x5d5e2b['numWorkers']}:_0x3134fb={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':kg};}return!_0x3134fb['jsUrl']||!_0x3134fb['wasmUrl']?!(0x25ce+-0x6d*-0x43+-0x4254):(xh=new mD(),Promise['all']([_D(_0x3134fb['jsUrl']),gD(_0x3134fb['wasmUrl'])])['then'](([_0x496921,_0x5dbdd4])=>{const _0x340d82=['/*\x20draco\x20*'+'/',_0x496921,'/*\x20worker\x20'+'*/','(\x0a'+pD['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x325d71=new Blob([_0x340d82],{'type':'applicatio'+'n/javascri'+'pt'}),_0x5e3deb=URL['createObje'+'ctURL'](_0x325d71),_0x47b25a=Math['max'](-0xdc1+0x32+0xd90,Math['min'](-0x7ad+0xeac+-0x6ef,_0x3134fb['numWorkers']||kg)),_0x1b42f4=[];for(let _0x5aed62=-0xbc8+0x96+0xb32;_0x5aed62<_0x47b25a;++_0x5aed62){const _0x48d635=new Worker(_0x5e3deb);_0x48d635['postMessag'+'e']({'type':'init','module':_0x5dbdd4}),_0x1b42f4['push'](_0x48d635);}xh['init'](_0x1b42f4);}),!(0x6*0x1a5+0xfbd+0xf*-0x1b5));},xD=(_0x40ca2f,_0x223d89)=>yD()?(xh['enqueueJob'](_0x40ca2f,_0x223d89),!(0x1*0xa06+-0x8*-0xe+-0x1a*0x67)):!(0x895+-0x22a3+0x7*0x3b9);class SD{constructor(){c(this,'gltf'),c(this,'nodes'),c(this,'scenes'),c(this,'animations'),c(this,'textures'),c(this,'materials'),c(this,'variants'),c(this,'meshVarian'+'ts'),c(this,'meshDefaul'+'tMaterials'),c(this,'renders'),c(this,'skins'),c(this,'lights'),c(this,'cameras'),c(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x164ede=>{_0x164ede['meshes']=null;});}}const Rx=_0x19d5d9=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x19d5d9),vD=_0xe8c612=>_0xe8c612['substring'](_0xe8c612['indexOf'](':')+(-0x13cd+-0x24e1+0x38af),_0xe8c612['indexOf'](';')),Wo=_0x32e5bc=>{switch(_0x32e5bc){case'SCALAR':return-0x90a+-0x5*0x6bb+0x2ab2;case'VEC2':return 0x13d*-0x5+0x10bd+0x545*-0x2;case'VEC3':return 0x1704+-0x2068+-0x1d*-0x53;case'VEC4':return 0x20b7+0x24*-0xb+0x13f*-0x19;case'MAT2':return 0x3f*0x67+0xf79*-0x2+0x1df*0x3;case'MAT3':return 0x1a*0x167+-0x1ad0+-0x99d;case'MAT4':return 0x1*0x2345+0x2323+-0x4658;default:return 0x389*-0xb+-0xdc0+0x2e*0x125;}},Jc=_0x586ead=>{switch(_0x586ead){case 0x877+-0x1*-0xf21+-0x14*0x2e:return Rc;case 0x7*-0x314+0xdf*0x22+-0x263*-0x5:return Kr;case 0x1*-0xe82+0x76e+0x1b16:return Ic;case-0x13b+-0x466+0x2*0xcd2:return el;case 0x1cd*0x7+0xf65+-0x7fc:return By;case-0xd6a+-0xa80+0x2bef:return Do;case-0x21d5+0xbf*-0x35+-0x63a*-0xf:return Ee;default:return-0x193d*-0x1+0x1858+-0x3195;}},bD=_0x4a3529=>{switch(_0x4a3529){case-0x9*0x3a8+0x273b+0xdad:return-0x32*-0xad+-0x624*0x2+0x5*-0x44d;case 0x20ae+-0x111+0x4*-0x2e7:return 0x7c7*-0x5+-0x963+0x3047;case 0x253+-0x12f7+0x24a6:return-0x1c39+-0x2*-0x945+-0x3*-0x33b;case-0x2*-0x11b+0x20b8+0x3*-0x4f9:return 0x1d85+-0x1146+0xd*-0xf1;case 0x2745+-0xb*-0x97+-0x19be:return 0x2538+0x4*-0x916+0x4*-0x37;case 0xcf2+-0x57f+0xc92:return-0x14c4+0x162d+-0x165;case 0x25e0+-0x1f93+0xdb9:return 0x1df9+0x2572+-0x4367;default:return 0x1273+-0x1*-0xe5f+-0x1069*0x2;}},wD=_0xef21fb=>{switch(_0xef21fb){case 0x878+-0x6ce*0x3+0xaa6*0x3:return Int8Array;case 0xe*0xc5+0x132f+0x34*-0x31:return Uint8Array;case 0x29c*0x5+-0x1*0x4d5+0xbcb:return Int16Array;case-0x1bc2+0xb*0x9+-0x97a*-0x5:return Uint16Array;case-0x2625+-0x258f+-0x6*-0xff4:return Int32Array;case-0x5*-0x31e+0x9be+0x1c5*-0x3:return Uint32Array;case 0xcf7*-0x1+-0x1*0x1efe+0x3ffb:return Float32Array;default:return null;}},ec={'POSITION':He,'NORMAL':Yt,'TANGENT':Zs,'COLOR_0':At,'JOINTS_0':qt,'WEIGHTS_0':Ys,'TEXCOORD_0':ns,'TEXCOORD_1':_n,'TEXCOORD_2':jo,'TEXCOORD_3':Yo,'TEXCOORD_4':Ko,'TEXCOORD_5':Zo,'TEXCOORD_6':Qo,'TEXCOORD_7':Jo},Bg={[He]:-0x18dc+-0x1c80+-0xa*-0x556,[Yt]:0x1377+-0x17b0+0x43a,[Zs]:-0xddb+-0x2241+-0x3*-0x100a,[At]:-0x2387+0x2*0x51a+0x5e*0x45,[qt]:-0xd*0x2bf+-0x8ef+-0x2fa*-0xf,[Ys]:-0x1*0x104d+0x373*0xb+-0x5*0x453,[ns]:-0x23a1+0xd9*0x7+0x1db8,[_n]:0x1a9*-0x16+0x11ed*0x1+-0x10*-0x12a,[jo]:0x4f6+0x1979+-0x1e67,[Yo]:-0x9*0x437+0x11*-0x55+0x2b9d,[Ko]:-0xc41+-0x13a7+0x1ff2,[Zo]:-0x2088+0x199*0x1+0x1efa,[Qo]:-0x1a20+-0x2062+0x3a8e,[Jo]:0x618+0x23cb+0xdf2*-0x3},TD=_0xb3b13f=>{switch(_0xb3b13f){case Rc:return _0x1ac930=>Math['max'](_0x1ac930/(-0x179d+0x2675+-0xe59),-(-0x2*-0xf5f+-0x7b*-0x1b+-0x2bb6));case Kr:return _0x3ab2c5=>_0x3ab2c5/(-0x25bb+-0x43*0x25+0x3069);case Ic:return _0x4dcf6c=>Math['max'](_0x4dcf6c/(0xacd5+0x7e1c+-0xaaf2),-(0x1ed5+-0x2a9*-0x2+-0x52a*0x7));case el:return _0x183d23=>_0x183d23/(-0x1*0xa375+0xfd98+0xa5dc);default:return _0x184940=>_0x184940;}},xf=(_0x879dba,_0x1e32f2,_0x212a72)=>{const _0x37d973=TD(_0x212a72),_0x32b5ab=_0x1e32f2['length'];for(let _0x5e931b=-0x495+0x1ebc+0x1a27*-0x1;_0x5e931b<_0x32b5ab;++_0x5e931b)_0x879dba[_0x5e931b]=_0x37d973(_0x1e32f2[_0x5e931b]);return _0x879dba;},sn=(_0x2b39ea,_0x12374f,_0x443403=!(0x699+-0x1bd3+0x153b))=>{const _0x37e381=Wo(_0x2b39ea['type']),_0x2b70e8=wD(_0x2b39ea['componentT'+'ype']);if(!_0x2b70e8)return null;let _0x332269;if(_0x2b39ea['sparse']){const _0x511571=_0x2b39ea['sparse'],_0x2f84d4={'count':_0x511571['count'],'type':'SCALAR'},_0x5ea4df=sn(Object['assign'](_0x2f84d4,_0x511571['indices']),_0x12374f,!(0x1*-0x2263+0x17c7+-0x1*-0xa9c)),_0x3cc64f={'count':_0x511571['count'],'type':_0x2b39ea['type'],'componentType':_0x2b39ea['componentT'+'ype']},_0x494d9c=sn(Object['assign'](_0x3cc64f,_0x511571['values']),_0x12374f,!(-0x223*-0x3+-0x1e4b+0x17e2));if(_0x2b39ea['hasOwnProp'+'erty']('bufferView')){const _0x659d69={'bufferView':_0x2b39ea['bufferView'],'byteOffset':_0x2b39ea['byteOffset'],'componentType':_0x2b39ea['componentT'+'ype'],'count':_0x2b39ea['count'],'type':_0x2b39ea['type']};_0x332269=sn(_0x659d69,_0x12374f,!(-0x28*0x5f+-0x1046+0x7*0x472))['slice']();}else _0x332269=new _0x2b70e8(_0x2b39ea['count']*_0x37e381);for(let _0x53e56a=-0xb89*-0x1+0x1*-0x1592+-0x1*-0xa09;_0x53e56a<_0x511571['count'];++_0x53e56a){const _0x35c14f=_0x5ea4df[_0x53e56a];for(let _0xca7cae=0xbd*-0x1e+0x2676+-0x1050;_0xca7cae<_0x37e381;++_0xca7cae)_0x332269[_0x35c14f*_0x37e381+_0xca7cae]=_0x494d9c[_0x53e56a*_0x37e381+_0xca7cae];}}else{if(_0x2b39ea['hasOwnProp'+'erty']('bufferView')){const _0x3f5fcf=_0x12374f[_0x2b39ea['bufferView']];if(_0x443403&&_0x3f5fcf['hasOwnProp'+'erty']('byteStride')){const _0x541193=_0x37e381*_0x2b70e8['BYTES_PER_'+'ELEMENT'],_0x68fef0=new ArrayBuffer(_0x2b39ea['count']*_0x541193),_0x2c35d8=new Uint8Array(_0x68fef0);let _0x13621f=0x1e65+0x4*0x4f7+-0x19f*0x1f;for(let _0x1a74d3=0x99c+0x1*0x1ea1+-0x283d;_0x1a74d3<_0x2b39ea['count'];++_0x1a74d3){let _0x2b5e43=(_0x2b39ea['byteOffset']||-0x281*0x9+0x182*0x11+-0xd*0x3d)+_0x1a74d3*_0x3f5fcf['byteStride'];for(let _0x53e584=0x1728+0x75*0x31+-0x2d8d;_0x53e584<_0x541193;++_0x53e584)_0x2c35d8[_0x13621f++]=_0x3f5fcf[_0x2b5e43++];}_0x332269=new _0x2b70e8(_0x68fef0);}else _0x332269=new _0x2b70e8(_0x3f5fcf['buffer'],_0x3f5fcf['byteOffset']+(_0x2b39ea['byteOffset']||0xc85*0x2+0x1370*0x1+-0x2c7a*0x1),_0x2b39ea['count']*_0x37e381);}else _0x332269=new _0x2b70e8(_0x2b39ea['count']*_0x37e381);}return _0x332269;},ma=(_0x570696,_0x439c16)=>{const _0x2b9998=sn(_0x570696,_0x439c16,!(-0x1fda+0x1672+0x2b*0x38));if(_0x2b9998 instanceof Float32Array||!_0x570696['normalized'])return _0x2b9998;const _0x2341ee=new Float32Array(_0x2b9998['length']);return xf(_0x2341ee,_0x2b9998,Jc(_0x570696['componentT'+'ype'])),_0x2341ee;},Sf=_0x3b6e91=>{let _0x5445c2=_0x3b6e91['min'],_0x10bd5f=_0x3b6e91['max'];if(!_0x5445c2||!_0x10bd5f)return null;if(_0x3b6e91['normalized']){const _0x32835e=Jc(_0x3b6e91['componentT'+'ype']);_0x5445c2=xf([],_0x5445c2,_0x32835e),_0x10bd5f=xf([],_0x10bd5f,_0x32835e);}return new _e(new T((_0x10bd5f[-0x3be+0x506+-0x148]+_0x5445c2[0x53b*0x5+0x8e4+-0x230b])*(0x381*-0x1+-0x259b+-0xdb4*-0x3+0.5),(_0x10bd5f[0x1cb*0x13+-0x749+0x1ac7*-0x1]+_0x5445c2[-0x1*0x2597+0x1727*-0x1+0x3cbf])*(0x1584+-0x3*-0x336+-0x1f26+0.5),(_0x10bd5f[-0x362+0x5ff+-0x29b]+_0x5445c2[-0x282*-0x3+-0xa38+-0xad*-0x4])*(-0x1a47+-0x2471+0x24*0x1be+0.5)),new T((_0x10bd5f[-0x1391*0x1+0x25ff+-0x7*0x2a2]-_0x5445c2[0x676+-0x1a1c+0x13a6])*(-0x2a7*-0xa+0x4d*-0x46+0x8c*-0xa+0.5),(_0x10bd5f[-0x1*0xc87+0xf95+-0x30d]-_0x5445c2[-0x18a7*0x1+0x3*-0xed+0x1b6f])*(-0x167*-0x5+0x233d*-0x1+0x1c3a+0.5),(_0x10bd5f[-0x935*0x3+0x49d*0x7+-0x18e*0x3]-_0x5445c2[0x133*-0x1b+0x8b1*-0x1+-0x1de*-0x16])*(0x85c+-0x2475+0x1c19+0.5)));},Ix=_0x1e7176=>{if(!_0x1e7176['hasOwnProp'+'erty']('mode'))return Ms;switch(_0x1e7176['mode']){case-0x1731*0x1+-0xb*-0x9f+0x105c:return Mc;case-0x1bf*-0x7+0x1ace*0x1+-0x3e7*0xa:return Pc;case-0x18fe+0xc28+-0x89*-0x18:return My;case 0x22f2*0x1+0xda*0x23+-0x40bd:return Py;case-0xdb2*-0x1+0x1*-0x166+-0xc48:return Ms;case-0x118f+0x137*-0x6+0x18de:return ar;case-0x3*-0x996+0x4fb+0x4d1*-0x7:return Yr;default:return Ms;}},AD=_0x25acd7=>{const _0x412ae9=new Uint16Array(_0x25acd7);for(let _0x2cf672=-0xa*0x3be+-0x60f+0x2b7b*0x1;_0x2cf672<_0x25acd7;_0x2cf672++)_0x412ae9[_0x2cf672]=_0x2cf672;return _0x412ae9;},ED=(_0x48a110,_0xe49984)=>{const _0x563dd1=_0x48a110[He];if(!_0x563dd1||_0x563dd1['components']!==0x420+0x1fd3*0x1+-0x23f0)return;let _0x548d46;if(_0x563dd1['size']!==_0x563dd1['stride']){const _0x2b9447=_0x563dd1['stride']/_o[_0x563dd1['type']],_0x3be4c5=new da[_0x563dd1['type']](_0x563dd1['buffer'],_0x563dd1['offset'],_0x563dd1['count']*_0x2b9447);_0x548d46=new da[_0x563dd1['type']](_0x563dd1['count']*(0x661+0x1f4f+0x5*-0x789));for(let _0x285eab=0xde9*0x1+0xeaa+-0x5b7*0x5;_0x285eab<_0x563dd1['count'];++_0x285eab)_0x548d46[_0x285eab*(0x26c6+0x39*-0x68+-0x1*0xf9b)+(0x3*0xbc9+0x2*-0x5c9+-0x17c9)]=_0x3be4c5[_0x285eab*_0x2b9447+(0x45c+0x2*0x398+0x2e3*-0x4)],_0x548d46[_0x285eab*(0x26c3+-0x5*-0x555+-0x4169)+(0x1a19+-0xb*0x377+0xc05)]=_0x3be4c5[_0x285eab*_0x2b9447+(-0x17be+0xc7*0x14+-0x833*-0x1)],_0x548d46[_0x285eab*(0x3e*-0xf+0x2*0x754+-0xb03)+(-0x2680+-0x101*-0x1e+-0xb3*-0xc)]=_0x3be4c5[_0x285eab*_0x2b9447+(0x1cc7+0x834+0xf*-0x277)];}else _0x548d46=new da[_0x563dd1['type']](_0x563dd1['buffer'],_0x563dd1['offset'],_0x563dd1['count']*(-0x1455+0x9a6+-0x25*-0x4a));const _0x549f7e=_0x563dd1['count'];_0xe49984||(_0xe49984=AD(_0x549f7e));const _0x233ff9=k0(_0x548d46,_0xe49984),_0x4c4328=new Float32Array(_0x233ff9['length']);_0x4c4328['set'](_0x233ff9),_0x48a110[Yt]={'buffer':_0x4c4328['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x549f7e,'components':0x3,'type':Ee};},CD=_0x103f8c=>{const _0x4f95d4=_0xd1616d=>{const _0x4f35c0=[];for(let _0x4d5558=-0x23f*0x2+-0x38*0xa2+0x26*0x10d;_0x4d5558<_0xd1616d['_levels']['length'];++_0x4d5558){let _0x687744=[];if(_0xd1616d['cubemap']){for(let _0xecd518=0x1619+0x2637+-0x3c50;_0xecd518<-0x1e38+-0xd*-0x13d+0xe25;++_0xecd518)_0x687744['push'](_0xd1616d['_levels'][_0x4d5558][_0xecd518]);}else _0x687744=_0xd1616d['_levels'][_0x4d5558];_0x4f35c0['push'](_0x687744);}return _0x4f35c0;},_0x2520a0=new he(_0x103f8c['device'],_0x103f8c);return _0x2520a0['_levels']=_0x4f95d4(_0x103f8c),_0x2520a0;},MD=_0x1d17c4=>{const _0x1ff9c=new le(_0x1d17c4['name']+'_clone',_0x1d17c4['type'],_0x1d17c4['file'],_0x1d17c4['data'],_0x1d17c4['options']);return _0x1ff9c['loaded']=!(-0x8*-0x41b+0x1aa7+-0x3*0x13d5),_0x1ff9c['resource']=CD(_0x1d17c4['resource']),_0x1d17c4['registry']['add'](_0x1ff9c),_0x1ff9c;},PD=(_0x407439,_0x4e554c)=>{const _0x2573ef=_0x4e554c[He];if(!_0x2573ef)return null;const _0x43accc=_0x2573ef['count'],_0x2f5c16=[];for(const _0x5708dc in _0x4e554c)if(_0x4e554c['hasOwnProp'+'erty'](_0x5708dc)){const _0x4689d6={'semantic':_0x5708dc,'components':_0x4e554c[_0x5708dc]['components'],'type':_0x4e554c[_0x5708dc]['type'],'normalize':!!_0x4e554c[_0x5708dc]['normalize']};Et['isElementV'+'alid'](_0x407439,_0x4689d6)||_0x4689d6['components']++,_0x2f5c16['push'](_0x4689d6);}_0x2f5c16['sort']((_0x54dce3,_0x5d63b9)=>Bg[_0x54dce3['semantic']]-Bg[_0x5d63b9['semantic']]);let _0x569a16,_0x583fcd,_0x4939e7,_0x4d6423,_0x5143ad,_0x2fa3a5;const _0x4ffb94=new Et(_0x407439,_0x2f5c16);let _0x46c504=!(0x8ea*-0x1+-0x1b12+0x23fc);for(_0x569a16=-0x1894+-0xa79*0x1+0x230d;_0x569a16<_0x4ffb94['elements']['length'];++_0x569a16)if(_0x5143ad=_0x4ffb94['elements'][_0x569a16],_0x4d6423=_0x4e554c[_0x5143ad['name']],_0x2fa3a5=_0x4d6423['offset']-_0x2573ef['offset'],_0x4d6423['buffer']!==_0x2573ef['buffer']||_0x4d6423['stride']!==_0x5143ad['stride']||_0x4d6423['size']!==_0x5143ad['size']||_0x2fa3a5!==_0x5143ad['offset']){_0x46c504=!(-0x1*-0x2111+0x1*-0x1e13+-0x2fd);break;}const _0x361708=new os(_0x407439,_0x4ffb94,_0x43accc),_0x36bf85=_0x361708['lock'](),_0xd8a63b=new Uint32Array(_0x36bf85);let _0x56713e;if(_0x46c504)_0x56713e=new Uint32Array(_0x2573ef['buffer'],_0x2573ef['offset'],_0x43accc*_0x361708['format']['size']/(0xdd7*-0x2+-0x853*0x2+0x2c58)),_0xd8a63b['set'](_0x56713e);else{let _0x459064,_0x2cd6e4;for(_0x569a16=0xcfb*-0x1+0x5e*0x53+-0x5d5*0x3;_0x569a16<_0x361708['format']['elements']['length'];++_0x569a16){_0x5143ad=_0x361708['format']['elements'][_0x569a16],_0x459064=_0x5143ad['stride']/(-0x1*0x1ad2+0x15f*-0x5+-0x17*-0x177),_0x4d6423=_0x4e554c[_0x5143ad['name']],_0x2cd6e4=_0x4d6423['stride']/(0x73f+0x5*-0xa9+0x1f7*-0x2),_0x56713e=new Uint32Array(_0x4d6423['buffer'],_0x4d6423['offset'],(_0x4d6423['count']-(0x1376+0x44*0x25+-0x1d49*0x1))*_0x2cd6e4+(_0x4d6423['size']+(0x3d*0x81+0x266e*0x1+0x8*-0x8a5))/(0x74b*0x4+-0x2*-0xea6+-0x3a74));let _0x4a6085=0x10d3+0x29*0x71+0x6fc*-0x5,_0x4df0b3=_0x5143ad['offset']/(0x495*-0x3+0x208a+-0x12c7);const _0x5ca85c=Math['floor']((_0x4d6423['size']+(-0x657*0x3+-0x82*-0xa+0xdf4))/(-0xa62+-0x58*0x47+0x22ce));for(_0x583fcd=-0x1*-0x25f1+-0x13*-0xdd+0x6cb*-0x8;_0x583fcd<_0x43accc;++_0x583fcd){for(_0x4939e7=0x7e8+0x2*0x1100+-0x29e8;_0x4939e7<_0x5ca85c;++_0x4939e7)_0xd8a63b[_0x4df0b3+_0x4939e7]=_0x56713e[_0x4a6085+_0x4939e7];_0x4a6085+=_0x2cd6e4,_0x4df0b3+=_0x459064;}}}return _0x361708['unlock'](),_0x361708;},RD=(_0x543a22,_0x349823,_0x9d21fc,_0x5af8ee,_0xde25c9,_0x3ae95d)=>{const _0x11cf91={},_0x4f64f3=[];for(const _0x54adfa in _0x349823)_0x349823['hasOwnProp'+'erty'](_0x54adfa)&&ec['hasOwnProp'+'erty'](_0x54adfa)&&(_0x11cf91[_0x54adfa]=_0x349823[_0x54adfa],_0x4f64f3['push'](_0x54adfa+':'+_0x349823[_0x54adfa]));_0x4f64f3['sort']();const _0x334ab2=_0x4f64f3['join']();let _0x44e772=_0x3ae95d[_0x334ab2];if(!_0x44e772){const _0x12ad5c={};for(const _0x1ede86 in _0x11cf91){const _0x4ef225=_0x5af8ee[_0x349823[_0x1ede86]],_0x35985d=sn(_0x4ef225,_0xde25c9),_0x182d3a=_0xde25c9[_0x4ef225['bufferView']],_0x43b7ed=ec[_0x1ede86],_0x3d0291=Wo(_0x4ef225['type'])*bD(_0x4ef225['componentT'+'ype']),_0x511658=_0x182d3a&&_0x182d3a['hasOwnProp'+'erty']('byteStride')?_0x182d3a['byteStride']:_0x3d0291;_0x12ad5c[_0x43b7ed]={'buffer':_0x35985d['buffer'],'size':_0x3d0291,'offset':_0x35985d['byteOffset'],'stride':_0x511658,'count':_0x4ef225['count'],'components':Wo(_0x4ef225['type']),'type':Jc(_0x4ef225['componentT'+'ype']),'normalize':_0x4ef225['normalized']};}_0x12ad5c['hasOwnProp'+'erty'](Yt)||ED(_0x12ad5c,_0x9d21fc),_0x44e772=PD(_0x543a22,_0x12ad5c),_0x3ae95d[_0x334ab2]=_0x44e772;}return _0x44e772;},ID=(_0x424318,_0x488e36,_0x8e41bb,_0x57b47c,_0x527a16,_0x488b59)=>{let _0x2adf30,_0x1c75c5,_0x44d9a8;const _0x22def0=_0x488e36['joints'],_0x9b249c=_0x22def0['length'],_0x204f1e=[];if(_0x488e36['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x222abf=_0x488e36['inverseBin'+'dMatrices'],_0x475276=sn(_0x8e41bb[_0x222abf],_0x57b47c,!(-0x23*0x20+0x4e8*0x3+-0xa58)),_0x6cf135=[];for(_0x2adf30=0x1d2+0x2bd*-0xb+-0x1c4d*-0x1;_0x2adf30<_0x9b249c;_0x2adf30++){for(_0x1c75c5=0x3*-0xbe6+0x2*-0x128f+0x48d0;_0x1c75c5<-0x29f*0xd+-0x222a+0x444d;_0x1c75c5++)_0x6cf135[_0x1c75c5]=_0x475276[_0x2adf30*(-0x13f7+0x10f8+0x30f)+_0x1c75c5];_0x44d9a8=new q(),_0x44d9a8['set'](_0x6cf135),_0x204f1e['push'](_0x44d9a8);}}else{for(_0x2adf30=0x37+0x1eb+0x1a*-0x15;_0x2adf30<_0x9b249c;_0x2adf30++)_0x44d9a8=new q(),_0x204f1e['push'](_0x44d9a8);}const _0x1848c5=[];for(_0x2adf30=0x5bb+0xd*0x137+-0x122*0x13;_0x2adf30<_0x9b249c;_0x2adf30++)_0x1848c5[_0x2adf30]=_0x527a16[_0x22def0[_0x2adf30]]['name'];const _0x2a1503=_0x1848c5['join']('#');let _0x289094=_0x488b59['get'](_0x2a1503);return _0x289094||(_0x289094=new N0(_0x424318,_0x204f1e,_0x1848c5),_0x488b59['set'](_0x2a1503,_0x289094)),_0x289094;},DD=(_0x58ea8b,_0x564fae,_0x26e657,_0x4bccf0,_0xc341b7,_0x1408a3,_0x3b940a)=>{var _0xcea386;const _0xdcd574=new Ie(_0x58ea8b);_0xdcd574['aabb']=Sf(_0x26e657[_0x564fae['attributes']['POSITION']]);const _0x43e4bb=[];for(const [_0x2e9b30,_0x15c7d1]of Object['entries'](_0x564fae['attributes'])){const _0x11ffbd=_0x26e657[_0x15c7d1],_0x59ab56=ec[_0x2e9b30],_0x4231f5=Jc(_0x11ffbd['componentT'+'ype']);_0x43e4bb['push']({'semantic':_0x59ab56,'components':Wo(_0x11ffbd['type']),'type':_0x4231f5,'normalize':_0x11ffbd['normalized']??(_0x59ab56===At&&(_0x4231f5===Kr||_0x4231f5===el))});}if(_0x3b940a['push'](new Promise((_0xf04e18,_0x2bf640)=>{const _0x510090=_0x564fae['extensions']['KHR_draco_'+'mesh_compr'+'ession'];xD(_0x4bccf0[_0x510090['bufferView']]['slice']()['buffer'],(_0x3d38d7,_0x536bca)=>{var _0xc818a0;if(_0x3d38d7)console['log'](_0x3d38d7),_0x2bf640(_0x3d38d7);else{const _0x119e19={};for(const [_0xf5449e,_0x1a72d4]of Object['entries'](_0x510090['attributes']))_0x119e19[ec[_0xf5449e]]=_0x536bca['attributes']['indexOf'](_0x1a72d4);_0x43e4bb['sort']((_0x13d369,_0x2aca0d)=>_0x119e19[_0x13d369['semantic']]-_0x119e19[_0x2aca0d['semantic']]),(_0xc818a0=_0x564fae['attributes'])!=null&&_0xc818a0['NORMAL']||_0x43e4bb['splice'](0x5*-0x7f+-0x1fb3+0x222f,0x130c+0x30a*-0x6+-0xd0,{'semantic':'NORMAL','components':0x3,'type':Ee});const _0x3a301e=new Et(_0x58ea8b,_0x43e4bb),_0x5b0905=_0x536bca['vertices']['byteLength']/_0x3a301e['size'],_0x44da65=_0x5b0905<=-0xb202+0x9249*-0x3+0x368dc?Pi:nr,_0x8c7d8f=_0x536bca['indices']['byteLength']/(_0x5b0905<=-0x5811+0x50d7+0x10739?-0x218c+-0x1*0x6+0x2194:-0x346*-0x9+0x376*-0x8+-0x1c2);v['call'](()=>{_0x5b0905!==_0x26e657[_0x564fae['attributes']['POSITION']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x8c7d8f!==_0x26e657[_0x564fae['indices']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x123cde=new os(_0x58ea8b,_0x3a301e,_0x5b0905,{'data':_0x536bca['vertices']}),_0x26121e=new lr(_0x58ea8b,_0x44da65,_0x8c7d8f,jt,_0x536bca['indices']);_0xdcd574['vertexBuff'+'er']=_0x123cde,_0xdcd574['indexBuffe'+'r'][0x243*0xd+0x21*0x8f+-0x2fd6]=_0x26121e,_0xdcd574['primitive'][0x1162+0x2*0x118c+0x117e*-0x3]['type']=Ix(_0x564fae),_0xdcd574['primitive'][-0x4ee*0x2+-0x17b*0xb+0x1a25]['base']=0x1038+-0x614+-0xa24,_0xdcd574['primitive'][0x1dd5+0x1e29+-0x3bfe]['count']=_0x26121e?_0x8c7d8f:_0x5b0905,_0xdcd574['primitive'][0x22bc+0xa60+-0xb47*0x4]['indexed']=!!_0x26121e,_0xf04e18();}});})),(_0xcea386=_0x564fae==null?void(-0x1*0xb72+0x1d98+-0x2*0x913):_0x564fae['extensions'])!=null&&_0xcea386['KHR_materi'+'als_varian'+'ts']){const _0x130872=_0x564fae['extensions']['KHR_materi'+'als_varian'+'ts'],_0x3944da={};_0x130872['mappings']['forEach'](_0x590c59=>{_0x590c59['variants']['forEach'](_0x29fe15=>{_0x3944da[_0x29fe15]=_0x590c59['material'];});}),_0xc341b7[_0xdcd574['id']]=_0x3944da;}return _0x1408a3[_0xdcd574['id']]=_0x564fae['material'],_0xdcd574;},LD=(_0x489892,_0x1606e3,_0x1a96ce,_0x585411,_0x9134da,_0x452090,_0x250688,_0x33f3fe,_0x41efd5)=>{const _0x17ea76=[];return _0x1606e3['primitives']['forEach'](_0x297232=>{var _0x22eea3;if((_0x22eea3=_0x297232['extensions'])!=null&&_0x22eea3['KHR_draco_'+'mesh_compr'+'ession'])_0x17ea76['push'](DD(_0x489892,_0x297232,_0x1a96ce,_0x585411,_0x452090,_0x250688,_0x41efd5));else{let _0x412afb=_0x297232['hasOwnProp'+'erty']('indices')?sn(_0x1a96ce[_0x297232['indices']],_0x585411,!(0x6b6*-0x1+-0xe99+-0x5*-0x443)):null;const _0x12842b=RD(_0x489892,_0x297232['attributes'],_0x412afb,_0x1a96ce,_0x585411,_0x9134da),_0x471141=Ix(_0x297232),_0x4c47e7=new Ie(_0x489892);if(_0x4c47e7['vertexBuff'+'er']=_0x12842b,_0x4c47e7['primitive'][0x1120+-0x1*0x1076+-0x11*0xa]['type']=_0x471141,_0x4c47e7['primitive'][-0x938+0xe18+-0x1a*0x30]['base']=0x1*-0x10c3+0xc1+0x1002,_0x4c47e7['primitive'][-0x34b*-0x5+-0x7b*-0x47+-0x3294]['indexed']=_0x412afb!==null,_0x412afb!==null){let _0x263629;_0x412afb instanceof Uint8Array?_0x263629=pu:_0x412afb instanceof Uint16Array?_0x263629=Pi:_0x263629=nr,_0x263629===pu&&_0x489892['isWebGPU']&&(_0x263629=Pi,_0x412afb=new Uint16Array(_0x412afb));const _0x1a2764=new lr(_0x489892,_0x263629,_0x412afb['length'],jt,_0x412afb);_0x4c47e7['indexBuffe'+'r'][-0x1547+-0x179f*-0x1+-0x258]=_0x1a2764,_0x4c47e7['primitive'][-0x1111+0x116e+-0x5d]['count']=_0x412afb['length'];}else _0x4c47e7['primitive'][0xe36+-0x12aa+0x14*0x39]['count']=_0x12842b['numVertice'+'s'];if(_0x297232['hasOwnProp'+'erty']('extensions')&&_0x297232['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x45bc79=_0x297232['extensions']['KHR_materi'+'als_varian'+'ts'],_0x9157bf={};_0x45bc79['mappings']['forEach'](_0xb55159=>{_0xb55159['variants']['forEach'](_0x39deb4=>{_0x9157bf[_0x39deb4]=_0xb55159['material'];});}),_0x452090[_0x4c47e7['id']]=_0x9157bf;}_0x250688[_0x4c47e7['id']]=_0x297232['material'];let _0x140c51=_0x1a96ce[_0x297232['attributes']['POSITION']];if(_0x4c47e7['aabb']=Sf(_0x140c51),_0x297232['hasOwnProp'+'erty']('targets')){const _0x25c1e5=[];_0x297232['targets']['forEach']((_0x4bf82d,_0xa0f32e)=>{const _0xb72e33={};_0x4bf82d['hasOwnProp'+'erty']('POSITION')&&(_0x140c51=_0x1a96ce[_0x4bf82d['POSITION']],_0xb72e33['deltaPosit'+'ions']=ma(_0x140c51,_0x585411),_0xb72e33['aabb']=Sf(_0x140c51)),_0x4bf82d['hasOwnProp'+'erty']('NORMAL')&&(_0x140c51=_0x1a96ce[_0x4bf82d['NORMAL']],_0xb72e33['deltaNorma'+'ls']=ma(_0x140c51,_0x585411)),_0x1606e3['hasOwnProp'+'erty']('extras')&&_0x1606e3['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0xb72e33['name']=_0x1606e3['extras']['targetName'+'s'][_0xa0f32e]:_0xb72e33['name']=_0xa0f32e['toString'](-0x216b+-0x7df+0x2954),_0x1606e3['hasOwnProp'+'erty']('weights')&&(_0xb72e33['defaultWei'+'ght']=_0x1606e3['weights'][_0xa0f32e]),_0xb72e33['preserveDa'+'ta']=_0x33f3fe['morphPrese'+'rveData'],_0x25c1e5['push'](new Qc(_0xb72e33));}),_0x4c47e7['morph']=new F0(_0x25c1e5,_0x489892,{'preferHighPrecision':_0x33f3fe['morphPrefe'+'rHighPreci'+'sion']});}_0x17ea76['push'](_0x4c47e7);}}),_0x17ea76;},ft=(_0x4103eb,_0x5332a8,_0x32bbaa)=>{var _0x3ae816;let _0x4a0685;const _0x149b70=_0x4103eb['texCoord'];if(_0x149b70){for(_0x4a0685=-0x92*0x43+0x6f*-0xb+-0x2afb*-0x1;_0x4a0685<_0x32bbaa['length'];++_0x4a0685)_0x5332a8[_0x32bbaa[_0x4a0685]+'MapUv']=_0x149b70;}const _0xf6a5ae=[-0x1*-0x18c1+0x17b1+-0x3072,0x149d+0x277*0xa+-0x2d43],_0x10f638=[0x339+0x1960+-0x1c98,0x628+-0x685+0x5e],_0x3fdf3b=(_0x3ae816=_0x4103eb['extensions'])==null?void(0x1*0xc16+0xb*-0x79+-0x6e3*0x1):_0x3ae816['KHR_textur'+'e_transfor'+'m'];if(_0x3fdf3b){const _0x6ddcaa=_0x3fdf3b['offset']||_0xf6a5ae,_0x2013ca=_0x3fdf3b['scale']||_0x10f638,_0x302dd6=_0x3fdf3b['rotation']?-_0x3fdf3b['rotation']*N['RAD_TO_DEG']:-0x1217+-0x1*0xaa9+-0xa*-0x2e0,_0x5bb72b=new W(_0x2013ca[-0x5a4*-0x4+-0x1b5b*-0x1+0x3d7*-0xd],_0x2013ca[0x10c*0xa+-0x20d7+0xb3*0x20]),_0xd0d476=new W(_0x6ddcaa[-0xf69*0x1+-0x1a+0xf83],0x1*-0x326+-0x4*0x1a3+0x9b3-_0x2013ca[0x22f0+-0xe4c+-0x14a3]-_0x6ddcaa[0x48*-0x7c+-0x673+0x2954]);for(_0x4a0685=0x8*-0xc+-0x10f*-0xd+-0xd63;_0x4a0685<_0x32bbaa['length'];++_0x4a0685)_0x5332a8[_0x32bbaa[_0x4a0685]+'MapTiling']=_0x5bb72b,_0x5332a8[_0x32bbaa[_0x4a0685]+'MapOffset']=_0xd0d476,_0x5332a8[_0x32bbaa[_0x4a0685]+('MapRotatio'+'n')]=_0x302dd6;}},FD=(_0x536b35,_0x4991e4,_0x437987)=>{let _0x3f3859,_0x14e5e6;if(_0x536b35['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x3f3859=_0x536b35['diffuseFac'+'tor'],_0x4991e4['diffuse']['set'](Math['pow'](_0x3f3859[0x35*0x4b+0x10fd+0x4*-0x821],(0x785*-0x5+0x22d4+-0x47*-0xa)/(-0x2023+0x1cb2+0x373+0.20000000000000018)),Math['pow'](_0x3f3859[-0x1ef5+0x9be+-0x54e*-0x4],(0x1*-0x2465+0x266+0x2200)/(-0x38b*0x9+0xe3b+0x11aa+0.20000000000000018)),Math['pow'](_0x3f3859[0x7fc*-0x1+0x1df3+-0x15f5],(-0x2f*0x2+-0x258a+0x25e9)/(-0x2666+-0x71*-0x49+0x62f+0.20000000000000018))),_0x4991e4['opacity']=_0x3f3859[-0x24ac+0x9c5*-0x1+0xf7c*0x3]):(_0x4991e4['diffuse']['set'](-0x1158+-0x1*-0x1321+-0xc*0x26,0xa21*0x2+-0x1*-0xfcd+-0x240e,-0xb*-0x27b+-0x1a5b+0x1*-0xed),_0x4991e4['opacity']=0x31*0x68+0x2a1*0xd+-0x3614),_0x536b35['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x7fabe3=_0x536b35['diffuseTex'+'ture'];_0x14e5e6=_0x437987[_0x7fabe3['index']],_0x4991e4['diffuseMap']=_0x14e5e6,_0x4991e4['diffuseMap'+'Channel']='rgb',_0x4991e4['opacityMap']=_0x14e5e6,_0x4991e4['opacityMap'+'Channel']='a',ft(_0x7fabe3,_0x4991e4,['diffuse','opacity']);}if(_0x4991e4['useMetalne'+'ss']=!(-0x23d5*-0x1+0xbd6*0x3+-0x4756),_0x536b35['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x3f3859=_0x536b35['specularFa'+'ctor'],_0x4991e4['specular']['set'](Math['pow'](_0x3f3859[-0x12b1+-0x8*-0x2ba+0x11*-0x2f],(0x656+-0x11ca+0xb75)/(0x1b41+-0x1aaa*0x1+-0x95+0.20000000000000018)),Math['pow'](_0x3f3859[0x1c8d*-0x1+0xb2b+0x1163],(0x16c1+-0x9e*0x1a+-0x6b4)/(-0x7ac+0x1d3c+0x3e*-0x59+0.20000000000000018)),Math['pow'](_0x3f3859[0x1cf3*0x1+-0x1ed*-0x12+0x359*-0x13],(-0x6a3*-0x1+-0xec*-0x12+-0x173a)/(0x9ba+0x957*-0x1+-0x61+0.20000000000000018)))):_0x4991e4['specular']['set'](0x11b*0x1c+0x3*-0x5f2+-0xd1d,0x1b16+0x732+0x41*-0x87,0x5*0x10c+0x53a+0xa75*-0x1),_0x536b35['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x4991e4['gloss']=_0x536b35['glossiness'+'Factor']:_0x4991e4['gloss']=-0x5*-0x313+0x20b6+-0x3014,_0x536b35['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x27ecb1=_0x536b35['specularGl'+'ossinessTe'+'xture'];_0x4991e4['specularEn'+'coding']='srgb',_0x4991e4['specularMa'+'p']=_0x4991e4['glossMap']=_0x437987[_0x27ecb1['index']],_0x4991e4['specularMa'+'pChannel']='rgb',_0x4991e4['glossMapCh'+'annel']='a',ft(_0x27ecb1,_0x4991e4,['gloss','metalness']);}},OD=(_0x4bf58d,_0x11de5f,_0x42ee4b)=>{if(_0x4bf58d['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x11de5f['clearCoat']=_0x4bf58d['clearcoatF'+'actor']*(0x131*-0x5+0x59*0x3c+0x2fb*-0x5+0.25):_0x11de5f['clearCoat']=-0x9db+-0x6*0x2fe+-0x1*-0x1bcf,_0x4bf58d['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x17736f=_0x4bf58d['clearcoatT'+'exture'];_0x11de5f['clearCoatM'+'ap']=_0x42ee4b[_0x17736f['index']],_0x11de5f['clearCoatM'+'apChannel']='r',ft(_0x17736f,_0x11de5f,['clearCoat']);}if(_0x4bf58d['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x11de5f['clearCoatG'+'loss']=_0x4bf58d['clearcoatR'+'oughnessFa'+'ctor']:_0x11de5f['clearCoatG'+'loss']=0x18a2+0x9c1+-0x2263,_0x4bf58d['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x1fe009=_0x4bf58d['clearcoatR'+'oughnessTe'+'xture'];_0x11de5f['clearCoatG'+'lossMap']=_0x42ee4b[_0x1fe009['index']],_0x11de5f['clearCoatG'+'lossMapCha'+'nnel']='g',ft(_0x1fe009,_0x11de5f,['clearCoatG'+'loss']);}if(_0x4bf58d['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x490ff2=_0x4bf58d['clearcoatN'+'ormalTextu'+'re'];_0x11de5f['clearCoatN'+'ormalMap']=_0x42ee4b[_0x490ff2['index']],ft(_0x490ff2,_0x11de5f,['clearCoatN'+'ormal']),_0x490ff2['hasOwnProp'+'erty']('scale')&&(_0x11de5f['clearCoatB'+'umpiness']=_0x490ff2['scale']);}_0x11de5f['clearCoatG'+'lossInvert']=!(-0x2277*-0x1+0xc92*-0x2+0x7*-0x155);},kD=(_0x27d628,_0x1540a3,_0x58648f)=>{_0x1540a3['useLightin'+'g']=!(0x1*-0x1683+0x566+0x111e),_0x1540a3['emissive']['copy'](_0x1540a3['diffuse']),_0x1540a3['emissiveMa'+'p']=_0x1540a3['diffuseMap'],_0x1540a3['emissiveMa'+'pUv']=_0x1540a3['diffuseMap'+'Uv'],_0x1540a3['emissiveMa'+'pTiling']['copy'](_0x1540a3['diffuseMap'+'Tiling']),_0x1540a3['emissiveMa'+'pOffset']['copy'](_0x1540a3['diffuseMap'+'Offset']),_0x1540a3['emissiveMa'+'pRotation']=_0x1540a3['diffuseMap'+'Rotation'],_0x1540a3['emissiveMa'+'pChannel']=_0x1540a3['diffuseMap'+'Channel'],_0x1540a3['emissiveVe'+'rtexColor']=_0x1540a3['diffuseVer'+'texColor'],_0x1540a3['emissiveVe'+'rtexColorC'+'hannel']=_0x1540a3['diffuseVer'+'texColorCh'+'annel'],_0x1540a3['useLightin'+'g']=!(-0x1ed6+-0x1b*0xb2+0x1*0x319d),_0x1540a3['useSkybox']=!(0xd*0xbe+-0x288+0x25f*-0x3),_0x1540a3['diffuse']['set'](0x153e*-0x1+0x15*0x61+0xd4a,0x20e*-0x13+0x22b*0xf+0x686,0x1a96+-0x50c+0x95*-0x25),_0x1540a3['diffuseMap']=null,_0x1540a3['diffuseVer'+'texColor']=!(0x178*-0x15+-0x13ff+-0x196c*-0x2);},BD=(_0x19cd03,_0x4c0648,_0x343439)=>{if(_0x4c0648['useMetalne'+'ssSpecular'+'Color']=!(0x138+-0xc1b+0xae3),_0x19cd03['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x4c0648['specularEn'+'coding']='srgb',_0x4c0648['specularMa'+'p']=_0x343439[_0x19cd03['specularCo'+'lorTexture']['index']],_0x4c0648['specularMa'+'pChannel']='rgb',ft(_0x19cd03['specularCo'+'lorTexture'],_0x4c0648,['specular'])),_0x19cd03['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x4e95fe=_0x19cd03['specularCo'+'lorFactor'];_0x4c0648['specular']['set'](Math['pow'](_0x4e95fe[-0x15d8+0x157+0x1481],(0x1493+0x1*0x26c3+-0xb7*0x53)/(0x15a+-0x2ce+0x176+0.20000000000000018)),Math['pow'](_0x4e95fe[0x1552+0x9d*0x1d+-0x38e*0xb],(0x2545+-0x8c3*-0x1+-0x2e07)/(-0x1*0x23ef+0xc7a+0x1*0x1777+0.20000000000000018)),Math['pow'](_0x4e95fe[0x951+0x1*-0x1b65+0x1216],(-0xd*0x278+-0x1465*0x1+-0x347e*-0x1)/(-0x235f+0xe2b+0x712*0x3+0.20000000000000018)));}else _0x4c0648['specular']['set'](-0x1ac1+0x1daf*0x1+-0x2ed,0x1f35*-0x1+-0x5*0x656+-0xa1*-0x64,0x1*-0xe65+0x445+-0xa21*-0x1);_0x19cd03['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x4c0648['specularit'+'yFactor']=_0x19cd03['specularFa'+'ctor']:_0x4c0648['specularit'+'yFactor']=-0xb7f+-0x14a2+0x2022,_0x19cd03['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x4c0648['specularit'+'yFactorMap'+'Channel']='a',_0x4c0648['specularit'+'yFactorMap']=_0x343439[_0x19cd03['specularTe'+'xture']['index']],ft(_0x19cd03['specularTe'+'xture'],_0x4c0648,['specularit'+'yFactor']));},ND=(_0x55abd3,_0x2e7bf0,_0x5a9d50)=>{_0x55abd3['hasOwnProp'+'erty']('ior')&&(_0x2e7bf0['refraction'+'Index']=(-0x2242+-0x2b*0x58+0x310b)/_0x55abd3['ior']);},zD=(_0x4f66b2,_0x5cf4dc,_0x547547)=>{_0x4f66b2['hasOwnProp'+'erty']('dispersion')&&(_0x5cf4dc['dispersion']=_0x4f66b2['dispersion']);},UD=(_0x2f3a6a,_0x4f2a00,_0x4bf10f)=>{_0x4f2a00['blendType']=Kt,_0x4f2a00['useDynamic'+'Refraction']=!(0x1134+-0x2*0xc5f+-0xc1*-0xa),_0x2f3a6a['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x4f2a00['refraction']=_0x2f3a6a['transmissi'+'onFactor']),_0x2f3a6a['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x4f2a00['refraction'+'MapChannel']='r',_0x4f2a00['refraction'+'Map']=_0x4bf10f[_0x2f3a6a['transmissi'+'onTexture']['index']],ft(_0x2f3a6a['transmissi'+'onTexture'],_0x4f2a00,['refraction']));},VD=(_0x5550ad,_0x30dc05,_0x463b2f)=>{if(_0x30dc05['useSheen']=!(0x5b*0x15+-0x11*-0x12a+-0x1b41),_0x5550ad['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x501a90=_0x5550ad['sheenColor'+'Factor'];_0x30dc05['sheen']['set'](Math['pow'](_0x501a90[0x1100+0x29*0x1c+0x5*-0x44c],(0x0+-0x9*0x2c7+0x1900)/(0x18a1+0x189+-0x1f*0xd8+0.20000000000000018)),Math['pow'](_0x501a90[0xd08+-0x270+-0xa97],(-0x10*0x115+0x282+-0xecf*-0x1)/(0x133d+0x7e2+0x277*-0xb+0.20000000000000018)),Math['pow'](_0x501a90[-0x290+0x20b5+-0x1e23],(-0x2*-0x838+0x2280+-0x32ef)/(-0x15e2+0x18d6+0x1d*-0x1a+0.20000000000000018)));}else _0x30dc05['sheen']['set'](0x1e7c+0x69*0x4f+0x3*-0x14f6,-0x12+-0x3f4+0x407,-0x37*-0x42+0x2097+0x1762*-0x2);_0x5550ad['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x30dc05['sheenMap']=_0x463b2f[_0x5550ad['sheenColor'+'Texture']['index']],_0x30dc05['sheenEncod'+'ing']='srgb',ft(_0x5550ad['sheenColor'+'Texture'],_0x30dc05,['sheen'])),_0x30dc05['sheenGloss']=_0x5550ad['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x5550ad['sheenRough'+'nessFactor']:-0x4cd+-0x16*-0x199+-0x11*0x1c9,_0x5550ad['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x30dc05['sheenGloss'+'Map']=_0x463b2f[_0x5550ad['sheenRough'+'nessTextur'+'e']['index']],_0x30dc05['sheenGloss'+'MapChannel']='a',ft(_0x5550ad['sheenRough'+'nessTextur'+'e'],_0x30dc05,['sheenGloss'])),_0x30dc05['sheenGloss'+'Invert']=!(-0x472+0x1520+-0x10ae);},GD=(_0x2e5d11,_0x26eb19,_0x13d31c)=>{if(_0x26eb19['blendType']=Kt,_0x26eb19['useDynamic'+'Refraction']=!(0x287*-0xd+0xb9*0x27+0x4ac),_0x2e5d11['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x26eb19['thickness']=_0x2e5d11['thicknessF'+'actor']),_0x2e5d11['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x26eb19['thicknessM'+'ap']=_0x13d31c[_0x2e5d11['thicknessT'+'exture']['index']],_0x26eb19['thicknessM'+'apChannel']='g',ft(_0x2e5d11['thicknessT'+'exture'],_0x26eb19,['thickness'])),_0x2e5d11['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x26eb19['attenuatio'+'nDistance']=_0x2e5d11['attenuatio'+'nDistance']),_0x2e5d11['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x598be8=_0x2e5d11['attenuatio'+'nColor'];_0x26eb19['attenuatio'+'n']['set'](Math['pow'](_0x598be8[-0x11*0x39+-0x5*0x4e7+0x4*0x713],(0x8f*-0x2a+-0x1be3+-0x756*-0x7)/(-0x105d+0x1b92*-0x1+0x2bf1+0.20000000000000018)),Math['pow'](_0x598be8[0x1a1b+-0x1a97+0x7d],(-0xb*-0x103+-0x17d2+0x145*0xa)/(-0x83*0x11+0x1f5d*0x1+-0x16a8+0.20000000000000018)),Math['pow'](_0x598be8[0xd0f+0xc8*-0x17+-0x1*-0x4eb],(-0xec9*0x1+0x13d*0x19+-0x102b)/(-0x175e+-0x884+0x1fe4*0x1+0.20000000000000018)));}},HD=(_0x1586ab,_0xd7e104,_0x139f9a)=>{_0x1586ab['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0xd7e104['emissiveIn'+'tensity']=_0x1586ab['emissiveSt'+'rength']);},WD=(_0x18f40f,_0x153ba2,_0x5605b7)=>{_0x153ba2['useIridesc'+'ence']=!(-0x1*-0x1539+0x2*-0x121d+0xf01),_0x18f40f['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x153ba2['iridescenc'+'e']=_0x18f40f['iridescenc'+'eFactor']),_0x18f40f['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x153ba2['iridescenc'+'eMapChanne'+'l']='r',_0x153ba2['iridescenc'+'eMap']=_0x5605b7[_0x18f40f['iridescenc'+'eTexture']['index']],ft(_0x18f40f['iridescenc'+'eTexture'],_0x153ba2,['iridescenc'+'e'])),_0x18f40f['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x153ba2['iridescenc'+'eRefractio'+'nIndex']=_0x18f40f['iridescenc'+'eIor']),_0x18f40f['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x153ba2['iridescenc'+'eThickness'+'Min']=_0x18f40f['iridescenc'+'eThickness'+'Minimum']),_0x18f40f['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x153ba2['iridescenc'+'eThickness'+'Max']=_0x18f40f['iridescenc'+'eThickness'+'Maximum']),_0x18f40f['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x153ba2['iridescenc'+'eThickness'+'MapChannel']='g',_0x153ba2['iridescenc'+'eThickness'+'Map']=_0x5605b7[_0x18f40f['iridescenc'+'eThickness'+'Texture']['index']],ft(_0x18f40f['iridescenc'+'eThickness'+'Texture'],_0x153ba2,['iridescenc'+'eThickness']));},Dx=(_0x49d1a7,_0x23c4ec)=>{const _0x2901ec=new cs();_0x49d1a7['hasOwnProp'+'erty']('name')&&(_0x2901ec['name']=_0x49d1a7['name']),_0x2901ec['occludeSpe'+'cular']=Bo,_0x2901ec['diffuseVer'+'texColor']=!(0x3*0x3e1+0x283*0xe+0x2ecd*-0x1),_0x2901ec['specularTi'+'nt']=!(0x584*0x1+0xbc8+-0x5c4*0x3),_0x2901ec['specularVe'+'rtexColor']=!(0x1df0+0xbfc+-0x4*0xa7b),_0x2901ec['specular']['set'](0x110*-0x1d+-0x2*-0x2e7+-0x151*-0x13,-0x11e+-0x17df+0x18fe*0x1,0x10b+-0x1144+0x103a),_0x2901ec['gloss']=-0x68*0x59+0x7*0x376+-0x1*-0xbef,_0x2901ec['glossInver'+'t']=!(-0x1*0x765+-0x2*0xa8b+-0x17*-0x13d),_0x2901ec['useMetalne'+'ss']=!(0x22e7+-0x1f29+0x3be*-0x1);let _0x33abb0,_0x1f3359;if(_0x49d1a7['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x2c58eb=_0x49d1a7['pbrMetalli'+'cRoughness'];if(_0x2c58eb['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x33abb0=_0x2c58eb['baseColorF'+'actor'],_0x2901ec['diffuse']['set'](Math['pow'](_0x33abb0[-0x3b3*-0x6+0x1c*0x35+-0x1bfe],(0x37*0x49+0x1c82+-0x2c30)/(0x228c+0xbe*-0x5+-0x1ed4+0.20000000000000018)),Math['pow'](_0x33abb0[-0x13f3*0x1+0x1476+0xa*-0xd],(-0x15c*0x8+0x224b+0x6f*-0x36)/(-0xe07+0x1663+-0x85a+0.20000000000000018)),Math['pow'](_0x33abb0[-0x22d2*0x1+-0x9*0x89+0x27a5],(0x1f0a*0x1+-0x1*0x7cb+-0x173e)/(0xc5*0xc+0xd58+0x3*-0x786+0.20000000000000018))),_0x2901ec['opacity']=_0x33abb0[-0x20a7+-0x250c*0x1+0x45b6]),_0x2c58eb['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x542b26=_0x2c58eb['baseColorT'+'exture'];_0x1f3359=_0x23c4ec[_0x542b26['index']],_0x2901ec['diffuseMap']=_0x1f3359,_0x2901ec['diffuseMap'+'Channel']='rgb',_0x2901ec['opacityMap']=_0x1f3359,_0x2901ec['opacityMap'+'Channel']='a',ft(_0x542b26,_0x2901ec,['diffuse','opacity']);}if(_0x2c58eb['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x2901ec['metalness']=_0x2c58eb['metallicFa'+'ctor']),_0x2c58eb['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x2901ec['gloss']=_0x2c58eb['roughnessF'+'actor']),_0x2c58eb['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0xc1b72=_0x2c58eb['metallicRo'+'ughnessTex'+'ture'];_0x2901ec['metalnessM'+'ap']=_0x2901ec['glossMap']=_0x23c4ec[_0xc1b72['index']],_0x2901ec['metalnessM'+'apChannel']='b',_0x2901ec['glossMapCh'+'annel']='g',ft(_0xc1b72,_0x2901ec,['gloss','metalness']);}}if(_0x49d1a7['hasOwnProp'+'erty']('normalText'+'ure')){const _0x5eb005=_0x49d1a7['normalText'+'ure'];_0x2901ec['normalMap']=_0x23c4ec[_0x5eb005['index']],ft(_0x5eb005,_0x2901ec,['normal']),_0x5eb005['hasOwnProp'+'erty']('scale')&&(_0x2901ec['bumpiness']=_0x5eb005['scale']);}if(_0x49d1a7['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x332428=_0x49d1a7['occlusionT'+'exture'];_0x2901ec['aoMap']=_0x23c4ec[_0x332428['index']],_0x2901ec['aoMapChann'+'el']='r',ft(_0x332428,_0x2901ec,['ao']);}if(_0x49d1a7['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x33abb0=_0x49d1a7['emissiveFa'+'ctor'],_0x2901ec['emissive']['set'](Math['pow'](_0x33abb0[0x13fb+-0x129a*-0x2+-0x392f],(-0xc59+0x3a9*0x1+0x8b1)/(0xc7b+0x8*-0x4be+0x1977+0.20000000000000018)),Math['pow'](_0x33abb0[-0xc0e+0xe46+-0x1*0x237],(-0xa71*0x2+0x2*0xdb+0x132d*0x1)/(0x2194+-0x7e1*-0x1+-0x2973+0.20000000000000018)),Math['pow'](_0x33abb0[0x266b+0x7*0x11b+0x2e26*-0x1],(-0x195b+0x62*0x2f+0x75e)/(0x1b6d+0x10c1*0x1+-0x2c2c+0.20000000000000018)))),_0x49d1a7['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x167782=_0x49d1a7['emissiveTe'+'xture'];_0x2901ec['emissiveMa'+'p']=_0x23c4ec[_0x167782['index']],ft(_0x167782,_0x2901ec,['emissive']);}if(_0x49d1a7['hasOwnProp'+'erty']('alphaMode'))switch(_0x49d1a7['alphaMode']){case'MASK':_0x2901ec['blendType']=is,_0x49d1a7['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x2901ec['alphaTest']=_0x49d1a7['alphaCutof'+'f']:_0x2901ec['alphaTest']=-0x1d57+-0xda*-0x5+0x1915+0.5;break;case'BLEND':_0x2901ec['blendType']=Kt,_0x2901ec['depthWrite']=!(-0xba5+-0x11*-0x3a+0x7cc);break;default:case'OPAQUE':_0x2901ec['blendType']=is;break;}else _0x2901ec['blendType']=is;_0x49d1a7['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x2901ec['twoSidedLi'+'ghting']=_0x49d1a7['doubleSide'+'d'],_0x2901ec['cull']=_0x49d1a7['doubleSide'+'d']?mt:rn):(_0x2901ec['twoSidedLi'+'ghting']=!(0x4f4*-0x7+0xbdb+-0x1*-0x16d2),_0x2901ec['cull']=rn);const _0x4e336c={'KHR_materials_clearcoat':OD,'KHR_materials_emissive_strength':HD,'KHR_materials_ior':ND,'KHR_materials_dispersion':zD,'KHR_materials_iridescence':WD,'KHR_materials_pbrSpecularGlossiness':FD,'KHR_materials_sheen':VD,'KHR_materials_specular':BD,'KHR_materials_transmission':UD,'KHR_materials_unlit':kD,'KHR_materials_volume':GD};if(_0x49d1a7['hasOwnProp'+'erty']('extensions'))for(const _0x912719 in _0x49d1a7['extensions']){const _0x7f4af8=_0x4e336c[_0x912719];_0x7f4af8!==void(-0x2b7+0x115e+-0xea7)&&_0x7f4af8(_0x49d1a7['extensions'][_0x912719],_0x2901ec,_0x23c4ec);}return _0x2901ec['update'](),_0x2901ec;},$D=(_0x2847dd,_0x22e14b,_0x5206a4,_0x2d6965,_0x57d22f,_0x12c33,_0x5d118c)=>{const _0x5d7cf4=_0x3edee7=>new Jh(Wo(_0x3edee7['type']),ma(_0x3edee7,_0x2d6965)),_0x2d3de7={'STEP':$0,'LINEAR':ju,'CUBICSPLINE':Yu},_0x1a9d15={},_0x2d36c8={},_0xc3c8e5={};let _0xc2b650=0x2624+-0x1*0x2579+0x22*-0x5,_0x263296;for(_0x263296=-0x1415+-0x207+0x46c*0x5;_0x263296<_0x2847dd['samplers']['length'];++_0x263296){const _0x112192=_0x2847dd['samplers'][_0x263296];_0x1a9d15['hasOwnProp'+'erty'](_0x112192['input'])||(_0x1a9d15[_0x112192['input']]=_0x5d7cf4(_0x5206a4[_0x112192['input']])),_0x2d36c8['hasOwnProp'+'erty'](_0x112192['output'])||(_0x2d36c8[_0x112192['output']]=_0x5d7cf4(_0x5206a4[_0x112192['output']]));const _0x437071=_0x112192['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x2d3de7['hasOwnProp'+'erty'](_0x112192['interpolat'+'ion'])?_0x2d3de7[_0x112192['interpolat'+'ion']]:ju,_0x392dd5={'paths':[],'input':_0x112192['input'],'output':_0x112192['output'],'interpolation':_0x437071};_0xc3c8e5[_0x263296]=_0x392dd5;}const _0x892adb=[],_0x3bcbba={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x589496=_0x4072d2=>{const _0x1e1d6e=[];for(;_0x4072d2;)_0x1e1d6e['unshift'](_0x4072d2['name']),_0x4072d2=_0x4072d2['parent'];return _0x1e1d6e;},_0x57803d=(_0x54c5a6,_0x31420c,_0x54f805)=>{const _0x5bc120=_0x2d36c8[_0x54c5a6['output']];if(!_0x5bc120){v['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x54f805+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x54ce08;if(_0x12c33&&_0x12c33[_0x31420c['mesh']]){const _0x84b766=_0x12c33[_0x31420c['mesh']];_0x84b766['hasOwnProp'+'erty']('extras')&&_0x84b766['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x54ce08=_0x84b766['extras']['targetName'+'s']);}const _0x4234bb=_0x5bc120['data'],_0x4189fb=_0x4234bb['length']/_0x1a9d15[_0x54c5a6['input']]['data']['length'],_0x18ef9c=_0x4234bb['length']/_0x4189fb,_0x442291=_0x18ef9c*(0x9d*0x5+0x4*-0x803+0xd*0x23b),_0x36303a=new ArrayBuffer(_0x442291*_0x4189fb);for(let _0x43e72a=0x416*-0x3+-0x44*0x2b+0x17ae*0x1;_0x43e72a<_0x4189fb;_0x43e72a++){const _0x1347c2=new Float32Array(_0x36303a,_0x442291*_0x43e72a,_0x18ef9c);for(let _0x5d284c=-0xa76+0x226b+-0x17f5;_0x5d284c<_0x18ef9c;_0x5d284c++)_0x1347c2[_0x5d284c]=_0x4234bb[_0x5d284c*_0x4189fb+_0x43e72a];const _0x185f57=new Jh(-0x41e*0x2+-0x2295+0x2ad2,_0x1347c2),_0x16409f=_0x54ce08!=null&&_0x54ce08[_0x43e72a]?'name.'+_0x54ce08[_0x43e72a]:_0x43e72a;_0x2d36c8[-_0xc2b650]=_0x185f57;const _0x5eb4ff={'paths':[{'entityPath':_0x54f805,'component':'graph','propertyPath':['weight.'+_0x16409f]}],'input':_0x54c5a6['input'],'output':-_0xc2b650,'interpolation':_0x54c5a6['interpolat'+'ion']};_0xc2b650++,_0xc3c8e5['morphCurve'+'-'+_0x263296+'-'+_0x43e72a]=_0x5eb4ff;}};for(_0x263296=-0x6*0x368+0x157c+-0x10c;_0x263296<_0x2847dd['channels']['length'];++_0x263296){const _0x261114=_0x2847dd['channels'][_0x263296],_0x503c7a=_0x261114['target'],_0x524373=_0xc3c8e5[_0x261114['sampler']],_0x36e608=_0x57d22f[_0x503c7a['node']],_0x2581a8=_0x5d118c[_0x503c7a['node']],_0xedd1d7=_0x589496(_0x36e608);_0x503c7a['path']['startsWith']('weights')?(_0x57803d(_0x524373,_0x2581a8,_0xedd1d7),_0xc3c8e5[_0x261114['sampler']]['morphCurve']=!(0x2*-0x1190+-0x1*-0x925+0x19fb)):_0x524373['paths']['push']({'entityPath':_0xedd1d7,'component':'graph','propertyPath':[_0x3bcbba[_0x503c7a['path']]]});}const _0x12715d=[],_0x1d2fca=[],_0x3a19cb=[];for(const _0x42e1e1 in _0x1a9d15)_0x12715d['push'](_0x1a9d15[_0x42e1e1]),_0x1a9d15[_0x42e1e1]=_0x12715d['length']-(0x1ae6+0x4a3*0x1+-0x1f88);for(const _0x4a40dc in _0x2d36c8)_0x1d2fca['push'](_0x2d36c8[_0x4a40dc]),_0x2d36c8[_0x4a40dc]=_0x1d2fca['length']-(-0x9*-0x32b+0x5cf+0x4e7*-0x7);for(const _0x551dd6 in _0xc3c8e5){const _0x4f08de=_0xc3c8e5[_0x551dd6];_0x4f08de['morphCurve']||(_0x3a19cb['push'](new Px(_0x4f08de['paths'],_0x1a9d15[_0x4f08de['input']],_0x2d36c8[_0x4f08de['output']],_0x4f08de['interpolat'+'ion'])),_0x4f08de['paths']['length']>0x2637*-0x1+-0x1179+0x3*0x1290&&_0x4f08de['paths'][-0x1*0x1659+-0x7*-0x27b+0x4fc]['propertyPa'+'th'][-0x2009+-0x8ae*0x3+-0x3a13*-0x1]==='localRotat'+'ion'&&_0x4f08de['interpolat'+'ion']!==Yu&&_0x892adb['push'](_0x3a19cb[_0x3a19cb['length']-(0x1*0x599+-0xdf3+0x85b)]['output']));}_0x892adb['sort']();let _0x526bad=null,_0xff496a;for(_0x263296=0xb7e*0x1+-0xb*-0x355+-0x3025;_0x263296<_0x892adb['length'];++_0x263296){const _0x16af9d=_0x892adb[_0x263296];if(_0x263296===0x1cf+0x10*0x202+-0x11*0x1ff||_0x16af9d!==_0x526bad){if(_0xff496a=_0x1d2fca[_0x16af9d],_0xff496a['components']===0x647*-0x6+-0xb20+0x2*0x1867){const _0xddcf3b=_0xff496a['data'],_0x1dd72b=_0xddcf3b['length']-(-0xc*-0x22f+-0x1217+-0x819);for(let _0x6b8529=0x20d5+0x8b7+-0x298c;_0x6b8529<_0x1dd72b;_0x6b8529+=-0x129f+-0xcb*0x1c+0x28d7)_0xddcf3b[_0x6b8529+(-0x400*-0x9+0xd*0x203+-0x3e27)]*_0xddcf3b[_0x6b8529+(-0x1*0x1c8b+-0x1563*0x1+0x31f2)]+_0xddcf3b[_0x6b8529+(0xab3+0x1367*0x2+-0x3180)]*_0xddcf3b[_0x6b8529+(-0xc0e*-0x3+0x10*-0xb9+-0x1895)]+_0xddcf3b[_0x6b8529+(0x2307+0x8bd*-0x1+0x1*-0x1a48)]*_0xddcf3b[_0x6b8529+(0x727+0x1731+-0x1e52)]+_0xddcf3b[_0x6b8529+(0x33*-0x1f+0x104e+-0xa1e)]*_0xddcf3b[_0x6b8529+(0x12ee*-0x2+-0x1044+0x1*0x3627)]<-0x466*0x5+0x385+-0x1279*-0x1&&(_0xddcf3b[_0x6b8529+(0x2584+-0x2fe*0x1+-0x277*0xe)]*=-(-0x153*0x1a+0x3*-0x1fa+0x285d),_0xddcf3b[_0x6b8529+(0x1*0x1a37+0x1*-0xe06+-0x26*0x52)]*=-(0xbc8+-0xaf1+0xd6*-0x1),_0xddcf3b[_0x6b8529+(-0x323*-0x7+-0xf38+0x3*-0x23d)]*=-(0x1*-0xf31+-0x494+-0x2*-0x9e3),_0xddcf3b[_0x6b8529+(0x3*0x4a3+0xcb6*-0x1+-0x12c)]*=-(-0x1*0x1556+0x1127*-0x2+0x181*0x25));}_0x526bad=_0x16af9d;}}let _0xa0c2f3=-0x1*-0xe65+-0x5fd*-0x3+-0x205c;for(_0x263296=-0x1*0x209d+0x62*-0x1f+0x2c7b;_0x263296<_0x12715d['length'];_0x263296++)_0xff496a=_0x12715d[_0x263296]['_data'],_0xa0c2f3=Math['max'](_0xa0c2f3,_0xff496a['length']===-0x133*0x4+-0x1937+0xa01*0x3?0x1845+0x849+0x208e*-0x1:_0xff496a[_0xff496a['length']-(0x2*-0x2fa+0x2157*-0x1+0x274c)]);return new Ri(_0x2847dd['hasOwnProp'+'erty']('name')?_0x2847dd['name']:'animation_'+_0x22e14b,_0xa0c2f3,_0x12715d,_0x1d2fca,_0x3a19cb);},eh=new q(),qn=new T(),qD=(_0x1a9416,_0xa4db94,_0x43ecf9)=>{const _0x578cae=new De();if(_0x1a9416['hasOwnProp'+'erty']('name')&&_0x1a9416['name']['length']>-0x1d0e+-0x27a*0x8+-0x1a1*-0x1e?_0x578cae['name']=_0x1a9416['name']:_0x578cae['name']='node_'+_0xa4db94,_0x1a9416['hasOwnProp'+'erty']('matrix')&&(eh['data']['set'](_0x1a9416['matrix']),eh['getTransla'+'tion'](qn),_0x578cae['setLocalPo'+'sition'](qn),eh['getEulerAn'+'gles'](qn),_0x578cae['setLocalEu'+'lerAngles'](qn),eh['getScale'](qn),_0x578cae['setLocalSc'+'ale'](qn)),_0x1a9416['hasOwnProp'+'erty']('rotation')){const _0x1293c7=_0x1a9416['rotation'];_0x578cae['setLocalRo'+'tation'](_0x1293c7[-0x5c7+-0xf7*0xb+0x1064],_0x1293c7[0x3*-0x398+0x2661+-0x1b98],_0x1293c7[0x3*-0x9f+0xb6f+-0x99*0x10],_0x1293c7[-0x1846+0x92c+0xf1d]);}if(_0x1a9416['hasOwnProp'+'erty']('translatio'+'n')){const _0x342acd=_0x1a9416['translatio'+'n'];_0x578cae['setLocalPo'+'sition'](_0x342acd[-0x41d+-0x653+0xa70],_0x342acd[-0x1*-0x1f34+0xe12*0x2+-0x3b57],_0x342acd[-0x5e0+0x170e+0x896*-0x2]);}if(_0x1a9416['hasOwnProp'+'erty']('scale')){const _0x315e1c=_0x1a9416['scale'];_0x578cae['setLocalSc'+'ale'](_0x315e1c[-0xa61*-0x3+-0x1686+0x89d*-0x1],_0x315e1c[0x1*0x1494+-0xa17*0x1+0x29f*-0x4],_0x315e1c[0x1*-0x565+-0x14e3+0x1a4a]);}return _0x1a9416['hasOwnProp'+'erty']('extensions')&&_0x1a9416['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x43ecf9['set'](_0x1a9416,{'ext':_0x1a9416['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x578cae;},XD=(_0x2c150d,_0x3e2371)=>{const _0x593ba2=_0x2c150d['type']==='orthograph'+'ic'?ua:Gs,_0x329e3d=_0x593ba2===ua?_0x2c150d['orthograph'+'ic']:_0x2c150d['perspectiv'+'e'],_0x5204e4={'enabled':!(-0x1*-0x208d+-0x121a+-0xe72),'projection':_0x593ba2,'nearClip':_0x329e3d['znear'],'aspectRatioMode':Ip};_0x329e3d['zfar']&&(_0x5204e4['farClip']=_0x329e3d['zfar']),_0x593ba2===ua?(_0x5204e4['orthoHeigh'+'t']=(-0xbf4+-0x150b+0x1*0x20ff+0.5)*_0x329e3d['ymag'],_0x329e3d['ymag']&&(_0x5204e4['aspectRati'+'oMode']=Bu,_0x5204e4['aspectRati'+'o']=_0x329e3d['xmag']/_0x329e3d['ymag'])):(_0x5204e4['fov']=_0x329e3d['yfov']*N['RAD_TO_DEG'],_0x329e3d['aspectRati'+'o']&&(_0x5204e4['aspectRati'+'oMode']=Bu,_0x5204e4['aspectRati'+'o']=_0x329e3d['aspectRati'+'o']));const _0x489357=new We(_0x2c150d['name']);return _0x489357['addCompone'+'nt']('camera',_0x5204e4),_0x489357;},jD=(_0x3c69a7,_0x25e138)=>{const _0x390a4c={'enabled':!(0x279*-0x8+0x293*-0xf+0x3a66*0x1),'type':_0x3c69a7['type']==='point'?'omni':_0x3c69a7['type'],'color':_0x3c69a7['hasOwnProp'+'erty']('color')?new Y(_0x3c69a7['color']):Y['WHITE'],'range':_0x3c69a7['hasOwnProp'+'erty']('range')?_0x3c69a7['range']:0x2e29+0x47e8+-0x4f02,'falloffMode':$b,'intensity':_0x3c69a7['hasOwnProp'+'erty']('intensity')?N['clamp'](_0x3c69a7['intensity'],-0x356+-0x1*-0x375+-0x1f,0x2004+0xe29+-0x2e2b):-0x1651*-0x1+-0xa9f+-0xbb1};_0x3c69a7['hasOwnProp'+'erty']('spot')&&(_0x390a4c['innerConeA'+'ngle']=_0x3c69a7['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x3c69a7['spot']['innerConeA'+'ngle']*N['RAD_TO_DEG']:0x257f+0xd*-0x2ab+-0x2d0,_0x390a4c['outerConeA'+'ngle']=_0x3c69a7['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x3c69a7['spot']['outerConeA'+'ngle']*N['RAD_TO_DEG']:Math['PI']/(-0x4f0+0x26f*-0x9+0x5*0x55f)),_0x3c69a7['hasOwnProp'+'erty']('intensity')&&(_0x390a4c['luminance']=_0x3c69a7['intensity']*zo['getLightUn'+'itConversi'+'on'](Gu[_0x390a4c['type']],_0x390a4c['outerConeA'+'ngle'],_0x390a4c['innerConeA'+'ngle']));const _0x3bd57d=new We(_0x25e138['name']);return _0x3bd57d['rotateLoca'+'l'](0x1c6e+-0x6a1*-0x5+-0x3d39*0x1,0x24b4+0xafe*0x3+0x22d7*-0x2,0x8be*-0x4+0x704+-0xdfa*-0x2),_0x3bd57d['addCompone'+'nt']('light',_0x390a4c),_0x3bd57d;},YD=(_0x416f79,_0x39a0d5,_0x4363fd,_0x2d171e)=>{if(!_0x39a0d5['hasOwnProp'+'erty']('skins')||_0x39a0d5['skins']['length']===-0x9ee+0x189d+-0x15*0xb3)return[];const _0x3b099c=new Map();return _0x39a0d5['skins']['map'](_0x2bf500=>ID(_0x416f79,_0x2bf500,_0x39a0d5['accessors'],_0x2d171e,_0x4363fd,_0x3b099c));},KD=(_0x310e43,_0x489022,_0x4b6ad3,_0x4c534d)=>{var _0x2e9191,_0x216680,_0x2c9488;const _0x112aa0={},_0x313912={},_0x493ee6={},_0x2eeb70=[];return{'meshes':!_0x4c534d['skipMeshes']&&((_0x2e9191=_0x489022==null?void(0x1aec+0x1296+-0x2d82):_0x489022['meshes'])==null?void(-0x4ca+0x24b3*0x1+-0x1fe9):_0x2e9191['length'])&&((_0x216680=_0x489022==null?void(0x8f*0xa+-0x22fd+0x1d67):_0x489022['accessors'])==null?void(0x1397+-0x2d1*-0x1+-0xef*0x18):_0x216680['length'])&&((_0x2c9488=_0x489022==null?void(0x1606+0x207c*-0x1+-0x67*-0x1a):_0x489022['bufferView'+'s'])==null?void(-0x1*-0x18f5+-0x27*0x69+-0x8f6):_0x2c9488['length'])?_0x489022['meshes']['map'](_0x533923=>LD(_0x310e43,_0x533923,_0x489022['accessors'],_0x4b6ad3,_0x112aa0,_0x313912,_0x493ee6,_0x4c534d,_0x2eeb70)):[],'meshVariants':_0x313912,'meshDefaultMaterials':_0x493ee6,'promises':_0x2eeb70};},ZD=(_0x53876e,_0x5ce37e,_0x544287)=>{var _0x163d18,_0x18369d,_0x5c2042;if(!_0x53876e['hasOwnProp'+'erty']('materials')||_0x53876e['materials']['length']===-0x7e3*-0x3+0xb63*0x1+0x4*-0x8c3)return[];const _0x39d7dc=(_0x163d18=_0x544287==null?void(0x2fe*0x7+0x160a+0xe54*-0x3):_0x544287['material'])==null?void(-0x16f+0x19e+-0x2f):_0x163d18['preprocess'],_0x4011af=((_0x18369d=_0x544287==null?void(-0x24bd+-0x10a6+0x1*0x3563):_0x544287['material'])==null?void(-0x23*0xcf+-0x316+-0x1*-0x1f63):_0x18369d['process'])??Dx,_0x30faea=(_0x5c2042=_0x544287==null?void(0x64d*0x1+0x261d+-0x2c6a):_0x544287['material'])==null?void(-0x234f+-0x89c*0x1+0x1*0x2beb):_0x5c2042['postproces'+'s'];return _0x53876e['materials']['map'](_0x100c62=>{_0x39d7dc&&_0x39d7dc(_0x100c62);const _0x3023a3=_0x4011af(_0x100c62,_0x5ce37e);return _0x30faea&&_0x30faea(_0x100c62,_0x3023a3),_0x3023a3;});},QD=_0x1941c5=>{if(!_0x1941c5['hasOwnProp'+'erty']('extensions')||!_0x1941c5['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x1ef9eb=_0x1941c5['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x16c62c={};for(let _0x5d854=0x2540+0x7*-0x4c6+-0x3d6;_0x5d854<_0x1ef9eb['length'];_0x5d854++)_0x16c62c[_0x1ef9eb[_0x5d854]['name']]=_0x5d854;return _0x16c62c;},JD=(_0x1b4ae6,_0x2a5b84,_0x5f50d7,_0x25c5aa)=>{var _0x9f6d95,_0xac5ed5;if(!_0x1b4ae6['hasOwnProp'+'erty']('animations')||_0x1b4ae6['animations']['length']===0x157*-0xe+-0x7b1+0x1a73)return[];const _0x2ea7dc=(_0x9f6d95=_0x25c5aa==null?void(-0x1f3*0x9+-0x1*-0x26e9+0x155e*-0x1):_0x25c5aa['animation'])==null?void(0x15c7*0x1+-0x21a4+0xbdd):_0x9f6d95['preprocess'],_0x175634=(_0xac5ed5=_0x25c5aa==null?void(0x2508+-0x2b*0x13+-0x21d7):_0x25c5aa['animation'])==null?void(-0x36b+-0x12c8+-0x1*-0x1633):_0xac5ed5['postproces'+'s'];return _0x1b4ae6['animations']['map']((_0x56cb4d,_0x30c0dc)=>{_0x2ea7dc&&_0x2ea7dc(_0x56cb4d);const _0x220a66=$D(_0x56cb4d,_0x30c0dc,_0x1b4ae6['accessors'],_0x5f50d7,_0x2a5b84,_0x1b4ae6['meshes'],_0x1b4ae6['nodes']);return _0x175634&&_0x175634(_0x56cb4d,_0x220a66),_0x220a66;});},e2=(_0x28bd24,_0x2dc1e3,_0x5e4ebb,_0x430f7c)=>{const _0x5dd918=_0x2dc1e3['accessors'];_0x5e4ebb['forEach']((_0x34741a,_0x2c744f)=>{const _0x324d25=_0x34741a['ext']['attributes'];let _0x47d7dd;if(_0x324d25['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x5ef1b0=_0x5dd918[_0x324d25['TRANSLATIO'+'N']];_0x47d7dd=ma(_0x5ef1b0,_0x430f7c);}let _0x542e13;if(_0x324d25['hasOwnProp'+'erty']('ROTATION')){const _0x4126d2=_0x5dd918[_0x324d25['ROTATION']];_0x542e13=ma(_0x4126d2,_0x430f7c);}let _0x45bb3d;if(_0x324d25['hasOwnProp'+'erty']('SCALE')){const _0x31554d=_0x5dd918[_0x324d25['SCALE']];_0x45bb3d=ma(_0x31554d,_0x430f7c);}const _0x1f23cf=(_0x47d7dd?_0x47d7dd['length']/(-0x1d5*-0x4+0x50*0x6b+0x1*-0x28c1):-0x309+-0x10e2*-0x1+-0xdd9)||(_0x542e13?_0x542e13['length']/(-0x321+0x1c94+-0x196f):0x61f*0x1+-0xad9+0x25d*0x2)||(_0x45bb3d?_0x45bb3d['length']/(-0x14c1+-0x50b+0x19cf):0x35c+-0x1a1a+-0x2*-0xb5f);if(_0x1f23cf){const _0x4398cf=new Float32Array(_0x1f23cf*(-0x2565+0x239a+0x1db)),_0x528e24=new T(),_0x2002cf=new se(),_0xc971f7=new T(0x2612+0x2b*0x73+-0x3962,0xb41*-0x1+0x67d*0x5+-0x152f,-0x2*0xaf3+0xe3*0x1+-0xa82*-0x2),_0x49a1a2=new q();let _0x1448d7=-0x153e+-0x10a+0x1648;for(let _0x5a371d=-0x2*-0xa76+-0xc0b+-0x8e1;_0x5a371d<_0x1f23cf;_0x5a371d++){const _0x49a40d=_0x5a371d*(0x3fa+0x5*0x17+-0x46a);if(_0x47d7dd&&_0x528e24['set'](_0x47d7dd[_0x49a40d],_0x47d7dd[_0x49a40d+(-0x29b+-0xf5*-0x4+0x3*-0x68)],_0x47d7dd[_0x49a40d+(-0x760+0x29*0x8c+-0xf0a)]),_0x542e13){const _0x432d3a=_0x5a371d*(-0x216d+-0x305+0x2476);_0x2002cf['set'](_0x542e13[_0x432d3a],_0x542e13[_0x432d3a+(-0x14f6+0x54b+0xfac)],_0x542e13[_0x432d3a+(0x190e+0x7*0x5e+0x65*-0x46)],_0x542e13[_0x432d3a+(0x157f*0x1+-0x1f*-0x26+0x1a16*-0x1)]);}_0x45bb3d&&_0xc971f7['set'](_0x45bb3d[_0x49a40d],_0x45bb3d[_0x49a40d+(-0x4*-0x8b+-0xa*-0x93+-0x7e9)],_0x45bb3d[_0x49a40d+(0x92*-0xa+-0x1597+0x1b4d)]),_0x49a1a2['setTRS'](_0x528e24,_0x2002cf,_0xc971f7);for(let _0x150fd2=-0x1c50*-0x1+0x289+-0x1ed9;_0x150fd2<-0x1*-0xf45+-0x1561+0x2*0x316;_0x150fd2++)_0x4398cf[_0x1448d7++]=_0x49a1a2['data'][_0x150fd2];}_0x34741a['matrices']=_0x4398cf;}});},t2=(_0x25f2f6,_0x592133,_0x59d80d)=>{var _0x44c343,_0x2cb624,_0x5c936b;if(!_0x25f2f6['hasOwnProp'+'erty']('nodes')||_0x25f2f6['nodes']['length']===0x1*0x9e4+-0x238d+0x19a9)return[];const _0x11c07e=(_0x44c343=_0x592133==null?void(-0x2*0x102a+0x4*0x52f+-0x38*-0x35):_0x592133['node'])==null?void(-0xcbe*0x2+0xddd+-0x19*-0x77):_0x44c343['preprocess'],_0x5d2403=((_0x2cb624=_0x592133==null?void(-0x12a7+0x282+0x1025):_0x592133['node'])==null?void(0x7e1*0x3+-0x1f49*0x1+0x7a6):_0x2cb624['process'])??qD,_0x5d57d0=(_0x5c936b=_0x592133==null?void(0x7a2*0x5+-0xd1b+0x5*-0x503):_0x592133['node'])==null?void(-0x6dd*0x4+0x1090+0xae4*0x1):_0x5c936b['postproces'+'s'],_0x2dade3=_0x25f2f6['nodes']['map']((_0xe490e0,_0x41c336)=>{_0x11c07e&&_0x11c07e(_0xe490e0);const _0x233502=_0x5d2403(_0xe490e0,_0x41c336,_0x59d80d);return _0x5d57d0&&_0x5d57d0(_0xe490e0,_0x233502),_0x233502;});for(let _0x3e6582=0x10f+0x1021+-0x37*0x50;_0x3e6582<_0x25f2f6['nodes']['length'];++_0x3e6582){const _0x4a4112=_0x25f2f6['nodes'][_0x3e6582];if(_0x4a4112['hasOwnProp'+'erty']('children')){const _0x1a08de=_0x2dade3[_0x3e6582],_0x5df492={};for(let _0x523e04=0x1824+0x657+-0x1e7b;_0x523e04<_0x4a4112['children']['length'];++_0x523e04){const _0x51c655=_0x2dade3[_0x4a4112['children'][_0x523e04]];_0x51c655['parent']||(_0x5df492['hasOwnProp'+'erty'](_0x51c655['name'])?_0x51c655['name']+=_0x5df492[_0x51c655['name']]++:_0x5df492[_0x51c655['name']]=-0x1252+0x3*-0xa0b+-0x3074*-0x1,_0x1a08de['addChild'](_0x51c655));}}}return _0x2dade3;},s2=(_0x248145,_0x2bedbd)=>{var _0x17473f;const _0x233273=[],_0x5b14a5=_0x248145['scenes']['length'];if(_0x5b14a5===-0x8*-0x42+-0x1020+0xd*0x115&&((_0x17473f=_0x248145['scenes'][-0xb71+-0x1587+0x20f8]['nodes'])==null?void(-0x21*-0x25+0x1802+-0x1cc7*0x1):_0x17473f['length'])===-0xe5f*-0x1+0x2323+0x29b*-0x13){const _0x17760a=_0x248145['scenes'][0x1397+-0x1f23+0xb8c]['nodes'][0x3*-0xc81+-0x3dd*0xa+0x4c25];_0x233273['push'](_0x2bedbd[_0x17760a]);}else for(let _0x40cd81=0x3f5+-0x3fb*-0x4+0x13e1*-0x1;_0x40cd81<_0x5b14a5;_0x40cd81++){const _0x463c22=_0x248145['scenes'][_0x40cd81];if(_0x463c22['nodes']){const _0x404f27=new De(_0x463c22['name']);for(let _0x4e9d43=0x2504+-0x8b*-0x32+-0x402a;_0x4e9d43<_0x463c22['nodes']['length'];_0x4e9d43++){const _0x4ab58d=_0x2bedbd[_0x463c22['nodes'][_0x4e9d43]];_0x404f27['addChild'](_0x4ab58d);}_0x233273['push'](_0x404f27);}}return _0x233273;},i2=(_0x5cac2a,_0x57ff76,_0x5b5830)=>{var _0xb70e07,_0x23c29c,_0x24b103;let _0x1ec6a8=null;if(_0x5cac2a['hasOwnProp'+'erty']('nodes')&&_0x5cac2a['hasOwnProp'+'erty']('cameras')&&_0x5cac2a['cameras']['length']>0xb5e+0xd70+-0x18ce){const _0x417c78=(_0xb70e07=_0x5b5830==null?void(-0x349*-0x1+-0x837*-0x2+0x1*-0x13b7):_0x5b5830['camera'])==null?void(0x245f+0xd1*-0x23+-0x7cc):_0xb70e07['preprocess'],_0x206e18=((_0x23c29c=_0x5b5830==null?void(-0x95f*0x1+0xb*0x301+0xc*-0x1f9):_0x5b5830['camera'])==null?void(0x12b3*0x1+-0x1e44+-0x2f*-0x3f):_0x23c29c['process'])??XD,_0x1d634c=(_0x24b103=_0x5b5830==null?void(-0x25f8+0x291*-0x6+-0x19e*-0x21):_0x5b5830['camera'])==null?void(-0x35*0x4f+0x7*-0x2c5+0x23be):_0x24b103['postproces'+'s'];_0x5cac2a['nodes']['forEach']((_0x5151f9,_0x45d482)=>{if(_0x5151f9['hasOwnProp'+'erty']('camera')){const _0x3f8f77=_0x5cac2a['cameras'][_0x5151f9['camera']];if(_0x3f8f77){_0x417c78&&_0x417c78(_0x3f8f77);const _0x410a76=_0x206e18(_0x3f8f77,_0x57ff76[_0x45d482]);_0x1d634c&&_0x1d634c(_0x3f8f77,_0x410a76),_0x410a76&&(_0x1ec6a8||(_0x1ec6a8=new Map()),_0x1ec6a8['set'](_0x5151f9,_0x410a76));}}});}return _0x1ec6a8;},r2=(_0xf9a079,_0x241f33,_0x2d4e29)=>{var _0x26aec9,_0x547617,_0x432269;let _0x3d6fa7=null;if(_0xf9a079['hasOwnProp'+'erty']('nodes')&&_0xf9a079['hasOwnProp'+'erty']('extensions')&&_0xf9a079['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0xf9a079['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x57fb0e=_0xf9a079['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x57fb0e['length']){const _0xd5da47=(_0x26aec9=_0x2d4e29==null?void(0x91d+0x742*0x3+-0x1ee3):_0x2d4e29['light'])==null?void(0xe3e+0x2b3+-0x1*0x10f1):_0x26aec9['preprocess'],_0xa044eb=((_0x547617=_0x2d4e29==null?void(-0xbe9*0x3+0x1e76+0x47*0x13):_0x2d4e29['light'])==null?void(-0x199a+0x1e6a+-0x4d0):_0x547617['process'])??jD,_0x481a48=(_0x432269=_0x2d4e29==null?void(0x1*-0x18c2+-0x44e+0x1d10):_0x2d4e29['light'])==null?void(-0x1274*-0x2+0x1*0x10c9+-0x35b1):_0x432269['postproces'+'s'];_0xf9a079['nodes']['forEach']((_0x1e29af,_0xed9606)=>{if(_0x1e29af['hasOwnProp'+'erty']('extensions')&&_0x1e29af['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x1e29af['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0xd191d2=_0x1e29af['extensions']['KHR_lights'+'_punctual']['light'],_0x40f254=_0x57fb0e[_0xd191d2];if(_0x40f254){_0xd5da47&&_0xd5da47(_0x40f254);const _0x219686=_0xa044eb(_0x40f254,_0x241f33[_0xed9606]);_0x481a48&&_0x481a48(_0x40f254,_0x219686),_0x219686&&(_0x3d6fa7||(_0x3d6fa7=new Map()),_0x3d6fa7['set'](_0x1e29af,_0x219686));}}});}}return _0x3d6fa7;},n2=(_0x5cbd0a,_0x1fe470,_0x538fe4)=>{_0x5cbd0a['nodes']['forEach'](_0x168463=>{_0x168463['hasOwnProp'+'erty']('mesh')&&_0x168463['hasOwnProp'+'erty']('skin')&&_0x1fe470[_0x168463['mesh']]['meshes']['forEach'](_0x81bc87=>{_0x81bc87['skin']=_0x538fe4[_0x168463['skin']];});});},a2=async(_0x590d60,_0x5d82c8,_0x152fc0,_0x361679,_0x260e9a)=>{var _0x2d4b36,_0x4fa881;const _0xb6da0f=(_0x2d4b36=_0x260e9a==null?void(-0x2c9+0x1cf6+-0x1a2d):_0x260e9a['global'])==null?void(0x161b+-0x18c9+-0x157*-0x2):_0x2d4b36['preprocess'],_0x5d614c=(_0x4fa881=_0x260e9a==null?void(0xd67+0x38f*-0x1+-0xb4*0xe):_0x260e9a['global'])==null?void(-0x54e+-0x6c3+0x1*0xc11):_0x4fa881['postproces'+'s'];_0xb6da0f&&_0xb6da0f(_0x5d82c8),_0x5d82c8['asset']&&_0x5d82c8['asset']['generator']==='PlayCanvas'&&v['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x36a945=new Map(),_0x6b97dc=t2(_0x5d82c8,_0x260e9a,_0x36a945),_0x7157d=s2(_0x5d82c8,_0x6b97dc),_0x1f3f54=r2(_0x5d82c8,_0x6b97dc,_0x260e9a),_0x577acb=i2(_0x5d82c8,_0x6b97dc,_0x260e9a),_0x39782b=QD(_0x5d82c8),_0x31b6aa=await Promise['all'](_0x152fc0),{meshes:_0x4b27f1,meshVariants:_0x5a4fe4,meshDefaultMaterials:_0x38e764,promises:_0x195c9b}=KD(_0x590d60,_0x5d82c8,_0x31b6aa,_0x260e9a),_0x59e218=JD(_0x5d82c8,_0x6b97dc,_0x31b6aa,_0x260e9a);e2(_0x590d60,_0x5d82c8,_0x36a945,_0x31b6aa);const _0x43829f=await Promise['all'](_0x361679),_0x36fc74=_0x43829f['map'](_0xf13e4f=>_0xf13e4f['resource']),_0x432e49=ZD(_0x5d82c8,_0x36fc74,_0x260e9a),_0x483f72=YD(_0x590d60,_0x5d82c8,_0x6b97dc,_0x31b6aa),_0x27d613=[];for(let _0x4cb0ac=-0x77d+0x2376+0x3ff*-0x7;_0x4cb0ac<_0x4b27f1['length'];_0x4cb0ac++)_0x27d613[_0x4cb0ac]=new Hp(),_0x27d613[_0x4cb0ac]['meshes']=_0x4b27f1[_0x4cb0ac];n2(_0x5d82c8,_0x27d613,_0x483f72);const _0x47f01f=new SD();return _0x47f01f['gltf']=_0x5d82c8,_0x47f01f['nodes']=_0x6b97dc,_0x47f01f['scenes']=_0x7157d,_0x47f01f['animations']=_0x59e218,_0x47f01f['textures']=_0x43829f,_0x47f01f['materials']=_0x432e49,_0x47f01f['variants']=_0x39782b,_0x47f01f['meshVarian'+'ts']=_0x5a4fe4,_0x47f01f['meshDefaul'+'tMaterials']=_0x38e764,_0x47f01f['renders']=_0x27d613,_0x47f01f['skins']=_0x483f72,_0x47f01f['lights']=_0x1f3f54,_0x47f01f['cameras']=_0x577acb,_0x47f01f['nodeInstan'+'cingMap']=_0x36a945,_0x5d614c&&_0x5d614c(_0x5d82c8,_0x47f01f),await Promise['all'](_0x195c9b),_0x47f01f;},o2=(_0x5b944e,_0x39a186)=>{const _0x98e652=(_0x4fc1aa,_0x4770dc)=>{switch(_0x4fc1aa){case 0x431d+-0x3*0x17cb+-0xa*-0x43a:return de;case 0x1aed+-0x660+-0x45d*-0x4:return st;case 0x129e*-0x1+-0x1434+0x2*0x26e9:return fc;case-0x1509+0x47ad*0x1+-0xba3:return mc;case-0x40ec+-0xc6*0x2b+0x8930:return pc;case 0x39fd+0x8*-0x505+0x152e:return nn;default:return _0x4770dc;}},_0x499168=(_0x2f8ab3,_0x3e0c67)=>{switch(_0x2f8ab3){case-0x1918*0x4+0x9601*0x1+0x2*0x27c7:return ae;case 0x1*-0x7217+-0xdc35+0xb5c*0x29:return Of;case 0x121*-0x1+-0x23c7+0x4de9:return tt;default:return _0x3e0c67;}};_0x5b944e&&(_0x39a186=_0x39a186??{},_0x5b944e['minFilter']=_0x98e652(_0x39a186['minFilter'],nn),_0x5b944e['magFilter']=_0x98e652(_0x39a186['magFilter'],st),_0x5b944e['addressU']=_0x499168(_0x39a186['wrapS'],tt),_0x5b944e['addressV']=_0x499168(_0x39a186['wrapT'],tt));};let l2=0x12f*-0x7+0x12b*-0x7+0x1076;const vf=_0x3a948e=>{var _0x48b784,_0x45e71f,_0x1a643f,_0x9850ce;return((_0x45e71f=(_0x48b784=_0x3a948e['extensions'])==null?void(-0x1d19+-0x1f27+0x3c40):_0x48b784['KHR_textur'+'e_basisu'])==null?void(0x305+0x1*0x81a+-0xb1f):_0x45e71f['source'])??((_0x9850ce=(_0x1a643f=_0x3a948e['extensions'])==null?void(-0x1baa+0x1309+0x8a1):_0x1a643f['EXT_textur'+'e_webp'])==null?void(0x96d+-0x1ed7+0x156a):_0x9850ce['source'])??_0x3a948e['source'];},h2=(_0x590e1f,_0x46f35a,_0x330549,_0x45a52a,_0x5dee2a)=>{var _0x1b2793,_0x2adde1,_0x36a621;if(!_0x590e1f['images']||_0x590e1f['images']['length']===0x9d+-0x3*0xc77+0x1ac*0x16)return[];const _0x45340b=(_0x1b2793=_0x5dee2a==null?void(0x21f8+0xc48+0x2*-0x1720):_0x5dee2a['image'])==null?void(-0x777+-0x40*-0x8b+-0x5*0x575):_0x1b2793['preprocess'],_0x1125b8=(_0x2adde1=_0x5dee2a==null?void(0x12ef+-0x12dd+0x12*-0x1):_0x5dee2a['image'])==null?void(-0x18c9*-0x1+-0x1b*-0x51+-0x855*0x4):_0x2adde1['processAsy'+'nc'],_0x4482ed=(_0x36a621=_0x5dee2a==null?void(0x661+0x12*-0x223+-0xbf*-0x2b):_0x5dee2a['image'])==null?void(0x10e3+0x364+-0x1447*0x1):_0x36a621['postproces'+'s'],_0x85b9a7={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x348794=_0x58c57d=>{const _0x31b102=new Set();return _0x58c57d['hasOwnProp'+'erty']('materials')&&_0x58c57d['materials']['forEach'](_0x24b8be=>{if(_0x24b8be['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x44b7e7=_0x24b8be['pbrMetalli'+'cRoughness'];if(_0x44b7e7['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x313f0b=_0x58c57d['textures'][_0x44b7e7['baseColorT'+'exture']['index']];_0x31b102['add'](vf(_0x313f0b));}}if(_0x24b8be['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x1f8a68=_0x58c57d['textures'][_0x24b8be['emissiveTe'+'xture']['index']];_0x31b102['add'](vf(_0x1f8a68));}}),_0x31b102;},_0x1ddec1=(_0x1738ed,_0x3dc5ec,_0x2a70c1,_0x331140,_0x59ce1d,_0x1141bc)=>new Promise((_0x5d8fee,_0x51aa3e)=>{const _0x276c4e=_0x245780=>{const _0x8559ac=(_0x1738ed['name']||'gltf-textu'+'re')+'-'+l2++,_0x57267b={'url':_0x3dc5ec||_0x8559ac};if(_0x245780&&(_0x57267b['contents']=_0x245780['slice'](-0x51*0x5d+-0xaf9+-0x2*-0x1433)['buffer']),_0x331140){const _0x29ee41=_0x85b9a7[_0x331140];_0x29ee41&&(_0x57267b['filename']=_0x57267b['url']+'.'+_0x29ee41);}const _0x60fe18={'srgb':_0x1141bc},_0x46a87a=new le(_0x8559ac,'texture',_0x57267b,_0x60fe18,_0x59ce1d);_0x46a87a['on']('load',_0x22f998=>_0x5d8fee(_0x22f998)),_0x46a87a['on']('error',_0x33f952=>_0x51aa3e(_0x33f952)),_0x45a52a['add'](_0x46a87a),_0x45a52a['load'](_0x46a87a);};_0x2a70c1?_0x2a70c1['then'](_0x9a9f55=>_0x276c4e(_0x9a9f55)):_0x276c4e(null);}),_0x2915c6=_0x348794(_0x590e1f);return _0x590e1f['images']['map']((_0x3413b6,_0x323cdf)=>{_0x45340b&&_0x45340b(_0x3413b6);let _0x23b236;return _0x1125b8?_0x23b236=new Promise((_0x2c86fc,_0x17d072)=>{_0x1125b8(_0x3413b6,(_0x1b9e83,_0x93281d)=>{_0x1b9e83?_0x17d072(_0x1b9e83):_0x2c86fc(_0x93281d);});}):_0x23b236=new Promise(_0x2d1153=>{_0x2d1153(null);}),_0x23b236=_0x23b236['then'](_0x45e2d6=>{const _0x316bee=_0x2915c6['has'](_0x323cdf);return _0x45e2d6||(_0x3413b6['hasOwnProp'+'erty']('uri')?Rx(_0x3413b6['uri'])?_0x1ddec1(_0x3413b6,_0x3413b6['uri'],null,vD(_0x3413b6['uri']),null,_0x316bee):_0x1ddec1(_0x3413b6,Da['test'](_0x3413b6['uri'])?_0x3413b6['uri']:fe['join'](_0x330549,_0x3413b6['uri']),null,null,{'crossOrigin':'anonymous'},_0x316bee):_0x3413b6['hasOwnProp'+'erty']('bufferView')&&_0x3413b6['hasOwnProp'+'erty']('mimeType')?_0x1ddec1(_0x3413b6,null,_0x46f35a[_0x3413b6['bufferView']],_0x3413b6['mimeType'],null,_0x316bee):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x323cdf)));}),_0x4482ed&&(_0x23b236=_0x23b236['then'](_0x2c0175=>(_0x4482ed(_0x3413b6,_0x2c0175),_0x2c0175))),_0x23b236;});},c2=(_0x1164a3,_0x4ddfdd,_0x1ba2d5)=>{var _0xb41943,_0xcff9b2,_0x2428f8,_0x5a9bc8,_0x4afdb4;if(!((_0xb41943=_0x1164a3==null?void(-0x35*0x44+-0x8d3*-0x2+0x1c9*-0x2):_0x1164a3['images'])!=null&&_0xb41943['length'])||!((_0xcff9b2=_0x1164a3==null?void(0x1*-0x283+0x8e3+-0x11*0x60):_0x1164a3['textures'])!=null&&_0xcff9b2['length']))return[];const _0x35f687=(_0x2428f8=_0x1ba2d5==null?void(0x1a8f*-0x1+-0x23ee+0x1*0x3e7d):_0x1ba2d5['texture'])==null?void(0x1782+0x1429+-0x63d*0x7):_0x2428f8['preprocess'],_0x296f78=(_0x5a9bc8=_0x1ba2d5==null?void(0x1*0x15e2+0x1830+0x1*-0x2e12):_0x1ba2d5['texture'])==null?void(-0x54d+-0x11cc*-0x2+0x1*-0x1e4b):_0x5a9bc8['processAsy'+'nc'],_0x3fe79a=(_0x4afdb4=_0x1ba2d5==null?void(-0x7b5*-0x2+0x1*-0xaf5+-0x475*0x1):_0x1ba2d5['texture'])==null?void(-0xdf3+-0x1e32+0x2c25):_0x4afdb4['postproces'+'s'],_0x57a1c1=new Set();return _0x1164a3['textures']['map'](_0x259b5f=>{_0x35f687&&_0x35f687(_0x259b5f);let _0x52449c;return _0x296f78?_0x52449c=new Promise((_0xfa2822,_0x56a9c1)=>{_0x296f78(_0x259b5f,_0x1164a3['images'],(_0x4b7ddd,_0x31ac01)=>{_0x4b7ddd?_0x56a9c1(_0x4b7ddd):_0xfa2822(_0x31ac01);});}):_0x52449c=new Promise(_0x507600=>{_0x507600(null);}),_0x52449c=_0x52449c['then'](_0x5e1e90=>{_0x5e1e90=_0x5e1e90??vf(_0x259b5f);const _0x426f44=_0x57a1c1['has'](_0x5e1e90);return _0x57a1c1['add'](_0x5e1e90),_0x4ddfdd[_0x5e1e90]['then'](_0x1c8204=>{const _0x343160=_0x426f44?MD(_0x1c8204):_0x1c8204;return o2(_0x343160['resource'],(_0x1164a3['samplers']??[])[_0x259b5f['sampler']]),_0x343160;});}),_0x3fe79a&&(_0x52449c=_0x52449c['then'](_0x4d61d8=>(_0x3fe79a(_0x259b5f,_0x4d61d8),_0x4d61d8))),_0x52449c;});},d2=(_0x39d28c,_0x3a1700,_0x2f0e9c,_0x39273a)=>{var _0x132012,_0x3331b6,_0x623213;if(!_0x39d28c['buffers']||_0x39d28c['buffers']['length']===0x10ea+0xab*0x10+-0xdcd*0x2)return[];const _0x52be82=(_0x132012=_0x39273a==null?void(-0xa*-0x1eb+-0x8e5+-0xa49*0x1):_0x39273a['buffer'])==null?void(-0x18ae+-0x1*0x5+0x18b3):_0x132012['preprocess'],_0x38c756=(_0x3331b6=_0x39273a==null?void(0xb8e+-0x42*0x43+-0x5b8*-0x1):_0x39273a['buffer'])==null?void(0x1*-0xe32+-0x29*0x32+0x1634):_0x3331b6['processAsy'+'nc'],_0x176c8e=(_0x623213=_0x39273a==null?void(0xb*-0x241+0x6*-0x281+0x27d1):_0x39273a['buffer'])==null?void(0x1*-0x755+0x3*-0x705+0x1c64):_0x623213['postproces'+'s'];return _0x39d28c['buffers']['map']((_0x39fa50,_0x4dcb72)=>{_0x52be82&&_0x52be82(_0x39fa50);let _0x30171f;return _0x38c756?_0x30171f=new Promise((_0x3db61e,_0x3e3b78)=>{_0x38c756(_0x39fa50,(_0x57a00f,_0x4d8dc2)=>{_0x57a00f?_0x3e3b78(_0x57a00f):_0x3db61e(_0x4d8dc2);});}):_0x30171f=new Promise(_0x3efbe6=>{_0x3efbe6(null);}),_0x30171f=_0x30171f['then'](_0x1ffcbe=>{if(_0x1ffcbe)return _0x1ffcbe;if(_0x39fa50['hasOwnProp'+'erty']('uri')){if(Rx(_0x39fa50['uri'])){const _0x99474=atob(_0x39fa50['uri']['split'](',')[-0xf*0x91+-0xc0*-0x6+0x400]),_0x1bf5e7=new Uint8Array(_0x99474['length']);for(let _0x1ec697=-0x25f7*-0x1+-0x1*-0x1d2b+-0x4322;_0x1ec697<_0x99474['length'];_0x1ec697++)_0x1bf5e7[_0x1ec697]=_0x99474['charCodeAt'](_0x1ec697);return _0x1bf5e7;}return new Promise((_0x2795d3,_0xcc3572)=>{$e['get'](Da['test'](_0x39fa50['uri'])?_0x39fa50['uri']:fe['join'](_0x2f0e9c,_0x39fa50['uri']),{'cache':!(0xe24+-0x4f2*0x1+0xd6*-0xb),'responseType':'arraybuffe'+'r','retry':!(-0xa39*-0x1+0x8ee+-0x1326*0x1)},(_0x47031a,_0x101624)=>{_0x47031a?_0xcc3572(_0x47031a):_0x2795d3(new Uint8Array(_0x101624));});});}return _0x3a1700;}),_0x176c8e&&(_0x30171f=_0x30171f['then'](_0xfc474=>(_0x176c8e(_0x39d28c['buffers'][_0x4dcb72],_0xfc474),_0xfc474))),_0x30171f;});},u2=(_0x4b4aa0,_0x38ea36)=>{const _0x8e7a3=JSON['parse']((_0x1d25b1=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x1d25b1);let _0x547db7='';for(let _0x5d508b=0x2655+0x17*-0x6d+-0x2*0xe45;_0x5d508b<_0x1d25b1['length'];_0x5d508b++)_0x547db7+=String['fromCharCo'+'de'](_0x1d25b1[_0x5d508b]);return decodeURIComponent(escape(_0x547db7));})(_0x4b4aa0));if(_0x8e7a3['asset']&&_0x8e7a3['asset']['version']&&parseFloat(_0x8e7a3['asset']['version'])<0x174b+-0xd9f+-0x9aa){_0x38ea36('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x8e7a3['asset']['version']+'\x27.');return;}_0x38ea36(null,_0x8e7a3);},f2=(_0x562c7e,_0x470ade)=>{const _0x462347=_0x562c7e instanceof ArrayBuffer?new DataView(_0x562c7e):new DataView(_0x562c7e['buffer'],_0x562c7e['byteOffset'],_0x562c7e['byteLength']),_0x345a3a=_0x462347['getUint32'](0x157e+0x1*0x2f5+-0x1873,!(-0xb87+-0x1805+0x41*0x8c)),_0x34ad3e=_0x462347['getUint32'](-0x96d+-0x1*0x24d1+-0x1721*-0x2,!(0x1072+-0xe*-0x1c9+0x22*-0x138)),_0x267f81=_0x462347['getUint32'](-0x1*0xf26+-0x1*0xa67+0x1995,!(0x12c6+0xb4e+-0x1e14));if(_0x345a3a!==0x1*-0x29ef4af+0x772280ad*0x1+-0x2e2f1f97*0x1){_0x470ade('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x345a3a['toString'](-0x2*0x9c5+0x25bd+0x1*-0x1223));return;}if(_0x34ad3e!==0x67b+0x2e3+-0x4ae*0x2){_0x470ade('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x34ad3e);return;}if(_0x267f81<=0x7*-0x3f5+-0x358+-0x9*-0x373||_0x267f81>_0x462347['byteLength']){_0x470ade('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x267f81);return;}const _0x4d97aa=[];let _0x31a8f5=-0x52*-0x1+-0x1012+0xfcc;for(;_0x31a8f5<_0x267f81;){const _0x44fbcc=_0x462347['getUint32'](_0x31a8f5,!(-0x3*-0xb3+-0x943+0x72a));_0x31a8f5+_0x44fbcc+(-0x92*-0x3b+0x1901+-0x3a9f)>_0x462347['byteLength']&&_0x470ade('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x44fbcc);const _0x47b3de=_0x462347['getUint32'](_0x31a8f5+(0x21fe+0x128*0x18+0x1edd*-0x2),!(0x1d3d+0x1241+-0x2f7e)),_0x156183=new Uint8Array(_0x462347['buffer'],_0x462347['byteOffset']+_0x31a8f5+(-0x8f8+-0x1*0x45c+0xd5c),_0x44fbcc);_0x4d97aa['push']({'length':_0x44fbcc,'type':_0x47b3de,'data':_0x156183}),_0x31a8f5+=_0x44fbcc+(-0x1*0x1b9a+0x4*-0x49e+0x2e1a*0x1);}if(_0x4d97aa['length']!==-0x12f5+0x45a+0xe9c&&_0x4d97aa['length']!==0x1*-0x52a+0x26c9+-0x219d){_0x470ade('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x4d97aa[-0x2543+0x13bc+-0x281*-0x7]['type']!==-0x2a9fced9+0x4*0x1a33948+0x72623d03){_0x470ade('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x4d97aa[0x1*-0xbfe+-0x35*-0x71+-0xb67]['type']['toString'](-0x17f7+-0x1*-0x67f+0x462*0x4));return;}if(_0x4d97aa['length']>0x26df+-0x531+-0x1*0x21ad&&_0x4d97aa[0x15*0x42+0x4*-0xaf+0x5*-0x89]['type']!==0x13072c+0xef*-0x1ee+-0x7a1e9*-0x8){_0x470ade('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x4d97aa[-0x10a9+-0x1f42+-0x1*-0x2fec]['type']['toString'](-0x1*0x1b5b+-0x2b*0x4c+-0x1b*-0x17d));return;}_0x470ade(null,{'gltfChunk':_0x4d97aa[-0x86b+-0x10*-0x18a+0x1cd*-0x9]['data'],'binaryChunk':_0x4d97aa['length']===0xb1*-0x9+0x177a*-0x1+0x1*0x1db5?_0x4d97aa[-0x6b*0x9+0x1be2+0x15*-0x126]['data']:null});},p2=(_0x5a1dd8,_0x13e273,_0x216aea)=>{const _0x112d8c=()=>{const _0x37f68d=new Uint8Array(_0x13e273);return _0x37f68d[-0x2690+-0xdfc+0x3*0x1184]===-0x1*-0x106a+-0x5*0x136+0x9f5*-0x1&&_0x37f68d[0x1b12+-0x8*0x44b+0x747]===-0xc8+0x1ce8+-0x314*0x9&&_0x37f68d[-0x2610+0x39*-0x2e+0x3050]===-0x8e3*0x1+-0x24a3*0x1+0x16ed*0x2&&_0x37f68d[-0x1fc8+0xb*0x189+0xee8]===-0x584*-0x2+-0xa7*0x35+-0x1*-0x17d1;};_0x5a1dd8&&_0x5a1dd8['toLowerCas'+'e']()['endsWith']('.glb')||_0x112d8c()?f2(_0x13e273,_0x216aea):_0x216aea(null,{'gltfChunk':_0x13e273,'binaryChunk':null});},m2=(_0x5d0f37,_0x257dd7,_0x11f16d)=>{var _0x49984e,_0x280b69,_0x3d89af,_0x6a041;const _0x250e2a=[],_0x395daf=(_0x49984e=_0x11f16d==null?void(0x1b11+-0x538*0x7+0x977*0x1):_0x11f16d['bufferView'])==null?void(0x1a72+-0x126f+-0x803):_0x49984e['preprocess'],_0x3c6b1e=(_0x280b69=_0x11f16d==null?void(0x1535+0x1f67*0x1+-0x349c):_0x11f16d['bufferView'])==null?void(0x10e+0x1eed+-0x1ffb*0x1):_0x280b69['processAsy'+'nc'],_0x1bfd3a=(_0x3d89af=_0x11f16d==null?void(-0x1257+0x995*0x2+-0xd3):_0x11f16d['bufferView'])==null?void(-0x2*0xbfb+-0x2572+0x2*0x1eb4):_0x3d89af['postproces'+'s'];if(!((_0x6a041=_0x5d0f37['bufferView'+'s'])!=null&&_0x6a041['length']))return _0x250e2a;for(let _0x218602=-0xa64+-0xee7+-0x50f*-0x5;_0x218602<_0x5d0f37['bufferView'+'s']['length'];++_0x218602){const _0x371244=_0x5d0f37['bufferView'+'s'][_0x218602];_0x395daf&&_0x395daf(_0x371244);let _0xb47533;_0x3c6b1e?_0xb47533=new Promise((_0x315ed6,_0x17589b)=>{_0x3c6b1e(_0x371244,_0x257dd7,(_0x51de86,_0x230e28)=>{_0x51de86?_0x17589b(_0x51de86):_0x315ed6(_0x230e28);});}):_0xb47533=new Promise(_0x363a92=>{_0x363a92(null);}),_0xb47533=_0xb47533['then'](_0x17a3e4=>_0x17a3e4||_0x257dd7[_0x371244['buffer']]['then'](_0x3d0a30=>new Uint8Array(_0x3d0a30['buffer'],_0x3d0a30['byteOffset']+(_0x371244['byteOffset']||0x10c*-0x1+0x4f1+-0x3e5),_0x371244['byteLength']))),_0x371244['hasOwnProp'+'erty']('byteStride')&&(_0xb47533=_0xb47533['then'](_0x5d5eb6=>(_0x5d5eb6['byteStride']=_0x371244['byteStride'],_0x5d5eb6))),_0x1bfd3a&&(_0xb47533=_0xb47533['then'](_0x4ccf1c=>(_0x1bfd3a(_0x371244,_0x4ccf1c),_0x4ccf1c))),_0x250e2a['push'](_0xb47533);}return _0x250e2a;};class tc{static['parse'](_0x25a624,_0x446152,_0x11724b,_0x5873ed,_0x43fe76,_0x3df9ef,_0x5edcc0){p2(_0x25a624,_0x11724b,(_0x33196c,_0x266624)=>{if(_0x33196c){_0x5edcc0(_0x33196c);return;}u2(_0x266624['gltfChunk'],(_0x43e393,_0x40e2a2)=>{if(_0x43e393){_0x5edcc0(_0x43e393);return;}const _0x525000=d2(_0x40e2a2,_0x266624['binaryChun'+'k'],_0x446152,_0x3df9ef),_0x19bc82=m2(_0x40e2a2,_0x525000,_0x3df9ef),_0x96eb36=h2(_0x40e2a2,_0x19bc82,_0x446152,_0x43fe76,_0x3df9ef),_0x4b54c8=c2(_0x40e2a2,_0x96eb36,_0x3df9ef);a2(_0x5873ed,_0x40e2a2,_0x19bc82,_0x4b54c8,_0x3df9ef)['then'](_0x37f9af=>_0x5edcc0(null,_0x37f9af))['catch'](_0x57d949=>_0x5edcc0(_0x57d949));});});}static['createDefa'+'ultMateria'+'l'](){return Dx({'name':'defaultGlb'+'Material'},[]);}}class _2 extends Ne{constructor(_0x4072b5){super(_0x4072b5,'animation'),this['device']=_0x4072b5['graphicsDe'+'vice'],this['assets']=_0x4072b5['assets'];}['load'](_0x441c0f,_0x4fd606,_0x53bf6f){typeof _0x441c0f=='string'&&(_0x441c0f={'load':_0x441c0f,'original':_0x441c0f});const _0x28590d={'retry':this['maxRetries']>-0x246a*0x1+-0x2*-0x763+0x15a4,'maxRetries':this['maxRetries']};(_0x441c0f['load']['startsWith']('blob:')||_0x441c0f['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0x441c0f['original'])['toLowerCas'+'e']()==='.glb'?_0x28590d['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x28590d['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x441c0f['load'],_0x28590d,(_0x431322,_0x2469fa)=>{_0x431322?_0x4fd606('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x441c0f['original']+'\x20['+_0x431322+']'):fe['getExtensi'+'on'](_0x441c0f['original'])['toLowerCas'+'e']()==='.glb'?tc['parse']('filename.g'+'lb','',_0x2469fa,this['device'],this['assets'],(_0x53bf6f==null?void(0x1c1*-0x1+-0x7eb+0x2*0x4d6):_0x53bf6f['options'])??{},(_0x23a559,_0x52b786)=>{var _0x51cb95;if(_0x23a559)_0x4fd606(_0x23a559);else{const _0x1baf15=_0x52b786['animations'];if((_0x51cb95=_0x53bf6f==null?void(0x51c+0x13f*0x13+-0x1cc9*0x1):_0x53bf6f['data'])!=null&&_0x51cb95['events']){for(let _0x685397=0x1fc2+-0x2246*0x1+-0x4*-0xa1;_0x685397<_0x1baf15['length'];_0x685397++)_0x1baf15[_0x685397]['events']=new Y0(Object['values'](_0x53bf6f['data']['events']));}_0x52b786['destroy'](),_0x4fd606(null,_0x1baf15);}}):_0x4fd606(null,this['_parseAnim'+'ationV'+_0x2469fa['animation']['version']](_0x2469fa));});}['open'](_0x3f4813,_0x351dea,_0xdbe6cd){return _0x351dea;}['_parseAnim'+'ationV3'](_0x37d313){const _0x5a6623=_0x37d313['animation'],_0x4a932c=new k_();_0x4a932c['name']=_0x5a6623['name'],_0x4a932c['duration']=_0x5a6623['duration'];for(let _0xc52ea3=0xa*-0x2ea+0x2f7*0x5+0xe51;_0xc52ea3<_0x5a6623['nodes']['length'];_0xc52ea3++){const _0x28af69=new O_(),_0x44fb59=_0x5a6623['nodes'][_0xc52ea3];_0x28af69['_name']=_0x44fb59['name'];for(let _0x1b0b26=-0x29*0x37+0x1*0x10d5+-0x806;_0x1b0b26<_0x44fb59['keys']['length'];_0x1b0b26++){const _0x219c2d=_0x44fb59['keys'][_0x1b0b26],_0x607190=_0x219c2d['time'],_0x3b67bb=_0x219c2d['pos'],_0x11d97f=_0x219c2d['rot'],_0x17165b=_0x219c2d['scale'],_0x2a8a30=new T(_0x3b67bb[0x137e*0x1+0x1*-0x22bb+-0x53*-0x2f],_0x3b67bb[-0x214+-0x15c2+0x17d7],_0x3b67bb[-0xa6*-0xe+-0x497+0x25*-0x1f]),_0x3dd327=new se()['setFromEul'+'erAngles'](_0x11d97f[0x6*0x1f5+-0x8d*-0x2d+0x40f*-0x9],_0x11d97f[0x4e2+-0x1a93+0x15b2],_0x11d97f[-0x7c8+-0x2403+-0x1*-0x2bcd]),_0x475729=new T(_0x17165b[-0x1e7c+-0x22cf+0xd0f*0x5],_0x17165b[0xd*-0x131+-0x1d9+0x17*0xc1],_0x17165b[-0x1041+-0x11db+-0x2*-0x110f]),_0x179501=new F_(_0x607190,_0x2a8a30,_0x3dd327,_0x475729);_0x28af69['_keys']['push'](_0x179501);}_0x4a932c['addNode'](_0x28af69);}return _0x4a932c;}['_parseAnim'+'ationV4'](_0x3da49c){const _0x16048d=_0x3da49c['animation'],_0x4ce3dc=new k_();_0x4ce3dc['name']=_0x16048d['name'],_0x4ce3dc['duration']=_0x16048d['duration'];for(let _0x16e282=-0x3*0x8e4+0x423+0x1689;_0x16e282<_0x16048d['nodes']['length'];_0x16e282++){const _0x59a341=new O_(),_0x566a95=_0x16048d['nodes'][_0x16e282];_0x59a341['_name']=_0x566a95['name'];const _0x205a6e=_0x566a95['defaults']['p'],_0xdbef72=_0x566a95['defaults']['r'],_0x1c6c69=_0x566a95['defaults']['s'];for(let _0xbedb10=-0x3*0x96b+0x1406*0x1+0x83b;_0xbedb10<_0x566a95['keys']['length'];_0xbedb10++){const _0x5f414c=_0x566a95['keys'][_0xbedb10],_0x8ba642=_0x5f414c['t'],_0x2ee067=_0x205a6e||_0x5f414c['p'],_0x9baad0=_0xdbef72||_0x5f414c['r'],_0x223d49=_0x1c6c69||_0x5f414c['s'],_0x33c2a4=new T(_0x2ee067[0xa17+-0x17f5*0x1+0xdde],_0x2ee067[0x61*0x6+0x561+-0x7a6],_0x2ee067[0x1*0x179c+0x1dfb+-0x2b*0x13f]),_0x4a760d=new se()['setFromEul'+'erAngles'](_0x9baad0[-0x7+0x1de3+-0x6*0x4fa],_0x9baad0[-0x1*0xc3b+-0x1d9a+-0x1e*-0x165],_0x9baad0[-0x108*-0x1f+0x1349*0x2+0x1*-0x4688]),_0xfbf009=new T(_0x223d49[-0x6d2*0x2+0x44b*0x5+-0x7d3],_0x223d49[0x1*-0x1a8+0xaf*-0x7+-0x339*-0x2],_0x223d49[-0x356*0x3+0x1cf*0xb+-0x3*0x34b]),_0x1b5ed9=new F_(_0x8ba642,_0x33c2a4,_0x4a760d,_0xfbf009);_0x59a341['_keys']['push'](_0x1b5ed9);}_0x4ce3dc['addNode'](_0x59a341);}return _0x4ce3dc;}}class g2 extends Ne{constructor(_0x3972ec){super(_0x3972ec,'animclip');}['load'](_0x5e2f5c,_0x4dc103){typeof _0x5e2f5c=='string'&&(_0x5e2f5c={'load':_0x5e2f5c,'original':_0x5e2f5c});const _0x58dbd4={'retry':this['maxRetries']>0xefd+-0x2b*0x9e+0xb8d,'maxRetries':this['maxRetries']};_0x5e2f5c['load']['startsWith']('blob:')&&(_0x58dbd4['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x5e2f5c['load'],_0x58dbd4,(_0x3bc785,_0x1fc3e3)=>{_0x3bc785?_0x4dc103('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x5e2f5c['original']+'\x20['+_0x3bc785+']'):_0x4dc103(null,_0x1fc3e3);});}['open'](_0x5d9c7b,_0x464e25){const _0x114d7f=_0x464e25['name'],_0x710e3e=_0x464e25['duration'],_0x4e23d1=_0x464e25['inputs']['map'](_0x264581=>new Jh(-0x1e37+-0x14db+0x3313,_0x264581)),_0x389f14=_0x464e25['outputs']['map'](_0x499ff1=>new Jh(_0x499ff1['components'],_0x499ff1['data'])),_0x5179b3=_0x464e25['curves']['map'](_0x22d87e=>new Px([_0x22d87e['path']],_0x22d87e['inputIndex'],_0x22d87e['outputInde'+'x'],_0x22d87e['interpolat'+'ion']));return new Ri(_0x114d7f,_0x710e3e,_0x4e23d1,_0x389f14,_0x5179b3);}}class y2 extends Ne{constructor(_0xb04670){super(_0xb04670,'animstateg'+'raph');}['load'](_0x3bfc0e,_0x14410e){typeof _0x3bfc0e=='string'&&(_0x3bfc0e={'load':_0x3bfc0e,'original':_0x3bfc0e});const _0x364608={'retry':this['maxRetries']>0x141*-0x17+-0x1*0xef5+0x15e6*0x2,'maxRetries':this['maxRetries']};_0x3bfc0e['load']['startsWith']('blob:')&&(_0x364608['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x3bfc0e['load'],_0x364608,(_0x1db3cb,_0x47a3a3)=>{_0x1db3cb?_0x14410e('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x3bfc0e['original']+'\x20['+_0x1db3cb+']'):_0x14410e(null,_0x47a3a3);});}['open'](_0xb537d0,_0x27b46c){return new mh(_0x27b46c);}}const Qd=(function(){if(typeof window>'u')return!(0x1d*0x6b+-0x6ab*0x1+-0x573);const _0x1c0503=window['navigator']['userAgent'],_0x3677a8=_0x1c0503['indexOf']('MSIE\x20');if(_0x3677a8>-0x11f8+-0x24*-0x83+-0x74)return parseInt(_0x1c0503['substring'](_0x3677a8+(-0x24ad*-0x1+0x17c*0xa+-0x3380),_0x1c0503['indexOf']('.',_0x3677a8)),0x1*-0x24a1+0x20a0+0x40b);if(_0x1c0503['indexOf']('Trident/')>-0x80c+0x3*0xc70+-0x1d44){const _0x52cdcf=_0x1c0503['indexOf']('rv:');return parseInt(_0x1c0503['substring'](_0x52cdcf+(0xd*0x49+0x1a*0x39+-0x97c),_0x1c0503['indexOf']('.',_0x52cdcf)),-0x13*0x35+0xe9*0x1+-0x4*-0xc4);}return!(-0x2393+-0x5ab*0x1+0x293f);}()),x2=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class S2 extends Ne{constructor(_0x50b179){super(_0x50b179,'audio'),this['manager']=_0x50b179['soundManag'+'er'],v['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x7dc129){const _0x13a88b=fe['getExtensi'+'on'](_0x7dc129);return x2['indexOf'](_0x13a88b)>-(-0xff5+0xb*0x1e8+-0x502)||_0x7dc129['startsWith']('blob:');}['load'](_0xe40cbb,_0x1fc03c){typeof _0xe40cbb=='string'&&(_0xe40cbb={'load':_0xe40cbb,'original':_0xe40cbb});const _0x3ece42=function(_0x549a3d){_0x1fc03c(null,new Bb(_0x549a3d));},_0x12a48b=function(_0x33893e){let _0x530a0e='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0xe40cbb['original'];_0x33893e&&(_0x530a0e+=':\x20'+(_0x33893e['message']||_0x33893e)),console['warn'](_0x530a0e),_0x1fc03c(_0x530a0e);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0xe40cbb['original'])){_0x12a48b('Audio\x20form'+'at\x20for\x20'+_0xe40cbb['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0xe40cbb['load'],_0x3ece42,_0x12a48b);}else _0x12a48b(null);}['_createSou'+'nd'](_0x5a0f8c,_0x1ce5e6,_0x322375){if(Li()){const _0x2e53f3=this['manager'];if(!_0x2e53f3['context']){_0x322375('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x4c8540={'retry':this['maxRetries']>-0x1e1a+-0x625+0xc15*0x3,'maxRetries':this['maxRetries']};(_0x5a0f8c['startsWith']('blob:')||_0x5a0f8c['startsWith']('data:'))&&(_0x4c8540['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),$e['get'](_0x5a0f8c,_0x4c8540,(_0x48a031,_0x3f4e30)=>{if(_0x48a031){_0x322375(_0x48a031);return;}_0x2e53f3['context']['decodeAudi'+'oData'](_0x3f4e30,_0x1ce5e6,_0x322375);});}else{let _0x4cf6e9=null;try{_0x4cf6e9=new Audio();}catch{_0x322375('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Qd&&document['body']['appendChil'+'d'](_0x4cf6e9);const _0x3656b1=function(){_0x4cf6e9['removeEven'+'tListener']('canplaythr'+'ough',_0x3656b1),Qd&&document['body']['removeChil'+'d'](_0x4cf6e9),_0x1ce5e6(_0x4cf6e9);};_0x4cf6e9['onerror']=function(){_0x4cf6e9['onerror']=null,Qd&&document['body']['removeChil'+'d'](_0x4cf6e9),_0x322375();},_0x4cf6e9['addEventLi'+'stener']('canplaythr'+'ough',_0x3656b1),_0x4cf6e9['src']=_0x5a0f8c;}}}class v2 extends Ne{constructor(_0x4a15de){super(_0x4a15de,'binary');}['load'](_0x4f2f25,_0x25c1c0){typeof _0x4f2f25=='string'&&(_0x4f2f25={'load':_0x4f2f25,'original':_0x4f2f25}),$e['get'](_0x4f2f25['load'],{'responseType':ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>-0x1195+0x1680+-0x4eb,'maxRetries':this['maxRetries']},(_0x3fcd8e,_0x1121eb)=>{_0x3fcd8e?_0x25c1c0('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x4f2f25['original']+'\x20['+_0x3fcd8e+']'):_0x25c1c0(null,_0x1121eb);});}['openBinary'](_0x120da9){return _0x120da9['buffer'];}}class tr{constructor(_0x49db43,_0x745140,_0x635da9,_0x10c857){const _0x15e9c6=function(_0x458d31,_0x3cf937,_0x317714){const _0x4163ec=tr['createAsse'+'t'](_0x745140['name'],_0x458d31,_0x3cf937,_0x317714);return _0x635da9['add'](_0x4163ec),_0x4163ec;},_0x4fa34a=[];for(let _0x463bde=-0x1ace+0x1bf*0x1+0x5*0x503;_0x463bde<_0x49db43['renders']['length'];++_0x463bde)_0x4fa34a['push'](_0x15e9c6('render',_0x49db43['renders'][_0x463bde],_0x463bde));const _0x139d1a=[];for(let _0x37e138=0x259*-0x6+-0x1f4*0x6+0x19ce;_0x37e138<_0x49db43['materials']['length'];++_0x37e138)_0x139d1a['push'](_0x15e9c6('material',_0x49db43['materials'][_0x37e138],_0x37e138));const _0x276f0b=[];for(let _0x20641f=-0x355*0x2+-0x83a+-0x2*-0x772;_0x20641f<_0x49db43['animations']['length'];++_0x20641f)_0x276f0b['push'](_0x15e9c6('animation',_0x49db43['animations'][_0x20641f],_0x20641f));this['data']=_0x49db43,this['_model']=null,this['_assetName']=_0x745140['name'],this['_assets']=_0x635da9,this['_defaultMa'+'terial']=_0x10c857,this['renders']=_0x4fa34a,this['materials']=_0x139d1a,this['textures']=_0x49db43['textures'],this['animations']=_0x276f0b;}get['model'](){if(!this['_model']){const _0x12168d=tr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x5d6e2b=tr['createAsse'+'t'](this['_assetName'],'model',_0x12168d,-0x2*-0xc81+0x1*-0x2646+0x6a2*0x2);this['_assets']['add'](_0x5d6e2b),this['_model']=_0x5d6e2b;}return this['_model'];}static['createAsse'+'t'](_0x59c15e,_0x5a8e2f,_0xf1aa34,_0x56e639){const _0x4df365=new le(_0x59c15e+'/'+_0x5a8e2f+'/'+_0x56e639,_0x5a8e2f,{'url':''});return _0x4df365['resource']=_0xf1aa34,_0x4df365['loaded']=!(0x1d13+0xdd6+-0x2ae9),_0x4df365;}['instantiat'+'eModelEnti'+'ty'](_0x21bde5){const _0x40e845=new We();return _0x40e845['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x21bde5)),_0x40e845;}['instantiat'+'eRenderEnt'+'ity'](_0x4a36f5){const _0x56dbb0=this['_defaultMa'+'terial'],_0x183ca7=[],_0x1bd577=function(_0x5f49e7,_0x10d3c2,_0x4b284f,_0x399e2b,_0x34123b,_0x1f3b92,_0x3fa2da,_0x12837d){const _0x116527=_0x34123b[_0x4b284f['id']],_0x566e25=_0x116527===void(0xe86*-0x1+0x48a+0x9fc)?_0x56dbb0:_0x399e2b[_0x116527],_0x22eaaf=new Le(_0x4b284f,_0x566e25);_0x4b284f['morph']&&(_0x22eaaf['morphInsta'+'nce']=new fn(_0x4b284f['morph'])),_0x3fa2da['hasOwnProp'+'erty']('skin')&&_0x183ca7['push']({'meshInstance':_0x22eaaf,'rootBone':_0x5f49e7,'entity':_0x10d3c2});const _0x213eb3=_0x12837d['get'](_0x3fa2da);if(_0x213eb3){const _0x5cbfe9=_0x213eb3['matrices'],_0x4d8a13=Et['getDefault'+'Instancing'+'Format'](_0x4b284f['device']),_0x389495=new os(_0x4b284f['device'],_0x4d8a13,_0x5cbfe9['length']/(0x529+-0xe3f+0x926),{'data':_0x5cbfe9});_0x22eaaf['setInstanc'+'ing'](_0x389495),_0x22eaaf['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(-0x236*0x1+0x25a8+0x11b9*-0x2);}return _0x22eaaf;},_0x126d10=(_0x6ceaa8,_0x4e436f,_0x411e79)=>{const _0x324018=new We();_0x4e436f['_cloneInte'+'rnal'](_0x324018),_0x6ceaa8||(_0x6ceaa8=_0x324018);let _0x2b286b=null,_0x1af3fb=null;for(let _0xe6f1e4=-0x54d+0x1856+-0x1309;_0xe6f1e4<_0x411e79['nodes']['length'];_0xe6f1e4++)if(_0x411e79['nodes'][_0xe6f1e4]===_0x4e436f){const _0x9c46f4=_0x411e79['gltf']['nodes'][_0xe6f1e4];if(_0x9c46f4['hasOwnProp'+'erty']('mesh')){const _0x5062ad=_0x411e79['renders'][_0x9c46f4['mesh']]['meshes'];_0x1af3fb=this['renders'][_0x9c46f4['mesh']];for(let _0x14d139=-0x1a46+0xc*0x4c+0x16b6;_0x14d139<_0x5062ad['length'];_0x14d139++){const _0x2c13e5=_0x5062ad[_0x14d139];if(_0x2c13e5){const _0x15e0e8=_0x1bd577(_0x6ceaa8,_0x324018,_0x2c13e5,_0x411e79['materials'],_0x411e79['meshDefaul'+'tMaterials'],_0x411e79['skins'],_0x9c46f4,_0x411e79['nodeInstan'+'cingMap']);_0x2b286b||(_0x2b286b=[]),_0x2b286b['push'](_0x15e0e8);}}}if(_0x411e79['lights']){const _0xc3e3c7=_0x411e79['lights']['get'](_0x9c46f4);_0xc3e3c7&&_0x324018['addChild'](_0xc3e3c7['clone']());}if(_0x411e79['cameras']){const _0x5ecbba=_0x411e79['cameras']['get'](_0x9c46f4);_0x5ecbba&&_0x5ecbba['camera']['system']['cloneCompo'+'nent'](_0x5ecbba,_0x324018);}}_0x2b286b&&(_0x324018['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x2b286b},_0x4a36f5)),_0x324018['render']['assignAsse'+'t'](_0x1af3fb));const _0x25b025=_0x4e436f['children'];for(let _0x5c8c3f=-0x3*0xbc3+-0xdd*0x2d+-0x3*-0x18b6;_0x5c8c3f<_0x25b025['length'];_0x5c8c3f++){const _0x15fa2b=_0x126d10(_0x6ceaa8,_0x25b025[_0x5c8c3f],_0x411e79);_0x324018['addChild'](_0x15fa2b);}return _0x324018;},_0xa4aefc=[];for(const _0x32f358 of this['data']['scenes'])_0xa4aefc['push'](_0x126d10(null,_0x32f358,this['data']));return _0x183ca7['forEach'](_0x321e1f=>{_0x321e1f['meshInstan'+'ce']['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x321e1f['meshInstan'+'ce']['mesh']['skin'],_0x321e1f['rootBone'],_0x321e1f['entity']),_0x321e1f['meshInstan'+'ce']['node']['render']['rootBone']=_0x321e1f['rootBone'];}),tr['createScen'+'eHierarchy'](_0xa4aefc,We);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x1217a3,_0xa74534){const _0x15dd04=_0xa74534?this['data']['variants'][_0xa74534]:null;if(_0x15dd04===void(-0x1eff+0x24ef+0x14*-0x4c)){v['warn']('No\x20variant'+'\x20named\x20'+_0xa74534+('\x20exists\x20in'+'\x20resource'));return;}const _0xa114fe=_0x1217a3['findCompon'+'ents']('render');for(let _0x124aeb=-0x14bf+-0x1e60+-0x1*-0x331f;_0x124aeb<_0xa114fe['length'];_0x124aeb++){const _0x2bf06a=_0xa114fe[_0x124aeb];this['_applyMate'+'rialVarian'+'t'](_0x15dd04,_0x2bf06a['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x2a09ba,_0x786692){const _0x326a48=_0x786692?this['data']['variants'][_0x786692]:null;if(_0x326a48===void(0x2707+-0x79d*0x3+-0x1030)){v['warn']('No\x20variant'+'\x20named\x20'+_0x786692+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x326a48,_0x2a09ba);}['_applyMate'+'rialVarian'+'t'](_0x37fba2,_0x4f8973){_0x4f8973['forEach'](_0x5bacca=>{if(_0x37fba2===null)_0x5bacca['material']=this['_defaultMa'+'terial'];else{const _0x360628=this['data']['meshVarian'+'ts'][_0x5bacca['mesh']['id']];_0x360628&&(_0x5bacca['material']=this['data']['materials'][_0x360628[_0x37fba2]]);}v['assert'](_0x5bacca['material']);});}static['createScen'+'eHierarchy'](_0x555df2,_0x41ba20){let _0xff0be9=null;if(_0x555df2['length']===-0x2205+-0x65*0x9+0x2593)_0xff0be9=_0x555df2[0xff7*-0x1+0xa7c+0x57b];else{_0xff0be9=new _0x41ba20('SceneGroup');for(const _0x1713a8 of _0x555df2)_0xff0be9['addChild'](_0x1713a8);}return _0xff0be9;}static['createMode'+'l'](_0x555700,_0x58eba3){const _0x475646=function(_0x35a79a,_0x4feff8,_0x292329,_0x501b61,_0x498827,_0xc66424,_0x39b69f){const _0x82bd52=_0x555700['meshDefaul'+'tMaterials'][_0x4feff8['id']],_0x4b0f1e=_0x82bd52===void(-0x1180+-0x1b83+0x2d03)?_0x58eba3:_0x498827[_0x82bd52],_0x13cb7b=new Le(_0x4feff8,_0x4b0f1e,_0xc66424);if(_0x4feff8['morph']){const _0x3a7457=new fn(_0x4feff8['morph']);_0x13cb7b['morphInsta'+'nce']=_0x3a7457,_0x35a79a['morphInsta'+'nces']['push'](_0x3a7457);}if(_0x39b69f['hasOwnProp'+'erty']('skin')){const _0x4ea491=_0x39b69f['skin'],_0x305564=_0x292329[_0x4ea491];_0x4feff8['skin']=_0x305564;const _0x1e5442=_0x501b61[_0x4ea491];_0x13cb7b['skinInstan'+'ce']=_0x1e5442,_0x35a79a['skinInstan'+'ces']['push'](_0x1e5442);}_0x35a79a['meshInstan'+'ces']['push'](_0x13cb7b);},_0x357f34=new Oi(),_0x566cda=[];for(const _0x5270e9 of _0x555700['skins']){const _0x1b203d=new nl(_0x5270e9);_0x1b203d['bones']=_0x5270e9['bones'],_0x566cda['push'](_0x1b203d);}_0x357f34['graph']=tr['createScen'+'eHierarchy'](_0x555700['scenes'],De);for(let _0xb7d189=0x1*-0x1bbe+-0x426+0x1fe4;_0xb7d189<_0x555700['nodes']['length'];_0xb7d189++){const _0xd04128=_0x555700['nodes'][_0xb7d189];if(_0xd04128['root']===_0x357f34['graph']){const _0x1245a9=_0x555700['gltf']['nodes'][_0xb7d189];if(_0x1245a9['hasOwnProp'+'erty']('mesh')){const _0x199577=_0x555700['renders'][_0x1245a9['mesh']]['meshes'];for(let _0x3b8b48=-0xd96+-0x2517+0x32ad*0x1;_0x3b8b48<_0x199577['length'];_0x3b8b48++){const _0x50ebdd=_0x199577[_0x3b8b48];_0x50ebdd&&_0x475646(_0x357f34,_0x50ebdd,_0x555700['skins'],_0x566cda,_0x555700['materials'],_0xd04128,_0x1245a9);}}}}return _0x357f34;}['destroy'](){const _0x27a780=this['_assets'],_0x189578=function(_0xe1be39){_0x27a780['remove'](_0xe1be39),_0xe1be39['unload']();},_0x936c30=function(_0x2a7cbb){_0x2a7cbb['forEach'](_0x1c5d1a=>{_0x189578(_0x1c5d1a);});};this['animations']&&(_0x936c30(this['animations']),this['animations']=null),this['textures']&&(_0x936c30(this['textures']),this['textures']=null),this['materials']&&(_0x936c30(this['materials']),this['materials']=null),this['renders']&&(_0x936c30(this['renders']),this['renders']=null),this['_model']&&(_0x189578(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class b2{constructor(_0x51b889,_0x3127c2,_0x10ba48){this['_device']=_0x51b889,this['_assets']=_0x3127c2,this['_defaultMa'+'terial']=tc['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x10ba48;}['_getUrlWit'+'houtParams'](_0xdb4020){return _0xdb4020['indexOf']('?')>=-0x1*0x609+-0x1*0x240a+0x2a13?_0xdb4020['split']('?')[-0x2e*-0x9a+-0x1*0x1ee7+0x33b]:_0xdb4020;}['load'](_0x5f34de,_0x460e03,_0x1d2b01){le['fetchArray'+'Buffer'](_0x5f34de['load'],(_0x4feb14,_0xb5d3a8)=>{_0x4feb14?_0x460e03(_0x4feb14):tc['parse'](this['_getUrlWit'+'houtParams'](_0x5f34de['original']),fe['extractPat'+'h'](_0x5f34de['load']),_0xb5d3a8,this['_device'],_0x1d2b01['registry'],_0x1d2b01['options'],(_0x51e039,_0x1da8f2)=>{_0x51e039?_0x460e03(_0x51e039):_0x460e03(null,new tr(_0x1da8f2,_0x1d2b01,this['_assets'],this['_defaultMa'+'terial']));});},_0x1d2b01,this['maxRetries']);}['open'](_0x106f15,_0x4952e3,_0x1b4116){return _0x4952e3;}['patch'](_0x1042ba,_0x2c8216){}}class w2 extends Ne{constructor(_0x3f3642){super(_0x3f3642,'container'),this['glbContain'+'erParser']=new b2(_0x3f3642['graphicsDe'+'vice'],_0x3f3642['assets'],-0xf25+0x279+0xcac),this['parsers']={};}set['maxRetries'](_0x559730){this['glbContain'+'erParser']['maxRetries']=_0x559730;for(const _0x5c85aa in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x5c85aa)&&(this['parsers'][_0x5c85aa]['maxRetries']=_0x559730);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x2100d1){return _0x2100d1['indexOf']('?')>=0x20bd+-0x9f7*-0x3+-0x3ea2?_0x2100d1['split']('?')[-0x1*-0x643+-0x6*-0x3df+0x1*-0x1d7d]:_0x2100d1;}['_getParser'](_0x13b29d){const _0x4b865e=_0x13b29d?fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x13b29d))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x4b865e]||this['glbContain'+'erParser'];}['load'](_0x4eb83f,_0x47612f,_0x6ba526){typeof _0x4eb83f=='string'&&(_0x4eb83f={'load':_0x4eb83f,'original':_0x4eb83f}),this['_getParser'](_0x4eb83f['original'])['load'](_0x4eb83f,_0x47612f,_0x6ba526);}['open'](_0x3abe5a,_0x43c5a8,_0x417070){return this['_getParser'](_0x3abe5a)['open'](_0x3abe5a,_0x43c5a8,_0x417070);}}class T2 extends Ne{constructor(_0x12a3c2){super(_0x12a3c2,'css'),c(this,'decoder',null);}['load'](_0xa52d5b,_0x1aab10){typeof _0xa52d5b=='string'&&(_0xa52d5b={'load':_0xa52d5b,'original':_0xa52d5b}),$e['get'](_0xa52d5b['load'],{'retry':this['maxRetries']>0x2524+-0xd6c+-0x21*0xb8,'maxRetries':this['maxRetries']},(_0x52a22b,_0x3c5d7b)=>{_0x52a22b?_0x1aab10('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0xa52d5b['original']+'\x20['+_0x52a22b+']'):_0x1aab10(null,_0x3c5d7b);});}['openBinary'](_0x28dcd7){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x28dcd7);}}class A2 extends Ne{constructor(_0x4ae217){super(_0x4ae217,'cubemap'),this['_device']=_0x4ae217['graphicsDe'+'vice'],this['_registry']=_0x4ae217['assets'],this['_loader']=_0x4ae217['loader'];}['load'](_0x393d58,_0x27b07f,_0x27df69){this['loadAssets'](_0x27df69,_0x27b07f);}['open'](_0x598770,_0x49d853,_0x1bc155){return _0x1bc155?_0x1bc155['resource']:null;}['patch'](_0x3816dc,_0x25e70d){this['loadAssets'](_0x3816dc,(_0x468f7a,_0x3ae215)=>{_0x468f7a&&(_0x25e70d['fire']('error',_0x3816dc),_0x25e70d['fire']('error:'+_0x3816dc['id'],_0x468f7a,_0x3816dc),_0x3816dc['fire']('error',_0x3816dc));});}['getAssetId'+'s'](_0x52fb64){const _0x2a2864=[];if(_0x2a2864[0x2*0xa21+-0x9fa+0xbc*-0xe]=_0x52fb64['file'],(_0x52fb64['loadFaces']||!_0x52fb64['file'])&&_0x52fb64['data']&&_0x52fb64['data']['textures']){for(let _0x459bf9=0x972*-0x1+0x696+0xb7*0x4;_0x459bf9<-0x4c7*-0x4+0x1b8e+-0x2ea4;++_0x459bf9)_0x2a2864[_0x459bf9+(-0x542+0xa21*-0x3+0x23a6)]=_0x52fb64['data']['textures'][_0x459bf9];}else _0x2a2864[-0x143*0xd+0x2548+-0x14e0]=_0x2a2864[-0x176d+0x7da+0x1*0xf95]=_0x2a2864[-0x1ed1+0x1*0x25d8+-0x1*0x704]=_0x2a2864[-0x25*0x55+-0x1*0x238f+0x2fdc]=_0x2a2864[0x19+-0xe*-0xc1+-0x1*0xaa2]=_0x2a2864[0x29*-0xd1+0x200b+-0x4*-0x5d]=null;return _0x2a2864;}['compareAss'+'etIds'](_0x5dc1dd,_0x140135){return _0x5dc1dd&&_0x140135?parseInt(_0x5dc1dd,0x13*0x19c+0x475*-0x1+-0x1a15)===_0x5dc1dd||typeof _0x5dc1dd=='string'?_0x5dc1dd===_0x140135:_0x5dc1dd['url']===_0x140135['url']:_0x5dc1dd!==null==(_0x140135!==null);}['update'](_0x305420,_0x4ec8fb,_0x22eded){const _0x37ff34=_0x305420['data']||{},_0x162781=_0x305420['_handlerSt'+'ate']['assets'],_0x16c8c2=_0x305420['_resources'];let _0x1690d7,_0x4fa607,_0x1b09ee;const _0x1273d9=[null,null,null,null,null,null,null],_0x512e27=function(){return _0x37ff34['hasOwnProp'+'erty']('type')?_0x37ff34['type']:_0x37ff34['hasOwnProp'+'erty']('rgbm')?_0x37ff34['rgbm']?on:Di:null;};if(!_0x305420['loaded']||_0x22eded[-0x14*0xcc+0x1fc6+-0xfd6]!==_0x162781[-0xa*-0x18f+-0x3*0x67a+-0x2*-0x1ec]){if(_0x22eded[-0x623*0x1+-0x2429+0x2a4c*0x1]){if(_0x1690d7=_0x22eded[0x1905+-0x7*-0x3da+-0x7*0x76d]['resource'],_0x1690d7['cubemap']){for(_0x1b09ee=0x17*-0x10d+-0x250a+0x3d35;_0x1b09ee<0x1111+0x7b9+-0x18c4;++_0x1b09ee)_0x1273d9[_0x1b09ee+(0xbd*0x28+0x991+-0x9*0x458)]=new he(this['_device'],{'name':_0x305420['name']+('_prelitCub'+'emap')+(_0x1690d7['width']>>_0x1b09ee),'cubemap':!(-0x213d*0x1+-0xb10+-0x407*-0xb),'type':_0x512e27()||_0x1690d7['type'],'width':_0x1690d7['width']>>_0x1b09ee,'height':_0x1690d7['height']>>_0x1b09ee,'format':_0x1690d7['format'],'levels':[_0x1690d7['_levels'][_0x1b09ee]],'addressU':ae,'addressV':ae,'mipmaps':_0x1b09ee===-0xf4d+0x1b5b+-0xc0e});}else _0x1273d9[-0x443+-0x1*-0x535+-0xf1*0x1]=_0x1690d7;}}else _0x1273d9[0x3fe*0x9+-0x26cc+0x2df]=_0x16c8c2[-0x26e+0x1fcf+-0x1d60]||null,_0x1273d9[0x1c1d*0x1+0x9*-0x4f+-0x4*0x655]=_0x16c8c2[0xf*0x18+0x161d+-0x1783]||null,_0x1273d9[0x2fb*0x4+0x2ed+-0xed6]=_0x16c8c2[-0x10a9*0x1+-0x1*0x1325+0x23d1]||null,_0x1273d9[0x2e9+-0x526+0x241]=_0x16c8c2[-0x1adc*-0x1+-0x1166+-0x972]||null,_0x1273d9[-0x2120+-0x1*0x9a6+0x61d*0x7]=_0x16c8c2[0x1*-0x24af+-0x186b+0x1*0x3d1f]||null,_0x1273d9[0x1aa7+0xc07+-0x26a8]=_0x16c8c2[0x661+0x2*0x2ef+-0xc39]||null;const _0x558732=_0x22eded['slice'](0x1b*-0x93+0x1*0x1f58+-0x7eb*0x2);if(!_0x305420['loaded']||!this['cmpArrays'](_0x558732,_0x162781['slice'](0xd13*-0x1+-0x459+0x116d))){if(_0x558732['indexOf'](null)===-(0x9e3+-0x2a1*-0xd+-0x2c0f)){const _0x290c21=_0x558732['map'](_0x51207a=>_0x51207a['resource']),_0x496bd7=[];for(_0x4fa607=-0x1f4d+0x1*0x1fc6+-0x79;_0x4fa607<_0x290c21[0x9c3*-0x1+-0x157d+0x8*0x3e8]['_levels']['length'];++_0x4fa607)_0x496bd7['push'](_0x290c21['map'](_0x12a0fd=>_0x12a0fd['_levels'][_0x4fa607]));const _0x5525bf=_0x290c21[0x63b+-0x1*0xe9f+-0x432*-0x2]['format'],_0x25d473=new he(this['_device'],{'name':_0x305420['name']+'_faces','cubemap':!(-0x1*0x18dc+-0x17*-0xc1+-0x37*-0x23),'type':_0x512e27()||_0x290c21[0xb11*0x2+0x10b+-0x11*0x15d]['type'],'width':_0x290c21[-0xc1*0x1a+0x2cf*-0x1+0x1669]['width'],'height':_0x290c21[-0x3d*0x6f+0x1195+0x8de]['height'],'format':_0x5525bf===dr?Se:_0x5525bf,'mipmaps':_0x37ff34['mipmaps']??!(0x1*0x1337+-0x1ba9+0x872),'levels':_0x496bd7,'minFilter':_0x37ff34['hasOwnProp'+'erty']('minFilter')?_0x37ff34['minFilter']:_0x290c21[0x8b5+-0x1d1b+-0x2*-0xa33]['minFilter'],'magFilter':_0x37ff34['hasOwnProp'+'erty']('magFilter')?_0x37ff34['magFilter']:_0x290c21[-0x1a3*0x1+0x484*-0x3+0xf2f]['magFilter'],'anisotropy':_0x37ff34['hasOwnProp'+'erty']('anisotropy')?_0x37ff34['anisotropy']:0x1e78+0x3*0x4d0+-0x5f*0x79,'addressU':ae,'addressV':ae});_0x1273d9[0x568+-0x13*0xb1+-0x7bb*-0x1]=_0x25d473;}}else _0x1273d9[-0x2448+-0x7ee+0x2c36]=_0x16c8c2[-0x2538+0x7*-0x549+0x4a37*0x1]||null;if(!this['cmpArrays'](_0x1273d9,_0x16c8c2)){for(_0x305420['resources']=_0x1273d9,_0x305420['_handlerSt'+'ate']['assetIds']=_0x4ec8fb,_0x305420['_handlerSt'+'ate']['assets']=_0x22eded,_0x1b09ee=0x23ce+-0x2*-0x59f+-0x2f0c;_0x1b09ee<_0x16c8c2['length'];++_0x1b09ee)_0x16c8c2[_0x1b09ee]!==null&&_0x1273d9['indexOf'](_0x16c8c2[_0x1b09ee])===-(-0x2b0+-0x1bf8+0x1ea9*0x1)&&_0x16c8c2[_0x1b09ee]['destroy']();}for(_0x1b09ee=-0x101b+-0x7ff+0xa*0x269;_0x1b09ee<_0x162781['length'];++_0x1b09ee)_0x162781[_0x1b09ee]!==null&&_0x22eded['indexOf'](_0x162781[_0x1b09ee])===-(-0x1*0x11a1+-0x6d1+-0x1*-0x1873)&&_0x162781[_0x1b09ee]['unload']();}['cmpArrays'](_0x3d5f68,_0x1a3f21){if(_0x3d5f68['length']!==_0x1a3f21['length'])return!(-0x2d*-0xc9+-0x1c02+0x3a9*-0x2);for(let _0x32397f=0xb1*-0x15+0xfe*0x11+-0x1*0x259;_0x32397f<_0x3d5f68['length'];++_0x32397f)if(_0x3d5f68[_0x32397f]!==_0x1a3f21[_0x32397f])return!(-0x655+0xb76+-0xa4*0x8);return!(0xe40+0x3*-0x1be+-0x906);}['resolveId'](_0x49d401){const _0x28cfc1=parseInt(_0x49d401,0x1cb9+-0x613+-0xb4e*0x2);return _0x28cfc1===_0x49d401||_0x28cfc1['toString']()===_0x49d401?_0x28cfc1:_0x49d401;}['loadAssets'](_0x120bae,_0x6682cd){_0x120bae['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x120bae['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x3f35cd=this,_0xbf898f=_0x3f35cd['getAssetId'+'s'](_0x120bae),_0x58185a=[null,null,null,null,null,null,null],_0x58c73b=_0x120bae['_handlerSt'+'ate']['assetIds'],_0x11a622=_0x120bae['_handlerSt'+'ate']['assets'],_0x8a954f=_0x3f35cd['_registry'];let _0x35b9f6=-0x111*-0x11+-0x12a0+0x86;const _0x3b5aa7=function(_0x1f52e3,_0x9f5de7){_0x58185a[_0x1f52e3]=_0x9f5de7,_0x35b9f6--,_0x35b9f6===-0x529+0x1086+-0xb5d&&(_0x3f35cd['update'](_0x120bae,_0xbf898f,_0x58185a),_0x6682cd(null,_0x120bae['resources']));},_0x3115a6=function(_0x34588c,_0x23d276,_0x2897a6){_0x6682cd(_0x23d276);},_0x4dbefd=function(_0x5edcc5,_0xbb7758){_0xbb7758['loaded']?_0x3b5aa7(_0x5edcc5,_0xbb7758):(_0x8a954f['once']('load:'+_0xbb7758['id'],_0x3b5aa7['bind'](_0x3f35cd,_0x5edcc5)),_0x8a954f['once']('error:'+_0xbb7758['id'],_0x3115a6['bind'](_0x3f35cd,_0x5edcc5)),_0xbb7758['loading']||_0x8a954f['load'](_0xbb7758));};let _0x453a1f;for(let _0x43ae6a=0x2456*-0x1+-0xf40+0x3396;_0x43ae6a<-0x22a9+-0x10*0x4a+0x2750;++_0x43ae6a){const _0x17475b=this['resolveId'](_0xbf898f[_0x43ae6a]);if(!_0x17475b)_0x3b5aa7(_0x43ae6a,null);else{if(_0x3f35cd['compareAss'+'etIds'](_0x17475b,_0x58c73b[_0x43ae6a]))_0x4dbefd(_0x43ae6a,_0x11a622[_0x43ae6a]);else{if(parseInt(_0x17475b,0x8bc+0x3*-0xc61+-0x1*-0x1c71)===_0x17475b)_0x453a1f=_0x8a954f['get'](_0x17475b),_0x453a1f?_0x4dbefd(_0x43ae6a,_0x453a1f):setTimeout(((_0x1b4905,_0x4dff34)=>{const _0x47030f=_0x8a954f['get'](_0x4dff34);_0x47030f?_0x4dbefd(_0x1b4905,_0x47030f):_0x3115a6(_0x1b4905,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x4dff34);})['bind'](null,_0x43ae6a,_0x17475b));else{const _0x2fd591=typeof _0x17475b=='string'?{'url':_0x17475b,'filename':_0x17475b}:_0x17475b,_0x12d38e=_0x2fd591['url']['search']('.dds')===-(0x11*-0x182+-0x213f*-0x1+-0x1*0x79c)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(-0x17d6*-0x1+-0x29d+-0x1538)}:null;_0x453a1f=new le(_0x120bae['name']+'_part_'+_0x43ae6a,'texture',_0x2fd591,_0x12d38e),_0x8a954f['add'](_0x453a1f),_0x4dbefd(_0x43ae6a,_0x453a1f);}}}}}}class E2 extends Ne{constructor(_0xc266b){super(_0xc266b,'folder');}['load'](_0x44e6b3,_0x269e46){_0x269e46(null,null);}}class Ng{constructor(_0x89118b,_0x155ffc){this['type']=_0x155ffc&&_0x155ffc['type']||Kh,this['em']=-0x148+-0x1*-0x151b+-0x9e9*0x2,this['textures']=_0x89118b,this['intensity']=0x39f*0x9+-0xc68*-0x2+-0x3967,this['_data']=null,this['data']=_0x155ffc;}set['data'](_0x31545a){if(this['_data']=_0x31545a,!!_0x31545a&&(this['_data']['intensity']!==void(0x155e*0x1+0x202f+-0x358d)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<0x2101+-0xa39*0x1+-0x16c6)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x3ae3f1 in this['_data']['chars'])this['_data']['chars'][_0x3ae3f1]['map']=-0x1c4+-0x1*-0x8ef+0x1*-0x72b;}}get['data'](){return this['_data'];}}function Jd(_0x240fe4){return _0x240fe4['version']<0x21a*0x1+0x18e4+-0x1*0x1afb&&(_0x240fe4['version']<-0x6d*0x49+-0x5*0x6ad+0x101e*0x4&&(_0x240fe4['info']['maps']=_0x240fe4['info']['maps']||[{'width':_0x240fe4['info']['width'],'height':_0x240fe4['info']['height']}]),_0x240fe4['chars']=Object['keys'](_0x240fe4['chars']||{})['reduce']((_0xb40d1e,_0x90c1ea)=>{const _0x5db5ac=_0x240fe4['chars'][_0x90c1ea],_0x1334ff=_0x5db5ac['letter']!==void(0x1*0x1489+0x1*0x1a1b+0xa*-0x4aa)?_0x5db5ac['letter']:ah['fromCodePo'+'int'](_0x90c1ea);return _0x240fe4['version']<0x23c1+-0x1*0x1ea+-0x21d5&&(_0x5db5ac['map']=_0x5db5ac['map']||-0x3a*-0x61+-0x737+-0xec3),_0xb40d1e[_0x1334ff]=_0x5db5ac,_0xb40d1e;},{}),_0x240fe4['version']=0x17b3+-0x1fca+0x81a),_0x240fe4;}class C2 extends Ne{constructor(_0x172036){super(_0x172036,'font'),this['_loader']=_0x172036['loader'],this['maxRetries']=0x1f*-0x4f+-0x7ab+0x113c;}['load'](_0x38c7e8,_0x5dac80,_0x3240f8){typeof _0x38c7e8=='string'&&(_0x38c7e8={'load':_0x38c7e8,'original':_0x38c7e8});const _0x33535b=this;fe['getExtensi'+'on'](_0x38c7e8['original'])==='.json'?$e['get'](_0x38c7e8['load'],{'retry':this['maxRetries']>-0x1*-0x1a81+-0x2080+0x133*0x5,'maxRetries':this['maxRetries']},(_0x27b403,_0x57f88c)=>{if(_0x27b403)_0x5dac80('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x38c7e8['original']+'\x20['+_0x27b403+']');else{const _0x57a702=Jd(_0x57f88c);_0x33535b['_loadTextu'+'res'](_0x38c7e8['load']['replace']('.json','.png'),_0x57a702,(_0x2014d3,_0x3c6598)=>{_0x2014d3?_0x5dac80(_0x2014d3):_0x5dac80(null,{'data':_0x57a702,'textures':_0x3c6598});});}}):(_0x3240f8&&_0x3240f8['data']&&(_0x3240f8['data']=Jd(_0x3240f8['data'])),this['_loadTextu'+'res'](_0x38c7e8['load'],_0x3240f8&&_0x3240f8['data'],_0x5dac80));}['_loadTextu'+'res'](_0x46dd9c,_0x1d0bd4,_0x50addc){const _0x122bf2=_0x1d0bd4['info']['maps']['length'];let _0xedae48=-0x25*-0xbc+0x2319+-0x3e45,_0x5cd4ab=null;const _0x433ed4=new Array(_0x122bf2),_0x5c990f=this['_loader'],_0xfdbada=function(_0x20a1f6){const _0x1b588f=function(_0x270ab1,_0x5dd0ff){if(!_0x5cd4ab){if(_0x270ab1){_0x5cd4ab=_0x270ab1,_0x50addc(_0x270ab1);return;}_0x5dd0ff['upload'](),_0x433ed4[_0x20a1f6]=_0x5dd0ff,_0xedae48++,_0xedae48===_0x122bf2&&_0x50addc(null,_0x433ed4);}};_0x20a1f6===0x1f7*0x9+-0x25d7*-0x1+-0x1282*0x3?_0x5c990f['load'](_0x46dd9c,'texture',_0x1b588f):_0x5c990f['load'](_0x46dd9c['replace']('.png',_0x20a1f6+'.png'),'texture',_0x1b588f);};for(let _0x3e18dd=0x1*0x311+-0x2523+-0xb2*-0x31;_0x3e18dd<_0x122bf2;_0x3e18dd++)_0xfdbada(_0x3e18dd);}['open'](_0x55379b,_0x1df25b,_0x2960ef){let _0x4cd127;return _0x1df25b['textures']?_0x4cd127=new Ng(_0x1df25b['textures'],_0x1df25b['data']):_0x4cd127=new Ng(_0x1df25b,null),_0x4cd127;}['patch'](_0xc08edc,_0x2ff6a0){const _0x42d0f8=_0xc08edc['resource'];!_0x42d0f8['data']&&_0xc08edc['data']?_0x42d0f8['data']=_0xc08edc['data']:!_0xc08edc['data']&&_0x42d0f8['data']&&(_0xc08edc['data']=_0x42d0f8['data']),_0xc08edc['data']&&(_0xc08edc['data']=Jd(_0xc08edc['data']));}}async function M2(){const _0x429e1f=0x1693+-0xb73+-0xb20+0.28209479177387814;class _0x14c327{constructor(_0xd4ca9c,_0x1142b3,_0x45dd70){this['x']=_0xd4ca9c,this['y']=_0x1142b3,this['z']=_0x45dd70;}}class _0x239942{constructor(_0xee7efe,_0x5b6746,_0x4c617a,_0x4e3bab){this['x']=_0xee7efe,this['y']=_0x5b6746,this['z']=_0x4c617a,this['w']=_0x4e3bab;}}class _0x3b91f6{constructor(_0x3fd3de,_0x38ee1f,_0x4721a6,_0xe2e79d){this['x']=_0x3fd3de,this['y']=_0x38ee1f,this['z']=_0x4721a6,this['w']=_0xe2e79d;}['set'](_0x14d701,_0x1094e3,_0x39c989,_0x4f2976){this['x']=_0x14d701,this['y']=_0x1094e3,this['z']=_0x39c989,this['w']=_0x4f2976;}}class _0x5874c0{constructor(_0x59198c,_0x1a8fc8,_0x3ddd2e,_0x2ad514,_0x535106,_0x111dca,_0x36a1c0,_0x296c4a,_0x1a39c5,_0x407e75,_0xb856d7,_0x42b43f){const _0x376603=(_0x9dbefa,_0x56c853)=>{const _0x127d17=(-0xc*-0x99+-0x943*-0x2+0x19b1*-0x1<<_0x56c853)-(0x1a3*-0x4+0x1*-0x10b1+0x173e);return(_0x9dbefa&_0x127d17)/_0x127d17;},_0x5dab08=(_0x169990,_0x5290eb)=>{_0x169990['x']=_0x376603(_0x5290eb>>>0x192b*-0x1+-0x1080+0x2*0x14e0,-0x8*0x83+0x21*-0xd6+0x1fb9*0x1),_0x169990['y']=_0x376603(_0x5290eb>>>0x25cc+0xb21+-0x30e2,0xa*0x25f+-0x1a48+0x29c*0x1),_0x169990['z']=_0x376603(_0x5290eb,-0x1728+-0x209a+0x1*0x37cd);},_0x1482f5=(_0x2deef5,_0x1377a4)=>{_0x2deef5['x']=_0x376603(_0x1377a4>>>-0x19f+-0x10f2+0x12a9,-0xadf+-0x1*0x212a+0x2c11),_0x2deef5['y']=_0x376603(_0x1377a4>>>0x565*0x5+0x619*-0x1+-0x6f*0x30,0x23d9+0x3a0+-0x2771),_0x2deef5['z']=_0x376603(_0x1377a4>>>0x124+-0x265b+0x253f,-0x1f1+0x4*0x342+0x95*-0x13),_0x2deef5['w']=_0x376603(_0x1377a4,0x1fed*0x1+-0x256b+0x586);},_0x558430=(_0x33b2cb,_0x1edd75)=>{const _0x14bf89=(-0x197a+-0x1749+0x30c4)/(Math['sqrt'](-0xd9a*-0x2+-0x2b3*0x7+0x55*-0x19)*(0x3d9+-0x253e+0x2165*0x1+0.5)),_0x1861b0=(_0x376603(_0x1edd75>>>0x1c1*0x8+-0x2*0xdb3+-0xd72*-0x1,0x1b*-0xa7+0x164d+-0x4a6)-(-0x2177+0x26d8+-0x561+0.5))*_0x14bf89,_0x54db0b=(_0x376603(_0x1edd75>>>0x92*0x3a+-0x1*0x2023+-0xe7,-0x5f5+-0x1*0x23a1+0x29a0)-(-0x100*-0xb+-0x9d1+-0x12f+0.5))*_0x14bf89,_0x1f7bd6=(_0x376603(_0x1edd75,-0x218d*-0x1+0x1a9a+-0x3c1d)-(-0x1bfe+-0x215f+0x3d5d+0.5))*_0x14bf89,_0x1b44d9=Math['sqrt'](-0xb*0x278+-0x26f+0x1d98-(_0x1861b0*_0x1861b0+_0x54db0b*_0x54db0b+_0x1f7bd6*_0x1f7bd6));switch(_0x1edd75>>>-0x1e34+0x1*-0xed3+0x2d25){case-0x11e8*-0x2+-0x6f6+-0x4cf*0x6:_0x33b2cb['set'](_0x1861b0,_0x54db0b,_0x1f7bd6,_0x1b44d9);break;case 0x1294+-0x5*0x665+0xd66:_0x33b2cb['set'](_0x1b44d9,_0x54db0b,_0x1f7bd6,_0x1861b0);break;case 0x7*0x38d+0x2*0x93a+-0x2b4d:_0x33b2cb['set'](_0x54db0b,_0x1b44d9,_0x1f7bd6,_0x1861b0);break;case-0x9*-0x320+-0x210d*0x1+-0x9e*-0x8:_0x33b2cb['set'](_0x54db0b,_0x1f7bd6,_0x1b44d9,_0x1861b0);break;}},_0x576920=(_0x4661aa,_0x32f86e,_0x378243)=>_0x4661aa*(-0x1a37+0x1fbd+-0x585-_0x378243)+_0x32f86e*_0x378243,_0x17a2ef=[-0xab7+0x2604*-0x1+-0x185f*-0x2,-0x1*0x1fed+-0x4*0x3c2+-0x1*-0x2efd,-0x7d9+0x1dfb+0x1*-0x1613][_0x535106-(0x15bd+-0x1*0x24a3+0x6d*0x23)],_0x47bbbd=-0x2269*-0x1+0x1*-0x37d+0xe*-0x235;this['read']=_0x47a4dd=>{const _0x1a127f=Math['floor'](_0x47a4dd/(0x9*0x4f+0x16*0x8e+0x4a9*-0x3))*_0x1a8fc8;if(_0x111dca&&(_0x5dab08(_0x111dca,_0x3ddd2e[_0x47a4dd*_0x47bbbd+(-0x16c+0x1d*-0x9d+-0x95*-0x21)]),_0x111dca['x']=_0x576920(_0x59198c[_0x1a127f+(0x174*-0x16+0x1b81+0x477)],_0x59198c[_0x1a127f+(-0x3dd*0x1+-0x674*-0x5+0x5c*-0x4f)],_0x111dca['x']),_0x111dca['y']=_0x576920(_0x59198c[_0x1a127f+(0x2279+-0xca*0x14+-0x12b0)],_0x59198c[_0x1a127f+(-0x183e+-0x4*0x755+0x169*0x26)],_0x111dca['y']),_0x111dca['z']=_0x576920(_0x59198c[_0x1a127f+(0xcc9+-0x1f7*0x13+0xe*0x1c1)],_0x59198c[_0x1a127f+(0x2*0x281+0x1d*-0x5d+-0x14*-0x47)],_0x111dca['z'])),_0x36a1c0&&_0x558430(_0x36a1c0,_0x3ddd2e[_0x47a4dd*_0x47bbbd+(-0xd55*0x2+-0x1a2d+-0x4*-0xd36)]),_0x296c4a&&(_0x5dab08(_0x296c4a,_0x3ddd2e[_0x47a4dd*_0x47bbbd+(-0x1035+-0x8*-0x3cd+-0xe31)]),_0x296c4a['x']=_0x576920(_0x59198c[_0x1a127f+(-0x2318*-0x1+0xf9*-0xd+0x1*-0x166d)],_0x59198c[_0x1a127f+(-0x1*-0x1b8e+-0x3*-0xc3b+-0x4036)],_0x296c4a['x']),_0x296c4a['y']=_0x576920(_0x59198c[_0x1a127f+(-0xf8*-0x16+-0x4*0x140+-0x1049)],_0x59198c[_0x1a127f+(-0x4d5+-0xfd8+0x14b7)],_0x296c4a['y']),_0x296c4a['z']=_0x576920(_0x59198c[_0x1a127f+(-0x635+0x3*0x655+0x2e*-0x47)],_0x59198c[_0x1a127f+(-0x1e16+-0x1*-0xc5+0x1d5c)],_0x296c4a['z'])),_0x1a39c5&&(_0x1482f5(_0x1a39c5,_0x3ddd2e[_0x47a4dd*_0x47bbbd+(0x21*0xd3+-0x1966+-0x1ca)]),_0x1a8fc8>-0x16ad+-0x2f0+0x19a9&&(_0x1a39c5['x']=_0x576920(_0x59198c[_0x1a127f+(0xb3b+-0x3ac*-0x1+-0xedb)],_0x59198c[_0x1a127f+(-0x2*0xaf5+0x13c3*0x1+-0x11b*-0x2)],_0x1a39c5['x']),_0x1a39c5['y']=_0x576920(_0x59198c[_0x1a127f+(-0x205*-0x9+-0x59a+-0xc86)],_0x59198c[_0x1a127f+(-0xf47+0x320*0xc+-0x1629)],_0x1a39c5['y']),_0x1a39c5['z']=_0x576920(_0x59198c[_0x1a127f+(0x1*-0x211f+-0x42f*-0x5+0x621*0x2)],_0x59198c[_0x1a127f+(0x1*-0xd69+-0x1*-0x100d+-0x293)],_0x1a39c5['z']))),_0x407e75&&(_0x5dab08(_0x407e75,_0x3ddd2e[_0x47a4dd*_0x47bbbd+(0x1e*-0x2b+-0x210c+-0x130d*-0x2)]),_0x407e75['x']=_0x576920(_0x59198c[_0x1a127f+(0x15c4+0x11ab+0x3*-0xd1f)],_0x59198c[_0x1a127f+(0x1f74+-0x13*0xbf+-0x1132)],_0x407e75['x']),_0x407e75['y']=_0x576920(_0x59198c[_0x1a127f+(-0x215d+0xf41+0x122f)],_0x59198c[_0x1a127f+(-0x15a0+-0x1da8+0x335e)],_0x407e75['y']),_0x407e75['z']=_0x576920(_0x59198c[_0x1a127f+(-0xb9b+-0x3*0x843+0x3*0xc28)],_0x59198c[_0x1a127f+(-0x22a7+0x2501*-0x1+-0x47bf*-0x1)],_0x407e75['z'])),_0xb856d7&&(_0x5dab08(_0xb856d7,_0x3ddd2e[_0x47a4dd*_0x47bbbd+(-0x21ea+-0x1ea+-0x1*-0x23d9)]),_0xb856d7['x']=_0x576920(_0x59198c[_0x1a127f+(0x1*-0x169b+-0xa*0x2cd+0x32b5)],_0x59198c[_0x1a127f+(-0x36*-0x3e+-0x53*-0x17+-0x1470)],_0xb856d7['x']),_0xb856d7['y']=_0x576920(_0x59198c[_0x1a127f+(0x124e*-0x2+-0xd18*0x1+0x31ce)],_0x59198c[_0x1a127f+(0x1d02*0x1+0x278+-0x1f5f)],_0xb856d7['y'])),_0x42b43f&&_0x535106>-0x1d2b*-0x1+0x1a73+-0x379e){for(let _0x170f2f=0x3ce*-0x5+-0x2b3*-0x9+0x545*-0x1;_0x170f2f<-0x3*-0x5af+-0xc*-0x2b6+0x5a*-0x8d;++_0x170f2f)for(let _0x46159a=-0x2cb+-0x87f+-0x5*-0x242;_0x46159a<-0x5*-0x762+-0x32b*0x5+-0x1504;++_0x46159a)_0x42b43f[_0x170f2f*(0x908+0x7*-0x566+0x1cd1)+_0x46159a]=_0x46159a<_0x17a2ef?_0x2ad514[(_0x47a4dd*(0x11c2+0x1bb2*-0x1+0x9f3)+_0x170f2f)*_0x17a2ef+_0x46159a]*((-0x33f*0x3+0x1*0xaa0+-0x3*0x49)/(-0x2b*-0xcb+0x1*-0xbf3+0x11d*-0x13))-(-0xf5b+-0x103d+0x1f9c):-0x2010+-0xb*0x35+0x2257;}};}}self['onmessage']=async _0x3d5d92=>{const {data:_0x470e17}=_0x3d5d92;switch(_0x470e17['type']){case'initWorker':break;case'decompress':_0x4576f3(_0x470e17['numSplats'],_0x470e17['chunkData'],_0x470e17['chunkSize'],_0x470e17['vertexData'],_0x470e17['shData'],_0x470e17['shBands']);break;}};const _0x4576f3=(_0x2b6c31,_0xb17ab6,_0x5f08ac,_0xe41350,_0xeb7089,_0x2936ad)=>{const _0x1b736f=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x2936ad>0x10fc+-0x1664+-0x15a*-0x4){const _0xe38d0f=[];for(let _0x28488b=0x10f1+0x1*0xb97+0xb*-0x298;_0x28488b<0xb*-0x31+0x70+0x1d8;++_0x28488b)_0xe38d0f['push']('f_rest_'+_0x28488b);_0x1b736f['splice'](_0x1b736f['indexOf']('f_dc_0')+(0x21f7*0x1+-0x22*0x5f+-0x1558),-0xba4+-0x1c91+0x2835,..._0xe38d0f);}const _0x10f6c2={};_0x1b736f['forEach'](_0x4fb515=>{_0x10f6c2[_0x4fb515]=new Float32Array(_0x2b6c31);}),console['log']('decompress');const _0x31b3c6=new _0x14c327(),_0x109876=new _0x3b91f6(),_0x398222=new _0x14c327(),_0x379e5b=new _0x239942(),_0xe857fa=new _0x14c327(),_0x446edf=new _0x14c327(),_0x2ea586=_0x2936ad>-0x10e4+-0x34*-0x6b+0x136*-0x4?new Float32Array(0xdc6+0x899+-0x1632):null,_0x3cd519=new _0x5874c0(_0xb17ab6,_0x5f08ac,_0xe41350,_0xeb7089,_0x2936ad,_0x31b3c6,_0x109876,_0x398222,_0x379e5b,_0xe857fa,_0x446edf,_0x2ea586);for(let _0x1701f4=0x2346+0x1268+0x35ae*-0x1;_0x1701f4<_0x2b6c31;++_0x1701f4)if(_0x3cd519['read'](_0x1701f4),_0x10f6c2['x'][_0x1701f4]=_0x31b3c6['x'],_0x10f6c2['y'][_0x1701f4]=_0x31b3c6['y'],_0x10f6c2['z'][_0x1701f4]=_0x31b3c6['z'],_0x10f6c2['rot_1'][_0x1701f4]=_0x109876['x'],_0x10f6c2['rot_2'][_0x1701f4]=_0x109876['y'],_0x10f6c2['rot_3'][_0x1701f4]=_0x109876['z'],_0x10f6c2['rot_0'][_0x1701f4]=_0x109876['w'],_0x10f6c2['scale_0'][_0x1701f4]=_0x398222['x'],_0x10f6c2['scale_1'][_0x1701f4]=_0x398222['y'],_0x10f6c2['scale_2'][_0x1701f4]=_0x398222['z'],_0x10f6c2['motion_0'][_0x1701f4]=_0xe857fa['x'],_0x10f6c2['motion_1'][_0x1701f4]=_0xe857fa['y'],_0x10f6c2['motion_2'][_0x1701f4]=_0xe857fa['z'],_0x10f6c2['t_scale'][_0x1701f4]=_0x446edf['x'],_0x10f6c2['t'][_0x1701f4]=_0x446edf['y'],_0x10f6c2['f_dc_0'][_0x1701f4]=(_0x379e5b['x']-(-0x55*-0x4e+-0x3c*-0x43+-0x852*0x5+0.5))/_0x429e1f,_0x10f6c2['f_dc_1'][_0x1701f4]=(_0x379e5b['y']-(-0x116d+-0x8b*0x13+0x6a*0x43+0.5))/_0x429e1f,_0x10f6c2['f_dc_2'][_0x1701f4]=(_0x379e5b['z']-(0x1f9*0x9+0x1*0x1cbe+-0x2e7f+0.5))/_0x429e1f,_0x10f6c2['opacity'][_0x1701f4]=_0x379e5b['w']<=-0x3c+-0x102c+-0x6*-0x2bc?-(0x967*-0x3+-0x21ff+0x1a*0x266):_0x379e5b['w']>=0x2*0x7e1+-0x2039*-0x1+-0x2ffa?0x1946+0xef9+-0x2817:-Math['log']((0xd73*0x2+0x1*-0x2397+0x8b2)/_0x379e5b['w']-(-0x1*0x8+-0xa05+-0xd*-0xc6)),_0x2ea586){for(let _0x5c5d09=0x54d*0x7+-0x1d*0xb3+-0x10d4;_0x5c5d09<-0x173d+-0x246a*0x1+-0x1c*-0x223;++_0x5c5d09)_0x10f6c2['f_rest_'+_0x5c5d09][_0x1701f4]=_0x2ea586[_0x5c5d09];}self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x10f6c2});};}class P2 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+M2['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x4bebca=>{if(!this['worker'])return;const {data:_0x2edbf4}=_0x4bebca;switch(_0x2edbf4['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x2edbf4['data']);break;}};}['decompress'](_0x4c3d01,_0x39cd9e,_0x248e0c,_0x496979,_0x4697e8,_0x59c3b0,_0x512881){this['chunkData']=new Float32Array(_0x39cd9e)['slice'](),this['vertexData']=new Uint32Array(_0x496979)['slice'](),this['shData']=new Uint8Array(_0x4697e8)['slice'](),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x4c3d01,'chunkData':this['chunkData'],'chunkSize':_0x248e0c,'vertexData':this['vertexData'],'shData':this['shData'],'shBands':_0x59c3b0});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class R2{constructor(_0x458a3f,_0x3ed259,_0x53071f,_0x537c27,_0x12b769,_0x3b7728,_0x2c778c,_0x5cfba6){const _0x17bc2a=(_0x1a1e14,_0x749b6)=>{const _0x267d70=(0x12dd+0x66*0x28+0x2*-0x1166<<_0x749b6)-(-0x164*-0x7+-0x55*-0x71+-0xe*0x360);return(_0x1a1e14&_0x267d70)/_0x267d70;},_0x36941b=(_0x4145b7,_0x510492)=>{_0x4145b7['x']=_0x17bc2a(_0x510492>>>-0x2*-0xa49+-0x222e+0xdb1,-0xc4c+0x96+0x33*0x3b),_0x4145b7['y']=_0x17bc2a(_0x510492>>>-0x23*-0xc3+-0x79+0x17*-0x123,0x1*0xf3b+0x25d7*-0x1+0x16a6),_0x4145b7['z']=_0x17bc2a(_0x510492,0x1bdf+-0x56*-0x14+0x43*-0x84);},_0x46fe57=(_0x1a693c,_0x342337)=>{_0x1a693c['x']=_0x17bc2a(_0x342337>>>-0x1da2*0x1+-0x49+-0xc5*-0x27,-0x228d+-0x7dc*0x1+-0x87d*-0x5),_0x1a693c['y']=_0x17bc2a(_0x342337>>>-0x3d*-0x49+-0x2148*0x1+-0x551*-0x3,-0x17d0+-0x468+-0x20*-0xe2),_0x1a693c['z']=_0x17bc2a(_0x342337>>>-0x115*-0x1d+0xbd4*-0x1+0x1*-0x1385,0x167b+-0x769*0x3+-0x8*0x7),_0x1a693c['w']=_0x17bc2a(_0x342337,-0x6c7*0x2+0x1d33+-0xf9d);},_0x36ad9d=(_0x2887af,_0x10b810)=>{const _0x14d6e6=(-0x2045*-0x1+-0x9fc*-0x2+0xd0f*-0x4)/(Math['sqrt'](-0x1*0x1e3b+0x26a9+-0x86c)*(-0x2068+0x983*-0x4+0x12*0x3ea+0.5)),_0x2c1e78=(_0x17bc2a(_0x10b810>>>-0x1186+-0x74*-0x39+-0x83a,0x3fb*0x1+-0x176d+0x137c)-(0x361+0x4*-0x765+-0x161*-0x13+0.5))*_0x14d6e6,_0x274483=(_0x17bc2a(_0x10b810>>>0x1a5+0xb*-0x347+0x1*0x2272,0x1ce8+-0xaa*0x2c+0x5a)-(-0x122*-0x5+0x1*0x269+-0x813+0.5))*_0x14d6e6,_0x925ed9=(_0x17bc2a(_0x10b810,-0x1*-0x52f+0x4*0x74+-0x1*0x6f5)-(0x5*-0x43a+-0x1*-0xd5+0x144d+0.5))*_0x14d6e6,_0x8ce47c=Math['sqrt'](-0xb*0x13+-0x268+-0x2*-0x19d-(_0x2c1e78*_0x2c1e78+_0x274483*_0x274483+_0x925ed9*_0x925ed9));switch(_0x10b810>>>0xc5b+-0x1e7*0x3+0x98*-0xb){case 0x204a+-0x219*-0x9+-0x332b:_0x2887af['set'](_0x2c1e78,_0x274483,_0x925ed9,_0x8ce47c);break;case 0x11f9+-0x1*0x26ad+-0x117*-0x13:_0x2887af['set'](_0x8ce47c,_0x274483,_0x925ed9,_0x2c1e78);break;case 0x224d*-0x1+0x2133+0x11c:_0x2887af['set'](_0x274483,_0x8ce47c,_0x925ed9,_0x2c1e78);break;case 0x7*0xda+-0x37f*0xb+0x2082:_0x2887af['set'](_0x274483,_0x925ed9,_0x8ce47c,_0x2c1e78);break;}},_0x24b4e0=(_0x4347da,_0x1d7c87,_0x1ecfb7)=>_0x4347da*(-0xd5*-0x25+0x159d+-0x3465-_0x1ecfb7)+_0x1d7c87*_0x1ecfb7,{chunkData:_0x51ba4a,chunkSize:_0x5c3084,vertexData:_0x28c4d3,shData:_0x5d7e51,shBands:_0x2ceeaa}=_0x458a3f,_0x2bee16=[-0x1*0x225b+-0x2664+0x116*0x43,0x1*-0x1f09+-0x21d0+0x40e1,0xd89+0xe19+-0x1b93][_0x2ceeaa-(-0x2*0x3d+0xe34+-0x1*0xdb9)],_0x390e97=-0x1*0xb57+0x108e*0x1+0x1*-0x531;this['read']=_0x40c94a=>{const _0x23c512=Math['floor'](_0x40c94a/(0xb49+-0x1fb5+-0x156c*-0x1))*_0x5c3084;if(_0x3ed259&&(_0x36941b(_0x3ed259,_0x28c4d3[_0x40c94a*_0x390e97+(-0x1fd3+0xb7d+0x1456)]),_0x3ed259['x']=_0x24b4e0(_0x51ba4a[_0x23c512+(-0x90e*0x1+0x5*0x338+-0x70a)],_0x51ba4a[_0x23c512+(-0x2*0x502+0xc3d+0x236*-0x1)],_0x3ed259['x']),_0x3ed259['y']=_0x24b4e0(_0x51ba4a[_0x23c512+(0x11dc*-0x2+-0x29f*0xb+0x2*0x2047)],_0x51ba4a[_0x23c512+(-0x1*0x655+-0x1ade+0x1*0x2137)],_0x3ed259['y']),_0x3ed259['z']=_0x24b4e0(_0x51ba4a[_0x23c512+(0x1*0x11b5+-0xa*-0x29f+-0x2be9)],_0x51ba4a[_0x23c512+(-0x1*0xc3b+-0xbae+0x17ee)],_0x3ed259['z'])),_0x53071f&&_0x36ad9d(_0x53071f,_0x28c4d3[_0x40c94a*_0x390e97+(-0x12*-0x11b+0x191*-0x2+-0x10c3*0x1)]),_0x537c27&&(_0x36941b(_0x537c27,_0x28c4d3[_0x40c94a*_0x390e97+(0x9c*-0x2a+0x1c2e+-0x6*0x6e)]),_0x537c27['x']=_0x24b4e0(_0x51ba4a[_0x23c512+(-0x1*-0x24a4+-0x8a0+-0x1bfe)],_0x51ba4a[_0x23c512+(0x23ff+-0x16*0xe8+-0x1006)],_0x537c27['x']),_0x537c27['y']=_0x24b4e0(_0x51ba4a[_0x23c512+(-0x1f9*-0x5+-0x22e2+0x7*0x394)],_0x51ba4a[_0x23c512+(-0x1*0x59d+-0x15*-0x1bd+-0x1eda)],_0x537c27['y']),_0x537c27['z']=_0x24b4e0(_0x51ba4a[_0x23c512+(-0x6f*-0x8+-0x2*-0x124d+-0x1405*0x2)],_0x51ba4a[_0x23c512+(-0x2007+0x1350+0xcc2)],_0x537c27['z'])),_0x12b769&&(_0x46fe57(_0x12b769,_0x28c4d3[_0x40c94a*_0x390e97+(0x7*0x15a+0x1af*0x2+-0xcd1)]),_0x5c3084>-0x1dc4+-0xd7b+0x2b4b&&(_0x12b769['x']=_0x24b4e0(_0x51ba4a[_0x23c512+(-0x1499+0x4cf*0x5+-0x366)],_0x51ba4a[_0x23c512+(0xd38+-0x19d*0x17+0x17f2)],_0x12b769['x']),_0x12b769['y']=_0x24b4e0(_0x51ba4a[_0x23c512+(-0xe*0x138+0x2184+-0x1067)],_0x51ba4a[_0x23c512+(0x1b89+0x4*0x8f9+-0x3f5d)],_0x12b769['y']),_0x12b769['z']=_0x24b4e0(_0x51ba4a[_0x23c512+(-0x171f+0x10ce+-0x1*-0x65f)],_0x51ba4a[_0x23c512+(-0x15d8+0x1b0c+-0x523)],_0x12b769['z']))),_0x3b7728&&(_0x36941b(_0x3b7728,_0x28c4d3[_0x40c94a*_0x390e97+(0x1cda+0x16c7+-0x339d)]),_0x3b7728['x']=_0x24b4e0(_0x51ba4a[_0x23c512+(0x24d1+0x4af+-0x296e*0x1)],_0x51ba4a[_0x23c512+(-0x3*-0x2ea+-0xd5a+0x4b1)],_0x3b7728['x']),_0x3b7728['y']=_0x24b4e0(_0x51ba4a[_0x23c512+(0x11fb*-0x2+-0x1256*-0x2+-0x1*0xa3)],_0x51ba4a[_0x23c512+(-0x2306*-0x1+0x3c1*-0x2+-0x1b6e)],_0x3b7728['y']),_0x3b7728['z']=_0x24b4e0(_0x51ba4a[_0x23c512+(0x1*-0x20b3+-0x4*0x75c+0x3e37)],_0x51ba4a[_0x23c512+(0x10ce+0x1ec+-0x12a3)],_0x3b7728['z'])),_0x2c778c&&(_0x36941b(_0x2c778c,_0x28c4d3[_0x40c94a*_0x390e97+(0x245c+0x53*-0x11+0x1*-0x1ed4)]),_0x2c778c['x']=_0x24b4e0(_0x51ba4a[_0x23c512+(0x1ea0+0xb50+-0x29d8)],_0x51ba4a[_0x23c512+(-0x10a6+0x1*-0x18bb+-0x1*-0x297a)],_0x2c778c['x']),_0x2c778c['y']=_0x24b4e0(_0x51ba4a[_0x23c512+(0x1*-0x10de+0x4d8+0xc20)],_0x51ba4a[_0x23c512+(0x99d*-0x1+-0x1541*0x1+0x3*0xa53)],_0x2c778c['y'])),_0x5cfba6&&_0x2ceeaa>-0x344+0x27*0x9d+-0x14a7){for(let _0x36583d=0x18*-0x8d+0x3*-0x86d+0x267f;_0x36583d<-0x23b*-0xc+-0x5e*0x55+0x475;++_0x36583d)for(let _0x4712ae=-0xe84+-0x1a0e+0x2892;_0x4712ae<0x238a+-0xa8*0x1e+-0xfcb;++_0x4712ae)_0x5cfba6[_0x36583d*(-0x1f8d+0x26ba+-0x38f*0x2)+_0x4712ae]=_0x4712ae<_0x2bee16?_0x5d7e51[(_0x40c94a*(-0x1*0x215a+0x38d*0x7+0x882)+_0x36583d)*_0x2bee16+_0x4712ae]*((-0x73d*-0x1+-0x25d4+0x1e9f)/(0x2d3*-0x2+0xe3*-0x4+0xa31))-(0x2398+0x8*0x303+0xc9*-0x4c):-0x2*-0x671+-0x1*0x20b3+-0x10b*-0x13;}};}}class I2{constructor(){c(this,'numSplats'),c(this,'chunkData'),c(this,'vertexData'),c(this,'is4D'),c(this,'shData');}['createIter'](_0x4153bb,_0x2dda18,_0x161a82,_0x3759b8,_0x1ce568,_0x2ec2b1,_0x16568c){return new R2(this,_0x4153bb,_0x2dda18,_0x161a82,_0x3759b8,_0x1ce568,_0x2ec2b1,_0x16568c);}['calcAabb'](_0x52196b){const {chunkData:_0x721b21,numChunks:_0x5046fb,chunkSize:_0x530a00}=this;let _0x45d12c=Math['exp'](Math['max'](_0x721b21[0x5f*0x68+-0x19be+-0xcd1],_0x721b21[0xc37+-0x14fe+-0x8d1*-0x1],_0x721b21[0x1ef5+0x1dd9+-0x3cc3])),_0x24736f=_0x721b21[-0x254+0xf1e+-0xcca]-_0x45d12c,_0x13f3ea=_0x721b21[0x5f*0x2d+-0x9*0xa9+-0xac1*0x1]-_0x45d12c,_0x4a7e36=_0x721b21[-0x39f+0x16fa+-0x1*0x1359]-_0x45d12c,_0x4da9e9=_0x721b21[-0x93f*0x2+-0x1984+0x2c05]+_0x45d12c,_0x2d8822=_0x721b21[0x2704+0x20*0xb+-0x2860]+_0x45d12c,_0xd6270d=_0x721b21[-0x26ff*-0x1+0x12*0x79+-0xc*0x3f5]+_0x45d12c;for(let _0x4e6092=-0xcb*0xa+0x4cb*-0x4+0x1b1b;_0x4e6092<_0x5046fb;++_0x4e6092){const _0x4811d3=_0x4e6092*_0x530a00;_0x45d12c=Math['exp'](Math['max'](_0x721b21[_0x4811d3+(-0x1*0x48d+0x848+-0xb*0x56)],_0x721b21[_0x4811d3+(-0x1*-0x1aeb+-0x2ba+-0x1827)],_0x721b21[_0x4811d3+(-0x1a90+-0x2*-0x5da+0xee7*0x1)])),_0x24736f=Math['min'](_0x24736f,_0x721b21[_0x4811d3+(-0x1*0x260b+-0x1bf4+0x41ff)]-_0x45d12c),_0x13f3ea=Math['min'](_0x13f3ea,_0x721b21[_0x4811d3+(0x2334+0x15b*-0x13+0x4b9*-0x2)]-_0x45d12c),_0x4a7e36=Math['min'](_0x4a7e36,_0x721b21[_0x4811d3+(0x1c5*-0x8+0x1a5*0x12+-0x26*0x68)]-_0x45d12c),_0x4da9e9=Math['max'](_0x4da9e9,_0x721b21[_0x4811d3+(-0x1*-0x1799+-0x19d9+0x243)]+_0x45d12c),_0x2d8822=Math['max'](_0x2d8822,_0x721b21[_0x4811d3+(0x1d4f+0x4*0x5e+-0x5*0x627)]+_0x45d12c),_0xd6270d=Math['max'](_0xd6270d,_0x721b21[_0x4811d3+(0x1527+0x1a3*-0x9+-0x1*0x667)]+_0x45d12c);}return _0x52196b['center']['set']((_0x24736f+_0x4da9e9)*(0xc*0x74+0x19fb+0x1f6b*-0x1+0.5),(_0x13f3ea+_0x2d8822)*(0x2285+0x102*-0x9+-0x1973*0x1+0.5),(_0x4a7e36+_0xd6270d)*(0x216a+0x5b2+-0x1*0x271c+0.5)),_0x52196b['halfExtent'+'s']['set']((_0x4da9e9-_0x24736f)*(-0x1*0x22c+-0x575*0x1+-0x28b*-0x3+0.5),(_0x2d8822-_0x13f3ea)*(0x261c+-0xb7f+-0x9*0x2f5+0.5),(_0xd6270d-_0x4a7e36)*(-0xe28+0x22d*-0x5+0x1*0x1909+0.5)),!(-0x83b+-0x5e*0x45+0x2191);}['getCenters'](_0xeca465){const {vertexData:_0x3299db,chunkData:_0x42cfd0,numChunks:_0x147718,chunkSize:_0x4ff6c9}=this;let _0x307e16,_0x1d8e35,_0x3b982a,_0x799fe9,_0x52ac8b,_0xe10bce;for(let _0x74cb8a=-0x53*-0x40+-0xc66+-0x85a;_0x74cb8a<_0x147718;++_0x74cb8a){const _0x47f310=_0x74cb8a*_0x4ff6c9;_0x307e16=_0x42cfd0[_0x47f310+(0x2cb+0x1d13+-0x1fde)],_0x1d8e35=_0x42cfd0[_0x47f310+(-0xc71+0x884+0x3ee)],_0x3b982a=_0x42cfd0[_0x47f310+(0x258f+-0x55c+-0x43*0x7b)],_0x799fe9=_0x42cfd0[_0x47f310+(0x1f2+-0x249e+0x2ab*0xd)],_0x52ac8b=_0x42cfd0[_0x47f310+(-0x1dca+0x4*0xdb+0x1a62)],_0xe10bce=_0x42cfd0[_0x47f310+(-0x1064*0x2+0x546+0x1b87)];const _0x5bba7f=Math['min'](this['numSplats'],(_0x74cb8a+(-0x149f+-0x2449*-0x1+-0xfa9))*(0x2d4*-0x7+-0xb76+-0x2042*-0x1));for(let _0x251186=_0x74cb8a*(0x73*0x1d+0x640+-0x1247);_0x251186<_0x5bba7f;++_0x251186){const _0x56e325=_0x3299db[_0x251186*(-0x7*-0x24b+-0xb94+-0xa3*0x7)],_0x2a4cfc=(_0x56e325>>>0x3*0x65d+0xfea+-0x22ec)/(0x1*0x2655+-0x3b*0x1a+-0x1858),_0x4e00d2=(_0x56e325>>>0x32*0x4b+0x13cf+-0x226a&-0x1828+0x1538+0x6ef)/(0x14e+0xbeb+0x93a*-0x1),_0x331b9b=(_0x56e325&0x13*0x16a+0x7*0x343+0x44*-0x9d)/(-0x3*0x38b+0x225c+-0xfbc);_0xeca465[_0x251186*(0xb9b+-0x13eb+-0x853*-0x1)+(-0x1981*0x1+0x29*0xef+-0x221*0x6)]=(0x298+-0x3*-0x599+-0x6*0x33b-_0x2a4cfc)*_0x307e16+_0x2a4cfc*_0x799fe9,_0xeca465[_0x251186*(-0x1967+-0x1*-0x15bf+0x3*0x139)+(-0x1*-0x1271+0x1076+-0x22e6)]=(0x305*-0x9+0xd9c+0xd92-_0x4e00d2)*_0x1d8e35+_0x4e00d2*_0x52ac8b,_0xeca465[_0x251186*(0xe3b*0x2+-0x1879+-0x1*0x3fa)+(-0x4f8+-0x81*-0x3a+-0x40*0x61)]=(-0x1*-0x1395+-0x1*0x637+-0xd5d-_0x331b9b)*_0x3b982a+_0x331b9b*_0xe10bce;}}}['calcFocalP'+'oint'](_0x34f3cd){const {chunkData:_0x1f65e3,numChunks:_0x5a6d75,chunkSize:_0x4cb874}=this;_0x34f3cd['x']=0x1*-0xd72+0x84b+0x527,_0x34f3cd['y']=-0x1*0x11b7+-0x50d*0x3+0x20de,_0x34f3cd['z']=0x2*-0x10c+0x1d03*-0x1+0x1f1b;for(let _0xca381a=0x1fc2+0x14d7+-0x3499;_0xca381a<_0x5a6d75;++_0xca381a){const _0x5c9fcb=_0xca381a*_0x4cb874;_0x34f3cd['x']+=_0x1f65e3[_0x5c9fcb+(0x137*-0x15+-0x10b0+0x1*0x2a33)]+_0x1f65e3[_0x5c9fcb+(0xbf*0x10+0x1f0a*0x1+-0x2af7)],_0x34f3cd['y']+=_0x1f65e3[_0x5c9fcb+(0x143*-0x7+-0x1716+0x1fec)]+_0x1f65e3[_0x5c9fcb+(-0x10*-0x190+0xd*0x12+0x33*-0x82)],_0x34f3cd['z']+=_0x1f65e3[_0x5c9fcb+(-0x35*0x13+-0x14d1+-0x1*-0x18c2)]+_0x1f65e3[_0x5c9fcb+(0x197a+-0xe6c+-0xb09)];}_0x34f3cd['mulScalar']((-0x2689+0x7c4+0x1ec5+0.5)/_0x5a6d75);}get['isCompress'+'ed'](){return!(0x1613*0x1+-0x6*-0x5a9+-0x3809);}get['numChunks'](){return Math['ceil'](this['numSplats']/(0x5*0x2d7+0x19c2*0x1+0x26f5*-0x1));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}get['shBands'](){var _0x5c2bf9;return{0x3:0x1,0x8:0x2,0xf:0x3}[((_0x5c2bf9=this['shData'])==null?void(0x19*-0x67+0x1*-0x2b3+-0x1*-0xcc2):_0x5c2bf9['length'])/this['numSplats']/(-0x13e9+0xe30*0x2+-0x874)]??0x466+0x1436+-0x15e*0x12;}async['decompress'](){const _0x26838f=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x58f20d}=this;if(_0x58f20d>0x1d97+0x1362+-0x30f9){const _0x3e9a73=[];for(let _0x14a3da=-0x198d*0x1+0x35*-0xa+0x1*0x1b9f;_0x14a3da<-0x12e*-0x5+-0x68*0x14+0x267;++_0x14a3da)_0x3e9a73['push']('f_rest_'+_0x14a3da);_0x26838f['splice'](_0x26838f['indexOf']('f_dc_0')+(0x8ab+-0xb0c+0x262),-0xcf5+0x1665+-0x970,..._0x3e9a73);}const _0x541061={};_0x26838f['forEach'](_0x15a3ac=>{_0x541061[_0x15a3ac]=new Float32Array(this['numSplats']);});const _0x2894b5=new P2();return _0x2894b5['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData'],this['shBands'],_0x541061),new Promise((_0x2e1c6a,_0x449874)=>{_0x2894b5['on']('decompress'+'ed',_0x1c2e67=>{_0x2894b5['destroy'](),_0x2e1c6a(new Ia([{'name':'vertex','count':this['numSplats'],'properties':_0x26838f['map'](_0xd721d0=>({'name':_0xd721d0,'type':'float','byteSize':0x4,'storage':_0x1c2e67[_0xd721d0]}))}]));});});}}const D2=(_0x4a6741,_0x527b91,_0x66c6b0,_0x2b0e7c,_0x5b543a)=>{for(let _0x3fd80b=0x16e8*-0x1+-0x1f82+0x366a;_0x3fd80b<_0x5b543a;++_0x3fd80b)for(let _0x44cea2=0x115c+0x2*0x73d+0x1*-0x1fd6;_0x44cea2<_0x2b0e7c;++_0x44cea2)_0x4a6741[_0x3fd80b*_0x527b91+_0x44cea2]=_0x66c6b0[_0x3fd80b*_0x2b0e7c+_0x44cea2];},zg=(_0x4c4443,_0x16a2aa,_0x350b52,_0x1d3578,_0x2d4e93,_0x260e16)=>{for(let _0x17d867=-0x146f*-0x1+0x64*-0x50+-0x3*-0x39b;_0x17d867<_0x2d4e93;++_0x17d867)for(let _0x2d7272=-0x1834+-0xc5f+0x2493;_0x2d7272<_0x1d3578;++_0x2d7272)_0x4c4443[_0x17d867*_0x16a2aa+_0x2d7272]=_0x350b52[_0x17d867*_0x1d3578+_0x2d7272+_0x260e16];};class L2{constructor(_0x531c11,_0x38f701){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'aabb'),c(this,'is4D'),c(this,'centers'),c(this,'packedText'+'ure'),c(this,'packedTime'+'Texture'),c(this,'chunkTextu'+'re'),c(this,'shTexture0'),c(this,'shTexture1'),c(this,'shTexture2');const {chunkData:_0xe657cd,chunkSize:_0xf7b635,numChunks:_0x27f12d,numSplats:_0x22e908,vertexData:_0x351b2e,shBands:_0x1d116e,is4D:_0x22bc70}=_0x38f701;this['device']=_0x531c11,this['numSplats']=_0x22e908,this['numVisible'+'Splats']=_0x22e908,this['is4D']=_0x22bc70,this['aabb']=new _e(),_0x38f701['calcAabb'](this['aabb']),this['centers']=new Float32Array(_0x22e908*(-0x1d*0x95+-0x1b98+0x2c7c)),_0x38f701['getCenters'](this['centers']),this['packedText'+'ure']=this['createText'+'ure']('packedText'+'ure',ut,this['evalTextur'+'eSize'](_0x22e908));const _0x5be4f9=this['packedText'+'ure']['lock']();zg(_0x5be4f9,-0xee8+-0x24f9+0x33e5,_0x351b2e,0x607+-0x13e4+0xde3*0x1,_0x22e908,0x237*-0x4+0x40c+-0x2c*-0x1c),this['packedTime'+'Texture']=this['createText'+'ure']('packedTime'+'Texture',ut,this['evalTextur'+'eSize'](_0x22e908));const _0x408584=this['packedTime'+'Texture']['lock']();zg(_0x408584,-0x2*0x4b1+-0x1791*-0x1+-0xe2d,_0x351b2e,0x1*0x14cb+0xa82*-0x2+-0x3*-0x15,_0x22e908,-0xb0b+0x2*0xbbf+-0x1*0xc6f);const _0x44eda0=this['evalTextur'+'eSize'](_0x27f12d);_0x44eda0['x']*=-0x87f+-0x20e+-0x2*-0x54a,this['chunkTextu'+'re']=this['createText'+'ure']('chunkData',Ke,_0x44eda0);const _0xfc64df=this['chunkTextu'+'re']['lock']();if(D2(_0xfc64df,(0x13b3*0x1+0x1c9c*-0x1+0x8ed)*(-0x4+0x1*0x1dbd+0x16a*-0x15),_0xe657cd,_0xf7b635,_0x27f12d),_0xf7b635===0x52*0x41+0x179e+-0x2c64){for(let _0x4a9764=-0x177e+-0x1dd5+-0x3553*-0x1;_0x4a9764<_0x27f12d;++_0x4a9764)_0xfc64df[_0x4a9764*(0xa97*-0x1+0x8*-0x22c+-0x1*-0x1c0b)+(0x849+-0x1*-0x479+-0xcb3)]=-0x8dd+0x1d5e+-0x1480,_0xfc64df[_0x4a9764*(0x26f+0x1318+-0x1573)+(0xe22+-0x21dd*-0x1+-0x2fef)]=-0x14*-0x141+0x2*-0x239+0x14a1*-0x1,_0xfc64df[_0x4a9764*(0x1ee3+0x1857+-0x3726)+(0x7*-0x251+-0x44*-0x33+0x64*0x7)]=-0x5cf*0x1+0x1da1+-0x17d1;}if(this['chunkTextu'+'re']['unlock'](),_0x1d116e>0x3*0xad3+0x179b*-0x1+0x8de*-0x1){const {shData:_0x43481f}=_0x38f701,_0x2dc305=this['evalTextur'+'eSize'](_0x22e908),_0x1f9d38=this['createText'+'ure']('shTexture0',ut,_0x2dc305),_0x163001=this['createText'+'ure']('shTexture1',ut,_0x2dc305),_0x57f7aa=this['createText'+'ure']('shTexture2',ut,_0x2dc305),_0xfca3f5=_0x1f9d38['lock'](),_0x3b8eeb=_0x163001['lock'](),_0x1d423e=_0x57f7aa['lock'](),_0x290b07=new Uint8Array(_0xfca3f5['buffer']),_0x3c734d=new Uint8Array(_0x3b8eeb['buffer']),_0x3ee78a=new Uint8Array(_0x1d423e['buffer']),_0x4f4aed=[0x6*-0x4e4+-0x669+0x23c4,-0x1fbe+0x1925*-0x1+0x3*0x12f9,0x2144+0x269d+-0x47d2][_0x1d116e-(-0x24c1+0x4da*-0x6+-0x1*-0x41de)];for(let _0x377d60=0x11*0x1ba+0x1*-0x1306+-0xa54*0x1;_0x377d60<_0x22e908;++_0x377d60)for(let _0x22ddf7=-0x2*-0x9de+0x6d0+-0x1a8c*0x1;_0x22ddf7<0x5*-0x3b6+-0x11c8*0x1+-0x7*-0x533;++_0x22ddf7)_0x290b07[_0x377d60*(0x428+0x15f1+-0x535*0x5)+_0x22ddf7]=_0x22ddf7<_0x4f4aed?_0x43481f[(_0x377d60*(-0x2*0x5e6+0xf9b*-0x1+0x1b6a)+(0x67d*-0x1+0x1ad1+-0x1454))*_0x4f4aed+_0x22ddf7]:-0x8*-0x308+0x3f*-0x31+-0xbb2,_0x3c734d[_0x377d60*(-0xc55*-0x1+-0x1f38+0x12f3)+_0x22ddf7]=_0x22ddf7<_0x4f4aed?_0x43481f[(_0x377d60*(-0xa0*0x3e+-0xd*0x27a+-0x7*-0xa23)+(-0x104d+0x2154+0x2*-0x883))*_0x4f4aed+_0x22ddf7]:0x1319+-0x1e6c+-0x2*-0x5e9,_0x3ee78a[_0x377d60*(-0x4*0xf1+-0x1a8b+0x1e5f)+_0x22ddf7]=_0x22ddf7<_0x4f4aed?_0x43481f[(_0x377d60*(0xc1f+-0x6*0x2bf+0x2b*0x1a)+(-0x1ca+-0x1*0x2b3+0x47f*0x1))*_0x4f4aed+_0x22ddf7]:0x1*0x1685+-0x10b3+-0x2f*0x1d;_0x1f9d38['unlock'](),_0x163001['unlock'](),_0x57f7aa['unlock'](),this['shTexture0']=_0x1f9d38,this['shTexture1']=_0x163001,this['shTexture2']=_0x57f7aa;}else this['shTexture0']=null,this['shTexture1']=null,this['shTexture2']=null;}['destroy'](){var _0x5d8516,_0x493914,_0x593722,_0x3d52b2,_0x8e1918,_0xe0f11b;(_0x5d8516=this['packedText'+'ure'])==null||_0x5d8516['destroy'](),(_0x493914=this['packedTime'+'Texture'])==null||_0x493914['destroy'](),(_0x593722=this['chunkTextu'+'re'])==null||_0x593722['destroy'](),(_0x3d52b2=this['shTexture0'])==null||_0x3d52b2['destroy'](),(_0x8e1918=this['shTexture1'])==null||_0x8e1918['destroy'](),(_0xe0f11b=this['shTexture2'])==null||_0xe0f11b['destroy']();}['createMate'+'rial'](_0x3d446e){const _0x3b3ffe=z0(_0x3d446e);return _0x3b3ffe['setDefine']('GSPLAT_COM'+'PRESSED_DA'+'TA',!(-0x72f+0x1*-0x26e9+0x2e18)),_0x3b3ffe['setParamet'+'er']('packedText'+'ure',this['packedText'+'ure']),_0x3b3ffe['setParamet'+'er']('packedTime'+'Texture',this['packedTime'+'Texture']),_0x3b3ffe['setParamet'+'er']('chunkTextu'+'re',this['chunkTextu'+'re']),_0x3b3ffe['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x3b3ffe['setParamet'+'er']('IS_4D',this['is4D']),this['shTexture0']?(_0x3b3ffe['setDefine']('SH_BANDS',-0x28a*0x2+0x17f*0x3+-0x9a*-0x1),_0x3b3ffe['setParamet'+'er']('shTexture0',this['shTexture0']),_0x3b3ffe['setParamet'+'er']('shTexture1',this['shTexture1']),_0x3b3ffe['setParamet'+'er']('shTexture2',this['shTexture2'])):_0x3b3ffe['setDefine']('SH_BANDS',-0xfa0+-0x6a*-0x1a+0x4dc),_0x3b3ffe;}['evalTextur'+'eSize'](_0x357243){const _0x43f54e=Math['ceil'](Math['sqrt'](_0x357243)),_0x43cfe1=Math['ceil'](_0x357243/_0x43f54e);return new W(_0x43f54e,_0x43cfe1);}['createText'+'ure'](_0x15c165,_0x6ccf7e,_0x2e1864,_0x55593b){return new he(this['device'],{'name':_0x15c165,'width':_0x2e1864['x'],'height':_0x2e1864['y'],'format':_0x6ccf7e,'cubemap':!(-0x2691+-0x526+0x2bb8),'mipmaps':!(-0x1*-0x20dd+0x14*0x6d+-0x52c*0x8),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,..._0x55593b?{'levels':[_0x55593b]}:{}});}}class F2{constructor(_0x122ae1,_0x1777a7,_0x5bf059){c(this,'device'),c(this,'splatData'),c(this,'splat',null),c(this,'comments',null),c(this,'splatInsta'+'nce',null),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['device']=_0x122ae1,this['splatData']=_0x1777a7,this['comments']=_0x5bf059);}['destroy'](){var _0x1ba361;this['device']=null,this['splatData']=null,(_0x1ba361=this['splat'])==null||_0x1ba361['destroy'](),this['splat']=null,this['splatInsta'+'nce']=null;}['createSpla'+'t'](){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eSplat'),this['splat']||(this['splat']=this['splatData']['isCompress'+'ed']?new L2(this['device'],this['splatData']):new V1(this['device'],this['splatData'])),this['splat'];}['appendGSpl'+'atData'](_0x322feb,_0x311915,_0x568088){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatDat'+'a'),this['splat']['timeOption']=_0x311915,this['splatData']['appendGSpl'+'atData'](_0x322feb,_0x568088,_0x311915),this['splat']['updateData'](this['splatData']),this['splatInsta'+'nce']['updateData'](this['splat']);}['instantiat'+'e'](_0x109797={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.insta'+'ntiate'),this['splatInsta'+'nce']=this['createInst'+'ance'](_0x109797);const _0x1e80a7=new We(),_0x473a04=_0x1e80a7['addCompone'+'nt']('gsplat',{'instance':this['splatInsta'+'nce']});return _0x1e80a7['setLocalEu'+'lerAngles'](0x1b*0x152+-0x17e*-0x2+-0x26a2,0x200b+-0x6d2+-0x24b*0xb,-0x256c+0x207e+0x4ee),_0x473a04['customAabb']=this['splatInsta'+'nce']['splat']['aabb']['clone'](),_0x1e80a7;}['createInst'+'ance'](_0x4750a4={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eInstance');const _0x36b2a9=this['createSpla'+'t']();return new Np(_0x36b2a9,_0x4750a4);}}const Ug=new Uint8Array([0x1*-0xf2+0x2350+-0xca*0x2b,-0x5*0x623+0xe*0x11+0x1*0x1e2d,0x1*0x1dbc+0xfc*0x1+-0x1e3f,0xea3+0x466+-0x1*0x12ff]),Vg=new Uint8Array([-0x54b+-0x2f6+0x84b,0x1a5f+-0x2*0xf9a+0x53a,0x17c2*-0x1+0x1*0x8e+0x17a2,0x3d5+-0x14ed+0x117c,0x1ef0+0x2201+-0x5f*0xae,-0xbf*0x2+0x3*0x18e+-0x2c4,-0xd81+0x16*0xe2+0xca*-0x7,-0x259+-0x53+0x30d,-0xad*-0x35+-0x9b7+-0x19b6,-0x15e1+-0x1ea1*-0x1+-0x85b,-0x247c+-0x388*-0x4+0x16ce,0x75a*-0x4+-0x4*0x939+0x4256]),bf=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class O2{constructor(_0x117e44,_0x439fc7){c(this,'reader'),c(this,'progressFu'+'nc'),c(this,'data'),c(this,'view'),c(this,'head',0xb5c+0x3ba*0x1+-0xf16),c(this,'tail',0x39*0xaf+0x1e44+0x1*-0x453b),(this['reader']=_0x117e44,this['progressFu'+'nc']=_0x439fc7);}async['read'](){var _0x561e62;const {value:_0x22e3c9,done:_0x511826}=await this['reader']['read']();if(_0x511826)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x22e3c9),(_0x561e62=this['progressFu'+'nc'])==null||_0x561e62['call'](this,_0x22e3c9['byteLength']);}['push'](_0x4aee52){if(!this['data'])this['data']=_0x4aee52,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x4aee52['length'];else{const _0x4c6422=this['tail']-this['head'],_0x5cc741=_0x4c6422+_0x4aee52['length'];if(this['data']['length']>=_0x5cc741)this['head']>-0x816+0x82c+-0x16?(this['data']['copyWithin'](0x3*0x8a7+0x76*0x16+-0x2419,this['head'],this['tail']),this['data']['set'](_0x4aee52,_0x4c6422),this['head']=-0x12*0x19f+0xd4c+0x2*0x7f1,this['tail']=_0x5cc741):(this['data']['set'](_0x4aee52,this['tail']),this['tail']+=_0x4aee52['length']);else{const _0x22ec69=new Uint8Array(_0x5cc741);this['head']>-0x62*-0x18+0x3c1+-0x1*0xcf1||this['tail']<this['data']['length']?_0x22ec69['set'](this['data']['subarray'](this['head'],this['tail']),-0x84c+-0x1*0x1cba+0x2506):_0x22ec69['set'](this['data'],-0x51b+-0x1be5+0x2100),_0x22ec69['set'](_0x4aee52,_0x4c6422),this['data']=_0x22ec69,this['view']=new DataView(this['data']['buffer']),this['head']=-0x1*0x394+0xe2a+-0xa96,this['tail']=_0x5cc741;}}}['compact'](){this['head']>-0x2*-0xe3b+0x1*-0x16e+-0x1b08&&(this['data']['copyWithin'](0x355+0x4f*-0x3e+0xfcd,this['head'],this['tail']),this['tail']-=this['head'],this['head']=0x495*-0x1+0x1002+-0xb6d);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x2422a8=this['view']['getInt8'](this['head']);return this['head']++,_0x2422a8;}['getUint8'](){const _0x29f373=this['view']['getUint8'](this['head']);return this['head']++,_0x29f373;}['getInt16'](){const _0x3b5250=this['view']['getInt16'](this['head'],!(0xb*0x133+0x612+-0x1343));return this['head']+=-0xd91+0x1439+-0x6a6,_0x3b5250;}['getUint16'](){const _0x58ba16=this['view']['getUint16'](this['head'],!(-0xb*0x118+0x5e5+0x623));return this['head']+=-0x45*-0x65+0x14ba*-0x1+0x1*-0x67d,_0x58ba16;}['getInt32'](){const _0x3edf25=this['view']['getInt32'](this['head'],!(-0xa37+-0x200e+0xe17*0x3));return this['head']+=-0x1da8+-0xa*-0x9e+0x1780,_0x3edf25;}['getUint32'](){const _0x4b5ffe=this['view']['getUint32'](this['head'],!(-0xb7*-0x13+-0x59d+-0xa*0xcc));return this['head']+=0x2*-0xdc2+-0x253a+0x40c2,_0x4b5ffe;}['getFloat32'](){const _0x228c71=this['view']['getFloat32'](this['head'],!(-0x7*-0x2e3+-0x142c+-0x9));return this['head']+=0xe34+0x2*-0x9dc+0xc*0x76,_0x228c71;}['getFloat64'](){const _0x2802a5=this['view']['getFloat64'](this['head'],!(-0x1*0x25ee+-0xffd*-0x1+-0x15f1*-0x1));return this['head']+=-0x4d7+0x8a7*0x1+-0x2*0x1e4,_0x2802a5;}}const k2=_0x577d0d=>{console['log']('____\x20ENGIN'+'E\x20IVAN','parse\x20ply\x20'+'Header');const _0x2ca9fe=[],_0x3fb7cb=[];let _0xcf201a;for(let _0xffcb8b=0x1*-0x210e+-0x4*-0x2b3+-0x1643*-0x1;_0xffcb8b<_0x577d0d['length'];++_0xffcb8b){const _0x1d5d3e=_0x577d0d[_0xffcb8b]['split']('\x20');switch(_0x1d5d3e[-0x2dd+-0x1b46+-0x1e23*-0x1]){case'comment':_0x3fb7cb['push'](_0x1d5d3e['slice'](-0x47*-0xb+-0x167f+0x17f*0xd)['join']('\x20'));break;case'format':_0xcf201a=_0x1d5d3e[-0xd3*0x1d+-0x1*-0x173b+0xad];break;case'element':_0x2ca9fe['push']({'name':_0x1d5d3e[-0xf7b+0x226d+-0x12f1],'count':parseInt(_0x1d5d3e[0x13a6+-0x1d*-0xc5+-0x29f5],0x2*-0x6c6+0x23d5+0x1*-0x163f),'properties':[]});break;case'property':{if(!bf['has'](_0x1d5d3e[0x213f+-0x1907+0x1*-0x837]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x1d5d3e[-0x1399+-0x1b*-0xf3+-0x607]+('\x27\x20in\x20ply\x20h'+'eader'));_0x2ca9fe[_0x2ca9fe['length']-(0x3f*-0x7a+0xc01+0x3*0x602)]['properties']['push']({'type':_0x1d5d3e[0x5*-0x2fe+-0x1*-0x5b1+0x946],'name':_0x1d5d3e[0x535*0x2+0x2692+-0x30fa*0x1],'storage':null,'byteSize':bf['get'](_0x1d5d3e[-0x1*0x176f+0x112f+-0x1*-0x641])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x1d5d3e[-0xc37+0x19b0+-0xd79]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x2ca9fe,'format':_0xcf201a,'comments':_0x3fb7cb};},B2=_0x35f949=>{const _0x3fb339=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x2864e1=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x5b5b55=new Array(-0x1*0xa4c+-0x243d*0x1+0x2eb6)['fill']('')['map']((_0x5300ad,_0x5707fc)=>'f_rest_'+_0x5707fc),_0x519eac=()=>_0x35f949[-0x3*-0x4f7+-0x14c9+0x5e4]['name']==='chunk'&&_0x35f949[-0x4f7*-0x5+-0x778+-0x115b]['properties']['every']((_0x55eee8,_0x414ebd)=>_0x55eee8['name']===_0x3fb339[_0x414ebd]&&_0x55eee8['type']==='float')&&_0x35f949[-0x7f5+0xf77+-0x781]['name']==='vertex'&&_0x35f949[0x1c2f+-0xa8b+0x81*-0x23]['properties']['every']((_0x135a7a,_0x5873cd)=>_0x135a7a['name']===_0x2864e1[_0x5873cd]&&_0x135a7a['type']==='uint'),_0x758c5b=()=>_0x35f949[0xadd+-0x335+-0x7a6]['name']==='sh'&&[0x47*0x7f+-0x377*0xb+-0x6b*-0x7,0x1855+-0xc5a+-0xbe3,-0x31*-0x31+-0x1ad6+0x7a*0x25]['indexOf'](_0x35f949[-0x1fc1+-0x247*0x1+-0x1*-0x220a]['properties']['length'])!==-(-0x9*0x434+-0xb4+0x2689)&&_0x35f949[0x1d01+-0x1*-0xf11+-0x2c10]['properties']['every']((_0xf81596,_0x2938f2)=>_0xf81596['name']===_0x5b5b55[_0x2938f2]&&_0xf81596['type']==='uchar');return _0x35f949['length']===0x3f9*0x6+-0x22*0xe7+0x6da&&_0x519eac()||_0x35f949['length']===0x1cfb+-0x117+-0x1be1&&_0x519eac()&&_0x758c5b();},N2=_0x1f45e6=>_0x1f45e6['length']===0x1*0x2692+-0x15f5+-0x109c&&_0x1f45e6[-0x2476+-0x30a*0x2+0x2a8a]['name']==='vertex'&&_0x1f45e6[-0x15f9+0x2c*-0x3e+0x20a1]['properties']['every'](_0xce2e9c=>_0xce2e9c['type']==='float'),z2=async(_0x37980f,_0x285c1d)=>{const _0x22b64a=new I2(),_0x3e8327=_0x285c1d[0x2001+-0xc5d*-0x1+0x4ee*-0x9]['count'],_0x4b74b6=_0x285c1d[0x1b78+-0x12e9*0x1+-0x88f]['properties']['length'],_0x579f09=_0x285c1d[-0x2*-0x422+0x1*-0x20b5+-0x37e*-0x7]['count'],_0x252910=_0x285c1d[0x254b+-0xf*0xf6+-0x6*0x3d0]['properties']['some'](_0x2ab6a4=>_0x2ab6a4['name']==='packed_tim'+'e'),_0x1696f0=_0x21c32d=>{const _0x4e8b6a=Math['ceil'](Math['sqrt'](_0x21c32d)),_0x5514ee=Math['ceil'](_0x21c32d/_0x4e8b6a);return _0x4e8b6a*_0x5514ee;};_0x22b64a['numSplats']=_0x579f09,_0x22b64a['is4D']=_0x252910,_0x22b64a['chunkData']=new Float32Array(_0x3e8327*_0x4b74b6),_0x22b64a['vertexData']=new Uint32Array(_0x1696f0(_0x579f09)*(-0x16*0x58+-0x3c*0x4a+0x18ee));const _0x2162a9=async(_0x4fb351,_0x911bee)=>{const _0x59a5ac=new Uint8Array(_0x4fb351);let _0x4597a3=-0xb5f*-0x3+0x1f*0xd6+-0x3c07;for(;_0x4597a3<_0x911bee;){for(;_0x37980f['remaining']===0x1c6*0xd+0xac7+-0x3*0xb47;)await _0x37980f['read']();const _0x4988f8=Math['min'](_0x911bee-_0x4597a3,_0x37980f['remaining']),_0x3689d6=_0x37980f['data'];for(let _0x3478f3=-0x5*0x3ce+0x1e67+-0xb61;_0x3478f3<_0x4988f8;++_0x3478f3)_0x59a5ac[_0x4597a3++]=_0x3689d6[_0x37980f['head']++];}};return await _0x2162a9(_0x22b64a['chunkData']['buffer'],_0x3e8327*_0x4b74b6*(0x4a7*-0x1+0xbb6*0x3+-0x1e77)),await _0x2162a9(_0x22b64a['vertexData']['buffer'],_0x579f09*(0x1*0xcbf+-0x14fc+0x843)*(0x741*0x3+0x62e+-0x1bed)),_0x285c1d['length']===-0x1349+-0x1858*0x1+0xae9*0x4&&(_0x22b64a['shData']=new Uint8Array(_0x285c1d[0x161b+0x1a44+-0x305d]['count']*_0x285c1d[-0x2*0xe3f+0x5ef+-0x35*-0x6d]['properties']['length']),await _0x2162a9(_0x22b64a['shData']['buffer'],_0x22b64a['shData']['byteLength'])),_0x22b64a;},U2=async(_0x2cbe2f,_0x399e3a)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readFloatP'+'ly');const _0x4e36f1=_0x399e3a[0x1610+0x2*-0x644+0x4c4*-0x2],_0x462aa2=_0x4e36f1['properties'],_0x1d3a0b=_0x462aa2['length'],_0x2e7bf5=_0x462aa2['map'](_0x11023e=>_0x11023e['storage']),_0x171d18=_0x462aa2['reduce']((_0x5d3c32,_0x269d8c)=>_0x5d3c32+_0x269d8c['byteSize'],-0xfbc+-0xa8c+0x1a48);let _0x316a4a=0x194f+-0x33b*0x9+0x3c4,_0x451fad;const _0x21dea4=()=>{const _0x4b9e4a=_0x2cbe2f['data']['buffer'];(_0x451fad==null?void(-0x1c83+-0x2132+0x1*0x3db5):_0x451fad['buffer'])!==_0x4b9e4a&&(_0x451fad=new Float32Array(_0x4b9e4a,0x1960+-0x51*0x42+-0x47e,_0x4b9e4a['byteLength']/(0x223*0xf+-0x23*-0xdd+0x3*-0x14c0)));};for(_0x21dea4();_0x316a4a<_0x4e36f1['count'];){for(;_0x2cbe2f['remaining']<_0x171d18;)await _0x2cbe2f['read'](),_0x21dea4();const _0x1680e1=Math['min'](_0x4e36f1['count']-_0x316a4a,Math['floor'](_0x2cbe2f['remaining']/_0x171d18));for(let _0x9a14f4=0x1e6a+0x1741+-0x35ab;_0x9a14f4<_0x1d3a0b;++_0x9a14f4){const _0x5c206a=_0x2e7bf5[_0x9a14f4];for(let _0x220882=-0xd72*0x2+0x1*-0x9d+0x1b81*0x1;_0x220882<_0x1680e1;++_0x220882)_0x5c206a[_0x220882+_0x316a4a]=_0x451fad[_0x220882*_0x1d3a0b+_0x9a14f4];}_0x316a4a+=_0x1680e1,_0x2cbe2f['head']+=_0x1680e1*_0x171d18;}return new Ia(_0x399e3a);},V2=async(_0x83e846,_0x491412)=>{for(let _0x511150=-0x244f+0x19*-0x182+0x4a01;_0x511150<_0x491412['length'];++_0x511150){const _0x1979b5=_0x491412[_0x511150],_0x5e663c=_0x1979b5['properties']['reduce']((_0x55b19f,_0x5ef0c7)=>_0x55b19f+_0x5ef0c7['byteSize'],0xa11+-0x3d*-0x26+0x1bd*-0xb),_0x5d8b4a=_0x1979b5['properties']['map'](_0x3ab3d6=>{if(_0x3ab3d6['storage'])switch(_0x3ab3d6['type']){case'char':return(_0x49c8b1,_0x5df850)=>{_0x3ab3d6['storage'][_0x5df850]=_0x49c8b1['getInt8']();};case'uchar':return(_0x3a1cc0,_0x32ec37)=>{_0x3ab3d6['storage'][_0x32ec37]=_0x3a1cc0['getUint8']();};case'short':return(_0x17d142,_0x4f71cb)=>{_0x3ab3d6['storage'][_0x4f71cb]=_0x17d142['getInt16']();};case'ushort':return(_0x2a3269,_0x5465df)=>{_0x3ab3d6['storage'][_0x5465df]=_0x2a3269['getUint16']();};case'int':return(_0x51e23c,_0xa3219f)=>{_0x3ab3d6['storage'][_0xa3219f]=_0x51e23c['getInt32']();};case'uint':return(_0x3579e9,_0x2eba36)=>{_0x3ab3d6['storage'][_0x2eba36]=_0x3579e9['getUint32']();};case'float':return(_0x554fbd,_0x28504b)=>{_0x3ab3d6['storage'][_0x28504b]=_0x554fbd['getFloat32']();};case'double':return(_0x2c6316,_0x2629cf)=>{_0x3ab3d6['storage'][_0x2629cf]=_0x2c6316['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x3ab3d6['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x139b69=>{_0x139b69['head']+=_0x3ab3d6['byteSize'];};});let _0x216f42=-0x192c+-0x21ba+-0x2a*-0x167;for(;_0x216f42<_0x1979b5['count'];){for(;_0x83e846['remaining']<_0x5e663c;)await _0x83e846['read']();const _0x13da6d=Math['min'](_0x1979b5['count']-_0x216f42,Math['floor'](_0x83e846['remaining']/_0x5e663c));for(let _0x360a42=0x1*0x22d2+-0xb*0x167+0x3*-0x677;_0x360a42<_0x13da6d;++_0x360a42){for(let _0x327443=-0x242f*-0x1+-0x25*-0x95+-0x8*0x737;_0x327443<_0x1979b5['properties']['length'];++_0x327443)_0x5d8b4a[_0x327443](_0x83e846,_0x216f42);_0x216f42++;}}}return new Ia(_0x491412);},G2=async(_0x107780,_0x4d93e7=null,_0x5c25b8=null)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readPly');const _0x4600db=(_0x1e2787,_0x3face9)=>{const _0x2c6334=_0x1e2787['length']-_0x3face9['length'];let _0x4ef233,_0x2f49bc;for(_0x4ef233=0x9f9+-0xd9f+-0x1d3*-0x2;_0x4ef233<=_0x2c6334;++_0x4ef233){for(_0x2f49bc=0x1*-0x1796+-0x2009+0x379f;_0x2f49bc<_0x3face9['length']&&_0x1e2787[_0x4ef233+_0x2f49bc]===_0x3face9[_0x2f49bc];++_0x2f49bc);if(_0x2f49bc===_0x3face9['length'])return _0x4ef233;}return-(0x3*-0x57d+0x7*0x3ea+-0xaee);},_0x57a5c5=(_0x2fd31c,_0x4435e8)=>{if(_0x2fd31c['length']<_0x4435e8['length'])return!(-0x2421+0x121*-0xe+-0x8a8*-0x6);for(let _0x578b53=0x85*0x19+0x65*-0x56+0x1*0x14f1;_0x578b53<_0x4435e8['length'];++_0x578b53)if(_0x2fd31c[_0x578b53]!==_0x4435e8[_0x578b53])return!(0x786+-0x22d9*0x1+0x6*0x48e);return!(0x2*0x4bc+0x24dc+0x2*-0x172a);},_0x3b6925=new O2(_0x107780,_0x5c25b8);let _0x220223;for(;;){if(await _0x3b6925['read'](),_0x3b6925['tail']>=Ug['length']&&!_0x57a5c5(_0x3b6925['data'],Ug))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x220223=_0x4600db(_0x3b6925['data'],Vg),_0x220223!==-(-0x1*-0x1b1e+0x1310*0x1+0x2e2d*-0x1))break;}const _0x1ca7d1=new TextDecoder('ascii')['decode'](_0x3b6925['data']['subarray'](-0x1*0xda9+0x1511*0x1+0x1*-0x768,_0x220223))['split']('\x0a'),{elements:_0x375ab1,format:_0x44fba9,comments:_0xce8dc7}=k2(_0x1ca7d1);if(_0x44fba9!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x3b6925['head']=_0x220223+Vg['length'],_0x3b6925['compact'](),{'data':await((async()=>B2(_0x375ab1)?await z2(_0x3b6925,_0x375ab1):(_0x375ab1['forEach'](_0x473322=>{_0x473322['properties']['forEach'](_0x3855b9=>{const _0x126e1d=bf['get'](_0x3855b9['type']);if(_0x126e1d){const _0xb34898=!_0x4d93e7||_0x4d93e7(_0x3855b9['name'])?new _0x126e1d(_0x473322['count']):null;_0x3855b9['storage']=_0xb34898;}});}),N2(_0x375ab1)?await U2(_0x3b6925,_0x375ab1):await V2(_0x3b6925,_0x375ab1)))()),'comments':_0xce8dc7};},H2=_0xb0b988=>!(0xed*0x24+-0x1*0x1d6b+-0x3e9);class W2{constructor(_0x3a10ce,_0x4e0140,_0x214f3d){c(this,'urlList'),c(this,'device'),c(this,'assets'),c(this,'maxRetries'),c(this,'gsplatReso'+'urce'),(console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20P'+'lyParser.c'+'onstructor'),this['device']=_0x3a10ce,this['assets']=_0x4e0140,this['maxRetries']=_0x214f3d,this['urlList']=[],this['gsplatReso'+'urce']=null);}async['load'](_0x55fb39,_0x1ef3cb,_0x206971){this['urlList']=[],console['log']('____\x20ENGIN'+'E\x20IVAN','PlyParser.'+'load'),_0x55fb39['load']['includes'](',')?this['urlList']=_0x55fb39['load']['split'](','):this['urlList']['push'](_0x55fb39['load']);const _0x4d2ddb=_0x206971['data']['loadAllSeq']?this['urlList']['length']:0x1eea+-0x1*0x1bdb+-0x30e,_0x503ce7=_0x206971['data']['timeOption'],_0x3e3ce6=_0x206971['data']['events'];for(let _0x9e4803=0x1*0x6cd+0xb5e+0x1*-0x122b;_0x9e4803<_0x4d2ddb;_0x9e4803++)await this['loadGsplat'+'Data'](this['urlList'][_0x9e4803]['trim'](),_0x1ef3cb,_0x206971,_0x9e4803,_0x503ce7,_0x3e3ce6);}async['loadGsplat'+'Data'](_0xc2a9dd,_0x5c6fed,_0x220d56,_0x9f966d,_0x1be01b,_0x448554){var _0x2236cb;try{const _0x5d5e52=await fetch(_0xc2a9dd);if(!_0x5d5e52||!_0x5d5e52['body'])_0x5c6fed('Error\x20load'+'ing\x20resour'+'ce',null);else{const _0x52199c=parseInt(_0x5d5e52['headers']['get']('content-le'+'ngth')??'0',0x1*0x1408+0x7*0x447+0x3*-0x10a5);let _0x1bd62d=0x207+0x65*0x20+-0xea7*0x1;const {data:_0x1276b0,comments:_0x3d87da}=await G2(_0x5d5e52['body']['getReader'](),_0x220d56['data']['elementFil'+'ter']??H2,_0x3b3891=>{_0x1bd62d+=_0x3b3891,_0x220d56&&_0x448554['fire']('progress',_0x1bd62d,_0x52199c);});_0x1276b0['isCompress'+'ed']||_0x220d56['data']['reorder'],this['gsplatReso'+'urce']&&((_0x2236cb=this['gsplatReso'+'urce'])!=null&&_0x2236cb['splatData'])?this['gsplatReso'+'urce']['appendGSpl'+'atData'](_0x1276b0['isCompress'+'ed']&&_0x220d56['data']['decompress']?await _0x1276b0['decompress']():_0x1276b0,_0x1be01b,_0x9f966d):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new F2(this['device'],_0x1276b0['isCompress'+'ed']&&_0x220d56['data']['decompress']?await _0x1276b0['decompress']():_0x1276b0,_0x3d87da),this['gsplatReso'+'urce']['timeOption']=_0x1be01b,_0x448554['fire']('progressEn'+'d')),_0x5c6fed(null,this['gsplatReso'+'urce']);}}catch(_0x9727eb){_0x5c6fed(_0x9727eb,null);}}['open'](_0x4bccb1,_0x15d264){return _0x15d264;}}class $2 extends Ne{constructor(_0x2dc8e4){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x2dc8e4,'gsplat'),this['parser']=new W2(_0x2dc8e4['graphicsDe'+'vice'],_0x2dc8e4['assets'],0x2*0x727+-0x2*0x49c+0x3*-0x1b1);}['load'](_0x43cf44,_0x47a3d7,_0x10b19d){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x43cf44=='string'&&(_0x43cf44={'load':_0x43cf44,'original':_0x43cf44}),this['parser']['load'](_0x43cf44,_0x47a3d7,_0x10b19d);}['open'](_0x3e498f,_0x83bc9e,_0x1c9da8){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),this['parser']['open'](_0x3e498f,_0x83bc9e,_0x1c9da8);}}class wf{static['setCompres'+'sedPRS'](_0x49759e,_0x13a06c,_0x2d8b11){const _0xaa5370=_0x2d8b11['singleVecs'];let _0x4b7154,_0x1618db;const _0x12ca8c=_0x13a06c['___1'];_0x12ca8c||(_0x4b7154=_0x2d8b11['tripleVecs'],_0x1618db=_0x13a06c['___2']);let _0x46e56c=_0x12ca8c?_0x12ca8c[0x111+0x11c5+-0x96b*0x2]:_0x4b7154[_0x1618db];_0x49759e['setLocalPo'+'sition'](_0xaa5370[_0x46e56c],_0xaa5370[_0x46e56c+(-0xb48+0x191*0xf+-0xc36)],_0xaa5370[_0x46e56c+(-0x2*0x74+0x32f*-0x2+0x748)]),_0x46e56c=_0x12ca8c?_0x12ca8c[-0x26af+-0x4*0x98a+0x4cd8]:_0x4b7154[_0x1618db+(0x1*0x4+-0x1f5+0x6*0x53)],_0x49759e['setLocalEu'+'lerAngles'](_0xaa5370[_0x46e56c],_0xaa5370[_0x46e56c+(-0x18c2+0x1*0x1589+-0x33a*-0x1)],_0xaa5370[_0x46e56c+(-0xa18+0xbc*0x20+-0xe*0xf5)]),_0x46e56c=_0x12ca8c?_0x12ca8c[0x1f*-0x43+-0xfb0+0x17*0x109]:_0x4b7154[_0x1618db+(-0x1b5*-0x1+0x1*-0x14f3+0x1340)],_0x49759e['setLocalSc'+'ale'](_0xaa5370[_0x46e56c],_0xaa5370[_0x46e56c+(0xd*-0x4a+-0xaa0+-0x7f*-0x1d)],_0xaa5370[_0x46e56c+(0x531+-0x1*0x27d+-0x2b2)]);}static['oneCharToK'+'ey'](_0x240913,_0x118bd9){const _0xd1f62d=_0x240913['charCodeAt'](0x2e8*0x8+-0x2b*-0x3d+0x4c9*-0x7)-_0x118bd9['fieldFirst'+'Code'];return _0x118bd9['fieldArray'][_0xd1f62d];}static['multCharTo'+'Key'](_0x33dd49,_0x184444){let _0x1f1da0=-0x2169+0x3*0x9f7+0x384;for(let _0x4671c4=-0x6*-0x6c+-0x2476+0x21ee;_0x4671c4<_0x33dd49['length'];_0x4671c4++)_0x1f1da0=_0x1f1da0*_0x184444['fieldCodeB'+'ase']+_0x33dd49['charCodeAt'](_0x4671c4)-_0x184444['fieldFirst'+'Code'];return _0x184444['fieldArray'][_0x1f1da0];}}class sc{constructor(_0x10dd2a,_0x3d9bf6){this['_node']=_0x10dd2a,this['_data']=_0x3d9bf6;}['run'](){const _0x11a710=Object['prototype']['toString']['call'](this['_node']);return _0x11a710==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x11a710==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x3603d3){let _0x448cad=_0x3603d3;const _0x4af4a2=_0x3603d3['length'];_0x4af4a2===-0x710+-0xfa+0x80b?_0x448cad=wf['oneCharToK'+'ey'](_0x3603d3,this['_data']):_0x4af4a2===0x589+0xf*-0x99+0x370&&(_0x448cad=wf['multCharTo'+'Key'](_0x3603d3,this['_data'])),this['_result'][_0x448cad]=new sc(this['_node'][_0x3603d3],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x2a0cfd){const _0x47f836=new sc(_0x2a0cfd,this['_data'])['run']();this['_result']['push'](_0x47f836);}}class Wp{constructor(_0x45e1f5,_0x5ab421){this['_app']=_0x45e1f5,this['_isTemplat'+'e']=_0x5ab421;}['parse'](_0x3df4e1){const _0x348d1f={};let _0x1b518b=null;const _0x18fc1f=_0x3df4e1['compressed'+'Format'];_0x18fc1f&&!_0x3df4e1['entDecompr'+'essed']&&(_0x3df4e1['entDecompr'+'essed']=!(-0x764+0x1606+0x2*-0x751),_0x3df4e1['entities']=new sc(_0x3df4e1['entities'],_0x18fc1f)['run']());for(const _0x4cfada in _0x3df4e1['entities']){const _0x249ca9=_0x3df4e1['entities'][_0x4cfada],_0x3fc3ac=this['_createEnt'+'ity'](_0x249ca9,_0x18fc1f);_0x348d1f[_0x4cfada]=_0x3fc3ac,_0x249ca9['parent']===null&&(_0x1b518b=_0x3fc3ac);}for(const _0xc2dc83 in _0x3df4e1['entities']){const _0x250797=_0x348d1f[_0xc2dc83],_0x9751de=_0x3df4e1['entities'][_0xc2dc83]['children'],_0x3fca96=_0x9751de['length'];for(let _0x25203d=0x2*-0x768+-0x597*-0x2+0x136*0x3;_0x25203d<_0x3fca96;_0x25203d++){const _0x1ccca9=_0x348d1f[_0x9751de[_0x25203d]];_0x1ccca9&&_0x250797['addChild'](_0x1ccca9);}}return this['_openCompo'+'nentData'](_0x1b518b,_0x3df4e1['entities']),_0x1b518b;}['_createEnt'+'ity'](_0x51ab6e,_0x397cb7){const _0x1f8e2c=new We(_0x51ab6e['name'],this['_app']);if(_0x1f8e2c['setGuid'](_0x51ab6e['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x1f8e2c,_0x51ab6e,_0x397cb7),_0x1f8e2c['_enabled']=_0x51ab6e['enabled']??!(0x1879+0xca6+-0x251f),this['_isTemplat'+'e']?_0x1f8e2c['_template']=!(0x1*0x62b+-0x35a+-0x2d1):_0x1f8e2c['_enabledIn'+'Hierarchy']=_0x1f8e2c['_enabled'],_0x1f8e2c['template']=_0x51ab6e['template'],_0x51ab6e['tags']){for(let _0xfb08eb=0xbb1+0x1901+-0x24b2;_0xfb08eb<_0x51ab6e['tags']['length'];_0xfb08eb++)_0x1f8e2c['tags']['add'](_0x51ab6e['tags'][_0xfb08eb]);}return _0x1f8e2c;}['_setPosRot'+'Scale'](_0x196cb0,_0x565dc1,_0x2ba3f6){if(_0x2ba3f6)wf['setCompres'+'sedPRS'](_0x196cb0,_0x565dc1,_0x2ba3f6);else{const _0x58196c=_0x565dc1['position'],_0x48eb7f=_0x565dc1['rotation'],_0x2a7ded=_0x565dc1['scale'];_0x196cb0['setLocalPo'+'sition'](_0x58196c[-0x86b+0xa77+-0x20c],_0x58196c[0x1b05*0x1+0x15*0x1af+0x7*-0x8e9],_0x58196c[0x2623+-0x2a9*0xd+-0x38c]),_0x196cb0['setLocalEu'+'lerAngles'](_0x48eb7f[0x81*0xa+-0x3*0x8b7+-0x709*-0x3],_0x48eb7f[0xae1+0xc7*-0x1+-0xa19],_0x48eb7f[-0x1*0xfd8+-0x1d40+0x2d1a]),_0x196cb0['setLocalSc'+'ale'](_0x2a7ded[-0x1*-0x1c45+-0x12*0x1b5+0x275],_0x2a7ded[-0xb1f+-0x1*0x25af+0x30cf],_0x2a7ded[0xb*-0x221+0x1449+0x43*0xc]);}}['_openCompo'+'nentData'](_0x5b64c5,_0x315ee7){const _0xee8632=this['_app']['systems']['list'];let _0x1f5fc3=_0xee8632['length'];const _0x14266a=_0x315ee7[_0x5b64c5['getGuid']()];for(let _0x5794e7=-0x1a65+0x25f+0x1806;_0x5794e7<_0x1f5fc3;_0x5794e7++){const _0x458b5b=_0xee8632[_0x5794e7],_0x5b776b=_0x14266a['components'][_0x458b5b['id']];_0x5b776b&&_0x458b5b['addCompone'+'nt'](_0x5b64c5,_0x5b776b);}_0x1f5fc3=_0x14266a['children']['length'];const _0x525acc=_0x5b64c5['_children'];for(let _0x5a7cf0=-0x1*0x14c3+0x5b1+0xf12;_0x5a7cf0<_0x1f5fc3;_0x5a7cf0++)_0x525acc[_0x5a7cf0]?_0x525acc[_0x5a7cf0]=this['_openCompo'+'nentData'](_0x525acc[_0x5a7cf0],_0x315ee7):v['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x5b64c5['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x5b64c5;}}class Lx{static['load'](_0x421b05,_0x5b83e5,_0x1f6259){typeof _0x421b05=='string'&&(_0x421b05={'load':_0x421b05,'original':_0x421b05}),$e['get'](_0x421b05['load'],{'retry':_0x5b83e5>-0x43d*0x7+0x1461+0x94a,'maxRetries':_0x5b83e5},(_0xd6309d,_0x5361dd)=>{if(!_0xd6309d)_0x1f6259(_0xd6309d,_0x5361dd);else{let _0x13c151='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x421b05['original'];_0xd6309d['message']?(_0x13c151+=':\x20'+_0xd6309d['message'],_0xd6309d['stack']&&(_0x13c151+='\x0a'+_0xd6309d['stack'])):_0x13c151+=':\x20'+_0xd6309d,_0x1f6259(_0x13c151);}});}}class q2 extends Ne{constructor(_0x59fd09){super(_0x59fd09,'hierarchy');}['load'](_0x4a46fe,_0x132cd1){Lx['load'](_0x4a46fe,this['maxRetries'],_0x132cd1);}['open'](_0x55d9de,_0x4cca42){this['_app']['systems']['script']['preloading']=!(0x194b+-0x1062+-0x8e9);const _0x2dbbfc=new Wp(this['_app'],!(0x22cb+-0x227d+-0x4d))['parse'](_0x4cca42);return this['_app']['systems']['script']['preloading']=!(0xe9a+0x466*-0x3+-0x167),_0x2dbbfc;}}class X2 extends Ne{constructor(_0x579140){super(_0x579140,'html'),c(this,'decoder',null);}['load'](_0x31464e,_0xf05f46){typeof _0x31464e=='string'&&(_0x31464e={'load':_0x31464e,'original':_0x31464e}),$e['get'](_0x31464e['load'],{'retry':this['maxRetries']>-0x1655+-0x26*-0x25+0x10d7,'maxRetries':this['maxRetries']},(_0x5a5b13,_0x27e0ea)=>{_0x5a5b13?_0xf05f46('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x31464e['original']+'\x20['+_0x5a5b13+']'):_0xf05f46(null,_0x27e0ea);});}['openBinary'](_0x549681){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x549681);}}class j2 extends Ne{constructor(_0x4012da){super(_0x4012da,'json'),c(this,'decoder',null);}['load'](_0x3e040f,_0x28298c){typeof _0x3e040f=='string'&&(_0x3e040f={'load':_0x3e040f,'original':_0x3e040f});const _0x590bbb={'retry':this['maxRetries']>-0x26*-0x76+-0x1*0x1437+0x2b3,'maxRetries':this['maxRetries']};_0x3e040f['load']['startsWith']('blob:')&&(_0x590bbb['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x3e040f['load'],_0x590bbb,(_0x1465e4,_0x360857)=>{_0x1465e4?_0x28298c('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x3e040f['original']+'\x20['+_0x1465e4+']'):_0x28298c(null,_0x360857);});}['openBinary'](_0x16e0f1){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x16e0f1));}}class Y2{constructor(){this['removeInva'+'lid']=!(0x111b+-0xe5*-0x1a+0x285d*-0x1),this['valid']=!(-0x379+-0x1cc9+-0x1021*-0x2),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([Kb,Bo,Lu]),'cull':this['_createEnu'+'mValidator']([mt,rn,mo,RS]),'blendType':this['_createEnu'+'mValidator']([n0,yp,Kt,is,hr,xp,Hc,a0,o0,l0,h0]),'depthFunc':this['_createEnu'+'mValidator']([IS,Eh,Ch,fu,DS,LS,FS,Ai])};}['setInvalid'](_0x4eaf17,_0x4d6f31){this['valid']=!(-0x1b4c+0x23cd+-0x80*0x11),v['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x4eaf17,_0x4d6f31[_0x4eaf17]),this['removeInva'+'lid']&&delete _0x4d6f31[_0x4eaf17];}['validate'](_0x564649){const _0x26b233=Pa,_0x213d90=QC,_0x10bcbc=_0x564649['mappingFor'+'mat']==='path';for(const _0xd0eed in _0x564649){const _0x137826=_0x26b233[_0xd0eed];if(!_0x137826){_0x213d90[_0xd0eed]?delete _0x564649[_0xd0eed]:(v['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0xd0eed),this['valid']=!(-0x24f8+0x1909+0xbf0));continue;}if(_0x137826['startsWith']('enum')){const _0xe219c4=_0x137826['split'](':')[-0xe4d*0x1+-0x71*0x19+0x1*0x1957];this['enumValida'+'tors'][_0xe219c4]&&(this['enumValida'+'tors'][_0xe219c4](_0x564649[_0xd0eed])||this['setInvalid'](_0xd0eed,_0x564649));}else{if(_0x137826==='number')typeof _0x564649[_0xd0eed]!='number'&&this['setInvalid'](_0xd0eed,_0x564649);else{if(_0x137826==='boolean')typeof _0x564649[_0xd0eed]!='boolean'&&this['setInvalid'](_0xd0eed,_0x564649);else{if(_0x137826==='string')typeof _0x564649[_0xd0eed]!='string'&&this['setInvalid'](_0xd0eed,_0x564649);else{if(_0x137826==='vec2')_0x564649[_0xd0eed]instanceof Array&&_0x564649[_0xd0eed]['length']===-0x1*-0x16d8+-0xa93+-0x2b*0x49||this['setInvalid'](_0xd0eed,_0x564649);else{if(_0x137826==='rgb')_0x564649[_0xd0eed]instanceof Array&&_0x564649[_0xd0eed]['length']===-0x747*0x1+-0x156b*-0x1+-0xe21||this['setInvalid'](_0xd0eed,_0x564649);else{if(_0x137826==='texture')_0x10bcbc?typeof _0x564649[_0xd0eed]=='string'||_0x564649[_0xd0eed]===null||_0x564649[_0xd0eed]instanceof he||this['setInvalid'](_0xd0eed,_0x564649):typeof _0x564649[_0xd0eed]=='number'||_0x564649[_0xd0eed]===null||_0x564649[_0xd0eed]instanceof he||this['setInvalid'](_0xd0eed,_0x564649);else{if(_0x137826==='boundingbo'+'x')_0x564649[_0xd0eed]['center']&&_0x564649[_0xd0eed]['center']instanceof Array&&_0x564649[_0xd0eed]['center']['length']===-0x3a2*-0x1+0x26b5+-0x2a54||this['setInvalid'](_0xd0eed,_0x564649),_0x564649[_0xd0eed]['halfExtent'+'s']&&_0x564649[_0xd0eed]['halfExtent'+'s']instanceof Array&&_0x564649[_0xd0eed]['halfExtent'+'s']['length']===-0x2322*0x1+0x3*-0x215+-0xdcc*-0x3||this['setInvalid'](_0xd0eed,_0x564649);else{if(_0x137826==='cubemap')typeof _0x564649[_0xd0eed]=='number'||_0x564649[_0xd0eed]===null||_0x564649[_0xd0eed]===void(-0x1891+0x1015*-0x1+0x28a6)||_0x564649[_0xd0eed]instanceof he&&_0x564649[_0xd0eed]['cubemap']||this['setInvalid'](_0xd0eed,_0x564649);else{if(_0x137826==='chunks'){const _0x29a39a=Object['keys'](_0x564649[_0xd0eed]);for(let _0x4703f1=-0x10*-0x255+0x1f*0xa3+-0x390d;_0x4703f1<_0x29a39a['length'];_0x4703f1++)typeof _0x564649[_0xd0eed][_0x29a39a[_0x4703f1]]!='string'&&this['setInvalid'](_0x29a39a[_0x4703f1],_0x564649[_0xd0eed]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x137826);}}}}}}}}}}return _0x564649['validated']=!(0x1072+-0x1*0x3e5+0x1b*-0x77),this['valid'];}['_createEnu'+'mValidator'](_0x258dee){return function(_0x4484db){return _0x258dee['indexOf'](_0x4484db)>=0x10f3+0x1f6e+-0x3061*0x1;};}}class K2{constructor(){this['_validator']=null;}['parse'](_0x54e20f){const _0x368fa6=this['migrate'](_0x54e20f),_0x12c8ac=this['_validate'](_0x368fa6),_0x2a32ac=new cs();return this['initialize'](_0x2a32ac,_0x12c8ac),_0x2a32ac;}['initialize'](_0x1b7ad3,_0x436089){_0x436089['validated']||(_0x436089=this['_validate'](_0x436089)),_0x436089['chunks']&&(_0x1b7ad3['chunks']={..._0x436089['chunks']});for(const _0x1cc302 in _0x436089){const _0x578b95=Pa[_0x1cc302],_0x117c04=_0x436089[_0x1cc302];if(_0x578b95==='vec2')_0x1b7ad3[_0x1cc302]=new W(_0x117c04[0x4e1*0x3+0x1feb+-0x2e8e],_0x117c04[0xc6d+-0x1352+0x6e6*0x1]);else{if(_0x578b95==='rgb')_0x1b7ad3[_0x1cc302]=new Y(_0x117c04[0xf42+0x47a+0x13bc*-0x1],_0x117c04[0x8f4+-0xdf*-0x17+0x173*-0x14],_0x117c04[-0x21a5+0x1084*0x1+-0x1123*-0x1]);else{if(_0x578b95==='texture')_0x117c04 instanceof he?_0x1b7ad3[_0x1cc302]=_0x117c04:_0x1b7ad3[_0x1cc302]instanceof he&&typeof _0x117c04=='number'&&_0x117c04>-0x147a+-0x151c+0x2996||(_0x1b7ad3[_0x1cc302]=null);else{if(_0x578b95==='cubemap')_0x117c04 instanceof he?_0x1b7ad3[_0x1cc302]=_0x117c04:_0x1b7ad3[_0x1cc302]instanceof he&&typeof _0x117c04=='number'&&_0x117c04>0x159a+-0x10c2+-0x14*0x3e||(_0x1b7ad3[_0x1cc302]=null),_0x1cc302==='cubeMap'&&!_0x117c04&&(_0x1b7ad3['prefiltere'+'dCubemaps']=null);else{if(_0x578b95==='boundingbo'+'x'){const _0x5e2fc3=new T(_0x117c04['center'][0x41c*0x8+0x266c+-0x24*0x1fb],_0x117c04['center'][-0x1*-0x126a+0x17c5+-0x2a2e],_0x117c04['center'][0x25f9+0xa*-0x205+-0x1*0x11c5]),_0x4b30d6=new T(_0x117c04['halfExtent'+'s'][-0x1ced+0x59a*-0x1+0x2287],_0x117c04['halfExtent'+'s'][-0x3*-0x4b4+-0xf75*0x2+0x10cf],_0x117c04['halfExtent'+'s'][-0x129a+-0x19bd+0x2c59]);_0x1b7ad3[_0x1cc302]=new _e(_0x5e2fc3,_0x4b30d6);}else _0x1b7ad3[_0x1cc302]=_0x436089[_0x1cc302];}}}}}_0x1b7ad3['update']();}['migrate'](_0x46d4ab){_0x46d4ab['shader']&&delete _0x46d4ab['shader'],_0x46d4ab['mapping_fo'+'rmat']&&(_0x46d4ab['mappingFor'+'mat']=_0x46d4ab['mapping_fo'+'rmat'],delete _0x46d4ab['mapping_fo'+'rmat']);let _0x5d041a;const _0x195d7f=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x5d041a=0x282*-0xd+-0xb*0x2f6+-0x2*-0x2096;_0x5d041a<_0x195d7f['length'];_0x5d041a++){const _0x2aa34a=_0x195d7f[_0x5d041a][-0x287*-0x1+0x11d9+0xa30*-0x2],_0x2edc63=_0x195d7f[_0x5d041a][-0x4b*-0xc+-0x1*0x2416+0x2093];_0x46d4ab[_0x2aa34a]!==void(-0x1ede*-0x1+0x5*0x71d+0x3*-0x1625)&&(_0x46d4ab[_0x2edc63]===void(-0x2167+-0xc*0x19a+0x2c5*0x13)&&(_0x46d4ab[_0x2edc63]=_0x46d4ab[_0x2aa34a]),delete _0x46d4ab[_0x2aa34a]);}const _0x552c58=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x5d041a=-0x174f+-0x1c*0xc4+0x2cbf;_0x5d041a<_0x552c58['length'];_0x5d041a++){const _0x3ccb4d=_0x552c58[_0x5d041a];_0x46d4ab['hasOwnProp'+'erty'](_0x3ccb4d)&&delete _0x46d4ab[_0x3ccb4d];}return _0x46d4ab;}['_validate'](_0x51d57b){return _0x51d57b['validated']||(this['_validator']||(this['_validator']=new Y2()),this['_validator']['validate'](_0x51d57b)),_0x51d57b;}}const Z2={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black'};class Q2 extends Ne{constructor(_0x5d6137){super(_0x5d6137,'material'),this['_assets']=_0x5d6137['assets'],this['_device']=_0x5d6137['graphicsDe'+'vice'],this['_parser']=new K2();}['load'](_0x46a7e0,_0x4f4484){typeof _0x46a7e0=='string'&&(_0x46a7e0={'load':_0x46a7e0,'original':_0x46a7e0}),$e['get'](_0x46a7e0['load'],{'retry':this['maxRetries']>-0x2*-0xf1d+0xef0+0x5e*-0x7b,'maxRetries':this['maxRetries']},(_0x3b401b,_0xf0133c)=>{_0x3b401b?_0x4f4484&&_0x4f4484('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x46a7e0['original']+'\x20['+_0x3b401b+']'):_0x4f4484&&(_0xf0133c['_engine']=!(-0x73*0x7+0x5*-0x51c+0x1cb1),_0x4f4484(null,_0xf0133c));});}['open'](_0xea9cc7,_0xfb03d6){const _0x4d4489=this['_parser']['parse'](_0xfb03d6);return _0xfb03d6['_engine']&&(_0x4d4489['_data']=_0xfb03d6,delete _0xfb03d6['_engine']),_0x4d4489;}['patch'](_0x4ba3a2,_0x2dd117){_0x4ba3a2['resource']['_data']&&(_0x4ba3a2['_data']=_0x4ba3a2['resource']['_data'],delete _0x4ba3a2['resource']['_data']),_0x4ba3a2['data']['name']=_0x4ba3a2['name'],_0x4ba3a2['resource']['name']=_0x4ba3a2['name'],this['_bindAndAs'+'signAssets'](_0x4ba3a2,_0x2dd117),_0x4ba3a2['off']('unload',this['_onAssetUn'+'load'],this),_0x4ba3a2['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x30a4cb){delete _0x30a4cb['data']['parameters'],delete _0x30a4cb['data']['chunks'],delete _0x30a4cb['data']['name'];}['_assignTex'+'ture'](_0x535d1a,_0x477dec,_0x8fa299){_0x477dec['resource'][_0x535d1a]=_0x8fa299;}['_getPlaceh'+'olderTextu'+'re'](_0x8a446c){const _0x39cb99=Z2[_0x8a446c];return v['assert'](_0x39cb99,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x8a446c),en(this['_device'],_0x39cb99);}['_assignPla'+'ceholderTe'+'xture'](_0x4811fa,_0x4f767d){_0x4f767d['resource'][_0x4811fa]=this['_getPlaceh'+'olderTextu'+'re'](_0x4811fa);}['_onTexture'+'Load'](_0x2526d4,_0x1d1920,_0xf54d70){this['_assignTex'+'ture'](_0x2526d4,_0x1d1920,_0xf54d70['resource']),_0x1d1920['resource']['update']();}['_onTexture'+'Add'](_0x3c9f9b,_0x274f72,_0xff3c38){this['_assets']['load'](_0xff3c38);}['_onTexture'+'RemoveOrUn'+'load'](_0xf23552,_0x194be6,_0x59824b){const _0x3cf8c3=_0x194be6['resource'];_0x3cf8c3&&_0x194be6['resource'][_0xf23552]===_0x59824b['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0xf23552,_0x194be6),_0x3cf8c3['update']());}['_assignCub'+'emap'](_0x209cf1,_0x1f11d7,_0x2c80ae){if(_0x1f11d7['resource'][_0x209cf1]=_0x2c80ae[0x4*0x9b6+-0x1cbb+-0xa1d],_0x209cf1==='cubeMap'){const _0x283952=_0x2c80ae['slice'](0x87*0x23+-0x2585+0x1311);_0x283952['every'](_0x5ca1fc=>_0x5ca1fc)?_0x1f11d7['resource']['prefiltere'+'dCubemaps']=_0x283952:_0x283952[-0xd69+-0xe2e+0x1b97]&&(_0x1f11d7['resource']['envAtlas']=_0x283952[-0x1307+0x1*-0x6e3+0x19ea]);}}['_onCubemap'+'Load'](_0x2f2c02,_0xa2f633,_0x431c55){this['_assignCub'+'emap'](_0x2f2c02,_0xa2f633,_0x431c55['resources']),this['_parser']['initialize'](_0xa2f633['resource'],_0xa2f633['data']);}['_onCubemap'+'Add'](_0x307b04,_0xf8338,_0x551ca9){this['_assets']['load'](_0x551ca9);}['_onCubemap'+'RemoveOrUn'+'load'](_0x3a6fb1,_0x5401b9,_0x54db6b){const _0xed0138=_0x5401b9['resource'];_0x5401b9['data']['prefiltere'+'dCubeMap12'+'8']===_0x54db6b['resources'][0x15fa*0x1+-0x4*0x657+0x1*0x363]&&(this['_assignCub'+'emap'](_0x3a6fb1,_0x5401b9,[null,null,null,null,null,null,null]),_0xed0138['update']());}['_bindAndAs'+'signAssets'](_0x510efb,_0x28b255){const _0x22458a=this['_parser']['migrate'](_0x510efb['data']),_0x18f477=_0x510efb['resource'],_0x1413ef=_0x22458a['mappingFor'+'mat']==='path',_0xddc10d=Kc;let _0x439313,_0x17dda1,_0x44adb4;for(_0x439313=-0x3*0x57f+-0x67d*0x3+0x2c4*0xd;_0x439313<_0xddc10d['length'];_0x439313++){_0x17dda1=_0xddc10d[_0x439313],_0x44adb4=_0x18f477['_assetRefe'+'rences'][_0x17dda1];const _0x2340f7=_0x22458a[_0x17dda1],_0x10696d=_0x18f477[_0x17dda1],_0x142eef=_0x10696d===this['_getPlaceh'+'olderTextu'+'re'](_0x17dda1),_0x4979c7=_0x22458a['validated'];_0x2340f7&&(!_0x10696d||!_0x4979c7||_0x142eef)?(_0x44adb4||(_0x44adb4=new Go(_0x17dda1,_0x510efb,_0x28b255,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x18f477['_assetRefe'+'rences'][_0x17dda1]=_0x44adb4),_0x1413ef?_0x44adb4['url']=_0x510efb['getAbsolut'+'eUrl'](_0x2340f7):_0x44adb4['id']=_0x2340f7,_0x44adb4['asset']&&(_0x44adb4['asset']['resource']?this['_assignTex'+'ture'](_0x17dda1,_0x510efb,_0x44adb4['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x17dda1,_0x510efb),_0x28b255['load'](_0x44adb4['asset']))):_0x44adb4&&(_0x1413ef?_0x44adb4['url']=null:_0x44adb4['id']=null);}const _0x2f2e4f=Fp;for(_0x439313=0x286*0xc+0x1*-0x2a5+-0x1ba3;_0x439313<_0x2f2e4f['length'];_0x439313++)_0x17dda1=_0x2f2e4f[_0x439313],_0x44adb4=_0x18f477['_assetRefe'+'rences'][_0x17dda1],_0x22458a[_0x17dda1]&&!_0x510efb['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x44adb4||(_0x44adb4=new Go(_0x17dda1,_0x510efb,_0x28b255,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x18f477['_assetRefe'+'rences'][_0x17dda1]=_0x44adb4),_0x1413ef?_0x44adb4['url']=_0x22458a[_0x17dda1]:_0x44adb4['id']=_0x22458a[_0x17dda1],_0x44adb4['asset']&&(_0x44adb4['asset']['loaded']&&this['_assignCub'+'emap'](_0x17dda1,_0x510efb,_0x44adb4['asset']['resources']),_0x28b255['load'](_0x44adb4['asset'])));this['_parser']['initialize'](_0x18f477,_0x22458a);}}class J2{constructor(_0x5bd1c5){this['_device']=_0x5bd1c5['device'],this['_defaultMa'+'terial']=_0x5bd1c5['defaultMat'+'erial'],this['_assets']=_0x5bd1c5['assets'];}['parse'](_0x198507,_0x1cf131,_0x1c979f){tc['parse']('filename.g'+'lb','',_0x198507,this['_device'],this['_assets'],(_0x1c979f==null?void(0xefe+-0xeec+-0x12):_0x1c979f['options'])??{},(_0x322b49,_0x28707c)=>{if(_0x322b49)_0x1cf131(_0x322b49);else{const _0x56977a=tr['createMode'+'l'](_0x28707c,this['_defaultMa'+'terial']);_0x28707c['destroy'](),_0x1cf131(null,_0x56977a);}});}}const eL={'points':Mc,'lines':Pc,'lineloop':My,'linestrip':Py,'triangles':Ms,'trianglestrip':ar,'trianglefan':Yr},tL={'int8':Rc,'uint8':Kr,'int16':Ic,'uint16':el,'int32':By,'uint32':Do,'float32':Ee};class sL{constructor(_0x259116){this['_device']=_0x259116['device'],this['_defaultMa'+'terial']=_0x259116['defaultMat'+'erial'];}['parse'](_0x14b619,_0x48f03a){const _0x313e22=_0x14b619['model'];if(!_0x313e22){_0x48f03a(null,null);return;}if(_0x313e22['version']<=0x4*0x97a+0x21*-0x9c+0x11cb*-0x1){_0x48f03a('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x1a748d=this['_parseNode'+'s'](_0x14b619),_0x4d0a93=this['_parseSkin'+'s'](_0x14b619,_0x1a748d),_0x18d2e2=this['_parseVert'+'exBuffers'](_0x14b619),_0xf5a56a=this['_parseInde'+'xBuffers'](_0x14b619,_0x18d2e2),_0x4f19e6=this['_parseMorp'+'hs'](_0x14b619,_0x1a748d,_0x18d2e2),_0x327a94=this['_parseMesh'+'es'](_0x14b619,_0x4d0a93['skins'],_0x4f19e6['morphs'],_0x18d2e2,_0xf5a56a['buffer'],_0xf5a56a['data']),_0x2aa49b=this['_parseMesh'+'Instances'](_0x14b619,_0x1a748d,_0x327a94,_0x4d0a93['skins'],_0x4d0a93['instances'],_0x4f19e6['morphs'],_0x4f19e6['instances']),_0x543149=new Oi();_0x543149['graph']=_0x1a748d[0x1917+0x1162+-0x83*0x53],_0x543149['meshInstan'+'ces']=_0x2aa49b,_0x543149['skinInstan'+'ces']=_0x4d0a93['instances'],_0x543149['morphInsta'+'nces']=_0x4f19e6['instances'],_0x543149['getGraph']()['syncHierar'+'chy'](),_0x48f03a(null,_0x543149);}['_parseNode'+'s'](_0x1538c4){const _0x4f8ac6=_0x1538c4['model'],_0x233dd3=[];let _0x64aadb;for(_0x64aadb=-0x175b+-0x2388+0x3ae3;_0x64aadb<_0x4f8ac6['nodes']['length'];_0x64aadb++){const _0x4cc7bc=_0x4f8ac6['nodes'][_0x64aadb],_0x3025fb=new De(_0x4cc7bc['name']);_0x3025fb['setLocalPo'+'sition'](_0x4cc7bc['position'][-0x1*-0x3bc+0x26a3+-0x2a5f],_0x4cc7bc['position'][-0x2491+0x1*-0x6cd+0x2b5f],_0x4cc7bc['position'][0x853+-0x20c*0x5+-0x1eb*-0x1]),_0x3025fb['setLocalEu'+'lerAngles'](_0x4cc7bc['rotation'][0x725+0x11c1*-0x1+0x2*0x54e],_0x4cc7bc['rotation'][-0x145e+0x157e+-0x29*0x7],_0x4cc7bc['rotation'][-0x2*0xdd8+0x1de7+-0x235]),_0x3025fb['setLocalSc'+'ale'](_0x4cc7bc['scale'][-0x3f7+-0x872+0xc69],_0x4cc7bc['scale'][-0x79*0x4a+0x2560+0x1*-0x265],_0x4cc7bc['scale'][-0x622+-0x17de+0x2e*0xa7]),_0x3025fb['scaleCompe'+'nsation']=!!_0x4cc7bc['scaleCompe'+'nsation'],_0x233dd3['push'](_0x3025fb);}for(_0x64aadb=-0x1c*-0x61+-0x37+-0xa64;_0x64aadb<_0x4f8ac6['parents']['length'];_0x64aadb++)_0x233dd3[_0x4f8ac6['parents'][_0x64aadb]]['addChild'](_0x233dd3[_0x64aadb]);return _0x233dd3;}['_parseSkin'+'s'](_0x25dcee,_0x44f282){const _0x3e9db4=_0x25dcee['model'],_0x95d55b=[],_0x184784=[];let _0x476e4c,_0x1edaf7;for(_0x476e4c=-0x10c5+0x1*-0xda3+0x1e68;_0x476e4c<_0x3e9db4['skins']['length'];_0x476e4c++){const _0x53ca64=_0x3e9db4['skins'][_0x476e4c],_0x5cfe02=[];for(_0x1edaf7=-0x18f+0x1369*0x2+-0x1*0x2543;_0x1edaf7<_0x53ca64['inverseBin'+'dMatrices']['length'];_0x1edaf7++){const _0x4000a9=_0x53ca64['inverseBin'+'dMatrices'][_0x1edaf7];_0x5cfe02[_0x1edaf7]=new q()['set'](_0x4000a9);}const _0x3f4fe3=new N0(this['_device'],_0x5cfe02,_0x53ca64['boneNames']);_0x95d55b['push'](_0x3f4fe3);const _0x39474d=new nl(_0x3f4fe3),_0x697c7b=[];for(_0x1edaf7=0x1a54+0x3c*-0x97+0x910;_0x1edaf7<_0x3f4fe3['boneNames']['length'];_0x1edaf7++){const _0x10e717=_0x3f4fe3['boneNames'][_0x1edaf7],_0x220af6=_0x44f282[0x10c1*0x1+0xef*0x2+0x1*-0x129f]['findByName'](_0x10e717);_0x697c7b['push'](_0x220af6);}_0x39474d['bones']=_0x697c7b,_0x184784['push'](_0x39474d);}return{'skins':_0x95d55b,'instances':_0x184784};}['_getMorphV'+'ertexCount'](_0x13b33c,_0x1fb528,_0xed4af8){for(let _0x4d14f1=0x2*-0xc61+-0x11*-0x225+-0x1*0xbb3;_0x4d14f1<_0x13b33c['meshes']['length'];_0x4d14f1++){const _0x52aef8=_0x13b33c['meshes'][_0x4d14f1];if(_0x52aef8['morph']===_0x1fb528)return _0xed4af8[_0x52aef8['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0xdb0814,_0x205e06,_0x3485d0){const _0x170836=_0xdb0814['model'],_0x1698f2=[],_0x2db34c=[];let _0x376f54,_0x4e976f,_0x227ed0,_0x3e7c97,_0xaf1f5e,_0x387bbe;if(_0x170836['morphs']){const _0x249832=function(_0x16f78d,_0x4c3819,_0x34ae22){const _0x1baf7f=new Float32Array(_0x34ae22*(0xf4d+0x1*0x20f0+-0x303a));for(let _0x5db213=0x2107+0x1157*0x1+-0x325e;_0x5db213<_0x4c3819['length'];_0x5db213++){const _0x374ace=_0x4c3819[_0x5db213]*(-0x2*-0xeb9+-0x1bfa*-0x1+0x1*-0x3969);_0x1baf7f[_0x374ace]=_0x16f78d[_0x5db213*(-0x156f+-0x1a8b+0x2ffd)],_0x1baf7f[_0x374ace+(-0x5*0x34b+0x49*0x6d+0x4df*-0x3)]=_0x16f78d[_0x5db213*(0xb*-0x24a+-0x231e+0x3c4f)+(-0x1*0x65b+0x437*-0x1+0xa93)],_0x1baf7f[_0x374ace+(0x8e*-0x1+0x1b*0x33+-0x4d1*0x1)]=_0x16f78d[_0x5db213*(0x1*0x1226+0x1184+0x23a7*-0x1)+(0xb72+-0x2206+0x1696)];}return _0x1baf7f;};for(_0x376f54=0xcc+-0x1f1a+0x1e4e;_0x376f54<_0x170836['morphs']['length'];_0x376f54++){for(_0x3e7c97=_0x170836['morphs'][_0x376f54]['targets'],_0x387bbe=[],_0x227ed0=this['_getMorphV'+'ertexCount'](_0x170836,_0x376f54,_0x3485d0),_0x4e976f=-0x48f*0x3+-0xf7a+0x11*0x1b7;_0x4e976f<_0x3e7c97['length'];_0x4e976f++){const _0x17c3ed=_0x3e7c97[_0x4e976f]['aabb'],_0x1d05d7=_0x17c3ed['min'],_0x5deb27=_0x17c3ed['max'],_0x4d80a3=new _e(new T((_0x5deb27[-0xd*-0x286+-0xa79+-0x1655]+_0x1d05d7[-0x7*-0x3df+0x14b*-0xb+0x670*-0x2])*(-0x2532+-0x1*0x20ed+0x461f+0.5),(_0x5deb27[-0x25f*-0x1+0x9c5*0x2+-0x15e8]+_0x1d05d7[-0xca6+0x1528+-0x881])*(-0x23c3+0x32f*-0x1+-0x5*-0x7ca+0.5),(_0x5deb27[-0x623+0x1837+-0x606*0x3]+_0x1d05d7[0xd2f+-0x2411+0x16e4])*(-0xe80+-0x1f61+-0x1b3*-0x1b+0.5)),new T((_0x5deb27[0x81a*-0x1+0x482+0x398]-_0x1d05d7[0x21bb*-0x1+-0x2*-0x209+0x1da9])*(-0x1c17+0xf85*-0x1+0x1*0x2b9c+0.5),(_0x5deb27[-0x2409+-0x514+0x13*0x22a]-_0x1d05d7[0x131b+0xa*-0xde+-0xa6e])*(-0x1613*-0x1+-0x3e+0x45*-0x51+0.5),(_0x5deb27[-0x1b75+-0x1*0x18f6+0x346d]-_0x1d05d7[0x1c6c+0x7b2+-0x907*0x4])*(0x1c65+-0x1d25+0xc0+0.5))),_0x28a64c=_0x3e7c97[_0x4e976f]['indices'];let _0xf39767=_0x3e7c97[_0x4e976f]['deltaPosit'+'ions'],_0x452daa=_0x3e7c97[_0x4e976f]['deltaNorma'+'ls'];_0x28a64c&&(_0xf39767=_0x249832(_0xf39767,_0x28a64c,_0x227ed0),_0x452daa=_0x249832(_0x452daa,_0x28a64c,_0x227ed0)),_0xaf1f5e=new Qc({'deltaPositions':_0xf39767,'deltaNormals':_0x452daa,'name':_0x3e7c97[_0x4e976f]['name'],'aabb':_0x4d80a3}),_0x387bbe['push'](_0xaf1f5e);}const _0x1e9b8b=new F0(_0x387bbe,this['_device']);_0x1698f2['push'](_0x1e9b8b);const _0x27f32a=new fn(_0x1e9b8b);_0x2db34c['push'](_0x27f32a);}}return{'morphs':_0x1698f2,'instances':_0x2db34c};}['_parseVert'+'exBuffers'](_0x888e28){const _0x3a3b4f=_0x888e28['model'],_0x132dc9=[],_0x34c6a6={'position':He,'normal':Yt,'tangent':Zs,'blendWeight':Ys,'blendIndices':qt,'color':At,'texCoord0':ns,'texCoord1':_n,'texCoord2':jo,'texCoord3':Yo,'texCoord4':Ko,'texCoord5':Zo,'texCoord6':Qo,'texCoord7':Jo};for(let _0x12c24b=-0xef8+-0x2*-0xb15+-0x732;_0x12c24b<_0x3a3b4f['vertices']['length'];_0x12c24b++){const _0x50f486=_0x3a3b4f['vertices'][_0x12c24b],_0x44dde8=[];for(const _0x2ff17d in _0x50f486){const _0x5ed76c=_0x50f486[_0x2ff17d];_0x44dde8['push']({'semantic':_0x34c6a6[_0x2ff17d],'components':_0x5ed76c['components'],'type':tL[_0x5ed76c['type']],'normalize':_0x34c6a6[_0x2ff17d]===At});}const _0xce8953=new Et(this['_device'],_0x44dde8),_0x1cc778=_0x50f486['position']['data']['length']/_0x50f486['position']['components'],_0x6cb760=new os(this['_device'],_0xce8953,_0x1cc778),_0x4d8174=new go(_0x6cb760);for(let _0x360a07=0x23bc+-0x1766+-0xc56;_0x360a07<_0x1cc778;_0x360a07++){for(const _0x37aba0 in _0x50f486){const _0xd1461d=_0x50f486[_0x37aba0];switch(_0xd1461d['components']){case 0x1403+-0x2a7*0x7+-0x171:_0x4d8174['element'][_0x34c6a6[_0x37aba0]]['set'](_0xd1461d['data'][_0x360a07]);break;case-0xbfb*-0x1+-0x10*0x1d+-0xa29:_0x4d8174['element'][_0x34c6a6[_0x37aba0]]['set'](_0xd1461d['data'][_0x360a07*(-0x14d1+0xd*0xde+0x98d)],-0x1118+-0xf16*-0x1+0x203-_0xd1461d['data'][_0x360a07*(0x1303+-0x90*-0x1d+0x1*-0x2351)+(0x70f+-0x7a7+0x99*0x1)]);break;case-0x2*-0x141+-0x23b0+0x2131:_0x4d8174['element'][_0x34c6a6[_0x37aba0]]['set'](_0xd1461d['data'][_0x360a07*(0xb42+-0x1*0x18d7+-0x15c*-0xa)],_0xd1461d['data'][_0x360a07*(0x1*0x99d+-0x1309*-0x1+-0x1ca3)+(-0x23f4+-0x57b+0x2970)],_0xd1461d['data'][_0x360a07*(0x136d+0x2fd+-0x1667)+(0x25*-0x2+-0xa40+0x19*0x6c)]);break;case-0x1*-0x1c73+-0x12*-0x1bb+-0x3b95:_0x4d8174['element'][_0x34c6a6[_0x37aba0]]['set'](_0xd1461d['data'][_0x360a07*(0xf4c+-0xa32+-0x516)],_0xd1461d['data'][_0x360a07*(-0x1a66+-0x3a*0x59+0x16*0x21e)+(0x17be+-0x20ff+0x942)],_0xd1461d['data'][_0x360a07*(-0x770+0x111b+-0x161*0x7)+(-0x1396+-0x574+0x190c)],_0xd1461d['data'][_0x360a07*(0xd5*0x1+-0x10bc+0x19*0xa3)+(0x1*-0x1a99+0x33*-0x6d+-0x8b*-0x59)]);break;}}_0x4d8174['next']();}_0x4d8174['end'](),_0x132dc9['push'](_0x6cb760);}return _0x132dc9;}['_parseInde'+'xBuffers'](_0x170b85,_0x1df7fb){const _0x11a292=_0x170b85['model'];let _0x5df855=null,_0x22708f=null,_0x5abe1b,_0x27febf=0x1*0xea5+0x68b+-0xe2*0x18;for(_0x5abe1b=-0x971*-0x1+0x1*-0x1367+0x66*0x19;_0x5abe1b<_0x11a292['meshes']['length'];_0x5abe1b++){const _0x796d98=_0x11a292['meshes'][_0x5abe1b];_0x796d98['indices']!==void(-0x3*0x827+0x1cdb+-0x1*0x466)&&(_0x27febf+=_0x796d98['indices']['length']);}let _0x4a594e=-0x36*-0xad+-0x1ebf+0x5bf*-0x1;for(_0x5abe1b=-0x2696+-0x10b*0x1a+0x41b4;_0x5abe1b<_0x1df7fb['length'];_0x5abe1b++)_0x4a594e=Math['max'](_0x4a594e,_0x1df7fb[_0x5abe1b]['numVertice'+'s']);return _0x27febf>0x3*-0x63+0x7*-0x33e+0x1f*0xc5&&(_0x4a594e>0x1*-0xfab5+0x3*0x1d9d+0x1a1dd?(_0x5df855=new lr(this['_device'],nr,_0x27febf),_0x22708f=new Uint32Array(_0x5df855['lock']())):(_0x5df855=new lr(this['_device'],Pi,_0x27febf),_0x22708f=new Uint16Array(_0x5df855['lock']()))),{'buffer':_0x5df855,'data':_0x22708f};}['_parseMesh'+'es'](_0xa3c81f,_0x4ab733,_0x164377,_0x3e5755,_0x5a1459,_0x27ff73){const _0x3c0d60=_0xa3c81f['model'],_0x21184b=[];let _0x1f8838=0x2b7*0x6+-0x148*0x15+-0x12e*-0x9;for(let _0x5b4e9a=0x83f*-0x3+0x244b+-0xb8e;_0x5b4e9a<_0x3c0d60['meshes']['length'];_0x5b4e9a++){const _0x48eb51=_0x3c0d60['meshes'][_0x5b4e9a],_0x54113f=_0x48eb51['aabb'],_0x18053f=_0x54113f['min'],_0x5a76c6=_0x54113f['max'],_0x769488=new _e(new T((_0x5a76c6[-0x1e71*-0x1+0xd*-0xe+-0xb1*0x2b]+_0x18053f[-0x1f16+-0x2bf*0xe+-0xb2*-0x64])*(-0x206+-0x828+0x517*0x2+0.5),(_0x5a76c6[0x6*0x4b1+-0x22f7+0x6d2]+_0x18053f[0x2698+0x369+0x54*-0x80])*(-0xf92+-0x30a+-0x94e*-0x2+0.5),(_0x5a76c6[-0xbef+0x14*0x12+0xa89]+_0x18053f[-0x254b+0x210a*-0x1+0x4657])*(0x1c24+0x18bc+-0x34e0+0.5)),new T((_0x5a76c6[-0x150a+-0x4*-0x224+0x1*0xc7a]-_0x18053f[0x15b2+-0x1dca+0x94*0xe])*(-0x1059+0x171d+-0x6c4*0x1+0.5),(_0x5a76c6[-0x844+0x2293+-0x1a4e]-_0x18053f[0x230b*-0x1+-0x3*0x9a5+0xb*0x5d1])*(0x213c+0x1*0x68+-0x21a4+0.5),(_0x5a76c6[-0x3d7*-0x4+0x40c*0x6+-0x27a2]-_0x18053f[-0x2*-0x136a+0x22eb+-0x49bd])*(-0xa1*-0x2b+0x1b4e+-0x3659+0.5))),_0x24b1c4=_0x48eb51['indices']!==void(-0x1324+-0x1*0x60d+0x1931),_0x5573ca=new Ie(this['_device']);_0x5573ca['vertexBuff'+'er']=_0x3e5755[_0x48eb51['vertices']],_0x5573ca['indexBuffe'+'r'][0x2057+-0x1*-0x3b3+-0x240a]=_0x24b1c4?_0x5a1459:null,_0x5573ca['primitive'][0x35*-0x37+-0x26e5+0x3248]['type']=eL[_0x48eb51['type']],_0x5573ca['primitive'][-0x1b*0x8f+0x423+0x6*0x1d3]['base']=_0x24b1c4?_0x48eb51['base']+_0x1f8838:_0x48eb51['base'],_0x5573ca['primitive'][-0x1ae6+0x1*0x2183+-0x69d]['count']=_0x48eb51['count'],_0x5573ca['primitive'][-0x9*0x205+-0x9d1+0x1bfe]['indexed']=_0x24b1c4,_0x5573ca['skin']=_0x48eb51['skin']!==void(-0x14e7+-0x11e1+0x9b2*0x4)?_0x4ab733[_0x48eb51['skin']]:null,_0x5573ca['morph']=_0x48eb51['morph']!==void(-0x2350+-0x7b+-0x31*-0xbb)?_0x164377[_0x48eb51['morph']]:null,_0x5573ca['aabb']=_0x769488,_0x24b1c4&&(_0x27ff73['set'](_0x48eb51['indices'],_0x1f8838),_0x1f8838+=_0x48eb51['indices']['length']),_0x21184b['push'](_0x5573ca);}return _0x5a1459!==null&&_0x5a1459['unlock'](),_0x21184b;}['_parseMesh'+'Instances'](_0x112a51,_0x3036f0,_0x451890,_0x418649,_0x1d9c63,_0x4f92df,_0x4c95ad){const _0x386b44=_0x112a51['model'],_0x44f7b5=[];let _0x27a5e1;for(_0x27a5e1=-0x1e6c+0x14b0+0x164*0x7;_0x27a5e1<_0x386b44['meshInstan'+'ces']['length'];_0x27a5e1++){const _0x3685a1=_0x386b44['meshInstan'+'ces'][_0x27a5e1],_0x2cc471=_0x3036f0[_0x3685a1['node']],_0x580e11=_0x451890[_0x3685a1['mesh']],_0x145edb=new Le(_0x580e11,this['_defaultMa'+'terial'],_0x2cc471);if(_0x580e11['skin']){const _0x11fafc=_0x418649['indexOf'](_0x580e11['skin']);if(_0x11fafc===-(-0xb*-0x28b+0x23*-0x103+0x771))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x145edb['skinInstan'+'ce']=_0x1d9c63[_0x11fafc];}if(_0x580e11['morph']){const _0x1095aa=_0x4f92df['indexOf'](_0x580e11['morph']);if(_0x1095aa===-(-0x445*0x8+0x1*0x101f+0x120a))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x145edb['morphInsta'+'nce']=_0x4c95ad[_0x1095aa];}_0x44f7b5['push'](_0x145edb);}return _0x44f7b5;}}class iL extends Ne{constructor(_0x40dc6c){super(_0x40dc6c,'model'),this['_parsers']=[],this['device']=_0x40dc6c['graphicsDe'+'vice'],this['assets']=_0x40dc6c['assets'],this['defaultMat'+'erial']=al(this['device']),this['addParser'](new sL(this),(_0x3b4db6,_0x519dd2)=>fe['getExtensi'+'on'](_0x3b4db6)==='.json'),this['addParser'](new J2(this),(_0x566bf3,_0x43d256)=>fe['getExtensi'+'on'](_0x566bf3)==='.glb');}['load'](_0x1ee8e3,_0x409698,_0x25383e){typeof _0x1ee8e3=='string'&&(_0x1ee8e3={'load':_0x1ee8e3,'original':_0x1ee8e3});const _0x14c9d8={'retry':this['maxRetries']>-0x49*0xe+0x1004+-0x402*0x3,'maxRetries':this['maxRetries']};(_0x1ee8e3['load']['startsWith']('blob:')||_0x1ee8e3['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0x1ee8e3['original'])['toLowerCas'+'e']()==='.glb'?_0x14c9d8['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x14c9d8['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x1ee8e3['load'],_0x14c9d8,(_0x2b91e4,_0x287b3d)=>{if(_0x409698){if(_0x2b91e4)_0x409698('Error\x20load'+'ing\x20model:'+'\x20'+_0x1ee8e3['original']+'\x20['+_0x2b91e4+']');else{for(let _0xa25dcc=-0x18bf+-0x16c6+0x2f85;_0xa25dcc<this['_parsers']['length'];_0xa25dcc++){const _0x5479df=this['_parsers'][_0xa25dcc];if(_0x5479df['decider'](_0x1ee8e3['original'],_0x287b3d)){_0x5479df['parser']['parse'](_0x287b3d,(_0x203ed6,_0x214ed8)=>{_0x203ed6?_0x409698(_0x203ed6):_0x409698(null,_0x214ed8);},_0x25383e);return;}}_0x409698('No\x20parsers'+'\x20found');}}});}['open'](_0x1c21b1,_0x13cd4b){return _0x13cd4b;}['patch'](_0x55ac6c,_0x5ec505){if(!_0x55ac6c['resource'])return;const _0x5523f6=_0x55ac6c['data'],_0x1823a5=this;_0x55ac6c['resource']['meshInstan'+'ces']['forEach']((_0x351a6b,_0x148a21)=>{if(_0x5523f6['mapping']){const _0x2e6832=function(_0x221168){_0x221168['resource']?_0x351a6b['material']=_0x221168['resource']:(_0x221168['once']('load',_0x2e6832),_0x5ec505['load'](_0x221168)),_0x221168['once']('remove',_0x2395e2=>{_0x351a6b['material']===_0x2395e2['resource']&&(_0x351a6b['material']=_0x1823a5['defaultMat'+'erial']);});};if(!_0x5523f6['mapping'][_0x148a21]){_0x351a6b['material']=_0x1823a5['defaultMat'+'erial'];return;}const _0x3b1661=_0x5523f6['mapping'][_0x148a21]['material'],_0x57e3c8=_0x5523f6['mapping'][_0x148a21]['path'];let _0x3efc93;if(_0x3b1661!==void(-0x352+-0x30*0x97+0x1fa2))_0x3b1661?(_0x3efc93=_0x5ec505['get'](_0x3b1661),_0x3efc93?_0x2e6832(_0x3efc93):_0x5ec505['once']('add:'+_0x3b1661,_0x2e6832)):_0x351a6b['material']=_0x1823a5['defaultMat'+'erial'];else{if(_0x57e3c8){const _0x1cb089=_0x55ac6c['getAbsolut'+'eUrl'](_0x5523f6['mapping'][_0x148a21]['path']);_0x3efc93=_0x5ec505['getByUrl'](_0x1cb089),_0x3efc93?_0x2e6832(_0x3efc93):_0x5ec505['once']('add:url:'+_0x1cb089,_0x2e6832);}}}});}['addParser'](_0x5af26f,_0xf7d2b9){this['_parsers']['push']({'parser':_0x5af26f,'decider':_0xf7d2b9});}}class rL extends Ne{constructor(_0x1c9f72){super(_0x1c9f72,'scene');}['load'](_0x40878f,_0x2d36a7){Lx['load'](_0x40878f,this['maxRetries'],_0x2d36a7);}['open'](_0x453acd,_0x31f027){this['_app']['systems']['script']['preloading']=!(0x5*-0x792+-0xfcb+0x35a5);const _0x1e64b1=new Wp(this['_app'],!(-0x1e5f+-0x2*0xa36+0x2*0x1966))['parse'](_0x31f027),_0x2d5607=this['_app']['scene'];return _0x2d5607['root']=_0x1e64b1,this['_app']['applyScene'+'Settings'](_0x31f027['settings']),this['_app']['systems']['script']['preloading']=!(-0x21fb+0x207a+0x182),_0x2d5607;}}const hc=class hc{static['push'](_0xab5ecc){hc['_types']['push'](_0xab5ecc);}};c(hc,'_types',[]);let Xr=hc;const nL=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),aL={};Ho['reservedNa'+'mes']['forEach']((_0x21d43b,_0x5a7f73,_0x1958ef)=>{aL[_0x21d43b]=-0xc12+0x7*0x2f5+0x2*-0x450;});function oL(_0x4a8eb0,_0x483bc8,_0x574082){if(typeof _0x4a8eb0!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x4a8eb0+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x4a8eb0['prototype']instanceof Ht))throw new Error('script\x20cla'+'ss:\x20\x27'+Qh['__getScrip'+'tName'](_0x4a8eb0)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x483bc8=_0x483bc8||_0x4a8eb0['__name']||Qh['__getScrip'+'tName'](_0x4a8eb0),nL['has'](_0x483bc8))throw new Error('script\x20nam'+'e:\x20\x27'+_0x483bc8+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x4a8eb0['__name']=_0x483bc8,qh['getApplica'+'tion']()['scripts']['add'](_0x4a8eb0),Xr['push'](_0x4a8eb0);}const lL=_0x2be62d=>_0x2be62d[-0x1588+0xdc7*0x1+0x7c1*0x1]['toLowerCas'+'e']()+_0x2be62d['substring'](0x24ff+0x1*0xe4b+-0x13*0x2b3);class hL extends Ne{constructor(_0x2ad370){super(_0x2ad370,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x20518f in this['_cache']){const _0x459d7c=this['_cache'][_0x20518f],_0x4478d0=_0x459d7c['parentNode'];_0x4478d0&&_0x4478d0['removeChil'+'d'](_0x459d7c);}this['_cache']={};}['load'](_0x2d50d0,_0x5c58d5){typeof _0x2d50d0=='string'&&(_0x2d50d0={'load':_0x2d50d0,'original':_0x2d50d0});const _0x16c6fb=this;this['_app'];const _0x3c5a34=(_0x2d50d0['load'],(_0x3d93b8,_0x34cbed,_0x4eec1b)=>{if(_0x3d93b8)_0x5c58d5(_0x3d93b8);else{const _0xc38548={};for(let _0x4ba8d6=-0x26c7+0x1*-0x1521+0x6a8*0x9;_0x4ba8d6<Xr['_types']['length'];_0x4ba8d6++)_0xc38548[Xr['_types'][_0x4ba8d6]['name']]=Xr['_types'][_0x4ba8d6];Xr['_types']['length']=-0x13a*0x4+-0x6aa+0xb92*0x1,_0x5c58d5(null,_0xc38548,_0x4eec1b);const _0x385dac=_0x34cbed['split']('&hash=')[-0x33*0x11+-0x1115*-0x2+-0x1ec7];delete _0x16c6fb['_loader']['_cache'][pa['makeKey'](_0x385dac,'script')];}}),[_0x31a882]=_0x2d50d0['load']['split']('?');_0x31a882['endsWith']('.mjs')?this['_loadModul'+'e'](_0x31a882,_0x3c5a34):this['_loadScrip'+'t'](_0x2d50d0['load'],_0x3c5a34);}['open'](_0x40106e,_0x3e476b){return _0x3e476b;}['patch'](_0xf4cb57,_0x200446){}['_loadScrip'+'t'](_0x5c64d1,_0x542b6b){const _0x5a8a2c=document['head'],_0x4e10ce=document['createElem'+'ent']('script');this['_cache'][_0x5c64d1]=_0x4e10ce,_0x4e10ce['async']=!(-0x15b4+-0x13b*-0x1c+-0xcbf*0x1),_0x4e10ce['addEventLi'+'stener']('error',_0x30ac37=>{_0x542b6b('Script:\x20'+_0x30ac37['target']['src']+('\x20failed\x20to'+'\x20load'));},!(0x4*0x727+-0xdc4*0x1+-0xed7));let _0x6467f6=!(0x2*-0xb7e+0x5b4*0x1+-0xf*-0x127);_0x4e10ce['onload']=_0x4e10ce['onreadysta'+'techange']=function(){!_0x6467f6&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x6467f6=!(-0x3bb*0x1+-0x1*-0x1147+-0x66*0x22),_0x542b6b(null,_0x5c64d1,_0x4e10ce));},_0x4e10ce['src']=_0x5c64d1,_0x5a8a2c['appendChil'+'d'](_0x4e10ce);}['_loadModul'+'e'](_0x5b92c4,_0x194f26){const _0x20640a=ye['browser']?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0xa543fd=new URL(_0x5b92c4,_0x20640a);import(_0xa543fd['toString']())['then'](_0x276a9c=>{var _0x557d9b,_0x40da2c;const _0x4e3eaf=_0xa543fd['pathname']['split']('/')['pop'](),_0x380b61=(_0x40da2c=(_0x557d9b=this['_app']['assets']['find'](_0x4e3eaf,'script'))==null?void(-0x190+0x3cf+-0x19*0x17):_0x557d9b['data'])==null?void(-0x1f70+-0x32*0x8f+0x3b5e):_0x40da2c['scripts'];for(const _0x2f4365 in _0x276a9c){const _0x4e0713=_0x276a9c[_0x2f4365];if(_0x4e0713['prototype']instanceof Ht){const _0x3337b3=lL(_0x4e0713['name']);oL(_0x4e0713,_0x3337b3),_0x380b61&&this['_app']['scripts']['addSchema'](_0x3337b3,_0x380b61[_0x3337b3]);}}_0x194f26(null,_0x5b92c4,null);})['catch'](_0x23163b=>{_0x194f26(_0x23163b);});}}class cL extends Ne{constructor(_0x1a4d30){super(_0x1a4d30,'shader'),c(this,'decoder',null);}['load'](_0xaaa22a,_0xd4b134){typeof _0xaaa22a=='string'&&(_0xaaa22a={'load':_0xaaa22a,'original':_0xaaa22a}),$e['get'](_0xaaa22a['load'],{'retry':this['maxRetries']>0xa*0x265+-0x7cf*-0x5+-0x3efd,'maxRetries':this['maxRetries']},(_0x430582,_0x3729c2)=>{_0x430582?_0xd4b134('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0xaaa22a['original']+'\x20['+_0x430582+']'):_0xd4b134(null,_0x3729c2);});}['openBinary'](_0x4ae6b1){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x4ae6b1);}}function eu(_0x364a9b){const _0x47f963=this;_0x47f963['resource']&&(_0x47f963['resource']['atlas']=_0x364a9b['resource']);}function tu(_0x1e2440){this['registry']['load'](_0x1e2440);}class dL extends Ne{constructor(_0x463070){super(_0x463070,'sprite'),this['_assets']=_0x463070['assets'],this['_device']=_0x463070['graphicsDe'+'vice'];}['load'](_0x17ee78,_0x1857ac){typeof _0x17ee78=='string'&&(_0x17ee78={'load':_0x17ee78,'original':_0x17ee78}),fe['getExtensi'+'on'](_0x17ee78['original'])==='.json'&&$e['get'](_0x17ee78['load'],{'retry':this['maxRetries']>-0x11e2+0x1104+-0x1*-0xde,'maxRetries':this['maxRetries']},(_0x2c5c9b,_0x9959f9)=>{_0x2c5c9b?_0x1857ac(_0x2c5c9b):_0x1857ac(null,_0x9959f9);});}['open'](_0x405ad1,_0x3a7834){const _0x2327ad=new T1(this['_device']);return _0x405ad1&&(_0x2327ad['__data']=_0x3a7834),_0x2327ad;}['patch'](_0x3e8dae,_0x1c49af){const _0x150c45=_0x3e8dae['resource'];if(_0x150c45['__data']&&(_0x3e8dae['data']['pixelsPerU'+'nit']=_0x150c45['__data']['pixelsPerU'+'nit'],_0x3e8dae['data']['renderMode']=_0x150c45['__data']['renderMode'],_0x3e8dae['data']['frameKeys']=_0x150c45['__data']['frameKeys'],_0x150c45['__data']['textureAtl'+'asAsset'])){const _0xc8371c=_0x1c49af['getByUrl'](_0x150c45['__data']['textureAtl'+'asAsset']);_0xc8371c?_0x3e8dae['data']['textureAtl'+'asAsset']=_0xc8371c['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x150c45['__data']['textureAtl'+'asAsset']);}_0x150c45['startUpdat'+'e'](),_0x150c45['renderMode']=_0x3e8dae['data']['renderMode'],_0x150c45['pixelsPerU'+'nit']=_0x3e8dae['data']['pixelsPerU'+'nit'],_0x150c45['frameKeys']=_0x3e8dae['data']['frameKeys'],this['_updateAtl'+'as'](_0x3e8dae),_0x150c45['endUpdate'](),_0x3e8dae['off']('change',this['_onAssetCh'+'ange'],this),_0x3e8dae['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x2fffca){const _0x2ffb54=_0x2fffca['resource'];if(!_0x2fffca['data']['textureAtl'+'asAsset']){_0x2ffb54['atlas']=null;return;}this['_assets']['off']('load:'+_0x2fffca['data']['textureAtl'+'asAsset'],eu,_0x2fffca),this['_assets']['on']('load:'+_0x2fffca['data']['textureAtl'+'asAsset'],eu,_0x2fffca);const _0x30567f=this['_assets']['get'](_0x2fffca['data']['textureAtl'+'asAsset']);_0x30567f&&_0x30567f['resource']?_0x2ffb54['atlas']=_0x30567f['resource']:_0x30567f?this['_assets']['load'](_0x30567f):(this['_assets']['off']('add:'+_0x2fffca['data']['textureAtl'+'asAsset'],tu,_0x2fffca),this['_assets']['on']('add:'+_0x2fffca['data']['textureAtl'+'asAsset'],tu,_0x2fffca));}['_onAssetCh'+'ange'](_0x2907b2,_0x406a9d,_0x4bb83a,_0x35a980){_0x406a9d==='data'&&_0x4bb83a&&_0x4bb83a['textureAtl'+'asAsset']&&_0x35a980&&_0x4bb83a['textureAtl'+'asAsset']!==_0x35a980['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x35a980['textureAtl'+'asAsset'],eu,_0x2907b2),this['_assets']['off']('add:'+_0x35a980['textureAtl'+'asAsset'],tu,_0x2907b2));}}class Gg{constructor(_0x1e8256,_0x7c44df){c(this,'_app'),c(this,'_data'),c(this,'_templateR'+'oot',null),(this['_app']=_0x1e8256,this['_data']=_0x7c44df);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x58012b=new Wp(this['_app'],!(-0xb1e*0x3+0x22f6*0x1+-0x19c));this['_templateR'+'oot']=_0x58012b['parse'](this['_data']);}}class uL extends Ne{constructor(_0x4dc3fc){super(_0x4dc3fc,'template'),c(this,'decoder',null);}['load'](_0x49dad3,_0x571758){typeof _0x49dad3=='string'&&(_0x49dad3={'load':_0x49dad3,'original':_0x49dad3});const _0x291ad2={'retry':this['maxRetries']>-0x1ae7+-0x15c9+0x8*0x616,'maxRetries':this['maxRetries']};$e['get'](_0x49dad3['load'],_0x291ad2,(_0x57a19b,_0x21908d)=>{_0x57a19b?_0x571758('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x49dad3['original']):_0x571758(_0x57a19b,_0x21908d);});}['open'](_0x146832,_0x302dfd){return new Gg(this['_app'],_0x302dfd);}['openBinary'](_0x104ec8){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new Gg(this['_app'],JSON['parse'](this['decoder']['decode'](_0x104ec8)));}}class fL extends Ne{constructor(_0x46a005){super(_0x46a005,'text'),c(this,'decoder',null);}['load'](_0x2d89c4,_0x2bc910){typeof _0x2d89c4=='string'&&(_0x2d89c4={'load':_0x2d89c4,'original':_0x2d89c4}),$e['get'](_0x2d89c4['load'],{'retry':this['maxRetries']>0xb62+-0x2654+0x1af2*0x1,'maxRetries':this['maxRetries']},(_0x296a97,_0x191553)=>{_0x296a97?_0x2bc910('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x2d89c4['original']+'\x20['+_0x296a97+']'):_0x2bc910(null,_0x191553);});}['openBinary'](_0x1b801c){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x1b801c);}}const th={'repeat':tt,'clamp':ae,'mirror':Of},sh={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},pL=/^data\.frames\.(\d+)$/;class mL extends Ne{constructor(_0x4c3f37){super(_0x4c3f37,'textureatl'+'as'),this['_loader']=_0x4c3f37['loader'];}['load'](_0x283e72,_0x5b2395){typeof _0x283e72=='string'&&(_0x283e72={'load':_0x283e72,'original':_0x283e72});const _0x19a847=this,_0x488b3c=this['_loader']['getHandler']('texture');fe['getExtensi'+'on'](_0x283e72['original'])==='.json'?$e['get'](_0x283e72['load'],{'retry':this['maxRetries']>0x2f*0xbb+0xc99+-0x2eee,'maxRetries':this['maxRetries']},(_0x583e58,_0x30d6ee)=>{if(_0x583e58)_0x5b2395(_0x583e58);else{const _0x5cdeec=_0x283e72['original']['replace']('.json','.png');_0x19a847['_loader']['load'](_0x5cdeec,'texture',(_0x26f260,_0x45a012)=>{_0x26f260?_0x5b2395(_0x26f260):_0x5b2395(null,{'data':_0x30d6ee,'texture':_0x45a012});});}}):_0x488b3c['load'](_0x283e72,_0x5b2395);}['open'](_0x2dfbc5,_0x38b824,_0x56563d){const _0xb7bfc2=new A1();if(_0x38b824['texture']&&_0x38b824['data'])_0xb7bfc2['texture']=_0x38b824['texture'],_0xb7bfc2['__data']=_0x38b824['data'];else{const _0x2be127=this['_loader']['getHandler']('texture')['open'](_0x2dfbc5,_0x38b824,_0x56563d);if(!_0x2be127)return null;_0xb7bfc2['texture']=_0x2be127;}return _0xb7bfc2;}['patch'](_0x37daea,_0x356bc8){if(!_0x37daea['resource'])return;_0x37daea['resource']['__data']&&(_0x37daea['resource']['__data']['minfilter']!==void(0xb*0x9f+0x1*-0x1277+-0xba2*-0x1)&&(_0x37daea['data']['minfilter']=_0x37daea['resource']['__data']['minfilter']),_0x37daea['resource']['__data']['magfilter']!==void(-0x4*-0x6e3+-0x2*0x617+-0xf5e)&&(_0x37daea['data']['magfilter']=_0x37daea['resource']['__data']['magfilter']),_0x37daea['resource']['__data']['addressu']!==void(0x4f6*-0x1+-0x1d1f+0x5*0x6d1)&&(_0x37daea['data']['addressu']=_0x37daea['resource']['__data']['addressu']),_0x37daea['resource']['__data']['addressv']!==void(-0x1*0x2c5+0x9df+-0x9*0xca)&&(_0x37daea['data']['addressv']=_0x37daea['resource']['__data']['addressv']),_0x37daea['resource']['__data']['mipmaps']!==void(0x1de4+0x8d*0x23+-0x1*0x312b)&&(_0x37daea['data']['mipmaps']=_0x37daea['resource']['__data']['mipmaps']),_0x37daea['resource']['__data']['anisotropy']!==void(-0x23a9+0xf67+0x1442*0x1)&&(_0x37daea['data']['anisotropy']=_0x37daea['resource']['__data']['anisotropy']),_0x37daea['resource']['__data']['rgbm']!==void(-0x5*0x5d2+0x10*0x1c5+-0xca*-0x1)&&(_0x37daea['data']['rgbm']=!!_0x37daea['resource']['__data']['rgbm']),_0x37daea['data']['frames']=_0x37daea['resource']['__data']['frames'],delete _0x37daea['resource']['__data']);const _0x4e1cc7=_0x37daea['resource']['texture'];if(_0x4e1cc7&&(_0x4e1cc7['name']=_0x37daea['name'],_0x37daea['data']['hasOwnProp'+'erty']('minfilter')&&_0x4e1cc7['minFilter']!==sh[_0x37daea['data']['minfilter']]&&(_0x4e1cc7['minFilter']=sh[_0x37daea['data']['minfilter']]),_0x37daea['data']['hasOwnProp'+'erty']('magfilter')&&_0x4e1cc7['magFilter']!==sh[_0x37daea['data']['magfilter']]&&(_0x4e1cc7['magFilter']=sh[_0x37daea['data']['magfilter']]),_0x37daea['data']['hasOwnProp'+'erty']('addressu')&&_0x4e1cc7['addressU']!==th[_0x37daea['data']['addressu']]&&(_0x4e1cc7['addressU']=th[_0x37daea['data']['addressu']]),_0x37daea['data']['hasOwnProp'+'erty']('addressv')&&_0x4e1cc7['addressV']!==th[_0x37daea['data']['addressv']]&&(_0x4e1cc7['addressV']=th[_0x37daea['data']['addressv']]),_0x37daea['data']['hasOwnProp'+'erty']('mipmaps')&&_0x4e1cc7['mipmaps']!==_0x37daea['data']['mipmaps']&&(_0x4e1cc7['mipmaps']=_0x37daea['data']['mipmaps']),_0x37daea['data']['hasOwnProp'+'erty']('anisotropy')&&_0x4e1cc7['anisotropy']!==_0x37daea['data']['anisotropy']&&(_0x4e1cc7['anisotropy']=_0x37daea['data']['anisotropy']),_0x37daea['data']['hasOwnProp'+'erty']('rgbm'))){const _0x195bf9=_0x37daea['data']['rgbm']?on:Di;_0x4e1cc7['type']!==_0x195bf9&&(_0x4e1cc7['type']=_0x195bf9);}_0x37daea['resource']['texture']=_0x4e1cc7;const _0xdd7f3={};for(const _0x161ada in _0x37daea['data']['frames']){const _0x2bdb11=_0x37daea['data']['frames'][_0x161ada];_0xdd7f3[_0x161ada]={'rect':new Q(_0x2bdb11['rect']),'pivot':new W(_0x2bdb11['pivot']),'border':new Q(_0x2bdb11['border'])};}_0x37daea['resource']['frames']=_0xdd7f3,_0x37daea['off']('change',this['_onAssetCh'+'ange'],this),_0x37daea['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x575d5f,_0x1742d3,_0x290bbb){let _0x2285f2;if(_0x1742d3==='data'||_0x1742d3==='data.frame'+'s'){const _0x44b976={};for(const _0x32eed3 in _0x290bbb['frames'])_0x2285f2=_0x290bbb['frames'][_0x32eed3],_0x44b976[_0x32eed3]={'rect':new Q(_0x2285f2['rect']),'pivot':new W(_0x2285f2['pivot']),'border':new Q(_0x2285f2['border'])};_0x575d5f['resource']['frames']=_0x44b976;}else{const _0x5f1d75=_0x1742d3['match'](pL);if(_0x5f1d75){const _0x123782=_0x5f1d75[0xca*-0x14+0xe5*0x16+-0x3e5];_0x290bbb?(_0x575d5f['resource']['frames'][_0x123782]?(_0x2285f2=_0x575d5f['resource']['frames'][_0x123782],_0x2285f2['rect']['set'](_0x290bbb['rect'][0x32*0x35+-0x14*-0xd+-0x1e*0x61],_0x290bbb['rect'][-0x2*-0x9b9+-0x93e+-0xa33],_0x290bbb['rect'][0x173*0x19+-0xa*0x106+0x1*-0x19fd],_0x290bbb['rect'][0x4c*0x29+-0x133*0xb+0x2*0x84]),_0x2285f2['pivot']['set'](_0x290bbb['pivot'][-0x1dee+0x190c+0x4e2],_0x290bbb['pivot'][-0x9*0x2f1+0x183*-0x8+-0x1*-0x2692]),_0x2285f2['border']['set'](_0x290bbb['border'][0x1a3*-0x8+0x8b2+-0x466*-0x1],_0x290bbb['border'][0x1d52+0x1*0x637+-0x2388],_0x290bbb['border'][-0xe*-0x209+-0x454*-0x5+-0x3220],_0x290bbb['border'][0xff1+0x21ab+0x3199*-0x1])):_0x575d5f['resource']['frames'][_0x123782]={'rect':new Q(_0x290bbb['rect']),'pivot':new W(_0x290bbb['pivot']),'border':new Q(_0x290bbb['border'])},_0x575d5f['resource']['fire']('set:frame',_0x123782,_0x575d5f['resource']['frames'][_0x123782])):_0x575d5f['resource']['frames'][_0x123782]&&(delete _0x575d5f['resource']['frames'][_0x123782],_0x575d5f['resource']['fire']('remove:fra'+'me',_0x123782));}}}}function _L(){const _0x5452d9={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x134153={'astc':_0x5452d9['cTFASTC_4x'+'4'],'dxt':_0x5452d9['cTFBC1'],'etc1':_0x5452d9['cTFETC1'],'etc2':_0x5452d9['cTFETC1'],'pvr':_0x5452d9['cTFPVRTC1_'+'4_RGB'],'atc':_0x5452d9['cTFATC_RGB'],'none':_0x5452d9['cTFRGB565']},_0x30f0d2={'astc':_0x5452d9['cTFASTC_4x'+'4'],'dxt':_0x5452d9['cTFBC3'],'etc1':_0x5452d9['cTFRGBA444'+'4'],'etc2':_0x5452d9['cTFETC2'],'pvr':_0x5452d9['cTFPVRTC1_'+'4_RGBA'],'atc':_0x5452d9['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x5452d9['cTFRGBA444'+'4']},_0x192c3d={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x195044=(_0x418647,_0x3171ae)=>{switch(_0x418647){case _0x5452d9['cTFETC1']:return _0x3171ae['formats']['etc2']?_0x192c3d['ETC2_RGB']:_0x192c3d['ETC1'];case _0x5452d9['cTFETC2']:return _0x192c3d['ETC2_RGBA'];case _0x5452d9['cTFBC1']:return _0x192c3d['DXT1'];case _0x5452d9['cTFBC3']:return _0x192c3d['DXT5'];case _0x5452d9['cTFPVRTC1_'+'4_RGB']:return _0x192c3d['PVRTC_4BPP'+'_RGB_1'];case _0x5452d9['cTFPVRTC1_'+'4_RGBA']:return _0x192c3d['PVRTC_4BPP'+'_RGBA_1'];case _0x5452d9['cTFASTC_4x'+'4']:return _0x192c3d['ASTC_4x4'];case _0x5452d9['cTFATC_RGB']:return _0x192c3d['ATC_RGB'];case _0x5452d9['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x192c3d['ATC_RGBA'];case _0x5452d9['cTFRGBA32']:return _0x192c3d['R8_G8_B8_A'+'8'];case _0x5452d9['cTFRGB565']:return _0x192c3d['R5_G6_B5'];case _0x5452d9['cTFRGBA444'+'4']:return _0x192c3d['R4_G4_B4_A'+'4'];}},_0x23894f=_0x4d2d75=>{const _0x10532f=function(_0x23b8e5,_0x49b353){const _0x4d8bb9=_0x23b8e5*(-0x1*-0x2029+-0x33+0x1*-0x1ff6+0.00784313725490196)-(0xc99+0x33*-0x4+0x4*-0x2f3),_0xed853d=_0x49b353*((-0x1c6b+0x10d3+0xb9a)/(0x1ea7+-0x3*0x3b4+-0x128c))-(-0x2*0xac6+-0x1*0x26f1+-0x57*-0xb2),_0x393606=Math['sqrt'](0xb22+-0x1943+0xe22-Math['min'](-0x18d*0xd+-0x9f+0x1*0x14c9,_0x4d8bb9*_0x4d8bb9+_0xed853d*_0xed853d));return Math['max'](0xb*0x389+0x17e3+-0x3ec6,Math['min'](-0x3*-0xb9b+0x161c+-0x37ee,Math['floor']((_0x393606+(0x2471+0x64+-0x126a*0x2))*(-0x175*-0x6+0xfee+-0x18ac*0x1+0.5)*(-0x3db+0x5*-0x6d+-0x1*-0x6fb))));};for(let _0x2d30cd=0x1ec2+0xc85+0x1*-0x2b47;_0x2d30cd<_0x4d2d75['length'];_0x2d30cd+=0x1*0x1786+0x1*0x817+-0x1f99){const _0x1f5492=_0x4d2d75[_0x2d30cd+(-0x2f4+0x9d8+-0x6e1)],_0x1f2196=_0x4d2d75[_0x2d30cd+(0x34d*0x1+0xd4*0x19+0x100*-0x18)];_0x4d2d75[_0x2d30cd+(0x2516+-0x5*0x5a7+-0x3*0x2f1)]=_0x1f5492,_0x4d2d75[_0x2d30cd+(0x262d*0x1+0x188b*0x1+-0x1*0x3eb6)]=_0x10532f(_0x1f5492,_0x1f2196),_0x4d2d75[_0x2d30cd+(-0x1d98+-0x1c4*-0x14+-0x5b5)]=-0x3b*-0x48+-0x97*-0x7+-0x9dd*0x2;}return _0x4d2d75;},_0x28e2cd=_0x3807f1=>{const _0x1afffb=new Uint16Array(_0x3807f1['length']/(0x1aed+-0x754+-0x1395));for(let _0x3383ef=-0x13db+-0x1b64+0x2f3f*0x1;_0x3383ef<_0x3807f1['length'];_0x3383ef+=0x275*-0x7+-0x43c+0x143*0x11){const _0x18faf7=_0x3807f1[_0x3383ef+(0x25*0xe5+-0x31+-0x20e8)],_0x3d61f0=_0x3807f1[_0x3383ef+(-0xb55+0x17f9+-0xca3)],_0x606f10=_0x3807f1[_0x3383ef+(0x3b1+0x10bd+-0x146c)];_0x1afffb[_0x3383ef/(-0xe53+0x1f5e+-0x3*0x5ad)]=(_0x18faf7&0x5*0x35f+0x2608+-0x35eb)<<0x4*-0x452+0xbb6+0xef*0x6|(_0x3d61f0&0x1ba7*-0x1+-0x22bb*0x1+0x3f5e)<<0xd9*-0xe+-0x1494+0x2075|_0x606f10>>-0x1787*0x1+0x14*-0xbd+0x264e;}return _0x1afffb;},_0xdbb5da=(_0x1a813a,_0x24a140)=>(_0x1a813a&_0x1a813a-(0x15e2+-0x1300+0xb*-0x43))===-0x11*-0x21c+0x24ed+-0x3*0x1843&&(_0x24a140&_0x24a140-(0xcda+-0x1*-0x206b+-0x16a2*0x2))===-0x1*0x2589+0x118d+0x13fc,_0x45836f=()=>typeof performance<'u'?performance['now']():0x3d*0x4+0x371*0x2+-0x7d6;let _0x3987ca,_0x54dc4d,_0x54ddc9;const _0x5d0ba6=(_0x1aa6eb,_0x4d2be5,_0x318217)=>{if(_0x318217){if(_0x1aa6eb['formats']['astc'])return'astc';}else{if(_0x4d2be5){if(_0x1aa6eb['formats']['etc2'])return'etc2';}else{if(_0x1aa6eb['formats']['etc2'])return'etc2';if(_0x1aa6eb['formats']['etc1'])return'etc1';}}return(_0x42be17=>{for(let _0x8a0ffb=-0x18ee*0x1+-0x673*0x6+0x3fa0;_0x8a0ffb<_0x42be17['length'];++_0x8a0ffb){const _0x198feb=_0x42be17[_0x8a0ffb];if(_0x1aa6eb['formats'][_0x198feb])return _0x198feb;}return'none';})(_0x4d2be5?_0x54ddc9:_0x54dc4d);},_0x99f0a8=(_0x2a4efd,_0x3b62c7,_0xebc9f6)=>{switch(_0xebc9f6){case _0x5452d9['cTFETC1']:case _0x5452d9['cTFETC2']:return!(-0x4*0x3d7+-0x2*0x218+0x4e3*0x4);case _0x5452d9['cTFBC1']:case _0x5452d9['cTFBC3']:return(_0x2a4efd&-0x140d+0x1*-0x236b+0x7ed*0x7)===-0x859*-0x1+0x12da+-0x1b33&&(_0x3b62c7&0x1be1+0x1ff9+-0x3bd7)===-0xb*-0x91+-0x3bb*0x4+0x8b1;case _0x5452d9['cTFPVRTC1_'+'4_RGB']:case _0x5452d9['cTFPVRTC1_'+'4_RGBA']:return _0xdbb5da(_0x2a4efd,_0x3b62c7);case _0x5452d9['cTFASTC_4x'+'4']:return!(0xfdc+-0xb*-0xfa+-0x1a9a);case _0x5452d9['cTFATC_RGB']:case _0x5452d9['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(0x206c+0x23d4+-0x40*0x111);}return!(-0x193d+-0x41b*0x7+-0x1*-0x35fb);},_0x4e5dad=(_0x5939b8,_0x123f3f,_0x123be8)=>{if(!_0x3987ca['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x1b5a30=_0x45836f(),_0x214658=new _0x3987ca['KTX2File'](new Uint8Array(_0x123f3f)),_0x49d8dd=_0x214658['getWidth'](),_0x362895=_0x214658['getHeight'](),_0x4dc41d=_0x214658['getLevels'](),_0x3bc830=!!_0x214658['getHasAlph'+'a'](),_0x983d7c=_0x214658['isUASTC']&&_0x214658['isUASTC']();if(!_0x49d8dd||!_0x362895||!_0x4dc41d)throw _0x214658['close'](),_0x214658['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x5939b8+'\x20width='+_0x49d8dd+'\x20height='+_0x362895+'\x20levels='+_0x4dc41d);const _0x550be8=_0x5d0ba6(_0x123be8['deviceDeta'+'ils'],_0x3bc830,_0x983d7c),_0x13d954=!!_0x123be8['isGGGR']&&_0x550be8==='pvr';let _0x21b996;if(_0x13d954?_0x21b996=_0x5452d9['cTFRGBA32']:(_0x21b996=_0x3bc830?_0x30f0d2[_0x550be8]:_0x134153[_0x550be8],_0x99f0a8(_0x49d8dd,_0x362895,_0x21b996)||(_0x21b996=_0x3bc830?_0x5452d9['cTFRGBA32']:_0x5452d9['cTFRGB565'])),!_0x214658['startTrans'+'coding']())throw _0x214658['close'](),_0x214658['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x5939b8);let _0x56f9e6;const _0x44fdbb=[];for(let _0x22e772=-0x2e*0x2f+-0x2181*0x1+0x1*0x29f3;_0x22e772<_0x4dc41d;++_0x22e772){const _0x4c827c=_0x214658['getImageTr'+'anscodedSi'+'zeInBytes'](_0x22e772,0x2*0xaf3+-0x83*-0xe+-0x1d10,-0x1*-0x2268+0xc0b*0x3+-0x56d*0xd,_0x21b996),_0x41078e=new Uint8Array(_0x4c827c);if(!_0x214658['transcodeI'+'mage'](_0x41078e,_0x22e772,-0xa11+-0x182*0x12+-0xc67*-0x3,0x1f98+-0x66f+0x71*-0x39,_0x21b996,-0xa9c*-0x3+0xd+-0x1fe1,-(0x2671+0x1fc0+-0x1*0x4630),-(-0x26c1+0x53*0x29+0x1977)))throw _0x214658['close'](),_0x214658['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x5939b8);const _0x59457e=_0x21b996===_0x5452d9['cTFRGB565']||_0x21b996===_0x5452d9['cTFRGBA444'+'4'];_0x44fdbb['push'](_0x59457e?new Uint16Array(_0x41078e['buffer']):_0x41078e);}if(_0x214658['close'](),_0x214658['delete'](),_0x13d954){for(_0x21b996=_0x5452d9['cTFRGB565'],_0x56f9e6=-0x1a61+0x29*0x7f+0x60a;_0x56f9e6<_0x44fdbb['length'];++_0x56f9e6)_0x44fdbb[_0x56f9e6]=_0x28e2cd(_0x23894f(_0x44fdbb[_0x56f9e6]));}return{'format':_0x195044(_0x21b996,_0x123be8['deviceDeta'+'ils']),'width':_0x49d8dd,'height':_0x362895,'levels':_0x44fdbb,'cubemap':!(-0x67b+0xba2*0x3+0x2*-0xe35),'transcodeTime':_0x45836f()-_0x1b5a30,'url':_0x5939b8,'unswizzledGGGR':_0x13d954};},_0x3ee673=(_0x1bdd6e,_0x238904,_0x644d6d)=>{const _0x175744=_0x45836f(),_0xe11dec=new _0x3987ca['BasisFile'](new Uint8Array(_0x238904)),_0x1c1435=_0xe11dec['getImageWi'+'dth'](0x1c81+0x5db+-0x225c,0x7e5+0x939*0x2+-0x1a57),_0x58ab56=_0xe11dec['getImageHe'+'ight'](0x269d+-0xa*0x5+-0x266b,0x50d*-0x1+-0x14bf+0xfe*0x1a),_0x1c04d0=_0xe11dec['getNumImag'+'es'](),_0x27ede5=_0xe11dec['getNumLeve'+'ls'](-0x2509*0x1+-0x6ce+0x9*0x4df),_0x20ba2b=!!_0xe11dec['getHasAlph'+'a'](),_0x4e156f=_0xe11dec['isUASTC']&&_0xe11dec['isUASTC']();if(!_0x1c1435||!_0x58ab56||!_0x1c04d0||!_0x27ede5)throw _0xe11dec['close'](),_0xe11dec['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x1bdd6e+'\x20width='+_0x1c1435+'\x20height='+_0x58ab56+'\x20images='+_0x1c04d0+'\x20levels='+_0x27ede5);const _0x46d0ee=_0x5d0ba6(_0x644d6d['deviceDeta'+'ils'],_0x20ba2b,_0x4e156f),_0x4a87d0=!!_0x644d6d['isGGGR']&&_0x46d0ee==='pvr';let _0x44cc7b;if(_0x4a87d0?_0x44cc7b=_0x5452d9['cTFRGBA32']:(_0x44cc7b=_0x20ba2b?_0x30f0d2[_0x46d0ee]:_0x134153[_0x46d0ee],_0x99f0a8(_0x1c1435,_0x58ab56,_0x44cc7b)||(_0x44cc7b=_0x20ba2b?_0x5452d9['cTFRGBA32']:_0x5452d9['cTFRGB565'])),!_0xe11dec['startTrans'+'coding']())throw _0xe11dec['close'](),_0xe11dec['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x1bdd6e);let _0x262967;const _0x4f8400=[];for(let _0x1ece8e=-0xd5b+0x184b+-0xaf0;_0x1ece8e<_0x27ede5;++_0x1ece8e){const _0xde15c5=_0xe11dec['getImageTr'+'anscodedSi'+'zeInBytes'](-0x1*0xeca+0x1232+0x368*-0x1,_0x1ece8e,_0x44cc7b),_0x3e1714=new Uint8Array(_0xde15c5);if(!_0xe11dec['transcodeI'+'mage'](_0x3e1714,-0x1bc3+-0xe9*-0x5+0x1736,_0x1ece8e,_0x44cc7b,-0xb*0x272+-0x560+0x2046,0x748*-0x3+0x937+0xca1)){if(_0x1ece8e===_0x27ede5-(-0x2*0xb7e+-0x1872+0x2f6f)&&_0xde15c5===_0x4f8400[_0x1ece8e-(-0x1a26+0xf55+0xad2)]['buffer']['byteLength'])_0x3e1714['set'](new Uint8Array(_0x4f8400[_0x1ece8e-(-0xc*-0x1e0+-0x12*-0x1a5+-0x3419*0x1)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x1bdd6e);else throw _0xe11dec['close'](),_0xe11dec['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x1bdd6e);}const _0x2af10e=_0x44cc7b===_0x5452d9['cTFRGB565']||_0x44cc7b===_0x5452d9['cTFRGBA444'+'4'];_0x4f8400['push'](_0x2af10e?new Uint16Array(_0x3e1714['buffer']):_0x3e1714);}if(_0xe11dec['close'](),_0xe11dec['delete'](),_0x4a87d0){for(_0x44cc7b=_0x5452d9['cTFRGB565'],_0x262967=0x1e1c+-0x55e*-0x1+0x2*-0x11bd;_0x262967<_0x4f8400['length'];++_0x262967)_0x4f8400[_0x262967]=_0x28e2cd(_0x23894f(_0x4f8400[_0x262967]));}return{'format':_0x195044(_0x44cc7b,_0x644d6d['deviceDeta'+'ils']),'width':_0x1c1435,'height':_0x58ab56,'levels':_0x4f8400,'cubemap':!(-0x1869+-0x965+0x1*0x21cf),'transcodeTime':_0x45836f()-_0x175744,'url':_0x1bdd6e,'unswizzledGGGR':_0x4a87d0};},_0x4acc8d=(_0x5b19e8,_0xcbec31,_0x40fca6)=>_0x40fca6['isKTX2']?_0x4e5dad(_0x5b19e8,_0xcbec31,_0x40fca6):_0x3ee673(_0x5b19e8,_0xcbec31,_0x40fca6),_0x2ba5ed=(_0x555157,_0x41b1ce,_0x2617bc)=>{try{const _0xc60294=_0x4acc8d(_0x555157,_0x41b1ce,_0x2617bc);_0xc60294['levels']=_0xc60294['levels']['map'](_0x1cf9ab=>_0x1cf9ab['buffer']),self['postMessag'+'e']({'url':_0x555157,'data':_0xc60294},_0xc60294['levels']);}catch(_0x3d2011){self['postMessag'+'e']({'url':_0x555157,'err':_0x3d2011},null);}},_0x37d335=(_0x5583f1,_0x35ffa7)=>{const _0xd0110d=(_0xbce463,_0x33386d)=>(WebAssembly['instantiat'+'e'](_0x5583f1['module'],_0xbce463)['then'](_0xdb1d57=>{_0x33386d(_0xdb1d57);})['catch'](_0x4b16e6=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x4b16e6);}),{});self['BASIS'](_0x5583f1['module']?{'instantiateWasm':_0xd0110d}:null)['then'](_0x2735de=>{_0x2735de['initialize'+'Basis'](),_0x3987ca=_0x2735de,_0x54dc4d=_0x5583f1['rgbPriorit'+'y'],_0x54ddc9=_0x5583f1['rgbaPriori'+'ty'],_0x35ffa7(null);});},_0x112f15=[];self['onmessage']=_0x1b6015=>{const _0x162923=_0x1b6015['data'];switch(_0x162923['type']){case'init':_0x37d335(_0x162923['config'],()=>{for(let _0x414722=0x224a+0x1*0x179f+-0x39e9;_0x414722<_0x112f15['length'];++_0x414722)_0x2ba5ed(_0x112f15[_0x414722]['url'],_0x112f15[_0x414722]['data'],_0x112f15[_0x414722]['options']);_0x112f15['length']=-0x337*0xc+-0xb*0x327+0x4941;});break;case'transcode':_0x3987ca?_0x2ba5ed(_0x162923['url'],_0x162923['data'],_0x162923['options']):_0x112f15['push'](_0x162923);break;}};}const gL=_0x517f81=>({'astc':!!_0x517f81['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x517f81['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x517f81['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x517f81['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x517f81['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x517f81['extCompres'+'sedTexture'+'PVRTC']}),yL=(_0x24dbb3,_0x8a9f)=>{const _0x590ded=_0x556951=>{const _0x38a987=['/*\x20basis\x20*'+'/',_0x556951,'','('+_L['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x38a987],{'type':'applicatio'+'n/javascri'+'pt'});},_0x3d0a09=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x18a11f=new WebAssembly['Module'](Uint8Array['of'](-0x213e+-0xa*0x33e+0x5*0xd22,0x2*0xba+0x22f*-0xb+0x16f2,0x2*-0xc7a+0x1eac+-0x545,-0xadf+-0x20c9+0x2c15,0x5*0x640+0x1eb*-0x11+0x15c,0x1*0x1db9+-0x1a7e+-0x33b,-0x148e+-0x22c5+0x3753,-0x3*-0x4a2+0x55*0xd+-0x1237*0x1));if(_0x18a11f instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x18a11f)instanceof WebAssembly['Instance'];}}catch{}return!(-0x229*0x3+0x5b3*0x1+0x43*0x3);},_0x562f20=(_0x1e8826,_0x359ab7)=>{_0x8a9f(null,{'workerUrl':URL['createObje'+'ctURL'](_0x590ded(_0x1e8826)),'module':_0x359ab7,'rgbPriority':_0x24dbb3['rgbPriorit'+'y'],'rgbaPriority':_0x24dbb3['rgbaPriori'+'ty']});},_0x5242d1={'cache':!(-0x193a+0x7b5*0x3+0x21b),'responseType':'text','retry':_0x24dbb3['maxRetries']>-0xf4d+0x72*0x4c+-0x128b,'maxRetries':_0x24dbb3['maxRetries']};if(_0x24dbb3['glueUrl']&&_0x24dbb3['wasmUrl']&&_0x3d0a09()){let _0x5f0f18=null,_0x318cbf=null;$e['get'](_0x24dbb3['glueUrl'],_0x5242d1,(_0x5e2cb5,_0x59ab69)=>{_0x5e2cb5?_0x8a9f(_0x5e2cb5):_0x318cbf?_0x562f20(_0x59ab69,_0x318cbf):_0x5f0f18=_0x59ab69;});const _0x76e48=fetch(_0x24dbb3['wasmUrl']),_0x4d1262=()=>{_0x76e48['then'](_0x544c87=>_0x544c87['arrayBuffe'+'r']())['then'](_0x27b502=>WebAssembly['compile'](_0x27b502))['then'](_0x51abea=>{_0x5f0f18?_0x562f20(_0x5f0f18,_0x51abea):_0x318cbf=_0x51abea;})['catch'](_0x50fdd5=>{_0x8a9f(_0x50fdd5,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x76e48)['then'](_0x50ebac=>{_0x5f0f18?_0x562f20(_0x5f0f18,_0x50ebac):_0x318cbf=_0x50ebac;})['catch'](_0x509902=>{v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x24dbb3['wasmUrl']+'\x20('+_0x509902+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x4d1262();}):_0x4d1262();}else $e['get'](_0x24dbb3['fallbackUr'+'l'],_0x5242d1,(_0x1606b4,_0x1cf638)=>{_0x1606b4?_0x8a9f(_0x1606b4,null):_0x562f20(_0x1cf638,null);});};class xL{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x6ca00b,_0x375d58,_0x174c81,_0x428c7c){if(this['callbacks']['hasOwnProp'+'erty'](_0x6ca00b))this['callbacks'][_0x6ca00b]['push'](_0x174c81);else{this['callbacks'][_0x6ca00b]=[_0x174c81];const _0x4e1a72={'url':_0x6ca00b,'data':_0x375d58,'options':_0x428c7c};this['clients']['length']>-0x1b1*-0x1+-0xfaa+-0x1*-0xdf9?this['clients']['shift']()['run'](_0x4e1a72):this['queue']['push'](_0x4e1a72);}}['enqueueCli'+'ent'](_0x1c8cce){this['queue']['length']>0xf9e+0x2d*0x6b+-0x226d?_0x1c8cce['run'](this['queue']['shift']()):this['clients']['push'](_0x1c8cce);}['handleResp'+'onse'](_0x185bad,_0x2a4cd2,_0x4932c4){const _0x5b5090=this['callbacks'][_0x185bad];if(_0x2a4cd2){for(let _0x2e2e3f=-0x1334+-0x49*0x52+0x2a96;_0x2e2e3f<_0x5b5090['length'];++_0x2e2e3f)_0x5b5090[_0x2e2e3f](_0x2a4cd2);}else{_0x4932c4['format']===_c||_0x4932c4['format']===gc?_0x4932c4['levels']=_0x4932c4['levels']['map'](_0x23b1a1=>new Uint16Array(_0x23b1a1)):_0x4932c4['levels']=_0x4932c4['levels']['map'](_0x3484ab=>new Uint8Array(_0x3484ab));for(let _0x19287e=0x74b+-0xc2e+0x4e3;_0x19287e<_0x5b5090['length'];++_0x19287e)_0x5b5090[_0x19287e](null,_0x4932c4);}delete this['callbacks'][_0x185bad];}}class SL{constructor(_0x550b6c,_0x2d4a18,_0xccb703){this['queue']=_0x550b6c,this['worker']=new Worker(_0x2d4a18['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x6ed78d=>{const _0x1ab1cf=_0x6ed78d['data'];this['queue']['handleResp'+'onse'](_0x1ab1cf['url'],_0x1ab1cf['err'],_0x1ab1cf['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x2d4a18}),this['eager']=_0xccb703;}['run'](_0x244563){const _0x34a2a0=[];_0x244563['data']instanceof ArrayBuffer&&_0x34a2a0['push'](_0x244563['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x244563['url'],'format':_0x244563['format'],'data':_0x244563['data'],'options':_0x244563['options']},_0x34a2a0),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const vL=-0x1006+0x57*-0x3b+0x2414,bL=['etc2','etc1','astc','dxt','pvr','atc'],wL=['astc','dxt','etc2','pvr','atc'],TL=0xb9b*-0x2+0x1e4a+-0x70f,Tf=new xL();let Hg=null,Af=!(0x1da9*-0x1+0x18d7+0x4d3);function AL(_0x176819){if(!Af){if(!_0x176819)_0x176819=Hg||{};else{if(_0x176819['lazyInit']){Hg=_0x176819;return;}}if(!_0x176819['glueUrl']||!_0x176819['wasmUrl']||!_0x176819['fallbackUr'+'l']){const _0x2f00e3=ay['getConfig']('BASIS');_0x2f00e3&&(_0x176819={'glueUrl':_0x2f00e3['glueUrl'],'wasmUrl':_0x2f00e3['wasmUrl'],'fallbackUrl':_0x2f00e3['fallbackUr'+'l'],'numWorkers':_0x2f00e3['numWorkers']});}if(_0x176819['glueUrl']||_0x176819['wasmUrl']||_0x176819['fallbackUr'+'l']){Af=!(0x2*0x12b7+-0xe9f+0x1*-0x16cf);const _0x47b942=Math['max'](-0xde4+0x9*0x3b2+0x1*-0x135d,Math['min'](0x1285+0x10c*0xf+-0x9f*0x37,_0x176819['numWorkers']||vL)),_0x249a71=_0x176819['numWorkers']===-0xa6+0x2281+-0x1*0x21da||(_0x176819['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x176819['eagerWorke'+'rs']:!(-0x1646+0x207e+-0xa38));_0x176819['rgbPriorit'+'y']=_0x176819['rgbPriorit'+'y']||bL,_0x176819['rgbaPriori'+'ty']=_0x176819['rgbaPriori'+'ty']||wL,_0x176819['maxRetries']=_0x176819['hasOwnProp'+'erty']('maxRetries')?_0x176819['maxRetries']:TL,yL(_0x176819,(_0x43e7fd,_0x25f805)=>{if(_0x43e7fd)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x43e7fd);else{for(let _0x39ad36=0xdce+-0x18cd+-0x5*-0x233;_0x39ad36<_0x47b942;++_0x39ad36)Tf['enqueueCli'+'ent'](new SL(Tf,_0x25f805,_0x249a71));}});}}}let su=null;function Fx(_0x1f1e0e,_0x235958,_0x1b49c3,_0x5dde54,_0x626378){return AL(),su||(su={'formats':gL(_0x1f1e0e)}),Tf['enqueueJob'](_0x235958,_0x1b49c3,_0x5dde54,{'deviceDetails':su,'isGGGR':!!(_0x626378!=null&&_0x626378['isGGGR']),'isKTX2':!!(_0x626378!=null&&_0x626378['isKTX2'])}),Af;}class Na{['load'](_0x4111d7,_0x58295a,_0xf90a2b){throw new Error('not\x20implem'+'ented');}['open'](_0x233a97,_0xff686f,_0x5d454c){throw new Error('not\x20implem'+'ented');}}class EL extends Na{constructor(_0x21cf1c,_0x332f1c){super(),this['device']=_0x332f1c,this['maxRetries']=0x7*-0xb1+0x2d+0x4aa;}['load'](_0x3f4386,_0x1ab23d,_0x1b6181){const _0x43e66f=this['device'],_0x470c30=_0x5a1ce5=>{var _0x30e2b5,_0x58d83a,_0x2bcf40;Fx(_0x43e66f,_0x3f4386['load'],_0x5a1ce5,_0x1ab23d,{'isGGGR':(((_0x2bcf40=(_0x58d83a=(_0x30e2b5=_0x1b6181==null?void(-0x1677+0x1f1f+-0x8a8):_0x1b6181['file'])==null?void(0x1*0x22b9+-0x83*-0x49+-0x4814):_0x30e2b5['variants'])==null?void(0x794+0x233f+0x1*-0x2ad3):_0x58d83a['basis'])==null?void(0x2156+-0x1eb3+-0xf*0x2d):_0x2bcf40['opt'])&-0x248d+0xd30+-0x35*-0x71)!==0x163b+0x1028+0x13d*-0x1f})||_0x1ab23d('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x1b6181['name']+']('+_0x1b6181['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};le['fetchArray'+'Buffer'](_0x3f4386['load'],(_0x586e41,_0x261e98)=>{_0x586e41?_0x1ab23d(_0x586e41):_0x470c30(_0x261e98);},_0x1b6181,this['maxRetries']);}['open'](_0x23039b,_0x572fe8,_0x4ad0a9,_0x8914a0={}){const _0x17dc25=_0x8914a0['srgb']?Cc(_0x572fe8['format']):_0x572fe8['format'],_0x388c6c=new he(_0x4ad0a9,{'name':_0x23039b,'profilerHint':ur,'addressU':_0x572fe8['cubemap']?ae:tt,'addressV':_0x572fe8['cubemap']?ae:tt,'width':_0x572fe8['width'],'height':_0x572fe8['height'],'format':_0x17dc25,'cubemap':_0x572fe8['cubemap'],'levels':_0x572fe8['levels'],..._0x8914a0});return _0x388c6c['upload'](),_0x388c6c;}}const Ox=new Uint8Array([0x4e4+-0x3*0x7f7+0x138a*0x1,0x14f8+-0x3d*0x1d+-0xdbf,0x2ce+-0x606+0x386,0x1*0x4cb+0x25f7*-0x1+0x2173,0x446+0x1*0xdf+-0x2*0x28c,0x24c6+-0x518+-0x1fa4,-0x16eb+0x17f0+-0xeb*0x1,-0x45d*0x4+-0x65*0x6+0x13dc,-0x865+0x71f*0x3+-0xcf8,-0x15be+-0x15*-0x115+-0x1*0xfb,-0x1*0x1dcb+-0x11f*-0xa+0x1295,-0x49d*0x6+0x17f*-0x11+0x352a,-0x7*0x2c5+0x1*0xbdf+0x7cd,-0x191*0x16+0x181d+0xaa1,0x1*0x1709+0x100d*-0x2+-0x1*-0x955,0x108*0x2+0x2*-0xc1b+0x1678,-0x1*-0x899+0x3*-0x119+0x7*-0xc2,0xa9*-0xb+-0x2*0xeb7+-0x1f*-0x12f,0x1914+0x20*-0x101+0x70c,0x3*0xa1f+-0x511*0x1+-0x194b,0x22*0x22+0x1*0x2352+0x13eb*-0x2,0x228f+-0x3e*-0x58+-0x37df,0x1*0xb69+-0x1*-0x24d9+0x57*-0x8e,-0x1918+0x2015+-0x3*0x254,0x9da+0x100b+-0x19dd,0x3*0x93f+-0x56a+-0x164d,-0x1f*0x6b+0x20f1+-0x13fc,-0x21b9+-0x16f*-0x4+0x1bfd*0x1,0x2181+0x88*0xb+-0x2759,0x7cc+0x1*-0xe51+0x6a4,0x8f*0x1c+0x2a2+-0x1231,0xd7e+0x2390+-0x304a,0xc06+0x471+0x1*-0xfee,-0x1*-0x7f+0x3*0xc95+-0x263e,-0x246*-0x9+0x2*0xf0d+-0x3290,-0x168*0x1b+-0x1b52+0x414a,0x5*0x608+-0x1b7d*-0x1+-0x3998,0x77c*-0x5+-0x1302+0x38b7,0x277*0x7+-0x2ca+-0xe33*0x1,-0x3*0x12e+-0x3*0x3d3+0x1*0xf44,0x1*0x1c43+0x4bd+-0x20ac,-0x2*-0x12e5+-0x3b2*-0x6+-0x5f3*0xa,-0xfab+-0xa*0xb5+0x1797,-0x8be+-0x1f0d*0x1+0x282e,-0x26fe+0xa*-0x372+0x49d6,0xce7*-0x1+-0x1*0xb89+-0xe3*-0x1c,0x3df*0x5+0x125a+-0x3*0xc71,-0x1667+0xfc8+0x755,-0x177c+-0x1fa2+0x3725,-0x3*-0x58+-0x1207*0x1+0x10ff,0x235*0x1+-0x1c2e+0x1*0x19f9,0x2441*0x1+-0x98d+-0xad*0x27,-0x252d+0x1*0x1c8d+0x8a0,-0x1*0x26ef+-0x5ef+0x2d25,-0x1794+-0x26bf+0x3e96,0x2267+-0x2b4+-0x1f2e,-0x1d47+0xd5*0x1+0xa*0x2e7,0xe*-0x24a+-0x28b*-0x7+0xf2c,-0x1cfc+-0x355+0x2051,-0x5*0x2cd+0x24ce+-0x16cd,-0x1abf*0x1+-0x67*0x37+0x110*0x2e,-0x1*-0x7f2+-0x291+-0x561,0x1*-0x1fc4+-0x19ca+-0xdd*-0x43,0xe0d+-0x23c9+0x1601,-0x15b7+0xe1*0x1b+-0x1b6,0x5c*0x4+0xd*0x2c8+-0x2554,0x7fa+-0x26db+0x1f8f,-0x13*0x3e+-0x26d7*0x1+0x2bb3,0x1cbf+0x11*0x1d+0x1e4c*-0x1,-0x60c*-0x1+-0x6f5+0x16b*0x1]),kx=(_0x161abc,_0x3a7ed0)=>{const _0x2d9e7a=new he(_0x161abc,{'width':0x1,'height':0x1,'format':Se,'mipmaps':!(0x13bc+-0x2*-0xffd+-0x33b5),'levels':[_0x3a7ed0]}),_0x3a9e78=new pt({'colorBuffer':_0x2d9e7a,'depth':!(-0x9da+-0xcca+-0xbb*-0x1f)});_0x161abc['setFramebu'+'ffer'](_0x3a9e78['impl']['_glFrameBu'+'ffer']),_0x161abc['initRender'+'Target'](_0x3a9e78);const _0x1d62ba=new Uint8ClampedArray(0x1685+-0x2e*0x11+0x17f*-0xd);return _0x161abc['gl']['readPixels'](-0xf78+0x1*-0xa93+-0x71*-0x3b,-0x483+-0x4*0x3aa+0x1*0x132b,-0x2297+0x1*0x1157+0x7*0x277,0x67*0x17+-0x1792+0x3*0x4c6,_0x161abc['gl']['RGBA'],_0x161abc['gl']['UNSIGNED_B'+'YTE'],_0x1d62ba),_0x3a9e78['destroy'](),_0x2d9e7a['destroy'](),_0x1d62ba[0x914+-0x53*-0x4a+-0x2*0x1089]===-0x12a9+-0x16e0+0x298a&&_0x1d62ba[-0x4c7*0x7+-0xb*-0x341+-0x259]===-0x2140+0x102b+0x1117&&_0x1d62ba[0x1cfa*0x1+-0x4fa+-0xa6*0x25]===-0x2a4*-0x1+0x13a0+-0x1641&&_0x1d62ba[-0x889+-0x56*0x46+0x2010]===0x14*-0x171+-0x687+0x239a;},CL=_0x4b6127=>createImageBitmap(new Blob([Ox],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x40ae5a=>kx(_0x4b6127,_0x40ae5a))['catch'](_0x177f04=>!(0x1*-0x25be+0x97*-0x2+-0x1*-0x26ed)),ML=_0x4b3cd3=>new Promise((_0x140f28,_0x34c18d)=>{const _0x198ca9=new Image();_0x198ca9['src']=URL['createObje'+'ctURL'](new Blob([Ox])),_0x198ca9['onload']=()=>{_0x140f28(kx(_0x4b3cd3,_0x198ca9));};});class PL{static['run'](_0x4d8ad0){CL(_0x4d8ad0)['then'](_0x19e2c9=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x19e2c9);}),ML(_0x4d8ad0)['then'](_0x7dccec=>{console['log']('imgElement'+'IsCorrect='+_0x7dccec);});}}class RL extends Na{constructor(_0x3fb8c0,_0x957a80){super(),this['crossOrigi'+'n']=_0x3fb8c0['prefix']?'anonymous':null,this['maxRetries']=0x6cd*0x2+0x11ae+-0x1f48,this['device']=_0x957a80,Xs['get']('IMG_ALPHA_'+'TEST')&&PL['run'](this['device']);}['load'](_0x10d266,_0x270f9a,_0x2924c2){var _0x26f3ac;const _0x509a34=!!((_0x26f3ac=_0x2924c2==null?void(0x391*-0x3+0x1*-0xb93+0x1646):_0x2924c2['file'])!=null&&_0x26f3ac['contents']);if(_0x509a34){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x2924c2['file']['contents']]),_0x270f9a);return;}_0x10d266={'load':URL['createObje'+'ctURL'](new Blob([_0x2924c2['file']['contents']])),'original':_0x10d266['original']};}const _0x3995d7=(_0x1ef1f4,_0xe4b23d)=>{_0x509a34&&URL['revokeObje'+'ctURL'](_0x10d266['load']),_0x270f9a(_0x1ef1f4,_0xe4b23d);};let _0xdba648;_0x2924c2&&_0x2924c2['options']&&_0x2924c2['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0xdba648=_0x2924c2['options']['crossOrigi'+'n']:Da['test'](_0x10d266['load'])&&(_0xdba648=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x10d266['load'],_0x10d266['original'],_0xdba648,_0x3995d7):this['_loadImage'](_0x10d266['load'],_0x10d266['original'],_0xdba648,_0x3995d7);}['open'](_0x1b11bd,_0x26ff60,_0x578ee6,_0x4797de={}){const _0x1fe4cf=new he(_0x578ee6,{'name':_0x1b11bd,'profilerHint':ur,'width':_0x26ff60['width'],'height':_0x26ff60['height'],'format':_0x4797de['srgb']?rs:Se,..._0x4797de});return _0x1fe4cf['setSource'](_0x26ff60),_0x1fe4cf;}['_loadImage'](_0x556763,_0x5447fa,_0x1569ad,_0x3b2906){const _0xc7bc1c=new Image();_0x1569ad&&(_0xc7bc1c['crossOrigi'+'n']=_0x1569ad);let _0x500d5f=0x4*-0xb5+0x4c*0x7+0x10*0xc;const _0xb8e67d=this['maxRetries'];let _0x7a482f;_0xc7bc1c['onload']=function(){_0x3b2906(null,_0xc7bc1c);},_0xc7bc1c['onerror']=function(){if(!_0x7a482f){if(_0xb8e67d>-0x1*-0x7c3+0x2694+-0x2e57&&++_0x500d5f<=_0xb8e67d){const _0x4dd26a=Math['pow'](0x13f+0x4*0x399+-0xfa1*0x1,_0x500d5f)*(-0x196c+-0x125e+-0x1e*-0x179);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x5447fa+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x4dd26a+'ms...');const _0x10af9a=_0x556763['indexOf']('?')>=-0x241*-0xa+0x22b*-0xf+-0x7*-0x16d?'&':'?';_0x7a482f=setTimeout(()=>{_0xc7bc1c['src']=_0x556763+_0x10af9a+'retry='+Date['now'](),_0x7a482f=null;},_0x4dd26a);}else _0x3b2906('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x5447fa+'\x27');}},_0xc7bc1c['src']=_0x556763;}['_loadImage'+'Bitmap'](_0x3e39cd,_0x385e12,_0x383261,_0x51e068){const _0x2f3139={'cache':!(0x72+0x11*0x89+0x7*-0x15d),'responseType':'blob','retry':this['maxRetries']>0x5*-0x166+0x1096+0x2*-0x4cc,'maxRetries':this['maxRetries']};$e['get'](_0x3e39cd,_0x2f3139,(_0x21920b,_0x53f928)=>{_0x21920b?_0x51e068(_0x21920b):this['_loadImage'+'BitmapFrom'+'Blob'](_0x53f928,_0x51e068);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x41159e,_0x2e9de5){createImageBitmap(_0x41159e,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x3de775=>_0x2e9de5(null,_0x3de775))['catch'](_0x3a6c8e=>_0x2e9de5(_0x3a6c8e));}}const iu=[0x8967480c+-0x5c2*-0x1af31f+-0xcc3ed4df,-0x2*0x75a61f8f+-0x354ad03f+0x1dbc8407d,0xb5535e3+-0x2727888+0x2*0x9ba659],IL={0x83f0:yc,0x83f2:zf,0x83f3:$o,0x8d64:bc,0x9274:Vf,0x9278:Gf,0x8c00:wc,0x8c01:qo,0x8c02:Tc,0x8c03:Xo,0x8051:dr,0x8058:Se,0x8c41:Uf,0x8c43:rs,0x8c3a:_a,0x881b:xc,0x881a:Je};function DL(_0x5fdbb3,_0x465fc2,_0x554846,_0xef1c12){return _0x5fdbb3===_a?new Uint32Array(_0x465fc2,_0x554846,_0xef1c12/(-0xba*-0x4+-0x788+0x4a4)):new Uint8Array(_0x465fc2,_0x554846,_0xef1c12);}class LL extends Na{constructor(_0x5ced5f){super(),this['maxRetries']=0x23bd+0x31d*0x2+-0x29f7;}['load'](_0x3128f2,_0x3f6c09,_0x499fa6){le['fetchArray'+'Buffer'](_0x3128f2['load'],_0x3f6c09,_0x499fa6,this['maxRetries']);}['open'](_0xc1fe09,_0x4451d7,_0x5773f2,_0xcec97c={}){const _0x13bbf5=this['parse'](_0x4451d7);if(!_0x13bbf5)return null;const _0x2b8fac=_0xcec97c['srgb']?Cc(_0x13bbf5['format']):_0x13bbf5['format'],_0x1b49d0=new he(_0x5773f2,{'name':_0xc1fe09,'profilerHint':ur,'addressU':_0x13bbf5['cubemap']?ae:tt,'addressV':_0x13bbf5['cubemap']?ae:tt,'width':_0x13bbf5['width'],'height':_0x13bbf5['height'],'format':_0x2b8fac,'cubemap':_0x13bbf5['cubemap'],'levels':_0x13bbf5['levels'],..._0xcec97c});return _0x1b49d0['upload'](),_0x1b49d0;}['parse'](_0xf911f){const _0x407f47=new Uint32Array(_0xf911f);if(iu[0xbb2+0x1*0x21e5+-0x2d97]!==_0x407f47[-0x23e2+0x1*0x204a+0xe6*0x4]||iu[0x1b71+-0x89+0x1ae7*-0x1]!==_0x407f47[0x1*-0x1379+-0xb68+-0x43*-0x76]||iu[0x62*0x16+0x929+0x1193*-0x1]!==_0x407f47[-0x3*-0x927+0xb*-0x86+0x3*-0x73b])return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x3c5f84={'endianness':_0x407f47[0x12ff+-0x1cf4+0x9f8],'glType':_0x407f47[-0x1062+0x119*-0xd+0x1eab],'glTypeSize':_0x407f47[0x6d1+-0x9*0x3fa+0x1*0x1cfe],'glFormat':_0x407f47[-0x1492*0x1+0x454*0x6+0x10*-0x56],'glInternalFormat':_0x407f47[-0xd5d+0xbc3+0x8b*0x3],'glBaseInternalFormat':_0x407f47[-0xa58+0x9c7*-0x3+-0x1*-0x27b5],'pixelWidth':_0x407f47[0x3*-0xb69+0x68*0x52+0xf4*0x1],'pixelHeight':_0x407f47[0x3d7*-0x1+0xb61+0x20*-0x3c],'pixelDepth':_0x407f47[-0x71f*0x5+0x1572+0xe34],'numberOfArrayElements':_0x407f47[0x3fe*-0x3+-0x24d5+0x30db],'numberOfFaces':_0x407f47[0x2390+0x10a6+-0x3429],'numberOfMipmapLevels':_0x407f47[0x4cd*0x1+0xdfa+-0x1*0x12b9],'bytesOfKeyValueData':_0x407f47[-0x1*-0x1541+-0x1a2f*0x1+0x4fd]};if(_0x3c5f84['pixelDepth']>-0x1215+-0x1*0xad3+0x1ce9)return v['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x3c5f84['numberOfAr'+'rayElement'+'s']!==0x1b58+0x329*-0x1+0x29*-0x97)return v['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x46d4aa=IL[_0x3c5f84['glInternal'+'Format']];if(_0x46d4aa===void(0xc5*0x29+0x307+-0x2294))return v['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x3c5f84['glInternal'+'Format']),null;let _0x1ac3a0=0x1640+0x82b*0x4+-0x36dc+_0x3c5f84['bytesOfKey'+'ValueData']/(-0x180c+-0x1064*0x1+0x2874);const _0x47df33=_0x3c5f84['numberOfFa'+'ces']>-0x5*0x461+0x571*-0x5+0x1*0x311b,_0x518926=[];for(let _0x56f775=0x3*-0x909+0x16*-0x14c+-0x37a3*-0x1;_0x56f775<(_0x3c5f84['numberOfMi'+'pmapLevels']||-0x26fa+0x1*-0x23d3+0x4ace*0x1);_0x56f775++){const _0x508684=_0x407f47[_0x1ac3a0++];_0x47df33&&_0x518926['push']([]);const _0x11d039=_0x47df33?_0x518926[_0x56f775]:_0x518926;for(let _0x16750a=-0x1471+0x1260*-0x1+0x1*0x26d1;_0x16750a<(_0x47df33?0x236*-0x1+-0xda5+-0xfe1*-0x1:-0x1*-0x1380+0x21a6+-0x3525);++_0x16750a)_0x11d039['push'](DL(_0x46d4aa,_0xf911f,_0x1ac3a0*(0x82d+0xd7d+0xa3*-0x22),_0x508684)),_0x1ac3a0+=_0x508684+(0x1e82+-0x1ec1+-0x2*-0x21)>>-0x880+-0x69d*-0x1+0x1e5;}return{'format':_0x46d4aa,'width':_0x3c5f84['pixelWidth'],'height':_0x3c5f84['pixelHeigh'+'t'],'levels':_0x518926,'cubemap':_0x47df33};}}const FL={'KHR_DF_MODEL_UASTC':0xa6};class OL extends Na{constructor(_0x269ba1,_0x124c4a){super(),this['maxRetries']=0x2668+0x213a+-0x47a2,this['device']=_0x124c4a;}['load'](_0x475e72,_0x57d978,_0x2304cc){le['fetchArray'+'Buffer'](_0x475e72['load'],(_0x11f5d1,_0x481c69)=>{_0x11f5d1?_0x57d978(_0x11f5d1,_0x481c69):this['parse'](_0x481c69,_0x475e72,_0x57d978,_0x2304cc);},_0x2304cc,this['maxRetries']);}['open'](_0x16b67c,_0x5c29c6,_0x5826e4,_0xfbdd2f={}){const _0x17c066=_0xfbdd2f['srgb']?Cc(_0x5c29c6['format']):_0x5c29c6['format'],_0x370ae8=new he(_0x5826e4,{'name':_0x16b67c,'profilerHint':ur,'addressU':_0x5c29c6['cubemap']?ae:tt,'addressV':_0x5c29c6['cubemap']?ae:tt,'width':_0x5c29c6['width'],'height':_0x5c29c6['height'],'format':_0x17c066,'cubemap':_0x5c29c6['cubemap'],'levels':_0x5c29c6['levels'],..._0xfbdd2f});return _0x370ae8['upload'](),_0x370ae8;}['parse'](_0x3387f1,_0x46badd,_0xff8568,_0x32f663){var _0x22512c,_0x48c007,_0x21e0c5;const _0x16478e=new oy(_0x3387f1),_0x466855=[_0x16478e['readU32be'](),_0x16478e['readU32be'](),_0x16478e['readU32be']()];if(_0x466855[0x181b+0x189+0x1*-0x19a4]!==-0x7c1e02c+0x1afd*-0x2081d+0x1c11d*0x8551||_0x466855[-0x1*-0x1fd6+0x1e98+-0x3e6d]!==-0x56*0x5a7eaf+-0x14694d2a+-0x7f6f*-0xa6c1||_0x466855[-0x23c3+0x2*-0x133f+-0x1*-0x4a43]!==0x113485ed+-0xf1adeb*-0x1+0x2*-0x28e0ce7)return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0xcc7aba={'vkFormat':_0x16478e['readU32'](),'typeSize':_0x16478e['readU32'](),'pixelWidth':_0x16478e['readU32'](),'pixelHeight':_0x16478e['readU32'](),'pixelDepth':_0x16478e['readU32'](),'layerCount':_0x16478e['readU32'](),'faceCount':_0x16478e['readU32'](),'levelCount':_0x16478e['readU32'](),'supercompressionScheme':_0x16478e['readU32']()},_0x574fbc={'dfdByteOffset':_0x16478e['readU32'](),'dfdByteLength':_0x16478e['readU32'](),'kvdByteOffset':_0x16478e['readU32'](),'kvdByteLength':_0x16478e['readU32'](),'sgdByteOffset':_0x16478e['readU64'](),'sgdByteLength':_0x16478e['readU64']()},_0x314b9a=[];for(let _0xf1ab2a=-0x38e+0xccc+-0x93e;_0xf1ab2a<Math['max'](0x59*0x5b+-0x3fa*-0x7+-0x568*0xb,_0xcc7aba['levelCount']);++_0xf1ab2a)_0x314b9a['push']({'byteOffset':_0x16478e['readU64'](),'byteLength':_0x16478e['readU64'](),'uncompressedByteLength':_0x16478e['readU64']()});if(_0x16478e['readU32']()!==_0x574fbc['kvdByteOff'+'set']-_0x574fbc['dfdByteOff'+'set'])return v['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x16478e['skip'](-0x22*0x25+-0x205+0x6f7);const _0x908374=_0x16478e['readU8']();_0x16478e['skip'](_0x574fbc['dfdByteLen'+'gth']-(-0x1fc4+0x73a+0x1893)),_0x16478e['skip'](_0x574fbc['kvdByteLen'+'gth']),_0xcc7aba['supercompr'+'essionSche'+'me']===0x4e5*0x2+0x2188+-0x2b51||_0x908374===FL['KHR_DF_MOD'+'EL_UASTC']?Fx(this['device'],_0x46badd['load'],_0x3387f1,_0xff8568,{'isGGGR':(((_0x21e0c5=(_0x48c007=(_0x22512c=_0x32f663==null?void(0x269c+0x17ee+-0x3e8a):_0x32f663['file'])==null?void(-0x43*-0x6d+-0x1a22+0x265*-0x1):_0x22512c['variants'])==null?void(0x9b9*-0x3+-0x575+0x22a0):_0x48c007['basis'])==null?void(-0x120c+0x36e*0x5+-0x5*-0x2e):_0x21e0c5['opt'])&-0x1a79+-0xb55+-0xa7*-0x3a)!==-0x1*0x1093+0xd7*0x4+0xd37,'isKTX2':!(-0xa*0x3+-0x591+0x1e5*0x3)})||_0xff8568('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x32f663['name']+']('+_0x32f663['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0xff8568('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class kL extends Na{constructor(_0x26f245){super(),this['maxRetries']=-0x1b37+-0x1eea+0x1*0x3a21;}['load'](_0x27c9c1,_0x3232f0,_0x9d2587){le['fetchArray'+'Buffer'](_0x27c9c1['load'],_0x3232f0,_0x9d2587,this['maxRetries']);}['open'](_0x5b33a2,_0x5ad1a7,_0x2b0bf7,_0x1fbd21={}){const _0xef0b14=new Uint32Array(_0x5ad1a7,0x2f*-0x8f+0x6b0+0x1*0x1391,-0x1*0x1cb5+-0x136b+0x3040),_0x34584e=_0xef0b14[-0xdd2+0x343*-0x3+0x179f],_0xc9ea01=_0xef0b14[-0x3db*0x8+0x2*0xe6d+0x3*0xab],_0xa6a907=Math['max'](_0xef0b14[0x1225*0x1+-0x26d5+0x14b7],-0xbd1*0x1+-0x1d67+-0x1*-0x2939),_0x50462a=_0xef0b14[0x3d*0x37+-0x6db+-0x316*0x2]===-0x10f6+0x1a0c*-0x1+0x2b06,_0x4bad06=_0xef0b14[-0xef0+0x442*-0x4+-0xf*-0x223],_0x9ed34f=_0xef0b14[-0x5*-0x5eb+0x250f+0x30*-0x163],_0x3d9ff0=_0xef0b14[-0x160*-0xd+-0xb53*-0x1+-0x1d17]===-0x1ccc+-0x1a31f+0x59*0x7e3,_0x19b56f=0x101*0x25a5db+0x2e0504c3*0x2+-0x135*0x42b249,_0x1543f2=-0x3774ecd6+0x4c*0xee0016+-0x41ad5*-0x94a,_0x5d3e92=-0x1*-0x1e20+0x3*0x42d+-0x6*0x709,_0x5b9255=-0x1d88+0x1cd0+0x96*0x2,_0x4ed014=-0x4398d5f8+0x2*0x10433e5e+0x5455ad81,_0x43456f=-0x13c7f617+0x528218*0x74+0x1f983587,_0x3adab8=0x2ea26732+0x3851195e*-0x1+-0x9c*-0x60a249,_0x49c011=-0x346e0630+-0x1f8efa19+0x85303499*0x1,_0x4a4c71=0x30fc3234+-0x1*-0x441652c4+0x2e0e2*-0x1794;let _0x1984ef=!(-0x256+0x1eac+-0x1c55),_0x479ca9=!(-0x16*-0xe3+0x6ce+-0x1a4f),_0x1e24e0=!(-0x1*0x13d5+-0x1*0x1de1+0x31b7),_0x10b8ec=!(0x1df+-0x2a0*-0x2+-0x38f*0x2),_0x3a4697=null,_0x491e6f=0x53*-0x59+-0xb5b+0x2837,_0x2574cb;if(_0x50462a?_0x4bad06===_0x19b56f?(_0x3a4697=yc,_0x1984ef=!(-0x1138*-0x1+-0x2e4+-0x1c*0x83)):_0x4bad06===_0x1543f2?(_0x3a4697=$o,_0x1984ef=!(-0x4*-0x301+0xbed*-0x3+0x229*0xb)):_0x4bad06===_0x5d3e92?(_0x3a4697=Je,_0x491e6f=0xb5*-0x11+0x22b2+-0x16ab):_0x4bad06===_0x5b9255?(_0x3a4697=Ke,_0x491e6f=-0x117+-0x61f*-0x5+-0x1d80):_0x4bad06===_0x4ed014?(_0x3a4697=bc,_0x1984ef=!(0x188*-0x2+-0x6cf+0x9df),_0x479ca9=!(-0x2b9*0x1+-0x4a9*-0x2+-0x699)):_0x4bad06===_0x43456f||_0x4bad06===_0x3adab8?(_0x3a4697=_0x4bad06===_0x43456f?qo:Xo,_0x1984ef=!(0x29d+-0x18aa+0x5*0x469),_0x1e24e0=!(0x1e01+0x33e+-0x213f)):(_0x4bad06===_0x49c011||_0x4bad06===_0x4a4c71)&&(_0x3a4697=_0x4bad06===_0x49c011?wc:Tc,_0x1984ef=!(0x12ad+0x24ee+-0x379b),_0x10b8ec=!(-0x139e+-0x1*0x254f+0xf7*0x3b)):_0x9ed34f===0x2281+-0x11e1+-0x1080&&(_0x3a4697=Se),!_0x3a4697)return v['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x5b33a2+'.'),_0x2574cb=new he(_0x2b0bf7,{'width':0x4,'height':0x4,'format':dr,'name':'dds-legacy'+'-empty'}),_0x2574cb;_0x2574cb=new he(_0x2b0bf7,{'name':_0x5b33a2,'profilerHint':ur,'addressU':_0x3d9ff0?ae:tt,'addressV':_0x3d9ff0?ae:tt,'width':_0x34584e,'height':_0xc9ea01,'format':_0x3a4697,'cubemap':_0x3d9ff0,'mipmaps':_0xa6a907>0x1d22+0x6*0x479+-0x37f7,..._0x1fbd21});let _0x17fa69=0x6b*0x37+-0x7*0x7f+-0x1304;const _0x4787fd=_0x3d9ff0?0x2*0x97d+0x1*0x5e+0x2*-0x9a9:0xc9d*-0x2+0x513*0x1+0x3*0x6b8;let _0x1f8b2c;const _0x34aaba=-0xc92*-0x1+0x1cad+-0x293b*0x1,_0xfcaa29=-0x7*0xa9+0x1*-0x202d+0x24d0,_0x1608ab=_0x4bad06===_0x19b56f?-0x1b8a+0xc5b*-0x2+0x3448:0x11f7+-0xd63+-0x484;let _0x142cb1,_0x5c5db6,_0x23efee;for(let _0x17329b=0x1696+-0x182f+0x1*0x199;_0x17329b<_0x4787fd;_0x17329b++){let _0x4253eb=_0x34584e,_0x11e29b=_0xc9ea01;for(let _0x32f148=0xb1*-0x2b+-0x1f6*0x5+0x2789;_0x32f148<_0xa6a907;_0x32f148++){_0x1984ef?_0x479ca9?_0x1f8b2c=Math['floor']((_0x4253eb+(-0x24b9+-0x164d+0x77*0x7f))/(-0x6*-0x143+0x1901+0x683*-0x5))*Math['floor']((_0x11e29b+(0x1be*-0x4+-0x1b2*0x11+0x23cd))/(0x1*0xa12+-0x938+-0xd6))*(-0x1591+-0x1a0b+0x2fa4):_0x1e24e0?_0x1f8b2c=Math['max'](_0x4253eb,0x1*-0xb71+-0x697+0x6*0x304)*Math['max'](_0x11e29b,0xcd*-0x3+0xccb+0x44*-0x27)/(-0x5ce+0x57d*0x1+0x55):_0x10b8ec?_0x1f8b2c=Math['max'](_0x4253eb,0xdf5+0x810+-0x1b1*0xd)*Math['max'](_0x11e29b,0xc9a+-0x4e*0x3b+0x2b4*0x2)/(-0x8c5+0x394*0x5+-0x91d):(_0x142cb1=Math['floor']((_0x4253eb+_0x34aaba-(-0x2253+0x1449*-0x1+-0x1f*-0x1c3))/_0x34aaba),_0x5c5db6=Math['floor']((_0x11e29b+_0xfcaa29-(-0x1466+-0x1284+0x26eb))/_0xfcaa29),_0x23efee=_0x142cb1*_0x5c5db6,_0x1f8b2c=_0x23efee*_0x1608ab):_0x1f8b2c=_0x4253eb*_0x11e29b*(0xe22+0x476+-0x1294);const _0x458bfe=_0x3a4697===Ke?new Float32Array(_0x5ad1a7,_0x17fa69,_0x1f8b2c):_0x3a4697===Je?new Uint16Array(_0x5ad1a7,_0x17fa69,_0x1f8b2c):new Uint8Array(_0x5ad1a7,_0x17fa69,_0x1f8b2c);_0x3d9ff0?(_0x2574cb['_levels'][_0x32f148]||(_0x2574cb['_levels'][_0x32f148]=[]),_0x2574cb['_levels'][_0x32f148][_0x17329b]=_0x458bfe):_0x2574cb['_levels'][_0x32f148]=_0x458bfe,_0x17fa69+=_0x1f8b2c*_0x491e6f,_0x4253eb=Math['max'](_0x4253eb*(0x3dd+0x169d+-0x1a7a+0.5),0x5e1+0x8*0x1fc+-0x1*0x15c0),_0x11e29b=Math['max'](_0x11e29b*(0x1be1+-0x713*-0x3+-0x311a+0.5),-0xb*0x1a3+-0x253f+0x5*0xb0d);}}return _0x2574cb['upload'](),_0x2574cb;}}class BL extends Na{constructor(_0xfd5445){super(),this['maxRetries']=-0x1*-0x157a+0x4d7*-0x3+0x6f5*-0x1;}['load'](_0x1e5a52,_0x3d6a7a,_0x36db3f){le['fetchArray'+'Buffer'](_0x1e5a52['load'],_0x3d6a7a,_0x36db3f,this['maxRetries']);}['open'](_0x17f5bd,_0x56ad9b,_0x17a72f,_0x4060cc={}){const _0x5bbc0a=this['parse'](_0x56ad9b);if(!_0x5bbc0a)return null;const _0x1f9e0e=new he(_0x17a72f,{'name':_0x17f5bd,'profilerHint':ur,'addressU':tt,'addressV':ae,'minFilter':de,'magFilter':de,'width':_0x5bbc0a['width'],'height':_0x5bbc0a['height'],'levels':_0x5bbc0a['levels'],'format':Se,'type':ap,'mipmaps':!(0x1732+-0x16b2+-0x1*0x7f),..._0x4060cc});return _0x1f9e0e['upload'](),_0x1f9e0e;}['parse'](_0x51f0b6){const _0x51bdf9=new oy(_0x51f0b6);if(!_0x51bdf9['readLine']()['startsWith']('#?RADIANCE'))return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x54ca1c={};for(;;){const _0x1d1029=_0x51bdf9['readLine']();if(_0x1d1029['length']===0x49b+-0x72e*0x1+0x293)break;{const _0x17b86a=_0x1d1029['split']('=');_0x17b86a['length']===0x703+0x1ecc+-0x25cd&&(_0x54ca1c[_0x17b86a[0x1083+-0x3*0x83+-0xefa]]=_0x17b86a[-0x10*0x40+-0x425*0x3+0x41c*0x4]);}}if(!_0x54ca1c['hasOwnProp'+'erty']('FORMAT'))return v['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x189667=_0x51bdf9['readLine']()['split']('\x20');if(_0x189667['length']!==-0x1*0xbff+0x1*-0x1c43+0x2846)return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x42649c=parseInt(_0x189667[-0x1*0x1fb4+-0x1cf4+0x3ca9],-0x1*-0x404+-0x2*-0xfe5+-0x23c4),_0x4a952b=parseInt(_0x189667[0x2*-0x196+0x1cf*-0x11+0x21ee],-0x1*0x12f4+-0x1a*0x2e+0x17aa),_0x31f98f=this['_readPixel'+'s'](_0x51bdf9,_0x4a952b,_0x42649c,_0x189667[0x1*0x14af+-0x1d6+-0x12d9]==='-Y');return _0x31f98f?{'width':_0x4a952b,'height':_0x42649c,'levels':[_0x31f98f]}:null;}['_readPixel'+'s'](_0x4f02db,_0x59e429,_0x2cb912,_0x162860){if(_0x59e429<0x114d*-0x1+-0x25a8+-0x7db*-0x7||_0x59e429>-0xb204+-0xff94*0x1+0x2b33*0xd)return this['_readPixel'+'sFlat'](_0x4f02db,_0x59e429,_0x2cb912);const _0x3ec5ad=[-0xbb7*0x1+0x4*0xd3+0x86b,-0x31d*-0xb+-0x1ed9+-0x366,0x53*0x66+-0xa1c+0x1*-0x16f6,-0x11ba*0x1+-0x3a3+0x155d];if(_0x4f02db['readArray'](_0x3ec5ad),_0x3ec5ad[-0x883+-0x246c+0x2cef*0x1]!==0x24a+0x3cc+0x30a*-0x2||_0x3ec5ad[-0x230e+-0x3*-0x151+0x1f1c]!==-0x174f+-0x443*-0x9+-0xf0a||(_0x3ec5ad[0x14e3*-0x1+0x2573+-0x108e]&0x3cd+-0x9*-0x3c+0x5*-0x115)!==0xe22+-0x1*-0x7b5+-0x15d7)return _0x4f02db['skip'](-(0x13*0x5f+-0x123f+0x29*0x46)),this['_readPixel'+'sFlat'](_0x4f02db,_0x59e429,_0x2cb912);const _0xcebd07=new ArrayBuffer(_0x59e429*_0x2cb912*(0x1a16+0x73b*0x4+-0x2*0x1b7f)),_0x52c07c=new Uint8Array(_0xcebd07);let _0x2cc5a6=_0x162860?-0x1e*-0x1+-0x6*0x381+0x14e8:_0x59e429*(-0xb9b+0xc*-0x1fc+-0x1*-0x236f)*(_0x2cb912-(0x6f3+-0xf2f+0x25*0x39)),_0x16881a,_0x201432,_0x147e83,_0x2cb89f,_0x528f53,_0x5ff993;for(_0x201432=0x2*-0x1285+-0xeb5+0x33bf*0x1;_0x201432<_0x2cb912;++_0x201432){if(_0x201432&&_0x4f02db['readArray'](_0x3ec5ad),(_0x3ec5ad[0xa80+0x127c+-0x1cfa]<<-0x1fbc+-0xaed*0x1+-0x2ab1*-0x1)+_0x3ec5ad[-0x14*-0x1d+-0x44*0x2a+-0x8e7*-0x1]!==_0x59e429)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x2cb89f=-0x200d+0x9fb*0x2+0xc17*0x1;_0x2cb89f<-0x7*0x2a5+-0x3a9+0x1630;++_0x2cb89f)for(_0x16881a=-0x20b*0xb+-0x1*-0x62f+0x104a;_0x16881a<_0x59e429;)if(_0x528f53=_0x4f02db['readU8'](),_0x528f53>-0x1*0x1c2b+-0x252b+0x41d6){if(_0x528f53-=-0x1b59+0x2622+-0xa49,_0x16881a+_0x528f53>_0x59e429)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x5ff993=_0x4f02db['readU8'](),_0x147e83=0x17+-0x1116+-0x1*-0x10ff;_0x147e83<_0x528f53;++_0x147e83)_0x52c07c[_0x2cc5a6+_0x2cb89f+(-0x9b*0x2+-0x18ee+0x1a28)*_0x16881a++]=_0x5ff993;}else{if(_0x528f53===-0x119e+0x2*0x63d+0x524||_0x16881a+_0x528f53>_0x59e429)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x147e83=0xd17+0x3*-0x649+0x5c4;_0x147e83<_0x528f53;++_0x147e83)_0x52c07c[_0x2cc5a6+_0x2cb89f+(0x1f*-0xbf+0x1*0x149+-0x15dc*-0x1)*_0x16881a++]=_0x4f02db['readU8']();}_0x2cc5a6+=_0x59e429*(0xcf6+0x47b+-0x116d)*(_0x162860?-0x1ac*-0xf+-0x4*0x61+-0x178f:-(-0x85*-0x1+0x1*0x1475+-0x14f9));}return _0x52c07c;}['_readPixel'+'sFlat'](_0x12b4b5,_0x2f18b0,_0x41bac0){return _0x12b4b5['remainingB'+'ytes']===_0x2f18b0*_0x41bac0*(-0x2076+-0x79*-0x49+-0xad*0x3)?new Uint8Array(_0x12b4b5['arraybuffe'+'r'],_0x12b4b5['offset']):null;}}const Wg={'repeat':tt,'clamp':ae,'mirror':Of},$g={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},NL={'default':Di,'rgbm':on,'rgbe':ap,'rgbp':Io,'swizzleGGGR':op},zL=function(_0xca4b){const _0x4d7793=Mi['calcMipLev'+'elsCount'](_0xca4b['_width'],_0xca4b['_height']),_0x766f7f=function(_0xf685cb){return _0xf685cb instanceof HTMLCanvasElement||_0xf685cb instanceof HTMLImageElement||_0xf685cb instanceof HTMLVideoElement;};if(!(_0xca4b['_format']===Se||_0xca4b['_format']===Ke)||_0xca4b['_volume']||_0xca4b['_compresse'+'d']||_0xca4b['_levels']['length']===-0xbb+0x199*0x2+0x2*-0x13b||_0xca4b['_levels']['length']===_0x4d7793||_0x766f7f(_0xca4b['_cubemap']?_0xca4b['_levels'][0x7fb+0x1*-0x1e76+0x167b][0x9*0x217+-0x137f+-0x10*-0xb]:_0xca4b['_levels'][0x1*0x8d7+0xef5+-0x17cc]))return;const _0x9ef234=function(_0x57389f,_0x12f5dc,_0x216417){const _0x2d3fa1=Math['max'](-0x17b*0x6+-0x14f9+0x1ddc,_0x57389f>>0x12be+-0x2*0x133+0x1057*-0x1),_0x4af192=Math['max'](0x301*0x1+-0x246c+0x216c,_0x12f5dc>>-0x15eb+-0xf53+0x253f),_0x5f5062=new _0x216417['constructo'+'r'](_0x2d3fa1*_0x4af192*(-0x1dee+-0x2550+-0x21a1*-0x2)),_0x5f1395=Math['floor'](_0x57389f/_0x2d3fa1),_0x18ddd1=Math['floor'](_0x12f5dc/_0x4af192),_0x5924c1=_0x5f1395*_0x18ddd1;for(let _0x10f696=0xe31+0x12a9+-0x20da;_0x10f696<_0x4af192;++_0x10f696)for(let _0x106e6e=0x5*0x584+0x3f3*0x3+-0x276d*0x1;_0x106e6e<_0x2d3fa1;++_0x106e6e)for(let _0x28f8ab=0xad4+-0x1a*-0x78+0x5c1*-0x4;_0x28f8ab<-0x8bd+-0x47*0x68+0x2599;++_0x28f8ab){let _0x1384d1=-0x1801+-0x115e+0x295f;for(let _0x28f2be=-0x1976+0x5c*0x5c+-0xe*0x8b;_0x28f2be<_0x18ddd1;++_0x28f2be)for(let _0x35c32e=-0xf86*0x1+-0x2678+0x35fe;_0x35c32e<_0x5f1395;++_0x35c32e)_0x1384d1+=_0x216417[(_0x106e6e*_0x5f1395+_0x35c32e+(_0x10f696*_0x18ddd1+_0x28f2be)*_0x57389f)*(0x271+0x2487+-0x26f4)+_0x28f8ab];_0x5f5062[(_0x106e6e+_0x10f696*_0x2d3fa1)*(0x4a0+-0x2558+0x20bc)+_0x28f8ab]=_0x1384d1/_0x5924c1;}return _0x5f5062;};for(let _0x5ad920=_0xca4b['_levels']['length'];_0x5ad920<_0x4d7793;++_0x5ad920){const _0x603dd=Math['max'](-0x115a+0x13a1+-0x246,_0xca4b['_width']>>_0x5ad920-(-0x436+-0x86b+0x16*0x93)),_0x569b72=Math['max'](0x2*0x5c3+-0x2613+0x1a8e,_0xca4b['_height']>>_0x5ad920-(-0x1d3*0xa+0x7*0x49+0x1040));if(_0xca4b['_cubemap']){const _0xe170ed=[];for(let _0x26e925=-0x9d*-0x1+-0x1800+0x1763;_0x26e925<0x1084+-0x641*0x3+0x245;++_0x26e925)_0xe170ed['push'](_0x9ef234(_0x603dd,_0x569b72,_0xca4b['_levels'][_0x5ad920-(-0x60+-0x1423+0xa42*0x2)][_0x26e925]));_0xca4b['_levels']['push'](_0xe170ed);}else _0xca4b['_levels']['push'](_0x9ef234(_0x603dd,_0x569b72,_0xca4b['_levels'][_0x5ad920-(0x2568+0x194e+-0x3eb5)]));}_0xca4b['_levelsUpd'+'ated']=_0xca4b['_cubemap']?[[!(-0x17*0xfe+-0xf47+0x2619*0x1),!(0x1572+-0x1*-0x2650+0x1*-0x3bc2),!(-0xbd7+-0x1a4e+0x2625),!(-0x25d5+-0x2c5*-0x8+0xfad),!(-0x1775+0x1c67*-0x1+0x33dc),!(0xe*-0x1d2+0x21c7+-0x84b)]]:[!(-0x2281*0x1+-0x1fdb+-0x7c*-0x89)];};class UL extends Ne{constructor(_0x1f207c){super(_0x1f207c,'texture');const _0x3034ed=_0x1f207c['assets'],_0x4cabc4=_0x1f207c['graphicsDe'+'vice'];this['_device']=_0x4cabc4,this['_assets']=_0x3034ed,this['imgParser']=new RL(_0x3034ed,_0x4cabc4),this['parsers']={'dds':new kL(_0x3034ed),'ktx':new LL(_0x3034ed),'ktx2':new OL(_0x3034ed,_0x4cabc4),'basis':new EL(_0x3034ed,_0x4cabc4),'hdr':new BL(_0x3034ed)};}set['crossOrigi'+'n'](_0x56fecb){this['imgParser']['crossOrigi'+'n']=_0x56fecb;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x223870){this['imgParser']['maxRetries']=_0x223870;for(const _0x3882aa in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x3882aa)&&(this['parsers'][_0x3882aa]['maxRetries']=_0x223870);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x26fea9){return _0x26fea9['indexOf']('?')>=-0x1*0x1bd9+-0x1275+0x2e4e?_0x26fea9['split']('?')[-0x8*-0x1ec+0x6c4+-0x1624]:_0x26fea9;}['_getParser'](_0x46f8c3){const _0x7bdbd9=fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x46f8c3))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x7bdbd9]||this['imgParser'];}['_getTextur'+'eOptions'](_0x1add7c){var _0x12c41b;const _0x4983da={'profilerHint':ur};if(_0x1add7c){((_0x12c41b=_0x1add7c['name'])==null?void(0x2158+0x20e*0x11+-0x4446*0x1):_0x12c41b['length'])>0xf7b+-0x16c7+0x74c&&(_0x4983da['name']=_0x1add7c['name']);const _0x33eaf9=_0x1add7c['data'];_0x33eaf9['hasOwnProp'+'erty']('minfilter')&&(_0x4983da['minFilter']=$g[_0x33eaf9['minfilter']]),_0x33eaf9['hasOwnProp'+'erty']('magfilter')&&(_0x4983da['magFilter']=$g[_0x33eaf9['magfilter']]),_0x33eaf9['hasOwnProp'+'erty']('addressu')&&(_0x4983da['addressU']=Wg[_0x33eaf9['addressu']]),_0x33eaf9['hasOwnProp'+'erty']('addressv')&&(_0x4983da['addressV']=Wg[_0x33eaf9['addressv']]),_0x33eaf9['hasOwnProp'+'erty']('mipmaps')&&(_0x4983da['mipmaps']=_0x33eaf9['mipmaps']),_0x33eaf9['hasOwnProp'+'erty']('anisotropy')&&(_0x4983da['anisotropy']=_0x33eaf9['anisotropy']),_0x33eaf9['hasOwnProp'+'erty']('flipY')&&(_0x4983da['flipY']=!!_0x33eaf9['flipY']),_0x33eaf9['hasOwnProp'+'erty']('srgb')&&(_0x4983da['srgb']=!!_0x33eaf9['srgb']),_0x33eaf9['hasOwnProp'+'erty']('type')?_0x4983da['type']=NL[_0x33eaf9['type']]:_0x33eaf9['hasOwnProp'+'erty']('rgbm')&&_0x33eaf9['rgbm']?_0x4983da['type']=on:_0x1add7c['file']&&(_0x1add7c['file']['opt']&0x17b*0x16+-0x7*0x22+-0x11*0x1dc)!==-0x20b5+0x4dc*-0x4+0x3425&&(_0x4983da['type']=op);}return _0x4983da;}['load'](_0x501cd0,_0x33bee9,_0x698f08){typeof _0x501cd0=='string'&&(_0x501cd0={'load':_0x501cd0,'original':_0x501cd0}),this['_getParser'](_0x501cd0['original'])['load'](_0x501cd0,_0x33bee9,_0x698f08);}['open'](_0x3203ae,_0x5b904b,_0x5f2c44){if(!_0x3203ae)return;const _0x58ef69=this['_getTextur'+'eOptions'](_0x5f2c44);let _0x447f6d=this['_getParser'](_0x3203ae)['open'](_0x3203ae,_0x5b904b,this['_device'],_0x58ef69);return _0x447f6d===null?_0x447f6d=new he(this['_device'],{'width':0x4,'height':0x4,'format':dr}):(zL(_0x447f6d),_0x5b904b['unswizzled'+'GGGR']&&(_0x5f2c44['file']['variants']['basis']['opt']&=-(-0x2217+0xcbf+0x1561))),_0x447f6d;}['patch'](_0x4afa85,_0x332abc){const _0x57b995=_0x4afa85['resource'];if(!_0x57b995)return;const _0xda68c9=this['_getTextur'+'eOptions'](_0x4afa85);for(const _0x25ce9a of Object['keys'](_0xda68c9))_0x57b995[_0x25ce9a]=_0xda68c9[_0x25ce9a];}}const VL='inline',GL='immersive-'+'vr',Ao='immersive-'+'ar',qg='viewer',HL='left',WL='cpu-optimi'+'zed',Bx='gpu-optimi'+'zed',Nx='luminance-'+'alpha',zx='unsigned-s'+'hort',Ux='float32';class $L{constructor(_0x4fca66){c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRDOMOverl'+'ayState']),c(this,'_root',null),(this['_manager']=_0x4fca66,this['init']());}async['init'](){const _0xf47daf=await navigator['xr']['isSessionS'+'upported']('immersive-'+'ar',{'features':['dom-overla'+'y']});this['_supported']=_0xf47daf;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x3e50cf){!this['_supported']||this['_manager']['active']||(this['_root']=_0x3e50cf);}get['root'](){return this['_root'];}}const ih=[],Xg=[];class Ef extends ce{constructor(_0x276139,_0x55a730,_0x5a8fe0,_0x5e988f=null){super(),c(this,'manager'),c(this,'_xrHitTest'+'Source'),c(this,'_transient'),c(this,'_inputSour'+'ce'),(this['manager']=_0x276139,this['_xrHitTest'+'Source']=_0x55a730,this['_transient']=_0x5a8fe0,this['_inputSour'+'ce']=_0x5e988f);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x168625=this['manager']['hitTest']['sources'],_0x140bbb=_0x168625['indexOf'](this);_0x140bbb!==-(-0x1*0x655+0x103*0x3+0x34d)&&_0x168625['splice'](_0x140bbb,0x1*0x1bf5+-0x724+0x6f*-0x30),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x160f2c){if(this['_transient']){const _0x4e31f0=_0x160f2c['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x54cf03=-0xdb9+-0x14b3*-0x1+-0x2*0x37d;_0x54cf03<_0x4e31f0['length'];_0x54cf03++){const _0x26d4ee=_0x4e31f0[_0x54cf03];if(!_0x26d4ee['results']['length'])continue;let _0x291b80;_0x26d4ee['inputSourc'+'e']&&(_0x291b80=this['manager']['input']['_getByInpu'+'tSource'](_0x26d4ee['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x26d4ee['results'],_0x291b80);}}else{const _0x490b05=_0x160f2c['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x490b05['length'])return;this['updateHitR'+'esults'](_0x490b05);}}['updateHitR'+'esults'](_0x571bf4,_0x50322d){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x50322d)return;const _0x57c8f9=ih['pop']()??new T();_0x50322d?_0x57c8f9['copy'](_0x50322d['getOrigin']()):_0x57c8f9['copy'](this['manager']['camera']['getPositio'+'n']());let _0x2f65e1=(-0x1637+0x1ecc+-0x894)/(-0xf67+0x9ba+0x1*0x5ad),_0x59e174=null;const _0x54abcd=ih['pop']()??new T(),_0x1ef882=Xg['pop']()??new se();for(let _0x1a9e66=0x17a3+-0x1c89+0xb*0x72;_0x1a9e66<_0x571bf4['length'];_0x1a9e66++){const _0x1aeb4e=_0x571bf4[_0x1a9e66]['getPose'](this['manager']['_reference'+'Space']),_0x3a5482=_0x57c8f9['distance'](_0x1aeb4e['transform']['position']);_0x3a5482>=_0x2f65e1||(_0x2f65e1=_0x3a5482,_0x59e174=_0x571bf4[_0x1a9e66],_0x54abcd['copy'](_0x1aeb4e['transform']['position']),_0x1ef882['copy'](_0x1aeb4e['transform']['orientatio'+'n']));}this['fire']('result',_0x54abcd,_0x1ef882,_0x50322d||this['_inputSour'+'ce'],_0x59e174),this['manager']['hitTest']['fire']('result',this,_0x54abcd,_0x1ef882,_0x50322d||this['_inputSour'+'ce'],_0x59e174),ih['push'](_0x57c8f9),ih['push'](_0x54abcd),Xg['push'](_0x1ef882);}}c(Ef,'EVENT_REMO'+'VE','remove'),c(Ef,'EVENT_RESU'+'LT','result');class kr extends ce{constructor(_0x50ed0e){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),c(this,'_available',!(-0x9*-0x229+0x1d5b+-0x30cb)),c(this,'_checkingA'+'vailabilit'+'y',!(-0xf0*0xa+0xde5+-0x2*0x242)),c(this,'sources',[]),(this['manager']=_0x50ed0e,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x203e1a=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(0x1c8e+0xdd+-0x9ce*0x3);if(!_0x203e1a)return;this['_available']=_0x203e1a,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(0x3*0x3ca+-0x628+-0x2*0x29b),this['manager']['session']['requestRef'+'erenceSpac'+'e'](qg)['then'](_0x3a9321=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x3a9321})['then'](_0x4ed2f7=>{_0x4ed2f7['cancel'](),this['manager']['active']&&(this['_available']=!(-0x1*-0x82f+0x3*-0x101+0x2*-0x296),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x1*-0x24cd+0x1*-0x22d7+0x47a5);for(let _0x2e1250=0xa63*0x3+0x29*0x84+0x116f*-0x3;_0x2e1250<this['sources']['length'];_0x2e1250++)this['sources'][_0x2e1250]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0xdf9ad1={}){var _0x2dc018,_0x1d07a3;if(!this['_supported']){(_0x2dc018=_0xdf9ad1['callback'])==null||_0x2dc018['call'](_0xdf9ad1,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x1d07a3=_0xdf9ad1['callback'])==null||_0x1d07a3['call'](_0xdf9ad1,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0xdf9ad1['profile']&&!_0xdf9ad1['spaceType']&&(_0xdf9ad1['spaceType']=qg);let _0x4304cf;const _0x1bb792=_0xdf9ad1['offsetRay'];if(_0x1bb792){const _0x28008f=new DOMPoint(_0x1bb792['origin']['x'],_0x1bb792['origin']['y'],_0x1bb792['origin']['z'],-0x2*0xcd7+-0xaec+0x249b),_0x3ce7a3=new DOMPoint(_0x1bb792['direction']['x'],_0x1bb792['direction']['y'],_0x1bb792['direction']['z'],0x1154+-0x1*-0x16c9+-0x281d);_0x4304cf=new XRRay(_0x28008f,_0x3ce7a3);}const _0x2d2402=_0xdf9ad1['callback'];_0xdf9ad1['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0xdf9ad1['spaceType'])['then'](_0x30d535=>{if(!this['manager']['session']){const _0x38512f=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x2d2402&&_0x2d2402(_0x38512f),this['fire']('error',_0x38512f);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x30d535,'entityTypes':_0xdf9ad1['entityType'+'s']||void(-0xbf3+0x270b+-0x1b18),'offsetRay':_0x4304cf})['then'](_0x19c7d3=>{this['_onHitTest'+'Source'](_0x19c7d3,!(0x22bb+-0x386+-0x1f34),_0xdf9ad1['inputSourc'+'e'],_0x2d2402);})['catch'](_0x3762f5=>{_0x2d2402&&_0x2d2402(_0x3762f5),this['fire']('error',_0x3762f5);});})['catch'](_0x431942=>{_0x2d2402&&_0x2d2402(_0x431942),this['fire']('error',_0x431942);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0xdf9ad1['profile'],'entityTypes':_0xdf9ad1['entityType'+'s']||void(-0x1*0x2311+-0x1*0xcb5+0x2*0x17e3),'offsetRay':_0x4304cf})['then'](_0x3096c3=>{this['_onHitTest'+'Source'](_0x3096c3,!(0x1*-0xc25+0x9d1*-0x1+-0x6*-0x3a9),_0xdf9ad1['inputSourc'+'e'],_0x2d2402);})['catch'](_0x2e044d=>{_0x2d2402&&_0x2d2402(_0x2e044d),this['fire']('error',_0x2e044d);});}['_onHitTest'+'Source'](_0x56d2e6,_0x1c8cff,_0xa9c416,_0x49c388){if(!this['manager']['session']){_0x56d2e6['cancel']();const _0x34ff11=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x49c388&&_0x49c388(_0x34ff11),this['fire']('error',_0x34ff11);return;}const _0x437f98=new Ef(this['manager'],_0x56d2e6,_0x1c8cff,_0xa9c416??null);this['sources']['push'](_0x437f98),_0x49c388&&_0x49c388(null,_0x437f98),this['fire']('add',_0x437f98);}['update'](_0xbd6aef){if(this['_available']){for(let _0x2fba08=-0x7*0x2d2+0x1a9*-0x2+0x1710;_0x2fba08<this['sources']['length'];_0x2fba08++)this['sources'][_0x2fba08]['update'](_0xbd6aef);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}c(kr,'EVENT_AVAI'+'LABLE','available'),c(kr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(kr,'EVENT_ADD','add'),c(kr,'EVENT_REMO'+'VE','remove'),c(kr,'EVENT_RESU'+'LT','result'),c(kr,'EVENT_ERRO'+'R','error');class Cf extends ce{constructor(_0x4f7486,_0x2e1bc3){super(),c(this,'_image'),c(this,'_width'),c(this,'_bitmap',null),c(this,'_measuredW'+'idth',0x731+0xc8*0xe+-0x77*0x27),c(this,'_trackable',!(0xb05+-0xf26+0x2e*0x17)),c(this,'_tracking',!(-0x1da8+0x2*0x4b5+0x143f)),c(this,'_emulated',!(0xf2b+0x1523+-0x244d)),c(this,'_pose',null),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_image']=_0x4f7486,this['_width']=_0x2e1bc3);}get['image'](){return this['_image'];}set['width'](_0x26da58){this['_width']=_0x26da58;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x2a8c5d=>(this['_bitmap']=_0x2a8c5d,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}c(Cf,'EVENT_TRAC'+'KED','tracked'),c(Cf,'EVENT_UNTR'+'ACKED','untracked');class Vx extends ce{constructor(_0x18a693){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),c(this,'_available',!(-0x1*-0x148d+-0x1b18+0x68c)),c(this,'_images',[]),(this['_manager']=_0x18a693,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x498c38,_0x654eb8){if(!this['_supported']||this['_manager']['active'])return null;const _0x33d965=new Cf(_0x498c38,_0x654eb8);return this['_images']['push'](_0x33d965),_0x33d965;}['remove'](_0x314366){if(this['_manager']['active'])return;const _0xf2dccf=this['_images']['indexOf'](_0x314366);_0xf2dccf!==-(-0x21ec+0x77f+0x1a6e*0x1)&&(_0x314366['destroy'](),this['_images']['splice'](_0xf2dccf,0x1a06*-0x1+-0x20bb+0x3ac2));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x137c08=>{this['_available']=!(-0x2*-0x48f+-0x2*-0x1304+0x2c6*-0x11);for(let _0x7e4c9d=-0x100f*0x2+-0xaf1+0x2b0f;_0x7e4c9d<_0x137c08['length'];_0x7e4c9d++)this['_images'][_0x7e4c9d]['_trackable']=_0x137c08[_0x7e4c9d]==='trackable';})['catch'](_0x121fe9=>{this['_available']=!(0x1c4c+0x23dd+-0x4*0x100a),this['fire']('error',_0x121fe9);});}['_onSession'+'End'](){this['_available']=!(0x21b8+-0x738+-0x1a7f);for(let _0x361609=0x46d*0x3+-0x1cc2+-0xf7b*-0x1;_0x361609<this['_images']['length'];_0x361609++){const _0x4c4371=this['_images'][_0x361609];_0x4c4371['_pose']=null,_0x4c4371['_measuredW'+'idth']=-0x457*-0x4+0x212b*0x1+-0x3287,_0x4c4371['_tracking']&&(_0x4c4371['_tracking']=!(-0x4a4*-0x3+0xb6b+-0x1956),_0x4c4371['fire']('untracked'));}}['prepareIma'+'ges'](_0x522df1){this['_images']['length']?Promise['all'](this['_images']['map'](_0x4de9c4=>_0x4de9c4['prepare']()))['then'](_0x105383=>{_0x522df1(null,_0x105383);})['catch'](_0x4d5037=>{_0x522df1(_0x4d5037,null);}):_0x522df1(null,null);}['update'](_0x41ed25){if(!this['_available'])return;const _0x55fdbf=_0x41ed25['getImageTr'+'ackingResu'+'lts'](),_0x5a6e07={};for(let _0xedb959=0x239f+0x7ed*-0x2+-0x13c5;_0xedb959<_0x55fdbf['length'];_0xedb959++){_0x5a6e07[_0x55fdbf[_0xedb959]['index']]=_0x55fdbf[_0xedb959];const _0x2ad22b=this['_images'][_0x55fdbf[_0xedb959]['index']];_0x2ad22b['_emulated']=_0x55fdbf[_0xedb959]['trackingSt'+'ate']==='emulated',_0x2ad22b['_measuredW'+'idth']=_0x55fdbf[_0xedb959]['measuredWi'+'dthInMeter'+'s'],_0x2ad22b['_pose']=_0x41ed25['getPose'](_0x55fdbf[_0xedb959]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x20ee0f=-0x183b+-0x3+-0x2*-0xc1f;_0x20ee0f<this['_images']['length'];_0x20ee0f++)this['_images'][_0x20ee0f]['_tracking']&&!_0x5a6e07[_0x20ee0f]?(this['_images'][_0x20ee0f]['_tracking']=!(0xe*0x7e+-0x8c1+-0xef*-0x2),this['_images'][_0x20ee0f]['fire']('untracked')):!this['_images'][_0x20ee0f]['_tracking']&&_0x5a6e07[_0x20ee0f]&&(this['_images'][_0x20ee0f]['_tracking']=!(0x187*-0x9+0x1*-0x17c9+-0x4b1*-0x8),this['_images'][_0x20ee0f]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}c(Vx,'EVENT_ERRO'+'R','error');class qL{constructor(_0x13c039,_0x3d029e){c(this,'_index'),c(this,'_hand'),c(this,'_joints',[]),c(this,'_tip',null),(this['_index']=_0x13c039,this['_hand']=_0x3d029e,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const jg=ye['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],Gx={};for(let l=0x1829*-0x1+-0x1d07+0x3530;l<jg['length'];l++)Gx[jg[l]]=!(0xa8b*-0x1+0x1106*0x2+-0x1781);class Yg{constructor(_0x48a2ba,_0x2e8357,_0x44d369,_0x23b841=null){c(this,'_index'),c(this,'_id'),c(this,'_hand'),c(this,'_finger'),c(this,'_wrist'),c(this,'_tip'),c(this,'_radius',null),c(this,'_localTran'+'sform',new q()),c(this,'_worldTran'+'sform',new q()),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_dirtyLoca'+'l',!(0x23a8+0x3*-0x603+-0x119f)),(this['_index']=_0x48a2ba,this['_id']=_0x2e8357,this['_hand']=_0x44d369,this['_finger']=_0x23b841,this['_wrist']=_0x2e8357==='wrist',this['_tip']=this['_finger']&&!!Gx[_0x2e8357]);}['update'](_0x1c7c4f){this['_dirtyLoca'+'l']=!(-0x1967+0xd*0xce+0xef1),this['_radius']=_0x1c7c4f['radius'],this['_localPosi'+'tion']['copy'](_0x1c7c4f['transform']['position']),this['_localRota'+'tion']['copy'](_0x1c7c4f['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0xb*0x327+0x769*0x5+0x1*-0x25f),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x60eae8=this['_hand']['_manager']['camera']['parent'];_0x60eae8?this['_worldTran'+'sform']['mul2'](_0x60eae8['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||0x1c+-0x1f6*0xe+0x1b58+0.005;}}let Sh=[];const Ir=new T(),rh=new T(),Kg=new T();ye['browser']&&window['XRHand']&&(Sh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Mf extends ce{constructor(_0x212897){super(),c(this,'_manager'),c(this,'_inputSour'+'ce'),c(this,'_tracking',!(0x1a3c+0x764+-0xb35*0x3)),c(this,'_fingers',[]),c(this,'_joints',[]),c(this,'_jointsByI'+'d',{}),c(this,'_tips',[]),c(this,'_wrist',null);const _0x19b8b0=_0x212897['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x212897['_manager'],this['_inputSour'+'ce']=_0x212897,_0x19b8b0['get']('wrist')){const _0x2cf380=new Yg(-0x1c9c+0x1b07+0x2d*0x9,'wrist',this,null);this['_wrist']=_0x2cf380,this['_joints']['push'](_0x2cf380),this['_jointsByI'+'d']['wrist']=_0x2cf380;}for(let _0x3b908f=-0xf7+-0x1d7b+0x1e72;_0x3b908f<Sh['length'];_0x3b908f++){const _0x351a1e=new qL(_0x3b908f,this);for(let _0x342e26=-0x59+-0x1*-0xb25+-0xacc;_0x342e26<Sh[_0x3b908f]['length'];_0x342e26++){const _0x2650a2=Sh[_0x3b908f][_0x342e26];if(!_0x19b8b0['get'](_0x2650a2))continue;const _0x4b1f77=new Yg(_0x342e26,_0x2650a2,this,_0x351a1e);this['_joints']['push'](_0x4b1f77),this['_jointsByI'+'d'][_0x2650a2]=_0x4b1f77,_0x4b1f77['tip']&&(this['_tips']['push'](_0x4b1f77),_0x351a1e['_tip']=_0x4b1f77),_0x351a1e['_joints']['push'](_0x4b1f77);}}}['update'](_0x2071b5){const _0x1de942=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x403457=0x631*0x5+0xdb2+-0x2ca7;_0x403457<this['_joints']['length'];_0x403457++){const _0x562902=this['_joints'][_0x403457],_0x204111=_0x1de942['hand']['get'](_0x562902['_id']);if(_0x204111){let _0x25f5b9;if(_0x2071b5['session']['visibility'+'State']!=='hidden'&&(_0x25f5b9=_0x2071b5['getJointPo'+'se'](_0x204111,this['_manager']['_reference'+'Space'])),_0x25f5b9)_0x562902['update'](_0x25f5b9),_0x562902['wrist']&&!this['_tracking']&&(this['_tracking']=!(0x4*-0x44f+-0x592*0x4+0x2784),this['fire']('tracking'));else{if(_0x562902['wrist']){this['_tracking']&&(this['_tracking']=!(0x124+0x5de*-0x1+0x4bb),this['fire']('trackinglo'+'st'));break;}}}}const _0x206784=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x15fbe4=this['_jointsByI'+'d']['thumb-tip'],_0x85efc6=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x2cad01=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x8721c4=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x3278ea=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x206784&&_0x15fbe4&&_0x85efc6&&_0x2cad01&&_0x8721c4&&_0x3278ea){this['_inputSour'+'ce']['_dirtyRay']=!(-0x2*-0x1237+-0xd8d+-0x1*0x16e1),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x15fbe4['_localPosi'+'tion'],_0x2cad01['_localPosi'+'tion'],-0x111a+-0x1*-0x9fd+0x3*0x25f+0.5);let _0x180ca2=_0x206784,_0x89330a=_0x3278ea;if(this['_inputSour'+'ce']['handedness']===HL){const _0x324886=_0x180ca2;_0x180ca2=_0x89330a,_0x89330a=_0x324886;}Ir['sub2'](_0x180ca2['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),rh['sub2'](_0x89330a['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Kg['cross'](Ir,rh)['normalize'](),Ir['lerp'](_0x85efc6['_localPosi'+'tion'],_0x8721c4['_localPosi'+'tion'],-0xa5a+-0x243a+0x43c*0xb+0.5),Ir['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](Kg,Ir,-0x1685+-0x14b1*0x1+0x2b36+0.5)['normalize']();}const _0x5bb29f=this['_fingerIsC'+'losed'](0x2072+-0xa1f*-0x3+0x2bb*-0x17)&&this['_fingerIsC'+'losed'](-0xe56+0x2500+-0x16a7)&&this['_fingerIsC'+'losed'](-0x185e+0xf*0x221+-0x78d);this['_fingersTi'+'pDistance'](-0x1b3e+0x598+-0x22*-0xa3,-0x245b+0x1a5*0x9+0x158f*0x1)?this['_inputSour'+'ce']['_pinching']?(this['_inputSour'+'ce']['fire']('pinching'),this['_manager']['input']['fire']('pinching',this['_inputSour'+'ce'])):(this['_inputSour'+'ce']['fire']('pinchstart'),this['_manager']['input']['fire']('pinchstart',this['_inputSour'+'ce']),this['_inputSour'+'ce']['_pinching']=!(0x9ac*-0x4+0xae3+-0xb*-0x287),console['log']('===>>>xr\x20p'+'inch','pinchstart',new Date()['getTime']())):this['_inputSour'+'ce']['_pinching']&&(this['_inputSour'+'ce']['fire']('pinchend'),this['_manager']['input']['fire']('pinchend',this['_inputSour'+'ce']),this['_inputSour'+'ce']['_pinching']=!(-0x57d*-0x3+-0x1001+0x3*-0x27),console['log']('===>>>xr\x20p'+'inch','pinchend',new Date()['getTime']())),_0x5bb29f?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(-0x1*0x1d3f+0x23d5+-0x232*0x3),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(0x6*-0x46d+0x1f3*0x7+0xcea),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingersTi'+'pDistance'](_0xf342c4,_0x3b87e4){const _0x185707=this['_fingers'][_0xf342c4],_0x50eb16=this['_fingers'][_0x3b87e4];return _0x185707['tip']['_localPosi'+'tion']['distance'](_0x50eb16['tip']['_localPosi'+'tion'])<=0x82a+-0x246c+0x1c42+0.01;}['_fingerIsC'+'losed'](_0x5790e3){const _0x5b0fee=this['_fingers'][_0x5790e3];return Ir['sub2'](_0x5b0fee['joints'][0xd1+-0x16ba+0x15e9]['_localPosi'+'tion'],_0x5b0fee['joints'][0x1585*-0x1+-0x17*-0x4a+-0x38*-0x44]['_localPosi'+'tion'])['normalize'](),rh['sub2'](_0x5b0fee['joints'][0x16f8+-0x2322*-0x1+-0x152*0x2c]['_localPosi'+'tion'],_0x5b0fee['joints'][-0x21d2+-0x15b+0x8cc*0x4]['_localPosi'+'tion'])['normalize'](),Ir['dot'](rh)<-(-0x1af7*0x1+0x1cab*-0x1+0x37a2+0.8);}['getJointBy'+'Id'](_0x448d97){return this['_jointsByI'+'d'][_0x448d97]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}c(Mf,'EVENT_TRAC'+'KING','tracking'),c(Mf,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const Zg=new T(),Qg=new se();let XL=0x121e+-0x1c7f+0xa61;class xs extends ce{constructor(_0x19e239,_0x4b59a7){super(),c(this,'_id'),c(this,'_manager'),c(this,'_xrInputSo'+'urce'),c(this,'_ray',new uu()),c(this,'_rayLocal',new uu()),c(this,'_grip',!(0x1422*0x1+-0x169+0x1*-0x12b8)),c(this,'_hand',null),c(this,'_velocitie'+'sAvailable',!(0x5c*0x21+-0x5c3*0x5+0x10f4)),c(this,'_velocitie'+'sTimestamp',ne()),c(this,'_localTran'+'sform',null),c(this,'_worldTran'+'sform',null),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_localPosi'+'tion',null),c(this,'_localPosi'+'tionLast',null),c(this,'_localRota'+'tion',null),c(this,'_linearVel'+'ocity',null),c(this,'_dirtyLoca'+'l',!(0x66a*-0x6+-0x580+0x2bfc)),c(this,'_dirtyRay',!(0x1*-0x169b+0x1921+-0x285)),c(this,'_selecting',!(-0x80e*-0x1+0x23d*-0xe+0x1749)),c(this,'_squeezing',!(0x17*0x15c+0x7e+-0x1fc1)),c(this,'_elementIn'+'put',!(-0x149b+0x1*-0x411+0x18ac)),c(this,'_elementEn'+'tity',null),c(this,'_hitTestSo'+'urces',[]),(this['_id']=++XL,this['_manager']=_0x19e239,this['_xrInputSo'+'urce']=_0x4b59a7,_0x4b59a7['hand']&&(this['_hand']=new Mf(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x3e94cb){this['_elementIn'+'put']!==_0x3e94cb&&(this['_elementIn'+'put']=_0x3e94cb,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x5d10d9){if(this['_hand'])this['_hand']['update'](_0x5d10d9);else{const _0x5579eb=this['_xrInputSo'+'urce']['gripSpace'];if(_0x5579eb){const _0x39b7bf=_0x5d10d9['getPose'](_0x5579eb,this['_manager']['_reference'+'Space']);if(_0x39b7bf){this['_grip']||(this['_grip']=!(-0xc9+0x2089+-0x7f0*0x4),this['_localTran'+'sform']=new q(),this['_worldTran'+'sform']=new q(),this['_localPosi'+'tionLast']=new T(),this['_localPosi'+'tion']=new T(),this['_localRota'+'tion']=new se(),this['_linearVel'+'ocity']=new T());const _0x278e7b=ne(),_0x559364=(_0x278e7b-this['_velocitie'+'sTimestamp'])/(0x21e*0x7+0x22*0x52+-0x15ce);this['_velocitie'+'sTimestamp']=_0x278e7b,this['_dirtyLoca'+'l']=!(0x431+-0x10b7+0xc86),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x39b7bf['transform']['position']),this['_localRota'+'tion']['copy'](_0x39b7bf['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(0xfb+-0x1b4a+-0x1*-0x1a4f),this['_manager']['input']['velocities'+'Supported']&&_0x39b7bf['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x39b7bf['linearVelo'+'city']):_0x559364>-0x422*0x3+-0x1*-0x24c9+-0x1863&&(Zg['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x559364),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],Zg,-0xc07*0x1+0x182a+0x1*-0xc23+0.15));}else this['_velocitie'+'sAvailable']=!(0x54e*0x3+-0xfb3*0x1+-0x36);}const _0x203349=_0x5d10d9['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x203349&&(this['_dirtyRay']=!(-0x124f+-0x439+0x7*0x338),this['_rayLocal']['origin']['copy'](_0x203349['transform']['position']),this['_rayLocal']['direction']['set'](0x37*0x20+-0x216e+0x1a8e,0x2ec+0x1*0x26b7+0x13*-0x231,-(-0x24a9+-0x1*-0x823+0x1c87)),Qg['copy'](_0x203349['transform']['orientatio'+'n']),Qg['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0xe99+-0x1530+0x4*0x1a6),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0xb57af3=this['_manager']['camera']['parent'];_0xb57af3?this['_worldTran'+'sform']['mul2'](_0xb57af3['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x1a4ce4=this['_dirtyRay'];if(this['_dirtyRay']=!(0x24af+0xcaa*0x3+-0x6*0xc72),this['_manager']['camera']['parent']){const _0x5014a7=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x5014a7['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x5014a7),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x1a4ce4&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0xb4bf8d={}){_0xb4bf8d['inputSourc'+'e']=this,_0xb4bf8d['profile']=this['_xrInputSo'+'urce']['profiles'][-0xdf2*0x1+-0x54*-0x5b+-0x54e*0x3];const _0x39a917=_0xb4bf8d['callback'];_0xb4bf8d['callback']=(_0x246b80,_0xed8ed4)=>{_0xed8ed4&&this['onHitTestS'+'ourceAdd'](_0xed8ed4),_0x39a917&&_0x39a917(_0x246b80,_0xed8ed4);},this['_manager']['hitTest']['start'](_0xb4bf8d);}['onHitTestS'+'ourceAdd'](_0x2f27c1){this['_hitTestSo'+'urces']['push'](_0x2f27c1),this['fire']('hittest:ad'+'d',_0x2f27c1),_0x2f27c1['on']('result',(_0x3c8a76,_0x43d1a,_0x2300e6,_0x3a5c8c)=>{_0x2300e6===this&&this['fire']('hittest:re'+'sult',_0x2f27c1,_0x3c8a76,_0x43d1a,_0x3a5c8c);}),_0x2f27c1['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x2f27c1),this['fire']('hittest:re'+'move',_0x2f27c1);});}['onHitTestS'+'ourceRemov'+'e'](_0x3e08fa){const _0x54e63d=this['_hitTestSo'+'urces']['indexOf'](_0x3e08fa);_0x54e63d!==-(0x82*-0x7+0x1*0xf29+-0x6e*0x1b)&&this['_hitTestSo'+'urces']['splice'](_0x54e63d,0xc3+0x247f*0x1+-0x2541);}}c(xs,'EVENT_REMO'+'VE','remove'),c(xs,'EVENT_SELE'+'CT','select'),c(xs,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(xs,'EVENT_SELE'+'CTEND','selectend'),c(xs,'EVENT_SQUE'+'EZE','squeeze'),c(xs,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(xs,'EVENT_SQUE'+'EZEEND','squeezeend'),c(xs,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),c(xs,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),c(xs,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class ui extends ce{constructor(_0x419e64){var _0x2fb274,_0x313c83;super(),c(this,'manager'),c(this,'_inputSour'+'ces',[]),c(this,'_onInputSo'+'urcesChang'+'eEvt'),c(this,'velocities'+'Supported',!(-0x846+-0x2*0x6df+0x1605)),(this['manager']=_0x419e64,this['velocities'+'Supported']=!!(ye['browser']&&((_0x313c83=(_0x2fb274=window['XRPose'])==null?void(0x8*0x199+0x15e1+-0x22a9):_0x2fb274['prototype'])!=null&&_0x313c83['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x431030=>{this['_onInputSo'+'urcesChang'+'e'](_0x431030);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x1c63bb=this['manager']['session'];_0x1c63bb['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x1c63bb['addEventLi'+'stener']('select',_0x181633=>{const _0xfe00b7=this['_getByInpu'+'tSource'](_0x181633['inputSourc'+'e']);_0xfe00b7['update'](_0x181633['frame']),_0xfe00b7['fire']('select',_0x181633),this['fire']('select',_0xfe00b7,_0x181633);}),_0x1c63bb['addEventLi'+'stener']('selectstar'+'t',_0x540c16=>{const _0x2083f6=this['_getByInpu'+'tSource'](_0x540c16['inputSourc'+'e']);_0x2083f6['update'](_0x540c16['frame']),_0x2083f6['_selecting']=!(0x82e+-0x388+-0x4a6),_0x2083f6['fire']('selectstar'+'t',_0x540c16),this['fire']('selectstar'+'t',_0x2083f6,_0x540c16);}),_0x1c63bb['addEventLi'+'stener']('selectend',_0x4ab794=>{const _0x148986=this['_getByInpu'+'tSource'](_0x4ab794['inputSourc'+'e']);_0x148986['update'](_0x4ab794['frame']),_0x148986['_selecting']=!(-0x1*0x1fa5+0x1*0x16e5+0x8c1),_0x148986['fire']('selectend',_0x4ab794),this['fire']('selectend',_0x148986,_0x4ab794);}),_0x1c63bb['addEventLi'+'stener']('squeeze',_0x440331=>{const _0x6e629d=this['_getByInpu'+'tSource'](_0x440331['inputSourc'+'e']);_0x6e629d['update'](_0x440331['frame']),_0x6e629d['fire']('squeeze',_0x440331),this['fire']('squeeze',_0x6e629d,_0x440331);}),_0x1c63bb['addEventLi'+'stener']('squeezesta'+'rt',_0x2fa689=>{const _0x2863ed=this['_getByInpu'+'tSource'](_0x2fa689['inputSourc'+'e']);_0x2863ed['update'](_0x2fa689['frame']),_0x2863ed['_squeezing']=!(-0xc8f+0x15a1+-0x912),_0x2863ed['fire']('squeezesta'+'rt',_0x2fa689),this['fire']('squeezesta'+'rt',_0x2863ed,_0x2fa689);}),_0x1c63bb['addEventLi'+'stener']('squeezeend',_0x4a3623=>{const _0x86686b=this['_getByInpu'+'tSource'](_0x4a3623['inputSourc'+'e']);_0x86686b['update'](_0x4a3623['frame']),_0x86686b['_squeezing']=!(0x2669*0x1+0x1035*-0x1+0x1633*-0x1),_0x86686b['fire']('squeezeend',_0x4a3623),this['fire']('squeezeend',_0x86686b,_0x4a3623);});const _0x3d244e=_0x1c63bb['inputSourc'+'es'];for(let _0x40386c=-0x821*0x4+-0x1*0x19aa+-0x3a2e*-0x1;_0x40386c<_0x3d244e['length'];_0x40386c++)this['_addInputS'+'ource'](_0x3d244e[_0x40386c]);}['_onSession'+'End'](){let _0x323295=this['_inputSour'+'ces']['length'];for(;_0x323295--;){const _0x162b2e=this['_inputSour'+'ces'][_0x323295];this['_inputSour'+'ces']['splice'](_0x323295,-0x1409+-0x439+0x1843),_0x162b2e['fire']('remove'),this['fire']('remove',_0x162b2e);}this['fire']('destroy'),this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x179c55){for(let _0x16a50a=-0x2568+0x181a+0x2*0x6a7;_0x16a50a<_0x179c55['removed']['length'];_0x16a50a++)this['_removeInp'+'utSource'](_0x179c55['removed'][_0x16a50a]);for(let _0x39e742=0x2302+0x11e3+-0x34e5;_0x39e742<_0x179c55['added']['length'];_0x39e742++)this['_addInputS'+'ource'](_0x179c55['added'][_0x39e742]);}['_getByInpu'+'tSource'](_0x37dc74){for(let _0x198eef=0x5*0x70a+0x21bc+-0x207*0x22;_0x198eef<this['_inputSour'+'ces']['length'];_0x198eef++)if(this['_inputSour'+'ces'][_0x198eef]['inputSourc'+'e']===_0x37dc74)return this['_inputSour'+'ces'][_0x198eef];return null;}['_addInputS'+'ource'](_0x4d6bb6){if(this['_getByInpu'+'tSource'](_0x4d6bb6))return;const _0x4646bc=new xs(this['manager'],_0x4d6bb6);this['_inputSour'+'ces']['push'](_0x4646bc),this['fire']('add',_0x4646bc);}['_removeInp'+'utSource'](_0x495b52){for(let _0x36797=-0x10*-0x172+0x1*-0x11b9+-0x1*0x567;_0x36797<this['_inputSour'+'ces']['length'];_0x36797++){if(this['_inputSour'+'ces'][_0x36797]['inputSourc'+'e']!==_0x495b52)continue;const _0x45a395=this['_inputSour'+'ces'][_0x36797];this['_inputSour'+'ces']['splice'](_0x36797,0x7c*0x33+-0x26*0xb7+0x277);let _0x354ad6=_0x45a395['hitTestSou'+'rces']['length'];for(;_0x354ad6--;)_0x45a395['hitTestSou'+'rces'][_0x354ad6]['remove']();_0x45a395['fire']('remove'),this['fire']('remove',_0x45a395);return;}}['update'](_0x5ae65d){for(let _0x4ba47d=-0x1b33+0x1bb+0x1978;_0x4ba47d<this['_inputSour'+'ces']['length'];_0x4ba47d++)this['_inputSour'+'ces'][_0x4ba47d]['update'](_0x5ae65d);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}c(ui,'EVENT_ADD','add'),c(ui,'EVENT_REMO'+'VE','remove'),c(ui,'EVENT_SELE'+'CT','select'),c(ui,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ui,'EVENT_SELE'+'CTEND','selectend'),c(ui,'EVENT_SQUE'+'EZE','squeeze'),c(ui,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(ui,'EVENT_SQUE'+'EZEEND','squeezeend');const Xn=new T(),Jg=new T(),ru=new q(),ey=new q();class Pf extends ce{constructor(_0x11f271){super(),c(this,'_manager'),c(this,'_supported',!(0x1ba5+-0x128d*-0x1+-0x2e31)),c(this,'_available',!(-0x196b+-0xe0b+0x1*0x2777)),c(this,'_lightProb'+'eRequested',!(-0x23e8+0x111d+0x12cc)),c(this,'_lightProb'+'e',null),c(this,'_intensity',0x10*-0x171+-0x20a1+0x35*0x10d),c(this,'_rotation',new se()),c(this,'_color',new Y()),c(this,'_spherical'+'Harmonics',new Float32Array(-0x12*-0x17d+0x567+-0x2016)),(this['_manager']=_0x11f271,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(-0xac9*-0x2+0x1615*0x1+-0x2ba7));}['_onSession'+'End'](){this['_supported']=!(0x8b7*0x2+-0x162b+-0x2*-0x25f),this['_available']=!(0x1c1f*0x1+0x36f*-0x6+-0x4a*0x1a),this['_lightProb'+'eRequested']=!(-0x2602+0x1*0x787+0xf3e*0x2),this['_lightProb'+'e']=null;}['start'](){let _0x3eb5ee;if(this['_manager']['session']||(_0x3eb5ee=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x3eb5ee&&this['_manager']['type']!==Ao&&(_0x3eb5ee=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x3eb5ee&&!this['_supported']&&(_0x3eb5ee=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x3eb5ee&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x3eb5ee=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x3eb5ee){this['fire']('error',_0x3eb5ee);return;}this['_lightProb'+'eRequested']=!(0x89*0x40+0x3e7*0x1+0x2627*-0x1),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x3f28a4=>{const _0x46430d=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(0x661*0x3+-0x1de7+-0x1*-0xac5),this['_manager']['active']?_0x46430d&&(this['_lightProb'+'e']=_0x3f28a4):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x1eab14=>{this['_lightProb'+'eRequested']=!(0x1*-0x249b+0x2413*-0x1+0x48af*0x1),this['fire']('error',_0x1eab14);});}['end'](){this['_lightProb'+'eRequested']=!(-0x7*-0x1c9+0x3d*-0xc+0x6*-0x19b),this['_lightProb'+'e']=null,this['_available']=!(-0x141d+-0x1c1*-0x1+0x125d);}['update'](_0x1261e3){if(!this['_lightProb'+'e'])return;const _0x48adaa=_0x1261e3['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x48adaa)return;this['_available']||(this['_available']=!(0x1d*-0x79+-0x155+0x15e*0xb),this['fire']('available'));const _0x5a2fc1=_0x48adaa['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](0x1*0x215f+0x10e+-0x226c,Math['max'](_0x5a2fc1['x'],Math['max'](_0x5a2fc1['y'],_0x5a2fc1['z']))),Xn['copy'](_0x5a2fc1)['mulScalar']((-0x2*-0xc49+0x1*0x701+-0x3*0xa86)/this['_intensity']),this['_color']['set'](Xn['x'],Xn['y'],Xn['z']),Xn['set'](-0xdcc+-0x124d+0x2019*0x1,0x10d0+-0x183*-0x15+-0x308f,0x3*0x957+0x11df*-0x1+0x362*-0x3),Jg['copy'](_0x48adaa['primaryLig'+'htDirectio'+'n']),ru['setLookAt'](Jg,Xn,T['UP']),ey['setFromAxi'+'sAngle'](T['RIGHT'],-0x250f+-0x224*-0x1+0x1*0x2345),ru['mul'](ey),this['_rotation']['setFromMat'+'4'](ru),this['_spherical'+'Harmonics']['set'](_0x48adaa['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}c(Pf,'EVENT_AVAI'+'LABLE','available'),c(Pf,'EVENT_ERRO'+'R','error');let jL=0x1fda+0xb92+-0x1c*0x18d;class Rf extends ce{constructor(_0x3455b9,_0x2adc0b){super(),c(this,'_id'),c(this,'_planeDete'+'ction'),c(this,'_xrPlane'),c(this,'_lastChang'+'edTime'),c(this,'_orientati'+'on'),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_id']=++jL,this['_planeDete'+'ction']=_0x3455b9,this['_xrPlane']=_0x2adc0b,this['_lastChang'+'edTime']=_0x2adc0b['lastChange'+'dTime'],this['_orientati'+'on']=_0x2adc0b['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x5b437e){const _0x41a158=this['_planeDete'+'ction']['_manager'],_0x1e5fb4=_0x5b437e['getPose'](this['_xrPlane']['planeSpace'],_0x41a158['_reference'+'Space']);_0x1e5fb4&&(this['_position']['copy'](_0x1e5fb4['transform']['position']),this['_rotation']['copy'](_0x1e5fb4['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}c(Rf,'EVENT_REMO'+'VE','remove'),c(Rf,'EVENT_CHAN'+'GE','change');class co extends ce{constructor(_0x2dcaf1){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRPlane']),c(this,'_available',!(-0xb5b*0x2+0x8cd+-0x2*-0x6f5)),c(this,'_planesInd'+'ex',new Map()),c(this,'_planes',[]),(this['_manager']=_0x2dcaf1,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(0x1f2a+-0x1132*0x2+0x33b)&&(this['_available']=!(-0x7*0x3+0x267+-0x252),this['fire']('available'));}['_onSession'+'End'](){for(let _0x4189c5=-0x8d2+0x3*-0xaa1+0x11*0x265;_0x4189c5<this['_planes']['length'];_0x4189c5++)this['_planes'][_0x4189c5]['destroy'](),this['fire']('remove',this['_planes'][_0x4189c5]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=-0x2f1*0x3+0x2*-0xb44+-0x1*-0x1f5b,this['_available']&&(this['_available']=!(0x65*0x21+-0xc56+-0xae),this['fire']('unavailabl'+'e'));}['update'](_0x2857d4){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x2857d4['detectedPl'+'anes']['size'])this['_available']=!(0x2*0x9ad+0x61b+-0x1975),this['fire']('available');else return;}const _0x5232b9=_0x2857d4['detectedPl'+'anes'];for(const [_0x32522e,_0x272f49]of this['_planesInd'+'ex'])_0x5232b9['has'](_0x32522e)||(this['_planesInd'+'ex']['delete'](_0x32522e),this['_planes']['splice'](this['_planes']['indexOf'](_0x272f49),0x25cc+-0x2613*-0x1+-0x4bde),_0x272f49['destroy'](),this['fire']('remove',_0x272f49));for(const _0xb10cd8 of _0x5232b9){let _0xfd5086=this['_planesInd'+'ex']['get'](_0xb10cd8);_0xfd5086?_0xfd5086['update'](_0x2857d4):(_0xfd5086=new Rf(this,_0xb10cd8),this['_planesInd'+'ex']['set'](_0xb10cd8,_0xfd5086),this['_planes']['push'](_0xfd5086),_0xfd5086['update'](_0x2857d4),this['fire']('add',_0xfd5086));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}c(co,'EVENT_AVAI'+'LABLE','available'),c(co,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(co,'EVENT_ADD','add'),c(co,'EVENT_REMO'+'VE','remove');class uo extends ce{constructor(_0xd31eac,_0x44384d,_0x2559b4=null){super(),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_uuid',null),c(this,'_uuidReque'+'sts',null),(this['_anchors']=_0xd31eac,this['_xrAnchor']=_0x44384d,this['_uuid']=_0x2559b4);}['destroy'](){if(!this['_xrAnchor'])return;const _0x11ec0b=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x11ec0b,this);}['update'](_0x1d3503){if(!this['_xrAnchor'])return;const _0x5d8900=_0x1d3503['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x5d8900){if(this['_position']['equals'](_0x5d8900['transform']['position'])&&this['_rotation']['equals'](_0x5d8900['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x5d8900['transform']['position']),this['_rotation']['copy'](_0x5d8900['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x167ae2){if(!this['_anchors']['persistenc'+'e']){_0x167ae2==null||_0x167ae2(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x167ae2==null||_0x167ae2(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x167ae2&&this['_uuidReque'+'sts']['push'](_0x167ae2);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x1f8a2b=>{this['_uuid']=_0x1f8a2b,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x167ae2==null||_0x167ae2(null,_0x1f8a2b);for(const _0x4c9f62 of this['_uuidReque'+'sts'])_0x4c9f62(null,_0x1f8a2b);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x1f8a2b);})['catch'](_0x595f72=>{_0x167ae2==null||_0x167ae2(_0x595f72,null);for(const _0x3d1e57 of this['_uuidReque'+'sts'])_0x3d1e57(_0x595f72,null);this['_uuidReque'+'sts']=null;});}['forget'](_0xe275a0){if(!this['_uuid']){_0xe275a0==null||_0xe275a0(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x5ed879=>{this['_uuid']=null,_0xe275a0==null||_0xe275a0(_0x5ed879),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}c(uo,'EVENT_DEST'+'ROY','destroy'),c(uo,'EVENT_CHAN'+'GE','change'),c(uo,'EVENT_PERS'+'IST','persist'),c(uo,'EVENT_FORG'+'ET','forget');var ty;class Zn extends ce{constructor(_0x5080fd){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!window['XRAnchor']),c(this,'_available',!(-0x7c*-0x34+-0xa7c+0x1*-0xeb3)),c(this,'_checkingA'+'vailabilit'+'y',!(-0x1*0x1241+0x1d4c+-0xb0a)),c(this,'_persisten'+'ce',ye['browser']&&!!((ty=window==null?void(-0x1725+-0xce*0x25+-0x1b5*-0x1f):window['XRSession'])!=null&&ty['prototype']['restorePer'+'sistentAnc'+'hor'])),c(this,'_creationQ'+'ueue',[]),c(this,'_index',new Map()),c(this,'_indexByUu'+'id',new Map()),c(this,'_list',[]),c(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x5080fd,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){const _0x5d139f=this['manager']['session']['enabledFea'+'tures']['indexOf']('anchors')!==-(-0x3d2*-0x6+-0x1d53*-0x1+-0x343e);_0x5d139f&&(this['_available']=_0x5d139f,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(0x283*0x2+0x209a+-0x259f);for(let _0x454af8=0xa*-0x377+0x4ab*0x1+-0x1dfb*-0x1;_0x454af8<this['_creationQ'+'ueue']['length'];_0x454af8++)this['_creationQ'+'ueue'][_0x454af8]['callback']&&this['_creationQ'+'ueue'][_0x454af8]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=0x22f3+-0x69*0x3d+-0x3e*0x29,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x2a96d2=this['_list']['length'];for(;_0x2a96d2--;)this['_list'][_0x2a96d2]['destroy']();this['_list']['length']=-0x1*0x2019+-0x121e*-0x2+-0x3*0x161,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0xad606a,_0x40864e=null){const _0x188134=new uo(this,_0xad606a,_0x40864e);return this['_index']['set'](_0xad606a,_0x188134),_0x40864e&&this['_indexByUu'+'id']['set'](_0x40864e,_0x188134),this['_list']['push'](_0x188134),_0x188134['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x188134;}['_onAnchorD'+'estroy'](_0x18ef02,_0x5a9edc){this['_index']['delete'](_0x18ef02),_0x5a9edc['uuid']&&this['_indexByUu'+'id']['delete'](_0x5a9edc['uuid']);const _0x2461df=this['_list']['indexOf'](_0x5a9edc);_0x2461df!==-(-0x1468+-0x29e+-0x5*-0x49b)&&this['_list']['splice'](_0x2461df,0x1c34+0x1*0x47f+-0x20b2),this['fire']('destroy',_0x5a9edc);}['create'](_0x2dcb7e,_0x238766,_0x1a49ed){if(!this['_available']){_0x1a49ed==null||_0x1a49ed(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x2dcb7e instanceof XRHitTestResult){const _0x25ac6e=_0x2dcb7e;if(_0x1a49ed=_0x238766,!this['_supported']){_0x1a49ed==null||_0x1a49ed(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x25ac6e['createAnch'+'or']){_0x1a49ed==null||_0x1a49ed(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x25ac6e['createAnch'+'or']()['then'](_0x766add=>{const _0x5a1bc8=this['_createAnc'+'hor'](_0x766add);_0x1a49ed==null||_0x1a49ed(null,_0x5a1bc8),this['fire']('add',_0x5a1bc8);})['catch'](_0x2ea70c=>{_0x1a49ed==null||_0x1a49ed(_0x2ea70c,null),this['fire']('error',_0x2ea70c);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x2dcb7e,_0x238766),'callback':_0x1a49ed});}['restore'](_0x47177e,_0x2de63c){if(!this['_available']){_0x2de63c==null||_0x2de63c(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x2de63c==null||_0x2de63c(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x2de63c==null||_0x2de63c(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x47177e)['then'](_0x3f2ed5=>{const _0x57aa75=this['_createAnc'+'hor'](_0x3f2ed5,_0x47177e);_0x2de63c==null||_0x2de63c(null,_0x57aa75),this['fire']('add',_0x57aa75);})['catch'](_0x1bbed4=>{_0x2de63c==null||_0x2de63c(_0x1bbed4,null),this['fire']('error',_0x1bbed4);});}['forget'](_0xe88ff0,_0x5b4835){if(!this['_available']){_0x5b4835==null||_0x5b4835(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x5b4835==null||_0x5b4835(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x5b4835==null||_0x5b4835(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0xe88ff0)['then'](()=>{_0x5b4835==null||_0x5b4835(null);})['catch'](_0x27eefe=>{_0x5b4835==null||_0x5b4835(_0x27eefe),this['fire']('error',_0x27eefe);});}['update'](_0x54c325){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(-0x7a3+0x2*0x5a4+-0x1*0x3a5),_0x54c325['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x12a50a=>{_0x12a50a['delete'](),this['manager']['active']&&(this['_available']=!(0x1397*0x1+0x2b*-0x27+0xd0a*-0x1),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x44c7da=-0x2455+0xd87+-0x8b*-0x2a;_0x44c7da<this['_creationQ'+'ueue']['length'];_0x44c7da++){const _0x2d2f60=this['_creationQ'+'ueue'][_0x44c7da];_0x54c325['createAnch'+'or'](_0x2d2f60['transform'],this['manager']['_reference'+'Space'])['then'](_0x17fec1=>{_0x2d2f60['callback']&&this['_callbacks'+'Anchors']['set'](_0x17fec1,_0x2d2f60['callback']);})['catch'](_0x510bb0=>{_0x2d2f60['callback']&&_0x2d2f60['callback'](_0x510bb0,null),this['fire']('error',_0x510bb0);});}this['_creationQ'+'ueue']['length']=0x529*0x2+-0x10f8+-0x17*-0x4a;}for(const [_0x2f5272,_0x351fbb]of this['_index'])_0x54c325['trackedAnc'+'hors']['has'](_0x2f5272)||(this['_index']['delete'](_0x2f5272),_0x351fbb['destroy']());for(let _0x242a12=-0x1*0x1fd2+0x72a*0x5+0x40*-0x10;_0x242a12<this['_list']['length'];_0x242a12++)this['_list'][_0x242a12]['update'](_0x54c325);for(const _0x5ab020 of _0x54c325['trackedAnc'+'hors']){if(this['_index']['has'](_0x5ab020))continue;try{const _0x4e56aa=_0x5ab020['anchorSpac'+'e'];}catch{continue;}const _0x2bad1b=this['_createAnc'+'hor'](_0x5ab020);_0x2bad1b['update'](_0x54c325);const _0xce5b98=this['_callbacks'+'Anchors']['get'](_0x5ab020);_0xce5b98&&(this['_callbacks'+'Anchors']['delete'](_0x5ab020),_0xce5b98(null,_0x2bad1b)),this['fire']('add',_0x2bad1b);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}c(Zn,'EVENT_AVAI'+'LABLE','available'),c(Zn,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(Zn,'EVENT_ERRO'+'R','error'),c(Zn,'EVENT_ADD','add'),c(Zn,'EVENT_DEST'+'ROY','destroy');class If extends ce{constructor(_0x2e5eca,_0x2b00ef){super(),c(this,'_meshDetec'+'tion'),c(this,'_xrMesh'),c(this,'_lastChang'+'ed',0x342+0x5*-0x76a+0x21d0),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_meshDetec'+'tion']=_0x2e5eca,this['_xrMesh']=_0x2b00ef,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x266739){const _0x30cb5b=this['_meshDetec'+'tion']['_manager'],_0x473499=_0x266739['getPose'](this['_xrMesh']['meshSpace'],_0x30cb5b['_reference'+'Space']);_0x473499&&(this['_position']['copy'](_0x473499['transform']['position']),this['_rotation']['copy'](_0x473499['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}c(If,'EVENT_REMO'+'VE','remove'),c(If,'EVENT_CHAN'+'GE','change');class fo extends ce{constructor(_0x2af33e){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRMesh']),c(this,'_available',!(0x1a15+-0x138f+-0x685)),c(this,'_index',new Map()),c(this,'_list',[]),(this['_manager']=_0x2af33e,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x171414){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x171414['detectedMe'+'shes']['size'])this['_available']=!(-0x24df*0x1+0x5*0x2c5+0xe*0x1a5),this['fire']('available');else return;}for(const _0x506e71 of _0x171414['detectedMe'+'shes']){let _0x3b8c36=this['_index']['get'](_0x506e71);_0x3b8c36?_0x3b8c36['update'](_0x171414):(_0x3b8c36=new If(this,_0x506e71),this['_index']['set'](_0x506e71,_0x3b8c36),this['_list']['push'](_0x3b8c36),_0x3b8c36['update'](_0x171414),this['fire']('add',_0x3b8c36));}for(const _0xd5f9c0 of this['_index']['values']())_0x171414['detectedMe'+'shes']['has'](_0xd5f9c0['xrMesh'])||this['_removeMes'+'h'](_0xd5f9c0);}['_removeMes'+'h'](_0x17a5ed){this['_index']['delete'](_0x17a5ed['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x17a5ed),-0x1a*0x8d+0x97*0x10+0x3*0x1a1),_0x17a5ed['destroy'](),this['fire']('remove',_0x17a5ed);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x303140=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(-0x3ad+-0xa61+-0x3d*-0x3b);if(!_0x303140)return;this['_available']=_0x303140,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x5*0x48d+0x1ef2+-0x35b2);for(const _0x5dec90 of this['_index']['values']())this['_removeMes'+'h'](_0x5dec90);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}c(fo,'EVENT_AVAI'+'LABLE','available'),c(fo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(fo,'EVENT_ADD','add'),c(fo,'EVENT_REMO'+'VE','remove');class Hx extends ce{constructor(_0x16ed80,_0x3b5c46,_0xd2328a){super(),c(this,'_manager'),c(this,'_xrView'),c(this,'_positionD'+'ata',new Float32Array(0x36*-0x24+-0x121b+0x19b6)),c(this,'_viewport',new Q()),c(this,'_projMat',new q()),c(this,'_projViewO'+'ffMat',new q()),c(this,'_viewMat',new q()),c(this,'_viewOffMa'+'t',new q()),c(this,'_viewMat3',new js()),c(this,'_viewInvMa'+'t',new q()),c(this,'_viewInvOf'+'fMat',new q()),c(this,'_xrCamera',null),c(this,'_textureCo'+'lor',null),c(this,'_textureDe'+'pth',null),c(this,'_depthInfo',null),c(this,'_emptyDept'+'hBuffer',new Uint8Array(0x1*0x98b+0x1fd9+-0x2944)),c(this,'_depthMatr'+'ix',new q()),(this['_manager']=_0x16ed80,this['_xrView']=_0x3b5c46);const _0x734cbd=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new he(_0x734cbd,{'format':dr,'mipmaps':!(-0x6*0x461+-0x12a0*0x1+-0x2ce7*-0x1),'addressU':ae,'addressV':ae,'minFilter':st,'magFilter':st,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x1fb738=this['_manager']['views']['depthGpuOp'+'timized']?de:st;this['_textureDe'+'pth']=new he(_0x734cbd,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0xd2328a===0x2063*-0x1+-0x232+0x2296?-0x23c6+0x11dc+0x11ea:_0xd2328a,'mipmaps':!(0xad5+-0x130e+0x83a),'addressU':ae,'addressV':ae,'minFilter':_0x1fb738,'magFilter':_0x1fb738,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x4af6ce=-0x840+0x123f+0x9ff*-0x1;_0x4af6ce<this['_textureDe'+'pth']['_levels']['length'];_0x4af6ce++)this['_textureDe'+'pth']['_levels'][_0x4af6ce]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x734cbd['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x1906fb;return((_0x1906fb=this['_depthInfo'])==null?void(0x18ba+-0x1*-0x223f+-0x3af9):_0x1906fb['rawValueTo'+'Meters'])||0xecf+-0x1*-0xc4d+-0x1b1c;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x520cee,_0x38596d){this['_xrView']=_0x38596d,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0xaec826=_0x520cee['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0xaec826['x'],this['_viewport']['y']=_0xaec826['y'],this['_viewport']['z']=_0xaec826['width'],this['_viewport']['w']=_0xaec826['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x520cee);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x547cc9=this['_manager']['webglBindi'+'ng'];if(!_0x547cc9)return;const _0x3787f3=_0x547cc9['getCameraI'+'mage'](this['_xrCamera']);if(!_0x3787f3)return;const _0x253d0d=this['_manager']['app']['graphicsDe'+'vice'],_0x497c05=_0x253d0d['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x497c05['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x497c05['createFram'+'ebuffer']();else{const _0x5a8111=_0x497c05['COLOR_ATTA'+'CHMENT0'],_0x182d96=this['_xrCamera']['width'],_0x9c37a4=this['_xrCamera']['height'];_0x253d0d['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x497c05['framebuffe'+'rTexture2D'](_0x497c05['FRAMEBUFFE'+'R'],_0x5a8111,_0x497c05['TEXTURE_2D'],_0x3787f3,-0x26d0+0x5b*0x1d+0x1*0x1c81),_0x253d0d['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x497c05['framebuffe'+'rTexture2D'](_0x497c05['FRAMEBUFFE'+'R'],_0x5a8111,_0x497c05['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],-0x8d6+-0x1d72+-0x4c9*-0x8),_0x497c05['bindFrameb'+'uffer'](_0x497c05['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x497c05['bindFrameb'+'uffer'](_0x497c05['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x497c05['blitFrameb'+'uffer'](0xd68+-0x2103+0x2cd*0x7,_0x9c37a4,_0x182d96,0x3*0x542+-0x215d+0x1197*0x1,-0x33*-0x5+0x108+-0x207,0xa9a+-0x2f*-0xa6+0x4*-0xa45,_0x182d96,_0x9c37a4,_0x497c05['COLOR_BUFF'+'ER_BIT'],_0x497c05['NEAREST']);}}['_updateDep'+'th'](_0x4452d2){var _0x40aa5f,_0x27798e;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x5bcaca=this['_manager']['views']['depthGpuOp'+'timized'],_0x3f7362=_0x5bcaca?this['_manager']['webglBindi'+'ng']:_0x4452d2;if(!_0x3f7362){this['_depthInfo']=null;return;}const _0x2624fb=_0x3f7362['getDepthIn'+'formation'](this['_xrView']);if(!_0x2624fb){this['_depthInfo']=null;return;}let _0x3490b2=!this['_depthInfo']!=!_0x2624fb;this['_depthInfo']=_0x2624fb;const _0x217185=((_0x40aa5f=this['_depthInfo'])==null?void(-0x2328+-0x23*0xb+-0x24a9*-0x1):_0x40aa5f['width'])||-0x71b+-0x957*-0x2+0x10d*-0xb,_0x1eadba=((_0x27798e=this['_depthInfo'])==null?void(-0x1c45+0xb65+0x10e0):_0x27798e['height'])||-0x1ec7*-0x1+-0x1*-0xb17+0x14ed*-0x2;let _0x55fbe1=!(0x26f9*0x1+-0xe80+-0x1878);if((this['_textureDe'+'pth']['width']!==_0x217185||this['_textureDe'+'pth']['height']!==_0x1eadba)&&(this['_textureDe'+'pth']['_width']=_0x217185,this['_textureDe'+'pth']['_height']=_0x1eadba,_0x3490b2=!(-0x1*-0x8e6+0x3*-0xa13+0x1553),_0x55fbe1=!(-0x1d9c+-0x1d*0x1c+-0x2*-0x1064)),_0x3490b2&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x5bcaca){if(this['_depthInfo']['texture']){const _0x1065b9=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x1065b9['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x1065b9['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ii:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x1065b9['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x1065b9['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x1065b9['RED'];break;case Ci:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x1065b9['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x1065b9['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x1065b9['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(-0x1c8f*-0x1+0xa*-0x19b+0xb*-0x123);}}else this['_textureDe'+'pth']['_levels'][0x791+-0xa75+0x2e4]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][0x1630+0x4c8+-0x4*0x6be]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x55fbe1&&this['fire']('depth:resi'+'ze',_0x217185,_0x1eadba);}['updateTran'+'sforms'](_0x33c5fd){_0x33c5fd?(this['_viewInvOf'+'fMat']['mul2'](_0x33c5fd,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][0x224b*0x1+-0xabd+0x3ed*-0x6]=this['_viewInvOf'+'fMat']['data'][0x2185+0x286*-0x3+-0x19e7],this['_positionD'+'ata'][-0x1196+0x11a*0x6+0x3a9*0x3]=this['_viewInvOf'+'fMat']['data'][0x1*-0xfa9+0x397*0xa+-0x1430],this['_positionD'+'ata'][0x1523+-0x22*0x8e+-0x245]=this['_viewInvOf'+'fMat']['data'][0x1*-0x7d8+-0x10bc+0x18a2];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x518a49,_0x264f71){var _0x4f60d8;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x4f60d8=this['_depthInfo'])==null?void(-0x3f9+-0x181+0x57a):_0x4f60d8['getDepthIn'+'Meters'](_0x518a49,_0x264f71))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x3417e4=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x3417e4['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x3417e4['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}c(Hx,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class ic extends ce{constructor(_0x1690d1){super(),c(this,'_manager'),c(this,'_index',new Map()),c(this,'_indexTmp',new Map()),c(this,'_list',[]),c(this,'_supported'+'Color',ye['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),c(this,'_supported'+'Depth',ye['browser']&&!!window['XRDepthInf'+'ormation']),c(this,'_available'+'Color',!(-0x7*-0x296+0x1*0x12f7+-0x2510)),c(this,'_available'+'Depth',!(0x68c+0x1*0x26c1+-0xd*0x37c)),c(this,'_depthUsag'+'e',''),c(this,'_depthForm'+'at',''),c(this,'_depthForm'+'ats',{[Nx]:Bf,[zx]:Ci,[Ux]:Ii}),(this['_manager']=_0x1690d1,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===Bx;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x166d14,_0xf13106){for(let _0x32aaaa=0x582+-0x1f*-0x1a+0x22a*-0x4;_0x32aaaa<_0xf13106['length'];_0x32aaaa++)this['_indexTmp']['set'](_0xf13106[_0x32aaaa]['eye'],_0xf13106[_0x32aaaa]);for(const [_0x12ff87,_0x2b4e55]of this['_indexTmp']){let _0x5cb04d=this['_index']['get'](_0x12ff87);_0x5cb04d?_0x5cb04d['update'](_0x166d14,_0x2b4e55):(_0x5cb04d=new Hx(this['_manager'],_0x2b4e55,_0xf13106['length']),this['_index']['set'](_0x12ff87,_0x5cb04d),this['_list']['push'](_0x5cb04d),_0x5cb04d['update'](_0x166d14,_0x2b4e55),this['fire']('add',_0x5cb04d));}for(const [_0x48390d,_0x1c8faf]of this['_index']){if(this['_indexTmp']['has'](_0x48390d))continue;_0x1c8faf['destroy'](),this['_index']['delete'](_0x48390d);const _0x452673=this['_list']['indexOf'](_0x1c8faf);_0x452673!==-(0x1*0xd6+-0x5*0x2a1+0xc50)&&this['_list']['splice'](_0x452673,0x199c+-0x224f+0x1*0x8b4),this['fire']('remove',_0x1c8faf);}this['_indexTmp']['clear']();}['get'](_0x17a4e8){return this['_index']['get'](_0x17a4e8)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===Ao&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(-0xb*0x15+-0x1b3d*-0x1+-0x1a55),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(0x139d*0x1+0x1*-0x1b9b+-0x59*-0x17),this['_available'+'Depth'])){const _0x3d8b9b=this['_manager']['session'];this['_depthUsag'+'e']=_0x3d8b9b['depthUsage'],this['_depthForm'+'at']=_0x3d8b9b['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x486fca of this['_index']['values']())_0x486fca['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(-0x111a+-0x39+0x1154),this['_available'+'Depth']=!(-0x17e9*0x1+0x13f2+0x3f8),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=-0x20ee+0x2087+0x67*0x1;}}c(ic,'EVENT_ADD','add'),c(ic,'EVENT_REMO'+'VE','remove');class Qn extends ce{constructor(_0x59c7f7){super(),c(this,'app'),c(this,'_supported',ye['browser']&&!!navigator['xr']),c(this,'_available',{}),c(this,'_type',null),c(this,'_spaceType',null),c(this,'_session',null),c(this,'_baseLayer',null),c(this,'webglBindi'+'ng',null),c(this,'_reference'+'Space',null),c(this,'domOverlay'),c(this,'hitTest'),c(this,'imageTrack'+'ing'),c(this,'planeDetec'+'tion'),c(this,'meshDetect'+'ion'),c(this,'input'),c(this,'lightEstim'+'ation'),c(this,'views'),c(this,'anchors'),c(this,'_camera',null),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_depthNear',-0x610+0x24e5+0x36d*-0x9+0.1),c(this,'_depthFar',-0x1f9c+-0xdb6+0x313a*0x1),c(this,'_supported'+'FrameRates',null),c(this,'_width',-0xad*0x10+-0x2d6+0xda6),c(this,'_height',0x89d*0x3+0x2617+-0x3fee),c(this,'_framebuff'+'erScaleFac'+'tor',-0x2545+0x142d*0x1+-0x1119*-0x1),(this['app']=_0x59c7f7,this['_available'][VL]=!(0xa65*-0x1+0xbed+0x17*-0x11),this['_available'][GL]=!(-0x9e1+0x622+0x2*0x1e0),this['_available'][Ao]=!(0x1ddb+-0x6d9+-0x1701),this['views']=new ic(this),this['domOverlay']=new $L(this),this['hitTest']=new kr(this),this['imageTrack'+'ing']=new Vx(this),this['planeDetec'+'tion']=new co(this),this['meshDetect'+'ion']=new fo(this),this['input']=new ui(this),this['lightEstim'+'ation']=new Pf(this),this['anchors']=new Zn(this),this['views']=new ic(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)));}['destroy'](){}['start'](_0x316a2c,_0x71af2b,_0x5de9c3,_0x1b5bd9){var _0x39c0a5;let _0x740bcd=_0x1b5bd9;if(typeof _0x1b5bd9=='object'&&(_0x740bcd=_0x1b5bd9['callback']),!this['_available'][_0x71af2b]){_0x740bcd&&_0x740bcd(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x740bcd&&_0x740bcd(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x316a2c,this['_camera']['camera']['xr']=this,this['_type']=_0x71af2b,this['_spaceType']=_0x5de9c3,this['_framebuff'+'erScaleFac'+'tor']=(_0x1b5bd9==null?void(0x23d0+-0x1207+-0x1d*0x9d):_0x1b5bd9['framebuffe'+'rScaleFact'+'or'])??0xfa5+0x2f2*0xa+-0x27*0x128,this['_setClipPl'+'anes'](_0x316a2c['nearClip'],_0x316a2c['farClip']);const _0x2d2dd7={'requiredFeatures':[_0x5de9c3],'optionalFeatures':[]},_0x8c6c3=(_0x39c0a5=this['app']['graphicsDe'+'vice'])==null?void(0x1*-0xc1c+0x7e7+-0x167*-0x3):_0x39c0a5['isWebGL2'];if(_0x71af2b===Ao){if(_0x2d2dd7['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x2d2dd7['optionalFe'+'atures']['push']('hit-test'),_0x1b5bd9&&(_0x1b5bd9['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x2d2dd7['optionalFe'+'atures']['push']('image-trac'+'king'),_0x1b5bd9['planeDetec'+'tion']&&_0x2d2dd7['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x1b5bd9['meshDetect'+'ion']&&_0x2d2dd7['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x2d2dd7['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x2d2dd7['domOverlay']={'root':this['domOverlay']['root']}),_0x1b5bd9&&_0x1b5bd9['anchors']&&this['anchors']['supported']&&_0x2d2dd7['optionalFe'+'atures']['push']('anchors'),_0x1b5bd9&&_0x1b5bd9['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x2d2dd7['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x101712=[],_0x4e96fc=[];if(_0x101712['push'](Bx,WL),_0x4e96fc['push'](Ux,Nx,zx),_0x1b5bd9['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x128f93=_0x101712['indexOf'](_0x1b5bd9['depthSensi'+'ng']['usagePrefe'+'rence']);_0x128f93!==-(-0x51e+-0x14b*0x11+0x1b1a*0x1)&&_0x101712['splice'](_0x128f93,-0x2e+-0x138*0x1b+0x2117*0x1),_0x101712['unshift'](_0x1b5bd9['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x1b5bd9['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x2e8617=_0x4e96fc['indexOf'](_0x1b5bd9['depthSensi'+'ng']['dataFormat'+'Preference']);_0x2e8617!==-(0x1*0x1ccc+0x90c*0x2+-0xfa1*0x3)&&_0x4e96fc['splice'](_0x2e8617,0x2*0x2b4+0x657+-0xbbe),_0x4e96fc['unshift'](_0x1b5bd9['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x2d2dd7['depthSensi'+'ng']={'usagePreference':_0x101712,'dataFormatPreference':_0x4e96fc};}_0x8c6c3&&_0x1b5bd9&&_0x1b5bd9['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x2d2dd7['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x2d2dd7['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x1b5bd9&&_0x1b5bd9['optionalFe'+'atures']&&(_0x2d2dd7['optionalFe'+'atures']=_0x2d2dd7['optionalFe'+'atures']['concat'](_0x1b5bd9['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x532ef9,_0x31bc21)=>{if(_0x532ef9){_0x740bcd&&_0x740bcd(_0x532ef9),this['fire']('error',_0x532ef9);return;}_0x31bc21!==null&&(_0x2d2dd7['trackedIma'+'ges']=_0x31bc21),this['_onStartOp'+'tionsReady'](_0x71af2b,_0x5de9c3,_0x2d2dd7,_0x740bcd);}):this['_onStartOp'+'tionsReady'](_0x71af2b,_0x5de9c3,_0x2d2dd7,_0x740bcd);}['_onStartOp'+'tionsReady'](_0x157e13,_0x57aa57,_0x296870,_0x1d5b3b){navigator['xr']['requestSes'+'sion'](_0x157e13,_0x296870)['then'](_0x5494e4=>{this['_onSession'+'Start'](_0x5494e4,_0x57aa57,_0x1d5b3b);})['catch'](_0x1e2a96=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x1d5b3b&&_0x1d5b3b(_0x1e2a96),this['fire']('error',_0x1e2a96);});}['end'](_0x51684e){if(!this['_session']){_0x51684e&&_0x51684e(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x51684e&&this['once']('end',_0x51684e),this['_session']['end']();}['isAvailabl'+'e'](_0x24ceff){return this['_available'][_0x24ceff];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x1c8f9b in this['_available'])this['_sessionSu'+'pportCheck'](_0x1c8f9b);}['initiateRo'+'omCapture'](_0x96f2e1){if(!this['_session']){_0x96f2e1(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x96f2e1(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x96f2e1&&_0x96f2e1(null);})['catch'](_0x5b4c45=>{_0x96f2e1&&_0x96f2e1(_0x5b4c45);});}['updateTarg'+'etFrameRat'+'e'](_0x1f83b1,_0x1fad39){var _0x54b855;if(!((_0x54b855=this['_session'])!=null&&_0x54b855['updateTarg'+'etFrameRat'+'e'])){_0x1fad39==null||_0x1fad39(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x1f83b1)['then'](()=>{_0x1fad39==null||_0x1fad39();})['catch'](_0x232a7c=>{_0x1fad39==null||_0x1fad39(_0x232a7c);});}['_sessionSu'+'pportCheck'](_0x2ea5af){navigator['xr']['isSessionS'+'upported'](_0x2ea5af)['then'](_0x3456d6=>{this['_available'][_0x2ea5af]!==_0x3456d6&&(this['_available'][_0x2ea5af]=_0x3456d6,this['fire']('available',_0x2ea5af,_0x3456d6),this['fire']('available:'+_0x2ea5af,_0x3456d6));})['catch'](_0x1bfe47=>{this['fire']('error',_0x1bfe47);});}['_onSession'+'Start'](_0x572357,_0x4fe167,_0x485470){let _0x361179=!(0x23ea+0x1b63+0x2*-0x1fa6);this['_session']=_0x572357;const _0x3da7cb=()=>{this['fire']('visibility'+':change',_0x572357['visibility'+'State']);},_0x877e05=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x2bf814=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x877e05),this['_camera']['off']('set_farCli'+'p',_0x877e05),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x572357['removeEven'+'tListener']('end',_0x2bf814),_0x572357['removeEven'+'tListener']('visibility'+'change',_0x3da7cb),_0x361179||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=-0x2580+0x2d6+0x5c7*0x6,this['_height']=-0x21f6+0x91c+0xc6d*0x2,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x572357['addEventLi'+'stener']('end',_0x2bf814),_0x572357['addEventLi'+'stener']('visibility'+'change',_0x3da7cb),this['_camera']['on']('set_nearCl'+'ip',_0x877e05),this['_camera']['on']('set_farCli'+'p',_0x877e05),v['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x5d6825;this['fire']('frameratec'+'hange',(_0x5d6825=this['_session'])==null?void(-0x2d5+0x711+-0x4*0x10f):_0x5d6825['frameRate']);}),_0x572357['requestRef'+'erenceSpac'+'e'](_0x4fe167)['then'](_0xee88db=>{this['_reference'+'Space']=_0xee88db,this['app']['tick'](),_0x485470&&_0x485470(null),this['fire']('start');})['catch'](_0x16b65c=>{_0x361179=!(0x3*-0x855+-0x1ac0+0x1*0x33bf),_0x572357['end'](),_0x485470&&_0x485470(_0x16b65c),this['fire']('error',_0x16b65c);});}['_setClipPl'+'anes'](_0x35eac1,_0x1ecee3){this['_depthNear']===_0x35eac1&&this['_depthFar']===_0x1ecee3||(this['_depthNear']=_0x35eac1,this['_depthFar']=_0x1ecee3,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x39406b=this['app']['graphicsDe'+'vice'],_0x414428=_0x39406b['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x39406b['gl'],{'alpha':!(-0x136*0x1f+0x179a+-0xdf0*-0x1),'depth':!(0x5*-0x4db+-0x289*-0xd+0xb*-0xca),'stencil':!(-0x1b9c+-0x1550+0x30ec*0x1),'framebufferScaleFactor':_0x414428,'antialias':!(-0xbd+-0xda3*0x1+0xe61)}),_0x39406b!=null&&_0x39406b['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x39406b['gl']);}catch(_0x9e47ec){this['fire']('error',_0x9e47ec);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x5b48de=>{this['fire']('error',_0x5b48de);});},-0x1588+-0x204a+0x35d2);}['update'](_0x2f56ea){if(!this['_session'])return!(0x217d+0x1e55+0x1*-0x3fd1);const _0x5df2d1=_0x2f56ea['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x540d69=_0x2f56ea['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x5df2d1||this['_height']!==_0x540d69)&&(this['_width']=_0x5df2d1,this['_height']=_0x540d69,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x5df2d1,_0x540d69));const _0x538923=_0x2f56ea['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x538923)return!(-0x2311+0x22a+-0x3*-0xaf8);const _0x568cc6=this['views']['list']['length'];this['views']['update'](_0x2f56ea,_0x538923['views']);const _0x5a31f3=_0x538923['transform']['position'],_0x50c733=_0x538923['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x5a31f3['x'],_0x5a31f3['y'],_0x5a31f3['z']),this['_localRota'+'tion']['set'](_0x50c733['x'],_0x50c733['y'],_0x50c733['z'],_0x50c733['w']),_0x568cc6===0x10c0+0x7*-0x1d2+-0x3*0x156&&this['views']['list']['length']>-0x246d+0x29*0x65+0x1440){const _0x483e4b=new q(),_0x572e6e=this['views']['list'][-0x643+-0xe00+0x1443*0x1];_0x483e4b['copy'](_0x572e6e['projMat']);const _0x3c7f45=_0x483e4b['data'],_0x9dcc97=(-0x7c*0x3f+-0x7ae+0x2634)*Math['atan']((-0x2*0x9c8+0x1bf5*-0x1+0x2f86)/_0x3c7f45[0xa36+0x5ea+-0x101b*0x1])*(-0x4f5+0x2343+0x1*-0x1d9a)/Math['PI'],_0x476737=_0x3c7f45[-0x1*-0x261f+-0xbb0+-0x1a6a]/_0x3c7f45[-0x1c*-0x138+0x1217*-0x1+-0x1009],_0x5dd2a9=_0x3c7f45[0x1ed3+-0xa57*0x2+-0xa17]/(_0x3c7f45[0x161*0xf+-0x4c7*-0x1+-0x196c]+(0xbf7+-0x2614+-0x1a1e*-0x1)),_0x299036=_0x3c7f45[-0x1690+-0x7*0x3a9+0x303d]/(_0x3c7f45[-0x22b7+-0x15cf+-0x4*-0xe24]-(0x1e14+-0x2*-0x1035+0x1*-0x3e7d));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x476737,'farClip':_0x5dd2a9,'fov':_0x9dcc97,'horizontalFov':!(0x1*0x100c+0x255*0xd+-0x2b*0x114),'nearClip':_0x299036});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x2f56ea),this['_type']===Ao&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x2f56ea),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x2f56ea),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x2f56ea),this['anchors']['supported']&&this['anchors']['update'](_0x2f56ea),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x2f56ea),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x2f56ea)),this['fire']('update',_0x2f56ea),!(-0xd53+-0xd88+0x113*0x19);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x509a8a;return((_0x509a8a=this['_session'])==null?void(0x7*0x45+0x1*0x11b5+-0x1398):_0x509a8a['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x45a0b5){var _0x5baccb;(((_0x5baccb=this['_baseLayer'])==null?void(0x2667+0x5b1*-0x1+0x35*-0x9e):_0x5baccb['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>-0x12*0xb6+0x72b*-0x3+0x224e*0x1&&v['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x45a0b5);}get['fixedFovea'+'tion'](){var _0xceceae;return((_0xceceae=this['_baseLayer'])==null?void(0x842*0x4+-0x1f*0xd4+-0x75c):_0xceceae['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}c(Qn,'EVENT_AVAI'+'LABLE','available'),c(Qn,'EVENT_STAR'+'T','start'),c(Qn,'EVENT_END','end'),c(Qn,'EVENT_UPDA'+'TE','update'),c(Qn,'EVENT_ERRO'+'R','error');class dF extends qh{constructor(_0x3a64aa,_0x229682={}){super(_0x3a64aa);const _0xfa2897=new pP();_0xfa2897['graphicsDe'+'vice']=_0x229682['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x3a64aa,_0x229682),this['addCompone'+'ntSystems'](_0xfa2897),this['addResourc'+'eHandles'](_0xfa2897),_0xfa2897['elementInp'+'ut']=_0x229682['elementInp'+'ut'],_0xfa2897['keyboard']=_0x229682['keyboard'],_0xfa2897['mouse']=_0x229682['mouse'],_0xfa2897['touch']=_0x229682['touch'],_0xfa2897['gamepads']=_0x229682['gamepads'],_0xfa2897['scriptPref'+'ix']=_0x229682['scriptPref'+'ix'],_0xfa2897['assetPrefi'+'x']=_0x229682['assetPrefi'+'x'],_0xfa2897['scriptsOrd'+'er']=_0x229682['scriptsOrd'+'er'],_0xfa2897['soundManag'+'er']=new kb(),_0xfa2897['lightmappe'+'r']=vP,_0xfa2897['batchManag'+'er']=dC,_0xfa2897['xr']=Qn,this['init'](_0xfa2897);}['createDevi'+'ce'](_0x558ea2,_0x144fa5){return _0x144fa5['graphicsDe'+'viceOption'+'s']||(_0x144fa5['graphicsDe'+'viceOption'+'s']={}),ye['browser']&&navigator['xr']&&(_0x144fa5['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(-0x1e0e+0x5ad+0x1861)),_0x144fa5['graphicsDe'+'viceOption'+'s']['alpha']=_0x144fa5['graphicsDe'+'viceOption'+'s']['alpha']||!(0x1*-0x1fe3+0xc15*0x1+0xb*0x1cd),new pb(_0x558ea2,_0x144fa5['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x237aa1){_0x237aa1['componentS'+'ystems']=[mx,fR,HR,UP,qP,iI,fI,jI,KI,cD,BI,jP,cI,bI,zR,QP,DI,FI,GI,JR,$R,WI,uD];}['addResourc'+'eHandles'](_0x3bd090){_0x3bd090['resourceHa'+'ndlers']=[fD,_2,g2,y2,iL,Q2,UL,fL,j2,S2,hL,rL,A2,X2,T2,cL,q2,E2,C2,v2,mL,dL,uL,w2,$2];}}const nh=[],YL=[[],[],[]];class KL extends ds{constructor(_0xfbfc14,_0x2825df){super(_0xfbfc14),c(this,'viewBindGr'+'oups',[]),this['renderer']=_0x2825df;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x5d15eb=>{_0x5d15eb['defaultUni'+'formBuffer']['destroy'](),_0x5d15eb['destroy']();}),this['viewBindGr'+'oups']['length']=0x53b+-0x1a5f+0x1524;}['update'](_0x2bc1fb,_0x1428be,_0x5857bf,_0x38a119){this['camera']=_0x2bc1fb,this['scene']=_0x1428be,this['layers']=_0x5857bf,this['mapping']=_0x38a119;}['execute'](){const _0x3004be=this['device'],{renderer:_0x9af0f,camera:_0x53ce40,scene:_0x9ed4da,layers:_0x52540a,mapping:_0x39bac3,renderTarget:_0x1e3f5e}=this,_0x3c4c98=_0x9ed4da['layers']['layerList'],_0x56f3e7=_0x9ed4da['layers']['subLayerEn'+'abled'],_0x4865e4=_0x9ed4da['layers']['subLayerLi'+'st'];for(let _0x1336f0=-0xccd+-0xc8b*-0x3+0x1c*-0xe3;_0x1336f0<_0x3c4c98['length'];_0x1336f0++){const _0xf7d4da=_0x3c4c98[_0x1336f0];if(!(_0x52540a&&_0x52540a['indexOf'](_0xf7d4da)<-0x1*0x1409+0x48*-0x84+-0x3929*-0x1)&&_0xf7d4da['enabled']&&_0x56f3e7[_0x1336f0]&&_0xf7d4da['camerasSet']['has'](_0x53ce40['camera'])){const _0x13f9ca=_0x4865e4[_0x1336f0];G['pushGpuMar'+'ker'](_0x3004be,_0xf7d4da['name']+'('+(_0x13f9ca?'TRANSP':'OPAQUE')+')'),_0xf7d4da['_clearDept'+'hBuffer']&&_0x9af0f['clear'](_0x53ce40['camera'],!(-0x23a2+0x116+0x228d),!(-0x699*-0x1+0x4*-0x23f+0x263),!(-0x7*0x21d+-0xbe+-0xf8a*-0x1));const _0x19bb42=_0xf7d4da['meshInstan'+'ces'];for(let _0x138059=0x12c5+0x2ef+-0x56d*0x4;_0x138059<_0x19bb42['length'];_0x138059++){const _0x425c6e=_0x19bb42[_0x138059];_0x425c6e['pick']&&_0x425c6e['transparen'+'t']===_0x13f9ca&&(nh['push'](_0x425c6e),_0x39bac3['set'](_0x425c6e['id'],_0x425c6e));}nh['length']>-0x1*0x2135+-0x8*0x4b1+0x46bd&&(_0x9ed4da['clusteredL'+'ightingEna'+'bled']&&_0x9af0f['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x9af0f['setCameraU'+'niforms'](_0x53ce40['camera'],_0x1e3f5e),_0x3004be['supportsUn'+'iformBuffe'+'rs']&&_0x9af0f['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x9af0f['viewUnifor'+'mFormat'],_0x9af0f['viewBindGr'+'oupFormat'],-0x1*0x6d+-0x9ac+0xa1a),_0x9af0f['renderForw'+'ard'](_0x53ce40['camera'],_0x1e3f5e,nh,YL,Oa,_0x4b4771=>{_0x3004be['setBlendSt'+'ate'](_t['NOBLEND']);}),nh['length']=-0x139*0x17+0x55d*0x1+-0x3*-0x796),G['popGpuMark'+'er'](_0x3004be);}}}}const nu=new Set(),ZL=new Q();let uF=class{constructor(_0x46a0d6,_0x17fed7,_0x371975){c(this,'renderTarg'+'et',null),c(this,'mapping',new Map()),c(this,'deviceVali'+'d',!(-0xc45+-0x1b6+0xdfb)),(v['assert'](_0x46a0d6),this['renderer']=_0x46a0d6['renderer'],this['device']=_0x46a0d6['graphicsDe'+'vice'],this['renderPass']=new KL(this['device'],_0x46a0d6['renderer']),this['width']=-0x19db+0x5*0x206+0x1*0xfbd,this['height']=-0xb*-0xe9+0x556+-0xf59,this['resize'](_0x17fed7,_0x371975),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(0xb6f*0x2+0x8*-0x21b+-0x17*0x43);}));}['getSelecti'+'on'](_0x35efbe,_0x98f69d,_0x316266=-0x3*-0x348+0x3d*0x67+0x2262*-0x1,_0x42a0fa=-0x13*0x4d+-0x1*-0x174e+-0x8cb*0x2){const _0x1cb527=this['device'];if(_0x1cb527['isWebGPU'])return v['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];v['assert'](typeof _0x35efbe!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x98f69d=this['renderTarg'+'et']['height']-(_0x98f69d+_0x42a0fa);const _0x359668=this['sanitizeRe'+'ct'](_0x35efbe,_0x98f69d,_0x316266,_0x42a0fa);_0x1cb527['setRenderT'+'arget'](this['renderTarg'+'et']),_0x1cb527['updateBegi'+'n']();const _0x303df0=new Uint8Array((-0x1579*0x1+0x1*0x1ced+-0x770)*_0x359668['z']*_0x359668['w']);return _0x1cb527['readPixels'](_0x359668['x'],_0x359668['y'],_0x359668['z'],_0x359668['w'],_0x303df0),_0x1cb527['updateEnd'](),this['decodePixe'+'ls'](_0x303df0,this['mapping']);}['getSelecti'+'onAsync'](_0x5df50d,_0x1ac57d,_0x3af2c2=0x232a*0x1+-0x597+-0x1d92,_0x1c168f=-0x574+0x38*0x99+-0x1c03){var _0x17b01a;(_0x17b01a=this['device'])!=null&&_0x17b01a['isWebGL2']&&(_0x1ac57d=this['renderTarg'+'et']['height']-(_0x1ac57d+_0x1c168f));const _0x10f974=this['sanitizeRe'+'ct'](_0x5df50d,_0x1ac57d,_0x3af2c2,_0x1c168f);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x10f974['x'],_0x10f974['y'],_0x10f974['z'],_0x10f974['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(0x70b+0xbb1+-0x95e*0x2)})['then'](_0x4eca4d=>this['decodePixe'+'ls'](_0x4eca4d,this['mapping']));}['sanitizeRe'+'ct'](_0x3c0eeb,_0x404b29,_0x1540cb,_0x5b0110){const _0x5b794d=this['renderTarg'+'et']['width'],_0x1a7116=this['renderTarg'+'et']['height'];return _0x3c0eeb=N['clamp'](Math['floor'](_0x3c0eeb),0x1c*-0x4f+0x1*0x6a7+0x1*0x1fd,_0x5b794d-(-0xf6*-0xe+-0x1bb6+-0xe43*-0x1)),_0x404b29=N['clamp'](Math['floor'](_0x404b29),0x1c*0x34+-0x920+0x8*0x6e,_0x1a7116-(0x602+-0x163+-0x1*0x49e)),_0x1540cb=Math['floor'](Math['max'](_0x1540cb,0x1557+0x223f+-0x9*0x62d)),_0x1540cb=Math['min'](_0x1540cb,_0x5b794d-_0x3c0eeb),_0x5b0110=Math['floor'](Math['max'](_0x5b0110,-0x3*0x4d2+-0xe3*0x25+0x2f46)),_0x5b0110=Math['min'](_0x5b0110,_0x1a7116-_0x404b29),ZL['set'](_0x3c0eeb,_0x404b29,_0x1540cb,_0x5b0110);}['decodePixe'+'ls'](_0x401839,_0x16d22b){const _0x2cc370=[];if(this['deviceVali'+'d']){const _0x39f095=_0x401839['length'];for(let _0x376c58=0x5*-0x37b+-0x14af*0x1+0x186*0x19;_0x376c58<_0x39f095;_0x376c58+=0xe*0xbf+-0x10cb*-0x1+0x1b39*-0x1){const _0x382ec0=_0x401839[_0x376c58+(0x577+-0x212+-0xb*0x4f)],_0x3f1864=_0x401839[_0x376c58+(-0x18ec+-0xe3*0x1f+-0x1a35*-0x2)],_0x4bc463=_0x401839[_0x376c58+(-0x1a7d*0x1+-0x16c5+0x3144)],_0x2480ce=_0x401839[_0x376c58+(-0x64*-0x18+0x1745+-0x20a2)]<<-0x2*0x7c7+-0x1519+0x1*0x24bf|_0x382ec0<<-0x1*0x1471+-0x1669*0x1+0x1575*0x2|_0x3f1864<<-0xffe+-0x95b+-0x49*-0x59|_0x4bc463;_0x2480ce!==-(-0x1*0x6cd+-0x15ab+-0xc5*-0x25)&&nu['add'](_0x16d22b['get'](_0x2480ce));}nu['forEach'](_0x3f6dc4=>{_0x3f6dc4&&_0x2cc370['push'](_0x3f6dc4);}),nu['clear']();}return _0x2cc370;}['allocateRe'+'nderTarget'](){const _0x5023e4=new he(this['device'],{'format':Se,'width':this['width'],'height':this['height'],'mipmaps':!(0x252b+-0x26e7+0x1bd),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':'pick'});this['renderTarg'+'et']=new pt({'colorBuffer':_0x5023e4,'depth':!(-0x26ff+-0x1*-0x3d6+0x2329)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x284221,_0x27c88d,_0x322c8b){_0x322c8b instanceof Lr&&(_0x322c8b=[_0x322c8b]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x1a3204=this['renderPass'];_0x1a3204['init'](this['renderTarg'+'et']),_0x1a3204['colorOps']['clearValue']=Y['WHITE'],_0x1a3204['colorOps']['clear']=!(-0xf9*-0x1e+-0x5*0xfc+-0x1842),_0x1a3204['depthStenc'+'ilOps']['clearDepth']=!(0x1c0c+-0xf*0xfa+0x5*-0x2ae),_0x1a3204['update'](_0x284221,_0x27c88d,_0x322c8b,this['mapping']),_0x1a3204['render']();}['resize'](_0x4abddc,_0x1ee53f){this['width']=Math['floor'](_0x4abddc),this['height']=Math['floor'](_0x1ee53f);}};class QL{constructor(_0x32eca5){this['_frameInde'+'x']=-0x34e*-0x1+0x5f*0x11+-0x99d,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=0x1*0x192b+0x8*0xdf+0x392*-0x9,this['enabled']=!(0xb4b*-0x2+-0x169*-0xd+0x441),_0x32eca5['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x32eca5['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x32eca5['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x340bcc){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x28ced2=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x28ced2,this['_frameInde'+'x']=0x1261+-0xc8*-0x9+-0x1969,this['mark'](_0x340bcc);}['mark'](_0x2e4214){if(!this['enabled'])return;const _0x5a65ca=ne();if(this['_frameInde'+'x']>0x821+0x160+0x981*-0x1){const _0x528535=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0x1b7b+-0xfc6+-0xbb4)];_0x528535[-0x2*-0x140+-0xf35+0x2*0x65b]=_0x5a65ca-_0x528535[-0xd19+0xfc1*0x1+-0x2a7];}else{if(this['_timings']['length']>-0x2f5+0x1d88+-0x1a93){const _0x33a154=this['_timings'][this['_timings']['length']-(0x1*-0x14ae+-0x3*-0x47e+0x1*0x735)];_0x33a154[-0x609*0x1+-0x196d+-0x1*-0x1f77]=_0x5a65ca-_0x33a154[-0x1cea*0x1+-0x17a0+0x348b];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x2e4214,_0x5a65ca]);else{const _0x4345de=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x4345de[0x1e51+-0x116a+0x3*-0x44d]=_0x2e4214,_0x4345de[0x1*0xb35+-0x2*0xa1d+0x906]=_0x5a65ca;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](-0x741*-0x2+-0x5d*0x51+-0x39*-0x43,-(-0x1764+-0x1bb+0x1920))['map'](_0x450dc4=>_0x450dc4[0x21e*0x1+0x21cc+0x1*-0x23e9]);}}class JL{constructor(_0x12ba39){this['device']=_0x12ba39,_0x12ba39['gpuProfile'+'r']['enabled']=!(-0x7*-0x54+0x1*0x12+-0x25e),this['enabled']=!(0x521*-0x3+0x103b+-0xd8),this['unitsName']='ms',this['decimalPla'+'ces']=-0x2321+0x18de+0xa44,this['_timings']=[];}get['timings'](){return this['_timings'][0x1*-0x2102+-0x7*-0xc8+0x96*0x2f]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class eF{constructor(_0x4c8ed1,_0x2617de,_0x5ec7fb,_0x295468,_0xad7d41){this['app']=_0x4c8ed1,this['values']=[],this['statNames']=_0x2617de,this['statNames']['length']>0x7*0x4b1+-0x267a+-0x3*-0x1e2&&(this['statNames']['length']=0x59*-0x7+0x25*-0x52+-0xb7*-0x14),this['unitsName']=_0x295468,this['decimalPla'+'ces']=_0x5ec7fb,this['multiplier']=_0xad7d41||-0x1039*-0x1+-0x86d*-0x2+0x2*-0x1089;const _0x424ce7=(_0x325b26,_0x529bb9)=>_0x325b26['split']('.')['reduce']((_0x149ea8,_0x3fe9e4)=>_0x149ea8?_0x149ea8[_0x3fe9e4]:null,_0x529bb9||this);_0x4c8ed1['on']('frameupdat'+'e',_0x5dfc6c=>{for(let _0xc01b0c=-0x32d*-0x6+0x106+0xa0a*-0x2;_0xc01b0c<this['statNames']['length'];_0xc01b0c++)this['values'][_0xc01b0c]=_0x424ce7(this['statNames'][_0xc01b0c],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class au{constructor(_0x34334e,_0x577937,_0x812178,_0x3694df,_0x21d43a){this['app']=_0x577937,this['name']=_0x34334e,this['device']=_0x577937['graphicsDe'+'vice'],this['timer']=_0x21d43a,this['watermark']=_0x812178,this['enabled']=!(-0x14*-0x1bc+0x1da7+0x1572*-0x3),this['textRefres'+'hRate']=_0x3694df,this['avgTotal']=0x2596+-0xca7+0x1eb*-0xd,this['avgTimer']=0x4bf+-0x384*-0x2+0x9*-0x14f,this['avgCount']=-0x6*0x49b+-0x245f+0x4001,this['timingText']='',this['texture']=null,this['yOffset']=0x12f*-0x11+0x2461+-0x1042,this['cursor']=0x21a9+0xadf*-0x1+0x2*-0xb65,this['sample']=new Uint8ClampedArray(0x91e+0x1*-0xb7b+-0xcb*-0x3),this['sample']['set']([-0x1*-0x10e8+0xe1e+-0x1f06,0x1*0x22c1+-0x1d*0x4+0x224d*-0x1,-0x1*-0xa16+0x2036+-0x2a4c,0x13a1+-0x91e*0x1+-0x984]),this['counter']=0x3e8*-0x8+-0x1930+-0x2b*-0x150,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0xb55869){const _0x4c2b3a=this['timer']['timings'],_0x1999cd=_0x4c2b3a['reduce']((_0x22c8c8,_0x2c64ad)=>_0x22c8c8+_0x2c64ad,0x22b3+-0x1*-0x17f+-0x2432);if(this['avgTotal']+=_0x1999cd,this['avgTimer']+=_0xb55869,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=-0x1a*-0x12b+0x2*0x587+-0x1*0x296c,this['avgTotal']=0x1225+-0x1545+0x50*0xa,this['avgCount']=0x754+-0x425+-0x32f),this['enabled']){let _0x1291f8=0x4*0x54e+-0x41*-0x65+-0x9*0x535;const _0x4073f6=(-0x5e7+0xc7*0x21+-0x1*0x13bf+0.5)*this['watermark'];for(let _0x50a291=-0x156+0x1*0x1233+0x10dd*-0x1;_0x50a291<_0x4c2b3a['length'];++_0x50a291)_0x1291f8+=Math['floor'](_0x4c2b3a[_0x50a291]/_0x4073f6*(0x262+-0x53b+-0x3*-0x148)),this['sample'][_0x50a291]=_0x1291f8;this['sample'][-0xfd*-0x4+-0x1d7+-0x10d*0x2]=this['watermark']/_0x4073f6*(-0x9cc+-0x1a1f+-0x1275*-0x2),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(-0x16f+0x22f1+-0x6*0x595)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=0x231e+-0xcd4+-0x1*0x164a);}}['render'](_0x56aa09,_0x48aef9,_0x436268,_0x1bf11d,_0x4621fd){_0x56aa09['quad'](_0x48aef9+_0x1bf11d,_0x436268,-_0x1bf11d,_0x4621fd,this['enabled']?this['cursor']:-0xa*0x72+0xe*0x9e+-0x4*0x10c,this['enabled']?-0x1a4+0x1422+-0x127e+0.5+this['yOffset']:this['texture']['height']-(0x1*0x1d99+-0x708*-0x2+-0x2ba8),-_0x1bf11d,0x1af4+-0xac3+-0x5*0x33d,this['texture'],-0x1*0x751+-0xba6+-0x5*-0x3cb);}}class tF{constructor(_0x42f5a6,_0x1fac81){const _0x5204d2=_0x9ecd58=>{_0x9ecd58['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x9ecd58['textAlign']='left',_0x9ecd58['textBaseli'+'ne']='alphabetic';},_0x37a94=_0x1d344d=>_0x1d344d==='.'||_0x1d344d['length']===0x2*0xef9+-0x857*0x3+-0x4ec&&_0x1d344d['charCodeAt'](0x216d+0x1*-0xaad+-0x1c*0xd0)>=-0xf7+-0x25e8*0x1+0x270f&&_0x1d344d['charCodeAt'](0x1b56+0x617+-0x216d*0x1)<=-0x1521+0x15e5+-0x8b,_0x308d60=document['createElem'+'ent']('canvas'),_0x2aba4c=_0x308d60['getContext']('2d',{'alpha':!(-0xf34*-0x2+-0xb*-0x18+-0x3ee*0x8)});_0x5204d2(_0x2aba4c);const _0x43d2c1=new Map(),_0x13d638=0x27*0x35+-0x2601+-0x1c3*-0x11,_0x1cae58=0xc03+-0xfb*-0x11+-0x1aae;let _0x2600cf=_0x13d638,_0x6e6f6c=_0x13d638;_0x1fac81['forEach'](_0x141347=>{const _0x4f4227=_0x2aba4c['measureTex'+'t'](_0x141347),_0x57ccd3=Math['ceil'](-_0x4f4227['actualBoun'+'dingBoxLef'+'t']),_0x2f925a=Math['ceil'](_0x4f4227['actualBoun'+'dingBoxRig'+'ht']),_0x2ed7bd=Math['ceil'](_0x4f4227['actualBoun'+'dingBoxAsc'+'ent']),_0x181c75=Math['ceil'](_0x4f4227['actualBoun'+'dingBoxDes'+'cent']),_0x2a6f33=_0x57ccd3+_0x2f925a,_0x3a659d=_0x2ed7bd+_0x181c75;_0x2600cf+_0x2a6f33+_0x13d638>=_0x1cae58&&(_0x2600cf=_0x13d638,_0x6e6f6c+=-0x4fd+0x1e92+-0x1985*0x1),_0x43d2c1['set'](_0x141347,{'l':_0x57ccd3,'r':_0x2f925a,'a':_0x2ed7bd,'d':_0x181c75,'w':_0x2a6f33,'h':_0x3a659d,'x':_0x2600cf,'y':_0x6e6f6c}),_0x2600cf+=_0x2a6f33+_0x13d638;}),_0x308d60['width']=0x1*0x1ac7+-0x21eb+0x3c*0x27,_0x308d60['height']=N['nextPowerO'+'fTwo'](_0x6e6f6c+(0x346*0x2+-0x15c2+0xf46)+_0x13d638),_0x5204d2(_0x2aba4c),_0x2aba4c['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x2aba4c['fillRect'](-0x1*0x1d09+-0x61a*-0x3+0xabb,0x8*-0x3b7+0x1b1+-0x59b*-0x5,_0x308d60['width'],_0x308d60['height']),_0x43d2c1['forEach']((_0xb07ba6,_0x2af7ee)=>{_0x2aba4c['fillStyle']=_0x37a94(_0x2af7ee)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x2aba4c['fillText'](_0x2af7ee,_0xb07ba6['x']-_0xb07ba6['l'],_0xb07ba6['y']+_0xb07ba6['a']);}),this['placements']=_0x43d2c1;const _0x311580=_0x2aba4c['getImageDa'+'ta'](0x1d88+0x463*-0x1+0x1925*-0x1,0x6*-0x399+-0x2300+0x3896,_0x308d60['width'],_0x308d60['height'])['data'];for(let _0x2fa0a1=0x1cd*0x1+0x1e5f*-0x1+0x1c92;_0x2fa0a1<_0x311580['length'];_0x2fa0a1+=0x2*-0x493+-0xcb5*-0x2+-0x1040)_0x311580[_0x2fa0a1+(-0x1*0x1a41+-0x760+0x21a4)]=_0x311580[_0x2fa0a1+(-0xfa3*-0x2+0x169f+-0x35e5)],_0x311580[_0x2fa0a1+(0x1125+-0x7cd+0x34*-0x2e)]=-0x14d6+0x16*-0xd6+0x2839,_0x311580[_0x2fa0a1+(-0x391*0x1+0xb43+0x7b1*-0x1)]=0x1*0x16ae+-0x1*0x425+-0x8c5*0x2,_0x311580[_0x2fa0a1+(0x1*0x16a3+0xe58+-0x3*0xc53)]=0x124c*-0x2+0x26ca+-0x133;this['texture']=new he(_0x42f5a6,{'name':'mini-stats'+'-word-atla'+'s','width':_0x308d60['width'],'height':_0x308d60['height'],'mipmaps':!(0x17f3+-0x190c+0x11a),'minFilter':de,'magFilter':de,'levels':[_0x311580]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x5f2193,_0x3e533c,_0x37dce4,_0x5cf69c){const _0x3d110d=this['placements']['get'](_0x3e533c);return _0x3d110d?(_0x5f2193['quad'](_0x37dce4+_0x3d110d['l']-(0x209c*-0x1+0xf55+0x1148),_0x5cf69c-_0x3d110d['d']+(-0x1ae3+0x1f77+-0x493),_0x3d110d['w']+(-0x2400+0xc53+-0xe*-0x1b1)*(-0xa4c+-0x20a1+-0x17b*-0x1d),_0x3d110d['h']+(0x1085*-0x1+0x2182+0x43f*-0x4)*(-0x20cf*0x1+-0x463*-0x3+0x13a8*0x1),_0x3d110d['x']-(-0x2*0xb47+0x4f*-0x59+-0x1903*-0x2),this['texture']['height']-_0x3d110d['y']-_0x3d110d['h']-(0x25b7+0x1e1c+-0x43d2),void(-0x17c1*-0x1+-0x2d2+-0x14ef),void(0x23c5+0x1*0x2201+-0x45c6),this['texture'],0x7ff+0x5b8+-0xdb6),_0x3d110d['w']):0x2b3*-0x1+0x1d11+0x7d*-0x36;}}const sF='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20xy,'+'\x20word\x20flag'+'\x0aattribute'+'\x20vec4\x20vert'+'ex_texCoor'+'d0;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20tex'+'ture\x20space'+'\x20uv,\x20norma'+'lized\x20uv\x0a\x0a'+'varying\x20ve'+'c4\x20uv0;\x0ava'+'rying\x20floa'+'t\x20wordFlag'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position.'+'xy\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20uv0\x20=\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20w'+'ordFlag\x20=\x20'+'vertex_pos'+'ition.z;\x0a}',iF='\x0avarying\x20v'+'ec4\x20uv0;\x0av'+'arying\x20flo'+'at\x20wordFla'+'g;\x0a\x0aunifor'+'m\x20vec4\x20clr'+';\x0auniform\x20'+'sampler2D\x20'+'graphTex;\x0a'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0av'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20gra'+'phSample\x20='+'\x20texture2D'+'(graphTex,'+'\x20uv0.xy);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'graph;\x0a\x20\x20\x20'+'\x20if\x20(uv0.w'+'\x20<\x20graphSa'+'mple.r)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.g)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4(0.2'+',\x200.7,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20else\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.b)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.2,\x200.7,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4(0.0,'+'\x200.0,\x200.0,'+'\x201.0\x20-\x200.2'+'5\x20*\x20sin(uv'+'0.w\x20*\x203.14'+'159));\x0a\x0a\x20\x20'+'\x20\x20vec4\x20wor'+'ds\x20=\x20textu'+'re2D(words'+'Tex,\x20vec2('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'wordFlag)\x20'+'*\x20clr;\x0a}';class rF{constructor(_0x536a79,_0x5011df=0x1*0x93b+-0x89f*0x1+0x164){const _0x4279d4=new Et(_0x536a79,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':ns,'components':0x4,'type':Ee}]),_0x3c06d1=new Uint16Array(_0x5011df*(-0x2121+-0x1c23+-0x1e*-0x20b));for(let _0x5e7e0c=0x1d9a+0xa9*-0x34+0x4ba;_0x5e7e0c<_0x5011df;++_0x5e7e0c)_0x3c06d1[_0x5e7e0c*(-0x17c6+-0x850+0x201c)+(-0x196f+-0xb6d*-0x1+0xe02)]=_0x5e7e0c*(0x1*0x13f3+0x1*-0x12b2+-0x13d),_0x3c06d1[_0x5e7e0c*(-0x1*-0x1d61+0x15*-0x123+-0x57c)+(0x1d6*0x5+-0xd*-0x7+-0x988)]=_0x5e7e0c*(-0x5e5*-0x1+0x1669*0x1+0xe25*-0x2)+(0x10ac+-0xa*-0x21f+0x25e1*-0x1),_0x3c06d1[_0x5e7e0c*(-0x961+0x83*-0x1c+-0x87*-0x2d)+(0x1fc3+-0x21*0x3d+-0x17e4)]=_0x5e7e0c*(0xfc6+0xd6d*-0x1+-0x255)+(-0x9*0x1bb+-0x321*0x2+0x1*0x15d7),_0x3c06d1[_0x5e7e0c*(0x2198+0xbb3*0x3+-0x44ab)+(-0x1cab*0x1+-0x13*0x2d+0x2005)]=_0x5e7e0c*(0x18f6+0x13*-0x191+0x1*0x4d1),_0x3c06d1[_0x5e7e0c*(-0x963+-0x24*0x65+0x179d)+(0x19d0+0x2186+-0x3b52)]=_0x5e7e0c*(0x2*0xb3e+0x21e2*-0x1+0xb6a)+(-0x1285*-0x1+0x1*0x20f9+-0x337c),_0x3c06d1[_0x5e7e0c*(-0x25f4+-0x1b3b*-0x1+-0x189*-0x7)+(0x541+-0x794+0x258)]=_0x5e7e0c*(0x25e4+-0x3*0xc37+-0x13b)+(0xd*0x26a+0x1be8+-0x3b47);this['device']=_0x536a79,this['buffer']=new os(_0x536a79,_0x4279d4,_0x5011df*(0x1*-0x18f5+-0x1703+0x2ffc),{'usage':uy}),this['data']=new Float32Array(this['buffer']['numBytes']/(-0x49b*0x7+-0x1703*0x1+0x3744)),this['indexBuffe'+'r']=new lr(_0x536a79,Pi,_0x5011df*(-0x103b+-0x23d*-0xa+-0x621),jt,_0x3c06d1),this['prim']={'type':Ms,'indexed':!(0xd8*-0x10+-0x723*0x3+-0x1b*-0x14b),'base':0x0,'count':0x0},this['quads']=0x218*-0x8+0xc25+0x3*0x189,this['mesh']=new Ie(_0x536a79),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][-0x20c4+0x1605+0x3*0x395]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0xa58469=new Ra({'uniqueName':'MiniStats','vertexCode':sF,'fragmentCode':iF});this['material']=_0xa58469,_0xa58469['cull']=mt,_0xa58469['depthState']=as['NODEPTH'],_0xa58469['blendState']=new _t(!(0x201f*0x1+0x22cc+-0x42eb),Lt,dc,uc,Lt,at,at),_0xa58469['update'](),this['meshInstan'+'ce']=new Le(this['mesh'],_0xa58469,new De('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(0x8ac+-0x13*0x65+-0x129)},this['targetSize']={'width':_0x536a79['width'],'height':_0x536a79['height']};}['quad'](_0x5535c7,_0x4e7b52,_0x37bb2b,_0xe2691a,_0x3d1b2b,_0xa879bc,_0x4946c3,_0x2d9c9d,_0xa07ebe,_0x42c4a2=-0x2c8+-0xba1*-0x1+-0x8d9){const _0x21cbe9=this['targetSize']['width'],_0x240886=this['targetSize']['height'],_0x5715eb=_0x5535c7/_0x21cbe9,_0x2124ce=_0x4e7b52/_0x240886,_0xa6fe5b=(_0x5535c7+_0x37bb2b)/_0x21cbe9,_0x43983d=(_0x4e7b52+_0xe2691a)/_0x240886,_0xce9f74=_0xa07ebe['width'],_0x20c3bd=_0xa07ebe['height'],_0x15548c=_0x3d1b2b/_0xce9f74,_0x4105d7=_0xa879bc/_0x20c3bd,_0x3b2761=(_0x3d1b2b+(_0x4946c3??_0x37bb2b))/_0xce9f74,_0x40e8d4=(_0xa879bc+(_0x2d9c9d??_0xe2691a))/_0x20c3bd;this['data']['set']([_0x5715eb,_0x2124ce,_0x42c4a2,_0x15548c,_0x4105d7,0x1d03*0x1+-0x17e*0x2+-0x1a07,0x1*0x21c2+0x2266+-0x4428,_0xa6fe5b,_0x2124ce,_0x42c4a2,_0x3b2761,_0x4105d7,-0x103a*-0x1+-0x25d8+0x159f,-0x5*-0x587+-0x1129+-0xa7a,_0xa6fe5b,_0x43983d,_0x42c4a2,_0x3b2761,_0x40e8d4,-0x3*-0x3b9+0x1*-0x1613+0xae9,-0x32b*-0x1+0x60b*-0x2+0x8ec,_0x5715eb,_0x43983d,_0x42c4a2,_0x15548c,_0x40e8d4,-0x8*0x496+0x1*0xb08+0x19a8,0xef4+-0x1*-0x625+-0x1518],(0x1bde+-0x2*-0x7bf+-0x8*0x56b)*(0xcba+-0x2fc+0x33d*-0x3)*this['quads']),this['quads']++,this['prim']['count']+=0x18d+0x3a*-0x27+0x74f;}['startFrame'](){this['quads']=-0x79*0x9+-0x100b*-0x1+-0xbca,this['prim']['count']=0x18f8+0x13*0x10d+-0x2cef,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0xdea43d,_0x3ffaab,_0x47a232,_0x39cb46,_0x245f8e,_0xc01bcb){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x245f8e,-0xb36+-0xc2*0x22+0x24fa),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x47a232),this['material']['setParamet'+'er']('wordsTex',_0x39cb46),_0xdea43d['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x3ffaab);}}class Wx{constructor(_0x2ead8e,_0x42934a){const _0xe0d2f8=_0x2ead8e['graphicsDe'+'vice'];_0x42934a=_0x42934a||Wx['getDefault'+'Options'](),this['initGraphs'](_0x2ead8e,_0xe0d2f8,_0x42934a);const _0x1e4fb1=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0xde009c=>_0xde009c['name']))['concat'](_0x42934a['stats']?_0x42934a['stats']['map'](_0x1f8da1=>_0x1f8da1['unitsName']):[])['filter'](_0x2474c9=>!!_0x2474c9));this['wordAtlas']=new tF(_0xe0d2f8,_0x1e4fb1),this['sizes']=_0x42934a['sizes'],this['_activeSiz'+'eIndex']=_0x42934a['startSizeI'+'ndex'];const _0x1f9ec7=document['createElem'+'ent']('div');_0x1f9ec7['setAttribu'+'te']('id','mini-stats'),_0x1f9ec7['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',document['body']['appendChil'+'d'](_0x1f9ec7),_0x1f9ec7['addEventLi'+'stener']('mouseenter',_0x44efd4=>{this['opacity']=-0x803+-0x1d36+0x253a;}),_0x1f9ec7['addEventLi'+'stener']('mouseleave',_0x408d5d=>{this['opacity']=0x1*-0x21ce+-0x1339+-0xa9b*-0x5+0.7;}),_0x1f9ec7['addEventLi'+'stener']('click',_0x13d456=>{_0x13d456['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(0x1*-0x1b2e+-0x1*0x1725+0x2*0x192a))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0xe0d2f8['on']('resizecanv'+'as',this['updateDiv'],this),_0xe0d2f8['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x2ead8e['on']('postrender',this['postRender'],this),this['app']=_0x2ead8e,this['drawLayer']=_0x2ead8e['scene']['layers']['getLayerBy'+'Id'](tl),this['device']=_0xe0d2f8,this['render2d']=new rF(_0xe0d2f8),this['div']=_0x1f9ec7,this['width']=-0x19ef+-0x1a6b*-0x1+0x1*-0x7c,this['height']=0x1*0x1b21+-0x9a6*-0x4+-0x41b9,this['gspacing']=0x1b7*0x7+0x701*0x5+0x22*-0x162,this['clr']=[0xe70+0x254a+0x33b9*-0x1,0x1*0x1454+-0x2590+0x113d,-0x6*0x267+0xac0+-0x3*-0x139,0x14cf+-0x26*-0x5+0x158d*-0x1+0.5],this['_enabled']=!(0x1*-0x18db+-0x1b29+0xd01*0x4),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x1b432d=>_0x1b432d['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(-0x9b7+-0x1871*0x1+0x2229)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(0x1e19+-0x59*0x7+-0x1baa)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(0x2194+-0x215e*-0x1+-0x42f2)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(-0x1ce0+-0x10c7+-0x2da7*-0x1),'watermark':0x21},'gpu':{'enabled':!(-0x1e7f+0x18d6*-0x1+0x3755),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x1f3e37){this['_activeSiz'+'eIndex']=_0x1f3e37,this['gspacing']=this['sizes'][_0x1f3e37]['spacing'],this['resize'](this['sizes'][_0x1f3e37]['width'],this['sizes'][_0x1f3e37]['height'],this['sizes'][_0x1f3e37]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x3f0a4c){this['clr'][0x2f2+-0x2f9*0xb+-0x7f*-0x3c]=_0x3f0a4c;}get['opacity'](){return this['clr'][0x1*0x25ac+0x2158+-0x4701];}get['overallHei'+'ght'](){const _0x325752=this['graphs'],_0x1dd4bc=this['gspacing'];return this['height']*_0x325752['length']+_0x1dd4bc*(_0x325752['length']-(-0x1*0xe8f+-0x82b*0x4+-0x2*-0x179e));}set['enabled'](_0x1105c8){if(_0x1105c8!==this['_enabled']){this['_enabled']=_0x1105c8;for(let _0x5c6bd2=0x12b3+-0x2*-0x1af+-0x1611;_0x5c6bd2<this['graphs']['length'];++_0x5c6bd2)this['graphs'][_0x5c6bd2]['enabled']=_0x1105c8,this['graphs'][_0x5c6bd2]['timer']['enabled']=_0x1105c8;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x3848b5,_0x2b83d8,_0x148cc9){if(this['graphs']=[],_0x148cc9['cpu']['enabled']){const _0x5a1c2f=new QL(_0x3848b5),_0x36b749=new au('CPU',_0x3848b5,_0x148cc9['cpu']['watermark'],_0x148cc9['textRefres'+'hRate'],_0x5a1c2f);this['graphs']['push'](_0x36b749);}if(_0x148cc9['gpu']['enabled']){const _0x2c50a8=new JL(_0x2b83d8),_0x5b23d0=new au('GPU',_0x3848b5,_0x148cc9['gpu']['watermark'],_0x148cc9['textRefres'+'hRate'],_0x2c50a8);this['graphs']['push'](_0x5b23d0);}_0x148cc9['stats']&&_0x148cc9['stats']['forEach'](_0x308b7e=>{const _0x4fa0f3=new eF(_0x3848b5,_0x308b7e['stats'],_0x308b7e['decimalPla'+'ces'],_0x308b7e['unitsName'],_0x308b7e['multiplier']),_0xb926ab=new au(_0x308b7e['name'],_0x3848b5,_0x308b7e['watermark'],_0x148cc9['textRefres'+'hRate'],_0x4fa0f3);this['graphs']['push'](_0xb926ab);});const _0xdf85ff=_0x148cc9['sizes']['reduce']((_0x243335,_0x198eda)=>_0x198eda['width']>_0x243335?_0x198eda['width']:_0x243335,0x1742+-0x1346+0x1*-0x3fc);this['texture']=new he(_0x2b83d8,{'name':'mini-stats'+'-graph-tex'+'ture','width':N['nextPowerO'+'fTwo'](_0xdf85ff),'height':N['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(0x304*-0x1+0x1*-0x21fa+-0x24ff*-0x1),'minFilter':de,'magFilter':de,'addressU':tt,'addressV':tt}),this['graphs']['forEach']((_0xbc8107,_0x511681)=>{_0xbc8107['texture']=this['texture'],_0xbc8107['yOffset']=_0x511681;});}['render'](){const _0x5a4522=this['graphs'],_0x43b93b=this['wordAtlas'],_0x118f27=this['render2d'],_0x5112c9=this['width'],_0x55dac9=this['height'],_0x4399b6=this['gspacing'];_0x118f27['startFrame']();for(let _0x57c25f=-0x531*-0x3+0xc87*-0x1+0xc3*-0x4;_0x57c25f<_0x5a4522['length'];++_0x57c25f){const _0x3dcebe=_0x5a4522[_0x57c25f];let _0x2319b8=_0x57c25f*(_0x55dac9+_0x4399b6);_0x3dcebe['render'](_0x118f27,-0x7b7*0x1+-0x700+0xeb7*0x1,_0x2319b8,_0x5112c9,_0x55dac9);let _0x563957=-0xd*0x169+0x1fbb+-0xd65;_0x2319b8+=_0x55dac9-(0x2*-0x1348+0x2322+0x37b),_0x563957+=_0x43b93b['render'](_0x118f27,_0x3dcebe['name'],_0x563957,_0x2319b8)+(-0x2449+0x2705+-0x2b2);const _0x3b3170=_0x3dcebe['timingText'];for(let _0x445bfa=0x1*-0xb2f+-0x11*-0x18a+0x5*-0x2ff;_0x445bfa<_0x3b3170['length'];++_0x445bfa)_0x563957+=_0x43b93b['render'](_0x118f27,_0x3b3170[_0x445bfa],_0x563957,_0x2319b8);_0x3dcebe['timer']['unitsName']&&(_0x563957+=0x4*-0x166+-0x224b+0x27e6,_0x43b93b['render'](_0x118f27,_0x3dcebe['timer']['unitsName'],_0x563957,_0x2319b8));}_0x118f27['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x55dac9);}['resize'](_0x2f0281,_0x385ee8,_0x2c0c8b){const _0xa0647c=this['graphs'];for(let _0x3de177=0x3a4+-0x172f+-0x138b*-0x1;_0x3de177<_0xa0647c['length'];++_0x3de177)_0xa0647c[_0x3de177]['enabled']=_0x2c0c8b;this['width']=_0x2f0281,this['height']=_0x385ee8,this['updateDiv']();}['updateDiv'](){const _0x42b17e=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x42b17e['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x42b17e['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px';}['loseContex'+'t'](){this['graphs']['forEach'](_0x27f03d=>_0x27f03d['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}class pF extends Ht{constructor(){super(...arguments),c(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),c(this,'controller'+'s',new Map()),c(this,'preEntitie'+'s',new Map()),c(this,'destroy',()=>{var _0x346bf4,_0x598928,_0x5ec64e;const _0xd726b4=this['app'];(_0x346bf4=this['controller'+'s'])==null||_0x346bf4['forEach'](_0x1c727f=>{var _0x16784a;_0xd726b4['root']['removeChil'+'d'](_0x1c727f==null?void(0x151d+-0x31*-0x6d+0x14fd*-0x2):_0x1c727f['entity']),(_0x16784a=_0x1c727f['entity'])==null||_0x16784a['destroy']();}),(_0x598928=this['controller'+'s'])==null||_0x598928['clear'](),(_0x5ec64e=this['preEntitie'+'s'])==null||_0x5ec64e['forEach'](_0x3caf9a=>{_0xd726b4['root']['removeChil'+'d'](_0x3caf9a),_0x3caf9a==null||_0x3caf9a['destroy']();});const _0x34bd32=()=>{const _0x4ed453=_0xd726b4['root']['findByName']('Armature');for(_0x4ed453&&_0xd726b4['root']['removeChil'+'d'](_0x4ed453);_0xd726b4['root']['findByName']('Armature');)_0x34bd32();};_0x34bd32();});}['initialize'](){if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation');return;}this['app']['xr']['input']['on']('add',async _0x35d3cc=>{var _0xddab2f;if(!((_0xddab2f=_0x35d3cc['profiles'])!=null&&_0xddab2f['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x512bcf=_0x35d3cc['profiles']['map'](async _0x2b0c91=>{var _0x1c9575;const _0xb8b49e=this['basePath']+'/'+_0x2b0c91+('/profile.j'+'son');try{const _0x188adf=await fetch(_0xb8b49e);if(!_0x188adf['ok'])return null;const _0x46058a=await _0x188adf['json'](),_0x11daf9=((_0x1c9575=_0x46058a['layouts'][_0x35d3cc['handedness']])==null?void(0x1b8d+-0x1*0x12b3+-0x8da):_0x1c9575['assetPath'])||'',_0x265648=this['basePath']+'/'+_0x46058a['profileId']+'/'+_0x35d3cc['handedness']+_0x11daf9['replace'](/^\/?(left|right)/,''),_0x13c20c=await new Promise((_0x23ac47,_0x483865)=>{this['app']['assets']['loadFromUr'+'l'](_0x265648,'container',(_0x17d9f1,_0x2cf058)=>{_0x17d9f1?_0x483865(_0x17d9f1):_0x23ac47(_0x2cf058);});});return{'profileId':_0x2b0c91,'asset':_0x13c20c};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x2b0c91),null;}}),_0x2ae90c=(await Promise['all'](_0x512bcf))['find'](_0xfa4776=>_0xfa4776!==null);if(_0x2ae90c){const {asset:_0xcbc08f}=_0x2ae90c,_0x3b3687=_0xcbc08f['resource']['instantiat'+'eRenderEnt'+'ity']();this['app']['root']['addChild'](_0x3b3687),this['preEntitie'+'s']['set'](_0x35d3cc,_0x3b3687);const _0x50d385=new Map();if(_0x35d3cc['hand'])for(const _0x24375d of _0x35d3cc['hand']['joints']){const _0x47dffd=_0x3b3687['findByName'](_0x24375d['id']);_0x47dffd&&_0x50d385['set'](_0x24375d,_0x47dffd);}this['controller'+'s']['set'](_0x35d3cc,{'entity':_0x3b3687,'jointMap':_0x50d385});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['app']['xr']['input']['on']('remove',_0xa5a3cb=>{var _0xbbfbfe;const _0xb47362=this['controller'+'s']['get'](_0xa5a3cb);_0xb47362&&((_0xbbfbfe=_0xb47362['entity'])==null||_0xbbfbfe['destroy'](),this['app']['root']['removeChil'+'d'](_0xb47362==null?void(-0x1910+-0xc37*0x2+-0x9e6*-0x5):_0xb47362['entity']),this['controller'+'s']['delete'](_0xa5a3cb));}),this['app']['xr']['input']['on']('destroy',this['destroy']);}['update'](_0x264109){var _0x30478d;if((_0x30478d=this['app']['xr'])!=null&&_0x30478d['active']){for(const [_0x5f4e0d,{entity:_0x3f4914,jointMap:_0x4f3f59}]of this['controller'+'s'])if(_0x5f4e0d['hand']){for(const [_0x10e53c,_0x304735]of _0x4f3f59)_0x304735['setPositio'+'n'](_0x10e53c['getPositio'+'n']()),_0x304735['setRotatio'+'n'](_0x10e53c['getRotatio'+'n']());}else _0x3f4914['setPositio'+'n'](_0x5f4e0d['getPositio'+'n']()),_0x3f4914['setRotatio'+'n'](_0x5f4e0d['getRotatio'+'n']());}}}export{dF as A,_e as B,Y as C,pF as D,We as E,$1 as F,hh as G,ex as H,Wx as I,ce as J,Fm as K,vp as L,bl as M,X as N,uF as P,se as Q,G_ as R,Dt as S,f0 as T,T as V,ay as W,GL as X,Q as a,AL as b,W as c,le as d,sl as e,ua as f,Gs as g,Ap as h,aF as i,oF as j,lF as k,hF as l,cF as m,Nh as n,Bh as o,zh as p,Iu as q,lh as r,Hr as s,Wr as t,Ts as u,cs as v,SI as w,$n as x,M0 as y,q as z};function _0x10aa8f(_0x5d98df){function _0x37535b(_0x37d9e6){if(typeof _0x37d9e6==='string')return function(_0x280dda){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x37d9e6/_0x37d9e6)['length']!==-0x103*-0x10+0x31*-0xb+-0x44*0x35||_0x37d9e6%(0x4ef*0x3+0x1*0x1ec7+-0x2d80)===0x107f+0x1a09+-0x2a88?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x37535b(++_0x37d9e6);}try{if(_0x5d98df)return _0x37535b;else _0x37535b(0x1068+-0x1025*0x1+-0x43);}catch(_0x3bc732){}}
